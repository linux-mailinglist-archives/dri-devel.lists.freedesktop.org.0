Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 4DFD010FC8
	for <lists+dri-devel@lfdr.de>; Thu,  2 May 2019 01:04:24 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D21BB892BF;
	Wed,  1 May 2019 23:04:21 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-oi1-x24a.google.com (mail-oi1-x24a.google.com
 [IPv6:2607:f8b0:4864:20::24a])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0429A892BF
 for <dri-devel@lists.freedesktop.org>; Wed,  1 May 2019 23:04:20 +0000 (UTC)
Received: by mail-oi1-x24a.google.com with SMTP id s184so325704oig.19
 for <dri-devel@lists.freedesktop.org>; Wed, 01 May 2019 16:04:19 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:date:in-reply-to:message-id:mime-version
 :references:subject:from:to:cc;
 bh=OoB1Q1B1OKTnVM2sKsSTjgsrzyoIYKMiukBZ0PgDZ9o=;
 b=bN6rnzJZwRH6gypbJIyg5sd+clko54iOdPraljsQOCNTJ3xHD/lP6ayFAOGNTXgbKl
 g90HMO2Ny4RGwcQAloG0g91rSQFCOSdv7lJ6t6rtfneKMIzaNvwW6RfWGhgYHO1XmMFt
 T5HSwl0Mb5jMbXsBBJsekzYho/1VfiG574l/rTOuOdANxBEvyu/ubhyByMBDj0hs4LGM
 glyo9R36F8d7o1JCjAX0j0lenG3NEi6CwBeG6mPomHxAMf8hZUqMfhl9N9e78NZ4eyCi
 91h4tZbv2/SGPfkz+rNYU5JfQig0DKMk4lDDz9ytO0LV4S2beZNq3/V+8B8kL/pTZvDp
 EDcQ==
X-Gm-Message-State: APjAAAXYHSGWuHIBez9Q+EfM7vlVK8H8KR6RYjjLt++GQZigSNns4MKe
 ifWU4x3NN7HIT6bucbtmyVbLKoyAXnLZ0sgbOz5kgQ==
X-Google-Smtp-Source: APXvYqxKMbUJy/xMLdXAeTw/fGE6G1FNY/xDT4Lln76o9R+/ouozcRUb5NrhTFvEA3khcNSkJVq0eQ+XTBqWt1COBuiXjg==
X-Received: by 2002:a9d:6b93:: with SMTP id b19mr372226otq.313.1556751859218; 
 Wed, 01 May 2019 16:04:19 -0700 (PDT)
Date: Wed,  1 May 2019 16:01:18 -0700
In-Reply-To: <20190501230126.229218-1-brendanhiggins@google.com>
Message-Id: <20190501230126.229218-10-brendanhiggins@google.com>
Mime-Version: 1.0
References: <20190501230126.229218-1-brendanhiggins@google.com>
X-Mailer: git-send-email 2.21.0.593.g511ec345e18-goog
Subject: [PATCH v2 09/17] kunit: test: add tests for kunit test abort
From: Brendan Higgins <brendanhiggins@google.com>
To: frowand.list@gmail.com, gregkh@linuxfoundation.org, keescook@google.com, 
 kieran.bingham@ideasonboard.com, mcgrof@kernel.org, robh@kernel.org, 
 sboyd@kernel.org, shuah@kernel.org
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=google.com; s=20161025;
 h=date:in-reply-to:message-id:mime-version:references:subject:from:to
 :cc;
 bh=OoB1Q1B1OKTnVM2sKsSTjgsrzyoIYKMiukBZ0PgDZ9o=;
 b=awoM/T0AoqG0wYtJorCPvm2AZEqZUzUs5qq1R8YR0UNkjXyRX24zF53GZ1UD6KiV+8
 WoKSipt9phdWDdeo/zDMvjArUywT8O+1qVccX5uPZnOzbzBfB+8h4jIyjzJGGBdg4n7N
 imrAzBCt4voZvz3O+nOIMytkIln4VOZ1LvzQprZkOv9VhoaC6AXS8ZkpWrt4ZerM7ljw
 vSmK9aGxj4/37leOcxAYhpXvhHLCXqqaZL5x06G9q7/18UfD7rqvqJjZVKB+iD2XROqO
 KzY2suaK26r7WlIWBRrvFuLTnnO37Kovql58dhGKMkYPGEiPzC9D5ieJu5MBGxBF7KnL
 22pw==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: pmladek@suse.com, linux-doc@vger.kernel.org, amir73il@gmail.com,
 Brendan Higgins <brendanhiggins@google.com>, dri-devel@lists.freedesktop.org,
 Alexander.Levin@microsoft.com, linux-kselftest@vger.kernel.org,
 linux-nvdimm@lists.01.org, khilman@baylibre.com, knut.omang@oracle.com,
 wfg@linux.intel.com, joel@jms.id.au, rientjes@google.com, jdike@addtoit.com,
 dan.carpenter@oracle.com, devicetree@vger.kernel.org,
 linux-kbuild@vger.kernel.org, Tim.Bird@sony.com, linux-um@lists.infradead.org,
 rostedt@goodmis.org, julia.lawall@lip6.fr, dan.j.williams@intel.com,
 kunit-dev@googlegroups.com, richard@nod.at, linux-kernel@vger.kernel.org,
 mpe@ellerman.id.au, linux-fsdevel@vger.kernel.org, logang@deltatee.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QWRkIEtVbml0IHRlc3RzIGZvciB0aGUgS1VuaXQgdGVzdCBhYm9ydCBtZWNoYW5pc20gKHNlZSBw
cmVjZWRpbmcKY29tbWl0KS4gQWRkIHRlc3RzIGJvdGggZm9yIGdlbmVyYWwgdHJ5IGNhdGNoIG1l
Y2hhbmlzbSBhcyB3ZWxsIGFzCm5vbi1hcmNoaXRlY3R1cmUgc3BlY2lmaWMgbWVjaGFuaXNtLgoK
U2lnbmVkLW9mZi1ieTogQnJlbmRhbiBIaWdnaW5zIDxicmVuZGFuaGlnZ2luc0Bnb29nbGUuY29t
PgotLS0KIGt1bml0L01ha2VmaWxlICAgIHwgICAzICstCiBrdW5pdC90ZXN0LXRlc3QuYyB8IDEz
NSArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrCiAyIGZpbGVz
IGNoYW5nZWQsIDEzNyBpbnNlcnRpb25zKCspLCAxIGRlbGV0aW9uKC0pCiBjcmVhdGUgbW9kZSAx
MDA2NDQga3VuaXQvdGVzdC10ZXN0LmMKCmRpZmYgLS1naXQgYS9rdW5pdC9NYWtlZmlsZSBiL2t1
bml0L01ha2VmaWxlCmluZGV4IDFmNzY4MGNmYTExYWQuLjUzMzM1NTg2N2FiZDIgMTAwNjQ0Ci0t
LSBhL2t1bml0L01ha2VmaWxlCisrKyBiL2t1bml0L01ha2VmaWxlCkBAIC0zLDYgKzMsNyBAQCBv
YmotJChDT05GSUdfS1VOSVQpICs9CQkJdGVzdC5vIFwKIAkJCQkJa3VuaXQtc3RyZWFtLm8gXAog
CQkJCQl0cnktY2F0Y2gubwogCi1vYmotJChDT05GSUdfS1VOSVRfVEVTVCkgKz0JCXN0cmluZy1z
dHJlYW0tdGVzdC5vCitvYmotJChDT05GSUdfS1VOSVRfVEVTVCkgKz0JCXRlc3QtdGVzdC5vIFwK
KwkJCQkJc3RyaW5nLXN0cmVhbS10ZXN0Lm8KIAogb2JqLSQoQ09ORklHX0tVTklUX0VYQU1QTEVf
VEVTVCkgKz0JZXhhbXBsZS10ZXN0Lm8KZGlmZiAtLWdpdCBhL2t1bml0L3Rlc3QtdGVzdC5jIGIv
a3VuaXQvdGVzdC10ZXN0LmMKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAw
MC4uYzgxYWU2ZWZiOTU5ZgotLS0gL2Rldi9udWxsCisrKyBiL2t1bml0L3Rlc3QtdGVzdC5jCkBA
IC0wLDAgKzEsMTM1IEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMAorLyoK
KyAqIEtVbml0IHRlc3QgZm9yIGNvcmUgdGVzdCBpbmZyYXN0cnVjdHVyZS4KKyAqCisgKiBDb3B5
cmlnaHQgKEMpIDIwMTksIEdvb2dsZSBMTEMuCisgKiBBdXRob3I6IEJyZW5kYW4gSGlnZ2lucyA8
YnJlbmRhbmhpZ2dpbnNAZ29vZ2xlLmNvbT4KKyAqLworI2luY2x1ZGUgPGt1bml0L3Rlc3QuaD4K
Kworc3RydWN0IGt1bml0X3RyeV9jYXRjaF90ZXN0X2NvbnRleHQgeworCXN0cnVjdCBrdW5pdF90
cnlfY2F0Y2ggKnRyeV9jYXRjaDsKKwlib29sIGZ1bmN0aW9uX2NhbGxlZDsKK307CisKK3ZvaWQg
a3VuaXRfdGVzdF9zdWNjZXNzZnVsX3RyeSh2b2lkICpkYXRhKQoreworCXN0cnVjdCBrdW5pdCAq
dGVzdCA9IGRhdGE7CisJc3RydWN0IGt1bml0X3RyeV9jYXRjaF90ZXN0X2NvbnRleHQgKmN0eCA9
IHRlc3QtPnByaXY7CisKKwljdHgtPmZ1bmN0aW9uX2NhbGxlZCA9IHRydWU7Cit9CisKK3ZvaWQg
a3VuaXRfdGVzdF9ub19jYXRjaCh2b2lkICpkYXRhKQoreworCXN0cnVjdCBrdW5pdCAqdGVzdCA9
IGRhdGE7CisKKwlLVU5JVF9GQUlMKHRlc3QsICJDYXRjaCBzaG91bGQgbm90IGJlIGNhbGxlZC5c
biIpOworfQorCitzdGF0aWMgdm9pZCBrdW5pdF90ZXN0X3RyeV9jYXRjaF9zdWNjZXNzZnVsX3Ry
eV9ub19jYXRjaChzdHJ1Y3Qga3VuaXQgKnRlc3QpCit7CisJc3RydWN0IGt1bml0X3RyeV9jYXRj
aF90ZXN0X2NvbnRleHQgKmN0eCA9IHRlc3QtPnByaXY7CisJc3RydWN0IGt1bml0X3RyeV9jYXRj
aCAqdHJ5X2NhdGNoID0gY3R4LT50cnlfY2F0Y2g7CisKKwlrdW5pdF90cnlfY2F0Y2hfaW5pdCh0
cnlfY2F0Y2gsCisJCQkgICAgIHRlc3QsCisJCQkgICAgIGt1bml0X3Rlc3Rfc3VjY2Vzc2Z1bF90
cnksCisJCQkgICAgIGt1bml0X3Rlc3Rfbm9fY2F0Y2gpOworCWt1bml0X3RyeV9jYXRjaF9ydW4o
dHJ5X2NhdGNoLCB0ZXN0KTsKKworCUtVTklUX0VYUEVDVF9UUlVFKHRlc3QsIGN0eC0+ZnVuY3Rp
b25fY2FsbGVkKTsKK30KKwordm9pZCBrdW5pdF90ZXN0X3Vuc3VjY2Vzc2Z1bF90cnkodm9pZCAq
ZGF0YSkKK3sKKwlzdHJ1Y3Qga3VuaXQgKnRlc3QgPSBkYXRhOworCXN0cnVjdCBrdW5pdF90cnlf
Y2F0Y2hfdGVzdF9jb250ZXh0ICpjdHggPSB0ZXN0LT5wcml2OworCXN0cnVjdCBrdW5pdF90cnlf
Y2F0Y2ggKnRyeV9jYXRjaCA9IGN0eC0+dHJ5X2NhdGNoOworCisJa3VuaXRfdHJ5X2NhdGNoX3Ro
cm93KHRyeV9jYXRjaCk7CisJS1VOSVRfRkFJTCh0ZXN0LCAiVGhpcyBsaW5lIHNob3VsZCBuZXZl
ciBiZSByZWFjaGVkLlxuIik7Cit9CisKK3ZvaWQga3VuaXRfdGVzdF9jYXRjaCh2b2lkICpkYXRh
KQoreworCXN0cnVjdCBrdW5pdCAqdGVzdCA9IGRhdGE7CisJc3RydWN0IGt1bml0X3RyeV9jYXRj
aF90ZXN0X2NvbnRleHQgKmN0eCA9IHRlc3QtPnByaXY7CisKKwljdHgtPmZ1bmN0aW9uX2NhbGxl
ZCA9IHRydWU7Cit9CisKK3N0YXRpYyB2b2lkIGt1bml0X3Rlc3RfdHJ5X2NhdGNoX3Vuc3VjY2Vz
c2Z1bF90cnlfZG9lc19jYXRjaChzdHJ1Y3Qga3VuaXQgKnRlc3QpCit7CisJc3RydWN0IGt1bml0
X3RyeV9jYXRjaF90ZXN0X2NvbnRleHQgKmN0eCA9IHRlc3QtPnByaXY7CisJc3RydWN0IGt1bml0
X3RyeV9jYXRjaCAqdHJ5X2NhdGNoID0gY3R4LT50cnlfY2F0Y2g7CisKKwlrdW5pdF90cnlfY2F0
Y2hfaW5pdCh0cnlfY2F0Y2gsCisJCQkgICAgIHRlc3QsCisJCQkgICAgIGt1bml0X3Rlc3RfdW5z
dWNjZXNzZnVsX3RyeSwKKwkJCSAgICAga3VuaXRfdGVzdF9jYXRjaCk7CisJa3VuaXRfdHJ5X2Nh
dGNoX3J1bih0cnlfY2F0Y2gsIHRlc3QpOworCisJS1VOSVRfRVhQRUNUX1RSVUUodGVzdCwgY3R4
LT5mdW5jdGlvbl9jYWxsZWQpOworfQorCitzdGF0aWMgdm9pZCBrdW5pdF90ZXN0X2dlbmVyaWNf
dHJ5X2NhdGNoX3N1Y2Nlc3NmdWxfdHJ5X25vX2NhdGNoKAorCQlzdHJ1Y3Qga3VuaXQgKnRlc3Qp
Cit7CisJc3RydWN0IGt1bml0X3RyeV9jYXRjaF90ZXN0X2NvbnRleHQgKmN0eCA9IHRlc3QtPnBy
aXY7CisJc3RydWN0IGt1bml0X3RyeV9jYXRjaCAqdHJ5X2NhdGNoID0gY3R4LT50cnlfY2F0Y2g7
CisKKwl0cnlfY2F0Y2gtPnRlc3QgPSB0ZXN0OworCWt1bml0X2dlbmVyaWNfdHJ5X2NhdGNoX2lu
aXQodHJ5X2NhdGNoKTsKKwl0cnlfY2F0Y2gtPnRyeSA9IGt1bml0X3Rlc3Rfc3VjY2Vzc2Z1bF90
cnk7CisJdHJ5X2NhdGNoLT5jYXRjaCA9IGt1bml0X3Rlc3Rfbm9fY2F0Y2g7CisKKwlrdW5pdF90
cnlfY2F0Y2hfcnVuKHRyeV9jYXRjaCwgdGVzdCk7CisKKwlLVU5JVF9FWFBFQ1RfVFJVRSh0ZXN0
LCBjdHgtPmZ1bmN0aW9uX2NhbGxlZCk7Cit9CisKK3N0YXRpYyB2b2lkIGt1bml0X3Rlc3RfZ2Vu
ZXJpY190cnlfY2F0Y2hfdW5zdWNjZXNzZnVsX3RyeV9kb2VzX2NhdGNoKAorCQlzdHJ1Y3Qga3Vu
aXQgKnRlc3QpCit7CisJc3RydWN0IGt1bml0X3RyeV9jYXRjaF90ZXN0X2NvbnRleHQgKmN0eCA9
IHRlc3QtPnByaXY7CisJc3RydWN0IGt1bml0X3RyeV9jYXRjaCAqdHJ5X2NhdGNoID0gY3R4LT50
cnlfY2F0Y2g7CisKKwl0cnlfY2F0Y2gtPnRlc3QgPSB0ZXN0OworCWt1bml0X2dlbmVyaWNfdHJ5
X2NhdGNoX2luaXQodHJ5X2NhdGNoKTsKKwl0cnlfY2F0Y2gtPnRyeSA9IGt1bml0X3Rlc3RfdW5z
dWNjZXNzZnVsX3RyeTsKKwl0cnlfY2F0Y2gtPmNhdGNoID0ga3VuaXRfdGVzdF9jYXRjaDsKKwor
CWt1bml0X3RyeV9jYXRjaF9ydW4odHJ5X2NhdGNoLCB0ZXN0KTsKKworCUtVTklUX0VYUEVDVF9U
UlVFKHRlc3QsIGN0eC0+ZnVuY3Rpb25fY2FsbGVkKTsKK30KKworc3RhdGljIGludCBrdW5pdF90
cnlfY2F0Y2hfdGVzdF9pbml0KHN0cnVjdCBrdW5pdCAqdGVzdCkKK3sKKwlzdHJ1Y3Qga3VuaXRf
dHJ5X2NhdGNoX3Rlc3RfY29udGV4dCAqY3R4OworCisJY3R4ID0ga3VuaXRfa3phbGxvYyh0ZXN0
LCBzaXplb2YoKmN0eCksIEdGUF9LRVJORUwpOworCXRlc3QtPnByaXYgPSBjdHg7CisKKwljdHgt
PnRyeV9jYXRjaCA9IGt1bml0X2ttYWxsb2ModGVzdCwKKwkJCQkgICAgICAgc2l6ZW9mKCpjdHgt
PnRyeV9jYXRjaCksCisJCQkJICAgICAgIEdGUF9LRVJORUwpOworCisJcmV0dXJuIDA7Cit9CisK
K3N0YXRpYyBzdHJ1Y3Qga3VuaXRfY2FzZSBrdW5pdF90cnlfY2F0Y2hfdGVzdF9jYXNlc1tdID0g
eworCUtVTklUX0NBU0Uoa3VuaXRfdGVzdF90cnlfY2F0Y2hfc3VjY2Vzc2Z1bF90cnlfbm9fY2F0
Y2gpLAorCUtVTklUX0NBU0Uoa3VuaXRfdGVzdF90cnlfY2F0Y2hfdW5zdWNjZXNzZnVsX3RyeV9k
b2VzX2NhdGNoKSwKKwlLVU5JVF9DQVNFKGt1bml0X3Rlc3RfZ2VuZXJpY190cnlfY2F0Y2hfc3Vj
Y2Vzc2Z1bF90cnlfbm9fY2F0Y2gpLAorCUtVTklUX0NBU0Uoa3VuaXRfdGVzdF9nZW5lcmljX3Ry
eV9jYXRjaF91bnN1Y2Nlc3NmdWxfdHJ5X2RvZXNfY2F0Y2gpLAorCXt9LAorfTsKKworc3RhdGlj
IHN0cnVjdCBrdW5pdF9tb2R1bGUga3VuaXRfdHJ5X2NhdGNoX3Rlc3RfbW9kdWxlID0geworCS5u
YW1lID0gImt1bml0LXRyeS1jYXRjaC10ZXN0IiwKKwkuaW5pdCA9IGt1bml0X3RyeV9jYXRjaF90
ZXN0X2luaXQsCisJLnRlc3RfY2FzZXMgPSBrdW5pdF90cnlfY2F0Y2hfdGVzdF9jYXNlcywKK307
Cittb2R1bGVfdGVzdChrdW5pdF90cnlfY2F0Y2hfdGVzdF9tb2R1bGUpOwotLSAKMi4yMS4wLjU5
My5nNTExZWMzNDVlMTgtZ29vZwoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRl
c2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8v
ZHJpLWRldmVs
