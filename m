Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 17E72301C49
	for <lists+dri-devel@lfdr.de>; Sun, 24 Jan 2021 14:39:00 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 5801589DE1;
	Sun, 24 Jan 2021 13:38:58 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail.kernel.org (mail.kernel.org [198.145.29.99])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 9C48489DE1
 for <dri-devel@lists.freedesktop.org>; Sun, 24 Jan 2021 13:38:56 +0000 (UTC)
Received: by mail.kernel.org (Postfix) with ESMTPSA id DCC6622D6E;
 Sun, 24 Jan 2021 13:38:55 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=linuxfoundation.org;
 s=korg; t=1611495536;
 bh=4MjTIIKkbcNxtXyFcyjrMcE7pOnmpSz/60wMBtSuOHs=;
 h=Subject:To:Cc:From:Date:From;
 b=ht/Z3UKeYSheBEJgprSmRLi7ulud4ZfvijiM9MNV1z4VrLkICJsHyoV2LJceVg2j8
 A70ly7dxebdpSMw0ZtI/lmCeueAIEbBgXy5quMmTYryBkcAf/o3MDS7hSfJxCzNxya
 mVTrRUARrB/A3N5VaKnuvRkU00q2ZwUjYmyGAt68=
Subject: Patch "drm/syncobj: Fix use-after-free" has been added to the
 5.10-stable tree
To: airlied@linux.ie, christian.koenig@amd.com, daniel.vetter@ffwll.ch,
 daniel.vetter@intel.com, daniel@ffwll.ch, dri-devel@lists.freedesktop.org,
 gregkh@linuxfoundation.org, lionel.g.landwerlin@intel.com,
 maarten.lankhorst@linux.intel.com, mripard@kernel.org, tzimmermann@suse.de
From: <gregkh@linuxfoundation.org>
Date: Sun, 24 Jan 2021 14:37:02 +0100
Message-ID: <161149542219161@kroah.com>
MIME-Version: 1.0
X-stable: commit
X-Patchwork-Hint: ignore 
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: stable-commits@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

ClRoaXMgaXMgYSBub3RlIHRvIGxldCB5b3Uga25vdyB0aGF0IEkndmUganVzdCBhZGRlZCB0aGUg
cGF0Y2ggdGl0bGVkCgogICAgZHJtL3N5bmNvYmo6IEZpeCB1c2UtYWZ0ZXItZnJlZQoKdG8gdGhl
IDUuMTAtc3RhYmxlIHRyZWUgd2hpY2ggY2FuIGJlIGZvdW5kIGF0OgogICAgaHR0cDovL3d3dy5r
ZXJuZWwub3JnL2dpdC8/cD1saW51eC9rZXJuZWwvZ2l0L3N0YWJsZS9zdGFibGUtcXVldWUuZ2l0
O2E9c3VtbWFyeQoKVGhlIGZpbGVuYW1lIG9mIHRoZSBwYXRjaCBpczoKICAgICBkcm0tc3luY29i
ai1maXgtdXNlLWFmdGVyLWZyZWUucGF0Y2gKYW5kIGl0IGNhbiBiZSBmb3VuZCBpbiB0aGUgcXVl
dWUtNS4xMCBzdWJkaXJlY3RvcnkuCgpJZiB5b3UsIG9yIGFueW9uZSBlbHNlLCBmZWVscyBpdCBz
aG91bGQgbm90IGJlIGFkZGVkIHRvIHRoZSBzdGFibGUgdHJlZSwKcGxlYXNlIGxldCA8c3RhYmxl
QHZnZXIua2VybmVsLm9yZz4ga25vdyBhYm91dCBpdC4KCgpGcm9tIGEzN2VlZjYzYmM5ZTE2ZTA2
MzYxYjUzOWU1MjgwNTgxNDZhZjgwYWIgTW9uIFNlcCAxNyAwMDowMDowMCAyMDAxCkZyb206IERh
bmllbCBWZXR0ZXIgPGRhbmllbC52ZXR0ZXJAZmZ3bGwuY2g+CkRhdGU6IFR1ZSwgMTkgSmFuIDIw
MjEgMTQ6MDM6MTggKzAxMDAKU3ViamVjdDogZHJtL3N5bmNvYmo6IEZpeCB1c2UtYWZ0ZXItZnJl
ZQpNSU1FLVZlcnNpb246IDEuMApDb250ZW50LVR5cGU6IHRleHQvcGxhaW47IGNoYXJzZXQ9VVRG
LTgKQ29udGVudC1UcmFuc2Zlci1FbmNvZGluZzogOGJpdAoKRnJvbTogRGFuaWVsIFZldHRlciA8
ZGFuaWVsLnZldHRlckBmZndsbC5jaD4KCmNvbW1pdCBhMzdlZWY2M2JjOWUxNmUwNjM2MWI1Mzll
NTI4MDU4MTQ2YWY4MGFiIHVwc3RyZWFtLgoKV2hpbGUgcmV2aWV3aW5nIENocmlzdGlhbidzIGFu
bm90YXRpb24gcGF0Y2ggSSBub3RpY2VkIHRoYXQgd2UgaGF2ZSBhCnVzZXItYWZ0ZXItZnJlZSBm
b3IgdGhlIFdBSVRfRk9SX1NVQk1JVCBjYXNlOiBXZSBkcm9wIHRoZSBzeW5jb2JqCnJlZmVyZW5j
ZSBiZWZvcmUgd2UndmUgY29tcGxldGVkIHRoZSB3YWl0aW5nLgoKT2YgY291cnNlIHVzdWFsbHkg
dGhlcmUncyBub3RoaW5nIGJhZCBoYXBwZW5pbmcgaGVyZSBzaW5jZSB1c2Vyc3BhY2UKa2VlcHMg
dGhlIHJlZmVyZW5jZSwgYnV0IHdlIGNhbid0IHJlbHkgb24gdXNlcnNwYWNlIHRvIHBsYXkgbmlj
ZSBoZXJlIQoKU2lnbmVkLW9mZi1ieTogRGFuaWVsIFZldHRlciA8ZGFuaWVsLnZldHRlckBpbnRl
bC5jb20+CkZpeGVzOiBiYzljODBmZTAxYTIgKCJkcm0vc3luY29iajogdXNlIHRoZSB0aW1lbGlu
ZSBwb2ludCBpbiBkcm1fc3luY29ial9maW5kX2ZlbmNlIHY0IikKUmV2aWV3ZWQtYnk6IENocmlz
dGlhbiBLw7ZuaWcgPGNocmlzdGlhbi5rb2VuaWdAYW1kLmNvbT4KQ2M6IENocmlzdGlhbiBLw7Zu
aWcgPGNocmlzdGlhbi5rb2VuaWdAYW1kLmNvbT4KQ2M6IExpb25lbCBMYW5kd2VybGluIDxsaW9u
ZWwuZy5sYW5kd2VybGluQGludGVsLmNvbT4KQ2M6IE1hYXJ0ZW4gTGFua2hvcnN0IDxtYWFydGVu
Lmxhbmtob3JzdEBsaW51eC5pbnRlbC5jb20+CkNjOiBNYXhpbWUgUmlwYXJkIDxtcmlwYXJkQGtl
cm5lbC5vcmc+CkNjOiBUaG9tYXMgWmltbWVybWFubiA8dHppbW1lcm1hbm5Ac3VzZS5kZT4KQ2M6
IERhdmlkIEFpcmxpZSA8YWlybGllZEBsaW51eC5pZT4KQ2M6IERhbmllbCBWZXR0ZXIgPGRhbmll
bEBmZndsbC5jaD4KQ2M6IGRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKQ2M6IDxzdGFi
bGVAdmdlci5rZXJuZWwub3JnPiAjIHY1LjIrCkxpbms6IGh0dHBzOi8vcGF0Y2h3b3JrLmZyZWVk
ZXNrdG9wLm9yZy9wYXRjaC9tc2dpZC8yMDIxMDExOTEzMDMxOC42MTUxNDUtMS1kYW5pZWwudmV0
dGVyQGZmd2xsLmNoClNpZ25lZC1vZmYtYnk6IEdyZWcgS3JvYWgtSGFydG1hbiA8Z3JlZ2toQGxp
bnV4Zm91bmRhdGlvbi5vcmc+CgotLS0KIGRyaXZlcnMvZ3B1L2RybS9kcm1fc3luY29iai5jIHwg
ICAgOCArKysrKy0tLQogMSBmaWxlIGNoYW5nZWQsIDUgaW5zZXJ0aW9ucygrKSwgMyBkZWxldGlv
bnMoLSkKCi0tLSBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fc3luY29iai5jCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS9kcm1fc3luY29iai5jCkBAIC0zODgsMTkgKzM4OCwxOCBAQCBpbnQgZHJtX3N5bmNv
YmpfZmluZF9mZW5jZShzdHJ1Y3QgZHJtX2ZpCiAJCXJldHVybiAtRU5PRU5UOwogCiAJKmZlbmNl
ID0gZHJtX3N5bmNvYmpfZmVuY2VfZ2V0KHN5bmNvYmopOwotCWRybV9zeW5jb2JqX3B1dChzeW5j
b2JqKTsKIAogCWlmICgqZmVuY2UpIHsKIAkJcmV0ID0gZG1hX2ZlbmNlX2NoYWluX2ZpbmRfc2Vx
bm8oZmVuY2UsIHBvaW50KTsKIAkJaWYgKCFyZXQpCi0JCQlyZXR1cm4gMDsKKwkJCWdvdG8gb3V0
OwogCQlkbWFfZmVuY2VfcHV0KCpmZW5jZSk7CiAJfSBlbHNlIHsKIAkJcmV0ID0gLUVJTlZBTDsK
IAl9CiAKIAlpZiAoIShmbGFncyAmIERSTV9TWU5DT0JKX1dBSVRfRkxBR1NfV0FJVF9GT1JfU1VC
TUlUKSkKLQkJcmV0dXJuIHJldDsKKwkJZ290byBvdXQ7CiAKIAltZW1zZXQoJndhaXQsIDAsIHNp
emVvZih3YWl0KSk7CiAJd2FpdC50YXNrID0gY3VycmVudDsKQEAgLTQzMiw2ICs0MzEsOSBAQCBp
bnQgZHJtX3N5bmNvYmpfZmluZF9mZW5jZShzdHJ1Y3QgZHJtX2ZpCiAJaWYgKHdhaXQubm9kZS5u
ZXh0KQogCQlkcm1fc3luY29ial9yZW1vdmVfd2FpdChzeW5jb2JqLCAmd2FpdCk7CiAKK291dDoK
Kwlkcm1fc3luY29ial9wdXQoc3luY29iaik7CisKIAlyZXR1cm4gcmV0OwogfQogRVhQT1JUX1NZ
TUJPTChkcm1fc3luY29ial9maW5kX2ZlbmNlKTsKCgpQYXRjaGVzIGN1cnJlbnRseSBpbiBzdGFi
bGUtcXVldWUgd2hpY2ggbWlnaHQgYmUgZnJvbSBkYW5pZWwudmV0dGVyQGZmd2xsLmNoIGFyZQoK
cXVldWUtNS4xMC9kcm0tc3luY29iai1maXgtdXNlLWFmdGVyLWZyZWUucGF0Y2gKcXVldWUtNS4x
MC9kcm0tYXRvbWljLXB1dC1zdGF0ZS1vbi1lcnJvci1wYXRoLnBhdGNoCl9fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QK
ZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9w
Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbAo=
