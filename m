Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 2E027DE44A
	for <lists+dri-devel@lfdr.de>; Mon, 21 Oct 2019 08:02:59 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 710628996F;
	Mon, 21 Oct 2019 06:02:54 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from us-smtp-1.mimecast.com (us-smtp-delivery-1.mimecast.com
 [207.211.31.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A46A189949
 for <dri-devel@lists.freedesktop.org>; Mon, 21 Oct 2019 06:02:52 +0000 (UTC)
Received: from mimecast-mx01.redhat.com (mimecast-mx01.redhat.com
 [209.132.183.4]) (Using TLS) by relay.mimecast.com with ESMTP id
 us-mta-297-OPRieHucN2OuRZVLAOYDow-1; Mon, 21 Oct 2019 02:02:47 -0400
Received: from smtp.corp.redhat.com (int-mx07.intmail.prod.int.phx2.redhat.com
 [10.5.11.22])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mimecast-mx01.redhat.com (Postfix) with ESMTPS id 945F6800D41;
 Mon, 21 Oct 2019 06:02:42 +0000 (UTC)
Received: from [10.72.12.209] (ovpn-12-209.pek2.redhat.com [10.72.12.209])
 by smtp.corp.redhat.com (Postfix) with ESMTP id C6D2810027A1;
 Mon, 21 Oct 2019 06:02:05 +0000 (UTC)
Subject: Re: [PATCH V4 3/6] mdev: introduce device specific ops
To: Parav Pandit <parav@mellanox.com>,
 "kvm@vger.kernel.org" <kvm@vger.kernel.org>,
 "linux-s390@vger.kernel.org" <linux-s390@vger.kernel.org>,
 "linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>,
 "dri-devel@lists.freedesktop.org" <dri-devel@lists.freedesktop.org>,
 "intel-gfx@lists.freedesktop.org" <intel-gfx@lists.freedesktop.org>,
 "intel-gvt-dev@lists.freedesktop.org" <intel-gvt-dev@lists.freedesktop.org>,
 "kwankhede@nvidia.com" <kwankhede@nvidia.com>,
 "alex.williamson@redhat.com" <alex.williamson@redhat.com>,
 "mst@redhat.com" <mst@redhat.com>, "tiwei.bie@intel.com"
 <tiwei.bie@intel.com>
References: <20191017104836.32464-1-jasowang@redhat.com>
 <20191017104836.32464-4-jasowang@redhat.com>
 <AM0PR05MB48666BF4DE14169E05557A6ED16E0@AM0PR05MB4866.eurprd05.prod.outlook.com>
From: Jason Wang <jasowang@redhat.com>
Message-ID: <b5c5ef13-6876-088d-9f15-a4469bbd9ad7@redhat.com>
Date: Mon, 21 Oct 2019 14:02:07 +0800
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <AM0PR05MB48666BF4DE14169E05557A6ED16E0@AM0PR05MB4866.eurprd05.prod.outlook.com>
Content-Language: en-US
X-Scanned-By: MIMEDefang 2.84 on 10.5.11.22
X-MC-Unique: OPRieHucN2OuRZVLAOYDow-1
X-Mimecast-Spam-Score: 0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=redhat.com; 
 s=mimecast20190719; t=1571637771;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=CPGuw063jsNcZTAsHwspNx9T8P5nC+7RyLijO85Jffo=;
 b=Nd3fxIeLGU7u/gm5jE7Dfwz1FxeTV4+D9X0hWkiRc0/MlNVsfTypuJD2pRxVExaC5aBOcl
 S8E3WUDQDDgI6DBH9ZwpmVTJCfVLqAyBtn74Kt4UR2kA6AjLqbWMNbsupsD/5ZknLbb6i1
 jBI8bTb6E7P/BZ6Yl0qWNvUlnGzlwio=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: "christophe.de.dinechin@gmail.com" <christophe.de.dinechin@gmail.com>,
 "sebott@linux.ibm.com" <sebott@linux.ibm.com>,
 "airlied@linux.ie" <airlied@linux.ie>,
 "heiko.carstens@de.ibm.com" <heiko.carstens@de.ibm.com>,
 "kevin.tian@intel.com" <kevin.tian@intel.com>,
 "virtualization@lists.linux-foundation.org"
 <virtualization@lists.linux-foundation.org>,
 "rob.miller@broadcom.com" <rob.miller@broadcom.com>,
 "lulu@redhat.com" <lulu@redhat.com>,
 "eperezma@redhat.com" <eperezma@redhat.com>,
 "pasic@linux.ibm.com" <pasic@linux.ibm.com>,
 "borntraeger@de.ibm.com" <borntraeger@de.ibm.com>,
 "haotian.wang@sifive.com" <haotian.wang@sifive.com>,
 "zhi.a.wang@intel.com" <zhi.a.wang@intel.com>,
 "farman@linux.ibm.com" <farman@linux.ibm.com>, Ido Shamay <idos@mellanox.com>,
 "gor@linux.ibm.com" <gor@linux.ibm.com>,
 "cunming.liang@intel.com" <cunming.liang@intel.com>,
 "rodrigo.vivi@intel.com" <rodrigo.vivi@intel.com>,
 "xiao.w.wang@intel.com" <xiao.w.wang@intel.com>,
 "freude@linux.ibm.com" <freude@linux.ibm.com>,
 "stefanha@redhat.com" <stefanha@redhat.com>,
 "zhihong.wang@intel.com" <zhihong.wang@intel.com>,
 "akrowiak@linux.ibm.com" <akrowiak@linux.ibm.com>,
 "netdev@vger.kernel.org" <netdev@vger.kernel.org>,
 "cohuck@redhat.com" <cohuck@redhat.com>,
 "oberpar@linux.ibm.com" <oberpar@linux.ibm.com>,
 "maxime.coquelin@redhat.com" <maxime.coquelin@redhat.com>,
 "lingshan.zhu@intel.com" <lingshan.zhu@intel.com>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Ck9uIDIwMTkvMTAvMjEg5LiK5Y2INzo0MSwgUGFyYXYgUGFuZGl0IHdyb3RlOgo+Cj4+IC0tLS0t
T3JpZ2luYWwgTWVzc2FnZS0tLS0tCj4+IEZyb206IEphc29uIFdhbmcgPGphc293YW5nQHJlZGhh
dC5jb20+Cj4+IFNlbnQ6IFRodXJzZGF5LCBPY3RvYmVyIDE3LCAyMDE5IDU6NDkgQU0KPj4gVG86
IGt2bUB2Z2VyLmtlcm5lbC5vcmc7IGxpbnV4LXMzOTBAdmdlci5rZXJuZWwub3JnOyBsaW51eC0K
Pj4ga2VybmVsQHZnZXIua2VybmVsLm9yZzsgZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9y
ZzsgaW50ZWwtCj4+IGdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmc7IGludGVsLWd2dC1kZXZAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnOwo+PiBrd2Fua2hlZGVAbnZpZGlhLmNvbTsgYWxleC53aWxsaWFt
c29uQHJlZGhhdC5jb207IG1zdEByZWRoYXQuY29tOwo+PiB0aXdlaS5iaWVAaW50ZWwuY29tCj4+
IENjOiB2aXJ0dWFsaXphdGlvbkBsaXN0cy5saW51eC1mb3VuZGF0aW9uLm9yZzsgbmV0ZGV2QHZn
ZXIua2VybmVsLm9yZzsKPj4gY29odWNrQHJlZGhhdC5jb207IG1heGltZS5jb3F1ZWxpbkByZWRo
YXQuY29tOwo+PiBjdW5taW5nLmxpYW5nQGludGVsLmNvbTsgemhpaG9uZy53YW5nQGludGVsLmNv
bTsKPj4gcm9iLm1pbGxlckBicm9hZGNvbS5jb207IHhpYW8udy53YW5nQGludGVsLmNvbTsKPj4g
aGFvdGlhbi53YW5nQHNpZml2ZS5jb207IHpoZW55dXdAbGludXguaW50ZWwuY29tOyB6aGkuYS53
YW5nQGludGVsLmNvbTsKPj4gamFuaS5uaWt1bGFAbGludXguaW50ZWwuY29tOyBqb29uYXMubGFo
dGluZW5AbGludXguaW50ZWwuY29tOwo+PiByb2RyaWdvLnZpdmlAaW50ZWwuY29tOyBhaXJsaWVk
QGxpbnV4LmllOyBkYW5pZWxAZmZ3bGwuY2g7Cj4+IGZhcm1hbkBsaW51eC5pYm0uY29tOyBwYXNp
Y0BsaW51eC5pYm0uY29tOyBzZWJvdHRAbGludXguaWJtLmNvbTsKPj4gb2JlcnBhckBsaW51eC5p
Ym0uY29tOyBoZWlrby5jYXJzdGVuc0BkZS5pYm0uY29tOyBnb3JAbGludXguaWJtLmNvbTsKPj4g
Ym9ybnRyYWVnZXJAZGUuaWJtLmNvbTsgYWtyb3dpYWtAbGludXguaWJtLmNvbTsgZnJldWRlQGxp
bnV4LmlibS5jb207Cj4+IGxpbmdzaGFuLnpodUBpbnRlbC5jb207IElkbyBTaGFtYXkgPGlkb3NA
bWVsbGFub3guY29tPjsKPj4gZXBlcmV6bWFAcmVkaGF0LmNvbTsgbHVsdUByZWRoYXQuY29tOyBQ
YXJhdiBQYW5kaXQKPj4gPHBhcmF2QG1lbGxhbm94LmNvbT47IGNocmlzdG9waGUuZGUuZGluZWNo
aW5AZ21haWwuY29tOwo+PiBrZXZpbi50aWFuQGludGVsLmNvbTsgc3RlZmFuaGFAcmVkaGF0LmNv
bTsgSmFzb24gV2FuZwo+PiA8amFzb3dhbmdAcmVkaGF0LmNvbT4KPj4gU3ViamVjdDogW1BBVENI
IFY0IDMvNl0gbWRldjogaW50cm9kdWNlIGRldmljZSBzcGVjaWZpYyBvcHMKPj4KPj4gQ3VycmVu
dGx5LCBleGNlcHQgZm9yIHRoZSBjcmVhdGUgYW5kIHJlbW92ZSwgdGhlIHJlc3Qgb2YgbWRldl9w
YXJlbnRfb3BzIGlzCj4+IGRlc2lnbmVkIGZvciB2ZmlvLW1kZXYgZHJpdmVyIG9ubHkgYW5kIG1h
eSBub3QgaGVscCBmb3Iga2VybmVsIG1kZXYgZHJpdmVyLgo+PiBXaXRoIHRoZSBoZWxwIG9mIGNs
YXNzIGlkLCB0aGlzIHBhdGNoIGludHJvZHVjZXMgZGV2aWNlIHNwZWNpZmljIGNhbGxiYWNrcwo+
PiBpbnNpZGUgbWRldl9kZXZpY2Ugc3RydWN0dXJlLiBUaGlzIGFsbG93cyBkaWZmZXJlbnQgc2V0
IG9mIGNhbGxiYWNrIHRvIGJlIHVzZWQKPj4gYnkgdmZpby1tZGV2IGFuZCB2aXJ0aW8tbWRldi4K
Pj4KPj4gU2lnbmVkLW9mZi1ieTogSmFzb24gV2FuZyA8amFzb3dhbmdAcmVkaGF0LmNvbT4KPj4g
LS0tCj4+ICAgLi4uL2RyaXZlci1hcGkvdmZpby1tZWRpYXRlZC1kZXZpY2UucnN0ICAgICAgIHwg
MjUgKysrKystLS0tCj4+ICAgTUFJTlRBSU5FUlMgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHwgIDEgKwo+PiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d2dC9rdm1ndC5jICAgICAg
ICAgICAgICB8IDE4ICsrKystLS0KPj4gICBkcml2ZXJzL3MzOTAvY2lvL3ZmaW9fY2N3X29wcy5j
ICAgICAgICAgICAgICAgfCAxOCArKysrLS0tCj4+ICAgZHJpdmVycy9zMzkwL2NyeXB0by92Zmlv
X2FwX29wcy5jICAgICAgICAgICAgIHwgMTQgKysrLS0KPj4gICBkcml2ZXJzL3ZmaW8vbWRldi9t
ZGV2X2NvcmUuYyAgICAgICAgICAgICAgICAgfCAxOCArKysrKy0tCj4+ICAgZHJpdmVycy92Zmlv
L21kZXYvbWRldl9wcml2YXRlLmggICAgICAgICAgICAgIHwgIDEgKwo+PiAgIGRyaXZlcnMvdmZp
by9tZGV2L3ZmaW9fbWRldi5jICAgICAgICAgICAgICAgICB8IDM3ICsrKysrKy0tLS0tLS0KPj4g
ICBpbmNsdWRlL2xpbnV4L21kZXYuaCAgICAgICAgICAgICAgICAgICAgICAgICAgfCA0NSArKysr
LS0tLS0tLS0tLS0tCj4+ICAgaW5jbHVkZS9saW51eC92ZmlvX21kZXYuaCAgICAgICAgICAgICAg
ICAgICAgIHwgNTIgKysrKysrKysrKysrKysrKysrKwo+PiAgIHNhbXBsZXMvdmZpby1tZGV2L21i
b2Nocy5jICAgICAgICAgICAgICAgICAgICB8IDIwICsrKystLS0KPj4gICBzYW1wbGVzL3ZmaW8t
bWRldi9tZHB5LmMgICAgICAgICAgICAgICAgICAgICAgfCAyMCArKysrLS0tCj4+ICAgc2FtcGxl
cy92ZmlvLW1kZXYvbXR0eS5jICAgICAgICAgICAgICAgICAgICAgIHwgMTggKysrKy0tLQo+PiAg
IDEzIGZpbGVzIGNoYW5nZWQsIDE4NCBpbnNlcnRpb25zKCspLCAxMDMgZGVsZXRpb25zKC0pICBj
cmVhdGUgbW9kZSAxMDA2NDQKPj4gaW5jbHVkZS9saW51eC92ZmlvX21kZXYuaAo+Pgo+PiBkaWZm
IC0tZ2l0IGEvRG9jdW1lbnRhdGlvbi9kcml2ZXItYXBpL3ZmaW8tbWVkaWF0ZWQtZGV2aWNlLnJz
dAo+PiBiL0RvY3VtZW50YXRpb24vZHJpdmVyLWFwaS92ZmlvLW1lZGlhdGVkLWRldmljZS5yc3QK
Pj4gaW5kZXggZjlhNzhkNzVhNjdhLi4wY2NhODRkMTk2MDMgMTAwNjQ0Cj4+IC0tLSBhL0RvY3Vt
ZW50YXRpb24vZHJpdmVyLWFwaS92ZmlvLW1lZGlhdGVkLWRldmljZS5yc3QKPj4gKysrIGIvRG9j
dW1lbnRhdGlvbi9kcml2ZXItYXBpL3ZmaW8tbWVkaWF0ZWQtZGV2aWNlLnJzdAo+PiBAQCAtMTUy
LDExICsxNTIsMjIgQEAgY2FsbGJhY2tzIHBlciBtZGV2IHBhcmVudCBkZXZpY2UsIHBlciBtZGV2
IHR5cGUsCj4+IG9yIGFueSBvdGhlciBjYXRlZ29yaXphdGlvbi4KPj4gICBWZW5kb3IgZHJpdmVy
cyBhcmUgZXhwZWN0ZWQgdG8gYmUgZnVsbHkgYXN5bmNocm9ub3VzIGluIHRoaXMgcmVzcGVjdCBv
cgo+PiBwcm92aWRlIHRoZWlyIG93biBpbnRlcm5hbCByZXNvdXJjZSBwcm90ZWN0aW9uLikKPj4K
Pj4gLVRoZSBjYWxsYmFja3MgaW4gdGhlIG1kZXZfcGFyZW50X29wcyBzdHJ1Y3R1cmUgYXJlIGFz
IGZvbGxvd3M6Cj4+IC0KPj4gLSogb3Blbjogb3BlbiBjYWxsYmFjayBvZiBtZWRpYXRlZCBkZXZp
Y2UKPj4gLSogY2xvc2U6IGNsb3NlIGNhbGxiYWNrIG9mIG1lZGlhdGVkIGRldmljZQo+PiAtKiBp
b2N0bDogaW9jdGwgY2FsbGJhY2sgb2YgbWVkaWF0ZWQgZGV2aWNlCj4+ICtBcyBtdWx0aXBsZSB0
eXBlcyBvZiBtZWRpYXRlZCBkZXZpY2VzIG1heSBiZSBzdXBwb3J0ZWQsIHRoZSBkZXZpY2UgbXVz
dAo+PiArc2V0IHVwIHRoZSBjbGFzcyBpZCBhbmQgdGhlIGRldmljZSBzcGVjaWZpYyBjYWxsYmFj
a3MgaW4gY3JlYXRlKCkKPj4gK2NhbGxiYWNrLiBFLmcgZm9yIHZmaW8tbWRldiBkZXZpY2UgaXQg
bmVlZHMgdG8gYmUgZG9uZSB0aHJvdWdoOgo+PiArCj4+ICsgICAgaW50IG1kZXZfc2V0X3ZmaW9f
b3BzKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldiwKPj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgY29uc3Qgc3RydWN0IHZmaW9fbWRldl9vcHMgKnZmaW9fb3BzKTsKPj4gKwo+PiArVGhlIGNs
YXNzIGlkIChzZXQgdG8gTURFVl9DTEFTU19JRF9WRklPKSBpcyB1c2VkIHRvIG1hdGNoIGEgZGV2
aWNlIHdpdGgKPj4gK2FuIG1kZXYgZHJpdmVyIHZpYSBpdHMgaWQgdGFibGUuIFRoZSBkZXZpY2Ug
c3BlY2lmaWMgY2FsbGJhY2tzCj4+ICsoc3BlY2lmaWVkIGluICpvcHMpIGFyZSBvYnRhaW5hYmxl
IHZpYSBtZGV2X2dldF9kZXZfb3BzKCkgKGZvciB1c2UgYnkKPj4gK3RoZSBtZGV2IGJ1cyBkcml2
ZXIpLiBBIHZmaW8tbWRldiBkZXZpY2UgKGNsYXNzIGlkIE1ERVZfQ0xBU1NfSURfVkZJTykKPj4g
K3VzZXMgdGhlIGZvbGxvd2luZyBkZXZpY2Utc3BlY2lmaWMgb3BzOgo+PiArCj4+ICsqIG9wZW46
IG9wZW4gY2FsbGJhY2sgb2YgdmZpbyBtZWRpYXRlZCBkZXZpY2UKPj4gKyogY2xvc2U6IGNsb3Nl
IGNhbGxiYWNrIG9mIHZmaW8gbWVkaWF0ZWQgZGV2aWNlCj4+ICsqIGlvY3RsOiBpb2N0bCBjYWxs
YmFjayBvZiB2ZmlvIG1lZGlhdGVkIGRldmljZQo+PiAgICogcmVhZCA6IHJlYWQgZW11bGF0aW9u
IGNhbGxiYWNrCj4+ICAgKiB3cml0ZTogd3JpdGUgZW11bGF0aW9uIGNhbGxiYWNrCj4+ICAgKiBt
bWFwOiBtbWFwIGVtdWxhdGlvbiBjYWxsYmFjawo+PiBAQCAtMTY3LDEwICsxNzgsNiBAQCByZWdp
c3RlciBpdHNlbGYgd2l0aCB0aGUgbWRldiBjb3JlIGRyaXZlcjo6Cj4+ICAgCWV4dGVybiBpbnQg
IG1kZXZfcmVnaXN0ZXJfZGV2aWNlKHN0cnVjdCBkZXZpY2UgKmRldiwKPj4gICAJICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RydWN0IG1kZXZfcGFyZW50X29wcyAqb3Bz
KTsKPj4KPj4gLUl0IGlzIGFsc28gcmVxdWlyZWQgdG8gc3BlY2lmeSB0aGUgY2xhc3NfaWQgaW4g
Y3JlYXRlKCkgY2FsbGJhY2sgdGhyb3VnaDo6Cj4+IC0KPj4gLQlpbnQgbWRldl9zZXRfY2xhc3Mo
c3RydWN0IG1kZXZfZGV2aWNlICptZGV2LCB1MTYgaWQpOwo+PiAtCj4+ICAgSG93ZXZlciwgdGhl
IG1kZXZfcGFyZW50X29wcyBzdHJ1Y3R1cmUgaXMgbm90IHJlcXVpcmVkIGluIHRoZSBmdW5jdGlv
biBjYWxsCj4+IHRoYXQgYSBkcml2ZXIgc2hvdWxkIHVzZSB0byB1bnJlZ2lzdGVyIGl0c2VsZiB3
aXRoIHRoZSBtZGV2IGNvcmUgZHJpdmVyOjoKPj4KPj4gZGlmZiAtLWdpdCBhL01BSU5UQUlORVJT
IGIvTUFJTlRBSU5FUlMKPj4gaW5kZXggODgyNGY2MWNkMmMwLi4zZDE5NmEwMjNiNWUgMTAwNjQ0
Cj4+IC0tLSBhL01BSU5UQUlORVJTCj4+ICsrKyBiL01BSU5UQUlORVJTCj4+IEBAIC0xNzEyNyw2
ICsxNzEyNyw3IEBAIFM6CU1haW50YWluZWQKPj4gICBGOglEb2N1bWVudGF0aW9uL2RyaXZlci1h
cGkvdmZpby1tZWRpYXRlZC1kZXZpY2UucnN0Cj4+ICAgRjoJZHJpdmVycy92ZmlvL21kZXYvCj4+
ICAgRjoJaW5jbHVkZS9saW51eC9tZGV2LmgKPj4gK0Y6CWluY2x1ZGUvbGludXgvdmZpb19tZGV2
LmgKPj4gICBGOglzYW1wbGVzL3ZmaW8tbWRldi8KPj4KPj4gICBWRklPIFBMQVRGT1JNIERSSVZF
Ugo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Z0L2t2bWd0LmMKPj4gYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndnQva3ZtZ3QuYwo+PiBpbmRleCA2NDIwZjBkYmQzMWIuLjMw
NmY5MzRjNzg1NyAxMDA2NDQKPj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Z0L2t2bWd0
LmMKPj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Z0L2t2bWd0LmMKPj4gQEAgLTQyLDYg
KzQyLDcgQEAKPj4gICAjaW5jbHVkZSA8bGludXgva3ZtX2hvc3QuaD4KPj4gICAjaW5jbHVkZSA8
bGludXgvdmZpby5oPgo+PiAgICNpbmNsdWRlIDxsaW51eC9tZGV2Lmg+Cj4+ICsjaW5jbHVkZSA8
bGludXgvdmZpb19tZGV2Lmg+Cj4+ICAgI2luY2x1ZGUgPGxpbnV4L2RlYnVnZnMuaD4KPj4KPj4g
ICAjaW5jbHVkZSA8bGludXgvbm9zcGVjLmg+Cj4+IEBAIC02NDMsNiArNjQ0LDggQEAgc3RhdGlj
IHZvaWQga3ZtZ3RfcHV0X3ZmaW9fZGV2aWNlKHZvaWQgKnZncHUpCj4+ICAgCXZmaW9fZGV2aWNl
X3B1dCgoKHN0cnVjdCBpbnRlbF92Z3B1ICopdmdwdSktPnZkZXYudmZpb19kZXZpY2UpOyAgfQo+
Pgo+PiArc3RhdGljIGNvbnN0IHN0cnVjdCB2ZmlvX21kZXZfZGV2aWNlX29wcyBpbnRlbF92Zmlv
X3ZncHVfZGV2X29wczsKPj4gKwo+PiAgIHN0YXRpYyBpbnQgaW50ZWxfdmdwdV9jcmVhdGUoc3Ry
dWN0IGtvYmplY3QgKmtvYmosIHN0cnVjdCBtZGV2X2RldmljZSAqbWRldikKPj4gewo+PiAgIAlz
dHJ1Y3QgaW50ZWxfdmdwdSAqdmdwdSA9IE5VTEw7Cj4+IEBAIC02NzgsNyArNjgxLDcgQEAgc3Rh
dGljIGludCBpbnRlbF92Z3B1X2NyZWF0ZShzdHJ1Y3Qga29iamVjdCAqa29iaiwKPj4gc3RydWN0
IG1kZXZfZGV2aWNlICptZGV2KQo+PiAgIAkJICAgICBkZXZfbmFtZShtZGV2X2RldihtZGV2KSkp
Owo+PiAgIAlyZXQgPSAwOwo+Pgo+PiAtCW1kZXZfc2V0X2NsYXNzKG1kZXYsIE1ERVZfQ0xBU1Nf
SURfVkZJTyk7Cj4+ICsJbWRldl9zZXRfdmZpb19vcHMobWRldiwgJmludGVsX3ZmaW9fdmdwdV9k
ZXZfb3BzKTsKPj4gICBvdXQ6Cj4+ICAgCXJldHVybiByZXQ7Cj4+ICAgfQo+PiBAQCAtMTU5OSwy
MCArMTYwMiwyMSBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGF0dHJpYnV0ZV9ncm91cAo+PiAqaW50
ZWxfdmdwdV9ncm91cHNbXSA9IHsKPj4gICAJTlVMTCwKPj4gICB9Owo+Pgo+PiAtc3RhdGljIHN0
cnVjdCBtZGV2X3BhcmVudF9vcHMgaW50ZWxfdmdwdV9vcHMgPSB7Cj4+IC0JLm1kZXZfYXR0cl9n
cm91cHMgICAgICAgPSBpbnRlbF92Z3B1X2dyb3VwcywKPj4gLQkuY3JlYXRlCQkJPSBpbnRlbF92
Z3B1X2NyZWF0ZSwKPj4gLQkucmVtb3ZlCQkJPSBpbnRlbF92Z3B1X3JlbW92ZSwKPj4gLQo+PiAr
c3RhdGljIGNvbnN0IHN0cnVjdCB2ZmlvX21kZXZfZGV2aWNlX29wcyBpbnRlbF92ZmlvX3ZncHVf
ZGV2X29wcyA9IHsKPj4gICAJLm9wZW4JCQk9IGludGVsX3ZncHVfb3BlbiwKPj4gICAJLnJlbGVh
c2UJCT0gaW50ZWxfdmdwdV9yZWxlYXNlLAo+PiAtCj4+ICAgCS5yZWFkCQkJPSBpbnRlbF92Z3B1
X3JlYWQsCj4+ICAgCS53cml0ZQkJCT0gaW50ZWxfdmdwdV93cml0ZSwKPj4gICAJLm1tYXAJCQk9
IGludGVsX3ZncHVfbW1hcCwKPj4gICAJLmlvY3RsCQkJPSBpbnRlbF92Z3B1X2lvY3RsLAo+PiAg
IH07Cj4+Cj4+ICtzdGF0aWMgc3RydWN0IG1kZXZfcGFyZW50X29wcyBpbnRlbF92Z3B1X29wcyA9
IHsKPj4gKwkubWRldl9hdHRyX2dyb3VwcyAgICAgICA9IGludGVsX3ZncHVfZ3JvdXBzLAo+PiAr
CS5jcmVhdGUJCQk9IGludGVsX3ZncHVfY3JlYXRlLAo+PiArCS5yZW1vdmUJCQk9IGludGVsX3Zn
cHVfcmVtb3ZlLAo+PiArfTsKPj4gKwo+PiAgIHN0YXRpYyBpbnQga3ZtZ3RfaG9zdF9pbml0KHN0
cnVjdCBkZXZpY2UgKmRldiwgdm9pZCAqZ3Z0LCBjb25zdCB2b2lkICpvcHMpICB7Cj4+ICAgCXN0
cnVjdCBhdHRyaWJ1dGUgKiprdm1fdHlwZV9hdHRyczsKPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
czM5MC9jaW8vdmZpb19jY3dfb3BzLmMKPj4gYi9kcml2ZXJzL3MzOTAvY2lvL3ZmaW9fY2N3X29w
cy5jIGluZGV4IGNmMmMwMTNhZTMyZi4uNmU2MDZjZGIxYWE5IDEwMDY0NAo+PiAtLS0gYS9kcml2
ZXJzL3MzOTAvY2lvL3ZmaW9fY2N3X29wcy5jCj4+ICsrKyBiL2RyaXZlcnMvczM5MC9jaW8vdmZp
b19jY3dfb3BzLmMKPj4gQEAgLTEyLDYgKzEyLDcgQEAKPj4KPj4gICAjaW5jbHVkZSA8bGludXgv
dmZpby5oPgo+PiAgICNpbmNsdWRlIDxsaW51eC9tZGV2Lmg+Cj4+ICsjaW5jbHVkZSA8bGludXgv
dmZpb19tZGV2Lmg+Cj4+ICAgI2luY2x1ZGUgPGxpbnV4L25vc3BlYy5oPgo+PiAgICNpbmNsdWRl
IDxsaW51eC9zbGFiLmg+Cj4+Cj4+IEBAIC0xMTAsNiArMTExLDggQEAgc3RhdGljIHN0cnVjdCBh
dHRyaWJ1dGVfZ3JvdXAgKm1kZXZfdHlwZV9ncm91cHNbXSA9Cj4+IHsKPj4gICAJTlVMTCwKPj4g
ICB9Owo+Pgo+PiArc3RhdGljIGNvbnN0IHN0cnVjdCB2ZmlvX21kZXZfZGV2aWNlX29wcyB2Zmlv
X21kZXZfb3BzOwo+PiArCj4+ICAgc3RhdGljIGludCB2ZmlvX2Njd19tZGV2X2NyZWF0ZShzdHJ1
Y3Qga29iamVjdCAqa29iaiwgc3RydWN0IG1kZXZfZGV2aWNlCj4+ICptZGV2KSAgewo+PiAgIAlz
dHJ1Y3QgdmZpb19jY3dfcHJpdmF0ZSAqcHJpdmF0ZSA9Cj4+IEBAIC0xMjksNyArMTMyLDcgQEAg
c3RhdGljIGludCB2ZmlvX2Njd19tZGV2X2NyZWF0ZShzdHJ1Y3Qga29iamVjdCAqa29iaiwKPj4g
c3RydWN0IG1kZXZfZGV2aWNlICptZGV2KQo+PiAgIAkJCSAgIHByaXZhdGUtPnNjaC0+c2NoaWQu
c3NpZCwKPj4gICAJCQkgICBwcml2YXRlLT5zY2gtPnNjaGlkLnNjaF9ubyk7Cj4+Cj4+IC0JbWRl
dl9zZXRfY2xhc3MobWRldiwgTURFVl9DTEFTU19JRF9WRklPKTsKPj4gKwltZGV2X3NldF92Zmlv
X29wcyhtZGV2LCAmdmZpb19tZGV2X29wcyk7Cj4+ICAgCXJldHVybiAwOwo+PiAgIH0KPj4KPj4g
QEAgLTU3NSwxMSArNTc4LDcgQEAgc3RhdGljIHNzaXplX3QgdmZpb19jY3dfbWRldl9pb2N0bChz
dHJ1Y3QKPj4gbWRldl9kZXZpY2UgKm1kZXYsCj4+ICAgCX0KPj4gICB9Cj4+Cj4+IC1zdGF0aWMg
Y29uc3Qgc3RydWN0IG1kZXZfcGFyZW50X29wcyB2ZmlvX2Njd19tZGV2X29wcyA9IHsKPj4gLQku
b3duZXIJCQk9IFRISVNfTU9EVUxFLAo+PiAtCS5zdXBwb3J0ZWRfdHlwZV9ncm91cHMgID0gbWRl
dl90eXBlX2dyb3VwcywKPj4gLQkuY3JlYXRlCQkJPSB2ZmlvX2Njd19tZGV2X2NyZWF0ZSwKPj4g
LQkucmVtb3ZlCQkJPSB2ZmlvX2Njd19tZGV2X3JlbW92ZSwKPj4gK3N0YXRpYyBjb25zdCBzdHJ1
Y3QgdmZpb19tZGV2X2RldmljZV9vcHMgdmZpb19tZGV2X29wcyA9IHsKPj4gICAJLm9wZW4JCQk9
IHZmaW9fY2N3X21kZXZfb3BlbiwKPj4gICAJLnJlbGVhc2UJCT0gdmZpb19jY3dfbWRldl9yZWxl
YXNlLAo+PiAgIAkucmVhZAkJCT0gdmZpb19jY3dfbWRldl9yZWFkLAo+PiBAQCAtNTg3LDYgKzU4
NiwxMyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IG1kZXZfcGFyZW50X29wcwo+PiB2ZmlvX2Njd19t
ZGV2X29wcyA9IHsKPj4gICAJLmlvY3RsCQkJPSB2ZmlvX2Njd19tZGV2X2lvY3RsLAo+PiAgIH07
Cj4+Cj4+ICtzdGF0aWMgY29uc3Qgc3RydWN0IG1kZXZfcGFyZW50X29wcyB2ZmlvX2Njd19tZGV2
X29wcyA9IHsKPj4gKwkub3duZXIJCQk9IFRISVNfTU9EVUxFLAo+PiArCS5zdXBwb3J0ZWRfdHlw
ZV9ncm91cHMgID0gbWRldl90eXBlX2dyb3VwcywKPj4gKwkuY3JlYXRlCQkJPSB2ZmlvX2Njd19t
ZGV2X2NyZWF0ZSwKPj4gKwkucmVtb3ZlCQkJPSB2ZmlvX2Njd19tZGV2X3JlbW92ZSwKPj4gK307
Cj4+ICsKPj4gICBpbnQgdmZpb19jY3dfbWRldl9yZWcoc3RydWN0IHN1YmNoYW5uZWwgKnNjaCkg
IHsKPj4gICAJcmV0dXJuIG1kZXZfcmVnaXN0ZXJfZGV2aWNlKCZzY2gtPmRldiwgJnZmaW9fY2N3
X21kZXZfb3BzKTsgZGlmZiAtCj4+IC1naXQgYS9kcml2ZXJzL3MzOTAvY3J5cHRvL3ZmaW9fYXBf
b3BzLmMKPj4gYi9kcml2ZXJzL3MzOTAvY3J5cHRvL3ZmaW9fYXBfb3BzLmMKPj4gaW5kZXggMDdj
MzEwNzBhZmViLi4xOTVjOGY0YzZmMTAgMTAwNjQ0Cj4+IC0tLSBhL2RyaXZlcnMvczM5MC9jcnlw
dG8vdmZpb19hcF9vcHMuYwo+PiArKysgYi9kcml2ZXJzL3MzOTAvY3J5cHRvL3ZmaW9fYXBfb3Bz
LmMKPj4gQEAgLTE2LDYgKzE2LDcgQEAKPj4gICAjaW5jbHVkZSA8bGludXgvYml0b3BzLmg+Cj4+
ICAgI2luY2x1ZGUgPGxpbnV4L2t2bV9ob3N0Lmg+Cj4+ICAgI2luY2x1ZGUgPGxpbnV4L21vZHVs
ZS5oPgo+PiArI2luY2x1ZGUgPGxpbnV4L3ZmaW9fbWRldi5oPgo+PiAgICNpbmNsdWRlIDxhc20v
a3ZtLmg+Cj4+ICAgI2luY2x1ZGUgPGFzbS96Y3J5cHQuaD4KPj4KPj4gQEAgLTMyMSw2ICszMjIs
OCBAQCBzdGF0aWMgdm9pZCB2ZmlvX2FwX21hdHJpeF9pbml0KHN0cnVjdCBhcF9jb25maWdfaW5m
bwo+PiAqaW5mbywKPj4gICAJbWF0cml4LT5hZG1fbWF4ID0gaW5mby0+YXB4YSA/IGluZm8tPk5k
IDogMTU7ICB9Cj4+Cj4+ICtzdGF0aWMgY29uc3Qgc3RydWN0IHZmaW9fbWRldl9kZXZpY2Vfb3Bz
IHZmaW9fbWRldl9vcHM7Cj4+ICsKPj4gICBzdGF0aWMgaW50IHZmaW9fYXBfbWRldl9jcmVhdGUo
c3RydWN0IGtvYmplY3QgKmtvYmosIHN0cnVjdCBtZGV2X2RldmljZQo+PiAqbWRldikgIHsKPj4g
ICAJc3RydWN0IGFwX21hdHJpeF9tZGV2ICptYXRyaXhfbWRldjsKPj4gQEAgLTM0Myw3ICszNDYs
NyBAQCBzdGF0aWMgaW50IHZmaW9fYXBfbWRldl9jcmVhdGUoc3RydWN0IGtvYmplY3QgKmtvYmos
Cj4+IHN0cnVjdCBtZGV2X2RldmljZSAqbWRldikKPj4gICAJbGlzdF9hZGQoJm1hdHJpeF9tZGV2
LT5ub2RlLCAmbWF0cml4X2Rldi0+bWRldl9saXN0KTsKPj4gICAJbXV0ZXhfdW5sb2NrKCZtYXRy
aXhfZGV2LT5sb2NrKTsKPj4KPj4gLQltZGV2X3NldF9jbGFzcyhtZGV2LCBNREVWX0NMQVNTX0lE
X1ZGSU8pOwo+PiArCW1kZXZfc2V0X3ZmaW9fb3BzKG1kZXYsICZ2ZmlvX21kZXZfb3BzKTsKPj4g
ICAJcmV0dXJuIDA7Cj4+ICAgfQo+Pgo+PiBAQCAtMTI4MSwxNSArMTI4NCwxOCBAQCBzdGF0aWMg
c3NpemVfdCB2ZmlvX2FwX21kZXZfaW9jdGwoc3RydWN0Cj4+IG1kZXZfZGV2aWNlICptZGV2LAo+
PiAgIAlyZXR1cm4gcmV0Owo+PiAgIH0KPj4KPj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3QgdmZpb19t
ZGV2X2RldmljZV9vcHMgdmZpb19tZGV2X29wcyA9IHsKPj4gKwkub3BlbgkJCT0gdmZpb19hcF9t
ZGV2X29wZW4sCj4+ICsJLnJlbGVhc2UJCT0gdmZpb19hcF9tZGV2X3JlbGVhc2UsCj4+ICsJLmlv
Y3RsCQkJPSB2ZmlvX2FwX21kZXZfaW9jdGwsCj4+ICt9Owo+PiArCj4+ICAgc3RhdGljIGNvbnN0
IHN0cnVjdCBtZGV2X3BhcmVudF9vcHMgdmZpb19hcF9tYXRyaXhfb3BzID0gewo+PiAgIAkub3du
ZXIJCQk9IFRISVNfTU9EVUxFLAo+PiAgIAkuc3VwcG9ydGVkX3R5cGVfZ3JvdXBzCT0gdmZpb19h
cF9tZGV2X3R5cGVfZ3JvdXBzLAo+PiAgIAkubWRldl9hdHRyX2dyb3Vwcwk9IHZmaW9fYXBfbWRl
dl9hdHRyX2dyb3VwcywKPj4gICAJLmNyZWF0ZQkJCT0gdmZpb19hcF9tZGV2X2NyZWF0ZSwKPj4g
ICAJLnJlbW92ZQkJCT0gdmZpb19hcF9tZGV2X3JlbW92ZSwKPj4gLQkub3BlbgkJCT0gdmZpb19h
cF9tZGV2X29wZW4sCj4+IC0JLnJlbGVhc2UJCT0gdmZpb19hcF9tZGV2X3JlbGVhc2UsCj4+IC0J
LmlvY3RsCQkJPSB2ZmlvX2FwX21kZXZfaW9jdGwsCj4+ICAgfTsKPj4KPj4gICBpbnQgdmZpb19h
cF9tZGV2X3JlZ2lzdGVyKHZvaWQpCj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3ZmaW8vbWRldi9t
ZGV2X2NvcmUuYyBiL2RyaXZlcnMvdmZpby9tZGV2L21kZXZfY29yZS5jCj4+IGluZGV4IDNhOWM1
MmQ3MWI0ZS4uZDBmMzExM2M4MDcxIDEwMDY0NAo+PiAtLS0gYS9kcml2ZXJzL3ZmaW8vbWRldi9t
ZGV2X2NvcmUuYwo+PiArKysgYi9kcml2ZXJzL3ZmaW8vbWRldi9tZGV2X2NvcmUuYwo+PiBAQCAt
NDUsMTUgKzQ1LDIzIEBAIHZvaWQgbWRldl9zZXRfZHJ2ZGF0YShzdHJ1Y3QgbWRldl9kZXZpY2Ug
Km1kZXYsCj4+IHZvaWQgKmRhdGEpICB9ICBFWFBPUlRfU1lNQk9MKG1kZXZfc2V0X2RydmRhdGEp
Owo+Pgo+PiAtLyogU3BlY2lmeSB0aGUgY2xhc3MgZm9yIHRoZSBtZGV2IGRldmljZSwgdGhpcyBt
dXN0IGJlIGNhbGxlZCBkdXJpbmcKPj4gLSAqIGNyZWF0ZSgpIGNhbGxiYWNrLgo+PiArLyogU3Bl
Y2lmeSB0aGUgVkZJTyBkZXZpY2Ugb3BzIGZvciB0aGUgbWRldiBkZXZpY2UsIHRoaXMKPj4gKyAq
IG11c3QgYmUgY2FsbGVkIGR1cmluZyBjcmVhdGUoKSBjYWxsYmFjayBmb3IgVkZJTyBtZGV2IGRl
dmljZS4KPj4gICAgKi8KPj4gLXZvaWQgbWRldl9zZXRfY2xhc3Moc3RydWN0IG1kZXZfZGV2aWNl
ICptZGV2LCB1MTYgaWQpCj4gSSB0aGluayB5b3Ugc2hvdWxkIGtlZXAgdGhlIG1kZXZfc2V0X2Ns
YXNzIEFQSSBhbmQgbGV0IG1kZXZfc2V0X3ZmaW9fb3BzIGNhbGwgaXQuIEV2ZW4gdGhvdWdoIGl0
cyB0d28gbGluZSBmdW5jdGlvbi4KPiBUaGUgcmVhc29uIHRvIGF2b2lkIGEgY29kZSBjaHVybiBp
biBzaG9ydCB0aW1lIHdpdGggbWx4NV9jb3JlIHBhdGNoIHdoaWNoIHdpbGwgb25seSBjYWxsIG1k
ZXZfc2V0X2NsYXNzKCksIGFzIGl0IGRvZXNuJ3QgaGF2ZSBhbnkgb3BzIHlldC4KCgpUaGF0IHNv
dW5kcyBnb29kLCB3aWxsIGRvLgoKCj4+ICt2b2lkIG1kZXZfc2V0X3ZmaW9fb3BzKHN0cnVjdCBt
ZGV2X2RldmljZSAqbWRldiwKPj4gKwkJICAgICAgIGNvbnN0IHN0cnVjdCB2ZmlvX21kZXZfZGV2
aWNlX29wcyAqdmZpb19vcHMpCj4+ICAgewo+PiAgIAlXQVJOX09OKG1kZXYtPmNsYXNzX2lkKTsK
Pj4gLQltZGV2LT5jbGFzc19pZCA9IGlkOwo+PiArCW1kZXYtPmNsYXNzX2lkID0gTURFVl9DTEFT
U19JRF9WRklPOwo+PiArCW1kZXYtPmRldmljZV9vcHMgPSB2ZmlvX29wczsKPj4gICB9Cj4+IC1F
WFBPUlRfU1lNQk9MKG1kZXZfc2V0X2NsYXNzKTsKPj4gK0VYUE9SVF9TWU1CT0wobWRldl9zZXRf
dmZpb19vcHMpOwo+PiArCj4+ICtjb25zdCB2b2lkICptZGV2X2dldF9kZXZfb3BzKHN0cnVjdCBt
ZGV2X2RldmljZSAqbWRldikgewo+PiArCXJldHVybiBtZGV2LT5kZXZpY2Vfb3BzOwo+PiArfQo+
PiArRVhQT1JUX1NZTUJPTChtZGV2X2dldF9kZXZfb3BzKTsKPj4KPj4gICBzdHJ1Y3QgZGV2aWNl
ICptZGV2X2RldihzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYpICB7IGRpZmYgLS1naXQKPj4gYS9k
cml2ZXJzL3ZmaW8vbWRldi9tZGV2X3ByaXZhdGUuaCBiL2RyaXZlcnMvdmZpby9tZGV2L21kZXZf
cHJpdmF0ZS5oCj4+IGluZGV4IGM2NWY0MzZjMTg2OS4uYjY2NjgwNWYwYjFmIDEwMDY0NAo+PiAt
LS0gYS9kcml2ZXJzL3ZmaW8vbWRldi9tZGV2X3ByaXZhdGUuaAo+PiArKysgYi9kcml2ZXJzL3Zm
aW8vbWRldi9tZGV2X3ByaXZhdGUuaAo+PiBAQCAtMzQsNiArMzQsNyBAQCBzdHJ1Y3QgbWRldl9k
ZXZpY2Ugewo+PiAgIAlzdHJ1Y3QgZGV2aWNlICppb21tdV9kZXZpY2U7Cj4+ICAgCWJvb2wgYWN0
aXZlOwo+PiAgIAl1MTYgY2xhc3NfaWQ7Cj4+ICsJY29uc3Qgdm9pZCAqZGV2aWNlX29wczsKPiBJ
bnN0ZWFkIG9mIHZvaWQgKiwgdGhpcyBzaG91bGQgYmUgdW5pb24gdmZpb19vcHMgYW5kIHZpcnRp
b19vcHMuCgoKT2suCgoKPj4gICB9Owo+Pgo+PiAgICNkZWZpbmUgdG9fbWRldl9kZXZpY2UoZGV2
KQljb250YWluZXJfb2YoZGV2LCBzdHJ1Y3QgbWRldl9kZXZpY2UsIGRldikKPj4gZGlmZiAtLWdp
dCBhL2RyaXZlcnMvdmZpby9tZGV2L3ZmaW9fbWRldi5jIGIvZHJpdmVycy92ZmlvL21kZXYvdmZp
b19tZGV2LmMKPj4gaW5kZXggY2I3MDFjZDY0NmYwLi42YjZiOTIwMTE0MzYgMTAwNjQ0Cj4+IC0t
LSBhL2RyaXZlcnMvdmZpby9tZGV2L3ZmaW9fbWRldi5jCj4+ICsrKyBiL2RyaXZlcnMvdmZpby9t
ZGV2L3ZmaW9fbWRldi5jCj4+IEBAIC0xNCw2ICsxNCw3IEBACj4+ICAgI2luY2x1ZGUgPGxpbnV4
L3NsYWIuaD4KPj4gICAjaW5jbHVkZSA8bGludXgvdmZpby5oPgo+PiAgICNpbmNsdWRlIDxsaW51
eC9tZGV2Lmg+Cj4+ICsjaW5jbHVkZSA8bGludXgvdmZpb19tZGV2Lmg+Cj4+Cj4+ICAgI2luY2x1
ZGUgIm1kZXZfcHJpdmF0ZS5oIgo+Pgo+PiBAQCAtMjQsMTYgKzI1LDE2IEBACj4+ICAgc3RhdGlj
IGludCB2ZmlvX21kZXZfb3Blbih2b2lkICpkZXZpY2VfZGF0YSkgIHsKPj4gICAJc3RydWN0IG1k
ZXZfZGV2aWNlICptZGV2ID0gZGV2aWNlX2RhdGE7Cj4+IC0Jc3RydWN0IG1kZXZfcGFyZW50ICpw
YXJlbnQgPSBtZGV2LT5wYXJlbnQ7Cj4+ICsJY29uc3Qgc3RydWN0IHZmaW9fbWRldl9kZXZpY2Vf
b3BzICpvcHMgPQo+PiBtZGV2X2dldF9kZXZfb3BzKG1kZXYpOwo+PiAgIAlpbnQgcmV0Owo+Pgo+
PiAtCWlmICh1bmxpa2VseSghcGFyZW50LT5vcHMtPm9wZW4pKQo+PiArCWlmICh1bmxpa2VseSgh
b3BzLT5vcGVuKSkKPj4gICAJCXJldHVybiAtRUlOVkFMOwo+Pgo+PiAgIAlpZiAoIXRyeV9tb2R1
bGVfZ2V0KFRISVNfTU9EVUxFKSkKPj4gICAJCXJldHVybiAtRU5PREVWOwo+Pgo+PiAtCXJldCA9
IHBhcmVudC0+b3BzLT5vcGVuKG1kZXYpOwo+PiArCXJldCA9IG9wcy0+b3BlbihtZGV2KTsKPj4g
ICAJaWYgKHJldCkKPj4gICAJCW1vZHVsZV9wdXQoVEhJU19NT0RVTEUpOwo+Pgo+PiBAQCAtNDMs
MTAgKzQ0LDEwIEBAIHN0YXRpYyBpbnQgdmZpb19tZGV2X29wZW4odm9pZCAqZGV2aWNlX2RhdGEp
ICBzdGF0aWMKPj4gdm9pZCB2ZmlvX21kZXZfcmVsZWFzZSh2b2lkICpkZXZpY2VfZGF0YSkgIHsK
Pj4gICAJc3RydWN0IG1kZXZfZGV2aWNlICptZGV2ID0gZGV2aWNlX2RhdGE7Cj4+IC0Jc3RydWN0
IG1kZXZfcGFyZW50ICpwYXJlbnQgPSBtZGV2LT5wYXJlbnQ7Cj4+ICsJY29uc3Qgc3RydWN0IHZm
aW9fbWRldl9kZXZpY2Vfb3BzICpvcHMgPQo+PiBtZGV2X2dldF9kZXZfb3BzKG1kZXYpOwo+Pgo+
PiAtCWlmIChsaWtlbHkocGFyZW50LT5vcHMtPnJlbGVhc2UpKQo+PiAtCQlwYXJlbnQtPm9wcy0+
cmVsZWFzZShtZGV2KTsKPj4gKwlpZiAobGlrZWx5KG9wcy0+cmVsZWFzZSkpCj4+ICsJCW9wcy0+
cmVsZWFzZShtZGV2KTsKPj4KPj4gICAJbW9kdWxlX3B1dChUSElTX01PRFVMRSk7Cj4+ICAgfQo+
PiBAQCAtNTUsNDcgKzU2LDQ3IEBAIHN0YXRpYyBsb25nIHZmaW9fbWRldl91bmxvY2tlZF9pb2N0
bCh2b2lkCj4+ICpkZXZpY2VfZGF0YSwKPj4gICAJCQkJICAgICB1bnNpZ25lZCBpbnQgY21kLCB1
bnNpZ25lZCBsb25nIGFyZykgIHsKPj4gICAJc3RydWN0IG1kZXZfZGV2aWNlICptZGV2ID0gZGV2
aWNlX2RhdGE7Cj4+IC0Jc3RydWN0IG1kZXZfcGFyZW50ICpwYXJlbnQgPSBtZGV2LT5wYXJlbnQ7
Cj4+ICsJY29uc3Qgc3RydWN0IHZmaW9fbWRldl9kZXZpY2Vfb3BzICpvcHMgPQo+PiBtZGV2X2dl
dF9kZXZfb3BzKG1kZXYpOwo+Pgo+PiAtCWlmICh1bmxpa2VseSghcGFyZW50LT5vcHMtPmlvY3Rs
KSkKPj4gKwlpZiAodW5saWtlbHkoIW9wcy0+aW9jdGwpKQo+PiAgIAkJcmV0dXJuIC1FSU5WQUw7
Cj4+Cj4+IC0JcmV0dXJuIHBhcmVudC0+b3BzLT5pb2N0bChtZGV2LCBjbWQsIGFyZyk7Cj4+ICsJ
cmV0dXJuIG9wcy0+aW9jdGwobWRldiwgY21kLCBhcmcpOwo+PiAgIH0KPj4KPj4gICBzdGF0aWMg
c3NpemVfdCB2ZmlvX21kZXZfcmVhZCh2b2lkICpkZXZpY2VfZGF0YSwgY2hhciBfX3VzZXIgKmJ1
ZiwKPj4gICAJCQkgICAgICBzaXplX3QgY291bnQsIGxvZmZfdCAqcHBvcykKPj4gICB7Cj4+ICAg
CXN0cnVjdCBtZGV2X2RldmljZSAqbWRldiA9IGRldmljZV9kYXRhOwo+PiAtCXN0cnVjdCBtZGV2
X3BhcmVudCAqcGFyZW50ID0gbWRldi0+cGFyZW50Owo+PiArCWNvbnN0IHN0cnVjdCB2ZmlvX21k
ZXZfZGV2aWNlX29wcyAqb3BzID0KPj4gbWRldl9nZXRfZGV2X29wcyhtZGV2KTsKPj4KPj4gLQlp
ZiAodW5saWtlbHkoIXBhcmVudC0+b3BzLT5yZWFkKSkKPj4gKwlpZiAodW5saWtlbHkoIW9wcy0+
cmVhZCkpCj4+ICAgCQlyZXR1cm4gLUVJTlZBTDsKPj4KPj4gLQlyZXR1cm4gcGFyZW50LT5vcHMt
PnJlYWQobWRldiwgYnVmLCBjb3VudCwgcHBvcyk7Cj4+ICsJcmV0dXJuIG9wcy0+cmVhZChtZGV2
LCBidWYsIGNvdW50LCBwcG9zKTsKPj4gICB9Cj4+Cj4+ICAgc3RhdGljIHNzaXplX3QgdmZpb19t
ZGV2X3dyaXRlKHZvaWQgKmRldmljZV9kYXRhLCBjb25zdCBjaGFyIF9fdXNlciAqYnVmLAo+PiAg
IAkJCSAgICAgICBzaXplX3QgY291bnQsIGxvZmZfdCAqcHBvcykKPj4gICB7Cj4+ICAgCXN0cnVj
dCBtZGV2X2RldmljZSAqbWRldiA9IGRldmljZV9kYXRhOwo+PiAtCXN0cnVjdCBtZGV2X3BhcmVu
dCAqcGFyZW50ID0gbWRldi0+cGFyZW50Owo+PiArCWNvbnN0IHN0cnVjdCB2ZmlvX21kZXZfZGV2
aWNlX29wcyAqb3BzID0KPj4gbWRldl9nZXRfZGV2X29wcyhtZGV2KTsKPj4KPj4gLQlpZiAodW5s
aWtlbHkoIXBhcmVudC0+b3BzLT53cml0ZSkpCj4+ICsJaWYgKHVubGlrZWx5KCFvcHMtPndyaXRl
KSkKPj4gICAJCXJldHVybiAtRUlOVkFMOwo+Pgo+PiAtCXJldHVybiBwYXJlbnQtPm9wcy0+d3Jp
dGUobWRldiwgYnVmLCBjb3VudCwgcHBvcyk7Cj4+ICsJcmV0dXJuIG9wcy0+d3JpdGUobWRldiwg
YnVmLCBjb3VudCwgcHBvcyk7Cj4+ICAgfQo+Pgo+PiAgIHN0YXRpYyBpbnQgdmZpb19tZGV2X21t
YXAodm9pZCAqZGV2aWNlX2RhdGEsIHN0cnVjdCB2bV9hcmVhX3N0cnVjdCAqdm1hKQo+PiB7Cj4+
ICAgCXN0cnVjdCBtZGV2X2RldmljZSAqbWRldiA9IGRldmljZV9kYXRhOwo+PiAtCXN0cnVjdCBt
ZGV2X3BhcmVudCAqcGFyZW50ID0gbWRldi0+cGFyZW50Owo+PiArCWNvbnN0IHN0cnVjdCB2Zmlv
X21kZXZfZGV2aWNlX29wcyAqb3BzID0KPj4gbWRldl9nZXRfZGV2X29wcyhtZGV2KTsKPj4KPj4g
LQlpZiAodW5saWtlbHkoIXBhcmVudC0+b3BzLT5tbWFwKSkKPj4gKwlpZiAodW5saWtlbHkoIW9w
cy0+bW1hcCkpCj4+ICAgCQlyZXR1cm4gLUVJTlZBTDsKPj4KPj4gLQlyZXR1cm4gcGFyZW50LT5v
cHMtPm1tYXAobWRldiwgdm1hKTsKPj4gKwlyZXR1cm4gb3BzLT5tbWFwKG1kZXYsIHZtYSk7Cj4+
ICAgfQo+Pgo+PiAgIHN0YXRpYyBjb25zdCBzdHJ1Y3QgdmZpb19kZXZpY2Vfb3BzIHZmaW9fbWRl
dl9kZXZfb3BzID0geyBkaWZmIC0tZ2l0Cj4+IGEvaW5jbHVkZS9saW51eC9tZGV2LmggYi9pbmNs
dWRlL2xpbnV4L21kZXYuaCBpbmRleAo+PiA3OGI2OWQwOWViNTQuLjNkMjllMDllMjBjOSAxMDA2
NDQKPj4gLS0tIGEvaW5jbHVkZS9saW51eC9tZGV2LmgKPj4gKysrIGIvaW5jbHVkZS9saW51eC9t
ZGV2LmgKPj4gQEAgLTEwLDcgKzEwLDEzIEBACj4+ICAgI2lmbmRlZiBNREVWX0gKPj4gICAjZGVm
aW5lIE1ERVZfSAo+Pgo+PiArI2luY2x1ZGUgPGxpbnV4L3R5cGVzLmg+Cj4+ICsjaW5jbHVkZSA8
bGludXgvZGV2aWNlLmg+Cj4+ICsjaW5jbHVkZSA8bGludXgvbWRldi5oPgo+PiArI2luY2x1ZGUg
PHVhcGkvbGludXgvdXVpZC5oPgo+PiArCj4+ICAgc3RydWN0IG1kZXZfZGV2aWNlOwo+PiArc3Ry
dWN0IHZmaW9fbWRldl9kZXZpY2Vfb3BzOwo+Pgo+PiAgIC8qCj4+ICAgICogQ2FsbGVkIGJ5IHRo
ZSBwYXJlbnQgZGV2aWNlIGRyaXZlciB0byBzZXQgdGhlIGRldmljZSB3aGljaCByZXByZXNlbnRz
IEBACj4+IC00OCwzMCArNTQsNyBAQCBzdHJ1Y3QgZGV2aWNlICptZGV2X2dldF9pb21tdV9kZXZp
Y2Uoc3RydWN0IGRldmljZQo+PiAqZGV2KTsKPj4gICAgKgkJCUBtZGV2OiBtZGV2X2RldmljZSBk
ZXZpY2Ugc3RydWN0dXJlIHdoaWNoIGlzIGJlaW5nCj4+ICAgICoJCQkgICAgICAgZGVzdHJveWVk
Cj4+ICAgICoJCQlSZXR1cm5zIGludGVnZXI6IHN1Y2Nlc3MgKDApIG9yIGVycm9yICg8IDApCj4+
IC0gKiBAb3BlbjoJCU9wZW4gbWVkaWF0ZWQgZGV2aWNlLgo+PiAtICoJCQlAbWRldjogbWVkaWF0
ZWQgZGV2aWNlLgo+PiAtICoJCQlSZXR1cm5zIGludGVnZXI6IHN1Y2Nlc3MgKDApIG9yIGVycm9y
ICg8IDApCj4+IC0gKiBAcmVsZWFzZToJCXJlbGVhc2UgbWVkaWF0ZWQgZGV2aWNlCj4+IC0gKgkJ
CUBtZGV2OiBtZWRpYXRlZCBkZXZpY2UuCj4+IC0gKiBAcmVhZDoJCVJlYWQgZW11bGF0aW9uIGNh
bGxiYWNrCj4+IC0gKgkJCUBtZGV2OiBtZWRpYXRlZCBkZXZpY2Ugc3RydWN0dXJlCj4+IC0gKgkJ
CUBidWY6IHJlYWQgYnVmZmVyCj4+IC0gKgkJCUBjb3VudDogbnVtYmVyIG9mIGJ5dGVzIHRvIHJl
YWQKPj4gLSAqCQkJQHBwb3M6IGFkZHJlc3MuCj4+IC0gKgkJCVJldHVucyBudW1iZXIgb24gYnl0
ZXMgcmVhZCBvbiBzdWNjZXNzIG9yIGVycm9yLgo+PiAtICogQHdyaXRlOgkJV3JpdGUgZW11bGF0
aW9uIGNhbGxiYWNrCj4+IC0gKgkJCUBtZGV2OiBtZWRpYXRlZCBkZXZpY2Ugc3RydWN0dXJlCj4+
IC0gKgkJCUBidWY6IHdyaXRlIGJ1ZmZlcgo+PiAtICoJCQlAY291bnQ6IG51bWJlciBvZiBieXRl
cyB0byBiZSB3cml0dGVuCj4+IC0gKgkJCUBwcG9zOiBhZGRyZXNzLgo+PiAtICoJCQlSZXR1bnMg
bnVtYmVyIG9uIGJ5dGVzIHdyaXR0ZW4gb24gc3VjY2VzcyBvciBlcnJvci4KPj4gLSAqIEBpb2N0
bDoJCUlPQ1RMIGNhbGxiYWNrCj4+IC0gKgkJCUBtZGV2OiBtZWRpYXRlZCBkZXZpY2Ugc3RydWN0
dXJlCj4+IC0gKgkJCUBjbWQ6IGlvY3RsIGNvbW1hbmQKPj4gLSAqCQkJQGFyZzogYXJndW1lbnRz
IHRvIGlvY3RsCj4+IC0gKiBAbW1hcDoJCW1tYXAgY2FsbGJhY2sKPj4gLSAqCQkJQG1kZXY6IG1l
ZGlhdGVkIGRldmljZSBzdHJ1Y3R1cmUKPj4gLSAqCQkJQHZtYTogdm1hIHN0cnVjdHVyZQo+PiAr
ICoKPj4gICAgKiBQYXJlbnQgZGV2aWNlIHRoYXQgc3VwcG9ydCBtZWRpYXRlZCBkZXZpY2Ugc2hv
dWxkIGJlIHJlZ2lzdGVyZWQgd2l0aAo+PiBtZGV2Cj4+ICAgICogbW9kdWxlIHdpdGggbWRldl9w
YXJlbnRfb3BzIHN0cnVjdHVyZS4KPj4gICAgKiovCj4+IEBAIC04MywxNSArNjYsNiBAQCBzdHJ1
Y3QgbWRldl9wYXJlbnRfb3BzIHsKPj4KPj4gICAJaW50ICAgICAoKmNyZWF0ZSkoc3RydWN0IGtv
YmplY3QgKmtvYmosIHN0cnVjdCBtZGV2X2RldmljZSAqbWRldik7Cj4+ICAgCWludCAgICAgKCpy
ZW1vdmUpKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldik7Cj4+IC0JaW50ICAgICAoKm9wZW4pKHN0
cnVjdCBtZGV2X2RldmljZSAqbWRldik7Cj4+IC0Jdm9pZCAgICAoKnJlbGVhc2UpKHN0cnVjdCBt
ZGV2X2RldmljZSAqbWRldik7Cj4+IC0Jc3NpemVfdCAoKnJlYWQpKHN0cnVjdCBtZGV2X2Rldmlj
ZSAqbWRldiwgY2hhciBfX3VzZXIgKmJ1ZiwKPj4gLQkJCXNpemVfdCBjb3VudCwgbG9mZl90ICpw
cG9zKTsKPj4gLQlzc2l6ZV90ICgqd3JpdGUpKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldiwgY29u
c3QgY2hhciBfX3VzZXIgKmJ1ZiwKPj4gLQkJCSBzaXplX3QgY291bnQsIGxvZmZfdCAqcHBvcyk7
Cj4+IC0JbG9uZwkoKmlvY3RsKShzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYsIHVuc2lnbmVkIGlu
dCBjbWQsCj4+IC0JCQkgdW5zaWduZWQgbG9uZyBhcmcpOwo+PiAtCWludAkoKm1tYXApKHN0cnVj
dCBtZGV2X2RldmljZSAqbWRldiwgc3RydWN0IHZtX2FyZWFfc3RydWN0Cj4+ICp2bWEpOwo+PiAg
IH07Cj4+Cj4+ICAgLyogaW50ZXJmYWNlIGZvciBleHBvcnRpbmcgbWRldiBzdXBwb3J0ZWQgdHlw
ZSBhdHRyaWJ1dGVzICovIEBAIC0xMzMsOAo+PiArMTA3LDExIEBAIHN0cnVjdCBtZGV2X2RyaXZl
ciB7Cj4+Cj4+ICAgdm9pZCAqbWRldl9nZXRfZHJ2ZGF0YShzdHJ1Y3QgbWRldl9kZXZpY2UgKm1k
ZXYpOyAgdm9pZAo+PiBtZGV2X3NldF9kcnZkYXRhKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldiwg
dm9pZCAqZGF0YSk7Cj4+ICsKPiBVbnJlbGF0ZWQgbGluZSBjaGFuZ2UgZm9yIHRoaXMgcGF0Y2gu
IFBsZWFzZSByZW1vdmUuCgoKU3VyZS4KCgo+Cj4+ICAgY29uc3QgZ3VpZF90ICptZGV2X3V1aWQo
c3RydWN0IG1kZXZfZGV2aWNlICptZGV2KTsgLXZvaWQKPj4gbWRldl9zZXRfY2xhc3Moc3RydWN0
IG1kZXZfZGV2aWNlICptZGV2LCB1MTYgaWQpOwo+PiArdm9pZCBtZGV2X3NldF92ZmlvX29wcyhz
dHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYsCj4+ICsJCSAgICAgICBjb25zdCBzdHJ1Y3QgdmZpb19t
ZGV2X2RldmljZV9vcHMgKnZmaW9fb3BzKTsgY29uc3QKPj4gdm9pZAo+PiArKm1kZXZfZ2V0X2Rl
dl9vcHMoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2KTsKPj4KPiBTaW5jZSB5b3UgaGF2ZSB0aGUg
c2V0X3ZmaW9fb3BzLCBpdHMgYmV0dGVyIHRvIGhhdmUgZ2V0X3ZmaW9fb3BzKCkgYW5kIHNpbWls
YXJseSBnZXRfdmlydGlvX29wcy4KCgpPay4KCgo+Cj4+ICAgZXh0ZXJuIHN0cnVjdCBidXNfdHlw
ZSBtZGV2X2J1c190eXBlOwo+Pgo+PiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9saW51eC92ZmlvX21k
ZXYuaCBiL2luY2x1ZGUvbGludXgvdmZpb19tZGV2LmggbmV3IGZpbGUKPj4gbW9kZSAxMDA2NDQg
aW5kZXggMDAwMDAwMDAwMDAwLi4zOTA3YzUzNzFjMmIKPj4gLS0tIC9kZXYvbnVsbAo+PiArKysg
Yi9pbmNsdWRlL2xpbnV4L3ZmaW9fbWRldi5oCj4gVGhpcyBmaWxlIG5hbWUgaXMgY29uZnVzaW5n
Lgo+IHZmaW9fbWRldl9vcHMuaCBpcyBtb3JlIGFjY3VyYXRlIG5hbWUgb2Ygd2hhdCBpdCBpbnRl
bmRzIHRvIGFjaGlldmUuCj4gSWYgeW91IHNlZSB0aGlzIGZpbGUgZXhwYW5kaW5nIHNjb3BlIGJl
eW9uZCBvcHMsIHRoaXMgZmlsZSBuYW1lIGxvb2tzIGZpbmUuCj4KPj4gQEAgLTAsMCArMSw1MiBA
QAo+PiArLyogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb25seSAqLwo+PiArLyoK
Pj4gKyAqIFZGSU8gTWVkaWF0ZWQgZGV2aWNlIGRlZmluaXRpb24KPj4gKyAqLwo+PiArCj4+ICsj
aWZuZGVmIFZGSU9fTURFVl9ICj4+ICsjZGVmaW5lIFZGSU9fTURFVl9ICj4+ICsKPj4gKyNpbmNs
dWRlIDxsaW51eC9tZGV2Lmg+Cj4+ICsKPj4gKy8qKgo+PiArICogc3RydWN0IHZmaW9fbWRldl9k
ZXZpY2Vfb3BzIC0gU3RydWN0dXJlIHRvIGJlIHJlZ2lzdGVyZWQgZm9yIGVhY2gKPj4gKyAqIG1k
ZXYgZGV2aWNlIHRvIHJlZ2lzdGVyIHRoZSBkZXZpY2UgdG8gdmZpby1tZGV2IG1vZHVsZS4KPj4g
KyAqCj4+ICsgKiBAb3BlbjoJCU9wZW4gbWVkaWF0ZWQgZGV2aWNlLgo+PiArICoJCQlAbWRldjog
bWVkaWF0ZWQgZGV2aWNlLgo+PiArICoJCQlSZXR1cm5zIGludGVnZXI6IHN1Y2Nlc3MgKDApIG9y
IGVycm9yICg8IDApCj4+ICsgKiBAcmVsZWFzZToJCXJlbGVhc2UgbWVkaWF0ZWQgZGV2aWNlCj4+
ICsgKgkJCUBtZGV2OiBtZWRpYXRlZCBkZXZpY2UuCj4+ICsgKiBAcmVhZDoJCVJlYWQgZW11bGF0
aW9uIGNhbGxiYWNrCj4+ICsgKgkJCUBtZGV2OiBtZWRpYXRlZCBkZXZpY2Ugc3RydWN0dXJlCj4+
ICsgKgkJCUBidWY6IHJlYWQgYnVmZmVyCj4+ICsgKgkJCUBjb3VudDogbnVtYmVyIG9mIGJ5dGVz
IHRvIHJlYWQKPj4gKyAqCQkJQHBwb3M6IGFkZHJlc3MuCj4+ICsgKgkJCVJldHVucyBudW1iZXIg
b24gYnl0ZXMgcmVhZCBvbiBzdWNjZXNzIG9yIGVycm9yLgo+PiArICogQHdyaXRlOgkJV3JpdGUg
ZW11bGF0aW9uIGNhbGxiYWNrCj4+ICsgKgkJCUBtZGV2OiBtZWRpYXRlZCBkZXZpY2Ugc3RydWN0
dXJlCj4+ICsgKgkJCUBidWY6IHdyaXRlIGJ1ZmZlcgo+PiArICoJCQlAY291bnQ6IG51bWJlciBv
ZiBieXRlcyB0byBiZSB3cml0dGVuCj4+ICsgKgkJCUBwcG9zOiBhZGRyZXNzLgo+PiArICoJCQlS
ZXR1bnMgbnVtYmVyIG9uIGJ5dGVzIHdyaXR0ZW4gb24gc3VjY2VzcyBvciBlcnJvci4KPj4gKyAq
IEBpb2N0bDoJCUlPQ1RMIGNhbGxiYWNrCj4+ICsgKgkJCUBtZGV2OiBtZWRpYXRlZCBkZXZpY2Ug
c3RydWN0dXJlCj4+ICsgKgkJCUBjbWQ6IGlvY3RsIGNvbW1hbmQKPj4gKyAqCQkJQGFyZzogYXJn
dW1lbnRzIHRvIGlvY3RsCj4+ICsgKiBAbW1hcDoJCW1tYXAgY2FsbGJhY2sKPj4gKyAqCQkJQG1k
ZXY6IG1lZGlhdGVkIGRldmljZSBzdHJ1Y3R1cmUKPj4gKyAqCQkJQHZtYTogdm1hIHN0cnVjdHVy
ZQo+PiArICovCj4+ICtzdHJ1Y3QgdmZpb19tZGV2X2RldmljZV9vcHMgewo+PiArCWludCAgICAg
KCpvcGVuKShzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYpOwo+PiArCXZvaWQgICAgKCpyZWxlYXNl
KShzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYpOwo+PiArCXNzaXplX3QgKCpyZWFkKShzdHJ1Y3Qg
bWRldl9kZXZpY2UgKm1kZXYsIGNoYXIgX191c2VyICpidWYsCj4+ICsJCQlzaXplX3QgY291bnQs
IGxvZmZfdCAqcHBvcyk7Cj4+ICsJc3NpemVfdCAoKndyaXRlKShzdHJ1Y3QgbWRldl9kZXZpY2Ug
Km1kZXYsIGNvbnN0IGNoYXIgX191c2VyICpidWYsCj4+ICsJCQkgc2l6ZV90IGNvdW50LCBsb2Zm
X3QgKnBwb3MpOwo+PiArCWxvbmcJKCppb2N0bCkoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2LCB1
bnNpZ25lZCBpbnQgY21kLAo+PiArCQkJIHVuc2lnbmVkIGxvbmcgYXJnKTsKPj4gKwlpbnQJKCpt
bWFwKShzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYsIHN0cnVjdCB2bV9hcmVhX3N0cnVjdAo+PiAq
dm1hKTsKPj4gK307Cj4+ICsKPj4gKyNlbmRpZgo+PiBkaWZmIC0tZ2l0IGEvc2FtcGxlcy92Zmlv
LW1kZXYvbWJvY2hzLmMgYi9zYW1wbGVzL3ZmaW8tbWRldi9tYm9jaHMuYwo+PiBpbmRleCAxMTVi
YzUwNzQ2NTYuLjM3YWJkZjFiMjdhOCAxMDA2NDQKPj4gLS0tIGEvc2FtcGxlcy92ZmlvLW1kZXYv
bWJvY2hzLmMKPj4gKysrIGIvc2FtcGxlcy92ZmlvLW1kZXYvbWJvY2hzLmMKPj4gQEAgLTMwLDYg
KzMwLDcgQEAKPj4gICAjaW5jbHVkZSA8bGludXgvaW9tbXUuaD4KPj4gICAjaW5jbHVkZSA8bGlu
dXgvc3lzZnMuaD4KPj4gICAjaW5jbHVkZSA8bGludXgvbWRldi5oPgo+PiArI2luY2x1ZGUgPGxp
bnV4L3ZmaW9fbWRldi5oPgo+PiAgICNpbmNsdWRlIDxsaW51eC9wY2kuaD4KPj4gICAjaW5jbHVk
ZSA8bGludXgvZG1hLWJ1Zi5oPgo+PiAgICNpbmNsdWRlIDxsaW51eC9oaWdobWVtLmg+Cj4+IEBA
IC01MTYsNiArNTE3LDggQEAgc3RhdGljIGludCBtYm9jaHNfcmVzZXQoc3RydWN0IG1kZXZfZGV2
aWNlICptZGV2KQo+PiAgIAlyZXR1cm4gMDsKPj4gICB9Cj4+Cj4+ICtzdGF0aWMgY29uc3Qgc3Ry
dWN0IHZmaW9fbWRldl9kZXZpY2Vfb3BzIHZmaW9fbWRldl9vcHM7Cj4+ICsKPj4gICBzdGF0aWMg
aW50IG1ib2Noc19jcmVhdGUoc3RydWN0IGtvYmplY3QgKmtvYmosIHN0cnVjdCBtZGV2X2Rldmlj
ZSAqbWRldikgIHsKPj4gICAJY29uc3Qgc3RydWN0IG1ib2Noc190eXBlICp0eXBlID0gbWJvY2hz
X2ZpbmRfdHlwZShrb2JqKTsgQEAgLQo+PiA1NjEsNyArNTY0LDcgQEAgc3RhdGljIGludCBtYm9j
aHNfY3JlYXRlKHN0cnVjdCBrb2JqZWN0ICprb2JqLCBzdHJ1Y3QKPj4gbWRldl9kZXZpY2UgKm1k
ZXYpCj4+ICAgCW1ib2Noc19yZXNldChtZGV2KTsKPj4KPj4gICAJbWJvY2hzX3VzZWRfbWJ5dGVz
ICs9IHR5cGUtPm1ieXRlczsKPj4gLQltZGV2X3NldF9jbGFzcyhtZGV2LCBNREVWX0NMQVNTX0lE
X1ZGSU8pOwo+PiArCW1kZXZfc2V0X3ZmaW9fb3BzKG1kZXYsICZ2ZmlvX21kZXZfb3BzKTsKPj4g
ICAJcmV0dXJuIDA7Cj4+Cj4+ICAgZXJyX21lbToKPj4gQEAgLTE0MTksMTIgKzE0MjIsNyBAQCBz
dGF0aWMgc3RydWN0IGF0dHJpYnV0ZV9ncm91cAo+PiAqbWRldl90eXBlX2dyb3Vwc1tdID0gewo+
PiAgIAlOVUxMLAo+PiAgIH07Cj4+Cj4+IC1zdGF0aWMgY29uc3Qgc3RydWN0IG1kZXZfcGFyZW50
X29wcyBtZGV2X2ZvcHMgPSB7Cj4+IC0JLm93bmVyCQkJPSBUSElTX01PRFVMRSwKPj4gLQkubWRl
dl9hdHRyX2dyb3Vwcwk9IG1kZXZfZGV2X2dyb3VwcywKPj4gLQkuc3VwcG9ydGVkX3R5cGVfZ3Jv
dXBzCT0gbWRldl90eXBlX2dyb3VwcywKPj4gLQkuY3JlYXRlCQkJPSBtYm9jaHNfY3JlYXRlLAo+
PiAtCS5yZW1vdmUJCQk9IG1ib2Noc19yZW1vdmUsCj4+ICtzdGF0aWMgY29uc3Qgc3RydWN0IHZm
aW9fbWRldl9kZXZpY2Vfb3BzIHZmaW9fbWRldl9vcHMgPSB7Cj4+ICAgCS5vcGVuCQkJPSBtYm9j
aHNfb3BlbiwKPj4gICAJLnJlbGVhc2UJCT0gbWJvY2hzX2Nsb3NlLAo+PiAgIAkucmVhZAkJCT0g
bWJvY2hzX3JlYWQsCj4+IEBAIC0xNDMzLDYgKzE0MzEsMTQgQEAgc3RhdGljIGNvbnN0IHN0cnVj
dCBtZGV2X3BhcmVudF9vcHMgbWRldl9mb3BzID0KPj4gewo+PiAgIAkubW1hcAkJCT0gbWJvY2hz
X21tYXAsCj4+ICAgfTsKPj4KPj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3QgbWRldl9wYXJlbnRfb3Bz
IG1kZXZfZm9wcyA9IHsKPj4gKwkub3duZXIJCQk9IFRISVNfTU9EVUxFLAo+PiArCS5tZGV2X2F0
dHJfZ3JvdXBzCT0gbWRldl9kZXZfZ3JvdXBzLAo+PiArCS5zdXBwb3J0ZWRfdHlwZV9ncm91cHMJ
PSBtZGV2X3R5cGVfZ3JvdXBzLAo+PiArCS5jcmVhdGUJCQk9IG1ib2Noc19jcmVhdGUsCj4+ICsJ
LnJlbW92ZQkJCT0gbWJvY2hzX3JlbW92ZSwKPj4gK307Cj4+ICsKPj4gICBzdGF0aWMgY29uc3Qg
c3RydWN0IGZpbGVfb3BlcmF0aW9ucyB2ZF9mb3BzID0gewo+PiAgIAkub3duZXIJCT0gVEhJU19N
T0RVTEUsCj4+ICAgfTsKPj4gZGlmZiAtLWdpdCBhL3NhbXBsZXMvdmZpby1tZGV2L21kcHkuYyBi
L3NhbXBsZXMvdmZpby1tZGV2L21kcHkuYyBpbmRleAo+PiA2NjU2MTQ1NzRkNTAuLmYyMWM3OTVj
NDBlNCAxMDA2NDQKPj4gLS0tIGEvc2FtcGxlcy92ZmlvLW1kZXYvbWRweS5jCj4+ICsrKyBiL3Nh
bXBsZXMvdmZpby1tZGV2L21kcHkuYwo+PiBAQCAtMjYsNiArMjYsNyBAQAo+PiAgICNpbmNsdWRl
IDxsaW51eC9pb21tdS5oPgo+PiAgICNpbmNsdWRlIDxsaW51eC9zeXNmcy5oPgo+PiAgICNpbmNs
dWRlIDxsaW51eC9tZGV2Lmg+Cj4+ICsjaW5jbHVkZSA8bGludXgvdmZpb19tZGV2Lmg+Cj4+ICAg
I2luY2x1ZGUgPGxpbnV4L3BjaS5oPgo+PiAgICNpbmNsdWRlIDxkcm0vZHJtX2ZvdXJjYy5oPgo+
PiAgICNpbmNsdWRlICJtZHB5LWRlZnMuaCIKPj4gQEAgLTIyNiw2ICsyMjcsOCBAQCBzdGF0aWMg
aW50IG1kcHlfcmVzZXQoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2KQo+PiAgIAlyZXR1cm4gMDsK
Pj4gICB9Cj4+Cj4+ICtzdGF0aWMgY29uc3Qgc3RydWN0IHZmaW9fbWRldl9kZXZpY2Vfb3BzIHZm
aW9fbWRldl9vcHM7Cj4+ICsKPj4gICBzdGF0aWMgaW50IG1kcHlfY3JlYXRlKHN0cnVjdCBrb2Jq
ZWN0ICprb2JqLCBzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYpICB7Cj4+ICAgCWNvbnN0IHN0cnVj
dCBtZHB5X3R5cGUgKnR5cGUgPSBtZHB5X2ZpbmRfdHlwZShrb2JqKTsgQEAgLTI2OSw3Cj4+ICsy
NzIsNyBAQCBzdGF0aWMgaW50IG1kcHlfY3JlYXRlKHN0cnVjdCBrb2JqZWN0ICprb2JqLCBzdHJ1
Y3QgbWRldl9kZXZpY2UKPj4gKm1kZXYpCj4+ICAgCW1kcHlfcmVzZXQobWRldik7Cj4+Cj4+ICAg
CW1kcHlfY291bnQrKzsKPj4gLQltZGV2X3NldF9jbGFzcyhtZGV2LCBNREVWX0NMQVNTX0lEX1ZG
SU8pOwo+PiArCW1kZXZfc2V0X3ZmaW9fb3BzKG1kZXYsICZ2ZmlvX21kZXZfb3BzKTsKPj4gICAJ
cmV0dXJuIDA7Cj4+ICAgfQo+Pgo+PiBAQCAtNzI2LDEyICs3MjksNyBAQCBzdGF0aWMgc3RydWN0
IGF0dHJpYnV0ZV9ncm91cCAqbWRldl90eXBlX2dyb3Vwc1tdCj4+ID0gewo+PiAgIAlOVUxMLAo+
PiAgIH07Cj4+Cj4+IC1zdGF0aWMgY29uc3Qgc3RydWN0IG1kZXZfcGFyZW50X29wcyBtZGV2X2Zv
cHMgPSB7Cj4+IC0JLm93bmVyCQkJPSBUSElTX01PRFVMRSwKPj4gLQkubWRldl9hdHRyX2dyb3Vw
cwk9IG1kZXZfZGV2X2dyb3VwcywKPj4gLQkuc3VwcG9ydGVkX3R5cGVfZ3JvdXBzCT0gbWRldl90
eXBlX2dyb3VwcywKPj4gLQkuY3JlYXRlCQkJPSBtZHB5X2NyZWF0ZSwKPj4gLQkucmVtb3ZlCQkJ
PSBtZHB5X3JlbW92ZSwKPj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3QgdmZpb19tZGV2X2RldmljZV9v
cHMgdmZpb19tZGV2X29wcyA9IHsKPj4gICAJLm9wZW4JCQk9IG1kcHlfb3BlbiwKPj4gICAJLnJl
bGVhc2UJCT0gbWRweV9jbG9zZSwKPj4gICAJLnJlYWQJCQk9IG1kcHlfcmVhZCwKPj4gQEAgLTc0
MCw2ICs3MzgsMTQgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBtZGV2X3BhcmVudF9vcHMgbWRldl9m
b3BzID0gewo+PiAgIAkubW1hcAkJCT0gbWRweV9tbWFwLAo+PiAgIH07Cj4+Cj4+ICtzdGF0aWMg
Y29uc3Qgc3RydWN0IG1kZXZfcGFyZW50X29wcyBtZGV2X2ZvcHMgPSB7Cj4+ICsJLm93bmVyCQkJ
PSBUSElTX01PRFVMRSwKPj4gKwkubWRldl9hdHRyX2dyb3Vwcwk9IG1kZXZfZGV2X2dyb3VwcywK
Pj4gKwkuc3VwcG9ydGVkX3R5cGVfZ3JvdXBzCT0gbWRldl90eXBlX2dyb3VwcywKPj4gKwkuY3Jl
YXRlCQkJPSBtZHB5X2NyZWF0ZSwKPj4gKwkucmVtb3ZlCQkJPSBtZHB5X3JlbW92ZSwKPj4gK307
Cj4+ICsKPj4gICBzdGF0aWMgY29uc3Qgc3RydWN0IGZpbGVfb3BlcmF0aW9ucyB2ZF9mb3BzID0g
ewo+PiAgIAkub3duZXIJCT0gVEhJU19NT0RVTEUsCj4+ICAgfTsKPj4gZGlmZiAtLWdpdCBhL3Nh
bXBsZXMvdmZpby1tZGV2L210dHkuYyBiL3NhbXBsZXMvdmZpby1tZGV2L210dHkuYyBpbmRleAo+
PiA5MGRhMTJmZjdmZDkuLmI4MjlmMzNiOThmNSAxMDA2NDQKPj4gLS0tIGEvc2FtcGxlcy92Zmlv
LW1kZXYvbXR0eS5jCj4+ICsrKyBiL3NhbXBsZXMvdmZpby1tZGV2L210dHkuYwo+PiBAQCAtMjcs
NiArMjcsNyBAQAo+PiAgICNpbmNsdWRlIDxsaW51eC9jdHlwZS5oPgo+PiAgICNpbmNsdWRlIDxs
aW51eC9maWxlLmg+Cj4+ICAgI2luY2x1ZGUgPGxpbnV4L21kZXYuaD4KPj4gKyNpbmNsdWRlIDxs
aW51eC92ZmlvX21kZXYuaD4KPj4gICAjaW5jbHVkZSA8bGludXgvcGNpLmg+Cj4+ICAgI2luY2x1
ZGUgPGxpbnV4L3NlcmlhbC5oPgo+PiAgICNpbmNsdWRlIDx1YXBpL2xpbnV4L3NlcmlhbF9yZWcu
aD4KPj4gQEAgLTcwOCw2ICs3MDksOCBAQCBzdGF0aWMgc3NpemVfdCBtZGV2X2FjY2VzcyhzdHJ1
Y3QgbWRldl9kZXZpY2UKPj4gKm1kZXYsIHU4ICpidWYsIHNpemVfdCBjb3VudCwKPj4gICAJcmV0
dXJuIHJldDsKPj4gICB9Cj4+Cj4+ICtzdGF0aWMgY29uc3Qgc3RydWN0IHZmaW9fbWRldl9kZXZp
Y2Vfb3BzIHZmaW9fZGV2X29wczsKPj4gKwo+PiAgIHN0YXRpYyBpbnQgbXR0eV9jcmVhdGUoc3Ry
dWN0IGtvYmplY3QgKmtvYmosIHN0cnVjdCBtZGV2X2RldmljZSAqbWRldikgIHsKPj4gICAJc3Ry
dWN0IG1kZXZfc3RhdGUgKm1kZXZfc3RhdGU7Cj4+IEBAIC03NTUsNyArNzU4LDcgQEAgc3RhdGlj
IGludCBtdHR5X2NyZWF0ZShzdHJ1Y3Qga29iamVjdCAqa29iaiwgc3RydWN0Cj4+IG1kZXZfZGV2
aWNlICptZGV2KQo+PiAgIAlsaXN0X2FkZCgmbWRldl9zdGF0ZS0+bmV4dCwgJm1kZXZfZGV2aWNl
c19saXN0KTsKPj4gICAJbXV0ZXhfdW5sb2NrKCZtZGV2X2xpc3RfbG9jayk7Cj4+Cj4+IC0JbWRl
dl9zZXRfY2xhc3MobWRldiwgTURFVl9DTEFTU19JRF9WRklPKTsKPj4gKwltZGV2X3NldF92Zmlv
X29wcyhtZGV2LCAmdmZpb19kZXZfb3BzKTsKPj4gICAJcmV0dXJuIDA7Cj4+ICAgfQo+Pgo+PiBA
QCAtMTM4OCw2ICsxMzkxLDE0IEBAIHN0YXRpYyBzdHJ1Y3QgYXR0cmlidXRlX2dyb3VwCj4+ICpt
ZGV2X3R5cGVfZ3JvdXBzW10gPSB7Cj4+ICAgCU5VTEwsCj4+ICAgfTsKPj4KPj4gK3N0YXRpYyBj
b25zdCBzdHJ1Y3QgdmZpb19tZGV2X2RldmljZV9vcHMgdmZpb19kZXZfb3BzID0gewo+PiArCS5v
cGVuICAgICAgICAgICAgICAgICAgID0gbXR0eV9vcGVuLAo+PiArCS5yZWxlYXNlICAgICAgICAg
ICAgICAgID0gbXR0eV9jbG9zZSwKPj4gKwkucmVhZCAgICAgICAgICAgICAgICAgICA9IG10dHlf
cmVhZCwKPj4gKwkud3JpdGUgICAgICAgICAgICAgICAgICA9IG10dHlfd3JpdGUsCj4+ICsJLmlv
Y3RsCQkgICAgICAgID0gbXR0eV9pb2N0bCwKPj4gK307Cj4+ICsKPiBTaW5jZSBodW5rIHNob3dz
IHRoYXQgdmZpb19kZXZfb3BzIGFkZGVkIG5ldyBoZXJlLCBpdCBpcyBiZXR0ZXIgdG8gZHJvcCB0
aGUgZXh0cmEgd2hpdGUgc3BhY2UgbWl4ZWQgd2l0aCB0YWIgYWxpZ25tZW50Lgo+IEp1c3QgaGF2
ZSBzaW5nbGUgd2hpdGUgc3BhY2UgbGlrZSBiZWxvdy4KPgo+IAkub3BlbiA9IG10dHlfb3BlbiwK
PiAJLnJlbGVhc2UgPSBtdHR5X2Nsb3NlLAo+IAkucmVhZCA9IG10dHlfcmVhZCwKPiAJLndyaXRl
ID0gbXR0eV93cml0ZSwKPiAJLmlvY3RsID0gbXR0eV9pb2N0bAoKCldpbGwgZG8uCgpUaGFua3MK
Cgo+Cj4+ICAgc3RhdGljIGNvbnN0IHN0cnVjdCBtZGV2X3BhcmVudF9vcHMgbWRldl9mb3BzID0g
ewo+PiAgIAkub3duZXIgICAgICAgICAgICAgICAgICA9IFRISVNfTU9EVUxFLAo+PiAgIAkuZGV2
X2F0dHJfZ3JvdXBzICAgICAgICA9IG10dHlfZGV2X2dyb3VwcywKPj4gQEAgLTEzOTUsMTEgKzE0
MDYsNiBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IG1kZXZfcGFyZW50X29wcyBtZGV2X2ZvcHMgPQo+
PiB7Cj4+ICAgCS5zdXBwb3J0ZWRfdHlwZV9ncm91cHMgID0gbWRldl90eXBlX2dyb3VwcywKPj4g
ICAJLmNyZWF0ZSAgICAgICAgICAgICAgICAgPSBtdHR5X2NyZWF0ZSwKPj4gICAJLnJlbW92ZQkJ
CT0gbXR0eV9yZW1vdmUsCj4+IC0JLm9wZW4gICAgICAgICAgICAgICAgICAgPSBtdHR5X29wZW4s
Cj4+IC0JLnJlbGVhc2UgICAgICAgICAgICAgICAgPSBtdHR5X2Nsb3NlLAo+PiAtCS5yZWFkICAg
ICAgICAgICAgICAgICAgID0gbXR0eV9yZWFkLAo+PiAtCS53cml0ZSAgICAgICAgICAgICAgICAg
ID0gbXR0eV93cml0ZSwKPj4gLQkuaW9jdGwJCSAgICAgICAgPSBtdHR5X2lvY3RsLAo+PiAgIH07
Cj4+Cj4+ICAgc3RhdGljIHZvaWQgbXR0eV9kZXZpY2VfcmVsZWFzZShzdHJ1Y3QgZGV2aWNlICpk
ZXYpCj4+IC0tCj4+IDIuMTkuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRl
c2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8v
ZHJpLWRldmVs
