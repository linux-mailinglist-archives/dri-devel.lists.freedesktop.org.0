Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 134251C20A
	for <lists+dri-devel@lfdr.de>; Tue, 14 May 2019 07:44:02 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AE1588926A;
	Tue, 14 May 2019 05:43:59 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-vs1-xe4a.google.com (mail-vs1-xe4a.google.com
 [IPv6:2607:f8b0:4864:20::e4a])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 551F78926A
 for <dri-devel@lists.freedesktop.org>; Tue, 14 May 2019 05:43:58 +0000 (UTC)
Received: by mail-vs1-xe4a.google.com with SMTP id 184so600373vsw.16
 for <dri-devel@lists.freedesktop.org>; Mon, 13 May 2019 22:43:58 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:date:in-reply-to:message-id:mime-version
 :references:subject:from:to:cc;
 bh=k708XC1RWS6IC03AyjrjR94Dqv6JcvdDzosBHuXfxH8=;
 b=TWlz+YLy2j/AwiAcm45SdqB9Um+5yUsdVJy51iw8mZxMLtJmmMmRMp+k7YIHdzUR2D
 jbYbPgmaK0A2+F9ez5j482I51rvdb6Dg/6SOlpmO9V3R0lT4+Q0rYLfIvNsAkbLwc0Sq
 lJt5KdWQntf3+pGemlwaL5Opb4GUpXEBfenb1YMVgnpyMsi749X4fA9p6zlef2GPsTKJ
 L5KQl0QM3aYF05GQAPkdLgUis9+VmFgMVXBV4J/01nX6puRfSbMs9/r/hKZrWPKk520T
 YYwIzQP3vBgqhlBTjUiPYDi2VbtogP9bxt3NVTUFY1kx7+1d/hJ/YwHHjRoZZ40ifLaZ
 fXBw==
X-Gm-Message-State: APjAAAXae32JBE1ahEVUDZnu3uidXEE09JQ1zbndUGEq6cUXuuDz6cwq
 sh+/XQhyyB3jNPl0wC0I+eiraXUkI4bYvZFMWBVbZA==
X-Google-Smtp-Source: APXvYqxWDgyZzslG/g40cGf1tLChgc2SdznyzcZxZBY0pvWzUUl96zwEZMQADm3NMjXyp6ScbdNJTnAxWd5ZV2gZDdBG1A==
X-Received: by 2002:ab0:6193:: with SMTP id h19mr8134030uan.13.1557812637312; 
 Mon, 13 May 2019 22:43:57 -0700 (PDT)
Date: Mon, 13 May 2019 22:42:36 -0700
In-Reply-To: <20190514054251.186196-1-brendanhiggins@google.com>
Message-Id: <20190514054251.186196-4-brendanhiggins@google.com>
Mime-Version: 1.0
References: <20190514054251.186196-1-brendanhiggins@google.com>
X-Mailer: git-send-email 2.21.0.1020.gf2820cf01a-goog
Subject: [PATCH v3 03/18] kunit: test: add string_stream a std::stream like
 string builder
From: Brendan Higgins <brendanhiggins@google.com>
To: frowand.list@gmail.com, gregkh@linuxfoundation.org, keescook@google.com, 
 kieran.bingham@ideasonboard.com, mcgrof@kernel.org, robh@kernel.org, 
 sboyd@kernel.org, shuah@kernel.org, tytso@mit.edu, 
 yamada.masahiro@socionext.com
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=google.com; s=20161025;
 h=date:in-reply-to:message-id:mime-version:references:subject:from:to
 :cc;
 bh=k708XC1RWS6IC03AyjrjR94Dqv6JcvdDzosBHuXfxH8=;
 b=CGqmOOtjpXMd7hIYwGeClpivLkHfr7XcTv05DcSuV5i5ucCnVwyVsPUTqEoEh5oW97
 tPwPVV1l1XpnleG2uwCdzeRqToa567lMD0XmuqbwUD3JTgkkQFFlhi1v3lYN1ZZ+arRG
 Z6NnZSc7HQV1wByxN8sKKFpYvxIRIBFSpJTiYoPGTG2IC2k561igyIOm7Ijc2Hne/cFW
 YXf8Shm8rD+/m3lQMx70Ejdmi/cj3T6wFu6SJ0JyFGgM8XaLLqdnS8o2BRcnQbsUO1UZ
 ro2QdCiRAHeryGkoIZPqHIRXwe5Tv9VmSNxage0JS7qF8CXEWqpHcDZXS9eSqx9xNdhM
 nQ5w==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: pmladek@suse.com, linux-doc@vger.kernel.org, amir73il@gmail.com,
 Brendan Higgins <brendanhiggins@google.com>, dri-devel@lists.freedesktop.org,
 Alexander.Levin@microsoft.com, linux-kselftest@vger.kernel.org,
 linux-nvdimm@lists.01.org, khilman@baylibre.com, knut.omang@oracle.com,
 wfg@linux.intel.com, joel@jms.id.au, rientjes@google.com, jdike@addtoit.com,
 dan.carpenter@oracle.com, devicetree@vger.kernel.org,
 linux-kbuild@vger.kernel.org, Tim.Bird@sony.com, linux-um@lists.infradead.org,
 rostedt@goodmis.org, julia.lawall@lip6.fr, dan.j.williams@intel.com,
 kunit-dev@googlegroups.com, richard@nod.at, rdunlap@infradead.org,
 linux-kernel@vger.kernel.org, mpe@ellerman.id.au,
 linux-fsdevel@vger.kernel.org, logang@deltatee.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QSBudW1iZXIgb2YgdGVzdCBmZWF0dXJlcyBuZWVkIHRvIGRvIHByZXR0eSBjb21wbGljYXRlZCBz
dHJpbmcgcHJpbnRpbmcKd2hlcmUgaXQgbWF5IG5vdCBiZSBwb3NzaWJsZSB0byByZWx5IG9uIGEg
c2luZ2xlIHByZWFsbG9jYXRlZCBzdHJpbmcKd2l0aCBwYXJhbWV0ZXJzLgoKU28gcHJvdmlkZSBh
IGxpYnJhcnkgZm9yIGNvbnN0cnVjdGluZyB0aGUgc3RyaW5nIGFzIHlvdSBnbyBzaW1pbGFyIHRv
CkMrKydzIHN0ZDo6c3RyaW5nLgoKU2lnbmVkLW9mZi1ieTogQnJlbmRhbiBIaWdnaW5zIDxicmVu
ZGFuaGlnZ2luc0Bnb29nbGUuY29tPgpSZXZpZXdlZC1ieTogR3JlZyBLcm9haC1IYXJ0bWFuIDxn
cmVna2hAbGludXhmb3VuZGF0aW9uLm9yZz4KUmV2aWV3ZWQtYnk6IExvZ2FuIEd1bnRob3JwZSA8
bG9nYW5nQGRlbHRhdGVlLmNvbT4KLS0tCkNoYW5nZXMgU2luY2UgTGFzdCBSZXZpc2lvbjoKIC0g
UmVuYW1lZCBzdHJ1Y3QgaW5zdGFuY2Ugd2l0aCBmaWVsZCBvZiB0aGUgc2FtZSBuYW1lLCBhcyBw
ZXIgU2h1YWgncwogICBjb21tZW50cy4KLS0tCiBpbmNsdWRlL2t1bml0L3N0cmluZy1zdHJlYW0u
aCB8ICA1MSArKysrKysrKysrKysKIGt1bml0L01ha2VmaWxlICAgICAgICAgICAgICAgIHwgICAz
ICstCiBrdW5pdC9zdHJpbmctc3RyZWFtLmMgICAgICAgICB8IDE0MyArKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysrCiAzIGZpbGVzIGNoYW5nZWQsIDE5NiBpbnNlcnRpb25zKCspLCAx
IGRlbGV0aW9uKC0pCiBjcmVhdGUgbW9kZSAxMDA2NDQgaW5jbHVkZS9rdW5pdC9zdHJpbmctc3Ry
ZWFtLmgKIGNyZWF0ZSBtb2RlIDEwMDY0NCBrdW5pdC9zdHJpbmctc3RyZWFtLmMKCmRpZmYgLS1n
aXQgYS9pbmNsdWRlL2t1bml0L3N0cmluZy1zdHJlYW0uaCBiL2luY2x1ZGUva3VuaXQvc3RyaW5n
LXN0cmVhbS5oCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAwMDAuLjU2N2E0
NjI5NDA2ZGEKLS0tIC9kZXYvbnVsbAorKysgYi9pbmNsdWRlL2t1bml0L3N0cmluZy1zdHJlYW0u
aApAQCAtMCwwICsxLDUxIEBACisvKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMCAq
LworLyoKKyAqIEMrKyBzdHJlYW0gc3R5bGUgc3RyaW5nIGJ1aWxkZXIgdXNlZCBpbiBLVW5pdCBm
b3IgYnVpbGRpbmcgbWVzc2FnZXMuCisgKgorICogQ29weXJpZ2h0IChDKSAyMDE5LCBHb29nbGUg
TExDLgorICogQXV0aG9yOiBCcmVuZGFuIEhpZ2dpbnMgPGJyZW5kYW5oaWdnaW5zQGdvb2dsZS5j
b20+CisgKi8KKworI2lmbmRlZiBfS1VOSVRfU1RSSU5HX1NUUkVBTV9ICisjZGVmaW5lIF9LVU5J
VF9TVFJJTkdfU1RSRUFNX0gKKworI2luY2x1ZGUgPGxpbnV4L3R5cGVzLmg+CisjaW5jbHVkZSA8
bGludXgvc3BpbmxvY2suaD4KKyNpbmNsdWRlIDxsaW51eC9rcmVmLmg+CisjaW5jbHVkZSA8c3Rk
YXJnLmg+CisKK3N0cnVjdCBzdHJpbmdfc3RyZWFtX2ZyYWdtZW50IHsKKwlzdHJ1Y3QgbGlzdF9o
ZWFkIG5vZGU7CisJY2hhciAqZnJhZ21lbnQ7Cit9OworCitzdHJ1Y3Qgc3RyaW5nX3N0cmVhbSB7
CisJc2l6ZV90IGxlbmd0aDsKKwlzdHJ1Y3QgbGlzdF9oZWFkIGZyYWdtZW50czsKKworCS8qIGxl
bmd0aCBhbmQgZnJhZ21lbnRzIGFyZSBwcm90ZWN0ZWQgYnkgdGhpcyBsb2NrICovCisJc3Bpbmxv
Y2tfdCBsb2NrOworCXN0cnVjdCBrcmVmIHJlZmNvdW50OworfTsKKworc3RydWN0IHN0cmluZ19z
dHJlYW0gKm5ld19zdHJpbmdfc3RyZWFtKHZvaWQpOworCit2b2lkIGRlc3Ryb3lfc3RyaW5nX3N0
cmVhbShzdHJ1Y3Qgc3RyaW5nX3N0cmVhbSAqc3RyZWFtKTsKKwordm9pZCBzdHJpbmdfc3RyZWFt
X2dldChzdHJ1Y3Qgc3RyaW5nX3N0cmVhbSAqc3RyZWFtKTsKKworaW50IHN0cmluZ19zdHJlYW1f
cHV0KHN0cnVjdCBzdHJpbmdfc3RyZWFtICpzdHJlYW0pOworCitpbnQgc3RyaW5nX3N0cmVhbV9h
ZGQoc3RydWN0IHN0cmluZ19zdHJlYW0gKnRoaXMsIGNvbnN0IGNoYXIgKmZtdCwgLi4uKTsKKwor
aW50IHN0cmluZ19zdHJlYW1fdmFkZChzdHJ1Y3Qgc3RyaW5nX3N0cmVhbSAqdGhpcywKKwkJICAg
ICAgIGNvbnN0IGNoYXIgKmZtdCwKKwkJICAgICAgIHZhX2xpc3QgYXJncyk7CisKK2NoYXIgKnN0
cmluZ19zdHJlYW1fZ2V0X3N0cmluZyhzdHJ1Y3Qgc3RyaW5nX3N0cmVhbSAqdGhpcyk7CisKK3Zv
aWQgc3RyaW5nX3N0cmVhbV9jbGVhcihzdHJ1Y3Qgc3RyaW5nX3N0cmVhbSAqdGhpcyk7CisKK2Jv
b2wgc3RyaW5nX3N0cmVhbV9pc19lbXB0eShzdHJ1Y3Qgc3RyaW5nX3N0cmVhbSAqdGhpcyk7CisK
KyNlbmRpZiAvKiBfS1VOSVRfU1RSSU5HX1NUUkVBTV9IICovCmRpZmYgLS1naXQgYS9rdW5pdC9N
YWtlZmlsZSBiL2t1bml0L01ha2VmaWxlCmluZGV4IDVlZmRjNGRlYTJjMDguLjI3NWI1NjVhMGU4
MWYgMTAwNjQ0Ci0tLSBhL2t1bml0L01ha2VmaWxlCisrKyBiL2t1bml0L01ha2VmaWxlCkBAIC0x
ICsxLDIgQEAKLW9iai0kKENPTkZJR19LVU5JVCkgKz0JCQl0ZXN0Lm8KK29iai0kKENPTkZJR19L
VU5JVCkgKz0JCQl0ZXN0Lm8gXAorCQkJCQlzdHJpbmctc3RyZWFtLm8KZGlmZiAtLWdpdCBhL2t1
bml0L3N0cmluZy1zdHJlYW0uYyBiL2t1bml0L3N0cmluZy1zdHJlYW0uYwpuZXcgZmlsZSBtb2Rl
IDEwMDY0NAppbmRleCAwMDAwMDAwMDAwMDAwLi5kNGU0MjUyZGMxMGI4Ci0tLSAvZGV2L251bGwK
KysrIGIva3VuaXQvc3RyaW5nLXN0cmVhbS5jCkBAIC0wLDAgKzEsMTQzIEBACisvLyBTUERYLUxp
Y2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMAorLyoKKyAqIEMrKyBzdHJlYW0gc3R5bGUgc3RyaW5n
IGJ1aWxkZXIgdXNlZCBpbiBLVW5pdCBmb3IgYnVpbGRpbmcgbWVzc2FnZXMuCisgKgorICogQ29w
eXJpZ2h0IChDKSAyMDE5LCBHb29nbGUgTExDLgorICogQXV0aG9yOiBCcmVuZGFuIEhpZ2dpbnMg
PGJyZW5kYW5oaWdnaW5zQGdvb2dsZS5jb20+CisgKi8KKworI2luY2x1ZGUgPGxpbnV4L2xpc3Qu
aD4KKyNpbmNsdWRlIDxsaW51eC9zbGFiLmg+CisjaW5jbHVkZSA8a3VuaXQvc3RyaW5nLXN0cmVh
bS5oPgorCitpbnQgc3RyaW5nX3N0cmVhbV92YWRkKHN0cnVjdCBzdHJpbmdfc3RyZWFtICp0aGlz
LAorCQkgICAgICAgY29uc3QgY2hhciAqZm10LAorCQkgICAgICAgdmFfbGlzdCBhcmdzKQorewor
CXN0cnVjdCBzdHJpbmdfc3RyZWFtX2ZyYWdtZW50ICpmcmFnX2NvbnRhaW5lcjsKKwlpbnQgbGVu
OworCXZhX2xpc3QgYXJnc19mb3JfY291bnRpbmc7CisJdW5zaWduZWQgbG9uZyBmbGFnczsKKwor
CS8qIE1ha2UgYSBjb3B5IGJlY2F1c2UgYHZzbnByaW50ZmAgY291bGQgY2hhbmdlIGl0ICovCisJ
dmFfY29weShhcmdzX2Zvcl9jb3VudGluZywgYXJncyk7CisKKwkvKiBOZWVkIHNwYWNlIGZvciBu
dWxsIGJ5dGUuICovCisJbGVuID0gdnNucHJpbnRmKE5VTEwsIDAsIGZtdCwgYXJnc19mb3JfY291
bnRpbmcpICsgMTsKKworCXZhX2VuZChhcmdzX2Zvcl9jb3VudGluZyk7CisKKwlmcmFnX2NvbnRh
aW5lciA9IGttYWxsb2Moc2l6ZW9mKCpmcmFnX2NvbnRhaW5lciksIEdGUF9LRVJORUwpOworCWlm
ICghZnJhZ19jb250YWluZXIpCisJCXJldHVybiAtRU5PTUVNOworCisJZnJhZ19jb250YWluZXIt
PmZyYWdtZW50ID0ga21hbGxvYyhsZW4sIEdGUF9LRVJORUwpOworCWlmICghZnJhZ19jb250YWlu
ZXItPmZyYWdtZW50KSB7CisJCWtmcmVlKGZyYWdfY29udGFpbmVyKTsKKwkJcmV0dXJuIC1FTk9N
RU07CisJfQorCisJbGVuID0gdnNucHJpbnRmKGZyYWdfY29udGFpbmVyLT5mcmFnbWVudCwgbGVu
LCBmbXQsIGFyZ3MpOworCXNwaW5fbG9ja19pcnFzYXZlKCZ0aGlzLT5sb2NrLCBmbGFncyk7CisJ
dGhpcy0+bGVuZ3RoICs9IGxlbjsKKwlsaXN0X2FkZF90YWlsKCZmcmFnX2NvbnRhaW5lci0+bm9k
ZSwgJnRoaXMtPmZyYWdtZW50cyk7CisJc3Bpbl91bmxvY2tfaXJxcmVzdG9yZSgmdGhpcy0+bG9j
aywgZmxhZ3MpOworCXJldHVybiAwOworfQorCitpbnQgc3RyaW5nX3N0cmVhbV9hZGQoc3RydWN0
IHN0cmluZ19zdHJlYW0gKnRoaXMsIGNvbnN0IGNoYXIgKmZtdCwgLi4uKQoreworCXZhX2xpc3Qg
YXJnczsKKwlpbnQgcmVzdWx0OworCisJdmFfc3RhcnQoYXJncywgZm10KTsKKwlyZXN1bHQgPSBz
dHJpbmdfc3RyZWFtX3ZhZGQodGhpcywgZm10LCBhcmdzKTsKKwl2YV9lbmQoYXJncyk7CisJcmV0
dXJuIHJlc3VsdDsKK30KKwordm9pZCBzdHJpbmdfc3RyZWFtX2NsZWFyKHN0cnVjdCBzdHJpbmdf
c3RyZWFtICp0aGlzKQoreworCXN0cnVjdCBzdHJpbmdfc3RyZWFtX2ZyYWdtZW50ICpmcmFnX2Nv
bnRhaW5lciwgKmZyYWdfY29udGFpbmVyX3NhZmU7CisJdW5zaWduZWQgbG9uZyBmbGFnczsKKwor
CXNwaW5fbG9ja19pcnFzYXZlKCZ0aGlzLT5sb2NrLCBmbGFncyk7CisJbGlzdF9mb3JfZWFjaF9l
bnRyeV9zYWZlKGZyYWdfY29udGFpbmVyLAorCQkJCSBmcmFnX2NvbnRhaW5lcl9zYWZlLAorCQkJ
CSAmdGhpcy0+ZnJhZ21lbnRzLAorCQkJCSBub2RlKSB7CisJCWxpc3RfZGVsKCZmcmFnX2NvbnRh
aW5lci0+bm9kZSk7CisJCWtmcmVlKGZyYWdfY29udGFpbmVyLT5mcmFnbWVudCk7CisJCWtmcmVl
KGZyYWdfY29udGFpbmVyKTsKKwl9CisJdGhpcy0+bGVuZ3RoID0gMDsKKwlzcGluX3VubG9ja19p
cnFyZXN0b3JlKCZ0aGlzLT5sb2NrLCBmbGFncyk7Cit9CisKK2NoYXIgKnN0cmluZ19zdHJlYW1f
Z2V0X3N0cmluZyhzdHJ1Y3Qgc3RyaW5nX3N0cmVhbSAqdGhpcykKK3sKKwlzdHJ1Y3Qgc3RyaW5n
X3N0cmVhbV9mcmFnbWVudCAqZnJhZ19jb250YWluZXI7CisJc2l6ZV90IGJ1Zl9sZW4gPSB0aGlz
LT5sZW5ndGggKyAxOyAvKiArMSBmb3IgbnVsbCBieXRlLiAqLworCWNoYXIgKmJ1ZjsKKwl1bnNp
Z25lZCBsb25nIGZsYWdzOworCisJYnVmID0ga3phbGxvYyhidWZfbGVuLCBHRlBfS0VSTkVMKTsK
KwlpZiAoIWJ1ZikKKwkJcmV0dXJuIE5VTEw7CisKKwlzcGluX2xvY2tfaXJxc2F2ZSgmdGhpcy0+
bG9jaywgZmxhZ3MpOworCWxpc3RfZm9yX2VhY2hfZW50cnkoZnJhZ19jb250YWluZXIsICZ0aGlz
LT5mcmFnbWVudHMsIG5vZGUpCisJCXN0cmxjYXQoYnVmLCBmcmFnX2NvbnRhaW5lci0+ZnJhZ21l
bnQsIGJ1Zl9sZW4pOworCXNwaW5fdW5sb2NrX2lycXJlc3RvcmUoJnRoaXMtPmxvY2ssIGZsYWdz
KTsKKworCXJldHVybiBidWY7Cit9CisKK2Jvb2wgc3RyaW5nX3N0cmVhbV9pc19lbXB0eShzdHJ1
Y3Qgc3RyaW5nX3N0cmVhbSAqdGhpcykKK3sKKwlib29sIGlzX2VtcHR5OworCXVuc2lnbmVkIGxv
bmcgZmxhZ3M7CisKKwlzcGluX2xvY2tfaXJxc2F2ZSgmdGhpcy0+bG9jaywgZmxhZ3MpOworCWlz
X2VtcHR5ID0gbGlzdF9lbXB0eSgmdGhpcy0+ZnJhZ21lbnRzKTsKKwlzcGluX3VubG9ja19pcnFy
ZXN0b3JlKCZ0aGlzLT5sb2NrLCBmbGFncyk7CisKKwlyZXR1cm4gaXNfZW1wdHk7Cit9CisKK3Zv
aWQgZGVzdHJveV9zdHJpbmdfc3RyZWFtKHN0cnVjdCBzdHJpbmdfc3RyZWFtICpzdHJlYW0pCit7
CisJc3RyaW5nX3N0cmVhbV9jbGVhcihzdHJlYW0pOworCWtmcmVlKHN0cmVhbSk7Cit9CisKK3N0
YXRpYyB2b2lkIHN0cmluZ19zdHJlYW1fZGVzdHJveShzdHJ1Y3Qga3JlZiAqa3JlZikKK3sKKwlz
dHJ1Y3Qgc3RyaW5nX3N0cmVhbSAqc3RyZWFtID0gY29udGFpbmVyX29mKGtyZWYsCisJCQkJCQkg
ICAgc3RydWN0IHN0cmluZ19zdHJlYW0sCisJCQkJCQkgICAgcmVmY291bnQpOworCWRlc3Ryb3lf
c3RyaW5nX3N0cmVhbShzdHJlYW0pOworfQorCitzdHJ1Y3Qgc3RyaW5nX3N0cmVhbSAqbmV3X3N0
cmluZ19zdHJlYW0odm9pZCkKK3sKKwlzdHJ1Y3Qgc3RyaW5nX3N0cmVhbSAqc3RyZWFtID0ga3ph
bGxvYyhzaXplb2YoKnN0cmVhbSksIEdGUF9LRVJORUwpOworCisJaWYgKCFzdHJlYW0pCisJCXJl
dHVybiBOVUxMOworCisJSU5JVF9MSVNUX0hFQUQoJnN0cmVhbS0+ZnJhZ21lbnRzKTsKKwlzcGlu
X2xvY2tfaW5pdCgmc3RyZWFtLT5sb2NrKTsKKwlrcmVmX2luaXQoJnN0cmVhbS0+cmVmY291bnQp
OworCXJldHVybiBzdHJlYW07Cit9CisKK3ZvaWQgc3RyaW5nX3N0cmVhbV9nZXQoc3RydWN0IHN0
cmluZ19zdHJlYW0gKnN0cmVhbSkKK3sKKwlrcmVmX2dldCgmc3RyZWFtLT5yZWZjb3VudCk7Cit9
CisKK2ludCBzdHJpbmdfc3RyZWFtX3B1dChzdHJ1Y3Qgc3RyaW5nX3N0cmVhbSAqc3RyZWFtKQor
eworCXJldHVybiBrcmVmX3B1dCgmc3RyZWFtLT5yZWZjb3VudCwgJnN0cmluZ19zdHJlYW1fZGVz
dHJveSk7Cit9Ci0tIAoyLjIxLjAuMTAyMC5nZjI4MjBjZjAxYS1nb29nCgpfX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0
CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3Rv
cC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
