Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A327247C8A
	for <lists+dri-devel@lfdr.de>; Mon, 17 Jun 2019 10:27:32 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8131C89153;
	Mon, 17 Jun 2019 08:27:30 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-qk1-x749.google.com (mail-qk1-x749.google.com
 [IPv6:2607:f8b0:4864:20::749])
 by gabe.freedesktop.org (Postfix) with ESMTPS id DF960891A0
 for <dri-devel@lists.freedesktop.org>; Mon, 17 Jun 2019 08:27:28 +0000 (UTC)
Received: by mail-qk1-x749.google.com with SMTP id u129so8498972qkd.12
 for <dri-devel@lists.freedesktop.org>; Mon, 17 Jun 2019 01:27:28 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:date:in-reply-to:message-id:mime-version
 :references:subject:from:to:cc;
 bh=DYf9aNqB40ayPhbnQ4VnvZB63DKLPE/86dhNtsjws2E=;
 b=PulOfGuprqU4LibMCDs9fpeI4MjgU3Madi/cCb65qFi9HuvLjRHVvAKqgwZ8UXdYDc
 bDPo824rgWHG7AEzPYg71jMsGwnsAhYBXGFONvDn/gHe3NpyI3JTkcaGSM+DxqmMimUu
 HlPb+7oiu75Fq/9kOKNPWqz93l5NZrraZM/oqwEtJmHI0fx3OlxvD8ZE+qdpXUYTOt3l
 dDi/GqNoVsakHhvd4mEWEyZ749G25HiCYmwuOqhMXsovPwPV6l/b+pjvz+3ZPPVbsM3j
 psBfL13oYEHcmcTrx9WxW2W0Llw8hMxySwxPOkxQryJ8f/EJtpqBPuzcACdrRifS1SYa
 vLDw==
X-Gm-Message-State: APjAAAXFbsATCNF0Hw08+37RyuQ3P2dIGl3B5RmqloW8CIJkYP7PeiNX
 yWrAxN5OIPFS0fvRma5ySCERXCSKYztTcI7zdTL72Q==
X-Google-Smtp-Source: APXvYqxsAu9MnZcOUHImmxWcz48tSSndu/QG9vlhQRBfFen+cuzpkg2eAT0o5QV3IRI8dhLeyQYOqXSMcENp/YlDYTf0Sw==
X-Received: by 2002:ac8:6b06:: with SMTP id w6mr10615996qts.80.1560760047888; 
 Mon, 17 Jun 2019 01:27:27 -0700 (PDT)
Date: Mon, 17 Jun 2019 01:26:06 -0700
In-Reply-To: <20190617082613.109131-1-brendanhiggins@google.com>
Message-Id: <20190617082613.109131-12-brendanhiggins@google.com>
Mime-Version: 1.0
References: <20190617082613.109131-1-brendanhiggins@google.com>
X-Mailer: git-send-email 2.22.0.410.gd8fdbe21b5-goog
Subject: [PATCH v5 11/18] kunit: test: add the concept of assertions
From: Brendan Higgins <brendanhiggins@google.com>
To: frowand.list@gmail.com, gregkh@linuxfoundation.org, jpoimboe@redhat.com, 
 keescook@google.com, kieran.bingham@ideasonboard.com, mcgrof@kernel.org, 
 peterz@infradead.org, robh@kernel.org, sboyd@kernel.org, shuah@kernel.org, 
 tytso@mit.edu, yamada.masahiro@socionext.com
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=google.com; s=20161025;
 h=date:in-reply-to:message-id:mime-version:references:subject:from:to
 :cc;
 bh=DYf9aNqB40ayPhbnQ4VnvZB63DKLPE/86dhNtsjws2E=;
 b=dTOhPlMCLTXng1s168K/8haM5x50H7Ra1naHUPJ/X+OJ1ej9dZVedmvnvhcmcpY278
 YgsdNz3UlrODBopN99Zsz/gIr3PBG538WItGiTe0YeJqWHW+Msdj2yBhvPNvg4dIqNZ0
 tsO9WQ8aGIcEH5G6OdZEr7dbS83mIS6T5Qk6Opz8jVYBFHUiKQKRaDke6x1qqmpgBhSD
 OfPYnNkwBncIrvLawRUPCrgvCJWIxJdHpwZd+QJx6eKxgDVYrtFor+BVpPraafTYcNo8
 gSR1e3UtQssXrPH3oFcQ4H0drjrYvQ/2DezEHHCxG/UPDCrduXc0YurPUNqcXWHLDIBk
 FMHg==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: pmladek@suse.com, linux-doc@vger.kernel.org, amir73il@gmail.com,
 Brendan Higgins <brendanhiggins@google.com>, dri-devel@lists.freedesktop.org,
 Alexander.Levin@microsoft.com, linux-kselftest@vger.kernel.org,
 linux-nvdimm@lists.01.org, khilman@baylibre.com, knut.omang@oracle.com,
 wfg@linux.intel.com, joel@jms.id.au, rientjes@google.com, jdike@addtoit.com,
 dan.carpenter@oracle.com, devicetree@vger.kernel.org,
 linux-kbuild@vger.kernel.org, Tim.Bird@sony.com, linux-um@lists.infradead.org,
 rostedt@goodmis.org, julia.lawall@lip6.fr, kunit-dev@googlegroups.com,
 richard@nod.at, rdunlap@infradead.org, linux-kernel@vger.kernel.org,
 mpe@ellerman.id.au, linux-fsdevel@vger.kernel.org, logang@deltatee.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QWRkIHN1cHBvcnQgZm9yIGFzc2VydGlvbnMgd2hpY2ggYXJlIGxpa2UgZXhwZWN0YXRpb25zIGV4
Y2VwdCB0aGUgdGVzdAp0ZXJtaW5hdGVzIGlmIHRoZSBhc3NlcnRpb24gaXMgbm90IHNhdGlzZmll
ZC4KClRoZSBpZGVhIHdpdGggYXNzZXJ0aW9ucyBpcyB0aGF0IHlvdSB1c2UgdGhlbSB0byBzdGF0
ZSBhbGwgdGhlCnByZWNvbmRpdGlvbnMgZm9yIHlvdXIgdGVzdC4gTG9naWNhbGx5IHNwZWFraW5n
LCB0aGVzZSBhcmUgdGhlIHByZW1pc2VzCm9mIHRoZSB0ZXN0IGNhc2UsIHNvIGlmIGEgcHJlbWlz
ZSBpc24ndCB0cnVlLCB0aGVyZSBpcyBubyBwb2ludCBpbgpjb250aW51aW5nIHRoZSB0ZXN0IGNh
c2UgYmVjYXVzZSB0aGVyZSBhcmUgbm8gY29uY2x1c2lvbnMgdGhhdCBjYW4gYmUKZHJhd24gd2l0
aG91dCB0aGUgcHJlbWlzZXMuIFdoZXJlYXMsIHRoZSBleHBlY3RhdGlvbiBpcyB0aGUgdGhpbmcg
eW91CmFyZSB0cnlpbmcgdG8gcHJvdmUuIEl0IGlzIG5vdCB1c2VkIHVuaXZlcnNhbGx5IGluIHgt
dW5pdCBzdHlsZSB0ZXN0CmZyYW1ld29ya3MsIGJ1dCBJIHJlYWxseSBsaWtlIGl0IGFzIGEgY29u
dmVudGlvbi4gIFlvdSBjb3VsZCBzdGlsbApleHByZXNzIHRoZSBpZGVhIG9mIGEgcHJlbWlzZSB1
c2luZyB0aGUgYWJvdmUgaWRpb20sIGJ1dCBJIHRoaW5rCktVTklUX0FTU0VSVF8qIHN0YXRlcyB0
aGUgaW50ZW5kZWQgaWRlYSBwZXJmZWN0bHkuCgpTaWduZWQtb2ZmLWJ5OiBCcmVuZGFuIEhpZ2dp
bnMgPGJyZW5kYW5oaWdnaW5zQGdvb2dsZS5jb20+ClJldmlld2VkLWJ5OiBHcmVnIEtyb2FoLUhh
cnRtYW4gPGdyZWdraEBsaW51eGZvdW5kYXRpb24ub3JnPgpSZXZpZXdlZC1ieTogTG9nYW4gR3Vu
dGhvcnBlIDxsb2dhbmdAZGVsdGF0ZWUuY29tPgotLS0KIGluY2x1ZGUva3VuaXQvdGVzdC5oICAg
ICAgIHwgNDk5ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKy0KIGt1bml0L3N0
cmluZy1zdHJlYW0tdGVzdC5jIHwgIDEyICstCiBrdW5pdC90ZXN0LXRlc3QuYyAgICAgICAgICB8
ICAgMiArCiBrdW5pdC90ZXN0LmMgICAgICAgICAgICAgICB8ICA2NiArKysrKwogNCBmaWxlcyBj
aGFuZ2VkLCA1NzAgaW5zZXJ0aW9ucygrKSwgOSBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9p
bmNsdWRlL2t1bml0L3Rlc3QuaCBiL2luY2x1ZGUva3VuaXQvdGVzdC5oCmluZGV4IDE5NGM4NWFm
YzY5YTguLjkyZGRhZDM2YWI5YjggMTAwNjQ0Ci0tLSBhL2luY2x1ZGUva3VuaXQvdGVzdC5oCisr
KyBiL2luY2x1ZGUva3VuaXQvdGVzdC5oCkBAIC04Niw5ICs4NiwxMCBAQCBzdHJ1Y3Qga3VuaXQ7
CiAgKiBAbmFtZTogdGhlIG5hbWUgb2YgdGhlIHRlc3QgY2FzZS4KICAqCiAgKiBBIHRlc3QgY2Fz
ZSBpcyBhIGZ1bmN0aW9uIHdpdGggdGhlIHNpZ25hdHVyZSwgYGB2b2lkICgqKShzdHJ1Y3Qga3Vu
aXQgKilgYAotICogdGhhdCBtYWtlcyBleHBlY3RhdGlvbnMgKHNlZSBLVU5JVF9FWFBFQ1RfVFJV
RSgpKSBhYm91dCBjb2RlIHVuZGVyIHRlc3QuIEVhY2gKLSAqIHRlc3QgY2FzZSBpcyBhc3NvY2lh
dGVkIHdpdGggYSAmc3RydWN0IGt1bml0X21vZHVsZSBhbmQgd2lsbCBiZSBydW4gYWZ0ZXIgdGhl
Ci0gKiBtb2R1bGUncyBpbml0IGZ1bmN0aW9uIGFuZCBmb2xsb3dlZCBieSB0aGUgbW9kdWxlJ3Mg
ZXhpdCBmdW5jdGlvbi4KKyAqIHRoYXQgbWFrZXMgZXhwZWN0YXRpb25zIGFuZCBhc3NlcnRpb25z
IChzZWUgS1VOSVRfRVhQRUNUX1RSVUUoKSBhbmQKKyAqIEtVTklUX0FTU0VSVF9UUlVFKCkpIGFi
b3V0IGNvZGUgdW5kZXIgdGVzdC4gRWFjaCB0ZXN0IGNhc2UgaXMgYXNzb2NpYXRlZCB3aXRoCisg
KiBhICZzdHJ1Y3Qga3VuaXRfbW9kdWxlIGFuZCB3aWxsIGJlIHJ1biBhZnRlciB0aGUgbW9kdWxl
J3MgaW5pdCBmdW5jdGlvbiBhbmQKKyAqIGZvbGxvd2VkIGJ5IHRoZSBtb2R1bGUncyBleGl0IGZ1
bmN0aW9uLgogICoKICAqIEEgdGVzdCBjYXNlIHNob3VsZCBiZSBzdGF0aWMgYW5kIHNob3VsZCBv
bmx5IGJlIGNyZWF0ZWQgd2l0aCB0aGUgS1VOSVRfQ0FTRSgpCiAgKiBtYWNybzsgYWRkaXRpb25h
bGx5LCBldmVyeSBhcnJheSBvZiB0ZXN0IGNhc2VzIHNob3VsZCBiZSB0ZXJtaW5hdGVkIHdpdGgg
YW4KQEAgLTgxMCw0ICs4MTEsNDk2IEBAIGRvIHsJCQkJCQkJCQkgICAgICAgXAogCUtVTklUX0VY
UEVDVF9FTkQodGVzdCwgIUlTX0VSUl9PUl9OVUxMKF9fcHRyKSwgX19zdHJlYW0pOwkgICAgICAg
XAogfSB3aGlsZSAoMCkKIAorc3RhdGljIGlubGluZSBzdHJ1Y3Qga3VuaXRfc3RyZWFtICprdW5p
dF9hc3NlcnRfc3RhcnQoc3RydWN0IGt1bml0ICp0ZXN0LAorCQkJCQkJICAgICAgY29uc3QgY2hh
ciAqZmlsZSwKKwkJCQkJCSAgICAgIGNvbnN0IGNoYXIgKmxpbmUpCit7CisJc3RydWN0IGt1bml0
X3N0cmVhbSAqc3RyZWFtID0gYWxsb2Nfa3VuaXRfc3RyZWFtKHRlc3QsIEtFUk5fRVJSKTsKKwor
CWt1bml0X3N0cmVhbV9hZGQoc3RyZWFtLCAiQVNTRVJUSU9OIEZBSUxFRCBhdCAlczolc1xuXHQi
LCBmaWxlLCBsaW5lKTsKKworCXJldHVybiBzdHJlYW07Cit9CisKK3N0YXRpYyBpbmxpbmUgdm9p
ZCBrdW5pdF9hc3NlcnRfZW5kKHN0cnVjdCBrdW5pdCAqdGVzdCwKKwkJCQkgICAgYm9vbCBzdWNj
ZXNzLAorCQkJCSAgICBzdHJ1Y3Qga3VuaXRfc3RyZWFtICpzdHJlYW0pCit7CisJaWYgKCFzdWNj
ZXNzKSB7CisJCWt1bml0X2ZhaWwodGVzdCwgc3RyZWFtKTsKKwkJa3VuaXRfYWJvcnQodGVzdCk7
CisJfSBlbHNlIHsKKwkJa3VuaXRfc3RyZWFtX2NsZWFyKHN0cmVhbSk7CisJfQorfQorCisjZGVm
aW5lIEtVTklUX0FTU0VSVF9TVEFSVCh0ZXN0KSBcCisJCWt1bml0X2Fzc2VydF9zdGFydCh0ZXN0
LCBfX0ZJTEVfXywgX19zdHJpbmdpZnkoX19MSU5FX18pKQorCisjZGVmaW5lIEtVTklUX0FTU0VS
VF9FTkQodGVzdCwgc3VjY2Vzcywgc3RyZWFtKSBcCisJCWt1bml0X2Fzc2VydF9lbmQodGVzdCwg
c3VjY2Vzcywgc3RyZWFtKQorCisjZGVmaW5lIEtVTklUX0FTU0VSVCh0ZXN0LCBzdWNjZXNzLCBt
ZXNzYWdlKSBkbyB7CQkJICAgICAgIFwKKwlzdHJ1Y3Qga3VuaXRfc3RyZWFtICpfX3N0cmVhbSA9
IEtVTklUX0FTU0VSVF9TVEFSVCh0ZXN0KTsJICAgICAgIFwKKwkJCQkJCQkJCSAgICAgICBcCisJ
a3VuaXRfc3RyZWFtX2FkZChfX3N0cmVhbSwgbWVzc2FnZSk7CQkJCSAgICAgICBcCisJS1VOSVRf
QVNTRVJUX0VORCh0ZXN0LCBzdWNjZXNzLCBfX3N0cmVhbSk7CQkJICAgICAgIFwKK30gd2hpbGUg
KDApCisKKyNkZWZpbmUgS1VOSVRfQVNTRVJUX01TRyh0ZXN0LCBzdWNjZXNzLCBtZXNzYWdlLCBm
bXQsIC4uLikgZG8gewkJICAgICAgIFwKKwlzdHJ1Y3Qga3VuaXRfc3RyZWFtICpfX3N0cmVhbSA9
IEtVTklUX0FTU0VSVF9TVEFSVCh0ZXN0KTsJICAgICAgIFwKKwkJCQkJCQkJCSAgICAgICBcCisJ
a3VuaXRfc3RyZWFtX2FkZChfX3N0cmVhbSwgbWVzc2FnZSk7CQkJCSAgICAgICBcCisJa3VuaXRf
c3RyZWFtX2FkZChfX3N0cmVhbSwgZm10LCAjI19fVkFfQVJHU19fKTsJCQkgICAgICAgXAorCUtV
TklUX0FTU0VSVF9FTkQodGVzdCwgc3VjY2VzcywgX19zdHJlYW0pOwkJCSAgICAgICBcCit9IHdo
aWxlICgwKQorCisjZGVmaW5lIEtVTklUX0FTU0VSVF9GQUlMVVJFKHRlc3QsIGZtdCwgLi4uKSBk
byB7CQkJICAgICAgIFwKKwlzdHJ1Y3Qga3VuaXRfc3RyZWFtICpfX3N0cmVhbSA9IEtVTklUX0FT
U0VSVF9TVEFSVCh0ZXN0KTsJICAgICAgIFwKKwkJCQkJCQkJCSAgICAgICBcCisJa3VuaXRfc3Ry
ZWFtX2FkZChfX3N0cmVhbSwgZm10LCAjI19fVkFfQVJHU19fKTsJCQkgICAgICAgXAorCUtVTklU
X0FTU0VSVF9FTkQodGVzdCwgZmFsc2UsIF9fc3RyZWFtKTsJCQkgICAgICAgXAorfSB3aGlsZSAo
MCkKKworLyoqCisgKiBLVU5JVF9BU1NFUlRfVFJVRSgpIC0gU2V0cyBhbiBhc3NlcnRpb24gdGhh
dCBAY29uZGl0aW9uIGlzIHRydWUuCisgKiBAdGVzdDogVGhlIHRlc3QgY29udGV4dCBvYmplY3Qu
CisgKiBAY29uZGl0aW9uOiBhbiBhcmJpdHJhcnkgYm9vbGVhbiBleHByZXNzaW9uLiBUaGUgdGVz
dCBmYWlscyBhbmQgYWJvcnRzIHdoZW4KKyAqIHRoaXMgZG9lcyBub3QgZXZhbHVhdGUgdG8gdHJ1
ZS4KKyAqCisgKiBUaGlzIGFuZCBhc3NlcnRpb25zIG9mIHRoZSBmb3JtIGBLVU5JVF9BU1NFUlRf
KmAgd2lsbCBjYXVzZSB0aGUgdGVzdCBjYXNlIHRvCisgKiBmYWlsICphbmQgaW1tZWRpYXRlbHkg
YWJvcnQqIHdoZW4gdGhlIHNwZWNpZmllZCBjb25kaXRpb24gaXMgbm90IG1ldC4gVW5saWtlCisg
KiBhbiBleHBlY3RhdGlvbiBmYWlsdXJlLCBpdCB3aWxsIHByZXZlbnQgdGhlIHRlc3QgY2FzZSBm
cm9tIGNvbnRpbnVpbmcgdG8gcnVuOworICogdGhpcyBpcyBvdGhlcndpc2Uga25vd24gYXMgYW4g
KmFzc2VydGlvbiBmYWlsdXJlKi4KKyAqLworI2RlZmluZSBLVU5JVF9BU1NFUlRfVFJVRSh0ZXN0
LCBjb25kaXRpb24pCQkJCSAgICAgICBcCisJCUtVTklUX0FTU0VSVCh0ZXN0LCAoY29uZGl0aW9u
KSwJCQkJICAgICAgIFwKKwkJCSAgICAgIkFzc2VydGVkICIgI2NvbmRpdGlvbiAiIGlzIHRydWUs
IGJ1dCBpcyBmYWxzZVxuIikKKworI2RlZmluZSBLVU5JVF9BU1NFUlRfVFJVRV9NU0codGVzdCwg
Y29uZGl0aW9uLCBmbXQsIC4uLikJCSAgICAgICBcCisJCUtVTklUX0FTU0VSVF9NU0codGVzdCwg
KGNvbmRpdGlvbiksCQkJICAgICAgIFwKKwkJCQkgIkFzc2VydGVkICIgI2NvbmRpdGlvbiAiIGlz
IHRydWUsIGJ1dCBpcyBmYWxzZVxuIixcCisJCQkJIGZtdCwgIyNfX1ZBX0FSR1NfXykKKworLyoq
CisgKiBLVU5JVF9BU1NFUlRfRkFMU0UoKSAtIFNldHMgYW4gYXNzZXJ0aW9uIHRoYXQgQGNvbmRp
dGlvbiBpcyBmYWxzZS4KKyAqIEB0ZXN0OiBUaGUgdGVzdCBjb250ZXh0IG9iamVjdC4KKyAqIEBj
b25kaXRpb246IGFuIGFyYml0cmFyeSBib29sZWFuIGV4cHJlc3Npb24uCisgKgorICogU2V0cyBh
biBhc3NlcnRpb24gdGhhdCB0aGUgdmFsdWUgdGhhdCBAY29uZGl0aW9uIGV2YWx1YXRlcyB0byBp
cyBmYWxzZS4gVGhpcworICogaXMgdGhlIHNhbWUgYXMgS1VOSVRfRVhQRUNUX0ZBTFNFKCksIGV4
Y2VwdCBpdCBjYXVzZXMgYW4gYXNzZXJ0aW9uIGZhaWx1cmUKKyAqIChzZWUgS1VOSVRfQVNTRVJU
X1RSVUUoKSkgd2hlbiB0aGUgYXNzZXJ0aW9uIGlzIG5vdCBtZXQuCisgKi8KKyNkZWZpbmUgS1VO
SVRfQVNTRVJUX0ZBTFNFKHRlc3QsIGNvbmRpdGlvbikJCQkJICAgICAgIFwKKwkJS1VOSVRfQVNT
RVJUKHRlc3QsICEoY29uZGl0aW9uKSwJCQkgICAgICAgXAorCQkJICAgICAiQXNzZXJ0ZWQgIiAj
Y29uZGl0aW9uICIgaXMgZmFsc2UsIGJ1dCBpcyB0cnVlXG4iKQorCisjZGVmaW5lIEtVTklUX0FT
U0VSVF9GQUxTRV9NU0codGVzdCwgY29uZGl0aW9uLCBmbXQsIC4uLikJCSAgICAgICBcCisJCUtV
TklUX0FTU0VSVF9NU0codGVzdCwgIShjb25kaXRpb24pLAkJCSAgICAgICBcCisJCQkJICJBc3Nl
cnRlZCAiICNjb25kaXRpb24gIiBpcyBmYWxzZSwgYnV0IGlzIHRydWVcbiIsXAorCQkJCSBmbXQs
ICMjX19WQV9BUkdTX18pCisKK3ZvaWQga3VuaXRfYXNzZXJ0X2JpbmFyeV9tc2coc3RydWN0IGt1
bml0ICp0ZXN0LAorCQkJICAgICBsb25nIGxvbmcgbGVmdCwgY29uc3QgY2hhciAqbGVmdF9uYW1l
LAorCQkJICAgICBsb25nIGxvbmcgcmlnaHQsIGNvbnN0IGNoYXIgKnJpZ2h0X25hbWUsCisJCQkg
ICAgIGJvb2wgY29tcGFyZV9yZXN1bHQsCisJCQkgICAgIGNvbnN0IGNoYXIgKmNvbXBhcmVfbmFt
ZSwKKwkJCSAgICAgY29uc3QgY2hhciAqZmlsZSwKKwkJCSAgICAgY29uc3QgY2hhciAqbGluZSwK
KwkJCSAgICAgY29uc3QgY2hhciAqZm10LCAuLi4pOworCitzdGF0aWMgaW5saW5lIHZvaWQga3Vu
aXRfYXNzZXJ0X2JpbmFyeShzdHJ1Y3Qga3VuaXQgKnRlc3QsCisJCQkJICAgICAgIGxvbmcgbG9u
ZyBsZWZ0LCBjb25zdCBjaGFyICpsZWZ0X25hbWUsCisJCQkJICAgICAgIGxvbmcgbG9uZyByaWdo
dCwgY29uc3QgY2hhciAqcmlnaHRfbmFtZSwKKwkJCQkgICAgICAgYm9vbCBjb21wYXJlX3Jlc3Vs
dCwKKwkJCQkgICAgICAgY29uc3QgY2hhciAqY29tcGFyZV9uYW1lLAorCQkJCSAgICAgICBjb25z
dCBjaGFyICpmaWxlLAorCQkJCSAgICAgICBjb25zdCBjaGFyICpsaW5lKQoreworCWt1bml0X2Fz
c2VydF9iaW5hcnlfbXNnKHRlc3QsCisJCQkJbGVmdCwgbGVmdF9uYW1lLAorCQkJCXJpZ2h0LCBy
aWdodF9uYW1lLAorCQkJCWNvbXBhcmVfcmVzdWx0LAorCQkJCWNvbXBhcmVfbmFtZSwKKwkJCQlm
aWxlLAorCQkJCWxpbmUsCisJCQkJTlVMTCk7Cit9CisKK3ZvaWQga3VuaXRfYXNzZXJ0X3B0cl9i
aW5hcnlfbXNnKHN0cnVjdCBrdW5pdCAqdGVzdCwKKwkJCQkgdm9pZCAqbGVmdCwgY29uc3QgY2hh
ciAqbGVmdF9uYW1lLAorCQkJCSB2b2lkICpyaWdodCwgY29uc3QgY2hhciAqcmlnaHRfbmFtZSwK
KwkJCQkgYm9vbCBjb21wYXJlX3Jlc3VsdCwKKwkJCQkgY29uc3QgY2hhciAqY29tcGFyZV9uYW1l
LAorCQkJCSBjb25zdCBjaGFyICpmaWxlLAorCQkJCSBjb25zdCBjaGFyICpsaW5lLAorCQkJCSBj
b25zdCBjaGFyICpmbXQsIC4uLik7CisKK3N0YXRpYyBpbmxpbmUgdm9pZCBrdW5pdF9hc3NlcnRf
cHRyX2JpbmFyeShzdHJ1Y3Qga3VuaXQgKnRlc3QsCisJCQkJCSAgIHZvaWQgKmxlZnQsIGNvbnN0
IGNoYXIgKmxlZnRfbmFtZSwKKwkJCQkJICAgdm9pZCAqcmlnaHQsIGNvbnN0IGNoYXIgKnJpZ2h0
X25hbWUsCisJCQkJCSAgIGJvb2wgY29tcGFyZV9yZXN1bHQsCisJCQkJCSAgIGNvbnN0IGNoYXIg
KmNvbXBhcmVfbmFtZSwKKwkJCQkJICAgY29uc3QgY2hhciAqZmlsZSwKKwkJCQkJICAgY29uc3Qg
Y2hhciAqbGluZSkKK3sKKwlrdW5pdF9hc3NlcnRfcHRyX2JpbmFyeV9tc2codGVzdCwKKwkJCQkg
ICAgbGVmdCwgbGVmdF9uYW1lLAorCQkJCSAgICByaWdodCwgcmlnaHRfbmFtZSwKKwkJCQkgICAg
Y29tcGFyZV9yZXN1bHQsCisJCQkJICAgIGNvbXBhcmVfbmFtZSwKKwkJCQkgICAgZmlsZSwKKwkJ
CQkgICAgbGluZSwKKwkJCQkgICAgTlVMTCk7Cit9CisKKy8qCisgKiBBIGZhY3RvcnkgbWFjcm8g
Zm9yIGRlZmluaW5nIHRoZSBleHBlY3RhdGlvbnMgZm9yIHRoZSBiYXNpYyBjb21wYXJpc29ucwor
ICogZGVmaW5lZCBmb3IgdGhlIGJ1aWx0IGluIHR5cGVzLgorICoKKyAqIFVuZm9ydHVuYXRlbHks
IHRoZXJlIGlzIG5vIGNvbW1vbiB0eXBlIHRoYXQgYWxsIHR5cGVzIGNhbiBiZSBwcm9tb3RlZCB0
byBmb3IKKyAqIHdoaWNoIGFsbCB0aGUgYmluYXJ5IG9wZXJhdG9ycyBiZWhhdmUgdGhlIHNhbWUg
d2F5IGFzIGZvciB0aGUgYWN0dWFsIHR5cGVzCisgKiAoZm9yIGV4YW1wbGUsIHRoZXJlIGlzIG5v
IHR5cGUgdGhhdCBsb25nIGxvbmcgYW5kIHVuc2lnbmVkIGxvbmcgbG9uZyBjYW4KKyAqIGJvdGgg
YmUgY2FzdCB0byB3aGVyZSB0aGUgY29tcGFyaXNvbiByZXN1bHQgaXMgcHJlc2VydmVkIGZvciBh
bGwgdmFsdWVzKS4gU28KKyAqIHRoZSBiZXN0IHdlIGNhbiBkbyBpcyBkbyB0aGUgY29tcGFyaXNv
biBpbiB0aGUgb3JpZ2luYWwgdHlwZXMgYW5kIHRoZW4gY29lcmNlCisgKiBldmVyeXRoaW5nIHRv
IGxvbmcgbG9uZyBmb3IgcHJpbnRpbmc7IHRoaXMgd2F5LCB0aGUgY29tcGFyaXNvbiBiZWhhdmVz
CisgKiBjb3JyZWN0bHkgYW5kIHRoZSBwcmludGVkIG91dCB2YWx1ZSB1c3VhbGx5IG1ha2VzIHNl
bnNlIHdpdGhvdXQKKyAqIGludGVycHJldGF0aW9uLCBidXQgY2FuIGFsd2F5cyBiZSBpbnRlcnBy
ZXR0ZWQgdG8gZmlndXJlIG91dCB0aGUgYWN0dWFsCisgKiB2YWx1ZS4KKyAqLworI2RlZmluZSBL
VU5JVF9BU1NFUlRfQklOQVJZKHRlc3QsIGxlZnQsIGNvbmRpdGlvbiwgcmlnaHQpIGRvIHsJCSAg
ICAgICBcCisJdHlwZW9mKGxlZnQpIF9fbGVmdCA9IChsZWZ0KTsJCQkJCSAgICAgICBcCisJdHlw
ZW9mKHJpZ2h0KSBfX3JpZ2h0ID0gKHJpZ2h0KTsJCQkJICAgICAgIFwKKwlfX2t1bml0X3R5cGVj
aGVjayhfX2xlZnQsIF9fcmlnaHQpOwkJCQkgICAgICAgXAorCWt1bml0X2Fzc2VydF9iaW5hcnko
dGVzdCwJCQkJCSAgICAgICBcCisJCQkgICAgKGxvbmcgbG9uZykgX19sZWZ0LCAjbGVmdCwJCQkg
ICAgICAgXAorCQkJICAgIChsb25nIGxvbmcpIF9fcmlnaHQsICNyaWdodCwJCSAgICAgICBcCisJ
CQkgICAgX19sZWZ0IGNvbmRpdGlvbiBfX3JpZ2h0LCAjY29uZGl0aW9uLAkgICAgICAgXAorCQkJ
ICAgIF9fRklMRV9fLCBfX3N0cmluZ2lmeShfX0xJTkVfXykpOwkJICAgICAgIFwKK30gd2hpbGUg
KDApCisKKyNkZWZpbmUgS1VOSVRfQVNTRVJUX0JJTkFSWV9NU0codGVzdCwgbGVmdCwgY29uZGl0
aW9uLCByaWdodCwgZm10LCAuLi4pIGRvIHsgICBcCisJdHlwZW9mKGxlZnQpIF9fbGVmdCA9IChs
ZWZ0KTsJCQkJCSAgICAgICBcCisJdHlwZW9mKHJpZ2h0KSBfX3JpZ2h0ID0gKHJpZ2h0KTsJCQkJ
ICAgICAgIFwKKwlfX2t1bml0X3R5cGVjaGVjayhfX2xlZnQsIF9fcmlnaHQpOwkJCQkgICAgICAg
XAorCWt1bml0X2Fzc2VydF9iaW5hcnlfbXNnKHRlc3QsCQkJCQkgICAgICAgXAorCQkJCShsb25n
IGxvbmcpIF9fbGVmdCwgI2xlZnQsCQkgICAgICAgXAorCQkJCShsb25nIGxvbmcpIF9fcmlnaHQs
ICNyaWdodCwJCSAgICAgICBcCisJCQkJX19sZWZ0IGNvbmRpdGlvbiBfX3JpZ2h0LCAjY29uZGl0
aW9uLAkgICAgICAgXAorCQkJCV9fRklMRV9fLCBfX3N0cmluZ2lmeShfX0xJTkVfXyksCSAgICAg
ICBcCisJCQkJZm10LCAjI19fVkFfQVJHU19fKTsJCQkgICAgICAgXAorfSB3aGlsZSAoMCkKKwor
LyoKKyAqIEp1c3QgbGlrZSBLVU5JVF9FWFBFQ1RfQklOQVJZLCBidXQgZm9yIGNvbXBhcmluZyBw
b2ludGVyIHR5cGVzLgorICovCisjZGVmaW5lIEtVTklUX0FTU0VSVF9QVFJfQklOQVJZKHRlc3Qs
IGxlZnQsIGNvbmRpdGlvbiwgcmlnaHQpIGRvIHsJICAgICAgIFwKKwl0eXBlb2YobGVmdCkgX19s
ZWZ0ID0gKGxlZnQpOwkJCQkJICAgICAgIFwKKwl0eXBlb2YocmlnaHQpIF9fcmlnaHQgPSAocmln
aHQpOwkJCQkgICAgICAgXAorCV9fa3VuaXRfdHlwZWNoZWNrKF9fbGVmdCwgX19yaWdodCk7CQkJ
CSAgICAgICBcCisJa3VuaXRfYXNzZXJ0X3B0cl9iaW5hcnkodGVzdCwJCQkJCSAgICAgICBcCisJ
CQkJKHZvaWQgKikgX19sZWZ0LCAjbGVmdCwJCQkgICAgICAgXAorCQkJCSh2b2lkICopIF9fcmln
aHQsICNyaWdodCwJCSAgICAgICBcCisJCQkJX19sZWZ0IGNvbmRpdGlvbiBfX3JpZ2h0LCAjY29u
ZGl0aW9uLAkgICAgICAgXAorCQkJCV9fRklMRV9fLCBfX3N0cmluZ2lmeShfX0xJTkVfXykpOwkg
ICAgICAgXAorfSB3aGlsZSAoMCkKKworI2RlZmluZSBLVU5JVF9BU1NFUlRfUFRSX0JJTkFSWV9N
U0codGVzdCwgbGVmdCwgY29uZGl0aW9uLCByaWdodCwgZm10LCAuLi4pICAgIFwKK2RvIHsJCQkJ
CQkJCQkgICAgICAgXAorCXR5cGVvZihsZWZ0KSBfX2xlZnQgPSAobGVmdCk7CQkJCQkgICAgICAg
XAorCXR5cGVvZihyaWdodCkgX19yaWdodCA9IChyaWdodCk7CQkJCSAgICAgICBcCisJX19rdW5p
dF90eXBlY2hlY2soX19sZWZ0LCBfX3JpZ2h0KTsJCQkJICAgICAgIFwKKwlrdW5pdF9hc3NlcnRf
cHRyX2JpbmFyeV9tc2codGVzdCwJCQkJICAgICAgIFwKKwkJCQkgICAgKHZvaWQgKikgX19sZWZ0
LCAjbGVmdCwJCSAgICAgICBcCisJCQkJICAgICh2b2lkICopIF9fcmlnaHQsICNyaWdodCwJCSAg
ICAgICBcCisJCQkJICAgIF9fbGVmdCBjb25kaXRpb24gX19yaWdodCwgI2NvbmRpdGlvbiwgICAg
ICBcCisJCQkJICAgIF9fRklMRV9fLCBfX3N0cmluZ2lmeShfX0xJTkVfXyksCSAgICAgICBcCisJ
CQkJICAgIGZtdCwgIyNfX1ZBX0FSR1NfXyk7CQkgICAgICAgXAorfSB3aGlsZSAoMCkKKworLyoq
CisgKiBLVU5JVF9BU1NFUlRfRVEoKSAtIFNldHMgYW4gYXNzZXJ0aW9uIHRoYXQgQGxlZnQgYW5k
IEByaWdodCBhcmUgZXF1YWwuCisgKiBAdGVzdDogVGhlIHRlc3QgY29udGV4dCBvYmplY3QuCisg
KiBAbGVmdDogYW4gYXJiaXRyYXJ5IGV4cHJlc3Npb24gdGhhdCBldmFsdWF0ZXMgdG8gYSBwcmlt
aXRpdmUgQyB0eXBlLgorICogQHJpZ2h0OiBhbiBhcmJpdHJhcnkgZXhwcmVzc2lvbiB0aGF0IGV2
YWx1YXRlcyB0byBhIHByaW1pdGl2ZSBDIHR5cGUuCisgKgorICogU2V0cyBhbiBhc3NlcnRpb24g
dGhhdCB0aGUgdmFsdWVzIHRoYXQgQGxlZnQgYW5kIEByaWdodCBldmFsdWF0ZSB0byBhcmUKKyAq
IGVxdWFsLiBUaGlzIGlzIHRoZSBzYW1lIGFzIEtVTklUX0VYUEVDVF9FUSgpLCBleGNlcHQgaXQg
Y2F1c2VzIGFuIGFzc2VydGlvbgorICogZmFpbHVyZSAoc2VlIEtVTklUX0FTU0VSVF9UUlVFKCkp
IHdoZW4gdGhlIGFzc2VydGlvbiBpcyBub3QgbWV0LgorICovCisjZGVmaW5lIEtVTklUX0FTU0VS
VF9FUSh0ZXN0LCBsZWZ0LCByaWdodCkgXAorCQlLVU5JVF9BU1NFUlRfQklOQVJZKHRlc3QsIGxl
ZnQsID09LCByaWdodCkKKworI2RlZmluZSBLVU5JVF9BU1NFUlRfRVFfTVNHKHRlc3QsIGxlZnQs
IHJpZ2h0LCBmbXQsIC4uLikJCSAgICAgICBcCisJCUtVTklUX0FTU0VSVF9CSU5BUllfTVNHKHRl
c3QsCQkJCSAgICAgICBcCisJCQkJCWxlZnQsCQkJCSAgICAgICBcCisJCQkJCT09LAkJCQkgICAg
ICAgXAorCQkJCQlyaWdodCwJCQkJICAgICAgIFwKKwkJCQkJZm10LAkJCQkgICAgICAgXAorCQkJ
CQkjI19fVkFfQVJHU19fKQorCisvKioKKyAqIEtVTklUX0FTU0VSVF9QVFJfRVEoKSAtIEFzc2Vy
dHMgdGhhdCBwb2ludGVycyBAbGVmdCBhbmQgQHJpZ2h0IGFyZSBlcXVhbC4KKyAqIEB0ZXN0OiBU
aGUgdGVzdCBjb250ZXh0IG9iamVjdC4KKyAqIEBsZWZ0OiBhbiBhcmJpdHJhcnkgZXhwcmVzc2lv
biB0aGF0IGV2YWx1YXRlcyB0byBhIHBvaW50ZXIuCisgKiBAcmlnaHQ6IGFuIGFyYml0cmFyeSBl
eHByZXNzaW9uIHRoYXQgZXZhbHVhdGVzIHRvIGEgcG9pbnRlci4KKyAqCisgKiBTZXRzIGFuIGFz
c2VydGlvbiB0aGF0IHRoZSB2YWx1ZXMgdGhhdCBAbGVmdCBhbmQgQHJpZ2h0IGV2YWx1YXRlIHRv
IGFyZQorICogZXF1YWwuIFRoaXMgaXMgdGhlIHNhbWUgYXMgS1VOSVRfRVhQRUNUX0VRKCksIGV4
Y2VwdCBpdCBjYXVzZXMgYW4gYXNzZXJ0aW9uCisgKiBmYWlsdXJlIChzZWUgS1VOSVRfQVNTRVJU
X1RSVUUoKSkgd2hlbiB0aGUgYXNzZXJ0aW9uIGlzIG5vdCBtZXQuCisgKi8KKyNkZWZpbmUgS1VO
SVRfQVNTRVJUX1BUUl9FUSh0ZXN0LCBsZWZ0LCByaWdodCkgXAorCQlLVU5JVF9BU1NFUlRfUFRS
X0JJTkFSWSh0ZXN0LCBsZWZ0LCA9PSwgcmlnaHQpCisKKyNkZWZpbmUgS1VOSVRfQVNTRVJUX1BU
Ul9FUV9NU0codGVzdCwgbGVmdCwgcmlnaHQsIGZtdCwgLi4uKQkJICAgICAgIFwKKwkJS1VOSVRf
QVNTRVJUX1BUUl9CSU5BUllfTVNHKHRlc3QsCQkJICAgICAgIFwKKwkJCQkJICAgIGxlZnQsCQkJ
ICAgICAgIFwKKwkJCQkJICAgID09LAkJCQkgICAgICAgXAorCQkJCQkgICAgcmlnaHQsCQkJICAg
ICAgIFwKKwkJCQkJICAgIGZtdCwJCQkgICAgICAgXAorCQkJCQkgICAgIyNfX1ZBX0FSR1NfXykK
KworLyoqCisgKiBLVU5JVF9BU1NFUlRfTkUoKSAtIEFuIGFzc2VydGlvbiB0aGF0IEBsZWZ0IGFu
ZCBAcmlnaHQgYXJlIG5vdCBlcXVhbC4KKyAqIEB0ZXN0OiBUaGUgdGVzdCBjb250ZXh0IG9iamVj
dC4KKyAqIEBsZWZ0OiBhbiBhcmJpdHJhcnkgZXhwcmVzc2lvbiB0aGF0IGV2YWx1YXRlcyB0byBh
IHByaW1pdGl2ZSBDIHR5cGUuCisgKiBAcmlnaHQ6IGFuIGFyYml0cmFyeSBleHByZXNzaW9uIHRo
YXQgZXZhbHVhdGVzIHRvIGEgcHJpbWl0aXZlIEMgdHlwZS4KKyAqCisgKiBTZXRzIGFuIGFzc2Vy
dGlvbiB0aGF0IHRoZSB2YWx1ZXMgdGhhdCBAbGVmdCBhbmQgQHJpZ2h0IGV2YWx1YXRlIHRvIGFy
ZSBub3QKKyAqIGVxdWFsLiBUaGlzIGlzIHRoZSBzYW1lIGFzIEtVTklUX0VYUEVDVF9ORSgpLCBl
eGNlcHQgaXQgY2F1c2VzIGFuIGFzc2VydGlvbgorICogZmFpbHVyZSAoc2VlIEtVTklUX0FTU0VS
VF9UUlVFKCkpIHdoZW4gdGhlIGFzc2VydGlvbiBpcyBub3QgbWV0LgorICovCisjZGVmaW5lIEtV
TklUX0FTU0VSVF9ORSh0ZXN0LCBsZWZ0LCByaWdodCkgXAorCQlLVU5JVF9BU1NFUlRfQklOQVJZ
KHRlc3QsIGxlZnQsICE9LCByaWdodCkKKworI2RlZmluZSBLVU5JVF9BU1NFUlRfTkVfTVNHKHRl
c3QsIGxlZnQsIHJpZ2h0LCBmbXQsIC4uLikJCSAgICAgICBcCisJCUtVTklUX0FTU0VSVF9CSU5B
UllfTVNHKHRlc3QsCQkJCSAgICAgICBcCisJCQkJCWxlZnQsCQkJCSAgICAgICBcCisJCQkJCSE9
LAkJCQkgICAgICAgXAorCQkJCQlyaWdodCwJCQkJICAgICAgIFwKKwkJCQkJZm10LAkJCQkgICAg
ICAgXAorCQkJCQkjI19fVkFfQVJHU19fKQorCisvKioKKyAqIEtVTklUX0FTU0VSVF9QVFJfTkUo
KSAtIEFzc2VydHMgdGhhdCBwb2ludGVycyBAbGVmdCBhbmQgQHJpZ2h0IGFyZSBub3QgZXF1YWwu
CisgKiBLVU5JVF9BU1NFUlRfUFRSX0VRKCkgLSBBc3NlcnRzIHRoYXQgcG9pbnRlcnMgQGxlZnQg
YW5kIEByaWdodCBhcmUgZXF1YWwuCisgKiBAdGVzdDogVGhlIHRlc3QgY29udGV4dCBvYmplY3Qu
CisgKiBAbGVmdDogYW4gYXJiaXRyYXJ5IGV4cHJlc3Npb24gdGhhdCBldmFsdWF0ZXMgdG8gYSBw
b2ludGVyLgorICogQHJpZ2h0OiBhbiBhcmJpdHJhcnkgZXhwcmVzc2lvbiB0aGF0IGV2YWx1YXRl
cyB0byBhIHBvaW50ZXIuCisgKgorICogU2V0cyBhbiBhc3NlcnRpb24gdGhhdCB0aGUgdmFsdWVz
IHRoYXQgQGxlZnQgYW5kIEByaWdodCBldmFsdWF0ZSB0byBhcmUgbm90CisgKiBlcXVhbC4gVGhp
cyBpcyB0aGUgc2FtZSBhcyBLVU5JVF9FWFBFQ1RfTkUoKSwgZXhjZXB0IGl0IGNhdXNlcyBhbiBh
c3NlcnRpb24KKyAqIGZhaWx1cmUgKHNlZSBLVU5JVF9BU1NFUlRfVFJVRSgpKSB3aGVuIHRoZSBh
c3NlcnRpb24gaXMgbm90IG1ldC4KKyAqLworI2RlZmluZSBLVU5JVF9BU1NFUlRfUFRSX05FKHRl
c3QsIGxlZnQsIHJpZ2h0KSBcCisJCUtVTklUX0FTU0VSVF9QVFJfQklOQVJZKHRlc3QsIGxlZnQs
ICE9LCByaWdodCkKKworI2RlZmluZSBLVU5JVF9BU1NFUlRfUFRSX05FX01TRyh0ZXN0LCBsZWZ0
LCByaWdodCwgZm10LCAuLi4pCQkgICAgICAgXAorCQlLVU5JVF9BU1NFUlRfUFRSX0JJTkFSWV9N
U0codGVzdCwJCQkgICAgICAgXAorCQkJCQkgICAgbGVmdCwJCQkgICAgICAgXAorCQkJCQkgICAg
IT0sCQkJCSAgICAgICBcCisJCQkJCSAgICByaWdodCwJCQkgICAgICAgXAorCQkJCQkgICAgZm10
LAkJCSAgICAgICBcCisJCQkJCSAgICAjI19fVkFfQVJHU19fKQorLyoqCisgKiBLVU5JVF9BU1NF
UlRfTFQoKSAtIEFuIGFzc2VydGlvbiB0aGF0IEBsZWZ0IGlzIGxlc3MgdGhhbiBAcmlnaHQuCisg
KiBAdGVzdDogVGhlIHRlc3QgY29udGV4dCBvYmplY3QuCisgKiBAbGVmdDogYW4gYXJiaXRyYXJ5
IGV4cHJlc3Npb24gdGhhdCBldmFsdWF0ZXMgdG8gYSBwcmltaXRpdmUgQyB0eXBlLgorICogQHJp
Z2h0OiBhbiBhcmJpdHJhcnkgZXhwcmVzc2lvbiB0aGF0IGV2YWx1YXRlcyB0byBhIHByaW1pdGl2
ZSBDIHR5cGUuCisgKgorICogU2V0cyBhbiBhc3NlcnRpb24gdGhhdCB0aGUgdmFsdWUgdGhhdCBA
bGVmdCBldmFsdWF0ZXMgdG8gaXMgbGVzcyB0aGFuIHRoZQorICogdmFsdWUgdGhhdCBAcmlnaHQg
ZXZhbHVhdGVzIHRvLiBUaGlzIGlzIHRoZSBzYW1lIGFzIEtVTklUX0VYUEVDVF9MVCgpLCBleGNl
cHQKKyAqIGl0IGNhdXNlcyBhbiBhc3NlcnRpb24gZmFpbHVyZSAoc2VlIEtVTklUX0FTU0VSVF9U
UlVFKCkpIHdoZW4gdGhlIGFzc2VydGlvbgorICogaXMgbm90IG1ldC4KKyAqLworI2RlZmluZSBL
VU5JVF9BU1NFUlRfTFQodGVzdCwgbGVmdCwgcmlnaHQpIFwKKwkJS1VOSVRfQVNTRVJUX0JJTkFS
WSh0ZXN0LCBsZWZ0LCA8LCByaWdodCkKKworI2RlZmluZSBLVU5JVF9BU1NFUlRfTFRfTVNHKHRl
c3QsIGxlZnQsIHJpZ2h0LCBmbXQsIC4uLikJCSAgICAgICBcCisJCUtVTklUX0FTU0VSVF9CSU5B
UllfTVNHKHRlc3QsCQkJCSAgICAgICBcCisJCQkJCWxlZnQsCQkJCSAgICAgICBcCisJCQkJCTws
CQkJCSAgICAgICBcCisJCQkJCXJpZ2h0LAkJCQkgICAgICAgXAorCQkJCQlmbXQsCQkJCSAgICAg
ICBcCisJCQkJCSMjX19WQV9BUkdTX18pCisvKioKKyAqIEtVTklUX0FTU0VSVF9MRSgpIC0gQW4g
YXNzZXJ0aW9uIHRoYXQgQGxlZnQgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIEByaWdodC4KKyAq
IEB0ZXN0OiBUaGUgdGVzdCBjb250ZXh0IG9iamVjdC4KKyAqIEBsZWZ0OiBhbiBhcmJpdHJhcnkg
ZXhwcmVzc2lvbiB0aGF0IGV2YWx1YXRlcyB0byBhIHByaW1pdGl2ZSBDIHR5cGUuCisgKiBAcmln
aHQ6IGFuIGFyYml0cmFyeSBleHByZXNzaW9uIHRoYXQgZXZhbHVhdGVzIHRvIGEgcHJpbWl0aXZl
IEMgdHlwZS4KKyAqCisgKiBTZXRzIGFuIGFzc2VydGlvbiB0aGF0IHRoZSB2YWx1ZSB0aGF0IEBs
ZWZ0IGV2YWx1YXRlcyB0byBpcyBsZXNzIHRoYW4gb3IKKyAqIGVxdWFsIHRvIHRoZSB2YWx1ZSB0
aGF0IEByaWdodCBldmFsdWF0ZXMgdG8uIFRoaXMgaXMgdGhlIHNhbWUgYXMKKyAqIEtVTklUX0VY
UEVDVF9MRSgpLCBleGNlcHQgaXQgY2F1c2VzIGFuIGFzc2VydGlvbiBmYWlsdXJlIChzZWUKKyAq
IEtVTklUX0FTU0VSVF9UUlVFKCkpIHdoZW4gdGhlIGFzc2VydGlvbiBpcyBub3QgbWV0LgorICov
CisjZGVmaW5lIEtVTklUX0FTU0VSVF9MRSh0ZXN0LCBsZWZ0LCByaWdodCkgXAorCQlLVU5JVF9B
U1NFUlRfQklOQVJZKHRlc3QsIGxlZnQsIDw9LCByaWdodCkKKworI2RlZmluZSBLVU5JVF9BU1NF
UlRfTEVfTVNHKHRlc3QsIGxlZnQsIHJpZ2h0LCBmbXQsIC4uLikJCSAgICAgICBcCisJCUtVTklU
X0FTU0VSVF9CSU5BUllfTVNHKHRlc3QsCQkJCSAgICAgICBcCisJCQkJCWxlZnQsCQkJCSAgICAg
ICBcCisJCQkJCTw9LAkJCQkgICAgICAgXAorCQkJCQlyaWdodCwJCQkJICAgICAgIFwKKwkJCQkJ
Zm10LAkJCQkgICAgICAgXAorCQkJCQkjI19fVkFfQVJHU19fKQorLyoqCisgKiBLVU5JVF9BU1NF
UlRfR1QoKSAtIEFuIGFzc2VydGlvbiB0aGF0IEBsZWZ0IGlzIGdyZWF0ZXIgdGhhbiBAcmlnaHQu
CisgKiBAdGVzdDogVGhlIHRlc3QgY29udGV4dCBvYmplY3QuCisgKiBAbGVmdDogYW4gYXJiaXRy
YXJ5IGV4cHJlc3Npb24gdGhhdCBldmFsdWF0ZXMgdG8gYSBwcmltaXRpdmUgQyB0eXBlLgorICog
QHJpZ2h0OiBhbiBhcmJpdHJhcnkgZXhwcmVzc2lvbiB0aGF0IGV2YWx1YXRlcyB0byBhIHByaW1p
dGl2ZSBDIHR5cGUuCisgKgorICogU2V0cyBhbiBhc3NlcnRpb24gdGhhdCB0aGUgdmFsdWUgdGhh
dCBAbGVmdCBldmFsdWF0ZXMgdG8gaXMgZ3JlYXRlciB0aGFuIHRoZQorICogdmFsdWUgdGhhdCBA
cmlnaHQgZXZhbHVhdGVzIHRvLiBUaGlzIGlzIHRoZSBzYW1lIGFzIEtVTklUX0VYUEVDVF9HVCgp
LCBleGNlcHQKKyAqIGl0IGNhdXNlcyBhbiBhc3NlcnRpb24gZmFpbHVyZSAoc2VlIEtVTklUX0FT
U0VSVF9UUlVFKCkpIHdoZW4gdGhlIGFzc2VydGlvbgorICogaXMgbm90IG1ldC4KKyAqLworI2Rl
ZmluZSBLVU5JVF9BU1NFUlRfR1QodGVzdCwgbGVmdCwgcmlnaHQpIFwKKwkJS1VOSVRfQVNTRVJU
X0JJTkFSWSh0ZXN0LCBsZWZ0LCA+LCByaWdodCkKKworI2RlZmluZSBLVU5JVF9BU1NFUlRfR1Rf
TVNHKHRlc3QsIGxlZnQsIHJpZ2h0LCBmbXQsIC4uLikJCSAgICAgICBcCisJCUtVTklUX0FTU0VS
VF9CSU5BUllfTVNHKHRlc3QsCQkJCSAgICAgICBcCisJCQkJCWxlZnQsCQkJCSAgICAgICBcCisJ
CQkJCT4sCQkJCSAgICAgICBcCisJCQkJCXJpZ2h0LAkJCQkgICAgICAgXAorCQkJCQlmbXQsCQkJ
CSAgICAgICBcCisJCQkJCSMjX19WQV9BUkdTX18pCisKKy8qKgorICogS1VOSVRfQVNTRVJUX0dF
KCkgLSBBc3NlcnRpb24gdGhhdCBAbGVmdCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gQHJp
Z2h0LgorICogQHRlc3Q6IFRoZSB0ZXN0IGNvbnRleHQgb2JqZWN0LgorICogQGxlZnQ6IGFuIGFy
Yml0cmFyeSBleHByZXNzaW9uIHRoYXQgZXZhbHVhdGVzIHRvIGEgcHJpbWl0aXZlIEMgdHlwZS4K
KyAqIEByaWdodDogYW4gYXJiaXRyYXJ5IGV4cHJlc3Npb24gdGhhdCBldmFsdWF0ZXMgdG8gYSBw
cmltaXRpdmUgQyB0eXBlLgorICoKKyAqIFNldHMgYW4gYXNzZXJ0aW9uIHRoYXQgdGhlIHZhbHVl
IHRoYXQgQGxlZnQgZXZhbHVhdGVzIHRvIGlzIGdyZWF0ZXIgdGhhbiB0aGUKKyAqIHZhbHVlIHRo
YXQgQHJpZ2h0IGV2YWx1YXRlcyB0by4gVGhpcyBpcyB0aGUgc2FtZSBhcyBLVU5JVF9FWFBFQ1Rf
R0UoKSwgZXhjZXB0CisgKiBpdCBjYXVzZXMgYW4gYXNzZXJ0aW9uIGZhaWx1cmUgKHNlZSBLVU5J
VF9BU1NFUlRfVFJVRSgpKSB3aGVuIHRoZSBhc3NlcnRpb24KKyAqIGlzIG5vdCBtZXQuCisgKi8K
KyNkZWZpbmUgS1VOSVRfQVNTRVJUX0dFKHRlc3QsIGxlZnQsIHJpZ2h0KSBcCisJCUtVTklUX0FT
U0VSVF9CSU5BUlkodGVzdCwgbGVmdCwgPj0sIHJpZ2h0KQorCisjZGVmaW5lIEtVTklUX0FTU0VS
VF9HRV9NU0codGVzdCwgbGVmdCwgcmlnaHQsIGZtdCwgLi4uKQkJICAgICAgIFwKKwkJS1VOSVRf
QVNTRVJUX0JJTkFSWV9NU0codGVzdCwJCQkJICAgICAgIFwKKwkJCQkJbGVmdCwJCQkJICAgICAg
IFwKKwkJCQkJPj0sCQkJCSAgICAgICBcCisJCQkJCXJpZ2h0LAkJCQkgICAgICAgXAorCQkJCQlm
bXQsCQkJCSAgICAgICBcCisJCQkJCSMjX19WQV9BUkdTX18pCisKKy8qKgorICogS1VOSVRfQVNT
RVJUX1NUUkVRKCkgLSBBbiBhc3NlcnRpb24gdGhhdCBzdHJpbmdzIEBsZWZ0IGFuZCBAcmlnaHQg
YXJlIGVxdWFsLgorICogQHRlc3Q6IFRoZSB0ZXN0IGNvbnRleHQgb2JqZWN0LgorICogQGxlZnQ6
IGFuIGFyYml0cmFyeSBleHByZXNzaW9uIHRoYXQgZXZhbHVhdGVzIHRvIGEgbnVsbCB0ZXJtaW5h
dGVkIHN0cmluZy4KKyAqIEByaWdodDogYW4gYXJiaXRyYXJ5IGV4cHJlc3Npb24gdGhhdCBldmFs
dWF0ZXMgdG8gYSBudWxsIHRlcm1pbmF0ZWQgc3RyaW5nLgorICoKKyAqIFNldHMgYW4gYXNzZXJ0
aW9uIHRoYXQgdGhlIHZhbHVlcyB0aGF0IEBsZWZ0IGFuZCBAcmlnaHQgZXZhbHVhdGUgdG8gYXJl
CisgKiBlcXVhbC4gVGhpcyBpcyB0aGUgc2FtZSBhcyBLVU5JVF9FWFBFQ1RfU1RSRVEoKSwgZXhj
ZXB0IGl0IGNhdXNlcyBhbgorICogYXNzZXJ0aW9uIGZhaWx1cmUgKHNlZSBLVU5JVF9BU1NFUlRf
VFJVRSgpKSB3aGVuIHRoZSBhc3NlcnRpb24gaXMgbm90IG1ldC4KKyAqLworI2RlZmluZSBLVU5J
VF9BU1NFUlRfU1RSRVEodGVzdCwgbGVmdCwgcmlnaHQpIGRvIHsJCQkgICAgICAgXAorCXN0cnVj
dCBrdW5pdF9zdHJlYW0gKl9fc3RyZWFtID0gS1VOSVRfQVNTRVJUX1NUQVJUKHRlc3QpOwkgICAg
ICAgXAorCXR5cGVvZihsZWZ0KSBfX2xlZnQgPSAobGVmdCk7CQkJCQkgICAgICAgXAorCXR5cGVv
ZihyaWdodCkgX19yaWdodCA9IChyaWdodCk7CQkJCSAgICAgICBcCisJCQkJCQkJCQkgICAgICAg
XAorCWt1bml0X3N0cmVhbV9hZGQoX19zdHJlYW0sICJBc3NlcnRlZCAiICNsZWZ0ICIgPT0gIiAj
cmlnaHQgIiwgYnV0XG4iKTsgXAorCWt1bml0X3N0cmVhbV9hZGQoX19zdHJlYW0sICJcdFx0JXMg
PT0gJXNcbiIsICNsZWZ0LCBfX2xlZnQpOwkgICAgICAgXAorCWt1bml0X3N0cmVhbV9hZGQoX19z
dHJlYW0sICJcdFx0JXMgPT0gJXNcbiIsICNyaWdodCwgX19yaWdodCk7CSAgICAgICBcCisJCQkJ
CQkJCQkgICAgICAgXAorCUtVTklUX0FTU0VSVF9FTkQodGVzdCwgIXN0cmNtcChsZWZ0LCByaWdo
dCksIF9fc3RyZWFtKTsJCSAgICAgICBcCit9IHdoaWxlICgwKQorCisjZGVmaW5lIEtVTklUX0FT
U0VSVF9TVFJFUV9NU0codGVzdCwgbGVmdCwgcmlnaHQsIGZtdCwgLi4uKSBkbyB7CSAgICAgICBc
CisJc3RydWN0IGt1bml0X3N0cmVhbSAqX19zdHJlYW0gPSBLVU5JVF9BU1NFUlRfU1RBUlQodGVz
dCk7CSAgICAgICBcCisJdHlwZW9mKGxlZnQpIF9fbGVmdCA9IChsZWZ0KTsJCQkJCSAgICAgICBc
CisJdHlwZW9mKHJpZ2h0KSBfX3JpZ2h0ID0gKHJpZ2h0KTsJCQkJICAgICAgIFwKKwkJCQkJCQkJ
CSAgICAgICBcCisJa3VuaXRfc3RyZWFtX2FkZChfX3N0cmVhbSwgIkFzc2VydGVkICIgI2xlZnQg
IiA9PSAiICNyaWdodCAiLCBidXRcbiIpOyBcCisJa3VuaXRfc3RyZWFtX2FkZChfX3N0cmVhbSwg
Ilx0XHQlcyA9PSAlc1xuIiwgI2xlZnQsIF9fbGVmdCk7CSAgICAgICBcCisJa3VuaXRfc3RyZWFt
X2FkZChfX3N0cmVhbSwgIlx0XHQlcyA9PSAlc1xuIiwgI3JpZ2h0LCBfX3JpZ2h0KTsJICAgICAg
IFwKKwlrdW5pdF9zdHJlYW1fYWRkKF9fc3RyZWFtLCBmbXQsICMjX19WQV9BUkdTX18pOwkJCSAg
ICAgICBcCisJCQkJCQkJCQkgICAgICAgXAorCUtVTklUX0FTU0VSVF9FTkQodGVzdCwgIXN0cmNt
cChsZWZ0LCByaWdodCksIF9fc3RyZWFtKTsJCSAgICAgICBcCit9IHdoaWxlICgwKQorCisvKioK
KyAqIEtVTklUX0FTU0VSVF9TVFJORVEoKSAtIEV4cGVjdHMgdGhhdCBzdHJpbmdzIEBsZWZ0IGFu
ZCBAcmlnaHQgYXJlIG5vdCBlcXVhbC4KKyAqIEB0ZXN0OiBUaGUgdGVzdCBjb250ZXh0IG9iamVj
dC4KKyAqIEBsZWZ0OiBhbiBhcmJpdHJhcnkgZXhwcmVzc2lvbiB0aGF0IGV2YWx1YXRlcyB0byBh
IG51bGwgdGVybWluYXRlZCBzdHJpbmcuCisgKiBAcmlnaHQ6IGFuIGFyYml0cmFyeSBleHByZXNz
aW9uIHRoYXQgZXZhbHVhdGVzIHRvIGEgbnVsbCB0ZXJtaW5hdGVkIHN0cmluZy4KKyAqCisgKiBT
ZXRzIGFuIGV4cGVjdGF0aW9uIHRoYXQgdGhlIHZhbHVlcyB0aGF0IEBsZWZ0IGFuZCBAcmlnaHQg
ZXZhbHVhdGUgdG8gYXJlCisgKiBub3QgZXF1YWwuIFRoaXMgaXMgc2VtYW50aWNhbGx5IGVxdWl2
YWxlbnQgdG8KKyAqIEtVTklUX0FTU0VSVF9UUlVFKEB0ZXN0LCBzdHJjbXAoKEBsZWZ0KSwgKEBy
aWdodCkpKS4gU2VlIEtVTklUX0FTU0VSVF9UUlVFKCkKKyAqIGZvciBtb3JlIGluZm9ybWF0aW9u
LgorICovCisjZGVmaW5lIEtVTklUX0FTU0VSVF9TVFJORVEodGVzdCwgbGVmdCwgcmlnaHQpIGRv
IHsJCQkgICAgICAgXAorCXN0cnVjdCBrdW5pdF9zdHJlYW0gKl9fc3RyZWFtID0gS1VOSVRfQVNT
RVJUX1NUQVJUKHRlc3QpOwkgICAgICAgXAorCXR5cGVvZihsZWZ0KSBfX2xlZnQgPSAobGVmdCk7
CQkJCQkgICAgICAgXAorCXR5cGVvZihyaWdodCkgX19yaWdodCA9IChyaWdodCk7CQkJCSAgICAg
ICBcCisJCQkJCQkJCQkgICAgICAgXAorCWt1bml0X3N0cmVhbV9hZGQoX19zdHJlYW0sICJBc3Nl
cnRlZCAiICNsZWZ0ICIgPT0gIiAjcmlnaHQgIiwgYnV0XG4iKTsgXAorCWt1bml0X3N0cmVhbV9h
ZGQoX19zdHJlYW0sICJcdFx0JXMgPT0gJXNcbiIsICNsZWZ0LCBfX2xlZnQpOwkgICAgICAgXAor
CWt1bml0X3N0cmVhbV9hZGQoX19zdHJlYW0sICJcdFx0JXMgPT0gJXNcbiIsICNyaWdodCwgX19y
aWdodCk7CSAgICAgICBcCisJCQkJCQkJCQkgICAgICAgXAorCUtVTklUX0FTU0VSVF9FTkQodGVz
dCwgc3RyY21wKGxlZnQsIHJpZ2h0KSwgX19zdHJlYW0pOwkJICAgICAgIFwKK30gd2hpbGUgKDAp
CisKKyNkZWZpbmUgS1VOSVRfQVNTRVJUX1NUUk5FUV9NU0codGVzdCwgbGVmdCwgcmlnaHQsIGZt
dCwgLi4uKSBkbyB7CSAgICAgICBcCisJc3RydWN0IGt1bml0X3N0cmVhbSAqX19zdHJlYW0gPSBL
VU5JVF9BU1NFUlRfU1RBUlQodGVzdCk7CSAgICAgICBcCisJdHlwZW9mKGxlZnQpIF9fbGVmdCA9
IChsZWZ0KTsJCQkJCSAgICAgICBcCisJdHlwZW9mKHJpZ2h0KSBfX3JpZ2h0ID0gKHJpZ2h0KTsJ
CQkJICAgICAgIFwKKwkJCQkJCQkJCSAgICAgICBcCisJa3VuaXRfc3RyZWFtX2FkZChfX3N0cmVh
bSwgIkFzc2VydGVkICIgI2xlZnQgIiA9PSAiICNyaWdodCAiLCBidXRcbiIpOyBcCisJa3VuaXRf
c3RyZWFtX2FkZChfX3N0cmVhbSwgIlx0XHQlcyA9PSAlc1xuIiwgI2xlZnQsIF9fbGVmdCk7CSAg
ICAgICBcCisJa3VuaXRfc3RyZWFtX2FkZChfX3N0cmVhbSwgIlx0XHQlcyA9PSAlc1xuIiwgI3Jp
Z2h0LCBfX3JpZ2h0KTsJICAgICAgIFwKKwlrdW5pdF9zdHJlYW1fYWRkKF9fc3RyZWFtLCBmbXQs
ICMjX19WQV9BUkdTX18pOwkJCSAgICAgICBcCisJCQkJCQkJCQkgICAgICAgXAorCUtVTklUX0FT
U0VSVF9FTkQodGVzdCwgc3RyY21wKGxlZnQsIHJpZ2h0KSwgX19zdHJlYW0pOwkJICAgICAgIFwK
K30gd2hpbGUgKDApCisKKy8qKgorICogS1VOSVRfQVNTRVJUX05PVF9FUlJfT1JfTlVMTCgpIC0g
QXNzZXJ0aW9uIHRoYXQgQHB0ciBpcyBub3QgbnVsbCBhbmQgbm90IGVyci4KKyAqIEB0ZXN0OiBU
aGUgdGVzdCBjb250ZXh0IG9iamVjdC4KKyAqIEBwdHI6IGFuIGFyYml0cmFyeSBwb2ludGVyLgor
ICoKKyAqIFNldHMgYW4gYXNzZXJ0aW9uIHRoYXQgdGhlIHZhbHVlIHRoYXQgQHB0ciBldmFsdWF0
ZXMgdG8gaXMgbm90IG51bGwgYW5kIG5vdAorICogYW4gZXJybm8gc3RvcmVkIGluIGEgcG9pbnRl
ci4gVGhpcyBpcyB0aGUgc2FtZSBhcworICogS1VOSVRfRVhQRUNUX05PVF9FUlJfT1JfTlVMTCgp
LCBleGNlcHQgaXQgY2F1c2VzIGFuIGFzc2VydGlvbiBmYWlsdXJlIChzZWUKKyAqIEtVTklUX0FT
U0VSVF9UUlVFKCkpIHdoZW4gdGhlIGFzc2VydGlvbiBpcyBub3QgbWV0LgorICovCisjZGVmaW5l
IEtVTklUX0FTU0VSVF9OT1RfRVJSX09SX05VTEwodGVzdCwgcHRyKSBkbyB7CQkJICAgICAgIFwK
KwlzdHJ1Y3Qga3VuaXRfc3RyZWFtICpfX3N0cmVhbSA9IEtVTklUX0FTU0VSVF9TVEFSVCh0ZXN0
KTsJICAgICAgIFwKKwl0eXBlb2YocHRyKSBfX3B0ciA9IChwdHIpOwkJCQkJICAgICAgIFwKKwkJ
CQkJCQkJCSAgICAgICBcCisJaWYgKCFfX3B0cikJCQkJCQkJICAgICAgIFwKKwkJa3VuaXRfc3Ry
ZWFtX2FkZChfX3N0cmVhbSwJCQkJICAgICAgIFwKKwkJCQkgIkFzc2VydGVkICIgI3B0ciAiIGlz
IG5vdCBudWxsLCBidXQgaXNcbiIpOyAgXAorCWlmIChJU19FUlIoX19wdHIpKQkJCQkJCSAgICAg
ICBcCisJCWt1bml0X3N0cmVhbV9hZGQoX19zdHJlYW0sCQkJCSAgICAgICBcCisJCQkJICJBc3Nl
cnRlZCAiICNwdHIgIiBpcyBub3QgZXJyb3IsIGJ1dCBpczogJWxkXG4iLFwKKwkJCQkgUFRSX0VS
UihfX3B0cikpOwkJCSAgICAgICBcCisJCQkJCQkJCQkgICAgICAgXAorCUtVTklUX0FTU0VSVF9F
TkQodGVzdCwgIUlTX0VSUl9PUl9OVUxMKF9fcHRyKSwgX19zdHJlYW0pOwkgICAgICAgXAorfSB3
aGlsZSAoMCkKKworI2RlZmluZSBLVU5JVF9BU1NFUlRfTk9UX0VSUl9PUl9OVUxMX01TRyh0ZXN0
LCBwdHIsIGZtdCwgLi4uKSBkbyB7CSAgICAgICBcCisJc3RydWN0IGt1bml0X3N0cmVhbSAqX19z
dHJlYW0gPSBLVU5JVF9BU1NFUlRfU1RBUlQodGVzdCk7CSAgICAgICBcCisJdHlwZW9mKHB0cikg
X19wdHIgPSAocHRyKTsJCQkJCSAgICAgICBcCisJCQkJCQkJCQkgICAgICAgXAorCWlmICghX19w
dHIpIHsJCQkJCQkJICAgICAgIFwKKwkJa3VuaXRfc3RyZWFtX2FkZChfX3N0cmVhbSwJCQkJICAg
ICAgIFwKKwkJCQkgIkFzc2VydGVkICIgI3B0ciAiIGlzIG5vdCBudWxsLCBidXQgaXNcbiIpOyAg
XAorCQlrdW5pdF9zdHJlYW1fYWRkKF9fc3RyZWFtLCBmbXQsICMjX19WQV9BUkdTX18pOwkJICAg
ICAgIFwKKwl9CQkJCQkJCQkgICAgICAgXAorCWlmIChJU19FUlIoX19wdHIpKSB7CQkJCQkJICAg
ICAgIFwKKwkJa3VuaXRfc3RyZWFtX2FkZChfX3N0cmVhbSwJCQkJICAgICAgIFwKKwkJCQkgIkFz
c2VydGVkICIgI3B0ciAiIGlzIG5vdCBlcnJvciwgYnV0IGlzOiAlbGRcbiIsXAorCQkJCSBQVFJf
RVJSKF9fcHRyKSk7CQkJICAgICAgIFwKKwkJCQkJCQkJCSAgICAgICBcCisJCWt1bml0X3N0cmVh
bV9hZGQoX19zdHJlYW0sIGZtdCwgIyNfX1ZBX0FSR1NfXyk7CQkgICAgICAgXAorCX0JCQkJCQkJ
CSAgICAgICBcCisJS1VOSVRfQVNTRVJUX0VORCh0ZXN0LCAhSVNfRVJSX09SX05VTEwoX19wdHIp
LCBfX3N0cmVhbSk7CSAgICAgICBcCit9IHdoaWxlICgwKQorCiAjZW5kaWYgLyogX0tVTklUX1RF
U1RfSCAqLwpkaWZmIC0tZ2l0IGEva3VuaXQvc3RyaW5nLXN0cmVhbS10ZXN0LmMgYi9rdW5pdC9z
dHJpbmctc3RyZWFtLXRlc3QuYwppbmRleCAzNmYwYjU3NjlhNWE0Li5hODhlY2VmNzk5YTZiIDEw
MDY0NAotLS0gYS9rdW5pdC9zdHJpbmctc3RyZWFtLXRlc3QuYworKysgYi9rdW5pdC9zdHJpbmct
c3RyZWFtLXRlc3QuYwpAQCAtMzQsNyArMzQsNyBAQCBzdGF0aWMgdm9pZCBzdHJpbmdfc3RyZWFt
X3Rlc3RfZ2V0X3N0cmluZyhzdHJ1Y3Qga3VuaXQgKnRlc3QpCiAJc3RyaW5nX3N0cmVhbV9hZGQo
c3RyZWFtLCAiICVzIiwgImJhciIpOwogCiAJb3V0cHV0ID0gc3RyaW5nX3N0cmVhbV9nZXRfc3Ry
aW5nKHN0cmVhbSk7Ci0JS1VOSVRfRVhQRUNUX1NUUkVRKHRlc3QsIG91dHB1dCwgIkZvbyBiYXIi
KTsKKwlLVU5JVF9BU1NFUlRfU1RSRVEodGVzdCwgb3V0cHV0LCAiRm9vIGJhciIpOwogCWtmcmVl
KG91dHB1dCk7CiB9CiAKQEAgLTQ4LDE2ICs0OCwxNiBAQCBzdGF0aWMgdm9pZCBzdHJpbmdfc3Ry
ZWFtX3Rlc3RfYWRkX2FuZF9jbGVhcihzdHJ1Y3Qga3VuaXQgKnRlc3QpCiAJCXN0cmluZ19zdHJl
YW1fYWRkKHN0cmVhbSwgIkEiKTsKIAogCW91dHB1dCA9IHN0cmluZ19zdHJlYW1fZ2V0X3N0cmlu
ZyhzdHJlYW0pOwotCUtVTklUX0VYUEVDVF9TVFJFUSh0ZXN0LCBvdXRwdXQsICJBQUFBQUFBQUFB
Iik7Ci0JS1VOSVRfRVhQRUNUX0VRKHRlc3QsIHN0cmVhbS0+bGVuZ3RoLCAoc2l6ZV90KTEwKTsK
LQlLVU5JVF9FWFBFQ1RfRkFMU0UodGVzdCwgc3RyaW5nX3N0cmVhbV9pc19lbXB0eShzdHJlYW0p
KTsKKwlLVU5JVF9BU1NFUlRfU1RSRVEodGVzdCwgb3V0cHV0LCAiQUFBQUFBQUFBQSIpOworCUtV
TklUX0FTU0VSVF9FUSh0ZXN0LCBzdHJlYW0tPmxlbmd0aCwgKHNpemVfdCkxMCk7CisJS1VOSVRf
QVNTRVJUX0ZBTFNFKHRlc3QsIHN0cmluZ19zdHJlYW1faXNfZW1wdHkoc3RyZWFtKSk7CiAJa2Zy
ZWUob3V0cHV0KTsKIAogCXN0cmluZ19zdHJlYW1fY2xlYXIoc3RyZWFtKTsKIAogCW91dHB1dCA9
IHN0cmluZ19zdHJlYW1fZ2V0X3N0cmluZyhzdHJlYW0pOwotCUtVTklUX0VYUEVDVF9TVFJFUSh0
ZXN0LCBvdXRwdXQsICIiKTsKLQlLVU5JVF9FWFBFQ1RfVFJVRSh0ZXN0LCBzdHJpbmdfc3RyZWFt
X2lzX2VtcHR5KHN0cmVhbSkpOworCUtVTklUX0FTU0VSVF9TVFJFUSh0ZXN0LCBvdXRwdXQsICIi
KTsKKwlLVU5JVF9BU1NFUlRfVFJVRSh0ZXN0LCBzdHJpbmdfc3RyZWFtX2lzX2VtcHR5KHN0cmVh
bSkpOwogfQogCiBzdGF0aWMgc3RydWN0IGt1bml0X2Nhc2Ugc3RyaW5nX3N0cmVhbV90ZXN0X2Nh
c2VzW10gPSB7CmRpZmYgLS1naXQgYS9rdW5pdC90ZXN0LXRlc3QuYyBiL2t1bml0L3Rlc3QtdGVz
dC5jCmluZGV4IDVkMTRlMWFlMzVlZDUuLjQzZDFiZWRjZjQ1OTIgMTAwNjQ0Ci0tLSBhL2t1bml0
L3Rlc3QtdGVzdC5jCisrKyBiL2t1bml0L3Rlc3QtdGVzdC5jCkBAIC03OCwxMSArNzgsMTMgQEAg
c3RhdGljIGludCBrdW5pdF90cnlfY2F0Y2hfdGVzdF9pbml0KHN0cnVjdCBrdW5pdCAqdGVzdCkK
IAlzdHJ1Y3Qga3VuaXRfdHJ5X2NhdGNoX3Rlc3RfY29udGV4dCAqY3R4OwogCiAJY3R4ID0ga3Vu
aXRfa3phbGxvYyh0ZXN0LCBzaXplb2YoKmN0eCksIEdGUF9LRVJORUwpOworCUtVTklUX0FTU0VS
VF9OT1RfRVJSX09SX05VTEwodGVzdCwgY3R4KTsKIAl0ZXN0LT5wcml2ID0gY3R4OwogCiAJY3R4
LT50cnlfY2F0Y2ggPSBrdW5pdF9rbWFsbG9jKHRlc3QsCiAJCQkJICAgICAgIHNpemVvZigqY3R4
LT50cnlfY2F0Y2gpLAogCQkJCSAgICAgICBHRlBfS0VSTkVMKTsKKwlLVU5JVF9BU1NFUlRfTk9U
X0VSUl9PUl9OVUxMKHRlc3QsIGN0eC0+dHJ5X2NhdGNoKTsKIAogCXJldHVybiAwOwogfQpkaWZm
IC0tZ2l0IGEva3VuaXQvdGVzdC5jIGIva3VuaXQvdGVzdC5jCmluZGV4IGNiMDdlMDkxNmU5MDEu
LmU2NjVhN2U5YTE3ZDggMTAwNjQ0Ci0tLSBhL2t1bml0L3Rlc3QuYworKysgYi9rdW5pdC90ZXN0
LmMKQEAgLTUyMiwzICs1MjIsNjkgQEAgdm9pZCBrdW5pdF9leHBlY3RfcHRyX2JpbmFyeV9tc2co
c3RydWN0IGt1bml0ICp0ZXN0LAogCiAJa3VuaXRfZXhwZWN0X2VuZCh0ZXN0LCBjb21wYXJlX3Jl
c3VsdCwgc3RyZWFtKTsKIH0KKwordm9pZCBrdW5pdF9hc3NlcnRfYmluYXJ5X21zZyhzdHJ1Y3Qg
a3VuaXQgKnRlc3QsCisJCQkgICAgIGxvbmcgbG9uZyBsZWZ0LCBjb25zdCBjaGFyICpsZWZ0X25h
bWUsCisJCQkgICAgIGxvbmcgbG9uZyByaWdodCwgY29uc3QgY2hhciAqcmlnaHRfbmFtZSwKKwkJ
CSAgICAgYm9vbCBjb21wYXJlX3Jlc3VsdCwKKwkJCSAgICAgY29uc3QgY2hhciAqY29tcGFyZV9u
YW1lLAorCQkJICAgICBjb25zdCBjaGFyICpmaWxlLAorCQkJICAgICBjb25zdCBjaGFyICpsaW5l
LAorCQkJICAgICBjb25zdCBjaGFyICpmbXQsIC4uLikKK3sKKwlzdHJ1Y3Qga3VuaXRfc3RyZWFt
ICpzdHJlYW0gPSBrdW5pdF9hc3NlcnRfc3RhcnQodGVzdCwgZmlsZSwgbGluZSk7CisJc3RydWN0
IHZhX2Zvcm1hdCB2YWY7CisJdmFfbGlzdCBhcmdzOworCisJa3VuaXRfc3RyZWFtX2FkZChzdHJl
YW0sCisJCQkgIkFzc2VydGVkICVzICVzICVzLCBidXRcbiIsCisJCQkgbGVmdF9uYW1lLCBjb21w
YXJlX25hbWUsIHJpZ2h0X25hbWUpOworCWt1bml0X3N0cmVhbV9hZGQoc3RyZWFtLCAiXHRcdCVz
ID09ICVsbGRcbiIsIGxlZnRfbmFtZSwgbGVmdCk7CisJa3VuaXRfc3RyZWFtX2FkZChzdHJlYW0s
ICJcdFx0JXMgPT0gJWxsZFxuIiwgcmlnaHRfbmFtZSwgcmlnaHQpOworCisJaWYgKGZtdCkgewor
CQl2YV9zdGFydChhcmdzLCBmbXQpOworCisJCXZhZi5mbXQgPSBmbXQ7CisJCXZhZi52YSA9ICZh
cmdzOworCisJCWt1bml0X3N0cmVhbV9hZGQoc3RyZWFtLCAiXG4lcFYiLCAmdmFmKTsKKworCQl2
YV9lbmQoYXJncyk7CisJfQorCisJa3VuaXRfYXNzZXJ0X2VuZCh0ZXN0LCBjb21wYXJlX3Jlc3Vs
dCwgc3RyZWFtKTsKK30KKwordm9pZCBrdW5pdF9hc3NlcnRfcHRyX2JpbmFyeV9tc2coc3RydWN0
IGt1bml0ICp0ZXN0LAorCQkJCSB2b2lkICpsZWZ0LCBjb25zdCBjaGFyICpsZWZ0X25hbWUsCisJ
CQkJIHZvaWQgKnJpZ2h0LCBjb25zdCBjaGFyICpyaWdodF9uYW1lLAorCQkJCSBib29sIGNvbXBh
cmVfcmVzdWx0LAorCQkJCSBjb25zdCBjaGFyICpjb21wYXJlX25hbWUsCisJCQkJIGNvbnN0IGNo
YXIgKmZpbGUsCisJCQkJIGNvbnN0IGNoYXIgKmxpbmUsCisJCQkJIGNvbnN0IGNoYXIgKmZtdCwg
Li4uKQoreworCXN0cnVjdCBrdW5pdF9zdHJlYW0gKnN0cmVhbSA9IGt1bml0X2Fzc2VydF9zdGFy
dCh0ZXN0LCBmaWxlLCBsaW5lKTsKKwlzdHJ1Y3QgdmFfZm9ybWF0IHZhZjsKKwl2YV9saXN0IGFy
Z3M7CisKKwlrdW5pdF9zdHJlYW1fYWRkKHN0cmVhbSwKKwkJCSAiQXNzZXJ0ZWQgJXMgJXMgJXMs
IGJ1dFxuIiwKKwkJCSBsZWZ0X25hbWUsIGNvbXBhcmVfbmFtZSwgcmlnaHRfbmFtZSk7CisJa3Vu
aXRfc3RyZWFtX2FkZChzdHJlYW0sICJcdFx0JXMgPT0gJXBLXG4iLCBsZWZ0X25hbWUsIGxlZnQp
OworCWt1bml0X3N0cmVhbV9hZGQoc3RyZWFtLCAiXHRcdCVzID09ICVwSyIsIHJpZ2h0X25hbWUs
IHJpZ2h0KTsKKworCWlmIChmbXQpIHsKKwkJdmFfc3RhcnQoYXJncywgZm10KTsKKworCQl2YWYu
Zm10ID0gZm10OworCQl2YWYudmEgPSAmYXJnczsKKworCQlrdW5pdF9zdHJlYW1fYWRkKHN0cmVh
bSwgIlxuJXBWIiwgJnZhZik7CisKKwkJdmFfZW5kKGFyZ3MpOworCX0KKworCWt1bml0X2Fzc2Vy
dF9lbmQodGVzdCwgY29tcGFyZV9yZXN1bHQsIHN0cmVhbSk7Cit9Ci0tIAoyLjIyLjAuNDEwLmdk
OGZkYmUyMWI1LWdvb2cKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9w
Lm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1k
ZXZlbA==
