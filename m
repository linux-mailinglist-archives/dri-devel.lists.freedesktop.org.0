Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 3806E293B0A
	for <lists+dri-devel@lfdr.de>; Tue, 20 Oct 2020 14:15:14 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 695136EC5D;
	Tue, 20 Oct 2020 12:15:11 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from NAM11-CO1-obe.outbound.protection.outlook.com
 (mail-co1nam11on2082.outbound.protection.outlook.com [40.107.220.82])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2C0006EC5D
 for <dri-devel@lists.freedesktop.org>; Tue, 20 Oct 2020 12:15:10 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=D/51wAYcBtoTBwSMKp4YLb9nq0EQDOxUFrEyQEDaf0InkW5Y2Aqz6v1z3M4MEWildtoYMiwhnPODQ/JcqgyV3ceMQA1M1RUj1q8XeaTEa1erpPVgGXUzjTnNtc4abpM/7XJvN0Fb5qNpFFkor61WM0JlJS49zHOx5/M7ZdjbOaNqXxQov4/gl6dM32cWQAKRcmD7ChwdSa+epi/nfQzIKFyzRbPFDim1skCOSQvfnB1y5qDSrhZ/57Wn7FdEmOa/YWUkXKx/Ft/84Lh16FfNMPFITBQwUgdAGOT0qo8mBvVl1QtWqWsk/APgdQf6RMejwOImPbUlsXViSH0T3PY8eA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=iZLIi4Z6avOYZhPfyw89TdS8yEy2E2FlZ6Zwvblx+y0=;
 b=gmIylS1OrcRqGnc7o1qwsfTYcl1SbcLMw302KwJfOKzMhhGLltig085qvMx9vjHaRCQd/8prAXd83fzthNcuotqy+URfdweiq3mBP7s557nCz1B3Gg/jfTe1mfhw9h3J4XH7w7WqNQwZtw0ky9LaLzDZcIg2Xqty4Hy62oRCeVNFWyCvsqlhffyouU7i8yBb6IQ9b+DuYwRuneoT2KUj9JX7SFfD5EvyzQp8v7Ywd5zn4dmoJU3JlqCW8LzgKlMt8GYwAKR7kqKuiunsc+KqewoiwK+gWTyv25QxWTJgVta/jeX0XPsrDSCV+d86hS2gyauINBnyGJCs7HK82RjQ8A==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=iZLIi4Z6avOYZhPfyw89TdS8yEy2E2FlZ6Zwvblx+y0=;
 b=ipkYmxD5iIQEq4tNbrU+2WMM15WL5HNg1p/ABFI805CsARSSRyxdll+fqKUdDiQ40U/Bi68A/VkmPRg+/TwhsonAT3yY3uYrWcUEnUtmcfs1THUmp5fIMIK6MgECMqUsXe66tIw2rhOXYkqXiv01Zz8lhAy41ciR4lgIFNWn2zs=
Authentication-Results: lists.freedesktop.org; dkim=none (message not signed)
 header.d=none; lists.freedesktop.org;
 dmarc=none action=none header.from=amd.com;
Received: from MN2PR12MB3775.namprd12.prod.outlook.com (2603:10b6:208:159::19)
 by MN2PR12MB4639.namprd12.prod.outlook.com (2603:10b6:208:a4::31)
 with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.3477.20; Tue, 20 Oct
 2020 12:15:08 +0000
Received: from MN2PR12MB3775.namprd12.prod.outlook.com
 ([fe80::f8f7:7403:1c92:3a60]) by MN2PR12MB3775.namprd12.prod.outlook.com
 ([fe80::f8f7:7403:1c92:3a60%6]) with mapi id 15.20.3477.028; Tue, 20 Oct 2020
 12:15:08 +0000
Subject: Re: [PATCH 6/7] drm/ttm: drop move notify around move.
To: Dave Airlie <airlied@gmail.com>, dri-devel@lists.freedesktop.org
References: <20201020010319.1692445-1-airlied@gmail.com>
 <20201020010319.1692445-7-airlied@gmail.com>
From: =?UTF-8?Q?Christian_K=c3=b6nig?= <christian.koenig@amd.com>
Message-ID: <9796e360-4c33-3f20-9061-41bc777b9001@amd.com>
Date: Tue, 20 Oct 2020 14:15:00 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101
 Thunderbird/68.10.0
In-Reply-To: <20201020010319.1692445-7-airlied@gmail.com>
Content-Language: en-US
X-Originating-IP: [2a02:908:1252:fb60:be8a:bd56:1f94:86e7]
X-ClientProxiedBy: AM0PR01CA0178.eurprd01.prod.exchangelabs.com
 (2603:10a6:208:aa::47) To MN2PR12MB3775.namprd12.prod.outlook.com
 (2603:10b6:208:159::19)
MIME-Version: 1.0
X-MS-Exchange-MessageSentRepresentingType: 1
Received: from [IPv6:2a02:908:1252:fb60:be8a:bd56:1f94:86e7]
 (2a02:908:1252:fb60:be8a:bd56:1f94:86e7) by
 AM0PR01CA0178.eurprd01.prod.exchangelabs.com (2603:10a6:208:aa::47) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.3477.21 via Frontend
 Transport; Tue, 20 Oct 2020 12:15:07 +0000
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-HT: Tenant
X-MS-Office365-Filtering-Correlation-Id: 37ea8866-88f2-456d-483a-08d874f1c8f9
X-MS-TrafficTypeDiagnostic: MN2PR12MB4639:
X-Microsoft-Antispam-PRVS: <MN2PR12MB4639B11A7433CDA45F884B37831F0@MN2PR12MB4639.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:7219;
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: 1RkKjYcfaV/Tlnwo4mTCpz38C/IIi6F1b83A1VJ8kdFmJf5keYCrT+SAnWCtwr41n+gT/60CeS3DS71SJ945jBrAOuFsiFJ7yqnvAJIo9at4BoCyH17HefabzhrUaXPS1zL0kEXqLjaD2iSMQKRTCDeoK0rJ3JhYG/OjWxlJ2hjGic5R1TJqD0yq0wxzyLsV1Ga9CVbAqCtdzDZihFDItLlXtkPN/oxslej1SElmk7L+oKG6niEabIwhwHuMhIwV1P8CgvGWA2J5nkHRT1j+p4M/UcRnkDZ7IDyKTHyWMgOpshlvqLU7YD5h0JkRCa989jdesquu+Qz0V4IA1qlr0wEi4Emb2z9xgNHTEOB0cDmfAxGvPyL3PxgvMN4j++k0
X-Forefront-Antispam-Report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:MN2PR12MB3775.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(4636009)(136003)(396003)(376002)(39860400002)(366004)(346002)(36756003)(186003)(66574015)(6666004)(2906002)(6486002)(83380400001)(8676002)(66556008)(16526019)(66946007)(478600001)(31686004)(316002)(66476007)(52116002)(2616005)(5660300002)(31696002)(86362001)(8936002)(43740500002);
 DIR:OUT; SFP:1101; 
X-MS-Exchange-AntiSpam-MessageData: S/CLTlZZIWZEYSRN5XfSaCuhDw7pMavlgVbeujWHvWYWfQmQbCQCBLQQ3R9Zr3EQBlHkmre2i01A83MhJVV+ZB+8xR5oboWSYTjs2R1ZmLjrqd3Xx4I/+1rT04/Dvp3D1VaXAacpqNej6tPtMABwrHWAsnaBablRY80xDM6iraV/WlIGXUBK9hvWf2H2VdzqHdjOQ/DT9+rDs6APcUSmewi0776EKGGQ33WaFc4+uYs+uZvzv2bkNaK9pkWYAKizUYMQKPMyyCjJ9z/UgolMHhfz5OFOgaJk3kzb3dZk2etAojbJwZUI2zZNZPtzvToug+/WTsGMsY4V9VH5WFqSnor1pts1J0POMRVe7h+AKyukqN3G/uHWM8yKxU9W5LYAuUGSbCZgWA3iNrYVKmz4yMIdXo19eeLe3gNQTIf0KfLr2A4S31HUcBIRK7cXxxHNqW7kF5+iZgLIzGIzIt/kLiWSxQLD9GkShAJNeBHdEID6WplvkcFAH+FazyWc7QJhzCyqaLYT+4Un7A7jHU2UskPzaTOYXkP77WRCIeQGHCZSvi79tSBXhXRmy7QUKOAxYT2s2TeTgMrqBar52FVFOLFgRPCP8IO+sJ31BDgH3u+y1aauhOL2hFrY6e6chCbmDyFvazL2OQHMx+zCwDHibSo6MLx8zxIz3LxJHdMhIAGRKXnmJxTLXQZUdMIUdNCWG0cninRje+4jnowQNhG1mA==
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 37ea8866-88f2-456d-483a-08d874f1c8f9
X-MS-Exchange-CrossTenant-AuthSource: MN2PR12MB3775.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 20 Oct 2020 12:15:08.4843 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: xsnXnc30wNY6xhpTmM3R04xqCBbCU/zsA4gTBRh+9t87t/tiWFRVCPF5Dw3iEJ8Q
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB4639
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QW0gMjAuMTAuMjAgdW0gMDM6MDMgc2NocmllYiBEYXZlIEFpcmxpZToKPiBGcm9tOiBEYXZlIEFp
cmxpZSA8YWlybGllZEByZWRoYXQuY29tPgo+Cj4gVGhlIGRyaXZlcnMgbm93IGRvIHRoaXMgaW4g
dGhlIG1vdmUgY2FsbGJhY2suCj4KPiBtb3ZlX25vdGlmeSBpcyBzdGlsbCBuZWVkZWQgaW4gdGhl
IGRlc3Ryb3kgcGF0aC4KPgo+IFNpZ25lZC1vZmYtYnk6IERhdmUgQWlybGllIDxhaXJsaWVkQHJl
ZGhhdC5jb20+CgpSZXZpZXdlZC1ieTogQ2hyaXN0aWFuIEvDtm5pZyA8Y2hyaXN0aWFuLmtvZW5p
Z0BhbWQuY29tPgoKPiAtLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90
dG0uYyAgICB8IDEzICsrKysrLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9kcm1fZ2VtX3ZyYW1faGVs
cGVyLmMgICAgICB8IDExICsrKysrLQo+ICAgZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbm91dmVh
dV9iby5jICAgICAgIHwgMTIgKysrKy0tCj4gICBkcml2ZXJzL2dwdS9kcm0vcXhsL3F4bF90dG0u
YyAgICAgICAgICAgICAgfCA0NSArKysrKysrKysrKysrLS0tLS0tLS0tCj4gICBkcml2ZXJzL2dw
dS9kcm0vcmFkZW9uL3JhZGVvbl90dG0uYyAgICAgICAgfCAxMSArKysrKy0KPiAgIGRyaXZlcnMv
Z3B1L2RybS90dG0vdHRtX2JvLmMgICAgICAgICAgICAgICB8IDEyICstLS0tLQo+ICAgZHJpdmVy
cy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfdHRtX2J1ZmZlci5jIHwgMTQgKysrKysrLQo+ICAgNyBm
aWxlcyBjaGFuZ2VkLCA3OCBpbnNlcnRpb25zKCspLCA0MCBkZWxldGlvbnMoLSkKPgo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdHRtLmMgYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdHRtLmMKPiBpbmRleCBhYzkzYTUzN2YyZTIuLjlh
YmEzNGI1N2U2MCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRn
cHVfdHRtLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdHRtLmMK
PiBAQCAtNjY2LDYgKzY2Niw4IEBAIHN0YXRpYyBpbnQgYW1kZ3B1X2JvX21vdmUoc3RydWN0IHR0
bV9idWZmZXJfb2JqZWN0ICpibywgYm9vbCBldmljdCwKPiAgIAlzdHJ1Y3QgdHRtX3Jlc291cmNl
ICpvbGRfbWVtID0gJmJvLT5tZW07Cj4gICAJaW50IHI7Cj4gICAKPiArCWFtZGdwdV9ib19tb3Zl
X25vdGlmeShibywgZXZpY3QsIG5ld19tZW0pOwo+ICsKPiAgIAkvKiBDYW4ndCBtb3ZlIGEgcGlu
bmVkIEJPICovCj4gICAJYWJvID0gdHRtX3RvX2FtZGdwdV9ibyhibyk7Cj4gICAJaWYgKFdBUk5f
T05fT05DRShhYm8tPnRiby5waW5fY291bnQgPiAwKSkKPiBAQCAtNjg3LDcgKzY4OSw3IEBAIHN0
YXRpYyBpbnQgYW1kZ3B1X2JvX21vdmUoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywgYm9v
bCBldmljdCwKPiAgIAkgICAgbmV3X21lbS0+bWVtX3R5cGUgPT0gVFRNX1BMX1NZU1RFTSkgewo+
ICAgCQlyID0gdHRtX2JvX3dhaXRfY3R4KGJvLCBjdHgpOwo+ICAgCQlpZiAocikKPiAtCQkJcmV0
dXJuIHI7Cj4gKwkJCWdvdG8gZmFpbDsKPiAgIAo+ICAgCQlhbWRncHVfdHRtX2JhY2tlbmRfdW5i
aW5kKGJvLT5iZGV2LCBiby0+dHRtKTsKPiAgIAkJdHRtX3Jlc291cmNlX2ZyZWUoYm8sICZiby0+
bWVtKTsKPiBAQCAtNzI4LDEyICs3MzAsMTIgQEAgc3RhdGljIGludCBhbWRncHVfYm9fbW92ZShz
dHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLCBib29sIGV2aWN0LAo+ICAgCQlpZiAoIWFtZGdw
dV9tZW1fdmlzaWJsZShhZGV2LCBvbGRfbWVtKSB8fAo+ICAgCQkgICAgIWFtZGdwdV9tZW1fdmlz
aWJsZShhZGV2LCBuZXdfbWVtKSkgewo+ICAgCQkJcHJfZXJyKCJNb3ZlIGJ1ZmZlciBmYWxsYmFj
ayB0byBtZW1jcHkgdW5hdmFpbGFibGVcbiIpOwo+IC0JCQlyZXR1cm4gcjsKPiArCQkJZ290byBm
YWlsOwo+ICAgCQl9Cj4gICAKPiAgIAkJciA9IHR0bV9ib19tb3ZlX21lbWNweShibywgY3R4LCBu
ZXdfbWVtKTsKPiAgIAkJaWYgKHIpCj4gLQkJCXJldHVybiByOwo+ICsJCQlnb3RvIGZhaWw7Cj4g
ICAJfQo+ICAgCj4gICAJaWYgKGJvLT50eXBlID09IHR0bV9ib190eXBlX2RldmljZSAmJgo+IEBA
IC03NDgsNiArNzUwLDExIEBAIHN0YXRpYyBpbnQgYW1kZ3B1X2JvX21vdmUoc3RydWN0IHR0bV9i
dWZmZXJfb2JqZWN0ICpibywgYm9vbCBldmljdCwKPiAgIAkvKiB1cGRhdGUgc3RhdGlzdGljcyAq
Lwo+ICAgCWF0b21pYzY0X2FkZCgodTY0KWJvLT5tZW0ubnVtX3BhZ2VzIDw8IFBBR0VfU0hJRlQs
ICZhZGV2LT5udW1fYnl0ZXNfbW92ZWQpOwo+ICAgCXJldHVybiAwOwo+ICtmYWlsOgo+ICsJc3dh
cCgqbmV3X21lbSwgYm8tPm1lbSk7Cj4gKwlhbWRncHVfYm9fbW92ZV9ub3RpZnkoYm8sIGZhbHNl
LCBuZXdfbWVtKTsKPiArCXN3YXAoKm5ld19tZW0sIGJvLT5tZW0pOwo+ICsJcmV0dXJuIHI7Cj4g
ICB9Cj4gICAKPiAgIC8qKgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vZHJtX2dlbV92
cmFtX2hlbHBlci5jIGIvZHJpdmVycy9ncHUvZHJtL2RybV9nZW1fdnJhbV9oZWxwZXIuYwo+IGlu
ZGV4IGU5OTc4MmJjMTNmMS4uYjRiNDE5NzMyNjc2IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9kcm1fZ2VtX3ZyYW1faGVscGVyLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2dl
bV92cmFtX2hlbHBlci5jCj4gQEAgLTU5MCw3ICs1OTAsMTYgQEAgc3RhdGljIGludCBkcm1fZ2Vt
X3ZyYW1fYm9fZHJpdmVyX21vdmUoc3RydWN0IGRybV9nZW1fdnJhbV9vYmplY3QgKmdibywKPiAg
IAkJCQkgICAgICAgc3RydWN0IHR0bV9vcGVyYXRpb25fY3R4ICpjdHgsCj4gICAJCQkJICAgICAg
IHN0cnVjdCB0dG1fcmVzb3VyY2UgKm5ld19tZW0pCj4gICB7Cj4gLQlyZXR1cm4gdHRtX2JvX21v
dmVfbWVtY3B5KCZnYm8tPmJvLCBjdHgsIG5ld19tZW0pOwo+ICsJaW50IHJldDsKPiArCj4gKwlk
cm1fZ2VtX3ZyYW1fYm9fZHJpdmVyX21vdmVfbm90aWZ5KGdibywgZXZpY3QsIG5ld19tZW0pOwo+
ICsJcmV0ID0gdHRtX2JvX21vdmVfbWVtY3B5KCZnYm8tPmJvLCBjdHgsIG5ld19tZW0pOwo+ICsJ
aWYgKHJldCkgewo+ICsJCXN3YXAoKm5ld19tZW0sIGdiby0+Ym8ubWVtKTsKPiArCQlkcm1fZ2Vt
X3ZyYW1fYm9fZHJpdmVyX21vdmVfbm90aWZ5KGdibywgZmFsc2UsIG5ld19tZW0pOwo+ICsJCXN3
YXAoKm5ld19tZW0sIGdiby0+Ym8ubWVtKTsKPiArCX0KPiArCXJldHVybiByZXQ7Cj4gICB9Cj4g
ICAKPiAgIC8qCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVf
Ym8uYyBiL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfYm8uYwo+IGluZGV4IDdmYjY1
Yjg3ZjgxNS4uYWQwNDkzYzUxMDNiIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9ub3V2
ZWF1L25vdXZlYXVfYm8uYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVf
Ym8uYwo+IEBAIC0xMDMyLDkgKzEwMzIsMTAgQEAgbm91dmVhdV9ib19tb3ZlKHN0cnVjdCB0dG1f
YnVmZmVyX29iamVjdCAqYm8sIGJvb2wgZXZpY3QsCj4gICAJc3RydWN0IG5vdXZlYXVfZHJtX3Rp
bGUgKm5ld190aWxlID0gTlVMTDsKPiAgIAlpbnQgcmV0ID0gMDsKPiAgIAo+ICsJbm91dmVhdV9i
b19tb3ZlX250ZnkoYm8sIGV2aWN0LCBuZXdfcmVnKTsKPiAgIAlyZXQgPSB0dG1fYm9fd2FpdF9j
dHgoYm8sIGN0eCk7Cj4gICAJaWYgKHJldCkKPiAtCQlyZXR1cm4gcmV0Owo+ICsJCWdvdG8gb3V0
X250Znk7Cj4gICAKPiAgIAlpZiAobnZiby0+Ym8ucGluX2NvdW50KQo+ICAgCQlOVl9XQVJOKGRy
bSwgIk1vdmluZyBwaW5uZWQgb2JqZWN0ICVwIVxuIiwgbnZibyk7Cj4gQEAgLTEwNDIsNyArMTA0
Myw3IEBAIG5vdXZlYXVfYm9fbW92ZShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLCBib29s
IGV2aWN0LAo+ICAgCWlmIChkcm0tPmNsaWVudC5kZXZpY2UuaW5mby5mYW1pbHkgPCBOVl9ERVZJ
Q0VfSU5GT19WMF9URVNMQSkgewo+ICAgCQlyZXQgPSBub3V2ZWF1X2JvX3ZtX2JpbmQoYm8sIG5l
d19yZWcsICZuZXdfdGlsZSk7Cj4gICAJCWlmIChyZXQpCj4gLQkJCXJldHVybiByZXQ7Cj4gKwkJ
CWdvdG8gb3V0X250Znk7Cj4gICAJfQo+ICAgCj4gICAJLyogRmFrZSBibyBjb3B5LiAqLwo+IEBA
IC0xMDkwLDcgKzEwOTEsMTIgQEAgbm91dmVhdV9ib19tb3ZlKHN0cnVjdCB0dG1fYnVmZmVyX29i
amVjdCAqYm8sIGJvb2wgZXZpY3QsCj4gICAJCWVsc2UKPiAgIAkJCW5vdXZlYXVfYm9fdm1fY2xl
YW51cChibywgbmV3X3RpbGUsICZudmJvLT50aWxlKTsKPiAgIAl9Cj4gLQo+ICtvdXRfbnRmeToK
PiArCWlmIChyZXQpIHsKPiArCQlzd2FwKCpuZXdfcmVnLCBiby0+bWVtKTsKPiArCQlub3V2ZWF1
X2JvX21vdmVfbnRmeShibywgZmFsc2UsIG5ld19yZWcpOwo+ICsJCXN3YXAoKm5ld19yZWcsIGJv
LT5tZW0pOwo+ICsJfQo+ICAgCXJldHVybiByZXQ7Cj4gICB9Cj4gICAKPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL3F4bC9xeGxfdHRtLmMgYi9kcml2ZXJzL2dwdS9kcm0vcXhsL3F4bF90
dG0uYwo+IGluZGV4IDk1YzRmMmM3YWI3OS4uYTYxNDllM2NjM2QyIDEwMDY0NAo+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9xeGwvcXhsX3R0bS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3F4bC9x
eGxfdHRtLmMKPiBAQCAtMTM2LDI0ICsxMzYsNiBAQCBzdGF0aWMgc3RydWN0IHR0bV90dCAqcXhs
X3R0bV90dF9jcmVhdGUoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAgIAlyZXR1cm4g
dHRtOwo+ICAgfQo+ICAgCj4gLXN0YXRpYyBpbnQgcXhsX2JvX21vdmUoc3RydWN0IHR0bV9idWZm
ZXJfb2JqZWN0ICpibywgYm9vbCBldmljdCwKPiAtCQkgICAgICAgc3RydWN0IHR0bV9vcGVyYXRp
b25fY3R4ICpjdHgsCj4gLQkJICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2UgKm5ld19tZW0pCj4g
LXsKPiAtCXN0cnVjdCB0dG1fcmVzb3VyY2UgKm9sZF9tZW0gPSAmYm8tPm1lbTsKPiAtCWludCBy
ZXQ7Cj4gLQo+IC0JcmV0ID0gdHRtX2JvX3dhaXRfY3R4KGJvLCBjdHgpOwo+IC0JaWYgKHJldCkK
PiAtCQlyZXR1cm4gcmV0Owo+IC0KPiAtCWlmIChvbGRfbWVtLT5tZW1fdHlwZSA9PSBUVE1fUExf
U1lTVEVNICYmIGJvLT50dG0gPT0gTlVMTCkgewo+IC0JCXR0bV9ib19tb3ZlX251bGwoYm8sIG5l
d19tZW0pOwo+IC0JCXJldHVybiAwOwo+IC0JfQo+IC0JcmV0dXJuIHR0bV9ib19tb3ZlX21lbWNw
eShibywgY3R4LCBuZXdfbWVtKTsKPiAtfQo+IC0KPiAgIHN0YXRpYyB2b2lkIHF4bF9ib19tb3Zl
X25vdGlmeShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+ICAgCQkJICAgICAgIGJvb2wg
ZXZpY3QsCj4gICAJCQkgICAgICAgc3RydWN0IHR0bV9yZXNvdXJjZSAqbmV3X21lbSkKPiBAQCAt
MTcwLDYgKzE1MiwzMyBAQCBzdGF0aWMgdm9pZCBxeGxfYm9fbW92ZV9ub3RpZnkoc3RydWN0IHR0
bV9idWZmZXJfb2JqZWN0ICpibywKPiAgIAkJcXhsX3N1cmZhY2VfZXZpY3QocWRldiwgcWJvLCBu
ZXdfbWVtID8gdHJ1ZSA6IGZhbHNlKTsKPiAgIH0KPiAgIAo+ICtzdGF0aWMgaW50IHF4bF9ib19t
b3ZlKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sIGJvb2wgZXZpY3QsCj4gKwkJICAgICAg
IHN0cnVjdCB0dG1fb3BlcmF0aW9uX2N0eCAqY3R4LAo+ICsJCSAgICAgICBzdHJ1Y3QgdHRtX3Jl
c291cmNlICpuZXdfbWVtKQo+ICt7Cj4gKwlzdHJ1Y3QgdHRtX3Jlc291cmNlICpvbGRfbWVtID0g
JmJvLT5tZW07Cj4gKwlpbnQgcmV0Owo+ICsKPiArCXF4bF9ib19tb3ZlX25vdGlmeShibywgZXZp
Y3QsIG5ld19tZW0pOwo+ICsKPiArCXJldCA9IHR0bV9ib193YWl0X2N0eChibywgY3R4KTsKPiAr
CWlmIChyZXQpCj4gKwkJZ290byBvdXQ7Cj4gKwo+ICsJaWYgKG9sZF9tZW0tPm1lbV90eXBlID09
IFRUTV9QTF9TWVNURU0gJiYgYm8tPnR0bSA9PSBOVUxMKSB7Cj4gKwkJdHRtX2JvX21vdmVfbnVs
bChibywgbmV3X21lbSk7Cj4gKwkJcmV0dXJuIDA7Cj4gKwl9Cj4gKwlyZXQgPSB0dG1fYm9fbW92
ZV9tZW1jcHkoYm8sIGN0eCwgbmV3X21lbSk7Cj4gK291dDoKPiArCWlmIChyZXQpIHsKPiArCQlz
d2FwKCpuZXdfbWVtLCBiby0+bWVtKTsKPiArCQlxeGxfYm9fbW92ZV9ub3RpZnkoYm8sIGZhbHNl
LCBuZXdfbWVtKTsKPiArCQlzd2FwKCpuZXdfbWVtLCBiby0+bWVtKTsKPiArCX0KPiArCXJldHVy
biByZXQ7Cj4gK30KPiArCj4gICBzdGF0aWMgc3RydWN0IHR0bV9ib19kcml2ZXIgcXhsX2JvX2Ry
aXZlciA9IHsKPiAgIAkudHRtX3R0X2NyZWF0ZSA9ICZxeGxfdHRtX3R0X2NyZWF0ZSwKPiAgIAku
dHRtX3R0X2JpbmQgPSAmcXhsX3R0bV9iYWNrZW5kX2JpbmQsCj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9yYWRlb24vcmFkZW9uX3R0bS5jIGIvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9y
YWRlb25fdHRtLmMKPiBpbmRleCA3ZmU0YTk4ZWNlNTQuLmU0MjcxOTRiMGI1MCAxMDA2NDQKPiAt
LS0gYS9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl90dG0uYwo+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9yYWRlb24vcmFkZW9uX3R0bS5jCj4gQEAgLTMxMSw5ICszMTEsMTEgQEAgc3RhdGlj
IGludCByYWRlb25fYm9fbW92ZShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLCBib29sIGV2
aWN0LAo+ICAgCXN0cnVjdCB0dG1fcmVzb3VyY2UgKm9sZF9tZW0gPSAmYm8tPm1lbTsKPiAgIAlp
bnQgcjsKPiAgIAo+ICsJcmFkZW9uX2JvX21vdmVfbm90aWZ5KGJvLCBldmljdCwgbmV3X21lbSk7
Cj4gKwo+ICAgCXIgPSB0dG1fYm9fd2FpdF9jdHgoYm8sIGN0eCk7Cj4gICAJaWYgKHIpCj4gLQkJ
cmV0dXJuIHI7Cj4gKwkJZ290byBmYWlsOwo+ICAgCj4gICAJLyogQ2FuJ3QgbW92ZSBhIHBpbm5l
ZCBCTyAqLwo+ICAgCXJibyA9IGNvbnRhaW5lcl9vZihibywgc3RydWN0IHJhZGVvbl9ibywgdGJv
KTsKPiBAQCAtMzU5LDEzICszNjEsMTggQEAgc3RhdGljIGludCByYWRlb25fYm9fbW92ZShzdHJ1
Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLCBib29sIGV2aWN0LAo+ICAgbWVtY3B5Ogo+ICAgCQly
ID0gdHRtX2JvX21vdmVfbWVtY3B5KGJvLCBjdHgsIG5ld19tZW0pOwo+ICAgCQlpZiAocikgewo+
IC0JCQlyZXR1cm4gcjsKPiArCQkJZ290byBmYWlsOwo+ICAgCQl9Cj4gICAJfQo+ICAgCj4gICAJ
LyogdXBkYXRlIHN0YXRpc3RpY3MgKi8KPiAgIAlhdG9taWM2NF9hZGQoKHU2NCliby0+bWVtLm51
bV9wYWdlcyA8PCBQQUdFX1NISUZULCAmcmRldi0+bnVtX2J5dGVzX21vdmVkKTsKPiAgIAlyZXR1
cm4gMDsKPiArZmFpbDoKPiArCXN3YXAoKm5ld19tZW0sIGJvLT5tZW0pOwo+ICsJcmFkZW9uX2Jv
X21vdmVfbm90aWZ5KGJvLCBmYWxzZSwgbmV3X21lbSk7Cj4gKwlzd2FwKCpuZXdfbWVtLCBiby0+
bWVtKTsKPiArCXJldHVybiByOwo+ICAgfQo+ICAgCj4gICBzdGF0aWMgaW50IHJhZGVvbl90dG1f
aW9fbWVtX3Jlc2VydmUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fcmVz
b3VyY2UgKm1lbSkKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm8uYyBi
L2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2JvLmMKPiBpbmRleCA3MDVlYTNlZjkxZjkuLmU4YWMz
YmM0NWQ5NSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9iby5jCj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm8uYwo+IEBAIC0yNjMsMTkgKzI2Myw5IEBAIHN0
YXRpYyBpbnQgdHRtX2JvX2hhbmRsZV9tb3ZlX21lbShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3Qg
KmJvLAo+ICAgCQl9Cj4gICAJfQo+ICAgCj4gLQlpZiAoYmRldi0+ZHJpdmVyLT5tb3ZlX25vdGlm
eSkKPiAtCQliZGV2LT5kcml2ZXItPm1vdmVfbm90aWZ5KGJvLCBldmljdCwgbWVtKTsKPiAtCj4g
ICAJcmV0ID0gYmRldi0+ZHJpdmVyLT5tb3ZlKGJvLCBldmljdCwgY3R4LCBtZW0pOwo+IC0JaWYg
KHJldCkgewo+IC0JCWlmIChiZGV2LT5kcml2ZXItPm1vdmVfbm90aWZ5KSB7Cj4gLQkJCXN3YXAo
Km1lbSwgYm8tPm1lbSk7Cj4gLQkJCWJkZXYtPmRyaXZlci0+bW92ZV9ub3RpZnkoYm8sIGZhbHNl
LCBtZW0pOwo+IC0JCQlzd2FwKCptZW0sIGJvLT5tZW0pOwo+IC0JCX0KPiAtCj4gKwlpZiAocmV0
KQo+ICAgCQlnb3RvIG91dF9lcnI7Cj4gLQl9Cj4gICAKPiAgIAljdHgtPmJ5dGVzX21vdmVkICs9
IGJvLT5tZW0ubnVtX3BhZ2VzIDw8IFBBR0VfU0hJRlQ7Cj4gICAJcmV0dXJuIDA7Cj4gZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X3R0bV9idWZmZXIuYyBiL2RyaXZl
cnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X3R0bV9idWZmZXIuYwo+IGluZGV4IDZlMDdlYTk4Mjk2
MS4uZmQ4MmM5YmEyZDc3IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13
Z2Z4X3R0bV9idWZmZXIuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X3R0
bV9idWZmZXIuYwo+IEBAIC03MzcsNiArNzM3LDggQEAgc3RhdGljIGludCB2bXdfbW92ZShzdHJ1
Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+ICAgCXN0cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdl
ciAqbmV3X21hbiA9IHR0bV9tYW5hZ2VyX3R5cGUoYm8tPmJkZXYsIG5ld19tZW0tPm1lbV90eXBl
KTsKPiAgIAlpbnQgcmV0Owo+ICAgCj4gKwl2bXdfbW92ZV9ub3RpZnkoYm8sIGV2aWN0LCBuZXdf
bWVtKTsKPiArCj4gICAJaWYgKG9sZF9tYW4tPnVzZV90dCAmJiBuZXdfbWFuLT51c2VfdHQpIHsK
PiAgIAkJaWYgKGJvLT5tZW0ubWVtX3R5cGUgPT0gVFRNX1BMX1NZU1RFTSkgewo+ICAgCQkJdHRt
X2JvX2Fzc2lnbl9tZW0oYm8sIG5ld19tZW0pOwo+IEBAIC03NDQsMTUgKzc0NiwyMyBAQCBzdGF0
aWMgaW50IHZtd19tb3ZlKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCj4gICAJCX0KPiAg
IAkJcmV0ID0gdHRtX2JvX3dhaXRfY3R4KGJvLCBjdHgpOwo+ICAgCQlpZiAocmV0KQo+IC0JCQly
ZXR1cm4gcmV0Owo+ICsJCQlnb3RvIGZhaWw7Cj4gICAKPiAgIAkJdm13X3R0bV91bmJpbmQoYm8t
PmJkZXYsIGJvLT50dG0pOwo+ICAgCQl0dG1fcmVzb3VyY2VfZnJlZShibywgJmJvLT5tZW0pOwo+
ICAgCQl0dG1fYm9fYXNzaWduX21lbShibywgbmV3X21lbSk7Cj4gICAJCXJldHVybiAwOwo+ICAg
CX0gZWxzZSB7Cj4gLQkJcmV0dXJuIHR0bV9ib19tb3ZlX21lbWNweShibywgY3R4LCBuZXdfbWVt
KTsKPiArCQlyZXQgPSB0dG1fYm9fbW92ZV9tZW1jcHkoYm8sIGN0eCwgbmV3X21lbSk7Cj4gKwkJ
aWYgKHJldCkKPiArCQkJZ290byBmYWlsOwo+ICAgCX0KPiArCXJldHVybiAwOwo+ICtmYWlsOgo+
ICsJc3dhcCgqbmV3X21lbSwgYm8tPm1lbSk7Cj4gKwl2bXdfbW92ZV9ub3RpZnkoYm8sIGZhbHNl
LCBuZXdfbWVtKTsKPiArCXN3YXAoKm5ld19tZW0sIGJvLT5tZW0pOwo+ICsJcmV0dXJuIHJldDsK
PiAgIH0KPiAgIAo+ICAgc3RydWN0IHR0bV9ib19kcml2ZXIgdm13X2JvX2RyaXZlciA9IHsKCl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBt
YWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3Rz
LmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbAo=
