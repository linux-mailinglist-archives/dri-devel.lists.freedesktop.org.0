Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 072FF9D050
	for <lists+dri-devel@lfdr.de>; Mon, 26 Aug 2019 15:22:46 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8DA4D6E228;
	Mon, 26 Aug 2019 13:22:33 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga07.intel.com (mga07.intel.com [134.134.136.100])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B0C9B6E220;
 Mon, 26 Aug 2019 13:22:30 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga002.fm.intel.com ([10.253.24.26])
 by orsmga105.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 26 Aug 2019 06:22:30 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,433,1559545200"; d="scan'208";a="209363536"
Received: from ovasilev-desk1.fi.intel.com ([10.237.72.57])
 by fmsmga002.fm.intel.com with ESMTP; 26 Aug 2019 06:22:29 -0700
From: Oleg Vasilev <oleg.vasilev@intel.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH v3 7/7] drm/amdgpu: utilize subconnector property for DP
 through DisplayManager
Date: Mon, 26 Aug 2019 16:22:16 +0300
Message-Id: <20190826132216.2823-8-oleg.vasilev@intel.com>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20190826132216.2823-1-oleg.vasilev@intel.com>
References: <20190826132216.2823-1-oleg.vasilev@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Alex Deucher <alexander.deucher@amd.com>,
 =?UTF-8?q?Christian=20K=C3=B6nig?= <christian.koenig@amd.com>,
 amd-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

U2luY2UgRFAtc3BlY2lmaWMgaW5mb3JtYXRpb24gaXMgc3RvcmVkIGluIGRyaXZlcidzIHN0cnVj
dHVyZXMsIGV2ZXJ5CmRyaXZlciBuZWVkcyB0byBpbXBsZW1lbnQgc3ViY29ubmVjdG9yIHByb3Bl
cnR5IGJ5IGl0c2VsZi4gRGlzcGxheQpDb3JlIGFscmVhZHkgaGFzIHRoZSBzdWJjb25uZWN0b3Ig
aW5mb3JtYXRpb24sIHdlIG9ubHkgbmVlZCB0bwpleHBvc2UgaXQgdGhyb3VnaCBEUk0gcHJvcGVy
dHkuCgpTaWduZWQtb2ZmLWJ5OiBPbGVnIFZhc2lsZXYgPG9sZWcudmFzaWxldkBpbnRlbC5jb20+
ClRlc3RlZC1ieTogT2xlZyBWYXNpbGV2IDxvbGVnLnZhc2lsZXZAaW50ZWwuY29tPgpDYzogQWxl
eCBEZXVjaGVyIDxhbGV4YW5kZXIuZGV1Y2hlckBhbWQuY29tPgpDYzogQ2hyaXN0aWFuIEvDtm5p
ZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPgpDYzogRGF2aWQgKENodW5NaW5nKSBaaG91IDxE
YXZpZDEuWmhvdUBhbWQuY29tPgpDYzogYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKLS0t
CiAuLi4vZ3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVfZG0vYW1kZ3B1X2RtLmMgfCA0MSArKysr
KysrKysrKysrKysrKystCiAuLi4vZGlzcGxheS9hbWRncHVfZG0vYW1kZ3B1X2RtX21zdF90eXBl
cy5jICAgfCAgMyArKwogMiBmaWxlcyBjaGFuZ2VkLCA0MyBpbnNlcnRpb25zKCspLCAxIGRlbGV0
aW9uKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2FtZGdwdV9k
bS9hbWRncHVfZG0uYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVfZG0vYW1k
Z3B1X2RtLmMKaW5kZXggMDI4YTcxMGMxYjQ2Li5jZTNlMjQzZTYzNDMgMTAwNjQ0Ci0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVfZG0vYW1kZ3B1X2RtLmMKKysrIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2FtZGdwdV9kbS9hbWRncHVfZG0uYwpAQCAtMTQzLDYg
KzE0Myw0MiBAQCBzdGF0aWMgaW50IGFtZGdwdV9kbV9hdG9taWNfY2hlY2soc3RydWN0IGRybV9k
ZXZpY2UgKmRldiwKIHN0YXRpYyB2b2lkIGhhbmRsZV9jdXJzb3JfdXBkYXRlKHN0cnVjdCBkcm1f
cGxhbmUgKnBsYW5lLAogCQkJCSBzdHJ1Y3QgZHJtX3BsYW5lX3N0YXRlICpvbGRfcGxhbmVfc3Rh
dGUpOwogCitzdGF0aWMgZW51bSBkcm1fbW9kZV9zdWJjb25uZWN0b3IgZ2V0X3N1YmNvbm5lY3Rv
cl90eXBlKHN0cnVjdCBkY19saW5rICpsaW5rKQoreworCXN3aXRjaCAobGluay0+ZHBjZF9jYXBz
LmRvbmdsZV90eXBlKSB7CisJY2FzZSBESVNQTEFZX0RPTkdMRV9OT05FOgorCQlyZXR1cm4gRFJN
X01PREVfU1VCQ09OTkVDVE9SX05hdGl2ZTsKKwljYXNlIERJU1BMQVlfRE9OR0xFX0RQX1ZHQV9D
T05WRVJURVI6CisJCXJldHVybiBEUk1fTU9ERV9TVUJDT05ORUNUT1JfVkdBOworCWNhc2UgRElT
UExBWV9ET05HTEVfRFBfRFZJX0NPTlZFUlRFUjoKKwljYXNlIERJU1BMQVlfRE9OR0xFX0RQX0RW
SV9ET05HTEU6CisJCXJldHVybiBEUk1fTU9ERV9TVUJDT05ORUNUT1JfRFZJOworCWNhc2UgRElT
UExBWV9ET05HTEVfRFBfSERNSV9DT05WRVJURVI6CisJY2FzZSBESVNQTEFZX0RPTkdMRV9EUF9I
RE1JX0RPTkdMRToKKwkJcmV0dXJuIERSTV9NT0RFX1NVQkNPTk5FQ1RPUl9IRE1JOworCWNhc2Ug
RElTUExBWV9ET05HTEVfRFBfSERNSV9NSVNNQVRDSEVEX0RPTkdMRToKKwlkZWZhdWx0OgorCQly
ZXR1cm4gRFJNX01PREVfU1VCQ09OTkVDVE9SX1Vua25vd247CisJfQorfQorCitzdGF0aWMgdm9p
ZCB1cGRhdGVfc3ViY29ubmVjdG9yX3Byb3BlcnR5KHN0cnVjdCBhbWRncHVfZG1fY29ubmVjdG9y
ICphY29ubmVjdG9yKQoreworCXN0cnVjdCBkY19saW5rICpsaW5rID0gYWNvbm5lY3Rvci0+ZGNf
bGluazsKKwlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yID0gJmFjb25uZWN0b3ItPmJh
c2U7CisJZW51bSBkcm1fbW9kZV9zdWJjb25uZWN0b3Igc3ViY29ubmVjdG9yID0gRFJNX01PREVf
U1VCQ09OTkVDVE9SX1Vua25vd247CisKKwlpZiAoY29ubmVjdG9yLT5jb25uZWN0b3JfdHlwZSAh
PSBEUk1fTU9ERV9DT05ORUNUT1JfRGlzcGxheVBvcnQpCisJCXJldHVybjsKKworCWlmIChhY29u
bmVjdG9yLT5kY19zaW5rKQorCQlzdWJjb25uZWN0b3IgPSBnZXRfc3ViY29ubmVjdG9yX3R5cGUo
bGluayk7CisKKwlkcm1fb2JqZWN0X3Byb3BlcnR5X3NldF92YWx1ZSgmY29ubmVjdG9yLT5iYXNl
LAorCQkJY29ubmVjdG9yLT5kZXYtPm1vZGVfY29uZmlnLmRwX3N1YmNvbm5lY3Rvcl9wcm9wZXJ0
eSwKKwkJCXN1YmNvbm5lY3Rvcik7Cit9CisKIC8qCiAgKiBkbV92YmxhbmtfZ2V0X2NvdW50ZXIK
ICAqCkBAIC0xMzIyLDcgKzEzNTgsNiBAQCBhbWRncHVfZG1fdXBkYXRlX2Nvbm5lY3Rvcl9hZnRl
cl9kZXRlY3Qoc3RydWN0IGFtZGdwdV9kbV9jb25uZWN0b3IgKmFjb25uZWN0b3IpCiAJaWYgKGFj
b25uZWN0b3ItPm1zdF9tZ3IubXN0X3N0YXRlID09IHRydWUpCiAJCXJldHVybjsKIAotCiAJc2lu
ayA9IGFjb25uZWN0b3ItPmRjX2xpbmstPmxvY2FsX3Npbms7CiAJaWYgKHNpbmspCiAJCWRjX3Np
bmtfcmV0YWluKHNpbmspOwpAQCAtMTQzOCw2ICsxNDczLDggQEAgYW1kZ3B1X2RtX3VwZGF0ZV9j
b25uZWN0b3JfYWZ0ZXJfZGV0ZWN0KHN0cnVjdCBhbWRncHVfZG1fY29ubmVjdG9yICphY29ubmVj
dG9yKQogCiAJbXV0ZXhfdW5sb2NrKCZkZXYtPm1vZGVfY29uZmlnLm11dGV4KTsKIAorCXVwZGF0
ZV9zdWJjb25uZWN0b3JfcHJvcGVydHkoYWNvbm5lY3Rvcik7CisKIAlpZiAoc2luaykKIAkJZGNf
c2lua19yZWxlYXNlKHNpbmspOwogfQpAQCAtMzc3NCw2ICszODExLDggQEAgYW1kZ3B1X2RtX2Nv
bm5lY3Rvcl9kZXRlY3Qoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciwgYm9vbCBmb3Jj
ZSkKIAllbHNlCiAJCWNvbm5lY3RlZCA9IChhY29ubmVjdG9yLT5iYXNlLmZvcmNlID09IERSTV9G
T1JDRV9PTik7CiAKKwl1cGRhdGVfc3ViY29ubmVjdG9yX3Byb3BlcnR5KGFjb25uZWN0b3IpOwor
CiAJcmV0dXJuIChjb25uZWN0ZWQgPyBjb25uZWN0b3Jfc3RhdHVzX2Nvbm5lY3RlZCA6CiAJCQlj
b25uZWN0b3Jfc3RhdHVzX2Rpc2Nvbm5lY3RlZCk7CiB9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2FtZGdwdV9kbV9tc3RfdHlwZXMuYyBiL2RyaXZl
cnMvZ3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVfZG0vYW1kZ3B1X2RtX21zdF90eXBlcy5jCmlu
ZGV4IDE2MjE4YTIwMmI1OS4uZjQwODg5MTRlMzRmIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2FtZGdwdV9kbV9tc3RfdHlwZXMuYworKysgYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2FtZGdwdV9kbV9tc3RfdHlwZXMuYwpA
QCAtMjUsNiArMjUsNyBAQAogCiAjaW5jbHVkZSA8bGludXgvdmVyc2lvbi5oPgogI2luY2x1ZGUg
PGRybS9kcm1fYXRvbWljX2hlbHBlci5oPgorI2luY2x1ZGUgPGRybS9kcm1fZHBfaGVscGVyLmg+
CiAjaW5jbHVkZSAiZG1fc2VydmljZXMuaCIKICNpbmNsdWRlICJhbWRncHUuaCIKICNpbmNsdWRl
ICJhbWRncHVfZG0uaCIKQEAgLTQyNSw1ICs0MjYsNyBAQCB2b2lkIGFtZGdwdV9kbV9pbml0aWFs
aXplX2RwX2Nvbm5lY3RvcihzdHJ1Y3QgYW1kZ3B1X2Rpc3BsYXlfbWFuYWdlciAqZG0sCiAJCTE2
LAogCQk0LAogCQlhY29ubmVjdG9yLT5jb25uZWN0b3JfaWQpOworCisJZHJtX21vZGVfYWRkX2Rw
X3N1YmNvbm5lY3Rvcl9wcm9wZXJ0eSgmYWNvbm5lY3Rvci0+YmFzZSk7CiB9CiAKLS0gCjIuMjMu
MAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRl
dmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8v
bGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
