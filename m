Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 5FCABE25F8
	for <lists+dri-devel@lfdr.de>; Wed, 23 Oct 2019 23:58:06 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7767F6E04B;
	Wed, 23 Oct 2019 21:58:02 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from us-smtp-1.mimecast.com (us-smtp-delivery-1.mimecast.com
 [205.139.110.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7585E6E067
 for <dri-devel@lists.freedesktop.org>; Wed, 23 Oct 2019 21:58:01 +0000 (UTC)
Received: from mimecast-mx01.redhat.com (mimecast-mx01.redhat.com
 [209.132.183.4]) (Using TLS) by relay.mimecast.com with ESMTP id
 us-mta-72-iczMFMq-MHWX_XShiD9ruw-1; Wed, 23 Oct 2019 17:57:56 -0400
Received: from smtp.corp.redhat.com (int-mx05.intmail.prod.int.phx2.redhat.com
 [10.5.11.15])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mimecast-mx01.redhat.com (Postfix) with ESMTPS id 67A4880183D;
 Wed, 23 Oct 2019 21:57:52 +0000 (UTC)
Received: from x1.home (ovpn-118-102.phx2.redhat.com [10.3.118.102])
 by smtp.corp.redhat.com (Postfix) with ESMTP id 2E33E5D6D0;
 Wed, 23 Oct 2019 21:57:43 +0000 (UTC)
Date: Wed, 23 Oct 2019 15:57:28 -0600
From: Alex Williamson <alex.williamson@redhat.com>
To: Jason Wang <jasowang@redhat.com>
Subject: Re: [PATCH V5 4/6] mdev: introduce virtio device and its device ops
Message-ID: <20191023155728.2a55bc71@x1.home>
In-Reply-To: <20191023130752.18980-5-jasowang@redhat.com>
References: <20191023130752.18980-1-jasowang@redhat.com>
 <20191023130752.18980-5-jasowang@redhat.com>
Organization: Red Hat
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.15
X-MC-Unique: iczMFMq-MHWX_XShiD9ruw-1
X-Mimecast-Spam-Score: 0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=redhat.com; 
 s=mimecast20190719; t=1571867880;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=eyH+HYRNmQqgIVvNR9cb6DK0ckOPAfgOAlp+FhC37To=;
 b=axSWvF+z4A3aJs661qOhUZAqVEgDWZBcK7jjUkzqevcYD3v911Ygl6AAAOK/ss/lj3DnYC
 Alo+QXu0rWZegLuC4nkCZclEZPYbYjfIsrUWlIL/o7oJ+Al31y+PHTqOpiLUq5LJMSs1mN
 Jh7f0+muK+9NMosbBKb4tKEe5whFIRA=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: stefanha@redhat.com, christophe.de.dinechin@gmail.com, kvm@vger.kernel.org,
 mst@redhat.com, airlied@linux.ie, heiko.carstens@de.ibm.com,
 kevin.tian@intel.com, dri-devel@lists.freedesktop.org,
 virtualization@lists.linux-foundation.org, kwankhede@nvidia.com,
 rob.miller@broadcom.com, linux-s390@vger.kernel.org, sebott@linux.ibm.com,
 lulu@redhat.com, eperezma@redhat.com, pasic@linux.ibm.com,
 borntraeger@de.ibm.com, haotian.wang@sifive.com, cunming.liang@intel.com,
 zhi.a.wang@intel.com, farman@linux.ibm.com, idos@mellanox.com,
 gor@linux.ibm.com, intel-gfx@lists.freedesktop.org, rodrigo.vivi@intel.com,
 xiao.w.wang@intel.com, freude@linux.ibm.com, parav@mellanox.com,
 zhihong.wang@intel.com, intel-gvt-dev@lists.freedesktop.org,
 akrowiak@linux.ibm.com, oberpar@linux.ibm.com, tiwei.bie@intel.com,
 netdev@vger.kernel.org, cohuck@redhat.com, linux-kernel@vger.kernel.org,
 maxime.coquelin@redhat.com, lingshan.zhu@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gV2VkLCAyMyBPY3QgMjAxOSAyMTowNzo1MCArMDgwMApKYXNvbiBXYW5nIDxqYXNvd2FuZ0By
ZWRoYXQuY29tPiB3cm90ZToKCj4gVGhpcyBwYXRjaCBpbXBsZW1lbnRzIGJhc2ljIHN1cHBvcnQg
Zm9yIG1kZXYgZHJpdmVyIHRoYXQgc3VwcG9ydHMKPiB2aXJ0aW8gdHJhbnNwb3J0IGZvciBrZXJu
ZWwgdmlydGlvIGRyaXZlci4KPiAKPiBTaWduZWQtb2ZmLWJ5OiBKYXNvbiBXYW5nIDxqYXNvd2Fu
Z0ByZWRoYXQuY29tPgo+IC0tLQo+ICBkcml2ZXJzL3ZmaW8vbWRldi9tZGV2X2NvcmUuYyAgICB8
ICAyMCArKysrCj4gIGRyaXZlcnMvdmZpby9tZGV2L21kZXZfcHJpdmF0ZS5oIHwgICAyICsKPiAg
aW5jbHVkZS9saW51eC9tZGV2LmggICAgICAgICAgICAgfCAgIDYgKysKPiAgaW5jbHVkZS9saW51
eC92aXJ0aW9fbWRldl9vcHMuaCAgfCAxNTkgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
Kwo+ICA0IGZpbGVzIGNoYW5nZWQsIDE4NyBpbnNlcnRpb25zKCspCj4gIGNyZWF0ZSBtb2RlIDEw
MDY0NCBpbmNsdWRlL2xpbnV4L3ZpcnRpb19tZGV2X29wcy5oCj4gCj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvdmZpby9tZGV2L21kZXZfY29yZS5jIGIvZHJpdmVycy92ZmlvL21kZXYvbWRldl9jb3Jl
LmMKPiBpbmRleCA1NTViZDYxZDhjMzguLjliMDBjMzUxMzEyMCAxMDA2NDQKPiAtLS0gYS9kcml2
ZXJzL3ZmaW8vbWRldi9tZGV2X2NvcmUuYwo+ICsrKyBiL2RyaXZlcnMvdmZpby9tZGV2L21kZXZf
Y29yZS5jCj4gQEAgLTc2LDYgKzc2LDI2IEBAIGNvbnN0IHN0cnVjdCB2ZmlvX21kZXZfZGV2aWNl
X29wcyAqbWRldl9nZXRfdmZpb19vcHMoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2KQo+ICB9Cj4g
IEVYUE9SVF9TWU1CT0wobWRldl9nZXRfdmZpb19vcHMpOwo+ICAKPiArLyogU3BlY2lmeSB0aGUg
dmlydGlvIGRldmljZSBvcHMgZm9yIHRoZSBtZGV2IGRldmljZSwgdGhpcwo+ICsgKiBtdXN0IGJl
IGNhbGxlZCBkdXJpbmcgY3JlYXRlKCkgY2FsbGJhY2sgZm9yIHZpcnRpbyBtZGV2IGRldmljZS4K
PiArICovCj4gK3ZvaWQgbWRldl9zZXRfdmlydGlvX29wcyhzdHJ1Y3QgbWRldl9kZXZpY2UgKm1k
ZXYsCj4gKwkJCSBjb25zdCBzdHJ1Y3QgdmlydGlvX21kZXZfZGV2aWNlX29wcyAqdmlydGlvX29w
cykKPiArewo+ICsJbWRldl9zZXRfY2xhc3MobWRldiwgTURFVl9DTEFTU19JRF9WSVJUSU8pOwo+
ICsJbWRldi0+dmlydGlvX29wcyA9IHZpcnRpb19vcHM7Cj4gK30KPiArRVhQT1JUX1NZTUJPTCht
ZGV2X3NldF92aXJ0aW9fb3BzKTsKPiArCj4gKy8qIEdldCB0aGUgdmlydGlvIGRldmljZSBvcHMg
Zm9yIHRoZSBtZGV2IGRldmljZS4gKi8KPiArY29uc3Qgc3RydWN0IHZpcnRpb19tZGV2X2Rldmlj
ZV9vcHMgKgo+ICttZGV2X2dldF92aXJ0aW9fb3BzKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldikK
PiArewo+ICsJV0FSTl9PTihtZGV2LT5jbGFzc19pZCAhPSBNREVWX0NMQVNTX0lEX1ZJUlRJTyk7
Cj4gKwlyZXR1cm4gbWRldi0+dmlydGlvX29wczsKPiArfQo+ICtFWFBPUlRfU1lNQk9MKG1kZXZf
Z2V0X3ZpcnRpb19vcHMpOwo+ICsKPiAgc3RydWN0IGRldmljZSAqbWRldl9kZXYoc3RydWN0IG1k
ZXZfZGV2aWNlICptZGV2KQo+ICB7Cj4gIAlyZXR1cm4gJm1kZXYtPmRldjsKPiBkaWZmIC0tZ2l0
IGEvZHJpdmVycy92ZmlvL21kZXYvbWRldl9wcml2YXRlLmggYi9kcml2ZXJzL3ZmaW8vbWRldi9t
ZGV2X3ByaXZhdGUuaAo+IGluZGV4IDA3NzA0MTBkZWQyYS4uN2I0Nzg5MGMzNGU3IDEwMDY0NAo+
IC0tLSBhL2RyaXZlcnMvdmZpby9tZGV2L21kZXZfcHJpdmF0ZS5oCj4gKysrIGIvZHJpdmVycy92
ZmlvL21kZXYvbWRldl9wcml2YXRlLmgKPiBAQCAtMTEsNiArMTEsNyBAQAo+ICAjZGVmaW5lIE1E
RVZfUFJJVkFURV9ICj4gIAo+ICAjaW5jbHVkZSA8bGludXgvdmZpb19tZGV2X29wcy5oPgo+ICsj
aW5jbHVkZSA8bGludXgvdmlydGlvX21kZXZfb3BzLmg+Cj4gIAo+ICBpbnQgIG1kZXZfYnVzX3Jl
Z2lzdGVyKHZvaWQpOwo+ICB2b2lkIG1kZXZfYnVzX3VucmVnaXN0ZXIodm9pZCk7Cj4gQEAgLTM4
LDYgKzM5LDcgQEAgc3RydWN0IG1kZXZfZGV2aWNlIHsKPiAgCXUxNiBjbGFzc19pZDsKPiAgCXVu
aW9uIHsKPiAgCQljb25zdCBzdHJ1Y3QgdmZpb19tZGV2X2RldmljZV9vcHMgKnZmaW9fb3BzOwo+
ICsJCWNvbnN0IHN0cnVjdCB2aXJ0aW9fbWRldl9kZXZpY2Vfb3BzICp2aXJ0aW9fb3BzOwo+ICAJ
fTsKPiAgfTsKPiAgCj4gZGlmZiAtLWdpdCBhL2luY2x1ZGUvbGludXgvbWRldi5oIGIvaW5jbHVk
ZS9saW51eC9tZGV2LmgKPiBpbmRleCA0NjI1ZjFhMTEwMTQuLjliNjliMGJiZWJmZCAxMDA2NDQK
PiAtLS0gYS9pbmNsdWRlL2xpbnV4L21kZXYuaAo+ICsrKyBiL2luY2x1ZGUvbGludXgvbWRldi5o
Cj4gQEAgLTE3LDYgKzE3LDcgQEAKPiAgCj4gIHN0cnVjdCBtZGV2X2RldmljZTsKPiAgc3RydWN0
IHZmaW9fbWRldl9kZXZpY2Vfb3BzOwo+ICtzdHJ1Y3QgdmlydGlvX21kZXZfZGV2aWNlX29wczsK
PiAgCj4gIC8qCj4gICAqIENhbGxlZCBieSB0aGUgcGFyZW50IGRldmljZSBkcml2ZXIgdG8gc2V0
IHRoZSBkZXZpY2Ugd2hpY2ggcmVwcmVzZW50cwo+IEBAIC0xMTIsNiArMTEzLDEwIEBAIHZvaWQg
bWRldl9zZXRfY2xhc3Moc3RydWN0IG1kZXZfZGV2aWNlICptZGV2LCB1MTYgaWQpOwo+ICB2b2lk
IG1kZXZfc2V0X3ZmaW9fb3BzKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldiwKPiAgCQkgICAgICAg
Y29uc3Qgc3RydWN0IHZmaW9fbWRldl9kZXZpY2Vfb3BzICp2ZmlvX29wcyk7Cj4gIGNvbnN0IHN0
cnVjdCB2ZmlvX21kZXZfZGV2aWNlX29wcyAqbWRldl9nZXRfdmZpb19vcHMoc3RydWN0IG1kZXZf
ZGV2aWNlICptZGV2KTsKPiArdm9pZCBtZGV2X3NldF92aXJ0aW9fb3BzKHN0cnVjdCBtZGV2X2Rl
dmljZSAqbWRldiwKPiArCQkJIGNvbnN0IHN0cnVjdCB2aXJ0aW9fbWRldl9kZXZpY2Vfb3BzICp2
aXJ0aW9fb3BzKTsKPiArY29uc3Qgc3RydWN0IHZpcnRpb19tZGV2X2RldmljZV9vcHMgKgo+ICtt
ZGV2X2dldF92aXJ0aW9fb3BzKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldik7Cj4gIAo+ICBleHRl
cm4gc3RydWN0IGJ1c190eXBlIG1kZXZfYnVzX3R5cGU7Cj4gIAo+IEBAIC0xMjcsNiArMTMyLDcg
QEAgc3RydWN0IG1kZXZfZGV2aWNlICptZGV2X2Zyb21fZGV2KHN0cnVjdCBkZXZpY2UgKmRldik7
Cj4gIAo+ICBlbnVtIHsKPiAgCU1ERVZfQ0xBU1NfSURfVkZJTyA9IDEsCj4gKwlNREVWX0NMQVNT
X0lEX1ZJUlRJTyA9IDIsCj4gIAkvKiBOZXcgZW50cmllcyBtdXN0IGJlIGFkZGVkIGhlcmUgKi8K
PiAgfTsKPiAgCj4gZGlmZiAtLWdpdCBhL2luY2x1ZGUvbGludXgvdmlydGlvX21kZXZfb3BzLmgg
Yi9pbmNsdWRlL2xpbnV4L3ZpcnRpb19tZGV2X29wcy5oCj4gbmV3IGZpbGUgbW9kZSAxMDA2NDQK
PiBpbmRleCAwMDAwMDAwMDAwMDAuLmQ0MTdiNDFmMjg0NQo+IC0tLSAvZGV2L251bGwKPiArKysg
Yi9pbmNsdWRlL2xpbnV4L3ZpcnRpb19tZGV2X29wcy5oCj4gQEAgLTAsMCArMSwxNTkgQEAKPiAr
LyogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb25seSAqLwo+ICsvKgo+ICsgKiBW
aXJ0aW8gbWVkaWF0ZWQgZGV2aWNlIGRyaXZlcgo+ICsgKgo+ICsgKiBDb3B5cmlnaHQgMjAxOSwg
UmVkIEhhdCBDb3JwLgo+ICsgKiAgICAgQXV0aG9yOiBKYXNvbiBXYW5nIDxqYXNvd2FuZ0ByZWRo
YXQuY29tPgo+ICsgKi8KPiArI2lmbmRlZiBfTElOVVhfVklSVElPX01ERVZfSAo+ICsjZGVmaW5l
IF9MSU5VWF9WSVJUSU9fTURFVl9ICj4gKwo+ICsjaW5jbHVkZSA8bGludXgvaW50ZXJydXB0Lmg+
Cj4gKyNpbmNsdWRlIDxsaW51eC9tZGV2Lmg+Cj4gKyNpbmNsdWRlIDx1YXBpL2xpbnV4L3Zob3N0
Lmg+Cj4gKwo+ICsjZGVmaW5lIFZJUlRJT19NREVWX0RFVklDRV9BUElfU1RSSU5HCQkidmlydGlv
LW1kZXYiCj4gKyNkZWZpbmUgVklSVElPX01ERVZfRl9WRVJTSU9OXzEgMHgxCj4gKwo+ICtzdHJ1
Y3QgdmlydGlvX21kZXZfY2FsbGJhY2sgewo+ICsJaXJxcmV0dXJuX3QgKCpjYWxsYmFjaykodm9p
ZCAqZGF0YSk7Cj4gKwl2b2lkICpwcml2YXRlOwo+ICt9Owo+ICsKPiArLyoqCj4gKyAqIHN0cnVj
dCB2ZmlvX21kZXZfZGV2aWNlX29wcyAtIFN0cnVjdHVyZSB0byBiZSByZWdpc3RlcmVkIGZvciBl
YWNoCj4gKyAqIG1kZXYgZGV2aWNlIHRvIHJlZ2lzdGVyIHRoZSBkZXZpY2UgZm9yIHZpcnRpby92
aG9zdCBkcml2ZXJzLgo+ICsgKgo+ICsgKiBUaGUgZGV2aWNlIG9wcyB0aGF0IGlzIHN1cHBvcnRl
ZCBieSBWSVJUSU9fTURFVl9GX1ZFUlNJT05fMSwgdGhlCj4gKyAqIGNhbGxiYWNrcyBhcmUgbWFu
ZGF0b3J5IHVubGVzcyBleHBsaWNpdHkgbWVudGlvbmVkLgoKSWYgdGhlIHZlcnNpb24gb2YgdGhl
IGNhbGxiYWNrcyBpcyByZXR1cm5lZCBieSBhIGNhbGxiYWNrIHdpdGhpbiB0aGUKc3RydWN0dXJl
IGRlZmluZWQgYnkgdGhlIHZlcnNpb24uLi4gaXNuJ3QgdGhhdCBhIGJpdCBjaXJjdWxhcj8gIFRo
aXMKc2VlbXMgcmVkdW5kYW50IHRvIG1lIHZlcnN1cyB0aGUgY2xhc3MgaWQuICBUaGUgZmFjdCB0
aGF0IHRoZSBwYXJlbnQKZHJpdmVyIGRlZmluZXMgdGhlIGRldmljZSBhcyBNREVWX0NMQVNTX0lE
X1ZJUlRJTyBzaG91bGQgdGVsbCB1cyB0aGlzCmFscmVhZHkuICBJZiBpdCB3YXMgaW5jcmVtZW50
ZWQsIHdlJ2QgbmVlZCBhbiBNREVWX0NMQVNTX0lEX1ZJUlRJT3YyLAp3aGljaCB0aGUgdmlydGlv
LW1kZXYgYnVzIGRyaXZlciBjb3VsZCBhZGQgdG8gaXRzIGlkIHRhYmxlIGFuZCBoYW5kbGUKZGlm
ZmVyZW50bHkuCgo+ICsgKgo+ICsgKiBAc2V0X3ZxX2FkZHJlc3M6CQlTZXQgdGhlIGFkZHJlc3Mg
b2YgdmlydHF1ZXVlCj4gKyAqCQkJCUBtZGV2OiBtZWRpYXRlZCBkZXZpY2UKPiArICoJCQkJQGlk
eDogdmlydHF1ZXVlIGluZGV4Cj4gKyAqCQkJCUBkZXNjX2FyZWE6IGFkZHJlc3Mgb2YgZGVzYyBh
cmVhCj4gKyAqCQkJCUBkcml2ZXJfYXJlYTogYWRkcmVzcyBvZiBkcml2ZXIgYXJlYQo+ICsgKgkJ
CQlAZGV2aWNlX2FyZWE6IGFkZHJlc3Mgb2YgZGV2aWNlIGFyZWEKPiArICoJCQkJUmV0dXJucyBp
bnRlZ2VyOiBzdWNjZXNzICgwKSBvciBlcnJvciAoPCAwKQo+ICsgKiBAc2V0X3ZxX251bToJCQlT
ZXQgdGhlIHNpemUgb2YgdmlydHF1ZXVlCj4gKyAqCQkJCUBtZGV2OiBtZWRpYXRlZCBkZXZpY2UK
PiArICoJCQkJQGlkeDogdmlydHF1ZXVlIGluZGV4Cj4gKyAqCQkJCUBudW06IHRoZSBzaXplIG9m
IHZpcnRxdWV1ZQo+ICsgKiBAa2lja192cToJCQlLaWNrIHRoZSB2aXJ0cXVldWUKPiArICoJCQkJ
QG1kZXY6IG1lZGlhdGVkIGRldmljZQo+ICsgKgkJCQlAaWR4OiB2aXJ0cXVldWUgaW5kZXgKPiAr
ICogQHNldF92cV9jYjoJCQlTZXQgdGhlIGludGVycnVwdCBjYWxsYmFjayBmdW5jdGlvbiBmb3IK
PiArICoJCQkJYSB2aXJ0cXVldWUKPiArICoJCQkJQG1kZXY6IG1lZGlhdGVkIGRldmljZQo+ICsg
KgkJCQlAaWR4OiB2aXJ0cXVldWUgaW5kZXgKPiArICoJCQkJQGNiOiB2aXJ0aW8tbWRldiBpbnRl
cnJ1cHQgY2FsbGJhY2sgc3RydWN0dXJlCj4gKyAqIEBzZXRfdnFfcmVhZHk6CQlTZXQgcmVhZHkg
c3RhdHVzIGZvciBhIHZpcnRxdWV1ZQo+ICsgKgkJCQlAbWRldjogbWVkaWF0ZWQgZGV2aWNlCj4g
KyAqCQkJCUBpZHg6IHZpcnRxdWV1ZSBpbmRleAo+ICsgKgkJCQlAcmVhZHk6IHJlYWR5ICh0cnVl
KSBub3QgcmVhZHkoZmFsc2UpCj4gKyAqIEBnZXRfdnFfcmVhZHk6CQlHZXQgcmVhZHkgc3RhdHVz
IGZvciBhIHZpcnRxdWV1ZQo+ICsgKgkJCQlAbWRldjogbWVkaWF0ZWQgZGV2aWNlCj4gKyAqCQkJ
CUBpZHg6IHZpcnRxdWV1ZSBpbmRleAo+ICsgKgkJCQlSZXR1cm5zIGJvb2xlYW46IHJlYWR5ICh0
cnVlKSBvciBub3QgKGZhbHNlKQo+ICsgKiBAc2V0X3ZxX3N0YXRlOgkJU2V0IHRoZSBzdGF0ZSBm
b3IgYSB2aXJ0cXVldWUKPiArICoJCQkJQG1kZXY6IG1lZGlhdGVkIGRldmljZQo+ICsgKgkJCQlA
aWR4OiB2aXJ0cXVldWUgaW5kZXgKPiArICoJCQkJQHN0YXRlOiB2aXJ0cXVldWUgc3RhdGUgKGxh
c3RfYXZhaWxfaWR4KQo+ICsgKgkJCQlSZXR1cm5zIGludGVnZXI6IHN1Y2Nlc3MgKDApIG9yIGVy
cm9yICg8IDApCj4gKyAqIEBnZXRfdnFfc3RhdGU6CQlHZXQgdGhlIHN0YXRlIGZvciBhIHZpcnRx
dWV1ZQo+ICsgKgkJCQlAbWRldjogbWVkaWF0ZWQgZGV2aWNlCj4gKyAqCQkJCUBpZHg6IHZpcnRx
dWV1ZSBpbmRleAo+ICsgKgkJCQlSZXR1cm5zIHZpcnRxdWV1ZSBzdGF0ZSAobGFzdF9hdmFpbF9p
ZHgpCj4gKyAqIEBnZXRfdnFfYWxpZ246CQlHZXQgdGhlIHZpcnRxdWV1ZSBhbGlnbiByZXF1aXJl
bWVudAo+ICsgKgkJCQlmb3IgdGhlIGRldmljZQo+ICsgKgkJCQlAbWRldjogbWVkaWF0ZWQgZGV2
aWNlCj4gKyAqCQkJCVJldHVybnMgdmlydHF1ZXVlIGFsZ2luIHJlcXVpcmVtZW50Cj4gKyAqIEBn
ZXRfZmVhdHVyZXM6CQlHZXQgdmlydGlvIGZlYXR1cmVzIHN1cHBvcnRlZCBieSB0aGUgZGV2aWNl
Cj4gKyAqCQkJCUBtZGV2OiBtZWRpYXRlZCBkZXZpY2UKPiArICoJCQkJUmV0dXJucyB0aGUgdmly
dGlvIGZlYXR1cmVzIHN1cHBvcnQgYnkgdGhlCj4gKyAqCQkJCWRldmljZQo+ICsgKiBAZ2V0X2Zl
YXR1cmVzOgkJU2V0IHZpcnRpbyBmZWF0dXJlcyBzdXBwb3J0ZWQgYnkgdGhlIGRyaXZlcgogICAg
ICAgXiBzL2cvcy8KClRoYW5rcywKQWxleAoKCj4gKyAqCQkJCUBtZGV2OiBtZWRpYXRlZCBkZXZp
Y2UKPiArICoJCQkJQGZlYXR1cmVzOiBmZWF0dXJlIHN1cHBvcnQgYnkgdGhlIGRyaXZlcgo+ICsg
KgkJCQlSZXR1cm5zIGludGVnZXI6IHN1Y2Nlc3MgKDApIG9yIGVycm9yICg8IDApCj4gKyAqIEBz
ZXRfY29uZmlnX2NiOgkJU2V0IHRoZSBjb25maWcgaW50ZXJydXB0IGNhbGxiYWNrCj4gKyAqCQkJ
CUBtZGV2OiBtZWRpYXRlZCBkZXZpY2UKPiArICoJCQkJQGNiOiB2aXJ0aW8tbWRldiBpbnRlcnJ1
cHQgY2FsbGJhY2sgc3RydWN0dXJlCj4gKyAqIEBnZXRfdnFfbnVtX21heDoJCUdldCB0aGUgbWF4
IHNpemUgb2YgdmlydHF1ZXVlCj4gKyAqCQkJCUBtZGV2OiBtZWRpYXRlZCBkZXZpY2UKPiArICoJ
CQkJUmV0dXJucyB1MTY6IG1heCBzaXplIG9mIHZpcnRxdWV1ZQo+ICsgKiBAZ2V0X2RldmljZV9p
ZDoJCUdldCB2aXJ0aW8gZGV2aWNlIGlkCj4gKyAqCQkJCUBtZGV2OiBtZWRpYXRlZCBkZXZpY2UK
PiArICoJCQkJUmV0dXJucyB1MzI6IHZpcnRpbyBkZXZpY2UgaWQKPiArICogQGdldF92ZW5kb3Jf
aWQ6CQlHZXQgaWQgZm9yIHRoZSB2ZW5kb3IgdGhhdCBwcm92aWRlcyB0aGlzIGRldmljZQo+ICsg
KgkJCQlAbWRldjogbWVkaWF0ZWQgZGV2aWNlCj4gKyAqCQkJCVJldHVybnMgdTMyOiB2aXJ0aW8g
dmVuZG9yIGlkCj4gKyAqIEBnZXRfc3RhdHVzOgkJCUdldCB0aGUgZGV2aWNlIHN0YXR1cwo+ICsg
KgkJCQlAbWRldjogbWVkaWF0ZWQgZGV2aWNlCj4gKyAqCQkJCVJldHVybnMgdTg6IHZpcnRpbyBk
ZXZpY2Ugc3RhdHVzCj4gKyAqIEBzZXRfc3RhdHVzOgkJCVNldCB0aGUgZGV2aWNlIHN0YXR1cwo+
ICsgKgkJCQlAbWRldjogbWVkaWF0ZWQgZGV2aWNlCj4gKyAqCQkJCUBzdGF0dXM6IHZpcnRpbyBk
ZXZpY2Ugc3RhdHVzCj4gKyAqIEBnZXRfY29uZmlnOgkJCVJlYWQgZnJvbSBkZXZpY2Ugc3BlY2lm
aWMgY29uZmlndXJhdGlvbiBzcGFjZQo+ICsgKgkJCQlAbWRldjogbWVkaWF0ZWQgZGV2aWNlCj4g
KyAqCQkJCUBvZmZzZXQ6IG9mZnNldCBmcm9tIHRoZSBiZWdpbm5pbmcgb2YKPiArICoJCQkJY29u
ZmlndXJhdGlvbiBzcGFjZQo+ICsgKgkJCQlAYnVmOiBidWZmZXIgdXNlZCB0byByZWFkIHRvCj4g
KyAqCQkJCUBsZW46IHRoZSBsZW5ndGggdG8gcmVhZCBmcm9tCj4gKyAqCQkJCWNvbmZpZ3JhdGlv
biBzcGFjZQo+ICsgKiBAc2V0X2NvbmZpZzoJCQlXcml0ZSB0byBkZXZpY2Ugc3BlY2lmaWMgY29u
ZmlndXJhdGlvbiBzcGFjZQo+ICsgKgkJCQlAbWRldjogbWVkaWF0ZWQgZGV2aWNlCj4gKyAqCQkJ
CUBvZmZzZXQ6IG9mZnNldCBmcm9tIHRoZSBiZWdpbm5pbmcgb2YKPiArICoJCQkJY29uZmlndXJh
dGlvbiBzcGFjZQo+ICsgKgkJCQlAYnVmOiBidWZmZXIgdXNlZCB0byB3cml0ZSBmcm9tCj4gKyAq
CQkJCUBsZW46IHRoZSBsZW5ndGggdG8gd3JpdGUgdG8KPiArICoJCQkJY29uZmlncmF0aW9uIHNw
YWNlCj4gKyAqIEBnZXRfbWRldl9mZWF0dXJlczoJCUdldCBhIHNldCBvZiBiaXRzIHRoYXQgZGVt
b25zdHJhdGUKPiArICoJCQkJdGhlY2FwYWJpbGl0eSBvZiB0aGUgbWRldiBkZXZpY2UuIE5ldwo+
ICsgKgkJCQlmZWF0dXJlcyBiaXRzIG11c3QgYmUgYWRkZWQgd2hlbgo+ICsgKgkJCQlpbnRyb2R1
Y2luZyBuZXcgZGV2aWNlIG9wcy4KPiArICoJCQkJQG1kZXY6IG1lZGlhdGVkIGRldmljZQo+ICsg
KgkJCQlSZXR1cm5zIHRoZSBtZGV2IGZlYXR1cmVzIChBUEkpIHN1cHBvcnQgYnkKPiArICoJCQkJ
dGhlIGRldmljZS4KPiArICogQGdldF9nZW5lcmF0aW9uOgkJR2V0IGRldmljZSBjb25maWcgZ2Vu
ZXJhdG9uIChvcHRpb25hbGx5KQo+ICsgKgkJCQlAbWRldjogbWVkaWF0ZWQgZGV2aWNlCj4gKyAq
CQkJCVJldHVybnMgdTMyOiBkZXZpY2UgZ2VuZXJhdGlvbgo+ICsgKi8KPiArc3RydWN0IHZpcnRp
b19tZGV2X2RldmljZV9vcHMgewo+ICsJLyogVmlydHF1ZXVlIG9wcyAqLwo+ICsJaW50ICgqc2V0
X3ZxX2FkZHJlc3MpKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldiwKPiArCQkJICAgICAgdTE2IGlk
eCwgdTY0IGRlc2NfYXJlYSwgdTY0IGRyaXZlcl9hcmVhLAo+ICsJCQkgICAgICB1NjQgZGV2aWNl
X2FyZWEpOwo+ICsJdm9pZCAoKnNldF92cV9udW0pKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldiwg
dTE2IGlkeCwgdTMyIG51bSk7Cj4gKwl2b2lkICgqa2lja192cSkoc3RydWN0IG1kZXZfZGV2aWNl
ICptZGV2LCB1MTYgaWR4KTsKPiArCXZvaWQgKCpzZXRfdnFfY2IpKHN0cnVjdCBtZGV2X2Rldmlj
ZSAqbWRldiwgdTE2IGlkeCwKPiArCQkJICBzdHJ1Y3QgdmlydGlvX21kZXZfY2FsbGJhY2sgKmNi
KTsKPiArCXZvaWQgKCpzZXRfdnFfcmVhZHkpKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldiwgdTE2
IGlkeCwgYm9vbCByZWFkeSk7Cj4gKwlib29sICgqZ2V0X3ZxX3JlYWR5KShzdHJ1Y3QgbWRldl9k
ZXZpY2UgKm1kZXYsIHUxNiBpZHgpOwo+ICsJaW50ICgqc2V0X3ZxX3N0YXRlKShzdHJ1Y3QgbWRl
dl9kZXZpY2UgKm1kZXYsIHUxNiBpZHgsIHU2NCBzdGF0ZSk7Cj4gKwl1NjQgKCpnZXRfdnFfc3Rh
dGUpKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldiwgdTE2IGlkeCk7Cj4gKwo+ICsJLyogVmlydGlv
IGRldmljZSBvcHMgKi8KPiArCXUxNiAoKmdldF92cV9hbGlnbikoc3RydWN0IG1kZXZfZGV2aWNl
ICptZGV2KTsKPiArCXU2NCAoKmdldF9mZWF0dXJlcykoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2
KTsKPiArCWludCAoKnNldF9mZWF0dXJlcykoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2LCB1NjQg
ZmVhdHVyZXMpOwo+ICsJdm9pZCAoKnNldF9jb25maWdfY2IpKHN0cnVjdCBtZGV2X2RldmljZSAq
bWRldiwKPiArCQkJICAgICAgc3RydWN0IHZpcnRpb19tZGV2X2NhbGxiYWNrICpjYik7Cj4gKwl1
MTYgKCpnZXRfdnFfbnVtX21heCkoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2KTsKPiArCXUzMiAo
KmdldF9kZXZpY2VfaWQpKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldik7Cj4gKwl1MzIgKCpnZXRf
dmVuZG9yX2lkKShzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYpOwo+ICsJdTggKCpnZXRfc3RhdHVz
KShzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYpOwo+ICsJdm9pZCAoKnNldF9zdGF0dXMpKHN0cnVj
dCBtZGV2X2RldmljZSAqbWRldiwgdTggc3RhdHVzKTsKPiArCXZvaWQgKCpnZXRfY29uZmlnKShz
dHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYsIHVuc2lnbmVkIGludCBvZmZzZXQsCj4gKwkJCSAgIHZv
aWQgKmJ1ZiwgdW5zaWduZWQgaW50IGxlbik7Cj4gKwl2b2lkICgqc2V0X2NvbmZpZykoc3RydWN0
IG1kZXZfZGV2aWNlICptZGV2LCB1bnNpZ25lZCBpbnQgb2Zmc2V0LAo+ICsJCQkgICBjb25zdCB2
b2lkICpidWYsIHVuc2lnbmVkIGludCBsZW4pOwo+ICsJdTMyICgqZ2V0X2dlbmVyYXRpb24pKHN0
cnVjdCBtZGV2X2RldmljZSAqbWRldik7Cj4gKwo+ICsJLyogTWRldiBkZXZpY2Ugb3BzICovCj4g
Kwl1NjQgKCpnZXRfbWRldl9mZWF0dXJlcykoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2KTsKPiAr
fTsKPiArCj4gK3ZvaWQgbWRldl9zZXRfdmlydGlvX29wcyhzdHJ1Y3QgbWRldl9kZXZpY2UgKm1k
ZXYsCj4gKwkJCSBjb25zdCBzdHJ1Y3QgdmlydGlvX21kZXZfZGV2aWNlX29wcyAqdmlydGlvX29w
cyk7Cj4gKwo+ICsjZW5kaWYKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNr
dG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2Ry
aS1kZXZlbA==
