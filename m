Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 93F7FF38F5
	for <lists+dri-devel@lfdr.de>; Thu,  7 Nov 2019 20:50:48 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 6C5C76E147;
	Thu,  7 Nov 2019 19:50:45 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from perceval.ideasonboard.com (perceval.ideasonboard.com
 [IPv6:2001:4b98:dc2:55:216:3eff:fef7:d647])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 9F8926E147
 for <dri-devel@lists.freedesktop.org>; Thu,  7 Nov 2019 19:50:43 +0000 (UTC)
Received: from pendragon.ideasonboard.com (81-175-216-236.bb.dnainternet.fi
 [81.175.216.236])
 by perceval.ideasonboard.com (Postfix) with ESMTPSA id 582CF71D;
 Thu,  7 Nov 2019 20:50:40 +0100 (CET)
Date: Thu, 7 Nov 2019 21:50:30 +0200
From: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
To: Fabrizio Castro <fabrizio.castro@bp.renesas.com>
Subject: Re: [PATCH v3 4/8] drm: rcar-du: lvds: Add dual-LVDS panels support
Message-ID: <20191107195030.GI24983@pendragon.ideasonboard.com>
References: <1567017402-5895-1-git-send-email-fabrizio.castro@bp.renesas.com>
 <1567017402-5895-5-git-send-email-fabrizio.castro@bp.renesas.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <1567017402-5895-5-git-send-email-fabrizio.castro@bp.renesas.com>
User-Agent: Mutt/1.10.1 (2018-07-13)
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=ideasonboard.com; s=mail; t=1573156240;
 bh=fm+qn3RI1EcWmdOOQijQXQwT/H0Oe7l3klLogtVG9P0=;
 h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
 b=P6VtBV0mLa3LO14YiBTzAy0WnIfEWAU8hDeU42k2IDMpkarRf6ssKGNQnhJzLq3IJ
 Du62q95jOsll8yQ1kTeeMAu+uuE/0Qy2Gxt1SUHA33BO/b3QBNzP5VY69ny0qe8DyF
 H63HeD+CeDqpKaR58mMtyMv8p0QvRK+NkkVpZSy0=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Chris Paterson <Chris.Paterson2@renesas.com>,
 Geert Uytterhoeven <geert+renesas@glider.be>,
 Simon Horman <horms@verge.net.au>, David Airlie <airlied@linux.ie>,
 linux-kernel@vger.kernel.org, dri-devel@lists.freedesktop.org,
 Biju Das <biju.das@bp.renesas.com>, linux-renesas-soc@vger.kernel.org,
 Kieran Bingham <kieran.bingham+renesas@ideasonboard.com>,
 Jacopo Mondi <jacopo+renesas@jmondi.org>, sam@ravnborg.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgRmFicml6aW8sCgpUaGFuayB5b3UgZm9yIHRoZSBwYXRjaC4KCk9uIFdlZCwgQXVnIDI4LCAy
MDE5IGF0IDA3OjM2OjM4UE0gKzAxMDAsIEZhYnJpemlvIENhc3RybyB3cm90ZToKPiBUaGUgZHJp
dmVyIGRvZXNuJ3Qgc3VwcG9ydCBkdWFsLWxpbmsgTFZEUyBkaXNwbGF5cywgYW5kIHRoZSB3YXkK
PiBpdCBpZGVudGlmaWVzIGJyaWRnZXMgd29uJ3QgYWxsb3cgZm9yIGR1YWwtTFZEUyBkaXNwbGF5
cyB0byBiZQo+IGNvbm5lY3RlZC4gQWxzbywgaXQncyBub3QgcG9zc2libGUgdG8gc3dhcCBldmVu
IGFuZCBvZGQgcGl4ZWxzCj4gYXJvdW5kIGluIGNhc2UgdGhlIHdpcmluZyBpc24ndCB0YWtpbmcg
YWR2YW50YWdlIG9mIHRoZSBkZWZhdWx0Cj4gaGFyZHdhcmUgY29uZmlndXJhdGlvbi4gRnVydGhl
ciBtb3JlLCB0aGUgIm1vZGUiIG9mIHRoZSBjb21wYW5pb24KPiBlbmNvZGVyIHNob3VsZCBiZSBz
YW1lIGFzIHRoZSBtb2RlIG9mIHRoZSBwcmltYXJ5IGVuY29kZXIuCj4gCj4gUmV3b3JrIHRoZSBk
cml2ZXIgdG8gaW1wcm92ZSBhbGwgb2YgdGhlIGFib3ZlLCBzbyB0aGF0IGl0IGNhbgo+IHN1cHBv
cnQgZHVhbC1MVkRTIGRpc3BsYXlzLgoKVGhhdCdzIGxvdHMgb2YgY2hhbmdlcyBpbiBvbmUgcGF0
Y2gsIGNvdWxkIGl0IGJlIHNwbGl0IHRvIGVhc2UgcmV2aWV3ID8KQWxzbywgc2hvdWxkIHRoZSBj
b21taXQgbWVzc2FnZSBiZSByZXdvcmRlZCB0byBleHBsYWluIHdoYXQgdGhlIHBhdGNoCmRvZXMs
IGluc3RlYWQgb2YgZW51bWVyYXRpbmcgaXNzdWVzID8gV2hlbiB0aGVyZSdzIGEgc2luZ2xlIGlz
c3VlIGJlaW5nCmFkZHJlc3NlZCBpbiBhIHBhdGNoIGl0J3MgdXN1YWxseSBmaW5lLCBidXQgdGhl
cmUgdGhlIGNoYW5nZSBpcyBsYXJnZXIsCndpdGhvdXQgYW4gZXhwbGFuYXRpb24gb2YgaG93IHlv
dSBpbnRlbmQgdG8gZml4IHRoZSBpc3N1ZXMgSSBjYW4ndCB0ZWxsCmlmIHRoZSBjb2RlIHJlYWxs
eSBtYXRjaGVzIHlvdXIgaW50ZW50LgoKPiBTaWduZWQtb2ZmLWJ5OiBGYWJyaXppbyBDYXN0cm8g
PGZhYnJpemlvLmNhc3Ryb0BicC5yZW5lc2FzLmNvbT4KPiAKPiAtLS0KPiB2Mi0+djM6Cj4gKiBy
ZXdvcmtlZCB0byB0YWtlIGFkdmFudGFuZ2Ugb2YgdGhlIG5ldyBkdC1iaW5kaW5ncwo+ICogc3F1
YXNoZWQgaW4gdGhlIHBhdGNoZSBmb3IgZml4aW5nIHRoZSBjb21wYW5pb24ncyBtb2RlCj4gCj4g
TGF1cmVudCwKPiAKPiB1bmZvcnR1bmF0ZWx5IHRoZSBiZXN0IHdheSB0byBnZXQgdGhlIGNvbXBh
bmlvbiBlbmNvZGVyIHRvIHVzZQo+IHRoZSBzYW1lIG1vZGUgYXMgdGhlIHByaW1hcnkgZW5jb2Rl
ciBpcyBzZXR0aW5nIHRoZSBtb2RlIGRpcmVjdGx5Cj4gd2l0aG91dCBjYWxsaW5nIGludG8gcmNh
cl9sdmRzX21vZGVfc2V0IGZvciB0aGUgY29tcGFuaW9uIGVuY29kZXIsCj4gYXMgdGhlIGJlbG93
IHRlc3QgZmFpbHMgZm9yIHRoZSBjb21wYW5pb24gZW5jb2RlciBpbgo+IHJjYXJfbHZkc19nZXRf
bHZkc19tb2RlOgo+IGlmICghaW5mby0+bnVtX2J1c19mb3JtYXRzIHx8ICFpbmZvLT5idXNfZm9y
bWF0cykKCldvdWxkICJbUEFUQ0hdIGRybTogcmNhci1kdTogbHZkczogR2V0IG1vZGUgZnJvbSBz
dGF0ZSIgaGVscCBoZXJlID8KTWF5YmUgeW91IGNvdWxkIHJldmlldyB0aGF0IHBhdGNoLCBJIGNv
dWxkIHRoZW4gaW5jbHVkZSBpdCBpbiBteSAtbmV4dApicmFuY2gsIHlvdXIgd29yayB3b3VsZCBi
ZSBzaW1wbGlmaWVkLCBhbmQgZXZlcnlib2R5IHdvdWxkIGJlIGhhcHB5ID8KOi0pCgo+IEFueWhv
dywgc2V0dGluZyB0aGUgbW9kZSBmb3IgdGhlIGNvbXBhbmlvbiBlbmNvZGVyIGRvZXNuJ3Qgc2Vl
bQo+IHRvIGJlIG1hbmRhcnkgYWNjb3JkaW5nIHRvIHRoZSBleHBlcmltZW50cyBJIGhhdmUgYmVl
biBydW5uaW5nLAo+IGJ1dCB0aGUgSFcgVXNlcidzIE1hbnVhbCBkb2Vzbid0IHJlYWxseSBzYXkg
bXVjaCBhYm91dCB0aGlzLAo+IHRoZXJlZm9yZSBJIHRoaW5rIHRoZSBzYWZlc3Qgb3B0aW9uIGlz
IHN0aWxsIHRvIHNldCB0aGUgbW9kZSBmb3IKPiB0aGUgY29tcGFuaW9uIGVuY29kZXIuCgpJIGFn
cmVlIGl0IHNob3VsZCBiZSBkb25lLgoKPiAtLS0KPiAgZHJpdmVycy9ncHUvZHJtL3JjYXItZHUv
cmNhcl9sdmRzLmMgfCAxMTAgKysrKysrKysrKysrKysrKysrKysrLS0tLS0tLS0tLS0tLS0tCj4g
IDEgZmlsZSBjaGFuZ2VkLCA2NSBpbnNlcnRpb25zKCspLCA0NSBkZWxldGlvbnMoLSkKPiAKPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9sdmRzLmMgYi9kcml2ZXJz
L2dwdS9kcm0vcmNhci1kdS9yY2FyX2x2ZHMuYwo+IGluZGV4IDNmZTBiODYuLmRmZWM1ZTcgMTAw
NjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9sdmRzLmMKPiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2x2ZHMuYwo+IEBAIC0yMCw2ICsyMCw4IEBACj4g
ICNpbmNsdWRlIDxkcm0vZHJtX2F0b21pYy5oPgo+ICAjaW5jbHVkZSA8ZHJtL2RybV9hdG9taWNf
aGVscGVyLmg+Cj4gICNpbmNsdWRlIDxkcm0vZHJtX2JyaWRnZS5oPgo+ICsjaW5jbHVkZSA8ZHJt
L2RybV9idXNfdGltaW5ncy5oPgo+ICsjaW5jbHVkZSA8ZHJtL2RybV9vZi5oPgo+ICAjaW5jbHVk
ZSA8ZHJtL2RybV9wYW5lbC5oPgo+ICAjaW5jbHVkZSA8ZHJtL2RybV9wcm9iZV9oZWxwZXIuaD4K
PiAgCj4gQEAgLTY5LDYgKzcxLDcgQEAgc3RydWN0IHJjYXJfbHZkcyB7Cj4gIAo+ICAJc3RydWN0
IGRybV9icmlkZ2UgKmNvbXBhbmlvbjsKPiAgCWJvb2wgZHVhbF9saW5rOwo+ICsJYm9vbCBzdHJp
cGVfc3dhcF9kYXRhOwo+ICB9Owo+ICAKPiAgI2RlZmluZSBicmlkZ2VfdG9fcmNhcl9sdmRzKGIp
IFwKPiBAQCAtNDM5LDEyICs0NDIsMjAgQEAgc3RhdGljIHZvaWQgcmNhcl9sdmRzX2VuYWJsZShz
dHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlKQo+ICAJcmNhcl9sdmRzX3dyaXRlKGx2ZHMsIExWRENI
Q1IsIGx2ZGhjcik7Cj4gIAo+ICAJaWYgKGx2ZHMtPmluZm8tPnF1aXJrcyAmIFJDQVJfTFZEU19R
VUlSS19EVUFMX0xJTkspIHsKPiAtCQkvKgo+IC0JCSAqIENvbmZpZ3VyZSB2ZXJ0aWNhbCBzdHJp
cGUgYmFzZWQgb24gdGhlIG1vZGUgb2Ygb3BlcmF0aW9uIG9mCj4gLQkJICogdGhlIGNvbm5lY3Rl
ZCBkZXZpY2UuCj4gLQkJICovCj4gLQkJcmNhcl9sdmRzX3dyaXRlKGx2ZHMsIExWRFNUUklQRSwK
PiAtCQkJCWx2ZHMtPmR1YWxfbGluayA/IExWRFNUUklQRV9TVF9PTiA6IDApOwo+ICsJCXUzMiBs
dmRzdHJpcGUgPSAwOwo+ICsKPiArCQlpZiAobHZkcy0+ZHVhbF9saW5rKQo+ICsJCQkvKgo+ICsJ
CQkgKiBDb25maWd1cmUgdmVydGljYWwgc3RyaXBlIGJhc2VkIG9uIHRoZSBtb2RlIG9mCj4gKwkJ
CSAqIG9wZXJhdGlvbiBvZiB0aGUgY29ubmVjdGVkIGRldmljZS4KPiArCQkJICoKPiArCQkJICog
U1RfU1dBUCBmcm9tIExWRDFTVFJJUEUgaXMgcmVzZXJ2ZWQsIGRvIG5vdCBzZXQKPiArCQkJICog
aW4gdGhlIGNvbXBhbmlvbiBMVkRTCj4gKwkJCSAqLwo+ICsJCQlsdmRzdHJpcGUgPSBMVkRTVFJJ
UEVfU1RfT04gfAo+ICsJCQkJKGx2ZHMtPmNvbXBhbmlvbiAmJiBsdmRzLT5zdHJpcGVfc3dhcF9k
YXRhID8KPiArCQkJCSBMVkRTVFJJUEVfU1RfU1dBUCA6IDApOwo+ICsJCXJjYXJfbHZkc193cml0
ZShsdmRzLCBMVkRTVFJJUEUsIGx2ZHN0cmlwZSk7Cj4gIAl9Cj4gIAo+ICAJLyoKPiBAQCAtNjAz
LDYgKzYxNCwxMSBAQCBzdGF0aWMgdm9pZCByY2FyX2x2ZHNfbW9kZV9zZXQoc3RydWN0IGRybV9i
cmlkZ2UgKmJyaWRnZSwKPiAgCWx2ZHMtPmRpc3BsYXlfbW9kZSA9ICphZGp1c3RlZF9tb2RlOwo+
ICAKPiAgCXJjYXJfbHZkc19nZXRfbHZkc19tb2RlKGx2ZHMpOwo+ICsJaWYgKGx2ZHMtPmNvbXBh
bmlvbikgewo+ICsJCXN0cnVjdCByY2FyX2x2ZHMgKmNvbXBhbmlvbl9sdmRzID0gYnJpZGdlX3Rv
X3JjYXJfbHZkcygKPiArCQkJCQkJCWx2ZHMtPmNvbXBhbmlvbik7Cj4gKwkJY29tcGFuaW9uX2x2
ZHMtPm1vZGUgPSBsdmRzLT5tb2RlOwo+ICsJfQo+ICB9Cj4gIAo+ICBzdGF0aWMgaW50IHJjYXJf
bHZkc19hdHRhY2goc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSkKPiBAQCAtNjY3LDkgKzY4Mywx
MCBAQCBFWFBPUlRfU1lNQk9MX0dQTChyY2FyX2x2ZHNfZHVhbF9saW5rKTsKPiAgc3RhdGljIGlu
dCByY2FyX2x2ZHNfcGFyc2VfZHRfY29tcGFuaW9uKHN0cnVjdCByY2FyX2x2ZHMgKmx2ZHMpCj4g
IHsKPiAgCWNvbnN0IHN0cnVjdCBvZl9kZXZpY2VfaWQgKm1hdGNoOwo+IC0Jc3RydWN0IGRldmlj
ZV9ub2RlICpjb21wYW5pb247Cj4gKwlzdHJ1Y3QgZGV2aWNlX25vZGUgKmNvbXBhbmlvbiwgKnAw
ID0gTlVMTCwgKnAxID0gTlVMTDsKPiAgCXN0cnVjdCBkZXZpY2UgKmRldiA9IGx2ZHMtPmRldjsK
PiAtCWludCByZXQgPSAwOwo+ICsJc3RydWN0IHJjYXJfbHZkcyAqY29tcGFuaW9uX2x2ZHM7Cj4g
KwlpbnQgcmV0ID0gMCwgZHVhbF9saW5rOwo+ICAKPiAgCS8qIExvY2F0ZSB0aGUgY29tcGFuaW9u
IExWRFMgZW5jb2RlciBmb3IgZHVhbC1saW5rIG9wZXJhdGlvbiwgaWYgYW55LiAqLwo+ICAJY29t
cGFuaW9uID0gb2ZfcGFyc2VfcGhhbmRsZShkZXYtPm9mX25vZGUsICJyZW5lc2FzLGNvbXBhbmlv
biIsIDApOwo+IEBAIC02ODcsMTYgKzcwNCw1MCBAQCBzdGF0aWMgaW50IHJjYXJfbHZkc19wYXJz
ZV9kdF9jb21wYW5pb24oc3RydWN0IHJjYXJfbHZkcyAqbHZkcykKPiAgCQlnb3RvIGRvbmU7Cj4g
IAl9Cj4gIAo+ICsJLyoKPiArCSAqIFdlIG5lZWQgdG8gd29yayBvdXQgaWYgdGhlIHNpbmsgaXMg
ZXhwZWN0aW5nIHVzIHRvIGZ1bmN0aW9uIGluCj4gKwkgKiBkdWFsLWxpbmsgbW9kZS4gV2UgZG8g
dGhpcyBieSBsb29raW5nIGF0IHRoZSBEVCBwb3J0IG5vZGVzIHdlIGFyZQo+ICsJICogY29ubmVj
dGVkIHRvLCBpZiB0aGV5IGFyZSBtYXJrZWQgYXMgZXhwZWN0aW5nIGV2ZW4gcGl4ZWxzIGFuZAo+
ICsJICogb2RkIHBpeGVscyB0aGFuIHdlIG5lZWQgdG8gZW5hYmxlIHZlcnRpY2FsIHN0cmlwZSBv
dXRwdXQKPiArCSAqLwo+ICsJcDAgPSBvZl9ncmFwaF9nZXRfcG9ydF9ieV9pZChkZXYtPm9mX25v
ZGUsIDEpOwo+ICsJcDEgPSBvZl9ncmFwaF9nZXRfcG9ydF9ieV9pZChjb21wYW5pb24sIDEpOwo+
ICsJZHVhbF9saW5rID0gZHJtX29mX2x2ZHNfZ2V0X2R1YWxfbGlua19jb25maWd1cmF0aW9uKHAw
LCBwMSk7CgpZb3UgY2FuIGNhbGwgb2Zfbm9kZV9wdXQocDApIGFuZCBvZl9ub2RlX3B1dChwMSkg
aGVyZSBpbnN0ZWFkIG9mIGFkZGluZwp0aGVtIGF0IHRoZSBlbmQgb2YgdGhlIGZ1bmN0aW9uLgoK
PiArCWlmIChkdWFsX2xpbmsgPj0gRFJNX0xWRFNfRFVBTF9MSU5LX0VWRU5fT0REX1BJWEVMUykg
ewo+ICsJCWRldl9kYmcoZGV2LCAiRHVhbC1saW5rIGNvbmZpZ3VyYXRpb24gZGV0ZWN0ZWRcbiIp
Owo+ICsJCWx2ZHMtPmR1YWxfbGluayA9IHRydWU7Cj4gKwl9IGVsc2Ugewo+ICsJCS8qIGR1YWwt
bGluayBtb2RlIGlzIG5vdCByZXF1aXJlZCAqLwo+ICsJCWRldl9kYmcoZGV2LCAiU2luZ2xlLWxp
bmsgY29uZmlndXJhdGlvbiBkZXRlY3RlZFxuIik7Cj4gKwkJZ290byBkb25lOwo+ICsJfQoKTWlz
c2luZyBibGFuayBsaW5lIGhlcmUuCgo+ICsJLyoKPiArCSAqIFdlIG1heSBuZWVkIHRvIHN3YXAg
ZXZlbiBhbmQgb2RkIHBpeGVscyBhcm91bmQgaW4gY2FzZSB0aGUgd2lyaW5nCj4gKwkgKiBkb2Vz
bid0IG1hdGNoIHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24uCj4gKwkgKiBCeSBkZWZhdWx0IHdl
IGdlbmVyYXRlIGV2ZW4gcGl4ZWxzIGZyb20gdGhpcyBlbmNvZGVyIGFuZCBvZGQgcGl4ZWxzCj4g
KwkgKiBmcm9tIHRoZSBjb21wYW5pb24gZW5jb2RlciwgYnV0IGlmIHAwIGlzIGNvbm5lY3RlZCB0
byB0aGUgcG9ydAo+ICsJICogZXhwZWN0aW5nIG9vZCBwaXhlbHMsIGFuZCBwMSBpcyBjb25uZWN0
ZWQgdG8gdGhlIHBvcnQgZXhwZWN0aW5nIGV2ZW4KPiArCSAqIHBpeGVscywgdGhlbiB3ZSBuZWVk
IHRvIHN3YXAgZXZlbiBhbmQgb2RkIHBpeGVscyBhcm91bmQKPiArCSAqLwo+ICsJaWYgKGR1YWxf
bGluayA9PSBEUk1fTFZEU19EVUFMX0xJTktfT0REX0VWRU5fUElYRUxTKSB7Cj4gKwkJZGV2X2Ri
ZyhkZXYsICJEYXRhIHN3YXBwaW5nIHJlcXVpcmVkXG4iKTsKPiArCQlsdmRzLT5zdHJpcGVfc3dh
cF9kYXRhID0gdHJ1ZTsKPiArCX0KPiArCj4gIAlsdmRzLT5jb21wYW5pb24gPSBvZl9kcm1fZmlu
ZF9icmlkZ2UoY29tcGFuaW9uKTsKPiAgCWlmICghbHZkcy0+Y29tcGFuaW9uKSB7Cj4gIAkJcmV0
ID0gLUVQUk9CRV9ERUZFUjsKPiAgCQlnb3RvIGRvbmU7Cj4gIAl9Cj4gKwljb21wYW5pb25fbHZk
cyA9IGJyaWRnZV90b19yY2FyX2x2ZHMobHZkcy0+Y29tcGFuaW9uKTsKPiArCWNvbXBhbmlvbl9s
dmRzLT5kdWFsX2xpbmsgPSBsdmRzLT5kdWFsX2xpbms7CgpJIGRvbid0IGxpa2UgcG9raW5nIGRp
cmVjdGx5IGluIHRoZSBjb21wYW5pb24gbGlrZSB0aGlzIDotKCBDYW4ndCB3ZSBsZXQKdGhlIGNv
bXBhbmlvbiBkZXRlY3QgZHVhbCBsaW5rIG1vZGUgaXRzZWxmID8KCj4gIAo+ICAJZGV2X2RiZyhk
ZXYsICJGb3VuZCBjb21wYW5pb24gZW5jb2RlciAlcE9GXG4iLCBjb21wYW5pb24pOwo+ICAKPiAg
ZG9uZToKPiAgCW9mX25vZGVfcHV0KGNvbXBhbmlvbik7Cj4gKwlvZl9ub2RlX3B1dChwMCk7Cj4g
KwlvZl9ub2RlX3B1dChwMSk7Cj4gIAo+ICAJcmV0dXJuIHJldDsKPiAgfQo+IEBAIC03MDQsMTAg
Kzc1NSw3IEBAIHN0YXRpYyBpbnQgcmNhcl9sdmRzX3BhcnNlX2R0X2NvbXBhbmlvbihzdHJ1Y3Qg
cmNhcl9sdmRzICpsdmRzKQo+ICBzdGF0aWMgaW50IHJjYXJfbHZkc19wYXJzZV9kdChzdHJ1Y3Qg
cmNhcl9sdmRzICpsdmRzKQo+ICB7Cj4gIAlzdHJ1Y3QgZGV2aWNlX25vZGUgKmxvY2FsX291dHB1
dCA9IE5VTEw7Cj4gLQlzdHJ1Y3QgZGV2aWNlX25vZGUgKnJlbW90ZV9pbnB1dCA9IE5VTEw7Cj4g
IAlzdHJ1Y3QgZGV2aWNlX25vZGUgKnJlbW90ZSA9IE5VTEw7Cj4gLQlzdHJ1Y3QgZGV2aWNlX25v
ZGUgKm5vZGU7Cj4gLQlib29sIGlzX2JyaWRnZSA9IGZhbHNlOwo+ICAJaW50IHJldCA9IDA7Cj4g
IAo+ICAJbG9jYWxfb3V0cHV0ID0gb2ZfZ3JhcGhfZ2V0X2VuZHBvaW50X2J5X3JlZ3MobHZkcy0+
ZGV2LT5vZl9ub2RlLCAxLCAwKTsKPiBAQCAtNzM1LDQ1ICs3ODMsMTcgQEAgc3RhdGljIGludCBy
Y2FyX2x2ZHNfcGFyc2VfZHQoc3RydWN0IHJjYXJfbHZkcyAqbHZkcykKPiAgCQlnb3RvIGRvbmU7
Cj4gIAl9Cj4gIAoKSSB0aGluayB5b3UgY2FuIGFsc28gZHJvcCBhbGwgdGhlIGNvZGUgYWJvdmUu
Cgo+IC0JcmVtb3RlX2lucHV0ID0gb2ZfZ3JhcGhfZ2V0X3JlbW90ZV9lbmRwb2ludChsb2NhbF9v
dXRwdXQpOwo+IC0KPiAtCWZvcl9lYWNoX2VuZHBvaW50X29mX25vZGUocmVtb3RlLCBub2RlKSB7
Cj4gLQkJaWYgKG5vZGUgIT0gcmVtb3RlX2lucHV0KSB7Cj4gLQkJCS8qCj4gLQkJCSAqIFdlJ3Zl
IGZvdW5kIG9uZSBlbmRwb2ludCBvdGhlciB0aGFuIHRoZSBpbnB1dCwgdGhpcwo+IC0JCQkgKiBt
dXN0IGJlIGEgYnJpZGdlLgo+IC0JCQkgKi8KPiAtCQkJaXNfYnJpZGdlID0gdHJ1ZTsKPiAtCQkJ
b2Zfbm9kZV9wdXQobm9kZSk7Cj4gLQkJCWJyZWFrOwo+IC0JCX0KPiAtCX0KPiAtCj4gLQlpZiAo
aXNfYnJpZGdlKSB7Cj4gLQkJbHZkcy0+bmV4dF9icmlkZ2UgPSBvZl9kcm1fZmluZF9icmlkZ2Uo
cmVtb3RlKTsKPiAtCQlpZiAoIWx2ZHMtPm5leHRfYnJpZGdlKSB7Cj4gLQkJCXJldCA9IC1FUFJP
QkVfREVGRVI7Cj4gLQkJCWdvdG8gZG9uZTsKPiAtCQl9Cj4gLQo+IC0JCWlmIChsdmRzLT5pbmZv
LT5xdWlya3MgJiBSQ0FSX0xWRFNfUVVJUktfRFVBTF9MSU5LKQo+IC0JCQlsdmRzLT5kdWFsX2xp
bmsgPSBsdmRzLT5uZXh0X2JyaWRnZS0+dGltaW5ncwo+IC0JCQkJCT8gbHZkcy0+bmV4dF9icmlk
Z2UtPnRpbWluZ3MtPmR1YWxfbGluawo+IC0JCQkJCTogZmFsc2U7CgpBcmVuJ3QgeW91IGJyZWFr
aW5nIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCB0aGlzIGNoYW5nZSA/IFVubGVzcyBJJ20K
bWlzdGFrZW4geW91J3JlIG5vdyByZXF1aXJpbmcgdGhlIG5ldyBEVCBwcm9wZXJ0aWVzLCBhbmQg
dGhlIGV4aXN0aW5nIERUCnRoYXQgaW5jbHVkZSBhIHRoYzYzbHZkMTAyNCB3b24ndCBoYXZlIHRo
ZW0uCgo+IC0JfSBlbHNlIHsKPiAtCQlsdmRzLT5wYW5lbCA9IG9mX2RybV9maW5kX3BhbmVsKHJl
bW90ZSk7Cj4gLQkJaWYgKElTX0VSUihsdmRzLT5wYW5lbCkpIHsKPiAtCQkJcmV0ID0gUFRSX0VS
UihsdmRzLT5wYW5lbCk7Cj4gLQkJCWdvdG8gZG9uZTsKPiAtCQl9Cj4gKwlyZXQgPSBkcm1fb2Zf
ZmluZF9wYW5lbF9vcl9icmlkZ2UobHZkcy0+ZGV2LT5vZl9ub2RlLCAxLCAwLAo+ICsJCQkJCSAg
Jmx2ZHMtPnBhbmVsLCAmbHZkcy0+bmV4dF9icmlkZ2UpOwo+ICsJaWYgKHJldCkgewo+ICsJCXJl
dCA9IC1FUFJPQkVfREVGRVI7CgpTaG91bGRuJ3QgeW91IHJldHVybiByZXQgaW5zdGVhZCBvZiBv
dmVycmlkaW5nIGl0ID8KCj4gKwkJZ290byBkb25lOwo+ICAJfQo+IC0KPiAtCWlmIChsdmRzLT5k
dWFsX2xpbmspCj4gKwlpZiAobHZkcy0+aW5mby0+cXVpcmtzICYgUkNBUl9MVkRTX1FVSVJLX0RV
QUxfTElOSykKPiAgCQlyZXQgPSByY2FyX2x2ZHNfcGFyc2VfZHRfY29tcGFuaW9uKGx2ZHMpOwo+
ICAKPiAgZG9uZToKPiAgCW9mX25vZGVfcHV0KGxvY2FsX291dHB1dCk7Cj4gLQlvZl9ub2RlX3B1
dChyZW1vdGVfaW5wdXQpOwo+ICAJb2Zfbm9kZV9wdXQocmVtb3RlKTsKPiAgCj4gIAkvKgoKLS0g
ClJlZ2FyZHMsCgpMYXVyZW50IFBpbmNoYXJ0Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3Rz
LmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xp
c3RpbmZvL2RyaS1kZXZlbA==
