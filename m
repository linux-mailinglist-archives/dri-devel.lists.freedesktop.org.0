Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 2AF468D292
	for <lists+dri-devel@lfdr.de>; Wed, 14 Aug 2019 13:55:15 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 913A76E152;
	Wed, 14 Aug 2019 11:54:59 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from metis.ext.pengutronix.de (metis.ext.pengutronix.de
 [IPv6:2001:67c:670:201:290:27ff:fe1d:cc33])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 483CD899BB
 for <dri-devel@lists.freedesktop.org>; Wed, 14 Aug 2019 11:54:57 +0000 (UTC)
Received: from dude02.hi.pengutronix.de ([2001:67c:670:100:1d::28]
 helo=dude02.pengutronix.de.)
 by metis.ext.pengutronix.de with esmtp (Exim 4.92)
 (envelope-from <p.zabel@pengutronix.de>)
 id 1hxrrj-00036w-FF; Wed, 14 Aug 2019 13:54:55 +0200
From: Philipp Zabel <p.zabel@pengutronix.de>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH 3/7] gpu: ipu-v3: image-convert: limit input seam position to
 hardware requirements
Date: Wed, 14 Aug 2019 13:54:40 +0200
Message-Id: <20190814115444.13024-3-p.zabel@pengutronix.de>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190814115444.13024-1-p.zabel@pengutronix.de>
References: <20190814115444.13024-1-p.zabel@pengutronix.de>
MIME-Version: 1.0
X-SA-Exim-Connect-IP: 2001:67c:670:100:1d::28
X-SA-Exim-Mail-From: p.zabel@pengutronix.de
X-SA-Exim-Scanned: No (on metis.ext.pengutronix.de);
 SAEximRunCond expanded to false
X-PTX-Original-Recipient: dri-devel@lists.freedesktop.org
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: kernel@pengutronix.de, Steve Longerbeam <slongerbeam@gmail.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

TGltaXQgdGhlIGlucHV0IHNlYW0gcG9zaXRpb24gdG8gYW4gaW50ZXJ2YWwgdGhhdCBndWFyYW50
ZWVzIHRoZSB0aWxlCnNpemUgZG9lcyBub3QgZXhjZWVkIDEwMjQgcGl4ZWxzIGFmdGVyIHRoZSBJ
QyBkb3duc2l6aW5nIHNlY3Rpb24gYW5kCnRoYXQgc3BhY2UgaXMgbGVmdCBmb3IgdGhlIG5leHQg
dGlsZS4KClNpZ25lZC1vZmYtYnk6IFBoaWxpcHAgWmFiZWwgPHAuemFiZWxAcGVuZ3V0cm9uaXgu
ZGU+Ci0tLQogZHJpdmVycy9ncHUvaXB1LXYzL2lwdS1pbWFnZS1jb252ZXJ0LmMgfCAzMCArKysr
KysrKysrKysrKysrKysrKy0tLS0tLQogMSBmaWxlIGNoYW5nZWQsIDI0IGluc2VydGlvbnMoKyks
IDYgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvaXB1LXYzL2lwdS1pbWFn
ZS1jb252ZXJ0LmMgYi9kcml2ZXJzL2dwdS9pcHUtdjMvaXB1LWltYWdlLWNvbnZlcnQuYwppbmRl
eCA0YWM3Mzc3Y2ZlNWMuLjlmNjMxYTBjMzllYSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvaXB1
LXYzL2lwdS1pbWFnZS1jb252ZXJ0LmMKKysrIGIvZHJpdmVycy9ncHUvaXB1LXYzL2lwdS1pbWFn
ZS1jb252ZXJ0LmMKQEAgLTQ4MSwxMiArNDgxLDIzIEBAIHN0YXRpYyB2b2lkIGZpbmRfYmVzdF9z
ZWFtKHN0cnVjdCBpcHVfaW1hZ2VfY29udmVydF9jdHggKmN0eCwKIAl1bnNpZ25lZCBpbnQgbWlu
X2RpZmYgPSBVSU5UX01BWDsKIAl1bnNpZ25lZCBpbnQgb3V0X3N0YXJ0OwogCXVuc2lnbmVkIGlu
dCBvdXRfZW5kOworCXVuc2lnbmVkIGludCBpbl9zdGFydDsKKwl1bnNpZ25lZCBpbnQgaW5fZW5k
OwogCiAJLyogU3RhcnQgd2l0aGluIDEwMjQgcGl4ZWxzIG9mIHRoZSByaWdodCAvIGJvdHRvbSBl
ZGdlICovCiAJb3V0X3N0YXJ0ID0gbWF4X3QoaW50LCBpbmRleCAqIG91dF9hbGlnbiwgb3V0X2Vk
Z2UgLSAxMDI0KTsKIAkvKiBFbmQgYmVmb3JlIGhhdmluZyB0byBhZGQgbW9yZSBjb2x1bW5zIHRv
IHRoZSBsZWZ0IC8gcm93cyBhYm92ZSAqLwogCW91dF9lbmQgPSBtaW5fdCh1bnNpZ25lZCBpbnQs
IG91dF9lZGdlLCBpbmRleCAqIDEwMjQgKyAxKTsKIAorCS8qCisJICogTGltaXQgaW5wdXQgc2Vh
bSBwb3NpdGlvbiB0byBtYWtlIHN1cmUgdGhhdCB0aGUgZG93bnNpemVkIGlucHV0IHRpbGUKKwkg
KiB0byB0aGUgcmlnaHQgb3IgYm90dG9tIGRvZXMgbm90IGV4Y2VlZCAxMDI0IHBpeGVscy4KKwkg
Ki8KKwlpbl9zdGFydCA9IG1heF90KGludCwgaW5kZXggKiBpbl9hbGlnbiwKKwkJCSBpbl9lZGdl
IC0gKDEwMjQgPDwgZG93bnNpemVfY29lZmYpKTsKKwlpbl9lbmQgPSBtaW5fdCh1bnNpZ25lZCBp
bnQsIGluX2VkZ2UsCisJCSAgICAgICBpbmRleCAqICgxMDI0IDw8IGRvd25zaXplX2NvZWZmKSAr
IDEpOworCiAJLyoKIAkgKiBPdXRwdXQgdGlsZXMgbXVzdCBzdGFydCBhdCBhIG11bHRpcGxlIG9m
IDggYnl0ZXMgaG9yaXpvbnRhbGx5IGFuZAogCSAqIHBvc3NpYmx5IGF0IGFuIGV2ZW4gbGluZSBo
b3Jpem9udGFsbHkgZGVwZW5kaW5nIG9uIHRoZSBwaXhlbCBmb3JtYXQuCkBAIC00OTYsNiArNTA3
LDcgQEAgc3RhdGljIHZvaWQgZmluZF9iZXN0X3NlYW0oc3RydWN0IGlwdV9pbWFnZV9jb252ZXJ0
X2N0eCAqY3R4LAogCWZvciAob3V0X3BvcyA9IG91dF9zdGFydDsgb3V0X3BvcyA8IG91dF9lbmQ7
IG91dF9wb3MgKz0gb3V0X2FsaWduKSB7CiAJCXVuc2lnbmVkIGludCBpbl9wb3M7CiAJCXVuc2ln
bmVkIGludCBpbl9wb3NfYWxpZ25lZDsKKwkJdW5zaWduZWQgaW50IGluX3Bvc19yb3VuZGVkOwog
CQl1bnNpZ25lZCBpbnQgYWJzX2RpZmY7CiAKIAkJLyoKQEAgLTUxNiw5ICs1MjgsMTYgQEAgc3Rh
dGljIHZvaWQgZmluZF9iZXN0X3NlYW0oc3RydWN0IGlwdV9pbWFnZV9jb252ZXJ0X2N0eCAqY3R4
LAogCQkgKiBzdGFydCB0aGUgaW5wdXQgdGlsZSBhdCwgMTkuMTMgZml4ZWQgcG9pbnQuCiAJCSAq
LwogCQlpbl9wb3NfYWxpZ25lZCA9IHJvdW5kX2Nsb3Nlc3QoaW5fcG9zLCA4MTkyVSAqIGluX2Fs
aWduKTsKKwkJLyogQ29udmVydCAxOS4xMyBmaXhlZCBwb2ludCB0byBpbnRlZ2VyICovCisJCWlu
X3Bvc19yb3VuZGVkID0gaW5fcG9zX2FsaWduZWQgLyA4MTkyVTsKKworCQlpZiAoaW5fcG9zX3Jv
dW5kZWQgPCBpbl9zdGFydCkKKwkJCWNvbnRpbnVlOworCQlpZiAoaW5fcG9zX3JvdW5kZWQgPj0g
aW5fZW5kKQorCQkJYnJlYWs7CiAKIAkJaWYgKChpbl9idXJzdCA+IDEpICYmCi0JCSAgICAoaW5f
ZWRnZSAtIGluX3Bvc19hbGlnbmVkIC8gODE5MlUpICUgaW5fYnVyc3QpCisJCSAgICAoaW5fZWRn
ZSAtIGluX3Bvc19yb3VuZGVkKSAlIGluX2J1cnN0KQogCQkJY29udGludWU7CiAKIAkJaWYgKGlu
X3BvcyA8IGluX3Bvc19hbGlnbmVkKQpAQCAtNTI3LDE5ICs1NDYsMTggQEAgc3RhdGljIHZvaWQg
ZmluZF9iZXN0X3NlYW0oc3RydWN0IGlwdV9pbWFnZV9jb252ZXJ0X2N0eCAqY3R4LAogCQkJYWJz
X2RpZmYgPSBpbl9wb3MgLSBpbl9wb3NfYWxpZ25lZDsKIAogCQlpZiAoYWJzX2RpZmYgPCBtaW5f
ZGlmZikgewotCQkJaW5fc2VhbSA9IGluX3Bvc19hbGlnbmVkOworCQkJaW5fc2VhbSA9IGluX3Bv
c19yb3VuZGVkOwogCQkJb3V0X3NlYW0gPSBvdXRfcG9zOwogCQkJbWluX2RpZmYgPSBhYnNfZGlm
ZjsKIAkJfQogCX0KIAogCSpfb3V0X3NlYW0gPSBvdXRfc2VhbTsKLQkvKiBDb252ZXJ0IDE5LjEz
IGZpeGVkIHBvaW50IHRvIGludGVnZXIgc2VhbSBwb3NpdGlvbiAqLwotCSpfaW5fc2VhbSA9IERJ
Vl9ST1VORF9DTE9TRVNUKGluX3NlYW0sIDgxOTJVKTsKKwkqX2luX3NlYW0gPSBpbl9zZWFtOwog
Ci0JZGV2X2RiZyhkZXYsICIlczogb3V0X3NlYW0gJXUoJXUpIGluIFsldSwgJXVdLCBpbl9zZWFt
ICV1KCV1KSBkaWZmICV1LiUwM3VcbiIsCisJZGV2X2RiZyhkZXYsICIlczogb3V0X3NlYW0gJXUo
JXUpIGluIFsldSwgJXVdLCBpbl9zZWFtICV1KCV1KSBpbiBbJXUsICV1XSBkaWZmICV1LiUwM3Vc
biIsCiAJCV9fZnVuY19fLCBvdXRfc2VhbSwgb3V0X2FsaWduLCBvdXRfc3RhcnQsIG91dF9lbmQs
Ci0JCSpfaW5fc2VhbSwgaW5fYWxpZ24sIG1pbl9kaWZmIC8gODE5MiwKKwkJaW5fc2VhbSwgaW5f
YWxpZ24sIGluX3N0YXJ0LCBpbl9lbmQsIG1pbl9kaWZmIC8gODE5MiwKIAkJRElWX1JPVU5EX0NM
T1NFU1QobWluX2RpZmYgJSA4MTkyICogMTAwMCwgODE5MikpOwogfQogCi0tIAoyLjIwLjEKCl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBt
YWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3Rz
LmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
