Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 45A2F2A7E5C
	for <lists+dri-devel@lfdr.de>; Thu,  5 Nov 2020 13:12:24 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 9B8516E17C;
	Thu,  5 Nov 2020 12:12:20 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ed1-x542.google.com (mail-ed1-x542.google.com
 [IPv6:2a00:1450:4864:20::542])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 387A16E17C
 for <dri-devel@lists.freedesktop.org>; Thu,  5 Nov 2020 12:12:19 +0000 (UTC)
Received: by mail-ed1-x542.google.com with SMTP id o18so1279009edq.4
 for <dri-devel@lists.freedesktop.org>; Thu, 05 Nov 2020 04:12:19 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=reply-to:subject:to:cc:references:from:message-id:date:user-agent
 :mime-version:in-reply-to:content-transfer-encoding:content-language;
 bh=Du8fC+gRancvFUthKIqKD7VZpc2/xcvkbUCujBz6ve0=;
 b=jeIaA8pddsCKr/4TbGW2tGtBZqPvc5nYlJMqA8+d/8biwE5EOIeoPItWPVTzl4ukd2
 V3cKwgu34Gg7unM5/cKm2A+w5ZSKJm3J0aL0meC7gFtiOB2WcSeK5LPG7M6dKPTUYqE+
 EXjeauLOrxNO6FjUVLB4wo2YI6guyq197HlaodWHVFlRSd65cGDHNGnCei04dex0xABM
 FbsC6Q9yVlJ6Xc2g19aOkfBnHAmo6VGXJGBHQfguBzOQXmYUZa04yM1wipeOM2s3ojCg
 6g50szvjVIK7LbTMfYi70/vJwpN4izi375i6SVXdyS1yFdRLQZdLTvCVVmEwgZpWepXR
 9QoA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:reply-to:subject:to:cc:references:from
 :message-id:date:user-agent:mime-version:in-reply-to
 :content-transfer-encoding:content-language;
 bh=Du8fC+gRancvFUthKIqKD7VZpc2/xcvkbUCujBz6ve0=;
 b=cA/AO5JLQimdj0SBNobOS2nwia4TY2etWYzprEXxyZHA11z+6Ubd/EZBwEVGuqbVIb
 cpM5IAMxOH4IS8oR9+TnpgvzpkMQzAeXLTSKZ2RyXZXiwwmsooaPBj9BBtzu4SK5oBR5
 pROH27kGBdxM0ec4WQgaRFKaCFQ2O+f7+MFvmHn+7ydWvRiLGxjN9peVhhNyLpdntiZR
 9Upa/xn9KPGBOwoKvM8WaMeX0C+fm3TtKSHcnVgcMpBZ9AG9pcNMDaRdL8hv4XBgu6I4
 uGGUUIZtgIDdcE7w5qcR3jUMQ2CFO95+GDR8uNWafb7MGM7+5yxJLirTKWtpFQfhJZ53
 QXvw==
X-Gm-Message-State: AOAM532eizfIzjBblcB9UhjBJdp1S8p31SDNUlRU3HaOL/pireMde2UY
 dDNmPFNpQItccbUHI3iaguSPN+jaq7g=
X-Google-Smtp-Source: ABdhPJwnPWqSmJsFzBNRKKc2lNzS8LeTKD54VGIJUlsYh3puPyI0Z0Kll96Fjd8HnR6NHMKjAw9Cbg==
X-Received: by 2002:a50:9e86:: with SMTP id a6mr2180220edf.238.1604578337608; 
 Thu, 05 Nov 2020 04:12:17 -0800 (PST)
Received: from ?IPv6:2a02:908:1252:fb60:be8a:bd56:1f94:86e7?
 ([2a02:908:1252:fb60:be8a:bd56:1f94:86e7])
 by smtp.gmail.com with ESMTPSA id b1sm835794ejg.60.2020.11.05.04.12.16
 (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
 Thu, 05 Nov 2020 04:12:17 -0800 (PST)
Subject: Re: [PATCH 1/4] drm/radeon: stop using pages with
 drm_prime_sg_to_page_addr_arrays
To: Daniel Vetter <daniel@ffwll.ch>
References: <20201104130024.264974-1-christian.koenig@amd.com>
 <20201104173800.GP401619@phenom.ffwll.local>
From: =?UTF-8?Q?Christian_K=c3=b6nig?= <ckoenig.leichtzumerken@gmail.com>
Message-ID: <c34c56ad-9a02-46be-2c58-0b2d42d86b5c@gmail.com>
Date: Thu, 5 Nov 2020 13:12:15 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101
 Thunderbird/68.10.0
MIME-Version: 1.0
In-Reply-To: <20201104173800.GP401619@phenom.ffwll.local>
Content-Language: en-US
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Reply-To: christian.koenig@amd.com
Cc: dri-devel@lists.freedesktop.org
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QW0gMDQuMTEuMjAgdW0gMTg6Mzggc2NocmllYiBEYW5pZWwgVmV0dGVyOgo+IE9uIFdlZCwgTm92
IDA0LCAyMDIwIGF0IDAyOjAwOjIxUE0gKzAxMDAsIENocmlzdGlhbiBLw7ZuaWcgd3JvdGU6Cj4+
IFRoaXMgaXMgZGVwcmVjYXRlZC4KPj4KPj4gU2lnbmVkLW9mZi1ieTogQ2hyaXN0aWFuIEvDtm5p
ZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPgo+IFNvIEkgdHJpZWQgdG8gcHJvdmUgdG8gbXlz
ZWxmIHRoYXQgdHRtIGRvZXNuJ3QgYWNjZXNzIC0+cGFnZXMgZm9yIHRoZXNlCj4gY2FzZXMsIGFu
ZCBraW5kYSBjb3VsZG4ndC4gV2Ugc3RpbGwgc2VlbSB0byBhbGxvY2F0ZSB0aGUgcGFnZXMgYXJy
YXkgYW5kCj4gYWxsIHRoYXQsIGFuZCB0aGVyZSdzIGxvdHMgb2YgY29kZSB1c2luZyAtPnBhZ2Vz
IGFsbCBvdmVyLiBBbmQgYmV0d2Vlbgo+IHR0bV9ib190eXBlX3NnIGFuZCBUVE1fUEFHRV9GTEFH
X1NHIEkgZGlkbid0IG1hbmFnZSB0byBjaGFzZSBhIHdob2xlIGxvdAo+IG9mIHBhdGhzIHRvIHRo
ZWlyIGZ1bGwgY29uY2x1c2lvbi4KCk5vcGUsIHNlZSB0aGUgYW1kZ3B1IGNvZGU6Cgo+IGlmICh0
dG1fc2dfdHRfaW5pdCgmZ3R0LT50dG0sIGJvLCBwYWdlX2ZsYWdzLCBjYWNoaW5nKSkgewoKQW5k
IHRoZW4gd2hhdCB0dG1fc2dfdHRfaW5pdCgpIGRvZXM6Cgo+IMKgwqDCoMKgwqDCoMKgIGlmIChw
YWdlX2ZsYWdzICYgVFRNX1BBR0VfRkxBR19TRykKPiDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqAgcmV0ID0gdHRtX3NnX3R0X2FsbG9jX3BhZ2VfZGlyZWN0b3J5KHR0bSk7Cj4gwqDCoMKg
wqDCoMKgwqAgZWxzZQo+IMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCByZXQgPSB0dG1f
ZG1hX3R0X2FsbG9jX3BhZ2VfZGlyZWN0b3J5KHR0bSk7CgpBbmQgdGhlbiBmaW5hbGx5IHdoYXQg
dHRtX3NnX3R0X2FsbG9jX3BhZ2VfZGlyZWN0b3J5KCkgZG9lczoKCnR0bS0+ZG1hX2FkZHJlc3Mg
PSBrdm1hbGxvY19hcnJheSh0dG0tPm51bV9wYWdlcywuLi4uCgp0dG0tPnBhZ2VzIHNob3VsZCBi
ZSBOVUxMIGluIHRoaXMgY2FzZSBpZiBJJ20gbm90IGNvbXBsZXRlbHkgbWlzdGFrZW4uCgpGb3Ig
b3IgaW1wb3J0ZWQgRE1BLWJ1ZiBzIHdlIHNob3VsZG4ndCBoYXZlIGEgdHRtLT5wYWdlcyBpbiBh
bWRncHUgZm9yIApxdWl0ZSBhIHdoaWxlIGFuZCB0aGF0IHdvcmtzIHBlcmZlY3RseSBmaW5lLgoK
CgoKPiBTbyBJIHJlZHVjZWQgbXkgYW1iaXRpb25zIGFuZCB3YW50ZWQgdG8gcHJvdmUgdGhhdCBh
dCBsZWFzdCBmb3IgZG1hLWJ1Zgo+IGltcG9ydHMgYWthIHR0bV9ib190eXBlX3NnLCB3ZSdyZSBn
dWFyYW50ZWVkIHRoYXQgd2UgZG9uJ3QgdHJ5IHRvIG1tYXAKPiB0aGVzZSB0byB1c2Vyc3BhY2Uu
IEFuZCBhbHNvIGZhaWxlZCB0byBmaW5kIHRoYXQgY2hlY2suCgpTZWUgdHRtX2JvX3ZtX3Jlc2Vy
dmUoKToKPiDCoMKgwqDCoMKgwqDCoCAvKgo+IMKgwqDCoMKgwqDCoMKgwqAgKiBSZWZ1c2UgdG8g
ZmF1bHQgaW1wb3J0ZWQgcGFnZXMuIFRoaXMgc2hvdWxkIGJlIGhhbmRsZWQKPiDCoMKgwqDCoMKg
wqDCoMKgICogKGlmIGF0IGFsbCkgYnkgcmVkaXJlY3RpbmcgbW1hcCB0byB0aGUgZXhwb3J0ZXIu
Cj4gwqDCoMKgwqDCoMKgwqDCoCAqLwo+IMKgwqDCoMKgwqDCoMKgIGlmIChiby0+dHRtICYmIChi
by0+dHRtLT5wYWdlX2ZsYWdzICYgVFRNX1BBR0VfRkxBR19TRykpIHsKPiDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqAgZG1hX3Jlc3ZfdW5sb2NrKGJvLT5iYXNlLnJlc3YpOwo+IMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCByZXR1cm4gVk1fRkFVTFRfU0lHQlVTOwo+IMKgwqDC
oMKgwqDCoMKgIH0KCgo+IGJ0dyB0aGlzIGlzIGFjcm9zcyBhbGwgZHJpdmVycywgbW9zdGx5IHR0
bSBjb2RlLCBub3QgcmFkZW9uIHNwZWNpZmljLgoKV2VsbCBpbnN0ZWFkIG9mIHRob3NlIHBhdGNo
ZXMgd2UgY291bGQgYXMgd2VsbCBzd2l0Y2ggb3ZlciByYWRlb24gYW5kIApub3V2ZWF1IHRvIHVz
aW5nIHR0bV9zZ190dF9pbml0KCkgYXMgd2VsbCAob3IgbWVyZ2UgdHRtX3NnX3R0X2luaXQoKSAK
aW50byB0dG1fZG1hX3R0X2luaXQpLgoKVGhhdCdzIHByb2JhYmx5IHRoZSBtdWNoIGNsZWFuZXIg
YXBwcm9hY2gsIGJ1dCB3aGVuIEkgd3JvdGUgCnR0bV9zZ190dF9pbml0KCkgSSB3YXNuJ3Qgc3Vy
ZSBpZiByYWRlb24vbm91dmVhdSB3aGVyZSB1c2luZyB0dG0tPnBhZ2VzIApmb3Igc29tZXRoaW5n
LCBlLmcuIGJhc2ljYWxseSB0aGUgc2FtZSBjb25jZXJuIHlvdSBoYXZlLgoKUmVnYXJkcywKQ2hy
aXN0aWFuLgoKPiBTbyBjb25jbHVzaW9uLCBzdGlsbCBhIG1lc3MgaGVyZSB0aGF0IGF0IGxlYXN0
IEkgY2FuJ3Qgc2VlIHRocm91ZyBjbGVhcmx5Cj4gOi0vIGhlcmUgPSB0dG1fdHQgYW5kIHRoZSBl
bnRpcmUgYmFja2luZyBzdG9yYWdlIGhhbmRsaW5nIGFuZCBldmVyeXRoaW5nCj4gdGhhdCB0aWVz
IGludG8gaXQuIFByb2JhYmx5IHRoZSBhcmVhIHRoYXQgc3RpbGwgaGFzIHRoZSBtb3N0IG1pZGxh
eWVyIGZlZWwKPiB0byB0dG0gd2l0aCBhbGwgdGhlIHJlZmFjdG9yaW5nIGluLWZsaWdodCBpbiBz
dGlsbC4KPgo+IHRsZHI7IHRyaWVkIHRvIHJldmlldyBwYXRjaGVzIDEtMywgZ2F2ZSB1cC4KPgo+
IENoZWVycywgRGFuaWVsCj4KPj4gLS0tCj4+ICAgZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRl
b25fdHRtLmMgfCA5ICsrKysrLS0tLQo+PiAgIDEgZmlsZSBjaGFuZ2VkLCA1IGluc2VydGlvbnMo
KyksIDQgZGVsZXRpb25zKC0pCj4+Cj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcmFk
ZW9uL3JhZGVvbl90dG0uYyBiL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFkZW9uX3R0bS5jCj4+
IGluZGV4IDk1MDM4YWMzMzgyZS4uZjQxZmNlZTM1ZjcwIDEwMDY0NAo+PiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vcmFkZW9uL3JhZGVvbl90dG0uYwo+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vcmFk
ZW9uL3JhZGVvbl90dG0uYwo+PiBAQCAtNDk0LDggKzQ5NCw4IEBAIHN0YXRpYyBpbnQgcmFkZW9u
X3R0bV90dF9waW5fdXNlcnB0cihzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgc3RydWN0IHR0
bV90dCAqCj4+ICAgCWlmIChyKQo+PiAgIAkJZ290byByZWxlYXNlX3NnOwo+PiAgIAo+PiAtCWRy
bV9wcmltZV9zZ190b19wYWdlX2FkZHJfYXJyYXlzKHR0bS0+c2csIHR0bS0+cGFnZXMsCj4+IC0J
CQkJCSBndHQtPnR0bS5kbWFfYWRkcmVzcywgdHRtLT5udW1fcGFnZXMpOwo+PiArCWRybV9wcmlt
ZV9zZ190b19wYWdlX2FkZHJfYXJyYXlzKHR0bS0+c2csIE5VTEwsIGd0dC0+dHRtLmRtYV9hZGRy
ZXNzLAo+PiArCQkJCQkgdHRtLT5udW1fcGFnZXMpOwo+PiAgIAo+PiAgIAlyZXR1cm4gMDsKPj4g
ICAKPj4gQEAgLTY3Myw4ICs2NzMsOSBAQCBzdGF0aWMgaW50IHJhZGVvbl90dG1fdHRfcG9wdWxh
dGUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4+ICAgCX0KPj4gICAKPj4gICAJaWYgKHNs
YXZlICYmIHR0bS0+c2cpIHsKPj4gLQkJZHJtX3ByaW1lX3NnX3RvX3BhZ2VfYWRkcl9hcnJheXMo
dHRtLT5zZywgdHRtLT5wYWdlcywKPj4gLQkJCQkJCSBndHQtPnR0bS5kbWFfYWRkcmVzcywgdHRt
LT5udW1fcGFnZXMpOwo+PiArCQlkcm1fcHJpbWVfc2dfdG9fcGFnZV9hZGRyX2FycmF5cyh0dG0t
PnNnLCBOVUxMLAo+PiArCQkJCQkJIGd0dC0+dHRtLmRtYV9hZGRyZXNzLAo+PiArCQkJCQkJIHR0
bS0+bnVtX3BhZ2VzKTsKPj4gICAJCXJldHVybiAwOwo+PiAgIAl9Cj4+ICAgCj4+IC0tIAo+PiAy
LjI1LjEKPj4KPj4gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X18KPj4gZHJpLWRldmVsIG1haWxpbmcgbGlzdAo+PiBkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0
b3Aub3JnCj4+IGh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8v
ZHJpLWRldmVsCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
XwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcK
aHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWwK
