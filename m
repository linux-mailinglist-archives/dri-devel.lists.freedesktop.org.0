Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 3830F68820
	for <lists+dri-devel@lfdr.de>; Mon, 15 Jul 2019 13:24:30 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C09DF89998;
	Mon, 15 Jul 2019 11:24:22 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga18.intel.com (mga18.intel.com [134.134.136.126])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C55E289993
 for <dri-devel@lists.freedesktop.org>; Mon, 15 Jul 2019 11:24:18 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by orsmga106.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 15 Jul 2019 04:24:18 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.63,493,1557212400"; d="scan'208";a="161054925"
Received: from ovasilev-desk1.fi.intel.com ([10.237.72.57])
 by orsmga008.jf.intel.com with ESMTP; 15 Jul 2019 04:24:17 -0700
From: Oleg Vasilev <oleg.vasilev@intel.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH v2 3/6] drm: report dp downstream port type as a subconnector
 property
Date: Mon, 15 Jul 2019 14:23:31 +0300
Message-Id: <20190715112408.20114-4-oleg.vasilev@intel.com>
X-Mailer: git-send-email 2.22.0
In-Reply-To: <20190715112408.20114-1-oleg.vasilev@intel.com>
References: <20190701080022.9415-1-oleg.vasilev@intel.com>
 <20190715112408.20114-1-oleg.vasilev@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Q3VycmVudGx5LCBkb3duc3RyZWFtIHBvcnQgdHlwZSBpcyBvbmx5IHJlcG9ydGVkIGluIGRlYnVn
ZnMuIFRoaXMKaW5mb3JtYXRpb24gc2hvdWxkIGJlIGNvbnNpZGVyZWQgaW1wb3J0YW50IHNpbmNl
IGl0IHJlZmxlY3RzIHRoZSBhY3R1YWwKcGh5c2ljYWwgY29ubmVjdG9yIHR5cGUuIFNvbWUgdXNl
cnNwYWNlIChlLmcuIHdpbmRvdyBjb21wb3NpdG9ycykKbWF5IHdhbnQgdG8gc2hvdyB0aGlzIGlu
Zm8gdG8gYSB1c2VyLgoKVGhlICdzdWJjb25uZWN0b3InIHByb3BlcnR5IGlzIGFscmVhZHkgdXRp
bGl6ZWQgZm9yIERWSS1JIGFuZCBUVi1vdXQgZm9yCnJlcG9ydGluZyBjb25uZWN0b3Igc3VidHlw
ZS4KClRoZSBpbml0aWFsIG1vdGl2YXRpb24gZm9yIHRoaXMgZmVhdHVyZSBjYW1lIGZyb20gaTJj
IHRlc3QgWzFdLgpJdCBpcyBzdXBwb3NlZCB0byBiZSBza2lwcGVkIG9uIFZHQSBjb25uZWN0b3Jz
LCBidXQgaXQgY2Fubm90CmRldGVjdCBWR0Egb3ZlciBEUCBhbmQgZmFpbHMgaW5zdGVhZC4KCnYy
OgogLSBWaWxsZTogdXRpbGl6ZWQgZHJtX2RwX2lzX2JyYW5jaCgpCiAtIFZpbGxlOiBpbXBsZW1l
bnQgRFAgMS4wIGRvd25zdHJlYW0gdHlwZSBpbmZvCiAtIFJlcGxhY2VkIGNyZWF0ZV9kcF9wcm9w
ZXJ0aWVzIHdpdGggYWRkX2RwX3N1YmNvbm5lY3Rvcl9wcm9wZXJ0eQogLSBBZGRlZCBkcF9zZXRf
c3ViY29ubmVjdG9yX3Byb3BlcnR5IGhlbHBlcgoKWzFdOiBodHRwczovL2J1Z3MuZnJlZWRlc2t0
b3Aub3JnL3Nob3dfYnVnLmNnaT9pZD0xMDQwOTcKU2lnbmVkLW9mZi1ieTogT2xlZyBWYXNpbGV2
IDxvbGVnLnZhc2lsZXZAaW50ZWwuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9kcm1fY29ubmVj
dG9yLmMgfCA0OSArKysrKysrKysrKysrKysrKysrKysrKy0KIGRyaXZlcnMvZ3B1L2RybS9kcm1f
ZHBfaGVscGVyLmMgfCA2OCArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysKIGluY2x1
ZGUvZHJtL2RybV9jb25uZWN0b3IuaCAgICAgfCAgMyArKwogaW5jbHVkZS9kcm0vZHJtX2RwX2hl
bHBlci5oICAgICB8ICA4ICsrKysKIGluY2x1ZGUvZHJtL2RybV9tb2RlX2NvbmZpZy5oICAgfCAg
NiArKysKIGluY2x1ZGUvdWFwaS9kcm0vZHJtX21vZGUuaCAgICAgfCAyMiArKysrKysrLS0tLQog
NiBmaWxlcyBjaGFuZ2VkLCAxNDYgaW5zZXJ0aW9ucygrKSwgMTAgZGVsZXRpb25zKC0pCgpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2RybV9jb25uZWN0b3IuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9kcm1fY29ubmVjdG9yLmMKaW5kZXggMDY4ZDRiMDVmMWJlLi5jMGI4MTc0OTIwYTggMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fY29ubmVjdG9yLmMKKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2RybV9jb25uZWN0b3IuYwpAQCAtNzkzLDcgKzc5Myw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1
Y3QgZHJtX3Byb3BfZW51bV9saXN0IGRybV9kdmlfaV9zZWxlY3RfZW51bV9saXN0W10gPSB7CiBE
Uk1fRU5VTV9OQU1FX0ZOKGRybV9nZXRfZHZpX2lfc2VsZWN0X25hbWUsIGRybV9kdmlfaV9zZWxl
Y3RfZW51bV9saXN0KQogCiBzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9wcm9wX2VudW1fbGlzdCBk
cm1fZHZpX2lfc3ViY29ubmVjdG9yX2VudW1fbGlzdFtdID0gewotCXsgRFJNX01PREVfU1VCQ09O
TkVDVE9SX1Vua25vd24sICAgIlVua25vd24iICAgfSwgLyogRFZJLUkgYW5kIFRWLW91dCAqLwor
CXsgRFJNX01PREVfU1VCQ09OTkVDVE9SX1Vua25vd24sICAgIlVua25vd24iICAgfSwgLyogRFZJ
LUksIFRWLW91dCBhbmQgRFAgKi8KIAl7IERSTV9NT0RFX1NVQkNPTk5FQ1RPUl9EVklELCAgICAg
ICJEVkktRCIgICAgIH0sIC8qIERWSS1JICAqLwogCXsgRFJNX01PREVfU1VCQ09OTkVDVE9SX0RW
SUEsICAgICAgIkRWSS1BIiAgICAgfSwgLyogRFZJLUkgICovCiB9OwpAQCAtODEwLDcgKzgxMCw3
IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX3Byb3BfZW51bV9saXN0IGRybV90dl9zZWxlY3Rf
ZW51bV9saXN0W10gPSB7CiBEUk1fRU5VTV9OQU1FX0ZOKGRybV9nZXRfdHZfc2VsZWN0X25hbWUs
IGRybV90dl9zZWxlY3RfZW51bV9saXN0KQogCiBzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9wcm9w
X2VudW1fbGlzdCBkcm1fdHZfc3ViY29ubmVjdG9yX2VudW1fbGlzdFtdID0gewotCXsgRFJNX01P
REVfU1VCQ09OTkVDVE9SX1Vua25vd24sICAgIlVua25vd24iICAgfSwgLyogRFZJLUkgYW5kIFRW
LW91dCAqLworCXsgRFJNX01PREVfU1VCQ09OTkVDVE9SX1Vua25vd24sICAgIlVua25vd24iICAg
fSwgLyogRFZJLUksIFRWLW91dCBhbmQgRFAgKi8KIAl7IERSTV9NT0RFX1NVQkNPTk5FQ1RPUl9D
b21wb3NpdGUsICJDb21wb3NpdGUiIH0sIC8qIFRWLW91dCAqLwogCXsgRFJNX01PREVfU1VCQ09O
TkVDVE9SX1NWSURFTywgICAgIlNWSURFTyIgICAgfSwgLyogVFYtb3V0ICovCiAJeyBEUk1fTU9E
RV9TVUJDT05ORUNUT1JfQ29tcG9uZW50LCAiQ29tcG9uZW50IiB9LCAvKiBUVi1vdXQgKi8KQEAg
LTgxOSw2ICs4MTksMTkgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fcHJvcF9lbnVtX2xpc3Qg
ZHJtX3R2X3N1YmNvbm5lY3Rvcl9lbnVtX2xpc3RbXSA9IHsKIERSTV9FTlVNX05BTUVfRk4oZHJt
X2dldF90dl9zdWJjb25uZWN0b3JfbmFtZSwKIAkJIGRybV90dl9zdWJjb25uZWN0b3JfZW51bV9s
aXN0KQogCitzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9wcm9wX2VudW1fbGlzdCBkcm1fZHBfc3Vi
Y29ubmVjdG9yX2VudW1fbGlzdFtdID0geworCXsgRFJNX01PREVfU1VCQ09OTkVDVE9SX1Vua25v
d24sICAgIlVua25vd24iICAgfSwgLyogRFZJLUksIFRWLW91dCBhbmQgRFAgKi8KKwl7IERSTV9N
T0RFX1NVQkNPTk5FQ1RPUl9WR0EsCSAgICJWR0EiICAgICAgIH0sIC8qIERQICovCisJeyBEUk1f
TU9ERV9TVUJDT05ORUNUT1JfRFZJLAkgICAiRFZJIiAgICAgICB9LCAvKiBEUCAqLworCXsgRFJN
X01PREVfU1VCQ09OTkVDVE9SX0hETUksCSAgICJIRE1JIiAgICAgIH0sIC8qIERQICovCisJeyBE
Uk1fTU9ERV9TVUJDT05ORUNUT1JfRFAsICAgICAgICAiRFAiICAgICAgICB9LCAvKiBEUCAqLwor
CXsgRFJNX01PREVfU1VCQ09OTkVDVE9SX1dpcmVsZXNzLCAgIldpcmVsZXNzIiAgfSwgLyogRFAg
Ki8KKwl7IERSTV9NT0RFX1NVQkNPTk5FQ1RPUl9OYXRpdmUsCSAgICJOYXRpdmUiICAgIH0sIC8q
IERQICovCit9OworCitEUk1fRU5VTV9OQU1FX0ZOKGRybV9nZXRfZHBfc3ViY29ubmVjdG9yX25h
bWUsCisJCSBkcm1fZHBfc3ViY29ubmVjdG9yX2VudW1fbGlzdCkKKwogc3RhdGljIGNvbnN0IHN0
cnVjdCBkcm1fcHJvcF9lbnVtX2xpc3QgaGRtaV9jb2xvcnNwYWNlc1tdID0gewogCS8qIEZvciBE
ZWZhdWx0IGNhc2UsIGRyaXZlciB3aWxsIHNldCB0aGUgY29sb3JzcGFjZSAqLwogCXsgRFJNX01P
REVfQ09MT1JJTUVUUllfREVGQVVMVCwgIkRlZmF1bHQiIH0sCkBAIC0xMDQwLDYgKzEwNTMsMTQg
QEAgc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fcHJvcF9lbnVtX2xpc3QgaGRtaV9jb2xvcnNwYWNl
c1tdID0gewogICoJY2FuIGFsc28gZXhwb3NlIHRoaXMgcHJvcGVydHkgdG8gZXh0ZXJuYWwgb3V0
cHV0cywgaW4gd2hpY2ggY2FzZSB0aGV5CiAgKgltdXN0IHN1cHBvcnQgIk5vbmUiLCB3aGljaCBz
aG91bGQgYmUgdGhlIGRlZmF1bHQgKHNpbmNlIGV4dGVybmFsIHNjcmVlbnMKICAqCWhhdmUgYSBi
dWlsdC1pbiBzY2FsZXIpLgorICoKKyAqIHN1YmNvbm5lY3RvcjoKKyAqCVRoaXMgcHJvcGVydHkg
aXMgdXNlZCBieSBEVkktSSwgVFZvdXQgYW5kIERpc3BsYXlQb3J0IHRvIGluZGljYXRlIGRpZmZl
cmVudAorICoJY29ubmVjdG9yIHN1YnR5cGVzLiBFbnVtIHZhbHVlcyBtb3JlIG9yIGxlc3MgbWF0
Y2ggd2l0aCB0aG9zZSBmcm9tIG1haW4KKyAqCWNvbm5lY3RvciB0eXBlcy4KKyAqCUZvciBEVkkt
SSBhbmQgVFZvdXQgdGhlcmUgaXMgYWxzbyBhIG1hdGNoaW5nIHByb3BlcnR5ICJzZWxlY3Qgc3Vi
Y29ubmVjdG9yIgorICoJYWxsb3dpbmcgdG8gc3dpdGNoIGJldHdlZW4gc2lnbmFsIHR5cGVzLgor
ICoJRFAgc3ViY29ubmVjdG9yIGNvcnJlc3BvbmRzIHRvIGEgZG93bnN0cmVhbSBwb3J0LgogICov
CiAKIGludCBkcm1fY29ubmVjdG9yX2NyZWF0ZV9zdGFuZGFyZF9wcm9wZXJ0aWVzKHN0cnVjdCBk
cm1fZGV2aWNlICpkZXYpCkBAIC0xMTI4LDYgKzExNDksMzAgQEAgaW50IGRybV9tb2RlX2NyZWF0
ZV9kdmlfaV9wcm9wZXJ0aWVzKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYpCiB9CiBFWFBPUlRfU1lN
Qk9MKGRybV9tb2RlX2NyZWF0ZV9kdmlfaV9wcm9wZXJ0aWVzKTsKIAorLyoqCisgKiBkcm1fbW9k
ZV9hZGRfZHBfc3ViY29ubmVjdG9yX3Byb3BlcnR5IC0gY3JlYXRlIHN1YmNvbm5lY3RvciBwcm9w
ZXJ0eSBmb3IgRFAKKyAqIEBjb25uZWN0b3I6IGRybV9jb25uZWN0b3IgdG8gYXR0YWNoIHByb3Bl
cnR5CisgKgorICogQ2FsbGVkIGJ5IGEgZHJpdmVyIHdoZW4gRFAgY29ubmVjdG9yIGlzIGNyZWF0
ZWQuCisgKi8KK3ZvaWQgZHJtX21vZGVfYWRkX2RwX3N1YmNvbm5lY3Rvcl9wcm9wZXJ0eShzdHJ1
Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQoreworCXN0cnVjdCBkcm1fbW9kZV9jb25maWcg
Km1vZGVfY29uZmlnID0gJmNvbm5lY3Rvci0+ZGV2LT5tb2RlX2NvbmZpZzsKKworCWlmICghbW9k
ZV9jb25maWctPmRwX3N1YmNvbm5lY3Rvcl9wcm9wZXJ0eSkKKwkJbW9kZV9jb25maWctPmRwX3N1
YmNvbm5lY3Rvcl9wcm9wZXJ0eSA9CisJCQlkcm1fcHJvcGVydHlfY3JlYXRlX2VudW0oY29ubmVj
dG9yLT5kZXYsCisJCQkJRFJNX01PREVfUFJPUF9JTU1VVEFCTEUsCisJCQkJInN1YmNvbm5lY3Rv
ciIsCisJCQkJZHJtX2RwX3N1YmNvbm5lY3Rvcl9lbnVtX2xpc3QsCisJCQkJQVJSQVlfU0laRShk
cm1fZHBfc3ViY29ubmVjdG9yX2VudW1fbGlzdCkpOworCisJZHJtX29iamVjdF9hdHRhY2hfcHJv
cGVydHkoJmNvbm5lY3Rvci0+YmFzZSwKKwkJCQkgICBtb2RlX2NvbmZpZy0+ZHBfc3ViY29ubmVj
dG9yX3Byb3BlcnR5LAorCQkJCSAgIERSTV9NT0RFX1NVQkNPTk5FQ1RPUl9Vbmtub3duKTsKK30K
K0VYUE9SVF9TWU1CT0woZHJtX21vZGVfYWRkX2RwX3N1YmNvbm5lY3Rvcl9wcm9wZXJ0eSk7CisK
IC8qKgogICogRE9DOiBIRE1JIGNvbm5lY3RvciBwcm9wZXJ0aWVzCiAgKgpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2RybV9kcF9oZWxwZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fZHBf
aGVscGVyLmMKaW5kZXggNjdmN2YzZTE5OTdiLi5jMmNjNDc5YjYzNWQgMTAwNjQ0Ci0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9kcm1fZHBfaGVscGVyLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2RybV9k
cF9oZWxwZXIuYwpAQCAtNjYxLDYgKzY2MSw3NCBAQCB2b2lkIGRybV9kcF9kb3duc3RyZWFtX2Rl
YnVnKHN0cnVjdCBzZXFfZmlsZSAqbSwKIH0KIEVYUE9SVF9TWU1CT0woZHJtX2RwX2Rvd25zdHJl
YW1fZGVidWcpOwogCisvKioKKyAqIGRybV9kcF9zdWJjb25uZWN0b3JfdHlwZSgpIC0gZ2V0IERQ
IGJyYW5jaCBkZXZpY2UgdHlwZQorICogQGRwY2Q6IERpc3BsYXlQb3J0IGNvbmZpZ3VyYXRpb24g
ZGF0YQorICogQHBvcnRfY2FwOiBwb3J0IGNhcGFiaWxpdGllcworICoKKyAqLworZW51bSBkcm1f
bW9kZV9zdWJjb25uZWN0b3IKK2RybV9kcF9zdWJjb25uZWN0b3JfdHlwZShjb25zdCB1OCBkcGNk
W0RQX1JFQ0VJVkVSX0NBUF9TSVpFXSwKKwkJCSBjb25zdCB1OCBwb3J0X2NhcFs0XSkKK3sKKwlp
bnQgdHlwZTsKKwlib29sIGJyYW5jaF9kZXZpY2VfcHJlc2VudCA9IGRybV9kcF9pc19icmFuY2go
ZHBjZCk7CisKKwlpZiAoIWJyYW5jaF9kZXZpY2VfcHJlc2VudCkKKwkJcmV0dXJuIERSTV9NT0RF
X1NVQkNPTk5FQ1RPUl9OYXRpdmU7CisJLyogRFAgMS4wIGFwcHJvYWNoICovCisJaWYgKGRwY2Rb
RFBfRFBDRF9SRVZdID09IERQX0RQQ0RfUkVWXzEwKSB7CisJCXR5cGUgPSBkcGNkW0RQX0RPV05T
VFJFQU1QT1JUX1BSRVNFTlRdICYKKwkJICAgICAgIERQX0RXTl9TVFJNX1BPUlRfVFlQRV9NQVNL
OworCQlpZiAodHlwZSA9PSBEUF9EV05fU1RSTV9QT1JUX1RZUEVfRFApCisJCQlyZXR1cm4gRFJN
X01PREVfU1VCQ09OTkVDVE9SX0RQOworCQlyZXR1cm4gRFJNX01PREVfU1VCQ09OTkVDVE9SX1Vu
a25vd247CisJfQorCXR5cGUgPSBwb3J0X2NhcFswXSAmIERQX0RTX1BPUlRfVFlQRV9NQVNLOwor
CisJc3dpdGNoICh0eXBlKSB7CisJY2FzZSBEUF9EU19QT1JUX1RZUEVfRFA6CisJY2FzZSBEUF9E
U19QT1JUX1RZUEVfRFBfRFVBTE1PREU6CisJCXJldHVybiBEUk1fTU9ERV9TVUJDT05ORUNUT1Jf
RFA7CisJY2FzZSBEUF9EU19QT1JUX1RZUEVfVkdBOgorCQlyZXR1cm4gRFJNX01PREVfU1VCQ09O
TkVDVE9SX1ZHQTsKKwljYXNlIERQX0RTX1BPUlRfVFlQRV9EVkk6CisJCXJldHVybiBEUk1fTU9E
RV9TVUJDT05ORUNUT1JfRFZJOworCWNhc2UgRFBfRFNfUE9SVF9UWVBFX0hETUk6CisJCXJldHVy
biBEUk1fTU9ERV9TVUJDT05ORUNUT1JfSERNSTsKKwljYXNlIERQX0RTX1BPUlRfVFlQRV9XSVJF
TEVTUzoKKwkJcmV0dXJuIERSTV9NT0RFX1NVQkNPTk5FQ1RPUl9XaXJlbGVzczsKKwljYXNlIERQ
X0RTX1BPUlRfVFlQRV9OT05fRURJRDoKKwlkZWZhdWx0OgorCQlyZXR1cm4gRFJNX01PREVfU1VC
Q09OTkVDVE9SX1Vua25vd247CisJfQorfQorRVhQT1JUX1NZTUJPTChkcm1fZHBfc3ViY29ubmVj
dG9yX3R5cGUpOworCisvKioKKyAqIGRybV9tb2RlX3NldF9kcF9zdWJjb25uZWN0b3JfcHJvcGVy
dHkgLSBzZXQgc3ViY29ubmVjdG9yIGZvciBEUCBjb25uZWN0b3IKKyAqIEBjb25uZWN0b3I6IGRw
IGNvbm5lY3RvciB0byBhdHRhY2ggcHJvcGVydHkKKyAqIEBzdGF0dXM6IGNvbm5lY3RvciBzdGF0
dXMgd2hpY2ggaXMgYWJvdXQgdG8gYmUgc2V0CisgKiBAZHBjZDogRGlzcGxheVBvcnQgY29uZmln
dXJhdGlvbiBkYXRhCisgKiBAcG9ydF9jYXA6IHBvcnQgY2FwYWJpbGl0aWVzCisgKgorICogQ2Fs
bGVkIGJ5IGEgZHJpdmVyIG9uIGV2ZXJ5IGRldGVjdCBldmVudC4KKyAqLwordm9pZCBkcm1fZHBf
c2V0X3N1YmNvbm5lY3Rvcl9wcm9wZXJ0eShzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9y
LAorCQkJCSAgICAgIGVudW0gZHJtX2Nvbm5lY3Rvcl9zdGF0dXMgc3RhdHVzLAorCQkJCSAgICAg
IGNvbnN0IHU4ICpkcGNkLAorCQkJCSAgICAgIGNvbnN0IHU4IHBvcnRfY2FwWzRdKQoreworCWVu
dW0gZHJtX21vZGVfc3ViY29ubmVjdG9yIHN1YmNvbm5lY3RvciA9IERSTV9NT0RFX1NVQkNPTk5F
Q1RPUl9Vbmtub3duOworCisJaWYgKHN0YXR1cyA9PSBjb25uZWN0b3Jfc3RhdHVzX2Nvbm5lY3Rl
ZCkKKwkJc3ViY29ubmVjdG9yID0gZHJtX2RwX3N1YmNvbm5lY3Rvcl90eXBlKGRwY2QsIHBvcnRf
Y2FwKTsKKwlkcm1fb2JqZWN0X3Byb3BlcnR5X3NldF92YWx1ZSgmY29ubmVjdG9yLT5iYXNlLAor
CQkJY29ubmVjdG9yLT5kZXYtPm1vZGVfY29uZmlnLmRwX3N1YmNvbm5lY3Rvcl9wcm9wZXJ0eSwK
KwkJCXN1YmNvbm5lY3Rvcik7Cit9CitFWFBPUlRfU1lNQk9MKGRybV9kcF9zZXRfc3ViY29ubmVj
dG9yX3Byb3BlcnR5KTsKKwogLyoKICAqIEkyQy1vdmVyLUFVWCBpbXBsZW1lbnRhdGlvbgogICov
CmRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS9kcm1fY29ubmVjdG9yLmggYi9pbmNsdWRlL2RybS9k
cm1fY29ubmVjdG9yLmgKaW5kZXggNGMzMGQ3NTE0ODdhLi5mNjUyOTIxMTIzMDcgMTAwNjQ0Ci0t
LSBhL2luY2x1ZGUvZHJtL2RybV9jb25uZWN0b3IuaAorKysgYi9pbmNsdWRlL2RybS9kcm1fY29u
bmVjdG9yLmgKQEAgLTE0ODMsOSArMTQ4MywxMiBAQCBjb25zdCBjaGFyICpkcm1fZ2V0X2R2aV9p
X3N1YmNvbm5lY3Rvcl9uYW1lKGludCB2YWwpOwogY29uc3QgY2hhciAqZHJtX2dldF9kdmlfaV9z
ZWxlY3RfbmFtZShpbnQgdmFsKTsKIGNvbnN0IGNoYXIgKmRybV9nZXRfdHZfc3ViY29ubmVjdG9y
X25hbWUoaW50IHZhbCk7CiBjb25zdCBjaGFyICpkcm1fZ2V0X3R2X3NlbGVjdF9uYW1lKGludCB2
YWwpOworY29uc3QgY2hhciAqZHJtX2dldF9kcF9zdWJjb25uZWN0b3JfbmFtZShpbnQgdmFsKTsK
IGNvbnN0IGNoYXIgKmRybV9nZXRfY29udGVudF9wcm90ZWN0aW9uX25hbWUoaW50IHZhbCk7CiAK
IGludCBkcm1fbW9kZV9jcmVhdGVfZHZpX2lfcHJvcGVydGllcyhzdHJ1Y3QgZHJtX2RldmljZSAq
ZGV2KTsKK3ZvaWQgZHJtX21vZGVfYWRkX2RwX3N1YmNvbm5lY3Rvcl9wcm9wZXJ0eShzdHJ1Y3Qg
ZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKTsKKwogaW50IGRybV9tb2RlX2NyZWF0ZV90dl9tYXJn
aW5fcHJvcGVydGllcyhzdHJ1Y3QgZHJtX2RldmljZSAqZGV2KTsKIGludCBkcm1fbW9kZV9jcmVh
dGVfdHZfcHJvcGVydGllcyhzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LAogCQkJCSAgdW5zaWduZWQg
aW50IG51bV9tb2RlcywKZGlmZiAtLWdpdCBhL2luY2x1ZGUvZHJtL2RybV9kcF9oZWxwZXIuaCBi
L2luY2x1ZGUvZHJtL2RybV9kcF9oZWxwZXIuaAppbmRleCBlMGMxNTdjZGU5ODYuLmQwYjJhZTU1
OGRiYSAxMDA2NDQKLS0tIGEvaW5jbHVkZS9kcm0vZHJtX2RwX2hlbHBlci5oCisrKyBiL2luY2x1
ZGUvZHJtL2RybV9kcF9oZWxwZXIuaApAQCAtMjYsNiArMjYsNyBAQAogI2luY2x1ZGUgPGxpbnV4
L3R5cGVzLmg+CiAjaW5jbHVkZSA8bGludXgvaTJjLmg+CiAjaW5jbHVkZSA8bGludXgvZGVsYXku
aD4KKyNpbmNsdWRlIDxkcm0vZHJtX2Nvbm5lY3Rvci5oPgogCiAvKgogICogVW5sZXNzIG90aGVy
d2lzZSBub3RlZCwgYWxsIHZhbHVlcyBhcmUgZnJvbSB0aGUgRFAgMS4xYSBzcGVjLiAgTm90ZSB0
aGF0CkBAIC0xMzc0LDYgKzEzNzUsMTMgQEAgaW50IGRybV9kcF9kb3duc3RyZWFtX21heF9icGMo
Y29uc3QgdTggZHBjZFtEUF9SRUNFSVZFUl9DQVBfU0laRV0sCiBpbnQgZHJtX2RwX2Rvd25zdHJl
YW1faWQoc3RydWN0IGRybV9kcF9hdXggKmF1eCwgY2hhciBpZFs2XSk7CiB2b2lkIGRybV9kcF9k
b3duc3RyZWFtX2RlYnVnKHN0cnVjdCBzZXFfZmlsZSAqbSwgY29uc3QgdTggZHBjZFtEUF9SRUNF
SVZFUl9DQVBfU0laRV0sCiAJCQkgICAgIGNvbnN0IHU4IHBvcnRfY2FwWzRdLCBzdHJ1Y3QgZHJt
X2RwX2F1eCAqYXV4KTsKK2VudW0gZHJtX21vZGVfc3ViY29ubmVjdG9yCitkcm1fZHBfc3ViY29u
bmVjdG9yX3R5cGUoY29uc3QgdTggZHBjZFtEUF9SRUNFSVZFUl9DQVBfU0laRV0sCisJCQkgY29u
c3QgdTggcG9ydF9jYXBbNF0pOwordm9pZCBkcm1fZHBfc2V0X3N1YmNvbm5lY3Rvcl9wcm9wZXJ0
eShzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yLAorCQkJCSAgICAgIGVudW0gZHJtX2Nv
bm5lY3Rvcl9zdGF0dXMgc3RhdHVzLAorCQkJCSAgICAgIGNvbnN0IHU4ICpkcGNkLAorCQkJCSAg
ICAgIGNvbnN0IHU4IHBvcnRfY2FwWzRdKTsKIAogdm9pZCBkcm1fZHBfYXV4X2luaXQoc3RydWN0
IGRybV9kcF9hdXggKmF1eCk7CiBpbnQgZHJtX2RwX2F1eF9yZWdpc3RlcihzdHJ1Y3QgZHJtX2Rw
X2F1eCAqYXV4KTsKZGlmZiAtLWdpdCBhL2luY2x1ZGUvZHJtL2RybV9tb2RlX2NvbmZpZy5oIGIv
aW5jbHVkZS9kcm0vZHJtX21vZGVfY29uZmlnLmgKaW5kZXggZjU3ZWVhMDQ4MWUwLi42MDc5NDQ2
NDE4MzcgMTAwNjQ0Ci0tLSBhL2luY2x1ZGUvZHJtL2RybV9tb2RlX2NvbmZpZy5oCisrKyBiL2lu
Y2x1ZGUvZHJtL2RybV9tb2RlX2NvbmZpZy5oCkBAIC02ODAsNiArNjgwLDEyIEBAIHN0cnVjdCBk
cm1fbW9kZV9jb25maWcgewogCSAqLwogCXN0cnVjdCBkcm1fcHJvcGVydHkgKmR2aV9pX3NlbGVj
dF9zdWJjb25uZWN0b3JfcHJvcGVydHk7CiAKKwkvKioKKwkgKiBAZHBfc3ViY29ubmVjdG9yX3By
b3BlcnR5OiBPcHRpb25hbCBEUCBwcm9wZXJ0eSB0byBkaWZmZXJlbnRpYXRlCisJICogYmV0d2Vl
biBkaWZmZXJlbnQgRFAgZG93bnN0cmVhbSBwb3J0IHR5cGVzLgorCSAqLworCXN0cnVjdCBkcm1f
cHJvcGVydHkgKmRwX3N1YmNvbm5lY3Rvcl9wcm9wZXJ0eTsKKwogCS8qKgogCSAqIEB0dl9zdWJj
b25uZWN0b3JfcHJvcGVydHk6IE9wdGlvbmFsIFRWIHByb3BlcnR5IHRvIGRpZmZlcmVudGlhdGUK
IAkgKiBiZXR3ZWVuIGRpZmZlcmVudCBUViBjb25uZWN0b3IgdHlwZXMuCmRpZmYgLS1naXQgYS9p
bmNsdWRlL3VhcGkvZHJtL2RybV9tb2RlLmggYi9pbmNsdWRlL3VhcGkvZHJtL2RybV9tb2RlLmgK
aW5kZXggNWFiMzMxZTVkYzIzLi45ODA4NDY0YmRiNjMgMTAwNjQ0Ci0tLSBhL2luY2x1ZGUvdWFw
aS9kcm0vZHJtX21vZGUuaAorKysgYi9pbmNsdWRlL3VhcGkvZHJtL2RybV9tb2RlLmgKQEAgLTMz
MiwxNCArMzMyLDIwIEBAIHN0cnVjdCBkcm1fbW9kZV9nZXRfZW5jb2RlciB7CiAvKiBUaGlzIGlz
IGZvciBjb25uZWN0b3JzIHdpdGggbXVsdGlwbGUgc2lnbmFsIHR5cGVzLiAqLwogLyogVHJ5IHRv
IG1hdGNoIERSTV9NT0RFX0NPTk5FQ1RPUl9YIGFzIGNsb3NlbHkgYXMgcG9zc2libGUuICovCiBl
bnVtIGRybV9tb2RlX3N1YmNvbm5lY3RvciB7Ci0JRFJNX01PREVfU1VCQ09OTkVDVE9SX0F1dG9t
YXRpYyA9IDAsCi0JRFJNX01PREVfU1VCQ09OTkVDVE9SX1Vua25vd24gPSAwLAotCURSTV9NT0RF
X1NVQkNPTk5FQ1RPUl9EVklEID0gMywKLQlEUk1fTU9ERV9TVUJDT05ORUNUT1JfRFZJQSA9IDQs
Ci0JRFJNX01PREVfU1VCQ09OTkVDVE9SX0NvbXBvc2l0ZSA9IDUsCi0JRFJNX01PREVfU1VCQ09O
TkVDVE9SX1NWSURFTyA9IDYsCi0JRFJNX01PREVfU1VCQ09OTkVDVE9SX0NvbXBvbmVudCA9IDgs
Ci0JRFJNX01PREVfU1VCQ09OTkVDVE9SX1NDQVJUID0gOSwKKwlEUk1fTU9ERV9TVUJDT05ORUNU
T1JfQXV0b21hdGljICA9IDAsICAvKiBEVkktSSwgVFYgICAgICovCisJRFJNX01PREVfU1VCQ09O
TkVDVE9SX1Vua25vd24gICAgPSAwLCAgLyogRFZJLUksIFRWLCBEUCAqLworCURSTV9NT0RFX1NV
QkNPTk5FQ1RPUl9WR0EJID0gMSwgIC8qICAgICAgICAgICAgRFAgKi8KKwlEUk1fTU9ERV9TVUJD
T05ORUNUT1JfRFZJCSA9IDIsICAvKiAgICAgICAgICAgIERQICovCisJRFJNX01PREVfU1VCQ09O
TkVDVE9SX0RWSUQJID0gMywgIC8qIERWSS1JICAgICAgICAgKi8KKwlEUk1fTU9ERV9TVUJDT05O
RUNUT1JfRFZJQQkgPSA0LCAgLyogRFZJLUkgICAgICAgICAqLworCURSTV9NT0RFX1NVQkNPTk5F
Q1RPUl9Db21wb3NpdGUgID0gNSwgIC8qICAgICAgICBUViAgICAgKi8KKwlEUk1fTU9ERV9TVUJD
T05ORUNUT1JfU1ZJREVPCSA9IDYsICAvKiAgICAgICAgVFYgICAgICovCisJRFJNX01PREVfU1VC
Q09OTkVDVE9SX0NvbXBvbmVudCAgPSA4LCAgLyogICAgICAgIFRWICAgICAqLworCURSTV9NT0RF
X1NVQkNPTk5FQ1RPUl9TQ0FSVAkgPSA5LCAgLyogICAgICAgIFRWICAgICAqLworCURSTV9NT0RF
X1NVQkNPTk5FQ1RPUl9EUAkgPSAxMCwgLyogICAgICAgICAgICBEUCAqLworCURSTV9NT0RFX1NV
QkNPTk5FQ1RPUl9IRE1JICAgICAgID0gMTEsIC8qICAgICAgICAgICAgRFAgKi8KKwlEUk1fTU9E
RV9TVUJDT05ORUNUT1JfTmF0aXZlICAgICA9IDE1LCAvKiAgICAgICAgICAgIERQICovCisJRFJN
X01PREVfU1VCQ09OTkVDVE9SX1dpcmVsZXNzICAgPSAxOSwgLyogICAgICAgICAgICBEUCAqLwog
fTsKIAogI2RlZmluZSBEUk1fTU9ERV9DT05ORUNUT1JfVW5rbm93bgkwCi0tIAoyLjIyLjAKCl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBt
YWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3Rz
LmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
