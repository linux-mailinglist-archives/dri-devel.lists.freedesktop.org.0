Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id D17AC6D061
	for <lists+dri-devel@lfdr.de>; Thu, 18 Jul 2019 16:51:18 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3FB5D6E3F5;
	Thu, 18 Jul 2019 14:51:14 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga09.intel.com (mga09.intel.com [134.134.136.24])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 621116E3F5;
 Thu, 18 Jul 2019 14:51:12 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga001.jf.intel.com ([10.7.209.18])
 by orsmga102.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 18 Jul 2019 07:51:12 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,278,1559545200"; d="scan'208";a="251836354"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by orsmga001.jf.intel.com with SMTP; 18 Jul 2019 07:51:09 -0700
Received: by stinkbox (sSMTP sendmail emulation);
 Thu, 18 Jul 2019 17:51:09 +0300
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Subject: [PATCH 05/12] drm/i915: Never set limited_color_range=true for YCbCr
 output
Date: Thu, 18 Jul 2019 17:50:46 +0300
Message-Id: <20190718145053.25808-6-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190718145053.25808-1-ville.syrjala@linux.intel.com>
References: <20190718145053.25808-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KCmNy
dGNfc3RhdGUtPmxpbWl0ZWRfY29sb3JfcmFuZ2Ugb25seSBhcHBsaWVzIHRvIFJHQiBvdXRwdXQg
YnV0CndlJ3JlIGN1cnJlbnRseSBzZXR0aW5nIGl0IGV2ZW4gZm9yIFlDYkNyIG91dHB1dC4gVGhh
dCB3aWxsCmxlYWQgdG8gY29uZmxpY3RpbmcgTVNBIGFuZCBQSVBFQ09ORiBzZXR0aW5ncyB3aGlj
aCBjYW4gbWVzcwp1cCB0aGUgaW1hZ2UuIExldCdzIG1ha2Ugc3VyZSBsaW1pdGVkX2NvbG9yX3Jh
bmdlIHN0YXlzIHVuc2V0CndpdGggWUNiQ3Igb3V0cHV0LgoKQWxzbyBXQVJOIGlmIHdlIGVuZCB1
cCB3aXRoIHN1Y2ggYSBib2d1cyBjb21iaW5hdGlvbiB3aGVuCnByb2dyYW1taW5nIHRoZSBNU0Eg
TUlTQyBiaXRzIGFzIGl0J3MgaW1wb3NzaWJsZSB0byBldmVuCmluZGljYXRlIHF1YW50aXphdGlv
biByYW5nbGUgZm9yIFlDYkNyIHZpYSBNU0EgTUlTQy4gWUNiQ3IKb3V0cHV0IGlzIHNpbXBseSBh
c3N1bWVkIHRvIGJlIGxpbWl0ZWQgcmFuZ2UgYWx3YXlzLiBOb3RlCnRoYXQgVlNDIFNEUCBkb2Vz
IHByb3ZpZGUgYSBtZWNoYW5pc20gZm9yIGZ1bGwgcmFuZ2UgWUNiQ3IsCnNvIGluIHRoZSBmdXR1
cmUgd2UgbWF5IHdhbnQgdG8gcmV0aGluayBob3cgd2UgY29tcHV0ZS9zdG9yZQp0aGlzIHN0YXRl
LgoKQW5kIGZvciBnb29kIG1lYXN1cmUgd2UgYWRkIHRoZSBzYW1lIFdBUk4gdG8gdGhlIEhETUkg
cGF0aC4KClNpZ25lZC1vZmYtYnk6IFZpbGxlIFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBsaW51
eC5pbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGku
YyAgfCAxMCArKysrKysrLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rw
LmMgICB8IDEwICsrKysrKysrKysKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
aGRtaS5jIHwgMjAgKysrKysrKysrKysrKysrKystLS0KIDMgZmlsZXMgY2hhbmdlZCwgMzQgaW5z
ZXJ0aW9ucygrKSwgNiBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2RkaS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9kZGkuYwppbmRleCAxNTdjNTg1MWE2ODguLjdkZDU0ZjU3M2YzNSAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYworKysgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RkaS5jCkBAIC0xNzA2LDkgKzE3MDYsNiBAQCB2b2lk
IGludGVsX2RkaV9zZXRfcGlwZV9zZXR0aW5ncyhjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0
ZSAqY3J0Y19zdGF0ZSkKIAogCXRlbXAgPSBUUkFOU19NU0FfU1lOQ19DTEs7CiAKLQlpZiAoY3J0
Y19zdGF0ZS0+bGltaXRlZF9jb2xvcl9yYW5nZSkKLQkJdGVtcCB8PSBUUkFOU19NU0FfQ0VBX1JB
TkdFOwotCiAJc3dpdGNoIChjcnRjX3N0YXRlLT5waXBlX2JwcCkgewogCWNhc2UgMTg6CiAJCXRl
bXAgfD0gVFJBTlNfTVNBXzZfQlBDOwpAQCAtMTcyNyw2ICsxNzI0LDEzIEBAIHZvaWQgaW50ZWxf
ZGRpX3NldF9waXBlX3NldHRpbmdzKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRj
X3N0YXRlKQogCQlicmVhazsKIAl9CiAKKwkvKiBub25zZW5zZSBjb21iaW5hdGlvbiAqLworCVdB
Uk5fT04oY3J0Y19zdGF0ZS0+bGltaXRlZF9jb2xvcl9yYW5nZSAmJgorCQljcnRjX3N0YXRlLT5v
dXRwdXRfZm9ybWF0ICE9IElOVEVMX09VVFBVVF9GT1JNQVRfUkdCKTsKKworCWlmIChjcnRjX3N0
YXRlLT5saW1pdGVkX2NvbG9yX3JhbmdlKQorCQl0ZW1wIHw9IFRSQU5TX01TQV9DRUFfUkFOR0U7
CisKIAkvKgogCSAqIEFzIHBlciBEUCAxLjIgc3BlYyBzZWN0aW9uIDIuMy40LjMgd2hpbGUgc2Vu
ZGluZwogCSAqIFlDQkNSIDQ0NCBzaWduYWxzIHdlIHNob3VsZCBwcm9ncmFtIE1TQSBNSVNDMS8w
IGZpZWxkcyB3aXRoCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2lu
dGVsX2RwLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwLmMKaW5kZXgg
MGViNWQ2NmY4N2E3Li44NGQyNzI0ZjA4NTQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfZHAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2RwLmMKQEAgLTIxMjYsNiArMjEyNiwxNiBAQCBib29sIGludGVsX2RwX2xpbWl0ZWRf
Y29sb3JfcmFuZ2UoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUsCiAJ
Y29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKmFkanVzdGVkX21vZGUgPQogCQkmY3J0Y19z
dGF0ZS0+YmFzZS5hZGp1c3RlZF9tb2RlOwogCisJLyoKKwkgKiBPdXIgWUNiQ3Igb3V0cHV0IGlz
IGFsd2F5cyBsaW1pdGVkIHJhbmdlLgorCSAqIGNydGNfc3RhdGUtPmxpbWl0ZWRfY29sb3JfcmFu
Z2Ugb25seSBhcHBsaWVzIHRvIFJHQiwKKwkgKiBhbmQgaXQgbXVzdCBuZXZlciBiZSBzZXQgZm9y
IFlDYkNyIG9yIHdlIHJpc2sgc2V0dGluZworCSAqIHNvbWUgY29uZmxpY3RpbmcgYml0cyBpbiBQ
SVBFQ09ORiB3aGljaCB3aWxsIG1lc3MgdXAKKwkgKiB0aGUgY29sb3JzIG9uIHRoZSBtb25pdG9y
LgorCSAqLworCWlmIChjcnRjX3N0YXRlLT5vdXRwdXRfZm9ybWF0ICE9IElOVEVMX09VVFBVVF9G
T1JNQVRfUkdCKQorCQlyZXR1cm4gZmFsc2U7CisKIAlpZiAoaW50ZWxfY29ubl9zdGF0ZS0+YnJv
YWRjYXN0X3JnYiA9PSBJTlRFTF9CUk9BRENBU1RfUkdCX0FVVE8pIHsKIAkJLyoKIAkJICogU2Vl
OgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9oZG1pLmMg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2hkbWkuYwppbmRleCBjYTM3N2Jh
M2ExNWUuLjM2MDNlYWNiODJiYSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF9oZG1pLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9oZG1pLmMKQEAgLTcyNCw2ICs3MjQsMTAgQEAgaW50ZWxfaGRtaV9jb21wdXRlX2F2aV9pbmZv
ZnJhbWUoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCiAKIAlkcm1faGRtaV9hdmlfaW5m
b2ZyYW1lX2NvbG9yc3BhY2UoZnJhbWUsIGNvbm5fc3RhdGUpOwogCisJLyogbm9uc2Vuc2UgY29t
YmluYXRpb24gKi8KKwlXQVJOX09OKGNydGNfc3RhdGUtPmxpbWl0ZWRfY29sb3JfcmFuZ2UgJiYK
KwkJY3J0Y19zdGF0ZS0+b3V0cHV0X2Zvcm1hdCA9PSBJTlRFTF9PVVRQVVRfRk9STUFUX1JHQik7
CisKIAlpZiAoY3J0Y19zdGF0ZS0+b3V0cHV0X2Zvcm1hdCA9PSBJTlRFTF9PVVRQVVRfRk9STUFU
X1JHQikgewogCQlkcm1faGRtaV9hdmlfaW5mb2ZyYW1lX3F1YW50X3JhbmdlKGZyYW1lLCBjb25u
ZWN0b3IsCiAJCQkJCQkgICBhZGp1c3RlZF9tb2RlLApAQCAtMjMwNSw2ICsyMzA5LDE2IEBAIHN0
YXRpYyBib29sIGludGVsX2hkbWlfbGltaXRlZF9jb2xvcl9yYW5nZShjb25zdCBzdHJ1Y3QgaW50
ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zCiAJY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKmFk
anVzdGVkX21vZGUgPQogCQkmY3J0Y19zdGF0ZS0+YmFzZS5hZGp1c3RlZF9tb2RlOwogCisJLyoK
KwkgKiBPdXIgWUNiQ3Igb3V0cHV0IGlzIGFsd2F5cyBsaW1pdGVkIHJhbmdlLgorCSAqIGNydGNf
c3RhdGUtPmxpbWl0ZWRfY29sb3JfcmFuZ2Ugb25seSBhcHBsaWVzIHRvIFJHQiwKKwkgKiBhbmQg
aXQgbXVzdCBuZXZlciBiZSBzZXQgZm9yIFlDYkNyIG9yIHdlIHJpc2sgc2V0dGluZworCSAqIHNv
bWUgY29uZmxpY3RpbmcgYml0cyBpbiBQSVBFQ09ORiB3aGljaCB3aWxsIG1lc3MgdXAKKwkgKiB0
aGUgY29sb3JzIG9uIHRoZSBtb25pdG9yLgorCSAqLworCWlmIChjcnRjX3N0YXRlLT5vdXRwdXRf
Zm9ybWF0ICE9IElOVEVMX09VVFBVVF9GT1JNQVRfUkdCKQorCQlyZXR1cm4gZmFsc2U7CisKIAlp
ZiAoaW50ZWxfY29ubl9zdGF0ZS0+YnJvYWRjYXN0X3JnYiA9PSBJTlRFTF9CUk9BRENBU1RfUkdC
X0FVVE8pIHsKIAkJLyogU2VlIENFQS04NjEtRSAtIDUuMSBEZWZhdWx0IEVuY29kaW5nIFBhcmFt
ZXRlcnMgKi8KIAkJcmV0dXJuIGNydGNfc3RhdGUtPmhhc19oZG1pX3NpbmsgJiYKQEAgLTIzNDEs
OSArMjM1NSw2IEBAIGludCBpbnRlbF9oZG1pX2NvbXB1dGVfY29uZmlnKHN0cnVjdCBpbnRlbF9l
bmNvZGVyICplbmNvZGVyLAogCWlmIChwaXBlX2NvbmZpZy0+aGFzX2hkbWlfc2luaykKIAkJcGlw
ZV9jb25maWctPmhhc19pbmZvZnJhbWUgPSB0cnVlOwogCi0JcGlwZV9jb25maWctPmxpbWl0ZWRf
Y29sb3JfcmFuZ2UgPQotCQlpbnRlbF9oZG1pX2xpbWl0ZWRfY29sb3JfcmFuZ2UocGlwZV9jb25m
aWcsIGNvbm5fc3RhdGUpOwotCiAJaWYgKGFkanVzdGVkX21vZGUtPmZsYWdzICYgRFJNX01PREVf
RkxBR19EQkxDTEspIHsKIAkJcGlwZV9jb25maWctPnBpeGVsX211bHRpcGxpZXIgPSAyOwogCQlj
bG9ja184YnBjICo9IDI7CkBAIC0yMzYwLDYgKzIzNzEsOSBAQCBpbnQgaW50ZWxfaGRtaV9jb21w
dXRlX2NvbmZpZyhzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKIAkJfQogCX0KIAorCXBp
cGVfY29uZmlnLT5saW1pdGVkX2NvbG9yX3JhbmdlID0KKwkJaW50ZWxfaGRtaV9saW1pdGVkX2Nv
bG9yX3JhbmdlKHBpcGVfY29uZmlnLCBjb25uX3N0YXRlKTsKKwogCWlmIChIQVNfUENIX1NQTElU
KGRldl9wcml2KSAmJiAhSEFTX0RESShkZXZfcHJpdikpCiAJCXBpcGVfY29uZmlnLT5oYXNfcGNo
X2VuY29kZXIgPSB0cnVlOwogCi0tIAoyLjIxLjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxp
c3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFu
L2xpc3RpbmZvL2RyaS1kZXZlbA==
