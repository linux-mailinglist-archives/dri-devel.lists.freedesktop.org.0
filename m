Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 24FDB2A7F60
	for <lists+dri-devel@lfdr.de>; Thu,  5 Nov 2020 14:01:52 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id F37036E122;
	Thu,  5 Nov 2020 13:01:47 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-oi1-x244.google.com (mail-oi1-x244.google.com
 [IPv6:2607:f8b0:4864:20::244])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 126D46E122
 for <dri-devel@lists.freedesktop.org>; Thu,  5 Nov 2020 13:01:47 +0000 (UTC)
Received: by mail-oi1-x244.google.com with SMTP id m143so1557999oig.7
 for <dri-devel@lists.freedesktop.org>; Thu, 05 Nov 2020 05:01:46 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=ffwll.ch; s=google;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=uUq0Lwi0qnGos/C/vvwtNRqwGkT0iUIaocaT2cbeMwk=;
 b=WdU6snkgeqkLfYoCJ1a9epOhJAUMlz/D4fpzNItsxbSc9vdTAUuF/cK6NgGWVtb56h
 vpUkqgkPjU/hhwq5i1+VViQBCMsaOq9aHBTRWRn88KBrgyjy0/i03z3/HtMhx2cLmYvG
 VH0l20ClABx8BCwCeBDiIYH3Fq00fxnjkd998=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=uUq0Lwi0qnGos/C/vvwtNRqwGkT0iUIaocaT2cbeMwk=;
 b=HN25Tl7dXt1soGxirJMpKnF/jRmxT2tPNcj1F3volzLJev23lxpMxfqHINcXKrzmnQ
 SO3GPCr+6vECIPwkhNCEm47Xij0Mxh+xvdLEV0shPf7X3NSGYKtJUZLR0BFrYz4gbGU9
 d4o+AKGTeicC3NEoBVLId9hOV6nHdX0PKBZJl+Ma/YAF8DpRsuBH5pr6HAQxgEAjYcAf
 N2z6gnEYtpruM4zwk86WnTUL6HxZi8g2TJREbiV4Y/7ZRydqE238B4w3uZUv/ATd1rlQ
 EFHQvErVwpSSx5V2fqXy5aDqKb6+M1kMp+jPesLgWwm4hpzk6EP4DQ33vQdZcHSrntbK
 9LyQ==
X-Gm-Message-State: AOAM532/wVHImuel+WFVLZsRQ1qK5O+wCbXBHaotn5n0H1I2XA0yX7Sk
 5fwgblDjTjeHILg69XNDonttFwqoDtLehbkbo3SwhRtuaNeD6A==
X-Google-Smtp-Source: ABdhPJyxhzkGx83DM2otyKrFZfLdBfkXyeyH3ULRRXUVga1/ejLCJLLFqWLIcez7m8ERoDyWXJeqUGElhCaRqqHg3w0=
X-Received: by 2002:aca:cc01:: with SMTP id c1mr1484182oig.128.1604581306158; 
 Thu, 05 Nov 2020 05:01:46 -0800 (PST)
MIME-Version: 1.0
References: <20201104130024.264974-1-christian.koenig@amd.com>
 <20201104173800.GP401619@phenom.ffwll.local>
 <c34c56ad-9a02-46be-2c58-0b2d42d86b5c@gmail.com>
In-Reply-To: <c34c56ad-9a02-46be-2c58-0b2d42d86b5c@gmail.com>
From: Daniel Vetter <daniel@ffwll.ch>
Date: Thu, 5 Nov 2020 14:01:34 +0100
Message-ID: <CAKMK7uGpMpgt-KRKgEuBKjATuAsc6MqVG_vOCVXTjZ-byHrLdQ@mail.gmail.com>
Subject: Re: [PATCH 1/4] drm/radeon: stop using pages with
 drm_prime_sg_to_page_addr_arrays
To: =?UTF-8?Q?Christian_K=C3=B6nig?= <christian.koenig@amd.com>
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: dri-devel <dri-devel@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVGh1LCBOb3YgNSwgMjAyMCBhdCAxOjEyIFBNIENocmlzdGlhbiBLw7ZuaWcKPGNrb2VuaWcu
bGVpY2h0enVtZXJrZW5AZ21haWwuY29tPiB3cm90ZToKPgo+IEFtIDA0LjExLjIwIHVtIDE4OjM4
IHNjaHJpZWIgRGFuaWVsIFZldHRlcjoKPiA+IE9uIFdlZCwgTm92IDA0LCAyMDIwIGF0IDAyOjAw
OjIxUE0gKzAxMDAsIENocmlzdGlhbiBLw7ZuaWcgd3JvdGU6Cj4gPj4gVGhpcyBpcyBkZXByZWNh
dGVkLgo+ID4+Cj4gPj4gU2lnbmVkLW9mZi1ieTogQ2hyaXN0aWFuIEvDtm5pZyA8Y2hyaXN0aWFu
LmtvZW5pZ0BhbWQuY29tPgo+ID4gU28gSSB0cmllZCB0byBwcm92ZSB0byBteXNlbGYgdGhhdCB0
dG0gZG9lc24ndCBhY2Nlc3MgLT5wYWdlcyBmb3IgdGhlc2UKPiA+IGNhc2VzLCBhbmQga2luZGEg
Y291bGRuJ3QuIFdlIHN0aWxsIHNlZW0gdG8gYWxsb2NhdGUgdGhlIHBhZ2VzIGFycmF5IGFuZAo+
ID4gYWxsIHRoYXQsIGFuZCB0aGVyZSdzIGxvdHMgb2YgY29kZSB1c2luZyAtPnBhZ2VzIGFsbCBv
dmVyLiBBbmQgYmV0d2Vlbgo+ID4gdHRtX2JvX3R5cGVfc2cgYW5kIFRUTV9QQUdFX0ZMQUdfU0cg
SSBkaWRuJ3QgbWFuYWdlIHRvIGNoYXNlIGEgd2hvbGUgbG90Cj4gPiBvZiBwYXRocyB0byB0aGVp
ciBmdWxsIGNvbmNsdXNpb24uCj4KPiBOb3BlLCBzZWUgdGhlIGFtZGdwdSBjb2RlOgo+Cj4gPiBp
ZiAodHRtX3NnX3R0X2luaXQoJmd0dC0+dHRtLCBibywgcGFnZV9mbGFncywgY2FjaGluZykpIHsK
Pgo+IEFuZCB0aGVuIHdoYXQgdHRtX3NnX3R0X2luaXQoKSBkb2VzOgo+Cj4gPiAgICAgICAgIGlm
IChwYWdlX2ZsYWdzICYgVFRNX1BBR0VfRkxBR19TRykKPiA+ICAgICAgICAgICAgICAgICByZXQg
PSB0dG1fc2dfdHRfYWxsb2NfcGFnZV9kaXJlY3RvcnkodHRtKTsKPiA+ICAgICAgICAgZWxzZQo+
ID4gICAgICAgICAgICAgICAgIHJldCA9IHR0bV9kbWFfdHRfYWxsb2NfcGFnZV9kaXJlY3Rvcnko
dHRtKTsKPgo+IEFuZCB0aGVuIGZpbmFsbHkgd2hhdCB0dG1fc2dfdHRfYWxsb2NfcGFnZV9kaXJl
Y3RvcnkoKSBkb2VzOgo+Cj4gdHRtLT5kbWFfYWRkcmVzcyA9IGt2bWFsbG9jX2FycmF5KHR0bS0+
bnVtX3BhZ2VzLC4uLi4KPgo+IHR0bS0+cGFnZXMgc2hvdWxkIGJlIE5VTEwgaW4gdGhpcyBjYXNl
IGlmIEknbSBub3QgY29tcGxldGVseSBtaXN0YWtlbi4KPgo+IEZvciBvciBpbXBvcnRlZCBETUEt
YnVmIHMgd2Ugc2hvdWxkbid0IGhhdmUgYSB0dG0tPnBhZ2VzIGluIGFtZGdwdSBmb3IKPiBxdWl0
ZSBhIHdoaWxlIGFuZCB0aGF0IHdvcmtzIHBlcmZlY3RseSBmaW5lLgo+Cj4KPgo+Cj4gPiBTbyBJ
IHJlZHVjZWQgbXkgYW1iaXRpb25zIGFuZCB3YW50ZWQgdG8gcHJvdmUgdGhhdCBhdCBsZWFzdCBm
b3IgZG1hLWJ1Zgo+ID4gaW1wb3J0cyBha2EgdHRtX2JvX3R5cGVfc2csIHdlJ3JlIGd1YXJhbnRl
ZWQgdGhhdCB3ZSBkb24ndCB0cnkgdG8gbW1hcAo+ID4gdGhlc2UgdG8gdXNlcnNwYWNlLiBBbmQg
YWxzbyBmYWlsZWQgdG8gZmluZCB0aGF0IGNoZWNrLgo+Cj4gU2VlIHR0bV9ib192bV9yZXNlcnZl
KCk6Cj4gPiAgICAgICAgIC8qCj4gPiAgICAgICAgICAqIFJlZnVzZSB0byBmYXVsdCBpbXBvcnRl
ZCBwYWdlcy4gVGhpcyBzaG91bGQgYmUgaGFuZGxlZAo+ID4gICAgICAgICAgKiAoaWYgYXQgYWxs
KSBieSByZWRpcmVjdGluZyBtbWFwIHRvIHRoZSBleHBvcnRlci4KPiA+ICAgICAgICAgICovCj4g
PiAgICAgICAgIGlmIChiby0+dHRtICYmIChiby0+dHRtLT5wYWdlX2ZsYWdzICYgVFRNX1BBR0Vf
RkxBR19TRykpIHsKPiA+ICAgICAgICAgICAgICAgICBkbWFfcmVzdl91bmxvY2soYm8tPmJhc2Uu
cmVzdik7Cj4gPiAgICAgICAgICAgICAgICAgcmV0dXJuIFZNX0ZBVUxUX1NJR0JVUzsKPiA+ICAg
ICAgICAgfQo+Cj4KPiA+IGJ0dyB0aGlzIGlzIGFjcm9zcyBhbGwgZHJpdmVycywgbW9zdGx5IHR0
bSBjb2RlLCBub3QgcmFkZW9uIHNwZWNpZmljLgoKT2ssIHRoaXMgbWFrZXMgc2Vuc2UsIGFuZCB5
b3UgY2FuIGhhdmUgbXkgci1iIGZvciB0aGUgYW1kZ3B1IHBhdGNoLgoKPiBXZWxsIGluc3RlYWQg
b2YgdGhvc2UgcGF0Y2hlcyB3ZSBjb3VsZCBhcyB3ZWxsIHN3aXRjaCBvdmVyIHJhZGVvbiBhbmQK
PiBub3V2ZWF1IHRvIHVzaW5nIHR0bV9zZ190dF9pbml0KCkgYXMgd2VsbCAob3IgbWVyZ2UgdHRt
X3NnX3R0X2luaXQoKQo+IGludG8gdHRtX2RtYV90dF9pbml0KS4KPgo+IFRoYXQncyBwcm9iYWJs
eSB0aGUgbXVjaCBjbGVhbmVyIGFwcHJvYWNoLCBidXQgd2hlbiBJIHdyb3RlCj4gdHRtX3NnX3R0
X2luaXQoKSBJIHdhc24ndCBzdXJlIGlmIHJhZGVvbi9ub3V2ZWF1IHdoZXJlIHVzaW5nIHR0bS0+
cGFnZXMKPiBmb3Igc29tZXRoaW5nLCBlLmcuIGJhc2ljYWxseSB0aGUgc2FtZSBjb25jZXJuIHlv
dSBoYXZlLgoKSSBndWVzcyB0aGF0IG1pZ2h0IGJlIHVzZWZ1bCBhcyBhbiBpbnRlcm1lZGlhdGUg
c3RlcC4gU3RpbGwgYSBwaWxlIG9mCndvcmsgdG8gcmV2aWV3IGRyaXZlcnMsIGJ1dCBhdCBsZWFz
dCB0aGUgdHRtIHBhdGhzIHdvcmsgYWxsIHRoZSBzYW1lLgoKT25lIHRoaW5nIHRoYXQncyBzb21l
d2hhdCBhbm5veWluZyBoZXJlIGlzIHRoYXQgdHRtX2JvX3R5cGVfc2cKY29uZmxhdGVzIGhvdyB0
aGUgYmFja2luZyBtZW1vcnkgaXMgc3RvcmVkIChpdCdzIGluIGFuIHNnIGxpc3QpIHdpdGgKd2hl
cmUgaXQncyBmcm9tIChpdCBhbHNvIG1lYW5zICJ0aGlzIGlzIGEgZG1hLWJ1ZiwgZG9uJ3QgbG9v
ayBhdCB0aGUKY3B1IHNpZGUsIGRvbid0IG1tYXAgaXQiKS4gVGhhdCdzIGtpbmRhIGF3a3dhcmQs
IGp1c3QgaW4gY2FzZSB5b3UgaGF2ZQphIGRyaXZlciB0aGF0IG1pZ2h0IHdhbnQgdG8gdXNlIHNn
IGxpc3RzIGZvciBldmVyeXRoaW5nIHRvIG5vdApkdXBsaWNhdGUgY29kZSAtIHR0bV90dCBvdG9o
IHNlZW1zIHRvIGJlIHRoZSAiZXZlcnl0aGluZyBnb2VzIgpjb21iaW5hdG9yaWFsIGNoYW9zLiBC
dXQgdGhhdCdzIGFuIGVudGlyZWx5IHVucmVsYXRlZCByYW50IDotKQoKVGhlbiB0aGVyZSdzIGFs
c28gdGhlIGlzc3VlIHRoYXQgZG1hLWJ1ZiBpbXBvcnQgZ29lcyB0aHJvdWdoIGEKYmF6aWxsaW9u
IGxheWVycyB3aXRoIGxvdHMgb2YgZHJpdmVyIGR1cGxpY2F0aW9uLCB3aGljaCBpc24ndCBoZWxw
aW5nCmluIHJldmlld2luZyB0byBtYWtlIHN1cmUgdGhleSByZWFsbHkgYWxsIGVuZCB1cCB3aXRo
IHR0bV9ib190eXBlX3NnLgpCdXQgSSB0aGluayB0aGF0J3MgdGhlIGNhc2UgZnJvbSB3aGF0IEkg
Y2FuIHNlZSBhZnRlciBsb3RzIG9mCmdyZXBwaW5nLiBNYXliZSB0dG1fYm9faW5pdCBzaG91bGQg
aGF2ZSBhIFdBUk5fT04gaWYgdGhlcmUncyBhbiBzZyBidXQKdHlwZSBpc24ndCB0dG1fYm9fdHlw
ZV9zZy4KLURhbmllbAoKPgo+IFJlZ2FyZHMsCj4gQ2hyaXN0aWFuLgo+Cj4gPiBTbyBjb25jbHVz
aW9uLCBzdGlsbCBhIG1lc3MgaGVyZSB0aGF0IGF0IGxlYXN0IEkgY2FuJ3Qgc2VlIHRocm91ZyBj
bGVhcmx5Cj4gPiA6LS8gaGVyZSA9IHR0bV90dCBhbmQgdGhlIGVudGlyZSBiYWNraW5nIHN0b3Jh
Z2UgaGFuZGxpbmcgYW5kIGV2ZXJ5dGhpbmcKPiA+IHRoYXQgdGllcyBpbnRvIGl0LiBQcm9iYWJs
eSB0aGUgYXJlYSB0aGF0IHN0aWxsIGhhcyB0aGUgbW9zdCBtaWRsYXllciBmZWVsCj4gPiB0byB0
dG0gd2l0aCBhbGwgdGhlIHJlZmFjdG9yaW5nIGluLWZsaWdodCBpbiBzdGlsbC4KPiA+Cj4gPiB0
bGRyOyB0cmllZCB0byByZXZpZXcgcGF0Y2hlcyAxLTMsIGdhdmUgdXAuCj4gPgo+ID4gQ2hlZXJz
LCBEYW5pZWwKPiA+Cj4gPj4gLS0tCj4gPj4gICBkcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVv
bl90dG0uYyB8IDkgKysrKystLS0tCj4gPj4gICAxIGZpbGUgY2hhbmdlZCwgNSBpbnNlcnRpb25z
KCspLCA0IGRlbGV0aW9ucygtKQo+ID4+Cj4gPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9yYWRlb24vcmFkZW9uX3R0bS5jIGIvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fdHRt
LmMKPiA+PiBpbmRleCA5NTAzOGFjMzM4MmUuLmY0MWZjZWUzNWY3MCAxMDA2NDQKPiA+PiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl90dG0uYwo+ID4+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9yYWRlb24vcmFkZW9uX3R0bS5jCj4gPj4gQEAgLTQ5NCw4ICs0OTQsOCBAQCBzdGF0
aWMgaW50IHJhZGVvbl90dG1fdHRfcGluX3VzZXJwdHIoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJk
ZXYsIHN0cnVjdCB0dG1fdHQgKgo+ID4+ICAgICAgaWYgKHIpCj4gPj4gICAgICAgICAgICAgIGdv
dG8gcmVsZWFzZV9zZzsKPiA+Pgo+ID4+IC0gICAgZHJtX3ByaW1lX3NnX3RvX3BhZ2VfYWRkcl9h
cnJheXModHRtLT5zZywgdHRtLT5wYWdlcywKPiA+PiAtICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIGd0dC0+dHRtLmRtYV9hZGRyZXNzLCB0dG0tPm51bV9wYWdlcyk7Cj4gPj4g
KyAgICBkcm1fcHJpbWVfc2dfdG9fcGFnZV9hZGRyX2FycmF5cyh0dG0tPnNnLCBOVUxMLCBndHQt
PnR0bS5kbWFfYWRkcmVzcywKPiA+PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHR0bS0+bnVtX3BhZ2VzKTsKPiA+Pgo+ID4+ICAgICAgcmV0dXJuIDA7Cj4gPj4KPiA+PiBA
QCAtNjczLDggKzY3Myw5IEBAIHN0YXRpYyBpbnQgcmFkZW9uX3R0bV90dF9wb3B1bGF0ZShzdHJ1
Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiA+PiAgICAgIH0KPiA+Pgo+ID4+ICAgICAgaWYgKHNs
YXZlICYmIHR0bS0+c2cpIHsKPiA+PiAtICAgICAgICAgICAgZHJtX3ByaW1lX3NnX3RvX3BhZ2Vf
YWRkcl9hcnJheXModHRtLT5zZywgdHRtLT5wYWdlcywKPiA+PiAtICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3R0LT50dG0uZG1hX2FkZHJlc3MsIHR0bS0+bnVt
X3BhZ2VzKTsKPiA+PiArICAgICAgICAgICAgZHJtX3ByaW1lX3NnX3RvX3BhZ2VfYWRkcl9hcnJh
eXModHRtLT5zZywgTlVMTCwKPiA+PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgZ3R0LT50dG0uZG1hX2FkZHJlc3MsCj4gPj4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR0bS0+bnVtX3BhZ2VzKTsKPiA+PiAgICAgICAg
ICAgICAgcmV0dXJuIDA7Cj4gPj4gICAgICB9Cj4gPj4KPiA+PiAtLQo+ID4+IDIuMjUuMQo+ID4+
Cj4gPj4gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KPiA+
PiBkcmktZGV2ZWwgbWFpbGluZyBsaXN0Cj4gPj4gZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9w
Lm9yZwo+ID4+IGh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8v
ZHJpLWRldmVsCj4KCgotLSAKRGFuaWVsIFZldHRlcgpTb2Z0d2FyZSBFbmdpbmVlciwgSW50ZWwg
Q29ycG9yYXRpb24KaHR0cDovL2Jsb2cuZmZ3bGwuY2gKX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxA
bGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxt
YW4vbGlzdGluZm8vZHJpLWRldmVsCg==
