Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 6C871280F2E
	for <lists+dri-devel@lfdr.de>; Fri,  2 Oct 2020 10:47:17 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 6FA316E249;
	Fri,  2 Oct 2020 08:47:13 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ej1-x644.google.com (mail-ej1-x644.google.com
 [IPv6:2a00:1450:4864:20::644])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 754196E245
 for <dri-devel@lists.freedesktop.org>; Fri,  2 Oct 2020 08:47:12 +0000 (UTC)
Received: by mail-ej1-x644.google.com with SMTP id u21so867270eja.2
 for <dri-devel@lists.freedesktop.org>; Fri, 02 Oct 2020 01:47:12 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:subject:date:message-id:in-reply-to:references:mime-version
 :content-transfer-encoding;
 bh=VWUmbf2ZpK52DCZ3zIafylBWsDzNfC49f+tLEQ6KD4s=;
 b=OE4pU0JLzYTdpj9Cmo/wh9u0aT74TjepwOIhMEIgJQdZ0xO5kia7jIggzOFYH84uMm
 IbrUvdy8BgHm/duTyD/Kdjp8iwrxNuuk5oCy+Q6PAnQvLw1SfU0TZSF9lEqvQ2xkL3AZ
 DTJhDdAJykSoXvCW80cqXjgG8Sv8UaQUkOkDSbPt767/DfMKj+ZjKN7az8uWF1AI74bO
 cHkJHxM/MtBrc5depnVt4Mupir3FYEWwqWSeq86Aj5zyokcR998AnE8dsdR1pV6zmbQZ
 7dnbSbhggws1WdtotmKu9uzaSiM1skAZJ6bzHm48igyeUMO0BRwD+/BBivBd63C6BCnT
 oa5g==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=VWUmbf2ZpK52DCZ3zIafylBWsDzNfC49f+tLEQ6KD4s=;
 b=oe4wcOnzPVE8ERRrhlT9SIiY6/h77HH9D39bqnQFgbU9Tz58SLXJZCq3DG3wkQrI/L
 O7oYQYDL0EdKyXOlU+iAUC1+8qqTBhMMWGFWnfTfjFyAwgTQTJVP/DyiIBxj7jdmvuO+
 a3hO7ewW4s7ksXPdWUTQb4ERbq4TcVYLQjFap0e74MYrBqtLrksD3Ym8t0+B/uaC7bmg
 sBrN1PQJGyV+4UwtHL4B9oBEuI9sbfdU+0FiXzhGbJdBSfjxgq3V4463gcWhGjUJ1bsI
 H+s2NRNJ7MF+5p9nxYs0gS8BMvo76yhfPOYCl4Ko0J6Fs8tfizwaRTfr1Wovh1ZqmgaD
 xMhg==
X-Gm-Message-State: AOAM533SF78dC43UH8EMAKsIg8WZznHqaT/F15Wxm8kzf/5KtnBTePRD
 lo9rKFfRQ/m1bw4V+PFHDNj5XJCU1t8=
X-Google-Smtp-Source: ABdhPJwRKDVSXimHB7fal27u2K3w4i+sifBr7sg1NVrQwT/ijshiU76U6yMjKb8SvGPZ0u49MudCBQ==
X-Received: by 2002:a17:906:5008:: with SMTP id
 s8mr1244167ejj.408.1601628430564; 
 Fri, 02 Oct 2020 01:47:10 -0700 (PDT)
Received: from abel.fritz.box ([2a02:908:1252:fb60:b0ce:8a95:8e6:b4f4])
 by smtp.gmail.com with ESMTPSA id t10sm659153edw.86.2020.10.02.01.47.09
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Fri, 02 Oct 2020 01:47:09 -0700 (PDT)
From: "=?UTF-8?q?Christian=20K=C3=B6nig?=" <ckoenig.leichtzumerken@gmail.com>
X-Google-Original-From: =?UTF-8?q?Christian=20K=C3=B6nig?=
 <christian.koenig@amd.com>
To: dri-devel@lists.freedesktop.org, ray.huang@amd.com, airlied@gmail.com,
 daniel@ffwll.ch
Subject: [PATCH 2/4] drm/ttm: rename and move ttm_bo_evict_mm as well
Date: Fri,  2 Oct 2020 10:47:05 +0200
Message-Id: <20201002084707.2203-2-christian.koenig@amd.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20201002084707.2203-1-christian.koenig@amd.com>
References: <20201002084707.2203-1-christian.koenig@amd.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhpcyBmdW5jdGlvbiBhbHNvIHdvcmtzIHdpdGggd2hvbGUgZGV2aWNlIGFuZCBub3QgaW5kaXZp
ZHVhbCBCT3MuCgpTaWduZWQtb2ZmLWJ5OiBDaHJpc3RpYW4gS8O2bmlnIDxjaHJpc3RpYW4ua29l
bmlnQGFtZC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RlYnVn
ZnMuYyB8ICAyICstCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfb2JqZWN0LmMg
IHwgIDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfZHJtLmMgICAgICAgfCAg
MiArLQogZHJpdmVycy9ncHUvZHJtL3F4bC9xeGxfb2JqZWN0LmMgICAgICAgICAgICB8ICA0ICsr
LS0KIGRyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFkZW9uX29iamVjdC5jICAgICAgfCAgMiArLQog
ZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm8uYyAgICAgICAgICAgICAgICB8IDE4IC0tLS0tLS0t
LS0tLS0tLS0tLQogZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fZGV2aWNlLmMgICAgICAgICAgICB8
IDE4ICsrKysrKysrKysrKysrKysrKwogZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfZHJ2
LmMgICAgICAgICB8ICA2ICsrKy0tLQogaW5jbHVkZS9kcm0vdHRtL3R0bV9ib19hcGkuaCAgICAg
ICAgICAgICAgICB8IDIwIC0tLS0tLS0tLS0tLS0tLS0tLS0tCiBpbmNsdWRlL2RybS90dG0vdHRt
X2RldmljZS5oICAgICAgICAgICAgICAgIHwgMjAgKysrKysrKysrKysrKysrKysrKysKIDEwIGZp
bGVzIGNoYW5nZWQsIDQ3IGluc2VydGlvbnMoKyksIDQ3IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kZWJ1Z2ZzLmMgYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZGVidWdmcy5jCmluZGV4IGFiZTBjMjcyOWUxYy4u
YmI2YWI0MWFhZGEwIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRn
cHVfZGVidWdmcy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kZWJ1
Z2ZzLmMKQEAgLTEzMjcsNyArMTMyNyw3IEBAIHN0YXRpYyBpbnQgYW1kZ3B1X2RlYnVnZnNfZXZp
Y3RfZ3R0KHN0cnVjdCBzZXFfZmlsZSAqbSwgdm9pZCAqZGF0YSkKIAkJcmV0dXJuIHI7CiAJfQog
Ci0Jc2VxX3ByaW50ZihtLCAiKCVkKVxuIiwgdHRtX2JvX2V2aWN0X21tKCZhZGV2LT5tbWFuLmJk
ZXYsIFRUTV9QTF9UVCkpOworCXNlcV9wcmludGYobSwgIiglZClcbiIsIHR0bV9kZXZpY2VfZXZp
Y3RfbW0oJmFkZXYtPm1tYW4uYmRldiwgVFRNX1BMX1RUKSk7CiAKIAlwbV9ydW50aW1lX21hcmtf
bGFzdF9idXN5KGRldi0+ZGV2KTsKIAlwbV9ydW50aW1lX3B1dF9hdXRvc3VzcGVuZChkZXYtPmRl
dik7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfb2JqZWN0
LmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfb2JqZWN0LmMKaW5kZXggOTY0
Zjk1MTJkZDZlLi43ZmM1ZmMxMmRkNmUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2FtZGdwdV9vYmplY3QuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9h
bWRncHVfb2JqZWN0LmMKQEAgLTEwMjYsNyArMTAyNiw3IEBAIGludCBhbWRncHVfYm9fZXZpY3Rf
dnJhbShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKIAkJcmV0dXJuIDA7CiAJfQogI2VuZGlm
Ci0JcmV0dXJuIHR0bV9ib19ldmljdF9tbSgmYWRldi0+bW1hbi5iZGV2LCBUVE1fUExfVlJBTSk7
CisJcmV0dXJuIHR0bV9kZXZpY2VfZXZpY3RfbW0oJmFkZXYtPm1tYW4uYmRldiwgVFRNX1BMX1ZS
QU0pOwogfQogCiBzdGF0aWMgY29uc3QgY2hhciAqYW1kZ3B1X3ZyYW1fbmFtZXNbXSA9IHsKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfZHJtLmMgYi9kcml2ZXJz
L2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X2RybS5jCmluZGV4IDcyNjQwYmNhMTYxNy4uMzUxZWZm
NWQwMzhiIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X2RybS5j
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfZHJtLmMKQEAgLTgzNiw3ICs4
MzYsNyBAQCBub3V2ZWF1X2RvX3N1c3BlbmQoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgYm9vbCBy
dW50aW1lKQogCX0KIAogCU5WX0RFQlVHKGRybSwgImV2aWN0aW5nIGJ1ZmZlcnMuLi5cbiIpOwot
CXR0bV9ib19ldmljdF9tbSgmZHJtLT50dG0uYmRldiwgVFRNX1BMX1ZSQU0pOworCXR0bV9kZXZp
Y2VfZXZpY3RfbW0oJmRybS0+dHRtLmJkZXYsIFRUTV9QTF9WUkFNKTsKIAogCU5WX0RFQlVHKGRy
bSwgIndhaXRpbmcgZm9yIGtlcm5lbCBjaGFubmVscyB0byBnbyBpZGxlLi4uXG4iKTsKIAlpZiAo
ZHJtLT5jZWNoYW4pIHsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9xeGwvcXhsX29iamVj
dC5jIGIvZHJpdmVycy9ncHUvZHJtL3F4bC9xeGxfb2JqZWN0LmMKaW5kZXggNWJhOGFhYzAwZjVj
Li4wZWRlOTE2MTc1MDYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9xeGwvcXhsX29iamVj
dC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9xeGwvcXhsX29iamVjdC5jCkBAIC0zNTEsMTAgKzM1
MSwxMCBAQCBpbnQgcXhsX2JvX2NoZWNrX2lkKHN0cnVjdCBxeGxfZGV2aWNlICpxZGV2LCBzdHJ1
Y3QgcXhsX2JvICpibykKIAogaW50IHF4bF9zdXJmX2V2aWN0KHN0cnVjdCBxeGxfZGV2aWNlICpx
ZGV2KQogewotCXJldHVybiB0dG1fYm9fZXZpY3RfbW0oJnFkZXYtPm1tYW4uYmRldiwgVFRNX1BM
X1BSSVYpOworCXJldHVybiB0dG1fZGV2aWNlX2V2aWN0X21tKCZxZGV2LT5tbWFuLmJkZXYsIFRU
TV9QTF9QUklWKTsKIH0KIAogaW50IHF4bF92cmFtX2V2aWN0KHN0cnVjdCBxeGxfZGV2aWNlICpx
ZGV2KQogewotCXJldHVybiB0dG1fYm9fZXZpY3RfbW0oJnFkZXYtPm1tYW4uYmRldiwgVFRNX1BM
X1ZSQU0pOworCXJldHVybiB0dG1fZGV2aWNlX2V2aWN0X21tKCZxZGV2LT5tbWFuLmJkZXYsIFRU
TV9QTF9WUkFNKTsKIH0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFkZW9u
X29iamVjdC5jIGIvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fb2JqZWN0LmMKaW5kZXgg
YTBiMmM0NTQxYTJhLi45NTc3ZWM0YThhNTYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9y
YWRlb24vcmFkZW9uX29iamVjdC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFkZW9u
X29iamVjdC5jCkBAIC0zODIsNyArMzgyLDcgQEAgaW50IHJhZGVvbl9ib19ldmljdF92cmFtKHN0
cnVjdCByYWRlb25fZGV2aWNlICpyZGV2KQogCQkJcmV0dXJuIDA7CiAJfQogI2VuZGlmCi0JcmV0
dXJuIHR0bV9ib19ldmljdF9tbSgmcmRldi0+bW1hbi5iZGV2LCBUVE1fUExfVlJBTSk7CisJcmV0
dXJuIHR0bV9kZXZpY2VfZXZpY3RfbW0oJnJkZXYtPm1tYW4uYmRldiwgVFRNX1BMX1ZSQU0pOwog
fQogCiB2b2lkIHJhZGVvbl9ib19mb3JjZV9kZWxldGUoc3RydWN0IHJhZGVvbl9kZXZpY2UgKnJk
ZXYpCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9iby5jIGIvZHJpdmVycy9n
cHUvZHJtL3R0bS90dG1fYm8uYwppbmRleCA0MGQxYWM5MWM5YmYuLjYxMzExZjY5ZjlmOCAxMDA2
NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm8uYworKysgYi9kcml2ZXJzL2dwdS9k
cm0vdHRtL3R0bV9iby5jCkBAIC0xMTczLDI0ICsxMTczLDYgQEAgc2l6ZV90IHR0bV9ib19kbWFf
YWNjX3NpemUoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCiB9CiBFWFBPUlRfU1lNQk9MKHR0bV9i
b19kbWFfYWNjX3NpemUpOwogCi1pbnQgdHRtX2JvX2V2aWN0X21tKHN0cnVjdCB0dG1fZGV2aWNl
ICpiZGV2LCB1bnNpZ25lZCBtZW1fdHlwZSkKLXsKLQlzdHJ1Y3QgdHRtX3Jlc291cmNlX21hbmFn
ZXIgKm1hbiA9IHR0bV9tYW5hZ2VyX3R5cGUoYmRldiwgbWVtX3R5cGUpOwotCi0JaWYgKG1lbV90
eXBlID09IDAgfHwgbWVtX3R5cGUgPj0gVFRNX05VTV9NRU1fVFlQRVMpIHsKLQkJcHJfZXJyKCJJ
bGxlZ2FsIG1lbW9yeSBtYW5hZ2VyIG1lbW9yeSB0eXBlICV1XG4iLCBtZW1fdHlwZSk7Ci0JCXJl
dHVybiAtRUlOVkFMOwotCX0KLQotCWlmICghbWFuKSB7Ci0JCXByX2VycigiTWVtb3J5IHR5cGUg
JXUgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkXG4iLCBtZW1fdHlwZSk7Ci0JCXJldHVybiAwOwot
CX0KLQotCXJldHVybiB0dG1fcmVzb3VyY2VfbWFuYWdlcl9mb3JjZV9saXN0X2NsZWFuKGJkZXYs
IG1hbik7Ci19Ci1FWFBPUlRfU1lNQk9MKHR0bV9ib19ldmljdF9tbSk7Ci0KIC8qCiAgKiBidWZm
ZXIgb2JqZWN0IHZtIGZ1bmN0aW9ucy4KICAqLwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L3R0bS90dG1fZGV2aWNlLmMgYi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9kZXZpY2UuYwppbmRl
eCA2NWFhNmU0ZjVjNmMuLmZlMmU0MDUyYWZjYiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L3R0bS90dG1fZGV2aWNlLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fZGV2aWNlLmMK
QEAgLTIyMCwzICsyMjAsMjEgQEAgaW50IHR0bV9kZXZpY2VfcmVsZWFzZShzdHJ1Y3QgdHRtX2Rl
dmljZSAqYmRldikKIAlyZXR1cm4gcmV0OwogfQogRVhQT1JUX1NZTUJPTCh0dG1fZGV2aWNlX3Jl
bGVhc2UpOworCitpbnQgdHRtX2RldmljZV9ldmljdF9tbShzdHJ1Y3QgdHRtX2RldmljZSAqYmRl
diwgdW5zaWduZWQgbWVtX3R5cGUpCit7CisJc3RydWN0IHR0bV9yZXNvdXJjZV9tYW5hZ2VyICpt
YW4gPSB0dG1fbWFuYWdlcl90eXBlKGJkZXYsIG1lbV90eXBlKTsKKworCWlmIChtZW1fdHlwZSA9
PSAwIHx8IG1lbV90eXBlID49IFRUTV9OVU1fTUVNX1RZUEVTKSB7CisJCXByX2VycigiSWxsZWdh
bCBtZW1vcnkgbWFuYWdlciBtZW1vcnkgdHlwZSAldVxuIiwgbWVtX3R5cGUpOworCQlyZXR1cm4g
LUVJTlZBTDsKKwl9CisKKwlpZiAoIW1hbikgeworCQlwcl9lcnIoIk1lbW9yeSB0eXBlICV1IGhh
cyBub3QgYmVlbiBpbml0aWFsaXplZFxuIiwgbWVtX3R5cGUpOworCQlyZXR1cm4gMDsKKwl9CisK
KwlyZXR1cm4gdHRtX3Jlc291cmNlX21hbmFnZXJfZm9yY2VfbGlzdF9jbGVhbihiZGV2LCBtYW4p
OworfQorRVhQT1JUX1NZTUJPTCh0dG1fZGV2aWNlX2V2aWN0X21tKTsKZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2Rydi5jIGIvZHJpdmVycy9ncHUvZHJtL3Ztd2dm
eC92bXdnZnhfZHJ2LmMKaW5kZXggZmNkYTNiNzZlMGRmLi4yZjk5MDc5ZTEyMmIgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2Rydi5jCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS92bXdnZngvdm13Z2Z4X2Rydi5jCkBAIC00NjgsNyArNDY4LDcgQEAgc3RhdGljIGludCB2
bXdfcmVxdWVzdF9kZXZpY2Uoc3RydWN0IHZtd19wcml2YXRlICpkZXZfcHJpdikKIAlpZiAoZGV2
X3ByaXYtPmNtYW4pCiAJCXZtd19jbWRidWZfcmVtb3ZlX3Bvb2woZGV2X3ByaXYtPmNtYW4pOwog
CWlmIChkZXZfcHJpdi0+aGFzX21vYikgewotCQkodm9pZCkgdHRtX2JvX2V2aWN0X21tKCZkZXZf
cHJpdi0+YmRldiwgVk1XX1BMX01PQik7CisJCSh2b2lkKSB0dG1fZGV2aWNlX2V2aWN0X21tKCZk
ZXZfcHJpdi0+YmRldiwgVk1XX1BMX01PQik7CiAJCXZtd19vdGFibGVzX3Rha2Vkb3duKGRldl9w
cml2KTsKIAl9CiAJaWYgKGRldl9wcml2LT5jbWFuKQpAQCAtNTAxLDcgKzUwMSw3IEBAIHN0YXRp
YyB2b2lkIHZtd19yZWxlYXNlX2RldmljZV9lYXJseShzdHJ1Y3Qgdm13X3ByaXZhdGUgKmRldl9w
cml2KQogCQl2bXdfY21kYnVmX3JlbW92ZV9wb29sKGRldl9wcml2LT5jbWFuKTsKIAogCWlmIChk
ZXZfcHJpdi0+aGFzX21vYikgewotCQl0dG1fYm9fZXZpY3RfbW0oJmRldl9wcml2LT5iZGV2LCBW
TVdfUExfTU9CKTsKKwkJdHRtX2RldmljZV9ldmljdF9tbSgmZGV2X3ByaXYtPmJkZXYsIFZNV19Q
TF9NT0IpOwogCQl2bXdfb3RhYmxlc190YWtlZG93bihkZXZfcHJpdik7CiAJfQogfQpAQCAtMTI1
Nyw3ICsxMjU3LDcgQEAgdm9pZCB2bXdfc3ZnYV9kaXNhYmxlKHN0cnVjdCB2bXdfcHJpdmF0ZSAq
ZGV2X3ByaXYpCiAJaWYgKHR0bV9yZXNvdXJjZV9tYW5hZ2VyX3VzZWQobWFuKSkgewogCQl0dG1f
cmVzb3VyY2VfbWFuYWdlcl9zZXRfdXNlZChtYW4sIGZhbHNlKTsKIAkJc3Bpbl91bmxvY2soJmRl
dl9wcml2LT5zdmdhX2xvY2spOwotCQlpZiAodHRtX2JvX2V2aWN0X21tKCZkZXZfcHJpdi0+YmRl
diwgVFRNX1BMX1ZSQU0pKQorCQlpZiAodHRtX2RldmljZV9ldmljdF9tbSgmZGV2X3ByaXYtPmJk
ZXYsIFRUTV9QTF9WUkFNKSkKIAkJCURSTV9FUlJPUigiRmFpbGVkIGV2aWN0aW5nIFZSQU0gYnVm
ZmVycy5cbiIpOwogCQl2bXdfd3JpdGUoZGV2X3ByaXYsIFNWR0FfUkVHX0VOQUJMRSwKIAkJCSAg
U1ZHQV9SRUdfRU5BQkxFX0hJREUgfApkaWZmIC0tZ2l0IGEvaW5jbHVkZS9kcm0vdHRtL3R0bV9i
b19hcGkuaCBiL2luY2x1ZGUvZHJtL3R0bS90dG1fYm9fYXBpLmgKaW5kZXggYTAyOTM1ZTBkMTIx
Li5mNDAxNGY0NWJkOGIgMTAwNjQ0Ci0tLSBhL2luY2x1ZGUvZHJtL3R0bS90dG1fYm9fYXBpLmgK
KysrIGIvaW5jbHVkZS9kcm0vdHRtL3R0bV9ib19hcGkuaApAQCAtNDQ4LDI2ICs0NDgsNiBAQCBp
bnQgdHRtX2JvX2luaXQoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fYnVmZmVy
X29iamVjdCAqYm8sCiAJCXN0cnVjdCBzZ190YWJsZSAqc2csIHN0cnVjdCBkbWFfcmVzdiAqcmVz
diwKIAkJdm9pZCAoKmRlc3Ryb3kpIChzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKikpOwogCi0v
KioKLSAqIHR0bV9ib19ldmljdF9tbQotICoKLSAqIEBiZGV2OiBQb2ludGVyIHRvIGEgdHRtX2Rl
dmljZSBzdHJ1Y3QuCi0gKiBAbWVtX3R5cGU6IFRoZSBtZW1vcnkgdHlwZS4KLSAqCi0gKiBFdmlj
dHMgYWxsIGJ1ZmZlcnMgb24gdGhlIGxydSBsaXN0IG9mIHRoZSBtZW1vcnkgdHlwZS4KLSAqIFRo
aXMgaXMgbm9ybWFsbHkgcGFydCBvZiBhIFZUIHN3aXRjaCBvciBhbgotICogb3V0LW9mLW1lbW9y
eS1zcGFjZS1kdWUtdG8tZnJhZ21lbnRhdGlvbiBoYW5kbGVyLgotICogVGhlIGNhbGxlciBtdXN0
IG1ha2Ugc3VyZSB0aGF0IHRoZXJlIGFyZSBubyBvdGhlciBwcm9jZXNzZXMKLSAqIGN1cnJlbnRs
eSB2YWxpZGF0aW5nIGJ1ZmZlcnMsIGFuZCBjYW4gZG8gdGhhdCBieSB0YWtpbmcgdGhlCi0gKiBz
dHJ1Y3QgdHRtX2RldmljZTo6dHRtX2xvY2sgaW4gd3JpdGUgbW9kZS4KLSAqCi0gKiBSZXR1cm5z
OgotICogLUVJTlZBTDogSW52YWxpZCBvciB1bmluaXRpYWxpemVkIG1lbW9yeSB0eXBlLgotICog
LUVSRVNUQVJUU1lTOiBUaGUgY2FsbCB3YXMgaW50ZXJydXB0ZWQgYnkgYSBzaWduYWwgd2hpbGUg
d2FpdGluZyB0bwotICogZXZpY3QgYSBidWZmZXIuCi0gKi8KLWludCB0dG1fYm9fZXZpY3RfbW0o
c3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsIHVuc2lnbmVkIG1lbV90eXBlKTsKLQogLyoqCiAgKiB0
dG1fa21hcF9vYmpfdmlydHVhbAogICoKZGlmZiAtLWdpdCBhL2luY2x1ZGUvZHJtL3R0bS90dG1f
ZGV2aWNlLmggYi9pbmNsdWRlL2RybS90dG0vdHRtX2RldmljZS5oCmluZGV4IDc1ZmVkZDM3OGU4
Zi4uMTM4NDA2OTdkM2JhIDEwMDY0NAotLS0gYS9pbmNsdWRlL2RybS90dG0vdHRtX2RldmljZS5o
CisrKyBiL2luY2x1ZGUvZHJtL3R0bS90dG1fZGV2aWNlLmgKQEAgLTM2Myw0ICszNjMsMjQgQEAg
aW50IHR0bV9kZXZpY2VfaW5pdChzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV9k
ZXZpY2VfZnVuY3MgKmZ1bmNzLAogCQkgICAgYm9vbCBuZWVkX2RtYTMyKTsKIGludCB0dG1fZGV2
aWNlX3JlbGVhc2Uoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYpOwogCisvKioKKyAqIHR0bV9kZXZp
Y2VfZXZpY3RfbW0KKyAqCisgKiBAYmRldjogUG9pbnRlciB0byBhIHR0bV9kZXZpY2Ugc3RydWN0
LgorICogQG1lbV90eXBlOiBUaGUgbWVtb3J5IHR5cGUuCisgKgorICogRXZpY3RzIGFsbCBidWZm
ZXJzIG9uIHRoZSBscnUgbGlzdCBvZiB0aGUgbWVtb3J5IHR5cGUuCisgKiBUaGlzIGlzIG5vcm1h
bGx5IHBhcnQgb2YgYSBWVCBzd2l0Y2ggb3IgYW4KKyAqIG91dC1vZi1tZW1vcnktc3BhY2UtZHVl
LXRvLWZyYWdtZW50YXRpb24gaGFuZGxlci4KKyAqIFRoZSBjYWxsZXIgbXVzdCBtYWtlIHN1cmUg
dGhhdCB0aGVyZSBhcmUgbm8gb3RoZXIgcHJvY2Vzc2VzCisgKiBjdXJyZW50bHkgdmFsaWRhdGlu
ZyBidWZmZXJzLCBhbmQgY2FuIGRvIHRoYXQgYnkgdGFraW5nIHRoZQorICogc3RydWN0IHR0bV9k
ZXZpY2U6OnR0bV9sb2NrIGluIHdyaXRlIG1vZGUuCisgKgorICogUmV0dXJuczoKKyAqIC1FSU5W
QUw6IEludmFsaWQgb3IgdW5pbml0aWFsaXplZCBtZW1vcnkgdHlwZS4KKyAqIC1FUkVTVEFSVFNZ
UzogVGhlIGNhbGwgd2FzIGludGVycnVwdGVkIGJ5IGEgc2lnbmFsIHdoaWxlIHdhaXRpbmcgdG8K
KyAqIGV2aWN0IGEgYnVmZmVyLgorICovCitpbnQgdHRtX2RldmljZV9ldmljdF9tbShzdHJ1Y3Qg
dHRtX2RldmljZSAqYmRldiwgdW5zaWduZWQgbWVtX3R5cGUpOworCiAjZW5kaWYKLS0gCjIuMTcu
MQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRl
dmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8v
bGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVsCg==
