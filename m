Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 6B0A9B07BB
	for <lists+dri-devel@lfdr.de>; Thu, 12 Sep 2019 06:15:30 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 434F96EBB8;
	Thu, 12 Sep 2019 04:12:55 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga17.intel.com (mga17.intel.com [192.55.52.151])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8CC236E029;
 Thu, 12 Sep 2019 03:25:10 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga004.jf.intel.com ([10.7.209.38])
 by fmsmga107.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 11 Sep 2019 20:25:10 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,489,1559545200"; d="scan'208";a="336444919"
Received: from helsinki.fi.intel.com ([10.237.66.159])
 by orsmga004.jf.intel.com with ESMTP; 11 Sep 2019 20:25:07 -0700
From: Gwan-gyeong Mun <gwan-gyeong.mun@intel.com>
To: intel-gfx@lists.freedesktop.org
Subject: [PATCH v6 3/7] drm: Add DisplayPort colorspace property
Date: Thu, 12 Sep 2019 06:24:51 +0300
Message-Id: <20190912032455.26095-4-gwan-gyeong.mun@intel.com>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20190912032455.26095-1-gwan-gyeong.mun@intel.com>
References: <20190912032455.26095-1-gwan-gyeong.mun@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: uma.shankar@intel.com, dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QmVjYXN1ZSBiZXR3ZWVuIEhETUkgYW5kIERQIGhhdmUgZGlmZmVyZW50IGNvbG9yc3BhY2VzLCBp
dCByZW5hbWVzCmRybV9tb2RlX2NyZWF0ZV9jb2xvcnNwYWNlX3Byb3BlcnR5KCkgZnVuY3Rpb24g
dG8KZHJtX21vZGVfY3JlYXRlX2hkbWlfY29sb3JzcGFjZV9wcm9wZXJ0eSgpIGZ1bmN0aW9uIGZv
ciBIRE1JIGNvbm5lY3Rvci4KQW5kIGl0IGFkZHMgZHJtX21vZGVfY3JlYXRlX2RwX2NvbG9yc3Bh
Y2VfcHJvcGVydHkoKSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcKb2YgRFAgY29sb3JzcGFjZSBwcm9w
ZXJ0eS4KSW4gb3JkZXIgdG8gYXBwbHkgY2hhbmdlZCBhbmQgYWRkZWQgZHJtIGFwaSwgaTkxNSBk
cml2ZXIgaGFzIGNoYW5uZ2VkLgoKdjM6IEFkZHJlc3NlZCByZXZpZXcgY29tbWVudHMgZnJvbSBW
aWxsZQogICAgLSBBZGQgbmV3IGNvbG9yaW1ldHJ5IG9wdGlvbnMgZm9yIERQIDEuNGEgc3BlYy4K
ICAgIC0gU2VwYXJhdGUgc2V0IG9mIGNvbG9yaW1ldHJ5IGVudW0gdmFsdWVzIGZvciBEUC4KdjQ6
IEFkZCBhZGRpdGlvbmFsIGNvbW1lbnRzIHRvIHN0cnVjdCBkcm1fcHJvcF9lbnVtX2xpc3QuCiAg
ICBQb2xpc2hpbmcgYW4gZW51bSBzdHJpbmcgb2Ygc3RydWN0IGRybV9wcm9wX2VudW1fbGlzdAp2
NTogQ2hhbmdlIGRlZmluaXRpb25zIG9mIERSTV9NT0RFX0NPTE9SSU1FVFJZcyB0byBmb2xsb3cg
SERNSSBwcmVmaXggYW5kCiAgICBEUCBhYmJyZXZpYXRpb25zLgogICAgQWRkIG1pc3NlZCB2YXJp
YWJsZXMgb24gZHBfY29sb3JzcGFjZXMuCiAgICBGaXggdHlwby4gW1VtYV0KdjY6IEFkZHJlc3Nl
ZCByZXZpZXcgY29tbWVudHMgZnJvbSBJbGlhIGFuZCBWaWxsZQogICAtIFNwbGl0IGRybV9tb2Rl
X2NyZWF0ZV9jb2xvcnNwYWNlX3Byb3BlcnR5KCkgdG8gRFAgYW5kIEhETUkgY29ubmVjdG9yLgoK
U2lnbmVkLW9mZi1ieTogR3dhbi1neWVvbmcgTXVuIDxnd2FuLWd5ZW9uZy5tdW5AaW50ZWwuY29t
PgpSZXZpZXdlZC1ieTogVW1hIFNoYW5rYXIgPHVtYS5zaGFua2FyQGludGVsLmNvbT4KLS0tCiBk
cml2ZXJzL2dwdS9kcm0vZHJtX2Nvbm5lY3Rvci5jICAgICAgICAgICAgICAgfCAxMTAgKysrKysr
KysrKysrKysrLS0tCiAuLi4vZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfY29ubmVjdG9yLmMg
ICAgfCAgMjEgKysrLQogaW5jbHVkZS9kcm0vZHJtX2Nvbm5lY3Rvci5oICAgICAgICAgICAgICAg
ICAgIHwgIDExICstCiAzIGZpbGVzIGNoYW5nZWQsIDEyMSBpbnNlcnRpb25zKCspLCAyMSBkZWxl
dGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vZHJtX2Nvbm5lY3Rvci5jIGIv
ZHJpdmVycy9ncHUvZHJtL2RybV9jb25uZWN0b3IuYwppbmRleCA0Yzc2NjYyNGIyMGQuLjQ4ZjQw
NThjNmQ5NiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2RybV9jb25uZWN0b3IuYworKysg
Yi9kcml2ZXJzL2dwdS9kcm0vZHJtX2Nvbm5lY3Rvci5jCkBAIC04ODIsNiArODgyLDQ3IEBAIHN0
YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX3Byb3BfZW51bV9saXN0IGhkbWlfY29sb3JzcGFjZXNbXSA9
IHsKIAl7IERSTV9NT0RFX0NPTE9SSU1FVFJZX0RDSV9QM19SR0JfVEhFQVRFUiwgIkRDSS1QM19S
R0JfVGhlYXRlciIgfSwKIH07CiAKKy8qCisgKiBBcyBwZXIgRFAgMS40YSBzcGVjLCAyLjIuNS43
LjUgVlNDIFNEUCBQYXlsb2FkIGZvciBQaXhlbCBFbmNvZGluZy9Db2xvcmltZXRyeQorICogRm9y
bWF0IFRhYmxlIDItMTIwCisgKi8KK3N0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX3Byb3BfZW51bV9s
aXN0IGRwX2NvbG9yc3BhY2VzW10gPSB7CisJLyogRm9yIERlZmF1bHQgY2FzZSwgZHJpdmVyIHdp
bGwgc2V0IHRoZSBjb2xvcnNwYWNlICovCisJeyBEUk1fTU9ERV9DT0xPUklNRVRSWV9ERUZBVUxU
LCAiRGVmYXVsdCIgfSwKKwkvKiBDb2xvcmltZXRyeSBiYXNlZCBvbiBzUkdCIChJRUMgNjE5NjYt
Mi0xKSAqLworCXsgRFJNX01PREVfQ09MT1JJTUVUUllfQ0VBX1JHQiwgIkNFQV9SR0IiIH0sCisJ
eyBEUk1fTU9ERV9DT0xPUklNRVRSWV9SR0JfV0lERV9GSVhFRCwgIlJHQl9XaWRlX0dhbXV0X0Zp
eGVkX1BvaW50IiB9LAorCS8qIENvbG9yaW1ldHJ5IGJhc2VkIG9uIHNjUkdCIChJRUMgNjE5NjYt
Mi0yKSAqLworCXsgRFJNX01PREVfQ09MT1JJTUVUUllfUkdCX1dJREVfRkxPQVQsICJSR0JfV2lk
ZV9HYW11dF9GbG9hdGluZ19Qb2ludCIgfSwKKwkvKiBDb2xvcmltZXRyeSBiYXNlZCBvbiBJRUMg
NjE5NjYtMi01ICovCisJeyBEUk1fTU9ERV9DT0xPUklNRVRSWV9PUFJHQiwgIm9wUkdCIiB9LAor
CS8qIENvbG9yaW1ldHJ5IGJhc2VkIG9uIFNNUFRFIFJQIDQzMS0yICovCisJeyBEUk1fTU9ERV9D
T0xPUklNRVRSWV9EQ0lfUDNfUkdCX0Q2NSwgIkRDSS1QM19SR0JfRDY1IiB9LAorCXsgRFJNX01P
REVfQ09MT1JJTUVUUllfUkdCX0NVU1RPTV9DT0xPUl9QUk9GSUxFLCAiUkdCX0N1c3RvbV9Db2xv
cl9Qcm9maWxlIiB9LAorCS8qIENvbG9yaW1ldHJ5IGJhc2VkIG9uIElUVS1SIEJULjIwMjAgKi8K
Kwl7IERSTV9NT0RFX0NPTE9SSU1FVFJZX0JUMjAyMF9SR0IsICJCVDIwMjBfUkdCIiB9LAorCXsg
RFJNX01PREVfQ09MT1JJTUVUUllfQlQ2MDFfWUNDLCAiQlQ2MDFfWUNDIiB9LAorCXsgRFJNX01P
REVfQ09MT1JJTUVUUllfQlQ3MDlfWUNDLCAiQlQ3MDlfWUNDIiB9LAorCS8qIFN0YW5kYXJkIERl
ZmluaXRpb24gQ29sb3JpbWV0cnkgYmFzZWQgb24gSUVDIDYxOTY2LTItNCAqLworCXsgRFJNX01P
REVfQ09MT1JJTUVUUllfWFZZQ0NfNjAxLCAiWFZZQ0NfNjAxIiB9LAorCS8qIEhpZ2ggRGVmaW5p
dGlvbiBDb2xvcmltZXRyeSBiYXNlZCBvbiBJRUMgNjE5NjYtMi00ICovCisJeyBEUk1fTU9ERV9D
T0xPUklNRVRSWV9YVllDQ183MDksICJYVllDQ183MDkiIH0sCisJLyogQ29sb3JpbWV0cnkgYmFz
ZWQgb24gSUVDIDYxOTY2LTItMS9BbWVuZG1lbnQgMSAqLworCXsgRFJNX01PREVfQ09MT1JJTUVU
UllfU1lDQ182MDEsICJTWUNDXzYwMSIgfSwKKwkvKiBDb2xvcmltZXRyeSBiYXNlZCBvbiBJRUMg
NjE5NjYtMi01IFszM10gKi8KKwl7IERSTV9NT0RFX0NPTE9SSU1FVFJZX09QWUNDXzYwMSwgIm9w
WUNDXzYwMSIgfSwKKwkvKiBDb2xvcmltZXRyeSBiYXNlZCBvbiBJVFUtUiBCVC4yMDIwICovCisJ
eyBEUk1fTU9ERV9DT0xPUklNRVRSWV9CVDIwMjBfQ1lDQywgIkJUMjAyMF9DWUNDIiB9LAorCS8q
IENvbG9yaW1ldHJ5IGJhc2VkIG9uIElUVS1SIEJULjIwMjAgKi8KKwl7IERSTV9NT0RFX0NPTE9S
SU1FVFJZX0JUMjAyMF9ZQ0MsICJCVDIwMjBfWUNDIiB9LAorCS8qCisJICogQ29sb3JpbWV0cnkg
YmFzZWQgb24gRGlnaXRhbCBJbWFnaW5nIGFuZCBDb21tdW5pY2F0aW9ucyBpbiBNZWRpY2luZQor
CSAqIChESUNPTSkgUGFydCAxNDogR3JheXNjYWxlIFN0YW5kYXJkIERpc3BsYXkgRnVuY3Rpb24K
KwkgKi8KKwl7IERSTV9NT0RFX0NPTE9SSU1FVFJZX1lfT05MWV9ESUNPTV9QMTRfR1JBWVNDQUxF
LCAiWV9PTkxZX0RJQ09NX1BhcnRfMTRfR3JheXNjYWxlIiB9LAorCXsgRFJNX01PREVfQ09MT1JJ
TUVUUllfUkFXX0NVU1RPTV9DT0xPUl9QUk9GSUxFLCAiUmF3X0N1c3RvbV9Db2xvcl9Qcm9maWxl
IiB9LAorfTsKKwogLyoqCiAgKiBET0M6IHN0YW5kYXJkIGNvbm5lY3RvciBwcm9wZXJ0aWVzCiAg
KgpAQCAtMTY3NCw3ICsxNzE1LDYgQEAgRVhQT1JUX1NZTUJPTChkcm1fbW9kZV9jcmVhdGVfYXNw
ZWN0X3JhdGlvX3Byb3BlcnR5KTsKICAqIERPQzogc3RhbmRhcmQgY29ubmVjdG9yIHByb3BlcnRp
ZXMKICAqCiAgKiBDb2xvcnNwYWNlOgotICogICAgIGRybV9tb2RlX2NyZWF0ZV9jb2xvcnNwYWNl
X3Byb3BlcnR5IC0gY3JlYXRlIGNvbG9yc3BhY2UgcHJvcGVydHkKICAqICAgICBUaGlzIHByb3Bl
cnR5IGhlbHBzIHNlbGVjdCBhIHN1aXRhYmxlIGNvbG9yc3BhY2UgYmFzZWQgb24gdGhlIHNpbmsK
ICAqICAgICBjYXBhYmlsaXR5LiBNb2Rlcm4gc2luayBkZXZpY2VzIHN1cHBvcnQgd2lkZXIgZ2Ft
dXQgbGlrZSBCVDIwMjAuCiAgKiAgICAgVGhpcyBoZWxwcyBzd2l0Y2ggdG8gQlQyMDIwIG1vZGUg
aWYgdGhlIEJUMjAyMCBlbmNvZGVkIHZpZGVvIHN0cmVhbQpAQCAtMTY5NCwzMiArMTczNCw2OCBA
QCBFWFBPUlRfU1lNQk9MKGRybV9tb2RlX2NyZWF0ZV9hc3BlY3RfcmF0aW9fcHJvcGVydHkpOwog
ICogICAgICAtIFRoaXMgcHJvcGVydHkgaXMganVzdCB0byBpbmZvcm0gc2luayB3aGF0IGNvbG9y
c3BhY2UKICAqICAgICAgICBzb3VyY2UgaXMgdHJ5aW5nIHRvIGRyaXZlLgogICoKKyAqIEJlY2Fz
dWUgYmV0d2VlbiBIRE1JIGFuZCBEUCBoYXZlIGRpZmZlcmVudCBjb2xvcnNwYWNlcywKKyAqIGRy
bV9tb2RlX2NyZWF0ZV9oZG1pX2NvbG9yc3BhY2VfcHJvcGVydHkoKSBpcyB1c2VkIGZvciBIRE1J
IGNvbm5lY3RvciBhbmQKKyAqIGRybV9tb2RlX2NyZWF0ZV9kcF9jb2xvcnNwYWNlX3Byb3BlcnR5
KCkgaXMgdXNlZCBmb3IgRFAgY29ubmVjdG9yLgorICovCisKKy8qKgorICogZHJtX21vZGVfY3Jl
YXRlX2hkbWlfY29sb3JzcGFjZV9wcm9wZXJ0eSAtIGNyZWF0ZSBoZG1pIGNvbG9yc3BhY2UgcHJv
cGVydHkKKyAqIEBjb25uZWN0b3I6IGNvbm5lY3RvciB0byBjcmVhdGUgdGhlIENvbG9yc3BhY2Ug
cHJvcGVydHkgb24uCisgKgogICogQ2FsbGVkIGJ5IGEgZHJpdmVyIHRoZSBmaXJzdCB0aW1lIGl0
J3MgbmVlZGVkLCBtdXN0IGJlIGF0dGFjaGVkIHRvIGRlc2lyZWQKLSAqIGNvbm5lY3RvcnMuCisg
KiBIRE1JIGNvbm5lY3RvcnMuCisgKgorICogUmV0dXJuczoKKyAqIFplcm8gb24gc3VjY2Vzcywg
bmVnYXRpdmUgZXJyb25vIG9uIGZhaWx1cmUuCiAgKi8KLWludCBkcm1fbW9kZV9jcmVhdGVfY29s
b3JzcGFjZV9wcm9wZXJ0eShzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQoraW50IGRy
bV9tb2RlX2NyZWF0ZV9oZG1pX2NvbG9yc3BhY2VfcHJvcGVydHkoc3RydWN0IGRybV9jb25uZWN0
b3IgKmNvbm5lY3RvcikKIHsKIAlzdHJ1Y3QgZHJtX2RldmljZSAqZGV2ID0gY29ubmVjdG9yLT5k
ZXY7Ci0Jc3RydWN0IGRybV9wcm9wZXJ0eSAqcHJvcDsKIAotCWlmIChjb25uZWN0b3ItPmNvbm5l
Y3Rvcl90eXBlID09IERSTV9NT0RFX0NPTk5FQ1RPUl9IRE1JQSB8fAotCSAgICBjb25uZWN0b3It
PmNvbm5lY3Rvcl90eXBlID09IERSTV9NT0RFX0NPTk5FQ1RPUl9IRE1JQikgewotCQlwcm9wID0g
ZHJtX3Byb3BlcnR5X2NyZWF0ZV9lbnVtKGRldiwgRFJNX01PREVfUFJPUF9FTlVNLAotCQkJCQkJ
IkNvbG9yc3BhY2UiLAotCQkJCQkJaGRtaV9jb2xvcnNwYWNlcywKLQkJCQkJCUFSUkFZX1NJWkUo
aGRtaV9jb2xvcnNwYWNlcykpOwotCQlpZiAoIXByb3ApCi0JCQlyZXR1cm4gLUVOT01FTTsKLQl9
IGVsc2UgewotCQlEUk1fREVCVUdfS01TKCJDb2xvcnNwYWNlIHByb3BlcnR5IG5vdCBzdXBwb3J0
ZWRcbiIpOworCWlmIChjb25uZWN0b3ItPmNvbG9yc3BhY2VfcHJvcGVydHkpCiAJCXJldHVybiAw
OwotCX0KIAotCWNvbm5lY3Rvci0+Y29sb3JzcGFjZV9wcm9wZXJ0eSA9IHByb3A7CisJY29ubmVj
dG9yLT5jb2xvcnNwYWNlX3Byb3BlcnR5ID0KKwkJZHJtX3Byb3BlcnR5X2NyZWF0ZV9lbnVtKGRl
diwgRFJNX01PREVfUFJPUF9FTlVNLCAiQ29sb3JzcGFjZSIsCisJCQkJCSBoZG1pX2NvbG9yc3Bh
Y2VzLAorCQkJCQkgQVJSQVlfU0laRShoZG1pX2NvbG9yc3BhY2VzKSk7CisKKwlpZiAoIWNvbm5l
Y3Rvci0+Y29sb3JzcGFjZV9wcm9wZXJ0eSkKKwkJcmV0dXJuIC1FTk9NRU07CisKKwlyZXR1cm4g
MDsKK30KK0VYUE9SVF9TWU1CT0woZHJtX21vZGVfY3JlYXRlX2hkbWlfY29sb3JzcGFjZV9wcm9w
ZXJ0eSk7CisKKy8qKgorICogZHJtX21vZGVfY3JlYXRlX2RwX2NvbG9yc3BhY2VfcHJvcGVydHkg
LSBjcmVhdGUgZHAgY29sb3JzcGFjZSBwcm9wZXJ0eQorICogQGNvbm5lY3RvcjogY29ubmVjdG9y
IHRvIGNyZWF0ZSB0aGUgQ29sb3JzcGFjZSBwcm9wZXJ0eSBvbi4KKyAqCisgKiBDYWxsZWQgYnkg
YSBkcml2ZXIgdGhlIGZpcnN0IHRpbWUgaXQncyBuZWVkZWQsIG11c3QgYmUgYXR0YWNoZWQgdG8g
ZGVzaXJlZAorICogRFAgY29ubmVjdG9ycy4KKyAqCisgKiBSZXR1cm5zOgorICogWmVybyBvbiBz
dWNjZXNzLCBuZWdhdGl2ZSBlcnJvbm8gb24gZmFpbHVyZS4KKyAqLworaW50IGRybV9tb2RlX2Ny
ZWF0ZV9kcF9jb2xvcnNwYWNlX3Byb3BlcnR5KHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0
b3IpCit7CisJc3RydWN0IGRybV9kZXZpY2UgKmRldiA9IGNvbm5lY3Rvci0+ZGV2OworCisJaWYg
KGNvbm5lY3Rvci0+Y29sb3JzcGFjZV9wcm9wZXJ0eSkKKwkJcmV0dXJuIDA7CisKKwljb25uZWN0
b3ItPmNvbG9yc3BhY2VfcHJvcGVydHkgPQorCQlkcm1fcHJvcGVydHlfY3JlYXRlX2VudW0oZGV2
LCBEUk1fTU9ERV9QUk9QX0VOVU0sICJDb2xvcnNwYWNlIiwKKwkJCQkJIGRwX2NvbG9yc3BhY2Vz
LAorCQkJCQkgQVJSQVlfU0laRShkcF9jb2xvcnNwYWNlcykpOworCisJaWYgKCFjb25uZWN0b3It
PmNvbG9yc3BhY2VfcHJvcGVydHkpCisJCXJldHVybiAtRU5PTUVNOwogCiAJcmV0dXJuIDA7CiB9
Ci1FWFBPUlRfU1lNQk9MKGRybV9tb2RlX2NyZWF0ZV9jb2xvcnNwYWNlX3Byb3BlcnR5KTsKK0VY
UE9SVF9TWU1CT0woZHJtX21vZGVfY3JlYXRlX2RwX2NvbG9yc3BhY2VfcHJvcGVydHkpOwogCiAv
KioKICAqIGRybV9tb2RlX2NyZWF0ZV9jb250ZW50X3R5cGVfcHJvcGVydHkgLSBjcmVhdGUgY29u
dGVudCB0eXBlIHByb3BlcnR5CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2Nvbm5lY3Rvci5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9jb25uZWN0b3IuYwppbmRleCAzMDhlYzYzMjA3ZWUuLjQ1OGU4YjQ2NDdlMiAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9jb25uZWN0b3IuYworKysgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Nvbm5lY3Rvci5jCkBAIC0yNzcsNyAr
Mjc3LDIyIEBAIGludGVsX2F0dGFjaF9hc3BlY3RfcmF0aW9fcHJvcGVydHkoc3RydWN0IGRybV9j
b25uZWN0b3IgKmNvbm5lY3RvcikKIHZvaWQKIGludGVsX2F0dGFjaF9jb2xvcnNwYWNlX3Byb3Bl
cnR5KHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCiB7Ci0JaWYgKCFkcm1fbW9kZV9j
cmVhdGVfY29sb3JzcGFjZV9wcm9wZXJ0eShjb25uZWN0b3IpKQotCQlkcm1fb2JqZWN0X2F0dGFj
aF9wcm9wZXJ0eSgmY29ubmVjdG9yLT5iYXNlLAotCQkJCQkgICBjb25uZWN0b3ItPmNvbG9yc3Bh
Y2VfcHJvcGVydHksIDApOworCXN3aXRjaCAoY29ubmVjdG9yLT5jb25uZWN0b3JfdHlwZSkgewor
CWNhc2UgRFJNX01PREVfQ09OTkVDVE9SX0hETUlBOgorCWNhc2UgRFJNX01PREVfQ09OTkVDVE9S
X0hETUlCOgorCQlpZihkcm1fbW9kZV9jcmVhdGVfaGRtaV9jb2xvcnNwYWNlX3Byb3BlcnR5KGNv
bm5lY3RvcikpCisJCQlyZXR1cm47CisJCWJyZWFrOworCWNhc2UgRFJNX01PREVfQ09OTkVDVE9S
X0Rpc3BsYXlQb3J0OgorCWNhc2UgRFJNX01PREVfQ09OTkVDVE9SX2VEUDoKKwkJaWYoZHJtX21v
ZGVfY3JlYXRlX2RwX2NvbG9yc3BhY2VfcHJvcGVydHkoY29ubmVjdG9yKSkKKwkJCXJldHVybjsK
KwkJYnJlYWs7CisJZGVmYXVsdDoKKwkJRFJNX0RFQlVHX0tNUygiQ29sb3JzcGFjZSBwcm9wZXJ0
eSBub3Qgc3VwcG9ydGVkXG4iKTsKKwkJcmV0dXJuOworCX0KKworCWRybV9vYmplY3RfYXR0YWNo
X3Byb3BlcnR5KCZjb25uZWN0b3ItPmJhc2UsCisJCQkJICAgY29ubmVjdG9yLT5jb2xvcnNwYWNl
X3Byb3BlcnR5LCAwKTsKIH0KZGlmZiAtLWdpdCBhL2luY2x1ZGUvZHJtL2RybV9jb25uZWN0b3Iu
aCBiL2luY2x1ZGUvZHJtL2RybV9jb25uZWN0b3IuaAppbmRleCA2ODFjYjU5MGY5NTIuLjQ4ZWZl
OTJlZmZkNyAxMDA2NDQKLS0tIGEvaW5jbHVkZS9kcm0vZHJtX2Nvbm5lY3Rvci5oCisrKyBiL2lu
Y2x1ZGUvZHJtL2RybV9jb25uZWN0b3IuaApAQCAtMjgxLDYgKzI4MSwxNCBAQCBlbnVtIGRybV9w
YW5lbF9vcmllbnRhdGlvbiB7CiAvKiBBZGRpdGlvbmFsIENvbG9yaW1ldHJ5IGV4dGVuc2lvbiBh
ZGRlZCBhcyBwYXJ0IG9mIENUQSA4NjEuRyAqLwogI2RlZmluZSBEUk1fTU9ERV9DT0xPUklNRVRS
WV9EQ0lfUDNfUkdCX0Q2NQkJMTEKICNkZWZpbmUgRFJNX01PREVfQ09MT1JJTUVUUllfRENJX1Az
X1JHQl9USEVBVEVSCQkxMgorLyogQWRkaXRpb25hbCBDb2xvcmltZXRyeSBPcHRpb25zIGFkZGVk
IGZvciBEUCAxLjRhIFZTQyBDb2xvcmltZXRyeSBGb3JtYXQgKi8KKyNkZWZpbmUgRFJNX01PREVf
Q09MT1JJTUVUUllfQ0VBX1JHQgkJCTEzCisjZGVmaW5lIERSTV9NT0RFX0NPTE9SSU1FVFJZX1JH
Ql9XSURFX0ZJWEVECQkxNAorI2RlZmluZSBEUk1fTU9ERV9DT0xPUklNRVRSWV9SR0JfV0lERV9G
TE9BVAkJMTUKKyNkZWZpbmUgRFJNX01PREVfQ09MT1JJTUVUUllfUkdCX0NVU1RPTV9DT0xPUl9Q
Uk9GSUxFCTE2CisjZGVmaW5lIERSTV9NT0RFX0NPTE9SSU1FVFJZX0JUNjAxX1lDQwkJCTE3Cisj
ZGVmaW5lIERSTV9NT0RFX0NPTE9SSU1FVFJZX1lfT05MWV9ESUNPTV9QMTRfR1JBWVNDQUxFCTE4
CisjZGVmaW5lIERSTV9NT0RFX0NPTE9SSU1FVFJZX1JBV19DVVNUT01fQ09MT1JfUFJPRklMRQkx
OQogCiAvKioKICAqIGVudW0gZHJtX2J1c19mbGFncyAtIGJ1c19mbGFncyBpbmZvIGZvciAmZHJt
X2Rpc3BsYXlfaW5mbwpAQCAtMTUyMyw3ICsxNTMxLDggQEAgaW50IGRybV9jb25uZWN0b3JfYXR0
YWNoX3NjYWxpbmdfbW9kZV9wcm9wZXJ0eShzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9y
LAogaW50IGRybV9jb25uZWN0b3JfYXR0YWNoX3Zycl9jYXBhYmxlX3Byb3BlcnR5KAogCQlzdHJ1
Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKTsKIGludCBkcm1fbW9kZV9jcmVhdGVfYXNwZWN0
X3JhdGlvX3Byb3BlcnR5KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYpOwotaW50IGRybV9tb2RlX2Ny
ZWF0ZV9jb2xvcnNwYWNlX3Byb3BlcnR5KHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3Ip
OworaW50IGRybV9tb2RlX2NyZWF0ZV9oZG1pX2NvbG9yc3BhY2VfcHJvcGVydHkoc3RydWN0IGRy
bV9jb25uZWN0b3IgKmNvbm5lY3Rvcik7CitpbnQgZHJtX21vZGVfY3JlYXRlX2RwX2NvbG9yc3Bh
Y2VfcHJvcGVydHkoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3Rvcik7CiBpbnQgZHJtX21v
ZGVfY3JlYXRlX2NvbnRlbnRfdHlwZV9wcm9wZXJ0eShzdHJ1Y3QgZHJtX2RldmljZSAqZGV2KTsK
IHZvaWQgZHJtX2hkbWlfYXZpX2luZm9mcmFtZV9jb250ZW50X3R5cGUoc3RydWN0IGhkbWlfYXZp
X2luZm9mcmFtZSAqZnJhbWUsCiAJCQkJCSBjb25zdCBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9zdGF0
ZSAqY29ubl9zdGF0ZSk7Ci0tIAoyLjIzLjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3Rz
LmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xp
c3RpbmZvL2RyaS1kZXZlbA==
