Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 545B4BEA09
	for <lists+dri-devel@lfdr.de>; Thu, 26 Sep 2019 03:23:18 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 9567D6E0BE;
	Thu, 26 Sep 2019 01:23:13 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from bhuna.collabora.co.uk (bhuna.collabora.co.uk
 [IPv6:2a00:1098:0:82:1000:25:2eeb:e3e3])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0E3F16E0B8;
 Thu, 26 Sep 2019 01:23:11 +0000 (UTC)
Received: from [127.0.0.1] (localhost [127.0.0.1])
 (Authenticated sender: koike) with ESMTPSA id 2E9E028ED0E
From: Helen Koike <helen.koike@collabora.com>
To: dri-devel@lists.freedesktop.org,
	intel-gfx@lists.freedesktop.org
Subject: [PATCH v11 1/2] drm/i915: Introduce async plane update to i915
Date: Wed, 25 Sep 2019 22:22:42 -0300
Message-Id: <20190926012243.4893-1-helen.koike@collabora.com>
X-Mailer: git-send-email 2.22.0
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: mcasas@google.com, zhenyu.z.wang@intel.com, airlied@linux.ie,
 daniel.vetter@ffwll.ch, tina.zhang@intel.com, linux-kernel@vger.kernel.org,
 tfiga@chromium.org, gustavo.padovan@collabora.com,
 Helen Koike <helen.koike@collabora.com>, rodrigo.vivi@intel.com,
 enric.balletbo@collabora.com, kernel@collabora.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogR3VzdGF2byBQYWRvdmFuIDxndXN0YXZvLnBhZG92YW5AY29sbGFib3JhLmNvbT4KCkFk
ZCBpbXBsZW1lbnRhdGlvbiBmb3IgYXN5bmMgcGxhbmUgdXBkYXRlIGNhbGxiYWNrcwoKU2lnbmVk
LW9mZi1ieTogR3VzdGF2byBQYWRvdmFuIDxndXN0YXZvLnBhZG92YW5AY29sbGFib3JhLmNvbT4K
U2lnbmVkLW9mZi1ieTogRW5yaWMgQmFsbGV0Ym8gaSBTZXJyYSA8ZW5yaWMuYmFsbGV0Ym9AY29s
bGFib3JhLmNvbT4KU2lnbmVkLW9mZi1ieTogVGluYSBaaGFuZyA8dGluYS56aGFuZ0BpbnRlbC5j
b20+ClNpZ25lZC1vZmYtYnk6IEhlbGVuIEtvaWtlIDxoZWxlbi5rb2lrZUBjb2xsYWJvcmEuY29t
PgpUZXN0ZWQtYnk6IFRpbmEgWmhhbmcgPHRpbmEuemhhbmdAaW50ZWwuY29tPgoKLS0tCkhpLAoK
SSByYW4gdGhlIGZvbGxvd2luZyB0ZXN0cyBhbmQgbm8gcmVncmVzc2lvbnMgd2VyZSBmb3VuZDoK
Ci4vc2NyaXB0cy9ydW4tdGVzdHMuc2ggLXAgLXMgLXQgIi4qcGxhbmVfY3Vyc29yX2xlZ2FjeS4q
IiAtdAoiLiprbXNfY3Vyc29yX2xlZ2FjeS4qIiAtciByZXN1bHRzLWB1bmFtZSAtcmAtdjExIC12
CgpUaGUgaWd0IHRlc3QgcmVzdWx0cyBjYW4gYmUgZm91bmQgYXQKaHR0cHM6Ly9wZW9wbGUuY29s
bGFib3JhLmNvbS9+a29pa2UvcmVzdWx0cy01LjMuMC1yYzMrLXYxMS9odG1sCgpUaGFua3MKSGVs
ZW4KCkNoYW5nZXMgaW4gdjExOgogLSB2MTAgaHR0cHM6Ly9wYXRjaHdvcmsua2VybmVsLm9yZy9w
cm9qZWN0L2RyaS1kZXZlbC9saXN0Lz9zZXJpZXM9MTQ3MDk1CiAtIHJlYmFzZSBvbiBkcm0taW50
ZWwKIC0gcmVwbGFjZSBpOTE1X2dlbV90cmFja19mYigpIGJ5IGludGVsX2Zyb250YnVmZmVyX3Ry
YWNrKCkKCkNoYW5nZXMgaW4gdjEwOgogLSB2OTogaHR0cHM6Ly9wYXRjaHdvcmsua2VybmVsLm9y
Zy9wYXRjaC8xMTAwMDU2MS8KIC0gcmViYXNlIG9uIGRybS10aXAKIC0gY2FsbCBpOTE1X3N3X2Zl
bmNlX2luaXQoKSBpbiB0aGUgYmVnaW5pbmcgb2YgaW50ZWxfYXRvbWljX2NvbW1pdCgpLAogb3Ro
ZXJ3aXNlIGRybV9hdG9taWNfaGVscGVyX3ByZXBhcmVfcGxhbmVzKCkgd2l0aG91dCBpbml0aWFs
aXppbmcgdGhlCiBmZW5jZSBvYmplY3QsIGNhc2luZyBlcnJvcnMgbGlrZToKT0RFQlVHOiBhc3Nl
cnRfaW5pdCBub3QgYXZhaWxhYmxlIChhY3RpdmUgc3RhdGUgMCkgb2JqZWN0IHR5cGU6IGk5MTVf
c3dfZmVuY2UgaGludDogMHgwCgpDaGFuZ2VzIGluIHY5OgogLSB2ODogaHR0cHM6Ly9wYXRjaHdv
cmsua2VybmVsLm9yZy9wYXRjaC8xMDg0MzM5NS8KIC0gQWRkZWQgdGVzdGVkLWJ5IHRhZwogLSBz
dWJtaXR0ZWQgdG8gIGludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcgdG8gaW52b2tlIENJ
CiAtIHJlYmFzZWQgYW5kIGZpeGVkIGNvbmZsaWN0cyBvbiB0b3Agb2YgZHJtLXRpcAoKQ2hhbmdl
cyBpbiB2ODoKIC0gdjc6IGh0dHBzOi8vbGttbC5vcmcvbGttbC8yMDE4LzYvOC8xNjgKIC0gdjcg
d2FzIHNwbGl0ZWQgaW4gdHdvLCBvbmUgdGhhdCBhZGRzIHRoZSBhc3luYyBjYWxsYmFja3MgYW5k
IGFub3RoZXIKIHRoYXQgdXBkYXRlcyB0aGUgY3Vyc29yLgogLSByZWJhc2Ugd2l0aCBkcm0taW50
ZWwKIC0gYWxsb3cgYXN5bmMgdXBkYXRlIGluIGFsbCB0eXBlcyBvZiBwbGFuZXMsIG5vdCBvbmx5
IGN1cnNvcgogLSBhZGQgd2F0ZXJtYXJrIGNoZWNrcyBpbiBhc3luYyB1cGRhdGUKIC0gcmVtb3Zl
IGJ5cGFzcyBvZiBpbnRlbF9wcmVwYXJlX3BsYW5lX2ZiKCkgaW4gY2FzZSBvZiBhc3luYyB1cGRh
dGUKIC0gYWRkIG1pc3NpbmcgZHJtX2F0b21pY19oZWxwZXJfY2xlYW51cF9wbGFuZXMoZGV2LCBz
dGF0ZSkgY2FsbCBpbgogaW50ZWxfYXRvbWljX2NvbW1pdCgpLgogLSB1c2Ugc3dhcCgpIGZ1bmN0
aW9uIGluIGFzeW5jIHVwZGF0ZSB0byBzZXQgdGhlIG9sZF9mYiBpbiB0aGUKIG5ld19zdGF0ZSBv
YmplY3QuCiAtIHVzZSBoZWxwZXJzIGludGVsX3VwZGF0ZV9wbGFuZSgpL2ludGVsX2Rpc2FibGVf
cGxhbmUoKQoKQ2hhbmdlcyBpbiB2NzoKLSBSZWJhc2Ugb24gdG9wIG9mIGRybS1pbnRlbCByZXBv
c2l0b3J5LiBIb3BlZnVsbHkgbm93IHdpbGwgcGxheQogIG5pY2VseSB3aXRoIGF1dG9idWlsZGVy
cy4KCkNoYW5nZXMgaW4gdjY6Ci0gUmV3b3JrIHRoZSBpbnRlbF9wbGFuZV9hdG9taWNfYXN5bmNf
dXBkYXRlIGR1ZSBkcml2ZXIgY2hhbmdlZCBmcm9tCiAgbGFzdCB0aW1lLgotIFJlbW92ZWQgdGhl
IG11dGV4X2xvY2svdW5sb2NrIGFzIGNhdXNlcyBhIGRlYWRsb2NrLgoKQ2hhbmdlcyBpbiB2NToK
LSBDYWxsIGRybV9hdG9taWNfaGVscGVyX2FzeW5jX2NoZWNrKCkgZnJvbSB0aGUgY2hlY2sgaG9v
awoKQ2hhbmdlcyBpbiB2NDoKLSBTZXQgY29ycmVjdCB2bWEgdG8gbmV3IHN0YXRlIGZvciBjbGVh
bnVwCi0gTW92ZSBzaXplIGNoZWNrcyBiYWNrIHRvIGRyaXZlcnMgKFZpbGxlIFN5cmrDpGzDpCkK
CkNoYW5nZXMgaW4gdjM6Ci0gTW92ZSBmYiBzZXR0aW5nIHRvIGNvcmUgYW5kIHVzZSBuZXcgc3Rh
dGUgKEVyaWMgQW5ob2x0KQoKIC4uLi9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9hdG9taWNf
cGxhbmUuYyB8IDcxICsrKysrKysrKysrKysrKysrKysKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfZGlzcGxheS5jICB8IDIwICsrKy0tLQogLi4uL2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfZGlzcGxheV90eXBlcy5oICAgIHwgIDYgKysKIDMgZmlsZXMgY2hhbmdlZCwgODkgaW5z
ZXJ0aW9ucygrKSwgOCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2F0b21pY19wbGFuZS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9hdG9taWNfcGxhbmUuYwppbmRleCBkMWZjZGYyMDZkYTQuLmZhYTVkNzRl
M2NjZiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9hdG9t
aWNfcGxhbmUuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2F0b21p
Y19wbGFuZS5jCkBAIC0zNjUsOCArMzY1LDc5IEBAIHZvaWQgaTl4eF91cGRhdGVfcGxhbmVzX29u
X2NydGMoc3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUsCiAJfQogfQogCitzdGF0aWMg
aW50IGludGVsX3BsYW5lX2F0b21pY19hc3luY19jaGVjayhzdHJ1Y3QgZHJtX3BsYW5lICpwbGFu
ZSwKKwkJCQkJICBzdHJ1Y3QgZHJtX3BsYW5lX3N0YXRlICpzdGF0ZSkKK3sKKwlzdHJ1Y3QgZHJt
X2NydGNfc3RhdGUgKmNydGNfc3RhdGU7CisKKwljcnRjX3N0YXRlID0gZHJtX2F0b21pY19nZXRf
ZXhpc3RpbmdfY3J0Y19zdGF0ZShzdGF0ZS0+c3RhdGUsCisJCQkJCQkJc3RhdGUtPmNydGMpOwor
CWlmIChXQVJOX09OKCFjcnRjX3N0YXRlKSkKKwkJcmV0dXJuIC1FSU5WQUw7CisKKwkvKgorCSAq
IFdoZW4gY3J0YyBpcyBpbmFjdGl2ZSBvciB0aGVyZSBpcyBhIG1vZGVzZXQgcGVuZGluZywKKwkg
KiB3YWl0IGZvciBpdCB0byBjb21wbGV0ZSBpbiB0aGUgc2xvd3BhdGgKKwkgKi8KKwlpZiAoIWNy
dGNfc3RhdGUtPmFjdGl2ZSB8fCB0b19pbnRlbF9jcnRjX3N0YXRlKGNydGNfc3RhdGUpLT51cGRh
dGVfcGlwZSkKKwkJcmV0dXJuIC1FSU5WQUw7CisKKwkvKgorCSAqIElmIGFueSBwYXJhbWV0ZXJz
IGNoYW5nZSB0aGF0IG1heSBhZmZlY3Qgd2F0ZXJtYXJrcywKKwkgKiB0YWtlIHRoZSBzbG93cGF0
aC4gT25seSBjaGFuZ2luZyBmYiBvciBwb3NpdGlvbiBzaG91bGQgYmUKKwkgKiBpbiB0aGUgZmFz
dHBhdGguCisJICovCisJaWYgKHBsYW5lLT5zdGF0ZS0+Y3J0YyAhPSBzdGF0ZS0+Y3J0YyB8fAor
CSAgICBwbGFuZS0+c3RhdGUtPnNyY193ICE9IHN0YXRlLT5zcmNfdyB8fAorCSAgICBwbGFuZS0+
c3RhdGUtPnNyY19oICE9IHN0YXRlLT5zcmNfaCB8fAorCSAgICBwbGFuZS0+c3RhdGUtPmNydGNf
dyAhPSBzdGF0ZS0+Y3J0Y193IHx8CisJICAgIHBsYW5lLT5zdGF0ZS0+Y3J0Y19oICE9IHN0YXRl
LT5jcnRjX2ggfHwKKwkgICAgIXBsYW5lLT5zdGF0ZS0+ZmIgIT0gIXN0YXRlLT5mYikKKwkJcmV0
dXJuIC1FSU5WQUw7CisKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIHZvaWQgaW50ZWxfcGxhbmVf
YXRvbWljX2FzeW5jX3VwZGF0ZShzdHJ1Y3QgZHJtX3BsYW5lICpwbGFuZSwKKwkJCQkJICAgIHN0
cnVjdCBkcm1fcGxhbmVfc3RhdGUgKm5ld19zdGF0ZSkKK3sKKwlzdHJ1Y3QgaW50ZWxfYXRvbWlj
X3N0YXRlICppbnRlbF9uZXdfc3RhdGUgPQorCQl0b19pbnRlbF9hdG9taWNfc3RhdGUobmV3X3N0
YXRlLT5zdGF0ZSk7CisJc3RydWN0IGludGVsX3BsYW5lICppbnRlbF9wbGFuZSA9IHRvX2ludGVs
X3BsYW5lKHBsYW5lKTsKKwlzdHJ1Y3QgZHJtX2NydGMgKmNydGMgPSBwbGFuZS0+c3RhdGUtPmNy
dGM7CisJc3RydWN0IGludGVsX2NydGNfc3RhdGUgKm5ld19jcnRjX3N0YXRlOworCXN0cnVjdCBp
bnRlbF9jcnRjICppbnRlbF9jcnRjOworCWludCBpOworCisJZm9yX2VhY2hfbmV3X2ludGVsX2Ny
dGNfaW5fc3RhdGUoaW50ZWxfbmV3X3N0YXRlLCBpbnRlbF9jcnRjLAorCQkJCQkgbmV3X2NydGNf
c3RhdGUsIGkpCisJCVdBUk5fT04obmV3X2NydGNfc3RhdGUtPndtLm5lZWRfcG9zdHZibF91cGRh
dGUgfHwKKwkJCW5ld19jcnRjX3N0YXRlLT51cGRhdGVfd21fcG9zdCk7CisKKwlpbnRlbF9mcm9u
dGJ1ZmZlcl90cmFjayh0b19pbnRlbF9mcm9udGJ1ZmZlcihwbGFuZS0+c3RhdGUtPmZiKSwKKwkJ
CQl0b19pbnRlbF9mcm9udGJ1ZmZlcihuZXdfc3RhdGUtPmZiKSwKKwkJCQlpbnRlbF9wbGFuZS0+
ZnJvbnRidWZmZXJfYml0KTsKKworCXBsYW5lLT5zdGF0ZS0+c3JjX3ggPSBuZXdfc3RhdGUtPnNy
Y194OworCXBsYW5lLT5zdGF0ZS0+c3JjX3kgPSBuZXdfc3RhdGUtPnNyY195OworCXBsYW5lLT5z
dGF0ZS0+Y3J0Y194ID0gbmV3X3N0YXRlLT5jcnRjX3g7CisJcGxhbmUtPnN0YXRlLT5jcnRjX3kg
PSBuZXdfc3RhdGUtPmNydGNfeTsKKworCXN3YXAocGxhbmUtPnN0YXRlLT5mYiwgbmV3X3N0YXRl
LT5mYik7CisKKwlpZiAocGxhbmUtPnN0YXRlLT52aXNpYmxlKQorCQlpbnRlbF91cGRhdGVfcGxh
bmUoaW50ZWxfcGxhbmUsCisJCQkJICAgdG9faW50ZWxfY3J0Y19zdGF0ZShjcnRjLT5zdGF0ZSks
CisJCQkJICAgdG9faW50ZWxfcGxhbmVfc3RhdGUocGxhbmUtPnN0YXRlKSk7CisJZWxzZQorCQlp
bnRlbF9kaXNhYmxlX3BsYW5lKGludGVsX3BsYW5lLAorCQkJCSAgICB0b19pbnRlbF9jcnRjX3N0
YXRlKGNydGMtPnN0YXRlKSk7Cit9CisKIGNvbnN0IHN0cnVjdCBkcm1fcGxhbmVfaGVscGVyX2Z1
bmNzIGludGVsX3BsYW5lX2hlbHBlcl9mdW5jcyA9IHsKIAkucHJlcGFyZV9mYiA9IGludGVsX3By
ZXBhcmVfcGxhbmVfZmIsCiAJLmNsZWFudXBfZmIgPSBpbnRlbF9jbGVhbnVwX3BsYW5lX2ZiLAog
CS5hdG9taWNfY2hlY2sgPSBpbnRlbF9wbGFuZV9hdG9taWNfY2hlY2ssCisJLmF0b21pY19hc3lu
Y19jaGVjayA9IGludGVsX3BsYW5lX2F0b21pY19hc3luY19jaGVjaywKKwkuYXRvbWljX2FzeW5j
X3VwZGF0ZSA9IGludGVsX3BsYW5lX2F0b21pY19hc3luY191cGRhdGUsCiB9OwpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYwppbmRleCBiNTFkMWNlYjg3Mzku
LjhlZTc0Y2RhNWI0NSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9kaXNwbGF5LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9k
aXNwbGF5LmMKQEAgLTMxNTgsMTIgKzMxNTgsNiBAQCBzdGF0aWMgdm9pZCBpbnRlbF9wbGFuZV9k
aXNhYmxlX25vYXRvbWljKHN0cnVjdCBpbnRlbF9jcnRjICpjcnRjLAogCWludGVsX2Rpc2FibGVf
cGxhbmUocGxhbmUsIGNydGNfc3RhdGUpOwogfQogCi1zdGF0aWMgc3RydWN0IGludGVsX2Zyb250
YnVmZmVyICoKLXRvX2ludGVsX2Zyb250YnVmZmVyKHN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZi
KQotewotCXJldHVybiBmYiA/IHRvX2ludGVsX2ZyYW1lYnVmZmVyKGZiKS0+ZnJvbnRidWZmZXIg
OiBOVUxMOwotfQotCiBzdGF0aWMgdm9pZAogaW50ZWxfZmluZF9pbml0aWFsX3BsYW5lX29iaihz
dHJ1Y3QgaW50ZWxfY3J0YyAqaW50ZWxfY3J0YywKIAkJCSAgICAgc3RydWN0IGludGVsX2luaXRp
YWxfcGxhbmVfY29uZmlnICpwbGFuZV9jb25maWcpCkBAIC0xNDEyOSwxMSArMTQxMjMsMjEgQEAg
c3RhdGljIGludCBpbnRlbF9hdG9taWNfY29tbWl0KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCiAJ
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShkZXYpOwogCWludCBy
ZXQgPSAwOwogCisJaTkxNV9zd19mZW5jZV9pbml0KCZzdGF0ZS0+Y29tbWl0X3JlYWR5LAorCQkJ
ICAgaW50ZWxfYXRvbWljX2NvbW1pdF9yZWFkeSk7CisKKwlpZiAoX3N0YXRlLT5hc3luY191cGRh
dGUpIHsKKwkJcmV0ID0gZHJtX2F0b21pY19oZWxwZXJfcHJlcGFyZV9wbGFuZXMoZGV2LCBfc3Rh
dGUpOworCQlpZiAocmV0KQorCQkJcmV0dXJuIHJldDsKKwkJZHJtX2F0b21pY19oZWxwZXJfYXN5
bmNfY29tbWl0KGRldiwgX3N0YXRlKTsKKwkJZHJtX2F0b21pY19oZWxwZXJfY2xlYW51cF9wbGFu
ZXMoZGV2LCBfc3RhdGUpOworCQlyZXR1cm4gMDsKKwl9CisKIAlzdGF0ZS0+d2FrZXJlZiA9IGlu
dGVsX3J1bnRpbWVfcG1fZ2V0KCZkZXZfcHJpdi0+cnVudGltZV9wbSk7CiAKIAlkcm1fYXRvbWlj
X3N0YXRlX2dldCgmc3RhdGUtPmJhc2UpOwotCWk5MTVfc3dfZmVuY2VfaW5pdCgmc3RhdGUtPmNv
bW1pdF9yZWFkeSwKLQkJCSAgIGludGVsX2F0b21pY19jb21taXRfcmVhZHkpOwogCiAJLyoKIAkg
KiBUaGUgaW50ZWxfbGVnYWN5X2N1cnNvcl91cGRhdGUoKSBmYXN0IHBhdGggdGFrZXMgY2FyZQpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3R5
cGVzLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfdHlwZXMu
aAppbmRleCA0NDlhYmFlYTYxOWYuLjAwZWJlNWI5OWYyNSAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3R5cGVzLmgKKysrIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3R5cGVzLmgKQEAgLTEwOTIsNiArMTA5
MiwxMiBAQCBzdHJ1Y3QgY3hzcl9sYXRlbmN5IHsKICNkZWZpbmUgdG9faW50ZWxfcGxhbmVfc3Rh
dGUoeCkgY29udGFpbmVyX29mKHgsIHN0cnVjdCBpbnRlbF9wbGFuZV9zdGF0ZSwgYmFzZSkKICNk
ZWZpbmUgaW50ZWxfZmJfb2JqKHgpICgoeCkgPyB0b19pbnRlbF9ibygoeCktPm9ialswXSkgOiBO
VUxMKQogCitzdGF0aWMgaW5saW5lIHN0cnVjdCBpbnRlbF9mcm9udGJ1ZmZlciAqCit0b19pbnRl
bF9mcm9udGJ1ZmZlcihzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpmYikKK3sKKwlyZXR1cm4gZmIg
PyB0b19pbnRlbF9mcmFtZWJ1ZmZlcihmYiktPmZyb250YnVmZmVyIDogTlVMTDsKK30KKwogc3Ry
dWN0IGludGVsX2hkbWkgewogCWk5MTVfcmVnX3QgaGRtaV9yZWc7CiAJaW50IGRkY19idXM7Ci0t
IAoyLjIyLjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
CmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpo
dHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
