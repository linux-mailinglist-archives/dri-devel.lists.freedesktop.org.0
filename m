Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A571D36D7F7
	for <lists+dri-devel@lfdr.de>; Wed, 28 Apr 2021 15:04:46 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A6AE06EB2D;
	Wed, 28 Apr 2021 13:04:42 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga09.intel.com (mga09.intel.com [134.134.136.24])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 5A8DA6EB2D
 for <dri-devel@lists.freedesktop.org>; Wed, 28 Apr 2021 13:04:35 +0000 (UTC)
IronPort-SDR: di6lR0LImGuACXoCwSiXMyojewJ+hYLUbxfXpYc9uI2UsO8ZIj0VSh3Vpec+prtOIeYyr2OYDL
 rlFTgEHi/2qw==
X-IronPort-AV: E=McAfee;i="6200,9189,9968"; a="196843276"
X-IronPort-AV: E=Sophos;i="5.82,258,1613462400"; d="scan'208";a="196843276"
Received: from fmsmga007.fm.intel.com ([10.253.24.52])
 by orsmga102.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 28 Apr 2021 06:04:06 -0700
IronPort-SDR: Dv6sZYCZIaHnTEYGCfv5pn0bhs9U3vbflRSRFaoj9DCVSyoP9cYJfiHhbfnIqOby+tBHVmh7gZ
 hWfASve4aOhA==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.82,258,1613462400"; d="scan'208";a="393440575"
Received: from black.fi.intel.com ([10.237.72.28])
 by fmsmga007.fm.intel.com with ESMTP; 28 Apr 2021 06:04:04 -0700
Received: by black.fi.intel.com (Postfix, from userid 1003)
 id BD6E03A2; Wed, 28 Apr 2021 16:04:22 +0300 (EEST)
From: Andy Shevchenko <andriy.shevchenko@linux.intel.com>
To: Andy Shevchenko <andriy.shevchenko@linux.intel.com>,
 Phil Reid <preid@electromag.com.au>, dri-devel@lists.freedesktop.org,
 linux-fbdev@vger.kernel.org, linux-staging@lists.linux.dev,
 linux-kernel@vger.kernel.org
Subject: [PATCH v3 1/4] staging: fbtft: Rectify GPIO handling
Date: Wed, 28 Apr 2021 16:04:12 +0300
Message-Id: <20210428130415.55406-2-andriy.shevchenko@linux.intel.com>
X-Mailer: git-send-email 2.30.2
In-Reply-To: <20210428130415.55406-1-andriy.shevchenko@linux.intel.com>
References: <20210428130415.55406-1-andriy.shevchenko@linux.intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: =?UTF-8?q?Jan=20Sebastian=20G=C3=B6tte?= <linux@jaseg.net>,
 Greg Kroah-Hartman <gregkh@linuxfoundation.org>,
 Nishad Kamdar <nishadkamdar@gmail.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIGluZmFtb3VzIGNvbW1pdCBjNDQwZWVlMWE3YTEgKCJTdGFnaW5nOiBzdGFnaW5nOiBmYnRm
dDogU3dpdGNoIHRvCnRoZSBHUElPIGRlc2NyaXB0b3IgaW50ZXJmYWNlIikgYnJva2UgR1BJTyBo
YW5kbGluZyBjb21wbGV0ZWx5LgpJdCBoYXMgYWxyZWFkeSBmb3VyIGNvbW1pdHMgdG8gcmVjdGlm
eSBhbmQgaXQgc2VlbXMgbm90IGVub3VnaC4KSW4gb3JkZXIgdG8gZml4IHRoZSBtZXNzIGhlcmUg
d2U6CgogIDEpIFNldCBkZWZhdWx0IHRvICJpbmFjdGl2ZSIgZm9yIGFsbCByZXF1ZXN0ZWQgcGlu
cwoKICAyKSBGaXggQ1MjLCBSRCMsIGFuZCBXUiMgcGlucyBwb2xhcml0eSBzaW5jZSBpdCdzIGFj
dGl2ZSBsb3cKICAgICBhbmQgR1BJTyBkZXNjcmlwdG9yIGludGVyZmFjZSB0YWtlcyBpdCBpbnRv
IGNvbnNpZGVyYXRpb24KICAgICBmcm9tIHRoZSBEZXZpY2UgVHJlZSBvciBBQ1BJCgogIDMpIENv
bnNvbGlkYXRlIGNoaXAgYWN0aXZhdGlvbiAoQ1MjIGFzc2VydGlvbikgdW5kZXIgZGVmYXVsdAog
ICAgIC0+cmVzZXQoKSBjYWxsYmFjawoKVG8gc3VtbWFyaXplIHRoZSBleHBlY3RhdGlvbnMgYWJv
dXQgcG9sYXJpdHkgZm9yIEdQSU9zOgoKICAgUkQjCQkJTG93CiAgIFdSIwkJCUxvdwogICBDUyMJ
CQlMb3cKICAgUkVTRVQjCQlMb3cKICAgREMgb3IgUlMJCUhpZ2gKICAgUlcJCQlIaWdoCiAgIERh
dGEJMCAuLiAxNQkJSGlnaAoKU2VlIGFsc28gQWRhZnJ1aXQgbGVhcm5pbmcgY291cnNlIFsxXSBm
b3IgdGhlIGV4YW1wbGUgb2YgdGhlIHNjaGVtYXRpY3MuCgpXaGlsZSBhdCBpdCwgZHJvcCB1bm5l
ZWRlZCBOVUxMIGNoZWNrcywgc2luY2UgR1BJTyBBUEkgaXMgdG9sZXJhbnQgdG8gdGhhdC4KClsx
XTogaHR0cHM6Ly9sZWFybi5hZGFmcnVpdC5jb20vYWRhZnJ1aXQtMi04LWFuZC0zLTItY29sb3It
dGZ0LXRvdWNoc2NyZWVuLWJyZWFrb3V0LXYyL2Rvd25sb2FkcwoKRml4ZXM6IDkyZTNlODg0ODg3
YyAoIlN0YWdpbmc6IHN0YWdpbmc6IGZidGZ0OiBGaXggR1BJTyBoYW5kbGluZyIpCkZpeGVzOiBi
OTE4ZDFjMjcwNjYgKCJTdGFnaW5nOiBzdGFnaW5nOiBmYnRmdDogRml4IHJlc2V0IGFzc2VydGlv
biB3aGVuIHVzaW5nIGdwaW8gZGVzY3JpcHRvciIpCkZpeGVzOiBkYmM0Zjk4OWM4NzggKCJTdGFn
aW5nOiBzdGFnaW5nOiBmYnRmdDogRml4IHByb2Jpbmcgb2YgZ3BpbyBkZXNjcmlwdG9yIikKRml4
ZXM6IGM0NDBlZWUxYTdhMSAoIlN0YWdpbmc6IHN0YWdpbmc6IGZidGZ0OiBTd2l0Y2ggdG8gdGhl
IGdwaW8gZGVzY3JpcHRvciBpbnRlcmZhY2UiKQpDYzogSmFuIFNlYmFzdGlhbiBHw7Z0dGUgPGxp
bnV4QGphc2VnLm5ldD4KQ2M6IE5pc2hhZCBLYW1kYXIgPG5pc2hhZGthbWRhckBnbWFpbC5jb20+
ClNpZ25lZC1vZmYtYnk6IEFuZHkgU2hldmNoZW5rbyA8YW5kcml5LnNoZXZjaGVua29AbGludXgu
aW50ZWwuY29tPgpSZXZpZXdlZC1ieTogUGhpbCBSZWlkIDxwcmVpZEBlbGVjdHJvbWFnLmNvbS5h
dT4KLS0tCiBkcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfYWdtMTI2NGstZmwuYyB8IDIwICsrKysr
KysrKystLS0tLS0tLS0tCiBkcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfYmQ2NjM0NzQuYyAgICB8
ICA0IC0tLS0KIGRyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYl9pbGk5MTYzLmMgICAgIHwgIDQgLS0t
LQogZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX2lsaTkzMjAuYyAgICAgfCAgMSAtCiBkcml2ZXJz
L3N0YWdpbmcvZmJ0ZnQvZmJfaWxpOTMyNS5jICAgICB8ICA0IC0tLS0KIGRyaXZlcnMvc3RhZ2lu
Zy9mYnRmdC9mYl9pbGk5MzQwLmMgICAgIHwgIDEgLQogZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2Zi
X3M2ZDExMjEuYyAgICAgfCAgNCAtLS0tCiBkcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfc2gxMTA2
LmMgICAgICB8ICAxIC0KIGRyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYl9zc2QxMjg5LmMgICAgIHwg
IDQgLS0tLQogZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX3NzZDEzMjUuYyAgICAgfCAgMiAtLQog
ZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX3NzZDEzMzEuYyAgICAgfCAgNiArKy0tLS0KIGRyaXZl
cnMvc3RhZ2luZy9mYnRmdC9mYl9zc2QxMzUxLmMgICAgIHwgIDEgLQogZHJpdmVycy9zdGFnaW5n
L2ZidGZ0L2ZiX3VwZDE2MTcwNC5jICAgfCAgNCAtLS0tCiBkcml2ZXJzL3N0YWdpbmcvZmJ0ZnQv
ZmJfd2F0dGVyb3R0LmMgICB8ICAxIC0KIGRyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYnRmdC1idXMu
YyAgICAgIHwgIDMgKy0tCiBkcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJ0ZnQtY29yZS5jICAgICB8
IDEzICsrKysrKy0tLS0tLS0KIGRyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYnRmdC1pby5jICAgICAg
IHwgMTIgKysrKysrLS0tLS0tCiAxNyBmaWxlcyBjaGFuZ2VkLCAyNSBpbnNlcnRpb25zKCspLCA2
MCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfYWdt
MTI2NGstZmwuYyBiL2RyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYl9hZ20xMjY0ay1mbC5jCmluZGV4
IGVlZWVlYzk3YWQyNy4uYjU0NWMyY2E4MGE0IDEwMDY0NAotLS0gYS9kcml2ZXJzL3N0YWdpbmcv
ZmJ0ZnQvZmJfYWdtMTI2NGstZmwuYworKysgYi9kcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfYWdt
MTI2NGstZmwuYwpAQCAtODQsOSArODQsOSBAQCBzdGF0aWMgdm9pZCByZXNldChzdHJ1Y3QgZmJ0
ZnRfcGFyICpwYXIpCiAKIAlkZXZfZGJnKHBhci0+aW5mby0+ZGV2aWNlLCAiJXMoKVxuIiwgX19m
dW5jX18pOwogCi0JZ3Bpb2Rfc2V0X3ZhbHVlKHBhci0+Z3Bpby5yZXNldCwgMCk7Ci0JdWRlbGF5
KDIwKTsKIAlncGlvZF9zZXRfdmFsdWUocGFyLT5ncGlvLnJlc2V0LCAxKTsKKwl1ZGVsYXkoMjAp
OworCWdwaW9kX3NldF92YWx1ZShwYXItPmdwaW8ucmVzZXQsIDApOwogCW1kZWxheSgxMjApOwog
fQogCkBAIC0xOTQsMTIgKzE5NCwxMiBAQCBzdGF0aWMgdm9pZCB3cml0ZV9yZWc4X2J1czgoc3Ry
dWN0IGZidGZ0X3BhciAqcGFyLCBpbnQgbGVuLCAuLi4pCiAJLyogc2VsZWN0IGNoaXAgKi8KIAlp
ZiAoKmJ1ZikgewogCQkvKiBjczEgKi8KLQkJZ3Bpb2Rfc2V0X3ZhbHVlKHBhci0+Q1MwLCAxKTsK
LQkJZ3Bpb2Rfc2V0X3ZhbHVlKHBhci0+Q1MxLCAwKTsKLQl9IGVsc2UgewotCQkvKiBjczAgKi8K
IAkJZ3Bpb2Rfc2V0X3ZhbHVlKHBhci0+Q1MwLCAwKTsKIAkJZ3Bpb2Rfc2V0X3ZhbHVlKHBhci0+
Q1MxLCAxKTsKKwl9IGVsc2UgeworCQkvKiBjczAgKi8KKwkJZ3Bpb2Rfc2V0X3ZhbHVlKHBhci0+
Q1MwLCAxKTsKKwkJZ3Bpb2Rfc2V0X3ZhbHVlKHBhci0+Q1MxLCAwKTsKIAl9CiAKIAlncGlvZF9z
ZXRfdmFsdWUocGFyLT5SUywgMCk7IC8qIFJTLT4wIChjb21tYW5kIG1vZGUpICovCkBAIC0zOTcs
OCArMzk3LDggQEAgc3RhdGljIGludCB3cml0ZV92bWVtKHN0cnVjdCBmYnRmdF9wYXIgKnBhciwg
c2l6ZV90IG9mZnNldCwgc2l6ZV90IGxlbikKIAl9CiAJa2ZyZWUoY29udmVydF9idWYpOwogCi0J
Z3Bpb2Rfc2V0X3ZhbHVlKHBhci0+Q1MwLCAxKTsKLQlncGlvZF9zZXRfdmFsdWUocGFyLT5DUzEs
IDEpOworCWdwaW9kX3NldF92YWx1ZShwYXItPkNTMCwgMCk7CisJZ3Bpb2Rfc2V0X3ZhbHVlKHBh
ci0+Q1MxLCAwKTsKIAogCXJldHVybiByZXQ7CiB9CkBAIC00MTksMTAgKzQxOSwxMCBAQCBzdGF0
aWMgaW50IHdyaXRlKHN0cnVjdCBmYnRmdF9wYXIgKnBhciwgdm9pZCAqYnVmLCBzaXplX3QgbGVu
KQogCQlmb3IgKGkgPSAwOyBpIDwgODsgKytpKQogCQkJZ3Bpb2Rfc2V0X3ZhbHVlKHBhci0+Z3Bp
by5kYltpXSwgZGF0YSAmICgxIDw8IGkpKTsKIAkJLyogc2V0IEUgKi8KLQkJZ3Bpb2Rfc2V0X3Zh
bHVlKHBhci0+RVBJTiwgMSk7CisJCWdwaW9kX3NldF92YWx1ZShwYXItPkVQSU4sIDApOwogCQl1
ZGVsYXkoNSk7CiAJCS8qIHVuc2V0IEUgLSB3cml0ZSAqLwotCQlncGlvZF9zZXRfdmFsdWUocGFy
LT5FUElOLCAwKTsKKwkJZ3Bpb2Rfc2V0X3ZhbHVlKHBhci0+RVBJTiwgMSk7CiAJCXVkZWxheSgx
KTsKIAl9CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYl9iZDY2MzQ3NC5j
IGIvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX2JkNjYzNDc0LmMKaW5kZXggZTJjNzY0NjU4OGY4
Li4xNjI5YzJjNDQwYTkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYl9iZDY2
MzQ3NC5jCisrKyBiL2RyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYl9iZDY2MzQ3NC5jCkBAIC0xMiw3
ICsxMiw2IEBACiAjaW5jbHVkZSA8bGludXgvbW9kdWxlLmg+CiAjaW5jbHVkZSA8bGludXgva2Vy
bmVsLmg+CiAjaW5jbHVkZSA8bGludXgvaW5pdC5oPgotI2luY2x1ZGUgPGxpbnV4L2dwaW8vY29u
c3VtZXIuaD4KICNpbmNsdWRlIDxsaW51eC9kZWxheS5oPgogCiAjaW5jbHVkZSAiZmJ0ZnQuaCIK
QEAgLTI0LDkgKzIzLDYgQEAKIAogc3RhdGljIGludCBpbml0X2Rpc3BsYXkoc3RydWN0IGZidGZ0
X3BhciAqcGFyKQogewotCWlmIChwYXItPmdwaW8uY3MpCi0JCWdwaW9kX3NldF92YWx1ZShwYXIt
PmdwaW8uY3MsIDApOyAgLyogQWN0aXZhdGUgY2hpcCAqLwotCiAJcGFyLT5mYnRmdG9wcy5yZXNl
dChwYXIpOwogCiAJLyogSW5pdGlhbGl6YXRpb24gc2VxdWVuY2UgZnJvbSBMaWJfVVRGVCAqLwpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX2lsaTkxNjMuYyBiL2RyaXZlcnMv
c3RhZ2luZy9mYnRmdC9mYl9pbGk5MTYzLmMKaW5kZXggMDU2NDhjM2ZmZTQ3Li42NTgyYTJjOTBh
YWYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYl9pbGk5MTYzLmMKKysrIGIv
ZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX2lsaTkxNjMuYwpAQCAtMTEsNyArMTEsNiBAQAogI2lu
Y2x1ZGUgPGxpbnV4L21vZHVsZS5oPgogI2luY2x1ZGUgPGxpbnV4L2tlcm5lbC5oPgogI2luY2x1
ZGUgPGxpbnV4L2luaXQuaD4KLSNpbmNsdWRlIDxsaW51eC9ncGlvL2NvbnN1bWVyLmg+CiAjaW5j
bHVkZSA8bGludXgvZGVsYXkuaD4KICNpbmNsdWRlIDx2aWRlby9taXBpX2Rpc3BsYXkuaD4KIApA
QCAtNzcsOSArNzYsNiBAQCBzdGF0aWMgaW50IGluaXRfZGlzcGxheShzdHJ1Y3QgZmJ0ZnRfcGFy
ICpwYXIpCiB7CiAJcGFyLT5mYnRmdG9wcy5yZXNldChwYXIpOwogCi0JaWYgKHBhci0+Z3Bpby5j
cykKLQkJZ3Bpb2Rfc2V0X3ZhbHVlKHBhci0+Z3Bpby5jcywgMCk7ICAvKiBBY3RpdmF0ZSBjaGlw
ICovCi0KIAl3cml0ZV9yZWcocGFyLCBNSVBJX0RDU19TT0ZUX1JFU0VUKTsgLyogc29mdHdhcmUg
cmVzZXQgKi8KIAltZGVsYXkoNTAwKTsKIAl3cml0ZV9yZWcocGFyLCBNSVBJX0RDU19FWElUX1NM
RUVQX01PREUpOyAvKiBleGl0IHNsZWVwICovCmRpZmYgLS1naXQgYS9kcml2ZXJzL3N0YWdpbmcv
ZmJ0ZnQvZmJfaWxpOTMyMC5jIGIvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX2lsaTkzMjAuYwpp
bmRleCBmMmU3MmQxNDQzMWQuLmE4ZjRjNjE4Yjc1NCAxMDA2NDQKLS0tIGEvZHJpdmVycy9zdGFn
aW5nL2ZidGZ0L2ZiX2lsaTkzMjAuYworKysgYi9kcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfaWxp
OTMyMC5jCkBAIC04LDcgKzgsNiBAQAogI2luY2x1ZGUgPGxpbnV4L21vZHVsZS5oPgogI2luY2x1
ZGUgPGxpbnV4L2tlcm5lbC5oPgogI2luY2x1ZGUgPGxpbnV4L2luaXQuaD4KLSNpbmNsdWRlIDxs
aW51eC9ncGlvL2NvbnN1bWVyLmg+CiAjaW5jbHVkZSA8bGludXgvc3BpL3NwaS5oPgogI2luY2x1
ZGUgPGxpbnV4L2RlbGF5Lmg+CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvc3RhZ2luZy9mYnRmdC9m
Yl9pbGk5MzI1LmMgYi9kcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfaWxpOTMyNS5jCmluZGV4IGM5
YWE0Y2I0MzEyMy4uMTZkM2IxN2NhMjc5IDEwMDY0NAotLS0gYS9kcml2ZXJzL3N0YWdpbmcvZmJ0
ZnQvZmJfaWxpOTMyNS5jCisrKyBiL2RyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYl9pbGk5MzI1LmMK
QEAgLTEwLDcgKzEwLDYgQEAKICNpbmNsdWRlIDxsaW51eC9tb2R1bGUuaD4KICNpbmNsdWRlIDxs
aW51eC9rZXJuZWwuaD4KICNpbmNsdWRlIDxsaW51eC9pbml0Lmg+Ci0jaW5jbHVkZSA8bGludXgv
Z3Bpby9jb25zdW1lci5oPgogI2luY2x1ZGUgPGxpbnV4L2RlbGF5Lmg+CiAKICNpbmNsdWRlICJm
YnRmdC5oIgpAQCAtODUsOSArODQsNiBAQCBzdGF0aWMgaW50IGluaXRfZGlzcGxheShzdHJ1Y3Qg
ZmJ0ZnRfcGFyICpwYXIpCiB7CiAJcGFyLT5mYnRmdG9wcy5yZXNldChwYXIpOwogCi0JaWYgKHBh
ci0+Z3Bpby5jcykKLQkJZ3Bpb2Rfc2V0X3ZhbHVlKHBhci0+Z3Bpby5jcywgMCk7ICAvKiBBY3Rp
dmF0ZSBjaGlwICovCi0KIAlidCAmPSAweDA3OwogCXZjICY9IDB4MDc7CiAJdnJoICY9IDB4MGY7
CmRpZmYgLS1naXQgYS9kcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfaWxpOTM0MC5jIGIvZHJpdmVy
cy9zdGFnaW5nL2ZidGZ0L2ZiX2lsaTkzNDAuYwppbmRleCA0MTUxODNjNzA1NGEuLjcwNDIzNmJj
YWYzZiAxMDA2NDQKLS0tIGEvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX2lsaTkzNDAuYworKysg
Yi9kcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfaWxpOTM0MC5jCkBAIC04LDcgKzgsNiBAQAogI2lu
Y2x1ZGUgPGxpbnV4L21vZHVsZS5oPgogI2luY2x1ZGUgPGxpbnV4L2tlcm5lbC5oPgogI2luY2x1
ZGUgPGxpbnV4L2luaXQuaD4KLSNpbmNsdWRlIDxsaW51eC9ncGlvL2NvbnN1bWVyLmg+CiAjaW5j
bHVkZSA8bGludXgvZGVsYXkuaD4KICNpbmNsdWRlIDx2aWRlby9taXBpX2Rpc3BsYXkuaD4KIApk
aWZmIC0tZ2l0IGEvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX3M2ZDExMjEuYyBiL2RyaXZlcnMv
c3RhZ2luZy9mYnRmdC9mYl9zNmQxMTIxLmMKaW5kZXggOGM3ZGUzMjkwMzQzLi42MmYyNzE3MmY4
NDQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYl9zNmQxMTIxLmMKKysrIGIv
ZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX3M2ZDExMjEuYwpAQCAtMTIsNyArMTIsNiBAQAogI2lu
Y2x1ZGUgPGxpbnV4L21vZHVsZS5oPgogI2luY2x1ZGUgPGxpbnV4L2tlcm5lbC5oPgogI2luY2x1
ZGUgPGxpbnV4L2luaXQuaD4KLSNpbmNsdWRlIDxsaW51eC9ncGlvL2NvbnN1bWVyLmg+CiAjaW5j
bHVkZSA8bGludXgvZGVsYXkuaD4KIAogI2luY2x1ZGUgImZidGZ0LmgiCkBAIC0yOSw5ICsyOCw2
IEBAIHN0YXRpYyBpbnQgaW5pdF9kaXNwbGF5KHN0cnVjdCBmYnRmdF9wYXIgKnBhcikKIHsKIAlw
YXItPmZidGZ0b3BzLnJlc2V0KHBhcik7CiAKLQlpZiAocGFyLT5ncGlvLmNzKQotCQlncGlvZF9z
ZXRfdmFsdWUocGFyLT5ncGlvLmNzLCAwKTsgIC8qIEFjdGl2YXRlIGNoaXAgKi8KLQogCS8qIElu
aXRpYWxpemF0aW9uIHNlcXVlbmNlIGZyb20gTGliX1VURlQgKi8KIAogCXdyaXRlX3JlZyhwYXIs
IDB4MDAxMSwgMHgyMDA0KTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYl9z
aDExMDYuYyBiL2RyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYl9zaDExMDYuYwppbmRleCA2ZjcyNDk0
OTNlYTMuLjdiOWFiMzllMWMxYSAxMDA2NDQKLS0tIGEvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2Zi
X3NoMTEwNi5jCisrKyBiL2RyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYl9zaDExMDYuYwpAQCAtOSw3
ICs5LDYgQEAKICNpbmNsdWRlIDxsaW51eC9tb2R1bGUuaD4KICNpbmNsdWRlIDxsaW51eC9rZXJu
ZWwuaD4KICNpbmNsdWRlIDxsaW51eC9pbml0Lmg+Ci0jaW5jbHVkZSA8bGludXgvZ3Bpby9jb25z
dW1lci5oPgogI2luY2x1ZGUgPGxpbnV4L2RlbGF5Lmg+CiAKICNpbmNsdWRlICJmYnRmdC5oIgpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX3NzZDEyODkuYyBiL2RyaXZlcnMv
c3RhZ2luZy9mYnRmdC9mYl9zc2QxMjg5LmMKaW5kZXggN2EzZmUwMjJjYzY5Li5mMjdiYWIzOGIz
ZWMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYl9zc2QxMjg5LmMKKysrIGIv
ZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX3NzZDEyODkuYwpAQCAtMTAsNyArMTAsNiBAQAogI2lu
Y2x1ZGUgPGxpbnV4L21vZHVsZS5oPgogI2luY2x1ZGUgPGxpbnV4L2tlcm5lbC5oPgogI2luY2x1
ZGUgPGxpbnV4L2luaXQuaD4KLSNpbmNsdWRlIDxsaW51eC9ncGlvL2NvbnN1bWVyLmg+CiAKICNp
bmNsdWRlICJmYnRmdC5oIgogCkBAIC0yOCw5ICsyNyw2IEBAIHN0YXRpYyBpbnQgaW5pdF9kaXNw
bGF5KHN0cnVjdCBmYnRmdF9wYXIgKnBhcikKIHsKIAlwYXItPmZidGZ0b3BzLnJlc2V0KHBhcik7
CiAKLQlpZiAocGFyLT5ncGlvLmNzKQotCQlncGlvZF9zZXRfdmFsdWUocGFyLT5ncGlvLmNzLCAw
KTsgIC8qIEFjdGl2YXRlIGNoaXAgKi8KLQogCXdyaXRlX3JlZyhwYXIsIDB4MDAsIDB4MDAwMSk7
CiAJd3JpdGVfcmVnKHBhciwgMHgwMywgMHhBOEE0KTsKIAl3cml0ZV9yZWcocGFyLCAweDBDLCAw
eDAwMDApOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX3NzZDEzMjUuYyBi
L2RyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYl9zc2QxMzI1LmMKaW5kZXggOGEzMTQwZDQxZDhiLi43
OTZhMmFjM2UxOTQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYl9zc2QxMzI1
LmMKKysrIGIvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX3NzZDEzMjUuYwpAQCAtMzUsOCArMzUs
NiBAQCBzdGF0aWMgaW50IGluaXRfZGlzcGxheShzdHJ1Y3QgZmJ0ZnRfcGFyICpwYXIpCiB7CiAJ
cGFyLT5mYnRmdG9wcy5yZXNldChwYXIpOwogCi0JZ3Bpb2Rfc2V0X3ZhbHVlKHBhci0+Z3Bpby5j
cywgMCk7Ci0KIAl3cml0ZV9yZWcocGFyLCAweGIzKTsKIAl3cml0ZV9yZWcocGFyLCAweGYwKTsK
IAl3cml0ZV9yZWcocGFyLCAweGFlKTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvc3RhZ2luZy9mYnRm
dC9mYl9zc2QxMzMxLmMgYi9kcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfc3NkMTMzMS5jCmluZGV4
IDM3NjIyYzk0NjJhYS4uZWM1ZWNlZDdmOGNiIDEwMDY0NAotLS0gYS9kcml2ZXJzL3N0YWdpbmcv
ZmJ0ZnQvZmJfc3NkMTMzMS5jCisrKyBiL2RyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYl9zc2QxMzMx
LmMKQEAgLTgxLDggKzgxLDcgQEAgc3RhdGljIHZvaWQgd3JpdGVfcmVnOF9idXM4KHN0cnVjdCBm
YnRmdF9wYXIgKnBhciwgaW50IGxlbiwgLi4uKQogCXZhX3N0YXJ0KGFyZ3MsIGxlbik7CiAKIAkq
YnVmID0gKHU4KXZhX2FyZyhhcmdzLCB1bnNpZ25lZCBpbnQpOwotCWlmIChwYXItPmdwaW8uZGMp
Ci0JCWdwaW9kX3NldF92YWx1ZShwYXItPmdwaW8uZGMsIDApOworCWdwaW9kX3NldF92YWx1ZShw
YXItPmdwaW8uZGMsIDApOwogCXJldCA9IHBhci0+ZmJ0ZnRvcHMud3JpdGUocGFyLCBwYXItPmJ1
Ziwgc2l6ZW9mKHU4KSk7CiAJaWYgKHJldCA8IDApIHsKIAkJdmFfZW5kKGFyZ3MpOwpAQCAtMTA0
LDggKzEwMyw3IEBAIHN0YXRpYyB2b2lkIHdyaXRlX3JlZzhfYnVzOChzdHJ1Y3QgZmJ0ZnRfcGFy
ICpwYXIsIGludCBsZW4sIC4uLikKIAkJCXJldHVybjsKIAkJfQogCX0KLQlpZiAocGFyLT5ncGlv
LmRjKQotCQlncGlvZF9zZXRfdmFsdWUocGFyLT5ncGlvLmRjLCAxKTsKKwlncGlvZF9zZXRfdmFs
dWUocGFyLT5ncGlvLmRjLCAxKTsKIAl2YV9lbmQoYXJncyk7CiB9CiAKZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvc3RhZ2luZy9mYnRmdC9mYl9zc2QxMzUxLmMgYi9kcml2ZXJzL3N0YWdpbmcvZmJ0ZnQv
ZmJfc3NkMTM1MS5jCmluZGV4IDkwMGIyOGQ4MjZiMi4uY2YyNjNhNThhMTQ4IDEwMDY0NAotLS0g
YS9kcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfc3NkMTM1MS5jCisrKyBiL2RyaXZlcnMvc3RhZ2lu
Zy9mYnRmdC9mYl9zc2QxMzUxLmMKQEAgLTIsNyArMiw2IEBACiAjaW5jbHVkZSA8bGludXgvbW9k
dWxlLmg+CiAjaW5jbHVkZSA8bGludXgva2VybmVsLmg+CiAjaW5jbHVkZSA8bGludXgvaW5pdC5o
PgotI2luY2x1ZGUgPGxpbnV4L2dwaW8vY29uc3VtZXIuaD4KICNpbmNsdWRlIDxsaW51eC9zcGkv
c3BpLmg+CiAjaW5jbHVkZSA8bGludXgvZGVsYXkuaD4KIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9z
dGFnaW5nL2ZidGZ0L2ZiX3VwZDE2MTcwNC5jIGIvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX3Vw
ZDE2MTcwNC5jCmluZGV4IGM3NzgzMmFlNWU1Yi4uYzY4MDE2MGQ2MzgwIDEwMDY0NAotLS0gYS9k
cml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfdXBkMTYxNzA0LmMKKysrIGIvZHJpdmVycy9zdGFnaW5n
L2ZidGZ0L2ZiX3VwZDE2MTcwNC5jCkBAIC0xMiw3ICsxMiw2IEBACiAjaW5jbHVkZSA8bGludXgv
bW9kdWxlLmg+CiAjaW5jbHVkZSA8bGludXgva2VybmVsLmg+CiAjaW5jbHVkZSA8bGludXgvaW5p
dC5oPgotI2luY2x1ZGUgPGxpbnV4L2dwaW8vY29uc3VtZXIuaD4KICNpbmNsdWRlIDxsaW51eC9k
ZWxheS5oPgogCiAjaW5jbHVkZSAiZmJ0ZnQuaCIKQEAgLTI2LDkgKzI1LDYgQEAgc3RhdGljIGlu
dCBpbml0X2Rpc3BsYXkoc3RydWN0IGZidGZ0X3BhciAqcGFyKQogewogCXBhci0+ZmJ0ZnRvcHMu
cmVzZXQocGFyKTsKIAotCWlmIChwYXItPmdwaW8uY3MpCi0JCWdwaW9kX3NldF92YWx1ZShwYXIt
PmdwaW8uY3MsIDApOyAgLyogQWN0aXZhdGUgY2hpcCAqLwotCiAJLyogSW5pdGlhbGl6YXRpb24g
c2VxdWVuY2UgZnJvbSBMaWJfVVRGVCAqLwogCiAJLyogcmVnaXN0ZXIgcmVzZXQgKi8KZGlmZiAt
LWdpdCBhL2RyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYl93YXR0ZXJvdHQuYyBiL2RyaXZlcnMvc3Rh
Z2luZy9mYnRmdC9mYl93YXR0ZXJvdHQuYwppbmRleCA3NmIyNWRmMzc2YjguLmE1N2UxZjRmZWVm
MyAxMDA2NDQKLS0tIGEvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX3dhdHRlcm90dC5jCisrKyBi
L2RyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYl93YXR0ZXJvdHQuYwpAQCAtOCw3ICs4LDYgQEAKICNp
bmNsdWRlIDxsaW51eC9tb2R1bGUuaD4KICNpbmNsdWRlIDxsaW51eC9rZXJuZWwuaD4KICNpbmNs
dWRlIDxsaW51eC9pbml0Lmg+Ci0jaW5jbHVkZSA8bGludXgvZ3Bpby9jb25zdW1lci5oPgogI2lu
Y2x1ZGUgPGxpbnV4L2RlbGF5Lmg+CiAKICNpbmNsdWRlICJmYnRmdC5oIgpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZidGZ0LWJ1cy5jIGIvZHJpdmVycy9zdGFnaW5nL2ZidGZ0
L2ZidGZ0LWJ1cy5jCmluZGV4IDYzYzY1ZGQ2N2IxNy4uM2Q0MjJiYzExNjQxIDEwMDY0NAotLS0g
YS9kcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJ0ZnQtYnVzLmMKKysrIGIvZHJpdmVycy9zdGFnaW5n
L2ZidGZ0L2ZidGZ0LWJ1cy5jCkBAIC0xMzUsOCArMTM1LDcgQEAgaW50IGZidGZ0X3dyaXRlX3Zt
ZW0xNl9idXM4KHN0cnVjdCBmYnRmdF9wYXIgKnBhciwgc2l6ZV90IG9mZnNldCwgc2l6ZV90IGxl
bikKIAlyZW1haW4gPSBsZW4gLyAyOwogCXZtZW0xNiA9ICh1MTYgKikocGFyLT5pbmZvLT5zY3Jl
ZW5fYnVmZmVyICsgb2Zmc2V0KTsKIAotCWlmIChwYXItPmdwaW8uZGMpCi0JCWdwaW9kX3NldF92
YWx1ZShwYXItPmdwaW8uZGMsIDEpOworCWdwaW9kX3NldF92YWx1ZShwYXItPmdwaW8uZGMsIDEp
OwogCiAJLyogbm9uIGJ1ZmZlcmVkIHdyaXRlICovCiAJaWYgKCFwYXItPnR4YnVmLmJ1ZikKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYnRmdC1jb3JlLmMgYi9kcml2ZXJzL3N0
YWdpbmcvZmJ0ZnQvZmJ0ZnQtY29yZS5jCmluZGV4IDRmMzYyZGFkNDQzNi4uNjdjM2IxOTc1YTRk
IDEwMDY0NAotLS0gYS9kcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJ0ZnQtY29yZS5jCisrKyBiL2Ry
aXZlcnMvc3RhZ2luZy9mYnRmdC9mYnRmdC1jb3JlLmMKQEAgLTM4LDggKzM4LDcgQEAgaW50IGZi
dGZ0X3dyaXRlX2J1Zl9kYyhzdHJ1Y3QgZmJ0ZnRfcGFyICpwYXIsIHZvaWQgKmJ1Ziwgc2l6ZV90
IGxlbiwgaW50IGRjKQogewogCWludCByZXQ7CiAKLQlpZiAocGFyLT5ncGlvLmRjKQotCQlncGlv
ZF9zZXRfdmFsdWUocGFyLT5ncGlvLmRjLCBkYyk7CisJZ3Bpb2Rfc2V0X3ZhbHVlKHBhci0+Z3Bp
by5kYywgZGMpOwogCiAJcmV0ID0gcGFyLT5mYnRmdG9wcy53cml0ZShwYXIsIGJ1ZiwgbGVuKTsK
IAlpZiAocmV0IDwgMCkKQEAgLTc5LDcgKzc4LDcgQEAgc3RhdGljIGludCBmYnRmdF9yZXF1ZXN0
X29uZV9ncGlvKHN0cnVjdCBmYnRmdF9wYXIgKnBhciwKIAlpbnQgcmV0ID0gMDsKIAogCSpncGlv
cCA9IGRldm1fZ3Bpb2RfZ2V0X2luZGV4X29wdGlvbmFsKGRldiwgbmFtZSwgaW5kZXgsCi0JCQkJ
CSAgICAgICBHUElPRF9PVVRfSElHSCk7CisJCQkJCSAgICAgICBHUElPRF9PVVRfTE9XKTsKIAlp
ZiAoSVNfRVJSKCpncGlvcCkpIHsKIAkJcmV0ID0gUFRSX0VSUigqZ3Bpb3ApOwogCQlkZXZfZXJy
KGRldiwKQEAgLTIyNiwxMSArMjI1LDE1IEBAIHN0YXRpYyB2b2lkIGZidGZ0X3Jlc2V0KHN0cnVj
dCBmYnRmdF9wYXIgKnBhcikKIHsKIAlpZiAoIXBhci0+Z3Bpby5yZXNldCkKIAkJcmV0dXJuOwor
CiAJZmJ0ZnRfcGFyX2RiZyhERUJVR19SRVNFVCwgcGFyLCAiJXMoKVxuIiwgX19mdW5jX18pOwor
CiAJZ3Bpb2Rfc2V0X3ZhbHVlX2NhbnNsZWVwKHBhci0+Z3Bpby5yZXNldCwgMSk7CiAJdXNsZWVw
X3JhbmdlKDIwLCA0MCk7CiAJZ3Bpb2Rfc2V0X3ZhbHVlX2NhbnNsZWVwKHBhci0+Z3Bpby5yZXNl
dCwgMCk7CiAJbXNsZWVwKDEyMCk7CisKKwlncGlvZF9zZXRfdmFsdWVfY2Fuc2xlZXAocGFyLT5n
cGlvLmNzLCAxKTsgIC8qIEFjdGl2YXRlIGNoaXAgKi8KIH0KIAogc3RhdGljIHZvaWQgZmJ0ZnRf
dXBkYXRlX2Rpc3BsYXkoc3RydWN0IGZidGZ0X3BhciAqcGFyLCB1bnNpZ25lZCBpbnQgc3RhcnRf
bGluZSwKQEAgLTkyMiw4ICs5MjUsNiBAQCBzdGF0aWMgaW50IGZidGZ0X2luaXRfZGlzcGxheV9m
cm9tX3Byb3BlcnR5KHN0cnVjdCBmYnRmdF9wYXIgKnBhcikKIAkJZ290byBvdXRfZnJlZTsKIAog
CXBhci0+ZmJ0ZnRvcHMucmVzZXQocGFyKTsKLQlpZiAocGFyLT5ncGlvLmNzKQotCQlncGlvZF9z
ZXRfdmFsdWUocGFyLT5ncGlvLmNzLCAwKTsgIC8qIEFjdGl2YXRlIGNoaXAgKi8KIAogCWluZGV4
ID0gLTE7CiAJdmFsID0gdmFsdWVzWysraW5kZXhdOwpAQCAtMTAxOCw4ICsxMDE5LDYgQEAgaW50
IGZidGZ0X2luaXRfZGlzcGxheShzdHJ1Y3QgZmJ0ZnRfcGFyICpwYXIpCiAJfQogCiAJcGFyLT5m
YnRmdG9wcy5yZXNldChwYXIpOwotCWlmIChwYXItPmdwaW8uY3MpCi0JCWdwaW9kX3NldF92YWx1
ZShwYXItPmdwaW8uY3MsIDApOyAgLyogQWN0aXZhdGUgY2hpcCAqLwogCiAJaSA9IDA7CiAJd2hp
bGUgKGkgPCBGQlRGVF9NQVhfSU5JVF9TRVFVRU5DRSkgewpkaWZmIC0tZ2l0IGEvZHJpdmVycy9z
dGFnaW5nL2ZidGZ0L2ZidGZ0LWlvLmMgYi9kcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJ0ZnQtaW8u
YwppbmRleCAwODYzZDI1N2Q3NjIuLmRlMTkwNGE0NDNjMiAxMDA2NDQKLS0tIGEvZHJpdmVycy9z
dGFnaW5nL2ZidGZ0L2ZidGZ0LWlvLmMKKysrIGIvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZidGZ0
LWlvLmMKQEAgLTE0MiwxMiArMTQyLDEyIEBAIGludCBmYnRmdF93cml0ZV9ncGlvOF93cihzdHJ1
Y3QgZmJ0ZnRfcGFyICpwYXIsIHZvaWQgKmJ1Ziwgc2l6ZV90IGxlbikKIAkJZGF0YSA9ICoodTgg
KilidWY7CiAKIAkJLyogU3RhcnQgd3JpdGluZyBieSBwdWxsaW5nIGRvd24gL1dSICovCi0JCWdw
aW9kX3NldF92YWx1ZShwYXItPmdwaW8ud3IsIDApOworCQlncGlvZF9zZXRfdmFsdWUocGFyLT5n
cGlvLndyLCAxKTsKIAogCQkvKiBTZXQgZGF0YSAqLwogI2lmbmRlZiBET19OT1RfT1BUSU1JWkVf
RkJURlRfV1JJVEVfR1BJTwogCQlpZiAoZGF0YSA9PSBwcmV2X2RhdGEpIHsKLQkJCWdwaW9kX3Nl
dF92YWx1ZShwYXItPmdwaW8ud3IsIDApOyAvKiB1c2VkIGFzIGRlbGF5ICovCisJCQlncGlvZF9z
ZXRfdmFsdWUocGFyLT5ncGlvLndyLCAxKTsgLyogdXNlZCBhcyBkZWxheSAqLwogCQl9IGVsc2Ug
ewogCQkJZm9yIChpID0gMDsgaSA8IDg7IGkrKykgewogCQkJCWlmICgoZGF0YSAmIDEpICE9IChw
cmV2X2RhdGEgJiAxKSkKQEAgLTE2NSw3ICsxNjUsNyBAQCBpbnQgZmJ0ZnRfd3JpdGVfZ3Bpbzhf
d3Ioc3RydWN0IGZidGZ0X3BhciAqcGFyLCB2b2lkICpidWYsIHNpemVfdCBsZW4pCiAjZW5kaWYK
IAogCQkvKiBQdWxsdXAgL1dSICovCi0JCWdwaW9kX3NldF92YWx1ZShwYXItPmdwaW8ud3IsIDEp
OworCQlncGlvZF9zZXRfdmFsdWUocGFyLT5ncGlvLndyLCAwKTsKIAogI2lmbmRlZiBET19OT1Rf
T1BUSU1JWkVfRkJURlRfV1JJVEVfR1BJTwogCQlwcmV2X2RhdGEgPSAqKHU4ICopYnVmOwpAQCAt
MTkyLDEyICsxOTIsMTIgQEAgaW50IGZidGZ0X3dyaXRlX2dwaW8xNl93cihzdHJ1Y3QgZmJ0ZnRf
cGFyICpwYXIsIHZvaWQgKmJ1Ziwgc2l6ZV90IGxlbikKIAkJZGF0YSA9ICoodTE2ICopYnVmOwog
CiAJCS8qIFN0YXJ0IHdyaXRpbmcgYnkgcHVsbGluZyBkb3duIC9XUiAqLwotCQlncGlvZF9zZXRf
dmFsdWUocGFyLT5ncGlvLndyLCAwKTsKKwkJZ3Bpb2Rfc2V0X3ZhbHVlKHBhci0+Z3Bpby53ciwg
MSk7CiAKIAkJLyogU2V0IGRhdGEgKi8KICNpZm5kZWYgRE9fTk9UX09QVElNSVpFX0ZCVEZUX1dS
SVRFX0dQSU8KIAkJaWYgKGRhdGEgPT0gcHJldl9kYXRhKSB7Ci0JCQlncGlvZF9zZXRfdmFsdWUo
cGFyLT5ncGlvLndyLCAwKTsgLyogdXNlZCBhcyBkZWxheSAqLworCQkJZ3Bpb2Rfc2V0X3ZhbHVl
KHBhci0+Z3Bpby53ciwgMSk7IC8qIHVzZWQgYXMgZGVsYXkgKi8KIAkJfSBlbHNlIHsKIAkJCWZv
ciAoaSA9IDA7IGkgPCAxNjsgaSsrKSB7CiAJCQkJaWYgKChkYXRhICYgMSkgIT0gKHByZXZfZGF0
YSAmIDEpKQpAQCAtMjE1LDcgKzIxNSw3IEBAIGludCBmYnRmdF93cml0ZV9ncGlvMTZfd3Ioc3Ry
dWN0IGZidGZ0X3BhciAqcGFyLCB2b2lkICpidWYsIHNpemVfdCBsZW4pCiAjZW5kaWYKIAogCQkv
KiBQdWxsdXAgL1dSICovCi0JCWdwaW9kX3NldF92YWx1ZShwYXItPmdwaW8ud3IsIDEpOworCQln
cGlvZF9zZXRfdmFsdWUocGFyLT5ncGlvLndyLCAwKTsKIAogI2lmbmRlZiBET19OT1RfT1BUSU1J
WkVfRkJURlRfV1JJVEVfR1BJTwogCQlwcmV2X2RhdGEgPSAqKHUxNiAqKWJ1ZjsKLS0gCjIuMzAu
MgoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRl
dmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8v
bGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVsCg==
