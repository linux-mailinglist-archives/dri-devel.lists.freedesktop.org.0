Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 39DD7EEBB3
	for <lists+dri-devel@lfdr.de>; Mon,  4 Nov 2019 22:50:43 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A1F146E895;
	Mon,  4 Nov 2019 21:50:39 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from us-smtp-1.mimecast.com (us-smtp-delivery-1.mimecast.com
 [207.211.31.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2FF6C6E88E
 for <dri-devel@lists.freedesktop.org>; Mon,  4 Nov 2019 21:50:38 +0000 (UTC)
Received: from mimecast-mx01.redhat.com (mimecast-mx01.redhat.com
 [209.132.183.4]) (Using TLS) by relay.mimecast.com with ESMTP id
 us-mta-183-AO8n43n_Nrq6fre6MQDThg-1; Mon, 04 Nov 2019 16:50:33 -0500
Received: from smtp.corp.redhat.com (int-mx06.intmail.prod.int.phx2.redhat.com
 [10.5.11.16])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mimecast-mx01.redhat.com (Postfix) with ESMTPS id 799DD1005500;
 Mon,  4 Nov 2019 21:50:29 +0000 (UTC)
Received: from x1.home (ovpn-116-110.phx2.redhat.com [10.3.116.110])
 by smtp.corp.redhat.com (Postfix) with ESMTP id 49CE85C1B2;
 Mon,  4 Nov 2019 21:50:03 +0000 (UTC)
Date: Mon, 4 Nov 2019 14:50:02 -0700
From: Alex Williamson <alex.williamson@redhat.com>
To: Jason Wang <jasowang@redhat.com>
Subject: Re: [PATCH V7 1/6] mdev: class id support
Message-ID: <20191104145002.4dfed0c4@x1.home>
In-Reply-To: <20191104123952.17276-2-jasowang@redhat.com>
References: <20191104123952.17276-1-jasowang@redhat.com>
 <20191104123952.17276-2-jasowang@redhat.com>
Organization: Red Hat
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.16
X-MC-Unique: AO8n43n_Nrq6fre6MQDThg-1
X-Mimecast-Spam-Score: 0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=redhat.com; 
 s=mimecast20190719; t=1572904237;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=W3lmpgT5tPkT29wU4MchKPccsewSX6lb1B5aFRAHrjA=;
 b=Lc28wkejzCyvwsxhgrK64DMCO06sJtb/3zdTSG3cI4wm8SphDgKbMG/pthZDL3PfOwY5SI
 UrS6tZtYskIo45KJM5hnu0vTGAYxLR9ruhbXd/Fljk8yqzf4plMllYiuhvKKWlb4+wlpxe
 Hyw8NiwSNm/IQ6OAWUlNmoDjLuZZyRM=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: stefanha@redhat.com, christophe.de.dinechin@gmail.com, kvm@vger.kernel.org,
 mst@redhat.com, airlied@linux.ie, heiko.carstens@de.ibm.com,
 kevin.tian@intel.com, dri-devel@lists.freedesktop.org,
 virtualization@lists.linux-foundation.org, kwankhede@nvidia.com,
 rob.miller@broadcom.com, linux-s390@vger.kernel.org, sebott@linux.ibm.com,
 lulu@redhat.com, eperezma@redhat.com, pasic@linux.ibm.com,
 borntraeger@de.ibm.com, haotian.wang@sifive.com, cunming.liang@intel.com,
 zhi.a.wang@intel.com, farman@linux.ibm.com, idos@mellanox.com,
 gor@linux.ibm.com, intel-gfx@lists.freedesktop.org, rodrigo.vivi@intel.com,
 xiao.w.wang@intel.com, freude@linux.ibm.com, parav@mellanox.com,
 zhihong.wang@intel.com, intel-gvt-dev@lists.freedesktop.org,
 akrowiak@linux.ibm.com, oberpar@linux.ibm.com, tiwei.bie@intel.com,
 netdev@vger.kernel.org, cohuck@redhat.com, linux-kernel@vger.kernel.org,
 maxime.coquelin@redhat.com, lingshan.zhu@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gTW9uLCAgNCBOb3YgMjAxOSAyMDozOTo0NyArMDgwMApKYXNvbiBXYW5nIDxqYXNvd2FuZ0By
ZWRoYXQuY29tPiB3cm90ZToKCj4gTWRldiBidXMgb25seSBzdXBwb3J0cyB2ZmlvIGRyaXZlciBy
aWdodCBub3csIHNvIGl0IGRvZXNuJ3QgaW1wbGVtZW50Cj4gbWF0Y2ggbWV0aG9kLiBCdXQgaW4g
dGhlIGZ1dHVyZSwgd2UgbWF5IGFkZCBkcml2ZXJzIG90aGVyIHRoYW4gdmZpbywKPiB0aGUgZmly
c3QgZHJpdmVyIGNvdWxkIGJlIHZpcnRpby1tZGV2LiBUaGlzIG1lYW5zIHdlIG5lZWQgdG8gYWRk
Cj4gZGV2aWNlIGNsYXNzIGlkIHN1cHBvcnQgaW4gYnVzIG1hdGNoIG1ldGhvZCB0byBwYWlyIHRo
ZSBtZGV2IGRldmljZQo+IGFuZCBtZGV2IGRyaXZlciBjb3JyZWN0bHkuCj4gCj4gU28gdGhpcyBw
YXRjaCBhZGRzIGlkX3RhYmxlIHRvIG1kZXZfZHJpdmVyIGFuZCBjbGFzc19pZCBmb3IgbWRldgo+
IGRldmljZSB3aXRoIHRoZSBtYXRjaCBtZXRob2QgZm9yIG1kZXYgYnVzLgo+IAo+IFJldmlld2Vk
LWJ5OiBQYXJhdiBQYW5kaXQgPHBhcmF2QG1lbGxhbm94LmNvbT4KPiBTaWduZWQtb2ZmLWJ5OiBK
YXNvbiBXYW5nIDxqYXNvd2FuZ0ByZWRoYXQuY29tPgo+IC0tLQo+ICAuLi4vZHJpdmVyLWFwaS92
ZmlvLW1lZGlhdGVkLWRldmljZS5yc3QgICAgICAgfCAgNSArKysrCj4gIGRyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d2dC9rdm1ndC5jICAgICAgICAgICAgICB8ICAxICsKPiAgZHJpdmVycy9zMzkwL2Np
by92ZmlvX2Njd19vcHMuYyAgICAgICAgICAgICAgIHwgIDEgKwo+ICBkcml2ZXJzL3MzOTAvY3J5
cHRvL3ZmaW9fYXBfb3BzLmMgICAgICAgICAgICAgfCAgMSArCj4gIGRyaXZlcnMvdmZpby9tZGV2
L21kZXZfY29yZS5jICAgICAgICAgICAgICAgICB8IDE2ICsrKysrKysrKysrKwo+ICBkcml2ZXJz
L3ZmaW8vbWRldi9tZGV2X2RyaXZlci5jICAgICAgICAgICAgICAgfCAyNSArKysrKysrKysrKysr
KysrKysrCj4gIGRyaXZlcnMvdmZpby9tZGV2L21kZXZfcHJpdmF0ZS5oICAgICAgICAgICAgICB8
ICAxICsKPiAgZHJpdmVycy92ZmlvL21kZXYvdmZpb19tZGV2LmMgICAgICAgICAgICAgICAgIHwg
IDYgKysrKysKPiAgaW5jbHVkZS9saW51eC9tZGV2LmggICAgICAgICAgICAgICAgICAgICAgICAg
IHwgIDggKysrKysrCj4gIGluY2x1ZGUvbGludXgvbW9kX2RldmljZXRhYmxlLmggICAgICAgICAg
ICAgICB8ICA4ICsrKysrKwo+ICBzYW1wbGVzL3ZmaW8tbWRldi9tYm9jaHMuYyAgICAgICAgICAg
ICAgICAgICAgfCAgMSArCj4gIHNhbXBsZXMvdmZpby1tZGV2L21kcHkuYyAgICAgICAgICAgICAg
ICAgICAgICB8ICAxICsKPiAgc2FtcGxlcy92ZmlvLW1kZXYvbXR0eS5jICAgICAgICAgICAgICAg
ICAgICAgIHwgIDEgKwo+ICAxMyBmaWxlcyBjaGFuZ2VkLCA3NSBpbnNlcnRpb25zKCspCj4gCj4g
ZGlmZiAtLWdpdCBhL0RvY3VtZW50YXRpb24vZHJpdmVyLWFwaS92ZmlvLW1lZGlhdGVkLWRldmlj
ZS5yc3QgYi9Eb2N1bWVudGF0aW9uL2RyaXZlci1hcGkvdmZpby1tZWRpYXRlZC1kZXZpY2UucnN0
Cj4gaW5kZXggMjVlYjdkNWI4MzRiLi42NzA5NDEzYmVlMjkgMTAwNjQ0Cj4gLS0tIGEvRG9jdW1l
bnRhdGlvbi9kcml2ZXItYXBpL3ZmaW8tbWVkaWF0ZWQtZGV2aWNlLnJzdAo+ICsrKyBiL0RvY3Vt
ZW50YXRpb24vZHJpdmVyLWFwaS92ZmlvLW1lZGlhdGVkLWRldmljZS5yc3QKPiBAQCAtMTAyLDEy
ICsxMDIsMTQgQEAgc3RydWN0dXJlIHRvIHJlcHJlc2VudCBhIG1lZGlhdGVkIGRldmljZSdzIGRy
aXZlcjo6Cj4gICAgICAgICogQHByb2JlOiBjYWxsZWQgd2hlbiBuZXcgZGV2aWNlIGNyZWF0ZWQK
PiAgICAgICAgKiBAcmVtb3ZlOiBjYWxsZWQgd2hlbiBkZXZpY2UgcmVtb3ZlZAo+ICAgICAgICAq
IEBkcml2ZXI6IGRldmljZSBkcml2ZXIgc3RydWN0dXJlCj4gKyAgICAgICogQGlkX3RhYmxlOiB0
aGUgaWRzIHNlcnZpY2VkIGJ5IHRoaXMgZHJpdmVyCj4gICAgICAgICovCj4gICAgICAgc3RydWN0
IG1kZXZfZHJpdmVyIHsKPiAgCSAgICAgY29uc3QgY2hhciAqbmFtZTsKPiAgCSAgICAgaW50ICAo
KnByb2JlKSAgKHN0cnVjdCBkZXZpY2UgKmRldik7Cj4gIAkgICAgIHZvaWQgKCpyZW1vdmUpIChz
dHJ1Y3QgZGV2aWNlICpkZXYpOwo+ICAJICAgICBzdHJ1Y3QgZGV2aWNlX2RyaXZlciAgICBkcml2
ZXI7Cj4gKwkgICAgIGNvbnN0IHN0cnVjdCBtZGV2X2NsYXNzX2lkICppZF90YWJsZTsKPiAgICAg
ICB9Owo+ICAKPiAgQSBtZWRpYXRlZCBidXMgZHJpdmVyIGZvciBtZGV2IHNob3VsZCB1c2UgdGhp
cyBzdHJ1Y3R1cmUgaW4gdGhlIGZ1bmN0aW9uIGNhbGxzCj4gQEAgLTE3MCw2ICsxNzIsOSBAQCB0
aGF0IGEgZHJpdmVyIHNob3VsZCB1c2UgdG8gdW5yZWdpc3RlciBpdHNlbGYgd2l0aCB0aGUgbWRl
diBjb3JlIGRyaXZlcjo6Cj4gIAo+ICAJZXh0ZXJuIHZvaWQgbWRldl91bnJlZ2lzdGVyX2Rldmlj
ZShzdHJ1Y3QgZGV2aWNlICpkZXYpOwo+ICAKPiArSXQgaXMgYWxzbyByZXF1aXJlZCB0byBzcGVj
aWZ5IHRoZSBjbGFzc19pZCBpbiBjcmVhdGUoKSBjYWxsYmFjayB0aHJvdWdoOjoKPiArCj4gKwlp
bnQgbWRldl9zZXRfY2xhc3Moc3RydWN0IG1kZXZfZGV2aWNlICptZGV2LCB1MTYgaWQpOwo+ICAK
PiAgTWVkaWF0ZWQgRGV2aWNlIE1hbmFnZW1lbnQgSW50ZXJmYWNlIFRocm91Z2ggc3lzZnMKPiAg
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KPiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Z0L2t2bWd0LmMgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9ndnQva3ZtZ3QuYwo+IGluZGV4IDM0M2Q3OWMxY2I3ZS4uNjQyMGYwZGJkMzFiIDEw
MDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d2dC9rdm1ndC5jCj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ3Z0L2t2bWd0LmMKPiBAQCAtNjc4LDYgKzY3OCw3IEBAIHN0YXRp
YyBpbnQgaW50ZWxfdmdwdV9jcmVhdGUoc3RydWN0IGtvYmplY3QgKmtvYmosIHN0cnVjdCBtZGV2
X2RldmljZSAqbWRldikKPiAgCQkgICAgIGRldl9uYW1lKG1kZXZfZGV2KG1kZXYpKSk7Cj4gIAly
ZXQgPSAwOwo+ICAKPiArCW1kZXZfc2V0X2NsYXNzKG1kZXYsIE1ERVZfQ0xBU1NfSURfVkZJTyk7
Cj4gIG91dDoKPiAgCXJldHVybiByZXQ7Cj4gIH0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9zMzkw
L2Npby92ZmlvX2Njd19vcHMuYyBiL2RyaXZlcnMvczM5MC9jaW8vdmZpb19jY3dfb3BzLmMKPiBp
bmRleCBmMGQ3MWFiNzdjNTAuLmNmMmMwMTNhZTMyZiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL3Mz
OTAvY2lvL3ZmaW9fY2N3X29wcy5jCj4gKysrIGIvZHJpdmVycy9zMzkwL2Npby92ZmlvX2Njd19v
cHMuYwo+IEBAIC0xMjksNiArMTI5LDcgQEAgc3RhdGljIGludCB2ZmlvX2Njd19tZGV2X2NyZWF0
ZShzdHJ1Y3Qga29iamVjdCAqa29iaiwgc3RydWN0IG1kZXZfZGV2aWNlICptZGV2KQo+ICAJCQkg
ICBwcml2YXRlLT5zY2gtPnNjaGlkLnNzaWQsCj4gIAkJCSAgIHByaXZhdGUtPnNjaC0+c2NoaWQu
c2NoX25vKTsKPiAgCj4gKwltZGV2X3NldF9jbGFzcyhtZGV2LCBNREVWX0NMQVNTX0lEX1ZGSU8p
Owo+ICAJcmV0dXJuIDA7Cj4gIH0KPiAgCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvczM5MC9jcnlw
dG8vdmZpb19hcF9vcHMuYyBiL2RyaXZlcnMvczM5MC9jcnlwdG8vdmZpb19hcF9vcHMuYwo+IGlu
ZGV4IDVjMGY1M2M2ZGRlNy4uMDdjMzEwNzBhZmViIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvczM5
MC9jcnlwdG8vdmZpb19hcF9vcHMuYwo+ICsrKyBiL2RyaXZlcnMvczM5MC9jcnlwdG8vdmZpb19h
cF9vcHMuYwo+IEBAIC0zNDMsNiArMzQzLDcgQEAgc3RhdGljIGludCB2ZmlvX2FwX21kZXZfY3Jl
YXRlKHN0cnVjdCBrb2JqZWN0ICprb2JqLCBzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYpCj4gIAls
aXN0X2FkZCgmbWF0cml4X21kZXYtPm5vZGUsICZtYXRyaXhfZGV2LT5tZGV2X2xpc3QpOwo+ICAJ
bXV0ZXhfdW5sb2NrKCZtYXRyaXhfZGV2LT5sb2NrKTsKPiAgCj4gKwltZGV2X3NldF9jbGFzcyht
ZGV2LCBNREVWX0NMQVNTX0lEX1ZGSU8pOwo+ICAJcmV0dXJuIDA7Cj4gIH0KPiAgCj4gZGlmZiAt
LWdpdCBhL2RyaXZlcnMvdmZpby9tZGV2L21kZXZfY29yZS5jIGIvZHJpdmVycy92ZmlvL21kZXYv
bWRldl9jb3JlLmMKPiBpbmRleCBiNTU4ZDRjZmQwODIuLmQyM2NhMzllM2JlNiAxMDA2NDQKPiAt
LS0gYS9kcml2ZXJzL3ZmaW8vbWRldi9tZGV2X2NvcmUuYwo+ICsrKyBiL2RyaXZlcnMvdmZpby9t
ZGV2L21kZXZfY29yZS5jCj4gQEAgLTQ1LDYgKzQ1LDE2IEBAIHZvaWQgbWRldl9zZXRfZHJ2ZGF0
YShzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYsIHZvaWQgKmRhdGEpCj4gIH0KPiAgRVhQT1JUX1NZ
TUJPTChtZGV2X3NldF9kcnZkYXRhKTsKPiAgCj4gKy8qIFNwZWNpZnkgdGhlIGNsYXNzIGZvciB0
aGUgbWRldiBkZXZpY2UsIHRoaXMgbXVzdCBiZSBjYWxsZWQgZHVyaW5nCj4gKyAqIGNyZWF0ZSgp
IGNhbGxiYWNrLgo+ICsgKi8KClN0YW5kYXJkIG5vbi1uZXR3b3JraW5nIG11bHRpLWxpbmUgY29t
bWVudCBzdHlsZSBwbGVhc2UsIGllLgoKLyoKICogTXVsdGktCiAqIGxpbmUKICogY29tbWVudAog
Ki8KClRoYW5rcywKQWxleAoKPiArdm9pZCBtZGV2X3NldF9jbGFzcyhzdHJ1Y3QgbWRldl9kZXZp
Y2UgKm1kZXYsIHUxNiBpZCkKPiArewo+ICsJV0FSTl9PTihtZGV2LT5jbGFzc19pZCk7Cj4gKwlt
ZGV2LT5jbGFzc19pZCA9IGlkOwo+ICt9Cj4gK0VYUE9SVF9TWU1CT0wobWRldl9zZXRfY2xhc3Mp
Owo+ICsKPiAgc3RydWN0IGRldmljZSAqbWRldl9kZXYoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2
KQo+ICB7Cj4gIAlyZXR1cm4gJm1kZXYtPmRldjsKPiBAQCAtMzI0LDYgKzMzNCwxMiBAQCBpbnQg
bWRldl9kZXZpY2VfY3JlYXRlKHN0cnVjdCBrb2JqZWN0ICprb2JqLAo+ICAJaWYgKHJldCkKPiAg
CQlnb3RvIG9wc19jcmVhdGVfZmFpbDsKPiAgCj4gKwlpZiAoIW1kZXYtPmNsYXNzX2lkKSB7Cj4g
KwkJcmV0ID0gLUVJTlZBTDsKPiArCQlkZXZfd2FybihkZXYsICJtZGV2IHZlbmRvciBkcml2ZXIg
ZmFpbGVkIHRvIHNwZWNpZnkgZGV2aWNlIGNsYXNzXG4iKTsKPiArCQlnb3RvIGFkZF9mYWlsOwo+
ICsJfQo+ICsKPiAgCXJldCA9IGRldmljZV9hZGQoJm1kZXYtPmRldik7Cj4gIAlpZiAocmV0KQo+
ICAJCWdvdG8gYWRkX2ZhaWw7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmZpby9tZGV2L21kZXZf
ZHJpdmVyLmMgYi9kcml2ZXJzL3ZmaW8vbWRldi9tZGV2X2RyaXZlci5jCj4gaW5kZXggMGQzMjIz
YWVlMjBiLi5lZDA2NDMzNjkzZTggMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy92ZmlvL21kZXYvbWRl
dl9kcml2ZXIuYwo+ICsrKyBiL2RyaXZlcnMvdmZpby9tZGV2L21kZXZfZHJpdmVyLmMKPiBAQCAt
NjksOCArNjksMzMgQEAgc3RhdGljIGludCBtZGV2X3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYp
Cj4gIAlyZXR1cm4gMDsKPiAgfQo+ICAKPiArc3RhdGljIGludCBtZGV2X21hdGNoKHN0cnVjdCBk
ZXZpY2UgKmRldiwgc3RydWN0IGRldmljZV9kcml2ZXIgKmRydikKPiArewo+ICsJdW5zaWduZWQg
aW50IGk7Cj4gKwlzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYgPSB0b19tZGV2X2RldmljZShkZXYp
Owo+ICsJc3RydWN0IG1kZXZfZHJpdmVyICptZHJ2ID0gdG9fbWRldl9kcml2ZXIoZHJ2KTsKPiAr
CWNvbnN0IHN0cnVjdCBtZGV2X2NsYXNzX2lkICppZHMgPSBtZHJ2LT5pZF90YWJsZTsKPiArCj4g
KwlpZiAoIWlkcykKPiArCQlyZXR1cm4gMDsKPiArCj4gKwlmb3IgKGkgPSAwOyBpZHNbaV0uaWQ7
IGkrKykKPiArCQlpZiAoaWRzW2ldLmlkID09IG1kZXYtPmNsYXNzX2lkKQo+ICsJCQlyZXR1cm4g
MTsKPiArCXJldHVybiAwOwo+ICt9Cj4gKwo+ICtzdGF0aWMgaW50IG1kZXZfdWV2ZW50KHN0cnVj
dCBkZXZpY2UgKmRldiwgc3RydWN0IGtvYmpfdWV2ZW50X2VudiAqZW52KQo+ICt7Cj4gKwlzdHJ1
Y3QgbWRldl9kZXZpY2UgKm1kZXYgPSB0b19tZGV2X2RldmljZShkZXYpOwo+ICsKPiArCXJldHVy
biBhZGRfdWV2ZW50X3ZhcihlbnYsICJNT0RBTElBUz1tZGV2OmMlMDJYIiwgbWRldi0+Y2xhc3Nf
aWQpOwo+ICt9Cj4gKwo+ICBzdHJ1Y3QgYnVzX3R5cGUgbWRldl9idXNfdHlwZSA9IHsKPiAgCS5u
YW1lCQk9ICJtZGV2IiwKPiArCS5tYXRjaAkJPSBtZGV2X21hdGNoLAo+ICsJLnVldmVudAkJPSBt
ZGV2X3VldmVudCwKPiAgCS5wcm9iZQkJPSBtZGV2X3Byb2JlLAo+ICAJLnJlbW92ZQkJPSBtZGV2
X3JlbW92ZSwKPiAgfTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy92ZmlvL21kZXYvbWRldl9wcml2
YXRlLmggYi9kcml2ZXJzL3ZmaW8vbWRldi9tZGV2X3ByaXZhdGUuaAo+IGluZGV4IDdkOTIyOTUw
Y2FhZi4uYzY1ZjQzNmMxODY5IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvdmZpby9tZGV2L21kZXZf
cHJpdmF0ZS5oCj4gKysrIGIvZHJpdmVycy92ZmlvL21kZXYvbWRldl9wcml2YXRlLmgKPiBAQCAt
MzMsNiArMzMsNyBAQCBzdHJ1Y3QgbWRldl9kZXZpY2Ugewo+ICAJc3RydWN0IGtvYmplY3QgKnR5
cGVfa29iajsKPiAgCXN0cnVjdCBkZXZpY2UgKmlvbW11X2RldmljZTsKPiAgCWJvb2wgYWN0aXZl
Owo+ICsJdTE2IGNsYXNzX2lkOwo+ICB9Owo+ICAKPiAgI2RlZmluZSB0b19tZGV2X2RldmljZShk
ZXYpCWNvbnRhaW5lcl9vZihkZXYsIHN0cnVjdCBtZGV2X2RldmljZSwgZGV2KQo+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL3ZmaW8vbWRldi92ZmlvX21kZXYuYyBiL2RyaXZlcnMvdmZpby9tZGV2L3Zm
aW9fbWRldi5jCj4gaW5kZXggMzA5NjRhNGUwYTI4Li4zODQzMWU5ZWY3ZjUgMTAwNjQ0Cj4gLS0t
IGEvZHJpdmVycy92ZmlvL21kZXYvdmZpb19tZGV2LmMKPiArKysgYi9kcml2ZXJzL3ZmaW8vbWRl
di92ZmlvX21kZXYuYwo+IEBAIC0xMjAsMTAgKzEyMCwxNiBAQCBzdGF0aWMgdm9pZCB2ZmlvX21k
ZXZfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKPiAgCXZmaW9fZGVsX2dyb3VwX2RldihkZXYp
Owo+ICB9Cj4gIAo+ICtzdGF0aWMgY29uc3Qgc3RydWN0IG1kZXZfY2xhc3NfaWQgdmZpb19pZF90
YWJsZVtdID0gewo+ICsJeyBNREVWX0NMQVNTX0lEX1ZGSU8gfSwKPiArCXsgMCB9LAo+ICt9Owo+
ICsKPiAgc3RhdGljIHN0cnVjdCBtZGV2X2RyaXZlciB2ZmlvX21kZXZfZHJpdmVyID0gewo+ICAJ
Lm5hbWUJPSAidmZpb19tZGV2IiwKPiAgCS5wcm9iZQk9IHZmaW9fbWRldl9wcm9iZSwKPiAgCS5y
ZW1vdmUJPSB2ZmlvX21kZXZfcmVtb3ZlLAo+ICsJLmlkX3RhYmxlID0gdmZpb19pZF90YWJsZSwK
PiAgfTsKPiAgCj4gIHN0YXRpYyBpbnQgX19pbml0IHZmaW9fbWRldl9pbml0KHZvaWQpCj4gZGlm
ZiAtLWdpdCBhL2luY2x1ZGUvbGludXgvbWRldi5oIGIvaW5jbHVkZS9saW51eC9tZGV2LmgKPiBp
bmRleCAwY2UzMGNhNzhkYjAuLjc4YjY5ZDA5ZWI1NCAxMDA2NDQKPiAtLS0gYS9pbmNsdWRlL2xp
bnV4L21kZXYuaAo+ICsrKyBiL2luY2x1ZGUvbGludXgvbWRldi5oCj4gQEAgLTExOCw2ICsxMTgs
NyBAQCBzdHJ1Y3QgbWRldl90eXBlX2F0dHJpYnV0ZSBtZGV2X3R5cGVfYXR0cl8jI19uYW1lID0J
CVwKPiAgICogQHByb2JlOiBjYWxsZWQgd2hlbiBuZXcgZGV2aWNlIGNyZWF0ZWQKPiAgICogQHJl
bW92ZTogY2FsbGVkIHdoZW4gZGV2aWNlIHJlbW92ZWQKPiAgICogQGRyaXZlcjogZGV2aWNlIGRy
aXZlciBzdHJ1Y3R1cmUKPiArICogQGlkX3RhYmxlOiB0aGUgaWRzIHNlcnZpY2VkIGJ5IHRoaXMg
ZHJpdmVyCj4gICAqCj4gICAqKi8KPiAgc3RydWN0IG1kZXZfZHJpdmVyIHsKPiBAQCAtMTI1LDYg
KzEyNiw3IEBAIHN0cnVjdCBtZGV2X2RyaXZlciB7Cj4gIAlpbnQgICgqcHJvYmUpKHN0cnVjdCBk
ZXZpY2UgKmRldik7Cj4gIAl2b2lkICgqcmVtb3ZlKShzdHJ1Y3QgZGV2aWNlICpkZXYpOwo+ICAJ
c3RydWN0IGRldmljZV9kcml2ZXIgZHJpdmVyOwo+ICsJY29uc3Qgc3RydWN0IG1kZXZfY2xhc3Nf
aWQgKmlkX3RhYmxlOwo+ICB9Owo+ICAKPiAgI2RlZmluZSB0b19tZGV2X2RyaXZlcihkcnYpCWNv
bnRhaW5lcl9vZihkcnYsIHN0cnVjdCBtZGV2X2RyaXZlciwgZHJpdmVyKQo+IEBAIC0xMzIsNiAr
MTM0LDcgQEAgc3RydWN0IG1kZXZfZHJpdmVyIHsKPiAgdm9pZCAqbWRldl9nZXRfZHJ2ZGF0YShz
dHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYpOwo+ICB2b2lkIG1kZXZfc2V0X2RydmRhdGEoc3RydWN0
IG1kZXZfZGV2aWNlICptZGV2LCB2b2lkICpkYXRhKTsKPiAgY29uc3QgZ3VpZF90ICptZGV2X3V1
aWQoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2KTsKPiArdm9pZCBtZGV2X3NldF9jbGFzcyhzdHJ1
Y3QgbWRldl9kZXZpY2UgKm1kZXYsIHUxNiBpZCk7Cj4gIAo+ICBleHRlcm4gc3RydWN0IGJ1c190
eXBlIG1kZXZfYnVzX3R5cGU7Cj4gIAo+IEBAIC0xNDUsNCArMTQ4LDkgQEAgc3RydWN0IGRldmlj
ZSAqbWRldl9wYXJlbnRfZGV2KHN0cnVjdCBtZGV2X2RldmljZSAqbWRldik7Cj4gIHN0cnVjdCBk
ZXZpY2UgKm1kZXZfZGV2KHN0cnVjdCBtZGV2X2RldmljZSAqbWRldik7Cj4gIHN0cnVjdCBtZGV2
X2RldmljZSAqbWRldl9mcm9tX2RldihzdHJ1Y3QgZGV2aWNlICpkZXYpOwo+ICAKPiArZW51bSB7
Cj4gKwlNREVWX0NMQVNTX0lEX1ZGSU8gPSAxLAo+ICsJLyogTmV3IGVudHJpZXMgbXVzdCBiZSBh
ZGRlZCBoZXJlICovCj4gK307Cj4gKwo+ICAjZW5kaWYgLyogTURFVl9IICovCj4gZGlmZiAtLWdp
dCBhL2luY2x1ZGUvbGludXgvbW9kX2RldmljZXRhYmxlLmggYi9pbmNsdWRlL2xpbnV4L21vZF9k
ZXZpY2V0YWJsZS5oCj4gaW5kZXggNTcxNGZkMzVhODNjLi5mMzJjNmU0NGZiMWEgMTAwNjQ0Cj4g
LS0tIGEvaW5jbHVkZS9saW51eC9tb2RfZGV2aWNldGFibGUuaAo+ICsrKyBiL2luY2x1ZGUvbGlu
dXgvbW9kX2RldmljZXRhYmxlLmgKPiBAQCAtODIxLDQgKzgyMSwxMiBAQCBzdHJ1Y3Qgd21pX2Rl
dmljZV9pZCB7Cj4gIAljb25zdCB2b2lkICpjb250ZXh0Owo+ICB9Owo+ICAKPiArLyoqCj4gKyAq
IHN0cnVjdCBtZGV2X2NsYXNzX2lkIC0gTURFViBkZXZpY2UgY2xhc3MgaWRlbnRpZmllcgo+ICsg
KiBAaWQ6IFVzZWQgdG8gaWRlbnRpZnkgYSBzcGVjaWZpYyBjbGFzcyBvZiBkZXZpY2UsIGUuZyB2
ZmlvLW1kZXYgZGV2aWNlLgo+ICsgKi8KPiArc3RydWN0IG1kZXZfY2xhc3NfaWQgewo+ICsJX191
MTYgaWQ7Cj4gK307Cj4gKwo+ICAjZW5kaWYgLyogTElOVVhfTU9EX0RFVklDRVRBQkxFX0ggKi8K
PiBkaWZmIC0tZ2l0IGEvc2FtcGxlcy92ZmlvLW1kZXYvbWJvY2hzLmMgYi9zYW1wbGVzL3ZmaW8t
bWRldi9tYm9jaHMuYwo+IGluZGV4IGFjNWM4YzE3YjFmZi4uMTE1YmM1MDc0NjU2IDEwMDY0NAo+
IC0tLSBhL3NhbXBsZXMvdmZpby1tZGV2L21ib2Nocy5jCj4gKysrIGIvc2FtcGxlcy92ZmlvLW1k
ZXYvbWJvY2hzLmMKPiBAQCAtNTYxLDYgKzU2MSw3IEBAIHN0YXRpYyBpbnQgbWJvY2hzX2NyZWF0
ZShzdHJ1Y3Qga29iamVjdCAqa29iaiwgc3RydWN0IG1kZXZfZGV2aWNlICptZGV2KQo+ICAJbWJv
Y2hzX3Jlc2V0KG1kZXYpOwo+ICAKPiAgCW1ib2Noc191c2VkX21ieXRlcyArPSB0eXBlLT5tYnl0
ZXM7Cj4gKwltZGV2X3NldF9jbGFzcyhtZGV2LCBNREVWX0NMQVNTX0lEX1ZGSU8pOwo+ICAJcmV0
dXJuIDA7Cj4gIAo+ICBlcnJfbWVtOgo+IGRpZmYgLS1naXQgYS9zYW1wbGVzL3ZmaW8tbWRldi9t
ZHB5LmMgYi9zYW1wbGVzL3ZmaW8tbWRldi9tZHB5LmMKPiBpbmRleCBjYzg2YmY2NTY2ZTQuLjY2
NTYxNDU3NGQ1MCAxMDA2NDQKPiAtLS0gYS9zYW1wbGVzL3ZmaW8tbWRldi9tZHB5LmMKPiArKysg
Yi9zYW1wbGVzL3ZmaW8tbWRldi9tZHB5LmMKPiBAQCAtMjY5LDYgKzI2OSw3IEBAIHN0YXRpYyBp
bnQgbWRweV9jcmVhdGUoc3RydWN0IGtvYmplY3QgKmtvYmosIHN0cnVjdCBtZGV2X2RldmljZSAq
bWRldikKPiAgCW1kcHlfcmVzZXQobWRldik7Cj4gIAo+ICAJbWRweV9jb3VudCsrOwo+ICsJbWRl
dl9zZXRfY2xhc3MobWRldiwgTURFVl9DTEFTU19JRF9WRklPKTsKPiAgCXJldHVybiAwOwo+ICB9
Cj4gIAo+IGRpZmYgLS1naXQgYS9zYW1wbGVzL3ZmaW8tbWRldi9tdHR5LmMgYi9zYW1wbGVzL3Zm
aW8tbWRldi9tdHR5LmMKPiBpbmRleCBjZTg0YTMwMGE0ZGEuLjkwZGExMmZmN2ZkOSAxMDA2NDQK
PiAtLS0gYS9zYW1wbGVzL3ZmaW8tbWRldi9tdHR5LmMKPiArKysgYi9zYW1wbGVzL3ZmaW8tbWRl
di9tdHR5LmMKPiBAQCAtNzU1LDYgKzc1NSw3IEBAIHN0YXRpYyBpbnQgbXR0eV9jcmVhdGUoc3Ry
dWN0IGtvYmplY3QgKmtvYmosIHN0cnVjdCBtZGV2X2RldmljZSAqbWRldikKPiAgCWxpc3RfYWRk
KCZtZGV2X3N0YXRlLT5uZXh0LCAmbWRldl9kZXZpY2VzX2xpc3QpOwo+ICAJbXV0ZXhfdW5sb2Nr
KCZtZGV2X2xpc3RfbG9jayk7Cj4gIAo+ICsJbWRldl9zZXRfY2xhc3MobWRldiwgTURFVl9DTEFT
U19JRF9WRklPKTsKPiAgCXJldHVybiAwOwo+ICB9Cj4gIAoKX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2
ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21h
aWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
