Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 63DAF12115B
	for <lists+dri-devel@lfdr.de>; Mon, 16 Dec 2019 18:11:10 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 030C76E83C;
	Mon, 16 Dec 2019 17:11:07 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from foss.arm.com (foss.arm.com [217.140.110.172])
 by gabe.freedesktop.org (Postfix) with ESMTP id EFAA16E83C
 for <dri-devel@lists.freedesktop.org>; Mon, 16 Dec 2019 17:11:05 +0000 (UTC)
Received: from usa-sjc-imap-foss1.foss.arm.com (unknown [10.121.207.14])
 by usa-sjc-mx-foss1.foss.arm.com (Postfix) with ESMTP id B12AF1FB;
 Mon, 16 Dec 2019 09:11:05 -0800 (PST)
Received: from e110455-lin.cambridge.arm.com (usa-sjc-imap-foss1.foss.arm.com
 [10.121.207.14])
 by usa-sjc-imap-foss1.foss.arm.com (Postfix) with ESMTPSA id 785383F718;
 Mon, 16 Dec 2019 09:11:05 -0800 (PST)
Received: by e110455-lin.cambridge.arm.com (Postfix, from userid 1000)
 id 37269682AC5; Mon, 16 Dec 2019 17:11:04 +0000 (GMT)
Date: Mon, 16 Dec 2019 17:11:04 +0000
From: Liviu Dudau <liviu.dudau@arm.com>
To: Andrzej Pietrasiewicz <andrzej.p@collabora.com>
Subject: Re: [PATCHv4 04/36] drm/gem-fb-helper: Add special version of
 drm_gem_fb_size_check
Message-ID: <20191216171104.e4exwfpiv4uxxdrk@e110455-lin.cambridge.arm.com>
References: <20191213155907.16581-1-andrzej.p@collabora.com>
 <20191213155907.16581-5-andrzej.p@collabora.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20191213155907.16581-5-andrzej.p@collabora.com>
User-Agent: NeoMutt/20180716
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Ayan Halder <Ayan.Halder@arm.com>, kernel@collabora.com,
 David Airlie <airlied@linux.ie>, Sandy Huang <hjc@rock-chips.com>,
 James Wang <james.qian.wang@arm.com>, dri-devel@lists.freedesktop.org,
 Mihail Atanassov <mihail.atanassov@arm.com>, Sean Paul <sean@poorly.run>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gRnJpLCBEZWMgMTMsIDIwMTkgYXQgMDQ6NTg6MzVQTSArMDEwMCwgQW5kcnplaiBQaWV0cmFz
aWV3aWN6IHdyb3RlOgo+IFRoZSBuZXcgdmVyc2lvbiBhY2NlcHRzIGEgc3RydWN0IGRlc2NyaWJp
bmcgZGV2aWF0aW9ucyBmcm9tIHN0YW5kYXJkIHdheSBvZgo+IGRvaW5nIHRoZSBzaXplIGNoZWNr
cy4gVGhlIGNhbGxlciBtdXN0IHByb3ZpZGUgdGhlIHJlc3BlY3RpdmUgdmFsdWVzLgo+IAo+IFNp
Z25lZC1vZmYtYnk6IEFuZHJ6ZWogUGlldHJhc2lld2ljeiA8YW5kcnplai5wQGNvbGxhYm9yYS5j
b20+Cj4gLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9kcm1fZ2VtX2ZyYW1lYnVmZmVyX2hlbHBlci5j
IHwgNDcgKysrKysrKysrKysrKysrKy0tLS0KPiAgaW5jbHVkZS9kcm0vZHJtX2dlbV9mcmFtZWJ1
ZmZlcl9oZWxwZXIuaCAgICAgfCAxNiArKysrKysrCj4gIDIgZmlsZXMgY2hhbmdlZCwgNTUgaW5z
ZXJ0aW9ucygrKSwgOCBkZWxldGlvbnMoLSkKPiAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2RybV9nZW1fZnJhbWVidWZmZXJfaGVscGVyLmMgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2dl
bV9mcmFtZWJ1ZmZlcl9oZWxwZXIuYwo+IGluZGV4IDc4N2VkYjlhOTE2Yi4uNDIwMWRjMWYzMmE1
IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fZ2VtX2ZyYW1lYnVmZmVyX2hlbHBl
ci5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2RybV9nZW1fZnJhbWVidWZmZXJfaGVscGVyLmMK
PiBAQCAtMjAxLDggKzIwMSw5IEBAIGludCBkcm1fZ2VtX2ZiX2xvb2t1cChzdHJ1Y3QgZHJtX2Rl
dmljZSAqZGV2LAo+ICBFWFBPUlRfU1lNQk9MX0dQTChkcm1fZ2VtX2ZiX2xvb2t1cCk7Cj4gIAo+
ICAvKioKPiAtICogZHJtX2dlbV9mYl9zaXplX2NoZWNrKCkgLSBIZWxwZXIgZnVuY3Rpb24gZm9y
IHVzZSBpbgo+IC0gKgkJCSAgICAgJmRybV9tb2RlX2NvbmZpZ19mdW5jcy5mYl9jcmVhdGUgaW1w
bGVtZW50YXRpb25zCj4gKyAqIGRybV9nZW1fZmJfc2l6ZV9jaGVja19zcGVjaWFsKCkgLSBIZWxw
ZXIgZnVuY3Rpb24gZm9yIHVzZSBpbgo+ICsgKgkJCQkgICAgICZkcm1fbW9kZV9jb25maWdfZnVu
Y3MuZmJfY3JlYXRlCj4gKyAqCQkJCSAgICAgaW1wbGVtZW50YXRpb25zCj4gICAqIEBkZXY6IERS
TSBkZXZpY2UKPiAgICogQG1vZGVfY21kOiBNZXRhZGF0YSBmcm9tIHRoZSB1c2Vyc3BhY2UgZnJh
bWVidWZmZXIgY3JlYXRpb24gcmVxdWVzdAo+ICAgKgo+IEBAIC0yMTIsOSArMjEzLDEwIEBAIEVY
UE9SVF9TWU1CT0xfR1BMKGRybV9nZW1fZmJfbG9va3VwKTsKPiAgICogUmV0dXJuczoKPiAgICog
WmVybyBvbiBzdWNjZXNzIG9yIGEgbmVnYXRpdmUgZXJyb3IgY29kZSBvbiBmYWlsdXJlLgo+ICAg
Ki8KPiAtaW50IGRybV9nZW1fZmJfc2l6ZV9jaGVjayhzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LAo+
IC0JCQkgIGNvbnN0IHN0cnVjdCBkcm1fbW9kZV9mYl9jbWQyICptb2RlX2NtZCwKPiAtCQkJICBz
dHJ1Y3QgZHJtX2dlbV9vYmplY3QgKipvYmpzKQo+ICtpbnQgZHJtX2dlbV9mYl9zaXplX2NoZWNr
X3NwZWNpYWwoc3RydWN0IGRybV9kZXZpY2UgKmRldiwKPiArCQkJCSAgY29uc3Qgc3RydWN0IGRy
bV9tb2RlX2ZiX2NtZDIgKm1vZGVfY21kLAo+ICsJCQkJICBjb25zdCBzdHJ1Y3QgZHJtX3NpemVf
Y2hlY2sgKmNoZWNrLAo+ICsJCQkJICBzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKipvYmpzKQo+ICB7
Cj4gIAljb25zdCBzdHJ1Y3QgZHJtX2Zvcm1hdF9pbmZvICppbmZvOwo+ICAJaW50IGk7Cj4gQEAg
LTIyNywxMCArMjI5LDE5IEBAIGludCBkcm1fZ2VtX2ZiX3NpemVfY2hlY2soc3RydWN0IGRybV9k
ZXZpY2UgKmRldiwKPiAgCQl1bnNpZ25lZCBpbnQgd2lkdGggPSBtb2RlX2NtZC0+d2lkdGggLyAo
aSA/IGluZm8tPmhzdWIgOiAxKTsKPiAgCQl1bnNpZ25lZCBpbnQgaGVpZ2h0ID0gbW9kZV9jbWQt
PmhlaWdodCAvIChpID8gaW5mby0+dnN1YiA6IDEpOwo+ICAJCXVuc2lnbmVkIGludCBtaW5fc2l6
ZTsKPiArCQl1MzIgcGl0Y2ggPSBtb2RlX2NtZC0+cGl0Y2hlc1tpXTsKPiArCj4gKwkJaWYgKGNo
ZWNrICYmIGNoZWNrLT51c2VfcGl0Y2hfbXVsdGlwbGllcikKPiArCQkJaWYgKChwaXRjaCAqIGNo
ZWNrLT5waXRjaF9tdWx0aXBsaWVyW2ldKSAlCj4gKwkJCSAgICBjaGVjay0+cGl0Y2hfbW9kdWxv
KQo+ICsJCQkJcmV0dXJuIC1FSU5WQUw7Cj4gIAo+IC0JCW1pbl9zaXplID0gKGhlaWdodCAtIDEp
ICogbW9kZV9jbWQtPnBpdGNoZXNbaV0KPiAtCQkJICsgZHJtX2Zvcm1hdF9pbmZvX21pbl9waXRj
aChpbmZvLCBpLCB3aWR0aCkKPiAtCQkJICsgbW9kZV9jbWQtPm9mZnNldHNbaV07Cj4gKwkJaWYg
KGNoZWNrICYmIGNoZWNrLT51c2VfbWluX3NpemUpCj4gKwkJCW1pbl9zaXplID0gY2hlY2stPm1p
bl9zaXplW2ldOwo+ICsJCWVsc2UKPiArCQkJbWluX3NpemUgPSAoaGVpZ2h0IC0gMSkgKiBwaXRj
aAo+ICsJCQkJICsgZHJtX2Zvcm1hdF9pbmZvX21pbl9waXRjaChpbmZvLCBpLCB3aWR0aCkKPiAr
CQkJCSArIG1vZGVfY21kLT5vZmZzZXRzW2ldOwo+ICAKPiAgCQlpZiAob2Jqc1tpXS0+c2l6ZSA8
IG1pbl9zaXplKQo+ICAJCQlyZXR1cm4gLUVJTlZBTDsKPiBAQCAtMjM5LDYgKzI1MCwyNiBAQCBp
bnQgZHJtX2dlbV9mYl9zaXplX2NoZWNrKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCj4gIAlyZXR1
cm4gMDsKPiAgCj4gIH0KPiArRVhQT1JUX1NZTUJPTF9HUEwoZHJtX2dlbV9mYl9zaXplX2NoZWNr
X3NwZWNpYWwpOwoKSG1tLCBub3QgYSBiaWcgZmFuIG9mIGV4cG9ydGluZyBzb21ldGhpbmcgY2Fs
bGVkIGZvb19zcGVjaWFsLiBXaGF0IGFib3V0IGZvbGxvd2luZwp0aGUgdHJhZGl0aW9uIG9mIGNh
bGxpbmcgaXQgZHJtX2dlbV9mYl9zaXplX2NoZWNrMigpID8KCkJlc3QgcmVnYXJkcywKTGl2aXUK
Cj4gKwo+ICsvKioKPiArICogZHJtX2dlbV9mYl9zaXplX2NoZWNrKCkgLSBIZWxwZXIgZnVuY3Rp
b24gZm9yIHVzZSBpbgo+ICsgKgkJCSAgICAgJmRybV9tb2RlX2NvbmZpZ19mdW5jcy5mYl9jcmVh
dGUgaW1wbGVtZW50YXRpb25zCj4gKyAqIEBkZXY6IERSTSBkZXZpY2UKPiArICogQG1vZGVfY21k
OiBNZXRhZGF0YSBmcm9tIHRoZSB1c2Vyc3BhY2UgZnJhbWVidWZmZXIgY3JlYXRpb24gcmVxdWVz
dAo+ICsgKgo+ICsgKiBUaGlzIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIHZlcmlmeSBidWZmZXIg
c2l6ZXMgZm9yIGFsbCBwbGFuZXMuCj4gKyAqIEl0IGlzIGNhbGxlcidzIHJlc3BvbnNpYmlsaXR5
IHRvIHB1dCB0aGUgb2JqZWN0cyBvbiBmYWlsdXJlLgo+ICsgKgo+ICsgKiBSZXR1cm5zOgo+ICsg
KiBaZXJvIG9uIHN1Y2Nlc3Mgb3IgYSBuZWdhdGl2ZSBlcnJvciBjb2RlIG9uIGZhaWx1cmUuCj4g
KyAqLwo+ICtpbnQgZHJtX2dlbV9mYl9zaXplX2NoZWNrKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYs
Cj4gKwkJCSAgY29uc3Qgc3RydWN0IGRybV9tb2RlX2ZiX2NtZDIgKm1vZGVfY21kLAo+ICsJCQkg
IHN0cnVjdCBkcm1fZ2VtX29iamVjdCAqKm9ianMpCj4gK3sKPiArCXJldHVybiBkcm1fZ2VtX2Zi
X3NpemVfY2hlY2tfc3BlY2lhbChkZXYsIG1vZGVfY21kLCBOVUxMLCBvYmpzKTsKPiArfQo+ICBF
WFBPUlRfU1lNQk9MX0dQTChkcm1fZ2VtX2ZiX3NpemVfY2hlY2spOwo+ICAKPiAgLyoqCj4gZGlm
ZiAtLWdpdCBhL2luY2x1ZGUvZHJtL2RybV9nZW1fZnJhbWVidWZmZXJfaGVscGVyLmggYi9pbmNs
dWRlL2RybS9kcm1fZ2VtX2ZyYW1lYnVmZmVyX2hlbHBlci5oCj4gaW5kZXggYzg1ZDRiMTUyZTkx
Li43NDMwNGEyNjg2OTQgMTAwNjQ0Cj4gLS0tIGEvaW5jbHVkZS9kcm0vZHJtX2dlbV9mcmFtZWJ1
ZmZlcl9oZWxwZXIuaAo+ICsrKyBiL2luY2x1ZGUvZHJtL2RybV9nZW1fZnJhbWVidWZmZXJfaGVs
cGVyLmgKPiBAQCAtMTEsNiArMTEsMTggQEAgc3RydWN0IGRybV9tb2RlX2ZiX2NtZDI7Cj4gIHN0
cnVjdCBkcm1fcGxhbmU7Cj4gIHN0cnVjdCBkcm1fcGxhbmVfc3RhdGU7Cj4gIHN0cnVjdCBkcm1f
c2ltcGxlX2Rpc3BsYXlfcGlwZTsKPiArc3RydWN0IGRybV9zaXplX2NoZWNrOwo+ICsKPiArLyoq
Cj4gKyAqIHN0cnVjdCBkcm1fc2l6ZV9jaGVjayAtIERlc2NyaXB0aW9uIG9mIHNwZWNpYWwgcmVx
dWlyZW1lbnRzIGZvciBzaXplIGNoZWNrcy4KPiArICovCj4gK3N0cnVjdCBkcm1fc2l6ZV9jaGVj
ayB7Cj4gKwl1bnNpZ25lZCBpbnQgbWluX3NpemVbNF07Cj4gKwlib29sIHVzZV9taW5fc2l6ZTsK
PiArCXUzMiBwaXRjaF9tdWx0aXBsaWVyWzRdOwo+ICsJdTMyIHBpdGNoX21vZHVsbzsKPiArCWJv
b2wgdXNlX3BpdGNoX211bHRpcGxpZXI7Cj4gK307Cj4gIAo+ICBzdHJ1Y3QgZHJtX2dlbV9vYmpl
Y3QgKmRybV9nZW1fZmJfZ2V0X29iaihzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpmYiwKPiAgCQkJ
CQkgIHVuc2lnbmVkIGludCBwbGFuZSk7Cj4gQEAgLTMyLDYgKzQ0LDEwIEBAIGludCBkcm1fZ2Vt
X2ZiX2xvb2t1cChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LAo+ICAJCSAgICAgIHN0cnVjdCBkcm1f
ZmlsZSAqZmlsZSwKPiAgCQkgICAgICBjb25zdCBzdHJ1Y3QgZHJtX21vZGVfZmJfY21kMiAqbW9k
ZV9jbWQsCj4gIAkJICAgICAgc3RydWN0IGRybV9nZW1fb2JqZWN0ICoqb2Jqcyk7Cj4gK2ludCBk
cm1fZ2VtX2ZiX3NpemVfY2hlY2tfc3BlY2lhbChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LAo+ICsJ
CQkJICBjb25zdCBzdHJ1Y3QgZHJtX21vZGVfZmJfY21kMiAqbW9kZV9jbWQsCj4gKwkJCQkgIGNv
bnN0IHN0cnVjdCBkcm1fc2l6ZV9jaGVjayAqY2hlY2ssCj4gKwkJCQkgIHN0cnVjdCBkcm1fZ2Vt
X29iamVjdCAqKm9ianMpOwo+ICBpbnQgZHJtX2dlbV9mYl9zaXplX2NoZWNrKHN0cnVjdCBkcm1f
ZGV2aWNlICpkZXYsCj4gIAkJCSAgY29uc3Qgc3RydWN0IGRybV9tb2RlX2ZiX2NtZDIgKm1vZGVf
Y21kLAo+ICAJCQkgIHN0cnVjdCBkcm1fZ2VtX29iamVjdCAqKm9ianMpOwo+IC0tIAo+IDIuMTcu
MQo+IAoKLS0gCj09PT09PT09PT09PT09PT09PT09CnwgSSB3b3VsZCBsaWtlIHRvIHwKfCBmaXgg
dGhlIHdvcmxkLCAgfAp8IGJ1dCB0aGV5J3JlIG5vdCB8CnwgZ2l2aW5nIG1lIHRoZSAgIHwKIFwg
c291cmNlIGNvZGUhICAvCiAgLS0tLS0tLS0tLS0tLS0tCiAgICDCr1xfKOODhClfL8KvCl9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWls
aW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZy
ZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbAo=
