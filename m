Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id DDF27293B2
	for <lists+dri-devel@lfdr.de>; Fri, 24 May 2019 10:55:28 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 406A86E0E0;
	Fri, 24 May 2019 08:54:40 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ed1-x542.google.com (mail-ed1-x542.google.com
 [IPv6:2a00:1450:4864:20::542])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8B8216E0D5
 for <dri-devel@lists.freedesktop.org>; Fri, 24 May 2019 08:54:32 +0000 (UTC)
Received: by mail-ed1-x542.google.com with SMTP id f37so13272227edb.13
 for <dri-devel@lists.freedesktop.org>; Fri, 24 May 2019 01:54:32 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=KKTKGhsbv7VsgvEL5zWhJm4bSTrXoG2quXr/om1qy0w=;
 b=J5Ap1gh9WiFvqninN7eqfohMo39BqDEWChmMQjAyM0J5ZuhlXCntkIlZIOlOtJ+5ZO
 GWxGCfFgIwewg5da9IPqHS/U7SofB2/V6602SJoQnuXYVmNdHDJ++1lnXSgJr06OYiSL
 jeK0uh0FEDeu21uZPg7rgKRfsmJ+dmGw6HosfPnCy1eHyFWw7DabycJ0wr73uKa+RjiC
 0eZtm/UbmFm5PZ+TlRHb86ZvnCjRNqn3ZEouqAJKcPh1G2SZarQ4r08M9XgWNg6fWAkY
 Rnfiy9ElW3RC7s16xlRctnc1hPx05XT13Jsnpn1iF/wVA4ntVGSO5RFeOv3kYiPyC2Ye
 KGDA==
X-Gm-Message-State: APjAAAVJXq/ykJgJt2+0sLspqV0/tOk+ilE9pJRbor/wQrcM208bcPFv
 7izPFHgxLVJFjtxkc+OluDMWiQ==
X-Google-Smtp-Source: APXvYqyeayYhyiaDuJ1eZ78DuwtWgIdV7k/yFMRgqPrM/KMb/elL9Ha/cg/myn+iB8QVchEj153ozg==
X-Received: by 2002:a17:906:5c12:: with SMTP id
 e18mr14538535ejq.157.1558688071022; 
 Fri, 24 May 2019 01:54:31 -0700 (PDT)
Received: from phenom.ffwll.local ([2a02:168:569e:0:3106:d637:d723:e855])
 by smtp.gmail.com with ESMTPSA id 96sm567082edq.68.2019.05.24.01.54.29
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Fri, 24 May 2019 01:54:30 -0700 (PDT)
From: Daniel Vetter <daniel.vetter@ffwll.ch>
To: LKML <linux-kernel@vger.kernel.org>
Subject: [PATCH 22/33] fbcon: Call fbcon_mode_deleted/new_modelist directly
Date: Fri, 24 May 2019 10:53:43 +0200
Message-Id: <20190524085354.27411-23-daniel.vetter@ffwll.ch>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190524085354.27411-1-daniel.vetter@ffwll.ch>
References: <20190524085354.27411-1-daniel.vetter@ffwll.ch>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=KKTKGhsbv7VsgvEL5zWhJm4bSTrXoG2quXr/om1qy0w=;
 b=jzYFxe7zbdTLFLirqyF3l84Lj/IU/QUuH8wzXWljEfiAHXHPma03OhH0jDUYnWIuJp
 rQbVOIuPkZQK1ta70ZmZ+qXTfHRS+ysFTTHfTwQQ2qPRBsmB+yMt3k9rd2/CjFbNdgIR
 hS3VFvJ9DptOsfpVsfx3AQzlb3F+CCx9ErJFA=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-fbdev@vger.kernel.org,
 Sergey Senozhatsky <sergey.senozhatsky@gmail.com>,
 Kees Cook <keescook@chromium.org>,
 Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>,
 Daniel Vetter <daniel.vetter@ffwll.ch>,
 Intel Graphics Development <intel-gfx@lists.freedesktop.org>,
 DRI Development <dri-devel@lists.freedesktop.org>,
 =?UTF-8?q?Micha=C5=82=20Miros=C5=82aw?= <mirq-linux@rere.qmqm.pl>,
 Yisheng Xie <ysxie@foxmail.com>, Hans de Goede <hdegoede@redhat.com>,
 Mikulas Patocka <mpatocka@redhat.com>, Daniel Vetter <daniel.vetter@intel.com>,
 Peter Rosin <peda@axentia.se>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SSdtIG5vdCBlbnRpcmVseSBjbGVhciBvbiB3aGF0IG5ld19tb2RlbGlzdCBhY3R1YWxseSBkb2Vz
LCBpdCBzZWVtcwpleGNsdXNpdmVseSBmb3IgYSBzeXNmcyBpbnRlcmZhY2UuIFdoaWNoIGluIHRo
ZSBlbmQgZG9lcyBhbW91bnQgdG8gYQpub3JtYWwgZmJfc2V0X3BhciB0byBjaGVjayB0aGUgbW9k
ZSwgYnV0IHRoZW4gdGFrZXMgYSBkaWZmZXJlbnQgcGF0aAppbiBib3RoIGZibWVtLmMgYW5kIGZi
Y29uLmMuCgpJIGhhdmUgbm8gaWRlYSB3aHkgdGhlc2UgMiBwYXRocyBhcmUgZGlmZmVyZW50LCBi
dXQgdGhlbiBJIGFsc28gZG9uJ3QKcmVhbGx5IHdhbnQgdG8gZmluZCBvdXQuIFNvIGp1c3QgZG8g
dGhlIHNpbXBsZSBjb252ZXJzaW9uIHRvIGEgZGlyZWN0CmZ1bmN0aW9uIGNhbGwuCgp2Mjogc3Rh
dGljIGlubGluZSBmb3IgdGhlIGR1bW15IHZlcnNpb25zLCBJIGZvcmdvdC4KClNpZ25lZC1vZmYt
Ynk6IERhbmllbCBWZXR0ZXIgPGRhbmllbC52ZXR0ZXJAaW50ZWwuY29tPgpDYzogQmFydGxvbWll
aiBab2xuaWVya2lld2ljeiA8Yi56b2xuaWVya2llQHNhbXN1bmcuY29tPgpDYzogRGFuaWVsIFZl
dHRlciA8ZGFuaWVsLnZldHRlckBmZndsbC5jaD4KQ2M6IEhhbnMgZGUgR29lZGUgPGhkZWdvZWRl
QHJlZGhhdC5jb20+CkNjOiBNaWt1bGFzIFBhdG9ja2EgPG1wYXRvY2thQHJlZGhhdC5jb20+CkNj
OiBTZXJnZXkgU2Vub3poYXRza3kgPHNlcmdleS5zZW5vemhhdHNreUBnbWFpbC5jb20+CkNjOiBL
ZWVzIENvb2sgPGtlZXNjb29rQGNocm9taXVtLm9yZz4KQ2M6IFBldGVyIFJvc2luIDxwZWRhQGF4
ZW50aWEuc2U+CkNjOiBZaXNoZW5nIFhpZSA8eXN4aWVAZm94bWFpbC5jb20+CkNjOiAiTWljaGHF
giBNaXJvc8WCYXciIDxtaXJxLWxpbnV4QHJlcmUucW1xbS5wbD4KQ2M6IGxpbnV4LWZiZGV2QHZn
ZXIua2VybmVsLm9yZwotLS0KIGRyaXZlcnMvdmlkZW8vZmJkZXYvY29yZS9mYmNvbi5jIHwgMTQg
KysrLS0tLS0tLS0tLS0KIGRyaXZlcnMvdmlkZW8vZmJkZXYvY29yZS9mYm1lbS5jIHwgMjIgKysr
KysrKy0tLS0tLS0tLS0tLS0tLQogaW5jbHVkZS9saW51eC9mYi5oICAgICAgICAgICAgICAgfCAg
NSAtLS0tLQogaW5jbHVkZS9saW51eC9mYmNvbi5oICAgICAgICAgICAgfCAgNiArKysrKysKIDQg
ZmlsZXMgY2hhbmdlZCwgMTYgaW5zZXJ0aW9ucygrKSwgMzEgZGVsZXRpb25zKC0pCgpkaWZmIC0t
Z2l0IGEvZHJpdmVycy92aWRlby9mYmRldi9jb3JlL2ZiY29uLmMgYi9kcml2ZXJzL3ZpZGVvL2Zi
ZGV2L2NvcmUvZmJjb24uYwppbmRleCAyNGVhNmU0ZmJlZTAuLjM1ZWNkMjViMzg1YyAxMDA2NDQK
LS0tIGEvZHJpdmVycy92aWRlby9mYmRldi9jb3JlL2ZiY29uLmMKKysrIGIvZHJpdmVycy92aWRl
by9mYmRldi9jb3JlL2ZiY29uLmMKQEAgLTMwMTksOCArMzAxOSw4IEBAIHN0YXRpYyB2b2lkIGZi
Y29uX3NldF9hbGxfdmNzKHN0cnVjdCBmYl9pbmZvICppbmZvKQogCQlmYmNvbl9tb2RlY2hhbmdl
ZChpbmZvKTsKIH0KIAotc3RhdGljIGludCBmYmNvbl9tb2RlX2RlbGV0ZWQoc3RydWN0IGZiX2lu
Zm8gKmluZm8sCi0JCQkgICAgICBzdHJ1Y3QgZmJfdmlkZW9tb2RlICptb2RlKQoraW50IGZiY29u
X21vZGVfZGVsZXRlZChzdHJ1Y3QgZmJfaW5mbyAqaW5mbywKKwkJICAgICAgIHN0cnVjdCBmYl92
aWRlb21vZGUgKm1vZGUpCiB7CiAJc3RydWN0IGZiX2luZm8gKmZiX2luZm87CiAJc3RydWN0IGZi
Y29uX2Rpc3BsYXkgKnA7CkBAIC0zMjYyLDcgKzMyNjIsNyBAQCBzdGF0aWMgdm9pZCBmYmNvbl9m
Yl9ibGFua2VkKHN0cnVjdCBmYl9pbmZvICppbmZvLCBpbnQgYmxhbmspCiAJb3BzLT5ibGFua19z
dGF0ZSA9IGJsYW5rOwogfQogCi1zdGF0aWMgdm9pZCBmYmNvbl9uZXdfbW9kZWxpc3Qoc3RydWN0
IGZiX2luZm8gKmluZm8pCit2b2lkIGZiY29uX25ld19tb2RlbGlzdChzdHJ1Y3QgZmJfaW5mbyAq
aW5mbykKIHsKIAlpbnQgaTsKIAlzdHJ1Y3QgdmNfZGF0YSAqdmM7CkBAIC0zMzI0LDcgKzMzMjQs
NiBAQCBzdGF0aWMgaW50IGZiY29uX2V2ZW50X25vdGlmeShzdHJ1Y3Qgbm90aWZpZXJfYmxvY2sg
KnNlbGYsCiB7CiAJc3RydWN0IGZiX2V2ZW50ICpldmVudCA9IGRhdGE7CiAJc3RydWN0IGZiX2lu
Zm8gKmluZm8gPSBldmVudC0+aW5mbzsKLQlzdHJ1Y3QgZmJfdmlkZW9tb2RlICptb2RlOwogCXN0
cnVjdCBmYl9jb24yZmJtYXAgKmNvbjJmYjsKIAlzdHJ1Y3QgZmJfYmxpdF9jYXBzICpjYXBzOwog
CWludCBpZHgsIHJldCA9IDA7CkBAIC0zMzM2LDEwICszMzM1LDYgQEAgc3RhdGljIGludCBmYmNv
bl9ldmVudF9ub3RpZnkoc3RydWN0IG5vdGlmaWVyX2Jsb2NrICpzZWxmLAogCWNhc2UgRkJfRVZF
TlRfTU9ERV9DSEFOR0VfQUxMOgogCQlmYmNvbl9zZXRfYWxsX3ZjcyhpbmZvKTsKIAkJYnJlYWs7
Ci0JY2FzZSBGQl9FVkVOVF9NT0RFX0RFTEVURToKLQkJbW9kZSA9IGV2ZW50LT5kYXRhOwotCQly
ZXQgPSBmYmNvbl9tb2RlX2RlbGV0ZWQoaW5mbywgbW9kZSk7Ci0JCWJyZWFrOwogCWNhc2UgRkJf
RVZFTlRfU0VUX0NPTlNPTEVfTUFQOgogCQkvKiBjYWxsZWQgd2l0aCBjb25zb2xlIGxvY2sgaGVs
ZCAqLwogCQljb24yZmIgPSBldmVudC0+ZGF0YTsKQEAgLTMzNTMsOSArMzM0OCw2IEBAIHN0YXRp
YyBpbnQgZmJjb25fZXZlbnRfbm90aWZ5KHN0cnVjdCBub3RpZmllcl9ibG9jayAqc2VsZiwKIAlj
YXNlIEZCX0VWRU5UX0JMQU5LOgogCQlmYmNvbl9mYl9ibGFua2VkKGluZm8sICooaW50ICopZXZl
bnQtPmRhdGEpOwogCQlicmVhazsKLQljYXNlIEZCX0VWRU5UX05FV19NT0RFTElTVDoKLQkJZmJj
b25fbmV3X21vZGVsaXN0KGluZm8pOwotCQlicmVhazsKIAljYXNlIEZCX0VWRU5UX0dFVF9SRVE6
CiAJCWNhcHMgPSBldmVudC0+ZGF0YTsKIAkJZmJjb25fZ2V0X3JlcXVpcmVtZW50KGluZm8sIGNh
cHMpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy92aWRlby9mYmRldi9jb3JlL2ZibWVtLmMgYi9kcml2
ZXJzL3ZpZGVvL2ZiZGV2L2NvcmUvZmJtZW0uYwppbmRleCA3MzI2OWRlZGNkNDUuLmNiZGQxNDFl
NzY5NSAxMDA2NDQKLS0tIGEvZHJpdmVycy92aWRlby9mYmRldi9jb3JlL2ZibWVtLmMKKysrIGIv
ZHJpdmVycy92aWRlby9mYmRldi9jb3JlL2ZibWVtLmMKQEAgLTk2NiwxNiArOTY2LDExIEBAIGZi
X3NldF92YXIoc3RydWN0IGZiX2luZm8gKmluZm8sIHN0cnVjdCBmYl92YXJfc2NyZWVuaW5mbyAq
dmFyKQogCQkvKiBtYWtlIHN1cmUgd2UgZG9uJ3QgZGVsZXRlIHRoZSB2aWRlb21vZGUgb2YgY3Vy
cmVudCB2YXIgKi8KIAkJcmV0ID0gZmJfbW9kZV9pc19lcXVhbCgmbW9kZTEsICZtb2RlMik7CiAK
LQkJaWYgKCFyZXQpIHsKLQkJICAgIHN0cnVjdCBmYl9ldmVudCBldmVudDsKLQotCQkgICAgZXZl
bnQuaW5mbyA9IGluZm87Ci0JCSAgICBldmVudC5kYXRhID0gJm1vZGUxOwotCQkgICAgcmV0ID0g
ZmJfbm90aWZpZXJfY2FsbF9jaGFpbihGQl9FVkVOVF9NT0RFX0RFTEVURSwgJmV2ZW50KTsKLQkJ
fQorCQlpZiAoIXJldCkKKwkJCWZiY29uX21vZGVfZGVsZXRlZChpbmZvLCAmbW9kZTEpOwogCiAJ
CWlmICghcmV0KQotCQkgICAgZmJfZGVsZXRlX3ZpZGVvbW9kZSgmbW9kZTEsICZpbmZvLT5tb2Rl
bGlzdCk7CisJCQlmYl9kZWxldGVfdmlkZW9tb2RlKCZtb2RlMSwgJmluZm8tPm1vZGVsaXN0KTsK
IAogCiAJCXJldCA9IChyZXQpID8gLUVJTlZBTCA6IDA7CkBAIC0xOTkyLDcgKzE5ODcsNiBAQCBz
dWJzeXNfaW5pdGNhbGwoZmJtZW1faW5pdCk7CiAKIGludCBmYl9uZXdfbW9kZWxpc3Qoc3RydWN0
IGZiX2luZm8gKmluZm8pCiB7Ci0Jc3RydWN0IGZiX2V2ZW50IGV2ZW50OwogCXN0cnVjdCBmYl92
YXJfc2NyZWVuaW5mbyB2YXIgPSBpbmZvLT52YXI7CiAJc3RydWN0IGxpc3RfaGVhZCAqcG9zLCAq
bjsKIAlzdHJ1Y3QgZmJfbW9kZWxpc3QgKm1vZGVsaXN0OwpAQCAtMjAxMiwxNCArMjAwNiwxMiBA
QCBpbnQgZmJfbmV3X21vZGVsaXN0KHN0cnVjdCBmYl9pbmZvICppbmZvKQogCQl9CiAJfQogCi0J
ZXJyID0gMTsKKwlpZiAobGlzdF9lbXB0eSgmaW5mby0+bW9kZWxpc3QpKQorCQlyZXR1cm4gMTsK
IAotCWlmICghbGlzdF9lbXB0eSgmaW5mby0+bW9kZWxpc3QpKSB7Ci0JCWV2ZW50LmluZm8gPSBp
bmZvOwotCQllcnIgPSBmYl9ub3RpZmllcl9jYWxsX2NoYWluKEZCX0VWRU5UX05FV19NT0RFTElT
VCwgJmV2ZW50KTsKLQl9CisJZmJjb25fbmV3X21vZGVsaXN0KGluZm8pOwogCi0JcmV0dXJuIGVy
cjsKKwlyZXR1cm4gMDsKIH0KIAogTU9EVUxFX0xJQ0VOU0UoIkdQTCIpOwpkaWZmIC0tZ2l0IGEv
aW5jbHVkZS9saW51eC9mYi5oIGIvaW5jbHVkZS9saW51eC9mYi5oCmluZGV4IDc5NGIzODY0MTVi
Ny4uN2E3ODhlZDhjN2I1IDEwMDY0NAotLS0gYS9pbmNsdWRlL2xpbnV4L2ZiLmgKKysrIGIvaW5j
bHVkZS9saW51eC9mYi5oCkBAIC0xMjYsOCArMTI2LDYgQEAgc3RydWN0IGZiX2N1cnNvcl91c2Vy
IHsKIAogLyoJVGhlIHJlc29sdXRpb24gb2YgdGhlIHBhc3NlZCBpbiBmYl9pbmZvIGFib3V0IHRv
IGNoYW5nZSAqLyAKICNkZWZpbmUgRkJfRVZFTlRfTU9ERV9DSEFOR0UJCTB4MDEKLS8qICAgICAg
QW4gZW50cnkgZnJvbSB0aGUgbW9kZWxpc3Qgd2FzIHJlbW92ZWQgKi8KLSNkZWZpbmUgRkJfRVZF
TlRfTU9ERV9ERUxFVEUgICAgICAgICAgICAweDA0CiAKICNpZmRlZiBDT05GSUdfR1VNU1RJWF9B
TTIwMEVQRAogLyogb25seSB1c2VkIGJ5IG1hY2gtcHhhL2FtMjAwZXBkLmMgKi8KQEAgLTE0Miw5
ICsxNDAsNiBAQCBzdHJ1Y3QgZmJfY3Vyc29yX3VzZXIgewogLyogICAgICBBIGhhcmR3YXJlIGRp
c3BsYXkgYmxhbmsgY2hhbmdlIG9jY3VycmVkICovCiAjZGVmaW5lIEZCX0VWRU5UX0JMQU5LICAg
ICAgICAgICAgICAgICAgMHgwOQogLyogICAgICBQcml2YXRlIG1vZGVsaXN0IGlzIHRvIGJlIHJl
cGxhY2VkICovCi0jZGVmaW5lIEZCX0VWRU5UX05FV19NT0RFTElTVCAgICAgICAgICAgMHgwQQot
LyoJVGhlIHJlc29sdXRpb24gb2YgdGhlIHBhc3NlZCBpbiBmYl9pbmZvIGFib3V0IHRvIGNoYW5n
ZSBhbmQKLSAgICAgICAgYWxsIHZjJ3Mgc2hvdWxkIGJlIGNoYW5nZWQgICAgICAgICAqLwogI2Rl
ZmluZSBGQl9FVkVOVF9NT0RFX0NIQU5HRV9BTEwJMHgwQgogLyoJQSBzb2Z0d2FyZSBkaXNwbGF5
IGJsYW5rIGNoYW5nZSBvY2N1cnJlZCAqLwogI2RlZmluZSBGQl9FVkVOVF9DT05CTEFOSyAgICAg
ICAgICAgICAgIDB4MEMKZGlmZiAtLWdpdCBhL2luY2x1ZGUvbGludXgvZmJjb24uaCBiL2luY2x1
ZGUvbGludXgvZmJjb24uaAppbmRleCA3OTBjNDJlYzdiNWQuLmMxMzk4MzQzNDJmNSAxMDA2NDQK
LS0tIGEvaW5jbHVkZS9saW51eC9mYmNvbi5oCisrKyBiL2luY2x1ZGUvbGludXgvZmJjb24uaApA
QCAtOSw2ICs5LDkgQEAgdm9pZCBmYmNvbl9mYl91bnJlZ2lzdGVyZWQoc3RydWN0IGZiX2luZm8g
KmluZm8pOwogdm9pZCBmYmNvbl9mYl91bmJpbmQoc3RydWN0IGZiX2luZm8gKmluZm8pOwogdm9p
ZCBmYmNvbl9zdXNwZW5kZWQoc3RydWN0IGZiX2luZm8gKmluZm8pOwogdm9pZCBmYmNvbl9yZXN1
bWVkKHN0cnVjdCBmYl9pbmZvICppbmZvKTsKK2ludCBmYmNvbl9tb2RlX2RlbGV0ZWQoc3RydWN0
IGZiX2luZm8gKmluZm8sCisJCSAgICAgICBzdHJ1Y3QgZmJfdmlkZW9tb2RlICptb2RlKTsKK3Zv
aWQgZmJjb25fbmV3X21vZGVsaXN0KHN0cnVjdCBmYl9pbmZvICppbmZvKTsKICNlbHNlCiBzdGF0
aWMgaW5saW5lIHZvaWQgZmJfY29uc29sZV9pbml0KHZvaWQpIHt9CiBzdGF0aWMgaW5saW5lIHZv
aWQgZmJfY29uc29sZV9leGl0KHZvaWQpIHt9CkBAIC0xNyw2ICsyMCw5IEBAIHN0YXRpYyBpbmxp
bmUgdm9pZCBmYmNvbl9mYl91bnJlZ2lzdGVyZWQoc3RydWN0IGZiX2luZm8gKmluZm8pIHt9CiBz
dGF0aWMgaW5saW5lIHZvaWQgZmJjb25fZmJfdW5iaW5kKHN0cnVjdCBmYl9pbmZvICppbmZvKSB7
fQogc3RhdGljIGlubGluZSB2b2lkIGZiY29uX3N1c3BlbmRlZChzdHJ1Y3QgZmJfaW5mbyAqaW5m
bykge30KIHN0YXRpYyBpbmxpbmUgdm9pZCBmYmNvbl9yZXN1bWVkKHN0cnVjdCBmYl9pbmZvICpp
bmZvKSB7fQorc3RhdGljIGlubGluZSBpbnQgZmJjb25fbW9kZV9kZWxldGVkKHN0cnVjdCBmYl9p
bmZvICppbmZvLAorCQkJCSAgICAgc3RydWN0IGZiX3ZpZGVvbW9kZSAqbW9kZSkgeyByZXR1cm4g
MDsgfQorc3RhdGljIGlubGluZSB2b2lkIGZiY29uX25ld19tb2RlbGlzdChzdHJ1Y3QgZmJfaW5m
byAqaW5mbykge30KICNlbmRpZgogCiAjZW5kaWYgLyogX0xJTlVYX0ZCQ09OX0ggKi8KLS0gCjIu
MjAuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJp
LWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBz
Oi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
