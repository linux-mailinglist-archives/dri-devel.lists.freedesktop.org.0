Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id D395365303
	for <lists+dri-devel@lfdr.de>; Thu, 11 Jul 2019 10:19:21 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id DE5246E120;
	Thu, 11 Jul 2019 08:19:18 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ed1-x541.google.com (mail-ed1-x541.google.com
 [IPv6:2a00:1450:4864:20::541])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 95F796E120
 for <dri-devel@lists.freedesktop.org>; Thu, 11 Jul 2019 08:19:17 +0000 (UTC)
Received: by mail-ed1-x541.google.com with SMTP id k21so4906411edq.3
 for <dri-devel@lists.freedesktop.org>; Thu, 11 Jul 2019 01:19:17 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:sender:date:from:to:cc:subject:message-id
 :mail-followup-to:references:mime-version:content-disposition
 :in-reply-to:user-agent;
 bh=q3/3DeARjpqDKrOiocguflEWJfLgc8iajX+V50d8eXY=;
 b=TCfDRrWkvGQ8PJ5mYSgsSoJgG589f+zB4SLutUmKzbZjMi3KZQ4iQnnENejx9p8D/m
 lvrau9xBfn6QngScMSyxU76vN8WT+XzJcxsdAfaT2ovJrsC4t6pyYTd45qvzEGQGxHGj
 zG4oi+AbyKZADWNumw0TEvFxYsvIjXly3sNICHepzz0erWoP/j9tpt3ytDRO1Io+G7rp
 XpgmYMaPvbe5z9FDXgtESc/Qsl8rDbnmsAMNbuyK3XZ2/KlDxUNTWfU+gbmtR42LuCIZ
 M7LZL0Z4XohswbvpYNelFJNxVIxY37Up+TVdhgDJbHgw7JJy1WnMIYdrZkfE3T2sY+To
 vGkQ==
X-Gm-Message-State: APjAAAXdVbaBgiKfXk/Tmm+MUKSWGOiWfhLWQ2qSDHkxP3iuKmJD0Xz0
 SAhpzG26XyqcYNS1fngLP24=
X-Google-Smtp-Source: APXvYqyBQ+5xwEWc3sxBQXdac27XI2zZ8XzAl5ZBTEUm5Gz/1nLeqTVYgGOVSifhdFbLS0YSjzaJGg==
X-Received: by 2002:a05:6402:14cf:: with SMTP id
 f15mr2074419edx.255.1562833156233; 
 Thu, 11 Jul 2019 01:19:16 -0700 (PDT)
Received: from phenom.ffwll.local ([2a02:168:569e:0:3106:d637:d723:e855])
 by smtp.gmail.com with ESMTPSA id n16sm1348746edo.81.2019.07.11.01.19.14
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Thu, 11 Jul 2019 01:19:15 -0700 (PDT)
Date: Thu, 11 Jul 2019 10:19:13 +0200
From: Daniel Vetter <daniel@ffwll.ch>
To: Rodrigo Siqueira <rodrigosiqueiramelo@gmail.com>
Subject: Re: [PATCH V3 3/5] drm/vkms: Decouple crc operations from composer
Message-ID: <20190711081913.GH15868@phenom.ffwll.local>
Mail-Followup-To: Rodrigo Siqueira <rodrigosiqueiramelo@gmail.com>,
 Brian Starkey <brian.starkey@arm.com>,
 Liviu Dudau <liviu.dudau@arm.com>,
 Haneen Mohammed <hamohammed.sa@gmail.com>,
 Simon Ser <contact@emersion.fr>, dri-devel@lists.freedesktop.org,
 linux-kernel@vger.kernel.org
References: <cover.1561491964.git.rodrigosiqueiramelo@gmail.com>
 <6e8a03dc7c666ee998ee36172a96cff39f8dd46d.1561491964.git.rodrigosiqueiramelo@gmail.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <6e8a03dc7c666ee998ee36172a96cff39f8dd46d.1561491964.git.rodrigosiqueiramelo@gmail.com>
X-Operating-System: Linux phenom 4.19.0-5-amd64 
User-Agent: Mutt/1.10.1 (2018-07-13)
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=sender:date:from:to:cc:subject:message-id:mail-followup-to
 :references:mime-version:content-disposition:in-reply-to:user-agent;
 bh=q3/3DeARjpqDKrOiocguflEWJfLgc8iajX+V50d8eXY=;
 b=j3ssSlptUwsg/Ru4XoPIm/vhppsSq9rWUJxH/pfzzVK0TcYmRRWLuGW1XQms8l9KOH
 7xaFI8UVwDiBmt2gROE6dEvp/FN1DId7smdCHJgQG9GDXhVINqKW+oESG9li+45FZxCA
 8j83NyZQSy72xcr/dsbR6YrGkjZw/k6aS9V7g=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Haneen Mohammed <hamohammed.sa@gmail.com>, Simon Ser <contact@emersion.fr>,
 Liviu Dudau <liviu.dudau@arm.com>, linux-kernel@vger.kernel.org,
 dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVHVlLCBKdW4gMjUsIDIwMTkgYXQgMTA6Mzc6NThQTSAtMDMwMCwgUm9kcmlnbyBTaXF1ZWly
YSB3cm90ZToKPiBJbiB0aGUgdmttc19jb21wb3Nlci5jLCBzb21lIG9mIHRoZSBmdW5jdGlvbnMg
cmVsYXRlZCB0byBDUkMgYW5kIGNvbXBvc2UKPiBoYXZlIGludGVyZGVwZW5kZW5jZSBiZXR3ZWVu
IGVhY2ggb3RoZXIuIFRoaXMgcGF0Y2ggcmV3b3JrcyBzb21lCj4gZnVuY3Rpb25zIGluc2lkZSB2
a21zX2NvbXBvc2VyIHRvIG1ha2UgY3JjIGFuZCBjb21wb3NlciBjb21wdXRhdGlvbgo+IGRlY291
cGxlZC4KPiAKPiBUaGlzIHBhdGNoIGlzIHByZXBhcmF0aW9uIHdvcmsgZm9yIG1ha2luZyB2a21z
IGFibGUgdG8gc3VwcG9ydCBuZXcKPiBmZWF0dXJlcy4KPiAKPiBTaWduZWQtb2ZmLWJ5OiBSb2Ry
aWdvIFNpcXVlaXJhIDxyb2RyaWdvc2lxdWVpcmFtZWxvQGdtYWlsLmNvbT4KPiAtLS0KPiAgZHJp
dmVycy9ncHUvZHJtL3ZrbXMvdmttc19jb21wb3Nlci5jIHwgNDkgKysrKysrKysrKysrKysrKy0t
LS0tLS0tLS0tLQo+ICAxIGZpbGUgY2hhbmdlZCwgMjkgaW5zZXJ0aW9ucygrKSwgMjAgZGVsZXRp
b25zKC0pCj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS92a21zL3ZrbXNfY29tcG9z
ZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS92a21zL3ZrbXNfY29tcG9zZXIuYwo+IGluZGV4IGViN2Vh
OGJlMWY5OC4uNTFhMjcwNTE0MjE5IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS92a21z
L3ZrbXNfY29tcG9zZXIuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS92a21zL3ZrbXNfY29tcG9z
ZXIuYwo+IEBAIC0xMDUsMzUgKzEwNSwzMSBAQCBzdGF0aWMgdm9pZCBjb21wb3NlX2N1cnNvcihz
dHJ1Y3Qgdmttc19jb21wb3NlciAqY3Vyc29yX2NvbXBvc2VyLAo+ICAJICAgICAgcHJpbWFyeV9j
b21wb3NlciwgY3Vyc29yX2NvbXBvc2VyKTsKPiAgfQo+ICAKPiAtc3RhdGljIHVpbnQzMl90IF92
a21zX2dldF9jcmMoc3RydWN0IHZrbXNfY29tcG9zZXIgKnByaW1hcnlfY29tcG9zZXIsCj4gLQkJ
CSAgICAgIHN0cnVjdCB2a21zX2NvbXBvc2VyICpjdXJzb3JfY29tcG9zZXIpCj4gK3N0YXRpYyBp
bnQgY29tcG9zZV9wbGFuZXModm9pZCAqKnZhZGRyX291dCwKPiArCQkJICBzdHJ1Y3Qgdmttc19j
b21wb3NlciAqcHJpbWFyeV9jb21wb3NlciwKPiArCQkJICBzdHJ1Y3Qgdmttc19jb21wb3NlciAq
Y3Vyc29yX2NvbXBvc2VyKQo+ICB7Cj4gIAlzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpmYiA9ICZw
cmltYXJ5X2NvbXBvc2VyLT5mYjsKPiAgCXN0cnVjdCBkcm1fZ2VtX29iamVjdCAqZ2VtX29iaiA9
IGRybV9nZW1fZmJfZ2V0X29iaihmYiwgMCk7Cj4gIAlzdHJ1Y3Qgdmttc19nZW1fb2JqZWN0ICp2
a21zX29iaiA9IGRybV9nZW1fdG9fdmttc19nZW0oZ2VtX29iaik7Cj4gLQl2b2lkICp2YWRkcl9v
dXQgPSBremFsbG9jKHZrbXNfb2JqLT5nZW0uc2l6ZSwgR0ZQX0tFUk5FTCk7Cj4gLQl1MzIgY3Jj
ID0gMDsKPiAgCj4gLQlpZiAoIXZhZGRyX291dCkgewo+IC0JCURSTV9FUlJPUigiRmFpbGVkIHRv
IGFsbG9jYXRlIG1lbW9yeSBmb3Igb3V0cHV0IGZyYW1lLiIpOwo+IC0JCXJldHVybiAwOwo+ICsJ
aWYgKCEqdmFkZHJfb3V0KSB7Cj4gKwkJKnZhZGRyX291dCA9IGt6YWxsb2Modmttc19vYmotPmdl
bS5zaXplLCBHRlBfS0VSTkVMKTsKClVoIGFsbG9jYXRpbmcgbWVtb3J5IGhlcmUgaXNuJ3QgZ3Jl
YXQsIHNpbmNlIHlvdSBlZmZlY3RpbHkgY2FuJ3QgaGFuZGxlCnRoZSBlcnJvciBhdCBhbGwuIEFs
c28gZm9yIGJpZyByZXNvbHV0aW9ucyBremFsbG9jIHdpbGwgZmFsbCBiYWNrIHRvCmt2bWFsbG9j
IEkgdGhpbmssIHdoaWNoIGlzIHJhdGhlciBleHBlbnNpdmUgdG8gc2V0IHVwLgoKQnV0IEkgZ3Vl
c3MgdGhpcyBpcyBhIHByZWV4aXN0aW5nIGlzc3VlLCBzbyB3ZWxwLgoKV2hhdCBJIHdvdWxkIGRv
IGlzIHB1bGwgb3V0IHRoZSBhbGxvY2F0aW9uIGF0IGxlYXN0LCBzbyB0aGF0CmNvbXBvc2VfcGxh
bmVzIHJlYWxseSBvbmx5IGRvcyBjb21wb3NpbmcsIGNhbiBuZXZlciBmYWlsIGJlY2F1c2UgaXQK
ZG9lc24ndCBuZWVkIHRvIGFsbG9jYXRlIG1lbW9yeS4KCj4gKwkJaWYgKCEqdmFkZHJfb3V0KSB7
Cj4gKwkJCURSTV9FUlJPUigiQ2Fubm90IGFsbG9jYXRlIG1lbW9yeSBmb3Igb3V0cHV0IGZyYW1l
LiIpOwo+ICsJCQlyZXR1cm4gLUVOT01FTTsKPiArCQl9Cj4gIAl9Cj4gIAo+IC0JaWYgKFdBUk5f
T04oIXZrbXNfb2JqLT52YWRkcikpIHsKPiAtCQlrZnJlZSh2YWRkcl9vdXQpOwo+IC0JCXJldHVy
biBjcmM7Cj4gLQl9Cj4gKwlpZiAoV0FSTl9PTighdmttc19vYmotPnZhZGRyKSkKPiArCQlyZXR1
cm4gLUVJTlZBTDsKPiAgCj4gLQltZW1jcHkodmFkZHJfb3V0LCB2a21zX29iai0+dmFkZHIsIHZr
bXNfb2JqLT5nZW0uc2l6ZSk7Cj4gKwltZW1jcHkoKnZhZGRyX291dCwgdmttc19vYmotPnZhZGRy
LCB2a21zX29iai0+Z2VtLnNpemUpOwo+ICAKPiAgCWlmIChjdXJzb3JfY29tcG9zZXIpCj4gLQkJ
Y29tcG9zZV9jdXJzb3IoY3Vyc29yX2NvbXBvc2VyLCBwcmltYXJ5X2NvbXBvc2VyLCB2YWRkcl9v
dXQpOwo+ICsJCWNvbXBvc2VfY3Vyc29yKGN1cnNvcl9jb21wb3NlciwgcHJpbWFyeV9jb21wb3Nl
ciwgKnZhZGRyX291dCk7Cj4gIAo+IC0JY3JjID0gY29tcHV0ZV9jcmModmFkZHJfb3V0LCBwcmlt
YXJ5X2NvbXBvc2VyKTsKPiAtCj4gLQlrZnJlZSh2YWRkcl9vdXQpOwo+IC0KPiAtCXJldHVybiBj
cmM7Cj4gKwlyZXR1cm4gMDsKPiAgfQo+ICAKPiAgLyoqCj4gQEAgLTE1NCw5ICsxNTAsMTEgQEAg
dm9pZCB2a21zX2NvbXBvc2VyX3dvcmtlcihzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspCj4gIAlz
dHJ1Y3Qgdmttc19vdXRwdXQgKm91dCA9IGRybV9jcnRjX3RvX3ZrbXNfb3V0cHV0KGNydGMpOwo+
ICAJc3RydWN0IHZrbXNfY29tcG9zZXIgKnByaW1hcnlfY29tcG9zZXIgPSBOVUxMOwo+ICAJc3Ry
dWN0IHZrbXNfY29tcG9zZXIgKmN1cnNvcl9jb21wb3NlciA9IE5VTEw7Cj4gKwl2b2lkICp2YWRk
cl9vdXQgPSBOVUxMOwo+ICAJdTMyIGNyYzMyID0gMDsKPiAgCXU2NCBmcmFtZV9zdGFydCwgZnJh
bWVfZW5kOwo+ICAJYm9vbCBjcmNfcGVuZGluZzsKPiArCWludCByZXQ7Cj4gIAo+ICAJc3Bpbl9s
b2NrX2lycSgmb3V0LT5jb21wb3Nlcl9sb2NrKTsKPiAgCWZyYW1lX3N0YXJ0ID0gY3J0Y19zdGF0
ZS0+ZnJhbWVfc3RhcnQ7Cj4gQEAgLTE4MCwxNCArMTc4LDI1IEBAIHZvaWQgdmttc19jb21wb3Nl
cl93b3JrZXIoc3RydWN0IHdvcmtfc3RydWN0ICp3b3JrKQo+ICAJaWYgKGNydGNfc3RhdGUtPm51
bV9hY3RpdmVfcGxhbmVzID09IDIpCj4gIAkJY3Vyc29yX2NvbXBvc2VyID0gY3J0Y19zdGF0ZS0+
YWN0aXZlX3BsYW5lc1sxXS0+Y29tcG9zZXI7Cj4gIAo+IC0JaWYgKHByaW1hcnlfY29tcG9zZXIp
Cj4gLQkJY3JjMzIgPSBfdmttc19nZXRfY3JjKHByaW1hcnlfY29tcG9zZXIsIGN1cnNvcl9jb21w
b3Nlcik7Cj4gKwlpZiAoIXByaW1hcnlfY29tcG9zZXIpCj4gKwkJcmV0dXJuOwo+ICsKPiArCXJl
dCA9IGNvbXBvc2VfcGxhbmVzKCZ2YWRkcl9vdXQsIHByaW1hcnlfY29tcG9zZXIsIGN1cnNvcl9j
b21wb3Nlcik7Cj4gKwlpZiAocmV0KSB7Cj4gKwkJaWYgKHJldCA9PSAtRUlOVkFMKQo+ICsJCQlr
ZnJlZSh2YWRkcl9vdXQpOwo+ICsJCXJldHVybjsKPiArCX0KPiArCj4gKwljcmMzMiA9IGNvbXB1
dGVfY3JjKHZhZGRyX291dCwgcHJpbWFyeV9jb21wb3Nlcik7Cj4gIAo+ICAJLyoKPiAgCSAqIFRo
ZSB3b3JrZXIgY2FuIGZhbGwgYmVoaW5kIHRoZSB2YmxhbmsgaHJ0aW1lciwgbWFrZSBzdXJlIHdl
IGNhdGNoIHVwLgo+ICAJICovCj4gIAl3aGlsZSAoZnJhbWVfc3RhcnQgPD0gZnJhbWVfZW5kKQo+
ICAJCWRybV9jcnRjX2FkZF9jcmNfZW50cnkoY3J0YywgdHJ1ZSwgZnJhbWVfc3RhcnQrKywgJmNy
YzMyKTsKPiArCj4gKwlrZnJlZSh2YWRkcl9vdXQpOwoKRXNwZWNpYWxseSBzaW5jZSB5b3UncmUg
ZnJlZWluZyB0aGUgbWVtb3J5IF9vdXRzaWRlXyBvZiBjb21wb3NlX3BsYW5lcy4KCkFzaWRlOiBU
aGlzIGFsbCBraW5kYSBkb2Vzbid0IGdvIGluIHRoZSByaWdodCBkaXJlY3Rpb24gZm9yCmhpZ2gt
cGVyZm9ybWFuY2UgY29tcG9zaW5nLCBzbyBJIGd1ZXNzIEkgbmVlZCB0byBnZXQgc3RhcnRlZCB3
aXRoIHR5cGluZwp1cCB3aGF0IHRoYXQgc2hvdWxkIGxvb2sgbGlrZS4KLURhbmllbAoKPiAgfQo+
ICAKPiAgc3RhdGljIGNvbnN0IGNoYXIgKiBjb25zdCBwaXBlX2NyY19zb3VyY2VzW10gPSB7ImF1
dG8ifTsKPiAtLSAKPiAyLjIxLjAKCi0tIApEYW5pZWwgVmV0dGVyClNvZnR3YXJlIEVuZ2luZWVy
LCBJbnRlbCBDb3Jwb3JhdGlvbgpodHRwOi8vYmxvZy5mZndsbC5jaApfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRy
aS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5v
cmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
