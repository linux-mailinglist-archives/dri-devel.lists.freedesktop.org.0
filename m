Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 32ED25CD07
	for <lists+dri-devel@lfdr.de>; Tue,  2 Jul 2019 11:54:44 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D84CA89736;
	Tue,  2 Jul 2019 09:54:40 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wm1-x343.google.com (mail-wm1-x343.google.com
 [IPv6:2a00:1450:4864:20::343])
 by gabe.freedesktop.org (Postfix) with ESMTPS id AC5ED89736
 for <dri-devel@lists.freedesktop.org>; Tue,  2 Jul 2019 09:54:38 +0000 (UTC)
Received: by mail-wm1-x343.google.com with SMTP id c6so276716wml.0
 for <dri-devel@lists.freedesktop.org>; Tue, 02 Jul 2019 02:54:38 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:date:from:to:cc:subject:message-id:references
 :mime-version:content-disposition:in-reply-to:user-agent;
 bh=sN6TNborRxk536IClO9GzdWQYJ83Ndj9TgZ8AlntZxs=;
 b=gmu3Ay5TFLdeOKfCa1KGgvQVljhD29v2OWTHiEJcT87SgsO1lfEt9GJc/wPBUk/czd
 47cK0IT5WT2iDRXhFaWwYKORwcdneDOJYafNgCtrVTrQPdUbSOE2yVU4G34CNCo6ONRj
 EYlXMoYlXhrXC3HB7WeX2NWQvX8WtCRrYUeqW00gMEONothoFjbN2jSnuEjDeFOo8Psc
 ABrlN8fd0u4gjTb7o2uuq4QKtaVhRmPMLcHONfh4vrJjWNptH2nYosotaKAN5WDgVrSG
 tl/exU/CctIqIlioedsuuXxsgyQzyD705XAi50IwJ3mrMa8LsPCCUUr69wj35tzHiqkI
 Sy3g==
X-Gm-Message-State: APjAAAWg0jJABgJtDSBM+2B8CcvDBn5rK8KKr50kqPV19FEUiDDyS3+j
 7lhG2pwnyQf9trODV+6e0+dvhg==
X-Google-Smtp-Source: APXvYqzd7aRkwpIgCx1oUItovA+Z724rfFZGBf+AdjkNhbsCs0OBs0BdFOtbk3EGH9zf+2UUGICygA==
X-Received: by 2002:a05:600c:230b:: with SMTP id
 11mr2754069wmo.85.1562061277295; 
 Tue, 02 Jul 2019 02:54:37 -0700 (PDT)
Received: from holly.lan (cpc141214-aztw34-2-0-cust773.18-1.cable.virginm.net.
 [86.9.19.6])
 by smtp.gmail.com with ESMTPSA id y133sm3020220wmg.5.2019.07.02.02.54.36
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Tue, 02 Jul 2019 02:54:36 -0700 (PDT)
Date: Tue, 2 Jul 2019 10:54:34 +0100
From: Daniel Thompson <daniel.thompson@linaro.org>
To: Jean-Jacques Hiblot <jjhiblot@ti.com>
Subject: Re: [PATCH 3/4] backlight: add led-backlight driver
Message-ID: <20190702095434.d426lichmaffz7a5@holly.lan>
References: <20190701151423.30768-1-jjhiblot@ti.com>
 <20190701151423.30768-4-jjhiblot@ti.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190701151423.30768-4-jjhiblot@ti.com>
User-Agent: NeoMutt/20180716
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=linaro.org; s=google;
 h=date:from:to:cc:subject:message-id:references:mime-version
 :content-disposition:in-reply-to:user-agent;
 bh=sN6TNborRxk536IClO9GzdWQYJ83Ndj9TgZ8AlntZxs=;
 b=VHOr/OnrPuFrBHvrQQlHWsI2OHqVCfe8AODg7A5PgdDFPpjCvNMxZsCq/lgPOyMcKV
 5enYCbUqZM8zBw+McD0Yx1JXI0SChLUqoS8IsE0oGj9ljM4Pem/iKF8WKCpysbE5DKf9
 RSzzbia9QUPodTSyudJXIdT5ihL6eF7bxx9T6hs+hEVu3ONTJ9FebonXJYGvBxsDVmOB
 dypzLWFGT3lzWSJ0qNhX7ixG4G3DPRoxPQLw08F8iqBwur3BExoYMFiMx6K4Cd8HBero
 TBsRj3so7kQf8d2O8lz3SnqcYPUDFqqgj9/xmJvmxADj/3GheaD8yTiu/QFdY/DOGNTD
 D/ag==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: mark.rutland@arm.com, jingoohan1@gmail.com, tomi.valkeinen@ti.com,
 linux-kernel@vger.kernel.org, dri-devel@lists.freedesktop.org,
 robh+dt@kernel.org, jacek.anaszewski@gmail.com, pavel@ucw.cz,
 lee.jones@linaro.org, linux-leds@vger.kernel.org, dmurphy@ti.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gTW9uLCBKdWwgMDEsIDIwMTkgYXQgMDU6MTQ6MjJQTSArMDIwMCwgSmVhbi1KYWNxdWVzIEhp
YmxvdCB3cm90ZToKPiBGcm9tOiBUb21pIFZhbGtlaW5lbiA8dG9taS52YWxrZWluZW5AdGkuY29t
Pgo+IAo+IFRoaXMgcGF0Y2ggYWRkcyBhIGxlZC1iYWNrbGlnaHQgZHJpdmVyIChsZWRfYmwpLCB3
aGljaCBpcyBtb3N0bHkgc2ltaWxhciB0bwo+IHB3bV9ibCBleGNlcHQgdGhlIGRyaXZlciB1c2Vz
IGEgTEVEIGNsYXNzIGRyaXZlciB0byBhZGp1c3QgdGhlIGJyaWdodG5lc3MKPiBpbiB0aGUgSFcu
Cj4gCj4gU2lnbmVkLW9mZi1ieTogVG9taSBWYWxrZWluZW4gPHRvbWkudmFsa2VpbmVuQHRpLmNv
bT4KPiBTaWduZWQtb2ZmLWJ5OiBKZWFuLUphY3F1ZXMgSGlibG90IDxqamhpYmxvdEB0aS5jb20+
Cj4gLS0tCj4gIGRyaXZlcnMvdmlkZW8vYmFja2xpZ2h0L0tjb25maWcgIHwgICA3ICsKPiAgZHJp
dmVycy92aWRlby9iYWNrbGlnaHQvTWFrZWZpbGUgfCAgIDEgKwo+ICBkcml2ZXJzL3ZpZGVvL2Jh
Y2tsaWdodC9sZWRfYmwuYyB8IDIxNyArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrCj4g
IDMgZmlsZXMgY2hhbmdlZCwgMjI1IGluc2VydGlvbnMoKykKPiAgY3JlYXRlIG1vZGUgMTAwNjQ0
IGRyaXZlcnMvdmlkZW8vYmFja2xpZ2h0L2xlZF9ibC5jCj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvdmlkZW8vYmFja2xpZ2h0L0tjb25maWcgYi9kcml2ZXJzL3ZpZGVvL2JhY2tsaWdodC9LY29u
ZmlnCj4gaW5kZXggOGIwODFkNjE3NzNlLi41ODVhMTc4NzYxOGMgMTAwNjQ0Cj4gLS0tIGEvZHJp
dmVycy92aWRlby9iYWNrbGlnaHQvS2NvbmZpZwo+ICsrKyBiL2RyaXZlcnMvdmlkZW8vYmFja2xp
Z2h0L0tjb25maWcKPiBAQCAtNDU4LDYgKzQ1OCwxMyBAQCBjb25maWcgQkFDS0xJR0hUX1JBVkVf
U1AKPiAgCWhlbHAKPiAgCSAgU3VwcG9ydCBmb3IgYmFja2xpZ2h0IGNvbnRyb2wgb24gUkFWRSBT
UCBkZXZpY2UuCj4gIAo+ICtjb25maWcgQkFDS0xJR0hUX0xFRAo+ICsJdHJpc3RhdGUgIkdlbmVy
aWMgTEVEIGJhc2VkIEJhY2tsaWdodCBEcml2ZXIiCj4gKwlkZXBlbmRzIG9uIExFRFNfQ0xBU1Mg
JiYgT0YKPiArCWhlbHAKPiArCSAgSWYgeW91IGhhdmUgYSBMQ0QgYmFja2xpZ2h0IGFkanVzdGFi
bGUgYnkgTEVEIGNsYXNzIGRyaXZlciwgc2F5IFkKPiArCSAgdG8gZW5hYmxlIHRoaXMgZHJpdmVy
Lgo+ICsKPiAgZW5kaWYgIyBCQUNLTElHSFRfQ0xBU1NfREVWSUNFCj4gIAo+ICBlbmRtZW51Cj4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmlkZW8vYmFja2xpZ2h0L01ha2VmaWxlIGIvZHJpdmVycy92
aWRlby9iYWNrbGlnaHQvTWFrZWZpbGUKPiBpbmRleCA2M2M1MDdjMDc0MzcuLjJhNjc2NDI5NjZh
NSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL3ZpZGVvL2JhY2tsaWdodC9NYWtlZmlsZQo+ICsrKyBi
L2RyaXZlcnMvdmlkZW8vYmFja2xpZ2h0L01ha2VmaWxlCj4gQEAgLTU3LDMgKzU3LDQgQEAgb2Jq
LSQoQ09ORklHX0JBQ0tMSUdIVF9UUFM2NTIxNykJKz0gdHBzNjUyMTdfYmwubwo+ICBvYmotJChD
T05GSUdfQkFDS0xJR0hUX1dNODMxWCkJCSs9IHdtODMxeF9ibC5vCj4gIG9iai0kKENPTkZJR19C
QUNLTElHSFRfQVJDWENOTikgCSs9IGFyY3hjbm5fYmwubwo+ICBvYmotJChDT05GSUdfQkFDS0xJ
R0hUX1JBVkVfU1ApCQkrPSByYXZlLXNwLWJhY2tsaWdodC5vCj4gK29iai0kKENPTkZJR19CQUNL
TElHSFRfTEVEKQkJKz0gbGVkX2JsLm8KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy92aWRlby9iYWNr
bGlnaHQvbGVkX2JsLmMgYi9kcml2ZXJzL3ZpZGVvL2JhY2tsaWdodC9sZWRfYmwuYwo+IG5ldyBm
aWxlIG1vZGUgMTAwNjQ0Cj4gaW5kZXggMDAwMDAwMDAwMDAwLi5lNjk5OTI0Y2MyYmMKPiAtLS0g
L2Rldi9udWxsCj4gKysrIGIvZHJpdmVycy92aWRlby9iYWNrbGlnaHQvbGVkX2JsLmMKPiBAQCAt
MCwwICsxLDIxNyBAQAo+ICsvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMAo+ICsv
Kgo+ICsgKiBDb3B5cmlnaHQgKEMpIDIwMTUtMjAxOCBUZXhhcyBJbnN0cnVtZW50cyBJbmNvcnBv
cmF0ZWQgLSAgaHR0cDovL3d3dy50aS5jb20vCj4gKyAqIEF1dGhvcjogVG9taSBWYWxrZWluZW4g
PHRvbWkudmFsa2VpbmVuQHRpLmNvbT4KPiArICoKPiArICogQmFzZWQgb24gcHdtX2JsLmMKPiAr
ICovCj4gKwo+ICsjaW5jbHVkZSA8bGludXgvYmFja2xpZ2h0Lmg+Cj4gKyNpbmNsdWRlIDxsaW51
eC9ncGlvL2NvbnN1bWVyLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9sZWRzLmg+Cj4gKyNpbmNsdWRl
IDxsaW51eC9tb2R1bGUuaD4KPiArI2luY2x1ZGUgPGxpbnV4L3BsYXRmb3JtX2RldmljZS5oPgo+
ICsjaW5jbHVkZSA8bGludXgvcmVndWxhdG9yL2NvbnN1bWVyLmg+Cj4gKyNpbmNsdWRlIDxsaW51
eC9zbGFiLmg+Cj4gKwo+ICtzdHJ1Y3QgbGVkX2JsX2RhdGEgewo+ICsJc3RydWN0IGRldmljZQkJ
KmRldjsKPiArCXN0cnVjdCBiYWNrbGlnaHRfZGV2aWNlCSpibF9kZXY7Cj4gKwo+ICsJdW5zaWdu
ZWQgaW50CQkqbGV2ZWxzOwo+ICsJYm9vbAkJCWVuYWJsZWQ7Cj4gKwlzdHJ1Y3QgcmVndWxhdG9y
CSpwb3dlcl9zdXBwbHk7Cj4gKwlzdHJ1Y3QgZ3Bpb19kZXNjCSplbmFibGVfZ3BpbzsKCkZvciB0
aGUgUFdNIGRyaXZlciB0aGUgcG93ZXJfc3VwcGx5IGFuZCBlbmFibGVfZ3BpbyBhcmUgcGFydCBv
ZiBtYW5hZ2luZwphIGR1bWIgTEVEIGRyaXZlciBkZXZpY2UgdGhhdCBpcyBkb3duc3RyZWFtIG9m
IHRoZSBQV00uCgpXaGF0IGlzIHRoZWlyIHB1cnBvc2Ugd2hlbiB3ZSB3cmFwIGFuIExFRCBkZXZp
Y2U/IFB1dCBhbm90aGVyIHdoeSB3aHkgaXNuJ3QKdGhlIExFRCBkZXZpY2UgZHJpdmVyIHJlc3Bv
bnNpYmxlIGZvciB0aGlzPwoKPiArCj4gKwlzdHJ1Y3QgbGVkX2NsYXNzZGV2ICpsZWRfY2RldjsK
PiArCj4gKwl1bnNpZ25lZCBpbnQgbWF4X2JyaWdodG5lc3M7Cj4gKwl1bnNpZ25lZCBpbnQgZGVm
YXVsdF9icmlnaHRuZXNzOwo+ICt9Owo+ICsKPiArc3RhdGljIHZvaWQgbGVkX2JsX3NldF9icmln
aHRuZXNzKHN0cnVjdCBsZWRfYmxfZGF0YSAqcHJpdiwgaW50IGJyaWdodG5lc3MpCj4gK3sKPiAr
CWludCBlcnI7Cj4gKwo+ICsJaWYgKCFwcml2LT5lbmFibGVkKSB7Cj4gKwkJZXJyID0gcmVndWxh
dG9yX2VuYWJsZShwcml2LT5wb3dlcl9zdXBwbHkpOwo+ICsJCWlmIChlcnIgPCAwKQo+ICsJCQlk
ZXZfZXJyKHByaXYtPmRldiwgImZhaWxlZCB0byBlbmFibGUgcG93ZXIgc3VwcGx5XG4iKTsKPiAr
Cj4gKwkJaWYgKHByaXYtPmVuYWJsZV9ncGlvKQo+ICsJCQlncGlvZF9zZXRfdmFsdWVfY2Fuc2xl
ZXAocHJpdi0+ZW5hYmxlX2dwaW8sIDEpOwo+ICsJfQo+ICsKPiArCWxlZF9zZXRfYnJpZ2h0bmVz
cyhwcml2LT5sZWRfY2RldiwgcHJpdi0+bGV2ZWxzW2JyaWdodG5lc3NdKTsKPiArCj4gKwlwcml2
LT5lbmFibGVkID0gdHJ1ZTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgbGVkX2JsX3Bvd2VyX29m
ZihzdHJ1Y3QgbGVkX2JsX2RhdGEgKnByaXYpCj4gK3sKPiArCWlmICghcHJpdi0+ZW5hYmxlZCkK
PiArCQlyZXR1cm47Cj4gKwo+ICsJbGVkX3NldF9icmlnaHRuZXNzKHByaXYtPmxlZF9jZGV2LCBM
RURfT0ZGKTsKPiArCj4gKwlpZiAocHJpdi0+ZW5hYmxlX2dwaW8pCj4gKwkJZ3Bpb2Rfc2V0X3Zh
bHVlX2NhbnNsZWVwKHByaXYtPmVuYWJsZV9ncGlvLCAwKTsKPiArCj4gKwlyZWd1bGF0b3JfZGlz
YWJsZShwcml2LT5wb3dlcl9zdXBwbHkpOwo+ICsKPiArCXByaXYtPmVuYWJsZWQgPSBmYWxzZTsK
PiArfQo+ICsKPiArc3RhdGljIGludCBsZWRfYmxfdXBkYXRlX3N0YXR1cyhzdHJ1Y3QgYmFja2xp
Z2h0X2RldmljZSAqYmwpCj4gK3sKPiArCXN0cnVjdCBsZWRfYmxfZGF0YSAqcHJpdiA9IGJsX2dl
dF9kYXRhKGJsKTsKPiArCWludCBicmlnaHRuZXNzID0gYmwtPnByb3BzLmJyaWdodG5lc3M7Cj4g
Kwo+ICsJaWYgKGJsLT5wcm9wcy5wb3dlciAhPSBGQl9CTEFOS19VTkJMQU5LIHx8Cj4gKwkgICAg
YmwtPnByb3BzLmZiX2JsYW5rICE9IEZCX0JMQU5LX1VOQkxBTksgfHwKPiArCSAgICBibC0+cHJv
cHMuc3RhdGUgJiBCTF9DT1JFX0ZCQkxBTkspCj4gKwkJYnJpZ2h0bmVzcyA9IDA7Cj4gKwo+ICsJ
aWYgKGJyaWdodG5lc3MgPiAwKQo+ICsJCWxlZF9ibF9zZXRfYnJpZ2h0bmVzcyhwcml2LCBicmln
aHRuZXNzKTsKPiArCWVsc2UKPiArCQlsZWRfYmxfcG93ZXJfb2ZmKHByaXYpOwo+ICsKPiArCXJl
dHVybiAwOwo+ICt9Cj4gKwo+ICtzdGF0aWMgY29uc3Qgc3RydWN0IGJhY2tsaWdodF9vcHMgbGVk
X2JsX29wcyA9IHsKPiArCS51cGRhdGVfc3RhdHVzCT0gbGVkX2JsX3VwZGF0ZV9zdGF0dXMsCj4g
K307Cj4gKwo+ICtzdGF0aWMgaW50IGxlZF9ibF9wYXJzZV9kdChzdHJ1Y3QgZGV2aWNlICpkZXYs
Cj4gKwkJCSAgIHN0cnVjdCBsZWRfYmxfZGF0YSAqcHJpdikKPiArewo+ICsJc3RydWN0IGRldmlj
ZV9ub2RlICpub2RlID0gZGV2LT5vZl9ub2RlOwo+ICsJaW50IG51bV9sZXZlbHM7Cj4gKwl1MzIg
KmxldmVsczsKPiArCXUzMiB2YWx1ZTsKPiArCWludCByZXQ7Cj4gKwo+ICsJaWYgKCFub2RlKQo+
ICsJCXJldHVybiAtRU5PREVWOwo+ICsKPiArCW51bV9sZXZlbHMgPSBvZl9wcm9wZXJ0eV9jb3Vu
dF91MzJfZWxlbXMobm9kZSwgImJyaWdodG5lc3MtbGV2ZWxzIik7CgpJcyB0aGVyZSBhbnkgcmVh
c29uIHRoYXQgdGhpcyBmdW5jdGlvbiBjYW5ub3QgdXNlIHRoZSAobW9yZSBnZW5lcmljKQpkZXZp
Y2UgcHJvcGVydHkgQVBJIHRocm91Z2hvdXQgdGhpcyBmdW5jdGlvbj8KCgoKRGFuaWVsLgoKCj4g
KwlpZiAobnVtX2xldmVscyA8IDApCj4gKwkJcmV0dXJuIG51bV9sZXZlbHM7Cj4gKwo+ICsJbGV2
ZWxzID0gZGV2bV9remFsbG9jKGRldiwgc2l6ZW9mKHUzMikgKiBudW1fbGV2ZWxzLCBHRlBfS0VS
TkVMKTsKPiArCWlmICghbGV2ZWxzKQo+ICsJCXJldHVybiAtRU5PTUVNOwo+ICsKPiArCXJldCA9
IG9mX3Byb3BlcnR5X3JlYWRfdTMyX2FycmF5KG5vZGUsICJicmlnaHRuZXNzLWxldmVscyIsCj4g
KwkJCQkJIGxldmVscywKPiArCQkJCQkgbnVtX2xldmVscyk7Cj4gKwlpZiAocmV0IDwgMCkKPiAr
CQlyZXR1cm4gcmV0Owo+ICsKPiArCXJldCA9IG9mX3Byb3BlcnR5X3JlYWRfdTMyKG5vZGUsICJk
ZWZhdWx0LWJyaWdodG5lc3MtbGV2ZWwiLCAmdmFsdWUpOwo+ICsJaWYgKHJldCA8IDApCj4gKwkJ
cmV0dXJuIHJldDsKPiArCj4gKwlpZiAodmFsdWUgPj0gbnVtX2xldmVscykgewo+ICsJCWRldl9l
cnIoZGV2LCAiaW52YWxpZCBkZWZhdWx0LWJyaWdodG5lc3MtbGV2ZWxcbiIpOwo+ICsJCXJldHVy
biAtRUlOVkFMOwo+ICsJfQo+ICsKPiArCXByaXYtPmxldmVscyA9IGxldmVsczsKPiArCXByaXYt
Pm1heF9icmlnaHRuZXNzID0gbnVtX2xldmVscyAtIDE7Cj4gKwlwcml2LT5kZWZhdWx0X2JyaWdo
dG5lc3MgPSB2YWx1ZTsKPiArCj4gKwlyZXR1cm4gMDsKPiArfQo+ICsKPiArc3RhdGljIGludCBs
ZWRfYmxfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKPiArewo+ICsJc3RydWN0
IGJhY2tsaWdodF9wcm9wZXJ0aWVzIHByb3BzOwo+ICsJc3RydWN0IGxlZF9ibF9kYXRhICpwcml2
Owo+ICsJaW50IHJldDsKPiArCj4gKwlwcml2ID0gZGV2bV9remFsbG9jKCZwZGV2LT5kZXYsIHNp
emVvZigqcHJpdiksIEdGUF9LRVJORUwpOwo+ICsJaWYgKCFwcml2KQo+ICsJCXJldHVybiAtRU5P
TUVNOwo+ICsKPiArCXBsYXRmb3JtX3NldF9kcnZkYXRhKHBkZXYsIHByaXYpOwo+ICsKPiArCXBy
aXYtPmRldiA9ICZwZGV2LT5kZXY7Cj4gKwlwcml2LT5sZWRfY2RldiA9IHRvX2xlZF9jbGFzc2Rl
dihwZGV2LT5kZXYucGFyZW50KTsKPiArCj4gKwlyZXQgPSBsZWRfYmxfcGFyc2VfZHQoJnBkZXYt
PmRldiwgcHJpdik7Cj4gKwlpZiAocmV0IDwgMCkgewo+ICsJCWlmIChyZXQgIT0gLUVQUk9CRV9E
RUZFUikKPiArCQkJZGV2X2VycigmcGRldi0+ZGV2LCAiZmFpbGVkIHRvIHBhcnNlIERUIGRhdGFc
biIpOwo+ICsJCXJldHVybiByZXQ7Cj4gKwl9Cj4gKwo+ICsJcHJpdi0+ZW5hYmxlX2dwaW8gPSBk
ZXZtX2dwaW9kX2dldF9vcHRpb25hbCgmcGRldi0+ZGV2LCAiZW5hYmxlIiwKPiArCQkJICAgIEdQ
SU9EX09VVF9MT1cpOwo+ICsJaWYgKElTX0VSUihwcml2LT5lbmFibGVfZ3BpbykpIHsKPiArCQly
ZXQgPSBQVFJfRVJSKHByaXYtPmVuYWJsZV9ncGlvKTsKPiArCQlnb3RvIGVycjsKPiArCX0KPiAr
Cj4gKwlwcml2LT5wb3dlcl9zdXBwbHkgPSBkZXZtX3JlZ3VsYXRvcl9nZXQoJnBkZXYtPmRldiwg
InBvd2VyIik7Cj4gKwlpZiAoSVNfRVJSKHByaXYtPnBvd2VyX3N1cHBseSkpIHsKPiArCQlyZXQg
PSBQVFJfRVJSKHByaXYtPnBvd2VyX3N1cHBseSk7Cj4gKwkJZ290byBlcnI7Cj4gKwl9Cj4gKwo+
ICsJbWVtc2V0KCZwcm9wcywgMCwgc2l6ZW9mKHN0cnVjdCBiYWNrbGlnaHRfcHJvcGVydGllcykp
Owo+ICsJcHJvcHMudHlwZSA9IEJBQ0tMSUdIVF9SQVc7Cj4gKwlwcm9wcy5tYXhfYnJpZ2h0bmVz
cyA9IHByaXYtPm1heF9icmlnaHRuZXNzOwo+ICsJcHJpdi0+YmxfZGV2ID0gYmFja2xpZ2h0X2Rl
dmljZV9yZWdpc3RlcihkZXZfbmFtZSgmcGRldi0+ZGV2KSwKPiArCQkJJnBkZXYtPmRldiwgcHJp
diwgJmxlZF9ibF9vcHMsICZwcm9wcyk7Cj4gKwlpZiAoSVNfRVJSKHByaXYtPmJsX2RldikpIHsK
PiArCQlkZXZfZXJyKCZwZGV2LT5kZXYsICJmYWlsZWQgdG8gcmVnaXN0ZXIgYmFja2xpZ2h0XG4i
KTsKPiArCQlyZXQgPSBQVFJfRVJSKHByaXYtPmJsX2Rldik7Cj4gKwkJZ290byBlcnI7Cj4gKwl9
Cj4gKwo+ICsJcHJpdi0+YmxfZGV2LT5wcm9wcy5icmlnaHRuZXNzID0gcHJpdi0+ZGVmYXVsdF9i
cmlnaHRuZXNzOwo+ICsJYmFja2xpZ2h0X3VwZGF0ZV9zdGF0dXMocHJpdi0+YmxfZGV2KTsKPiAr
Cj4gKwlyZXR1cm4gMDsKPiArCj4gK2VycjoKPiArCj4gKwlyZXR1cm4gcmV0Owo+ICt9Cj4gKwo+
ICtzdGF0aWMgaW50IGxlZF9ibF9yZW1vdmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikK
PiArewo+ICsJc3RydWN0IGxlZF9ibF9kYXRhICpwcml2ID0gcGxhdGZvcm1fZ2V0X2RydmRhdGEo
cGRldik7Cj4gKwlzdHJ1Y3QgYmFja2xpZ2h0X2RldmljZSAqYmwgPSBwcml2LT5ibF9kZXY7Cj4g
Kwo+ICsJYmFja2xpZ2h0X2RldmljZV91bnJlZ2lzdGVyKGJsKTsKPiArCj4gKwlsZWRfYmxfcG93
ZXJfb2ZmKHByaXYpOwo+ICsKPiArCXJldHVybiAwOwo+ICt9Cj4gKwo+ICtzdGF0aWMgY29uc3Qg
c3RydWN0IG9mX2RldmljZV9pZCBsZWRfYmxfb2ZfbWF0Y2hbXSA9IHsKPiArCXsgLmNvbXBhdGli
bGUgPSAibGVkLWJhY2tsaWdodCIgfSwKPiArCXsgfQo+ICt9Owo+ICsKPiArTU9EVUxFX0RFVklD
RV9UQUJMRShvZiwgbGVkX2JsX29mX21hdGNoKTsKPiArCj4gK3N0YXRpYyBzdHJ1Y3QgcGxhdGZv
cm1fZHJpdmVyIGxlZF9ibF9kcml2ZXIgPSB7Cj4gKwkuZHJpdmVyCQk9IHsKPiArCQkubmFtZQkJ
PSAibGVkLWJhY2tsaWdodCIsCj4gKwkJLm9mX21hdGNoX3RhYmxlCT0gb2ZfbWF0Y2hfcHRyKGxl
ZF9ibF9vZl9tYXRjaCksCj4gKwl9LAo+ICsJLnByb2JlCQk9IGxlZF9ibF9wcm9iZSwKPiArCS5y
ZW1vdmUJCT0gbGVkX2JsX3JlbW92ZSwKPiArfTsKPiArCj4gK21vZHVsZV9wbGF0Zm9ybV9kcml2
ZXIobGVkX2JsX2RyaXZlcik7Cj4gKwo+ICtNT0RVTEVfREVTQ1JJUFRJT04oIkxFRCBiYXNlZCBC
YWNrbGlnaHQgRHJpdmVyIik7Cj4gK01PRFVMRV9MSUNFTlNFKCJHUEwiKTsKPiArTU9EVUxFX0FM
SUFTKCJwbGF0Zm9ybTpsZWQtYmFja2xpZ2h0Iik7Cj4gLS0gCj4gMi4xNy4xCj4gCl9fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5n
IGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVk
ZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
