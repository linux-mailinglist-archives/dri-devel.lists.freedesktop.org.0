Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id E35F76145F8
	for <lists+dri-devel@lfdr.de>; Tue,  1 Nov 2022 09:48:56 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7A4C010E317;
	Tue,  1 Nov 2022 08:48:33 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
X-Greylist: delayed 904 seconds by postgrey-1.36 at gabe;
 Tue, 01 Nov 2022 03:57:11 UTC
Received: from m1230.mail.163.com (m12-30.163.com [220.181.12.30])
 by gabe.freedesktop.org (Postfix) with ESMTP id B8D3910E065
 for <dri-devel@lists.freedesktop.org>; Tue,  1 Nov 2022 03:57:11 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=163.com;
 s=s110527; h=Date:From:Subject:MIME-Version:Message-ID; bh=pWx9t
 9VRLDAa4WNPuC3TcRYbKSdBJyUIQZTUymW+SQU=; b=Y38RcpHh5cn8dQZPsv4OT
 HvD6dMRIviTLKKOdoG7t1O+c8924/45Uo9X7Zus0YmFO8HNQQTEPdN0bK9UVZ8K4
 /v+F1kg5Rr4VTIr2nJ6q610Uv7XJPfkpO5LbQhmEJvgRv3E00FZzTr7vNVJGDJ60
 KhgxE6FW4jq7Oxp1iDa/Oo=
Received: from lichenyang_ls$163.com ( [114.242.206.180] ) by
 ajax-webmail-wmsvr214 (Coremail) ; Tue, 1 Nov 2022 11:42:03 +0800
 (GMT+08:00)
X-Originating-IP: [114.242.206.180]
Date: Tue, 1 Nov 2022 11:42:03 +0800 (GMT+08:00)
From: lichenyang_ls <lichenyang_ls@163.com>
To: "dri-devel@lists.freedesktop.org" <dri-devel@lists.freedesktop.org>
Subject: [PATCH v8 1/4] drm/loongson: Add DRM Driver for Loongson 7A1000
 bridge chip
X-Priority: 3
X-Mailer: Coremail Webmail Server Version XT5.0.13 build 20210622(1d4788a8)
 MailMasterMac/4.17.7.1302_(12.6.0) Copyright (c) 2002-2022 www.mailtech.cn
 163com
X-NTES-SC: AL_QuydBf6cu0kp5SiRYekXm00RhOs7XMOwu/oh3IBQOZk0giD14BIrcUFtJkPI9NOiJyu8jiaWbTt10NZbRItETbPRKAA1TqgZiOkPTlHIu3ZP
Content-Type: multipart/alternative; 
 boundary="----=_Part_23471_764077189.1667274123898"
MIME-Version: 1.0
Message-ID: <1b33699c.1f13.18431482a7b.Coremail.lichenyang_ls@163.com>
X-Coremail-Locale: zh_CN
X-CM-TRANSID: lceowACnusGLlWBjbWEPAA--.62560W
X-CM-SenderInfo: xolfxvxq1d0wxbovqiywtou0bp/1tbiWRCsCFWBwqh4SAACsh
X-Coremail-Antispam: 1U5529EdanIXcx71UUUUU7vcSsGvfC2KfnxnUU==
X-Mailman-Approved-At: Tue, 01 Nov 2022 08:48:29 +0000
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

------=_Part_23471_764077189.1667274123898
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64

RnJvbTogQ2hlbnlhbmcgTGkgPGxpY2hlbnlhbmdfbHNAMTYzLmNvbT4KClRoaXMgcGF0Y2ggYWRk
cyBhbiBpbml0aWFsIERSTSBkcml2ZXIgZm9yIHRoZSBMb29uZ3NvbiBMUzdBMTAwMApicmlkZ2Ug
Y2hpcChMUzdBKS4gVGhlIExvb25nc29uIDdBMTAwMCBicmlkZ2UgY2hpcCBpcyBMb29uZ3NvbuKA
mXMKZmlyc3QgZGVkaWNhdGVkIGNoaXBzZXQgcHJvZHVjdCwgcHJvdmlkaW5nIG5vcnRoLXNvdXRo
IGJyaWRnZSBmdW5jdGlvbmFsaXR5CmZvciBMb29uZ3NvbiBwcm9jZXNzb3JzLiBUaGUgYnJpZGdl
IGNoaXAgaXMgY29ubmVjdGVkIHRvIHRoZSBMb29uZ3NvbgpTZXJpZXMgMyBwcm9jZXNzb3Igdmlh
IHRoZSBIVCBoaWdoLXNwZWVkIGJ1cyBpbnRlcmZhY2UgYW5kIGhhcyBhbgppbnRlZ3JhdGVkIERp
c3BsYXlDb250cm9sbGVyLCBERFIzIFNEUkFNIG1lbW9yeSBjb250cm9sbGVyLAphbmQgUENJRSwg
U0FUQSwgVVNCLCBHTUFDLCBJMkMsIFVBUlQsIEdQSU8sIGFuZCBvdGhlciBpbnRlcmZhY2VzLgpU
aGUgZGlzcGxheSBjb250cm9sbGVyIHN1cHBvcnRzIGR1YWwgRFZPIHNpZ25hbCBvdXRwdXQsZHVh
bCByb3V0YWJpbGl0eQpmcmFtZSBidWZmZXIuIEVhY2ggZGlzcGxheSBzdXBwb3J0cyB1cCB0byAx
OTIweDEwODBANjBIeiwgUkdCODg4IGFuZApSR0I1NjUgY29sb3IgZGVwdGhzLiBBbmQgc3VwcG9y
dHMgaGFyZHdhcmUgY3Vyc29yLCBnYW1tYSBjb3JyZWN0aW9uLAppbnRlcnJ1cHQsIHNvZnQgcmVz
ZXQsIGV0Yy4gVGhlIHZpZGVvIG1lbW9yeSBpbnRlcmZhY2UgdXNlcyAxNi1iaXQgRERSMwpTRFJB
TSBpbnRlcmZhY2Ugd2l0aCBhIG1heGltdW0gZGF0YSByYXRlIG9mIDEzMzMgTWJwcy4KQXQgcHJl
c2VudCwgREMgZGV2aWNlIGRldGVjdGlvbiBhbmQgRFJNIGRyaXZlciByZWdpc3RyYXRpb24gYXJl
CmNvbXBsZXRlZCwgdGhlIGNydGMvcGxhbmUvZW5jb2Rlci9jb25uZWN0b3Igb2JqZWN0cyBoYXMg
YmVlbgppbXBsZW1lbnRlZC4KT24gTG9vbmdzb24gM0E0MDAwIENQVSBhbmQgN0ExMDAwIHN5c3Rl
bSwgd2UgaGF2ZSBhY2hpZXZlZCB0aGUgdXNlCm9mIGR1YWwgc2NyZWVuLCBhbmQgc3VwcG9ydCBk
dWFsIHNjcmVlbiBjbG9uZSBtb2RlIGFuZCBleHBhbnNpb24KbW9kZS4KTGluazogaHR0cHM6Ly9s
b29uZ3Nvbi5naXRodWIuaW8vTG9vbmdBcmNoLURvY3VtZW50YXRpb24vTG9vbmdzb24tN0ExMDAw
LXVzZXJtYW51YWwtRU4uaHRtbCNkaXNwbGF5LWNvbnRyb2xsZXIKCnYxMzoKLSBEZWxldGUgYWxs
b3dfZmJfbW9kaWZpZXJzLgoKdjEyOgotIFVzZSBkcm1fYnJpZGdlX2Nvbm5lY3RvciBpbiBkcml2
ZXIuCgp2MTE6Ci0gUmVtb3ZlIGEgbG90IG9mIHVzZWxlc3MgY29kZS4KLSBBZGQgaGVscCBpbmZv
cm1hdGlvbi4KLSBEZWxldGUgdW5uZWNlc3NhcnkgaGVhZGVyIGZpbGVzLgoKdjEwOgotIFJlcGxh
Y2UgdGhlIGRybW1fIHZlcnNpb24gZnVuY3Rpb25zLgotIFJlcGxhY2UgdGhlIHNpbXBsZV9lbmNv
ZGVyIHZlcnNpb24gZnVuY3Rpb24uCi0gQWxwaGFiZXRpemUgZmlsZSBuYW1lcy4KCnY5OgotIE9w
dGltaXplIHRoZSBlcnJvciBoYW5kbGluZyBwcm9jZXNzLgotIFJlbW92ZSB0aGUgdXNlbGVzcyBm
bGFncyBwYXJhbWV0ZXIuCi0gRml4IHNvbWUgaW5jb3JyZWN0IHVzZSBvZiB2YXJpYWJsZXMgYW5k
IGNvbnN0cnVjdHMuCgp2ODoKLSBVcGRhdGUgdGhlIGF0b21pY191cGRhdGUgZnVuY3Rpb24gaW50
ZXJmYWNlLgoKdjc6Ci0gVGhlIHBpeGVsIGNsb2NrIGlzIGxpbWl0ZWQgdG8gbGVzcyB0aGFuIDE3
MzAwMC4KCnY2OgotIFJlbW92ZSBzcGluX2xvY2sgaW4gbW1pbyByZWcgcmVhZCBhbmQgd3JpdGUu
Ci0gVE9fVU5DQUMgaXMgcmVwbGFjIHdpdGggaW9yZW1hcC4KLSBGaXggZXJyb3IgYXJndW1lbnRz
IGluIGNydGNfYXRvbWljX2VuYWJsZS9kaXNhYmxlL21vZGVfdmFsaWQuCgp2NToKLSBDaGFuZ2Ug
dGhlIG5hbWUgb2YgdGhlIGNoaXAgdG8gTFM3QS4KLSBDaGFuZ2UgbWFnaWMgdmFsdWUgaW4gY3J0
YyB0byBtYWNyb3MuCi0gQ29ycmVjdCBtaXN0YWtlcyB3b3Jkcy4KLSBDaGFuZ2UgdGhlIHJlZ2lz
dGVyIG9wZXJhdGlvbiBmdW5jdGlvbiBwcmVmaXggdG8gbHM3YS4KCnY0OgotIE1vdmUgdGhlIG1v
ZGVfdmFsaWQgZnVuY3Rpb24gdG8gdGhlIGNydGMuCgp2MzoKLSBNb3ZlIHRoZSBtb2RlX3ZhbGlk
IGZ1bmN0aW9uIHRvIHRoZSBjb25uZWN0b3IgYW5kIG9wdGltaXplIGl0LgotIEZpeCBudW1fY3J0
YyBjYWxjdWxhdGlvbiBtZXRob2QuCgp2MjoKLSBDb21wbGV0ZSB0aGUgY2FzZSBvZiAzMi1iaXQg
Y29sb3IgaW4gQ1JUQy4KClNpZ25lZC1vZmYtYnk6IFlpIExpIDxsaXlpQGxvb25nc29uLmNuPgpT
aWduZWQtb2ZmLWJ5OiBDaGVueWFuZyBMaSA8bGljaGVueWFuZ0Bsb29uZ3Nvbi5jbj4KLS0tCiBk
cml2ZXJzL2dwdS9kcm0vS2NvbmZpZyAgICAgICAgICAgICAgICAgICAgICAgfCAgIDIgKwogZHJp
dmVycy9ncHUvZHJtL01ha2VmaWxlICAgICAgICAgICAgICAgICAgICAgIHwgICAxICsKIGRyaXZl
cnMvZ3B1L2RybS9sb29uZ3Nvbi9LY29uZmlnICAgICAgICAgICAgICB8ICAxMyArCiBkcml2ZXJz
L2dwdS9kcm0vbG9vbmdzb24vTWFrZWZpbGUgICAgICAgICAgICAgfCAgMTMgKwogZHJpdmVycy9n
cHUvZHJtL2xvb25nc29uL2xvb25nc29uX2Nvbm5lY3Rvci5jIHwgIDIzICsrCiBkcml2ZXJzL2dw
dS9kcm0vbG9vbmdzb24vbG9vbmdzb25fY3J0Yy5jICAgICAgfCAyNDIgKysrKysrKysrKysrKysr
KwogZHJpdmVycy9ncHUvZHJtL2xvb25nc29uL2xvb25nc29uX2RldmljZS5jICAgIHwgIDM4ICsr
KwogZHJpdmVycy9ncHUvZHJtL2xvb25nc29uL2xvb25nc29uX2Rydi5jICAgICAgIHwgMjczICsr
KysrKysrKysrKysrKysrKwogZHJpdmVycy9ncHUvZHJtL2xvb25nc29uL2xvb25nc29uX2Rydi5o
ICAgICAgIHwgMTMwICsrKysrKysrKwogZHJpdmVycy9ncHUvZHJtL2xvb25nc29uL2xvb25nc29u
X2VuY29kZXIuYyAgIHwgIDU4ICsrKysKIGRyaXZlcnMvZ3B1L2RybS9sb29uZ3Nvbi9sb29uZ3Nv
bl9wbGFuZS5jICAgICB8ICA5NiArKysrKysKIDExIGZpbGVzIGNoYW5nZWQsIDg4OSBpbnNlcnRp
b25zKCspCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL2xvb25nc29uL0tjb25m
aWcKIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vbG9vbmdzb24vTWFrZWZpbGUK
IGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vbG9vbmdzb24vbG9vbmdzb25fY29u
bmVjdG9yLmMKIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vbG9vbmdzb24vbG9v
bmdzb25fY3J0Yy5jCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL2xvb25nc29u
L2xvb25nc29uX2RldmljZS5jCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL2xv
b25nc29uL2xvb25nc29uX2Rydi5jCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJt
L2xvb25nc29uL2xvb25nc29uX2Rydi5oCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUv
ZHJtL2xvb25nc29uL2xvb25nc29uX2VuY29kZXIuYwogY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZl
cnMvZ3B1L2RybS9sb29uZ3Nvbi9sb29uZ3Nvbl9wbGFuZS5jCgpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL0tjb25maWcgYi9kcml2ZXJzL2dwdS9kcm0vS2NvbmZpZwppbmRleCAzNGY1YTA5
MmM5OWUuLjAzMzVlNjIzNzdkOSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL0tjb25maWcK
KysrIGIvZHJpdmVycy9ncHUvZHJtL0tjb25maWcKQEAgLTQwMCw2ICs0MDAsOCBAQCBzb3VyY2Ug
ImRyaXZlcnMvZ3B1L2RybS92Ym94dmlkZW8vS2NvbmZpZyIKIAogc291cmNlICJkcml2ZXJzL2dw
dS9kcm0vbGltYS9LY29uZmlnIgogCitzb3VyY2UgImRyaXZlcnMvZ3B1L2RybS9sb29uZ3Nvbi9L
Y29uZmlnIgorCiBzb3VyY2UgImRyaXZlcnMvZ3B1L2RybS9wYW5mcm9zdC9LY29uZmlnIgogCiBz
b3VyY2UgImRyaXZlcnMvZ3B1L2RybS9hc3BlZWQvS2NvbmZpZyIKZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9NYWtlZmlsZSBiL2RyaXZlcnMvZ3B1L2RybS9NYWtlZmlsZQppbmRleCAwYjI4
M2U0NmYyOGIuLmE3NzVmNTM2YjNjYiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL01ha2Vm
aWxlCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9NYWtlZmlsZQpAQCAtMTM5LDYgKzEzOSw3IEBAIG9i
ai0kKENPTkZJR19EUk1fVFZFMjAwKSArPSB0dmUyMDAvCiBvYmotJChDT05GSUdfRFJNX1hFTikg
Kz0geGVuLwogb2JqLSQoQ09ORklHX0RSTV9WQk9YVklERU8pICs9IHZib3h2aWRlby8KIG9iai0k
KENPTkZJR19EUk1fTElNQSkgICs9IGxpbWEvCitvYmotJChDT05GSUdfRFJNX0xPT05HU09OKSAr
PSBsb29uZ3Nvbi8KIG9iai0kKENPTkZJR19EUk1fUEFORlJPU1QpICs9IHBhbmZyb3N0Lwogb2Jq
LSQoQ09ORklHX0RSTV9BU1BFRURfR0ZYKSArPSBhc3BlZWQvCiBvYmotJChDT05GSUdfRFJNX01D
REUpICs9IG1jZGUvCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbG9vbmdzb24vS2NvbmZp
ZyBiL2RyaXZlcnMvZ3B1L2RybS9sb29uZ3Nvbi9LY29uZmlnCm5ldyBmaWxlIG1vZGUgMTAwNjQ0
CmluZGV4IDAwMDAwMDAwMDAwMC4uMjQ4NDgyNGZiNTBiCi0tLSAvZGV2L251bGwKKysrIGIvZHJp
dmVycy9ncHUvZHJtL2xvb25nc29uL0tjb25maWcKQEAgLTAsMCArMSwxMyBAQAorIyBTUERYLUxp
Y2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vbmx5CisKK2NvbmZpZyBEUk1fTE9PTkdTT04KKwl0
cmlzdGF0ZSAiRFJNIHN1cHBvcnQgZm9yIExTN0EgYnJpZGdlIGNoaXBzZXQiCisJZGVwZW5kcyBv
biBEUk0gJiYgUENJCisJZGVwZW5kcyBvbiBDUFVfTE9PTkdTT042NCB8fCBDT01QSUxFX1RFU1QK
KwlzZWxlY3QgRFJNX0tNU19IRUxQRVIKKwlzZWxlY3QgRFJNX1ZSQU1fSEVMUEVSCisJaGVscAor
CSAgVGhlIGxvb25nc29uIDdBIGJyaWRnZSBjaGlwIChMUzdBKSBpcyBhIHNwZWNpYWwgY2hpcHNl
dCBmb3IKKwkgIGxvb25nc29uIENQVS4gTFM3QSBpbnRlcm5hbCBpbnRlZ3JhdGVkIGRpc3BsYXkg
Y29udHJvbGxlcnMsCisJICBzdXBwb3J0IHR3byBkaXNwbGF5IGNoYW5uZWxzLgorCSAgSWYgY29t
cGlsZWQgYXMgYSBtb2R1bGUgaXQgd2lsbCBiZSBjYWxsZWQgbG9vbmdzb24uCmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vbG9vbmdzb24vTWFrZWZpbGUgYi9kcml2ZXJzL2dwdS9kcm0vbG9v
bmdzb24vTWFrZWZpbGUKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAwLi41
MzRhNjQwNDdmYjYKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL2dwdS9kcm0vbG9vbmdzb24v
TWFrZWZpbGUKQEAgLTAsMCArMSwxMyBAQAorIyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BM
LTIuMC1vbmx5CisjCisjIE1ha2VmaWxlIGZvciBsb29uZ3NvbiBkcm0gZHJpdmVycy4KKyMgVGhp
cyBkcml2ZXIgcHJvdmlkZXMgc3VwcG9ydCBmb3IgdGhlCisjIERpcmVjdCBSZW5kZXJpbmcgSW5m
cmFzdHJ1Y3R1cmUgKERSSSkKKworbG9vbmdzb24teSA6PSBsb29uZ3Nvbl9jb25uZWN0b3IubyBc
CisJbG9vbmdzb25fY3J0Yy5vIFwKKwlsb29uZ3Nvbl9kZXZpY2UubyBcCisJbG9vbmdzb25fZHJ2
Lm8gXAorCWxvb25nc29uX2VuY29kZXIubyBcCisJbG9vbmdzb25fcGxhbmUubworb2JqLSQoQ09O
RklHX0RSTV9MT09OR1NPTikgKz0gbG9vbmdzb24ubwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2xvb25nc29uL2xvb25nc29uX2Nvbm5lY3Rvci5jIGIvZHJpdmVycy9ncHUvZHJtL2xvb25n
c29uL2xvb25nc29uX2Nvbm5lY3Rvci5jCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAw
MDAwMDAwMC4uMjkzY2VhN2QyNjc1Ci0tLSAvZGV2L251bGwKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2xvb25nc29uL2xvb25nc29uX2Nvbm5lY3Rvci5jCkBAIC0wLDAgKzEsMjMgQEAKKy8vIFNQRFgt
TGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wLW9yLWxhdGVyCisvKiBDb3B5cmlnaHQgKEMpIDIw
MjIgTG9vbmdzb24gSW5jLiAqLworCisjaW5jbHVkZSA8ZHJtL2RybV9wcm9iZV9oZWxwZXIuaD4K
KyNpbmNsdWRlIDxkcm0vZHJtX2JyaWRnZV9jb25uZWN0b3IuaD4KKworI2luY2x1ZGUgImxvb25n
c29uX2Rydi5oIgorCitpbnQgbG9vbmdzb25fYnJpZGdlX2Nvbm5lY3Rvcl9pbml0KHN0cnVjdCBs
b29uZ3Nvbl9kZXZpY2UgKmxkZXYsIGludCBpbmRleCkKK3sKKwlzdHJ1Y3QgZHJtX2RldmljZSAq
ZGV2ID0gJmxkZXYtPmRldjsKKwlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yOworCXN0
cnVjdCBkcm1fZW5jb2RlciAqZW5jb2RlciA9ICZsZGV2LT5tb2RlX2luZm9baW5kZXhdLmVuY29k
ZXItPmJhc2U7CisKKwljb25uZWN0b3IgPSBkcm1fYnJpZGdlX2Nvbm5lY3Rvcl9pbml0KGRldiwg
ZW5jb2Rlcik7CisJaWYgKElTX0VSUihjb25uZWN0b3IpKSB7CisJCWRldl9lcnIoZGV2LT5kZXYs
ICJVbmFibGUgdG8gY3JlYXRlIGJyaWRnZSBjb25uZWN0b3JcbiIpOworCQlyZXR1cm4gUFRSX0VS
Uihjb25uZWN0b3IpOworCX0KKwlkcm1fY29ubmVjdG9yX2F0dGFjaF9lbmNvZGVyKGNvbm5lY3Rv
ciwgZW5jb2Rlcik7CisKKwlyZXR1cm4gMDsKK30KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9sb29uZ3Nvbi9sb29uZ3Nvbl9jcnRjLmMgYi9kcml2ZXJzL2dwdS9kcm0vbG9vbmdzb24vbG9v
bmdzb25fY3J0Yy5jCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAwMC4uYTk3
MzVmYmIxYzJlCi0tLSAvZGV2L251bGwKKysrIGIvZHJpdmVycy9ncHUvZHJtL2xvb25nc29uL2xv
b25nc29uX2NydGMuYwpAQCAtMCwwICsxLDI0MiBAQAorLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZp
ZXI6IEdQTC0yLjAtb3ItbGF0ZXIKKy8qIENvcHlyaWdodCAoQykgMjAyMiBMb29uZ3NvbiBJbmMu
ICovCisKKyNpbmNsdWRlIDxkcm0vZHJtX2ZvdXJjYy5oPgorI2luY2x1ZGUgPGRybS9kcm1fZnJh
bWVidWZmZXIuaD4KKworI2luY2x1ZGUgImxvb25nc29uX2Rydi5oIgorCitzdGF0aWMgdm9pZCB0
cnlfZWFjaF9sb29wYyh1MzIgY2xrLCB1MzIgcHN0ZGl2LCB1MzIgZnJlZmMsCisJCQkgICBzdHJ1
Y3QgcGl4X3BsbCAqcGxsX2NvbmZpZykKK3sKKwl1MzIgbG9vcGM7CisJdTMyIGNsa19vdXQ7CisJ
dTMyIHByZWNpc2lvbjsKKwl1MzIgbWluID0gMTAwMDsKKwl1MzIgYmFzZV9jbGsgPSAxMDAwMDBM
OworCisJZm9yIChsb29wYyA9IExPT1BDX01JTjsgbG9vcGMgPCBMT09QQ19NQVg7IGxvb3BjKysp
IHsKKwkJaWYgKChsb29wYyA8IEZSRV9SRUZfTUlOICogZnJlZmMpIHx8CisJCSAgICAobG9vcGMg
PiBGUkVfUkVGX01BWCAqIGZyZWZjKSkKKwkJCWNvbnRpbnVlOworCisJCWNsa19vdXQgPSBiYXNl
X2NsayAqIGxvb3BjIC8gZnJlZmM7CisJCXByZWNpc2lvbiA9IChjbGsgPiBjbGtfb3V0KSA/IChj
bGsgLSBjbGtfb3V0KSA6IChjbGtfb3V0IC0gY2xrKTsKKwkJaWYgKHByZWNpc2lvbiA8IG1pbikg
eworCQkJcGxsX2NvbmZpZy0+bDJfZGl2ID0gcHN0ZGl2OworCQkJcGxsX2NvbmZpZy0+bDFfbG9v
cGMgPSBsb29wYzsKKwkJCXBsbF9jb25maWctPmwxX2ZyZWZjID0gZnJlZmM7CisJCX0KKwl9Cit9
CisKK3N0YXRpYyB2b2lkIGNhbF9mcmVxKHUzMiBwaXhjbG9jaywgc3RydWN0IHBpeF9wbGwgKnBs
bF9jb25maWcpCit7CisJdTMyIHBzdGRpdjsKKwl1MzIgZnJlZmM7CisJdTMyIGNsazsKKworCWZv
ciAocHN0ZGl2ID0gMTsgcHN0ZGl2IDwgUFNUX0RJVl9NQVg7IHBzdGRpdisrKSB7CisJCWNsayA9
IHBpeGNsb2NrICogcHN0ZGl2OworCQlmb3IgKGZyZWZjID0gRElWX1JFRl9NSU47IGZyZWZjIDw9
IERJVl9SRUZfTUFYOyBmcmVmYysrKQorCQkJdHJ5X2VhY2hfbG9vcGMoY2xrLCBwc3RkaXYsIGZy
ZWZjLCBwbGxfY29uZmlnKTsKKwl9Cit9CisKK3N0YXRpYyB2b2lkIGNvbmZpZ19wbGwoc3RydWN0
IGxvb25nc29uX2RldmljZSAqbGRldiwgdW5zaWduZWQgbG9uZyBwbGxfYmFzZSwKKwkJICAgICAg
IHN0cnVjdCBwaXhfcGxsICpwbGxfY2ZnKQoreworCXUzMiB2YWw7CisJdTMyIGNvdW50ID0gMDsK
KworCS8qIGNsZWFyIHNlbF9wbGxfb3V0MCAqLworCXZhbCA9IGxzN2FfaW9fcnJlZyhsZGV2LCBw
bGxfYmFzZSArIDB4NCk7CisJdmFsICY9IH4oMVVMIDw8IDgpOworCWxzN2FfaW9fd3JlZyhsZGV2
LCBwbGxfYmFzZSArIDB4NCwgdmFsKTsKKworCS8qIHNldCBwbGxfcGQgKi8KKwl2YWwgPSBsczdh
X2lvX3JyZWcobGRldiwgcGxsX2Jhc2UgKyAweDQpOworCXZhbCB8PSAoMVVMIDw8IDEzKTsKKwls
czdhX2lvX3dyZWcobGRldiwgcGxsX2Jhc2UgKyAweDQsIHZhbCk7CisKKwkvKiBjbGVhciBzZXRf
cGxsX3BhcmFtICovCisJdmFsID0gbHM3YV9pb19ycmVnKGxkZXYsIHBsbF9iYXNlICsgMHg0KTsK
Kwl2YWwgJj0gfigxVUwgPDwgMTEpOworCWxzN2FfaW9fd3JlZyhsZGV2LCBwbGxfYmFzZSArIDB4
NCwgdmFsKTsKKworCS8qIGNsZWFyIG9sZCB2YWx1ZSAmIGNvbmZpZyBuZXcgdmFsdWUgKi8KKwl2
YWwgPSBsczdhX2lvX3JyZWcobGRldiwgcGxsX2Jhc2UgKyAweDQpOworCXZhbCAmPSB+KDB4N2ZV
TCA8PCAwKTsKKwl2YWwgfD0gKHBsbF9jZmctPmwxX2ZyZWZjIDw8IDApOyAvKiByZWZjICovCisJ
bHM3YV9pb193cmVnKGxkZXYsIHBsbF9iYXNlICsgMHg0LCB2YWwpOworCXZhbCA9IGxzN2FfaW9f
cnJlZyhsZGV2LCBwbGxfYmFzZSArIDB4MCk7CisJdmFsICY9IH4oMHg3ZlVMIDw8IDApOworCXZh
bCB8PSAocGxsX2NmZy0+bDJfZGl2IDw8IDApOyAvKiBkaXYgKi8KKwl2YWwgJj0gfigweDFmZlVM
IDw8IDIxKTsKKwl2YWwgfD0gKHBsbF9jZmctPmwxX2xvb3BjIDw8IDIxKTsgLyogbG9vcGMgKi8K
KwlsczdhX2lvX3dyZWcobGRldiwgcGxsX2Jhc2UgKyAweDAsIHZhbCk7CisKKwkvKiBzZXQgc2V0
X3BsbF9wYXJhbSAqLworCXZhbCA9IGxzN2FfaW9fcnJlZyhsZGV2LCBwbGxfYmFzZSArIDB4NCk7
CisJdmFsIHw9ICgxVUwgPDwgMTEpOworCWxzN2FfaW9fd3JlZyhsZGV2LCBwbGxfYmFzZSArIDB4
NCwgdmFsKTsKKwkvKiBjbGVhciBwbGxfcGQgKi8KKwl2YWwgPSBsczdhX2lvX3JyZWcobGRldiwg
cGxsX2Jhc2UgKyAweDQpOworCXZhbCAmPSB+KDFVTCA8PCAxMyk7CisJbHM3YV9pb193cmVnKGxk
ZXYsIHBsbF9iYXNlICsgMHg0LCB2YWwpOworCisJd2hpbGUgKCEobHM3YV9pb19ycmVnKGxkZXYs
IHBsbF9iYXNlICsgMHg0KSAmIDB4ODApKSB7CisJCWNwdV9yZWxheCgpOworCQljb3VudCsrOwor
CQlpZiAoY291bnQgPj0gMTAwMCkgeworCQkJZHJtX2VycigmbGRldi0+ZGV2LCAibG9vbmdzb24t
N0EgUExMIGxvY2sgZmFpbGVkXG4iKTsKKwkJCWJyZWFrOworCQl9CisJfQorCisJdmFsID0gbHM3
YV9pb19ycmVnKGxkZXYsIHBsbF9iYXNlICsgMHg0KTsKKwl2YWwgfD0gKDFVTCA8PCA4KTsKKwls
czdhX2lvX3dyZWcobGRldiwgcGxsX2Jhc2UgKyAweDQsIHZhbCk7Cit9CisKK3N0YXRpYyB2b2lk
IGxvb25nc29uX2NydGNfbW9kZV9zZXRfbm9mYihzdHJ1Y3QgZHJtX2NydGMgKmNydGMpCit7CisJ
c3RydWN0IGRybV9kZXZpY2UgKmRldiA9IGNydGMtPmRldjsKKwlzdHJ1Y3QgbG9vbmdzb25fZGV2
aWNlICpsZGV2ID0gdG9fbG9vbmdzb25fZGV2aWNlKGRldik7CisJc3RydWN0IGxvb25nc29uX2Ny
dGMgKmxjcnRjID0gdG9fbG9vbmdzb25fY3J0YyhjcnRjKTsKKwlzdHJ1Y3QgZHJtX2Rpc3BsYXlf
bW9kZSAqbW9kZSA9ICZjcnRjLT5zdGF0ZS0+YWRqdXN0ZWRfbW9kZTsKKwlzdHJ1Y3QgZHJtX2Zy
YW1lYnVmZmVyICpmYiA9IGNydGMtPnByaW1hcnktPnN0YXRlLT5mYjsKKwlzdHJ1Y3QgcGl4X3Bs
bCBwbGxfY2ZnOworCXUzMiBociwgaHNzLCBoc2UsIGhmbDsKKwl1MzIgdnIsIHZzcywgdnNlLCB2
Zmw7CisJdTMyIHBpeF9mcmVxOworCXUzMiByZWdfb2Zmc2V0OworCisJaHIgPSBtb2RlLT5oZGlz
cGxheTsKKwloc3MgPSBtb2RlLT5oc3luY19zdGFydDsKKwloc2UgPSBtb2RlLT5oc3luY19lbmQ7
CisJaGZsID0gbW9kZS0+aHRvdGFsOworCisJdnIgPSBtb2RlLT52ZGlzcGxheTsKKwl2c3MgPSBt
b2RlLT52c3luY19zdGFydDsKKwl2c2UgPSBtb2RlLT52c3luY19lbmQ7CisJdmZsID0gbW9kZS0+
dnRvdGFsOworCisJcGl4X2ZyZXEgPSBtb2RlLT5jbG9jazsKKwlyZWdfb2Zmc2V0ID0gbGNydGMt
PnJlZ19vZmZzZXQ7CisKKwlsczdhX21tX3dyZWcobGRldiwgRkJfRElUQ0ZHX1JFRyArIHJlZ19v
ZmZzZXQsIDApOworCWxzN2FfbW1fd3JlZyhsZGV2LCBGQl9ESVRUQUJfTE9fUkVHICsgcmVnX29m
ZnNldCwgMCk7CisJbHM3YV9tbV93cmVnKGxkZXYsIEZCX0RJVFRBQl9ISV9SRUcgKyByZWdfb2Zm
c2V0LCAwKTsKKwlsczdhX21tX3dyZWcobGRldiwgRkJfUEFOQ0ZHX1JFRyArIHJlZ19vZmZzZXQs
IEZCX1BBTkNGR19ERUYpOworCWxzN2FfbW1fd3JlZyhsZGV2LCBGQl9QQU5USU1fUkVHICsgcmVn
X29mZnNldCwgMCk7CisKKwlsczdhX21tX3dyZWcobGRldiwgRkJfSERJU1BMQVlfUkVHICsgcmVn
X29mZnNldCwgKGhmbCA8PCAxNikgfCBocik7CisJbHM3YV9tbV93cmVnKGxkZXYsIEZCX0hTWU5D
X1JFRyArIHJlZ19vZmZzZXQsCisJCSAgICAgRkJfSFNZTkNfUFVMU0UgfCAoaHNlIDw8IDE2KSB8
IGhzcyk7CisKKwlsczdhX21tX3dyZWcobGRldiwgRkJfVkRJU1BMQVlfUkVHICsgcmVnX29mZnNl
dCwgKHZmbCA8PCAxNikgfCB2cik7CisJbHM3YV9tbV93cmVnKGxkZXYsIEZCX1ZTWU5DX1JFRyAr
IHJlZ19vZmZzZXQsCisJCSAgICAgRkJfVlNZTkNfUFVMU0UgfCAodnNlIDw8IDE2KSB8IHZzcyk7
CisKKwlzd2l0Y2ggKGZiLT5mb3JtYXQtPmZvcm1hdCkgeworCWNhc2UgRFJNX0ZPUk1BVF9SR0I1
NjU6CisJCWxjcnRjLT5jZmdfcmVnIHw9IDB4MzsKKwkJYnJlYWs7CisJY2FzZSBEUk1fRk9STUFU
X1JHQjg4ODoKKwljYXNlIERSTV9GT1JNQVRfWFJHQjg4ODg6CisJY2FzZSBEUk1fRk9STUFUX0FS
R0I4ODg4OgorCWRlZmF1bHQ6CisJCWxjcnRjLT5jZmdfcmVnIHw9IDB4NDsKKwkJYnJlYWs7CisJ
fQorCisJbHM3YV9tbV93cmVnKGxkZXYsIEZCX0NGR19SRUcgKyByZWdfb2Zmc2V0LCBsY3J0Yy0+
Y2ZnX3JlZyk7CisKKwljYWxfZnJlcShwaXhfZnJlcSwgJnBsbF9jZmcpOworCWNvbmZpZ19wbGwo
bGRldiwgTFM3QV9QSVhfUExMICsgcmVnX29mZnNldCwgJnBsbF9jZmcpOworfQorCitzdGF0aWMg
dm9pZCBsb29uZ3Nvbl9jcnRjX2F0b21pY19lbmFibGUoc3RydWN0IGRybV9jcnRjICpjcnRjLAor
CQkJCQlzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqb2xkX3N0YXRlKQoreworCXN0cnVjdCBkcm1f
ZGV2aWNlICpkZXYgPSBjcnRjLT5kZXY7CisJc3RydWN0IGxvb25nc29uX2RldmljZSAqbGRldiA9
IHRvX2xvb25nc29uX2RldmljZShkZXYpOworCXN0cnVjdCBsb29uZ3Nvbl9jcnRjICpsY3J0YyA9
IHRvX2xvb25nc29uX2NydGMoY3J0Yyk7CisJdTMyIHJlZ19vZmZzZXQgPSBsY3J0Yy0+cmVnX29m
ZnNldDsKKworCWxjcnRjLT5jZmdfcmVnIHw9IENGR19FTkFCTEU7CisJbHM3YV9tbV93cmVnKGxk
ZXYsIEZCX0NGR19SRUcgKyByZWdfb2Zmc2V0LCBsY3J0Yy0+Y2ZnX3JlZyk7Cit9CisKK3N0YXRp
YyB2b2lkIGxvb25nc29uX2NydGNfYXRvbWljX2Rpc2FibGUoc3RydWN0IGRybV9jcnRjICpjcnRj
LAorCQkJCQkgc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKm9sZF9zdGF0ZSkKK3sKKwlzdHJ1Y3Qg
ZHJtX2RldmljZSAqZGV2ID0gY3J0Yy0+ZGV2OworCXN0cnVjdCBsb29uZ3Nvbl9kZXZpY2UgKmxk
ZXYgPSB0b19sb29uZ3Nvbl9kZXZpY2UoZGV2KTsKKwlzdHJ1Y3QgbG9vbmdzb25fY3J0YyAqbGNy
dGMgPSB0b19sb29uZ3Nvbl9jcnRjKGNydGMpOworCXUzMiByZWdfb2Zmc2V0ID0gbGNydGMtPnJl
Z19vZmZzZXQ7CisKKwlsY3J0Yy0+Y2ZnX3JlZyAmPSB+Q0ZHX0VOQUJMRTsKKwlsczdhX21tX3dy
ZWcobGRldiwgRkJfQ0ZHX1JFRyArIHJlZ19vZmZzZXQsIGxjcnRjLT5jZmdfcmVnKTsKK30KKwor
c3RhdGljIGVudW0gZHJtX21vZGVfc3RhdHVzIGxvb25nc29uX21vZGVfdmFsaWQoc3RydWN0IGRy
bV9jcnRjICpjcnRjLAorCQkJCQkJY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGUp
Cit7CisJaWYgKG1vZGUtPmhkaXNwbGF5ID4gMTkyMCkKKwkJcmV0dXJuIE1PREVfQkFEOworCWlm
IChtb2RlLT52ZGlzcGxheSA+IDEwODApCisJCXJldHVybiBNT0RFX0JBRDsKKwlpZiAobW9kZS0+
aGRpc3BsYXkgJSA2NCkKKwkJcmV0dXJuIE1PREVfQkFEOworCWlmIChtb2RlLT5jbG9jayA+PSAx
NzMwMDApCisJCXJldHVybiBNT0RFX0NMT0NLX0hJR0g7CisKKwlyZXR1cm4gTU9ERV9PSzsKK30K
Kworc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fY3J0Y19oZWxwZXJfZnVuY3MgbG9vbmdzb25fY3J0
Y19oZWxwZXJfZnVuY3MgPSB7CisJLm1vZGVfdmFsaWQgPSBsb29uZ3Nvbl9tb2RlX3ZhbGlkLAor
CS5hdG9taWNfZW5hYmxlID0gbG9vbmdzb25fY3J0Y19hdG9taWNfZW5hYmxlLAorCS5hdG9taWNf
ZGlzYWJsZSA9IGxvb25nc29uX2NydGNfYXRvbWljX2Rpc2FibGUsCisJLm1vZGVfc2V0X25vZmIg
PSBsb29uZ3Nvbl9jcnRjX21vZGVfc2V0X25vZmIsCit9OworCitzdGF0aWMgY29uc3Qgc3RydWN0
IGRybV9jcnRjX2Z1bmNzIGxvb25nc29uX2NydGNfZnVuY3MgPSB7CisJLnNldF9jb25maWcgPSBk
cm1fYXRvbWljX2hlbHBlcl9zZXRfY29uZmlnLAorCS5wYWdlX2ZsaXAgPSBkcm1fYXRvbWljX2hl
bHBlcl9wYWdlX2ZsaXAsCisJLnJlc2V0ID0gZHJtX2F0b21pY19oZWxwZXJfY3J0Y19yZXNldCwK
KwkuYXRvbWljX2R1cGxpY2F0ZV9zdGF0ZSA9IGRybV9hdG9taWNfaGVscGVyX2NydGNfZHVwbGlj
YXRlX3N0YXRlLAorCS5hdG9taWNfZGVzdHJveV9zdGF0ZSA9IGRybV9hdG9taWNfaGVscGVyX2Ny
dGNfZGVzdHJveV9zdGF0ZSwKK307CisKK2ludCBsb29uZ3Nvbl9jcnRjX2luaXQoc3RydWN0IGxv
b25nc29uX2RldmljZSAqbGRldiwgaW50IGluZGV4KQoreworCXN0cnVjdCBkcm1fZGV2aWNlICpk
ZXYgPSAmbGRldi0+ZGV2OworCXN0cnVjdCBsb29uZ3Nvbl9wbGFuZSAqcGxhbmU7CisJc3RydWN0
IGxvb25nc29uX2NydGMgKmxjcnRjOworCisJcGxhbmUgPSBsb29uZ3Nvbl9wbGFuZV9pbml0KGRl
diwgaW5kZXgpOworCWlmIChJU19FUlIocGxhbmUpKQorCQlyZXR1cm4gUFRSX0VSUihwbGFuZSk7
CisKKwlsY3J0YyA9IGRybW1fY3J0Y19hbGxvY193aXRoX3BsYW5lcyhkZXYsIHN0cnVjdCBsb29u
Z3Nvbl9jcnRjLCBiYXNlLAorCQkJCQkgICAgJnBsYW5lLT5iYXNlLCBOVUxMLAorCQkJCQkgICAg
Jmxvb25nc29uX2NydGNfZnVuY3MsIE5VTEwpOworCWlmIChJU19FUlIobGNydGMpKQorCQlyZXR1
cm4gUFRSX0VSUihsY3J0Yyk7CisKKwlsY3J0Yy0+bGRldiA9IGxkZXY7CisJbGNydGMtPnJlZ19v
ZmZzZXQgPSBpbmRleCAqIFJFR19PRkZTRVQ7CisJbGNydGMtPmNmZ19yZWcgPSBDRkdfUkVTRVQ7
CisJbGNydGMtPmNydGNfaWQgPSBpbmRleDsKKwlsY3J0Yy0+cGxhbmUgPSBwbGFuZTsKKworCWRy
bV9jcnRjX2hlbHBlcl9hZGQoJmxjcnRjLT5iYXNlLCAmbG9vbmdzb25fY3J0Y19oZWxwZXJfZnVu
Y3MpOworCisJbGRldi0+bW9kZV9pbmZvW2luZGV4XS5jcnRjID0gbGNydGM7CisKKwlyZXR1cm4g
MDsKK30KKwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2xvb25nc29uL2xvb25nc29uX2Rl
dmljZS5jIGIvZHJpdmVycy9ncHUvZHJtL2xvb25nc29uL2xvb25nc29uX2RldmljZS5jCm5ldyBm
aWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAwMC4uODk3Yjk2ZmQ5NmRjCi0tLSAvZGV2
L251bGwKKysrIGIvZHJpdmVycy9ncHUvZHJtL2xvb25nc29uL2xvb25nc29uX2RldmljZS5jCkBA
IC0wLDAgKzEsMzggQEAKKy8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wLW9yLWxh
dGVyCisvKiBDb3B5cmlnaHQgKEMpIDIwMjIgTG9vbmdzb24gSW5jLiAqLworCisjaW5jbHVkZSA8
ZHJtL2RybV9mcmFtZWJ1ZmZlci5oPgorCisjaW5jbHVkZSAibG9vbmdzb25fZHJ2LmgiCisKK3Uz
MiBsb29uZ3Nvbl9ncHVfb2Zmc2V0KHN0cnVjdCBkcm1fcGxhbmVfc3RhdGUgKnN0YXRlLAorCQkJ
c3RydWN0IGxvb25nc29uX2RldmljZSAqbGRldikKK3sKKwlzdHJ1Y3QgZHJtX2dlbV92cmFtX29i
amVjdCAqZ2JvOworCXUzMiBncHVfYWRkcjsKKworCWdibyA9IGRybV9nZW1fdnJhbV9vZl9nZW0o
c3RhdGUtPmZiLT5vYmpbMF0pOworCWdwdV9hZGRyID0gbGRldi0+dnJhbV9zdGFydCArIGRybV9n
ZW1fdnJhbV9vZmZzZXQoZ2JvKTsKKworCXJldHVybiBncHVfYWRkcjsKK30KKwordTMyIGxzN2Ff
aW9fcnJlZyhzdHJ1Y3QgbG9vbmdzb25fZGV2aWNlICpsZGV2LCB1MzIgb2Zmc2V0KQoreworCXJl
dHVybiByZWFkbChsZGV2LT5pbyArIG9mZnNldCk7Cit9CisKK3ZvaWQgbHM3YV9pb193cmVnKHN0
cnVjdCBsb29uZ3Nvbl9kZXZpY2UgKmxkZXYsIHUzMiBvZmZzZXQsIHUzMiB2YWwpCit7CisJd3Jp
dGVsKHZhbCwgbGRldi0+aW8gKyBvZmZzZXQpOworfQorCit1MzIgbHM3YV9tbV9ycmVnKHN0cnVj
dCBsb29uZ3Nvbl9kZXZpY2UgKmxkZXYsIHUzMiBvZmZzZXQpCit7CisJcmV0dXJuIHJlYWRsKGxk
ZXYtPm1taW8gKyBvZmZzZXQpOworfQorCit2b2lkIGxzN2FfbW1fd3JlZyhzdHJ1Y3QgbG9vbmdz
b25fZGV2aWNlICpsZGV2LCB1MzIgb2Zmc2V0LCB1MzIgdmFsKQoreworCXdyaXRlbCh2YWwsIGxk
ZXYtPm1taW8gKyBvZmZzZXQpOworfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2xvb25n
c29uL2xvb25nc29uX2Rydi5jIGIvZHJpdmVycy9ncHUvZHJtL2xvb25nc29uL2xvb25nc29uX2Ry
di5jCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAwMC4uM2RiMjk4MjkzODY1
Ci0tLSAvZGV2L251bGwKKysrIGIvZHJpdmVycy9ncHUvZHJtL2xvb25nc29uL2xvb25nc29uX2Ry
di5jCkBAIC0wLDAgKzEsMjczIEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIu
MC1vci1sYXRlcgorLyogQ29weXJpZ2h0IChDKSAyMDIyIExvb25nc29uIEluYy4gKi8KKy8qCisg
KiBMb29uZ3NvbiBMUzdBMTAwMCBicmlkZ2UgY2hpcHNldCBkcm0gZHJpdmVyCisgKiBBdXRob3I6
IFlpIExpLCBsaXlpQGxvb25nc29uLmNuCisgKiAgICAgICAgIENoZW55YW5nIExpLCBsaWNoZW55
YW5nQGxvb25nc29uLmNuCisgKi8KKworI2luY2x1ZGUgPGxpbnV4L2NvbnNvbGUuaD4KKyNpbmNs
dWRlIDxsaW51eC9rZXJuZWwuaD4KKyNpbmNsdWRlIDxsaW51eC9tb2R1bGUuaD4KKyNpbmNsdWRl
IDxsaW51eC9wY2kuaD4KKworI2luY2x1ZGUgPGRybS9kcm1fZHJ2Lmg+CisjaW5jbHVkZSA8ZHJt
L2RybV9mYl9oZWxwZXIuaD4KKyNpbmNsdWRlIDxkcm0vZHJtX2dlbV9mcmFtZWJ1ZmZlcl9oZWxw
ZXIuaD4KKyNpbmNsdWRlIDxkcm0vZHJtX3Byb2JlX2hlbHBlci5oPgorCisjaW5jbHVkZSAibG9v
bmdzb25fZHJ2LmgiCisKKy8qIEludGVyZmFjZSBoaXN0b3J5OgorICogMC4xIC0gb3JpZ2luYWwu
CisgKi8KKyNkZWZpbmUgRFJJVkVSX01BSk9SIDAKKyNkZWZpbmUgRFJJVkVSX01JTk9SIDEKKwor
c3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fbW9kZV9jb25maWdfZnVuY3MgbG9vbmdzb25fbW9kZV9m
dW5jcyA9IHsKKwkuZmJfY3JlYXRlID0gZHJtX2dlbV9mYl9jcmVhdGUsCisJLmF0b21pY19jaGVj
ayA9IGRybV9hdG9taWNfaGVscGVyX2NoZWNrLAorCS5hdG9taWNfY29tbWl0ID0gZHJtX2F0b21p
Y19oZWxwZXJfY29tbWl0LAorCS5vdXRwdXRfcG9sbF9jaGFuZ2VkID0gZHJtX2ZiX2hlbHBlcl9v
dXRwdXRfcG9sbF9jaGFuZ2VkLAorCS5tb2RlX3ZhbGlkID0gZHJtX3ZyYW1faGVscGVyX21vZGVf
dmFsaWQKK307CisKK3N0YXRpYyBpbnQgbG9vbmdzb25fZGV2aWNlX2luaXQoc3RydWN0IGRybV9k
ZXZpY2UgKmRldikKK3sKKwlzdHJ1Y3QgbG9vbmdzb25fZGV2aWNlICpsZGV2ID0gdG9fbG9vbmdz
b25fZGV2aWNlKGRldik7CisJc3RydWN0IHBjaV9kZXYgKnBkZXYgPSB0b19wY2lfZGV2KGRldi0+
ZGV2KTsKKwlzdHJ1Y3QgcGNpX2RldiAqZ3B1X3BkZXY7CisJcmVzb3VyY2Vfc2l6ZV90IGFwZXJf
YmFzZTsKKwlyZXNvdXJjZV9zaXplX3QgYXBlcl9zaXplOworCXJlc291cmNlX3NpemVfdCBtbWlv
X2Jhc2U7CisJcmVzb3VyY2Vfc2l6ZV90IG1taW9fc2l6ZTsKKwlpbnQgcmV0OworCisJLyogR1BV
IE1FTSAqLworCS8qIFdlIG5lZWQgZ2V0IDdBLWdwdSBwY2kgZGV2aWNlIGluZm9ybWF0aW9uIGZv
ciBsZGV2LT5ncHVfcGRldiAqLworCS8qIGRldi0+cGRldiBzYXZlIDdBLWRjIHBjaSBkZXZpY2Ug
aW5mb3JtYXRpb24gKi8KKwlncHVfcGRldiA9IHBjaV9nZXRfZGV2aWNlKFBDSV9WRU5ET1JfSURf
TE9PTkdTT04sCisJCQkJICBQQ0lfREVWSUNFX0lEX0xPT05HU09OX0dQVSwgTlVMTCk7CisJcmV0
ID0gcGNpX2VuYWJsZV9kZXZpY2UoZ3B1X3BkZXYpOworCWlmIChyZXQpCisJCXJldHVybiByZXQ7
CisJcGNpX3NldF9kcnZkYXRhKGdwdV9wZGV2LCBkZXYpOworCisJYXBlcl9iYXNlID0gcGNpX3Jl
c291cmNlX3N0YXJ0KGdwdV9wZGV2LCAyKTsKKwlhcGVyX3NpemUgPSBwY2lfcmVzb3VyY2VfbGVu
KGdwdV9wZGV2LCAyKTsKKwlsZGV2LT52cmFtX3N0YXJ0ID0gYXBlcl9iYXNlOworCWxkZXYtPnZy
YW1fc2l6ZSA9IGFwZXJfc2l6ZTsKKworCWlmICghZGV2bV9yZXF1ZXN0X21lbV9yZWdpb24oZGV2
LT5kZXYsIGxkZXYtPnZyYW1fc3RhcnQsCisJCQkJICAgICBsZGV2LT52cmFtX3NpemUsICJsb29u
Z3Nvbl92cmFtIikpIHsKKwkJZHJtX2VycihkZXYsICJDYW4ndCByZXNlcnZlIFZSQU1cbiIpOwor
CQlyZXR1cm4gLUVOWElPOworCX0KKworCS8qIERDIE1FTSAqLworCW1taW9fYmFzZSA9IHBjaV9y
ZXNvdXJjZV9zdGFydChwZGV2LCAwKTsKKwltbWlvX3NpemUgPSBwY2lfcmVzb3VyY2VfbGVuKHBk
ZXYsIDApOworCWxkZXYtPm1taW8gPSBkZXZtX2lvcmVtYXAoZGV2LT5kZXYsIG1taW9fYmFzZSwg
bW1pb19zaXplKTsKKwlpZiAoIWxkZXYtPm1taW8pIHsKKwkJZHJtX2VycihkZXYsICJDYW5ub3Qg
bWFwIG1taW8gcmVnaW9uXG4iKTsKKwkJcmV0dXJuIC1FTk9NRU07CisJfQorCisJaWYgKCFkZXZt
X3JlcXVlc3RfbWVtX3JlZ2lvbihkZXYtPmRldiwgbW1pb19iYXNlLAorCQkJCSAgICAgbW1pb19z
aXplLCAibG9vbmdzb25fbW1pbyIpKSB7CisJCWRybV9lcnIoZGV2LCAiQ2FuJ3QgcmVzZXJ2ZSBt
bWlvIHJlZ2lzdGVyc1xuIik7CisJCXJldHVybiAtRU5PTUVNOworCX0KKworCS8qIERDIElPICov
CisJbGRldi0+aW8gPSBkZXZtX2lvcmVtYXAoZGV2LT5kZXYsIExTN0FfQ0hJUENGR19SRUdfQkFT
RSwgMHhmKTsKKwlpZiAoIWxkZXYtPmlvKQorCQlyZXR1cm4gLUVOT01FTTsKKworCWxkZXYtPm51
bV9jcnRjID0gMjsKKworCWRybV9pbmZvKGRldiwgIkRDIG1taW8gYmFzZSAweCVsbHggc2l6ZSAw
eCVsbHggaW8gMHglbGx4XG4iLAorCQkgbW1pb19iYXNlLCBtbWlvX3NpemUsICoodTY0ICopbGRl
di0+aW8pOworCWRybV9pbmZvKGRldiwgIkdQVSB2cmFtIHN0YXJ0ID0gMHgleCBzaXplID0gMHgl
eFxuIiwKKwkJIGxkZXYtPnZyYW1fc3RhcnQsIGxkZXYtPnZyYW1fc2l6ZSk7CisKKwlyZXR1cm4g
MDsKK30KKworc3RhdGljIGludCBsb29uZ3Nvbl9tb2Rlc2V0X2luaXQoc3RydWN0IGxvb25nc29u
X2RldmljZSAqbGRldikKK3sKKwlpbnQgaTsKKwlpbnQgcmV0OworCisJZm9yIChpID0gMDsgaSA8
IGxkZXYtPm51bV9jcnRjOyBpKyspIHsKKwkJcmV0ID0gbG9vbmdzb25fY3J0Y19pbml0KGxkZXYs
IGkpOworCQlpZiAocmV0KSB7CisJCQlkcm1fd2FybigmbGRldi0+ZGV2LCAibG9vbmdzb24gY3J0
YyVkIGluaXQgZmFpbFxuIiwgaSk7CisJCQljb250aW51ZTsKKwkJfQorCisJCXJldCA9IGxvb25n
c29uX2VuY29kZXJfaW5pdChsZGV2LCBpKTsKKwkJaWYgKHJldCkgeworCQkJZHJtX2VycigmbGRl
di0+ZGV2LCAibG9vbmdzb25fZW5jb2Rlcl9pbml0IGZhaWxlZFxuIik7CisJCQlyZXR1cm4gcmV0
OworCQl9CisKKwkJcmV0ID0gbG9vbmdzb25fYnJpZGdlX2Nvbm5lY3Rvcl9pbml0KGxkZXYsIGkp
OworCQlpZiAocmV0KSB7CisJCQlkcm1fZXJyKCZsZGV2LT5kZXYsICJsb29uZ3Nvbl9jb25uZWN0
b3JfaW5pdCBmYWlsZWRcbiIpOworCQkJcmV0dXJuIHJldDsKKwkJfQorCX0KKworCXJldHVybiAw
OworfQorCitzdGF0aWMgaW50IGxvb25nc29uX2RyaXZlcl9pbml0KHN0cnVjdCBkcm1fZGV2aWNl
ICpkZXYpCit7CisJc3RydWN0IGxvb25nc29uX2RldmljZSAqbGRldiA9IHRvX2xvb25nc29uX2Rl
dmljZShkZXYpOworCWludCByZXQ7CisKKwlyZXQgPSBsb29uZ3Nvbl9kZXZpY2VfaW5pdChkZXYp
OworCWlmIChyZXQpCisJCWdvdG8gZXJyOworCisJcmV0ID0gZHJtbV92cmFtX2hlbHBlcl9pbml0
KGRldiwgbGRldi0+dnJhbV9zdGFydCwgbGRldi0+dnJhbV9zaXplKTsKKwlpZiAocmV0KSB7CisJ
CWRybV9lcnIoZGV2LCAiRXJyb3IgaW5pdGlhbGl6aW5nIHZyYW0gJWRcbiIsIHJldCk7CisJCWdv
dG8gZXJyOworCX0KKworCXJldCA9IGRybW1fbW9kZV9jb25maWdfaW5pdChkZXYpOworCWlmIChy
ZXQpCisJCXJldHVybiByZXQ7CisKKwlkZXYtPm1vZGVfY29uZmlnLm1pbl93aWR0aCA9IDE7CisJ
ZGV2LT5tb2RlX2NvbmZpZy5taW5faGVpZ2h0ID0gMTsKKwlkZXYtPm1vZGVfY29uZmlnLm1heF93
aWR0aCA9IDQwOTY7CisJZGV2LT5tb2RlX2NvbmZpZy5tYXhfaGVpZ2h0ID0gNDA5NjsKKwlkZXYt
Pm1vZGVfY29uZmlnLnByZWZlcnJlZF9kZXB0aCA9IDMyOworCWRldi0+bW9kZV9jb25maWcucHJl
ZmVyX3NoYWRvdyA9IDE7CisJZGV2LT5tb2RlX2NvbmZpZy5mYl9iYXNlID0gbGRldi0+dnJhbV9z
dGFydDsKKwlkZXYtPm1vZGVfY29uZmlnLmZ1bmNzID0gKHZvaWQgKikmbG9vbmdzb25fbW9kZV9m
dW5jczsKKworCXJldCA9IGxvb25nc29uX21vZGVzZXRfaW5pdChsZGV2KTsKKwlpZiAocmV0KSB7
CisJCWRybV9lcnIoZGV2LCAiRmF0YWwgZXJyb3IgZHVyaW5nIG1vZGVzZXQgaW5pdDogJWRcbiIs
IHJldCk7CisJCWdvdG8gZXJyOworCX0KKworCWRybV9rbXNfaGVscGVyX3BvbGxfaW5pdChkZXYp
OworCWRybV9tb2RlX2NvbmZpZ19yZXNldChkZXYpOworCisJcmV0dXJuIDA7CisKK2VycjoKKwlk
cm1fZXJyKGRldiwgImZhaWxlZCB0byBpbml0aWFsaXplIGRybSBkcml2ZXI6ICVkXG4iLCByZXQp
OworCXJldHVybiByZXQ7Cit9CisKK3N0YXRpYyB2b2lkIGxvb25nc29uX2RyaXZlcl9maW5pKHN0
cnVjdCBkcm1fZGV2aWNlICpkZXYpCit7CisJZGV2LT5kZXZfcHJpdmF0ZSA9IE5VTEw7CisJZGV2
X3NldF9kcnZkYXRhKGRldi0+ZGV2LCBOVUxMKTsKK30KKworREVGSU5FX0RSTV9HRU1fRk9QUyhm
b3BzKTsKKworc3RhdGljIHN0cnVjdCBkcm1fZHJpdmVyIGxvb25nc29uX2RyaXZlciA9IHsKKwku
ZHJpdmVyX2ZlYXR1cmVzID0gRFJJVkVSX01PREVTRVQgfCBEUklWRVJfR0VNIHwgRFJJVkVSX0FU
T01JQywKKwkuZm9wcyA9ICZmb3BzLAorCURSTV9HRU1fVlJBTV9EUklWRVIsCisKKwkubmFtZSA9
IERSSVZFUl9OQU1FLAorCS5kZXNjID0gRFJJVkVSX0RFU0MsCisJLmRhdGUgPSBEUklWRVJfREFU
RSwKKwkubWFqb3IgPSBEUklWRVJfTUFKT1IsCisJLm1pbm9yID0gRFJJVkVSX01JTk9SLAorfTsK
Kworc3RhdGljIGludCBsb29uZ3Nvbl9wY2lfcHJvYmUoc3RydWN0IHBjaV9kZXYgKnBkZXYsCisJ
CQkgICAgICBjb25zdCBzdHJ1Y3QgcGNpX2RldmljZV9pZCAqZW50KQoreworCXN0cnVjdCBsb29u
Z3Nvbl9kZXZpY2UgKmxkZXY7CisJc3RydWN0IGRybV9kZXZpY2UgKmRldjsKKwlpbnQgcmV0Owor
CisJRFJNX0lORk8oIlN0YXJ0IGxvb25nc29uIGRybSBwcm9iZS5cbiIpOworCWxkZXYgPSBkZXZt
X2RybV9kZXZfYWxsb2MoJnBkZXYtPmRldiwgJmxvb25nc29uX2RyaXZlciwKKwkJCQkgIHN0cnVj
dCBsb29uZ3Nvbl9kZXZpY2UsIGRldik7CisJaWYgKElTX0VSUihsZGV2KSkKKwkJcmV0dXJuIFBU
Ul9FUlIobGRldik7CisJZGV2ID0gJmxkZXYtPmRldjsKKworCXBjaV9zZXRfZHJ2ZGF0YShwZGV2
LCBkZXYpOworCisJcmV0ID0gcGNpbV9lbmFibGVfZGV2aWNlKHBkZXYpOworCWlmIChyZXQpIHsK
KwkJZHJtX2VycihkZXYsICJmYWlsZWQgdG8gZW5hYmxlIHBjaSBkZXZpY2U6ICVkXG4iLCByZXQp
OworCQlnb3RvIGVycl9mcmVlOworCX0KKworCXJldCA9IGxvb25nc29uX2RyaXZlcl9pbml0KGRl
dik7CisJaWYgKHJldCkgeworCQlkcm1fZXJyKGRldiwgImZhaWxlZCB0byBsb2FkIGxvb25nc29u
OiAlZFxuIiwgcmV0KTsKKwkJZ290byBlcnJfcGRldjsKKwl9CisKKwlyZXQgPSBkcm1fZGV2X3Jl
Z2lzdGVyKGRldiwgMCk7CisJaWYgKHJldCkgeworCQlkcm1fZXJyKGRldiwgImZhaWxlZCB0byBy
ZWdpc3RlciBkcnYgZm9yIHVzZXJzcGFjZSBhY2Nlc3M6ICVkXG4iLAorCQkJcmV0KTsKKwkJZ290
byBkcml2ZXJfZmluaTsKKwl9CisKKwlkcm1fZmJkZXZfZ2VuZXJpY19zZXR1cChkZXYsIGRldi0+
bW9kZV9jb25maWcucHJlZmVycmVkX2RlcHRoKTsKKwlEUk1fSU5GTygibG9vbmdzb24gZmJkZXYg
ZW5hYmxlZC5cbiIpOworCisJcmV0dXJuIDA7CisKK2RyaXZlcl9maW5pOgorCWxvb25nc29uX2Ry
aXZlcl9maW5pKGRldik7CitlcnJfcGRldjoKKwlwY2lfZGlzYWJsZV9kZXZpY2UocGRldik7Citl
cnJfZnJlZToKKwlkcm1fZGV2X3B1dChkZXYpOworCXJldHVybiByZXQ7Cit9CisKK3N0YXRpYyB2
b2lkIGxvb25nc29uX3BjaV9yZW1vdmUoc3RydWN0IHBjaV9kZXYgKnBkZXYpCit7CisJc3RydWN0
IGRybV9kZXZpY2UgKmRldiA9IHBjaV9nZXRfZHJ2ZGF0YShwZGV2KTsKKworCWRybV9kZXZfdW5y
ZWdpc3RlcihkZXYpOworCWxvb25nc29uX2RyaXZlcl9maW5pKGRldik7Cit9CisKK3N0YXRpYyBz
dHJ1Y3QgcGNpX2RldmljZV9pZCBsb29uZ3Nvbl9wY2lfZGV2aWNlc1tdID0geworCXsgUENJX0RF
VklDRShQQ0lfVkVORE9SX0lEX0xPT05HU09OLCBQQ0lfREVWSUNFX0lEX0xPT05HU09OX0RDKSB9
LAorCXswLH0KK307CisKK3N0YXRpYyBzdHJ1Y3QgcGNpX2RyaXZlciBsb29uZ3Nvbl9kcm1fcGNp
X2RyaXZlciA9IHsKKwkubmFtZSA9IERSSVZFUl9OQU1FLAorCS5pZF90YWJsZSA9IGxvb25nc29u
X3BjaV9kZXZpY2VzLAorCS5wcm9iZSA9IGxvb25nc29uX3BjaV9wcm9iZSwKKwkucmVtb3ZlID0g
bG9vbmdzb25fcGNpX3JlbW92ZSwKK307CisKK3N0YXRpYyBpbnQgX19pbml0IGxvb25nc29uX2Ry
bV9pbml0KHZvaWQpCit7CisJcmV0dXJuIHBjaV9yZWdpc3Rlcl9kcml2ZXIoJmxvb25nc29uX2Ry
bV9wY2lfZHJpdmVyKTsKK30KKworc3RhdGljIHZvaWQgX19leGl0IGxvb25nc29uX2RybV9leGl0
KHZvaWQpCit7CisJcGNpX3VucmVnaXN0ZXJfZHJpdmVyKCZsb29uZ3Nvbl9kcm1fcGNpX2RyaXZl
cik7Cit9CisKK21vZHVsZV9pbml0KGxvb25nc29uX2RybV9pbml0KTsKK21vZHVsZV9leGl0KGxv
b25nc29uX2RybV9leGl0KTsKKworTU9EVUxFX0FVVEhPUihEUklWRVJfQVVUSE9SKTsKK01PRFVM
RV9ERVNDUklQVElPTihEUklWRVJfREVTQyk7CitNT0RVTEVfTElDRU5TRSgiR1BMIHYyIik7CmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbG9vbmdzb24vbG9vbmdzb25fZHJ2LmggYi9kcml2
ZXJzL2dwdS9kcm0vbG9vbmdzb24vbG9vbmdzb25fZHJ2LmgKbmV3IGZpbGUgbW9kZSAxMDA2NDQK
aW5kZXggMDAwMDAwMDAwMDAwLi5mZWIyNTRhZThjMzIKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2
ZXJzL2dwdS9kcm0vbG9vbmdzb24vbG9vbmdzb25fZHJ2LmgKQEAgLTAsMCArMSwxMzAgQEAKKy8q
IFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wLW9ubHkgKi8KKy8qIENvcHlyaWdodCAo
QykgMjAyMiBMb29uZ3NvbiBJbmMuICovCisKKyNpZm5kZWYgX19MT09OR1NPTl9EUlZfSF9fCisj
ZGVmaW5lIF9fTE9PTkdTT05fRFJWX0hfXworCisjaW5jbHVkZSA8ZHJtL2RybV9hdG9taWNfaGVs
cGVyLmg+CisjaW5jbHVkZSA8ZHJtL2RybV9nZW1fdnJhbV9oZWxwZXIuaD4KKyNpbmNsdWRlIDxk
cm0vZHJtX2JyaWRnZS5oPgorCisvKiBHZW5lcmFsIGN1c3RvbWl6YXRpb246CisgKi8KKyNkZWZp
bmUgRFJJVkVSX0FVVEhPUiAiTG9vbmdzb24gZ3JhcGhpY3MgZHJpdmVyIHRlYW0iCisjZGVmaW5l
IERSSVZFUl9OQU1FICJsb29uZ3Nvbi1kcm0iCisjZGVmaW5lIERSSVZFUl9ERVNDICJMb29uZ3Nv
biBMUzdBIERSTSBkcml2ZXIiCisjZGVmaW5lIERSSVZFUl9EQVRFICIyMDIwMDkxNSIKKworI2Rl
ZmluZSB0b19sb29uZ3Nvbl9jcnRjKHgpIGNvbnRhaW5lcl9vZih4LCBzdHJ1Y3QgbG9vbmdzb25f
Y3J0YywgYmFzZSkKKyNkZWZpbmUgdG9fbG9vbmdzb25fZW5jb2Rlcih4KSBjb250YWluZXJfb2Yo
eCwgc3RydWN0IGxvb25nc29uX2VuY29kZXIsIGJhc2UpCisKKyNkZWZpbmUgTFM3QV9DSElQQ0ZH
X1JFR19CQVNFICgweDEwMDEwMDAwKQorI2RlZmluZSBQQ0lfREVWSUNFX0lEX0xPT05HU09OX0RD
IDB4N2EwNgorI2RlZmluZSBQQ0lfREVWSUNFX0lEX0xPT05HU09OX0dQVSAweDdhMTUKKyNkZWZp
bmUgTFM3QV9QSVhfUExMICgweDA0YjApCisjZGVmaW5lIFJFR19PRkZTRVQgKDB4MTApCisjZGVm
aW5lIEZCX0NGR19SRUcgKDB4MTI0MCkKKyNkZWZpbmUgRkJfQUREUjBfUkVHICgweDEyNjApCisj
ZGVmaW5lIEZCX0FERFIxX1JFRyAoMHgxNTgwKQorI2RlZmluZSBGQl9TVFJJX1JFRyAoMHgxMjgw
KQorI2RlZmluZSBGQl9ESVRDRkdfUkVHICgweDEzNjApCisjZGVmaW5lIEZCX0RJVFRBQl9MT19S
RUcgKDB4MTM4MCkKKyNkZWZpbmUgRkJfRElUVEFCX0hJX1JFRyAoMHgxM2EwKQorI2RlZmluZSBG
Ql9QQU5DRkdfUkVHICgweDEzYzApCisjZGVmaW5lIEZCX1BBTlRJTV9SRUcgKDB4MTNlMCkKKyNk
ZWZpbmUgRkJfSERJU1BMQVlfUkVHICgweDE0MDApCisjZGVmaW5lIEZCX0hTWU5DX1JFRyAoMHgx
NDIwKQorI2RlZmluZSBGQl9WRElTUExBWV9SRUcgKDB4MTQ4MCkKKyNkZWZpbmUgRkJfVlNZTkNf
UkVHICgweDE0YTApCisKKyNkZWZpbmUgQ0ZHX0ZNVCBHRU5NQVNLKDIsIDApCisjZGVmaW5lIENG
R19GQlNXSVRDSCBCSVQoNykKKyNkZWZpbmUgQ0ZHX0VOQUJMRSBCSVQoOCkKKyNkZWZpbmUgQ0ZH
X0ZCTlVNIEJJVCgxMSkKKyNkZWZpbmUgQ0ZHX0dBTU1BUiBCSVQoMTIpCisjZGVmaW5lIENGR19S
RVNFVCBCSVQoMjApCisKKyNkZWZpbmUgRkJfUEFOQ0ZHX0RFRiAweDgwMDAxMzExCisjZGVmaW5l
IEZCX0hTWU5DX1BVTFNFICgxIDw8IDMwKQorI2RlZmluZSBGQl9WU1lOQ19QVUxTRSAoMSA8PCAz
MCkKKworLyogUElYIFBMTCAqLworI2RlZmluZSBMT09QQ19NSU4gMjQKKyNkZWZpbmUgTE9PUENf
TUFYIDE2MQorI2RlZmluZSBGUkVfUkVGX01JTiAxMgorI2RlZmluZSBGUkVfUkVGX01BWCAzMgor
I2RlZmluZSBESVZfUkVGX01JTiAzCisjZGVmaW5lIERJVl9SRUZfTUFYIDUKKyNkZWZpbmUgUFNU
X0RJVl9NQVggNjQKKworc3RydWN0IHBpeF9wbGwgeworCXUzMiBsMl9kaXY7CisJdTMyIGwxX2xv
b3BjOworCXUzMiBsMV9mcmVmYzsKK307CisKK3N0cnVjdCBsb29uZ3Nvbl9jcnRjIHsKKwlzdHJ1
Y3QgZHJtX2NydGMgYmFzZTsKKwlzdHJ1Y3QgbG9vbmdzb25fZGV2aWNlICpsZGV2OworCXUzMiBj
cnRjX2lkOworCXUzMiByZWdfb2Zmc2V0OworCXUzMiBjZmdfcmVnOworCXN0cnVjdCBsb29uZ3Nv
bl9wbGFuZSAqcGxhbmU7Cit9OworCitzdHJ1Y3QgbG9vbmdzb25fcGxhbmUgeworCXN0cnVjdCBk
cm1fcGxhbmUgYmFzZTsKK307CisKK3N0cnVjdCBsb29uZ3Nvbl9lbmNvZGVyIHsKKwlzdHJ1Y3Qg
ZHJtX2VuY29kZXIgYmFzZTsKKwlzdHJ1Y3QgZHJtX2JyaWRnZSBicmlkZ2U7CisJc3RydWN0IGxv
b25nc29uX2RldmljZSAqbGRldjsKKwlzdHJ1Y3QgbG9vbmdzb25fY3J0YyAqbGNydGM7Cit9Owor
CitzdHJ1Y3QgbG9vbmdzb25fbW9kZV9pbmZvIHsKKwlzdHJ1Y3QgbG9vbmdzb25fY3J0YyAqY3J0
YzsKKwlzdHJ1Y3QgbG9vbmdzb25fZW5jb2RlciAqZW5jb2RlcjsKK307CisKK3N0cnVjdCBsb29u
Z3Nvbl9kZXZpY2UgeworCXN0cnVjdCBkcm1fZGV2aWNlIGRldjsKKwlzdHJ1Y3QgZHJtX2F0b21p
Y19zdGF0ZSAqc3RhdGU7CisKKwl2b2lkIF9faW9tZW0gKm1taW87CisJdm9pZCBfX2lvbWVtICpp
bzsKKwl1MzIgdnJhbV9zdGFydDsKKwl1MzIgdnJhbV9zaXplOworCisJdTMyIG51bV9jcnRjOwor
CXN0cnVjdCBsb29uZ3Nvbl9tb2RlX2luZm8gbW9kZV9pbmZvWzJdOworCXN0cnVjdCBwY2lfZGV2
ICpncHVfcGRldjsgLyogTFM3QSBncHUgZGV2aWNlIGluZm8gKi8KK307CisKK3N0YXRpYyBpbmxp
bmUgc3RydWN0IGxvb25nc29uX2RldmljZSAqdG9fbG9vbmdzb25fZGV2aWNlKHN0cnVjdCBkcm1f
ZGV2aWNlICpkZXYpCit7CisJcmV0dXJuIGNvbnRhaW5lcl9vZihkZXYsIHN0cnVjdCBsb29uZ3Nv
bl9kZXZpY2UsIGRldik7Cit9CisKKy8qIGNydGMgKi8KK2ludCBsb29uZ3Nvbl9jcnRjX2luaXQo
c3RydWN0IGxvb25nc29uX2RldmljZSAqbGRldiwgaW50IGluZGV4KTsKKworLyogY29ubmVjdG9y
ICovCitpbnQgbG9vbmdzb25fYnJpZGdlX2Nvbm5lY3Rvcl9pbml0KHN0cnVjdCBsb29uZ3Nvbl9k
ZXZpY2UgKmxkZXYsIGludCBpbmRleCk7CisKKy8qIGVuY29kZXIgKi8KK2ludCBsb29uZ3Nvbl9l
bmNvZGVyX2luaXQoc3RydWN0IGxvb25nc29uX2RldmljZSAqbGRldiwgaW50IGluZGV4KTsKKwor
LyogcGxhbmUgKi8KK3N0cnVjdCBsb29uZ3Nvbl9wbGFuZSAqbG9vbmdzb25fcGxhbmVfaW5pdChz
dHJ1Y3QgZHJtX2RldmljZSAqZGV2LCBpbnQgaW5kZXgpOworCisvKiBkZXZpY2UgKi8KK3UzMiBs
b29uZ3Nvbl9ncHVfb2Zmc2V0KHN0cnVjdCBkcm1fcGxhbmVfc3RhdGUgKnN0YXRlLAorCQkJc3Ry
dWN0IGxvb25nc29uX2RldmljZSAqZGV2KTsKK3UzMiBsczdhX21tX3JyZWcoc3RydWN0IGxvb25n
c29uX2RldmljZSAqbGRldiwgdTMyIG9mZnNldCk7Cit2b2lkIGxzN2FfbW1fd3JlZyhzdHJ1Y3Qg
bG9vbmdzb25fZGV2aWNlICpsZGV2LCB1MzIgb2Zmc2V0LCB1MzIgdmFsKTsKK3UzMiBsczdhX2lv
X3JyZWcoc3RydWN0IGxvb25nc29uX2RldmljZSAqbGRldiwgdTMyIG9mZnNldCk7Cit2b2lkIGxz
N2FfaW9fd3JlZyhzdHJ1Y3QgbG9vbmdzb25fZGV2aWNlICpsZGV2LCB1MzIgb2Zmc2V0LCB1MzIg
dmFsKTsKKworI2VuZGlmIC8qIF9fTE9PTkdTT05fRFJWX0hfXyAqLwpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2xvb25nc29uL2xvb25nc29uX2VuY29kZXIuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9sb29uZ3Nvbi9sb29uZ3Nvbl9lbmNvZGVyLmMKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXgg
MDAwMDAwMDAwMDAwLi4wNjQ1YTY0NWNiOWQKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL2dw
dS9kcm0vbG9vbmdzb24vbG9vbmdzb25fZW5jb2Rlci5jCkBAIC0wLDAgKzEsNTggQEAKKy8vIFNQ
RFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wLW9yLWxhdGVyCisvKiBDb3B5cmlnaHQgKEMp
IDIwMjIgTG9vbmdzb24gSW5jLiAqLworCisjaW5jbHVkZSA8ZHJtL2RybV9lZGlkLmg+CisjaW5j
bHVkZSA8ZHJtL2RybV9zaW1wbGVfa21zX2hlbHBlci5oPgorCisjaW5jbHVkZSAibG9vbmdzb25f
ZHJ2LmgiCisKK3N0YXRpYyBpbnQgbG9vbmdzb25fYnJpZGdlX2dldF9tb2RlcyhzdHJ1Y3QgZHJt
X2JyaWRnZSAqYnJpZGdlLAorCQkJCSAgICAgc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3Rv
cikKK3sKKwlpbnQgY291bnQ7CisKKwljb3VudCA9IGRybV9hZGRfbW9kZXNfbm9lZGlkKGNvbm5l
Y3RvciwgMTkyMCwgMTA4MCk7CisJZHJtX3NldF9wcmVmZXJyZWRfbW9kZShjb25uZWN0b3IsIDEw
MjQsIDc2OCk7CisKKwlyZXR1cm4gY291bnQ7Cit9CisKK3N0YXRpYyBjb25zdCBzdHJ1Y3QgZHJt
X2JyaWRnZV9mdW5jcyBsb29uZ3Nvbl9lbmNvZGVyX2JyaWRnZV9mdW5jcyA9IHsKKwkuZ2V0X21v
ZGVzID0gbG9vbmdzb25fYnJpZGdlX2dldF9tb2RlcywKKwkuYXRvbWljX2R1cGxpY2F0ZV9zdGF0
ZSA9IGRybV9hdG9taWNfaGVscGVyX2JyaWRnZV9kdXBsaWNhdGVfc3RhdGUsCisJLmF0b21pY19k
ZXN0cm95X3N0YXRlID0gZHJtX2F0b21pY19oZWxwZXJfYnJpZGdlX2Rlc3Ryb3lfc3RhdGUsCisJ
LmF0b21pY19yZXNldCA9IGRybV9hdG9taWNfaGVscGVyX2JyaWRnZV9yZXNldCwKK307CisKK2lu
dCBsb29uZ3Nvbl9lbmNvZGVyX2luaXQoc3RydWN0IGxvb25nc29uX2RldmljZSAqbGRldiwgaW50
IGluZGV4KQoreworCXN0cnVjdCBkcm1fZGV2aWNlICpkZXYgPSAmbGRldi0+ZGV2OworCXN0cnVj
dCBsb29uZ3Nvbl9lbmNvZGVyICpsZW5jb2RlcjsKKwlpbnQgcmV0OworCisJbGVuY29kZXIgPSBk
cm1tX3NpbXBsZV9lbmNvZGVyX2FsbG9jKGRldiwgc3RydWN0IGxvb25nc29uX2VuY29kZXIsCisJ
CQkJCSAgICAgYmFzZSwgRFJNX01PREVfRU5DT0RFUl9EQUMpOworCWlmIChJU19FUlIobGVuY29k
ZXIpKQorCQlyZXR1cm4gUFRSX0VSUihsZW5jb2Rlcik7CisKKwlsZW5jb2Rlci0+YmFzZS5wb3Nz
aWJsZV9jcnRjcyA9IDEgPDwgaW5kZXg7CisJbGRldi0+bW9kZV9pbmZvW2luZGV4XS5lbmNvZGVy
ID0gbGVuY29kZXI7CisKKwlsZW5jb2Rlci0+YnJpZGdlLmZ1bmNzID0gJmxvb25nc29uX2VuY29k
ZXJfYnJpZGdlX2Z1bmNzOworCWxlbmNvZGVyLT5icmlkZ2Uub3BzID0gRFJNX0JSSURHRV9PUF9N
T0RFUzsKKwlpZiAoaW5kZXggPT0gMCkKKwkJbGVuY29kZXItPmJyaWRnZS50eXBlID0gRFJNX01P
REVfQ09OTkVDVE9SX1ZHQTsKKwllbHNlIGlmIChpbmRleCA9PSAxKQorCQlsZW5jb2Rlci0+YnJp
ZGdlLnR5cGUgPSBEUk1fTU9ERV9DT05ORUNUT1JfRFZJQTsKKworCWRybV9icmlkZ2VfYWRkKCZs
ZW5jb2Rlci0+YnJpZGdlKTsKKworCXJldCA9IGRybV9icmlkZ2VfYXR0YWNoKCZsZW5jb2Rlci0+
YmFzZSwgJmxlbmNvZGVyLT5icmlkZ2UsIE5VTEwsCisJCQkJRFJNX0JSSURHRV9BVFRBQ0hfTk9f
Q09OTkVDVE9SKTsKKwlpZiAocmV0KSB7CisJCWRldl9lcnIoZGV2LT5kZXYsICJGYWlsZWQgdG8g
YXR0YWNoIGJyaWRnZTogJWRcbiIsIHJldCk7CisJCXJldHVybiByZXQ7CisJfQorCisJcmV0dXJu
IDA7Cit9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbG9vbmdzb24vbG9vbmdzb25fcGxh
bmUuYyBiL2RyaXZlcnMvZ3B1L2RybS9sb29uZ3Nvbi9sb29uZ3Nvbl9wbGFuZS5jCm5ldyBmaWxl
IG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAwMC4uMzgwYTlmMWM2OWE5Ci0tLSAvZGV2L251
bGwKKysrIGIvZHJpdmVycy9ncHUvZHJtL2xvb25nc29uL2xvb25nc29uX3BsYW5lLmMKQEAgLTAs
MCArMSw5NiBAQAorLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb3ItbGF0ZXIK
Ky8qIENvcHlyaWdodCAoQykgMjAyMiBMb29uZ3NvbiBJbmMuICovCisKKyNpbmNsdWRlIDxkcm0v
ZHJtX2ZyYW1lYnVmZmVyLmg+CisjaW5jbHVkZSA8ZHJtL2RybV9mb3VyY2MuaD4KKworI2luY2x1
ZGUgImxvb25nc29uX2Rydi5oIgorCitzdGF0aWMgdm9pZCBsb29uZ3Nvbl9wbGFuZV9hdG9taWNf
dXBkYXRlKHN0cnVjdCBkcm1fcGxhbmUgKnBsYW5lLAorCQkJCQkgc3RydWN0IGRybV9hdG9taWNf
c3RhdGUgKnN0YXRlKQoreworCXN0cnVjdCBsb29uZ3Nvbl9jcnRjICpsY3J0YzsKKwlzdHJ1Y3Qg
bG9vbmdzb25fZGV2aWNlICpsZGV2OworCXN0cnVjdCBkcm1fcGxhbmVfc3RhdGUgKmxzdGF0ZSA9
IHBsYW5lLT5zdGF0ZTsKKwl1MzIgZ3B1X2FkZHIgPSAwOworCXUzMiBmYl9hZGRyID0gMDsKKwl1
MzIgcmVnX3ZhbCA9IDA7CisJdTMyIHJlZ19vZmZzZXQ7CisJdTMyIHBpdGNoOworCXU4IGRlcHRo
OworCXUzMiB4LCB5OworCisJaWYgKCFsc3RhdGUtPmNydGMgfHwgIWxzdGF0ZS0+ZmIpCisJCXJl
dHVybjsKKworCXBpdGNoID0gbHN0YXRlLT5mYi0+cGl0Y2hlc1swXTsKKwlsY3J0YyA9IHRvX2xv
b25nc29uX2NydGMobHN0YXRlLT5jcnRjKTsKKwlsZGV2ID0gbGNydGMtPmxkZXY7CisJcmVnX29m
ZnNldCA9IGxjcnRjLT5yZWdfb2Zmc2V0OworCXggPSBsc3RhdGUtPmNydGMtPng7CisJeSA9IGxz
dGF0ZS0+Y3J0Yy0+eTsKKwlkZXB0aCA9IGxzdGF0ZS0+ZmItPmZvcm1hdC0+Y3BwWzBdIDw8IDM7
CisKKwlncHVfYWRkciA9IGxvb25nc29uX2dwdV9vZmZzZXQobHN0YXRlLCBsZGV2KTsKKwlyZWdf
dmFsID0gKHBpdGNoICsgMjU1KSAmIH4yNTU7CisJbHM3YV9tbV93cmVnKGxkZXYsIEZCX1NUUklf
UkVHICsgcmVnX29mZnNldCwgcmVnX3ZhbCk7CisKKwlzd2l0Y2ggKGRlcHRoKSB7CisJY2FzZSAx
MiAuLi4gMTY6CisJCWZiX2FkZHIgPSBncHVfYWRkciArIHkgKiBwaXRjaCArIEFMSUdOKHgsIDY0
KSAqIDI7CisJCWJyZWFrOworCWNhc2UgMjQgLi4uIDMyOgorCWRlZmF1bHQ6CisJCWZiX2FkZHIg
PSBncHVfYWRkciArIHkgKiBwaXRjaCArIEFMSUdOKHgsIDY0KSAqIDQ7CisJCWJyZWFrOworCX0K
KworCWxzN2FfbW1fd3JlZyhsZGV2LCBGQl9BRERSMF9SRUcgKyByZWdfb2Zmc2V0LCBmYl9hZGRy
KTsKKwlsczdhX21tX3dyZWcobGRldiwgRkJfQUREUjFfUkVHICsgcmVnX29mZnNldCwgZmJfYWRk
cik7CisJcmVnX3ZhbCA9IGxjcnRjLT5jZmdfcmVnIHwgQ0ZHX0VOQUJMRTsKKwlsczdhX21tX3dy
ZWcobGRldiwgRkJfQ0ZHX1JFRyArIHJlZ19vZmZzZXQsIHJlZ192YWwpOworfQorCitzdGF0aWMg
Y29uc3QgdWludDMyX3QgbG9vbmdzb25fZm9ybWF0c1tdID0geworCURSTV9GT1JNQVRfUkdCNTY1
LAorCURSTV9GT1JNQVRfUkdCODg4LAorCURSTV9GT1JNQVRfWFJHQjg4ODgsCisJRFJNX0ZPUk1B
VF9BUkdCODg4OCwKK307CisKK3N0YXRpYyBjb25zdCB1aW50NjRfdCBsb29uZ3Nvbl9mb3JtYXRf
bW9kaWZpZXJzW10gPSB7IERSTV9GT1JNQVRfTU9EX0xJTkVBUiwKKwkJCQkJCSAgICAgIERSTV9G
T1JNQVRfTU9EX0lOVkFMSUQgfTsKKworc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fcGxhbmVfZnVu
Y3MgbG9vbmdzb25fcGxhbmVfZnVuY3MgPSB7CisJLmF0b21pY19kdXBsaWNhdGVfc3RhdGUgPSBk
cm1fYXRvbWljX2hlbHBlcl9wbGFuZV9kdXBsaWNhdGVfc3RhdGUsCisJLmF0b21pY19kZXN0cm95
X3N0YXRlID0gZHJtX2F0b21pY19oZWxwZXJfcGxhbmVfZGVzdHJveV9zdGF0ZSwKKwkuZGlzYWJs
ZV9wbGFuZSA9IGRybV9hdG9taWNfaGVscGVyX2Rpc2FibGVfcGxhbmUsCisJLnJlc2V0ID0gZHJt
X2F0b21pY19oZWxwZXJfcGxhbmVfcmVzZXQsCisJLnVwZGF0ZV9wbGFuZSA9IGRybV9hdG9taWNf
aGVscGVyX3VwZGF0ZV9wbGFuZSwKK307CisKK3N0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX3BsYW5l
X2hlbHBlcl9mdW5jcyBsb29uZ3Nvbl9wbGFuZV9oZWxwZXJfZnVuY3MgPSB7CisJLnByZXBhcmVf
ZmIJPSBkcm1fZ2VtX3ZyYW1fcGxhbmVfaGVscGVyX3ByZXBhcmVfZmIsCisJLmNsZWFudXBfZmIJ
PSBkcm1fZ2VtX3ZyYW1fcGxhbmVfaGVscGVyX2NsZWFudXBfZmIsCisJLmF0b21pY191cGRhdGUg
PSBsb29uZ3Nvbl9wbGFuZV9hdG9taWNfdXBkYXRlLAorfTsKKworc3RydWN0IGxvb25nc29uX3Bs
YW5lICpsb29uZ3Nvbl9wbGFuZV9pbml0KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIGludCBpbmRl
eCkKK3sKKwlzdHJ1Y3QgbG9vbmdzb25fcGxhbmUgKnBsYW5lOworCisJcGxhbmUgPSBkcm1tX3Vu
aXZlcnNhbF9wbGFuZV9hbGxvYyhkZXYsIHN0cnVjdCBsb29uZ3Nvbl9wbGFuZSwgYmFzZSwKKwkJ
CQkJICAgQklUKGluZGV4KSwgJmxvb25nc29uX3BsYW5lX2Z1bmNzLAorCQkJCQkgICBsb29uZ3Nv
bl9mb3JtYXRzLAorCQkJCQkgICBBUlJBWV9TSVpFKGxvb25nc29uX2Zvcm1hdHMpLAorCQkJCQkg
ICBsb29uZ3Nvbl9mb3JtYXRfbW9kaWZpZXJzLAorCQkJCQkgICBEUk1fUExBTkVfVFlQRV9QUklN
QVJZLCBOVUxMKTsKKwlpZiAoSVNfRVJSKHBsYW5lKSkgeworCQlkcm1fZXJyKGRldiwgImZhaWxl
ZCB0byBhbGxvY2F0ZSBhbmQgaW5pdGlhbGl6ZSBwbGFuZVxuIik7CisJCXJldHVybiBwbGFuZTsK
Kwl9CisKKwlkcm1fcGxhbmVfaGVscGVyX2FkZCgmcGxhbmUtPmJhc2UsICZsb29uZ3Nvbl9wbGFu
ZV9oZWxwZXJfZnVuY3MpOworCisJcmV0dXJuIHBsYW5lOworfQotLSAKMi4yNS4x
------=_Part_23471_764077189.1667274123898
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: base64

PGh0bWw+CjxoZWFkPgogICAgPG1ldGEgaHR0cC1lcXVpdj0iQ29udGVudC1UeXBlIiBjb250ZW50
PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9VVRGLTgiPgo8L2hlYWQ+Cjxib2R5Pgo8c3R5bGU+CiAgICBm
b250ewogICAgICAgIGxpbmUtaGVpZ2h0OiAxLjY7CiAgICB9CiAgICB1bCxvbHsKICAgICAgICBw
YWRkaW5nLWxlZnQ6IDIwcHg7CiAgICAgICAgbGlzdC1zdHlsZS1wb3NpdGlvbjogaW5zaWRlOwog
ICAgfQo8L3N0eWxlPgo8ZGl2IHN0eWxlPSJmb250LWZhbWlseTpIZWx2ZXRpY2EsSGVsdmV0aWNh
LOW+rui9r+mbhem7kSwg5a6L5L2TOyBsaW5lLWhlaWdodDoxLjY7Ij4KICAgIDxwcmUgd3JhcD0i
c29mdCIgc3R5bGU9ImNhcmV0LWNvbG9yOiByZ2IoMCwgMCwgMCk7IGNvbG9yOiByZ2IoMCwgMCwg
MCk7IG92ZXJmbG93LXdyYXA6IGJyZWFrLXdvcmQ7Ij5Gcm9tOiBDaGVueWFuZyBMaSAmbHQ7bGlj
aGVueWFuZ19sc0AxNjMuY29tJmd0OwoKVGhpcyBwYXRjaCBhZGRzIGFuIGluaXRpYWwgRFJNIGRy
aXZlciBmb3IgdGhlIExvb25nc29uIExTN0ExMDAwCmJyaWRnZSBjaGlwKExTN0EpLiBUaGUgTG9v
bmdzb24gN0ExMDAwIGJyaWRnZSBjaGlwIGlzIExvb25nc29u4oCZcwpmaXJzdCBkZWRpY2F0ZWQg
Y2hpcHNldCBwcm9kdWN0LCBwcm92aWRpbmcgbm9ydGgtc291dGggYnJpZGdlIGZ1bmN0aW9uYWxp
dHkKZm9yIExvb25nc29uIHByb2Nlc3NvcnMuIFRoZSBicmlkZ2UgY2hpcCBpcyBjb25uZWN0ZWQg
dG8gdGhlIExvb25nc29uClNlcmllcyAzIHByb2Nlc3NvciB2aWEgdGhlIEhUIGhpZ2gtc3BlZWQg
YnVzIGludGVyZmFjZSBhbmQgaGFzIGFuCmludGVncmF0ZWQgRGlzcGxheUNvbnRyb2xsZXIsIERE
UjMgU0RSQU0gbWVtb3J5IGNvbnRyb2xsZXIsCmFuZCBQQ0lFLCBTQVRBLCBVU0IsIEdNQUMsIEky
QywgVUFSVCwgR1BJTywgYW5kIG90aGVyIGludGVyZmFjZXMuClRoZSBkaXNwbGF5IGNvbnRyb2xs
ZXIgc3VwcG9ydHMgZHVhbCBEVk8gc2lnbmFsIG91dHB1dCxkdWFsIHJvdXRhYmlsaXR5CmZyYW1l
IGJ1ZmZlci4gRWFjaCBkaXNwbGF5IHN1cHBvcnRzIHVwIHRvIDE5MjB4MTA4MEA2MEh6LCBSR0I4
ODggYW5kClJHQjU2NSBjb2xvciBkZXB0aHMuIEFuZCBzdXBwb3J0cyBoYXJkd2FyZSBjdXJzb3Is
IGdhbW1hIGNvcnJlY3Rpb24sCmludGVycnVwdCwgc29mdCByZXNldCwgZXRjLiBUaGUgdmlkZW8g
bWVtb3J5IGludGVyZmFjZSB1c2VzIDE2LWJpdCBERFIzClNEUkFNIGludGVyZmFjZSB3aXRoIGEg
bWF4aW11bSBkYXRhIHJhdGUgb2YgMTMzMyBNYnBzLgpBdCBwcmVzZW50LCBEQyBkZXZpY2UgZGV0
ZWN0aW9uIGFuZCBEUk0gZHJpdmVyIHJlZ2lzdHJhdGlvbiBhcmUKY29tcGxldGVkLCB0aGUgY3J0
Yy9wbGFuZS9lbmNvZGVyL2Nvbm5lY3RvciBvYmplY3RzIGhhcyBiZWVuCmltcGxlbWVudGVkLgpP
biBMb29uZ3NvbiAzQTQwMDAgQ1BVIGFuZCA3QTEwMDAgc3lzdGVtLCB3ZSBoYXZlIGFjaGlldmVk
IHRoZSB1c2UKb2YgZHVhbCBzY3JlZW4sIGFuZCBzdXBwb3J0IGR1YWwgc2NyZWVuIGNsb25lIG1v
ZGUgYW5kIGV4cGFuc2lvbgptb2RlLgpMaW5rOiA8YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iaHR0
cHM6Ly9sb29uZ3Nvbi5naXRodWIuaW8vTG9vbmdBcmNoLURvY3VtZW50YXRpb24vTG9vbmdzb24t
N0ExMDAwLXVzZXJtYW51YWwtRU4uaHRtbCNkaXNwbGF5LWNvbnRyb2xsZXIiPmh0dHBzOi8vbG9v
bmdzb24uZ2l0aHViLmlvL0xvb25nQXJjaC1Eb2N1bWVudGF0aW9uL0xvb25nc29uLTdBMTAwMC11
c2VybWFudWFsLUVOLmh0bWwjZGlzcGxheS1jb250cm9sbGVyPC9hPgoKdjEzOgotIERlbGV0ZSBh
bGxvd19mYl9tb2RpZmllcnMuCgp2MTI6Ci0gVXNlIGRybV9icmlkZ2VfY29ubmVjdG9yIGluIGRy
aXZlci4KCnYxMToKLSBSZW1vdmUgYSBsb3Qgb2YgdXNlbGVzcyBjb2RlLgotIEFkZCBoZWxwIGlu
Zm9ybWF0aW9uLgotIERlbGV0ZSB1bm5lY2Vzc2FyeSBoZWFkZXIgZmlsZXMuCgp2MTA6Ci0gUmVw
bGFjZSB0aGUgZHJtbV8gdmVyc2lvbiBmdW5jdGlvbnMuCi0gUmVwbGFjZSB0aGUgc2ltcGxlX2Vu
Y29kZXIgdmVyc2lvbiBmdW5jdGlvbi4KLSBBbHBoYWJldGl6ZSBmaWxlIG5hbWVzLgoKdjk6Ci0g
T3B0aW1pemUgdGhlIGVycm9yIGhhbmRsaW5nIHByb2Nlc3MuCi0gUmVtb3ZlIHRoZSB1c2VsZXNz
IGZsYWdzIHBhcmFtZXRlci4KLSBGaXggc29tZSBpbmNvcnJlY3QgdXNlIG9mIHZhcmlhYmxlcyBh
bmQgY29uc3RydWN0cy4KCnY4OgotIFVwZGF0ZSB0aGUgYXRvbWljX3VwZGF0ZSBmdW5jdGlvbiBp
bnRlcmZhY2UuCgp2NzoKLSBUaGUgcGl4ZWwgY2xvY2sgaXMgbGltaXRlZCB0byBsZXNzIHRoYW4g
MTczMDAwLgoKdjY6Ci0gUmVtb3ZlIHNwaW5fbG9jayBpbiBtbWlvIHJlZyByZWFkIGFuZCB3cml0
ZS4KLSBUT19VTkNBQyBpcyByZXBsYWMgd2l0aCBpb3JlbWFwLgotIEZpeCBlcnJvciBhcmd1bWVu
dHMgaW4gY3J0Y19hdG9taWNfZW5hYmxlL2Rpc2FibGUvbW9kZV92YWxpZC4KCnY1OgotIENoYW5n
ZSB0aGUgbmFtZSBvZiB0aGUgY2hpcCB0byBMUzdBLgotIENoYW5nZSBtYWdpYyB2YWx1ZSBpbiBj
cnRjIHRvIG1hY3Jvcy4KLSBDb3JyZWN0IG1pc3Rha2VzIHdvcmRzLgotIENoYW5nZSB0aGUgcmVn
aXN0ZXIgb3BlcmF0aW9uIGZ1bmN0aW9uIHByZWZpeCB0byBsczdhLgoKdjQ6Ci0gTW92ZSB0aGUg
bW9kZV92YWxpZCBmdW5jdGlvbiB0byB0aGUgY3J0Yy4KCnYzOgotIE1vdmUgdGhlIG1vZGVfdmFs
aWQgZnVuY3Rpb24gdG8gdGhlIGNvbm5lY3RvciBhbmQgb3B0aW1pemUgaXQuCi0gRml4IG51bV9j
cnRjIGNhbGN1bGF0aW9uIG1ldGhvZC4KCnYyOgotIENvbXBsZXRlIHRoZSBjYXNlIG9mIDMyLWJp
dCBjb2xvciBpbiBDUlRDLgoKU2lnbmVkLW9mZi1ieTogWWkgTGkgJmx0O2xpeWlAbG9vbmdzb24u
Y24mZ3Q7ClNpZ25lZC1vZmYtYnk6IENoZW55YW5nIExpICZsdDtsaWNoZW55YW5nQGxvb25nc29u
LmNuJmd0OwotLS0KIGRyaXZlcnMvZ3B1L2RybS9LY29uZmlnICAgICAgICAgICAgICAgICAgICAg
ICB8ICAgMiArCiBkcml2ZXJzL2dwdS9kcm0vTWFrZWZpbGUgICAgICAgICAgICAgICAgICAgICAg
fCAgIDEgKwogZHJpdmVycy9ncHUvZHJtL2xvb25nc29uL0tjb25maWcgICAgICAgICAgICAgIHwg
IDEzICsKIGRyaXZlcnMvZ3B1L2RybS9sb29uZ3Nvbi9NYWtlZmlsZSAgICAgICAgICAgICB8ICAx
MyArCiBkcml2ZXJzL2dwdS9kcm0vbG9vbmdzb24vbG9vbmdzb25fY29ubmVjdG9yLmMgfCAgMjMg
KysKIGRyaXZlcnMvZ3B1L2RybS9sb29uZ3Nvbi9sb29uZ3Nvbl9jcnRjLmMgICAgICB8IDI0MiAr
KysrKysrKysrKysrKysrCiBkcml2ZXJzL2dwdS9kcm0vbG9vbmdzb24vbG9vbmdzb25fZGV2aWNl
LmMgICAgfCAgMzggKysrCiBkcml2ZXJzL2dwdS9kcm0vbG9vbmdzb24vbG9vbmdzb25fZHJ2LmMg
ICAgICAgfCAyNzMgKysrKysrKysrKysrKysrKysrCiBkcml2ZXJzL2dwdS9kcm0vbG9vbmdzb24v
bG9vbmdzb25fZHJ2LmggICAgICAgfCAxMzAgKysrKysrKysrCiBkcml2ZXJzL2dwdS9kcm0vbG9v
bmdzb24vbG9vbmdzb25fZW5jb2Rlci5jICAgfCAgNTggKysrKwogZHJpdmVycy9ncHUvZHJtL2xv
b25nc29uL2xvb25nc29uX3BsYW5lLmMgICAgIHwgIDk2ICsrKysrKwogMTEgZmlsZXMgY2hhbmdl
ZCwgODg5IGluc2VydGlvbnMoKykKIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0v
bG9vbmdzb24vS2NvbmZpZwogY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS9sb29u
Z3Nvbi9NYWtlZmlsZQogY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS9sb29uZ3Nv
bi9sb29uZ3Nvbl9jb25uZWN0b3IuYwogY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2Ry
bS9sb29uZ3Nvbi9sb29uZ3Nvbl9jcnRjLmMKIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dw
dS9kcm0vbG9vbmdzb24vbG9vbmdzb25fZGV2aWNlLmMKIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2
ZXJzL2dwdS9kcm0vbG9vbmdzb24vbG9vbmdzb25fZHJ2LmMKIGNyZWF0ZSBtb2RlIDEwMDY0NCBk
cml2ZXJzL2dwdS9kcm0vbG9vbmdzb24vbG9vbmdzb25fZHJ2LmgKIGNyZWF0ZSBtb2RlIDEwMDY0
NCBkcml2ZXJzL2dwdS9kcm0vbG9vbmdzb24vbG9vbmdzb25fZW5jb2Rlci5jCiBjcmVhdGUgbW9k
ZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL2xvb25nc29uL2xvb25nc29uX3BsYW5lLmMKCmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vS2NvbmZpZyBiL2RyaXZlcnMvZ3B1L2RybS9LY29uZmln
CmluZGV4IDM0ZjVhMDkyYzk5ZS4uMDMzNWU2MjM3N2Q5IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vS2NvbmZpZworKysgYi9kcml2ZXJzL2dwdS9kcm0vS2NvbmZpZwpAQCAtNDAwLDYgKzQw
MCw4IEBAIHNvdXJjZSAiZHJpdmVycy9ncHUvZHJtL3Zib3h2aWRlby9LY29uZmlnIgogCiBzb3Vy
Y2UgImRyaXZlcnMvZ3B1L2RybS9saW1hL0tjb25maWciCiAKK3NvdXJjZSAiZHJpdmVycy9ncHUv
ZHJtL2xvb25nc29uL0tjb25maWciCisKIHNvdXJjZSAiZHJpdmVycy9ncHUvZHJtL3BhbmZyb3N0
L0tjb25maWciCiAKIHNvdXJjZSAiZHJpdmVycy9ncHUvZHJtL2FzcGVlZC9LY29uZmlnIgpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL01ha2VmaWxlIGIvZHJpdmVycy9ncHUvZHJtL01ha2Vm
aWxlCmluZGV4IDBiMjgzZTQ2ZjI4Yi4uYTc3NWY1MzZiM2NiIDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vTWFrZWZpbGUKKysrIGIvZHJpdmVycy9ncHUvZHJtL01ha2VmaWxlCkBAIC0xMzks
NiArMTM5LDcgQEAgb2JqLSQoQ09ORklHX0RSTV9UVkUyMDApICs9IHR2ZTIwMC8KIG9iai0kKENP
TkZJR19EUk1fWEVOKSArPSB4ZW4vCiBvYmotJChDT05GSUdfRFJNX1ZCT1hWSURFTykgKz0gdmJv
eHZpZGVvLwogb2JqLSQoQ09ORklHX0RSTV9MSU1BKSAgKz0gbGltYS8KK29iai0kKENPTkZJR19E
Uk1fTE9PTkdTT04pICs9IGxvb25nc29uLwogb2JqLSQoQ09ORklHX0RSTV9QQU5GUk9TVCkgKz0g
cGFuZnJvc3QvCiBvYmotJChDT05GSUdfRFJNX0FTUEVFRF9HRlgpICs9IGFzcGVlZC8KIG9iai0k
KENPTkZJR19EUk1fTUNERSkgKz0gbWNkZS8KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9s
b29uZ3Nvbi9LY29uZmlnIGIvZHJpdmVycy9ncHUvZHJtL2xvb25nc29uL0tjb25maWcKbmV3IGZp
bGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAwLi4yNDg0ODI0ZmI1MGIKLS0tIC9kZXYv
bnVsbAorKysgYi9kcml2ZXJzL2dwdS9kcm0vbG9vbmdzb24vS2NvbmZpZwpAQCAtMCwwICsxLDEz
IEBACisjIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wLW9ubHkKKworY29uZmlnIERS
TV9MT09OR1NPTgorCXRyaXN0YXRlICJEUk0gc3VwcG9ydCBmb3IgTFM3QSBicmlkZ2UgY2hpcHNl
dCIKKwlkZXBlbmRzIG9uIERSTSAmYW1wOyZhbXA7IFBDSQorCWRlcGVuZHMgb24gQ1BVX0xPT05H
U09ONjQgfHwgQ09NUElMRV9URVNUCisJc2VsZWN0IERSTV9LTVNfSEVMUEVSCisJc2VsZWN0IERS
TV9WUkFNX0hFTFBFUgorCWhlbHAKKwkgIFRoZSBsb29uZ3NvbiA3QSBicmlkZ2UgY2hpcCAoTFM3
QSkgaXMgYSBzcGVjaWFsIGNoaXBzZXQgZm9yCisJICBsb29uZ3NvbiBDUFUuIExTN0EgaW50ZXJu
YWwgaW50ZWdyYXRlZCBkaXNwbGF5IGNvbnRyb2xsZXJzLAorCSAgc3VwcG9ydCB0d28gZGlzcGxh
eSBjaGFubmVscy4KKwkgIElmIGNvbXBpbGVkIGFzIGEgbW9kdWxlIGl0IHdpbGwgYmUgY2FsbGVk
IGxvb25nc29uLgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2xvb25nc29uL01ha2VmaWxl
IGIvZHJpdmVycy9ncHUvZHJtL2xvb25nc29uL01ha2VmaWxlCm5ldyBmaWxlIG1vZGUgMTAwNjQ0
CmluZGV4IDAwMDAwMDAwMDAwMC4uNTM0YTY0MDQ3ZmI2Ci0tLSAvZGV2L251bGwKKysrIGIvZHJp
dmVycy9ncHUvZHJtL2xvb25nc29uL01ha2VmaWxlCkBAIC0wLDAgKzEsMTMgQEAKKyMgU1BEWC1M
aWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb25seQorIworIyBNYWtlZmlsZSBmb3IgbG9vbmdz
b24gZHJtIGRyaXZlcnMuCisjIFRoaXMgZHJpdmVyIHByb3ZpZGVzIHN1cHBvcnQgZm9yIHRoZQor
IyBEaXJlY3QgUmVuZGVyaW5nIEluZnJhc3RydWN0dXJlIChEUkkpCisKK2xvb25nc29uLXkgOj0g
bG9vbmdzb25fY29ubmVjdG9yLm8gXAorCWxvb25nc29uX2NydGMubyBcCisJbG9vbmdzb25fZGV2
aWNlLm8gXAorCWxvb25nc29uX2Rydi5vIFwKKwlsb29uZ3Nvbl9lbmNvZGVyLm8gXAorCWxvb25n
c29uX3BsYW5lLm8KK29iai0kKENPTkZJR19EUk1fTE9PTkdTT04pICs9IGxvb25nc29uLm8KZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9sb29uZ3Nvbi9sb29uZ3Nvbl9jb25uZWN0b3IuYyBi
L2RyaXZlcnMvZ3B1L2RybS9sb29uZ3Nvbi9sb29uZ3Nvbl9jb25uZWN0b3IuYwpuZXcgZmlsZSBt
b2RlIDEwMDY0NAppbmRleCAwMDAwMDAwMDAwMDAuLjI5M2NlYTdkMjY3NQotLS0gL2Rldi9udWxs
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9sb29uZ3Nvbi9sb29uZ3Nvbl9jb25uZWN0b3IuYwpAQCAt
MCwwICsxLDIzIEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vci1sYXRl
cgorLyogQ29weXJpZ2h0IChDKSAyMDIyIExvb25nc29uIEluYy4gKi8KKworI2luY2x1ZGUgJmx0
O2RybS9kcm1fcHJvYmVfaGVscGVyLmgmZ3Q7CisjaW5jbHVkZSAmbHQ7ZHJtL2RybV9icmlkZ2Vf
Y29ubmVjdG9yLmgmZ3Q7CisKKyNpbmNsdWRlICJsb29uZ3Nvbl9kcnYuaCIKKworaW50IGxvb25n
c29uX2JyaWRnZV9jb25uZWN0b3JfaW5pdChzdHJ1Y3QgbG9vbmdzb25fZGV2aWNlICpsZGV2LCBp
bnQgaW5kZXgpCit7CisJc3RydWN0IGRybV9kZXZpY2UgKmRldiA9ICZhbXA7bGRldi0mZ3Q7ZGV2
OworCXN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3I7CisJc3RydWN0IGRybV9lbmNvZGVy
ICplbmNvZGVyID0gJmFtcDtsZGV2LSZndDttb2RlX2luZm9baW5kZXhdLmVuY29kZXItJmd0O2Jh
c2U7CisKKwljb25uZWN0b3IgPSBkcm1fYnJpZGdlX2Nvbm5lY3Rvcl9pbml0KGRldiwgZW5jb2Rl
cik7CisJaWYgKElTX0VSUihjb25uZWN0b3IpKSB7CisJCWRldl9lcnIoZGV2LSZndDtkZXYsICJV
bmFibGUgdG8gY3JlYXRlIGJyaWRnZSBjb25uZWN0b3JcbiIpOworCQlyZXR1cm4gUFRSX0VSUihj
b25uZWN0b3IpOworCX0KKwlkcm1fY29ubmVjdG9yX2F0dGFjaF9lbmNvZGVyKGNvbm5lY3Rvciwg
ZW5jb2Rlcik7CisKKwlyZXR1cm4gMDsKK30KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9s
b29uZ3Nvbi9sb29uZ3Nvbl9jcnRjLmMgYi9kcml2ZXJzL2dwdS9kcm0vbG9vbmdzb24vbG9vbmdz
b25fY3J0Yy5jCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAwMC4uYTk3MzVm
YmIxYzJlCi0tLSAvZGV2L251bGwKKysrIGIvZHJpdmVycy9ncHUvZHJtL2xvb25nc29uL2xvb25n
c29uX2NydGMuYwpAQCAtMCwwICsxLDI0MiBAQAorLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6
IEdQTC0yLjAtb3ItbGF0ZXIKKy8qIENvcHlyaWdodCAoQykgMjAyMiBMb29uZ3NvbiBJbmMuICov
CisKKyNpbmNsdWRlICZsdDtkcm0vZHJtX2ZvdXJjYy5oJmd0OworI2luY2x1ZGUgJmx0O2RybS9k
cm1fZnJhbWVidWZmZXIuaCZndDsKKworI2luY2x1ZGUgImxvb25nc29uX2Rydi5oIgorCitzdGF0
aWMgdm9pZCB0cnlfZWFjaF9sb29wYyh1MzIgY2xrLCB1MzIgcHN0ZGl2LCB1MzIgZnJlZmMsCisJ
CQkgICBzdHJ1Y3QgcGl4X3BsbCAqcGxsX2NvbmZpZykKK3sKKwl1MzIgbG9vcGM7CisJdTMyIGNs
a19vdXQ7CisJdTMyIHByZWNpc2lvbjsKKwl1MzIgbWluID0gMTAwMDsKKwl1MzIgYmFzZV9jbGsg
PSAxMDAwMDBMOworCisJZm9yIChsb29wYyA9IExPT1BDX01JTjsgbG9vcGMgJmx0OyBMT09QQ19N
QVg7IGxvb3BjKyspIHsKKwkJaWYgKChsb29wYyAmbHQ7IEZSRV9SRUZfTUlOICogZnJlZmMpIHx8
CisJCSAgICAobG9vcGMgJmd0OyBGUkVfUkVGX01BWCAqIGZyZWZjKSkKKwkJCWNvbnRpbnVlOwor
CisJCWNsa19vdXQgPSBiYXNlX2NsayAqIGxvb3BjIC8gZnJlZmM7CisJCXByZWNpc2lvbiA9IChj
bGsgJmd0OyBjbGtfb3V0KSA/IChjbGsgLSBjbGtfb3V0KSA6IChjbGtfb3V0IC0gY2xrKTsKKwkJ
aWYgKHByZWNpc2lvbiAmbHQ7IG1pbikgeworCQkJcGxsX2NvbmZpZy0mZ3Q7bDJfZGl2ID0gcHN0
ZGl2OworCQkJcGxsX2NvbmZpZy0mZ3Q7bDFfbG9vcGMgPSBsb29wYzsKKwkJCXBsbF9jb25maWct
Jmd0O2wxX2ZyZWZjID0gZnJlZmM7CisJCX0KKwl9Cit9CisKK3N0YXRpYyB2b2lkIGNhbF9mcmVx
KHUzMiBwaXhjbG9jaywgc3RydWN0IHBpeF9wbGwgKnBsbF9jb25maWcpCit7CisJdTMyIHBzdGRp
djsKKwl1MzIgZnJlZmM7CisJdTMyIGNsazsKKworCWZvciAocHN0ZGl2ID0gMTsgcHN0ZGl2ICZs
dDsgUFNUX0RJVl9NQVg7IHBzdGRpdisrKSB7CisJCWNsayA9IHBpeGNsb2NrICogcHN0ZGl2Owor
CQlmb3IgKGZyZWZjID0gRElWX1JFRl9NSU47IGZyZWZjICZsdDs9IERJVl9SRUZfTUFYOyBmcmVm
YysrKQorCQkJdHJ5X2VhY2hfbG9vcGMoY2xrLCBwc3RkaXYsIGZyZWZjLCBwbGxfY29uZmlnKTsK
Kwl9Cit9CisKK3N0YXRpYyB2b2lkIGNvbmZpZ19wbGwoc3RydWN0IGxvb25nc29uX2RldmljZSAq
bGRldiwgdW5zaWduZWQgbG9uZyBwbGxfYmFzZSwKKwkJICAgICAgIHN0cnVjdCBwaXhfcGxsICpw
bGxfY2ZnKQoreworCXUzMiB2YWw7CisJdTMyIGNvdW50ID0gMDsKKworCS8qIGNsZWFyIHNlbF9w
bGxfb3V0MCAqLworCXZhbCA9IGxzN2FfaW9fcnJlZyhsZGV2LCBwbGxfYmFzZSArIDB4NCk7CisJ
dmFsICZhbXA7PSB+KDFVTCAmbHQ7Jmx0OyA4KTsKKwlsczdhX2lvX3dyZWcobGRldiwgcGxsX2Jh
c2UgKyAweDQsIHZhbCk7CisKKwkvKiBzZXQgcGxsX3BkICovCisJdmFsID0gbHM3YV9pb19ycmVn
KGxkZXYsIHBsbF9iYXNlICsgMHg0KTsKKwl2YWwgfD0gKDFVTCAmbHQ7Jmx0OyAxMyk7CisJbHM3
YV9pb193cmVnKGxkZXYsIHBsbF9iYXNlICsgMHg0LCB2YWwpOworCisJLyogY2xlYXIgc2V0X3Bs
bF9wYXJhbSAqLworCXZhbCA9IGxzN2FfaW9fcnJlZyhsZGV2LCBwbGxfYmFzZSArIDB4NCk7CisJ
dmFsICZhbXA7PSB+KDFVTCAmbHQ7Jmx0OyAxMSk7CisJbHM3YV9pb193cmVnKGxkZXYsIHBsbF9i
YXNlICsgMHg0LCB2YWwpOworCisJLyogY2xlYXIgb2xkIHZhbHVlICZhbXA7IGNvbmZpZyBuZXcg
dmFsdWUgKi8KKwl2YWwgPSBsczdhX2lvX3JyZWcobGRldiwgcGxsX2Jhc2UgKyAweDQpOworCXZh
bCAmYW1wOz0gfigweDdmVUwgJmx0OyZsdDsgMCk7CisJdmFsIHw9IChwbGxfY2ZnLSZndDtsMV9m
cmVmYyAmbHQ7Jmx0OyAwKTsgLyogcmVmYyAqLworCWxzN2FfaW9fd3JlZyhsZGV2LCBwbGxfYmFz
ZSArIDB4NCwgdmFsKTsKKwl2YWwgPSBsczdhX2lvX3JyZWcobGRldiwgcGxsX2Jhc2UgKyAweDAp
OworCXZhbCAmYW1wOz0gfigweDdmVUwgJmx0OyZsdDsgMCk7CisJdmFsIHw9IChwbGxfY2ZnLSZn
dDtsMl9kaXYgJmx0OyZsdDsgMCk7IC8qIGRpdiAqLworCXZhbCAmYW1wOz0gfigweDFmZlVMICZs
dDsmbHQ7IDIxKTsKKwl2YWwgfD0gKHBsbF9jZmctJmd0O2wxX2xvb3BjICZsdDsmbHQ7IDIxKTsg
LyogbG9vcGMgKi8KKwlsczdhX2lvX3dyZWcobGRldiwgcGxsX2Jhc2UgKyAweDAsIHZhbCk7CisK
KwkvKiBzZXQgc2V0X3BsbF9wYXJhbSAqLworCXZhbCA9IGxzN2FfaW9fcnJlZyhsZGV2LCBwbGxf
YmFzZSArIDB4NCk7CisJdmFsIHw9ICgxVUwgJmx0OyZsdDsgMTEpOworCWxzN2FfaW9fd3JlZyhs
ZGV2LCBwbGxfYmFzZSArIDB4NCwgdmFsKTsKKwkvKiBjbGVhciBwbGxfcGQgKi8KKwl2YWwgPSBs
czdhX2lvX3JyZWcobGRldiwgcGxsX2Jhc2UgKyAweDQpOworCXZhbCAmYW1wOz0gfigxVUwgJmx0
OyZsdDsgMTMpOworCWxzN2FfaW9fd3JlZyhsZGV2LCBwbGxfYmFzZSArIDB4NCwgdmFsKTsKKwor
CXdoaWxlICghKGxzN2FfaW9fcnJlZyhsZGV2LCBwbGxfYmFzZSArIDB4NCkgJmFtcDsgMHg4MCkp
IHsKKwkJY3B1X3JlbGF4KCk7CisJCWNvdW50Kys7CisJCWlmIChjb3VudCAmZ3Q7PSAxMDAwKSB7
CisJCQlkcm1fZXJyKCZhbXA7bGRldi0mZ3Q7ZGV2LCAibG9vbmdzb24tN0EgUExMIGxvY2sgZmFp
bGVkXG4iKTsKKwkJCWJyZWFrOworCQl9CisJfQorCisJdmFsID0gbHM3YV9pb19ycmVnKGxkZXYs
IHBsbF9iYXNlICsgMHg0KTsKKwl2YWwgfD0gKDFVTCAmbHQ7Jmx0OyA4KTsKKwlsczdhX2lvX3dy
ZWcobGRldiwgcGxsX2Jhc2UgKyAweDQsIHZhbCk7Cit9CisKK3N0YXRpYyB2b2lkIGxvb25nc29u
X2NydGNfbW9kZV9zZXRfbm9mYihzdHJ1Y3QgZHJtX2NydGMgKmNydGMpCit7CisJc3RydWN0IGRy
bV9kZXZpY2UgKmRldiA9IGNydGMtJmd0O2RldjsKKwlzdHJ1Y3QgbG9vbmdzb25fZGV2aWNlICps
ZGV2ID0gdG9fbG9vbmdzb25fZGV2aWNlKGRldik7CisJc3RydWN0IGxvb25nc29uX2NydGMgKmxj
cnRjID0gdG9fbG9vbmdzb25fY3J0YyhjcnRjKTsKKwlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAq
bW9kZSA9ICZhbXA7Y3J0Yy0mZ3Q7c3RhdGUtJmd0O2FkanVzdGVkX21vZGU7CisJc3RydWN0IGRy
bV9mcmFtZWJ1ZmZlciAqZmIgPSBjcnRjLSZndDtwcmltYXJ5LSZndDtzdGF0ZS0mZ3Q7ZmI7CisJ
c3RydWN0IHBpeF9wbGwgcGxsX2NmZzsKKwl1MzIgaHIsIGhzcywgaHNlLCBoZmw7CisJdTMyIHZy
LCB2c3MsIHZzZSwgdmZsOworCXUzMiBwaXhfZnJlcTsKKwl1MzIgcmVnX29mZnNldDsKKworCWhy
ID0gbW9kZS0mZ3Q7aGRpc3BsYXk7CisJaHNzID0gbW9kZS0mZ3Q7aHN5bmNfc3RhcnQ7CisJaHNl
ID0gbW9kZS0mZ3Q7aHN5bmNfZW5kOworCWhmbCA9IG1vZGUtJmd0O2h0b3RhbDsKKworCXZyID0g
bW9kZS0mZ3Q7dmRpc3BsYXk7CisJdnNzID0gbW9kZS0mZ3Q7dnN5bmNfc3RhcnQ7CisJdnNlID0g
bW9kZS0mZ3Q7dnN5bmNfZW5kOworCXZmbCA9IG1vZGUtJmd0O3Z0b3RhbDsKKworCXBpeF9mcmVx
ID0gbW9kZS0mZ3Q7Y2xvY2s7CisJcmVnX29mZnNldCA9IGxjcnRjLSZndDtyZWdfb2Zmc2V0Owor
CisJbHM3YV9tbV93cmVnKGxkZXYsIEZCX0RJVENGR19SRUcgKyByZWdfb2Zmc2V0LCAwKTsKKwls
czdhX21tX3dyZWcobGRldiwgRkJfRElUVEFCX0xPX1JFRyArIHJlZ19vZmZzZXQsIDApOworCWxz
N2FfbW1fd3JlZyhsZGV2LCBGQl9ESVRUQUJfSElfUkVHICsgcmVnX29mZnNldCwgMCk7CisJbHM3
YV9tbV93cmVnKGxkZXYsIEZCX1BBTkNGR19SRUcgKyByZWdfb2Zmc2V0LCBGQl9QQU5DRkdfREVG
KTsKKwlsczdhX21tX3dyZWcobGRldiwgRkJfUEFOVElNX1JFRyArIHJlZ19vZmZzZXQsIDApOwor
CisJbHM3YV9tbV93cmVnKGxkZXYsIEZCX0hESVNQTEFZX1JFRyArIHJlZ19vZmZzZXQsIChoZmwg
Jmx0OyZsdDsgMTYpIHwgaHIpOworCWxzN2FfbW1fd3JlZyhsZGV2LCBGQl9IU1lOQ19SRUcgKyBy
ZWdfb2Zmc2V0LAorCQkgICAgIEZCX0hTWU5DX1BVTFNFIHwgKGhzZSAmbHQ7Jmx0OyAxNikgfCBo
c3MpOworCisJbHM3YV9tbV93cmVnKGxkZXYsIEZCX1ZESVNQTEFZX1JFRyArIHJlZ19vZmZzZXQs
ICh2ZmwgJmx0OyZsdDsgMTYpIHwgdnIpOworCWxzN2FfbW1fd3JlZyhsZGV2LCBGQl9WU1lOQ19S
RUcgKyByZWdfb2Zmc2V0LAorCQkgICAgIEZCX1ZTWU5DX1BVTFNFIHwgKHZzZSAmbHQ7Jmx0OyAx
NikgfCB2c3MpOworCisJc3dpdGNoIChmYi0mZ3Q7Zm9ybWF0LSZndDtmb3JtYXQpIHsKKwljYXNl
IERSTV9GT1JNQVRfUkdCNTY1OgorCQlsY3J0Yy0mZ3Q7Y2ZnX3JlZyB8PSAweDM7CisJCWJyZWFr
OworCWNhc2UgRFJNX0ZPUk1BVF9SR0I4ODg6CisJY2FzZSBEUk1fRk9STUFUX1hSR0I4ODg4Ogor
CWNhc2UgRFJNX0ZPUk1BVF9BUkdCODg4ODoKKwlkZWZhdWx0OgorCQlsY3J0Yy0mZ3Q7Y2ZnX3Jl
ZyB8PSAweDQ7CisJCWJyZWFrOworCX0KKworCWxzN2FfbW1fd3JlZyhsZGV2LCBGQl9DRkdfUkVH
ICsgcmVnX29mZnNldCwgbGNydGMtJmd0O2NmZ19yZWcpOworCisJY2FsX2ZyZXEocGl4X2ZyZXEs
ICZhbXA7cGxsX2NmZyk7CisJY29uZmlnX3BsbChsZGV2LCBMUzdBX1BJWF9QTEwgKyByZWdfb2Zm
c2V0LCAmYW1wO3BsbF9jZmcpOworfQorCitzdGF0aWMgdm9pZCBsb29uZ3Nvbl9jcnRjX2F0b21p
Y19lbmFibGUoc3RydWN0IGRybV9jcnRjICpjcnRjLAorCQkJCQlzdHJ1Y3QgZHJtX2F0b21pY19z
dGF0ZSAqb2xkX3N0YXRlKQoreworCXN0cnVjdCBkcm1fZGV2aWNlICpkZXYgPSBjcnRjLSZndDtk
ZXY7CisJc3RydWN0IGxvb25nc29uX2RldmljZSAqbGRldiA9IHRvX2xvb25nc29uX2RldmljZShk
ZXYpOworCXN0cnVjdCBsb29uZ3Nvbl9jcnRjICpsY3J0YyA9IHRvX2xvb25nc29uX2NydGMoY3J0
Yyk7CisJdTMyIHJlZ19vZmZzZXQgPSBsY3J0Yy0mZ3Q7cmVnX29mZnNldDsKKworCWxjcnRjLSZn
dDtjZmdfcmVnIHw9IENGR19FTkFCTEU7CisJbHM3YV9tbV93cmVnKGxkZXYsIEZCX0NGR19SRUcg
KyByZWdfb2Zmc2V0LCBsY3J0Yy0mZ3Q7Y2ZnX3JlZyk7Cit9CisKK3N0YXRpYyB2b2lkIGxvb25n
c29uX2NydGNfYXRvbWljX2Rpc2FibGUoc3RydWN0IGRybV9jcnRjICpjcnRjLAorCQkJCQkgc3Ry
dWN0IGRybV9hdG9taWNfc3RhdGUgKm9sZF9zdGF0ZSkKK3sKKwlzdHJ1Y3QgZHJtX2RldmljZSAq
ZGV2ID0gY3J0Yy0mZ3Q7ZGV2OworCXN0cnVjdCBsb29uZ3Nvbl9kZXZpY2UgKmxkZXYgPSB0b19s
b29uZ3Nvbl9kZXZpY2UoZGV2KTsKKwlzdHJ1Y3QgbG9vbmdzb25fY3J0YyAqbGNydGMgPSB0b19s
b29uZ3Nvbl9jcnRjKGNydGMpOworCXUzMiByZWdfb2Zmc2V0ID0gbGNydGMtJmd0O3JlZ19vZmZz
ZXQ7CisKKwlsY3J0Yy0mZ3Q7Y2ZnX3JlZyAmYW1wOz0gfkNGR19FTkFCTEU7CisJbHM3YV9tbV93
cmVnKGxkZXYsIEZCX0NGR19SRUcgKyByZWdfb2Zmc2V0LCBsY3J0Yy0mZ3Q7Y2ZnX3JlZyk7Cit9
CisKK3N0YXRpYyBlbnVtIGRybV9tb2RlX3N0YXR1cyBsb29uZ3Nvbl9tb2RlX3ZhbGlkKHN0cnVj
dCBkcm1fY3J0YyAqY3J0YywKKwkJCQkJCWNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICpt
b2RlKQoreworCWlmIChtb2RlLSZndDtoZGlzcGxheSAmZ3Q7IDE5MjApCisJCXJldHVybiBNT0RF
X0JBRDsKKwlpZiAobW9kZS0mZ3Q7dmRpc3BsYXkgJmd0OyAxMDgwKQorCQlyZXR1cm4gTU9ERV9C
QUQ7CisJaWYgKG1vZGUtJmd0O2hkaXNwbGF5ICUgNjQpCisJCXJldHVybiBNT0RFX0JBRDsKKwlp
ZiAobW9kZS0mZ3Q7Y2xvY2sgJmd0Oz0gMTczMDAwKQorCQlyZXR1cm4gTU9ERV9DTE9DS19ISUdI
OworCisJcmV0dXJuIE1PREVfT0s7Cit9CisKK3N0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2NydGNf
aGVscGVyX2Z1bmNzIGxvb25nc29uX2NydGNfaGVscGVyX2Z1bmNzID0geworCS5tb2RlX3ZhbGlk
ID0gbG9vbmdzb25fbW9kZV92YWxpZCwKKwkuYXRvbWljX2VuYWJsZSA9IGxvb25nc29uX2NydGNf
YXRvbWljX2VuYWJsZSwKKwkuYXRvbWljX2Rpc2FibGUgPSBsb29uZ3Nvbl9jcnRjX2F0b21pY19k
aXNhYmxlLAorCS5tb2RlX3NldF9ub2ZiID0gbG9vbmdzb25fY3J0Y19tb2RlX3NldF9ub2ZiLAor
fTsKKworc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fY3J0Y19mdW5jcyBsb29uZ3Nvbl9jcnRjX2Z1
bmNzID0geworCS5zZXRfY29uZmlnID0gZHJtX2F0b21pY19oZWxwZXJfc2V0X2NvbmZpZywKKwku
cGFnZV9mbGlwID0gZHJtX2F0b21pY19oZWxwZXJfcGFnZV9mbGlwLAorCS5yZXNldCA9IGRybV9h
dG9taWNfaGVscGVyX2NydGNfcmVzZXQsCisJLmF0b21pY19kdXBsaWNhdGVfc3RhdGUgPSBkcm1f
YXRvbWljX2hlbHBlcl9jcnRjX2R1cGxpY2F0ZV9zdGF0ZSwKKwkuYXRvbWljX2Rlc3Ryb3lfc3Rh
dGUgPSBkcm1fYXRvbWljX2hlbHBlcl9jcnRjX2Rlc3Ryb3lfc3RhdGUsCit9OworCitpbnQgbG9v
bmdzb25fY3J0Y19pbml0KHN0cnVjdCBsb29uZ3Nvbl9kZXZpY2UgKmxkZXYsIGludCBpbmRleCkK
K3sKKwlzdHJ1Y3QgZHJtX2RldmljZSAqZGV2ID0gJmFtcDtsZGV2LSZndDtkZXY7CisJc3RydWN0
IGxvb25nc29uX3BsYW5lICpwbGFuZTsKKwlzdHJ1Y3QgbG9vbmdzb25fY3J0YyAqbGNydGM7CisK
KwlwbGFuZSA9IGxvb25nc29uX3BsYW5lX2luaXQoZGV2LCBpbmRleCk7CisJaWYgKElTX0VSUihw
bGFuZSkpCisJCXJldHVybiBQVFJfRVJSKHBsYW5lKTsKKworCWxjcnRjID0gZHJtbV9jcnRjX2Fs
bG9jX3dpdGhfcGxhbmVzKGRldiwgc3RydWN0IGxvb25nc29uX2NydGMsIGJhc2UsCisJCQkJCSAg
ICAmYW1wO3BsYW5lLSZndDtiYXNlLCBOVUxMLAorCQkJCQkgICAgJmFtcDtsb29uZ3Nvbl9jcnRj
X2Z1bmNzLCBOVUxMKTsKKwlpZiAoSVNfRVJSKGxjcnRjKSkKKwkJcmV0dXJuIFBUUl9FUlIobGNy
dGMpOworCisJbGNydGMtJmd0O2xkZXYgPSBsZGV2OworCWxjcnRjLSZndDtyZWdfb2Zmc2V0ID0g
aW5kZXggKiBSRUdfT0ZGU0VUOworCWxjcnRjLSZndDtjZmdfcmVnID0gQ0ZHX1JFU0VUOworCWxj
cnRjLSZndDtjcnRjX2lkID0gaW5kZXg7CisJbGNydGMtJmd0O3BsYW5lID0gcGxhbmU7CisKKwlk
cm1fY3J0Y19oZWxwZXJfYWRkKCZhbXA7bGNydGMtJmd0O2Jhc2UsICZhbXA7bG9vbmdzb25fY3J0
Y19oZWxwZXJfZnVuY3MpOworCisJbGRldi0mZ3Q7bW9kZV9pbmZvW2luZGV4XS5jcnRjID0gbGNy
dGM7CisKKwlyZXR1cm4gMDsKK30KKwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2xvb25n
c29uL2xvb25nc29uX2RldmljZS5jIGIvZHJpdmVycy9ncHUvZHJtL2xvb25nc29uL2xvb25nc29u
X2RldmljZS5jCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAwMC4uODk3Yjk2
ZmQ5NmRjCi0tLSAvZGV2L251bGwKKysrIGIvZHJpdmVycy9ncHUvZHJtL2xvb25nc29uL2xvb25n
c29uX2RldmljZS5jCkBAIC0wLDAgKzEsMzggQEAKKy8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVy
OiBHUEwtMi4wLW9yLWxhdGVyCisvKiBDb3B5cmlnaHQgKEMpIDIwMjIgTG9vbmdzb24gSW5jLiAq
LworCisjaW5jbHVkZSAmbHQ7ZHJtL2RybV9mcmFtZWJ1ZmZlci5oJmd0OworCisjaW5jbHVkZSAi
bG9vbmdzb25fZHJ2LmgiCisKK3UzMiBsb29uZ3Nvbl9ncHVfb2Zmc2V0KHN0cnVjdCBkcm1fcGxh
bmVfc3RhdGUgKnN0YXRlLAorCQkJc3RydWN0IGxvb25nc29uX2RldmljZSAqbGRldikKK3sKKwlz
dHJ1Y3QgZHJtX2dlbV92cmFtX29iamVjdCAqZ2JvOworCXUzMiBncHVfYWRkcjsKKworCWdibyA9
IGRybV9nZW1fdnJhbV9vZl9nZW0oc3RhdGUtJmd0O2ZiLSZndDtvYmpbMF0pOworCWdwdV9hZGRy
ID0gbGRldi0mZ3Q7dnJhbV9zdGFydCArIGRybV9nZW1fdnJhbV9vZmZzZXQoZ2JvKTsKKworCXJl
dHVybiBncHVfYWRkcjsKK30KKwordTMyIGxzN2FfaW9fcnJlZyhzdHJ1Y3QgbG9vbmdzb25fZGV2
aWNlICpsZGV2LCB1MzIgb2Zmc2V0KQoreworCXJldHVybiByZWFkbChsZGV2LSZndDtpbyArIG9m
ZnNldCk7Cit9CisKK3ZvaWQgbHM3YV9pb193cmVnKHN0cnVjdCBsb29uZ3Nvbl9kZXZpY2UgKmxk
ZXYsIHUzMiBvZmZzZXQsIHUzMiB2YWwpCit7CisJd3JpdGVsKHZhbCwgbGRldi0mZ3Q7aW8gKyBv
ZmZzZXQpOworfQorCit1MzIgbHM3YV9tbV9ycmVnKHN0cnVjdCBsb29uZ3Nvbl9kZXZpY2UgKmxk
ZXYsIHUzMiBvZmZzZXQpCit7CisJcmV0dXJuIHJlYWRsKGxkZXYtJmd0O21taW8gKyBvZmZzZXQp
OworfQorCit2b2lkIGxzN2FfbW1fd3JlZyhzdHJ1Y3QgbG9vbmdzb25fZGV2aWNlICpsZGV2LCB1
MzIgb2Zmc2V0LCB1MzIgdmFsKQoreworCXdyaXRlbCh2YWwsIGxkZXYtJmd0O21taW8gKyBvZmZz
ZXQpOworfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2xvb25nc29uL2xvb25nc29uX2Ry
di5jIGIvZHJpdmVycy9ncHUvZHJtL2xvb25nc29uL2xvb25nc29uX2Rydi5jCm5ldyBmaWxlIG1v
ZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAwMC4uM2RiMjk4MjkzODY1Ci0tLSAvZGV2L251bGwK
KysrIGIvZHJpdmVycy9ncHUvZHJtL2xvb25nc29uL2xvb25nc29uX2Rydi5jCkBAIC0wLDAgKzEs
MjczIEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vci1sYXRlcgorLyog
Q29weXJpZ2h0IChDKSAyMDIyIExvb25nc29uIEluYy4gKi8KKy8qCisgKiBMb29uZ3NvbiBMUzdB
MTAwMCBicmlkZ2UgY2hpcHNldCBkcm0gZHJpdmVyCisgKiBBdXRob3I6IFlpIExpLCBsaXlpQGxv
b25nc29uLmNuCisgKiAgICAgICAgIENoZW55YW5nIExpLCBsaWNoZW55YW5nQGxvb25nc29uLmNu
CisgKi8KKworI2luY2x1ZGUgJmx0O2xpbnV4L2NvbnNvbGUuaCZndDsKKyNpbmNsdWRlICZsdDts
aW51eC9rZXJuZWwuaCZndDsKKyNpbmNsdWRlICZsdDtsaW51eC9tb2R1bGUuaCZndDsKKyNpbmNs
dWRlICZsdDtsaW51eC9wY2kuaCZndDsKKworI2luY2x1ZGUgJmx0O2RybS9kcm1fZHJ2LmgmZ3Q7
CisjaW5jbHVkZSAmbHQ7ZHJtL2RybV9mYl9oZWxwZXIuaCZndDsKKyNpbmNsdWRlICZsdDtkcm0v
ZHJtX2dlbV9mcmFtZWJ1ZmZlcl9oZWxwZXIuaCZndDsKKyNpbmNsdWRlICZsdDtkcm0vZHJtX3By
b2JlX2hlbHBlci5oJmd0OworCisjaW5jbHVkZSAibG9vbmdzb25fZHJ2LmgiCisKKy8qIEludGVy
ZmFjZSBoaXN0b3J5OgorICogMC4xIC0gb3JpZ2luYWwuCisgKi8KKyNkZWZpbmUgRFJJVkVSX01B
Sk9SIDAKKyNkZWZpbmUgRFJJVkVSX01JTk9SIDEKKworc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1f
bW9kZV9jb25maWdfZnVuY3MgbG9vbmdzb25fbW9kZV9mdW5jcyA9IHsKKwkuZmJfY3JlYXRlID0g
ZHJtX2dlbV9mYl9jcmVhdGUsCisJLmF0b21pY19jaGVjayA9IGRybV9hdG9taWNfaGVscGVyX2No
ZWNrLAorCS5hdG9taWNfY29tbWl0ID0gZHJtX2F0b21pY19oZWxwZXJfY29tbWl0LAorCS5vdXRw
dXRfcG9sbF9jaGFuZ2VkID0gZHJtX2ZiX2hlbHBlcl9vdXRwdXRfcG9sbF9jaGFuZ2VkLAorCS5t
b2RlX3ZhbGlkID0gZHJtX3ZyYW1faGVscGVyX21vZGVfdmFsaWQKK307CisKK3N0YXRpYyBpbnQg
bG9vbmdzb25fZGV2aWNlX2luaXQoc3RydWN0IGRybV9kZXZpY2UgKmRldikKK3sKKwlzdHJ1Y3Qg
bG9vbmdzb25fZGV2aWNlICpsZGV2ID0gdG9fbG9vbmdzb25fZGV2aWNlKGRldik7CisJc3RydWN0
IHBjaV9kZXYgKnBkZXYgPSB0b19wY2lfZGV2KGRldi0mZ3Q7ZGV2KTsKKwlzdHJ1Y3QgcGNpX2Rl
diAqZ3B1X3BkZXY7CisJcmVzb3VyY2Vfc2l6ZV90IGFwZXJfYmFzZTsKKwlyZXNvdXJjZV9zaXpl
X3QgYXBlcl9zaXplOworCXJlc291cmNlX3NpemVfdCBtbWlvX2Jhc2U7CisJcmVzb3VyY2Vfc2l6
ZV90IG1taW9fc2l6ZTsKKwlpbnQgcmV0OworCisJLyogR1BVIE1FTSAqLworCS8qIFdlIG5lZWQg
Z2V0IDdBLWdwdSBwY2kgZGV2aWNlIGluZm9ybWF0aW9uIGZvciBsZGV2LSZndDtncHVfcGRldiAq
LworCS8qIGRldi0mZ3Q7cGRldiBzYXZlIDdBLWRjIHBjaSBkZXZpY2UgaW5mb3JtYXRpb24gKi8K
KwlncHVfcGRldiA9IHBjaV9nZXRfZGV2aWNlKFBDSV9WRU5ET1JfSURfTE9PTkdTT04sCisJCQkJ
ICBQQ0lfREVWSUNFX0lEX0xPT05HU09OX0dQVSwgTlVMTCk7CisJcmV0ID0gcGNpX2VuYWJsZV9k
ZXZpY2UoZ3B1X3BkZXYpOworCWlmIChyZXQpCisJCXJldHVybiByZXQ7CisJcGNpX3NldF9kcnZk
YXRhKGdwdV9wZGV2LCBkZXYpOworCisJYXBlcl9iYXNlID0gcGNpX3Jlc291cmNlX3N0YXJ0KGdw
dV9wZGV2LCAyKTsKKwlhcGVyX3NpemUgPSBwY2lfcmVzb3VyY2VfbGVuKGdwdV9wZGV2LCAyKTsK
KwlsZGV2LSZndDt2cmFtX3N0YXJ0ID0gYXBlcl9iYXNlOworCWxkZXYtJmd0O3ZyYW1fc2l6ZSA9
IGFwZXJfc2l6ZTsKKworCWlmICghZGV2bV9yZXF1ZXN0X21lbV9yZWdpb24oZGV2LSZndDtkZXYs
IGxkZXYtJmd0O3ZyYW1fc3RhcnQsCisJCQkJICAgICBsZGV2LSZndDt2cmFtX3NpemUsICJsb29u
Z3Nvbl92cmFtIikpIHsKKwkJZHJtX2VycihkZXYsICJDYW4ndCByZXNlcnZlIFZSQU1cbiIpOwor
CQlyZXR1cm4gLUVOWElPOworCX0KKworCS8qIERDIE1FTSAqLworCW1taW9fYmFzZSA9IHBjaV9y
ZXNvdXJjZV9zdGFydChwZGV2LCAwKTsKKwltbWlvX3NpemUgPSBwY2lfcmVzb3VyY2VfbGVuKHBk
ZXYsIDApOworCWxkZXYtJmd0O21taW8gPSBkZXZtX2lvcmVtYXAoZGV2LSZndDtkZXYsIG1taW9f
YmFzZSwgbW1pb19zaXplKTsKKwlpZiAoIWxkZXYtJmd0O21taW8pIHsKKwkJZHJtX2VycihkZXYs
ICJDYW5ub3QgbWFwIG1taW8gcmVnaW9uXG4iKTsKKwkJcmV0dXJuIC1FTk9NRU07CisJfQorCisJ
aWYgKCFkZXZtX3JlcXVlc3RfbWVtX3JlZ2lvbihkZXYtJmd0O2RldiwgbW1pb19iYXNlLAorCQkJ
CSAgICAgbW1pb19zaXplLCAibG9vbmdzb25fbW1pbyIpKSB7CisJCWRybV9lcnIoZGV2LCAiQ2Fu
J3QgcmVzZXJ2ZSBtbWlvIHJlZ2lzdGVyc1xuIik7CisJCXJldHVybiAtRU5PTUVNOworCX0KKwor
CS8qIERDIElPICovCisJbGRldi0mZ3Q7aW8gPSBkZXZtX2lvcmVtYXAoZGV2LSZndDtkZXYsIExT
N0FfQ0hJUENGR19SRUdfQkFTRSwgMHhmKTsKKwlpZiAoIWxkZXYtJmd0O2lvKQorCQlyZXR1cm4g
LUVOT01FTTsKKworCWxkZXYtJmd0O251bV9jcnRjID0gMjsKKworCWRybV9pbmZvKGRldiwgIkRD
IG1taW8gYmFzZSAweCVsbHggc2l6ZSAweCVsbHggaW8gMHglbGx4XG4iLAorCQkgbW1pb19iYXNl
LCBtbWlvX3NpemUsICoodTY0ICopbGRldi0mZ3Q7aW8pOworCWRybV9pbmZvKGRldiwgIkdQVSB2
cmFtIHN0YXJ0ID0gMHgleCBzaXplID0gMHgleFxuIiwKKwkJIGxkZXYtJmd0O3ZyYW1fc3RhcnQs
IGxkZXYtJmd0O3ZyYW1fc2l6ZSk7CisKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIGludCBsb29u
Z3Nvbl9tb2Rlc2V0X2luaXQoc3RydWN0IGxvb25nc29uX2RldmljZSAqbGRldikKK3sKKwlpbnQg
aTsKKwlpbnQgcmV0OworCisJZm9yIChpID0gMDsgaSAmbHQ7IGxkZXYtJmd0O251bV9jcnRjOyBp
KyspIHsKKwkJcmV0ID0gbG9vbmdzb25fY3J0Y19pbml0KGxkZXYsIGkpOworCQlpZiAocmV0KSB7
CisJCQlkcm1fd2FybigmYW1wO2xkZXYtJmd0O2RldiwgImxvb25nc29uIGNydGMlZCBpbml0IGZh
aWxcbiIsIGkpOworCQkJY29udGludWU7CisJCX0KKworCQlyZXQgPSBsb29uZ3Nvbl9lbmNvZGVy
X2luaXQobGRldiwgaSk7CisJCWlmIChyZXQpIHsKKwkJCWRybV9lcnIoJmFtcDtsZGV2LSZndDtk
ZXYsICJsb29uZ3Nvbl9lbmNvZGVyX2luaXQgZmFpbGVkXG4iKTsKKwkJCXJldHVybiByZXQ7CisJ
CX0KKworCQlyZXQgPSBsb29uZ3Nvbl9icmlkZ2VfY29ubmVjdG9yX2luaXQobGRldiwgaSk7CisJ
CWlmIChyZXQpIHsKKwkJCWRybV9lcnIoJmFtcDtsZGV2LSZndDtkZXYsICJsb29uZ3Nvbl9jb25u
ZWN0b3JfaW5pdCBmYWlsZWRcbiIpOworCQkJcmV0dXJuIHJldDsKKwkJfQorCX0KKworCXJldHVy
biAwOworfQorCitzdGF0aWMgaW50IGxvb25nc29uX2RyaXZlcl9pbml0KHN0cnVjdCBkcm1fZGV2
aWNlICpkZXYpCit7CisJc3RydWN0IGxvb25nc29uX2RldmljZSAqbGRldiA9IHRvX2xvb25nc29u
X2RldmljZShkZXYpOworCWludCByZXQ7CisKKwlyZXQgPSBsb29uZ3Nvbl9kZXZpY2VfaW5pdChk
ZXYpOworCWlmIChyZXQpCisJCWdvdG8gZXJyOworCisJcmV0ID0gZHJtbV92cmFtX2hlbHBlcl9p
bml0KGRldiwgbGRldi0mZ3Q7dnJhbV9zdGFydCwgbGRldi0mZ3Q7dnJhbV9zaXplKTsKKwlpZiAo
cmV0KSB7CisJCWRybV9lcnIoZGV2LCAiRXJyb3IgaW5pdGlhbGl6aW5nIHZyYW0gJWRcbiIsIHJl
dCk7CisJCWdvdG8gZXJyOworCX0KKworCXJldCA9IGRybW1fbW9kZV9jb25maWdfaW5pdChkZXYp
OworCWlmIChyZXQpCisJCXJldHVybiByZXQ7CisKKwlkZXYtJmd0O21vZGVfY29uZmlnLm1pbl93
aWR0aCA9IDE7CisJZGV2LSZndDttb2RlX2NvbmZpZy5taW5faGVpZ2h0ID0gMTsKKwlkZXYtJmd0
O21vZGVfY29uZmlnLm1heF93aWR0aCA9IDQwOTY7CisJZGV2LSZndDttb2RlX2NvbmZpZy5tYXhf
aGVpZ2h0ID0gNDA5NjsKKwlkZXYtJmd0O21vZGVfY29uZmlnLnByZWZlcnJlZF9kZXB0aCA9IDMy
OworCWRldi0mZ3Q7bW9kZV9jb25maWcucHJlZmVyX3NoYWRvdyA9IDE7CisJZGV2LSZndDttb2Rl
X2NvbmZpZy5mYl9iYXNlID0gbGRldi0mZ3Q7dnJhbV9zdGFydDsKKwlkZXYtJmd0O21vZGVfY29u
ZmlnLmZ1bmNzID0gKHZvaWQgKikmYW1wO2xvb25nc29uX21vZGVfZnVuY3M7CisKKwlyZXQgPSBs
b29uZ3Nvbl9tb2Rlc2V0X2luaXQobGRldik7CisJaWYgKHJldCkgeworCQlkcm1fZXJyKGRldiwg
IkZhdGFsIGVycm9yIGR1cmluZyBtb2Rlc2V0IGluaXQ6ICVkXG4iLCByZXQpOworCQlnb3RvIGVy
cjsKKwl9CisKKwlkcm1fa21zX2hlbHBlcl9wb2xsX2luaXQoZGV2KTsKKwlkcm1fbW9kZV9jb25m
aWdfcmVzZXQoZGV2KTsKKworCXJldHVybiAwOworCitlcnI6CisJZHJtX2VycihkZXYsICJmYWls
ZWQgdG8gaW5pdGlhbGl6ZSBkcm0gZHJpdmVyOiAlZFxuIiwgcmV0KTsKKwlyZXR1cm4gcmV0Owor
fQorCitzdGF0aWMgdm9pZCBsb29uZ3Nvbl9kcml2ZXJfZmluaShzdHJ1Y3QgZHJtX2RldmljZSAq
ZGV2KQoreworCWRldi0mZ3Q7ZGV2X3ByaXZhdGUgPSBOVUxMOworCWRldl9zZXRfZHJ2ZGF0YShk
ZXYtJmd0O2RldiwgTlVMTCk7Cit9CisKK0RFRklORV9EUk1fR0VNX0ZPUFMoZm9wcyk7CisKK3N0
YXRpYyBzdHJ1Y3QgZHJtX2RyaXZlciBsb29uZ3Nvbl9kcml2ZXIgPSB7CisJLmRyaXZlcl9mZWF0
dXJlcyA9IERSSVZFUl9NT0RFU0VUIHwgRFJJVkVSX0dFTSB8IERSSVZFUl9BVE9NSUMsCisJLmZv
cHMgPSAmYW1wO2ZvcHMsCisJRFJNX0dFTV9WUkFNX0RSSVZFUiwKKworCS5uYW1lID0gRFJJVkVS
X05BTUUsCisJLmRlc2MgPSBEUklWRVJfREVTQywKKwkuZGF0ZSA9IERSSVZFUl9EQVRFLAorCS5t
YWpvciA9IERSSVZFUl9NQUpPUiwKKwkubWlub3IgPSBEUklWRVJfTUlOT1IsCit9OworCitzdGF0
aWMgaW50IGxvb25nc29uX3BjaV9wcm9iZShzdHJ1Y3QgcGNpX2RldiAqcGRldiwKKwkJCSAgICAg
IGNvbnN0IHN0cnVjdCBwY2lfZGV2aWNlX2lkICplbnQpCit7CisJc3RydWN0IGxvb25nc29uX2Rl
dmljZSAqbGRldjsKKwlzdHJ1Y3QgZHJtX2RldmljZSAqZGV2OworCWludCByZXQ7CisKKwlEUk1f
SU5GTygiU3RhcnQgbG9vbmdzb24gZHJtIHByb2JlLlxuIik7CisJbGRldiA9IGRldm1fZHJtX2Rl
dl9hbGxvYygmYW1wO3BkZXYtJmd0O2RldiwgJmFtcDtsb29uZ3Nvbl9kcml2ZXIsCisJCQkJICBz
dHJ1Y3QgbG9vbmdzb25fZGV2aWNlLCBkZXYpOworCWlmIChJU19FUlIobGRldikpCisJCXJldHVy
biBQVFJfRVJSKGxkZXYpOworCWRldiA9ICZhbXA7bGRldi0mZ3Q7ZGV2OworCisJcGNpX3NldF9k
cnZkYXRhKHBkZXYsIGRldik7CisKKwlyZXQgPSBwY2ltX2VuYWJsZV9kZXZpY2UocGRldik7CisJ
aWYgKHJldCkgeworCQlkcm1fZXJyKGRldiwgImZhaWxlZCB0byBlbmFibGUgcGNpIGRldmljZTog
JWRcbiIsIHJldCk7CisJCWdvdG8gZXJyX2ZyZWU7CisJfQorCisJcmV0ID0gbG9vbmdzb25fZHJp
dmVyX2luaXQoZGV2KTsKKwlpZiAocmV0KSB7CisJCWRybV9lcnIoZGV2LCAiZmFpbGVkIHRvIGxv
YWQgbG9vbmdzb246ICVkXG4iLCByZXQpOworCQlnb3RvIGVycl9wZGV2OworCX0KKworCXJldCA9
IGRybV9kZXZfcmVnaXN0ZXIoZGV2LCAwKTsKKwlpZiAocmV0KSB7CisJCWRybV9lcnIoZGV2LCAi
ZmFpbGVkIHRvIHJlZ2lzdGVyIGRydiBmb3IgdXNlcnNwYWNlIGFjY2VzczogJWRcbiIsCisJCQly
ZXQpOworCQlnb3RvIGRyaXZlcl9maW5pOworCX0KKworCWRybV9mYmRldl9nZW5lcmljX3NldHVw
KGRldiwgZGV2LSZndDttb2RlX2NvbmZpZy5wcmVmZXJyZWRfZGVwdGgpOworCURSTV9JTkZPKCJs
b29uZ3NvbiBmYmRldiBlbmFibGVkLlxuIik7CisKKwlyZXR1cm4gMDsKKworZHJpdmVyX2Zpbmk6
CisJbG9vbmdzb25fZHJpdmVyX2ZpbmkoZGV2KTsKK2Vycl9wZGV2OgorCXBjaV9kaXNhYmxlX2Rl
dmljZShwZGV2KTsKK2Vycl9mcmVlOgorCWRybV9kZXZfcHV0KGRldik7CisJcmV0dXJuIHJldDsK
K30KKworc3RhdGljIHZvaWQgbG9vbmdzb25fcGNpX3JlbW92ZShzdHJ1Y3QgcGNpX2RldiAqcGRl
dikKK3sKKwlzdHJ1Y3QgZHJtX2RldmljZSAqZGV2ID0gcGNpX2dldF9kcnZkYXRhKHBkZXYpOwor
CisJZHJtX2Rldl91bnJlZ2lzdGVyKGRldik7CisJbG9vbmdzb25fZHJpdmVyX2ZpbmkoZGV2KTsK
K30KKworc3RhdGljIHN0cnVjdCBwY2lfZGV2aWNlX2lkIGxvb25nc29uX3BjaV9kZXZpY2VzW10g
PSB7CisJeyBQQ0lfREVWSUNFKFBDSV9WRU5ET1JfSURfTE9PTkdTT04sIFBDSV9ERVZJQ0VfSURf
TE9PTkdTT05fREMpIH0sCisJezAsfQorfTsKKworc3RhdGljIHN0cnVjdCBwY2lfZHJpdmVyIGxv
b25nc29uX2RybV9wY2lfZHJpdmVyID0geworCS5uYW1lID0gRFJJVkVSX05BTUUsCisJLmlkX3Rh
YmxlID0gbG9vbmdzb25fcGNpX2RldmljZXMsCisJLnByb2JlID0gbG9vbmdzb25fcGNpX3Byb2Jl
LAorCS5yZW1vdmUgPSBsb29uZ3Nvbl9wY2lfcmVtb3ZlLAorfTsKKworc3RhdGljIGludCBfX2lu
aXQgbG9vbmdzb25fZHJtX2luaXQodm9pZCkKK3sKKwlyZXR1cm4gcGNpX3JlZ2lzdGVyX2RyaXZl
cigmYW1wO2xvb25nc29uX2RybV9wY2lfZHJpdmVyKTsKK30KKworc3RhdGljIHZvaWQgX19leGl0
IGxvb25nc29uX2RybV9leGl0KHZvaWQpCit7CisJcGNpX3VucmVnaXN0ZXJfZHJpdmVyKCZhbXA7
bG9vbmdzb25fZHJtX3BjaV9kcml2ZXIpOworfQorCittb2R1bGVfaW5pdChsb29uZ3Nvbl9kcm1f
aW5pdCk7Cittb2R1bGVfZXhpdChsb29uZ3Nvbl9kcm1fZXhpdCk7CisKK01PRFVMRV9BVVRIT1Io
RFJJVkVSX0FVVEhPUik7CitNT0RVTEVfREVTQ1JJUFRJT04oRFJJVkVSX0RFU0MpOworTU9EVUxF
X0xJQ0VOU0UoIkdQTCB2MiIpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2xvb25nc29u
L2xvb25nc29uX2Rydi5oIGIvZHJpdmVycy9ncHUvZHJtL2xvb25nc29uL2xvb25nc29uX2Rydi5o
Cm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAwMC4uZmViMjU0YWU4YzMyCi0t
LSAvZGV2L251bGwKKysrIGIvZHJpdmVycy9ncHUvZHJtL2xvb25nc29uL2xvb25nc29uX2Rydi5o
CkBAIC0wLDAgKzEsMTMwIEBACisvKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1v
bmx5ICovCisvKiBDb3B5cmlnaHQgKEMpIDIwMjIgTG9vbmdzb24gSW5jLiAqLworCisjaWZuZGVm
IF9fTE9PTkdTT05fRFJWX0hfXworI2RlZmluZSBfX0xPT05HU09OX0RSVl9IX18KKworI2luY2x1
ZGUgJmx0O2RybS9kcm1fYXRvbWljX2hlbHBlci5oJmd0OworI2luY2x1ZGUgJmx0O2RybS9kcm1f
Z2VtX3ZyYW1faGVscGVyLmgmZ3Q7CisjaW5jbHVkZSAmbHQ7ZHJtL2RybV9icmlkZ2UuaCZndDsK
KworLyogR2VuZXJhbCBjdXN0b21pemF0aW9uOgorICovCisjZGVmaW5lIERSSVZFUl9BVVRIT1Ig
Ikxvb25nc29uIGdyYXBoaWNzIGRyaXZlciB0ZWFtIgorI2RlZmluZSBEUklWRVJfTkFNRSAibG9v
bmdzb24tZHJtIgorI2RlZmluZSBEUklWRVJfREVTQyAiTG9vbmdzb24gTFM3QSBEUk0gZHJpdmVy
IgorI2RlZmluZSBEUklWRVJfREFURSAiMjAyMDA5MTUiCisKKyNkZWZpbmUgdG9fbG9vbmdzb25f
Y3J0Yyh4KSBjb250YWluZXJfb2YoeCwgc3RydWN0IGxvb25nc29uX2NydGMsIGJhc2UpCisjZGVm
aW5lIHRvX2xvb25nc29uX2VuY29kZXIoeCkgY29udGFpbmVyX29mKHgsIHN0cnVjdCBsb29uZ3Nv
bl9lbmNvZGVyLCBiYXNlKQorCisjZGVmaW5lIExTN0FfQ0hJUENGR19SRUdfQkFTRSAoMHgxMDAx
MDAwMCkKKyNkZWZpbmUgUENJX0RFVklDRV9JRF9MT09OR1NPTl9EQyAweDdhMDYKKyNkZWZpbmUg
UENJX0RFVklDRV9JRF9MT09OR1NPTl9HUFUgMHg3YTE1CisjZGVmaW5lIExTN0FfUElYX1BMTCAo
MHgwNGIwKQorI2RlZmluZSBSRUdfT0ZGU0VUICgweDEwKQorI2RlZmluZSBGQl9DRkdfUkVHICgw
eDEyNDApCisjZGVmaW5lIEZCX0FERFIwX1JFRyAoMHgxMjYwKQorI2RlZmluZSBGQl9BRERSMV9S
RUcgKDB4MTU4MCkKKyNkZWZpbmUgRkJfU1RSSV9SRUcgKDB4MTI4MCkKKyNkZWZpbmUgRkJfRElU
Q0ZHX1JFRyAoMHgxMzYwKQorI2RlZmluZSBGQl9ESVRUQUJfTE9fUkVHICgweDEzODApCisjZGVm
aW5lIEZCX0RJVFRBQl9ISV9SRUcgKDB4MTNhMCkKKyNkZWZpbmUgRkJfUEFOQ0ZHX1JFRyAoMHgx
M2MwKQorI2RlZmluZSBGQl9QQU5USU1fUkVHICgweDEzZTApCisjZGVmaW5lIEZCX0hESVNQTEFZ
X1JFRyAoMHgxNDAwKQorI2RlZmluZSBGQl9IU1lOQ19SRUcgKDB4MTQyMCkKKyNkZWZpbmUgRkJf
VkRJU1BMQVlfUkVHICgweDE0ODApCisjZGVmaW5lIEZCX1ZTWU5DX1JFRyAoMHgxNGEwKQorCisj
ZGVmaW5lIENGR19GTVQgR0VOTUFTSygyLCAwKQorI2RlZmluZSBDRkdfRkJTV0lUQ0ggQklUKDcp
CisjZGVmaW5lIENGR19FTkFCTEUgQklUKDgpCisjZGVmaW5lIENGR19GQk5VTSBCSVQoMTEpCisj
ZGVmaW5lIENGR19HQU1NQVIgQklUKDEyKQorI2RlZmluZSBDRkdfUkVTRVQgQklUKDIwKQorCisj
ZGVmaW5lIEZCX1BBTkNGR19ERUYgMHg4MDAwMTMxMQorI2RlZmluZSBGQl9IU1lOQ19QVUxTRSAo
MSAmbHQ7Jmx0OyAzMCkKKyNkZWZpbmUgRkJfVlNZTkNfUFVMU0UgKDEgJmx0OyZsdDsgMzApCisK
Ky8qIFBJWCBQTEwgKi8KKyNkZWZpbmUgTE9PUENfTUlOIDI0CisjZGVmaW5lIExPT1BDX01BWCAx
NjEKKyNkZWZpbmUgRlJFX1JFRl9NSU4gMTIKKyNkZWZpbmUgRlJFX1JFRl9NQVggMzIKKyNkZWZp
bmUgRElWX1JFRl9NSU4gMworI2RlZmluZSBESVZfUkVGX01BWCA1CisjZGVmaW5lIFBTVF9ESVZf
TUFYIDY0CisKK3N0cnVjdCBwaXhfcGxsIHsKKwl1MzIgbDJfZGl2OworCXUzMiBsMV9sb29wYzsK
Kwl1MzIgbDFfZnJlZmM7Cit9OworCitzdHJ1Y3QgbG9vbmdzb25fY3J0YyB7CisJc3RydWN0IGRy
bV9jcnRjIGJhc2U7CisJc3RydWN0IGxvb25nc29uX2RldmljZSAqbGRldjsKKwl1MzIgY3J0Y19p
ZDsKKwl1MzIgcmVnX29mZnNldDsKKwl1MzIgY2ZnX3JlZzsKKwlzdHJ1Y3QgbG9vbmdzb25fcGxh
bmUgKnBsYW5lOworfTsKKworc3RydWN0IGxvb25nc29uX3BsYW5lIHsKKwlzdHJ1Y3QgZHJtX3Bs
YW5lIGJhc2U7Cit9OworCitzdHJ1Y3QgbG9vbmdzb25fZW5jb2RlciB7CisJc3RydWN0IGRybV9l
bmNvZGVyIGJhc2U7CisJc3RydWN0IGRybV9icmlkZ2UgYnJpZGdlOworCXN0cnVjdCBsb29uZ3Nv
bl9kZXZpY2UgKmxkZXY7CisJc3RydWN0IGxvb25nc29uX2NydGMgKmxjcnRjOworfTsKKworc3Ry
dWN0IGxvb25nc29uX21vZGVfaW5mbyB7CisJc3RydWN0IGxvb25nc29uX2NydGMgKmNydGM7CisJ
c3RydWN0IGxvb25nc29uX2VuY29kZXIgKmVuY29kZXI7Cit9OworCitzdHJ1Y3QgbG9vbmdzb25f
ZGV2aWNlIHsKKwlzdHJ1Y3QgZHJtX2RldmljZSBkZXY7CisJc3RydWN0IGRybV9hdG9taWNfc3Rh
dGUgKnN0YXRlOworCisJdm9pZCBfX2lvbWVtICptbWlvOworCXZvaWQgX19pb21lbSAqaW87CisJ
dTMyIHZyYW1fc3RhcnQ7CisJdTMyIHZyYW1fc2l6ZTsKKworCXUzMiBudW1fY3J0YzsKKwlzdHJ1
Y3QgbG9vbmdzb25fbW9kZV9pbmZvIG1vZGVfaW5mb1syXTsKKwlzdHJ1Y3QgcGNpX2RldiAqZ3B1
X3BkZXY7IC8qIExTN0EgZ3B1IGRldmljZSBpbmZvICovCit9OworCitzdGF0aWMgaW5saW5lIHN0
cnVjdCBsb29uZ3Nvbl9kZXZpY2UgKnRvX2xvb25nc29uX2RldmljZShzdHJ1Y3QgZHJtX2Rldmlj
ZSAqZGV2KQoreworCXJldHVybiBjb250YWluZXJfb2YoZGV2LCBzdHJ1Y3QgbG9vbmdzb25fZGV2
aWNlLCBkZXYpOworfQorCisvKiBjcnRjICovCitpbnQgbG9vbmdzb25fY3J0Y19pbml0KHN0cnVj
dCBsb29uZ3Nvbl9kZXZpY2UgKmxkZXYsIGludCBpbmRleCk7CisKKy8qIGNvbm5lY3RvciAqLwor
aW50IGxvb25nc29uX2JyaWRnZV9jb25uZWN0b3JfaW5pdChzdHJ1Y3QgbG9vbmdzb25fZGV2aWNl
ICpsZGV2LCBpbnQgaW5kZXgpOworCisvKiBlbmNvZGVyICovCitpbnQgbG9vbmdzb25fZW5jb2Rl
cl9pbml0KHN0cnVjdCBsb29uZ3Nvbl9kZXZpY2UgKmxkZXYsIGludCBpbmRleCk7CisKKy8qIHBs
YW5lICovCitzdHJ1Y3QgbG9vbmdzb25fcGxhbmUgKmxvb25nc29uX3BsYW5lX2luaXQoc3RydWN0
IGRybV9kZXZpY2UgKmRldiwgaW50IGluZGV4KTsKKworLyogZGV2aWNlICovCit1MzIgbG9vbmdz
b25fZ3B1X29mZnNldChzdHJ1Y3QgZHJtX3BsYW5lX3N0YXRlICpzdGF0ZSwKKwkJCXN0cnVjdCBs
b29uZ3Nvbl9kZXZpY2UgKmRldik7Cit1MzIgbHM3YV9tbV9ycmVnKHN0cnVjdCBsb29uZ3Nvbl9k
ZXZpY2UgKmxkZXYsIHUzMiBvZmZzZXQpOwordm9pZCBsczdhX21tX3dyZWcoc3RydWN0IGxvb25n
c29uX2RldmljZSAqbGRldiwgdTMyIG9mZnNldCwgdTMyIHZhbCk7Cit1MzIgbHM3YV9pb19ycmVn
KHN0cnVjdCBsb29uZ3Nvbl9kZXZpY2UgKmxkZXYsIHUzMiBvZmZzZXQpOwordm9pZCBsczdhX2lv
X3dyZWcoc3RydWN0IGxvb25nc29uX2RldmljZSAqbGRldiwgdTMyIG9mZnNldCwgdTMyIHZhbCk7
CisKKyNlbmRpZiAvKiBfX0xPT05HU09OX0RSVl9IX18gKi8KZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9sb29uZ3Nvbi9sb29uZ3Nvbl9lbmNvZGVyLmMgYi9kcml2ZXJzL2dwdS9kcm0vbG9v
bmdzb24vbG9vbmdzb25fZW5jb2Rlci5jCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAw
MDAwMDAwMC4uMDY0NWE2NDVjYjlkCi0tLSAvZGV2L251bGwKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2xvb25nc29uL2xvb25nc29uX2VuY29kZXIuYwpAQCAtMCwwICsxLDU4IEBACisvLyBTUERYLUxp
Y2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vci1sYXRlcgorLyogQ29weXJpZ2h0IChDKSAyMDIy
IExvb25nc29uIEluYy4gKi8KKworI2luY2x1ZGUgJmx0O2RybS9kcm1fZWRpZC5oJmd0OworI2lu
Y2x1ZGUgJmx0O2RybS9kcm1fc2ltcGxlX2ttc19oZWxwZXIuaCZndDsKKworI2luY2x1ZGUgImxv
b25nc29uX2Rydi5oIgorCitzdGF0aWMgaW50IGxvb25nc29uX2JyaWRnZV9nZXRfbW9kZXMoc3Ry
dWN0IGRybV9icmlkZ2UgKmJyaWRnZSwKKwkJCQkgICAgIHN0cnVjdCBkcm1fY29ubmVjdG9yICpj
b25uZWN0b3IpCit7CisJaW50IGNvdW50OworCisJY291bnQgPSBkcm1fYWRkX21vZGVzX25vZWRp
ZChjb25uZWN0b3IsIDE5MjAsIDEwODApOworCWRybV9zZXRfcHJlZmVycmVkX21vZGUoY29ubmVj
dG9yLCAxMDI0LCA3NjgpOworCisJcmV0dXJuIGNvdW50OworfQorCitzdGF0aWMgY29uc3Qgc3Ry
dWN0IGRybV9icmlkZ2VfZnVuY3MgbG9vbmdzb25fZW5jb2Rlcl9icmlkZ2VfZnVuY3MgPSB7CisJ
LmdldF9tb2RlcyA9IGxvb25nc29uX2JyaWRnZV9nZXRfbW9kZXMsCisJLmF0b21pY19kdXBsaWNh
dGVfc3RhdGUgPSBkcm1fYXRvbWljX2hlbHBlcl9icmlkZ2VfZHVwbGljYXRlX3N0YXRlLAorCS5h
dG9taWNfZGVzdHJveV9zdGF0ZSA9IGRybV9hdG9taWNfaGVscGVyX2JyaWRnZV9kZXN0cm95X3N0
YXRlLAorCS5hdG9taWNfcmVzZXQgPSBkcm1fYXRvbWljX2hlbHBlcl9icmlkZ2VfcmVzZXQsCit9
OworCitpbnQgbG9vbmdzb25fZW5jb2Rlcl9pbml0KHN0cnVjdCBsb29uZ3Nvbl9kZXZpY2UgKmxk
ZXYsIGludCBpbmRleCkKK3sKKwlzdHJ1Y3QgZHJtX2RldmljZSAqZGV2ID0gJmFtcDtsZGV2LSZn
dDtkZXY7CisJc3RydWN0IGxvb25nc29uX2VuY29kZXIgKmxlbmNvZGVyOworCWludCByZXQ7CisK
KwlsZW5jb2RlciA9IGRybW1fc2ltcGxlX2VuY29kZXJfYWxsb2MoZGV2LCBzdHJ1Y3QgbG9vbmdz
b25fZW5jb2RlciwKKwkJCQkJICAgICBiYXNlLCBEUk1fTU9ERV9FTkNPREVSX0RBQyk7CisJaWYg
KElTX0VSUihsZW5jb2RlcikpCisJCXJldHVybiBQVFJfRVJSKGxlbmNvZGVyKTsKKworCWxlbmNv
ZGVyLSZndDtiYXNlLnBvc3NpYmxlX2NydGNzID0gMSAmbHQ7Jmx0OyBpbmRleDsKKwlsZGV2LSZn
dDttb2RlX2luZm9baW5kZXhdLmVuY29kZXIgPSBsZW5jb2RlcjsKKworCWxlbmNvZGVyLSZndDti
cmlkZ2UuZnVuY3MgPSAmYW1wO2xvb25nc29uX2VuY29kZXJfYnJpZGdlX2Z1bmNzOworCWxlbmNv
ZGVyLSZndDticmlkZ2Uub3BzID0gRFJNX0JSSURHRV9PUF9NT0RFUzsKKwlpZiAoaW5kZXggPT0g
MCkKKwkJbGVuY29kZXItJmd0O2JyaWRnZS50eXBlID0gRFJNX01PREVfQ09OTkVDVE9SX1ZHQTsK
KwllbHNlIGlmIChpbmRleCA9PSAxKQorCQlsZW5jb2Rlci0mZ3Q7YnJpZGdlLnR5cGUgPSBEUk1f
TU9ERV9DT05ORUNUT1JfRFZJQTsKKworCWRybV9icmlkZ2VfYWRkKCZhbXA7bGVuY29kZXItJmd0
O2JyaWRnZSk7CisKKwlyZXQgPSBkcm1fYnJpZGdlX2F0dGFjaCgmYW1wO2xlbmNvZGVyLSZndDti
YXNlLCAmYW1wO2xlbmNvZGVyLSZndDticmlkZ2UsIE5VTEwsCisJCQkJRFJNX0JSSURHRV9BVFRB
Q0hfTk9fQ09OTkVDVE9SKTsKKwlpZiAocmV0KSB7CisJCWRldl9lcnIoZGV2LSZndDtkZXYsICJG
YWlsZWQgdG8gYXR0YWNoIGJyaWRnZTogJWRcbiIsIHJldCk7CisJCXJldHVybiByZXQ7CisJfQor
CisJcmV0dXJuIDA7Cit9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbG9vbmdzb24vbG9v
bmdzb25fcGxhbmUuYyBiL2RyaXZlcnMvZ3B1L2RybS9sb29uZ3Nvbi9sb29uZ3Nvbl9wbGFuZS5j
Cm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAwMC4uMzgwYTlmMWM2OWE5Ci0t
LSAvZGV2L251bGwKKysrIGIvZHJpdmVycy9ncHUvZHJtL2xvb25nc29uL2xvb25nc29uX3BsYW5l
LmMKQEAgLTAsMCArMSw5NiBAQAorLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAt
b3ItbGF0ZXIKKy8qIENvcHlyaWdodCAoQykgMjAyMiBMb29uZ3NvbiBJbmMuICovCisKKyNpbmNs
dWRlICZsdDtkcm0vZHJtX2ZyYW1lYnVmZmVyLmgmZ3Q7CisjaW5jbHVkZSAmbHQ7ZHJtL2RybV9m
b3VyY2MuaCZndDsKKworI2luY2x1ZGUgImxvb25nc29uX2Rydi5oIgorCitzdGF0aWMgdm9pZCBs
b29uZ3Nvbl9wbGFuZV9hdG9taWNfdXBkYXRlKHN0cnVjdCBkcm1fcGxhbmUgKnBsYW5lLAorCQkJ
CQkgc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnN0YXRlKQoreworCXN0cnVjdCBsb29uZ3Nvbl9j
cnRjICpsY3J0YzsKKwlzdHJ1Y3QgbG9vbmdzb25fZGV2aWNlICpsZGV2OworCXN0cnVjdCBkcm1f
cGxhbmVfc3RhdGUgKmxzdGF0ZSA9IHBsYW5lLSZndDtzdGF0ZTsKKwl1MzIgZ3B1X2FkZHIgPSAw
OworCXUzMiBmYl9hZGRyID0gMDsKKwl1MzIgcmVnX3ZhbCA9IDA7CisJdTMyIHJlZ19vZmZzZXQ7
CisJdTMyIHBpdGNoOworCXU4IGRlcHRoOworCXUzMiB4LCB5OworCisJaWYgKCFsc3RhdGUtJmd0
O2NydGMgfHwgIWxzdGF0ZS0mZ3Q7ZmIpCisJCXJldHVybjsKKworCXBpdGNoID0gbHN0YXRlLSZn
dDtmYi0mZ3Q7cGl0Y2hlc1swXTsKKwlsY3J0YyA9IHRvX2xvb25nc29uX2NydGMobHN0YXRlLSZn
dDtjcnRjKTsKKwlsZGV2ID0gbGNydGMtJmd0O2xkZXY7CisJcmVnX29mZnNldCA9IGxjcnRjLSZn
dDtyZWdfb2Zmc2V0OworCXggPSBsc3RhdGUtJmd0O2NydGMtJmd0O3g7CisJeSA9IGxzdGF0ZS0m
Z3Q7Y3J0Yy0mZ3Q7eTsKKwlkZXB0aCA9IGxzdGF0ZS0mZ3Q7ZmItJmd0O2Zvcm1hdC0mZ3Q7Y3Bw
WzBdICZsdDsmbHQ7IDM7CisKKwlncHVfYWRkciA9IGxvb25nc29uX2dwdV9vZmZzZXQobHN0YXRl
LCBsZGV2KTsKKwlyZWdfdmFsID0gKHBpdGNoICsgMjU1KSAmYW1wOyB+MjU1OworCWxzN2FfbW1f
d3JlZyhsZGV2LCBGQl9TVFJJX1JFRyArIHJlZ19vZmZzZXQsIHJlZ192YWwpOworCisJc3dpdGNo
IChkZXB0aCkgeworCWNhc2UgMTIgLi4uIDE2OgorCQlmYl9hZGRyID0gZ3B1X2FkZHIgKyB5ICog
cGl0Y2ggKyBBTElHTih4LCA2NCkgKiAyOworCQlicmVhazsKKwljYXNlIDI0IC4uLiAzMjoKKwlk
ZWZhdWx0OgorCQlmYl9hZGRyID0gZ3B1X2FkZHIgKyB5ICogcGl0Y2ggKyBBTElHTih4LCA2NCkg
KiA0OworCQlicmVhazsKKwl9CisKKwlsczdhX21tX3dyZWcobGRldiwgRkJfQUREUjBfUkVHICsg
cmVnX29mZnNldCwgZmJfYWRkcik7CisJbHM3YV9tbV93cmVnKGxkZXYsIEZCX0FERFIxX1JFRyAr
IHJlZ19vZmZzZXQsIGZiX2FkZHIpOworCXJlZ192YWwgPSBsY3J0Yy0mZ3Q7Y2ZnX3JlZyB8IENG
R19FTkFCTEU7CisJbHM3YV9tbV93cmVnKGxkZXYsIEZCX0NGR19SRUcgKyByZWdfb2Zmc2V0LCBy
ZWdfdmFsKTsKK30KKworc3RhdGljIGNvbnN0IHVpbnQzMl90IGxvb25nc29uX2Zvcm1hdHNbXSA9
IHsKKwlEUk1fRk9STUFUX1JHQjU2NSwKKwlEUk1fRk9STUFUX1JHQjg4OCwKKwlEUk1fRk9STUFU
X1hSR0I4ODg4LAorCURSTV9GT1JNQVRfQVJHQjg4ODgsCit9OworCitzdGF0aWMgY29uc3QgdWlu
dDY0X3QgbG9vbmdzb25fZm9ybWF0X21vZGlmaWVyc1tdID0geyBEUk1fRk9STUFUX01PRF9MSU5F
QVIsCisJCQkJCQkgICAgICBEUk1fRk9STUFUX01PRF9JTlZBTElEIH07CisKK3N0YXRpYyBjb25z
dCBzdHJ1Y3QgZHJtX3BsYW5lX2Z1bmNzIGxvb25nc29uX3BsYW5lX2Z1bmNzID0geworCS5hdG9t
aWNfZHVwbGljYXRlX3N0YXRlID0gZHJtX2F0b21pY19oZWxwZXJfcGxhbmVfZHVwbGljYXRlX3N0
YXRlLAorCS5hdG9taWNfZGVzdHJveV9zdGF0ZSA9IGRybV9hdG9taWNfaGVscGVyX3BsYW5lX2Rl
c3Ryb3lfc3RhdGUsCisJLmRpc2FibGVfcGxhbmUgPSBkcm1fYXRvbWljX2hlbHBlcl9kaXNhYmxl
X3BsYW5lLAorCS5yZXNldCA9IGRybV9hdG9taWNfaGVscGVyX3BsYW5lX3Jlc2V0LAorCS51cGRh
dGVfcGxhbmUgPSBkcm1fYXRvbWljX2hlbHBlcl91cGRhdGVfcGxhbmUsCit9OworCitzdGF0aWMg
Y29uc3Qgc3RydWN0IGRybV9wbGFuZV9oZWxwZXJfZnVuY3MgbG9vbmdzb25fcGxhbmVfaGVscGVy
X2Z1bmNzID0geworCS5wcmVwYXJlX2ZiCT0gZHJtX2dlbV92cmFtX3BsYW5lX2hlbHBlcl9wcmVw
YXJlX2ZiLAorCS5jbGVhbnVwX2ZiCT0gZHJtX2dlbV92cmFtX3BsYW5lX2hlbHBlcl9jbGVhbnVw
X2ZiLAorCS5hdG9taWNfdXBkYXRlID0gbG9vbmdzb25fcGxhbmVfYXRvbWljX3VwZGF0ZSwKK307
CisKK3N0cnVjdCBsb29uZ3Nvbl9wbGFuZSAqbG9vbmdzb25fcGxhbmVfaW5pdChzdHJ1Y3QgZHJt
X2RldmljZSAqZGV2LCBpbnQgaW5kZXgpCit7CisJc3RydWN0IGxvb25nc29uX3BsYW5lICpwbGFu
ZTsKKworCXBsYW5lID0gZHJtbV91bml2ZXJzYWxfcGxhbmVfYWxsb2MoZGV2LCBzdHJ1Y3QgbG9v
bmdzb25fcGxhbmUsIGJhc2UsCisJCQkJCSAgIEJJVChpbmRleCksICZhbXA7bG9vbmdzb25fcGxh
bmVfZnVuY3MsCisJCQkJCSAgIGxvb25nc29uX2Zvcm1hdHMsCisJCQkJCSAgIEFSUkFZX1NJWkUo
bG9vbmdzb25fZm9ybWF0cyksCisJCQkJCSAgIGxvb25nc29uX2Zvcm1hdF9tb2RpZmllcnMsCisJ
CQkJCSAgIERSTV9QTEFORV9UWVBFX1BSSU1BUlksIE5VTEwpOworCWlmIChJU19FUlIocGxhbmUp
KSB7CisJCWRybV9lcnIoZGV2LCAiZmFpbGVkIHRvIGFsbG9jYXRlIGFuZCBpbml0aWFsaXplIHBs
YW5lXG4iKTsKKwkJcmV0dXJuIHBsYW5lOworCX0KKworCWRybV9wbGFuZV9oZWxwZXJfYWRkKCZh
bXA7cGxhbmUtJmd0O2Jhc2UsICZhbXA7bG9vbmdzb25fcGxhbmVfaGVscGVyX2Z1bmNzKTsKKwor
CXJldHVybiBwbGFuZTsKK30KLS0gCjIuMjUuMTwvcHJlPjwhLS3vv70tLT4KPC9kaXY+CjwvYm9k
eT4KPC9odG1sPg==
------=_Part_23471_764077189.1667274123898--

