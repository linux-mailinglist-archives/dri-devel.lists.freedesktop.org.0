Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 8906727781
	for <lists+dri-devel@lfdr.de>; Thu, 23 May 2019 09:54:45 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 77A3189CCB;
	Thu, 23 May 2019 07:54:42 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from perceval.ideasonboard.com (perceval.ideasonboard.com
 [213.167.242.64])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C4C8289CCB
 for <dri-devel@lists.freedesktop.org>; Thu, 23 May 2019 07:54:40 +0000 (UTC)
Received: from pendragon.ideasonboard.com (85-76-106-214-nat.elisa-mobile.fi
 [85.76.106.214])
 by perceval.ideasonboard.com (Postfix) with ESMTPSA id C11DB337;
 Thu, 23 May 2019 09:54:37 +0200 (CEST)
Date: Thu, 23 May 2019 10:54:17 +0300
From: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
To: Torsten Duwe <duwe@lst.de>
Subject: Re: [PATCH 3/6] drm/bridge: extract some Analogix I2C DP common code
Message-ID: <20190523075417.GB5971@pendragon.ideasonboard.com>
References: <20190523065013.2719D68B05@newverein.lst.de>
 <20190523065352.8FD7668B05@newverein.lst.de>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190523065352.8FD7668B05@newverein.lst.de>
User-Agent: Mutt/1.10.1 (2018-07-13)
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=ideasonboard.com; s=mail; t=1558598078;
 bh=dU/mJ1aukZubatyFnvvf7TFqfO/hWUhosSC2Ax4I6rg=;
 h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
 b=c0fRSrDVQQDjKQkW5BbtIenYInPYHiOMGE0fvkvSi9cmNTZYNt+WlJbvbgfFXfLWm
 e+MhxWEGgOzDhesMzRDeJSimKzhgqCwgqECUaDXjhjhxgKmlBNtm+w0MuzqfTZ6LoY
 8ujoW4QzA9UZA3Avahlbnru17EuceT6KDq4fxOqU=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Mark Rutland <mark.rutland@arm.com>, devicetree@vger.kernel.org,
 Maxime Ripard <maxime.ripard@bootlin.com>,
 Greg Kroah-Hartman <gregkh@linuxfoundation.org>, linux-kernel@vger.kernel.org,
 dri-devel@lists.freedesktop.org, Vasily Khoruzhick <anarsoul@gmail.com>,
 David Airlie <airlied@linux.ie>, Chen-Yu Tsai <wens@csie.org>,
 Rob Herring <robh+dt@kernel.org>, Thierry Reding <thierry.reding@gmail.com>,
 Harald Geyer <harald@ccbib.org>, Sean Paul <seanpaul@chromium.org>,
 Thomas Gleixner <tglx@linutronix.de>, linux-arm-kernel@lists.infradead.org,
 Icenowy Zheng <icenowy@aosc.io>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgVG9yc3RlbiwKClRoYW5rIHlvdSBmb3IgdGhlIHBhdGNoLgoKT24gVGh1LCBNYXkgMjMsIDIw
MTkgYXQgMDg6NTM6NTJBTSArMDIwMCwgVG9yc3RlbiBEdXdlIHdyb3RlOgo+IEZyb206IEljZW5v
d3kgWmhlbmcgPGljZW5vd3lAYW9zYy5pbz4KPiAKPiBTb21lIGNvZGUgY2FuIGJlIHNoYXJlZCB3
aXRoaW4gZGlmZmVyZW50IERQIGJyaWRnZXMgYnkgQW5hbG9naXguCj4gCj4gRXh0cmFjdCB0aGVt
IHRvIGEgbmV3IG1vZHVsZS4KPiAKPiBTaWduZWQtb2ZmLWJ5OiBJY2Vub3d5IFpoZW5nIDxpY2Vu
b3d5QGFvc2MuaW8+Cj4gU2lnbmVkLW9mZi1ieTogVmFzaWx5IEtob3J1emhpY2sgPGFuYXJzb3Vs
QGdtYWlsLmNvbT4KPiBTaWduZWQtb2ZmLWJ5OiBUb3JzdGVuIER1d2UgPGR1d2VAc3VzZS5kZT4K
PiAtLS0KPiAgZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9LY29uZmlnICAgICAgICAg
ICAgfCAgIDQgKwo+ICBkcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L01ha2VmaWxlICAg
ICAgICAgICB8ICAgMiArCj4gIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9naXgvYW5hbG9n
aXgtYW54Nzh4eC5jIHwgMTQ2ICstLS0tLS0tLS0tLS0tLS0tLQo+ICAuLi4vZ3B1L2RybS9icmlk
Z2UvYW5hbG9naXgvYW5hbG9naXgtaTJjLWRwdHguYyAgICB8IDE2OSArKysrKysrKysrKysrKysr
KysrKysKPiAgLi4uL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FuYWxvZ2l4LWkyYy1kcHR4Lmgg
ICAgfCAgIDIgKwo+ICA1IGZpbGVzIGNoYW5nZWQsIDE3OCBpbnNlcnRpb25zKCspLCAxNDUgZGVs
ZXRpb25zKC0pCj4gIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2Fu
YWxvZ2l4L2FuYWxvZ2l4LWkyYy1kcHR4LmMKPiAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2JyaWRnZS9hbmFsb2dpeC9LY29uZmlnIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFs
b2dpeC9LY29uZmlnCj4gaW5kZXggYzRkMzQzYTJmMDRkLi5lZDJkMDVjMTI1NDYgMTAwNjQ0Cj4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9LY29uZmlnCj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9LY29uZmlnCj4gQEAgLTEsNiArMSw3IEBACj4g
ICMgU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb25seQo+ICBjb25maWcgRFJNX0FO
QUxPR0lYX0FOWDc4WFgKPiAgCXRyaXN0YXRlICJBbmFsb2dpeCBBTlg3OFhYIGJyaWRnZSIKPiAr
CXNlbGVjdCBEUk1fQU5BTE9HSVhfRFBfSTJDCj4gIAlzZWxlY3QgRFJNX0tNU19IRUxQRVIKPiAg
CXNlbGVjdCBSRUdNQVBfSTJDCj4gIAloZWxwCj4gQEAgLTExLDMgKzEyLDYgQEAgY29uZmlnIERS
TV9BTkFMT0dJWF9BTlg3OFhYCj4gIGNvbmZpZyBEUk1fQU5BTE9HSVhfRFAKPiAgCXRyaXN0YXRl
Cj4gIAlkZXBlbmRzIG9uIERSTQo+ICsKPiArY29uZmlnIERSTV9BTkFMT0dJWF9EUF9JMkMKPiAr
CXRyaXN0YXRlCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9naXgv
TWFrZWZpbGUgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L01ha2VmaWxlCj4gaW5k
ZXggY2UxNjg3ZTYwOTc1Li4yZDUyM2I2NzQ4N2QgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2JyaWRnZS9hbmFsb2dpeC9NYWtlZmlsZQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlk
Z2UvYW5hbG9naXgvTWFrZWZpbGUKPiBAQCAtMSw0ICsxLDYgQEAKPiAgIyBTUERYLUxpY2Vuc2Ut
SWRlbnRpZmllcjogR1BMLTIuMC1vbmx5Cj4gIGFuYWxvZ2l4X2RwLW9ianMgOj0gYW5hbG9naXhf
ZHBfY29yZS5vIGFuYWxvZ2l4X2RwX3JlZy5vCj4gK2FuYWxvZ2l4X2RwX2kyYy1vYmpzIDo9IGFu
YWxvZ2l4LWkyYy1kcHR4Lm8KPiAgb2JqLSQoQ09ORklHX0RSTV9BTkFMT0dJWF9BTlg3OFhYKSAr
PSBhbmFsb2dpeC1hbng3OHh4Lm8KPiAgb2JqLSQoQ09ORklHX0RSTV9BTkFMT0dJWF9EUCkgKz0g
YW5hbG9naXhfZHAubwo+ICtvYmotJChDT05GSUdfRFJNX0FOQUxPR0lYX0RQX0kyQykgKz0gYW5h
bG9naXhfZHBfaTJjLm8KCkRvIHdlIG5lZWQgYSBzZXBhcmF0ZSBtb2R1bGUgZm9yIHRoaXMsIG9y
IGNvdWxkIGl0IGJlIGluY2x1ZGVkIGluCmFuYWxvZ2l4X2RwID8KCj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9naXgvYW5hbG9naXgtYW54Nzh4eC5jIGIvZHJpdmVy
cy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9hbmFsb2dpeC1hbng3OHh4LmMKPiBpbmRleCBmODQz
M2M5M2Y0NjMuLmJmODI5MWQwZGRkMCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJp
ZGdlL2FuYWxvZ2l4L2FuYWxvZ2l4LWFueDc4eHguYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9i
cmlkZ2UvYW5hbG9naXgvYW5hbG9naXgtYW54Nzh4eC5jCj4gQEAgLTQ1LDggKzQ1LDYgQEAKPiAg
I2RlZmluZSBJMkNfSURYX1JYX1AxCQk0Cj4gIAo+ICAjZGVmaW5lIFhUQUxfQ0xLCQkyNzAgLyog
MjdNICovCj4gLSNkZWZpbmUgQVVYX0NIX0JVRkZFUl9TSVpFCTE2Cj4gLSNkZWZpbmUgQVVYX1dB
SVRfVElNRU9VVF9NUwkxNQo+ICAKPiAgc3RhdGljIGNvbnN0IHU4IGFueDc4eHhfaTJjX2FkZHJl
c3Nlc1tdID0gewo+ICAJW0kyQ19JRFhfVFhfUDBdID0gVFhfUDAsCj4gQEAgLTEwOSwxNTMgKzEw
NywxMSBAQCBzdGF0aWMgaW50IGFueDc4eHhfY2xlYXJfYml0cyhzdHJ1Y3QgcmVnbWFwICptYXAs
IHU4IHJlZywgdTggbWFzaykKPiAgCXJldHVybiByZWdtYXBfdXBkYXRlX2JpdHMobWFwLCByZWcs
IG1hc2ssIDApOwo+ICB9Cj4gIAo+IC1zdGF0aWMgYm9vbCBhbng3OHh4X2F1eF9vcF9maW5pc2hl
ZChzdHJ1Y3QgYW54Nzh4eCAqYW54Nzh4eCkKPiAtewo+IC0JdW5zaWduZWQgaW50IHZhbHVlOwo+
IC0JaW50IGVycjsKPiAtCj4gLQllcnIgPSByZWdtYXBfcmVhZChhbng3OHh4LT5tYXBbSTJDX0lE
WF9UWF9QMF0sIFNQX0RQX0FVWF9DSF9DVFJMMl9SRUcsCj4gLQkJCSAgJnZhbHVlKTsKPiAtCWlm
IChlcnIgPCAwKQo+IC0JCXJldHVybiBmYWxzZTsKPiAtCj4gLQlyZXR1cm4gKHZhbHVlICYgU1Bf
QVVYX0VOKSA9PSAwOwo+IC19Cj4gLQo+IC1zdGF0aWMgaW50IGFueDc4eHhfYXV4X3dhaXQoc3Ry
dWN0IGFueDc4eHggKmFueDc4eHgpCj4gLXsKPiAtCXVuc2lnbmVkIGxvbmcgdGltZW91dDsKPiAt
CXVuc2lnbmVkIGludCBzdGF0dXM7Cj4gLQlpbnQgZXJyOwo+IC0KPiAtCXRpbWVvdXQgPSBqaWZm
aWVzICsgbXNlY3NfdG9famlmZmllcyhBVVhfV0FJVF9USU1FT1VUX01TKSArIDE7Cj4gLQo+IC0J
d2hpbGUgKCFhbng3OHh4X2F1eF9vcF9maW5pc2hlZChhbng3OHh4KSkgewo+IC0JCWlmICh0aW1l
X2FmdGVyKGppZmZpZXMsIHRpbWVvdXQpKSB7Cj4gLQkJCWlmICghYW54Nzh4eF9hdXhfb3BfZmlu
aXNoZWQoYW54Nzh4eCkpIHsKPiAtCQkJCURSTV9FUlJPUigiVGltZWQgb3V0IHdhaXRpbmcgQVVY
IHRvIGZpbmlzaFxuIik7Cj4gLQkJCQlyZXR1cm4gLUVUSU1FRE9VVDsKPiAtCQkJfQo+IC0KPiAt
CQkJYnJlYWs7Cj4gLQkJfQo+IC0KPiAtCQl1c2xlZXBfcmFuZ2UoMTAwMCwgMjAwMCk7Cj4gLQl9
Cj4gLQo+IC0JLyogUmVhZCB0aGUgQVVYIGNoYW5uZWwgYWNjZXNzIHN0YXR1cyAqLwo+IC0JZXJy
ID0gcmVnbWFwX3JlYWQoYW54Nzh4eC0+bWFwW0kyQ19JRFhfVFhfUDBdLCBTUF9BVVhfQ0hfU1RB
VFVTX1JFRywKPiAtCQkJICAmc3RhdHVzKTsKPiAtCWlmIChlcnIgPCAwKSB7Cj4gLQkJRFJNX0VS
Uk9SKCJGYWlsZWQgdG8gcmVhZCBmcm9tIEFVWCBjaGFubmVsOiAlZFxuIiwgZXJyKTsKPiAtCQly
ZXR1cm4gZXJyOwo+IC0JfQo+IC0KPiAtCWlmIChzdGF0dXMgJiBTUF9BVVhfU1RBVFVTKSB7Cj4g
LQkJRFJNX0VSUk9SKCJGYWlsZWQgdG8gd2FpdCBmb3IgQVVYIGNoYW5uZWwgKHN0YXR1czogJTAy
eClcbiIsCj4gLQkJCSAgc3RhdHVzKTsKPiAtCQlyZXR1cm4gLUVUSU1FRE9VVDsKPiAtCX0KPiAt
Cj4gLQlyZXR1cm4gMDsKPiAtfQo+IC0KPiAtc3RhdGljIGludCBhbng3OHh4X2F1eF9hZGRyZXNz
KHN0cnVjdCBhbng3OHh4ICphbng3OHh4LCB1bnNpZ25lZCBpbnQgYWRkcikKPiAtewo+IC0JaW50
IGVycjsKPiAtCj4gLQllcnIgPSByZWdtYXBfd3JpdGUoYW54Nzh4eC0+bWFwW0kyQ19JRFhfVFhf
UDBdLCBTUF9BVVhfQUREUl83XzBfUkVHLAo+IC0JCQkgICBhZGRyICYgMHhmZik7Cj4gLQlpZiAo
ZXJyKQo+IC0JCXJldHVybiBlcnI7Cj4gLQo+IC0JZXJyID0gcmVnbWFwX3dyaXRlKGFueDc4eHgt
Pm1hcFtJMkNfSURYX1RYX1AwXSwgU1BfQVVYX0FERFJfMTVfOF9SRUcsCj4gLQkJCSAgIChhZGRy
ICYgMHhmZjAwKSA+PiA4KTsKPiAtCWlmIChlcnIpCj4gLQkJcmV0dXJuIGVycjsKPiAtCj4gLQkv
Kgo+IC0JICogRFAgQVVYIENIIEFkZHJlc3MgUmVnaXN0ZXIgIzIsIG9ubHkgdXBkYXRlIGJpdHNb
MzowXQo+IC0JICogWzc6NF0gUkVTRVJWRUQKPiAtCSAqIFszOjBdIEFVWF9BRERSWzE5OjE2XSwg
UmVnaXN0ZXIgY29udHJvbCBBVVggQ0ggYWRkcmVzcy4KPiAtCSAqLwo+IC0JZXJyID0gcmVnbWFw
X3VwZGF0ZV9iaXRzKGFueDc4eHgtPm1hcFtJMkNfSURYX1RYX1AwXSwKPiAtCQkJCSBTUF9BVVhf
QUREUl8xOV8xNl9SRUcsCj4gLQkJCQkgU1BfQVVYX0FERFJfMTlfMTZfTUFTSywKPiAtCQkJCSAo
YWRkciAmIDB4ZjAwMDApID4+IDE2KTsKPiAtCj4gLQlpZiAoZXJyKQo+IC0JCXJldHVybiBlcnI7
Cj4gLQo+IC0JcmV0dXJuIDA7Cj4gLX0KPiAtCj4gIHN0YXRpYyBzc2l6ZV90IGFueDc4eHhfYXV4
X3RyYW5zZmVyKHN0cnVjdCBkcm1fZHBfYXV4ICphdXgsCj4gIAkJCQkgICAgc3RydWN0IGRybV9k
cF9hdXhfbXNnICptc2cpCj4gIHsKPiAgCXN0cnVjdCBhbng3OHh4ICphbng3OHh4ID0gY29udGFp
bmVyX29mKGF1eCwgc3RydWN0IGFueDc4eHgsIGF1eCk7Cj4gLQl1OCBjdHJsMSA9IG1zZy0+cmVx
dWVzdDsKPiAtCXU4IGN0cmwyID0gU1BfQVVYX0VOOwo+IC0JdTggKmJ1ZmZlciA9IG1zZy0+YnVm
ZmVyOwo+IC0JaW50IGVycjsKPiAtCj4gLQkvKiBUaGUgRFAgQVVYIHRyYW5zbWl0IGFuZCByZWNl
aXZlIGJ1ZmZlciBoYXMgMTYgYnl0ZXMuICovCj4gLQlpZiAoV0FSTl9PTihtc2ctPnNpemUgPiBB
VVhfQ0hfQlVGRkVSX1NJWkUpKQo+IC0JCXJldHVybiAtRTJCSUc7Cj4gLQo+IC0JLyogWmVyby1z
aXplZCBtZXNzYWdlcyBzcGVjaWZ5IGFkZHJlc3Mtb25seSB0cmFuc2FjdGlvbnMuICovCj4gLQlp
ZiAobXNnLT5zaXplIDwgMSkKPiAtCQljdHJsMiB8PSBTUF9BRERSX09OTFk7Cj4gLQllbHNlCS8q
IEZvciBub24temVyby1zaXplZCBzZXQgdGhlIGxlbmd0aCBmaWVsZC4gKi8KPiAtCQljdHJsMSB8
PSAobXNnLT5zaXplIC0gMSkgPDwgU1BfQVVYX0xFTkdUSF9TSElGVDsKPiAtCj4gLQlpZiAoKG1z
Zy0+cmVxdWVzdCAmIERQX0FVWF9JMkNfUkVBRCkgPT0gMCkgewo+IC0JCS8qIFdoZW4gV1JJVEUg
fCBNT1Qgd3JpdGUgdmFsdWVzIHRvIGRhdGEgYnVmZmVyICovCj4gLQkJZXJyID0gcmVnbWFwX2J1
bGtfd3JpdGUoYW54Nzh4eC0+bWFwW0kyQ19JRFhfVFhfUDBdLAo+IC0JCQkJCVNQX0RQX0JVRl9E
QVRBMF9SRUcsIGJ1ZmZlciwKPiAtCQkJCQltc2ctPnNpemUpOwo+IC0JCWlmIChlcnIpCj4gLQkJ
CXJldHVybiBlcnI7Cj4gLQl9Cj4gLQo+IC0JLyogV3JpdGUgYWRkcmVzcyBhbmQgcmVxdWVzdCAq
Lwo+IC0JZXJyID0gYW54Nzh4eF9hdXhfYWRkcmVzcyhhbng3OHh4LCBtc2ctPmFkZHJlc3MpOwo+
IC0JaWYgKGVycikKPiAtCQlyZXR1cm4gZXJyOwo+IC0KPiAtCWVyciA9IHJlZ21hcF93cml0ZShh
bng3OHh4LT5tYXBbSTJDX0lEWF9UWF9QMF0sIFNQX0RQX0FVWF9DSF9DVFJMMV9SRUcsCj4gLQkJ
CSAgIGN0cmwxKTsKPiAtCWlmIChlcnIpCj4gLQkJcmV0dXJuIGVycjsKPiAtCj4gLQkvKiBTdGFy
dCB0cmFuc2FjdGlvbiAqLwo+IC0JZXJyID0gcmVnbWFwX3VwZGF0ZV9iaXRzKGFueDc4eHgtPm1h
cFtJMkNfSURYX1RYX1AwXSwKPiAtCQkJCSBTUF9EUF9BVVhfQ0hfQ1RSTDJfUkVHLCBTUF9BRERS
X09OTFkgfAo+IC0JCQkJIFNQX0FVWF9FTiwgY3RybDIpOwo+IC0JaWYgKGVycikKPiAtCQlyZXR1
cm4gZXJyOwo+IC0KPiAtCWVyciA9IGFueDc4eHhfYXV4X3dhaXQoYW54Nzh4eCk7Cj4gLQlpZiAo
ZXJyKQo+IC0JCXJldHVybiBlcnI7Cj4gLQo+IC0JbXNnLT5yZXBseSA9IERQX0FVWF9JMkNfUkVQ
TFlfQUNLOwo+IC0KPiAtCWlmICgobXNnLT5zaXplID4gMCkgJiYgKG1zZy0+cmVxdWVzdCAmIERQ
X0FVWF9JMkNfUkVBRCkpIHsKPiAtCQkvKiBSZWFkIHZhbHVlcyBmcm9tIGRhdGEgYnVmZmVyICov
Cj4gLQkJZXJyID0gcmVnbWFwX2J1bGtfcmVhZChhbng3OHh4LT5tYXBbSTJDX0lEWF9UWF9QMF0s
Cj4gLQkJCQkgICAgICAgU1BfRFBfQlVGX0RBVEEwX1JFRywgYnVmZmVyLAo+IC0JCQkJICAgICAg
IG1zZy0+c2l6ZSk7Cj4gLQkJaWYgKGVycikKPiAtCQkJcmV0dXJuIGVycjsKPiAtCX0KPiAtCj4g
LQllcnIgPSBhbng3OHh4X2NsZWFyX2JpdHMoYW54Nzh4eC0+bWFwW0kyQ19JRFhfVFhfUDBdLAo+
IC0JCQkJIFNQX0RQX0FVWF9DSF9DVFJMMl9SRUcsIFNQX0FERFJfT05MWSk7Cj4gLQlpZiAoZXJy
KQo+IC0JCXJldHVybiBlcnI7Cj4gLQo+IC0JcmV0dXJuIG1zZy0+c2l6ZTsKPiArCXJldHVybiBh
bnhfYXV4X3RyYW5zZmVyKGFueDc4eHgtPm1hcFtJMkNfSURYX1RYX1AwXSwgbXNnKTsKPiAgfQo+
ICAKPiAgc3RhdGljIGludCBhbng3OHh4X3NldF9ocGQoc3RydWN0IGFueDc4eHggKmFueDc4eHgp
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9naXgvYW5hbG9naXgt
aTJjLWRwdHguYyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9naXgvYW5hbG9naXgtaTJj
LWRwdHguYwo+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0Cj4gaW5kZXggMDAwMDAwMDAwMDAwLi45Y2Iz
MDk2MjAzMmUKPiAtLS0gL2Rldi9udWxsCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9h
bmFsb2dpeC9hbmFsb2dpeC1pMmMtZHB0eC5jCj4gQEAgLTAsMCArMSwxNjkgQEAKPiArLy8gU1BE
WC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAKPiArLyoKPiArICogQ29weXJpZ2h0KGMpIDIw
MTcgSWNlbm93eSBaaGVuZyA8aWNlbm93eUBhb3NjLmlvPgo+ICsgKgo+ICsgKiBCYXNlZCBvbiBh
bmFsb2dpeC1hbng3OHh4LmMsIHdoaWNoIGlzOgo+ICsgKiAgIENvcHlyaWdodChjKSAyMDE2LCBB
bmFsb2dpeCBTZW1pY29uZHVjdG9yLiBBbGwgcmlnaHRzIHJlc2VydmVkLgo+ICsgKi8KPiArCj4g
KyNpbmNsdWRlIDxsaW51eC9tb2R1bGUuaD4KPiArI2luY2x1ZGUgPGxpbnV4L3JlZ21hcC5oPgo+
ICsKPiArI2luY2x1ZGUgPGRybS9kcm0uaD4KPiArI2luY2x1ZGUgPGRybS9kcm1QLmg+Cj4gKyNp
bmNsdWRlIDxkcm0vZHJtX2RwX2hlbHBlci5oPgo+ICsKPiArI2luY2x1ZGUgImFuYWxvZ2l4LWky
Yy1kcHR4LmgiCj4gKwo+ICsjZGVmaW5lIEFVWF9XQUlUX1RJTUVPVVRfTVMJMTUKPiArI2RlZmlu
ZSBBVVhfQ0hfQlVGRkVSX1NJWkUJMTYKPiArCj4gK3N0YXRpYyBpbnQgYW54X2NsZWFyX2JpdHMo
c3RydWN0IHJlZ21hcCAqbWFwLCB1OCByZWcsIHU4IG1hc2spCj4gK3sKPiArCXJldHVybiByZWdt
YXBfdXBkYXRlX2JpdHMobWFwLCByZWcsIG1hc2ssIDApOwo+ICt9Cj4gKwo+ICtzdGF0aWMgYm9v
bCBhbnhfYXV4X29wX2ZpbmlzaGVkKHN0cnVjdCByZWdtYXAgKm1hcF9kcHR4KQo+ICt7Cj4gKwl1
bnNpZ25lZCBpbnQgdmFsdWU7Cj4gKwlpbnQgZXJyOwo+ICsKPiArCWVyciA9IHJlZ21hcF9yZWFk
KG1hcF9kcHR4LCBTUF9EUF9BVVhfQ0hfQ1RSTDJfUkVHLCAmdmFsdWUpOwo+ICsJaWYgKGVyciA8
IDApCj4gKwkJcmV0dXJuIGZhbHNlOwo+ICsKPiArCXJldHVybiAodmFsdWUgJiBTUF9BVVhfRU4p
ID09IDA7Cj4gK30KPiArCj4gK3N0YXRpYyBpbnQgYW54X2F1eF93YWl0KHN0cnVjdCByZWdtYXAg
Km1hcF9kcHR4KQo+ICt7Cj4gKwl1bnNpZ25lZCBsb25nIHRpbWVvdXQ7Cj4gKwl1bnNpZ25lZCBp
bnQgc3RhdHVzOwo+ICsJaW50IGVycjsKPiArCj4gKwl0aW1lb3V0ID0gamlmZmllcyArIG1zZWNz
X3RvX2ppZmZpZXMoQVVYX1dBSVRfVElNRU9VVF9NUykgKyAxOwo+ICsKPiArCXdoaWxlICghYW54
X2F1eF9vcF9maW5pc2hlZChtYXBfZHB0eCkpIHsKPiArCQlpZiAodGltZV9hZnRlcihqaWZmaWVz
LCB0aW1lb3V0KSkgewo+ICsJCQlpZiAoIWFueF9hdXhfb3BfZmluaXNoZWQobWFwX2RwdHgpKSB7
Cj4gKwkJCQlEUk1fRVJST1IoIlRpbWVkIG91dCB3YWl0aW5nIEFVWCB0byBmaW5pc2hcbiIpOwo+
ICsJCQkJcmV0dXJuIC1FVElNRURPVVQ7Cj4gKwkJCX0KPiArCj4gKwkJCWJyZWFrOwo+ICsJCX0K
PiArCj4gKwkJdXNsZWVwX3JhbmdlKDEwMDAsIDIwMDApOwo+ICsJfQo+ICsKPiArCS8qIFJlYWQg
dGhlIEFVWCBjaGFubmVsIGFjY2VzcyBzdGF0dXMgKi8KPiArCWVyciA9IHJlZ21hcF9yZWFkKG1h
cF9kcHR4LCBTUF9BVVhfQ0hfU1RBVFVTX1JFRywgJnN0YXR1cyk7Cj4gKwlpZiAoZXJyIDwgMCkg
ewo+ICsJCURSTV9FUlJPUigiRmFpbGVkIHRvIHJlYWQgZnJvbSBBVVggY2hhbm5lbDogJWRcbiIs
IGVycik7Cj4gKwkJcmV0dXJuIGVycjsKPiArCX0KPiArCj4gKwlpZiAoc3RhdHVzICYgU1BfQVVY
X1NUQVRVUykgewo+ICsJCURSTV9FUlJPUigiRmFpbGVkIHRvIHdhaXQgZm9yIEFVWCBjaGFubmVs
IChzdGF0dXM6ICUwMngpXG4iLAo+ICsJCQkgIHN0YXR1cyk7Cj4gKwkJcmV0dXJuIC1FVElNRURP
VVQ7Cj4gKwl9Cj4gKwo+ICsJcmV0dXJuIDA7Cj4gK30KPiArCj4gK3N0YXRpYyBpbnQgYW54X2F1
eF9hZGRyZXNzKHN0cnVjdCByZWdtYXAgKm1hcF9kcHR4LCB1bnNpZ25lZCBpbnQgYWRkcikKPiAr
ewo+ICsJaW50IGVycjsKPiArCj4gKwllcnIgPSByZWdtYXBfd3JpdGUobWFwX2RwdHgsIFNQX0FV
WF9BRERSXzdfMF9SRUcsIGFkZHIgJiAweGZmKTsKPiArCWlmIChlcnIpCj4gKwkJcmV0dXJuIGVy
cjsKPiArCj4gKwllcnIgPSByZWdtYXBfd3JpdGUobWFwX2RwdHgsIFNQX0FVWF9BRERSXzE1Xzhf
UkVHLAo+ICsJCQkgICAoYWRkciAmIDB4ZmYwMCkgPj4gOCk7Cj4gKwlpZiAoZXJyKQo+ICsJCXJl
dHVybiBlcnI7Cj4gKwo+ICsJLyoKPiArCSAqIERQIEFVWCBDSCBBZGRyZXNzIFJlZ2lzdGVyICMy
LCBvbmx5IHVwZGF0ZSBiaXRzWzM6MF0KPiArCSAqIFs3OjRdIFJFU0VSVkVECj4gKwkgKiBbMzow
XSBBVVhfQUREUlsxOToxNl0sIFJlZ2lzdGVyIGNvbnRyb2wgQVVYIENIIGFkZHJlc3MuCj4gKwkg
Ki8KPiArCWVyciA9IHJlZ21hcF91cGRhdGVfYml0cyhtYXBfZHB0eCwgU1BfQVVYX0FERFJfMTlf
MTZfUkVHLAo+ICsJCQkJIFNQX0FVWF9BRERSXzE5XzE2X01BU0ssCj4gKwkJCQkgKGFkZHIgJiAw
eGYwMDAwKSA+PiAxNik7Cj4gKwo+ICsJaWYgKGVycikKPiArCQlyZXR1cm4gZXJyOwo+ICsKPiAr
CXJldHVybiAwOwo+ICt9Cj4gKwo+ICtzc2l6ZV90IGFueF9hdXhfdHJhbnNmZXIoc3RydWN0IHJl
Z21hcCAqbWFwX2RwdHgsIHN0cnVjdCBkcm1fZHBfYXV4X21zZyAqbXNnKQo+ICt7Cj4gKwl1OCBj
dHJsMSA9IG1zZy0+cmVxdWVzdDsKPiArCXU4IGN0cmwyID0gU1BfQVVYX0VOOwo+ICsJdTggKmJ1
ZmZlciA9IG1zZy0+YnVmZmVyOwo+ICsJaW50IGVycjsKPiArCj4gKwkvKiBUaGUgRFAgQVVYIHRy
YW5zbWl0IGFuZCByZWNlaXZlIGJ1ZmZlciBoYXMgMTYgYnl0ZXMuICovCj4gKwlpZiAoV0FSTl9P
Tihtc2ctPnNpemUgPiBBVVhfQ0hfQlVGRkVSX1NJWkUpKQo+ICsJCXJldHVybiAtRTJCSUc7Cj4g
Kwo+ICsJLyogWmVyby1zaXplZCBtZXNzYWdlcyBzcGVjaWZ5IGFkZHJlc3Mtb25seSB0cmFuc2Fj
dGlvbnMuICovCj4gKwlpZiAobXNnLT5zaXplIDwgMSkKPiArCQljdHJsMiB8PSBTUF9BRERSX09O
TFk7Cj4gKwllbHNlCS8qIEZvciBub24temVyby1zaXplZCBzZXQgdGhlIGxlbmd0aCBmaWVsZC4g
Ki8KPiArCQljdHJsMSB8PSAobXNnLT5zaXplIC0gMSkgPDwgU1BfQVVYX0xFTkdUSF9TSElGVDsK
PiArCj4gKwlpZiAoKG1zZy0+cmVxdWVzdCAmIERQX0FVWF9JMkNfUkVBRCkgPT0gMCkgewo+ICsJ
CS8qIFdoZW4gV1JJVEUgfCBNT1Qgd3JpdGUgdmFsdWVzIHRvIGRhdGEgYnVmZmVyICovCj4gKwkJ
ZXJyID0gcmVnbWFwX2J1bGtfd3JpdGUobWFwX2RwdHgsCj4gKwkJCQkJU1BfRFBfQlVGX0RBVEEw
X1JFRywgYnVmZmVyLAo+ICsJCQkJCW1zZy0+c2l6ZSk7Cj4gKwkJaWYgKGVycikKPiArCQkJcmV0
dXJuIGVycjsKPiArCX0KPiArCj4gKwkvKiBXcml0ZSBhZGRyZXNzIGFuZCByZXF1ZXN0ICovCj4g
KwllcnIgPSBhbnhfYXV4X2FkZHJlc3MobWFwX2RwdHgsIG1zZy0+YWRkcmVzcyk7Cj4gKwlpZiAo
ZXJyKQo+ICsJCXJldHVybiBlcnI7Cj4gKwo+ICsJZXJyID0gcmVnbWFwX3dyaXRlKG1hcF9kcHR4
LCBTUF9EUF9BVVhfQ0hfQ1RSTDFfUkVHLCBjdHJsMSk7Cj4gKwlpZiAoZXJyKQo+ICsJCXJldHVy
biBlcnI7Cj4gKwo+ICsJLyogU3RhcnQgdHJhbnNhY3Rpb24gKi8KPiArCWVyciA9IHJlZ21hcF91
cGRhdGVfYml0cyhtYXBfZHB0eCwgU1BfRFBfQVVYX0NIX0NUUkwyX1JFRywKPiArCQkJCSBTUF9B
RERSX09OTFkgfCBTUF9BVVhfRU4sIGN0cmwyKTsKPiArCWlmIChlcnIpCj4gKwkJcmV0dXJuIGVy
cjsKPiArCj4gKwllcnIgPSBhbnhfYXV4X3dhaXQobWFwX2RwdHgpOwo+ICsJaWYgKGVycikKPiAr
CQlyZXR1cm4gZXJyOwo+ICsKPiArCW1zZy0+cmVwbHkgPSBEUF9BVVhfSTJDX1JFUExZX0FDSzsK
PiArCj4gKwlpZiAoKG1zZy0+c2l6ZSA+IDApICYmIChtc2ctPnJlcXVlc3QgJiBEUF9BVVhfSTJD
X1JFQUQpKSB7Cj4gKwkJLyogUmVhZCB2YWx1ZXMgZnJvbSBkYXRhIGJ1ZmZlciAqLwo+ICsJCWVy
ciA9IHJlZ21hcF9idWxrX3JlYWQobWFwX2RwdHgsCj4gKwkJCQkgICAgICAgU1BfRFBfQlVGX0RB
VEEwX1JFRywgYnVmZmVyLAo+ICsJCQkJICAgICAgIG1zZy0+c2l6ZSk7Cj4gKwkJaWYgKGVycikK
PiArCQkJcmV0dXJuIGVycjsKPiArCX0KPiArCj4gKwllcnIgPSBhbnhfY2xlYXJfYml0cyhtYXBf
ZHB0eCwgU1BfRFBfQVVYX0NIX0NUUkwyX1JFRywgU1BfQUREUl9PTkxZKTsKPiArCWlmIChlcnIp
Cj4gKwkJcmV0dXJuIGVycjsKPiArCj4gKwlyZXR1cm4gbXNnLT5zaXplOwo+ICt9Cj4gK0VYUE9S
VF9TWU1CT0woYW54X2F1eF90cmFuc2Zlcik7CgpBcyB0aGUgY29kZSBsaWNlbnNlIGlzIEdQTCBh
bmQgdGhlIGFuYWxvZ2ljIERQIGNvcmUgY29yZSBpcyBleHBvcnRlZAp3aXRoIEVYUE9SVF9TWU1C
T0xfR1BMLCBzaG91bGQgaXQgYmUgdGhlIGNhc2UgaGVyZSB0b28gPwoKPiArCj4gK01PRFVMRV9E
RVNDUklQVElPTigiQW5hbG9naXggRGlzcGxheVBvcnQgVHJhbnNtaXR0ZXIgY29tbW9uIGNvZGUi
KTsKPiArTU9EVUxFX0FVVEhPUigiSWNlbm93eSBaaGVuZyA8aWNlbm93eUBhb3NjLmlvPiIpOwo+
ICtNT0RVTEVfTElDRU5TRSgiR1BMIHYyIik7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9icmlkZ2UvYW5hbG9naXgvYW5hbG9naXgtaTJjLWRwdHguaCBiL2RyaXZlcnMvZ3B1L2RybS9i
cmlkZ2UvYW5hbG9naXgvYW5hbG9naXgtaTJjLWRwdHguaAo+IGluZGV4IGJjMDgzMWIxMjdiZi4u
YzJjYTg1NDYxM2EwIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9n
aXgvYW5hbG9naXgtaTJjLWRwdHguaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5h
bG9naXgvYW5hbG9naXgtaTJjLWRwdHguaAo+IEBAIC0yNDUsNCArMjQ1LDYgQEAKPiAgLyogRFAg
QVVYIEJ1ZmZlciBEYXRhIFJlZ2lzdGVycyAqLwo+ICAjZGVmaW5lIFNQX0RQX0JVRl9EQVRBMF9S
RUcJCTB4ZjAKPiAgCj4gK3NzaXplX3QgYW54X2F1eF90cmFuc2ZlcihzdHJ1Y3QgcmVnbWFwICpt
YXBfZHB0eCwgc3RydWN0IGRybV9kcF9hdXhfbXNnICptc2cpOwoKVGhlIG5hbWUgaXMgYSBiaXQg
Z2VuZXJpYywgc2hvdWxkIGl0IGJlIGFueF9kcF9hdXhfdHJhbnNmZXIoKSA/Cgo+ICsKPiAgI2Vu
ZGlmCgotLSAKUmVnYXJkcywKCkxhdXJlbnQgUGluY2hhcnQKX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2
ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21h
aWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
