Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 4B124A1C0C7
	for <lists+dri-devel@lfdr.de>; Sat, 25 Jan 2025 04:53:52 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 44D3410E013;
	Sat, 25 Jan 2025 03:53:49 +0000 (UTC)
Authentication-Results: gabe.freedesktop.org;
	dkim=fail reason="signature verification failed" (1024-bit key; unprotected) header.d=163.com header.i=@163.com header.b="HlqfImPM";
	dkim-atps=neutral
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from m16.mail.163.com (m16.mail.163.com [117.135.210.2])
 by gabe.freedesktop.org (Postfix) with ESMTP id D2E6B10E013;
 Sat, 25 Jan 2025 03:53:47 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=163.com;
 s=s110527; h=Date:From:Subject:Content-Type:MIME-Version:
 Message-ID; bh=2/L6xcxciPFXhq1+98/BrTtpuT7hqPPpmT29iiXWoHA=; b=H
 lqfImPMg0lRktI/+e1Xi8IfWdIUdMYUkLAG/OiT1Q3+P4pPcCQv7AD11dBwv02zP
 e8Hv40MvW54sZXg3AB65gjP0IV10DTuydaFF6uh+PlIKsBlEs/fIUnnT7hhO63xn
 /uPlc8mgtJONtsZXZYo6bUEzGWThBMsxgi97HctRzc=
Received: from andyshrk$163.com ( [58.22.7.114] ) by
 ajax-webmail-wmsvr-40-141 (Coremail) ; Sat, 25 Jan 2025 11:53:36 +0800
 (CST)
X-Originating-IP: [58.22.7.114]
Date: Sat, 25 Jan 2025 11:53:36 +0800 (CST)
From: "Andy Yan" <andyshrk@163.com>
To: "Jani Nikula" <jani.nikula@intel.com>
Cc: dri-devel@lists.freedesktop.org, intel-gfx@lists.freedesktop.org,
 "Sandy Huang" <hjc@rock-chips.com>,
 =?UTF-8?Q?Heiko_St=C3=BCbner?= <heiko@sntech.de>,
 "Andy Yan" <andy.yan@rock-chips.com>, linux-arm-kernel@lists.infradead.org,
 linux-rockchip@lists.infradead.org, sam@ravnborg.org,
 "Cristian Ciocaltea" <cristian.ciocaltea@collabora.com>
Subject: Re:Re:[PATCH 2/5] drm/rockchip: stop passing non struct drm_device
 to drm_err() and friends
X-Priority: 3
X-Mailer: Coremail Webmail Server Version XT5.0.14 build 20240801(9da12a7b)
 Copyright (c) 2002-2025 www.mailtech.cn 163com
In-Reply-To: <87plkcbfp0.fsf@intel.com>
References: <cover.1737644530.git.jani.nikula@intel.com>
 <f42da4c9943a2f2a9de4272b7849e72236d4c3f9.1737644530.git.jani.nikula@intel.com>
 <2c0a76c3.618c.19497bb4329.Coremail.andyshrk@163.com>
 <87plkcbfp0.fsf@intel.com>
X-NTES-SC: AL_Qu2YBfucuEoq4CadYukfmkcVgOw9UcO5v/Qk3oZXOJF8jCrr+CUnVkFMJFbsweeONhCLrheYTj1O48h1bZN6b5MbmZH3ncD3yFJqYxpNdEe98g==
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset=UTF-8
MIME-Version: 1.0
Message-ID: <730ee1d4.f63.1949b97fc99.Coremail.andyshrk@163.com>
X-Coremail-Locale: zh_CN
X-CM-TRANSID: jSgvCgD3__tAYJRnWmZeAA--.23567W
X-CM-SenderInfo: 5dqg52xkunqiywtou0bp/xtbB0hXfXmeUTS65QgAFso
X-Coremail-Antispam: 1U5529EdanIXcx71UUUUU7vcSsGvfC2KfnxnUU==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

CgrlnKggMjAyNS0wMS0yNCAxOTo0MzowN++8jCJKYW5pIE5pa3VsYSIgPGphbmkubmlrdWxhQGlu
dGVsLmNvbT4g5YaZ6YGT77yaCj5PbiBGcmksIDI0IEphbiAyMDI1LCAiQW5keSBZYW4iIDxhbmR5
c2hya0AxNjMuY29tPiB3cm90ZToKPj4gSGnvvIwKPj4KPj4gQXQgMjAyNS0wMS0yMyAyMzowOTow
OSwgIkphbmkgTmlrdWxhIiA8amFuaS5uaWt1bGFAaW50ZWwuY29tPiB3cm90ZToKPj4+VGhlIGV4
cGVjdGF0aW9uIGlzIHRoYXQgdGhlIHN0cnVjdCBkcm1fZGV2aWNlIGJhc2VkIGxvZ2dpbmcgaGVs
cGVycyBnZXQKPj4+cGFzc2VkIGFuIGFjdHVhbCBzdHJ1Y3QgZHJtX2RldmljZSBwb2ludGVyIHJh
dGhlciB0aGFuIHNvbWUgcmFuZG9tCj4+PnN0cnVjdCBwb2ludGVyIHdoZXJlIHlvdSBjYW4gZGVy
ZWZlcmVuY2UgdGhlIC0+ZGV2IG1lbWJlci4KPj4+Cj4+PkNvbnZlcnQgZHJtX2VycihoZG1pLCAu
Li4pIHRvIGRldl9lcnIoaGRtaS0+ZGV2LCAuLi4pLiBUaGlzIG1hdGNoZXMKPj4+Y3VycmVudCB1
c2FnZSwgYnV0IGRyb3BzICJbZHJtXSAqRVJST1IqIiBwcmVmaXggZnJvbSBsb2dnaW5nLgo+Pgo+
PiBGcmFua2x5LCBJIHByZWZlciB0aGUgb3JpZ2luYWwgdmVyc2lvbiBvZiB0aGUgbG9nLgo+PiBJ
dCBpcyBhIHBsYXRmb3JtIGRyaXZlciwgc28gaXQgc2hvdWxkIHVzZSBpdHMgb3duIGRldmljZS4K
Pj4gSXQgaXMgYSBkcml2ZXIgdGhhdCB3b3JrcyBpbiBkcm0gc3Vic3lzdGVtLCBzbyBpdCdzIGJl
dHRlciB0byB1c2UgIltkcm1dICpFUlJPUioiIHByZWZpeCB3aGVuIGxvZ2dpbmcKPgo+SWYgeW91
IG5lZWQgdG8gZG8gc3RydWN0IGRldmljZSBiYXNlZCBsb2dnaW5nIHRoYXQgaXMgbm90IHRoZSBz
YW1lCj5kZXZpY2UgYXMgdGhlIHN0cnVjdCBkcm1fZGV2aWNlIGRldiBtZW1iZXIsIHlvdSBuZWVk
IHRvIHVzZSBkZXZfZXJyKCkKPmFuZCBmcmllbmRzLiBZb3UgY2FuJ3QgYW5kIG11c3Qgbm90IHVz
ZSBkcm1fZXJyKCkgYW5kIGZyaWVuZHMuCj4KPkl0J3MgYXMgc2ltcGxlIGFzIHRoYXQuCj4KPlRo
ZSBjdXJyZW50IGRybV9lcnIoaGRtaSwgLi4uKSB1c2FnZSBpcyBzaW1wbHkgYWJ1c2Ugb2YgdGhl
IG1hY3JvcywgYW5kCj5tdXN0IHN0b3AuCgpQZXJoYXBzIHdoZW4geW91IGluaXRpYWxseSBkZXNp
Z25lZCB0aGlzIG1hY3JvcywgeW91IGludGVuZGVkIGl0IHRvIGFjY2VwdCBvbmx5IGRybV9kZXZp
Y2UsIApidXQgeW91ciBjb2RlIGltcGxlbWVudGF0aW9uIGRpZG4ndCBlbmZvcmNlIHRoaXMgcmVz
dHJpY3Rpb24gYXQgdGhlIGJlZ2lubmluZy4KSWYgdGhhdCdzIHRydWx5IHdoYXQgeW91IGludGVu
ZGVkLCBJIHN1Z2dlc3QganVzdCByZXZlcnRpbmcgdGhpcyBjb21taXQgdGhhdCBjb252ZXJ0aW5n
IHRvIHVzZSB0aGVzZSBtYWNyb3NbMF0sIAphcyBuZWl0aGVyIGRybV9lcnIgbm9yIGRldl9lcnIg
Y2FuIG1haW50YWluIGNvbnNpc3RlbmN5IHdpdGggdGhlIG9yaWdpbmFsIGxvZyBvZiB0aGlzIGRy
aXZlci4KQWx0ZXJuYXRpdmVseSwgYXMgc3VnZ2VzdGVkIGJ5IFNhbSAgaW4gdGhlIGluaXRpYWwg
c3VibWlzc2lvbiBvZiB5b3VyIHBhdGNoIDUgeWVhcnMgYWdvLCAKdGhlcmUgc2hvdWxkIGFsc28g
YmUgYSBtYWNybyBzaW1pbGFyIHRvIGRybV9kZXZfaW5mbyhkZXZpY2UgKiwgLi4pLlsxXQoKClsw
XWh0dHBzOi8vbG9yZS5rZXJuZWwub3JnL2xpbnV4LXJvY2tjaGlwLzIwMjQwODEzLWR3LWhkbWkt
cm9ja2NoaXAtY2xlYW51cC12MS0xLWIzZTczYjVmNGZkNkBjb2xsYWJvcmEuY29tLwpbMV1odHRw
czovL2xvcmUua2VybmVsLm9yZy9kcmktZGV2ZWwvMjAxOTEyMTIyMTUzMDMuR0ExMTUyMEByYXZu
Ym9yZy5vcmcvCgo+Cj4KPkJSLAo+SmFuaS4KPgo+Cj4+Cj4+Pgo+Pj5TaWduZWQtb2ZmLWJ5OiBK
YW5pIE5pa3VsYSA8amFuaS5uaWt1bGFAaW50ZWwuY29tPgo+Pj4KPj4+LS0tCj4+Pgo+Pj5Mb29r
cyBsaWtlIGl0J3MgcG9zc2libGUgdG8gaHVudCBkb3duIHRoZSBzdHJ1Y3QgZHJtX2RldmljZSBp
biBtb3N0IG9mCj4+PnRoZXNlIGNhc2VzLCBpZiB0aGF0J3MgZGVzaXJlZC4gVGhpcyB3YXMgdGhl
IHNpbXBsZXN0IGNoYW5nZS4KPj4+Cj4+PkNjOiBTYW5keSBIdWFuZyA8aGpjQHJvY2stY2hpcHMu
Y29tPgo+Pj5DYzogIkhlaWtvIFN0w7xibmVyIiA8aGVpa29Ac250ZWNoLmRlPgo+Pj5DYzogQW5k
eSBZYW4gPGFuZHkueWFuQHJvY2stY2hpcHMuY29tPgo+Pj5DYzogZHJpLWRldmVsQGxpc3RzLmZy
ZWVkZXNrdG9wLm9yZwo+Pj5DYzogbGludXgtYXJtLWtlcm5lbEBsaXN0cy5pbmZyYWRlYWQub3Jn
Cj4+PkNjOiBsaW51eC1yb2NrY2hpcEBsaXN0cy5pbmZyYWRlYWQub3JnCj4+Pi0tLQo+Pj4gZHJp
dmVycy9ncHUvZHJtL3JvY2tjaGlwL2R3X2hkbWktcm9ja2NoaXAuYyAgICB8IDE2ICsrKysrKysr
LS0tLS0tLS0KPj4+IGRyaXZlcnMvZ3B1L2RybS9yb2NrY2hpcC9kd19oZG1pX3FwLXJvY2tjaGlw
LmMgfCAxNiArKysrKysrKy0tLS0tLS0tCj4+PiAyIGZpbGVzIGNoYW5nZWQsIDE2IGluc2VydGlv
bnMoKyksIDE2IGRlbGV0aW9ucygtKQo+Pj4KPj4+ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9yb2NrY2hpcC9kd19oZG1pLXJvY2tjaGlwLmMgYi9kcml2ZXJzL2dwdS9kcm0vcm9ja2NoaXAv
ZHdfaGRtaS1yb2NrY2hpcC5jCj4+PmluZGV4IGU3YTY2NjljNDZiMC4uZjczN2U3ZDQ2ZTY2IDEw
MDY0NAo+Pj4tLS0gYS9kcml2ZXJzL2dwdS9kcm0vcm9ja2NoaXAvZHdfaGRtaS1yb2NrY2hpcC5j
Cj4+PisrKyBiL2RyaXZlcnMvZ3B1L2RybS9yb2NrY2hpcC9kd19oZG1pLXJvY2tjaGlwLmMKPj4+
QEAgLTIwMyw3ICsyMDMsNyBAQCBzdGF0aWMgaW50IHJvY2tjaGlwX2hkbWlfcGFyc2VfZHQoc3Ry
dWN0IHJvY2tjaGlwX2hkbWkgKmhkbWkpCj4+PiAKPj4+IAloZG1pLT5yZWdtYXAgPSBzeXNjb25f
cmVnbWFwX2xvb2t1cF9ieV9waGFuZGxlKG5wLCAicm9ja2NoaXAsZ3JmIik7Cj4+PiAJaWYgKElT
X0VSUihoZG1pLT5yZWdtYXApKSB7Cj4+Pi0JCWRybV9lcnIoaGRtaSwgIlVuYWJsZSB0byBnZXQg
cm9ja2NoaXAsZ3JmXG4iKTsKPj4+KwkJZGV2X2VycihoZG1pLT5kZXYsICJVbmFibGUgdG8gZ2V0
IHJvY2tjaGlwLGdyZlxuIik7Cj4+PiAJCXJldHVybiBQVFJfRVJSKGhkbWktPnJlZ21hcCk7Cj4+
PiAJfQo+Pj4gCj4+PkBAIC0yMTQsNyArMjE0LDcgQEAgc3RhdGljIGludCByb2NrY2hpcF9oZG1p
X3BhcnNlX2R0KHN0cnVjdCByb2NrY2hpcF9oZG1pICpoZG1pKQo+Pj4gCWlmIChJU19FUlIoaGRt
aS0+cmVmX2NsaykpIHsKPj4+IAkJcmV0ID0gUFRSX0VSUihoZG1pLT5yZWZfY2xrKTsKPj4+IAkJ
aWYgKHJldCAhPSAtRVBST0JFX0RFRkVSKQo+Pj4tCQkJZHJtX2VycihoZG1pLCAiZmFpbGVkIHRv
IGdldCByZWZlcmVuY2UgY2xvY2tcbiIpOwo+Pj4rCQkJZGV2X2VycihoZG1pLT5kZXYsICJmYWls
ZWQgdG8gZ2V0IHJlZmVyZW5jZSBjbG9ja1xuIik7Cj4+PiAJCXJldHVybiByZXQ7Cj4+PiAJfQo+
Pj4gCj4+PkBAIC0yMjIsNyArMjIyLDcgQEAgc3RhdGljIGludCByb2NrY2hpcF9oZG1pX3BhcnNl
X2R0KHN0cnVjdCByb2NrY2hpcF9oZG1pICpoZG1pKQo+Pj4gCWlmIChJU19FUlIoaGRtaS0+Z3Jm
X2NsaykpIHsKPj4+IAkJcmV0ID0gUFRSX0VSUihoZG1pLT5ncmZfY2xrKTsKPj4+IAkJaWYgKHJl
dCAhPSAtRVBST0JFX0RFRkVSKQo+Pj4tCQkJZHJtX2VycihoZG1pLCAiZmFpbGVkIHRvIGdldCBn
cmYgY2xvY2tcbiIpOwo+Pj4rCQkJZGV2X2VycihoZG1pLT5kZXYsICJmYWlsZWQgdG8gZ2V0IGdy
ZiBjbG9ja1xuIik7Cj4+PiAJCXJldHVybiByZXQ7Cj4+PiAJfQo+Pj4gCj4+PkBAIC0zMDIsMTYg
KzMwMiwxNiBAQCBzdGF0aWMgdm9pZCBkd19oZG1pX3JvY2tjaGlwX2VuY29kZXJfZW5hYmxlKHN0
cnVjdCBkcm1fZW5jb2RlciAqZW5jb2RlcikKPj4+IAo+Pj4gCXJldCA9IGNsa19wcmVwYXJlX2Vu
YWJsZShoZG1pLT5ncmZfY2xrKTsKPj4+IAlpZiAocmV0IDwgMCkgewo+Pj4tCQlkcm1fZXJyKGhk
bWksICJmYWlsZWQgdG8gZW5hYmxlIGdyZmNsayAlZFxuIiwgcmV0KTsKPj4+KwkJZGV2X2Vyciho
ZG1pLT5kZXYsICJmYWlsZWQgdG8gZW5hYmxlIGdyZmNsayAlZFxuIiwgcmV0KTsKPj4+IAkJcmV0
dXJuOwo+Pj4gCX0KPj4+IAo+Pj4gCXJldCA9IHJlZ21hcF93cml0ZShoZG1pLT5yZWdtYXAsIGhk
bWktPmNoaXBfZGF0YS0+bGNkc2VsX2dyZl9yZWcsIHZhbCk7Cj4+PiAJaWYgKHJldCAhPSAwKQo+
Pj4tCQlkcm1fZXJyKGhkbWksICJDb3VsZCBub3Qgd3JpdGUgdG8gR1JGOiAlZFxuIiwgcmV0KTsK
Pj4+KwkJZGV2X2VycihoZG1pLT5kZXYsICJDb3VsZCBub3Qgd3JpdGUgdG8gR1JGOiAlZFxuIiwg
cmV0KTsKPj4+IAo+Pj4gCWNsa19kaXNhYmxlX3VucHJlcGFyZShoZG1pLT5ncmZfY2xrKTsKPj4+
LQlkcm1fZGJnKGhkbWksICJ2b3AgJXMgb3V0cHV0IHRvIGhkbWlcbiIsIHJldCA/ICJMSVQiIDog
IkJJRyIpOwo+Pj4rCWRldl9kYmcoaGRtaS0+ZGV2LCAidm9wICVzIG91dHB1dCB0byBoZG1pXG4i
LCByZXQgPyAiTElUIiA6ICJCSUciKTsKPj4+IH0KPj4+IAo+Pj4gc3RhdGljIGludAo+Pj5AQCAt
NTc0LDcgKzU3NCw3IEBAIHN0YXRpYyBpbnQgZHdfaGRtaV9yb2NrY2hpcF9iaW5kKHN0cnVjdCBk
ZXZpY2UgKmRldiwgc3RydWN0IGRldmljZSAqbWFzdGVyLAo+Pj4gCXJldCA9IHJvY2tjaGlwX2hk
bWlfcGFyc2VfZHQoaGRtaSk7Cj4+PiAJaWYgKHJldCkgewo+Pj4gCQlpZiAocmV0ICE9IC1FUFJP
QkVfREVGRVIpCj4+Pi0JCQlkcm1fZXJyKGhkbWksICJVbmFibGUgdG8gcGFyc2UgT0YgZGF0YVxu
Iik7Cj4+PisJCQlkZXZfZXJyKGhkbWktPmRldiwgIlVuYWJsZSB0byBwYXJzZSBPRiBkYXRhXG4i
KTsKPj4+IAkJcmV0dXJuIHJldDsKPj4+IAl9Cj4+PiAKPj4+QEAgLTU4Miw3ICs1ODIsNyBAQCBz
dGF0aWMgaW50IGR3X2hkbWlfcm9ja2NoaXBfYmluZChzdHJ1Y3QgZGV2aWNlICpkZXYsIHN0cnVj
dCBkZXZpY2UgKm1hc3RlciwKPj4+IAlpZiAoSVNfRVJSKGhkbWktPnBoeSkpIHsKPj4+IAkJcmV0
ID0gUFRSX0VSUihoZG1pLT5waHkpOwo+Pj4gCQlpZiAocmV0ICE9IC1FUFJPQkVfREVGRVIpCj4+
Pi0JCQlkcm1fZXJyKGhkbWksICJmYWlsZWQgdG8gZ2V0IHBoeVxuIik7Cj4+PisJCQlkZXZfZXJy
KGhkbWktPmRldiwgImZhaWxlZCB0byBnZXQgcGh5XG4iKTsKPj4+IAkJcmV0dXJuIHJldDsKPj4+
IAl9Cj4+PiAKPj4+ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9yb2NrY2hpcC9kd19oZG1p
X3FwLXJvY2tjaGlwLmMgYi9kcml2ZXJzL2dwdS9kcm0vcm9ja2NoaXAvZHdfaGRtaV9xcC1yb2Nr
Y2hpcC5jCj4+PmluZGV4IGY0MTE1MWQ0OWZjYS4uM2QxZGRkYjM0NjAzIDEwMDY0NAo+Pj4tLS0g
YS9kcml2ZXJzL2dwdS9kcm0vcm9ja2NoaXAvZHdfaGRtaV9xcC1yb2NrY2hpcC5jCj4+PisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9yb2NrY2hpcC9kd19oZG1pX3FwLXJvY2tjaGlwLmMKPj4+QEAgLTI0
Miw3ICsyNDIsNyBAQCBzdGF0aWMgdm9pZCBkd19oZG1pX3FwX3JrMzU4OF9ocGRfd29yayhzdHJ1
Y3Qgd29ya19zdHJ1Y3QgKndvcmspCj4+PiAJaWYgKGRybSkgewo+Pj4gCQljaGFuZ2VkID0gZHJt
X2hlbHBlcl9ocGRfaXJxX2V2ZW50KGRybSk7Cj4+PiAJCWlmIChjaGFuZ2VkKQo+Pj4tCQkJZHJt
X2RiZyhoZG1pLCAiY29ubmVjdG9yIHN0YXR1cyBjaGFuZ2VkXG4iKTsKPj4+KwkJCWRldl9kYmco
aGRtaS0+ZGV2LCAiY29ubmVjdG9yIHN0YXR1cyBjaGFuZ2VkXG4iKTsKPj4+IAl9Cj4+PiB9Cj4+
PiAKPj4+QEAgLTQ3Miw3ICs0NzIsNyBAQCBzdGF0aWMgaW50IGR3X2hkbWlfcXBfcm9ja2NoaXBf
YmluZChzdHJ1Y3QgZGV2aWNlICpkZXYsIHN0cnVjdCBkZXZpY2UgKm1hc3RlciwKPj4+IAkJfQo+
Pj4gCX0KPj4+IAlpZiAoaGRtaS0+cG9ydF9pZCA8IDApIHsKPj4+LQkJZHJtX2VycihoZG1pLCAi
RmFpbGVkIHRvIG1hdGNoIEhETUkgcG9ydCBJRFxuIik7Cj4+PisJCWRldl9lcnIoaGRtaS0+ZGV2
LCAiRmFpbGVkIHRvIG1hdGNoIEhETUkgcG9ydCBJRFxuIik7Cj4+PiAJCXJldHVybiBoZG1pLT5w
b3J0X2lkOwo+Pj4gCX0KPj4+IAo+Pj5AQCAtNDk2LDIwICs0OTYsMjAgQEAgc3RhdGljIGludCBk
d19oZG1pX3FwX3JvY2tjaGlwX2JpbmQoc3RydWN0IGRldmljZSAqZGV2LCBzdHJ1Y3QgZGV2aWNl
ICptYXN0ZXIsCj4+PiAJaGRtaS0+cmVnbWFwID0gc3lzY29uX3JlZ21hcF9sb29rdXBfYnlfcGhh
bmRsZShkZXYtPm9mX25vZGUsCj4+PiAJCQkJCQkgICAgICAgInJvY2tjaGlwLGdyZiIpOwo+Pj4g
CWlmIChJU19FUlIoaGRtaS0+cmVnbWFwKSkgewo+Pj4tCQlkcm1fZXJyKGhkbWksICJVbmFibGUg
dG8gZ2V0IHJvY2tjaGlwLGdyZlxuIik7Cj4+PisJCWRldl9lcnIoaGRtaS0+ZGV2LCAiVW5hYmxl
IHRvIGdldCByb2NrY2hpcCxncmZcbiIpOwo+Pj4gCQlyZXR1cm4gUFRSX0VSUihoZG1pLT5yZWdt
YXApOwo+Pj4gCX0KPj4+IAo+Pj4gCWhkbWktPnZvX3JlZ21hcCA9IHN5c2Nvbl9yZWdtYXBfbG9v
a3VwX2J5X3BoYW5kbGUoZGV2LT5vZl9ub2RlLAo+Pj4gCQkJCQkJCSAgInJvY2tjaGlwLHZvLWdy
ZiIpOwo+Pj4gCWlmIChJU19FUlIoaGRtaS0+dm9fcmVnbWFwKSkgewo+Pj4tCQlkcm1fZXJyKGhk
bWksICJVbmFibGUgdG8gZ2V0IHJvY2tjaGlwLHZvLWdyZlxuIik7Cj4+PisJCWRldl9lcnIoaGRt
aS0+ZGV2LCAiVW5hYmxlIHRvIGdldCByb2NrY2hpcCx2by1ncmZcbiIpOwo+Pj4gCQlyZXR1cm4g
UFRSX0VSUihoZG1pLT52b19yZWdtYXApOwo+Pj4gCX0KPj4+IAo+Pj4gCXJldCA9IGRldm1fY2xr
X2J1bGtfZ2V0X2FsbF9lbmFibGVkKGhkbWktPmRldiwgJmNsa3MpOwo+Pj4gCWlmIChyZXQgPCAw
KSB7Cj4+Pi0JCWRybV9lcnIoaGRtaSwgIkZhaWxlZCB0byBnZXQgY2xvY2tzOiAlZFxuIiwgcmV0
KTsKPj4+KwkJZGV2X2VycihoZG1pLT5kZXYsICJGYWlsZWQgdG8gZ2V0IGNsb2NrczogJWRcbiIs
IHJldCk7Cj4+PiAJCXJldHVybiByZXQ7Cj4+PiAJfQo+Pj4gCj4+PkBAIC01MTcsNyArNTE3LDcg
QEAgc3RhdGljIGludCBkd19oZG1pX3FwX3JvY2tjaGlwX2JpbmQoc3RydWN0IGRldmljZSAqZGV2
LCBzdHJ1Y3QgZGV2aWNlICptYXN0ZXIsCj4+PiAJCQkJCQkgICAgR1BJT0RfT1VUX0hJR0gpOwo+
Pj4gCWlmIChJU19FUlIoaGRtaS0+ZW5hYmxlX2dwaW8pKSB7Cj4+PiAJCXJldCA9IFBUUl9FUlIo
aGRtaS0+ZW5hYmxlX2dwaW8pOwo+Pj4tCQlkcm1fZXJyKGhkbWksICJGYWlsZWQgdG8gcmVxdWVz
dCBlbmFibGUgR1BJTzogJWRcbiIsIHJldCk7Cj4+PisJCWRldl9lcnIoaGRtaS0+ZGV2LCAiRmFp
bGVkIHRvIHJlcXVlc3QgZW5hYmxlIEdQSU86ICVkXG4iLCByZXQpOwo+Pj4gCQlyZXR1cm4gcmV0
Owo+Pj4gCX0KPj4+IAo+Pj5AQCAtNTI1LDcgKzUyNSw3IEBAIHN0YXRpYyBpbnQgZHdfaGRtaV9x
cF9yb2NrY2hpcF9iaW5kKHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGRldmljZSAqbWFzdGVy
LAo+Pj4gCWlmIChJU19FUlIoaGRtaS0+cGh5KSkgewo+Pj4gCQlyZXQgPSBQVFJfRVJSKGhkbWkt
PnBoeSk7Cj4+PiAJCWlmIChyZXQgIT0gLUVQUk9CRV9ERUZFUikKPj4+LQkJCWRybV9lcnIoaGRt
aSwgImZhaWxlZCB0byBnZXQgcGh5OiAlZFxuIiwgcmV0KTsKPj4+KwkJCWRldl9lcnIoaGRtaS0+
ZGV2LCAiZmFpbGVkIHRvIGdldCBwaHk6ICVkXG4iLCByZXQpOwo+Pj4gCQlyZXR1cm4gcmV0Owo+
Pj4gCX0KPj4+IAo+Pj5AQCAtNTY0LDcgKzU2NCw3IEBAIHN0YXRpYyBpbnQgZHdfaGRtaV9xcF9y
b2NrY2hpcF9iaW5kKHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGRldmljZSAqbWFzdGVyLAo+
Pj4gCWNvbm5lY3RvciA9IGRybV9icmlkZ2VfY29ubmVjdG9yX2luaXQoZHJtLCBlbmNvZGVyKTsK
Pj4+IAlpZiAoSVNfRVJSKGNvbm5lY3RvcikpIHsKPj4+IAkJcmV0ID0gUFRSX0VSUihjb25uZWN0
b3IpOwo+Pj4tCQlkcm1fZXJyKGhkbWksICJmYWlsZWQgdG8gaW5pdCBicmlkZ2UgY29ubmVjdG9y
OiAlZFxuIiwgcmV0KTsKPj4+KwkJZGV2X2VycihoZG1pLT5kZXYsICJmYWlsZWQgdG8gaW5pdCBi
cmlkZ2UgY29ubmVjdG9yOiAlZFxuIiwgcmV0KTsKPj4+IAkJcmV0dXJuIHJldDsKPj4+IAl9Cj4+
PiAKPj4+LS0gCj4+PjIuMzkuNQo+Pj4KPj4+Cj4+Pl9fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fCj4+PkxpbnV4LXJvY2tjaGlwIG1haWxpbmcgbGlzdAo+Pj5M
aW51eC1yb2NrY2hpcEBsaXN0cy5pbmZyYWRlYWQub3JnCj4+Pmh0dHA6Ly9saXN0cy5pbmZyYWRl
YWQub3JnL21haWxtYW4vbGlzdGluZm8vbGludXgtcm9ja2NoaXAKPgo+LS0gCj5KYW5pIE5pa3Vs
YSwgSW50ZWwK
