Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 1B0822FB477
	for <lists+dri-devel@lfdr.de>; Tue, 19 Jan 2021 09:45:28 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id CE89289B67;
	Tue, 19 Jan 2021 08:45:22 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ej1-x634.google.com (mail-ej1-x634.google.com
 [IPv6:2a00:1450:4864:20::634])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C802E89B03;
 Tue, 19 Jan 2021 08:45:21 +0000 (UTC)
Received: by mail-ej1-x634.google.com with SMTP id a10so10714320ejg.10;
 Tue, 19 Jan 2021 00:45:21 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=reply-to:subject:to:cc:references:from:message-id:date:user-agent
 :mime-version:in-reply-to:content-transfer-encoding:content-language;
 bh=btyJSiPMZbF0bqobuVpUzG54FSAGlnEc1kYnBwEuOVs=;
 b=fE+GNOCBIaXtPFRfDMATSpgjg3CdVzX/1JWQydvsthc7UAVH4ol4E0bJdXBndfjeZs
 ml/SD6nbfLC0aJJ8pldq7V4vFAEoUFqJljL8Nrw8mv5xNdA23PJKvD3cQ/HCzYkDrjP/
 ejQkAxcEsJexrGbFlNYKK28htWl/QFYK1M01wOpWWTURnOWohfMKTUG5ZAya+M9yE9Cj
 EsmvufSfuUAKvRxvFODW0vdTUQIsEhNanG2Y+tGUVyxoOyRH/3ZlCGUSouvgh3zBBZHo
 LMHwcHf6LMNI4/CWxKE+HWWbIZD0HXWmbjgc9EYXUaxuLy15YTdLuQ3syARr52Ki4U8s
 3V1w==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:reply-to:subject:to:cc:references:from
 :message-id:date:user-agent:mime-version:in-reply-to
 :content-transfer-encoding:content-language;
 bh=btyJSiPMZbF0bqobuVpUzG54FSAGlnEc1kYnBwEuOVs=;
 b=IS71td0Dp6wBGycpfYC279B7VVecKfRS2Fyx+w4T2mhGEOMTLdV4iUfxDBkjzYhMjX
 fUeoN2O8FsgofBF8n7xyOS4mtl1BohD9Hh2Tdx9y1bQnu7fOnmUIyu3JYqRETRfPNwIh
 gJUEvVAxJKURpvMMWPtK5junj+TbDgUV9Plev61Qhjm/k6xSaOmrTLSPHJFJu/yshlGx
 auZdIke047LJHt4TeU7+U/uSxiD8Tl51KqBy9VLFqVRiGePxYwTQS4WL6VhDz+f52vtl
 AljHkeh7P/6h8AvteCUl+msm4Liaj5IZBhhX4VfpGlGBgpoUu/rsjEhtW0ctIPqVZyQN
 +4bg==
X-Gm-Message-State: AOAM533JHMS1txjlzP5sebD6hCY/jiljng2vsB6KXZfnai3/Vg7AvqTU
 som+XuOTJ4ulEJ3gpCHEbJ4=
X-Google-Smtp-Source: ABdhPJwjUtMazeNl0xpWScI+FoR5Vw7xtmiSogw0MYcZEefpT8OMeBooXbGaIojbfXC6bZsFBhWdLA==
X-Received: by 2002:a17:906:1e87:: with SMTP id
 e7mr2319333ejj.322.1611045920379; 
 Tue, 19 Jan 2021 00:45:20 -0800 (PST)
Received: from ?IPv6:2a02:908:1252:fb60:be8a:bd56:1f94:86e7?
 ([2a02:908:1252:fb60:be8a:bd56:1f94:86e7])
 by smtp.gmail.com with ESMTPSA id b14sm12170753edu.3.2021.01.19.00.45.18
 (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
 Tue, 19 Jan 2021 00:45:19 -0800 (PST)
Subject: Re: [PATCH v4 05/14] drm/amdgpu: Split amdgpu_device_fini into early
 and late
To: Andrey Grodzovsky <andrey.grodzovsky@amd.com>,
 amd-gfx@lists.freedesktop.org, dri-devel@lists.freedesktop.org,
 daniel.vetter@ffwll.ch, robh@kernel.org, l.stach@pengutronix.de,
 yuq825@gmail.com, eric@anholt.net
References: <1611003683-3534-1-git-send-email-andrey.grodzovsky@amd.com>
 <1611003683-3534-6-git-send-email-andrey.grodzovsky@amd.com>
From: =?UTF-8?Q?Christian_K=c3=b6nig?= <ckoenig.leichtzumerken@gmail.com>
Message-ID: <f557db57-57c4-cba9-aff2-d91ae7e4bacd@gmail.com>
Date: Tue, 19 Jan 2021 09:45:16 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101
 Thunderbird/68.10.0
MIME-Version: 1.0
In-Reply-To: <1611003683-3534-6-git-send-email-andrey.grodzovsky@amd.com>
Content-Language: en-US
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Reply-To: christian.koenig@amd.com
Cc: Alexander.Deucher@amd.com, gregkh@linuxfoundation.org
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QW0gMTguMDEuMjEgdW0gMjI6MDEgc2NocmllYiBBbmRyZXkgR3JvZHpvdnNreToKPiBTb21lIG9m
IHRoZSBzdHVmZiBpbiBhbWRncHVfZGV2aWNlX2Zpbmkgc3VjaCBhcyBIVyBpbnRlcnJ1cHRzCj4g
ZGlzYWJsZSBhbmQgcGVuZGluZyBmZW5jZXMgZmluaWxpemF0aW9uIG11c3QgYmUgZG9uZSByaWdo
dCBhd2F5IG9uCj4gcGNpX3JlbW92ZSB3aGlsZSBtb3N0IG9mIHRoZSBzdHVmZiB3aGljaCByZWxh
dGVzIHRvIGZpbmlsaXppbmcgYW5kCj4gcmVsZWFzaW5nIGRyaXZlciBkYXRhIHN0cnVjdHVyZXMg
Y2FuIGJlIGtlcHQgdW50aWwKPiBkcm1fZHJpdmVyLnJlbGVhc2UgaG9vayBpcyBjYWxsZWQsIGku
ZS4gd2hlbiB0aGUgbGFzdCBkZXZpY2UKPiByZWZlcmVuY2UgaXMgZHJvcHBlZC4KPgo+IHY0OiBD
aGFuZ2UgZnVuY3Rpb25zIHByZWZpeCBlYXJseS0+aHcgYW5kIGxhdGUtPnN3Cj4KPiBTaWduZWQt
b2ZmLWJ5OiBBbmRyZXkgR3JvZHpvdnNreSA8YW5kcmV5Lmdyb2R6b3Zza3lAYW1kLmNvbT4KClRo
ZSBmZW5jZSBhbmQgaXJxIGNoYW5nZXMgbG9vayBzYW5lIHRvIG1lLCBubyBpZGVhIGZvciB0aGUg
cmVzdC4KCkFja2VkLWJ5OiBDaHJpc3RpYW4gS8O2bmlnIDxjaHJpc3RpYW4ua29lbmlnQGFtZC5j
b20+Cgo+IC0tLQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1LmggICAgICAg
IHwgIDYgKysrKystCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2aWNl
LmMgfCAyNiArKysrKysrKysrKysrKysrKystLS0tLS0tLQo+ICAgZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvYW1kZ3B1X2Rydi5jICAgIHwgIDcgKystLS0tLQo+ICAgZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvYW1kZ3B1X2ZlbmNlLmMgIHwgMTUgKysrKysrKysrKysrKystCj4gICBkcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfaXJxLmMgICAgfCAyNiArKysrKysrKysrKysr
KysrLS0tLS0tLS0tLQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2lycS5o
ICAgIHwgIDMgKystCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfa21zLmMg
ICAgfCAxMiArKysrKysrKysrKy0KPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdw
dV9yYXMuYyAgICB8ICAxICsKPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9y
aW5nLmggICB8ICAzICsrLQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvY2lrX2loLmMg
ICAgICAgIHwgIDIgKy0KPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2N6X2loLmMgICAg
ICAgICB8ICAyICstCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9pY2VsYW5kX2loLmMg
ICAgfCAgMiArLQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvbmF2aTEwX2loLmMgICAg
IHwgIDIgKy0KPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NpX2loLmMgICAgICAgICB8
ICAyICstCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS90b25nYV9paC5jICAgICAgfCAg
MiArLQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdmVnYTEwX2loLmMgICAgIHwgIDIg
Ky0KPiAgIDE2IGZpbGVzIGNoYW5nZWQsIDc4IGluc2VydGlvbnMoKyksIDM1IGRlbGV0aW9ucygt
KQo+Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdS5oIGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1LmgKPiBpbmRleCBmNzc0NDNjLi40Nzhh
N2Q4IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdS5oCj4g
KysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1LmgKPiBAQCAtMTA2MCw3ICsx
MDYwLDkgQEAgc3RhdGljIGlubGluZSBzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYW1kZ3B1X3R0bV9h
ZGV2KHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2KQo+ICAgCj4gICBpbnQgYW1kZ3B1X2Rldmlj
ZV9pbml0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LAo+ICAgCQkgICAgICAgdWludDMyX3Qg
ZmxhZ3MpOwo+IC12b2lkIGFtZGdwdV9kZXZpY2VfZmluaShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
YWRldik7Cj4gK3ZvaWQgYW1kZ3B1X2RldmljZV9maW5pX2h3KHN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2KTsKPiArdm9pZCBhbWRncHVfZGV2aWNlX2Zpbmlfc3coc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYpOwo+ICsKPiAgIGludCBhbWRncHVfZ3B1X3dhaXRfZm9yX2lkbGUoc3RydWN0IGFt
ZGdwdV9kZXZpY2UgKmFkZXYpOwo+ICAgCj4gICB2b2lkIGFtZGdwdV9kZXZpY2VfdnJhbV9hY2Nl
c3Moc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIGxvZmZfdCBwb3MsCj4gQEAgLTEyNzMsNiAr
MTI3NSw4IEBAIHZvaWQgYW1kZ3B1X2RyaXZlcl9sYXN0Y2xvc2Vfa21zKHN0cnVjdCBkcm1fZGV2
aWNlICpkZXYpOwo+ICAgaW50IGFtZGdwdV9kcml2ZXJfb3Blbl9rbXMoc3RydWN0IGRybV9kZXZp
Y2UgKmRldiwgc3RydWN0IGRybV9maWxlICpmaWxlX3ByaXYpOwo+ICAgdm9pZCBhbWRncHVfZHJp
dmVyX3Bvc3RjbG9zZV9rbXMoc3RydWN0IGRybV9kZXZpY2UgKmRldiwKPiAgIAkJCQkgc3RydWN0
IGRybV9maWxlICpmaWxlX3ByaXYpOwo+ICt2b2lkIGFtZGdwdV9kcml2ZXJfcmVsZWFzZV9rbXMo
c3RydWN0IGRybV9kZXZpY2UgKmRldik7Cj4gKwo+ICAgaW50IGFtZGdwdV9kZXZpY2VfaXBfc3Vz
cGVuZChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldik7Cj4gICBpbnQgYW1kZ3B1X2RldmljZV9z
dXNwZW5kKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIGJvb2wgZmJjb24pOwo+ICAgaW50IGFtZGdw
dV9kZXZpY2VfcmVzdW1lKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIGJvb2wgZmJjb24pOwo+IGRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2aWNlLmMgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2aWNlLmMKPiBpbmRleCAzNDhhYzY3
Li45MGM4MzUzIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdw
dV9kZXZpY2UuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kZXZp
Y2UuYwo+IEBAIC0zNTc5LDE0ICszNTc5LDEyIEBAIGludCBhbWRncHVfZGV2aWNlX2luaXQoc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCj4gICAgKiBUZWFyIGRvd24gdGhlIGRyaXZlciBpbmZv
IChhbGwgYXNpY3MpLgo+ICAgICogQ2FsbGVkIGF0IGRyaXZlciBzaHV0ZG93bi4KPiAgICAqLwo+
IC12b2lkIGFtZGdwdV9kZXZpY2VfZmluaShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKPiAr
dm9pZCBhbWRncHVfZGV2aWNlX2ZpbmlfaHcoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCj4g
ICB7Cj4gICAJZGV2X2luZm8oYWRldi0+ZGV2LCAiYW1kZ3B1OiBmaW5pc2hpbmcgZGV2aWNlLlxu
Iik7Cj4gICAJZmx1c2hfZGVsYXllZF93b3JrKCZhZGV2LT5kZWxheWVkX2luaXRfd29yayk7Cj4g
ICAJYWRldi0+c2h1dGRvd24gPSB0cnVlOwo+ICAgCj4gLQlrZnJlZShhZGV2LT5wY2lfc3RhdGUp
Owo+IC0KPiAgIAkvKiBtYWtlIHN1cmUgSUIgdGVzdCBmaW5pc2hlZCBiZWZvcmUgZW50ZXJpbmcg
ZXhjbHVzaXZlIG1vZGUKPiAgIAkgKiB0byBhdm9pZCBwcmVlbXB0aW9uIG9uIElCIHRlc3QKPiAg
IAkgKiAqLwo+IEBAIC0zNjAzLDExICszNjAxLDI0IEBAIHZvaWQgYW1kZ3B1X2RldmljZV9maW5p
KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQo+ICAgCQllbHNlCj4gICAJCQlkcm1fYXRvbWlj
X2hlbHBlcl9zaHV0ZG93bihhZGV2X3RvX2RybShhZGV2KSk7Cj4gICAJfQo+IC0JYW1kZ3B1X2Zl
bmNlX2RyaXZlcl9maW5pKGFkZXYpOwo+ICsJYW1kZ3B1X2ZlbmNlX2RyaXZlcl9maW5pX2h3KGFk
ZXYpOwo+ICsKPiAgIAlpZiAoYWRldi0+cG1fc3lzZnNfZW4pCj4gICAJCWFtZGdwdV9wbV9zeXNm
c19maW5pKGFkZXYpOwo+ICsJaWYgKGFkZXYtPnVjb2RlX3N5c2ZzX2VuKQo+ICsJCWFtZGdwdV91
Y29kZV9zeXNmc19maW5pKGFkZXYpOwo+ICsJc3lzZnNfcmVtb3ZlX2ZpbGVzKCZhZGV2LT5kZXYt
PmtvYmosIGFtZGdwdV9kZXZfYXR0cmlidXRlcyk7Cj4gKwo+ICsKPiAgIAlhbWRncHVfZmJkZXZf
ZmluaShhZGV2KTsKPiArCj4gKwlhbWRncHVfaXJxX2ZpbmlfaHcoYWRldik7Cj4gK30KPiArCj4g
K3ZvaWQgYW1kZ3B1X2RldmljZV9maW5pX3N3KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQo+
ICt7Cj4gICAJYW1kZ3B1X2RldmljZV9pcF9maW5pKGFkZXYpOwo+ICsJYW1kZ3B1X2ZlbmNlX2Ry
aXZlcl9maW5pX3N3KGFkZXYpOwo+ICAgCXJlbGVhc2VfZmlybXdhcmUoYWRldi0+ZmlybXdhcmUu
Z3B1X2luZm9fZncpOwo+ICAgCWFkZXYtPmZpcm13YXJlLmdwdV9pbmZvX2Z3ID0gTlVMTDsKPiAg
IAlhZGV2LT5hY2NlbF93b3JraW5nID0gZmFsc2U7Cj4gQEAgLTM2MzYsMTQgKzM2NDcsMTMgQEAg
dm9pZCBhbWRncHVfZGV2aWNlX2Zpbmkoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCj4gICAJ
YWRldi0+cm1taW8gPSBOVUxMOwo+ICAgCWFtZGdwdV9kZXZpY2VfZG9vcmJlbGxfZmluaShhZGV2
KTsKPiAgIAo+IC0JaWYgKGFkZXYtPnVjb2RlX3N5c2ZzX2VuKQo+IC0JCWFtZGdwdV91Y29kZV9z
eXNmc19maW5pKGFkZXYpOwo+IC0KPiAtCXN5c2ZzX3JlbW92ZV9maWxlcygmYWRldi0+ZGV2LT5r
b2JqLCBhbWRncHVfZGV2X2F0dHJpYnV0ZXMpOwo+ICAgCWlmIChJU19FTkFCTEVEKENPTkZJR19Q
RVJGX0VWRU5UUykpCj4gICAJCWFtZGdwdV9wbXVfZmluaShhZGV2KTsKPiAgIAlpZiAoYWRldi0+
bW1hbi5kaXNjb3ZlcnlfYmluKQo+ICAgCQlhbWRncHVfZGlzY292ZXJ5X2ZpbmkoYWRldik7Cj4g
Kwo+ICsJa2ZyZWUoYWRldi0+cGNpX3N0YXRlKTsKPiArCj4gICB9Cj4gICAKPiAgIAo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZHJ2LmMgYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZHJ2LmMKPiBpbmRleCA3MmVmZDU3Li45YzBjZDAw
IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kcnYuYwo+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kcnYuYwo+IEBAIC0xMjM4
LDE0ICsxMjM4LDEwIEBAIGFtZGdwdV9wY2lfcmVtb3ZlKHN0cnVjdCBwY2lfZGV2ICpwZGV2KQo+
ICAgewo+ICAgCXN0cnVjdCBkcm1fZGV2aWNlICpkZXYgPSBwY2lfZ2V0X2RydmRhdGEocGRldik7
Cj4gICAKPiAtI2lmZGVmIE1PRFVMRQo+IC0JaWYgKFRISVNfTU9EVUxFLT5zdGF0ZSAhPSBNT0RV
TEVfU1RBVEVfR09JTkcpCj4gLSNlbmRpZgo+IC0JCURSTV9FUlJPUigiSG90cGx1ZyByZW1vdmFs
IGlzIG5vdCBzdXBwb3J0ZWRcbiIpOwo+ICAgCWRybV9kZXZfdW5wbHVnKGRldik7Cj4gICAJYW1k
Z3B1X2RyaXZlcl91bmxvYWRfa21zKGRldik7Cj4gKwo+ICAgCXBjaV9kaXNhYmxlX2RldmljZShw
ZGV2KTsKPiAtCXBjaV9zZXRfZHJ2ZGF0YShwZGV2LCBOVUxMKTsKPiAgIH0KPiAgIAo+ICAgc3Rh
dGljIHZvaWQKPiBAQCAtMTU2OSw2ICsxNTY1LDcgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1f
ZHJpdmVyIGFtZGdwdV9rbXNfZHJpdmVyID0gewo+ICAgCS5kdW1iX2NyZWF0ZSA9IGFtZGdwdV9t
b2RlX2R1bWJfY3JlYXRlLAo+ICAgCS5kdW1iX21hcF9vZmZzZXQgPSBhbWRncHVfbW9kZV9kdW1i
X21tYXAsCj4gICAJLmZvcHMgPSAmYW1kZ3B1X2RyaXZlcl9rbXNfZm9wcywKPiArCS5yZWxlYXNl
ID0gJmFtZGdwdV9kcml2ZXJfcmVsZWFzZV9rbXMsCj4gICAKPiAgIAkucHJpbWVfaGFuZGxlX3Rv
X2ZkID0gZHJtX2dlbV9wcmltZV9oYW5kbGVfdG9fZmQsCj4gICAJLnByaW1lX2ZkX3RvX2hhbmRs
ZSA9IGRybV9nZW1fcHJpbWVfZmRfdG9faGFuZGxlLAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZmVuY2UuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L2FtZGdwdV9mZW5jZS5jCj4gaW5kZXggZDU2ZjQwMi4uZTE5Yjc0YyAxMDA2NDQKPiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZmVuY2UuYwo+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9mZW5jZS5jCj4gQEAgLTUyMyw3ICs1MjMsNyBA
QCBpbnQgYW1kZ3B1X2ZlbmNlX2RyaXZlcl9pbml0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2
KQo+ICAgICoKPiAgICAqIFRlYXIgZG93biB0aGUgZmVuY2UgZHJpdmVyIGZvciBhbGwgcG9zc2li
bGUgcmluZ3MgKGFsbCBhc2ljcykuCj4gICAgKi8KPiAtdm9pZCBhbWRncHVfZmVuY2VfZHJpdmVy
X2Zpbmkoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCj4gK3ZvaWQgYW1kZ3B1X2ZlbmNlX2Ry
aXZlcl9maW5pX2h3KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQo+ICAgewo+ICAgCXVuc2ln
bmVkIGksIGo7Cj4gICAJaW50IHI7Cj4gQEAgLTU0NCw2ICs1NDQsMTkgQEAgdm9pZCBhbWRncHVf
ZmVuY2VfZHJpdmVyX2Zpbmkoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCj4gICAJCWlmICgh
cmluZy0+bm9fc2NoZWR1bGVyKQo+ICAgCQkJZHJtX3NjaGVkX2ZpbmkoJnJpbmctPnNjaGVkKTsK
PiAgIAkJZGVsX3RpbWVyX3N5bmMoJnJpbmctPmZlbmNlX2Rydi5mYWxsYmFja190aW1lcik7Cj4g
Kwl9Cj4gK30KPiArCj4gK3ZvaWQgYW1kZ3B1X2ZlbmNlX2RyaXZlcl9maW5pX3N3KHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2KQo+ICt7Cj4gKwl1bnNpZ25lZCBpbnQgaSwgajsKPiArCj4gKwlm
b3IgKGkgPSAwOyBpIDwgQU1ER1BVX01BWF9SSU5HUzsgaSsrKSB7Cj4gKwkJc3RydWN0IGFtZGdw
dV9yaW5nICpyaW5nID0gYWRldi0+cmluZ3NbaV07Cj4gKwo+ICsJCWlmICghcmluZyB8fCAhcmlu
Zy0+ZmVuY2VfZHJ2LmluaXRpYWxpemVkKQo+ICsJCQljb250aW51ZTsKPiArCj4gICAJCWZvciAo
aiA9IDA7IGogPD0gcmluZy0+ZmVuY2VfZHJ2Lm51bV9mZW5jZXNfbWFzazsgKytqKQo+ICAgCQkJ
ZG1hX2ZlbmNlX3B1dChyaW5nLT5mZW5jZV9kcnYuZmVuY2VzW2pdKTsKPiAgIAkJa2ZyZWUocmlu
Zy0+ZmVuY2VfZHJ2LmZlbmNlcyk7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2FtZGdwdV9pcnEuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9p
cnEuYwo+IGluZGV4IGJlYTU3ZTguLjJmMWNmYzUgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2lycS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1X2lycS5jCj4gQEAgLTQ5LDYgKzQ5LDcgQEAKPiAgICNpbmNsdWRlIDxkcm0v
ZHJtX2lycS5oPgo+ICAgI2luY2x1ZGUgPGRybS9kcm1fdmJsYW5rLmg+Cj4gICAjaW5jbHVkZSA8
ZHJtL2FtZGdwdV9kcm0uaD4KPiArI2luY2x1ZGUgPGRybS9kcm1fZHJ2Lmg+Cj4gICAjaW5jbHVk
ZSAiYW1kZ3B1LmgiCj4gICAjaW5jbHVkZSAiYW1kZ3B1X2loLmgiCj4gICAjaW5jbHVkZSAiYXRv
bS5oIgo+IEBAIC0zMTMsNiArMzE0LDIwIEBAIGludCBhbWRncHVfaXJxX2luaXQoc3RydWN0IGFt
ZGdwdV9kZXZpY2UgKmFkZXYpCj4gICAJcmV0dXJuIDA7Cj4gICB9Cj4gICAKPiArCj4gK3ZvaWQg
YW1kZ3B1X2lycV9maW5pX2h3KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQo+ICt7Cj4gKwlp
ZiAoYWRldi0+aXJxLmluc3RhbGxlZCkgewo+ICsJCWRybV9pcnFfdW5pbnN0YWxsKCZhZGV2LT5k
ZGV2KTsKPiArCQlhZGV2LT5pcnEuaW5zdGFsbGVkID0gZmFsc2U7Cj4gKwkJaWYgKGFkZXYtPmly
cS5tc2lfZW5hYmxlZCkKPiArCQkJcGNpX2ZyZWVfaXJxX3ZlY3RvcnMoYWRldi0+cGRldik7Cj4g
Kwo+ICsJCWlmICghYW1kZ3B1X2RldmljZV9oYXNfZGNfc3VwcG9ydChhZGV2KSkKPiArCQkJZmx1
c2hfd29yaygmYWRldi0+aG90cGx1Z193b3JrKTsKPiArCX0KPiArfQo+ICsKPiAgIC8qKgo+ICAg
ICogYW1kZ3B1X2lycV9maW5pIC0gc2h1dCBkb3duIGludGVycnVwdCBoYW5kbGluZwo+ICAgICoK
PiBAQCAtMzIyLDE5ICszMzcsMTAgQEAgaW50IGFtZGdwdV9pcnFfaW5pdChzdHJ1Y3QgYW1kZ3B1
X2RldmljZSAqYWRldikKPiAgICAqIGZ1bmN0aW9uYWxpdHksIHNodXRzIGRvd24gdmJsYW5rLCBo
b3RwbHVnIGFuZCByZXNldCBpbnRlcnJ1cHQgaGFuZGxpbmcsCj4gICAgKiB0dXJucyBvZmYgaW50
ZXJydXB0cyBmcm9tIGFsbCBzb3VyY2VzIChhbGwgQVNJQ3MpLgo+ICAgICovCj4gLXZvaWQgYW1k
Z3B1X2lycV9maW5pKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQo+ICt2b2lkIGFtZGdwdV9p
cnFfZmluaV9zdyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKPiAgIHsKPiAgIAl1bnNpZ25l
ZCBpLCBqOwo+ICAgCj4gLQlpZiAoYWRldi0+aXJxLmluc3RhbGxlZCkgewo+IC0JCWRybV9pcnFf
dW5pbnN0YWxsKGFkZXZfdG9fZHJtKGFkZXYpKTsKPiAtCQlhZGV2LT5pcnEuaW5zdGFsbGVkID0g
ZmFsc2U7Cj4gLQkJaWYgKGFkZXYtPmlycS5tc2lfZW5hYmxlZCkKPiAtCQkJcGNpX2ZyZWVfaXJx
X3ZlY3RvcnMoYWRldi0+cGRldik7Cj4gLQkJaWYgKCFhbWRncHVfZGV2aWNlX2hhc19kY19zdXBw
b3J0KGFkZXYpKQo+IC0JCQlmbHVzaF93b3JrKCZhZGV2LT5ob3RwbHVnX3dvcmspOwo+IC0JfQo+
IC0KPiAgIAlmb3IgKGkgPSAwOyBpIDwgQU1ER1BVX0lSUV9DTElFTlRJRF9NQVg7ICsraSkgewo+
ICAgCQlpZiAoIWFkZXYtPmlycS5jbGllbnRbaV0uc291cmNlcykKPiAgIAkJCWNvbnRpbnVlOwo+
IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfaXJxLmggYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfaXJxLmgKPiBpbmRleCBhYzUyN2U1Li4z
OTJhNzMyIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9p
cnEuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9pcnEuaAo+IEBA
IC0xMDQsNyArMTA0LDggQEAgdm9pZCBhbWRncHVfaXJxX2Rpc2FibGVfYWxsKHN0cnVjdCBhbWRn
cHVfZGV2aWNlICphZGV2KTsKPiAgIGlycXJldHVybl90IGFtZGdwdV9pcnFfaGFuZGxlcihpbnQg
aXJxLCB2b2lkICphcmcpOwo+ICAgCj4gICBpbnQgYW1kZ3B1X2lycV9pbml0KHN0cnVjdCBhbWRn
cHVfZGV2aWNlICphZGV2KTsKPiAtdm9pZCBhbWRncHVfaXJxX2Zpbmkoc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYpOwo+ICt2b2lkIGFtZGdwdV9pcnFfZmluaV9zdyhzdHJ1Y3QgYW1kZ3B1X2Rl
dmljZSAqYWRldik7Cj4gK3ZvaWQgYW1kZ3B1X2lycV9maW5pX2h3KHN0cnVjdCBhbWRncHVfZGV2
aWNlICphZGV2KTsKPiAgIGludCBhbWRncHVfaXJxX2FkZF9pZChzdHJ1Y3QgYW1kZ3B1X2Rldmlj
ZSAqYWRldiwKPiAgIAkJICAgICAgdW5zaWduZWQgY2xpZW50X2lkLCB1bnNpZ25lZCBzcmNfaWQs
Cj4gICAJCSAgICAgIHN0cnVjdCBhbWRncHVfaXJxX3NyYyAqc291cmNlKTsKPiBkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2ttcy5jIGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2ttcy5jCj4gaW5kZXggYjE2YjMyNy4uZmVlOTVkMyAxMDA2
NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfa21zLmMKPiArKysg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfa21zLmMKPiBAQCAtMjksNiArMjks
NyBAQAo+ICAgI2luY2x1ZGUgImFtZGdwdS5oIgo+ICAgI2luY2x1ZGUgPGRybS9kcm1fZGVidWdm
cy5oPgo+ICAgI2luY2x1ZGUgPGRybS9hbWRncHVfZHJtLmg+Cj4gKyNpbmNsdWRlIDxkcm0vZHJt
X2Rydi5oPgo+ICAgI2luY2x1ZGUgImFtZGdwdV91dmQuaCIKPiAgICNpbmNsdWRlICJhbWRncHVf
dmNlLmgiCj4gICAjaW5jbHVkZSAiYXRvbS5oIgo+IEBAIC05Myw3ICs5NCw3IEBAIHZvaWQgYW1k
Z3B1X2RyaXZlcl91bmxvYWRfa21zKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYpCj4gICAJfQo+ICAg
Cj4gICAJYW1kZ3B1X2FjcGlfZmluaShhZGV2KTsKPiAtCWFtZGdwdV9kZXZpY2VfZmluaShhZGV2
KTsKPiArCWFtZGdwdV9kZXZpY2VfZmluaV9odyhhZGV2KTsKPiAgIH0KPiAgIAo+ICAgdm9pZCBh
bWRncHVfcmVnaXN0ZXJfZ3B1X2luc3RhbmNlKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQo+
IEBAIC0xMTUzLDYgKzExNTQsMTUgQEAgdm9pZCBhbWRncHVfZHJpdmVyX3Bvc3RjbG9zZV9rbXMo
c3RydWN0IGRybV9kZXZpY2UgKmRldiwKPiAgIAlwbV9ydW50aW1lX3B1dF9hdXRvc3VzcGVuZChk
ZXYtPmRldik7Cj4gICB9Cj4gICAKPiArCj4gK3ZvaWQgYW1kZ3B1X2RyaXZlcl9yZWxlYXNlX2tt
cyhzdHJ1Y3QgZHJtX2RldmljZSAqZGV2KQo+ICt7Cj4gKwlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
YWRldiA9IGRybV90b19hZGV2KGRldik7Cj4gKwo+ICsJYW1kZ3B1X2RldmljZV9maW5pX3N3KGFk
ZXYpOwo+ICsJcGNpX3NldF9kcnZkYXRhKGFkZXYtPnBkZXYsIE5VTEwpOwo+ICt9Cj4gKwo+ICAg
LyoKPiAgICAqIFZCbGFuayByZWxhdGVkIGZ1bmN0aW9ucy4KPiAgICAqLwo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfcmFzLmMgYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9hbWRncHVfcmFzLmMKPiBpbmRleCBjMTM2YmQ0Li44N2VhZjEzIDEwMDY0
NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9yYXMuYwo+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9yYXMuYwo+IEBAIC0yMTQyLDYgKzIx
NDIsNyBAQCBpbnQgYW1kZ3B1X3Jhc19wcmVfZmluaShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRl
dikKPiAgIAlpZiAoIWNvbikKPiAgIAkJcmV0dXJuIDA7Cj4gICAKPiArCj4gICAJLyogTmVlZCBk
aXNhYmxlIHJhcyBvbiBhbGwgSVBzIGhlcmUgYmVmb3JlIGlwIFtody9zd11maW5pICovCj4gICAJ
YW1kZ3B1X3Jhc19kaXNhYmxlX2FsbF9mZWF0dXJlcyhhZGV2LCAwKTsKPiAgIAlhbWRncHVfcmFz
X3JlY292ZXJ5X2ZpbmkoYWRldik7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2FtZGdwdV9yaW5nLmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
cmluZy5oCj4gaW5kZXggNzExMjEzNy4uYWNjYjI0MyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfcmluZy5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvYW1kZ3B1X3JpbmcuaAo+IEBAIC0xMDcsNyArMTA3LDggQEAgc3RydWN0IGFtZGdw
dV9mZW5jZV9kcml2ZXIgewo+ICAgfTsKPiAgIAo+ICAgaW50IGFtZGdwdV9mZW5jZV9kcml2ZXJf
aW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldik7Cj4gLXZvaWQgYW1kZ3B1X2ZlbmNlX2Ry
aXZlcl9maW5pKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KTsKPiArdm9pZCBhbWRncHVfZmVu
Y2VfZHJpdmVyX2ZpbmlfaHcoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpOwo+ICt2b2lkIGFt
ZGdwdV9mZW5jZV9kcml2ZXJfZmluaV9zdyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldik7Cj4g
ICB2b2lkIGFtZGdwdV9mZW5jZV9kcml2ZXJfZm9yY2VfY29tcGxldGlvbihzdHJ1Y3QgYW1kZ3B1
X3JpbmcgKnJpbmcpOwo+ICAgCj4gICBpbnQgYW1kZ3B1X2ZlbmNlX2RyaXZlcl9pbml0X3Jpbmco
c3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9jaWtfaWguYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Npa19paC5j
Cj4gaW5kZXggZDM3NDU3MS4uMTgzZDQ0YSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9jaWtfaWguYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Np
a19paC5jCj4gQEAgLTMwOSw3ICszMDksNyBAQCBzdGF0aWMgaW50IGNpa19paF9zd19maW5pKHZv
aWQgKmhhbmRsZSkKPiAgIHsKPiAgIAlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IChzdHJ1
Y3QgYW1kZ3B1X2RldmljZSAqKWhhbmRsZTsKPiAgIAo+IC0JYW1kZ3B1X2lycV9maW5pKGFkZXYp
Owo+ICsJYW1kZ3B1X2lycV9maW5pX3N3KGFkZXYpOwo+ICAgCWFtZGdwdV9paF9yaW5nX2Zpbmko
YWRldiwgJmFkZXYtPmlycS5paCk7Cj4gICAJYW1kZ3B1X2lycV9yZW1vdmVfZG9tYWluKGFkZXYp
Owo+ICAgCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2N6X2loLmMg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9jel9paC5jCj4gaW5kZXggZGEzN2Y4YS4uZWU4
MjRkNyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9jel9paC5jCj4g
KysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvY3pfaWguYwo+IEBAIC0yOTAsNyArMjkw
LDcgQEAgc3RhdGljIGludCBjel9paF9zd19maW5pKHZvaWQgKmhhbmRsZSkKPiAgIHsKPiAgIAlz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqKWhhbmRs
ZTsKPiAgIAo+IC0JYW1kZ3B1X2lycV9maW5pKGFkZXYpOwo+ICsJYW1kZ3B1X2lycV9maW5pX3N3
KGFkZXYpOwo+ICAgCWFtZGdwdV9paF9yaW5nX2ZpbmkoYWRldiwgJmFkZXYtPmlycS5paCk7Cj4g
ICAJYW1kZ3B1X2lycV9yZW1vdmVfZG9tYWluKGFkZXYpOwo+ICAgCj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2ljZWxhbmRfaWguYyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2ljZWxhbmRfaWguYwo+IGluZGV4IDM3ZDhiNmMuLmIyNGY2ZmIgMTAwNjQ0Cj4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvaWNlbGFuZF9paC5jCj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvaWNlbGFuZF9paC5jCj4gQEAgLTI5MCw3ICsyOTAsNyBA
QCBzdGF0aWMgaW50IGljZWxhbmRfaWhfc3dfZmluaSh2b2lkICpoYW5kbGUpCj4gICB7Cj4gICAJ
c3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSAoc3RydWN0IGFtZGdwdV9kZXZpY2UgKiloYW5k
bGU7Cj4gICAKPiAtCWFtZGdwdV9pcnFfZmluaShhZGV2KTsKPiArCWFtZGdwdV9pcnFfZmluaV9z
dyhhZGV2KTsKPiAgIAlhbWRncHVfaWhfcmluZ19maW5pKGFkZXYsICZhZGV2LT5pcnEuaWgpOwo+
ICAgCWFtZGdwdV9pcnFfcmVtb3ZlX2RvbWFpbihhZGV2KTsKPiAgIAo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9uYXZpMTBfaWguYyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L25hdmkxMF9paC5jCj4gaW5kZXggN2JhMjI5ZS4uYzE5MTQxMCAxMDA2NDQKPiAt
LS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9uYXZpMTBfaWguYwo+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L25hdmkxMF9paC5jCj4gQEAgLTcxNiw3ICs3MTYsNyBAQCBz
dGF0aWMgaW50IG5hdmkxMF9paF9zd19maW5pKHZvaWQgKmhhbmRsZSkKPiAgIHsKPiAgIAlzdHJ1
Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqKWhhbmRsZTsK
PiAgIAo+IC0JYW1kZ3B1X2lycV9maW5pKGFkZXYpOwo+ICsJYW1kZ3B1X2lycV9maW5pX3N3KGFk
ZXYpOwo+ICAgCWFtZGdwdV9paF9yaW5nX2ZpbmkoYWRldiwgJmFkZXYtPmlycS5paDIpOwo+ICAg
CWFtZGdwdV9paF9yaW5nX2ZpbmkoYWRldiwgJmFkZXYtPmlycS5paDEpOwo+ICAgCWFtZGdwdV9p
aF9yaW5nX2ZpbmkoYWRldiwgJmFkZXYtPmlycS5paCk7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L3NpX2loLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9z
aV9paC5jCj4gaW5kZXggNTE4ODBmNi4uNzUxMzA3ZiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9zaV9paC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvc2lfaWguYwo+IEBAIC0xNzUsNyArMTc1LDcgQEAgc3RhdGljIGludCBzaV9paF9zd19maW5p
KHZvaWQgKmhhbmRsZSkKPiAgIHsKPiAgIAlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IChz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqKWhhbmRsZTsKPiAgIAo+IC0JYW1kZ3B1X2lycV9maW5pKGFk
ZXYpOwo+ICsJYW1kZ3B1X2lycV9maW5pX3N3KGFkZXYpOwo+ICAgCWFtZGdwdV9paF9yaW5nX2Zp
bmkoYWRldiwgJmFkZXYtPmlycS5paCk7Cj4gICAKPiAgIAlyZXR1cm4gMDsKPiBkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdG9uZ2FfaWguYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L3RvbmdhX2loLmMKPiBpbmRleCBjZTMzMTk5Li43MjlhYWFhIDEwMDY0NAo+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3RvbmdhX2loLmMKPiArKysgYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS90b25nYV9paC5jCj4gQEAgLTMwMSw3ICszMDEsNyBAQCBz
dGF0aWMgaW50IHRvbmdhX2loX3N3X2Zpbmkodm9pZCAqaGFuZGxlKQo+ICAgewo+ICAgCXN0cnVj
dCBhbWRncHVfZGV2aWNlICphZGV2ID0gKHN0cnVjdCBhbWRncHVfZGV2aWNlICopaGFuZGxlOwo+
ICAgCj4gLQlhbWRncHVfaXJxX2ZpbmkoYWRldik7Cj4gKwlhbWRncHVfaXJxX2Zpbmlfc3coYWRl
dik7Cj4gICAJYW1kZ3B1X2loX3JpbmdfZmluaShhZGV2LCAmYWRldi0+aXJxLmloKTsKPiAgIAlh
bWRncHVfaXJxX3JlbW92ZV9kb21haW4oYWRldik7Cj4gICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvdmVnYTEwX2loLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS92ZWdhMTBfaWguYwo+IGluZGV4IGU1YWUzMWUuLmEzNDI0MDYgMTAwNjQ0Cj4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdmVnYTEwX2loLmMKPiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS92ZWdhMTBfaWguYwo+IEBAIC02MjcsNyArNjI3LDcgQEAgc3RhdGlj
IGludCB2ZWdhMTBfaWhfc3dfZmluaSh2b2lkICpoYW5kbGUpCj4gICB7Cj4gICAJc3RydWN0IGFt
ZGdwdV9kZXZpY2UgKmFkZXYgPSAoc3RydWN0IGFtZGdwdV9kZXZpY2UgKiloYW5kbGU7Cj4gICAK
PiAtCWFtZGdwdV9pcnFfZmluaShhZGV2KTsKPiArCWFtZGdwdV9pcnFfZmluaV9zdyhhZGV2KTsK
PiAgIAlhbWRncHVfaWhfcmluZ19maW5pKGFkZXYsICZhZGV2LT5pcnEuaWgyKTsKPiAgIAlhbWRn
cHVfaWhfcmluZ19maW5pKGFkZXYsICZhZGV2LT5pcnEuaWgxKTsKPiAgIAlhbWRncHVfaWhfcmlu
Z19maW5pKGFkZXYsICZhZGV2LT5pcnEuaWgpOwoKX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vZHJpLWRldmVsCg==
