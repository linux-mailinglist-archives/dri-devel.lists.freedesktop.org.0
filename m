Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 4CBC1120DC
	for <lists+dri-devel@lfdr.de>; Thu,  2 May 2019 19:13:04 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 2E5C5893BC;
	Thu,  2 May 2019 17:13:01 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-it1-x144.google.com (mail-it1-x144.google.com
 [IPv6:2607:f8b0:4864:20::144])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 1AA17893BC
 for <dri-devel@lists.freedesktop.org>; Thu,  2 May 2019 17:13:00 +0000 (UTC)
Received: by mail-it1-x144.google.com with SMTP id k64so4692689itb.5
 for <dri-devel@lists.freedesktop.org>; Thu, 02 May 2019 10:13:00 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=fHeQy2LynVNDli/Chx7T0leOgHSJsthp69H7JyMIyPM=;
 b=uJszBkzoYeH0BujGhjMf1c73YenCv9MmpjDbiojjEPBvGu2aazf+SRVyhpMBwvDx85
 rzSfp1nBgeEO8+udYFr9vEczEeCSLeslEa4jhVp9F+IbDmruUEFFSapOmm4kKCk54J/W
 gGvtkl4Y9rdjX/DYKZns4F839lzj2uEteJBkHVjjhRnHxEzeWU1hFadA4p7OgPbvg9AZ
 w2f4JcCyN5XFHDpvtNS8LDbZWsVk+n1Hk9yNUxkFF1Od0cPzCaFc7cUOfF0OLiLSycRZ
 cQNaCfX9K0Bf6r8mtqwTK9pWyKV2w72Hzsk92qDvzL9A7PXs1v+euIAv/vdXp0Pj6lfK
 OInA==
X-Gm-Message-State: APjAAAWav5vtclPjwqnOgswwiDP/aeYR+WlQlTZvsOrCm1PPU+FiHZ07
 MDq/HpqrBiJzt5k2qw1FwMBxihXzzq7+AGjLPzpelw==
X-Google-Smtp-Source: APXvYqzHNGEBduPRYaRAaUeBEpj6gWIsqJryXtJUIEP4yvyLKQ25vg+CeWotf+jZzYecRSMfilWBANgA2nhc+8+51IY=
X-Received: by 2002:a24:c744:: with SMTP id t65mr2879985itg.41.1556817178997; 
 Thu, 02 May 2019 10:12:58 -0700 (PDT)
MIME-Version: 1.0
References: <20190429220825.156644-1-olvaffe@gmail.com>
In-Reply-To: <20190429220825.156644-1-olvaffe@gmail.com>
From: Chia-I Wu <olvaffe@gmail.com>
Date: Thu, 2 May 2019 10:12:48 -0700
Message-ID: <CAPaKu7QOr-=ShQqaLK_HtCgh5kNULVVTG6t8bKTYOh3wEigqVw@mail.gmail.com>
Subject: Re: [PATCH 1/3] drm/virtio: set seqno for dma-fence
To: ML dri-devel <dri-devel@lists.freedesktop.org>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=fHeQy2LynVNDli/Chx7T0leOgHSJsthp69H7JyMIyPM=;
 b=CnVwt5kDrr8CdHej4AzpO2W70JxsavDoFQxSi9GnefwZgI/poo6DmSyBge3Dp+dl3V
 10UspJhWGSldChfNxL/O/6y2zvLquKp6Noe/hAf+gaBvmP5cBKEoTeiFEurqbpuDjs+k
 SsaV8/JgUAgWGuOdY/49tvIe3SMah0p+W/0IXSDlzHD29A/70510KdlRnB1IBa20k9zF
 RVSgOaTQbuGo4pexolaNZagncm+7ehkkP2kUPku5l92FD7s8CrMyFq65GnKaNZUVhT3I
 AAuztnmvoCY1QO9BCfi8iv/ZOACZAil3nkuXbZtHsVCflkm6txMQT3eHvn6q0UcUPtA9
 2TKw==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: David Airlie <airlied@linux.ie>, Gerd Hoffmann <kraxel@redhat.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

KEFkZCBtaXNzaW5nIENDcykKCgpPbiBNb24sIEFwciAyOSwgMjAxOSBhdCAzOjA4IFBNIENoaWEt
SSBXdSA8b2x2YWZmZUBnbWFpbC5jb20+IHdyb3RlOgo+Cj4gVGhpcyBpcyBtb3RpdmF0ZWQgYnkg
aGF2aW5nIG1lYW5pbmdmdWwgZnRyYWNlIGV2ZW50cywgYnV0IGl0IGFsc28KPiBmaXhlcyB1c2Ug
Y2FzZXMgd2hlcmUgZG1hX2ZlbmNlX2lzX2xhdGVyIGlzIGNhbGxlZCwgc3VjaCBhcyBpbgo+IHN5
bmNfZmlsZV9tZXJnZS4KPgo+IEluIG90aGVyIGRyaXZlcnMsIGZlbmNlIGNyZWF0aW9uIGFuZCBj
bWRidWYgc3VibWlzc2lvbiBub3JtYWxseQo+IGhhcHBlbiBhdG9taWNhbGx5LAo+Cj4gICBtdXRl
eF9sb2NrKCk7Cj4gICBmZW5jZSA9IGRtYV9mZW5jZV9jcmVhdGUoLi4uLCArK3RpbWVsaW5lLT5z
ZXFubyk7Cj4gICBzdWJtaXRfY21kYnVmKCk7Cj4gICBtdXRleF91bmxvY2soKTsKPgo+IGFuZCBo
YXZlIG5vIHN1Y2ggaXNzdWUuICBCdXQgaW4gb3VyIGRyaXZlciwgYmVjYXVzZSBtb3N0IGlvY3Rs
cwo+IHF1ZXVlIGNvbW1hbmRzIGludG8gY3RybHEsIHdlIGRvIG5vdCB3YW50IHRvIGdyYWIgYSBs
b2NrLiAgSW5zdGVhZCwKPiB3ZSBzZXQgc2Vxbm8gdG8gMCB3aGVuIGEgZmVuY2UgaXMgY3JlYXRl
ZCwgYW5kIHVwZGF0ZSBpdCB3aGVuIHRoZQo+IGNvbW1hbmQgaXMgZmluYWxseSBxdWV1ZWQgYW5k
IHRoZSBzZXFubyBpcyBrbm93bi4KPgo+IFNpZ25lZC1vZmYtYnk6IENoaWEtSSBXdSA8b2x2YWZm
ZUBnbWFpbC5jb20+Cj4gLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS92aXJ0aW8vdmlydGdwdV9kcnYu
aCAgIHwgIDEgLQo+ICBkcml2ZXJzL2dwdS9kcm0vdmlydGlvL3ZpcnRncHVfZmVuY2UuYyB8IDE3
ICsrKysrKysrKystLS0tLS0tCj4gIDIgZmlsZXMgY2hhbmdlZCwgMTAgaW5zZXJ0aW9ucygrKSwg
OCBkZWxldGlvbnMoLSkKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdmlydGlvL3Zp
cnRncHVfZHJ2LmggYi9kcml2ZXJzL2dwdS9kcm0vdmlydGlvL3ZpcnRncHVfZHJ2LmgKPiBpbmRl
eCA0OTFkZWMwNzEyYjMuLjkwNDYxZmVlYWZkYiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9k
cm0vdmlydGlvL3ZpcnRncHVfZHJ2LmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vdmlydGlvL3Zp
cnRncHVfZHJ2LmgKPiBAQCAtMTAyLDcgKzEwMiw2IEBAIHN0cnVjdCB2aXJ0aW9fZ3B1X2ZlbmNl
IHsKPiAgICAgICAgIHN0cnVjdCBkbWFfZmVuY2UgZjsKPiAgICAgICAgIHN0cnVjdCB2aXJ0aW9f
Z3B1X2ZlbmNlX2RyaXZlciAqZHJ2Owo+ICAgICAgICAgc3RydWN0IGxpc3RfaGVhZCBub2RlOwo+
IC0gICAgICAgdWludDY0X3Qgc2VxOwo+ICB9Owo+ICAjZGVmaW5lIHRvX3ZpcnRpb19mZW5jZSh4
KSBcCj4gICAgICAgICBjb250YWluZXJfb2YoeCwgc3RydWN0IHZpcnRpb19ncHVfZmVuY2UsIGYp
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS92aXJ0aW8vdmlydGdwdV9mZW5jZS5jIGIv
ZHJpdmVycy9ncHUvZHJtL3ZpcnRpby92aXJ0Z3B1X2ZlbmNlLmMKPiBpbmRleCA4N2QxOTY2MTky
ZjQuLjcyYjRmNzU2MTQzMiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vdmlydGlvL3Zp
cnRncHVfZmVuY2UuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS92aXJ0aW8vdmlydGdwdV9mZW5j
ZS5jCj4gQEAgLTQwLDE2ICs0MCwxNCBAQCBib29sIHZpcnRpb19mZW5jZV9zaWduYWxlZChzdHJ1
Y3QgZG1hX2ZlbmNlICpmKQo+ICB7Cj4gICAgICAgICBzdHJ1Y3QgdmlydGlvX2dwdV9mZW5jZSAq
ZmVuY2UgPSB0b192aXJ0aW9fZmVuY2UoZik7Cj4KPiAtICAgICAgIGlmIChhdG9taWM2NF9yZWFk
KCZmZW5jZS0+ZHJ2LT5sYXN0X3NlcSkgPj0gZmVuY2UtPnNlcSkKPiArICAgICAgIGlmIChhdG9t
aWM2NF9yZWFkKCZmZW5jZS0+ZHJ2LT5sYXN0X3NlcSkgPj0gZmVuY2UtPmYuc2Vxbm8pCj4gICAg
ICAgICAgICAgICAgIHJldHVybiB0cnVlOwo+ICAgICAgICAgcmV0dXJuIGZhbHNlOwo+ICB9Cj4K
PiAgc3RhdGljIHZvaWQgdmlydGlvX2ZlbmNlX3ZhbHVlX3N0cihzdHJ1Y3QgZG1hX2ZlbmNlICpm
LCBjaGFyICpzdHIsIGludCBzaXplKQo+ICB7Cj4gLSAgICAgICBzdHJ1Y3QgdmlydGlvX2dwdV9m
ZW5jZSAqZmVuY2UgPSB0b192aXJ0aW9fZmVuY2UoZik7Cj4gLQo+IC0gICAgICAgc25wcmludGYo
c3RyLCBzaXplLCAiJWxsdSIsIGZlbmNlLT5zZXEpOwo+ICsgICAgICAgc25wcmludGYoc3RyLCBz
aXplLCAiJWxsdSIsIGYtPnNlcW5vKTsKPiAgfQo+Cj4gIHN0YXRpYyB2b2lkIHZpcnRpb190aW1l
bGluZV92YWx1ZV9zdHIoc3RydWN0IGRtYV9mZW5jZSAqZiwgY2hhciAqc3RyLCBpbnQgc2l6ZSkK
PiBAQCAtNzYsNiArNzQsMTEgQEAgc3RydWN0IHZpcnRpb19ncHVfZmVuY2UgKnZpcnRpb19ncHVf
ZmVuY2VfYWxsb2Moc3RydWN0IHZpcnRpb19ncHVfZGV2aWNlICp2Z2RldikKPiAgICAgICAgICAg
ICAgICAgcmV0dXJuIGZlbmNlOwo+Cj4gICAgICAgICBmZW5jZS0+ZHJ2ID0gZHJ2Owo+ICsKPiAr
ICAgICAgIC8qIFRoaXMgb25seSBwYXJ0aWFsbHkgaW5pdGlhbGl6ZXMgdGhlIGZlbmNlIGJlY2F1
c2UgdGhlIHNlcW5vIGlzCj4gKyAgICAgICAgKiB1bmtub3duIHlldC4gIFRoZSBmZW5jZSBtdXN0
IG5vdCBiZSB1c2VkIG91dHNpZGUgb2YgdGhlIGRyaXZlcgo+ICsgICAgICAgICogdW50aWwgdmly
dGlvX2dwdV9mZW5jZV9lbWl0IGlzIGNhbGxlZC4KPiArICAgICAgICAqLwo+ICAgICAgICAgZG1h
X2ZlbmNlX2luaXQoJmZlbmNlLT5mLCAmdmlydGlvX2ZlbmNlX29wcywgJmRydi0+bG9jaywgZHJ2
LT5jb250ZXh0LCAwKTsKPgo+ICAgICAgICAgcmV0dXJuIGZlbmNlOwo+IEBAIC04OSwxMyArOTIs
MTMgQEAgaW50IHZpcnRpb19ncHVfZmVuY2VfZW1pdChzdHJ1Y3QgdmlydGlvX2dwdV9kZXZpY2Ug
KnZnZGV2LAo+ICAgICAgICAgdW5zaWduZWQgbG9uZyBpcnFfZmxhZ3M7Cj4KPiAgICAgICAgIHNw
aW5fbG9ja19pcnFzYXZlKCZkcnYtPmxvY2ssIGlycV9mbGFncyk7Cj4gLSAgICAgICBmZW5jZS0+
c2VxID0gKytkcnYtPnN5bmNfc2VxOwo+ICsgICAgICAgZmVuY2UtPmYuc2Vxbm8gPSArK2Rydi0+
c3luY19zZXE7Cj4gICAgICAgICBkbWFfZmVuY2VfZ2V0KCZmZW5jZS0+Zik7Cj4gICAgICAgICBs
aXN0X2FkZF90YWlsKCZmZW5jZS0+bm9kZSwgJmRydi0+ZmVuY2VzKTsKPiAgICAgICAgIHNwaW5f
dW5sb2NrX2lycXJlc3RvcmUoJmRydi0+bG9jaywgaXJxX2ZsYWdzKTsKPgo+ICAgICAgICAgY21k
X2hkci0+ZmxhZ3MgfD0gY3B1X3RvX2xlMzIoVklSVElPX0dQVV9GTEFHX0ZFTkNFKTsKPiAtICAg
ICAgIGNtZF9oZHItPmZlbmNlX2lkID0gY3B1X3RvX2xlNjQoZmVuY2UtPnNlcSk7Cj4gKyAgICAg
ICBjbWRfaGRyLT5mZW5jZV9pZCA9IGNwdV90b19sZTY0KGZlbmNlLT5mLnNlcW5vKTsKPiAgICAg
ICAgIHJldHVybiAwOwo+ICB9Cj4KPiBAQCAtMTA5LDcgKzExMiw3IEBAIHZvaWQgdmlydGlvX2dw
dV9mZW5jZV9ldmVudF9wcm9jZXNzKHN0cnVjdCB2aXJ0aW9fZ3B1X2RldmljZSAqdmdkZXYsCj4g
ICAgICAgICBzcGluX2xvY2tfaXJxc2F2ZSgmZHJ2LT5sb2NrLCBpcnFfZmxhZ3MpOwo+ICAgICAg
ICAgYXRvbWljNjRfc2V0KCZ2Z2Rldi0+ZmVuY2VfZHJ2Lmxhc3Rfc2VxLCBsYXN0X3NlcSk7Cj4g
ICAgICAgICBsaXN0X2Zvcl9lYWNoX2VudHJ5X3NhZmUoZmVuY2UsIHRtcCwgJmRydi0+ZmVuY2Vz
LCBub2RlKSB7Cj4gLSAgICAgICAgICAgICAgIGlmIChsYXN0X3NlcSA8IGZlbmNlLT5zZXEpCj4g
KyAgICAgICAgICAgICAgIGlmIChsYXN0X3NlcSA8IGZlbmNlLT5mLnNlcW5vKQo+ICAgICAgICAg
ICAgICAgICAgICAgICAgIGNvbnRpbnVlOwo+ICAgICAgICAgICAgICAgICBkbWFfZmVuY2Vfc2ln
bmFsX2xvY2tlZCgmZmVuY2UtPmYpOwo+ICAgICAgICAgICAgICAgICBsaXN0X2RlbCgmZmVuY2Ut
Pm5vZGUpOwo+IC0tCj4gMi4yMS4wLjU5My5nNTExZWMzNDVlMTgtZ29vZwo+Cl9fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxp
c3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNr
dG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
