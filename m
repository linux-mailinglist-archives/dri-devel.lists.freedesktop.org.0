Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 2D2A6318C02
	for <lists+dri-devel@lfdr.de>; Thu, 11 Feb 2021 14:29:54 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E34F36E0F5;
	Thu, 11 Feb 2021 13:29:46 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ej1-x636.google.com (mail-ej1-x636.google.com
 [IPv6:2a00:1450:4864:20::636])
 by gabe.freedesktop.org (Postfix) with ESMTPS id BA94E6E0F5
 for <dri-devel@lists.freedesktop.org>; Thu, 11 Feb 2021 13:29:45 +0000 (UTC)
Received: by mail-ej1-x636.google.com with SMTP id jj19so10093551ejc.4
 for <dri-devel@lists.freedesktop.org>; Thu, 11 Feb 2021 05:29:45 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=rnKMD0gFWbm5rjlkLlN2rxa4obGzTJq1MtbE2gwCtoY=;
 b=gCeTYuDcZCBE6g9+L1Y4++w1BekKZwaVRsA//EZR8Ja71X37ubfw4NORbeMdBXKegC
 AywXjI9TskXuGxCbmu4MwyTWyc1jIL9LzZy/U2H8/h0xqT8TAMls7iox5vn5ReOHhfQC
 8/iXMXMDtU2MxXtLH7BP4KxdHbaTflTtX4tZhDZWZlQ5AGd9eYSRE05aKkw2txwPCQ3v
 OYXYliVD5DqZzjlq1Op/IpDAs3wwPT5aKW4fV4qMWjSr1n4NMWtrp1iEblZiLD4G4nf7
 jfB+TvKz1TD/ORJTtzXKfmGRNnARP2lDSnQs5F/KnTkPVWixYAqbHHvE5w240+p8zFiQ
 YF9A==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=rnKMD0gFWbm5rjlkLlN2rxa4obGzTJq1MtbE2gwCtoY=;
 b=rc7BLT8YAc//cv9oQbl5YVvipVyyGlvnQtIghw4DyBHht/p7n8Ko3BD9R7PMHlxRBB
 NRw7p7zsq2I5lOAqlKLwqOrydjjcWFKm7HbaUwFPq43DGe0wcl5o78Y5mDtVv0Tbns5y
 TPdaJhGNo7MQl3g+uDZk9APCxaRxqwWBlEMUXPky/lFIZvCIfMfhkd3PZfBqdXPMeo2T
 eS3HI0GcFEa8MtAWioL5FTxq7oU+fV3bp3wMZMsvqg8sv49FFjI6cdWowI1e4iu0KMJv
 CgCtYxEeCWnEiz/vrhnKWNNTjKZRRi2ss1uHae0JQJG6G5x/q1lVhJ+DZOMs/tu3WpiO
 gaJQ==
X-Gm-Message-State: AOAM530TNBRpXW/CFRbGRfPokm4BocZxW495rJzzaexDTePphrK+tt24
 NkfNJyPcl4SiMq5g2cTbp4b2qUFDMvPzbg==
X-Google-Smtp-Source: ABdhPJzc/zO0Bv26kjBcylJLNwNFXPLvgArcCW6hnWWZpTwRRw9sFLH4kghly1BVOJJ0mj8TqFmYyQ==
X-Received: by 2002:a17:906:d7bc:: with SMTP id
 pk28mr8374263ejb.370.1613050184397; 
 Thu, 11 Feb 2021 05:29:44 -0800 (PST)
Received: from abel.fritz.box ([2a02:908:1252:fb60:820:5af6:9146:2c9f])
 by smtp.gmail.com with ESMTPSA id w26sm3862627edq.46.2021.02.11.05.29.43
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Thu, 11 Feb 2021 05:29:44 -0800 (PST)
From: "=?UTF-8?q?Christian=20K=C3=B6nig?=" <ckoenig.leichtzumerken@gmail.com>
X-Google-Original-From: =?UTF-8?q?Christian=20K=C3=B6nig?=
 <christian.koenig@amd.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH 3/3] drm/ttm: switch to per device LRU lock
Date: Thu, 11 Feb 2021 14:29:41 +0100
Message-Id: <20210211132941.290772-3-christian.koenig@amd.com>
X-Mailer: git-send-email 2.25.1
In-Reply-To: <20210211132941.290772-1-christian.koenig@amd.com>
References: <20210211132941.290772-1-christian.koenig@amd.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: ray.huang@amd.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SW5zdGVhZCBvZiBoYXZpbmcgYSBnbG9iYWwgbG9jay4KClNpZ25lZC1vZmYtYnk6IENocmlzdGlh
biBLw7ZuaWcgPGNocmlzdGlhbi5rb2VuaWdAYW1kLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHVfdm0uYyB8ICA4ICsrLS0tCiBkcml2ZXJzL2dwdS9kcm0vcXhsL3F4
bF9yZWxlYXNlLmMgICAgICB8ICA1ICstLQogZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm8uYyAg
ICAgICAgICAgfCA0OSArKysrKysrKysrKystLS0tLS0tLS0tLS0tLQogZHJpdmVycy9ncHUvZHJt
L3R0bS90dG1fZGV2aWNlLmMgICAgICAgfCAxMiArKystLS0tCiBkcml2ZXJzL2dwdS9kcm0vdHRt
L3R0bV9leGVjYnVmX3V0aWwuYyB8ICA4ICsrLS0tCiBkcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9y
ZXNvdXJjZS5jICAgICB8ICA5ICsrKy0tCiBpbmNsdWRlL2RybS90dG0vdHRtX2JvX2RyaXZlci5o
ICAgICAgICB8ICA0ICstLQogaW5jbHVkZS9kcm0vdHRtL3R0bV9kZXZpY2UuaCAgICAgICAgICAg
fCAgNCArLS0KIDggZmlsZXMgY2hhbmdlZCwgNDMgaW5zZXJ0aW9ucygrKSwgNTYgZGVsZXRpb25z
KC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtLmMg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdm0uYwppbmRleCA5ZDE5MDc4MjQ2
YzguLmFlMThjMGUzMjM0NyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
YW1kZ3B1X3ZtLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtLmMK
QEAgLTYzOCwxNSArNjM4LDE1IEBAIHZvaWQgYW1kZ3B1X3ZtX21vdmVfdG9fbHJ1X3RhaWwoc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCiAJc3RydWN0IGFtZGdwdV92bV9ib19iYXNlICpib19i
YXNlOwogCiAJaWYgKHZtLT5idWxrX21vdmVhYmxlKSB7Ci0JCXNwaW5fbG9jaygmdHRtX2dsb2Iu
bHJ1X2xvY2spOworCQlzcGluX2xvY2soJmFkZXYtPm1tYW4uYmRldi5scnVfbG9jayk7CiAJCXR0
bV9ib19idWxrX21vdmVfbHJ1X3RhaWwoJnZtLT5scnVfYnVsa19tb3ZlKTsKLQkJc3Bpbl91bmxv
Y2soJnR0bV9nbG9iLmxydV9sb2NrKTsKKwkJc3Bpbl91bmxvY2soJmFkZXYtPm1tYW4uYmRldi5s
cnVfbG9jayk7CiAJCXJldHVybjsKIAl9CiAKIAltZW1zZXQoJnZtLT5scnVfYnVsa19tb3ZlLCAw
LCBzaXplb2Yodm0tPmxydV9idWxrX21vdmUpKTsKIAotCXNwaW5fbG9jaygmdHRtX2dsb2IubHJ1
X2xvY2spOworCXNwaW5fbG9jaygmYWRldi0+bW1hbi5iZGV2LmxydV9sb2NrKTsKIAlsaXN0X2Zv
cl9lYWNoX2VudHJ5KGJvX2Jhc2UsICZ2bS0+aWRsZSwgdm1fc3RhdHVzKSB7CiAJCXN0cnVjdCBh
bWRncHVfYm8gKmJvID0gYm9fYmFzZS0+Ym87CiAKQEAgLTY2MCw3ICs2NjAsNyBAQCB2b2lkIGFt
ZGdwdV92bV9tb3ZlX3RvX2xydV90YWlsKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LAogCQkJ
CQkJJmJvLT5zaGFkb3ctPnRiby5tZW0sCiAJCQkJCQkmdm0tPmxydV9idWxrX21vdmUpOwogCX0K
LQlzcGluX3VubG9jaygmdHRtX2dsb2IubHJ1X2xvY2spOworCXNwaW5fdW5sb2NrKCZhZGV2LT5t
bWFuLmJkZXYubHJ1X2xvY2spOwogCiAJdm0tPmJ1bGtfbW92ZWFibGUgPSB0cnVlOwogfQpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3F4bC9xeGxfcmVsZWFzZS5jIGIvZHJpdmVycy9ncHUv
ZHJtL3F4bC9xeGxfcmVsZWFzZS5jCmluZGV4IDZlZDY3M2Q3NWY5Zi4uMjlhZDcyY2I2YjU0IDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcXhsL3F4bF9yZWxlYXNlLmMKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL3F4bC9xeGxfcmVsZWFzZS5jCkBAIC00MTcsMTYgKzQxNywxMyBAQCB2b2lkIHF4
bF9yZWxlYXNlX2ZlbmNlX2J1ZmZlcl9vYmplY3RzKHN0cnVjdCBxeGxfcmVsZWFzZSAqcmVsZWFz
ZSkKIAkJICAgICAgIHJlbGVhc2UtPmlkIHwgMHhmMDAwMDAwMCwgcmVsZWFzZS0+YmFzZS5zZXFu
byk7CiAJdHJhY2VfZG1hX2ZlbmNlX2VtaXQoJnJlbGVhc2UtPmJhc2UpOwogCi0Jc3Bpbl9sb2Nr
KCZ0dG1fZ2xvYi5scnVfbG9jayk7Ci0KIAlsaXN0X2Zvcl9lYWNoX2VudHJ5KGVudHJ5LCAmcmVs
ZWFzZS0+Ym9zLCBoZWFkKSB7CiAJCWJvID0gZW50cnktPmJvOwogCiAJCWRtYV9yZXN2X2FkZF9z
aGFyZWRfZmVuY2UoYm8tPmJhc2UucmVzdiwgJnJlbGVhc2UtPmJhc2UpOwotCQl0dG1fYm9fbW92
ZV90b19scnVfdGFpbChibywgJmJvLT5tZW0sIE5VTEwpOworCQl0dG1fYm9fbW92ZV90b19scnVf
dGFpbF91bmxvY2tlZChibyk7CiAJCWRtYV9yZXN2X3VubG9jayhiby0+YmFzZS5yZXN2KTsKIAl9
Ci0Jc3Bpbl91bmxvY2soJnR0bV9nbG9iLmxydV9sb2NrKTsKIAl3d19hY3F1aXJlX2ZpbmkoJnJl
bGVhc2UtPnRpY2tldCk7CiB9CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRt
X2JvLmMgYi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9iby5jCmluZGV4IGExYmU4OGJlMzU3Yi4u
YTgxMDNjODcxOGEzIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9iby5jCisr
KyBiL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2JvLmMKQEAgLTI0Miw5ICsyNDIsOSBAQCBzdGF0
aWMgaW50IHR0bV9ib19pbmRpdmlkdWFsaXplX3Jlc3Yoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0
ICpibykKIAkJICogcmVmZXJlbmNlIGl0IGFueSBtb3JlLiBUaGUgb25seSB0cmlja3kgY2FzZSBp
cyB0aGUgdHJ5bG9jayBvbgogCQkgKiB0aGUgcmVzdiBvYmplY3Qgd2hpbGUgaG9sZGluZyB0aGUg
bHJ1X2xvY2suCiAJCSAqLwotCQlzcGluX2xvY2soJnR0bV9nbG9iLmxydV9sb2NrKTsKKwkJc3Bp
bl9sb2NrKCZiby0+YmRldi0+bHJ1X2xvY2spOwogCQliby0+YmFzZS5yZXN2ID0gJmJvLT5iYXNl
Ll9yZXN2OwotCQlzcGluX3VubG9jaygmdHRtX2dsb2IubHJ1X2xvY2spOworCQlzcGluX3VubG9j
aygmYm8tPmJkZXYtPmxydV9sb2NrKTsKIAl9CiAKIAlyZXR1cm4gcjsKQEAgLTMwMyw3ICszMDMs
NyBAQCBzdGF0aWMgaW50IHR0bV9ib19jbGVhbnVwX3JlZnMoc3RydWN0IHR0bV9idWZmZXJfb2Jq
ZWN0ICpibywKIAogCQlpZiAodW5sb2NrX3Jlc3YpCiAJCQlkbWFfcmVzdl91bmxvY2soYm8tPmJh
c2UucmVzdik7Ci0JCXNwaW5fdW5sb2NrKCZ0dG1fZ2xvYi5scnVfbG9jayk7CisJCXNwaW5fdW5s
b2NrKCZiby0+YmRldi0+bHJ1X2xvY2spOwogCiAJCWxyZXQgPSBkbWFfcmVzdl93YWl0X3RpbWVv
dXRfcmN1KHJlc3YsIHRydWUsIGludGVycnVwdGlibGUsCiAJCQkJCQkgMzAgKiBIWik7CkBAIC0z
MTMsNyArMzEzLDcgQEAgc3RhdGljIGludCB0dG1fYm9fY2xlYW51cF9yZWZzKHN0cnVjdCB0dG1f
YnVmZmVyX29iamVjdCAqYm8sCiAJCWVsc2UgaWYgKGxyZXQgPT0gMCkKIAkJCXJldHVybiAtRUJV
U1k7CiAKLQkJc3Bpbl9sb2NrKCZ0dG1fZ2xvYi5scnVfbG9jayk7CisJCXNwaW5fbG9jaygmYm8t
PmJkZXYtPmxydV9sb2NrKTsKIAkJaWYgKHVubG9ja19yZXN2ICYmICFkbWFfcmVzdl90cnlsb2Nr
KGJvLT5iYXNlLnJlc3YpKSB7CiAJCQkvKgogCQkJICogV2UgcmFjZWQsIGFuZCBsb3N0LCBzb21l
b25lIGVsc2UgaG9sZHMgdGhlIHJlc2VydmF0aW9uIG5vdywKQEAgLTMyMyw3ICszMjMsNyBAQCBz
dGF0aWMgaW50IHR0bV9ib19jbGVhbnVwX3JlZnMoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpi
bywKIAkJCSAqIGRlbGF5ZWQgZGVzdHJ1Y3Rpb24gd291bGQgc3VjY2VlZCwgc28ganVzdCByZXR1
cm4gc3VjY2VzcwogCQkJICogaGVyZS4KIAkJCSAqLwotCQkJc3Bpbl91bmxvY2soJnR0bV9nbG9i
LmxydV9sb2NrKTsKKwkJCXNwaW5fdW5sb2NrKCZiby0+YmRldi0+bHJ1X2xvY2spOwogCQkJcmV0
dXJuIDA7CiAJCX0KIAkJcmV0ID0gMDsKQEAgLTMzMiwxMyArMzMyLDEzIEBAIHN0YXRpYyBpbnQg
dHRtX2JvX2NsZWFudXBfcmVmcyhzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAogCWlmIChy
ZXQgfHwgdW5saWtlbHkobGlzdF9lbXB0eSgmYm8tPmRkZXN0cm95KSkpIHsKIAkJaWYgKHVubG9j
a19yZXN2KQogCQkJZG1hX3Jlc3ZfdW5sb2NrKGJvLT5iYXNlLnJlc3YpOwotCQlzcGluX3VubG9j
aygmdHRtX2dsb2IubHJ1X2xvY2spOworCQlzcGluX3VubG9jaygmYm8tPmJkZXYtPmxydV9sb2Nr
KTsKIAkJcmV0dXJuIHJldDsKIAl9CiAKIAl0dG1fYm9fZGVsX2Zyb21fbHJ1KGJvKTsKIAlsaXN0
X2RlbF9pbml0KCZiby0+ZGRlc3Ryb3kpOwotCXNwaW5fdW5sb2NrKCZ0dG1fZ2xvYi5scnVfbG9j
ayk7CisJc3Bpbl91bmxvY2soJmJvLT5iZGV2LT5scnVfbG9jayk7CiAJdHRtX2JvX2NsZWFudXBf
bWVtdHlwZV91c2UoYm8pOwogCiAJaWYgKHVubG9ja19yZXN2KQpAQCAtMzU1LDEzICszNTUsMTIg
QEAgc3RhdGljIGludCB0dG1fYm9fY2xlYW51cF9yZWZzKHN0cnVjdCB0dG1fYnVmZmVyX29iamVj
dCAqYm8sCiAgKi8KIGJvb2wgdHRtX2JvX2RlbGF5ZWRfZGVsZXRlKHN0cnVjdCB0dG1fZGV2aWNl
ICpiZGV2LCBib29sIHJlbW92ZV9hbGwpCiB7Ci0Jc3RydWN0IHR0bV9nbG9iYWwgKmdsb2IgPSAm
dHRtX2dsb2I7CiAJc3RydWN0IGxpc3RfaGVhZCByZW1vdmVkOwogCWJvb2wgZW1wdHk7CiAKIAlJ
TklUX0xJU1RfSEVBRCgmcmVtb3ZlZCk7CiAKLQlzcGluX2xvY2soJmdsb2ItPmxydV9sb2NrKTsK
KwlzcGluX2xvY2soJmJkZXYtPmxydV9sb2NrKTsKIAl3aGlsZSAoIWxpc3RfZW1wdHkoJmJkZXYt
PmRkZXN0cm95KSkgewogCQlzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvOwogCkBAIC0zNzIs
MjQgKzM3MSwyNCBAQCBib29sIHR0bV9ib19kZWxheWVkX2RlbGV0ZShzdHJ1Y3QgdHRtX2Rldmlj
ZSAqYmRldiwgYm9vbCByZW1vdmVfYWxsKQogCQkJY29udGludWU7CiAKIAkJaWYgKHJlbW92ZV9h
bGwgfHwgYm8tPmJhc2UucmVzdiAhPSAmYm8tPmJhc2UuX3Jlc3YpIHsKLQkJCXNwaW5fdW5sb2Nr
KCZnbG9iLT5scnVfbG9jayk7CisJCQlzcGluX3VubG9jaygmYmRldi0+bHJ1X2xvY2spOwogCQkJ
ZG1hX3Jlc3ZfbG9jayhiby0+YmFzZS5yZXN2LCBOVUxMKTsKIAotCQkJc3Bpbl9sb2NrKCZnbG9i
LT5scnVfbG9jayk7CisJCQlzcGluX2xvY2soJmJkZXYtPmxydV9sb2NrKTsKIAkJCXR0bV9ib19j
bGVhbnVwX3JlZnMoYm8sIGZhbHNlLCAhcmVtb3ZlX2FsbCwgdHJ1ZSk7CiAKIAkJfSBlbHNlIGlm
IChkbWFfcmVzdl90cnlsb2NrKGJvLT5iYXNlLnJlc3YpKSB7CiAJCQl0dG1fYm9fY2xlYW51cF9y
ZWZzKGJvLCBmYWxzZSwgIXJlbW92ZV9hbGwsIHRydWUpOwogCQl9IGVsc2UgewotCQkJc3Bpbl91
bmxvY2soJmdsb2ItPmxydV9sb2NrKTsKKwkJCXNwaW5fdW5sb2NrKCZiZGV2LT5scnVfbG9jayk7
CiAJCX0KIAogCQl0dG1fYm9fcHV0KGJvKTsKLQkJc3Bpbl9sb2NrKCZnbG9iLT5scnVfbG9jayk7
CisJCXNwaW5fbG9jaygmYmRldi0+bHJ1X2xvY2spOwogCX0KIAlsaXN0X3NwbGljZV90YWlsKCZy
ZW1vdmVkLCAmYmRldi0+ZGRlc3Ryb3kpOwogCWVtcHR5ID0gbGlzdF9lbXB0eSgmYmRldi0+ZGRl
c3Ryb3kpOwotCXNwaW5fdW5sb2NrKCZnbG9iLT5scnVfbG9jayk7CisJc3Bpbl91bmxvY2soJmJk
ZXYtPmxydV9sb2NrKTsKIAogCXJldHVybiBlbXB0eTsKIH0KQEAgLTQyNCw3ICs0MjMsNyBAQCBz
dGF0aWMgdm9pZCB0dG1fYm9fcmVsZWFzZShzdHJ1Y3Qga3JlZiAqa3JlZikKIAkJdHRtX2JvX2Zs
dXNoX2FsbF9mZW5jZXMoYm8pOwogCQliby0+ZGVsZXRlZCA9IHRydWU7CiAKLQkJc3Bpbl9sb2Nr
KCZ0dG1fZ2xvYi5scnVfbG9jayk7CisJCXNwaW5fbG9jaygmYm8tPmJkZXYtPmxydV9sb2NrKTsK
IAogCQkvKgogCQkgKiBNYWtlIHBpbm5lZCBib3MgaW1tZWRpYXRlbHkgYXZhaWxhYmxlIHRvCkBA
IC00MzgsMTcgKzQzNywxNyBAQCBzdGF0aWMgdm9pZCB0dG1fYm9fcmVsZWFzZShzdHJ1Y3Qga3Jl
ZiAqa3JlZikKIAogCQlrcmVmX2luaXQoJmJvLT5rcmVmKTsKIAkJbGlzdF9hZGRfdGFpbCgmYm8t
PmRkZXN0cm95LCAmYmRldi0+ZGRlc3Ryb3kpOwotCQlzcGluX3VubG9jaygmdHRtX2dsb2IubHJ1
X2xvY2spOworCQlzcGluX3VubG9jaygmYm8tPmJkZXYtPmxydV9sb2NrKTsKIAogCQlzY2hlZHVs
ZV9kZWxheWVkX3dvcmsoJmJkZXYtPndxLAogCQkJCSAgICAgICgoSFogLyAxMDApIDwgMSkgPyAx
IDogSFogLyAxMDApOwogCQlyZXR1cm47CiAJfQogCi0Jc3Bpbl9sb2NrKCZ0dG1fZ2xvYi5scnVf
bG9jayk7CisJc3Bpbl9sb2NrKCZiby0+YmRldi0+bHJ1X2xvY2spOwogCXR0bV9ib19kZWxfZnJv
bV9scnUoYm8pOwogCWxpc3RfZGVsKCZiby0+ZGRlc3Ryb3kpOwotCXNwaW5fdW5sb2NrKCZ0dG1f
Z2xvYi5scnVfbG9jayk7CisJc3Bpbl91bmxvY2soJmJvLT5iZGV2LT5scnVfbG9jayk7CiAKIAl0
dG1fYm9fY2xlYW51cF9tZW10eXBlX3VzZShibyk7CiAJZG1hX3Jlc3ZfdW5sb2NrKGJvLT5iYXNl
LnJlc3YpOwpAQCAtNjIyLDcgKzYyMSw3IEBAIGludCB0dG1fbWVtX2V2aWN0X2ZpcnN0KHN0cnVj
dCB0dG1fZGV2aWNlICpiZGV2LAogCXVuc2lnbmVkIGk7CiAJaW50IHJldDsKIAotCXNwaW5fbG9j
aygmdHRtX2dsb2IubHJ1X2xvY2spOworCXNwaW5fbG9jaygmYm8tPmJkZXYtPmxydV9sb2NrKTsK
IAlmb3IgKGkgPSAwOyBpIDwgVFRNX01BWF9CT19QUklPUklUWTsgKytpKSB7CiAJCWxpc3RfZm9y
X2VhY2hfZW50cnkoYm8sICZtYW4tPmxydVtpXSwgbHJ1KSB7CiAJCQlib29sIGJ1c3k7CkBAIC02
NTksNyArNjU4LDcgQEAgaW50IHR0bV9tZW1fZXZpY3RfZmlyc3Qoc3RydWN0IHR0bV9kZXZpY2Ug
KmJkZXYsCiAJaWYgKCFibykgewogCQlpZiAoYnVzeV9ibyAmJiAhdHRtX2JvX2dldF91bmxlc3Nf
emVybyhidXN5X2JvKSkKIAkJCWJ1c3lfYm8gPSBOVUxMOwotCQlzcGluX3VubG9jaygmdHRtX2ds
b2IubHJ1X2xvY2spOworCQlzcGluX3VubG9jaygmYm8tPmJkZXYtPmxydV9sb2NrKTsKIAkJcmV0
ID0gdHRtX21lbV9ldmljdF93YWl0X2J1c3koYnVzeV9ibywgY3R4LCB0aWNrZXQpOwogCQlpZiAo
YnVzeV9ibykKIAkJCXR0bV9ib19wdXQoYnVzeV9ibyk7CkBAIC02NzMsNyArNjcyLDcgQEAgaW50
IHR0bV9tZW1fZXZpY3RfZmlyc3Qoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCiAJCXJldHVybiBy
ZXQ7CiAJfQogCi0Jc3Bpbl91bmxvY2soJnR0bV9nbG9iLmxydV9sb2NrKTsKKwlzcGluX3VubG9j
aygmYm8tPmJkZXYtPmxydV9sb2NrKTsKIAogCXJldCA9IHR0bV9ib19ldmljdChibywgY3R4KTsK
IAlpZiAobG9ja2VkKQpAQCAtNzczLDEwICs3NzIsOSBAQCBzdGF0aWMgaW50IHR0bV9ib19tZW1f
cGxhY2VtZW50KHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCiAJbWVtLT5tZW1fdHlwZSA9
IHBsYWNlLT5tZW1fdHlwZTsKIAltZW0tPnBsYWNlbWVudCA9IHBsYWNlLT5mbGFnczsKIAotCXNw
aW5fbG9jaygmdHRtX2dsb2IubHJ1X2xvY2spOworCXNwaW5fbG9jaygmYm8tPmJkZXYtPmxydV9s
b2NrKTsKIAl0dG1fYm9fbW92ZV90b19scnVfdGFpbChibywgbWVtLCBOVUxMKTsKLQlzcGluX3Vu
bG9jaygmdHRtX2dsb2IubHJ1X2xvY2spOwotCisJc3Bpbl91bmxvY2soJmJvLT5iZGV2LT5scnVf
bG9jayk7CiAJcmV0dXJuIDA7CiB9CiAKQEAgLTExNjAsNyArMTE1OCw2IEBAIEVYUE9SVF9TWU1C
T0wodHRtX2JvX3dhaXQpOwogaW50IHR0bV9ib19zd2Fwb3V0KHN0cnVjdCB0dG1fYnVmZmVyX29i
amVjdCAqYm8sIHN0cnVjdCB0dG1fb3BlcmF0aW9uX2N0eCAqY3R4LAogCQkgICBnZnBfdCBnZnBf
ZmxhZ3MpCiB7Ci0Jc3RydWN0IHR0bV9nbG9iYWwgKmdsb2IgPSAmdHRtX2dsb2I7CiAJYm9vbCBs
b2NrZWQ7CiAJaW50IHJldDsKIApAQCAtMTE4NSw3ICsxMTgyLDcgQEAgaW50IHR0bV9ib19zd2Fw
b3V0KHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sIHN0cnVjdCB0dG1fb3BlcmF0aW9uX2N0
eCAqY3R4LAogCiAJdHRtX2JvX2RlbF9mcm9tX2xydShibyk7CiAJLyogVE9ETzogQ2xlYW51cCB0
aGUgbG9ja2luZyAqLwotCXNwaW5fdW5sb2NrKCZnbG9iLT5scnVfbG9jayk7CisJc3Bpbl91bmxv
Y2soJmJvLT5iZGV2LT5scnVfbG9jayk7CiAKIAkvKgogCSAqIE1vdmUgdG8gc3lzdGVtIGNhY2hl
ZApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fZGV2aWNlLmMgYi9kcml2ZXJz
L2dwdS9kcm0vdHRtL3R0bV9kZXZpY2UuYwppbmRleCAyYzI4MGZiMWU5OTIuLjkyNGQ4OTIxMDll
OCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fZGV2aWNlLmMKKysrIGIvZHJp
dmVycy9ncHUvZHJtL3R0bS90dG1fZGV2aWNlLmMKQEAgLTgxLDcgKzgxLDYgQEAgc3RhdGljIGlu
dCB0dG1fZ2xvYmFsX2luaXQodm9pZCkKIAl0dG1fcG9vbF9tZ3JfaW5pdChudW1fcGFnZXMgKiA1
MCAvIDEwMCk7CiAJdHRtX3R0X21ncl9pbml0KCk7CiAKLQlzcGluX2xvY2tfaW5pdCgmZ2xvYi0+
bHJ1X2xvY2spOwogCWdsb2ItPmR1bW15X3JlYWRfcGFnZSA9IGFsbG9jX3BhZ2UoX19HRlBfWkVS
TyB8IEdGUF9ETUEzMik7CiAKIAlpZiAodW5saWtlbHkoZ2xvYi0+ZHVtbXlfcmVhZF9wYWdlID09
IE5VTEwpKSB7CkBAIC0xMjUsMTMgKzEyNCwxMiBAQCBFWFBPUlRfU1lNQk9MKHR0bV9nbG9iYWxf
c3dhcG91dCk7CiBsb25nIHR0bV9kZXZpY2Vfc3dhcG91dChzdHJ1Y3QgdHRtX2RldmljZSAqYmRl
diwgc3RydWN0IHR0bV9vcGVyYXRpb25fY3R4ICpjdHgsCiAJCQlnZnBfdCBnZnBfZmxhZ3MpCiB7
Ci0Jc3RydWN0IHR0bV9nbG9iYWwgKmdsb2IgPSAmdHRtX2dsb2I7CiAJc3RydWN0IHR0bV9yZXNv
dXJjZV9tYW5hZ2VyICptYW47CiAJc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibzsKIAl1bnNp
Z25lZCBpLCBqOwogCWludCByZXQ7CiAKLQlzcGluX2xvY2soJmdsb2ItPmxydV9sb2NrKTsKKwlz
cGluX2xvY2soJmJkZXYtPmxydV9sb2NrKTsKIAlmb3IgKGkgPSBUVE1fUExfU1lTVEVNOyBpIDwg
VFRNX05VTV9NRU1fVFlQRVM7ICsraSkgewogCQltYW4gPSB0dG1fbWFuYWdlcl90eXBlKGJkZXYs
IGkpOwogCQlpZiAoIW1hbiB8fCAhbWFuLT51c2VfdHQpCkBAIC0xNTYsNyArMTU0LDcgQEAgbG9u
ZyB0dG1fZGV2aWNlX3N3YXBvdXQoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1f
b3BlcmF0aW9uX2N0eCAqY3R4LAogCQkJfQogCQl9CiAJfQotCXNwaW5fdW5sb2NrKCZnbG9iLT5s
cnVfbG9jayk7CisJc3Bpbl91bmxvY2soJmJkZXYtPmxydV9sb2NrKTsKIAlyZXR1cm4gMDsKIH0K
IEVYUE9SVF9TWU1CT0wodHRtX2RldmljZV9zd2Fwb3V0KTsKQEAgLTIyMyw2ICsyMjEsNyBAQCBp
bnQgdHRtX2RldmljZV9pbml0KHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX2Rl
dmljZV9mdW5jcyAqZnVuY3MsCiAKIAliZGV2LT52bWFfbWFuYWdlciA9IHZtYV9tYW5hZ2VyOwog
CUlOSVRfREVMQVlFRF9XT1JLKCZiZGV2LT53cSwgdHRtX2RldmljZV9kZWxheWVkX3dvcmtxdWV1
ZSk7CisJc3Bpbl9sb2NrX2luaXQoJmJkZXYtPmxydV9sb2NrKTsKIAlJTklUX0xJU1RfSEVBRCgm
YmRldi0+ZGRlc3Ryb3kpOwogCWJkZXYtPmRldl9tYXBwaW5nID0gbWFwcGluZzsKIAltdXRleF9s
b2NrKCZ0dG1fZ2xvYmFsX211dGV4KTsKQEAgLTIzNSw3ICsyMzQsNiBAQCBFWFBPUlRfU1lNQk9M
KHR0bV9kZXZpY2VfaW5pdCk7CiAKIHZvaWQgdHRtX2RldmljZV9maW5pKHN0cnVjdCB0dG1fZGV2
aWNlICpiZGV2KQogewotCXN0cnVjdCB0dG1fZ2xvYmFsICpnbG9iID0gJnR0bV9nbG9iOwogCXN0
cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdlciAqbWFuOwogCXVuc2lnbmVkIGk7CiAKQEAgLTI1Miwx
MSArMjUwLDExIEBAIHZvaWQgdHRtX2RldmljZV9maW5pKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2
KQogCWlmICh0dG1fYm9fZGVsYXllZF9kZWxldGUoYmRldiwgdHJ1ZSkpCiAJCXByX2RlYnVnKCJE
ZWxheWVkIGRlc3Ryb3kgbGlzdCB3YXMgY2xlYW5cbiIpOwogCi0Jc3Bpbl9sb2NrKCZnbG9iLT5s
cnVfbG9jayk7CisJc3Bpbl9sb2NrKCZiZGV2LT5scnVfbG9jayk7CiAJZm9yIChpID0gMDsgaSA8
IFRUTV9NQVhfQk9fUFJJT1JJVFk7ICsraSkKIAkJaWYgKGxpc3RfZW1wdHkoJm1hbi0+bHJ1WzBd
KSkKIAkJCXByX2RlYnVnKCJTd2FwIGxpc3QgJWQgd2FzIGNsZWFuXG4iLCBpKTsKLQlzcGluX3Vu
bG9jaygmZ2xvYi0+bHJ1X2xvY2spOworCXNwaW5fdW5sb2NrKCZiZGV2LT5scnVfbG9jayk7CiAK
IAl0dG1fcG9vbF9maW5pKCZiZGV2LT5wb29sKTsKIAl0dG1fZ2xvYmFsX3JlbGVhc2UoKTsKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2V4ZWNidWZfdXRpbC5jIGIvZHJpdmVy
cy9ncHUvZHJtL3R0bS90dG1fZXhlY2J1Zl91dGlsLmMKaW5kZXggNjkwYWI5N2Q1MmI3Li4wNzFj
NDhkNjcyYzYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2V4ZWNidWZfdXRp
bC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2V4ZWNidWZfdXRpbC5jCkBAIC01MSwx
NCArNTEsMTIgQEAgdm9pZCB0dG1fZXVfYmFja29mZl9yZXNlcnZhdGlvbihzdHJ1Y3Qgd3dfYWNx
dWlyZV9jdHggKnRpY2tldCwKIAlpZiAobGlzdF9lbXB0eShsaXN0KSkKIAkJcmV0dXJuOwogCi0J
c3Bpbl9sb2NrKCZ0dG1fZ2xvYi5scnVfbG9jayk7CiAJbGlzdF9mb3JfZWFjaF9lbnRyeShlbnRy
eSwgbGlzdCwgaGVhZCkgewogCQlzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvID0gZW50cnkt
PmJvOwogCi0JCXR0bV9ib19tb3ZlX3RvX2xydV90YWlsKGJvLCAmYm8tPm1lbSwgTlVMTCk7CisJ
CXR0bV9ib19tb3ZlX3RvX2xydV90YWlsX3VubG9ja2VkKGJvKTsKIAkJZG1hX3Jlc3ZfdW5sb2Nr
KGJvLT5iYXNlLnJlc3YpOwogCX0KLQlzcGluX3VubG9jaygmdHRtX2dsb2IubHJ1X2xvY2spOwog
CiAJaWYgKHRpY2tldCkKIAkJd3dfYWNxdWlyZV9maW5pKHRpY2tldCk7CkBAIC0xNTQsNyArMTUy
LDYgQEAgdm9pZCB0dG1fZXVfZmVuY2VfYnVmZmVyX29iamVjdHMoc3RydWN0IHd3X2FjcXVpcmVf
Y3R4ICp0aWNrZXQsCiAJaWYgKGxpc3RfZW1wdHkobGlzdCkpCiAJCXJldHVybjsKIAotCXNwaW5f
bG9jaygmdHRtX2dsb2IubHJ1X2xvY2spOwogCWxpc3RfZm9yX2VhY2hfZW50cnkoZW50cnksIGxp
c3QsIGhlYWQpIHsKIAkJc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibyA9IGVudHJ5LT5ibzsK
IApAQCAtMTYyLDEwICsxNTksOSBAQCB2b2lkIHR0bV9ldV9mZW5jZV9idWZmZXJfb2JqZWN0cyhz
dHJ1Y3Qgd3dfYWNxdWlyZV9jdHggKnRpY2tldCwKIAkJCWRtYV9yZXN2X2FkZF9zaGFyZWRfZmVu
Y2UoYm8tPmJhc2UucmVzdiwgZmVuY2UpOwogCQllbHNlCiAJCQlkbWFfcmVzdl9hZGRfZXhjbF9m
ZW5jZShiby0+YmFzZS5yZXN2LCBmZW5jZSk7Ci0JCXR0bV9ib19tb3ZlX3RvX2xydV90YWlsKGJv
LCAmYm8tPm1lbSwgTlVMTCk7CisJCXR0bV9ib19tb3ZlX3RvX2xydV90YWlsX3VubG9ja2VkKGJv
KTsKIAkJZG1hX3Jlc3ZfdW5sb2NrKGJvLT5iYXNlLnJlc3YpOwogCX0KLQlzcGluX3VubG9jaygm
dHRtX2dsb2IubHJ1X2xvY2spOwogCWlmICh0aWNrZXQpCiAJCXd3X2FjcXVpcmVfZmluaSh0aWNr
ZXQpOwogfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fcmVzb3VyY2UuYyBi
L2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX3Jlc291cmNlLmMKaW5kZXggZWQxNjcyYTlmMzMyLi4w
NGYyZWVmNjUzYWIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX3Jlc291cmNl
LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fcmVzb3VyY2UuYwpAQCAtOTEsNyArOTEs
NiBAQCBpbnQgdHRtX3Jlc291cmNlX21hbmFnZXJfZXZpY3RfYWxsKHN0cnVjdCB0dG1fZGV2aWNl
ICpiZGV2LAogCQkubm9fd2FpdF9ncHUgPSBmYWxzZSwKIAkJLmZvcmNlX2FsbG9jID0gdHJ1ZQog
CX07Ci0Jc3RydWN0IHR0bV9nbG9iYWwgKmdsb2IgPSAmdHRtX2dsb2I7CiAJc3RydWN0IGRtYV9m
ZW5jZSAqZmVuY2U7CiAJaW50IHJldDsKIAl1bnNpZ25lZCBpOwpAQCAtMTAwLDE4ICs5OSwxOCBA
QCBpbnQgdHRtX3Jlc291cmNlX21hbmFnZXJfZXZpY3RfYWxsKHN0cnVjdCB0dG1fZGV2aWNlICpi
ZGV2LAogCSAqIENhbid0IHVzZSBzdGFuZGFyZCBsaXN0IHRyYXZlcnNhbCBzaW5jZSB3ZSdyZSB1
bmxvY2tpbmcuCiAJICovCiAKLQlzcGluX2xvY2soJmdsb2ItPmxydV9sb2NrKTsKKwlzcGluX2xv
Y2soJmJkZXYtPmxydV9sb2NrKTsKIAlmb3IgKGkgPSAwOyBpIDwgVFRNX01BWF9CT19QUklPUklU
WTsgKytpKSB7CiAJCXdoaWxlICghbGlzdF9lbXB0eSgmbWFuLT5scnVbaV0pKSB7Ci0JCQlzcGlu
X3VubG9jaygmZ2xvYi0+bHJ1X2xvY2spOworCQkJc3Bpbl91bmxvY2soJmJkZXYtPmxydV9sb2Nr
KTsKIAkJCXJldCA9IHR0bV9tZW1fZXZpY3RfZmlyc3QoYmRldiwgbWFuLCBOVUxMLCAmY3R4LAog
CQkJCQkJICBOVUxMKTsKIAkJCWlmIChyZXQpCiAJCQkJcmV0dXJuIHJldDsKLQkJCXNwaW5fbG9j
aygmZ2xvYi0+bHJ1X2xvY2spOworCQkJc3Bpbl9sb2NrKCZiZGV2LT5scnVfbG9jayk7CiAJCX0K
IAl9Ci0Jc3Bpbl91bmxvY2soJmdsb2ItPmxydV9sb2NrKTsKKwlzcGluX3VubG9jaygmYmRldi0+
bHJ1X2xvY2spOwogCiAJc3Bpbl9sb2NrKCZtYW4tPm1vdmVfbG9jayk7CiAJZmVuY2UgPSBkbWFf
ZmVuY2VfZ2V0KG1hbi0+bW92ZSk7CmRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS90dG0vdHRtX2Jv
X2RyaXZlci5oIGIvaW5jbHVkZS9kcm0vdHRtL3R0bV9ib19kcml2ZXIuaAppbmRleCBkMDA3ZmVl
Zjc2NzYuLmRiY2NhYzk1N2Y4ZiAxMDA2NDQKLS0tIGEvaW5jbHVkZS9kcm0vdHRtL3R0bV9ib19k
cml2ZXIuaAorKysgYi9pbmNsdWRlL2RybS90dG0vdHRtX2JvX2RyaXZlci5oCkBAIC0xODAsOSAr
MTgwLDkgQEAgc3RhdGljIGlubGluZSBpbnQgdHRtX2JvX3Jlc2VydmVfc2xvd3BhdGgoc3RydWN0
IHR0bV9idWZmZXJfb2JqZWN0ICpibywKIHN0YXRpYyBpbmxpbmUgdm9pZAogdHRtX2JvX21vdmVf
dG9fbHJ1X3RhaWxfdW5sb2NrZWQoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibykKIHsKLQlz
cGluX2xvY2soJnR0bV9nbG9iLmxydV9sb2NrKTsKKwlzcGluX2xvY2soJmJvLT5iZGV2LT5scnVf
bG9jayk7CiAJdHRtX2JvX21vdmVfdG9fbHJ1X3RhaWwoYm8sICZiby0+bWVtLCBOVUxMKTsKLQlz
cGluX3VubG9jaygmdHRtX2dsb2IubHJ1X2xvY2spOworCXNwaW5fdW5sb2NrKCZiby0+YmRldi0+
bHJ1X2xvY2spOwogfQogCiBzdGF0aWMgaW5saW5lIHZvaWQgdHRtX2JvX2Fzc2lnbl9tZW0oc3Ry
dWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKZGlmZiAtLWdpdCBhL2luY2x1ZGUvZHJtL3R0bS90
dG1fZGV2aWNlLmggYi9pbmNsdWRlL2RybS90dG0vdHRtX2RldmljZS5oCmluZGV4IGNkYTZlZmI0
YzM0Yi4uYmFlNTZkMjllOGZmIDEwMDY0NAotLS0gYS9pbmNsdWRlL2RybS90dG0vdHRtX2Rldmlj
ZS5oCisrKyBiL2luY2x1ZGUvZHJtL3R0bS90dG1fZGV2aWNlLmgKQEAgLTU2LDcgKzU2LDYgQEAg
ZXh0ZXJuIHN0cnVjdCB0dG1fZ2xvYmFsIHsKIAkgKi8KIAogCXN0cnVjdCBwYWdlICpkdW1teV9y
ZWFkX3BhZ2U7Ci0Jc3BpbmxvY2tfdCBscnVfbG9jazsKIAogCS8qKgogCSAqIFByb3RlY3RlZCBi
eSB0dG1fZ2xvYmFsX211dGV4LgpAQCAtMjc3LDggKzI3Niw5IEBAIHN0cnVjdCB0dG1fZGV2aWNl
IHsKIAlzdHJ1Y3QgdHRtX3Bvb2wgcG9vbDsKIAogCS8qCi0JICogUHJvdGVjdGVkIGJ5IHRoZSBn
bG9iYWw6bHJ1IGxvY2suCisJICogUHJvdGVjdGlvbiBmb3IgdGhlIHBlciBtYW5hZ2VyIExSVSBh
bmQgZGRlc3Ryb3kgbGlzdHMuCiAJICovCisJc3BpbmxvY2tfdCBscnVfbG9jazsKIAlzdHJ1Y3Qg
bGlzdF9oZWFkIGRkZXN0cm95OwogCiAJLyoKLS0gCjIuMjUuMQoKX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmkt
ZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
L21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVsCg==
