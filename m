Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id DCA078D310
	for <lists+dri-devel@lfdr.de>; Wed, 14 Aug 2019 14:29:18 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E92F16E2A2;
	Wed, 14 Aug 2019 12:29:15 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from honk.sigxcpu.org (honk.sigxcpu.org [24.134.29.49])
 by gabe.freedesktop.org (Postfix) with ESMTPS id BBAB389FC0;
 Wed, 14 Aug 2019 12:29:14 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by honk.sigxcpu.org (Postfix) with ESMTP id DA6B3FB02;
 Wed, 14 Aug 2019 14:29:12 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at honk.sigxcpu.org
Received: from honk.sigxcpu.org ([127.0.0.1])
 by localhost (honk.sigxcpu.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 7dPyQ2xC7F66; Wed, 14 Aug 2019 14:29:11 +0200 (CEST)
Received: by bogon.sigxcpu.org (Postfix, from userid 1000)
 id 5FDEA428E0; Wed, 14 Aug 2019 14:29:10 +0200 (CEST)
Date: Wed, 14 Aug 2019 14:29:10 +0200
From: Guido =?iso-8859-1?Q?G=FCnther?= <agx@sigxcpu.org>
To: Lucas Stach <l.stach@pengutronix.de>
Subject: Re: [PATCH v2 2/3] drm/etnaviv: allow to request specific virtual
 address for gem mapping
Message-ID: <20190814122910.GA12971@bogon.m.sigxcpu.org>
References: <20190809120514.5157-1-l.stach@pengutronix.de>
 <20190809120514.5157-2-l.stach@pengutronix.de>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190809120514.5157-2-l.stach@pengutronix.de>
User-Agent: Mutt/1.10.1 (2018-07-13)
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: etnaviv@lists.freedesktop.org, dri-devel@lists.freedesktop.org,
 patchwork-lst@pengutronix.de, kernel@pengutronix.de,
 Russell King <linux+etnaviv@armlinux.org.uk>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGksCk9uIEZyaSwgQXVnIDA5LCAyMDE5IGF0IDAyOjA1OjEzUE0gKzAyMDAsIEx1Y2FzIFN0YWNo
IHdyb3RlOgo+IEFsbG93IHRoZSBtYXBwaW5nIGNvZGUgdG8gcmVxdWVzdCBhIHNwZWNpZmljIHZp
cnR1YWwgYWRkcmVzcyBmb3IgdGhlIGdlbQo+IG1hcHBpbmcuIElmIHRoZSB2aXJ0dWFsIGFkZHJl
c3MgaXMgemVybyB3ZSBmYWxsIGJhY2sgdG8gdGhlIG9sZCBtb2RlIG9mCj4gYWxsb2NhdGluZyBh
IHZpcnR1YWwgYWRkcmVzcyBmb3IgdGhlIG1hcHBpbmcuCj4gCj4gU2lnbmVkLW9mZi1ieTogTHVj
YXMgU3RhY2ggPGwuc3RhY2hAcGVuZ3V0cm9uaXguZGU+Cj4gUmV2aWV3ZWQtYnk6IFBoaWxpcHAg
WmFiZWwgPHAuemFiZWxAcGVuZ3V0cm9uaXguZGU+CgpSZXZpZXdlZC1ieTogR3VpZG8gR8O8bnRo
ZXIgPGFneEBzaWd4Y3B1Lm9yZz4KCj4gLS0tCj4gdjI6IHVzZSBJTlNFUlRfTE9XRVNUIGZvciBm
aXhlZCBWQSBtYW9kZQo+IC0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X2dl
bS5jIHwgIDMgKystCj4gIGRyaXZlcnMvZ3B1L2RybS9ldG5hdml2L2V0bmF2aXZfZ2VtLmggfCAg
MyArKy0KPiAgZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9tbXUuYyB8IDE2ICsrKysr
KysrKysrKysrLS0KPiAgZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9tbXUuaCB8ICAy
ICstCj4gIDQgZmlsZXMgY2hhbmdlZCwgMTkgaW5zZXJ0aW9ucygrKSwgNSBkZWxldGlvbnMoLSkK
PiAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9nZW0uYyBi
L2RyaXZlcnMvZ3B1L2RybS9ldG5hdml2L2V0bmF2aXZfZ2VtLmMKPiBpbmRleCBlNzlmNmVmMzY1
OWEuLjFhNjRmYWQ1NTc0MCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vZXRuYXZpdi9l
dG5hdml2X2dlbS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9nZW0u
Ywo+IEBAIC0zMDgsNyArMzA4LDggQEAgc3RydWN0IGV0bmF2aXZfdnJhbV9tYXBwaW5nICpldG5h
dml2X2dlbV9tYXBwaW5nX2dldCgKPiAgCW1hcHBpbmctPnVzZSA9IDE7Cj4gIAo+ICAJcmV0ID0g
ZXRuYXZpdl9pb21tdV9tYXBfZ2VtKG1tdV9jb250ZXh0LCBldG5hdml2X29iaiwKPiAtCQkJCSAg
ICBtbXVfY29udGV4dC0+Z2xvYmFsLT5tZW1vcnlfYmFzZSwgbWFwcGluZyk7Cj4gKwkJCQkgICAg
bW11X2NvbnRleHQtPmdsb2JhbC0+bWVtb3J5X2Jhc2UsCj4gKwkJCQkgICAgbWFwcGluZywgMCk7
Cj4gIAlpZiAocmV0IDwgMCkKPiAgCQlrZnJlZShtYXBwaW5nKTsKPiAgCWVsc2UKPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9nZW0uaCBiL2RyaXZlcnMvZ3B1
L2RybS9ldG5hdml2L2V0bmF2aXZfZ2VtLmgKPiBpbmRleCAxZTExNjU5YTg4NDIuLjJkMDFlZTFm
NjVjMSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X2dlbS5o
Cj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9nZW0uaAo+IEBAIC0xMjAs
NyArMTIwLDggQEAgc3RydWN0IHBhZ2UgKipldG5hdml2X2dlbV9nZXRfcGFnZXMoc3RydWN0IGV0
bmF2aXZfZ2VtX29iamVjdCAqb2JqKTsKPiAgdm9pZCBldG5hdml2X2dlbV9wdXRfcGFnZXMoc3Ry
dWN0IGV0bmF2aXZfZ2VtX29iamVjdCAqb2JqKTsKPiAgCj4gIHN0cnVjdCBldG5hdml2X3ZyYW1f
bWFwcGluZyAqZXRuYXZpdl9nZW1fbWFwcGluZ19nZXQoCj4gLQlzdHJ1Y3QgZHJtX2dlbV9vYmpl
Y3QgKm9iaiwgc3RydWN0IGV0bmF2aXZfaW9tbXVfY29udGV4dCAqbW11X2NvbnRleHQpOwo+ICsJ
c3RydWN0IGRybV9nZW1fb2JqZWN0ICpvYmosIHN0cnVjdCBldG5hdml2X2lvbW11X2NvbnRleHQg
Km1tdV9jb250ZXh0LAo+ICsJdTY0IHZhKTsKPiAgdm9pZCBldG5hdml2X2dlbV9tYXBwaW5nX3Vu
cmVmZXJlbmNlKHN0cnVjdCBldG5hdml2X3ZyYW1fbWFwcGluZyAqbWFwcGluZyk7Cj4gIAo+ICAj
ZW5kaWYgLyogX19FVE5BVklWX0dFTV9IX18gKi8KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2V0bmF2aXYvZXRuYXZpdl9tbXUuYyBiL2RyaXZlcnMvZ3B1L2RybS9ldG5hdml2L2V0bmF2
aXZfbW11LmMKPiBpbmRleCA4MjgyMmUzMGJmMzAuLjM1ZWJhZTZhMWJlNyAxMDA2NDQKPiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X21tdS5jCj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9tbXUuYwo+IEBAIC0yMjAsOSArMjIwLDE2IEBAIHN0YXRp
YyBpbnQgZXRuYXZpdl9pb21tdV9maW5kX2lvdmEoc3RydWN0IGV0bmF2aXZfaW9tbXVfY29udGV4
dCAqY29udGV4dCwKPiAgCXJldHVybiByZXQ7Cj4gIH0KPiAgCj4gK3N0YXRpYyBpbnQgZXRuYXZp
dl9pb21tdV9pbnNlcnRfZXhhY3Qoc3RydWN0IGV0bmF2aXZfaW9tbXVfY29udGV4dCAqY29udGV4
dCwKPiArCQkgICBzdHJ1Y3QgZHJtX21tX25vZGUgKm5vZGUsIHNpemVfdCBzaXplLCB1NjQgdmEp
Cj4gK3sKPiArCXJldHVybiBkcm1fbW1faW5zZXJ0X25vZGVfaW5fcmFuZ2UoJmNvbnRleHQtPm1t
LCBub2RlLCBzaXplLCAwLCAwLCB2YSwKPiArCQkJCQkgICB2YSArIHNpemUsIERSTV9NTV9JTlNF
UlRfTE9XRVNUKTsKPiArfQo+ICsKPiAgaW50IGV0bmF2aXZfaW9tbXVfbWFwX2dlbShzdHJ1Y3Qg
ZXRuYXZpdl9pb21tdV9jb250ZXh0ICpjb250ZXh0LAo+ICAJc3RydWN0IGV0bmF2aXZfZ2VtX29i
amVjdCAqZXRuYXZpdl9vYmosIHUzMiBtZW1vcnlfYmFzZSwKPiAtCXN0cnVjdCBldG5hdml2X3Zy
YW1fbWFwcGluZyAqbWFwcGluZykKPiArCXN0cnVjdCBldG5hdml2X3ZyYW1fbWFwcGluZyAqbWFw
cGluZywgdTY0IHZhKQo+ICB7Cj4gIAlzdHJ1Y3Qgc2dfdGFibGUgKnNndCA9IGV0bmF2aXZfb2Jq
LT5zZ3Q7Cj4gIAlzdHJ1Y3QgZHJtX21tX25vZGUgKm5vZGU7Cj4gQEAgLTI0OCw3ICsyNTUsMTIg
QEAgaW50IGV0bmF2aXZfaW9tbXVfbWFwX2dlbShzdHJ1Y3QgZXRuYXZpdl9pb21tdV9jb250ZXh0
ICpjb250ZXh0LAo+ICAKPiAgCW5vZGUgPSAmbWFwcGluZy0+dnJhbV9ub2RlOwo+ICAKPiAtCXJl
dCA9IGV0bmF2aXZfaW9tbXVfZmluZF9pb3ZhKGNvbnRleHQsIG5vZGUsIGV0bmF2aXZfb2JqLT5i
YXNlLnNpemUpOwo+ICsJaWYgKHZhKQo+ICsJCXJldCA9IGV0bmF2aXZfaW9tbXVfaW5zZXJ0X2V4
YWN0KGNvbnRleHQsIG5vZGUsCj4gKwkJCQkJCSBldG5hdml2X29iai0+YmFzZS5zaXplLCB2YSk7
Cj4gKwllbHNlCj4gKwkJcmV0ID0gZXRuYXZpdl9pb21tdV9maW5kX2lvdmEoY29udGV4dCwgbm9k
ZSwKPiArCQkJCQkgICAgICBldG5hdml2X29iai0+YmFzZS5zaXplKTsKPiAgCWlmIChyZXQgPCAw
KQo+ICAJCWdvdG8gdW5sb2NrOwo+ICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2V0
bmF2aXYvZXRuYXZpdl9tbXUuaCBiL2RyaXZlcnMvZ3B1L2RybS9ldG5hdml2L2V0bmF2aXZfbW11
LmgKPiBpbmRleCBjMDE0OTFhNmM0ZDguLmQxZDY5MDJmZDEzYiAxMDA2NDQKPiAtLS0gYS9kcml2
ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X21tdS5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L2V0bmF2aXYvZXRuYXZpdl9tbXUuaAo+IEBAIC04OCw3ICs4OCw3IEBAIHN0cnVjdCBldG5hdml2
X2dlbV9vYmplY3Q7Cj4gIAo+ICBpbnQgZXRuYXZpdl9pb21tdV9tYXBfZ2VtKHN0cnVjdCBldG5h
dml2X2lvbW11X2NvbnRleHQgKmNvbnRleHQsCj4gIAlzdHJ1Y3QgZXRuYXZpdl9nZW1fb2JqZWN0
ICpldG5hdml2X29iaiwgdTMyIG1lbW9yeV9iYXNlLAo+IC0Jc3RydWN0IGV0bmF2aXZfdnJhbV9t
YXBwaW5nICptYXBwaW5nKTsKPiArCXN0cnVjdCBldG5hdml2X3ZyYW1fbWFwcGluZyAqbWFwcGlu
ZywgdTY0IHZhKTsKPiAgdm9pZCBldG5hdml2X2lvbW11X3VubWFwX2dlbShzdHJ1Y3QgZXRuYXZp
dl9pb21tdV9jb250ZXh0ICpjb250ZXh0LAo+ICAJc3RydWN0IGV0bmF2aXZfdnJhbV9tYXBwaW5n
ICptYXBwaW5nKTsKPiAgCj4gLS0gCj4gMi4yMC4xCj4gCj4gX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX18KPiBldG5hdml2IG1haWxpbmcgbGlzdAo+IGV0bmF2
aXZAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCj4gaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcv
bWFpbG1hbi9saXN0aW5mby9ldG5hdml2Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZy
ZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3Rp
bmZvL2RyaS1kZXZlbA==
