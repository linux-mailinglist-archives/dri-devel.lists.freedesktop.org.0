Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 01B30A8644
	for <lists+dri-devel@lfdr.de>; Wed,  4 Sep 2019 17:59:12 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8F64F89C09;
	Wed,  4 Sep 2019 15:59:09 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail.kernel.org (mail.kernel.org [198.145.29.99])
 by gabe.freedesktop.org (Postfix) with ESMTPS id CC24C89C0A;
 Wed,  4 Sep 2019 15:59:08 +0000 (UTC)
Received: from sasha-vm.mshome.net (c-73-47-72-35.hsd1.nh.comcast.net
 [73.47.72.35])
 (using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
 (No client certificate requested)
 by mail.kernel.org (Postfix) with ESMTPSA id F100022CF7;
 Wed,  4 Sep 2019 15:59:07 +0000 (UTC)
From: Sasha Levin <sashal@kernel.org>
To: linux-kernel@vger.kernel.org,
	stable@vger.kernel.org
Subject: [PATCH AUTOSEL 5.2 58/94] drm/amd/powerplay: correct Vega20 dpm level
 related settings
Date: Wed,  4 Sep 2019 11:57:03 -0400
Message-Id: <20190904155739.2816-58-sashal@kernel.org>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190904155739.2816-1-sashal@kernel.org>
References: <20190904155739.2816-1-sashal@kernel.org>
MIME-Version: 1.0
X-stable: review
X-Patchwork-Hint: Ignore
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=kernel.org; s=default; t=1567612748;
 bh=xBkj8GB32KkFsE/GwKypiAlolOQzVn5JCvq+Tp/7DnI=;
 h=From:To:Cc:Subject:Date:In-Reply-To:References:From;
 b=bAdm5a6gqBhTq+AISgdaV8id3kx9FHJp/6BS1VAwqNgqfei/UPpCxd35zXL5sIqXU
 meYzuy2LunOZi9bVM+W8yn9aLF0cLoboGg96Ru2HMoQybx5BZrpVhUDxyzF8nb+IRn
 oilenJoQQL65QIWIh1rZGNmK3/k6cJinK0bssdpo=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Alex Deucher <alexander.deucher@amd.com>, Sasha Levin <sashal@kernel.org>,
 Evan Quan <evan.quan@amd.com>, dri-devel@lists.freedesktop.org,
 amd-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogRXZhbiBRdWFuIDxldmFuLnF1YW5AYW1kLmNvbT4KClsgVXBzdHJlYW0gY29tbWl0IDgz
ZTA5ZDViZGRiZWU3NDlmYzgzMDYzODkwMjQ0Mzk3ODk2YTE5NzEgXQoKQ29ycmVjdCB0aGUgc2V0
dGluZ3MgZm9yIGF1dG8gbW9kZSBhbmQgc2tpcCB0aGUgdW5uZWNlc3NhcnkKc2V0dGluZ3MgZm9y
IGRjZWZjbGsgYW5kIGZjbGsuCgpTaWduZWQtb2ZmLWJ5OiBFdmFuIFF1YW4gPGV2YW4ucXVhbkBh
bWQuY29tPgpBY2tlZC1ieTogQWxleCBEZXVjaGVyIDxhbGV4YW5kZXIuZGV1Y2hlckBhbWQuY29t
PgpTaWduZWQtb2ZmLWJ5OiBBbGV4IERldWNoZXIgPGFsZXhhbmRlci5kZXVjaGVyQGFtZC5jb20+
ClNpZ25lZC1vZmYtYnk6IFNhc2hhIExldmluIDxzYXNoYWxAa2VybmVsLm9yZz4KLS0tCiAuLi4v
ZHJtL2FtZC9wb3dlcnBsYXkvaHdtZ3IvdmVnYTIwX2h3bWdyLmMgICAgfCA2MCArKysrKysrKysr
KysrKysrKy0tCiAxIGZpbGUgY2hhbmdlZCwgNTQgaW5zZXJ0aW9ucygrKSwgNiBkZWxldGlvbnMo
LSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9od21nci92ZWdh
MjBfaHdtZ3IuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2h3bWdyL3ZlZ2EyMF9o
d21nci5jCmluZGV4IDliOWY4N2I4NDkxMGMuLmQ5OGZlNDgxY2QzNjUgMTAwNjQ0Ci0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2h3bWdyL3ZlZ2EyMF9od21nci5jCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2h3bWdyL3ZlZ2EyMF9od21nci5jCkBAIC0yMjg4
LDEyICsyMjg4LDE2IEBAIHN0YXRpYyBpbnQgdmVnYTIwX2ZvcmNlX2RwbV9oaWdoZXN0KHN0cnVj
dCBwcF9od21nciAqaHdtZ3IpCiAJCWRhdGEtPmRwbV90YWJsZS5zb2NfdGFibGUuZHBtX3N0YXRl
LnNvZnRfbWF4X2xldmVsID0KIAkJZGF0YS0+ZHBtX3RhYmxlLnNvY190YWJsZS5kcG1fbGV2ZWxz
W3NvZnRfbGV2ZWxdLnZhbHVlOwogCi0JcmV0ID0gdmVnYTIwX3VwbG9hZF9kcG1fbWluX2xldmVs
KGh3bWdyLCAweEZGRkZGRkZGKTsKKwlyZXQgPSB2ZWdhMjBfdXBsb2FkX2RwbV9taW5fbGV2ZWwo
aHdtZ3IsIEZFQVRVUkVfRFBNX0dGWENMS19NQVNLIHwKKwkJCQkJCSBGRUFUVVJFX0RQTV9VQ0xL
X01BU0sgfAorCQkJCQkJIEZFQVRVUkVfRFBNX1NPQ0NMS19NQVNLKTsKIAlQUF9BU1NFUlRfV0lU
SF9DT0RFKCFyZXQsCiAJCQkiRmFpbGVkIHRvIHVwbG9hZCBib290IGxldmVsIHRvIGhpZ2hlc3Qh
IiwKIAkJCXJldHVybiByZXQpOwogCi0JcmV0ID0gdmVnYTIwX3VwbG9hZF9kcG1fbWF4X2xldmVs
KGh3bWdyLCAweEZGRkZGRkZGKTsKKwlyZXQgPSB2ZWdhMjBfdXBsb2FkX2RwbV9tYXhfbGV2ZWwo
aHdtZ3IsIEZFQVRVUkVfRFBNX0dGWENMS19NQVNLIHwKKwkJCQkJCSBGRUFUVVJFX0RQTV9VQ0xL
X01BU0sgfAorCQkJCQkJIEZFQVRVUkVfRFBNX1NPQ0NMS19NQVNLKTsKIAlQUF9BU1NFUlRfV0lU
SF9DT0RFKCFyZXQsCiAJCQkiRmFpbGVkIHRvIHVwbG9hZCBkcG0gbWF4IGxldmVsIHRvIGhpZ2hl
c3QhIiwKIAkJCXJldHVybiByZXQpOwpAQCAtMjMyNiwxMiArMjMzMCwxNiBAQCBzdGF0aWMgaW50
IHZlZ2EyMF9mb3JjZV9kcG1fbG93ZXN0KHN0cnVjdCBwcF9od21nciAqaHdtZ3IpCiAJCWRhdGEt
PmRwbV90YWJsZS5zb2NfdGFibGUuZHBtX3N0YXRlLnNvZnRfbWF4X2xldmVsID0KIAkJZGF0YS0+
ZHBtX3RhYmxlLnNvY190YWJsZS5kcG1fbGV2ZWxzW3NvZnRfbGV2ZWxdLnZhbHVlOwogCi0JcmV0
ID0gdmVnYTIwX3VwbG9hZF9kcG1fbWluX2xldmVsKGh3bWdyLCAweEZGRkZGRkZGKTsKKwlyZXQg
PSB2ZWdhMjBfdXBsb2FkX2RwbV9taW5fbGV2ZWwoaHdtZ3IsIEZFQVRVUkVfRFBNX0dGWENMS19N
QVNLIHwKKwkJCQkJCSBGRUFUVVJFX0RQTV9VQ0xLX01BU0sgfAorCQkJCQkJIEZFQVRVUkVfRFBN
X1NPQ0NMS19NQVNLKTsKIAlQUF9BU1NFUlRfV0lUSF9DT0RFKCFyZXQsCiAJCQkiRmFpbGVkIHRv
IHVwbG9hZCBib290IGxldmVsIHRvIGhpZ2hlc3QhIiwKIAkJCXJldHVybiByZXQpOwogCi0JcmV0
ID0gdmVnYTIwX3VwbG9hZF9kcG1fbWF4X2xldmVsKGh3bWdyLCAweEZGRkZGRkZGKTsKKwlyZXQg
PSB2ZWdhMjBfdXBsb2FkX2RwbV9tYXhfbGV2ZWwoaHdtZ3IsIEZFQVRVUkVfRFBNX0dGWENMS19N
QVNLIHwKKwkJCQkJCSBGRUFUVVJFX0RQTV9VQ0xLX01BU0sgfAorCQkJCQkJIEZFQVRVUkVfRFBN
X1NPQ0NMS19NQVNLKTsKIAlQUF9BU1NFUlRfV0lUSF9DT0RFKCFyZXQsCiAJCQkiRmFpbGVkIHRv
IHVwbG9hZCBkcG0gbWF4IGxldmVsIHRvIGhpZ2hlc3QhIiwKIAkJCXJldHVybiByZXQpOwpAQCAt
MjM0MiwxNCArMjM1MCw1NCBAQCBzdGF0aWMgaW50IHZlZ2EyMF9mb3JjZV9kcG1fbG93ZXN0KHN0
cnVjdCBwcF9od21nciAqaHdtZ3IpCiAKIHN0YXRpYyBpbnQgdmVnYTIwX3VuZm9yY2VfZHBtX2xl
dmVscyhzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyKQogeworCXN0cnVjdCB2ZWdhMjBfaHdtZ3IgKmRh
dGEgPQorCQkJKHN0cnVjdCB2ZWdhMjBfaHdtZ3IgKikoaHdtZ3ItPmJhY2tlbmQpOworCXVpbnQz
Ml90IHNvZnRfbWluX2xldmVsLCBzb2Z0X21heF9sZXZlbDsKIAlpbnQgcmV0ID0gMDsKIAotCXJl
dCA9IHZlZ2EyMF91cGxvYWRfZHBtX21pbl9sZXZlbChod21nciwgMHhGRkZGRkZGRik7CisJLyog
Z2Z4Y2xrIHNvZnQgbWluL21heCBzZXR0aW5ncyAqLworCXNvZnRfbWluX2xldmVsID0KKwkJdmVn
YTIwX2ZpbmRfbG93ZXN0X2RwbV9sZXZlbCgmKGRhdGEtPmRwbV90YWJsZS5nZnhfdGFibGUpKTsK
Kwlzb2Z0X21heF9sZXZlbCA9CisJCXZlZ2EyMF9maW5kX2hpZ2hlc3RfZHBtX2xldmVsKCYoZGF0
YS0+ZHBtX3RhYmxlLmdmeF90YWJsZSkpOworCisJZGF0YS0+ZHBtX3RhYmxlLmdmeF90YWJsZS5k
cG1fc3RhdGUuc29mdF9taW5fbGV2ZWwgPQorCQlkYXRhLT5kcG1fdGFibGUuZ2Z4X3RhYmxlLmRw
bV9sZXZlbHNbc29mdF9taW5fbGV2ZWxdLnZhbHVlOworCWRhdGEtPmRwbV90YWJsZS5nZnhfdGFi
bGUuZHBtX3N0YXRlLnNvZnRfbWF4X2xldmVsID0KKwkJZGF0YS0+ZHBtX3RhYmxlLmdmeF90YWJs
ZS5kcG1fbGV2ZWxzW3NvZnRfbWF4X2xldmVsXS52YWx1ZTsKKworCS8qIHVjbGsgc29mdCBtaW4v
bWF4IHNldHRpbmdzICovCisJc29mdF9taW5fbGV2ZWwgPQorCQl2ZWdhMjBfZmluZF9sb3dlc3Rf
ZHBtX2xldmVsKCYoZGF0YS0+ZHBtX3RhYmxlLm1lbV90YWJsZSkpOworCXNvZnRfbWF4X2xldmVs
ID0KKwkJdmVnYTIwX2ZpbmRfaGlnaGVzdF9kcG1fbGV2ZWwoJihkYXRhLT5kcG1fdGFibGUubWVt
X3RhYmxlKSk7CisKKwlkYXRhLT5kcG1fdGFibGUubWVtX3RhYmxlLmRwbV9zdGF0ZS5zb2Z0X21p
bl9sZXZlbCA9CisJCWRhdGEtPmRwbV90YWJsZS5tZW1fdGFibGUuZHBtX2xldmVsc1tzb2Z0X21p
bl9sZXZlbF0udmFsdWU7CisJZGF0YS0+ZHBtX3RhYmxlLm1lbV90YWJsZS5kcG1fc3RhdGUuc29m
dF9tYXhfbGV2ZWwgPQorCQlkYXRhLT5kcG1fdGFibGUubWVtX3RhYmxlLmRwbV9sZXZlbHNbc29m
dF9tYXhfbGV2ZWxdLnZhbHVlOworCisJLyogc29jY2xrIHNvZnQgbWluL21heCBzZXR0aW5ncyAq
LworCXNvZnRfbWluX2xldmVsID0KKwkJdmVnYTIwX2ZpbmRfbG93ZXN0X2RwbV9sZXZlbCgmKGRh
dGEtPmRwbV90YWJsZS5zb2NfdGFibGUpKTsKKwlzb2Z0X21heF9sZXZlbCA9CisJCXZlZ2EyMF9m
aW5kX2hpZ2hlc3RfZHBtX2xldmVsKCYoZGF0YS0+ZHBtX3RhYmxlLnNvY190YWJsZSkpOworCisJ
ZGF0YS0+ZHBtX3RhYmxlLnNvY190YWJsZS5kcG1fc3RhdGUuc29mdF9taW5fbGV2ZWwgPQorCQlk
YXRhLT5kcG1fdGFibGUuc29jX3RhYmxlLmRwbV9sZXZlbHNbc29mdF9taW5fbGV2ZWxdLnZhbHVl
OworCWRhdGEtPmRwbV90YWJsZS5zb2NfdGFibGUuZHBtX3N0YXRlLnNvZnRfbWF4X2xldmVsID0K
KwkJZGF0YS0+ZHBtX3RhYmxlLnNvY190YWJsZS5kcG1fbGV2ZWxzW3NvZnRfbWF4X2xldmVsXS52
YWx1ZTsKKworCXJldCA9IHZlZ2EyMF91cGxvYWRfZHBtX21pbl9sZXZlbChod21nciwgRkVBVFVS
RV9EUE1fR0ZYQ0xLX01BU0sgfAorCQkJCQkJIEZFQVRVUkVfRFBNX1VDTEtfTUFTSyB8CisJCQkJ
CQkgRkVBVFVSRV9EUE1fU09DQ0xLX01BU0spOwogCVBQX0FTU0VSVF9XSVRIX0NPREUoIXJldCwK
IAkJCSJGYWlsZWQgdG8gdXBsb2FkIERQTSBCb290dXAgTGV2ZWxzISIsCiAJCQlyZXR1cm4gcmV0
KTsKIAotCXJldCA9IHZlZ2EyMF91cGxvYWRfZHBtX21heF9sZXZlbChod21nciwgMHhGRkZGRkZG
Rik7CisJcmV0ID0gdmVnYTIwX3VwbG9hZF9kcG1fbWF4X2xldmVsKGh3bWdyLCBGRUFUVVJFX0RQ
TV9HRlhDTEtfTUFTSyB8CisJCQkJCQkgRkVBVFVSRV9EUE1fVUNMS19NQVNLIHwKKwkJCQkJCSBG
RUFUVVJFX0RQTV9TT0NDTEtfTUFTSyk7CiAJUFBfQVNTRVJUX1dJVEhfQ09ERSghcmV0LAogCQkJ
IkZhaWxlZCB0byB1cGxvYWQgRFBNIE1heCBMZXZlbHMhIiwKIAkJCXJldHVybiByZXQpOwotLSAK
Mi4yMC4xCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpk
cmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0
cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
