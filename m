Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 4F41E110043
	for <lists+dri-devel@lfdr.de>; Tue,  3 Dec 2019 15:35:51 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1B1A16E791;
	Tue,  3 Dec 2019 14:35:45 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from NAM02-SN1-obe.outbound.protection.outlook.com
 (mail-eopbgr770040.outbound.protection.outlook.com [40.107.77.40])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8B84C6E78E;
 Tue,  3 Dec 2019 14:35:43 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=c6PVsv5drPkFqECb4s6jG5GBkk70Wd4sLunlXcJG+hY270mUxkwh7NBJvqTJADn2ni4j8Efl2qfMdns1lox6KPIi/1BdrCWU3DAeG6HJdbjuJxgSUuTmc32P04zWVVrRiNY1ELC9bd9gWp1HKeE1VWv5szb7//op6p1Ur7MqolFXlOEteYb2/YMXqPFq9SLCRzAKT8qbu0Hse6oXwW/KRalNy/fH8uC1EVla7aVXrMYT9JQJakbsjxbtUP4B8+0JbcTQ0vpJMXk6IE/zmEzvOttr5IPsGZXRiaATS5XmzU7SyhMb5ajOohlIN5VVjWWNBV9UUHNMcixKRD9AYqTnLA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=ADDs09VYu6RtqHHO6cQB3J89YqLR85G9vZWlYjPo22s=;
 b=hEMbUcU8J7fLd3Gs+d2BM8RbAlEVRQid7dZeM6/1reLfZ41+7U3jDhTKpl/UTkHPUCg9897PJWtZBgCe51jQ8W9alkCRxEAQsYV8iilOHVs33inKl0kPGn8+gL4CcXgDrXXoJ1KZ3dEivIdF3wcMmM/rzobEPyE+/DjVaT2gzQ1gg2DTRiyVkNNpltcZTqTe+vhgLmavvRVPMh0Q3xJ7+xkfCKL/I/mTNuGCLYdcW62aLBKNZrweRizdJqE2C9lVXe8BziEQUy6WGfZntlt8F+gY8oPNispEZjmW/y3hQq8v0IaTgdOJshHDY0PR3BA0dbOkpz8wjcsW1ud8z+UVfA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=none (sender ip is
 165.204.84.17) smtp.rcpttodomain=lists.freedesktop.org smtp.mailfrom=amd.com; 
 dmarc=permerror action=none header.from=amd.com; dkim=none (message not
 signed); arc=none
Received: from DM6PR12CA0022.namprd12.prod.outlook.com (2603:10b6:5:1c0::35)
 by BY5PR12MB4194.namprd12.prod.outlook.com (2603:10b6:a03:210::7) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2495.17; Tue, 3 Dec
 2019 14:35:42 +0000
Received: from DM6NAM11FT054.eop-nam11.prod.protection.outlook.com
 (2a01:111:f400:7eaa::201) by DM6PR12CA0022.outlook.office365.com
 (2603:10b6:5:1c0::35) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384) id 15.20.2495.18 via Frontend
 Transport; Tue, 3 Dec 2019 14:35:42 +0000
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
Received: from SATLEXMB02.amd.com (165.204.84.17) by
 DM6NAM11FT054.mail.protection.outlook.com (10.13.173.95) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256) id
 15.20.2451.23 via Frontend Transport; Tue, 3 Dec 2019 14:35:42 +0000
Received: from SATLEXMB01.amd.com (10.181.40.142) by SATLEXMB02.amd.com
 (10.181.40.143) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id 15.1.1713.5; Tue, 3 Dec 2019
 08:35:41 -0600
Received: from mlipski-pc.amd.com (10.180.168.240) by SATLEXMB01.amd.com
 (10.181.40.142) with Microsoft SMTP Server id 15.1.1713.5 via Frontend
 Transport; Tue, 3 Dec 2019 08:35:41 -0600
From: <mikita.lipski@amd.com>
To: <amd-gfx@lists.freedesktop.org>
Subject: [PATCH v8 01/17] drm/dp_mst: Add PBN calculation for DSC modes
Date: Tue, 3 Dec 2019 09:35:14 -0500
Message-ID: <20191203143530.27262-2-mikita.lipski@amd.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20191203143530.27262-1-mikita.lipski@amd.com>
References: <20191203143530.27262-1-mikita.lipski@amd.com>
MIME-Version: 1.0
X-EOPAttributedMessage: 0
X-MS-Office365-Filtering-HT: Tenant
X-Forefront-Antispam-Report: CIP:165.204.84.17; IPV:NLI; CTRY:US; EFV:NLI;
 SFV:NSPM;
 SFS:(10009020)(4636009)(396003)(39860400002)(346002)(136003)(376002)(428003)(189003)(199004)(2351001)(6916009)(26005)(7696005)(76176011)(51416003)(50466002)(426003)(81156014)(356004)(8676002)(11346002)(48376002)(2616005)(336012)(446003)(6666004)(1076003)(4326008)(81166006)(50226002)(186003)(478600001)(8936002)(70206006)(5660300002)(54906003)(86362001)(305945005)(70586007)(36756003)(2906002)(53416004)(316002)(2876002)(16586007)(16060500001);
 DIR:OUT; SFP:1101; SCL:1; SRVR:BY5PR12MB4194; H:SATLEXMB02.amd.com; FPR:;
 SPF:None; LANG:en; PTR:InfoDomainNonexistent; MX:1; A:1; 
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-Correlation-Id: c8430b34-416f-4332-8bf3-08d777fe131b
X-MS-TrafficTypeDiagnostic: BY5PR12MB4194:
X-Microsoft-Antispam-PRVS: <BY5PR12MB4194D46A861B53DBAB4BD011E4420@BY5PR12MB4194.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:8273;
X-Forefront-PRVS: 02408926C4
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: Zqg/Ky1oVMYb6UUFn0ReuAx8QUKPXWnzCG+E7WvwtXWH8Qd3TT0xBJ1WcYumyNlkopvGRhRGLPr0vh8m7ym5MIASdYUPB9+JpKN7JRR3Q72YCsyBD5IWVWfYUDwjWx6p5+CSMmTUUYivg034+NJEkLZmbDaFtrdaElfbcjdNzdx1XvjQoXZxln6+H+FIMo5sbPvSAs0bQD38AyP+Ey9vsPrNLH1XT3/5kkfd6ju3Pbj67OclgjT6pk8A3fYNV71kfBeW1BB+OtergTZGz6uKIXLqmbjNX1CgUj+fkhcTNApwvjcg5Vkrw16ZQKolEw/8M3ebnj6yJbwyqheoOUVCiW1+nG0UgPvXBOQDx+5AhpQxfeij2H8zcRfmJ/z/Sbn8DI3WNc6K/feN9gkLHIN53AKW9MV76Rk3xGclqJlKn9FvZyZ9lZzK7V370o6OA6PS
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 03 Dec 2019 14:35:42.1347 (UTC)
X-MS-Exchange-CrossTenant-Network-Message-Id: c8430b34-416f-4332-8bf3-08d777fe131b
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-OriginalAttributedTenantConnectingIp: TenantId=3dd8961f-e488-4e60-8e11-a82d994e183d; Ip=[165.204.84.17];
 Helo=[SATLEXMB02.amd.com]
X-MS-Exchange-CrossTenant-FromEntityHeader: HybridOnPrem
X-MS-Exchange-Transport-CrossTenantHeadersStamped: BY5PR12MB4194
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=ADDs09VYu6RtqHHO6cQB3J89YqLR85G9vZWlYjPo22s=;
 b=iHGEvBW7EUqA1IZxeATdqwm4BN9oiKZq69iIOHioNLd1l+RhfUVwcd7f1diM4SWuET0e3N8j2aE8YAPooqQcv203wKShl07uxEb0naHFh7V1Lqn5AAm3R9Gi+DJ2LTES7VWHxD6fn1ctQi/H4OCVrtrS66VP2Z9C8YyaPglMOuY=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is
 165.204.84.17)
 smtp.mailfrom=amd.com; lists.freedesktop.org; dkim=none (message not signed)
 header.d=none;lists.freedesktop.org; dmarc=permerror action=none
 header.from=amd.com;
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: David Francis <David.Francis@amd.com>,
 Mikita Lipski <mikita.lipski@amd.com>, dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogRGF2aWQgRnJhbmNpcyA8RGF2aWQuRnJhbmNpc0BhbWQuY29tPgoKV2l0aCBEU0MsIGJw
cCBjYW4gYmUgZnJhY3Rpb25hbCBpbiBtdWx0aXBsZXMgb2YgMS8xNi4KCkNoYW5nZSBkcm1fZHBf
Y2FsY19wYm5fbW9kZSB0byByZWZsZWN0IHRoaXMsIGFkZGluZyBhIG5ldwpwYXJhbWV0ZXIgYm9v
bCBkc2MuIFdoZW4gdGhpcyBwYXJhbWV0ZXIgaXMgdHJ1ZSwgdHJlYXQgdGhlCmJwcCBwYXJhbWV0
ZXIgYXMgaGF2aW5nIHVuaXRzIG5vdCBvZiBiaXRzIHBlciBwaXhlbCwgYnV0CjEvMTYgb2YgYSBi
aXQgcGVyIHBpeGVsCgp2MjogRG9uJ3QgYWRkIHNlcGFyYXRlIGZ1bmN0aW9uIGZvciB0aGlzCgp2
MzogS2VlcCB0aGUgY2FsY3VsYXRpb24gaW4gYSBzaW5nbGUgZXF1YXRpb24KCkNjOiBMeXVkZSBQ
YXVsIDxseXVkZUByZWRoYXQuY29tPgpSZXZpZXdlZC1ieTogTWFuYXNpIE5hdmFyZSA8bWFuYXNp
LmQubmF2YXJlQGludGVsLmNvbT4KUmV2aWV3ZWQtYnk6IEx5dWRlIFBhdWwgPGx5dWRlQHJlZGhh
dC5jb20+ClJldmlld2VkLWJ5OiBIYXJyeSBXZW50bGFuZCA8aGFycnkud2VudGxhbmRAYW1kLmNv
bT4KU2lnbmVkLW9mZi1ieTogRGF2aWQgRnJhbmNpcyA8RGF2aWQuRnJhbmNpc0BhbWQuY29tPgpT
aWduZWQtb2ZmLWJ5OiBNaWtpdGEgTGlwc2tpIDxtaWtpdGEubGlwc2tpQGFtZC5jb20+Ci0tLQog
Li4uL2dwdS9kcm0vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2FtZGdwdV9kbS5jIHwgIDIgKy0KIGRy
aXZlcnMvZ3B1L2RybS9kcm1fZHBfbXN0X3RvcG9sb2d5LmMgICAgICAgICB8IDM4ICsrKysrKysr
KysrKysrKysrKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBfbXN0LmMg
ICB8ICAzICstCiBkcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9kaXNwbnY1MC9kaXNwLmMgICAgICAg
fCAgMiArLQogZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fZHBfbXN0LmMgICAgICAgIHwg
IDIgKy0KIGluY2x1ZGUvZHJtL2RybV9kcF9tc3RfaGVscGVyLmggICAgICAgICAgICAgICB8ICAz
ICstCiA2IGZpbGVzIGNoYW5nZWQsIDQzIGluc2VydGlvbnMoKyksIDcgZGVsZXRpb25zKC0pCgpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2FtZGdwdV9kbS9hbWRncHVf
ZG0uYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVfZG0vYW1kZ3B1X2RtLmMK
aW5kZXggNDU1YzUxYzM4NzIwLi45ZmMwM2ZjMTAxN2QgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9hbWQvZGlzcGxheS9hbWRncHVfZG0vYW1kZ3B1X2RtLmMKKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9kaXNwbGF5L2FtZGdwdV9kbS9hbWRncHVfZG0uYwpAQCAtNDk2Nyw3ICs0OTY3LDcg
QEAgc3RhdGljIGludCBkbV9lbmNvZGVyX2hlbHBlcl9hdG9taWNfY2hlY2soc3RydWN0IGRybV9l
bmNvZGVyICplbmNvZGVyLAogCQkJCQkJCQkgICAgaXNfeTQyMCk7CiAJCWJwcCA9IGNvbnZlcnRf
ZGNfY29sb3JfZGVwdGhfaW50b19icGMoY29sb3JfZGVwdGgpICogMzsKIAkJY2xvY2sgPSBhZGp1
c3RlZF9tb2RlLT5jbG9jazsKLQkJZG1fbmV3X2Nvbm5lY3Rvcl9zdGF0ZS0+cGJuID0gZHJtX2Rw
X2NhbGNfcGJuX21vZGUoY2xvY2ssIGJwcCk7CisJCWRtX25ld19jb25uZWN0b3Jfc3RhdGUtPnBi
biA9IGRybV9kcF9jYWxjX3Bibl9tb2RlKGNsb2NrLCBicHAsIGZhbHNlKTsKIAl9CiAJZG1fbmV3
X2Nvbm5lY3Rvcl9zdGF0ZS0+dmNwaV9zbG90cyA9IGRybV9kcF9hdG9taWNfZmluZF92Y3BpX3Ns
b3RzKHN0YXRlLAogCQkJCQkJCQkJICAgbXN0X21nciwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9kcm1fZHBfbXN0X3RvcG9sb2d5LmMgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2RwX21zdF90
b3BvbG9neS5jCmluZGV4IGFlNTgwOWExZjE5YS4uMjYxZTJjMTgyOGM2IDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vZHJtX2RwX21zdF90b3BvbG9neS5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9kcm1fZHBfbXN0X3RvcG9sb2d5LmMKQEAgLTQzNDIsMTAgKzQzNDIsMTEgQEAgRVhQT1JUX1NZ
TUJPTChkcm1fZHBfY2hlY2tfYWN0X3N0YXR1cyk7CiAgKiBkcm1fZHBfY2FsY19wYm5fbW9kZSgp
IC0gQ2FsY3VsYXRlIHRoZSBQQk4gZm9yIGEgbW9kZS4KICAqIEBjbG9jazogZG90IGNsb2NrIGZv
ciB0aGUgbW9kZQogICogQGJwcDogYnBwIGZvciB0aGUgbW9kZS4KKyAqIEBkc2M6IERTQyBtb2Rl
LiBJZiB0cnVlLCBicHAgaGFzIHVuaXRzIG9mIDEvMTYgb2YgYSBiaXQgcGVyIHBpeGVsCiAgKgog
ICogVGhpcyB1c2VzIHRoZSBmb3JtdWxhIGluIHRoZSBzcGVjIHRvIGNhbGN1bGF0ZSB0aGUgUEJO
IHZhbHVlIGZvciBhIG1vZGUuCiAgKi8KLWludCBkcm1fZHBfY2FsY19wYm5fbW9kZShpbnQgY2xv
Y2ssIGludCBicHApCitpbnQgZHJtX2RwX2NhbGNfcGJuX21vZGUoaW50IGNsb2NrLCBpbnQgYnBw
LCBib29sIGRzYykKIHsKIAkvKgogCSAqIG1hcmdpbiA1MzAwcHBtICsgMzAwcHBtIH4gMC42JSBh
cyBwZXIgc3BlYywgZmFjdG9yIGlzIDEuMDA2CkBAIC00MzU2LDEyICs0MzU3LDQ3IEBAIGludCBk
cm1fZHBfY2FsY19wYm5fbW9kZShpbnQgY2xvY2ssIGludCBicHApCiAJICogcGVha19rYnBzICo9
ICgxMDA2LzEwMDApCiAJICogcGVha19rYnBzICo9ICg2NC81NCkKIAkgKiBwZWFrX2ticHMgKj0g
OCAgICBjb252ZXJ0IHRvIGJ5dGVzCisJICoKKwkgKiBJZiB0aGUgYnBwIGlzIGluIHVuaXRzIG9m
IDEvMTYsIGZ1cnRoZXIgZGl2aWRlIGJ5IDE2LiBQdXQgdGhpcworCSAqIGZhY3RvciBpbiB0aGUg
bnVtZXJhdG9yIHJhdGhlciB0aGFuIHRoZSBkZW5vbWluYXRvciB0byBhdm9pZAorCSAqIGludGVn
ZXIgb3ZlcmZsb3cKIAkgKi8KKworCWlmIChkc2MpCisJCXJldHVybiBESVZfUk9VTkRfVVBfVUxM
KG11bF91MzJfdTMyKGNsb2NrICogYnBwLCA2NCAqIDEwMDYgLyAxNiksCisJCQkJCTggKiA1NCAq
IDEwMDAgKiAxMDAwKTsKKwogCXJldHVybiBESVZfUk9VTkRfVVBfVUxMKG11bF91MzJfdTMyKGNs
b2NrICogYnBwLCA2NCAqIDEwMDYpLAogCQkJCTggKiA1NCAqIDEwMDAgKiAxMDAwKTsKKwogfQog
RVhQT1JUX1NZTUJPTChkcm1fZHBfY2FsY19wYm5fbW9kZSk7CiAKK3N0YXRpYyBpbnQgdGVzdF9j
YWxjX3Bibl9tb2RlKHZvaWQpCit7CisJaW50IHJldDsKKwlyZXQgPSBkcm1fZHBfY2FsY19wYm5f
bW9kZSgxNTQwMDAsIDMwLCBmYWxzZSk7CisJaWYgKHJldCAhPSA2ODkpIHsKKwkJRFJNX0VSUk9S
KCJQQk4gY2FsY3VsYXRpb24gdGVzdCBmYWlsZWQgLSBjbG9jayAlZCwgYnBwICVkLCBleHBlY3Rl
ZCBQQk4gJWQsIGFjdHVhbCBQQk4gJWQuXG4iLAorCQkJCTE1NDAwMCwgMzAsIDY4OSwgcmV0KTsK
KwkJcmV0dXJuIC1FSU5WQUw7CisJfQorCXJldCA9IGRybV9kcF9jYWxjX3Bibl9tb2RlKDIzNDAw
MCwgMzAsIGZhbHNlKTsKKwlpZiAocmV0ICE9IDEwNDcpIHsKKwkJRFJNX0VSUk9SKCJQQk4gY2Fs
Y3VsYXRpb24gdGVzdCBmYWlsZWQgLSBjbG9jayAlZCwgYnBwICVkLCBleHBlY3RlZCBQQk4gJWQs
IGFjdHVhbCBQQk4gJWQuXG4iLAorCQkJCTIzNDAwMCwgMzAsIDEwNDcsIHJldCk7CisJCXJldHVy
biAtRUlOVkFMOworCX0KKwlyZXQgPSBkcm1fZHBfY2FsY19wYm5fbW9kZSgyOTcwMDAsIDI0LCBm
YWxzZSk7CisJaWYgKHJldCAhPSAxMDYzKSB7CisJCURSTV9FUlJPUigiUEJOIGNhbGN1bGF0aW9u
IHRlc3QgZmFpbGVkIC0gY2xvY2sgJWQsIGJwcCAlZCwgZXhwZWN0ZWQgUEJOICVkLCBhY3R1YWwg
UEJOICVkLlxuIiwKKwkJCQkyOTcwMDAsIDI0LCAxMDYzLCByZXQpOworCQlyZXR1cm4gLUVJTlZB
TDsKKwl9CisJcmV0dXJuIDA7Cit9CisKKwogLyogd2Ugd2FudCB0byBraWNrIHRoZSBUWCBhZnRl
ciB3ZSd2ZSBhY2sgdGhlIHVwL2Rvd24gSVJRcy4gKi8KIHN0YXRpYyB2b2lkIGRybV9kcF9tc3Rf
a2lja190eChzdHJ1Y3QgZHJtX2RwX21zdF90b3BvbG9neV9tZ3IgKm1ncikKIHsKZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBfbXN0LmMgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwX21zdC5jCmluZGV4IDAzZDFjYmEwYjY5Ni4u
OTJiZTE3NzExMjg3IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2lu
dGVsX2RwX21zdC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBf
bXN0LmMKQEAgLTYxLDcgKzYxLDggQEAgc3RhdGljIGludCBpbnRlbF9kcF9tc3RfY29tcHV0ZV9s
aW5rX2NvbmZpZyhzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKIAkJY3J0Y19zdGF0ZS0+
cGlwZV9icHAgPSBicHA7CiAKIAkJY3J0Y19zdGF0ZS0+cGJuID0gZHJtX2RwX2NhbGNfcGJuX21v
ZGUoYWRqdXN0ZWRfbW9kZS0+Y3J0Y19jbG9jaywKLQkJCQkJCSAgICAgICBjcnRjX3N0YXRlLT5w
aXBlX2JwcCk7CisJCQkJCQkgICAgICAgY3J0Y19zdGF0ZS0+cGlwZV9icHAsCisJCQkJCQkgICAg
ICAgZmFsc2UpOwogCiAJCXNsb3RzID0gZHJtX2RwX2F0b21pY19maW5kX3ZjcGlfc2xvdHMoc3Rh
dGUsICZpbnRlbF9kcC0+bXN0X21nciwKIAkJCQkJCSAgICAgIHBvcnQsIGNydGNfc3RhdGUtPnBi
bik7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9kaXNwbnY1MC9kaXNwLmMg
Yi9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9kaXNwbnY1MC9kaXNwLmMKaW5kZXggNTQ5NDg2ZjFk
OTM3Li4xYzllMjNkNWE2ZmQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L2Rp
c3BudjUwL2Rpc3AuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9kaXNwbnY1MC9kaXNw
LmMKQEAgLTc4Miw3ICs3ODIsNyBAQCBudjUwX21zdG9fYXRvbWljX2NoZWNrKHN0cnVjdCBkcm1f
ZW5jb2RlciAqZW5jb2RlciwKIAkJCWNvbnN0IGludCBicHAgPSBjb25uZWN0b3ItPmRpc3BsYXlf
aW5mby5icGMgKiAzOwogCQkJY29uc3QgaW50IGNsb2NrID0gY3J0Y19zdGF0ZS0+YWRqdXN0ZWRf
bW9kZS5jbG9jazsKIAotCQkJYXN5aC0+ZHAucGJuID0gZHJtX2RwX2NhbGNfcGJuX21vZGUoY2xv
Y2ssIGJwcCk7CisJCQlhc3loLT5kcC5wYm4gPSBkcm1fZHBfY2FsY19wYm5fbW9kZShjbG9jaywg
YnBwLCBmYWxzZSk7CiAJCX0KIAogCQlzbG90cyA9IGRybV9kcF9hdG9taWNfZmluZF92Y3BpX3Ns
b3RzKHN0YXRlLCAmbXN0bS0+bWdyLApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3JhZGVv
bi9yYWRlb25fZHBfbXN0LmMgYi9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl9kcF9tc3Qu
YwppbmRleCBlZTI4ZjViMzc4NWUuLjI4ZWVmOTI4Mjg3NCAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL3JhZGVvbi9yYWRlb25fZHBfbXN0LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3JhZGVv
bi9yYWRlb25fZHBfbXN0LmMKQEAgLTUxOCw3ICs1MTgsNyBAQCBzdGF0aWMgYm9vbCByYWRlb25f
bXN0X21vZGVfZml4dXAoc3RydWN0IGRybV9lbmNvZGVyICplbmNvZGVyLAogCiAJbXN0X2VuYyA9
IHJhZGVvbl9lbmNvZGVyLT5lbmNfcHJpdjsKIAotCW1zdF9lbmMtPnBibiA9IGRybV9kcF9jYWxj
X3Bibl9tb2RlKGFkanVzdGVkX21vZGUtPmNsb2NrLCBicHApOworCW1zdF9lbmMtPnBibiA9IGRy
bV9kcF9jYWxjX3Bibl9tb2RlKGFkanVzdGVkX21vZGUtPmNsb2NrLCBicHAsIGZhbHNlKTsKIAog
CW1zdF9lbmMtPnByaW1hcnktPmFjdGl2ZV9kZXZpY2UgPSBtc3RfZW5jLT5wcmltYXJ5LT5kZXZp
Y2VzICYgbXN0X2VuYy0+Y29ubmVjdG9yLT5kZXZpY2VzOwogCURSTV9ERUJVR19LTVMoInNldHRp
bmcgYWN0aXZlIGRldmljZSB0byAlMDh4IGZyb20gJTA4eCAlMDh4IGZvciBlbmNvZGVyICVkXG4i
LApkaWZmIC0tZ2l0IGEvaW5jbHVkZS9kcm0vZHJtX2RwX21zdF9oZWxwZXIuaCBiL2luY2x1ZGUv
ZHJtL2RybV9kcF9tc3RfaGVscGVyLmgKaW5kZXggZDVmYzkwYjMwNDg3Li42ODY1NjkxM2NmZTUg
MTAwNjQ0Ci0tLSBhL2luY2x1ZGUvZHJtL2RybV9kcF9tc3RfaGVscGVyLmgKKysrIGIvaW5jbHVk
ZS9kcm0vZHJtX2RwX21zdF9oZWxwZXIuaApAQCAtNzE5LDggKzcxOSw3IEBAIGJvb2wgZHJtX2Rw
X21zdF9wb3J0X2hhc19hdWRpbyhzdHJ1Y3QgZHJtX2RwX21zdF90b3BvbG9neV9tZ3IgKm1nciwK
IHN0cnVjdCBlZGlkICpkcm1fZHBfbXN0X2dldF9lZGlkKHN0cnVjdCBkcm1fY29ubmVjdG9yICpj
b25uZWN0b3IsIHN0cnVjdCBkcm1fZHBfbXN0X3RvcG9sb2d5X21nciAqbWdyLCBzdHJ1Y3QgZHJt
X2RwX21zdF9wb3J0ICpwb3J0KTsKIAogCi1pbnQgZHJtX2RwX2NhbGNfcGJuX21vZGUoaW50IGNs
b2NrLCBpbnQgYnBwKTsKLQoraW50IGRybV9kcF9jYWxjX3Bibl9tb2RlKGludCBjbG9jaywgaW50
IGJwcCwgYm9vbCBkc2MpOwogCiBib29sIGRybV9kcF9tc3RfYWxsb2NhdGVfdmNwaShzdHJ1Y3Qg
ZHJtX2RwX21zdF90b3BvbG9neV9tZ3IgKm1nciwKIAkJCSAgICAgIHN0cnVjdCBkcm1fZHBfbXN0
X3BvcnQgKnBvcnQsIGludCBwYm4sIGludCBzbG90cyk7Ci0tIAoyLjE3LjEKCl9fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxp
c3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNr
dG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
