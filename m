Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id D5C90B8BD9
	for <lists+dri-devel@lfdr.de>; Fri, 20 Sep 2019 09:52:05 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B41E36F592;
	Fri, 20 Sep 2019 07:51:44 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from NAM02-BL2-obe.outbound.protection.outlook.com
 (mail-eopbgr750129.outbound.protection.outlook.com [40.107.75.129])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 6BBC86E9DA
 for <dri-devel@lists.freedesktop.org>; Fri, 20 Sep 2019 06:07:47 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=HB0oiJiEIXAcZ96idUUK2gM8Wg7gssgC03VKS+MqvF+ZX5Z/QsgsRn6DqtMotAjHAH1a0TNOHTW+H2pO8A2iO9g0T3FaXB+lv7E+biHjETNmyYpuCxE8ib156xdI9upo7rxTes+ZFafYbVw8OO5VvGk/2Js8zUGC8+VVSJqB7EOY7Bqw2jkctcXfJhbctkvCQUWp3jR/E/FKZDoq2ooQop5kfaIOwNFWMyUjShA81sxLlhfMB1msAJsPgy9dD0hW9VfdtWMBfCpsIcTYYgkUsIWw5xdQExjAlzkX1udCVIEbABnzR2kPInQrUbUlgDueEmgBf+0ZluM1CAwbqbentg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=DBXd70hMIdgzh4nzj24wM7JdQPSJy2WvR7Blfs2H46g=;
 b=Lk6jYkbQJPBbQykKmMAxRvolx7INfYBt26u/+V3UqSe73m2C83IE+rjabQJxljE7dqqeL2v91pHoaolhl70qqMP+tRyfNd2iiJr65OK0VrALJZ1A3hKzcrpMhMrreB9V503ja4+v9aVwG/SqPkS3oLM6ibbvd3EYiNuItH9EW+3HqlwFqGtxmo12pxIH+hq+CXGOQwnxmfxRrc3f4kR8chLNb8Xd/nzRUDarUuRmxbrB6cdUoQnLDdSTUnw3CkuWblw6AJRRD6jGdD02gQX9B2yq2mG0RVpHNj8ow+Dmz48enEqYTjArpulkJjL9nGHZlKL6Ll2TAzx9kiSHMsw/Sg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=analogixsemi.com; dmarc=pass action=none
 header.from=analogixsemi.com; dkim=pass header.d=analogixsemi.com; arc=none
Received: from MN2PR04MB5886.namprd04.prod.outlook.com (20.179.22.213) by
 MN2PR04MB5855.namprd04.prod.outlook.com (20.179.23.16) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2284.22; Fri, 20 Sep 2019 06:07:44 +0000
Received: from MN2PR04MB5886.namprd04.prod.outlook.com
 ([fe80::8520:f80f:ae9:63cd]) by MN2PR04MB5886.namprd04.prod.outlook.com
 ([fe80::8520:f80f:ae9:63cd%6]) with mapi id 15.20.2284.009; Fri, 20 Sep 2019
 06:07:43 +0000
From: Xin Ji <xji@analogixsemi.com>
To: "devel@driverdev.osuosl.org" <devel@driverdev.osuosl.org>, Laurent
 Pinchart <laurent.pinchart@ideasonboard.com>, Andrzej Hajda
 <a.hajda@samsung.com>
Subject: [PATCH v1 2/2] drm/bridge: anx7625: Add anx7625 MIPI to DP bridge
 driver
Thread-Topic: [PATCH v1 2/2] drm/bridge: anx7625: Add anx7625 MIPI to DP
 bridge driver
Thread-Index: AQHVb3m3O6Kkudc69k2BA5rT6xVhEA==
Date: Fri, 20 Sep 2019 06:07:43 +0000
Message-ID: <02319a7db948900efe0f945b684221ac076bac48.1568957789.git.xji@analogixsemi.com>
References: <cover.1568957788.git.xji@analogixsemi.com>
In-Reply-To: <cover.1568957788.git.xji@analogixsemi.com>
Accept-Language: zh-CN, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: HK2PR06CA0021.apcprd06.prod.outlook.com
 (2603:1096:202:2e::33) To MN2PR04MB5886.namprd04.prod.outlook.com
 (2603:10b6:208:a3::21)
x-ms-exchange-messagesentrepresentingtype: 1
x-originating-ip: [114.247.245.252]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 40b0805b-3028-4284-3b65-08d73d90d98b
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(5600167)(711020)(4605104)(1401327)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(2017052603328)(7193020);
 SRVR:MN2PR04MB5855; 
x-ms-traffictypediagnostic: MN2PR04MB5855:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <MN2PR04MB5855066627CB6B2888BBB622C7880@MN2PR04MB5855.namprd04.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:4941;
x-forefront-prvs: 0166B75B74
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10019020)(366004)(136003)(376002)(396003)(39850400004)(346002)(189003)(199004)(7416002)(6512007)(14454004)(81156014)(81166006)(316002)(86362001)(6436002)(25786009)(4326008)(2906002)(8936002)(6116002)(6486002)(3846002)(478600001)(305945005)(7736002)(8676002)(30864003)(52116002)(561924002)(486006)(54906003)(66476007)(26005)(186003)(66066001)(66556008)(66446008)(107886003)(256004)(2501003)(5660300002)(66946007)(64756008)(71200400001)(36756003)(71190400001)(11346002)(446003)(102836004)(6506007)(386003)(2616005)(476003)(76176011)(14444005)(118296001)(110136005)(5024004)(99286004)(579004)(569006);
 DIR:OUT; SFP:1102; SCL:1; SRVR:MN2PR04MB5855;
 H:MN2PR04MB5886.namprd04.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: analogixsemi.com does not
 designate permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: hnvVgF5K4jEOm29XaK17qYVfnyEqvwurypHbsVjhApuEJFtB09J5N3d7uHFSCmAyNI3irn1CilYETfTWRUr5dnHAmUgnPh9cfeWKICRqXE/x3cTp05FOxoB3j2ET7nya+Jz08YAT7tnv0voqgJzy1/T1goAgDJfi6RZEzpzWzck0VeqoZofJYN13CliU3qDUjQkPcmhrOskyHYH+whI9TcvZ7KwAmYSmkW1tDZEurKYu1fsW2kX5zkBPLatJHHev1izHzu9if45UopsTBmCavtf1Joy3UuuaoKeNoo3eKiEo94MwnS9rkmP9FAB5y5EF6EMMikbntLIkcqhTEjzRdO+XssaU9+bm5jM9fWoFtI4G4kTgeT7H3Y3q6dwLuALE6hnDlVzgZoSKnxTZXtMtlP24CsQKgSpXpX36OTixyiA=
Content-ID: <EA4E025E5B494644816E0CB3E8C88182@namprd04.prod.outlook.com>
MIME-Version: 1.0
X-OriginatorOrg: analogixsemi.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 40b0805b-3028-4284-3b65-08d73d90d98b
X-MS-Exchange-CrossTenant-originalarrivaltime: 20 Sep 2019 06:07:43.8495 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: b099b0b4-f26c-4cf5-9a0f-d5be9acab205
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: FB3IRj+cwyHblPWfL/ZQw975eBvlK2wNsBFD4MJbMKvsJJgZv55U3Dw4NKgn+SVIUAq8LcWchyzjN9ffHN3+CA==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR04MB5855
X-Mailman-Approved-At: Fri, 20 Sep 2019 07:51:39 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=Analogixsemi.onmicrosoft.com; s=selector2-Analogixsemi-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=DBXd70hMIdgzh4nzj24wM7JdQPSJy2WvR7Blfs2H46g=;
 b=bLNycHmqIk9cgdhgsg1uXWVT+xlI4ubQ4sW7dC3DsvYUngEzLOIrHfj+pB0IKkkQikTZSibQiE8m2zTIzCjDkT1CUxvS3xWaV7W02DJemHh9NwuFYRux8jvQ7pxfy/cED359Y7SKaciJbm4jrEiMxViKBnMZ9zjSjFfb2AGuiVg=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=xji@analogixsemi.com; 
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Jernej Skrabec <jernej.skrabec@siol.net>, Jonas Karlman <jonas@kwiboo.se>,
 David Airlie <airlied@linux.ie>, Neil Armstrong <narmstrong@baylibre.com>,
 "linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>,
 "dri-devel@lists.freedesktop.org" <dri-devel@lists.freedesktop.org>,
 Sheng Pan <span@analogixsemi.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIEFOWDc2MjUgaXMgYW4gdWx0cmEtbG93IHBvd2VyIDRLIE1vYmlsZSBIRCBUcmFuc21pdHRl
ciBkZXNpZ25lZApmb3IgcG9ydGFibGUgZGV2aWNlLiBJdCBjb252ZXJ0cyBNSVBJIHRvIERpc3Bs
YXlQb3J0IDEuMyA0Sy4KClNpZ25lZC1vZmYtYnk6IFhpbiBKaSA8eGppQGFuYWxvZ2l4c2VtaS5j
b20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9NYWtlZmlsZSAgICAgICAgICAgfCAgICAy
ICstCiBkcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L0tjb25maWcgICB8ICAgIDYgKwog
ZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9NYWtlZmlsZSAgfCAgICAxICsKIGRyaXZl
cnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9naXgvYW54NzYyNS5jIHwgMjA4NSArKysrKysrKysrKysr
KysrKysrKysrKysrKysrKwogZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9hbng3NjI1
LmggfCAgMzk3ICsrKysrKwogNSBmaWxlcyBjaGFuZ2VkLCAyNDkwIGluc2VydGlvbnMoKyksIDEg
ZGVsZXRpb24oLSkKIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2Fu
YWxvZ2l4L2FueDc2MjUuYwogY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS9icmlk
Z2UvYW5hbG9naXgvYW54NzYyNS5oCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2JyaWRn
ZS9NYWtlZmlsZSBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvTWFrZWZpbGUKaW5kZXggNDkzNGZj
Zi4uYmNkMzg4YSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9NYWtlZmlsZQor
KysgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL01ha2VmaWxlCkBAIC0xMiw4ICsxMiw4IEBAIG9i
ai0kKENPTkZJR19EUk1fU0lJOTIzNCkgKz0gc2lpOTIzNC5vCiBvYmotJChDT05GSUdfRFJNX1RI
SU5FX1RIQzYzTFZEMTAyNCkgKz0gdGhjNjNsdmQxMDI0Lm8KIG9iai0kKENPTkZJR19EUk1fVE9T
SElCQV9UQzM1ODc2NCkgKz0gdGMzNTg3NjQubwogb2JqLSQoQ09ORklHX0RSTV9UT1NISUJBX1RD
MzU4NzY3KSArPSB0YzM1ODc2Ny5vCi1vYmotJChDT05GSUdfRFJNX0FOQUxPR0lYX0RQKSArPSBh
bmFsb2dpeC8KIG9iai0kKENPTkZJR19EUk1fSTJDX0FEVjc1MTEpICs9IGFkdjc1MTEvCiBvYmot
JChDT05GSUdfRFJNX1RJX1NONjVEU0k4NikgKz0gdGktc242NWRzaTg2Lm8KIG9iai0kKENPTkZJ
R19EUk1fVElfVEZQNDEwKSArPSB0aS10ZnA0MTAubworb2JqLXkgKz0gYW5hbG9naXgvCiBvYmot
eSArPSBzeW5vcHN5cy8KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9n
aXgvS2NvbmZpZyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9naXgvS2NvbmZpZwppbmRl
eCBlOTMwZmY5Li5iMmYxMjdlIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2Fu
YWxvZ2l4L0tjb25maWcKKysrIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9LY29u
ZmlnCkBAIC0yLDMgKzIsOSBAQAogY29uZmlnIERSTV9BTkFMT0dJWF9EUAogCXRyaXN0YXRlCiAJ
ZGVwZW5kcyBvbiBEUk0KKworY29uZmlnIEFOQUxPR0lYX0FOWDc2MjUKKwl0cmlzdGF0ZSAiQW5h
bG9naXggTUlQSSB0byBEUCBpbnRlcmZhY2Ugc3VwcG9ydCIKKwloZWxwCisJCUFOWDc2MjUgaXMg
YW4gdWx0cmEtbG93IHBvd2VyIDRLIG1vYmlsZSBIRCB0cmFuc21pdHRlciBkZXNpZ25lZAorCQlm
b3IgcG9ydGFibGUgZGV2aWNlcy4gSXQgY29udmVydHMgTUlQSS9EUEkgdG8gRGlzcGxheVBvcnQx
LjMgNEsuCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L01ha2Vm
aWxlIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9NYWtlZmlsZQppbmRleCBmZGJm
M2ZkLi44YTUyODY3IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4
L01ha2VmaWxlCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9naXgvTWFrZWZpbGUK
QEAgLTEsMyArMSw0IEBACiAjIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wLW9ubHkK
K29iai0kKENPTkZJR19BTkFMT0dJWF9BTlg3NjI1KSArPSBhbng3NjI1Lm8KIGFuYWxvZ2l4X2Rw
LW9ianMgOj0gYW5hbG9naXhfZHBfY29yZS5vIGFuYWxvZ2l4X2RwX3JlZy5vCiBvYmotJChDT05G
SUdfRFJNX0FOQUxPR0lYX0RQKSArPSBhbmFsb2dpeF9kcC5vCmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FueDc2MjUuYyBiL2RyaXZlcnMvZ3B1L2RybS9icmlk
Z2UvYW5hbG9naXgvYW54NzYyNS5jCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAu
LmVjZWFkZWYKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxv
Z2l4L2FueDc2MjUuYwpAQCAtMCwwICsxLDIwODUgQEAKKy8vIFNQRFgtTGljZW5zZS1JZGVudGlm
aWVyOiBHUEwtMi4wLW9ubHkKKy8qCisgKiBDb3B5cmlnaHQoYykgMjAxNiwgQW5hbG9naXggU2Vt
aWNvbmR1Y3Rvci4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KKyAqCisgKi8KKyNpbmNsdWRlIDxsaW51
eC9leHRjb24uaD4KKyNpbmNsdWRlIDxsaW51eC9nY2QuaD4KKyNpbmNsdWRlIDxsaW51eC9ncGlv
L2NvbnN1bWVyLmg+CisjaW5jbHVkZSA8bGludXgvaTJjLmg+CisjaW5jbHVkZSA8bGludXgvaW50
ZXJydXB0Lmg+CisjaW5jbHVkZSA8bGludXgvaW9wb2xsLmg+CisjaW5jbHVkZSA8bGludXgva2Vy
bmVsLmg+CisjaW5jbHVkZSA8bGludXgvbW9kdWxlLmg+CisjaW5jbHVkZSA8bGludXgvbXV0ZXgu
aD4KKyNpbmNsdWRlIDxsaW51eC9zbGFiLmg+CisjaW5jbHVkZSA8bGludXgvdHlwZXMuaD4KKyNp
bmNsdWRlIDxsaW51eC93b3JrcXVldWUuaD4KKworI2luY2x1ZGUgPGxpbnV4L29mX2dwaW8uaD4K
KyNpbmNsdWRlIDxsaW51eC9vZl9ncmFwaC5oPgorI2luY2x1ZGUgPGxpbnV4L29mX3BsYXRmb3Jt
Lmg+CisKKyNpbmNsdWRlIDxkcm0vZHJtX2F0b21pY19oZWxwZXIuaD4KKyNpbmNsdWRlIDxkcm0v
ZHJtX2JyaWRnZS5oPgorI2luY2x1ZGUgPGRybS9kcm1fY3J0Y19oZWxwZXIuaD4KKyNpbmNsdWRl
IDxkcm0vZHJtX2RwX2hlbHBlci5oPgorI2luY2x1ZGUgPGRybS9kcm1fZWRpZC5oPgorI2luY2x1
ZGUgPGRybS9kcm1fbWlwaV9kc2kuaD4KKyNpbmNsdWRlIDxkcm0vZHJtX3ByaW50Lmg+CisjaW5j
bHVkZSA8ZHJtL2RybV9wcm9iZV9oZWxwZXIuaD4KKworI2luY2x1ZGUgPHZpZGVvL2Rpc3BsYXlf
dGltaW5nLmg+CisKKyNpbmNsdWRlICJhbng3NjI1LmgiCisKKy8qCisgKiB0aGVyZSBpcyBhIHN5
bmMgaXNzdWUgd2hpbGUgYWNjZXNzIEkyQyByZWdpc3RlciBiZXR3ZWVuIEFQKENQVSkgYW5kCisg
KiBpbnRlcm5hbCBmaXJtd2FyZShPQ00pLCB0byBhdm9pZCB0aGUgcmFjZSBjb25kaXRpb24sIEFQ
IHNob3VsZCBhY2Nlc3MKKyAqIHRoZSByZXNlcnZlZCBzbGF2ZSBhZGRyZXNzIGJlZm9yZSBzbGF2
ZSBhZGRyZXNzIG9jY3VycyBjaGFuZ2VzLgorICovCitzdGF0aWMgaW50IGkyY19hY2Nlc3Nfd29y
a2Fyb3VuZChzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgsCisJCQkJIHN0cnVjdCBpMmNfY2xpZW50
ICpjbGllbnQpCit7CisJdTggb2Zmc2V0OworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZjbGllbnQt
PmRldjsKKwlzdHJ1Y3QgaTJjX2NsaWVudCAqbGFzdF9jbGllbnQgPSBjdHgtPmxhc3RfY2xpZW50
OworCWludCByZXQgPSAwOworCisJaWYgKGNsaWVudCAhPSBsYXN0X2NsaWVudCkgeworCQljdHgt
Pmxhc3RfY2xpZW50ID0gY2xpZW50OworCisJCWlmIChjbGllbnQgPT0gY3R4LT5pMmMudGNwY19j
bGllbnQpCisJCQlvZmZzZXQgPSBSU1ZEXzAwX0FERFI7CisJCWVsc2UgaWYgKGNsaWVudCA9PSBj
dHgtPmkyYy50eF9wMF9jbGllbnQpCisJCQlvZmZzZXQgPSBSU1ZEX0QxX0FERFI7CisJCWVsc2Ug
aWYgKGNsaWVudCA9PSBjdHgtPmkyYy50eF9wMV9jbGllbnQpCisJCQlvZmZzZXQgPSBSU1ZEXzYw
X0FERFI7CisJCWVsc2UgaWYgKGNsaWVudCA9PSBjdHgtPmkyYy5yeF9wMF9jbGllbnQpCisJCQlv
ZmZzZXQgPSBSU1ZEXzM5X0FERFI7CisJCWVsc2UgaWYgKGNsaWVudCA9PSBjdHgtPmkyYy5yeF9w
MV9jbGllbnQpCisJCQlvZmZzZXQgPSBSU1ZEXzdGX0FERFI7CisJCWVsc2UKKwkJCW9mZnNldCA9
IFJTVkRfMDBfQUREUjsKKworCQlyZXQgPSBpMmNfc21idXNfd3JpdGVfYnl0ZV9kYXRhKGNsaWVu
dCwgb2Zmc2V0LCAweDAwKTsKKwkJaWYgKHJldCA8IDApCisJCQlEUk1fREVWX0VSUk9SKGRldiwK
KwkJCQkgICAgICAiZmFpbGVkIHRvIGFjY2VzcyBpMmMgaWQ9JXhcbjoleCIsCisJCQkJICAgICAg
Y2xpZW50LT5hZGRyLCBvZmZzZXQpOworCX0KKworCXJldHVybiByZXQ7Cit9CisKK3N0YXRpYyBp
bnQgYW54NzYyNV9yZWdfcmVhZChzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgsCisJCQkgICAgc3Ry
dWN0IGkyY19jbGllbnQgKmNsaWVudCwgdTggcmVnX2FkZHIpCit7CisJaW50IHJldDsKKwlzdHJ1
Y3QgZGV2aWNlICpkZXYgPSAmY2xpZW50LT5kZXY7CisKKwlpMmNfYWNjZXNzX3dvcmthcm91bmQo
Y3R4LCBjbGllbnQpOworCisJcmV0ID0gaTJjX3NtYnVzX3JlYWRfYnl0ZV9kYXRhKGNsaWVudCwg
cmVnX2FkZHIpOworCWlmIChyZXQgPCAwKQorCQlEUk1fREVWX0VSUk9SKGRldiwgInJlYWQgaTJj
IGZhaWxlZCBpZD0leDoleFxuIiwKKwkJCSAgICAgIGNsaWVudC0+YWRkciwgcmVnX2FkZHIpOwor
CisJcmV0dXJuIHJldDsKK30KKworc3RhdGljIGludCBhbng3NjI1X3JlZ19ibG9ja19yZWFkKHN0
cnVjdCBhbng3NjI1X2RhdGEgKmN0eCwKKwkJCQkgIHN0cnVjdCBpMmNfY2xpZW50ICpjbGllbnQs
CisJCQkJICB1OCByZWdfYWRkciwgdTggbGVuLCB1OCAqYnVmKQoreworCWludCByZXQ7CisJc3Ry
dWN0IGRldmljZSAqZGV2ID0gJmNsaWVudC0+ZGV2OworCisJaTJjX2FjY2Vzc193b3JrYXJvdW5k
KGN0eCwgY2xpZW50KTsKKworCXJldCA9IGkyY19zbWJ1c19yZWFkX2kyY19ibG9ja19kYXRhKGNs
aWVudCwgcmVnX2FkZHIsIGxlbiwgYnVmKTsKKwlpZiAocmV0IDwgMCkKKwkJRFJNX0RFVl9FUlJP
UihkZXYsICJyZWFkIGkyYyBibG9jayBmYWlsZWQgaWQ9JXg6JXhcbiIsCisJCQkgICAgICBjbGll
bnQtPmFkZHIsIHJlZ19hZGRyKTsKKworCXJldHVybiByZXQ7Cit9CisKK3N0YXRpYyBpbnQgYW54
NzYyNV9yZWdfd3JpdGUoc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4LAorCQkJICAgICBzdHJ1Y3Qg
aTJjX2NsaWVudCAqY2xpZW50LAorCQkJICAgICB1OCByZWdfYWRkciwgdTggcmVnX3ZhbCkKK3sK
KwlpbnQgcmV0OworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZjbGllbnQtPmRldjsKKworCWkyY19h
Y2Nlc3Nfd29ya2Fyb3VuZChjdHgsIGNsaWVudCk7CisKKwlyZXQgPSBpMmNfc21idXNfd3JpdGVf
Ynl0ZV9kYXRhKGNsaWVudCwgcmVnX2FkZHIsIHJlZ192YWwpOworCisJaWYgKHJldCA8IDApCisJ
CURSTV9ERVZfRVJST1IoZGV2LCAiZmFpbGVkIHRvIHdyaXRlIGkyYyBpZD0leFxuOiV4IiwKKwkJ
CSAgICAgIGNsaWVudC0+YWRkciwgcmVnX2FkZHIpOworCisJcmV0dXJuIHJldDsKK30KKworc3Rh
dGljIGludCBhbng3NjI1X3dyaXRlX29yKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCwKKwkJCSAg
ICBzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50LAorCQkJICAgIHU4IG9mZnNldCwgdTggbWFzaykK
K3sKKwlpbnQgdmFsID0gYW54NzYyNV9yZWdfcmVhZChjdHgsIGNsaWVudCwgb2Zmc2V0KTsKKwor
CXJldHVybiAodmFsIDwgMCkgPyB2YWwgOgorCQlhbng3NjI1X3JlZ193cml0ZShjdHgsIGNsaWVu
dCwgb2Zmc2V0LCAodmFsIHwgKG1hc2spKSk7Cit9CisKK3N0YXRpYyBpbnQgYW54NzYyNV93cml0
ZV9hbmQoc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4LAorCQkJICAgICBzdHJ1Y3QgaTJjX2NsaWVu
dCAqY2xpZW50LAorCQkJICAgICB1OCBvZmZzZXQsIHU4IG1hc2spCit7CisJaW50IHZhbCA9IGFu
eDc2MjVfcmVnX3JlYWQoY3R4LCBjbGllbnQsIG9mZnNldCk7CisKKwlyZXR1cm4gKHZhbCA8IDAp
ID8gdmFsIDoKKwkJYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjbGllbnQsIG9mZnNldCwgKHZhbCAm
IChtYXNrKSkpOworfQorCitzdGF0aWMgaW50IGFueDc2MjVfd3JpdGVfYW5kX29yKHN0cnVjdCBh
bng3NjI1X2RhdGEgKmN0eCwKKwkJCQlzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50LAorCQkJCXU4
IG9mZnNldCwgdTggYW5kX21hc2ssIHU4IG9yX21hc2spCit7CisJaW50IHZhbCA9IGFueDc2MjVf
cmVnX3JlYWQoY3R4LCBjbGllbnQsIG9mZnNldCk7CisKKwlyZXR1cm4gKHZhbCA8IDApID8gdmFs
IDoKKwkJYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjbGllbnQsIG9mZnNldCwKKwkJCQkgICh2YWwg
JiBhbmRfbWFzaykgfCAob3JfbWFzaykpOworfQorCitzdGF0aWMgaW50IGFueDc2MjVfY29uZmln
X2JpdF9tYXRyaXgoc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4KQoreworCWludCBpLCByZXQ7CisK
KwlyZXQgPSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnR4X3AyX2NsaWVudCwKKwkJ
CQlBVURJT19DT05UUk9MX1JFR0lTVEVSLCAweDgwKTsKKwlmb3IgKGkgPSAwOyBpIDwgMTM7IGkr
KykKKwkJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMudHhfcDJfY2xpZW50
LAorCQkJCQkgVklERU9fQklUX01BVFJJWF8xMiArIGksCisJCQkJCSAweDE4ICsgaSk7CisKKwly
ZXR1cm4gcmV0OworfQorCitzdGF0aWMgaW50IGFueDc2MjVfcmVhZF9jdHJsX3N0YXR1c19wMChz
dHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJcmV0dXJuIGFueDc2MjVfcmVnX3JlYWQoY3R4
LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsIEFQX0FVWF9DVFJMX1NUQVRVUyk7Cit9CisKK3N0YXRp
YyBpbnQgd2FpdF9hdXhfb3BfZmluaXNoKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCkKK3sKKwlp
bnQgdmFsOworCWludCByZXQ7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5k
ZXY7CisKKwlyZXQgPSByZWFkeF9wb2xsX3RpbWVvdXQoYW54NzYyNV9yZWFkX2N0cmxfc3RhdHVz
X3AwLAorCQkJCSBjdHgsIHZhbCwKKwkJCQkgKCEodmFsICYgQVBfQVVYX0NUUkxfT1BfRU4pIHx8
ICh2YWwgPCAwKSksCisJCQkJIDIwMDAsCisJCQkJIDIwMDAgKiAxNTApOworCWlmIChyZXQpIHsK
KwkJRFJNX0RFVl9FUlJPUihkZXYsICJhdXggb3BlcmF0aW9uIGZhaWxlZCFcbiIpOworCQl2YWwg
PSAtRUlPOworCX0gZWxzZSB7CisJCXZhbCA9IGFueDc2MjVfcmVnX3JlYWQoY3R4LCBjdHgtPmky
Yy5yeF9wMF9jbGllbnQsCisJCQkJICAgICAgIEFQX0FVWF9DVFJMX1NUQVRVUyk7CisJCWlmICh2
YWwgPCAwIHx8ICh2YWwgJiAweDBGKSkgeworCQkJRFJNX0RFVl9FUlJPUihkZXYsICJhdXggc3Rh
dHVzICUwMnhcbiIsIHZhbCk7CisJCQl2YWwgPSAtRUlPOworCQl9CisJfQorCisJcmV0dXJuIHZh
bDsKK30KKworc3RhdGljIGludCB3cml0ZV9kcGNkX2FkZHIoc3RydWN0IGFueDc2MjVfZGF0YSAq
Y3R4LAorCQkJICAgdTggYWRkcmgsIHU4IGFkZHJtLCB1OCBhZGRybCkKK3sKKwlpbnQgcmV0Owor
CisJcmV0ID0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsCisJ
CQkJQVBfQVVYX0FERFJfN18wLCAodTgpYWRkcmwpOworCXJldCB8PSBhbng3NjI1X3JlZ193cml0
ZShjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkgQVBfQVVYX0FERFJfMTVfOCwgKHU4
KWFkZHJtKTsKKwlyZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMF9j
bGllbnQsCisJCQkJIEFQX0FVWF9BRERSXzE5XzE2LCAodTgpYWRkcmgpOworCisJcmV0dXJuIHJl
dDsKK30KKworc3RhdGljIGludCBzcF90eF9hdXhfZHBjZHJlYWRfYnl0ZXMoc3RydWN0IGFueDc2
MjVfZGF0YSAqY3R4LAorCQkJCSAgICB1OCBhZGRyaCwgdTggYWRkcm0sCisJCQkJICAgIHU4IGFk
ZHJsLCB1OCBjb3VudCwKKwkJCQkgICAgdTggKmJ1ZikKK3sKKwl1OCBjOworCWludCByZXQ7CisJ
c3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7CisKKwlpZiAoV0FSTl9PTihj
b3VudCA+IChzaXplX3QpTUFYX0RQQ0RfQlVGRkVSX1NJWkUpKQorCQlyZXR1cm4gLUUyQklHOwor
CisJLyogY29tbWFuZCBhbmQgbGVuZ3RoICovCisJYyA9ICgoY291bnQgLSAxKSA8PCA0KSB8IDB4
MDk7CisJcmV0ID0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQs
IEFQX0FVWF9DT01NQU5ELCBjKTsKKwkvKiBhZGRyZXNzICovCisJcmV0IHw9IHdyaXRlX2RwY2Rf
YWRkcihjdHgsIGFkZHJoLCBhZGRybSwgYWRkcmwpOworCS8qIGF1eCBlbiAqLworCXJldCB8PSBh
bng3NjI1X3dyaXRlX29yKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LCBBUF9BVVhfQ1RSTF9T
VEFUVVMsCisJCQkJQVBfQVVYX0NUUkxfT1BfRU4pOworCWlmIChyZXQgPCAwKSB7CisJCURSTV9E
RVZfRVJST1IoZGV2LCAiYXV4IGVuYWJsZSBmYWlsZWQuXG4iKTsKKwkJcmV0dXJuIHJldDsKKwl9
CisKKwl1c2xlZXBfcmFuZ2UoMjAwMCwgMjEwMCk7CisKKwlyZXQgPSB3YWl0X2F1eF9vcF9maW5p
c2goY3R4KTsKKwlpZiAocmV0IDwgMCkgeworCQlEUk1fREVWX0VSUk9SKGRldiwgImF1eCByZWFk
IGZhaWxlZFxuIik7CisJCXJldHVybiByZXQ7CisJfQorCisJcmV0dXJuIGFueDc2MjVfcmVnX2Js
b2NrX3JlYWQoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsCisJCQlBUF9BVVhfQlVGRl9TVEFS
VCwgY291bnQsIGJ1Zik7Cit9CisKK3N0YXRpYyBpbnQgYW54NzYyNV92aWRlb19tdXRlX2NvbnRy
b2woc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4LAorCQkJCSAgICAgIHU4IHN0YXR1cykKK3sKKwlp
bnQgcmV0OworCisJaWYgKHN0YXR1cykgeyAvKiBtdXRlIG9uICovCisJCS8qIHNldCBtdXRlIGZs
YWcgKi8KKwkJcmV0ID0gYW54NzYyNV93cml0ZV9vcihjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVu
dCwKKwkJCQkgICAgICAgQVBfQVZfU1RBVFVTLCBBUF9NSVBJX01VVEUpOworCQkvKiBjbGVhciBt
aXBpIFJYIGVuICovCisJCXJldCB8PSBhbng3NjI1X3dyaXRlX2FuZChjdHgsIGN0eC0+aTJjLnJ4
X3AwX2NsaWVudCwKKwkJCQkJIEFQX0FWX1NUQVRVUywgKHU4KX5BUF9NSVBJX1JYX0VOKTsKKwl9
IGVsc2UgeyAvKiBtdXRlIG9mZiAqLworCQkvKiBjbGVhciBtdXRlIGZsYWcgKi8KKwkJcmV0ID0g
YW54NzYyNV93cml0ZV9hbmQoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsCisJCQkJCUFQX0FW
X1NUQVRVUywgKHU4KX5BUF9NSVBJX01VVEUpOworCQkvKiBzZXQgTUlQSSBSWCBFTiAqLworCQly
ZXQgfD0gYW54NzYyNV93cml0ZV9vcihjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkJ
QVBfQVZfU1RBVFVTLCBBUF9NSVBJX1JYX0VOKTsKKwl9CisKKwlyZXR1cm4gcmV0OworfQorCitz
dGF0aWMgaW50IGFueDc2MjVfY29uZmlnX2F1ZGlvX2lucHV0KHN0cnVjdCBhbng3NjI1X2RhdGEg
KmN0eCkKK3sKKwlpbnQgcmV0OworCisJLyogY2hhbm5lbCBudW0gKi8KKwlyZXQgPSBhbng3NjI1
X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnR4X3AyX2NsaWVudCwKKwkJCQlBVURJT19DSEFOTkVM
X1NUQVRVU182LCBJMlNfQ0hfMiA8PCA1KTsKKwkvKiBsYXlvdXQgKi8KKwkvKiBhcyBJMlMgY2hh
bm5lbCBpcyAyLCBubyBuZWVkIHRvIHNldCBsYXlvdXQgKi8KKworCS8qIEZTICovCisJcmV0IHw9
IGFueDc2MjVfd3JpdGVfYW5kX29yKGN0eCwgY3R4LT5pMmMudHhfcDJfY2xpZW50LAorCQkJCSAg
ICBBVURJT19DSEFOTkVMX1NUQVRVU180LAorCQkJCSAgICAweGYwLCBBVURJT19GU180OEspOwor
CS8qIHdvcmQgbGVuZ3RoICovCisJcmV0IHw9IGFueDc2MjVfd3JpdGVfYW5kX29yKGN0eCwgY3R4
LT5pMmMudHhfcDJfY2xpZW50LAorCQkJCSAgICBBVURJT19DSEFOTkVMX1NUQVRVU181LAorCQkJ
CSAgICAweGYwLCBBVURJT19XX0xFTl8yNF8yNE1BWCk7CisJLyogSTJTICovCisJcmV0IHw9IGFu
eDc2MjVfd3JpdGVfb3IoY3R4LCBjdHgtPmkyYy50eF9wMl9jbGllbnQsCisJCQkJQVVESU9fQ0hB
Tk5FTF9TVEFUVVNfNiwgSTJTX1NMQVZFX01PREUpOworCXJldCB8PSBhbng3NjI1X3dyaXRlX2Fu
ZChjdHgsIGN0eC0+aTJjLnR4X3AyX2NsaWVudCwKKwkJCQkgQVVESU9fQ09OVFJPTF9SRUdJU1RF
UiwgflRETV9USU1JTkdfTU9ERSk7CisJLyogYXVkaW8gY2hhbmdlIGZsYWcgKi8KKwlyZXQgfD0g
YW54NzYyNV93cml0ZV9vcihjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQlBUF9BVl9T
VEFUVVMsIEFQX0FVRElPX0NIRyk7CisKKwlpZiAocmV0IDwgMCkKKwkJRFJNX0VSUk9SKCJmYWls
ZWQgdG8gY29uZmlnIGF1ZGlvLlxuIik7CisKKwlyZXR1cm4gcmV0OworfQorCisvKiByZWR1Y3Rp
b24gb2YgZnJhY3Rpb24gYS9iICovCitzdGF0aWMgdm9pZCBhbng3NjI1X3JlZHVjdGlvbl9vZl9h
X2ZyYWN0aW9uKHVuc2lnbmVkIGxvbmcgKmEsIHVuc2lnbmVkIGxvbmcgKmIpCit7CisJdW5zaWdu
ZWQgbG9uZyBnY2RfbnVtOworCXVuc2lnbmVkIGxvbmcgdG1wX2EsIHRtcF9iOworCXUzMiBpID0g
MTsKKworCWdjZF9udW0gPSBnY2QoKmEsICpiKTsKKwkqYSAvPSBnY2RfbnVtOworCSpiIC89IGdj
ZF9udW07CisKKwl0bXBfYSA9ICphOworCXRtcF9iID0gKmI7CisKKwl3aGlsZSAoKCphID4gTUFY
X1VOU0lHTkVEXzI0QklUKSB8fCAoKmIgPiBNQVhfVU5TSUdORURfMjRCSVQpKSB7CisJCWkrKzsK
KwkJKmEgPSB0bXBfYSAvIGk7CisJCSpiID0gdG1wX2IgLyBpOworCX0KKworCS8qCisJICogaW4g
dGhlIGVuZCwgbWFrZSBhLCBiIGxhcmdlciB0byBoYXZlIGhpZ2hlciBPREZDIFBMTAorCSAqIG91
dHB1dCBmcmVxdWVuY3kgYWNjdXJhY3kKKwkgKi8KKwl3aGlsZSAoKCphIDwgTUFYX1VOU0lHTkVE
XzI0QklUKSAmJiAoKmIgPCBNQVhfVU5TSUdORURfMjRCSVQpKSB7CisJCSphIDw8PSAxOworCQkq
YiA8PD0gMTsKKwl9CisKKwkqYSA+Pj0gMTsKKwkqYiA+Pj0gMTsKK30KKworc3RhdGljIGludCBh
bng3NjI1X2NhbGN1bGF0ZV9tX24odTMyIHBpeGVsY2xvY2ssCisJCQkJIHVuc2lnbmVkIGxvbmcg
Km0sCisJCQkJIHVuc2lnbmVkIGxvbmcgKm4sCisJCQkJIHU4ICpwb3N0X2RpdmlkZXIpCit7CisJ
aWYgKHBpeGVsY2xvY2sgPiBQTExfT1VUX0ZSRVFfQUJTX01BWCAvIFBPU1RfRElWSURFUl9NSU4p
IHsKKwkJLyogcGl4ZWwgY2xvY2sgZnJlcXVlbmN5IGlzIHRvbyBoaWdoICovCisJCURSTV9FUlJP
UigicGl4ZWxjbG9jayB0b28gaGlnaCwgYWN0KCVkKSwgbWF4aW11bSglbHUpXG4iLAorCQkJICBw
aXhlbGNsb2NrLAorCQkJICBQTExfT1VUX0ZSRVFfQUJTX01BWCAvIFBPU1RfRElWSURFUl9NSU4p
OworCQlyZXR1cm4gMTsKKwl9CisKKwlpZiAocGl4ZWxjbG9jayA8IFBMTF9PVVRfRlJFUV9BQlNf
TUlOIC8gUE9TVF9ESVZJREVSX01BWCkgeworCQkvKiBwaXhlbCBjbG9jayBmcmVxdWVuY3kgaXMg
dG9vIGxvdyAqLworCQlEUk1fRVJST1IoInBpeGVsY2xvY2sgdG9vIGxvdywgYWN0KCVkKSwgbWF4
aW11bSglbHUpXG4iLAorCQkJICBwaXhlbGNsb2NrLAorCQkJICBQTExfT1VUX0ZSRVFfQUJTX01J
TiAvIFBPU1RfRElWSURFUl9NQVgpOworCQlyZXR1cm4gMTsKKwl9CisKKwkqcG9zdF9kaXZpZGVy
ID0gMTsKKworCWZvciAoKnBvc3RfZGl2aWRlciA9IDE7CisJCXBpeGVsY2xvY2sgPCAoUExMX09V
VF9GUkVRX01JTiAvICgqcG9zdF9kaXZpZGVyKSk7KQorCQkqcG9zdF9kaXZpZGVyICs9IDE7CisK
KwlpZiAoKnBvc3RfZGl2aWRlciA+IFBPU1RfRElWSURFUl9NQVgpIHsKKwkJZm9yICgqcG9zdF9k
aXZpZGVyID0gMTsKKwkJCShwaXhlbGNsb2NrIDwKKwkJCSAoUExMX09VVF9GUkVRX0FCU19NSU4g
LyAoKnBvc3RfZGl2aWRlcikpKTspCisJCQkqcG9zdF9kaXZpZGVyICs9IDE7CisKKwkJaWYgKCpw
b3N0X2RpdmlkZXIgPiBQT1NUX0RJVklERVJfTUFYKSB7CisJCQlEUk1fRVJST1IoImNhbm5vdCBm
aW5kIHByb3BlcnR5IHBvc3RfZGl2aWRlciglZClcbiIsCisJCQkJICAqcG9zdF9kaXZpZGVyKTsK
KwkJCXJldHVybiAxOworCQl9CisJfQorCisJLyogcGF0Y2ggdG8gaW1wcm92ZSB0aGUgYWNjdXJh
Y3kgKi8KKwlpZiAoKnBvc3RfZGl2aWRlciA9PSA3KSB7CisJCS8qIDI3LDAwMCwwMDAgaXMgbm90
IGRpdmlzaWJsZSBieSA3ICovCisJCSpwb3N0X2RpdmlkZXIgPSA4OworCX0gZWxzZSBpZiAoKnBv
c3RfZGl2aWRlciA9PSAxMSkgeworCQkvKiAyNywwMDAsMDAwIGlzIG5vdCBkaXZpc2libGUgYnkg
MTEgKi8KKwkJKnBvc3RfZGl2aWRlciA9IDEyOworCX0gZWxzZSBpZiAoKCpwb3N0X2RpdmlkZXIg
PT0gMTMpIHx8ICgqcG9zdF9kaXZpZGVyID09IDE0KSkgeworCQkvKjI3LDAwMCwwMDAgaXMgbm90
IGRpdmlzaWJsZSBieSAxMyBvciAxNCovCisJCSpwb3N0X2RpdmlkZXIgPSAxNTsKKwl9CisKKwlp
ZiAocGl4ZWxjbG9jayAqICgqcG9zdF9kaXZpZGVyKSA+IFBMTF9PVVRfRlJFUV9BQlNfTUFYKSB7
CisJCURSTV9FUlJPUigiYWN0IGNsb2NrKCV1KSBsYXJnZSB0aGFuIG1heGltdW0oJWx1KVxuIiwK
KwkJCSAgcGl4ZWxjbG9jayAqICgqcG9zdF9kaXZpZGVyKSwKKwkJCSAgUExMX09VVF9GUkVRX0FC
U19NQVgpOworCQlyZXR1cm4gMTsKKwl9CisKKwkqbSA9IHBpeGVsY2xvY2s7CisJKm4gPSBYVEFM
X0ZSUSAvICgqcG9zdF9kaXZpZGVyKTsKKworCWFueDc2MjVfcmVkdWN0aW9uX29mX2FfZnJhY3Rp
b24obSwgbik7CisKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIGludCBhbng3NjI1X29kZmNfY29u
ZmlnKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCwKKwkJCSAgICAgICB1OCBwb3N0X2RpdmlkZXIp
Cit7CisJaW50IHJldDsKKworCS8qIGNvbmZpZyBpbnB1dCByZWZlcmVuY2UgY2xvY2sgZnJlcXVl
bmN5IDI3TUh6LzE5LjJNSHogKi8KKwlyZXQgPSBhbng3NjI1X3dyaXRlX2FuZChjdHgsIGN0eC0+
aTJjLnJ4X3AxX2NsaWVudCwgTUlQSV9ESUdJVEFMX1BMTF8xNiwKKwkJCQl+KFJFRl9DTEtfMjcw
MDBLSFogPDwgTUlQSV9GUkVGX0RfSU5EKSk7CisJcmV0IHw9IGFueDc2MjVfd3JpdGVfb3IoY3R4
LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsIE1JUElfRElHSVRBTF9QTExfMTYsCisJCQkJKFJFRl9D
TEtfMjcwMDBLSFogPDwgTUlQSV9GUkVGX0RfSU5EKSk7CisJLyogcG9zdCBkaXZpZGVyICovCisJ
cmV0IHw9IGFueDc2MjVfd3JpdGVfYW5kKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LAorCQkJ
CSBNSVBJX0RJR0lUQUxfUExMXzgsIDB4MGYpOworCXJldCB8PSBhbng3NjI1X3dyaXRlX29yKGN0
eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LCBNSVBJX0RJR0lUQUxfUExMXzgsCisJCQkJcG9zdF9k
aXZpZGVyIDw8IDQpOworCisJLyogYWRkIHBhdGNoIGZvciBNSVMyLTEyNSAoNXBjcyBBTlg3NjI1
IGZhaWwgQVRFIE1CSVNUIHRlc3QpICovCisJcmV0IHw9IGFueDc2MjVfd3JpdGVfYW5kKGN0eCwg
Y3R4LT5pMmMucnhfcDFfY2xpZW50LCBNSVBJX0RJR0lUQUxfUExMXzcsCisJCQkJIH5NSVBJX1BM
TF9WQ09fVFVORV9SRUdfVkFMKTsKKworCS8qIHJlc2V0IE9ERkMgUExMICovCisJcmV0IHw9IGFu
eDc2MjVfd3JpdGVfYW5kKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LCBNSVBJX0RJR0lUQUxf
UExMXzcsCisJCQkJIH5NSVBJX1BMTF9SRVNFVF9OKTsKKwlyZXQgfD0gYW54NzYyNV93cml0ZV9v
cihjdHgsIGN0eC0+aTJjLnJ4X3AxX2NsaWVudCwgTUlQSV9ESUdJVEFMX1BMTF83LAorCQkJCU1J
UElfUExMX1JFU0VUX04pOworCisJaWYgKHJldCA8IDApCisJCURSTV9FUlJPUigiSU8gZXJyb3Iu
XG4iKTsKKworCXJldHVybiByZXQ7Cit9CisKK3N0YXRpYyBpbnQgYW54NzYyNV9kc2lfdmlkZW9f
dGltaW5nX2NvbmZpZyhzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJc3RydWN0IGRldmlj
ZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7CisJdW5zaWduZWQgbG9uZyBtLCBuOworCXUxNiBo
dG90YWw7CisJaW50IHJldDsKKwl1OCBwb3N0X2RpdmlkZXIgPSAwOworCisJcmV0ID0gYW54NzYy
NV9jYWxjdWxhdGVfbV9uKGN0eC0+ZHQucGl4ZWxjbG9jay5taW4gKiAxMDAwLAorCQkJCSAgICAm
bSwgJm4sICZwb3N0X2RpdmlkZXIpOworCisJaWYgKHJldCAhPSAwKSB7CisJCURSTV9FUlJPUigi
Y2Fubm90IGdldCBwcm9wZXJ0eSBtIG4gdmFsdWUuXG4iKTsKKwkJcmV0dXJuIC1FSU5WQUw7CisJ
fQorCisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiY29tcHV0ZSBNKCVsdSksIE4oJWx1KSwg
ZGl2aWRlciglZCkuXG4iLAorCQkJICAgICBtLCBuLCBwb3N0X2RpdmlkZXIpOworCisJLyogY29u
ZmlndXJlIHBpeGVsIGNsb2NrICovCisJcmV0ID0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgt
PmkyYy5yeF9wMF9jbGllbnQsIFBJWEVMX0NMT0NLX0wsCisJCQkJKGN0eC0+ZHQucGl4ZWxjbG9j
ay5taW4gLyAxMDAwKSAmIDB4RkYpOworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0
eC0+aTJjLnJ4X3AwX2NsaWVudCwgUElYRUxfQ0xPQ0tfSCwKKwkJCQkgKGN0eC0+ZHQucGl4ZWxj
bG9jay5taW4gLyAxMDAwKSA+PiA4KTsKKwkvKiBsYW5lIGNvdW50ICovCisJcmV0IHw9IGFueDc2
MjVfd3JpdGVfYW5kKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LAorCQkJTUlQSV9MQU5FX0NU
UkxfMCwgMHhmYyk7CisJaWYgKGN0eC0+cGRhdGEuZHNpX2xhbmVzKQorCQlyZXQgfD0gYW54NzYy
NV93cml0ZV9vcihjdHgsIGN0eC0+aTJjLnJ4X3AxX2NsaWVudCwKKwkJCQkJTUlQSV9MQU5FX0NU
UkxfMCwKKwkJCQkJKGN0eC0+cGRhdGEuZHNpX2xhbmVzIC0gMSkpOworCWVsc2UKKwkJcmV0IHw9
IGFueDc2MjVfd3JpdGVfb3IoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsCisJCQkJCU1JUElf
TEFORV9DVFJMXzAsIDMpOworCisJLyogSHRvdGFsICovCisJaHRvdGFsID0gY3R4LT5kdC5oYWN0
aXZlLm1pbiArIGN0eC0+ZHQuaGZyb250X3BvcmNoLm1pbiArCisJCWN0eC0+ZHQuaGJhY2tfcG9y
Y2gubWluICsgY3R4LT5kdC5oc3luY19sZW4ubWluOworCXJldCB8PSBhbng3NjI1X3JlZ193cml0
ZShjdHgsIGN0eC0+aTJjLnJ4X3AyX2NsaWVudCwKKwkJCUhPUklaT05UQUxfVE9UQUxfUElYRUxT
X0wsIGh0b3RhbCAmIDB4RkYpOworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+
aTJjLnJ4X3AyX2NsaWVudCwKKwkJCUhPUklaT05UQUxfVE9UQUxfUElYRUxTX0gsIGh0b3RhbCA+
PiA4KTsKKwkvKiBIYWN0aXZlICovCisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4
LT5pMmMucnhfcDJfY2xpZW50LAorCQkJSE9SSVpPTlRBTF9BQ1RJVkVfUElYRUxTX0wsIGN0eC0+
ZHQuaGFjdGl2ZS5taW4gJiAweEZGKTsKKwlyZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBj
dHgtPmkyYy5yeF9wMl9jbGllbnQsCisJCQlIT1JJWk9OVEFMX0FDVElWRV9QSVhFTFNfSCwgY3R4
LT5kdC5oYWN0aXZlLm1pbiA+PiA4KTsKKwkvKiBIRlAgKi8KKwlyZXQgfD0gYW54NzYyNV9yZWdf
d3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMl9jbGllbnQsCisJCQlIT1JJWk9OVEFMX0ZST05UX1BP
UkNIX0wsIGN0eC0+ZHQuaGZyb250X3BvcmNoLm1pbik7CisJcmV0IHw9IGFueDc2MjVfcmVnX3dy
aXRlKGN0eCwgY3R4LT5pMmMucnhfcDJfY2xpZW50LAorCQkJSE9SSVpPTlRBTF9GUk9OVF9QT1JD
SF9ILAorCQkJY3R4LT5kdC5oZnJvbnRfcG9yY2gubWluID4+IDgpOworCS8qIEhXUyAqLworCXJl
dCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AyX2NsaWVudCwKKwkJCUhP
UklaT05UQUxfU1lOQ19XSURUSF9MLCBjdHgtPmR0LmhzeW5jX2xlbi5taW4pOworCXJldCB8PSBh
bng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AyX2NsaWVudCwKKwkJCUhPUklaT05U
QUxfU1lOQ19XSURUSF9ILCBjdHgtPmR0LmhzeW5jX2xlbi5taW4gPj4gOCk7CisJLyogSEJQICov
CisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDJfY2xpZW50LAor
CQkJSE9SSVpPTlRBTF9CQUNLX1BPUkNIX0wsIGN0eC0+ZHQuaGJhY2tfcG9yY2gubWluKTsKKwly
ZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMl9jbGllbnQsCisJCQlI
T1JJWk9OVEFMX0JBQ0tfUE9SQ0hfSCwgY3R4LT5kdC5oYmFja19wb3JjaC5taW4gPj4gOCk7CisJ
LyogVmFjdGl2ZSAqLworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4
X3AyX2NsaWVudCwgQUNUSVZFX0xJTkVTX0wsCisJCQljdHgtPmR0LnZhY3RpdmUubWluKTsKKwly
ZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMl9jbGllbnQsIEFDVElW
RV9MSU5FU19ILAorCQkJY3R4LT5kdC52YWN0aXZlLm1pbiA+PiA4KTsKKwkvKiBWRlAgKi8KKwly
ZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMl9jbGllbnQsCisJCQlW
RVJUSUNBTF9GUk9OVF9QT1JDSCwgY3R4LT5kdC52ZnJvbnRfcG9yY2gubWluKTsKKwkvKiBWV1Mg
Ki8KKwlyZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMl9jbGllbnQs
CisJCQlWRVJUSUNBTF9TWU5DX1dJRFRILCBjdHgtPmR0LnZzeW5jX2xlbi5taW4pOworCS8qIFZC
UCAqLworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AyX2NsaWVu
dCwKKwkJCVZFUlRJQ0FMX0JBQ0tfUE9SQ0gsIGN0eC0+ZHQudmJhY2tfcG9yY2gubWluKTsKKwkv
KiBNIHZhbHVlICovCisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhf
cDFfY2xpZW50LAorCQkJTUlQSV9QTExfTV9OVU1fMjNfMTYsIChtID4+IDE2KSAmIDB4ZmYpOwor
CXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AxX2NsaWVudCwKKwkJ
CU1JUElfUExMX01fTlVNXzE1XzgsIChtID4+IDgpICYgMHhmZik7CisJcmV0IHw9IGFueDc2MjVf
cmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LAorCQkJTUlQSV9QTExfTV9OVU1f
N18wLCAobSAmIDB4ZmYpKTsKKwkvKiBOIHZhbHVlICovCisJcmV0IHw9IGFueDc2MjVfcmVnX3dy
aXRlKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LAorCQkJTUlQSV9QTExfTl9OVU1fMjNfMTYs
IChuID4+IDE2KSAmIDB4ZmYpOworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+
aTJjLnJ4X3AxX2NsaWVudCwKKwkJCU1JUElfUExMX05fTlVNXzE1XzgsIChuID4+IDgpICYgMHhm
Zik7CisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50
LCBNSVBJX1BMTF9OX05VTV83XzAsCisJCQkobiAmIDB4ZmYpKTsKKwkvKiBkaWZmICovCisJcmV0
IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LAorCQkJTUlQ
SV9ESUdJVEFMX0FESl8xLCAweDM3KTsKKworCXJldCB8PSBhbng3NjI1X29kZmNfY29uZmlnKGN0
eCwgcG9zdF9kaXZpZGVyIC0gMSk7CisKKwlpZiAocmV0IDwgMCkKKwkJRFJNX0VSUk9SKCJtaXBp
IGRzaSBzZXR1cCBJTyBlcnJvci5cbiIpOworCisJcmV0dXJuIHJldDsKK30KKworc3RhdGljIGlu
dCBhbng3NjI1X3N3YXBfZHNpX2xhbmUzKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCkKK3sKKwlp
bnQgdmFsOworCisJLyogc3dhcCBNSVBJLURTSSBkYXRhIGxhbmUgMyBQIGFuZCBOICovCisJdmFs
ID0gYW54NzYyNV9yZWdfcmVhZChjdHgsIGN0eC0+aTJjLnJ4X3AxX2NsaWVudCwgTUlQSV9TV0FQ
KTsKKwlpZiAodmFsIDwgMCkgeworCQlEUk1fRVJST1IoIklPIGVycm9yIDogYWNjZXNzIE1JUElf
U1dBUC5cbiIpOworCQlyZXR1cm4gLUVJTzsKKwl9CisKKwl2YWwgfD0gKDEgPDwgTUlQSV9TV0FQ
X0NIMyk7CisJcmV0dXJuIGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xp
ZW50LCBNSVBJX1NXQVAsIHZhbCk7Cit9CisKK3N0YXRpYyBpbnQgYW54NzYyNV9hcGlfZHNpX2Nv
bmZpZyhzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCisKK3sKKwlpbnQgdmFsLCByZXQ7CisKKwkv
KiBzd2FwIE1JUEktRFNJIGRhdGEgbGFuZSAzIFAgYW5kIE4gKi8KKwlyZXQgPSBhbng3NjI1X3N3
YXBfZHNpX2xhbmUzKGN0eCk7CisJaWYgKHJldCA8IDApIHsKKwkJRFJNX0VSUk9SKCJJTyBlcnJv
ciA6IHN3YXAgZHNpIGxhbmUgMyBmYWlsZWQuXG4iKTsKKwkJcmV0dXJuIHJldDsKKwl9CisKKwkv
KiBEU0kgY2xvY2sgc2V0dGluZ3MgKi8KKwl2YWwgPSAoMCA8PCBNSVBJX0hTX1BXRF9DTEspCQl8
CisJCSgwIDw8IE1JUElfSFNfUlRfQ0xLKQkJfAorCQkoMCA8PCBNSVBJX1BEX0NMSykJCXwKKwkJ
KDEgPDwgTUlQSV9DTEtfUlRfTUFOVUFMX1BEX0VOKQl8CisJCSgxIDw8IE1JUElfQ0xLX0hTX01B
TlVBTF9QRF9FTikJfAorCQkoMCA8PCBNSVBJX0NMS19ERVRfREVUX0JZUEFTUykJfAorCQkoMCA8
PCBNSVBJX0NMS19NSVNTX0NUUkwpCXwKKwkJKDAgPDwgTUlQSV9QRF9MUFRYX0NIX01BTlVBTF9Q
RF9FTik7CisJcmV0ID0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGll
bnQsCisJCQkJTUlQSV9QSFlfQ09OVFJPTF8zLCB2YWwpOworCisJLyoKKwkgKiBEZWNyZWFzZWQg
SFMgcHJlcGFyZSB0aW1pbmcgZGVsYXkgZnJvbSAxNjBucyB0byA4MG5zIHdvcmsgd2l0aAorCSAq
ICAgICBhKSBEcmFnb24gYm9hcmQgODEwIHNlcmllcyAoUXVhbGNvbW0gQVApCisJICogICAgIGIp
IE1vdmluZyBQaXhlbCBEU0kgc291cmNlIChQRzNBIHBhdHRlcm4gZ2VuZXJhdG9yICsKKwkgKglQ
MzMyIEQtUEhZIFByb2JlKSBkZWZhdWx0IEQtUEhZIHRpbWluZworCSAqCTVucy9zdGVwCisJICov
CisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LAor
CQkJCSBNSVBJX1RJTUVfSFNfUFJQUiwgMHgxMCk7CisKKwkvKiBlbmFibGUgRFNJIG1vZGUqLwor
CXJldCB8PSBhbng3NjI1X3dyaXRlX29yKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LCBNSVBJ
X0RJR0lUQUxfUExMXzE4LAorCQkJCVNFTEVDVF9EU0kgPDwgTUlQSV9EUElfU0VMRUNUKTsKKwor
CXJldCB8PSBhbng3NjI1X2RzaV92aWRlb190aW1pbmdfY29uZmlnKGN0eCk7CisJaWYgKHJldCA8
IDApIHsKKwkJRFJNX0VSUk9SKCJkc2kgdmlkZW8gdGltaW5nIGNvbmZpZyBmYWlsZWRcbiIpOwor
CQlyZXR1cm4gcmV0OworCX0KKworCS8qIHRvZ2dsZSBtLCBuIHJlYWR5ICovCisJcmV0ID0gYW54
NzYyNV93cml0ZV9hbmQoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsIE1JUElfRElHSVRBTF9Q
TExfNiwKKwkJCQl+KE1JUElfTV9OVU1fUkVBRFkgfCBNSVBJX05fTlVNX1JFQURZKSk7CisJdXNs
ZWVwX3JhbmdlKDEwMDAsIDExMDApOworCXJldCB8PSBhbng3NjI1X3dyaXRlX29yKGN0eCwgY3R4
LT5pMmMucnhfcDFfY2xpZW50LCBNSVBJX0RJR0lUQUxfUExMXzYsCisJCQkJTUlQSV9NX05VTV9S
RUFEWSB8IE1JUElfTl9OVU1fUkVBRFkpOworCisJLyogY29uZmlndXJlIGludGVnZXIgc3RhYmxl
IHJlZ2lzdGVyICovCisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhf
cDFfY2xpZW50LAorCQkJCSBNSVBJX1ZJREVPX1NUQUJMRV9DTlQsIDB4MDIpOworCS8qIHBvd2Vy
IG9uIE1JUEkgUlggKi8KKwlyZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5y
eF9wMV9jbGllbnQsCisJCQkJIE1JUElfTEFORV9DVFJMXzEwLCAweDAwKTsKKwlyZXQgfD0gYW54
NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsCisJCQkJIE1JUElfTEFO
RV9DVFJMXzEwLCAweDgwKTsKKworCWlmIChyZXQgPCAwKQorCQlEUk1fRVJST1IoIklPIGVycm9y
IDogbWlwaSBkc2kgZW5hYmxlIGluaXQgZmFpbGVkLlxuIik7CisKKwlyZXR1cm4gcmV0OworfQor
CitzdGF0aWMgaW50IGFueDc2MjVfZHNpX2NvbmZpZyhzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgp
Cit7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7CisJaW50IHJldDsK
KworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImNvbmZpZyBkc2kuXG4iKTsKKworCS8qIERT
QyBkaXNhYmxlICovCisJcmV0ID0gYW54NzYyNV93cml0ZV9hbmQoY3R4LCBjdHgtPmkyYy5yeF9w
MF9jbGllbnQsCisJCQkJUl9EU0NfQ1RSTF8wLCB+RFNDX0VOKTsKKworCXJldCB8PSBhbng3NjI1
X2FwaV9kc2lfY29uZmlnKGN0eCk7CisKKwlpZiAocmV0IDwgMCkgeworCQlEUk1fRVJST1IoIklP
IGVycm9yIDogYXBpIGRzaSBjb25maWcgZXJyb3IuXG4iKTsKKwl9IGVsc2UgeworCQkvKiBzZXQg
TUlQSSBSWCBFTiAqLworCQlyZXQgPSBhbng3NjI1X3dyaXRlX29yKGN0eCwgY3R4LT5pMmMucnhf
cDBfY2xpZW50LAorCQkJCSAgICAgICBBUF9BVl9TVEFUVVMsIEFQX01JUElfUlhfRU4pOworCQkv
KiBjbGVhciBtdXRlIGZsYWcgKi8KKwkJcmV0IHw9IGFueDc2MjVfd3JpdGVfYW5kKGN0eCwgY3R4
LT5pMmMucnhfcDBfY2xpZW50LAorCQkJCQkgQVBfQVZfU1RBVFVTLCAodTgpfkFQX01JUElfTVVU
RSk7CisJCWlmIChyZXQgPCAwKQorCQkJRFJNX0VSUk9SKCJJTyBlcnJvciA6IGVuYWJsZSBtaXBp
IHJ4IGZhaWxlZC5cbiIpOworCQllbHNlCisJCQlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJz
dWNjZXNzIHRvIGNvbmZpZyBEU0lcbiIpOworCX0KKworCXJldHVybiByZXQ7Cit9CisKK3N0YXRp
YyBpbnQgYW54NzYyNV9hcGlfZHBpX2NvbmZpZyhzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7
CisJdTE2IGZyZXEgPSBjdHgtPmR0LnBpeGVsY2xvY2subWluIC8gMTAwMDsKKwlpbnQgcmV0Owor
CisJLyogY29uZmlndXJlIHBpeGVsIGNsb2NrICovCisJcmV0ID0gYW54NzYyNV9yZWdfd3JpdGUo
Y3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsCisJCQkJUElYRUxfQ0xPQ0tfTCwgZnJlcSAmIDB4
RkYpOworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVu
dCwKKwkJCQkgUElYRUxfQ0xPQ0tfSCwgKGZyZXEgPj4gOCkpOworCisJLyogc2V0IERQSSBtb2Rl
ICovCisJLyogc2V0IHRvIERQSSBQTEwgbW9kdWxlIHNlbCAqLworCXJldCB8PSBhbng3NjI1X3Jl
Z193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AxX2NsaWVudCwKKwkJCQkgTUlQSV9ESUdJVEFMX1BM
TF85LCAweDIwKTsKKwkvKiBwb3dlciBkb3duIE1JUEkgKi8KKwlyZXQgfD0gYW54NzYyNV9yZWdf
d3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsCisJCQkJIE1JUElfTEFORV9DVFJMXzEw
LCAweDA4KTsKKwkvKiBlbmFibGUgRFBJIG1vZGUgKi8KKwlyZXQgfD0gYW54NzYyNV9yZWdfd3Jp
dGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsCisJCQkJIE1JUElfRElHSVRBTF9QTExfMTgs
IDB4MUMpOworCS8qIHNldCBmaXJzdCBlZGdlICovCisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRl
KGN0eCwgY3R4LT5pMmMudHhfcDJfY2xpZW50LAorCQkJCSBWSURFT19DT05UUk9MXzAsIDB4MDUp
OworCWlmIChyZXQgPCAwKQorCQlEUk1fRVJST1IoIklPIGVycm9yIDogZHBpIHBoeSBzZXQgZmFp
bGVkLlxuIik7CisKKwlyZXR1cm4gcmV0OworfQorCitzdGF0aWMgaW50IGFueDc2MjVfZHBpX2Nv
bmZpZyhzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJc3RydWN0IGRldmljZSAqZGV2ID0g
JmN0eC0+Y2xpZW50LT5kZXY7CisJaW50IHJldDsKKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRl
diwgImNvbmZpZyBkcGlcbiIpOworCisJLyogRFNDIGRpc2FibGUgKi8KKwlyZXQgPSBhbng3NjI1
X3dyaXRlX2FuZChjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQlSX0RTQ19DVFJMXzAs
IH5EU0NfRU4pOworCWlmIChyZXQgPCAwKSB7CisJCURSTV9FUlJPUigiSU8gZXJyb3IgOiBkaXNh
YmxlIGRzYyBmYWlsZWQuXG4iKTsKKwkJcmV0dXJuIHJldDsKKwl9CisKKwlyZXQgPSBhbng3NjI1
X2NvbmZpZ19iaXRfbWF0cml4KGN0eCk7CisJaWYgKHJldCA8IDApIHsKKwkJRFJNX0VSUk9SKCJj
b25maWcgYml0IG1hdHJpeCBmYWlsZWQuXG4iKTsKKwkJcmV0dXJuIHJldDsKKwl9CisKKwlyZXQg
PSBhbng3NjI1X2FwaV9kcGlfY29uZmlnKGN0eCk7CisJaWYgKHJldCA8IDApIHsKKwkJRFJNX0VS
Uk9SKCJtaXBpIHBoeShkcGkpIHNldHVwIGZhaWxlZC5cbiIpOworCQlyZXR1cm4gcmV0OworCX0K
KworCS8qIHNldCBNSVBJIFJYIEVOICovCisJcmV0ID0gYW54NzYyNV93cml0ZV9vcihjdHgsIGN0
eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCSAgICAgICBBUF9BVl9TVEFUVVMsIEFQX01JUElfUlhf
RU4pOworCS8qIGNsZWFyIG11dGUgZmxhZyAqLworCXJldCB8PSBhbng3NjI1X3dyaXRlX2FuZChj
dHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkgQVBfQVZfU1RBVFVTLCAodTgpfkFQX01J
UElfTVVURSk7CisJaWYgKHJldCA8IDApCisJCURSTV9FUlJPUigiSU8gZXJyb3IgOiBlbmFibGUg
bWlwaSByeCBmYWlsZWQuXG4iKTsKKworCXJldHVybiByZXQ7Cit9CisKK2NvbnN0IHU4IEFOWF9P
VUlbM10gPSB7IDB4MDAsIDB4MjIsIDB4QjkgfTsKK3N0YXRpYyBpbnQgaXNfYW54X2RvbmdsZShz
dHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJdTggYnVmWzNdOworCisJLyogMHgwNTAwfjB4
MDUwMjogQlJBTkNIX0lFRUVfT1VJICovCisJc3BfdHhfYXV4X2RwY2RyZWFkX2J5dGVzKGN0eCwg
MHgwMCwgMHgwNSwgMHgwMCwgc2l6ZW9mKGJ1ZiksIGJ1Zik7CisJaWYgKG1lbWNtcChidWYsIEFO
WF9PVUksIHNpemVvZihidWYpKSA9PSAwKQorCQlyZXR1cm4gMTsKKworCXJldHVybiAwOworfQor
CitzdGF0aWMgdm9pZCBzcF90eF9nZXRfcnhfYncoc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4LCB1
OCAqYncpCit7CisJdTggZGF0YV9idWZbNF07CisJLyoKKwkgKiBXaGVuIEFOWCBkb25nbGUgY29u
bmVjdGVkLCBpZiBDSElQX0lEID0gMHg3NzUwLCBiYW5kd2lkdGggaXMgNi43NUcsCisJICogYmVj
YXVzZSBBTlg3NzUwIERQQ0QgMHgwNTJ4IHdhcyBub3QgYXZhaWxhYmxlLgorCSAqLworCWlmIChp
c19hbnhfZG9uZ2xlKGN0eCkpIHsKKwkJc3BfdHhfYXV4X2RwY2RyZWFkX2J5dGVzKGN0eCwgMHgw
MCwgMHgwNSwgMHgwMywgMHgwNCwgZGF0YV9idWYpOworCQlpZiAoZGF0YV9idWZbMF0gPT0gMHgz
NyAmJiBkYXRhX2J1ZlsxXSA9PSAweDM3ICYmCisJCSAgICBkYXRhX2J1ZlsyXSA9PSAweDM1ICYm
IGRhdGFfYnVmWzNdID09IDB4MzApIHsKKwkJCS8qIDB4MTkgOiA2Ljc1RyAqLworCQkJKmJ3ID0g
MHgxOTsKKwkJfSBlbHNlIHsKKwkJCXNwX3R4X2F1eF9kcGNkcmVhZF9ieXRlcyhjdHgsIDB4MDAs
IDB4MDUsIDB4MjEsIDEsIGJ3KTsKKwkJCS8qCisJCQkgKiBzb21lIEFOWCBkb25nbGUgcmVhZCBv
dXQgdmFsdWUgMCwKKwkJCSAqIHJldHJ5IHN0YW5kYXJkIHJlZ2lzdGVyLgorCQkJICovCisJCQlp
ZiAoKCgqYncpID09IDApIHx8ICgoKmJ3KSA9PSAweGZmKSkKKwkJCQlzcF90eF9hdXhfZHBjZHJl
YWRfYnl0ZXMoY3R4LCAweDAwLCAweDAwLAorCQkJCQkJCSBEUENEX01BWF9MSU5LX1JBVEUsCisJ
CQkJCQkJIDEsIGJ3KTsKKwkJfQorCX0gZWxzZSB7CisJCXNwX3R4X2F1eF9kcGNkcmVhZF9ieXRl
cyhjdHgsIDB4MDAsIDB4MDAsCisJCQkJCSBEUENEX01BWF9MSU5LX1JBVEUsIDEsIGJ3KTsKKwl9
Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfZHBfc3RhcnQoc3RydWN0IGFueDc2MjVfZGF0YSAq
Y3R4KQoreworCWludCByZXQ7CisKKwlpZiAoIWN0eC0+ZGlzcGxheV90aW1pbmdfdmFsaWQpIHsK
KwkJRFJNX0VSUk9SKCJtaXBpIGRybSBoYXZlbid0IHNldCBkaXNwbGF5IHRpbWluZyB5ZXQuXG4i
KTsKKwkJcmV0dXJuOworCX0KKworCXJldCA9IGFueDc2MjVfY29uZmlnX2F1ZGlvX2lucHV0KGN0
eCk7CisJaWYgKHJldCA8IDApCisJCURSTV9FUlJPUigiY29uZmlnIGF1ZGlvIGlucHV0IGZhaWxl
ZC5cbiIpOworCisJaWYgKGN0eC0+cGRhdGEuZHNpX3N1cHBvcnRlZCkKKwkJcmV0ID0gYW54NzYy
NV9kc2lfY29uZmlnKGN0eCk7CisJZWxzZQorCQlyZXQgPSBhbng3NjI1X2RwaV9jb25maWcoY3R4
KTsKKworCWlmIChyZXQgPCAwKQorCQlEUk1fRVJST1IoIk1JUEkgcGh5IHNldHVwIGVycm9yLlxu
Iik7Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfZHBfc3RvcChzdHJ1Y3QgYW54NzYyNV9kYXRh
ICpjdHgpCit7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7CisJaW50
IHJldDsKKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgInN0b3AgZHAgb3V0cHV0XG4iKTsK
KworCS8qCisJICogdmlkZW8gZGlzYWJsZTogMHg3MjowOCBiaXQgNyA9IDA7CisJICogYXVkaW8g
ZGlzYWJsZTogMHg3MDo4NyBiaXQgMCA9IDA7CisJICovCisJcmV0ID0gYW54NzYyNV93cml0ZV9h
bmQoY3R4LCBjdHgtPmkyYy50eF9wMF9jbGllbnQsIDB4ODcsIDB4ZmUpOworCXJldCB8PSBhbng3
NjI1X3dyaXRlX2FuZChjdHgsIGN0eC0+aTJjLnR4X3AyX2NsaWVudCwgMHgwOCwgMHg3Zik7CisK
KwlyZXQgfD0gYW54NzYyNV92aWRlb19tdXRlX2NvbnRyb2woY3R4LCAxKTsKKwlpZiAocmV0IDwg
MCkKKwkJRFJNX0VSUk9SKCJJTyBlcnJvciA6IG11dGUgdmlkZW8gZmFpbGVkXG4iKTsKK30KKwor
c3RhdGljIGludCBzcF90eF9yc3RfYXV4KHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCkKK3sKKwlp
bnQgcmV0OworCisJcmV0ID0gYW54NzYyNV93cml0ZV9vcihjdHgsIGN0eC0+aTJjLnR4X3AyX2Ns
aWVudCwgUlNUX0NUUkwyLAorCQkJICAgICAgIEFVWF9SU1QpOworCXJldCB8PSBhbng3NjI1X3dy
aXRlX2FuZChjdHgsIGN0eC0+aTJjLnR4X3AyX2NsaWVudCwgUlNUX0NUUkwyLAorCQkJCSB+QVVY
X1JTVCk7CisJcmV0dXJuIHJldDsKK30KKworc3RhdGljIGludCBzcF90eF9hdXhfd3Ioc3RydWN0
IGFueDc2MjVfZGF0YSAqY3R4LCB1OCBvZmZzZXQpCit7CisJaW50IHJldDsKKworCXJldCA9IGFu
eDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LAorCQkJCUFQX0FVWF9C
VUZGX1NUQVJULCBvZmZzZXQpOworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+
aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkgQVBfQVVYX0NPTU1BTkQsIDB4MDQpOworCXJldCB8PSBh
bng3NjI1X3dyaXRlX29yKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LAorCQkJCUFQX0FVWF9D
VFJMX1NUQVRVUywgQVBfQVVYX0NUUkxfT1BfRU4pOworCXJldHVybiAocmV0IHwgd2FpdF9hdXhf
b3BfZmluaXNoKGN0eCkpOworfQorCitzdGF0aWMgaW50IHNwX3R4X2F1eF9yZChzdHJ1Y3QgYW54
NzYyNV9kYXRhICpjdHgsIHU4IGxlbl9jbWQpCit7CisJaW50IHJldDsKKworCXJldCA9IGFueDc2
MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LAorCQkJCUFQX0FVWF9DT01N
QU5ELCBsZW5fY21kKTsKKwlyZXQgfD0gYW54NzYyNV93cml0ZV9vcihjdHgsIGN0eC0+aTJjLnJ4
X3AwX2NsaWVudCwKKwkJCQlBUF9BVVhfQ1RSTF9TVEFUVVMsIEFQX0FVWF9DVFJMX09QX0VOKTsK
KwlyZXR1cm4gKHJldCB8IHdhaXRfYXV4X29wX2ZpbmlzaChjdHgpKTsKK30KKworc3RhdGljIGlu
dCBzcF90eF9nZXRfZWRpZF9ibG9jayhzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJaW50
IGMgPSAwOworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZjdHgtPmNsaWVudC0+ZGV2OworCisJc3Bf
dHhfYXV4X3dyKGN0eCwgMHg3ZSk7CisJc3BfdHhfYXV4X3JkKGN0eCwgMHgwMSk7CisJYyA9IGFu
eDc2MjVfcmVnX3JlYWQoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsIEFQX0FVWF9CVUZGX1NU
QVJUKTsKKwlpZiAoYyA8IDApIHsKKwkJRFJNX0VSUk9SKCJJTyBlcnJvciA6IGFjY2VzcyBBVVgg
QlVGRi5cbiIpOworCQlyZXR1cm4gLUVJTzsKKwl9CisKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihk
ZXYsICIgRURJRCBCbG9jayA9ICVkXG4iLCBjICsgMSk7CisKKwlpZiAoYyA+IDMpCisJCWMgPSAx
OworCisJcmV0dXJuIGM7Cit9CisKK3N0YXRpYyBpbnQgZWRpZF9yZWFkKHN0cnVjdCBhbng3NjI1
X2RhdGEgKmN0eCwKKwkJICAgICB1OCBvZmZzZXQsIHU4ICpwYmxvY2tfYnVmKQoreworCXU4IGMs
IGNudCA9IDA7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7CisKKwlj
ID0gMDsKKwlmb3IgKGNudCA9IDA7IGNudCA8IDM7IGNudCsrKSB7CisJCXNwX3R4X2F1eF93cihj
dHgsIG9mZnNldCk7CisJCS8qIHNldCBJMkMgcmVhZCBjb20gMHgwMSBtb3QgPSAwIGFuZCByZWFk
IDE2IGJ5dGVzICovCisJCWMgPSBzcF90eF9hdXhfcmQoY3R4LCAweGYxKTsKKworCQlpZiAoYyA9
PSAxKSB7CisJCQlzcF90eF9yc3RfYXV4KGN0eCk7CisJCQlEUk1fREVWX0RFQlVHX0RSSVZFUihk
ZXYsICJlZGlkIHJlYWQgZmFpbGVkLCByZXNldCFcbiIpOworCQkJY250Kys7CisJCX0gZWxzZSB7
CisJCQlhbng3NjI1X3JlZ19ibG9ja19yZWFkKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LAor
CQkJCQkgICAgICAgQVBfQVVYX0JVRkZfU1RBUlQsCisJCQkJCSAgICAgICBNQVhfRFBDRF9CVUZG
RVJfU0laRSwKKwkJCQkJICAgICAgIHBibG9ja19idWYpOworCQkJcmV0dXJuIDA7CisJCX0KKwl9
CisKKwlyZXR1cm4gMTsKK30KKworc3RhdGljIGludCBzZWdtZW50c19lZGlkX3JlYWQoc3RydWN0
IGFueDc2MjVfZGF0YSAqY3R4LAorCQkJICAgICAgdTggc2VnbWVudCwgdTggKmJ1ZiwgdTggb2Zm
c2V0KQoreworCXU4IGMsIGNudCA9IDA7CisJaW50IHJldDsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYg
PSAmY3R4LT5jbGllbnQtPmRldjsKKworCS8qIHdyaXRlIGFkZHJlc3Mgb25seSAqLworCXJldCA9
IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LAorCQkJCUFQX0FV
WF9BRERSXzdfMCwgMHgzMCk7CisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5p
MmMucnhfcDBfY2xpZW50LAorCQkJCSBBUF9BVVhfQ09NTUFORCwgMHgwNCk7CisJcmV0IHw9IGFu
eDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LAorCQkJCSBBUF9BVVhf
Q1RSTF9TVEFUVVMsCisJCQkJIEFQX0FVWF9DVFJMX0FERFJPTkxZIHwgQVBfQVVYX0NUUkxfT1Bf
RU4pOworCisJcmV0IHw9IHdhaXRfYXV4X29wX2ZpbmlzaChjdHgpOworCS8qIHdyaXRlIHNlZ21l
bnQgYWRkcmVzcyAqLworCXJldCB8PSBzcF90eF9hdXhfd3IoY3R4LCBzZWdtZW50KTsKKwkvKiBk
YXRhIHJlYWQgKi8KKwlyZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9w
MF9jbGllbnQsCisJCQkJIEFQX0FVWF9BRERSXzdfMCwgMHg1MCk7CisJaWYgKHJldCA8IDApIHsK
KwkJRFJNX0VSUk9SKCJJTyBlcnJvciA6IGF1eCBpbml0aWFsIGZhaWxlZC5cbiIpOworCQlyZXR1
cm4gcmV0OworCX0KKworCWZvciAoY250ID0gMDsgY250IDwgMzsgY250KyspIHsKKwkJc3BfdHhf
YXV4X3dyKGN0eCwgb2Zmc2V0KTsKKwkJLyogc2V0IEkyQyByZWFkIGNvbSAweDAxIG1vdCA9IDAg
YW5kIHJlYWQgMTYgYnl0ZXMgKi8KKwkJYyA9IHNwX3R4X2F1eF9yZChjdHgsIDB4ZjEpOworCisJ
CWlmIChjID09IDEpIHsKKwkJCXJldCA9IHNwX3R4X3JzdF9hdXgoY3R4KTsKKwkJCURSTV9ERVZf
RVJST1IoZGV2LCAic2VnbWVudCByZWFkIGZhaWxlZCwgcmVzZXQhXG4iKTsKKwkJCWNudCsrOwor
CQl9IGVsc2UgeworCQkJcmV0ID0gYW54NzYyNV9yZWdfYmxvY2tfcmVhZChjdHgsIGN0eC0+aTJj
LnJ4X3AwX2NsaWVudCwKKwkJCQkJCSAgICAgQVBfQVVYX0JVRkZfU1RBUlQsCisJCQkJCQkgICAg
IE1BWF9EUENEX0JVRkZFUl9TSVpFLCBidWYpOworCQkJcmV0dXJuIHJldDsKKwkJfQorCX0KKwor
CXJldHVybiByZXQ7Cit9CisKK3N0YXRpYyBpbnQgc3BfdHhfZWRpZF9yZWFkKHN0cnVjdCBhbng3
NjI1X2RhdGEgKmN0eCwKKwkJCSAgIHU4ICpwZWRpZF9ibG9ja3NfYnVmKQoreworCXU4IG9mZnNl
dCwgZWRpZF9wb3M7CisJaW50IGNvdW50LCBibG9ja3NfbnVtOworCXU4IHBibG9ja19idWZbTUFY
X0RQQ0RfQlVGRkVSX1NJWkVdOworCXU4IGksIGo7CisJdTggZ19lZGlkX2JyZWFrID0gMDsKKwlp
bnQgcmV0OworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZjdHgtPmNsaWVudC0+ZGV2OworCisJLyog
YWRkcmVzcyBpbml0aWFsICovCisJcmV0ID0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmky
Yy5yeF9wMF9jbGllbnQsCisJCQkJQVBfQVVYX0FERFJfN18wLCAweDUwKTsKKwlyZXQgfD0gYW54
NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsCisJCQkJIEFQX0FVWF9B
RERSXzE1XzgsIDApOworCXJldCB8PSBhbng3NjI1X3dyaXRlX2FuZChjdHgsIGN0eC0+aTJjLnJ4
X3AwX2NsaWVudCwKKwkJCQkgQVBfQVVYX0FERFJfMTlfMTYsIDB4ZjApOworCWlmIChyZXQgPCAw
KSB7CisJCURSTV9FUlJPUigiYWNjZXNzIGF1eCBjaGFubmVsIElPIGVycm9yLlxuIik7CisJCXJl
dHVybiAtRUlPOworCX0KKworCWJsb2Nrc19udW0gPSBzcF90eF9nZXRfZWRpZF9ibG9jayhjdHgp
OworCWlmIChibG9ja3NfbnVtIDwgMCkKKwkJcmV0dXJuIGJsb2Nrc19udW07CisKKwljb3VudCA9
IDA7CisKKwlkbyB7CisJCXN3aXRjaCAoY291bnQpIHsKKwkJY2FzZSAwOgorCQljYXNlIDE6CisJ
CQlmb3IgKGkgPSAwOyBpIDwgODsgaSsrKSB7CisJCQkJb2Zmc2V0ID0gKGkgKyBjb3VudCAqIDgp
ICogTUFYX0RQQ0RfQlVGRkVSX1NJWkU7CisJCQkJZ19lZGlkX2JyZWFrID0gZWRpZF9yZWFkKGN0
eCwgb2Zmc2V0LAorCQkJCQkJCSBwYmxvY2tfYnVmKTsKKworCQkJCWlmIChnX2VkaWRfYnJlYWsg
PT0gMSkKKwkJCQkJYnJlYWs7CisKKwkJCQltZW1jcHkoJnBlZGlkX2Jsb2Nrc19idWZbb2Zmc2V0
XSwKKwkJCQkgICAgICAgcGJsb2NrX2J1ZiwKKwkJCQkgICAgICAgTUFYX0RQQ0RfQlVGRkVSX1NJ
WkUpOworCQkJfQorCisJCQlicmVhazsKKwkJY2FzZSAyOgorCQkJb2Zmc2V0ID0gMHgwMDsKKwor
CQkJZm9yIChqID0gMDsgaiA8IDg7IGorKykgeworCQkJCWVkaWRfcG9zID0gKGogKyBjb3VudCAq
IDgpICoKKwkJCQkJTUFYX0RQQ0RfQlVGRkVSX1NJWkU7CisKKwkJCQlpZiAoZ19lZGlkX2JyZWFr
ID09IDEpCisJCQkJCWJyZWFrOworCisJCQkJc2VnbWVudHNfZWRpZF9yZWFkKGN0eCwgY291bnQg
LyAyLAorCQkJCQkJICAgcGJsb2NrX2J1Ziwgb2Zmc2V0KTsKKwkJCQltZW1jcHkoJnBlZGlkX2Js
b2Nrc19idWZbZWRpZF9wb3NdLAorCQkJCSAgICAgICBwYmxvY2tfYnVmLAorCQkJCSAgICAgICBN
QVhfRFBDRF9CVUZGRVJfU0laRSk7CisJCQkJb2Zmc2V0ID0gb2Zmc2V0ICsgMHgxMDsKKwkJCX0K
KworCQkJYnJlYWs7CisJCWNhc2UgMzoKKwkJCW9mZnNldCA9IDB4ODA7CisKKwkJCWZvciAoaiA9
IDA7IGogPCA4OyBqKyspIHsKKwkJCQllZGlkX3BvcyA9IChqICsgY291bnQgKiA4KSAqCisJCQkJ
CU1BWF9EUENEX0JVRkZFUl9TSVpFOworCQkJCWlmIChnX2VkaWRfYnJlYWsgPT0gMSkKKwkJCQkJ
YnJlYWs7CisKKwkJCQlzZWdtZW50c19lZGlkX3JlYWQoY3R4LCBjb3VudCAvIDIsCisJCQkJCQkg
ICBwYmxvY2tfYnVmLCBvZmZzZXQpOworCQkJCW1lbWNweSgmcGVkaWRfYmxvY2tzX2J1ZltlZGlk
X3Bvc10sCisJCQkJICAgICAgIHBibG9ja19idWYsCisJCQkJICAgICAgIE1BWF9EUENEX0JVRkZF
Ul9TSVpFKTsKKwkJCQlvZmZzZXQgPSBvZmZzZXQgKyAweDEwOworCQkJfQorCisJCQlicmVhazsK
KwkJZGVmYXVsdDoKKwkJCWJyZWFrOworCQl9CisKKwkJY291bnQrKzsKKworCX0gd2hpbGUgKGJs
b2Nrc19udW0gPj0gY291bnQpOworCisJLyogY2hlY2sgZWRpZCBkYXRhICovCisJaWYgKGRybV9l
ZGlkX2lzX3ZhbGlkKChzdHJ1Y3QgZWRpZCAqKXBlZGlkX2Jsb2Nrc19idWYpID09IGZhbHNlKQor
CQlEUk1fREVWX0VSUk9SKGRldiwgIldBUk5JTkchIGVkaWQgY2hlY2sgZmFpbGVkIVxuIik7CisK
KwkvKiByZXNldCBhdXggY2hhbm5lbCAqLworCXNwX3R4X3JzdF9hdXgoY3R4KTsKKworCXJldHVy
biBibG9ja3NfbnVtOworfQorCitzdGF0aWMgdm9pZCBhbng3NjI1X3Bvd2VyX29uKHN0cnVjdCBh
bng3NjI1X2RhdGEgKmN0eCkKK3sKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQt
PmRldjsKKworCWlmIChjdHgtPnBkYXRhLmxvd19wb3dlcl9tb2RlKSB7CisJCS8qIHBvd2VyIG9u
IHBpbiBlbmFibGUgKi8KKwkJZ3Bpb19zZXRfdmFsdWUoY3R4LT5wZGF0YS5ncGlvX3Bfb24sIDEp
OworCQl1c2xlZXBfcmFuZ2UoMTAwMDAsIDExMDAwKTsKKwkJLyogcG93ZXIgcmVzZXQgcGluIGVu
YWJsZSAqLworCQlncGlvX3NldF92YWx1ZShjdHgtPnBkYXRhLmdwaW9fcmVzZXQsIDEpOworCQl1
c2xlZXBfcmFuZ2UoMTAwMDAsIDExMDAwKTsKKworCQlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYs
ICJBbng3NjI1IHBvd2VyIG9uICFcbiIpOworCX0gZWxzZSB7CisJCURSTV9ERVZfREVCVUdfRFJJ
VkVSKGRldiwgIkFueDc2MjUgbm90IGxvdyBwb3dlciBtb2RlIVxuIik7CisJfQorfQorCitzdGF0
aWMgdm9pZCBhbng3NjI1X3Bvd2VyX3N0YW5kYnkoc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4KQor
eworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZjdHgtPmNsaWVudC0+ZGV2OworCisJaWYgKGN0eC0+
cGRhdGEubG93X3Bvd2VyX21vZGUpIHsKKwkJZ3Bpb19zZXRfdmFsdWUoY3R4LT5wZGF0YS5ncGlv
X3Jlc2V0LCAwKTsKKwkJdXNsZWVwX3JhbmdlKDEwMDAsIDExMDApOworCQlncGlvX3NldF92YWx1
ZShjdHgtPnBkYXRhLmdwaW9fcF9vbiwgMCk7CisJCXVzbGVlcF9yYW5nZSgxMDAwLCAxMTAwKTsK
KwkJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiYW54NzYyNSBwb3dlciBkb3duXG4iKTsKKwl9
IGVsc2UgeworCQlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJhbng3NjI1IG5vdCBsb3cgcG93
ZXIgbW9kZSFcbiIpOworCX0KK30KKworLyogYmFzaWMgY29uZmlndXJhdGlvbnMgb2YgQU5YNzYy
NSAqLworc3RhdGljIHZvaWQgYW54NzYyNV9jb25maWcoc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4
KQoreworCWFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LAorCQkJ
ICBYVEFMX0ZSUV9TRUwsIFhUQUxfRlJRXzI3TSk7Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVf
ZGlzYWJsZV9wZF9wcm90b2NvbChzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJc3RydWN0
IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7CisJaW50IHJldDsKKworCS8qIHJlc2V0
IG1haW4gb2NtICovCisJcmV0ID0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9w
MF9jbGllbnQsIDB4ODgsIDB4NDApOworCS8qIERpc2FibGUgUEQgKi8KKwlyZXQgfD0gYW54NzYy
NV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsCisJCQkJIEFQX0FWX1NUQVRV
UywgQVBfRElTQUJMRV9QRCk7CisJLyogcmVsZWFzZSBtYWluIG9jbSAqLworCXJldCB8PSBhbng3
NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwgMHg4OCwgMHgwMCk7CisK
KwlpZiAocmV0IDwgMCkKKwkJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiZGlzYWJsZSBQRCBm
ZWF0dXJlIGZhaWxlZC5cbiIpOworCWVsc2UKKwkJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAi
ZGlzYWJsZSBQRCBmZWF0dXJlIHN1Y2NlZWRlZC5cbiIpOworfQorCitzdGF0aWMgdm9pZCBhbng3
NjI1X3Bvd2VyX29uX2luaXQoc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4KQoreworCWludCByZXRy
eV9jb3VudCwgaTsKKwlpbnQgcmV0ID0gMDsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5j
bGllbnQtPmRldjsKKworCWZvciAocmV0cnlfY291bnQgPSAwOyByZXRyeV9jb3VudCA8IDM7IHJl
dHJ5X2NvdW50KyspIHsKKwkJYW54NzYyNV9wb3dlcl9vbihjdHgpOworCQlhbng3NjI1X2NvbmZp
ZyhjdHgpOworCisJCWZvciAoaSA9IDA7IGkgPCBPQ01fTE9BRElOR19USU1FOyBpKyspIHsKKwkJ
CS8qIGNoZWNrIGludGVyZmFjZSB3b3JrYWJsZSAqLworCQkJcmV0ID0gYW54NzYyNV9yZWdfcmVh
ZChjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkJICAgICAgIEZMQVNIX0xPQURfU1RB
KTsKKwkJCWlmIChyZXQgPCAwKSB7CisJCQkJRFJNX0VSUk9SKCJJTyBlcnJvciA6IGFjY2VzcyBm
bGFzaCBsb2FkLlxuIik7CisJCQkJcmV0dXJuOworCQkJfQorCQkJaWYgKChyZXQgJiBGTEFTSF9M
T0FEX1NUQV9DSEspID09IEZMQVNIX0xPQURfU1RBX0NISykgeworCQkJCWFueDc2MjVfZGlzYWJs
ZV9wZF9wcm90b2NvbChjdHgpOworCQkJCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwKKwkJCQkJ
CSAgICAgIkZpcm13YXJlIHZlciAlMDJ4JTAyeCwiLAorCQkJCQlhbng3NjI1X3JlZ19yZWFkKGN0
eCwKKwkJCQkJCQkgY3R4LT5pMmMucnhfcDBfY2xpZW50LAorCQkJCQkJCSBPQ01fRldfVkVSU0lP
TiksCisJCQkJCWFueDc2MjVfcmVnX3JlYWQoY3R4LAorCQkJCQkJCSBjdHgtPmkyYy5yeF9wMF9j
bGllbnQsCisJCQkJCQkJIE9DTV9GV19SRVZFUlNJT04pKTsKKwkJCQlEUk1fREVWX0RFQlVHX0RS
SVZFUihkZXYsICJEcml2ZXIgdmVyc2lvbiAlc1xuIiwKKwkJCQkJCSAgICAgQU5YNzYyNV9EUlZf
VkVSU0lPTik7CisKKwkJCQlyZXR1cm47CisJCQl9CisJCQl1c2xlZXBfcmFuZ2UoMTAwMCwgMTEw
MCk7CisJCX0KKwkJYW54NzYyNV9wb3dlcl9zdGFuZGJ5KGN0eCk7CisJfQorfQorCitzdGF0aWMg
aW50IGFueDc2MjVfZXh0Y29uX25vdGlmaWVyKHN0cnVjdCBub3RpZmllcl9ibG9jayAqbmIsCisJ
CQkJICAgdW5zaWduZWQgbG9uZyBldmVudCwgdm9pZCAqcHRyKQoreworCXN0cnVjdCBhbng3NjI1
X2RhdGEgKmN0eCA9CisJCWNvbnRhaW5lcl9vZihuYiwgc3RydWN0IGFueDc2MjVfZGF0YSwgZXZl
bnRfbmIpOworCisJc2NoZWR1bGVfd29yaygmY3R4LT5leHRjb25fd3EpOworCXJldHVybiBOT1RJ
RllfRE9ORTsKK30KKworc3RhdGljIHZvaWQgYW54NzYyNV9jaGlwX2NvbnRyb2woc3RydWN0IGFu
eDc2MjVfZGF0YSAqY3R4KQoreworCWludCBzdGF0ZSA9IGV4dGNvbl9nZXRfc3RhdGUoY3R4LT5l
eHRjb24sIEVYVENPTl9ESVNQX0RQKTsKKworCWlmIChjdHgtPnBkYXRhLmxvd19wb3dlcl9tb2Rl
KSB7CisJCWlmIChzdGF0ZSA+IDApIHsKKwkJCWlmIChhdG9taWNfcmVhZCgmY3R4LT5wb3dlcl9z
dGF0dXMpID09IDApIHsKKwkJCQlhbng3NjI1X3Bvd2VyX29uX2luaXQoY3R4KTsKKwkJCQlhdG9t
aWNfc2V0KCZjdHgtPnBvd2VyX3N0YXR1cywgMSk7CisJCQl9CisJCX0gZWxzZSB7CisJCQlpZiAo
YXRvbWljX3JlYWQoJmN0eC0+cG93ZXJfc3RhdHVzKSA9PSAxKSB7CisJCQkJYW54NzYyNV9wb3dl
cl9zdGFuZGJ5KGN0eCk7CisJCQkJYXRvbWljX3NldCgmY3R4LT5wb3dlcl9zdGF0dXMsIDApOwor
CQkJfQorCQl9CisJfQorfQorCitzdGF0aWMgdm9pZCBhbng3NjI1X2V4dGNvbl93b3JrKHN0cnVj
dCB3b3JrX3N0cnVjdCAqd29yaykKK3sKKwlzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHggPQorCQlj
b250YWluZXJfb2Yod29yaywgc3RydWN0IGFueDc2MjVfZGF0YSwgZXh0Y29uX3dxKTsKKworCW11
dGV4X2xvY2soJmN0eC0+bG9jayk7CisJYW54NzYyNV9jaGlwX2NvbnRyb2woY3R4KTsKKwltdXRl
eF91bmxvY2soJmN0eC0+bG9jayk7Cit9CisKK3N0YXRpYyBpbnQgYW54NzYyNV9leHRjb25fbm90
aWZpZXJfaW5pdChzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJaW50IHJldDsKKwlzdHJ1
Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKworCWN0eC0+ZXZlbnRfbmIubm90
aWZpZXJfY2FsbCA9IGFueDc2MjVfZXh0Y29uX25vdGlmaWVyOworCUlOSVRfV09SSygmY3R4LT5l
eHRjb25fd3EsIGFueDc2MjVfZXh0Y29uX3dvcmspOworCXJldCA9IGRldm1fZXh0Y29uX3JlZ2lz
dGVyX25vdGlmaWVyKCZjdHgtPmNsaWVudC0+ZGV2LCBjdHgtPmV4dGNvbiwKKwkJCQkJICAgIEVY
VENPTl9ESVNQX0RQLCAmY3R4LT5ldmVudF9uYik7CisJaWYgKHJldCkgeworCQlEUk1fREVWX0VS
Uk9SKGRldiwgImZhaWxlZCB0byByZWdpc3RlciBub3RpZmllciBmb3IgRFAiKTsKKwkJcmV0dXJu
IHJldDsKKwl9CisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfZnJlZV9ncGlv
KHN0cnVjdCBhbng3NjI1X2RhdGEgKnBsYXRmb3JtKQoreworCWlmIChwbGF0Zm9ybS0+cGRhdGEu
Z3Bpb19pbnRyX2hwZCkKKwkJZ3Bpb19mcmVlKHBsYXRmb3JtLT5wZGF0YS5ncGlvX2ludHJfaHBk
KTsKKworCWlmIChwbGF0Zm9ybS0+cGRhdGEubG93X3Bvd2VyX21vZGUpIHsKKwkJZ3Bpb19mcmVl
KHBsYXRmb3JtLT5wZGF0YS5ncGlvX3Jlc2V0KTsKKwkJZ3Bpb19mcmVlKHBsYXRmb3JtLT5wZGF0
YS5ncGlvX3Bfb24pOworCX0KK30KKworc3RhdGljIGludCBhbng3NjI1X2luaXRfZ3BpbyhzdHJ1
Y3QgYW54NzYyNV9kYXRhICpwbGF0Zm9ybSkKK3sKKwlpbnQgcmV0ID0gMDsKKwlzdHJ1Y3QgZGV2
aWNlICpkZXYgPSAmcGxhdGZvcm0tPmNsaWVudC0+ZGV2OworCisJRFJNX0RFVl9ERUJVR19EUklW
RVIoZGV2LCAiYW54NzYyNSBpbml0IGdwaW9cbiIpOworCisJaWYgKHBsYXRmb3JtLT5wZGF0YS5s
b3dfcG93ZXJfbW9kZSkgeworCQkvKiBncGlvIGZvciBjaGlwIHBvd2VyIGRvd24gKi8KKwkJcmV0
ID0gZ3Bpb19yZXF1ZXN0KHBsYXRmb3JtLT5wZGF0YS5ncGlvX3Bfb24sCisJCQkJICAgImFueDc2
MjVfcF9vbl9jdGwiKTsKKwkJaWYgKHJldCkgeworCQkJRFJNX0RFVl9FUlJPUihkZXYsICJmYWls
ZWQgdG8gcmVxdWVzdCBncGlvICVkXG4iLAorCQkJCSAgICAgIHBsYXRmb3JtLT5wZGF0YS5ncGlv
X3Bfb24pOworCQkJZ290byBlcnIwOworCQl9CisJCS8qIGdwaW8gZm9yIGNoaXAgcmVzZXQgKi8K
KwkJcmV0ID0gZ3Bpb19yZXF1ZXN0KHBsYXRmb3JtLT5wZGF0YS5ncGlvX3Jlc2V0LAorCQkJCSAg
ICJhbng3NjI1X3Jlc2V0X24iKTsKKwkJaWYgKHJldCkgeworCQkJRFJNX0RFVl9FUlJPUihkZXYs
ICJmYWlsZWQgdG8gcmVxdWVzdCBncGlvICVkXG4iLAorCQkJCSAgICAgIHBsYXRmb3JtLT5wZGF0
YS5ncGlvX3Jlc2V0KTsKKwkJCWdvdG8gZXJyMTsKKwkJfQorCX0KKworCWlmIChwbGF0Zm9ybS0+
cGRhdGEuZ3Bpb19pbnRyX2hwZCkgeworCQkvKiBncGlvIGZvciBjaGlwIGludGVyZmFjZSBjb21t
dW5hY3Rpb24gKi8KKwkJcmV0ID0gZ3Bpb19yZXF1ZXN0KHBsYXRmb3JtLT5wZGF0YS5ncGlvX2lu
dHJfaHBkLAorCQkJCSAgICJhbng3NjI1X2hwZCIpOworCQlpZiAocmV0KSB7CisJCQlEUk1fREVW
X0VSUk9SKGRldiwgImZhaWxlZCB0byByZXF1ZXN0IGdwaW8gJWRcbiIsCisJCQkJICAgICAgcGxh
dGZvcm0tPnBkYXRhLmdwaW9faW50cl9ocGQpOworCQkJZ290byBlcnIyOworCQl9CisJfQorCisJ
Z290byBvdXQ7CisKK2VycjI6CisJaWYgKHBsYXRmb3JtLT5wZGF0YS5ncGlvX2ludHJfaHBkKQor
CQlncGlvX2ZyZWUocGxhdGZvcm0tPnBkYXRhLmdwaW9faW50cl9ocGQpOworZXJyMToKKwlpZiAo
cGxhdGZvcm0tPnBkYXRhLmxvd19wb3dlcl9tb2RlKQorCQlncGlvX2ZyZWUocGxhdGZvcm0tPnBk
YXRhLmdwaW9fcmVzZXQpOworZXJyMDoKKwlpZiAocGxhdGZvcm0tPnBkYXRhLmxvd19wb3dlcl9t
b2RlKQorCQlncGlvX2ZyZWUocGxhdGZvcm0tPnBkYXRhLmdwaW9fcF9vbik7CisKKwlyZXR1cm4g
MTsKK291dDoKKworCXJldHVybiAwOworfQorCitzdGF0aWMgdm9pZCBhbng3NjI1X3N0b3BfZHBf
d29yayhzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJY3R4LT5ocGRfc3RhdHVzID0gMDsK
KwljdHgtPmhwZF9oaWdoX2NudCA9IDA7CisJY3R4LT5kaXNwbGF5X3RpbWluZ192YWxpZCA9IDA7
CisKKwlrZnJlZShjdHgtPnNsaW1wb3J0X2VkaWRfcCk7CisJY3R4LT5zbGltcG9ydF9lZGlkX3Ag
PSBOVUxMOworCisJaWYgKGN0eC0+cGRhdGEubG93X3Bvd2VyX21vZGUgPT0gMCkKKwkJYW54NzYy
NV9kaXNhYmxlX3BkX3Byb3RvY29sKGN0eCk7Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfc3Rh
cnRfZHBfd29yayhzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJaW50IHJldDsKKwl1OCBi
dWZbTUFYX0RQQ0RfQlVGRkVSX1NJWkVdOworCXU4IGhkY3BfY2FwOworCXN0cnVjdCBkZXZpY2Ug
KmRldiA9ICZjdHgtPmNsaWVudC0+ZGV2OworCisJdTggc3BfdHhfYnc7IC8qIGxpbmt0cmFpbmlu
ZyBiYW53aWR0aCAqLworCXU4IHNwX3R4X2xhbmVfY291bnQ7IC8qIGxpbmsgdHJhaW5pbmcgbGFu
ZSBjb3VudCAqLworCisJaWYgKGN0eC0+aHBkX2hpZ2hfY250ID49IDIpIHsKKwkJRFJNX0RFVl9E
RUJVR19EUklWRVIoZGV2LCAiYW54NzYyNSBmaWx0ZXIgdXNlbGVzcyBIUERcbiIpOworCQlyZXR1
cm47CisJfQorCisJY3R4LT5ocGRfaGlnaF9jbnQrKzsKKworCXNwX3R4X2dldF9yeF9idyhjdHgs
ICZzcF90eF9idyk7CisKKwlzcF90eF9hdXhfZHBjZHJlYWRfYnl0ZXMoY3R4LCAweDAwLCAweDAw
LCBEUENEX01BWF9MQU5FX0NPVU5ULAorCQkJCSAxLCAmc3BfdHhfbGFuZV9jb3VudCk7CisKKwlz
cF90eF9sYW5lX2NvdW50ID0gc3BfdHhfbGFuZV9jb3VudCAmIDB4MWY7CisJc3BfdHhfYXV4X2Rw
Y2RyZWFkX2J5dGVzKGN0eCwgMHgwNiwgMHg4MCwgMHgyOCwgMSwgYnVmKTsvKiByZWFkIEJjYXAg
Ki8KKworCWhkY3BfY2FwID0gYnVmWzBdICYgMHgwMTsKKworCS8qIG5vdCBzdXBwb3J0IEhEQ1Ag
Ki8KKwlyZXQgPSBhbng3NjI1X3dyaXRlX2FuZChjdHgsIGN0eC0+aTJjLnJ4X3AxX2NsaWVudCwg
MHhlZSwgMHg5Zik7CisKKwlpZiAoaGRjcF9jYXAgPT0gMHgwMSkKKwkJRFJNX0RFVl9ERUJVR19E
UklWRVIoZGV2LCAiSERDUDEuNFxuIik7CisKKwkvKiB0cnkgYXV0aCBmbGFnICovCisJcmV0IHw9
IGFueDc2MjVfd3JpdGVfb3IoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsIDB4ZWMsIDB4MTAp
OworCS8qIGludGVycnVwdCBmb3IgRFJNICovCisJcmV0IHw9IGFueDc2MjVfd3JpdGVfb3IoY3R4
LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsIDB4ZmYsIDB4MDEpOworCWlmIChyZXQgPCAwKQorCQly
ZXR1cm47CisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiTUFYIEJXPSUwMngsIE1BWCBMYW5l
IGNudD0lMDJ4LCBIRENQPSUwMnhcbiIsCisJCQkgICAgICh1MzIpc3BfdHhfYncsCisJCQkgICAg
ICh1MzIpc3BfdHhfbGFuZV9jb3VudCwKKwkJCSAgICAgKHUzMiloZGNwX2NhcCk7CisKKwlyZXQg
PSBhbng3NjI1X3JlZ19yZWFkKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LCAweDg2KTsKKwlp
ZiAocmV0IDwgMCkKKwkJcmV0dXJuOworCisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiU2Vj
dXJlIE9DTSB2ZXJzaW9uPSUwMnhcbiIsIHJldCk7Cit9CisKK3N0YXRpYyB2b2lkIGRwX2hwZF9j
aGFuZ2VfaGFuZGxlcihzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgsIGJvb2wgb24pCit7CisJc3Ry
dWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7CisKKwkvKiBocGQgY2hhbmdlZCAq
LworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImRwX2hwZF9jaGFuZ2VfZGVmYXVsdF9mdW5j
OiAlZFxuIiwKKwkJCSAgICAgKHUzMilvbik7CisKKwlpZiAob24gPT0gMCkgeworCQlEUk1fREVW
X0RFQlVHX0RSSVZFUihkZXYsICIgSFBEIGxvd1xuIik7CisJCWFueDc2MjVfc3RvcF9kcF93b3Jr
KGN0eCk7CisJfSBlbHNlIHsKKwkJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiIEhQRCBoaWdo
XG4iKTsKKwkJYW54NzYyNV9zdGFydF9kcF93b3JrKGN0eCk7CisJfQorCisJY3R4LT5ocGRfc3Rh
dHVzID0gb247Cit9CisKK3N0YXRpYyBpbnQgYW54NzYyNV9ocGRfY2hhbmdlX2RldGVjdChzdHJ1
Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJaW50IGludHJfdmVjdG9yLCBzdGF0dXM7CisJc3Ry
dWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7CisKKwlEUk1fREVWX0RFQlVHX0RS
SVZFUihkZXYsICJwb3dlcl9zdGF0dXM9JWRcbiIsCisJCQkgICAgICh1MzIpYXRvbWljX3JlYWQo
JmN0eC0+cG93ZXJfc3RhdHVzKSk7CisKKwlzdGF0dXMgPSBhbng3NjI1X3JlZ193cml0ZShjdHgs
IGN0eC0+aTJjLnRjcGNfY2xpZW50LAorCQkJCSAgIElOVFJfQUxFUlRfMSwgMHhGRik7CisJaWYg
KHN0YXR1cyA8IDApIHsKKwkJRFJNX0VSUk9SKCJJTyBlcnJvciA6IGNsZWFyIGFsZXJ0IHJlZ2lz
dGVyLlxuIik7CisJCXJldHVybiBzdGF0dXM7CisJfQorCisJaW50cl92ZWN0b3IgPSBhbng3NjI1
X3JlZ19yZWFkKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LAorCQkJCSAgICAgICBJTlRFUkZB
Q0VfQ0hBTkdFX0lOVCk7CisJaWYgKGludHJfdmVjdG9yIDwgMCkgeworCQlEUk1fRVJST1IoIklP
IGVycm9yIDogYWNjZXNzIGludGVycnVwdCBjaGFuZ2UgcmVnaXN0ZXIuXG4iKTsKKwkJcmV0dXJu
IGludHJfdmVjdG9yOworCX0KKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICIweDdlOjB4NDQ9
JXhcbiIsIGludHJfdmVjdG9yKTsKKwlzdGF0dXMgPSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0
eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkgICBJTlRFUkZBQ0VfQ0hBTkdFX0lOVCwKKwkJCQkg
ICBpbnRyX3ZlY3RvciAmICh+aW50cl92ZWN0b3IpKTsKKwlpZiAoc3RhdHVzIDwgMCkgeworCQlE
Uk1fRVJST1IoIklPIGVycm9yIDogY2xlYXIgaW50ZXJydXB0IGNoYW5nZSByZWdpc3Rlci5cbiIp
OworCQlyZXR1cm4gc3RhdHVzOworCX0KKworCWlmIChpbnRyX3ZlY3RvciAmIEhQRF9TVEFUVVNf
Q0hBTkdFKSB7CisJCXN0YXR1cyA9IGFueDc2MjVfcmVnX3JlYWQoY3R4LCBjdHgtPmkyYy5yeF9w
MF9jbGllbnQsCisJCQkJCSAgU1lTVEVNX1NUU1RVUyk7CisJCWlmIChzdGF0dXMgPCAwKSB7CisJ
CQlEUk1fRVJST1IoIklPIGVycm9yIDogY2xlYXIgaW50ZXJydXB0IHN0YXR1cy5cbiIpOworCQkJ
cmV0dXJuIHN0YXR1czsKKwkJfQorCisJCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgIjB4N2U6
MHg0NT0leFxuIiwgc3RhdHVzKTsKKwkJZHBfaHBkX2NoYW5nZV9oYW5kbGVyKGN0eCwgc3RhdHVz
ICYgSFBEX1NUQVRVUyk7CisJCXJldHVybiAxOworCX0KKworCXJldHVybiAwOworfQorCitzdGF0
aWMgdm9pZCBhbng3NjI1X3dvcmtfZnVuYyhzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspCit7CisJ
aW50IGV2ZW50OworCXN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCA9IGNvbnRhaW5lcl9vZih3b3Jr
LAorCQkJCQkJc3RydWN0IGFueDc2MjVfZGF0YSwgd29yayk7CisKKwltdXRleF9sb2NrKCZjdHgt
PmxvY2spOworCWV2ZW50ID0gYW54NzYyNV9ocGRfY2hhbmdlX2RldGVjdChjdHgpOworCW11dGV4
X3VubG9jaygmY3R4LT5sb2NrKTsKKworCWlmIChldmVudCA8IDApCisJCXJldHVybjsKKworCWlm
IChldmVudCAmJiBjdHgtPmJyaWRnZV9hdHRhY2hlZCkKKwkJZHJtX2hlbHBlcl9ocGRfaXJxX2V2
ZW50KGN0eC0+Y29ubmVjdG9yLmRldik7Cit9CisKK3N0YXRpYyBpcnFyZXR1cm5fdCBhbng3NjI1
X2ludHJfaHBkX2lzcihpbnQgaXJxLCB2b2lkICpkYXRhKQoreworCXN0cnVjdCBhbng3NjI1X2Rh
dGEgKmN0eCA9IChzdHJ1Y3QgYW54NzYyNV9kYXRhICopZGF0YTsKKworCWlmIChhdG9taWNfcmVh
ZCgmY3R4LT5wb3dlcl9zdGF0dXMpICE9IDEpCisJCXJldHVybiBJUlFfTk9ORTsKKworCXF1ZXVl
X3dvcmsoY3R4LT53b3JrcXVldWUsICZjdHgtPndvcmspOworCisJcmV0dXJuIElSUV9IQU5ETEVE
OworfQorCisjaWZkZWYgQ09ORklHX09GCitzdGF0aWMgaW50IGFueDc2MjVfcGFyc2VfZHQoc3Ry
dWN0IGRldmljZSAqZGV2LAorCQkJICAgIHN0cnVjdCBhbng3NjI1X3BsYXRmb3JtX2RhdGEgKnBk
YXRhKQoreworCWludCByZXQ7CisJc3RydWN0IGRldmljZV9ub2RlICpucCA9IGRldi0+b2Zfbm9k
ZTsKKworCXJldCA9IG9mX3Byb3BlcnR5X3JlYWRfdTMyKGRldi0+b2Zfbm9kZSwgImxvdy1wb3dl
ci1tb2RlIiwKKwkJCQkgICAmcGRhdGEtPmxvd19wb3dlcl9tb2RlKTsKKwlpZiAocmV0KQorCQlw
ZGF0YS0+bG93X3Bvd2VyX21vZGUgPSAxOyAvKiBkZWZhdWx0IGxvdyBwb3dlciBtb2RlICovCisK
KwlyZXQgPSBvZl9wcm9wZXJ0eV9yZWFkX3UzMihkZXYtPm9mX25vZGUsICJkc2ktc3VwcG9ydGVk
IiwKKwkJCQkgICAmcGRhdGEtPmRzaV9zdXBwb3J0ZWQpOworCWlmIChyZXQpCisJCXBkYXRhLT5k
c2lfc3VwcG9ydGVkID0gMTsgLyogZGVmYXVsdCBkc2kgbW9kZSAqLworCisJcmV0ID0gb2ZfcHJv
cGVydHlfcmVhZF91MzIoZGV2LT5vZl9ub2RlLCAiZXh0Y29uLXN1cHBvcnRlZCIsCisJCQkJICAg
JnBkYXRhLT5leHRjb25fc3VwcG9ydGVkKTsKKwlpZiAocmV0KQorCQlwZGF0YS0+ZXh0Y29uX3N1
cHBvcnRlZCA9IDA7CisKKwlyZXQgPSBvZl9wcm9wZXJ0eV9yZWFkX3UzMihkZXYtPm9mX25vZGUs
ICJpbnRlcm5hbC1wYW5uZWwtc3VwcG9ydGVkIiwKKwkJCQkgICAmcGRhdGEtPmludGVybmFsX3Bh
bm5lbCk7CisJaWYgKHJldCkKKwkJcGRhdGEtPmludGVybmFsX3Bhbm5lbCA9IDA7CisKKwlvZl9w
cm9wZXJ0eV9yZWFkX3UzMihkZXYtPm9mX25vZGUsICJkc2ktY2hhbm5lbC1pZCIsCisJCQkgICAg
ICZwZGF0YS0+ZHNpX2NoYW5uZWwpOworCisJb2ZfcHJvcGVydHlfcmVhZF91MzIoZGV2LT5vZl9u
b2RlLCAiZHNpLWxhbmVzLW51bSIsICZwZGF0YS0+ZHNpX2xhbmVzKTsKKworCXBkYXRhLT5ob3N0
X25vZGUgPSBvZl9ncmFwaF9nZXRfcmVtb3RlX25vZGUobnAsIDAsIDApOworCWlmIChwZGF0YS0+
aG9zdF9ub2RlKQorCQlvZl9ub2RlX3B1dChwZGF0YS0+aG9zdF9ub2RlKTsKKworCURSTV9ERVZf
REVCVUdfRFJJVkVSKGRldiwgImxvd19wb3dlcl9tb2RlIDogJWQsIGRzaV9zdXBwb3J0ZWQgOiAl
ZFxuIiwKKwkJCSAgICAgcGRhdGEtPmxvd19wb3dlcl9tb2RlLCBwZGF0YS0+ZHNpX3N1cHBvcnRl
ZCk7CisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiZHNpX2NoYW5uZWwgOiAlZCwgZHNpX2xh
bmVzIDogJWQsICVzIG5vZGVcbiIsCisJCQkgICAgIHBkYXRhLT5kc2lfY2hhbm5lbCwgcGRhdGEt
PmRzaV9sYW5lcywKKwkJCSAgICAgKCFwZGF0YS0+aG9zdF9ub2RlKSA/ICJub3QiIDogImhhcyIp
OworCisJaWYgKHBkYXRhLT5sb3dfcG93ZXJfbW9kZSkgeworCQlwZGF0YS0+Z3Bpb19wX29uID0K
KwkJCW9mX2dldF9uYW1lZF9ncGlvX2ZsYWdzKG5wLCAicG9uLWdwaW9zIiwKKwkJCQkJCTAsIE5V
TEwpOworCisJCXBkYXRhLT5ncGlvX3Jlc2V0ID0KKwkJCW9mX2dldF9uYW1lZF9ncGlvX2ZsYWdz
KG5wLCAicmVzZXQtZ3Bpb3MiLAorCQkJCQkJMCwgTlVMTCk7CisJCURSTV9ERVZfREVCVUdfRFJJ
VkVSKGRldiwgImdwaW8gcF9vbiA6ICVkLCByZXNldCA6ICVkXG4iLAorCQkJCSAgICAgcGRhdGEt
PmdwaW9fcF9vbiwgcGRhdGEtPmdwaW9fcmVzZXQpOworCX0KKworCXBkYXRhLT5ncGlvX2ludHJf
aHBkID0KKwkJb2ZfZ2V0X25hbWVkX2dwaW9fZmxhZ3MobnAsICJocGQtZ3Bpb3MiLCAwLCBOVUxM
KTsKKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImdwaW8gaHBkIDogJWRcbiIsIHBkYXRh
LT5ncGlvX2ludHJfaHBkKTsKKworCXJldHVybiAwOworfQorI2Vsc2UKK3N0YXRpYyBpbnQgYW54
NzYyNV9wYXJzZV9kdChzdHJ1Y3QgZGV2aWNlICpkZXYsCisJCQkgICAgc3RydWN0IGFueDc2MjVf
cGxhdGZvcm1fZGF0YSAqcGRhdGEpCit7CisJcmV0dXJuIC1FTk9ERVY7Cit9CisjZW5kaWYKKwor
c3RhdGljIGlubGluZSBzdHJ1Y3QgYW54NzYyNV9kYXRhICpjb25uZWN0b3JfdG9fYW54NzYyNShz
dHJ1Y3QgZHJtX2Nvbm5lY3RvciAqYykKK3sKKwlyZXR1cm4gY29udGFpbmVyX29mKGMsIHN0cnVj
dCBhbng3NjI1X2RhdGEsIGNvbm5lY3Rvcik7Cit9CisKK3N0YXRpYyBpbmxpbmUgc3RydWN0IGFu
eDc2MjVfZGF0YSAqYnJpZGdlX3RvX2FueDc2MjUoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSkK
K3sKKwlyZXR1cm4gY29udGFpbmVyX29mKGJyaWRnZSwgc3RydWN0IGFueDc2MjVfZGF0YSwgYnJp
ZGdlKTsKK30KKworc3RhdGljIGludCBhbng3NjI1X3JlYWRfaHBkX3N0YXR1c19wMChzdHJ1Y3Qg
YW54NzYyNV9kYXRhICpjdHgpCit7CisJcmV0dXJuIGFueDc2MjVfcmVnX3JlYWQoY3R4LCBjdHgt
PmkyYy5yeF9wMF9jbGllbnQsIFNZU1RFTV9TVFNUVVMpOworfQorCitzdGF0aWMgaW50IGFueDc2
MjVfZ2V0X21vZGVzKHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCit7CisJc3RydWN0
IGFueDc2MjVfZGF0YSAqY3R4ID0gY29ubmVjdG9yX3RvX2FueDc2MjUoY29ubmVjdG9yKTsKKwlp
bnQgZXJyLCBudW1fbW9kZXMgPSAwOworCWludCB2YWwsIHJldDsKKwlzdHJ1Y3Qgc19lZGlkX2Rh
dGEgKnBfZWRpZCA9IChzdHJ1Y3Qgc19lZGlkX2RhdGEgKiljdHgtPnNsaW1wb3J0X2VkaWRfcDsK
KwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKworCURSTV9ERVZfREVC
VUdfRFJJVkVSKGRldiwgImRybSBnZXQgbW9kZXNcbiIpOworCisJaWYgKGN0eC0+cGRhdGEuaW50
ZXJuYWxfcGFubmVsICYmCisJICAgIGN0eC0+cGRhdGEubG93X3Bvd2VyX21vZGUgJiYKKwkgICAg
KCFhdG9taWNfcmVhZCgmY3R4LT5wb3dlcl9zdGF0dXMpKSkgeworCQlhbng3NjI1X3Bvd2VyX29u
X2luaXQoY3R4KTsKKwkJYXRvbWljX3NldCgmY3R4LT5wb3dlcl9zdGF0dXMsIDEpOworCisJCXJl
dCA9IHJlYWR4X3BvbGxfdGltZW91dChhbng3NjI1X3JlYWRfaHBkX3N0YXR1c19wMCwKKwkJCQkJ
IGN0eCwgdmFsLAorCQkJCQkgKCh2YWwgJiBIUERfU1RBVFVTKSB8fCAodmFsIDwgMCkpLAorCQkJ
CQkgNTAwMCwKKwkJCQkJIDUwMDAgKiAxMDApOworCQlpZiAocmV0KSB7CisJCQlEUk1fREVWX0VS
Uk9SKGRldiwgIkhQRCBzdGF0dXMgcG9sbGluZyB0aW1lb3V0IVxuIik7CisJCX0gZWxzZSB7CisJ
CQlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJIUEQgcmFpc2UgdXAuXG4iKTsKKwkJCWFueDc2
MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMudGNwY19jbGllbnQsCisJCQkJCSAgSU5UUl9BTEVS
VF8xLCAweEZGKTsKKwkJCWFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xp
ZW50LAorCQkJCQkgIElOVEVSRkFDRV9DSEFOR0VfSU5ULCAwKTsKKwkJfQorCisJCWFueDc2MjVf
c3RhcnRfZHBfd29yayhjdHgpOworCX0KKworCWlmIChXQVJOX09OKCFhdG9taWNfcmVhZCgmY3R4
LT5wb3dlcl9zdGF0dXMpKSkKKwkJcmV0dXJuIDA7CisKKwlpZiAoY3R4LT5zbGltcG9ydF9lZGlk
X3AgJiYgY3R4LT5zbGltcG9ydF9lZGlkX3AtPmVkaWRfYmxvY2tfbnVtID49IDApCisJCXJldHVy
biBkcm1fYWRkX2VkaWRfbW9kZXMoY29ubmVjdG9yLAorCQkJCQkgIChzdHJ1Y3QgZWRpZCAqKQor
CQkJCQkgICZwX2VkaWQtPmVkaWRfcmF3X2RhdGEpOworCisJbXV0ZXhfbG9jaygmY3R4LT5sb2Nr
KTsKKworCWlmICghY3R4LT5zbGltcG9ydF9lZGlkX3ApCisJCWN0eC0+c2xpbXBvcnRfZWRpZF9w
ID0ga3phbGxvYyhzaXplb2YoKmN0eC0+c2xpbXBvcnRfZWRpZF9wKSwKKwkJCQkJICAgICAgIEdG
UF9LRVJORUwpOworCXBfZWRpZCA9IGN0eC0+c2xpbXBvcnRfZWRpZF9wOworCXBfZWRpZC0+ZWRp
ZF9ibG9ja19udW0gPSBzcF90eF9lZGlkX3JlYWQoY3R4LCBwX2VkaWQtPmVkaWRfcmF3X2RhdGEp
OworCWlmIChwX2VkaWQtPmVkaWRfYmxvY2tfbnVtIDwgMCkgeworCQlEUk1fRVJST1IoIkZhaWxl
ZCB0byByZWFkIEVESUQuXG4iKTsKKwkJZ290byB1bmxvY2s7CisJfQorCisJZXJyID0gZHJtX2Nv
bm5lY3Rvcl91cGRhdGVfZWRpZF9wcm9wZXJ0eShjb25uZWN0b3IsCisJCQkJCQkgKHN0cnVjdCBl
ZGlkICopCisJCQkJCQkgJnBfZWRpZC0+ZWRpZF9yYXdfZGF0YSk7CisKKwlpZiAoZXJyKSB7CisJ
CURSTV9FUlJPUigiRmFpbGVkIHRvIHVwZGF0ZSBFRElEIHByb3BlcnR5OiAlZFxuIiwgZXJyKTsK
KwkJZ290byB1bmxvY2s7CisJfQorCisJbnVtX21vZGVzID0gZHJtX2FkZF9lZGlkX21vZGVzKGNv
bm5lY3RvciwKKwkJCQkgICAgICAgKHN0cnVjdCBlZGlkICopJnBfZWRpZC0+ZWRpZF9yYXdfZGF0
YSk7CisKK3VubG9jazoKKwltdXRleF91bmxvY2soJmN0eC0+bG9jayk7CisKKwlyZXR1cm4gbnVt
X21vZGVzOworfQorCitzdGF0aWMgZW51bSBkcm1fbW9kZV9zdGF0dXMKK2FueDc2MjVfY29ubmVj
dG9yX21vZGVfdmFsaWQoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciwKKwkJCSAgICAg
c3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGUpCit7CisJc3RydWN0IGFueDc2MjVfZGF0YSAq
Y3R4ID0gY29ubmVjdG9yX3RvX2FueDc2MjUoY29ubmVjdG9yKTsKKwlzdHJ1Y3QgZGV2aWNlICpk
ZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImRy
bSBtb2RlcyB2YWxpZCB2ZXJpZnlcbiIpOworCisJaWYgKG1vZGUtPmNsb2NrID4gMzAwMDAwKQor
CQlyZXR1cm4gTU9ERV9DTE9DS19ISUdIOworCisJcmV0dXJuIE1PREVfT0s7Cit9CisKK3N0YXRp
YyBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9oZWxwZXJfZnVuY3MgYW54NzYyNV9jb25uZWN0b3JfaGVs
cGVyX2Z1bmNzID0geworCS5nZXRfbW9kZXMgPSBhbng3NjI1X2dldF9tb2RlcywKKwkubW9kZV92
YWxpZCA9IGFueDc2MjVfY29ubmVjdG9yX21vZGVfdmFsaWQsCit9OworCitzdGF0aWMgZW51bSBk
cm1fY29ubmVjdG9yX3N0YXR1cyBhbng3NjI1X2RldGVjdChzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAq
Y29ubmVjdG9yLAorCQkJCQkJYm9vbCBmb3JjZSkKK3sKKwlzdHJ1Y3QgYW54NzYyNV9kYXRhICpj
dHggPSBjb25uZWN0b3JfdG9fYW54NzYyNShjb25uZWN0b3IpOworCXN0cnVjdCBkZXZpY2UgKmRl
diA9ICZjdHgtPmNsaWVudC0+ZGV2OworCisJaWYgKCEoY3R4LT5ocGRfc3RhdHVzKSkKKwkJcmV0
dXJuIGNvbm5lY3Rvcl9zdGF0dXNfZGlzY29ubmVjdGVkOworCisJRFJNX0RFVl9ERUJVR19EUklW
RVIoZGV2LCAiZHJtIGRldGVjdFxuIik7CisKKwlyZXR1cm4gY29ubmVjdG9yX3N0YXR1c19jb25u
ZWN0ZWQ7Cit9CisKK3N0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9mdW5jcyBhbng3
NjI1X2Nvbm5lY3Rvcl9mdW5jcyA9IHsKKwkuZmlsbF9tb2RlcyA9IGRybV9oZWxwZXJfcHJvYmVf
c2luZ2xlX2Nvbm5lY3Rvcl9tb2RlcywKKwkuZGV0ZWN0ID0gYW54NzYyNV9kZXRlY3QsCisJLmRl
c3Ryb3kgPSBkcm1fY29ubmVjdG9yX2NsZWFudXAsCisJLnJlc2V0ID0gZHJtX2F0b21pY19oZWxw
ZXJfY29ubmVjdG9yX3Jlc2V0LAorCS5hdG9taWNfZHVwbGljYXRlX3N0YXRlID0gZHJtX2F0b21p
Y19oZWxwZXJfY29ubmVjdG9yX2R1cGxpY2F0ZV9zdGF0ZSwKKwkuYXRvbWljX2Rlc3Ryb3lfc3Rh
dGUgPSBkcm1fYXRvbWljX2hlbHBlcl9jb25uZWN0b3JfZGVzdHJveV9zdGF0ZSwKK307CisKK3N0
YXRpYyB2b2lkIGFueDc2MjVfYXR0YWNoX2RzaShzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7
CisJc3RydWN0IG1pcGlfZHNpX2hvc3QgKmhvc3Q7CisJc3RydWN0IG1pcGlfZHNpX2RldmljZSAq
ZHNpOworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZjdHgtPmNsaWVudC0+ZGV2OworCWNvbnN0IHN0
cnVjdCBtaXBpX2RzaV9kZXZpY2VfaW5mbyBpbmZvID0geworCQkudHlwZSA9ICJhbng3NjI1IiwK
KwkJLmNoYW5uZWwgPSBjdHgtPnBkYXRhLmRzaV9jaGFubmVsLAorCQkubm9kZSA9IE5VTEwsCisJ
fTsKKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImF0dGFjaCBkc2lcbiIpOworCisJaG9z
dCA9IG9mX2ZpbmRfbWlwaV9kc2lfaG9zdF9ieV9ub2RlKGN0eC0+cGRhdGEuaG9zdF9ub2RlKTsK
KwlpZiAoIWhvc3QpIHsKKwkJRFJNX0VSUk9SKCJmYWlsZWQgdG8gZmluZCBkc2kgaG9zdC5cbiIp
OworCQlyZXR1cm47CisJfQorCisJZHNpID0gbWlwaV9kc2lfZGV2aWNlX3JlZ2lzdGVyX2Z1bGwo
aG9zdCwgJmluZm8pOworCWlmIChJU19FUlIoZHNpKSkgeworCQlEUk1fRVJST1IoImZhaWxlZCB0
byBjcmVhdGUgZHNpIGRldmljZS5cbiIpOworCQlyZXR1cm47CisJfQorCisJZHNpLT5sYW5lcyA9
IGN0eC0+cGRhdGEuZHNpX2xhbmVzOworCWRzaS0+Zm9ybWF0ID0gTUlQSV9EU0lfRk1UX1JHQjg4
ODsKKwlkc2ktPm1vZGVfZmxhZ3MgPSBNSVBJX0RTSV9NT0RFX1ZJREVPCXwKKwkJTUlQSV9EU0lf
TU9ERV9WSURFT19TWU5DX1BVTFNFCXwKKwkJTUlQSV9EU0lfTU9ERV9FT1RfUEFDS0VUCXwKKwkJ
TUlQSV9EU0lfTU9ERV9WSURFT19IU0U7CisKKwlpZiAobWlwaV9kc2lfYXR0YWNoKGRzaSkgPCAw
KSB7CisJCURSTV9FUlJPUigiZmFpbGVkIHRvIGF0dGFjaCBkc2kgdG8gaG9zdC5cbiIpOworCQlt
aXBpX2RzaV9kZXZpY2VfdW5yZWdpc3Rlcihkc2kpOworCQlyZXR1cm47CisJfQorCisJY3R4LT5k
c2kgPSBkc2k7CisKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJhdHRhY2ggZHNpIHN1Y2Nl
ZWRlZC5cbiIpOworfQorCitzdGF0aWMgdm9pZCBhbng3NjI1X2RldGFjaF9kc2koc3RydWN0IGFu
eDc2MjVfZGF0YSAqY3R4KQoreworCWlmIChjdHgtPmRzaSkgeworCQltaXBpX2RzaV9kZXRhY2go
Y3R4LT5kc2kpOworCQltaXBpX2RzaV9kZXZpY2VfdW5yZWdpc3RlcihjdHgtPmRzaSk7CisJfQor
fQorCitzdGF0aWMgaW50IGFueDc2MjVfYnJpZGdlX2F0dGFjaChzdHJ1Y3QgZHJtX2JyaWRnZSAq
YnJpZGdlKQoreworCXN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCA9IGJyaWRnZV90b19hbng3NjI1
KGJyaWRnZSk7CisJaW50IGVycjsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQt
PmRldjsKKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImRybSBhdHRhY2hcbiIpOworCWlm
ICghYnJpZGdlLT5lbmNvZGVyKSB7CisJCURSTV9FUlJPUigiUGFyZW50IGVuY29kZXIgb2JqZWN0
IG5vdCBmb3VuZCIpOworCQlyZXR1cm4gLUVOT0RFVjsKKwl9CisKKwllcnIgPSBkcm1fY29ubmVj
dG9yX2luaXQoYnJpZGdlLT5kZXYsICZjdHgtPmNvbm5lY3RvciwKKwkJCQkgJmFueDc2MjVfY29u
bmVjdG9yX2Z1bmNzLAorCQkJCSBEUk1fTU9ERV9DT05ORUNUT1JfRGlzcGxheVBvcnQpOworCWlm
IChlcnIpIHsKKwkJRFJNX0VSUk9SKCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBjb25uZWN0b3I6ICVk
XG4iLCBlcnIpOworCQlyZXR1cm4gZXJyOworCX0KKworCWRybV9jb25uZWN0b3JfaGVscGVyX2Fk
ZCgmY3R4LT5jb25uZWN0b3IsCisJCQkJICZhbng3NjI1X2Nvbm5lY3Rvcl9oZWxwZXJfZnVuY3Mp
OworCisJZXJyID0gZHJtX2Nvbm5lY3Rvcl9yZWdpc3RlcigmY3R4LT5jb25uZWN0b3IpOworCWlm
IChlcnIpIHsKKwkJRFJNX0VSUk9SKCJGYWlsZWQgdG8gcmVnaXN0ZXIgY29ubmVjdG9yOiAlZFxu
IiwgZXJyKTsKKwkJcmV0dXJuIGVycjsKKwl9CisKKwljdHgtPmNvbm5lY3Rvci5wb2xsZWQgPSBE
Uk1fQ09OTkVDVE9SX1BPTExfSFBEOworCisJZXJyID0gZHJtX2Nvbm5lY3Rvcl9hdHRhY2hfZW5j
b2RlcigmY3R4LT5jb25uZWN0b3IsIGJyaWRnZS0+ZW5jb2Rlcik7CisJaWYgKGVycikgeworCQlE
Uk1fRVJST1IoIkZhaWxlZCB0byBsaW5rIHVwIGNvbm5lY3RvciB0byBlbmNvZGVyOiAlZFxuIiwg
ZXJyKTsKKwkJZHJtX2Nvbm5lY3Rvcl91bnJlZ2lzdGVyKCZjdHgtPmNvbm5lY3Rvcik7CisJCXJl
dHVybiBlcnI7CisJfQorCisJYW54NzYyNV9hdHRhY2hfZHNpKGN0eCk7CisKKwljdHgtPmJyaWRn
ZV9hdHRhY2hlZCA9IDE7CisKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIGVudW0gZHJtX21vZGVf
c3RhdHVzCithbng3NjI1X2JyaWRnZV9tb2RlX3ZhbGlkKHN0cnVjdCBkcm1fYnJpZGdlICpicmlk
Z2UsCisJCQkgIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlKQoreworCXN0cnVj
dCBhbng3NjI1X2RhdGEgKmN0eCA9IGJyaWRnZV90b19hbng3NjI1KGJyaWRnZSk7CisJc3RydWN0
IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7CisKKwlEUk1fREVWX0RFQlVHX0RSSVZF
UihkZXYsICJkcm0gbW9kZSBjaGVja2luZ1xuIik7CisKKwkvKiBNYXggMTIwMHAgYXQgNS40IEdo
eiwgb25lIGxhbmUsIHBpeGVsIGNsb2NrIDMwME0gKi8KKwlpZiAobW9kZS0+Y2xvY2sgPiAzMDAw
MDApIHsKKwkJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LAorCQkJCSAgICAgImRybSBtb2RlIGlu
dmFsaWQsIHBpeGVsY2xvY2sgdG9vIGhpZ2guXG4iKTsKKwkJcmV0dXJuIE1PREVfQ0xPQ0tfSElH
SDsKKwl9CisKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJkcm0gbW9kZSB2YWxpZC5cbiIp
OworCXJldHVybiBNT0RFX09LOworfQorCitzdGF0aWMgdm9pZCBhbng3NjI1X2JyaWRnZV9tb2Rl
X3NldChzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlLAorCQkJCSAgICBjb25zdCBzdHJ1Y3QgZHJt
X2Rpc3BsYXlfbW9kZSAqb2xkX21vZGUsCisJCQkJICAgIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxh
eV9tb2RlICptb2RlKQoreworCXN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCA9IGJyaWRnZV90b19h
bng3NjI1KGJyaWRnZSk7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7
CisKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJkcm0gbW9kZSBzZXRcbiIpOworCisJaWYg
KFdBUk5fT04oIWF0b21pY19yZWFkKCZjdHgtPnBvd2VyX3N0YXR1cykpKQorCQlyZXR1cm47CisK
KwltdXRleF9sb2NrKCZjdHgtPmxvY2spOworCisJY3R4LT5kdC5waXhlbGNsb2NrLm1pbiA9IG1v
ZGUtPmNsb2NrOworCWN0eC0+ZHQuaGFjdGl2ZS5taW4gPSBtb2RlLT5oZGlzcGxheTsKKwljdHgt
PmR0LmhzeW5jX2xlbi5taW4gPSBtb2RlLT5oc3luY19lbmQgLSBtb2RlLT5oc3luY19zdGFydDsK
KwljdHgtPmR0Lmhmcm9udF9wb3JjaC5taW4gPSBtb2RlLT5oc3luY19zdGFydCAtIG1vZGUtPmhk
aXNwbGF5OworCWN0eC0+ZHQuaGJhY2tfcG9yY2gubWluID0gbW9kZS0+aHRvdGFsIC0gbW9kZS0+
aHN5bmNfZW5kOworCWN0eC0+ZHQudmFjdGl2ZS5taW4gPSBtb2RlLT52ZGlzcGxheTsKKwljdHgt
PmR0LnZzeW5jX2xlbi5taW4gPSBtb2RlLT52c3luY19lbmQgLSBtb2RlLT52c3luY19zdGFydDsK
KwljdHgtPmR0LnZmcm9udF9wb3JjaC5taW4gPSBtb2RlLT52c3luY19zdGFydCAtIG1vZGUtPnZk
aXNwbGF5OworCWN0eC0+ZHQudmJhY2tfcG9yY2gubWluID0gbW9kZS0+dnRvdGFsIC0gbW9kZS0+
dnN5bmNfZW5kOworCisJY3R4LT5kaXNwbGF5X3RpbWluZ192YWxpZCA9IDE7CisKKwlEUk1fREVW
X0RFQlVHX0RSSVZFUihkZXYsICJwaXhlbGNsb2NrKCVkKS5cbiIsIGN0eC0+ZHQucGl4ZWxjbG9j
ay5taW4pOworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImhhY3RpdmUoJWQpLCBoc3luYygl
ZCksIGhmcCglZCksIGhicCglZClcbiIsCisJCQkgICAgIGN0eC0+ZHQuaGFjdGl2ZS5taW4sCisJ
CQkgICAgIGN0eC0+ZHQuaHN5bmNfbGVuLm1pbiwKKwkJCSAgICAgY3R4LT5kdC5oZnJvbnRfcG9y
Y2gubWluLAorCQkJICAgICBjdHgtPmR0LmhiYWNrX3BvcmNoLm1pbik7CisJRFJNX0RFVl9ERUJV
R19EUklWRVIoZGV2LCAidmFjdGl2ZSglZCksIHZzeW5jKCVkKSwgdmZwKCVkKSwgdmJwKCVkKVxu
IiwKKwkJCSAgICAgY3R4LT5kdC52YWN0aXZlLm1pbiwKKwkJCSAgICAgY3R4LT5kdC52c3luY19s
ZW4ubWluLAorCQkJICAgICBjdHgtPmR0LnZmcm9udF9wb3JjaC5taW4sCisJCQkgICAgIGN0eC0+
ZHQudmJhY2tfcG9yY2gubWluKTsKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJoZGlzcGxh
eSglZCksaHN5bmNfc3RhcnQoJWQpLlxuIiwKKwkJCSAgICAgbW9kZS0+aGRpc3BsYXksCisJCQkg
ICAgIG1vZGUtPmhzeW5jX3N0YXJ0KTsKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJoc3lu
Y19lbmQoJWQpLGh0b3RhbCglZCkuXG4iLAorCQkJICAgICBtb2RlLT5oc3luY19lbmQsCisJCQkg
ICAgIG1vZGUtPmh0b3RhbCk7CisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAidmRpc3BsYXko
JWQpLHZzeW5jX3N0YXJ0KCVkKS5cbiIsCisJCQkgICAgIG1vZGUtPnZkaXNwbGF5LAorCQkJICAg
ICBtb2RlLT52c3luY19zdGFydCk7CisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAidnN5bmNf
ZW5kKCVkKSx2dG90YWwoJWQpLlxuIiwKKwkJCSAgICAgbW9kZS0+dnN5bmNfZW5kLAorCQkJICAg
ICBtb2RlLT52dG90YWwpOworCisJbXV0ZXhfdW5sb2NrKCZjdHgtPmxvY2spOworfQorCitzdGF0
aWMgdm9pZCBhbng3NjI1X2JyaWRnZV9lbmFibGUoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSkK
K3sKKwlzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHggPSBicmlkZ2VfdG9fYW54NzYyNShicmlkZ2Up
OworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZjdHgtPmNsaWVudC0+ZGV2OworCisJRFJNX0RFVl9E
RUJVR19EUklWRVIoZGV2LCAiZHJtIGVuYWJsZVxuIik7CisKKwlpZiAoV0FSTl9PTighYXRvbWlj
X3JlYWQoJmN0eC0+cG93ZXJfc3RhdHVzKSkpCisJCXJldHVybjsKKworCW11dGV4X2xvY2soJmN0
eC0+bG9jayk7CisKKwlhbng3NjI1X2RwX3N0YXJ0KGN0eCk7CisKKwltdXRleF91bmxvY2soJmN0
eC0+bG9jayk7Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfYnJpZGdlX2Rpc2FibGUoc3RydWN0
IGRybV9icmlkZ2UgKmJyaWRnZSkKK3sKKwlzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHggPSBicmlk
Z2VfdG9fYW54NzYyNShicmlkZ2UpOworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZjdHgtPmNsaWVu
dC0+ZGV2OworCisJaWYgKFdBUk5fT04oIWF0b21pY19yZWFkKCZjdHgtPnBvd2VyX3N0YXR1cykp
KQorCQlyZXR1cm47CisKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJkcm0gZGlzYWJsZVxu
Iik7CisJbXV0ZXhfbG9jaygmY3R4LT5sb2NrKTsKKworCWFueDc2MjVfZHBfc3RvcChjdHgpOwor
CisJaWYgKGN0eC0+cGRhdGEuaW50ZXJuYWxfcGFubmVsICYmCisJICAgIGN0eC0+cGRhdGEubG93
X3Bvd2VyX21vZGUgJiYKKwkgICAgKGF0b21pY19yZWFkKCZjdHgtPnBvd2VyX3N0YXR1cykpKSB7
CisJCWFueDc2MjVfc3RvcF9kcF93b3JrKGN0eCk7CisJCWFueDc2MjVfcG93ZXJfc3RhbmRieShj
dHgpOworCQlhdG9taWNfc2V0KCZjdHgtPnBvd2VyX3N0YXR1cywgMCk7CisJfQorCisJbXV0ZXhf
dW5sb2NrKCZjdHgtPmxvY2spOworfQorCitzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9icmlkZ2Vf
ZnVuY3MgYW54NzYyNV9icmlkZ2VfZnVuY3MgPSB7CisJLmF0dGFjaCA9IGFueDc2MjVfYnJpZGdl
X2F0dGFjaCwKKwkuZGlzYWJsZSA9IGFueDc2MjVfYnJpZGdlX2Rpc2FibGUsCisJLm1vZGVfdmFs
aWQgPSBhbng3NjI1X2JyaWRnZV9tb2RlX3ZhbGlkLAorCS5tb2RlX3NldCA9IGFueDc2MjVfYnJp
ZGdlX21vZGVfc2V0LAorCS5lbmFibGUgPSBhbng3NjI1X2JyaWRnZV9lbmFibGUsCit9OworCitz
dGF0aWMgaW50IGFueDc2MjVfcmVnaXN0ZXJfaTJjX2R1bW15X2NsaWVudHMoc3RydWN0IGFueDc2
MjVfZGF0YSAqY3R4LAorCQkJCQkgICAgICBzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50KQorewor
CWN0eC0+aTJjLnR4X3AwX2NsaWVudCA9IGkyY19uZXdfZHVtbXkoY2xpZW50LT5hZGFwdGVyLAor
CQkJCQkgICAgICBUWF9QMF9BRERSID4+IDEpOworCWN0eC0+aTJjLnR4X3AxX2NsaWVudCA9IGky
Y19uZXdfZHVtbXkoY2xpZW50LT5hZGFwdGVyLAorCQkJCQkgICAgICBUWF9QMV9BRERSID4+IDEp
OworCWN0eC0+aTJjLnR4X3AyX2NsaWVudCA9IGkyY19uZXdfZHVtbXkoY2xpZW50LT5hZGFwdGVy
LAorCQkJCQkgICAgICBUWF9QMl9BRERSID4+IDEpOworCisJY3R4LT5pMmMucnhfcDBfY2xpZW50
ID0gaTJjX25ld19kdW1teShjbGllbnQtPmFkYXB0ZXIsCisJCQkJCSAgICAgIFJYX1AwX0FERFIg
Pj4gMSk7CisJY3R4LT5pMmMucnhfcDFfY2xpZW50ID0gaTJjX25ld19kdW1teShjbGllbnQtPmFk
YXB0ZXIsCisJCQkJCSAgICAgIFJYX1AxX0FERFIgPj4gMSk7CisJY3R4LT5pMmMucnhfcDJfY2xp
ZW50ID0gaTJjX25ld19kdW1teShjbGllbnQtPmFkYXB0ZXIsCisJCQkJCSAgICAgIFJYX1AyX0FE
RFIgPj4gMSk7CisKKwljdHgtPmkyYy50Y3BjX2NsaWVudCA9IGkyY19uZXdfZHVtbXkoY2xpZW50
LT5hZGFwdGVyLAorCQkJCQkgICAgIFRDUENfSU5URVJGQUNFX0FERFIgPj4gMSk7CisKKwlpZiAo
KCFjdHgtPmkyYy50eF9wMF9jbGllbnQgfAorCSAgICAgIWN0eC0+aTJjLnR4X3AxX2NsaWVudCB8
CisJICAgICAhY3R4LT5pMmMudHhfcDJfY2xpZW50IHwKKwkgICAgICFjdHgtPmkyYy5yeF9wMF9j
bGllbnQgfAorCSAgICAgIWN0eC0+aTJjLnJ4X3AxX2NsaWVudCB8CisJICAgICAhY3R4LT5pMmMu
cnhfcDJfY2xpZW50IHwKKwkgICAgICFjdHgtPmkyYy50Y3BjX2NsaWVudCkgIT0gMCkKKwkJcmV0
dXJuIDE7CisKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIHZvaWQgYW54NzYyNV91bnJlZ2lzdGVy
X2kyY19kdW1teV9jbGllbnRzKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCkKK3sKKwlpMmNfdW5y
ZWdpc3Rlcl9kZXZpY2UoY3R4LT5pMmMudHhfcDBfY2xpZW50KTsKKwlpMmNfdW5yZWdpc3Rlcl9k
ZXZpY2UoY3R4LT5pMmMudHhfcDFfY2xpZW50KTsKKwlpMmNfdW5yZWdpc3Rlcl9kZXZpY2UoY3R4
LT5pMmMudHhfcDJfY2xpZW50KTsKKwlpMmNfdW5yZWdpc3Rlcl9kZXZpY2UoY3R4LT5pMmMucnhf
cDFfY2xpZW50KTsKKwlpMmNfdW5yZWdpc3Rlcl9kZXZpY2UoY3R4LT5pMmMucnhfcDJfY2xpZW50
KTsKKwlpMmNfdW5yZWdpc3Rlcl9kZXZpY2UoY3R4LT5pMmMucnhfcDNfY2xpZW50KTsKKwlpMmNf
dW5yZWdpc3Rlcl9kZXZpY2UoY3R4LT5pMmMudGNwY19jbGllbnQpOworfQorCitzdGF0aWMgaW50
IGFueDc2MjVfaTJjX3Byb2JlKHN0cnVjdCBpMmNfY2xpZW50ICpjbGllbnQsCisJCQkgICAgIGNv
bnN0IHN0cnVjdCBpMmNfZGV2aWNlX2lkICppZCkKK3sKKwlzdHJ1Y3QgYW54NzYyNV9kYXRhICpw
bGF0Zm9ybTsKKwlzdHJ1Y3QgYW54NzYyNV9wbGF0Zm9ybV9kYXRhICpwZGF0YTsKKwlpbnQgcmV0
ID0gMDsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY2xpZW50LT5kZXY7CisKKwlpZiAoIWkyY19j
aGVja19mdW5jdGlvbmFsaXR5KGNsaWVudC0+YWRhcHRlciwKKwkJCQkgICAgIEkyQ19GVU5DX1NN
QlVTX0kyQ19CTE9DSykpIHsKKwkJRFJNX0RFVl9FUlJPUihkZXYsICJhbng3NjI1J3MgaTJjIGJ1
cyBkb2Vzbid0IHN1cHBvcnRcbiIpOworCQlyZXQgPSAtRU5PREVWOworCQlnb3RvIGV4aXQ7CisJ
fQorCisJcGxhdGZvcm0gPSBremFsbG9jKHNpemVvZigqcGxhdGZvcm0pLCBHRlBfS0VSTkVMKTsK
KwlpZiAoIXBsYXRmb3JtKSB7CisJCURSTV9ERVZfRVJST1IoZGV2LCAiZmFpbGVkIHRvIGFsbG9j
YXRlIGRyaXZlciBkYXRhXG4iKTsKKwkJcmV0ID0gLUVOT01FTTsKKwkJZ290byBleGl0OworCX0K
KworCXBkYXRhID0gJnBsYXRmb3JtLT5wZGF0YTsKKworCS8qIGRldmljZSB0cmVlIHBhcnNpbmcg
ZnVuY3Rpb24gY2FsbCAqLworCXJldCA9IGFueDc2MjVfcGFyc2VfZHQoJmNsaWVudC0+ZGV2LCBw
ZGF0YSk7CisJaWYgKHJldCAhPSAwKQkvKiBpZiBvY2N1cnMgZXJyb3IgKi8KKwkJZ290byBlcnIw
OworCisJLyogdG8gYWNjZXNzIGdsb2JhbCBwbGF0Zm9ybSBkYXRhICovCisJcGxhdGZvcm0tPmNs
aWVudCA9IGNsaWVudDsKKwlpMmNfc2V0X2NsaWVudGRhdGEoY2xpZW50LCBwbGF0Zm9ybSk7CisK
KwlpZiAocGxhdGZvcm0tPnBkYXRhLmV4dGNvbl9zdXBwb3J0ZWQpIHsKKwkJLyogZ2V0IGV4dGNv
biBkZXZpY2UgZnJvbSBEVFMgKi8KKwkJcGxhdGZvcm0tPmV4dGNvbiA9IGV4dGNvbl9nZXRfZWRl
dl9ieV9waGFuZGxlKCZjbGllbnQtPmRldiwgMCk7CisJCWlmIChQVFJfRVJSKHBsYXRmb3JtLT5l
eHRjb24pID09IC1FUFJPQkVfREVGRVIpCisJCQlnb3RvIGVycjA7CisJCWlmIChJU19FUlIocGxh
dGZvcm0tPmV4dGNvbikpIHsKKwkJCURSTV9ERVZfRVJST1IoJmNsaWVudC0+ZGV2LAorCQkJCSAg
ICAgICJjYW4gbm90IGdldCBleHRjb24gZGV2aWNlISIpOworCQkJZ290byBlcnIwOworCQl9CisK
KwkJcmV0ID0gYW54NzYyNV9leHRjb25fbm90aWZpZXJfaW5pdChwbGF0Zm9ybSk7CisJCWlmIChy
ZXQgPCAwKQorCQkJZ290byBlcnIwOworCX0KKworCWF0b21pY19zZXQoJnBsYXRmb3JtLT5wb3dl
cl9zdGF0dXMsIDApOworCisJbXV0ZXhfaW5pdCgmcGxhdGZvcm0tPmxvY2spOworCisJcmV0ID0g
YW54NzYyNV9pbml0X2dwaW8ocGxhdGZvcm0pOworCWlmIChyZXQpIHsKKwkJRFJNX0RFVl9FUlJP
UihkZXYsICJmYWlsZWQgdG8gaW5pdGlhbGl6ZSBncGlvXG4iKTsKKwkJZ290byBlcnIwOworCX0K
KworCUlOSVRfV09SSygmcGxhdGZvcm0tPndvcmssIGFueDc2MjVfd29ya19mdW5jKTsKKworCXBs
YXRmb3JtLT53b3JrcXVldWUgPSBjcmVhdGVfd29ya3F1ZXVlKCJhbng3NjI1X3dvcmsiKTsKKwlp
ZiAoIXBsYXRmb3JtLT53b3JrcXVldWUpIHsKKwkJRFJNX0RFVl9FUlJPUihkZXYsICJmYWlsZWQg
dG8gY3JlYXRlIHdvcmsgcXVldWVcbiIpOworCQlyZXQgPSAtRU5PTUVNOworCQlnb3RvIGVycjE7
CisJfQorCisJaWYgKHBsYXRmb3JtLT5wZGF0YS5ncGlvX2ludHJfaHBkKSB7CisJCXBsYXRmb3Jt
LT5wZGF0YS5ocGRfaXJxID0KKwkJCWdwaW9fdG9faXJxKHBsYXRmb3JtLT5wZGF0YS5ncGlvX2lu
dHJfaHBkKTsKKwkJaWYgKHBsYXRmb3JtLT5wZGF0YS5ocGRfaXJxIDwgMCkgeworCQkJRFJNX0RF
Vl9FUlJPUihkZXYsICJmYWlsZWQgdG8gZ2V0IGdwaW8gaXJxXG4iKTsKKwkJCWdvdG8gZXJyMTsK
KwkJfQorCisJCXJldCA9IHJlcXVlc3RfdGhyZWFkZWRfaXJxKHBsYXRmb3JtLT5wZGF0YS5ocGRf
aXJxLAorCQkJCQkgICBOVUxMLCBhbng3NjI1X2ludHJfaHBkX2lzciwKKwkJCQkJICAgSVJRRl9U
UklHR0VSX0ZBTExJTkcgfAorCQkJCQkgICBJUlFGX1RSSUdHRVJfUklTSU5HIHwKKwkJCQkJICAg
SVJRRl9PTkVTSE9ULAorCQkJCQkgICAiYW54NzYyNS1ocGQiLCBwbGF0Zm9ybSk7CisJCWlmIChy
ZXQgPCAwKSB7CisJCQlEUk1fREVWX0VSUk9SKGRldiwgImZhaWxlZCB0byByZXF1ZXN0IGlycVxu
Iik7CisJCQlnb3RvIGVycjI7CisJCX0KKworCQlyZXQgPSBpcnFfc2V0X2lycV93YWtlKHBsYXRm
b3JtLT5wZGF0YS5ocGRfaXJxLCAxKTsKKwkJaWYgKHJldCA8IDApIHsKKwkJCURSTV9ERVZfRVJS
T1IoZGV2LCAiUmVxdWVzdCBpcnEgZm9yIGhwZCIpOworCQkJRFJNX0RFVl9FUlJPUihkZXYsICJp
bnRlcnJ1cHQgd2FrZSBzZXQgZmFpbFxuIik7CisJCQlnb3RvIGVycjI7CisJCX0KKworCQlyZXQg
PSBlbmFibGVfaXJxX3dha2UocGxhdGZvcm0tPnBkYXRhLmhwZF9pcnEpOworCQlpZiAocmV0IDwg
MCkgeworCQkJRFJNX0RFVl9FUlJPUihkZXYsICJFbmFibGUgaXJxIGZvciBIUEQiKTsKKwkJCURS
TV9ERVZfRVJST1IoZGV2LCAiaW50ZXJydXB0IHdha2UgZW5hYmxlIGZhaWxcbiIpOworCQkJZ290
byBlcnIyOworCQl9CisJfQorCisJaWYgKGFueDc2MjVfcmVnaXN0ZXJfaTJjX2R1bW15X2NsaWVu
dHMocGxhdGZvcm0sIGNsaWVudCkgIT0gMCkgeworCQlyZXQgPSAtRU5PTUVNOworCQlEUk1fRVJS
T1IoIkZhaWxlZCB0byByZXNlcnZlIEkyQyBidXMuXG4iKTsKKwkJZ290byBlcnIzOworCX0KKwor
CWlmIChwbGF0Zm9ybS0+cGRhdGEubG93X3Bvd2VyX21vZGUgPT0gMCkgeworCQlhbng3NjI1X2Rp
c2FibGVfcGRfcHJvdG9jb2wocGxhdGZvcm0pOworCQlhdG9taWNfc2V0KCZwbGF0Zm9ybS0+cG93
ZXJfc3RhdHVzLCAxKTsKKwl9CisKKwkvKiBhZGQgd29yayBmdW5jdGlvbiAqLworCXF1ZXVlX3dv
cmsocGxhdGZvcm0tPndvcmtxdWV1ZSwgJnBsYXRmb3JtLT53b3JrKTsKKworCXBsYXRmb3JtLT5i
cmlkZ2UuZnVuY3MgPSAmYW54NzYyNV9icmlkZ2VfZnVuY3M7CisjaWYgSVNfRU5BQkxFRChDT05G
SUdfT0YpCisJcGxhdGZvcm0tPmJyaWRnZS5vZl9ub2RlID0gY2xpZW50LT5kZXYub2Zfbm9kZTsK
KyNlbmRpZgorCWRybV9icmlkZ2VfYWRkKCZwbGF0Zm9ybS0+YnJpZGdlKTsKKworCURSTV9ERVZf
REVCVUdfRFJJVkVSKGRldiwgInByb2JlIGRvbmVcbiIpOworCWdvdG8gZXhpdDsKKworZXJyMzoK
Kwlhbng3NjI1X3VucmVnaXN0ZXJfaTJjX2R1bW15X2NsaWVudHMocGxhdGZvcm0pOworZXJyMjoK
KwlpZiAocGxhdGZvcm0tPnBkYXRhLmdwaW9faW50cl9ocGQpCisJCWZyZWVfaXJxKHBsYXRmb3Jt
LT5wZGF0YS5ocGRfaXJxLCBwbGF0Zm9ybSk7CitlcnIxOgorCWFueDc2MjVfZnJlZV9ncGlvKHBs
YXRmb3JtKTsKKwlkZXN0cm95X3dvcmtxdWV1ZShwbGF0Zm9ybS0+d29ya3F1ZXVlKTsKK2VycjA6
CisJa2ZyZWUocGxhdGZvcm0pOworZXhpdDoKKwlyZXR1cm4gcmV0OworfQorCitzdGF0aWMgaW50
IGFueDc2MjVfaTJjX3JlbW92ZShzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50KQoreworCXN0cnVj
dCBhbng3NjI1X2RhdGEgKnBsYXRmb3JtID0gaTJjX2dldF9jbGllbnRkYXRhKGNsaWVudCk7CisK
Kwlkcm1fYnJpZGdlX3JlbW92ZSgmcGxhdGZvcm0tPmJyaWRnZSk7CisKKwlpZiAocGxhdGZvcm0t
PnBkYXRhLmdwaW9faW50cl9ocGQpCisJCWZyZWVfaXJxKHBsYXRmb3JtLT5wZGF0YS5ocGRfaXJx
LCBwbGF0Zm9ybSk7CisKKwlkZXN0cm95X3dvcmtxdWV1ZShwbGF0Zm9ybS0+d29ya3F1ZXVlKTsK
KworCWlmIChwbGF0Zm9ybS0+cGRhdGEuZXh0Y29uX3N1cHBvcnRlZCkgeworCQlkZXZtX2V4dGNv
bl91bnJlZ2lzdGVyX25vdGlmaWVyKCZwbGF0Zm9ybS0+Y2xpZW50LT5kZXYsCisJCQkJCQlwbGF0
Zm9ybS0+ZXh0Y29uLAorCQkJCQkJRVhUQ09OX0RJU1BfRFAsCisJCQkJCQkmcGxhdGZvcm0tPmV2
ZW50X25iKTsKKwkJZmx1c2hfd29yaygmcGxhdGZvcm0tPmV4dGNvbl93cSk7CisJfQorCisJYW54
NzYyNV9kZXRhY2hfZHNpKHBsYXRmb3JtKTsKKworCWlmIChwbGF0Zm9ybS0+YnJpZGdlX2F0dGFj
aGVkKQorCQlkcm1fY29ubmVjdG9yX3VucmVnaXN0ZXIoJnBsYXRmb3JtLT5jb25uZWN0b3IpOwor
CisJYW54NzYyNV91bnJlZ2lzdGVyX2kyY19kdW1teV9jbGllbnRzKHBsYXRmb3JtKTsKKworCWFu
eDc2MjVfZnJlZV9ncGlvKHBsYXRmb3JtKTsKKworCWtmcmVlKHBsYXRmb3JtKTsKKwlyZXR1cm4g
MDsKK30KKworc3RhdGljIGNvbnN0IHN0cnVjdCBpMmNfZGV2aWNlX2lkIGFueDc2MjVfaWRbXSA9
IHsKKwl7ImFueDc2MjUiLCAwfSwKKwl7fQorfTsKKworTU9EVUxFX0RFVklDRV9UQUJMRShpMmMs
IGFueDc2MjVfaWQpOworCisjaWZkZWYgQ09ORklHX09GCitzdGF0aWMgY29uc3Qgc3RydWN0IG9m
X2RldmljZV9pZCBhbnhfbWF0Y2hfdGFibGVbXSA9IHsKKwl7LmNvbXBhdGlibGUgPSAiYW5hbG9n
aXgsYW54NzYyNSIsfSwKKwl7fSwKK307CisjZW5kaWYKKworc3RhdGljIHN0cnVjdCBpMmNfZHJp
dmVyIGFueDc2MjVfZHJpdmVyID0geworCS5kcml2ZXIgPSB7CisJCS5uYW1lID0gImFueDc2MjUi
LAorCQkub3duZXIgPSBUSElTX01PRFVMRSwKKyNpZmRlZiBDT05GSUdfT0YKKwkJLm9mX21hdGNo
X3RhYmxlID0gYW54X21hdGNoX3RhYmxlLAorI2VuZGlmCisJfSwKKwkucHJvYmUgPSBhbng3NjI1
X2kyY19wcm9iZSwKKwkucmVtb3ZlID0gYW54NzYyNV9pMmNfcmVtb3ZlLAorCisJLmlkX3RhYmxl
ID0gYW54NzYyNV9pZCwKK307CisKK21vZHVsZV9pMmNfZHJpdmVyKGFueDc2MjVfZHJpdmVyKTsK
KworTU9EVUxFX0RFU0NSSVBUSU9OKCJNSVBJMkRQIGFueDc2MjUgZHJpdmVyIik7CitNT0RVTEVf
QVVUSE9SKCJYaW4gSmkgPHhqaUBhbmFsb2dpeHNlbWkuY29tPiIpOworTU9EVUxFX0xJQ0VOU0Uo
IkdQTCB2MiIpOworTU9EVUxFX1ZFUlNJT04oQU5YNzYyNV9EUlZfVkVSU0lPTik7CmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FueDc2MjUuaCBiL2RyaXZlcnMv
Z3B1L2RybS9icmlkZ2UvYW5hbG9naXgvYW54NzYyNS5oCm5ldyBmaWxlIG1vZGUgMTAwNjQ0Cmlu
ZGV4IDAwMDAwMDAuLmI3YTkwYzQKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL2dwdS9kcm0v
YnJpZGdlL2FuYWxvZ2l4L2FueDc2MjUuaApAQCAtMCwwICsxLDM5NyBAQAorLyogU1BEWC1MaWNl
bnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb25seSAqLworLyoKKyAqIENvcHlyaWdodChjKSAyMDE2
LCBBbmFsb2dpeCBTZW1pY29uZHVjdG9yLiBBbGwgcmlnaHRzIHJlc2VydmVkLgorICoKKyAqLwor
CisjaWZuZGVmIF9fQU5YNzYyNV9IX18KKyNkZWZpbmUgX19BTlg3NjI1X0hfXworCisjaWZuZGVm
IExPR19UQUcKKyNkZWZpbmUgTE9HX1RBRyAiYW54NzYyNWRwIgorI2VuZGlmCisKKyNkZWZpbmUg
QU5YNzYyNV9EUlZfVkVSU0lPTiAiMC4xLjA0IgorCisvKiBMb2FkaW5nIE9DTSByZS10cnlpbmcg
dGltZXMgKi8KKyNkZWZpbmUgT0NNX0xPQURJTkdfVElNRSAxMAorCisvKioqKioqKioqICBBTlg3
NjI1IFJlZ2lzdGVyICAqKioqKioqKioqLworI2RlZmluZSBUWF9QMF9BRERSCQkJCTB4NzAKKyNk
ZWZpbmUgVFhfUDFfQUREUgkJCQkweDdBCisjZGVmaW5lIFRYX1AyX0FERFIJCQkJMHg3MgorCisj
ZGVmaW5lIFJYX1AwX0FERFIJCQkJMHg3ZQorI2RlZmluZSBSWF9QMV9BRERSCQkJCTB4ODQKKyNk
ZWZpbmUgUlhfUDJfQUREUgkJCQkweDU0CisKKyNkZWZpbmUgUlNWRF8wMF9BRERSCQkJCTB4MDAK
KyNkZWZpbmUgUlNWRF9EMV9BRERSCQkJCTB4RDEKKyNkZWZpbmUgUlNWRF82MF9BRERSCQkJCTB4
NjAKKyNkZWZpbmUgUlNWRF8zOV9BRERSCQkJCTB4MzkKKyNkZWZpbmUgUlNWRF83Rl9BRERSCQkJ
CTB4N0YKKworI2RlZmluZSBUQ1BDX0lOVEVSRkFDRV9BRERSCQkJMHg1OAorCisvKiBhbng3NjI1
IGNsb2NrIGZyZXF1ZW5jeSBpbiBIeiAqLworI2RlZmluZSBYVEFMX0ZSUSAgICAgICAgKDI3ICog
MTAwMDAwMCkKKworI2RlZmluZSAgUE9TVF9ESVZJREVSX01JTgkxCisjZGVmaW5lICBQT1NUX0RJ
VklERVJfTUFYCTE2CisjZGVmaW5lICBQTExfT1VUX0ZSRVFfTUlOCTUyMDAwMDAwMFVMCisjZGVm
aW5lICBQTExfT1VUX0ZSRVFfTUFYCTczMDAwMDAwMFVMCisjZGVmaW5lICBQTExfT1VUX0ZSRVFf
QUJTX01JTgkzMDAwMDAwMDBVTAorI2RlZmluZSAgUExMX09VVF9GUkVRX0FCU19NQVgJODAwMDAw
MDAwVUwKKyNkZWZpbmUgIE1BWF9VTlNJR05FRF8yNEJJVAkxNjc3NzIxNVVMCisKKy8qKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiov
CisvKiBSZWdpc3RlciBkZWZpbml0aW9uIG9mIGRldmljZSBhZGRyZXNzIDB4NTggKi8KKworI2Rl
ZmluZSBQUk9EVUNUX0lEX0wgMHgwMgorI2RlZmluZSBQUk9EVUNUX0lEX0ggMHgwMworCisjZGVm
aW5lIElOVFJfQUxFUlRfMSAgMHhDQworI2RlZmluZSBJTlRSX1NPRlRXQVJFX0lOVCBCSVQoMykK
KyNkZWZpbmUgSU5UUl9SRUNFSVZFRF9NU0cgQklUKDUpCisKKyNkZWZpbmUgU1lTVEVNX1NUU1RV
UyAweDQ1CisjZGVmaW5lIElOVEVSRkFDRV9DSEFOR0VfSU5UIDB4NDQKKyNkZWZpbmUgSFBEX1NU
QVRVU19DSEFOR0UgMHg4MAorI2RlZmluZSBIUERfU1RBVFVTIDB4ODAKKworLyoqKioqKioqIEVO
RCBvZiBJMkMgQWRkcmVzcyAweDU4ICoqKioqKioqLworCisvKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLworLyogUmVnaXN0ZXIg
ZGVmaW5pdGlvbiBvZiBkZXZpY2UgYWRkcmVzcyAweDcwICovCisjZGVmaW5lICBJMkNfQUREUl83
MF9EUFRYICAgICAgICAgICAgICAweDcwCisKKyNkZWZpbmUgU1BfVFhfTElOS19CV19TRVRfUkVH
IDB4QTAKKyNkZWZpbmUgU1BfVFhfTEFORV9DT1VOVF9TRVRfUkVHIDB4QTEKKworI2RlZmluZSBN
X1ZJRF8wIDB4QzAKKyNkZWZpbmUgTV9WSURfMSAweEMxCisjZGVmaW5lIE1fVklEXzIgMHhDMgor
I2RlZmluZSBOX1ZJRF8wIDB4QzMKKyNkZWZpbmUgTl9WSURfMSAweEM0CisjZGVmaW5lIE5fVklE
XzIgMHhDNQorCisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqLworLyogUmVnaXN0ZXIgZGVmaW5pdGlvbiBvZiBkZXZpY2UgYWRk
cmVzcyAweDcyICovCisjZGVmaW5lIEFVWF9SU1QJMHgwNAorI2RlZmluZSBSU1RfQ1RSTDIgMHgw
NworCisjZGVmaW5lIFNQX1RYX1RPVEFMX0xJTkVfU1RBX0wgMHgyNAorI2RlZmluZSBTUF9UWF9U
T1RBTF9MSU5FX1NUQV9IIDB4MjUKKyNkZWZpbmUgU1BfVFhfQUNUX0xJTkVfU1RBX0wgMHgyNgor
I2RlZmluZSBTUF9UWF9BQ1RfTElORV9TVEFfSCAweDI3CisjZGVmaW5lIFNQX1RYX1ZfRl9QT1JD
SF9TVEEgMHgyOAorI2RlZmluZSBTUF9UWF9WX1NZTkNfU1RBIDB4MjkKKyNkZWZpbmUgU1BfVFhf
Vl9CX1BPUkNIX1NUQSAweDJBCisjZGVmaW5lIFNQX1RYX1RPVEFMX1BJWEVMX1NUQV9MIDB4MkIK
KyNkZWZpbmUgU1BfVFhfVE9UQUxfUElYRUxfU1RBX0ggMHgyQworI2RlZmluZSBTUF9UWF9BQ1Rf
UElYRUxfU1RBX0wgMHgyRAorI2RlZmluZSBTUF9UWF9BQ1RfUElYRUxfU1RBX0ggMHgyRQorI2Rl
ZmluZSBTUF9UWF9IX0ZfUE9SQ0hfU1RBX0wgMHgyRgorI2RlZmluZSBTUF9UWF9IX0ZfUE9SQ0hf
U1RBX0ggMHgzMAorI2RlZmluZSBTUF9UWF9IX1NZTkNfU1RBX0wgMHgzMQorI2RlZmluZSBTUF9U
WF9IX1NZTkNfU1RBX0ggMHgzMgorI2RlZmluZSBTUF9UWF9IX0JfUE9SQ0hfU1RBX0wgMHgzMwor
I2RlZmluZSBTUF9UWF9IX0JfUE9SQ0hfU1RBX0ggMHgzNAorCisjZGVmaW5lIFNQX1RYX1ZJRF9D
VFJMIDB4ODQKKyNkZWZpbmUgU1BfVFhfQlBDX01BU0sgMHhFMAorI2RlZmluZSBTUF9UWF9CUENf
NiAgICAweDAwCisjZGVmaW5lIFNQX1RYX0JQQ184ICAgIDB4MjAKKyNkZWZpbmUgU1BfVFhfQlBD
XzEwICAgMHg0MAorI2RlZmluZSBTUF9UWF9CUENfMTIgICAweDYwCisKKyNkZWZpbmUgVklERU9f
QklUX01BVFJJWF8xMiAweDRjCisKKyNkZWZpbmUgQVVESU9fQ0hBTk5FTF9TVEFUVVNfMSAweGQw
CisjZGVmaW5lIEFVRElPX0NIQU5ORUxfU1RBVFVTXzIgMHhkMQorI2RlZmluZSBBVURJT19DSEFO
TkVMX1NUQVRVU18zIDB4ZDIKKyNkZWZpbmUgQVVESU9fQ0hBTk5FTF9TVEFUVVNfNCAweGQzCisj
ZGVmaW5lIEFVRElPX0NIQU5ORUxfU1RBVFVTXzUgMHhkNAorI2RlZmluZSBBVURJT19DSEFOTkVM
X1NUQVRVU182IDB4ZDUKKyNkZWZpbmUgVERNX1NMQVZFX01PREUgMHgxMAorI2RlZmluZSBJMlNf
U0xBVkVfTU9ERSAweDA4CisKKyNkZWZpbmUgQVVESU9fQ09OVFJPTF9SRUdJU1RFUiAweGU2Cisj
ZGVmaW5lIFRETV9USU1JTkdfTU9ERSAweDA4CisKKyNkZWZpbmUgIEkyQ19BRERSXzcyX0RQVFgg
ICAgICAgICAgICAgIDB4NzIKKworI2RlZmluZSAgVklERU9fQ09OVFJPTF8wICAweDA4CisKKyNk
ZWZpbmUgIEFDVElWRV9MSU5FU19MICAgICAgICAgMHgxNAorI2RlZmluZSAgQUNUSVZFX0xJTkVT
X0ggICAgICAgICAweDE1ICAvKiBub3RlOiBiaXRbNzo2XSBhcmUgcmVzZXJ2ZWQgKi8KKyNkZWZp
bmUgIFZFUlRJQ0FMX0ZST05UX1BPUkNIICAgMHgxNgorI2RlZmluZSAgVkVSVElDQUxfU1lOQ19X
SURUSCAgICAweDE3CisjZGVmaW5lICBWRVJUSUNBTF9CQUNLX1BPUkNIICAgIDB4MTgKKworI2Rl
ZmluZSAgSE9SSVpPTlRBTF9UT1RBTF9QSVhFTFNfTCAgICAweDE5CisjZGVmaW5lICBIT1JJWk9O
VEFMX1RPVEFMX1BJWEVMU19IICAgIDB4MUEgIC8qIG5vdGU6IGJpdFs3OjZdIGFyZSByZXNlcnZl
ZCAqLworI2RlZmluZSAgSE9SSVpPTlRBTF9BQ1RJVkVfUElYRUxTX0wgICAweDFCCisjZGVmaW5l
ICBIT1JJWk9OVEFMX0FDVElWRV9QSVhFTFNfSCAgIDB4MUMgIC8qIG5vdGU6IGJpdFs3OjZdIGFy
ZSByZXNlcnZlZCAqLworI2RlZmluZSAgSE9SSVpPTlRBTF9GUk9OVF9QT1JDSF9MICAgICAweDFE
CisjZGVmaW5lICBIT1JJWk9OVEFMX0ZST05UX1BPUkNIX0ggICAgIDB4MUUgIC8qIG5vdGU6IGJp
dFs3OjRdIGFyZSByZXNlcnZlZCAqLworI2RlZmluZSAgSE9SSVpPTlRBTF9TWU5DX1dJRFRIX0wg
ICAgICAweDFGCisjZGVmaW5lICBIT1JJWk9OVEFMX1NZTkNfV0lEVEhfSCAgICAgIDB4MjAgIC8q
IG5vdGU6IGJpdFs3OjRdIGFyZSByZXNlcnZlZCAqLworI2RlZmluZSAgSE9SSVpPTlRBTF9CQUNL
X1BPUkNIX0wgICAgICAweDIxCisjZGVmaW5lICBIT1JJWk9OVEFMX0JBQ0tfUE9SQ0hfSCAgICAg
IDB4MjIgIC8qIG5vdGU6IGJpdFs3OjRdIGFyZSByZXNlcnZlZCAqLworCisvKioqKioqKiogRU5E
IG9mIEkyQyBBZGRyZXNzIDB4NzIgKioqKioqKioqLworLyoqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KKy8qIFJlZ2lzdGVyIGRl
ZmluaXRpb24gb2YgZGV2aWNlIGFkZHJlc3MgMHg3ZSAqLworCisjZGVmaW5lICBJMkNfQUREUl83
RV9GTEFTSF9DT05UUk9MTEVSICAweDdFCisKKyNkZWZpbmUgRkxBU0hfTE9BRF9TVEEgMHgwNQor
I2RlZmluZSBGTEFTSF9MT0FEX1NUQV9DSEsJQklUKDcpCisKKyNkZWZpbmUgIFhUQUxfRlJRX1NF
TCAgICAweDNGCisvKiBiaXQgZmllbGQgcG9zaXRpb25zICovCisjZGVmaW5lICBYVEFMX0ZSUV9T
RUxfUE9TICAgIDUKKy8qIGJpdCBmaWVsZCB2YWx1ZXMgKi8KKyNkZWZpbmUgIFhUQUxfRlJRXzE5
TTIgICAoMCA8PCBYVEFMX0ZSUV9TRUxfUE9TKQorI2RlZmluZSAgWFRBTF9GUlFfMjdNICAgICg0
IDw8IFhUQUxfRlJRX1NFTF9QT1MpCisKKyNkZWZpbmUgIFJfRFNDX0NUUkxfMCAgICAweDQwCisj
ZGVmaW5lICBSRUFEX1NUQVRVU19FTiAgNworI2RlZmluZSAgQ0xLXzFNRUdfUkIgICAgIDYgIC8q
IDFNSHogY2xvY2sgcmVzZXQ7IDA9cmVzZXQsIDA9cmVzZXQgcmVsZWFzZSAqLworI2RlZmluZSAg
RFNDX0JJU1RfRE9ORSAgIDEgIC8qIGJpdFs1OjFdOiAxPURTQyBNQklTVCBwYXNzICovCisjZGVm
aW5lICBEU0NfRU4gICAgICAgICAgMHgwMSAgLyogMT1EU0MgZW5hYmxlZCwgMD1EU0MgZGlzYWJs
ZWQgKi8KKworI2RlZmluZSBPQ01fRldfVkVSU0lPTiAgIDB4MzEKKyNkZWZpbmUgT0NNX0ZXX1JF
VkVSU0lPTiAweDMyCisKKyNkZWZpbmUgQVBfQVVYX0FERFJfN18wICAgMHgxMQorI2RlZmluZSBB
UF9BVVhfQUREUl8xNV84ICAweDEyCisjZGVmaW5lIEFQX0FVWF9BRERSXzE5XzE2IDB4MTMKKwor
Lyogbm90ZTogYml0WzA6M10gQVVYIHN0YXR1cywgYml0IDQgb3BfZW4sIGJpdCA1IGFkZHJlc3Mg
b25seSAqLworI2RlZmluZSBBUF9BVVhfQ1RSTF9TVEFUVVMgMHgxNAorI2RlZmluZSBBUF9BVVhf
Q1RSTF9PUF9FTiAweDEwCisjZGVmaW5lIEFQX0FVWF9DVFJMX0FERFJPTkxZIDB4MjAKKworI2Rl
ZmluZSBBUF9BVVhfQlVGRl9TVEFSVCAweDE1CisjZGVmaW5lIFBJWEVMX0NMT0NLX0wgMHgyNQor
I2RlZmluZSBQSVhFTF9DTE9DS19IIDB4MjYKKworI2RlZmluZSBBUF9BVVhfQ09NTUFORCAweDI3
ICAvKiBjb20rbGVuICovCisvKiBiaXQgMCYxOiAzRCB2aWRlbyBzdHJ1Y3R1cmUgKi8KKy8qIDB4
MDE6IGZyYW1lIHBhY2tpbmcsICAweDAyOkxpbmUgYWx0ZXJuYXRpdmUsIDB4MDM6U2lkZS1ieS1z
aWRlKGZ1bGwpICovCisjZGVmaW5lIEFQX0FWX1NUQVRVUyAweDI4CisjZGVmaW5lIEFQX1ZJREVP
X0NIRyAgQklUKDIpCisjZGVmaW5lIEFQX0FVRElPX0NIRyAgQklUKDMpCisjZGVmaW5lIEFQX01J
UElfTVVURSAgQklUKDQpIC8qIDE6TUlQSSBpbnB1dCBtdXRlLCAwOiB1bW11dGUgKi8KKyNkZWZp
bmUgQVBfTUlQSV9SWF9FTiBCSVQoNSkgLyogMTogTUlQSSBSWCBpbnB1dCBpbiAgMDogbm8gUlgg
aW4gKi8KKyNkZWZpbmUgQVBfRElTQUJMRV9QRCBCSVQoNikKKyNkZWZpbmUgQVBfRElTQUJMRV9E
SVNQTEFZIEJJVCg3KQorLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKi8KKy8qIFJlZ2lzdGVyIGRlZmluaXRpb24gb2YgZGV2aWNl
IGFkZHJlc3MgMHg4NCAqLworI2RlZmluZSAgTUlQSV9QSFlfQ09OVFJPTF8zICAgICAgICAgICAg
MHgwMworI2RlZmluZSAgTUlQSV9IU19QV0RfQ0xLICAgICAgICAgICAgICAgNworI2RlZmluZSAg
TUlQSV9IU19SVF9DTEsgICAgICAgICAgICAgICAgNgorI2RlZmluZSAgTUlQSV9QRF9DTEsgICAg
ICAgICAgICAgICAgICAgNQorI2RlZmluZSAgTUlQSV9DTEtfUlRfTUFOVUFMX1BEX0VOICAgICAg
NAorI2RlZmluZSAgTUlQSV9DTEtfSFNfTUFOVUFMX1BEX0VOICAgICAgMworI2RlZmluZSAgTUlQ
SV9DTEtfREVUX0RFVF9CWVBBU1MgICAgICAgMgorI2RlZmluZSAgTUlQSV9DTEtfTUlTU19DVFJM
ICAgICAgICAgICAgMQorI2RlZmluZSAgTUlQSV9QRF9MUFRYX0NIX01BTlVBTF9QRF9FTiAgMAor
CisjZGVmaW5lICBNSVBJX0xBTkVfQ1RSTF8wCQkweDA1CisjZGVmaW5lICBNSVBJX1RJTUVfSFNf
UFJQUgkJMHgwOAorCisvKiBBZnRlciBNSVBJIFJYIHByb3RvY29sIGxheWVyIHJlY2VpdmVkIHRo
aXMgbWFueSB2aWRlbyBmcmFtZXMsICovCisvKiBwcm90b2NvbCBsYXllciBzdGFydHMgdG8gcmVj
b25zdHJ1Y3QgdmlkZW8gc3RyZWFtIGZyb20gUEhZICovCisjZGVmaW5lICBNSVBJX1ZJREVPX1NU
QUJMRV9DTlQgICAgICAgICAgIDB4MEEKKworI2RlZmluZSAgTUlQSV9MQU5FX0NUUkxfMTAgICAg
ICAgICAgICAgICAweDBGCisjZGVmaW5lICBNSVBJX0RJR0lUQUxfQURKXzEgICAweDFCCisKKyNk
ZWZpbmUgIE1JUElfUExMX01fTlVNXzIzXzE2ICAgMHgxRQorI2RlZmluZSAgTUlQSV9QTExfTV9O
VU1fMTVfOCAgICAweDFGCisjZGVmaW5lICBNSVBJX1BMTF9NX05VTV83XzAgICAgIDB4MjAKKyNk
ZWZpbmUgIE1JUElfUExMX05fTlVNXzIzXzE2ICAgMHgyMQorI2RlZmluZSAgTUlQSV9QTExfTl9O
VU1fMTVfOCAgICAweDIyCisjZGVmaW5lICBNSVBJX1BMTF9OX05VTV83XzAgICAgIDB4MjMKKwor
I2RlZmluZSAgTUlQSV9ESUdJVEFMX1BMTF82ICAgICAweDJBCisvKiBiaXRbNzo2XTogVkNPIGJh
bmQgY29udHJvbCwgb25seSBlZmZlY3RpdmUgKi8KKy8qIHdoZW4gTUlQSV9QTExfRk9SQ0VfQkFO
RF9FTiAoMHg4NDoweDJCWzZdKSBpcyAxICovCisjZGVmaW5lICBNSVBJX01fTlVNX1JFQURZICAg
ICAgICAweDEwCisjZGVmaW5lICBNSVBJX05fTlVNX1JFQURZICAgICAgICAweDA4CisjZGVmaW5l
ICBTVEFCTEVfSU5URUdFUl9DTlRfRU4gICAweDA0CisjZGVmaW5lICBNSVBJX1BMTF9URVNUX0JJ
VCAgICAgICAwCisvKiBiaXRbMTowXTogdGVzdCBwb2ludCBvdXRwdXQgc2VsZWN0IC0gKi8KKy8q
IDAwOiBWQ08gcG93ZXIsIDAxOiBkdmRkX3BkdCwgMTA6IGR2ZGQsIDExOiB2Y294ICovCisKKyNk
ZWZpbmUgIE1JUElfRElHSVRBTF9QTExfNyAgICAgIDB4MkIKKyNkZWZpbmUgIE1JUElfUExMX0ZP
UkNFX05fRU4gICAgIDcKKyNkZWZpbmUgIE1JUElfUExMX0ZPUkNFX0JBTkRfRU4gIDYKKworI2Rl
ZmluZSAgTUlQSV9QTExfVkNPX1RVTkVfUkVHICAgNAorLyogYml0WzU6NF06IFZDTyBtZXRhbCBj
YXBhY2l0YW5jZSAtICovCisvKiAwMDogKzIwJSBmYXN0LCAwMTogKzEwJSBmYXN0IChkZWZhdWx0
KSwgMTA6IHR5cGljYWwsIDExOiAtMTAlIHNsb3cgKi8KKyNkZWZpbmUgIE1JUElfUExMX1ZDT19U
VU5FX1JFR19WQUwgICAweDMwCisKKyNkZWZpbmUgIE1JUElfUExMX1BMTF9MRE9fQklUICAgIDIK
Ky8qIGJpdFszOjJdOiB2Y29fdjJpIHBvd2VyIC0gKi8KKy8qIDAwOiAxLjQwViwgMDE6IDEuNDVW
IChkZWZhdWx0KSwgMTA6IDEuNTBWLCAxMTogMS41NVYgKi8KKyNkZWZpbmUgIE1JUElfUExMX1JF
U0VUX04gICAgICAgIDB4MDIKKyNkZWZpbmUgIE1JUElfRlJRX0ZPUkNFX05ERVQgICAgIDAKKwor
I2RlZmluZSAgTUlQSV9BTEVSVF9DTFJfMCAgICAgICAgMHgyRAorI2RlZmluZSAgSFNfbGlua19l
cnJvcl9jbGVhciAgICAgNworLyogVGhpcyBiaXQgaXRzZWxmIGlzIFMvQywgYW5kIGl0IGNsZWFy
cyAweDg0OjB4MzFbN10gKi8KKworI2RlZmluZSAgTUlQSV9BTEVSVF9PVVRfMCAgICAgICAgMHgz
MQorI2RlZmluZSAgY2hlY2tfc3VtX2Vycl9oc19zeW5jICAgNworLyogVGhpcyBiaXQgaXMgY2xl
YXJlZCBieSAweDg0OjB4MkRbN10gKi8KKworI2RlZmluZSAgTUlQSV9ESUdJVEFMX1BMTF84ICAg
IDB4MzMKKyNkZWZpbmUgIE1JUElfUE9TVF9ESVZfVkFMICAgICA0CisvKiBuIG1lYW5zIGRpdmlk
ZWQgYnkgKG4rMSksIG4gPSAwfjE1ICovCisjZGVmaW5lICBNSVBJX0VOX0xPQ0tfRlJaICAgICAg
MworI2RlZmluZSAgTUlQSV9GUlFfQ09VTlRFUl9SU1QgIDIKKyNkZWZpbmUgIE1JUElfRlJRX1NF
VF9SRUdfOCAgICAxCisvKiBiaXQgMCBpcyByZXNlcnZlZCAqLworCisjZGVmaW5lICBNSVBJX0RJ
R0lUQUxfUExMXzkgICAgMHgzNAorCisjZGVmaW5lICBNSVBJX0RJR0lUQUxfUExMXzE2ICAgMHgz
QgorI2RlZmluZSAgTUlQSV9GUlFfRlJFRVpFX05ERVQgICAgICAgICAgNworI2RlZmluZSAgTUlQ
SV9GUlFfUkVHX1NFVF9FTkFCTEUgICAgICAgNgorI2RlZmluZSAgTUlQSV9SRUdfRk9SQ0VfU0VM
X0VOICAgICAgICAgNQorI2RlZmluZSAgTUlQSV9SRUdfU0VMX0RJVl9SRUcgICAgICAgICAgNAor
I2RlZmluZSAgTUlQSV9SRUdfRk9SQ0VfUFJFX0RJVl9FTiAgICAgMworLyogYml0IDIgaXMgcmVz
ZXJ2ZWQgKi8KKyNkZWZpbmUgIE1JUElfRlJFRl9EX0lORCAgICAgICAgICAgICAgIDEKKyNkZWZp
bmUgIFJFRl9DTEtfMjcwMDBLSFogICAgMQorI2RlZmluZSAgUkVGX0NMS18xOTIwMEtIWiAgICAw
CisjZGVmaW5lICBNSVBJX1JFR19QTExfUExMX1RFU1RfRU5BQkxFICAwCisKKyNkZWZpbmUgIE1J
UElfRElHSVRBTF9QTExfMTggIDB4M0QKKyNkZWZpbmUgIEZSUV9DT1VOVF9SQl9TRUwgICAgICAg
NworI2RlZmluZSAgUkVHX0ZPUkNFX1BPU1RfRElWX0VOICA2CisjZGVmaW5lICBNSVBJX0RQSV9T
RUxFQ1QgICAgICAgIDUKKyNkZWZpbmUgIFNFTEVDVF9EU0kgIDEKKyNkZWZpbmUgIFNFTEVDVF9E
UEkgIDAKKyNkZWZpbmUgIFJFR19CQVVEX0RJVl9SQVRJTyAgICAgMAorCisjZGVmaW5lICBIX0JM
QU5LX0wgICAgICAgICAgICAweDNFCisvKiBmb3IgRFNDIG9ubHkgKi8KKyNkZWZpbmUgIEhfQkxB
TktfSCAgICAgICAgICAgIDB4M0YKKy8qIGZvciBEU0Mgb25seTsgbm90ZTogYml0Wzc6Nl0gYXJl
IHJlc2VydmVkICovCisjZGVmaW5lICBNSVBJX1NXQVAgIDB4NEEKKyNkZWZpbmUgIE1JUElfU1dB
UF9DSDAgICAgNworI2RlZmluZSAgTUlQSV9TV0FQX0NIMSAgICA2CisjZGVmaW5lICBNSVBJX1NX
QVBfQ0gyICAgIDUKKyNkZWZpbmUgIE1JUElfU1dBUF9DSDMgICAgNAorI2RlZmluZSAgTUlQSV9T
V0FQX0NMSyAgICAzCisvKiBiaXRbMjowXSBhcmUgcmVzZXJ2ZWQgKi8KKworLyoqKioqKioqIEVO
RCBvZiBJMkMgQWRkcmVzcyAweDg0ICoqKioqKioqKi8KKworLyogRFBDRCByZWdzICovCisjZGVm
aW5lIERQQ0RfRFBDRF9SRVYgICAgICAgICAgICAgICAgICAweDAwCisjZGVmaW5lIERQQ0RfTUFY
X0xJTktfUkFURSAgICAgICAgICAgICAweDAxCisjZGVmaW5lIERQQ0RfTUFYX0xBTkVfQ09VTlQg
ICAgICAgICAgICAweDAyCisKKy8qKioqKioqKiogIEFOWDc2MjUgUmVnaXN0ZXIgRW5kICAqKioq
KioqKioqLworCisvKioqKioqKioqKioqKioqKiogIERpc3BsYXkgKioqKioqKioqKioqKioqKiov
CitlbnVtIGF1ZGlvX2ZzIHsKKwlBVURJT19GU180NDFLICA9IDB4MDAsCisJQVVESU9fRlNfNDhL
ICAgPSAweDAyLAorCUFVRElPX0ZTXzMySyAgID0gMHgwMywKKwlBVURJT19GU184ODJLICA9IDB4
MDgsCisJQVVESU9fRlNfOTZLICAgPSAweDBhLAorCUFVRElPX0ZTXzE3NjRLID0gMHgwYywKKwlB
VURJT19GU18xOTJLICA9IDB4MGUKK307CisKK2VudW0gYXVkaW9fd2RfbGVuIHsKKwlBVURJT19X
X0xFTl8xNl8yME1BWCA9IDB4MDIsCisJQVVESU9fV19MRU5fMThfMjBNQVggPSAweDA0LAorCUFV
RElPX1dfTEVOXzE3XzIwTUFYID0gMHgwYywKKwlBVURJT19XX0xFTl8xOV8yME1BWCA9IDB4MDgs
CisJQVVESU9fV19MRU5fMjBfMjBNQVggPSAweDBhLAorCUFVRElPX1dfTEVOXzIwXzI0TUFYID0g
MHgwMywKKwlBVURJT19XX0xFTl8yMl8yNE1BWCA9IDB4MDUsCisJQVVESU9fV19MRU5fMjFfMjRN
QVggPSAweDBkLAorCUFVRElPX1dfTEVOXzIzXzI0TUFYID0gMHgwOSwKKwlBVURJT19XX0xFTl8y
NF8yNE1BWCA9IDB4MGIKK307CisKKyNkZWZpbmUgSTJTX0NIXzIJMHgwMQorI2RlZmluZSBURE1f
Q0hfNAkweDAzCisjZGVmaW5lIFRETV9DSF82CTB4MDUKKyNkZWZpbmUgVERNX0NIXzgJMHgwNwor
CisjZGVmaW5lIE1BWF9EUENEX0JVRkZFUl9TSVpFCTE2CisKKyNkZWZpbmUgT05FX0JMT0NLX1NJ
WkUgICAgICAxMjgKKyNkZWZpbmUgRk9VUl9CTE9DS19TSVpFICAgICAoMTI4ICogNCkKKworc3Ry
dWN0IHNfZWRpZF9kYXRhIHsKKwlpbnQgZWRpZF9ibG9ja19udW07CisJdTggZWRpZF9yYXdfZGF0
YVtGT1VSX0JMT0NLX1NJWkVdOworfTsKKworLyoqKioqKioqKioqKioqKioqICBEaXNwbGF5IEVu
ZCAqKioqKioqKioqKioqKioqKi8KKworc3RydWN0IGFueDc2MjVfcGxhdGZvcm1fZGF0YSB7CisJ
aW50IGdwaW9fcF9vbjsKKwlpbnQgZ3Bpb19yZXNldDsKKwlpbnQgZ3Bpb19pbnRyX2hwZDsKKwlp
bnQgaHBkX2lycTsKKwl1MzIgbG93X3Bvd2VyX21vZGU7CisJdTMyIGRzaV9zdXBwb3J0ZWQ7CisJ
dTMyIGludGVybmFsX3Bhbm5lbDsKKwl1MzIgZHNpX2NoYW5uZWw7CisJdTMyIGRzaV9sYW5lczsK
Kwl1MzIgZXh0Y29uX3N1cHBvcnRlZDsKKwlzdHJ1Y3QgZGV2aWNlX25vZGUgKmhvc3Rfbm9kZTsK
K307CisKK3N0cnVjdCBhbng3NjI1X2kyY19jbGllbnQgeworCXN0cnVjdCBpMmNfY2xpZW50ICp0
eF9wMF9jbGllbnQ7CisJc3RydWN0IGkyY19jbGllbnQgKnR4X3AxX2NsaWVudDsKKwlzdHJ1Y3Qg
aTJjX2NsaWVudCAqdHhfcDJfY2xpZW50OworCXN0cnVjdCBpMmNfY2xpZW50ICpyeF9wMF9jbGll
bnQ7CisJc3RydWN0IGkyY19jbGllbnQgKnJ4X3AxX2NsaWVudDsKKwlzdHJ1Y3QgaTJjX2NsaWVu
dCAqcnhfcDJfY2xpZW50OworCXN0cnVjdCBpMmNfY2xpZW50ICpyeF9wM19jbGllbnQ7CisJc3Ry
dWN0IGkyY19jbGllbnQgKnRjcGNfY2xpZW50OworfTsKKworc3RydWN0IGFueDc2MjVfZGF0YSB7
CisJc3RydWN0IGFueDc2MjVfcGxhdGZvcm1fZGF0YSBwZGF0YTsKKwlhdG9taWNfdCBwb3dlcl9z
dGF0dXM7CisJYm9vbCBocGRfc3RhdHVzOworCWludCBocGRfaGlnaF9jbnQ7CisJc3RydWN0IGky
Y19jbGllbnQgKmNsaWVudDsKKwlzdHJ1Y3QgYW54NzYyNV9pMmNfY2xpZW50IGkyYzsKKwlzdHJ1
Y3QgaTJjX2NsaWVudCAqbGFzdF9jbGllbnQ7CisJc3RydWN0IHNfZWRpZF9kYXRhICpzbGltcG9y
dF9lZGlkX3A7CisJc3RydWN0IHdvcmtfc3RydWN0IHdvcms7CisJc3RydWN0IHdvcmtxdWV1ZV9z
dHJ1Y3QgKndvcmtxdWV1ZTsKKwkvKiBkcm0gYnJpZGdlIG11dGV4IGxvY2sgKi8KKwlzdHJ1Y3Qg
bXV0ZXggbG9jazsKKwljaGFyIGVkaWRfYmxvY2s7CisJc3RydWN0IGRpc3BsYXlfdGltaW5nIGR0
OworCXU4IGRpc3BsYXlfdGltaW5nX3ZhbGlkOworCXN0cnVjdCBkcm1fYnJpZGdlIGJyaWRnZTsK
Kwl1OCBicmlkZ2VfYXR0YWNoZWQ7CisJc3RydWN0IGRybV9jb25uZWN0b3IgY29ubmVjdG9yOwor
CXN0cnVjdCBtaXBpX2RzaV9kZXZpY2UgKmRzaTsKKwlzdHJ1Y3QgZHJtX2RwX2xpbmsgbGluazsK
KwlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSB2aWRfaW5mbzsKKwlzdHJ1Y3Qgbm90aWZpZXJfYmxv
Y2sgZXZlbnRfbmI7CisJc3RydWN0IGV4dGNvbl9kZXYgKmV4dGNvbjsKKwlzdHJ1Y3Qgd29ya19z
dHJ1Y3QgZXh0Y29uX3dxOworfTsKKworI2VuZGlmICAvKiBfX0FOWDc2MjVfSF9fICovCi0tIAoy
LjcuNAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJp
LWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBz
Oi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
