Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id B1B6EBDDBB
	for <lists+dri-devel@lfdr.de>; Wed, 25 Sep 2019 14:07:14 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8B97F89D5B;
	Wed, 25 Sep 2019 12:07:11 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id ADA2F89D4B;
 Wed, 25 Sep 2019 12:07:10 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx01.intmail.prod.int.phx2.redhat.com
 [10.5.11.11])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id AF4B33082131;
 Wed, 25 Sep 2019 12:07:09 +0000 (UTC)
Received: from [10.72.12.148] (ovpn-12-148.pek2.redhat.com [10.72.12.148])
 by smtp.corp.redhat.com (Postfix) with ESMTP id B716F6012E;
 Wed, 25 Sep 2019 12:06:30 +0000 (UTC)
Subject: Re: [PATCH V2 6/8] mdev: introduce virtio device and its device ops
To: Alex Williamson <alex.williamson@redhat.com>
References: <20190924135332.14160-1-jasowang@redhat.com>
 <20190924135332.14160-7-jasowang@redhat.com>
 <20190924170640.1da03bae@x1.home>
From: Jason Wang <jasowang@redhat.com>
Message-ID: <3bb42d7c-b8d7-87d0-a2e0-52998f502efb@redhat.com>
Date: Wed, 25 Sep 2019 20:06:21 +0800
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <20190924170640.1da03bae@x1.home>
Content-Language: en-US
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.11
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.42]); Wed, 25 Sep 2019 12:07:10 +0000 (UTC)
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: christophe.de.dinechin@gmail.com, kvm@vger.kernel.org, mst@redhat.com,
 airlied@linux.ie, heiko.carstens@de.ibm.com, kevin.tian@intel.com,
 dri-devel@lists.freedesktop.org, virtualization@lists.linux-foundation.org,
 kwankhede@nvidia.com, rob.miller@broadcom.com, linux-s390@vger.kernel.org,
 sebott@linux.ibm.com, lulu@redhat.com, eperezma@redhat.com,
 pasic@linux.ibm.com, borntraeger@de.ibm.com, haotian.wang@sifive.com,
 cunming.liang@intel.com, zhi.a.wang@intel.com, farman@linux.ibm.com,
 idos@mellanox.com, gor@linux.ibm.com, intel-gfx@lists.freedesktop.org,
 rodrigo.vivi@intel.com, xiao.w.wang@intel.com, freude@linux.ibm.com,
 parav@mellanox.com, zhihong.wang@intel.com,
 intel-gvt-dev@lists.freedesktop.org, akrowiak@linux.ibm.com,
 oberpar@linux.ibm.com, tiwei.bie@intel.com, netdev@vger.kernel.org,
 cohuck@redhat.com, linux-kernel@vger.kernel.org, maxime.coquelin@redhat.com,
 lingshan.zhu@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Ck9uIDIwMTkvOS8yNSDkuIrljYg3OjA2LCBBbGV4IFdpbGxpYW1zb24gd3JvdGU6Cj4gT24gVHVl
LCAyNCBTZXAgMjAxOSAyMTo1MzozMCArMDgwMAo+IEphc29uIFdhbmcgPGphc293YW5nQHJlZGhh
dC5jb20+IHdyb3RlOgo+Cj4+IFRoaXMgcGF0Y2ggaW1wbGVtZW50cyBiYXNpYyBzdXBwb3J0IGZv
ciBtZGV2IGRyaXZlciB0aGF0IHN1cHBvcnRzCj4+IHZpcnRpbyB0cmFuc3BvcnQgZm9yIGtlcm5l
bCB2aXJ0aW8gZHJpdmVyLgo+Pgo+PiBTaWduZWQtb2ZmLWJ5OiBKYXNvbiBXYW5nIDxqYXNvd2Fu
Z0ByZWRoYXQuY29tPgo+PiAtLS0KPj4gIGluY2x1ZGUvbGludXgvbWRldi5oICAgICAgICB8ICAg
MiArCj4+ICBpbmNsdWRlL2xpbnV4L3ZpcnRpb19tZGV2LmggfCAxNDUgKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrCj4+ICAyIGZpbGVzIGNoYW5nZWQsIDE0NyBpbnNlcnRpb25z
KCspCj4+ICBjcmVhdGUgbW9kZSAxMDA2NDQgaW5jbHVkZS9saW51eC92aXJ0aW9fbWRldi5oCj4+
Cj4+IGRpZmYgLS1naXQgYS9pbmNsdWRlL2xpbnV4L21kZXYuaCBiL2luY2x1ZGUvbGludXgvbWRl
di5oCj4+IGluZGV4IDM0MTQzMDczMTFmMS4uNzNhYzI3YjNiODY4IDEwMDY0NAo+PiAtLS0gYS9p
bmNsdWRlL2xpbnV4L21kZXYuaAo+PiArKysgYi9pbmNsdWRlL2xpbnV4L21kZXYuaAo+PiBAQCAt
MTI2LDYgKzEyNiw4IEBAIHN0cnVjdCBtZGV2X2RldmljZSAqbWRldl9mcm9tX2RldihzdHJ1Y3Qg
ZGV2aWNlICpkZXYpOwo+PiAgCj4+ICBlbnVtIHsKPj4gIAlNREVWX0lEX1ZGSU8gPSAxLAo+PiAr
CU1ERVZfSURfVklSVElPID0gMiwKPj4gKwlNREVWX0lEX1ZIT1NUID0gMywKPiBNREVWX0lEX1ZI
T1NUIGlzbid0IHVzZWQgeWV0IGhlcmUuIAoKClllcywganVzdCB3YW50IHRvIHJlc2VydmUgb25l
IGJ1dCBpdCBsb29rIHRvbyBlYXJseSB0byBkbyB0aGF0LgoKCj4gIEFsc28sIGdpdmVuIHRoZSBz
dHJvbmcKPiBpbnRlcmRlcGVuZGVuY2UgYmV0d2VlbiB0aGUgY2xhc3NfaWQgYW5kIHRoZSBvcHMg
c3RydWN0dXJlLCB3ZSBtaWdodAo+IHdhbmQgdG8gZGVmaW5lIHRoZW0gaW4gdGhlIHNhbWUgcGxh
Y2UuICBUaGFua3MsCj4KPiBBbGV4CgoKWWVzLCBhcyB5b3Ugc3VnZ2VzdCBpbiBwYXRjaCA1Lzgu
CgpUaGFua3MKCgo+Cj4+ICAJLyogTmV3IGVudHJpZXMgbXVzdCBiZSBhZGRlZCBoZXJlICovCj4+
ICB9Owo+PiAgCj4+IGRpZmYgLS1naXQgYS9pbmNsdWRlL2xpbnV4L3ZpcnRpb19tZGV2LmggYi9p
bmNsdWRlL2xpbnV4L3ZpcnRpb19tZGV2LmgKPj4gbmV3IGZpbGUgbW9kZSAxMDA2NDQKPj4gaW5k
ZXggMDAwMDAwMDAwMDAwLi5kMWE0MGE3MzkyNjYKPj4gLS0tIC9kZXYvbnVsbAo+PiArKysgYi9p
bmNsdWRlL2xpbnV4L3ZpcnRpb19tZGV2LmgKPj4gQEAgLTAsMCArMSwxNDUgQEAKPj4gKy8qIFNQ
RFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wLW9ubHkgKi8KPj4gKy8qCj4+ICsgKiBWaXJ0
aW8gbWVkaWF0ZWQgZGV2aWNlIGRyaXZlcgo+PiArICoKPj4gKyAqIENvcHlyaWdodCAyMDE5LCBS
ZWQgSGF0IENvcnAuCj4+ICsgKiAgICAgQXV0aG9yOiBKYXNvbiBXYW5nIDxqYXNvd2FuZ0ByZWRo
YXQuY29tPgo+PiArICovCj4+ICsjaWZuZGVmIF9MSU5VWF9WSVJUSU9fTURFVl9ICj4+ICsjZGVm
aW5lIF9MSU5VWF9WSVJUSU9fTURFVl9ICj4+ICsKPj4gKyNpbmNsdWRlIDxsaW51eC9pbnRlcnJ1
cHQuaD4KPj4gKyNpbmNsdWRlIDxsaW51eC9tZGV2Lmg+Cj4+ICsjaW5jbHVkZSA8dWFwaS9saW51
eC92aG9zdC5oPgo+PiArCj4+ICsjZGVmaW5lIFZJUlRJT19NREVWX0RFVklDRV9BUElfU1RSSU5H
CQkidmlydGlvLW1kZXYiCj4+ICsjZGVmaW5lIFZJUlRJT19NREVWX1ZFUlNJT04gMHgxCj4+ICsK
Pj4gK3N0cnVjdCB2aXJ0aW9fbWRldl9jYWxsYmFjayB7Cj4+ICsJaXJxcmV0dXJuX3QgKCpjYWxs
YmFjaykodm9pZCAqZGF0YSk7Cj4+ICsJdm9pZCAqcHJpdmF0ZTsKPj4gK307Cj4+ICsKPj4gKy8q
Kgo+PiArICogc3RydWN0IHZmaW9fbWRldl9kZXZpY2Vfb3BzIC0gU3RydWN0dXJlIHRvIGJlIHJl
Z2lzdGVyZWQgZm9yIGVhY2gKPj4gKyAqIG1kZXYgZGV2aWNlIHRvIHJlZ2lzdGVyIHRoZSBkZXZp
Y2UgdG8gdmlydGlvLW1kZXYgbW9kdWxlLgo+PiArICoKPj4gKyAqIEBzZXRfdnFfYWRkcmVzczoJ
CVNldCB0aGUgYWRkcmVzcyBvZiB2aXJ0cXVldWUKPj4gKyAqCQkJCUBtZGV2OiBtZWRpYXRlZCBk
ZXZpY2UKPj4gKyAqCQkJCUBpZHg6IHZpcnRxdWV1ZSBpbmRleAo+PiArICoJCQkJQGRlc2NfYXJl
YTogYWRkcmVzcyBvZiBkZXNjIGFyZWEKPj4gKyAqCQkJCUBkcml2ZXJfYXJlYTogYWRkcmVzcyBv
ZiBkcml2ZXIgYXJlYQo+PiArICoJCQkJQGRldmljZV9hcmVhOiBhZGRyZXNzIG9mIGRldmljZSBh
cmVhCj4+ICsgKgkJCQlSZXR1cm5zIGludGVnZXI6IHN1Y2Nlc3MgKDApIG9yIGVycm9yICg8IDAp
Cj4+ICsgKiBAc2V0X3ZxX251bToJCVNldCB0aGUgc2l6ZSBvZiB2aXJ0cXVldWUKPj4gKyAqCQkJ
CUBtZGV2OiBtZWRpYXRlZCBkZXZpY2UKPj4gKyAqCQkJCUBpZHg6IHZpcnRxdWV1ZSBpbmRleAo+
PiArICoJCQkJQG51bTogdGhlIHNpemUgb2YgdmlydHF1ZXVlCj4+ICsgKiBAa2lja192cToJCQlL
aWNrIHRoZSB2aXJ0cXVldWUKPj4gKyAqCQkJCUBtZGV2OiBtZWRpYXRlZCBkZXZpY2UKPj4gKyAq
CQkJCUBpZHg6IHZpcnRxdWV1ZSBpbmRleAo+PiArICogQHNldF92cV9jYjoJCQlTZXQgdGhlIGlu
dGVycnV0IGNhbGJhY2sgZnVuY3Rpb24gZm9yCj4+ICsgKgkJCQlhIHZpcnRxdWV1ZQo+PiArICoJ
CQkJQG1kZXY6IG1lZGlhdGVkIGRldmljZQo+PiArICoJCQkJQGlkeDogdmlydHF1ZXVlIGluZGV4
Cj4+ICsgKgkJCQlAY2I6IHZpcnRpby1tZGV2IGludGVycnVwdCBjYWxsYmFjayBzdHJ1Y3R1cmUK
Pj4gKyAqIEBzZXRfdnFfcmVhZHk6CQlTZXQgcmVhZHkgc3RhdHVzIGZvciBhIHZpcnRxdWV1ZQo+
PiArICoJCQkJQG1kZXY6IG1lZGlhdGVkIGRldmljZQo+PiArICoJCQkJQGlkeDogdmlydHF1ZXVl
IGluZGV4Cj4+ICsgKgkJCQlAcmVhZHk6IHJlYWR5ICh0cnVlKSBub3QgcmVhZHkoZmFsc2UpCj4+
ICsgKiBAZ2V0X3ZxX3JlYWR5OgkJR2V0IHJlYWR5IHN0YXR1cyBmb3IgYSB2aXJ0cXVldWUKPj4g
KyAqCQkJCUBtZGV2OiBtZWRpYXRlZCBkZXZpY2UKPj4gKyAqCQkJCUBpZHg6IHZpcnRxdWV1ZSBp
bmRleAo+PiArICoJCQkJUmV0dXJucyBib29sZWFuOiByZWFkeSAodHJ1ZSkgb3Igbm90IChmYWxz
ZSkKPj4gKyAqIEBzZXRfdnFfc3RhdGU6CQlTZXQgdGhlIHN0YXRlIGZvciBhIHZpcnRxdWV1ZQo+
PiArICoJCQkJQG1kZXY6IG1lZGlhdGVkIGRldmljZQo+PiArICoJCQkJQGlkeDogdmlydHF1ZXVl
IGluZGV4Cj4+ICsgKgkJCQlAc3RhdGU6IHZpcnRxdWV1ZSBzdGF0ZSAobGFzdF9hdmFpbF9pZHgp
Cj4+ICsgKgkJCQlSZXR1cm5zIGludGVnZXI6IHN1Y2Nlc3MgKDApIG9yIGVycm9yICg8IDApCj4+
ICsgKiBAZ2V0X3ZxX3N0YXRlOgkJR2V0IHRoZSBzdGF0ZSBmb3IgYSB2aXJ0cXVldWUKPj4gKyAq
CQkJCUBtZGV2OiBtZWRpYXRlZCBkZXZpY2UKPj4gKyAqCQkJCUBpZHg6IHZpcnRxdWV1ZSBpbmRl
eAo+PiArICoJCQkJUmV0dXJucyB2aXJ0cXVldWUgc3RhdGUgKGxhc3RfYXZhaWxfaWR4KQo+PiAr
ICogQGdldF92cV9hbGlnbjoJCUdldCB0aGUgdmlydHF1ZXVlIGFsaWduIHJlcXVpcmVtZW50Cj4+
ICsgKgkJCQlmb3IgdGhlIGRldmljZQo+PiArICoJCQkJQG1kZXY6IG1lZGlhdGVkIGRldmljZQo+
PiArICoJCQkJUmV0dXJucyB2aXJ0cXVldWUgYWxnaW4gcmVxdWlyZW1lbnQKPj4gKyAqIEBnZXRf
ZmVhdHVyZXM6CQlHZXQgdmlydGlvIGZlYXR1cmVzIHN1cHBvcnRlZCBieSB0aGUgZGV2aWNlCj4+
ICsgKgkJCQlAbWRldjogbWVkaWF0ZWQgZGV2aWNlCj4+ICsgKgkJCQlSZXR1cm5zIHRoZSBmZWF0
dXJlcyBzdXBwb3J0IGJ5IHRoZQo+PiArICoJCQkJZGV2aWNlCj4+ICsgKiBAZ2V0X2ZlYXR1cmVz
OgkJU2V0IHZpcnRpbyBmZWF0dXJlcyBzdXBwb3J0ZWQgYnkgdGhlIGRyaXZlcgo+PiArICoJCQkJ
QG1kZXY6IG1lZGlhdGVkIGRldmljZQo+PiArICoJCQkJQGZlYXR1cmVzOiBmZWF0dXJlIHN1cHBv
cnQgYnkgdGhlIGRyaXZlcgo+PiArICoJCQkJUmV0dXJucyBpbnRlZ2VyOiBzdWNjZXNzICgwKSBv
ciBlcnJvciAoPCAwKQo+PiArICogQHNldF9jb25maWdfY2I6CQlTZXQgdGhlIGNvbmZpZyBpbnRl
cnJ1cHQgY2FsbGJhY2sKPj4gKyAqCQkJCUBtZGV2OiBtZWRpYXRlZCBkZXZpY2UKPj4gKyAqCQkJ
CUBjYjogdmlydGlvLW1kZXYgaW50ZXJydXB0IGNhbGxiYWNrIHN0cnVjdHVyZQo+PiArICogQGdl
dF9kZXZpY2VfaWQ6CQlHZXQgdmlydGlvIGRldmljZSBpZAo+PiArICoJCQkJQG1kZXY6IG1lZGlh
dGVkIGRldmljZQo+PiArICoJCQkJUmV0dXJucyB1MzI6IHZpcnRpbyBkZXZpY2UgaWQKPj4gKyAq
IEBnZXRfdmVuZG9yX2lkOgkJR2V0IHZpcnRpbyB2ZW5kb3IgaWQKPj4gKyAqCQkJCUBtZGV2OiBt
ZWRpYXRlZCBkZXZpY2UKPj4gKyAqCQkJCVJldHVybnMgdTMyOiB2aXJ0aW8gdmVuZG9yIGlkCj4+
ICsgKiBAZ2V0X3N0YXR1czoJCUdldCB0aGUgZGV2aWNlIHN0YXR1cwo+PiArICoJCQkJQG1kZXY6
IG1lZGlhdGVkIGRldmljZQo+PiArICoJCQkJUmV0dXJucyB1ODogdmlydGlvIGRldmljZSBzdGF0
dXMKPj4gKyAqIEBzZXRfc3RhdHVzOgkJU2V0IHRoZSBkZXZpY2Ugc3RhdHVzCj4+ICsgKgkJCQlA
bWRldjogbWVkaWF0ZWQgZGV2aWNlCj4+ICsgKgkJCQlAc3RhdHVzOiB2aXJ0aW8gZGV2aWNlIHN0
YXR1cwo+PiArICogQGdldF9jb25maWc6CQlSZWFkIGZyb20gZGV2aWNlIHNwZWNpZmljIGNvbmZp
dWdyYXRpb24gc3BhY2UKPj4gKyAqCQkJCUBtZGV2OiBtZWRpYXRlZCBkZXZpY2UKPj4gKyAqCQkJ
CUBvZmZzZXQ6IG9mZnNldCBmcm9tIHRoZSBiZWdpbm5pbmcgb2YKPj4gKyAqCQkJCWNvbmZpZ3Vy
YXRpb24gc3BhY2UKPj4gKyAqCQkJCUBidWY6IGJ1ZmZlciB1c2VkIHRvIHJlYWQgdG8KPj4gKyAq
CQkJCUBsZW46IHRoZSBsZW5ndGggdG8gcmVhZCBmcm9tCj4+ICsgKgkJCQljb25maWdyYXRpb24g
c3BhY2UKPj4gKyAqIEBzZXRfY29uZmlnOgkJV3JpdGUgdG8gZGV2aWNlIHNwZWNpZmljIGNvbmZp
dWdyYXRpb24gc3BhY2UKPj4gKyAqCQkJCUBtZGV2OiBtZWRpYXRlZCBkZXZpY2UKPj4gKyAqCQkJ
CUBvZmZzZXQ6IG9mZnNldCBmcm9tIHRoZSBiZWdpbm5pbmcgb2YKPj4gKyAqCQkJCWNvbmZpZ3Vy
YXRpb24gc3BhY2UKPj4gKyAqCQkJCUBidWY6IGJ1ZmZlciB1c2VkIHRvIHdyaXRlIGZyb20KPj4g
KyAqCQkJCUBsZW46IHRoZSBsZW5ndGggdG8gd3JpdGUgdG8KPj4gKyAqCQkJCWNvbmZpZ3JhdGlv
biBzcGFjZQo+PiArICogQGdldF92ZXJzaW9uOgkJR2V0IHRoZSB2ZXJzaW9uIG9mIHZpcnRpbyBt
ZGV2IGRldmljZQo+PiArICoJCQkJQG1kZXY6IG1lZGlhdGVkIGRldmljZQo+PiArICoJCQkJUmV0
dXJucyBpbnRlZ2VyOiB2ZXJzaW9uIG9mIHRoZSBkZXZpY2UKPj4gKyAqIEBnZXRfZ2VuZXJhdGlv
bjoJCUdldCBkZXZpY2UgZ2VuZXJhdG9uCj4+ICsgKgkJCQlAbWRldjogbWVkaWF0ZWQgZGV2aWNl
Cj4+ICsgKgkJCQlSZXR1cm5zIHUzMjogZGV2aWNlIGdlbmVyYXRpb24KPj4gKyAqLwo+PiArc3Ry
dWN0IHZpcnRpb19tZGV2X2RldmljZV9vcHMgewo+PiArCS8qIFZpcnRxdWV1ZSBvcHMgKi8KPj4g
KwlpbnQgKCpzZXRfdnFfYWRkcmVzcykoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2LAo+PiArCQkJ
ICAgICAgdTE2IGlkeCwgdTY0IGRlc2NfYXJlYSwgdTY0IGRyaXZlcl9hcmVhLAo+PiArCQkJICAg
ICAgdTY0IGRldmljZV9hcmVhKTsKPj4gKwl2b2lkICgqc2V0X3ZxX251bSkoc3RydWN0IG1kZXZf
ZGV2aWNlICptZGV2LCB1MTYgaWR4LCB1MzIgbnVtKTsKPj4gKwl2b2lkICgqa2lja192cSkoc3Ry
dWN0IG1kZXZfZGV2aWNlICptZGV2LCB1MTYgaWR4KTsKPj4gKwl2b2lkICgqc2V0X3ZxX2NiKShz
dHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYsIHUxNiBpZHgsCj4+ICsJCQkgIHN0cnVjdCB2aXJ0aW9f
bWRldl9jYWxsYmFjayAqY2IpOwo+PiArCXZvaWQgKCpzZXRfdnFfcmVhZHkpKHN0cnVjdCBtZGV2
X2RldmljZSAqbWRldiwgdTE2IGlkeCwgYm9vbCByZWFkeSk7Cj4+ICsJYm9vbCAoKmdldF92cV9y
ZWFkeSkoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2LCB1MTYgaWR4KTsKPj4gKwlpbnQgKCpzZXRf
dnFfc3RhdGUpKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldiwgdTE2IGlkeCwgdTY0IHN0YXRlKTsK
Pj4gKwl1NjQgKCpnZXRfdnFfc3RhdGUpKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldiwgdTE2IGlk
eCk7Cj4+ICsKPj4gKwkvKiBEZXZpY2Ugb3BzICovCj4+ICsJdTE2ICgqZ2V0X3ZxX2FsaWduKShz
dHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYpOwo+PiArCXU2NCAoKmdldF9mZWF0dXJlcykoc3RydWN0
IG1kZXZfZGV2aWNlICptZGV2KTsKPj4gKwlpbnQgKCpzZXRfZmVhdHVyZXMpKHN0cnVjdCBtZGV2
X2RldmljZSAqbWRldiwgdTY0IGZlYXR1cmVzKTsKPj4gKwl2b2lkICgqc2V0X2NvbmZpZ19jYiko
c3RydWN0IG1kZXZfZGV2aWNlICptZGV2LAo+PiArCQkJICAgICAgc3RydWN0IHZpcnRpb19tZGV2
X2NhbGxiYWNrICpjYik7Cj4+ICsJdTE2ICgqZ2V0X3F1ZXVlX21heCkoc3RydWN0IG1kZXZfZGV2
aWNlICptZGV2KTsKPj4gKwl1MzIgKCpnZXRfZGV2aWNlX2lkKShzdHJ1Y3QgbWRldl9kZXZpY2Ug
Km1kZXYpOwo+PiArCXUzMiAoKmdldF92ZW5kb3JfaWQpKHN0cnVjdCBtZGV2X2RldmljZSAqbWRl
dik7Cj4+ICsJdTggKCpnZXRfc3RhdHVzKShzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYpOwo+PiAr
CXZvaWQgKCpzZXRfc3RhdHVzKShzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYsIHU4IHN0YXR1cyk7
Cj4+ICsJdm9pZCAoKmdldF9jb25maWcpKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldiwgdW5zaWdu
ZWQgaW50IG9mZnNldCwKPj4gKwkJCSAgIHZvaWQgKmJ1ZiwgdW5zaWduZWQgaW50IGxlbik7Cj4+
ICsJdm9pZCAoKnNldF9jb25maWcpKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldiwgdW5zaWduZWQg
aW50IG9mZnNldCwKPj4gKwkJCSAgIGNvbnN0IHZvaWQgKmJ1ZiwgdW5zaWduZWQgaW50IGxlbik7
Cj4+ICsJaW50ICgqZ2V0X3ZlcnNpb24pKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldik7Cj4+ICsJ
dTMyICgqZ2V0X2dlbmVyYXRpb24pKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldik7Cj4+ICt9Owo+
PiArCj4+ICsjZW5kaWYKPj4gKwpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVz
a3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9k
cmktZGV2ZWw=
