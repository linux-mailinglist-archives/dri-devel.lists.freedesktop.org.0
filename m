Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 8DAC919654
	for <lists+dri-devel@lfdr.de>; Fri, 10 May 2019 03:54:06 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 67E7E89B99;
	Fri, 10 May 2019 01:53:59 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
 by gabe.freedesktop.org (Postfix) with ESMTPS id EE3E0898E1;
 Fri, 10 May 2019 01:53:57 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga005.jf.intel.com ([10.7.209.41])
 by orsmga101.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 09 May 2019 18:53:57 -0700
X-ExtLoop1: 1
Received: from helsinki.fi.intel.com ([10.237.66.174])
 by orsmga005.jf.intel.com with ESMTP; 09 May 2019 18:53:55 -0700
From: Gwan-gyeong Mun <gwan-gyeong.mun@intel.com>
To: intel-gfx@lists.freedesktop.org
Subject: [PATCH v7 1/6] drm/i915/dp: Add a config function for YCBCR420 outputs
Date: Fri, 10 May 2019 04:53:48 +0300
Message-Id: <20190510015353.15119-2-gwan-gyeong.mun@intel.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190510015353.15119-1-gwan-gyeong.mun@intel.com>
References: <20190510015353.15119-1-gwan-gyeong.mun@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhpcyBwYXRjaCBjaGVja3MgYSBzdXBwb3J0IG9mIFlDQkNSNDIwIG91dHB1dHMgb24gYW4gZW5j
b2RlciBsZXZlbC4KSWYgdGhlIGlucHV0IG1vZGUgaXMgWUNCQ1I0MjAtb25seSBtb2RlIHRoZW4g
aXQgcHJlcGFyZXMgRFAgYXMgYW4gWUNCQ1I0MjAKb3V0cHV0LCBlbHNlIGl0IGNvbnRpbnVlcyB3
aXRoIFJHQiBvdXRwdXQgbW9kZS4KSXQgc2V0IG91dHB1dF9mb3JtYXQgdG8gSU5URUxfT1VUUFVU
X0ZPUk1BVF9ZQ0JDUjQyMCBpbiBvcmRlciB0byB1c2luZwphIHBpcGUgc2NhbGVyIGFzIFJHQiB0
byBZQ2JDciA0OjQ6NC4KCnYyOgogIEFkZHJlc3NlZCByZXZpZXcgY29tbWVudHMgZnJvbSBWaWxs
ZS4KICBTdHlsZSBmaXhlZCB3aXRoIGZldyBuYW1pbmcuCiAgJXMvY29uZmlnL2NydGNfc3RhdGUv
CiAgJXMvaW50ZWxfY3J0Yy9jcnRjLwogIElmIGxzY29uIGlzIGFjdGl2ZSwgaXQgbWFrZXMgbm90
IHRvIGNhbGwgaW50ZWxfZHBfeWNiY3I0MjBfY29uZmlnKCkKICB0byBhdm9pZCB0byBjbG9iYmVy
IG9mIGxzcGNvbl95Y2JjcjQyMF9jb25maWcoKSByb3V0aW5lLgogIEFuZCBpdCBtb3ZlIHRoZSA0
MjBfb25seSBjaGVjayBpbnRvIHRoZSBpbnRlbF9kcF95Y2JjcjQyMF9jb25maWcoKS4KCnYzOiBG
aXggdW5pbml0aWFsaXplZCByZXR1cm4gdmFsdWUgYW5kIGl0IGlzIHJlcG9ydGVkIGJ5IERhbiBD
YXJwZW50ZXIuCgp2NDoKICBBZGRyZXNzZWQgcmV2aWV3IGNvbW1lbnRzIGZyb20gVmlsbGUuCiAg
SW4gb3JkZXIgdG8gYXZvaWQgdGhlIGV4dHJhIGluZGVudGF0aW9uLCBpdCBpbnZlcnRzIGlmLWNs
YXVzZSBvbgogIGludGVsX2RwX3ljYmNyNDIwX2NvbmZpZygpLgogIFJlbW92ZSB0aGUgZXJyb3Ig
cHJpbnQgd2hlcmUgbm8gZXJyb3JzIHByaW50IGFyZSBhbGxvd2VkLgoKdjY6IFJlYmFzZQoKdjc6
CiAgTW92ZSBpbnRlbF9kcF9nZXRfY29sb3JpbWV0cnlfc3RhdHVzKCkgdG8gaW50ZWxfZHAgZnJv
bSBpbnRlbF9wc3IuCiAgaW50ZWxfZHBfZ2V0X2NvbG9yaW1ldHJ5X3N0YXR1cygpIGNoZWNrcwog
IFZTQ19TRFBfRVhURU5TSU9OX0ZPUl9DT0xPUklNRVRSWV9TVVBQT1JURUQgYml0IGluIHRoZQog
IERQUlhfRkVBVFVSRV9FTlVNRVJBVElPTl9MSVNUIHJlZ2lzdGVyLgogIEFuZCBpbnRlbF9kcF95
Y2JjcjQyMF9jb25maWcoKSB1c2VzIGludGVsX2RwX2dldF9jb2xvcmltZXRyeV9zdGF0dXMoKS4K
CkNjOiBWaWxsZSBTeXJqw6Rsw6QgPHZpbGxlLnN5cmphbGFAbGludXguaW50ZWwuY29tPgpTaWdu
ZWQtb2ZmLWJ5OiBHd2FuLWd5ZW9uZyBNdW4gPGd3YW4tZ3llb25nLm11bkBpbnRlbC5jb20+ClJl
dmlld2VkLWJ5OiBNYWFydGVuIExhbmtob3JzdCA8bWFhcnRlbi5sYW5raG9yc3RAbGludXguaW50
ZWwuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2RwLmMgIHwgNDggKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2Rw
LmggIHwgIDEgKwogZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfcHNyLmMgfCAxMCAtLS0tLS0t
CiAzIGZpbGVzIGNoYW5nZWQsIDQ4IGluc2VydGlvbnMoKyksIDExIGRlbGV0aW9ucygtKQoKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2RwLmMgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pbnRlbF9kcC5jCmluZGV4IDUzY2M0YWZlYTI1Ni4uOWYyMTlmOGYwYzcxIDEwMDY0
NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kcC5jCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2ludGVsX2RwLmMKQEAgLTIwODUsNiArMjA4NSwzNiBAQCBpbnRlbF9kcF9jb21w
dXRlX2xpbmtfY29uZmlnKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAogCXJldHVybiAw
OwogfQogCitzdGF0aWMgaW50CitpbnRlbF9kcF95Y2JjcjQyMF9jb25maWcoc3RydWN0IGludGVs
X2RwICppbnRlbF9kcCwKKwkJCSBzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yLAorCQkJ
IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQoreworCWNvbnN0IHN0cnVjdCBk
cm1fZGlzcGxheV9pbmZvICppbmZvID0gJmNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvOworCWNvbnN0
IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICphZGp1c3RlZF9tb2RlID0KKwkJJmNydGNfc3RhdGUt
PmJhc2UuYWRqdXN0ZWRfbW9kZTsKKwlzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YyA9IHRvX2ludGVs
X2NydGMoY3J0Y19zdGF0ZS0+YmFzZS5jcnRjKTsKKwlpbnQgcmV0OworCisJaWYgKCFkcm1fbW9k
ZV9pc180MjBfb25seShpbmZvLCBhZGp1c3RlZF9tb2RlKSB8fAorCSAgICAhaW50ZWxfZHBfZ2V0
X2NvbG9yaW1ldHJ5X3N0YXR1cyhpbnRlbF9kcCkgfHwKKwkgICAgIWNvbm5lY3Rvci0+eWNiY3Jf
NDIwX2FsbG93ZWQpCisJCXJldHVybiAwOworCisJY3J0Y19zdGF0ZS0+b3V0cHV0X2Zvcm1hdCA9
IElOVEVMX09VVFBVVF9GT1JNQVRfWUNCQ1I0MjA7CisKKwkvKiBZQ0JDUiA0MjAgb3V0cHV0IGNv
bnZlcnNpb24gbmVlZHMgYSBzY2FsZXIgKi8KKwlyZXQgPSBza2xfdXBkYXRlX3NjYWxlcl9jcnRj
KGNydGNfc3RhdGUpOworCWlmIChyZXQpIHsKKwkJRFJNX0RFQlVHX0tNUygiU2NhbGVyIGFsbG9j
YXRpb24gZm9yIG91dHB1dCBmYWlsZWRcbiIpOworCQlyZXR1cm4gcmV0OworCX0KKworCWludGVs
X3BjaF9wYW5lbF9maXR0aW5nKGNydGMsIGNydGNfc3RhdGUsIERSTV9NT0RFX1NDQUxFX0ZVTExT
Q1JFRU4pOworCisJcmV0dXJuIDA7Cit9CisKIGJvb2wgaW50ZWxfZHBfbGltaXRlZF9jb2xvcl9y
YW5nZShjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSwKIAkJCQkgIGNv
bnN0IHN0cnVjdCBkcm1fY29ubmVjdG9yX3N0YXRlICpjb25uX3N0YXRlKQogewpAQCAtMjEyNCw3
ICsyMTU0LDcgQEAgaW50ZWxfZHBfY29tcHV0ZV9jb25maWcoc3RydWN0IGludGVsX2VuY29kZXIg
KmVuY29kZXIsCiAJCXRvX2ludGVsX2RpZ2l0YWxfY29ubmVjdG9yX3N0YXRlKGNvbm5fc3RhdGUp
OwogCWJvb2wgY29uc3RhbnRfbiA9IGRybV9kcF9oYXNfcXVpcmsoJmludGVsX2RwLT5kZXNjLAog
CQkJCQkgICBEUF9EUENEX1FVSVJLX0NPTlNUQU5UX04pOwotCWludCByZXQsIG91dHB1dF9icHA7
CisJaW50IHJldCA9IDAsIG91dHB1dF9icHA7CiAKIAlpZiAoSEFTX1BDSF9TUExJVChkZXZfcHJp
dikgJiYgIUhBU19EREkoZGV2X3ByaXYpICYmIHBvcnQgIT0gUE9SVF9BKQogCQlwaXBlX2NvbmZp
Zy0+aGFzX3BjaF9lbmNvZGVyID0gdHJ1ZTsKQEAgLTIxMzIsNiArMjE2MiwxMiBAQCBpbnRlbF9k
cF9jb21wdXRlX2NvbmZpZyhzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKIAlwaXBlX2Nv
bmZpZy0+b3V0cHV0X2Zvcm1hdCA9IElOVEVMX09VVFBVVF9GT1JNQVRfUkdCOwogCWlmIChsc3Bj
b24tPmFjdGl2ZSkKIAkJbHNwY29uX3ljYmNyNDIwX2NvbmZpZygmaW50ZWxfY29ubmVjdG9yLT5i
YXNlLCBwaXBlX2NvbmZpZyk7CisJZWxzZQorCQlyZXQgPSBpbnRlbF9kcF95Y2JjcjQyMF9jb25m
aWcoaW50ZWxfZHAsICZpbnRlbF9jb25uZWN0b3ItPmJhc2UsCisJCQkJCSAgICAgICBwaXBlX2Nv
bmZpZyk7CisKKwlpZiAocmV0KQorCQlyZXR1cm4gcmV0OwogCiAJcGlwZV9jb25maWctPmhhc19k
cnJzID0gZmFsc2U7CiAJaWYgKElTX0c0WChkZXZfcHJpdikgfHwgcG9ydCA9PSBQT1JUX0EpCkBA
IC00MDUxLDYgKzQwODcsMTYgQEAgaW50ZWxfZHBfcmVhZF9kcGNkKHN0cnVjdCBpbnRlbF9kcCAq
aW50ZWxfZHApCiAJcmV0dXJuIGludGVsX2RwLT5kcGNkW0RQX0RQQ0RfUkVWXSAhPSAwOwogfQog
Citib29sIGludGVsX2RwX2dldF9jb2xvcmltZXRyeV9zdGF0dXMoc3RydWN0IGludGVsX2RwICpp
bnRlbF9kcCkKK3sKKwl1OCBkcHJ4ID0gMDsKKworCWlmIChkcm1fZHBfZHBjZF9yZWFkYigmaW50
ZWxfZHAtPmF1eCwgRFBfRFBSWF9GRUFUVVJFX0VOVU1FUkFUSU9OX0xJU1QsCisJCQkgICAgICAm
ZHByeCkgIT0gMSkKKwkJcmV0dXJuIGZhbHNlOworCXJldHVybiBkcHJ4ICYgRFBfVlNDX1NEUF9F
WFRfRk9SX0NPTE9SSU1FVFJZX1NVUFBPUlRFRDsKK30KKwogc3RhdGljIHZvaWQgaW50ZWxfZHBf
Z2V0X2RzY19zaW5rX2NhcChzdHJ1Y3QgaW50ZWxfZHAgKmludGVsX2RwKQogewogCS8qCmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kcC5oIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaW50ZWxfZHAuaAppbmRleCA1ZTllOGQxM2RlNmUuLmRhNzBiMWE0MWM4MyAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZHAuaAorKysgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pbnRlbF9kcC5oCkBAIC0xMDgsNiArMTA4LDcgQEAgdTggaW50ZWxfZHBfZHNjX2dl
dF9zbGljZV9jb3VudChzdHJ1Y3QgaW50ZWxfZHAgKmludGVsX2RwLCBpbnQgbW9kZV9jbG9jaywK
IAkJCQlpbnQgbW9kZV9oZGlzcGxheSk7CiAKIGJvb2wgaW50ZWxfZHBfcmVhZF9kcGNkKHN0cnVj
dCBpbnRlbF9kcCAqaW50ZWxfZHApOworYm9vbCBpbnRlbF9kcF9nZXRfY29sb3JpbWV0cnlfc3Rh
dHVzKHN0cnVjdCBpbnRlbF9kcCAqaW50ZWxfZHApOwogaW50IGludGVsX2RwX2xpbmtfcmVxdWly
ZWQoaW50IHBpeGVsX2Nsb2NrLCBpbnQgYnBwKTsKIGludCBpbnRlbF9kcF9tYXhfZGF0YV9yYXRl
KGludCBtYXhfbGlua19jbG9jaywgaW50IG1heF9sYW5lcyk7CiBib29sIGludGVsX2RpZ2l0YWxf
cG9ydF9jb25uZWN0ZWQoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIpOwpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfcHNyLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9pbnRlbF9wc3IuYwppbmRleCA5NjM2NjNiYTBlZGYuLjJhNTQ3YTEyOGEzNyAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfcHNyLmMKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaW50ZWxfcHNyLmMKQEAgLTIyOSwxNiArMjI5LDYgQEAgdm9pZCBpbnRlbF9wc3JfaXJx
X2hhbmRsZXIoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LCB1MzIgcHNyX2lpcikK
IAl9CiB9CiAKLXN0YXRpYyBib29sIGludGVsX2RwX2dldF9jb2xvcmltZXRyeV9zdGF0dXMoc3Ry
dWN0IGludGVsX2RwICppbnRlbF9kcCkKLXsKLQl1OCBkcHJ4ID0gMDsKLQotCWlmIChkcm1fZHBf
ZHBjZF9yZWFkYigmaW50ZWxfZHAtPmF1eCwgRFBfRFBSWF9GRUFUVVJFX0VOVU1FUkFUSU9OX0xJ
U1QsCi0JCQkgICAgICAmZHByeCkgIT0gMSkKLQkJcmV0dXJuIGZhbHNlOwotCXJldHVybiBkcHJ4
ICYgRFBfVlNDX1NEUF9FWFRfRk9SX0NPTE9SSU1FVFJZX1NVUFBPUlRFRDsKLX0KLQogc3RhdGlj
IGJvb2wgaW50ZWxfZHBfZ2V0X2FscG1fc3RhdHVzKHN0cnVjdCBpbnRlbF9kcCAqaW50ZWxfZHAp
CiB7CiAJdTggYWxwbV9jYXBzID0gMDsKLS0gCjIuMjEuMAoKX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2
ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21h
aWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
