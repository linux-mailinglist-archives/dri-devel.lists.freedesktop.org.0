Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id D6B6729493A
	for <lists+dri-devel@lfdr.de>; Wed, 21 Oct 2020 10:14:18 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 4AA0A6EA63;
	Wed, 21 Oct 2020 08:14:14 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-oi1-x242.google.com (mail-oi1-x242.google.com
 [IPv6:2607:f8b0:4864:20::242])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2DBD56EA63
 for <dri-devel@lists.freedesktop.org>; Wed, 21 Oct 2020 08:14:13 +0000 (UTC)
Received: by mail-oi1-x242.google.com with SMTP id u127so1242065oib.6
 for <dri-devel@lists.freedesktop.org>; Wed, 21 Oct 2020 01:14:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=ffwll.ch; s=google;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=ihgdsPkK1OS0D6sGYtmy8IZXGHvJrqpOo8+cMgZYyME=;
 b=OfcsMFJdnhqNUj5G23Bi855PKzMfTz9hTpvuGVKTbCA1DiQL/mzrI6MJTBPUILLBP9
 mZPXasukPEQ1cnI6RYhsakq64Qwa48ivE9W4SdIpptJUtOD0tWOyAUFRHmICIcDpDlfR
 g/wd1UhfqM1zfV/IAEX5MeOk4o3IQuxxYSsWk=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=ihgdsPkK1OS0D6sGYtmy8IZXGHvJrqpOo8+cMgZYyME=;
 b=pG4k7aThmTEZ7xdVlxRTjqv7IzbycwQCnp+GwrhbCajh5gCFhCVQvpXuKd1rPYvwe5
 ECwEdFiL5PYd4c3pgs6s3ELU9A2mYSFByG9ZX9Rw+ipascJ6kcyTbYAYPfFx0HZ/+ZBx
 HrGyO5bDG/2z3ZycBVGf1du82PWbCpnGmdUr9hQNrhTE5b5lk6sjAwcHTjZyvvmCJ71F
 AimOpn59r2mrnTwss7Tibrru8Sm/sGsXE6k3RZPRU1Nne10C5t0ap2kMXxuvQyJB2V8W
 HjHzFldCMcZByB7OJYCgg6ePA9J+nSuKWsn+JP1SLngHfYGbh6W5ie8VilMlz82LPZsn
 CiOA==
X-Gm-Message-State: AOAM532XKzkfEmV8GcxqRBsvMzE4DCE+MRQdxq7jHcW1XPdk9eFxHjL0
 SImcSi1R50Gn5kk/DgQ2AXx3LiHU5fv+ls2kXGqLZg==
X-Google-Smtp-Source: ABdhPJwicI9g22vqGNmSoonQmlERju1+68wSQW9fA8OuXmHv3HL69NUcFHUxDeg9BW9VupizsYOGSb9uSnWGReLdM6Q=
X-Received: by 2002:aca:39d6:: with SMTP id g205mr1459328oia.14.1603268052417; 
 Wed, 21 Oct 2020 01:14:12 -0700 (PDT)
MIME-Version: 1.0
References: <trinity-7bf82d9f-a022-48f3-bca0-d06eb28ebe35-1603048517864@3c-app-mailcom-bs08>
 <20201018210412.GA515543@ravnborg.org>
 <trinity-a0f09460-7d25-457a-aef8-e70fcf617a83-1603136588694@3c-app-mailcom-bs01>
 <895376c5-9f47-6c37-c530-0fe296346431@suse.de>
In-Reply-To: <895376c5-9f47-6c37-c530-0fe296346431@suse.de>
From: Daniel Vetter <daniel@ffwll.ch>
Date: Wed, 21 Oct 2020 10:14:01 +0200
Message-ID: <CAKMK7uFi4SF1D_2xEHy6cZpxzkeMtzUb7KT0Or0VitjbhpzNqA@mail.gmail.com>
Subject: Re: It appears drm-next TTM cleanup broke something . . .
To: Thomas Zimmermann <tzimmermann@suse.de>
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Dave Airlie <airlied@redhat.com>, Sam Ravnborg <sam@ravnborg.org>,
 dri-devel <dri-devel@lists.freedesktop.org>, Kevin Brace <kevinbrace@gmx.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gV2VkLCBPY3QgMjEsIDIwMjAgYXQgMTA6MDMgQU0gVGhvbWFzIFppbW1lcm1hbm4gPHR6aW1t
ZXJtYW5uQHN1c2UuZGU+IHdyb3RlOgo+Cj4gSGkKPgo+IE9uIDE5LjEwLjIwIDIxOjQzLCBLZXZp
biBCcmFjZSB3cm90ZToKPiA+IEhpIFNhbSwKPiA+Cj4gPiBUaGFua3MgZm9yIGFza2luZyB0aGUg
cXVlc3Rpb24uCj4gPiBUaGUgY3VycmVudCBPcGVuQ2hyb21lIERSTSBjb2RlIGhhcyB0aGVzZSB0
d28gbWFqb3IgaXNzdWVzLgo+ID4KPiA+IDEpIEl0IGRvZXMgbm90IHN1cHBvcnQgYXRvbWljIG1v
ZGVzZXR0aW5nCj4gPgo+ID4gSSBkbyBpbnRlcm5hbGx5IGhhdmUgd29ya2luZyBjb2RlIHRvIHN1
cHBvcnQgYXRvbWljIG1vZGVzZXR0aW5nLCBidXQgaXQgaXMgbm90IHJlYWR5IGZvciBjb21taXR0
aW5nIGludG8gdGhlIHVwc3RyZWFtIE9wZW5DaHJvbWUgRFJNIHJlcG9zaXRvcnkuCj4gPiBJbiBw
YXJ0aWN1bGFyLCBpdCBzdWZmZXJzIGZyb20gYSBmcmVlemUgcmVsYXRpbmcgdG8gYSBjdXJzb3Ig
cGxhbmUuCj4gPiBUaGUgZnJlZXplIGlzIGEgYmFkIGtpbmQgdGhhdCBrZXJuLmxvZyBkb2VzIG5v
dCByZWFsbHkgdGVsbCBtZSB3aGF0IGlzIHdyb25nLgo+ID4gSWYgSSBkaXNhYmxlIGhhcmR3YXJl
IGN1cnNvciwgdGhlIGF0b21pYyBtb2Rlc2V0dGluZyBiYXNlZCBPcGVuQ2hyb21lIERSTSBhcHBl
YXJzIHRvIHdvcmsgb2theS4KPiA+IEluIG90aGVyIHdvcmRzLCBJIGFtIGdldHRpbmcgY2xvc2Ug
dG8gZ2V0dGluZyBhdG9taWMgbW9kZXNldHRpbmcgd29ya2luZywgYnV0IEkgYW0gc3R1Y2suCj4K
PiBUaGlzIGNvdWxkIGJlIHJlbGF0ZWQgdG8gdGhlIG1lbW9yeSBwcm9ibGVtcy4gU2VlIGJlbG93
LiBPdGhlcndpc2UsIEkKPiBzdWdnZXN0IHRvIHJlZHVjZSB0aGUgZHJpdmVyIHRvIHRoZSBtaW5p
bXVtIGZ1bmN0aW9uYWxpdHkgdGhhdCBpcwo+IHJlcXVpcmVkIGZvciBtb2Rlc2V0dGluZyAoZXZl
biB3aXRob3V0IEhXIGN1cnNvcnMpIGFuZCBzdWJtaXQgdGhpcyBjb2RlCj4gZm9yIHJldmlldyBh
bmQgbWVyZ2luZy4KPgo+ID4KPiA+Cj4gPiAyKSBEb3VibGUgYWxsb2NhdGlvbiBvZiB2aXNpYmxl
IHBvcnRpb24gb2YgZnJhbWUgYnVmZmVyCj4gPgo+ID4gVGhpcyBpcyBhIGJpZyBwcm9ibGVtIGxl
ZnQgYmVoaW5kIGZyb20gdGhlIHByZXZpb3VzIGRldmVsb3BlciB3aG8gZGV2ZWxvcGVkIE9wZW5D
aHJvbWUgcHJpb3IgdG8gbWUuCj4gPiBGb3Igc29tZSByZWFzb24sIHRoZSBkZXZlbG9wZXIgd2Fu
dGVkIHRvIGFsbG9jYXRlIHZpc2libGUgcG9ydGlvbiBvZiB0aGUgZnJhbWUgYnVmZmVyIHRvIGJl
IHRoZSBtYXhpbXVtIHBvc3NpYmxlIHNpemUgc3VwcG9ydGVkIGJ5IHRoZSBkZXRlY3RlZCBtb25p
dG9yIHdoZW4gaW5pdGlhbGl6aW5nIHRoZSBmcmFtZSBidWZmZXIgaW5zaWRlIE9wZW5DaHJvbWUg
RFJNIGNvZGUuCj4gPiBJIGJlbGlldmUgUmFkZW9uIERSTSBkb2VzIHNvbWV0aGluZyBzaW1pbGFy
IHRvIHRoYXQuCj4gPiBUaGUgcHJvYmxlbSBpcywgT3BlbkNocm9tZSBERFggYWxsb2NhdGVzIGFu
IGVxdWFsIHNpemVkIGZyYW1lIGJ1ZmZlciB2aXNpYmxlIHBvcnRpb24gZHVyaW5nIHRoZSBERFgn
cyBpbml0aWFsaXphdGlvbi4KPiA+IFRoaXMgbWVhbnMgdGhhdCB3ZSBnb3QgdHdvIHNhbWUgc2l6
ZWQgdmlzaWJsZSBwb3J0aW9ucyBhbGxvY2F0ZWQsIGJ1dCBPcGVuQ2hyb21lIEREWCBhbmQgT3Bl
bkNocm9tZSBEUk0gY29tYmluZWQgc2hvdWxkIHJlYWxseSBiZSBhbGxvY2F0aW5nIG9ubHkgb25l
Lgo+ID4gQXQgdGhpcyBwb2ludCwgT3BlbkNocm9tZSBpcyBub3Qgc3VwcG9ydGluZyBkb3VibGUg
YnVmZmVyaW5nLgo+ID4gVGhpcyBkb3VibGUgYWxsb2NhdGlvbiBvZiBhIHZpc2libGUgcG9ydGlv
biBvZiB0aGUgZnJhbWUgYnVmZmVyIGNvbnRyaWJ1dGVzIHRvIGEgWCBTZXJ2ZXIgY3Jhc2ggd2hl
biB0aGUgc2NyZWVuIGlzIHJlc2l6ZWQgYW5kIDE2IE1CIG9yIGxlc3MgKGkuZS4sIDggTUIpIHNo
YXJlZCBmcmFtZSBidWZmZXIgaXMgcmVzZXJ2ZWQgYnkgdGhlIHN5c3RlbSB2aWEgQklPUyBzZXR1
cC4KPiA+IEkgcGVyc29uYWxseSB0aGluayBsZXR0aW5nIE9wZW5DaHJvbWUgRFJNIGFsbG9jYXRl
IHRoZSB2aXNpYmxlIHBvcnRpb24gb2YgdGhlIGZyYW1lIGJ1ZmZlciBpcyB0aGUgd2F5IHRvIGdv
LCBidXQgaWYgc28sIGhvdyBkbyBJIGdldCB0aGUgRERYIG9yIHNoYWRvdyBGQiB0byBhY2Nlc3Mg
dGhlIGZyYW1lIGJ1ZmZlciB2aXNpYmxlIHBvcnRpb24gYWxsb2NhdGVkIGJ5IE9wZW5DaHJvbWUg
RFJNPwo+ID4gQW55IHN1Z2dlc3Rpb25zIG9uIHdoYXQgdG8gZG8gYWJvdXQgdGhpcyBpc3N1ZSB3
aWxsIGJlIGdyZWF0bHkgYXBwcmVjaWF0ZWQuCj4gPiBQZXJoYXBzLCBJIHNob3VsZCBwb3N0IGEg
cXVlc3Rpb24gdG8gZHJpLWRldmVsIHJlZ2FyZGluZyB0aGlzIGlzc3VlLgo+ID4gSSByZWFsbHkg
ZG8gbm90IGtub3cgd2hhdCBJIHNob3VsZCBkbyBhdCB0aGlzIHBvaW50Lgo+Cj4gVGhlIGRvdWJs
ZSBhbGxvY2F0aW9uIGlzIGV4cGVjdGVkLiBBdG9taWMgbW9kZXNldHRpbmcgcmVxdWlyZXMgdHdv
Cj4gZnJhbWVidWZmZXJzIGluIHZpZGVvIG1lbW9yeSBkdXJpbmcgdGhlIHBhZ2VmbGlwLiBZb3Ug
aGF2ZSB0byBzb3J0IG91dAo+IHRoZSBtb2RlcyB3aGVyZSAyIGZyYW1lYnVmZmVycyBkbyBub3Qg
Zml0IGludG8gdmlkZW8gbWVtb3J5IGF0IHRoZSBzYW1lCj4gdGltZS4KCldoYXQgd2UgaGF2ZSBk
b25lIG9uIHNldmVybHkgcmVzdHJpY3RlZCBkaXNjcmV0ZSBncHUgaXMgdG8ga2VlcCBvbmUKZnJh
bWVidWZmZXIgZm9yIGV2ZXJ5b25lIGluIHZyYW0sIGFuZCBibHQgdGhlIGttcyBmcmFtZWJ1ZmZl
cnMgb3ZlciBhcwpuZWVkZWQuIFdpdGggYWxsIHRoZSBkaXJ0eSB0cmFja2luZyBoZWxwZXJzIGZv
ciBhdG9taWMgdGhhdCdzIGxpa2UgYQpvbmUtbGluZXIgdG8gc2V0IHVwIChvciBqdXN0IHNsaWdo
dGx5IG1vcmUpLiBJIHRoaW5rIGNpcnJ1cyB3b3JrcyBsaWtlCnRoYXQgKGJ1dCBpdCdzIHVzaW5n
IGNwdSBtZW1jcHkgc2luY2UgdGhhdCdzIHRoZSBvbmx5IHRoaW5nIHRoYXQKZXhpc3RzLCBJIGd1
ZXNzIG9wZW5jaHJvbWUgY291bGQgZXZlbiB1c2UgdGhlIGJsaXR0ZXIgZm9yIHRoaXMpLgoKVGhl
IG1vcmUgdXN1YWwgYXBwcm9hY2ggaXMgd2hhdCBub3V2ZWF1IGd1eXMgYWxyZWFkeSBleHBsYWlu
ZWQ6IEp1c3QKcnVuIGZiY29uIGF0IHZlcnkgbG93IHJlc29sdXRpb24gc28gaXQgZG9lc24ndCBj
b25zdW1lIHRvbyBtdWNoIHNwYWNlLgotRGFuaWVsCgo+IFRoZSBtb2RlX3ZhbGlkIGNhbGxiYWNr
IGluIHN0cnVjdCBkcm1fbW9kZV9jb25maWdfZnVuY3MgWzFdIGlzIGEgZ29vZAo+IHBsYWNlIHRv
IGRvIHRoaXMuIENoZWNrIHRoZSBtb2RlJ3MgcGl4ZWxzIHdpdGggdGhlIG1heGltdW0gQlBDIGFn
YWluc3QKPiB0aGUgYXZhaWxhYmxlIG1lbW9yeS4gRXhhbXBsZSBjb2RlIGlzIGF0IFsyXS4gWW91
IHNob3VsZCBhbHNvIHBsYW5lIGZvcgo+IGNvbW1vbiBhZGRpdGlvbmFsIGxheWVycywgc3VjaCBh
cyBIVyBjdXJzb3JzLCB0byByZXF1aXJlIHZpZGVvIG1lbW9yeS4KPiBTbyBtYXliZSB0ZXN0IHRo
ZSBtb2RlIGFnYWluc3QgODAlIG9mIHRoZSB2aWRlbyBtZW1vcnkuCj4KPiBCZXN0IHJlZ2FyZHMK
PiBUaG9tYXMKPgo+IFsxXQo+IGh0dHBzOi8vY2dpdC5mcmVlZGVza3RvcC5vcmcvb3BlbmNocm9t
ZS9kcm0tb3BlbmNocm9tZS90cmVlL2RyaXZlcnMvZ3B1L2RybS9vcGVuY2hyb21lL29wZW5jaHJv
bWVfZmIuYz9oPWRybS1uZXh0LTUuMTAmaWQ9MjJlMGVlMjQ2MGI0YjcwY2RlNTYyYjdhMzgxOGFl
OTRjMjc4NmY0NiNuMTAyCj4KPiBbMl0KPiBodHRwczovL2dpdC5rZXJuZWwub3JnL3B1Yi9zY20v
bGludXgva2VybmVsL2dpdC90b3J2YWxkcy9saW51eC5naXQvdHJlZS9kcml2ZXJzL2dwdS9kcm0v
ZHJtX2dlbV92cmFtX2hlbHBlci5jP2g9djUuOSNuMTI4NQo+Cj4gPgo+ID4gUmVnYXJkcywKPiA+
Cj4gPiBLZXZpbiBCcmFjZQo+ID4gQnJhY2UgQ29tcHV0ZXIgTGFib3JhdG9yeSBibG9nCj4gPiBo
dHRwczovL2JyYWNlY29tcHV0ZXJsYWIuY29tCj4gPgo+ID4KPiA+PiBTZW50OiBTdW5kYXksIE9j
dG9iZXIgMTgsIDIwMjAgYXQgMjowNCBQTQo+ID4+IEZyb206ICJTYW0gUmF2bmJvcmciIDxzYW1A
cmF2bmJvcmcub3JnPgo+ID4+IFRvOiAiS2V2aW4gQnJhY2UiIDxrZXZpbmJyYWNlQGdteC5jb20+
Cj4gPj4gQ2M6IGRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcsICJEYXZlIEFpcmxpZSIg
PGFpcmxpZWRAcmVkaGF0LmNvbT4KPiA+PiBTdWJqZWN0OiBSZTogSXQgYXBwZWFycyBkcm0tbmV4
dCBUVE0gY2xlYW51cCBicm9rZSBzb21ldGhpbmcgLiAuIC4KPiA+Pgo+ID4+IEhpIEtldmluLgo+
ID4+Cj4gPj4gT24gU3VuLCBPY3QgMTgsIDIwMjAgYXQgMDk6MTU6MTdQTSArMDIwMCwgS2V2aW4g
QnJhY2Ugd3JvdGU6Cj4gPj4+IEFzIHVzdWFsLCBJIHB1bGxlZCBpbiBEUk0gcmVwb3NpdG9yeSBj
b2RlIGZvciBhbiBvdXQgb2YgdHJlZSBPcGVuQ2hyb21lIERSTSByZXBvc2l0b3J5IGEgZmV3IGRh
eXMgYWdvLgo+ID4+Cj4gPj4gSSBrbm93IHlvdSBoYXZlIGJlZW4gd29ya2luZyBvbiBhbmQgb2Zm
IG9uIHRoZSBvcGVuY2hyb21lIGRyaXZlciBmb3IgYQo+ID4+IGxvbmcgdGltZSBub3cuIEFueSBj
aGFuY2Ugd2Ugd2lsbCBzZWUgdGhlIGRyaXZlciBzdWJtaXR0ZWQgZm9yIHVwc3RyZWFtIHNvb24/
Cj4gPj4KPiA+PiAgICAgIFNhbQo+ID4+Cj4gPiBfX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fXwo+ID4gZHJpLWRldmVsIG1haWxpbmcgbGlzdAo+ID4gZHJpLWRl
dmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwo+ID4gaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5v
cmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWwKPiA+Cj4KPiAtLQo+IFRob21hcyBaaW1tZXJt
YW5uCj4gR3JhcGhpY3MgRHJpdmVyIERldmVsb3Blcgo+IFNVU0UgU29mdHdhcmUgU29sdXRpb25z
IEdlcm1hbnkgR21iSAo+IE1heGZlbGRzdHIuIDUsIDkwNDA5IE7DvHJuYmVyZywgR2VybWFueQo+
IChIUkIgMzY4MDksIEFHIE7DvHJuYmVyZykKPiBHZXNjaMOkZnRzZsO8aHJlcjogRmVsaXggSW1l
bmTDtnJmZmVyCj4gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X18KPiBkcmktZGV2ZWwgbWFpbGluZyBsaXN0Cj4gZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9w
Lm9yZwo+IGh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJp
LWRldmVsCgoKCi0tIApEYW5pZWwgVmV0dGVyClNvZnR3YXJlIEVuZ2luZWVyLCBJbnRlbCBDb3Jw
b3JhdGlvbgpodHRwOi8vYmxvZy5mZndsbC5jaApfX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0
cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9s
aXN0aW5mby9kcmktZGV2ZWwK
