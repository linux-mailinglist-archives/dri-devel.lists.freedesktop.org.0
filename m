Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 2DD3F7627D
	for <lists+dri-devel@lfdr.de>; Fri, 26 Jul 2019 11:49:35 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D53DB6ECCE;
	Fri, 26 Jul 2019 09:41:10 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from crapouillou.net (outils.crapouillou.net [89.234.176.41])
 by gabe.freedesktop.org (Postfix) with ESMTPS id AC7036E80A
 for <dri-devel@lists.freedesktop.org>; Thu, 25 Jul 2019 22:03:17 +0000 (UTC)
From: Paul Cercueil <paul@crapouillou.net>
To: Ralf Baechle <ralf@linux-mips.org>, Paul Burton <paul.burton@mips.com>,
 James Hogan <jhogan@kernel.org>, Rob Herring <robh+dt@kernel.org>,
 Mark Rutland <mark.rutland@arm.com>, Vinod Koul <vkoul@kernel.org>,
 Jean Delvare <jdelvare@suse.com>, Guenter Roeck <linux@roeck-us.net>,
 Lee Jones <lee.jones@linaro.org>,
 Miquel Raynal <miquel.raynal@bootlin.com>,
 Richard Weinberger <richard@nod.at>, Sebastian Reichel <sre@kernel.org>,
 Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>,
 Liam Girdwood <lgirdwood@gmail.com>, Mark Brown <broonie@kernel.org>
Subject: [PATCH 05/11] video/fbdev: Drop JZ4740 driver
Date: Thu, 25 Jul 2019 18:02:09 -0400
Message-Id: <20190725220215.460-6-paul@crapouillou.net>
In-Reply-To: <20190725220215.460-1-paul@crapouillou.net>
References: <20190725220215.460-1-paul@crapouillou.net>
MIME-Version: 1.0
X-Mailman-Approved-At: Fri, 26 Jul 2019 09:41:09 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=crapouillou.net; 
 s=mail; t=1564092196; h=from:from:sender:reply-to:subject:subject:date:date:
 message-id:message-id:to:to:cc:cc:mime-version:mime-version:
 content-type:content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=xjhvAVEZIjFEVMBlMZWhI8GmuRW0A32U8FIR5XEBYDI=;
 b=HRAQkiSA0giwdSJYdyLl5NIa18ENRlOTaQCKOFckOM/FkhmC8Vn6W1t3P3kpOX+DB9A2bv
 bz4wE1oZrO89uu4FGw8jvoQ2Y7fKsOEam9I5G8uinXqHAE2OvWKFYav8p8ZzrkmWfMnHYF
 JoFhi7klBbR4C6W9NiN7fI2B1d80A38=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-hwmon@vger.kernel.org, devicetree@vger.kernel.org,
 linux-fbdev@vger.kernel.org, Artur Rojek <contact@artur-rojek.eu>,
 alsa-devel@alsa-project.org, linux-pm@vger.kernel.org,
 linux-mips@vger.kernel.org, dri-devel@lists.freedesktop.org,
 linux-kernel@vger.kernel.org, Paul Cercueil <paul@crapouillou.net>, od@zcrc.me,
 linux-mtd@lists.infradead.org, dmaengine@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIEpaNDc0MCBmYmRldiBkcml2ZXIgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCB0aGUgaW5nZW5p
Yy1kcm0gZHJpdmVyLgoKU2lnbmVkLW9mZi1ieTogUGF1bCBDZXJjdWVpbCA8cGF1bEBjcmFwb3Vp
bGxvdS5uZXQ+ClRlc3RlZC1ieTogQXJ0dXIgUm9qZWsgPGNvbnRhY3RAYXJ0dXItcm9qZWsuZXU+
Ci0tLQogZHJpdmVycy92aWRlby9mYmRldi9LY29uZmlnICAgICB8ICAgOSAtCiBkcml2ZXJzL3Zp
ZGVvL2ZiZGV2L01ha2VmaWxlICAgIHwgICAxIC0KIGRyaXZlcnMvdmlkZW8vZmJkZXYvano0NzQw
X2ZiLmMgfCA2OTAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIDMgZmlsZXMgY2hh
bmdlZCwgNzAwIGRlbGV0aW9ucygtKQogZGVsZXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvdmlkZW8v
ZmJkZXYvano0NzQwX2ZiLmMKCmRpZmYgLS1naXQgYS9kcml2ZXJzL3ZpZGVvL2ZiZGV2L0tjb25m
aWcgYi9kcml2ZXJzL3ZpZGVvL2ZiZGV2L0tjb25maWcKaW5kZXggNmIyZGU5M2JkMzAyLi42ZmNl
NzExZjQyYzUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvdmlkZW8vZmJkZXYvS2NvbmZpZworKysgYi9k
cml2ZXJzL3ZpZGVvL2ZiZGV2L0tjb25maWcKQEAgLTIyMTEsMTUgKzIyMTEsNiBAQCBjb25maWcg
RkJfQlJPQURTSEVFVAogCSAgYW5kIGNvdWxkIGFsc28gaGF2ZSBiZWVuIGNhbGxlZCBieSBvdGhl
ciBuYW1lcyB3aGVuIGNvdXBsZWQgd2l0aAogCSAgYSBicmlkZ2UgYWRhcHRlci4KIAotY29uZmln
IEZCX0paNDc0MAotCXRyaXN0YXRlICJKWjQ3NDAgTENEIGZyYW1lYnVmZmVyIHN1cHBvcnQiCi0J
ZGVwZW5kcyBvbiBGQiAmJiBNQUNIX0paNDc0MAotCXNlbGVjdCBGQl9TWVNfRklMTFJFQ1QKLQlz
ZWxlY3QgRkJfU1lTX0NPUFlBUkVBCi0Jc2VsZWN0IEZCX1NZU19JTUFHRUJMSVQKLQloZWxwCi0J
ICBGcmFtZWJ1ZmZlciBzdXBwb3J0IGZvciB0aGUgSlo0NzQwIFNvQy4KLQogY29uZmlnIEZCX1BV
VjNfVU5JR0ZYCiAJdHJpc3RhdGUgIlBLVW5pdHkgdjMgVW5pZ2Z4IGZyYW1lYnVmZmVyIHN1cHBv
cnQiCiAJZGVwZW5kcyBvbiBGQiAmJiBVTklDT1JFMzIgJiYgQVJDSF9QVVYzCmRpZmYgLS1naXQg
YS9kcml2ZXJzL3ZpZGVvL2ZiZGV2L01ha2VmaWxlIGIvZHJpdmVycy92aWRlby9mYmRldi9NYWtl
ZmlsZQppbmRleCA3ZGM0ODYxYTkzZTYuLjQ5NTAyZDYyNTZjYiAxMDA2NDQKLS0tIGEvZHJpdmVy
cy92aWRlby9mYmRldi9NYWtlZmlsZQorKysgYi9kcml2ZXJzL3ZpZGVvL2ZiZGV2L01ha2VmaWxl
CkBAIC0xMTcsNyArMTE3LDYgQEAgb2JqLSQoQ09ORklHX1hFTl9GQkRFVl9GUk9OVEVORCkgICs9
IHhlbi1mYmZyb250Lm8KIG9iai0kKENPTkZJR19GQl9DQVJNSU5FKSAgICAgICAgICArPSBjYXJt
aW5lZmIubwogb2JqLSQoQ09ORklHX0ZCX01CODYyWFgpCSAgKz0gbWI4NjJ4eC8KIG9iai0kKENP
TkZJR19GQl9OVUM5MDApICAgICAgICAgICArPSBudWM5MDBmYi5vCi1vYmotJChDT05GSUdfRkJf
Slo0NzQwKQkJICArPSBqejQ3NDBfZmIubwogb2JqLSQoQ09ORklHX0ZCX1BVVjNfVU5JR0ZYKSAg
ICAgICs9IGZiLXB1djMubwogb2JqLSQoQ09ORklHX0ZCX0hZUEVSVikJCSAgKz0gaHlwZXJ2X2Zi
Lm8KIG9iai0kKENPTkZJR19GQl9PUEVOQ09SRVMpCSAgKz0gb2NmYi5vCmRpZmYgLS1naXQgYS9k
cml2ZXJzL3ZpZGVvL2ZiZGV2L2p6NDc0MF9mYi5jIGIvZHJpdmVycy92aWRlby9mYmRldi9qejQ3
NDBfZmIuYwpkZWxldGVkIGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMGI2ZmEyNWY2OTI0Li4wMDAw
MDAwMDAwMDAKLS0tIGEvZHJpdmVycy92aWRlby9mYmRldi9qejQ3NDBfZmIuYworKysgL2Rldi9u
dWxsCkBAIC0xLDY5MCArMCwwIEBACi0vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIu
MC1vci1sYXRlcgotLyoKLSAqICBDb3B5cmlnaHQgKEMpIDIwMDktMjAxMCwgTGFycy1QZXRlciBD
bGF1c2VuIDxsYXJzQG1ldGFmb28uZGU+Ci0gKglKWjQ3NDAgU29DIExDRCBmcmFtZWJ1ZmZlciBk
cml2ZXIKLSAqLwotCi0jaW5jbHVkZSA8bGludXgva2VybmVsLmg+Ci0jaW5jbHVkZSA8bGludXgv
bW9kdWxlLmg+Ci0jaW5jbHVkZSA8bGludXgvbXV0ZXguaD4KLSNpbmNsdWRlIDxsaW51eC9wbGF0
Zm9ybV9kZXZpY2UuaD4KLSNpbmNsdWRlIDxsaW51eC9waW5jdHJsL2NvbnN1bWVyLmg+Ci0KLSNp
bmNsdWRlIDxsaW51eC9jbGsuaD4KLSNpbmNsdWRlIDxsaW51eC9kZWxheS5oPgotCi0jaW5jbHVk
ZSA8bGludXgvY29uc29sZS5oPgotI2luY2x1ZGUgPGxpbnV4L2ZiLmg+Ci0KLSNpbmNsdWRlIDxs
aW51eC9kbWEtbWFwcGluZy5oPgotCi0jaW5jbHVkZSA8YXNtL21hY2gtano0NzQwL2p6NDc0MF9m
Yi5oPgotCi0jZGVmaW5lIEpaX1JFR19MQ0RfQ0ZHCQkweDAwCi0jZGVmaW5lIEpaX1JFR19MQ0Rf
VlNZTkMJMHgwNAotI2RlZmluZSBKWl9SRUdfTENEX0hTWU5DCTB4MDgKLSNkZWZpbmUgSlpfUkVH
X0xDRF9WQVQJCTB4MEMKLSNkZWZpbmUgSlpfUkVHX0xDRF9EQUgJCTB4MTAKLSNkZWZpbmUgSlpf
UkVHX0xDRF9EQVYJCTB4MTQKLSNkZWZpbmUgSlpfUkVHX0xDRF9QUwkJMHgxOAotI2RlZmluZSBK
Wl9SRUdfTENEX0NMUwkJMHgxQwotI2RlZmluZSBKWl9SRUdfTENEX1NQTAkJMHgyMAotI2RlZmlu
ZSBKWl9SRUdfTENEX1JFVgkJMHgyNAotI2RlZmluZSBKWl9SRUdfTENEX0NUUkwJCTB4MzAKLSNk
ZWZpbmUgSlpfUkVHX0xDRF9TVEFURQkweDM0Ci0jZGVmaW5lIEpaX1JFR19MQ0RfSUlECQkweDM4
Ci0jZGVmaW5lIEpaX1JFR19MQ0RfREEwCQkweDQwCi0jZGVmaW5lIEpaX1JFR19MQ0RfU0EwCQkw
eDQ0Ci0jZGVmaW5lIEpaX1JFR19MQ0RfRklEMAkJMHg0OAotI2RlZmluZSBKWl9SRUdfTENEX0NN
RDAJCTB4NEMKLSNkZWZpbmUgSlpfUkVHX0xDRF9EQTEJCTB4NTAKLSNkZWZpbmUgSlpfUkVHX0xD
RF9TQTEJCTB4NTQKLSNkZWZpbmUgSlpfUkVHX0xDRF9GSUQxCQkweDU4Ci0jZGVmaW5lIEpaX1JF
R19MQ0RfQ01EMQkJMHg1QwotCi0jZGVmaW5lIEpaX0xDRF9DRkdfU0xDRAkJCUJJVCgzMSkKLSNk
ZWZpbmUgSlpfTENEX0NGR19QU19ESVNBQkxFCQlCSVQoMjMpCi0jZGVmaW5lIEpaX0xDRF9DRkdf
Q0xTX0RJU0FCTEUJCUJJVCgyMikKLSNkZWZpbmUgSlpfTENEX0NGR19TUExfRElTQUJMRQkJQklU
KDIxKQotI2RlZmluZSBKWl9MQ0RfQ0ZHX1JFVl9ESVNBQkxFCQlCSVQoMjApCi0jZGVmaW5lIEpa
X0xDRF9DRkdfSFNZTkNNCQlCSVQoMTkpCi0jZGVmaW5lIEpaX0xDRF9DRkdfUENMS00JCUJJVCgx
OCkKLSNkZWZpbmUgSlpfTENEX0NGR19JTlYJCQlCSVQoMTcpCi0jZGVmaW5lIEpaX0xDRF9DRkdf
U1lOQ19ESVIJCUJJVCgxNikKLSNkZWZpbmUgSlpfTENEX0NGR19QU19QT0xBUklUWQkJQklUKDE1
KQotI2RlZmluZSBKWl9MQ0RfQ0ZHX0NMU19QT0xBUklUWQkJQklUKDE0KQotI2RlZmluZSBKWl9M
Q0RfQ0ZHX1NQTF9QT0xBUklUWQkJQklUKDEzKQotI2RlZmluZSBKWl9MQ0RfQ0ZHX1JFVl9QT0xB
UklUWQkJQklUKDEyKQotI2RlZmluZSBKWl9MQ0RfQ0ZHX0hTWU5DX0FDVElWRV9MT1cJQklUKDEx
KQotI2RlZmluZSBKWl9MQ0RfQ0ZHX1BDTEtfRkFMTElOR19FREdFCUJJVCgxMCkKLSNkZWZpbmUg
SlpfTENEX0NGR19ERV9BQ1RJVkVfTE9XCUJJVCg5KQotI2RlZmluZSBKWl9MQ0RfQ0ZHX1ZTWU5D
X0FDVElWRV9MT1cJQklUKDgpCi0jZGVmaW5lIEpaX0xDRF9DRkdfMThfQklUCQlCSVQoNykKLSNk
ZWZpbmUgSlpfTENEX0NGR19QRFcJCQkoQklUKDUpIHwgQklUKDQpKQotI2RlZmluZSBKWl9MQ0Rf
Q0ZHX01PREVfTUFTSyAweGYKLQotI2RlZmluZSBKWl9MQ0RfQ1RSTF9CVVJTVF80CQkoMHgwIDw8
IDI4KQotI2RlZmluZSBKWl9MQ0RfQ1RSTF9CVVJTVF84CQkoMHgxIDw8IDI4KQotI2RlZmluZSBK
Wl9MQ0RfQ1RSTF9CVVJTVF8xNgkJKDB4MiA8PCAyOCkKLSNkZWZpbmUgSlpfTENEX0NUUkxfUkdC
NTU1CQlCSVQoMjcpCi0jZGVmaW5lIEpaX0xDRF9DVFJMX09GVVAJCUJJVCgyNikKLSNkZWZpbmUg
SlpfTENEX0NUUkxfRlJDX0dSQVlTQ0FMRV8xNgkoMHgwIDw8IDI0KQotI2RlZmluZSBKWl9MQ0Rf
Q1RSTF9GUkNfR1JBWVNDQUxFXzQJKDB4MSA8PCAyNCkKLSNkZWZpbmUgSlpfTENEX0NUUkxfRlJD
X0dSQVlTQ0FMRV8yCSgweDIgPDwgMjQpCi0jZGVmaW5lIEpaX0xDRF9DVFJMX1BERF9NQVNLCQko
MHhmZiA8PCAxNikKLSNkZWZpbmUgSlpfTENEX0NUUkxfRU9GX0lSUQkJQklUKDEzKQotI2RlZmlu
ZSBKWl9MQ0RfQ1RSTF9TT0ZfSVJRCQlCSVQoMTIpCi0jZGVmaW5lIEpaX0xDRF9DVFJMX09GVV9J
UlEJCUJJVCgxMSkKLSNkZWZpbmUgSlpfTENEX0NUUkxfSUZVMF9JUlEJCUJJVCgxMCkKLSNkZWZp
bmUgSlpfTENEX0NUUkxfSUZVMV9JUlEJCUJJVCg5KQotI2RlZmluZSBKWl9MQ0RfQ1RSTF9ERF9J
UlEJCUJJVCg4KQotI2RlZmluZSBKWl9MQ0RfQ1RSTF9RRERfSVJRCQlCSVQoNykKLSNkZWZpbmUg
SlpfTENEX0NUUkxfUkVWRVJTRV9FTkRJQU4JQklUKDYpCi0jZGVmaW5lIEpaX0xDRF9DVFJMX0xT
Ql9GSVNSVAkJQklUKDUpCi0jZGVmaW5lIEpaX0xDRF9DVFJMX0RJU0FCTEUJCUJJVCg0KQotI2Rl
ZmluZSBKWl9MQ0RfQ1RSTF9FTkFCTEUJCUJJVCgzKQotI2RlZmluZSBKWl9MQ0RfQ1RSTF9CUFBf
MQkJMHgwCi0jZGVmaW5lIEpaX0xDRF9DVFJMX0JQUF8yCQkweDEKLSNkZWZpbmUgSlpfTENEX0NU
UkxfQlBQXzQJCTB4MgotI2RlZmluZSBKWl9MQ0RfQ1RSTF9CUFBfOAkJMHgzCi0jZGVmaW5lIEpa
X0xDRF9DVFJMX0JQUF8xNV8xNgkJMHg0Ci0jZGVmaW5lIEpaX0xDRF9DVFJMX0JQUF8xOF8yNAkJ
MHg1Ci0KLSNkZWZpbmUgSlpfTENEX0NNRF9TT0ZfSVJRIEJJVCgzMSkKLSNkZWZpbmUgSlpfTENE
X0NNRF9FT0ZfSVJRIEJJVCgzMCkKLSNkZWZpbmUgSlpfTENEX0NNRF9FTkFCTEVfUEFMIEJJVCgy
OCkKLQotI2RlZmluZSBKWl9MQ0RfU1lOQ19NQVNLIDB4M2ZmCi0KLSNkZWZpbmUgSlpfTENEX1NU
QVRFX0RJU0FCTEVEIEJJVCgwKQotCi1zdHJ1Y3QganpmYl9mcmFtZWRlc2MgewotCXVpbnQzMl90
IG5leHQ7Ci0JdWludDMyX3QgYWRkcjsKLQl1aW50MzJfdCBpZDsKLQl1aW50MzJfdCBjbWQ7Ci19
IF9fcGFja2VkOwotCi1zdHJ1Y3QganpmYiB7Ci0Jc3RydWN0IGZiX2luZm8gKmZiOwotCXN0cnVj
dCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXY7Ci0Jdm9pZCBfX2lvbWVtICpiYXNlOwotCXN0cnVjdCBy
ZXNvdXJjZSAqbWVtOwotCXN0cnVjdCBqejQ3NDBfZmJfcGxhdGZvcm1fZGF0YSAqcGRhdGE7Ci0K
LQlzaXplX3QgdmlkbWVtX3NpemU7Ci0Jdm9pZCAqdmlkbWVtOwotCWRtYV9hZGRyX3QgdmlkbWVt
X3BoeXM7Ci0Jc3RydWN0IGp6ZmJfZnJhbWVkZXNjICpmcmFtZWRlc2M7Ci0JZG1hX2FkZHJfdCBm
cmFtZWRlc2NfcGh5czsKLQotCXN0cnVjdCBjbGsgKmxkY2xrOwotCXN0cnVjdCBjbGsgKmxwY2xr
OwotCi0JdW5zaWduZWQgaXNfZW5hYmxlZDoxOwotCXN0cnVjdCBtdXRleCBsb2NrOwotCi0JdWlu
dDMyX3QgcHNldWRvX3BhbGV0dGVbMTZdOwotfTsKLQotc3RhdGljIGNvbnN0IHN0cnVjdCBmYl9m
aXhfc2NyZWVuaW5mbyBqemZiX2ZpeCA9IHsKLQkuaWQJCT0gIkpaNDc0MCBGQiIsCi0JLnR5cGUJ
CT0gRkJfVFlQRV9QQUNLRURfUElYRUxTLAotCS52aXN1YWwJCT0gRkJfVklTVUFMX1RSVUVDT0xP
UiwKLQkueHBhbnN0ZXAJPSAwLAotCS55cGFuc3RlcAk9IDAsCi0JLnl3cmFwc3RlcAk9IDAsCi0J
LmFjY2VsCQk9IEZCX0FDQ0VMX05PTkUsCi19OwotCi0vKiBCYXNlZCBvbiBDTlZUX1RPSFcgbWFj
cm8gZnJvbSBza2VsZXRvbmZiLmMgKi8KLXN0YXRpYyBpbmxpbmUgdWludDMyX3QganpmYl9jb252
ZXJ0X2NvbG9yX3RvX2h3KHVuc2lnbmVkIHZhbCwKLQlzdHJ1Y3QgZmJfYml0ZmllbGQgKmJmKQot
ewotCXJldHVybiAoKCh2YWwgPDwgYmYtPmxlbmd0aCkgKyAweDdGRkYgLSB2YWwpID4+IDE2KSA8
PCBiZi0+b2Zmc2V0OwotfQotCi1zdGF0aWMgaW50IGp6ZmJfc2V0Y29scmVnKHVuc2lnbmVkIHJl
Z25vLCB1bnNpZ25lZCByZWQsIHVuc2lnbmVkIGdyZWVuLAotCQkJdW5zaWduZWQgYmx1ZSwgdW5z
aWduZWQgdHJhbnNwLCBzdHJ1Y3QgZmJfaW5mbyAqZmIpCi17Ci0JdWludDMyX3QgY29sb3I7Ci0K
LQlpZiAocmVnbm8gPj0gMTYpCi0JCXJldHVybiAtRUlOVkFMOwotCi0JY29sb3IgPSBqemZiX2Nv
bnZlcnRfY29sb3JfdG9faHcocmVkLCAmZmItPnZhci5yZWQpOwotCWNvbG9yIHw9IGp6ZmJfY29u
dmVydF9jb2xvcl90b19odyhncmVlbiwgJmZiLT52YXIuZ3JlZW4pOwotCWNvbG9yIHw9IGp6ZmJf
Y29udmVydF9jb2xvcl90b19odyhibHVlLCAmZmItPnZhci5ibHVlKTsKLQljb2xvciB8PSBqemZi
X2NvbnZlcnRfY29sb3JfdG9faHcodHJhbnNwLCAmZmItPnZhci50cmFuc3ApOwotCi0JKCh1aW50
MzJfdCAqKShmYi0+cHNldWRvX3BhbGV0dGUpKVtyZWdub10gPSBjb2xvcjsKLQotCXJldHVybiAw
OwotfQotCi1zdGF0aWMgaW50IGp6ZmJfZ2V0X2NvbnRyb2xsZXJfYnBwKHN0cnVjdCBqemZiICpq
emZiKQotewotCXN3aXRjaCAoanpmYi0+cGRhdGEtPmJwcCkgewotCWNhc2UgMTg6Ci0JY2FzZSAy
NDoKLQkJcmV0dXJuIDMyOwotCWNhc2UgMTU6Ci0JCXJldHVybiAxNjsKLQlkZWZhdWx0OgotCQly
ZXR1cm4ganpmYi0+cGRhdGEtPmJwcDsKLQl9Ci19Ci0KLXN0YXRpYyBzdHJ1Y3QgZmJfdmlkZW9t
b2RlICpqemZiX2dldF9tb2RlKHN0cnVjdCBqemZiICpqemZiLAotCXN0cnVjdCBmYl92YXJfc2Ny
ZWVuaW5mbyAqdmFyKQotewotCXNpemVfdCBpOwotCXN0cnVjdCBmYl92aWRlb21vZGUgKm1vZGUg
PSBqemZiLT5wZGF0YS0+bW9kZXM7Ci0KLQlmb3IgKGkgPSAwOyBpIDwganpmYi0+cGRhdGEtPm51
bV9tb2RlczsgKytpLCArK21vZGUpIHsKLQkJaWYgKG1vZGUtPnhyZXMgPT0gdmFyLT54cmVzICYm
IG1vZGUtPnlyZXMgPT0gdmFyLT55cmVzKQotCQkJcmV0dXJuIG1vZGU7Ci0JfQotCi0JcmV0dXJu
IE5VTEw7Ci19Ci0KLXN0YXRpYyBpbnQganpmYl9jaGVja192YXIoc3RydWN0IGZiX3Zhcl9zY3Jl
ZW5pbmZvICp2YXIsIHN0cnVjdCBmYl9pbmZvICpmYikKLXsKLQlzdHJ1Y3QganpmYiAqanpmYiA9
IGZiLT5wYXI7Ci0Jc3RydWN0IGZiX3ZpZGVvbW9kZSAqbW9kZTsKLQotCWlmICh2YXItPmJpdHNf
cGVyX3BpeGVsICE9IGp6ZmJfZ2V0X2NvbnRyb2xsZXJfYnBwKGp6ZmIpICYmCi0JCXZhci0+Yml0
c19wZXJfcGl4ZWwgIT0ganpmYi0+cGRhdGEtPmJwcCkKLQkJcmV0dXJuIC1FSU5WQUw7Ci0KLQlt
b2RlID0ganpmYl9nZXRfbW9kZShqemZiLCB2YXIpOwotCWlmIChtb2RlID09IE5VTEwpCi0JCXJl
dHVybiAtRUlOVkFMOwotCi0JZmJfdmlkZW9tb2RlX3RvX3Zhcih2YXIsIG1vZGUpOwotCi0Jc3dp
dGNoIChqemZiLT5wZGF0YS0+YnBwKSB7Ci0JY2FzZSA4OgotCQlicmVhazsKLQljYXNlIDE1Ogot
CQl2YXItPnJlZC5vZmZzZXQgPSAxMDsKLQkJdmFyLT5yZWQubGVuZ3RoID0gNTsKLQkJdmFyLT5n
cmVlbi5vZmZzZXQgPSA2OwotCQl2YXItPmdyZWVuLmxlbmd0aCA9IDU7Ci0JCXZhci0+Ymx1ZS5v
ZmZzZXQgPSAwOwotCQl2YXItPmJsdWUubGVuZ3RoID0gNTsKLQkJYnJlYWs7Ci0JY2FzZSAxNjoK
LQkJdmFyLT5yZWQub2Zmc2V0ID0gMTE7Ci0JCXZhci0+cmVkLmxlbmd0aCA9IDU7Ci0JCXZhci0+
Z3JlZW4ub2Zmc2V0ID0gNTsKLQkJdmFyLT5ncmVlbi5sZW5ndGggPSA2OwotCQl2YXItPmJsdWUu
b2Zmc2V0ID0gMDsKLQkJdmFyLT5ibHVlLmxlbmd0aCA9IDU7Ci0JCWJyZWFrOwotCWNhc2UgMTg6
Ci0JCXZhci0+cmVkLm9mZnNldCA9IDE2OwotCQl2YXItPnJlZC5sZW5ndGggPSA2OwotCQl2YXIt
PmdyZWVuLm9mZnNldCA9IDg7Ci0JCXZhci0+Z3JlZW4ubGVuZ3RoID0gNjsKLQkJdmFyLT5ibHVl
Lm9mZnNldCA9IDA7Ci0JCXZhci0+Ymx1ZS5sZW5ndGggPSA2OwotCQl2YXItPmJpdHNfcGVyX3Bp
eGVsID0gMzI7Ci0JCWJyZWFrOwotCWNhc2UgMzI6Ci0JY2FzZSAyNDoKLQkJdmFyLT50cmFuc3Au
b2Zmc2V0ID0gMjQ7Ci0JCXZhci0+dHJhbnNwLmxlbmd0aCA9IDg7Ci0JCXZhci0+cmVkLm9mZnNl
dCA9IDE2OwotCQl2YXItPnJlZC5sZW5ndGggPSA4OwotCQl2YXItPmdyZWVuLm9mZnNldCA9IDg7
Ci0JCXZhci0+Z3JlZW4ubGVuZ3RoID0gODsKLQkJdmFyLT5ibHVlLm9mZnNldCA9IDA7Ci0JCXZh
ci0+Ymx1ZS5sZW5ndGggPSA4OwotCQl2YXItPmJpdHNfcGVyX3BpeGVsID0gMzI7Ci0JCWJyZWFr
OwotCWRlZmF1bHQ6Ci0JCWJyZWFrOwotCX0KLQotCXJldHVybiAwOwotfQotCi1zdGF0aWMgaW50
IGp6ZmJfc2V0X3BhcihzdHJ1Y3QgZmJfaW5mbyAqaW5mbykKLXsKLQlzdHJ1Y3QganpmYiAqanpm
YiA9IGluZm8tPnBhcjsKLQlzdHJ1Y3Qgano0NzQwX2ZiX3BsYXRmb3JtX2RhdGEgKnBkYXRhID0g
anpmYi0+cGRhdGE7Ci0Jc3RydWN0IGZiX3Zhcl9zY3JlZW5pbmZvICp2YXIgPSAmaW5mby0+dmFy
OwotCXN0cnVjdCBmYl92aWRlb21vZGUgKm1vZGU7Ci0JdWludDE2X3QgaGRzLCB2ZHM7Ci0JdWlu
dDE2X3QgaGRlLCB2ZGU7Ci0JdWludDE2X3QgaHQsIHZ0OwotCXVpbnQzMl90IGN0cmw7Ci0JdWlu
dDMyX3QgY2ZnOwotCXVuc2lnbmVkIGxvbmcgcmF0ZTsKLQotCW1vZGUgPSBqemZiX2dldF9tb2Rl
KGp6ZmIsIHZhcik7Ci0JaWYgKG1vZGUgPT0gTlVMTCkKLQkJcmV0dXJuIC1FSU5WQUw7Ci0KLQlp
ZiAobW9kZSA9PSBpbmZvLT5tb2RlKQotCQlyZXR1cm4gMDsKLQotCWluZm8tPm1vZGUgPSBtb2Rl
OwotCi0JaGRzID0gbW9kZS0+aHN5bmNfbGVuICsgbW9kZS0+bGVmdF9tYXJnaW47Ci0JaGRlID0g
aGRzICsgbW9kZS0+eHJlczsKLQlodCA9IGhkZSArIG1vZGUtPnJpZ2h0X21hcmdpbjsKLQotCXZk
cyA9IG1vZGUtPnZzeW5jX2xlbiArIG1vZGUtPnVwcGVyX21hcmdpbjsKLQl2ZGUgPSB2ZHMgKyBt
b2RlLT55cmVzOwotCXZ0ID0gdmRlICsgbW9kZS0+bG93ZXJfbWFyZ2luOwotCi0JY3RybCA9IEpa
X0xDRF9DVFJMX09GVVAgfCBKWl9MQ0RfQ1RSTF9CVVJTVF8xNjsKLQotCXN3aXRjaCAocGRhdGEt
PmJwcCkgewotCWNhc2UgMToKLQkJY3RybCB8PSBKWl9MQ0RfQ1RSTF9CUFBfMTsKLQkJYnJlYWs7
Ci0JY2FzZSAyOgotCQljdHJsIHw9IEpaX0xDRF9DVFJMX0JQUF8yOwotCQlicmVhazsKLQljYXNl
IDQ6Ci0JCWN0cmwgfD0gSlpfTENEX0NUUkxfQlBQXzQ7Ci0JCWJyZWFrOwotCWNhc2UgODoKLQkJ
Y3RybCB8PSBKWl9MQ0RfQ1RSTF9CUFBfODsKLQlicmVhazsKLQljYXNlIDE1OgotCQljdHJsIHw9
IEpaX0xDRF9DVFJMX1JHQjU1NTsgLyogRmFsbHRyb3VnaCAqLwotCWNhc2UgMTY6Ci0JCWN0cmwg
fD0gSlpfTENEX0NUUkxfQlBQXzE1XzE2OwotCQlicmVhazsKLQljYXNlIDE4OgotCWNhc2UgMjQ6
Ci0JY2FzZSAzMjoKLQkJY3RybCB8PSBKWl9MQ0RfQ1RSTF9CUFBfMThfMjQ7Ci0JCWJyZWFrOwot
CWRlZmF1bHQ6Ci0JCWJyZWFrOwotCX0KLQotCWNmZyA9IHBkYXRhLT5sY2RfdHlwZSAmIDB4ZjsK
LQotCWlmICghKG1vZGUtPnN5bmMgJiBGQl9TWU5DX0hPUl9ISUdIX0FDVCkpCi0JCWNmZyB8PSBK
Wl9MQ0RfQ0ZHX0hTWU5DX0FDVElWRV9MT1c7Ci0KLQlpZiAoIShtb2RlLT5zeW5jICYgRkJfU1lO
Q19WRVJUX0hJR0hfQUNUKSkKLQkJY2ZnIHw9IEpaX0xDRF9DRkdfVlNZTkNfQUNUSVZFX0xPVzsK
LQotCWlmIChwZGF0YS0+cGl4Y2xrX2ZhbGxpbmdfZWRnZSkKLQkJY2ZnIHw9IEpaX0xDRF9DRkdf
UENMS19GQUxMSU5HX0VER0U7Ci0KLQlpZiAocGRhdGEtPmRhdGVfZW5hYmxlX2FjdGl2ZV9sb3cp
Ci0JCWNmZyB8PSBKWl9MQ0RfQ0ZHX0RFX0FDVElWRV9MT1c7Ci0KLQlpZiAocGRhdGEtPmxjZF90
eXBlID09IEpaX0xDRF9UWVBFX0dFTkVSSUNfMThfQklUKQotCQljZmcgfD0gSlpfTENEX0NGR18x
OF9CSVQ7Ci0KLQlpZiAobW9kZS0+cGl4Y2xvY2spIHsKLQkJcmF0ZSA9IFBJQ09TMktIWihtb2Rl
LT5waXhjbG9jaykgKiAxMDAwOwotCQltb2RlLT5yZWZyZXNoID0gcmF0ZSAvIHZ0IC8gaHQ7Ci0J
fSBlbHNlIHsKLQkJaWYgKHBkYXRhLT5sY2RfdHlwZSA9PSBKWl9MQ0RfVFlQRV84QklUX1NFUklB
TCkKLQkJCXJhdGUgPSBtb2RlLT5yZWZyZXNoICogKHZ0ICsgMiAqIG1vZGUtPnhyZXMpICogaHQ7
Ci0JCWVsc2UKLQkJCXJhdGUgPSBtb2RlLT5yZWZyZXNoICogdnQgKiBodDsKLQotCQltb2RlLT5w
aXhjbG9jayA9IEtIWjJQSUNPUyhyYXRlIC8gMTAwMCk7Ci0JfQotCi0JbXV0ZXhfbG9jaygmanpm
Yi0+bG9jayk7Ci0JaWYgKCFqemZiLT5pc19lbmFibGVkKQotCQljbGtfZW5hYmxlKGp6ZmItPmxk
Y2xrKTsKLQllbHNlCi0JCWN0cmwgfD0gSlpfTENEX0NUUkxfRU5BQkxFOwotCi0Jc3dpdGNoIChw
ZGF0YS0+bGNkX3R5cGUpIHsKLQljYXNlIEpaX0xDRF9UWVBFX1NQRUNJQUxfVEZUXzE6Ci0JY2Fz
ZSBKWl9MQ0RfVFlQRV9TUEVDSUFMX1RGVF8yOgotCWNhc2UgSlpfTENEX1RZUEVfU1BFQ0lBTF9U
RlRfMzoKLQkJd3JpdGVsKHBkYXRhLT5zcGVjaWFsX3RmdF9jb25maWcuc3BsLCBqemZiLT5iYXNl
ICsgSlpfUkVHX0xDRF9TUEwpOwotCQl3cml0ZWwocGRhdGEtPnNwZWNpYWxfdGZ0X2NvbmZpZy5j
bHMsIGp6ZmItPmJhc2UgKyBKWl9SRUdfTENEX0NMUyk7Ci0JCXdyaXRlbChwZGF0YS0+c3BlY2lh
bF90ZnRfY29uZmlnLnBzLCBqemZiLT5iYXNlICsgSlpfUkVHX0xDRF9QUyk7Ci0JCXdyaXRlbChw
ZGF0YS0+c3BlY2lhbF90ZnRfY29uZmlnLnBzLCBqemZiLT5iYXNlICsgSlpfUkVHX0xDRF9SRVYp
OwotCQlicmVhazsKLQlkZWZhdWx0OgotCQljZmcgfD0gSlpfTENEX0NGR19QU19ESVNBQkxFOwot
CQljZmcgfD0gSlpfTENEX0NGR19DTFNfRElTQUJMRTsKLQkJY2ZnIHw9IEpaX0xDRF9DRkdfU1BM
X0RJU0FCTEU7Ci0JCWNmZyB8PSBKWl9MQ0RfQ0ZHX1JFVl9ESVNBQkxFOwotCQlicmVhazsKLQl9
Ci0KLQl3cml0ZWwobW9kZS0+aHN5bmNfbGVuLCBqemZiLT5iYXNlICsgSlpfUkVHX0xDRF9IU1lO
Qyk7Ci0Jd3JpdGVsKG1vZGUtPnZzeW5jX2xlbiwganpmYi0+YmFzZSArIEpaX1JFR19MQ0RfVlNZ
TkMpOwotCi0Jd3JpdGVsKChodCA8PCAxNikgfCB2dCwganpmYi0+YmFzZSArIEpaX1JFR19MQ0Rf
VkFUKTsKLQotCXdyaXRlbCgoaGRzIDw8IDE2KSB8IGhkZSwganpmYi0+YmFzZSArIEpaX1JFR19M
Q0RfREFIKTsKLQl3cml0ZWwoKHZkcyA8PCAxNikgfCB2ZGUsIGp6ZmItPmJhc2UgKyBKWl9SRUdf
TENEX0RBVik7Ci0KLQl3cml0ZWwoY2ZnLCBqemZiLT5iYXNlICsgSlpfUkVHX0xDRF9DRkcpOwot
Ci0Jd3JpdGVsKGN0cmwsIGp6ZmItPmJhc2UgKyBKWl9SRUdfTENEX0NUUkwpOwotCi0JaWYgKCFq
emZiLT5pc19lbmFibGVkKQotCQljbGtfZGlzYWJsZV91bnByZXBhcmUoanpmYi0+bGRjbGspOwot
Ci0JbXV0ZXhfdW5sb2NrKCZqemZiLT5sb2NrKTsKLQotCWNsa19zZXRfcmF0ZShqemZiLT5scGNs
aywgcmF0ZSk7Ci0JY2xrX3NldF9yYXRlKGp6ZmItPmxkY2xrLCByYXRlICogMyk7Ci0KLQlyZXR1
cm4gMDsKLX0KLQotc3RhdGljIHZvaWQganpmYl9lbmFibGUoc3RydWN0IGp6ZmIgKmp6ZmIpCi17
Ci0JdWludDMyX3QgY3RybDsKLQotCWNsa19wcmVwYXJlX2VuYWJsZShqemZiLT5sZGNsayk7Ci0K
LQlwaW5jdHJsX3BtX3NlbGVjdF9kZWZhdWx0X3N0YXRlKCZqemZiLT5wZGV2LT5kZXYpOwotCi0J
d3JpdGVsKDAsIGp6ZmItPmJhc2UgKyBKWl9SRUdfTENEX1NUQVRFKTsKLQotCXdyaXRlbChqemZi
LT5mcmFtZWRlc2MtPm5leHQsIGp6ZmItPmJhc2UgKyBKWl9SRUdfTENEX0RBMCk7Ci0KLQljdHJs
ID0gcmVhZGwoanpmYi0+YmFzZSArIEpaX1JFR19MQ0RfQ1RSTCk7Ci0JY3RybCB8PSBKWl9MQ0Rf
Q1RSTF9FTkFCTEU7Ci0JY3RybCAmPSB+SlpfTENEX0NUUkxfRElTQUJMRTsKLQl3cml0ZWwoY3Ry
bCwganpmYi0+YmFzZSArIEpaX1JFR19MQ0RfQ1RSTCk7Ci19Ci0KLXN0YXRpYyB2b2lkIGp6ZmJf
ZGlzYWJsZShzdHJ1Y3QganpmYiAqanpmYikKLXsKLQl1aW50MzJfdCBjdHJsOwotCi0JY3RybCA9
IHJlYWRsKGp6ZmItPmJhc2UgKyBKWl9SRUdfTENEX0NUUkwpOwotCWN0cmwgfD0gSlpfTENEX0NU
UkxfRElTQUJMRTsKLQl3cml0ZWwoY3RybCwganpmYi0+YmFzZSArIEpaX1JFR19MQ0RfQ1RSTCk7
Ci0JZG8gewotCQljdHJsID0gcmVhZGwoanpmYi0+YmFzZSArIEpaX1JFR19MQ0RfU1RBVEUpOwot
CX0gd2hpbGUgKCEoY3RybCAmIEpaX0xDRF9TVEFURV9ESVNBQkxFRCkpOwotCi0JcGluY3RybF9w
bV9zZWxlY3Rfc2xlZXBfc3RhdGUoJmp6ZmItPnBkZXYtPmRldik7Ci0KLQljbGtfZGlzYWJsZV91
bnByZXBhcmUoanpmYi0+bGRjbGspOwotfQotCi1zdGF0aWMgaW50IGp6ZmJfYmxhbmsoaW50IGJs
YW5rX21vZGUsIHN0cnVjdCBmYl9pbmZvICppbmZvKQotewotCXN0cnVjdCBqemZiICpqemZiID0g
aW5mby0+cGFyOwotCi0Jc3dpdGNoIChibGFua19tb2RlKSB7Ci0JY2FzZSBGQl9CTEFOS19VTkJM
QU5LOgotCQltdXRleF9sb2NrKCZqemZiLT5sb2NrKTsKLQkJaWYgKGp6ZmItPmlzX2VuYWJsZWQp
IHsKLQkJCW11dGV4X3VubG9jaygmanpmYi0+bG9jayk7Ci0JCQlyZXR1cm4gMDsKLQkJfQotCi0J
CWp6ZmJfZW5hYmxlKGp6ZmIpOwotCQlqemZiLT5pc19lbmFibGVkID0gMTsKLQotCQltdXRleF91
bmxvY2soJmp6ZmItPmxvY2spOwotCQlicmVhazsKLQlkZWZhdWx0OgotCQltdXRleF9sb2NrKCZq
emZiLT5sb2NrKTsKLQkJaWYgKCFqemZiLT5pc19lbmFibGVkKSB7Ci0JCQltdXRleF91bmxvY2so
Jmp6ZmItPmxvY2spOwotCQkJcmV0dXJuIDA7Ci0JCX0KLQotCQlqemZiX2Rpc2FibGUoanpmYik7
Ci0JCWp6ZmItPmlzX2VuYWJsZWQgPSAwOwotCi0JCW11dGV4X3VubG9jaygmanpmYi0+bG9jayk7
Ci0JCWJyZWFrOwotCX0KLQotCXJldHVybiAwOwotfQotCi1zdGF0aWMgaW50IGp6ZmJfYWxsb2Nf
ZGV2bWVtKHN0cnVjdCBqemZiICpqemZiKQotewotCWludCBtYXhfdmlkZW9zaXplID0gMDsKLQlz
dHJ1Y3QgZmJfdmlkZW9tb2RlICptb2RlID0ganpmYi0+cGRhdGEtPm1vZGVzOwotCWludCBpOwot
Ci0JZm9yIChpID0gMDsgaSA8IGp6ZmItPnBkYXRhLT5udW1fbW9kZXM7ICsrbW9kZSwgKytpKSB7
Ci0JCWlmIChtYXhfdmlkZW9zaXplIDwgbW9kZS0+eHJlcyAqIG1vZGUtPnlyZXMpCi0JCQltYXhf
dmlkZW9zaXplID0gbW9kZS0+eHJlcyAqIG1vZGUtPnlyZXM7Ci0JfQotCi0JbWF4X3ZpZGVvc2l6
ZSAqPSBqemZiX2dldF9jb250cm9sbGVyX2JwcChqemZiKSA+PiAzOwotCi0JanpmYi0+ZnJhbWVk
ZXNjID0gZG1hX2FsbG9jX2NvaGVyZW50KCZqemZiLT5wZGV2LT5kZXYsCi0JCQkJCXNpemVvZigq
anpmYi0+ZnJhbWVkZXNjKSwKLQkJCQkJJmp6ZmItPmZyYW1lZGVzY19waHlzLCBHRlBfS0VSTkVM
KTsKLQotCWlmICghanpmYi0+ZnJhbWVkZXNjKQotCQlyZXR1cm4gLUVOT01FTTsKLQotCWp6ZmIt
PnZpZG1lbV9zaXplID0gUEFHRV9BTElHTihtYXhfdmlkZW9zaXplKTsKLQlqemZiLT52aWRtZW0g
PSBkbWFfYWxsb2NfY29oZXJlbnQoJmp6ZmItPnBkZXYtPmRldiwKLQkJCQkJanpmYi0+dmlkbWVt
X3NpemUsCi0JCQkJCSZqemZiLT52aWRtZW1fcGh5cywgR0ZQX0tFUk5FTCk7Ci0KLQlpZiAoIWp6
ZmItPnZpZG1lbSkKLQkJZ290byBlcnJfZnJlZV9mcmFtZWRlc2M7Ci0KLQlqemZiLT5mcmFtZWRl
c2MtPm5leHQgPSBqemZiLT5mcmFtZWRlc2NfcGh5czsKLQlqemZiLT5mcmFtZWRlc2MtPmFkZHIg
PSBqemZiLT52aWRtZW1fcGh5czsKLQlqemZiLT5mcmFtZWRlc2MtPmlkID0gMHhkZWFmYmVhZDsK
LQlqemZiLT5mcmFtZWRlc2MtPmNtZCA9IDA7Ci0JanpmYi0+ZnJhbWVkZXNjLT5jbWQgfD0gbWF4
X3ZpZGVvc2l6ZSAvIDQ7Ci0KLQlyZXR1cm4gMDsKLQotZXJyX2ZyZWVfZnJhbWVkZXNjOgotCWRt
YV9mcmVlX2NvaGVyZW50KCZqemZiLT5wZGV2LT5kZXYsIHNpemVvZigqanpmYi0+ZnJhbWVkZXNj
KSwKLQkJCQlqemZiLT5mcmFtZWRlc2MsIGp6ZmItPmZyYW1lZGVzY19waHlzKTsKLQlyZXR1cm4g
LUVOT01FTTsKLX0KLQotc3RhdGljIHZvaWQganpmYl9mcmVlX2Rldm1lbShzdHJ1Y3QganpmYiAq
anpmYikKLXsKLQlkbWFfZnJlZV9jb2hlcmVudCgmanpmYi0+cGRldi0+ZGV2LCBqemZiLT52aWRt
ZW1fc2l6ZSwKLQkJCQlqemZiLT52aWRtZW0sIGp6ZmItPnZpZG1lbV9waHlzKTsKLQlkbWFfZnJl
ZV9jb2hlcmVudCgmanpmYi0+cGRldi0+ZGV2LCBzaXplb2YoKmp6ZmItPmZyYW1lZGVzYyksCi0J
CQkJanpmYi0+ZnJhbWVkZXNjLCBqemZiLT5mcmFtZWRlc2NfcGh5cyk7Ci19Ci0KLXN0YXRpYyBz
dHJ1Y3QgIGZiX29wcyBqemZiX29wcyA9IHsKLQkub3duZXIgPSBUSElTX01PRFVMRSwKLQkuZmJf
Y2hlY2tfdmFyID0ganpmYl9jaGVja192YXIsCi0JLmZiX3NldF9wYXIgPSBqemZiX3NldF9wYXIs
Ci0JLmZiX2JsYW5rID0ganpmYl9ibGFuaywKLQkuZmJfZmlsbHJlY3QJPSBzeXNfZmlsbHJlY3Qs
Ci0JLmZiX2NvcHlhcmVhCT0gc3lzX2NvcHlhcmVhLAotCS5mYl9pbWFnZWJsaXQJPSBzeXNfaW1h
Z2VibGl0LAotCS5mYl9zZXRjb2xyZWcgPSBqemZiX3NldGNvbHJlZywKLX07Ci0KLXN0YXRpYyBp
bnQganpmYl9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQotewotCWludCByZXQ7
Ci0Jc3RydWN0IGp6ZmIgKmp6ZmI7Ci0Jc3RydWN0IGZiX2luZm8gKmZiOwotCXN0cnVjdCBqejQ3
NDBfZmJfcGxhdGZvcm1fZGF0YSAqcGRhdGEgPSBwZGV2LT5kZXYucGxhdGZvcm1fZGF0YTsKLQlz
dHJ1Y3QgcmVzb3VyY2UgKm1lbTsKLQotCWlmICghcGRhdGEpIHsKLQkJZGV2X2VycigmcGRldi0+
ZGV2LCAiTWlzc2luZyBwbGF0Zm9ybSBkYXRhXG4iKTsKLQkJcmV0dXJuIC1FTlhJTzsKLQl9Ci0K
LQlmYiA9IGZyYW1lYnVmZmVyX2FsbG9jKHNpemVvZihzdHJ1Y3QganpmYiksICZwZGV2LT5kZXYp
OwotCWlmICghZmIpCi0JCXJldHVybiAtRU5PTUVNOwotCi0JZmItPmZib3BzID0gJmp6ZmJfb3Bz
OwotCWZiLT5mbGFncyA9IEZCSU5GT19ERUZBVUxUOwotCi0JanpmYiA9IGZiLT5wYXI7Ci0Janpm
Yi0+cGRldiA9IHBkZXY7Ci0JanpmYi0+cGRhdGEgPSBwZGF0YTsKLQotCWp6ZmItPmxkY2xrID0g
ZGV2bV9jbGtfZ2V0KCZwZGV2LT5kZXYsICJsY2QiKTsKLQlpZiAoSVNfRVJSKGp6ZmItPmxkY2xr
KSkgewotCQlyZXQgPSBQVFJfRVJSKGp6ZmItPmxkY2xrKTsKLQkJZGV2X2VycigmcGRldi0+ZGV2
LCAiRmFpbGVkIHRvIGdldCBsY2QgY2xvY2s6ICVkXG4iLCByZXQpOwotCQlnb3RvIGVycl9mcmFt
ZWJ1ZmZlcl9yZWxlYXNlOwotCX0KLQotCWp6ZmItPmxwY2xrID0gZGV2bV9jbGtfZ2V0KCZwZGV2
LT5kZXYsICJsY2RfcGNsayIpOwotCWlmIChJU19FUlIoanpmYi0+bHBjbGspKSB7Ci0JCXJldCA9
IFBUUl9FUlIoanpmYi0+bHBjbGspOwotCQlkZXZfZXJyKCZwZGV2LT5kZXYsICJGYWlsZWQgdG8g
Z2V0IGxjZCBwaXhlbCBjbG9jazogJWRcbiIsIHJldCk7Ci0JCWdvdG8gZXJyX2ZyYW1lYnVmZmVy
X3JlbGVhc2U7Ci0JfQotCi0JbWVtID0gcGxhdGZvcm1fZ2V0X3Jlc291cmNlKHBkZXYsIElPUkVT
T1VSQ0VfTUVNLCAwKTsKLQlqemZiLT5iYXNlID0gZGV2bV9pb3JlbWFwX3Jlc291cmNlKCZwZGV2
LT5kZXYsIG1lbSk7Ci0JaWYgKElTX0VSUihqemZiLT5iYXNlKSkgewotCQlyZXQgPSBQVFJfRVJS
KGp6ZmItPmJhc2UpOwotCQlnb3RvIGVycl9mcmFtZWJ1ZmZlcl9yZWxlYXNlOwotCX0KLQotCXBs
YXRmb3JtX3NldF9kcnZkYXRhKHBkZXYsIGp6ZmIpOwotCi0JbXV0ZXhfaW5pdCgmanpmYi0+bG9j
ayk7Ci0KLQlmYl92aWRlb21vZGVfdG9fbW9kZWxpc3QocGRhdGEtPm1vZGVzLCBwZGF0YS0+bnVt
X21vZGVzLAotCQkJCSAmZmItPm1vZGVsaXN0KTsKLQlmYl92aWRlb21vZGVfdG9fdmFyKCZmYi0+
dmFyLCBwZGF0YS0+bW9kZXMpOwotCWZiLT52YXIuYml0c19wZXJfcGl4ZWwgPSBwZGF0YS0+YnBw
OwotCWp6ZmJfY2hlY2tfdmFyKCZmYi0+dmFyLCBmYik7Ci0KLQlyZXQgPSBqemZiX2FsbG9jX2Rl
dm1lbShqemZiKTsKLQlpZiAocmV0KSB7Ci0JCWRldl9lcnIoJnBkZXYtPmRldiwgIkZhaWxlZCB0
byBhbGxvY2F0ZSB2aWRlbyBtZW1vcnlcbiIpOwotCQlnb3RvIGVycl9mcmFtZWJ1ZmZlcl9yZWxl
YXNlOwotCX0KLQotCWZiLT5maXggPSBqemZiX2ZpeDsKLQlmYi0+Zml4LmxpbmVfbGVuZ3RoID0g
ZmItPnZhci5iaXRzX3Blcl9waXhlbCAqIGZiLT52YXIueHJlcyAvIDg7Ci0JZmItPmZpeC5tbWlv
X3N0YXJ0ID0gbWVtLT5zdGFydDsKLQlmYi0+Zml4Lm1taW9fbGVuID0gcmVzb3VyY2Vfc2l6ZSht
ZW0pOwotCWZiLT5maXguc21lbV9zdGFydCA9IGp6ZmItPnZpZG1lbV9waHlzOwotCWZiLT5maXgu
c21lbV9sZW4gPSAgZmItPmZpeC5saW5lX2xlbmd0aCAqIGZiLT52YXIueXJlczsKLQlmYi0+c2Ny
ZWVuX2Jhc2UgPSBqemZiLT52aWRtZW07Ci0JZmItPnBzZXVkb19wYWxldHRlID0ganpmYi0+cHNl
dWRvX3BhbGV0dGU7Ci0KLQlmYl9hbGxvY19jbWFwKCZmYi0+Y21hcCwgMjU2LCAwKTsKLQotCWNs
a19wcmVwYXJlX2VuYWJsZShqemZiLT5sZGNsayk7Ci0JanpmYi0+aXNfZW5hYmxlZCA9IDE7Ci0K
LQl3cml0ZWwoanpmYi0+ZnJhbWVkZXNjLT5uZXh0LCBqemZiLT5iYXNlICsgSlpfUkVHX0xDRF9E
QTApOwotCi0JZmItPm1vZGUgPSBOVUxMOwotCWp6ZmJfc2V0X3BhcihmYik7Ci0KLQlyZXQgPSBy
ZWdpc3Rlcl9mcmFtZWJ1ZmZlcihmYik7Ci0JaWYgKHJldCkgewotCQlkZXZfZXJyKCZwZGV2LT5k
ZXYsICJGYWlsZWQgdG8gcmVnaXN0ZXIgZnJhbWVidWZmZXI6ICVkXG4iLCByZXQpOwotCQlnb3Rv
IGVycl9mcmVlX2Rldm1lbTsKLQl9Ci0KLQlqemZiLT5mYiA9IGZiOwotCi0JcmV0dXJuIDA7Ci0K
LWVycl9mcmVlX2Rldm1lbToKLQlmYl9kZWFsbG9jX2NtYXAoJmZiLT5jbWFwKTsKLQlqemZiX2Zy
ZWVfZGV2bWVtKGp6ZmIpOwotZXJyX2ZyYW1lYnVmZmVyX3JlbGVhc2U6Ci0JZnJhbWVidWZmZXJf
cmVsZWFzZShmYik7Ci0JcmV0dXJuIHJldDsKLX0KLQotc3RhdGljIGludCBqemZiX3JlbW92ZShz
dHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQotewotCXN0cnVjdCBqemZiICpqemZiID0gcGxh
dGZvcm1fZ2V0X2RydmRhdGEocGRldik7Ci0KLQlqemZiX2JsYW5rKEZCX0JMQU5LX1BPV0VSRE9X
TiwganpmYi0+ZmIpOwotCi0JZmJfZGVhbGxvY19jbWFwKCZqemZiLT5mYi0+Y21hcCk7Ci0Janpm
Yl9mcmVlX2Rldm1lbShqemZiKTsKLQotCWZyYW1lYnVmZmVyX3JlbGVhc2UoanpmYi0+ZmIpOwot
Ci0JcmV0dXJuIDA7Ci19Ci0KLSNpZmRlZiBDT05GSUdfUE0KLQotc3RhdGljIGludCBqemZiX3N1
c3BlbmQoc3RydWN0IGRldmljZSAqZGV2KQotewotCXN0cnVjdCBqemZiICpqemZiID0gZGV2X2dl
dF9kcnZkYXRhKGRldik7Ci0KLQljb25zb2xlX2xvY2soKTsKLQlmYl9zZXRfc3VzcGVuZChqemZi
LT5mYiwgMSk7Ci0JY29uc29sZV91bmxvY2soKTsKLQotCW11dGV4X2xvY2soJmp6ZmItPmxvY2sp
OwotCWlmIChqemZiLT5pc19lbmFibGVkKQotCQlqemZiX2Rpc2FibGUoanpmYik7Ci0JbXV0ZXhf
dW5sb2NrKCZqemZiLT5sb2NrKTsKLQotCXJldHVybiAwOwotfQotCi1zdGF0aWMgaW50IGp6ZmJf
cmVzdW1lKHN0cnVjdCBkZXZpY2UgKmRldikKLXsKLQlzdHJ1Y3QganpmYiAqanpmYiA9IGRldl9n
ZXRfZHJ2ZGF0YShkZXYpOwotCWNsa19wcmVwYXJlX2VuYWJsZShqemZiLT5sZGNsayk7Ci0KLQlt
dXRleF9sb2NrKCZqemZiLT5sb2NrKTsKLQlpZiAoanpmYi0+aXNfZW5hYmxlZCkKLQkJanpmYl9l
bmFibGUoanpmYik7Ci0JbXV0ZXhfdW5sb2NrKCZqemZiLT5sb2NrKTsKLQotCWNvbnNvbGVfbG9j
aygpOwotCWZiX3NldF9zdXNwZW5kKGp6ZmItPmZiLCAwKTsKLQljb25zb2xlX3VubG9jaygpOwot
Ci0JcmV0dXJuIDA7Ci19Ci0KLXN0YXRpYyBjb25zdCBzdHJ1Y3QgZGV2X3BtX29wcyBqemZiX3Bt
X29wcyA9IHsKLQkuc3VzcGVuZAk9IGp6ZmJfc3VzcGVuZCwKLQkucmVzdW1lCQk9IGp6ZmJfcmVz
dW1lLAotCS5wb3dlcm9mZgk9IGp6ZmJfc3VzcGVuZCwKLQkucmVzdG9yZQk9IGp6ZmJfcmVzdW1l
LAotfTsKLQotI2RlZmluZSBKWkZCX1BNX09QUyAoJmp6ZmJfcG1fb3BzKQotCi0jZWxzZQotI2Rl
ZmluZSBKWkZCX1BNX09QUyBOVUxMCi0jZW5kaWYKLQotc3RhdGljIHN0cnVjdCBwbGF0Zm9ybV9k
cml2ZXIganpmYl9kcml2ZXIgPSB7Ci0JLnByb2JlID0ganpmYl9wcm9iZSwKLQkucmVtb3ZlID0g
anpmYl9yZW1vdmUsCi0JLmRyaXZlciA9IHsKLQkJLm5hbWUgPSAiano0NzQwLWZiIiwKLQkJLnBt
ID0gSlpGQl9QTV9PUFMsCi0JfSwKLX07Ci1tb2R1bGVfcGxhdGZvcm1fZHJpdmVyKGp6ZmJfZHJp
dmVyKTsKLQotTU9EVUxFX0xJQ0VOU0UoIkdQTCIpOwotTU9EVUxFX0FVVEhPUigiTGFycy1QZXRl
ciBDbGF1c2VuIDxsYXJzQG1ldGFmb28uZGU+Iik7Ci1NT0RVTEVfREVTQ1JJUFRJT04oIkpaNDc0
MCBTb0MgTENEIGZyYW1lYnVmZmVyIGRyaXZlciIpOwotTU9EVUxFX0FMSUFTKCJwbGF0Zm9ybTpq
ejQ3NDAtZmIiKTsKLS0gCjIuMjEuMC41OTMuZzUxMWVjMzQ1ZTE4CgpfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRy
aS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5v
cmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
