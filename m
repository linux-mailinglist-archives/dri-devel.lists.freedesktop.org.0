Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 42B0B9C6C4
	for <lists+dri-devel@lfdr.de>; Mon, 26 Aug 2019 02:20:18 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0DDCB89A35;
	Mon, 26 Aug 2019 00:19:54 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from lb2-smtp-cloud7.xs4all.net (lb2-smtp-cloud7.xs4all.net
 [194.109.24.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 4CB9289CC9
 for <dri-devel@lists.freedesktop.org>; Fri, 23 Aug 2019 11:24:34 +0000 (UTC)
Received: from tschai.fritz.box ([46.9.232.237])
 by smtp-cloud7.xs4all.net with ESMTPA
 id 17gBikVExThuu17gGiolr1; Fri, 23 Aug 2019 13:24:32 +0200
From: Hans Verkuil <hverkuil-cisco@xs4all.nl>
To: linux-media@vger.kernel.org
Subject: [PATCH 3/3] drm/bridge/adv7511: enable CEC connector info
Date: Fri, 23 Aug 2019 13:24:27 +0200
Message-Id: <20190823112427.42394-4-hverkuil-cisco@xs4all.nl>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190823112427.42394-1-hverkuil-cisco@xs4all.nl>
References: <20190823112427.42394-1-hverkuil-cisco@xs4all.nl>
MIME-Version: 1.0
X-CMAE-Envelope: MS4wfGFE4NH+mS+hq0jRHj36UTNmU2gUS9qgz/Zv1ssR/aVMa28g+KX37hJzsioRxyHt8cEQkJqR3qQh1lNbVV9tOxb2Au9FsG2kPqdWTym8oD4X8g+dh8ts
 ln5rZ72YV6saavbgYlGUQvtHyTUJkflvXjT3BmHR65XXlIxXbPtedf3YN7sLBUEfuz8CC6FTUSevvNvexNhjQ15wxxBiw47W5QUeRMf7zD4VgezlydfMAOaF
 yXBp5bw2wHsjSAhYaSlGFr+MCR2UmmGb0bfxEp1M8DicDLB4gTN04uUC8t25zOhRJxuhbb527b3/IHvmI2qXjlCRCK3s5oIRV0pr9Lq8ZODN6HtuMyasXp9m
 n80GWpkI8Ou5lZcutrZitM9wRMuco2aH4eXXvN5AvGnJS4z3/QYQuuuZAhuRb/mwLpInhTwIHOkhvJFLIQwDC9t6bKjuFg==
X-Mailman-Approved-At: Mon, 26 Aug 2019 00:18:57 +0000
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Archit Taneja <architt@codeaurora.org>,
 Maxime Ripard <maxime.ripard@bootlin.com>,
 Maling list - DRI developers <dri-devel@lists.freedesktop.org>,
 Laurent Pinchart <laurent.pinchart@ideasonboard.com>,
 Hans Verkuil <hverkuil-cisco@xs4all.nl>,
 Dariusz Marcinkiewicz <darekm@google.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

U2V0IHRoZSBjb25uZWN0b3IgaW5mbyB0byBoZWxwIHVzZXJzcGFjZSBhc3NvY2lhdGUgdGhlIENF
QyBhZGFwdGVyCndpdGggdGhlIEhETUkgY29ubmVjdG9yLgoKVGhpcyByZXF1aXJlZCB0aGF0IHRo
ZSBjZWMgaW5pdGlhbGl6YXRpb24gYW5kIHVucmVnaXN0ZXJpbmcgdGhlCkNFQyBhZGFwdGVyIHRh
a2VzIHBsYWNlIGluIHRoZSBicmlkZ2UgYXR0YWNoIGFuZCBkZXRhY2ggb3BzLgoKVGVzdGVkIG9u
IGFuIFItQ2FyIEtvZWxzY2ggYm9hcmQuCgpTaWduZWQtb2ZmLWJ5OiBIYW5zIFZlcmt1aWwgPGh2
ZXJrdWlsLWNpc2NvQHhzNGFsbC5ubD4KVGVzdGVkLWJ5OiBIYW5zIFZlcmt1aWwgPGh2ZXJrdWls
LWNpc2NvQHhzNGFsbC5ubD4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2Fkdjc1MTEvYWR2
NzUxMV9jZWMuYyB8ICA3ICsrKysrKy0KIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYWR2NzUxMS9h
ZHY3NTExX2Rydi5jIHwgMjIgKysrKysrKysrKy0tLS0tLS0tLS0KIDIgZmlsZXMgY2hhbmdlZCwg
MTcgaW5zZXJ0aW9ucygrKSwgMTIgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2JyaWRnZS9hZHY3NTExL2Fkdjc1MTFfY2VjLmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJp
ZGdlL2Fkdjc1MTEvYWR2NzUxMV9jZWMuYwppbmRleCBhMjBhNDVjMGIzNTMuLmFjY2Y1ZTIzMjM5
NiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hZHY3NTExL2Fkdjc1MTFfY2Vj
LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hZHY3NTExL2Fkdjc1MTFfY2VjLmMKQEAg
LTMwMiw2ICszMDIsNyBAQCBzdGF0aWMgaW50IGFkdjc1MTFfY2VjX3BhcnNlX2R0KHN0cnVjdCBk
ZXZpY2UgKmRldiwgc3RydWN0IGFkdjc1MTEgKmFkdjc1MTEpCiAKIGludCBhZHY3NTExX2NlY19p
bml0KHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGFkdjc1MTEgKmFkdjc1MTEpCiB7CisJc3Ry
dWN0IGNlY19jb25uZWN0b3JfaW5mbyBjb25uX2luZm87CiAJdW5zaWduZWQgaW50IG9mZnNldCA9
IGFkdjc1MTEtPnR5cGUgPT0gQURWNzUzMyA/CiAJCQkJCQlBRFY3NTMzX1JFR19DRUNfT0ZGU0VU
IDogMDsKIAlpbnQgcmV0ID0gYWR2NzUxMV9jZWNfcGFyc2VfZHQoZGV2LCBhZHY3NTExKTsKQEAg
LTMxMCw3ICszMTEsOCBAQCBpbnQgYWR2NzUxMV9jZWNfaW5pdChzdHJ1Y3QgZGV2aWNlICpkZXYs
IHN0cnVjdCBhZHY3NTExICphZHY3NTExKQogCQlnb3RvIGVycl9jZWNfcGFyc2VfZHQ7CiAKIAlh
ZHY3NTExLT5jZWNfYWRhcCA9IGNlY19hbGxvY2F0ZV9hZGFwdGVyKCZhZHY3NTExX2NlY19hZGFw
X29wcywKLQkJYWR2NzUxMSwgZGV2X25hbWUoZGV2KSwgQ0VDX0NBUF9ERUZBVUxUUywgQURWNzUx
MV9NQVhfQUREUlMpOworCQlhZHY3NTExLCBkZXZfbmFtZShkZXYpLAorCQlDRUNfQ0FQX0RFRkFV
TFRTIHwgQ0VDX0NBUF9DT05ORUNUT1JfSU5GTywgQURWNzUxMV9NQVhfQUREUlMpOwogCWlmIChJ
U19FUlIoYWR2NzUxMS0+Y2VjX2FkYXApKSB7CiAJCXJldCA9IFBUUl9FUlIoYWR2NzUxMS0+Y2Vj
X2FkYXApOwogCQlnb3RvIGVycl9jZWNfYWxsb2M7CkBAIC0zMzEsNiArMzMzLDkgQEAgaW50IGFk
djc1MTFfY2VjX2luaXQoc3RydWN0IGRldmljZSAqZGV2LCBzdHJ1Y3QgYWR2NzUxMSAqYWR2NzUx
MSkKIAkJICAgICBBRFY3NTExX1JFR19DRUNfQ0xLX0RJViArIG9mZnNldCwKIAkJICAgICAoKGFk
djc1MTEtPmNlY19jbGtfZnJlcSAvIDc1MDAwMCkgLSAxKSA8PCAyKTsKIAorCWNlY19maWxsX2Nv
bm5faW5mb19mcm9tX2RybSgmY29ubl9pbmZvLCAmYWR2NzUxMS0+Y29ubmVjdG9yKTsKKwljZWNf
c19jb25uX2luZm8oYWR2NzUxMS0+Y2VjX2FkYXAsICZjb25uX2luZm8pOworCiAJcmV0ID0gY2Vj
X3JlZ2lzdGVyX2FkYXB0ZXIoYWR2NzUxMS0+Y2VjX2FkYXAsIGRldik7CiAJaWYgKHJldCkKIAkJ
Z290byBlcnJfY2VjX3JlZ2lzdGVyOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2JyaWRn
ZS9hZHY3NTExL2Fkdjc1MTFfZHJ2LmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2Fkdjc1MTEv
YWR2NzUxMV9kcnYuYwppbmRleCBmNmQyNjgxZjY5MjcuLmJiY2I5OTZjNGQ0ZiAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hZHY3NTExL2Fkdjc1MTFfZHJ2LmMKKysrIGIvZHJp
dmVycy9ncHUvZHJtL2JyaWRnZS9hZHY3NTExL2Fkdjc1MTFfZHJ2LmMKQEAgLTg4MSwxNCArODgx
LDI0IEBAIHN0YXRpYyBpbnQgYWR2NzUxMV9icmlkZ2VfYXR0YWNoKHN0cnVjdCBkcm1fYnJpZGdl
ICpicmlkZ2UpCiAJCXJlZ21hcF93cml0ZShhZHYtPnJlZ21hcCwgQURWNzUxMV9SRUdfSU5UX0VO
QUJMRSgwKSwKIAkJCSAgICAgQURWNzUxMV9JTlQwX0hQRCk7CiAKKwlpZiAoIXJldCkKKwkJcmV0
ID0gYWR2NzUxMV9jZWNfaW5pdCgmYWR2LT5pMmNfbWFpbi0+ZGV2LCBhZHYpOwogCXJldHVybiBy
ZXQ7CiB9CiAKK3N0YXRpYyB2b2lkIGFkdjc1MTFfYnJpZGdlX2RldGFjaChzdHJ1Y3QgZHJtX2Jy
aWRnZSAqYnJpZGdlKQoreworCXN0cnVjdCBhZHY3NTExICphZHYgPSBicmlkZ2VfdG9fYWR2NzUx
MShicmlkZ2UpOworCisJY2VjX3VucmVnaXN0ZXJfYWRhcHRlcihhZHYtPmNlY19hZGFwKTsKK30K
Kwogc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fYnJpZGdlX2Z1bmNzIGFkdjc1MTFfYnJpZGdlX2Z1
bmNzID0gewogCS5lbmFibGUgPSBhZHY3NTExX2JyaWRnZV9lbmFibGUsCiAJLmRpc2FibGUgPSBh
ZHY3NTExX2JyaWRnZV9kaXNhYmxlLAogCS5tb2RlX3NldCA9IGFkdjc1MTFfYnJpZGdlX21vZGVf
c2V0LAogCS5hdHRhY2ggPSBhZHY3NTExX2JyaWRnZV9hdHRhY2gsCisJLmRldGFjaCA9IGFkdjc1
MTFfYnJpZGdlX2RldGFjaCwKIH07CiAKIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCkBAIC0xMjAy
LDcgKzEyMTIsNyBAQCBzdGF0aWMgaW50IGFkdjc1MTFfcHJvYmUoc3RydWN0IGkyY19jbGllbnQg
KmkyYywgY29uc3Qgc3RydWN0IGkyY19kZXZpY2VfaWQgKmlkKQogCQkJCQkJSVJRRl9PTkVTSE9U
LCBkZXZfbmFtZShkZXYpLAogCQkJCQkJYWR2NzUxMSk7CiAJCWlmIChyZXQpCi0JCQlnb3RvIGVy
cl91bnJlZ2lzdGVyX2NlYzsKKwkJCWdvdG8gZXJyX2kyY191bnJlZ2lzdGVyX3BhY2tldDsKIAl9
CiAKIAlhZHY3NTExX3Bvd2VyX29mZihhZHY3NTExKTsKQEAgLTEyMTIsMTAgKzEyMjIsNiBAQCBz
dGF0aWMgaW50IGFkdjc1MTFfcHJvYmUoc3RydWN0IGkyY19jbGllbnQgKmkyYywgY29uc3Qgc3Ry
dWN0IGkyY19kZXZpY2VfaWQgKmlkKQogCWlmIChhZHY3NTExLT50eXBlID09IEFEVjc1MTEpCiAJ
CWFkdjc1MTFfc2V0X2xpbmtfY29uZmlnKGFkdjc1MTEsICZsaW5rX2NvbmZpZyk7CiAKLQlyZXQg
PSBhZHY3NTExX2NlY19pbml0KGRldiwgYWR2NzUxMSk7Ci0JaWYgKHJldCkKLQkJZ290byBlcnJf
dW5yZWdpc3Rlcl9jZWM7Ci0KIAlhZHY3NTExLT5icmlkZ2UuZnVuY3MgPSAmYWR2NzUxMV9icmlk
Z2VfZnVuY3M7CiAJYWR2NzUxMS0+YnJpZGdlLm9mX25vZGUgPSBkZXYtPm9mX25vZGU7CiAKQEAg
LTEyMjQsMTAgKzEyMzAsNiBAQCBzdGF0aWMgaW50IGFkdjc1MTFfcHJvYmUoc3RydWN0IGkyY19j
bGllbnQgKmkyYywgY29uc3Qgc3RydWN0IGkyY19kZXZpY2VfaWQgKmlkKQogCWFkdjc1MTFfYXVk
aW9faW5pdChkZXYsIGFkdjc1MTEpOwogCXJldHVybiAwOwogCi1lcnJfdW5yZWdpc3Rlcl9jZWM6
Ci0JaTJjX3VucmVnaXN0ZXJfZGV2aWNlKGFkdjc1MTEtPmkyY19jZWMpOwotCWlmIChhZHY3NTEx
LT5jZWNfY2xrKQotCQljbGtfZGlzYWJsZV91bnByZXBhcmUoYWR2NzUxMS0+Y2VjX2Nsayk7CiBl
cnJfaTJjX3VucmVnaXN0ZXJfcGFja2V0OgogCWkyY191bnJlZ2lzdGVyX2RldmljZShhZHY3NTEx
LT5pMmNfcGFja2V0KTsKIGVycl9pMmNfdW5yZWdpc3Rlcl9lZGlkOgpAQCAtMTI1NCw4ICsxMjU2
LDYgQEAgc3RhdGljIGludCBhZHY3NTExX3JlbW92ZShzdHJ1Y3QgaTJjX2NsaWVudCAqaTJjKQog
CiAJYWR2NzUxMV9hdWRpb19leGl0KGFkdjc1MTEpOwogCi0JY2VjX3VucmVnaXN0ZXJfYWRhcHRl
cihhZHY3NTExLT5jZWNfYWRhcCk7Ci0KIAlpMmNfdW5yZWdpc3Rlcl9kZXZpY2UoYWR2NzUxMS0+
aTJjX3BhY2tldCk7CiAJaTJjX3VucmVnaXN0ZXJfZGV2aWNlKGFkdjc1MTEtPmkyY19lZGlkKTsK
IAotLSAKMi4yMC4xCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2
ZWw=
