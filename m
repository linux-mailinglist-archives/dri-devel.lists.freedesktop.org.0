Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 80B7055F3A
	for <lists+dri-devel@lfdr.de>; Wed, 26 Jun 2019 04:54:26 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 47146891DB;
	Wed, 26 Jun 2019 02:54:24 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mailgw01.mediatek.com (unknown [1.203.163.78])
 by gabe.freedesktop.org (Postfix) with ESMTP id 59A2D891DB
 for <dri-devel@lists.freedesktop.org>; Wed, 26 Jun 2019 02:54:17 +0000 (UTC)
X-UUID: 777cd76cef9d49b0ba857c9d51e3bca5-20190626
X-UUID: 777cd76cef9d49b0ba857c9d51e3bca5-20190626
Received: from mtkcas34.mediatek.inc [(172.27.4.253)] by mailgw01.mediatek.com
 (envelope-from <jitao.shi@mediatek.com>)
 (mailgw01.mediatek.com ESMTP with TLS)
 with ESMTP id 1492454854; Wed, 26 Jun 2019 10:54:13 +0800
Received: from MTKCAS32.mediatek.inc (172.27.4.184) by MTKMBS33N1.mediatek.inc
 (172.27.4.75) with Microsoft SMTP Server (TLS) id 15.0.1395.4;
 Wed, 26 Jun 2019 10:54:12 +0800
Received: from mszsdclx1018.gcn.mediatek.inc (172.27.4.253) by
 MTKCAS32.mediatek.inc (172.27.4.170) with Microsoft SMTP Server id
 15.0.1395.4 via Frontend Transport; Wed, 26 Jun 2019 10:54:09 +0800
From: Jitao Shi <jitao.shi@mediatek.com>
To: Rob Herring <robh+dt@kernel.org>, Pawel Moll <pawel.moll@arm.com>, Mark
 Rutland <mark.rutland@arm.com>, Ian Campbell <ijc+devicetree@hellion.org.uk>, 
 <linux-pwm@vger.kernel.org>, David Airlie <airlied@linux.ie>, Matthias
 Brugger <matthias.bgg@gmail.com>
Subject: [v3 2/4] drm/panel: support for BOE tv101wum-nl6 wuxga dsi video mode
 panel
Date: Wed, 26 Jun 2019 10:53:58 +0800
Message-ID: <20190626025400.109567-3-jitao.shi@mediatek.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190626025400.109567-1-jitao.shi@mediatek.com>
References: <20190626025400.109567-1-jitao.shi@mediatek.com>
MIME-Version: 1.0
X-MTK: N
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: stonea168@163.com, dri-devel@lists.freedesktop.org,
 Andy Yan <andy.yan@rock-chips.com>, Ajay Kumar <ajaykumar.rs@samsung.com>,
 Vincent Palatin <vpalatin@chromium.org>, cawa.cheng@mediatek.com,
 Russell King <rmk+kernel@arm.linux.org.uk>,
 Thierry Reding <treding@nvidia.com>, devicetree@vger.kernel.org,
 Jitao Shi <jitao.shi@mediatek.com>, linux-mediatek@lists.infradead.org,
 yingjoe.chen@mediatek.com, eddie.huang@mediatek.com,
 linux-arm-kernel@lists.infradead.org, Rahul Sharma <rahul.sharma@samsung.com>,
 srv_heupstream@mediatek.com, linux-kernel@vger.kernel.org,
 Sascha Hauer <kernel@pengutronix.de>, Sean Paul <seanpaul@chromium.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QWRkIGRyaXZlciBmb3IgQk9FIHR2MTAxd3VtLW5sNiBwYW5lbCBpcyBhIDEwLjEiIDEyMDB4MTky
MCBwYW5lbC4KClNpZ25lZC1vZmYtYnk6IEppdGFvIFNoaSA8aml0YW8uc2hpQG1lZGlhdGVrLmNv
bT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvS2NvbmZpZyAgICAgICAgICAgICAgICAgfCAg
IDkgKwogZHJpdmVycy9ncHUvZHJtL3BhbmVsL01ha2VmaWxlICAgICAgICAgICAgICAgIHwgICAx
ICsKIC4uLi9ncHUvZHJtL3BhbmVsL3BhbmVsLWJvZS10djEwMXd1bS1ubDYuYyAgICB8IDcxNCAr
KysrKysrKysrKysrKysrKysKIDMgZmlsZXMgY2hhbmdlZCwgNzI0IGluc2VydGlvbnMoKykKIGNy
ZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtYm9lLXR2MTAxd3Vt
LW5sNi5jCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL0tjb25maWcgYi9kcml2
ZXJzL2dwdS9kcm0vcGFuZWwvS2NvbmZpZwppbmRleCBlMzZkYmI0ZGY4NjcuLjcwNmY2ZmYyYjRm
YSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL0tjb25maWcKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL3BhbmVsL0tjb25maWcKQEAgLTE3LDYgKzE3LDE1IEBAIGNvbmZpZyBEUk1fUEFO
RUxfQVJNX1ZFUlNBVElMRQogCSAgcmVmZXJlbmNlIGRlc2lnbnMuIFRoZSBwYW5lbCBpcyBkZXRl
Y3RlZCB1c2luZyBzcGVjaWFsIHJlZ2lzdGVycwogCSAgaW4gdGhlIFZlcnNhdGlsZSBmYW1pbHkg
c3lzY29uIHJlZ2lzdGVycy4KIAorY29uZmlnIERSTV9QQU5FTF9CT0VfVFYxMDFXVU1fTkw2CisJ
dHJpc3RhdGUgIkJPRSBUVjEwMVdVTSAxMjAweDE5MjAgcGFuZWwiCisJZGVwZW5kcyBvbiBPRgor
CWRlcGVuZHMgb24gRFJNX01JUElfRFNJCisJZGVwZW5kcyBvbiBCQUNLTElHSFRfQ0xBU1NfREVW
SUNFCisJaGVscAorCSAgU2F5IFkgaGVyZSBpZiB5b3Ugd2FudCB0byBzdXBwb3J0IGZvciBCT0Ug
VFYxMDFXVU0gV1VYR0EgUEFORUwKKwkgIERTSSBWaWRlbyBNb2RlIHBhbmVsCisKIGNvbmZpZyBE
Uk1fUEFORUxfTFZEUwogCXRyaXN0YXRlICJHZW5lcmljIExWRFMgcGFuZWwgZHJpdmVyIgogCWRl
cGVuZHMgb24gT0YKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9NYWtlZmlsZSBi
L2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9NYWtlZmlsZQppbmRleCA3OGUzZGMzNzZiZGQuLjhkMDA5
MjIzYzQ0ZSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL01ha2VmaWxlCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9NYWtlZmlsZQpAQCAtMSw1ICsxLDYgQEAKICMgU1BEWC1M
aWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAKIG9iai0kKENPTkZJR19EUk1fUEFORUxfQVJNX1ZF
UlNBVElMRSkgKz0gcGFuZWwtYXJtLXZlcnNhdGlsZS5vCitvYmotJChDT05GSUdfRFJNX1BBTkVM
X0JPRV9UVjEwMVdVTV9OTDYpICs9IHBhbmVsLWJvZS10djEwMXd1bS1ubDYubwogb2JqLSQoQ09O
RklHX0RSTV9QQU5FTF9MVkRTKSArPSBwYW5lbC1sdmRzLm8KIG9iai0kKENPTkZJR19EUk1fUEFO
RUxfU0lNUExFKSArPSBwYW5lbC1zaW1wbGUubwogb2JqLSQoQ09ORklHX0RSTV9QQU5FTF9GRUlZ
QU5HX0ZZMDcwMjRESTI2QTMwRCkgKz0gcGFuZWwtZmVpeWFuZy1meTA3MDI0ZGkyNmEzMGQubwpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWJvZS10djEwMXd1bS1ubDYu
YyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1ib2UtdHYxMDF3dW0tbmw2LmMKbmV3IGZp
bGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAwLi4zMGQxZjUzZGNiYWYKLS0tIC9kZXYv
bnVsbAorKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtYm9lLXR2MTAxd3VtLW5sNi5j
CkBAIC0wLDAgKzEsNzE0IEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMAor
LyoKKyAqIENvcHlyaWdodCAoYykgMjAxOCBNZWRpYVRlayBJbmMuCisgKiBBdXRob3I6IEppdGFv
IFNoaSA8aml0YW8uc2hpQG1lZGlhdGVrLmNvbT4KKyAqLworCisjaW5jbHVkZSA8bGludXgvYmFj
a2xpZ2h0Lmg+CisjaW5jbHVkZSA8bGludXgvZGVsYXkuaD4KKyNpbmNsdWRlIDxsaW51eC9ncGlv
L2NvbnN1bWVyLmg+CisjaW5jbHVkZSA8bGludXgvbW9kdWxlLmg+CisjaW5jbHVkZSA8bGludXgv
b2YuaD4KKyNpbmNsdWRlIDxsaW51eC9vZl9kZXZpY2UuaD4KKyNpbmNsdWRlIDxsaW51eC9yZWd1
bGF0b3IvY29uc3VtZXIuaD4KKworI2luY2x1ZGUgPGRybS9kcm1fY3J0Yy5oPgorI2luY2x1ZGUg
PGRybS9kcm1fbWlwaV9kc2kuaD4KKyNpbmNsdWRlIDxkcm0vZHJtX3BhbmVsLmg+CisKKyNpbmNs
dWRlIDx2aWRlby9taXBpX2Rpc3BsYXkuaD4KKworc3RydWN0IHBhbmVsX2Rlc2MgeworCWNvbnN0
IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlczsKKwl1bnNpZ25lZCBpbnQgYnBjOworCisJ
LyoqCisJICogQHdpZHRoOiB3aWR0aCAoaW4gbWlsbGltZXRlcnMpIG9mIHRoZSBwYW5lbCdzIGFj
dGl2ZSBkaXNwbGF5IGFyZWEKKwkgKiBAaGVpZ2h0OiBoZWlnaHQgKGluIG1pbGxpbWV0ZXJzKSBv
ZiB0aGUgcGFuZWwncyBhY3RpdmUgZGlzcGxheSBhcmVhCisJICovCisJc3RydWN0IHsKKwkJdW5z
aWduZWQgaW50IHdpZHRoOworCQl1bnNpZ25lZCBpbnQgaGVpZ2h0OworCX0gc2l6ZTsKKworCXVu
c2lnbmVkIGxvbmcgbW9kZV9mbGFnczsKKwllbnVtIG1pcGlfZHNpX3BpeGVsX2Zvcm1hdCBmb3Jt
YXQ7CisJY29uc3Qgc3RydWN0IHBhbmVsX2luaXRfY21kICppbml0X2NtZHM7CisJdW5zaWduZWQg
aW50IGxhbmVzOworfTsKKworc3RydWN0IGJvZV9wYW5lbCB7CisJc3RydWN0IGRybV9wYW5lbCBi
YXNlOworCXN0cnVjdCBtaXBpX2RzaV9kZXZpY2UgKmRzaTsKKworCWNvbnN0IHN0cnVjdCBwYW5l
bF9kZXNjICpkZXNjOworCisJc3RydWN0IGJhY2tsaWdodF9kZXZpY2UgKmJhY2tsaWdodDsKKwlz
dHJ1Y3QgcmVndWxhdG9yICpwcDE4MDA7CisJc3RydWN0IHJlZ3VsYXRvciAqYXZlZTsKKwlzdHJ1
Y3QgcmVndWxhdG9yICphdmRkOworCXN0cnVjdCBncGlvX2Rlc2MgKmVuYWJsZV9ncGlvOworCisJ
Ym9vbCBwcmVwYXJlZDsKKwlib29sIGVuYWJsZWQ7CisKKwljb25zdCBzdHJ1Y3QgZHJtX2Rpc3Bs
YXlfbW9kZSAqbW9kZTsKK307CisKK2VudW0gZHNpX2NtZF90eXBlIHsKKwlJTklUX0RDU19DTUQs
CisJREVMQVlfQ01ELAorfTsKKworc3RydWN0IHBhbmVsX2luaXRfY21kIHsKKwllbnVtIGRzaV9j
bWRfdHlwZSB0eXBlOworCXNpemVfdCBsZW47CisJY29uc3QgY2hhciAqZGF0YTsKK307CisKKyNk
ZWZpbmUgX0lOSVRfRENTX0NNRCguLi4pIHsgXAorCS50eXBlID0gSU5JVF9EQ1NfQ01ELCBcCisJ
LmxlbiA9IHNpemVvZigoY2hhcltdKXtfX1ZBX0FSR1NfX30pLCBcCisJLmRhdGEgPSAoY2hhcltd
KXtfX1ZBX0FSR1NfX30gfQorCisjZGVmaW5lIF9JTklUX0RFTEFZX0NNRCguLi4pIHsgXAorCS50
eXBlID0gREVMQVlfQ01ELFwKKwkubGVuID0gc2l6ZW9mKChjaGFyW10pe19fVkFfQVJHU19ffSks
IFwKKwkuZGF0YSA9IChjaGFyW10pe19fVkFfQVJHU19ffSB9CisKK3N0YXRpYyBjb25zdCBzdHJ1
Y3QgcGFuZWxfaW5pdF9jbWQgYm9lX2luaXRfY21kW10gPSB7CisJX0lOSVRfREVMQVlfQ01EKDI0
KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjAsIDB4MDUpLAorCV9JTklUX0RDU19DTUQoMHhCMSwgMHhF
NSksCisJX0lOSVRfRENTX0NNRCgweEIzLCAweDUyKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjAsIDB4
MDApLAorCV9JTklUX0RDU19DTUQoMHhCMywgMHg4OCksCisJX0lOSVRfRENTX0NNRCgweEIwLCAw
eDA0KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjgsIDB4MDApLAorCV9JTklUX0RDU19DTUQoMHhCMCwg
MHgwMCksCisJX0lOSVRfRENTX0NNRCgweEI2LCAweDAzKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QkEs
IDB4OEIpLAorCV9JTklUX0RDU19DTUQoMHhCRiwgMHgxQSksCisJX0lOSVRfRENTX0NNRCgweEMw
LCAweDBGKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzIsIDB4MEMpLAorCV9JTklUX0RDU19DTUQoMHhD
MywgMHgwMiksCisJX0lOSVRfRENTX0NNRCgweEM0LCAweDBDKSwKKwlfSU5JVF9EQ1NfQ01EKDB4
QzUsIDB4MDIpLAorCV9JTklUX0RDU19DTUQoMHhCMCwgMHgwMSksCisJX0lOSVRfRENTX0NNRCgw
eEUwLCAweDI2KSwKKwlfSU5JVF9EQ1NfQ01EKDB4RTEsIDB4MjYpLAorCV9JTklUX0RDU19DTUQo
MHhEQywgMHgwMCksCisJX0lOSVRfRENTX0NNRCgweERELCAweDAwKSwKKwlfSU5JVF9EQ1NfQ01E
KDB4Q0MsIDB4MjYpLAorCV9JTklUX0RDU19DTUQoMHhDRCwgMHgyNiksCisJX0lOSVRfRENTX0NN
RCgweEM4LCAweDAwKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzksIDB4MDApLAorCV9JTklUX0RDU19D
TUQoMHhEMiwgMHgwMyksCisJX0lOSVRfRENTX0NNRCgweEQzLCAweDAzKSwKKwlfSU5JVF9EQ1Nf
Q01EKDB4RTYsIDB4MDQpLAorCV9JTklUX0RDU19DTUQoMHhFNywgMHgwNCksCisJX0lOSVRfRENT
X0NNRCgweEM0LCAweDA5KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzUsIDB4MDkpLAorCV9JTklUX0RD
U19DTUQoMHhEOCwgMHgwQSksCisJX0lOSVRfRENTX0NNRCgweEQ5LCAweDBBKSwKKwlfSU5JVF9E
Q1NfQ01EKDB4QzIsIDB4MEIpLAorCV9JTklUX0RDU19DTUQoMHhDMywgMHgwQiksCisJX0lOSVRf
RENTX0NNRCgweEQ2LCAweDBDKSwKKwlfSU5JVF9EQ1NfQ01EKDB4RDcsIDB4MEMpLAorCV9JTklU
X0RDU19DTUQoMHhDMCwgMHgwNSksCisJX0lOSVRfRENTX0NNRCgweEMxLCAweDA1KSwKKwlfSU5J
VF9EQ1NfQ01EKDB4RDQsIDB4MDYpLAorCV9JTklUX0RDU19DTUQoMHhENSwgMHgwNiksCisJX0lO
SVRfRENTX0NNRCgweENBLCAweDA3KSwKKwlfSU5JVF9EQ1NfQ01EKDB4Q0IsIDB4MDcpLAorCV9J
TklUX0RDU19DTUQoMHhERSwgMHgwOCksCisJX0lOSVRfRENTX0NNRCgweERGLCAweDA4KSwKKwlf
SU5JVF9EQ1NfQ01EKDB4QjAsIDB4MDIpLAorCV9JTklUX0RDU19DTUQoMHhDMCwgMHgwMCksCisJ
X0lOSVRfRENTX0NNRCgweEMxLCAweDBEKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzIsIDB4MTcpLAor
CV9JTklUX0RDU19DTUQoMHhDMywgMHgyNiksCisJX0lOSVRfRENTX0NNRCgweEM0LCAweDMxKSwK
KwlfSU5JVF9EQ1NfQ01EKDB4QzUsIDB4MUMpLAorCV9JTklUX0RDU19DTUQoMHhDNiwgMHgyQyks
CisJX0lOSVRfRENTX0NNRCgweEM3LCAweDMzKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzgsIDB4MzEp
LAorCV9JTklUX0RDU19DTUQoMHhDOSwgMHgzNyksCisJX0lOSVRfRENTX0NNRCgweENBLCAweDM3
KSwKKwlfSU5JVF9EQ1NfQ01EKDB4Q0IsIDB4MzcpLAorCV9JTklUX0RDU19DTUQoMHhDQywgMHgz
OSksCisJX0lOSVRfRENTX0NNRCgweENELCAweDJFKSwKKwlfSU5JVF9EQ1NfQ01EKDB4Q0UsIDB4
MkYpLAorCV9JTklUX0RDU19DTUQoMHhDRiwgMHgyRiksCisJX0lOSVRfRENTX0NNRCgweEQwLCAw
eDA3KSwKKwlfSU5JVF9EQ1NfQ01EKDB4RDIsIDB4MDApLAorCV9JTklUX0RDU19DTUQoMHhEMywg
MHgwRCksCisJX0lOSVRfRENTX0NNRCgweEQ0LCAweDE3KSwKKwlfSU5JVF9EQ1NfQ01EKDB4RDUs
IDB4MjYpLAorCV9JTklUX0RDU19DTUQoMHhENiwgMHgzMSksCisJX0lOSVRfRENTX0NNRCgweEQ3
LCAweDNGKSwKKwlfSU5JVF9EQ1NfQ01EKDB4RDgsIDB4M0YpLAorCV9JTklUX0RDU19DTUQoMHhE
OSwgMHgzRiksCisJX0lOSVRfRENTX0NNRCgweERBLCAweDNGKSwKKwlfSU5JVF9EQ1NfQ01EKDB4
REIsIDB4MzcpLAorCV9JTklUX0RDU19DTUQoMHhEQywgMHgzNyksCisJX0lOSVRfRENTX0NNRCgw
eERELCAweDM3KSwKKwlfSU5JVF9EQ1NfQ01EKDB4REUsIDB4MzkpLAorCV9JTklUX0RDU19DTUQo
MHhERiwgMHgyRSksCisJX0lOSVRfRENTX0NNRCgweEUwLCAweDJGKSwKKwlfSU5JVF9EQ1NfQ01E
KDB4RTEsIDB4MkYpLAorCV9JTklUX0RDU19DTUQoMHhFMiwgMHgwNyksCisJX0lOSVRfRENTX0NN
RCgweEIwLCAweDAzKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzgsIDB4MEIpLAorCV9JTklUX0RDU19D
TUQoMHhDOSwgMHgwNyksCisJX0lOSVRfRENTX0NNRCgweEMzLCAweDAwKSwKKwlfSU5JVF9EQ1Nf
Q01EKDB4RTcsIDB4MDApLAorCV9JTklUX0RDU19DTUQoMHhDNSwgMHgyQSksCisJX0lOSVRfRENT
X0NNRCgweERFLCAweDJBKSwKKwlfSU5JVF9EQ1NfQ01EKDB4Q0EsIDB4NDMpLAorCV9JTklUX0RD
U19DTUQoMHhDOSwgMHgwNyksCisJX0lOSVRfRENTX0NNRCgweEU0LCAweEMwKSwKKwlfSU5JVF9E
Q1NfQ01EKDB4RTUsIDB4MEQpLAorCV9JTklUX0RDU19DTUQoMHhDQiwgMHgwMCksCisJX0lOSVRf
RENTX0NNRCgweEIwLCAweDA2KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjgsIDB4QTUpLAorCV9JTklU
X0RDU19DTUQoMHhDMCwgMHhBNSksCisJX0lOSVRfRENTX0NNRCgweEM3LCAweDBGKSwKKwlfSU5J
VF9EQ1NfQ01EKDB4RDUsIDB4MzIpLAorCV9JTklUX0RDU19DTUQoMHhCOCwgMHgwMCksCisJX0lO
SVRfRENTX0NNRCgweEMwLCAweDAwKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QkMsIDB4MDApLAorCV9J
TklUX0RDU19DTUQoMHhCMCwgMHgwNyksCisJX0lOSVRfRENTX0NNRCgweEIxLCAweDAwKSwKKwlf
SU5JVF9EQ1NfQ01EKDB4QjIsIDB4MDIpLAorCV9JTklUX0RDU19DTUQoMHhCMywgMHgwRiksCisJ
X0lOSVRfRENTX0NNRCgweEI0LCAweDI1KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjUsIDB4MzkpLAor
CV9JTklUX0RDU19DTUQoMHhCNiwgMHg0RSksCisJX0lOSVRfRENTX0NNRCgweEI3LCAweDcyKSwK
KwlfSU5JVF9EQ1NfQ01EKDB4QjgsIDB4OTcpLAorCV9JTklUX0RDU19DTUQoMHhCOSwgMHhEQyks
CisJX0lOSVRfRENTX0NNRCgweEJBLCAweDIyKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QkIsIDB4QTQp
LAorCV9JTklUX0RDU19DTUQoMHhCQywgMHgyQiksCisJX0lOSVRfRENTX0NNRCgweEJELCAweDJG
KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QkUsIDB4QTkpLAorCV9JTklUX0RDU19DTUQoMHhCRiwgMHgy
NSksCisJX0lOSVRfRENTX0NNRCgweEMwLCAweDYxKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzEsIDB4
OTcpLAorCV9JTklUX0RDU19DTUQoMHhDMiwgMHhCMiksCisJX0lOSVRfRENTX0NNRCgweEMzLCAw
eENEKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzQsIDB4RDkpLAorCV9JTklUX0RDU19DTUQoMHhDNSwg
MHhFNyksCisJX0lOSVRfRENTX0NNRCgweEM2LCAweEY0KSwKKwlfSU5JVF9EQ1NfQ01EKDB4Qzcs
IDB4RkEpLAorCV9JTklUX0RDU19DTUQoMHhDOCwgMHhGQyksCisJX0lOSVRfRENTX0NNRCgweEM5
LCAweDAwKSwKKwlfSU5JVF9EQ1NfQ01EKDB4Q0EsIDB4MDApLAorCV9JTklUX0RDU19DTUQoMHhD
QiwgMHgxNiksCisJX0lOSVRfRENTX0NNRCgweENDLCAweEFGKSwKKwlfSU5JVF9EQ1NfQ01EKDB4
Q0QsIDB4RkYpLAorCV9JTklUX0RDU19DTUQoMHhDRSwgMHhGRiksCisJX0lOSVRfRENTX0NNRCgw
eEIwLCAweDA4KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjEsIDB4MDQpLAorCV9JTklUX0RDU19DTUQo
MHhCMiwgMHgwNSksCisJX0lOSVRfRENTX0NNRCgweEIzLCAweDExKSwKKwlfSU5JVF9EQ1NfQ01E
KDB4QjQsIDB4MjQpLAorCV9JTklUX0RDU19DTUQoMHhCNSwgMHgzOSksCisJX0lOSVRfRENTX0NN
RCgweEI2LCAweDRGKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjcsIDB4NzIpLAorCV9JTklUX0RDU19D
TUQoMHhCOCwgMHg5OCksCisJX0lOSVRfRENTX0NNRCgweEI5LCAweERDKSwKKwlfSU5JVF9EQ1Nf
Q01EKDB4QkEsIDB4MjMpLAorCV9JTklUX0RDU19DTUQoMHhCQiwgMHhBNiksCisJX0lOSVRfRENT
X0NNRCgweEJDLCAweDJDKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QkQsIDB4MzApLAorCV9JTklUX0RD
U19DTUQoMHhCRSwgMHhBQSksCisJX0lOSVRfRENTX0NNRCgweEJGLCAweDI2KSwKKwlfSU5JVF9E
Q1NfQ01EKDB4QzAsIDB4NjIpLAorCV9JTklUX0RDU19DTUQoMHhDMSwgMHg5QiksCisJX0lOSVRf
RENTX0NNRCgweEMyLCAweEI1KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzMsIDB4Q0YpLAorCV9JTklU
X0RDU19DTUQoMHhDNCwgMHhEQiksCisJX0lOSVRfRENTX0NNRCgweEM1LCAweEU4KSwKKwlfSU5J
VF9EQ1NfQ01EKDB4QzYsIDB4RjUpLAorCV9JTklUX0RDU19DTUQoMHhDNywgMHhGQSksCisJX0lO
SVRfRENTX0NNRCgweEM4LCAweEZDKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzksIDB4MDApLAorCV9J
TklUX0RDU19DTUQoMHhDQSwgMHgwMCksCisJX0lOSVRfRENTX0NNRCgweENCLCAweDE2KSwKKwlf
SU5JVF9EQ1NfQ01EKDB4Q0MsIDB4QUYpLAorCV9JTklUX0RDU19DTUQoMHhDRCwgMHhGRiksCisJ
X0lOSVRfRENTX0NNRCgweENFLCAweEZGKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjAsIDB4MDkpLAor
CV9JTklUX0RDU19DTUQoMHhCMSwgMHgwNCksCisJX0lOSVRfRENTX0NNRCgweEIyLCAweDAyKSwK
KwlfSU5JVF9EQ1NfQ01EKDB4QjMsIDB4MTYpLAorCV9JTklUX0RDU19DTUQoMHhCNCwgMHgyNCks
CisJX0lOSVRfRENTX0NNRCgweEI1LCAweDNCKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjYsIDB4NEYp
LAorCV9JTklUX0RDU19DTUQoMHhCNywgMHg3MyksCisJX0lOSVRfRENTX0NNRCgweEI4LCAweDk5
KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjksIDB4RTApLAorCV9JTklUX0RDU19DTUQoMHhCQSwgMHgy
NiksCisJX0lOSVRfRENTX0NNRCgweEJCLCAweEFEKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QkMsIDB4
MzYpLAorCV9JTklUX0RDU19DTUQoMHhCRCwgMHgzQSksCisJX0lOSVRfRENTX0NNRCgweEJFLCAw
eEFFKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QkYsIDB4MkEpLAorCV9JTklUX0RDU19DTUQoMHhDMCwg
MHg2NiksCisJX0lOSVRfRENTX0NNRCgweEMxLCAweDlFKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzIs
IDB4QjgpLAorCV9JTklUX0RDU19DTUQoMHhDMywgMHhEMSksCisJX0lOSVRfRENTX0NNRCgweEM0
LCAweEREKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzUsIDB4RTkpLAorCV9JTklUX0RDU19DTUQoMHhD
NiwgMHhGNiksCisJX0lOSVRfRENTX0NNRCgweEM3LCAweEZBKSwKKwlfSU5JVF9EQ1NfQ01EKDB4
QzgsIDB4RkMpLAorCV9JTklUX0RDU19DTUQoMHhDOSwgMHgwMCksCisJX0lOSVRfRENTX0NNRCgw
eENBLCAweDAwKSwKKwlfSU5JVF9EQ1NfQ01EKDB4Q0IsIDB4MTYpLAorCV9JTklUX0RDU19DTUQo
MHhDQywgMHhBRiksCisJX0lOSVRfRENTX0NNRCgweENELCAweEZGKSwKKwlfSU5JVF9EQ1NfQ01E
KDB4Q0UsIDB4RkYpLAorCV9JTklUX0RDU19DTUQoMHhCMCwgMHgwQSksCisJX0lOSVRfRENTX0NN
RCgweEIxLCAweDAwKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjIsIDB4MDIpLAorCV9JTklUX0RDU19D
TUQoMHhCMywgMHgwRiksCisJX0lOSVRfRENTX0NNRCgweEI0LCAweDI1KSwKKwlfSU5JVF9EQ1Nf
Q01EKDB4QjUsIDB4MzkpLAorCV9JTklUX0RDU19DTUQoMHhCNiwgMHg0RSksCisJX0lOSVRfRENT
X0NNRCgweEI3LCAweDcyKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjgsIDB4OTcpLAorCV9JTklUX0RD
U19DTUQoMHhCOSwgMHhEQyksCisJX0lOSVRfRENTX0NNRCgweEJBLCAweDIyKSwKKwlfSU5JVF9E
Q1NfQ01EKDB4QkIsIDB4QTQpLAorCV9JTklUX0RDU19DTUQoMHhCQywgMHgyQiksCisJX0lOSVRf
RENTX0NNRCgweEJELCAweDJGKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QkUsIDB4QTkpLAorCV9JTklU
X0RDU19DTUQoMHhCRiwgMHgyNSksCisJX0lOSVRfRENTX0NNRCgweEMwLCAweDYxKSwKKwlfSU5J
VF9EQ1NfQ01EKDB4QzEsIDB4OTcpLAorCV9JTklUX0RDU19DTUQoMHhDMiwgMHhCMiksCisJX0lO
SVRfRENTX0NNRCgweEMzLCAweENEKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzQsIDB4RDkpLAorCV9J
TklUX0RDU19DTUQoMHhDNSwgMHhFNyksCisJX0lOSVRfRENTX0NNRCgweEM2LCAweEY0KSwKKwlf
SU5JVF9EQ1NfQ01EKDB4QzcsIDB4RkEpLAorCV9JTklUX0RDU19DTUQoMHhDOCwgMHhGQyksCisJ
X0lOSVRfRENTX0NNRCgweEM5LCAweDAwKSwKKwlfSU5JVF9EQ1NfQ01EKDB4Q0EsIDB4MDApLAor
CV9JTklUX0RDU19DTUQoMHhDQiwgMHgxNiksCisJX0lOSVRfRENTX0NNRCgweENDLCAweEFGKSwK
KwlfSU5JVF9EQ1NfQ01EKDB4Q0QsIDB4RkYpLAorCV9JTklUX0RDU19DTUQoMHhDRSwgMHhGRiks
CisJX0lOSVRfRENTX0NNRCgweEIwLCAweDBCKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjEsIDB4MDQp
LAorCV9JTklUX0RDU19DTUQoMHhCMiwgMHgwNSksCisJX0lOSVRfRENTX0NNRCgweEIzLCAweDEx
KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjQsIDB4MjQpLAorCV9JTklUX0RDU19DTUQoMHhCNSwgMHgz
OSksCisJX0lOSVRfRENTX0NNRCgweEI2LCAweDRGKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjcsIDB4
NzIpLAorCV9JTklUX0RDU19DTUQoMHhCOCwgMHg5OCksCisJX0lOSVRfRENTX0NNRCgweEI5LCAw
eERDKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QkEsIDB4MjMpLAorCV9JTklUX0RDU19DTUQoMHhCQiwg
MHhBNiksCisJX0lOSVRfRENTX0NNRCgweEJDLCAweDJDKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QkQs
IDB4MzApLAorCV9JTklUX0RDU19DTUQoMHhCRSwgMHhBQSksCisJX0lOSVRfRENTX0NNRCgweEJG
LCAweDI2KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzAsIDB4NjIpLAorCV9JTklUX0RDU19DTUQoMHhD
MSwgMHg5QiksCisJX0lOSVRfRENTX0NNRCgweEMyLCAweEI1KSwKKwlfSU5JVF9EQ1NfQ01EKDB4
QzMsIDB4Q0YpLAorCV9JTklUX0RDU19DTUQoMHhDNCwgMHhEQiksCisJX0lOSVRfRENTX0NNRCgw
eEM1LCAweEU4KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzYsIDB4RjUpLAorCV9JTklUX0RDU19DTUQo
MHhDNywgMHhGQSksCisJX0lOSVRfRENTX0NNRCgweEM4LCAweEZDKSwKKwlfSU5JVF9EQ1NfQ01E
KDB4QzksIDB4MDApLAorCV9JTklUX0RDU19DTUQoMHhDQSwgMHgwMCksCisJX0lOSVRfRENTX0NN
RCgweENCLCAweDE2KSwKKwlfSU5JVF9EQ1NfQ01EKDB4Q0MsIDB4QUYpLAorCV9JTklUX0RDU19D
TUQoMHhDRCwgMHhGRiksCisJX0lOSVRfRENTX0NNRCgweENFLCAweEZGKSwKKwlfSU5JVF9EQ1Nf
Q01EKDB4QjAsIDB4MEMpLAorCV9JTklUX0RDU19DTUQoMHhCMSwgMHgwNCksCisJX0lOSVRfRENT
X0NNRCgweEIyLCAweDAyKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjMsIDB4MTYpLAorCV9JTklUX0RD
U19DTUQoMHhCNCwgMHgyNCksCisJX0lOSVRfRENTX0NNRCgweEI1LCAweDNCKSwKKwlfSU5JVF9E
Q1NfQ01EKDB4QjYsIDB4NEYpLAorCV9JTklUX0RDU19DTUQoMHhCNywgMHg3MyksCisJX0lOSVRf
RENTX0NNRCgweEI4LCAweDk5KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjksIDB4RTApLAorCV9JTklU
X0RDU19DTUQoMHhCQSwgMHgyNiksCisJX0lOSVRfRENTX0NNRCgweEJCLCAweEFEKSwKKwlfSU5J
VF9EQ1NfQ01EKDB4QkMsIDB4MzYpLAorCV9JTklUX0RDU19DTUQoMHhCRCwgMHgzQSksCisJX0lO
SVRfRENTX0NNRCgweEJFLCAweEFFKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QkYsIDB4MkEpLAorCV9J
TklUX0RDU19DTUQoMHhDMCwgMHg2NiksCisJX0lOSVRfRENTX0NNRCgweEMxLCAweDlFKSwKKwlf
SU5JVF9EQ1NfQ01EKDB4QzIsIDB4QjgpLAorCV9JTklUX0RDU19DTUQoMHhDMywgMHhEMSksCisJ
X0lOSVRfRENTX0NNRCgweEM0LCAweEREKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzUsIDB4RTkpLAor
CV9JTklUX0RDU19DTUQoMHhDNiwgMHhGNiksCisJX0lOSVRfRENTX0NNRCgweEM3LCAweEZBKSwK
KwlfSU5JVF9EQ1NfQ01EKDB4QzgsIDB4RkMpLAorCV9JTklUX0RDU19DTUQoMHhDOSwgMHgwMCks
CisJX0lOSVRfRENTX0NNRCgweENBLCAweDAwKSwKKwlfSU5JVF9EQ1NfQ01EKDB4Q0IsIDB4MTYp
LAorCV9JTklUX0RDU19DTUQoMHhDQywgMHhBRiksCisJX0lOSVRfRENTX0NNRCgweENELCAweEZG
KSwKKwlfSU5JVF9EQ1NfQ01EKDB4Q0UsIDB4RkYpLAorCV9JTklUX0RDU19DTUQoMHhCMCwgMHgw
MCksCisJX0lOSVRfRENTX0NNRCgweEIzLCAweDA4KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjAsIDB4
MDQpLAorCV9JTklUX0RDU19DTUQoMHhCOCwgMHg2OCksCisJX0lOSVRfREVMQVlfQ01EKDE1MCks
CisJe30sCit9OworCitzdGF0aWMgaW5saW5lIHN0cnVjdCBib2VfcGFuZWwgKnRvX2JvZV9wYW5l
bChzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKK3sKKwlyZXR1cm4gY29udGFpbmVyX29mKHBhbmVs
LCBzdHJ1Y3QgYm9lX3BhbmVsLCBiYXNlKTsKK30KKworc3RhdGljIGludCBib2VfcGFuZWxfaW5p
dChzdHJ1Y3QgYm9lX3BhbmVsICpib2UpCit7CisJc3RydWN0IG1pcGlfZHNpX2RldmljZSAqZHNp
ID0gYm9lLT5kc2k7CisJc3RydWN0IGRybV9wYW5lbCAqcGFuZWwgPSAmYm9lLT5iYXNlOworCWlu
dCBlcnIsIGk7CisKKwlpZiAoYm9lLT5kZXNjLT5pbml0X2NtZHMpIHsKKwkJY29uc3Qgc3RydWN0
IHBhbmVsX2luaXRfY21kICppbml0X2NtZHMgPSBib2UtPmRlc2MtPmluaXRfY21kczsKKworCQlm
b3IgKGkgPSAwOyBpbml0X2NtZHNbaV0ubGVuICE9IDA7IGkrKykgeworCQkJY29uc3Qgc3RydWN0
IHBhbmVsX2luaXRfY21kICpjbWQgPSAmaW5pdF9jbWRzW2ldOworCisJCQlzd2l0Y2ggKGNtZC0+
dHlwZSkgeworCQkJY2FzZSBERUxBWV9DTUQ6CisJCQkJbXNsZWVwKGNtZC0+ZGF0YVswXSk7CisJ
CQkJZXJyID0gMDsKKwkJCQlicmVhazsKKworCQkJY2FzZSBJTklUX0RDU19DTUQ6CisJCQkJZXJy
ID0gbWlwaV9kc2lfZGNzX3dyaXRlKGRzaSwgY21kLT5kYXRhWzBdLAorCQkJCQkJCSBjbWQtPmxl
biA8PSAxID8gTlVMTCA6CisJCQkJCQkJICZjbWQtPmRhdGFbMV0sCisJCQkJCQkJIGNtZC0+bGVu
IC0gMSk7CisJCQkJYnJlYWs7CisJCQl9CisKKwkJCWlmIChlcnIgPCAwKSB7CisJCQkJZGV2X2Vy
cihwYW5lbC0+ZGV2LAorCQkJCQkiZmFpbGVkIHRvIHdyaXRlIGNvbW1hbmQgJXVcbiIsIGkpOwor
CQkJCXJldHVybiBlcnI7CisJCQl9CisJCX0KKwl9CisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyBp
bnQgYm9lX3BhbmVsX29mZihzdHJ1Y3QgYm9lX3BhbmVsICpib2UpCit7CisJc3RydWN0IG1pcGlf
ZHNpX2RldmljZSAqZHNpID0gYm9lLT5kc2k7CisJaW50IHJldDsKKworCWRzaS0+bW9kZV9mbGFn
cyAmPSB+TUlQSV9EU0lfTU9ERV9MUE07CisKKwlyZXQgPSBtaXBpX2RzaV9kY3NfZW50ZXJfc2xl
ZXBfbW9kZShkc2kpOworCWlmIChyZXQgPCAwKQorCQlyZXR1cm4gcmV0OworCisJcmV0dXJuIDA7
Cit9CisKK3N0YXRpYyBpbnQgYm9lX3BhbmVsX2Rpc2FibGUoc3RydWN0IGRybV9wYW5lbCAqcGFu
ZWwpCit7CisJc3RydWN0IGJvZV9wYW5lbCAqYm9lID0gdG9fYm9lX3BhbmVsKHBhbmVsKTsKKwor
CWlmICghYm9lLT5lbmFibGVkKQorCQlyZXR1cm4gMDsKKworCWJhY2tsaWdodF9kaXNhYmxlKGJv
ZS0+YmFja2xpZ2h0KTsKKworCWJvZS0+ZW5hYmxlZCA9IGZhbHNlOworCisJcmV0dXJuIDA7Cit9
CisKK3N0YXRpYyBpbnQgYm9lX3BhbmVsX3VucHJlcGFyZShzdHJ1Y3QgZHJtX3BhbmVsICpwYW5l
bCkKK3sKKwlzdHJ1Y3QgYm9lX3BhbmVsICpib2UgPSB0b19ib2VfcGFuZWwocGFuZWwpOworCWlu
dCByZXQ7CisKKwlpZiAoIWJvZS0+cHJlcGFyZWQpCisJCXJldHVybiAwOworCisJcmV0ID0gYm9l
X3BhbmVsX29mZihib2UpOworCWlmIChyZXQgPCAwKSB7CisJCWRldl9lcnIocGFuZWwtPmRldiwg
ImZhaWxlZCB0byBzZXQgcGFuZWwgb2ZmOiAlZFxuIiwgcmV0KTsKKwkJcmV0dXJuIHJldDsKKwl9
CisKKwltc2xlZXAoMTUwKTsKKwlpZiAoYm9lLT5lbmFibGVfZ3BpbykKKwkJZ3Bpb2Rfc2V0X3Zh
bHVlKGJvZS0+ZW5hYmxlX2dwaW8sIDApOworCXVzbGVlcF9yYW5nZSg1MDAsIDEwMDApOworCXJl
Z3VsYXRvcl9kaXNhYmxlKGJvZS0+YXZlZSk7CisJcmVndWxhdG9yX2Rpc2FibGUoYm9lLT5hdmRk
KTsKKwl1c2xlZXBfcmFuZ2UoNTAwMCwgNzAwMCk7CisJcmVndWxhdG9yX2Rpc2FibGUoYm9lLT5w
cDE4MDApOworCisJYm9lLT5wcmVwYXJlZCA9IGZhbHNlOworCisJcmV0dXJuIDA7Cit9CisKK3N0
YXRpYyBpbnQgYm9lX3BhbmVsX3ByZXBhcmUoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCit7CisJ
c3RydWN0IGJvZV9wYW5lbCAqYm9lID0gdG9fYm9lX3BhbmVsKHBhbmVsKTsKKwlpbnQgcmV0Owor
CisJaWYgKGJvZS0+cHJlcGFyZWQpCisJCXJldHVybiAwOworCisJaWYgKGJvZS0+ZW5hYmxlX2dw
aW8pIHsKKwkJZ3Bpb2Rfc2V0X3ZhbHVlKGJvZS0+ZW5hYmxlX2dwaW8sIDApOworCQl1c2xlZXBf
cmFuZ2UoMTAwMCwgMTUwMCk7CisJfQorCisJcmV0ID0gcmVndWxhdG9yX2VuYWJsZShib2UtPnBw
MTgwMCk7CisJaWYgKHJldCA8IDApCisJCXJldHVybiByZXQ7CisKKwl1c2xlZXBfcmFuZ2UoMzAw
MCwgNTAwMCk7CisKKwlyZXQgPSByZWd1bGF0b3JfZW5hYmxlKGJvZS0+YXZkZCk7CisJaWYgKHJl
dCA8IDApCisJCWdvdG8gcG93ZXJvZmYxdjg7CisJcmV0ID0gcmVndWxhdG9yX2VuYWJsZShib2Ut
PmF2ZWUpOworCWlmIChyZXQgPCAwKQorCQlnb3RvIHBvd2Vyb2ZmYXZkZDsKKworCW1zbGVlcCgx
MDApOworCisJaWYgKGJvZS0+ZW5hYmxlX2dwaW8pIHsKKwkJZ3Bpb2Rfc2V0X3ZhbHVlKGJvZS0+
ZW5hYmxlX2dwaW8sIDEpOworCQl1c2xlZXBfcmFuZ2UoMTAwMDAsIDEyMDAwKTsKKwl9CisKKwly
ZXQgPSBib2VfcGFuZWxfaW5pdChib2UpOworCWlmIChyZXQgPCAwKSB7CisJCWRldl9lcnIocGFu
ZWwtPmRldiwgImZhaWxlZCB0byBpbml0IHBhbmVsOiAlZFxuIiwgcmV0KTsKKwkJZ290byBwb3dl
cm9mZjsKKwl9CisKKwlib2UtPnByZXBhcmVkID0gdHJ1ZTsKKworCXJldHVybiAwOworCitwb3dl
cm9mZjoKKwlyZWd1bGF0b3JfZGlzYWJsZShib2UtPmF2ZWUpOworcG93ZXJvZmZhdmRkOgorCXJl
Z3VsYXRvcl9kaXNhYmxlKGJvZS0+YXZkZCk7Citwb3dlcm9mZjF2ODoKKwl1c2xlZXBfcmFuZ2Uo
NTAwMCwgNzAwMCk7CisJcmVndWxhdG9yX2Rpc2FibGUoYm9lLT5wcDE4MDApOworCWlmIChib2Ut
PmVuYWJsZV9ncGlvKQorCQlncGlvZF9zZXRfdmFsdWUoYm9lLT5lbmFibGVfZ3BpbywgMCk7CisJ
cmV0dXJuIHJldDsKK30KKworc3RhdGljIGludCBib2VfcGFuZWxfZW5hYmxlKHN0cnVjdCBkcm1f
cGFuZWwgKnBhbmVsKQoreworCXN0cnVjdCBib2VfcGFuZWwgKmJvZSA9IHRvX2JvZV9wYW5lbChw
YW5lbCk7CisJaW50IHJldDsKKworCWlmIChib2UtPmVuYWJsZWQpCisJCXJldHVybiAwOworCisJ
cmV0ID0gYmFja2xpZ2h0X2VuYWJsZShib2UtPmJhY2tsaWdodCk7CisJaWYgKHJldCkgeworCQlk
ZXZfZXJyKHBhbmVsLT5kZXYsICJGYWlsZWQgdG8gZW5hYmxlIGJhY2tsaWdodCAlZFxuIiwKKwkJ
CXJldCk7CisJCXJldHVybiByZXQ7CisJfQorCisJYm9lLT5lbmFibGVkID0gdHJ1ZTsKKworCXJl
dHVybiAwOworfQorCitzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgYm9lX2Rl
ZmF1bHRfbW9kZSA9IHsKKwkuY2xvY2sgPSAxNTk0MjUsCisJLmhkaXNwbGF5ID0gMTIwMCwKKwku
aHN5bmNfc3RhcnQgPSAxMjAwICsgMTAwLAorCS5oc3luY19lbmQgPSAxMjAwICsgMTAwICsgNDAs
CisJLmh0b3RhbCA9IDEyMDAgKyAxMDAgKyA0MCArIDI0LAorCS52ZGlzcGxheSA9IDE5MjAsCisJ
LnZzeW5jX3N0YXJ0ID0gMTkyMCArIDEwLAorCS52c3luY19lbmQgPSAxOTIwICsgMTAgKyAxNCwK
KwkudnRvdGFsID0gMTkyMCArIDEwICsgMTQgKyA0LAorCS52cmVmcmVzaCA9IDYwLAorfTsKKwor
c3RhdGljIGNvbnN0IHN0cnVjdCBwYW5lbF9kZXNjIGJvZV90djEwMXd1bV9ubDZfZGVzYyA9IHsK
KwkubW9kZXMgPSAmYm9lX2RlZmF1bHRfbW9kZSwKKwkuYnBjID0gOCwKKwkuc2l6ZSA9IHsKKwkJ
LndpZHRoID0gMTM1LAorCQkuaGVpZ2h0ID0gMjE2LAorCX0sCisJLmxhbmVzID0gNCwKKwkuZm9y
bWF0ID0gTUlQSV9EU0lfRk1UX1JHQjg4OCwKKwkubW9kZV9mbGFncyA9IE1JUElfRFNJX01PREVf
VklERU8gfCBNSVBJX0RTSV9NT0RFX1ZJREVPX1NZTkNfUFVMU0UgfAorCQkgICAgICBNSVBJX0RT
SV9NT0RFX0xQTSwKKwkuaW5pdF9jbWRzID0gYm9lX2luaXRfY21kLAorfTsKKworc3RhdGljIGlu
dCBib2VfcGFuZWxfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQoreworCXN0cnVj
dCBib2VfcGFuZWwgKmJvZSA9IHRvX2JvZV9wYW5lbChwYW5lbCk7CisJY29uc3Qgc3RydWN0IGRy
bV9kaXNwbGF5X21vZGUgKm0gPSBib2UtPmRlc2MtPm1vZGVzOworCXN0cnVjdCBkcm1fZGlzcGxh
eV9tb2RlICptb2RlOworCisJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShwYW5lbC0+ZHJtLCBt
KTsKKwlpZiAoIW1vZGUpIHsKKwkJZGV2X2VycihwYW5lbC0+ZGV2LCAiZmFpbGVkIHRvIGFkZCBt
b2RlICV1eCV1QCV1XG4iLAorCQkJbS0+aGRpc3BsYXksIG0tPnZkaXNwbGF5LCBtLT52cmVmcmVz
aCk7CisJCXJldHVybiAtRU5PTUVNOworCX0KKworCW1vZGUtPnR5cGUgPSBEUk1fTU9ERV9UWVBF
X0RSSVZFUiB8IERSTV9NT0RFX1RZUEVfUFJFRkVSUkVEOworCWRybV9tb2RlX3NldF9uYW1lKG1v
ZGUpOworCWRybV9tb2RlX3Byb2JlZF9hZGQocGFuZWwtPmNvbm5lY3RvciwgbW9kZSk7CisKKwlw
YW5lbC0+Y29ubmVjdG9yLT5kaXNwbGF5X2luZm8ud2lkdGhfbW0gPSBib2UtPmRlc2MtPnNpemUu
d2lkdGg7CisJcGFuZWwtPmNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLmhlaWdodF9tbSA9IGJvZS0+
ZGVzYy0+c2l6ZS5oZWlnaHQ7CisJcGFuZWwtPmNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLmJwYyA9
IGJvZS0+ZGVzYy0+YnBjOworCisJcmV0dXJuIDE7Cit9CisKK3N0YXRpYyBjb25zdCBzdHJ1Y3Qg
ZHJtX3BhbmVsX2Z1bmNzIGJvZV9wYW5lbF9mdW5jcyA9IHsKKwkuZGlzYWJsZSA9IGJvZV9wYW5l
bF9kaXNhYmxlLAorCS51bnByZXBhcmUgPSBib2VfcGFuZWxfdW5wcmVwYXJlLAorCS5wcmVwYXJl
ID0gYm9lX3BhbmVsX3ByZXBhcmUsCisJLmVuYWJsZSA9IGJvZV9wYW5lbF9lbmFibGUsCisJLmdl
dF9tb2RlcyA9IGJvZV9wYW5lbF9nZXRfbW9kZXMsCit9OworCitzdGF0aWMgaW50IGJvZV9wYW5l
bF9hZGQoc3RydWN0IGJvZV9wYW5lbCAqYm9lKQoreworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZi
b2UtPmRzaS0+ZGV2OworCisJYm9lLT5hdmRkID0gZGV2bV9yZWd1bGF0b3JfZ2V0KGRldiwgImF2
ZGQiKTsKKwlpZiAoSVNfRVJSKGJvZS0+YXZkZCkpCisJCXJldHVybiBQVFJfRVJSKGJvZS0+YXZk
ZCk7CisKKwlib2UtPmF2ZWUgPSBkZXZtX3JlZ3VsYXRvcl9nZXQoZGV2LCAiYXZlZSIpOworCWlm
IChJU19FUlIoYm9lLT5hdmVlKSkKKwkJcmV0dXJuIFBUUl9FUlIoYm9lLT5hdmVlKTsKKworCWJv
ZS0+cHAxODAwID0gZGV2bV9yZWd1bGF0b3JfZ2V0KGRldiwgInBwMTgwMCIpOworCWlmIChJU19F
UlIoYm9lLT5wcDE4MDApKQorCQlyZXR1cm4gUFRSX0VSUihib2UtPnBwMTgwMCk7CisKKwlib2Ut
PmVuYWJsZV9ncGlvID0gZGV2bV9ncGlvZF9nZXQoZGV2LCAiZW5hYmxlIiwgR1BJT0RfT1VUX0xP
Vyk7CisJaWYgKElTX0VSUihib2UtPmVuYWJsZV9ncGlvKSkgeworCQlkZXZfZXJyKGRldiwgImNh
bm5vdCBnZXQgcmVzZXQtZ3Bpb3MgJWxkXG4iLAorCQkJUFRSX0VSUihib2UtPmVuYWJsZV9ncGlv
KSk7CisJCXJldHVybiBQVFJfRVJSKGJvZS0+ZW5hYmxlX2dwaW8pOworCX0KKworCWdwaW9kX3Nl
dF92YWx1ZShib2UtPmVuYWJsZV9ncGlvLCAwKTsKKworCWJvZS0+YmFja2xpZ2h0ID0gZGV2bV9v
Zl9maW5kX2JhY2tsaWdodChkZXYpOworCWlmIChJU19FUlIoYm9lLT5iYWNrbGlnaHQpKQorCQly
ZXR1cm4gUFRSX0VSUihib2UtPmJhY2tsaWdodCk7CisKKwlkcm1fcGFuZWxfaW5pdCgmYm9lLT5i
YXNlKTsKKwlib2UtPmJhc2UuZnVuY3MgPSAmYm9lX3BhbmVsX2Z1bmNzOworCWJvZS0+YmFzZS5k
ZXYgPSAmYm9lLT5kc2ktPmRldjsKKworCXJldHVybiBkcm1fcGFuZWxfYWRkKCZib2UtPmJhc2Up
OworfQorCitzdGF0aWMgaW50IGJvZV9wYW5lbF9wcm9iZShzdHJ1Y3QgbWlwaV9kc2lfZGV2aWNl
ICpkc2kpCit7CisJc3RydWN0IGJvZV9wYW5lbCAqYm9lOworCWludCByZXQ7CisJY29uc3Qgc3Ry
dWN0IHBhbmVsX2Rlc2MgKmRlc2M7CisKKwlib2UgPSBkZXZtX2t6YWxsb2MoJmRzaS0+ZGV2LCBz
aXplb2YoKmJvZSksIEdGUF9LRVJORUwpOworCWlmICghYm9lKQorCQlyZXR1cm4gLUVOT01FTTsK
KworCWRlc2MgPSBvZl9kZXZpY2VfZ2V0X21hdGNoX2RhdGEoJmRzaS0+ZGV2KTsKKwlkc2ktPmxh
bmVzID0gZGVzYy0+bGFuZXM7CisJZHNpLT5mb3JtYXQgPSBkZXNjLT5mb3JtYXQ7CisJZHNpLT5t
b2RlX2ZsYWdzID0gZGVzYy0+bW9kZV9mbGFnczsKKwlib2UtPmRlc2MgPSBkZXNjOworCWJvZS0+
ZHNpID0gZHNpOworCXJldCA9IGJvZV9wYW5lbF9hZGQoYm9lKTsKKwlpZiAocmV0IDwgMCkKKwkJ
cmV0dXJuIHJldDsKKworCW1pcGlfZHNpX3NldF9kcnZkYXRhKGRzaSwgYm9lKTsKKworCXJldHVy
biBtaXBpX2RzaV9hdHRhY2goZHNpKTsKK30KKworc3RhdGljIGludCBib2VfcGFuZWxfcmVtb3Zl
KHN0cnVjdCBtaXBpX2RzaV9kZXZpY2UgKmRzaSkKK3sKKwlzdHJ1Y3QgYm9lX3BhbmVsICpib2Ug
PSBtaXBpX2RzaV9nZXRfZHJ2ZGF0YShkc2kpOworCWludCByZXQ7CisKKwlyZXQgPSBib2VfcGFu
ZWxfZGlzYWJsZSgmYm9lLT5iYXNlKTsKKwlpZiAocmV0IDwgMCkKKwkJZGV2X2VycigmZHNpLT5k
ZXYsICJmYWlsZWQgdG8gZGlzYWJsZSBwYW5lbDogJWRcbiIsIHJldCk7CisKKwlyZXQgPSBtaXBp
X2RzaV9kZXRhY2goZHNpKTsKKwlpZiAocmV0IDwgMCkKKwkJZGV2X2VycigmZHNpLT5kZXYsICJm
YWlsZWQgdG8gZGV0YWNoIGZyb20gRFNJIGhvc3Q6ICVkXG4iLCByZXQpOworCisJaWYgKGJvZS0+
YmFzZS5kZXYpCisJCWRybV9wYW5lbF9yZW1vdmUoJmJvZS0+YmFzZSk7CisKKwlyZXR1cm4gMDsK
K30KKworc3RhdGljIHZvaWQgYm9lX3BhbmVsX3NodXRkb3duKHN0cnVjdCBtaXBpX2RzaV9kZXZp
Y2UgKmRzaSkKK3sKKwlzdHJ1Y3QgYm9lX3BhbmVsICpib2UgPSBtaXBpX2RzaV9nZXRfZHJ2ZGF0
YShkc2kpOworCisJYm9lX3BhbmVsX2Rpc2FibGUoJmJvZS0+YmFzZSk7Cit9CisKK3N0YXRpYyBj
b25zdCBzdHJ1Y3Qgb2ZfZGV2aWNlX2lkIGJvZV9vZl9tYXRjaFtdID0geworCXsgLmNvbXBhdGli
bGUgPSAiYm9lLHR2MTAxd3VtLW5sNiIsCisJICAuZGF0YSA9ICZib2VfdHYxMDF3dW1fbmw2X2Rl
c2MKKwl9LAorCXsgLyogc2VudGluZWwgKi8gfQorfTsKK01PRFVMRV9ERVZJQ0VfVEFCTEUob2Ys
IGJvZV9vZl9tYXRjaCk7CisKK3N0YXRpYyBzdHJ1Y3QgbWlwaV9kc2lfZHJpdmVyIGJvZV9wYW5l
bF9kcml2ZXIgPSB7CisJLmRyaXZlciA9IHsKKwkJLm5hbWUgPSAicGFuZWwtYm9lLXR2MTAxd3Vt
LW5sNiIsCisJCS5vZl9tYXRjaF90YWJsZSA9IGJvZV9vZl9tYXRjaCwKKwl9LAorCS5wcm9iZSA9
IGJvZV9wYW5lbF9wcm9iZSwKKwkucmVtb3ZlID0gYm9lX3BhbmVsX3JlbW92ZSwKKwkuc2h1dGRv
d24gPSBib2VfcGFuZWxfc2h1dGRvd24sCit9OworbW9kdWxlX21pcGlfZHNpX2RyaXZlcihib2Vf
cGFuZWxfZHJpdmVyKTsKKworTU9EVUxFX0FVVEhPUigiSml0YW8gU2hpIDxqaXRhby5zaGlAbWVk
aWF0ZWsuY29tPiIpOworTU9EVUxFX0RFU0NSSVBUSU9OKCJCT0UgdHYxMDF3dW0tbmw2IDEyMDB4
MTkyMCB2aWRlbyBtb2RlIHBhbmVsIGRyaXZlciIpOworTU9EVUxFX0xJQ0VOU0UoIkdQTCB2MiIp
OwotLSAKMi4yMS4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2
ZWw=
