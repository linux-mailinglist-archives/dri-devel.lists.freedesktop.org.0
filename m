Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id D301EF39FF
	for <lists+dri-devel@lfdr.de>; Thu,  7 Nov 2019 22:03:36 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 4A3FC6F7C4;
	Thu,  7 Nov 2019 21:03:33 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-yw1-xc42.google.com (mail-yw1-xc42.google.com
 [IPv6:2607:f8b0:4864:20::c42])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2BCC46F7C1
 for <dri-devel@lists.freedesktop.org>; Thu,  7 Nov 2019 21:03:29 +0000 (UTC)
Received: by mail-yw1-xc42.google.com with SMTP id i2so1114564ywg.13
 for <dri-devel@lists.freedesktop.org>; Thu, 07 Nov 2019 13:03:29 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=wy9BemAoYd4Z5atAYY3UWgEeloIWr7ynHkmEsWwjyOc=;
 b=stDcvuwwowboYAwazc9vgUgLKESjYNnB/rhozdjZ7n0nZO9jhty0W5Aqp0gPSclttk
 V6G/xvTjAAsF2KMQlT9OiZw993AeCIVCYABcFxscRue3FmT4cKfWGGsW5CKHsIfCozRP
 RfErrCLzBAYCa1rJVkEz+MEaB4yFIrUUpR/hvNt4JXUW5jvNd7NjXTMAI2BRBcr3AS6l
 UBhl1Loi0kC15+9R5dYv+dikW3PZODOhFer9NKZ9zXiUob+2euFsC1LQFNH4flzwoTt4
 COJpq4702KEUKrDNWVpnarSTMSFR6svysErWnV8J5VVNUD2ONmJJk5PAr4iCbpC3vjux
 xjjQ==
X-Gm-Message-State: APjAAAWAgd8DURarFLI32aib2rwKNxUZi3XQ12qWRpB8moto6kwuyti7
 hYm9YC8E/PCJ/BOJDTR9AVWkifwdPmE=
X-Google-Smtp-Source: APXvYqx8LwNpuoWP05gfi0XSKnuzFwI98CQRFs9Z547QIvrfwzoT1E8+hyzT2VYdo7w3TOcn3rGftQ==
X-Received: by 2002:a81:8415:: with SMTP id u21mr4320479ywf.129.1573160607773; 
 Thu, 07 Nov 2019 13:03:27 -0800 (PST)
Received: from rosewood.cam.corp.google.com
 ([2620:0:1013:11:89c6:2139:5435:371d])
 by smtp.gmail.com with ESMTPSA id r14sm1064196ywl.97.2019.11.07.13.03.27
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Thu, 07 Nov 2019 13:03:27 -0800 (PST)
From: Sean Paul <sean@poorly.run>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH 6/6] drm: trace: Add plane state tracing
Date: Thu,  7 Nov 2019 16:03:05 -0500
Message-Id: <20191107210316.143216-7-sean@poorly.run>
X-Mailer: git-send-email 2.24.0.rc1.363.gb1bccd3e3d-goog
In-Reply-To: <20191107210316.143216-1-sean@poorly.run>
References: <20191107210316.143216-1-sean@poorly.run>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=poorly.run; s=google;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=wy9BemAoYd4Z5atAYY3UWgEeloIWr7ynHkmEsWwjyOc=;
 b=cSR+q2Bv2BymfeZYJCJ55Bx9/JZNwd6AsxMy8QnygA2oKll7w7oaYtil4Fi7/7Xdj+
 BV1K+WT2uC8cyYHI/eqpErsM7Koic7k4aHV4YXJWAxpeSr7Y0oQ9kV95UkU59tHXJP9f
 D+5kHHA3asU9XiGOI+B/P0hST8UcL5G+iVpugJYeEUseNzYu5wq+gsDMECj5iOfPYeG+
 FDU6VNm47oPky6aFmhJFuN7vBjIwI/7V9d2rMD1T75I7vbCs3P4q7RdKTOQItUnQMqCN
 +jmpL3uOe31DHGhiNW7d/2xpz4lmaW8UfaW6AOVnzytukb2TZeYUqbG5UF8cwhZeQqpT
 B0Yg==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: daniel.vetter@ffwll.ch, Sean Paul <seanpaul@chromium.org>,
 tzimmermann@suse.de
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogU2VhbiBQYXVsIDxzZWFucGF1bEBjaHJvbWl1bS5vcmc+CgpBZGQgdHJhY2luZyB3aGlj
aCB0cmFja3MgaW1wb3J0YW50IHBsYW5lX3N0YXRlIGV2ZW50cyB0aHJvdWdoIHRoZSBhdG9taWMK
Y29yZS4KClNpZ25lZC1vZmYtYnk6IFNlYW4gUGF1bCA8c2VhbnBhdWxAY2hyb21pdW0ub3JnPgot
LS0KIGRyaXZlcnMvZ3B1L2RybS9kcm1fYXRvbWljLmMgfCAgMTYgKysrLQogZHJpdmVycy9ncHUv
ZHJtL2RybV90cmFjZS5oICB8IDE0MyArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
KwogMiBmaWxlcyBjaGFuZ2VkLCAxNTggaW5zZXJ0aW9ucygrKSwgMSBkZWxldGlvbigtKQoKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fYXRvbWljLmMgYi9kcml2ZXJzL2dwdS9kcm0v
ZHJtX2F0b21pYy5jCmluZGV4IDVkY2FmMTQ1ZjIyZmYuLmY2ODI0MGQxZDllY2YgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fYXRvbWljLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2Ry
bV9hdG9taWMuYwpAQCAtNTEzLDYgKzUxMyw3IEBAIGRybV9hdG9taWNfZ2V0X3BsYW5lX3N0YXRl
KHN0cnVjdCBkcm1fYXRvbWljX3N0YXRlICpzdGF0ZSwKIAogCURSTV9ERUJVR19BVE9NSUMoIkFk
ZGVkIFtQTEFORTolZDolc10gJXAgc3RhdGUgdG8gJXBcbiIsCiAJCQkgcGxhbmUtPmJhc2UuaWQs
IHBsYW5lLT5uYW1lLCBwbGFuZV9zdGF0ZSwgc3RhdGUpOworCWRybV90cmFjZShwbGFuZSwgYWRk
LCBwbGFuZV9zdGF0ZSk7CiAKIAlpZiAocGxhbmVfc3RhdGUtPmNydGMpIHsKIAkJc3RydWN0IGRy
bV9jcnRjX3N0YXRlICpjcnRjX3N0YXRlOwpAQCAtNTcwLDIyICs1NzEsMjcgQEAgc3RhdGljIGlu
dCBkcm1fYXRvbWljX3BsYW5lX2NoZWNrKGNvbnN0IHN0cnVjdCBkcm1fcGxhbmVfc3RhdGUgKm9s
ZF9wbGFuZV9zdGF0ZSwKIAlpZiAoY3J0YyAmJiAhZmIpIHsKIAkJRFJNX0RFQlVHX0FUT01JQygi
W1BMQU5FOiVkOiVzXSBDUlRDIHNldCBidXQgbm8gRkJcbiIsCiAJCQkJIHBsYW5lLT5iYXNlLmlk
LCBwbGFuZS0+bmFtZSk7CisJCWRybV90cmFjZV9lcnIocGxhbmUsIGNoZWNrX2ZhaWxfY3J0Y19u
b19mYiwgbmV3X3BsYW5lX3N0YXRlKTsKIAkJcmV0dXJuIC1FSU5WQUw7CiAJfSBlbHNlIGlmIChm
YiAmJiAhY3J0YykgewogCQlEUk1fREVCVUdfQVRPTUlDKCJbUExBTkU6JWQ6JXNdIEZCIHNldCBi
dXQgbm8gQ1JUQ1xuIiwKIAkJCQkgcGxhbmUtPmJhc2UuaWQsIHBsYW5lLT5uYW1lKTsKKwkJZHJt
X3RyYWNlX2VycihwbGFuZSwgY2hlY2tfZmFpbF9mYl9ub19jcnRjLCBuZXdfcGxhbmVfc3RhdGUp
OwogCQlyZXR1cm4gLUVJTlZBTDsKIAl9CiAKIAkvKiBpZiBkaXNhYmxlZCwgd2UgZG9uJ3QgY2Fy
ZSBhYm91dCB0aGUgcmVzdCBvZiB0aGUgc3RhdGU6ICovCi0JaWYgKCFjcnRjKQorCWlmICghY3J0
YykgeworCQlkcm1fdHJhY2UocGxhbmUsIGNoZWNrX3Bhc3NlZCwgbmV3X3BsYW5lX3N0YXRlKTsK
IAkJcmV0dXJuIDA7CisJfQogCiAJLyogQ2hlY2sgd2hldGhlciB0aGlzIHBsYW5lIGlzIHVzYWJs
ZSBvbiB0aGlzIENSVEMgKi8KIAlpZiAoIShwbGFuZS0+cG9zc2libGVfY3J0Y3MgJiBkcm1fY3J0
Y19tYXNrKGNydGMpKSkgewogCQlEUk1fREVCVUdfQVRPTUlDKCJJbnZhbGlkIFtDUlRDOiVkOiVz
XSBmb3IgW1BMQU5FOiVkOiVzXVxuIiwKIAkJCQkgY3J0Yy0+YmFzZS5pZCwgY3J0Yy0+bmFtZSwK
IAkJCQkgcGxhbmUtPmJhc2UuaWQsIHBsYW5lLT5uYW1lKTsKKwkJZHJtX3RyYWNlX2VycihwbGFu
ZSwgY2hlY2tfZmFpbF9jcnRjX2ltcG9zc2libGUsIG5ld19wbGFuZV9zdGF0ZSk7CiAJCXJldHVy
biAtRUlOVkFMOwogCX0KIApAQCAtNTk5LDYgKzYwNSw3IEBAIHN0YXRpYyBpbnQgZHJtX2F0b21p
Y19wbGFuZV9jaGVjayhjb25zdCBzdHJ1Y3QgZHJtX3BsYW5lX3N0YXRlICpvbGRfcGxhbmVfc3Rh
dGUsCiAJCQkJIGRybV9nZXRfZm9ybWF0X25hbWUoZmItPmZvcm1hdC0+Zm9ybWF0LAogCQkJCQkJ
ICAgICAmZm9ybWF0X25hbWUpLAogCQkJCSBmYi0+bW9kaWZpZXIpOworCQlkcm1fdHJhY2VfZXJy
KHBsYW5lLCBjaGVja19mYWlsX2Zvcm1hdCwgbmV3X3BsYW5lX3N0YXRlKTsKIAkJcmV0dXJuIHJl
dDsKIAl9CiAKQEAgLTYxMSw2ICs2MTgsNyBAQCBzdGF0aWMgaW50IGRybV9hdG9taWNfcGxhbmVf
Y2hlY2soY29uc3Qgc3RydWN0IGRybV9wbGFuZV9zdGF0ZSAqb2xkX3BsYW5lX3N0YXRlLAogCQkJ
CSBwbGFuZS0+YmFzZS5pZCwgcGxhbmUtPm5hbWUsCiAJCQkJIG5ld19wbGFuZV9zdGF0ZS0+Y3J0
Y193LCBuZXdfcGxhbmVfc3RhdGUtPmNydGNfaCwKIAkJCQkgbmV3X3BsYW5lX3N0YXRlLT5jcnRj
X3gsIG5ld19wbGFuZV9zdGF0ZS0+Y3J0Y195KTsKKwkJZHJtX3RyYWNlX2VycihwbGFuZSwgY2hl
Y2tfZmFpbF9jcnRjX2Nvb3JkcywgbmV3X3BsYW5lX3N0YXRlKTsKIAkJcmV0dXJuIC1FUkFOR0U7
CiAJfQogCkBAIC02MzQsNiArNjQyLDcgQEAgc3RhdGljIGludCBkcm1fYXRvbWljX3BsYW5lX2No
ZWNrKGNvbnN0IHN0cnVjdCBkcm1fcGxhbmVfc3RhdGUgKm9sZF9wbGFuZV9zdGF0ZSwKIAkJCQkg
bmV3X3BsYW5lX3N0YXRlLT5zcmNfeSA+PiAxNiwKIAkJCQkgKChuZXdfcGxhbmVfc3RhdGUtPnNy
Y195ICYgMHhmZmZmKSAqIDE1NjI1KSA+PiAxMCwKIAkJCQkgZmItPndpZHRoLCBmYi0+aGVpZ2h0
KTsKKwkJZHJtX3RyYWNlX2VycihwbGFuZSwgY2hlY2tfZmFpbF9zcmNfY29vcmRzLCBuZXdfcGxh
bmVfc3RhdGUpOwogCQlyZXR1cm4gLUVOT1NQQzsKIAl9CiAKQEAgLTY1MSw2ICs2NjAsNyBAQCBz
dGF0aWMgaW50IGRybV9hdG9taWNfcGxhbmVfY2hlY2soY29uc3Qgc3RydWN0IGRybV9wbGFuZV9z
dGF0ZSAqb2xkX3BsYW5lX3N0YXRlLAogCQkJRFJNX0RFQlVHX0FUT01JQygiW1BMQU5FOiVkOiVz
XSBpbnZhbGlkIGRhbWFnZSBjbGlwICVkICVkICVkICVkXG4iLAogCQkJCQkgcGxhbmUtPmJhc2Uu
aWQsIHBsYW5lLT5uYW1lLCBjbGlwcy0+eDEsCiAJCQkJCSBjbGlwcy0+eTEsIGNsaXBzLT54Miwg
Y2xpcHMtPnkyKTsKKwkJCWRybV90cmFjZV9lcnIocGxhbmUsIGNoZWNrX2ZhaWxfZGFtYWdlX2Ns
aXAsIG5ld19wbGFuZV9zdGF0ZSk7CiAJCQlyZXR1cm4gLUVJTlZBTDsKIAkJfQogCQljbGlwcysr
OwpAQCAtNjYwLDkgKzY3MCwxMiBAQCBzdGF0aWMgaW50IGRybV9hdG9taWNfcGxhbmVfY2hlY2so
Y29uc3Qgc3RydWN0IGRybV9wbGFuZV9zdGF0ZSAqb2xkX3BsYW5lX3N0YXRlLAogCWlmIChwbGFu
ZV9zd2l0Y2hpbmdfY3J0YyhvbGRfcGxhbmVfc3RhdGUsIG5ld19wbGFuZV9zdGF0ZSkpIHsKIAkJ
RFJNX0RFQlVHX0FUT01JQygiW1BMQU5FOiVkOiVzXSBzd2l0Y2hpbmcgQ1JUQyBkaXJlY3RseVxu
IiwKIAkJCQkgcGxhbmUtPmJhc2UuaWQsIHBsYW5lLT5uYW1lKTsKKwkJZHJtX3RyYWNlX2Vycihw
bGFuZSwgY2hlY2tfZmFpbF9zd2l0Y2hfb2xkLCBvbGRfcGxhbmVfc3RhdGUpOworCQlkcm1fdHJh
Y2VfZXJyKHBsYW5lLCBjaGVja19mYWlsX3N3aXRjaF9uZXcsIG5ld19wbGFuZV9zdGF0ZSk7CiAJ
CXJldHVybiAtRUlOVkFMOwogCX0KIAorCWRybV90cmFjZShwbGFuZSwgY2hlY2tfcGFzc2VkLCBu
ZXdfcGxhbmVfc3RhdGUpOwogCXJldHVybiAwOwogfQogCkBAIC0xMTc2LDYgKzExODksNyBAQCBp
bnQgZHJtX2F0b21pY19jaGVja19vbmx5KHN0cnVjdCBkcm1fYXRvbWljX3N0YXRlICpzdGF0ZSkK
IAkJaWYgKHJldCkgewogCQkJRFJNX0RFQlVHX0FUT01JQygiW1BMQU5FOiVkOiVzXSBhdG9taWMg
Y29yZSBjaGVjayBmYWlsZWRcbiIsCiAJCQkJCSBwbGFuZS0+YmFzZS5pZCwgcGxhbmUtPm5hbWUp
OworCQkJZHJtX3RyYWNlX2VycihwbGFuZSwgY2hlY2tfZmFpbGVkLCBuZXdfcGxhbmVfc3RhdGUp
OwogCQkJcmV0dXJuIHJldDsKIAkJfQogCX0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9k
cm1fdHJhY2UuaCBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fdHJhY2UuaAppbmRleCBjNjEwZThkOGM3
MWNlLi43NzA4ODEwYmJkNjYwIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vZHJtX3RyYWNl
LmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2RybV90cmFjZS5oCkBAIC02LDYgKzYsOSBAQAogI2lu
Y2x1ZGUgPGRybS9kcm1fY29ubmVjdG9yLmg+CiAjaW5jbHVkZSA8ZHJtL2RybV9jcnRjLmg+CiAj
aW5jbHVkZSA8ZHJtL2RybV9lbmNvZGVyLmg+CisjaW5jbHVkZSA8ZHJtL2RybV9mb3VyY2MuaD4K
KyNpbmNsdWRlIDxkcm0vZHJtX3BsYW5lLmg+CisjaW5jbHVkZSA8ZHJtL2RybV9yZWN0Lmg+CiAK
ICNpbmNsdWRlIDxsaW51eC9rcmVmLmg+CiAjaW5jbHVkZSA8bGludXgvc3RyaW5naWZ5Lmg+CkBA
IC04Myw2ICs4NiwxMiBAQCBlbnVtIGRybV90cmFjZV9ldmVudF9jbGFzcyB7CiAJICogc3RhdGUg
dGhyb3VnaCB0aGUgYXRvbWljIGNvcmUgYW5kIGhlbHBlcnMuCiAJICovCiAJZHJtX3RyYWNlX2Ns
YXNzX2Nvbm5lY3Rvcgk9IEJJVCg0KSwKKworCS8qKgorCSAqIEBkcm1fdHJhY2VfY2xhc3NfcGxh
bmU6IFRoaXMgY2xhc3MgaXMgdXNlZCB0byB0cmFjayBwbGFuZSBzdGF0ZQorCSAqIHRocm91Z2gg
dGhlIGF0b21pYyBjb3JlIGFuZCBoZWxwZXJzLgorCSAqLworCWRybV90cmFjZV9jbGFzc19wbGFu
ZQkJPSBCSVQoNSksCiB9OwogCiAvKioKQEAgLTQ0NCw2ICs0NTMsMTQwIEBAIERFRklORV9FVkVO
VChjbGFzc19kcm1fY29ubmVjdG9yLAogCVRQX0FSR1MoZXZlbnRfY2xhc3MsIHN0YXRlKQogKTsK
IAorREVDTEFSRV9FVkVOVF9DTEFTUyhjbGFzc19kcm1fcGxhbmUsCisJVFBfUFJPVE8odW5zaWdu
ZWQgaW50IGV2ZW50X2NsYXNzLCBjb25zdCBzdHJ1Y3QgZHJtX3BsYW5lX3N0YXRlICpzdGF0ZSks
CisJVFBfQVJHUyhldmVudF9jbGFzcywgc3RhdGUpLAorCVRQX1NUUlVDVF9fZW50cnkoCisJCV9f
ZmllbGQodW5zaWduZWQgaW50LCBldmVudF9jbGFzcykKKwkJX19maWVsZCh1aW50MzJfdCwgcGxh
bmVfaWQpCisJCV9fZmllbGQoY29uc3Qgc3RydWN0IGRybV9wbGFuZV9zdGF0ZSAqLCBwbGFuZV9z
dGF0ZSkKKwkJX19maWVsZChjb25zdCBzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqLCBzdGF0ZSkK
KwkJX19maWVsZChjb25zdCBzdHJ1Y3QgZHJtX2NydGNfY29tbWl0ICosIGNvbW1pdCkKKwkJX19m
aWVsZCh1aW50MzJfdCwgY3J0Y19pZCkKKwkJX19maWVsZCh1aW50MzJfdCwgZmJfaWQpCisJCV9f
ZmllbGQodWludDMyX3QsIGZiX2Zvcm1hdCkKKwkJX19maWVsZCh1aW50OF90LCBmYl9wbGFuZXMp
CisJCV9fZmllbGQodWludDY0X3QsIGZiX21vZGlmaWVyKQorCQlfX2ZpZWxkKGNvbnN0IHN0cnVj
dCBkbWFfZmVuY2UgKiwgZmVuY2UpCisJCV9fYXJyYXkodTgsIGNydGNfY29vcmRzLCBzaXplb2Yo
c3RydWN0IGRybV9yZWN0KSkKKwkJX19hcnJheSh1OCwgc3JjX2Nvb3Jkcywgc2l6ZW9mKHN0cnVj
dCBkcm1fcmVjdCkpCisJCV9fZmllbGQodTMyLCBhbHBoYSkKKwkJX19maWVsZCh1aW50MzJfdCwg
cGl4ZWxfYmxlbmRfbW9kZSkKKwkJX19maWVsZCh1bnNpZ25lZCBpbnQsIHJvdGF0aW9uKQorCQlf
X2ZpZWxkKHVuc2lnbmVkIGludCwgenBvcykKKwkJX19maWVsZCh1bnNpZ25lZCBpbnQsIG5vcm1h
bGl6ZWRfenBvcykKKwkJX19maWVsZChlbnVtIGRybV9jb2xvcl9lbmNvZGluZywgY29sb3JfZW5j
b2RpbmcpCisJCV9fZmllbGQoZW51bSBkcm1fY29sb3JfcmFuZ2UsIGNvbG9yX3JhbmdlKQorCQlf
X2ZpZWxkKGJvb2wsIHZpc2libGUpCisJCV9fYXJyYXkodTgsIHNyYywgc2l6ZW9mKHN0cnVjdCBk
cm1fcmVjdCkpCisJCV9fYXJyYXkodTgsIGRzdCwgc2l6ZW9mKHN0cnVjdCBkcm1fcmVjdCkpCisJ
KSwKKwlUUF9mYXN0X2Fzc2lnbigKKwkJX19lbnRyeS0+ZXZlbnRfY2xhc3MgPSBldmVudF9jbGFz
czsKKwkJX19lbnRyeS0+cGxhbmVfaWQgPSBzdGF0ZS0+cGxhbmUtPmJhc2UuaWQ7CisJCV9fZW50
cnktPnBsYW5lX3N0YXRlID0gc3RhdGU7CisJCV9fZW50cnktPnN0YXRlID0gc3RhdGUtPnN0YXRl
OworCQlfX2VudHJ5LT5jb21taXQgPSBzdGF0ZS0+Y29tbWl0OworCQlfX2VudHJ5LT5jcnRjX2lk
ID0gc3RhdGUtPmNydGMgPyBzdGF0ZS0+Y3J0Yy0+YmFzZS5pZCA6IDA7CisJCV9fZW50cnktPmZi
X2lkID0gc3RhdGUtPmZiID8gc3RhdGUtPmZiLT5iYXNlLmlkIDogMDsKKwkJX19lbnRyeS0+ZmJf
Zm9ybWF0ID0gc3RhdGUtPmZiID8gc3RhdGUtPmZiLT5mb3JtYXQtPmZvcm1hdCA6CisJCQkJCQkg
J0UnIDw8IDI0IHwgJ08nIDw8IDE2IHwKKwkJCQkJCSAnTicgPDwgOCB8ICdOJzsKKwkJX19lbnRy
eS0+ZmJfcGxhbmVzID0gc3RhdGUtPmZiID8gc3RhdGUtPmZiLT5mb3JtYXQtPm51bV9wbGFuZXMg
OgorCQkJCQkwOworCQlfX2VudHJ5LT5mYl9tb2RpZmllciA9IHN0YXRlLT5mYiA/IHN0YXRlLT5m
Yi0+bW9kaWZpZXIgOiAwOworCQlfX2VudHJ5LT5mZW5jZSA9IHN0YXRlLT5mZW5jZTsKKwkJKChz
dHJ1Y3QgZHJtX3JlY3QgKilfX2VudHJ5LT5jcnRjX2Nvb3JkcyktPngxID0gc3RhdGUtPmNydGNf
eDsKKwkJKChzdHJ1Y3QgZHJtX3JlY3QgKilfX2VudHJ5LT5jcnRjX2Nvb3JkcyktPnkxID0gc3Rh
dGUtPmNydGNfeTsKKwkJKChzdHJ1Y3QgZHJtX3JlY3QgKilfX2VudHJ5LT5jcnRjX2Nvb3Jkcykt
PngxID0gc3RhdGUtPmNydGNfdzsKKwkJKChzdHJ1Y3QgZHJtX3JlY3QgKilfX2VudHJ5LT5jcnRj
X2Nvb3JkcyktPnkyID0gc3RhdGUtPmNydGNfaDsKKwkJKChzdHJ1Y3QgZHJtX3JlY3QgKilfX2Vu
dHJ5LT5zcmNfY29vcmRzKS0+eDEgPSBzdGF0ZS0+c3JjX3g7CisJCSgoc3RydWN0IGRybV9yZWN0
ICopX19lbnRyeS0+c3JjX2Nvb3JkcyktPnkxID0gc3RhdGUtPnNyY195OworCQkoKHN0cnVjdCBk
cm1fcmVjdCAqKV9fZW50cnktPnNyY19jb29yZHMpLT54MSA9IHN0YXRlLT5zcmNfdzsKKwkJKChz
dHJ1Y3QgZHJtX3JlY3QgKilfX2VudHJ5LT5zcmNfY29vcmRzKS0+eTIgPSBzdGF0ZS0+c3JjX2g7
CisJCV9fZW50cnktPmFscGhhID0gc3RhdGUtPmFscGhhOworCQlfX2VudHJ5LT5waXhlbF9ibGVu
ZF9tb2RlID0gc3RhdGUtPnBpeGVsX2JsZW5kX21vZGU7CisJCV9fZW50cnktPnJvdGF0aW9uID0g
c3RhdGUtPnJvdGF0aW9uOworCQlfX2VudHJ5LT56cG9zID0gc3RhdGUtPnpwb3M7CisJCV9fZW50
cnktPm5vcm1hbGl6ZWRfenBvcyA9IHN0YXRlLT5ub3JtYWxpemVkX3pwb3M7CisJCV9fZW50cnkt
PmNvbG9yX2VuY29kaW5nID0gc3RhdGUtPmNvbG9yX2VuY29kaW5nOworCQlfX2VudHJ5LT5jb2xv
cl9yYW5nZSA9IHN0YXRlLT5jb2xvcl9yYW5nZTsKKwkJX19lbnRyeS0+dmlzaWJsZSA9IHN0YXRl
LT52aXNpYmxlOworCQltZW1jcHkoX19lbnRyeS0+c3JjLCAmc3RhdGUtPnNyYywgc2l6ZW9mKF9f
ZW50cnktPnNyYykpOworCQltZW1jcHkoX19lbnRyeS0+ZHN0LCAmc3RhdGUtPmRzdCwgc2l6ZW9m
KF9fZW50cnktPmRzdCkpOworCSksCisJVFBfcHJpbnRrKCJwbGFuZV9pZD0ldSBwbGFuZV9zdGF0
ZT0lcEsgc3RhdGU9JXBLIGNvbW1pdD0lcEsgY3J0Y19pZD0ldSAiCisJCSAgImZiKGlkPSV1IGZt
dD0lYyVjJWMlYyBwbGFuZXM9JXUgbW9kPSVsbHUpIGZlbmNlPSVwSyBjcnRjKCIKKwkJICBEUk1f
UkVDVF9GTVQiKSBzcmMoIkRSTV9SRUNUX0ZQX0ZNVCIpIGFscGhhPSV1ICIKKwkJICAicGl4ZWxf
YmxlbmRfbW9kZT0ldSByb3RhdGlvbj0ldSB6cG9zPSV1ICIKKwkJICAibm9ybWFsaXplZF96cG9z
PSV1IGNvbG9yX2VuY29kaW5nPSVkIGNvbG9yX3JhbmdlPSVkICIKKwkJICAidmlzaWJsZT0lZCBz
cmNfcmVjdCgiRFJNX1JFQ1RfRlBfRk1UIikgZHN0X3JlY3QoIgorCQkgIERSTV9SRUNUX0ZNVCIp
IiwKKwkJICBfX2VudHJ5LT5wbGFuZV9pZCwgX19lbnRyeS0+cGxhbmVfc3RhdGUsIF9fZW50cnkt
PnN0YXRlLAorCQkgIF9fZW50cnktPmNvbW1pdCwgX19lbnRyeS0+Y3J0Y19pZCwgX19lbnRyeS0+
ZmJfaWQsCisJCSAgX19lbnRyeS0+ZmJfZm9ybWF0ICYgMHhmZiwKKwkJICAoX19lbnRyeS0+ZmJf
Zm9ybWF0ID4+IDgpICYgMHhmZiwKKwkJICAoX19lbnRyeS0+ZmJfZm9ybWF0ID4+IDE2KSAmIDB4
ZmYsCisJCSAgKF9fZW50cnktPmZiX2Zvcm1hdCA+PiAyNCkgJiAweDdmLCBfX2VudHJ5LT5mYl9w
bGFuZXMsCisJCSAgX19lbnRyeS0+ZmJfbW9kaWZpZXIsIF9fZW50cnktPmZlbmNlLAorCQkgIERS
TV9SRUNUX0FSRygoY29uc3Qgc3RydWN0IGRybV9yZWN0ICopX19lbnRyeS0+Y3J0Y19jb29yZHMp
LAorCQkgIERSTV9SRUNUX0ZQX0FSRygoY29uc3Qgc3RydWN0IGRybV9yZWN0ICopX19lbnRyeS0+
c3JjX2Nvb3JkcyksCisJCSAgX19lbnRyeS0+YWxwaGEsIF9fZW50cnktPnBpeGVsX2JsZW5kX21v
ZGUsIF9fZW50cnktPnJvdGF0aW9uLAorCQkgIF9fZW50cnktPnpwb3MsIF9fZW50cnktPm5vcm1h
bGl6ZWRfenBvcywKKwkJICBfX2VudHJ5LT5jb2xvcl9lbmNvZGluZywgX19lbnRyeS0+Y29sb3Jf
cmFuZ2UsCisJCSAgX19lbnRyeS0+dmlzaWJsZSwKKwkJICBEUk1fUkVDVF9GUF9BUkcoKGNvbnN0
IHN0cnVjdCBkcm1fcmVjdCAqKV9fZW50cnktPnNyYyksCisJCSAgRFJNX1JFQ1RfQVJHKChjb25z
dCBzdHJ1Y3QgZHJtX3JlY3QgKilfX2VudHJ5LT5kc3QpKQorKTsKK0RFRklORV9FVkVOVChjbGFz
c19kcm1fcGxhbmUsIGRybV9wbGFuZV9hZGQsCisJVFBfUFJPVE8odW5zaWduZWQgaW50IGV2ZW50
X2NsYXNzLCBjb25zdCBzdHJ1Y3QgZHJtX3BsYW5lX3N0YXRlICpzdGF0ZSksCisJVFBfQVJHUyhl
dmVudF9jbGFzcywgc3RhdGUpCispOworREVGSU5FX0VWRU5UKGNsYXNzX2RybV9wbGFuZSwgZHJt
X3BsYW5lX2NoZWNrX2ZhaWxfY3J0Y19ub19mYiwKKwlUUF9QUk9UTyh1bnNpZ25lZCBpbnQgZXZl
bnRfY2xhc3MsIGNvbnN0IHN0cnVjdCBkcm1fcGxhbmVfc3RhdGUgKnN0YXRlKSwKKwlUUF9BUkdT
KGV2ZW50X2NsYXNzLCBzdGF0ZSkKKyk7CitERUZJTkVfRVZFTlQoY2xhc3NfZHJtX3BsYW5lLCBk
cm1fcGxhbmVfY2hlY2tfZmFpbF9mYl9ub19jcnRjLAorCVRQX1BST1RPKHVuc2lnbmVkIGludCBl
dmVudF9jbGFzcywgY29uc3Qgc3RydWN0IGRybV9wbGFuZV9zdGF0ZSAqc3RhdGUpLAorCVRQX0FS
R1MoZXZlbnRfY2xhc3MsIHN0YXRlKQorKTsKK0RFRklORV9FVkVOVChjbGFzc19kcm1fcGxhbmUs
IGRybV9wbGFuZV9jaGVja19mYWlsX2NydGNfaW1wb3NzaWJsZSwKKwlUUF9QUk9UTyh1bnNpZ25l
ZCBpbnQgZXZlbnRfY2xhc3MsIGNvbnN0IHN0cnVjdCBkcm1fcGxhbmVfc3RhdGUgKnN0YXRlKSwK
KwlUUF9BUkdTKGV2ZW50X2NsYXNzLCBzdGF0ZSkKKyk7CitERUZJTkVfRVZFTlQoY2xhc3NfZHJt
X3BsYW5lLCBkcm1fcGxhbmVfY2hlY2tfZmFpbF9mb3JtYXQsCisJVFBfUFJPVE8odW5zaWduZWQg
aW50IGV2ZW50X2NsYXNzLCBjb25zdCBzdHJ1Y3QgZHJtX3BsYW5lX3N0YXRlICpzdGF0ZSksCisJ
VFBfQVJHUyhldmVudF9jbGFzcywgc3RhdGUpCispOworREVGSU5FX0VWRU5UKGNsYXNzX2RybV9w
bGFuZSwgZHJtX3BsYW5lX2NoZWNrX2ZhaWxfY3J0Y19jb29yZHMsCisJVFBfUFJPVE8odW5zaWdu
ZWQgaW50IGV2ZW50X2NsYXNzLCBjb25zdCBzdHJ1Y3QgZHJtX3BsYW5lX3N0YXRlICpzdGF0ZSks
CisJVFBfQVJHUyhldmVudF9jbGFzcywgc3RhdGUpCispOworREVGSU5FX0VWRU5UKGNsYXNzX2Ry
bV9wbGFuZSwgZHJtX3BsYW5lX2NoZWNrX2ZhaWxfc3JjX2Nvb3JkcywKKwlUUF9QUk9UTyh1bnNp
Z25lZCBpbnQgZXZlbnRfY2xhc3MsIGNvbnN0IHN0cnVjdCBkcm1fcGxhbmVfc3RhdGUgKnN0YXRl
KSwKKwlUUF9BUkdTKGV2ZW50X2NsYXNzLCBzdGF0ZSkKKyk7CitERUZJTkVfRVZFTlQoY2xhc3Nf
ZHJtX3BsYW5lLCBkcm1fcGxhbmVfY2hlY2tfZmFpbF9kYW1hZ2VfY2xpcCwKKwlUUF9QUk9UTyh1
bnNpZ25lZCBpbnQgZXZlbnRfY2xhc3MsIGNvbnN0IHN0cnVjdCBkcm1fcGxhbmVfc3RhdGUgKnN0
YXRlKSwKKwlUUF9BUkdTKGV2ZW50X2NsYXNzLCBzdGF0ZSkKKyk7CitERUZJTkVfRVZFTlQoY2xh
c3NfZHJtX3BsYW5lLCBkcm1fcGxhbmVfY2hlY2tfZmFpbF9zd2l0Y2hfb2xkLAorCVRQX1BST1RP
KHVuc2lnbmVkIGludCBldmVudF9jbGFzcywgY29uc3Qgc3RydWN0IGRybV9wbGFuZV9zdGF0ZSAq
c3RhdGUpLAorCVRQX0FSR1MoZXZlbnRfY2xhc3MsIHN0YXRlKQorKTsKK0RFRklORV9FVkVOVChj
bGFzc19kcm1fcGxhbmUsIGRybV9wbGFuZV9jaGVja19mYWlsX3N3aXRjaF9uZXcsCisJVFBfUFJP
VE8odW5zaWduZWQgaW50IGV2ZW50X2NsYXNzLCBjb25zdCBzdHJ1Y3QgZHJtX3BsYW5lX3N0YXRl
ICpzdGF0ZSksCisJVFBfQVJHUyhldmVudF9jbGFzcywgc3RhdGUpCispOworREVGSU5FX0VWRU5U
KGNsYXNzX2RybV9wbGFuZSwgZHJtX3BsYW5lX2NoZWNrX2ZhaWxlZCwKKwlUUF9QUk9UTyh1bnNp
Z25lZCBpbnQgZXZlbnRfY2xhc3MsIGNvbnN0IHN0cnVjdCBkcm1fcGxhbmVfc3RhdGUgKnN0YXRl
KSwKKwlUUF9BUkdTKGV2ZW50X2NsYXNzLCBzdGF0ZSkKKyk7CitERUZJTkVfRVZFTlQoY2xhc3Nf
ZHJtX3BsYW5lLCBkcm1fcGxhbmVfY2hlY2tfcGFzc2VkLAorCVRQX1BST1RPKHVuc2lnbmVkIGlu
dCBldmVudF9jbGFzcywgY29uc3Qgc3RydWN0IGRybV9wbGFuZV9zdGF0ZSAqc3RhdGUpLAorCVRQ
X0FSR1MoZXZlbnRfY2xhc3MsIHN0YXRlKQorKTsKKwogI2VuZGlmIC8qIF9EUk1fVFJBQ0VfSF8g
Ki8KIAogLyogVGhpcyBwYXJ0IG11c3QgYmUgb3V0c2lkZSBwcm90ZWN0aW9uICovCi0tIApTZWFu
IFBhdWwsIFNvZnR3YXJlIEVuZ2luZWVyLCBHb29nbGUgLyBDaHJvbWl1bSBPUwoKX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcg
bGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRl
c2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
