Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id ACC3E10FFD6
	for <lists+dri-devel@lfdr.de>; Tue,  3 Dec 2019 15:15:29 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 90FB36E5DB;
	Tue,  3 Dec 2019 14:15:26 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from bhuna.collabora.co.uk (bhuna.collabora.co.uk
 [IPv6:2a00:1098:0:82:1000:25:2eeb:e3e3])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7A2206E5DB
 for <dri-devel@lists.freedesktop.org>; Tue,  3 Dec 2019 14:15:25 +0000 (UTC)
Received: from localhost.localdomain (unknown
 [IPv6:2a01:e0a:2c:6930:5cf4:84a1:2763:fe0d])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
 (No client certificate requested) (Authenticated sender: bbrezillon)
 by bhuna.collabora.co.uk (Postfix) with ESMTPSA id 81212292137;
 Tue,  3 Dec 2019 14:15:23 +0000 (GMT)
From: Boris Brezillon <boris.brezillon@collabora.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH v4 01/11] drm/bridge: Rename bridge helpers targeting a bridge
 chain
Date: Tue,  3 Dec 2019 15:15:05 +0100
Message-Id: <20191203141515.3597631-2-boris.brezillon@collabora.com>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20191203141515.3597631-1-boris.brezillon@collabora.com>
References: <20191203141515.3597631-1-boris.brezillon@collabora.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Mark Rutland <mark.rutland@arm.com>,
 Neil Armstrong <narmstrong@baylibre.com>,
 Thierry Reding <thierry.reding@gmail.com>,
 Laurent Pinchart <laurent.pinchart@ideasonboard.com>, kernel@collabora.com,
 Sam Ravnborg <sam@ravnborg.org>,
 Nikita Yushchenko <nikita.yoush@cogentembedded.com>,
 Andrey Smirnov <andrew.smirnov@gmail.com>,
 Kyungmin Park <kyungmin.park@samsung.com>, Chris Healy <cphealy@gmail.com>,
 devicetree@vger.kernel.org, Jonas Karlman <jonas@kwiboo.se>,
 Rob Herring <robh+dt@kernel.org>, Jernej Skrabec <jernej.skrabec@siol.net>,
 Seung-Woo Kim <sw0312.kim@samsung.com>,
 Boris Brezillon <boris.brezillon@collabora.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Q2hhbmdlIHRoZSBwcmVmaXggb2YgYnJpZGdlIGhlbHBlcnMgdGFyZ2V0aW5nIGEgYnJpZGdlIGNo
YWluIGZyb20KZHJtX2JyaWRnZV8gdG8gZHJtX2JyaWRnZV9jaGFpbl8gdG8gYmV0dGVyIHJlZmxl
Y3QgdGhlIGZhY3QgdGhhdAp0aGUgb3BlcmF0aW9uIHdpbGwgaGFwcGVuIG9uIGFsbCBlbGVtZW50
cyBvZiBjaGFpbiwgc3RhcnRpbmcgYXQgdGhlCmJyaWRnZSBwYXNzZWQgaW4gYXJndW1lbnQuCgpT
aWduZWQtb2ZmLWJ5OiBCb3JpcyBCcmV6aWxsb24gPGJvcmlzLmJyZXppbGxvbkBjb2xsYWJvcmEu
Y29tPgpSZXZpZXdlZC1ieTogTmVpbCBBcm1zdHJvbmcgPG5hcm1zdHJvbmdAYmF5bGlicmUuY29t
PgpBY2tlZC1ieTogTGF1cmVudCBQaW5jaGFydCA8bGF1cmVudC5waW5jaGFydEBpZGVhc29uYm9h
cmQuY29tPgotLS0KQ2hhbmdlcyBpbiB2NDoKKiBBZGQgQS1icy9SLWJzCgpDaGFuZ2VzIGluIHYz
OgoqIE5vbmUKCkNoYW5nZXMgaW4gdjI6CiogUGFzcyB0ZSBicmlkZ2UsIG5vdCB0aGUgZW5jb2Rl
ciwgc28gd2UgY2FuIGxhdGVyIGFjdCBvbiBhIHN1Yi1jaGFpbgogIGluc3RlYWQgb2YgdGhlIHdo
b2xlIGNoYWluCi0tLQogZHJpdmVycy9ncHUvZHJtL2RybV9hdG9taWNfaGVscGVyLmMgICAgIHwg
IDE5ICsrLS0KIGRyaXZlcnMvZ3B1L2RybS9kcm1fYnJpZGdlLmMgICAgICAgICAgICB8IDEyNSAr
KysrKysrKysrKystLS0tLS0tLS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9kcm1fcHJvYmVfaGVscGVy
LmMgICAgICB8ICAgMiArLQogZHJpdmVycy9ncHUvZHJtL2V4eW5vcy9leHlub3NfZHJtX2RzaS5j
IHwgICA4ICstCiBkcml2ZXJzL2dwdS9kcm0vbWVkaWF0ZWsvbXRrX2hkbWkuYyAgICAgfCAgIDQg
Ky0KIGRyaXZlcnMvZ3B1L2RybS92YzQvdmM0X2RzaS5jICAgICAgICAgICB8ICAgOCArLQogaW5j
bHVkZS9kcm0vZHJtX2JyaWRnZS5oICAgICAgICAgICAgICAgIHwgIDY0ICsrKysrKy0tLS0tLQog
NyBmaWxlcyBjaGFuZ2VkLCAxMjAgaW5zZXJ0aW9ucygrKSwgMTEwIGRlbGV0aW9ucygtKQoKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fYXRvbWljX2hlbHBlci5jIGIvZHJpdmVycy9n
cHUvZHJtL2RybV9hdG9taWNfaGVscGVyLmMKaW5kZXggNTg3MDUyNzUxYjQ4Li5jZjY3OGJlNThm
YTQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fYXRvbWljX2hlbHBlci5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9kcm1fYXRvbWljX2hlbHBlci5jCkBAIC00MzUsOCArNDM1LDkgQEAg
bW9kZV9maXh1cChzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqc3RhdGUpCiAJCWVuY29kZXIgPSBu
ZXdfY29ubl9zdGF0ZS0+YmVzdF9lbmNvZGVyOwogCQlmdW5jcyA9IGVuY29kZXItPmhlbHBlcl9w
cml2YXRlOwogCi0JCXJldCA9IGRybV9icmlkZ2VfbW9kZV9maXh1cChlbmNvZGVyLT5icmlkZ2Us
ICZuZXdfY3J0Y19zdGF0ZS0+bW9kZSwKLQkJCQkmbmV3X2NydGNfc3RhdGUtPmFkanVzdGVkX21v
ZGUpOworCQlyZXQgPSBkcm1fYnJpZGdlX2NoYWluX21vZGVfZml4dXAoZW5jb2Rlci0+YnJpZGdl
LAorCQkJCQkmbmV3X2NydGNfc3RhdGUtPm1vZGUsCisJCQkJCSZuZXdfY3J0Y19zdGF0ZS0+YWRq
dXN0ZWRfbW9kZSk7CiAJCWlmICghcmV0KSB7CiAJCQlEUk1fREVCVUdfQVRPTUlDKCJCcmlkZ2Ug
Zml4dXAgZmFpbGVkXG4iKTsKIAkJCXJldHVybiAtRUlOVkFMOwpAQCAtNTAxLDcgKzUwMiw3IEBA
IHN0YXRpYyBlbnVtIGRybV9tb2RlX3N0YXR1cyBtb2RlX3ZhbGlkX3BhdGgoc3RydWN0IGRybV9j
b25uZWN0b3IgKmNvbm5lY3RvciwKIAkJcmV0dXJuIHJldDsKIAl9CiAKLQlyZXQgPSBkcm1fYnJp
ZGdlX21vZGVfdmFsaWQoZW5jb2Rlci0+YnJpZGdlLCBtb2RlKTsKKwlyZXQgPSBkcm1fYnJpZGdl
X2NoYWluX21vZGVfdmFsaWQoZW5jb2Rlci0+YnJpZGdlLCBtb2RlKTsKIAlpZiAocmV0ICE9IE1P
REVfT0spIHsKIAkJRFJNX0RFQlVHX0FUT01JQygiW0JSSURHRV0gbW9kZV92YWxpZCgpIGZhaWxl
ZFxuIik7CiAJCXJldHVybiByZXQ7CkBAIC0xMDIwLDcgKzEwMjEsNyBAQCBkaXNhYmxlX291dHB1
dHMoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKm9sZF9z
dGF0ZSkKIAkJICogRWFjaCBlbmNvZGVyIGhhcyBhdCBtb3N0IG9uZSBjb25uZWN0b3IgKHNpbmNl
IHdlIGFsd2F5cyBzdGVhbAogCQkgKiBpdCBhd2F5KSwgc28gd2Ugd29uJ3QgY2FsbCBkaXNhYmxl
IGhvb2tzIHR3aWNlLgogCQkgKi8KLQkJZHJtX2F0b21pY19icmlkZ2VfZGlzYWJsZShlbmNvZGVy
LT5icmlkZ2UsIG9sZF9zdGF0ZSk7CisJCWRybV9hdG9taWNfYnJpZGdlX2NoYWluX2Rpc2FibGUo
ZW5jb2Rlci0+YnJpZGdlLCBvbGRfc3RhdGUpOwogCiAJCS8qIFJpZ2h0IGZ1bmN0aW9uIGRlcGVu
ZHMgdXBvbiB0YXJnZXQgc3RhdGUuICovCiAJCWlmIChmdW5jcykgewpAQCAtMTAzNCw3ICsxMDM1
LDggQEAgZGlzYWJsZV9vdXRwdXRzKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHN0cnVjdCBkcm1f
YXRvbWljX3N0YXRlICpvbGRfc3RhdGUpCiAJCQkJZnVuY3MtPmRwbXMoZW5jb2RlciwgRFJNX01P
REVfRFBNU19PRkYpOwogCQl9CiAKLQkJZHJtX2F0b21pY19icmlkZ2VfcG9zdF9kaXNhYmxlKGVu
Y29kZXItPmJyaWRnZSwgb2xkX3N0YXRlKTsKKwkJZHJtX2F0b21pY19icmlkZ2VfY2hhaW5fcG9z
dF9kaXNhYmxlKGVuY29kZXItPmJyaWRnZSwKKwkJCQkJCSAgICAgb2xkX3N0YXRlKTsKIAl9CiAK
IAlmb3JfZWFjaF9vbGRuZXdfY3J0Y19pbl9zdGF0ZShvbGRfc3RhdGUsIGNydGMsIG9sZF9jcnRj
X3N0YXRlLCBuZXdfY3J0Y19zdGF0ZSwgaSkgewpAQCAtMTIxNSw3ICsxMjE3LDggQEAgY3J0Y19z
ZXRfbW9kZShzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCBzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAq
b2xkX3N0YXRlKQogCQkJZnVuY3MtPm1vZGVfc2V0KGVuY29kZXIsIG1vZGUsIGFkanVzdGVkX21v
ZGUpOwogCQl9CiAKLQkJZHJtX2JyaWRnZV9tb2RlX3NldChlbmNvZGVyLT5icmlkZ2UsIG1vZGUs
IGFkanVzdGVkX21vZGUpOworCQlkcm1fYnJpZGdlX2NoYWluX21vZGVfc2V0KGVuY29kZXItPmJy
aWRnZSwgbW9kZSwKKwkJCQkJICBhZGp1c3RlZF9tb2RlKTsKIAl9CiB9CiAKQEAgLTEzMzIsNyAr
MTMzNSw3IEBAIHZvaWQgZHJtX2F0b21pY19oZWxwZXJfY29tbWl0X21vZGVzZXRfZW5hYmxlcyhz
dHJ1Y3QgZHJtX2RldmljZSAqZGV2LAogCQkgKiBFYWNoIGVuY29kZXIgaGFzIGF0IG1vc3Qgb25l
IGNvbm5lY3RvciAoc2luY2Ugd2UgYWx3YXlzIHN0ZWFsCiAJCSAqIGl0IGF3YXkpLCBzbyB3ZSB3
b24ndCBjYWxsIGVuYWJsZSBob29rcyB0d2ljZS4KIAkJICovCi0JCWRybV9hdG9taWNfYnJpZGdl
X3ByZV9lbmFibGUoZW5jb2Rlci0+YnJpZGdlLCBvbGRfc3RhdGUpOworCQlkcm1fYXRvbWljX2Jy
aWRnZV9jaGFpbl9wcmVfZW5hYmxlKGVuY29kZXItPmJyaWRnZSwgb2xkX3N0YXRlKTsKIAogCQlp
ZiAoZnVuY3MpIHsKIAkJCWlmIChmdW5jcy0+YXRvbWljX2VuYWJsZSkKQEAgLTEzNDMsNyArMTM0
Niw3IEBAIHZvaWQgZHJtX2F0b21pY19oZWxwZXJfY29tbWl0X21vZGVzZXRfZW5hYmxlcyhzdHJ1
Y3QgZHJtX2RldmljZSAqZGV2LAogCQkJCWZ1bmNzLT5jb21taXQoZW5jb2Rlcik7CiAJCX0KIAot
CQlkcm1fYXRvbWljX2JyaWRnZV9lbmFibGUoZW5jb2Rlci0+YnJpZGdlLCBvbGRfc3RhdGUpOwor
CQlkcm1fYXRvbWljX2JyaWRnZV9jaGFpbl9lbmFibGUoZW5jb2Rlci0+YnJpZGdlLCBvbGRfc3Rh
dGUpOwogCX0KIAogCWRybV9hdG9taWNfaGVscGVyX2NvbW1pdF93cml0ZWJhY2tzKGRldiwgb2xk
X3N0YXRlKTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fYnJpZGdlLmMgYi9kcml2
ZXJzL2dwdS9kcm0vZHJtX2JyaWRnZS5jCmluZGV4IGNiYTUzN2M5OWU0My4uNTRjODc0NDkzYzU3
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vZHJtX2JyaWRnZS5jCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS9kcm1fYnJpZGdlLmMKQEAgLTE3Miw4ICsxNzIsOCBAQCB2b2lkIGRybV9icmlkZ2Vf
ZGV0YWNoKHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UpCiAgKi8KIAogLyoqCi0gKiBkcm1fYnJp
ZGdlX21vZGVfZml4dXAgLSBmaXh1cCBwcm9wb3NlZCBtb2RlIGZvciBhbGwgYnJpZGdlcyBpbiB0
aGUKLSAqCQkJICAgZW5jb2RlciBjaGFpbgorICogZHJtX2JyaWRnZV9jaGFpbl9tb2RlX2ZpeHVw
IC0gZml4dXAgcHJvcG9zZWQgbW9kZSBmb3IgYWxsIGJyaWRnZXMgaW4gdGhlCisgKgkJCQkgZW5j
b2RlciBjaGFpbgogICogQGJyaWRnZTogYnJpZGdlIGNvbnRyb2wgc3RydWN0dXJlCiAgKiBAbW9k
ZTogZGVzaXJlZCBtb2RlIHRvIGJlIHNldCBmb3IgdGhlIGJyaWRnZQogICogQGFkanVzdGVkX21v
ZGU6IHVwZGF0ZWQgbW9kZSB0aGF0IHdvcmtzIGZvciB0aGlzIGJyaWRnZQpAQCAtMTg2LDkgKzE4
Niw5IEBAIHZvaWQgZHJtX2JyaWRnZV9kZXRhY2goc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSkK
ICAqIFJFVFVSTlM6CiAgKiB0cnVlIG9uIHN1Y2Nlc3MsIGZhbHNlIG9uIGZhaWx1cmUKICAqLwot
Ym9vbCBkcm1fYnJpZGdlX21vZGVfZml4dXAoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSwKLQkJ
CWNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlLAotCQkJc3RydWN0IGRybV9kaXNw
bGF5X21vZGUgKmFkanVzdGVkX21vZGUpCitib29sIGRybV9icmlkZ2VfY2hhaW5fbW9kZV9maXh1
cChzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlLAorCQkJCSBjb25zdCBzdHJ1Y3QgZHJtX2Rpc3Bs
YXlfbW9kZSAqbW9kZSwKKwkJCQkgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKmFkanVzdGVkX21v
ZGUpCiB7CiAJYm9vbCByZXQgPSB0cnVlOwogCkBAIC0xOTgsMTUgKzE5OCwxNiBAQCBib29sIGRy
bV9icmlkZ2VfbW9kZV9maXh1cChzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlLAogCWlmIChicmlk
Z2UtPmZ1bmNzLT5tb2RlX2ZpeHVwKQogCQlyZXQgPSBicmlkZ2UtPmZ1bmNzLT5tb2RlX2ZpeHVw
KGJyaWRnZSwgbW9kZSwgYWRqdXN0ZWRfbW9kZSk7CiAKLQlyZXQgPSByZXQgJiYgZHJtX2JyaWRn
ZV9tb2RlX2ZpeHVwKGJyaWRnZS0+bmV4dCwgbW9kZSwgYWRqdXN0ZWRfbW9kZSk7CisJcmV0ID0g
cmV0ICYmIGRybV9icmlkZ2VfY2hhaW5fbW9kZV9maXh1cChicmlkZ2UtPm5leHQsIG1vZGUsCisJ
CQkJCQkgYWRqdXN0ZWRfbW9kZSk7CiAKIAlyZXR1cm4gcmV0OwogfQotRVhQT1JUX1NZTUJPTChk
cm1fYnJpZGdlX21vZGVfZml4dXApOworRVhQT1JUX1NZTUJPTChkcm1fYnJpZGdlX2NoYWluX21v
ZGVfZml4dXApOwogCiAvKioKLSAqIGRybV9icmlkZ2VfbW9kZV92YWxpZCAtIHZhbGlkYXRlIHRo
ZSBtb2RlIGFnYWluc3QgYWxsIGJyaWRnZXMgaW4gdGhlCi0gKiAJCQkgICBlbmNvZGVyIGNoYWlu
LgorICogZHJtX2JyaWRnZV9jaGFpbl9tb2RlX3ZhbGlkIC0gdmFsaWRhdGUgdGhlIG1vZGUgYWdh
aW5zdCBhbGwgYnJpZGdlcyBpbiB0aGUKKyAqCQkJCSBlbmNvZGVyIGNoYWluLgogICogQGJyaWRn
ZTogYnJpZGdlIGNvbnRyb2wgc3RydWN0dXJlCiAgKiBAbW9kZTogZGVzaXJlZCBtb2RlIHRvIGJl
IHZhbGlkYXRlZAogICoKQEAgLTIxOSw4ICsyMjAsOSBAQCBFWFBPUlRfU1lNQk9MKGRybV9icmlk
Z2VfbW9kZV9maXh1cCk7CiAgKiBSRVRVUk5TOgogICogTU9ERV9PSyBvbiBzdWNjZXNzLCBkcm1f
bW9kZV9zdGF0dXMgRW51bSBlcnJvciBjb2RlIG9uIGZhaWx1cmUKICAqLwotZW51bSBkcm1fbW9k
ZV9zdGF0dXMgZHJtX2JyaWRnZV9tb2RlX3ZhbGlkKHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2Us
Ci0JCQkJCSAgIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlKQorZW51bSBkcm1f
bW9kZV9zdGF0dXMKK2RybV9icmlkZ2VfY2hhaW5fbW9kZV92YWxpZChzdHJ1Y3QgZHJtX2JyaWRn
ZSAqYnJpZGdlLAorCQkJICAgIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlKQog
ewogCWVudW0gZHJtX21vZGVfc3RhdHVzIHJldCA9IE1PREVfT0s7CiAKQEAgLTIzMywxMiArMjM1
LDEyIEBAIGVudW0gZHJtX21vZGVfc3RhdHVzIGRybV9icmlkZ2VfbW9kZV92YWxpZChzdHJ1Y3Qg
ZHJtX2JyaWRnZSAqYnJpZGdlLAogCWlmIChyZXQgIT0gTU9ERV9PSykKIAkJcmV0dXJuIHJldDsK
IAotCXJldHVybiBkcm1fYnJpZGdlX21vZGVfdmFsaWQoYnJpZGdlLT5uZXh0LCBtb2RlKTsKKwly
ZXR1cm4gZHJtX2JyaWRnZV9jaGFpbl9tb2RlX3ZhbGlkKGJyaWRnZS0+bmV4dCwgbW9kZSk7CiB9
Ci1FWFBPUlRfU1lNQk9MKGRybV9icmlkZ2VfbW9kZV92YWxpZCk7CitFWFBPUlRfU1lNQk9MKGRy
bV9icmlkZ2VfY2hhaW5fbW9kZV92YWxpZCk7CiAKIC8qKgotICogZHJtX2JyaWRnZV9kaXNhYmxl
IC0gZGlzYWJsZXMgYWxsIGJyaWRnZXMgaW4gdGhlIGVuY29kZXIgY2hhaW4KKyAqIGRybV9icmlk
Z2VfY2hhaW5fZGlzYWJsZSAtIGRpc2FibGVzIGFsbCBicmlkZ2VzIGluIHRoZSBlbmNvZGVyIGNo
YWluCiAgKiBAYnJpZGdlOiBicmlkZ2UgY29udHJvbCBzdHJ1Y3R1cmUKICAqCiAgKiBDYWxscyAm
ZHJtX2JyaWRnZV9mdW5jcy5kaXNhYmxlIG9wIGZvciBhbGwgdGhlIGJyaWRnZXMgaW4gdGhlIGVu
Y29kZXIKQEAgLTI0NywyMCArMjQ5LDIxIEBAIEVYUE9SVF9TWU1CT0woZHJtX2JyaWRnZV9tb2Rl
X3ZhbGlkKTsKICAqCiAgKiBOb3RlOiB0aGUgYnJpZGdlIHBhc3NlZCBzaG91bGQgYmUgdGhlIG9u
ZSBjbG9zZXN0IHRvIHRoZSBlbmNvZGVyCiAgKi8KLXZvaWQgZHJtX2JyaWRnZV9kaXNhYmxlKHN0
cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UpCit2b2lkIGRybV9icmlkZ2VfY2hhaW5fZGlzYWJsZShz
dHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlKQogewogCWlmICghYnJpZGdlKQogCQlyZXR1cm47CiAK
LQlkcm1fYnJpZGdlX2Rpc2FibGUoYnJpZGdlLT5uZXh0KTsKKwlkcm1fYnJpZGdlX2NoYWluX2Rp
c2FibGUoYnJpZGdlLT5uZXh0KTsKIAogCWlmIChicmlkZ2UtPmZ1bmNzLT5kaXNhYmxlKQogCQli
cmlkZ2UtPmZ1bmNzLT5kaXNhYmxlKGJyaWRnZSk7CiB9Ci1FWFBPUlRfU1lNQk9MKGRybV9icmlk
Z2VfZGlzYWJsZSk7CitFWFBPUlRfU1lNQk9MKGRybV9icmlkZ2VfY2hhaW5fZGlzYWJsZSk7CiAK
IC8qKgotICogZHJtX2JyaWRnZV9wb3N0X2Rpc2FibGUgLSBjbGVhbnMgdXAgYWZ0ZXIgZGlzYWJs
aW5nIGFsbCBicmlkZ2VzIGluIHRoZSBlbmNvZGVyIGNoYWluCisgKiBkcm1fYnJpZGdlX2NoYWlu
X3Bvc3RfZGlzYWJsZSAtIGNsZWFucyB1cCBhZnRlciBkaXNhYmxpbmcgYWxsIGJyaWRnZXMgaW4g
dGhlCisgKgkJCQkgICBlbmNvZGVyIGNoYWluCiAgKiBAYnJpZGdlOiBicmlkZ2UgY29udHJvbCBz
dHJ1Y3R1cmUKICAqCiAgKiBDYWxscyAmZHJtX2JyaWRnZV9mdW5jcy5wb3N0X2Rpc2FibGUgb3Ag
Zm9yIGFsbCB0aGUgYnJpZGdlcyBpbiB0aGUKQEAgLTI2OSw3ICsyNzIsNyBAQCBFWFBPUlRfU1lN
Qk9MKGRybV9icmlkZ2VfZGlzYWJsZSk7CiAgKgogICogTm90ZTogdGhlIGJyaWRnZSBwYXNzZWQg
c2hvdWxkIGJlIHRoZSBvbmUgY2xvc2VzdCB0byB0aGUgZW5jb2RlcgogICovCi12b2lkIGRybV9i
cmlkZ2VfcG9zdF9kaXNhYmxlKHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UpCit2b2lkIGRybV9i
cmlkZ2VfY2hhaW5fcG9zdF9kaXNhYmxlKHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UpCiB7CiAJ
aWYgKCFicmlkZ2UpCiAJCXJldHVybjsKQEAgLTI3NywyNSArMjgwLDI1IEBAIHZvaWQgZHJtX2Jy
aWRnZV9wb3N0X2Rpc2FibGUoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSkKIAlpZiAoYnJpZGdl
LT5mdW5jcy0+cG9zdF9kaXNhYmxlKQogCQlicmlkZ2UtPmZ1bmNzLT5wb3N0X2Rpc2FibGUoYnJp
ZGdlKTsKIAotCWRybV9icmlkZ2VfcG9zdF9kaXNhYmxlKGJyaWRnZS0+bmV4dCk7CisJZHJtX2Jy
aWRnZV9jaGFpbl9wb3N0X2Rpc2FibGUoYnJpZGdlLT5uZXh0KTsKIH0KLUVYUE9SVF9TWU1CT0wo
ZHJtX2JyaWRnZV9wb3N0X2Rpc2FibGUpOworRVhQT1JUX1NZTUJPTChkcm1fYnJpZGdlX2NoYWlu
X3Bvc3RfZGlzYWJsZSk7CiAKIC8qKgotICogZHJtX2JyaWRnZV9tb2RlX3NldCAtIHNldCBwcm9w
b3NlZCBtb2RlIGZvciBhbGwgYnJpZGdlcyBpbiB0aGUKLSAqCQkJIGVuY29kZXIgY2hhaW4KKyAq
IGRybV9icmlkZ2VfY2hhaW5fbW9kZV9zZXQgLSBzZXQgcHJvcG9zZWQgbW9kZSBmb3IgYWxsIGJy
aWRnZXMgaW4gdGhlCisgKgkJCSAgICAgICBlbmNvZGVyIGNoYWluCiAgKiBAYnJpZGdlOiBicmlk
Z2UgY29udHJvbCBzdHJ1Y3R1cmUKLSAqIEBtb2RlOiBkZXNpcmVkIG1vZGUgdG8gYmUgc2V0IGZv
ciB0aGUgYnJpZGdlCi0gKiBAYWRqdXN0ZWRfbW9kZTogdXBkYXRlZCBtb2RlIHRoYXQgd29ya3Mg
Zm9yIHRoaXMgYnJpZGdlCisgKiBAbW9kZTogZGVzaXJlZCBtb2RlIHRvIGJlIHNldCBmb3IgdGhl
IGVuY29kZXIgY2hhaW4KKyAqIEBhZGp1c3RlZF9tb2RlOiB1cGRhdGVkIG1vZGUgdGhhdCB3b3Jr
cyBmb3IgdGhpcyBlbmNvZGVyIGNoYWluCiAgKgogICogQ2FsbHMgJmRybV9icmlkZ2VfZnVuY3Mu
bW9kZV9zZXQgb3AgZm9yIGFsbCB0aGUgYnJpZGdlcyBpbiB0aGUKICAqIGVuY29kZXIgY2hhaW4s
IHN0YXJ0aW5nIGZyb20gdGhlIGZpcnN0IGJyaWRnZSB0byB0aGUgbGFzdC4KICAqCiAgKiBOb3Rl
OiB0aGUgYnJpZGdlIHBhc3NlZCBzaG91bGQgYmUgdGhlIG9uZSBjbG9zZXN0IHRvIHRoZSBlbmNv
ZGVyCiAgKi8KLXZvaWQgZHJtX2JyaWRnZV9tb2RlX3NldChzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJp
ZGdlLAotCQkJIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlLAotCQkJIGNvbnN0
IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICphZGp1c3RlZF9tb2RlKQordm9pZCBkcm1fYnJpZGdl
X2NoYWluX21vZGVfc2V0KHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UsCisJCQkgICAgICAgY29u
c3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGUsCisJCQkgICAgICAgY29uc3Qgc3RydWN0
IGRybV9kaXNwbGF5X21vZGUgKmFkanVzdGVkX21vZGUpCiB7CiAJaWYgKCFicmlkZ2UpCiAJCXJl
dHVybjsKQEAgLTMwMywxMyArMzA2LDEzIEBAIHZvaWQgZHJtX2JyaWRnZV9tb2RlX3NldChzdHJ1
Y3QgZHJtX2JyaWRnZSAqYnJpZGdlLAogCWlmIChicmlkZ2UtPmZ1bmNzLT5tb2RlX3NldCkKIAkJ
YnJpZGdlLT5mdW5jcy0+bW9kZV9zZXQoYnJpZGdlLCBtb2RlLCBhZGp1c3RlZF9tb2RlKTsKIAot
CWRybV9icmlkZ2VfbW9kZV9zZXQoYnJpZGdlLT5uZXh0LCBtb2RlLCBhZGp1c3RlZF9tb2RlKTsK
Kwlkcm1fYnJpZGdlX2NoYWluX21vZGVfc2V0KGJyaWRnZS0+bmV4dCwgbW9kZSwgYWRqdXN0ZWRf
bW9kZSk7CiB9Ci1FWFBPUlRfU1lNQk9MKGRybV9icmlkZ2VfbW9kZV9zZXQpOworRVhQT1JUX1NZ
TUJPTChkcm1fYnJpZGdlX2NoYWluX21vZGVfc2V0KTsKIAogLyoqCi0gKiBkcm1fYnJpZGdlX3By
ZV9lbmFibGUgLSBwcmVwYXJlcyBmb3IgZW5hYmxpbmcgYWxsCi0gKgkJCSAgIGJyaWRnZXMgaW4g
dGhlIGVuY29kZXIgY2hhaW4KKyAqIGRybV9icmlkZ2VfY2hhaW5fcHJlX2VuYWJsZSAtIHByZXBh
cmVzIGZvciBlbmFibGluZyBhbGwgYnJpZGdlcyBpbiB0aGUKKyAqCQkJCSBlbmNvZGVyIGNoYWlu
CiAgKiBAYnJpZGdlOiBicmlkZ2UgY29udHJvbCBzdHJ1Y3R1cmUKICAqCiAgKiBDYWxscyAmZHJt
X2JyaWRnZV9mdW5jcy5wcmVfZW5hYmxlIG9wIGZvciBhbGwgdGhlIGJyaWRnZXMgaW4gdGhlIGVu
Y29kZXIKQEAgLTMxOCwyMCArMzIxLDIwIEBAIEVYUE9SVF9TWU1CT0woZHJtX2JyaWRnZV9tb2Rl
X3NldCk7CiAgKgogICogTm90ZTogdGhlIGJyaWRnZSBwYXNzZWQgc2hvdWxkIGJlIHRoZSBvbmUg
Y2xvc2VzdCB0byB0aGUgZW5jb2RlcgogICovCi12b2lkIGRybV9icmlkZ2VfcHJlX2VuYWJsZShz
dHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlKQordm9pZCBkcm1fYnJpZGdlX2NoYWluX3ByZV9lbmFi
bGUoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSkKIHsKIAlpZiAoIWJyaWRnZSkKIAkJcmV0dXJu
OwogCi0JZHJtX2JyaWRnZV9wcmVfZW5hYmxlKGJyaWRnZS0+bmV4dCk7CisJZHJtX2JyaWRnZV9j
aGFpbl9wcmVfZW5hYmxlKGJyaWRnZS0+bmV4dCk7CiAKIAlpZiAoYnJpZGdlLT5mdW5jcy0+cHJl
X2VuYWJsZSkKIAkJYnJpZGdlLT5mdW5jcy0+cHJlX2VuYWJsZShicmlkZ2UpOwogfQotRVhQT1JU
X1NZTUJPTChkcm1fYnJpZGdlX3ByZV9lbmFibGUpOworRVhQT1JUX1NZTUJPTChkcm1fYnJpZGdl
X2NoYWluX3ByZV9lbmFibGUpOwogCiAvKioKLSAqIGRybV9icmlkZ2VfZW5hYmxlIC0gZW5hYmxl
cyBhbGwgYnJpZGdlcyBpbiB0aGUgZW5jb2RlciBjaGFpbgorICogZHJtX2JyaWRnZV9jaGFpbl9l
bmFibGUgLSBlbmFibGVzIGFsbCBicmlkZ2VzIGluIHRoZSBlbmNvZGVyIGNoYWluCiAgKiBAYnJp
ZGdlOiBicmlkZ2UgY29udHJvbCBzdHJ1Y3R1cmUKICAqCiAgKiBDYWxscyAmZHJtX2JyaWRnZV9m
dW5jcy5lbmFibGUgb3AgZm9yIGFsbCB0aGUgYnJpZGdlcyBpbiB0aGUgZW5jb2RlcgpAQCAtMzQw
LDcgKzM0Myw3IEBAIEVYUE9SVF9TWU1CT0woZHJtX2JyaWRnZV9wcmVfZW5hYmxlKTsKICAqCiAg
KiBOb3RlIHRoYXQgdGhlIGJyaWRnZSBwYXNzZWQgc2hvdWxkIGJlIHRoZSBvbmUgY2xvc2VzdCB0
byB0aGUgZW5jb2RlcgogICovCi12b2lkIGRybV9icmlkZ2VfZW5hYmxlKHN0cnVjdCBkcm1fYnJp
ZGdlICpicmlkZ2UpCit2b2lkIGRybV9icmlkZ2VfY2hhaW5fZW5hYmxlKHN0cnVjdCBkcm1fYnJp
ZGdlICpicmlkZ2UpCiB7CiAJaWYgKCFicmlkZ2UpCiAJCXJldHVybjsKQEAgLTM0OCwxMiArMzUx
LDEyIEBAIHZvaWQgZHJtX2JyaWRnZV9lbmFibGUoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSkK
IAlpZiAoYnJpZGdlLT5mdW5jcy0+ZW5hYmxlKQogCQlicmlkZ2UtPmZ1bmNzLT5lbmFibGUoYnJp
ZGdlKTsKIAotCWRybV9icmlkZ2VfZW5hYmxlKGJyaWRnZS0+bmV4dCk7CisJZHJtX2JyaWRnZV9j
aGFpbl9lbmFibGUoYnJpZGdlLT5uZXh0KTsKIH0KLUVYUE9SVF9TWU1CT0woZHJtX2JyaWRnZV9l
bmFibGUpOworRVhQT1JUX1NZTUJPTChkcm1fYnJpZGdlX2NoYWluX2VuYWJsZSk7CiAKIC8qKgot
ICogZHJtX2F0b21pY19icmlkZ2VfZGlzYWJsZSAtIGRpc2FibGVzIGFsbCBicmlkZ2VzIGluIHRo
ZSBlbmNvZGVyIGNoYWluCisgKiBkcm1fYXRvbWljX2JyaWRnZV9jaGFpbl9kaXNhYmxlIC0gZGlz
YWJsZXMgYWxsIGJyaWRnZXMgaW4gdGhlIGVuY29kZXIgY2hhaW4KICAqIEBicmlkZ2U6IGJyaWRn
ZSBjb250cm9sIHN0cnVjdHVyZQogICogQHN0YXRlOiBhdG9taWMgc3RhdGUgYmVpbmcgY29tbWl0
dGVkCiAgKgpAQCAtMzY0LDI0ICszNjcsMjQgQEAgRVhQT1JUX1NZTUJPTChkcm1fYnJpZGdlX2Vu
YWJsZSk7CiAgKgogICogTm90ZTogdGhlIGJyaWRnZSBwYXNzZWQgc2hvdWxkIGJlIHRoZSBvbmUg
Y2xvc2VzdCB0byB0aGUgZW5jb2RlcgogICovCi12b2lkIGRybV9hdG9taWNfYnJpZGdlX2Rpc2Fi
bGUoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSwKLQkJCSAgICAgICBzdHJ1Y3QgZHJtX2F0b21p
Y19zdGF0ZSAqc3RhdGUpCit2b2lkIGRybV9hdG9taWNfYnJpZGdlX2NoYWluX2Rpc2FibGUoc3Ry
dWN0IGRybV9icmlkZ2UgKmJyaWRnZSwKKwkJCQkgICAgIHN0cnVjdCBkcm1fYXRvbWljX3N0YXRl
ICpzdGF0ZSkKIHsKIAlpZiAoIWJyaWRnZSkKIAkJcmV0dXJuOwogCi0JZHJtX2F0b21pY19icmlk
Z2VfZGlzYWJsZShicmlkZ2UtPm5leHQsIHN0YXRlKTsKKwlkcm1fYXRvbWljX2JyaWRnZV9jaGFp
bl9kaXNhYmxlKGJyaWRnZS0+bmV4dCwgc3RhdGUpOwogCiAJaWYgKGJyaWRnZS0+ZnVuY3MtPmF0
b21pY19kaXNhYmxlKQogCQlicmlkZ2UtPmZ1bmNzLT5hdG9taWNfZGlzYWJsZShicmlkZ2UsIHN0
YXRlKTsKIAllbHNlIGlmIChicmlkZ2UtPmZ1bmNzLT5kaXNhYmxlKQogCQlicmlkZ2UtPmZ1bmNz
LT5kaXNhYmxlKGJyaWRnZSk7CiB9Ci1FWFBPUlRfU1lNQk9MKGRybV9hdG9taWNfYnJpZGdlX2Rp
c2FibGUpOworRVhQT1JUX1NZTUJPTChkcm1fYXRvbWljX2JyaWRnZV9jaGFpbl9kaXNhYmxlKTsK
IAogLyoqCi0gKiBkcm1fYXRvbWljX2JyaWRnZV9wb3N0X2Rpc2FibGUgLSBjbGVhbnMgdXAgYWZ0
ZXIgZGlzYWJsaW5nIGFsbCBicmlkZ2VzIGluIHRoZQotICoJCQkJICAgIGVuY29kZXIgY2hhaW4K
KyAqIGRybV9hdG9taWNfYnJpZGdlX2NoYWluX3Bvc3RfZGlzYWJsZSAtIGNsZWFucyB1cCBhZnRl
ciBkaXNhYmxpbmcgYWxsIGJyaWRnZXMKKyAqCQkJCQkgIGluIHRoZSBlbmNvZGVyIGNoYWluCiAg
KiBAYnJpZGdlOiBicmlkZ2UgY29udHJvbCBzdHJ1Y3R1cmUKICAqIEBzdGF0ZTogYXRvbWljIHN0
YXRlIGJlaW5nIGNvbW1pdHRlZAogICoKQEAgLTM5Miw4ICszOTUsOCBAQCBFWFBPUlRfU1lNQk9M
KGRybV9hdG9taWNfYnJpZGdlX2Rpc2FibGUpOwogICoKICAqIE5vdGU6IHRoZSBicmlkZ2UgcGFz
c2VkIHNob3VsZCBiZSB0aGUgb25lIGNsb3Nlc3QgdG8gdGhlIGVuY29kZXIKICAqLwotdm9pZCBk
cm1fYXRvbWljX2JyaWRnZV9wb3N0X2Rpc2FibGUoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSwK
LQkJCQkgICAgc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnN0YXRlKQordm9pZCBkcm1fYXRvbWlj
X2JyaWRnZV9jaGFpbl9wb3N0X2Rpc2FibGUoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSwKKwkJ
CQkJICBzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqc3RhdGUpCiB7CiAJaWYgKCFicmlkZ2UpCiAJ
CXJldHVybjsKQEAgLTQwMywxMyArNDA2LDEzIEBAIHZvaWQgZHJtX2F0b21pY19icmlkZ2VfcG9z
dF9kaXNhYmxlKHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UsCiAJZWxzZSBpZiAoYnJpZGdlLT5m
dW5jcy0+cG9zdF9kaXNhYmxlKQogCQlicmlkZ2UtPmZ1bmNzLT5wb3N0X2Rpc2FibGUoYnJpZGdl
KTsKIAotCWRybV9hdG9taWNfYnJpZGdlX3Bvc3RfZGlzYWJsZShicmlkZ2UtPm5leHQsIHN0YXRl
KTsKKwlkcm1fYXRvbWljX2JyaWRnZV9jaGFpbl9wb3N0X2Rpc2FibGUoYnJpZGdlLT5uZXh0LCBz
dGF0ZSk7CiB9Ci1FWFBPUlRfU1lNQk9MKGRybV9hdG9taWNfYnJpZGdlX3Bvc3RfZGlzYWJsZSk7
CitFWFBPUlRfU1lNQk9MKGRybV9hdG9taWNfYnJpZGdlX2NoYWluX3Bvc3RfZGlzYWJsZSk7CiAK
IC8qKgotICogZHJtX2F0b21pY19icmlkZ2VfcHJlX2VuYWJsZSAtIHByZXBhcmVzIGZvciBlbmFi
bGluZyBhbGwgYnJpZGdlcyBpbiB0aGUKLSAqCQkJCSAgZW5jb2RlciBjaGFpbgorICogZHJtX2F0
b21pY19icmlkZ2VfY2hhaW5fcHJlX2VuYWJsZSAtIHByZXBhcmVzIGZvciBlbmFibGluZyBhbGwg
YnJpZGdlcyBpbgorICoJCQkJCXRoZSBlbmNvZGVyIGNoYWluCiAgKiBAYnJpZGdlOiBicmlkZ2Ug
Y29udHJvbCBzdHJ1Y3R1cmUKICAqIEBzdGF0ZTogYXRvbWljIHN0YXRlIGJlaW5nIGNvbW1pdHRl
ZAogICoKQEAgLTQyMCwyMyArNDIzLDIzIEBAIEVYUE9SVF9TWU1CT0woZHJtX2F0b21pY19icmlk
Z2VfcG9zdF9kaXNhYmxlKTsKICAqCiAgKiBOb3RlOiB0aGUgYnJpZGdlIHBhc3NlZCBzaG91bGQg
YmUgdGhlIG9uZSBjbG9zZXN0IHRvIHRoZSBlbmNvZGVyCiAgKi8KLXZvaWQgZHJtX2F0b21pY19i
cmlkZ2VfcHJlX2VuYWJsZShzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlLAotCQkJCSAgc3RydWN0
IGRybV9hdG9taWNfc3RhdGUgKnN0YXRlKQordm9pZCBkcm1fYXRvbWljX2JyaWRnZV9jaGFpbl9w
cmVfZW5hYmxlKHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UsCisJCQkJCXN0cnVjdCBkcm1fYXRv
bWljX3N0YXRlICpzdGF0ZSkKIHsKIAlpZiAoIWJyaWRnZSkKIAkJcmV0dXJuOwogCi0JZHJtX2F0
b21pY19icmlkZ2VfcHJlX2VuYWJsZShicmlkZ2UtPm5leHQsIHN0YXRlKTsKKwlkcm1fYXRvbWlj
X2JyaWRnZV9jaGFpbl9wcmVfZW5hYmxlKGJyaWRnZS0+bmV4dCwgc3RhdGUpOwogCiAJaWYgKGJy
aWRnZS0+ZnVuY3MtPmF0b21pY19wcmVfZW5hYmxlKQogCQlicmlkZ2UtPmZ1bmNzLT5hdG9taWNf
cHJlX2VuYWJsZShicmlkZ2UsIHN0YXRlKTsKIAllbHNlIGlmIChicmlkZ2UtPmZ1bmNzLT5wcmVf
ZW5hYmxlKQogCQlicmlkZ2UtPmZ1bmNzLT5wcmVfZW5hYmxlKGJyaWRnZSk7CiB9Ci1FWFBPUlRf
U1lNQk9MKGRybV9hdG9taWNfYnJpZGdlX3ByZV9lbmFibGUpOworRVhQT1JUX1NZTUJPTChkcm1f
YXRvbWljX2JyaWRnZV9jaGFpbl9wcmVfZW5hYmxlKTsKIAogLyoqCi0gKiBkcm1fYXRvbWljX2Jy
aWRnZV9lbmFibGUgLSBlbmFibGVzIGFsbCBicmlkZ2VzIGluIHRoZSBlbmNvZGVyIGNoYWluCisg
KiBkcm1fYXRvbWljX2JyaWRnZV9jaGFpbl9lbmFibGUgLSBlbmFibGVzIGFsbCBicmlkZ2VzIGlu
IHRoZSBlbmNvZGVyIGNoYWluCiAgKiBAYnJpZGdlOiBicmlkZ2UgY29udHJvbCBzdHJ1Y3R1cmUK
ICAqIEBzdGF0ZTogYXRvbWljIHN0YXRlIGJlaW5nIGNvbW1pdHRlZAogICoKQEAgLTQ0Nyw4ICs0
NTAsOCBAQCBFWFBPUlRfU1lNQk9MKGRybV9hdG9taWNfYnJpZGdlX3ByZV9lbmFibGUpOwogICoK
ICAqIE5vdGU6IHRoZSBicmlkZ2UgcGFzc2VkIHNob3VsZCBiZSB0aGUgb25lIGNsb3Nlc3QgdG8g
dGhlIGVuY29kZXIKICAqLwotdm9pZCBkcm1fYXRvbWljX2JyaWRnZV9lbmFibGUoc3RydWN0IGRy
bV9icmlkZ2UgKmJyaWRnZSwKLQkJCSAgICAgIHN0cnVjdCBkcm1fYXRvbWljX3N0YXRlICpzdGF0
ZSkKK3ZvaWQgZHJtX2F0b21pY19icmlkZ2VfY2hhaW5fZW5hYmxlKHN0cnVjdCBkcm1fYnJpZGdl
ICpicmlkZ2UsCisJCQkJICAgIHN0cnVjdCBkcm1fYXRvbWljX3N0YXRlICpzdGF0ZSkKIHsKIAlp
ZiAoIWJyaWRnZSkKIAkJcmV0dXJuOwpAQCAtNDU4LDkgKzQ2MSw5IEBAIHZvaWQgZHJtX2F0b21p
Y19icmlkZ2VfZW5hYmxlKHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UsCiAJZWxzZSBpZiAoYnJp
ZGdlLT5mdW5jcy0+ZW5hYmxlKQogCQlicmlkZ2UtPmZ1bmNzLT5lbmFibGUoYnJpZGdlKTsKIAot
CWRybV9hdG9taWNfYnJpZGdlX2VuYWJsZShicmlkZ2UtPm5leHQsIHN0YXRlKTsKKwlkcm1fYXRv
bWljX2JyaWRnZV9jaGFpbl9lbmFibGUoYnJpZGdlLT5uZXh0LCBzdGF0ZSk7CiB9Ci1FWFBPUlRf
U1lNQk9MKGRybV9hdG9taWNfYnJpZGdlX2VuYWJsZSk7CitFWFBPUlRfU1lNQk9MKGRybV9hdG9t
aWNfYnJpZGdlX2NoYWluX2VuYWJsZSk7CiAKICNpZmRlZiBDT05GSUdfT0YKIC8qKgpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2RybV9wcm9iZV9oZWxwZXIuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9kcm1fcHJvYmVfaGVscGVyLmMKaW5kZXggYTdjODdhYmU4OGQwLi5jM2VhNzIyMDY1YzQgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fcHJvYmVfaGVscGVyLmMKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2RybV9wcm9iZV9oZWxwZXIuYwpAQCAtMTEyLDcgKzExMiw3IEBAIGRybV9tb2Rl
X3ZhbGlkYXRlX3BpcGVsaW5lKHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlLAogCQkJY29u
dGludWU7CiAJCX0KIAotCQlyZXQgPSBkcm1fYnJpZGdlX21vZGVfdmFsaWQoZW5jb2Rlci0+YnJp
ZGdlLCBtb2RlKTsKKwkJcmV0ID0gZHJtX2JyaWRnZV9jaGFpbl9tb2RlX3ZhbGlkKGVuY29kZXIt
PmJyaWRnZSwgbW9kZSk7CiAJCWlmIChyZXQgIT0gTU9ERV9PSykgewogCQkJLyogVGhlcmUgaXMg
YWxzbyBubyBwb2ludCBpbiBjb250aW51aW5nIGZvciBjcnRjIGNoZWNrCiAJCQkgKiBoZXJlLiAq
LwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2V4eW5vcy9leHlub3NfZHJtX2RzaS5jIGIv
ZHJpdmVycy9ncHUvZHJtL2V4eW5vcy9leHlub3NfZHJtX2RzaS5jCmluZGV4IGNlYjM3MDg2NGNj
NC4uZDk4NDA5NzcwNGI4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vZXh5bm9zL2V4eW5v
c19kcm1fZHNpLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2V4eW5vcy9leHlub3NfZHJtX2RzaS5j
CkBAIC0xMzkwLDcgKzEzOTAsNyBAQCBzdGF0aWMgdm9pZCBleHlub3NfZHNpX2VuYWJsZShzdHJ1
Y3QgZHJtX2VuY29kZXIgKmVuY29kZXIpCiAJCWlmIChyZXQgPCAwKQogCQkJZ290byBlcnJfcHV0
X3N5bmM7CiAJfSBlbHNlIHsKLQkJZHJtX2JyaWRnZV9wcmVfZW5hYmxlKGRzaS0+b3V0X2JyaWRn
ZSk7CisJCWRybV9icmlkZ2VfY2hhaW5fcHJlX2VuYWJsZShkc2ktPm91dF9icmlkZ2UpOwogCX0K
IAogCWV4eW5vc19kc2lfc2V0X2Rpc3BsYXlfbW9kZShkc2kpOwpAQCAtMTQwMSw3ICsxNDAxLDcg
QEAgc3RhdGljIHZvaWQgZXh5bm9zX2RzaV9lbmFibGUoc3RydWN0IGRybV9lbmNvZGVyICplbmNv
ZGVyKQogCQlpZiAocmV0IDwgMCkKIAkJCWdvdG8gZXJyX2Rpc3BsYXlfZGlzYWJsZTsKIAl9IGVs
c2UgewotCQlkcm1fYnJpZGdlX2VuYWJsZShkc2ktPm91dF9icmlkZ2UpOworCQlkcm1fYnJpZGdl
X2NoYWluX2VuYWJsZShkc2ktPm91dF9icmlkZ2UpOwogCX0KIAogCWRzaS0+c3RhdGUgfD0gRFNJ
TV9TVEFURV9WSURPVVRfQVZBSUxBQkxFOwpAQCAtMTQyNiwxMCArMTQyNiwxMCBAQCBzdGF0aWMg
dm9pZCBleHlub3NfZHNpX2Rpc2FibGUoc3RydWN0IGRybV9lbmNvZGVyICplbmNvZGVyKQogCWRz
aS0+c3RhdGUgJj0gfkRTSU1fU1RBVEVfVklET1VUX0FWQUlMQUJMRTsKIAogCWRybV9wYW5lbF9k
aXNhYmxlKGRzaS0+cGFuZWwpOwotCWRybV9icmlkZ2VfZGlzYWJsZShkc2ktPm91dF9icmlkZ2Up
OworCWRybV9icmlkZ2VfY2hhaW5fZGlzYWJsZShkc2ktPm91dF9icmlkZ2UpOwogCWV4eW5vc19k
c2lfc2V0X2Rpc3BsYXlfZW5hYmxlKGRzaSwgZmFsc2UpOwogCWRybV9wYW5lbF91bnByZXBhcmUo
ZHNpLT5wYW5lbCk7Ci0JZHJtX2JyaWRnZV9wb3N0X2Rpc2FibGUoZHNpLT5vdXRfYnJpZGdlKTsK
Kwlkcm1fYnJpZGdlX2NoYWluX3Bvc3RfZGlzYWJsZShkc2ktPm91dF9icmlkZ2UpOwogCWRzaS0+
c3RhdGUgJj0gfkRTSU1fU1RBVEVfRU5BQkxFRDsKIAlwbV9ydW50aW1lX3B1dF9zeW5jKGRzaS0+
ZGV2KTsKIH0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfaGRtaS5j
IGIvZHJpdmVycy9ncHUvZHJtL21lZGlhdGVrL210a19oZG1pLmMKaW5kZXggZjY4NDk0N2M1MjQz
Li5lZTNhNWU5YzEwYzQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtf
aGRtaS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfaGRtaS5jCkBAIC0xMjQ3
LDggKzEyNDcsOCBAQCBzdGF0aWMgaW50IG10a19oZG1pX2Nvbm5fbW9kZV92YWxpZChzdHJ1Y3Qg
ZHJtX2Nvbm5lY3RvciAqY29ubiwKIAkJc3RydWN0IGRybV9kaXNwbGF5X21vZGUgYWRqdXN0ZWRf
bW9kZTsKIAogCQlkcm1fbW9kZV9jb3B5KCZhZGp1c3RlZF9tb2RlLCBtb2RlKTsKLQkJaWYgKCFk
cm1fYnJpZGdlX21vZGVfZml4dXAoaGRtaS0+YnJpZGdlLm5leHQsIG1vZGUsCi0JCQkJCSAgICZh
ZGp1c3RlZF9tb2RlKSkKKwkJaWYgKCFkcm1fYnJpZGdlX2NoYWluX21vZGVfZml4dXAoaGRtaS0+
YnJpZGdlLm5leHQsIG1vZGUsCisJCQkJCQkgJmFkanVzdGVkX21vZGUpKQogCQkJcmV0dXJuIE1P
REVfQkFEOwogCX0KIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3ZjNC92YzRfZHNpLmMg
Yi9kcml2ZXJzL2dwdS9kcm0vdmM0L3ZjNF9kc2kuYwppbmRleCBjOWJhODNlZDQ5YjkuLmZmODFi
NTRlYTI4MSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3ZjNC92YzRfZHNpLmMKKysrIGIv
ZHJpdmVycy9ncHUvZHJtL3ZjNC92YzRfZHNpLmMKQEAgLTc1Myw5ICs3NTMsOSBAQCBzdGF0aWMg
dm9pZCB2YzRfZHNpX2VuY29kZXJfZGlzYWJsZShzdHJ1Y3QgZHJtX2VuY29kZXIgKmVuY29kZXIp
CiAJc3RydWN0IHZjNF9kc2kgKmRzaSA9IHZjNF9lbmNvZGVyLT5kc2k7CiAJc3RydWN0IGRldmlj
ZSAqZGV2ID0gJmRzaS0+cGRldi0+ZGV2OwogCi0JZHJtX2JyaWRnZV9kaXNhYmxlKGRzaS0+YnJp
ZGdlKTsKKwlkcm1fYnJpZGdlX2NoYWluX2Rpc2FibGUoZHNpLT5icmlkZ2UpOwogCXZjNF9kc2lf
dWxwcyhkc2ksIHRydWUpOwotCWRybV9icmlkZ2VfcG9zdF9kaXNhYmxlKGRzaS0+YnJpZGdlKTsK
Kwlkcm1fYnJpZGdlX2NoYWluX3Bvc3RfZGlzYWJsZShkc2ktPmJyaWRnZSk7CiAKIAljbGtfZGlz
YWJsZV91bnByZXBhcmUoZHNpLT5wbGxfcGh5X2Nsb2NrKTsKIAljbGtfZGlzYWJsZV91bnByZXBh
cmUoZHNpLT5lc2NhcGVfY2xvY2spOwpAQCAtMTA1NSw3ICsxMDU1LDcgQEAgc3RhdGljIHZvaWQg
dmM0X2RzaV9lbmNvZGVyX2VuYWJsZShzdHJ1Y3QgZHJtX2VuY29kZXIgKmVuY29kZXIpCiAKIAl2
YzRfZHNpX3VscHMoZHNpLCBmYWxzZSk7CiAKLQlkcm1fYnJpZGdlX3ByZV9lbmFibGUoZHNpLT5i
cmlkZ2UpOworCWRybV9icmlkZ2VfY2hhaW5fcHJlX2VuYWJsZShkc2ktPmJyaWRnZSk7CiAKIAlp
ZiAoZHNpLT5tb2RlX2ZsYWdzICYgTUlQSV9EU0lfTU9ERV9WSURFTykgewogCQlEU0lfUE9SVF9X
UklURShESVNQMF9DVFJMLApAQCAtMTA3Miw3ICsxMDcyLDcgQEAgc3RhdGljIHZvaWQgdmM0X2Rz
aV9lbmNvZGVyX2VuYWJsZShzdHJ1Y3QgZHJtX2VuY29kZXIgKmVuY29kZXIpCiAJCQkgICAgICAg
RFNJX0RJU1AwX0VOQUJMRSk7CiAJfQogCi0JZHJtX2JyaWRnZV9lbmFibGUoZHNpLT5icmlkZ2Up
OworCWRybV9icmlkZ2VfY2hhaW5fZW5hYmxlKGRzaS0+YnJpZGdlKTsKIAogCWlmIChkZWJ1Z19k
dW1wX3JlZ3MpIHsKIAkJc3RydWN0IGRybV9wcmludGVyIHAgPSBkcm1faW5mb19wcmludGVyKCZk
c2ktPnBkZXYtPmRldik7CmRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS9kcm1fYnJpZGdlLmggYi9p
bmNsdWRlL2RybS9kcm1fYnJpZGdlLmgKaW5kZXggYzBhMjI4NmE4MWU5Li43MjY0MzViYWY0YWQg
MTAwNjQ0Ci0tLSBhL2luY2x1ZGUvZHJtL2RybV9icmlkZ2UuaAorKysgYi9pbmNsdWRlL2RybS9k
cm1fYnJpZGdlLmgKQEAgLTI1NCw5ICsyNTQsMTAgQEAgc3RydWN0IGRybV9icmlkZ2VfZnVuY3Mg
ewogCSAqIHRoZXJlIGlzIG9uZSkgd2hlbiB0aGlzIGNhbGxiYWNrIGlzIGNhbGxlZC4KIAkgKgog
CSAqIE5vdGUgdGhhdCB0aGlzIGZ1bmN0aW9uIHdpbGwgb25seSBiZSBpbnZva2VkIGluIHRoZSBj
b250ZXh0IG9mIGFuCi0JICogYXRvbWljIGNvbW1pdC4gSXQgd2lsbCBub3QgYmUgaW52b2tlZCBm
cm9tICZkcm1fYnJpZGdlX3ByZV9lbmFibGUuIEl0Ci0JICogd291bGQgYmUgcHJ1ZGVudCB0byBh
bHNvIHByb3ZpZGUgYW4gaW1wbGVtZW50YXRpb24gb2YgQHByZV9lbmFibGUgaWYKLQkgKiB5b3Ug
YXJlIGV4cGVjdGluZyBkcml2ZXIgY2FsbHMgaW50byAmZHJtX2JyaWRnZV9wcmVfZW5hYmxlLgor
CSAqIGF0b21pYyBjb21taXQuIEl0IHdpbGwgbm90IGJlIGludm9rZWQgZnJvbQorCSAqICZkcm1f
YnJpZGdlX2NoYWluX3ByZV9lbmFibGUuIEl0IHdvdWxkIGJlIHBydWRlbnQgdG8gYWxzbyBwcm92
aWRlIGFuCisJICogaW1wbGVtZW50YXRpb24gb2YgQHByZV9lbmFibGUgaWYgeW91IGFyZSBleHBl
Y3RpbmcgZHJpdmVyIGNhbGxzIGludG8KKwkgKiAmZHJtX2JyaWRnZV9jaGFpbl9wcmVfZW5hYmxl
LgogCSAqCiAJICogVGhlIEBhdG9taWNfcHJlX2VuYWJsZSBjYWxsYmFjayBpcyBvcHRpb25hbC4K
IAkgKi8KQEAgLTI3OSw5ICsyODAsOSBAQCBzdHJ1Y3QgZHJtX2JyaWRnZV9mdW5jcyB7CiAJICog
Y2hhaW4gaWYgdGhlcmUgaXMgb25lLgogCSAqCiAJICogTm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24g
d2lsbCBvbmx5IGJlIGludm9rZWQgaW4gdGhlIGNvbnRleHQgb2YgYW4KLQkgKiBhdG9taWMgY29t
bWl0LiBJdCB3aWxsIG5vdCBiZSBpbnZva2VkIGZyb20gJmRybV9icmlkZ2VfZW5hYmxlLiBJdAot
CSAqIHdvdWxkIGJlIHBydWRlbnQgdG8gYWxzbyBwcm92aWRlIGFuIGltcGxlbWVudGF0aW9uIG9m
IEBlbmFibGUgaWYKLQkgKiB5b3UgYXJlIGV4cGVjdGluZyBkcml2ZXIgY2FsbHMgaW50byAmZHJt
X2JyaWRnZV9lbmFibGUuCisJICogYXRvbWljIGNvbW1pdC4gSXQgd2lsbCBub3QgYmUgaW52b2tl
ZCBmcm9tICZkcm1fYnJpZGdlX2NoYWluX2VuYWJsZS4KKwkgKiBJdCB3b3VsZCBiZSBwcnVkZW50
IHRvIGFsc28gcHJvdmlkZSBhbiBpbXBsZW1lbnRhdGlvbiBvZiBAZW5hYmxlIGlmCisJICogeW91
IGFyZSBleHBlY3RpbmcgZHJpdmVyIGNhbGxzIGludG8gJmRybV9icmlkZ2VfY2hhaW5fZW5hYmxl
LgogCSAqCiAJICogVGhlIEBhdG9taWNfZW5hYmxlIGNhbGxiYWNrIGlzIG9wdGlvbmFsLgogCSAq
LwpAQCAtMzAxLDkgKzMwMiwxMCBAQCBzdHJ1Y3QgZHJtX2JyaWRnZV9mdW5jcyB7CiAJICogc2ln
bmFscykgZmVlZGluZyBpdCBpcyBzdGlsbCBydW5uaW5nIHdoZW4gdGhpcyBjYWxsYmFjayBpcyBj
YWxsZWQuCiAJICoKIAkgKiBOb3RlIHRoYXQgdGhpcyBmdW5jdGlvbiB3aWxsIG9ubHkgYmUgaW52
b2tlZCBpbiB0aGUgY29udGV4dCBvZiBhbgotCSAqIGF0b21pYyBjb21taXQuIEl0IHdpbGwgbm90
IGJlIGludm9rZWQgZnJvbSAmZHJtX2JyaWRnZV9kaXNhYmxlLiBJdAotCSAqIHdvdWxkIGJlIHBy
dWRlbnQgdG8gYWxzbyBwcm92aWRlIGFuIGltcGxlbWVudGF0aW9uIG9mIEBkaXNhYmxlIGlmCi0J
ICogeW91IGFyZSBleHBlY3RpbmcgZHJpdmVyIGNhbGxzIGludG8gJmRybV9icmlkZ2VfZGlzYWJs
ZS4KKwkgKiBhdG9taWMgY29tbWl0LiBJdCB3aWxsIG5vdCBiZSBpbnZva2VkIGZyb20KKwkgKiAm
ZHJtX2JyaWRnZV9jaGFpbl9kaXNhYmxlLiBJdCB3b3VsZCBiZSBwcnVkZW50IHRvIGFsc28gcHJv
dmlkZSBhbgorCSAqIGltcGxlbWVudGF0aW9uIG9mIEBkaXNhYmxlIGlmIHlvdSBhcmUgZXhwZWN0
aW5nIGRyaXZlciBjYWxscyBpbnRvCisJICogJmRybV9icmlkZ2VfY2hhaW5fZGlzYWJsZS4KIAkg
KgogCSAqIFRoZSBAYXRvbWljX2Rpc2FibGUgY2FsbGJhY2sgaXMgb3B0aW9uYWwuCiAJICovCkBA
IC0zMjUsMTAgKzMyNywxMSBAQCBzdHJ1Y3QgZHJtX2JyaWRnZV9mdW5jcyB7CiAJICogY2FsbGVk
LgogCSAqCiAJICogTm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24gd2lsbCBvbmx5IGJlIGludm9rZWQg
aW4gdGhlIGNvbnRleHQgb2YgYW4KLQkgKiBhdG9taWMgY29tbWl0LiBJdCB3aWxsIG5vdCBiZSBp
bnZva2VkIGZyb20gJmRybV9icmlkZ2VfcG9zdF9kaXNhYmxlLgorCSAqIGF0b21pYyBjb21taXQu
IEl0IHdpbGwgbm90IGJlIGludm9rZWQgZnJvbQorCSAqICZkcm1fYnJpZGdlX2NoYWluX3Bvc3Rf
ZGlzYWJsZS4KIAkgKiBJdCB3b3VsZCBiZSBwcnVkZW50IHRvIGFsc28gcHJvdmlkZSBhbiBpbXBs
ZW1lbnRhdGlvbiBvZgogCSAqIEBwb3N0X2Rpc2FibGUgaWYgeW91IGFyZSBleHBlY3RpbmcgZHJp
dmVyIGNhbGxzIGludG8KLQkgKiAmZHJtX2JyaWRnZV9wb3N0X2Rpc2FibGUuCisJICogJmRybV9i
cmlkZ2VfY2hhaW5fcG9zdF9kaXNhYmxlLgogCSAqCiAJICogVGhlIEBhdG9taWNfcG9zdF9kaXNh
YmxlIGNhbGxiYWNrIGlzIG9wdGlvbmFsLgogCSAqLwpAQCAtNDA2LDI3ICs0MDksMjggQEAgc3Ry
dWN0IGRybV9icmlkZ2UgKm9mX2RybV9maW5kX2JyaWRnZShzdHJ1Y3QgZGV2aWNlX25vZGUgKm5w
KTsKIGludCBkcm1fYnJpZGdlX2F0dGFjaChzdHJ1Y3QgZHJtX2VuY29kZXIgKmVuY29kZXIsIHN0
cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UsCiAJCSAgICAgIHN0cnVjdCBkcm1fYnJpZGdlICpwcmV2
aW91cyk7CiAKLWJvb2wgZHJtX2JyaWRnZV9tb2RlX2ZpeHVwKHN0cnVjdCBkcm1fYnJpZGdlICpi
cmlkZ2UsCi0JCQkgICBjb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZSwKLQkJCSAg
IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICphZGp1c3RlZF9tb2RlKTsKLWVudW0gZHJtX21vZGVf
c3RhdHVzIGRybV9icmlkZ2VfbW9kZV92YWxpZChzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlLAot
CQkJCQkgICBjb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZSk7Ci12b2lkIGRybV9i
cmlkZ2VfZGlzYWJsZShzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlKTsKLXZvaWQgZHJtX2JyaWRn
ZV9wb3N0X2Rpc2FibGUoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSk7Ci12b2lkIGRybV9icmlk
Z2VfbW9kZV9zZXQoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSwKLQkJCSBjb25zdCBzdHJ1Y3Qg
ZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZSwKLQkJCSBjb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9k
ZSAqYWRqdXN0ZWRfbW9kZSk7Ci12b2lkIGRybV9icmlkZ2VfcHJlX2VuYWJsZShzdHJ1Y3QgZHJt
X2JyaWRnZSAqYnJpZGdlKTsKLXZvaWQgZHJtX2JyaWRnZV9lbmFibGUoc3RydWN0IGRybV9icmlk
Z2UgKmJyaWRnZSk7Citib29sIGRybV9icmlkZ2VfY2hhaW5fbW9kZV9maXh1cChzdHJ1Y3QgZHJt
X2JyaWRnZSAqYnJpZGdlLAorCQkJCSBjb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9k
ZSwKKwkJCQkgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKmFkanVzdGVkX21vZGUpOworZW51bSBk
cm1fbW9kZV9zdGF0dXMKK2RybV9icmlkZ2VfY2hhaW5fbW9kZV92YWxpZChzdHJ1Y3QgZHJtX2Jy
aWRnZSAqYnJpZGdlLAorCQkJICAgIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2Rl
KTsKK3ZvaWQgZHJtX2JyaWRnZV9jaGFpbl9kaXNhYmxlKHN0cnVjdCBkcm1fYnJpZGdlICpicmlk
Z2UpOwordm9pZCBkcm1fYnJpZGdlX2NoYWluX3Bvc3RfZGlzYWJsZShzdHJ1Y3QgZHJtX2JyaWRn
ZSAqYnJpZGdlKTsKK3ZvaWQgZHJtX2JyaWRnZV9jaGFpbl9tb2RlX3NldChzdHJ1Y3QgZHJtX2Jy
aWRnZSAqYnJpZGdlLAorCQkJICAgICAgIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICpt
b2RlLAorCQkJICAgICAgIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICphZGp1c3RlZF9t
b2RlKTsKK3ZvaWQgZHJtX2JyaWRnZV9jaGFpbl9wcmVfZW5hYmxlKHN0cnVjdCBkcm1fYnJpZGdl
ICpicmlkZ2UpOwordm9pZCBkcm1fYnJpZGdlX2NoYWluX2VuYWJsZShzdHJ1Y3QgZHJtX2JyaWRn
ZSAqYnJpZGdlKTsKIAotdm9pZCBkcm1fYXRvbWljX2JyaWRnZV9kaXNhYmxlKHN0cnVjdCBkcm1f
YnJpZGdlICpicmlkZ2UsCi0JCQkgICAgICAgc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnN0YXRl
KTsKLXZvaWQgZHJtX2F0b21pY19icmlkZ2VfcG9zdF9kaXNhYmxlKHN0cnVjdCBkcm1fYnJpZGdl
ICpicmlkZ2UsCit2b2lkIGRybV9hdG9taWNfYnJpZGdlX2NoYWluX2Rpc2FibGUoc3RydWN0IGRy
bV9icmlkZ2UgKmJyaWRnZSwKKwkJCQkgICAgIHN0cnVjdCBkcm1fYXRvbWljX3N0YXRlICpzdGF0
ZSk7Cit2b2lkIGRybV9hdG9taWNfYnJpZGdlX2NoYWluX3Bvc3RfZGlzYWJsZShzdHJ1Y3QgZHJt
X2JyaWRnZSAqYnJpZGdlLAorCQkJCQkgIHN0cnVjdCBkcm1fYXRvbWljX3N0YXRlICpzdGF0ZSk7
Cit2b2lkIGRybV9hdG9taWNfYnJpZGdlX2NoYWluX3ByZV9lbmFibGUoc3RydWN0IGRybV9icmlk
Z2UgKmJyaWRnZSwKKwkJCQkJc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnN0YXRlKTsKK3ZvaWQg
ZHJtX2F0b21pY19icmlkZ2VfY2hhaW5fZW5hYmxlKHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2Us
CiAJCQkJICAgIHN0cnVjdCBkcm1fYXRvbWljX3N0YXRlICpzdGF0ZSk7Ci12b2lkIGRybV9hdG9t
aWNfYnJpZGdlX3ByZV9lbmFibGUoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSwKLQkJCQkgIHN0
cnVjdCBkcm1fYXRvbWljX3N0YXRlICpzdGF0ZSk7Ci12b2lkIGRybV9hdG9taWNfYnJpZGdlX2Vu
YWJsZShzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlLAotCQkJICAgICAgc3RydWN0IGRybV9hdG9t
aWNfc3RhdGUgKnN0YXRlKTsKIAogI2lmZGVmIENPTkZJR19EUk1fUEFORUxfQlJJREdFCiBzdHJ1
Y3QgZHJtX2JyaWRnZSAqZHJtX3BhbmVsX2JyaWRnZV9hZGQoc3RydWN0IGRybV9wYW5lbCAqcGFu
ZWwpOwotLSAKMi4yMy4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3Rv
cC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmkt
ZGV2ZWw=
