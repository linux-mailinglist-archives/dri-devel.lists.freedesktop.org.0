Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 0F2E51146F4
	for <lists+dri-devel@lfdr.de>; Thu,  5 Dec 2019 19:35:08 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 91EE56F8EC;
	Thu,  5 Dec 2019 18:35:05 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-yw1-xc41.google.com (mail-yw1-xc41.google.com
 [IPv6:2607:f8b0:4864:20::c41])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 23C556F8EC
 for <dri-devel@lists.freedesktop.org>; Thu,  5 Dec 2019 18:35:04 +0000 (UTC)
Received: by mail-yw1-xc41.google.com with SMTP id d12so1583035ywl.12
 for <dri-devel@lists.freedesktop.org>; Thu, 05 Dec 2019 10:35:04 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:date:from:to:cc:subject:message-id:references
 :mime-version:content-disposition:in-reply-to:user-agent;
 bh=U7/zqkwPp4/kb0lDX/st3TafpUDfopxAQyd3Cq+KNi0=;
 b=uL/zF2+3ruM4a0/tKk8oMJY75KwAez8EPT7R9shLe3CFysbIbIsnDuHPpGi3A105eL
 3dpO6XEexdhDRZyX3OvZ/fIX1JDZMJKU3i4lhAp9cF1mKU50givIuyJ8uFKKcMjVoOav
 5hGwI7Mxd2/r33tX/KNcPF5dxjz7wXGl6Zccw8ElYSEmYmnzSPnKz3CExf5N96JAjXK+
 EEY9/+36DALbiHvTrVwZxEKvG0B1lYknrcSOlDuLJTSLS4932C917SNo+fk4qfAyQ5GE
 KY6OzdAWkMedUtt5hlR+VTukX/wx8ZbThNrhcfgBiL4xk1sZqZeG8pA7a8xFHrxVwje9
 nfKg==
X-Gm-Message-State: APjAAAWm86tTNwpsMmoWiCDIom/W9HbmHX51CEjpWmbs7hyVwwETB9BL
 dXVx+AWqpg+wvmatjCEvTSzinw==
X-Google-Smtp-Source: APXvYqz0zowUF+U9owtkFe4CSk6Cl4vJyuPo+ZGOeTyGT3gxLTM8vgc54q6yLVvI0wmoKyUlnOvwXw==
X-Received: by 2002:a81:5d5:: with SMTP id 204mr6332770ywf.46.1575570903104;
 Thu, 05 Dec 2019 10:35:03 -0800 (PST)
Received: from localhost ([2620:0:1013:11:89c6:2139:5435:371d])
 by smtp.gmail.com with ESMTPSA id e63sm4959856ywd.64.2019.12.05.10.35.02
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Thu, 05 Dec 2019 10:35:02 -0800 (PST)
Date: Thu, 5 Dec 2019 13:35:01 -0500
From: Sean Paul <sean@poorly.run>
To: Lyude Paul <lyude@redhat.com>
Subject: Re: [PATCH v2] drm/dp_mst: Clear all payload id tables downstream
 when initializing
Message-ID: <20191205183501.GC162979@art_vandelay>
References: <20190829000944.20722-1-lyude@redhat.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190829000944.20722-1-lyude@redhat.com>
User-Agent: Mutt/1.10.1 (2018-07-13)
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=poorly.run; s=google;
 h=date:from:to:cc:subject:message-id:references:mime-version
 :content-disposition:in-reply-to:user-agent;
 bh=U7/zqkwPp4/kb0lDX/st3TafpUDfopxAQyd3Cq+KNi0=;
 b=Lmfk7iEQHcRdRsbpwgUiR5wBC7hJHERkxSS/MDcwQN1jp7R7DTztUasVTkcLNo3F6P
 yrxVVlHxCukya3tkQKdScL4Y59i/uK2kHoPe1rWEOChVavbZ7b9nZUaxUtW9dKAJzyqu
 juc96foZG0hFEDE+TOuoTcPFhC7vtkn6tJeLch2SOjwdeO94/lqSqydtBWrxIaguAThG
 sqhOO3lnsXkFzM9j9hsxaUA5/AkTpun7MlRxPl8SodiMDitZEAnw7Nb/p6fM7ZhIAWQ8
 VZd4WI1oDsqddZQa3SLCss2ISqOzUYgJzN8yxVwyOPPnwO38ECBUg9BHFE9kGTgE13Mk
 ITDw==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Maxime Ripard <maxime.ripard@bootlin.com>, linux-kernel@vger.kernel.org,
 dri-devel@lists.freedesktop.org, David Airlie <airlied@linux.ie>,
 Sean Paul <seanpaul@chromium.org>, Sean Paul <sean@poorly.run>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gV2VkLCBBdWcgMjgsIDIwMTkgYXQgMDg6MDk6NDRQTSAtMDQwMCwgTHl1ZGUgUGF1bCB3cm90
ZToKPiBGcm9tOiBTZWFuIFBhdWwgPHNlYW5wYXVsQGNocm9taXVtLm9yZz4KPiAKPiBJdCBzZWVt
cyB0aGF0IG9uIGNlcnRhaW4gTVNUIGh1YnMsIG5hbWVseSB0aGUgQ2FibGVNYXR0ZXJzIFVTQi1D
IDJ4IERQCj4gaHViLCB1c2luZyB0aGUgRFBfUEFZTE9BRF9BTExPQ0FURV9TRVQgYW5kIERQX1BB
WUxPQURfVEFCTEVfVVBEQVRFX1NUQVRVUwo+IHJlZ2lzdGVyIHJhbmdlcyB0byBjbGVhciBhbnkg
cHJlLWV4aXN0aW5nIHBheWxvYWQgYWxsb2NhdGlvbnMgb24gdGhlIGh1YiBpc24ndAo+IGFsd2F5
cyBlbm91Z2ggdG8gcmVzZXQgdGhpbmdzIGlmIHRoZSBzb3VyY2UgZGV2aWNlIGhhcyBiZWVuIHJl
c2V0IHVuZXhwZWN0ZWRseS4KPiAKPiBPciBhdCBsZWFzdCwgdGhhdCdzIHRoZSBjdXJyZW50IHJ1
bm5pbmcgdGhlb3J5LiBUaGUgcHJlY2lzZSBiZWhhdmlvciBhcHBlYXJzIHRvCj4gYmUgdGhhdCB3
aGVuIHRoZSBzb3VyY2UgZGV2aWNlIGdldHMgcmVzZXQgdW5leHBlY3RlZGx5LCB0aGUgaHViIGJl
Z2lucyByZXBvcnRpbmcKPiBhbiBhdmFpbGFibGVfcGJuIHZhbHVlIG9mIDAgZm9yIGFsbCBvZiBp
dHMgcG9ydHMuIFRoaXMgaXMgYSBiaXQgaW5jb25zaXN0ZW50Cj4gd2l0aCB0aGUgb3VyIHRoZW9y
eSwgc2luY2UgdGhpcyBzZWVtcyB0byBoYXBwZW4gZXZlbiBpZiBwcmV2aW91c2x5IHNldCBQQk4K
PiBhbGxvY2F0aW9ucyBzaG91bGQgaGF2ZSByZXN1bHRlZCBpbiBhIG5vbi16ZXJvIGF2YWlsYWJs
ZV9wYm4gdmFsdWUuIFNvLCBpdCdzCj4gcG9zc2libGUgdGhhdCBzb21ldGhpbmcgZWxzZSBtYXkg
YmUgZ29pbmcgb24gaGVyZS4KPiAKPiBTdHJhbmdlbHkgdGhvdWdoLCBzZW5kaW5nIGEgQ0xFQVJf
UEFZTE9BRF9JRF9UQUJMRSBicm9hZGNhc3QgcmVxdWVzdCB3aGVuCj4gaW5pdGlhbGl6aW5nIHRo
ZSBNU1QgdG9wb2xvZ3kgc2VlbXMgdG8gYnJpbmcgdGhpbmdzIGludG8gd29ya2luZyBvcmRlciBh
bmQgbWFrZQo+IGF2YWlsYWJsZV9wYm4gd29yayBhZ2Fpbi4gU2luY2UgdGhpcyBpcyBhIHByZXR0
eSBzYWZlIHNvbHV0aW9uLCBsZXQncyBnbyBhaGVhZAo+IGFuZCBpbXBsZW1lbnQgaXQuCj4gCj4g
Q2hhbmdlcyBzaW5jZSB2MToKPiAqIENoYW5nZSBpbmRlbnRpbmcgb24gZHJtX2RwX3NlbmRfY2xl
YXJfcGF5bG9hZF9pZF90YWJsZSgpIHByb3RvdHlwZQo+ICogUmVtb3ZlIHNvbWUgYnJhY2VzIGlu
IGRybV9kcF9zZW5kX2NsZWFyX3BheWxvYWRfaWRfdGFibGUoKQo+ICogUmVvcmdhbml6ZSBzb21l
IHZhcmlhYmxlIGRlY2xhcmF0aW9ucyBpbiBkcm1fZHBfc2VuZF9jbGVhcl9wYXlsb2FkX2lkX3Rh
YmxlKCkKPiAqIERvbid0IGZvcmdldCB0byBoYW5kbGUgRFBfQ0xFQVJfUEFZTE9BRF9JRF9UQUJM
RSBpbgo+ICAgZHJtX2RwX3NpZGViYW5kX3BhcnNlX3JlcGx5KCkKPiAqIE1vdmUgZHJtX2RwX3Nl
bmRfY2xlYXJfcGF5bG9hZF9pZF90YWJsZSgpIGNhbGwgaW50bwo+ICAgZHJtX2RwX21zdF9saW5r
X3Byb2JlX3dvcmsoKSwgc2luY2Ugd2UgY2FuJ3Qgc2VuZCBzaWRlYmFuZCBtZXNzYWdlcwo+ICAg
d2hpbGUgdW5kZXIgbG9jayBpbiBkcm1fZHBfbXN0X3RvcG9sb2d5X21ncl9zZXRfbXN0KCkKPiAq
IENoYW5nZSBjb21taXQgbWVzc2FnZQo+IAo+IENoYW5nZS1JZDogSTJjNzYzZThkYWUzODQ0ZWNh
NzYwMzNhNDFmMjY0MDgwMDUyZmJiZmMKPiBTaWduZWQtb2ZmLWJ5OiBTZWFuIFBhdWwgPHNlYW5w
YXVsQGNocm9taXVtLm9yZz4KPiBTaWduZWQtb2ZmLWJ5OiBMeXVkZSBQYXVsIDxseXVkZUByZWRo
YXQuY29tPgoKUHVzaGVkIHRvIGRybS1taXNjLW5leHQgd2l0aG91dCB0aGF0IG5hc3R5IENoYW5n
ZS1JZCBhbmQgd2l0aCBkYW52ZXQncyBJUkMKQWNrZWQtYnkgdG8gYXBwZWFzZSBhbG1pZ2h0eSBk
aW0uCgpUaGFua3MsIEx5dWRlLCBmb3IgcG9saXNoaW5nIHRoaXMgdXAgOi0pCgpTZWFuCgo+IC0t
LQo+IAo+IEEgaGVhZHMgdXAgdG8gYW55b25lIGxvb2tpbmcgYXQgdGhpcyBwYXRjaDogaXQncyBx
dWl0ZSBwb3NzaWJsZSB0aGlzCj4gd29uJ3QgYmUgdGhlIGZpbmFsIHNvbHV0aW9uIHRoYXQgd2Ug
Z28gd2l0aC4gTWUgYW5kIFNlYW4gd291bGQgbGlrZSB0bwo+IGRvIGEgYml0IG1vcmUgaW52ZXN0
aWdhdGlvbiB0byB0cnkgdG8gZmlndXJlIG91dCB3aGF0IGV4YWN0bHkgaXMKPiBoYXBwZW5pbmcg
aGVyZSBiZWZvcmUgd2UgZ28gYWhlYWQgYW5kIHB1c2ggaXQsIGFuZCBob3BlZnVsbHkgZmlndXJl
IG91dAo+IHdoeSBhdmFpbGFibGVfcGJuIGlzIGJlaW5nIHNldCB0byAwIGluc3RlYWQgb2Ygc29t
ZSBvdGhlciBsZWZ0b3Zlcgo+IG5vbi16ZXJvIGFsbG9jYXRpb24uCj4gCj4gIGRyaXZlcnMvZ3B1
L2RybS9kcm1fZHBfbXN0X3RvcG9sb2d5LmMgfCA2MyArKysrKysrKysrKysrKysrKysrKysrKysr
LS0KPiAgaW5jbHVkZS9kcm0vZHJtX2RwX21zdF9oZWxwZXIuaCAgICAgICB8IDE2ICsrKysrLS0K
PiAgMiBmaWxlcyBjaGFuZ2VkLCA3MiBpbnNlcnRpb25zKCspLCA3IGRlbGV0aW9ucygtKQo+IAo+
IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vZHJtX2RwX21zdF90b3BvbG9neS5jIGIvZHJp
dmVycy9ncHUvZHJtL2RybV9kcF9tc3RfdG9wb2xvZ3kuYwo+IGluZGV4IDgyYWRkNzM2ZTE3ZC4u
OTY5ZTQzYjdlYjRjIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fZHBfbXN0X3Rv
cG9sb2d5LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2RwX21zdF90b3BvbG9neS5jCj4g
QEAgLTY0LDYgKzY0LDExIEBAIHN0YXRpYyBpbnQgZHJtX2RwX3NlbmRfZHBjZF93cml0ZShzdHJ1
Y3QgZHJtX2RwX21zdF90b3BvbG9neV9tZ3IgKm1nciwKPiAgCj4gIHN0YXRpYyB2b2lkIGRybV9k
cF9zZW5kX2xpbmtfYWRkcmVzcyhzdHJ1Y3QgZHJtX2RwX21zdF90b3BvbG9neV9tZ3IgKm1nciwK
PiAgCQkJCSAgICAgc3RydWN0IGRybV9kcF9tc3RfYnJhbmNoICptc3RiKTsKPiArCj4gK3N0YXRp
YyB2b2lkCj4gK2RybV9kcF9zZW5kX2NsZWFyX3BheWxvYWRfaWRfdGFibGUoc3RydWN0IGRybV9k
cF9tc3RfdG9wb2xvZ3lfbWdyICptZ3IsCj4gKwkJCQkgICBzdHJ1Y3QgZHJtX2RwX21zdF9icmFu
Y2ggKm1zdGIpOwo+ICsKPiAgc3RhdGljIGludCBkcm1fZHBfc2VuZF9lbnVtX3BhdGhfcmVzb3Vy
Y2VzKHN0cnVjdCBkcm1fZHBfbXN0X3RvcG9sb2d5X21nciAqbWdyLAo+ICAJCQkJCSAgIHN0cnVj
dCBkcm1fZHBfbXN0X2JyYW5jaCAqbXN0YiwKPiAgCQkJCQkgICBzdHJ1Y3QgZHJtX2RwX21zdF9w
b3J0ICpwb3J0KTsKPiBAQCAtNjU3LDYgKzY2Miw4IEBAIHN0YXRpYyBib29sIGRybV9kcF9zaWRl
YmFuZF9wYXJzZV9yZXBseShzdHJ1Y3QgZHJtX2RwX3NpZGViYW5kX21zZ19yeCAqcmF3LAo+ICAJ
Y2FzZSBEUF9QT1dFUl9ET1dOX1BIWToKPiAgCWNhc2UgRFBfUE9XRVJfVVBfUEhZOgo+ICAJCXJl
dHVybiBkcm1fZHBfc2lkZWJhbmRfcGFyc2VfcG93ZXJfdXBkb3duX3BoeV9hY2socmF3LCBtc2cp
Owo+ICsJY2FzZSBEUF9DTEVBUl9QQVlMT0FEX0lEX1RBQkxFOgo+ICsJCXJldHVybiB0cnVlOyAv
KiBzaW5jZSB0aGVyZSdzIG5vdGhpbmcgdG8gcGFyc2UgKi8KPiAgCWRlZmF1bHQ6Cj4gIAkJRFJN
X0VSUk9SKCJHb3QgdW5rbm93biByZXBseSAweCUwMnggKCVzKVxuIiwgbXNnLT5yZXFfdHlwZSwK
PiAgCQkJICBkcm1fZHBfbXN0X3JlcV90eXBlX3N0cihtc2ctPnJlcV90eXBlKSk7Cj4gQEAgLTc1
NSw2ICs3NjIsMTUgQEAgc3RhdGljIGludCBidWlsZF9saW5rX2FkZHJlc3Moc3RydWN0IGRybV9k
cF9zaWRlYmFuZF9tc2dfdHggKm1zZykKPiAgCXJldHVybiAwOwo+ICB9Cj4gIAo+ICtzdGF0aWMg
aW50IGJ1aWxkX2NsZWFyX3BheWxvYWRfaWRfdGFibGUoc3RydWN0IGRybV9kcF9zaWRlYmFuZF9t
c2dfdHggKm1zZykKPiArewo+ICsJc3RydWN0IGRybV9kcF9zaWRlYmFuZF9tc2dfcmVxX2JvZHkg
cmVxOwo+ICsKPiArCXJlcS5yZXFfdHlwZSA9IERQX0NMRUFSX1BBWUxPQURfSURfVEFCTEU7Cj4g
Kwlkcm1fZHBfZW5jb2RlX3NpZGViYW5kX3JlcSgmcmVxLCBtc2cpOwo+ICsJcmV0dXJuIDA7Cj4g
K30KPiArCj4gIHN0YXRpYyBpbnQgYnVpbGRfZW51bV9wYXRoX3Jlc291cmNlcyhzdHJ1Y3QgZHJt
X2RwX3NpZGViYW5kX21zZ190eCAqbXNnLCBpbnQgcG9ydF9udW0pCj4gIHsKPiAgCXN0cnVjdCBk
cm1fZHBfc2lkZWJhbmRfbXNnX3JlcV9ib2R5IHJlcTsKPiBAQCAtMTg3Nyw4ICsxODkzLDEyIEBA
IHN0YXRpYyB2b2lkIGRybV9kcF9tc3RfbGlua19wcm9iZV93b3JrKHN0cnVjdCB3b3JrX3N0cnVj
dCAqd29yaykKPiAgCXN0cnVjdCBkcm1fZHBfbXN0X3RvcG9sb2d5X21nciAqbWdyID0gY29udGFp
bmVyX29mKHdvcmssIHN0cnVjdCBkcm1fZHBfbXN0X3RvcG9sb2d5X21nciwgd29yayk7Cj4gIAlz
dHJ1Y3QgZHJtX2RwX21zdF9icmFuY2ggKm1zdGI7Cj4gIAlpbnQgcmV0Owo+ICsJYm9vbCBjbGVh
cl9wYXlsb2FkX2lkX3RhYmxlOwo+ICAKPiAgCW11dGV4X2xvY2soJm1nci0+bG9jayk7Cj4gKwlj
bGVhcl9wYXlsb2FkX2lkX3RhYmxlID0gIW1nci0+cGF5bG9hZF9pZF90YWJsZV9jbGVhcmVkOwo+
ICsJbWdyLT5wYXlsb2FkX2lkX3RhYmxlX2NsZWFyZWQgPSB0cnVlOwo+ICsKPiAgCW1zdGIgPSBt
Z3ItPm1zdF9wcmltYXJ5Owo+ICAJaWYgKG1zdGIpIHsKPiAgCQlyZXQgPSBkcm1fZHBfbXN0X3Rv
cG9sb2d5X3RyeV9nZXRfbXN0Yihtc3RiKTsKPiBAQCAtMTg4NiwxMCArMTkwNiwyNCBAQCBzdGF0
aWMgdm9pZCBkcm1fZHBfbXN0X2xpbmtfcHJvYmVfd29yayhzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndv
cmspCj4gIAkJCW1zdGIgPSBOVUxMOwo+ICAJfQo+ICAJbXV0ZXhfdW5sb2NrKCZtZ3ItPmxvY2sp
Owo+IC0JaWYgKG1zdGIpIHsKPiAtCQlkcm1fZHBfY2hlY2tfYW5kX3NlbmRfbGlua19hZGRyZXNz
KG1nciwgbXN0Yik7Cj4gLQkJZHJtX2RwX21zdF90b3BvbG9neV9wdXRfbXN0Yihtc3RiKTsKPiAr
CWlmICghbXN0YikKPiArCQlyZXR1cm47Cj4gKwo+ICsJLyoKPiArCSAqIENlcnRhaW4gYnJhbmNo
IGRldmljZXMgc2VlbSB0byBpbmNvcnJlY3RseSByZXBvcnQgYW4gYXZhaWxhYmxlX3Bibgo+ICsJ
ICogb2YgMCBvbiBkb3duc3RyZWFtIHNpbmtzLCBldmVuIGFmdGVyIGNsZWFyaW5nIHRoZQo+ICsJ
ICogRFBfUEFZTE9BRF9BTExPQ0FURV8qIHJlZ2lzdGVycyBpbgo+ICsJICogZHJtX2RwX21zdF90
b3BvbG9neV9tZ3Jfc2V0X21zdCgpLiBOYW1lbHksIHRoZSBDYWJsZU1hdHRlcnMgVVNCLUMKPiAr
CSAqIDJ4IERQIGh1Yi4gU2VuZGluZyBhIENMRUFSX1BBWUxPQURfSURfVEFCTEUgbWVzc2FnZSBz
ZWVtcyB0byBtYWtlCj4gKwkgKiB0aGluZ3Mgd29yayBhZ2Fpbi4KPiArCSAqLwo+ICsJaWYgKGNs
ZWFyX3BheWxvYWRfaWRfdGFibGUpIHsKPiArCQlEUk1fREVCVUdfS01TKCJDbGVhcmluZyBwYXls
b2FkIElEIHRhYmxlXG4iKTsKPiArCQlkcm1fZHBfc2VuZF9jbGVhcl9wYXlsb2FkX2lkX3RhYmxl
KG1nciwgbXN0Yik7Cj4gIAl9Cj4gKwo+ICsJZHJtX2RwX2NoZWNrX2FuZF9zZW5kX2xpbmtfYWRk
cmVzcyhtZ3IsIG1zdGIpOwo+ICsJZHJtX2RwX21zdF90b3BvbG9neV9wdXRfbXN0Yihtc3RiKTsK
PiAgfQo+ICAKPiAgc3RhdGljIGJvb2wgZHJtX2RwX3ZhbGlkYXRlX2d1aWQoc3RydWN0IGRybV9k
cF9tc3RfdG9wb2xvZ3lfbWdyICptZ3IsCj4gQEAgLTIxNTYsNiArMjE5MCwyOCBAQCBzdGF0aWMg
dm9pZCBkcm1fZHBfc2VuZF9saW5rX2FkZHJlc3Moc3RydWN0IGRybV9kcF9tc3RfdG9wb2xvZ3lf
bWdyICptZ3IsCj4gIAlrZnJlZSh0eG1zZyk7Cj4gIH0KPiAgCj4gK3ZvaWQgZHJtX2RwX3NlbmRf
Y2xlYXJfcGF5bG9hZF9pZF90YWJsZShzdHJ1Y3QgZHJtX2RwX21zdF90b3BvbG9neV9tZ3IgKm1n
ciwKPiArCQkJCQlzdHJ1Y3QgZHJtX2RwX21zdF9icmFuY2ggKm1zdGIpCj4gK3sKPiArCXN0cnVj
dCBkcm1fZHBfc2lkZWJhbmRfbXNnX3R4ICp0eG1zZzsKPiArCWludCBsZW4sIHJldDsKPiArCj4g
Kwl0eG1zZyA9IGt6YWxsb2Moc2l6ZW9mKCp0eG1zZyksIEdGUF9LRVJORUwpOwo+ICsJaWYgKCF0
eG1zZykKPiArCQlyZXR1cm47Cj4gKwo+ICsJdHhtc2ctPmRzdCA9IG1zdGI7Cj4gKwlsZW4gPSBi
dWlsZF9jbGVhcl9wYXlsb2FkX2lkX3RhYmxlKHR4bXNnKTsKPiArCj4gKwlkcm1fZHBfcXVldWVf
ZG93bl90eChtZ3IsIHR4bXNnKTsKPiArCj4gKwlyZXQgPSBkcm1fZHBfbXN0X3dhaXRfdHhfcmVw
bHkobXN0YiwgdHhtc2cpOwo+ICsJaWYgKHJldCA+IDAgJiYgdHhtc2ctPnJlcGx5LnJlcGx5X3R5
cGUgPT0gRFBfU0lERUJBTkRfUkVQTFlfTkFLKQo+ICsJCURSTV9ERUJVR19LTVMoImNsZWFyIHBh
eWxvYWQgdGFibGUgaWQgbmFrIHJlY2VpdmVkXG4iKTsKPiArCj4gKwlrZnJlZSh0eG1zZyk7Cj4g
K30KPiArCj4gIHN0YXRpYyBpbnQgZHJtX2RwX3NlbmRfZW51bV9wYXRoX3Jlc291cmNlcyhzdHJ1
Y3QgZHJtX2RwX21zdF90b3BvbG9neV9tZ3IgKm1nciwKPiAgCQkJCQkgICBzdHJ1Y3QgZHJtX2Rw
X21zdF9icmFuY2ggKm1zdGIsCj4gIAkJCQkJICAgc3RydWN0IGRybV9kcF9tc3RfcG9ydCAqcG9y
dCkKPiBAQCAtMjc1Niw2ICsyODEyLDcgQEAgaW50IGRybV9kcF9tc3RfdG9wb2xvZ3lfbWdyX3Nl
dF9tc3Qoc3RydWN0IGRybV9kcF9tc3RfdG9wb2xvZ3lfbWdyICptZ3IsIGJvb2wgbXMKPiAgCQlt
Z3ItPnBheWxvYWRfbWFzayA9IDA7Cj4gIAkJc2V0X2JpdCgwLCAmbWdyLT5wYXlsb2FkX21hc2sp
Owo+ICAJCW1nci0+dmNwaV9tYXNrID0gMDsKPiArCQltZ3ItPnBheWxvYWRfaWRfdGFibGVfY2xl
YXJlZCA9IGZhbHNlOwo+ICAJfQo+ICAKPiAgb3V0X3VubG9jazoKPiBkaWZmIC0tZ2l0IGEvaW5j
bHVkZS9kcm0vZHJtX2RwX21zdF9oZWxwZXIuaCBiL2luY2x1ZGUvZHJtL2RybV9kcF9tc3RfaGVs
cGVyLmgKPiBpbmRleCAyYmE2MjUzZWE2ZDMuLmVlNDA5M2MxYmJhMyAxMDA2NDQKPiAtLS0gYS9p
bmNsdWRlL2RybS9kcm1fZHBfbXN0X2hlbHBlci5oCj4gKysrIGIvaW5jbHVkZS9kcm0vZHJtX2Rw
X21zdF9oZWxwZXIuaAo+IEBAIC00OTQsMTUgKzQ5NCwyMyBAQCBzdHJ1Y3QgZHJtX2RwX21zdF90
b3BvbG9neV9tZ3Igewo+ICAJc3RydWN0IGRybV9kcF9zaWRlYmFuZF9tc2dfcnggdXBfcmVxX3Jl
Y3Y7Cj4gIAo+ICAJLyoqCj4gLQkgKiBAbG9jazogcHJvdGVjdHMgbXN0IHN0YXRlLCBwcmltYXJ5
LCBkcGNkLgo+ICsJICogQGxvY2s6IHByb3RlY3RzIEBtc3Rfc3RhdGUsIEBtc3RfcHJpbWFyeSwg
QGRwY2QsIGFuZAo+ICsJICogQHBheWxvYWRfaWRfdGFibGVfY2xlYXJlZC4KPiAgCSAqLwo+ICAJ
c3RydWN0IG11dGV4IGxvY2s7Cj4gIAo+ICAJLyoqCj4gLQkgKiBAbXN0X3N0YXRlOiBJZiB0aGlz
IG1hbmFnZXIgaXMgZW5hYmxlZCBmb3IgYW4gTVNUIGNhcGFibGUgcG9ydC4gRmFsc2UKPiAtCSAq
IGlmIG5vIE1TVCBzaW5rL2JyYW5jaCBkZXZpY2VzIGlzIGNvbm5lY3RlZC4KPiArCSAqIEBtc3Rf
c3RhdGU6IElmIHRoaXMgbWFuYWdlciBpcyBlbmFibGVkIGZvciBhbiBNU1QgY2FwYWJsZSBwb3J0
Lgo+ICsJICogRmFsc2UgaWYgbm8gTVNUIHNpbmsvYnJhbmNoIGRldmljZXMgaXMgY29ubmVjdGVk
Lgo+ICAJICovCj4gLQlib29sIG1zdF9zdGF0ZTsKPiArCWJvb2wgbXN0X3N0YXRlIDogMTsKPiAr
Cj4gKwkvKioKPiArCSAqIEBwYXlsb2FkX2lkX3RhYmxlX2NsZWFyZWQ6IFdoZXRoZXIgb3Igbm90
IHdlJ3ZlIGNsZWFyZWQgdGhlIHBheWxvYWQKPiArCSAqIElEIHRhYmxlIGZvciBAbXN0X3ByaW1h
cnkuIFByb3RlY3RlZCBieSBAbG9jay4KPiArCSAqLwo+ICsJYm9vbCBwYXlsb2FkX2lkX3RhYmxl
X2NsZWFyZWQgOiAxOwo+ICsKPiAgCS8qKgo+ICAJICogQG1zdF9wcmltYXJ5OiBQb2ludGVyIHRv
IHRoZSBwcmltYXJ5L2ZpcnN0IGJyYW5jaCBkZXZpY2UuCj4gIAkgKi8KPiAtLSAKPiAyLjIxLjAK
PiAKCi0tIApTZWFuIFBhdWwsIFNvZnR3YXJlIEVuZ2luZWVyLCBHb29nbGUgLyBDaHJvbWl1bSBP
UwpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2
ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9s
aXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
