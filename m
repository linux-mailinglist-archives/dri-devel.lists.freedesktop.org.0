Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id DEAAAF2B3C
	for <lists+dri-devel@lfdr.de>; Thu,  7 Nov 2019 10:48:44 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E01306F3E0;
	Thu,  7 Nov 2019 09:48:42 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-lf1-x141.google.com (mail-lf1-x141.google.com
 [IPv6:2a00:1450:4864:20::141])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 52ADD6F3E0
 for <dri-devel@lists.freedesktop.org>; Thu,  7 Nov 2019 09:48:40 +0000 (UTC)
Received: by mail-lf1-x141.google.com with SMTP id j14so1076263lfb.8
 for <dri-devel@lists.freedesktop.org>; Thu, 07 Nov 2019 01:48:40 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=hDIoVDiKLEU4CGAIdm+g9DYS9ZaaLwciACVGR8Rle3w=;
 b=bEqxVT9WxsQLtmadivCJzV8KTU5FR5cw+iFraeH2LvfhWL3BbOiIMiOj1hMwqmzt4y
 PswlxdWsr2xMVX7hboMEFL9AEPx4hUkQt5bPbAknhT4PtTGLgj/xYQAfJrp+wElJQQxz
 K8n3OTWGrDREEM8ho/XPBpFcU30w20ztG0vQAo6LZpKmQgVZgziQoQJSdLHTo0yxmFgu
 BQ3NJPvvHMksfhQvz8WXfZXEycAEfR9KgU5tjfbSAX7OOft0lUZx1MdV3aDxbK71hTpC
 1t3dge1K6Re6j1mC3Aji0F3Srs3PE563jwPq9N417rxF8w+fgTKxCU4y3Nmv81BjzAWu
 CFRg==
X-Gm-Message-State: APjAAAXdIjJQuJLZzOMozMMXhpDCEIJa1+PjE41G4rXlDNfqRIMJxHPw
 RSuZ8ylAkY/kftRZAMdNF4+oM+rAAwGelknmWC+B33Xk
X-Google-Smtp-Source: APXvYqyTGDsPHLmiAUPkvEpOv7piaHKKeWjh+8V7gEhp2pZjEjKWPrBmkmLoGU+5EWsuy7opflh4g7OU1wAFYt6chhM=
X-Received: by 2002:ac2:5109:: with SMTP id q9mr1685403lfb.145.1573120118588; 
 Thu, 07 Nov 2019 01:48:38 -0800 (PST)
MIME-Version: 1.0
References: <20191106094400.445834-1-paul.kocialkowski@bootlin.com>
 <20191106094400.445834-3-paul.kocialkowski@bootlin.com>
 <CAMeQTsa=SWXHt8ZvToa9x5qc6W29B6B4Ssvixs3nd-w=+dYGzA@mail.gmail.com>
 <20191107083140.GJ23790@phenom.ffwll.local>
 <CAMeQTsZ59B-h8TEyKnc03rz4-aXrAcx3wyWZqDG218Z1RxC5-w@mail.gmail.com>
 <CAKMK7uEo92PA68fr7f3==Pyht7CMRrsukm_orQw1L3f9pztiUQ@mail.gmail.com>
In-Reply-To: <CAKMK7uEo92PA68fr7f3==Pyht7CMRrsukm_orQw1L3f9pztiUQ@mail.gmail.com>
From: Patrik Jakobsson <patrik.r.jakobsson@gmail.com>
Date: Thu, 7 Nov 2019 10:48:27 +0100
Message-ID: <CAMeQTsb0RyHiP5UDzxRgQht7tE=B+6RkBnwSK_q2ct1turJjoQ@mail.gmail.com>
Subject: Re: [PATCH 2/2] drm/gma500: Add page flip support on psb/cdv
To: Daniel Vetter <daniel@ffwll.ch>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=hDIoVDiKLEU4CGAIdm+g9DYS9ZaaLwciACVGR8Rle3w=;
 b=O9cj1Z3aYXE1x7fYKQuOdaIDuscL+iQaBgIYkbBQ4UmmoTw3hBt3gJBQ95oqRl0LsB
 zC7Dq/atW+SVpZxZBzR1KuzGkLrE4Xb9ZVa2vx9ntDBhZLFHZKNftu4HZzZrX1AFJ5PS
 NBd6/VNPiZzJ3Ltjzy9BIUU92vCmMFJ0CbC4oKRD6VGsFJ0oChAFZEgF9zxwtUbi4xXE
 Pgvl0kH8HzXKEjm1BUfW8oIRezYn9pStvbnKsVNFAGVWvqW+5lPFrxkMSprjRER9GgZu
 W851oUhg9ImMH1Uz6sFASzV3Xiebh17jLvyoq0fplddemLigboqidTdkyt7DBtN/Heml
 p7Ng==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: David Airlie <airlied@linux.ie>,
 linux-kernel <linux-kernel@vger.kernel.org>,
 dri-devel <dri-devel@lists.freedesktop.org>,
 Paul Kocialkowski <paul.kocialkowski@bootlin.com>,
 James Hilliard <james.hilliard1@gmail.com>,
 Thomas Petazzoni <thomas.petazzoni@bootlin.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVGh1LCBOb3YgNywgMjAxOSBhdCAxMDoyMSBBTSBEYW5pZWwgVmV0dGVyIDxkYW5pZWxAZmZ3
bGwuY2g+IHdyb3RlOgo+Cj4gT24gVGh1LCBOb3YgNywgMjAxOSBhdCAxMDowOCBBTSBQYXRyaWsg
SmFrb2Jzc29uCj4gPHBhdHJpay5yLmpha29ic3NvbkBnbWFpbC5jb20+IHdyb3RlOgo+ID4KPiA+
IE9uIFRodSwgTm92IDcsIDIwMTkgYXQgOTozMSBBTSBEYW5pZWwgVmV0dGVyIDxkYW5pZWxAZmZ3
bGwuY2g+IHdyb3RlOgo+ID4gPgo+ID4gPiBPbiBXZWQsIE5vdiAwNiwgMjAxOSBhdCAwNDoyNDo1
OVBNICswMTAwLCBQYXRyaWsgSmFrb2Jzc29uIHdyb3RlOgo+ID4gPiA+IE9uIFdlZCwgTm92IDYs
IDIwMTkgYXQgMTA6NDQgQU0gUGF1bCBLb2NpYWxrb3dza2kKPiA+ID4gPiA8cGF1bC5rb2NpYWxr
b3dza2lAYm9vdGxpbi5jb20+IHdyb3RlOgo+ID4gPiA+ID4KPiA+ID4gPiA+IExlZ2FjeSAobm9u
LWF0b21pYykgcGFnZSBmbGlwIHN1cHBvcnQgaXMgYWRkZWQgdG8gdGhlIGRyaXZlciBieSB1c2lu
ZyB0aGUKPiA+ID4gPiA+IG1vZGVfc2V0X2Jhc2UgQ1JUQyBmdW5jdGlvbiwgdGhhdCBhbGxvd3Mg
Y29uZmlndXJpbmcgYSBuZXcgZnJhbWVidWZmZXIgZm9yCj4gPiA+ID4gPiBkaXNwbGF5LiBTaW5j
ZSB0aGUgZnVuY3Rpb24gcmVxdWlyZXMgdGhlIHByaW1hcnkgcGxhbmUncyBmYiB0byBiZSBzZXQK
PiA+ID4gPiA+IGFscmVhZHksIHRoaXMgaXMgZG9uZSBwcmlvciB0byBjYWxsaW5nIHRoZSBmdW5j
dGlvbiBpbiB0aGUgcGFnZSBmbGlwIGhlbHBlcgo+ID4gPiA+ID4gYW5kIHJldmVydGVkIGlmIHRo
ZSBmbGlwIGZhaWxzLgo+ID4gPiA+ID4KPiA+ID4gPiA+IFRoZSB2YmxhbmsgaW50ZXJydXB0IGhh
bmRsZXIgaXMgYWxzbyByZWZhY3RvcmVkIHRvIHN1cHBvcnQgcGFzc2luZyBhbiBldmVudC4KPiA+
ID4gPiA+IFRoZSBQSVBFX1RFX1NUQVRVUyBiaXQgaXMgYWxzbyBjb25zaWRlcmVkIHRvIGluZGlj
YXRlIHZibGFuayBvbiBtZWRmaWVsZAo+ID4gPiA+ID4gb25seSwgYXMgZXhwbGFpbmVkIGluIHBz
Yl9lbmFibGVfdmJsYW5rLgo+ID4gPiA+ID4KPiA+ID4gPiA+IEl0IHdhcyB0ZXN0ZWQgYnkgcnVu
bmluZyB3ZXN0b24gb24gYm90aCBwb3Vsc2JvIGFuZCBjZWRhcnRyYWlsLgo+ID4gPiA+ID4KPiA+
ID4gPiA+IFNpZ25lZC1vZmYtYnk6IFBhdWwgS29jaWFsa293c2tpIDxwYXVsLmtvY2lhbGtvd3Nr
aUBib290bGluLmNvbT4KPiA+ID4gPiA+IC0tLQo+ID4gPiA+ID4gIGRyaXZlcnMvZ3B1L2RybS9n
bWE1MDAvY2R2X2ludGVsX2Rpc3BsYXkuYyB8ICAxICsKPiA+ID4gPiA+ICBkcml2ZXJzL2dwdS9k
cm0vZ21hNTAwL2dtYV9kaXNwbGF5LmMgICAgICAgfCA0NiArKysrKysrKysrKysrKysrKysrKysr
Cj4gPiA+ID4gPiAgZHJpdmVycy9ncHUvZHJtL2dtYTUwMC9nbWFfZGlzcGxheS5oICAgICAgIHwg
IDYgKysrCj4gPiA+ID4gPiAgZHJpdmVycy9ncHUvZHJtL2dtYTUwMC9wc2JfaW50ZWxfZGlzcGxh
eS5jIHwgIDEgKwo+ID4gPiA+ID4gIGRyaXZlcnMvZ3B1L2RybS9nbWE1MDAvcHNiX2ludGVsX2Ry
di5oICAgICB8ICAzICsrCj4gPiA+ID4gPiAgZHJpdmVycy9ncHUvZHJtL2dtYTUwMC9wc2JfaXJx
LmMgICAgICAgICAgIHwgMTggKysrKysrKy0tCj4gPiA+ID4gPiAgNiBmaWxlcyBjaGFuZ2VkLCA3
MiBpbnNlcnRpb25zKCspLCAzIGRlbGV0aW9ucygtKQo+ID4gPiA+ID4KPiA+ID4gPiA+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vZ21hNTAwL2Nkdl9pbnRlbF9kaXNwbGF5LmMgYi9kcml2
ZXJzL2dwdS9kcm0vZ21hNTAwL2Nkdl9pbnRlbF9kaXNwbGF5LmMKPiA+ID4gPiA+IGluZGV4IDhi
Nzg0OTQ3ZWQzYi4uNzEwOWQzZDE5YmUwIDEwMDY0NAo+ID4gPiA+ID4gLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2dtYTUwMC9jZHZfaW50ZWxfZGlzcGxheS5jCj4gPiA+ID4gPiArKysgYi9kcml2ZXJz
L2dwdS9kcm0vZ21hNTAwL2Nkdl9pbnRlbF9kaXNwbGF5LmMKPiA+ID4gPiA+IEBAIC05NzksNiAr
OTc5LDcgQEAgY29uc3Qgc3RydWN0IGRybV9jcnRjX2Z1bmNzIGNkdl9pbnRlbF9jcnRjX2Z1bmNz
ID0gewo+ID4gPiA+ID4gICAgICAgICAuZ2FtbWFfc2V0ID0gZ21hX2NydGNfZ2FtbWFfc2V0LAo+
ID4gPiA+ID4gICAgICAgICAuc2V0X2NvbmZpZyA9IGdtYV9jcnRjX3NldF9jb25maWcsCj4gPiA+
ID4gPiAgICAgICAgIC5kZXN0cm95ID0gZ21hX2NydGNfZGVzdHJveSwKPiA+ID4gPiA+ICsgICAg
ICAgLnBhZ2VfZmxpcCA9IGdtYV9jcnRjX3BhZ2VfZmxpcCwKPiA+ID4gPiA+ICB9Owo+ID4gPiA+
ID4KPiA+ID4gPiA+ICBjb25zdCBzdHJ1Y3QgZ21hX2Nsb2NrX2Z1bmNzIGNkdl9jbG9ja19mdW5j
cyA9IHsKPiA+ID4gPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vZ21hNTAwL2dtYV9k
aXNwbGF5LmMgYi9kcml2ZXJzL2dwdS9kcm0vZ21hNTAwL2dtYV9kaXNwbGF5LmMKPiA+ID4gPiA+
IGluZGV4IGJjMDdhZTJhOWExZC4uMTdmMTM2OTg1ZDIxIDEwMDY0NAo+ID4gPiA+ID4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2dtYTUwMC9nbWFfZGlzcGxheS5jCj4gPiA+ID4gPiArKysgYi9kcml2
ZXJzL2dwdS9kcm0vZ21hNTAwL2dtYV9kaXNwbGF5LmMKPiA+ID4gPiA+IEBAIC01MDMsNiArNTAz
LDUyIEBAIHZvaWQgZ21hX2NydGNfZGVzdHJveShzdHJ1Y3QgZHJtX2NydGMgKmNydGMpCj4gPiA+
ID4gPiAgICAgICAgIGtmcmVlKGdtYV9jcnRjKTsKPiA+ID4gPiA+ICB9Cj4gPiA+ID4gPgo+ID4g
PiA+ID4gK2ludCBnbWFfY3J0Y19wYWdlX2ZsaXAoc3RydWN0IGRybV9jcnRjICpjcnRjLAo+ID4g
PiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpmYiwK
PiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGRybV9wZW5kaW5nX3ZibGFu
a19ldmVudCAqZXZlbnQsCj4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgIHVpbnQzMl90
IHBhZ2VfZmxpcF9mbGFncywKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgc3RydWN0
IGRybV9tb2Rlc2V0X2FjcXVpcmVfY3R4ICpjdHgpCj4gPiA+ID4gPiArewo+ID4gPiA+ID4gKyAg
ICAgICBzdHJ1Y3QgZ21hX2NydGMgKmdtYV9jcnRjID0gdG9fZ21hX2NydGMoY3J0Yyk7Cj4gPiA+
ID4gPiArICAgICAgIHN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmN1cnJlbnRfZmIgPSBjcnRjLT5w
cmltYXJ5LT5mYjsKPiA+ID4gPiA+ICsgICAgICAgc3RydWN0IGRybV9mcmFtZWJ1ZmZlciAqb2xk
X2ZiID0gY3J0Yy0+cHJpbWFyeS0+b2xkX2ZiOwo+ID4gPiA+ID4gKyAgICAgICBjb25zdCBzdHJ1
Y3QgZHJtX2NydGNfaGVscGVyX2Z1bmNzICpjcnRjX2Z1bmNzID0gY3J0Yy0+aGVscGVyX3ByaXZh
dGU7Cj4gPiA+ID4gPiArICAgICAgIHN0cnVjdCBkcm1fZGV2aWNlICpkZXYgPSBjcnRjLT5kZXY7
Cj4gPiA+ID4gPiArICAgICAgIHVuc2lnbmVkIGxvbmcgZmxhZ3M7Cj4gPiA+ID4gPiArICAgICAg
IGludCByZXQ7Cj4gPiA+ID4gPiArCj4gPiA+ID4gPiArICAgICAgIGlmICghY3J0Y19mdW5jcy0+
bW9kZV9zZXRfYmFzZSkKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICByZXR1cm4gLUVJTlZBTDsK
PiA+ID4gPiA+ICsKPiA+ID4gPiA+ICsgICAgICAgLyogVXNpbmcgbW9kZV9zZXRfYmFzZSByZXF1
aXJlcyB0aGUgbmV3IGZiIHRvIGJlIHNldCBhbHJlYWR5LiAqLwo+ID4gPiA+ID4gKyAgICAgICBj
cnRjLT5wcmltYXJ5LT5mYiA9IGZiOwo+ID4gPiA+ID4gKwo+ID4gPiA+ID4gKyAgICAgICBpZiAo
ZXZlbnQpIHsKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICBzcGluX2xvY2tfaXJxc2F2ZSgmZGV2
LT5ldmVudF9sb2NrLCBmbGFncyk7Cj4gPiA+ID4gPiArCj4gPiA+ID4gPiArICAgICAgICAgICAg
ICAgV0FSTl9PTihkcm1fY3J0Y192YmxhbmtfZ2V0KGNydGMpICE9IDApOwo+ID4gPiA+ID4gKwo+
ID4gPiA+ID4gKyAgICAgICAgICAgICAgIGdtYV9jcnRjLT5wYWdlX2ZsaXBfZXZlbnQgPSBldmVu
dDsKPiA+ID4gPiA+ICsKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAvKiBDYWxsIHRoaXMgbG9j
a2VkIGlmIHdlIHdhbnQgYW4gZXZlbnQgYXQgdmJsYW5rIGludGVycnVwdC4gKi8KPiA+ID4gPiA+
ICsgICAgICAgICAgICAgICByZXQgPSBjcnRjX2Z1bmNzLT5tb2RlX3NldF9iYXNlKGNydGMsIGNy
dGMtPngsIGNydGMtPnksIG9sZF9mYik7Cj4gPiA+ID4gPiArICAgICAgICAgICAgICAgaWYgKHJl
dCkgewo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgZ21hX2NydGMtPnBhZ2VfZmxp
cF9ldmVudCA9IE5VTEw7Cj4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICBkcm1fY3J0
Y192YmxhbmtfcHV0KGNydGMpOwo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIH0KPiA+ID4gPiA+
ICsKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICBzcGluX3VubG9ja19pcnFyZXN0b3JlKCZkZXYt
PmV2ZW50X2xvY2ssIGZsYWdzKTsKPiA+ID4gPiA+ICsgICAgICAgfSBlbHNlIHsKPiA+ID4gPiA+
ICsgICAgICAgICAgICAgICByZXQgPSBjcnRjX2Z1bmNzLT5tb2RlX3NldF9iYXNlKGNydGMsIGNy
dGMtPngsIGNydGMtPnksIG9sZF9mYik7Cj4gPiA+ID4gPiArICAgICAgIH0KPiA+ID4gPiA+ICsK
PiA+ID4gPiA+ICsgICAgICAgLyogUmVzdG9yZSBwcmV2aW91cyBmYiBpbiBjYXNlIG9mIGZhaWx1
cmUuICovCj4gPiA+ID4gPiArICAgICAgIGlmIChyZXQpCj4gPiA+ID4gPiArICAgICAgICAgICAg
ICAgY3J0Yy0+cHJpbWFyeS0+ZmIgPSBjdXJyZW50X2ZiOwo+ID4gPiA+ID4gKwo+ID4gPiA+ID4g
KyAgICAgICByZXR1cm4gcmV0Owo+ID4gPiA+ID4gK30KPiA+ID4gPiA+ICsKPiA+ID4gPiA+ICBp
bnQgZ21hX2NydGNfc2V0X2NvbmZpZyhzdHJ1Y3QgZHJtX21vZGVfc2V0ICpzZXQsCj4gPiA+ID4g
PiAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgZHJtX21vZGVzZXRfYWNxdWlyZV9jdHgg
KmN0eCkKPiA+ID4gPiA+ICB7Cj4gPiA+ID4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2dtYTUwMC9nbWFfZGlzcGxheS5oIGIvZHJpdmVycy9ncHUvZHJtL2dtYTUwMC9nbWFfZGlzcGxh
eS5oCj4gPiA+ID4gPiBpbmRleCBmZGJkN2VjYWE1OWMuLjdiZDZjMWVlOGIyMSAxMDA2NDQKPiA+
ID4gPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9nbWE1MDAvZ21hX2Rpc3BsYXkuaAo+ID4gPiA+
ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2dtYTUwMC9nbWFfZGlzcGxheS5oCj4gPiA+ID4gPiBA
QCAtMTEsNiArMTEsNyBAQAo+ID4gPiA+ID4gICNkZWZpbmUgX0dNQV9ESVNQTEFZX0hfCj4gPiA+
ID4gPgo+ID4gPiA+ID4gICNpbmNsdWRlIDxsaW51eC9wbV9ydW50aW1lLmg+Cj4gPiA+ID4gPiAr
I2luY2x1ZGUgPGRybS9kcm1fdmJsYW5rLmg+Cj4gPiA+ID4gPgo+ID4gPiA+ID4gIHN0cnVjdCBk
cm1fZW5jb2RlcjsKPiA+ID4gPiA+ICBzdHJ1Y3QgZHJtX21vZGVfc2V0Owo+ID4gPiA+ID4gQEAg
LTcxLDYgKzcyLDExIEBAIGV4dGVybiB2b2lkIGdtYV9jcnRjX3ByZXBhcmUoc3RydWN0IGRybV9j
cnRjICpjcnRjKTsKPiA+ID4gPiA+ICBleHRlcm4gdm9pZCBnbWFfY3J0Y19jb21taXQoc3RydWN0
IGRybV9jcnRjICpjcnRjKTsKPiA+ID4gPiA+ICBleHRlcm4gdm9pZCBnbWFfY3J0Y19kaXNhYmxl
KHN0cnVjdCBkcm1fY3J0YyAqY3J0Yyk7Cj4gPiA+ID4gPiAgZXh0ZXJuIHZvaWQgZ21hX2NydGNf
ZGVzdHJveShzdHJ1Y3QgZHJtX2NydGMgKmNydGMpOwo+ID4gPiA+ID4gK2V4dGVybiBpbnQgZ21h
X2NydGNfcGFnZV9mbGlwKHN0cnVjdCBkcm1fY3J0YyAqY3J0YywKPiA+ID4gPiA+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZiLAo+ID4gPiA+
ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGRybV9wZW5kaW5nX3ZibGFu
a19ldmVudCAqZXZlbnQsCj4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1
aW50MzJfdCBwYWdlX2ZsaXBfZmxhZ3MsCj4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBzdHJ1Y3QgZHJtX21vZGVzZXRfYWNxdWlyZV9jdHggKmN0eCk7Cj4gPiA+ID4gPiAg
ZXh0ZXJuIGludCBnbWFfY3J0Y19zZXRfY29uZmlnKHN0cnVjdCBkcm1fbW9kZV9zZXQgKnNldCwK
PiA+ID4gPiA+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgZHJtX21vZGVz
ZXRfYWNxdWlyZV9jdHggKmN0eCk7Cj4gPiA+ID4gPgo+ID4gPiA+ID4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9nbWE1MDAvcHNiX2ludGVsX2Rpc3BsYXkuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9nbWE1MDAvcHNiX2ludGVsX2Rpc3BsYXkuYwo+ID4gPiA+ID4gaW5kZXggNDI1NjQxMDUzNWYw
Li5mZWQzYjU2M2U2MmUgMTAwNjQ0Cj4gPiA+ID4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vZ21h
NTAwL3BzYl9pbnRlbF9kaXNwbGF5LmMKPiA+ID4gPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9n
bWE1MDAvcHNiX2ludGVsX2Rpc3BsYXkuYwo+ID4gPiA+ID4gQEAgLTQzMiw2ICs0MzIsNyBAQCBj
b25zdCBzdHJ1Y3QgZHJtX2NydGNfZnVuY3MgcHNiX2ludGVsX2NydGNfZnVuY3MgPSB7Cj4gPiA+
ID4gPiAgICAgICAgIC5nYW1tYV9zZXQgPSBnbWFfY3J0Y19nYW1tYV9zZXQsCj4gPiA+ID4gPiAg
ICAgICAgIC5zZXRfY29uZmlnID0gZ21hX2NydGNfc2V0X2NvbmZpZywKPiA+ID4gPiA+ICAgICAg
ICAgLmRlc3Ryb3kgPSBnbWFfY3J0Y19kZXN0cm95LAo+ID4gPiA+ID4gKyAgICAgICAucGFnZV9m
bGlwID0gZ21hX2NydGNfcGFnZV9mbGlwLAo+ID4gPiA+ID4gIH07Cj4gPiA+ID4gPgo+ID4gPiA+
ID4gIGNvbnN0IHN0cnVjdCBnbWFfY2xvY2tfZnVuY3MgcHNiX2Nsb2NrX2Z1bmNzID0gewo+ID4g
PiA+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9nbWE1MDAvcHNiX2ludGVsX2Rydi5o
IGIvZHJpdmVycy9ncHUvZHJtL2dtYTUwMC9wc2JfaW50ZWxfZHJ2LmgKPiA+ID4gPiA+IGluZGV4
IGNkZjEwMzMzZDFjMi4uMTZjNjEzNmY3NzhiIDEwMDY0NAo+ID4gPiA+ID4gLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2dtYTUwMC9wc2JfaW50ZWxfZHJ2LmgKPiA+ID4gPiA+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9nbWE1MDAvcHNiX2ludGVsX2Rydi5oCj4gPiA+ID4gPiBAQCAtMTIsNiArMTIsNyBA
QAo+ID4gPiA+ID4gICNpbmNsdWRlIDxkcm0vZHJtX2NydGNfaGVscGVyLmg+Cj4gPiA+ID4gPiAg
I2luY2x1ZGUgPGRybS9kcm1fZW5jb2Rlci5oPgo+ID4gPiA+ID4gICNpbmNsdWRlIDxkcm0vZHJt
X3Byb2JlX2hlbHBlci5oPgo+ID4gPiA+ID4gKyNpbmNsdWRlIDxkcm0vZHJtX3ZibGFuay5oPgo+
ID4gPiA+ID4gICNpbmNsdWRlIDxsaW51eC9ncGlvLmg+Cj4gPiA+ID4gPiAgI2luY2x1ZGUgImdt
YV9kaXNwbGF5LmgiCj4gPiA+ID4gPgo+ID4gPiA+ID4gQEAgLTE4Miw2ICsxODMsOCBAQCBzdHJ1
Y3QgZ21hX2NydGMgewo+ID4gPiA+ID4gICAgICAgICBzdHJ1Y3QgcHNiX2ludGVsX2NydGNfc3Rh
dGUgKmNydGNfc3RhdGU7Cj4gPiA+ID4gPgo+ID4gPiA+ID4gICAgICAgICBjb25zdCBzdHJ1Y3Qg
Z21hX2Nsb2NrX2Z1bmNzICpjbG9ja19mdW5jczsKPiA+ID4gPiA+ICsKPiA+ID4gPiA+ICsgICAg
ICAgc3RydWN0IGRybV9wZW5kaW5nX3ZibGFua19ldmVudCAqcGFnZV9mbGlwX2V2ZW50Owo+ID4g
PiA+ID4gIH07Cj4gPiA+ID4gPgo+ID4gPiA+ID4gICNkZWZpbmUgdG9fZ21hX2NydGMoeCkgXAo+
ID4gPiA+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9nbWE1MDAvcHNiX2lycS5jIGIv
ZHJpdmVycy9ncHUvZHJtL2dtYTUwMC9wc2JfaXJxLmMKPiA+ID4gPiA+IGluZGV4IGU2MjY1ZmI4
NTYyNi4uZjc4N2E1MWY2MzM1IDEwMDY0NAo+ID4gPiA+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2dtYTUwMC9wc2JfaXJxLmMKPiA+ID4gPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9nbWE1MDAv
cHNiX2lycS5jCj4gPiA+ID4gPiBAQCAtMTY1LDExICsxNjUsMjMgQEAgc3RhdGljIHZvaWQgbWlk
X3BpcGVfZXZlbnRfaGFuZGxlcihzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCBpbnQgcGlwZSkKPiA+
ID4gPiA+ICAgICAgICAgICAgICAgICAiJXMsIGNhbid0IGNsZWFyIHN0YXR1cyBiaXRzIGZvciBw
aXBlICVkLCBpdHMgdmFsdWUgPSAweCV4LlxuIiwKPiA+ID4gPiA+ICAgICAgICAgICAgICAgICBf
X2Z1bmNfXywgcGlwZSwgUFNCX1JWREMzMihwaXBlX3N0YXRfcmVnKSk7Cj4gPiA+ID4gPgo+ID4g
PiA+ID4gLSAgICAgICBpZiAocGlwZV9zdGF0X3ZhbCAmIFBJUEVfVkJMQU5LX1NUQVRVUykKPiA+
ID4gPiA+IC0gICAgICAgICAgICAgICBkcm1faGFuZGxlX3ZibGFuayhkZXYsIHBpcGUpOwo+ID4g
PiA+ID4gKyAgICAgICBpZiAocGlwZV9zdGF0X3ZhbCAmIFBJUEVfVkJMQU5LX1NUQVRVUyB8fAo+
ID4gPiA+ID4gKyAgICAgICAgICAgKElTX01GTEQoZGV2KSAmJiBwaXBlX3N0YXRfdmFsICYgUElQ
RV9URV9TVEFUVVMpKSB7Cj4gPiA+ID4gPiArICAgICAgICAgICAgICAgc3RydWN0IGRybV9jcnRj
ICpjcnRjID0gZHJtX2NydGNfZnJvbV9pbmRleChkZXYsIHBpcGUpOwo+ID4gPiA+ID4gKyAgICAg
ICAgICAgICAgIHN0cnVjdCBnbWFfY3J0YyAqZ21hX2NydGMgPSB0b19nbWFfY3J0YyhjcnRjKTsK
PiA+ID4gPiA+ICsgICAgICAgICAgICAgICB1bnNpZ25lZCBsb25nIGZsYWdzOwo+ID4gPiA+ID4K
PiA+ID4gPiA+IC0gICAgICAgaWYgKHBpcGVfc3RhdF92YWwgJiBQSVBFX1RFX1NUQVRVUykKPiA+
ID4gPiA+ICAgICAgICAgICAgICAgICBkcm1faGFuZGxlX3ZibGFuayhkZXYsIHBpcGUpOwo+ID4g
PiA+ID4gKwo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIHNwaW5fbG9ja19pcnFzYXZlKCZkZXYt
PmV2ZW50X2xvY2ssIGZsYWdzKTsKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICBpZiAoZ21hX2Ny
dGMtPnBhZ2VfZmxpcF9ldmVudCkgewo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAg
ZHJtX2NydGNfc2VuZF92YmxhbmtfZXZlbnQoY3J0YywKPiA+ID4gPiA+ICsgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdtYV9jcnRjLT5wYWdlX2ZsaXBf
ZXZlbnQpOwo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgZ21hX2NydGMtPnBhZ2Vf
ZmxpcF9ldmVudCA9IE5VTEw7Cj4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICBkcm1f
Y3J0Y192YmxhbmtfcHV0KGNydGMpOwo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIH0KPiA+ID4g
PiA+ICsgICAgICAgICAgICAgICBzcGluX3VubG9ja19pcnFyZXN0b3JlKCZkZXYtPmV2ZW50X2xv
Y2ssIGZsYWdzKTsKPiA+ID4gPiA+ICsgICAgICAgfQo+ID4gPiA+ID4gIH0KPiA+ID4gPiA+Cj4g
PiA+ID4gPiAgLyoKPiA+ID4gPiA+IC0tCj4gPiA+ID4gPiAyLjIzLjAKPiA+ID4gPiA+Cj4gPiA+
ID4KPiA+ID4gPiBMb29rcyBnb29kIQo+ID4gPiA+Cj4gPiA+ID4gUmV2aWV3ZWQtYnk6IFBhdHJp
ayBKYWtvYnNzb24gPHBhdHJpay5yLmpha29ic3NvbkBnbWFpbC5jb20+Cj4gPiA+Cj4gPiA+IEkn
bSBhc3N1bWluZyB5b3UnbGwgYWxzbyBwdXNoIHRoZXNlPwo+ID4gPgo+ID4gPiBBbHdheXMgY29u
ZnVzaW5nIHdoZW4gbWFpbnRhaW5lci9jb21taXR0ZXJzIHItYiBidXQgZG9uJ3Qgc2F5IGFueXRo
aW5nCj4gPiA+IGFib3V0IHB1c2hpbmcgdGhlIHBhdGNoLiBHb29kIGNoYW5jZXMgaXQnbGwgZmFs
bCB0aHJvdWdoIGNyYWNrcyBpZiB0aGF0Cj4gPiA+IGhhcHBlbnMuCj4gPiA+IC1EYW5pZWwKPiA+
Cj4gPiBBaCBzb3JyeSwgSSBhbHNvIGZpbmQgaXQgY29uZnVzaW5nLiBJJ2xsIHB1c2ggdGhlc2Uu
Cj4KPiBUaGFua3MuCj4KPiBBbHNvIGZvciBhIHF1aWNrIGNoZWNrIHdoZXRoZXIgc29tZW9uZSBp
cyBjb21taXR0ZXIgb3Igbm90Ogo+IGh0dHBzOi8vcGVvcGxlLmZyZWVkZXNrdG9wLm9yZy9+c2Vh
bnBhdWwvd2hvbWlzYy5odG1sCgpHcmVhdCwgSSd2ZSBiZWVuIGxvb2tpbmcgZm9yIGEgbGlzdCBs
aWtlIHRoYXQuCgo+Cj4gT25jZSB3ZSdyZSBvbiBnaXRsYWIgaXQgc2hvdWxkIGJlIGEgbG90IGVh
c2llciBzaW5jZSB0aGUgbGlzdCBvZgo+IGNvbW1pdHRlcnMgaXMgYWxsIHRoZXJlIGluIHRoZSB3
ZWIgdWkuCj4gLURhbmllbAo+Cj4gPgo+ID4gLVBhdHJpawo+ID4KPiA+ID4gLS0KPiA+ID4gRGFu
aWVsIFZldHRlcgo+ID4gPiBTb2Z0d2FyZSBFbmdpbmVlciwgSW50ZWwgQ29ycG9yYXRpb24KPiA+
ID4gaHR0cDovL2Jsb2cuZmZ3bGwuY2gKPgo+Cj4KPiAtLQo+IERhbmllbCBWZXR0ZXIKPiBTb2Z0
d2FyZSBFbmdpbmVlciwgSW50ZWwgQ29ycG9yYXRpb24KPiArNDEgKDApIDc5IDM2NSA1NyA0OCAt
IGh0dHA6Ly9ibG9nLmZmd2xsLmNoCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVk
ZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZv
L2RyaS1kZXZlbA==
