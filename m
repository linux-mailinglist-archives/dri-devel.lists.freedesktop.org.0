Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 19D5BAD9A0
	for <lists+dri-devel@lfdr.de>; Mon,  9 Sep 2019 15:05:12 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 65FD289B00;
	Mon,  9 Sep 2019 13:05:04 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mx1.suse.de (mx2.suse.de [195.135.220.15])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 878BF898B6
 for <dri-devel@lists.freedesktop.org>; Mon,  9 Sep 2019 13:04:58 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id EAB86ADDD;
 Mon,  9 Sep 2019 13:04:56 +0000 (UTC)
From: Thomas Zimmermann <tzimmermann@suse.de>
To: daniel@ffwll.ch, kraxel@redhat.com, airlied@linux.ie, corbet@lwn.net,
 z.liuxinliang@hisilicon.com, zourongrong@gmail.com,
 kong.kongxinwei@hisilicon.com, puck.chen@hisilicon.com,
 hdegoede@redhat.com, sam@ravnborg.org, yc_chen@aspeedtech.com
Subject: [PATCH 2/4] drm/vram: Have VRAM MM call GEM VRAM functions directly
Date: Mon,  9 Sep 2019 15:04:51 +0200
Message-Id: <20190909130453.6718-3-tzimmermann@suse.de>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20190909130453.6718-1-tzimmermann@suse.de>
References: <20190909130453.6718-1-tzimmermann@suse.de>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: virtualization@lists.linux-foundation.org,
 Thomas Zimmermann <tzimmermann@suse.de>, dri-devel@lists.freedesktop.org,
 linux-doc@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VlJBTSBNTSBhbmQgR0VNIFZSQU0gYnVmZmVyIG9iamVjdHMgYXJlIG9ubHkgdXNlZCB3aXRoIGVh
Y2ggb3RoZXI7CmNvbm5lY3RlZCB2aWEgMyBmdW5jdGlvbiBwb2ludGVycy4gU2ltcGxpZml5IHRo
aXMgY29kZSBieSBtYWtpbmcgdGhlCm1lbW9yeSBtYW5hZ2VyIGNhbGwgdGhlIHJzcC4gZnVuY3Rp
b25zIGZyb20gdGhlIEJPcyBkaXJlY3RseTsgYW5kCnJlbW92ZSB0aGUgZnVuY3Rpb25zIGZyb20g
aGUgQk8ncyBwdWJsaWMgaW50ZXJmYWNlLgoKU2lnbmVkLW9mZi1ieTogVGhvbWFzIFppbW1lcm1h
bm4gPHR6aW1tZXJtYW5uQHN1c2UuZGU+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2FzdC9hc3RfdHRt
LmMgICAgICAgICAgICAgICB8ICAgMiArLQogZHJpdmVycy9ncHUvZHJtL2JvY2hzL2JvY2hzX21t
LmMgICAgICAgICAgICB8ICAgMyArLQogZHJpdmVycy9ncHUvZHJtL2RybV9nZW1fdnJhbV9oZWxw
ZXIuYyAgICAgICB8IDExOSArKysrKystLS0tLS0tLS0tLS0tLQogZHJpdmVycy9ncHUvZHJtL2Ry
bV92cmFtX2hlbHBlcl9jb21tb24uYyAgICB8ICAgOCArLQogZHJpdmVycy9ncHUvZHJtL2hpc2ls
aWNvbi9oaWJtYy9oaWJtY190dG0uYyB8ICAgMiArLQogZHJpdmVycy9ncHUvZHJtL21nYWcyMDAv
bWdhZzIwMF90dG0uYyAgICAgICB8ICAgMyArLQogZHJpdmVycy9ncHUvZHJtL3Zib3h2aWRlby92
Ym94X3R0bS5jICAgICAgICB8ICAgMyArLQogaW5jbHVkZS9kcm0vZHJtX2dlbV92cmFtX2hlbHBl
ci5oICAgICAgICAgICB8ICAyNCArLS0tCiBpbmNsdWRlL2RybS9kcm1fdnJhbV9tbV9oZWxwZXIu
aCAgICAgICAgICAgIHwgIDMyIC0tLS0tLQogOSBmaWxlcyBjaGFuZ2VkLCA0NCBpbnNlcnRpb25z
KCspLCAxNTIgZGVsZXRpb25zKC0pCiBkZWxldGUgbW9kZSAxMDA2NDQgaW5jbHVkZS9kcm0vZHJt
X3ZyYW1fbW1faGVscGVyLmgKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYXN0L2FzdF90
dG0uYyBiL2RyaXZlcnMvZ3B1L2RybS9hc3QvYXN0X3R0bS5jCmluZGV4IDA4YmEwYTkxNzU5My4u
ZmFkMzQxMDYwODNhIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYXN0L2FzdF90dG0uYwor
KysgYi9kcml2ZXJzL2dwdS9kcm0vYXN0L2FzdF90dG0uYwpAQCAtNDEsNyArNDEsNyBAQCBpbnQg
YXN0X21tX2luaXQoc3RydWN0IGFzdF9wcml2YXRlICphc3QpCiAKIAl2bW0gPSBkcm1fdnJhbV9o
ZWxwZXJfYWxsb2NfbW0oCiAJCWRldiwgcGNpX3Jlc291cmNlX3N0YXJ0KGRldi0+cGRldiwgMCks
Ci0JCWFzdC0+dnJhbV9zaXplLCAmZHJtX2dlbV92cmFtX21tX2Z1bmNzKTsKKwkJYXN0LT52cmFt
X3NpemUpOwogCWlmIChJU19FUlIodm1tKSkgewogCQlyZXQgPSBQVFJfRVJSKHZtbSk7CiAJCURS
TV9FUlJPUigiRXJyb3IgaW5pdGlhbGl6aW5nIFZSQU0gTU07ICVkXG4iLCByZXQpOwpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2JvY2hzL2JvY2hzX21tLmMgYi9kcml2ZXJzL2dwdS9kcm0v
Ym9jaHMvYm9jaHNfbW0uYwppbmRleCA4ZjliYjg4NmY3YWQuLjFiNzRmNTMwYjA3YyAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2JvY2hzL2JvY2hzX21tLmMKKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2JvY2hzL2JvY2hzX21tLmMKQEAgLTExLDggKzExLDcgQEAgaW50IGJvY2hzX21tX2luaXQo
c3RydWN0IGJvY2hzX2RldmljZSAqYm9jaHMpCiAJc3RydWN0IGRybV92cmFtX21tICp2bW07CiAK
IAl2bW0gPSBkcm1fdnJhbV9oZWxwZXJfYWxsb2NfbW0oYm9jaHMtPmRldiwgYm9jaHMtPmZiX2Jh
c2UsCi0JCQkJICAgICAgIGJvY2hzLT5mYl9zaXplLAotCQkJCSAgICAgICAmZHJtX2dlbV92cmFt
X21tX2Z1bmNzKTsKKwkJCQkgICAgICAgYm9jaHMtPmZiX3NpemUpOwogCXJldHVybiBQVFJfRVJS
X09SX1pFUk8odm1tKTsKIH0KIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2RybV9nZW1f
dnJhbV9oZWxwZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fZ2VtX3ZyYW1faGVscGVyLmMKaW5k
ZXggMjAyZjc0NDUzNTgwLi5lZDFmZmJlYzVkMDIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9kcm1fZ2VtX3ZyYW1faGVscGVyLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2RybV9nZW1fdnJh
bV9oZWxwZXIuYwpAQCAtNSw3ICs1LDYgQEAKICNpbmNsdWRlIDxkcm0vZHJtX2ZpbGUuaD4KICNp
bmNsdWRlIDxkcm0vZHJtX21vZGUuaD4KICNpbmNsdWRlIDxkcm0vZHJtX3ByaW1lLmg+Ci0jaW5j
bHVkZSA8ZHJtL2RybV92cmFtX21tX2hlbHBlci5oPgogI2luY2x1ZGUgPGRybS90dG0vdHRtX3Bh
Z2VfYWxsb2MuaD4KIAogc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fZ2VtX29iamVjdF9mdW5jcyBk
cm1fZ2VtX3ZyYW1fb2JqZWN0X2Z1bmNzOwpAQCAtNDYyLDY4ICs0NjEsMjUgQEAgc3RhdGljIGJv
b2wgZHJtX2lzX2dlbV92cmFtKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8pCiAJcmV0dXJu
IChiby0+ZGVzdHJveSA9PSB0dG1fYnVmZmVyX29iamVjdF9kZXN0cm95KTsKIH0KIAotLyoqCi0g
KiBkcm1fZ2VtX3ZyYW1fYm9fZHJpdmVyX2V2aWN0X2ZsYWdzKCkgLSBcCi0JSW1wbGVtZW50cyAm
c3RydWN0IHR0bV9ib19kcml2ZXIuZXZpY3RfZmxhZ3MKLSAqIEBibzoJVFRNIGJ1ZmZlciBvYmpl
Y3QuIFJlZmVycyB0byAmc3RydWN0IGRybV9nZW1fdnJhbV9vYmplY3QuYm8KLSAqIEBwbDoJVFRN
IHBsYWNlbWVudCBpbmZvcm1hdGlvbi4KLSAqLwotdm9pZCBkcm1fZ2VtX3ZyYW1fYm9fZHJpdmVy
X2V2aWN0X2ZsYWdzKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCi0JCQkJCXN0cnVjdCB0
dG1fcGxhY2VtZW50ICpwbCkKK3N0YXRpYyB2b2lkIGRybV9nZW1fdnJhbV9ib19kcml2ZXJfZXZp
Y3RfZmxhZ3Moc3RydWN0IGRybV9nZW1fdnJhbV9vYmplY3QgKmdibywKKwkJCQkJICAgICAgIHN0
cnVjdCB0dG1fcGxhY2VtZW50ICpwbCkKIHsKLQlzdHJ1Y3QgZHJtX2dlbV92cmFtX29iamVjdCAq
Z2JvOwotCi0JLyogVFRNIG1heSBwYXNzIEJPcyB0aGF0IGFyZSBub3QgR0VNIFZSQU0gQk9zLiAq
LwotCWlmICghZHJtX2lzX2dlbV92cmFtKGJvKSkKLQkJcmV0dXJuOwotCi0JZ2JvID0gZHJtX2dl
bV92cmFtX29mX2JvKGJvKTsKIAlkcm1fZ2VtX3ZyYW1fcGxhY2VtZW50KGdibywgVFRNX1BMX0ZM
QUdfU1lTVEVNKTsKIAkqcGwgPSBnYm8tPnBsYWNlbWVudDsKIH0KLUVYUE9SVF9TWU1CT0woZHJt
X2dlbV92cmFtX2JvX2RyaXZlcl9ldmljdF9mbGFncyk7CiAKLS8qKgotICogZHJtX2dlbV92cmFt
X2JvX2RyaXZlcl92ZXJpZnlfYWNjZXNzKCkgLSBcCi0JSW1wbGVtZW50cyAmc3RydWN0IHR0bV9i
b19kcml2ZXIudmVyaWZ5X2FjY2VzcwotICogQGJvOgkJVFRNIGJ1ZmZlciBvYmplY3QuIFJlZmVy
cyB0byAmc3RydWN0IGRybV9nZW1fdnJhbV9vYmplY3QuYm8KLSAqIEBmaWxwOglGaWxlIHBvaW50
ZXIuCi0gKgotICogUmV0dXJuczoKLSAqIDAgb24gc3VjY2Vzcywgb3IKLSAqIGEgbmVnYXRpdmUg
ZXJybm8gY29kZSBvdGhlcndpc2UuCi0gKi8KLWludCBkcm1fZ2VtX3ZyYW1fYm9fZHJpdmVyX3Zl
cmlmeV9hY2Nlc3Moc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKLQkJCQkJIHN0cnVjdCBm
aWxlICpmaWxwKQorc3RhdGljIGludCBkcm1fZ2VtX3ZyYW1fYm9fZHJpdmVyX3ZlcmlmeV9hY2Nl
c3Moc3RydWN0IGRybV9nZW1fdnJhbV9vYmplY3QgKmdibywKKwkJCQkJCXN0cnVjdCBmaWxlICpm
aWxwKQogewotCXN0cnVjdCBkcm1fZ2VtX3ZyYW1fb2JqZWN0ICpnYm8gPSBkcm1fZ2VtX3ZyYW1f
b2ZfYm8oYm8pOwotCiAJcmV0dXJuIGRybV92bWFfbm9kZV92ZXJpZnlfYWNjZXNzKCZnYm8tPmJv
LmJhc2Uudm1hX25vZGUsCiAJCQkJCSAgZmlscC0+cHJpdmF0ZV9kYXRhKTsKIH0KLUVYUE9SVF9T
WU1CT0woZHJtX2dlbV92cmFtX2JvX2RyaXZlcl92ZXJpZnlfYWNjZXNzKTsKIAotLyoqCi0gKiBk
cm1fZ2VtX3ZyYW1fYm9fZHJpdmVyX21vdmVfbm90aWZ5KCkgLQotICoJSW1wbGVtZW50cyAmc3Ry
dWN0IHR0bV9ib19kcml2ZXIubW92ZV9ub3RpZnkKLSAqIEBibzoJCVRUTSBidWZmZXIgb2JqZWN0
LiBSZWZlcnMgdG8gJnN0cnVjdCBkcm1fZ2VtX3ZyYW1fb2JqZWN0LmJvCi0gKiBAZXZpY3Q6CVRy
dWUsIGlmIHRoZSBCTyBpcyBiZWluZyBldmljdGVkIGZyb20gZ3JhcGhpY3MgbWVtb3J5OwotICoJ
CWZhbHNlIG90aGVyd2lzZS4KLSAqIEBuZXdfbWVtOglOZXcgbWVtb3J5IHJlZ2lvbiwgb3IgTlVM
TCBvbiBkZXN0cnVjdGlvbgotICovCi12b2lkIGRybV9nZW1fdnJhbV9ib19kcml2ZXJfbW92ZV9u
b3RpZnkoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKLQkJCQkJYm9vbCBldmljdCwKLQkJ
CQkJc3RydWN0IHR0bV9tZW1fcmVnICpuZXdfbWVtKQorc3RhdGljIHZvaWQgZHJtX2dlbV92cmFt
X2JvX2RyaXZlcl9tb3ZlX25vdGlmeShzdHJ1Y3QgZHJtX2dlbV92cmFtX29iamVjdCAqZ2JvLAor
CQkJCQkgICAgICAgYm9vbCBldmljdCwKKwkJCQkJICAgICAgIHN0cnVjdCB0dG1fbWVtX3JlZyAq
bmV3X21lbSkKIHsKLQlzdHJ1Y3QgZHJtX2dlbV92cmFtX29iamVjdCAqZ2JvOwotCXN0cnVjdCB0
dG1fYm9fa21hcF9vYmogKmttYXA7Ci0KLQkvKiBUVE0gbWF5IHBhc3MgQk9zIHRoYXQgYXJlIG5v
dCBHRU0gVlJBTSBCT3MuICovCi0JaWYgKCFkcm1faXNfZ2VtX3ZyYW0oYm8pKQotCQlyZXR1cm47
Ci0KLQlnYm8gPSBkcm1fZ2VtX3ZyYW1fb2ZfYm8oYm8pOwotCWttYXAgPSAmZ2JvLT5rbWFwOwor
CXN0cnVjdCB0dG1fYm9fa21hcF9vYmogKmttYXAgPSAmZ2JvLT5rbWFwOwogCiAJaWYgKFdBUk5f
T05fT05DRShnYm8tPmttYXBfdXNlX2NvdW50KSkKIAkJcmV0dXJuOwpAQCAtNTMzLDIxICs0ODks
NiBAQCB2b2lkIGRybV9nZW1fdnJhbV9ib19kcml2ZXJfbW92ZV9ub3RpZnkoc3RydWN0IHR0bV9i
dWZmZXJfb2JqZWN0ICpibywKIAl0dG1fYm9fa3VubWFwKGttYXApOwogCWttYXAtPnZpcnR1YWwg
PSBOVUxMOwogfQotRVhQT1JUX1NZTUJPTChkcm1fZ2VtX3ZyYW1fYm9fZHJpdmVyX21vdmVfbm90
aWZ5KTsKLQotLyoKLSAqIGRybV9nZW1fdnJhbV9tbV9mdW5jcyAtIEZ1bmN0aW9ucyBmb3IgJnN0
cnVjdCBkcm1fdnJhbV9tbQotICoKLSAqIE1vc3QgdXNlcnMgb2YgQHN0cnVjdCBkcm1fZ2VtX3Zy
YW1fb2JqZWN0IHdpbGwgYWxzbyB1c2UKLSAqIEBzdHJ1Y3QgZHJtX3ZyYW1fbW0uIFRoaXMgaW5z
dGFuY2Ugb2YgJnN0cnVjdCBkcm1fdnJhbV9tbV9mdW5jcwotICogY2FuIGJlIHVzZWQgdG8gY29u
bmVjdCBib3RoLgotICovCi1jb25zdCBzdHJ1Y3QgZHJtX3ZyYW1fbW1fZnVuY3MgZHJtX2dlbV92
cmFtX21tX2Z1bmNzID0gewotCS5ldmljdF9mbGFncyA9IGRybV9nZW1fdnJhbV9ib19kcml2ZXJf
ZXZpY3RfZmxhZ3MsCi0JLnZlcmlmeV9hY2Nlc3MgPSBkcm1fZ2VtX3ZyYW1fYm9fZHJpdmVyX3Zl
cmlmeV9hY2Nlc3MsCi0JLm1vdmVfbm90aWZ5ID0gZHJtX2dlbV92cmFtX2JvX2RyaXZlcl9tb3Zl
X25vdGlmeSwKLX07Ci1FWFBPUlRfU1lNQk9MKGRybV9nZW1fdnJhbV9tbV9mdW5jcyk7CiAKIC8q
CiAgKiBIZWxwZXJzIGZvciBzdHJ1Y3QgZHJtX2dlbV9vYmplY3RfZnVuY3MKQEAgLTgxMiwzMSAr
NzUzLDQ0IEBAIHN0YXRpYyBpbnQgYm9fZHJpdmVyX2luaXRfbWVtX3R5cGUoc3RydWN0IHR0bV9i
b19kZXZpY2UgKmJkZXYsIHVpbnQzMl90IHR5cGUsCiBzdGF0aWMgdm9pZCBib19kcml2ZXJfZXZp
Y3RfZmxhZ3Moc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKIAkJCQkgIHN0cnVjdCB0dG1f
cGxhY2VtZW50ICpwbGFjZW1lbnQpCiB7Ci0Jc3RydWN0IGRybV92cmFtX21tICp2bW0gPSBkcm1f
dnJhbV9tbV9vZl9iZGV2KGJvLT5iZGV2KTsKKwlzdHJ1Y3QgZHJtX2dlbV92cmFtX29iamVjdCAq
Z2JvOwogCi0JaWYgKHZtbS0+ZnVuY3MgJiYgdm1tLT5mdW5jcy0+ZXZpY3RfZmxhZ3MpCi0JCXZt
bS0+ZnVuY3MtPmV2aWN0X2ZsYWdzKGJvLCBwbGFjZW1lbnQpOworCS8qIFRUTSBtYXkgcGFzcyBC
T3MgdGhhdCBhcmUgbm90IEdFTSBWUkFNIEJPcy4gKi8KKwlpZiAoIWRybV9pc19nZW1fdnJhbShi
bykpCisJCXJldHVybjsKKworCWdibyA9IGRybV9nZW1fdnJhbV9vZl9ibyhibyk7CisKKwlkcm1f
Z2VtX3ZyYW1fYm9fZHJpdmVyX2V2aWN0X2ZsYWdzKGdibywgcGxhY2VtZW50KTsKIH0KIAogc3Rh
dGljIGludCBib19kcml2ZXJfdmVyaWZ5X2FjY2VzcyhzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3Qg
KmJvLAogCQkJCSAgIHN0cnVjdCBmaWxlICpmaWxwKQogewotCXN0cnVjdCBkcm1fdnJhbV9tbSAq
dm1tID0gZHJtX3ZyYW1fbW1fb2ZfYmRldihiby0+YmRldik7CisJc3RydWN0IGRybV9nZW1fdnJh
bV9vYmplY3QgKmdibzsKIAotCWlmICghdm1tLT5mdW5jcyB8fCAhdm1tLT5mdW5jcy0+dmVyaWZ5
X2FjY2VzcykKLQkJcmV0dXJuIDA7Ci0JcmV0dXJuIHZtbS0+ZnVuY3MtPnZlcmlmeV9hY2Nlc3Mo
Ym8sIGZpbHApOworCS8qIFRUTSBtYXkgcGFzcyBCT3MgdGhhdCBhcmUgbm90IEdFTSBWUkFNIEJP
cy4gKi8KKwlpZiAoIWRybV9pc19nZW1fdnJhbShibykpCisJCXJldHVybiAtRUlOVkFMOworCisJ
Z2JvID0gZHJtX2dlbV92cmFtX29mX2JvKGJvKTsKKworCXJldHVybiBkcm1fZ2VtX3ZyYW1fYm9f
ZHJpdmVyX3ZlcmlmeV9hY2Nlc3MoZ2JvLCBmaWxwKTsKIH0KIAogc3RhdGljIHZvaWQgYm9fZHJp
dmVyX21vdmVfbm90aWZ5KHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCiAJCQkJICBib29s
IGV2aWN0LAogCQkJCSAgc3RydWN0IHR0bV9tZW1fcmVnICpuZXdfbWVtKQogewotCXN0cnVjdCBk
cm1fdnJhbV9tbSAqdm1tID0gZHJtX3ZyYW1fbW1fb2ZfYmRldihiby0+YmRldik7CisJc3RydWN0
IGRybV9nZW1fdnJhbV9vYmplY3QgKmdibzsKIAotCWlmICghdm1tLT5mdW5jcyB8fCAhdm1tLT5m
dW5jcy0+bW92ZV9ub3RpZnkpCisJLyogVFRNIG1heSBwYXNzIEJPcyB0aGF0IGFyZSBub3QgR0VN
IFZSQU0gQk9zLiAqLworCWlmICghZHJtX2lzX2dlbV92cmFtKGJvKSkKIAkJcmV0dXJuOwotCXZt
bS0+ZnVuY3MtPm1vdmVfbm90aWZ5KGJvLCBldmljdCwgbmV3X21lbSk7CisKKwlnYm8gPSBkcm1f
Z2VtX3ZyYW1fb2ZfYm8oYm8pOworCisJZHJtX2dlbV92cmFtX2JvX2RyaXZlcl9tb3ZlX25vdGlm
eShnYm8sIGV2aWN0LCBuZXdfbWVtKTsKIH0KIAogc3RhdGljIGludCBib19kcml2ZXJfaW9fbWVt
X3Jlc2VydmUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCkBAIC04OTYsMjEgKzg1MCwxOCBA
QCBzdGF0aWMgc3RydWN0IHR0bV9ib19kcml2ZXIgYm9fZHJpdmVyID0gewogICogQGRldjoJdGhl
IERSTSBkZXZpY2UKICAqIEB2cmFtX2Jhc2U6CXRoZSBiYXNlIGFkZHJlc3Mgb2YgdGhlIHZpZGVv
IG1lbW9yeQogICogQHZyYW1fc2l6ZToJdGhlIHNpemUgb2YgdGhlIHZpZGVvIG1lbW9yeSBpbiBi
eXRlcwotICogQGZ1bmNzOgljYWxsYmFjayBmdW5jdGlvbnMgZm9yIGJ1ZmZlciBvYmplY3RzCiAg
KgogICogUmV0dXJuczoKICAqIDAgb24gc3VjY2Vzcywgb3IKICAqIGEgbmVnYXRpdmUgZXJyb3Ig
Y29kZSBvdGhlcndpc2UuCiAgKi8KIGludCBkcm1fdnJhbV9tbV9pbml0KHN0cnVjdCBkcm1fdnJh
bV9tbSAqdm1tLCBzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LAotCQkgICAgIHVpbnQ2NF90IHZyYW1f
YmFzZSwgc2l6ZV90IHZyYW1fc2l6ZSwKLQkJICAgICBjb25zdCBzdHJ1Y3QgZHJtX3ZyYW1fbW1f
ZnVuY3MgKmZ1bmNzKQorCQkgICAgIHVpbnQ2NF90IHZyYW1fYmFzZSwgc2l6ZV90IHZyYW1fc2l6
ZSkKIHsKIAlpbnQgcmV0OwogCiAJdm1tLT52cmFtX2Jhc2UgPSB2cmFtX2Jhc2U7CiAJdm1tLT52
cmFtX3NpemUgPSB2cmFtX3NpemU7Ci0Jdm1tLT5mdW5jcyA9IGZ1bmNzOwogCiAJcmV0ID0gdHRt
X2JvX2RldmljZV9pbml0KCZ2bW0tPmJkZXYsICZib19kcml2ZXIsCiAJCQkJIGRldi0+YW5vbl9p
bm9kZS0+aV9tYXBwaW5nLApAQCAtOTYzLDE1ICs5MTQsMTMgQEAgRVhQT1JUX1NZTUJPTChkcm1f
dnJhbV9tbV9tbWFwKTsKICAqIEBkZXY6CXRoZSBEUk0gZGV2aWNlCiAgKiBAdnJhbV9iYXNlOgl0
aGUgYmFzZSBhZGRyZXNzIG9mIHRoZSB2aWRlbyBtZW1vcnkKICAqIEB2cmFtX3NpemU6CXRoZSBz
aXplIG9mIHRoZSB2aWRlbyBtZW1vcnkgaW4gYnl0ZXMKLSAqIEBmdW5jczoJY2FsbGJhY2sgZnVu
Y3Rpb25zIGZvciBidWZmZXIgb2JqZWN0cwogICoKICAqIFJldHVybnM6CiAgKiBUaGUgbmV3IGlu
c3RhbmNlIG9mICZzdHJ1Y3QgZHJtX3ZyYW1fbW0gb24gc3VjY2Vzcywgb3IKICAqIGFuIEVSUl9Q
VFIoKS1lbmNvZGVkIGVycm5vIGNvZGUgb3RoZXJ3aXNlLgogICovCiBzdHJ1Y3QgZHJtX3ZyYW1f
bW0gKmRybV92cmFtX2hlbHBlcl9hbGxvY19tbSgKLQlzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB1
aW50NjRfdCB2cmFtX2Jhc2UsIHNpemVfdCB2cmFtX3NpemUsCi0JY29uc3Qgc3RydWN0IGRybV92
cmFtX21tX2Z1bmNzICpmdW5jcykKKwlzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB1aW50NjRfdCB2
cmFtX2Jhc2UsIHNpemVfdCB2cmFtX3NpemUpCiB7CiAJaW50IHJldDsKIApAQCAtOTgyLDcgKzkz
MSw3IEBAIHN0cnVjdCBkcm1fdnJhbV9tbSAqZHJtX3ZyYW1faGVscGVyX2FsbG9jX21tKAogCWlm
ICghZGV2LT52cmFtX21tKQogCQlyZXR1cm4gRVJSX1BUUigtRU5PTUVNKTsKIAotCXJldCA9IGRy
bV92cmFtX21tX2luaXQoZGV2LT52cmFtX21tLCBkZXYsIHZyYW1fYmFzZSwgdnJhbV9zaXplLCBm
dW5jcyk7CisJcmV0ID0gZHJtX3ZyYW1fbW1faW5pdChkZXYtPnZyYW1fbW0sIGRldiwgdnJhbV9i
YXNlLCB2cmFtX3NpemUpOwogCWlmIChyZXQpCiAJCWdvdG8gZXJyX2tmcmVlOwogCmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vZHJtX3ZyYW1faGVscGVyX2NvbW1vbi5jIGIvZHJpdmVycy9n
cHUvZHJtL2RybV92cmFtX2hlbHBlcl9jb21tb24uYwppbmRleCBlOWM5ZjlhODBiYTMuLjIwMDBk
OWIzM2ZkNSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2RybV92cmFtX2hlbHBlcl9jb21t
b24uYworKysgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX3ZyYW1faGVscGVyX2NvbW1vbi5jCkBAIC03
LDkgKzcsOCBAQAogICoKICAqIFRoaXMgbGlicmFyeSBwcm92aWRlcyAmc3RydWN0IGRybV9nZW1f
dnJhbV9vYmplY3QgKEdFTSBWUkFNKSwgYSBHRU0KICAqIGJ1ZmZlciBvYmplY3QgdGhhdCBpcyBi
YWNrZWQgYnkgdmlkZW8gUkFNLiBJdCBjYW4gYmUgdXNlZCBmb3IKLSAqIGZyYW1lYnVmZmVyIGRl
dmljZXMgd2l0aCBkZWRpY2F0ZWQgbWVtb3J5LiBUaGUgdmlkZW8gUkFNIGNhbiBiZQotICogbWFu
YWdlZCB3aXRoICZzdHJ1Y3QgZHJtX3ZyYW1fbW0gKFZSQU0gTU0pLiBCb3RoIGRhdGEgc3RydWN0
dXJlcyBhcmUKLSAqIHN1cHBvc2VkIHRvIGJlIHVzZWQgdG9nZXRoZXIsIGJ1dCBjYW4gYWxzbyBi
ZSB1c2VkIGluZGl2aWR1YWxseS4KKyAqIGZyYW1lYnVmZmVyIGRldmljZXMgd2l0aCBkZWRpY2F0
ZWQgbWVtb3J5LiBUaGUgdmlkZW8gUkFNIGlzIG1hbmFnZWQKKyAqIGJ5ICZzdHJ1Y3QgZHJtX3Zy
YW1fbW0gKFZSQU0gTU0pLgogICoKICAqIFdpdGggdGhlIEdFTSBpbnRlcmZhY2UgdXNlcnNwYWNl
IGFwcGxpY2F0aW9ucyBjcmVhdGUsIG1hbmFnZSBhbmQgZGVzdHJveQogICogZ3JhcGhpY3MgYnVm
ZmVycywgc3VjaCBhcyBhbiBvbi1zY3JlZW4gZnJhbWVidWZmZXIuIEdFTSBkb2VzIG5vdCBwcm92
aWRlCkBAIC01MCw4ICs0OSw3IEBACiAgKgkJLy8gc2V0dXAgZGV2aWNlLCB2cmFtIGJhc2UgYW5k
IHNpemUKICAqCQkvLyAuLi4KICAqCi0gKgkJcmV0ID0gZHJtX3ZyYW1faGVscGVyX2FsbG9jX21t
KGRldiwgdnJhbV9iYXNlLCB2cmFtX3NpemUsCi0gKgkJCQkJICAgICAgICZkcm1fZ2VtX3ZyYW1f
bW1fZnVuY3MpOworICoJCXJldCA9IGRybV92cmFtX2hlbHBlcl9hbGxvY19tbShkZXYsIHZyYW1f
YmFzZSwgdnJhbV9zaXplKTsKICAqCQlpZiAocmV0KQogICoJCQlyZXR1cm4gcmV0OwogICoJCXJl
dHVybiAwOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2hpc2lsaWNvbi9oaWJtYy9oaWJt
Y190dG0uYyBiL2RyaXZlcnMvZ3B1L2RybS9oaXNpbGljb24vaGlibWMvaGlibWNfdHRtLmMKaW5k
ZXggNWQ1MmNkNzQ4NjAzLi4yMWI2ODRlYWI1YzkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9oaXNpbGljb24vaGlibWMvaGlibWNfdHRtLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2hpc2ls
aWNvbi9oaWJtYy9oaWJtY190dG0uYwpAQCAtMjgsNyArMjgsNyBAQCBpbnQgaGlibWNfbW1faW5p
dChzdHJ1Y3QgaGlibWNfZHJtX3ByaXZhdGUgKmhpYm1jKQogCiAJdm1tID0gZHJtX3ZyYW1faGVs
cGVyX2FsbG9jX21tKGRldiwKIAkJCQkgICAgICAgcGNpX3Jlc291cmNlX3N0YXJ0KGRldi0+cGRl
diwgMCksCi0JCQkJICAgICAgIGhpYm1jLT5mYl9zaXplLCAmZHJtX2dlbV92cmFtX21tX2Z1bmNz
KTsKKwkJCQkgICAgICAgaGlibWMtPmZiX3NpemUpOwogCWlmIChJU19FUlIodm1tKSkgewogCQly
ZXQgPSBQVFJfRVJSKHZtbSk7CiAJCURSTV9FUlJPUigiRXJyb3IgaW5pdGlhbGl6aW5nIFZSQU0g
TU07ICVkXG4iLCByZXQpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL21nYWcyMDAvbWdh
ZzIwMF90dG0uYyBiL2RyaXZlcnMvZ3B1L2RybS9tZ2FnMjAwL21nYWcyMDBfdHRtLmMKaW5kZXgg
NzNhNmI4NDg2MDFjLi42OWM4MWViZjM3NDUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9t
Z2FnMjAwL21nYWcyMDBfdHRtLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL21nYWcyMDAvbWdhZzIw
MF90dG0uYwpAQCAtMzcsOCArMzcsNyBAQCBpbnQgbWdhZzIwMF9tbV9pbml0KHN0cnVjdCBtZ2Ff
ZGV2aWNlICptZGV2KQogCXN0cnVjdCBkcm1fZGV2aWNlICpkZXYgPSBtZGV2LT5kZXY7CiAKIAl2
bW0gPSBkcm1fdnJhbV9oZWxwZXJfYWxsb2NfbW0oZGV2LCBwY2lfcmVzb3VyY2Vfc3RhcnQoZGV2
LT5wZGV2LCAwKSwKLQkJCQkgICAgICAgbWRldi0+bWMudnJhbV9zaXplLAotCQkJCSAgICAgICAm
ZHJtX2dlbV92cmFtX21tX2Z1bmNzKTsKKwkJCQkgICAgICAgbWRldi0+bWMudnJhbV9zaXplKTsK
IAlpZiAoSVNfRVJSKHZtbSkpIHsKIAkJcmV0ID0gUFRSX0VSUih2bW0pOwogCQlEUk1fRVJST1Io
IkVycm9yIGluaXRpYWxpemluZyBWUkFNIE1NOyAlZFxuIiwgcmV0KTsKZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS92Ym94dmlkZW8vdmJveF90dG0uYyBiL2RyaXZlcnMvZ3B1L2RybS92Ym94
dmlkZW8vdmJveF90dG0uYwppbmRleCBiODI1OTVhOWVkMGYuLjk3NjQyM2QwYzNjYyAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL3Zib3h2aWRlby92Ym94X3R0bS5jCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS92Ym94dmlkZW8vdmJveF90dG0uYwpAQCAtMTcsOCArMTcsNyBAQCBpbnQgdmJveF9t
bV9pbml0KHN0cnVjdCB2Ym94X3ByaXZhdGUgKnZib3gpCiAJc3RydWN0IGRybV9kZXZpY2UgKmRl
diA9ICZ2Ym94LT5kZGV2OwogCiAJdm1tID0gZHJtX3ZyYW1faGVscGVyX2FsbG9jX21tKGRldiwg
cGNpX3Jlc291cmNlX3N0YXJ0KGRldi0+cGRldiwgMCksCi0JCQkJICAgICAgIHZib3gtPmF2YWls
YWJsZV92cmFtX3NpemUsCi0JCQkJICAgICAgICZkcm1fZ2VtX3ZyYW1fbW1fZnVuY3MpOworCQkJ
CSAgICAgICB2Ym94LT5hdmFpbGFibGVfdnJhbV9zaXplKTsKIAlpZiAoSVNfRVJSKHZtbSkpIHsK
IAkJcmV0ID0gUFRSX0VSUih2bW0pOwogCQlEUk1fRVJST1IoIkVycm9yIGluaXRpYWxpemluZyBW
UkFNIE1NOyAlZFxuIiwgcmV0KTsKZGlmZiAtLWdpdCBhL2luY2x1ZGUvZHJtL2RybV9nZW1fdnJh
bV9oZWxwZXIuaCBiL2luY2x1ZGUvZHJtL2RybV9nZW1fdnJhbV9oZWxwZXIuaAppbmRleCBhZjc0
NTA4NTFjMDkuLjUyZTNmMmFmZjQ5MCAxMDA2NDQKLS0tIGEvaW5jbHVkZS9kcm0vZHJtX2dlbV92
cmFtX2hlbHBlci5oCisrKyBiL2luY2x1ZGUvZHJtL2RybV9nZW1fdnJhbV9oZWxwZXIuaApAQCAt
MTA5LDIyICsxMDksNiBAQCBpbnQgZHJtX2dlbV92cmFtX2ZpbGxfY3JlYXRlX2R1bWIoc3RydWN0
IGRybV9maWxlICpmaWxlLAogCQkJCSAgYm9vbCBpbnRlcnJ1cHRpYmxlLAogCQkJCSAgc3RydWN0
IGRybV9tb2RlX2NyZWF0ZV9kdW1iICphcmdzKTsKIAotLyoKLSAqIEhlbHBlcnMgZm9yIHN0cnVj
dCB0dG1fYm9fZHJpdmVyCi0gKi8KLQotdm9pZCBkcm1fZ2VtX3ZyYW1fYm9fZHJpdmVyX2V2aWN0
X2ZsYWdzKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCi0JCQkJCXN0cnVjdCB0dG1fcGxh
Y2VtZW50ICpwbCk7Ci0KLXZvaWQgZHJtX2dlbV92cmFtX2JvX2RyaXZlcl9tb3ZlX25vdGlmeShz
dHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAotCQkJCQlib29sIGV2aWN0LAotCQkJCQlzdHJ1
Y3QgdHRtX21lbV9yZWcgKm5ld19tZW0pOwotCi1pbnQgZHJtX2dlbV92cmFtX2JvX2RyaXZlcl92
ZXJpZnlfYWNjZXNzKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCi0JCQkJCSBzdHJ1Y3Qg
ZmlsZSAqZmlscCk7Ci0KLWV4dGVybiBjb25zdCBzdHJ1Y3QgZHJtX3ZyYW1fbW1fZnVuY3MgZHJt
X2dlbV92cmFtX21tX2Z1bmNzOwotCiAvKgogICogSGVscGVycyBmb3Igc3RydWN0IGRybV9kcml2
ZXIKICAqLwpAQCAtMTY5LDggKzE1Myw2IEBAIHN0cnVjdCBkcm1fdnJhbV9tbSB7CiAJc2l6ZV90
IHZyYW1fc2l6ZTsKIAogCXN0cnVjdCB0dG1fYm9fZGV2aWNlIGJkZXY7Ci0KLQljb25zdCBzdHJ1
Y3QgZHJtX3ZyYW1fbW1fZnVuY3MgKmZ1bmNzOwogfTsKIAogLyoqCkBAIC0xODgsOCArMTcwLDcg
QEAgc3RhdGljIGlubGluZSBzdHJ1Y3QgZHJtX3ZyYW1fbW0gKmRybV92cmFtX21tX29mX2JkZXYo
CiB9CiAKIGludCBkcm1fdnJhbV9tbV9pbml0KHN0cnVjdCBkcm1fdnJhbV9tbSAqdm1tLCBzdHJ1
Y3QgZHJtX2RldmljZSAqZGV2LAotCQkgICAgIHVpbnQ2NF90IHZyYW1fYmFzZSwgc2l6ZV90IHZy
YW1fc2l6ZSwKLQkJICAgICBjb25zdCBzdHJ1Y3QgZHJtX3ZyYW1fbW1fZnVuY3MgKmZ1bmNzKTsK
KwkJICAgICB1aW50NjRfdCB2cmFtX2Jhc2UsIHNpemVfdCB2cmFtX3NpemUpOwogdm9pZCBkcm1f
dnJhbV9tbV9jbGVhbnVwKHN0cnVjdCBkcm1fdnJhbV9tbSAqdm1tKTsKIAogaW50IGRybV92cmFt
X21tX21tYXAoc3RydWN0IGZpbGUgKmZpbHAsIHN0cnVjdCB2bV9hcmVhX3N0cnVjdCAqdm1hLApA
QCAtMjAwLDggKzE4MSw3IEBAIGludCBkcm1fdnJhbV9tbV9tbWFwKHN0cnVjdCBmaWxlICpmaWxw
LCBzdHJ1Y3Qgdm1fYXJlYV9zdHJ1Y3QgKnZtYSwKICAqLwogCiBzdHJ1Y3QgZHJtX3ZyYW1fbW0g
KmRybV92cmFtX2hlbHBlcl9hbGxvY19tbSgKLQlzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB1aW50
NjRfdCB2cmFtX2Jhc2UsIHNpemVfdCB2cmFtX3NpemUsCi0JY29uc3Qgc3RydWN0IGRybV92cmFt
X21tX2Z1bmNzICpmdW5jcyk7CisJc3RydWN0IGRybV9kZXZpY2UgKmRldiwgdWludDY0X3QgdnJh
bV9iYXNlLCBzaXplX3QgdnJhbV9zaXplKTsKIHZvaWQgZHJtX3ZyYW1faGVscGVyX3JlbGVhc2Vf
bW0oc3RydWN0IGRybV9kZXZpY2UgKmRldik7CiAKIC8qCmRpZmYgLS1naXQgYS9pbmNsdWRlL2Ry
bS9kcm1fdnJhbV9tbV9oZWxwZXIuaCBiL2luY2x1ZGUvZHJtL2RybV92cmFtX21tX2hlbHBlci5o
CmRlbGV0ZWQgZmlsZSBtb2RlIDEwMDY0NAppbmRleCBlM2I3OWUxM2UxMDYuLjAwMDAwMDAwMDAw
MAotLS0gYS9pbmNsdWRlL2RybS9kcm1fdnJhbV9tbV9oZWxwZXIuaAorKysgL2Rldi9udWxsCkBA
IC0xLDMyICswLDAgQEAKLS8qIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wLW9yLWxh
dGVyICovCi0KLSNpZm5kZWYgRFJNX1ZSQU1fTU1fSEVMUEVSX0gKLSNkZWZpbmUgRFJNX1ZSQU1f
TU1fSEVMUEVSX0gKLQotI2luY2x1ZGUgPGRybS9kcm1fZmlsZS5oPgotI2luY2x1ZGUgPGRybS9k
cm1faW9jdGwuaD4KLSNpbmNsdWRlIDxkcm0vdHRtL3R0bV9ib19kcml2ZXIuaD4KLQotc3RydWN0
IGRybV9kZXZpY2U7Ci0KLS8qKgotICogc3RydWN0IGRybV92cmFtX21tX2Z1bmNzIC0gQ2FsbGJh
Y2sgZnVuY3Rpb25zIGZvciAmc3RydWN0IGRybV92cmFtX21tCi0gKiBAZXZpY3RfZmxhZ3M6CVBy
b3ZpZGVzIGFuIGltcGxlbWVudGF0aW9uIGZvciBzdHJ1Y3QgXAotCSZ0dG1fYm9fZHJpdmVyLmV2
aWN0X2ZsYWdzCi0gKiBAdmVyaWZ5X2FjY2VzczoJUHJvdmlkZXMgYW4gaW1wbGVtZW50YXRpb24g
Zm9yIFwKLQlzdHJ1Y3QgJnR0bV9ib19kcml2ZXIudmVyaWZ5X2FjY2VzcwotICogQG1vdmVfbm90
aWZ5OglQcm92aWRlcyBhbiBpbXBsZW1lbnRhdGlvbiBmb3IKLSAqCQkJc3RydWN0ICZ0dG1fYm9f
ZHJpdmVyLm1vdmVfbm90aWZ5Ci0gKgotICogVGhlc2UgY2FsbGJhY2sgZnVuY3Rpb24gaW50ZWdy
YXRlIFZSQU0gTU0gd2l0aCBUVE0gYnVmZmVyIG9iamVjdHMuIE5ldwotICogZnVuY3Rpb25zIGNh
biBiZSBhZGRlZCBpZiBuZWNlc3NhcnkuCi0gKi8KLXN0cnVjdCBkcm1fdnJhbV9tbV9mdW5jcyB7
Ci0Jdm9pZCAoKmV2aWN0X2ZsYWdzKShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAotCQkJ
ICAgIHN0cnVjdCB0dG1fcGxhY2VtZW50ICpwbGFjZW1lbnQpOwotCWludCAoKnZlcmlmeV9hY2Nl
c3MpKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sIHN0cnVjdCBmaWxlICpmaWxwKTsKLQl2
b2lkICgqbW92ZV9ub3RpZnkpKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sIGJvb2wgZXZp
Y3QsCi0JCQkgICAgc3RydWN0IHR0bV9tZW1fcmVnICpuZXdfbWVtKTsKLX07Ci0KLSNlbmRpZgot
LSAKMi4yMy4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
XwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcK
aHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
