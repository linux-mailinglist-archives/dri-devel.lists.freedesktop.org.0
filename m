Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A6D78110305
	for <lists+dri-devel@lfdr.de>; Tue,  3 Dec 2019 17:59:01 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8476B6E861;
	Tue,  3 Dec 2019 16:58:58 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-qk1-x744.google.com (mail-qk1-x744.google.com
 [IPv6:2607:f8b0:4864:20::744])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 01FA16E861
 for <dri-devel@lists.freedesktop.org>; Tue,  3 Dec 2019 16:58:56 +0000 (UTC)
Received: by mail-qk1-x744.google.com with SMTP id x1so4059769qkl.12
 for <dri-devel@lists.freedesktop.org>; Tue, 03 Dec 2019 08:58:56 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=GOCQa5dE172pP8htxcLdJgSAeDnzbvD9up85/ALFRuo=;
 b=SfWPlCYKprOQ3P/rgKOTz8TJGTw8VybmITuBPwz93X75qjkgZ7SNhZciPjyilBZqNd
 YIeWmUiPw/WVqTyRA1uJmYs19zfRDE3A2hHdwFCfJpI5y4g8vJIY+7wPh40MOMOy9aI5
 BAvSLaon0zbV/cc3xNQ0zNVYhOJA19RBInzGy18vDUoJuKVoQEckkadc3zAIjMSiiVeQ
 tS0hqp0c8tUSsc24GwifXU0NBGVqlg5jMOeu7qtMCQ3erR/sCUv9UyR9mUvrIphYVlnz
 gs9hoSW4+kO03pR5aJH/IRlX3uHm/i0UG5HXPHuNUJ+aWU0puUuSqmkcOBFaZpQKFO7D
 MOWw==
X-Gm-Message-State: APjAAAV2Cu2ATfPDKLUcW/smpTo8xz5tcvUS8bDRBM8CCIEVii3McvmR
 n21phC0Qc+degtgODeFlPSXdLNj0s4ZilJD1x7eA4w6Y
X-Google-Smtp-Source: APXvYqza8BsbmOEKkSoLk6paNM2urCZ1THh1Y0c9q8JzaX/XaAQEqoWLIieeilzBD2lSTEix51KfW/d6Ag+kUH3GbOQ=
X-Received: by 2002:a37:4fd0:: with SMTP id d199mr6321154qkb.103.1575392335937; 
 Tue, 03 Dec 2019 08:58:55 -0800 (PST)
MIME-Version: 1.0
References: <20191128135057.20020-1-benjamin.gaignard@st.com>
In-Reply-To: <20191128135057.20020-1-benjamin.gaignard@st.com>
From: Benjamin Gaignard <benjamin.gaignard@linaro.org>
Date: Tue, 3 Dec 2019 17:58:45 +0100
Message-ID: <CA+M3ks7fOpftvvo_bu=xFVW-e-v-8_Y5v8Y_f_oA-SspUSzqEA@mail.gmail.com>
Subject: Re: [PATCH v3] drm/dp_mst: Fix W=1 warnings
To: Benjamin Gaignard <benjamin.gaignard@st.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=linaro.org; s=google;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=GOCQa5dE172pP8htxcLdJgSAeDnzbvD9up85/ALFRuo=;
 b=iuaMJfz4aF6mxWphr038Q++CHzHSZSKE03cZBR5lQJJo8vjXN2iyxJ3vnf3JkVOyy8
 UltwhmVBc2G3cRiPt4VgCuWyLX8gw90JMxP6P/9ZZNJUcNjLpe7wfu19hsFR9bglJM6C
 9QYfuzJHvar+jxxMTGf83weMtanQXb6mDzgAY/KKHVoRvG+RHMS1hXpPY1oPsLVduZZQ
 mAY7mAMmcrDOXsD0Tg89hfYtgafyCf6fsuWQepuNR0nTzXsrWBbIE0EaVjoDpCG+thrH
 MGcRtZsEUwDNb2BPysh7nvWIyiJJVhRAhGmKlWMtB3k0eeBk2Rw8CCxDR3h+MrUIYMI1
 liYg==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: David Airlie <airlied@linux.ie>,
 Linux Kernel Mailing List <linux-kernel@vger.kernel.org>,
 ML dri-devel <dri-devel@lists.freedesktop.org>, Sean Paul <sean@poorly.run>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

TGUgc2FtLiAzMCBub3YuIDIwMTkgw6AgMTQ6MjQsIEJlbmphbWluIEdhaWduYXJkCjxiZW5qYW1p
bi5nYWlnbmFyZEBzdC5jb20+IGEgw6ljcml0IDoKPgo+IEZpeCB0aGUgd2FybmluZ3MgdGhhdCBz
aG93IHVwIHdpdGggVz0xLgo+IFRoZXkgYXJlIGFsbCBhYm91dCB1bnVzZWQgYnV0IHNldCB2YXJp
YWJsZXMuCj4gSWYgZnVuY3Rpb25zIHJldHVybnMgYXJlIG5vdCB1c2VkIGFueW1vcmUgbWFrZSB0
aGVtIHZvaWQuCj4KPiBTaWduZWQtb2ZmLWJ5OiBCZW5qYW1pbiBHYWlnbmFyZCA8YmVuamFtaW4u
Z2FpZ25hcmRAc3QuY29tPgo+IC0tLQo+IENDOiBKYW5pIE5pa3VsYSA8amFuaS5uaWt1bGFAbGlu
dXguaW50ZWwuY29tPgo+Cj4gY2hhbmdlcyBpbiB2ZXJzaW9uIDM6Cj4gLSByZW1vdmUgdGhlIGh1
bmsgdGhhdCBtYXkgY29uZmxpY3Qgd2l0aCBjNDg1ZTJjOTdkYWUKPiAgICgiZHJtL2RwX21zdDog
UmVmYWN0b3IgcGR0IHNldHVwL3RlYXJkb3duLCBhZGQgbW9yZSBsb2NraW5nIikKCkkgaGF2ZSB0
ZXN0IHRvZGF5IHRoaXMgcGF0Y2ggb24gZHJtLW1pc2MtbmV4dCB3aGVyZSB0aGUgb3RoZXIgcGF0
Y2ggaXMKcHJlc2VudCwgaXQgYXBwbHkgZmluZSBhbmQgSSBkb24ndCBoYXZlIHdhcm5pbmcgYW55
bW9yZS4KCkJlbmphbWluCj4KPiBjaGFuZ2VzIGluIHZlcnNpb24gMjoKPiAtIGZpeCBpbmRlbnRh
dGlvbnMKPiAtIHdoZW4gcG9zc2libGUgY2hhbmdlIGZ1bmN0aW9ucyBwcm90b3R5cGUgdG8gdm9p
ZAo+Cj4gZHJpdmVycy9ncHUvZHJtL2RybV9kcF9tc3RfdG9wb2xvZ3kuYyB8IDgzICsrKysrKysr
KysrKystLS0tLS0tLS0tLS0tLS0tLS0tLS0tCj4gIDEgZmlsZSBjaGFuZ2VkLCAzMSBpbnNlcnRp
b25zKCspLCA1MiBkZWxldGlvbnMoLSkKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
ZHJtX2RwX21zdF90b3BvbG9neS5jIGIvZHJpdmVycy9ncHUvZHJtL2RybV9kcF9tc3RfdG9wb2xv
Z3kuYwo+IGluZGV4IDE0MzdiYzQ2MzY4Yi4uZDVjYjU2ODhiNWRkIDEwMDY0NAo+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9kcm1fZHBfbXN0X3RvcG9sb2d5LmMKPiArKysgYi9kcml2ZXJzL2dwdS9k
cm0vZHJtX2RwX21zdF90b3BvbG9neS5jCj4gQEAgLTY3NCw3ICs2NzQsNiBAQCBzdGF0aWMgYm9v
bCBkcm1fZHBfc2lkZWJhbmRfbXNnX2J1aWxkKHN0cnVjdCBkcm1fZHBfc2lkZWJhbmRfbXNnX3J4
ICptc2csCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1OCAqcmVwbHli
dWYsIHU4IHJlcGx5YnVmbGVuLCBib29sIGhkcikKPiAgewo+ICAgICAgICAgaW50IHJldDsKPiAt
ICAgICAgIHU4IGNyYzQ7Cj4KPiAgICAgICAgIGlmIChoZHIpIHsKPiAgICAgICAgICAgICAgICAg
dTggaGRybGVuOwo+IEBAIC03MTYsOCArNzE1LDYgQEAgc3RhdGljIGJvb2wgZHJtX2RwX3NpZGVi
YW5kX21zZ19idWlsZChzdHJ1Y3QgZHJtX2RwX3NpZGViYW5kX21zZ19yeCAqbXNnLAo+ICAgICAg
ICAgfQo+Cj4gICAgICAgICBpZiAobXNnLT5jdXJjaHVua19pZHggPj0gbXNnLT5jdXJjaHVua19s
ZW4pIHsKPiAtICAgICAgICAgICAgICAgLyogZG8gQ1JDICovCj4gLSAgICAgICAgICAgICAgIGNy
YzQgPSBkcm1fZHBfbXNnX2RhdGFfY3JjNChtc2ctPmNodW5rLCBtc2ctPmN1cmNodW5rX2xlbiAt
IDEpOwo+ICAgICAgICAgICAgICAgICAvKiBjb3B5IGNodW5rIGludG8gYmlnZ2VyIG1zZyAqLwo+
ICAgICAgICAgICAgICAgICBtZW1jcHkoJm1zZy0+bXNnW21zZy0+Y3VybGVuXSwgbXNnLT5jaHVu
aywgbXNnLT5jdXJjaHVua19sZW4gLSAxKTsKPiAgICAgICAgICAgICAgICAgbXNnLT5jdXJsZW4g
Kz0gbXNnLT5jdXJjaHVua19sZW4gLSAxOwo+IEBAIC0xMDE0LDcgKzEwMTEsNyBAQCBzdGF0aWMg
Ym9vbCBkcm1fZHBfc2lkZWJhbmRfcGFyc2VfcmVxKHN0cnVjdCBkcm1fZHBfc2lkZWJhbmRfbXNn
X3J4ICpyYXcsCj4gICAgICAgICB9Cj4gIH0KPgo+IC1zdGF0aWMgaW50IGJ1aWxkX2RwY2Rfd3Jp
dGUoc3RydWN0IGRybV9kcF9zaWRlYmFuZF9tc2dfdHggKm1zZywgdTggcG9ydF9udW0sIHUzMiBv
ZmZzZXQsIHU4IG51bV9ieXRlcywgdTggKmJ5dGVzKQo+ICtzdGF0aWMgdm9pZCBidWlsZF9kcGNk
X3dyaXRlKHN0cnVjdCBkcm1fZHBfc2lkZWJhbmRfbXNnX3R4ICptc2csIHU4IHBvcnRfbnVtLCB1
MzIgb2Zmc2V0LCB1OCBudW1fYnl0ZXMsIHU4ICpieXRlcykKPiAgewo+ICAgICAgICAgc3RydWN0
IGRybV9kcF9zaWRlYmFuZF9tc2dfcmVxX2JvZHkgcmVxOwo+Cj4gQEAgLTEwMjQsMTcgKzEwMjEs
MTQgQEAgc3RhdGljIGludCBidWlsZF9kcGNkX3dyaXRlKHN0cnVjdCBkcm1fZHBfc2lkZWJhbmRf
bXNnX3R4ICptc2csIHU4IHBvcnRfbnVtLCB1MzIKPiAgICAgICAgIHJlcS51LmRwY2Rfd3JpdGUu
bnVtX2J5dGVzID0gbnVtX2J5dGVzOwo+ICAgICAgICAgcmVxLnUuZHBjZF93cml0ZS5ieXRlcyA9
IGJ5dGVzOwo+ICAgICAgICAgZHJtX2RwX2VuY29kZV9zaWRlYmFuZF9yZXEoJnJlcSwgbXNnKTsK
PiAtCj4gLSAgICAgICByZXR1cm4gMDsKPiAgfQo+Cj4gLXN0YXRpYyBpbnQgYnVpbGRfbGlua19h
ZGRyZXNzKHN0cnVjdCBkcm1fZHBfc2lkZWJhbmRfbXNnX3R4ICptc2cpCj4gK3N0YXRpYyB2b2lk
IGJ1aWxkX2xpbmtfYWRkcmVzcyhzdHJ1Y3QgZHJtX2RwX3NpZGViYW5kX21zZ190eCAqbXNnKQo+
ICB7Cj4gICAgICAgICBzdHJ1Y3QgZHJtX2RwX3NpZGViYW5kX21zZ19yZXFfYm9keSByZXE7Cj4K
PiAgICAgICAgIHJlcS5yZXFfdHlwZSA9IERQX0xJTktfQUREUkVTUzsKPiAgICAgICAgIGRybV9k
cF9lbmNvZGVfc2lkZWJhbmRfcmVxKCZyZXEsIG1zZyk7Cj4gLSAgICAgICByZXR1cm4gMDsKPiAg
fQo+Cj4gIHN0YXRpYyBpbnQgYnVpbGRfZW51bV9wYXRoX3Jlc291cmNlcyhzdHJ1Y3QgZHJtX2Rw
X3NpZGViYW5kX21zZ190eCAqbXNnLCBpbnQgcG9ydF9udW0pCj4gQEAgLTEwNDgsNyArMTA0Miw3
IEBAIHN0YXRpYyBpbnQgYnVpbGRfZW51bV9wYXRoX3Jlc291cmNlcyhzdHJ1Y3QgZHJtX2RwX3Np
ZGViYW5kX21zZ190eCAqbXNnLCBpbnQgcG9yCj4gICAgICAgICByZXR1cm4gMDsKPiAgfQo+Cj4g
LXN0YXRpYyBpbnQgYnVpbGRfYWxsb2NhdGVfcGF5bG9hZChzdHJ1Y3QgZHJtX2RwX3NpZGViYW5k
X21zZ190eCAqbXNnLCBpbnQgcG9ydF9udW0sCj4gK3N0YXRpYyB2b2lkIGJ1aWxkX2FsbG9jYXRl
X3BheWxvYWQoc3RydWN0IGRybV9kcF9zaWRlYmFuZF9tc2dfdHggKm1zZywgaW50IHBvcnRfbnVt
LAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1OCB2Y3BpLCB1aW50MTZfdCBw
Ym4sCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHU4IG51bWJlcl9zZHBfc3Ry
ZWFtcywKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdTggKnNkcF9zdHJlYW1f
c2luaykKPiBAQCAtMTA2NCwxMCArMTA1OCw5IEBAIHN0YXRpYyBpbnQgYnVpbGRfYWxsb2NhdGVf
cGF5bG9hZChzdHJ1Y3QgZHJtX2RwX3NpZGViYW5kX21zZ190eCAqbXNnLCBpbnQgcG9ydF9uCj4g
ICAgICAgICAgICAgICAgICAgIG51bWJlcl9zZHBfc3RyZWFtcyk7Cj4gICAgICAgICBkcm1fZHBf
ZW5jb2RlX3NpZGViYW5kX3JlcSgmcmVxLCBtc2cpOwo+ICAgICAgICAgbXNnLT5wYXRoX21zZyA9
IHRydWU7Cj4gLSAgICAgICByZXR1cm4gMDsKPiAgfQo+Cj4gLXN0YXRpYyBpbnQgYnVpbGRfcG93
ZXJfdXBkb3duX3BoeShzdHJ1Y3QgZHJtX2RwX3NpZGViYW5kX21zZ190eCAqbXNnLAo+ICtzdGF0
aWMgdm9pZCBidWlsZF9wb3dlcl91cGRvd25fcGh5KHN0cnVjdCBkcm1fZHBfc2lkZWJhbmRfbXNn
X3R4ICptc2csCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludCBwb3J0X251
bSwgYm9vbCBwb3dlcl91cCkKPiAgewo+ICAgICAgICAgc3RydWN0IGRybV9kcF9zaWRlYmFuZF9t
c2dfcmVxX2JvZHkgcmVxOwo+IEBAIC0xMDgwLDcgKzEwNzMsNiBAQCBzdGF0aWMgaW50IGJ1aWxk
X3Bvd2VyX3VwZG93bl9waHkoc3RydWN0IGRybV9kcF9zaWRlYmFuZF9tc2dfdHggKm1zZywKPiAg
ICAgICAgIHJlcS51LnBvcnRfbnVtLnBvcnRfbnVtYmVyID0gcG9ydF9udW07Cj4gICAgICAgICBk
cm1fZHBfZW5jb2RlX3NpZGViYW5kX3JlcSgmcmVxLCBtc2cpOwo+ICAgICAgICAgbXNnLT5wYXRo
X21zZyA9IHRydWU7Cj4gLSAgICAgICByZXR1cm4gMDsKPiAgfQo+Cj4gIHN0YXRpYyBpbnQgZHJt
X2RwX21zdF9hc3NpZ25fcGF5bG9hZF9pZChzdHJ1Y3QgZHJtX2RwX21zdF90b3BvbG9neV9tZ3Ig
Km1nciwKPiBAQCAtMTc0NiwxNCArMTczOCwxMyBAQCBzdGF0aWMgdTggZHJtX2RwX2NhbGN1bGF0
ZV9yYWQoc3RydWN0IGRybV9kcF9tc3RfcG9ydCAqcG9ydCwKPiAgICovCj4gIHN0YXRpYyBib29s
IGRybV9kcF9wb3J0X3NldHVwX3BkdChzdHJ1Y3QgZHJtX2RwX21zdF9wb3J0ICpwb3J0KQo+ICB7
Cj4gLSAgICAgICBpbnQgcmV0Owo+ICAgICAgICAgdTggcmFkWzZdLCBsY3Q7Cj4gICAgICAgICBi
b29sIHNlbmRfbGluayA9IGZhbHNlOwo+ICAgICAgICAgc3dpdGNoIChwb3J0LT5wZHQpIHsKPiAg
ICAgICAgIGNhc2UgRFBfUEVFUl9ERVZJQ0VfRFBfTEVHQUNZX0NPTlY6Cj4gICAgICAgICBjYXNl
IERQX1BFRVJfREVWSUNFX1NTVF9TSU5LOgo+ICAgICAgICAgICAgICAgICAvKiBhZGQgaTJjIG92
ZXIgc2lkZWJhbmQgKi8KPiAtICAgICAgICAgICAgICAgcmV0ID0gZHJtX2RwX21zdF9yZWdpc3Rl
cl9pMmNfYnVzKCZwb3J0LT5hdXgpOwo+ICsgICAgICAgICAgICAgICBkcm1fZHBfbXN0X3JlZ2lz
dGVyX2kyY19idXMoJnBvcnQtPmF1eCk7Cj4gICAgICAgICAgICAgICAgIGJyZWFrOwo+ICAgICAg
ICAgY2FzZSBEUF9QRUVSX0RFVklDRV9NU1RfQlJBTkNISU5HOgo+ICAgICAgICAgICAgICAgICBs
Y3QgPSBkcm1fZHBfY2FsY3VsYXRlX3JhZChwb3J0LCByYWQpOwo+IEBAIC0xODIzLDI1ICsxODE0
LDIwIEBAIHNzaXplX3QgZHJtX2RwX21zdF9kcGNkX3dyaXRlKHN0cnVjdCBkcm1fZHBfYXV4ICph
dXgsCj4KPiAgc3RhdGljIHZvaWQgZHJtX2RwX2NoZWNrX21zdGJfZ3VpZChzdHJ1Y3QgZHJtX2Rw
X21zdF9icmFuY2ggKm1zdGIsIHU4ICpndWlkKQo+ICB7Cj4gLSAgICAgICBpbnQgcmV0Owo+IC0K
PiAgICAgICAgIG1lbWNweShtc3RiLT5ndWlkLCBndWlkLCAxNik7Cj4KPiAgICAgICAgIGlmICgh
ZHJtX2RwX3ZhbGlkYXRlX2d1aWQobXN0Yi0+bWdyLCBtc3RiLT5ndWlkKSkgewo+ICAgICAgICAg
ICAgICAgICBpZiAobXN0Yi0+cG9ydF9wYXJlbnQpIHsKPiAtICAgICAgICAgICAgICAgICAgICAg
ICByZXQgPSBkcm1fZHBfc2VuZF9kcGNkX3dyaXRlKAo+IC0gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBtc3RiLT5tZ3IsCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIG1zdGItPnBvcnRfcGFyZW50LAo+IC0gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBEUF9HVUlELAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAxNiwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
bXN0Yi0+Z3VpZCk7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgZHJtX2RwX3NlbmRfZHBjZF93
cml0ZShtc3RiLT5tZ3IsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBtc3RiLT5wb3J0X3BhcmVudCwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIERQX0dVSUQsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAxNiwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIG1zdGItPmd1aWQpOwo+ICAgICAgICAgICAgICAgICB9IGVsc2Ugewo+
IC0KPiAtICAgICAgICAgICAgICAgICAgICAgICByZXQgPSBkcm1fZHBfZHBjZF93cml0ZSgKPiAt
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXN0Yi0+bWdyLT5hdXgsCj4g
LSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERQX0dVSUQsCj4gLSAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zdGItPmd1aWQsCj4gLSAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE2KTsKPiArICAgICAgICAgICAgICAgICAg
ICAgICBkcm1fZHBfZHBjZF93cml0ZShtc3RiLT5tZ3ItPmF1eCwKPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBEUF9HVUlELAo+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIG1zdGItPmd1aWQsCj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgMTYpOwo+ICAgICAgICAgICAgICAgICB9Cj4gICAgICAgICB9
Cj4gIH0KPiBAQCAtMjE5Nyw3ICsyMTgzLDcgQEAgc3RhdGljIGJvb2wgZHJtX2RwX3ZhbGlkYXRl
X2d1aWQoc3RydWN0IGRybV9kcF9tc3RfdG9wb2xvZ3lfbWdyICptZ3IsCj4gICAgICAgICByZXR1
cm4gZmFsc2U7Cj4gIH0KPgo+IC1zdGF0aWMgaW50IGJ1aWxkX2RwY2RfcmVhZChzdHJ1Y3QgZHJt
X2RwX3NpZGViYW5kX21zZ190eCAqbXNnLCB1OCBwb3J0X251bSwgdTMyIG9mZnNldCwgdTggbnVt
X2J5dGVzKQo+ICtzdGF0aWMgdm9pZCBidWlsZF9kcGNkX3JlYWQoc3RydWN0IGRybV9kcF9zaWRl
YmFuZF9tc2dfdHggKm1zZywgdTggcG9ydF9udW0sIHUzMiBvZmZzZXQsIHU4IG51bV9ieXRlcykK
PiAgewo+ICAgICAgICAgc3RydWN0IGRybV9kcF9zaWRlYmFuZF9tc2dfcmVxX2JvZHkgcmVxOwo+
Cj4gQEAgLTIyMDYsOCArMjE5Miw2IEBAIHN0YXRpYyBpbnQgYnVpbGRfZHBjZF9yZWFkKHN0cnVj
dCBkcm1fZHBfc2lkZWJhbmRfbXNnX3R4ICptc2csIHU4IHBvcnRfbnVtLCB1MzIKPiAgICAgICAg
IHJlcS51LmRwY2RfcmVhZC5kcGNkX2FkZHJlc3MgPSBvZmZzZXQ7Cj4gICAgICAgICByZXEudS5k
cGNkX3JlYWQubnVtX2J5dGVzID0gbnVtX2J5dGVzOwo+ICAgICAgICAgZHJtX2RwX2VuY29kZV9z
aWRlYmFuZF9yZXEoJnJlcSwgbXNnKTsKPiAtCj4gLSAgICAgICByZXR1cm4gMDsKPiAgfQo+Cj4g
IHN0YXRpYyBpbnQgZHJtX2RwX3NlbmRfc2lkZWJhbmRfbXNnKHN0cnVjdCBkcm1fZHBfbXN0X3Rv
cG9sb2d5X21nciAqbWdyLAo+IEBAIC0yNDI5LDE0ICsyNDEzLDE0IEBAIHN0YXRpYyB2b2lkIGRy
bV9kcF9zZW5kX2xpbmtfYWRkcmVzcyhzdHJ1Y3QgZHJtX2RwX21zdF90b3BvbG9neV9tZ3IgKm1n
ciwKPiAgewo+ICAgICAgICAgc3RydWN0IGRybV9kcF9zaWRlYmFuZF9tc2dfdHggKnR4bXNnOwo+
ICAgICAgICAgc3RydWN0IGRybV9kcF9saW5rX2FkZHJlc3NfYWNrX3JlcGx5ICpyZXBseTsKPiAt
ICAgICAgIGludCBpLCBsZW4sIHJldDsKPiArICAgICAgIGludCBpLCByZXQ7Cj4KPiAgICAgICAg
IHR4bXNnID0ga3phbGxvYyhzaXplb2YoKnR4bXNnKSwgR0ZQX0tFUk5FTCk7Cj4gICAgICAgICBp
ZiAoIXR4bXNnKQo+ICAgICAgICAgICAgICAgICByZXR1cm47Cj4KPiAgICAgICAgIHR4bXNnLT5k
c3QgPSBtc3RiOwo+IC0gICAgICAgbGVuID0gYnVpbGRfbGlua19hZGRyZXNzKHR4bXNnKTsKPiAr
ICAgICAgIGJ1aWxkX2xpbmtfYWRkcmVzcyh0eG1zZyk7Cj4KPiAgICAgICAgIG1zdGItPmxpbmtf
YWRkcmVzc19zZW50ID0gdHJ1ZTsKPiAgICAgICAgIGRybV9kcF9xdWV1ZV9kb3duX3R4KG1nciwg
dHhtc2cpOwo+IEBAIC0yNDc4LDcgKzI0NjIsNiBAQCBkcm1fZHBfc2VuZF9lbnVtX3BhdGhfcmVz
b3VyY2VzKHN0cnVjdCBkcm1fZHBfbXN0X3RvcG9sb2d5X21nciAqbWdyLAo+ICB7Cj4gICAgICAg
ICBzdHJ1Y3QgZHJtX2RwX2VudW1fcGF0aF9yZXNvdXJjZXNfYWNrX3JlcGx5ICpwYXRoX3JlczsK
PiAgICAgICAgIHN0cnVjdCBkcm1fZHBfc2lkZWJhbmRfbXNnX3R4ICp0eG1zZzsKPiAtICAgICAg
IGludCBsZW47Cj4gICAgICAgICBpbnQgcmV0Owo+Cj4gICAgICAgICB0eG1zZyA9IGt6YWxsb2Mo
c2l6ZW9mKCp0eG1zZyksIEdGUF9LRVJORUwpOwo+IEBAIC0yNDg2LDcgKzI0NjksNyBAQCBkcm1f
ZHBfc2VuZF9lbnVtX3BhdGhfcmVzb3VyY2VzKHN0cnVjdCBkcm1fZHBfbXN0X3RvcG9sb2d5X21n
ciAqbWdyLAo+ICAgICAgICAgICAgICAgICByZXR1cm4gLUVOT01FTTsKPgo+ICAgICAgICAgdHht
c2ctPmRzdCA9IG1zdGI7Cj4gLSAgICAgICBsZW4gPSBidWlsZF9lbnVtX3BhdGhfcmVzb3VyY2Vz
KHR4bXNnLCBwb3J0LT5wb3J0X251bSk7Cj4gKyAgICAgICBidWlsZF9lbnVtX3BhdGhfcmVzb3Vy
Y2VzKHR4bXNnLCBwb3J0LT5wb3J0X251bSk7Cj4KPiAgICAgICAgIGRybV9kcF9xdWV1ZV9kb3du
X3R4KG1nciwgdHhtc2cpOwo+Cj4gQEAgLTI1NjksNyArMjU1Miw3IEBAIHN0YXRpYyBpbnQgZHJt
X2RwX3BheWxvYWRfc2VuZF9tc2coc3RydWN0IGRybV9kcF9tc3RfdG9wb2xvZ3lfbWdyICptZ3Is
Cj4gIHsKPiAgICAgICAgIHN0cnVjdCBkcm1fZHBfc2lkZWJhbmRfbXNnX3R4ICp0eG1zZzsKPiAg
ICAgICAgIHN0cnVjdCBkcm1fZHBfbXN0X2JyYW5jaCAqbXN0YjsKPiAtICAgICAgIGludCBsZW4s
IHJldCwgcG9ydF9udW07Cj4gKyAgICAgICBpbnQgcmV0LCBwb3J0X251bTsKPiAgICAgICAgIHU4
IHNpbmtzW0RSTV9EUF9NQVhfU0RQX1NUUkVBTVNdOwo+ICAgICAgICAgaW50IGk7Cj4KPiBAQCAt
MjU5NCw5ICsyNTc3LDkgQEAgc3RhdGljIGludCBkcm1fZHBfcGF5bG9hZF9zZW5kX21zZyhzdHJ1
Y3QgZHJtX2RwX21zdF90b3BvbG9neV9tZ3IgKm1nciwKPiAgICAgICAgICAgICAgICAgc2lua3Nb
aV0gPSBpOwo+Cj4gICAgICAgICB0eG1zZy0+ZHN0ID0gbXN0YjsKPiAtICAgICAgIGxlbiA9IGJ1
aWxkX2FsbG9jYXRlX3BheWxvYWQodHhtc2csIHBvcnRfbnVtLAo+IC0gICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBpZCwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgcGJuLCBwb3J0LT5udW1fc2RwX3N0cmVhbXMsIHNpbmtzKTsKPiArICAgICAgIGJ1aWxk
X2FsbG9jYXRlX3BheWxvYWQodHhtc2csIHBvcnRfbnVtLAo+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBpZCwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGJuLCBwb3J0
LT5udW1fc2RwX3N0cmVhbXMsIHNpbmtzKTsKPgo+ICAgICAgICAgZHJtX2RwX3F1ZXVlX2Rvd25f
dHgobWdyLCB0eG1zZyk7Cj4KPiBAQCAtMjYyNSw3ICsyNjA4LDcgQEAgaW50IGRybV9kcF9zZW5k
X3Bvd2VyX3VwZG93bl9waHkoc3RydWN0IGRybV9kcF9tc3RfdG9wb2xvZ3lfbWdyICptZ3IsCj4g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGRybV9kcF9tc3RfcG9ydCAq
cG9ydCwgYm9vbCBwb3dlcl91cCkKPiAgewo+ICAgICAgICAgc3RydWN0IGRybV9kcF9zaWRlYmFu
ZF9tc2dfdHggKnR4bXNnOwo+IC0gICAgICAgaW50IGxlbiwgcmV0Owo+ICsgICAgICAgaW50IHJl
dDsKPgo+ICAgICAgICAgcG9ydCA9IGRybV9kcF9tc3RfdG9wb2xvZ3lfZ2V0X3BvcnRfdmFsaWRh
dGVkKG1nciwgcG9ydCk7Cj4gICAgICAgICBpZiAoIXBvcnQpCj4gQEAgLTI2MzgsNyArMjYyMSw3
IEBAIGludCBkcm1fZHBfc2VuZF9wb3dlcl91cGRvd25fcGh5KHN0cnVjdCBkcm1fZHBfbXN0X3Rv
cG9sb2d5X21nciAqbWdyLAo+ICAgICAgICAgfQo+Cj4gICAgICAgICB0eG1zZy0+ZHN0ID0gcG9y
dC0+cGFyZW50Owo+IC0gICAgICAgbGVuID0gYnVpbGRfcG93ZXJfdXBkb3duX3BoeSh0eG1zZywg
cG9ydC0+cG9ydF9udW0sIHBvd2VyX3VwKTsKPiArICAgICAgIGJ1aWxkX3Bvd2VyX3VwZG93bl9w
aHkodHhtc2csIHBvcnQtPnBvcnRfbnVtLCBwb3dlcl91cCk7Cj4gICAgICAgICBkcm1fZHBfcXVl
dWVfZG93bl90eChtZ3IsIHR4bXNnKTsKPgo+ICAgICAgICAgcmV0ID0gZHJtX2RwX21zdF93YWl0
X3R4X3JlcGx5KHBvcnQtPnBhcmVudCwgdHhtc2cpOwo+IEBAIC0yODU4LDcgKzI4NDEsNiBAQCBz
dGF0aWMgaW50IGRybV9kcF9zZW5kX2RwY2RfcmVhZChzdHJ1Y3QgZHJtX2RwX21zdF90b3BvbG9n
eV9tZ3IgKm1nciwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgZHJt
X2RwX21zdF9wb3J0ICpwb3J0LAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlu
dCBvZmZzZXQsIGludCBzaXplLCB1OCAqYnl0ZXMpCj4gIHsKPiAtICAgICAgIGludCBsZW47Cj4g
ICAgICAgICBpbnQgcmV0ID0gMDsKPiAgICAgICAgIHN0cnVjdCBkcm1fZHBfc2lkZWJhbmRfbXNn
X3R4ICp0eG1zZzsKPiAgICAgICAgIHN0cnVjdCBkcm1fZHBfbXN0X2JyYW5jaCAqbXN0YjsKPiBA
QCAtMjg3Myw3ICsyODU1LDcgQEAgc3RhdGljIGludCBkcm1fZHBfc2VuZF9kcGNkX3JlYWQoc3Ry
dWN0IGRybV9kcF9tc3RfdG9wb2xvZ3lfbWdyICptZ3IsCj4gICAgICAgICAgICAgICAgIGdvdG8g
ZmFpbF9wdXQ7Cj4gICAgICAgICB9Cj4KPiAtICAgICAgIGxlbiA9IGJ1aWxkX2RwY2RfcmVhZCh0
eG1zZywgcG9ydC0+cG9ydF9udW0sIG9mZnNldCwgc2l6ZSk7Cj4gKyAgICAgICBidWlsZF9kcGNk
X3JlYWQodHhtc2csIHBvcnQtPnBvcnRfbnVtLCBvZmZzZXQsIHNpemUpOwo+ICAgICAgICAgdHht
c2ctPmRzdCA9IHBvcnQtPnBhcmVudDsKPgo+ICAgICAgICAgZHJtX2RwX3F1ZXVlX2Rvd25fdHgo
bWdyLCB0eG1zZyk7Cj4gQEAgLTI5MTEsNyArMjg5Myw2IEBAIHN0YXRpYyBpbnQgZHJtX2RwX3Nl
bmRfZHBjZF93cml0ZShzdHJ1Y3QgZHJtX2RwX21zdF90b3BvbG9neV9tZ3IgKm1nciwKPiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGRybV9kcF9tc3RfcG9ydCAqcG9y
dCwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50IG9mZnNldCwgaW50IHNp
emUsIHU4ICpieXRlcykKPiAgewo+IC0gICAgICAgaW50IGxlbjsKPiAgICAgICAgIGludCByZXQ7
Cj4gICAgICAgICBzdHJ1Y3QgZHJtX2RwX3NpZGViYW5kX21zZ190eCAqdHhtc2c7Cj4gICAgICAg
ICBzdHJ1Y3QgZHJtX2RwX21zdF9icmFuY2ggKm1zdGI7Cj4gQEAgLTI5MjYsNyArMjkwNyw3IEBA
IHN0YXRpYyBpbnQgZHJtX2RwX3NlbmRfZHBjZF93cml0ZShzdHJ1Y3QgZHJtX2RwX21zdF90b3Bv
bG9neV9tZ3IgKm1nciwKPiAgICAgICAgICAgICAgICAgZ290byBmYWlsX3B1dDsKPiAgICAgICAg
IH0KPgo+IC0gICAgICAgbGVuID0gYnVpbGRfZHBjZF93cml0ZSh0eG1zZywgcG9ydC0+cG9ydF9u
dW0sIG9mZnNldCwgc2l6ZSwgYnl0ZXMpOwo+ICsgICAgICAgYnVpbGRfZHBjZF93cml0ZSh0eG1z
ZywgcG9ydC0+cG9ydF9udW0sIG9mZnNldCwgc2l6ZSwgYnl0ZXMpOwo+ICAgICAgICAgdHhtc2ct
PmRzdCA9IG1zdGI7Cj4KPiAgICAgICAgIGRybV9kcF9xdWV1ZV9kb3duX3R4KG1nciwgdHhtc2cp
Owo+IEBAIC0zMTQ5LDcgKzMxMzAsNyBAQCBzdGF0aWMgYm9vbCBkcm1fZHBfZ2V0X29uZV9zYl9t
c2coc3RydWN0IGRybV9kcF9tc3RfdG9wb2xvZ3lfbWdyICptZ3IsIGJvb2wgdXApCj4gIHsKPiAg
ICAgICAgIGludCBsZW47Cj4gICAgICAgICB1OCByZXBseWJsb2NrWzMyXTsKPiAtICAgICAgIGlu
dCByZXBseWxlbiwgb3JpZ2xlbiwgY3VycmVwbHk7Cj4gKyAgICAgICBpbnQgcmVwbHlsZW4sIGN1
cnJlcGx5Owo+ICAgICAgICAgaW50IHJldDsKPiAgICAgICAgIHN0cnVjdCBkcm1fZHBfc2lkZWJh
bmRfbXNnX3J4ICptc2c7Cj4gICAgICAgICBpbnQgYmFzZXJlZyA9IHVwID8gRFBfU0lERUJBTkRf
TVNHX1VQX1JFUV9CQVNFIDogRFBfU0lERUJBTkRfTVNHX0RPV05fUkVQX0JBU0U7Cj4gQEAgLTMx
NjksNyArMzE1MCw2IEBAIHN0YXRpYyBib29sIGRybV9kcF9nZXRfb25lX3NiX21zZyhzdHJ1Y3Qg
ZHJtX2RwX21zdF90b3BvbG9neV9tZ3IgKm1nciwgYm9vbCB1cCkKPiAgICAgICAgIH0KPiAgICAg
ICAgIHJlcGx5bGVuID0gbXNnLT5jdXJjaHVua19sZW4gKyBtc2ctPmN1cmNodW5rX2hkcmxlbjsK
Pgo+IC0gICAgICAgb3JpZ2xlbiA9IHJlcGx5bGVuOwo+ICAgICAgICAgcmVwbHlsZW4gLT0gbGVu
Owo+ICAgICAgICAgY3VycmVwbHkgPSBsZW47Cj4gICAgICAgICB3aGlsZSAocmVwbHlsZW4gPiAw
KSB7Cj4gQEAgLTM5NjEsMTcgKzM5NDEsMTYgQEAgdm9pZCBkcm1fZHBfbXN0X2R1bXBfdG9wb2xv
Z3koc3RydWN0IHNlcV9maWxlICptLAo+ICAgICAgICAgbXV0ZXhfbG9jaygmbWdyLT5sb2NrKTsK
PiAgICAgICAgIGlmIChtZ3ItPm1zdF9wcmltYXJ5KSB7Cj4gICAgICAgICAgICAgICAgIHU4IGJ1
ZltEUF9QQVlMT0FEX1RBQkxFX1NJWkVdOwo+IC0gICAgICAgICAgICAgICBpbnQgcmV0Owo+Cj4g
LSAgICAgICAgICAgICAgIHJldCA9IGRybV9kcF9kcGNkX3JlYWQobWdyLT5hdXgsIERQX0RQQ0Rf
UkVWLCBidWYsIERQX1JFQ0VJVkVSX0NBUF9TSVpFKTsKPiArICAgICAgICAgICAgICAgZHJtX2Rw
X2RwY2RfcmVhZChtZ3ItPmF1eCwgRFBfRFBDRF9SRVYsIGJ1ZiwgRFBfUkVDRUlWRVJfQ0FQX1NJ
WkUpOwo+ICAgICAgICAgICAgICAgICBzZXFfcHJpbnRmKG0sICJkcGNkOiAlKnBoXG4iLCBEUF9S
RUNFSVZFUl9DQVBfU0laRSwgYnVmKTsKPiAtICAgICAgICAgICAgICAgcmV0ID0gZHJtX2RwX2Rw
Y2RfcmVhZChtZ3ItPmF1eCwgRFBfRkFVWF9DQVAsIGJ1ZiwgMik7Cj4gKyAgICAgICAgICAgICAg
IGRybV9kcF9kcGNkX3JlYWQobWdyLT5hdXgsIERQX0ZBVVhfQ0FQLCBidWYsIDIpOwo+ICAgICAg
ICAgICAgICAgICBzZXFfcHJpbnRmKG0sICJmYXV4L21zdDogJSpwaFxuIiwgMiwgYnVmKTsKPiAt
ICAgICAgICAgICAgICAgcmV0ID0gZHJtX2RwX2RwY2RfcmVhZChtZ3ItPmF1eCwgRFBfTVNUTV9D
VFJMLCBidWYsIDEpOwo+ICsgICAgICAgICAgICAgICBkcm1fZHBfZHBjZF9yZWFkKG1nci0+YXV4
LCBEUF9NU1RNX0NUUkwsIGJ1ZiwgMSk7Cj4gICAgICAgICAgICAgICAgIHNlcV9wcmludGYobSwg
Im1zdCBjdHJsOiAlKnBoXG4iLCAxLCBidWYpOwo+Cj4gICAgICAgICAgICAgICAgIC8qIGR1bXAg
dGhlIHN0YW5kYXJkIE9VSSBicmFuY2ggaGVhZGVyICovCj4gLSAgICAgICAgICAgICAgIHJldCA9
IGRybV9kcF9kcGNkX3JlYWQobWdyLT5hdXgsIERQX0JSQU5DSF9PVUksIGJ1ZiwgRFBfQlJBTkNI
X09VSV9IRUFERVJfU0laRSk7Cj4gKyAgICAgICAgICAgICAgIGRybV9kcF9kcGNkX3JlYWQobWdy
LT5hdXgsIERQX0JSQU5DSF9PVUksIGJ1ZiwgRFBfQlJBTkNIX09VSV9IRUFERVJfU0laRSk7Cj4g
ICAgICAgICAgICAgICAgIHNlcV9wcmludGYobSwgImJyYW5jaCBvdWk6ICUqcGhOIGRldmlkOiAi
LCAzLCBidWYpOwo+ICAgICAgICAgICAgICAgICBmb3IgKGkgPSAweDM7IGkgPCAweDggJiYgYnVm
W2ldOyBpKyspCj4gICAgICAgICAgICAgICAgICAgICAgICAgc2VxX3ByaW50ZihtLCAiJWMiLCBi
dWZbaV0pOwo+IC0tCj4gMi4xNS4wCj4KPiBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fXwo+IGRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKPiBkcmktZGV2ZWxAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCj4gaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1h
bi9saXN0aW5mby9kcmktZGV2ZWwKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRl
c2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8v
ZHJpLWRldmVs
