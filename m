Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 16337A00E6
	for <lists+dri-devel@lfdr.de>; Wed, 28 Aug 2019 13:43:14 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 813C989A1A;
	Wed, 28 Aug 2019 11:43:10 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mx1.suse.de (mx2.suse.de [195.135.220.15])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 17FFE89A1A
 for <dri-devel@lists.freedesktop.org>; Wed, 28 Aug 2019 11:43:09 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id 057F3AF2C;
 Wed, 28 Aug 2019 11:43:06 +0000 (UTC)
Date: Wed, 28 Aug 2019 13:43:05 +0200
From: Michal Hocko <mhocko@kernel.org>
To: Daniel Vetter <daniel.vetter@ffwll.ch>
Subject: Re: [PATCH 3/5] kernel.h: Add non_block_start/end()
Message-ID: <20190828114305.GH28313@dhcp22.suse.cz>
References: <20190826201425.17547-1-daniel.vetter@ffwll.ch>
 <20190826201425.17547-4-daniel.vetter@ffwll.ch>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190826201425.17547-4-daniel.vetter@ffwll.ch>
User-Agent: Mutt/1.10.1 (2018-07-13)
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Feng Tang <feng.tang@intel.com>, Randy Dunlap <rdunlap@infradead.org>,
 Kees Cook <keescook@chromium.org>, Jason Gunthorpe <jgg@ziepe.ca>,
 Peter Zijlstra <peterz@infradead.org>, Jann Horn <jannh@google.com>,
 LKML <linux-kernel@vger.kernel.org>,
 DRI Development <dri-devel@lists.freedesktop.org>,
 Linux MM <linux-mm@kvack.org>,
 =?iso-8859-1?B?Suly9G1l?= Glisse <jglisse@redhat.com>,
 Ingo Molnar <mingo@redhat.com>, Thomas Gleixner <tglx@linutronix.de>,
 David Rientjes <rientjes@google.com>, Wei Wang <wvw@google.com>,
 Daniel Vetter <daniel.vetter@intel.com>,
 Andrew Morton <akpm@linux-foundation.org>,
 Andy Shevchenko <andriy.shevchenko@linux.intel.com>,
 Christian =?iso-8859-1?Q?K=F6nig?= <christian.koenig@amd.com>,
 Masahiro Yamada <yamada.masahiro@socionext.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gTW9uIDI2LTA4LTE5IDIyOjE0OjIzLCBEYW5pZWwgVmV0dGVyIHdyb3RlOgo+IEluIHNvbWUg
c3BlY2lhbCBjYXNlcyB3ZSBtdXN0IG5vdCBibG9jaywgYnV0IHRoZXJlJ3Mgbm90IGEKPiBzcGlu
bG9jaywgcHJlZW1wdC1vZmYsIGlycXMtb2ZmIG9yIHNpbWlsYXIgY3JpdGljYWwgc2VjdGlvbiBh
bHJlYWR5Cj4gdGhhdCBhcm1zIHRoZSBtaWdodF9zbGVlcCgpIGRlYnVnIGNoZWNrcy4gQWRkIGEg
bm9uX2Jsb2NrX3N0YXJ0L2VuZCgpCj4gcGFpciB0byBhbm5vdGF0ZSB0aGVzZS4KPiAKPiBUaGlz
IHdpbGwgYmUgdXNlZCBpbiB0aGUgb29tIHBhdGhzIG9mIG1tdS1ub3RpZmllcnMsIHdoZXJlIGJs
b2NraW5nIGlzCj4gbm90IGFsbG93ZWQgdG8gbWFrZSBzdXJlIHRoZXJlJ3MgZm9yd2FyZCBwcm9n
cmVzcy4gUXVvdGluZyBNaWNoYWw6Cj4gCj4gIlRoZSBub3RpZmllciBpcyBjYWxsZWQgZnJvbSBx
dWl0ZSBhIHJlc3RyaWN0ZWQgY29udGV4dCAtIG9vbV9yZWFwZXIgLQo+IHdoaWNoIHNob3VsZG4n
dCBkZXBlbmQgb24gYW55IGxvY2tzIG9yIHNsZWVwYWJsZSBjb25kaXRpb25hbHMuIFRoZSBjb2Rl
Cj4gc2hvdWxkIGJlIHN3aWZ0IGFzIHdlbGwgYnV0IHdlIG1vc3RseSBkbyBjYXJlIGFib3V0IGl0
IHRvIG1ha2UgYSBmb3J3YXJkCj4gcHJvZ3Jlc3MuIENoZWNraW5nIGZvciBzbGVlcGFibGUgY29u
dGV4dCBpcyB0aGUgYmVzdCB0aGluZyB3ZSBjb3VsZCBjb21lCj4gdXAgd2l0aCB0aGF0IHdvdWxk
IGRlc2NyaWJlIHRoZXNlIGRlbWFuZHMgYXQgbGVhc3QgcGFydGlhbGx5LiIKPiAKPiBQZXRlciBh
bHNvIGFza2VkIHdoZXRoZXIgd2Ugd2FudCB0byBjYXRjaCBzcGlubG9ja3Mgb24gdG9wLCBidXQg
TWljaGFsCj4gc2FpZCB0aG9zZSBhcmUgbGVzcyBvZiBhIHByb2JsZW0gYmVjYXVzZSBzcGlubG9j
a3MgY2FuJ3QgaGF2ZSBhbgo+IGluZGlyZWN0IGRlcGVuZGVuY3kgdXBvbiB0aGUgcGFnZSBhbGxv
Y2F0b3IgYW5kIGhlbmNlIGNsb3NlIHRoZSBsb29wCj4gd2l0aCB0aGUgb29tIHJlYXBlci4KPiAK
PiBTdWdnZXN0ZWQgYnkgTWljaGFsIEhvY2tvLgo+IAo+IHYyOgo+IC0gSW1wcm92ZSBjb21taXQg
bWVzc2FnZSAoTWljaGFsKQo+IC0gQWxzbyBjaGVjayBpbiBzY2hlZHVsZSwgbm90IGp1c3QgbWln
aHRfc2xlZXAgKFBldGVyKQo+IAo+IHYzOiBJdCB3b3JrcyBiZXR0ZXIgd2hlbiBJIGFjdHVhbGx5
IHNxdWFzaCBpbiB0aGUgZml4dXAgSSBoYWQgbHlpbmcKPiBhcm91bmQgOi0vCj4gCj4gdjQ6IFBp
Y2sgdGhlIHN1Z2dlc3Rpb24gZnJvbSBBbmRyZXcgTW9ydG9uIHRvIGdpdmUgbm9uX2Jsb2NrX3N0
YXJ0L2VuZAo+IHNvbWUgZ29vZCBrZXJuZWxkb2MgY29tbWVudHMuIEkgYWRkZWQgdGhhdCBvdGhl
ciBibG9ja2luZyBjYWxscyBsaWtlCj4gd2FpdF9ldmVudCBwb3NlIHNpbWlsYXIgaXNzdWVzLCBz
aW5jZSB0aGF0J3MgdGhlIG90aGVyIGV4YW1wbGUgd2UKPiBkaXNjdXNzZWQuCj4gCj4gQ2M6IEph
c29uIEd1bnRob3JwZSA8amdnQHppZXBlLmNhPgo+IENjOiBQZXRlciBaaWpsc3RyYSA8cGV0ZXJ6
QGluZnJhZGVhZC5vcmc+Cj4gQ2M6IEluZ28gTW9sbmFyIDxtaW5nb0ByZWRoYXQuY29tPgo+IENj
OiBBbmRyZXcgTW9ydG9uIDxha3BtQGxpbnV4LWZvdW5kYXRpb24ub3JnPgo+IENjOiBNaWNoYWwg
SG9ja28gPG1ob2Nrb0BzdXNlLmNvbT4KPiBDYzogRGF2aWQgUmllbnRqZXMgPHJpZW50amVzQGdv
b2dsZS5jb20+Cj4gQ2M6ICJDaHJpc3RpYW4gS8O2bmlnIiA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQu
Y29tPgo+IENjOiBEYW5pZWwgVmV0dGVyIDxkYW5pZWwudmV0dGVyQGZmd2xsLmNoPgo+IENjOiAi
SsOpcsO0bWUgR2xpc3NlIiA8amdsaXNzZUByZWRoYXQuY29tPgo+IENjOiBsaW51eC1tbUBrdmFj
ay5vcmcKPiBDYzogTWFzYWhpcm8gWWFtYWRhIDx5YW1hZGEubWFzYWhpcm9Ac29jaW9uZXh0LmNv
bT4KPiBDYzogV2VpIFdhbmcgPHd2d0Bnb29nbGUuY29tPgo+IENjOiBBbmR5IFNoZXZjaGVua28g
PGFuZHJpeS5zaGV2Y2hlbmtvQGxpbnV4LmludGVsLmNvbT4KPiBDYzogVGhvbWFzIEdsZWl4bmVy
IDx0Z2x4QGxpbnV0cm9uaXguZGU+Cj4gQ2M6IEphbm4gSG9ybiA8amFubmhAZ29vZ2xlLmNvbT4K
PiBDYzogRmVuZyBUYW5nIDxmZW5nLnRhbmdAaW50ZWwuY29tPgo+IENjOiBLZWVzIENvb2sgPGtl
ZXNjb29rQGNocm9taXVtLm9yZz4KPiBDYzogUmFuZHkgRHVubGFwIDxyZHVubGFwQGluZnJhZGVh
ZC5vcmc+Cj4gQ2M6IGxpbnV4LWtlcm5lbEB2Z2VyLmtlcm5lbC5vcmcKPiBBY2tlZC1ieTogQ2hy
aXN0aWFuIEvDtm5pZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPiAodjEpCj4gQWNrZWQtYnk6
IFBldGVyIFppamxzdHJhIChJbnRlbCkgPHBldGVyekBpbmZyYWRlYWQub3JnPgo+IFNpZ25lZC1v
ZmYtYnk6IERhbmllbCBWZXR0ZXIgPGRhbmllbC52ZXR0ZXJAaW50ZWwuY29tPgoKQWNrZWQtYnk6
IE1pY2hhbCBIb2NrbyA8bWhvY2tvQHN1c2UuY29tPgoKVGhhbmtzIGFuZCBzb3JyeSBmb3IgYmVp
bmcgbW9zdGx5IHNpbGVudC9zbG93IGluIGRpc2N1c3Npb25zIGhlcmUuCkVUT09CVVNZLgoKPiAt
LS0KPiAgaW5jbHVkZS9saW51eC9rZXJuZWwuaCB8IDI1ICsrKysrKysrKysrKysrKysrKysrKysr
Ky0KPiAgaW5jbHVkZS9saW51eC9zY2hlZC5oICB8ICA0ICsrKysKPiAga2VybmVsL3NjaGVkL2Nv
cmUuYyAgICB8IDE5ICsrKysrKysrKysrKysrLS0tLS0KPiAgMyBmaWxlcyBjaGFuZ2VkLCA0MiBp
bnNlcnRpb25zKCspLCA2IGRlbGV0aW9ucygtKQo+IAo+IGRpZmYgLS1naXQgYS9pbmNsdWRlL2xp
bnV4L2tlcm5lbC5oIGIvaW5jbHVkZS9saW51eC9rZXJuZWwuaAo+IGluZGV4IDRmYTM2MGExM2Mx
ZS4uODJmODRjZmUzNzJmIDEwMDY0NAo+IC0tLSBhL2luY2x1ZGUvbGludXgva2VybmVsLmgKPiAr
KysgYi9pbmNsdWRlL2xpbnV4L2tlcm5lbC5oCj4gQEAgLTIxNyw3ICsyMTcsOSBAQCBleHRlcm4g
dm9pZCBfX2NhbnRfc2xlZXAoY29uc3QgY2hhciAqZmlsZSwgaW50IGxpbmUsIGludCBwcmVlbXB0
X29mZnNldCk7Cj4gICAqIG1pZ2h0X3NsZWVwIC0gYW5ub3RhdGlvbiBmb3IgZnVuY3Rpb25zIHRo
YXQgY2FuIHNsZWVwCj4gICAqCj4gICAqIHRoaXMgbWFjcm8gd2lsbCBwcmludCBhIHN0YWNrIHRy
YWNlIGlmIGl0IGlzIGV4ZWN1dGVkIGluIGFuIGF0b21pYwo+IC0gKiBjb250ZXh0IChzcGlubG9j
aywgaXJxLWhhbmRsZXIsIC4uLikuCj4gKyAqIGNvbnRleHQgKHNwaW5sb2NrLCBpcnEtaGFuZGxl
ciwgLi4uKS4gQWRkaXRpb25hbCBzZWN0aW9ucyB3aGVyZSBibG9ja2luZyBpcwo+ICsgKiBub3Qg
YWxsb3dlZCBjYW4gYmUgYW5ub3RhdGVkIHdpdGggbm9uX2Jsb2NrX3N0YXJ0KCkgYW5kIG5vbl9i
bG9ja19lbmQoKQo+ICsgKiBwYWlycy4KPiAgICoKPiAgICogVGhpcyBpcyBhIHVzZWZ1bCBkZWJ1
Z2dpbmcgaGVscCB0byBiZSBhYmxlIHRvIGNhdGNoIHByb2JsZW1zIGVhcmx5IGFuZCBub3QKPiAg
ICogYmUgYml0dGVuIGxhdGVyIHdoZW4gdGhlIGNhbGxpbmcgZnVuY3Rpb24gaGFwcGVucyB0byBz
bGVlcCB3aGVuIGl0IGlzIG5vdAo+IEBAIC0yMzMsNiArMjM1LDI1IEBAIGV4dGVybiB2b2lkIF9f
Y2FudF9zbGVlcChjb25zdCBjaGFyICpmaWxlLCBpbnQgbGluZSwgaW50IHByZWVtcHRfb2Zmc2V0
KTsKPiAgIyBkZWZpbmUgY2FudF9zbGVlcCgpIFwKPiAgCWRvIHsgX19jYW50X3NsZWVwKF9fRklM
RV9fLCBfX0xJTkVfXywgMCk7IH0gd2hpbGUgKDApCj4gICMgZGVmaW5lIHNjaGVkX2Fubm90YXRl
X3NsZWVwKCkJKGN1cnJlbnQtPnRhc2tfc3RhdGVfY2hhbmdlID0gMCkKPiArLyoqCj4gKyAqIG5v
bl9ibG9ja19zdGFydCAtIGFubm90YXRlIHRoZSBzdGFydCBvZiBzZWN0aW9uIHdoZXJlIHNsZWVw
aW5nIGlzIHByb2hpYml0ZWQKPiArICoKPiArICogVGhpcyBpcyBvbiBiZWhhbGYgb2YgdGhlIG9v
bSByZWFwZXIsIHNwZWNpZmljYWxseSB3aGVuIGl0IGlzIGNhbGxpbmcgdGhlIG1tdQo+ICsgKiBu
b3RpZmllcnMuIFRoZSBwcm9ibGVtIGlzIHRoYXQgaWYgdGhlIG5vdGlmaWVyIHdlcmUgdG8gYmxv
Y2sgb24sIGZvciBleGFtcGxlLAo+ICsgKiBtdXRleF9sb2NrKCkgYW5kIGlmIHRoZSBwcm9jZXNz
IHdoaWNoIGhvbGRzIHRoYXQgbXV0ZXggd2VyZSB0byBwZXJmb3JtIGEKPiArICogc2xlZXBpbmcg
bWVtb3J5IGFsbG9jYXRpb24sIHRoZSBvb20gcmVhcGVyIGlzIG5vdyBibG9ja2VkIG9uIGNvbXBs
ZXRpb24gb2YKPiArICogdGhhdCBtZW1vcnkgYWxsb2NhdGlvbi4gT3RoZXIgYmxvY2tpbmcgY2Fs
bHMgbGlrZSB3YWl0X2V2ZW50KCkgcG9zZSBzaW1pbGFyCj4gKyAqIGlzc3Vlcy4KPiArICovCj4g
KyMgZGVmaW5lIG5vbl9ibG9ja19zdGFydCgpIFwKPiArCWRvIHsgY3VycmVudC0+bm9uX2Jsb2Nr
X2NvdW50Kys7IH0gd2hpbGUgKDApCj4gKy8qKgo+ICsgKiBub25fYmxvY2tfZW5kIC0gYW5ub3Rh
dGUgdGhlIGVuZCBvZiBzZWN0aW9uIHdoZXJlIHNsZWVwaW5nIGlzIHByb2hpYml0ZWQKPiArICoK
PiArICogQ2xvc2VzIGEgc2VjdGlvbiBvcGVuZWQgYnkgbm9uX2Jsb2NrX3N0YXJ0KCkuCj4gKyAq
Lwo+ICsjIGRlZmluZSBub25fYmxvY2tfZW5kKCkgXAo+ICsJZG8geyBXQVJOX09OKGN1cnJlbnQt
Pm5vbl9ibG9ja19jb3VudC0tID09IDApOyB9IHdoaWxlICgwKQo+ICAjZWxzZQo+ICAgIHN0YXRp
YyBpbmxpbmUgdm9pZCBfX19taWdodF9zbGVlcChjb25zdCBjaGFyICpmaWxlLCBpbnQgbGluZSwK
PiAgCQkJCSAgIGludCBwcmVlbXB0X29mZnNldCkgeyB9Cj4gQEAgLTI0MSw2ICsyNjIsOCBAQCBl
eHRlcm4gdm9pZCBfX2NhbnRfc2xlZXAoY29uc3QgY2hhciAqZmlsZSwgaW50IGxpbmUsIGludCBw
cmVlbXB0X29mZnNldCk7Cj4gICMgZGVmaW5lIG1pZ2h0X3NsZWVwKCkgZG8geyBtaWdodF9yZXNj
aGVkKCk7IH0gd2hpbGUgKDApCj4gICMgZGVmaW5lIGNhbnRfc2xlZXAoKSBkbyB7IH0gd2hpbGUg
KDApCj4gICMgZGVmaW5lIHNjaGVkX2Fubm90YXRlX3NsZWVwKCkgZG8geyB9IHdoaWxlICgwKQo+
ICsjIGRlZmluZSBub25fYmxvY2tfc3RhcnQoKSBkbyB7IH0gd2hpbGUgKDApCj4gKyMgZGVmaW5l
IG5vbl9ibG9ja19lbmQoKSBkbyB7IH0gd2hpbGUgKDApCj4gICNlbmRpZgo+ICAKPiAgI2RlZmlu
ZSBtaWdodF9zbGVlcF9pZihjb25kKSBkbyB7IGlmIChjb25kKSBtaWdodF9zbGVlcCgpOyB9IHdo
aWxlICgwKQo+IGRpZmYgLS1naXQgYS9pbmNsdWRlL2xpbnV4L3NjaGVkLmggYi9pbmNsdWRlL2xp
bnV4L3NjaGVkLmgKPiBpbmRleCBiNmVjMTMwZGZmOWIuLmU4YmI5NjVmNTAxOSAxMDA2NDQKPiAt
LS0gYS9pbmNsdWRlL2xpbnV4L3NjaGVkLmgKPiArKysgYi9pbmNsdWRlL2xpbnV4L3NjaGVkLmgK
PiBAQCAtOTgwLDYgKzk4MCwxMCBAQCBzdHJ1Y3QgdGFza19zdHJ1Y3Qgewo+ICAJc3RydWN0IG11
dGV4X3dhaXRlcgkJKmJsb2NrZWRfb247Cj4gICNlbmRpZgo+ICAKPiArI2lmZGVmIENPTkZJR19E
RUJVR19BVE9NSUNfU0xFRVAKPiArCWludAkJCQlub25fYmxvY2tfY291bnQ7Cj4gKyNlbmRpZgo+
ICsKPiAgI2lmZGVmIENPTkZJR19UUkFDRV9JUlFGTEFHUwo+ICAJdW5zaWduZWQgaW50CQkJaXJx
X2V2ZW50czsKPiAgCXVuc2lnbmVkIGxvbmcJCQloYXJkaXJxX2VuYWJsZV9pcDsKPiBkaWZmIC0t
Z2l0IGEva2VybmVsL3NjaGVkL2NvcmUuYyBiL2tlcm5lbC9zY2hlZC9jb3JlLmMKPiBpbmRleCA0
NWRjZWVjMjA5ZjQuLjBkMDFjNzk5NGE5YSAxMDA2NDQKPiAtLS0gYS9rZXJuZWwvc2NoZWQvY29y
ZS5jCj4gKysrIGIva2VybmVsL3NjaGVkL2NvcmUuYwo+IEBAIC0zNzUyLDEzICszNzUyLDIyIEBA
IHN0YXRpYyBub2lubGluZSB2b2lkIF9fc2NoZWR1bGVfYnVnKHN0cnVjdCB0YXNrX3N0cnVjdCAq
cHJldikKPiAgLyoKPiAgICogVmFyaW91cyBzY2hlZHVsZSgpLXRpbWUgZGVidWdnaW5nIGNoZWNr
cyBhbmQgc3RhdGlzdGljczoKPiAgICovCj4gLXN0YXRpYyBpbmxpbmUgdm9pZCBzY2hlZHVsZV9k
ZWJ1ZyhzdHJ1Y3QgdGFza19zdHJ1Y3QgKnByZXYpCj4gK3N0YXRpYyBpbmxpbmUgdm9pZCBzY2hl
ZHVsZV9kZWJ1ZyhzdHJ1Y3QgdGFza19zdHJ1Y3QgKnByZXYsIGJvb2wgcHJlZW1wdCkKPiAgewo+
ICAjaWZkZWYgQ09ORklHX1NDSEVEX1NUQUNLX0VORF9DSEVDSwo+ICAJaWYgKHRhc2tfc3RhY2tf
ZW5kX2NvcnJ1cHRlZChwcmV2KSkKPiAgCQlwYW5pYygiY29ycnVwdGVkIHN0YWNrIGVuZCBkZXRl
Y3RlZCBpbnNpZGUgc2NoZWR1bGVyXG4iKTsKPiAgI2VuZGlmCj4gIAo+ICsjaWZkZWYgQ09ORklH
X0RFQlVHX0FUT01JQ19TTEVFUAo+ICsJaWYgKCFwcmVlbXB0ICYmIHByZXYtPnN0YXRlICYmIHBy
ZXYtPm5vbl9ibG9ja19jb3VudCkgewo+ICsJCXByaW50ayhLRVJOX0VSUiAiQlVHOiBzY2hlZHVs
aW5nIGluIGEgbm9uLWJsb2NraW5nIHNlY3Rpb246ICVzLyVkLyVpXG4iLAo+ICsJCQlwcmV2LT5j
b21tLCBwcmV2LT5waWQsIHByZXYtPm5vbl9ibG9ja19jb3VudCk7Cj4gKwkJZHVtcF9zdGFjaygp
Owo+ICsJCWFkZF90YWludChUQUlOVF9XQVJOLCBMT0NLREVQX1NUSUxMX09LKTsKPiArCX0KPiAr
I2VuZGlmCj4gKwo+ICAJaWYgKHVubGlrZWx5KGluX2F0b21pY19wcmVlbXB0X29mZigpKSkgewo+
ICAJCV9fc2NoZWR1bGVfYnVnKHByZXYpOwo+ICAJCXByZWVtcHRfY291bnRfc2V0KFBSRUVNUFRf
RElTQUJMRUQpOwo+IEBAIC0zODcwLDcgKzM4NzksNyBAQCBzdGF0aWMgdm9pZCBfX3NjaGVkIG5v
dHJhY2UgX19zY2hlZHVsZShib29sIHByZWVtcHQpCj4gIAlycSA9IGNwdV9ycShjcHUpOwo+ICAJ
cHJldiA9IHJxLT5jdXJyOwo+ICAKPiAtCXNjaGVkdWxlX2RlYnVnKHByZXYpOwo+ICsJc2NoZWR1
bGVfZGVidWcocHJldiwgcHJlZW1wdCk7Cj4gIAo+ICAJaWYgKHNjaGVkX2ZlYXQoSFJUSUNLKSkK
PiAgCQlocnRpY2tfY2xlYXIocnEpOwo+IEBAIC02NjQxLDcgKzY2NTAsNyBAQCB2b2lkIF9fX21p
Z2h0X3NsZWVwKGNvbnN0IGNoYXIgKmZpbGUsIGludCBsaW5lLCBpbnQgcHJlZW1wdF9vZmZzZXQp
Cj4gIAlyY3Vfc2xlZXBfY2hlY2soKTsKPiAgCj4gIAlpZiAoKHByZWVtcHRfY291bnRfZXF1YWxz
KHByZWVtcHRfb2Zmc2V0KSAmJiAhaXJxc19kaXNhYmxlZCgpICYmCj4gLQkgICAgICFpc19pZGxl
X3Rhc2soY3VycmVudCkpIHx8Cj4gKwkgICAgICFpc19pZGxlX3Rhc2soY3VycmVudCkgJiYgIWN1
cnJlbnQtPm5vbl9ibG9ja19jb3VudCkgfHwKPiAgCSAgICBzeXN0ZW1fc3RhdGUgPT0gU1lTVEVN
X0JPT1RJTkcgfHwgc3lzdGVtX3N0YXRlID4gU1lTVEVNX1JVTk5JTkcgfHwKPiAgCSAgICBvb3Bz
X2luX3Byb2dyZXNzKQo+ICAJCXJldHVybjsKPiBAQCAtNjY1Nyw4ICs2NjY2LDggQEAgdm9pZCBf
X19taWdodF9zbGVlcChjb25zdCBjaGFyICpmaWxlLCBpbnQgbGluZSwgaW50IHByZWVtcHRfb2Zm
c2V0KQo+ICAJCSJCVUc6IHNsZWVwaW5nIGZ1bmN0aW9uIGNhbGxlZCBmcm9tIGludmFsaWQgY29u
dGV4dCBhdCAlczolZFxuIiwKPiAgCQkJZmlsZSwgbGluZSk7Cj4gIAlwcmludGsoS0VSTl9FUlIK
PiAtCQkiaW5fYXRvbWljKCk6ICVkLCBpcnFzX2Rpc2FibGVkKCk6ICVkLCBwaWQ6ICVkLCBuYW1l
OiAlc1xuIiwKPiAtCQkJaW5fYXRvbWljKCksIGlycXNfZGlzYWJsZWQoKSwKPiArCQkiaW5fYXRv
bWljKCk6ICVkLCBpcnFzX2Rpc2FibGVkKCk6ICVkLCBub25fYmxvY2s6ICVkLCBwaWQ6ICVkLCBu
YW1lOiAlc1xuIiwKPiArCQkJaW5fYXRvbWljKCksIGlycXNfZGlzYWJsZWQoKSwgY3VycmVudC0+
bm9uX2Jsb2NrX2NvdW50LAo+ICAJCQljdXJyZW50LT5waWQsIGN1cnJlbnQtPmNvbW0pOwo+ICAK
PiAgCWlmICh0YXNrX3N0YWNrX2VuZF9jb3JydXB0ZWQoY3VycmVudCkpCj4gLS0gCj4gMi4yMy4w
Cj4gCgotLSAKTWljaGFsIEhvY2tvClNVU0UgTGFicwpfX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBs
aXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1h
bi9saXN0aW5mby9kcmktZGV2ZWw=
