Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 07D13A224B
	for <lists+dri-devel@lfdr.de>; Thu, 29 Aug 2019 19:32:26 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E072F6E133;
	Thu, 29 Aug 2019 17:32:22 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from smtp.codeaurora.org (smtp.codeaurora.org [198.145.29.96])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A3C646E086;
 Thu, 29 Aug 2019 17:32:21 +0000 (UTC)
Received: by smtp.codeaurora.org (Postfix, from userid 1000)
 id 67DDF92281; Thu, 29 Aug 2019 11:52:51 +0000 (UTC)
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
 pdx-caf-mail.web.codeaurora.org
X-Spam-Level: 
X-Spam-Status: No, score=-2.7 required=2.0 tests=ALL_TRUSTED,BAYES_00,
 DKIM_INVALID,DKIM_SIGNED,SPF_NONE autolearn=no autolearn_force=no
 version=3.4.0
Received: from jcrouse1-lnx.qualcomm.com (i-global254.qualcomm.com
 [199.106.103.254])
 (using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
 (No client certificate requested)
 (Authenticated sender: jcrouse@smtp.codeaurora.org)
 by smtp.codeaurora.org (Postfix) with ESMTPSA id F306B717A6;
 Wed, 28 Aug 2019 15:12:29 +0000 (UTC)
DMARC-Filter: OpenDMARC Filter v1.3.2 smtp.codeaurora.org F306B717A6
Date: Wed, 28 Aug 2019 09:12:28 -0600
From: Jordan Crouse <jcrouse@codeaurora.org>
To: Brian Masney <masneyb@onstation.org>
Subject: Re: [Freedreno] [PATCH v7 6/7] drm/msm/gpu: add ocmem init/cleanup
 functions
Message-ID: <20190828151227.GA32634@jcrouse1-lnx.qualcomm.com>
Mail-Followup-To: Brian Masney <masneyb@onstation.org>, agross@kernel.org,
 robdclark@gmail.com, sean@poorly.run, robh+dt@kernel.org,
 bjorn.andersson@linaro.org, mark.rutland@arm.com,
 devicetree@vger.kernel.org, jonathan@marek.ca, airlied@linux.ie,
 linux-arm-msm@vger.kernel.org, linux-kernel@vger.kernel.org,
 dri-devel@lists.freedesktop.org, daniel@ffwll.ch,
 freedreno@lists.freedesktop.org
References: <20190823121637.5861-1-masneyb@onstation.org>
 <20190823121637.5861-7-masneyb@onstation.org>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190823121637.5861-7-masneyb@onstation.org>
User-Agent: Mutt/1.5.24 (2015-08-30)
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=codeaurora.org; s=default; t=1567079579;
 bh=OHKwkI/sdEgnVyxudiOOLrgRs7l5wbuwZtUz5z/MjT8=;
 h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
 b=TlYJ+KkTGYpaEczSdm0SR5A7/K6W/zkSL+RglIwVl6KJ65B47vlZ2mzt7fmJBo+va
 sK3gqsIM4zEbw1wgDGE4R7shcH7KK06DMLYGXZbAEwYkHNXcgKCUVCFAUdATfu6Z4h
 v7/H4f9uRX0vLRrffE1tunUHqfOgsuqwAIF+vAqg=
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=codeaurora.org; s=default; t=1567005151;
 bh=OHKwkI/sdEgnVyxudiOOLrgRs7l5wbuwZtUz5z/MjT8=;
 h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
 b=BejK36lMPzA13/cjZqPZoXa/eOjWiZbRxpyj7LZqyNJ6uVpcw4nMtPXmez6+1A2zu
 tXq6LWd37yuIusL0LAVwc8AX1andY2qEfQLqXqeLOp7xjReKQG/hz+nIGBXZ5z6fn/
 fCmR+Jl0udrxKJqq7Jny0yCGZAbKS1/BDJDWE2J8=
X-Mailman-Original-Authentication-Results: pdx-caf-mail.web.codeaurora.org;
 dmarc=none (p=none dis=none)
 header.from=codeaurora.org
X-Mailman-Original-Authentication-Results: pdx-caf-mail.web.codeaurora.org;
 spf=none
 smtp.mailfrom=jcrouse@codeaurora.org
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: mark.rutland@arm.com, devicetree@vger.kernel.org, jonathan@marek.ca,
 airlied@linux.ie, linux-arm-msm@vger.kernel.org, linux-kernel@vger.kernel.org,
 robh+dt@kernel.org, bjorn.andersson@linaro.org, agross@kernel.org,
 dri-devel@lists.freedesktop.org, freedreno@lists.freedesktop.org,
 sean@poorly.run
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gRnJpLCBBdWcgMjMsIDIwMTkgYXQgMDU6MTY6MzZBTSAtMDcwMCwgQnJpYW4gTWFzbmV5IHdy
b3RlOgo+IFRoZSBmaWxlcyBhM3h4X2dwdS5jIGFuZCBhNHh4X2dwdS5jIGhhdmUgaWZkZWZzIGZv
ciB0aGUgT0NNRU0gc3VwcG9ydAo+IHRoYXQgd2FzIG1pc3NpbmcgdXBzdHJlYW0uIEFkZCB0d28g
bmV3IGZ1bmN0aW9ucyAoYWRyZW5vX2dwdV9vY21lbV9pbml0Cj4gYW5kIGFkcmVub19ncHVfb2Nt
ZW1fY2xlYW51cCkgdGhhdCByZW1vdmVzIHNvbWUgZHVwbGljYXRlZCBjb2RlLgoKUmV2aWV3ZWQt
Ynk6IEpvcmRhbiBDcm91c2UgPGpjcm91c2VAY29kZWF1cm9yYS5vcmc+Cgo+IFNpZ25lZC1vZmYt
Ynk6IEJyaWFuIE1hc25leSA8bWFzbmV5YkBvbnN0YXRpb24ub3JnPgo+IC0tLQo+IENoYW5nZXMg
c2luY2UgdjY6Cj4gLSBOb25lCj4gCj4gQ2hhbmdlcyBzaW5jZSB2NToKPiAtIE5vbmUKPiAKPiBD
aGFuZ2VzIHNpbmNlIHY0Ogo+IC0gTm9uZQo+IAo+IENoYW5nZXMgc2luY2UgdjM6Cj4gLSBOb25l
Cj4gCj4gQ2hhbmdlcyBzaW5jZSB2MjoKPiAtIENoZWNrIGZvciAtRU5PREVWIGVycm9yIG9mX2dl
dF9vY21lbSgpCj4gLSByZW1vdmUgZmFpbF9jbGVhbnVwX29jbWVtIGxhYmVsIGluIGFbMzRdeHhf
Z3B1X2luaXQKPiAKPiBDaGFuZ2VzIHNpbmNlIHYxOgo+IC0gcmVtb3ZlIENPTkZJR19RQ09NX09D
TUVNICNpZmRlZnMKPiAtIHVzZSB1bnNpZ25lZCBsb25nIGZvciBtZW1vcnkgYWRkcmVzc2VzIGlu
c3RlYWQgb2YgdWludDMyX3QKPiAtIGFkZCAnZGVwZW5kcyBvbiBRQ09NX09DTUVNIHx8IFFDT01f
T0NNRU09bicgdG8gS2NvbmZpZwo+IAo+ICBkcml2ZXJzL2dwdS9kcm0vbXNtL0tjb25maWcgICAg
ICAgICAgICAgfCAgMSArCj4gIGRyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2EzeHhfZ3B1LmMg
ICB8IDI4ICsrKysrLS0tLS0tLS0tLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2Ez
eHhfZ3B1LmggICB8ICAzICstCj4gIGRyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2E0eHhfZ3B1
LmMgICB8IDI1ICsrKystLS0tLS0tLS0tLS0KPiAgZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8v
YTR4eF9ncHUuaCAgIHwgIDMgKy0KPiAgZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8vYWRyZW5v
X2dwdS5jIHwgNDAgKysrKysrKysrKysrKysrKysrKysrKysrKwo+ICBkcml2ZXJzL2dwdS9kcm0v
bXNtL2FkcmVuby9hZHJlbm9fZ3B1LmggfCAxMCArKysrKysrCj4gIDcgZmlsZXMgY2hhbmdlZCwg
NjYgaW5zZXJ0aW9ucygrKSwgNDQgZGVsZXRpb25zKC0pCj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9tc20vS2NvbmZpZyBiL2RyaXZlcnMvZ3B1L2RybS9tc20vS2NvbmZpZwo+IGlu
ZGV4IDljMzdlNGRlNTg5Ni4uYjNkM2IyMTcyNjU5IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9tc20vS2NvbmZpZwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9tc20vS2NvbmZpZwo+IEBA
IC03LDYgKzcsNyBAQCBjb25maWcgRFJNX01TTQo+ICAJZGVwZW5kcyBvbiBPRiAmJiBDT01NT05f
Q0xLCj4gIAlkZXBlbmRzIG9uIE1NVQo+ICAJZGVwZW5kcyBvbiBJTlRFUkNPTk5FQ1QgfHwgIUlO
VEVSQ09OTkVDVAo+ICsJZGVwZW5kcyBvbiBRQ09NX09DTUVNIHx8IFFDT01fT0NNRU09bgo+ICAJ
c2VsZWN0IFFDT01fTURUX0xPQURFUiBpZiBBUkNIX1FDT00KPiAgCXNlbGVjdCBSRUdVTEFUT1IK
PiAgCXNlbGVjdCBEUk1fS01TX0hFTFBFUgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
bXNtL2FkcmVuby9hM3h4X2dwdS5jIGIvZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8vYTN4eF9n
cHUuYwo+IGluZGV4IDVmN2U5ODAyOGVhZi4uN2FkMTQ5MzdmY2RmIDEwMDY0NAo+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2EzeHhfZ3B1LmMKPiArKysgYi9kcml2ZXJzL2dwdS9k
cm0vbXNtL2FkcmVuby9hM3h4X2dwdS5jCj4gQEAgLTYsMTAgKzYsNiBAQAo+ICAgKiBDb3B5cmln
aHQgKGMpIDIwMTQgVGhlIExpbnV4IEZvdW5kYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCj4g
ICAqLwo+ICAKPiAtI2lmZGVmIENPTkZJR19NU01fT0NNRU0KPiAtIyAgaW5jbHVkZSA8bWFjaC9v
Y21lbS5oPgo+IC0jZW5kaWYKPiAtCj4gICNpbmNsdWRlICJhM3h4X2dwdS5oIgo+ICAKPiAgI2Rl
ZmluZSBBM1hYX0lOVDBfTUFTSyBcCj4gQEAgLTE5NSw5ICsxOTEsOSBAQCBzdGF0aWMgaW50IGEz
eHhfaHdfaW5pdChzdHJ1Y3QgbXNtX2dwdSAqZ3B1KQo+ICAJCWdwdV93cml0ZShncHUsIFJFR19B
M1hYX1JCQk1fR1BSMF9DVEwsIDB4MDAwMDAwMDApOwo+ICAKPiAgCS8qIFNldCB0aGUgT0NNRU0g
YmFzZSBhZGRyZXNzIGZvciBBMzMwLCBldGMgKi8KPiAtCWlmIChhM3h4X2dwdS0+b2NtZW1faGRs
KSB7Cj4gKwlpZiAoYTN4eF9ncHUtPm9jbWVtLmhkbCkgewo+ICAJCWdwdV93cml0ZShncHUsIFJF
R19BM1hYX1JCX0dNRU1fQkFTRV9BRERSLAo+IC0JCQkodW5zaWduZWQgaW50KShhM3h4X2dwdS0+
b2NtZW1fYmFzZSA+PiAxNCkpOwo+ICsJCQkodW5zaWduZWQgaW50KShhM3h4X2dwdS0+b2NtZW0u
YmFzZSA+PiAxNCkpOwo+ICAJfQo+ICAKPiAgCS8qIFR1cm4gb24gcGVyZm9ybWFuY2UgY291bnRl
cnM6ICovCj4gQEAgLTMxOCwxMCArMzE0LDcgQEAgc3RhdGljIHZvaWQgYTN4eF9kZXN0cm95KHN0
cnVjdCBtc21fZ3B1ICpncHUpCj4gIAo+ICAJYWRyZW5vX2dwdV9jbGVhbnVwKGFkcmVub19ncHUp
Owo+ICAKPiAtI2lmZGVmIENPTkZJR19NU01fT0NNRU0KPiAtCWlmIChhM3h4X2dwdS0+b2NtZW1f
YmFzZSkKPiAtCQlvY21lbV9mcmVlKE9DTUVNX0dSQVBISUNTLCBhM3h4X2dwdS0+b2NtZW1faGRs
KTsKPiAtI2VuZGlmCj4gKwlhZHJlbm9fZ3B1X29jbWVtX2NsZWFudXAoJmEzeHhfZ3B1LT5vY21l
bSk7Cj4gIAo+ICAJa2ZyZWUoYTN4eF9ncHUpOwo+ICB9Cj4gQEAgLTQ5NCwxNyArNDg3LDEwIEBA
IHN0cnVjdCBtc21fZ3B1ICphM3h4X2dwdV9pbml0KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYpCj4g
IAo+ICAJLyogaWYgbmVlZGVkLCBhbGxvY2F0ZSBnbWVtOiAqLwo+ICAJaWYgKGFkcmVub19pc19h
MzMwKGFkcmVub19ncHUpKSB7Cj4gLSNpZmRlZiBDT05GSUdfTVNNX09DTUVNCj4gLQkJLyogVE9E
TyB0aGlzIGlzIGRpZmZlcmVudC9taXNzaW5nIHVwc3RyZWFtOiAqLwo+IC0JCXN0cnVjdCBvY21l
bV9idWYgKm9jbWVtX2hkbCA9Cj4gLQkJCQlvY21lbV9hbGxvY2F0ZShPQ01FTV9HUkFQSElDUywg
YWRyZW5vX2dwdS0+Z21lbSk7Cj4gLQo+IC0JCWEzeHhfZ3B1LT5vY21lbV9oZGwgPSBvY21lbV9o
ZGw7Cj4gLQkJYTN4eF9ncHUtPm9jbWVtX2Jhc2UgPSBvY21lbV9oZGwtPmFkZHI7Cj4gLQkJYWRy
ZW5vX2dwdS0+Z21lbSA9IG9jbWVtX2hkbC0+bGVuOwo+IC0JCURCRygidXNpbmcgJWRLIG9mIE9D
TUVNIGF0IDB4JTA4eCIsIGFkcmVub19ncHUtPmdtZW0gLyAxMDI0LAo+IC0JCQkJYTN4eF9ncHUt
Pm9jbWVtX2Jhc2UpOwo+IC0jZW5kaWYKPiArCQlyZXQgPSBhZHJlbm9fZ3B1X29jbWVtX2luaXQo
JmFkcmVub19ncHUtPmJhc2UucGRldi0+ZGV2LAo+ICsJCQkJCSAgICBhZHJlbm9fZ3B1LCAmYTN4
eF9ncHUtPm9jbWVtKTsKPiArCQlpZiAocmV0KQo+ICsJCQlnb3RvIGZhaWw7Cj4gIAl9Cj4gIAo+
ICAJaWYgKCFncHUtPmFzcGFjZSkgewo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbXNt
L2FkcmVuby9hM3h4X2dwdS5oIGIvZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8vYTN4eF9ncHUu
aAo+IGluZGV4IDVkYzMzZTVlYTUzYi4uYzU1NWZiMTNlMGQ3IDEwMDY0NAo+IC0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9tc20vYWRyZW5vL2EzeHhfZ3B1LmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
bXNtL2FkcmVuby9hM3h4X2dwdS5oCj4gQEAgLTE5LDggKzE5LDcgQEAgc3RydWN0IGEzeHhfZ3B1
IHsKPiAgCXN0cnVjdCBhZHJlbm9fZ3B1IGJhc2U7Cj4gIAo+ICAJLyogaWYgT0NNRU0gaXMgdXNl
ZCBmb3IgR01FTTogKi8KPiAtCXVpbnQzMl90IG9jbWVtX2Jhc2U7Cj4gLQl2b2lkICpvY21lbV9o
ZGw7Cj4gKwlzdHJ1Y3QgYWRyZW5vX29jbWVtIG9jbWVtOwo+ICB9Owo+ICAjZGVmaW5lIHRvX2Ez
eHhfZ3B1KHgpIGNvbnRhaW5lcl9vZih4LCBzdHJ1Y3QgYTN4eF9ncHUsIGJhc2UpCj4gIAo+IGRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hNHh4X2dwdS5jIGIvZHJpdmVy
cy9ncHUvZHJtL21zbS9hZHJlbm8vYTR4eF9ncHUuYwo+IGluZGV4IGFiMmI3NTI1NjZkOC4uYjAx
Mzg4YTllODllIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2E0eHhf
Z3B1LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hNHh4X2dwdS5jCj4gQEAg
LTIsOSArMiw2IEBACj4gIC8qIENvcHlyaWdodCAoYykgMjAxNCBUaGUgTGludXggRm91bmRhdGlv
bi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KPiAgICovCj4gICNpbmNsdWRlICJhNHh4X2dwdS5oIgo+
IC0jaWZkZWYgQ09ORklHX01TTV9PQ01FTQo+IC0jICBpbmNsdWRlIDxzb2MvcWNvbS9vY21lbS5o
Pgo+IC0jZW5kaWYKPiAgCj4gICNkZWZpbmUgQTRYWF9JTlQwX01BU0sgXAo+ICAJKEE0WFhfSU5U
MF9SQkJNX0FIQl9FUlJPUiB8ICAgICAgICBcCj4gQEAgLTE4OCw3ICsxODUsNyBAQCBzdGF0aWMg
aW50IGE0eHhfaHdfaW5pdChzdHJ1Y3QgbXNtX2dwdSAqZ3B1KQo+ICAJCQkoMSA8PCAzMCkgfCAw
eEZGRkYpOwo+ICAKPiAgCWdwdV93cml0ZShncHUsIFJFR19BNFhYX1JCX0dNRU1fQkFTRV9BRERS
LAo+IC0JCQkodW5zaWduZWQgaW50KShhNHh4X2dwdS0+b2NtZW1fYmFzZSA+PiAxNCkpOwo+ICsJ
CQkodW5zaWduZWQgaW50KShhNHh4X2dwdS0+b2NtZW0uYmFzZSA+PiAxNCkpOwo+ICAKPiAgCS8q
IFR1cm4gb24gcGVyZm9ybWFuY2UgY291bnRlcnM6ICovCj4gIAlncHVfd3JpdGUoZ3B1LCBSRUdf
QTRYWF9SQkJNX1BFUkZDVFJfQ1RMLCAweDAxKTsKPiBAQCAtMzE4LDEwICszMTUsNyBAQCBzdGF0
aWMgdm9pZCBhNHh4X2Rlc3Ryb3koc3RydWN0IG1zbV9ncHUgKmdwdSkKPiAgCj4gIAlhZHJlbm9f
Z3B1X2NsZWFudXAoYWRyZW5vX2dwdSk7Cj4gIAo+IC0jaWZkZWYgQ09ORklHX01TTV9PQ01FTQo+
IC0JaWYgKGE0eHhfZ3B1LT5vY21lbV9iYXNlKQo+IC0JCW9jbWVtX2ZyZWUoT0NNRU1fR1JBUEhJ
Q1MsIGE0eHhfZ3B1LT5vY21lbV9oZGwpOwo+IC0jZW5kaWYKPiArCWFkcmVub19ncHVfb2NtZW1f
Y2xlYW51cCgmYTR4eF9ncHUtPm9jbWVtKTsKPiAgCj4gIAlrZnJlZShhNHh4X2dwdSk7Cj4gIH0K
PiBAQCAtNTc4LDE3ICs1NzIsMTAgQEAgc3RydWN0IG1zbV9ncHUgKmE0eHhfZ3B1X2luaXQoc3Ry
dWN0IGRybV9kZXZpY2UgKmRldikKPiAgCj4gIAkvKiBpZiBuZWVkZWQsIGFsbG9jYXRlIGdtZW06
ICovCj4gIAlpZiAoYWRyZW5vX2lzX2E0eHgoYWRyZW5vX2dwdSkpIHsKPiAtI2lmZGVmIENPTkZJ
R19NU01fT0NNRU0KPiAtCQkvKiBUT0RPIHRoaXMgaXMgZGlmZmVyZW50L21pc3NpbmcgdXBzdHJl
YW06ICovCj4gLQkJc3RydWN0IG9jbWVtX2J1ZiAqb2NtZW1faGRsID0KPiAtCQkJCW9jbWVtX2Fs
bG9jYXRlKE9DTUVNX0dSQVBISUNTLCBhZHJlbm9fZ3B1LT5nbWVtKTsKPiAtCj4gLQkJYTR4eF9n
cHUtPm9jbWVtX2hkbCA9IG9jbWVtX2hkbDsKPiAtCQlhNHh4X2dwdS0+b2NtZW1fYmFzZSA9IG9j
bWVtX2hkbC0+YWRkcjsKPiAtCQlhZHJlbm9fZ3B1LT5nbWVtID0gb2NtZW1faGRsLT5sZW47Cj4g
LQkJREJHKCJ1c2luZyAlZEsgb2YgT0NNRU0gYXQgMHglMDh4IiwgYWRyZW5vX2dwdS0+Z21lbSAv
IDEwMjQsCj4gLQkJCQlhNHh4X2dwdS0+b2NtZW1fYmFzZSk7Cj4gLSNlbmRpZgo+ICsJCXJldCA9
IGFkcmVub19ncHVfb2NtZW1faW5pdChkZXYtPmRldiwgYWRyZW5vX2dwdSwKPiArCQkJCQkgICAg
JmE0eHhfZ3B1LT5vY21lbSk7Cj4gKwkJaWYgKHJldCkKPiArCQkJZ290byBmYWlsOwo+ICAJfQo+
ICAKPiAgCWlmICghZ3B1LT5hc3BhY2UpIHsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L21zbS9hZHJlbm8vYTR4eF9ncHUuaCBiL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2E0eHhf
Z3B1LmgKPiBpbmRleCBkNTA2MzExZWUyNDAuLmEwMTQ0OGNiYTJlYSAxMDA2NDQKPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hNHh4X2dwdS5oCj4gKysrIGIvZHJpdmVycy9ncHUv
ZHJtL21zbS9hZHJlbm8vYTR4eF9ncHUuaAo+IEBAIC0xNiw4ICsxNiw3IEBAIHN0cnVjdCBhNHh4
X2dwdSB7Cj4gIAlzdHJ1Y3QgYWRyZW5vX2dwdSBiYXNlOwo+ICAKPiAgCS8qIGlmIE9DTUVNIGlz
IHVzZWQgZm9yIEdNRU06ICovCj4gLQl1aW50MzJfdCBvY21lbV9iYXNlOwo+IC0Jdm9pZCAqb2Nt
ZW1faGRsOwo+ICsJc3RydWN0IGFkcmVub19vY21lbSBvY21lbTsKPiAgfTsKPiAgI2RlZmluZSB0
b19hNHh4X2dwdSh4KSBjb250YWluZXJfb2YoeCwgc3RydWN0IGE0eHhfZ3B1LCBiYXNlKQo+ICAK
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8vYWRyZW5vX2dwdS5jIGIv
ZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8vYWRyZW5vX2dwdS5jCj4gaW5kZXggMDQ4YzhiZTQy
NmYzLi4wNzgzZTRiNTQ4NmEgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL21zbS9hZHJl
bm8vYWRyZW5vX2dwdS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8vYWRyZW5v
X2dwdS5jCj4gQEAgLTE0LDYgKzE0LDcgQEAKPiAgI2luY2x1ZGUgPGxpbnV4L3BtX29wcC5oPgo+
ICAjaW5jbHVkZSA8bGludXgvc2xhYi5oPgo+ICAjaW5jbHVkZSA8bGludXgvc29jL3Fjb20vbWR0
X2xvYWRlci5oPgo+ICsjaW5jbHVkZSA8c29jL3Fjb20vb2NtZW0uaD4KPiAgI2luY2x1ZGUgImFk
cmVub19ncHUuaCIKPiAgI2luY2x1ZGUgIm1zbV9nZW0uaCIKPiAgI2luY2x1ZGUgIm1zbV9tbXUu
aCIKPiBAQCAtODkzLDYgKzg5NCw0NSBAQCBzdGF0aWMgaW50IGFkcmVub19nZXRfcHdybGV2ZWxz
KHN0cnVjdCBkZXZpY2UgKmRldiwKPiAgCXJldHVybiAwOwo+ICB9Cj4gIAo+ICtpbnQgYWRyZW5v
X2dwdV9vY21lbV9pbml0KHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGFkcmVub19ncHUgKmFk
cmVub19ncHUsCj4gKwkJCSAgc3RydWN0IGFkcmVub19vY21lbSAqYWRyZW5vX29jbWVtKQo+ICt7
Cj4gKwlzdHJ1Y3Qgb2NtZW1fYnVmICpvY21lbV9oZGw7Cj4gKwlzdHJ1Y3Qgb2NtZW0gKm9jbWVt
Owo+ICsKPiArCW9jbWVtID0gb2ZfZ2V0X29jbWVtKGRldik7Cj4gKwlpZiAoSVNfRVJSKG9jbWVt
KSkgewo+ICsJCWlmIChQVFJfRVJSKG9jbWVtKSA9PSAtRU5PREVWKSB7Cj4gKwkJCS8qCj4gKwkJ
CSAqIFJldHVybiBzdWNjZXNzIHNpbmNlIGVpdGhlciB0aGUgb2NtZW0gcHJvcGVydHkgd2FzCj4g
KwkJCSAqIG5vdCBzcGVjaWZpZWQgaW4gZGV2aWNlIHRyZWUsIG9yIG9jbWVtIHN1cHBvcnQgaXMK
PiArCQkJICogbm90IGNvbXBpbGVkIGludG8gdGhlIGtlcm5lbC4KPiArCQkJICovCj4gKwkJCXJl
dHVybiAwOwo+ICsJCX0KPiArCj4gKwkJcmV0dXJuIFBUUl9FUlIob2NtZW0pOwo+ICsJfQo+ICsK
PiArCW9jbWVtX2hkbCA9IG9jbWVtX2FsbG9jYXRlKG9jbWVtLCBPQ01FTV9HUkFQSElDUywgYWRy
ZW5vX2dwdS0+Z21lbSk7Cj4gKwlpZiAoSVNfRVJSKG9jbWVtX2hkbCkpCj4gKwkJcmV0dXJuIFBU
Ul9FUlIob2NtZW1faGRsKTsKPiArCj4gKwlhZHJlbm9fb2NtZW0tPm9jbWVtID0gb2NtZW07Cj4g
KwlhZHJlbm9fb2NtZW0tPmJhc2UgPSBvY21lbV9oZGwtPmFkZHI7Cj4gKwlhZHJlbm9fb2NtZW0t
PmhkbCA9IG9jbWVtX2hkbDsKPiArCWFkcmVub19ncHUtPmdtZW0gPSBvY21lbV9oZGwtPmxlbjsK
PiArCj4gKwlyZXR1cm4gMDsKPiArfQo+ICsKPiArdm9pZCBhZHJlbm9fZ3B1X29jbWVtX2NsZWFu
dXAoc3RydWN0IGFkcmVub19vY21lbSAqYWRyZW5vX29jbWVtKQo+ICt7Cj4gKwlpZiAoYWRyZW5v
X29jbWVtICYmIGFkcmVub19vY21lbS0+YmFzZSkKPiArCQlvY21lbV9mcmVlKGFkcmVub19vY21l
bS0+b2NtZW0sIE9DTUVNX0dSQVBISUNTLAo+ICsJCQkgICBhZHJlbm9fb2NtZW0tPmhkbCk7Cj4g
K30KPiArCj4gIGludCBhZHJlbm9fZ3B1X2luaXQoc3RydWN0IGRybV9kZXZpY2UgKmRybSwgc3Ry
dWN0IHBsYXRmb3JtX2RldmljZSAqcGRldiwKPiAgCQlzdHJ1Y3QgYWRyZW5vX2dwdSAqYWRyZW5v
X2dwdSwKPiAgCQljb25zdCBzdHJ1Y3QgYWRyZW5vX2dwdV9mdW5jcyAqZnVuY3MsIGludCBucl9y
aW5ncykKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8vYWRyZW5vX2dw
dS5oIGIvZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8vYWRyZW5vX2dwdS5oCj4gaW5kZXggYzc0
NDFmYjgzMTNlLi5kMjI1YThhOTJlNTggMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL21z
bS9hZHJlbm8vYWRyZW5vX2dwdS5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8v
YWRyZW5vX2dwdS5oCj4gQEAgLTEyNiw2ICsxMjYsMTIgQEAgc3RydWN0IGFkcmVub19ncHUgewo+
ICB9Owo+ICAjZGVmaW5lIHRvX2FkcmVub19ncHUoeCkgY29udGFpbmVyX29mKHgsIHN0cnVjdCBh
ZHJlbm9fZ3B1LCBiYXNlKQo+ICAKPiArc3RydWN0IGFkcmVub19vY21lbSB7Cj4gKwlzdHJ1Y3Qg
b2NtZW0gKm9jbWVtOwo+ICsJdW5zaWduZWQgbG9uZyBiYXNlOwo+ICsJdm9pZCAqaGRsOwo+ICt9
Owo+ICsKPiAgLyogcGxhdGZvcm0gY29uZmlnIGRhdGEgKGllLiBmcm9tIERULCBvciBwZGF0YSkg
Ki8KPiAgc3RydWN0IGFkcmVub19wbGF0Zm9ybV9jb25maWcgewo+ICAJc3RydWN0IGFkcmVub19y
ZXYgcmV2Owo+IEBAIC0yMzYsNiArMjQyLDEwIEBAIHZvaWQgYWRyZW5vX2R1bXAoc3RydWN0IG1z
bV9ncHUgKmdwdSk7Cj4gIHZvaWQgYWRyZW5vX3dhaXRfcmluZyhzdHJ1Y3QgbXNtX3JpbmdidWZm
ZXIgKnJpbmcsIHVpbnQzMl90IG5kd29yZHMpOwo+ICBzdHJ1Y3QgbXNtX3JpbmdidWZmZXIgKmFk
cmVub19hY3RpdmVfcmluZyhzdHJ1Y3QgbXNtX2dwdSAqZ3B1KTsKPiAgCj4gK2ludCBhZHJlbm9f
Z3B1X29jbWVtX2luaXQoc3RydWN0IGRldmljZSAqZGV2LCBzdHJ1Y3QgYWRyZW5vX2dwdSAqYWRy
ZW5vX2dwdSwKPiArCQkJICBzdHJ1Y3QgYWRyZW5vX29jbWVtICpvY21lbSk7Cj4gK3ZvaWQgYWRy
ZW5vX2dwdV9vY21lbV9jbGVhbnVwKHN0cnVjdCBhZHJlbm9fb2NtZW0gKm9jbWVtKTsKPiArCj4g
IGludCBhZHJlbm9fZ3B1X2luaXQoc3RydWN0IGRybV9kZXZpY2UgKmRybSwgc3RydWN0IHBsYXRm
b3JtX2RldmljZSAqcGRldiwKPiAgCQlzdHJ1Y3QgYWRyZW5vX2dwdSAqZ3B1LCBjb25zdCBzdHJ1
Y3QgYWRyZW5vX2dwdV9mdW5jcyAqZnVuY3MsCj4gIAkJaW50IG5yX3JpbmdzKTsKPiAtLSAKPiAy
LjIxLjAKPiAKPiBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
Xwo+IEZyZWVkcmVubyBtYWlsaW5nIGxpc3QKPiBGcmVlZHJlbm9AbGlzdHMuZnJlZWRlc2t0b3Au
b3JnCj4gaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9mcmVl
ZHJlbm8KCi0tIApUaGUgUXVhbGNvbW0gSW5ub3ZhdGlvbiBDZW50ZXIsIEluYy4gaXMgYSBtZW1i
ZXIgb2YgQ29kZSBBdXJvcmEgRm9ydW0sCmEgTGludXggRm91bmRhdGlvbiBDb2xsYWJvcmF0aXZl
IFByb2plY3QKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18K
ZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0
dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
