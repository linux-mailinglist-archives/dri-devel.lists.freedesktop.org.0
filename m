Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id CEFD688BA8
	for <lists+dri-devel@lfdr.de>; Sat, 10 Aug 2019 15:55:34 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 413176E426;
	Sat, 10 Aug 2019 13:55:15 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from pokefinder.org (sauhun.de [88.99.104.3])
 by gabe.freedesktop.org (Postfix) with ESMTP id B49B96EE32
 for <dri-devel@lists.freedesktop.org>; Fri,  9 Aug 2019 15:40:53 +0000 (UTC)
Received: from localhost (p54B333D4.dip0.t-ipconnect.de [84.179.51.212])
 by pokefinder.org (Postfix) with ESMTPSA id AD90A2C3014;
 Fri,  9 Aug 2019 17:40:52 +0200 (CEST)
From: Wolfram Sang <wsa+renesas@sang-engineering.com>
To: linux-i2c@vger.kernel.org
Subject: [PATCH v2] i2c: replace i2c_new_secondary_device with an ERR_PTR
 variant
Date: Fri,  9 Aug 2019 17:40:47 +0200
Message-Id: <20190809154047.9897-1-wsa+renesas@sang-engineering.com>
X-Mailer: git-send-email 2.20.1
MIME-Version: 1.0
X-Mailman-Approved-At: Sat, 10 Aug 2019 13:55:11 +0000
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: David Airlie <airlied@linux.ie>, Wolfram Sang <wsa@the-dreams.de>,
 Kieran Bingham <kieran.bingham@ideasonboard.com>,
 dri-devel@lists.freedesktop.org, linux-kernel@vger.kernel.org,
 Wolfram Sang <wsa+renesas@sang-engineering.com>,
 Kieran Bingham <kieran.bingham+renesas@ideasonboard.com>,
 Laurent Pinchart <Laurent.pinchart@ideasonboard.com>,
 Hans Verkuil <hverkuil-cisco@xs4all.nl>,
 Mauro Carvalho Chehab <mchehab@kernel.org>, linux-media@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SW4gdGhlIGdlbmVyYWwgbW92ZSB0byBoYXZlIGkyY19uZXdfKl9kZXZpY2UgZnVuY3Rpb25zIHdo
aWNoIHJldHVybgpFUlJfUFRSIGluc3RlYWQgb2YgTlVMTCwgdGhpcyBwYXRjaCBjb252ZXJ0cyBp
MmNfbmV3X3NlY29uZGFyeV9kZXZpY2UoKS4KClRoZXJlIGFyZSBvbmx5IGZldyB1c2Vycywgc28g
dGhpcyBwYXRjaCBjb252ZXJ0cyB0aGUgSTJDIGNvcmUgYW5kIGFsbAp1c2VycyBpbiBvbmUgZ28u
IFRoZSBmdW5jdGlvbiBnZXRzIHJlbmFtZWQgdG8gaTJjX25ld19hbmNpbGxhcnlfZGV2aWNlKCkK
c28gb3V0LW9mLXRyZWUgdXNlcnMgd2lsbCBnZXQgYSBidWlsZCBmYWlsdXJlIHRvIHVuZGVyc3Rh
bmQgdGhleSBuZWVkIHRvCmFkYXB0IHRoZWlyIGVycm9yIGNoZWNraW5nIGNvZGUuCgpTaWduZWQt
b2ZmLWJ5OiBXb2xmcmFtIFNhbmcgPHdzYStyZW5lc2FzQHNhbmctZW5naW5lZXJpbmcuY29tPgpS
ZXZpZXdlZC1ieTogS2llcmFuIEJpbmdoYW0gPGtpZXJhbi5iaW5naGFtK3JlbmVzYXNAaWRlYXNv
bmJvYXJkLmNvbT4gIyBhZHY3NDh4ClJldmlld2VkLWJ5OiBMYXVyZW50IFBpbmNoYXJ0IDxsYXVy
ZW50LnBpbmNoYXJ0QGlkZWFzb25ib2FyZC5jb20+ICMgYWR2NzUxMQotLS0KCkNoYW5nZXMgc2lu
Y2UgdjE6CgoqIGFkdjc2MDQ6IHVzZSBhIGxvY2FsIHZhcmlhYmxlIGZvciBlcnJvciBoYW5kbGlu
ZwoqIGFkdjc2MDQ6IHNpbXBsaWZ5IHVucmVnaXN0ZXJpbmcgZHVtbXkgY2xpZW50cyBiZWNhdXNl
IEkyQyBjb3JlIGhlbHBlcgogICAgICAgICAgIGlzIE5VTEwgcHRyIGF3YXJlCiogYWRkZWQgdGFn
cyBmb3IgYWR2NzQ4eCBhbmQgYWR2NzUxMQoKVGhhbmtzIEtpZXJhbiBhbmQgTGF1cmVudCEKCgog
ZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hZHY3NTExL2Fkdjc1MTFfZHJ2LmMgfCAxOCArKysrKysr
Ky0tLS0tLS0tCiBkcml2ZXJzL2kyYy9pMmMtY29yZS1iYXNlLmMgICAgICAgICAgICAgICAgICB8
IDEwICsrKystLS0tLQogZHJpdmVycy9tZWRpYS9pMmMvYWR2NzQ4eC9hZHY3NDh4LWNvcmUuYyAg
ICAgfCAgNiArKystLS0KIGRyaXZlcnMvbWVkaWEvaTJjL2Fkdjc2MDQuYyAgICAgICAgICAgICAg
ICAgIHwgMjIgKysrKysrKysrKystLS0tLS0tLS0KIGluY2x1ZGUvbGludXgvaTJjLmggICAgICAg
ICAgICAgICAgICAgICAgICAgIHwgIDIgKy0KIDUgZmlsZXMgY2hhbmdlZCwgMzAgaW5zZXJ0aW9u
cygrKSwgMjggZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2JyaWRn
ZS9hZHY3NTExL2Fkdjc1MTFfZHJ2LmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2Fkdjc1MTEv
YWR2NzUxMV9kcnYuYwppbmRleCBmNmQyNjgxZjY5MjcuLjllMTNlNDY2ZTcyYyAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hZHY3NTExL2Fkdjc1MTFfZHJ2LmMKKysrIGIvZHJp
dmVycy9ncHUvZHJtL2JyaWRnZS9hZHY3NTExL2Fkdjc1MTFfZHJ2LmMKQEAgLTk4MSwxMCArOTgx
LDEwIEBAIHN0YXRpYyBpbnQgYWR2NzUxMV9pbml0X2NlY19yZWdtYXAoc3RydWN0IGFkdjc1MTEg
KmFkdikKIHsKIAlpbnQgcmV0OwogCi0JYWR2LT5pMmNfY2VjID0gaTJjX25ld19zZWNvbmRhcnlf
ZGV2aWNlKGFkdi0+aTJjX21haW4sICJjZWMiLAorCWFkdi0+aTJjX2NlYyA9IGkyY19uZXdfYW5j
aWxsYXJ5X2RldmljZShhZHYtPmkyY19tYWluLCAiY2VjIiwKIAkJCQkJCUFEVjc1MTFfQ0VDX0ky
Q19BRERSX0RFRkFVTFQpOwotCWlmICghYWR2LT5pMmNfY2VjKQotCQlyZXR1cm4gLUVJTlZBTDsK
KwlpZiAoSVNfRVJSKGFkdi0+aTJjX2NlYykpCisJCXJldHVybiBQVFJfRVJSKGFkdi0+aTJjX2Nl
Yyk7CiAJaTJjX3NldF9jbGllbnRkYXRhKGFkdi0+aTJjX2NlYywgYWR2KTsKIAogCWFkdi0+cmVn
bWFwX2NlYyA9IGRldm1fcmVnbWFwX2luaXRfaTJjKGFkdi0+aTJjX2NlYywKQEAgLTExNjUsMjAg
KzExNjUsMjAgQEAgc3RhdGljIGludCBhZHY3NTExX3Byb2JlKHN0cnVjdCBpMmNfY2xpZW50ICpp
MmMsIGNvbnN0IHN0cnVjdCBpMmNfZGV2aWNlX2lkICppZCkKIAogCWFkdjc1MTFfcGFja2V0X2Rp
c2FibGUoYWR2NzUxMSwgMHhmZmZmKTsKIAotCWFkdjc1MTEtPmkyY19lZGlkID0gaTJjX25ld19z
ZWNvbmRhcnlfZGV2aWNlKGkyYywgImVkaWQiLAorCWFkdjc1MTEtPmkyY19lZGlkID0gaTJjX25l
d19hbmNpbGxhcnlfZGV2aWNlKGkyYywgImVkaWQiLAogCQkJCQlBRFY3NTExX0VESURfSTJDX0FE
RFJfREVGQVVMVCk7Ci0JaWYgKCFhZHY3NTExLT5pMmNfZWRpZCkgewotCQlyZXQgPSAtRUlOVkFM
OworCWlmIChJU19FUlIoYWR2NzUxMS0+aTJjX2VkaWQpKSB7CisJCXJldCA9IFBUUl9FUlIoYWR2
NzUxMS0+aTJjX2VkaWQpOwogCQlnb3RvIHVuaW5pdF9yZWd1bGF0b3JzOwogCX0KIAogCXJlZ21h
cF93cml0ZShhZHY3NTExLT5yZWdtYXAsIEFEVjc1MTFfUkVHX0VESURfSTJDX0FERFIsCiAJCSAg
ICAgYWR2NzUxMS0+aTJjX2VkaWQtPmFkZHIgPDwgMSk7CiAKLQlhZHY3NTExLT5pMmNfcGFja2V0
ID0gaTJjX25ld19zZWNvbmRhcnlfZGV2aWNlKGkyYywgInBhY2tldCIsCisJYWR2NzUxMS0+aTJj
X3BhY2tldCA9IGkyY19uZXdfYW5jaWxsYXJ5X2RldmljZShpMmMsICJwYWNrZXQiLAogCQkJCQlB
RFY3NTExX1BBQ0tFVF9JMkNfQUREUl9ERUZBVUxUKTsKLQlpZiAoIWFkdjc1MTEtPmkyY19wYWNr
ZXQpIHsKLQkJcmV0ID0gLUVJTlZBTDsKKwlpZiAoSVNfRVJSKGFkdjc1MTEtPmkyY19wYWNrZXQp
KSB7CisJCXJldCA9IFBUUl9FUlIoYWR2NzUxMS0+aTJjX3BhY2tldCk7CiAJCWdvdG8gZXJyX2ky
Y191bnJlZ2lzdGVyX2VkaWQ7CiAJfQogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2kyYy9pMmMtY29y
ZS1iYXNlLmMgYi9kcml2ZXJzL2kyYy9pMmMtY29yZS1iYXNlLmMKaW5kZXggZjI2ZWQ0OTVkMzg0
Li43NmNiOTFlMDY0YjggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvaTJjL2kyYy1jb3JlLWJhc2UuYwor
KysgYi9kcml2ZXJzL2kyYy9pMmMtY29yZS1iYXNlLmMKQEAgLTk2Niw3ICs5NjYsNyBAQCBzdHJ1
Y3QgaTJjX2NsaWVudCAqZGV2bV9pMmNfbmV3X2R1bW15X2RldmljZShzdHJ1Y3QgZGV2aWNlICpk
ZXYsCiBFWFBPUlRfU1lNQk9MX0dQTChkZXZtX2kyY19uZXdfZHVtbXlfZGV2aWNlKTsKIAogLyoq
Ci0gKiBpMmNfbmV3X3NlY29uZGFyeV9kZXZpY2UgLSBIZWxwZXIgdG8gZ2V0IHRoZSBpbnN0YW50
aWF0ZWQgc2Vjb25kYXJ5IGFkZHJlc3MKKyAqIGkyY19uZXdfYW5jaWxsYXJ5X2RldmljZSAtIEhl
bHBlciB0byBnZXQgdGhlIGluc3RhbnRpYXRlZCBzZWNvbmRhcnkgYWRkcmVzcwogICogYW5kIGNy
ZWF0ZSB0aGUgYXNzb2NpYXRlZCBkZXZpY2UKICAqIEBjbGllbnQ6IEhhbmRsZSB0byB0aGUgcHJp
bWFyeSBjbGllbnQKICAqIEBuYW1lOiBIYW5kbGUgdG8gc3BlY2lmeSB3aGljaCBzZWNvbmRhcnkg
YWRkcmVzcyB0byBnZXQKQEAgLTk4NSw5ICs5ODUsOSBAQCBFWFBPUlRfU1lNQk9MX0dQTChkZXZt
X2kyY19uZXdfZHVtbXlfZGV2aWNlKTsKICAqIGNlbGwgd2hvc2UgInJlZy1uYW1lcyIgdmFsdWUg
bWF0Y2hlcyB0aGUgc2xhdmUgbmFtZS4KICAqCiAgKiBUaGlzIHJldHVybnMgdGhlIG5ldyBpMmMg
Y2xpZW50LCB3aGljaCBzaG91bGQgYmUgc2F2ZWQgZm9yIGxhdGVyIHVzZSB3aXRoCi0gKiBpMmNf
dW5yZWdpc3Rlcl9kZXZpY2UoKTsgb3IgTlVMTCB0byBpbmRpY2F0ZSBhbiBlcnJvci4KKyAqIGky
Y191bnJlZ2lzdGVyX2RldmljZSgpOyBvciBhbiBFUlJfUFRSIHRvIGRlc2NyaWJlIHRoZSBlcnJv
ci4KICAqLwotc3RydWN0IGkyY19jbGllbnQgKmkyY19uZXdfc2Vjb25kYXJ5X2RldmljZShzdHJ1
Y3QgaTJjX2NsaWVudCAqY2xpZW50LAorc3RydWN0IGkyY19jbGllbnQgKmkyY19uZXdfYW5jaWxs
YXJ5X2RldmljZShzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50LAogCQkJCQkJY29uc3QgY2hhciAq
bmFtZSwKIAkJCQkJCXUxNiBkZWZhdWx0X2FkZHIpCiB7CkBAIC0xMDAyLDkgKzEwMDIsOSBAQCBz
dHJ1Y3QgaTJjX2NsaWVudCAqaTJjX25ld19zZWNvbmRhcnlfZGV2aWNlKHN0cnVjdCBpMmNfY2xp
ZW50ICpjbGllbnQsCiAJfQogCiAJZGV2X2RiZygmY2xpZW50LT5hZGFwdGVyLT5kZXYsICJBZGRy
ZXNzIGZvciAlcyA6IDB4JXhcbiIsIG5hbWUsIGFkZHIpOwotCXJldHVybiBpMmNfbmV3X2R1bW15
KGNsaWVudC0+YWRhcHRlciwgYWRkcik7CisJcmV0dXJuIGkyY19uZXdfZHVtbXlfZGV2aWNlKGNs
aWVudC0+YWRhcHRlciwgYWRkcik7CiB9Ci1FWFBPUlRfU1lNQk9MX0dQTChpMmNfbmV3X3NlY29u
ZGFyeV9kZXZpY2UpOworRVhQT1JUX1NZTUJPTF9HUEwoaTJjX25ld19hbmNpbGxhcnlfZGV2aWNl
KTsKIAogLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL21lZGlh
L2kyYy9hZHY3NDh4L2Fkdjc0OHgtY29yZS5jIGIvZHJpdmVycy9tZWRpYS9pMmMvYWR2NzQ4eC9h
ZHY3NDh4LWNvcmUuYwppbmRleCBmNTdjZDc3YTMyZmEuLjI1NjdkZTJiMDAzNyAxMDA2NDQKLS0t
IGEvZHJpdmVycy9tZWRpYS9pMmMvYWR2NzQ4eC9hZHY3NDh4LWNvcmUuYworKysgYi9kcml2ZXJz
L21lZGlhL2kyYy9hZHY3NDh4L2Fkdjc0OHgtY29yZS5jCkBAIC0xODMsMTQgKzE4MywxNCBAQCBz
dGF0aWMgaW50IGFkdjc0OHhfaW5pdGlhbGlzZV9jbGllbnRzKHN0cnVjdCBhZHY3NDh4X3N0YXRl
ICpzdGF0ZSkKIAlpbnQgcmV0OwogCiAJZm9yIChpID0gQURWNzQ4WF9QQUdFX0RQTEw7IGkgPCBB
RFY3NDhYX1BBR0VfTUFYOyArK2kpIHsKLQkJc3RhdGUtPmkyY19jbGllbnRzW2ldID0gaTJjX25l
d19zZWNvbmRhcnlfZGV2aWNlKAorCQlzdGF0ZS0+aTJjX2NsaWVudHNbaV0gPSBpMmNfbmV3X2Fu
Y2lsbGFyeV9kZXZpY2UoCiAJCQkJc3RhdGUtPmNsaWVudCwKIAkJCQlhZHY3NDh4X2RlZmF1bHRf
YWRkcmVzc2VzW2ldLm5hbWUsCiAJCQkJYWR2NzQ4eF9kZWZhdWx0X2FkZHJlc3Nlc1tpXS5kZWZh
dWx0X2FkZHIpOwogCi0JCWlmIChzdGF0ZS0+aTJjX2NsaWVudHNbaV0gPT0gTlVMTCkgeworCQlp
ZiAoSVNfRVJSKHN0YXRlLT5pMmNfY2xpZW50c1tpXSkpIHsKIAkJCWFkdl9lcnIoc3RhdGUsICJm
YWlsZWQgdG8gY3JlYXRlIGkyYyBjbGllbnQgJXVcbiIsIGkpOwotCQkJcmV0dXJuIC1FTk9NRU07
CisJCQlyZXR1cm4gUFRSX0VSUihzdGF0ZS0+aTJjX2NsaWVudHNbaV0pOwogCQl9CiAKIAkJcmV0
ID0gYWR2NzQ4eF9jb25maWd1cmVfcmVnbWFwKHN0YXRlLCBpKTsKZGlmZiAtLWdpdCBhL2RyaXZl
cnMvbWVkaWEvaTJjL2Fkdjc2MDQuYyBiL2RyaXZlcnMvbWVkaWEvaTJjL2Fkdjc2MDQuYwppbmRl
eCAyOGE4NGJmOWY4YTkuLjJkZWRkNmViYjIzNiAxMDA2NDQKLS0tIGEvZHJpdmVycy9tZWRpYS9p
MmMvYWR2NzYwNC5jCisrKyBiL2RyaXZlcnMvbWVkaWEvaTJjL2Fkdjc2MDQuYwpAQCAtMjg2Miwx
MCArMjg2Miw4IEBAIHN0YXRpYyB2b2lkIGFkdjc2eHhfdW5yZWdpc3Rlcl9jbGllbnRzKHN0cnVj
dCBhZHY3Nnh4X3N0YXRlICpzdGF0ZSkKIHsKIAl1bnNpZ25lZCBpbnQgaTsKIAotCWZvciAoaSA9
IDE7IGkgPCBBUlJBWV9TSVpFKHN0YXRlLT5pMmNfY2xpZW50cyk7ICsraSkgewotCQlpZiAoc3Rh
dGUtPmkyY19jbGllbnRzW2ldKQotCQkJaTJjX3VucmVnaXN0ZXJfZGV2aWNlKHN0YXRlLT5pMmNf
Y2xpZW50c1tpXSk7Ci0JfQorCWZvciAoaSA9IDE7IGkgPCBBUlJBWV9TSVpFKHN0YXRlLT5pMmNf
Y2xpZW50cyk7ICsraSkKKwkJaTJjX3VucmVnaXN0ZXJfZGV2aWNlKHN0YXRlLT5pMmNfY2xpZW50
c1tpXSk7CiB9CiAKIHN0YXRpYyBzdHJ1Y3QgaTJjX2NsaWVudCAqYWR2NzZ4eF9kdW1teV9jbGll
bnQoc3RydWN0IHY0bDJfc3ViZGV2ICpzZCwKQEAgLTI4NzgsMTQgKzI4NzYsMTQgQEAgc3RhdGlj
IHN0cnVjdCBpMmNfY2xpZW50ICphZHY3Nnh4X2R1bW15X2NsaWVudChzdHJ1Y3QgdjRsMl9zdWJk
ZXYgKnNkLAogCXN0cnVjdCBpMmNfY2xpZW50ICpuZXdfY2xpZW50OwogCiAJaWYgKHBkYXRhICYm
IHBkYXRhLT5pMmNfYWRkcmVzc2VzW3BhZ2VdKQotCQluZXdfY2xpZW50ID0gaTJjX25ld19kdW1t
eShjbGllbnQtPmFkYXB0ZXIsCisJCW5ld19jbGllbnQgPSBpMmNfbmV3X2R1bW15X2RldmljZShj
bGllbnQtPmFkYXB0ZXIsCiAJCQkJCSAgIHBkYXRhLT5pMmNfYWRkcmVzc2VzW3BhZ2VdKTsKIAll
bHNlCi0JCW5ld19jbGllbnQgPSBpMmNfbmV3X3NlY29uZGFyeV9kZXZpY2UoY2xpZW50LAorCQlu
ZXdfY2xpZW50ID0gaTJjX25ld19hbmNpbGxhcnlfZGV2aWNlKGNsaWVudCwKIAkJCQlhZHY3Nnh4
X2RlZmF1bHRfYWRkcmVzc2VzW3BhZ2VdLm5hbWUsCiAJCQkJYWR2NzZ4eF9kZWZhdWx0X2FkZHJl
c3Nlc1twYWdlXS5kZWZhdWx0X2FkZHIpOwogCi0JaWYgKG5ld19jbGllbnQpCisJaWYgKCFJU19F
UlIobmV3X2NsaWVudCkpCiAJCWlvX3dyaXRlKHNkLCBpb19yZWcsIG5ld19jbGllbnQtPmFkZHIg
PDwgMSk7CiAKIAlyZXR1cm4gbmV3X2NsaWVudDsKQEAgLTM1MTYsMTUgKzM1MTQsMTkgQEAgc3Rh
dGljIGludCBhZHY3Nnh4X3Byb2JlKHN0cnVjdCBpMmNfY2xpZW50ICpjbGllbnQsCiAJfQogCiAJ
Zm9yIChpID0gMTsgaSA8IEFEVjc2WFhfUEFHRV9NQVg7ICsraSkgeworCQlzdHJ1Y3QgaTJjX2Ns
aWVudCAqZHVtbXlfY2xpZW50OworCiAJCWlmICghKEJJVChpKSAmIHN0YXRlLT5pbmZvLT5wYWdl
X21hc2spKQogCQkJY29udGludWU7CiAKLQkJc3RhdGUtPmkyY19jbGllbnRzW2ldID0gYWR2NzZ4
eF9kdW1teV9jbGllbnQoc2QsIGkpOwotCQlpZiAoIXN0YXRlLT5pMmNfY2xpZW50c1tpXSkgewot
CQkJZXJyID0gLUVJTlZBTDsKKwkJZHVtbXlfY2xpZW50ID0gYWR2NzZ4eF9kdW1teV9jbGllbnQo
c2QsIGkpOworCQlpZiAoSVNfRVJSKGR1bW15X2NsaWVudCkpIHsKKwkJCWVyciA9IFBUUl9FUlIo
ZHVtbXlfY2xpZW50KTsKIAkJCXY0bDJfZXJyKHNkLCAiZmFpbGVkIHRvIGNyZWF0ZSBpMmMgY2xp
ZW50ICV1XG4iLCBpKTsKIAkJCWdvdG8gZXJyX2kyYzsKIAkJfQorCisJCXN0YXRlLT5pMmNfY2xp
ZW50c1tpXSA9IGR1bW15X2NsaWVudDsKIAl9CiAKIAlJTklUX0RFTEFZRURfV09SSygmc3RhdGUt
PmRlbGF5ZWRfd29ya19lbmFibGVfaG90cGx1ZywKZGlmZiAtLWdpdCBhL2luY2x1ZGUvbGludXgv
aTJjLmggYi9pbmNsdWRlL2xpbnV4L2kyYy5oCmluZGV4IGZhNTU1MmMyMzA3Yi4uZWJiZTAyNGRk
OWUwIDEwMDY0NAotLS0gYS9pbmNsdWRlL2xpbnV4L2kyYy5oCisrKyBiL2luY2x1ZGUvbGludXgv
aTJjLmgKQEAgLTQ3Myw3ICs0NzMsNyBAQCBleHRlcm4gc3RydWN0IGkyY19jbGllbnQgKgogZGV2
bV9pMmNfbmV3X2R1bW15X2RldmljZShzdHJ1Y3QgZGV2aWNlICpkZXYsIHN0cnVjdCBpMmNfYWRh
cHRlciAqYWRhcCwgdTE2IGFkZHJlc3MpOwogCiBleHRlcm4gc3RydWN0IGkyY19jbGllbnQgKgot
aTJjX25ld19zZWNvbmRhcnlfZGV2aWNlKHN0cnVjdCBpMmNfY2xpZW50ICpjbGllbnQsCitpMmNf
bmV3X2FuY2lsbGFyeV9kZXZpY2Uoc3RydWN0IGkyY19jbGllbnQgKmNsaWVudCwKIAkJCQljb25z
dCBjaGFyICpuYW1lLAogCQkJCXUxNiBkZWZhdWx0X2FkZHIpOwogCi0tIAoyLjIwLjEKCl9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWls
aW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZy
ZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
