Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id B520323C552
	for <lists+dri-devel@lfdr.de>; Wed,  5 Aug 2020 07:56:10 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C270789F27;
	Wed,  5 Aug 2020 05:56:08 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-yb1-xb43.google.com (mail-yb1-xb43.google.com
 [IPv6:2607:f8b0:4864:20::b43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C7A9D89F24
 for <dri-devel@lists.freedesktop.org>; Wed,  5 Aug 2020 05:56:07 +0000 (UTC)
Received: by mail-yb1-xb43.google.com with SMTP id e187so10871434ybc.5
 for <dri-devel@lists.freedesktop.org>; Tue, 04 Aug 2020 22:56:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=92w1uIJnZHWj8n5xRO+pmdTd6Gy6i4dfgDnaqt9Ic2g=;
 b=CZ3/P8g/uj+rtQwvpEvm09kLdi3chXfznBtsdFBLECWVkDr9IfxN9M+x78M16CUxLg
 qc8hn+baiDrZ2OxNE31PDayutSa6ECWlMYzkYdTwApX4qrbdIrlsug3WFd78cjZLPQYc
 TT+OXY+siITE9lBjP5elL28nGwZx38BzHyaO4enVqhlGuAmumO16568izk2fP3S8aWhz
 B5aTP/hyEBjXROsk7bWGr/aOc9vV6nLftszcrIpBkUq5Q5qAT5SifVeDRQ6fFcc3gLG5
 NtrwsuXRsy205zCDHX2X/YBS+c08frDypGlb/HxojHYzHqkFRCn7C1k9Xx0SQsBVsOIl
 R+dQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=92w1uIJnZHWj8n5xRO+pmdTd6Gy6i4dfgDnaqt9Ic2g=;
 b=Vmi8G8uSl09FGTwPelZvRtlvqONdC7Rq9Bl9CYb/5wBy6MlvOFE1qwCyEXGAk4IHhB
 vcSVX3wqa+LuQqAIJ7hSC9AoMArbIDJNkyGMqadpyoGVzOthCv1BwkQ91ZlMtD63mcoc
 e7YQGQk+EtoSxYWjhegiG7QnlIr63FRdM7ueONfqck1jASgxEl3LpWwI90Nm6/q0LmUv
 DpVwWBw8iS1tPyYvWT0g84gKWVU4fCqUJM1hGUKkOWLq5ZPVg+oNp7Y7NSgUlTCcV9h0
 gdaBI5/SsytK3vwdlET+vJBtstMLITwJK5or5zRTjYkx5FyCHsLgX8623SmQeDF1fTA1
 moxQ==
X-Gm-Message-State: AOAM532xVT+sPguU5/iDgerNLW42oEJVqDXCkEpJu3qMgjCEzRz674pZ
 Q5UkHnrHi1yuZm8SSadoQAogca+gEFfSaEE13Ks=
X-Google-Smtp-Source: ABdhPJyYJMMWvQUOZhmDT3z/SElgT4kzS5BdlV2YhDX1P0h40fjqvHCxJCox35fZ4OM/FVQy4WTfudbnHgWtZmUKcg4=
X-Received: by 2002:a25:c4c5:: with SMTP id u188mr2334946ybf.162.1596606966951; 
 Tue, 04 Aug 2020 22:56:06 -0700 (PDT)
MIME-Version: 1.0
References: <20200804025632.3868079-1-airlied@gmail.com>
 <20200804025632.3868079-56-airlied@gmail.com>
 <602a5911-d208-a141-0d15-4b8a0dbd8a3c@amd.com>
In-Reply-To: <602a5911-d208-a141-0d15-4b8a0dbd8a3c@amd.com>
From: Ben Skeggs <skeggsb@gmail.com>
Date: Wed, 5 Aug 2020 15:55:55 +1000
Message-ID: <CACAvsv5rTOfWGUOn7JRkk7VQ-WTr9CY_unX+DJCbbZE3UVZTyw@mail.gmail.com>
Subject: Re: [PATCH 55/59] drm/ttm: drop type manager has_type
To: =?UTF-8?Q?Christian_K=C3=B6nig?= <christian.koenig@amd.com>
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: sroland@vmware.com, ML dri-devel <dri-devel@lists.freedesktop.org>,
 linux-graphics-maintainer@vmware.com, Ben Skeggs <bskeggs@redhat.com>,
 Gerd Hoffmann <kraxel@redhat.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVHVlLCA0IEF1ZyAyMDIwIGF0IDIxOjM4LCBDaHJpc3RpYW4gS8O2bmlnIDxjaHJpc3RpYW4u
a29lbmlnQGFtZC5jb20+IHdyb3RlOgo+Cj4gQW0gMDQuMDguMjAgdW0gMDQ6NTYgc2NocmllYiBE
YXZlIEFpcmxpZToKPiA+IEZyb206IERhdmUgQWlybGllIDxhaXJsaWVkQHJlZGhhdC5jb20+Cj4g
Pgo+ID4gdW5kZXIgZHJpdmVyIGNvbnRyb2wsIHRoaXMgZmxhZyBpc24ndCBuZWVkZWQgYW55bW9y
ZSwKPiA+IHJlbW92ZSB0aGUgQVBJIHRoYXQgdXNlZCB0byBhY2Nlc3MgaXQsIGFuZCBjb25zb2xk
aWF0ZQo+ID4gd2l0aCB0aGUgdXNlZCBhcGkuCj4gPgo+ID4gU2lnbmVkLW9mZi1ieTogRGF2ZSBB
aXJsaWUgPGFpcmxpZWRAcmVkaGF0LmNvbT4KPgo+IFJldmlld2VkLWJ5OiBDaHJpc3RpYW4gS8O2
bmlnIDxjaHJpc3RpYW4ua29lbmlnQGFtZC5jb20+ClJldmlld2VkLWJ5OiBCZW4gU2tlZ2dzIDxi
c2tlZ2dzQHJlZGhhdC5jb20+Cgo+Cj4gPiAtLS0KPiA+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1X2d0dF9tZ3IuYyAgIHwgIDIgKy0KPiA+ICAgZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvYW1kZ3B1X3ZyYW1fbWdyLmMgIHwgIDIgKy0KPiA+ICAgZHJpdmVycy9ncHUvZHJt
L25vdXZlYXUvbm91dmVhdV90dG0uYyAgICAgICAgIHwgIDQgKystLQo+ID4gICBkcml2ZXJzL2dw
dS9kcm0vdHRtL3R0bV9iby5jICAgICAgICAgICAgICAgICAgfCAgOCArKystLS0tLQo+ID4gICBk
cml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9ib19tYW5hZ2VyLmMgICAgICAgICAgfCAgMiArLQo+ID4g
ICBkcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9nbXJpZF9tYW5hZ2VyLmMgfCAgMiArLQo+
ID4gICBkcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF90aHAuYyAgICAgICAgICAgfCAgMiAr
LQo+ID4gICBpbmNsdWRlL2RybS90dG0vdHRtX2JvX2RyaXZlci5oICAgICAgICAgICAgICAgfCAx
NyAtLS0tLS0tLS0tLS0tLS0tLQo+ID4gICA4IGZpbGVzIGNoYW5nZWQsIDEwIGluc2VydGlvbnMo
KyksIDI5IGRlbGV0aW9ucygtKQo+ID4KPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHVfZ3R0X21nci5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
YW1kZ3B1X2d0dF9tZ3IuYwo+ID4gaW5kZXggOWZjM2Q4NzZlZDM4Li43MTQ2MWQ2NTJmY2MgMTAw
NjQ0Cj4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ3R0X21nci5j
Cj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ3R0X21nci5jCj4g
PiBAQCAtMTQ2LDcgKzE0Niw3IEBAIHZvaWQgYW1kZ3B1X2d0dF9tZ3JfZmluaShzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldikKPiA+ICAgICAgIHN0cnVjdCBhbWRncHVfZ3R0X21nciAqbWdyID0g
dG9fZ3R0X21ncihtYW4pOwo+ID4gICAgICAgaW50IHJldDsKPiA+Cj4gPiAtICAgICB0dG1fbWVt
X3R5cGVfbWFuYWdlcl9kaXNhYmxlKG1hbik7Cj4gPiArICAgICB0dG1fbWVtX3R5cGVfbWFuYWdl
cl9zZXRfdXNlZChtYW4sIGZhbHNlKTsKPiA+Cj4gPiAgICAgICByZXQgPSB0dG1fbWVtX3R5cGVf
bWFuYWdlcl9mb3JjZV9saXN0X2NsZWFuKCZhZGV2LT5tbWFuLmJkZXYsIG1hbik7Cj4gPiAgICAg
ICBpZiAocmV0KQo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdV92cmFtX21nci5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZyYW1f
bWdyLmMKPiA+IGluZGV4IDY4NDY5OGNkZjc3Mi4uOGNjNDRjM2QyZmRkIDEwMDY0NAo+ID4gLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZyYW1fbWdyLmMKPiA+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92cmFtX21nci5jCj4gPiBAQCAtMjIz
LDcgKzIyMyw3IEBAIHZvaWQgYW1kZ3B1X3ZyYW1fbWdyX2Zpbmkoc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYpCj4gPiAgICAgICBzdHJ1Y3QgYW1kZ3B1X3ZyYW1fbWdyICptZ3IgPSB0b192cmFt
X21ncihtYW4pOwo+ID4gICAgICAgaW50IHJldDsKPiA+Cj4gPiAtICAgICB0dG1fbWVtX3R5cGVf
bWFuYWdlcl9kaXNhYmxlKG1hbik7Cj4gPiArICAgICB0dG1fbWVtX3R5cGVfbWFuYWdlcl9zZXRf
dXNlZChtYW4sIGZhbHNlKTsKPiA+Cj4gPiAgICAgICByZXQgPSB0dG1fbWVtX3R5cGVfbWFuYWdl
cl9mb3JjZV9saXN0X2NsZWFuKCZhZGV2LT5tbWFuLmJkZXYsIG1hbik7Cj4gPiAgICAgICBpZiAo
cmV0KQo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfdHRt
LmMgYi9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X3R0bS5jCj4gPiBpbmRleCBkNDA4
ZTE0ODVjY2UuLjIyMTg1YThkY2ZhMSAxMDA2NDQKPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9u
b3V2ZWF1L25vdXZlYXVfdHRtLmMKPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25v
dXZlYXVfdHRtLmMKPiA+IEBAIC0xOTQsNyArMTk0LDcgQEAgbm91dmVhdV90dG1fZmluaV92cmFt
KHN0cnVjdCBub3V2ZWF1X2RybSAqZHJtKQo+ID4gICAgICAgc3RydWN0IHR0bV9tZW1fdHlwZV9t
YW5hZ2VyICptYW4gPSB0dG1fbWFuYWdlcl90eXBlKCZkcm0tPnR0bS5iZGV2LCBUVE1fUExfVlJB
TSk7Cj4gPgo+ID4gICAgICAgaWYgKGRybS0+Y2xpZW50LmRldmljZS5pbmZvLmZhbWlseSA+PSBO
Vl9ERVZJQ0VfSU5GT19WMF9URVNMQSkgewo+ID4gLSAgICAgICAgICAgICB0dG1fbWVtX3R5cGVf
bWFuYWdlcl9kaXNhYmxlKG1hbik7Cj4gPiArICAgICAgICAgICAgIHR0bV9tZW1fdHlwZV9tYW5h
Z2VyX3NldF91c2VkKG1hbiwgZmFsc2UpOwo+ID4gICAgICAgICAgICAgICB0dG1fbWVtX3R5cGVf
bWFuYWdlcl9mb3JjZV9saXN0X2NsZWFuKCZkcm0tPnR0bS5iZGV2LCBtYW4pOwo+ID4gICAgICAg
ICAgICAgICB0dG1fbWVtX3R5cGVfbWFuYWdlcl9jbGVhbnVwKG1hbik7Cj4gPiAgICAgICAgICAg
ICAgIHR0bV9zZXRfZHJpdmVyX21hbmFnZXIoJmRybS0+dHRtLmJkZXYsIFRUTV9QTF9WUkFNLCBO
VUxMKTsKPiA+IEBAIC0yNTMsNyArMjUzLDcgQEAgbm91dmVhdV90dG1fZmluaV9ndHQoc3RydWN0
IG5vdXZlYXVfZHJtICpkcm0pCj4gPiAgICAgICAgICAgZHJtLT5hZ3AuYnJpZGdlKQo+ID4gICAg
ICAgICAgICAgICB0dG1fcmFuZ2VfbWFuX2ZpbmkoJmRybS0+dHRtLmJkZXYsIFRUTV9QTF9UVCk7
Cj4gPiAgICAgICBlbHNlIHsKPiA+IC0gICAgICAgICAgICAgdHRtX21lbV90eXBlX21hbmFnZXJf
ZGlzYWJsZShtYW4pOwo+ID4gKyAgICAgICAgICAgICB0dG1fbWVtX3R5cGVfbWFuYWdlcl9zZXRf
dXNlZChtYW4sIGZhbHNlKTsKPiA+ICAgICAgICAgICAgICAgdHRtX21lbV90eXBlX21hbmFnZXJf
Zm9yY2VfbGlzdF9jbGVhbigmZHJtLT50dG0uYmRldiwgbWFuKTsKPiA+ICAgICAgICAgICAgICAg
dHRtX21lbV90eXBlX21hbmFnZXJfY2xlYW51cChtYW4pOwo+ID4gICAgICAgICAgICAgICB0dG1f
c2V0X2RyaXZlcl9tYW5hZ2VyKCZkcm0tPnR0bS5iZGV2LCBUVE1fUExfVFQsIE5VTEwpOwo+ID4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2JvLmMgYi9kcml2ZXJzL2dwdS9k
cm0vdHRtL3R0bV9iby5jCj4gPiBpbmRleCAxMmFiZTQ2YmZiYzEuLmNkYTMzYjRhZjY4MSAxMDA2
NDQKPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2JvLmMKPiA+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS90dG0vdHRtX2JvLmMKPiA+IEBAIC04MCw3ICs4MCw2IEBAIHN0YXRpYyBpbmxp
bmUgaW50IHR0bV9tZW1fdHlwZV9mcm9tX3BsYWNlKGNvbnN0IHN0cnVjdCB0dG1fcGxhY2UgKnBs
YWNlLAo+ID4gICB2b2lkIHR0bV9tZW1fdHlwZV9tYW5hZ2VyX2RlYnVnKHN0cnVjdCB0dG1fbWVt
X3R5cGVfbWFuYWdlciAqbWFuLAo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ry
dWN0IGRybV9wcmludGVyICpwKQo+ID4gICB7Cj4gPiAtICAgICBkcm1fcHJpbnRmKHAsICIgICAg
aGFzX3R5cGU6ICVkXG4iLCBtYW4tPmhhc190eXBlKTsKPiA+ICAgICAgIGRybV9wcmludGYocCwg
IiAgICB1c2VfdHlwZTogJWRcbiIsIG1hbi0+dXNlX3R5cGUpOwo+ID4gICAgICAgZHJtX3ByaW50
ZihwLCAiICAgIHVzZV90dDogJWRcbiIsIG1hbi0+dXNlX3R0KTsKPiA+ICAgICAgIGRybV9wcmlu
dGYocCwgIiAgICBzaXplOiAlbGx1XG4iLCBtYW4tPnNpemUpOwo+ID4gQEAgLTEwMDMsNyArMTAw
Miw3IEBAIHN0YXRpYyBpbnQgdHRtX2JvX21lbV9wbGFjZW1lbnQoc3RydWN0IHR0bV9idWZmZXJf
b2JqZWN0ICpibywKPiA+ICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiA+Cj4gPiAgICAgICBt
YW4gPSB0dG1fbWFuYWdlcl90eXBlKGJkZXYsIG1lbV90eXBlKTsKPiA+IC0gICAgIGlmICghbWFu
LT5oYXNfdHlwZSB8fCAhbWFuLT51c2VfdHlwZSkKPiA+ICsgICAgIGlmICghbWFuIHx8ICFtYW4t
PnVzZV90eXBlKQo+ID4gICAgICAgICAgICAgICByZXR1cm4gLUVCVVNZOwo+ID4KPiA+ICAgICAg
IGlmICghdHRtX2JvX210X2NvbXBhdGlibGUobWFuLCBtZW1fdHlwZSwgcGxhY2UsICZjdXJfZmxh
Z3MpKQo+ID4gQEAgLTE0NjIsNyArMTQ2MSw3IEBAIGludCB0dG1fYm9fZXZpY3RfbW0oc3RydWN0
IHR0bV9ib19kZXZpY2UgKmJkZXYsIHVuc2lnbmVkIG1lbV90eXBlKQo+ID4gICAgICAgICAgICAg
ICByZXR1cm4gLUVJTlZBTDsKPiA+ICAgICAgIH0KPiA+Cj4gPiAtICAgICBpZiAoIW1hbi0+aGFz
X3R5cGUpIHsKPiA+ICsgICAgIGlmICghbWFuKSB7Cj4gPiAgICAgICAgICAgICAgIHByX2Vycigi
TWVtb3J5IHR5cGUgJXUgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkXG4iLCBtZW1fdHlwZSk7Cj4g
PiAgICAgICAgICAgICAgIHJldHVybiAwOwo+ID4gICAgICAgfQo+ID4gQEAgLTE0NzYsNyArMTQ3
NSw2IEBAIHZvaWQgdHRtX21lbV90eXBlX21hbmFnZXJfaW5pdChzdHJ1Y3QgdHRtX21lbV90eXBl
X21hbmFnZXIgKm1hbiwKPiA+ICAgewo+ID4gICAgICAgdW5zaWduZWQgaTsKPiA+Cj4gPiAtICAg
ICBCVUdfT04obWFuLT5oYXNfdHlwZSk7Cj4gPiAgICAgICBtYW4tPnVzZV9pb19yZXNlcnZlX2xy
dSA9IGZhbHNlOwo+ID4gICAgICAgbXV0ZXhfaW5pdCgmbWFuLT5pb19yZXNlcnZlX211dGV4KTsK
PiA+ICAgICAgIHNwaW5fbG9ja19pbml0KCZtYW4tPm1vdmVfbG9jayk7Cj4gPiBAQCAtMTU1Nyw3
ICsxNTU1LDcgQEAgaW50IHR0bV9ib19kZXZpY2VfcmVsZWFzZShzdHJ1Y3QgdHRtX2JvX2Rldmlj
ZSAqYmRldikKPiA+ICAgICAgIHN0cnVjdCB0dG1fbWVtX3R5cGVfbWFuYWdlciAqbWFuOwo+ID4K
PiA+ICAgICAgIG1hbiA9IHR0bV9tYW5hZ2VyX3R5cGUoYmRldiwgVFRNX1BMX1NZU1RFTSk7Cj4g
PiAtICAgICB0dG1fbWVtX3R5cGVfbWFuYWdlcl9kaXNhYmxlKG1hbik7Cj4gPiArICAgICB0dG1f
bWVtX3R5cGVfbWFuYWdlcl9zZXRfdXNlZChtYW4sIGZhbHNlKTsKPiA+ICAgICAgIHR0bV9zZXRf
ZHJpdmVyX21hbmFnZXIoYmRldiwgVFRNX1BMX1NZU1RFTSwgTlVMTCk7Cj4gPgo+ID4gICAgICAg
bXV0ZXhfbG9jaygmdHRtX2dsb2JhbF9tdXRleCk7Cj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL3R0bS90dG1fYm9fbWFuYWdlci5jIGIvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm9f
bWFuYWdlci5jCj4gPiBpbmRleCAxYjcyNDVjZTMzNTYuLjY2NzlkYzExOTM0ZiAxMDA2NDQKPiA+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2JvX21hbmFnZXIuYwo+ID4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL3R0bS90dG1fYm9fbWFuYWdlci5jCj4gPiBAQCAtMTUyLDcgKzE1Miw3IEBA
IGludCB0dG1fcmFuZ2VfbWFuX2Zpbmkoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gPiAg
ICAgICBzdHJ1Y3QgZHJtX21tICptbSA9ICZybWFuLT5tbTsKPiA+ICAgICAgIGludCByZXQ7Cj4g
Pgo+ID4gLSAgICAgdHRtX21lbV90eXBlX21hbmFnZXJfZGlzYWJsZShtYW4pOwo+ID4gKyAgICAg
dHRtX21lbV90eXBlX21hbmFnZXJfc2V0X3VzZWQobWFuLCBmYWxzZSk7Cj4gPgo+ID4gICAgICAg
cmV0ID0gdHRtX21lbV90eXBlX21hbmFnZXJfZm9yY2VfbGlzdF9jbGVhbihiZGV2LCBtYW4pOwo+
ID4gICAgICAgaWYgKHJldCkKPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4
L3Ztd2dmeF9nbXJpZF9tYW5hZ2VyLmMgYi9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9n
bXJpZF9tYW5hZ2VyLmMKPiA+IGluZGV4IGMzZmEyNTE2MWZkMC4uY2E1MDM3MTg0ODE0IDEwMDY0
NAo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfZ21yaWRfbWFuYWdlci5j
Cj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9nbXJpZF9tYW5hZ2VyLmMK
PiA+IEBAIC0xNDMsNyArMTQzLDcgQEAgdm9pZCB2bXdfZ21yaWRfbWFuX2Zpbmkoc3RydWN0IHZt
d19wcml2YXRlICpkZXZfcHJpdiwgaW50IHR5cGUpCj4gPiAgICAgICBzdHJ1Y3QgdHRtX21lbV90
eXBlX21hbmFnZXIgKm1hbiA9IHR0bV9tYW5hZ2VyX3R5cGUoJmRldl9wcml2LT5iZGV2LCB0eXBl
KTsKPiA+ICAgICAgIHN0cnVjdCB2bXdnZnhfZ21yaWRfbWFuICpnbWFuID0gdG9fZ21yaWRfbWFu
YWdlcihtYW4pOwo+ID4KPiA+IC0gICAgIHR0bV9tZW1fdHlwZV9tYW5hZ2VyX2Rpc2FibGUobWFu
KTsKPiA+ICsgICAgIHR0bV9tZW1fdHlwZV9tYW5hZ2VyX3NldF91c2VkKG1hbiwgZmFsc2UpOwo+
ID4KPiA+ICAgICAgIHR0bV9tZW1fdHlwZV9tYW5hZ2VyX2ZvcmNlX2xpc3RfY2xlYW4oJmRldl9w
cml2LT5iZGV2LCBtYW4pOwo+ID4KPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdm13
Z2Z4L3Ztd2dmeF90aHAuYyBiL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X3RocC5jCj4g
PiBpbmRleCAwYjljMjkyNDkzOTMuLjQxMTBlODMwOTE4OCAxMDA2NDQKPiA+IC0tLSBhL2RyaXZl
cnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X3RocC5jCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
dm13Z2Z4L3Ztd2dmeF90aHAuYwo+ID4gQEAgLTE1Miw3ICsxNTIsNyBAQCB2b2lkIHZtd190aHBf
ZmluaShzdHJ1Y3Qgdm13X3ByaXZhdGUgKmRldl9wcml2KQo+ID4gICAgICAgc3RydWN0IGRybV9t
bSAqbW0gPSAmcm1hbi0+bW07Cj4gPiAgICAgICBpbnQgcmV0Owo+ID4KPiA+IC0gICAgIHR0bV9t
ZW1fdHlwZV9tYW5hZ2VyX2Rpc2FibGUobWFuKTsKPiA+ICsgICAgIHR0bV9tZW1fdHlwZV9tYW5h
Z2VyX3NldF91c2VkKG1hbiwgZmFsc2UpOwo+ID4KPiA+ICAgICAgIHJldCA9IHR0bV9tZW1fdHlw
ZV9tYW5hZ2VyX2ZvcmNlX2xpc3RfY2xlYW4oJmRldl9wcml2LT5iZGV2LCBtYW4pOwo+ID4gICAg
ICAgaWYgKHJldCkKPiA+IGRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS90dG0vdHRtX2JvX2RyaXZl
ci5oIGIvaW5jbHVkZS9kcm0vdHRtL3R0bV9ib19kcml2ZXIuaAo+ID4gaW5kZXggZDU2NDZkN2Nh
YzYwLi4zMDA5MzQyODllNjQgMTAwNjQ0Cj4gPiAtLS0gYS9pbmNsdWRlL2RybS90dG0vdHRtX2Jv
X2RyaXZlci5oCj4gPiArKysgYi9pbmNsdWRlL2RybS90dG0vdHRtX2JvX2RyaXZlci5oCj4gPiBA
QCAtMTExLDcgKzExMSw2IEBAIHN0cnVjdCB0dG1fbWVtX3R5cGVfbWFuYWdlcl9mdW5jIHsKPiA+
ICAgLyoqCj4gPiAgICAqIHN0cnVjdCB0dG1fbWVtX3R5cGVfbWFuYWdlcgo+ID4gICAgKgo+ID4g
LSAqIEBoYXNfdHlwZTogVGhlIG1lbW9yeSB0eXBlIGhhcyBiZWVuIGluaXRpYWxpemVkLgo+ID4g
ICAgKiBAdXNlX3R5cGU6IFRoZSBtZW1vcnkgdHlwZSBpcyBlbmFibGVkLgo+ID4gICAgKiBAZmxh
Z3M6IFRUTV9NRU1UWVBFX1hYIGZsYWdzIGlkZW50aWZ5aW5nIHRoZSB0cmFpdHMgb2YgdGhlIG1l
bW9yeQo+ID4gICAgKiBtYW5hZ2VkIGJ5IHRoaXMgbWVtb3J5IHR5cGUuCj4gPiBAQCAtMTQxLDgg
KzE0MCw2IEBAIHN0cnVjdCB0dG1fbWVtX3R5cGVfbWFuYWdlciB7Cj4gPiAgICAgICAvKgo+ID4g
ICAgICAgICogTm8gcHJvdGVjdGlvbi4gQ29uc3RhbnQgZnJvbSBzdGFydC4KPiA+ICAgICAgICAq
Lwo+ID4gLQo+ID4gLSAgICAgYm9vbCBoYXNfdHlwZTsKPiA+ICAgICAgIGJvb2wgdXNlX3R5cGU7
Cj4gPiAgICAgICBib29sIHVzZV90dDsKPiA+ICAgICAgIHVpbnQ2NF90IHNpemU7Cj4gPiBAQCAt
Njc4LDIzICs2NzUsOSBAQCBzdGF0aWMgaW5saW5lIHZvaWQgdHRtX2JvX3VucmVzZXJ2ZShzdHJ1
Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvKQo+ID4gICAgKi8KPiA+ICAgc3RhdGljIGlubGluZSB2
b2lkIHR0bV9tZW1fdHlwZV9tYW5hZ2VyX3NldF91c2VkKHN0cnVjdCB0dG1fbWVtX3R5cGVfbWFu
YWdlciAqbWFuLCBib29sIHVzZWQpCj4gPiAgIHsKPiA+IC0gICAgIG1hbi0+aGFzX3R5cGUgPSB0
cnVlOwo+ID4gICAgICAgbWFuLT51c2VfdHlwZSA9IHVzZWQ7Cj4gPiAgIH0KPiA+Cj4gPiAtLyoq
Cj4gPiAtICogdHRtX21lbV90eXBlX21hbmFnZXJfZGlzYWJsZS4KPiA+IC0gKgo+ID4gLSAqIEBt
YW46IEEgbWVtb3J5IG1hbmFnZXIgb2JqZWN0Lgo+ID4gLSAqCj4gPiAtICogSW5kaWNhdGUgdGhl
IG1hbmFnZXIgaXMgbm90IHRvIGJlIHVzZWQgYW5kIGRlcmVnaXN0ZXJlZC4gKHRlbXBvcmFyeSBk
dXJpbmcgcmV3b3JrKS4KPiA+IC0gKi8KPiA+IC1zdGF0aWMgaW5saW5lIHZvaWQgdHRtX21lbV90
eXBlX21hbmFnZXJfZGlzYWJsZShzdHJ1Y3QgdHRtX21lbV90eXBlX21hbmFnZXIgKm1hbikKPiA+
IC17Cj4gPiAtICAgICBtYW4tPmhhc190eXBlID0gZmFsc2U7Cj4gPiAtICAgICBtYW4tPnVzZV90
eXBlID0gZmFsc2U7Cj4gPiAtfQo+ID4gLQo+ID4gICAvKioKPiA+ICAgICogdHRtX21lbV90eXBl
X21hbmFnZXJfY2xlYW51cAo+ID4gICAgKgo+Cj4gX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KPiBkcmktZGV2ZWwgbWFpbGluZyBsaXN0Cj4gZHJpLWRldmVs
QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwo+IGh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21h
aWxtYW4vbGlzdGluZm8vZHJpLWRldmVsCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZy
ZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3Rp
bmZvL2RyaS1kZXZlbAo=
