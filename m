Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 73C226070A5
	for <lists+dri-devel@lfdr.de>; Fri, 21 Oct 2022 09:02:08 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0AB5710E190;
	Fri, 21 Oct 2022 07:01:47 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from smtp-out2.suse.de (smtp-out2.suse.de [IPv6:2001:67c:2178:6::1d])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8A83210E190
 for <dri-devel@lists.freedesktop.org>; Fri, 21 Oct 2022 07:01:33 +0000 (UTC)
Received: from imap2.suse-dmz.suse.de (imap2.suse-dmz.suse.de [192.168.254.74])
 (using TLSv1.3 with cipher TLS_AES_256_GCM_SHA384 (256/256 bits)
 key-exchange X25519 server-signature ECDSA (P-521) server-digest SHA512)
 (No client certificate requested)
 by smtp-out2.suse.de (Postfix) with ESMTPS id B2C121F74D;
 Fri, 21 Oct 2022 07:01:31 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=suse.de; s=susede2_rsa;
 t=1666335691; h=from:from:reply-to:date:date:message-id:message-id:to:to:cc:cc:
 mime-version:mime-version:content-type:content-type:
 in-reply-to:in-reply-to:references:references;
 bh=hARNOFR12mDL93YvB9dsDzX1FuTFXLYmadFZG4aCpBY=;
 b=eHYXvSojRHzA5JTlyymX4JxCZ5zNrFZ9TeNkHlh8TytU4Zv1zBUTlodga3+1RXJ5+dmdcK
 J2SxtmePJx1jsa2dakCYfUNeJaksvaE6Wz3jS7QQiP1waHwid5WkqE4N3yT4GKeaegrkiv
 YSLZVd3/UXtOGl4efi4g9trXqNTO1O0=
DKIM-Signature: v=1; a=ed25519-sha256; c=relaxed/relaxed; d=suse.de;
 s=susede2_ed25519; t=1666335691;
 h=from:from:reply-to:date:date:message-id:message-id:to:to:cc:cc:
 mime-version:mime-version:content-type:content-type:
 in-reply-to:in-reply-to:references:references;
 bh=hARNOFR12mDL93YvB9dsDzX1FuTFXLYmadFZG4aCpBY=;
 b=Ao6KWrhh2ZsfCUx10HxTsMAwzhmeuNS6vHFTP8E3sfcVX5EQhomg9Xv04xYvNj549imqGY
 yZwLxIykETFa2hDQ==
Received: from imap2.suse-dmz.suse.de (imap2.suse-dmz.suse.de [192.168.254.74])
 (using TLSv1.3 with cipher TLS_AES_256_GCM_SHA384 (256/256 bits)
 key-exchange X25519 server-signature ECDSA (P-521) server-digest SHA512)
 (No client certificate requested)
 by imap2.suse-dmz.suse.de (Postfix) with ESMTPS id 8485913A0E;
 Fri, 21 Oct 2022 07:01:31 +0000 (UTC)
Received: from dovecot-director2.suse.de ([192.168.254.65])
 by imap2.suse-dmz.suse.de with ESMTPSA id PNZoH8tDUmNcJAAAMHmgww
 (envelope-from <tzimmermann@suse.de>); Fri, 21 Oct 2022 07:01:31 +0000
Message-ID: <fe040cf0-2bb4-6296-7506-d68d544a3f64@suse.de>
Date: Fri, 21 Oct 2022 09:01:30 +0200
MIME-Version: 1.0
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:102.0) Gecko/20100101
 Thunderbird/102.3.3
Subject: Re: [PATCH v3 13/17] drm/vmwgfx: Port the framebuffer code to drm fb
 helpers
To: Zack Rusin <zackr@vmware.com>, dri-devel@lists.freedesktop.org
References: <20221021034400.542909-1-zack@kde.org>
 <20221021034400.542909-14-zack@kde.org>
Content-Language: en-US
From: Thomas Zimmermann <tzimmermann@suse.de>
In-Reply-To: <20221021034400.542909-14-zack@kde.org>
Content-Type: multipart/signed; micalg=pgp-sha256;
 protocol="application/pgp-signature";
 boundary="------------pRhA8l16oEoXK1kGf65GVBtj"
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: krastevm@vmware.com, mombasawalam@vmware.com, banackm@vmware.com
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--------------pRhA8l16oEoXK1kGf65GVBtj
Content-Type: multipart/mixed; boundary="------------9mrzMwZBFVCI4mp0HHN35W0Q";
 protected-headers="v1"
From: Thomas Zimmermann <tzimmermann@suse.de>
To: Zack Rusin <zackr@vmware.com>, dri-devel@lists.freedesktop.org
Cc: krastevm@vmware.com, banackm@vmware.com, mombasawalam@vmware.com
Message-ID: <fe040cf0-2bb4-6296-7506-d68d544a3f64@suse.de>
Subject: Re: [PATCH v3 13/17] drm/vmwgfx: Port the framebuffer code to drm fb
 helpers
References: <20221021034400.542909-1-zack@kde.org>
 <20221021034400.542909-14-zack@kde.org>
In-Reply-To: <20221021034400.542909-14-zack@kde.org>

--------------9mrzMwZBFVCI4mp0HHN35W0Q
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: base64

DQoNCkFtIDIxLjEwLjIyIHVtIDA1OjQzIHNjaHJpZWIgWmFjayBSdXNpbjoNCj4gRnJvbTog
WmFjayBSdXNpbiA8emFja3JAdm13YXJlLmNvbT4NCj4gDQo+IEluc3RlYWQgb2YgdXNpbmcg
dm13Z2Z4IHNwZWNpZmljIGZyYW1lYnVmZmVyIGltcGxlbWVudGF0aW9uIHVzZSB0aGUgZHJt
DQo+IGZiIGhlbHBlcnMuIFRoZXJlJ3Mgbm8gY2hhbmdlIGluIGZ1bmN0aW9uYWxpdHksIHRo
ZSBvbmx5IGRpZmZlcmVuY2UNCj4gaXMgYSByZWR1Y3Rpb24gaW4gdGhlIGFtb3VudCBvZiBj
b2RlIGluc2lkZSB0aGUgdm13Z2Z4IG1vZHVsZS4NCj4gDQo+IGRybSBmYiBoZWxwZXJzIGRv
IG5vdCBkZWFsIGNvcnJlY3RseSB3aXRoIGNoYW5nZXMgaW4gY3J0YyBwcmVmZXJyZWQgbW9k
ZQ0KPiBhdCBydW50aW1lLCBidXQgdGhlIG9sZCBmYiBjb2RlIHdhc24ndCBkZWFsaW5nIHdp
dGggaXQgZWl0aGVyLg0KPiBTYW1lIHNpdHVhdGlvbiBhcHBsaWVzIHRvIGhpZ2gtcmVzIGZi
IGNvbnNvbGVzIC0gdGhlIG9sZCBjb2RlIHdhcw0KPiBsaW1pdGVkIHRvIDExNzZ4ODg1IGJl
Y2F1c2UgaXQgd2FzIGNoZWNraW5nIGZvciBsZWdhY3kvZGVwcmVjYXRlZA0KPiBtZW1vcnkg
bGltaXRlcywgdGhlIGRybSBmYiBoZWxwZXJzIGFyZSBsaW1pdGVkIHRvIHRoZSBpbml0aWFs
IHJlc29sdXRpb24NCj4gc2V0IG9uIGZiIGR1ZSB0byBmaXJzdCBwcm9ibGVtIChkcm0gZmIg
aGVscGVycyBiZWluZyB1bmFibGUgdG8gaGFuZGxlDQo+IGhvdHBsdWcgY3J0YyBwcmVmZXJy
ZWQgbW9kZSBjaGFuZ2VzKS4NCj4gDQo+IFRoaXMgYWxzbyByZW1vdmVzIHRoZSBrZXJuZWwg
Y29uZmlnIGZvciBkaXNhYmxpbmcgZmIgc3VwcG9ydCB3aGljaCBoYXNuJ3QNCj4gYmVlbiB1
c2VkIG9yIHN1cHBvcnRlZCBpbiBhIHZlcnkgbG9uZyB0aW1lLg0KPiANCj4gU2lnbmVkLW9m
Zi1ieTogWmFjayBSdXNpbiA8emFja3JAdm13YXJlLmNvbT4NCj4gUmV2aWV3ZWQtYnk6IE1h
YXogTW9tYmFzYXdhbGEgPG1vbWJhc2F3YWxhbUB2bXdhcmUuY29tPg0KPiBSZXZpZXdlZC1i
eTogTWFydGluIEtyYXN0ZXYgPGtyYXN0ZXZtQHZtd2FyZS5jb20+DQo+IENjOiBUaG9tYXMg
WmltbWVybWFubiA8dHppbW1lcm1hbm5Ac3VzZS5kZT4NCg0KUmV2aWV3ZWQtYnk6IFRob21h
cyBaaW1tZXJtYW5uIDx0emltbWVybWFubkBzdXNlLmRlPg0KDQo+IC0tLQ0KPiAgIGRyaXZl
cnMvZ3B1L2RybS92bXdnZngvS2NvbmZpZyAgICAgIHwgICA3IC0NCj4gICBkcml2ZXJzL2dw
dS9kcm0vdm13Z2Z4L01ha2VmaWxlICAgICB8ICAgMiAtDQo+ICAgZHJpdmVycy9ncHUvZHJt
L3Ztd2dmeC92bXdnZnhfZHJ2LmMgfCAgNTggKy0NCj4gICBkcml2ZXJzL2dwdS9kcm0vdm13
Z2Z4L3Ztd2dmeF9kcnYuaCB8ICAzNSArLQ0KPiAgIGRyaXZlcnMvZ3B1L2RybS92bXdnZngv
dm13Z2Z4X2ZiLmMgIHwgODMxIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCj4gICBk
cml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9rbXMuYyB8ICA3OSArLS0NCj4gICBkcml2
ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9rbXMuaCB8ICAgNyAtDQo+ICAgNyBmaWxlcyBj
aGFuZ2VkLCAyOCBpbnNlcnRpb25zKCspLCA5OTEgZGVsZXRpb25zKC0pDQo+ICAgZGVsZXRl
IG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2ZiLmMNCj4gDQo+
IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L0tjb25maWcgYi9kcml2ZXJz
L2dwdS9kcm0vdm13Z2Z4L0tjb25maWcNCj4gaW5kZXggYTRmYWJlMjA4ZDlmLi5mYWRkYWUz
ZDZhYzIgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvS2NvbmZpZw0K
PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L0tjb25maWcNCj4gQEAgLTE2LDEzICsx
Niw2IEBAIGNvbmZpZyBEUk1fVk1XR0ZYDQo+ICAgCSAgdmlydHVhbCBoYXJkd2FyZS4NCj4g
ICAJICBUaGUgY29tcGlsZWQgbW9kdWxlIHdpbGwgYmUgY2FsbGVkICJ2bXdnZngua28iLg0K
PiAgIA0KPiAtY29uZmlnIERSTV9WTVdHRlhfRkJDT04NCj4gLQlkZXBlbmRzIG9uIERSTV9W
TVdHRlggJiYgRFJNX0ZCREVWX0VNVUxBVElPTg0KPiAtCWJvb2wgIkVuYWJsZSBmcmFtZWJ1
ZmZlciBjb25zb2xlIHVuZGVyIHZtd2dmeCBieSBkZWZhdWx0Ig0KPiAtCWhlbHANCj4gLQkg
ICBDaG9vc2UgdGhpcyBvcHRpb24gaWYgeW91IGFyZSBzaGlwcGluZyBhIG5ldyB2bXdnZngN
Cj4gLQkgICB1c2Vyc3BhY2UgZHJpdmVyIHRoYXQgc3VwcG9ydHMgdXNpbmcgdGhlIGtlcm5l
bCBkcml2ZXIuDQo+IC0NCj4gICBjb25maWcgRFJNX1ZNV0dGWF9NS1NTVEFUUw0KPiAgIAli
b29sICJFbmFibGUgbWtzR3Vlc3RTdGF0cyBpbnN0cnVtZW50YXRpb24gb2Ygdm13Z2Z4IGJ5
IGRlZmF1bHQiDQo+ICAgCWRlcGVuZHMgb24gRFJNX1ZNV0dGWA0KPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC9NYWtlZmlsZSBiL2RyaXZlcnMvZ3B1L2RybS92bXdn
ZngvTWFrZWZpbGUNCj4gaW5kZXggNjhlMzUwZjQxMGFkLi4yYTY0NGYwMzU1OTcgMTAwNjQ0
DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvTWFrZWZpbGUNCj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL3Ztd2dmeC9NYWtlZmlsZQ0KPiBAQCAtMTIsNiArMTIsNCBAQCB2bXdn
ZngteSA6PSB2bXdnZnhfZXhlY2J1Zi5vIHZtd2dmeF9nbXIubyB2bXdnZnhfa21zLm8gdm13
Z2Z4X2Rydi5vIFwNCj4gICAJICAgIHZtd2dmeF9kZXZjYXBzLm8gdHRtX29iamVjdC5vIHZt
d2dmeF9zeXN0ZW1fbWFuYWdlci5vIFwNCj4gICAJICAgIHZtd2dmeF9nZW0ubw0KPiAgIA0K
PiAtdm13Z2Z4LSQoQ09ORklHX0RSTV9GQkRFVl9FTVVMQVRJT04pICs9IHZtd2dmeF9mYi5v
DQo+IC0NCj4gICBvYmotJChDT05GSUdfRFJNX1ZNV0dGWCkgOj0gdm13Z2Z4Lm8NCj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2Rydi5jIGIvZHJpdmVy
cy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfZHJ2LmMNCj4gaW5kZXggYjkwOWEzY2U5YWYzLi42
MzQ5Njc3M2Y3MTQgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13
Z2Z4X2Rydi5jDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2Rydi5j
DQo+IEBAIC0zNSw2ICszNSw3IEBADQo+ICAgDQo+ICAgI2luY2x1ZGUgPGRybS9kcm1fYXBl
cnR1cmUuaD4NCj4gICAjaW5jbHVkZSA8ZHJtL2RybV9kcnYuaD4NCj4gKyNpbmNsdWRlIDxk
cm0vZHJtX2ZiX2hlbHBlci5oPg0KPiAgICNpbmNsdWRlIDxkcm0vZHJtX2dlbV90dG1faGVs
cGVyLmg+DQo+ICAgI2luY2x1ZGUgPGRybS9kcm1faW9jdGwuaD4NCj4gICAjaW5jbHVkZSA8
ZHJtL2RybV9tb2R1bGUuaD4NCj4gQEAgLTUyLDkgKzUzLDYgQEANCj4gICANCj4gICAjZGVm
aW5lIFZNV0dGWF9EUklWRVJfREVTQyAiTGludXggZHJtIGRyaXZlciBmb3IgVk13YXJlIGdy
YXBoaWNzIGRldmljZXMiDQo+ICAgDQo+IC0jZGVmaW5lIFZNV19NSU5fSU5JVElBTF9XSURU
SCA4MDANCj4gLSNkZWZpbmUgVk1XX01JTl9JTklUSUFMX0hFSUdIVCA2MDANCj4gLQ0KPiAg
IC8qDQo+ICAgICogRnVsbHkgZW5jb2RlZCBkcm0gY29tbWFuZHMuIE1pZ2h0IG1vdmUgdG8g
dm13X2RybS5oDQo+ICAgICovDQo+IEBAIC0yNjUsNyArMjYzLDYgQEAgc3RhdGljIGNvbnN0
IHN0cnVjdCBwY2lfZGV2aWNlX2lkIHZtd19wY2lfaWRfbGlzdFtdID0gew0KPiAgIH07DQo+
ICAgTU9EVUxFX0RFVklDRV9UQUJMRShwY2ksIHZtd19wY2lfaWRfbGlzdCk7DQo+ICAgDQo+
IC1zdGF0aWMgaW50IGVuYWJsZV9mYmRldiA9IElTX0VOQUJMRUQoQ09ORklHX0RSTV9WTVdH
RlhfRkJDT04pOw0KPiAgIHN0YXRpYyBpbnQgdm13X3Jlc3RyaWN0X2lvbW11Ow0KPiAgIHN0
YXRpYyBpbnQgdm13X2ZvcmNlX2NvaGVyZW50Ow0KPiAgIHN0YXRpYyBpbnQgdm13X3Jlc3Ry
aWN0X2RtYV9tYXNrOw0KPiBAQCAtMjc1LDggKzI3Miw2IEBAIHN0YXRpYyBpbnQgdm13X3By
b2JlKHN0cnVjdCBwY2lfZGV2ICosIGNvbnN0IHN0cnVjdCBwY2lfZGV2aWNlX2lkICopOw0K
PiAgIHN0YXRpYyBpbnQgdm13Z2Z4X3BtX25vdGlmaWVyKHN0cnVjdCBub3RpZmllcl9ibG9j
ayAqbmIsIHVuc2lnbmVkIGxvbmcgdmFsLA0KPiAgIAkJCSAgICAgIHZvaWQgKnB0cik7DQo+
ICAgDQo+IC1NT0RVTEVfUEFSTV9ERVNDKGVuYWJsZV9mYmRldiwgIkVuYWJsZSB2bXdnZngg
ZmJkZXYiKTsNCj4gLW1vZHVsZV9wYXJhbV9uYW1lZChlbmFibGVfZmJkZXYsIGVuYWJsZV9m
YmRldiwgaW50LCAwNjAwKTsNCj4gICBNT0RVTEVfUEFSTV9ERVNDKHJlc3RyaWN0X2lvbW11
LCAiVHJ5IHRvIGxpbWl0IElPTU1VIHVzYWdlIGZvciBUVE0gcGFnZXMiKTsNCj4gICBtb2R1
bGVfcGFyYW1fbmFtZWQocmVzdHJpY3RfaW9tbXUsIHZtd19yZXN0cmljdF9pb21tdSwgaW50
LCAwNjAwKTsNCj4gICBNT0RVTEVfUEFSTV9ERVNDKGZvcmNlX2NvaGVyZW50LCAiRm9yY2Ug
Y29oZXJlbnQgVFRNIHBhZ2VzIik7DQo+IEBAIC02MjYsOCArNjIxLDggQEAgc3RhdGljIHZv
aWQgdm13X2dldF9pbml0aWFsX3NpemUoc3RydWN0IHZtd19wcml2YXRlICpkZXZfcHJpdikN
Cj4gICAJd2lkdGggPSB2bXdfcmVhZChkZXZfcHJpdiwgU1ZHQV9SRUdfV0lEVEgpOw0KPiAg
IAloZWlnaHQgPSB2bXdfcmVhZChkZXZfcHJpdiwgU1ZHQV9SRUdfSEVJR0hUKTsNCj4gICAN
Cj4gLQl3aWR0aCA9IG1heF90KHVpbnQzMl90LCB3aWR0aCwgVk1XX01JTl9JTklUSUFMX1dJ
RFRIKTsNCj4gLQloZWlnaHQgPSBtYXhfdCh1aW50MzJfdCwgaGVpZ2h0LCBWTVdfTUlOX0lO
SVRJQUxfSEVJR0hUKTsNCj4gKwl3aWR0aCA9IG1heF90KHVpbnQzMl90LCB3aWR0aCwgVk1X
R0ZYX01JTl9JTklUSUFMX1dJRFRIKTsNCj4gKwloZWlnaHQgPSBtYXhfdCh1aW50MzJfdCwg
aGVpZ2h0LCBWTVdHRlhfTUlOX0lOSVRJQUxfSEVJR0hUKTsNCj4gICANCj4gICAJaWYgKHdp
ZHRoID4gZGV2X3ByaXYtPmZiX21heF93aWR0aCB8fA0KPiAgIAkgICAgaGVpZ2h0ID4gZGV2
X3ByaXYtPmZiX21heF9oZWlnaHQpIHsNCj4gQEAgLTYzNiw4ICs2MzEsOCBAQCBzdGF0aWMg
dm9pZCB2bXdfZ2V0X2luaXRpYWxfc2l6ZShzdHJ1Y3Qgdm13X3ByaXZhdGUgKmRldl9wcml2
KQ0KPiAgIAkJICogVGhpcyBpcyBhIGhvc3QgZXJyb3IgYW5kIHNob3VsZG4ndCBvY2N1ci4N
Cj4gICAJCSAqLw0KPiAgIA0KPiAtCQl3aWR0aCA9IFZNV19NSU5fSU5JVElBTF9XSURUSDsN
Cj4gLQkJaGVpZ2h0ID0gVk1XX01JTl9JTklUSUFMX0hFSUdIVDsNCj4gKwkJd2lkdGggID0g
Vk1XR0ZYX01JTl9JTklUSUFMX1dJRFRIOw0KPiArCQloZWlnaHQgPSBWTVdHRlhfTUlOX0lO
SVRJQUxfSEVJR0hUOw0KPiAgIAl9DQo+ICAgDQo+ICAgCWRldl9wcml2LT5pbml0aWFsX3dp
ZHRoID0gd2lkdGg7DQo+IEBAIC04ODYsOSArODgxLDYgQEAgc3RhdGljIGludCB2bXdfZHJp
dmVyX2xvYWQoc3RydWN0IHZtd19wcml2YXRlICpkZXZfcHJpdiwgdTMyIHBjaV9pZCkNCj4g
ICANCj4gICAJZGV2X3ByaXYtPmFzc3VtZV8xNmJwcCA9ICEhdm13X2Fzc3VtZV8xNmJwcDsN
Cj4gICANCj4gLQlkZXZfcHJpdi0+ZW5hYmxlX2ZiID0gZW5hYmxlX2ZiZGV2Ow0KPiAtDQo+
IC0NCj4gICAJZGV2X3ByaXYtPmNhcGFiaWxpdGllcyA9IHZtd19yZWFkKGRldl9wcml2LCBT
VkdBX1JFR19DQVBBQklMSVRJRVMpOw0KPiAgIAl2bXdfcHJpbnRfYml0bWFwKCZkZXZfcHJp
di0+ZHJtLCAiQ2FwYWJpbGl0aWVzIiwNCj4gICAJCQkgZGV2X3ByaXYtPmNhcGFiaWxpdGll
cywNCj4gQEAgLTExMzUsMTIgKzExMjcsNiBAQCBzdGF0aWMgaW50IHZtd19kcml2ZXJfbG9h
ZChzdHJ1Y3Qgdm13X3ByaXZhdGUgKmRldl9wcml2LCB1MzIgcGNpX2lkKQ0KPiAgIAkJCVZN
V0dGWF9EUklWRVJfUEFUQ0hMRVZFTCwgVVRTX1JFTEVBU0UpOw0KPiAgIAl2bXdfd3JpdGVf
ZHJpdmVyX2lkKGRldl9wcml2KTsNCj4gICANCj4gLQlpZiAoZGV2X3ByaXYtPmVuYWJsZV9m
Yikgew0KPiAtCQl2bXdfZmlmb19yZXNvdXJjZV9pbmMoZGV2X3ByaXYpOw0KPiAtCQl2bXdf
c3ZnYV9lbmFibGUoZGV2X3ByaXYpOw0KPiAtCQl2bXdfZmJfaW5pdChkZXZfcHJpdik7DQo+
IC0JfQ0KPiAtDQo+ICAgCWRldl9wcml2LT5wbV9uYi5ub3RpZmllcl9jYWxsID0gdm13Z2Z4
X3BtX25vdGlmaWVyOw0KPiAgIAlyZWdpc3Rlcl9wbV9ub3RpZmllcigmZGV2X3ByaXYtPnBt
X25iKTsNCj4gICANCj4gQEAgLTExODcsMTIgKzExNzMsOSBAQCBzdGF0aWMgdm9pZCB2bXdf
ZHJpdmVyX3VubG9hZChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2KQ0KPiAgIAl1bnJlZ2lzdGVy
X3BtX25vdGlmaWVyKCZkZXZfcHJpdi0+cG1fbmIpOw0KPiAgIA0KPiAgIAl2bXdfc3dfY29u
dGV4dF9maW5pKGRldl9wcml2KTsNCj4gLQlpZiAoZGV2X3ByaXYtPmVuYWJsZV9mYikgew0K
PiAtCQl2bXdfZmJfb2ZmKGRldl9wcml2KTsNCj4gLQkJdm13X2ZiX2Nsb3NlKGRldl9wcml2
KTsNCj4gLQkJdm13X2ZpZm9fcmVzb3VyY2VfZGVjKGRldl9wcml2KTsNCj4gLQkJdm13X3N2
Z2FfZGlzYWJsZShkZXZfcHJpdik7DQo+IC0JfQ0KPiArCXZtd19maWZvX3Jlc291cmNlX2Rl
YyhkZXZfcHJpdik7DQo+ICsNCj4gKwl2bXdfc3ZnYV9kaXNhYmxlKGRldl9wcml2KTsNCj4g
ICANCj4gICAJdm13X2ttc19jbG9zZShkZXZfcHJpdik7DQo+ICAgCXZtd19vdmVybGF5X2Ns
b3NlKGRldl9wcml2KTsNCj4gQEAgLTEzMzAsOCArMTMxMyw2IEBAIHN0YXRpYyB2b2lkIHZt
d19tYXN0ZXJfZHJvcChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LA0KPiAgIAlzdHJ1Y3Qgdm13
X3ByaXZhdGUgKmRldl9wcml2ID0gdm13X3ByaXYoZGV2KTsNCj4gICANCj4gICAJdm13X2tt
c19sZWdhY3lfaG90c3BvdF9jbGVhcihkZXZfcHJpdik7DQo+IC0JaWYgKCFkZXZfcHJpdi0+
ZW5hYmxlX2ZiKQ0KPiAtCQl2bXdfc3ZnYV9kaXNhYmxlKGRldl9wcml2KTsNCj4gICB9DQo+
ICAgDQo+ICAgLyoqDQo+IEBAIC0xNTI0LDI1ICsxNTA1LDE5IEBAIHN0YXRpYyBpbnQgdm13
X3BtX2ZyZWV6ZShzdHJ1Y3QgZGV2aWNlICprZGV2KQ0KPiAgIAkJRFJNX0VSUk9SKCJGYWls
ZWQgdG8gZnJlZXplIG1vZGVzZXR0aW5nLlxuIik7DQo+ICAgCQlyZXR1cm4gcmV0Ow0KPiAg
IAl9DQo+IC0JaWYgKGRldl9wcml2LT5lbmFibGVfZmIpDQo+IC0JCXZtd19mYl9vZmYoZGV2
X3ByaXYpOw0KPiAgIA0KPiAgIAl2bXdfZXhlY2J1Zl9yZWxlYXNlX3Bpbm5lZF9ibyhkZXZf
cHJpdik7DQo+ICAgCXZtd19yZXNvdXJjZV9ldmljdF9hbGwoZGV2X3ByaXYpOw0KPiAgIAl2
bXdfcmVsZWFzZV9kZXZpY2VfZWFybHkoZGV2X3ByaXYpOw0KPiAgIAl3aGlsZSAodHRtX2Rl
dmljZV9zd2Fwb3V0KCZkZXZfcHJpdi0+YmRldiwgJmN0eCwgR0ZQX0tFUk5FTCkgPiAwKTsN
Cj4gLQlpZiAoZGV2X3ByaXYtPmVuYWJsZV9mYikNCj4gLQkJdm13X2ZpZm9fcmVzb3VyY2Vf
ZGVjKGRldl9wcml2KTsNCj4gKwl2bXdfZmlmb19yZXNvdXJjZV9kZWMoZGV2X3ByaXYpOw0K
PiAgIAlpZiAoYXRvbWljX3JlYWQoJmRldl9wcml2LT5udW1fZmlmb19yZXNvdXJjZXMpICE9
IDApIHsNCj4gICAJCURSTV9FUlJPUigiQ2FuJ3QgaGliZXJuYXRlIHdoaWxlIDNEIHJlc291
cmNlcyBhcmUgYWN0aXZlLlxuIik7DQo+IC0JCWlmIChkZXZfcHJpdi0+ZW5hYmxlX2ZiKQ0K
PiAtCQkJdm13X2ZpZm9fcmVzb3VyY2VfaW5jKGRldl9wcml2KTsNCj4gKwkJdm13X2ZpZm9f
cmVzb3VyY2VfaW5jKGRldl9wcml2KTsNCj4gICAJCVdBUk5fT04odm13X3JlcXVlc3RfZGV2
aWNlX2xhdGUoZGV2X3ByaXYpKTsNCj4gICAJCWRldl9wcml2LT5zdXNwZW5kX2xvY2tlZCA9
IGZhbHNlOw0KPiAgIAkJaWYgKGRldl9wcml2LT5zdXNwZW5kX3N0YXRlKQ0KPiAgIAkJCXZt
d19rbXNfcmVzdW1lKGRldik7DQo+IC0JCWlmIChkZXZfcHJpdi0+ZW5hYmxlX2ZiKQ0KPiAt
CQkJdm13X2ZiX29uKGRldl9wcml2KTsNCj4gICAJCXJldHVybiAtRUJVU1k7DQo+ICAgCX0N
Cj4gICANCj4gQEAgLTE1NjIsMjQgKzE1MzcsMTkgQEAgc3RhdGljIGludCB2bXdfcG1fcmVz
dG9yZShzdHJ1Y3QgZGV2aWNlICprZGV2KQ0KPiAgIA0KPiAgIAl2bXdfZGV0ZWN0X3ZlcnNp
b24oZGV2X3ByaXYpOw0KPiAgIA0KPiAtCWlmIChkZXZfcHJpdi0+ZW5hYmxlX2ZiKQ0KPiAt
CQl2bXdfZmlmb19yZXNvdXJjZV9pbmMoZGV2X3ByaXYpOw0KPiArCXZtd19maWZvX3Jlc291
cmNlX2luYyhkZXZfcHJpdik7DQo+ICAgDQo+ICAgCXJldCA9IHZtd19yZXF1ZXN0X2Rldmlj
ZShkZXZfcHJpdik7DQo+ICAgCWlmIChyZXQpDQo+ICAgCQlyZXR1cm4gcmV0Ow0KPiAgIA0K
PiAtCWlmIChkZXZfcHJpdi0+ZW5hYmxlX2ZiKQ0KPiAtCQlfX3Ztd19zdmdhX2VuYWJsZShk
ZXZfcHJpdik7DQo+ICsJX192bXdfc3ZnYV9lbmFibGUoZGV2X3ByaXYpOw0KPiAgIA0KPiAg
IAl2bXdfZmVuY2VfZmlmb191cChkZXZfcHJpdi0+Zm1hbik7DQo+ICAgCWRldl9wcml2LT5z
dXNwZW5kX2xvY2tlZCA9IGZhbHNlOw0KPiAgIAlpZiAoZGV2X3ByaXYtPnN1c3BlbmRfc3Rh
dGUpDQo+ICAgCQl2bXdfa21zX3Jlc3VtZSgmZGV2X3ByaXYtPmRybSk7DQo+ICAgDQo+IC0J
aWYgKGRldl9wcml2LT5lbmFibGVfZmIpDQo+IC0JCXZtd19mYl9vbihkZXZfcHJpdik7DQo+
IC0NCj4gICAJcmV0dXJuIDA7DQo+ICAgfQ0KPiAgIA0KPiBAQCAtMTY3MCw2ICsxNjQwLDEw
IEBAIHN0YXRpYyBpbnQgdm13X3Byb2JlKHN0cnVjdCBwY2lfZGV2ICpwZGV2LCBjb25zdCBz
dHJ1Y3QgcGNpX2RldmljZV9pZCAqZW50KQ0KPiAgIAlpZiAocmV0KQ0KPiAgIAkJZ290byBv
dXRfdW5sb2FkOw0KPiAgIA0KPiArCXZtd19maWZvX3Jlc291cmNlX2luYyh2bXcpOw0KPiAr
CXZtd19zdmdhX2VuYWJsZSh2bXcpOw0KPiArCWRybV9mYmRldl9nZW5lcmljX3NldHVwKCZ2
bXctPmRybSwgIDApOw0KPiArDQo+ICAgCXZtd19kZWJ1Z2ZzX2dlbV9pbml0KHZtdyk7DQo+
ICAgCXZtd19kZWJ1Z2ZzX3Jlc291cmNlX21hbmFnZXJzX2luaXQodm13KTsNCj4gICANCj4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2Rydi5oIGIvZHJp
dmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfZHJ2LmgNCj4gaW5kZXggN2M0NWMzZGUwZGNm
Li5hZDQ3MGU1NGQ1ODYgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngv
dm13Z2Z4X2Rydi5oDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2Ry
di5oDQo+IEBAIC02Miw2ICs2Miw5IEBADQo+ICAgI2RlZmluZSBWTVdHRlhfTUFYX0RJU1BM
QVlTIDE2DQo+ICAgI2RlZmluZSBWTVdHRlhfQ01EX0JPVU5DRV9JTklUX1NJWkUgMzI3NjgN
Cj4gICANCj4gKyNkZWZpbmUgVk1XR0ZYX01JTl9JTklUSUFMX1dJRFRIIDEyODANCj4gKyNk
ZWZpbmUgVk1XR0ZYX01JTl9JTklUSUFMX0hFSUdIVCA4MDANCj4gKw0KPiAgICNkZWZpbmUg
Vk1XR0ZYX1BDSV9JRF9TVkdBMiAgICAgICAgICAgICAgMHgwNDA1DQo+ICAgI2RlZmluZSBW
TVdHRlhfUENJX0lEX1NWR0EzICAgICAgICAgICAgICAweDA0MDYNCj4gICANCj4gQEAgLTU1
MSw3ICs1NTQsNiBAQCBzdHJ1Y3Qgdm13X3ByaXZhdGUgew0KPiAgIAkgKiBGcmFtZWJ1ZmZl
ciBpbmZvLg0KPiAgIAkgKi8NCj4gICANCj4gLQl2b2lkICpmYl9pbmZvOw0KPiAgIAllbnVt
IHZtd19kaXNwbGF5X3VuaXRfdHlwZSBhY3RpdmVfZGlzcGxheV91bml0Ow0KPiAgIAlzdHJ1
Y3Qgdm13X2xlZ2FjeV9kaXNwbGF5ICpsZHVfcHJpdjsNCj4gICAJc3RydWN0IHZtd19vdmVy
bGF5ICpvdmVybGF5X3ByaXY7DQo+IEBAIC02MTAsOCArNjEyLDYgQEAgc3RydWN0IHZtd19w
cml2YXRlIHsNCj4gICAJc3RydWN0IG11dGV4IGNtZGJ1Zl9tdXRleDsNCj4gICAJc3RydWN0
IG11dGV4IGJpbmRpbmdfbXV0ZXg7DQo+ICAgDQo+IC0JYm9vbCBlbmFibGVfZmI7DQo+IC0N
Cj4gICAJLyoqDQo+ICAgCSAqIFBNIG1hbmFnZW1lbnQuDQo+ICAgCSAqLw0KPiBAQCAtMTE4
OSwzNSArMTE4OSw2IEBAIGV4dGVybiB2b2lkIHZtd19nZW5lcmljX3dhaXRlcl9hZGQoc3Ry
dWN0IHZtd19wcml2YXRlICpkZXZfcHJpdiwgdTMyIGZsYWcsDQo+ICAgZXh0ZXJuIHZvaWQg
dm13X2dlbmVyaWNfd2FpdGVyX3JlbW92ZShzdHJ1Y3Qgdm13X3ByaXZhdGUgKmRldl9wcml2
LA0KPiAgIAkJCQkgICAgICB1MzIgZmxhZywgaW50ICp3YWl0ZXJfY291bnQpOw0KPiAgIA0K
PiAtDQo+IC0vKioNCj4gLSAqIEtlcm5lbCBmcmFtZWJ1ZmZlciAtIHZtd2dmeF9mYi5jDQo+
IC0gKi8NCj4gLQ0KPiAtI2lmZGVmIENPTkZJR19EUk1fRkJERVZfRU1VTEFUSU9ODQo+IC1p
bnQgdm13X2ZiX2luaXQoc3RydWN0IHZtd19wcml2YXRlICp2bXdfcHJpdik7DQo+IC1pbnQg
dm13X2ZiX2Nsb3NlKHN0cnVjdCB2bXdfcHJpdmF0ZSAqZGV2X3ByaXYpOw0KPiAtaW50IHZt
d19mYl9vZmYoc3RydWN0IHZtd19wcml2YXRlICp2bXdfcHJpdik7DQo+IC1pbnQgdm13X2Zi
X29uKHN0cnVjdCB2bXdfcHJpdmF0ZSAqdm13X3ByaXYpOw0KPiAtI2Vsc2UNCj4gLXN0YXRp
YyBpbmxpbmUgaW50IHZtd19mYl9pbml0KHN0cnVjdCB2bXdfcHJpdmF0ZSAqdm13X3ByaXYp
DQo+IC17DQo+IC0JcmV0dXJuIDA7DQo+IC19DQo+IC1zdGF0aWMgaW5saW5lIGludCB2bXdf
ZmJfY2xvc2Uoc3RydWN0IHZtd19wcml2YXRlICpkZXZfcHJpdikNCj4gLXsNCj4gLQlyZXR1
cm4gMDsNCj4gLX0NCj4gLXN0YXRpYyBpbmxpbmUgaW50IHZtd19mYl9vZmYoc3RydWN0IHZt
d19wcml2YXRlICp2bXdfcHJpdikNCj4gLXsNCj4gLQlyZXR1cm4gMDsNCj4gLX0NCj4gLXN0
YXRpYyBpbmxpbmUgaW50IHZtd19mYl9vbihzdHJ1Y3Qgdm13X3ByaXZhdGUgKnZtd19wcml2
KQ0KPiAtew0KPiAtCXJldHVybiAwOw0KPiAtfQ0KPiAtI2VuZGlmDQo+IC0NCj4gICAvKioN
Cj4gICAgKiBLZXJuZWwgbW9kZXNldHRpbmcgLSB2bXdnZnhfa21zLmMNCj4gICAgKi8NCj4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2ZiLmMgYi9kcml2
ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9mYi5jDQo+IGRlbGV0ZWQgZmlsZSBtb2RlIDEw
MDY0NA0KPiBpbmRleCA1Yjg1YjQ3N2U0YzYuLjAwMDAwMDAwMDAwMA0KPiAtLS0gYS9kcml2
ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9mYi5jDQo+ICsrKyAvZGV2L251bGwNCj4gQEAg
LTEsODMxICswLDAgQEANCj4gLS8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KPiAtICoNCj4gLSAq
IENvcHlyaWdodCDCqSAyMDA3IERhdmlkIEFpcmxpZQ0KPiAtICogQ29weXJpZ2h0IMKpIDIw
MDktMjAxNSBWTXdhcmUsIEluYy4sIFBhbG8gQWx0bywgQ0EuLCBVU0ENCj4gLSAqIEFsbCBS
aWdodHMgUmVzZXJ2ZWQuDQo+IC0gKg0KPiAtICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3Jh
bnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGENCj4gLSAq
IGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZp
bGVzICh0aGUNCj4gLSAqICJTb2Z0d2FyZSIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3
aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcNCj4gLSAqIHdpdGhvdXQgbGltaXRhdGlv
biB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwNCj4g
LSAqIGRpc3RyaWJ1dGUsIHN1YiBsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhl
IFNvZnR3YXJlLCBhbmQgdG8NCj4gLSAqIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNv
ZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0bw0KPiAtICogdGhlIGZv
bGxvd2luZyBjb25kaXRpb25zOg0KPiAtICoNCj4gLSAqIFRoZSBhYm92ZSBjb3B5cmlnaHQg
bm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIChpbmNsdWRpbmcgdGhlDQo+IC0g
KiBuZXh0IHBhcmFncmFwaCkgc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBz
dWJzdGFudGlhbCBwb3J0aW9ucw0KPiAtICogb2YgdGhlIFNvZnR3YXJlLg0KPiAtICoNCj4g
LSAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZ
IE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SDQo+IC0gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVU
IE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwNCj4g
LSAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT04tSU5GUklOR0VN
RU5ULiBJTiBOTyBFVkVOVCBTSEFMTA0KPiAtICogVEhFIENPUFlSSUdIVCBIT0xERVJTLCBB
VVRIT1JTIEFORC9PUiBJVFMgU1VQUExJRVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLA0K
PiAtICogREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9O
IE9GIENPTlRSQUNULCBUT1JUIE9SDQo+IC0gKiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwg
T1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFDQo+IC0g
KiBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLg0KPiAtICoNCj4gLSAq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKi8NCj4gLQ0KPiAtI2luY2x1ZGUgPGxpbnV4L2ZiLmg+DQo+
IC0jaW5jbHVkZSA8bGludXgvcGNpLmg+DQo+IC0NCj4gLSNpbmNsdWRlIDxkcm0vZHJtX2Zv
dXJjYy5oPg0KPiAtI2luY2x1ZGUgPGRybS90dG0vdHRtX3BsYWNlbWVudC5oPg0KPiAtDQo+
IC0jaW5jbHVkZSAidm13Z2Z4X2Rydi5oIg0KPiAtI2luY2x1ZGUgInZtd2dmeF9rbXMuaCIN
Cj4gLQ0KPiAtI2RlZmluZSBWTVdfRElSVFlfREVMQVkgKEhaIC8gMzApDQo+IC0NCj4gLXN0
cnVjdCB2bXdfZmJfcGFyIHsNCj4gLQlzdHJ1Y3Qgdm13X3ByaXZhdGUgKnZtd19wcml2Ow0K
PiAtDQo+IC0Jdm9pZCAqdm1hbGxvYzsNCj4gLQ0KPiAtCXN0cnVjdCBtdXRleCBib19tdXRl
eDsNCj4gLQlzdHJ1Y3Qgdm13X2J1ZmZlcl9vYmplY3QgKnZtd19ibzsNCj4gLQl1bnNpZ25l
ZCBib19zaXplOw0KPiAtCXN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKnNldF9mYjsNCj4gLQlz
dHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqc2V0X21vZGU7DQo+IC0JdTMyIGZiX3g7DQo+IC0J
dTMyIGZiX3k7DQo+IC0JYm9vbCBib19pb3dyaXRlOw0KPiAtDQo+IC0JdTMyIHBzZXVkb19w
YWxldHRlWzE3XTsNCj4gLQ0KPiAtCXVuc2lnbmVkIG1heF93aWR0aDsNCj4gLQl1bnNpZ25l
ZCBtYXhfaGVpZ2h0Ow0KPiAtDQo+IC0Jc3RydWN0IHsNCj4gLQkJc3BpbmxvY2tfdCBsb2Nr
Ow0KPiAtCQlib29sIGFjdGl2ZTsNCj4gLQkJdW5zaWduZWQgeDE7DQo+IC0JCXVuc2lnbmVk
IHkxOw0KPiAtCQl1bnNpZ25lZCB4MjsNCj4gLQkJdW5zaWduZWQgeTI7DQo+IC0JfSBkaXJ0
eTsNCj4gLQ0KPiAtCXN0cnVjdCBkcm1fY3J0YyAqY3J0YzsNCj4gLQlzdHJ1Y3QgZHJtX2Nv
bm5lY3RvciAqY29uOw0KPiAtCXN0cnVjdCBkZWxheWVkX3dvcmsgbG9jYWxfd29yazsNCj4g
LX07DQo+IC0NCj4gLXN0YXRpYyBpbnQgdm13X2ZiX3NldGNvbHJlZyh1bnNpZ25lZCByZWdu
bywgdW5zaWduZWQgcmVkLCB1bnNpZ25lZCBncmVlbiwNCj4gLQkJCSAgICB1bnNpZ25lZCBi
bHVlLCB1bnNpZ25lZCB0cmFuc3AsDQo+IC0JCQkgICAgc3RydWN0IGZiX2luZm8gKmluZm8p
DQo+IC17DQo+IC0Jc3RydWN0IHZtd19mYl9wYXIgKnBhciA9IGluZm8tPnBhcjsNCj4gLQl1
MzIgKnBhbCA9IHBhci0+cHNldWRvX3BhbGV0dGU7DQo+IC0NCj4gLQlpZiAocmVnbm8gPiAx
NSkgew0KPiAtCQlEUk1fRVJST1IoIkJhZCByZWdubyAldS5cbiIsIHJlZ25vKTsNCj4gLQkJ
cmV0dXJuIDE7DQo+IC0JfQ0KPiAtDQo+IC0Jc3dpdGNoIChwYXItPnNldF9mYi0+Zm9ybWF0
LT5kZXB0aCkgew0KPiAtCWNhc2UgMjQ6DQo+IC0JY2FzZSAzMjoNCj4gLQkJcGFsW3JlZ25v
XSA9ICgocmVkICYgMHhmZjAwKSA8PCA4KSB8DQo+IC0JCQkgICAgICAoZ3JlZW4gJiAweGZm
MDApIHwNCj4gLQkJCSAgICAgKChibHVlICAmIDB4ZmYwMCkgPj4gOCk7DQo+IC0JCWJyZWFr
Ow0KPiAtCWRlZmF1bHQ6DQo+IC0JCURSTV9FUlJPUigiQmFkIGRlcHRoICV1LCBicHAgJXUu
XG4iLA0KPiAtCQkJICBwYXItPnNldF9mYi0+Zm9ybWF0LT5kZXB0aCwNCj4gLQkJCSAgcGFy
LT5zZXRfZmItPmZvcm1hdC0+Y3BwWzBdICogOCk7DQo+IC0JCXJldHVybiAxOw0KPiAtCX0N
Cj4gLQ0KPiAtCXJldHVybiAwOw0KPiAtfQ0KPiAtDQo+IC1zdGF0aWMgaW50IHZtd19mYl9j
aGVja192YXIoc3RydWN0IGZiX3Zhcl9zY3JlZW5pbmZvICp2YXIsDQo+IC0JCQkgICAgc3Ry
dWN0IGZiX2luZm8gKmluZm8pDQo+IC17DQo+IC0JaW50IGRlcHRoID0gdmFyLT5iaXRzX3Bl
cl9waXhlbDsNCj4gLQlzdHJ1Y3Qgdm13X2ZiX3BhciAqcGFyID0gaW5mby0+cGFyOw0KPiAt
CXN0cnVjdCB2bXdfcHJpdmF0ZSAqdm13X3ByaXYgPSBwYXItPnZtd19wcml2Ow0KPiAtDQo+
IC0Jc3dpdGNoICh2YXItPmJpdHNfcGVyX3BpeGVsKSB7DQo+IC0JY2FzZSAzMjoNCj4gLQkJ
ZGVwdGggPSAodmFyLT50cmFuc3AubGVuZ3RoID4gMCkgPyAzMiA6IDI0Ow0KPiAtCQlicmVh
azsNCj4gLQlkZWZhdWx0Og0KPiAtCQlEUk1fRVJST1IoIkJhZCBicHAgJXUuXG4iLCB2YXIt
PmJpdHNfcGVyX3BpeGVsKTsNCj4gLQkJcmV0dXJuIC1FSU5WQUw7DQo+IC0JfQ0KPiAtDQo+
IC0Jc3dpdGNoIChkZXB0aCkgew0KPiAtCWNhc2UgMjQ6DQo+IC0JCXZhci0+cmVkLm9mZnNl
dCA9IDE2Ow0KPiAtCQl2YXItPmdyZWVuLm9mZnNldCA9IDg7DQo+IC0JCXZhci0+Ymx1ZS5v
ZmZzZXQgPSAwOw0KPiAtCQl2YXItPnJlZC5sZW5ndGggPSA4Ow0KPiAtCQl2YXItPmdyZWVu
Lmxlbmd0aCA9IDg7DQo+IC0JCXZhci0+Ymx1ZS5sZW5ndGggPSA4Ow0KPiAtCQl2YXItPnRy
YW5zcC5sZW5ndGggPSAwOw0KPiAtCQl2YXItPnRyYW5zcC5vZmZzZXQgPSAwOw0KPiAtCQli
cmVhazsNCj4gLQljYXNlIDMyOg0KPiAtCQl2YXItPnJlZC5vZmZzZXQgPSAxNjsNCj4gLQkJ
dmFyLT5ncmVlbi5vZmZzZXQgPSA4Ow0KPiAtCQl2YXItPmJsdWUub2Zmc2V0ID0gMDsNCj4g
LQkJdmFyLT5yZWQubGVuZ3RoID0gODsNCj4gLQkJdmFyLT5ncmVlbi5sZW5ndGggPSA4Ow0K
PiAtCQl2YXItPmJsdWUubGVuZ3RoID0gODsNCj4gLQkJdmFyLT50cmFuc3AubGVuZ3RoID0g
ODsNCj4gLQkJdmFyLT50cmFuc3Aub2Zmc2V0ID0gMjQ7DQo+IC0JCWJyZWFrOw0KPiAtCWRl
ZmF1bHQ6DQo+IC0JCURSTV9FUlJPUigiQmFkIGRlcHRoICV1LlxuIiwgZGVwdGgpOw0KPiAt
CQlyZXR1cm4gLUVJTlZBTDsNCj4gLQl9DQo+IC0NCj4gLQlpZiAoKHZhci0+eG9mZnNldCAr
IHZhci0+eHJlcykgPiBwYXItPm1heF93aWR0aCB8fA0KPiAtCSAgICAodmFyLT55b2Zmc2V0
ICsgdmFyLT55cmVzKSA+IHBhci0+bWF4X2hlaWdodCkgew0KPiAtCQlEUk1fRVJST1IoIlJl
cXVlc3RlZCBnZW9tIGNhbiBub3QgZml0IGluIGZyYW1lYnVmZmVyXG4iKTsNCj4gLQkJcmV0
dXJuIC1FSU5WQUw7DQo+IC0JfQ0KPiAtDQo+IC0JaWYgKCF2bXdfa21zX3ZhbGlkYXRlX21v
ZGVfdnJhbSh2bXdfcHJpdiwNCj4gLQkJCQkJdmFyLT54cmVzICogdmFyLT5iaXRzX3Blcl9w
aXhlbC84LA0KPiAtCQkJCQl2YXItPnlvZmZzZXQgKyB2YXItPnlyZXMpKSB7DQo+IC0JCURS
TV9FUlJPUigiUmVxdWVzdGVkIGdlb20gY2FuIG5vdCBmaXQgaW4gZnJhbWVidWZmZXJcbiIp
Ow0KPiAtCQlyZXR1cm4gLUVJTlZBTDsNCj4gLQl9DQo+IC0NCj4gLQlyZXR1cm4gMDsNCj4g
LX0NCj4gLQ0KPiAtc3RhdGljIGludCB2bXdfZmJfYmxhbmsoaW50IGJsYW5rLCBzdHJ1Y3Qg
ZmJfaW5mbyAqaW5mbykNCj4gLXsNCj4gLQlyZXR1cm4gMDsNCj4gLX0NCj4gLQ0KPiAtLyoq
DQo+IC0gKiB2bXdfZmJfZGlydHlfZmx1c2ggLSBmbHVzaCBkaXJ0eSByZWdpb25zIHRvIHRo
ZSBrbXMgZnJhbWVidWZmZXINCj4gLSAqDQo+IC0gKiBAd29yazogVGhlIHN0cnVjdCB3b3Jr
X3N0cnVjdCBhc3NvY2lhdGVkIHdpdGggdGhpcyB0YXNrLg0KPiAtICoNCj4gLSAqIFRoaXMg
ZnVuY3Rpb24gZmx1c2hlcyB0aGUgZGlydHkgcmVnaW9ucyBvZiB0aGUgdm1hbGxvYyBmcmFt
ZWJ1ZmZlciB0byB0aGUNCj4gLSAqIGttcyBmcmFtZWJ1ZmZlciwgYW5kIGlmIHRoZSBrbXMg
ZnJhbWVidWZmZXIgaXMgdmlzaWJsZSwgYWxzbyB1cGRhdGVkIHRoZQ0KPiAtICogY29ycmVz
cG9uZGluZyBkaXNwbGF5cy4gTm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24gcnVucyBldmVuIGlm
IHRoZSBrbXMNCj4gLSAqIGZyYW1lYnVmZmVyIGlzIG5vdCBib3VuZCB0byBhIGNydGMgYW5k
IHRodXMgbm90IHZpc2libGUsIGJ1dCBpdCdzIHR1cm5lZA0KPiAtICogb2ZmIGR1cmluZyBo
aWJlcm5hdGlvbiB1c2luZyB0aGUgcGFyLT5kaXJ0eS5hY3RpdmUgYm9vbC4NCj4gLSAqLw0K
PiAtc3RhdGljIHZvaWQgdm13X2ZiX2RpcnR5X2ZsdXNoKHN0cnVjdCB3b3JrX3N0cnVjdCAq
d29yaykNCj4gLXsNCj4gLQlzdHJ1Y3Qgdm13X2ZiX3BhciAqcGFyID0gY29udGFpbmVyX29m
KHdvcmssIHN0cnVjdCB2bXdfZmJfcGFyLA0KPiAtCQkJCQkgICAgICBsb2NhbF93b3JrLndv
cmspOw0KPiAtCXN0cnVjdCB2bXdfcHJpdmF0ZSAqdm13X3ByaXYgPSBwYXItPnZtd19wcml2
Ow0KPiAtCXN0cnVjdCBmYl9pbmZvICppbmZvID0gdm13X3ByaXYtPmZiX2luZm87DQo+IC0J
dW5zaWduZWQgbG9uZyBpcnFfZmxhZ3M7DQo+IC0JczMyIGRzdF94MSwgZHN0X3gyLCBkc3Rf
eTEsIGRzdF95MiwgdyA9IDAsIGggPSAwOw0KPiAtCXUzMiBjcHAsIG1heF94LCBtYXhfeTsN
Cj4gLQlzdHJ1Y3QgZHJtX2NsaXBfcmVjdCBjbGlwOw0KPiAtCXN0cnVjdCBkcm1fZnJhbWVi
dWZmZXIgKmN1cl9mYjsNCj4gLQl1OCAqc3JjX3B0ciwgKmRzdF9wdHI7DQo+IC0Jc3RydWN0
IHZtd19idWZmZXJfb2JqZWN0ICp2Ym8gPSBwYXItPnZtd19ibzsNCj4gLQl2b2lkICp2aXJ0
dWFsOw0KPiAtDQo+IC0JaWYgKCFSRUFEX09OQ0UocGFyLT5kaXJ0eS5hY3RpdmUpKQ0KPiAt
CQlyZXR1cm47DQo+IC0NCj4gLQltdXRleF9sb2NrKCZwYXItPmJvX211dGV4KTsNCj4gLQlj
dXJfZmIgPSBwYXItPnNldF9mYjsNCj4gLQlpZiAoIWN1cl9mYikNCj4gLQkJZ290byBvdXRf
dW5sb2NrOw0KPiAtDQo+IC0JKHZvaWQpIHR0bV9ib19yZXNlcnZlKCZ2Ym8tPmJhc2UsIGZh
bHNlLCBmYWxzZSwgTlVMTCk7DQo+IC0JdmlydHVhbCA9IHZtd19ib19tYXBfYW5kX2NhY2hl
KHZibyk7DQo+IC0JaWYgKCF2aXJ0dWFsKQ0KPiAtCQlnb3RvIG91dF91bnJlc2VydmU7DQo+
IC0NCj4gLQlzcGluX2xvY2tfaXJxc2F2ZSgmcGFyLT5kaXJ0eS5sb2NrLCBpcnFfZmxhZ3Mp
Ow0KPiAtCWlmICghcGFyLT5kaXJ0eS5hY3RpdmUpIHsNCj4gLQkJc3Bpbl91bmxvY2tfaXJx
cmVzdG9yZSgmcGFyLT5kaXJ0eS5sb2NrLCBpcnFfZmxhZ3MpOw0KPiAtCQlnb3RvIG91dF91
bnJlc2VydmU7DQo+IC0JfQ0KPiAtDQo+IC0JLyoNCj4gLQkgKiBIYW5kbGUgcGFubmluZyB3
aGVuIGNvcHlpbmcgZnJvbSB2bWFsbG9jIHRvIGZyYW1lYnVmZmVyLg0KPiAtCSAqIENsaXAg
ZGlydHkgYXJlYSB0byBmcmFtZWJ1ZmZlci4NCj4gLQkgKi8NCj4gLQljcHAgPSBjdXJfZmIt
PmZvcm1hdC0+Y3BwWzBdOw0KPiAtCW1heF94ID0gcGFyLT5mYl94ICsgY3VyX2ZiLT53aWR0
aDsNCj4gLQltYXhfeSA9IHBhci0+ZmJfeSArIGN1cl9mYi0+aGVpZ2h0Ow0KPiAtDQo+IC0J
ZHN0X3gxID0gcGFyLT5kaXJ0eS54MSAtIHBhci0+ZmJfeDsNCj4gLQlkc3RfeTEgPSBwYXIt
PmRpcnR5LnkxIC0gcGFyLT5mYl95Ow0KPiAtCWRzdF94MSA9IG1heF90KHMzMiwgZHN0X3gx
LCAwKTsNCj4gLQlkc3RfeTEgPSBtYXhfdChzMzIsIGRzdF95MSwgMCk7DQo+IC0NCj4gLQlk
c3RfeDIgPSBwYXItPmRpcnR5LngyIC0gcGFyLT5mYl94Ow0KPiAtCWRzdF95MiA9IHBhci0+
ZGlydHkueTIgLSBwYXItPmZiX3k7DQo+IC0JZHN0X3gyID0gbWluX3QoczMyLCBkc3RfeDIs
IG1heF94KTsNCj4gLQlkc3RfeTIgPSBtaW5fdChzMzIsIGRzdF95MiwgbWF4X3kpOw0KPiAt
CXcgPSBkc3RfeDIgLSBkc3RfeDE7DQo+IC0JaCA9IGRzdF95MiAtIGRzdF95MTsNCj4gLQl3
ID0gbWF4X3QoczMyLCAwLCB3KTsNCj4gLQloID0gbWF4X3QoczMyLCAwLCBoKTsNCj4gLQ0K
PiAtCXBhci0+ZGlydHkueDEgPSBwYXItPmRpcnR5LngyID0gMDsNCj4gLQlwYXItPmRpcnR5
LnkxID0gcGFyLT5kaXJ0eS55MiA9IDA7DQo+IC0Jc3Bpbl91bmxvY2tfaXJxcmVzdG9yZSgm
cGFyLT5kaXJ0eS5sb2NrLCBpcnFfZmxhZ3MpOw0KPiAtDQo+IC0JaWYgKHcgJiYgaCkgew0K
PiAtCQlkc3RfcHRyID0gKHU4ICopdmlydHVhbCAgKw0KPiAtCQkJKGRzdF95MSAqIHBhci0+
c2V0X2ZiLT5waXRjaGVzWzBdICsgZHN0X3gxICogY3BwKTsNCj4gLQkJc3JjX3B0ciA9ICh1
OCAqKXBhci0+dm1hbGxvYyArDQo+IC0JCQkoKGRzdF95MSArIHBhci0+ZmJfeSkgKiBpbmZv
LT5maXgubGluZV9sZW5ndGggKw0KPiAtCQkJIChkc3RfeDEgKyBwYXItPmZiX3gpICogY3Bw
KTsNCj4gLQ0KPiAtCQl3aGlsZSAoaC0tID4gMCkgew0KPiAtCQkJbWVtY3B5KGRzdF9wdHIs
IHNyY19wdHIsIHcqY3BwKTsNCj4gLQkJCWRzdF9wdHIgKz0gcGFyLT5zZXRfZmItPnBpdGNo
ZXNbMF07DQo+IC0JCQlzcmNfcHRyICs9IGluZm8tPmZpeC5saW5lX2xlbmd0aDsNCj4gLQkJ
fQ0KPiAtDQo+IC0JCWNsaXAueDEgPSBkc3RfeDE7DQo+IC0JCWNsaXAueDIgPSBkc3RfeDI7
DQo+IC0JCWNsaXAueTEgPSBkc3RfeTE7DQo+IC0JCWNsaXAueTIgPSBkc3RfeTI7DQo+IC0J
fQ0KPiAtDQo+IC1vdXRfdW5yZXNlcnZlOg0KPiAtCXR0bV9ib191bnJlc2VydmUoJnZiby0+
YmFzZSk7DQo+IC0JaWYgKHcgJiYgaCkgew0KPiAtCQlXQVJOX09OX09OQ0UocGFyLT5zZXRf
ZmItPmZ1bmNzLT5kaXJ0eShjdXJfZmIsIE5VTEwsIDAsIDAsDQo+IC0JCQkJCQkgICAgICAg
JmNsaXAsIDEpKTsNCj4gLQkJdm13X2NtZF9mbHVzaCh2bXdfcHJpdiwgZmFsc2UpOw0KPiAt
CX0NCj4gLW91dF91bmxvY2s6DQo+IC0JbXV0ZXhfdW5sb2NrKCZwYXItPmJvX211dGV4KTsN
Cj4gLX0NCj4gLQ0KPiAtc3RhdGljIHZvaWQgdm13X2ZiX2RpcnR5X21hcmsoc3RydWN0IHZt
d19mYl9wYXIgKnBhciwNCj4gLQkJCSAgICAgIHVuc2lnbmVkIHgxLCB1bnNpZ25lZCB5MSwN
Cj4gLQkJCSAgICAgIHVuc2lnbmVkIHdpZHRoLCB1bnNpZ25lZCBoZWlnaHQpDQo+IC17DQo+
IC0JdW5zaWduZWQgbG9uZyBmbGFnczsNCj4gLQl1bnNpZ25lZCB4MiA9IHgxICsgd2lkdGg7
DQo+IC0JdW5zaWduZWQgeTIgPSB5MSArIGhlaWdodDsNCj4gLQ0KPiAtCXNwaW5fbG9ja19p
cnFzYXZlKCZwYXItPmRpcnR5LmxvY2ssIGZsYWdzKTsNCj4gLQlpZiAocGFyLT5kaXJ0eS54
MSA9PSBwYXItPmRpcnR5LngyKSB7DQo+IC0JCXBhci0+ZGlydHkueDEgPSB4MTsNCj4gLQkJ
cGFyLT5kaXJ0eS55MSA9IHkxOw0KPiAtCQlwYXItPmRpcnR5LngyID0geDI7DQo+IC0JCXBh
ci0+ZGlydHkueTIgPSB5MjsNCj4gLQkJLyogaWYgd2UgYXJlIGFjdGl2ZSBzdGFydCB0aGUg
ZGlydHkgd29yaw0KPiAtCQkgKiB3ZSBzaGFyZSB0aGUgd29yayB3aXRoIHRoZSBkZWZpbyBz
eXN0ZW0gKi8NCj4gLQkJaWYgKHBhci0+ZGlydHkuYWN0aXZlKQ0KPiAtCQkJc2NoZWR1bGVf
ZGVsYXllZF93b3JrKCZwYXItPmxvY2FsX3dvcmssDQo+IC0JCQkJCSAgICAgIFZNV19ESVJU
WV9ERUxBWSk7DQo+IC0JfSBlbHNlIHsNCj4gLQkJaWYgKHgxIDwgcGFyLT5kaXJ0eS54MSkN
Cj4gLQkJCXBhci0+ZGlydHkueDEgPSB4MTsNCj4gLQkJaWYgKHkxIDwgcGFyLT5kaXJ0eS55
MSkNCj4gLQkJCXBhci0+ZGlydHkueTEgPSB5MTsNCj4gLQkJaWYgKHgyID4gcGFyLT5kaXJ0
eS54MikNCj4gLQkJCXBhci0+ZGlydHkueDIgPSB4MjsNCj4gLQkJaWYgKHkyID4gcGFyLT5k
aXJ0eS55MikNCj4gLQkJCXBhci0+ZGlydHkueTIgPSB5MjsNCj4gLQl9DQo+IC0Jc3Bpbl91
bmxvY2tfaXJxcmVzdG9yZSgmcGFyLT5kaXJ0eS5sb2NrLCBmbGFncyk7DQo+IC19DQo+IC0N
Cj4gLXN0YXRpYyBpbnQgdm13X2ZiX3Bhbl9kaXNwbGF5KHN0cnVjdCBmYl92YXJfc2NyZWVu
aW5mbyAqdmFyLA0KPiAtCQkJICAgICAgc3RydWN0IGZiX2luZm8gKmluZm8pDQo+IC17DQo+
IC0Jc3RydWN0IHZtd19mYl9wYXIgKnBhciA9IGluZm8tPnBhcjsNCj4gLQ0KPiAtCWlmICgo
dmFyLT54b2Zmc2V0ICsgdmFyLT54cmVzKSA+IHZhci0+eHJlc192aXJ0dWFsIHx8DQo+IC0J
ICAgICh2YXItPnlvZmZzZXQgKyB2YXItPnlyZXMpID4gdmFyLT55cmVzX3ZpcnR1YWwpIHsN
Cj4gLQkJRFJNX0VSUk9SKCJSZXF1ZXN0ZWQgcGFubmluZyBjYW4gbm90IGZpdCBpbiBmcmFt
ZWJ1ZmZlclxuIik7DQo+IC0JCXJldHVybiAtRUlOVkFMOw0KPiAtCX0NCj4gLQ0KPiAtCW11
dGV4X2xvY2soJnBhci0+Ym9fbXV0ZXgpOw0KPiAtCXBhci0+ZmJfeCA9IHZhci0+eG9mZnNl
dDsNCj4gLQlwYXItPmZiX3kgPSB2YXItPnlvZmZzZXQ7DQo+IC0JaWYgKHBhci0+c2V0X2Zi
KQ0KPiAtCQl2bXdfZmJfZGlydHlfbWFyayhwYXIsIHBhci0+ZmJfeCwgcGFyLT5mYl95LCBw
YXItPnNldF9mYi0+d2lkdGgsDQo+IC0JCQkJICBwYXItPnNldF9mYi0+aGVpZ2h0KTsNCj4g
LQltdXRleF91bmxvY2soJnBhci0+Ym9fbXV0ZXgpOw0KPiAtDQo+IC0JcmV0dXJuIDA7DQo+
IC19DQo+IC0NCj4gLXN0YXRpYyB2b2lkIHZtd19kZWZlcnJlZF9pbyhzdHJ1Y3QgZmJfaW5m
byAqaW5mbywgc3RydWN0IGxpc3RfaGVhZCAqcGFnZXJlZmxpc3QpDQo+IC17DQo+IC0Jc3Ry
dWN0IHZtd19mYl9wYXIgKnBhciA9IGluZm8tPnBhcjsNCj4gLQl1bnNpZ25lZCBsb25nIHN0
YXJ0LCBlbmQsIG1pbiwgbWF4Ow0KPiAtCXVuc2lnbmVkIGxvbmcgZmxhZ3M7DQo+IC0Jc3Ry
dWN0IGZiX2RlZmVycmVkX2lvX3BhZ2VyZWYgKnBhZ2VyZWY7DQo+IC0JaW50IHkxLCB5MjsN
Cj4gLQ0KPiAtCW1pbiA9IFVMT05HX01BWDsNCj4gLQltYXggPSAwOw0KPiAtCWxpc3RfZm9y
X2VhY2hfZW50cnkocGFnZXJlZiwgcGFnZXJlZmxpc3QsIGxpc3QpIHsNCj4gLQkJc3RhcnQg
PSBwYWdlcmVmLT5vZmZzZXQ7DQo+IC0JCWVuZCA9IHN0YXJ0ICsgUEFHRV9TSVpFIC0gMTsN
Cj4gLQkJbWluID0gbWluKG1pbiwgc3RhcnQpOw0KPiAtCQltYXggPSBtYXgobWF4LCBlbmQp
Ow0KPiAtCX0NCj4gLQ0KPiAtCWlmIChtaW4gPCBtYXgpIHsNCj4gLQkJeTEgPSBtaW4gLyBp
bmZvLT5maXgubGluZV9sZW5ndGg7DQo+IC0JCXkyID0gKG1heCAvIGluZm8tPmZpeC5saW5l
X2xlbmd0aCkgKyAxOw0KPiAtDQo+IC0JCXNwaW5fbG9ja19pcnFzYXZlKCZwYXItPmRpcnR5
LmxvY2ssIGZsYWdzKTsNCj4gLQkJcGFyLT5kaXJ0eS54MSA9IDA7DQo+IC0JCXBhci0+ZGly
dHkueTEgPSB5MTsNCj4gLQkJcGFyLT5kaXJ0eS54MiA9IGluZm8tPnZhci54cmVzOw0KPiAt
CQlwYXItPmRpcnR5LnkyID0geTI7DQo+IC0JCXNwaW5fdW5sb2NrX2lycXJlc3RvcmUoJnBh
ci0+ZGlydHkubG9jaywgZmxhZ3MpOw0KPiAtDQo+IC0JCS8qDQo+IC0JCSAqIFNpbmNlIHdl
J3ZlIGFscmVhZHkgd2FpdGVkIG9uIHRoaXMgd29yayBvbmNlLCB0cnkgdG8NCj4gLQkJICog
ZXhlY3V0ZSBhc2FwLg0KPiAtCQkgKi8NCj4gLQkJY2FuY2VsX2RlbGF5ZWRfd29yaygmcGFy
LT5sb2NhbF93b3JrKTsNCj4gLQkJc2NoZWR1bGVfZGVsYXllZF93b3JrKCZwYXItPmxvY2Fs
X3dvcmssIDApOw0KPiAtCX0NCj4gLX07DQo+IC0NCj4gLXN0YXRpYyBzdHJ1Y3QgZmJfZGVm
ZXJyZWRfaW8gdm13X2RlZmlvID0gew0KPiAtCS5kZWxheQkJPSBWTVdfRElSVFlfREVMQVks
DQo+IC0JLmRlZmVycmVkX2lvCT0gdm13X2RlZmVycmVkX2lvLA0KPiAtfTsNCj4gLQ0KPiAt
LyoNCj4gLSAqIERyYXcgY29kZQ0KPiAtICovDQo+IC0NCj4gLXN0YXRpYyB2b2lkIHZtd19m
Yl9maWxscmVjdChzdHJ1Y3QgZmJfaW5mbyAqaW5mbywgY29uc3Qgc3RydWN0IGZiX2ZpbGxy
ZWN0ICpyZWN0KQ0KPiAtew0KPiAtCWNmYl9maWxscmVjdChpbmZvLCByZWN0KTsNCj4gLQl2
bXdfZmJfZGlydHlfbWFyayhpbmZvLT5wYXIsIHJlY3QtPmR4LCByZWN0LT5keSwNCj4gLQkJ
CSAgcmVjdC0+d2lkdGgsIHJlY3QtPmhlaWdodCk7DQo+IC19DQo+IC0NCj4gLXN0YXRpYyB2
b2lkIHZtd19mYl9jb3B5YXJlYShzdHJ1Y3QgZmJfaW5mbyAqaW5mbywgY29uc3Qgc3RydWN0
IGZiX2NvcHlhcmVhICpyZWdpb24pDQo+IC17DQo+IC0JY2ZiX2NvcHlhcmVhKGluZm8sIHJl
Z2lvbik7DQo+IC0Jdm13X2ZiX2RpcnR5X21hcmsoaW5mby0+cGFyLCByZWdpb24tPmR4LCBy
ZWdpb24tPmR5LA0KPiAtCQkJICByZWdpb24tPndpZHRoLCByZWdpb24tPmhlaWdodCk7DQo+
IC19DQo+IC0NCj4gLXN0YXRpYyB2b2lkIHZtd19mYl9pbWFnZWJsaXQoc3RydWN0IGZiX2lu
Zm8gKmluZm8sIGNvbnN0IHN0cnVjdCBmYl9pbWFnZSAqaW1hZ2UpDQo+IC17DQo+IC0JY2Zi
X2ltYWdlYmxpdChpbmZvLCBpbWFnZSk7DQo+IC0Jdm13X2ZiX2RpcnR5X21hcmsoaW5mby0+
cGFyLCBpbWFnZS0+ZHgsIGltYWdlLT5keSwNCj4gLQkJCSAgaW1hZ2UtPndpZHRoLCBpbWFn
ZS0+aGVpZ2h0KTsNCj4gLX0NCj4gLQ0KPiAtLyoNCj4gLSAqIEJyaW5nIHVwIGNvZGUNCj4g
LSAqLw0KPiAtDQo+IC1zdGF0aWMgaW50IHZtd19mYl9jcmVhdGVfYm8oc3RydWN0IHZtd19w
cml2YXRlICp2bXdfcHJpdiwNCj4gLQkJCSAgICBzaXplX3Qgc2l6ZSwgc3RydWN0IHZtd19i
dWZmZXJfb2JqZWN0ICoqb3V0KQ0KPiAtew0KPiAtCXN0cnVjdCB2bXdfYnVmZmVyX29iamVj
dCAqdm13X2JvOw0KPiAtCWludCByZXQ7DQo+IC0NCj4gLQlyZXQgPSB2bXdfYm9fY3JlYXRl
KHZtd19wcml2LCBzaXplLA0KPiAtCQkJICAgICAgJnZtd19zeXNfcGxhY2VtZW50LA0KPiAt
CQkJICAgICAgZmFsc2UsIGZhbHNlLA0KPiAtCQkJICAgICAgJnZtd19ib19ib19mcmVlLCAm
dm13X2JvKTsNCj4gLQlpZiAodW5saWtlbHkocmV0ICE9IDApKQ0KPiAtCQlyZXR1cm4gcmV0
Ow0KPiAtDQo+IC0JKm91dCA9IHZtd19ibzsNCj4gLQ0KPiAtCXJldHVybiByZXQ7DQo+IC19
DQo+IC0NCj4gLXN0YXRpYyBpbnQgdm13X2ZiX2NvbXB1dGVfZGVwdGgoc3RydWN0IGZiX3Zh
cl9zY3JlZW5pbmZvICp2YXIsDQo+IC0JCQkJaW50ICpkZXB0aCkNCj4gLXsNCj4gLQlzd2l0
Y2ggKHZhci0+Yml0c19wZXJfcGl4ZWwpIHsNCj4gLQljYXNlIDMyOg0KPiAtCQkqZGVwdGgg
PSAodmFyLT50cmFuc3AubGVuZ3RoID4gMCkgPyAzMiA6IDI0Ow0KPiAtCQlicmVhazsNCj4g
LQlkZWZhdWx0Og0KPiAtCQlEUk1fRVJST1IoIkJhZCBicHAgJXUuXG4iLCB2YXItPmJpdHNf
cGVyX3BpeGVsKTsNCj4gLQkJcmV0dXJuIC1FSU5WQUw7DQo+IC0JfQ0KPiAtDQo+IC0JcmV0
dXJuIDA7DQo+IC19DQo+IC0NCj4gLXN0YXRpYyBpbnQgdm13Z2Z4X3NldF9jb25maWdfaW50
ZXJuYWwoc3RydWN0IGRybV9tb2RlX3NldCAqc2V0KQ0KPiAtew0KPiAtCXN0cnVjdCBkcm1f
Y3J0YyAqY3J0YyA9IHNldC0+Y3J0YzsNCj4gLQlzdHJ1Y3QgZHJtX21vZGVzZXRfYWNxdWly
ZV9jdHggY3R4Ow0KPiAtCWludCByZXQ7DQo+IC0NCj4gLQlkcm1fbW9kZXNldF9hY3F1aXJl
X2luaXQoJmN0eCwgMCk7DQo+IC0NCj4gLXJlc3RhcnQ6DQo+IC0JcmV0ID0gY3J0Yy0+ZnVu
Y3MtPnNldF9jb25maWcoc2V0LCAmY3R4KTsNCj4gLQ0KPiAtCWlmIChyZXQgPT0gLUVERUFE
TEspIHsNCj4gLQkJZHJtX21vZGVzZXRfYmFja29mZigmY3R4KTsNCj4gLQkJZ290byByZXN0
YXJ0Ow0KPiAtCX0NCj4gLQ0KPiAtCWRybV9tb2Rlc2V0X2Ryb3BfbG9ja3MoJmN0eCk7DQo+
IC0JZHJtX21vZGVzZXRfYWNxdWlyZV9maW5pKCZjdHgpOw0KPiAtDQo+IC0JcmV0dXJuIHJl
dDsNCj4gLX0NCj4gLQ0KPiAtc3RhdGljIGludCB2bXdfZmJfa21zX2RldGFjaChzdHJ1Y3Qg
dm13X2ZiX3BhciAqcGFyLA0KPiAtCQkJICAgICBib29sIGRldGFjaF9ibywNCj4gLQkJCSAg
ICAgYm9vbCB1bnJlZl9ibykNCj4gLXsNCj4gLQlzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpj
dXJfZmIgPSBwYXItPnNldF9mYjsNCj4gLQlpbnQgcmV0Ow0KPiAtDQo+IC0JLyogRGV0YWNo
IHRoZSBLTVMgZnJhbWVidWZmZXIgZnJvbSBjcnRjcyAqLw0KPiAtCWlmIChwYXItPnNldF9t
b2RlKSB7DQo+IC0JCXN0cnVjdCBkcm1fbW9kZV9zZXQgc2V0Ow0KPiAtDQo+IC0JCXNldC5j
cnRjID0gcGFyLT5jcnRjOw0KPiAtCQlzZXQueCA9IDA7DQo+IC0JCXNldC55ID0gMDsNCj4g
LQkJc2V0Lm1vZGUgPSBOVUxMOw0KPiAtCQlzZXQuZmIgPSBOVUxMOw0KPiAtCQlzZXQubnVt
X2Nvbm5lY3RvcnMgPSAwOw0KPiAtCQlzZXQuY29ubmVjdG9ycyA9ICZwYXItPmNvbjsNCj4g
LQkJcmV0ID0gdm13Z2Z4X3NldF9jb25maWdfaW50ZXJuYWwoJnNldCk7DQo+IC0JCWlmIChy
ZXQpIHsNCj4gLQkJCURSTV9FUlJPUigiQ291bGQgbm90IHVuc2V0IGEgbW9kZS5cbiIpOw0K
PiAtCQkJcmV0dXJuIHJldDsNCj4gLQkJfQ0KPiAtCQlkcm1fbW9kZV9kZXN0cm95KCZwYXIt
PnZtd19wcml2LT5kcm0sIHBhci0+c2V0X21vZGUpOw0KPiAtCQlwYXItPnNldF9tb2RlID0g
TlVMTDsNCj4gLQl9DQo+IC0NCj4gLQlpZiAoY3VyX2ZiKSB7DQo+IC0JCWRybV9mcmFtZWJ1
ZmZlcl9wdXQoY3VyX2ZiKTsNCj4gLQkJcGFyLT5zZXRfZmIgPSBOVUxMOw0KPiAtCX0NCj4g
LQ0KPiAtCWlmIChwYXItPnZtd19ibyAmJiBkZXRhY2hfYm8gJiYgdW5yZWZfYm8pDQo+IC0J
CXZtd19ib191bnJlZmVyZW5jZSgmcGFyLT52bXdfYm8pOw0KPiAtDQo+IC0JcmV0dXJuIDA7
DQo+IC19DQo+IC0NCj4gLXN0YXRpYyBpbnQgdm13X2ZiX2ttc19mcmFtZWJ1ZmZlcihzdHJ1
Y3QgZmJfaW5mbyAqaW5mbykNCj4gLXsNCj4gLQlzdHJ1Y3QgZHJtX21vZGVfZmJfY21kMiBt
b2RlX2NtZCA9IHswfTsNCj4gLQlzdHJ1Y3Qgdm13X2ZiX3BhciAqcGFyID0gaW5mby0+cGFy
Ow0KPiAtCXN0cnVjdCBmYl92YXJfc2NyZWVuaW5mbyAqdmFyID0gJmluZm8tPnZhcjsNCj4g
LQlzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpjdXJfZmI7DQo+IC0Jc3RydWN0IHZtd19mcmFt
ZWJ1ZmZlciAqdmZiOw0KPiAtCWludCByZXQgPSAwLCBkZXB0aDsNCj4gLQlzaXplX3QgbmV3
X2JvX3NpemU7DQo+IC0NCj4gLQlyZXQgPSB2bXdfZmJfY29tcHV0ZV9kZXB0aCh2YXIsICZk
ZXB0aCk7DQo+IC0JaWYgKHJldCkNCj4gLQkJcmV0dXJuIHJldDsNCj4gLQ0KPiAtCW1vZGVf
Y21kLndpZHRoID0gdmFyLT54cmVzOw0KPiAtCW1vZGVfY21kLmhlaWdodCA9IHZhci0+eXJl
czsNCj4gLQltb2RlX2NtZC5waXRjaGVzWzBdID0gKCh2YXItPmJpdHNfcGVyX3BpeGVsICsg
NykgLyA4KSAqIG1vZGVfY21kLndpZHRoOw0KPiAtCW1vZGVfY21kLnBpeGVsX2Zvcm1hdCA9
DQo+IC0JCWRybV9tb2RlX2xlZ2FjeV9mYl9mb3JtYXQodmFyLT5iaXRzX3Blcl9waXhlbCwg
ZGVwdGgpOw0KPiAtDQo+IC0JY3VyX2ZiID0gcGFyLT5zZXRfZmI7DQo+IC0JaWYgKGN1cl9m
YiAmJiBjdXJfZmItPndpZHRoID09IG1vZGVfY21kLndpZHRoICYmDQo+IC0JICAgIGN1cl9m
Yi0+aGVpZ2h0ID09IG1vZGVfY21kLmhlaWdodCAmJg0KPiAtCSAgICBjdXJfZmItPmZvcm1h
dC0+Zm9ybWF0ID09IG1vZGVfY21kLnBpeGVsX2Zvcm1hdCAmJg0KPiAtCSAgICBjdXJfZmIt
PnBpdGNoZXNbMF0gPT0gbW9kZV9jbWQucGl0Y2hlc1swXSkNCj4gLQkJcmV0dXJuIDA7DQo+
IC0NCj4gLQkvKiBOZWVkIG5ldyBidWZmZXIgb2JqZWN0ID8gKi8NCj4gLQluZXdfYm9fc2l6
ZSA9IChzaXplX3QpIG1vZGVfY21kLnBpdGNoZXNbMF0gKiAoc2l6ZV90KSBtb2RlX2NtZC5o
ZWlnaHQ7DQo+IC0JcmV0ID0gdm13X2ZiX2ttc19kZXRhY2gocGFyLA0KPiAtCQkJCXBhci0+
Ym9fc2l6ZSA8IG5ld19ib19zaXplIHx8DQo+IC0JCQkJcGFyLT5ib19zaXplID4gMipuZXdf
Ym9fc2l6ZSwNCj4gLQkJCQl0cnVlKTsNCj4gLQlpZiAocmV0KQ0KPiAtCQlyZXR1cm4gcmV0
Ow0KPiAtDQo+IC0JaWYgKCFwYXItPnZtd19ibykgew0KPiAtCQlyZXQgPSB2bXdfZmJfY3Jl
YXRlX2JvKHBhci0+dm13X3ByaXYsIG5ld19ib19zaXplLA0KPiAtCQkJCSAgICAgICAmcGFy
LT52bXdfYm8pOw0KPiAtCQlpZiAocmV0KSB7DQo+IC0JCQlEUk1fRVJST1IoIkZhaWxlZCBj
cmVhdGluZyBhIGJ1ZmZlciBvYmplY3QgZm9yICINCj4gLQkJCQkgICJmYmRldi5cbiIpOw0K
PiAtCQkJcmV0dXJuIHJldDsNCj4gLQkJfQ0KPiAtCQlwYXItPmJvX3NpemUgPSBuZXdfYm9f
c2l6ZTsNCj4gLQl9DQo+IC0NCj4gLQl2ZmIgPSB2bXdfa21zX25ld19mcmFtZWJ1ZmZlcihw
YXItPnZtd19wcml2LCBwYXItPnZtd19ibywgTlVMTCwNCj4gLQkJCQkgICAgICB0cnVlLCAm
bW9kZV9jbWQpOw0KPiAtCWlmIChJU19FUlIodmZiKSkNCj4gLQkJcmV0dXJuIFBUUl9FUlIo
dmZiKTsNCj4gLQ0KPiAtCXBhci0+c2V0X2ZiID0gJnZmYi0+YmFzZTsNCj4gLQ0KPiAtCXJl
dHVybiAwOw0KPiAtfQ0KPiAtDQo+IC1zdGF0aWMgaW50IHZtd19mYl9zZXRfcGFyKHN0cnVj
dCBmYl9pbmZvICppbmZvKQ0KPiAtew0KPiAtCXN0cnVjdCB2bXdfZmJfcGFyICpwYXIgPSBp
bmZvLT5wYXI7DQo+IC0Jc3RydWN0IHZtd19wcml2YXRlICp2bXdfcHJpdiA9IHBhci0+dm13
X3ByaXY7DQo+IC0Jc3RydWN0IGRybV9tb2RlX3NldCBzZXQ7DQo+IC0Jc3RydWN0IGZiX3Zh
cl9zY3JlZW5pbmZvICp2YXIgPSAmaW5mby0+dmFyOw0KPiAtCXN0cnVjdCBkcm1fZGlzcGxh
eV9tb2RlIG5ld19tb2RlID0geyBEUk1fTU9ERSgiZmJfbW9kZSIsDQo+IC0JCURSTV9NT0RF
X1RZUEVfRFJJVkVSLA0KPiAtCQkwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLA0K
PiAtCQlEUk1fTU9ERV9GTEFHX05IU1lOQyB8IERSTV9NT0RFX0ZMQUdfUFZTWU5DKQ0KPiAt
CX07DQo+IC0Jc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGU7DQo+IC0JaW50IHJldDsN
Cj4gLQ0KPiAtCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUoJnZtd19wcml2LT5kcm0sICZu
ZXdfbW9kZSk7DQo+IC0JaWYgKCFtb2RlKSB7DQo+IC0JCURSTV9FUlJPUigiQ291bGQgbm90
IGNyZWF0ZSBuZXcgZmIgbW9kZS5cbiIpOw0KPiAtCQlyZXR1cm4gLUVOT01FTTsNCj4gLQl9
DQo+IC0NCj4gLQltb2RlLT5oZGlzcGxheSA9IHZhci0+eHJlczsNCj4gLQltb2RlLT52ZGlz
cGxheSA9IHZhci0+eXJlczsNCj4gLQl2bXdfZ3Vlc3NfbW9kZV90aW1pbmcobW9kZSk7DQo+
IC0NCj4gLQlpZiAoIXZtd19rbXNfdmFsaWRhdGVfbW9kZV92cmFtKHZtd19wcml2LA0KPiAt
CQkJCQltb2RlLT5oZGlzcGxheSAqDQo+IC0JCQkJCURJVl9ST1VORF9VUCh2YXItPmJpdHNf
cGVyX3BpeGVsLCA4KSwNCj4gLQkJCQkJbW9kZS0+dmRpc3BsYXkpKSB7DQo+IC0JCWRybV9t
b2RlX2Rlc3Ryb3koJnZtd19wcml2LT5kcm0sIG1vZGUpOw0KPiAtCQlyZXR1cm4gLUVJTlZB
TDsNCj4gLQl9DQo+IC0NCj4gLQltdXRleF9sb2NrKCZwYXItPmJvX211dGV4KTsNCj4gLQly
ZXQgPSB2bXdfZmJfa21zX2ZyYW1lYnVmZmVyKGluZm8pOw0KPiAtCWlmIChyZXQpDQo+IC0J
CWdvdG8gb3V0X3VubG9jazsNCj4gLQ0KPiAtCXBhci0+ZmJfeCA9IHZhci0+eG9mZnNldDsN
Cj4gLQlwYXItPmZiX3kgPSB2YXItPnlvZmZzZXQ7DQo+IC0NCj4gLQlzZXQuY3J0YyA9IHBh
ci0+Y3J0YzsNCj4gLQlzZXQueCA9IDA7DQo+IC0Jc2V0LnkgPSAwOw0KPiAtCXNldC5tb2Rl
ID0gbW9kZTsNCj4gLQlzZXQuZmIgPSBwYXItPnNldF9mYjsNCj4gLQlzZXQubnVtX2Nvbm5l
Y3RvcnMgPSAxOw0KPiAtCXNldC5jb25uZWN0b3JzID0gJnBhci0+Y29uOw0KPiAtDQo+IC0J
cmV0ID0gdm13Z2Z4X3NldF9jb25maWdfaW50ZXJuYWwoJnNldCk7DQo+IC0JaWYgKHJldCkN
Cj4gLQkJZ290byBvdXRfdW5sb2NrOw0KPiAtDQo+IC0Jdm13X2ZiX2RpcnR5X21hcmsocGFy
LCBwYXItPmZiX3gsIHBhci0+ZmJfeSwNCj4gLQkJCSAgcGFyLT5zZXRfZmItPndpZHRoLCBw
YXItPnNldF9mYi0+aGVpZ2h0KTsNCj4gLQ0KPiAtCS8qIElmIHRoZXJlIGFscmVhZHkgd2Fz
IHN0dWZmIGRpcnR5IHdlIHdvbnQNCj4gLQkgKiBzY2hlZHVsZSBhIG5ldyB3b3JrLCBzbyBs
ZXRzIGRvIGl0IG5vdyAqLw0KPiAtDQo+IC0Jc2NoZWR1bGVfZGVsYXllZF93b3JrKCZwYXIt
PmxvY2FsX3dvcmssIDApOw0KPiAtDQo+IC1vdXRfdW5sb2NrOg0KPiAtCWlmIChwYXItPnNl
dF9tb2RlKQ0KPiAtCQlkcm1fbW9kZV9kZXN0cm95KCZ2bXdfcHJpdi0+ZHJtLCBwYXItPnNl
dF9tb2RlKTsNCj4gLQlwYXItPnNldF9tb2RlID0gbW9kZTsNCj4gLQ0KPiAtCW11dGV4X3Vu
bG9jaygmcGFyLT5ib19tdXRleCk7DQo+IC0NCj4gLQlyZXR1cm4gcmV0Ow0KPiAtfQ0KPiAt
DQo+IC0NCj4gLXN0YXRpYyBjb25zdCBzdHJ1Y3QgZmJfb3BzIHZtd19mYl9vcHMgPSB7DQo+
IC0JLm93bmVyID0gVEhJU19NT0RVTEUsDQo+IC0JLmZiX2NoZWNrX3ZhciA9IHZtd19mYl9j
aGVja192YXIsDQo+IC0JLmZiX3NldF9wYXIgPSB2bXdfZmJfc2V0X3BhciwNCj4gLQkuZmJf
c2V0Y29scmVnID0gdm13X2ZiX3NldGNvbHJlZywNCj4gLQkuZmJfZmlsbHJlY3QgPSB2bXdf
ZmJfZmlsbHJlY3QsDQo+IC0JLmZiX2NvcHlhcmVhID0gdm13X2ZiX2NvcHlhcmVhLA0KPiAt
CS5mYl9pbWFnZWJsaXQgPSB2bXdfZmJfaW1hZ2VibGl0LA0KPiAtCS5mYl9wYW5fZGlzcGxh
eSA9IHZtd19mYl9wYW5fZGlzcGxheSwNCj4gLQkuZmJfYmxhbmsgPSB2bXdfZmJfYmxhbmss
DQo+IC0JLmZiX21tYXAgPSBmYl9kZWZlcnJlZF9pb19tbWFwLA0KPiAtfTsNCj4gLQ0KPiAt
aW50IHZtd19mYl9pbml0KHN0cnVjdCB2bXdfcHJpdmF0ZSAqdm13X3ByaXYpDQo+IC17DQo+
IC0Jc3RydWN0IGRldmljZSAqZGV2aWNlID0gdm13X3ByaXYtPmRybS5kZXY7DQo+IC0Jc3Ry
dWN0IHZtd19mYl9wYXIgKnBhcjsNCj4gLQlzdHJ1Y3QgZmJfaW5mbyAqaW5mbzsNCj4gLQl1
bnNpZ25lZCBmYl93aWR0aCwgZmJfaGVpZ2h0Ow0KPiAtCXVuc2lnbmVkIGludCBmYl9icHAs
IGZiX3BpdGNoLCBmYl9zaXplOw0KPiAtCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICppbml0
X21vZGU7DQo+IC0JaW50IHJldDsNCj4gLQ0KPiAtCWZiX2JwcCA9IDMyOw0KPiAtDQo+IC0J
LyogWFhYIEFzIHNob3VsZG4ndCB0aGVzZSBiZSBhcyB3ZWxsLiAqLw0KPiAtCWZiX3dpZHRo
ID0gbWluKHZtd19wcml2LT5mYl9tYXhfd2lkdGgsICh1bnNpZ25lZCkyMDQ4KTsNCj4gLQlm
Yl9oZWlnaHQgPSBtaW4odm13X3ByaXYtPmZiX21heF9oZWlnaHQsICh1bnNpZ25lZCkyMDQ4
KTsNCj4gLQ0KPiAtCWZiX3BpdGNoID0gZmJfd2lkdGggKiBmYl9icHAgLyA4Ow0KPiAtCWZi
X3NpemUgPSBmYl9waXRjaCAqIGZiX2hlaWdodDsNCj4gLQ0KPiAtCWluZm8gPSBmcmFtZWJ1
ZmZlcl9hbGxvYyhzaXplb2YoKnBhciksIGRldmljZSk7DQo+IC0JaWYgKCFpbmZvKQ0KPiAt
CQlyZXR1cm4gLUVOT01FTTsNCj4gLQ0KPiAtCS8qDQo+IC0JICogUGFyDQo+IC0JICovDQo+
IC0Jdm13X3ByaXYtPmZiX2luZm8gPSBpbmZvOw0KPiAtCXBhciA9IGluZm8tPnBhcjsNCj4g
LQltZW1zZXQocGFyLCAwLCBzaXplb2YoKnBhcikpOw0KPiAtCUlOSVRfREVMQVlFRF9XT1JL
KCZwYXItPmxvY2FsX3dvcmssICZ2bXdfZmJfZGlydHlfZmx1c2gpOw0KPiAtCXBhci0+dm13
X3ByaXYgPSB2bXdfcHJpdjsNCj4gLQlwYXItPnZtYWxsb2MgPSBOVUxMOw0KPiAtCXBhci0+
bWF4X3dpZHRoID0gZmJfd2lkdGg7DQo+IC0JcGFyLT5tYXhfaGVpZ2h0ID0gZmJfaGVpZ2h0
Ow0KPiAtDQo+IC0JcmV0ID0gdm13X2ttc19mYmRldl9pbml0X2RhdGEodm13X3ByaXYsIDAs
IHBhci0+bWF4X3dpZHRoLA0KPiAtCQkJCSAgICAgIHBhci0+bWF4X2hlaWdodCwgJnBhci0+
Y29uLA0KPiAtCQkJCSAgICAgICZwYXItPmNydGMsICZpbml0X21vZGUpOw0KPiAtCWlmIChy
ZXQpDQo+IC0JCWdvdG8gZXJyX2ttczsNCj4gLQ0KPiAtCWluZm8tPnZhci54cmVzID0gaW5p
dF9tb2RlLT5oZGlzcGxheTsNCj4gLQlpbmZvLT52YXIueXJlcyA9IGluaXRfbW9kZS0+dmRp
c3BsYXk7DQo+IC0NCj4gLQkvKg0KPiAtCSAqIENyZWF0ZSBidWZmZXJzIGFuZCBhbGxvYyBt
ZW1vcnkNCj4gLQkgKi8NCj4gLQlwYXItPnZtYWxsb2MgPSB2emFsbG9jKGZiX3NpemUpOw0K
PiAtCWlmICh1bmxpa2VseShwYXItPnZtYWxsb2MgPT0gTlVMTCkpIHsNCj4gLQkJcmV0ID0g
LUVOT01FTTsNCj4gLQkJZ290byBlcnJfZnJlZTsNCj4gLQl9DQo+IC0NCj4gLQkvKg0KPiAt
CSAqIEZpeGVkIGFuZCB2YXINCj4gLQkgKi8NCj4gLQlzdHJjcHkoaW5mby0+Zml4LmlkLCAi
c3ZnYWRybWZiIik7DQo+IC0JaW5mby0+Zml4LnR5cGUgPSBGQl9UWVBFX1BBQ0tFRF9QSVhF
TFM7DQo+IC0JaW5mby0+Zml4LnZpc3VhbCA9IEZCX1ZJU1VBTF9UUlVFQ09MT1I7DQo+IC0J
aW5mby0+Zml4LnR5cGVfYXV4ID0gMDsNCj4gLQlpbmZvLT5maXgueHBhbnN0ZXAgPSAxOyAv
KiBkb2luZyBpdCBpbiBodyAqLw0KPiAtCWluZm8tPmZpeC55cGFuc3RlcCA9IDE7IC8qIGRv
aW5nIGl0IGluIGh3ICovDQo+IC0JaW5mby0+Zml4Lnl3cmFwc3RlcCA9IDA7DQo+IC0JaW5m
by0+Zml4LmFjY2VsID0gRkJfQUNDRUxfTk9ORTsNCj4gLQlpbmZvLT5maXgubGluZV9sZW5n
dGggPSBmYl9waXRjaDsNCj4gLQ0KPiAtCWluZm8tPmZpeC5zbWVtX3N0YXJ0ID0gMDsNCj4g
LQlpbmZvLT5maXguc21lbV9sZW4gPSBmYl9zaXplOw0KPiAtDQo+IC0JaW5mby0+cHNldWRv
X3BhbGV0dGUgPSBwYXItPnBzZXVkb19wYWxldHRlOw0KPiAtCWluZm8tPnNjcmVlbl9iYXNl
ID0gKGNoYXIgX19pb21lbSAqKXBhci0+dm1hbGxvYzsNCj4gLQlpbmZvLT5zY3JlZW5fc2l6
ZSA9IGZiX3NpemU7DQo+IC0NCj4gLQlpbmZvLT5mYm9wcyA9ICZ2bXdfZmJfb3BzOw0KPiAt
DQo+IC0JLyogMjQgZGVwdGggcGVyIGRlZmF1bHQgKi8NCj4gLQlpbmZvLT52YXIucmVkLm9m
ZnNldCA9IDE2Ow0KPiAtCWluZm8tPnZhci5ncmVlbi5vZmZzZXQgPSA4Ow0KPiAtCWluZm8t
PnZhci5ibHVlLm9mZnNldCA9IDA7DQo+IC0JaW5mby0+dmFyLnJlZC5sZW5ndGggPSA4Ow0K
PiAtCWluZm8tPnZhci5ncmVlbi5sZW5ndGggPSA4Ow0KPiAtCWluZm8tPnZhci5ibHVlLmxl
bmd0aCA9IDg7DQo+IC0JaW5mby0+dmFyLnRyYW5zcC5vZmZzZXQgPSAwOw0KPiAtCWluZm8t
PnZhci50cmFuc3AubGVuZ3RoID0gMDsNCj4gLQ0KPiAtCWluZm8tPnZhci54cmVzX3ZpcnR1
YWwgPSBmYl93aWR0aDsNCj4gLQlpbmZvLT52YXIueXJlc192aXJ0dWFsID0gZmJfaGVpZ2h0
Ow0KPiAtCWluZm8tPnZhci5iaXRzX3Blcl9waXhlbCA9IGZiX2JwcDsNCj4gLQlpbmZvLT52
YXIueG9mZnNldCA9IDA7DQo+IC0JaW5mby0+dmFyLnlvZmZzZXQgPSAwOw0KPiAtCWluZm8t
PnZhci5hY3RpdmF0ZSA9IEZCX0FDVElWQVRFX05PVzsNCj4gLQlpbmZvLT52YXIuaGVpZ2h0
ID0gLTE7DQo+IC0JaW5mby0+dmFyLndpZHRoID0gLTE7DQo+IC0NCj4gLQkvKiBVc2UgZGVm
YXVsdCBzY3JhdGNoIHBpeG1hcCAoaW5mby0+cGl4bWFwLmZsYWdzID0gRkJfUElYTUFQX1NZ
U1RFTSkgKi8NCj4gLQlpbmZvLT5hcGVydHVyZXMgPSBhbGxvY19hcGVydHVyZXMoMSk7DQo+
IC0JaWYgKCFpbmZvLT5hcGVydHVyZXMpIHsNCj4gLQkJcmV0ID0gLUVOT01FTTsNCj4gLQkJ
Z290byBlcnJfYXBlcjsNCj4gLQl9DQo+IC0JaW5mby0+YXBlcnR1cmVzLT5yYW5nZXNbMF0u
YmFzZSA9IHZtd19wcml2LT52cmFtX3N0YXJ0Ow0KPiAtCWluZm8tPmFwZXJ0dXJlcy0+cmFu
Z2VzWzBdLnNpemUgPSB2bXdfcHJpdi0+dnJhbV9zaXplOw0KPiAtDQo+IC0JLyoNCj4gLQkg
KiBEaXJ0eSAmIERlZmVycmVkIElPDQo+IC0JICovDQo+IC0JcGFyLT5kaXJ0eS54MSA9IHBh
ci0+ZGlydHkueDIgPSAwOw0KPiAtCXBhci0+ZGlydHkueTEgPSBwYXItPmRpcnR5LnkyID0g
MDsNCj4gLQlwYXItPmRpcnR5LmFjdGl2ZSA9IHRydWU7DQo+IC0Jc3Bpbl9sb2NrX2luaXQo
JnBhci0+ZGlydHkubG9jayk7DQo+IC0JbXV0ZXhfaW5pdCgmcGFyLT5ib19tdXRleCk7DQo+
IC0JaW5mby0+ZmJkZWZpbyA9ICZ2bXdfZGVmaW87DQo+IC0JZmJfZGVmZXJyZWRfaW9faW5p
dChpbmZvKTsNCj4gLQ0KPiAtCXJldCA9IHJlZ2lzdGVyX2ZyYW1lYnVmZmVyKGluZm8pOw0K
PiAtCWlmICh1bmxpa2VseShyZXQgIT0gMCkpDQo+IC0JCWdvdG8gZXJyX2RlZmlvOw0KPiAt
DQo+IC0Jdm13X2ZiX3NldF9wYXIoaW5mbyk7DQo+IC0NCj4gLQlyZXR1cm4gMDsNCj4gLQ0K
PiAtZXJyX2RlZmlvOg0KPiAtCWZiX2RlZmVycmVkX2lvX2NsZWFudXAoaW5mbyk7DQo+IC1l
cnJfYXBlcjoNCj4gLWVycl9mcmVlOg0KPiAtCXZmcmVlKHBhci0+dm1hbGxvYyk7DQo+IC1l
cnJfa21zOg0KPiAtCWZyYW1lYnVmZmVyX3JlbGVhc2UoaW5mbyk7DQo+IC0Jdm13X3ByaXYt
PmZiX2luZm8gPSBOVUxMOw0KPiAtDQo+IC0JcmV0dXJuIHJldDsNCj4gLX0NCj4gLQ0KPiAt
aW50IHZtd19mYl9jbG9zZShzdHJ1Y3Qgdm13X3ByaXZhdGUgKnZtd19wcml2KQ0KPiAtew0K
PiAtCXN0cnVjdCBmYl9pbmZvICppbmZvOw0KPiAtCXN0cnVjdCB2bXdfZmJfcGFyICpwYXI7
DQo+IC0NCj4gLQlpZiAoIXZtd19wcml2LT5mYl9pbmZvKQ0KPiAtCQlyZXR1cm4gMDsNCj4g
LQ0KPiAtCWluZm8gPSB2bXdfcHJpdi0+ZmJfaW5mbzsNCj4gLQlwYXIgPSBpbmZvLT5wYXI7
DQo+IC0NCj4gLQkvKiA/Pz8gb3JkZXIgKi8NCj4gLQlmYl9kZWZlcnJlZF9pb19jbGVhbnVw
KGluZm8pOw0KPiAtCWNhbmNlbF9kZWxheWVkX3dvcmtfc3luYygmcGFyLT5sb2NhbF93b3Jr
KTsNCj4gLQl1bnJlZ2lzdGVyX2ZyYW1lYnVmZmVyKGluZm8pOw0KPiAtDQo+IC0JbXV0ZXhf
bG9jaygmcGFyLT5ib19tdXRleCk7DQo+IC0JKHZvaWQpIHZtd19mYl9rbXNfZGV0YWNoKHBh
ciwgdHJ1ZSwgdHJ1ZSk7DQo+IC0JbXV0ZXhfdW5sb2NrKCZwYXItPmJvX211dGV4KTsNCj4g
LQ0KPiAtCXZmcmVlKHBhci0+dm1hbGxvYyk7DQo+IC0JZnJhbWVidWZmZXJfcmVsZWFzZShp
bmZvKTsNCj4gLQ0KPiAtCXJldHVybiAwOw0KPiAtfQ0KPiAtDQo+IC1pbnQgdm13X2ZiX29m
ZihzdHJ1Y3Qgdm13X3ByaXZhdGUgKnZtd19wcml2KQ0KPiAtew0KPiAtCXN0cnVjdCBmYl9p
bmZvICppbmZvOw0KPiAtCXN0cnVjdCB2bXdfZmJfcGFyICpwYXI7DQo+IC0JdW5zaWduZWQg
bG9uZyBmbGFnczsNCj4gLQ0KPiAtCWlmICghdm13X3ByaXYtPmZiX2luZm8pDQo+IC0JCXJl
dHVybiAtRUlOVkFMOw0KPiAtDQo+IC0JaW5mbyA9IHZtd19wcml2LT5mYl9pbmZvOw0KPiAt
CXBhciA9IGluZm8tPnBhcjsNCj4gLQ0KPiAtCXNwaW5fbG9ja19pcnFzYXZlKCZwYXItPmRp
cnR5LmxvY2ssIGZsYWdzKTsNCj4gLQlwYXItPmRpcnR5LmFjdGl2ZSA9IGZhbHNlOw0KPiAt
CXNwaW5fdW5sb2NrX2lycXJlc3RvcmUoJnBhci0+ZGlydHkubG9jaywgZmxhZ3MpOw0KPiAt
DQo+IC0JZmx1c2hfZGVsYXllZF93b3JrKCZpbmZvLT5kZWZlcnJlZF93b3JrKTsNCj4gLQlm
bHVzaF9kZWxheWVkX3dvcmsoJnBhci0+bG9jYWxfd29yayk7DQo+IC0NCj4gLQlyZXR1cm4g
MDsNCj4gLX0NCj4gLQ0KPiAtaW50IHZtd19mYl9vbihzdHJ1Y3Qgdm13X3ByaXZhdGUgKnZt
d19wcml2KQ0KPiAtew0KPiAtCXN0cnVjdCBmYl9pbmZvICppbmZvOw0KPiAtCXN0cnVjdCB2
bXdfZmJfcGFyICpwYXI7DQo+IC0JdW5zaWduZWQgbG9uZyBmbGFnczsNCj4gLQ0KPiAtCWlm
ICghdm13X3ByaXYtPmZiX2luZm8pDQo+IC0JCXJldHVybiAtRUlOVkFMOw0KPiAtDQo+IC0J
aW5mbyA9IHZtd19wcml2LT5mYl9pbmZvOw0KPiAtCXBhciA9IGluZm8tPnBhcjsNCj4gLQ0K
PiAtCXNwaW5fbG9ja19pcnFzYXZlKCZwYXItPmRpcnR5LmxvY2ssIGZsYWdzKTsNCj4gLQlw
YXItPmRpcnR5LmFjdGl2ZSA9IHRydWU7DQo+IC0Jc3Bpbl91bmxvY2tfaXJxcmVzdG9yZSgm
cGFyLT5kaXJ0eS5sb2NrLCBmbGFncyk7DQo+IC0NCj4gLQkvKg0KPiAtCSAqIE5lZWQgdG8g
cmVzY2hlZHVsZSBhIGRpcnR5IHVwZGF0ZSwgYmVjYXVzZSBvdGhlcndpc2UgdGhhdCdzDQo+
IC0JICogb25seSBkb25lIGluIGRpcnR5X21hcmsoKSBpZiB0aGUgcHJldmlvdXMgY29hbGVz
Y2VkDQo+IC0JICogZGlydHkgcmVnaW9uIHdhcyBlbXB0eS4NCj4gLQkgKi8NCj4gLQlzY2hl
ZHVsZV9kZWxheWVkX3dvcmsoJnBhci0+bG9jYWxfd29yaywgMCk7DQo+IC0NCj4gLQlyZXR1
cm4gMDsNCj4gLX0NCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13
Z2Z4X2ttcy5jIGIvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfa21zLmMNCj4gaW5k
ZXggZmY3OTY2OGFkMzM0Li4zNmU3ZGMzNzM2ZmUgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMv
Z3B1L2RybS92bXdnZngvdm13Z2Z4X2ttcy5jDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS92
bXdnZngvdm13Z2Z4X2ttcy5jDQo+IEBAIC0yMjAzLDYgKzIyMDMsOCBAQCBpbnQgdm13X2tt
c19pbml0KHN0cnVjdCB2bXdfcHJpdmF0ZSAqZGV2X3ByaXYpDQo+ICAgCWRldi0+bW9kZV9j
b25maWcubWluX2hlaWdodCA9IDE7DQo+ICAgCWRldi0+bW9kZV9jb25maWcubWF4X3dpZHRo
ID0gZGV2X3ByaXYtPnRleHR1cmVfbWF4X3dpZHRoOw0KPiAgIAlkZXYtPm1vZGVfY29uZmln
Lm1heF9oZWlnaHQgPSBkZXZfcHJpdi0+dGV4dHVyZV9tYXhfaGVpZ2h0Ow0KPiArCWRldi0+
bW9kZV9jb25maWcucHJlZmVycmVkX2RlcHRoID0gZGV2X3ByaXYtPmFzc3VtZV8xNmJwcCA/
IDE2IDogMzI7DQo+ICsJZGV2LT5tb2RlX2NvbmZpZy5wcmVmZXJfc2hhZG93X2ZiZGV2ID0g
IWRldl9wcml2LT5oYXNfbW9iOw0KPiAgIA0KPiAgIAlkcm1fbW9kZV9jcmVhdGVfc3VnZ2Vz
dGVkX29mZnNldF9wcm9wZXJ0aWVzKGRldik7DQo+ICAgCXZtd19rbXNfY3JlYXRlX2hvdHBs
dWdfbW9kZV91cGRhdGVfcHJvcGVydHkoZGV2X3ByaXYpOw0KPiBAQCAtMjM3Miw4ICsyMzc0
LDggQEAgc3RhdGljIGludCB2bXdfZHVfdXBkYXRlX2xheW91dChzdHJ1Y3Qgdm13X3ByaXZh
dGUgKmRldl9wcml2LA0KPiAgIAkJCWR1LT5ndWlfeCA9IHJlY3RzW2R1LT51bml0XS54MTsN
Cj4gICAJCQlkdS0+Z3VpX3kgPSByZWN0c1tkdS0+dW5pdF0ueTE7DQo+ICAgCQl9IGVsc2Ug
ew0KPiAtCQkJZHUtPnByZWZfd2lkdGggPSA4MDA7DQo+IC0JCQlkdS0+cHJlZl9oZWlnaHQg
PSA2MDA7DQo+ICsJCQlkdS0+cHJlZl93aWR0aCAgPSBWTVdHRlhfTUlOX0lOSVRJQUxfV0lE
VEg7DQo+ICsJCQlkdS0+cHJlZl9oZWlnaHQgPSBWTVdHRlhfTUlOX0lOSVRJQUxfSEVJR0hU
Ow0KPiAgIAkJCWR1LT5wcmVmX2FjdGl2ZSA9IGZhbHNlOw0KPiAgIAkJCWR1LT5ndWlfeCA9
IDA7DQo+ICAgCQkJZHUtPmd1aV95ID0gMDsNCj4gQEAgLTI0MDAsMTMgKzI0MDIsMTMgQEAg
c3RhdGljIGludCB2bXdfZHVfdXBkYXRlX2xheW91dChzdHJ1Y3Qgdm13X3ByaXZhdGUgKmRl
dl9wcml2LA0KPiAgIAkJfQ0KPiAgIAkJY29uLT5zdGF0dXMgPSB2bXdfZHVfY29ubmVjdG9y
X2RldGVjdChjb24sIHRydWUpOw0KPiAgIAl9DQo+IC0NCj4gLQlkcm1fc3lzZnNfaG90cGx1
Z19ldmVudChkZXYpOw0KPiAgIG91dF9maW5pOg0KPiAgIAlkcm1fbW9kZXNldF9kcm9wX2xv
Y2tzKCZjdHgpOw0KPiAgIAlkcm1fbW9kZXNldF9hY3F1aXJlX2ZpbmkoJmN0eCk7DQo+ICAg
CW11dGV4X3VubG9jaygmZGV2LT5tb2RlX2NvbmZpZy5tdXRleCk7DQo+ICAgDQo+ICsJZHJt
X3N5c2ZzX2hvdHBsdWdfZXZlbnQoZGV2KTsNCj4gKw0KPiAgIAlyZXR1cm4gMDsNCj4gICB9
DQo+ICAgDQo+IEBAIC0yNjg2LDEwICsyNjg4LDkgQEAgaW50IHZtd19rbXNfdXBkYXRlX2xh
eW91dF9pb2N0bChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB2b2lkICpkYXRhLA0KPiAgIAlp
bnQgcmV0LCBpOw0KPiAgIA0KPiAgIAlpZiAoIWFyZy0+bnVtX291dHB1dHMpIHsNCj4gLQkJ
c3RydWN0IGRybV9yZWN0IGRlZl9yZWN0ID0gezAsIDAsIDgwMCwgNjAwfTsNCj4gLQkJVk1X
X0RFQlVHX0tNUygiRGVmYXVsdCBsYXlvdXQgeDEgPSAlZCB5MSA9ICVkIHgyID0gJWQgeTIg
PSAlZFxuIiwNCj4gLQkJCSAgICAgIGRlZl9yZWN0LngxLCBkZWZfcmVjdC55MSwNCj4gLQkJ
CSAgICAgIGRlZl9yZWN0LngyLCBkZWZfcmVjdC55Mik7DQo+ICsJCXN0cnVjdCBkcm1fcmVj
dCBkZWZfcmVjdCA9IHswLCAwLA0KPiArCQkJCQkgICAgVk1XR0ZYX01JTl9JTklUSUFMX1dJ
RFRILA0KPiArCQkJCQkgICAgVk1XR0ZYX01JTl9JTklUSUFMX0hFSUdIVH07DQo+ICAgCQl2
bXdfZHVfdXBkYXRlX2xheW91dChkZXZfcHJpdiwgMSwgJmRlZl9yZWN0KTsNCj4gICAJCXJl
dHVybiAwOw0KPiAgIAl9DQo+IEBAIC0yOTg0LDY4ICsyOTg1LDYgQEAgaW50IHZtd19rbXNf
dXBkYXRlX3Byb3h5KHN0cnVjdCB2bXdfcmVzb3VyY2UgKnJlcywNCj4gICAJcmV0dXJuIDA7
DQo+ICAgfQ0KPiAgIA0KPiAtaW50IHZtd19rbXNfZmJkZXZfaW5pdF9kYXRhKHN0cnVjdCB2
bXdfcHJpdmF0ZSAqZGV2X3ByaXYsDQo+IC0JCQkgICAgdW5zaWduZWQgdW5pdCwNCj4gLQkJ
CSAgICB1MzIgbWF4X3dpZHRoLA0KPiAtCQkJICAgIHUzMiBtYXhfaGVpZ2h0LA0KPiAtCQkJ
ICAgIHN0cnVjdCBkcm1fY29ubmVjdG9yICoqcF9jb24sDQo+IC0JCQkgICAgc3RydWN0IGRy
bV9jcnRjICoqcF9jcnRjLA0KPiAtCQkJICAgIHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICoq
cF9tb2RlKQ0KPiAtew0KPiAtCXN0cnVjdCBkcm1fY29ubmVjdG9yICpjb247DQo+IC0Jc3Ry
dWN0IHZtd19kaXNwbGF5X3VuaXQgKmR1Ow0KPiAtCXN0cnVjdCBkcm1fZGlzcGxheV9tb2Rl
ICptb2RlOw0KPiAtCWludCBpID0gMDsNCj4gLQlpbnQgcmV0ID0gMDsNCj4gLQ0KPiAtCW11
dGV4X2xvY2soJmRldl9wcml2LT5kcm0ubW9kZV9jb25maWcubXV0ZXgpOw0KPiAtCWxpc3Rf
Zm9yX2VhY2hfZW50cnkoY29uLCAmZGV2X3ByaXYtPmRybS5tb2RlX2NvbmZpZy5jb25uZWN0
b3JfbGlzdCwNCj4gLQkJCSAgICBoZWFkKSB7DQo+IC0JCWlmIChpID09IHVuaXQpDQo+IC0J
CQlicmVhazsNCj4gLQ0KPiAtCQkrK2k7DQo+IC0JfQ0KPiAtDQo+IC0JaWYgKCZjb24tPmhl
YWQgPT0gJmRldl9wcml2LT5kcm0ubW9kZV9jb25maWcuY29ubmVjdG9yX2xpc3QpIHsNCj4g
LQkJRFJNX0VSUk9SKCJDb3VsZCBub3QgZmluZCBpbml0aWFsIGRpc3BsYXkgdW5pdC5cbiIp
Ow0KPiAtCQlyZXQgPSAtRUlOVkFMOw0KPiAtCQlnb3RvIG91dF91bmxvY2s7DQo+IC0JfQ0K
PiAtDQo+IC0JaWYgKGxpc3RfZW1wdHkoJmNvbi0+bW9kZXMpKQ0KPiAtCQkodm9pZCkgdm13
X2R1X2Nvbm5lY3Rvcl9maWxsX21vZGVzKGNvbiwgbWF4X3dpZHRoLCBtYXhfaGVpZ2h0KTsN
Cj4gLQ0KPiAtCWlmIChsaXN0X2VtcHR5KCZjb24tPm1vZGVzKSkgew0KPiAtCQlEUk1fRVJS
T1IoIkNvdWxkIG5vdCBmaW5kIGluaXRpYWwgZGlzcGxheSBtb2RlLlxuIik7DQo+IC0JCXJl
dCA9IC1FSU5WQUw7DQo+IC0JCWdvdG8gb3V0X3VubG9jazsNCj4gLQl9DQo+IC0NCj4gLQlk
dSA9IHZtd19jb25uZWN0b3JfdG9fZHUoY29uKTsNCj4gLQkqcF9jb24gPSBjb247DQo+IC0J
KnBfY3J0YyA9ICZkdS0+Y3J0YzsNCj4gLQ0KPiAtCWxpc3RfZm9yX2VhY2hfZW50cnkobW9k
ZSwgJmNvbi0+bW9kZXMsIGhlYWQpIHsNCj4gLQkJaWYgKG1vZGUtPnR5cGUgJiBEUk1fTU9E
RV9UWVBFX1BSRUZFUlJFRCkNCj4gLQkJCWJyZWFrOw0KPiAtCX0NCj4gLQ0KPiAtCWlmICgm
bW9kZS0+aGVhZCA9PSAmY29uLT5tb2Rlcykgew0KPiAtCQlXQVJOX09OQ0UodHJ1ZSwgIkNv
dWxkIG5vdCBmaW5kIGluaXRpYWwgcHJlZmVycmVkIG1vZGUuXG4iKTsNCj4gLQkJKnBfbW9k
ZSA9IGxpc3RfZmlyc3RfZW50cnkoJmNvbi0+bW9kZXMsDQo+IC0JCQkJCSAgIHN0cnVjdCBk
cm1fZGlzcGxheV9tb2RlLA0KPiAtCQkJCQkgICBoZWFkKTsNCj4gLQl9IGVsc2Ugew0KPiAt
CQkqcF9tb2RlID0gbW9kZTsNCj4gLQl9DQo+IC0NCj4gLSBvdXRfdW5sb2NrOg0KPiAtCW11
dGV4X3VubG9jaygmZGV2X3ByaXYtPmRybS5tb2RlX2NvbmZpZy5tdXRleCk7DQo+IC0NCj4g
LQlyZXR1cm4gcmV0Ow0KPiAtfQ0KPiAtDQo+ICAgLyoqDQo+ICAgICogdm13X2ttc19jcmVh
dGVfaW1wbGljaXRfcGxhY2VtZW50X3Byb3BlcnR5IC0gU2V0IHVwIHRoZSBpbXBsaWNpdCBw
bGFjZW1lbnQNCj4gICAgKiBwcm9wZXJ0eS4NCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS92bXdnZngvdm13Z2Z4X2ttcy5oIGIvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdn
Znhfa21zLmgNCj4gaW5kZXggMTNhMjY1ZmZkOWY4Li40ZDZlN2I1NTVkYjcgMTAwNjQ0DQo+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2ttcy5oDQo+ICsrKyBiL2Ry
aXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2ttcy5oDQo+IEBAIC00NjIsMTMgKzQ2Miw2
IEBAIHZtd19rbXNfbmV3X2ZyYW1lYnVmZmVyKHN0cnVjdCB2bXdfcHJpdmF0ZSAqZGV2X3By
aXYsDQo+ICAgCQkJc3RydWN0IHZtd19zdXJmYWNlICpzdXJmYWNlLA0KPiAgIAkJCWJvb2wg
b25seV8yZCwNCj4gICAJCQljb25zdCBzdHJ1Y3QgZHJtX21vZGVfZmJfY21kMiAqbW9kZV9j
bWQpOw0KPiAtaW50IHZtd19rbXNfZmJkZXZfaW5pdF9kYXRhKHN0cnVjdCB2bXdfcHJpdmF0
ZSAqZGV2X3ByaXYsDQo+IC0JCQkgICAgdW5zaWduZWQgdW5pdCwNCj4gLQkJCSAgICB1MzIg
bWF4X3dpZHRoLA0KPiAtCQkJICAgIHUzMiBtYXhfaGVpZ2h0LA0KPiAtCQkJICAgIHN0cnVj
dCBkcm1fY29ubmVjdG9yICoqcF9jb24sDQo+IC0JCQkgICAgc3RydWN0IGRybV9jcnRjICoq
cF9jcnRjLA0KPiAtCQkJICAgIHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICoqcF9tb2RlKTsN
Cj4gICB2b2lkIHZtd19ndWVzc19tb2RlX3RpbWluZyhzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9k
ZSAqbW9kZSk7DQo+ICAgdm9pZCB2bXdfa21zX3VwZGF0ZV9pbXBsaWNpdF9mYihzdHJ1Y3Qg
dm13X3ByaXZhdGUgKmRldl9wcml2KTsNCj4gICB2b2lkIHZtd19rbXNfY3JlYXRlX2ltcGxp
Y2l0X3BsYWNlbWVudF9wcm9wZXJ0eShzdHJ1Y3Qgdm13X3ByaXZhdGUgKmRldl9wcml2KTsN
Cg0KLS0gDQpUaG9tYXMgWmltbWVybWFubg0KR3JhcGhpY3MgRHJpdmVyIERldmVsb3Blcg0K
U1VTRSBTb2Z0d2FyZSBTb2x1dGlvbnMgR2VybWFueSBHbWJIDQpNYXhmZWxkc3RyLiA1LCA5
MDQwOSBOw7xybmJlcmcsIEdlcm1hbnkNCihIUkIgMzY4MDksIEFHIE7DvHJuYmVyZykNCkdl
c2Now6RmdHNmw7xocmVyOiBJdm8gVG90ZXYNCg==

--------------9mrzMwZBFVCI4mp0HHN35W0Q--

--------------pRhA8l16oEoXK1kGf65GVBtj
Content-Type: application/pgp-signature; name="OpenPGP_signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="OpenPGP_signature"

-----BEGIN PGP SIGNATURE-----

wsF5BAABCAAjFiEExndm/fpuMUdwYFFolh/E3EQov+AFAmNSQ8oFAwAAAAAACgkQlh/E3EQov+Ca
Bw/7BQIFdayV+NypiU9g7QQbmrj48MES9+gtmwlEcF7zL6kfjPhZBefVzX4Dzs2Pb/6o5IqDGdzt
D0/Sk0MWqm6ExZkbsnqKNmxl4uydDZYj7LbvvOERGjuK0Vz0EA2uOyh3h4ExTD14giRhsAjgxa5Q
BcHBOZVeLmLe85tEAg67x8EZJ7g2C9+55qm1BmfLWcPmSkJ43jySMVUxsknvfBcPp/5mcZAjAK9M
gru6h8Bs1HHkcKqe6vgDDRQXWoLhaXn3HG3Hd3yB+xt/M71M2FAtxcQxutzSeqH1+SNargwGa2XN
Tqio7FILn2DuuUoVKB9/iyURX0gnijSNDBu/gBdOVGN7hMIq0w9ry3mqsxwLdml+ljHCLZG/BKWS
sxvYGcWxw0PoDp1KxknCshZZh0HVQnEtk8BghtnPfyjv3OnO2K+IsJ5OR+DM9BzBP/qO2rKQ/njK
XbhWUwTwRHvsw65z0X+yuOnWFbkKk+rTIfTFx/x00e2k+f9BB8B0ZKsg5Ylhj0UfEYm+a6Sav8wR
ZZ49mCoKFC6CSJovUk7p9Uv/gQ3QE58H3hX3aIBCESDtAoGWYc64vhduztUA9qfqw83kR1UWcza8
xVVO6NBq7DAFM34uhl/HwV1zMr12Ecc4rg2dDfTMGAFtAZKN+c66Lw+8OJ4im5khrVYfDf8aaJrA
gP4=
=b9q0
-----END PGP SIGNATURE-----

--------------pRhA8l16oEoXK1kGf65GVBtj--
