Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 0E1AC241B30
	for <lists+dri-devel@lfdr.de>; Tue, 11 Aug 2020 14:52:48 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0661B6E151;
	Tue, 11 Aug 2020 12:52:44 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ed1-x542.google.com (mail-ed1-x542.google.com
 [IPv6:2a00:1450:4864:20::542])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E70026E151
 for <dri-devel@lists.freedesktop.org>; Tue, 11 Aug 2020 12:52:42 +0000 (UTC)
Received: by mail-ed1-x542.google.com with SMTP id di22so8964612edb.12
 for <dri-devel@lists.freedesktop.org>; Tue, 11 Aug 2020 05:52:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=subject:from:to:references:message-id:date:user-agent:mime-version
 :in-reply-to:content-transfer-encoding:content-language;
 bh=m+wubJLjyxsVJaSMmB0ZDWWlETQbJuKhHb308F5+tQQ=;
 b=KpGfaTCTd8d82TvA7ytAvJsG4qKNMwTfJ46qUyd7jpbBh61L9ZebskVRcww1sE0r9b
 V4fwcLFo59CD1CIlgsMw9JBXgqiVYvG/JCZciol3bfkJLVOqkAn6EFloxLK7nykaOjHv
 PxRyCW1RG7MkabrV7JR6C41hsjIKVp3pxVn/z6H1XI+FFWenVP6TCcHurkQ/4hNffYF6
 JurWZjCp6AztQhPF6haObNDbWsTZtfinf9sIR8jJEKJkuPR0Pq0zdCJ85PwDNJvNP/p7
 FfGubMUTHomKqXFazrunWeWZbkFeObAyc0A03VsmtpYl/nQJMYwUTJ9vlqjky/P11Ks/
 yTug==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:subject:from:to:references:message-id:date
 :user-agent:mime-version:in-reply-to:content-transfer-encoding
 :content-language;
 bh=m+wubJLjyxsVJaSMmB0ZDWWlETQbJuKhHb308F5+tQQ=;
 b=hvLFs5vKx+f7Dvle4JBmHEboXOkc26KGuhaTQKLrEfF5Z789W6RUc7o5sC3wKpoZH1
 VNeJAZDErMT3oBuISuMnv7Jvx67KE2HnqRmj1LzVuv3hH98WApgz3js82p8AhF0in6Px
 GpzdL2LNCqMEZhS+qay2fF1N1zt76jvmLydmw1NzdiYKcResd+e8mdoh9agtr6ulRvwp
 J6mVehukkmx+2J+hwSe2LP4x2egf+V7URi2O1WmWeNkzdXTFEfIJNIwDvyt6gVd5b5vS
 rBoNC9D65viaeDZNx4weE4iz/1Ab7yzQOz6K6qJ3luI+rifAJgAcTNebr8qO+VkuMxi3
 POmg==
X-Gm-Message-State: AOAM532IRw2+TaYUY6IAtGHsnlHTKy7Ut7k3YQePrSgxIdMRb5NmmxJj
 oaPgW5rX7d1wczbMILlryophS7Dn
X-Google-Smtp-Source: ABdhPJwXniuc8gmNUw+Dd7Y7kfo8fs9UHiZjXgWPxlScBTvlrD8SjkMqh8u9LVjpbw6/5brdcdbUtQ==
X-Received: by 2002:aa7:d654:: with SMTP id v20mr26205440edr.314.1597150361448; 
 Tue, 11 Aug 2020 05:52:41 -0700 (PDT)
Received: from ?IPv6:2a02:908:1252:fb60:be8a:bd56:1f94:86e7?
 ([2a02:908:1252:fb60:be8a:bd56:1f94:86e7])
 by smtp.gmail.com with ESMTPSA id rs5sm14801998ejb.44.2020.08.11.05.52.39
 (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
 Tue, 11 Aug 2020 05:52:40 -0700 (PDT)
Subject: Re: [PATCH] drm/ttm: revert "make TT creation purely optional v3"
From: =?UTF-8?Q?Christian_K=c3=b6nig?= <ckoenig.leichtzumerken@gmail.com>
To: dri-devel@lists.freedesktop.org, "Daenzer, Michel" <Michel.Daenzer@amd.com>
References: <20200811092400.188124-1-christian.koenig@amd.com>
Message-ID: <bbeaca4b-189d-c4dd-6d3a-e1489d6b0e4f@gmail.com>
Date: Tue, 11 Aug 2020 14:52:37 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101
 Thunderbird/68.10.0
MIME-Version: 1.0
In-Reply-To: <20200811092400.188124-1-christian.koenig@amd.com>
Content-Language: en-US
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QW0gMTEuMDguMjAgdW0gMTE6MjQgc2NocmllYiBDaHJpc3RpYW4gS8O2bmlnOgo+IFRoaXMgcmV2
ZXJ0cyBjb21taXQgMmRkZWYxNzY3OGJjMmVhMWQyMDUxN2RkMmI0ZWQ0YWE5NjdmZmE4Yi4KPgo+
IEFzIGl0IHR1cm5lZCBvdXQgVk1XR0ZYIG5lZWRzIGEgbXVjaCB3aWRlciBhdWRpdCB0byBmaXgg
dGhpcy4KPgo+IFNpZ25lZC1vZmYtYnk6IENocmlzdGlhbiBLw7ZuaWcgPGNocmlzdGlhbi5rb2Vu
aWdAYW1kLmNvbT4KCkRhcmUgdG8gZ2l2ZSBtZSBhbiByYiBmb3IgdGhpcz8gSSBhbHJlYWR5IHRl
c3RlZCBvbiBhbWRncHUgYW5kIGl0IHNob3VsZCAKYmUgZml4aW5nIHRoZSBWTVdHRlggcHJvYmxl
bXMgd2UgY3VycmVudGx5IGhhdmUuCgpUaGFua3MsCkNocmlzdGlhbi4KCj4gLS0tCj4gICBkcml2
ZXJzL2dwdS9kcm0vdHRtL3R0bV9iby5jICAgICAgfCAxOSArKysrKysrKysrKysrKysrLS0tCj4g
ICBkcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9ib191dGlsLmMgfCAgNyArKy0tLS0tCj4gICBkcml2
ZXJzL2dwdS9kcm0vdHRtL3R0bV9ib192bS5jICAgfCAgNSAtLS0tLQo+ICAgZHJpdmVycy9ncHUv
ZHJtL3R0bS90dG1fdHQuYyAgICAgIHwgIDEgKwo+ICAgNCBmaWxlcyBjaGFuZ2VkLCAxOSBpbnNl
cnRpb25zKCspLCAxMyBkZWxldGlvbnMoLSkKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vdHRtL3R0bV9iby5jIGIvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm8uYwo+IGluZGV4IGFk
MDkzMjliNjJkMy4uNDIzODZiZGEzMmZlIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS90
dG0vdHRtX2JvLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9iby5jCj4gQEAgLTY1
Niw3ICs2NTYsNyBAQCBzdGF0aWMgaW50IHR0bV9ib19ldmljdChzdHJ1Y3QgdHRtX2J1ZmZlcl9v
YmplY3QgKmJvLAo+ICAgCQl0dG1fYm9fd2FpdChibywgZmFsc2UsIGZhbHNlKTsKPiAgIAo+ICAg
CQl0dG1fYm9fY2xlYW51cF9tZW10eXBlX3VzZShibyk7Cj4gLQkJcmV0dXJuIDA7Cj4gKwkJcmV0
dXJuIHR0bV90dF9jcmVhdGUoYm8sIGZhbHNlKTsKPiAgIAl9Cj4gICAKPiAgIAlldmljdF9tZW0g
PSBiby0+bWVtOwo+IEBAIC0xMTkxLDggKzExOTEsMTMgQEAgaW50IHR0bV9ib192YWxpZGF0ZShz
dHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+ICAgCS8qCj4gICAJICogUmVtb3ZlIHRoZSBi
YWNraW5nIHN0b3JlIGlmIG5vIHBsYWNlbWVudCBpcyBnaXZlbi4KPiAgIAkgKi8KPiAtCWlmICgh
cGxhY2VtZW50LT5udW1fcGxhY2VtZW50ICYmICFwbGFjZW1lbnQtPm51bV9idXN5X3BsYWNlbWVu
dCkKPiAtCQlyZXR1cm4gdHRtX2JvX3BpcGVsaW5lX2d1dHRpbmcoYm8pOwo+ICsJaWYgKCFwbGFj
ZW1lbnQtPm51bV9wbGFjZW1lbnQgJiYgIXBsYWNlbWVudC0+bnVtX2J1c3lfcGxhY2VtZW50KSB7
Cj4gKwkJcmV0ID0gdHRtX2JvX3BpcGVsaW5lX2d1dHRpbmcoYm8pOwo+ICsJCWlmIChyZXQpCj4g
KwkJCXJldHVybiByZXQ7Cj4gKwo+ICsJCXJldHVybiB0dG1fdHRfY3JlYXRlKGJvLCBmYWxzZSk7
Cj4gKwl9Cj4gICAKPiAgIAkvKgo+ICAgCSAqIENoZWNrIHdoZXRoZXIgd2UgbmVlZCB0byBtb3Zl
IGJ1ZmZlci4KPiBAQCAtMTIwOSw2ICsxMjE0LDE0IEBAIGludCB0dG1fYm9fdmFsaWRhdGUoc3Ry
dWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAgIAkJdHRtX2ZsYWdfbWFza2VkKCZiby0+bWVt
LnBsYWNlbWVudCwgbmV3X2ZsYWdzLAo+ICAgCQkJCX5UVE1fUExfTUFTS19NRU1UWVBFKTsKPiAg
IAl9Cj4gKwkvKgo+ICsJICogV2UgbWlnaHQgbmVlZCB0byBhZGQgYSBUVE0uCj4gKwkgKi8KPiAr
CWlmIChiby0+bWVtLm1lbV90eXBlID09IFRUTV9QTF9TWVNURU0gJiYgYm8tPnR0bSA9PSBOVUxM
KSB7Cj4gKwkJcmV0ID0gdHRtX3R0X2NyZWF0ZShibywgdHJ1ZSk7Cj4gKwkJaWYgKHJldCkKPiAr
CQkJcmV0dXJuIHJldDsKPiArCX0KPiAgIAlyZXR1cm4gMDsKPiAgIH0KPiAgIEVYUE9SVF9TWU1C
T0wodHRtX2JvX3ZhbGlkYXRlKTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3R0bS90
dG1fYm9fdXRpbC5jIGIvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm9fdXRpbC5jCj4gaW5kZXgg
NDk2MTU4YWNkNWI5Li43NjM3NmRjNzFmMjUgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L3R0bS90dG1fYm9fdXRpbC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm9fdXRp
bC5jCj4gQEAgLTUzMSwxNSArNTMxLDEyIEBAIHN0YXRpYyBpbnQgdHRtX2JvX2ttYXBfdHRtKHN0
cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCj4gICAJCS5pbnRlcnJ1cHRpYmxlID0gZmFsc2Us
Cj4gICAJCS5ub193YWl0X2dwdSA9IGZhbHNlCj4gICAJfTsKPiAtCXN0cnVjdCB0dG1fdHQgKnR0
bTsKPiArCXN0cnVjdCB0dG1fdHQgKnR0bSA9IGJvLT50dG07Cj4gICAJcGdwcm90X3QgcHJvdDsK
PiAgIAlpbnQgcmV0Owo+ICAgCj4gLQlyZXQgPSB0dG1fdHRfY3JlYXRlKGJvLCB0cnVlKTsKPiAt
CWlmIChyZXQpCj4gLQkJcmV0dXJuIHJldDsKPiArCUJVR19PTighdHRtKTsKPiAgIAo+IC0JdHRt
ID0gYm8tPnR0bTsKPiAgIAlyZXQgPSB0dG1fdHRfcG9wdWxhdGUodHRtLCAmY3R4KTsKPiAgIAlp
ZiAocmV0KQo+ICAgCQlyZXR1cm4gcmV0Owo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
dHRtL3R0bV9ib192bS5jIGIvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm9fdm0uYwo+IGluZGV4
IGJhMmU4YmQxOThhZC4uZTkwYzVjODA2NjQ1IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS90dG0vdHRtX2JvX3ZtLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9ib192bS5j
Cj4gQEAgLTM0NywxMSArMzQ3LDYgQEAgdm1fZmF1bHRfdCB0dG1fYm9fdm1fZmF1bHRfcmVzZXJ2
ZWQoc3RydWN0IHZtX2ZhdWx0ICp2bWYsCj4gICAKPiAgIAkJfTsKPiAgIAo+IC0JCWlmICh0dG1f
dHRfY3JlYXRlKGJvLCB0cnVlKSkgewo+IC0JCQlyZXQgPSBWTV9GQVVMVF9PT007Cj4gLQkJCWdv
dG8gb3V0X2lvX3VubG9jazsKPiAtCQl9Cj4gLQo+ICAgCQl0dG0gPSBiby0+dHRtOwo+ICAgCQlp
ZiAodHRtX3R0X3BvcHVsYXRlKGJvLT50dG0sICZjdHgpKSB7Cj4gICAJCQlyZXQgPSBWTV9GQVVM
VF9PT007Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX3R0LmMgYi9kcml2
ZXJzL2dwdS9kcm0vdHRtL3R0bV90dC5jCj4gaW5kZXggYmRkNjE2OWNlZjEzLi4wNWM5MTQ3YWM2
ZDMgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fdHQuYwo+ICsrKyBiL2Ry
aXZlcnMvZ3B1L2RybS90dG0vdHRtX3R0LmMKPiBAQCAtNzAsNiArNzAsNyBAQCBpbnQgdHRtX3R0
X2NyZWF0ZShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLCBib29sIHplcm9fYWxsb2MpCj4g
ICAJCXBhZ2VfZmxhZ3MgfD0gVFRNX1BBR0VfRkxBR19TRzsKPiAgIAkJYnJlYWs7Cj4gICAJZGVm
YXVsdDoKPiArCQliby0+dHRtID0gTlVMTDsKPiAgIAkJcHJfZXJyKCJJbGxlZ2FsIGJ1ZmZlciBv
YmplY3QgdHlwZVxuIik7Cj4gICAJCXJldHVybiAtRUlOVkFMOwo+ICAgCX0KCl9fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxp
c3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNr
dG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbAo=
