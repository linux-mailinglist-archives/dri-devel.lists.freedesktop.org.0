Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id A0038191AA5
	for <lists+dri-devel@lfdr.de>; Tue, 24 Mar 2020 21:12:08 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B445B6E52A;
	Tue, 24 Mar 2020 20:12:04 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from pio-pvt-msa2.bahnhof.se (pio-pvt-msa2.bahnhof.se [79.136.2.41])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2DC166E0C1
 for <dri-devel@lists.freedesktop.org>; Tue, 24 Mar 2020 20:11:56 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by pio-pvt-msa2.bahnhof.se (Postfix) with ESMTP id D3A8D3F536;
 Tue, 24 Mar 2020 21:11:54 +0100 (CET)
Authentication-Results: pio-pvt-msa2.bahnhof.se; dkim=pass (1024-bit key;
 unprotected) header.d=shipmail.org header.i=@shipmail.org header.b=UXaZT4Ng; 
 dkim-atps=neutral
X-Virus-Scanned: Debian amavisd-new at bahnhof.se
X-Spam-Flag: NO
X-Spam-Score: -2.099
X-Spam-Level: 
X-Spam-Status: No, score=-2.099 tagged_above=-999 required=6.31
 tests=[BAYES_00=-1.9, DKIM_SIGNED=0.1, DKIM_VALID=-0.1,
 DKIM_VALID_AU=-0.1, DKIM_VALID_EF=-0.1, URIBL_BLOCKED=0.001]
 autolearn=ham autolearn_force=no
Received: from pio-pvt-msa2.bahnhof.se ([127.0.0.1])
 by localhost (pio-pvt-msa2.bahnhof.se [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id UyU8KE-v4raw; Tue, 24 Mar 2020 21:11:54 +0100 (CET)
Received: from mail1.shipmail.org (h-205-35.A357.priv.bahnhof.se
 [155.4.205.35]) (Authenticated sender: mb878879)
 by pio-pvt-msa2.bahnhof.se (Postfix) with ESMTPA id D08663F504;
 Tue, 24 Mar 2020 21:11:53 +0100 (CET)
Received: from localhost.localdomain.localdomain
 (h-205-35.A357.priv.bahnhof.se [155.4.205.35])
 by mail1.shipmail.org (Postfix) with ESMTPSA id 125E53602F7;
 Tue, 24 Mar 2020 21:11:50 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=shipmail.org; s=mail;
 t=1585080713; bh=s6tW6TzTRDqk1pyEiPM79u3Koqj++KSaVgfqGos4qUo=;
 h=From:To:Cc:Subject:Date:In-Reply-To:References:From;
 b=UXaZT4Ng7Y8pDjUU/wKSKcDBclxIXsgXfwdiHaP5CIWhy7YcxiCF3p5Qv4W1jNAyr
 4smPqph4vrg8JSPEioybRIFBUl5omct2tKriR3D48Y7t0CxIAOO99nedH1Sh9YVkMp
 RJuWvsNmcCbIe/Sud5F+alrNg9y6Tqe17wPiwzNg=
From: =?UTF-8?q?Thomas=20Hellstr=C3=B6m=20=28VMware=29?=
 <thomas_os@shipmail.org>
To: linux-mm@kvack.org, dri-devel@lists.freedesktop.org,
 linux-kernel@vger.kernel.org
Subject: [PATCH v7 7/9] drm: Add a drm_get_unmapped_area() helper
Date: Tue, 24 Mar 2020 21:11:21 +0100
Message-Id: <20200324201123.3118-8-thomas_os@shipmail.org>
X-Mailer: git-send-email 2.21.1
In-Reply-To: <20200324201123.3118-1-thomas_os@shipmail.org>
References: <20200324201123.3118-1-thomas_os@shipmail.org>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Ralph Campbell <rcampbell@nvidia.com>, Michal Hocko <mhocko@suse.com>,
 pv-drivers@vmware.com, Roland Scheidegger <sroland@vmware.com>,
 "Thomas Hellstrom \(VMware\)" <thomas_os@shipmail.org>,
 Dan Williams <dan.j.williams@intel.com>,
 "Matthew Wilcox \(Oracle\)" <willy@infradead.org>,
 =?UTF-8?q?J=C3=A9r=C3=B4me=20Glisse?= <jglisse@redhat.com>,
 linux-graphics-maintainer@vmware.com,
 Andrew Morton <akpm@linux-foundation.org>,
 =?UTF-8?q?Christian=20K=C3=B6nig?= <christian.koenig@amd.com>,
 "Kirill A. Shutemov" <kirill.shutemov@linux.intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogIlRob21hcyBIZWxsc3Ryb20gKFZNd2FyZSkiIDx0aG9tYXNfb3NAc2hpcG1haWwub3Jn
PgoKVW5hbGlnbmVkIHZpcnR1YWwgYWRkcmVzc2VzIG1ha2VzIGl0IHVubGlrZWx5IHRoYXQgaHVn
ZSBwYWdlLXRhYmxlIGVudHJpZXMKY2FuIGJlIHVzZWQuClNvIGFsaWduIHZpcnR1YWwgYnVmZmVy
IG9iamVjdCBhZGRyZXNzIGh1Z2UgcGFnZSBib3VuZGFyaWVzIHRvIHRoZQp1bmRlcmx5aW5nIHBo
eXNpY2FsIGFkZHJlc3MgaHVnZSBwYWdlIGJvdW5kYXJpZXMgdGFraW5nIGJ1ZmZlciBvYmplY3QK
c2l6ZXMgaW50byBhY2NvdW50IHRvIGRldGVybWluZSB3aGVuIGl0IG1pZ2h0IGJlIHBvc3NpYmxl
IHRvIHVzZSBodWdlCnBhZ2UtdGFibGUgZW50cmllcy4KCkNjOiBBbmRyZXcgTW9ydG9uIDxha3Bt
QGxpbnV4LWZvdW5kYXRpb24ub3JnPgpDYzogTWljaGFsIEhvY2tvIDxtaG9ja29Ac3VzZS5jb20+
CkNjOiAiTWF0dGhldyBXaWxjb3ggKE9yYWNsZSkiIDx3aWxseUBpbmZyYWRlYWQub3JnPgpDYzog
IktpcmlsbCBBLiBTaHV0ZW1vdiIgPGtpcmlsbC5zaHV0ZW1vdkBsaW51eC5pbnRlbC5jb20+CkNj
OiBSYWxwaCBDYW1wYmVsbCA8cmNhbXBiZWxsQG52aWRpYS5jb20+CkNjOiAiSsOpcsO0bWUgR2xp
c3NlIiA8amdsaXNzZUByZWRoYXQuY29tPgpDYzogIkNocmlzdGlhbiBLw7ZuaWciIDxjaHJpc3Rp
YW4ua29lbmlnQGFtZC5jb20+CkNjOiBEYW4gV2lsbGlhbXMgPGRhbi5qLndpbGxpYW1zQGludGVs
LmNvbT4KU2lnbmVkLW9mZi1ieTogVGhvbWFzIEhlbGxzdHJvbSAoVk13YXJlKSA8dGhvbWFzX29z
QHNoaXBtYWlsLm9yZz4KUmV2aWV3ZWQtYnk6IFJvbGFuZCBTY2hlaWRlZ2dlciA8c3JvbGFuZEB2
bXdhcmUuY29tPgpBY2tlZC1ieTogQ2hyaXN0aWFuIEvDtm5pZyA8Y2hyaXN0aWFuLmtvZW5pZ0Bh
bWQuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9kcm1fZmlsZS5jIHwgMTQwICsrKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysKIGluY2x1ZGUvZHJtL2RybV9maWxlLmggICAgIHwg
ICA5ICsrKwogMiBmaWxlcyBjaGFuZ2VkLCAxNDkgaW5zZXJ0aW9ucygrKQoKZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9kcm1fZmlsZS5jIGIvZHJpdmVycy9ncHUvZHJtL2RybV9maWxlLmMK
aW5kZXggYzRjNzA0ZTAxOTYxLi5kMWZjYjBjNjE2MjIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9kcm1fZmlsZS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fZmlsZS5jCkBAIC00OCw2
ICs0OCwxMSBAQAogI2luY2x1ZGUgImRybV9pbnRlcm5hbC5oIgogI2luY2x1ZGUgImRybV9sZWdh
Y3kuaCIKIAorI2lmIGRlZmluZWQoQ09ORklHX01NVSkgJiYgZGVmaW5lZChDT05GSUdfVFJBTlNQ
QVJFTlRfSFVHRVBBR0UpCisjaW5jbHVkZSA8dWFwaS9hc20vbW1hbi5oPgorI2luY2x1ZGUgPGRy
bS9kcm1fdm1hX21hbmFnZXIuaD4KKyNlbmRpZgorCiAvKiBmcm9tIEJLTCBwdXNoZG93biAqLwog
REVGSU5FX01VVEVYKGRybV9nbG9iYWxfbXV0ZXgpOwogCkBAIC04NzIsMyArODc3LDEzOCBAQCBz
dHJ1Y3QgZmlsZSAqbW9ja19kcm1fZ2V0ZmlsZShzdHJ1Y3QgZHJtX21pbm9yICptaW5vciwgdW5z
aWduZWQgaW50IGZsYWdzKQogCXJldHVybiBmaWxlOwogfQogRVhQT1JUX1NZTUJPTF9GT1JfVEVT
VFNfT05MWShtb2NrX2RybV9nZXRmaWxlKTsKKworI2lmZGVmIENPTkZJR19NTVUKKyNpZmRlZiBD
T05GSUdfVFJBTlNQQVJFTlRfSFVHRVBBR0UKKy8qCisgKiBkcm1fYWRkcl9pbmZsYXRlKCkgYXR0
ZW1wdHMgdG8gY29uc3RydWN0IGFuIGFsaWduZWQgYXJlYSBieSBpbmZsYXRpbmcKKyAqIHRoZSBh
cmVhIHNpemUgYW5kIHNraXBwaW5nIHRoZSB1bmFsaWduZWQgc3RhcnQgb2YgdGhlIGFyZWEuCisg
KiBhZGFwdGVkIGZyb20gc2htZW1fZ2V0X3VubWFwcGVkX2FyZWEoKQorICovCitzdGF0aWMgdW5z
aWduZWQgbG9uZyBkcm1fYWRkcl9pbmZsYXRlKHVuc2lnbmVkIGxvbmcgYWRkciwKKwkJCQkgICAg
ICB1bnNpZ25lZCBsb25nIGxlbiwKKwkJCQkgICAgICB1bnNpZ25lZCBsb25nIHBnb2ZmLAorCQkJ
CSAgICAgIHVuc2lnbmVkIGxvbmcgZmxhZ3MsCisJCQkJICAgICAgdW5zaWduZWQgbG9uZyBodWdl
X3NpemUpCit7CisJdW5zaWduZWQgbG9uZyBvZmZzZXQsIGluZmxhdGVkX2xlbjsKKwl1bnNpZ25l
ZCBsb25nIGluZmxhdGVkX2FkZHI7CisJdW5zaWduZWQgbG9uZyBpbmZsYXRlZF9vZmZzZXQ7CisK
KwlvZmZzZXQgPSAocGdvZmYgPDwgUEFHRV9TSElGVCkgJiAoaHVnZV9zaXplIC0gMSk7CisJaWYg
KG9mZnNldCAmJiBvZmZzZXQgKyBsZW4gPCAyICogaHVnZV9zaXplKQorCQlyZXR1cm4gYWRkcjsK
KwlpZiAoKGFkZHIgJiAoaHVnZV9zaXplIC0gMSkpID09IG9mZnNldCkKKwkJcmV0dXJuIGFkZHI7
CisKKwlpbmZsYXRlZF9sZW4gPSBsZW4gKyBodWdlX3NpemUgLSBQQUdFX1NJWkU7CisJaWYgKGlu
ZmxhdGVkX2xlbiA+IFRBU0tfU0laRSkKKwkJcmV0dXJuIGFkZHI7CisJaWYgKGluZmxhdGVkX2xl
biA8IGxlbikKKwkJcmV0dXJuIGFkZHI7CisKKwlpbmZsYXRlZF9hZGRyID0gY3VycmVudC0+bW0t
PmdldF91bm1hcHBlZF9hcmVhKE5VTEwsIDAsIGluZmxhdGVkX2xlbiwKKwkJCQkJCSAgICAgICAw
LCBmbGFncyk7CisJaWYgKElTX0VSUl9WQUxVRShpbmZsYXRlZF9hZGRyKSkKKwkJcmV0dXJuIGFk
ZHI7CisJaWYgKGluZmxhdGVkX2FkZHIgJiB+UEFHRV9NQVNLKQorCQlyZXR1cm4gYWRkcjsKKwor
CWluZmxhdGVkX29mZnNldCA9IGluZmxhdGVkX2FkZHIgJiAoaHVnZV9zaXplIC0gMSk7CisJaW5m
bGF0ZWRfYWRkciArPSBvZmZzZXQgLSBpbmZsYXRlZF9vZmZzZXQ7CisJaWYgKGluZmxhdGVkX29m
ZnNldCA+IG9mZnNldCkKKwkJaW5mbGF0ZWRfYWRkciArPSBodWdlX3NpemU7CisKKwlpZiAoaW5m
bGF0ZWRfYWRkciA+IFRBU0tfU0laRSAtIGxlbikKKwkJcmV0dXJuIGFkZHI7CisKKwlyZXR1cm4g
aW5mbGF0ZWRfYWRkcjsKK30KKworLyoqCisgKiBkcm1fZ2V0X3VubWFwcGVkX2FyZWEoKSAtIEdl
dCBhbiB1bnVzZWQgdXNlci1zcGFjZSB2aXJ0dWFsIG1lbW9yeSBhcmVhCisgKiBzdWl0YWJsZSBm
b3IgaHVnZSBwYWdlIHRhYmxlIGVudHJpZXMuCisgKiBAZmlsZTogVGhlIHN0cnVjdCBmaWxlIHJl
cHJlc2VudGluZyB0aGUgYWRkcmVzcyBzcGFjZSBiZWluZyBtbWFwKCknZC4KKyAqIEB1YWRkcjog
U3RhcnQgYWRkcmVzcyBzdWdnZXN0ZWQgYnkgdXNlci1zcGFjZS4KKyAqIEBsZW46IExlbmd0aCBv
ZiB0aGUgYXJlYS4KKyAqIEBwZ29mZjogVGhlIHBhZ2Ugb2Zmc2V0IGludG8gdGhlIGFkZHJlc3Mg
c3BhY2UuCisgKiBAZmxhZ3M6IG1tYXAgZmxhZ3MKKyAqIEBtZ3I6IFRoZSBhZGRyZXNzIHNwYWNl
IG1hbmFnZXIgdXNlZCBieSB0aGUgZHJtIGRyaXZlci4gVGhpcyBhcmd1bWVudCBjYW4KKyAqIHBy
b2JhYmx5IGJlIHJlbW92ZWQgYXQgc29tZSBwb2ludCB3aGVuIGFsbCBkcml2ZXJzIHVzZSB0aGUg
c2FtZQorICogYWRkcmVzcyBzcGFjZSBtYW5hZ2VyLgorICoKKyAqIFRoaXMgZnVuY3Rpb24gYXR0
ZW1wdHMgdG8gZmluZCBhbiB1bnVzZWQgdXNlci1zcGFjZSB2aXJ0dWFsIG1lbW9yeSBhcmVhCisg
KiB0aGF0IGNhbiBhY2NvbW1vZGF0ZSB0aGUgc2l6ZSB3ZSB3YW50IHRvIG1hcCwgYW5kIHRoYXQg
aXMgcHJvcGVybHkKKyAqIGFsaWduZWQgdG8gZmFjaWxpdGF0ZSBodWdlIHBhZ2UgdGFibGUgZW50
cmllcyBtYXRjaGluZyBhY3R1YWwKKyAqIGh1Z2UgcGFnZXMgb3IgaHVnZSBwYWdlIGFsaWduZWQg
bWVtb3J5IGluIGJ1ZmZlciBvYmplY3RzLiBCdWZmZXIgb2JqZWN0cworICogYXJlIGFzc3VtZWQg
dG8gc3RhcnQgYXQgaHVnZSBwYWdlIGJvdW5kYXJ5IHBmbnMgKGlvIG1lbW9yeSkgb3IgYmUKKyAq
IHBvcHVsYXRlZCBieSBodWdlIHBhZ2VzIGFsaWduZWQgdG8gdGhlIHN0YXJ0IG9mIHRoZSBidWZm
ZXIgb2JqZWN0CisgKiAoc3lzdGVtLSBvciBjb2hlcmVudCBtZW1vcnkpLiBBZGFwdGVkIGZyb20g
c2htZW1fZ2V0X3VubWFwcGVkX2FyZWEuCisgKgorICogUmV0dXJuOiBhbGlnbmVkIHVzZXItc3Bh
Y2UgYWRkcmVzcy4KKyAqLwordW5zaWduZWQgbG9uZyBkcm1fZ2V0X3VubWFwcGVkX2FyZWEoc3Ry
dWN0IGZpbGUgKmZpbGUsCisJCQkJICAgIHVuc2lnbmVkIGxvbmcgdWFkZHIsIHVuc2lnbmVkIGxv
bmcgbGVuLAorCQkJCSAgICB1bnNpZ25lZCBsb25nIHBnb2ZmLCB1bnNpZ25lZCBsb25nIGZsYWdz
LAorCQkJCSAgICBzdHJ1Y3QgZHJtX3ZtYV9vZmZzZXRfbWFuYWdlciAqbWdyKQoreworCXVuc2ln
bmVkIGxvbmcgYWRkcjsKKwl1bnNpZ25lZCBsb25nIGluZmxhdGVkX2FkZHI7CisJc3RydWN0IGRy
bV92bWFfb2Zmc2V0X25vZGUgKm5vZGU7CisKKwlpZiAobGVuID4gVEFTS19TSVpFKQorCQlyZXR1
cm4gLUVOT01FTTsKKworCS8qCisJICogQHBnb2ZmIGlzIHRoZSBmaWxlIHBhZ2Utb2Zmc2V0IHRo
ZSBodWdlIHBhZ2UgYm91bmRhcmllcyBvZgorCSAqIHdoaWNoIHR5cGljYWxseSBhbGlnbnMgdG8g
cGh5c2ljYWwgYWRkcmVzcyBodWdlIHBhZ2UgYm91bmRhcmllcy4KKwkgKiBUaGF0J3Mgbm90IHRy
dWUgZm9yIERSTSwgaG93ZXZlciwgd2hlcmUgcGh5c2ljYWwgYWRkcmVzcyBodWdlCisJICogcGFn
ZSBib3VuZGFyaWVzIGluc3RlYWQgYXJlIGFsaWduZWQgd2l0aCB0aGUgb2Zmc2V0IGZyb20KKwkg
KiBidWZmZXIgb2JqZWN0IHN0YXJ0LiBTbyBhZGp1c3QgQHBnb2ZmIHRvIGJlIHRoZSBvZmZzZXQg
ZnJvbQorCSAqIGJ1ZmZlciBvYmplY3Qgc3RhcnQuCisJICovCisJZHJtX3ZtYV9vZmZzZXRfbG9j
a19sb29rdXAobWdyKTsKKwlub2RlID0gZHJtX3ZtYV9vZmZzZXRfbG9va3VwX2xvY2tlZChtZ3Is
IHBnb2ZmLCAxKTsKKwlpZiAobm9kZSkKKwkJcGdvZmYgLT0gbm9kZS0+dm1fbm9kZS5zdGFydDsK
Kwlkcm1fdm1hX29mZnNldF91bmxvY2tfbG9va3VwKG1ncik7CisKKwlhZGRyID0gY3VycmVudC0+
bW0tPmdldF91bm1hcHBlZF9hcmVhKGZpbGUsIHVhZGRyLCBsZW4sIHBnb2ZmLCBmbGFncyk7CisJ
aWYgKElTX0VSUl9WQUxVRShhZGRyKSkKKwkJcmV0dXJuIGFkZHI7CisJaWYgKGFkZHIgJiB+UEFH
RV9NQVNLKQorCQlyZXR1cm4gYWRkcjsKKwlpZiAoYWRkciA+IFRBU0tfU0laRSAtIGxlbikKKwkJ
cmV0dXJuIGFkZHI7CisKKwlpZiAobGVuIDwgSFBBR0VfUE1EX1NJWkUpCisJCXJldHVybiBhZGRy
OworCWlmIChmbGFncyAmIE1BUF9GSVhFRCkKKwkJcmV0dXJuIGFkZHI7CisJLyoKKwkgKiBPdXIg
cHJpb3JpdHkgaXMgdG8gc3VwcG9ydCBNQVBfU0hBUkVEIG1hcHBlZCBodWdlbHk7CisJICogYW5k
IHN1cHBvcnQgTUFQX1BSSVZBVEUgbWFwcGVkIGh1Z2VseSB0b28sIHVudGlsIGl0IGlzIENPV2Vk
LgorCSAqIEJ1dCBpZiBjYWxsZXIgc3BlY2lmaWVkIGFuIGFkZHJlc3MgaGludCwgcmVzcGVjdCB0
aGF0IGFzIGJlZm9yZS4KKwkgKi8KKwlpZiAodWFkZHIpCisJCXJldHVybiBhZGRyOworCisJaW5m
bGF0ZWRfYWRkciA9IGRybV9hZGRyX2luZmxhdGUoYWRkciwgbGVuLCBwZ29mZiwgZmxhZ3MsCisJ
CQkJCSBIUEFHRV9QTURfU0laRSk7CisKKwlpZiAoSVNfRU5BQkxFRChDT05GSUdfSEFWRV9BUkNI
X1RSQU5TUEFSRU5UX0hVR0VQQUdFX1BVRCkgJiYKKwkgICAgbGVuID49IEhQQUdFX1BVRF9TSVpF
KQorCQlpbmZsYXRlZF9hZGRyID0gZHJtX2FkZHJfaW5mbGF0ZShpbmZsYXRlZF9hZGRyLCBsZW4s
IHBnb2ZmLAorCQkJCQkJIGZsYWdzLCBIUEFHRV9QVURfU0laRSk7CisJcmV0dXJuIGluZmxhdGVk
X2FkZHI7Cit9CisjZWxzZSAvKiBDT05GSUdfVFJBTlNQQVJFTlRfSFVHRVBBR0UgKi8KK3Vuc2ln
bmVkIGxvbmcgZHJtX2dldF91bm1hcHBlZF9hcmVhKHN0cnVjdCBmaWxlICpmaWxlLAorCQkJCSAg
ICB1bnNpZ25lZCBsb25nIHVhZGRyLCB1bnNpZ25lZCBsb25nIGxlbiwKKwkJCQkgICAgdW5zaWdu
ZWQgbG9uZyBwZ29mZiwgdW5zaWduZWQgbG9uZyBmbGFncywKKwkJCQkgICAgc3RydWN0IGRybV92
bWFfb2Zmc2V0X21hbmFnZXIgKm1ncikKK3sKKwlyZXR1cm4gY3VycmVudC0+bW0tPmdldF91bm1h
cHBlZF9hcmVhKGZpbGUsIHVhZGRyLCBsZW4sIHBnb2ZmLCBmbGFncyk7Cit9CisjZW5kaWYgLyog
Q09ORklHX1RSQU5TUEFSRU5UX0hVR0VQQUdFICovCisjZW5kaWYgLyogQ09ORklHX01NVSAqLwpk
aWZmIC0tZ2l0IGEvaW5jbHVkZS9kcm0vZHJtX2ZpbGUuaCBiL2luY2x1ZGUvZHJtL2RybV9maWxl
LmgKaW5kZXggMTlkZjgwMjhhNmM0Li41YWFmMWM0NTkzYTkgMTAwNjQ0Ci0tLSBhL2luY2x1ZGUv
ZHJtL2RybV9maWxlLmgKKysrIGIvaW5jbHVkZS9kcm0vZHJtX2ZpbGUuaApAQCAtMzkxLDQgKzM5
MSwxMyBAQCB2b2lkIGRybV9zZW5kX2V2ZW50KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHN0cnVj
dCBkcm1fcGVuZGluZ19ldmVudCAqZSk7CiAKIHN0cnVjdCBmaWxlICptb2NrX2RybV9nZXRmaWxl
KHN0cnVjdCBkcm1fbWlub3IgKm1pbm9yLCB1bnNpZ25lZCBpbnQgZmxhZ3MpOwogCisjaWZkZWYg
Q09ORklHX01NVQorc3RydWN0IGRybV92bWFfb2Zmc2V0X21hbmFnZXI7Cit1bnNpZ25lZCBsb25n
IGRybV9nZXRfdW5tYXBwZWRfYXJlYShzdHJ1Y3QgZmlsZSAqZmlsZSwKKwkJCQkgICAgdW5zaWdu
ZWQgbG9uZyB1YWRkciwgdW5zaWduZWQgbG9uZyBsZW4sCisJCQkJICAgIHVuc2lnbmVkIGxvbmcg
cGdvZmYsIHVuc2lnbmVkIGxvbmcgZmxhZ3MsCisJCQkJICAgIHN0cnVjdCBkcm1fdm1hX29mZnNl
dF9tYW5hZ2VyICptZ3IpOworI2VuZGlmIC8qIENPTkZJR19NTVUgKi8KKworCiAjZW5kaWYgLyog
X0RSTV9GSUxFX0hfICovCi0tIAoyLjIxLjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3Rz
LmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xp
c3RpbmZvL2RyaS1kZXZlbAo=
