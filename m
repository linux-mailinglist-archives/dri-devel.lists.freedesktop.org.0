Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 2706B2B6697
	for <lists+dri-devel@lfdr.de>; Tue, 17 Nov 2020 15:06:23 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B130E6E223;
	Tue, 17 Nov 2020 14:06:20 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ed1-x541.google.com (mail-ed1-x541.google.com
 [IPv6:2a00:1450:4864:20::541])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 017FA6E223
 for <dri-devel@lists.freedesktop.org>; Tue, 17 Nov 2020 14:06:18 +0000 (UTC)
Received: by mail-ed1-x541.google.com with SMTP id t11so22512477edj.13
 for <dri-devel@lists.freedesktop.org>; Tue, 17 Nov 2020 06:06:18 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:subject:date:message-id:mime-version
 :content-transfer-encoding;
 bh=reZZShoJvbxFnzqezOjKxAnSYmnXe+sIgfR7XEAfjpA=;
 b=AF4TrxYNKQeyCU6GkrTf+TkHnw8WXBsk7M03TbQ1bds/xq4EDDoOQlXbyG1PzlCuZg
 pVKMb9i+ABYVOPNk85Wj6plyvQdjij19WfpE/bvdtO1EvxynlDo2xyEV9mSCyubCoZ+U
 YhxltLXMKM7pY6veujgLmiCtoZ2pKWrMV1XqJJe00l9NNsGxpgmqIjW8SeZ8Xk2sABpr
 ci7TmlB95Gs5MuB3o+IlReLHAVsJ9TsSnTVw4zw12gzjCTk2WfCmXkvCmi3rsHMJfd37
 PXswz92sTvEIfRuf8tJiwuIAcUl/X39Bik8VgpnHWhC5SafmbCpHOI/2OeKypol4ZO7h
 4/Dg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:subject:date:message-id:mime-version
 :content-transfer-encoding;
 bh=reZZShoJvbxFnzqezOjKxAnSYmnXe+sIgfR7XEAfjpA=;
 b=AfJDGqPYg9ZEqSl/SG/WIOqHKiCQd477iefkzeKWODxOrYdAJFvTzgjhAdFgxC+R8E
 I63QbYtIFT7rz+0lxUeS99B4RNVOHbTNl5RbQswp1m2fzv4K90mNtRy5TPAz5nIE+56n
 4OhdWVJsz2/1lkYgAY6lJbLvETTLnr5V1Z4V+rymABJ0uKTLyRNYVJ2+WEX+lazN/+ij
 hAFf/dNIKPuUHZvx7diBAswgPDXrLSOErYO+97UaDvluYOWq+yU+x5CooVfUI6EuO6Tg
 o+9tFIxVrLhs9cADba6HUfM4pFONAtcFgXLXGtJnDAQ11Eudm08nFjJfbcJ1r9JLZ1TK
 Yhaw==
X-Gm-Message-State: AOAM530+AvkwUVsGWceSBp+iFsVMVDoPzXkp9EPYzYD3+igv8lV+HPSs
 SuKd6IrQ+NBGBM8rOV5Q158=
X-Google-Smtp-Source: ABdhPJzz4obCsuBWie5wj7xNOAe9TPlmyX58h9gh4gBnclQkrfUcwVnpVxQVi3jFstJmYJOul7s1ag==
X-Received: by 2002:aa7:c4c2:: with SMTP id p2mr21729599edr.371.1605621977592; 
 Tue, 17 Nov 2020 06:06:17 -0800 (PST)
Received: from abel.fritz.box ([2a02:908:1252:fb60:4d18:8ca3:78f:2e63])
 by smtp.gmail.com with ESMTPSA id h23sm11998900edv.69.2020.11.17.06.06.16
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Tue, 17 Nov 2020 06:06:17 -0800 (PST)
From: "=?UTF-8?q?Christian=20K=C3=B6nig?=" <ckoenig.leichtzumerken@gmail.com>
X-Google-Original-From: =?UTF-8?q?Christian=20K=C3=B6nig?=
 <christian.koenig@amd.com>
To: airlied@linux.ie, Felix.Kuehling@amd.com, daniel@ffwll.ch,
 dri-devel@lists.freedesktop.org, linux-graphics-maintainer@vmware.com,
 sroland@vmware.com
Subject: [PATCH 1/3] drm/ttm: rework ttm_tt page limit
Date: Tue, 17 Nov 2020 15:06:13 +0100
Message-Id: <20201117140615.255887-1-christian.koenig@amd.com>
X-Mailer: git-send-email 2.25.1
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VFRNIGltcGxlbWVudHMgYSByYXRoZXIgZXh0ZW5zaXZlIGFjY291bnRpbmcgb2YgYWxsb2NhdGVk
IG1lbW9yeS4KClRoZXJlIGFyZSB0d28gcmVhc29ucyBmb3IgdGhpczoKMS4gSXQgdHJpZXMgdG8g
YmxvY2sgdXNlcnNwYWNlIGFsbG9jYXRpbmcgYSBodWdlIG51bWJlciBvZiB2ZXJ5IHNtYWxsCiAg
IEJPcyB3aXRob3V0IGFjY291bnRpbmcgZm9yIHRoZSBrbWFsbG9jZWQgbWVtb3J5LgoKMi4gTWFr
ZSBzdXJlIHdlIGRvbid0IG92ZXIgYWxsb2NhdGUgYW5kIHJ1biBpbnRvIGFuIE9PTSBzaXR1YXRp
b24KICAgZHVyaW5nIHN3YXBvdXQgd2hpbGUgdHJ5aW5nIHRvIGhhbmRsZSB0aGUgbWVtb3J5IHNo
b3J0YWdlLgoKVGhpcyBpcyBvbmx5IHBhcnRpYWxseSBhIGdvb2QgaWRlYS4gRmlyc3Qgb2YgYWxs
IGl0IGlzIHBlcmZlY3RseQp2YWxpZCBmb3IgYW4gYXBwbGljYXRpb24gdG8gdXNlIGFsbCBvZiBz
eXN0ZW0gbWVtb3J5LCBsaW1pdGluZyBpdCB0bwo1MCUgaXMgbm90IHJlYWxseSBhY2NlcHRhYmxl
LgoKV2hhdCB3ZSBuZWVkIHRvIHRha2UgY2FyZSBvZiBpcyB0aGF0IHRoZSBhcHBsaWNhdGlvbiBp
cyBoZWxkCmFjY291bnRhYmxlIGZvciB0aGUgbWVtb3J5IGl0IGFsbG9jYXRlZC4gVGhpcyBpcyB3
aGF0IGNvbnRyb2wKbWVjaGFuaXNtcyBsaWtlIG1lbWNnIGFuZCB0aGUgbm9ybWFsIExpbnV4IHBh
Z2UgYWNjb3VudGluZyBhbHJlYWR5IGRvLgoKTWFraW5nIHN1cmUgdGhhdCB3ZSBkb24ndCBydW4g
aW50byBhbiBPT00gc2l0dWF0aW9uIHdoaWxlIHRyeWluZyB0bwpjb3BlIHdpdGggYSBtZW1vcnkg
c2hvcnRhZ2UgaXMgc3RpbGwgYSBnb29kIGlkZWEsIGJ1dCB0aGlzIGlzIGFsc28Kbm90IHZlcnkg
d2VsbCBpbXBsZW1lbnRlZCBzaW5jZSBpdCBtZWFucyBhbm90aGVyIG9wcG9ydHVuaXR5IG9mCnJl
Y3Vyc2lvbiBmcm9tIHRoZSBkcml2ZXIgYmFjayBpbnRvIFRUTS4KClNvIHN0YXJ0IHRvIHJld29y
ayBhbGwgb2YgdGhpcyBieSBhY2NvdW50aW5nIHRoZSBtZW1vcnkgYmVmb3JlCmFsbG9jYXRpbmcg
dGhlIHBhZ2VzIGFuZCBtYWtpbmcgc3VyZSB0aGF0IHdlIG5ldmVyIGdvIG92ZXIgYSBjZXJ0YWlu
CmxpbWl0IHBhZ2VzIGxvY2tlZCBieSBUVE0gaW4gdGhlIHR0bV90dCBvYmplY3RzLgoKU2lnbmVk
LW9mZi1ieTogQ2hyaXN0aWFuIEvDtm5pZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPgotLS0K
IGRyaXZlcnMvZ3B1L2RybS90dG0vdHRtX21lbW9yeS5jIHwgMTcgKysrKysrKystCiBkcml2ZXJz
L2dwdS9kcm0vdHRtL3R0bV90dC5jICAgICB8IDY0ICsrKysrKysrKysrKysrKysrKysrKysrKysr
KysrLS0tCiBpbmNsdWRlL2RybS90dG0vdHRtX3R0LmggICAgICAgICB8ICAyICsKIDMgZmlsZXMg
Y2hhbmdlZCwgNzcgaW5zZXJ0aW9ucygrKSwgNiBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9tZW1vcnkuYyBiL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRt
X21lbW9yeS5jCmluZGV4IDVlZDFmYzhmMmFjZS4uYzUzMTM2MDQ4NjMwIDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9tZW1vcnkuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vdHRt
L3R0bV9tZW1vcnkuYwpAQCAtMzgsNiArMzgsNyBAQAogI2luY2x1ZGUgPGxpbnV4L3NsYWIuaD4K
ICNpbmNsdWRlIDxsaW51eC9zd2FwLmg+CiAjaW5jbHVkZSA8ZHJtL3R0bS90dG1fcG9vbC5oPgor
I2luY2x1ZGUgPGRybS90dG0vdHRtX3R0Lmg+CiAKICNkZWZpbmUgVFRNX01FTU9SWV9BTExPQ19S
RVRSSUVTIDQKIApAQCAtNDE0LDEwICs0MTUsMTEgQEAgc3RhdGljIGludCB0dG1fbWVtX2luaXRf
ZG1hMzJfem9uZShzdHJ1Y3QgdHRtX21lbV9nbG9iYWwgKmdsb2IsCiAKIGludCB0dG1fbWVtX2ds
b2JhbF9pbml0KHN0cnVjdCB0dG1fbWVtX2dsb2JhbCAqZ2xvYikKIHsKKwl1aW50NjRfdCBudW1f
cGFnZXMsIG51bV9kbWEzMl9wYWdlczsKKwlzdHJ1Y3QgdHRtX21lbV96b25lICp6b25lOwogCXN0
cnVjdCBzeXNpbmZvIHNpOwogCWludCByZXQ7CiAJaW50IGk7Ci0Jc3RydWN0IHR0bV9tZW1fem9u
ZSAqem9uZTsKIAogCXNwaW5fbG9ja19pbml0KCZnbG9iLT5sb2NrKTsKIAlnbG9iLT5zd2FwX3F1
ZXVlID0gY3JlYXRlX3NpbmdsZXRocmVhZF93b3JrcXVldWUoInR0bV9zd2FwIik7CkBAIC00NTIs
NiArNDU0LDE5IEBAIGludCB0dG1fbWVtX2dsb2JhbF9pbml0KHN0cnVjdCB0dG1fbWVtX2dsb2Jh
bCAqZ2xvYikKIAkJCXpvbmUtPm5hbWUsICh1bnNpZ25lZCBsb25nIGxvbmcpem9uZS0+bWF4X21l
bSA+PiAxMCk7CiAJfQogCXR0bV9wb29sX21ncl9pbml0KGdsb2ItPnpvbmVfa2VybmVsLT5tYXhf
bWVtLygyKlBBR0VfU0laRSkpOworCisJLyogV2UgZ2VuZXJhbGx5IGFsbG93IFRUTSB0byBhbGxv
Y2F0ZSBhIG1heGltdW0gb2YgNTAlIG9mCisJICogdGhlIGF2YWlsYWJsZSBzeXN0ZW0gbWVtb3J5
LgorCSAqLworCW51bV9wYWdlcyA9ICh1NjQpc2kudG90YWxyYW0gKiBzaS5tZW1fdW5pdDsKKwlu
dW1fcGFnZXMgPSAobnVtX3BhZ2VzICogNTAgLyAxMDApID4+IFBBR0VfU0hJRlQ7CisKKwkvKiBC
dXQgZm9yIERNQTMyIHdlIGxpbWl0IG91cnNlbGYgdG8gb25seSB1c2UgMkdpQiBtYXhpbXVtLiAq
LworCW51bV9kbWEzMl9wYWdlcyA9ICh1NjQpKHNpLnRvdGFscmFtIC0gc2kudG90YWxoaWdoKSAq
IHNpLm1lbV91bml0OworCW51bV9kbWEzMl9wYWdlcyA9IG1pbihudW1fZG1hMzJfcGFnZXMsIDJV
TEwgPDwgMzApID4+IFBBR0VfU0hJRlQ7CisKKwl0dG1fdHRfbWdyX2luaXQobnVtX3BhZ2VzLCBu
dW1fZG1hMzJfcGFnZXMpOworCiAJcmV0dXJuIDA7CiBvdXRfbm9fem9uZToKIAl0dG1fbWVtX2ds
b2JhbF9yZWxlYXNlKGdsb2IpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1f
dHQuYyBiL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX3R0LmMKaW5kZXggY2ZkNjMzYzdlNzY0Li5j
N2I3MWM5ODYxYTYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX3R0LmMKKysr
IGIvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fdHQuYwpAQCAtMzgsNiArMzgsMTkgQEAKICNpbmNs
dWRlIDxkcm0vZHJtX2NhY2hlLmg+CiAjaW5jbHVkZSA8ZHJtL3R0bS90dG1fYm9fZHJpdmVyLmg+
CiAKK3N0YXRpYyB1bnNpZ25lZCBsb25nIHR0bV9wYWdlc19saW1pdDsKKworTU9EVUxFX1BBUk1f
REVTQyhwYWdlc19saW1pdCwgIkxpbWl0IGZvciB0aGUgYWxsb2NhdGVkIHBhZ2VzIik7Cittb2R1
bGVfcGFyYW1fbmFtZWQocGFnZXNfbGltaXQsIHR0bV9wYWdlc19saW1pdCwgdWxvbmcsIDA2NDQp
OworCitzdGF0aWMgdW5zaWduZWQgbG9uZyB0dG1fZG1hMzJfcGFnZXNfbGltaXQ7CisKK01PRFVM
RV9QQVJNX0RFU0MoZG1hMzJfcGFnZXNfbGltaXQsICJMaW1pdCBmb3IgdGhlIGFsbG9jYXRlZCBE
TUEzMiBwYWdlcyIpOworbW9kdWxlX3BhcmFtX25hbWVkKGRtYTMyX3BhZ2VzX2xpbWl0LCB0dG1f
ZG1hMzJfcGFnZXNfbGltaXQsIHVsb25nLCAwNjQ0KTsKKworc3RhdGljIGF0b21pY19sb25nX3Qg
dHRtX3BhZ2VzX2FsbG9jYXRlZDsKK3N0YXRpYyBhdG9taWNfbG9uZ190IHR0bV9kbWEzMl9wYWdl
c19hbGxvY2F0ZWQ7CisKIC8qKgogICogQWxsb2NhdGVzIGEgdHRtIHN0cnVjdHVyZSBmb3IgdGhl
IGdpdmVuIEJPLgogICovCkBAIC0yOTUsOCArMzA4LDggQEAgc3RhdGljIHZvaWQgdHRtX3R0X2Fk
ZF9tYXBwaW5nKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0p
CiAJCXR0bS0+cGFnZXNbaV0tPm1hcHBpbmcgPSBiZGV2LT5kZXZfbWFwcGluZzsKIH0KIAotaW50
IHR0bV90dF9wb3B1bGF0ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKLQkJICAgIHN0cnVj
dCB0dG1fdHQgKnR0bSwgc3RydWN0IHR0bV9vcGVyYXRpb25fY3R4ICpjdHgpCitpbnQgdHRtX3R0
X3BvcHVsYXRlKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0s
CisJCSAgICBzdHJ1Y3QgdHRtX29wZXJhdGlvbl9jdHggKmN0eCkKIHsKIAlpbnQgcmV0OwogCkBA
IC0zMDYsMTIgKzMxOSwyNSBAQCBpbnQgdHRtX3R0X3BvcHVsYXRlKHN0cnVjdCB0dG1fYm9fZGV2
aWNlICpiZGV2LAogCWlmICh0dG1fdHRfaXNfcG9wdWxhdGVkKHR0bSkpCiAJCXJldHVybiAwOwog
CisJYXRvbWljX2xvbmdfYWRkKHR0bS0+bnVtX3BhZ2VzLCAmdHRtX3BhZ2VzX2FsbG9jYXRlZCk7
CisJaWYgKGJkZXYtPnBvb2wudXNlX2RtYTMyKQorCQlhdG9taWNfbG9uZ19hZGQodHRtLT5udW1f
cGFnZXMsICZ0dG1fZG1hMzJfcGFnZXNfYWxsb2NhdGVkKTsKKworCXdoaWxlIChhdG9taWNfbG9u
Z19yZWFkKCZ0dG1fcGFnZXNfYWxsb2NhdGVkKSA+IHR0bV9wYWdlc19saW1pdCB8fAorCSAgICAg
ICBhdG9taWNfbG9uZ19yZWFkKCZ0dG1fZG1hMzJfcGFnZXNfYWxsb2NhdGVkKSA+CisJICAgICAg
IHR0bV9kbWEzMl9wYWdlc19saW1pdCkgeworCisJCXJldCA9IHR0bV9ib19zd2Fwb3V0KGN0eCk7
CisJCWlmIChyZXQpCisJCQlnb3RvIGVycm9yOworCX0KKwogCWlmIChiZGV2LT5kcml2ZXItPnR0
bV90dF9wb3B1bGF0ZSkKIAkJcmV0ID0gYmRldi0+ZHJpdmVyLT50dG1fdHRfcG9wdWxhdGUoYmRl
diwgdHRtLCBjdHgpOwogCWVsc2UKIAkJcmV0ID0gdHRtX3Bvb2xfYWxsb2MoJmJkZXYtPnBvb2ws
IHR0bSwgY3R4KTsKIAlpZiAocmV0KQotCQlyZXR1cm4gcmV0OworCQlnb3RvIGVycm9yOwogCiAJ
dHRtX3R0X2FkZF9tYXBwaW5nKGJkZXYsIHR0bSk7CiAJdHRtLT5wYWdlX2ZsYWdzIHw9IFRUTV9Q
QUdFX0ZMQUdfUFJJVl9QT1BVTEFURUQ7CkBAIC0zMjQsNiArMzUwLDEyIEBAIGludCB0dG1fdHRf
cG9wdWxhdGUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCiAJfQogCiAJcmV0dXJuIDA7CisK
K2Vycm9yOgorCWF0b21pY19sb25nX3N1Yih0dG0tPm51bV9wYWdlcywgJnR0bV9wYWdlc19hbGxv
Y2F0ZWQpOworCWlmIChiZGV2LT5wb29sLnVzZV9kbWEzMikKKwkJYXRvbWljX2xvbmdfc3ViKHR0
bS0+bnVtX3BhZ2VzLCAmdHRtX2RtYTMyX3BhZ2VzX2FsbG9jYXRlZCk7CisJcmV0dXJuIHJldDsK
IH0KIEVYUE9SVF9TWU1CT0wodHRtX3R0X3BvcHVsYXRlKTsKIApAQCAtMzQxLDggKzM3Myw3IEBA
IHN0YXRpYyB2b2lkIHR0bV90dF9jbGVhcl9tYXBwaW5nKHN0cnVjdCB0dG1fdHQgKnR0bSkKIAl9
CiB9CiAKLXZvaWQgdHRtX3R0X3VucG9wdWxhdGUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYs
Ci0JCSAgICAgICBzdHJ1Y3QgdHRtX3R0ICp0dG0pCit2b2lkIHR0bV90dF91bnBvcHVsYXRlKHN0
cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0pCiB7CiAJaWYgKCF0
dG1fdHRfaXNfcG9wdWxhdGVkKHR0bSkpCiAJCXJldHVybjsKQEAgLTM1Miw1ICszODMsMjggQEAg
dm9pZCB0dG1fdHRfdW5wb3B1bGF0ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKIAkJYmRl
di0+ZHJpdmVyLT50dG1fdHRfdW5wb3B1bGF0ZShiZGV2LCB0dG0pOwogCWVsc2UKIAkJdHRtX3Bv
b2xfZnJlZSgmYmRldi0+cG9vbCwgdHRtKTsKKworCWF0b21pY19sb25nX3N1Yih0dG0tPm51bV9w
YWdlcywgJnR0bV9wYWdlc19hbGxvY2F0ZWQpOworCWlmIChiZGV2LT5wb29sLnVzZV9kbWEzMikK
KwkJYXRvbWljX2xvbmdfc3ViKHR0bS0+bnVtX3BhZ2VzLCAmdHRtX2RtYTMyX3BhZ2VzX2FsbG9j
YXRlZCk7CisKIAl0dG0tPnBhZ2VfZmxhZ3MgJj0gflRUTV9QQUdFX0ZMQUdfUFJJVl9QT1BVTEFU
RUQ7CiB9CisKKy8qKgorICogdHRtX3R0X21ncl9pbml0IC0gc2V0IGRlZmF1bHRzIGZvciB0aGUg
bnVtYmVyIG9mIHBhZ2VzCisgKgorICogQG51bV9wYWdlczogZ2xvYmFsIGxpbWl0IG9mIHN5c3Rl
bSBwYWdlcyB0byB1c2UKKyAqIEBudW1fZG1hMzJfcGFnZXM6IGdsb2JhbCBsaW1pdCBvZiBETUEz
MiBwYWdlcyB0byB1c2UKKyAqCisgKiBTZXQgcmVhc29uYWJsZSBkZWZhdWx0cyBmb3IgdGhlIG51
bWJlciBvZiBhbGxvY2F0ZWQgcGFnZXMuCisgKi8KK3ZvaWQgdHRtX3R0X21ncl9pbml0KHVuc2ln
bmVkIGxvbmcgbnVtX3BhZ2VzLCB1bnNpZ25lZCBsb25nIG51bV9kbWEzMl9wYWdlcykKK3sKKwlp
ZiAoIXR0bV9wYWdlc19saW1pdCkKKwkJdHRtX3BhZ2VzX2xpbWl0ID0gbnVtX3BhZ2VzOworCisJ
aWYgKCF0dG1fZG1hMzJfcGFnZXNfbGltaXQpCisJCXR0bV9kbWEzMl9wYWdlc19saW1pdCA9IG51
bV9kbWEzMl9wYWdlczsKKworfQpkaWZmIC0tZ2l0IGEvaW5jbHVkZS9kcm0vdHRtL3R0bV90dC5o
IGIvaW5jbHVkZS9kcm0vdHRtL3R0bV90dC5oCmluZGV4IGRhMjdlOWQ4ZmE2NC4uMDVjYTQzZjEz
ODg0IDEwMDY0NAotLS0gYS9pbmNsdWRlL2RybS90dG0vdHRtX3R0LmgKKysrIGIvaW5jbHVkZS9k
cm0vdHRtL3R0bV90dC5oCkBAIC0xNTcsNiArMTU3LDggQEAgaW50IHR0bV90dF9wb3B1bGF0ZShz
dHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV90dCAqdHRtLCBzdHJ1Y3QgdHRt
X28KICAqLwogdm9pZCB0dG1fdHRfdW5wb3B1bGF0ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRl
diwgc3RydWN0IHR0bV90dCAqdHRtKTsKIAordm9pZCB0dG1fdHRfbWdyX2luaXQodW5zaWduZWQg
bG9uZyBudW1fcGFnZXMsIHVuc2lnbmVkIGxvbmcgbnVtX2RtYTMyX3BhZ2VzKTsKKwogI2lmIElT
X0VOQUJMRUQoQ09ORklHX0FHUCkKICNpbmNsdWRlIDxsaW51eC9hZ3BfYmFja2VuZC5oPgogCi0t
IAoyLjI1LjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
CmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpo
dHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbAo=
