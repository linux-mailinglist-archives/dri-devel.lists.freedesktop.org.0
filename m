Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 08587D92E4
	for <lists+dri-devel@lfdr.de>; Wed, 16 Oct 2019 15:49:28 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 081A36E980;
	Wed, 16 Oct 2019 13:49:26 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from perceval.ideasonboard.com (perceval.ideasonboard.com
 [213.167.242.64])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8F81B6E980
 for <dri-devel@lists.freedesktop.org>; Wed, 16 Oct 2019 13:49:24 +0000 (UTC)
Received: from pendragon.ideasonboard.com
 (dfj612yhrgyx302h3jwwy-3.rev.dnainternet.fi
 [IPv6:2001:14ba:21f5:5b00:ce28:277f:58d7:3ca4])
 by perceval.ideasonboard.com (Postfix) with ESMTPSA id A41B39F4;
 Wed, 16 Oct 2019 15:49:22 +0200 (CEST)
Date: Wed, 16 Oct 2019 16:49:20 +0300
From: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
To: Jacopo Mondi <jacopo+renesas@jmondi.org>
Subject: Re: [PATCH v6 5/8] drm: rcar-du: crtc: Control CMM operations
Message-ID: <20191016134920.GE5175@pendragon.ideasonboard.com>
References: <20191016085548.105703-1-jacopo+renesas@jmondi.org>
 <20191016085548.105703-6-jacopo+renesas@jmondi.org>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20191016085548.105703-6-jacopo+renesas@jmondi.org>
User-Agent: Mutt/1.10.1 (2018-07-13)
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=ideasonboard.com; s=mail; t=1571233762;
 bh=m7N8TtJXfjC42gO466PT2HSc5Zs3uaZEy9xf0T8y9V8=;
 h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
 b=jQCbkyQviloXjO0M2K2SRrxUXfHpBT/gXpajaCfWa6vLM59P9Vtz+aSkvQtzUFnS7
 6Cknzy5Izisv4nytRvGP/iP3DX3R+ig9hfI5ICmzTN8vA68PCfsBRRa77//qlUTPZC
 wzydgIaydspn95DMP626xOOagoiC9BFUh/wjPF24=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: horms@verge.net.au, airlied@linux.ie, linux-kernel@vger.kernel.org,
 dri-devel@lists.freedesktop.org, linux-renesas-soc@vger.kernel.org,
 kieran.bingham+renesas@ideasonboard.com, geert@linux-m68k.org,
 uli+renesas@fpond.eu
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgSmFjb3BvLAoKVGhhbmsgeW91IGZvciB0aGUgcGF0Y2guCgpPbiBXZWQsIE9jdCAxNiwgMjAx
OSBhdCAxMDo1NTo0NUFNICswMjAwLCBKYWNvcG8gTW9uZGkgd3JvdGU6Cj4gSW1wbGVtZW50IENN
TSBoYW5kbGluZyBpbiB0aGUgY3J0YyBiZWdpbiBhbmQgZW5hYmxlIGF0b21pYyBjYWxsYmFja3Ms
Cj4gYW5kIGVuYWJsZSBDTU0gdW5pdCB0aHJvdWdoIHRoZSBEaXNwbGF5IEV4dGVuc2lvbmFsIEZ1
bmN0aW9ucwo+IHJlZ2lzdGVyIGF0IGdyb3VwIHNldHVwIHRpbWUuCj4gCj4gUmV2aWV3ZWQtYnk6
IEtpZXJhbiBCaW5naGFtIDxraWVyYW4uYmluZ2hhbStyZW5lc2FzQGlkZWFzb25ib2FyZC5jb20+
Cj4gU2lnbmVkLW9mZi1ieTogSmFjb3BvIE1vbmRpIDxqYWNvcG8rcmVuZXNhc0BqbW9uZGkub3Jn
Pgo+IC0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X2NydGMuYyAgfCA1NSAr
KysrKysrKysrKysrKysrKysrKysrKysrCj4gIGRyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJf
ZHVfZ3JvdXAuYyB8IDEwICsrKysrCj4gIGRyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVf
cmVncy5oICB8ICA1ICsrKwo+ICAzIGZpbGVzIGNoYW5nZWQsIDcwIGluc2VydGlvbnMoKykKPiAK
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9jcnRjLmMgYi9k
cml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X2NydGMuYwo+IGluZGV4IDIzZjFkNmNjMTcx
OS4uZDdhZDQ5MTU3N2YzIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3Jj
YXJfZHVfY3J0Yy5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9jcnRj
LmMKPiBAQCAtMjEsNiArMjEsNyBAQAo+ICAjaW5jbHVkZSA8ZHJtL2RybV9wbGFuZV9oZWxwZXIu
aD4KPiAgI2luY2x1ZGUgPGRybS9kcm1fdmJsYW5rLmg+Cj4gIAo+ICsjaW5jbHVkZSAicmNhcl9j
bW0uaCIKPiAgI2luY2x1ZGUgInJjYXJfZHVfY3J0Yy5oIgo+ICAjaW5jbHVkZSAicmNhcl9kdV9k
cnYuaCIKPiAgI2luY2x1ZGUgInJjYXJfZHVfZW5jb2Rlci5oIgo+IEBAIC00NzQsNiArNDc1LDQ1
IEBAIHN0YXRpYyB2b2lkIHJjYXJfZHVfY3J0Y193YWl0X3BhZ2VfZmxpcChzdHJ1Y3QgcmNhcl9k
dV9jcnRjICpyY3J0YykKPiAgCXJjYXJfZHVfY3J0Y19maW5pc2hfcGFnZV9mbGlwKHJjcnRjKTsK
PiAgfQo+ICAKPiArLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KPiArICogQ29sb3IgTWFuYWdlbWVu
dCBNb2R1bGUgKENNTSkKPiArICovCj4gKwo+ICtzdGF0aWMgaW50IHJjYXJfZHVfY21tX2NoZWNr
KHN0cnVjdCBkcm1fY3J0YyAqY3J0YywKPiArCQkJICAgICBzdHJ1Y3QgZHJtX2NydGNfc3RhdGUg
KnN0YXRlKQo+ICt7Cj4gKwlzdHJ1Y3QgZHJtX3Byb3BlcnR5X2Jsb2IgKmRybV9sdXQgPSBzdGF0
ZS0+Z2FtbWFfbHV0Owo+ICsJc3RydWN0IHJjYXJfZHVfY3J0YyAqcmNydGMgPSB0b19yY2FyX2Ny
dGMoY3J0Yyk7Cj4gKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSByY3J0Yy0+ZGV2LT5kZXY7Cj4gKwo+
ICsJaWYgKCFyY3J0Yy0+Y21tIHx8ICFkcm1fbHV0KQoKQXMgdGhlIGdhbW1hIExVVCBwcm9wZXJ0
eSBpcyBvbmx5IGNyZWF0ZWQgd2hlbiBDTU0gaXMgcHJlc2VudCwgY2FuJ3QgeW91CmRyb3AgdGhl
IGZpcnN0IHBhcnQgb2YgdGhpcyBjb25kaXRpb24gPwoKPiArCQlyZXR1cm4gMDsKPiArCj4gKwkv
KiBXZSBvbmx5IGFjY2VwdCBmdWxseSBwb3B1bGF0ZWQgTFVUIHRhYmxlcy4gKi8KPiArCWlmIChk
cm1fY29sb3JfbHV0X3NpemUoZHJtX2x1dCkgIT0gQ00yX0xVVF9TSVpFKSB7Cj4gKwkJZGV2X2Vy
cihkZXYsICJpbnZhbGlkIGdhbW1hIGx1dCBzaXplOiAlbHUgYnl0ZXNcbiIsCj4gKwkJCWRybV9s
dXQtPmxlbmd0aCk7Cj4gKwkJcmV0dXJuIC1FSU5WQUw7Cj4gKwl9Cj4gKwo+ICsJcmV0dXJuIDA7
Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lkIHJjYXJfZHVfY21tX3NldHVwKHN0cnVjdCBkcm1fY3J0
YyAqY3J0YykKPiArewo+ICsJc3RydWN0IGRybV9wcm9wZXJ0eV9ibG9iICpkcm1fbHV0ID0gY3J0
Yy0+c3RhdGUtPmdhbW1hX2x1dDsKPiArCXN0cnVjdCByY2FyX2R1X2NydGMgKnJjcnRjID0gdG9f
cmNhcl9jcnRjKGNydGMpOwo+ICsJc3RydWN0IHJjYXJfY21tX2NvbmZpZyBjbW1fY29uZmlnID0g
e307Cj4gKwo+ICsJaWYgKCFyY3J0Yy0+Y21tKQo+ICsJCXJldHVybjsKPiArCj4gKwlpZiAoZHJt
X2x1dCkKPiArCQljbW1fY29uZmlnLmx1dC50YWJsZSA9IChzdHJ1Y3QgZHJtX2NvbG9yX2x1dCAq
KWRybV9sdXQtPmRhdGE7Cj4gKwo+ICsJcmNhcl9jbW1fc2V0dXAocmNydGMtPmNtbSwgJmNtbV9j
b25maWcpOwo+ICt9Cj4gKwo+ICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQo+ICAgKiBTdGFydC9T
dG9wIGFuZCBTdXNwZW5kL1Jlc3VtZQo+ICAgKi8KPiBAQCAtNjE5LDYgKzY1OSw5IEBAIHN0YXRp
YyB2b2lkIHJjYXJfZHVfY3J0Y19zdG9wKHN0cnVjdCByY2FyX2R1X2NydGMgKnJjcnRjKQo+ICAJ
aWYgKHJjYXJfZHVfaGFzKHJjcnRjLT5kZXYsIFJDQVJfRFVfRkVBVFVSRV9WU1AxX1NPVVJDRSkp
Cj4gIAkJcmNhcl9kdV92c3BfZGlzYWJsZShyY3J0Yyk7Cj4gIAo+ICsJaWYgKHJjcnRjLT5jbW0p
Cj4gKwkJcmNhcl9jbW1fZGlzYWJsZShyY3J0Yy0+Y21tKTsKPiArCj4gIAkvKgo+ICAJICogU2Vs
ZWN0IHN3aXRjaCBzeW5jIG1vZGUuIFRoaXMgc3RvcHMgZGlzcGxheSBvcGVyYXRpb24gYW5kIGNv
bmZpZ3VyZXMKPiAgCSAqIHRoZSBIU1lOQyBhbmQgVlNZTkMgc2lnbmFscyBhcyBpbnB1dHMuCj4g
QEAgLTY0Miw2ICs2ODUsMTEgQEAgc3RhdGljIGludCByY2FyX2R1X2NydGNfYXRvbWljX2NoZWNr
KHN0cnVjdCBkcm1fY3J0YyAqY3J0YywKPiAgewo+ICAJc3RydWN0IHJjYXJfZHVfY3J0Y19zdGF0
ZSAqcnN0YXRlID0gdG9fcmNhcl9jcnRjX3N0YXRlKHN0YXRlKTsKPiAgCXN0cnVjdCBkcm1fZW5j
b2RlciAqZW5jb2RlcjsKPiArCWludCByZXQ7Cj4gKwo+ICsJcmV0ID0gcmNhcl9kdV9jbW1fY2hl
Y2soY3J0Yywgc3RhdGUpOwo+ICsJaWYgKHJldCkKPiArCQlyZXR1cm4gcmV0Owo+ICAKPiAgCS8q
IFN0b3JlIHRoZSByb3V0ZXMgZnJvbSB0aGUgQ1JUQyBvdXRwdXQgdG8gdGhlIERVIG91dHB1dHMu
ICovCj4gIAlyc3RhdGUtPm91dHB1dHMgPSAwOwo+IEBAIC02NjcsNiArNzE1LDggQEAgc3RhdGlj
IHZvaWQgcmNhcl9kdV9jcnRjX2F0b21pY19lbmFibGUoc3RydWN0IGRybV9jcnRjICpjcnRjLAo+
ICAJc3RydWN0IHJjYXJfZHVfY3J0Y19zdGF0ZSAqcnN0YXRlID0gdG9fcmNhcl9jcnRjX3N0YXRl
KGNydGMtPnN0YXRlKTsKPiAgCXN0cnVjdCByY2FyX2R1X2RldmljZSAqcmNkdSA9IHJjcnRjLT5k
ZXY7Cj4gIAo+ICsJaWYgKHJjcnRjLT5jbW0pCj4gKwkJcmNhcl9jbW1fZW5hYmxlKHJjcnRjLT5j
bW0pOwo+ICAJcmNhcl9kdV9jcnRjX2dldChyY3J0Yyk7Cj4gIAo+ICAJLyoKPiBAQCAtNjg2LDYg
KzczNiw3IEBAIHN0YXRpYyB2b2lkIHJjYXJfZHVfY3J0Y19hdG9taWNfZW5hYmxlKHN0cnVjdCBk
cm1fY3J0YyAqY3J0YywKPiAgCX0KPiAgCj4gIAlyY2FyX2R1X2NydGNfc3RhcnQocmNydGMpOwo+
ICsJcmNhcl9kdV9jbW1fc2V0dXAoY3J0Yyk7CgpMZXQncyBhZGQgYSBUT0RPIGhlcmUgdG8gZmln
dXJlIG91dCB3aHkgd2UgY2FuJ3Qgc2V0dXAgQ01NIGJlZm9yZQpzdGFydGluZyB0aGUgQ1JUQy4K
CldpdGggdGhlc2UgdHdvIHNtYWxsIGlzc3VlcyBmaXhlZCwKClJldmlld2VkLWJ5OiBMYXVyZW50
IFBpbmNoYXJ0IDxsYXVyZW50LnBpbmNoYXJ0QGlkZWFzb25ib2FyZC5jb20+Cgo+ICB9Cj4gIAo+
ICBzdGF0aWMgdm9pZCByY2FyX2R1X2NydGNfYXRvbWljX2Rpc2FibGUoc3RydWN0IGRybV9jcnRj
ICpjcnRjLAo+IEBAIC03MzksNiArNzkwLDEwIEBAIHN0YXRpYyB2b2lkIHJjYXJfZHVfY3J0Y19h
dG9taWNfYmVnaW4oc3RydWN0IGRybV9jcnRjICpjcnRjLAo+ICAJICovCj4gIAlyY2FyX2R1X2Ny
dGNfZ2V0KHJjcnRjKTsKPiAgCj4gKwkvKiBJZiB0aGUgYWN0aXZlIHN0YXRlIGNoYW5nZWQsIHdl
IGxldCAuYXRvbWljX2VuYWJsZSBoYW5kbGUgQ01NLiAqLwo+ICsJaWYgKGNydGMtPnN0YXRlLT5j
b2xvcl9tZ210X2NoYW5nZWQgJiYgIWNydGMtPnN0YXRlLT5hY3RpdmVfY2hhbmdlZCkKPiArCQly
Y2FyX2R1X2NtbV9zZXR1cChjcnRjKTsKPiArCj4gIAlpZiAocmNhcl9kdV9oYXMocmNydGMtPmRl
diwgUkNBUl9EVV9GRUFUVVJFX1ZTUDFfU09VUkNFKSkKPiAgCQlyY2FyX2R1X3ZzcF9hdG9taWNf
YmVnaW4ocmNydGMpOwo+ICB9Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1
L3JjYXJfZHVfZ3JvdXAuYyBiL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfZ3JvdXAu
Ywo+IGluZGV4IDllZWU0Nzk2OWU3Ny4uODhhNzgzY2ViM2U5IDEwMDY0NAo+IC0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfZ3JvdXAuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9yY2FyLWR1L3JjYXJfZHVfZ3JvdXAuYwo+IEBAIC0xMzUsNiArMTM1LDcgQEAgc3RhdGljIHZv
aWQgcmNhcl9kdV9ncm91cF9zZXR1cF9kaWRzcihzdHJ1Y3QgcmNhcl9kdV9ncm91cCAqcmdycCkK
PiAgc3RhdGljIHZvaWQgcmNhcl9kdV9ncm91cF9zZXR1cChzdHJ1Y3QgcmNhcl9kdV9ncm91cCAq
cmdycCkKPiAgewo+ICAJc3RydWN0IHJjYXJfZHVfZGV2aWNlICpyY2R1ID0gcmdycC0+ZGV2Owo+
ICsJdTMyIGRlZnI3ID0gREVGUjdfQ09ERTsKPiAgCj4gIAkvKiBFbmFibGUgZXh0ZW5kZWQgZmVh
dHVyZXMgKi8KPiAgCXJjYXJfZHVfZ3JvdXBfd3JpdGUocmdycCwgREVGUiwgREVGUl9DT0RFIHwg
REVGUl9ERUZFKTsKPiBAQCAtMTQ3LDYgKzE0OCwxNSBAQCBzdGF0aWMgdm9pZCByY2FyX2R1X2dy
b3VwX3NldHVwKHN0cnVjdCByY2FyX2R1X2dyb3VwICpyZ3JwKQo+ICAKPiAgCXJjYXJfZHVfZ3Jv
dXBfc2V0dXBfcGlucyhyZ3JwKTsKPiAgCj4gKwkvKgo+ICsJICogVE9ETzogSGFuZGxlIHJvdXRp
bmcgb2YgdGhlIERVIG91dHB1dCB0byBDTU0gZHluYW1pY2FsbHksIGFzIHdlCj4gKwkgKiBzaG91
bGQgYnlwYXNzIENNTSBjb21wbGV0ZWx5IHdoZW4gbm8gY29sb3IgbWFuYWdlbWVudCBmZWF0dXJl
IGlzCj4gKwkgKiB1c2VkLgo+ICsJICovCj4gKwlkZWZyNyB8PSAocmdycC0+Y21tc19tYXNrICYg
QklUKDEpID8gREVGUjdfQ01NRTEgOiAwKSB8Cj4gKwkJIChyZ3JwLT5jbW1zX21hc2sgJiBCSVQo
MCkgPyBERUZSN19DTU1FMCA6IDApOwo+ICsJcmNhcl9kdV9ncm91cF93cml0ZShyZ3JwLCBERUZS
NywgZGVmcjcpOwo+ICsKPiAgCWlmIChyY2R1LT5pbmZvLT5nZW4gPj0gMikgewo+ICAJCXJjYXJf
ZHVfZ3JvdXBfc2V0dXBfZGVmcjgocmdycCk7Cj4gIAkJcmNhcl9kdV9ncm91cF9zZXR1cF9kaWRz
cihyZ3JwKTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9y
ZWdzLmggYi9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X3JlZ3MuaAo+IGluZGV4IGJj
ODdmMDgwYjE3MC4uZmI5OTY0OTQ5MzY4IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9y
Y2FyLWR1L3JjYXJfZHVfcmVncy5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNh
cl9kdV9yZWdzLmgKPiBAQCAtMTk3LDYgKzE5NywxMSBAQAo+ICAjZGVmaW5lIERFRlI2X01MT1Mx
CQkoMSA8PCAyKQo+ICAjZGVmaW5lIERFRlI2X0RFRkFVTFQJCShERUZSNl9DT0RFIHwgREVGUjZf
VENORTEpCj4gIAo+ICsjZGVmaW5lIERFRlI3CQkJMHgwMDBlYwo+ICsjZGVmaW5lIERFRlI3X0NP
REUJCSgweDc3NzkgPDwgMTYpCj4gKyNkZWZpbmUgREVGUjdfQ01NRTEJCUJJVCg2KQo+ICsjZGVm
aW5lIERFRlI3X0NNTUUwCQlCSVQoNCkKPiArCj4gIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCj4g
ICAqIFI4QTc3OTAtb25seSBDb250cm9sIFJlZ2lzdGVycwo+ICAgKi8KCi0tIApSZWdhcmRzLAoK
TGF1cmVudCBQaW5jaGFydApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3Rv
cC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmkt
ZGV2ZWw=
