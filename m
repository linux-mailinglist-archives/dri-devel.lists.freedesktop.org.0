Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 19A5F3C08C
	for <lists+dri-devel@lfdr.de>; Tue, 11 Jun 2019 02:29:41 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7DBD789145;
	Tue, 11 Jun 2019 00:29:13 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from bhuna.collabora.co.uk (bhuna.collabora.co.uk [46.235.227.227])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7EB6A890E9
 for <dri-devel@lists.freedesktop.org>; Mon, 10 Jun 2019 09:30:25 +0000 (UTC)
Received: from [127.0.0.1] (localhost [127.0.0.1])
 (Authenticated sender: eballetbo) with ESMTPSA id D4CBC284C4A
Subject: Re: [PATCH] drm/bridge: analogix_dp: Convert to GPIO descriptors
To: Linus Walleij <linus.walleij@linaro.org>,
 Andrzej Hajda <a.hajda@samsung.com>,
 Laurent Pinchart <Laurent.pinchart@ideasonboard.com>
References: <20190609231339.22136-1-linus.walleij@linaro.org>
From: Enric Balletbo i Serra <enric.balletbo@collabora.com>
Message-ID: <7c983264-0f16-d6b0-dd00-2ec0b90e3855@collabora.com>
Date: Mon, 10 Jun 2019 11:30:21 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.7.0
MIME-Version: 1.0
In-Reply-To: <20190609231339.22136-1-linus.walleij@linaro.org>
Content-Language: en-GB
X-Mailman-Approved-At: Tue, 11 Jun 2019 00:29:12 +0000
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Sean Paul <seanpaul@chromium.org>, Douglas Anderson <dianders@chromium.org>,
 dri-devel@lists.freedesktop.org, Marek Szyprowski <m.szyprowski@samsung.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGksCgpPbiAxMC82LzE5IDE6MTMsIExpbnVzIFdhbGxlaWogd3JvdGU6Cj4gVGhpcyBjb252ZXJ0
cyB0aGUgQW5hbG9naXggZGlzcGxheSBwb3J0IHRvIHVzZSBHUElPIGRlc2NyaXB0b3JzCj4gaW5z
dGVhZCBvZiBEVC1leHRyYWN0ZWQgbnVtYmVycy4KPiAKPiBDYzogRG91Z2xhcyBBbmRlcnNvbiA8
ZGlhbmRlcnNAY2hyb21pdW0ub3JnPgo+IENjOiBTZWFuIFBhdWwgPHNlYW5wYXVsQGNocm9taXVt
Lm9yZz4KPiBDYzogTWFyZWsgU3p5cHJvd3NraSA8bS5zenlwcm93c2tpQHNhbXN1bmcuY29tPgo+
IENjOiBFbnJpYyBCYWxsZXRibyBpIFNlcnJhIDxlbnJpYy5iYWxsZXRib0Bjb2xsYWJvcmEuY29t
Pgo+IFNpZ25lZC1vZmYtYnk6IExpbnVzIFdhbGxlaWogPGxpbnVzLndhbGxlaWpAbGluYXJvLm9y
Zz4KClJldmlld2VkLWJ5OiBFbnJpYyBCYWxsZXRibyBpIFNlcnJhIDxlbnJpYy5iYWxsZXRib0Bj
b2xsYWJvcmEuY29tPgoKPiAtLS0KPiAgLi4uL2RybS9icmlkZ2UvYW5hbG9naXgvYW5hbG9naXhf
ZHBfY29yZS5jICAgIHwgMjggKysrKysrKysrLS0tLS0tLS0tLQo+ICAuLi4vZHJtL2JyaWRnZS9h
bmFsb2dpeC9hbmFsb2dpeF9kcF9jb3JlLmggICAgfCAgNCArKy0KPiAgLi4uL2dwdS9kcm0vYnJp
ZGdlL2FuYWxvZ2l4L2FuYWxvZ2l4X2RwX3JlZy5jIHwgMTQgKysrKystLS0tLQo+ICAzIGZpbGVz
IGNoYW5nZWQsIDIzIGluc2VydGlvbnMoKyksIDIzIGRlbGV0aW9ucygtKQo+IAo+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FuYWxvZ2l4X2RwX2NvcmUuYyBi
L2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9naXgvYW5hbG9naXhfZHBfY29yZS5jCj4gaW5k
ZXggMjI1ZjVlNWRkNjliLi42NDg0MmJiYjJmM2QgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2JyaWRnZS9hbmFsb2dpeC9hbmFsb2dpeF9kcF9jb3JlLmMKPiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FuYWxvZ2l4X2RwX2NvcmUuYwo+IEBAIC0xOCw4ICsxOCw3
IEBACj4gICNpbmNsdWRlIDxsaW51eC9pb3BvbGwuaD4KPiAgI2luY2x1ZGUgPGxpbnV4L2ludGVy
cnVwdC5oPgo+ICAjaW5jbHVkZSA8bGludXgvb2YuaD4KPiAtI2luY2x1ZGUgPGxpbnV4L29mX2dw
aW8uaD4KPiAtI2luY2x1ZGUgPGxpbnV4L2dwaW8uaD4KPiArI2luY2x1ZGUgPGxpbnV4L2dwaW8v
Y29uc3VtZXIuaD4KPiAgI2luY2x1ZGUgPGxpbnV4L2NvbXBvbmVudC5oPgo+ICAjaW5jbHVkZSA8
bGludXgvcGh5L3BoeS5oPgo+ICAKPiBAQCAtMTU4NSwxMiArMTU4NCwxOCBAQCBhbmFsb2dpeF9k
cF9iaW5kKHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGRybV9kZXZpY2UgKmRybV9kZXYsCj4g
IAo+ICAJZHAtPmZvcmNlX2hwZCA9IG9mX3Byb3BlcnR5X3JlYWRfYm9vbChkZXYtPm9mX25vZGUs
ICJmb3JjZS1ocGQiKTsKPiAgCj4gLQlkcC0+aHBkX2dwaW8gPSBvZl9nZXRfbmFtZWRfZ3Bpbyhk
ZXYtPm9mX25vZGUsICJocGQtZ3Bpb3MiLCAwKTsKPiAtCWlmICghZ3Bpb19pc192YWxpZChkcC0+
aHBkX2dwaW8pKQo+IC0JCWRwLT5ocGRfZ3BpbyA9IG9mX2dldF9uYW1lZF9ncGlvKGRldi0+b2Zf
bm9kZSwKPiAtCQkJCQkJICJzYW1zdW5nLGhwZC1ncGlvIiwgMCk7Cj4gKwkvKiBUcnkgdHdvIGRp
ZmZlcmVudCBuYW1lcyAqLwo+ICsJZHAtPmhwZF9ncGlvZCA9IGRldm1fZ3Bpb2RfZ2V0X29wdGlv
bmFsKGRldiwgImhwZCIsIEdQSU9EX0lOKTsKPiArCWlmICghZHAtPmhwZF9ncGlvZCkKPiArCQlk
cC0+aHBkX2dwaW9kID0gZGV2bV9ncGlvZF9nZXRfb3B0aW9uYWwoZGV2LCAic2Ftc3VuZyxocGQi
LAo+ICsJCQkJCQkJR1BJT0RfSU4pOwo+ICsJaWYgKElTX0VSUihkcC0+aHBkX2dwaW9kKSkgewo+
ICsJCWRldl9lcnIoZGV2LCAiZXJyb3IgZ2V0dGluZyBIRFAgR1BJTzogJWxkXG4iLAo+ICsJCQlQ
VFJfRVJSKGRwLT5ocGRfZ3Bpb2QpKTsKPiArCQlyZXR1cm4gRVJSX0NBU1QoZHAtPmhwZF9ncGlv
ZCk7Cj4gKwl9Cj4gIAo+IC0JaWYgKGdwaW9faXNfdmFsaWQoZHAtPmhwZF9ncGlvKSkgewo+ICsJ
aWYgKGRwLT5ocGRfZ3Bpb2QpIHsKPiAgCQkvKgo+ICAJCSAqIFNldCB1cCB0aGUgaG90cGx1ZyBH
UElPIGZyb20gdGhlIGRldmljZSB0cmVlIGFzIGFuIGludGVycnVwdC4KPiAgCQkgKiBTaW1wbHkg
c3BlY2lmeWluZyBhIGRpZmZlcmVudCBpbnRlcnJ1cHQgaW4gdGhlIGRldmljZSB0cmVlCj4gQEAg
LTE1OTgsMTYgKzE2MDMsOSBAQCBhbmFsb2dpeF9kcF9iaW5kKHN0cnVjdCBkZXZpY2UgKmRldiwg
c3RydWN0IGRybV9kZXZpY2UgKmRybV9kZXYsCj4gIAkJICogdXNpbmcgYSBHUElPLiAgV2UgYWxz
byBuZWVkIHRoZSBhY3R1YWwgR1BJTyBzcGVjaWZpZXIgc28KPiAgCQkgKiB0aGF0IHdlIGNhbiBn
ZXQgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIEdQSU8uCj4gIAkJICovCj4gLQkJcmV0ID0gZGV2
bV9ncGlvX3JlcXVlc3Rfb25lKCZwZGV2LT5kZXYsIGRwLT5ocGRfZ3BpbywgR1BJT0ZfSU4sCj4g
LQkJCQkJICAgICJocGRfZ3BpbyIpOwo+IC0JCWlmIChyZXQpIHsKPiAtCQkJZGV2X2VycigmcGRl
di0+ZGV2LCAiZmFpbGVkIHRvIGdldCBocGQgZ3Bpb1xuIik7Cj4gLQkJCXJldHVybiBFUlJfUFRS
KHJldCk7Cj4gLQkJfQo+IC0JCWRwLT5pcnEgPSBncGlvX3RvX2lycShkcC0+aHBkX2dwaW8pOwo+
ICsJCWRwLT5pcnEgPSBncGlvZF90b19pcnEoZHAtPmhwZF9ncGlvZCk7Cj4gIAkJaXJxX2ZsYWdz
ID0gSVJRRl9UUklHR0VSX1JJU0lORyB8IElSUUZfVFJJR0dFUl9GQUxMSU5HOwo+ICAJfSBlbHNl
IHsKPiAtCQlkcC0+aHBkX2dwaW8gPSAtRU5PREVWOwo+ICAJCWRwLT5pcnEgPSBwbGF0Zm9ybV9n
ZXRfaXJxKHBkZXYsIDApOwo+ICAJCWlycV9mbGFncyA9IDA7Cj4gIAl9Cj4gZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9naXgvYW5hbG9naXhfZHBfY29yZS5oIGIvZHJp
dmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9hbmFsb2dpeF9kcF9jb3JlLmgKPiBpbmRleCA3
NjkyNTVkYzZlOTkuLmRjNjVjMmJhZmE2MyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
YnJpZGdlL2FuYWxvZ2l4L2FuYWxvZ2l4X2RwX2NvcmUuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9icmlkZ2UvYW5hbG9naXgvYW5hbG9naXhfZHBfY29yZS5oCj4gQEAgLTM4LDYgKzM4LDggQEAK
PiAgI2RlZmluZSBEUENEX1ZPTFRBR0VfU1dJTkdfU0VUKHgpCQkoKCh4KSAmIDB4MykgPDwgMCkK
PiAgI2RlZmluZSBEUENEX1ZPTFRBR0VfU1dJTkdfR0VUKHgpCQkoKCh4KSA+PiAwKSAmIDB4MykK
PiAgCj4gK3N0cnVjdCBncGlvX2Rlc2M7Cj4gKwo+ICBlbnVtIGxpbmtfbGFuZV9jb3VudF90eXBl
IHsKPiAgCUxBTkVfQ09VTlQxID0gMSwKPiAgCUxBTkVfQ09VTlQyID0gMiwKPiBAQCAtMTcxLDcg
KzE3Myw3IEBAIHN0cnVjdCBhbmFsb2dpeF9kcF9kZXZpY2Ugewo+ICAJc3RydWN0IGxpbmtfdHJh
aW4JbGlua190cmFpbjsKPiAgCXN0cnVjdCBwaHkJCSpwaHk7Cj4gIAlpbnQJCQlkcG1zX21vZGU7
Cj4gLQlpbnQJCQlocGRfZ3BpbzsKPiArCXN0cnVjdCBncGlvX2Rlc2MJKmhwZF9ncGlvZDsKPiAg
CWJvb2wgICAgICAgICAgICAgICAgICAgIGZvcmNlX2hwZDsKPiAgCWJvb2wJCQlwc3JfZW5hYmxl
Owo+ICAJYm9vbAkJCWZhc3RfdHJhaW5fZW5hYmxlOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FuYWxvZ2l4X2RwX3JlZy5jIGIvZHJpdmVycy9ncHUvZHJt
L2JyaWRnZS9hbmFsb2dpeC9hbmFsb2dpeF9kcF9yZWcuYwo+IGluZGV4IGE1ZjI3NjNkNzJlNC4u
N2FhYjJkNmQ3MTBjIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9n
aXgvYW5hbG9naXhfZHBfcmVnLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxv
Z2l4L2FuYWxvZ2l4X2RwX3JlZy5jCj4gQEAgLTEyLDcgKzEyLDcgQEAKPiAgCj4gICNpbmNsdWRl
IDxsaW51eC9kZWxheS5oPgo+ICAjaW5jbHVkZSA8bGludXgvZGV2aWNlLmg+Cj4gLSNpbmNsdWRl
IDxsaW51eC9ncGlvLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9ncGlvL2NvbnN1bWVyLmg+Cj4gICNp
bmNsdWRlIDxsaW51eC9pby5oPgo+ICAjaW5jbHVkZSA8bGludXgvaW9wb2xsLmg+Cj4gIAo+IEBA
IC0zOTcsNyArMzk3LDcgQEAgdm9pZCBhbmFsb2dpeF9kcF9jbGVhcl9ob3RwbHVnX2ludGVycnVw
dHMoc3RydWN0IGFuYWxvZ2l4X2RwX2RldmljZSAqZHApCj4gIHsKPiAgCXUzMiByZWc7Cj4gIAo+
IC0JaWYgKGdwaW9faXNfdmFsaWQoZHAtPmhwZF9ncGlvKSkKPiArCWlmIChkcC0+aHBkX2dwaW9k
KQo+ICAJCXJldHVybjsKPiAgCj4gIAlyZWcgPSBIT1RQTFVHX0NIRyB8IEhQRF9MT1NUIHwgUExV
RzsKPiBAQCAtNDExLDcgKzQxMSw3IEBAIHZvaWQgYW5hbG9naXhfZHBfaW5pdF9ocGQoc3RydWN0
IGFuYWxvZ2l4X2RwX2RldmljZSAqZHApCj4gIHsKPiAgCXUzMiByZWc7Cj4gIAo+IC0JaWYgKGdw
aW9faXNfdmFsaWQoZHAtPmhwZF9ncGlvKSkKPiArCWlmIChkcC0+aHBkX2dwaW9kKQo+ICAJCXJl
dHVybjsKPiAgCj4gIAlhbmFsb2dpeF9kcF9jbGVhcl9ob3RwbHVnX2ludGVycnVwdHMoZHApOwo+
IEBAIC00MzQsOCArNDM0LDggQEAgZW51bSBkcF9pcnFfdHlwZSBhbmFsb2dpeF9kcF9nZXRfaXJx
X3R5cGUoc3RydWN0IGFuYWxvZ2l4X2RwX2RldmljZSAqZHApCj4gIHsKPiAgCXUzMiByZWc7Cj4g
IAo+IC0JaWYgKGdwaW9faXNfdmFsaWQoZHAtPmhwZF9ncGlvKSkgewo+IC0JCXJlZyA9IGdwaW9f
Z2V0X3ZhbHVlKGRwLT5ocGRfZ3Bpbyk7Cj4gKwlpZiAoZHAtPmhwZF9ncGlvZCkgewo+ICsJCXJl
ZyA9IGdwaW9kX2dldF92YWx1ZShkcC0+aHBkX2dwaW9kKTsKPiAgCQlpZiAocmVnKQo+ICAJCQly
ZXR1cm4gRFBfSVJRX1RZUEVfSFBfQ0FCTEVfSU47Cj4gIAkJZWxzZQo+IEBAIC01MDcsOCArNTA3
LDggQEAgaW50IGFuYWxvZ2l4X2RwX2dldF9wbHVnX2luX3N0YXR1cyhzdHJ1Y3QgYW5hbG9naXhf
ZHBfZGV2aWNlICpkcCkKPiAgewo+ICAJdTMyIHJlZzsKPiAgCj4gLQlpZiAoZ3Bpb19pc192YWxp
ZChkcC0+aHBkX2dwaW8pKSB7Cj4gLQkJaWYgKGdwaW9fZ2V0X3ZhbHVlKGRwLT5ocGRfZ3Bpbykp
Cj4gKwlpZiAoZHAtPmhwZF9ncGlvZCkgewo+ICsJCWlmIChncGlvZF9nZXRfdmFsdWUoZHAtPmhw
ZF9ncGlvZCkpCj4gIAkJCXJldHVybiAwOwo+ICAJfSBlbHNlIHsKPiAgCQlyZWcgPSByZWFkbChk
cC0+cmVnX2Jhc2UgKyBBTkFMT0dJWF9EUF9TWVNfQ1RMXzMpOwo+IApfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRy
aS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5v
cmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
