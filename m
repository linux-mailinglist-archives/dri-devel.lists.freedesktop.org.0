Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id E9CCA329F7
	for <lists+dri-devel@lfdr.de>; Mon,  3 Jun 2019 09:46:05 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id BDA5E89561;
	Mon,  3 Jun 2019 07:46:03 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from lb2-smtp-cloud9.xs4all.net (lb2-smtp-cloud9.xs4all.net
 [194.109.24.26])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 361A3892C5
 for <dri-devel@lists.freedesktop.org>; Mon,  3 Jun 2019 07:46:02 +0000 (UTC)
Received: from [192.168.2.10] ([46.9.252.75])
 by smtp-cloud9.xs4all.net with ESMTPA
 id XhfBhJVUfsDWyXhfFhrnFt; Mon, 03 Jun 2019 09:46:00 +0200
Subject: Re: [PATCH 1/7] video: add HDMI state notifier support
To: Cheng-Yi Chiang <cychiang@chromium.org>, linux-kernel@vger.kernel.org
References: <20190603043251.226549-1-cychiang@chromium.org>
 <20190603043251.226549-2-cychiang@chromium.org>
From: Hans Verkuil <hverkuil@xs4all.nl>
Message-ID: <41e7052b-a58c-5a8c-5d94-37237e0c2070@xs4all.nl>
Date: Mon, 3 Jun 2019 09:45:49 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.6.1
MIME-Version: 1.0
In-Reply-To: <20190603043251.226549-2-cychiang@chromium.org>
Content-Language: en-US
X-CMAE-Envelope: MS4wfEYM/Yd+PSodgdejCeAlnWv51xr3yOXJCPj37zsgcClJ04nn3coNtglE8Ug13Swum+Qh1ijBTX8QS8Pka+jiOmmT72B0o9Y8Ema3Oh4zfNfQsJyQhNyY
 l8q7+BTYPwfKhfTD5itkSoH8vUaGSFmYbSKo11zMH6AnRgxextF+/fEw3BHYlcegQawzD4uQWVLH1y52XVaT0Wj52G1YzXlWh/I6cH7ef69FUCezICn25UdY
 UYdAFlQccC3zR7WJk6m9PPbrMH9S76lgx3KyKEBMvl83BaAp9KThNW/VO9nSpDRSiEGRb5w5Dd+yN8QvyEJxLF/6fBtftiXBnjSElOiv12BD6C56GhyTO5kG
 sVClVI6n+oB6OtZ3KkmbY4x6ddE4F8EibBBWe36vfIEfgWAF4358VfNKNcPeMFAyfGoN0UvC1f3g1we/s3FGqMpGBhyUSYlkowIZ6UNQa8z1TDteEKaNMdW/
 GKGsjxJab00rM0frPcvK+K+/oYTj2NtHFfeOnyW8WprX8LdNHpyQY1HcoUggrZC6bGkmvgIqIG0kC+zjBHYoVg4Low/8OO30aoxxCho7eYJnETuUt9xbgpGW
 Z5SWdE8iWBYl/W9/bkAXEiH7qj2Fd8cdwEDmklzTm4UHIl53f/v5M0zIvncMZ3vREViTUo5hm+jCvQhddqIwGPR+FeR6x4pbiP4x7sEvo7ch85woMjvpFPex
 /GnPuiEPTygJASTUEeDOJgxKU9Q0loSiC3EtjfRfzV9qmMvUMSKeo6pf8kXrAueue1u7jhObL8zcp+KVn/vmVPF9WSnJWW8KByJCSPZSukjzG8Or86ZLotvO
 SbacLCp4lPRR1m/tod/2qf5RIouNjvG3f18NAOM6AqAKnezS7HxkUdnfi1W3cIC3pYfAXlkTpnPdLprIYJaaNWFKJK1jqWVOR/fE86VhisnF3W9Ahqvr3B5p
 OEU3X/vP1hzDzO4SdaUhxGrz2MlcZ6vxs2pPTnT47cjZzzkjphm4BNXWmLzDi5VGBpi2+SXYRpPhif31stZ3T6ch4bkvDBbFf9JJ++2IJtwWEvkc
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: alsa-devel@alsa-project.org, Liam Girdwood <lgirdwood@gmail.com>,
 David Airlie <airlied@linux.ie>, dri-devel@lists.freedesktop.org,
 Takashi Iwai <tiwai@suse.com>,
 Laurent Pinchart <Laurent.pinchart@ideasonboard.com>,
 linux-rockchip@lists.infradead.org, dgreid@chromium.org,
 linux-media@vger.kernel.org, devicetree@vger.kernel.org, tzungbi@chromium.org,
 Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>,
 Russell King <rmk+kernel@armlinux.org.uk>, Rob Herring <robh+dt@kernel.org>,
 Jaroslav Kysela <perex@perex.cz>, linux-arm-kernel@lists.infradead.org,
 Greg Kroah-Hartman <gregkh@linuxfoundation.org>, dianders@chromium.org,
 Mark Brown <broonie@kernel.org>, Dariusz Marcinkiewicz <darekm@google.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gNi8zLzE5IDY6MzIgQU0sIENoZW5nLVlpIENoaWFuZyB3cm90ZToKPiBGcm9tOiBIYW5zIFZl
cmt1aWwgPGhhbnMudmVya3VpbEBjaXNjby5jb20+Cj4gCj4gQWRkIHN1cHBvcnQgZm9yIEhETUkg
aG90cGx1ZyBhbmQgRURJRCBub3RpZmllcnMsIHdoaWNoIGlzIHVzZWQgdG8gY29udmV5Cj4gaW5m
b3JtYXRpb24gZnJvbSBIRE1JIGRyaXZlcnMgdG8gdGhlaXIgQ0VDIGFuZCBhdWRpbyBjb3VudGVy
cGFydHMuCj4gCj4gQmFzZWQgb24gYW4gZWFybGllciB2ZXJzaW9uIGZyb20gUnVzc2VsbCBLaW5n
Ogo+IAo+IGh0dHBzOi8vcGF0Y2h3b3JrLmtlcm5lbC5vcmcvcGF0Y2gvOTI3NzA0My8KPiAKPiBU
aGUgaGRtaV9ub3RpZmllciBpcyBhIHJlZmVyZW5jZSBjb3VudGVkIG9iamVjdCBjb250YWluaW5n
IHRoZSBIRE1JIHN0YXRlCj4gb2YgYW4gSERNSSBkZXZpY2UuCj4gCj4gV2hlbiBhIG5ldyBub3Rp
ZmllciBpcyByZWdpc3RlcmVkIHRoZSBjdXJyZW50IHN0YXRlIHdpbGwgYmUgcmVwb3J0ZWQgdG8K
PiB0aGF0IG5vdGlmaWVyIGF0IHJlZ2lzdHJhdGlvbiB0aW1lLgo+IAo+IEJhc2VkIG9uIEhhbnMg
VmVya3VpbCdzIHBhdGNoOgo+IAo+IGh0dHBzOi8vcGF0Y2h3b3JrLmtlcm5lbC5vcmcvcGF0Y2gv
OTQ3MjUyMS8KCkVybSwgeW91IGFyZSBhd2FyZSB0aGF0IHRoaXMgcGF0Y2ggbW9ycGhlZCBpbnRv
IGEgQ0VDLXNwZWNpZmljIG5vdGlmaWVyCmZvdW5kIGluIGRyaXZlcnMvbWVkaWEvY2VjL2NlYy1u
b3RpZmllci5jPwoKSSBkb24ndCB0aGluayBpdCBtYWtlcyBzZW5zZSB0byBoYXZlIHR3byBub3Rp
ZmllciBpbXBsZW1lbnRhdGlvbnMgaW4gdGhlIGtlcm5lbC4KVGhlIG9yaWdpbmFsIGludGVudGlv
biB3YXMgdG8gaGF2ZSB0aGUgbm90aWZpZXIgZGVhbCB3aXRoIGJvdGggQ0VDIGFuZCBBU29DCm5v
dGlmaWNhdGlvbnMsIGJ1dCB0aGVyZSB3YXMgbm90IGVub3VnaCBpbnRlcmVzdCBmb3IgdGhlIEFT
b0MgYml0cyBhdCB0aGUgdGltZQphbmQgaXQgd2FzIGRyb3BwZWQuCgpJIGFtIHBsYW5uaW5nIGNo
YW5nZXMgdG8gdGhlIGNlYy1ub3RpZmllciBBUEksIEkgaG9wZSB0byB3b3JrIG9uIHRoYXQgdGhp
cwp3ZWVrLiBJJ2xsIENDIHlvdSB3aGVuIEkgcG9zdCB0aG9zZS4gVGhvc2UgbWlnaHQgYmUgYSBn
b29kIHN0YXJ0aW5nIHBvaW50CnRvIGNvbnZlcnQgdGhlIGNlYy1ub3RpZmllciB0byBhbiBoZG1p
LW5vdGlmaWVyIGFzIHdhcyBvcmlnaW5hbGx5IGludGVuZGVkLgoKSSd2ZSBhZGRlZCB5b3VyIGNv
bGxlYWd1ZSBEYXJpdXN6IE1hcmNpbmtpZXdpY3ogdG8gdGhlIENDIGxpc3Qgc2luY2UgaGUncyBi
ZWVuCndvcmtpbmcgb24gc29tZSBuaWNlIGNlYy1ub3RpZmllciBpbXByb3ZlbWVudHMgYXMgd2Vs
bC4KClJlZ2FyZHMsCgoJSGFucwoKPiAKPiBNb2RpZmllZCBieSBDaGVuZy1ZaSBDaGlhbmc6Cj4g
IC0gQWRkIGEgc2VjdGlvbiBpbiBNQUlOVEFJTkVSLgo+ICAtIENoYW5nZXMgY29ubmVjdGVkIGFu
ZCBoYXNfZWxkIHRvIGJpdGZpZWxkIG9mIHVuc2lnbmVkIGludC4KPiAgLSBPdGhlciBtaW5vciBm
aXhlcyB0byBwYXNzIGNoZWNrcGF0Y2gucGwgLS1zdHJpY3QgY2hlY2tzLgo+IAo+IFNpZ25lZC1v
ZmYtYnk6IEhhbnMgVmVya3VpbCA8aGFucy52ZXJrdWlsQGNpc2NvLmNvbT4KPiBBY2tlZC1ieTog
UGhpbGlwcCBaYWJlbCA8cC56YWJlbEBwZW5ndXRyb25peC5kZT4KPiBTaWduZWQtb2ZmLWJ5OiBD
aGVuZy1ZaSBDaGlhbmcgPGN5Y2hpYW5nQGNocm9taXVtLm9yZz4KPiAtLS0KPiBUaGUgb3JpZ2lu
YWwgcGF0Y2ggaXMgYXQKPiBodHRwczovL2xvcmUua2VybmVsLm9yZy9saW51eC1hcm0ta2VybmVs
LzIwMTYxMjEzMTUwODEzLjM3OTY2LTItaHZlcmt1aWxAeHM0YWxsLm5sCj4gCj4gIE1BSU5UQUlO
RVJTICAgICAgICAgICAgICAgICAgIHwgICA2ICsrCj4gIGRyaXZlcnMvdmlkZW8vS2NvbmZpZyAg
ICAgICAgIHwgICAzICsKPiAgZHJpdmVycy92aWRlby9NYWtlZmlsZSAgICAgICAgfCAgIDEgKwo+
ICBkcml2ZXJzL3ZpZGVvL2hkbWktbm90aWZpZXIuYyB8IDE0NSArKysrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrCj4gIGluY2x1ZGUvbGludXgvaGRtaS1ub3RpZmllci5oIHwgMTEyICsr
KysrKysrKysrKysrKysrKysrKysrKysrCj4gIDUgZmlsZXMgY2hhbmdlZCwgMjY3IGluc2VydGlv
bnMoKykKPiAgY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvdmlkZW8vaGRtaS1ub3RpZmllci5j
Cj4gIGNyZWF0ZSBtb2RlIDEwMDY0NCBpbmNsdWRlL2xpbnV4L2hkbWktbm90aWZpZXIuaAo+IAo+
IGRpZmYgLS1naXQgYS9NQUlOVEFJTkVSUyBiL01BSU5UQUlORVJTCj4gaW5kZXggNWNmYmVhNGNl
NTc1Li5mZmI3Mzc2Zjk1MDkgMTAwNjQ0Cj4gLS0tIGEvTUFJTlRBSU5FUlMKPiArKysgYi9NQUlO
VEFJTkVSUwo+IEBAIC0xNjY3Niw2ICsxNjY3NiwxMiBAQCBXOglodHRwczovL2xpbnV4dHYub3Jn
Cj4gIFM6CU1haW50YWluZWQKPiAgRjoJZHJpdmVycy9tZWRpYS9wbGF0Zm9ybS92aWNvZGVjLyoK
PiAgCj4gK1ZJREVPIEZSQU1FV09SSwo+ICtNOglIYW5zIFZlcmt1aWwgPGh2ZXJrdWlsQHhzNGFs
bC5ubD4KPiArTDoJbGludXgtbWVkaWFAdmdlci5rZXJuZWwub3JnCj4gK0Y6CWRyaXZlcnMvdmlk
ZW8vaGRtaS1ub3RpZmllci4qCj4gK1M6CU1haW50YWluZWQKPiArCj4gIFZJREVPIE1VTFRJUExF
WEVSIERSSVZFUgo+ICBNOglQaGlsaXBwIFphYmVsIDxwLnphYmVsQHBlbmd1dHJvbml4LmRlPgo+
ICBMOglsaW51eC1tZWRpYUB2Z2VyLmtlcm5lbC5vcmcKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy92
aWRlby9LY29uZmlnIGIvZHJpdmVycy92aWRlby9LY29uZmlnCj4gaW5kZXggODNkM2QyNzFjYTE1
Li4wMDBiYTliYzBhZTcgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy92aWRlby9LY29uZmlnCj4gKysr
IGIvZHJpdmVycy92aWRlby9LY29uZmlnCj4gQEAgLTM0LDYgKzM0LDkgQEAgY29uZmlnIFZJREVP
TU9ERV9IRUxQRVJTCj4gIGNvbmZpZyBIRE1JCj4gIAlib29sCj4gIAo+ICtjb25maWcgSERNSV9O
T1RJRklFUlMKPiArCWJvb2wKPiArCj4gIGVuZGlmICMgSEFTX0lPTUVNCj4gIAo+ICBpZiBWVAo+
IGRpZmYgLS1naXQgYS9kcml2ZXJzL3ZpZGVvL01ha2VmaWxlIGIvZHJpdmVycy92aWRlby9NYWtl
ZmlsZQo+IGluZGV4IGRmNzY1MGFkZWRlOS4uZWZmNDczNjEwMmNhIDEwMDY0NAo+IC0tLSBhL2Ry
aXZlcnMvdmlkZW8vTWFrZWZpbGUKPiArKysgYi9kcml2ZXJzL3ZpZGVvL01ha2VmaWxlCj4gQEAg
LTEsNiArMSw3IEBACj4gICMgU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAKPiAgb2Jq
LSQoQ09ORklHX1ZHQVNUQVRFKSAgICAgICAgICAgICs9IHZnYXN0YXRlLm8KPiAgb2JqLSQoQ09O
RklHX0hETUkpICAgICAgICAgICAgICAgICs9IGhkbWkubwo+ICtvYmotJChDT05GSUdfSERNSV9O
T1RJRklFUlMpICAgICAgKz0gaGRtaS1ub3RpZmllci5vCj4gIAo+ICBvYmotJChDT05GSUdfVlQp
CQkgICs9IGNvbnNvbGUvCj4gIG9iai0kKENPTkZJR19GQl9TVEkpCQkgICs9IGNvbnNvbGUvCj4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmlkZW8vaGRtaS1ub3RpZmllci5jIGIvZHJpdmVycy92aWRl
by9oZG1pLW5vdGlmaWVyLmMKPiBuZXcgZmlsZSBtb2RlIDEwMDY0NAo+IGluZGV4IDAwMDAwMDAw
MDAwMC4uZDFlZWRmNjYxNjQ4Cj4gLS0tIC9kZXYvbnVsbAo+ICsrKyBiL2RyaXZlcnMvdmlkZW8v
aGRtaS1ub3RpZmllci5jCj4gQEAgLTAsMCArMSwxNDUgQEAKPiArLy8gU1BEWC1MaWNlbnNlLUlk
ZW50aWZpZXI6IEdQTC0yLjAKPiArLyogaGRtaS1ub3RpZmllci5jIC0gbm90aWZ5IGludGVyZXN0
ZWQgcGFydGllcyBvZiAoZGlzKWNvbm5lY3QgYW5kIEVESUQKPiArICogZXZlbnRzCj4gKyAqCj4g
KyAqIENvcHlyaWdodCAyMDE2IFJ1c3NlbGwgS2luZyA8cm1rK2tlcm5lbEBhcm0ubGludXgub3Jn
LnVrPgo+ICsgKiBDb3B5cmlnaHQgMjAxNiBDaXNjbyBTeXN0ZW1zLCBJbmMuIGFuZC9vciBpdHMg
YWZmaWxpYXRlcy4KPiArICogQWxsIHJpZ2h0cyByZXNlcnZlZC4KPiArICovCj4gKwo+ICsjaW5j
bHVkZSA8bGludXgvZXhwb3J0Lmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9oZG1pLW5vdGlmaWVyLmg+
Cj4gKyNpbmNsdWRlIDxsaW51eC9zdHJpbmcuaD4KPiArI2luY2x1ZGUgPGxpbnV4L3NsYWIuaD4K
PiArI2luY2x1ZGUgPGxpbnV4L2xpc3QuaD4KPiArCj4gK3N0YXRpYyBMSVNUX0hFQUQoaGRtaV9u
b3RpZmllcnMpOwo+ICtzdGF0aWMgREVGSU5FX01VVEVYKGhkbWlfbm90aWZpZXJzX2xvY2spOwo+
ICsKPiArc3RydWN0IGhkbWlfbm90aWZpZXIgKmhkbWlfbm90aWZpZXJfZ2V0KHN0cnVjdCBkZXZp
Y2UgKmRldikKPiArewo+ICsJc3RydWN0IGhkbWlfbm90aWZpZXIgKm47Cj4gKwo+ICsJbXV0ZXhf
bG9jaygmaGRtaV9ub3RpZmllcnNfbG9jayk7Cj4gKwlsaXN0X2Zvcl9lYWNoX2VudHJ5KG4sICZo
ZG1pX25vdGlmaWVycywgaGVhZCkgewo+ICsJCWlmIChuLT5kZXYgPT0gZGV2KSB7Cj4gKwkJCW11
dGV4X3VubG9jaygmaGRtaV9ub3RpZmllcnNfbG9jayk7Cj4gKwkJCWtyZWZfZ2V0KCZuLT5rcmVm
KTsKPiArCQkJcmV0dXJuIG47Cj4gKwkJfQo+ICsJfQo+ICsJbiA9IGt6YWxsb2Moc2l6ZW9mKCpu
KSwgR0ZQX0tFUk5FTCk7Cj4gKwlpZiAoIW4pCj4gKwkJZ290byB1bmxvY2s7Cj4gKwluLT5kZXYg
PSBkZXY7Cj4gKwltdXRleF9pbml0KCZuLT5sb2NrKTsKPiArCUJMT0NLSU5HX0lOSVRfTk9USUZJ
RVJfSEVBRCgmbi0+bm90aWZpZXJzKTsKPiArCWtyZWZfaW5pdCgmbi0+a3JlZik7Cj4gKwlsaXN0
X2FkZF90YWlsKCZuLT5oZWFkLCAmaGRtaV9ub3RpZmllcnMpOwo+ICt1bmxvY2s6Cj4gKwltdXRl
eF91bmxvY2soJmhkbWlfbm90aWZpZXJzX2xvY2spOwo+ICsJcmV0dXJuIG47Cj4gK30KPiArRVhQ
T1JUX1NZTUJPTF9HUEwoaGRtaV9ub3RpZmllcl9nZXQpOwo+ICsKPiArc3RhdGljIHZvaWQgaGRt
aV9ub3RpZmllcl9yZWxlYXNlKHN0cnVjdCBrcmVmICprcmVmKQo+ICt7Cj4gKwlzdHJ1Y3QgaGRt
aV9ub3RpZmllciAqbiA9Cj4gKwkJY29udGFpbmVyX29mKGtyZWYsIHN0cnVjdCBoZG1pX25vdGlm
aWVyLCBrcmVmKTsKPiArCj4gKwltdXRleF9sb2NrKCZoZG1pX25vdGlmaWVyc19sb2NrKTsKPiAr
CWxpc3RfZGVsKCZuLT5oZWFkKTsKPiArCW11dGV4X3VubG9jaygmaGRtaV9ub3RpZmllcnNfbG9j
ayk7Cj4gKwlrZnJlZShuLT5lZGlkKTsKPiArCWtmcmVlKG4pOwo+ICt9Cj4gKwo+ICt2b2lkIGhk
bWlfbm90aWZpZXJfcHV0KHN0cnVjdCBoZG1pX25vdGlmaWVyICpuKQo+ICt7Cj4gKwlrcmVmX3B1
dCgmbi0+a3JlZiwgaGRtaV9ub3RpZmllcl9yZWxlYXNlKTsKPiArfQo+ICtFWFBPUlRfU1lNQk9M
X0dQTChoZG1pX25vdGlmaWVyX3B1dCk7Cj4gKwo+ICtpbnQgaGRtaV9ub3RpZmllcl9yZWdpc3Rl
cihzdHJ1Y3QgaGRtaV9ub3RpZmllciAqbiwgc3RydWN0IG5vdGlmaWVyX2Jsb2NrICpuYikKPiAr
ewo+ICsJaW50IHJldCA9IGJsb2NraW5nX25vdGlmaWVyX2NoYWluX3JlZ2lzdGVyKCZuLT5ub3Rp
ZmllcnMsIG5iKTsKPiArCj4gKwlpZiAocmV0KQo+ICsJCXJldHVybiByZXQ7Cj4gKwlrcmVmX2dl
dCgmbi0+a3JlZik7Cj4gKwltdXRleF9sb2NrKCZuLT5sb2NrKTsKPiArCWlmIChuLT5jb25uZWN0
ZWQpIHsKPiArCQlibG9ja2luZ19ub3RpZmllcl9jYWxsX2NoYWluKCZuLT5ub3RpZmllcnMsIEhE
TUlfQ09OTkVDVEVELCBuKTsKPiArCQlpZiAobi0+ZWRpZF9zaXplKQo+ICsJCQlibG9ja2luZ19u
b3RpZmllcl9jYWxsX2NoYWluKCZuLT5ub3RpZmllcnMsCj4gKwkJCQkJCSAgICAgSERNSV9ORVdf
RURJRCwgbik7Cj4gKwkJaWYgKG4tPmhhc19lbGQpCj4gKwkJCWJsb2NraW5nX25vdGlmaWVyX2Nh
bGxfY2hhaW4oJm4tPm5vdGlmaWVycywKPiArCQkJCQkJICAgICBIRE1JX05FV19FTEQsIG4pOwo+
ICsJfQo+ICsJbXV0ZXhfdW5sb2NrKCZuLT5sb2NrKTsKPiArCXJldHVybiAwOwo+ICt9Cj4gK0VY
UE9SVF9TWU1CT0xfR1BMKGhkbWlfbm90aWZpZXJfcmVnaXN0ZXIpOwo+ICsKPiAraW50IGhkbWlf
bm90aWZpZXJfdW5yZWdpc3RlcihzdHJ1Y3QgaGRtaV9ub3RpZmllciAqbiwgc3RydWN0IG5vdGlm
aWVyX2Jsb2NrICpuYikKPiArewo+ICsJaW50IHJldCA9IGJsb2NraW5nX25vdGlmaWVyX2NoYWlu
X3VucmVnaXN0ZXIoJm4tPm5vdGlmaWVycywgbmIpOwo+ICsKPiArCWlmIChyZXQgPT0gMCkKPiAr
CQloZG1pX25vdGlmaWVyX3B1dChuKTsKPiArCXJldHVybiByZXQ7Cj4gK30KPiArRVhQT1JUX1NZ
TUJPTF9HUEwoaGRtaV9ub3RpZmllcl91bnJlZ2lzdGVyKTsKPiArCj4gK3ZvaWQgaGRtaV9ldmVu
dF9jb25uZWN0KHN0cnVjdCBoZG1pX25vdGlmaWVyICpuKQo+ICt7Cj4gKwltdXRleF9sb2NrKCZu
LT5sb2NrKTsKPiArCW4tPmNvbm5lY3RlZCA9IHRydWU7Cj4gKwlibG9ja2luZ19ub3RpZmllcl9j
YWxsX2NoYWluKCZuLT5ub3RpZmllcnMsIEhETUlfQ09OTkVDVEVELCBuKTsKPiArCW11dGV4X3Vu
bG9jaygmbi0+bG9jayk7Cj4gK30KPiArRVhQT1JUX1NZTUJPTF9HUEwoaGRtaV9ldmVudF9jb25u
ZWN0KTsKPiArCj4gK3ZvaWQgaGRtaV9ldmVudF9kaXNjb25uZWN0KHN0cnVjdCBoZG1pX25vdGlm
aWVyICpuKQo+ICt7Cj4gKwltdXRleF9sb2NrKCZuLT5sb2NrKTsKPiArCW4tPmNvbm5lY3RlZCA9
IGZhbHNlOwo+ICsJbi0+aGFzX2VsZCA9IGZhbHNlOwo+ICsJbi0+ZWRpZF9zaXplID0gMDsKPiAr
CWJsb2NraW5nX25vdGlmaWVyX2NhbGxfY2hhaW4oJm4tPm5vdGlmaWVycywgSERNSV9ESVNDT05O
RUNURUQsIG4pOwo+ICsJbXV0ZXhfdW5sb2NrKCZuLT5sb2NrKTsKPiArfQo+ICtFWFBPUlRfU1lN
Qk9MX0dQTChoZG1pX2V2ZW50X2Rpc2Nvbm5lY3QpOwo+ICsKPiAraW50IGhkbWlfZXZlbnRfbmV3
X2VkaWQoc3RydWN0IGhkbWlfbm90aWZpZXIgKm4sIGNvbnN0IHZvaWQgKmVkaWQsIHNpemVfdCBz
aXplKQo+ICt7Cj4gKwltdXRleF9sb2NrKCZuLT5sb2NrKTsKPiArCWlmIChuLT5lZGlkX2FsbG9j
YXRlZF9zaXplIDwgc2l6ZSkgewo+ICsJCXZvaWQgKnAgPSBrbWFsbG9jKHNpemUsIEdGUF9LRVJO
RUwpOwo+ICsKPiArCQlpZiAoIXApIHsKPiArCQkJbXV0ZXhfdW5sb2NrKCZuLT5sb2NrKTsKPiAr
CQkJcmV0dXJuIC1FTk9NRU07Cj4gKwkJfQo+ICsJCWtmcmVlKG4tPmVkaWQpOwo+ICsJCW4tPmVk
aWQgPSBwOwo+ICsJCW4tPmVkaWRfYWxsb2NhdGVkX3NpemUgPSBzaXplOwo+ICsJfQo+ICsJbWVt
Y3B5KG4tPmVkaWQsIGVkaWQsIHNpemUpOwo+ICsJbi0+ZWRpZF9zaXplID0gc2l6ZTsKPiArCWJs
b2NraW5nX25vdGlmaWVyX2NhbGxfY2hhaW4oJm4tPm5vdGlmaWVycywgSERNSV9ORVdfRURJRCwg
bik7Cj4gKwltdXRleF91bmxvY2soJm4tPmxvY2spOwo+ICsJcmV0dXJuIDA7Cj4gK30KPiArRVhQ
T1JUX1NZTUJPTF9HUEwoaGRtaV9ldmVudF9uZXdfZWRpZCk7Cj4gKwo+ICt2b2lkIGhkbWlfZXZl
bnRfbmV3X2VsZChzdHJ1Y3QgaGRtaV9ub3RpZmllciAqbiwgY29uc3QgdTggZWxkWzEyOF0pCj4g
K3sKPiArCW11dGV4X2xvY2soJm4tPmxvY2spOwo+ICsJbWVtY3B5KG4tPmVsZCwgZWxkLCBzaXpl
b2Yobi0+ZWxkKSk7Cj4gKwluLT5oYXNfZWxkID0gdHJ1ZTsKPiArCWJsb2NraW5nX25vdGlmaWVy
X2NhbGxfY2hhaW4oJm4tPm5vdGlmaWVycywgSERNSV9ORVdfRUxELCBuKTsKPiArCW11dGV4X3Vu
bG9jaygmbi0+bG9jayk7Cj4gK30KPiArRVhQT1JUX1NZTUJPTF9HUEwoaGRtaV9ldmVudF9uZXdf
ZWxkKTsKPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9saW51eC9oZG1pLW5vdGlmaWVyLmggYi9pbmNs
dWRlL2xpbnV4L2hkbWktbm90aWZpZXIuaAo+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0Cj4gaW5kZXgg
MDAwMDAwMDAwMDAwLi5jOGYzNTExMGUzZTMKPiAtLS0gL2Rldi9udWxsCj4gKysrIGIvaW5jbHVk
ZS9saW51eC9oZG1pLW5vdGlmaWVyLmgKPiBAQCAtMCwwICsxLDExMiBAQAo+ICsvKiBTUERYLUxp
Y2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMAo+ICsgKiBoZG1pLW5vdGlmaWVyLmggLSBub3RpZnkg
aW50ZXJlc3RlZCBwYXJ0aWVzIG9mIChkaXMpY29ubmVjdCBhbmQgRURJRAo+ICsgKiBldmVudHMK
PiArICoKPiArICogQ29weXJpZ2h0IDIwMTYgUnVzc2VsbCBLaW5nIDxybWsra2VybmVsQGFybS5s
aW51eC5vcmcudWs+Cj4gKyAqIENvcHlyaWdodCAyMDE2IENpc2NvIFN5c3RlbXMsIEluYy4gYW5k
L29yIGl0cyBhZmZpbGlhdGVzLgo+ICsgKiBBbGwgcmlnaHRzIHJlc2VydmVkLgo+ICsgKi8KPiAr
Cj4gKyNpZm5kZWYgTElOVVhfSERNSV9OT1RJRklFUl9ICj4gKyNkZWZpbmUgTElOVVhfSERNSV9O
T1RJRklFUl9ICj4gKwo+ICsjaW5jbHVkZSA8bGludXgvdHlwZXMuaD4KPiArI2luY2x1ZGUgPGxp
bnV4L25vdGlmaWVyLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9rcmVmLmg+Cj4gKwo+ICtlbnVtIHsK
PiArCUhETUlfQ09OTkVDVEVELAo+ICsJSERNSV9ESVNDT05ORUNURUQsCj4gKwlIRE1JX05FV19F
RElELAo+ICsJSERNSV9ORVdfRUxELAo+ICt9Owo+ICsKPiArc3RydWN0IGRldmljZTsKPiArCj4g
K3N0cnVjdCBoZG1pX25vdGlmaWVyIHsKPiArCS8qIExvY2sgdG8gcHJvdGVjdCBjYWxsYmFjayBy
ZWdpc3RyYXRpb24gYW5kIG5vdGlmaWNhdGlvbi4gKi8KPiArCXN0cnVjdCBtdXRleCBsb2NrOwo+
ICsJc3RydWN0IGxpc3RfaGVhZCBoZWFkOwo+ICsJc3RydWN0IGtyZWYga3JlZjsKPiArCXN0cnVj
dCBibG9ja2luZ19ub3RpZmllcl9oZWFkIG5vdGlmaWVyczsKPiArCXN0cnVjdCBkZXZpY2UgKmRl
djsKPiArCj4gKwkvKiBDdXJyZW50IHN0YXRlICovCj4gKwl1bnNpZ25lZCBpbnQgY29ubmVjdGVk
IDogMTsKPiArCXVuc2lnbmVkIGludCBoYXNfZWxkIDogMTsKPiArCXVuc2lnbmVkIGNoYXIgZWxk
WzEyOF07Cj4gKwl2b2lkICplZGlkOwo+ICsJc2l6ZV90IGVkaWRfc2l6ZTsKPiArCXNpemVfdCBl
ZGlkX2FsbG9jYXRlZF9zaXplOwo+ICt9Owo+ICsKPiArLyoqCj4gKyAqIGhkbWlfbm90aWZpZXJf
Z2V0IC0gZmluZCBvciBjcmVhdGUgYSBuZXcgaGRtaV9ub3RpZmllciBmb3IgdGhlIGdpdmVuIGRl
dmljZS4KPiArICogQGRldjogZGV2aWNlIHRoYXQgc2VuZHMgdGhlIGV2ZW50cy4KPiArICoKPiAr
ICogSWYgYSBub3RpZmllciBmb3IgZGV2aWNlIEBkZXYgYWxyZWFkeSBleGlzdHMsIHRoZW4gaW5j
cmVhc2UgdGhlIHJlZmNvdW50Cj4gKyAqIGFuZCByZXR1cm4gdGhhdCBub3RpZmllci4KPiArICoK
PiArICogSWYgaXQgZG9lc24ndCBleGlzdCwgdGhlbiBhbGxvY2F0ZSBhIG5ldyBub3RpZmllciBz
dHJ1Y3QgYW5kIHJldHVybiBhCj4gKyAqIHBvaW50ZXIgdG8gdGhhdCBuZXcgc3RydWN0Lgo+ICsg
Kgo+ICsgKiBSZXR1cm4gTlVMTCBpZiB0aGUgbWVtb3J5IGNvdWxkIG5vdCBiZSBhbGxvY2F0ZWQu
Cj4gKyAqLwo+ICtzdHJ1Y3QgaGRtaV9ub3RpZmllciAqaGRtaV9ub3RpZmllcl9nZXQoc3RydWN0
IGRldmljZSAqZGV2KTsKPiArCj4gKy8qKgo+ICsgKiBoZG1pX25vdGlmaWVyX3B1dCAtIGRlY3Jl
YXNlIHJlZmNvdW50IGFuZCBkZWxldGUgd2hlbiB0aGUgcmVmY291bnQgcmVhY2hlcyAwLgo+ICsg
KiBAbjogbm90aWZpZXIKPiArICovCj4gK3ZvaWQgaGRtaV9ub3RpZmllcl9wdXQoc3RydWN0IGhk
bWlfbm90aWZpZXIgKm4pOwo+ICsKPiArLyoqCj4gKyAqIGhkbWlfbm90aWZpZXJfcmVnaXN0ZXIg
LSByZWdpc3RlciB0aGUgbm90aWZpZXIgd2l0aCB0aGUgbm90aWZpZXJfYmxvY2suCj4gKyAqIEBu
OiB0aGUgSERNSSBub3RpZmllcgo+ICsgKiBAbmI6IHRoZSBub3RpZmllcl9ibG9jawo+ICsgKi8K
PiAraW50IGhkbWlfbm90aWZpZXJfcmVnaXN0ZXIoc3RydWN0IGhkbWlfbm90aWZpZXIgKm4sIHN0
cnVjdCBub3RpZmllcl9ibG9jayAqbmIpOwo+ICsKPiArLyoqCj4gKyAqIGhkbWlfbm90aWZpZXJf
dW5yZWdpc3RlciAtIHVucmVnaXN0ZXIgdGhlIG5vdGlmaWVyIHdpdGggdGhlIG5vdGlmaWVyX2Js
b2NrLgo+ICsgKiBAbjogdGhlIEhETUkgbm90aWZpZXIKPiArICogQG5iOiB0aGUgbm90aWZpZXJf
YmxvY2sKPiArICovCj4gK2ludCBoZG1pX25vdGlmaWVyX3VucmVnaXN0ZXIoc3RydWN0IGhkbWlf
bm90aWZpZXIgKm4sCj4gKwkJCSAgICAgc3RydWN0IG5vdGlmaWVyX2Jsb2NrICpuYik7Cj4gKwo+
ICsvKioKPiArICogaGRtaV9ldmVudF9jb25uZWN0IC0gc2VuZCBhIGNvbm5lY3QgZXZlbnQuCj4g
KyAqIEBuOiB0aGUgSERNSSBub3RpZmllcgo+ICsgKgo+ICsgKiBTZW5kIGFuIEhETUlfQ09OTkVD
VEVEIGV2ZW50IHRvIGFueSByZWdpc3RlcmVkIHBhcnRpZXMuCj4gKyAqLwo+ICt2b2lkIGhkbWlf
ZXZlbnRfY29ubmVjdChzdHJ1Y3QgaGRtaV9ub3RpZmllciAqbik7Cj4gKwo+ICsvKioKPiArICog
aGRtaV9ldmVudF9kaXNjb25uZWN0IC0gc2VuZCBhIGRpc2Nvbm5lY3QgZXZlbnQuCj4gKyAqIEBu
OiB0aGUgSERNSSBub3RpZmllcgo+ICsgKgo+ICsgKiBTZW5kIGFuIEhETUlfRElTQ09OTkVDVEVE
IGV2ZW50IHRvIGFueSByZWdpc3RlcmVkIHBhcnRpZXMuCj4gKyAqLwo+ICt2b2lkIGhkbWlfZXZl
bnRfZGlzY29ubmVjdChzdHJ1Y3QgaGRtaV9ub3RpZmllciAqbik7Cj4gKwo+ICsvKioKPiArICog
aGRtaV9ldmVudF9uZXdfZWRpZCAtIHNlbmQgYSBuZXcgRURJRCBldmVudC4KPiArICogQG46IHRo
ZSBIRE1JIG5vdGlmaWVyCj4gKyAqCj4gKyAqIFNlbmQgYW4gSERNSV9ORVdfRURJRCBldmVudCB0
byBhbnkgcmVnaXN0ZXJlZCBwYXJ0aWVzLgo+ICsgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgbWFrZSBh
IGNvcHkgdGhlIEVESUQgc28gaXQgY2FuIHJldHVybiAtRU5PTUVNIGlmCj4gKyAqIG5vIG1lbW9y
eSBjb3VsZCBiZSBhbGxvY2F0ZWQuCj4gKyAqLwo+ICtpbnQgaGRtaV9ldmVudF9uZXdfZWRpZChz
dHJ1Y3QgaGRtaV9ub3RpZmllciAqbiwgY29uc3Qgdm9pZCAqZWRpZCwgc2l6ZV90IHNpemUpOwo+
ICsKPiArLyoqCj4gKyAqIGhkbWlfZXZlbnRfbmV3X2VsZCAtIHNlbmQgYSBuZXcgRUxEIGV2ZW50
Lgo+ICsgKiBAbjogdGhlIEhETUkgbm90aWZpZXIKPiArICoKPiArICogU2VuZCBhbiBIRE1JX05F
V19FTEQgZXZlbnQgdG8gYW55IHJlZ2lzdGVyZWQgcGFydGllcy4KPiArICovCj4gK3ZvaWQgaGRt
aV9ldmVudF9uZXdfZWxkKHN0cnVjdCBoZG1pX25vdGlmaWVyICpuLCBjb25zdCB1OCBlbGRbMTI4
XSk7Cj4gKwo+ICsjZW5kaWYKPiAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVk
ZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZv
L2RyaS1kZXZlbA==
