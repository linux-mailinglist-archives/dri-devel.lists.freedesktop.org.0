Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 297C29D2AF
	for <lists+dri-devel@lfdr.de>; Mon, 26 Aug 2019 17:27:22 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AE64F6E23B;
	Mon, 26 Aug 2019 15:27:13 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from bhuna.collabora.co.uk (bhuna.collabora.co.uk
 [IPv6:2a00:1098:0:82:1000:25:2eeb:e3e3])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 702EF6E231
 for <dri-devel@lists.freedesktop.org>; Mon, 26 Aug 2019 15:27:01 +0000 (UTC)
Received: from localhost.localdomain (unknown
 [IPv6:2a01:e0a:2c:6930:5cf4:84a1:2763:fe0d])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
 (No client certificate requested) (Authenticated sender: bbrezillon)
 by bhuna.collabora.co.uk (Postfix) with ESMTPSA id ADC3128BCE6;
 Mon, 26 Aug 2019 16:26:59 +0100 (BST)
From: Boris Brezillon <boris.brezillon@collabora.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH v2 09/21] drm/bridge: Introduce
 drm_bridge_chain_get_next_bridge()
Date: Mon, 26 Aug 2019 17:26:37 +0200
Message-Id: <20190826152649.13820-10-boris.brezillon@collabora.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190826152649.13820-1-boris.brezillon@collabora.com>
References: <20190826152649.13820-1-boris.brezillon@collabora.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Nikita Yushchenko <nikita.yoush@cogentembedded.com>,
 Jernej Skrabec <jernej.skrabec@siol.net>,
 Laurent Pinchart <Laurent.pinchart@ideasonboard.com>,
 Neil Armstrong <narmstrong@baylibre.com>,
 Andrey Smirnov <andrew.smirnov@gmail.com>, Jonas Karlman <jonas@kwiboo.se>,
 Seung-Woo Kim <sw0312.kim@samsung.com>,
 Kyungmin Park <kyungmin.park@samsung.com>,
 Thierry Reding <thierry.reding@gmail.com>, Chris Healy <Chris.Healy@zii.aero>,
 Boris Brezillon <boris.brezillon@collabora.com>, kernel@collabora.com,
 Sam Ravnborg <sam@ravnborg.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QW5kIHVzZSBpdCBpbiBkcml2ZXJzIGFjY2Vzc2luZyB0aGUgYnJpZGdlLT5uZXh0IGZpZWxkIGRp
cmVjdGx5LgpUaGlzIGlzIHBhcnQgb2Ygb3VyIGF0dGVtcHQgdG8gbWFrZSB0aGUgYnJpZGdlIGNo
YWluIGEgZG91YmxlLWxpbmtlZCBsaXN0CmJhc2VkIG9uIHRoZSBnZW5lcmljIGxpc3QgaGVscGVy
cy4KClNpZ25lZC1vZmYtYnk6IEJvcmlzIEJyZXppbGxvbiA8Ym9yaXMuYnJlemlsbG9uQGNvbGxh
Ym9yYS5jb20+Ci0tLQpDaGFuZ2VzIGluIHYyOgoqIEtpbGwgdGhlIGxhc3QvZmlyc3QgaGVscGVy
cyAodGhleSdyZSBub3QgcmVhbGx5IG5lZWRlZCkKKiBEcm9wIHRoZSAhYnJpZGdlIHx8ICFicmlk
Z2UtPmVuY29kZXIgdGVzdAotLS0KIGRyaXZlcnMvZ3B1L2RybS9kcm1fYnJpZGdlLmMgICAgICAg
ICAgIHwgMTQgKysrKysrKysrKysrKysKIGRyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfaGRt
aS5jICAgIHwgIDYgKysrKy0tCiBkcml2ZXJzL2dwdS9kcm0vbXNtL2VkcC9lZHBfYnJpZGdlLmMg
ICB8IDEwICsrKysrKysrLS0KIGRyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL29tYXBfZHJ2LmMgICAg
IHwgIDQgKystLQogZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vb21hcF9lbmNvZGVyLmMgfCAgMyAr
Ky0KIGRyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfY3J0Yy5jIHwgMTAgKysrKysrKy0t
LQogZHJpdmVycy9ncHUvZHJtL3ZjNC92YzRfZHNpLmMgICAgICAgICAgfCAgNCArKystCiBpbmNs
dWRlL2RybS9kcm1fYnJpZGdlLmggICAgICAgICAgICAgICB8ICAyICsrCiA4IGZpbGVzIGNoYW5n
ZWQsIDQyIGluc2VydGlvbnMoKyksIDExIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9kcm1fYnJpZGdlLmMgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2JyaWRnZS5jCmlu
ZGV4IDUyZjEyNjM1MzBiNy4uM2Q5YTZjNmE3ZDRlIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vZHJtX2JyaWRnZS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fYnJpZGdlLmMKQEAgLTE2
MCw2ICsxNjAsMjAgQEAgdm9pZCBkcm1fYnJpZGdlX2RldGFjaChzdHJ1Y3QgZHJtX2JyaWRnZSAq
YnJpZGdlKQogCWJyaWRnZS0+ZGV2ID0gTlVMTDsKIH0KIAorLyoqCisgKiBkcm1fYnJpZGdlX2No
YWluX2dldF9uZXh0X2JyaWRnZSgpIC0gR2V0IHRoZSBuZXh0IGJyaWRnZSBpbiB0aGUgY2hhaW4K
KyAqIEBicmlkZ2U6IGJyaWRnZSBvYmplY3QKKyAqCisgKiBSRVRVUk5TOgorICogdGhlIG5leHQg
YnJpZGdlIGluIHRoZSBjaGFpbiwgb3IgTlVMTCBpZiBAYnJpZGdlIGlzIHRoZSBsYXN0LgorICov
CitzdHJ1Y3QgZHJtX2JyaWRnZSAqCitkcm1fYnJpZGdlX2NoYWluX2dldF9uZXh0X2JyaWRnZShz
dHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlKQoreworCXJldHVybiBicmlkZ2UtPm5leHQ7Cit9CitF
WFBPUlRfU1lNQk9MKGRybV9icmlkZ2VfY2hhaW5fZ2V0X25leHRfYnJpZGdlKTsKKwogLyoqCiAg
KiBET0M6IGJyaWRnZSBjYWxsYmFja3MKICAqCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
bWVkaWF0ZWsvbXRrX2hkbWkuYyBiL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfaGRtaS5j
CmluZGV4IGVhNjhiNWFkY2NiZS4uY2ZhYTVhYWI4ODc2IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vbWVkaWF0ZWsvbXRrX2hkbWkuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vbWVkaWF0ZWsv
bXRrX2hkbWkuYwpAQCAtMTIzOCwxNiArMTIzOCwxOCBAQCBzdGF0aWMgaW50IG10a19oZG1pX2Nv
bm5fbW9kZV92YWxpZChzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubiwKIAkJCQkgICAgc3RydWN0
IGRybV9kaXNwbGF5X21vZGUgKm1vZGUpCiB7CiAJc3RydWN0IG10a19oZG1pICpoZG1pID0gaGRt
aV9jdHhfZnJvbV9jb25uKGNvbm4pOworCXN0cnVjdCBkcm1fYnJpZGdlICpuZXh0X2JyaWRnZTsK
IAogCWRldl9kYmcoaGRtaS0+ZGV2LCAieHJlcz0lZCwgeXJlcz0lZCwgcmVmcmVzaD0lZCwgaW50
bD0lZCBjbG9jaz0lZFxuIiwKIAkJbW9kZS0+aGRpc3BsYXksIG1vZGUtPnZkaXNwbGF5LCBtb2Rl
LT52cmVmcmVzaCwKIAkJISEobW9kZS0+ZmxhZ3MgJiBEUk1fTU9ERV9GTEFHX0lOVEVSTEFDRSks
IG1vZGUtPmNsb2NrICogMTAwMCk7CiAKLQlpZiAoaGRtaS0+YnJpZGdlLm5leHQpIHsKKwluZXh0
X2JyaWRnZSA9IGRybV9icmlkZ2VfY2hhaW5fZ2V0X25leHRfYnJpZGdlKCZoZG1pLT5icmlkZ2Up
OworCWlmIChuZXh0X2JyaWRnZSkgewogCQlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSBhZGp1c3Rl
ZF9tb2RlOwogCiAJCWRybV9tb2RlX2NvcHkoJmFkanVzdGVkX21vZGUsIG1vZGUpOwotCQlpZiAo
IWRybV9icmlkZ2VfY2hhaW5fbW9kZV9maXh1cChoZG1pLT5icmlkZ2UubmV4dCwgbW9kZSwKKwkJ
aWYgKCFkcm1fYnJpZGdlX2NoYWluX21vZGVfZml4dXAobmV4dF9icmlkZ2UsIG1vZGUsCiAJCQkJ
CQkgJmFkanVzdGVkX21vZGUpKQogCQkJcmV0dXJuIE1PREVfQkFEOwogCX0KZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9tc20vZWRwL2VkcF9icmlkZ2UuYyBiL2RyaXZlcnMvZ3B1L2RybS9t
c20vZWRwL2VkcF9icmlkZ2UuYwppbmRleCA0NDZhY2NhMTEwZTkuLjc3MjQwOGM5NDY0MyAxMDA2
NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL21zbS9lZHAvZWRwX2JyaWRnZS5jCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9tc20vZWRwL2VkcF9icmlkZ2UuYwpAQCAtNTUsOCArNTUsMTQgQEAgc3RhdGlj
IHZvaWQgZWRwX2JyaWRnZV9tb2RlX3NldChzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlLAogCURC
Rygic2V0IG1vZGU6ICIgRFJNX01PREVfRk1ULCBEUk1fTU9ERV9BUkcobW9kZSkpOwogCiAJbGlz
dF9mb3JfZWFjaF9lbnRyeShjb25uZWN0b3IsICZkZXYtPm1vZGVfY29uZmlnLmNvbm5lY3Rvcl9s
aXN0LCBoZWFkKSB7Ci0JCWlmICgoY29ubmVjdG9yLT5lbmNvZGVyICE9IE5VTEwpICYmCi0JCQko
Y29ubmVjdG9yLT5lbmNvZGVyLT5icmlkZ2UubmV4dCA9PSBicmlkZ2UpKSB7CisJCXN0cnVjdCBk
cm1fZW5jb2RlciAqZW5jb2RlciA9IGNvbm5lY3Rvci0+ZW5jb2RlcjsKKwkJc3RydWN0IGRybV9i
cmlkZ2UgKmZpcnN0X2JyaWRnZTsKKworCQlpZiAoIWVuY29kZXIpCisJCQljb250aW51ZTsKKwor
CQlmaXJzdF9icmlkZ2UgPSBkcm1fYnJpZGdlX2NoYWluX2dldF9uZXh0X2JyaWRnZSgmZW5jb2Rl
ci0+YnJpZGdlKTsKKwkJaWYgKGJyaWRnZSA9PSBmaXJzdF9icmlkZ2UpIHsKIAkJCW1zbV9lZHBf
Y3RybF90aW1pbmdfY2ZnKGVkcC0+Y3RybCwKIAkJCQlhZGp1c3RlZF9tb2RlLCAmY29ubmVjdG9y
LT5kaXNwbGF5X2luZm8pOwogCQkJYnJlYWs7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
b21hcGRybS9vbWFwX2Rydi5jIGIvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vb21hcF9kcnYuYwpp
bmRleCAyMjRlYzZmZGM4MDAuLmJhNTk4ODFiY2YzZiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL29tYXBkcm0vb21hcF9kcnYuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vb21hcGRybS9vbWFw
X2Rydi5jCkBAIC0yMTcsOCArMjE3LDggQEAgc3RhdGljIGludCBvbWFwX2Rpc3BsYXlfaWQoc3Ry
dWN0IG9tYXBfZHNzX2RldmljZSAqb3V0cHV0KQogCX0gZWxzZSBpZiAob3V0cHV0LT5icmlkZ2Up
IHsKIAkJc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSA9IG91dHB1dC0+YnJpZGdlOwogCi0JCXdo
aWxlIChicmlkZ2UtPm5leHQpCi0JCQlicmlkZ2UgPSBicmlkZ2UtPm5leHQ7CisJCXdoaWxlIChk
cm1fYnJpZGdlX2NoYWluX2dldF9uZXh0X2JyaWRnZShicmlkZ2UpKQorCQkJYnJpZGdlID0gZHJt
X2JyaWRnZV9jaGFpbl9nZXRfbmV4dF9icmlkZ2UoYnJpZGdlKTsKIAogCQlub2RlID0gYnJpZGdl
LT5vZl9ub2RlOwogCX0gZWxzZSBpZiAob3V0cHV0LT5wYW5lbCkgewpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL29tYXBkcm0vb21hcF9lbmNvZGVyLmMgYi9kcml2ZXJzL2dwdS9kcm0vb21h
cGRybS9vbWFwX2VuY29kZXIuYwppbmRleCAyNGJiZTlmMmEzMmUuLjhjYTU0MDgxOTk3ZSAxMDA2
NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vb21hcF9lbmNvZGVyLmMKKysrIGIvZHJp
dmVycy9ncHUvZHJtL29tYXBkcm0vb21hcF9lbmNvZGVyLmMKQEAgLTEyNiw3ICsxMjYsOCBAQCBz
dGF0aWMgdm9pZCBvbWFwX2VuY29kZXJfbW9kZV9zZXQoc3RydWN0IGRybV9lbmNvZGVyICplbmNv
ZGVyLAogCWZvciAoZHNzZGV2ID0gb3V0cHV0OyBkc3NkZXY7IGRzc2RldiA9IGRzc2Rldi0+bmV4
dCkKIAkJb21hcF9lbmNvZGVyX3VwZGF0ZV92aWRlb21vZGVfZmxhZ3MoJnZtLCBkc3NkZXYtPmJ1
c19mbGFncyk7CiAKLQlmb3IgKGJyaWRnZSA9IG91dHB1dC0+YnJpZGdlOyBicmlkZ2U7IGJyaWRn
ZSA9IGJyaWRnZS0+bmV4dCkgeworCWZvciAoYnJpZGdlID0gb3V0cHV0LT5icmlkZ2U7IGJyaWRn
ZTsKKwkgICAgIGJyaWRnZSA9IGRybV9icmlkZ2VfY2hhaW5fZ2V0X25leHRfYnJpZGdlKGJyaWRn
ZSkpIHsKIAkJaWYgKCFicmlkZ2UtPnRpbWluZ3MpCiAJCQljb250aW51ZTsKIApkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9jcnRjLmMgYi9kcml2ZXJzL2dwdS9k
cm0vcmNhci1kdS9yY2FyX2R1X2NydGMuYwppbmRleCAxYmQ3NDgyMDI5NDYuLmJjY2NkY2NkMjg3
OCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9jcnRjLmMKKysr
IGIvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9jcnRjLmMKQEAgLTE0LDYgKzE0LDcg
QEAKIAogI2luY2x1ZGUgPGRybS9kcm1fYXRvbWljLmg+CiAjaW5jbHVkZSA8ZHJtL2RybV9hdG9t
aWNfaGVscGVyLmg+CisjaW5jbHVkZSA8ZHJtL2RybV9icmlkZ2UuaD4KICNpbmNsdWRlIDxkcm0v
ZHJtX2NydGMuaD4KICNpbmNsdWRlIDxkcm0vZHJtX2RldmljZS5oPgogI2luY2x1ZGUgPGRybS9k
cm1fZmJfY21hX2hlbHBlci5oPgpAQCAtNjgwLDkgKzY4MSwxMCBAQCBzdGF0aWMgdm9pZCByY2Fy
X2R1X2NydGNfYXRvbWljX2VuYWJsZShzdHJ1Y3QgZHJtX2NydGMgKmNydGMsCiAJCQlyY2R1LT5l
bmNvZGVyc1tSQ0FSX0RVX09VVFBVVF9MVkRTMCArIHJjcnRjLT5pbmRleF07CiAJCWNvbnN0IHN0
cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlID0KIAkJCSZjcnRjLT5zdGF0ZS0+YWRqdXN0ZWRf
bW9kZTsKKwkJc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZTsKIAotCQlyY2FyX2x2ZHNfY2xrX2Vu
YWJsZShlbmNvZGVyLT5iYXNlLmJyaWRnZS5uZXh0LAotCQkJCSAgICAgbW9kZS0+Y2xvY2sgKiAx
MDAwKTsKKwkJYnJpZGdlID0gZHJtX2JyaWRnZV9jaGFpbl9nZXRfbmV4dF9icmlkZ2UoJmVuY29k
ZXItPmJhc2UuYnJpZGdlKTsKKwkJcmNhcl9sdmRzX2Nsa19lbmFibGUoYnJpZGdlLCBtb2RlLT5j
bG9jayAqIDEwMDApOwogCX0KIAogCXJjYXJfZHVfY3J0Y19zdGFydChyY3J0Yyk7CkBAIC03MDIs
MTIgKzcwNCwxNCBAQCBzdGF0aWMgdm9pZCByY2FyX2R1X2NydGNfYXRvbWljX2Rpc2FibGUoc3Ry
dWN0IGRybV9jcnRjICpjcnRjLAogCSAgICByc3RhdGUtPm91dHB1dHMgPT0gQklUKFJDQVJfRFVf
T1VUUFVUX0RQQUQwKSkgewogCQlzdHJ1Y3QgcmNhcl9kdV9lbmNvZGVyICplbmNvZGVyID0KIAkJ
CXJjZHUtPmVuY29kZXJzW1JDQVJfRFVfT1VUUFVUX0xWRFMwICsgcmNydGMtPmluZGV4XTsKKwkJ
c3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZTsKIAogCQkvKgogCQkgKiBEaXNhYmxlIHRoZSBMVkRT
IGNsb2NrIG91dHB1dCwgc2VlCiAJCSAqIHJjYXJfZHVfY3J0Y19hdG9taWNfZW5hYmxlKCkuCiAJ
CSAqLwotCQlyY2FyX2x2ZHNfY2xrX2Rpc2FibGUoZW5jb2Rlci0+YmFzZS5icmlkZ2UubmV4dCk7
CisJCWJyaWRnZSA9IGRybV9icmlkZ2VfY2hhaW5fZ2V0X25leHRfYnJpZGdlKCZlbmNvZGVyLT5i
YXNlLmJyaWRnZSk7CisJCXJjYXJfbHZkc19jbGtfZGlzYWJsZShicmlkZ2UpOwogCX0KIAogCXNw
aW5fbG9ja19pcnEoJmNydGMtPmRldi0+ZXZlbnRfbG9jayk7CmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vdmM0L3ZjNF9kc2kuYyBiL2RyaXZlcnMvZ3B1L2RybS92YzQvdmM0X2RzaS5jCmlu
ZGV4IDRhYTRjMWE5NGYxNy4uNGVhMzUyNTY3Y2ZiIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vdmM0L3ZjNF9kc2kuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vdmM0L3ZjNF9kc2kuYwpAQCAt
MTYzNiw4ICsxNjM2LDEwIEBAIHN0YXRpYyB2b2lkIHZjNF9kc2lfdW5iaW5kKHN0cnVjdCBkZXZp
Y2UgKmRldiwgc3RydWN0IGRldmljZSAqbWFzdGVyLAogCXN0cnVjdCBkcm1fZGV2aWNlICpkcm0g
PSBkZXZfZ2V0X2RydmRhdGEobWFzdGVyKTsKIAlzdHJ1Y3QgdmM0X2RldiAqdmM0ID0gdG9fdmM0
X2Rldihkcm0pOwogCXN0cnVjdCB2YzRfZHNpICpkc2kgPSBkZXZfZ2V0X2RydmRhdGEoZGV2KTsK
KwlzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlOwogCi0JaWYgKGRzaS0+ZW5jb2Rlci0+YnJpZGdl
Lm5leHQpCisJYnJpZGdlID0gZHJtX2JyaWRnZV9jaGFpbl9nZXRfbmV4dF9icmlkZ2UoJmRzaS0+
ZW5jb2Rlci0+YnJpZGdlKTsKKwlpZiAoYnJpZGdlKQogCQlwbV9ydW50aW1lX2Rpc2FibGUoZGV2
KTsKIAogCXZjNF9kc2lfZW5jb2Rlcl9kZXN0cm95KGRzaS0+ZW5jb2Rlcik7CmRpZmYgLS1naXQg
YS9pbmNsdWRlL2RybS9kcm1fYnJpZGdlLmggYi9pbmNsdWRlL2RybS9kcm1fYnJpZGdlLmgKaW5k
ZXggNDQyYTA2NTRlMWJmLi43ODA5ZmNhOTliMmQgMTAwNjQ0Ci0tLSBhL2luY2x1ZGUvZHJtL2Ry
bV9icmlkZ2UuaAorKysgYi9pbmNsdWRlL2RybS9kcm1fYnJpZGdlLmgKQEAgLTQwOSw2ICs0MDks
OCBAQCBzdHJ1Y3QgZHJtX2JyaWRnZSAqb2ZfZHJtX2ZpbmRfYnJpZGdlKHN0cnVjdCBkZXZpY2Vf
bm9kZSAqbnApOwogaW50IGRybV9icmlkZ2VfYXR0YWNoKHN0cnVjdCBkcm1fZW5jb2RlciAqZW5j
b2Rlciwgc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSwKIAkJICAgICAgc3RydWN0IGRybV9icmlk
Z2UgKnByZXZpb3VzKTsKIAorc3RydWN0IGRybV9icmlkZ2UgKgorZHJtX2JyaWRnZV9jaGFpbl9n
ZXRfbmV4dF9icmlkZ2Uoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSk7CiBib29sIGRybV9icmlk
Z2VfY2hhaW5fbW9kZV9maXh1cChzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlLAogCQkJCSBjb25z
dCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZSwKIAkJCQkgc3RydWN0IGRybV9kaXNwbGF5
X21vZGUgKmFkanVzdGVkX21vZGUpOwotLSAKMi4yMS4wCgpfX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZl
bEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFp
bG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
