Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id ADABFD8BF2
	for <lists+dri-devel@lfdr.de>; Wed, 16 Oct 2019 10:58:11 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E57F489DD3;
	Wed, 16 Oct 2019 08:58:07 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wr1-x442.google.com (mail-wr1-x442.google.com
 [IPv6:2a00:1450:4864:20::442])
 by gabe.freedesktop.org (Postfix) with ESMTPS id CB05A89DD3;
 Wed, 16 Oct 2019 08:58:05 +0000 (UTC)
Received: by mail-wr1-x442.google.com with SMTP id o18so27003115wrv.13;
 Wed, 16 Oct 2019 01:58:05 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:reply-to:subject:to:cc:references:from
 :message-id:date:user-agent:mime-version:in-reply-to
 :content-transfer-encoding:content-language;
 bh=V+4SMbJY+xnY/02Qu1SPKip6GAEd3pyslcFpF7IxHBM=;
 b=VjVApNAm8d/PKdGvCECU5coyO+NwWVR9aTv99m6P9hZqcNILQORYn4KX8jkYcjmRL2
 OSOiDPdNwKHFbIzFQ08rREKCBkDJjiHJVYx60zfi4ceFMA768sAyhGOzWrdN+l1agK+7
 6UkWJjF2uvBeZzRb0XZONElgcj1HIcg1g2GW2biCIa7Bl6iqkrftVUy/syFP/NVI2eEL
 oih97vfAloXM2oAdW4go5VnFT8XUR5yRJBcwJpZ5OWWj8b7bDnPfRvjQzD8Qd451YS0a
 JF7FO+HcDnRkST2dM95Q5x7mJkNuWFGjppCFn48Cohp0Dik/hUjlWNKgsQmN/OxX2LZj
 mpsg==
X-Gm-Message-State: APjAAAXhhThv9nyPBKyk3Opnst33Ki2IsiZgokfSkcRTudMckUS048Go
 cRX5t7QLvq9SibP8rDt0+B4=
X-Google-Smtp-Source: APXvYqywHpqS2WwakM+BUQmjn7/0SQxlW6RiaETqeNUjKm43xk/4p1AdnGlHpqoSz8YMsyfharKZLg==
X-Received: by 2002:adf:fa92:: with SMTP id h18mr1684319wrr.220.1571216284378; 
 Wed, 16 Oct 2019 01:58:04 -0700 (PDT)
Received: from ?IPv6:2a02:908:1252:fb60:be8a:bd56:1f94:86e7?
 ([2a02:908:1252:fb60:be8a:bd56:1f94:86e7])
 by smtp.gmail.com with ESMTPSA id b5sm1610909wmj.18.2019.10.16.01.58.03
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Wed, 16 Oct 2019 01:58:03 -0700 (PDT)
Subject: Re: [PATCH hmm 00/15] Consolidate the mmu notifier interval_tree and
 locking
To: Jason Gunthorpe <jgg@ziepe.ca>, Jerome Glisse <jglisse@redhat.com>,
 Ralph Campbell <rcampbell@nvidia.com>, John Hubbard <jhubbard@nvidia.com>,
 Felix.Kuehling@amd.com
References: <20191015181242.8343-1-jgg@ziepe.ca>
From: =?UTF-8?Q?Christian_K=c3=b6nig?= <ckoenig.leichtzumerken@gmail.com>
Message-ID: <bc954d29-388b-9e29-f960-115ccc6b9fea@gmail.com>
Date: Wed, 16 Oct 2019 10:58:02 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.0
MIME-Version: 1.0
In-Reply-To: <20191015181242.8343-1-jgg@ziepe.ca>
Content-Language: en-US
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=reply-to:subject:to:cc:references:from:message-id:date:user-agent
 :mime-version:in-reply-to:content-transfer-encoding:content-language;
 bh=V+4SMbJY+xnY/02Qu1SPKip6GAEd3pyslcFpF7IxHBM=;
 b=vI5EgckJStxRO73bc+3CwPgKxclRbKnLXPsOtNhcrVURZW63+9T1e2AR+xD4ChmYjb
 F09Az3ubghdrV9WGNALSeqQTPTWu3DRy4fj4jt/7XpCfcYOXb97srJ+8PG01E8O4sYxe
 alaKfq+3azM37/Z9sab8NfOx5RuG3cz3D7bOj0LoGEmV03UEbCQ2M8o4eH+iNDAL65kT
 NUkh3nPZoaRQ4VtHUDdLuoZtEpF2ba26YAvw6u7cdrsWGafqXs3O/NxmX5gnSy0+Nkjz
 xUjXcoBkOZ9KEXo6In0z6fpRL/TMFSnEc3h3Phoj68Pum7UJui5fB1f08XIfVZboPN+1
 5OYg==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Reply-To: christian.koenig@amd.com
Cc: Andrea Arcangeli <aarcange@redhat.com>, linux-rdma@vger.kernel.org,
 dri-devel@lists.freedesktop.org, linux-mm@kvack.org,
 Jason Gunthorpe <jgg@mellanox.com>, amd-gfx@lists.freedesktop.org,
 Ben Skeggs <bskeggs@redhat.com>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QW0gMTUuMTAuMTkgdW0gMjA6MTIgc2NocmllYiBKYXNvbiBHdW50aG9ycGU6Cj4gRnJvbTogSmFz
b24gR3VudGhvcnBlIDxqZ2dAbWVsbGFub3guY29tPgo+Cj4gOCBvZiB0aGUgbW11X25vdGlmaWVy
IHVzaW5nIGRyaXZlcnMgKGk5MTVfZ2VtLCByYWRlb25fbW4sIHVtZW1fb2RwLCBoZmkxLAo+IHNj
aWZfZG1hLCB2aG9zdCwgZ250ZGV2LCBobW0pIGRyaXZlcnMgYXJlIHVzaW5nIGEgY29tbW9uIHBh
dHRlcm4gd2hlcmUKPiB0aGV5IG9ubHkgdXNlIGludmFsaWRhdGVfcmFuZ2Vfc3RhcnQvZW5kIGFu
ZCBpbW1lZGlhdGVseSBjaGVjayB0aGUKPiBpbnZhbGlkYXRpbmcgcmFuZ2UgYWdhaW5zdCBzb21l
IGRyaXZlciBkYXRhIHN0cnVjdHVyZSB0byB0ZWxsIGlmIHRoZQo+IGRyaXZlciBpcyBpbnRlcmVz
dGVkLiBIYWxmIG9mIHRoZW0gdXNlIGFuIGludGVydmFsX3RyZWUsIHRoZSBvdGhlcnMgYXJlCj4g
c2ltcGxlIGxpbmVhciBzZWFyY2ggbGlzdHMuCj4KPiBPZiB0aGUgb25lcyBJIGNoZWNrZWQgdGhl
eSBsYXJnZWx5IHNlZW0gdG8gaGF2ZSB2YXJpb3VzIGtpbmRzIG9mIHJhY2VzLAo+IGJ1Z3MgYW5k
IHBvb3IgaW1wbGVtZW50YXRpb24uIFRoaXMgaXMgYSByZXN1bHQgb2YgdGhlIGNvbXBsZXhpdHkg
aW4gaG93Cj4gdGhlIG5vdGlmaWVyIGludGVyYWN0cyB3aXRoIGdldF91c2VyX3BhZ2VzKCkuIEl0
IGlzIGV4dHJlbWVseSBkaWZmaWN1bHQgdG8KPiB1c2UgaXQgY29ycmVjdGx5Lgo+Cj4gQ29uc29s
aWRhdGUgYWxsIG9mIHRoaXMgY29kZSB0b2dldGhlciBpbnRvIHRoZSBjb3JlIG1tdV9ub3RpZmll
ciBhbmQKPiBwcm92aWRlIGEgbG9ja2luZyBzY2hlbWUgc2ltaWxhciB0byBobW1fbWlycm9yIHRo
YXQgYWxsb3dzIHRoZSB1c2VyIHRvCj4gc2FmZWx5IHVzZSBnZXRfdXNlcl9wYWdlcygpIGFuZCBy
ZWxpYWJseSBrbm93IGlmIHRoZSBwYWdlIGxpc3Qgc3RpbGwKPiBtYXRjaGVzIHRoZSBtbS4KClRo
YXQgc291bmRzIHJlYWxseSBnb29kLCBidXQgY291bGQgeW91IG91dGxpbmUgZm9yIGEgbW9tZW50
IGhvdyB0aGF0IGlzIAphcmNoaXZlZD8KClBsZWFzZSBrZWVwIGluIG1pbmQgdGhhdCB0aGUgcGFn
ZSByZWZlcmVuY2UgZ2V0X3VzZXJfcGFnZXMoKSBncmFicyBpcyAKKk5PVCogc3VmZmljaWVudCB0
byBndWFyYW50ZWUgY29oZXJlbmN5IGhlcmUuCgpSZWdhcmRzLApDaHJpc3RpYW4uCgo+Cj4gVGhp
cyBuZXcgYXJyYW5nbWVudCBwbGF5cyBuaWNlbHkgd2l0aCB0aGUgIWJsb2NrYWJsZSBtb2RlIGZv
cgo+IE9PTS4gU2Nhbm5pbmcgdGhlIGludGVydmFsIHRyZWUgaXMgZG9uZSBzdWNoIHRoYXQgdGhl
IGludGVyc2VjdGlvbiB0ZXN0Cj4gd2lsbCBhbHdheXMgc3VjY2VlZCwgYW5kIHNpbmNlIHRoZXJl
IGlzIG5vIGludmFsaWRhdGVfcmFuZ2VfZW5kIGV4cG9zZWQgdG8KPiBkcml2ZXJzIHRoZSBzY2hl
bWUgc2FmZWx5IGFsbG93cyBtdWx0aXBsZSBkcml2ZXJzIHRvIGJlIHN1YnNjcmliZWQuCj4KPiBG
b3VyIHBsYWNlcyBhcmUgY29udmVydGVkIGFzIGFuIGV4YW1wbGUgb2YgaG93IHRoZSBuZXcgQVBJ
IGlzIHVzZWQuCj4gRm91ciBhcmUgbGVmdCBmb3IgZnV0dXJlIHBhdGNoZXM6Cj4gICAtIGk5MTVf
Z2VtIGhhcyBjb21wbGV4IGxvY2tpbmcgYXJvdW5kIGRlc3RydWN0aW9uIG9mIGEgcmVnaXN0cmF0
aW9uLAo+ICAgICBuZWVkcyBtb3JlIHN0dWR5Cj4gICAtIGhmaTEgKDJuZCB1c2VyKSBuZWVkcyBh
Y2Nlc3MgdG8gdGhlIHJidHJlZQo+ICAgLSBzY2lmX2RtYSBoYXMgYSBjb21wbGljYXRlZCBsb2dp
YyBmbG93Cj4gICAtIHZob3N0J3MgbW11IG5vdGlmaWVycyBhcmUgYWxyZWFkeSBiZWluZyByZXdy
aXR0ZW4KPgo+IFRoaXMgaXMgc3RpbGwgYmVpbmcgdGVzdGVkLCBidXQgSSBmaWd1cmVkIHRvIHNl
bmQgaXQgdG8gc3RhcnQgZ2V0dGluZyBoZWxwCj4gZnJvbSB0aGUgeGVuLCBhbWQgYW5kIGhmaSBk
cml2ZXJzIHdoaWNoIEkgY2Fubm90IHRlc3QgaGVyZS4KPgo+IEl0IHdvdWxkIGJlIGludGVuZGVk
IGZvciB0aGUgaG1tIHRyZWUuCj4KPiBKYXNvbiBHdW50aG9ycGUgKDE1KToKPiAgICBtbS9tbXVf
bm90aWZpZXI6IGRlZmluZSB0aGUgaGVhZGVyIHByZS1wcm9jZXNzb3IgcGFydHMgZXZlbiBpZgo+
ICAgICAgZGlzYWJsZWQKPiAgICBtbS9tbXVfbm90aWZpZXI6IGFkZCBhbiBpbnRlcnZhbCB0cmVl
IG5vdGlmaWVyCj4gICAgbW0vaG1tOiBhbGxvdyBobW1fcmFuZ2UgdG8gYmUgdXNlZCB3aXRoIGEg
bW11X3JhbmdlX25vdGlmaWVyIG9yCj4gICAgICBobW1fbWlycm9yCj4gICAgbW0vaG1tOiBkZWZp
bmUgdGhlIHByZS1wcm9jZXNzb3IgcmVsYXRlZCBwYXJ0cyBvZiBobW0uaCBldmVuIGlmCj4gICAg
ICBkaXNhYmxlZAo+ICAgIFJETUEvb2RwOiBVc2UgbW11X3JhbmdlX25vdGlmaWVyX2luc2VydCgp
Cj4gICAgUkRNQS9oZmkxOiBVc2UgbW11X3JhbmdlX25vdGlmaWVyX2luc2V0IGZvciB1c2VyX2V4
cF9yY3YKPiAgICBkcm0vcmFkZW9uOiB1c2UgbW11X3JhbmdlX25vdGlmaWVyX2luc2VydAo+ICAg
IHhlbi9nbnRkZXY6IFVzZSBzZWxlY3QgZm9yIERNQV9TSEFSRURfQlVGRkVSCj4gICAgeGVuL2du
dGRldjogdXNlIG1tdV9yYW5nZV9ub3RpZmllcl9pbnNlcnQKPiAgICBub3V2ZWF1OiB1c2UgbW11
X25vdGlmaWVyIGRpcmVjdGx5IGZvciBpbnZhbGlkYXRlX3JhbmdlX3N0YXJ0Cj4gICAgbm91dmVh
dTogdXNlIG1tdV9yYW5nZV9ub3RpZmllciBpbnN0ZWFkIG9mIGhtbV9taXJyb3IKPiAgICBkcm0v
YW1kZ3B1OiBDYWxsIGZpbmRfdm1hIHVuZGVyIG1tYXBfc2VtCj4gICAgZHJtL2FtZGdwdTogVXNl
IG1tdV9yYW5nZV9pbnNlcnQgaW5zdGVhZCBvZiBobW1fbWlycm9yCj4gICAgZHJtL2FtZGdwdTog
VXNlIG1tdV9yYW5nZV9ub3RpZmllciBpbnN0ZWFkIG9mIGhtbV9taXJyb3IKPiAgICBtbS9obW06
IHJlbW92ZSBobW1fbWlycm9yIGFuZCByZWxhdGVkCj4KPiAgIERvY3VtZW50YXRpb24vdm0vaG1t
LnJzdCAgICAgICAgICAgICAgICAgICAgICB8IDEwNSArLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHUuaCAgICAgICAgICAgfCAgIDIgKwo+ICAgLi4uL2dwdS9kcm0vYW1k
L2FtZGdwdS9hbWRncHVfYW1ka2ZkX2dwdXZtLmMgIHwgICA5ICstCj4gICBkcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9hbWRncHVfY3MuYyAgICAgICAgfCAgMTQgKy0KPiAgIGRyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kZXZpY2UuYyAgICB8ICAgMSArCj4gICBkcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfbW4uYyAgICAgICAgfCA0NDUgKystLS0tLS0tLS0tLS0K
PiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9tbi5oICAgICAgICB8ICA1MyAt
LQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X29iamVjdC5oICAgIHwgIDEz
ICstCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdHRtLmMgICAgICAgfCAx
MTEgKystLQo+ICAgZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbm91dmVhdV9zdm0uYyAgICAgICAg
IHwgMjI5ICsrKysrLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbi5oICAgICAg
ICAgICAgICAgfCAgIDkgKy0KPiAgIGRyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFkZW9uX21uLmMg
ICAgICAgICAgICB8IDIxOCArKy0tLS0tCj4gICBkcml2ZXJzL2luZmluaWJhbmQvY29yZS9kZXZp
Y2UuYyAgICAgICAgICAgICAgfCAgIDEgLQo+ICAgZHJpdmVycy9pbmZpbmliYW5kL2NvcmUvdW1l
bV9vZHAuYyAgICAgICAgICAgIHwgMjg4ICstLS0tLS0tLS0KPiAgIGRyaXZlcnMvaW5maW5pYmFu
ZC9ody9oZmkxL2ZpbGVfb3BzLmMgICAgICAgICB8ICAgMiArLQo+ICAgZHJpdmVycy9pbmZpbmli
YW5kL2h3L2hmaTEvaGZpLmggICAgICAgICAgICAgIHwgICAyICstCj4gICBkcml2ZXJzL2luZmlu
aWJhbmQvaHcvaGZpMS91c2VyX2V4cF9yY3YuYyAgICAgfCAxNDQgKystLS0KPiAgIGRyaXZlcnMv
aW5maW5pYmFuZC9ody9oZmkxL3VzZXJfZXhwX3Jjdi5oICAgICB8ICAgMyArLQo+ICAgZHJpdmVy
cy9pbmZpbmliYW5kL2h3L21seDUvbWx4NV9pYi5oICAgICAgICAgIHwgICA3ICstCj4gICBkcml2
ZXJzL2luZmluaWJhbmQvaHcvbWx4NS9tci5jICAgICAgICAgICAgICAgfCAgIDMgKy0KPiAgIGRy
aXZlcnMvaW5maW5pYmFuZC9ody9tbHg1L29kcC5jICAgICAgICAgICAgICB8ICA0OCArLQo+ICAg
ZHJpdmVycy94ZW4vS2NvbmZpZyAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAzICstCj4g
ICBkcml2ZXJzL3hlbi9nbnRkZXYtY29tbW9uLmggICAgICAgICAgICAgICAgICAgfCAgIDggKy0K
PiAgIGRyaXZlcnMveGVuL2dudGRldi5jICAgICAgICAgICAgICAgICAgICAgICAgICB8IDE3OSAr
Ky0tLS0KPiAgIGluY2x1ZGUvbGludXgvaG1tLmggICAgICAgICAgICAgICAgICAgICAgICAgICB8
IDE5NSArLS0tLS0tCj4gICBpbmNsdWRlL2xpbnV4L21tdV9ub3RpZmllci5oICAgICAgICAgICAg
ICAgICAgfCAxMjQgKysrLQo+ICAgaW5jbHVkZS9yZG1hL2liX3VtZW1fb2RwLmggICAgICAgICAg
ICAgICAgICAgIHwgIDY1ICstLQo+ICAgaW5jbHVkZS9yZG1hL2liX3ZlcmJzLmggICAgICAgICAg
ICAgICAgICAgICAgIHwgICAyIC0KPiAgIGtlcm5lbC9mb3JrLmMgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICB8ICAgMSAtCj4gICBtbS9LY29uZmlnICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgfCAgIDIgKy0KPiAgIG1tL2htbS5jICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICB8IDI3NSArLS0tLS0tLS0KPiAgIG1tL21tdV9ub3RpZmllci5jICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICB8IDU0MiArKysrKysrKysrKysrKysrKy0KPiAgIDMy
IGZpbGVzIGNoYW5nZWQsIDExODAgaW5zZXJ0aW9ucygrKSwgMTkyMyBkZWxldGlvbnMoLSkKPgoK
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVs
IG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlz
dHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
