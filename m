Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id A9A531AAF7D
	for <lists+dri-devel@lfdr.de>; Wed, 15 Apr 2020 19:26:21 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 4F7F16EA43;
	Wed, 15 Apr 2020 17:26:17 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-qk1-x743.google.com (mail-qk1-x743.google.com
 [IPv6:2607:f8b0:4864:20::743])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 946516E0F4
 for <dri-devel@lists.freedesktop.org>; Wed, 15 Apr 2020 17:26:15 +0000 (UTC)
Received: by mail-qk1-x743.google.com with SMTP id 20so10075550qkl.10
 for <dri-devel@lists.freedesktop.org>; Wed, 15 Apr 2020 10:26:15 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=1gTjhp6jB669sanSP3EkZI1VEjL3ZRaLoaZHBI+be1Q=;
 b=X989IdLZ4FvwYWxriM67dgE8sWP5g+L3Mx8YfB/AbsMGdhmfZAs8cWkcziJ6DWrc8D
 0bmsVDL9vZCuRTuXgGbJAJGQ3EL6EqYV3olDRPY9XO5sysMyH8fZSruZ9sVmy7CNCEMj
 MDv3oqup6j40/asoHudfrWeBdG8FLh4V/Uxza16BznkyhHE7w45W/aDPcqYd92jU1YEv
 sNV4CoadTMFq02JDFJQImZYVPcaLtu99XRCoNDT1Y4YJraqUr4AAKLHg0LlIp3/H45rE
 52wD+d4WmR+PJwmbMy6IH7UKhC/eM5bt1MvY7xyW2pbb3amkAx3Z58/ukdCfsYenW4s5
 hzEw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=1gTjhp6jB669sanSP3EkZI1VEjL3ZRaLoaZHBI+be1Q=;
 b=tMgoIQBHz5KEPHq2wxp/72EPh5k//TiAVcGPdniN1H4lt+4Pofs2QOG0Gm8rH12ZG7
 3y1zkMpjLkP7liaqEuxfmD2/LnZLUUaTwYzBeFhyIo/hNPqLbzRwiiz3RgZ97RvoZzH3
 pGwvidpoV5bYpyhX/e+NQ3YfT1YbAXeg1QCuGfqO/gdfXaqiQUm5o9Mn6DjFefE8vX3A
 ue1Q267qELIzUMmQcjrLRZVqsS7rq0vnE0prsaisfXrw74Fkxjx3RuODvZ+EtBCplqQl
 GELn19Q6SL6RBNUPAVIjFOnSN/MBdQyI2gkJucazBMROJaBtGdVvzJaRx9Toyoup3291
 EuPQ==
X-Gm-Message-State: AGi0PubRUtGtN4zLcBOWV+489kkLIpxhiXCSOmG6Rzp1HXFE8zrt/6dR
 2Je1UjLsNczPxIuslDYANqwkvojhCiZSkutXWSY=
X-Google-Smtp-Source: APiQypIeR3SIWBiXtjK1sxoe8Am6f/Mkt17HkM2SKMQO+CtMe2dlJ+X6m8nHvnwEX8fSJXc2oW9zeYFUekOQqVuZ6UM=
X-Received: by 2002:a37:68c5:: with SMTP id d188mr26286333qkc.85.1586971574525; 
 Wed, 15 Apr 2020 10:26:14 -0700 (PDT)
MIME-Version: 1.0
References: <20200414151955.311949-1-adrian.ratiu@collabora.com>
 <20200414151955.311949-5-adrian.ratiu@collabora.com>
In-Reply-To: <20200414151955.311949-5-adrian.ratiu@collabora.com>
From: Enric Balletbo Serra <eballetbo@gmail.com>
Date: Wed, 15 Apr 2020 19:26:02 +0200
Message-ID: <CAFqH_51ZZTd6iK+G1QdqfBedxyG-A=HwPjY1kdOuWTqd7niTHQ@mail.gmail.com>
Subject: Re: [PATCH v6 4/8] drm: imx: Add i.MX 6 MIPI DSI host platform driver
To: Adrian Ratiu <adrian.ratiu@collabora.com>
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: "devicetree@vger.kernel.org" <devicetree@vger.kernel.org>,
 Jernej Skrabec <jernej.skrabec@siol.net>, Adrian Pop <pop.adrian61@gmail.com>,
 Jonas Karlman <jonas@kwiboo.se>, Martyn Welch <martyn.welch@collabora.com>,
 Sjoerd Simons <sjoerd.simons@collabora.com>,
 linux-kernel <linux-kernel@vger.kernel.org>,
 dri-devel <dri-devel@lists.freedesktop.org>,
 Andrzej Hajda <a.hajda@samsung.com>,
 "open list:ARM/Rockchip SoC..." <linux-rockchip@lists.infradead.org>,
 Laurent Pinchart <Laurent.pinchart@ideasonboard.com>,
 Arnaud Ferraris <arnaud.ferraris@collabora.com>, linux-imx@nxp.com,
 Collabora Kernel ML <kernel@collabora.com>,
 linux-stm32@st-md-mailman.stormreply.com,
 Linux ARM <linux-arm-kernel@lists.infradead.org>,
 Emil Velikov <emil.velikov@collabora.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgQWRyaWFuLAoKVGhhbmsgeW91IGZvciB5b3VyIHBhdGNoLgoKTWlzc2F0Z2UgZGUgQWRyaWFu
IFJhdGl1IDxhZHJpYW4ucmF0aXVAY29sbGFib3JhLmNvbT4gZGVsIGRpYSBkdC4sIDE0CmTigJlh
YnIuIDIwMjAgYSBsZXMgMTc6MTk6Cj4KPiBUaGlzIGFkZHMgc3VwcG9ydCBmb3IgdGhlIFN5bm9w
c2lzIERlc2lnbldhcmUgTUlQSSBEU0kgdjEuMDEgaG9zdAo+IGNvbnRyb2xsZXIgd2hpY2ggaXMg
ZW1iZWRkZWQgaW4gaS5NWCA2IFNvQ3MuCj4KPiBCYXNlZCBvbiBmb2xsb3dpbmcgcGF0Y2hlcywg
YnV0IHVwZGF0ZWQvZXh0ZW5kZWQgdG8gd29yayB3aXRoIGV4aXN0aW5nCj4gc3VwcG9ydCBmb3Vu
ZCBpbiB0aGUga2VybmVsOgo+Cj4gLSBkcm06IGlteDogU3VwcG9ydCBTeW5vcHN5cyBEZXNpZ25X
YXJlIE1JUEkgRFNJIGhvc3QgY29udHJvbGxlcgo+ICAgU2lnbmVkLW9mZi1ieTogTGl1IFlpbmcg
PFlpbmcuTGl1QGZyZWVzY2FsZS5jb20+Cj4KPiBDYzogRmFiaW8gRXN0ZXZhbSA8ZmVzdGV2YW1A
Z21haWwuY29tPgo+IFJldmlld2VkLWJ5OiBFbWlsIFZlbGlrb3YgPGVtaWwudmVsaWtvdkBjb2xs
YWJvcmEuY29tPgo+IFRlc3RlZC1ieTogQWRyaWFuIFBvcCA8cG9wLmFkcmlhbjYxQGdtYWlsLmNv
bT4KPiBUZXN0ZWQtYnk6IEFybmF1ZCBGZXJyYXJpcyA8YXJuYXVkLmZlcnJhcmlzQGNvbGxhYm9y
YS5jb20+Cj4gU2lnbmVkLW9mZi1ieTogU2pvZXJkIFNpbW9ucyA8c2pvZXJkLnNpbW9uc0Bjb2xs
YWJvcmEuY29tPgo+IFNpZ25lZC1vZmYtYnk6IE1hcnR5biBXZWxjaCA8bWFydHluLndlbGNoQGNv
bGxhYm9yYS5jb20+Cj4gU2lnbmVkLW9mZi1ieTogQWRyaWFuIFJhdGl1IDxhZHJpYW4ucmF0aXVA
Y29sbGFib3JhLmNvbT4KPiAtLS0KPiBDaGFuZ2VzIHNpbmNlIHY1Ogo+ICAgLSBSZXdvcmQgdG8g
cmVtb3ZlIHVucmVsYXRlZCBkZXZpY2UgdHJlZSBwYXRjaCBtZW50aW9uIChGYWJpbykKPiAgIC0g
TW92ZSBwbGxyZWZfY2xrIGVuYWJsZS9kaXNhYmxlIHRvIGJpbmQvdW5iaW5kIChFemVxdWllbCkK
PiAgIC0gRml4IGZyZWVzY2FsZS5jb20gLT4gbnhwLmNvbSBlbWFpbCBhZGRyZXNzZXMgKEZhYmlv
KQo+ICAgLSBBbHNvIGFkZGVkIG15c2VsZiBhcyBtb2R1bGUgYXV0aG9yIChGYWJpbykKPiAgIC0g
VXNlIERSTV9ERVZfKiBtYWNyb3MgZm9yIGNvbnNpc3RlbmN5LCBwcmludCBtb3JlIGVycm9yIG1z
Zwo+Cj4gQ2hhbmdlcyBzaW5jZSB2NDoKPiAgIC0gU3BsaXQgb2ZmIGRyaXZlci1zcGVjaWZpYyBj
b25maWd1cmF0aW9uIG9mIHBoeSB0aW1pbmdzIGR1ZQo+ICAgdG8gbmV3IHVwc3RyZWFtIEFQSS4K
PiAgIC0gTW92ZSByZWdtYXAgaW5mcmFzdHJ1Y3R1cmUgbG9naWMgdG8gc2VwYXJhdGUgY29tbWl0
IChFemVxdWllbCkKPiAgIC0gTW92ZSBkc2kgdjEuMDEgbGF5b3V0IGFkZGl0aW9uIHRvIGEgc2Vw
YXJhdGUgY29tbWl0IChFemVxdWllbCkKPiAgIC0gTWlub3Igd2FybmluZ3MgYW5kIGRyaXZlciBu
YW1lIGZpeGVzCj4KPiBDaGFuZ2VzIHNpbmNlIHYzOgo+ICAgLSBSZW5hbWVkIHBsYXRmb3JtIGRy
aXZlciB0byByZWZsZWN0IGl0J3MgaS5NWDYgb25seS4gKEZhYmlvKQo+Cj4gQ2hhbmdlcyBzaW5j
ZSB2MjoKPiAgIC0gRml4ZWQgY29tbWl0IHRhZ3MuIChFbWlsKQo+Cj4gQ2hhbmdlcyBzaW5jZSB2
MToKPiAgIC0gTW92ZWQgcmVnaXN0ZXIgZGVmaW5pdGlvbnMgJiByZWdtYXAgaW5pdGlhbGl6YXRp
b24gaW50byBicmlkZ2UKPiAgIG1vZHVsZS4gUGxhdGZvcm0gZHJpdmVycyBnZXQgdGhlIHJlZ21h
cCB2aWEgcGxhdF9kYXRhIGFmdGVyCj4gICBjYWxsaW5nIHRoZSBicmlkZ2UgcHJvYmUuIChFbWls
KQo+IC0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vaW14L0tjb25maWcgICAgICAgICAgICB8ICAgNyAr
Cj4gIGRyaXZlcnMvZ3B1L2RybS9pbXgvTWFrZWZpbGUgICAgICAgICAgIHwgICAxICsKPiAgZHJp
dmVycy9ncHUvZHJtL2lteC9kd19taXBpX2RzaS1pbXg2LmMgfCA0MDkgKysrKysrKysrKysrKysr
KysrKysrKysrKwo+ICAzIGZpbGVzIGNoYW5nZWQsIDQxNyBpbnNlcnRpb25zKCspCj4gIGNyZWF0
ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vaW14L2R3X21pcGlfZHNpLWlteDYuYwo+Cj4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pbXgvS2NvbmZpZyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pbXgvS2NvbmZpZwo+IGluZGV4IDIwN2JmNzQwOWRmYi4uYjQ5ZTcwZTdmMGZkIDEwMDY0NAo+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pbXgvS2NvbmZpZwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pbXgvS2NvbmZpZwo+IEBAIC0zOSwzICszOSwxMCBAQCBjb25maWcgRFJNX0lNWF9IRE1JCj4g
ICAgICAgICBkZXBlbmRzIG9uIERSTV9JTVgKPiAgICAgICAgIGhlbHAKPiAgICAgICAgICAgQ2hv
b3NlIHRoaXMgaWYgeW91IHdhbnQgdG8gdXNlIEhETUkgb24gaS5NWDYuCj4gKwo+ICtjb25maWcg
RFJNX0lNWDZfTUlQSV9EU0kKPiArICAgICAgIHRyaXN0YXRlICJGcmVlc2NhbGUgaS5NWDYgRFJN
IE1JUEkgRFNJIgo+ICsgICAgICAgc2VsZWN0IERSTV9EV19NSVBJX0RTSQo+ICsgICAgICAgZGVw
ZW5kcyBvbiBEUk1fSU1YCgpTaG91bGQgaXQgZGVwZW5kIG9uIENPTkZJR19PRiB0b28/IEkgc3Vz
cGVjdCB5b3UnbGwgZ2V0IGJ1aWxkIGVycm9ycwppZiBPRiBpcyBub3Qgc2VsZWN0ZWQKCj4gKyAg
ICAgICBoZWxwCj4gKyAgICAgICAgIENob29zZSB0aGlzIGlmIHlvdSB3YW50IHRvIHVzZSBNSVBJ
IERTSSBvbiBpLk1YNi4KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2lteC9NYWtlZmls
ZSBiL2RyaXZlcnMvZ3B1L2RybS9pbXgvTWFrZWZpbGUKPiBpbmRleCAyMWNkY2MyZmFhYmMuLjlh
Nzg0M2M1OTM0NyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaW14L01ha2VmaWxlCj4g
KysrIGIvZHJpdmVycy9ncHUvZHJtL2lteC9NYWtlZmlsZQo+IEBAIC05LDMgKzksNCBAQCBvYmot
JChDT05GSUdfRFJNX0lNWF9UVkUpICs9IGlteC10dmUubwo+ICBvYmotJChDT05GSUdfRFJNX0lN
WF9MREIpICs9IGlteC1sZGIubwo+Cj4gIG9iai0kKENPTkZJR19EUk1fSU1YX0hETUkpICs9IGR3
X2hkbWktaW14Lm8KPiArb2JqLSQoQ09ORklHX0RSTV9JTVg2X01JUElfRFNJKSArPSBkd19taXBp
X2RzaS1pbXg2Lm8KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2lteC9kd19taXBpX2Rz
aS1pbXg2LmMgYi9kcml2ZXJzL2dwdS9kcm0vaW14L2R3X21pcGlfZHNpLWlteDYuYwo+IG5ldyBm
aWxlIG1vZGUgMTAwNjQ0Cj4gaW5kZXggMDAwMDAwMDAwMDAwLi42OTE0ZGI4Y2U4Y2IKPiAtLS0g
L2Rldi9udWxsCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2lteC9kd19taXBpX2RzaS1pbXg2LmMK
PiBAQCAtMCwwICsxLDQwOSBAQAo+ICsvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIu
MCsKPiArLyoKPiArICogaS5NWDYgZHJtIGRyaXZlciAtIE1JUEkgRFNJIEhvc3QgQ29udHJvbGxl
cgo+ICsgKgo+ICsgKiBDb3B5cmlnaHQgKEMpIDIwMTEtMjAxNSBGcmVlc2NhbGUgU2VtaWNvbmR1
Y3RvciwgSW5jLgo+ICsgKiBDb3B5cmlnaHQgKEMpIDIwMTktMjAyMCBDb2xsYWJvcmEsIEx0ZC4K
PiArICovCj4gKwo+ICsjaW5jbHVkZSA8bGludXgvY2xrLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9j
b21wb25lbnQuaD4KPiArI2luY2x1ZGUgPGxpbnV4L21mZC9zeXNjb24uaD4KPiArI2luY2x1ZGUg
PGxpbnV4L21mZC9zeXNjb24vaW14NnEtaW9tdXhjLWdwci5oPgo+ICsjaW5jbHVkZSA8bGludXgv
bW9kdWxlLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9vZl9kZXZpY2UuaD4KPiArI2luY2x1ZGUgPGxp
bnV4L3JlZ21hcC5oPgo+ICsjaW5jbHVkZSA8bGludXgvdmlkZW9kZXYyLmg+Cj4gKyNpbmNsdWRl
IDxkcm0vYnJpZGdlL2R3X21pcGlfZHNpLmg+Cj4gKyNpbmNsdWRlIDxkcm0vZHJtX2NydGNfaGVs
cGVyLmg+Cj4gKyNpbmNsdWRlIDxkcm0vZHJtX21pcGlfZHNpLmg+Cj4gKyNpbmNsdWRlIDxkcm0v
ZHJtX29mLmg+Cj4gKyNpbmNsdWRlIDxkcm0vZHJtX3ByaW50Lmg+Cj4gKwo+ICsjaW5jbHVkZSAi
aW14LWRybS5oIgo+ICsKPiArI2RlZmluZSBEU0lfUFdSX1VQICAgICAgICAgICAgICAgICAgICAg
MHgwNAo+ICsjZGVmaW5lIFJFU0VUICAgICAgICAgICAgICAgICAgICAgICAgICAwCj4gKyNkZWZp
bmUgUE9XRVJVUCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQklUKDApCj4gKwo+ICsj
ZGVmaW5lIERTSV9QSFlfSUZfQ1RSTCAgICAgICAgICAgICAgICAgICAgICAgIDB4NWMKPiArI2Rl
ZmluZSBQSFlfSUZfQ1RSTF9SRVNFVCAgICAgICAgICAgICAgMHgwCj4gKwo+ICsjZGVmaW5lIERT
SV9QSFlfVFNUX0NUUkwwICAgICAgICAgICAgICAweDY0Cj4gKyNkZWZpbmUgUEhZX1RFU1RDTEsg
ICAgICAgICAgICAgICAgICAgIEJJVCgxKQo+ICsjZGVmaW5lIFBIWV9VTlRFU1RDTEsgICAgICAg
ICAgICAgICAgICAwCj4gKyNkZWZpbmUgUEhZX1RFU1RDTFIgICAgICAgICAgICAgICAgICAgIEJJ
VCgwKQo+ICsjZGVmaW5lIFBIWV9VTlRFU1RDTFIgICAgICAgICAgICAgICAgICAwCj4gKwo+ICsj
ZGVmaW5lIERTSV9QSFlfVFNUX0NUUkwxICAgICAgICAgICAgICAweDY4Cj4gKyNkZWZpbmUgUEhZ
X1RFU1RFTiAgICAgICAgICAgICAgICAgICAgIEJJVCgxNikKPiArI2RlZmluZSBQSFlfVU5URVNU
RU4gICAgICAgICAgICAgICAgICAgMAo+ICsjZGVmaW5lIFBIWV9URVNURE9VVChuKSAgICAgICAg
ICAgICAgICAgICAgICAgICgoKG4pICYgMHhmZikgPDwgOCkKPiArI2RlZmluZSBQSFlfVEVTVERJ
TihuKSAgICAgICAgICAgICAgICAgKCgobikgJiAweGZmKSA8PCAwKQo+ICsKPiArc3RydWN0IGlt
eF9taXBpX2RzaSB7Cj4gKyAgICAgICBzdHJ1Y3QgZHJtX2VuY29kZXIgZW5jb2RlcjsKPiArICAg
ICAgIHN0cnVjdCBkZXZpY2UgKmRldjsKPiArICAgICAgIHN0cnVjdCByZWdtYXAgKm11eF9zZWw7
Cj4gKyAgICAgICBzdHJ1Y3QgZHdfbWlwaV9kc2kgKm1pcGlfZHNpOwo+ICsgICAgICAgc3RydWN0
IGNsayAqcGxscmVmX2NsazsKPiArCj4gKyAgICAgICB2b2lkIF9faW9tZW0gKmJhc2U7Cj4gKyAg
ICAgICB1bnNpZ25lZCBpbnQgbGFuZV9tYnBzOwo+ICt9Owo+ICsKPiArc3RydWN0IGRwaHlfcGxs
X3Rlc3RkaW5fbWFwIHsKPiArICAgICAgIHVuc2lnbmVkIGludCBtYXhfbWJwczsKPiArICAgICAg
IHU4IHRlc3RkaW47Cj4gK307Cj4gKwo+ICsvKiBUaGUgdGFibGUgaXMgYmFzZWQgb24gMjdNSHog
RFBIWSBwbGwgcmVmZXJlbmNlIGNsb2NrLiAqLwo+ICtzdGF0aWMgY29uc3Qgc3RydWN0IGRwaHlf
cGxsX3Rlc3RkaW5fbWFwIGRwdGRpbl9tYXBbXSA9IHsKPiArICAgICAgIHsxNjAsIDB4MDR9LCB7
MTgwLCAweDI0fSwgezIwMCwgMHg0NH0sIHsyMTAsIDB4MDZ9LAo+ICsgICAgICAgezI0MCwgMHgy
Nn0sIHsyNTAsIDB4NDZ9LCB7MjcwLCAweDA4fSwgezMwMCwgMHgyOH0sCj4gKyAgICAgICB7MzMw
LCAweDQ4fSwgezM2MCwgMHgyYX0sIHs0MDAsIDB4NGF9LCB7NDUwLCAweDBjfSwKPiArICAgICAg
IHs1MDAsIDB4MmN9LCB7NTUwLCAweDBlfSwgezYwMCwgMHgyZX0sIHs2NTAsIDB4MTB9LAo+ICsg
ICAgICAgezcwMCwgMHgzMH0sIHs3NTAsIDB4MTJ9LCB7ODAwLCAweDMyfSwgezg1MCwgMHgxNH0s
Cj4gKyAgICAgICB7OTAwLCAweDM0fSwgezk1MCwgMHg1NH0sIHsxMDAwLCAweDc0fQo+ICt9Owo+
ICsKPiArc3RhdGljIGlubGluZSBzdHJ1Y3QgaW14X21pcGlfZHNpICplbmNfdG9fZHNpKHN0cnVj
dCBkcm1fZW5jb2RlciAqZW5jKQo+ICt7Cj4gKyAgICAgICByZXR1cm4gY29udGFpbmVyX29mKGVu
Yywgc3RydWN0IGlteF9taXBpX2RzaSwgZW5jb2Rlcik7Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lk
IGlteF9taXBpX2RzaV9zZXRfaXB1X2RpX211eChzdHJ1Y3QgaW14X21pcGlfZHNpICpkc2ksIGlu
dCBpcHVfZGkpCj4gK3sKPiArICAgICAgIHJlZ21hcF91cGRhdGVfYml0cyhkc2ktPm11eF9zZWws
IElPTVVYQ19HUFIzLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgIElNWDZRX0dQUjNfTUlQ
SV9NVVhfQ1RMX01BU0ssCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgaXB1X2RpIDw8IElN
WDZRX0dQUjNfTUlQSV9NVVhfQ1RMX1NISUZUKTsKPiArfQo+ICsKPiArc3RhdGljIGNvbnN0IHN0
cnVjdCBkcm1fZW5jb2Rlcl9mdW5jcyBpbXhfbWlwaV9kc2lfZW5jb2Rlcl9mdW5jcyA9IHsKPiAr
ICAgICAgIC5kZXN0cm95ID0gaW14X2RybV9lbmNvZGVyX2Rlc3Ryb3ksCj4gK307Cj4gKwo+ICtz
dGF0aWMgYm9vbCBpbXhfbWlwaV9kc2lfZW5jb2Rlcl9tb2RlX2ZpeHVwKHN0cnVjdCBkcm1fZW5j
b2RlciAqZW5jb2RlciwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlLAo+ICsgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKmFk
al9tb2RlKQo+ICt7Cj4gKyAgICAgICByZXR1cm4gdHJ1ZTsKPiArfQo+ICsKPiArc3RhdGljIGlu
dCBpbXhfbWlwaV9kc2lfZW5jb2Rlcl9hdG9taWNfY2hlY2soc3RydWN0IGRybV9lbmNvZGVyICpl
bmNvZGVyLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0
cnVjdCBkcm1fY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSwKPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9zdGF0ZSAqY29ubikK
PiArewo+ICsgICAgICAgc3RydWN0IGlteF9jcnRjX3N0YXRlICppbXhfY3J0Y19zdGF0ZSA9IHRv
X2lteF9jcnRjX3N0YXRlKGNydGNfc3RhdGUpOwo+ICsKPiArICAgICAgIC8qIFRoZSBmb2xsb3dp
bmcgdmFsdWVzIGFyZSB0YWtlbiBmcm9tIGR3X2hkbWlfaW14X2F0b21pY19jaGVjayAqLwo+ICsg
ICAgICAgaW14X2NydGNfc3RhdGUtPmJ1c19mb3JtYXQgPSBNRURJQV9CVVNfRk1UX1JHQjg4OF8x
WDI0Owo+ICsgICAgICAgaW14X2NydGNfc3RhdGUtPmRpX2hzeW5jX3BpbiA9IDI7Cj4gKyAgICAg
ICBpbXhfY3J0Y19zdGF0ZS0+ZGlfdnN5bmNfcGluID0gMzsKPiArCj4gKyAgICAgICByZXR1cm4g
MDsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgaW14X21pcGlfZHNpX2VuY29kZXJfY29tbWl0KHN0
cnVjdCBkcm1fZW5jb2RlciAqZW5jb2RlcikKPiArewo+ICsgICAgICAgc3RydWN0IGlteF9taXBp
X2RzaSAqZHNpID0gZW5jX3RvX2RzaShlbmNvZGVyKTsKPiArICAgICAgIGludCBtdXggPSBkcm1f
b2ZfZW5jb2Rlcl9hY3RpdmVfcG9ydF9pZChkc2ktPmRldi0+b2Zfbm9kZSwgZW5jb2Rlcik7Cj4g
Kwo+ICsgICAgICAgaW14X21pcGlfZHNpX3NldF9pcHVfZGlfbXV4KGRzaSwgbXV4KTsKPiArfQo+
ICsKPiArc3RhdGljIHZvaWQgaW14X21pcGlfZHNpX2VuY29kZXJfZGlzYWJsZShzdHJ1Y3QgZHJt
X2VuY29kZXIgKmVuY29kZXIpCj4gK3sKPiArfQo+ICsKPiArc3RhdGljIGNvbnN0IHN0cnVjdCBk
cm1fZW5jb2Rlcl9oZWxwZXJfZnVuY3MgaW14X21pcGlfZHNpX2VuY29kZXJfaGVscGVycyA9IHsK
CkFGQUlLIChvciBhdCBsZWFzdCB0aGlzIGlzIHRoZSBmZWVkYmFjayBJIHJlY2VpdmVkKSBkcm1f
ZW5jb2RlciBpcwpraW5kIG9mIGRlcHJlY2F0ZWQsIGFuZCBub3dhZGF5cyBhbGwgaXMgbWlncmF0
ZWQgdG8gZHJtX2JyaWRnZQooZW5jb2RlcnMsIGJyaWRnZXMgYW5kIHBhbmVscykuIE9mIGNvdXJz
ZSwgYSBkcm1fZW5jb2RlciBpcyBuZWVkZWQsIGFzCnRoZSBEUk0gY29yZSBleHBlY3RzIG9uZSwg
YnV0IHNob3VsZCBqdXN0IGJlIGEgZHVtbXkgb2JqZWN0IHRoYXQgeW91CmNhbiBwcm9iYWJseSBj
cmVhdGUgd2l0aCBqdXN0IGNhbGxpbmcgIGRybV9zaW1wbGVfZW5jb2Rlcl9pbml0KCkuIERSTQpt
YWludGFpbmVycywgcGxlYXNlIHNob3V0IGlmIEkgYW0gd3JvbmcuCgo+ICsgICAgICAgLm1vZGVf
Zml4dXAgPSBpbXhfbWlwaV9kc2lfZW5jb2Rlcl9tb2RlX2ZpeHVwLAo+ICsgICAgICAgLmNvbW1p
dCA9IGlteF9taXBpX2RzaV9lbmNvZGVyX2NvbW1pdCwKPiArICAgICAgIC5kaXNhYmxlID0gaW14
X21pcGlfZHNpX2VuY29kZXJfZGlzYWJsZSwKPiArICAgICAgIC5hdG9taWNfY2hlY2sgPSBpbXhf
bWlwaV9kc2lfZW5jb2Rlcl9hdG9taWNfY2hlY2ssCj4gK307Cj4gKwo+ICtzdGF0aWMgaW50IGlt
eF9taXBpX2RzaV9yZWdpc3RlcihzdHJ1Y3QgZHJtX2RldmljZSAqZHJtLAo+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBpbXhfbWlwaV9kc2kgKmRzaSkKPiArewo+ICsg
ICAgICAgaW50IHJldDsKPiArCj4gKyAgICAgICByZXQgPSBpbXhfZHJtX2VuY29kZXJfcGFyc2Vf
b2YoZHJtLCAmZHNpLT5lbmNvZGVyLCBkc2ktPmRldi0+b2Zfbm9kZSk7Cj4gKyAgICAgICBpZiAo
cmV0KQo+ICsgICAgICAgICAgICAgICByZXR1cm4gcmV0Owo+ICsKPiArICAgICAgIGRybV9lbmNv
ZGVyX2hlbHBlcl9hZGQoJmRzaS0+ZW5jb2RlciwKPiArICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgJmlteF9taXBpX2RzaV9lbmNvZGVyX2hlbHBlcnMpOwo+ICsgICAgICAgZHJtX2VuY29k
ZXJfaW5pdChkcm0sICZkc2ktPmVuY29kZXIsICZpbXhfbWlwaV9kc2lfZW5jb2Rlcl9mdW5jcywK
PiArICAgICAgICAgICAgICAgICAgICAgICAgRFJNX01PREVfRU5DT0RFUl9EU0ksIE5VTEwpOwo+
ICsgICAgICAgcmV0dXJuIDA7Cj4gK30KPiArCj4gK3N0YXRpYyBlbnVtIGRybV9tb2RlX3N0YXR1
cyBpbXhfbWlwaV9kc2lfbW9kZV92YWxpZCh2b2lkICpwcml2X2RhdGEsCj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2Rl
ICptb2RlKQo+ICt7Cj4gKyAgICAgICAvKgo+ICsgICAgICAgICogVGhlIFZJRF9QS1RfU0laRSBm
aWVsZCBpbiB0aGUgRFNJX1ZJRF9QS1RfQ0ZHCj4gKyAgICAgICAgKiByZWdpc3RlciBpcyAxMS1i
aXQuCj4gKyAgICAgICAgKi8KPiArICAgICAgIGlmIChtb2RlLT5oZGlzcGxheSA+IDB4N2ZmKQo+
ICsgICAgICAgICAgICAgICByZXR1cm4gTU9ERV9CQURfSFZBTFVFOwo+ICsKPiArICAgICAgIC8q
Cj4gKyAgICAgICAgKiBUaGUgVl9BQ1RJVkVfTElORVMgZmllbGQgaW4gdGhlIERTSV9WVElNSU5H
X0NGRwo+ICsgICAgICAgICogcmVnaXN0ZXIgaXMgMTEtYml0Lgo+ICsgICAgICAgICovCj4gKyAg
ICAgICBpZiAobW9kZS0+dmRpc3BsYXkgPiAweDdmZikKPiArICAgICAgICAgICAgICAgcmV0dXJu
IE1PREVfQkFEX1ZWQUxVRTsKPiArCj4gKyAgICAgICByZXR1cm4gTU9ERV9PSzsKPiArfQo+ICsK
PiArCj4gK3N0YXRpYyB1bnNpZ25lZCBpbnQgbWF4X21icHNfdG9fdGVzdGRpbih1bnNpZ25lZCBp
bnQgbWF4X21icHMpCj4gK3sKPiArICAgICAgIHVuc2lnbmVkIGludCBpOwo+ICsKPiArICAgICAg
IGZvciAoaSA9IDA7IGkgPCBBUlJBWV9TSVpFKGRwdGRpbl9tYXApOyBpKyspCj4gKyAgICAgICAg
ICAgICAgIGlmIChkcHRkaW5fbWFwW2ldLm1heF9tYnBzID09IG1heF9tYnBzKQo+ICsgICAgICAg
ICAgICAgICAgICAgICAgIHJldHVybiBkcHRkaW5fbWFwW2ldLnRlc3RkaW47Cj4gKwo+ICsgICAg
ICAgcmV0dXJuIC1FSU5WQUw7Cj4gK30KPiArCj4gK3N0YXRpYyBpbmxpbmUgdm9pZCBkc2lfd3Jp
dGUoc3RydWN0IGlteF9taXBpX2RzaSAqZHNpLCB1MzIgcmVnLCB1MzIgdmFsKQo+ICt7Cj4gKyAg
ICAgICB3cml0ZWwodmFsLCBkc2ktPmJhc2UgKyByZWcpOwo+ICt9Cj4gKwo+ICtzdGF0aWMgaW50
IGlteF9taXBpX2RzaV9waHlfaW5pdCh2b2lkICpwcml2X2RhdGEpCj4gK3sKPiArICAgICAgIHN0
cnVjdCBpbXhfbWlwaV9kc2kgKmRzaSA9IHByaXZfZGF0YTsKPiArICAgICAgIGludCB0ZXN0ZGlu
Owo+ICsKPiArICAgICAgIHRlc3RkaW4gPSBtYXhfbWJwc190b190ZXN0ZGluKGRzaS0+bGFuZV9t
YnBzKTsKPiArICAgICAgIGlmICh0ZXN0ZGluIDwgMCkgewo+ICsgICAgICAgICAgICAgICBEUk1f
REVWX0VSUk9SKGRzaS0+ZGV2LAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJmYWls
ZWQgdG8gZ2V0IHRlc3RkaW4gZm9yICVkbWJwcyBsYW5lIGNsb2NrXG4iLAo+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGRzaS0+bGFuZV9tYnBzKTsKPiArICAgICAgICAgICAgICAgcmV0
dXJuIHRlc3RkaW47Cj4gKyAgICAgICB9Cj4gKwo+ICsgICAgICAgZHNpX3dyaXRlKGRzaSwgRFNJ
X1BIWV9JRl9DVFJMLCBQSFlfSUZfQ1RSTF9SRVNFVCk7Cj4gKyAgICAgICBkc2lfd3JpdGUoZHNp
LCBEU0lfUFdSX1VQLCBQT1dFUlVQKTsKPiArCj4gKyAgICAgICBkc2lfd3JpdGUoZHNpLCBEU0lf
UEhZX1RTVF9DVFJMMCwgUEhZX1VOVEVTVENMSyB8IFBIWV9VTlRFU1RDTFIpOwo+ICsgICAgICAg
ZHNpX3dyaXRlKGRzaSwgRFNJX1BIWV9UU1RfQ1RSTDEsIFBIWV9URVNURU4gfCBQSFlfVEVTVERP
VVQoMCkgfAo+ICsgICAgICAgICAgICAgICAgIFBIWV9URVNURElOKDB4NDQpKTsKPiArICAgICAg
IGRzaV93cml0ZShkc2ksIERTSV9QSFlfVFNUX0NUUkwwLCBQSFlfVEVTVENMSyB8IFBIWV9VTlRF
U1RDTFIpOwo+ICsgICAgICAgZHNpX3dyaXRlKGRzaSwgRFNJX1BIWV9UU1RfQ1RSTDAsIFBIWV9V
TlRFU1RDTEsgfCBQSFlfVU5URVNUQ0xSKTsKPiArICAgICAgIGRzaV93cml0ZShkc2ksIERTSV9Q
SFlfVFNUX0NUUkwxLCBQSFlfVU5URVNURU4gfCBQSFlfVEVTVERPVVQoMCkgfAo+ICsgICAgICAg
ICAgICAgICAgIFBIWV9URVNURElOKHRlc3RkaW4pKTsKPiArICAgICAgIGRzaV93cml0ZShkc2ks
IERTSV9QSFlfVFNUX0NUUkwwLCBQSFlfVEVTVENMSyB8IFBIWV9VTlRFU1RDTFIpOwo+ICsgICAg
ICAgZHNpX3dyaXRlKGRzaSwgRFNJX1BIWV9UU1RfQ1RSTDAsIFBIWV9VTlRFU1RDTEsgfCBQSFlf
VU5URVNUQ0xSKTsKPiArCj4gKyAgICAgICByZXR1cm4gMDsKPiArfQo+ICsKPiArc3RhdGljIGlu
dCBpbXhfbWlwaV9kc2lfZ2V0X2xhbmVfbWJwcyh2b2lkICpwcml2X2RhdGEsCj4gKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9k
ZSAqbW9kZSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVk
IGxvbmcgbW9kZV9mbGFncywgdTMyIGxhbmVzLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgdTMyIGZvcm1hdCwgdW5zaWduZWQgaW50ICpsYW5lX21icHMpCj4gK3sKPiAr
ICAgICAgIHN0cnVjdCBpbXhfbWlwaV9kc2kgKmRzaSA9IHByaXZfZGF0YTsKPiArICAgICAgIGlu
dCBicHA7Cj4gKyAgICAgICB1bnNpZ25lZCBpbnQgaSwgdGFyZ2V0X21icHMsIG1wY2xrOwo+ICsg
ICAgICAgdW5zaWduZWQgbG9uZyBwbGxyZWY7Cj4gKwo+ICsgICAgICAgYnBwID0gbWlwaV9kc2lf
cGl4ZWxfZm9ybWF0X3RvX2JwcChmb3JtYXQpOwo+ICsgICAgICAgaWYgKGJwcCA8IDApIHsKPiAr
ICAgICAgICAgICAgICAgRFJNX0RFVl9FUlJPUihkc2ktPmRldiwgImZhaWxlZCB0byBnZXQgYnBw
IGZvciBmb3JtYXQgJWQ6ICVkXG4iLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZv
cm1hdCwgYnBwKTsKPiArICAgICAgICAgICAgICAgcmV0dXJuIGJwcDsKPiArICAgICAgIH0KPiAr
Cj4gKyAgICAgICBwbGxyZWYgPSBjbGtfZ2V0X3JhdGUoZHNpLT5wbGxyZWZfY2xrKTsKPiArICAg
ICAgIGlmIChwbGxyZWYgIT0gMjcwMDAwMDApCj4gKyAgICAgICAgICAgICAgIERSTV9XQVJOKCJE
U0kgcGxscmVmX2NsayBub3Qgc2V0IHRvIDI3TWh6XG4iKTsKPiArCj4gKyAgICAgICBtcGNsayA9
IERJVl9ST1VORF9VUChtb2RlLT5jbG9jaywgTVNFQ19QRVJfU0VDKTsKPiArICAgICAgIGlmICht
cGNsaykgewo+ICsgICAgICAgICAgICAgICAvKiB0YWtlIDEvMC43IGJsYW5raW5nIG92ZXJoZWFk
IGludG8gY29uc2lkZXJhdGlvbiAqLwo+ICsgICAgICAgICAgICAgICB0YXJnZXRfbWJwcyA9ICht
cGNsayAqIChicHAgLyBsYW5lcykgKiAxMCkgLyA3Owo+ICsgICAgICAgfSBlbHNlIHsKPiArICAg
ICAgICAgICAgICAgRFJNX0RFVl9FUlJPUihkc2ktPmRldiwgInVzZSBkZWZhdWx0IDFHYnBzIERQ
SFkgcGxsIGNsb2NrXG4iKTsKPiArICAgICAgICAgICAgICAgdGFyZ2V0X21icHMgPSAxMDAwOwo+
ICsgICAgICAgfQo+ICsKPiArICAgICAgIERSTV9ERVZfREVCVUcoZHNpLT5kZXYsICJ0YXJnZXQg
cGxscmVmX2NsayBmcmVxdWVuY3kgaXMgJXVNYnBzXG4iLAo+ICsgICAgICAgICAgICAgICAgICAg
ICB0YXJnZXRfbWJwcyk7Cj4gKwo+ICsgICAgICAgZm9yIChpID0gMDsgaSA8IEFSUkFZX1NJWkUo
ZHB0ZGluX21hcCk7IGkrKykgewo+ICsgICAgICAgICAgICAgICBpZiAodGFyZ2V0X21icHMgPCBk
cHRkaW5fbWFwW2ldLm1heF9tYnBzKSB7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgKmxhbmVf
bWJwcyA9IGRwdGRpbl9tYXBbaV0ubWF4X21icHM7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ZHNpLT5sYW5lX21icHMgPSAqbGFuZV9tYnBzOwo+ICsgICAgICAgICAgICAgICAgICAgICAgIERS
TV9ERVZfREVCVUcoZHNpLT5kZXYsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAicmVhbCBwbGxyZWZfY2xrIGZyZXF1ZW5jeSBpcyAldU1icHNcbiIsCj4gKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqbGFuZV9tYnBzKTsKPiArICAgICAgICAgICAg
ICAgICAgICAgICByZXR1cm4gMDsKPiArICAgICAgICAgICAgICAgfQo+ICsgICAgICAgfQo+ICsK
PiArICAgICAgIERSTV9ERVZfRVJST1IoZHNpLT5kZXYsICJEUEhZIGNsb2NrIGZyZXF1ZW5jeSAl
dU1icHMgaXMgb3V0IG9mIHJhbmdlXG4iLAo+ICsgICAgICAgICAgICAgICAgICAgICB0YXJnZXRf
bWJwcyk7Cj4gKwo+ICsgICAgICAgcmV0dXJuIC1FSU5WQUw7Cj4gK30KPiArCj4gK3N0YXRpYyBp
bnQKPiArZHdfbWlwaV9kc2lfcGh5X2dldF90aW1pbmcodm9pZCAqcHJpdl9kYXRhLCB1bnNpZ25l
ZCBpbnQgbGFuZV9tYnBzLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkd19t
aXBpX2RzaV9kcGh5X3RpbWluZyAqdGltaW5nKQo+ICt7Cj4gKyAgICAgICB0aW1pbmctPmNsa19o
czJscCA9IDB4NDA7Cj4gKyAgICAgICB0aW1pbmctPmNsa19scDJocyA9IDB4NDA7Cj4gKyAgICAg
ICB0aW1pbmctPmRhdGFfaHMybHAgPSAweDQwOwo+ICsgICAgICAgdGltaW5nLT5kYXRhX2xwMmhz
ID0gMHg0MDsKPiArCj4gKyAgICAgICByZXR1cm4gMDsKPiArfQo+ICsKPiArc3RhdGljIGNvbnN0
IHN0cnVjdCBkd19taXBpX2RzaV9waHlfb3BzIGR3X21pcGlfZHNpX2lteDZfcGh5X29wcyA9IHsK
PiArICAgICAgIC5pbml0ID0gaW14X21pcGlfZHNpX3BoeV9pbml0LAo+ICsgICAgICAgLmdldF9s
YW5lX21icHMgPSBpbXhfbWlwaV9kc2lfZ2V0X2xhbmVfbWJwcywKPiArICAgICAgIC5nZXRfdGlt
aW5nID0gZHdfbWlwaV9kc2lfcGh5X2dldF90aW1pbmcsCj4gK307Cj4gKwo+ICtzdGF0aWMgc3Ry
dWN0IGR3X21pcGlfZHNpX3BsYXRfZGF0YSBpbXg2cV9taXBpX2RzaV9kcnZfZGF0YSA9IHsKPiAr
ICAgICAgIC5tYXhfZGF0YV9sYW5lcyA9IDIsCj4gKyAgICAgICAubW9kZV92YWxpZCA9IGlteF9t
aXBpX2RzaV9tb2RlX3ZhbGlkLAo+ICsgICAgICAgLnBoeV9vcHMgPSAmZHdfbWlwaV9kc2lfaW14
Nl9waHlfb3BzLAo+ICt9Owo+ICsKPiArc3RhdGljIGNvbnN0IHN0cnVjdCBvZl9kZXZpY2VfaWQg
aW14X2RzaV9kdF9pZHNbXSA9IHsKPiArICAgICAgIHsKPiArICAgICAgICAgICAgICAgLmNvbXBh
dGlibGUgPSAiZnNsLGlteDZxLW1pcGktZHNpIiwKPiArICAgICAgICAgICAgICAgLmRhdGEgPSAm
aW14NnFfbWlwaV9kc2lfZHJ2X2RhdGEsCj4gKyAgICAgICB9LAo+ICsgICAgICAgeyAvKiBzZW50
aW5lbCAqLyB9Cj4gK307Cj4gK01PRFVMRV9ERVZJQ0VfVEFCTEUob2YsIGlteF9kc2lfZHRfaWRz
KTsKPiArCj4gK3N0YXRpYyBpbnQgaW14X21pcGlfZHNpX2JpbmQoc3RydWN0IGRldmljZSAqZGV2
LCBzdHJ1Y3QgZGV2aWNlICptYXN0ZXIsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICB2
b2lkICpkYXRhKQo+ICt7Cj4gKyAgICAgICBzdHJ1Y3QgaW14X21pcGlfZHNpICpkc2kgPSBkZXZf
Z2V0X2RydmRhdGEoZGV2KTsKPiArICAgICAgIHN0cnVjdCBkcm1fZGV2aWNlICpkcm0gPSBkYXRh
Owo+ICsgICAgICAgaW50IHJldDsKPiArCj4gKyAgICAgICByZXQgPSBjbGtfcHJlcGFyZV9lbmFi
bGUoZHNpLT5wbGxyZWZfY2xrKTsKPiArICAgICAgIGlmIChyZXQpIHsKPiArICAgICAgICAgICAg
ICAgRFJNX0RFVl9FUlJPUihkZXYsICJGYWlsZWQgdG8gZW5hYmxlIHBsbHJlZl9jbGs6ICVkXG4i
LCByZXQpOwo+ICsgICAgICAgICAgICAgICByZXR1cm4gcmV0Owo+ICsgICAgICAgfQo+ICsKPiAr
ICAgICAgIHJldCA9IGlteF9taXBpX2RzaV9yZWdpc3Rlcihkcm0sIGRzaSk7Cj4gKyAgICAgICBp
ZiAocmV0KSB7Cj4gKyAgICAgICAgICAgICAgIERSTV9ERVZfRVJST1IoZGV2LCAiRmFpbGVkIHRv
IHJlZ2lzdGVyOiAlZFxuIiwgcmV0KTsKPiArICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiAr
ICAgICAgIH0KPiArCj4gKyAgICAgICByZXQgPSBkd19taXBpX2RzaV9iaW5kKGRzaS0+bWlwaV9k
c2ksICZkc2ktPmVuY29kZXIpOwo+ICsgICAgICAgaWYgKHJldCkgewo+ICsgICAgICAgICAgICAg
ICBEUk1fREVWX0VSUk9SKGRldiwgIkZhaWxlZCB0byBiaW5kOiAlZFxuIiwgcmV0KTsKPiArICAg
ICAgICAgICAgICAgcmV0dXJuIHJldDsKPiArICAgICAgIH0KPiArCj4gKyAgICAgICByZXR1cm4g
MDsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgaW14X21pcGlfZHNpX3VuYmluZChzdHJ1Y3QgZGV2
aWNlICpkZXYsIHN0cnVjdCBkZXZpY2UgKm1hc3RlciwKPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHZvaWQgKmRhdGEpCj4gK3sKPiArICAgICAgIHN0cnVjdCBpbXhfbWlwaV9kc2kg
KmRzaSA9IGRldl9nZXRfZHJ2ZGF0YShkZXYpOwo+ICsKPiArICAgICAgIGR3X21pcGlfZHNpX3Vu
YmluZChkc2ktPm1pcGlfZHNpKTsKPiArCj4gKyAgICAgICBjbGtfZGlzYWJsZV91bnByZXBhcmUo
ZHNpLT5wbGxyZWZfY2xrKTsKPiArfQo+ICsKPiArc3RhdGljIGNvbnN0IHN0cnVjdCBjb21wb25l
bnRfb3BzIGlteF9taXBpX2RzaV9vcHMgPSB7Cj4gKyAgICAgICAuYmluZCAgID0gaW14X21pcGlf
ZHNpX2JpbmQsCj4gKyAgICAgICAudW5iaW5kID0gaW14X21pcGlfZHNpX3VuYmluZCwKPiArfTsK
PiArCj4gK3N0YXRpYyBpbnQgaW14X21pcGlfZHNpX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZp
Y2UgKnBkZXYpCj4gK3sKPiArICAgICAgIHN0cnVjdCBkZXZpY2UgKmRldiA9ICZwZGV2LT5kZXY7
Cj4gKyAgICAgICBjb25zdCBzdHJ1Y3Qgb2ZfZGV2aWNlX2lkICpvZl9pZCA9IG9mX21hdGNoX2Rl
dmljZShpbXhfZHNpX2R0X2lkcywgZGV2KTsKPiArICAgICAgIHN0cnVjdCBkd19taXBpX2RzaV9w
bGF0X2RhdGEgKnBkYXRhID0gKHN0cnVjdCBkd19taXBpX2RzaV9wbGF0X2RhdGEgKikgb2ZfaWQt
PmRhdGE7Cj4gKyAgICAgICBzdHJ1Y3QgaW14X21pcGlfZHNpICpkc2k7Cj4gKyAgICAgICBzdHJ1
Y3QgcmVzb3VyY2UgKnJlczsKPiArICAgICAgIGludCByZXQ7Cj4gKwo+ICsgICAgICAgZHNpID0g
ZGV2bV9remFsbG9jKGRldiwgc2l6ZW9mKCpkc2kpLCBHRlBfS0VSTkVMKTsKPiArICAgICAgIGlm
ICghZHNpKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gLUVOT01FTTsKPiArCj4gKyAgICAgICBk
c2ktPmRldiA9IGRldjsKPiArCj4gKyAgICAgICByZXMgPSBwbGF0Zm9ybV9nZXRfcmVzb3VyY2Uo
cGRldiwgSU9SRVNPVVJDRV9NRU0sIDApOwo+ICsgICAgICAgZHNpLT5iYXNlID0gZGV2bV9pb3Jl
bWFwX3Jlc291cmNlKGRldiwgcmVzKTsKPiArICAgICAgIGlmIChJU19FUlIoZHNpLT5iYXNlKSkg
ewo+ICsgICAgICAgICAgICAgICByZXQgPSBQVFJfRVJSKGRzaS0+YmFzZSk7Cj4gKyAgICAgICAg
ICAgICAgIERSTV9ERVZfRVJST1IoZGV2LCAiVW5hYmxlIHRvIGdldCBkc2kgcmVnaXN0ZXJzOiAl
ZFxuIiwgcmV0KTsKPiArICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiArICAgICAgIH0KPiAr
Cj4gKyAgICAgICBkc2ktPnBsbHJlZl9jbGsgPSBkZXZtX2Nsa19nZXQoZGV2LCAicmVmIik7Cj4g
KyAgICAgICBpZiAoSVNfRVJSKGRzaS0+cGxscmVmX2NsaykpIHsKPiArICAgICAgICAgICAgICAg
cmV0ID0gUFRSX0VSUihkc2ktPnBsbHJlZl9jbGspOwo+ICsgICAgICAgICAgICAgICBEUk1fREVW
X0VSUk9SKGRldiwgIlVuYWJsZSB0byBnZXQgcGxscmVmX2NsazogJWRcbiIsIHJldCk7Cj4gKyAg
ICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4gKyAgICAgICB9Cj4gKwo+ICsgICAgICAgZHNpLT5t
dXhfc2VsID0gc3lzY29uX3JlZ21hcF9sb29rdXBfYnlfcGhhbmRsZShkZXYtPm9mX25vZGUsICJm
c2wsZ3ByIik7Cj4gKyAgICAgICBpZiAoSVNfRVJSKGRzaS0+bXV4X3NlbCkpIHsKPiArICAgICAg
ICAgICAgICAgcmV0ID0gUFRSX0VSUihkc2ktPm11eF9zZWwpOwo+ICsgICAgICAgICAgICAgICBE
Uk1fREVWX0VSUk9SKGRldiwgIkZhaWxlZCB0byBnZXQgR1BSIHJlZ21hcDogJWRcbiIsIHJldCk7
Cj4gKyAgICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4gKyAgICAgICB9Cj4gKwo+ICsgICAgICAg
ZGV2X3NldF9kcnZkYXRhKGRldiwgZHNpKTsKPiArCj4gKyAgICAgICBpbXg2cV9taXBpX2RzaV9k
cnZfZGF0YS5iYXNlID0gZHNpLT5iYXNlOwo+ICsgICAgICAgaW14NnFfbWlwaV9kc2lfZHJ2X2Rh
dGEucHJpdl9kYXRhID0gZHNpOwo+ICsKPiArICAgICAgIGRzaS0+bWlwaV9kc2kgPSBkd19taXBp
X2RzaV9wcm9iZShwZGV2LCBwZGF0YSk7Cj4gKyAgICAgICBpZiAoSVNfRVJSKGRzaS0+bWlwaV9k
c2kpKSB7Cj4gKyAgICAgICAgICAgICAgIHJldCA9IFBUUl9FUlIoZHNpLT5taXBpX2RzaSk7Cj4g
KyAgICAgICAgICAgICAgIERSTV9ERVZfRVJST1IoZGV2LCAiRmFpbGVkIHRvIHByb2JlIERXIERT
SSBob3N0OiAlZFxuIiwgcmV0KTsKPiArICAgICAgICAgICAgICAgZ290byBlcnJfY2xrZGlzYWJs
ZTsKPiArICAgICAgIH0KPiArCj4gKyAgICAgICByZXR1cm4gY29tcG9uZW50X2FkZCgmcGRldi0+
ZGV2LCAmaW14X21pcGlfZHNpX29wcyk7Cj4gKwo+ICtlcnJfY2xrZGlzYWJsZToKPiArICAgICAg
IGNsa19kaXNhYmxlX3VucHJlcGFyZShkc2ktPnBsbHJlZl9jbGspOwo+ICsgICAgICAgcmV0dXJu
IHJldDsKPiArfQo+ICsKPiArc3RhdGljIGludCBpbXhfbWlwaV9kc2lfcmVtb3ZlKHN0cnVjdCBw
bGF0Zm9ybV9kZXZpY2UgKnBkZXYpCj4gK3sKPiArICAgICAgIGNvbXBvbmVudF9kZWwoJnBkZXYt
PmRldiwgJmlteF9taXBpX2RzaV9vcHMpOwo+ICsgICAgICAgcmV0dXJuIDA7Cj4gK30KPiArCj4g
K3N0YXRpYyBzdHJ1Y3QgcGxhdGZvcm1fZHJpdmVyIGlteF9taXBpX2RzaV9kcml2ZXIgPSB7Cj4g
KyAgICAgICAucHJvYmUgICAgICAgICAgPSBpbXhfbWlwaV9kc2lfcHJvYmUsCj4gKyAgICAgICAu
cmVtb3ZlICAgICAgICAgPSBpbXhfbWlwaV9kc2lfcmVtb3ZlLAo+ICsgICAgICAgLmRyaXZlciAg
ICAgICAgID0gewo+ICsgICAgICAgICAgICAgICAub2ZfbWF0Y2hfdGFibGUgPSBpbXhfZHNpX2R0
X2lkcywKPiArICAgICAgICAgICAgICAgLm5hbWUgICA9ICJkdy1taXBpLWRzaS1pbXg2IiwKPiAr
ICAgICAgIH0sCj4gK307Cj4gK21vZHVsZV9wbGF0Zm9ybV9kcml2ZXIoaW14X21pcGlfZHNpX2Ry
aXZlcik7Cj4gKwo+ICtNT0RVTEVfREVTQ1JJUFRJT04oImkuTVg2IE1JUEkgRFNJIGhvc3QgY29u
dHJvbGxlciBkcml2ZXIiKTsKPiArTU9EVUxFX0FVVEhPUigiTGl1IFlpbmcgPHZpY3Rvci5saXVA
bnhwLmNvbT4iKTsKPiArTU9EVUxFX0FVVEhPUigiQWRyaWFuIFJhdGl1IDxhZHJpYW4ucmF0aXVA
Y29sbGFib3JhLmNvbT4iKTsKPiArTU9EVUxFX0xJQ0VOU0UoIkdQTCIpOwo+IC0tCj4gMi4yNi4w
Cj4KPiBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwo+IGRy
aS1kZXZlbCBtYWlsaW5nIGxpc3QKPiBkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCj4g
aHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWwK
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVs
IG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlz
dHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVsCg==
