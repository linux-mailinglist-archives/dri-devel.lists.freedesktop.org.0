Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 5F7D6B0B5D
	for <lists+dri-devel@lfdr.de>; Thu, 12 Sep 2019 11:28:05 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7363B6EC2A;
	Thu, 12 Sep 2019 09:28:02 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from perceval.ideasonboard.com (perceval.ideasonboard.com
 [IPv6:2001:4b98:dc2:55:216:3eff:fef7:d647])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 777DB6EC2A
 for <dri-devel@lists.freedesktop.org>; Thu, 12 Sep 2019 09:28:00 +0000 (UTC)
Received: from [192.168.0.20]
 (cpc89242-aztw30-2-0-cust488.18-1.cable.virginm.net [86.31.129.233])
 by perceval.ideasonboard.com (Postfix) with ESMTPSA id 7B47C33A;
 Thu, 12 Sep 2019 11:27:57 +0200 (CEST)
Subject: Re: [PATCH v4 5/9] drm: rcar-du: kms: Initialize CMM instances
To: Jacopo Mondi <jacopo+renesas@jmondi.org>,
 laurent.pinchart@ideasonboard.com, geert@linux-m68k.org, horms@verge.net.au,
 uli+renesas@fpond.eu, VenkataRajesh.Kalakodima@in.bosch.com
References: <20190906135436.10622-1-jacopo+renesas@jmondi.org>
 <20190906135436.10622-6-jacopo+renesas@jmondi.org>
From: Kieran Bingham <kieran.bingham+renesas@ideasonboard.com>
Organization: Ideas on Board
Message-ID: <331b5f7c-49fe-1578-8698-0e69c456e995@ideasonboard.com>
Date: Thu, 12 Sep 2019 10:27:54 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <20190906135436.10622-6-jacopo+renesas@jmondi.org>
Content-Language: en-GB
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=ideasonboard.com; s=mail; t=1568280478;
 bh=FgX5shnvhvvsoMnj0Tz1lstVsVd+UPt97RfcttdFqtY=;
 h=Reply-To:Subject:To:Cc:References:From:Date:In-Reply-To:From;
 b=p6WRaHvpSsjpXIhZlIoRBGSPkosld2cPqGztYfu2fELLFxrwckNYbscqpv80weVS+
 qiA3DVAMgHz3CEFRH3tb7HuFChutStKWCsSo0av+uigAM8h7O/eGWKUPMrOVpRHa9K
 NaorDvf/+TAz39TX71OPrKtEPz2Mjggvjgju9tJQ=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Reply-To: kieran.bingham+renesas@ideasonboard.com
Cc: muroya@ksk.co.jp, airlied@linux.ie, koji.matsuoka.xm@renesas.com,
 dri-devel@lists.freedesktop.org, linux-kernel@vger.kernel.org,
 linux-renesas-soc@vger.kernel.org, Harsha.ManjulaMallikarjun@in.bosch.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgSmFjb3BvLAoKT24gMDYvMDkvMjAxOSAxNDo1NCwgSmFjb3BvIE1vbmRpIHdyb3RlOgo+IElt
cGxlbWVudCBkZXZpY2UgdHJlZSBwYXJzaW5nIHRvIGNvbGxlY3QgdGhlIGF2YWlsYWJsZSBDTU0g
aW5zdGFuY2VzCj4gZGVzY3JpYmVkIGJ5IHRoZSAncmVuZXNhcyxjbW1zJyBwcm9wZXJ0eS4gQXNz
b2NpYXRlIENNTXMgd2l0aCBDUlRDcyBhbmQKPiBzdG9yZSBhIG1hc2sgb2YgYWN0aXZlIENNTXMg
aW4gdGhlIERVIGdyb3VwIGZvciBsYXRlciBlbmFibGVtZW50Lgo+IAo+IEVuZm9yY2UgdGhlIHBy
b2JlIGFuZCBzdXNwZW5kL3Jlc3VtZSBvcmRlcmluZyBvZiBEVSBhbmQgQ01NIGJ5IGNyZWF0aW5n
Cj4gYSBzdGF0ZWxlc3MgZGV2aWNlIGxpbmsgYmV0d2VlbiB0aGUgdHdvLgo+IAo+IFJldmlld2Vk
LWJ5OiBMYXVyZW50IFBpbmNoYXJ0IDxsYXVyZW50LnBpbmNoYXJ0QGlkZWFzb25ib2FyZC5jb20+
Cj4gU2lnbmVkLW9mZi1ieTogSmFjb3BvIE1vbmRpIDxqYWNvcG8rcmVuZXNhc0BqbW9uZGkub3Jn
Pgo+IC0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X2NydGMuYyAgfCAgNiAr
KysKPiAgZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9jcnRjLmggIHwgIDIgKwo+ICBk
cml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X2Rydi5oICAgfCAgMiArCj4gIGRyaXZlcnMv
Z3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfZ3JvdXAuaCB8ICAyICsKPiAgZHJpdmVycy9ncHUvZHJt
L3JjYXItZHUvcmNhcl9kdV9rbXMuYyAgIHwgNjggKysrKysrKysrKysrKysrKysrKysrKysrKwo+
ICA1IGZpbGVzIGNoYW5nZWQsIDgwIGluc2VydGlvbnMoKykKPiAKPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9jcnRjLmMgYi9kcml2ZXJzL2dwdS9kcm0vcmNh
ci1kdS9yY2FyX2R1X2NydGMuYwo+IGluZGV4IDJkYTQ2ZTNkYzRhZS4uMjNmMWQ2Y2MxNzE5IDEw
MDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfY3J0Yy5jCj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9jcnRjLmMKPiBAQCAtMTE5NCw2ICsx
MTk0LDEyIEBAIGludCByY2FyX2R1X2NydGNfY3JlYXRlKHN0cnVjdCByY2FyX2R1X2dyb3VwICpy
Z3JwLCB1bnNpZ25lZCBpbnQgc3dpbmRleCwKPiAgCWlmIChyZXQgPCAwKQo+ICAJCXJldHVybiBy
ZXQ7Cj4gIAo+ICsJLyogQ01NIG1pZ2h0IGJlIGRpc2FibGVkIGZvciB0aGlzIENSVEMuICovCj4g
KwlpZiAocmNkdS0+Y21tc1tzd2luZGV4XSkgewo+ICsJCXJjcnRjLT5jbW0gPSByY2R1LT5jbW1z
W3N3aW5kZXhdOwo+ICsJCXJncnAtPmNtbXNfbWFzayB8PSBCSVQoaHdpbmRleCAlIDIpOwo+ICsJ
fQo+ICsKCkdvb2QgLSB0aGlzIGNoZWNrcyBvdXQgOi1ECgoKPiAgCWRybV9jcnRjX2hlbHBlcl9h
ZGQoY3J0YywgJmNydGNfaGVscGVyX2Z1bmNzKTsKPiAgCj4gIAkvKiBTdGFydCB3aXRoIHZlcnRp
Y2FsIGJsYW5raW5nIGludGVycnVwdCByZXBvcnRpbmcgZGlzYWJsZWQuICovCj4gZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfY3J0Yy5oIGIvZHJpdmVycy9ncHUv
ZHJtL3JjYXItZHUvcmNhcl9kdV9jcnRjLmgKPiBpbmRleCAzYjdmYzY2ODk5NmYuLjVmMjk0MGM0
MjIyNSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X2NydGMu
aAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfY3J0Yy5oCj4gQEAgLTM5
LDYgKzM5LDcgQEAgc3RydWN0IHJjYXJfZHVfdnNwOwo+ICAgKiBAdmJsYW5rX3dhaXQ6IHdhaXQg
cXVldWUgdXNlZCB0byBzaWduYWwgdmVydGljYWwgYmxhbmtpbmcKPiAgICogQHZibGFua19jb3Vu
dDogbnVtYmVyIG9mIHZlcnRpY2FsIGJsYW5raW5nIGludGVycnVwdHMgdG8gd2FpdCBmb3IKPiAg
ICogQGdyb3VwOiBDUlRDIGdyb3VwIHRoaXMgQ1JUQyBiZWxvbmdzIHRvCj4gKyAqIEBjbW06IENN
TSBhc3NvY2lhdGVkIHdpdGggdGhpcyBDUlRDCj4gICAqIEB2c3A6IFZTUCBmZWVkaW5nIHZpZGVv
IHRvIHRoaXMgQ1JUQwo+ICAgKiBAdnNwX3BpcGU6IGluZGV4IG9mIHRoZSBWU1AgcGlwZWxpbmUg
ZmVlZGluZyB2aWRlbyB0byB0aGlzIENSVEMKPiAgICogQHdyaXRlYmFjazogdGhlIHdyaXRlYmFj
ayBjb25uZWN0b3IKPiBAQCAtNjQsNiArNjUsNyBAQCBzdHJ1Y3QgcmNhcl9kdV9jcnRjIHsKPiAg
CXVuc2lnbmVkIGludCB2YmxhbmtfY291bnQ7Cj4gIAo+ICAJc3RydWN0IHJjYXJfZHVfZ3JvdXAg
Kmdyb3VwOwo+ICsJc3RydWN0IHBsYXRmb3JtX2RldmljZSAqY21tOwo+ICAJc3RydWN0IHJjYXJf
ZHVfdnNwICp2c3A7Cj4gIAl1bnNpZ25lZCBpbnQgdnNwX3BpcGU7Cj4gIAo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X2Rydi5oIGIvZHJpdmVycy9ncHUvZHJt
L3JjYXItZHUvcmNhcl9kdV9kcnYuaAo+IGluZGV4IGEwMGRjY2M0NDdhYS4uNjMxNmExYzUyMzZj
IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfZHJ2LmgKPiAr
KysgYi9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X2Rydi5oCj4gQEAgLTEzLDYgKzEz
LDcgQEAKPiAgI2luY2x1ZGUgPGxpbnV4L2tlcm5lbC5oPgo+ICAjaW5jbHVkZSA8bGludXgvd2Fp
dC5oPgo+ICAKPiArI2luY2x1ZGUgInJjYXJfY21tLmgiCj4gICNpbmNsdWRlICJyY2FyX2R1X2Ny
dGMuaCIKPiAgI2luY2x1ZGUgInJjYXJfZHVfZ3JvdXAuaCIKPiAgI2luY2x1ZGUgInJjYXJfZHVf
dnNwLmgiCj4gQEAgLTg2LDYgKzg3LDcgQEAgc3RydWN0IHJjYXJfZHVfZGV2aWNlIHsKPiAgCXN0
cnVjdCByY2FyX2R1X2VuY29kZXIgKmVuY29kZXJzW1JDQVJfRFVfT1VUUFVUX01BWF07Cj4gIAo+
ICAJc3RydWN0IHJjYXJfZHVfZ3JvdXAgZ3JvdXBzW1JDQVJfRFVfTUFYX0dST1VQU107Cj4gKwlz
dHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpjbW1zW1JDQVJfRFVfTUFYX0NSVENTXTsKPiAgCXN0cnVj
dCByY2FyX2R1X3ZzcCB2c3BzW1JDQVJfRFVfTUFYX1ZTUFNdOwo+ICAKPiAgCXN0cnVjdCB7Cj4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfZ3JvdXAuaCBiL2Ry
aXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfZ3JvdXAuaAo+IGluZGV4IDg3OTUwYzFmNmE1
Mi4uZTk5MDY2MDljNjM1IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3Jj
YXJfZHVfZ3JvdXAuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfZ3Jv
dXAuaAo+IEBAIC0yMiw2ICsyMiw3IEBAIHN0cnVjdCByY2FyX2R1X2RldmljZTsKPiAgICogQG1t
aW9fb2Zmc2V0OiByZWdpc3RlcnMgb2Zmc2V0IGluIHRoZSBkZXZpY2UgbWVtb3J5IG1hcAo+ICAg
KiBAaW5kZXg6IGdyb3VwIGluZGV4Cj4gICAqIEBjaGFubmVsc19tYXNrOiBiaXRtYXNrIG9mIHBv
cHVsYXRlZCBEVSBjaGFubmVscyBpbiB0aGlzIGdyb3VwCj4gKyAqIEBjbW1zX21hc2s6IGJpdG1h
c2sgb2YgYXZhaWxhYmxlIENNTXMgaW4gdGhpcyBncm91cAo+ICAgKiBAbnVtX2NydGNzOiBudW1i
ZXIgb2YgQ1JUQ3MgaW4gdGhpcyBncm91cCAoMSBvciAyKQo+ICAgKiBAdXNlX2NvdW50OiBudW1i
ZXIgb2YgdXNlcnMgb2YgdGhlIGdyb3VwIChyY2FyX2R1X2dyb3VwXyhnZXR8cHV0KSkKPiAgICog
QHVzZWRfY3J0Y3M6IG51bWJlciBvZiBDUlRDcyBjdXJyZW50bHkgaW4gdXNlCj4gQEAgLTM3LDYg
KzM4LDcgQEAgc3RydWN0IHJjYXJfZHVfZ3JvdXAgewo+ICAJdW5zaWduZWQgaW50IGluZGV4Owo+
ICAKPiAgCXVuc2lnbmVkIGludCBjaGFubmVsc19tYXNrOwo+ICsJdW5zaWduZWQgaW50IGNtbXNf
bWFzazsKPiAgCXVuc2lnbmVkIGludCBudW1fY3J0Y3M7Cj4gIAl1bnNpZ25lZCBpbnQgdXNlX2Nv
dW50Owo+ICAJdW5zaWduZWQgaW50IHVzZWRfY3J0Y3M7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfa21zLmMgYi9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9y
Y2FyX2R1X2ttcy5jCj4gaW5kZXggMmRjOWNhZWU4NzY3Li4yOTQ2MzBlNTY5OTIgMTAwNjQ0Cj4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9rbXMuYwo+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfa21zLmMKPiBAQCAtMTcsNyArMTcsOSBAQAo+ICAj
aW5jbHVkZSA8ZHJtL2RybV9wcm9iZV9oZWxwZXIuaD4KPiAgI2luY2x1ZGUgPGRybS9kcm1fdmJs
YW5rLmg+Cj4gIAo+ICsjaW5jbHVkZSA8bGludXgvZGV2aWNlLmg+Cj4gICNpbmNsdWRlIDxsaW51
eC9vZl9ncmFwaC5oPgo+ICsjaW5jbHVkZSA8bGludXgvb2ZfcGxhdGZvcm0uaD4KPiAgI2luY2x1
ZGUgPGxpbnV4L3dhaXQuaD4KPiAgCj4gICNpbmNsdWRlICJyY2FyX2R1X2NydGMuaCIKPiBAQCAt
NjE0LDYgKzYxNiw2NyBAQCBzdGF0aWMgaW50IHJjYXJfZHVfdnNwc19pbml0KHN0cnVjdCByY2Fy
X2R1X2RldmljZSAqcmNkdSkKPiAgCXJldHVybiByZXQ7Cj4gIH0KPiAgCj4gK3N0YXRpYyBpbnQg
cmNhcl9kdV9jbW1faW5pdChzdHJ1Y3QgcmNhcl9kdV9kZXZpY2UgKnJjZHUpCj4gK3sKPiArCWNv
bnN0IHN0cnVjdCBkZXZpY2Vfbm9kZSAqbnAgPSByY2R1LT5kZXYtPm9mX25vZGU7Cj4gKwl1bnNp
Z25lZCBpbnQgaTsKPiArCWludCBjZWxsczsKPiArCj4gKwljZWxscyA9IG9mX3Byb3BlcnR5X2Nv
dW50X3UzMl9lbGVtcyhucCwgInJlbmVzYXMsY21tcyIpOwo+ICsJaWYgKGNlbGxzID09IC1FSU5W
QUwpCj4gKwkJcmV0dXJuIDA7Cj4gKwo+ICsJaWYgKGNlbGxzID4gcmNkdS0+bnVtX2NydGNzKSB7
Cj4gKwkJZGV2X2VycihyY2R1LT5kZXYsCj4gKwkJCSJJbnZhbGlkIG51bWJlciBvZiBlbnRyaWVz
IGluICdyZW5lc2FzLGNtbXMnXG4iKTsKPiArCQlyZXR1cm4gLUVJTlZBTDsKPiArCX0KPiArCj4g
Kwlmb3IgKGkgPSAwOyBpIDwgY2VsbHM7ICsraSkgewo+ICsJCXN0cnVjdCBwbGF0Zm9ybV9kZXZp
Y2UgKnBkZXY7Cj4gKwkJc3RydWN0IGRldmljZV9saW5rICpsaW5rOwo+ICsJCXN0cnVjdCBkZXZp
Y2Vfbm9kZSAqY21tOwo+ICsJCWludCByZXQ7Cj4gKwo+ICsJCWNtbSA9IG9mX3BhcnNlX3BoYW5k
bGUobnAsICJyZW5lc2FzLGNtbXMiLCBpKTsKPiArCQlpZiAoSVNfRVJSKGNtbSkpIHsKPiArCQkJ
ZGV2X2VycihyY2R1LT5kZXYsCj4gKwkJCQkiRmFpbGVkIHRvIHBhcnNlICdyZW5lc2FzLGNtbXMn
IHByb3BlcnR5XG4iKTsKPiArCQkJcmV0dXJuIFBUUl9FUlIoY21tKTsKClNob3VsZCB3ZSBoYXZl
IGEgLUVOT0VOVCBleGNlcHRpb24gaGVyZSBzb21ld2hlcmU/CgpPdGhlcndpc2UgSSB0aGluayBw
bGF0Zm9ybXMgd2l0aG91dCBhIENNTSB3aWxsIGZhaWwsIGFuZCBuZXcga2VybmVscwp3aXRoIG9s
ZCBEVEJzIHdvdWxkIGFsc28gZmFpbCA/CgooYmFzZWQgb24gbXkgaW50ZXJwcmV0YXRpb24gaW4g
X19vZl9wYXJzZV9waGFuZGxlX3dpdGhfYXJncygpIHRoYXQgbm90CmZpbmRpbmcgYSByZXF1ZXN0
ZWQgcGhhbmRsZSByZXR1cm5zIC1FTk9FTlQpLgoKClNjcmF0Y2ggdGhhdCAtIEkndmUganVzdCBz
ZWVuIGFib3ZlIHdpdGggdGhlCiAgY2VsbHMgPSBvZl9wcm9wZXJ0eV9jb3VudF91MzJfZWxlbXMo
bnAsICJyZW5lc2FzLGNtbXMiKTsKCndoaWNoIHdpbGwgcmV0dXJuIDAgaWYgdGhpcyBkZXZpY2Ug
ZG9lc24ndCBoYXZlIGEgQ01NLgoKU28gLSB0aGlzIGFsbCBsb29rcyBnb29kIHRvIG1lLgoKUmV2
aWV3ZWQtYnk6IEtpZXJhbiBCaW5naGFtIDxraWVyYW4uYmluZ2hhbStyZW5lc2FzQGlkZWFzb25i
b2FyZC5jb20+CgoKCgo+ICsJCX0KPiArCj4gKwkJaWYgKCFvZl9kZXZpY2VfaXNfYXZhaWxhYmxl
KGNtbSkpIHsKPiArCQkJLyogSXQncyBmaW5lIHRvIGhhdmUgYSBwaGFuZGxlIHRvIGEgbm9uLWVu
YWJsZWQgQ01NLiAqLwo+ICsJCQlvZl9ub2RlX3B1dChjbW0pOwo+ICsJCQljb250aW51ZTsKPiAr
CQl9Cj4gKwo+ICsJCXBkZXYgPSBvZl9maW5kX2RldmljZV9ieV9ub2RlKGNtbSk7Cj4gKwkJaWYg
KElTX0VSUihwZGV2KSkgewo+ICsJCQlkZXZfZXJyKHJjZHUtPmRldiwgIk5vIGRldmljZSBmb3Vu
ZCBmb3IgQ01NJXVcbiIsIGkpOwo+ICsJCQlvZl9ub2RlX3B1dChjbW0pOwo+ICsJCQlyZXR1cm4g
UFRSX0VSUihwZGV2KTsKPiArCQl9Cj4gKwo+ICsJCW9mX25vZGVfcHV0KGNtbSk7Cj4gKwo+ICsJ
CXJldCA9IHJjYXJfY21tX2luaXQocGRldik7Cj4gKwkJaWYgKHJldCkKPiArCQkJcmV0dXJuIHJl
dDsKPiArCj4gKwkJbGluayA9IGRldmljZV9saW5rX2FkZChyY2R1LT5kZXYsICZwZGV2LT5kZXYs
IERMX0ZMQUdfU1RBVEVMRVNTKTsKPiArCQlpZiAoIWxpbmspIHsKPiArCQkJZGV2X2VycihyY2R1
LT5kZXYsCj4gKwkJCQkiRmFpbGVkIHRvIGNyZWF0ZSBkZXZpY2UgbGluayB0byBDTU0ldVxuIiwg
aSk7Cj4gKwkJCXJldHVybiAtRUlOVkFMOwo+ICsJCX0KPiArCj4gKwkJcmNkdS0+Y21tc1tpXSA9
IHBkZXY7Cj4gKwl9Cj4gKwo+ICsJcmV0dXJuIDA7Cj4gK30KPiArCj4gIGludCByY2FyX2R1X21v
ZGVzZXRfaW5pdChzdHJ1Y3QgcmNhcl9kdV9kZXZpY2UgKnJjZHUpCj4gIHsKPiAgCXN0YXRpYyBj
b25zdCB1bnNpZ25lZCBpbnQgbW1pb19vZmZzZXRzW10gPSB7Cj4gQEAgLTcwNCw2ICs3NjcsMTEg
QEAgaW50IHJjYXJfZHVfbW9kZXNldF9pbml0KHN0cnVjdCByY2FyX2R1X2RldmljZSAqcmNkdSkK
PiAgCQkJcmV0dXJuIHJldDsKPiAgCX0KPiAgCj4gKwkvKiBJbml0aWFsaXplIHRoZSBDb2xvciBN
YW5hZ2VtZW50IE1vZHVsZXMuICovCj4gKwlyZXQgPSByY2FyX2R1X2NtbV9pbml0KHJjZHUpOwo+
ICsJaWYgKHJldCkKPiArCQlyZXR1cm4gcmV0Oz4gKwo+ICAJLyogQ3JlYXRlIHRoZSBDUlRDcy4g
Ki8KPiAgCWZvciAoc3dpbmRleCA9IDAsIGh3aW5kZXggPSAwOyBzd2luZGV4IDwgcmNkdS0+bnVt
X2NydGNzOyArK2h3aW5kZXgpIHsKPiAgCQlzdHJ1Y3QgcmNhcl9kdV9ncm91cCAqcmdycDsKPiAK
Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZl
bCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xp
c3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
