Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 6691AA3042
	for <lists+dri-devel@lfdr.de>; Fri, 30 Aug 2019 08:52:07 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 2D30A6E0ED;
	Fri, 30 Aug 2019 06:52:04 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mailout2.w1.samsung.com (mailout2.w1.samsung.com
 [210.118.77.12])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 1A18B6E0ED
 for <dri-devel@lists.freedesktop.org>; Fri, 30 Aug 2019 06:52:03 +0000 (UTC)
Received: from eucas1p2.samsung.com (unknown [182.198.249.207])
 by mailout2.w1.samsung.com (KnoxPortal) with ESMTP id
 20190830065201euoutp02033496262fd069aa2f60d7ee4b3d5a1e~-oLtA17ll0377003770euoutp02K
 for <dri-devel@lists.freedesktop.org>; Fri, 30 Aug 2019 06:52:01 +0000 (GMT)
DKIM-Filter: OpenDKIM Filter v2.11.0 mailout2.w1.samsung.com
 20190830065201euoutp02033496262fd069aa2f60d7ee4b3d5a1e~-oLtA17ll0377003770euoutp02K
Received: from eusmges1new.samsung.com (unknown [203.254.199.242]) by
 eucas1p2.samsung.com (KnoxPortal) with ESMTP id
 20190830065200eucas1p26db46f118f87207597717dde1df0ea7c~-oLsYzAQT1277112771eucas1p2u;
 Fri, 30 Aug 2019 06:52:00 +0000 (GMT)
Received: from eucas1p1.samsung.com ( [182.198.249.206]) by
 eusmges1new.samsung.com (EUCPMTA) with SMTP id 3D.21.04469.097C86D5; Fri, 30
 Aug 2019 07:52:00 +0100 (BST)
Received: from eusmtrp2.samsung.com (unknown [182.198.249.139]) by
 eucas1p2.samsung.com (KnoxPortal) with ESMTPA id
 20190830065159eucas1p2c7db5fa7dc620edecf210349fd9396f3~-oLrcYE5h1257512575eucas1p2S;
 Fri, 30 Aug 2019 06:51:59 +0000 (GMT)
Received: from eusmgms2.samsung.com (unknown [182.198.249.180]) by
 eusmtrp2.samsung.com (KnoxPortal) with ESMTP id
 20190830065159eusmtrp2d01b239b17a095b5d9969333ae4edfcc~-oLrODJm92637726377eusmtrp20;
 Fri, 30 Aug 2019 06:51:59 +0000 (GMT)
X-AuditID: cbfec7f2-54fff70000001175-a2-5d68c7907162
Received: from eusmtip1.samsung.com ( [203.254.199.221]) by
 eusmgms2.samsung.com (EUCPMTA) with SMTP id 0D.DA.04117.F87C86D5; Fri, 30
 Aug 2019 07:51:59 +0100 (BST)
Received: from [106.120.51.74] (unknown [106.120.51.74]) by
 eusmtip1.samsung.com (KnoxPortal) with ESMTPA id
 20190830065158eusmtip19e40bba758fcb56e2ce52f8f902a74fc~-oLqhRHDA1732917329eusmtip1K;
 Fri, 30 Aug 2019 06:51:58 +0000 (GMT)
Subject: Re: [RFC][PATCH] drm: kirin: Fix dsi probe/attach logic
To: Rob Clark <robdclark@gmail.com>, John Stultz <john.stultz@linaro.org>
From: Andrzej Hajda <a.hajda@samsung.com>
Message-ID: <ebdf3ff5-5a9b-718d-2832-f326138a5b2d@samsung.com>
Date: Fri, 30 Aug 2019 08:51:57 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <CAF6AEGvborwLmjfC6_vgZ-ZbfvF3HEFFyb_NHSLRoYWF35bw+g@mail.gmail.com>
Content-Language: en-US
X-Brightmail-Tracker: H4sIAAAAAAAAA01SWUxTURTk9q1UC8+CcsSF2LhExTV+XFwQIibPRBL1R4MhUOGlIIumFRVX
 cK0ohiUuVKCoKEiMCshWFQmoLUEQyhIwEggQlCo2olVxqy1PIn8zc+acO5NclpB/p7zZ6Ph9
 gjpeGaugpWT5i9GmJWnGqNDlXRZvnNpUL8FtNiuN278NEfjlzyW4/kM7ic+l5zO41ZBNY0NP
 ngTXXtyJ317/TuDC0TKEux80IjxqyCVxqfUkifuGCqgAd97aeZrhryW1kHyVrpvh+3OKHVSb
 RfGmNLOEf9PxmOYrvvZSfM95o4TPv9xO8zWpmSR/LbOP4j+XzN4iC5GujRRio/cL6mX+4dKo
 5GLfvfc3HzQ9GmSSUBdOQa4scKsgs7uISUFSVs4VIrDWN0hE8gWBebCcEslnBLeHTqLxlTZt
 JRIHBQg6Wp+TIhlGUGbLYZwuDy4A3le8o5zYk9sEI9V3xkwEV0pCcdUT2jmguYXwu7RrDMs4
 f/hgqHGcZVmSmwcdA5ud8lRuB4z01lGiZQrUZw2QTuzKbQXdnTyJExOcD1QMZxMi9oLXA/qx
 DsDdYkH7qJkQYwdB9o1fpIg9wGJ8yIh4Jtir9BIRH4eewlOEuKx1tHlQ9W95DdQZWyhnOMIR
 +r5hmSgHgr3gHuOUgXODzuEpYgY3yCi/QoiyDLRn5KJ7DvQ0lv076AW3mm10GlLoJjTTTWij
 m9BG9//dPEQWIS8hQROnEjQr4oUDSzXKOE1CvGppxJ64EuT4jw1/jCOVyGbeVYs4Fikmy67W
 qELllHK/JjGuFgFLKDxluXxUqFwWqUw8JKj3hKkTYgVNLZrBkgov2WGX3p1yTqXcJ8QIwl5B
 PT6VsK7eSWhj3/ywcBfvxRnUm6wftsGIRI+XLunPDs71K1sZ3GdBJk/atpI5ugGfnT4QELLu
 mG+yi/+2u+7ZMtY+I4e3yLd/rJl1s+RQZfLXRJ8k6T2IDbuw2vfE0Yin1TEWrlnn9+PTpOBp
 ev8Qe+DucD+/V5cKtetbKfJIkanXFKTvN1sXKEhNlHLFIkKtUf4FCjXay4sDAAA=
X-Brightmail-Tracker: H4sIAAAAAAAAA+NgFupmleLIzCtJLcpLzFFi42I5/e/4Xd3+4xmxBhO+S1r0njvJZHHl63s2
 i6vfXzJbnPmta3HyzVUWi86JS9gtLu+aw2ax6/4CJotDfdEWzxf+YLZY8XMro8XdDWcZLX7u
 msdisfl9M4vFo5fLWR34Pd7faGX3mN1wkcVj56y77B6P524EcjtmsnqcmHCJyePOtT1sHtu/
 PWD1uN99nMljybSrbB4HeiezeMye/IjV4/MmuQDeKD2bovzSklSFjPziElulaEMLIz1DSws9
 IxNLPUNj81grI1MlfTublNSczLLUIn27BL2Mxo06Bet9Kk7sfsbewHjToouRk0NCwETiSscO
 xi5GLg4hgaWMEm/XvmeBSIhL7J7/lhnCFpb4c62LDaLoNaNE990drCAJYQEHidfbX4DZIgKe
 Ep/2rWQBKWIW2MoisbdhJzNExzVGiQv/f7GBVLEJaEr83XwTzOYVsJN4s+sA0G4ODhYBVYlr
 T3xAwqICERKHd8xihCgRlDg58wnYRZwCgRKzVi5gArGZBdQl/sy7xAxhy0tsfzsHyhaXuPVk
 PtMERqFZSNpnIWmZhaRlFpKWBYwsqxhFUkuLc9Nzi430ihNzi0vz0vWS83M3MQITwrZjP7cA
 g+ld8CFGAQ5GJR5ei+3psUKsiWXFlbmHGCU4mJVEeOd5ZMQK8aYkVlalFuXHF5XmpBYfYjQF
 +m0is5Rocj4wWeWVxBuaGppbWBqaG5sbm1koifN2CByMERJITyxJzU5NLUgtgulj4uCUamA8
 7aNil6Ll8Hj2wflTfip6/RAQ1b0xPbHw877P0VMmnLhuwh0V0f/hdXNTVF/k1YWLw1pDeno3
 Fk2wuru7MKI1jHVh+qQUj+dbz2mu1SvqbmUNPWT4mlXb2MT52eXAPnahC4lzjl7+w3DqLZ/V
 bcXGZWHV045cl5ZbEGNTX3hxHqtlQ4Sig5QSS3FGoqEWc1FxIgDxookhHgMAAA==
X-CMS-MailID: 20190830065159eucas1p2c7db5fa7dc620edecf210349fd9396f3
X-Msg-Generator: CA
X-RootMTR: 20190829173938epcas3p1276089cb3d6f9813840d1bb6cac8b1da
X-EPHeader: CA
CMS-TYPE: 201P
X-CMS-RootMailID: 20190829173938epcas3p1276089cb3d6f9813840d1bb6cac8b1da
References: <20190829060550.62095-1-john.stultz@linaro.org>
 <CGME20190829173938epcas3p1276089cb3d6f9813840d1bb6cac8b1da@epcas3p1.samsung.com>
 <CAF6AEGvborwLmjfC6_vgZ-ZbfvF3HEFFyb_NHSLRoYWF35bw+g@mail.gmail.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=samsung.com; 
 s=mail20170921; t=1567147921;
 bh=9pSbaEQ3uaYxUFgj3JJo0TQLF03wGLIqv1Dnf//hfTE=;
 h=Subject:To:Cc:From:Date:In-Reply-To:References:From;
 b=kkcO1mDIkQ3ZlwduflTG9aC3gvaHbJdfV3VVv1vHdq6h6FSdI8bl0zL9R+2g342oi
 VOfkyV/Z15APbu0lerULgVGgLY3i50w2v6g7Ys99uvTTqQKBkiRv3IXC8H2YqyeMzh
 qfg35oLaIOk00+1ybbxqDvpBOppuvELL9NIzS9pE=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Jernej Skrabec <jernej.skrabec@siol.net>,
 Neil Armstrong <narmstrong@baylibre.com>, David Airlie <airlied@linux.ie>,
 Jonas Karlman <jonas@kwiboo.se>, lkml <linux-kernel@vger.kernel.org>,
 "dri-devel@lists.freedesktop.org" <dri-devel@lists.freedesktop.org>,
 Xinliang Liu <z.liuxinliang@hisilicon.com>,
 Thierry Reding <thierry.reding@gmail.com>, Sean Paul <seanpaul@chromium.org>,
 Laurent Pinchart <Laurent.pinchart@ideasonboard.com>,
 Rongrong Zou <zourongrong@gmail.com>, Sam Ravnborg <sam@ravnborg.org>,
 Matt Redfearn <matt.redfearn@thinci.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gMjkuMDguMjAxOSAxOTozOSwgUm9iIENsYXJrIHdyb3RlOgo+IE9uIFdlZCwgQXVnIDI4LCAy
MDE5IGF0IDExOjA2IFBNIEpvaG4gU3R1bHR6IDxqb2huLnN0dWx0ekBsaW5hcm8ub3JnPiB3cm90
ZToKPj4gU2luY2UgY29tbWl0IDgzZjM1YmMzYTg1MiAoImRybS9icmlkZ2U6IGFkdjc1MTE6IEF0
dGFjaCB0byBEU0kKPj4gaG9zdCBhdCBwcm9iZSB0aW1lIikgbGFuZGVkIGluIC1uZXh0IHRoZSBI
aUtleSBib2FyZCB3b3VsZCBmYWlsCj4+IHRvIGJvb3QsIGxvb3Bpbmc6Cj4gTm8sIHBsZWFzZSBy
ZXZlcnQgODNmMzViYzNhODUyLi4gdGhhdCBpcyBnb2luZyBpbiB0aGUgKmNvbXBsZXRlKiB3cm9u
Zwo+IGRpcmVjdGlvbi4gIFdlIGFjdHVhbGx5IHNob3VsZCBiZSBtb3ZpbmcgcGFuZWxzIHRvIG5v
dCByZXF1aXJlIGRzaQo+IGhvc3QgdW50aWwgYXR0YWNoIHRpbWUsIHNpbWlsYXIgdG8gaG93IGJy
aWRnZXMgd29yaywgbm90IHRoZSBvdGhlciB3YXkKPiBhcm91bmQuCgoKRGV2aWNlcyBvZiBwYW5l
bHMgYW5kIGJyaWRnZXMgY29udHJvbGxlZCB2aWEgRFNJIHdpbGwgbm90IGFwcGVhciBhdCBhbGwK
aWYgRFNJIGhvc3QgaXMgbm90IGNyZWF0ZWQuCgpTbyB0aGlzIGlzIHRoZSBvbmx5IGRpcmVjdGlv
biEhIQoKCj4KPiBUaGUgcHJvYmxlbSBpcyB0aGF0LCB3aGVuIGRlYWxpbmcgd2l0aCBib290bG9h
ZGVyIGVuYWJsZWQgZGlzcGxheSwgd2UKPiBuZWVkIHRvIGJlIHJlYWxseSBjYXJlZnVsIG5vdCB0
byB0b3VjaCB0aGUgaGFyZHdhcmUgdW50aWwgdGhlIGRpc3BsYXkKPiBkcml2ZXIga25vd3MgdGhl
IGJyaWRnZS9wYW5lbCBpcyBwcmVzZW50LiAgSWYgdGhlIGJyaWRnZS9wYW5lbCBwcm9iZXMKPiBh
ZnRlciB0aGUgZGlzcGxheSBkcml2ZXIsIHdlIGNvdWxkIGVuZCB1cCBraWxsaW5nIHNjYW5vdXQK
PiAoZWZpZmIvc2ltcGxlZmIpLi4gaWYgdGhlIGJyaWRnZS9wYW5lbCBpcyBtaXNzaW5nIHNvbWUg
ZGVwZW5kZW5jeSBhbmQKPiBuZXZlciBwcm9iZXMsIGl0IGlzIHJhdGhlciB1bnBsZWFzYW50IHRv
IGJlIHN0dWNrIHRyeWluZyB0byBkZWJ1ZyB3aGF0Cj4gd2VudCB3cm9uZyB3aXRoIG5vIGRpc3Bs
YXkuCgoKSXQgaGFzIG5vdGhpbmcgdG8gZG8gd2l0aCB0b3VjaGluZyBoYXJkd2FyZSwgeW91IGNh
biBhbHdheXMgKEkgaG9wZSkKcG9zdHBvbmUgaXQgdGlsbCBhbGwgY29tcG9uZW50cyBhcmUgcHJl
c2VudC4KCkJ1dCBpdCBpcyBqdXN0IHJlcXVpcmVtZW50IG9mIGRldmljZS9kcml2ZXIgbW9kZWwg
aW4gTGludXggS2VybmVsLgoKCj4KPiBTb3JyeSBJIGRpZG4ndCBub3RpY2UgdGhhdCBhZHY3NTEx
IHBhdGNoIGJlZm9yZSBpdCBsYW5kZWQsIGJ1dCB0aGUKPiByaWdodCB0aGluZyB0byBkbyBub3cg
aXMgdG8gcmV2ZXJ0IGl0LgoKClRoZSAxc3QgdmVyc2lvbiBvZiB0aGUgcGF0Y2ggd2FzIHBvc3Rl
ZCBhdCB0aGUgZW5kIG9mIEFwcmlsIGFuZCBmaW5hbAp2ZXJzaW9uIHdhcyBxdWV1ZWQgMXN0IEp1
bHksIHNvIGl0IHdhcyBxdWl0ZSBsb25nIHRpbWUgZm9yIGRpc2N1c3Npb25zCmFuZCB0ZXN0cy4K
ClJldmVydGluZyBpdCBub3cgc2VlbXMgcXVpdGUgbGF0ZSwgZXNwZWNpYWxseSBpZiB0aGUgcGF0
Y2ggZG9lcyByaWdodAp0aGluZyBhbmQgdGhlcmUgaXMgYWxyZWFkeSBwcm9wZXIgZml4IGZvciBv
bmUgZW5jb2RlciAoa2lyaW4pLCBtb3Jlb3ZlcgpyZXZlcnQgd2lsbCBicmVhayBhbm90aGVyIHBs
YXRmb3Jtcy4KCk9mIGNvdXJzZSBpdCBzZWVtcyB5b3UgaGF2ZSBkaWZmZXJlbnQgb3BpbmlvbiB3
aGF0IGlzIHRoZSByaWdodCB0aGluZyBpbgp0aGlzIGNhc2UsIHNvIGlmIHlvdSBjb252aW5jZSB1
cyB0aGF0IHlvdXIgYXBwcm9hY2ggaXMgYmV0dGVyIG9uZSBjYW4KcmV2ZXJ0IHRoZSBwYXRjaC4K
CgpSZWdhcmRzCgpBbmRyemVqCgoKCj4KPiBCUiwKPiAtUgo+Cj4+ICAgYWR2NzUxMSAyLTAwMzk6
IGZhaWxlZCB0byBmaW5kIGRzaSBob3N0Cj4+Cj4+IG1lc3NhZ2VzIG92ZXIgYW5kIG92ZXIuIEFu
ZHJ6ZWogSGFqZGEgc3VnZ2VzdGVkIHRoaXMgaXMgZHVlIHRvIGEKPj4gY2lyY3VsYXIgZGVwZW5k
ZW5jeSBpc3N1ZSwgYW5kIHRoYXQgdGhlIGFkdjc1MTEgY2hhbmdlIGlzCj4+IGNvcnJlY3Rpbmcg
dGhlIGltcHJvcGVyIG9yZGVyIHVzZWQgZWFybGllci4KPj4KPj4gVW5mb3J0dW5hdGVseSB0aGlz
IG1lYW5zIHRoZSBEU0kgZHJpdmVycyB0aGF0IHVzZSBhZHY3NTExIG5lZWQKPj4gdG8gYWxzbyBu
ZWVkIHRvIGJlIHVwZGF0ZWQgdG8gdXNlIHRoZSBwcm9wZXIgb3JkZXJpbmcgdG8KPj4gY29udGlu
dWUgdG8gd29yay4KPj4KPj4gVGhpcyBwYXRjaCB0cmllcyB0byByZW9yZGVyIHRoZSBpbml0aWFs
aXphdGlvbiB0byByZWdpc3RlciB0aGUKPj4gZHNpX2hvc3QgZmlyc3QsIGFuZCB0aGVuIGNhbGwg
Y29tcG9uZW50X2FkZCB2aWEgZHNpX2hvc3RfYXR0YWNoLAo+PiBpbnN0ZWFkIG9mIGRvaW5nIHRo
YXQgYXQgcHJvYmUgdGltZS4KPj4KPj4gVGhpcyBzZWVtcyB0byByZXNvbHZlIHRoZSBpc3N1ZSB3
aXRoIHRoZSBIaUtleSBib2FyZC4KPj4KPj4gQ2M6IEFuZHJ6ZWogSGFqZGEgPGEuaGFqZGFAc2Ft
c3VuZy5jb20+Cj4+IENjOiBNYXR0IFJlZGZlYXJuIDxtYXR0LnJlZGZlYXJuQHRoaW5jaS5jb20+
Cj4+IENjOiBYaW5saWFuZyBMaXUgPHoubGl1eGlubGlhbmdAaGlzaWxpY29uLmNvbT4KPj4gQ2M6
IFJvbmdyb25nIFpvdSA8em91cm9uZ3JvbmdAZ21haWwuY29tPgo+PiBDYzogTGF1cmVudCBQaW5j
aGFydCA8TGF1cmVudC5waW5jaGFydEBpZGVhc29uYm9hcmQuY29tPgo+PiBDYzogTmVpbCBBcm1z
dHJvbmcgPG5hcm1zdHJvbmdAYmF5bGlicmUuY29tPgo+PiBDYzogSm9uYXMgS2FybG1hbiA8am9u
YXNAa3dpYm9vLnNlPgo+PiBDYzogSmVybmVqIFNrcmFiZWMgPGplcm5lai5za3JhYmVjQHNpb2wu
bmV0Pgo+PiBDYzogVGhpZXJyeSBSZWRpbmcgPHRoaWVycnkucmVkaW5nQGdtYWlsLmNvbT4KPj4g
Q2M6IERhdmlkIEFpcmxpZSA8YWlybGllZEBsaW51eC5pZT4sCj4+IENjOiBTZWFuIFBhdWwgPHNl
YW5wYXVsQGNocm9taXVtLm9yZz4KPj4gQ2M6IFNhbSBSYXZuYm9yZyA8c2FtQHJhdm5ib3JnLm9y
Zz4KPj4gQ2M6ICJkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnIiA8ZHJpLWRldmVsQGxp
c3RzLmZyZWVkZXNrdG9wLm9yZz4KPj4gRml4ZXM6IDgzZjM1YmMzYTg1MiAoImRybS9icmlkZ2U6
IGFkdjc1MTE6IEF0dGFjaCB0byBEU0kgaG9zdCBhdCBwcm9iZSB0aW1lIikKPj4gU2lnbmVkLW9m
Zi1ieTogSm9obiBTdHVsdHogPGpvaG4uc3R1bHR6QGxpbmFyby5vcmc+Cj4+IC0tLQo+PiBOb3Rl
OiBJJ20gcmVhbGx5IG5vdCBzdXBlciBmYW1pbGlhciB3aXRoIHRoZSBEU0kgY29kZSBoZXJlLAo+
PiBhbmQgYW0gbW9zdGx5IGp1c3QgdHJ5aW5nIHRvIHJlZmFjdG9yIHRoZSBleGlzdGluZyBjb2Rl
IGluIGEKPj4gc2ltaWxhciBmYXNoaW9uIHRvIHRoZSBzdWdnZXN0ZWQgZHctbWlwaS1kc2ktcm9j
a2NoaXAuYwo+PiBpbXBsZW1lbnRhdGlvbi4gQ2FyZWZ1bCByZXZpZXcgd291bGQgYmUgZ3JlYXRs
eSBhcHByZWNpYXRlZCEKPj4KPj4gQWxzbyB0aGVyZSBpcyBhbiBvdXRzdGFuZGluZyByZWdyZXNz
aW9uIG9uIHRoZSBkYjQxMGMgc2luY2UgaXQKPj4gc2ltaWxhcmx5IHVzZXMgdGhlIGFkdjc1MTEg
YW5kIHByb2JhYmx5IG5lZWRzIGEgc2ltaWxhciByZXdvcmsuCj4+IC0tLQo+PiAgZHJpdmVycy9n
cHUvZHJtL2hpc2lsaWNvbi9raXJpbi9kd19kcm1fZHNpLmMgfCAxMTEgKysrKysrKysrKy0tLS0t
LS0tLQo+PiAgMSBmaWxlIGNoYW5nZWQsIDU2IGluc2VydGlvbnMoKyksIDU1IGRlbGV0aW9ucygt
KQo+Pgo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2hpc2lsaWNvbi9raXJpbi9kd19k
cm1fZHNpLmMgYi9kcml2ZXJzL2dwdS9kcm0vaGlzaWxpY29uL2tpcmluL2R3X2RybV9kc2kuYwo+
PiBpbmRleCA1YmY4MTM4OTQxZGUuLjY5NmNlZTFhMTIxOSAxMDA2NDQKPj4gLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2hpc2lsaWNvbi9raXJpbi9kd19kcm1fZHNpLmMKPj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL2hpc2lsaWNvbi9raXJpbi9kd19kcm1fZHNpLmMKPj4gQEAgLTc5LDYgKzc5LDcgQEAg
c3RydWN0IGRzaV9od19jdHggewo+PiAgfTsKPj4KPj4gIHN0cnVjdCBkd19kc2kgewo+PiArICAg
ICAgIHN0cnVjdCBkZXZpY2UgKmRldjsKPj4gICAgICAgICBzdHJ1Y3QgZHJtX2VuY29kZXIgZW5j
b2RlcjsKPj4gICAgICAgICBzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlOwo+PiAgICAgICAgIHN0
cnVjdCBtaXBpX2RzaV9ob3N0IGhvc3Q7Cj4+IEBAIC03MjQsNTEgKzcyNSw2IEBAIHN0YXRpYyBp
bnQgZHdfZHJtX2VuY29kZXJfaW5pdChzdHJ1Y3QgZGV2aWNlICpkZXYsCj4+ICAgICAgICAgcmV0
dXJuIDA7Cj4+ICB9Cj4+Cj4+IC1zdGF0aWMgaW50IGRzaV9ob3N0X2F0dGFjaChzdHJ1Y3QgbWlw
aV9kc2lfaG9zdCAqaG9zdCwKPj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IG1p
cGlfZHNpX2RldmljZSAqbWRzaSkKPj4gLXsKPj4gLSAgICAgICBzdHJ1Y3QgZHdfZHNpICpkc2kg
PSBob3N0X3RvX2RzaShob3N0KTsKPj4gLQo+PiAtICAgICAgIGlmIChtZHNpLT5sYW5lcyA8IDEg
fHwgbWRzaS0+bGFuZXMgPiA0KSB7Cj4+IC0gICAgICAgICAgICAgICBEUk1fRVJST1IoImRzaSBk
ZXZpY2UgcGFyYW1zIGludmFsaWRcbiIpOwo+PiAtICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5W
QUw7Cj4+IC0gICAgICAgfQo+PiAtCj4+IC0gICAgICAgZHNpLT5sYW5lcyA9IG1kc2ktPmxhbmVz
Owo+PiAtICAgICAgIGRzaS0+Zm9ybWF0ID0gbWRzaS0+Zm9ybWF0Owo+PiAtICAgICAgIGRzaS0+
bW9kZV9mbGFncyA9IG1kc2ktPm1vZGVfZmxhZ3M7Cj4+IC0KPj4gLSAgICAgICByZXR1cm4gMDsK
Pj4gLX0KPj4gLQo+PiAtc3RhdGljIGludCBkc2lfaG9zdF9kZXRhY2goc3RydWN0IG1pcGlfZHNp
X2hvc3QgKmhvc3QsCj4+IC0gICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBtaXBpX2Rz
aV9kZXZpY2UgKm1kc2kpCj4+IC17Cj4+IC0gICAgICAgLyogZG8gbm90aGluZyAqLwo+PiAtICAg
ICAgIHJldHVybiAwOwo+PiAtfQo+PiAtCj4+IC1zdGF0aWMgY29uc3Qgc3RydWN0IG1pcGlfZHNp
X2hvc3Rfb3BzIGRzaV9ob3N0X29wcyA9IHsKPj4gLSAgICAgICAuYXR0YWNoID0gZHNpX2hvc3Rf
YXR0YWNoLAo+PiAtICAgICAgIC5kZXRhY2ggPSBkc2lfaG9zdF9kZXRhY2gsCj4+IC19Owo+PiAt
Cj4+IC1zdGF0aWMgaW50IGRzaV9ob3N0X2luaXQoc3RydWN0IGRldmljZSAqZGV2LCBzdHJ1Y3Qg
ZHdfZHNpICpkc2kpCj4+IC17Cj4+IC0gICAgICAgc3RydWN0IG1pcGlfZHNpX2hvc3QgKmhvc3Qg
PSAmZHNpLT5ob3N0Owo+PiAtICAgICAgIGludCByZXQ7Cj4+IC0KPj4gLSAgICAgICBob3N0LT5k
ZXYgPSBkZXY7Cj4+IC0gICAgICAgaG9zdC0+b3BzID0gJmRzaV9ob3N0X29wczsKPj4gLSAgICAg
ICByZXQgPSBtaXBpX2RzaV9ob3N0X3JlZ2lzdGVyKGhvc3QpOwo+PiAtICAgICAgIGlmIChyZXQp
IHsKPj4gLSAgICAgICAgICAgICAgIERSTV9FUlJPUigiZmFpbGVkIHRvIHJlZ2lzdGVyIGRzaSBo
b3N0XG4iKTsKPj4gLSAgICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4+IC0gICAgICAgfQo+PiAt
Cj4+IC0gICAgICAgcmV0dXJuIDA7Cj4+IC19Cj4+IC0KPj4gIHN0YXRpYyBpbnQgZHNpX2JyaWRn
ZV9pbml0KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHN0cnVjdCBkd19kc2kgKmRzaSkKPj4gIHsK
Pj4gICAgICAgICBzdHJ1Y3QgZHJtX2VuY29kZXIgKmVuY29kZXIgPSAmZHNpLT5lbmNvZGVyOwo+
PiBAQCAtNzk2LDEwICs3NTIsNiBAQCBzdGF0aWMgaW50IGRzaV9iaW5kKHN0cnVjdCBkZXZpY2Ug
KmRldiwgc3RydWN0IGRldmljZSAqbWFzdGVyLCB2b2lkICpkYXRhKQo+PiAgICAgICAgIGlmIChy
ZXQpCj4+ICAgICAgICAgICAgICAgICByZXR1cm4gcmV0Owo+Pgo+PiAtICAgICAgIHJldCA9IGRz
aV9ob3N0X2luaXQoZGV2LCBkc2kpOwo+PiAtICAgICAgIGlmIChyZXQpCj4+IC0gICAgICAgICAg
ICAgICByZXR1cm4gcmV0Owo+PiAtCj4+ICAgICAgICAgcmV0ID0gZHNpX2JyaWRnZV9pbml0KGRy
bV9kZXYsIGRzaSk7Cj4+ICAgICAgICAgaWYgKHJldCkKPj4gICAgICAgICAgICAgICAgIHJldHVy
biByZXQ7Cj4+IEBAIC04MTcsMTMgKzc2OSwyMiBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGNvbXBv
bmVudF9vcHMgZHNpX29wcyA9IHsKPj4gICAgICAgICAudW5iaW5kID0gZHNpX3VuYmluZCwKPj4g
IH07Cj4+Cj4+IC1zdGF0aWMgaW50IGRzaV9wYXJzZV9kdChzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNl
ICpwZGV2LCBzdHJ1Y3QgZHdfZHNpICpkc2kpCj4+ICtzdGF0aWMgaW50IGRzaV9ob3N0X2F0dGFj
aChzdHJ1Y3QgbWlwaV9kc2lfaG9zdCAqaG9zdCwKPj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgc3RydWN0IG1pcGlfZHNpX2RldmljZSAqbWRzaSkKPj4gIHsKPj4gLSAgICAgICBzdHJ1Y3Qg
ZHNpX2h3X2N0eCAqY3R4ID0gZHNpLT5jdHg7Cj4+IC0gICAgICAgc3RydWN0IGRldmljZV9ub2Rl
ICpucCA9IHBkZXYtPmRldi5vZl9ub2RlOwo+PiAtICAgICAgIHN0cnVjdCByZXNvdXJjZSAqcmVz
Owo+PiArICAgICAgIHN0cnVjdCBkd19kc2kgKmRzaSA9IGhvc3RfdG9fZHNpKGhvc3QpOwo+PiAr
ICAgICAgIHN0cnVjdCBkZXZpY2Vfbm9kZSAqbnAgPSBkc2ktPmRldi0+b2Zfbm9kZTsKPj4gICAg
ICAgICBpbnQgcmV0Owo+Pgo+PiArICAgICAgIGlmIChtZHNpLT5sYW5lcyA8IDEgfHwgbWRzaS0+
bGFuZXMgPiA0KSB7Cj4+ICsgICAgICAgICAgICAgICBEUk1fRVJST1IoImRzaSBkZXZpY2UgcGFy
YW1zIGludmFsaWRcbiIpOwo+PiArICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7Cj4+ICsg
ICAgICAgfQo+PiArCj4+ICsgICAgICAgZHNpLT5sYW5lcyA9IG1kc2ktPmxhbmVzOwo+PiArICAg
ICAgIGRzaS0+Zm9ybWF0ID0gbWRzaS0+Zm9ybWF0Owo+PiArICAgICAgIGRzaS0+bW9kZV9mbGFn
cyA9IG1kc2ktPm1vZGVfZmxhZ3M7Cj4+ICsKPj4gICAgICAgICAvKgo+PiAgICAgICAgICAqIEdl
dCB0aGUgZW5kcG9pbnQgbm9kZS4gSW4gb3VyIGNhc2UsIGRzaSBoYXMgb25lIG91dHB1dCBwb3J0
MQo+PiAgICAgICAgICAqIHRvIHdoaWNoIHRoZSBleHRlcm5hbCBIRE1JIGJyaWRnZSBpcyBjb25u
ZWN0ZWQuCj4+IEBAIC04MzIsNiArNzkzLDQyIEBAIHN0YXRpYyBpbnQgZHNpX3BhcnNlX2R0KHN0
cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYsIHN0cnVjdCBkd19kc2kgKmRzaSkKPj4gICAgICAg
ICBpZiAocmV0KQo+PiAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPj4KPj4gKyAgICAgICBy
ZXR1cm4gY29tcG9uZW50X2FkZChkc2ktPmRldiwgJmRzaV9vcHMpOwo+PiArfQo+PiArCj4+ICtz
dGF0aWMgaW50IGRzaV9ob3N0X2RldGFjaChzdHJ1Y3QgbWlwaV9kc2lfaG9zdCAqaG9zdCwKPj4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IG1pcGlfZHNpX2RldmljZSAqbWRzaSkK
Pj4gK3sKPj4gKyAgICAgICAvKiBkbyBub3RoaW5nICovCj4+ICsgICAgICAgcmV0dXJuIDA7Cj4+
ICt9Cj4+ICsKPj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3QgbWlwaV9kc2lfaG9zdF9vcHMgZHNpX2hv
c3Rfb3BzID0gewo+PiArICAgICAgIC5hdHRhY2ggPSBkc2lfaG9zdF9hdHRhY2gsCj4+ICsgICAg
ICAgLmRldGFjaCA9IGRzaV9ob3N0X2RldGFjaCwKPj4gK307Cj4+ICsKPj4gK3N0YXRpYyBpbnQg
ZHNpX2hvc3RfaW5pdChzdHJ1Y3QgZGV2aWNlICpkZXYsIHN0cnVjdCBkd19kc2kgKmRzaSkKPj4g
K3sKPj4gKyAgICAgICBzdHJ1Y3QgbWlwaV9kc2lfaG9zdCAqaG9zdCA9ICZkc2ktPmhvc3Q7Cj4+
ICsgICAgICAgaW50IHJldDsKPj4gKwo+PiArICAgICAgIGhvc3QtPmRldiA9IGRldjsKPj4gKyAg
ICAgICBob3N0LT5vcHMgPSAmZHNpX2hvc3Rfb3BzOwo+PiArICAgICAgIHJldCA9IG1pcGlfZHNp
X2hvc3RfcmVnaXN0ZXIoaG9zdCk7Cj4+ICsgICAgICAgaWYgKHJldCkgewo+PiArICAgICAgICAg
ICAgICAgRFJNX0VSUk9SKCJmYWlsZWQgdG8gcmVnaXN0ZXIgZHNpIGhvc3RcbiIpOwo+PiArICAg
ICAgICAgICAgICAgcmV0dXJuIHJldDsKPj4gKyAgICAgICB9Cj4+ICsKPj4gKyAgICAgICByZXR1
cm4gMDsKPj4gK30KPj4gKwo+PiArc3RhdGljIGludCBkc2lfcGFyc2VfZHQoc3RydWN0IHBsYXRm
b3JtX2RldmljZSAqcGRldiwgc3RydWN0IGR3X2RzaSAqZHNpKQo+PiArewo+PiArICAgICAgIHN0
cnVjdCBkc2lfaHdfY3R4ICpjdHggPSBkc2ktPmN0eDsKPj4gKyAgICAgICBzdHJ1Y3QgcmVzb3Vy
Y2UgKnJlczsKPj4gKwo+PiAgICAgICAgIGN0eC0+cGNsayA9IGRldm1fY2xrX2dldCgmcGRldi0+
ZGV2LCAicGNsayIpOwo+PiAgICAgICAgIGlmIChJU19FUlIoY3R4LT5wY2xrKSkgewo+PiAgICAg
ICAgICAgICAgICAgRFJNX0VSUk9SKCJmYWlsZWQgdG8gZ2V0IHBjbGsgY2xvY2tcbiIpOwo+PiBA
QCAtODYyLDE1ICs4NTksMTkgQEAgc3RhdGljIGludCBkc2lfcHJvYmUoc3RydWN0IHBsYXRmb3Jt
X2RldmljZSAqcGRldikKPj4gICAgICAgICB9Cj4+ICAgICAgICAgZHNpID0gJmRhdGEtPmRzaTsK
Pj4gICAgICAgICBjdHggPSAmZGF0YS0+Y3R4Owo+PiArICAgICAgIGRzaS0+ZGV2ID0gJnBkZXYt
PmRldjsKPj4gICAgICAgICBkc2ktPmN0eCA9IGN0eDsKPj4KPj4gICAgICAgICByZXQgPSBkc2lf
cGFyc2VfZHQocGRldiwgZHNpKTsKPj4gICAgICAgICBpZiAocmV0KQo+PiAgICAgICAgICAgICAg
ICAgcmV0dXJuIHJldDsKPj4KPj4gLSAgICAgICBwbGF0Zm9ybV9zZXRfZHJ2ZGF0YShwZGV2LCBk
YXRhKTsKPj4gKyAgICAgICByZXQgPSBkc2lfaG9zdF9pbml0KCZwZGV2LT5kZXYsIGRzaSk7Cj4+
ICsgICAgICAgaWYgKHJldCkKPj4gKyAgICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4+Cj4+IC0g
ICAgICAgcmV0dXJuIGNvbXBvbmVudF9hZGQoJnBkZXYtPmRldiwgJmRzaV9vcHMpOwo+PiArICAg
ICAgIHBsYXRmb3JtX3NldF9kcnZkYXRhKHBkZXYsIGRhdGEpOwo+PiArICAgICAgIHJldHVybiAw
Owo+PiAgfQo+Pgo+PiAgc3RhdGljIGludCBkc2lfcmVtb3ZlKHN0cnVjdCBwbGF0Zm9ybV9kZXZp
Y2UgKnBkZXYpCj4+IC0tCj4+IDIuMTcuMQo+Pgo+PiBfX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fXwo+PiBkcmktZGV2ZWwgbWFpbGluZyBsaXN0Cj4+IGRyaS1k
ZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKPj4gaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5v
cmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWwKPiBfX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fXwo+IGRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKPiBkcmktZGV2
ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCj4gaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcv
bWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWwKCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0
cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9s
aXN0aW5mby9kcmktZGV2ZWw=
