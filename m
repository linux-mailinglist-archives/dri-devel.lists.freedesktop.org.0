Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id CA93149620
	for <lists+dri-devel@lfdr.de>; Tue, 18 Jun 2019 01:56:16 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id BF6FD6E0B8;
	Mon, 17 Jun 2019 23:56:13 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-pl1-x643.google.com (mail-pl1-x643.google.com
 [IPv6:2607:f8b0:4864:20::643])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 703C16E0B7
 for <dri-devel@lists.freedesktop.org>; Mon, 17 Jun 2019 23:56:12 +0000 (UTC)
Received: by mail-pl1-x643.google.com with SMTP id bi6so4859539plb.12
 for <dri-devel@lists.freedesktop.org>; Mon, 17 Jun 2019 16:56:12 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:mime-version
 :content-transfer-encoding;
 bh=dKg8IWpKy6c+Mmm1x/ABv30wGFR4GljyNfxBcgFg2Pw=;
 b=nuxyjf6lVa656EqfJpmsnQXqp+wcbiOcbK/nv+DNTX/y7KTvVLeA2ocBaIULuQZL3a
 BFm1hhooA1CxX6H1M3Ks4RGcAVTPvKcdSjydhQwcScdnRpzL+OHUq2UIvCtBSaH3d3XM
 pelvX4GWJJQKcp1wQcObWt7zUffbjW9aj9cdO/fiLwWjijaICCfqbes5aX3it1Ne+Rhs
 2fOSplpZzFPQEEbfWebkAvgOPsUKPkp3r0xXg4+VR9BfKe6AUwwt2K+vYzEFdktwLSg+
 BcE4IjaExK86HOKkObndIE+z6IUii0Pg2Qky3VeEOF0Cl1KkJCR5wkWNwrgl78kDzyZE
 VtEQ==
X-Gm-Message-State: APjAAAWhjghTPhbp5GZg8NzufL/f4Ue2R6sde7pwIwWfYot9dM7fBXCa
 goaJXDTVqzB1rnGy2VcGH7KU2eKHCuk=
X-Google-Smtp-Source: APXvYqwTeHKWWT81BsAjxR2wreRo/dxEMF8gYczQSvkIo0doGPaqaqO4KFYbKGwqMQRYkmwUzOrLlw==
X-Received: by 2002:a17:902:44a4:: with SMTP id
 l33mr31117002pld.174.1560815771850; 
 Mon, 17 Jun 2019 16:56:11 -0700 (PDT)
Received: from tictac2.mtv.corp.google.com
 ([2620:15c:202:1:24fa:e766:52c9:e3b2])
 by smtp.gmail.com with ESMTPSA id k16sm12661878pfa.87.2019.06.17.16.56.10
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Mon, 17 Jun 2019 16:56:11 -0700 (PDT)
From: Douglas Anderson <dianders@chromium.org>
To: Andrzej Hajda <a.hajda@samsung.com>,
 Laurent Pinchart <Laurent.pinchart@ideasonboard.com>, seanpaul@chromium.org
Subject: [PATCH] drm/bridge/synopsys: dw-hdmi: Handle audio for more clock
 rates
Date: Mon, 17 Jun 2019 16:55:58 -0700
Message-Id: <20190617235558.64571-1-dianders@chromium.org>
X-Mailer: git-send-email 2.22.0.410.gd8fdbe21b5-goog
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=chromium.org; s=google;
 h=from:to:cc:subject:date:message-id:mime-version
 :content-transfer-encoding;
 bh=dKg8IWpKy6c+Mmm1x/ABv30wGFR4GljyNfxBcgFg2Pw=;
 b=HNkEd08n0fBuvBSUwxcbRfbKKjX+xSbWeqKu4ot+NY2JjAFNZCJ4VapUFaJvf+fMvT
 tqY2DPwXtRBKhQhqcmAzjW4Kc1FuGRWI5p4BuK7xaR1ep2WDotDuthkf2H1DcFzAkg78
 sZu82XOcZnOo7nkSOVbc25g0UmjqDnGri30f0=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: jernej.skrabec@siol.net, narmstrong@baylibre.com,
 David Airlie <airlied@linux.ie>, jonas@kwiboo.se,
 Douglas Anderson <dianders@chromium.org>, dri-devel@lists.freedesktop.org,
 linux-kernel@vger.kernel.org, linux-rockchip@lists.infradead.org,
 dgreid@chromium.org, Zheng Yang <zhengyang@rock-chips.com>,
 Sam Ravnborg <sam@ravnborg.org>, Thomas Gleixner <tglx@linutronix.de>,
 cychiang@chromium.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

TGV0J3MgYWRkIHNvbWUgYmV0dGVyIHN1cHBvcnQgZm9yIEhETUkgYXVkaW8gdG8gZHdfaGRtaS4K
U3BlY2lmaWNhbGx5OgoKMS4gRm9yIDQ0LjEga0h6IGF1ZGlvIHRoZSBvbGQgY29kZSBtYWRlIHRo
ZSBhc3N1bXB0aW9uIHRoYXQgYW4gTiBvZgo2MjcyIHdhcyByaWdodCBtb3N0IG9mIHRoZSB0aW1l
LiAgVGhhdCB3YXNuJ3QgdHJ1ZSBhbmQgdGhlIG5ldyB0YWJsZQpzaG91bGQgZ2l2ZSBiZXR0ZXIg
NDQuMSBrSHogYXVkaW8gZm9yIG1hbnkgbW9yZSByYXRlcy4KCjIuIFRoZSBuZXcgdGFibGUgaGFz
IHZhbHVlcyBmcm9tIHRoZSBIRE1JIHNwZWMgZm9yIDI5NyBNSHogYW5kIDU5NApNSHouCgozLiBU
aGVyZSBpcyBub3cgY29kZSB0byB0cnkgdG8gY29tZSB1cCB3aXRoIGEgbW9yZSBpZGVhIE4vQ1RT
IGZvcgpjbG9jayByYXRlcyB0aGF0IGFyZW4ndCBpbiB0aGUgdGFibGUuICBUaGlzIGNvZGUgaXMg
YSBiaXQgc2xvdyBiZWNhdXNlCml0IGl0ZXJhdGVzIG92ZXIgZXZlcnkgcG9zc2libGUgdmFsdWUg
b2YgTiBhbmQgcGlja3MgdGhlIGJlc3Qgb25lLCBidXQKaXQgc2hvdWxkIG1ha2UgYSBnb29kIGZh
bGxiYWNrLgoKNC4gVGhlIG5ldyBjb2RlIGFsbG93cyBmb3IgcGxhdGZvcm1zIHRoYXQga25vdyB0
aGV5IG1ha2UgYSBjbG9jayByYXRlCnNsaWdodGx5IGRpZmZlcmVudGx5IHRvIHBpY2sgZGlmZmVy
ZW50IE4vQ1RTIHZhbHVlcy4gIEZvciBpbnN0YW5jZSBvbgpyazMyODggd2UgY2FuIG1ha2UgMjUs
MTc2LDQ3MSBIeiBpbnN0ZWFkIG9mIDI1LDE3NCw4MjUuMTc0OC4uLiBIegooMjUuMiBNSHogLyAx
LjAwMSkuICBBIGZ1dHVyZSBwYXRjaCB0byB0aGUgcmszMjg4IHBsYXRmb3JtIGNvZGUgY291bGQK
ZW5hYmxlIHN1cHBvcnQgZm9yIHRoaXMgY2xvY2sgcmF0ZSBhbmQgc3BlY2lmeSB0aGUgTi9DVFMg
dGhhdCB3b3VsZCBiZQppZGVhbC4KCk5PVEU6IHRoZSBvZGRlc3QgcGFydCBvZiB0aGlzIHBhdGNo
IGNvbWVzIGFib3V0IGJlY2F1c2UgY29tcHV0aW5nIHRoZQppZGVhbCBOL0NUUyBtZWFucyBrbm93
aW5nIHRoZSBfZXhhY3RfIGNsb2NrIHJhdGUsIG5vdCBhIHJvdW5kZWQKdmVyc2lvbiBvZiBpdC4g
IFRoZSBkcm0gZnJhbWV3b3JrIG1ha2VzIHRoaXMgaGFyZGVyIGJ5IHJvdW5kaW5nIHJhdGVzCnRv
IGtIeiwgYnV0IGV2ZW4gaWYgaXQgZGlkbid0IHRoZXJlIG1pZ2h0IGJlIGNhc2VzIHdoZXJlIHRo
ZSBpZGVhbApyYXRlIGNvdWxkIG9ubHkgYmUgY2FsY3VsYXRlZCBpZiB3ZSBrbmV3IHRoZSByZWFs
IChub24taW50ZWdyYWwpIHJhdGUuClRoaXMgbWVhbnMgdGhhdCBpbiBjYXNlcyB3aGVyZSB3ZSBr
bm93IChvciBiZWxpZXZlKSB0aGF0IHRoZSB0cnVlIHJhdGUKaXMgc29tZXRoaW5nIG90aGVyIHRo
YW4gdGhlIHJhdGUgd2UgYXJlIHRvbGQgYnkgZHJtLgoKU2lnbmVkLW9mZi1ieTogRG91Z2xhcyBB
bmRlcnNvbiA8ZGlhbmRlcnNAY2hyb21pdW0ub3JnPgotLS0KCiBkcml2ZXJzL2dwdS9kcm0vYnJp
ZGdlL3N5bm9wc3lzL2R3LWhkbWkuYyB8IDIwOCArKysrKysrKysrKysrKysrKy0tLS0tCiBpbmNs
dWRlL2RybS9icmlkZ2UvZHdfaGRtaS5oICAgICAgICAgICAgICB8ICAgOCArCiAyIGZpbGVzIGNo
YW5nZWQsIDE3NSBpbnNlcnRpb25zKCspLCA0MSBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vYnJpZGdlL3N5bm9wc3lzL2R3LWhkbWkuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9icmlkZ2Uvc3lub3BzeXMvZHctaGRtaS5jCmluZGV4IGM2NDkwOTQ5ZDlkYi4uZWRlZGUyMWU4
NWU0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3N5bm9wc3lzL2R3LWhkbWku
YworKysgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3N5bm9wc3lzL2R3LWhkbWkuYwpAQCAtNjAs
NiArNjAsNzUgQEAgZW51bSBoZG1pX2RhdGFtYXAgewogCVlDYkNyNDIyXzEyQiA9IDB4MTIsCiB9
OwogCisvKgorICogVW5sZXNzIG90aGVyd2lzZSBub3RlZCwgZW50cmllcyBpbiB0aGlzIHRhYmxl
IGFyZSAxMDAlIG9wdGltaXphdGlvbi4KKyAqIFZhbHVlcyBjYW4gYmUgb2J0YWluZWQgZnJvbSBo
ZG1pX2NvbXB1dGVfbigpIGJ1dCB0aGF0IGZ1bmN0aW9uIGlzCisgKiBzbG93IHNvIHdlIHByZS1j
b21wdXRlIHZhbHVlcyB3ZSBleHBlY3QgdG8gc2VlLgorICoKKyAqIEFsbCAzMmsgYW5kIDQ4ayB2
YWx1ZXMgYXJlIGV4cGVjdGVkIHRvIGJlIHRoZSBzYW1lIChkdWUgdG8gdGhlIHdheQorICogdGhl
IG1hdGggd29ya3MpIGZvciBhbnkgcmF0ZSB0aGF0J3MgYW4gZXhhY3Qga0h6LgorICoKKyAqIElm
IGEgcGFydGljdWxhciBwbGF0Zm9ybSBrbm93cyB0aGF0IGl0IG1ha2VzIGEgcmF0ZSBzbGlnaHRs
eQorICogZGlmZmVyZW50bHkgdGhlbiBpdCBzaG91bGQgYWRkIGEgcGxhdGZvcm0tc3BlY2lmaWMg
bWF0Y2guCisgKi8KK3N0YXRpYyBjb25zdCBzdHJ1Y3QgZHdfaGRtaV9hdWRpb190bWRzX24gY29t
bW9uX3RtZHNfbl90YWJsZVtdID0geworCS8qIERvZXNuJ3QgbWF0Y2ggY29tcHV0YXRpb25zLCBh
c3N1bWVzIHJlYWwgY2xvY2sgPSAyNS4yIE1IeiAvIDEuMDAxICovCisJeyAudG1kcyA9IDI1MTc1
MDAwLCAubl8zMmsgPSA0NTc2LCAubl80NGsxID0gNzAwNywgLm5fNDhrID0gNjg2NCwgfSwKKwor
CXsgLnRtZHMgPSAyNTIwMDAwMCwgLm5fMzJrID0gNDA5NiwgLm5fNDRrMSA9IDU2NTYsIC5uXzQ4
ayA9IDYxNDQsIH0sCisJeyAudG1kcyA9IDI3MDAwMDAwLCAubl8zMmsgPSA0MDk2LCAubl80NGsx
ID0gNTQ4OCwgLm5fNDhrID0gNjE0NCwgfSwKKwl7IC50bWRzID0gMjcwMjcwMDAsIC5uXzMyayA9
IDQwOTYsIC5uXzQ0azEgPSA2MjcyLCAubl80OGsgPSA2MTQ0LCB9LAorCXsgLnRtZHMgPSAyODMy
MDAwMCwgLm5fMzJrID0gNDA5NiwgLm5fNDRrMSA9IDU1ODYsIC5uXzQ4ayA9IDYxNDQsIH0sCisJ
eyAudG1kcyA9IDMwMjQwMDAwLCAubl8zMmsgPSA0MDk2LCAubl80NGsxID0gNTY0MiwgLm5fNDhr
ID0gNjE0NCwgfSwKKwl7IC50bWRzID0gMzE1MDAwMDAsIC5uXzMyayA9IDQwOTYsIC5uXzQ0azEg
PSA1NjAwLCAubl80OGsgPSA2MTQ0LCB9LAorCXsgLnRtZHMgPSAzMjAwMDAwMCwgLm5fMzJrID0g
NDA5NiwgLm5fNDRrMSA9IDU3MzMsIC5uXzQ4ayA9IDYxNDQsIH0sCisJeyAudG1kcyA9IDMzNzUw
MDAwLCAubl8zMmsgPSA0MDk2LCAubl80NGsxID0gNjI3MiwgLm5fNDhrID0gNjE0NCwgfSwKKwl7
IC50bWRzID0gMzYwMDAwMDAsIC5uXzMyayA9IDQwOTYsIC5uXzQ0azEgPSA1Njg0LCAubl80OGsg
PSA2MTQ0LCB9LAorCXsgLnRtZHMgPSA0MDAwMDAwMCwgLm5fMzJrID0gNDA5NiwgLm5fNDRrMSA9
IDU3MzMsIC5uXzQ4ayA9IDYxNDQsIH0sCisJeyAudG1kcyA9IDQ5NTAwMDAwLCAubl8zMmsgPSA0
MDk2LCAubl80NGsxID0gNTQ4OCwgLm5fNDhrID0gNjE0NCwgfSwKKwl7IC50bWRzID0gNTAwMDAw
MDAsIC5uXzMyayA9IDQwOTYsIC5uXzQ0azEgPSA1MjkyLCAubl80OGsgPSA2MTQ0LCB9LAorCXsg
LnRtZHMgPSA1NDAwMDAwMCwgLm5fMzJrID0gNDA5NiwgLm5fNDRrMSA9IDU2ODQsIC5uXzQ4ayA9
IDYxNDQsIH0sCisJeyAudG1kcyA9IDY1MDAwMDAwLCAubl8zMmsgPSA0MDk2LCAubl80NGsxID0g
NzA1NiwgLm5fNDhrID0gNjE0NCwgfSwKKwl7IC50bWRzID0gNjgyNTAwMDAsIC5uXzMyayA9IDQw
OTYsIC5uXzQ0azEgPSA1Mzc2LCAubl80OGsgPSA2MTQ0LCB9LAorCXsgLnRtZHMgPSA3MTAwMDAw
MCwgLm5fMzJrID0gNDA5NiwgLm5fNDRrMSA9IDcwNTYsIC5uXzQ4ayA9IDYxNDQsIH0sCisJeyAu
dG1kcyA9IDcyMDAwMDAwLCAubl8zMmsgPSA0MDk2LCAubl80NGsxID0gNTYzNSwgLm5fNDhrID0g
NjE0NCwgfSwKKwl7IC50bWRzID0gNzMyNTAwMDAsIC5uXzMyayA9IDQwOTYsIC5uXzQ0azEgPSAx
NDExMiwgLm5fNDhrID0gNjE0NCwgfSwKKworCS8qIERvZXNuJ3QgbWF0Y2ggY29tcHV0YXRpb25z
LCBhc3N1bWVzIHJlYWwgY2xvY2sgPSA3NC4yNSBNSHogLyAxLjAwMSAqLworCXsgLnRtZHMgPSA3
NDE3NjAwMCwgLm5fMzJrID0gMTE2NDgsIC5uXzQ0azEgPSAxNzgzNiwgLm5fNDhrID0gMTE2NDgs
IH0sCisKKwl7IC50bWRzID0gNzQyNTAwMDAsIC5uXzMyayA9IDQwOTYsIC5uXzQ0azEgPSA2Mjcy
LCAubl80OGsgPSA2MTQ0LCB9LAorCXsgLnRtZHMgPSA3NTAwMDAwMCwgLm5fMzJrID0gNDA5Niwg
Lm5fNDRrMSA9IDU4ODAsIC5uXzQ4ayA9IDYxNDQsIH0sCisJeyAudG1kcyA9IDc4NzUwMDAwLCAu
bl8zMmsgPSA0MDk2LCAubl80NGsxID0gNTYwMCwgLm5fNDhrID0gNjE0NCwgfSwKKwl7IC50bWRz
ID0gNzg4MDAwMDAsIC5uXzMyayA9IDQwOTYsIC5uXzQ0azEgPSA1MjkyLCAubl80OGsgPSA2MTQ0
LCB9LAorCXsgLnRtZHMgPSA3OTUwMDAwMCwgLm5fMzJrID0gNDA5NiwgLm5fNDRrMSA9IDQ3MDQs
IC5uXzQ4ayA9IDYxNDQsIH0sCisJeyAudG1kcyA9IDgzNTAwMDAwLCAubl8zMmsgPSA0MDk2LCAu
bl80NGsxID0gNzA1NiwgLm5fNDhrID0gNjE0NCwgfSwKKwl7IC50bWRzID0gODU1MDAwMDAsIC5u
XzMyayA9IDQwOTYsIC5uXzQ0azEgPSA1NDg4LCAubl80OGsgPSA2MTQ0LCB9LAorCXsgLnRtZHMg
PSA4ODc1MDAwMCwgLm5fMzJrID0gNDA5NiwgLm5fNDRrMSA9IDE0MTEyLCAubl80OGsgPSA2MTQ0
LCB9LAorCXsgLnRtZHMgPSA5Nzc1MDAwMCwgLm5fMzJrID0gNDA5NiwgLm5fNDRrMSA9IDE0MTEy
LCAubl80OGsgPSA2MTQ0LCB9LAorCXsgLnRtZHMgPSAxMDEwMDAwMDAsIC5uXzMyayA9IDQwOTYs
IC5uXzQ0azEgPSA3MDU2LCAubl80OGsgPSA2MTQ0LCB9LAorCXsgLnRtZHMgPSAxMDY1MDAwMDAs
IC5uXzMyayA9IDQwOTYsIC5uXzQ0azEgPSA0NzA0LCAubl80OGsgPSA2MTQ0LCB9LAorCXsgLnRt
ZHMgPSAxMDgwMDAwMDAsIC5uXzMyayA9IDQwOTYsIC5uXzQ0azEgPSA1Njg0LCAubl80OGsgPSA2
MTQ0LCB9LAorCXsgLnRtZHMgPSAxMTU1MDAwMDAsIC5uXzMyayA9IDQwOTYsIC5uXzQ0azEgPSA1
NzEyLCAubl80OGsgPSA2MTQ0LCB9LAorCXsgLnRtZHMgPSAxMTkwMDAwMDAsIC5uXzMyayA9IDQw
OTYsIC5uXzQ0azEgPSA1NTQ0LCAubl80OGsgPSA2MTQ0LCB9LAorCXsgLnRtZHMgPSAxMzUwMDAw
MDAsIC5uXzMyayA9IDQwOTYsIC5uXzQ0azEgPSA1NDg4LCAubl80OGsgPSA2MTQ0LCB9LAorCXsg
LnRtZHMgPSAxNDYyNTAwMDAsIC5uXzMyayA9IDQwOTYsIC5uXzQ0azEgPSA2MjcyLCAubl80OGsg
PSA2MTQ0LCB9LAorCisJLyogRG9lc24ndCBtYXRjaCBjb21wdXRhdGlvbnMsIGFzc3VtZXMgcmVh
bCBjbG9jayA9IDE0OC41IE1IeiAvIDEuMDAxICovCisJeyAudG1kcyA9IDE0ODM1MjAwMCwgLm5f
MzJrID0gMTE2NDgsIC5uXzQ0azEgPSA4OTE4LCAubl80OGsgPSA1ODI0LCB9LAorCisJeyAudG1k
cyA9IDE0ODUwMDAwMCwgLm5fMzJrID0gNDA5NiwgLm5fNDRrMSA9IDU0ODgsIC5uXzQ4ayA9IDYx
NDQsIH0sCisJeyAudG1kcyA9IDE1NDAwMDAwMCwgLm5fMzJrID0gNDA5NiwgLm5fNDRrMSA9IDU1
NDQsIC5uXzQ4ayA9IDYxNDQsIH0sCisJeyAudG1kcyA9IDE2MjAwMDAwMCwgLm5fMzJrID0gNDA5
NiwgLm5fNDRrMSA9IDU2ODQsIC5uXzQ4ayA9IDYxNDQsIH0sCisKKwkvKiBGb3IgMjk3IE1Ieisg
SERNSSBzcGVjIGhhcyBzb21lIG90aGVyIHJ1bGUgZm9yIHNldHRpbmcgTiAqLworCXsgLnRtZHMg
PSAyOTcwMDAwMDAsIC5uXzMyayA9IDMwNzMsIC5uXzQ0azEgPSA0NzA0LCAubl80OGsgPSA1MTIw
LCB9LAorCXsgLnRtZHMgPSA1OTQwMDAwMDAsIC5uXzMyayA9IDMwNzMsIC5uXzQ0azEgPSA5NDA4
LCAubl80OGsgPSAxMDI0MCwgfSwKKworCS8qIEVuZCBvZiB0YWJsZSAqLworCXsgLnRtZHMgPSAw
LCAgICAgICAgIC5uXzMyayA9IDAsICAgIC5uXzQ0azEgPSAwLCAgICAubl80OGsgPSAwLCB9LAor
fTsKKwogc3RhdGljIGNvbnN0IHUxNiBjc2NfY29lZmZfZGVmYXVsdFszXVs0XSA9IHsKIAl7IDB4
MjAwMCwgMHgwMDAwLCAweDAwMDAsIDB4MDAwMCB9LAogCXsgMHgwMDAwLCAweDIwMDAsIDB4MDAw
MCwgMHgwMDAwIH0sCkBAIC01MTgsNjAgKzU4NywxMTcgQEAgc3RhdGljIHZvaWQgaGRtaV9zZXRf
Y3RzX24oc3RydWN0IGR3X2hkbWkgKmhkbWksIHVuc2lnbmVkIGludCBjdHMsCiAJaGRtaV93cml0
ZWIoaGRtaSwgbiAmIDB4ZmYsIEhETUlfQVVEX04xKTsKIH0KIAotc3RhdGljIHVuc2lnbmVkIGlu
dCBoZG1pX2NvbXB1dGVfbih1bnNpZ25lZCBpbnQgZnJlcSwgdW5zaWduZWQgbG9uZyBwaXhlbF9j
bGspCitzdGF0aWMgaW50IGhkbWlfbWF0Y2hfdG1kc19uX3RhYmxlKHN0cnVjdCBkd19oZG1pICpo
ZG1pLCB1bnNpZ25lZCBpbnQgZnJlcSwKKwkJCQkgICB1bnNpZ25lZCBsb25nIHBpeGVsX2NsaykK
IHsKLQl1bnNpZ25lZCBpbnQgbiA9ICgxMjggKiBmcmVxKSAvIDEwMDA7Ci0JdW5zaWduZWQgaW50
IG11bHQgPSAxOworCWNvbnN0IHN0cnVjdCBkd19oZG1pX3BsYXRfZGF0YSAqcGxhdF9kYXRhID0g
aGRtaS0+cGxhdF9kYXRhOworCWNvbnN0IHN0cnVjdCBkd19oZG1pX2F1ZGlvX3RtZHNfbiAqdG1k
c19uID0gTlVMTDsKKwlpbnQgbXVsdCA9IDE7CisJaW50IGk7CiAKIAl3aGlsZSAoZnJlcSA+IDQ4
MDAwKSB7CiAJCW11bHQgKj0gMjsKIAkJZnJlcSAvPSAyOwogCX0KIAorCWlmIChwbGF0X2RhdGEt
PnRtZHNfbl90YWJsZSkgeworCQlmb3IgKGkgPSAwOyBwbGF0X2RhdGEtPnRtZHNfbl90YWJsZVtp
XS50bWRzICE9IDA7IGkrKykgeworCQkJaWYgKHBpeGVsX2NsayA9PSBwbGF0X2RhdGEtPnRtZHNf
bl90YWJsZVtpXS50bWRzKSB7CisJCQkJdG1kc19uID0gJnBsYXRfZGF0YS0+dG1kc19uX3RhYmxl
W2ldOworCQkJCWJyZWFrOworCQkJfQorCQl9CisJfQorCisJaWYgKHRtZHNfbiA9PSBOVUxMKSB7
CisJCWZvciAoaSA9IDA7IGNvbW1vbl90bWRzX25fdGFibGVbaV0udG1kcyAhPSAwOyBpKyspIHsK
KwkJCWlmIChwaXhlbF9jbGsgPT0gY29tbW9uX3RtZHNfbl90YWJsZVtpXS50bWRzKSB7CisJCQkJ
dG1kc19uID0gJmNvbW1vbl90bWRzX25fdGFibGVbaV07CisJCQkJYnJlYWs7CisJCQl9CisJCX0K
Kwl9CisKKwlpZiAodG1kc19uID09IE5VTEwpCisJCXJldHVybiAtRU5PRU5UOworCiAJc3dpdGNo
IChmcmVxKSB7CiAJY2FzZSAzMjAwMDoKLQkJaWYgKHBpeGVsX2NsayA9PSAyNTE3NTAwMCkKLQkJ
CW4gPSA0NTc2OwotCQllbHNlIGlmIChwaXhlbF9jbGsgPT0gMjcwMjcwMDApCi0JCQluID0gNDA5
NjsKLQkJZWxzZSBpZiAocGl4ZWxfY2xrID09IDc0MTc2MDAwIHx8IHBpeGVsX2NsayA9PSAxNDgz
NTIwMDApCi0JCQluID0gMTE2NDg7Ci0JCWVsc2UKLQkJCW4gPSA0MDk2OwotCQluICo9IG11bHQ7
Ci0JCWJyZWFrOwotCisJCXJldHVybiB0bWRzX24tPm5fMzJrICogbXVsdDsKIAljYXNlIDQ0MTAw
OgotCQlpZiAocGl4ZWxfY2xrID09IDI1MTc1MDAwKQotCQkJbiA9IDcwMDc7Ci0JCWVsc2UgaWYg
KHBpeGVsX2NsayA9PSA3NDE3NjAwMCkKLQkJCW4gPSAxNzgzNjsKLQkJZWxzZSBpZiAocGl4ZWxf
Y2xrID09IDE0ODM1MjAwMCkKLQkJCW4gPSA4OTE4OwotCQllbHNlCi0JCQluID0gNjI3MjsKLQkJ
biAqPSBtdWx0OwotCQlicmVhazsKLQorCQlyZXR1cm4gdG1kc19uLT5uXzQ0azEgKiBtdWx0Owog
CWNhc2UgNDgwMDA6Ci0JCWlmIChwaXhlbF9jbGsgPT0gMjUxNzUwMDApCi0JCQluID0gNjg2NDsK
LQkJZWxzZSBpZiAocGl4ZWxfY2xrID09IDI3MDI3MDAwKQotCQkJbiA9IDYxNDQ7Ci0JCWVsc2Ug
aWYgKHBpeGVsX2NsayA9PSA3NDE3NjAwMCkKLQkJCW4gPSAxMTY0ODsKLQkJZWxzZSBpZiAocGl4
ZWxfY2xrID09IDE0ODM1MjAwMCkKLQkJCW4gPSA1ODI0OwotCQllbHNlCi0JCQluID0gNjE0NDsK
LQkJbiAqPSBtdWx0OwotCQlicmVhazsKLQorCQlyZXR1cm4gdG1kc19uLT5uXzQ4ayAqIG11bHQ7
CiAJZGVmYXVsdDoKLQkJYnJlYWs7CisJCXJldHVybiAtRU5PRU5UOwogCX0KK30KKworc3RhdGlj
IHU2NCBoZG1pX2F1ZGlvX21hdGhfZGlmZih1bnNpZ25lZCBpbnQgZnJlcSwgdW5zaWduZWQgaW50
IG4sCisJCQkJdW5zaWduZWQgaW50IHBpeGVsX2NsaykKK3sKKwl1NjQgZmluYWwsIGRpZmY7CisJ
dTY0IGN0czsKKworCWZpbmFsID0gKHU2NClwaXhlbF9jbGsgKiBuOworCisJY3RzID0gZmluYWw7
CisJZG9fZGl2KGN0cywgMTI4ICogZnJlcSk7CisKKwlkaWZmID0gZmluYWwgLSAodTY0KWN0cyAq
ICgxMjggKiBmcmVxKTsKKworCXJldHVybiBkaWZmOworfQorCitzdGF0aWMgdW5zaWduZWQgaW50
IGhkbWlfY29tcHV0ZV9uKHN0cnVjdCBkd19oZG1pICpoZG1pLCB1bnNpZ25lZCBpbnQgZnJlcSwK
KwkJCQkgICB1bnNpZ25lZCBsb25nIHBpeGVsX2NsaykKK3sKKwl1bnNpZ25lZCBpbnQgbWluX24g
PSBESVZfUk9VTkRfVVAoKDEyOCAqIGZyZXEpLCAxNTAwKTsKKwl1bnNpZ25lZCBpbnQgbWF4X24g
PSAoMTI4ICogZnJlcSkgLyAzMDA7CisJdW5zaWduZWQgaW50IGlkZWFsX24gPSAoMTI4ICogZnJl
cSkgLyAxMDAwOworCXVuc2lnbmVkIGludCBiZXN0X25fZGlzdGFuY2UgPSBpZGVhbF9uOworCXVu
c2lnbmVkIGludCBiZXN0X24gPSAwOworCXU2NCBiZXN0X2RpZmYgPSBVNjRfTUFYOworCWludCBu
OworCisJLyogSWYgdGhlIGlkZWFsIE4gY291bGQgc2F0aXNmeSB0aGUgYXVkaW8gbWF0aCwgdGhl
biBqdXN0IHRha2UgaXQgKi8KKwlpZiAoaGRtaV9hdWRpb19tYXRoX2RpZmYoZnJlcSwgaWRlYWxf
biwgcGl4ZWxfY2xrKSA9PSAwKQorCQlyZXR1cm4gaWRlYWxfbjsKKworCWZvciAobiA9IG1pbl9u
OyBuIDw9IG1heF9uOyBuKyspIHsKKwkJdTY0IGRpZmYgPSBoZG1pX2F1ZGlvX21hdGhfZGlmZihm
cmVxLCBuLCBwaXhlbF9jbGspOworCisJCWlmIChkaWZmIDwgYmVzdF9kaWZmIHx8IChkaWZmID09
IGJlc3RfZGlmZiAmJgorCQkgICAgYWJzKG4gLSBpZGVhbF9uKSA8IGJlc3Rfbl9kaXN0YW5jZSkp
IHsKKwkJCWJlc3RfbiA9IG47CisJCQliZXN0X2RpZmYgPSBkaWZmOworCQkJYmVzdF9uX2Rpc3Rh
bmNlID0gYWJzKGJlc3RfbiAtIGlkZWFsX24pOworCQl9CisKKwkJLyoKKwkJICogVGhlIGJlc3Qg
TiBhbHJlYWR5IHNhdGlzZnkgdGhlIGF1ZGlvIG1hdGgsIGFuZCBhbHNvIGJlCisJCSAqIHRoZSBj
bG9zZXN0IHZhbHVlIHRvIGlkZWFsIE4sIHNvIGp1c3QgY3V0IHRoZSBsb29wLgorCQkgKi8KKwkJ
aWYgKChiZXN0X2RpZmYgPT0gMCkgJiYgKGFicyhuIC0gaWRlYWxfbikgPiBiZXN0X25fZGlzdGFu
Y2UpKQorCQkJYnJlYWs7CisJfQorCisJcmV0dXJuIGJlc3RfbjsKK30KKworc3RhdGljIHVuc2ln
bmVkIGludCBoZG1pX2ZpbmRfbihzdHJ1Y3QgZHdfaGRtaSAqaGRtaSwgdW5zaWduZWQgaW50IGZy
ZXEsCisJCQkJdW5zaWduZWQgbG9uZyBwaXhlbF9jbGspCit7CisJaW50IG47CisKKwluID0gaGRt
aV9tYXRjaF90bWRzX25fdGFibGUoaGRtaSwgZnJlcSwgcGl4ZWxfY2xrKTsKKwlpZiAobiA+IDAp
CisJCXJldHVybiBuOworCisJZGV2X3dhcm4oaGRtaS0+ZGV2LCAiUmF0ZSAlbHUgbWlzc2luZzsg
Y29tcHV0ZSBOIGR5bmFtaWNhbGx5XG4iLAorCQkgcGl4ZWxfY2xrKTsKIAotCXJldHVybiBuOwor
CXJldHVybiBoZG1pX2NvbXB1dGVfbihoZG1pLCBmcmVxLCBwaXhlbF9jbGspOwogfQogCiBzdGF0
aWMgdm9pZCBoZG1pX3NldF9jbGtfcmVnZW5lcmF0b3Ioc3RydWN0IGR3X2hkbWkgKmhkbWksCkBA
IC01ODEsNyArNzA3LDcgQEAgc3RhdGljIHZvaWQgaGRtaV9zZXRfY2xrX3JlZ2VuZXJhdG9yKHN0
cnVjdCBkd19oZG1pICpoZG1pLAogCXVuc2lnbmVkIGludCBuLCBjdHM7CiAJdTY0IHRtcDsKIAot
CW4gPSBoZG1pX2NvbXB1dGVfbihzYW1wbGVfcmF0ZSwgcGl4ZWxfY2xrKTsKKwluID0gaGRtaV9m
aW5kX24oaGRtaSwgc2FtcGxlX3JhdGUsIHBpeGVsX2Nsayk7CiAKIAkvKgogCSAqIENvbXB1dGUg
dGhlIENUUyB2YWx1ZSBmcm9tIHRoZSBOIHZhbHVlLiAgTm90ZSB0aGF0IENUUyBhbmQgTgpkaWZm
IC0tZ2l0IGEvaW5jbHVkZS9kcm0vYnJpZGdlL2R3X2hkbWkuaCBiL2luY2x1ZGUvZHJtL2JyaWRn
ZS9kd19oZG1pLmgKaW5kZXggYzQwMjM2NGFlYzBkLi41ZWU2YjBhMTI3YWEgMTAwNjQ0Ci0tLSBh
L2luY2x1ZGUvZHJtL2JyaWRnZS9kd19oZG1pLmgKKysrIGIvaW5jbHVkZS9kcm0vYnJpZGdlL2R3
X2hkbWkuaApAQCAtOTAsNiArOTAsMTMgQEAgZW51bSBkd19oZG1pX3BoeV90eXBlIHsKIAlEV19I
RE1JX1BIWV9WRU5ET1JfUEhZID0gMHhmZSwKIH07CiAKK3N0cnVjdCBkd19oZG1pX2F1ZGlvX3Rt
ZHNfbiB7CisJdW5zaWduZWQgbG9uZyB0bWRzOworCXVuc2lnbmVkIGludCBuXzMyazsKKwl1bnNp
Z25lZCBpbnQgbl80NGsxOworCXVuc2lnbmVkIGludCBuXzQ4azsKK307CisKIHN0cnVjdCBkd19o
ZG1pX21wbGxfY29uZmlnIHsKIAl1bnNpZ25lZCBsb25nIG1waXhlbGNsb2NrOwogCXN0cnVjdCB7
CkBAIC0xMzcsNiArMTQ0LDcgQEAgc3RydWN0IGR3X2hkbWlfcGxhdF9kYXRhIHsKIAljb25zdCBz
dHJ1Y3QgZHdfaGRtaV9tcGxsX2NvbmZpZyAqbXBsbF9jZmc7CiAJY29uc3Qgc3RydWN0IGR3X2hk
bWlfY3Vycl9jdHJsICpjdXJfY3RyOwogCWNvbnN0IHN0cnVjdCBkd19oZG1pX3BoeV9jb25maWcg
KnBoeV9jb25maWc7CisJY29uc3Qgc3RydWN0IGR3X2hkbWlfYXVkaW9fdG1kc19uICp0bWRzX25f
dGFibGU7CiAJaW50ICgqY29uZmlndXJlX3BoeSkoc3RydWN0IGR3X2hkbWkgKmhkbWksCiAJCQkg
ICAgIGNvbnN0IHN0cnVjdCBkd19oZG1pX3BsYXRfZGF0YSAqcGRhdGEsCiAJCQkgICAgIHVuc2ln
bmVkIGxvbmcgbXBpeGVsY2xvY2spOwotLSAKMi4yMi4wLjQxMC5nZDhmZGJlMjFiNS1nb29nCgpf
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwg
bWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0
cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
