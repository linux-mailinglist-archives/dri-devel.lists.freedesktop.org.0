Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id A2DF57AA25
	for <lists+dri-devel@lfdr.de>; Tue, 30 Jul 2019 15:50:58 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 46CA06E514;
	Tue, 30 Jul 2019 13:50:56 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from perceval.ideasonboard.com (perceval.ideasonboard.com
 [IPv6:2001:4b98:dc2:55:216:3eff:fef7:d647])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 555D06E514
 for <dri-devel@lists.freedesktop.org>; Tue, 30 Jul 2019 13:50:54 +0000 (UTC)
Received: from pendragon.ideasonboard.com
 (p443174-ipngn12901marunouchi.tokyo.ocn.ne.jp [153.201.242.174])
 by perceval.ideasonboard.com (Postfix) with ESMTPSA id 32557CC;
 Tue, 30 Jul 2019 15:50:50 +0200 (CEST)
Date: Tue, 30 Jul 2019 16:50:45 +0300
From: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
To: Christoph Hellwig <hch@lst.de>
Subject: Re: [PATCH] dma-mapping: remove dma_{alloc,free,mmap}_writecombine
Message-ID: <20190730135045.GA4806@pendragon.ideasonboard.com>
References: <20190730061849.29686-1-hch@lst.de>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190730061849.29686-1-hch@lst.de>
User-Agent: Mutt/1.10.1 (2018-07-13)
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=ideasonboard.com; s=mail; t=1564494652;
 bh=yXsA4lQrDxWLRkikj1nrZdK3Kmxtui4EhkpZyACr6yE=;
 h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
 b=iPy1JeRrk8mVG5FvMJNU6zdJm/7JpfLibA4+/WJQnWBwNA4NLRUwj7yuiVPgb7cet
 Xj6LkV4c5kqSO259vtm+pmccbU1m+oL+Uk3cGYzsBcr6FrA0RSkplFdZGF50B8CbDR
 xrf9Wc8F+UGSbbQLOPgIAEhwmYIkibFKJujlWykg=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: iommu@lists.linux-foundation.org, tomi.valkeinen@ti.com,
 linux-kernel@vger.kernel.org, dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgQ2hyaXN0b3BoLAoKVGhhbmsgeW91IGZvciB0aGUgcGF0Y2guCgpPbiBUdWUsIEp1bCAzMCwg
MjAxOSBhdCAwOToxODo0OUFNICswMzAwLCBDaHJpc3RvcGggSGVsbHdpZyB3cm90ZToKPiBXZSBj
YW4gYWxyZWFkeSB1c2UgRE1BX0FUVFJfV1JJVEVfQ09NQklORSBvciB0aGUgX3djIHByZWZpeGVk
IHZlcnNpb24sCj4gc28gcmVtb3ZlIHRoZSB0aGlyZCB3YXkgb2YgZG9pbmcgdGhpbmdzLgo+IAo+
IFNpZ25lZC1vZmYtYnk6IENocmlzdG9waCBIZWxsd2lnIDxoY2hAbHN0LmRlPgo+IC0tLQo+ICBk
cml2ZXJzL2dwdS9kcm0vb21hcGRybS9kc3MvZGlzcGMuYyB8IDExICsrKysrLS0tLS0tCj4gIGlu
Y2x1ZGUvbGludXgvZG1hLW1hcHBpbmcuaCAgICAgICAgIHwgIDkgLS0tLS0tLS0tCj4gIDIgZmls
ZXMgY2hhbmdlZCwgNSBpbnNlcnRpb25zKCspLCAxNSBkZWxldGlvbnMoLSkKPiAKPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vZHNzL2Rpc3BjLmMgYi9kcml2ZXJzL2dwdS9k
cm0vb21hcGRybS9kc3MvZGlzcGMuYwo+IGluZGV4IDc4NWM1NTQ2MDY3YS4uYzcwZjMyNDZhNTUy
IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL2Rzcy9kaXNwYy5jCj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vZHNzL2Rpc3BjLmMKPiBAQCAtNDYwOSwxMSArNDYw
OSwxMCBAQCBzdGF0aWMgaW50IGRpc3BjX2VycmF0YV9pNzM0X3dhX2luaXQoc3RydWN0IGRpc3Bj
X2RldmljZSAqZGlzcGMpCj4gIAlpNzM0X2J1Zi5zaXplID0gaTczNC5vdmxpLndpZHRoICogaTcz
NC5vdmxpLmhlaWdodCAqCj4gIAkJY29sb3JfbW9kZV90b19icHAoaTczNC5vdmxpLmZvdXJjYykg
LyA4Owo+ICAKPiAtCWk3MzRfYnVmLnZhZGRyID0gZG1hX2FsbG9jX3dyaXRlY29tYmluZSgmZGlz
cGMtPnBkZXYtPmRldiwKPiAtCQkJCQkJaTczNF9idWYuc2l6ZSwgJmk3MzRfYnVmLnBhZGRyLAo+
IC0JCQkJCQlHRlBfS0VSTkVMKTsKPiArCWk3MzRfYnVmLnZhZGRyID0gZG1hX2FsbG9jX3djKCZk
aXNwYy0+cGRldi0+ZGV2LCBpNzM0X2J1Zi5zaXplLAo+ICsJCQkmaTczNF9idWYucGFkZHIsIEdG
UF9LRVJORUwpOwoKSSB3b3VsZCBoYXZlIGluZGVudGVkIHRoaXMgbGluZSB0byBtYXRjaCB0aGUg
cmVzdC4gQXBhcnQgZnJvbSB0aGF0LAoKUmV2aWV3ZWQtYnk6IExhdXJlbnQgUGluY2hhcnQgPGxh
dXJlbnQucGluY2hhcnRAaWRlYXNvbmJvYXJkLmNvbT4KCj4gIAlpZiAoIWk3MzRfYnVmLnZhZGRy
KSB7Cj4gLQkJZGV2X2VycigmZGlzcGMtPnBkZXYtPmRldiwgIiVzOiBkbWFfYWxsb2Nfd3JpdGVj
b21iaW5lIGZhaWxlZFxuIiwKPiArCQlkZXZfZXJyKCZkaXNwYy0+cGRldi0+ZGV2LCAiJXM6IGRt
YV9hbGxvY193YyBmYWlsZWRcbiIsCj4gIAkJCV9fZnVuY19fKTsKPiAgCQlyZXR1cm4gLUVOT01F
TTsKPiAgCX0KPiBAQCAtNDYyNiw4ICs0NjI1LDggQEAgc3RhdGljIHZvaWQgZGlzcGNfZXJyYXRh
X2k3MzRfd2FfZmluaShzdHJ1Y3QgZGlzcGNfZGV2aWNlICpkaXNwYykKPiAgCWlmICghZGlzcGMt
PmZlYXQtPmhhc19nYW1tYV9pNzM0X2J1ZykKPiAgCQlyZXR1cm47Cj4gIAo+IC0JZG1hX2ZyZWVf
d3JpdGVjb21iaW5lKCZkaXNwYy0+cGRldi0+ZGV2LCBpNzM0X2J1Zi5zaXplLCBpNzM0X2J1Zi52
YWRkciwKPiAtCQkJICAgICAgaTczNF9idWYucGFkZHIpOwo+ICsJZG1hX2ZyZWVfd2MoJmRpc3Bj
LT5wZGV2LT5kZXYsIGk3MzRfYnVmLnNpemUsIGk3MzRfYnVmLnZhZGRyLAo+ICsJCSAgICBpNzM0
X2J1Zi5wYWRkcik7Cj4gIH0KPiAgCj4gIHN0YXRpYyB2b2lkIGRpc3BjX2VycmF0YV9pNzM0X3dh
KHN0cnVjdCBkaXNwY19kZXZpY2UgKmRpc3BjKQo+IGRpZmYgLS1naXQgYS9pbmNsdWRlL2xpbnV4
L2RtYS1tYXBwaW5nLmggYi9pbmNsdWRlL2xpbnV4L2RtYS1tYXBwaW5nLmgKPiBpbmRleCBmN2Qx
ZWVhMzJjNzguLjYzM2RhZTQ2NjA5NyAxMDA2NDQKPiAtLS0gYS9pbmNsdWRlL2xpbnV4L2RtYS1t
YXBwaW5nLmgKPiArKysgYi9pbmNsdWRlL2xpbnV4L2RtYS1tYXBwaW5nLmgKPiBAQCAtNzg2LDkg
Kzc4Niw2IEBAIHN0YXRpYyBpbmxpbmUgdm9pZCAqZG1hX2FsbG9jX3djKHN0cnVjdCBkZXZpY2Ug
KmRldiwgc2l6ZV90IHNpemUsCj4gIAo+ICAJcmV0dXJuIGRtYV9hbGxvY19hdHRycyhkZXYsIHNp
emUsIGRtYV9hZGRyLCBnZnAsIGF0dHJzKTsKPiAgfQo+IC0jaWZuZGVmIGRtYV9hbGxvY193cml0
ZWNvbWJpbmUKPiAtI2RlZmluZSBkbWFfYWxsb2Nfd3JpdGVjb21iaW5lIGRtYV9hbGxvY193Ywo+
IC0jZW5kaWYKPiAgCj4gIHN0YXRpYyBpbmxpbmUgdm9pZCBkbWFfZnJlZV93YyhzdHJ1Y3QgZGV2
aWNlICpkZXYsIHNpemVfdCBzaXplLAo+ICAJCQkgICAgICAgdm9pZCAqY3B1X2FkZHIsIGRtYV9h
ZGRyX3QgZG1hX2FkZHIpCj4gQEAgLTc5Niw5ICs3OTMsNiBAQCBzdGF0aWMgaW5saW5lIHZvaWQg
ZG1hX2ZyZWVfd2Moc3RydWN0IGRldmljZSAqZGV2LCBzaXplX3Qgc2l6ZSwKPiAgCXJldHVybiBk
bWFfZnJlZV9hdHRycyhkZXYsIHNpemUsIGNwdV9hZGRyLCBkbWFfYWRkciwKPiAgCQkJICAgICAg
RE1BX0FUVFJfV1JJVEVfQ09NQklORSk7Cj4gIH0KPiAtI2lmbmRlZiBkbWFfZnJlZV93cml0ZWNv
bWJpbmUKPiAtI2RlZmluZSBkbWFfZnJlZV93cml0ZWNvbWJpbmUgZG1hX2ZyZWVfd2MKPiAtI2Vu
ZGlmCj4gIAo+ICBzdGF0aWMgaW5saW5lIGludCBkbWFfbW1hcF93YyhzdHJ1Y3QgZGV2aWNlICpk
ZXYsCj4gIAkJCSAgICAgIHN0cnVjdCB2bV9hcmVhX3N0cnVjdCAqdm1hLAo+IEBAIC04MDgsOSAr
ODAyLDYgQEAgc3RhdGljIGlubGluZSBpbnQgZG1hX21tYXBfd2Moc3RydWN0IGRldmljZSAqZGV2
LAo+ICAJcmV0dXJuIGRtYV9tbWFwX2F0dHJzKGRldiwgdm1hLCBjcHVfYWRkciwgZG1hX2FkZHIs
IHNpemUsCj4gIAkJCSAgICAgIERNQV9BVFRSX1dSSVRFX0NPTUJJTkUpOwo+ICB9Cj4gLSNpZm5k
ZWYgZG1hX21tYXBfd3JpdGVjb21iaW5lCj4gLSNkZWZpbmUgZG1hX21tYXBfd3JpdGVjb21iaW5l
IGRtYV9tbWFwX3djCj4gLSNlbmRpZgo+ICAKPiAgI2lmZGVmIENPTkZJR19ORUVEX0RNQV9NQVBf
U1RBVEUKPiAgI2RlZmluZSBERUZJTkVfRE1BX1VOTUFQX0FERFIoQUREUl9OQU1FKSAgICAgICAg
ZG1hX2FkZHJfdCBBRERSX05BTUUKCi0tIApSZWdhcmRzLAoKTGF1cmVudCBQaW5jaGFydApfX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFp
bGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5m
cmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
