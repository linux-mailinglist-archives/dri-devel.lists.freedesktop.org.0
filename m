Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id ED70710870C
	for <lists+dri-devel@lfdr.de>; Mon, 25 Nov 2019 05:20:35 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 31D5189DFC;
	Mon, 25 Nov 2019 04:20:19 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from hqemgate15.nvidia.com (hqemgate15.nvidia.com [216.228.121.64])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0EC5789DEA
 for <dri-devel@lists.freedesktop.org>; Mon, 25 Nov 2019 04:20:17 +0000 (UTC)
Received: from hqpgpgate101.nvidia.com (Not Verified[216.228.121.13]) by
 hqemgate15.nvidia.com (using TLS: TLSv1.2, DES-CBC3-SHA)
 id <B5ddb567b0000>; Sun, 24 Nov 2019 20:20:11 -0800
Received: from hqmail.nvidia.com ([172.20.161.6])
 by hqpgpgate101.nvidia.com (PGP Universal service);
 Sun, 24 Nov 2019 20:20:16 -0800
X-PGP-Universal: processed;
 by hqpgpgate101.nvidia.com on Sun, 24 Nov 2019 20:20:16 -0800
Received: from HQMAIL105.nvidia.com (172.20.187.12) by HQMAIL105.nvidia.com
 (172.20.187.12) with Microsoft SMTP Server (TLS) id 15.0.1473.3; Mon, 25 Nov
 2019 04:20:13 +0000
Received: from hqnvemgw03.nvidia.com (10.124.88.68) by HQMAIL105.nvidia.com
 (172.20.187.12) with Microsoft SMTP Server (TLS) id 15.0.1473.3 via Frontend
 Transport; Mon, 25 Nov 2019 04:20:13 +0000
Received: from blueforge.nvidia.com (Not Verified[10.110.48.28]) by
 hqnvemgw03.nvidia.com with Trustwave SEG (v7, 5, 8, 10121)
 id <B5ddb567d000b>; Sun, 24 Nov 2019 20:20:13 -0800
From: John Hubbard <jhubbard@nvidia.com>
To: Andrew Morton <akpm@linux-foundation.org>
Subject: [PATCH 09/19] IB/{core, hw, umem}: set FOLL_PIN via pin_user_pages*(),
 fix up ODP
Date: Sun, 24 Nov 2019 20:20:01 -0800
Message-ID: <20191125042011.3002372-10-jhubbard@nvidia.com>
X-Mailer: git-send-email 2.24.0
In-Reply-To: <20191125042011.3002372-1-jhubbard@nvidia.com>
References: <20191125042011.3002372-1-jhubbard@nvidia.com>
MIME-Version: 1.0
X-NVConfidentiality: public
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=nvidia.com; s=n1; 
 t=1574655611; bh=F5LoLh4kW0VgIVuupouosvzq/0ORLXJ24SyIGBNyaiY=;
 h=X-PGP-Universal:From:To:CC:Subject:Date:Message-ID:X-Mailer:
 In-Reply-To:References:MIME-Version:X-NVConfidentiality:
 Content-Transfer-Encoding:Content-Type;
 b=pKXQBq2xFNosSHMxDGBCax7XdfIYB/U7NFfgYUWqEQriuv4x/Ruvetfkp4QHGiDA1
 vbeUKUbk6kOYGLHm0gCZ3qJ9H1EVY93WYcedgBCVfw5M3EFBLyq/2JXwKKTV71UzHF
 rqlcaebwmLkTX2Vp6HOGYigxVEcULGtlda+dD/xouAIldGc3F/+2ZTuOT8guh6mwq7
 41CilFdOkcbx0WqJUzg6kg8HHtrRZFawSX1Hdl/moSERPg73t4Ka+ntBOYY26elngm
 mJkt9jzcnkowOi3JANxBUksjvp0PbCTJpSgJq4ha4hIPzyssqUbjUbIJLPlth2Efyy
 KPGtXay/D+g0A==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Michal Hocko <mhocko@suse.com>, Jan Kara <jack@suse.cz>,
 kvm@vger.kernel.org, linux-doc@vger.kernel.org,
 David Airlie <airlied@linux.ie>, Dave Chinner <david@fromorbit.com>,
 dri-devel@lists.freedesktop.org, LKML <linux-kernel@vger.kernel.org>,
 linux-mm@kvack.org, Paul
 Mackerras <paulus@samba.org>, linux-kselftest@vger.kernel.org,
 Ira Weiny <ira.weiny@intel.com>, Jonathan Corbet <corbet@lwn.net>,
 linux-rdma@vger.kernel.org, Michael Ellerman <mpe@ellerman.id.au>,
 Christoph Hellwig <hch@infradead.org>, Jason Gunthorpe <jgg@ziepe.ca>, Jason
 Gunthorpe <jgg@mellanox.com>, Vlastimil Babka <vbabka@suse.cz>,
 =?UTF-8?q?Bj=C3=B6rn=20T=C3=B6pel?= <bjorn.topel@intel.com>,
 linux-media@vger.kernel.org, Shuah Khan <shuah@kernel.org>,
 John Hubbard <jhubbard@nvidia.com>, linux-block@vger.kernel.org,
 =?UTF-8?q?J=C3=A9r=C3=B4me=20Glisse?= <jglisse@redhat.com>,
 Al Viro <viro@zeniv.linux.org.uk>, Dan Williams <dan.j.williams@intel.com>,
 Mauro Carvalho Chehab <mchehab@kernel.org>,
 Magnus Karlsson <magnus.karlsson@intel.com>, Jens Axboe <axboe@kernel.dk>,
 netdev@vger.kernel.org, Alex Williamson <alex.williamson@redhat.com>,
 linux-fsdevel@vger.kernel.org, bpf@vger.kernel.org,
 linuxppc-dev@lists.ozlabs.org, "David S . Miller" <davem@davemloft.net>,
 Mike Kravetz <mike.kravetz@oracle.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Q29udmVydCBpbmZpbmliYW5kIHRvIHVzZSB0aGUgbmV3IHBpbl91c2VyX3BhZ2VzKigpIGNhbGxz
LgoKQWxzbywgcmV2ZXJ0IGVhcmxpZXIgY2hhbmdlcyB0byBJbmZpbmliYW5kIE9EUCB0aGF0IGhh
ZCBpdCB1c2luZwpwdXRfdXNlcl9wYWdlKCkuIE9EUCBpcyAiQ2FzZSAzIiBpbgpEb2N1bWVudGF0
aW9uL2NvcmUtYXBpL3Bpbl91c2VyX3BhZ2VzLnJzdCwgd2hpY2ggaXMgdG8gc2F5LCBub3JtYWwK
Z2V0X3VzZXJfcGFnZXMoKSBhbmQgcHV0X3BhZ2UoKSBpcyB0aGUgQVBJIHRvIHVzZSB0aGVyZS4K
ClRoZSBuZXcgcGluX3VzZXJfcGFnZXMqKCkgY2FsbHMgcmVwbGFjZSBjb3JyZXNwb25kaW5nIGdl
dF91c2VyX3BhZ2VzKigpCmNhbGxzLCBhbmQgc2V0IHRoZSBGT0xMX1BJTiBmbGFnLiBUaGUgRk9M
TF9QSU4gZmxhZyByZXF1aXJlcyB0aGF0IHRoZQpjYWxsZXIgbXVzdCByZXR1cm4gdGhlIHBhZ2Vz
IHZpYSBwdXRfdXNlcl9wYWdlKigpIGNhbGxzLCBidXQgaW5maW5pYmFuZAp3YXMgYWxyZWFkeSBk
b2luZyB0aGF0IGFzIHBhcnQgb2YgYW4gZWFybGllciBjb21taXQuCgpSZXZpZXdlZC1ieTogSmFz
b24gR3VudGhvcnBlIDxqZ2dAbWVsbGFub3guY29tPgpTaWduZWQtb2ZmLWJ5OiBKb2huIEh1YmJh
cmQgPGpodWJiYXJkQG52aWRpYS5jb20+Ci0tLQogZHJpdmVycy9pbmZpbmliYW5kL2NvcmUvdW1l
bS5jICAgICAgICAgICAgICB8ICAyICstCiBkcml2ZXJzL2luZmluaWJhbmQvY29yZS91bWVtX29k
cC5jICAgICAgICAgIHwgMTMgKysrKysrLS0tLS0tLQogZHJpdmVycy9pbmZpbmliYW5kL2h3L2hm
aTEvdXNlcl9wYWdlcy5jICAgICB8ICAyICstCiBkcml2ZXJzL2luZmluaWJhbmQvaHcvbXRoY2Ev
bXRoY2FfbWVtZnJlZS5jIHwgIDIgKy0KIGRyaXZlcnMvaW5maW5pYmFuZC9ody9xaWIvcWliX3Vz
ZXJfcGFnZXMuYyAgfCAgMiArLQogZHJpdmVycy9pbmZpbmliYW5kL2h3L3FpYi9xaWJfdXNlcl9z
ZG1hLmMgICB8ICAyICstCiBkcml2ZXJzL2luZmluaWJhbmQvaHcvdXNuaWMvdXNuaWNfdWlvbS5j
ICAgIHwgIDIgKy0KIGRyaXZlcnMvaW5maW5pYmFuZC9zdy9zaXcvc2l3X21lbS5jICAgICAgICAg
fCAgMiArLQogOCBmaWxlcyBjaGFuZ2VkLCAxMyBpbnNlcnRpb25zKCspLCAxNCBkZWxldGlvbnMo
LSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2luZmluaWJhbmQvY29yZS91bWVtLmMgYi9kcml2ZXJz
L2luZmluaWJhbmQvY29yZS91bWVtLmMKaW5kZXggN2EzYjk5NTk3ZWFkLi4zOWExNTQyZTY3MDcg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvaW5maW5pYmFuZC9jb3JlL3VtZW0uYworKysgYi9kcml2ZXJz
L2luZmluaWJhbmQvY29yZS91bWVtLmMKQEAgLTI2Nyw3ICsyNjcsNyBAQCBzdHJ1Y3QgaWJfdW1l
bSAqaWJfdW1lbV9nZXQoc3RydWN0IGliX3VkYXRhICp1ZGF0YSwgdW5zaWduZWQgbG9uZyBhZGRy
LAogCiAJd2hpbGUgKG5wYWdlcykgewogCQlkb3duX3JlYWQoJm1tLT5tbWFwX3NlbSk7Ci0JCXJl
dCA9IGdldF91c2VyX3BhZ2VzKGN1cl9iYXNlLAorCQlyZXQgPSBwaW5fdXNlcl9wYWdlcyhjdXJf
YmFzZSwKIAkJCQkgICAgIG1pbl90KHVuc2lnbmVkIGxvbmcsIG5wYWdlcywKIAkJCQkJICAgUEFH
RV9TSVpFIC8gc2l6ZW9mIChzdHJ1Y3QgcGFnZSAqKSksCiAJCQkJICAgICBndXBfZmxhZ3MgfCBG
T0xMX0xPTkdURVJNLApkaWZmIC0tZ2l0IGEvZHJpdmVycy9pbmZpbmliYW5kL2NvcmUvdW1lbV9v
ZHAuYyBiL2RyaXZlcnMvaW5maW5pYmFuZC9jb3JlL3VtZW1fb2RwLmMKaW5kZXggZTQyZDQ0ZTUw
MWZkLi5hYmMzYmI2NTc4Y2MgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvaW5maW5pYmFuZC9jb3JlL3Vt
ZW1fb2RwLmMKKysrIGIvZHJpdmVycy9pbmZpbmliYW5kL2NvcmUvdW1lbV9vZHAuYwpAQCAtMzA4
LDkgKzMwOCw4IEBAIEVYUE9SVF9TWU1CT0woaWJfdW1lbV9vZHBfcmVsZWFzZSk7CiAgKiBUaGUg
ZnVuY3Rpb24gcmV0dXJucyAtRUZBVUxUIGlmIHRoZSBETUEgbWFwcGluZyBvcGVyYXRpb24gZmFp
bHMuIEl0IHJldHVybnMKICAqIC1FQUdBSU4gaWYgYSBjb25jdXJyZW50IGludmFsaWRhdGlvbiBw
cmV2ZW50cyB1cyBmcm9tIHVwZGF0aW5nIHRoZSBwYWdlLgogICoKLSAqIFRoZSBwYWdlIGlzIHJl
bGVhc2VkIHZpYSBwdXRfdXNlcl9wYWdlIGV2ZW4gaWYgdGhlIG9wZXJhdGlvbiBmYWlsZWQuIEZv
cgotICogb24tZGVtYW5kIHBpbm5pbmcsIHRoZSBwYWdlIGlzIHJlbGVhc2VkIHdoZW5ldmVyIGl0
IGlzbid0IHN0b3JlZCBpbiB0aGUKLSAqIHVtZW0uCisgKiBUaGUgcGFnZSBpcyByZWxlYXNlZCB2
aWEgcHV0X3BhZ2UgZXZlbiBpZiB0aGUgb3BlcmF0aW9uIGZhaWxlZC4gRm9yIG9uLWRlbWFuZAor
ICogcGlubmluZywgdGhlIHBhZ2UgaXMgcmVsZWFzZWQgd2hlbmV2ZXIgaXQgaXNuJ3Qgc3RvcmVk
IGluIHRoZSB1bWVtLgogICovCiBzdGF0aWMgaW50IGliX3VtZW1fb2RwX21hcF9kbWFfc2luZ2xl
X3BhZ2UoCiAJCXN0cnVjdCBpYl91bWVtX29kcCAqdW1lbV9vZHAsCkBAIC0zNjMsNyArMzYyLDcg
QEAgc3RhdGljIGludCBpYl91bWVtX29kcF9tYXBfZG1hX3NpbmdsZV9wYWdlKAogCX0KIAogb3V0
OgotCXB1dF91c2VyX3BhZ2UocGFnZSk7CisJcHV0X3BhZ2UocGFnZSk7CiAJcmV0dXJuIHJldDsK
IH0KIApAQCAtNDczLDcgKzQ3Miw3IEBAIGludCBpYl91bWVtX29kcF9tYXBfZG1hX3BhZ2VzKHN0
cnVjdCBpYl91bWVtX29kcCAqdW1lbV9vZHAsIHU2NCB1c2VyX3ZpcnQsCiAJCQkJCXJldCA9IC1F
RkFVTFQ7CiAJCQkJCWJyZWFrOwogCQkJCX0KLQkJCQlwdXRfdXNlcl9wYWdlKGxvY2FsX3BhZ2Vf
bGlzdFtqXSk7CisJCQkJcHV0X3BhZ2UobG9jYWxfcGFnZV9saXN0W2pdKTsKIAkJCQljb250aW51
ZTsKIAkJCX0KIApAQCAtNTAwLDggKzQ5OSw4IEBAIGludCBpYl91bWVtX29kcF9tYXBfZG1hX3Bh
Z2VzKHN0cnVjdCBpYl91bWVtX29kcCAqdW1lbV9vZHAsIHU2NCB1c2VyX3ZpcnQsCiAJCQkgKiBp
Yl91bWVtX29kcF9tYXBfZG1hX3NpbmdsZV9wYWdlKCkuCiAJCQkgKi8KIAkJCWlmIChucGFnZXMg
LSAoaiArIDEpID4gMCkKLQkJCQlwdXRfdXNlcl9wYWdlcygmbG9jYWxfcGFnZV9saXN0W2orMV0s
Ci0JCQkJCSAgICAgICBucGFnZXMgLSAoaiArIDEpKTsKKwkJCQlyZWxlYXNlX3BhZ2VzKCZsb2Nh
bF9wYWdlX2xpc3RbaisxXSwKKwkJCQkJICAgICAgbnBhZ2VzIC0gKGogKyAxKSk7CiAJCQlicmVh
azsKIAkJfQogCX0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvaW5maW5pYmFuZC9ody9oZmkxL3VzZXJf
cGFnZXMuYyBiL2RyaXZlcnMvaW5maW5pYmFuZC9ody9oZmkxL3VzZXJfcGFnZXMuYwppbmRleCA0
NjlhY2I5NjFmYmQuLjlhOTQ3NjE3NjVjMCAxMDA2NDQKLS0tIGEvZHJpdmVycy9pbmZpbmliYW5k
L2h3L2hmaTEvdXNlcl9wYWdlcy5jCisrKyBiL2RyaXZlcnMvaW5maW5pYmFuZC9ody9oZmkxL3Vz
ZXJfcGFnZXMuYwpAQCAtMTA2LDcgKzEwNiw3IEBAIGludCBoZmkxX2FjcXVpcmVfdXNlcl9wYWdl
cyhzdHJ1Y3QgbW1fc3RydWN0ICptbSwgdW5zaWduZWQgbG9uZyB2YWRkciwgc2l6ZV90IG5wCiAJ
aW50IHJldDsKIAl1bnNpZ25lZCBpbnQgZ3VwX2ZsYWdzID0gRk9MTF9MT05HVEVSTSB8ICh3cml0
YWJsZSA/IEZPTExfV1JJVEUgOiAwKTsKIAotCXJldCA9IGdldF91c2VyX3BhZ2VzX2Zhc3QodmFk
ZHIsIG5wYWdlcywgZ3VwX2ZsYWdzLCBwYWdlcyk7CisJcmV0ID0gcGluX3VzZXJfcGFnZXNfZmFz
dCh2YWRkciwgbnBhZ2VzLCBndXBfZmxhZ3MsIHBhZ2VzKTsKIAlpZiAocmV0IDwgMCkKIAkJcmV0
dXJuIHJldDsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9pbmZpbmliYW5kL2h3L210aGNhL210aGNh
X21lbWZyZWUuYyBiL2RyaXZlcnMvaW5maW5pYmFuZC9ody9tdGhjYS9tdGhjYV9tZW1mcmVlLmMK
aW5kZXggZWRjY2ZkNmUxNzhmLi44MjY5YWIwNDBjMjEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvaW5m
aW5pYmFuZC9ody9tdGhjYS9tdGhjYV9tZW1mcmVlLmMKKysrIGIvZHJpdmVycy9pbmZpbmliYW5k
L2h3L210aGNhL210aGNhX21lbWZyZWUuYwpAQCAtNDcyLDcgKzQ3Miw3IEBAIGludCBtdGhjYV9t
YXBfdXNlcl9kYihzdHJ1Y3QgbXRoY2FfZGV2ICpkZXYsIHN0cnVjdCBtdGhjYV91YXIgKnVhciwK
IAkJZ290byBvdXQ7CiAJfQogCi0JcmV0ID0gZ2V0X3VzZXJfcGFnZXNfZmFzdCh1YWRkciAmIFBB
R0VfTUFTSywgMSwKKwlyZXQgPSBwaW5fdXNlcl9wYWdlc19mYXN0KHVhZGRyICYgUEFHRV9NQVNL
LCAxLAogCQkJCSAgRk9MTF9XUklURSB8IEZPTExfTE9OR1RFUk0sIHBhZ2VzKTsKIAlpZiAocmV0
IDwgMCkKIAkJZ290byBvdXQ7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2luZmluaWJhbmQvaHcvcWli
L3FpYl91c2VyX3BhZ2VzLmMgYi9kcml2ZXJzL2luZmluaWJhbmQvaHcvcWliL3FpYl91c2VyX3Bh
Z2VzLmMKaW5kZXggNmJmNzY0ZTQxODkxLi43ZmM0YjVmODFmY2QgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvaW5maW5pYmFuZC9ody9xaWIvcWliX3VzZXJfcGFnZXMuYworKysgYi9kcml2ZXJzL2luZmlu
aWJhbmQvaHcvcWliL3FpYl91c2VyX3BhZ2VzLmMKQEAgLTEwOCw3ICsxMDgsNyBAQCBpbnQgcWli
X2dldF91c2VyX3BhZ2VzKHVuc2lnbmVkIGxvbmcgc3RhcnRfcGFnZSwgc2l6ZV90IG51bV9wYWdl
cywKIAogCWRvd25fcmVhZCgmY3VycmVudC0+bW0tPm1tYXBfc2VtKTsKIAlmb3IgKGdvdCA9IDA7
IGdvdCA8IG51bV9wYWdlczsgZ290ICs9IHJldCkgewotCQlyZXQgPSBnZXRfdXNlcl9wYWdlcyhz
dGFydF9wYWdlICsgZ290ICogUEFHRV9TSVpFLAorCQlyZXQgPSBwaW5fdXNlcl9wYWdlcyhzdGFy
dF9wYWdlICsgZ290ICogUEFHRV9TSVpFLAogCQkJCSAgICAgbnVtX3BhZ2VzIC0gZ290LAogCQkJ
CSAgICAgRk9MTF9MT05HVEVSTSB8IEZPTExfV1JJVEUgfCBGT0xMX0ZPUkNFLAogCQkJCSAgICAg
cCArIGdvdCwgTlVMTCk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2luZmluaWJhbmQvaHcvcWliL3Fp
Yl91c2VyX3NkbWEuYyBiL2RyaXZlcnMvaW5maW5pYmFuZC9ody9xaWIvcWliX3VzZXJfc2RtYS5j
CmluZGV4IDA1MTkwZWRjMjYxMS4uMWEzY2MyOTU3ZTNhIDEwMDY0NAotLS0gYS9kcml2ZXJzL2lu
ZmluaWJhbmQvaHcvcWliL3FpYl91c2VyX3NkbWEuYworKysgYi9kcml2ZXJzL2luZmluaWJhbmQv
aHcvcWliL3FpYl91c2VyX3NkbWEuYwpAQCAtNjcwLDcgKzY3MCw3IEBAIHN0YXRpYyBpbnQgcWli
X3VzZXJfc2RtYV9waW5fcGFnZXMoY29uc3Qgc3RydWN0IHFpYl9kZXZkYXRhICpkZCwKIAkJZWxz
ZQogCQkJaiA9IG5wYWdlczsKIAotCQlyZXQgPSBnZXRfdXNlcl9wYWdlc19mYXN0KGFkZHIsIGos
IEZPTExfTE9OR1RFUk0sIHBhZ2VzKTsKKwkJcmV0ID0gcGluX3VzZXJfcGFnZXNfZmFzdChhZGRy
LCBqLCBGT0xMX0xPTkdURVJNLCBwYWdlcyk7CiAJCWlmIChyZXQgIT0gaikgewogCQkJaSA9IDA7
CiAJCQlqID0gcmV0OwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9pbmZpbmliYW5kL2h3L3VzbmljL3Vz
bmljX3Vpb20uYyBiL2RyaXZlcnMvaW5maW5pYmFuZC9ody91c25pYy91c25pY191aW9tLmMKaW5k
ZXggNjJlNmZmYTlhZDc4Li42MDA4OTY3MjdkMzQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvaW5maW5p
YmFuZC9ody91c25pYy91c25pY191aW9tLmMKKysrIGIvZHJpdmVycy9pbmZpbmliYW5kL2h3L3Vz
bmljL3VzbmljX3Vpb20uYwpAQCAtMTQxLDcgKzE0MSw3IEBAIHN0YXRpYyBpbnQgdXNuaWNfdWlv
bV9nZXRfcGFnZXModW5zaWduZWQgbG9uZyBhZGRyLCBzaXplX3Qgc2l6ZSwgaW50IHdyaXRhYmxl
LAogCXJldCA9IDA7CiAKIAl3aGlsZSAobnBhZ2VzKSB7Ci0JCXJldCA9IGdldF91c2VyX3BhZ2Vz
KGN1cl9iYXNlLAorCQlyZXQgPSBwaW5fdXNlcl9wYWdlcyhjdXJfYmFzZSwKIAkJCQkgICAgIG1p
bl90KHVuc2lnbmVkIGxvbmcsIG5wYWdlcywKIAkJCQkgICAgIFBBR0VfU0laRSAvIHNpemVvZihz
dHJ1Y3QgcGFnZSAqKSksCiAJCQkJICAgICBndXBfZmxhZ3MgfCBGT0xMX0xPTkdURVJNLApkaWZm
IC0tZ2l0IGEvZHJpdmVycy9pbmZpbmliYW5kL3N3L3Npdy9zaXdfbWVtLmMgYi9kcml2ZXJzL2lu
ZmluaWJhbmQvc3cvc2l3L3Npd19tZW0uYwppbmRleCBlOTk5ODNmMDc2NjMuLmU1M2IwN2RjZmVk
NSAxMDA2NDQKLS0tIGEvZHJpdmVycy9pbmZpbmliYW5kL3N3L3Npdy9zaXdfbWVtLmMKKysrIGIv
ZHJpdmVycy9pbmZpbmliYW5kL3N3L3Npdy9zaXdfbWVtLmMKQEAgLTQyNiw3ICs0MjYsNyBAQCBz
dHJ1Y3Qgc2l3X3VtZW0gKnNpd191bWVtX2dldCh1NjQgc3RhcnQsIHU2NCBsZW4sIGJvb2wgd3Jp
dGFibGUpCiAJCXdoaWxlIChuZW50cykgewogCQkJc3RydWN0IHBhZ2UgKipwbGlzdCA9ICZ1bWVt
LT5wYWdlX2NodW5rW2ldLnBsaXN0W2dvdF07CiAKLQkJCXJ2ID0gZ2V0X3VzZXJfcGFnZXMoZmly
c3RfcGFnZV92YSwgbmVudHMsCisJCQlydiA9IHBpbl91c2VyX3BhZ2VzKGZpcnN0X3BhZ2VfdmEs
IG5lbnRzLAogCQkJCQkgICAgZm9sbF9mbGFncyB8IEZPTExfTE9OR1RFUk0sCiAJCQkJCSAgICBw
bGlzdCwgTlVMTCk7CiAJCQlpZiAocnYgPCAwKQotLSAKMi4yNC4wCgpfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRy
aS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5v
cmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
