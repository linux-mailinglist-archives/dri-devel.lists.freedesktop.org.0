Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 21C0A232F15
	for <lists+dri-devel@lfdr.de>; Thu, 30 Jul 2020 11:00:38 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id F2D786E89A;
	Thu, 30 Jul 2020 09:00:30 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ed1-x541.google.com (mail-ed1-x541.google.com
 [IPv6:2a00:1450:4864:20::541])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 6A7E76E89C
 for <dri-devel@lists.freedesktop.org>; Thu, 30 Jul 2020 09:00:29 +0000 (UTC)
Received: by mail-ed1-x541.google.com with SMTP id n2so19379225edr.5
 for <dri-devel@lists.freedesktop.org>; Thu, 30 Jul 2020 02:00:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:subject:date:message-id:in-reply-to:references:mime-version
 :content-transfer-encoding;
 bh=pDUWXRNqRpvHjgW2VXPP/kj7YyqZlh4zyxTRXEb+MZo=;
 b=FupLoK0HWIgg87c2hYLeHhVEkaVyFKzcx5W9IRRUVJ2lSZFJfegsi6pf9GJF8Yd3nz
 ElYjuFbg5aZ9jjjZj2Q+KkQ9l5idPad5o4dVbuRpZyy/6NS4FX5PhlVcfpD5gg8grqP6
 oVxfO3lsuI4djExjpu+xwcOFmKdH6vf7PloS2mu/B62T5+7XLOKqRV96mJVAOWXt/Opd
 HKJALbjyloplNcwDhL04i1VdX1DoBk0WkVllFccymE0Zu1DTmjctMPxlbVNmjsTOciOg
 o7sGOVxJeJoLNcD5RHedCvgWPmQ/J3J0sUVh6bhh6GKlrysa6gnBP8SUgXiJtyf8QDl3
 EJLw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=pDUWXRNqRpvHjgW2VXPP/kj7YyqZlh4zyxTRXEb+MZo=;
 b=KMaDa2YA3zOK249bqodwhZyLfnJiKZyRjlRCFxtklvf565yEDp9hLb61ogSrDfbIBB
 6cvq0cfWBV+R7/8uTuEsq5fvvPUj44tIR2EZIweccA82XifDj0QuD3gqxBX8jCFSk080
 0Gm0mhP99SEJefmtanV4HggBIK6PEb3oxV11f/DAoaBdnSnHSBdOWKy+teiGaEiDPw5T
 XUGZY43w4481KzUXBIx2ZHHVdRyVNCY8veHM/AhMHtXEetNS3XdtNVctX8uaoCq9YszQ
 BazSVwIYUOghCbFKJnaZ/edrM/DYfJL6WQGvw3f39elhMcEi35Hc3bCNB7gqpgnq7V75
 ppKA==
X-Gm-Message-State: AOAM532v3FiJeOaO8rFOcg3quDjGYVLsUS1nNnqCWeJIK9QhKQzZ9AOr
 zU367sTDVAkcY5YUiv/lvJ+6Hc2v
X-Google-Smtp-Source: ABdhPJwWxWlnxtOVl4TeIgz4Pu4QdEDggKpFnRbjn3BR27hSkW4YjjgYXF8qbDkhzdvvnfqCpQo1gw==
X-Received: by 2002:a05:6402:19a5:: with SMTP id
 o5mr1643603edz.283.1596099627749; 
 Thu, 30 Jul 2020 02:00:27 -0700 (PDT)
Received: from abel.fritz.box ([2a02:908:1252:fb60:cb71:127d:d8c4:4acb])
 by smtp.gmail.com with ESMTPSA id j24sm4968238ejv.32.2020.07.30.02.00.27
 for <dri-devel@lists.freedesktop.org>
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Thu, 30 Jul 2020 02:00:27 -0700 (PDT)
From: "=?UTF-8?q?Christian=20K=C3=B6nig?=" <ckoenig.leichtzumerken@gmail.com>
X-Google-Original-From: =?UTF-8?q?Christian=20K=C3=B6nig?=
 <christian.koenig@amd.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH 5/9] drm/vmwgfx: stop implementing init_mem_type v2
Date: Thu, 30 Jul 2020 11:00:11 +0200
Message-Id: <20200730090015.17295-5-christian.koenig@amd.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20200730090015.17295-1-christian.koenig@amd.com>
References: <20200730090015.17295-1-christian.koenig@amd.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SW5zdGVhZCBqdXN0IGluaXRpYWxpemUgdGhlIG1lbW9yeSB0eXBlIHBhcmFtZXRlcnMKYmVmb3Jl
IGNhbGxpbmcgdHRtX2JvX2luaXRfbW0uCgp2Mjoga2VlcCBleHRyYSBzeXN0ZW0gZG9tYWluIGhh
bmRsaW5nCgpTaWduZWQtb2ZmLWJ5OiBDaHJpc3RpYW4gS8O2bmlnIDxjaHJpc3RpYW4ua29lbmln
QGFtZC5jb20+ClJldmlld2VkLWJ5OiBBbGV4IERldWNoZXIgPGFsZXhhbmRlci5kZXVjaGVyQGFt
ZC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfZHJ2LmMgICAgICAgIHwg
MjAgKysrKysrKysrKysrKysrKwogZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfdHRtX2J1
ZmZlci5jIHwgMjggLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogMiBmaWxlcyBjaGFuZ2VkLCAyMCBp
bnNlcnRpb25zKCspLCAyOCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vdm13Z2Z4L3Ztd2dmeF9kcnYuYyBiL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2Ry
di5jCmluZGV4IDQ3MDQyODM4Nzg3OC4uOGU2N2EyOTQ3MWE4IDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9kcnYuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4
L3Ztd2dmeF9kcnYuYwpAQCAtODU5LDExICs4NTksMTYgQEAgc3RhdGljIGludCB2bXdfZHJpdmVy
X2xvYWQoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgdW5zaWduZWQgbG9uZyBjaGlwc2V0KQogCQlE
Uk1fRVJST1IoIkZhaWxlZCBpbml0aWFsaXppbmcgVFRNIGJ1ZmZlciBvYmplY3QgZHJpdmVyLlxu
Iik7CiAJCWdvdG8gb3V0X25vX2JkZXY7CiAJfQorCWRldl9wcml2LT5iZGV2Lm1hbltUVE1fUExf
U1lTVEVNXS5hdmFpbGFibGVfY2FjaGluZyA9CisJCVRUTV9QTF9GTEFHX0NBQ0hFRDsKIAogCS8q
CiAJICogRW5hYmxlIFZSQU0sIGJ1dCBpbml0aWFsbHkgZG9uJ3QgdXNlIGl0IHVudGlsIFNWR0Eg
aXMgZW5hYmxlZCBhbmQKIAkgKiB1bmhpZGRlbi4KIAkgKi8KKwlkZXZfcHJpdi0+YmRldi5tYW5b
VFRNX1BMX1ZSQU1dLmZ1bmMgPSAmdm13X3RocF9mdW5jOworCWRldl9wcml2LT5iZGV2Lm1hbltU
VE1fUExfVlJBTV0uYXZhaWxhYmxlX2NhY2hpbmcgPSBUVE1fUExfRkxBR19DQUNIRUQ7CisJZGV2
X3ByaXYtPmJkZXYubWFuW1RUTV9QTF9WUkFNXS5kZWZhdWx0X2NhY2hpbmcgPSBUVE1fUExfRkxB
R19DQUNIRUQ7CiAJcmV0ID0gdHRtX2JvX2luaXRfbW0oJmRldl9wcml2LT5iZGV2LCBUVE1fUExf
VlJBTSwKIAkJCSAgICAgKGRldl9wcml2LT52cmFtX3NpemUgPj4gUEFHRV9TSElGVCkpOwogCWlm
ICh1bmxpa2VseShyZXQgIT0gMCkpIHsKQEAgLTg3Miw3ICs4NzcsMTcgQEAgc3RhdGljIGludCB2
bXdfZHJpdmVyX2xvYWQoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgdW5zaWduZWQgbG9uZyBjaGlw
c2V0KQogCX0KIAlkZXZfcHJpdi0+YmRldi5tYW5bVFRNX1BMX1ZSQU1dLnVzZV90eXBlID0gZmFs
c2U7CiAKKwkvKgorCSAqICJHdWVzdCBNZW1vcnkgUmVnaW9ucyIgaXMgYW4gYXBlcnR1cmUgbGlr
ZSBmZWF0dXJlIHdpdGgKKwkgKiAgb25lIHNsb3QgcGVyIGJvLiBUaGVyZSBpcyBhbiB1cHBlciBs
aW1pdCBvZiB0aGUgbnVtYmVyIG9mCisJICogIHNsb3RzIGFzIHdlbGwgYXMgdGhlIGJvIHNpemUu
CisJICovCiAJZGV2X3ByaXYtPmhhc19nbXIgPSB0cnVlOworCWRldl9wcml2LT5iZGV2Lm1hbltW
TVdfUExfR01SXS5mdW5jID0gJnZtd19nbXJpZF9tYW5hZ2VyX2Z1bmM7CisJZGV2X3ByaXYtPmJk
ZXYubWFuW1ZNV19QTF9HTVJdLmF2YWlsYWJsZV9jYWNoaW5nID0gVFRNX1BMX0ZMQUdfQ0FDSEVE
OworCWRldl9wcml2LT5iZGV2Lm1hbltWTVdfUExfR01SXS5kZWZhdWx0X2NhY2hpbmcgPSBUVE1f
UExfRkxBR19DQUNIRUQ7CisJLyogVE9ETzogVGhpcyBpcyBtb3N0IGxpa2VseSBub3QgY29ycmVj
dCAqLworCWRldl9wcml2LT5iZGV2Lm1hbltWTVdfUExfR01SXS51c2VfdHQgPSB0cnVlOwogCWlm
ICgoKGRldl9wcml2LT5jYXBhYmlsaXRpZXMgJiAoU1ZHQV9DQVBfR01SIHwgU1ZHQV9DQVBfR01S
MikpID09IDApIHx8CiAJICAgIHJlZnVzZV9kbWEgfHwgdHRtX2JvX2luaXRfbW0oJmRldl9wcml2
LT5iZGV2LCBWTVdfUExfR01SLAogCQkJCQkgVk1XX1BMX0dNUikgIT0gMCkgewpAQCAtODgzLDYg
Kzg5OCwxMSBAQCBzdGF0aWMgaW50IHZtd19kcml2ZXJfbG9hZChzdHJ1Y3QgZHJtX2RldmljZSAq
ZGV2LCB1bnNpZ25lZCBsb25nIGNoaXBzZXQpCiAKIAlpZiAoZGV2X3ByaXYtPmNhcGFiaWxpdGll
cyAmIFNWR0FfQ0FQX0dCT0JKRUNUUyAmJiAhcmVmdXNlX2RtYSkgewogCQlkZXZfcHJpdi0+aGFz
X21vYiA9IHRydWU7CisJCWRldl9wcml2LT5iZGV2Lm1hbltWTVdfUExfTU9CXS5mdW5jID0gJnZt
d19nbXJpZF9tYW5hZ2VyX2Z1bmM7CisJCWRldl9wcml2LT5iZGV2Lm1hbltWTVdfUExfTU9CXS5h
dmFpbGFibGVfY2FjaGluZyA9IFRUTV9QTF9GTEFHX0NBQ0hFRDsKKwkJZGV2X3ByaXYtPmJkZXYu
bWFuW1ZNV19QTF9NT0JdLmRlZmF1bHRfY2FjaGluZyA9IFRUTV9QTF9GTEFHX0NBQ0hFRDsKKwkJ
LyogVE9ETzogVGhpcyBpcyBtb3N0IGxpa2VseSBub3QgY29ycmVjdCAqLworCQlkZXZfcHJpdi0+
YmRldi5tYW5bVk1XX1BMX01PQl0udXNlX3R0ID0gdHJ1ZTsKIAkJaWYgKHR0bV9ib19pbml0X21t
KCZkZXZfcHJpdi0+YmRldiwgVk1XX1BMX01PQiwKIAkJCQkgICBWTVdfUExfTU9CKSAhPSAwKSB7
CiAJCQlEUk1fSU5GTygiTm8gTU9CIG1lbW9yeSBhdmFpbGFibGUuICIKZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X3R0bV9idWZmZXIuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS92bXdnZngvdm13Z2Z4X3R0bV9idWZmZXIuYwppbmRleCBkMDA3NDhlY2FmMjAuLmRiNGIyZTJl
NGVkYiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfdHRtX2J1ZmZl
ci5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X3R0bV9idWZmZXIuYwpAQCAt
NzM5LDM0ICs3MzksNiBAQCBzdGF0aWMgc3RydWN0IHR0bV90dCAqdm13X3R0bV90dF9jcmVhdGUo
c3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKIHN0YXRpYyBpbnQgdm13X2luaXRfbWVtX3R5
cGUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHVpbnQzMl90IHR5cGUsCiAJCSAgICAgIHN0
cnVjdCB0dG1fbWVtX3R5cGVfbWFuYWdlciAqbWFuKQogewotCXN3aXRjaCAodHlwZSkgewotCWNh
c2UgVFRNX1BMX1NZU1RFTToKLQkJLyogU3lzdGVtIG1lbW9yeSAqLwotCQltYW4tPmF2YWlsYWJs
ZV9jYWNoaW5nID0gVFRNX1BMX0ZMQUdfQ0FDSEVEOwotCQlicmVhazsKLQljYXNlIFRUTV9QTF9W
UkFNOgotCQkvKiAiT24tY2FyZCIgdmlkZW8gcmFtICovCi0JCW1hbi0+ZnVuYyA9ICZ2bXdfdGhw
X2Z1bmM7Ci0JCW1hbi0+YXZhaWxhYmxlX2NhY2hpbmcgPSBUVE1fUExfRkxBR19DQUNIRUQ7Ci0J
CW1hbi0+ZGVmYXVsdF9jYWNoaW5nID0gVFRNX1BMX0ZMQUdfQ0FDSEVEOwotCQlicmVhazsKLQlj
YXNlIFZNV19QTF9HTVI6Ci0JY2FzZSBWTVdfUExfTU9COgotCQkvKgotCQkgKiAiR3Vlc3QgTWVt
b3J5IFJlZ2lvbnMiIGlzIGFuIGFwZXJ0dXJlIGxpa2UgZmVhdHVyZSB3aXRoCi0JCSAqICBvbmUg
c2xvdCBwZXIgYm8uIFRoZXJlIGlzIGFuIHVwcGVyIGxpbWl0IG9mIHRoZSBudW1iZXIgb2YKLQkJ
ICogIHNsb3RzIGFzIHdlbGwgYXMgdGhlIGJvIHNpemUuCi0JCSAqLwotCQltYW4tPmZ1bmMgPSAm
dm13X2dtcmlkX21hbmFnZXJfZnVuYzsKLQkJbWFuLT5hdmFpbGFibGVfY2FjaGluZyA9IFRUTV9Q
TF9GTEFHX0NBQ0hFRDsKLQkJbWFuLT5kZWZhdWx0X2NhY2hpbmcgPSBUVE1fUExfRkxBR19DQUNI
RUQ7Ci0JCS8qIFRPRE86IFRoaXMgaXMgbW9zdCBsaWtlbHkgbm90IGNvcnJlY3QgKi8KLQkJbWFu
LT51c2VfdHQgPSB0cnVlOwotCQlicmVhazsKLQlkZWZhdWx0OgotCQlEUk1fRVJST1IoIlVuc3Vw
cG9ydGVkIG1lbW9yeSB0eXBlICV1XG4iLCAodW5zaWduZWQpdHlwZSk7Ci0JCXJldHVybiAtRUlO
VkFMOwotCX0KIAlyZXR1cm4gMDsKIH0KIAotLSAKMi4xNy4xCgpfX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1k
ZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcv
bWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWwK
