Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 2F4AEB9893
	for <lists+dri-devel@lfdr.de>; Fri, 20 Sep 2019 22:40:39 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B0B506FDD7;
	Fri, 20 Sep 2019 20:40:35 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ed1-x541.google.com (mail-ed1-x541.google.com
 [IPv6:2a00:1450:4864:20::541])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D4F276F971
 for <dri-devel@lists.freedesktop.org>; Fri, 20 Sep 2019 07:54:48 +0000 (UTC)
Received: by mail-ed1-x541.google.com with SMTP id h2so5507419edn.3
 for <dri-devel@lists.freedesktop.org>; Fri, 20 Sep 2019 00:54:48 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=gTl0/zojW/YMwD6857GyvtQiwPcC3wEmLLrOtd8M3CI=;
 b=TBN0tWa2Z+2W16WM0fQfQmC7iPO3zNJc+ZBIiJvsvzYI73TJ5wa3s5cDR/ExX+HFNk
 6fPmNRJt+fE7+nYchS7NwlTM728EG7HMDttZDverOsbfYU101mCPNG5Pul6jDC8RQlxB
 QH0pTQDPOg05+yB8XkHs+DG5Cj1V4LI5FuLY4XleGjz54A29I6wfpz2K585vmxOhNHLk
 0rxOckVhzS1MFmVvaa38AP75lrQ58q/rKHry8tQrGYNHr2zeVBPYIp5PJpcKXVpnUt+3
 Gy6pRg+a9rUffJ3OvUMxTCzhiPE/pUNEZSe0srMJO1/RX0telTca3FErIXwW2rFCoP8s
 JzPQ==
X-Gm-Message-State: APjAAAVfNNzxgM+daT+2IrMU+ZynmfviC29IjyBEzkWcvo1zEiv36NrI
 2py1YOggqouyjthfoDGTw5ERkOKTnudrRXSEhodWmg==
X-Google-Smtp-Source: APXvYqy0f/V8Tbl32ICbiQGM3E97+0UMwzQeILI7xu9zHBxIokVKNM8p8CNybQHEf1aiPdJd6H5AmGtPFKDoJlRYdqA=
X-Received: by 2002:a17:906:d050:: with SMTP id
 bo16mr18416776ejb.146.1568966087313; 
 Fri, 20 Sep 2019 00:54:47 -0700 (PDT)
MIME-Version: 1.0
References: <20190919123703.8545-1-roman.stratiienko@globallogic.com>
 <20190919171754.x6lq73cctnqsjr4v@gilmour> <104595190.vWb6g8xIPX@jernej-laptop>
In-Reply-To: <104595190.vWb6g8xIPX@jernej-laptop>
From: Roman Stratiienko <roman.stratiienko@globallogic.com>
Date: Fri, 20 Sep 2019 10:54:36 +0300
Message-ID: <CAODwZ7sDpJH3CSt5P3h+2OJnpLExkb+mmyWy2mOpx=A-eG3seQ@mail.gmail.com>
Subject: Re: [PATCH] drm/sun4i: Use vi plane as primary
To: =?UTF-8?Q?Jernej_=C5=A0krabec?= <jernej.skrabec@siol.net>
X-Mailman-Approved-At: Fri, 20 Sep 2019 20:39:51 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=globallogic.com; s=google;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=gTl0/zojW/YMwD6857GyvtQiwPcC3wEmLLrOtd8M3CI=;
 b=BN6jP/j17vDhUo9RVgyUGTkIc+LehR/6uoUew57ENg1nbEJV3vOHNrANL2YM3D2E1e
 vgplHgKrLBiMOD5UButpnUPpHnBB1pz1FUWVSzFlZ0xoL7+5xo7qcQBO7oCOtFtlUYgS
 oE9qJJpJN2UMcQUgMYFx2PjldVRgvYuZOyIkqTWdic6I3wXz+GflX48PLBgXym1TpTq9
 4AXburDEU5vY9RNrtOHALgjfv2y/k6f6AKCDGhUKBqSwoa7Oo/hW0wyqd7SQ6S8YXFX4
 EjZkbhurwYAygxFUG6EMDjdXeTZONglgFKS18WaJNY3YzbEQS++uyEMJC1nDHlRCIgtb
 IB9Q==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: dri-devel@lists.freedesktop.org, linux-kernel@vger.kernel.org,
 Maxime Ripard <mripard@kernel.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

WyBSZXNlbmRpbmcgIG1lc3NhZ2UgaW4gcGxhaW4gbW9kZSBdCgpIZWxsbyBndXlzLAoKQWN0dWFs
bHksIEkgYmVsaWV2ZSB0aGlzIGlzIFRydWUgc29sdXRpb24sIGFuZCBjdXJyZW50IG9uZSBpcyB3
cm9uZy4KTGV0IG1lIGV4cGxhaW4gd2h5LgoKRGUyLiAwIHdhcyBkZXNpZ25lZCB0byBtYXRjaCBB
bmRyb2lkIGh3Y29tcG9zZXIgaGFsIHJlcXVpcmVtZW50cyBJTU8uCllvdSBjYW4gZWFzaWx5IGFn
cmVlIHdpdGggdGhpcyBjb25jbHVzaW9uIGJ5IGNvbXBhcmluZyBDb21wb3NlciBIQUwKYW5kIERl
Mi4gMCBoYXJkd2FyZSBtYW51YWxzLgoKSSBmYWNlZCBhdCBsZWFzdCA0IGlzc3VlcyB3aGVuIHRy
eWluZyB0byBydW4gQW5kcm9pZCB1c2luZyB0aGUKbWFpbmxpbmUga2VybmVsIHN1bjhpIG1peGVy
IGltcGxlbWVudGF0aW9uLiBDdXJyZW50IG9uZSwgbWlzc2luZyBwaXhlbApmb3JtYXRzIChteSBw
cmV2aW91cyBwYXRjaCksIG1pc3NpbmcgcGxhbmUgYWxwaGEgYW5kIHJvdGF0aW9uCnByb3BlcnRp
ZXMuIEkgcGxhbiB0byBmaXggaXQgYW5kIGFsc28gc2VuZCBhcHByb3ByaWF0ZSBzb2x1dGlvbiB0
byB0aGUKdXBzdHJlYW0uCgpUbyBhY2hpZXZlIG9wdGltYWwgVUkgcGVyZm9ybWFuY2UgQW5kcm9p
ZCByZXF1aXJlcyBhdCBsZWFzdCA0IHVpCmxheWVycyB0byBtYWtlIHNjcmVlbiBjb21wb3NpdGlv
bi4gQ3VycmVudCBwYXRjaCBlbmFibGVzIDR0aCBwbGFuZQp1c2FibGUuCgpBcyBmb3IgdXNpbmcg
dmkgcGxhbmUgdG8gZGlzcGxheSB2aWRlby4gSSBhc3N1bWUgdGhhdCBzb21lIG9mIHRoZQpjdXJy
ZW50IHVzZXJzIG1heSBoYXZlIHJlZ3Jlc3Npb24gaW4gdGhlaXIgc29mdHdhcmUsIGJ1dCBpdCBj
b3VsZCBiZQplYXNpbHkgZml4ZWQuIEZvciBleGFtcGxlIGlmIHZpIGxheWVyIGlzbid0IGZ1bGxz
Y3JlZW4gYW5kIHNob3VsZCBiZQpvbiB0b3Agb2YgdGhlIG90aGVyIGxheWVycywgaXQgY2FuIGFj
dHVhbGx5IGJlIHBsYWNlZCBvbiB0aGUgYm90dG9tCmFuZCBvdmVybGF5ZWQgd2l0aCBwaWN0dXJl
cyB3aXRoIHRyYW5zcGFyZW50IHJlY3RhbmdsZXMgaW4gdmlkZW8KcmVnaW9uLgpCdXQgSSBhc3N1
bWUgbW9zdCBvZiB1c2VycyBzdWNoIGFzIGJyb3dzZXIgZXRjLiB1c2VzIEdQVSBmb3IgdGhhdC4K
CkFuZCBpZiB5b3UgYXJlIHdhdGNoaW5nIGZ1bGxzY3JlZW4gdmlkZW8sIEkgY2FuIGltYWdpbmUg
b25seSBzdWJ0aXRsZXMKbGF5ZXIgYW5kIGFkdmVydGlzaW5nIGxheWVycyBvbiB0b3Agb2YgdGhl
IHZpZGVvIGxheWVycy4KCgpPbiBUaHUsIFNlcCAxOSwgMjAxOSBhdCA5OjE1IFBNIEplcm5laiDF
oGtyYWJlYyA8amVybmVqLnNrcmFiZWNAc2lvbC5uZXQ+IHdyb3RlOgo+Cj4gRG5lIMSNZXRydGVr
LCAxOS4gc2VwdGVtYmVyIDIwMTkgb2IgMTk6MTc6NTQgQ0VTVCBqZSBNYXhpbWUgUmlwYXJkIG5h
cGlzYWwoYSk6Cj4gPiBIaSwKPiA+Cj4gPiBPbiBUaHUsIFNlcCAxOSwgMjAxOSBhdCAwMzozNzow
M1BNICswMzAwLCByb21hbi5zdHJhdGlpZW5rb0BnbG9iYWxsb2dpYy5jb20KPiB3cm90ZToKPiA+
ID4gRnJvbTogUm9tYW4gU3RyYXRpaWVua28gPHJvbWFuLnN0cmF0aWllbmtvQGdsb2JhbGxvZ2lj
LmNvbT4KPiA+ID4KPiA+ID4gREUyLjAgYmxlbmRlciBkb2VzIG5vdCB0YWtlIGludG8gdGhlIGFj
Y291bnQgYWxwaGEgY2hhbm5lbCBvZiB2aSBsYXllci4KPiA+ID4gVGh1cyBtYWtlcyBvdmVybGF5
aW5nIG9mIHRoaXMgbGF5ZXIgdG90YWxseSBvcGFxdWUuCj4gPiA+IFVzaW5nIHZpIGxheWVyIGFz
IGJvdHRvbSBzb2x2ZXMgdGhpcyBpc3N1ZS4KPgo+IFdoYXQgaXNzdWU/IE92ZXJsYXlzIGRvbid0
IGhhdmUgdG8gYmUgImZ1bGwgc2NyZWVuIiwgdGh1cyBtaXNzaW5nIHN1cHBvcnQgZm9yCj4gYWxw
aGEgYmxlbmRpbmcgZG9lc24ndCBtYWtlIGl0IGxlc3MgdmFsdWFibGUuIEFuZCBWSSBwbGFuZXMg
YXJlIGFscmVhZHkgcGxhY2VkCj4gYXQgdGhlIGJvdHRvbSAoenBvcyA9IDApLgo+Cj4gPiA+Cj4g
PiA+IFRlc3RlZCBvbiBBbmRyb2lkLgo+ID4gPgo+ID4gPiBTaWduZWQtb2ZmLWJ5OiBSb21hbiBT
dHJhdGlpZW5rbyA8cm9tYW4uc3RyYXRpaWVua29AZ2xvYmFsbG9naWMuY29tPgo+ID4KPiA+IEl0
IHNvdW5kcyBsaWtlIGEgd29ya2Fyb3VuZCBtb3JlIHRoYW4gYW4gYWN0dWFsIGZpeC4KPiA+Cj4g
PiBJZiB0aGUgVkkgcGxhbmVzIGNhbid0IHVzZSB0aGUgYWxwaGEsIHRoZW4gd2Ugc2hvdWxkIGp1
c3Qgc3RvcAo+ID4gcmVwb3J0aW5nIHRoYXQgZm9ybWF0Lgo+ID4KPiA+IEplcm5laiwgd2hhdCBk
byB5b3UgdGhpbms/Cj4KPiBDb21taXQgbWVzc2FnZSBpcyBtaXNsZWFkaW5nLiBXaGF0IHRoaXMg
Y29tbWl0IGFjdHVhbGx5IGRvZXMgaXMgbW92aW5nIHByaW1hcnkKPiBwbGFuZSBmcm9tIGZpcnN0
IFVJIHBsYW5lIHRvIGJvdHRvbSBtb3N0IHBsYW5lLCBpLmUuIGZpcnN0IFZJIHBsYW5lLiBIb3dl
dmVyLCBWSQo+IHBsYW5lcyBhcmUgc2NhcmNlIHJlc291cmNlLCBhbG1vc3QgYWxsIG1peGVycyBo
YXZlIG9ubHkgb25lLiBJIHdvdWxkbid0IHNldCBpdAo+IGFzIHByaW1hcnksIGJlY2F1c2UgaXQn
cyB0aGUgb25seSBvbmUgd2hpY2ggcHJvdmlkZSBzdXBwb3J0IGZvciBZVVYgZm9ybWF0cy4KPiBU
aGF0IGNvdWxkIGJlIHVzZWQgZm9yIGV4YW1wbGUgYnkgdmlkZW8gcGxheWVyIGZvciB6ZXJvLWNv
cHkgcmVuZGVyaW5nLgo+IFByb2JhYmx5IG1vc3QgYXBwcyB3b3VsZG4ndCB0b3VjaCBpdCBpZiBp
dCB3YXMgcHJpbWFyeSAodGhhdCdzIHVzdWFsbHkKPiByZXNlcnZlZCBmb3Igd2luZG93IG1hbmFn
ZXIsIGlmIHVzZWQpLgo+Cj4gSSBsZWZ0IGZldyBmb3JtYXRzIHdpdGggYWxwaGEgY2hhbm5lbCBl
eHBvc2VkIGJ5IFZJIHBsYW5lcywganVzdCBiZWNhdXNlIHRoZXkKPiBkb24ndCBoYXZlIGVxdWl2
YWxlbnQgZm9ybWF0IHdpdGhvdXQgYWxwaGEuIEJ1dCBJJ20gZmluZSB3aXRoIHJlbW92aW5nIHRo
ZW0gaWYKPiB5b3UgYWxsIGFncmVlIG9uIHRoYXQuCj4KPiBCZXN0IHJlZ2FyZHMsCj4gSmVybmVq
Cj4KPiA+Cj4gPiBNYXhpbWUKPiA+Cj4gPiA+IC0tLQo+ID4gPgo+ID4gPiAgZHJpdmVycy9ncHUv
ZHJtL3N1bjRpL3N1bjhpX3VpX2xheWVyLmMgfCAzMyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQo+
ID4gPiAgZHJpdmVycy9ncHUvZHJtL3N1bjRpL3N1bjhpX3ZpX2xheWVyLmMgfCAzNiArKysrKysr
KysrKysrKysrKysrKysrKysrLQo+ID4gPiAgMiBmaWxlcyBjaGFuZ2VkLCAzNSBpbnNlcnRpb25z
KCspLCAzNCBkZWxldGlvbnMoLSkKPiA+ID4KPiA+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9zdW40aS9zdW44aV91aV9sYXllci5jCj4gPiA+IGIvZHJpdmVycy9ncHUvZHJtL3N1bjRp
L3N1bjhpX3VpX2xheWVyLmMgaW5kZXggZGQyYTFjODUxOTM5Li4yNTE4M2JhZGM4NWYKPiA+ID4g
MTAwNjQ0Cj4gPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9zdW40aS9zdW44aV91aV9sYXllci5j
Cj4gPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9zdW40aS9zdW44aV91aV9sYXllci5jCj4gPiA+
IEBAIC05OSwzNiArOTksNiBAQCBzdGF0aWMgaW50IHN1bjhpX3VpX2xheWVyX3VwZGF0ZV9jb29y
ZChzdHJ1Y3QKPiA+ID4gc3VuOGlfbWl4ZXIgKm1peGVyLCBpbnQgY2hhbm5lbCw+Cj4gPiA+ICAg
ICBpbnNpemUgPSBTVU44SV9NSVhFUl9TSVpFKHNyY193LCBzcmNfaCk7Cj4gPiA+ICAgICBvdXRz
aXplID0gU1VOOElfTUlYRVJfU0laRShkc3RfdywgZHN0X2gpOwo+ID4gPgo+ID4gPiAtICAgaWYg
KHBsYW5lLT50eXBlID09IERSTV9QTEFORV9UWVBFX1BSSU1BUlkpIHsKPiA+ID4gLSAgICAgICAg
ICAgYm9vbCBpbnRlcmxhY2VkID0gZmFsc2U7Cj4gPiA+IC0gICAgICAgICAgIHUzMiB2YWw7Cj4g
PiA+IC0KPiA+ID4gLSAgICAgICAgICAgRFJNX0RFQlVHX0RSSVZFUigiUHJpbWFyeSBsYXllciwg
dXBkYXRpbmcgZ2xvYmFsIHNpemUKPiBXOiAldSBIOiAldVxuIiwKPiA+ID4gLSAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBkc3RfdywgZHN0X2gpOwo+ID4gPiAtICAgICAgICAgICByZWdtYXBf
d3JpdGUobWl4ZXItPmVuZ2luZS5yZWdzLAo+ID4gPiAtICAgICAgICAgICAgICAgICAgICAgICAg
U1VOOElfTUlYRVJfR0xPQkFMX1NJWkUsCj4gPiA+IC0gICAgICAgICAgICAgICAgICAgICAgICBv
dXRzaXplKTsKPiA+ID4gLSAgICAgICAgICAgcmVnbWFwX3dyaXRlKG1peGVyLT5lbmdpbmUucmVn
cywKPiA+ID4gLSAgICAgICAgICAgICAgICAgICAgICAgIFNVTjhJX01JWEVSX0JMRU5EX09VVFNJ
WkUoYmxkX2Jhc2UpLAo+IG91dHNpemUpOwo+ID4gPiAtCj4gPiA+IC0gICAgICAgICAgIGlmIChz
dGF0ZS0+Y3J0YykKPiA+ID4gLSAgICAgICAgICAgICAgICAgICBpbnRlcmxhY2VkID0gc3RhdGUt
PmNydGMtPnN0YXRlLQo+ID5hZGp1c3RlZF9tb2RlLmZsYWdzCj4gPiA+IC0gICAgICAgICAgICAg
ICAgICAgICAgICAgICAmIERSTV9NT0RFX0ZMQUdfSU5URVJMQUNFOwo+ID4gPiAtCj4gPiA+IC0g
ICAgICAgICAgIGlmIChpbnRlcmxhY2VkKQo+ID4gPiAtICAgICAgICAgICAgICAgICAgIHZhbCA9
IFNVTjhJX01JWEVSX0JMRU5EX09VVENUTF9JTlRFUkxBQ0VEOwo+ID4gPiAtICAgICAgICAgICBl
bHNlCj4gPiA+IC0gICAgICAgICAgICAgICAgICAgdmFsID0gMDsKPiA+ID4gLQo+ID4gPiAtICAg
ICAgICAgICByZWdtYXBfdXBkYXRlX2JpdHMobWl4ZXItPmVuZ2luZS5yZWdzLAo+ID4gPiAtCj4g
U1VOOElfTUlYRVJfQkxFTkRfT1VUQ1RMKGJsZF9iYXNlKSwKPiA+ID4gLQo+IFNVTjhJX01JWEVS
X0JMRU5EX09VVENUTF9JTlRFUkxBQ0VELAo+ID4gPiAtICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgdmFsKTsKPiA+ID4gLQo+ID4gPiAtICAgICAgICAgICBEUk1fREVCVUdfRFJJVkVSKCJT
d2l0Y2hpbmcgZGlzcGxheSBtaXhlciBpbnRlcmxhY2VkCj4gbW9kZSAlc1xuIiwKPiA+ID4gLSAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcmxhY2VkID8gIm9uIiA6ICJvZmYiKTsKPiA+
ID4gLSAgIH0KPiA+ID4gLQo+ID4gPgo+ID4gPiAgICAgLyogU2V0IGhlaWdodCBhbmQgd2lkdGgg
Ki8KPiA+ID4gICAgIERSTV9ERUJVR19EUklWRVIoIkxheWVyIHNvdXJjZSBvZmZzZXQgWDogJWQg
WTogJWRcbiIsCj4gPiA+Cj4gPiA+ICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLT5zcmMueDEg
Pj4gMTYsIHN0YXRlLT5zcmMueTEgPj4gMTYpOwo+ID4gPgo+ID4gPiBAQCAtMzQ5LDkgKzMxOSw2
IEBAIHN0cnVjdCBzdW44aV91aV9sYXllciAqc3VuOGlfdWlfbGF5ZXJfaW5pdF9vbmUoc3RydWN0
Cj4gPiA+IGRybV9kZXZpY2UgKmRybSw+Cj4gPiA+ICAgICBpZiAoIWxheWVyKQo+ID4gPgo+ID4g
PiAgICAgICAgICAgICByZXR1cm4gRVJSX1BUUigtRU5PTUVNKTsKPiA+ID4KPiA+ID4gLSAgIGlm
IChpbmRleCA9PSAwKQo+ID4gPiAtICAgICAgICAgICB0eXBlID0gRFJNX1BMQU5FX1RZUEVfUFJJ
TUFSWTsKPiA+ID4gLQo+ID4gPgo+ID4gPiAgICAgLyogcG9zc2libGUgY3J0Y3MgYXJlIHNldCBs
YXRlciAqLwo+ID4gPiAgICAgcmV0ID0gZHJtX3VuaXZlcnNhbF9wbGFuZV9pbml0KGRybSwgJmxh
eWVyLT5wbGFuZSwgMCwKPiA+ID4KPiA+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAmc3VuOGlfdWlfbGF5ZXJfZnVuY3MsCj4gPiA+Cj4gPiA+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vc3VuNGkvc3VuOGlfdmlfbGF5ZXIuYwo+ID4gPiBiL2RyaXZlcnMvZ3B1L2Ry
bS9zdW40aS9zdW44aV92aV9sYXllci5jIGluZGV4IDA3YzI3ZTZhNGI3Ny4uNDljNDA3NGUxNjRm
Cj4gPiA+IDEwMDY0NAo+ID4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vc3VuNGkvc3VuOGlfdmlf
bGF5ZXIuYwo+ID4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vc3VuNGkvc3VuOGlfdmlfbGF5ZXIu
Ywo+ID4gPiBAQCAtMTE2LDYgKzExNiwzNiBAQCBzdGF0aWMgaW50IHN1bjhpX3ZpX2xheWVyX3Vw
ZGF0ZV9jb29yZChzdHJ1Y3QKPiA+ID4gc3VuOGlfbWl4ZXIgKm1peGVyLCBpbnQgY2hhbm5lbCw+
Cj4gPiA+ICAgICBpbnNpemUgPSBTVU44SV9NSVhFUl9TSVpFKHNyY193LCBzcmNfaCk7Cj4gPiA+
ICAgICBvdXRzaXplID0gU1VOOElfTUlYRVJfU0laRShkc3RfdywgZHN0X2gpOwo+ID4gPgo+ID4g
PiArICAgaWYgKHBsYW5lLT50eXBlID09IERSTV9QTEFORV9UWVBFX1BSSU1BUlkpIHsKPiA+ID4g
KyAgICAgICAgICAgYm9vbCBpbnRlcmxhY2VkID0gZmFsc2U7Cj4gPiA+ICsgICAgICAgICAgIHUz
MiB2YWw7Cj4gPiA+ICsKPiA+ID4gKyAgICAgICAgICAgRFJNX0RFQlVHX0RSSVZFUigiUHJpbWFy
eSBsYXllciwgdXBkYXRpbmcgZ2xvYmFsIHNpemUKPiBXOiAldSBIOiAldVxuIiwKPiA+ID4gKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBkc3RfdywgZHN0X2gpOwo+ID4gPiArICAgICAgICAg
ICByZWdtYXBfd3JpdGUobWl4ZXItPmVuZ2luZS5yZWdzLAo+ID4gPiArICAgICAgICAgICAgICAg
ICAgICAgICAgU1VOOElfTUlYRVJfR0xPQkFMX1NJWkUsCj4gPiA+ICsgICAgICAgICAgICAgICAg
ICAgICAgICBvdXRzaXplKTsKPiA+ID4gKyAgICAgICAgICAgcmVnbWFwX3dyaXRlKG1peGVyLT5l
bmdpbmUucmVncywKPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgIFNVTjhJX01JWEVSX0JM
RU5EX09VVFNJWkUoYmxkX2Jhc2UpLAo+IG91dHNpemUpOwo+ID4gPiArCj4gPiA+ICsgICAgICAg
ICAgIGlmIChzdGF0ZS0+Y3J0YykKPiA+ID4gKyAgICAgICAgICAgICAgICAgICBpbnRlcmxhY2Vk
ID0gc3RhdGUtPmNydGMtPnN0YXRlLQo+ID5hZGp1c3RlZF9tb2RlLmZsYWdzCj4gPiA+ICsgICAg
ICAgICAgICAgICAgICAgICAgICAgICAmIERSTV9NT0RFX0ZMQUdfSU5URVJMQUNFOwo+ID4gPiAr
Cj4gPiA+ICsgICAgICAgICAgIGlmIChpbnRlcmxhY2VkKQo+ID4gPiArICAgICAgICAgICAgICAg
ICAgIHZhbCA9IFNVTjhJX01JWEVSX0JMRU5EX09VVENUTF9JTlRFUkxBQ0VEOwo+ID4gPiArICAg
ICAgICAgICBlbHNlCj4gPiA+ICsgICAgICAgICAgICAgICAgICAgdmFsID0gMDsKPiA+ID4gKwo+
ID4gPiArICAgICAgICAgICByZWdtYXBfdXBkYXRlX2JpdHMobWl4ZXItPmVuZ2luZS5yZWdzLAo+
ID4gPiArCj4gU1VOOElfTUlYRVJfQkxFTkRfT1VUQ1RMKGJsZF9iYXNlKSwKPiA+ID4gKwo+IFNV
TjhJX01JWEVSX0JMRU5EX09VVENUTF9JTlRFUkxBQ0VELAo+ID4gPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgdmFsKTsKPiA+ID4gKwo+ID4gPiArICAgICAgICAgICBEUk1fREVCVUdf
RFJJVkVSKCJTd2l0Y2hpbmcgZGlzcGxheSBtaXhlciBpbnRlcmxhY2VkCj4gbW9kZSAlc1xuIiwK
PiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcmxhY2VkID8gIm9uIiA6ICJv
ZmYiKTsKPiA+ID4gKyAgIH0KPiA+ID4gKwo+ID4gPgo+ID4gPiAgICAgLyogU2V0IGhlaWdodCBh
bmQgd2lkdGggKi8KPiA+ID4gICAgIERSTV9ERUJVR19EUklWRVIoIkxheWVyIHNvdXJjZSBvZmZz
ZXQgWDogJWQgWTogJWRcbiIsCj4gPiA+Cj4gPiA+ICAgICAgICAgICAgICAgICAgICAgIChzdGF0
ZS0+c3JjLngxID4+IDE2KSAmIH4oZm9ybWF0LT5oc3ViIC0KPiAxKSwKPiA+ID4KPiA+ID4gQEAg
LTQ0NSw2ICs0NzUsNyBAQCBzdHJ1Y3Qgc3VuOGlfdmlfbGF5ZXIgKnN1bjhpX3ZpX2xheWVyX2lu
aXRfb25lKHN0cnVjdAo+ID4gPiBkcm1fZGV2aWNlICpkcm0sPgo+ID4gPiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0Cj4gc3VuOGlfbWl4ZXIgKm1peGVy
LAo+ID4gPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50IGlu
ZGV4KQo+ID4gPgo+ID4gPiAgewo+ID4gPgo+ID4gPiArICAgZW51bSBkcm1fcGxhbmVfdHlwZSB0
eXBlID0gRFJNX1BMQU5FX1RZUEVfT1ZFUkxBWTsKPiA+ID4KPiA+ID4gICAgIHN0cnVjdCBzdW44
aV92aV9sYXllciAqbGF5ZXI7Cj4gPiA+ICAgICB1bnNpZ25lZCBpbnQgcGxhbmVfY250Owo+ID4g
PiAgICAgaW50IHJldDsKPiA+ID4KPiA+ID4gQEAgLTQ1MywxMiArNDg0LDE1IEBAIHN0cnVjdCBz
dW44aV92aV9sYXllcgo+ID4gPiAqc3VuOGlfdmlfbGF5ZXJfaW5pdF9vbmUoc3RydWN0IGRybV9k
ZXZpY2UgKmRybSw+Cj4gPiA+ICAgICBpZiAoIWxheWVyKQo+ID4gPgo+ID4gPiAgICAgICAgICAg
ICByZXR1cm4gRVJSX1BUUigtRU5PTUVNKTsKPiA+ID4KPiA+ID4gKyAgIGlmIChpbmRleCA9PSAw
KQo+ID4gPiArICAgICAgICAgICB0eXBlID0gRFJNX1BMQU5FX1RZUEVfUFJJTUFSWTsKPiA+ID4g
Kwo+ID4gPgo+ID4gPiAgICAgLyogcG9zc2libGUgY3J0Y3MgYXJlIHNldCBsYXRlciAqLwo+ID4g
PiAgICAgcmV0ID0gZHJtX3VuaXZlcnNhbF9wbGFuZV9pbml0KGRybSwgJmxheWVyLT5wbGFuZSwg
MCwKPiA+ID4KPiA+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmc3VuOGlf
dmlfbGF5ZXJfZnVuY3MsCj4gPiA+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
c3VuOGlfdmlfbGF5ZXJfZm9ybWF0cywKPiA+ID4KPiBBUlJBWV9TSVpFKHN1bjhpX3ZpX2xheWVy
X2Zvcm1hdHMpLAo+ID4gPgo+ID4gPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IE5VTEwsCj4gRFJNX1BMQU5FX1RZUEVfT1ZFUkxBWSwgTlVMTCk7Cj4gPiA+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgTlVMTCwgdHlwZSwgTlVMTCk7Cj4gPiA+Cj4gPiA+ICAg
ICBpZiAocmV0KSB7Cj4gPiA+Cj4gPiA+ICAgICAgICAgICAgIGRldl9lcnIoZHJtLT5kZXYsICJD
b3VsZG4ndCBpbml0aWFsaXplIGxheWVyXG4iKTsKPiA+ID4gICAgICAgICAgICAgcmV0dXJuIEVS
Ul9QVFIocmV0KTsKPiA+ID4KPiA+ID4gLS0KPiA+ID4gMi4xNy4xCj4KPgo+Cj4KCgotLSAKQmVz
dCByZWdhcmRzLApSb21hbiBTdHJhdGlpZW5rbwpHbG9iYWwgTG9naWMKQURJVCBUZWFtCl9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWls
aW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZy
ZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
