Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 92DCF167C3
	for <lists+dri-devel@lfdr.de>; Tue,  7 May 2019 18:26:08 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A20666E7FC;
	Tue,  7 May 2019 16:25:54 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0D2B489EF7;
 Tue,  7 May 2019 16:25:51 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga001.jf.intel.com ([10.7.209.18])
 by fmsmga106.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 07 May 2019 09:25:41 -0700
X-ExtLoop1: 1
Received: from nuc.iind.intel.com ([10.99.66.149])
 by orsmga001.jf.intel.com with ESMTP; 07 May 2019 09:25:39 -0700
From: Ramalingam C <ramalingam.c@intel.com>
To: intel-gfx@lists.freedesktop.org, dri-devel@lists.freedesktop.org,
 daniel.vetter@intel.com
Subject: [PATCH v7 01/11] drm: move content protection property to mode_config
Date: Tue,  7 May 2019 21:57:35 +0530
Message-Id: <20190507162745.25600-2-ramalingam.c@intel.com>
X-Mailer: git-send-email 2.19.1
In-Reply-To: <20190507162745.25600-1-ramalingam.c@intel.com>
References: <20190507162745.25600-1-ramalingam.c@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: gwan-gyeong.mun@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Q29udGVudCBwcm90ZWN0aW9uIHByb3BlcnR5IGlzIGNyZWF0ZWQgb25jZSBhbmQgc3RvcmVkIGlu
CmRybV9tb2RlX2NvbmZpZy4gQW5kIGF0dGFjaGVkIHRvIGFsbCBIRENQIGNhcGFibGUgY29ubmVj
dG9ycy4KClNpZ25lZC1vZmYtYnk6IFJhbWFsaW5nYW0gQyA8cmFtYWxpbmdhbS5jQGludGVsLmNv
bT4KUmV2aWV3ZWQtYnk6IERhbmllbCBWZXR0ZXIgPGRhbmllbC52ZXR0ZXJAZmZ3bGwuY2g+Ci0t
LQogZHJpdmVycy9ncHUvZHJtL2RybV9hdG9taWNfdWFwaS5jIHwgIDQgKystLQogZHJpdmVycy9n
cHUvZHJtL2RybV9jb25uZWN0b3IuYyAgIHwgMTMgKysrKysrKy0tLS0tLQogaW5jbHVkZS9kcm0v
ZHJtX2Nvbm5lY3Rvci5oICAgICAgIHwgIDYgLS0tLS0tCiBpbmNsdWRlL2RybS9kcm1fbW9kZV9j
b25maWcuaCAgICAgfCAgNiArKysrKysKIDQgZmlsZXMgY2hhbmdlZCwgMTUgaW5zZXJ0aW9ucygr
KSwgMTQgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2RybV9hdG9t
aWNfdWFwaS5jIGIvZHJpdmVycy9ncHUvZHJtL2RybV9hdG9taWNfdWFwaS5jCmluZGV4IDQyOGQ4
MjY2MmRjNC4uNDEzMWU2Njk3ODVhIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vZHJtX2F0
b21pY191YXBpLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2RybV9hdG9taWNfdWFwaS5jCkBAIC03
MzIsNyArNzMyLDcgQEAgc3RhdGljIGludCBkcm1fYXRvbWljX2Nvbm5lY3Rvcl9zZXRfcHJvcGVy
dHkoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciwKIAkJc3RhdGUtPmNvbnRlbnRfdHlw
ZSA9IHZhbDsKIAl9IGVsc2UgaWYgKHByb3BlcnR5ID09IGNvbm5lY3Rvci0+c2NhbGluZ19tb2Rl
X3Byb3BlcnR5KSB7CiAJCXN0YXRlLT5zY2FsaW5nX21vZGUgPSB2YWw7Ci0JfSBlbHNlIGlmIChw
cm9wZXJ0eSA9PSBjb25uZWN0b3ItPmNvbnRlbnRfcHJvdGVjdGlvbl9wcm9wZXJ0eSkgeworCX0g
ZWxzZSBpZiAocHJvcGVydHkgPT0gY29uZmlnLT5jb250ZW50X3Byb3RlY3Rpb25fcHJvcGVydHkp
IHsKIAkJaWYgKHZhbCA9PSBEUk1fTU9ERV9DT05URU5UX1BST1RFQ1RJT05fRU5BQkxFRCkgewog
CQkJRFJNX0RFQlVHX0tNUygib25seSBkcml2ZXJzIGNhbiBzZXQgQ1AgRW5hYmxlZFxuIik7CiAJ
CQlyZXR1cm4gLUVJTlZBTDsKQEAgLTgxNCw3ICs4MTQsNyBAQCBkcm1fYXRvbWljX2Nvbm5lY3Rv
cl9nZXRfcHJvcGVydHkoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciwKIAkJKnZhbCA9
IHN0YXRlLT5jb2xvcnNwYWNlOwogCX0gZWxzZSBpZiAocHJvcGVydHkgPT0gY29ubmVjdG9yLT5z
Y2FsaW5nX21vZGVfcHJvcGVydHkpIHsKIAkJKnZhbCA9IHN0YXRlLT5zY2FsaW5nX21vZGU7Ci0J
fSBlbHNlIGlmIChwcm9wZXJ0eSA9PSBjb25uZWN0b3ItPmNvbnRlbnRfcHJvdGVjdGlvbl9wcm9w
ZXJ0eSkgeworCX0gZWxzZSBpZiAocHJvcGVydHkgPT0gY29uZmlnLT5jb250ZW50X3Byb3RlY3Rp
b25fcHJvcGVydHkpIHsKIAkJKnZhbCA9IHN0YXRlLT5jb250ZW50X3Byb3RlY3Rpb247CiAJfSBl
bHNlIGlmIChwcm9wZXJ0eSA9PSBjb25maWctPndyaXRlYmFja19mYl9pZF9wcm9wZXJ0eSkgewog
CQkvKiBXcml0ZWJhY2sgZnJhbWVidWZmZXIgaXMgb25lLXNob3QsIHdyaXRlIGFuZCBmb3JnZXQg
Ki8KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fY29ubmVjdG9yLmMgYi9kcml2ZXJz
L2dwdS9kcm0vZHJtX2Nvbm5lY3Rvci5jCmluZGV4IDIzNTUxMjQ4NDlkYi4uN2MwZWRhOWNjYTYw
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vZHJtX2Nvbm5lY3Rvci5jCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9kcm1fY29ubmVjdG9yLmMKQEAgLTE1MzQsMTggKzE1MzQsMTkgQEAgaW50IGRy
bV9jb25uZWN0b3JfYXR0YWNoX2NvbnRlbnRfcHJvdGVjdGlvbl9wcm9wZXJ0eSgKIAkJc3RydWN0
IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvcikKIHsKIAlzdHJ1Y3QgZHJtX2RldmljZSAqZGV2ID0g
Y29ubmVjdG9yLT5kZXY7Ci0Jc3RydWN0IGRybV9wcm9wZXJ0eSAqcHJvcDsKKwlzdHJ1Y3QgZHJt
X3Byb3BlcnR5ICpwcm9wID0KKwkJCWRldi0+bW9kZV9jb25maWcuY29udGVudF9wcm90ZWN0aW9u
X3Byb3BlcnR5OwogCi0JcHJvcCA9IGRybV9wcm9wZXJ0eV9jcmVhdGVfZW51bShkZXYsIDAsICJD
b250ZW50IFByb3RlY3Rpb24iLAotCQkJCQlkcm1fY3BfZW51bV9saXN0LAotCQkJCQlBUlJBWV9T
SVpFKGRybV9jcF9lbnVtX2xpc3QpKTsKKwlpZiAoIXByb3ApCisJCXByb3AgPSBkcm1fcHJvcGVy
dHlfY3JlYXRlX2VudW0oZGV2LCAwLCAiQ29udGVudCBQcm90ZWN0aW9uIiwKKwkJCQkJCWRybV9j
cF9lbnVtX2xpc3QsCisJCQkJCQlBUlJBWV9TSVpFKGRybV9jcF9lbnVtX2xpc3QpKTsKIAlpZiAo
IXByb3ApCiAJCXJldHVybiAtRU5PTUVNOwogCiAJZHJtX29iamVjdF9hdHRhY2hfcHJvcGVydHko
JmNvbm5lY3Rvci0+YmFzZSwgcHJvcCwKIAkJCQkgICBEUk1fTU9ERV9DT05URU5UX1BST1RFQ1RJ
T05fVU5ERVNJUkVEKTsKLQotCWNvbm5lY3Rvci0+Y29udGVudF9wcm90ZWN0aW9uX3Byb3BlcnR5
ID0gcHJvcDsKKwlkZXYtPm1vZGVfY29uZmlnLmNvbnRlbnRfcHJvdGVjdGlvbl9wcm9wZXJ0eSA9
IHByb3A7CiAKIAlyZXR1cm4gMDsKIH0KZGlmZiAtLWdpdCBhL2luY2x1ZGUvZHJtL2RybV9jb25u
ZWN0b3IuaCBiL2luY2x1ZGUvZHJtL2RybV9jb25uZWN0b3IuaAppbmRleCBmNDNmNDBkNTg4OGEu
LjIxODZlZWMwNDA4YiAxMDA2NDQKLS0tIGEvaW5jbHVkZS9kcm0vZHJtX2Nvbm5lY3Rvci5oCisr
KyBiL2luY2x1ZGUvZHJtL2RybV9jb25uZWN0b3IuaApAQCAtMTA2NSwxMiArMTA2NSw2IEBAIHN0
cnVjdCBkcm1fY29ubmVjdG9yIHsKIAkgKi8KIAlzdHJ1Y3QgZHJtX3Byb3BlcnR5ICp2cnJfY2Fw
YWJsZV9wcm9wZXJ0eTsKIAotCS8qKgotCSAqIEBjb250ZW50X3Byb3RlY3Rpb25fcHJvcGVydHk6
IERSTSBFTlVNIHByb3BlcnR5IGZvciBjb250ZW50Ci0JICogcHJvdGVjdGlvbi4gU2VlIGRybV9j
b25uZWN0b3JfYXR0YWNoX2NvbnRlbnRfcHJvdGVjdGlvbl9wcm9wZXJ0eSgpLgotCSAqLwotCXN0
cnVjdCBkcm1fcHJvcGVydHkgKmNvbnRlbnRfcHJvdGVjdGlvbl9wcm9wZXJ0eTsKLQogCS8qKgog
CSAqIEBjb2xvcnNwYWNlX3Byb3BlcnR5OiBDb25uZWN0b3IgcHJvcGVydHkgdG8gc2V0IHRoZSBz
dWl0YWJsZQogCSAqIGNvbG9yc3BhY2Ugc3VwcG9ydGVkIGJ5IHRoZSBzaW5rLgpkaWZmIC0tZ2l0
IGEvaW5jbHVkZS9kcm0vZHJtX21vZGVfY29uZmlnLmggYi9pbmNsdWRlL2RybS9kcm1fbW9kZV9j
b25maWcuaAppbmRleCA3ZjYwZThlYjI2OWEuLjU3NjRlZTNjNzQ1MyAxMDA2NDQKLS0tIGEvaW5j
bHVkZS9kcm0vZHJtX21vZGVfY29uZmlnLmgKKysrIGIvaW5jbHVkZS9kcm0vZHJtX21vZGVfY29u
ZmlnLmgKQEAgLTgzNiw2ICs4MzYsMTIgQEAgc3RydWN0IGRybV9tb2RlX2NvbmZpZyB7CiAJICov
CiAJc3RydWN0IGRybV9wcm9wZXJ0eSAqd3JpdGViYWNrX291dF9mZW5jZV9wdHJfcHJvcGVydHk7
CiAKKwkvKioKKwkgKiBAY29udGVudF9wcm90ZWN0aW9uX3Byb3BlcnR5OiBEUk0gRU5VTSBwcm9w
ZXJ0eSBmb3IgY29udGVudAorCSAqIHByb3RlY3Rpb24uIFNlZSBkcm1fY29ubmVjdG9yX2F0dGFj
aF9jb250ZW50X3Byb3RlY3Rpb25fcHJvcGVydHkoKS4KKwkgKi8KKwlzdHJ1Y3QgZHJtX3Byb3Bl
cnR5ICpjb250ZW50X3Byb3RlY3Rpb25fcHJvcGVydHk7CisKIAkvKiBkdW1iIGlvY3RsIHBhcmFt
ZXRlcnMgKi8KIAl1aW50MzJfdCBwcmVmZXJyZWRfZGVwdGgsIHByZWZlcl9zaGFkb3c7CiAKLS0g
CjIuMTkuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18K
ZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0
dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
