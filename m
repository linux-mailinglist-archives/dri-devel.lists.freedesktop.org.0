Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id B9E944BAB6
	for <lists+dri-devel@lfdr.de>; Wed, 19 Jun 2019 16:05:57 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 4B6116E40E;
	Wed, 19 Jun 2019 14:05:55 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-lf1-x143.google.com (mail-lf1-x143.google.com
 [IPv6:2a00:1450:4864:20::143])
 by gabe.freedesktop.org (Postfix) with ESMTPS id EF48D6E40E
 for <dri-devel@lists.freedesktop.org>; Wed, 19 Jun 2019 14:05:52 +0000 (UTC)
Received: by mail-lf1-x143.google.com with SMTP id y198so12253063lfa.1
 for <dri-devel@lists.freedesktop.org>; Wed, 19 Jun 2019 07:05:52 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=miF6KLe+JTMy9V+W6+TCgEtvMujexPbxoJdln4ucJ00=;
 b=TRc4Ozq172kJQQ6mfK3GqVopiy1V6DyuGnxBAQK8CRW2bm8CqnS+TAo6euNqgBQX8c
 DtF82O8bEVDBhkkzZtG22BJuhxBU1AXvA2+lJFNSe0K3ehyQ/dHflbpGP9DyJ+szY8AF
 5O9/etpRj6lrzS1deW8f74ueZ0p3agMsNT8jxUSGBsVTb53++s1SV4XjECKJxfaD1j8r
 Pr1nCTIt1/HfETKfcjOvfIXpdW9rNnA7mDHUXYkK1FnkD87yUs2O89Keel2msewmuPVV
 vehKqpY6PTv0xDQ9K99HW1sMpQwsidv2nVhe3PTDU2ZOnK/Zr2braxWhhy4TyicZKntE
 AHHw==
X-Gm-Message-State: APjAAAWuFf/BYiikDVAX54BDAFd0ikWqwWxqgylKUAvbGeJtSGXh9LlC
 /gPCBOR9k8PzyBAjfj3npLtTp95+JXhhLeB8gwI=
X-Google-Smtp-Source: APXvYqxhxMJfV8ig3p/kP+Si8Pi0F7lz1Rn7V5EXkaUsqp3waFJE/b90lmSb3FZs2/Oh61IOwKK8Nrd7T+OggnWC4B0=
X-Received: by 2002:a19:5046:: with SMTP id z6mr14358463lfj.185.1560953151192; 
 Wed, 19 Jun 2019 07:05:51 -0700 (PDT)
MIME-Version: 1.0
References: <1560864646-1468-1-git-send-email-robert.chiras@nxp.com>
 <1560864646-1468-3-git-send-email-robert.chiras@nxp.com>
In-Reply-To: <1560864646-1468-3-git-send-email-robert.chiras@nxp.com>
From: Fabio Estevam <festevam@gmail.com>
Date: Wed, 19 Jun 2019 11:06:03 -0300
Message-ID: <CAOMZO5B3BRbpAHCAHFvFXDZjPcF+sc=PMwwkntzcBWtRQR+2gQ@mail.gmail.com>
Subject: Re: [PATCH v2 2/2] drm/panel: Add support for Raydium RM67191 panel
 driver
To: Robert Chiras <robert.chiras@nxp.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=miF6KLe+JTMy9V+W6+TCgEtvMujexPbxoJdln4ucJ00=;
 b=Dne5yISqQ7A/ERpghHzAXyPKthyag7DlatsQ4HK3JrmO6lYrY/kn6zFJOnYn0c9kIq
 XGiZU79OnT4wqIUQLa3Gfaz9wDHjKqYgMeyDfbaQzNX8b4p6X0rVk+vjpemSAycDpXJR
 tfi4k8D36LECbg9VqXPSQTRu7MnZX2+TddXFzmHr80JTPaVwm5moi4jJniLNQdhAjFRS
 BR206ko9l6qwicJ5kfxc5PRebpHwqvtfAZggZF1/6Uk04oAbPYVBXQK2+me9iz93aYIT
 KMm3VEGjaEyGPeJzxSAEHsqPm0YWkwXZO+3oqQkGztdYPfPPrN3dlG7Yy2+oxiYQlfIS
 m03w==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Mark Rutland <mark.rutland@arm.com>,
 "open list:OPEN FIRMWARE AND FLATTENED DEVICE TREE BINDINGS"
 <devicetree@vger.kernel.org>, David Airlie <airlied@linux.ie>,
 linux-kernel <linux-kernel@vger.kernel.org>,
 DRI mailing list <dri-devel@lists.freedesktop.org>,
 Rob Herring <robh+dt@kernel.org>, Thierry Reding <thierry.reding@gmail.com>,
 NXP Linux Team <linux-imx@nxp.com>, Sam Ravnborg <sam@ravnborg.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVHVlLCBKdW4gMTgsIDIwMTkgYXQgMTA6MzEgQU0gUm9iZXJ0IENoaXJhcyA8cm9iZXJ0LmNo
aXJhc0BueHAuY29tPiB3cm90ZToKCj4gLS0tIC9kZXYvbnVsbAo+ICsrKyBiL2RyaXZlcnMvZ3B1
L2RybS9wYW5lbC9wYW5lbC1yYXlkaXVtLXJtNjcxOTEuYwo+IEBAIC0wLDAgKzEsNzA5IEBACj4g
Ky8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wCj4gKy8qCj4gKyAqIGkuTVggZHJt
IGRyaXZlciAtIFJheWRpdW0gTUlQSS1EU0kgcGFuZWwgZHJpdmVyCgpQbGVhc2UgcmVtb3ZlIHRo
ZSAiaS5NWCBkcm0gZHJpdmVyIiBhcyB0aGVyZSBpcyBub3RoaW5nIGkuTVggc3BlY2lmaWMKaW4g
dGhpcyBkcml2ZXIuCgoKPiArICoKPiArICogQ29weXJpZ2h0IDIwMTkgTlhQCj4gKyAqLwo+ICsK
PiArI2luY2x1ZGUgPGxpbnV4L2JhY2tsaWdodC5oPgo+ICsjaW5jbHVkZSA8bGludXgvZGVsYXku
aD4KPiArI2luY2x1ZGUgPGxpbnV4L2dwaW8vY29uc3VtZXIuaD4KPiArI2luY2x1ZGUgPGxpbnV4
L21vZHVsZS5oPgo+ICsjaW5jbHVkZSA8bGludXgvb2YuaD4KPiArI2luY2x1ZGUgPGxpbnV4L3Jl
Z3VsYXRvci9jb25zdW1lci5oPgo+ICsKPiArI2luY2x1ZGUgPHZpZGVvL21pcGlfZGlzcGxheS5o
Pgo+ICsjaW5jbHVkZSA8dmlkZW8vb2ZfdmlkZW9tb2RlLmg+Cj4gKyNpbmNsdWRlIDx2aWRlby92
aWRlb21vZGUuaD4KPiArCj4gKyNpbmNsdWRlIDxkcm0vZHJtX2NydGMuaD4KPiArI2luY2x1ZGUg
PGRybS9kcm1fbWlwaV9kc2kuaD4KPiArI2luY2x1ZGUgPGRybS9kcm1fcGFuZWwuaD4KPiArI2lu
Y2x1ZGUgPGRybS9kcm1fcHJpbnQuaD4KPiArCj4gKy8qIFdyaXRlIE1hbnVmYWN0dXJlIENvbW1h
bmQgU2V0IENvbnRyb2wgKi8KPiArI2RlZmluZSBXUk1BVUNDVFIgMHhGRQo+ICsKPiArI2RlZmlu
ZSBDT0xfRk1UXzE2QlBQIDB4NTUKPiArI2RlZmluZSBDT0xfRk1UXzE4QlBQIDB4NjYKPiArI2Rl
ZmluZSBDT0xfRk1UXzI0QlBQIDB4NzcKPiArCj4gKy8qIE1hbnVmYWN0dXJlciBDb21tYW5kIFNl
dCBwYWdlcyAoQ01EMikgKi8KPiArc3RydWN0IGNtZF9zZXRfZW50cnkgewo+ICsgICAgICAgdTgg
Y21kOwo+ICsgICAgICAgdTggcGFyYW07Cj4gK307Cj4gKwo+ICsvKgo+ICsgKiBUaGVyZSBpcyBu
byBkZXNjcmlwdGlvbiBpbiB0aGUgUmVmZXJlbmNlIE1hbnVhbCBhYm91dCB0aGVzZSBjb21tYW5k
cy4KPiArICogV2UgcmVjZWl2ZWQgdGhlbSBmcm9tIHZlbmRvciwgc28ganVzdCB1c2UgdGhlbSBh
cyBpcy4KPiArICovCj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3QgY21kX3NldF9lbnRyeSBtYW51ZmFj
dHVyZXJfY21kX3NldFtdID0gewo+ICsgICAgICAgezB4RkUsIDB4MEJ9LAo+ICsgICAgICAgezB4
MjgsIDB4NDB9LAo+ICsgICAgICAgezB4MjksIDB4NEZ9LAo+ICsgICAgICAgezB4RkUsIDB4MEV9
LAo+ICsgICAgICAgezB4NEIsIDB4MDB9LAo+ICsgICAgICAgezB4NEMsIDB4MEZ9LAo+ICsgICAg
ICAgezB4NEQsIDB4MjB9LAo+ICsgICAgICAgezB4NEUsIDB4NDB9LAo+ICsgICAgICAgezB4NEYs
IDB4NjB9LAo+ICsgICAgICAgezB4NTAsIDB4QTB9LAo+ICsgICAgICAgezB4NTEsIDB4QzB9LAo+
ICsgICAgICAgezB4NTIsIDB4RTB9LAo+ICsgICAgICAgezB4NTMsIDB4RkZ9LAo+ICsgICAgICAg
ezB4RkUsIDB4MER9LAo+ICsgICAgICAgezB4MTgsIDB4MDh9LAo+ICsgICAgICAgezB4NDIsIDB4
MDB9LAo+ICsgICAgICAgezB4MDgsIDB4NDF9LAo+ICsgICAgICAgezB4NDYsIDB4MDJ9LAo+ICsg
ICAgICAgezB4NzIsIDB4MDl9LAo+ICsgICAgICAgezB4RkUsIDB4MEF9LAo+ICsgICAgICAgezB4
MjQsIDB4MTd9LAo+ICsgICAgICAgezB4MDQsIDB4MDd9LAo+ICsgICAgICAgezB4MUEsIDB4MEN9
LAo+ICsgICAgICAgezB4MEYsIDB4NDR9LAo+ICsgICAgICAgezB4RkUsIDB4MDR9LAo+ICsgICAg
ICAgezB4MDAsIDB4MEN9LAo+ICsgICAgICAgezB4MDUsIDB4MDh9LAo+ICsgICAgICAgezB4MDYs
IDB4MDh9LAo+ICsgICAgICAgezB4MDgsIDB4MDh9LAo+ICsgICAgICAgezB4MDksIDB4MDh9LAo+
ICsgICAgICAgezB4MEEsIDB4RTZ9LAo+ICsgICAgICAgezB4MEIsIDB4OEN9LAo+ICsgICAgICAg
ezB4MUEsIDB4MTJ9LAo+ICsgICAgICAgezB4MUUsIDB4RTB9LAo+ICsgICAgICAgezB4MjksIDB4
OTN9LAo+ICsgICAgICAgezB4MkEsIDB4OTN9LAo+ICsgICAgICAgezB4MkYsIDB4MDJ9LAo+ICsg
ICAgICAgezB4MzEsIDB4MDJ9LAo+ICsgICAgICAgezB4MzMsIDB4MDV9LAo+ICsgICAgICAgezB4
MzcsIDB4MkR9LAo+ICsgICAgICAgezB4MzgsIDB4MkR9LAo+ICsgICAgICAgezB4M0EsIDB4MUV9
LAo+ICsgICAgICAgezB4M0IsIDB4MUV9LAo+ICsgICAgICAgezB4M0QsIDB4Mjd9LAo+ICsgICAg
ICAgezB4M0YsIDB4ODB9LAo+ICsgICAgICAgezB4NDAsIDB4NDB9LAo+ICsgICAgICAgezB4NDEs
IDB4RTB9LAo+ICsgICAgICAgezB4NEYsIDB4MkZ9LAo+ICsgICAgICAgezB4NTAsIDB4MUV9LAo+
ICsgICAgICAgezB4RkUsIDB4MDZ9LAo+ICsgICAgICAgezB4MDAsIDB4Q0N9LAo+ICsgICAgICAg
ezB4MDUsIDB4MDV9LAo+ICsgICAgICAgezB4MDcsIDB4QTJ9LAo+ICsgICAgICAgezB4MDgsIDB4
Q0N9LAo+ICsgICAgICAgezB4MEQsIDB4MDN9LAo+ICsgICAgICAgezB4MEYsIDB4QTJ9LAo+ICsg
ICAgICAgezB4MzIsIDB4Q0N9LAo+ICsgICAgICAgezB4MzcsIDB4MDV9LAo+ICsgICAgICAgezB4
MzksIDB4ODN9LAo+ICsgICAgICAgezB4M0EsIDB4Q0N9LAo+ICsgICAgICAgezB4NDEsIDB4MDR9
LAo+ICsgICAgICAgezB4NDMsIDB4ODN9LAo+ICsgICAgICAgezB4NDQsIDB4Q0N9LAo+ICsgICAg
ICAgezB4NDksIDB4MDV9LAo+ICsgICAgICAgezB4NEIsIDB4QTJ9LAo+ICsgICAgICAgezB4NEMs
IDB4Q0N9LAo+ICsgICAgICAgezB4NTEsIDB4MDN9LAo+ICsgICAgICAgezB4NTMsIDB4QTJ9LAo+
ICsgICAgICAgezB4NzUsIDB4Q0N9LAo+ICsgICAgICAgezB4N0EsIDB4MDN9LAo+ICsgICAgICAg
ezB4N0MsIDB4ODN9LAo+ICsgICAgICAgezB4N0QsIDB4Q0N9LAo+ICsgICAgICAgezB4ODIsIDB4
MDJ9LAo+ICsgICAgICAgezB4ODQsIDB4ODN9LAo+ICsgICAgICAgezB4ODUsIDB4RUN9LAo+ICsg
ICAgICAgezB4ODYsIDB4MEZ9LAo+ICsgICAgICAgezB4ODcsIDB4RkZ9LAo+ICsgICAgICAgezB4
ODgsIDB4MDB9LAo+ICsgICAgICAgezB4OEEsIDB4MDJ9LAo+ICsgICAgICAgezB4OEMsIDB4QTJ9
LAo+ICsgICAgICAgezB4OEQsIDB4RUF9LAo+ICsgICAgICAgezB4OEUsIDB4MDF9LAo+ICsgICAg
ICAgezB4OEYsIDB4RTh9LAo+ICsgICAgICAgezB4RkUsIDB4MDZ9LAo+ICsgICAgICAgezB4OTAs
IDB4MEF9LAo+ICsgICAgICAgezB4OTIsIDB4MDZ9LAo+ICsgICAgICAgezB4OTMsIDB4QTB9LAo+
ICsgICAgICAgezB4OTQsIDB4QTh9LAo+ICsgICAgICAgezB4OTUsIDB4RUN9LAo+ICsgICAgICAg
ezB4OTYsIDB4MEZ9LAo+ICsgICAgICAgezB4OTcsIDB4RkZ9LAo+ICsgICAgICAgezB4OTgsIDB4
MDB9LAo+ICsgICAgICAgezB4OUEsIDB4MDJ9LAo+ICsgICAgICAgezB4OUMsIDB4QTJ9LAo+ICsg
ICAgICAgezB4QUMsIDB4MDR9LAo+ICsgICAgICAgezB4RkUsIDB4MDZ9LAo+ICsgICAgICAgezB4
QjEsIDB4MTJ9LAo+ICsgICAgICAgezB4QjIsIDB4MTd9LAo+ICsgICAgICAgezB4QjMsIDB4MTd9
LAo+ICsgICAgICAgezB4QjQsIDB4MTd9LAo+ICsgICAgICAgezB4QjUsIDB4MTd9LAo+ICsgICAg
ICAgezB4QjYsIDB4MTF9LAo+ICsgICAgICAgezB4QjcsIDB4MDh9LAo+ICsgICAgICAgezB4Qjgs
IDB4MDl9LAo+ICsgICAgICAgezB4QjksIDB4MDZ9LAo+ICsgICAgICAgezB4QkEsIDB4MDd9LAo+
ICsgICAgICAgezB4QkIsIDB4MTd9LAo+ICsgICAgICAgezB4QkMsIDB4MTd9LAo+ICsgICAgICAg
ezB4QkQsIDB4MTd9LAo+ICsgICAgICAgezB4QkUsIDB4MTd9LAo+ICsgICAgICAgezB4QkYsIDB4
MTd9LAo+ICsgICAgICAgezB4QzAsIDB4MTd9LAo+ICsgICAgICAgezB4QzEsIDB4MTd9LAo+ICsg
ICAgICAgezB4QzIsIDB4MTd9LAo+ICsgICAgICAgezB4QzMsIDB4MTd9LAo+ICsgICAgICAgezB4
QzQsIDB4MEZ9LAo+ICsgICAgICAgezB4QzUsIDB4MEV9LAo+ICsgICAgICAgezB4QzYsIDB4MDB9
LAo+ICsgICAgICAgezB4QzcsIDB4MDF9LAo+ICsgICAgICAgezB4QzgsIDB4MTB9LAo+ICsgICAg
ICAgezB4RkUsIDB4MDZ9LAo+ICsgICAgICAgezB4OTUsIDB4RUN9LAo+ICsgICAgICAgezB4OEQs
IDB4RUV9LAo+ICsgICAgICAgezB4NDQsIDB4RUN9LAo+ICsgICAgICAgezB4NEMsIDB4RUN9LAo+
ICsgICAgICAgezB4MzIsIDB4RUN9LAo+ICsgICAgICAgezB4M0EsIDB4RUN9LAo+ICsgICAgICAg
ezB4N0QsIDB4RUN9LAo+ICsgICAgICAgezB4NzUsIDB4RUN9LAo+ICsgICAgICAgezB4MDAsIDB4
RUN9LAo+ICsgICAgICAgezB4MDgsIDB4RUN9LAo+ICsgICAgICAgezB4ODUsIDB4RUN9LAo+ICsg
ICAgICAgezB4QTYsIDB4MjF9LAo+ICsgICAgICAgezB4QTcsIDB4MDV9LAo+ICsgICAgICAgezB4
QTksIDB4MDZ9LAo+ICsgICAgICAgezB4ODIsIDB4MDZ9LAo+ICsgICAgICAgezB4NDEsIDB4MDZ9
LAo+ICsgICAgICAgezB4N0EsIDB4MDd9LAo+ICsgICAgICAgezB4MzcsIDB4MDd9LAo+ICsgICAg
ICAgezB4MDUsIDB4MDZ9LAo+ICsgICAgICAgezB4NDksIDB4MDZ9LAo+ICsgICAgICAgezB4MEQs
IDB4MDR9LAo+ICsgICAgICAgezB4NTEsIDB4MDR9LAo+ICt9Owo+ICsKPiArc3RhdGljIGNvbnN0
IHUzMiByYWRfYnVzX2Zvcm1hdHNbXSA9IHsKPiArICAgICAgIE1FRElBX0JVU19GTVRfUkdCODg4
XzFYMjQsCj4gKyAgICAgICBNRURJQV9CVVNfRk1UX1JHQjY2Nl8xWDE4LAo+ICsgICAgICAgTUVE
SUFfQlVTX0ZNVF9SR0I1NjVfMVgxNiwKPiArfTsKPiArCj4gK3N0cnVjdCByYWRfcGFuZWwgewo+
ICsgICAgICAgc3RydWN0IGRybV9wYW5lbCBwYW5lbDsKPiArICAgICAgIHN0cnVjdCBtaXBpX2Rz
aV9kZXZpY2UgKmRzaTsKPiArCj4gKyAgICAgICBzdHJ1Y3QgZ3Bpb19kZXNjICpyZXNldDsKPiAr
ICAgICAgIHN0cnVjdCBiYWNrbGlnaHRfZGV2aWNlICpiYWNrbGlnaHQ7Cj4gKwo+ICsgICAgICAg
Ym9vbCBwcmVwYXJlZDsKPiArICAgICAgIGJvb2wgZW5hYmxlZDsKPiArCj4gKyAgICAgICBzdHJ1
Y3QgdmlkZW9tb2RlIHZtOwo+ICsgICAgICAgdTMyIHdpZHRoX21tOwo+ICsgICAgICAgdTMyIGhl
aWdodF9tbTsKPiArfTsKPiArCj4gK3N0YXRpYyBpbmxpbmUgc3RydWN0IHJhZF9wYW5lbCAqdG9f
cmFkX3BhbmVsKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQo+ICt7Cj4gKyAgICAgICByZXR1cm4g
Y29udGFpbmVyX29mKHBhbmVsLCBzdHJ1Y3QgcmFkX3BhbmVsLCBwYW5lbCk7Cj4gK30KPiArCj4g
K3N0YXRpYyBpbnQgcmFkX3BhbmVsX3B1c2hfY21kX2xpc3Qoc3RydWN0IG1pcGlfZHNpX2Rldmlj
ZSAqZHNpKQo+ICt7Cj4gKyAgICAgICBzaXplX3QgaTsKPiArICAgICAgIHNpemVfdCBjb3VudCA9
IEFSUkFZX1NJWkUobWFudWZhY3R1cmVyX2NtZF9zZXQpOwo+ICsgICAgICAgaW50IHJldCA9IDA7
Cj4gKwo+ICsgICAgICAgZm9yIChpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKPiArICAgICAgICAg
ICAgICAgY29uc3Qgc3RydWN0IGNtZF9zZXRfZW50cnkgKmVudHJ5ID0gJm1hbnVmYWN0dXJlcl9j
bWRfc2V0W2ldOwo+ICsgICAgICAgICAgICAgICB1OCBidWZmZXJbMl0gPSB7IGVudHJ5LT5jbWQs
IGVudHJ5LT5wYXJhbSB9Owo+ICsKPiArICAgICAgICAgICAgICAgcmV0ID0gbWlwaV9kc2lfZ2Vu
ZXJpY193cml0ZShkc2ksICZidWZmZXIsIHNpemVvZihidWZmZXIpKTsKPiArICAgICAgICAgICAg
ICAgaWYgKHJldCA8IDApCj4gKyAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiAr
ICAgICAgIH0KPiArCj4gKyAgICAgICByZXR1cm4gcmV0Owo+ICt9Owo+ICsKPiArc3RhdGljIGlu
dCBjb2xvcl9mb3JtYXRfZnJvbV9kc2lfZm9ybWF0KGVudW0gbWlwaV9kc2lfcGl4ZWxfZm9ybWF0
IGZvcm1hdCkKPiArewo+ICsgICAgICAgc3dpdGNoIChmb3JtYXQpIHsKPiArICAgICAgIGNhc2Ug
TUlQSV9EU0lfRk1UX1JHQjU2NToKPiArICAgICAgICAgICAgICAgcmV0dXJuIENPTF9GTVRfMTZC
UFA7Cj4gKyAgICAgICBjYXNlIE1JUElfRFNJX0ZNVF9SR0I2NjY6Cj4gKyAgICAgICBjYXNlIE1J
UElfRFNJX0ZNVF9SR0I2NjZfUEFDS0VEOgo+ICsgICAgICAgICAgICAgICByZXR1cm4gQ09MX0ZN
VF8xOEJQUDsKPiArICAgICAgIGNhc2UgTUlQSV9EU0lfRk1UX1JHQjg4ODoKPiArICAgICAgICAg
ICAgICAgcmV0dXJuIENPTF9GTVRfMjRCUFA7Cj4gKyAgICAgICBkZWZhdWx0Ogo+ICsgICAgICAg
ICAgICAgICByZXR1cm4gQ09MX0ZNVF8yNEJQUDsgLyogZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxp
dHkgKi8KPiArICAgICAgIH0KPiArfTsKPiArCj4gK3N0YXRpYyBpbnQgcmFkX3BhbmVsX3ByZXBh
cmUoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCj4gK3sKPiArICAgICAgIHN0cnVjdCByYWRfcGFu
ZWwgKnJhZCA9IHRvX3JhZF9wYW5lbChwYW5lbCk7Cj4gKwo+ICsgICAgICAgaWYgKHJhZC0+cHJl
cGFyZWQpCj4gKyAgICAgICAgICAgICAgIHJldHVybiAwOwo+ICsKPiArICAgICAgIGlmIChyYWQt
PnJlc2V0KSB7Cj4gKyAgICAgICAgICAgICAgIGdwaW9kX3NldF92YWx1ZV9jYW5zbGVlcChyYWQt
PnJlc2V0LCAxKTsKPiArICAgICAgICAgICAgICAgdXNsZWVwX3JhbmdlKDMwMDAsIDUwMDApOwo+
ICsgICAgICAgICAgICAgICBncGlvZF9zZXRfdmFsdWVfY2Fuc2xlZXAocmFkLT5yZXNldCwgMCk7
Cj4gKyAgICAgICAgICAgICAgIHVzbGVlcF9yYW5nZSgxODAwMCwgMjAwMDApOwo+ICsgICAgICAg
fQo+ICsKPiArICAgICAgIHJhZC0+cHJlcGFyZWQgPSB0cnVlOwo+ICsKPiArICAgICAgIHJldHVy
biAwOwo+ICt9Cj4gKwo+ICtzdGF0aWMgaW50IHJhZF9wYW5lbF91bnByZXBhcmUoc3RydWN0IGRy
bV9wYW5lbCAqcGFuZWwpCj4gK3sKPiArICAgICAgIHN0cnVjdCByYWRfcGFuZWwgKnJhZCA9IHRv
X3JhZF9wYW5lbChwYW5lbCk7Cj4gKwo+ICsgICAgICAgaWYgKCFyYWQtPnByZXBhcmVkKQo+ICsg
ICAgICAgICAgICAgICByZXR1cm4gMDsKPiArCj4gKyAgICAgICBpZiAocmFkLT5yZXNldCkgewo+
ICsgICAgICAgICAgICAgICBncGlvZF9zZXRfdmFsdWVfY2Fuc2xlZXAocmFkLT5yZXNldCwgMSk7
Cj4gKyAgICAgICAgICAgICAgIHVzbGVlcF9yYW5nZSgxNTAwMCwgMTcwMDApOwo+ICsgICAgICAg
ICAgICAgICBncGlvZF9zZXRfdmFsdWVfY2Fuc2xlZXAocmFkLT5yZXNldCwgMCk7Cj4gKyAgICAg
ICB9Cj4gKwo+ICsgICAgICAgcmFkLT5wcmVwYXJlZCA9IGZhbHNlOwo+ICsKPiArICAgICAgIHJl
dHVybiAwOwo+ICt9Cj4gKwo+ICtzdGF0aWMgaW50IHJhZF9wYW5lbF9lbmFibGUoc3RydWN0IGRy
bV9wYW5lbCAqcGFuZWwpCj4gK3sKPiArICAgICAgIHN0cnVjdCByYWRfcGFuZWwgKnJhZCA9IHRv
X3JhZF9wYW5lbChwYW5lbCk7Cj4gKyAgICAgICBzdHJ1Y3QgbWlwaV9kc2lfZGV2aWNlICpkc2kg
PSByYWQtPmRzaTsKPiArICAgICAgIHN0cnVjdCBkZXZpY2UgKmRldiA9ICZkc2ktPmRldjsKPiAr
ICAgICAgIGludCBjb2xvcl9mb3JtYXQgPSBjb2xvcl9mb3JtYXRfZnJvbV9kc2lfZm9ybWF0KGRz
aS0+Zm9ybWF0KTsKPiArICAgICAgIGludCByZXQ7Cj4gKwo+ICsgICAgICAgaWYgKHJhZC0+ZW5h
YmxlZCkKPiArICAgICAgICAgICAgICAgcmV0dXJuIDA7Cj4gKwo+ICsgICAgICAgZHNpLT5tb2Rl
X2ZsYWdzIHw9IE1JUElfRFNJX01PREVfTFBNOwo+ICsKPiArICAgICAgIHJldCA9IHJhZF9wYW5l
bF9wdXNoX2NtZF9saXN0KGRzaSk7Cj4gKyAgICAgICBpZiAocmV0IDwgMCkgewo+ICsgICAgICAg
ICAgICAgICBEUk1fREVWX0VSUk9SKGRldiwgIkZhaWxlZCB0byBzZW5kIE1DUyAoJWQpXG4iLCBy
ZXQpOwo+ICsgICAgICAgICAgICAgICBnb3RvIGZhaWw7Cj4gKyAgICAgICB9Cj4gKwo+ICsgICAg
ICAgLyogU2VsZWN0IFVzZXIgQ29tbWFuZCBTZXQgdGFibGUgKENNRDEpICovCj4gKyAgICAgICBy
ZXQgPSBtaXBpX2RzaV9nZW5lcmljX3dyaXRlKGRzaSwgKHU4W10peyBXUk1BVUNDVFIsIDB4MDAg
fSwgMik7Cj4gKyAgICAgICBpZiAocmV0IDwgMCkKPiArICAgICAgICAgICAgICAgZ290byBmYWls
Owo+ICsKPiArICAgICAgIC8qIFNvZnR3YXJlIHJlc2V0ICovCj4gKyAgICAgICByZXQgPSBtaXBp
X2RzaV9kY3Nfc29mdF9yZXNldChkc2kpOwo+ICsgICAgICAgaWYgKHJldCA8IDApIHsKPiArICAg
ICAgICAgICAgICAgRFJNX0RFVl9FUlJPUihkZXYsICJGYWlsZWQgdG8gZG8gU29mdHdhcmUgUmVz
ZXQgKCVkKVxuIiwgcmV0KTsKPiArICAgICAgICAgICAgICAgZ290byBmYWlsOwo+ICsgICAgICAg
fQo+ICsKPiArICAgICAgIHVzbGVlcF9yYW5nZSgxNTAwMCwgMTcwMDApOwo+ICsKPiArICAgICAg
IC8qIFNldCBEU0kgbW9kZSAqLwo+ICsgICAgICAgcmV0ID0gbWlwaV9kc2lfZ2VuZXJpY193cml0
ZShkc2ksICh1OFtdKXsgMHhDMiwgMHgwQiB9LCAyKTsKPiArICAgICAgIGlmIChyZXQgPCAwKSB7
Cj4gKyAgICAgICAgICAgICAgIERSTV9ERVZfRVJST1IoZGV2LCAiRmFpbGVkIHRvIHNldCBEU0kg
bW9kZSAoJWQpXG4iLCByZXQpOwo+ICsgICAgICAgICAgICAgICBnb3RvIGZhaWw7Cj4gKyAgICAg
ICB9Cj4gKyAgICAgICAvKiBTZXQgdGVhciBPTiAqLwo+ICsgICAgICAgcmV0ID0gbWlwaV9kc2lf
ZGNzX3NldF90ZWFyX29uKGRzaSwgTUlQSV9EU0lfRENTX1RFQVJfTU9ERV9WQkxBTkspOwo+ICsg
ICAgICAgaWYgKHJldCA8IDApIHsKPiArICAgICAgICAgICAgICAgRFJNX0RFVl9FUlJPUihkZXYs
ICJGYWlsZWQgdG8gc2V0IHRlYXIgT04gKCVkKVxuIiwgcmV0KTsKPiArICAgICAgICAgICAgICAg
Z290byBmYWlsOwo+ICsgICAgICAgfQo+ICsgICAgICAgLyogU2V0IHRlYXIgc2NhbmxpbmUgKi8K
PiArICAgICAgIHJldCA9IG1pcGlfZHNpX2Rjc19zZXRfdGVhcl9zY2FubGluZShkc2ksIDB4Mzgw
KTsKPiArICAgICAgIGlmIChyZXQgPCAwKSB7Cj4gKyAgICAgICAgICAgICAgIERSTV9ERVZfRVJS
T1IoZGV2LCAiRmFpbGVkIHRvIHNldCB0ZWFyIHNjYW5saW5lICglZClcbiIsIHJldCk7Cj4gKyAg
ICAgICAgICAgICAgIGdvdG8gZmFpbDsKPiArICAgICAgIH0KPiArICAgICAgIC8qIFNldCBwaXhl
bCBmb3JtYXQgKi8KPiArICAgICAgIHJldCA9IG1pcGlfZHNpX2Rjc19zZXRfcGl4ZWxfZm9ybWF0
KGRzaSwgY29sb3JfZm9ybWF0KTsKPiArICAgICAgIERSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwg
IkludGVyZmFjZSBjb2xvciBmb3JtYXQgc2V0IHRvIDB4JXhcbiIsCj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBjb2xvcl9mb3JtYXQpOwo+ICsgICAgICAgaWYgKHJldCA8IDApIHsKPiAr
ICAgICAgICAgICAgICAgRFJNX0RFVl9FUlJPUihkZXYsICJGYWlsZWQgdG8gc2V0IHBpeGVsIGZv
cm1hdCAoJWQpXG4iLCByZXQpOwo+ICsgICAgICAgICAgICAgICBnb3RvIGZhaWw7Cj4gKyAgICAg
ICB9Cj4gKyAgICAgICAvKiBFeGl0IHNsZWVwIG1vZGUgKi8KPiArICAgICAgIHJldCA9IG1pcGlf
ZHNpX2Rjc19leGl0X3NsZWVwX21vZGUoZHNpKTsKPiArICAgICAgIGlmIChyZXQgPCAwKSB7Cj4g
KyAgICAgICAgICAgICAgIERSTV9ERVZfRVJST1IoZGV2LCAiRmFpbGVkIHRvIGV4aXQgc2xlZXAg
bW9kZSAoJWQpXG4iLCByZXQpOwo+ICsgICAgICAgICAgICAgICBnb3RvIGZhaWw7Cj4gKyAgICAg
ICB9Cj4gKwo+ICsgICAgICAgdXNsZWVwX3JhbmdlKDUwMDAsIDcwMDApOwo+ICsKPiArICAgICAg
IHJldCA9IG1pcGlfZHNpX2Rjc19zZXRfZGlzcGxheV9vbihkc2kpOwo+ICsgICAgICAgaWYgKHJl
dCA8IDApIHsKPiArICAgICAgICAgICAgICAgRFJNX0RFVl9FUlJPUihkZXYsICJGYWlsZWQgdG8g
c2V0IGRpc3BsYXkgT04gKCVkKVxuIiwgcmV0KTsKPiArICAgICAgICAgICAgICAgZ290byBmYWls
Owo+ICsgICAgICAgfQo+ICsKPiArICAgICAgIGJhY2tsaWdodF9lbmFibGUocmFkLT5iYWNrbGln
aHQpOwo+ICsKPiArICAgICAgIHJhZC0+ZW5hYmxlZCA9IHRydWU7Cj4gKwo+ICsgICAgICAgcmV0
dXJuIDA7Cj4gKwo+ICtmYWlsOgo+ICsgICAgICAgaWYgKHJhZC0+cmVzZXQpCj4gKyAgICAgICAg
ICAgICAgIGdwaW9kX3NldF92YWx1ZV9jYW5zbGVlcChyYWQtPnJlc2V0LCAxKTsKPiArCj4gKyAg
ICAgICByZXR1cm4gcmV0Owo+ICt9Cj4gKwo+ICtzdGF0aWMgaW50IHJhZF9wYW5lbF9kaXNhYmxl
KHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQo+ICt7Cj4gKyAgICAgICBzdHJ1Y3QgcmFkX3BhbmVs
ICpyYWQgPSB0b19yYWRfcGFuZWwocGFuZWwpOwo+ICsgICAgICAgc3RydWN0IG1pcGlfZHNpX2Rl
dmljZSAqZHNpID0gcmFkLT5kc2k7Cj4gKyAgICAgICBzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmZHNp
LT5kZXY7Cj4gKyAgICAgICBpbnQgcmV0Owo+ICsKPiArICAgICAgIGlmICghcmFkLT5lbmFibGVk
KQo+ICsgICAgICAgICAgICAgICByZXR1cm4gMDsKPiArCj4gKyAgICAgICBkc2ktPm1vZGVfZmxh
Z3MgfD0gTUlQSV9EU0lfTU9ERV9MUE07Cj4gKwo+ICsgICAgICAgYmFja2xpZ2h0X2Rpc2FibGUo
cmFkLT5iYWNrbGlnaHQpOwo+ICsKPiArICAgICAgIHVzbGVlcF9yYW5nZSgxMDAwMCwgMTIwMDAp
Owo+ICsKPiArICAgICAgIHJldCA9IG1pcGlfZHNpX2Rjc19zZXRfZGlzcGxheV9vZmYoZHNpKTsK
PiArICAgICAgIGlmIChyZXQgPCAwKSB7Cj4gKyAgICAgICAgICAgICAgIERSTV9ERVZfRVJST1Io
ZGV2LCAiRmFpbGVkIHRvIHNldCBkaXNwbGF5IE9GRiAoJWQpXG4iLCByZXQpOwo+ICsgICAgICAg
ICAgICAgICByZXR1cm4gcmV0Owo+ICsgICAgICAgfQo+ICsKPiArICAgICAgIHVzbGVlcF9yYW5n
ZSg1MDAwLCAxMDAwMCk7Cj4gKwo+ICsgICAgICAgcmV0ID0gbWlwaV9kc2lfZGNzX2VudGVyX3Ns
ZWVwX21vZGUoZHNpKTsKPiArICAgICAgIGlmIChyZXQgPCAwKSB7Cj4gKyAgICAgICAgICAgICAg
IERSTV9ERVZfRVJST1IoZGV2LCAiRmFpbGVkIHRvIGVudGVyIHNsZWVwIG1vZGUgKCVkKVxuIiwg
cmV0KTsKPiArICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiArICAgICAgIH0KPiArCj4gKyAg
ICAgICByYWQtPmVuYWJsZWQgPSBmYWxzZTsKPiArCj4gKyAgICAgICByZXR1cm4gMDsKPiArfQo+
ICsKPiArc3RhdGljIGludCByYWRfcGFuZWxfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBh
bmVsKQo+ICt7Cj4gKyAgICAgICBzdHJ1Y3QgcmFkX3BhbmVsICpyYWQgPSB0b19yYWRfcGFuZWwo
cGFuZWwpOwo+ICsgICAgICAgc3RydWN0IGRldmljZSAqZGV2ID0gJnJhZC0+ZHNpLT5kZXY7Cj4g
KyAgICAgICBzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yID0gcGFuZWwtPmNvbm5lY3Rv
cjsKPiArICAgICAgIHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwo+ICsgICAgICAgdTMy
ICpidXNfZmxhZ3MgPSAmY29ubmVjdG9yLT5kaXNwbGF5X2luZm8uYnVzX2ZsYWdzOwo+ICsgICAg
ICAgaW50IHJldDsKPiArCj4gKyAgICAgICBtb2RlID0gZHJtX21vZGVfY3JlYXRlKGNvbm5lY3Rv
ci0+ZGV2KTsKPiArICAgICAgIGlmICghbW9kZSkgewo+ICsgICAgICAgICAgICAgICBEUk1fREVW
X0VSUk9SKGRldiwgIkZhaWxlZCB0byBjcmVhdGUgZGlzcGxheSBtb2RlIVxuIik7Cj4gKyAgICAg
ICAgICAgICAgIHJldHVybiAwOwo+ICsgICAgICAgfQo+ICsKPiArICAgICAgIGRybV9kaXNwbGF5
X21vZGVfZnJvbV92aWRlb21vZGUoJnJhZC0+dm0sIG1vZGUpOwo+ICsgICAgICAgbW9kZS0+d2lk
dGhfbW0gPSByYWQtPndpZHRoX21tOwo+ICsgICAgICAgbW9kZS0+aGVpZ2h0X21tID0gcmFkLT5o
ZWlnaHRfbW07Cj4gKyAgICAgICBjb25uZWN0b3ItPmRpc3BsYXlfaW5mby53aWR0aF9tbSA9IHJh
ZC0+d2lkdGhfbW07Cj4gKyAgICAgICBjb25uZWN0b3ItPmRpc3BsYXlfaW5mby5oZWlnaHRfbW0g
PSByYWQtPmhlaWdodF9tbTsKPiArICAgICAgIG1vZGUtPnR5cGUgPSBEUk1fTU9ERV9UWVBFX0RS
SVZFUiB8IERSTV9NT0RFX1RZUEVfUFJFRkVSUkVEOwo+ICsKPiArICAgICAgIGlmIChyYWQtPnZt
LmZsYWdzICYgRElTUExBWV9GTEFHU19ERV9ISUdIKQo+ICsgICAgICAgICAgICAgICAqYnVzX2Zs
YWdzIHw9IERSTV9CVVNfRkxBR19ERV9ISUdIOwo+ICsgICAgICAgaWYgKHJhZC0+dm0uZmxhZ3Mg
JiBESVNQTEFZX0ZMQUdTX0RFX0xPVykKPiArICAgICAgICAgICAgICAgKmJ1c19mbGFncyB8PSBE
Uk1fQlVTX0ZMQUdfREVfTE9XOwo+ICsgICAgICAgaWYgKHJhZC0+dm0uZmxhZ3MgJiBESVNQTEFZ
X0ZMQUdTX1BJWERBVEFfTkVHRURHRSkKPiArICAgICAgICAgICAgICAgKmJ1c19mbGFncyB8PSBE
Uk1fQlVTX0ZMQUdfUElYREFUQV9ORUdFREdFOwo+ICsgICAgICAgaWYgKHJhZC0+dm0uZmxhZ3Mg
JiBESVNQTEFZX0ZMQUdTX1BJWERBVEFfUE9TRURHRSkKPiArICAgICAgICAgICAgICAgKmJ1c19m
bGFncyB8PSBEUk1fQlVTX0ZMQUdfUElYREFUQV9QT1NFREdFOwo+ICsKPiArICAgICAgIHJldCA9
IGRybV9kaXNwbGF5X2luZm9fc2V0X2J1c19mb3JtYXRzKCZjb25uZWN0b3ItPmRpc3BsYXlfaW5m
bywKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhZF9i
dXNfZm9ybWF0cywKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIEFSUkFZX1NJWkUocmFkX2J1c19mb3JtYXRzKSk7Cj4gKyAgICAgICBpZiAocmV0KQo+ICsg
ICAgICAgICAgICAgICByZXR1cm4gcmV0Owo+ICsKPiArICAgICAgIGRybV9tb2RlX3Byb2JlZF9h
ZGQocGFuZWwtPmNvbm5lY3RvciwgbW9kZSk7Cj4gKwo+ICsgICAgICAgcmV0dXJuIDE7Cj4gK30K
PiArCj4gK3N0YXRpYyBpbnQgcmFkX2JsX2dldF9icmlnaHRuZXNzKHN0cnVjdCBiYWNrbGlnaHRf
ZGV2aWNlICpibCkKPiArewo+ICsgICAgICAgc3RydWN0IG1pcGlfZHNpX2RldmljZSAqZHNpID0g
YmxfZ2V0X2RhdGEoYmwpOwo+ICsgICAgICAgc3RydWN0IHJhZF9wYW5lbCAqcmFkID0gbWlwaV9k
c2lfZ2V0X2RydmRhdGEoZHNpKTsKPiArICAgICAgIHN0cnVjdCBkZXZpY2UgKmRldiA9ICZkc2kt
PmRldjsKPiArICAgICAgIHUxNiBicmlnaHRuZXNzOwo+ICsgICAgICAgaW50IHJldDsKPiArCj4g
KyAgICAgICBpZiAoIXJhZC0+cHJlcGFyZWQpCj4gKyAgICAgICAgICAgICAgIHJldHVybiAwOwo+
ICsKPiArICAgICAgIERSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgIlxuIik7Cj4gKwo+ICsgICAg
ICAgZHNpLT5tb2RlX2ZsYWdzICY9IH5NSVBJX0RTSV9NT0RFX0xQTTsKPiArCj4gKyAgICAgICBy
ZXQgPSBtaXBpX2RzaV9kY3NfZ2V0X2Rpc3BsYXlfYnJpZ2h0bmVzcyhkc2ksICZicmlnaHRuZXNz
KTsKPiArICAgICAgIGlmIChyZXQgPCAwKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gcmV0Owo+
ICsKPiArICAgICAgIGJsLT5wcm9wcy5icmlnaHRuZXNzID0gYnJpZ2h0bmVzczsKPiArCj4gKyAg
ICAgICByZXR1cm4gYnJpZ2h0bmVzcyAmIDB4ZmY7Cj4gK30KPiArCj4gK3N0YXRpYyBpbnQgcmFk
X2JsX3VwZGF0ZV9zdGF0dXMoc3RydWN0IGJhY2tsaWdodF9kZXZpY2UgKmJsKQo+ICt7Cj4gKyAg
ICAgICBzdHJ1Y3QgbWlwaV9kc2lfZGV2aWNlICpkc2kgPSBibF9nZXRfZGF0YShibCk7Cj4gKyAg
ICAgICBzdHJ1Y3QgcmFkX3BhbmVsICpyYWQgPSBtaXBpX2RzaV9nZXRfZHJ2ZGF0YShkc2kpOwo+
ICsgICAgICAgc3RydWN0IGRldmljZSAqZGV2ID0gJmRzaS0+ZGV2Owo+ICsgICAgICAgaW50IHJl
dCA9IDA7Cj4gKwo+ICsgICAgICAgaWYgKCFyYWQtPnByZXBhcmVkKQo+ICsgICAgICAgICAgICAg
ICByZXR1cm4gMDsKPiArCj4gKyAgICAgICBEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJOZXcg
YnJpZ2h0bmVzczogJWRcbiIsIGJsLT5wcm9wcy5icmlnaHRuZXNzKTsKPiArCj4gKyAgICAgICBk
c2ktPm1vZGVfZmxhZ3MgJj0gfk1JUElfRFNJX01PREVfTFBNOwo+ICsKPiArICAgICAgIHJldCA9
IG1pcGlfZHNpX2Rjc19zZXRfZGlzcGxheV9icmlnaHRuZXNzKGRzaSwgYmwtPnByb3BzLmJyaWdo
dG5lc3MpOwo+ICsgICAgICAgaWYgKHJldCA8IDApCj4gKyAgICAgICAgICAgICAgIHJldHVybiBy
ZXQ7Cj4gKwo+ICsgICAgICAgcmV0dXJuIDA7Cj4gK30KPiArCj4gK3N0YXRpYyBjb25zdCBzdHJ1
Y3QgYmFja2xpZ2h0X29wcyByYWRfYmxfb3BzID0gewo+ICsgICAgICAgLnVwZGF0ZV9zdGF0dXMg
PSByYWRfYmxfdXBkYXRlX3N0YXR1cywKPiArICAgICAgIC5nZXRfYnJpZ2h0bmVzcyA9IHJhZF9i
bF9nZXRfYnJpZ2h0bmVzcywKPiArfTsKPiArCj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX3Bh
bmVsX2Z1bmNzIHJhZF9wYW5lbF9mdW5jcyA9IHsKPiArICAgICAgIC5wcmVwYXJlID0gcmFkX3Bh
bmVsX3ByZXBhcmUsCj4gKyAgICAgICAudW5wcmVwYXJlID0gcmFkX3BhbmVsX3VucHJlcGFyZSwK
PiArICAgICAgIC5lbmFibGUgPSByYWRfcGFuZWxfZW5hYmxlLAo+ICsgICAgICAgLmRpc2FibGUg
PSByYWRfcGFuZWxfZGlzYWJsZSwKPiArICAgICAgIC5nZXRfbW9kZXMgPSByYWRfcGFuZWxfZ2V0
X21vZGVzLAo+ICt9Owo+ICsKPiArLyoKPiArICogVGhlIGNsb2NrIG1pZ2h0IHJhbmdlIGZyb20g
NjZNSHogKDMwSHogcmVmcmVzaCByYXRlKQo+ICsgKiB0byAxMzJNSHogKDYwSHogcmVmcmVzaCBy
YXRlKQo+ICsgKi8KPiArc3RhdGljIGNvbnN0IHN0cnVjdCBkaXNwbGF5X3RpbWluZyByYWRfZGVm
YXVsdF90aW1pbmcgPSB7Cj4gKyAgICAgICAucGl4ZWxjbG9jayA9IHsgNjYwMDAwMDAsIDEzMjAw
MDAwMCwgMTMyMDAwMDAwIH0sCj4gKyAgICAgICAuaGFjdGl2ZSA9IHsgMTA4MCwgMTA4MCwgMTA4
MCB9LAo+ICsgICAgICAgLmhmcm9udF9wb3JjaCA9IHsgMjAsIDIwLCAyMCB9LAo+ICsgICAgICAg
LmhzeW5jX2xlbiA9IHsgMiwgMiwgMiB9LAo+ICsgICAgICAgLmhiYWNrX3BvcmNoID0geyAzNCwg
MzQsIDM0IH0sCj4gKyAgICAgICAudmFjdGl2ZSA9IHsgMTkyMCwgMTkyMCwgMTkyMCB9LAo+ICsg
ICAgICAgLnZmcm9udF9wb3JjaCA9IHsgMTAsIDEwLCAxMCB9LAo+ICsgICAgICAgLnZzeW5jX2xl
biA9IHsgMiwgMiwgMiB9LAo+ICsgICAgICAgLnZiYWNrX3BvcmNoID0geyA0LCA0LCA0IH0sCj4g
KyAgICAgICAuZmxhZ3MgPSBESVNQTEFZX0ZMQUdTX0hTWU5DX0xPVyB8Cj4gKyAgICAgICAgICAg
ICAgICBESVNQTEFZX0ZMQUdTX1ZTWU5DX0xPVyB8Cj4gKyAgICAgICAgICAgICAgICBESVNQTEFZ
X0ZMQUdTX0RFX0xPVyB8Cj4gKyAgICAgICAgICAgICAgICBESVNQTEFZX0ZMQUdTX1BJWERBVEFf
TkVHRURHRSwKPiArfTsKPiArCj4gK3N0YXRpYyBpbnQgcmFkX3BhbmVsX3Byb2JlKHN0cnVjdCBt
aXBpX2RzaV9kZXZpY2UgKmRzaSkKPiArewo+ICsgICAgICAgc3RydWN0IGRldmljZSAqZGV2ID0g
JmRzaS0+ZGV2Owo+ICsgICAgICAgc3RydWN0IGRldmljZV9ub2RlICpucCA9IGRldi0+b2Zfbm9k
ZTsKPiArICAgICAgIHN0cnVjdCBkZXZpY2Vfbm9kZSAqdGltaW5nczsKPiArICAgICAgIHN0cnVj
dCByYWRfcGFuZWwgKnBhbmVsOwo+ICsgICAgICAgc3RydWN0IGJhY2tsaWdodF9wcm9wZXJ0aWVz
IGJsX3Byb3BzOwo+ICsgICAgICAgaW50IHJldDsKPiArICAgICAgIHUzMiB2aWRlb19tb2RlOwo+
ICsKPiArICAgICAgIHBhbmVsID0gZGV2bV9remFsbG9jKCZkc2ktPmRldiwgc2l6ZW9mKCpwYW5l
bCksIEdGUF9LRVJORUwpOwo+ICsgICAgICAgaWYgKCFwYW5lbCkKPiArICAgICAgICAgICAgICAg
cmV0dXJuIC1FTk9NRU07Cj4gKwo+ICsgICAgICAgbWlwaV9kc2lfc2V0X2RydmRhdGEoZHNpLCBw
YW5lbCk7Cj4gKwo+ICsgICAgICAgcGFuZWwtPmRzaSA9IGRzaTsKPiArCj4gKyAgICAgICBkc2kt
PmZvcm1hdCA9IE1JUElfRFNJX0ZNVF9SR0I4ODg7Cj4gKyAgICAgICBkc2ktPm1vZGVfZmxhZ3Mg
PSAgTUlQSV9EU0lfTU9ERV9WSURFT19IU0UgfCBNSVBJX0RTSV9NT0RFX1ZJREVPIHwKPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICBNSVBJX0RTSV9DTE9DS19OT05fQ09OVElOVU9VUzsKPiAr
Cj4gKyAgICAgICByZXQgPSBvZl9wcm9wZXJ0eV9yZWFkX3UzMihucCwgInZpZGVvLW1vZGUiLCAm
dmlkZW9fbW9kZSk7Cj4gKyAgICAgICBpZiAoIXJldCkgewo+ICsgICAgICAgICAgICAgICBzd2l0
Y2ggKHZpZGVvX21vZGUpIHsKPiArICAgICAgICAgICAgICAgY2FzZSAwOgo+ICsgICAgICAgICAg
ICAgICAgICAgICAgIC8qIGJ1cnN0IG1vZGUgKi8KPiArICAgICAgICAgICAgICAgICAgICAgICBk
c2ktPm1vZGVfZmxhZ3MgfD0gTUlQSV9EU0lfTU9ERV9WSURFT19CVVJTVDsKPiArICAgICAgICAg
ICAgICAgICAgICAgICBicmVhazsKPiArICAgICAgICAgICAgICAgY2FzZSAxOgo+ICsgICAgICAg
ICAgICAgICAgICAgICAgIC8qIG5vbi1idXJzdCBtb2RlIHdpdGggc3luYyBldmVudCAqLwo+ICsg
ICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwo+ICsgICAgICAgICAgICAgICBjYXNlIDI6Cj4g
KyAgICAgICAgICAgICAgICAgICAgICAgLyogbm9uLWJ1cnN0IG1vZGUgd2l0aCBzeW5jIHB1bHNl
ICovCj4gKyAgICAgICAgICAgICAgICAgICAgICAgZHNpLT5tb2RlX2ZsYWdzIHw9IE1JUElfRFNJ
X01PREVfVklERU9fU1lOQ19QVUxTRTsKPiArICAgICAgICAgICAgICAgICAgICAgICBicmVhazsK
PiArICAgICAgICAgICAgICAgZGVmYXVsdDoKPiArICAgICAgICAgICAgICAgICAgICAgICBkZXZf
d2FybihkZXYsICJpbnZhbGlkIHZpZGVvIG1vZGUgJWRcbiIsIHZpZGVvX21vZGUpOwo+ICsgICAg
ICAgICAgICAgICAgICAgICAgIGJyZWFrOwo+ICsgICAgICAgICAgICAgICB9Cj4gKyAgICAgICB9
Cj4gKwo+ICsgICAgICAgcmV0ID0gb2ZfcHJvcGVydHlfcmVhZF91MzIobnAsICJkc2ktbGFuZXMi
LCAmZHNpLT5sYW5lcyk7Cj4gKyAgICAgICBpZiAocmV0IDwgMCkgewo+ICsgICAgICAgICAgICAg
ICBkZXZfZXJyKGRldiwgIkZhaWxlZCB0byBnZXQgZHNpLWxhbmVzIHByb3BlcnR5ICglZClcbiIs
IHJldCk7Cj4gKyAgICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4gKyAgICAgICB9Cj4gKwo+ICsg
ICAgICAgLyoKPiArICAgICAgICAqICdkaXNwbGF5LXRpbWluZ3MnIGlzIG9wdGlvbmFsLCBzbyB2
ZXJpZnkgaWYgdGhlIG5vZGUgaXMgcHJlc2VudAo+ICsgICAgICAgICogYmVmb3JlIGNhbGxpbmcg
b2ZfZ2V0X3ZpZGVvbW9kZSBzbyB3ZSB3b24ndCBnZXQgY29uc29sZSBlcnJvcgo+ICsgICAgICAg
ICogbWVzc2FnZXMKPiArICAgICAgICAqLwo+ICsgICAgICAgdGltaW5ncyA9IG9mX2dldF9jaGls
ZF9ieV9uYW1lKG5wLCAiZGlzcGxheS10aW1pbmdzIik7Cj4gKyAgICAgICBpZiAodGltaW5ncykg
ewo+ICsgICAgICAgICAgICAgICBvZl9ub2RlX3B1dCh0aW1pbmdzKTsKPiArICAgICAgICAgICAg
ICAgcmV0ID0gb2ZfZ2V0X3ZpZGVvbW9kZShucCwgJnBhbmVsLT52bSwgMCk7Cj4gKyAgICAgICB9
IGVsc2Ugewo+ICsgICAgICAgICAgICAgICB2aWRlb21vZGVfZnJvbV90aW1pbmcoJnJhZF9kZWZh
dWx0X3RpbWluZywgJnBhbmVsLT52bSk7Cj4gKyAgICAgICB9Cj4gKyAgICAgICBpZiAocmV0IDwg
MCkKPiArICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiArCj4gKyAgICAgICBvZl9wcm9wZXJ0
eV9yZWFkX3UzMihucCwgIndpZHRoLW1tIiwgJnBhbmVsLT53aWR0aF9tbSk7Cj4gKyAgICAgICBv
Zl9wcm9wZXJ0eV9yZWFkX3UzMihucCwgImhlaWdodC1tbSIsICZwYW5lbC0+aGVpZ2h0X21tKTsK
PiArCj4gKyAgICAgICBwYW5lbC0+cmVzZXQgPSBkZXZtX2dwaW9kX2dldChkZXYsICJyZXNldCIs
IEdQSU9EX09VVF9MT1cpOwo+ICsKPiArICAgICAgIGlmIChJU19FUlIocGFuZWwtPnJlc2V0KSkK
PiArICAgICAgICAgICAgICAgcGFuZWwtPnJlc2V0ID0gTlVMTDsKPiArICAgICAgIGVsc2UKPiAr
ICAgICAgICAgICAgICAgZ3Bpb2Rfc2V0X3ZhbHVlX2NhbnNsZWVwKHBhbmVsLT5yZXNldCwgMSk7
Cj4gKwo+ICsgICAgICAgbWVtc2V0KCZibF9wcm9wcywgMCwgc2l6ZW9mKGJsX3Byb3BzKSk7Cj4g
KyAgICAgICBibF9wcm9wcy50eXBlID0gQkFDS0xJR0hUX1JBVzsKPiArICAgICAgIGJsX3Byb3Bz
LmJyaWdodG5lc3MgPSAyNTU7Cj4gKyAgICAgICBibF9wcm9wcy5tYXhfYnJpZ2h0bmVzcyA9IDI1
NTsKPiArCj4gKyAgICAgICBwYW5lbC0+YmFja2xpZ2h0ID0gZGV2bV9iYWNrbGlnaHRfZGV2aWNl
X3JlZ2lzdGVyKGRldiwgZGV2X25hbWUoZGV2KSwKPiArICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2LCBkc2ksCj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZyYWRfYmxfb3Bz
LAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAmYmxfcHJvcHMpOwo+ICsgICAgICAgaWYgKElTX0VSUihwYW5lbC0+YmFja2xpZ2h0KSkg
ewo+ICsgICAgICAgICAgICAgICByZXQgPSBQVFJfRVJSKHBhbmVsLT5iYWNrbGlnaHQpOwo+ICsg
ICAgICAgICAgICAgICBkZXZfZXJyKGRldiwgIkZhaWxlZCB0byByZWdpc3RlciBiYWNrbGlnaHQg
KCVkKVxuIiwgcmV0KTsKPiArICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiArICAgICAgIH0K
PiArCj4gKyAgICAgICBkcm1fcGFuZWxfaW5pdCgmcGFuZWwtPnBhbmVsKTsKPiArICAgICAgIHBh
bmVsLT5wYW5lbC5mdW5jcyA9ICZyYWRfcGFuZWxfZnVuY3M7Cj4gKyAgICAgICBwYW5lbC0+cGFu
ZWwuZGV2ID0gZGV2Owo+ICsgICAgICAgZGV2X3NldF9kcnZkYXRhKGRldiwgcGFuZWwpOwo+ICsK
PiArICAgICAgIHJldCA9IGRybV9wYW5lbF9hZGQoJnBhbmVsLT5wYW5lbCk7Cj4gKwo+ICsgICAg
ICAgaWYgKHJldCA8IDApCj4gKyAgICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4gKwo+ICsgICAg
ICAgcmV0ID0gbWlwaV9kc2lfYXR0YWNoKGRzaSk7Cj4gKyAgICAgICBpZiAocmV0IDwgMCkKPiAr
ICAgICAgICAgICAgICAgZHJtX3BhbmVsX3JlbW92ZSgmcGFuZWwtPnBhbmVsKTsKPiArCj4gKyAg
ICAgICByZXR1cm4gcmV0Owo+ICt9Cj4gKwo+ICtzdGF0aWMgaW50IHJhZF9wYW5lbF9yZW1vdmUo
c3RydWN0IG1pcGlfZHNpX2RldmljZSAqZHNpKQo+ICt7Cj4gKyAgICAgICBzdHJ1Y3QgcmFkX3Bh
bmVsICpyYWQgPSBtaXBpX2RzaV9nZXRfZHJ2ZGF0YShkc2kpOwo+ICsgICAgICAgc3RydWN0IGRl
dmljZSAqZGV2ID0gJmRzaS0+ZGV2Owo+ICsgICAgICAgaW50IHJldDsKPiArCj4gKyAgICAgICBy
ZXQgPSBtaXBpX2RzaV9kZXRhY2goZHNpKTsKPiArICAgICAgIGlmIChyZXQgPCAwKQo+ICsgICAg
ICAgICAgICAgICBEUk1fREVWX0VSUk9SKGRldiwgIkZhaWxlZCB0byBkZXRhY2ggZnJvbSBob3N0
ICglZClcbiIsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0KTsKPiArCj4gKyAg
ICAgICBkcm1fcGFuZWxfcmVtb3ZlKCZyYWQtPnBhbmVsKTsKPiArCj4gKyAgICAgICByZXR1cm4g
MDsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgcmFkX3BhbmVsX3NodXRkb3duKHN0cnVjdCBtaXBp
X2RzaV9kZXZpY2UgKmRzaSkKPiArewo+ICsgICAgICAgc3RydWN0IHJhZF9wYW5lbCAqcmFkID0g
bWlwaV9kc2lfZ2V0X2RydmRhdGEoZHNpKTsKPiArCj4gKyAgICAgICByYWRfcGFuZWxfZGlzYWJs
ZSgmcmFkLT5wYW5lbCk7Cj4gKyAgICAgICByYWRfcGFuZWxfdW5wcmVwYXJlKCZyYWQtPnBhbmVs
KTsKPiArfQo+ICsKPiArI2lmZGVmIENPTkZJR19QTQo+ICtzdGF0aWMgaW50IHJhZF9wYW5lbF9z
dXNwZW5kKHN0cnVjdCBkZXZpY2UgKmRldikKPiArewo+ICsgICAgICAgc3RydWN0IHJhZF9wYW5l
bCAqcmFkID0gZGV2X2dldF9kcnZkYXRhKGRldik7Cj4gKwo+ICsgICAgICAgaWYgKCFyYWQtPnJl
c2V0KQo+ICsgICAgICAgICAgICAgICByZXR1cm4gMDsKPiArCj4gKyAgICAgICBkZXZtX2dwaW9k
X3B1dChkZXYsIHJhZC0+cmVzZXQpOwo+ICsgICAgICAgcmFkLT5yZXNldCA9IE5VTEw7Cj4gKwo+
ICsgICAgICAgcmV0dXJuIDA7Cj4gK30KPiArCj4gK3N0YXRpYyBpbnQgcmFkX3BhbmVsX3Jlc3Vt
ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCj4gK3sKPiArICAgICAgIHN0cnVjdCByYWRfcGFuZWwgKnJh
ZCA9IGRldl9nZXRfZHJ2ZGF0YShkZXYpOwo+ICsKPiArICAgICAgIGlmIChyYWQtPnJlc2V0KQo+
ICsgICAgICAgICAgICAgICByZXR1cm4gMDsKPiArCj4gKyAgICAgICByYWQtPnJlc2V0ID0gZGV2
bV9ncGlvZF9nZXQoZGV2LCAicmVzZXQiLCBHUElPRF9PVVRfTE9XKTsKPiArICAgICAgIGlmIChJ
U19FUlIocmFkLT5yZXNldCkpCj4gKyAgICAgICAgICAgICAgIHJhZC0+cmVzZXQgPSBOVUxMOwo+
ICsKPiArICAgICAgIHJldHVybiBQVFJfRVJSX09SX1pFUk8ocmFkLT5yZXNldCk7Cj4gK30KPiAr
Cj4gKyNlbmRpZgo+ICsKPiArc3RhdGljIGNvbnN0IHN0cnVjdCBkZXZfcG1fb3BzIHJhZF9wbV9v
cHMgPSB7Cj4gKyAgICAgICBTRVRfUlVOVElNRV9QTV9PUFMocmFkX3BhbmVsX3N1c3BlbmQsIHJh
ZF9wYW5lbF9yZXN1bWUsIE5VTEwpCj4gKyAgICAgICBTRVRfU1lTVEVNX1NMRUVQX1BNX09QUyhy
YWRfcGFuZWxfc3VzcGVuZCwgcmFkX3BhbmVsX3Jlc3VtZSkKPiArfTsKPiArCj4gK3N0YXRpYyBj
b25zdCBzdHJ1Y3Qgb2ZfZGV2aWNlX2lkIHJhZF9vZl9tYXRjaFtdID0gewo+ICsgICAgICAgeyAu
Y29tcGF0aWJsZSA9ICJyYXlkaXVtLHJtNjcxOTEiLCB9LAo+ICsgICAgICAgeyB9Cj4gK307Cj4g
K01PRFVMRV9ERVZJQ0VfVEFCTEUob2YsIHJhZF9vZl9tYXRjaCk7Cj4gKwo+ICtzdGF0aWMgc3Ry
dWN0IG1pcGlfZHNpX2RyaXZlciByYWRfcGFuZWxfZHJpdmVyID0gewo+ICsgICAgICAgLmRyaXZl
ciA9IHsKPiArICAgICAgICAgICAgICAgLm5hbWUgPSAicGFuZWwtcmF5ZGl1bS1ybTY3MTkxIiwK
PiArICAgICAgICAgICAgICAgLm9mX21hdGNoX3RhYmxlID0gcmFkX29mX21hdGNoLAo+ICsgICAg
ICAgICAgICAgICAucG0gICAgID0gJnJhZF9wbV9vcHMsCj4gKyAgICAgICB9LAo+ICsgICAgICAg
LnByb2JlID0gcmFkX3BhbmVsX3Byb2JlLAo+ICsgICAgICAgLnJlbW92ZSA9IHJhZF9wYW5lbF9y
ZW1vdmUsCj4gKyAgICAgICAuc2h1dGRvd24gPSByYWRfcGFuZWxfc2h1dGRvd24sCj4gK307Cj4g
K21vZHVsZV9taXBpX2RzaV9kcml2ZXIocmFkX3BhbmVsX2RyaXZlcik7Cj4gKwo+ICtNT0RVTEVf
QVVUSE9SKCJSb2JlcnQgQ2hpcmFzIDxyb2JlcnQuY2hpcmFzQG54cC5jb20+Iik7Cj4gK01PRFVM
RV9ERVNDUklQVElPTigiRFJNIERyaXZlciBmb3IgUmF5ZGl1bSBSTTY3MTkxIE1JUEkgRFNJIHBh
bmVsIik7Cj4gK01PRFVMRV9MSUNFTlNFKCJHUEwgdjIiKTsKPiAtLQo+IDIuNy40Cj4KX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxp
bmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
