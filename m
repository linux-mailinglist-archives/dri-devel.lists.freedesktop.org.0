Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 1CE0C2D0C4E
	for <lists+dri-devel@lfdr.de>; Mon,  7 Dec 2020 09:57:59 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id DDF5C6E5BD;
	Mon,  7 Dec 2020 08:57:17 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
X-Greylist: delayed 426 seconds by postgrey-1.36 at gabe;
 Sun, 06 Dec 2020 17:31:22 UTC
Received: from wnew4-smtp.messagingengine.com (wnew4-smtp.messagingengine.com
 [64.147.123.18])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 58BC689E7B
 for <dri-devel@lists.freedesktop.org>; Sun,  6 Dec 2020 17:31:22 +0000 (UTC)
Received: from compute3.internal (compute3.nyi.internal [10.202.2.43])
 by mailnew.west.internal (Postfix) with ESMTP id A2CAB837;
 Sun,  6 Dec 2020 12:24:12 -0500 (EST)
Received: from mailfrontend2 ([10.202.2.163])
 by compute3.internal (MEProxy); Sun, 06 Dec 2020 12:24:13 -0500
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=
 messagingengine.com; h=cc:content-transfer-encoding:content-type
 :date:from:message-id:mime-version:subject:to:x-me-proxy
 :x-me-proxy:x-me-sender:x-me-sender:x-sasl-enc; s=fm1; bh=JItcwb
 qleisdzutjtb6IffdEYYvbyCRFRbpwZ3ZqjOk=; b=c+VWyhEmYg/NEIse3CgHCB
 hzKRwBBZxsq8QvB9uulVUVTBEp6AzNDBvkDABqbaqSTwSlI310tiSnSYpR3tsWQy
 l9K/Id6W7nC/VR5tjG15yotcpk3oU7avgHuoP9T9R5TreLBvmjzs1CZodPAwa79G
 SPfjf0eIZ2UD5BFitmIl5yt9iNlvSekmwiJ6DHVMIjvIkeaz4o4nhNg+ks6aHZhT
 6MMdq5l0kflG2xVXpotAr7dD2hVSduWy5aJnObLEDdnl5diAzZecp/krH6MF9+kq
 JQ7pHyi3zJQaJzm32aXz7mjVs/Bp3ZxkXmfmMYcR3zIQy8POK9CD2/LH+x+POjlQ
 ==
X-ME-Sender: <xms:uRPNX7U6w-bHOtfmjgHQwGZT9pP7n8E-EIsggLLqGJ0icKd8d9r2KA>
 <xme:uRPNXzm5sATZO6h6F2BbJe6BIq60U9Bagi8NhkhE1cX9IJnk4G_234PwabaWy6LkM
 SFwMwhZCfG3GQ>
X-ME-Proxy-Cause: gggruggvucftvghtrhhoucdtuddrgedujedrudejvddguddtudcutefuodetggdotefrod
 ftvfcurfhrohhfihhlvgemucfhrghsthforghilhdpqfgfvfdpuffrtefokffrpgfnqfgh
 necuuegrihhlohhuthemuceftddtnecusecvtfgvtghiphhivghnthhsucdlqddutddtmd
 enucfjughrpefhvffufffkofggtghogfesthekredtredtjeenucfhrhhomhepofgrrhgv
 khcuofgrrhgtiiihkhhofihskhhiqdfikphrvggtkhhiuceomhgrrhhmrghrvghksehinh
 hvihhsihgslhgvthhhihhnghhslhgrsgdrtghomheqnecuggftrfgrthhtvghrnhephefh
 feetueelvddvtedttdevieeluedtvedtfeejieelhedutdeuheduieejgfegnecuffhomh
 grihhnpehkvghrnhgvlhdrohhrghenucfkphepledurdeigedrudejtddrkeelnecuvehl
 uhhsthgvrhfuihiivgeptdenucfrrghrrghmpehmrghilhhfrhhomhepmhgrrhhmrghrvg
 hksehinhhvihhsihgslhgvthhhihhnghhslhgrsgdrtghomh
X-ME-Proxy: <xmx:uRPNX3ZrlOs3WgwCcd3ozP2QYvO35hombQMDFhsnUpx3ZmcZn5yT7w>
 <xmx:uRPNX2UxaVDfZeXEtMGqgJ-42RexzbLXGvjua9CHGBgixkAd5Pxjjw>
 <xmx:uRPNX1mKihq3nu_4A5bJfRz3II3CLERfZ_1yebF43JFPED1pDmyMSA>
 <xmx:vBPNX7eIkEMfUc5lvOk3n_QeNAgXlimtA_Wv4u50zDK_al08hxCUGYFfpZo>
Received: from localhost.localdomain (ip5b40aa59.dynamic.kabel-deutschland.de
 [91.64.170.89])
 by mail.messagingengine.com (Postfix) with ESMTPA id 81FE2108005B;
 Sun,  6 Dec 2020 12:24:07 -0500 (EST)
From: =?UTF-8?q?Marek=20Marczykowski-G=C3=B3recki?=
 <marmarek@invisiblethingslab.com>
To: xen-devel@lists.xenproject.org
Subject: [PATCH] Revert "xen: add helpers to allocate unpopulated memory"
Date: Sun,  6 Dec 2020 18:22:36 +0100
Message-Id: <20201206172242.1249689-1-marmarek@invisiblethingslab.com>
X-Mailer: git-send-email 2.25.4
MIME-Version: 1.0
Organization: Invisible Things Lab
X-Mailman-Approved-At: Mon, 07 Dec 2020 08:56:49 +0000
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Juergen Gross <jgross@suse.com>,
 Stefano Stabellini <sstabellini@kernel.org>,
 Oleksandr Andrushchenko <oleksandr_andrushchenko@epam.com>,
 David Airlie <airlied@linux.ie>,
 "open list:DRM DRIVERS FOR XEN" <dri-devel@lists.freedesktop.org>,
 Yan Yankovskyi <yyankovskyi@gmail.com>,
 =?UTF-8?q?Marek=20Marczykowski-G=C3=B3recki?=
 <marmarek@invisiblethingslab.com>, stable@vger.kernel.org,
 open list <linux-kernel@vger.kernel.org>,
 Dan Carpenter <dan.carpenter@oracle.com>,
 Boris Ostrovsky <boris.ostrovsky@oracle.com>, Simon Leiner <simon@leiner.me>,
 Roger Pau Monne <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhpcyByZXZlcnRzIGNvbW1pdCA5ZTIzNjljMDZjOGExODE0NzgwMzkyNThhNDU5OGMxZGRkMmNh
ZGZhLgoKT24gYSBYZW4gUFYgZG9tMCwgd2l0aCBOVk1FIGRpc2ssIHRoaXMgbWFrZXMgdGhlIGRv
bTAgY3Jhc2ggd2hlbiBzdGFydGluZwphIGRvbWFpbi4gVGhpcyBsb29rcyBsaWtlIHNvbWUgYmFk
IGludGVyYWN0aW9uIGJldHdlZW4geGVuLWJsa2JhY2sgYW5kCk5WTUUgZHJpdmVyLCBib3RoIHVz
aW5nIFpPTkVfREVWSUNFLiBTaW5jZSB0aGUgYXV0aG9yIGlzIG9uIGxlYXZlIG5vdywKcmV2ZXJ0
IHRoZSBjaGFuZ2UgdW50aWwgcHJvcGVyIHNvbHV0aW9uIGlzIGRldmVsb3BlZC4KClRoZSBzcGVj
aWZpYyBjcmFzaCBtZXNzYWdlIGlzOgoKICAgIGdlbmVyYWwgcHJvdGVjdGlvbiBmYXVsdCwgcHJv
YmFibHkgZm9yIG5vbi1jYW5vbmljYWwgYWRkcmVzcyAweGRlYWQwMDAwMDAwMDAxMDA6IDAwMDAg
WyMxXSBTTVAgTk9QVEkKICAgIENQVTogMSBQSUQ6IDEzNCBDb21tOiBrd29ya2VyL3UxMjoyIE5v
dCB0YWludGVkIDUuOS45LTEucXViZXMueDg2XzY0ICMxCiAgICBIYXJkd2FyZSBuYW1lOiBMRU5P
Vk8gMjBNOUNUTzFXVy8yME05Q1RPMVdXLCBCSU9TIE4yQ0VUNTBXICgxLjMzICkgMDEvMTUvMjAy
MAogICAgV29ya3F1ZXVlOiBkbS10aGluIGRvX3dvcmtlciBbZG1fdGhpbl9wb29sXQogICAgUklQ
OiBlMDMwOm52bWVfbWFwX2RhdGErMHgzMDAvMHgzYTAgW252bWVdCiAgICBDb2RlOiBiOCBmZSBm
ZiBmZiBlOSBhOCBmZSBmZiBmZiA0YyA4YiA1NiA2OCA4YiA1ZSA3MCA4YiA3NiA3NCA0OSA4YiAw
MiA0OCBjMSBlOCAzMyA4MyBlMCAwNyA4MyBmOCAwNCAwZiA4NSBmMiBmZSBmZiBmZiA0OSA4YiA0
MiAwOCA8ODM+IGI4IGQwIDAwIDAwIDAwIDA0IDBmIDg1IGUxIGZlIGZmIGZmIGU5IDM4IGZkIGZm
IGZmIDhiIDU1IDcwIGJlCiAgICBSU1A6IGUwMmI6ZmZmZmM5MDAwMTBlN2FkOCBFRkxBR1M6IDAw
MDEwMjQ2CiAgICBSQVg6IGRlYWQwMDAwMDAwMDAxMDAgUkJYOiAwMDAwMDAwMDAwMDAxMDAwIFJD
WDogZmZmZjg4ODFhNThmNTAwMAogICAgUkRYOiAwMDAwMDAwMDAwMDAxMDAwIFJTSTogMDAwMDAw
MDAwMDAwMDAwMCBSREk6IGZmZmY4ODgxYTY3OWUwMDAKICAgIFJCUDogZmZmZjg4ODFhNWVmNGM4
MCBSMDg6IGZmZmY4ODgxYTVlZjRjODAgUjA5OiAwMDAwMDAwMDAwMDAwMDAyCiAgICBSMTA6IGZm
ZmZlYTAwMDNkZmZmNDAgUjExOiAwMDAwMDAwMDAwMDAwMDA4IFIxMjogZmZmZjg4ODFhNjc5ZTAw
MAogICAgUjEzOiBmZmZmYzkwMDAxMGU3YjIwIFIxNDogZmZmZjg4ODFhNzBiNTk4MCBSMTU6IGZm
ZmY4ODgxYTY3OWUwMDAKICAgIEZTOiAgMDAwMDAwMDAwMDAwMDAwMCgwMDAwKSBHUzpmZmZmODg4
MWI1NDQwMDAwKDAwMDApIGtubEdTOjAwMDAwMDAwMDAwMDAwMDAKICAgIENTOiAgZTAzMCBEUzog
MDAwMCBFUzogMDAwMCBDUjA6IDAwMDAwMDAwODAwNTAwMzMKICAgIENSMjogMDAwMDAwMDAwMWQ2
NDQwOCBDUjM6IDAwMDAwMDAxYWEyYzAwMDAgQ1I0OiAwMDAwMDAwMDAwMDUwNjYwCiAgICBDYWxs
IFRyYWNlOgogICAgIG52bWVfcXVldWVfcnErMHhhNy8weDFhMCBbbnZtZV0KICAgICBfX2Jsa19t
cV90cnlfaXNzdWVfZGlyZWN0bHkrMHgxMWQvMHgxZTAKICAgICA/IGFkZF93YWl0X3F1ZXVlX2V4
Y2x1c2l2ZSsweDcwLzB4NzAKICAgICBibGtfbXFfdHJ5X2lzc3VlX2RpcmVjdGx5KzB4MzUvMHhj
MGxbCiAgICAgYmxrX21xX3N1Ym1pdF9iaW8rMHg1OGYvMHg2NjAKICAgICBfX3N1Ym1pdF9iaW9f
bm9hY2N0KzB4MzAwLzB4MzMwCiAgICAgcHJvY2Vzc19zaGFyZWRfYmlvKzB4MTI2LzB4MWIwIFtk
bV90aGluX3Bvb2xdCiAgICAgcHJvY2Vzc19jZWxsKzB4MjI2LzB4MjgwIFtkbV90aGluX3Bvb2xd
CiAgICAgcHJvY2Vzc190aGluX2RlZmVycmVkX2NlbGxzKzB4MTg1LzB4MzIwIFtkbV90aGluX3Bv
b2xdCiAgICAgcHJvY2Vzc19kZWZlcnJlZF9iaW9zKzB4YTQvMHgyYTAgW2RtX3RoaW5fcG9vbF1V
WAogICAgIGRvX3dvcmtlcisweGNjLzB4MTMwIFtkbV90aGluX3Bvb2xdCiAgICAgcHJvY2Vzc19v
bmVfd29yaysweDFiNC8weDM3MAogICAgIHdvcmtlcl90aHJlYWQrMHg0Yy8weDMxMAogICAgID8g
cHJvY2Vzc19vbmVfd29yaysweDM3MC8weDM3MAogICAgIGt0aHJlYWQrMHgxMWIvMHgxNDAKICAg
ICA/IF9fa3RocmVhZF9iaW5kX21hc2srMHg2MC8weDYwPAogICAgIHJldF9mcm9tX2ZvcmsrMHgy
Mi8weDMwCiAgICBNb2R1bGVzIGxpbmtlZCBpbjogbG9vcCBzbmRfc2VxX2R1bW15IHNuZF9ocnRp
bWVyIG5mX3RhYmxlcyBuZm5ldGxpbmsgdmZhdCBmYXQgc25kX3NvZl9wY2kgc25kX3NvZl9pbnRl
bF9ieXQgc25kX3NvZl9pbnRlbF9pcGMgc25kX3NvZl9pbnRlbF9oZGFfY29tbW9uIHNuZF9zb2Nf
aGRhY19oZGEgc25kX3NvZl94dGVuc2FfZHNwIHNuZF9zb2ZfaW50ZWxfaGRhIHNuZF9zb2Ygc25k
X3NvY19za2wgc25kX3NvY19zc3RfCiAgICBpcGMgc25kX3NvY19zc3RfZHNwIHNuZF9oZGFfZXh0
X2NvcmUgc25kX3NvY19hY3BpX2ludGVsX21hdGNoIHNuZF9zb2NfYWNwaSBzbmRfc29jX2NvcmUg
c25kX2NvbXByZXNzIGFjOTdfYnVzIHNuZF9wY21fZG1hZW5naW5lIGVsYW5faTJjIHNuZF9oZGFf
Y29kZWNfaGRtaSBtZWlfaGRjcCBpVENPX3dkdCBpbnRlbF9wb3dlcmNsYW1wIGludGVsX3BtY19i
eHQgZWUxMDA0IGludGVsX3JhcGxfbXNyIGlUQ09fdmVuZG9yCiAgICBfc3VwcG9ydCBqb3lkZXYg
cGNzcGtyIGludGVsX3dtaV90aHVuZGVyYm9sdCB3bWlfYm1vZiB0aHVuZGVyYm9sdCB1Y3NpX2Fj
cGkgaWRtYTY0IHR5cGVjX3Vjc2kgc25kX2hkYV9jb2RlY19yZWFsdGVrIHR5cGVjIHNuZF9oZGFf
Y29kZWNfZ2VuZXJpYyBzbmRfaGRhX2ludGVsIHNuZF9pbnRlbF9kc3BjZmcgc25kX2hkYV9jb2Rl
YyB0aGlua3BhZF9hY3BpIHNuZF9oZGFfY29yZSBsZWR0cmlnX2F1ZGlvIGludDM0MDNfCiAgICB0
aGVybWFsIHNuZF9od2RlcCBzbmRfc2VxIHNuZF9zZXFfZGV2aWNlIHNuZF9wY20gaXdsd2lmaSBz
bmRfdGltZXIgcHJvY2Vzc29yX3RoZXJtYWxfZGV2aWNlIG1laV9tZSBjZmc4MDIxMSBpbnRlbF9y
YXBsX2NvbW1vbiBzbmQgZTEwMDBlIG1laSBpbnQzNDAwX3RoZXJtYWwgaW50MzQweF90aGVybWFs
X3pvbmUgaTJjX2k4MDEgYWNwaV90aGVybWFsX3JlbCBzb3VuZGNvcmUgaW50ZWxfc29jX2R0c19p
b3NmIGkyY19zCiAgICBtYnVzIHJma2lsbCBpbnRlbF9wY2hfdGhlcm1hbCB4ZW5mcwogICAgIGlw
X3RhYmxlcyBkbV90aGluX3Bvb2wgZG1fcGVyc2lzdGVudF9kYXRhIGRtX2Jpb19wcmlzb24gZG1f
Y3J5cHQgbm91dmVhdSBydHN4X3BjaV9zZG1tYyBtbWNfY29yZSBteG1fd21pIGNyY3QxMGRpZl9w
Y2xtdWwgdHRtIGNyYzMyX3BjbG11bCBjcmMzMmNfaW50ZWwgaTkxNSBnaGFzaF9jbG11bG5pX2lu
dGVsIGkyY19hbGdvX2JpdCBzZXJpb19yYXcgbnZtZSBkcm1fa21zX2hlbHBlciBjZWMgeGhjaV9w
Y2kgbnZtZQogICAgX2NvcmUgcnRzeF9wY2kgeGhjaV9wY2lfcmVuZXNhcyBkcm0geGhjaV9oY2Qg
d21pIHZpZGVvIHBpbmN0cmxfY2Fubm9ubGFrZSBwaW5jdHJsX2ludGVsIHhlbl9wcml2Y21kIHhl
bl9wY2liYWNrIHhlbl9ibGtiYWNrIHhlbl9nbnRhbGxvYyB4ZW5fZ250ZGV2IHhlbl9ldnRjaG4g
dWlucHV0CiAgICAtLS1bIGVuZCB0cmFjZSBmOGQ0N2U0YWE2NzI0ZGY0IF0tLS0KICAgIFJJUDog
ZTAzMDpudm1lX21hcF9kYXRhKzB4MzAwLzB4M2EwIFtudm1lXQogICAgQ29kZTogYjggZmUgZmYg
ZmYgZTkgYTggZmUgZmYgZmYgNGMgOGIgNTYgNjggOGIgNWUgNzAgOGIgNzYgNzQgNDkgOGIgMDIg
NDggYzEgZTggMzMgODMgZTAgMDcgODMgZjggMDQgMGYgODUgZjIgZmUgZmYgZmYgNDkgOGIgNDIg
MDggPDgzPiBiOCBkMCAwMCAwMCAwMCAwNCAwZiA4NSBlMSBmZSBmZiBmZiBlOSAzOCBmZCBmZiBm
ZiA4YiA1NSA3MCBiZQogICAgUlNQOiBlMDJiOmZmZmZjOTAwMDEwZTdhZDggRUZMQUdTOiAwMDAx
MDI0NgogICAgUkFYOiBkZWFkMDAwMDAwMDAwMTAwIFJCWDogMDAwMDAwMDAwMDAwMTAwMCBSQ1g6
IGZmZmY4ODgxYTU4ZjUwMDAKICAgIFJEWDogMDAwMDAwMDAwMDAwMTAwMCBSU0k6IDAwMDAwMDAw
MDAwMDAwMDAgUkRJOiBmZmZmODg4MWE2NzllMDAwCiAgICBSQlA6IGZmZmY4ODgxYTVlZjRjODAg
UjA4OiBmZmZmODg4MWE1ZWY0YzgwIFIwOTogMDAwMDAwMDAwMDAwMDAwMgogICAgUjEwOiBmZmZm
ZWEwMDAzZGZmZjQwIFIxMTogMDAwMDAwMDAwMDAwMDAwOCBSMTI6IGZmZmY4ODgxYTY3OWUwMDAK
ICAgIFIxMzogZmZmZmM5MDAwMTBlN2IyMCBSMTQ6IGZmZmY4ODgxYTcwYjU5ODAgUjE1OiBmZmZm
ODg4MWE2NzllMDAwCiAgICBGUzogIDAwMDAwMDAwMDAwMDAwMDAoMDAwMCkgR1M6ZmZmZjg4ODFi
NTQ0MDAwMCgwMDAwKSBrbmxHUzowMDAwMDAwMDAwMDAwMDAwCiAgICBDUzogIGUwMzAgRFM6IDAw
MDAgRVM6IDAwMDAgQ1IwOiAwMDAwMDAwMDgwMDUwMDMzCiAgICBDUjI6IDAwMDAwMDAwMDFkNjQ0
MDggQ1IzOiAwMDAwMDAwMWFhMmMwMDAwIENSNDogMDAwMDAwMDAwMDA1MDY2MAogICAgS2VybmVs
IHBhbmljIC0gbm90IHN5bmNpbmc6IEZhdGFsIGV4Y2VwdGlvbgogICAgS2VybmVsIE9mZnNldDog
ZGlzYWJsZWQKCkRpc2N1c3Npb24gYXQgaHR0cHM6Ly9sb3JlLmtlcm5lbC5vcmcveGVuLWRldmVs
LzIwMjAxMjA1MDgyODM5LnRzM2p1Nnl0YTQ2Y2d3am5AQWlyLWRlLVJvZ2VyL1QKCkNjOiBzdGFi
bGVAdmdlci5rZXJuZWwub3JnICN2NS45KwooZm9yIDUuOSBpdCdzIGVhc2llciB0byByZXZlcnQg
dGhlIG9yaWdpbmFsIGNvbW1pdCBkaXJlY3RseSkKU2lnbmVkLW9mZi1ieTogTWFyZWsgTWFyY3p5
a293c2tpLUfDs3JlY2tpIDxtYXJtYXJla0BpbnZpc2libGV0aGluZ3NsYWIuY29tPgotLS0KIGRy
aXZlcnMvZ3B1L2RybS94ZW4veGVuX2RybV9mcm9udF9nZW0uYyB8ICAgOSArLQogZHJpdmVycy94
ZW4vS2NvbmZpZyAgICAgICAgICAgICAgICAgICAgIHwgIDEwIC0tCiBkcml2ZXJzL3hlbi9NYWtl
ZmlsZSAgICAgICAgICAgICAgICAgICAgfCAgIDEgLQogZHJpdmVycy94ZW4vYmFsbG9vbi5jICAg
ICAgICAgICAgICAgICAgIHwgICA0ICstCiBkcml2ZXJzL3hlbi9ncmFudC10YWJsZS5jICAgICAg
ICAgICAgICAgfCAgIDQgKy0KIGRyaXZlcnMveGVuL3ByaXZjbWQuYyAgICAgICAgICAgICAgICAg
ICB8ICAgNCArLQogZHJpdmVycy94ZW4vdW5wb3B1bGF0ZWQtYWxsb2MuYyAgICAgICAgIHwgMjAw
IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogZHJpdmVycy94ZW4veGVuYnVzL3hlbmJ1c19jbGll
bnQuYyAgICAgIHwgICA2ICstCiBkcml2ZXJzL3hlbi94bGF0ZV9tbXUuYyAgICAgICAgICAgICAg
ICAgfCAgIDQgKy0KIGluY2x1ZGUveGVuL3hlbi5oICAgICAgICAgICAgICAgICAgICAgICB8ICAg
OSAtLQogMTAgZmlsZXMgY2hhbmdlZCwgMTUgaW5zZXJ0aW9ucygrKSwgMjM2IGRlbGV0aW9ucygt
KQogZGVsZXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMveGVuL3VucG9wdWxhdGVkLWFsbG9jLmMKCmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0veGVuL3hlbl9kcm1fZnJvbnRfZ2VtLmMgYi9kcml2
ZXJzL2dwdS9kcm0veGVuL3hlbl9kcm1fZnJvbnRfZ2VtLmMKaW5kZXggMmY0NjRlZjJkNTNlLi45
MDk0NTM0NGRhYWUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS94ZW4veGVuX2RybV9mcm9u
dF9nZW0uYworKysgYi9kcml2ZXJzL2dwdS9kcm0veGVuL3hlbl9kcm1fZnJvbnRfZ2VtLmMKQEAg
LTE4LDcgKzE4LDYgQEAKICNpbmNsdWRlIDxkcm0vZHJtX3Byb2JlX2hlbHBlci5oPgogCiAjaW5j
bHVkZSA8eGVuL2JhbGxvb24uaD4KLSNpbmNsdWRlIDx4ZW4veGVuLmg+CiAKICNpbmNsdWRlICJ4
ZW5fZHJtX2Zyb250LmgiCiAjaW5jbHVkZSAieGVuX2RybV9mcm9udF9nZW0uaCIKQEAgLTEwMCw4
ICs5OSw4IEBAIHN0YXRpYyBzdHJ1Y3QgeGVuX2dlbV9vYmplY3QgKmdlbV9jcmVhdGUoc3RydWN0
IGRybV9kZXZpY2UgKmRldiwgc2l6ZV90IHNpemUpCiAJCSAqIGFsbG9jYXRlIGJhbGxvb25lZCBw
YWdlcyB3aGljaCB3aWxsIGJlIHVzZWQgdG8gbWFwCiAJCSAqIGdyYW50IHJlZmVyZW5jZXMgcHJv
dmlkZWQgYnkgdGhlIGJhY2tlbmQKIAkJICovCi0JCXJldCA9IHhlbl9hbGxvY191bnBvcHVsYXRl
ZF9wYWdlcyh4ZW5fb2JqLT5udW1fcGFnZXMsCi0JCQkJCSAgICAgICAgICB4ZW5fb2JqLT5wYWdl
cyk7CisJCXJldCA9IGFsbG9jX3hlbmJhbGxvb25lZF9wYWdlcyh4ZW5fb2JqLT5udW1fcGFnZXMs
CisJCQkJCSAgICAgICB4ZW5fb2JqLT5wYWdlcyk7CiAJCWlmIChyZXQgPCAwKSB7CiAJCQlEUk1f
RVJST1IoIkNhbm5vdCBhbGxvY2F0ZSAlenUgYmFsbG9vbmVkIHBhZ2VzOiAlZFxuIiwKIAkJCQkg
IHhlbl9vYmotPm51bV9wYWdlcywgcmV0KTsKQEAgLTE1Myw4ICsxNTIsOCBAQCB2b2lkIHhlbl9k
cm1fZnJvbnRfZ2VtX2ZyZWVfb2JqZWN0X3VubG9ja2VkKHN0cnVjdCBkcm1fZ2VtX29iamVjdCAq
Z2VtX29iaikKIAl9IGVsc2UgewogCQlpZiAoeGVuX29iai0+cGFnZXMpIHsKIAkJCWlmICh4ZW5f
b2JqLT5iZV9hbGxvYykgewotCQkJCXhlbl9mcmVlX3VucG9wdWxhdGVkX3BhZ2VzKHhlbl9vYmot
Pm51bV9wYWdlcywKLQkJCQkJCQkgICB4ZW5fb2JqLT5wYWdlcyk7CisJCQkJZnJlZV94ZW5iYWxs
b29uZWRfcGFnZXMoeGVuX29iai0+bnVtX3BhZ2VzLAorCQkJCQkJCXhlbl9vYmotPnBhZ2VzKTsK
IAkJCQlnZW1fZnJlZV9wYWdlc19hcnJheSh4ZW5fb2JqKTsKIAkJCX0gZWxzZSB7CiAJCQkJZHJt
X2dlbV9wdXRfcGFnZXMoJnhlbl9vYmotPmJhc2UsCmRpZmYgLS1naXQgYS9kcml2ZXJzL3hlbi9L
Y29uZmlnIGIvZHJpdmVycy94ZW4vS2NvbmZpZwppbmRleCA0MTY0NWZlNmFkNDguLmVhNmMxZTdl
M2U0MiAxMDA2NDQKLS0tIGEvZHJpdmVycy94ZW4vS2NvbmZpZworKysgYi9kcml2ZXJzL3hlbi9L
Y29uZmlnCkBAIC0zMjUsMTQgKzMyNSw0IEBAIGNvbmZpZyBYRU5fSEFWRV9WUE1VCiBjb25maWcg
WEVOX0ZST05UX1BHRElSX1NIQlVGCiAJdHJpc3RhdGUKIAotY29uZmlnIFhFTl9VTlBPUFVMQVRF
RF9BTExPQwotCWJvb2wgIlVzZSB1bnBvcHVsYXRlZCBtZW1vcnkgcmFuZ2VzIGZvciBndWVzdCBt
YXBwaW5ncyIKLQlkZXBlbmRzIG9uIFg4NiAmJiBaT05FX0RFVklDRQotCWRlZmF1bHQgWEVOX0JB
Q0tFTkQgfHwgWEVOX0dOVERFViB8fCBYRU5fRE9NMAotCWhlbHAKLQkgIFVzZSB1bnBvcHVsYXRl
ZCBtZW1vcnkgcmFuZ2VzIGluIG9yZGVyIHRvIGNyZWF0ZSBtYXBwaW5ncyBmb3IgZ3Vlc3QKLQkg
IG1lbW9yeSByZWdpb25zLCBpbmNsdWRpbmcgZ3JhbnQgbWFwcyBhbmQgZm9yZWlnbiBwYWdlcy4g
VGhpcyBhdm9pZHMKLQkgIGhhdmluZyB0byBiYWxsb29uIG91dCBSQU0gcmVnaW9ucyBpbiBvcmRl
ciB0byBvYnRhaW4gcGh5c2ljYWwgbWVtb3J5Ci0JICBzcGFjZSB0byBjcmVhdGUgc3VjaCBtYXBw
aW5ncy4KLQogZW5kbWVudQpkaWZmIC0tZ2l0IGEvZHJpdmVycy94ZW4vTWFrZWZpbGUgYi9kcml2
ZXJzL3hlbi9NYWtlZmlsZQppbmRleCBiYWJkY2E4MDg4NjEuLmMyNWM5YTY5OWI0OCAxMDA2NDQK
LS0tIGEvZHJpdmVycy94ZW4vTWFrZWZpbGUKKysrIGIvZHJpdmVycy94ZW4vTWFrZWZpbGUKQEAg
LTQxLDQgKzQxLDMgQEAgeGVuLWdudGRldi0kKENPTkZJR19YRU5fR05UREVWX0RNQUJVRikJKz0g
Z250ZGV2LWRtYWJ1Zi5vCiB4ZW4tZ250YWxsb2MteQkJCQk6PSBnbnRhbGxvYy5vCiB4ZW4tcHJp
dmNtZC15CQkJCTo9IHByaXZjbWQubyBwcml2Y21kLWJ1Zi5vCiBvYmotJChDT05GSUdfWEVOX0ZS
T05UX1BHRElSX1NIQlVGKQkrPSB4ZW4tZnJvbnQtcGdkaXItc2hidWYubwotb2JqLSQoQ09ORklH
X1hFTl9VTlBPUFVMQVRFRF9BTExPQykJKz0gdW5wb3B1bGF0ZWQtYWxsb2MubwpkaWZmIC0tZ2l0
IGEvZHJpdmVycy94ZW4vYmFsbG9vbi5jIGIvZHJpdmVycy94ZW4vYmFsbG9vbi5jCmluZGV4IGI1
N2IyMDY3ZWNiZi4uMTJkM2E5NWJmZGI0IDEwMDY0NAotLS0gYS9kcml2ZXJzL3hlbi9iYWxsb29u
LmMKKysrIGIvZHJpdmVycy94ZW4vYmFsbG9vbi5jCkBAIC02NTMsNyArNjUzLDcgQEAgdm9pZCBm
cmVlX3hlbmJhbGxvb25lZF9wYWdlcyhpbnQgbnJfcGFnZXMsIHN0cnVjdCBwYWdlICoqcGFnZXMp
CiB9CiBFWFBPUlRfU1lNQk9MKGZyZWVfeGVuYmFsbG9vbmVkX3BhZ2VzKTsKIAotI2lmIGRlZmlu
ZWQoQ09ORklHX1hFTl9QVikgJiYgIWRlZmluZWQoQ09ORklHX1hFTl9VTlBPUFVMQVRFRF9BTExP
QykKKyNpZmRlZiBDT05GSUdfWEVOX1BWCiBzdGF0aWMgdm9pZCBfX2luaXQgYmFsbG9vbl9hZGRf
cmVnaW9uKHVuc2lnbmVkIGxvbmcgc3RhcnRfcGZuLAogCQkJCSAgICAgIHVuc2lnbmVkIGxvbmcg
cGFnZXMpCiB7CkBAIC03MDcsNyArNzA3LDcgQEAgc3RhdGljIGludCBfX2luaXQgYmFsbG9vbl9p
bml0KHZvaWQpCiAJcmVnaXN0ZXJfc3lzY3RsX3RhYmxlKHhlbl9yb290KTsKICNlbmRpZgogCi0j
aWYgZGVmaW5lZChDT05GSUdfWEVOX1BWKSAmJiAhZGVmaW5lZChDT05GSUdfWEVOX1VOUE9QVUxB
VEVEX0FMTE9DKQorI2lmZGVmIENPTkZJR19YRU5fUFYKIAl7CiAJCWludCBpOwogCmRpZmYgLS1n
aXQgYS9kcml2ZXJzL3hlbi9ncmFudC10YWJsZS5jIGIvZHJpdmVycy94ZW4vZ3JhbnQtdGFibGUu
YwppbmRleCA1MjNkY2RmMzljYzkuLjhkMDZiZjFjYzM0NyAxMDA2NDQKLS0tIGEvZHJpdmVycy94
ZW4vZ3JhbnQtdGFibGUuYworKysgYi9kcml2ZXJzL3hlbi9ncmFudC10YWJsZS5jCkBAIC04MDEs
NyArODAxLDcgQEAgaW50IGdudHRhYl9hbGxvY19wYWdlcyhpbnQgbnJfcGFnZXMsIHN0cnVjdCBw
YWdlICoqcGFnZXMpCiB7CiAJaW50IHJldDsKIAotCXJldCA9IHhlbl9hbGxvY191bnBvcHVsYXRl
ZF9wYWdlcyhucl9wYWdlcywgcGFnZXMpOworCXJldCA9IGFsbG9jX3hlbmJhbGxvb25lZF9wYWdl
cyhucl9wYWdlcywgcGFnZXMpOwogCWlmIChyZXQgPCAwKQogCQlyZXR1cm4gcmV0OwogCkBAIC04
MzYsNyArODM2LDcgQEAgRVhQT1JUX1NZTUJPTF9HUEwoZ250dGFiX3BhZ2VzX2NsZWFyX3ByaXZh
dGUpOwogdm9pZCBnbnR0YWJfZnJlZV9wYWdlcyhpbnQgbnJfcGFnZXMsIHN0cnVjdCBwYWdlICoq
cGFnZXMpCiB7CiAJZ250dGFiX3BhZ2VzX2NsZWFyX3ByaXZhdGUobnJfcGFnZXMsIHBhZ2VzKTsK
LQl4ZW5fZnJlZV91bnBvcHVsYXRlZF9wYWdlcyhucl9wYWdlcywgcGFnZXMpOworCWZyZWVfeGVu
YmFsbG9vbmVkX3BhZ2VzKG5yX3BhZ2VzLCBwYWdlcyk7CiB9CiBFWFBPUlRfU1lNQk9MX0dQTChn
bnR0YWJfZnJlZV9wYWdlcyk7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMveGVuL3ByaXZjbWQuYyBi
L2RyaXZlcnMveGVuL3ByaXZjbWQuYwppbmRleCBiMGM3M2M1OGY5ODcuLjYzYWJlNmMzNjQyYiAx
MDA2NDQKLS0tIGEvZHJpdmVycy94ZW4vcHJpdmNtZC5jCisrKyBiL2RyaXZlcnMveGVuL3ByaXZj
bWQuYwpAQCAtNDI0LDcgKzQyNCw3IEBAIHN0YXRpYyBpbnQgYWxsb2NfZW1wdHlfcGFnZXMoc3Ry
dWN0IHZtX2FyZWFfc3RydWN0ICp2bWEsIGludCBudW1wZ3MpCiAJaWYgKHBhZ2VzID09IE5VTEwp
CiAJCXJldHVybiAtRU5PTUVNOwogCi0JcmMgPSB4ZW5fYWxsb2NfdW5wb3B1bGF0ZWRfcGFnZXMo
bnVtcGdzLCBwYWdlcyk7CisJcmMgPSBhbGxvY194ZW5iYWxsb29uZWRfcGFnZXMobnVtcGdzLCBw
YWdlcyk7CiAJaWYgKHJjICE9IDApIHsKIAkJcHJfd2FybigiJXMgQ291bGQgbm90IGFsbG9jICVk
IHBmbnMgcmM6JWRcbiIsIF9fZnVuY19fLAogCQkJbnVtcGdzLCByYyk7CkBAIC04OTUsNyArODk1
LDcgQEAgc3RhdGljIHZvaWQgcHJpdmNtZF9jbG9zZShzdHJ1Y3Qgdm1fYXJlYV9zdHJ1Y3QgKnZt
YSkKIAogCXJjID0geGVuX3VubWFwX2RvbWFpbl9nZm5fcmFuZ2Uodm1hLCBudW1nZm5zLCBwYWdl
cyk7CiAJaWYgKHJjID09IDApCi0JCXhlbl9mcmVlX3VucG9wdWxhdGVkX3BhZ2VzKG51bXBncywg
cGFnZXMpOworCQlmcmVlX3hlbmJhbGxvb25lZF9wYWdlcyhudW1wZ3MsIHBhZ2VzKTsKIAllbHNl
CiAJCXByX2NyaXQoInVuYWJsZSB0byB1bm1hcCBNRk4gcmFuZ2U6IGxlYWtpbmcgJWQgcGFnZXMu
IHJjPSVkXG4iLAogCQkJbnVtcGdzLCByYyk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL3hlbi91bnBv
cHVsYXRlZC1hbGxvYy5jIGIvZHJpdmVycy94ZW4vdW5wb3B1bGF0ZWQtYWxsb2MuYwpkZWxldGVk
IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggOGM1MTJlYTU1MGJiLi4wMDAwMDAwMDAwMDAKLS0tIGEv
ZHJpdmVycy94ZW4vdW5wb3B1bGF0ZWQtYWxsb2MuYworKysgL2Rldi9udWxsCkBAIC0xLDIwMCAr
MCwwIEBACi0vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMAotI2luY2x1ZGUgPGxp
bnV4L2Vycm5vLmg+Ci0jaW5jbHVkZSA8bGludXgvZ2ZwLmg+Ci0jaW5jbHVkZSA8bGludXgva2Vy
bmVsLmg+Ci0jaW5jbHVkZSA8bGludXgvbW0uaD4KLSNpbmNsdWRlIDxsaW51eC9tZW1yZW1hcC5o
PgotI2luY2x1ZGUgPGxpbnV4L3NsYWIuaD4KLQotI2luY2x1ZGUgPGFzbS9wYWdlLmg+Ci0KLSNp
bmNsdWRlIDx4ZW4vcGFnZS5oPgotI2luY2x1ZGUgPHhlbi94ZW4uaD4KLQotc3RhdGljIERFRklO
RV9NVVRFWChsaXN0X2xvY2spOwotc3RhdGljIExJU1RfSEVBRChwYWdlX2xpc3QpOwotc3RhdGlj
IHVuc2lnbmVkIGludCBsaXN0X2NvdW50OwotCi1zdGF0aWMgaW50IGZpbGxfbGlzdCh1bnNpZ25l
ZCBpbnQgbnJfcGFnZXMpCi17Ci0Jc3RydWN0IGRldl9wYWdlbWFwICpwZ21hcDsKLQlzdHJ1Y3Qg
cmVzb3VyY2UgKnJlczsKLQl2b2lkICp2YWRkcjsKLQl1bnNpZ25lZCBpbnQgaSwgYWxsb2NfcGFn
ZXMgPSByb3VuZF91cChucl9wYWdlcywgUEFHRVNfUEVSX1NFQ1RJT04pOwotCWludCByZXQgPSAt
RU5PTUVNOwotCi0JcmVzID0ga3phbGxvYyhzaXplb2YoKnJlcyksIEdGUF9LRVJORUwpOwotCWlm
ICghcmVzKQotCQlyZXR1cm4gLUVOT01FTTsKLQotCXBnbWFwID0ga3phbGxvYyhzaXplb2YoKnBn
bWFwKSwgR0ZQX0tFUk5FTCk7Ci0JaWYgKCFwZ21hcCkKLQkJZ290byBlcnJfcGdtYXA7Ci0KLQlw
Z21hcC0+dHlwZSA9IE1FTU9SWV9ERVZJQ0VfR0VORVJJQzsKLQlyZXMtPm5hbWUgPSAiWGVuIHNj
cmF0Y2giOwotCXJlcy0+ZmxhZ3MgPSBJT1JFU09VUkNFX01FTSB8IElPUkVTT1VSQ0VfQlVTWTsK
LQotCXJldCA9IGFsbG9jYXRlX3Jlc291cmNlKCZpb21lbV9yZXNvdXJjZSwgcmVzLAotCQkJCWFs
bG9jX3BhZ2VzICogUEFHRV9TSVpFLCAwLCAtMSwKLQkJCQlQQUdFU19QRVJfU0VDVElPTiAqIFBB
R0VfU0laRSwgTlVMTCwgTlVMTCk7Ci0JaWYgKHJldCA8IDApIHsKLQkJcHJfZXJyKCJDYW5ub3Qg
YWxsb2NhdGUgbmV3IElPTUVNIHJlc291cmNlXG4iKTsKLQkJZ290byBlcnJfcmVzb3VyY2U7Ci0J
fQotCi0JcGdtYXAtPnJhbmdlID0gKHN0cnVjdCByYW5nZSkgewotCQkuc3RhcnQgPSByZXMtPnN0
YXJ0LAotCQkuZW5kID0gcmVzLT5lbmQsCi0JfTsKLQlwZ21hcC0+bnJfcmFuZ2UgPSAxOwotCXBn
bWFwLT5vd25lciA9IHJlczsKLQotI2lmZGVmIENPTkZJR19YRU5fSEFWRV9QVk1NVQotICAgICAg
ICAvKgotICAgICAgICAgKiBtZW1yZW1hcCB3aWxsIGJ1aWxkIHBhZ2UgdGFibGVzIGZvciB0aGUg
bmV3IG1lbW9yeSBzbwotICAgICAgICAgKiB0aGUgcDJtIG11c3QgY29udGFpbiBpbnZhbGlkIGVu
dHJpZXMgc28gdGhlIGNvcnJlY3QKLSAgICAgICAgICogbm9uLXByZXNlbnQgUFRFcyB3aWxsIGJl
IHdyaXR0ZW4uCi0gICAgICAgICAqCi0gICAgICAgICAqIElmIGEgZmFpbHVyZSBvY2N1cnMsIHRo
ZSBvcmlnaW5hbCAoaWRlbnRpdHkpIHAybSBlbnRyaWVzCi0gICAgICAgICAqIGFyZSBub3QgcmVz
dG9yZWQgc2luY2UgdGhpcyByZWdpb24gaXMgbm93IGtub3duIG5vdCB0bwotICAgICAgICAgKiBj
b25mbGljdCB3aXRoIGFueSBkZXZpY2VzLgotICAgICAgICAgKi8KLQlpZiAoIXhlbl9mZWF0dXJl
KFhFTkZFQVRfYXV0b190cmFuc2xhdGVkX3BoeXNtYXApKSB7Ci0JCXhlbl9wZm5fdCBwZm4gPSBQ
Rk5fRE9XTihyZXMtPnN0YXJ0KTsKLQotCQlmb3IgKGkgPSAwOyBpIDwgYWxsb2NfcGFnZXM7IGkr
KykgewotCQkJaWYgKCFzZXRfcGh5c190b19tYWNoaW5lKHBmbiArIGksIElOVkFMSURfUDJNX0VO
VFJZKSkgewotCQkJCXByX3dhcm4oInNldF9waHlzX3RvX21hY2hpbmUoKSBmYWlsZWQsIG5vIG1l
bW9yeSBhZGRlZFxuIik7Ci0JCQkJcmV0ID0gLUVOT01FTTsKLQkJCQlnb3RvIGVycl9tZW1yZW1h
cDsKLQkJCX0KLSAgICAgICAgICAgICAgICB9Ci0JfQotI2VuZGlmCi0KLQl2YWRkciA9IG1lbXJl
bWFwX3BhZ2VzKHBnbWFwLCBOVU1BX05PX05PREUpOwotCWlmIChJU19FUlIodmFkZHIpKSB7Ci0J
CXByX2VycigiQ2Fubm90IHJlbWFwIG1lbW9yeSByYW5nZVxuIik7Ci0JCXJldCA9IFBUUl9FUlIo
dmFkZHIpOwotCQlnb3RvIGVycl9tZW1yZW1hcDsKLQl9Ci0KLQlmb3IgKGkgPSAwOyBpIDwgYWxs
b2NfcGFnZXM7IGkrKykgewotCQlzdHJ1Y3QgcGFnZSAqcGcgPSB2aXJ0X3RvX3BhZ2UodmFkZHIg
KyBQQUdFX1NJWkUgKiBpKTsKLQotCQlCVUdfT04oIXZpcnRfYWRkcl92YWxpZCh2YWRkciArIFBB
R0VfU0laRSAqIGkpKTsKLQkJbGlzdF9hZGQoJnBnLT5scnUsICZwYWdlX2xpc3QpOwotCQlsaXN0
X2NvdW50Kys7Ci0JfQotCi0JcmV0dXJuIDA7Ci0KLWVycl9tZW1yZW1hcDoKLQlyZWxlYXNlX3Jl
c291cmNlKHJlcyk7Ci1lcnJfcmVzb3VyY2U6Ci0Ja2ZyZWUocGdtYXApOwotZXJyX3BnbWFwOgot
CWtmcmVlKHJlcyk7Ci0JcmV0dXJuIHJldDsKLX0KLQotLyoqCi0gKiB4ZW5fYWxsb2NfdW5wb3B1
bGF0ZWRfcGFnZXMgLSBhbGxvYyB1bnBvcHVsYXRlZCBwYWdlcwotICogQG5yX3BhZ2VzOiBOdW1i
ZXIgb2YgcGFnZXMKLSAqIEBwYWdlczogcGFnZXMgcmV0dXJuZWQKLSAqIEByZXR1cm4gMCBvbiBz
dWNjZXNzLCBlcnJvciBvdGhlcndpc2UKLSAqLwotaW50IHhlbl9hbGxvY191bnBvcHVsYXRlZF9w
YWdlcyh1bnNpZ25lZCBpbnQgbnJfcGFnZXMsIHN0cnVjdCBwYWdlICoqcGFnZXMpCi17Ci0JdW5z
aWduZWQgaW50IGk7Ci0JaW50IHJldCA9IDA7Ci0KLQltdXRleF9sb2NrKCZsaXN0X2xvY2spOwot
CWlmIChsaXN0X2NvdW50IDwgbnJfcGFnZXMpIHsKLQkJcmV0ID0gZmlsbF9saXN0KG5yX3BhZ2Vz
IC0gbGlzdF9jb3VudCk7Ci0JCWlmIChyZXQpCi0JCQlnb3RvIG91dDsKLQl9Ci0KLQlmb3IgKGkg
PSAwOyBpIDwgbnJfcGFnZXM7IGkrKykgewotCQlzdHJ1Y3QgcGFnZSAqcGcgPSBsaXN0X2ZpcnN0
X2VudHJ5X29yX251bGwoJnBhZ2VfbGlzdCwKLQkJCQkJCQkgICBzdHJ1Y3QgcGFnZSwKLQkJCQkJ
CQkgICBscnUpOwotCi0JCUJVR19PTighcGcpOwotCQlsaXN0X2RlbCgmcGctPmxydSk7Ci0JCWxp
c3RfY291bnQtLTsKLQkJcGFnZXNbaV0gPSBwZzsKLQotI2lmZGVmIENPTkZJR19YRU5fSEFWRV9Q
Vk1NVQotCQlpZiAoIXhlbl9mZWF0dXJlKFhFTkZFQVRfYXV0b190cmFuc2xhdGVkX3BoeXNtYXAp
KSB7Ci0JCQlyZXQgPSB4ZW5fYWxsb2NfcDJtX2VudHJ5KHBhZ2VfdG9fcGZuKHBnKSk7Ci0JCQlp
ZiAocmV0IDwgMCkgewotCQkJCXVuc2lnbmVkIGludCBqOwotCi0JCQkJZm9yIChqID0gMDsgaiA8
PSBpOyBqKyspIHsKLQkJCQkJbGlzdF9hZGQoJnBhZ2VzW2pdLT5scnUsICZwYWdlX2xpc3QpOwot
CQkJCQlsaXN0X2NvdW50Kys7Ci0JCQkJfQotCQkJCWdvdG8gb3V0OwotCQkJfQotCQl9Ci0jZW5k
aWYKLQl9Ci0KLW91dDoKLQltdXRleF91bmxvY2soJmxpc3RfbG9jayk7Ci0JcmV0dXJuIHJldDsK
LX0KLUVYUE9SVF9TWU1CT0woeGVuX2FsbG9jX3VucG9wdWxhdGVkX3BhZ2VzKTsKLQotLyoqCi0g
KiB4ZW5fZnJlZV91bnBvcHVsYXRlZF9wYWdlcyAtIHJldHVybiB1bnBvcHVsYXRlZCBwYWdlcwot
ICogQG5yX3BhZ2VzOiBOdW1iZXIgb2YgcGFnZXMKLSAqIEBwYWdlczogcGFnZXMgdG8gcmV0dXJu
Ci0gKi8KLXZvaWQgeGVuX2ZyZWVfdW5wb3B1bGF0ZWRfcGFnZXModW5zaWduZWQgaW50IG5yX3Bh
Z2VzLCBzdHJ1Y3QgcGFnZSAqKnBhZ2VzKQotewotCXVuc2lnbmVkIGludCBpOwotCi0JbXV0ZXhf
bG9jaygmbGlzdF9sb2NrKTsKLQlmb3IgKGkgPSAwOyBpIDwgbnJfcGFnZXM7IGkrKykgewotCQls
aXN0X2FkZCgmcGFnZXNbaV0tPmxydSwgJnBhZ2VfbGlzdCk7Ci0JCWxpc3RfY291bnQrKzsKLQl9
Ci0JbXV0ZXhfdW5sb2NrKCZsaXN0X2xvY2spOwotfQotRVhQT1JUX1NZTUJPTCh4ZW5fZnJlZV91
bnBvcHVsYXRlZF9wYWdlcyk7Ci0KLSNpZmRlZiBDT05GSUdfWEVOX1BWCi1zdGF0aWMgaW50IF9f
aW5pdCBpbml0KHZvaWQpCi17Ci0JdW5zaWduZWQgaW50IGk7Ci0KLQlpZiAoIXhlbl9kb21haW4o
KSkKLQkJcmV0dXJuIC1FTk9ERVY7Ci0KLQlpZiAoIXhlbl9wdl9kb21haW4oKSkKLQkJcmV0dXJu
IDA7Ci0KLQkvKgotCSAqIEluaXRpYWxpemUgd2l0aCBwYWdlcyBmcm9tIHRoZSBleHRyYSBtZW1v
cnkgcmVnaW9ucyAoc2VlCi0JICogYXJjaC94ODYveGVuL3NldHVwLmMpLgotCSAqLwotCWZvciAo
aSA9IDA7IGkgPCBYRU5fRVhUUkFfTUVNX01BWF9SRUdJT05TOyBpKyspIHsKLQkJdW5zaWduZWQg
aW50IGo7Ci0KLQkJZm9yIChqID0gMDsgaiA8IHhlbl9leHRyYV9tZW1baV0ubl9wZm5zOyBqKysp
IHsKLQkJCXN0cnVjdCBwYWdlICpwZyA9Ci0JCQkJcGZuX3RvX3BhZ2UoeGVuX2V4dHJhX21lbVtp
XS5zdGFydF9wZm4gKyBqKTsKLQotCQkJbGlzdF9hZGQoJnBnLT5scnUsICZwYWdlX2xpc3QpOwot
CQkJbGlzdF9jb3VudCsrOwotCQl9Ci0JfQotCi0JcmV0dXJuIDA7Ci19Ci1zdWJzeXNfaW5pdGNh
bGwoaW5pdCk7Ci0jZW5kaWYKZGlmZiAtLWdpdCBhL2RyaXZlcnMveGVuL3hlbmJ1cy94ZW5idXNf
Y2xpZW50LmMgYi9kcml2ZXJzL3hlbi94ZW5idXMveGVuYnVzX2NsaWVudC5jCmluZGV4IGZkODBl
MzE4Yjk5Yy4uZWY4YjZlYThlY2NhIDEwMDY0NAotLS0gYS9kcml2ZXJzL3hlbi94ZW5idXMveGVu
YnVzX2NsaWVudC5jCisrKyBiL2RyaXZlcnMveGVuL3hlbmJ1cy94ZW5idXNfY2xpZW50LmMKQEAg
LTYxOCw3ICs2MTgsNyBAQCBzdGF0aWMgaW50IHhlbmJ1c19tYXBfcmluZ19odm0oc3RydWN0IHhl
bmJ1c19kZXZpY2UgKmRldiwKIAlib29sIGxlYWtlZCA9IGZhbHNlOwogCXVuc2lnbmVkIGludCBu
cl9wYWdlcyA9IFhFTkJVU19QQUdFUyhucl9ncmVmcyk7CiAKLQllcnIgPSB4ZW5fYWxsb2NfdW5w
b3B1bGF0ZWRfcGFnZXMobnJfcGFnZXMsIG5vZGUtPmh2bS5wYWdlcyk7CisJZXJyID0gYWxsb2Nf
eGVuYmFsbG9vbmVkX3BhZ2VzKG5yX3BhZ2VzLCBub2RlLT5odm0ucGFnZXMpOwogCWlmIChlcnIp
CiAJCWdvdG8gb3V0X2VycjsKIApAQCAtNjU5LDcgKzY1OSw3IEBAIHN0YXRpYyBpbnQgeGVuYnVz
X21hcF9yaW5nX2h2bShzdHJ1Y3QgeGVuYnVzX2RldmljZSAqZGV2LAogCQkJIGFkZHIsIG5yX3Bh
Z2VzKTsKICBvdXRfZnJlZV9iYWxsb29uZWRfcGFnZXM6CiAJaWYgKCFsZWFrZWQpCi0JCXhlbl9m
cmVlX3VucG9wdWxhdGVkX3BhZ2VzKG5yX3BhZ2VzLCBub2RlLT5odm0ucGFnZXMpOworCQlmcmVl
X3hlbmJhbGxvb25lZF9wYWdlcyhucl9wYWdlcywgbm9kZS0+aHZtLnBhZ2VzKTsKICBvdXRfZXJy
OgogCXJldHVybiBlcnI7CiB9CkBAIC04NjAsNyArODYwLDcgQEAgc3RhdGljIGludCB4ZW5idXNf
dW5tYXBfcmluZ19odm0oc3RydWN0IHhlbmJ1c19kZXZpY2UgKmRldiwgdm9pZCAqdmFkZHIpCiAJ
CQkgICAgICAgaW5mby5hZGRycyk7CiAJaWYgKCFydikgewogCQl2dW5tYXAodmFkZHIpOwotCQl4
ZW5fZnJlZV91bnBvcHVsYXRlZF9wYWdlcyhucl9wYWdlcywgbm9kZS0+aHZtLnBhZ2VzKTsKKwkJ
ZnJlZV94ZW5iYWxsb29uZWRfcGFnZXMobnJfcGFnZXMsIG5vZGUtPmh2bS5wYWdlcyk7CiAJfQog
CWVsc2UKIAkJV0FSTigxLCAiTGVha2luZyAlcCwgc2l6ZSAldSBwYWdlKHMpXG4iLCB2YWRkciwg
bnJfcGFnZXMpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy94ZW4veGxhdGVfbW11LmMgYi9kcml2ZXJz
L3hlbi94bGF0ZV9tbXUuYwppbmRleCAzNDc0MmM2ZTE4OWUuLjdiMTA3N2YwYWJjYiAxMDA2NDQK
LS0tIGEvZHJpdmVycy94ZW4veGxhdGVfbW11LmMKKysrIGIvZHJpdmVycy94ZW4veGxhdGVfbW11
LmMKQEAgLTIzMiw3ICsyMzIsNyBAQCBpbnQgX19pbml0IHhlbl94bGF0ZV9tYXBfYmFsbG9vbmVk
X3BhZ2VzKHhlbl9wZm5fdCAqKmdmbnMsIHZvaWQgKip2aXJ0LAogCQlrZnJlZShwYWdlcyk7CiAJ
CXJldHVybiAtRU5PTUVNOwogCX0KLQlyYyA9IHhlbl9hbGxvY191bnBvcHVsYXRlZF9wYWdlcyhu
cl9wYWdlcywgcGFnZXMpOworCXJjID0gYWxsb2NfeGVuYmFsbG9vbmVkX3BhZ2VzKG5yX3BhZ2Vz
LCBwYWdlcyk7CiAJaWYgKHJjKSB7CiAJCXByX3dhcm4oIiVzIENvdWxkbid0IGJhbGxvb24gYWxs
b2MgJWxkIHBhZ2VzIHJjOiVkXG4iLCBfX2Z1bmNfXywKIAkJCW5yX3BhZ2VzLCByYyk7CkBAIC0y
NDksNyArMjQ5LDcgQEAgaW50IF9faW5pdCB4ZW5feGxhdGVfbWFwX2JhbGxvb25lZF9wYWdlcyh4
ZW5fcGZuX3QgKipnZm5zLCB2b2lkICoqdmlydCwKIAlpZiAoIXZhZGRyKSB7CiAJCXByX3dhcm4o
IiVzIENvdWxkbid0IG1hcCAlbGQgcGFnZXMgcmM6JWRcbiIsIF9fZnVuY19fLAogCQkJbnJfcGFn
ZXMsIHJjKTsKLQkJeGVuX2ZyZWVfdW5wb3B1bGF0ZWRfcGFnZXMobnJfcGFnZXMsIHBhZ2VzKTsK
KwkJZnJlZV94ZW5iYWxsb29uZWRfcGFnZXMobnJfcGFnZXMsIHBhZ2VzKTsKIAkJa2ZyZWUocGFn
ZXMpOwogCQlrZnJlZShwZm5zKTsKIAkJcmV0dXJuIC1FTk9NRU07CmRpZmYgLS1naXQgYS9pbmNs
dWRlL3hlbi94ZW4uaCBiL2luY2x1ZGUveGVuL3hlbi5oCmluZGV4IDQzZWZiYTA0NWFjYy4uMTlh
NzJmNTkxZTJiIDEwMDY0NAotLS0gYS9pbmNsdWRlL3hlbi94ZW4uaAorKysgYi9pbmNsdWRlL3hl
bi94ZW4uaApAQCAtNTIsMTMgKzUyLDQgQEAgYm9vbCB4ZW5fYmlvdmVjX3BoeXNfbWVyZ2VhYmxl
KGNvbnN0IHN0cnVjdCBiaW9fdmVjICp2ZWMxLAogZXh0ZXJuIHU2NCB4ZW5fc2F2ZWRfbWF4X21l
bV9zaXplOwogI2VuZGlmCiAKLSNpZmRlZiBDT05GSUdfWEVOX1VOUE9QVUxBVEVEX0FMTE9DCi1p
bnQgeGVuX2FsbG9jX3VucG9wdWxhdGVkX3BhZ2VzKHVuc2lnbmVkIGludCBucl9wYWdlcywgc3Ry
dWN0IHBhZ2UgKipwYWdlcyk7Ci12b2lkIHhlbl9mcmVlX3VucG9wdWxhdGVkX3BhZ2VzKHVuc2ln
bmVkIGludCBucl9wYWdlcywgc3RydWN0IHBhZ2UgKipwYWdlcyk7Ci0jZWxzZQotI2RlZmluZSB4
ZW5fYWxsb2NfdW5wb3B1bGF0ZWRfcGFnZXMgYWxsb2NfeGVuYmFsbG9vbmVkX3BhZ2VzCi0jZGVm
aW5lIHhlbl9mcmVlX3VucG9wdWxhdGVkX3BhZ2VzIGZyZWVfeGVuYmFsbG9vbmVkX3BhZ2VzCi0j
aW5jbHVkZSA8eGVuL2JhbGxvb24uaD4KLSNlbmRpZgotCiAjZW5kaWYJLyogX1hFTl9YRU5fSCAq
LwotLSAKMi4yNS40CgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2
ZWwK
