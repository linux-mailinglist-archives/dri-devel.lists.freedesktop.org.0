Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id C2C6A8D28C
	for <lists+dri-devel@lfdr.de>; Wed, 14 Aug 2019 13:55:02 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3E32889159;
	Wed, 14 Aug 2019 11:54:58 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from metis.ext.pengutronix.de (metis.ext.pengutronix.de
 [IPv6:2001:67c:670:201:290:27ff:fe1d:cc33])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3882A89159
 for <dri-devel@lists.freedesktop.org>; Wed, 14 Aug 2019 11:54:57 +0000 (UTC)
Received: from dude02.hi.pengutronix.de ([2001:67c:670:100:1d::28]
 helo=dude02.pengutronix.de.)
 by metis.ext.pengutronix.de with esmtp (Exim 4.92)
 (envelope-from <p.zabel@pengutronix.de>)
 id 1hxrrj-00036w-Ef; Wed, 14 Aug 2019 13:54:55 +0200
From: Philipp Zabel <p.zabel@pengutronix.de>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH 2/7] gpu: ipu-v3: image-convert: move output seam valid
 interval calculation into find_best_seam
Date: Wed, 14 Aug 2019 13:54:39 +0200
Message-Id: <20190814115444.13024-2-p.zabel@pengutronix.de>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190814115444.13024-1-p.zabel@pengutronix.de>
References: <20190814115444.13024-1-p.zabel@pengutronix.de>
MIME-Version: 1.0
X-SA-Exim-Connect-IP: 2001:67c:670:100:1d::28
X-SA-Exim-Mail-From: p.zabel@pengutronix.de
X-SA-Exim-Scanned: No (on metis.ext.pengutronix.de);
 SAEximRunCond expanded to false
X-PTX-Original-Recipient: dri-devel@lists.freedesktop.org
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: kernel@pengutronix.de, Steve Longerbeam <slongerbeam@gmail.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhpcyByZWR1Y2VzIGNvZGUgZHVwbGljYXRpb24gYW5kIGFsbG93cyB0byBlYXNpbHkgY2FsY3Vs
YXRlIHRoZSB2YWxpZAppbnRlcnZhbCBmb3IgdGhlIGlucHV0IHNlYW0gcG9zaXRpb24gaW4gdGhl
IHNhbWUgcGxhY2UuCgpTaWduZWQtb2ZmLWJ5OiBQaGlsaXBwIFphYmVsIDxwLnphYmVsQHBlbmd1
dHJvbml4LmRlPgotLS0KIGRyaXZlcnMvZ3B1L2lwdS12My9pcHUtaW1hZ2UtY29udmVydC5jIHwg
MzAgKysrKysrKysrKystLS0tLS0tLS0tLS0tLS0KIDEgZmlsZSBjaGFuZ2VkLCAxMiBpbnNlcnRp
b25zKCspLCAxOCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9pcHUtdjMv
aXB1LWltYWdlLWNvbnZlcnQuYyBiL2RyaXZlcnMvZ3B1L2lwdS12My9pcHUtaW1hZ2UtY29udmVy
dC5jCmluZGV4IGM5OTA5ZjFjOWZmYi4uNGFjNzM3N2NmZTVjIDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9pcHUtdjMvaXB1LWltYWdlLWNvbnZlcnQuYworKysgYi9kcml2ZXJzL2dwdS9pcHUtdjMv
aXB1LWltYWdlLWNvbnZlcnQuYwpAQCAtNDQyLDEyICs0NDIsMTAgQEAgc3RhdGljIGludCBjYWxj
X2ltYWdlX3Jlc2l6ZV9jb2VmZmljaWVudHMoc3RydWN0IGlwdV9pbWFnZV9jb252ZXJ0X2N0eCAq
Y3R4LAogI2RlZmluZSByb3VuZF9jbG9zZXN0KHgsIHkpIHJvdW5kX2Rvd24oKHgpICsgKHkpLzIs
ICh5KSkKIAogLyoKLSAqIEZpbmQgdGhlIGJlc3QgYWxpZ25lZCBzZWFtIHBvc2l0aW9uIGluIHRo
ZSBpbnZlcnZhbCBbb3V0X3N0YXJ0LCBvdXRfZW5kXS4KKyAqIEZpbmQgdGhlIGJlc3QgYWxpZ25l
ZCBzZWFtIHBvc2l0aW9uIGZvciB0aGUgZ2l2ZW4gY29sdW1uIC8gcm93IGluZGV4LgogICogUm90
YXRpb24gYW5kIGltYWdlIG9mZnNldHMgYXJlIG91dCBvZiBzY29wZS4KICAqCi0gKiBAb3V0X3N0
YXJ0OiBzdGFydCBvZiBpbnZlcnZhbCwgbXVzdCBiZSB3aXRoaW4gMTAyNCBwaXhlbHMgLyBsaW5l
cwotICogICAgICAgICAgICAgb2Ygb3V0X2VuZAotICogQG91dF9lbmQ6IGVuZCBvZiBpbnRlcnZh
bCwgc21hbGxlciB0aGFuIG9yIGVxdWFsIHRvIG91dF9lZGdlCisgKiBAaW5kZXg6IGNvbHVtbiAv
IHJvdyBpbmRleCwgdXNlZCB0byBjYWxjdWxhdGUgdmFsaWQgaW50ZXJ2YWwKICAqIEBpbl9lZGdl
OiBpbnB1dCByaWdodCAvIGJvdHRvbSBlZGdlCiAgKiBAb3V0X2VkZ2U6IG91dHB1dCByaWdodCAv
IGJvdHRvbSBlZGdlCiAgKiBAaW5fYWxpZ246IGlucHV0IGFsaWdubWVudCwgZWl0aGVyIGhvcml6
b250YWwgOC1ieXRlIGxpbmUgc3RhcnQgYWRkcmVzcwpAQCAtNDYzLDggKzQ2MSw3IEBAIHN0YXRp
YyBpbnQgY2FsY19pbWFnZV9yZXNpemVfY29lZmZpY2llbnRzKHN0cnVjdCBpcHVfaW1hZ2VfY29u
dmVydF9jdHggKmN0eCwKICAqIEBfb3V0X3NlYW06IGFsaWduZWQgb3V0cHV0IHNlYW0gcG9zaXRp
b24gcmV0dXJuIHZhbHVlCiAgKi8KIHN0YXRpYyB2b2lkIGZpbmRfYmVzdF9zZWFtKHN0cnVjdCBp
cHVfaW1hZ2VfY29udmVydF9jdHggKmN0eCwKLQkJCSAgIHVuc2lnbmVkIGludCBvdXRfc3RhcnQs
Ci0JCQkgICB1bnNpZ25lZCBpbnQgb3V0X2VuZCwKKwkJCSAgIHVuc2lnbmVkIGludCBpbmRleCwK
IAkJCSAgIHVuc2lnbmVkIGludCBpbl9lZGdlLAogCQkJICAgdW5zaWduZWQgaW50IG91dF9lZGdl
LAogCQkJICAgdW5zaWduZWQgaW50IGluX2FsaWduLApAQCAtNDgyLDYgKzQ3OSwxMyBAQCBzdGF0
aWMgdm9pZCBmaW5kX2Jlc3Rfc2VhbShzdHJ1Y3QgaXB1X2ltYWdlX2NvbnZlcnRfY3R4ICpjdHgs
CiAJdW5zaWduZWQgaW50IG91dF9zZWFtID0gMDsKIAl1bnNpZ25lZCBpbnQgaW5fc2VhbSA9IDA7
CiAJdW5zaWduZWQgaW50IG1pbl9kaWZmID0gVUlOVF9NQVg7CisJdW5zaWduZWQgaW50IG91dF9z
dGFydDsKKwl1bnNpZ25lZCBpbnQgb3V0X2VuZDsKKworCS8qIFN0YXJ0IHdpdGhpbiAxMDI0IHBp
eGVscyBvZiB0aGUgcmlnaHQgLyBib3R0b20gZWRnZSAqLworCW91dF9zdGFydCA9IG1heF90KGlu
dCwgaW5kZXggKiBvdXRfYWxpZ24sIG91dF9lZGdlIC0gMTAyNCk7CisJLyogRW5kIGJlZm9yZSBo
YXZpbmcgdG8gYWRkIG1vcmUgY29sdW1ucyB0byB0aGUgbGVmdCAvIHJvd3MgYWJvdmUgKi8KKwlv
dXRfZW5kID0gbWluX3QodW5zaWduZWQgaW50LCBvdXRfZWRnZSwgaW5kZXggKiAxMDI0ICsgMSk7
CiAKIAkvKgogCSAqIE91dHB1dCB0aWxlcyBtdXN0IHN0YXJ0IGF0IGEgbXVsdGlwbGUgb2YgOCBi
eXRlcyBob3Jpem9udGFsbHkgYW5kCkBAIC03MjIsMTIgKzcyNiw3IEBAIHN0YXRpYyB2b2lkIGZp
bmRfc2VhbXMoc3RydWN0IGlwdV9pbWFnZV9jb252ZXJ0X2N0eCAqY3R4LAogCQkgKiBob3Jpem9u
dGFsbHkuCiAJCSAqLwogCi0JCS8qIFN0YXJ0IHdpdGhpbiAxMDI0IHBpeGVscyBvZiB0aGUgcmln
aHQgZWRnZSAqLwotCQlvdXRfc3RhcnQgPSBtYXhfdChpbnQsIGNvbCAqIG91dF9sZWZ0X2FsaWdu
LCBvdXRfcmlnaHQgLSAxMDI0KTsKLQkJLyogRW5kIGJlZm9yZSBoYXZpbmcgdG8gYWRkIG1vcmUg
Y29sdW1ucyB0byB0aGUgbGVmdCAqLwotCQlvdXRfZW5kID0gbWluX3QodW5zaWduZWQgaW50LCBv
dXRfcmlnaHQsIGNvbCAqIDEwMjQgKyAxKTsKLQotCQlmaW5kX2Jlc3Rfc2VhbShjdHgsIG91dF9z
dGFydCwgb3V0X2VuZCwKKwkJZmluZF9iZXN0X3NlYW0oY3R4LCBjb2wsCiAJCQkgICAgICAgaW5f
cmlnaHQsIG91dF9yaWdodCwKIAkJCSAgICAgICBpbl9sZWZ0X2FsaWduLCBvdXRfbGVmdF9hbGln
biwKIAkJCSAgICAgICBhbGxvd19pbl9vdmVyc2hvb3QgPyAxIDogOCAvKiBidXJzdCBsZW5ndGgg
Ki8sCkBAIC03NjcsMTIgKzc2Niw3IEBAIHN0YXRpYyB2b2lkIGZpbmRfc2VhbXMoc3RydWN0IGlw
dV9pbWFnZV9jb252ZXJ0X2N0eCAqY3R4LAogCQl1bnNpZ25lZCBpbnQgaW5fdG9wOwogCQl1bnNp
Z25lZCBpbnQgb3V0X3RvcDsKIAotCQkvKiBTdGFydCB3aXRoaW4gMTAyNCBsaW5lcyBvZiB0aGUg
Ym90dG9tIGVkZ2UgKi8KLQkJb3V0X3N0YXJ0ID0gbWF4X3QoaW50LCByb3cgKiBvdXRfdG9wX2Fs
aWduLCBvdXRfYm90dG9tIC0gMTAyNCk7Ci0JCS8qIEVuZCBiZWZvcmUgaGF2aW5nIHRvIGFkZCBt
b3JlIHJvd3MgYWJvdmUgKi8KLQkJb3V0X2VuZCA9IG1pbl90KHVuc2lnbmVkIGludCwgb3V0X2Jv
dHRvbSwgcm93ICogMTAyNCArIDEpOwotCi0JCWZpbmRfYmVzdF9zZWFtKGN0eCwgb3V0X3N0YXJ0
LCBvdXRfZW5kLAorCQlmaW5kX2Jlc3Rfc2VhbShjdHgsIHJvdywKIAkJCSAgICAgICBpbl9ib3R0
b20sIG91dF9ib3R0b20sCiAJCQkgICAgICAgaW5fdG9wX2FsaWduLCBvdXRfdG9wX2FsaWduLAog
CQkJICAgICAgIDEsIGFsbG93X292ZXJzaG9vdCA/IDEgOiBvdXRfaGVpZ2h0X2FsaWduLAotLSAK
Mi4yMC4xCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpk
cmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0
cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
