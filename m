Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 043B86E356
	for <lists+dri-devel@lfdr.de>; Fri, 19 Jul 2019 11:22:02 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A7DF56E7D8;
	Fri, 19 Jul 2019 09:21:59 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ed1-x542.google.com (mail-ed1-x542.google.com
 [IPv6:2a00:1450:4864:20::542])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C3D726E7D8
 for <dri-devel@lists.freedesktop.org>; Fri, 19 Jul 2019 09:21:57 +0000 (UTC)
Received: by mail-ed1-x542.google.com with SMTP id v15so33890457eds.9
 for <dri-devel@lists.freedesktop.org>; Fri, 19 Jul 2019 02:21:57 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:sender:date:from:to:cc:subject:message-id
 :mail-followup-to:references:mime-version:content-disposition
 :in-reply-to:user-agent;
 bh=t6Vr53TBuqQPSOZiTakSkRzPl1CvH4APrgjyKpN8jxU=;
 b=pQOqoLCPFmkSJQEt7RS7ue29JaFZeBCDz0eDLVv33b+xYgDptF4MBlU+SlWI9mr1gh
 JAVHyjm1xT8dUKfXhiM8VrvpLHrZ4u/tYjWX7svdSXWccHSZqprhsotmNi2lNI5ZDGhG
 f53QHHijK3/9W1/eP1dSBgE9a9KBpie53iRX1zFWUKzzuF8reuQbvgyMa1O0Eo6DhrRq
 +NlYjGm3sAL0rniblTtGTyB8aeKmwRIiUIDTe+9WF683UZD2q/8cGwdKbDhCRA1ptN8f
 Uq4qWc3KF261uQOdwCIcuk97fX+EWkbesCWrEWjmKJaJgetC+02IQ0/aj+6cWvvvg5qw
 /lzQ==
X-Gm-Message-State: APjAAAX7bjqpdQ24PNw+OxCJn52/xjIpV1VXGIJ2v3+uqsY2Y7E5yuz1
 6nSE/I3NvLbQmCgS9C7BPMY=
X-Google-Smtp-Source: APXvYqy+JmFMnnKNpkwpu7j/tXbUYLoOqitanwUsQzcawAcHzXt4P9DZ1CP9Gi1i6oivLhqNMrXLvw==
X-Received: by 2002:a17:906:d052:: with SMTP id
 bo18mr34785968ejb.311.1563528116453; 
 Fri, 19 Jul 2019 02:21:56 -0700 (PDT)
Received: from phenom.ffwll.local ([2a02:168:569e:0:3106:d637:d723:e855])
 by smtp.gmail.com with ESMTPSA id j7sm8697661eda.97.2019.07.19.02.21.55
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Fri, 19 Jul 2019 02:21:55 -0700 (PDT)
Date: Fri, 19 Jul 2019 11:21:53 +0200
From: Daniel Vetter <daniel@ffwll.ch>
To: Rob Clark <robdclark@gmail.com>
Subject: Re: [PATCH] drm/vgem: fix cache synchronization on arm/arm64
Message-ID: <20190719092153.GJ15868@phenom.ffwll.local>
Mail-Followup-To: Rob Clark <robdclark@gmail.com>,
 dri-devel@lists.freedesktop.org, Rob Clark <robdclark@chromium.org>,
 David Airlie <airlied@linux.ie>,
 Emil Velikov <emil.velikov@collabora.com>,
 Chris Wilson <chris@chris-wilson.co.uk>,
 Eric Anholt <eric@anholt.net>,
 Thomas Zimmermann <tzimmermann@suse.de>,
 Imre Deak <imre.deak@intel.com>,
 Deepak Sharma <deepak.sharma@amd.com>,
 Eric Biggers <ebiggers@google.com>, linux-kernel@vger.kernel.org
References: <20190717211542.30482-1-robdclark@gmail.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190717211542.30482-1-robdclark@gmail.com>
X-Operating-System: Linux phenom 4.19.0-5-amd64 
User-Agent: Mutt/1.10.1 (2018-07-13)
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=sender:date:from:to:cc:subject:message-id:mail-followup-to
 :references:mime-version:content-disposition:in-reply-to:user-agent;
 bh=t6Vr53TBuqQPSOZiTakSkRzPl1CvH4APrgjyKpN8jxU=;
 b=DLyAkFoUEqSlHcyZ/PDvKIT+W0+GcBI470U9pgBbem6e3boYprAsOb5Q+/v6yspukQ
 HiE0fGIbpDWwazpRCGAFBuN6FKKfo9kjm8+eOfs+CcFtiDgLLaNVwDoASZtjq24cPSyN
 uflchF6cVKA88pnLRNd5FtcnQVrSHfksdN/WY=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Rob Clark <robdclark@chromium.org>, Deepak Sharma <deepak.sharma@amd.com>,
 Thomas Zimmermann <tzimmermann@suse.de>, Eric Biggers <ebiggers@google.com>,
 David Airlie <airlied@linux.ie>, linux-kernel@vger.kernel.org,
 dri-devel@lists.freedesktop.org, Emil Velikov <emil.velikov@collabora.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gV2VkLCBKdWwgMTcsIDIwMTkgYXQgMDI6MTU6MzdQTSAtMDcwMCwgUm9iIENsYXJrIHdyb3Rl
Ogo+IEZyb206IFJvYiBDbGFyayA8cm9iZGNsYXJrQGNocm9taXVtLm9yZz4KPiAKPiBkcm1fY2Zs
dXNoX3BhZ2VzKCkgaXMgbm8tb3Agb24gYXJtL2FybTY0LiAgQnV0IGluc3RlYWQgd2UgY2FuIHVz
ZQo+IGRtYV9zeW5jIEFQSS4KPiAKPiBGaXhlcyBmYWlsdXJlcyB3LyB2Z2VtX3Rlc3QuCj4gCj4g
U2lnbmVkLW9mZi1ieTogUm9iIENsYXJrIDxyb2JkY2xhcmtAY2hyb21pdW0ub3JnPgo+IC0tLQo+
IEFuIGFsdGVybmF0aXZlIGFwcHJvYWNoIHRvIHRoZSBzZXJpZXNbMV0gSSBzZW50IHllc3RlcmRh
eQo+IAo+IE9uIHRoZSBwbHVzIHNpZGUsIGl0IGtlZXBzIHRoZSBXQyBidWZmZXJzIGFuZCBhdm9p
ZHMgYW55IGRybSBjb3JlCj4gY2hhbmdlcy4gIE9uIHRoZSBtaW51cyBzaWRlLCBJIGRvbid0IHRo
aW5rIGl0IHdpbGwgd29yayAoYXQgbGVhc3QKPiBvbiBhcm02NCkgcHJpb3IgdG8gdjUuMFsyXSwg
c28gdGhlIGZpeCBjYW4ndCBiZSBiYWNrcG9ydGVkIHZlcnkKPiBmYXIuCgpZZWFoIHNlZW1zIGEg
bG90IG1vcmUgcmVhc29uYWJsZS4KCkFja2VkLWJ5OiBEYW5pZWwgVmV0dGVyIDxkYW5pZWwudmV0
dGVyQGZmd2xsLmNoPgo+IAo+IFsxXSBodHRwczovL3BhdGNod29yay5mcmVlZGVza3RvcC5vcmcv
c2VyaWVzLzYzNzcxLwo+IFsyXSBkZXBlbmRzIG9uIDM1NmRhNmQwY2RlMzMyMzIzNjk3N2ZjZTU0
YzFmOTYxMmE3NDIwMzYKPiAKPiAgZHJpdmVycy9ncHUvZHJtL3ZnZW0vdmdlbV9kcnYuYyB8IDEz
MCArKysrKysrKysrKysrKysrKysrKy0tLS0tLS0tLS0tLQo+ICAxIGZpbGUgY2hhbmdlZCwgODMg
aW5zZXJ0aW9ucygrKSwgNDcgZGVsZXRpb25zKC0pCj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS92Z2VtL3ZnZW1fZHJ2LmMgYi9kcml2ZXJzL2dwdS9kcm0vdmdlbS92Z2VtX2Rydi5j
Cj4gaW5kZXggNzZkOTViNWUyODljLi42YzliNWUyMGIzZDQgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL3ZnZW0vdmdlbV9kcnYuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS92Z2VtL3Zn
ZW1fZHJ2LmMKPiBAQCAtNDcsMTAgKzQ3LDE2IEBAIHN0YXRpYyBzdHJ1Y3QgdmdlbV9kZXZpY2Ug
ewo+ICAJc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGxhdGZvcm07Cj4gIH0gKnZnZW1fZGV2aWNl
Owo+ICAKPiArc3RhdGljIHZvaWQgc3luY19hbmRfdW5waW4oc3RydWN0IGRybV92Z2VtX2dlbV9v
YmplY3QgKmJvKTsKPiArc3RhdGljIHN0cnVjdCBwYWdlICoqcGluX2FuZF9zeW5jKHN0cnVjdCBk
cm1fdmdlbV9nZW1fb2JqZWN0ICpibyk7Cj4gKwo+ICBzdGF0aWMgdm9pZCB2Z2VtX2dlbV9mcmVl
X29iamVjdChzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKm9iaikKPiAgewo+ICAJc3RydWN0IGRybV92
Z2VtX2dlbV9vYmplY3QgKnZnZW1fb2JqID0gdG9fdmdlbV9ibyhvYmopOwo+ICAKPiArCWlmICgh
b2JqLT5pbXBvcnRfYXR0YWNoKQo+ICsJCXN5bmNfYW5kX3VucGluKHZnZW1fb2JqKTsKPiArCj4g
IAlrdmZyZWUodmdlbV9vYmotPnBhZ2VzKTsKPiAgCW11dGV4X2Rlc3Ryb3koJnZnZW1fb2JqLT5w
YWdlc19sb2NrKTsKPiAgCj4gQEAgLTc4LDQwICs4NCwxNSBAQCBzdGF0aWMgdm1fZmF1bHRfdCB2
Z2VtX2dlbV9mYXVsdChzdHJ1Y3Qgdm1fZmF1bHQgKnZtZikKPiAgCQlyZXR1cm4gVk1fRkFVTFRf
U0lHQlVTOwo+ICAKPiAgCW11dGV4X2xvY2soJm9iai0+cGFnZXNfbG9jayk7Cj4gKwlpZiAoIW9i
ai0+cGFnZXMpCj4gKwkJcGluX2FuZF9zeW5jKG9iaik7Cj4gIAlpZiAob2JqLT5wYWdlcykgewo+
ICAJCWdldF9wYWdlKG9iai0+cGFnZXNbcGFnZV9vZmZzZXRdKTsKPiAgCQl2bWYtPnBhZ2UgPSBv
YmotPnBhZ2VzW3BhZ2Vfb2Zmc2V0XTsKPiAgCQlyZXQgPSAwOwo+ICAJfQo+ICAJbXV0ZXhfdW5s
b2NrKCZvYmotPnBhZ2VzX2xvY2spOwo+IC0JaWYgKHJldCkgewo+IC0JCXN0cnVjdCBwYWdlICpw
YWdlOwo+IC0KPiAtCQlwYWdlID0gc2htZW1fcmVhZF9tYXBwaW5nX3BhZ2UoCj4gLQkJCQkJZmls
ZV9pbm9kZShvYmotPmJhc2UuZmlscCktPmlfbWFwcGluZywKPiAtCQkJCQlwYWdlX29mZnNldCk7
Cj4gLQkJaWYgKCFJU19FUlIocGFnZSkpIHsKPiAtCQkJdm1mLT5wYWdlID0gcGFnZTsKPiAtCQkJ
cmV0ID0gMDsKPiAtCQl9IGVsc2Ugc3dpdGNoIChQVFJfRVJSKHBhZ2UpKSB7Cj4gLQkJCWNhc2Ug
LUVOT1NQQzoKPiAtCQkJY2FzZSAtRU5PTUVNOgo+IC0JCQkJcmV0ID0gVk1fRkFVTFRfT09NOwo+
IC0JCQkJYnJlYWs7Cj4gLQkJCWNhc2UgLUVCVVNZOgo+IC0JCQkJcmV0ID0gVk1fRkFVTFRfUkVU
Ulk7Cj4gLQkJCQlicmVhazsKPiAtCQkJY2FzZSAtRUZBVUxUOgo+IC0JCQljYXNlIC1FSU5WQUw6
Cj4gLQkJCQlyZXQgPSBWTV9GQVVMVF9TSUdCVVM7Cj4gLQkJCQlicmVhazsKPiAtCQkJZGVmYXVs
dDoKPiAtCQkJCVdBUk5fT04oUFRSX0VSUihwYWdlKSk7Cj4gLQkJCQlyZXQgPSBWTV9GQVVMVF9T
SUdCVVM7Cj4gLQkJCQlicmVhazsKPiAtCQl9Cj4gIAo+IC0JfQo+ICAJcmV0dXJuIHJldDsKPiAg
fQo+ICAKPiBAQCAtMjc3LDMyICsyNTgsOTMgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBmaWxlX29w
ZXJhdGlvbnMgdmdlbV9kcml2ZXJfZm9wcyA9IHsKPiAgCS5yZWxlYXNlCT0gZHJtX3JlbGVhc2Us
Cj4gIH07Cj4gIAo+IC1zdGF0aWMgc3RydWN0IHBhZ2UgKip2Z2VtX3Bpbl9wYWdlcyhzdHJ1Y3Qg
ZHJtX3ZnZW1fZ2VtX29iamVjdCAqYm8pCj4gKy8qIENhbGxlZCB1bmRlciBwYWdlc19sb2NrLCBl
eGNlcHQgaW4gZnJlZSBwYXRoICh3aGVyZSBpdCBjYW4ndCByYWNlKTogKi8KPiArc3RhdGljIHZv
aWQgc3luY19hbmRfdW5waW4oc3RydWN0IGRybV92Z2VtX2dlbV9vYmplY3QgKmJvKQo+ICB7Cj4g
LQltdXRleF9sb2NrKCZiby0+cGFnZXNfbG9jayk7Cj4gLQlpZiAoYm8tPnBhZ2VzX3Bpbl9jb3Vu
dCsrID09IDApIHsKPiAtCQlzdHJ1Y3QgcGFnZSAqKnBhZ2VzOwo+ICsJc3RydWN0IGRybV9kZXZp
Y2UgKmRldiA9IGJvLT5iYXNlLmRldjsKPiArCj4gKwlpZiAoYm8tPnRhYmxlKSB7Cj4gKwkJZG1h
X3N5bmNfc2dfZm9yX2NwdShkZXYtPmRldiwgYm8tPnRhYmxlLT5zZ2wsCj4gKwkJCQliby0+dGFi
bGUtPm5lbnRzLCBETUFfQklESVJFQ1RJT05BTCk7Cj4gKwkJc2dfZnJlZV90YWJsZShiby0+dGFi
bGUpOwo+ICsJCWtmcmVlKGJvLT50YWJsZSk7Cj4gKwkJYm8tPnRhYmxlID0gTlVMTDsKPiArCX0K
PiArCj4gKwlpZiAoYm8tPnBhZ2VzKSB7Cj4gKwkJZHJtX2dlbV9wdXRfcGFnZXMoJmJvLT5iYXNl
LCBiby0+cGFnZXMsIHRydWUsIHRydWUpOwo+ICsJCWJvLT5wYWdlcyA9IE5VTEw7Cj4gKwl9Cj4g
K30KPiArCj4gK3N0YXRpYyBzdHJ1Y3QgcGFnZSAqKnBpbl9hbmRfc3luYyhzdHJ1Y3QgZHJtX3Zn
ZW1fZ2VtX29iamVjdCAqYm8pCj4gK3sKPiArCXN0cnVjdCBkcm1fZGV2aWNlICpkZXYgPSBiby0+
YmFzZS5kZXY7Cj4gKwlpbnQgbnBhZ2VzID0gYm8tPmJhc2Uuc2l6ZSA+PiBQQUdFX1NISUZUOwo+
ICsJc3RydWN0IHBhZ2UgKipwYWdlczsKPiArCXN0cnVjdCBzZ190YWJsZSAqc2d0Owo+ICsKPiAr
CVdBUk5fT04oIW11dGV4X2lzX2xvY2tlZCgmYm8tPnBhZ2VzX2xvY2spKTsKPiArCj4gKwlwYWdl
cyA9IGRybV9nZW1fZ2V0X3BhZ2VzKCZiby0+YmFzZSk7Cj4gKwlpZiAoSVNfRVJSKHBhZ2VzKSkg
ewo+ICsJCWJvLT5wYWdlc19waW5fY291bnQtLTsKPiArCQltdXRleF91bmxvY2soJmJvLT5wYWdl
c19sb2NrKTsKPiArCQlyZXR1cm4gcGFnZXM7Cj4gKwl9Cj4gIAo+IC0JCXBhZ2VzID0gZHJtX2dl
bV9nZXRfcGFnZXMoJmJvLT5iYXNlKTsKPiAtCQlpZiAoSVNfRVJSKHBhZ2VzKSkgewo+IC0JCQli
by0+cGFnZXNfcGluX2NvdW50LS07Cj4gLQkJCW11dGV4X3VubG9jaygmYm8tPnBhZ2VzX2xvY2sp
Owo+IC0JCQlyZXR1cm4gcGFnZXM7Cj4gLQkJfQo+ICsJc2d0ID0gZHJtX3ByaW1lX3BhZ2VzX3Rv
X3NnKHBhZ2VzLCBucGFnZXMpOwo+ICsJaWYgKElTX0VSUihzZ3QpKSB7Cj4gKwkJZGV2X2Vycihk
ZXYtPmRldiwKPiArCQkJImZhaWxlZCB0byBhbGxvY2F0ZSBzZ3Q6ICVsZFxuIiwKPiArCQkJUFRS
X0VSUihiby0+dGFibGUpKTsKPiArCQlkcm1fZ2VtX3B1dF9wYWdlcygmYm8tPmJhc2UsIHBhZ2Vz
LCBmYWxzZSwgZmFsc2UpOwo+ICsJCW11dGV4X3VubG9jaygmYm8tPnBhZ2VzX2xvY2spOwo+ICsJ
CXJldHVybiBFUlJfQ0FTVChiby0+dGFibGUpOwo+ICsJfQo+ICsKPiArCS8qCj4gKwkgKiBGbHVz
aCB0aGUgb2JqZWN0IGZyb20gdGhlIENQVSBjYWNoZSBzbyB0aGF0IGltcG9ydGVycwo+ICsJICog
Y2FuIHJlbHkgb24gY29oZXJlbnQgaW5kaXJlY3QgYWNjZXNzIHZpYSB0aGUgZXhwb3J0ZWQKPiAr
CSAqIGRtYS1hZGRyZXNzLgo+ICsJICovCj4gKwlkbWFfc3luY19zZ19mb3JfZGV2aWNlKGRldi0+
ZGV2LCBzZ3QtPnNnbCwKPiArCQkJc2d0LT5uZW50cywgRE1BX0JJRElSRUNUSU9OQUwpOwo+ICsK
PiArCWJvLT5wYWdlcyA9IHBhZ2VzOwo+ICsJYm8tPnRhYmxlID0gc2d0Owo+ICsKPiArCXJldHVy
biBwYWdlczsKPiArfQo+ICsKPiArc3RhdGljIHN0cnVjdCBwYWdlICoqdmdlbV9waW5fcGFnZXMo
c3RydWN0IGRybV92Z2VtX2dlbV9vYmplY3QgKmJvKQo+ICt7Cj4gKwlzdHJ1Y3QgcGFnZSAqKnBh
Z2VzOwo+ICAKPiAtCQliby0+cGFnZXMgPSBwYWdlczsKPiArCW11dGV4X2xvY2soJmJvLT5wYWdl
c19sb2NrKTsKPiArCWlmIChiby0+cGFnZXNfcGluX2NvdW50KysgPT0gMCAmJiAhYm8tPnBhZ2Vz
KSB7Cj4gKwkJcGFnZXMgPSBwaW5fYW5kX3N5bmMoYm8pOwo+ICsJfSBlbHNlIHsKPiArCQlXQVJO
X09OKCFiby0+cGFnZXMpOwo+ICsJCXBhZ2VzID0gYm8tPnBhZ2VzOwo+ICAJfQo+ICAJbXV0ZXhf
dW5sb2NrKCZiby0+cGFnZXNfbG9jayk7Cj4gIAo+IC0JcmV0dXJuIGJvLT5wYWdlczsKPiArCXJl
dHVybiBwYWdlczsKPiAgfQo+ICAKPiAgc3RhdGljIHZvaWQgdmdlbV91bnBpbl9wYWdlcyhzdHJ1
Y3QgZHJtX3ZnZW1fZ2VtX29iamVjdCAqYm8pCj4gIHsKPiArCS8qCj4gKwkgKiBXZSBzaG91bGRu
J3QgaGl0IHRoaXMgZm9yIGltcG9ydGVkIGJvJ3MuLiBpbiB0aGUgaW1wb3J0Cj4gKwkgKiBjYXNl
IHdlIGRvbid0IG93biB0aGUgc2NhdHRlci10YWJsZQo+ICsJICovCj4gKwlXQVJOX09OKGJvLT5i
YXNlLmltcG9ydF9hdHRhY2gpOwo+ICsKPiAgCW11dGV4X2xvY2soJmJvLT5wYWdlc19sb2NrKTsK
PiAgCWlmICgtLWJvLT5wYWdlc19waW5fY291bnQgPT0gMCkgewo+IC0JCWRybV9nZW1fcHV0X3Bh
Z2VzKCZiby0+YmFzZSwgYm8tPnBhZ2VzLCB0cnVlLCB0cnVlKTsKPiAtCQliby0+cGFnZXMgPSBO
VUxMOwo+ICsJCVdBUk5fT04oIWJvLT50YWJsZSk7Cj4gKwkJc3luY19hbmRfdW5waW4oYm8pOwo+
ICAJfQo+ICAJbXV0ZXhfdW5sb2NrKCZiby0+cGFnZXNfbG9jayk7Cj4gIH0KPiBAQCAtMzEwLDE4
ICszNTIsMTIgQEAgc3RhdGljIHZvaWQgdmdlbV91bnBpbl9wYWdlcyhzdHJ1Y3QgZHJtX3ZnZW1f
Z2VtX29iamVjdCAqYm8pCj4gIHN0YXRpYyBpbnQgdmdlbV9wcmltZV9waW4oc3RydWN0IGRybV9n
ZW1fb2JqZWN0ICpvYmopCj4gIHsKPiAgCXN0cnVjdCBkcm1fdmdlbV9nZW1fb2JqZWN0ICpibyA9
IHRvX3ZnZW1fYm8ob2JqKTsKPiAtCWxvbmcgbl9wYWdlcyA9IG9iai0+c2l6ZSA+PiBQQUdFX1NI
SUZUOwo+ICAJc3RydWN0IHBhZ2UgKipwYWdlczsKPiAgCj4gIAlwYWdlcyA9IHZnZW1fcGluX3Bh
Z2VzKGJvKTsKPiAgCWlmIChJU19FUlIocGFnZXMpKQo+ICAJCXJldHVybiBQVFJfRVJSKHBhZ2Vz
KTsKPiAgCj4gLQkvKiBGbHVzaCB0aGUgb2JqZWN0IGZyb20gdGhlIENQVSBjYWNoZSBzbyB0aGF0
IGltcG9ydGVycyBjYW4gcmVseQo+IC0JICogb24gY29oZXJlbnQgaW5kaXJlY3QgYWNjZXNzIHZp
YSB0aGUgZXhwb3J0ZWQgZG1hLWFkZHJlc3MuCj4gLQkgKi8KPiAtCWRybV9jbGZsdXNoX3BhZ2Vz
KHBhZ2VzLCBuX3BhZ2VzKTsKPiAtCj4gIAlyZXR1cm4gMDsKPiAgfQo+ICAKPiAtLSAKPiAyLjIx
LjAKPiAKCi0tIApEYW5pZWwgVmV0dGVyClNvZnR3YXJlIEVuZ2luZWVyLCBJbnRlbCBDb3Jwb3Jh
dGlvbgpodHRwOi8vYmxvZy5mZndsbC5jaApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5m
cmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0
aW5mby9kcmktZGV2ZWw=
