Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id B6258B759A
	for <lists+dri-devel@lfdr.de>; Thu, 19 Sep 2019 10:59:49 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 063386F4EE;
	Thu, 19 Sep 2019 08:59:47 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from perceval.ideasonboard.com (perceval.ideasonboard.com
 [213.167.242.64])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 9246C6F4EE
 for <dri-devel@lists.freedesktop.org>; Thu, 19 Sep 2019 08:59:44 +0000 (UTC)
Received: from [192.168.0.20]
 (cpc89242-aztw30-2-0-cust488.18-1.cable.virginm.net [86.31.129.233])
 by perceval.ideasonboard.com (Postfix) with ESMTPSA id 71769325;
 Thu, 19 Sep 2019 10:59:41 +0200 (CEST)
Subject: Re: [PATCH v4 3/9] drm: rcar-du: Add support for CMM
To: Laurent Pinchart <laurent.pinchart@ideasonboard.com>,
 Jacopo Mondi <jacopo+renesas@jmondi.org>
References: <20190906135436.10622-1-jacopo+renesas@jmondi.org>
 <20190906135436.10622-4-jacopo+renesas@jmondi.org>
 <20190918225534.GA11474@pendragon.ideasonboard.com>
From: Kieran Bingham <kieran.bingham+renesas@ideasonboard.com>
Organization: Ideas on Board
Message-ID: <48b1333a-74e4-34b8-f898-79a74a88a816@ideasonboard.com>
Date: Thu, 19 Sep 2019 09:59:39 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <20190918225534.GA11474@pendragon.ideasonboard.com>
Content-Language: en-GB
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=ideasonboard.com; s=mail; t=1568883582;
 bh=vsOFDIsx8LwAe2LG1OMhpWIedQphT5Et7RUQrm5ToTs=;
 h=Reply-To:Subject:To:Cc:References:From:Date:In-Reply-To:From;
 b=mXOdzfOLqV1D/CP/Jlnzkwt0qIdFvBakylVIC8K7urmZYmBIR2bfTJoJUAE+MMo05
 NiCa5e4hxOGsoDJGegUpB+sVwQyeZMe9srQuZAr5nvW2b/Lbh1fCzciHCbyRu69vQ7
 bLIw3RzF5yaLBH+a6TvH6e9pcpCLPFcXkfASVtLA=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Reply-To: kieran.bingham+renesas@ideasonboard.com
Cc: muroya@ksk.co.jp, VenkataRajesh.Kalakodima@in.bosch.com, airlied@linux.ie,
 koji.matsuoka.xm@renesas.com, dri-devel@lists.freedesktop.org,
 linux-kernel@vger.kernel.org, linux-renesas-soc@vger.kernel.org,
 horms@verge.net.au, geert@linux-m68k.org,
 Harsha.ManjulaMallikarjun@in.bosch.com, uli+renesas@fpond.eu
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgSmFjb3BvLCBMYXVyZW50LAoKCk9uIDE4LzA5LzIwMTkgMjM6NTUsIExhdXJlbnQgUGluY2hh
cnQgd3JvdGU6Cj4gSGkgSmFjb3BvLAo+IAo+IFRoYW5rIHlvdSBmb3IgdGhlIHBhdGNoLgo+IAo+
IE9uIEZyaSwgU2VwIDA2LCAyMDE5IGF0IDAzOjU0OjMwUE0gKzAyMDAsIEphY29wbyBNb25kaSB3
cm90ZToKPj4gQWRkIGEgZHJpdmVyIGZvciB0aGUgUi1DYXIgRGlzcGxheSBVbml0IENvbG9yIENv
cnJlY3Rpb24gTW9kdWxlLgo+Pgo+PiBJbiBtb3N0IG9mIEdlbjMgU29DcywgZWFjaCBEVSBvdXRw
dXQgY2hhbm5lbCBpcyBwcm92aWRlZCB3aXRoIGEgQ01NIHVuaXQKPj4gdG8gcGVyZm9ybSBpbWFn
ZSBlbmhhbmNlbWVudCBhbmQgY29sb3IgY29ycmVjdGlvbi4KPj4KPj4gQWRkIHN1cHBvcnQgZm9y
IENNTSB0aHJvdWdoIGEgZHJpdmVyIHRoYXQgc3VwcG9ydHMgY29uZmlndXJhdGlvbiBvZgo+PiB0
aGUgMS1kaW1lbnNpb25hbCBMVVQgdGFibGUuIE1vcmUgYWR2YW5jZWQgQ01NIGZlYXR1cmUgd2ls
bCBiZQo+PiBpbXBsZW1lbnRlZCBvbiB0b3Agb2YgdGhpcyBiYXNpYyBvbmUuCj4+Cj4+IFNpZ25l
ZC1vZmYtYnk6IEphY29wbyBNb25kaSA8amFjb3BvK3JlbmVzYXNAam1vbmRpLm9yZz4KPj4gLS0t
Cj4+ICBkcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9LY29uZmlnICAgIHwgICA3ICsKPj4gIGRyaXZl
cnMvZ3B1L2RybS9yY2FyLWR1L01ha2VmaWxlICAgfCAgIDEgKwo+PiAgZHJpdmVycy9ncHUvZHJt
L3JjYXItZHUvcmNhcl9jbW0uYyB8IDI1MSArKysrKysrKysrKysrKysrKysrKysrKysrKysrKwo+
PiAgZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9jbW0uaCB8ICA2MSArKysrKysrCj4+ICA0
IGZpbGVzIGNoYW5nZWQsIDMyMCBpbnNlcnRpb25zKCspCj4+ICBjcmVhdGUgbW9kZSAxMDA2NDQg
ZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9jbW0uYwo+PiAgY3JlYXRlIG1vZGUgMTAwNjQ0
IGRyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfY21tLmgKPj4KPj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9yY2FyLWR1L0tjb25maWcgYi9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9L
Y29uZmlnCj4+IGluZGV4IDE1Mjk4NDllMjE3ZS4uNTM5ZDIzMjc5MGQxIDEwMDY0NAo+PiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9LY29uZmlnCj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9yY2FyLWR1L0tjb25maWcKPj4gQEAgLTEzLDYgKzEzLDEzIEBAIGNvbmZpZyBEUk1fUkNBUl9E
VQo+PiAgCSAgQ2hvb3NlIHRoaXMgb3B0aW9uIGlmIHlvdSBoYXZlIGFuIFItQ2FyIGNoaXBzZXQu
Cj4+ICAJICBJZiBNIGlzIHNlbGVjdGVkIHRoZSBtb2R1bGUgd2lsbCBiZSBjYWxsZWQgcmNhci1k
dS1kcm0uCj4+ICAKPj4gK2NvbmZpZyBEUk1fUkNBUl9DTU0KPj4gKwlib29sICJSLUNhciBEVSBD
b2xvciBNYW5hZ2VtZW50IE1vZHVsZSAoQ01NKSBTdXBwb3J0Igo+PiArCWRlcGVuZHMgb24gRFJN
ICYmIE9GCj4+ICsJZGVwZW5kcyBvbiBEUk1fUkNBUl9EVQo+PiArCWhlbHAKPj4gKwkgIEVuYWJs
ZSBzdXBwb3J0IGZvciBSLUNhciBDb2xvciBNYW5hZ2VtZW50IE1vZHVsZSAoQ01NKS4KPj4gKwo+
PiAgY29uZmlnIERSTV9SQ0FSX0RXX0hETUkKPj4gIAl0cmlzdGF0ZSAiUi1DYXIgRFUgR2VuMyBI
RE1JIEVuY29kZXIgU3VwcG9ydCIKPj4gIAlkZXBlbmRzIG9uIERSTSAmJiBPRgo+PiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvTWFrZWZpbGUgYi9kcml2ZXJzL2dwdS9kcm0v
cmNhci1kdS9NYWtlZmlsZQo+PiBpbmRleCA2YzJlZDljNDY0NjcuLjRkMTE4N2NjYzNlNSAxMDA2
NDQKPj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvTWFrZWZpbGUKPj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL3JjYXItZHUvTWFrZWZpbGUKPj4gQEAgLTE1LDYgKzE1LDcgQEAgcmNhci1k
dS1kcm0tJChDT05GSUdfRFJNX1JDQVJfTFZEUykJKz0gcmNhcl9kdV9vZi5vIFwKPj4gIHJjYXIt
ZHUtZHJtLSQoQ09ORklHX0RSTV9SQ0FSX1ZTUCkJKz0gcmNhcl9kdV92c3Aubwo+PiAgcmNhci1k
dS1kcm0tJChDT05GSUdfRFJNX1JDQVJfV1JJVEVCQUNLKSArPSByY2FyX2R1X3dyaXRlYmFjay5v
Cj4+ICAKPj4gK29iai0kKENPTkZJR19EUk1fUkNBUl9DTU0pCQkrPSByY2FyX2NtbS5vCj4+ICBv
YmotJChDT05GSUdfRFJNX1JDQVJfRFUpCQkrPSByY2FyLWR1LWRybS5vCj4+ICBvYmotJChDT05G
SUdfRFJNX1JDQVJfRFdfSERNSSkJCSs9IHJjYXJfZHdfaGRtaS5vCj4+ICBvYmotJChDT05GSUdf
RFJNX1JDQVJfTFZEUykJCSs9IHJjYXJfbHZkcy5vCj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vcmNhci1kdS9yY2FyX2NtbS5jIGIvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9j
bW0uYwo+PiBuZXcgZmlsZSBtb2RlIDEwMDY0NAo+PiBpbmRleCAwMDAwMDAwMDAwMDAuLjNjYWNk
YzQ0NzRjNwo+PiAtLS0gL2Rldi9udWxsCj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1
L3JjYXJfY21tLmMKPj4gQEAgLTAsMCArMSwyNTEgQEAKPj4gKy8vIFNQRFgtTGljZW5zZS1JZGVu
dGlmaWVyOiBHUEwtMi4wKwo+PiArLyoKPj4gKyAqIHJjYXJfY21tLmMgLS0gUi1DYXIgRGlzcGxh
eSBVbml0IENvbG9yIE1hbmFnZW1lbnQgTW9kdWxlCj4+ICsgKgo+PiArICogQ29weXJpZ2h0IChD
KSAyMDE5IEphY29wbyBNb25kaSA8amFjb3BvK3JlbmVzYXNAam1vbmRpLm9yZz4KPj4gKyAqLwo+
PiArCj4+ICsjaW5jbHVkZSA8bGludXgvaW8uaD4KPj4gKyNpbmNsdWRlIDxsaW51eC9tb2R1bGUu
aD4KPj4gKyNpbmNsdWRlIDxsaW51eC9vZi5oPgo+PiArI2luY2x1ZGUgPGxpbnV4L3BsYXRmb3Jt
X2RldmljZS5oPgo+PiArI2luY2x1ZGUgPGxpbnV4L3BtX3J1bnRpbWUuaD4KPj4gKwo+PiArI2lu
Y2x1ZGUgPGRybS9kcm1fY29sb3JfbWdtdC5oPgo+PiArCj4+ICsjaW5jbHVkZSAicmNhcl9jbW0u
aCIKPj4gKwo+PiArI2RlZmluZSBDTTJfTFVUX0NUUkwJCTB4MDAwMAo+PiArI2RlZmluZSBDTTJf
TFVUX0NUUkxfTFVUX0VOCUJJVCgwKQo+PiArI2RlZmluZSBDTTJfTFVUX1RCTF9CQVNFCTB4MDYw
MAo+PiArI2RlZmluZSBDTTJfTFVUX1RCTChfX2kpCShDTTJfTFVUX1RCTF9CQVNFICsgKF9faSkg
KiA0KQo+PiArCj4+ICtzdHJ1Y3QgcmNhcl9jbW0gewo+PiArCXZvaWQgX19pb21lbSAqYmFzZTsK
Pj4gKwlib29sIGVuYWJsZWQ7Cj4+ICsKPj4gKwkvKgo+PiArCSAqIEBsdXQ6CQkxRC1MVVQgc3Rh
dHVzCj4+ICsJICogQGx1dC5lbmFibGVkOgkxRC1MVVQgZW5hYmxlZCBmbGFnCj4+ICsJICogQGx1
dC50YWJsZToJCVRhYmxlIG9mIDFELUxVVCBlbnRyaWVzIHNjYWxlZCB0byBoYXJkd2FyZQo+PiAr
CSAqCQkJcHJlY2lzaW9uICg4LWJpdHMgcGVyIGNvbG9yIGNvbXBvbmVudCkKPj4gKwkgKi8KPj4g
KwlzdHJ1Y3Qgewo+PiArCQlib29sIGVuYWJsZWQ7Cj4+ICsJCXUzMiB0YWJsZVtDTTJfTFVUX1NJ
WkVdOwo+PiArCX0gbHV0Owo+PiArfTsKPj4gKwo+PiArc3RhdGljIGlubGluZSBpbnQgcmNhcl9j
bW1fcmVhZChzdHJ1Y3QgcmNhcl9jbW0gKnJjbW0sIHUzMiByZWcpCj4+ICt7Cj4+ICsJcmV0dXJu
IGlvcmVhZDMyKHJjbW0tPmJhc2UgKyByZWcpOwo+PiArfQo+PiArCj4+ICtzdGF0aWMgaW5saW5l
IHZvaWQgcmNhcl9jbW1fd3JpdGUoc3RydWN0IHJjYXJfY21tICpyY21tLCB1MzIgcmVnLCB1MzIg
ZGF0YSkKPj4gK3sKPj4gKwlpb3dyaXRlMzIoZGF0YSwgcmNtbS0+YmFzZSArIHJlZyk7Cj4+ICt9
Cj4+ICsKPj4gKy8qCj4+ICsgKiByY2FyX2NtbV9sdXRfZXh0cmFjdCgpIC0gU2NhbGUgZG93biB0
byBoYXJkd2FyZSBwcmVjaXNpb24gdGhlIERSTSBMVVQgdGFibGUKPj4gKyAqCQkJICAgIGVudHJp
ZXMgYW5kIHN0b3JlIHRoZW0uCj4gCj4gIlNjYWxlIHRoZSBEUk0gTFVUIHRhYmxlIGVudHJpZXMg
dG8gaGFyZHdhcmUgcHJlY2lzaW9uIGFuZCBzdG9yZSB0aGVtLiIKPiAKPj4gKyAqIEByY21tOiBQ
b2ludGVyIHRvIHRoZSBDTU0gZGV2aWNlCj4+ICsgKiBAZHJtX2x1dDogUG9pbnRlciB0byB0aGUg
RFJNIExVVCB0YWJsZQo+PiArICovCj4+ICtzdGF0aWMgdm9pZCByY2FyX2NtbV9sdXRfZXh0cmFj
dChzdHJ1Y3QgcmNhcl9jbW0gKnJjbW0sCj4+ICsJCQkJIGNvbnN0IHN0cnVjdCBkcm1fY29sb3Jf
bHV0ICpkcm1fbHV0KQo+PiArewo+PiArCXVuc2lnbmVkIGludCBpOwo+PiArCj4+ICsJZm9yIChp
ID0gMDsgaSA8IENNMl9MVVRfU0laRTsgKytpKSB7Cj4+ICsJCWNvbnN0IHN0cnVjdCBkcm1fY29s
b3JfbHV0ICpsdXQgPSAmZHJtX2x1dFtpXTsKPj4gKwo+PiArCQlyY21tLT5sdXQudGFibGVbaV0g
PSBkcm1fY29sb3JfbHV0X2V4dHJhY3QobHV0LT5yZWQsIDgpIDw8IDE2Cj4+ICsJCQkJICAgfCBk
cm1fY29sb3JfbHV0X2V4dHJhY3QobHV0LT5ncmVlbiwgOCkgPDwgOAo+PiArCQkJCSAgIHwgZHJt
X2NvbG9yX2x1dF9leHRyYWN0KGx1dC0+Ymx1ZSwgOCk7Cj4+ICsJfQo+PiArfQo+PiArCj4+ICsv
Kgo+PiArICogcmNhcl9jbW1fbHV0X3dyaXRlKCkgLSBXcml0ZSB0byBoYXJkd2FyZSB0aGUgTFVU
IHRhYmxlIGVudHJpZXMgZnJvbSB0aGUKPj4gKyAqCQkJICBsb2NhbCB0YWJsZS4KPiAKPiAiV3Jp
dGUgdGhlIExVVCB0YWJsZSBlbnRyaWVzIGZyb20gdGhlIGxvY2FsIHRhYmxlIHRvIHRoZSBoYXJk
d2FyZS4iCj4gCj4+ICsgKiBAcmNtbTogUG9pbnRlciB0byB0aGUgQ01NIGRldmljZQo+PiArICov
Cj4+ICtzdGF0aWMgdm9pZCByY2FyX2NtbV9sdXRfd3JpdGUoc3RydWN0IHJjYXJfY21tICpyY21t
KQo+PiArewo+PiArCXVuc2lnbmVkIGludCBpOwo+PiArCj4+ICsJZm9yIChpID0gMDsgaSA8IENN
Ml9MVVRfU0laRTsgKytpKQo+PiArCQlyY2FyX2NtbV93cml0ZShyY21tLCBDTTJfTFVUX1RCTChp
KSwgcmNtbS0+bHV0LnRhYmxlW2ldKTsKPj4gK30KPj4gKwo+PiArLyoKPj4gKyAqIHJjYXJfY21t
X3NldHVwKCkgLSBDb25maWd1cmUgdGhlIENNTSB1bml0Lgo+PiArICogQHBkZXY6IFRoZSBwbGF0
Zm9ybSBkZXZpY2UgYXNzb2NpYXRlZCB3aXRoIHRoZSBDTU0gaW5zdGFuY2UKPj4gKyAqIEBjb25m
aWc6IFRoZSBDUlRDLXByb3ZpZGVkIGNvbmZpZ3VyYXRpb24uCj4+ICsgKgo+PiArICogQ29uZmln
dXJlIHRoZSBDTU0gdW5pdCB3aXRoIHRoZSBDUlRDLXByb3ZpZGVkIGNvbmZpZ3VyYXRpb24uCj4+
ICsgKiBDdXJyZW50bHkgZW5hYmxpbmcsIGRpc2FibGluZyBhbmQgcHJvZ3JhbW1pbmcgb2YgdGhl
IDEtRCBMVVQgdW5pdCBpcwo+PiArICogc3VwcG9ydGVkLgo+PiArICovCj4+ICtpbnQgcmNhcl9j
bW1fc2V0dXAoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldiwKPj4gKwkJICAgY29uc3Qgc3Ry
dWN0IHJjYXJfY21tX2NvbmZpZyAqY29uZmlnKQo+PiArewo+PiArCXN0cnVjdCByY2FyX2NtbSAq
cmNtbSA9IHBsYXRmb3JtX2dldF9kcnZkYXRhKHBkZXYpOwo+PiArCj4+ICsJLyoKPj4gKwkgKiBB
cyByY2FyX2NtbV9zZXR1cCgpIGlzIGNhbGxlZCBieSBhdG9taWMgY29tbWl0IHRhaWwgaGVscGVy
LCBpdCBtaWdodAo+PiArCSAqIGJlIGNhbGxlZCB3aGVuIHRoZSBDTU0gaXMgZGlzYWJsZWQuIEFz
IHdlIGNhbid0IHByb2dyYW0gdGhlIGhhcmR3YXJlCj4+ICsJICogaW4gdGhhdCBjYXNlLCBzdG9y
ZSB0aGUgY29uZmlndXJhdGlvbiBpbnRlcm5hbGx5IGFuZCBhcHBseSBpdCB3aGVuCj4+ICsJICog
dGhlIENNTSB3aWxsIGJlIGVuYWJsZWQgYnkgdGhlIENSVEMgdGhyb3VnaCByY2FyX2NtbV9lbmFi
bGUoKS4KPj4gKwkgKi8KPj4gKwlpZiAoIXJjbW0tPmVuYWJsZWQpIHsKPj4gKwkJaWYgKCFjb25m
aWctPmx1dC5lbmFibGUpCj4+ICsJCQlyZXR1cm4gMDsKPj4gKwo+PiArCQlyY2FyX2NtbV9sdXRf
ZXh0cmFjdChyY21tLCBjb25maWctPmx1dC50YWJsZSk7Cj4+ICsJCXJjbW0tPmx1dC5lbmFibGVk
ID0gdHJ1ZTsKPj4gKwo+PiArCQlyZXR1cm4gMDsKPj4gKwl9Cj4+ICsKPj4gKwkvKiBTdG9wIExV
VCBvcGVyYXRpb25zIGlmIHJlcXVlc3RlZC4gKi8KPj4gKwlpZiAoIWNvbmZpZy0+bHV0LmVuYWJs
ZSkgewo+PiArCQlpZiAocmNtbS0+bHV0LmVuYWJsZWQpIHsKPj4gKwkJCXJjYXJfY21tX3dyaXRl
KHJjbW0sIENNMl9MVVRfQ1RSTCwgMCk7Cj4+ICsJCQlyY21tLT5sdXQuZW5hYmxlZCA9IGZhbHNl
Owo+PiArCQl9Cj4+ICsKPj4gKwkJcmV0dXJuIDA7Cj4+ICsJfQo+PiArCj4+ICsJLyoKPj4gKwkg
KiBFbmFibGUgTFVUIGFuZCBwcm9ncmFtIHRoZSBuZXcgZ2FtbWEgdGFibGUgdmFsdWVzLgo+PiAr
CSAqCj4+ICsJICogRklYTUU6IEluIG9yZGVyIHRvIGhhdmUgc3RhYmxlIG9wZXJhdGlvbnMgaXQg
aXMgcmVxdWlyZWQgdG8gZmlyc3QKPj4gKwkgKiBlbmFibGUgdGhlIDFELUxVVCBhbmQgdGhlbiBw
cm9ncmFtIGl0cyB0YWJsZSBlbnRyaWVzLiBUaGlzIHNlZW1zIHRvCj4+ICsJICogY29udHJhZGlj
dCB3aGF0IHRoZSBjaGlwIG1hbnVhbCByZXBvcnRzLCBhbmQgd2lsbCBoYXZlIHRvIGJlCj4+ICsJ
ICogcmVjb25zaWRlcmVkIHdoZW4gaW1wbGVtZW50aW5nIHN1cHBvcnQgZm9yIGRvdWJsZSBidWZm
ZXJpbmcuCj4+ICsJICovCj4+ICsJaWYgKCFyY21tLT5sdXQuZW5hYmxlZCkgewo+PiArCQlyY2Fy
X2NtbV93cml0ZShyY21tLCBDTTJfTFVUX0NUUkwsIENNMl9MVVRfQ1RSTF9MVVRfRU4pOwo+PiAr
CQlyY21tLT5sdXQuZW5hYmxlZCA9IHRydWU7Cj4+ICsJfQo+PiArCj4+ICsJcmNhcl9jbW1fbHV0
X2V4dHJhY3QocmNtbSwgY29uZmlnLT5sdXQudGFibGUpOwo+PiArCXJjYXJfY21tX2x1dF93cml0
ZShyY21tKTsKPj4gKwo+PiArCXJldHVybiAwOwo+PiArfQo+PiArRVhQT1JUX1NZTUJPTF9HUEwo
cmNhcl9jbW1fc2V0dXApOwo+PiArCj4+ICsvKgo+PiArICogcmNhcl9jbW1fZW5hYmxlKCkgLSBF
bmFibGUgdGhlIENNTSB1bml0Lgo+PiArICogQHBkZXY6IFRoZSBwbGF0Zm9ybSBkZXZpY2UgYXNz
b2NpYXRlZCB3aXRoIHRoZSBDTU0gaW5zdGFuY2UKPj4gKyAqCj4+ICsgKiBFbmFibGUgdGhlIENN
TSB1bml0IGJ5IGVuYWJsaW5nIHRoZSBwYXJlbnQgY2xvY2sgYW5kIGVuYWJsaW5nIHRoZSBDTU0K
Pj4gKyAqIGNvbXBvbmVudHMsIHN1Y2ggYXMgMS1EIExVVCwgaWYgcmVxdWVzdGVkLgo+PiArICov
Cj4+ICtpbnQgcmNhcl9jbW1fZW5hYmxlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCj4+
ICt7Cj4+ICsJc3RydWN0IHJjYXJfY21tICpyY21tID0gcGxhdGZvcm1fZ2V0X2RydmRhdGEocGRl
dik7Cj4+ICsJaW50IHJldDsKPj4gKwo+PiArCXJldCA9IHBtX3J1bnRpbWVfZ2V0X3N5bmMoJnBk
ZXYtPmRldik7Cj4+ICsJaWYgKHJldCA8IDApCj4+ICsJCXJldHVybiByZXQ7Cj4+ICsKPj4gKwkv
KiBBcHBseSB0aGUgTFVUIHRhYmxlIHZhbHVlcyBzYXZlZCBhdCByY2FyX2NtbV9zZXR1cCgpIHRp
bWUuICovCj4+ICsJaWYgKHJjbW0tPmx1dC5lbmFibGVkKSB7Cj4+ICsJCXJjYXJfY21tX3dyaXRl
KHJjbW0sIENNMl9MVVRfQ1RSTCwgQ00yX0xVVF9DVFJMX0xVVF9FTik7Cj4+ICsJCXJjYXJfY21t
X2x1dF93cml0ZShyY21tKTsKPj4gKwl9Cj4+ICsKPj4gKwlyY21tLT5lbmFibGVkID0gdHJ1ZTsK
Pj4gKwo+PiArCXJldHVybiAwOwo+PiArfQo+PiArRVhQT1JUX1NZTUJPTF9HUEwocmNhcl9jbW1f
ZW5hYmxlKTsKPj4gKwo+PiArLyoKPj4gKyAqIHJjYXJfY21tX2Rpc2FibGUoKSAtIERpc2FibGUg
dGhlIENNTSB1bml0Lgo+PiArICogQHBkZXY6IFRoZSBwbGF0Zm9ybSBkZXZpY2UgYXNzb2NpYXRl
ZCB3aXRoIHRoZSBDTU0gaW5zdGFuY2UKPj4gKyAqCj4+ICsgKiBEaXNhYmxlIHRoZSBDTU0gdW5p
dCBieSBzdG9wcGluZyB0aGUgcGFyZW50IGNsb2NrLgo+PiArICovCj4+ICt2b2lkIHJjYXJfY21t
X2Rpc2FibGUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKPj4gK3sKPj4gKwlzdHJ1Y3Qg
cmNhcl9jbW0gKnJjbW0gPSBwbGF0Zm9ybV9nZXRfZHJ2ZGF0YShwZGV2KTsKPj4gKwo+PiArCXJj
YXJfY21tX3dyaXRlKHJjbW0sIENNMl9MVVRfQ1RSTCwgMCk7Cj4+ICsKPj4gKwlwbV9ydW50aW1l
X3B1dCgmcGRldi0+ZGV2KTsKPj4gKwo+PiArCXJjbW0tPmx1dC5lbmFibGVkID0gZmFsc2U7Cj4+
ICsJcmNtbS0+ZW5hYmxlZCA9IGZhbHNlOwo+PiArfQo+PiArRVhQT1JUX1NZTUJPTF9HUEwocmNh
cl9jbW1fZGlzYWJsZSk7Cj4+ICsKPj4gKy8qCj4+ICsgKiByY2FyX2NtbV9pbml0KCkgLSBNYWtl
IHN1cmUgdGhlIENNTSBoYXMgcHJvYmVkLgo+IAo+IEkgd291bGQgZG9jdW1lbnQgdGhpcyBhcyAi
SW50aWFsaXplIHRoZSBDTU0iIHRvIG1hdGNoIHRoZSBmdW5jdGlvbiBuYW1lLgo+IFdlIG1heSBh
ZGQgbW9yZSBpbml0aWFsaXphdGlvbiBpbiB0aGUgZnV0dXJlLgo+IAo+PiArICogQHBkZXY6IFRo
ZSBwbGF0Zm9ybSBkZXZpY2UgYXNzb2NpYXRlZCB3aXRoIHRoZSBDTU0gaW5zdGFuY2UKPj4gKyAq
Cj4+ICsgKiBSZXR1cm46IDAgaWYgdGhlIENNTSBoYXMgcHJvYmVkLCAtRVBST0JFX0RFRkVSIG90
aGVyd2lzZQo+IAo+IDAgb24gc3VjY2VzcywgLUVQUk9CRV9ERUZFUiBpcyB0aGUgQ01NIGlzbid0
IGF2YWlsYWJsZXQgeWV0CgpBbmQgcG9zc2libHkgLUVOT0RFViBpZiB0aGUgc3VnZ2VzdGlvbiBi
ZWxvdyBpbiB0aGUgaGVhZGVyIGlzIHdvcnRoeSwgdG8KcmV0dXJuIG5vIGRldmljZSBpZiB0aGUg
Q01NIGlzIGRpc2FibGVkIGF0IHRoZSBDT05GSUdfIGxldmVsLgoKCgo+IAo+PiArICovCj4+ICtp
bnQgcmNhcl9jbW1faW5pdChzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQo+PiArewo+PiAr
CXN0cnVjdCByY2FyX2NtbSAqcmNtbSA9IHBsYXRmb3JtX2dldF9kcnZkYXRhKHBkZXYpOwo+PiAr
Cj4+ICsJaWYgKCFyY21tKQo+PiArCQlyZXR1cm4gLUVQUk9CRV9ERUZFUjsKPj4gKwo+PiArCXJl
dHVybiAwOwo+PiArfQo+PiArRVhQT1JUX1NZTUJPTF9HUEwocmNhcl9jbW1faW5pdCk7Cj4+ICsK
Pj4gK3N0YXRpYyBpbnQgcmNhcl9jbW1fcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRl
dikKPj4gK3sKPj4gKwlzdHJ1Y3QgcmNhcl9jbW0gKnJjbW07Cj4+ICsKPj4gKwlyY21tID0gZGV2
bV9remFsbG9jKCZwZGV2LT5kZXYsIHNpemVvZigqcmNtbSksIEdGUF9LRVJORUwpOwo+PiArCWlm
ICghcmNtbSkKPj4gKwkJcmV0dXJuIC1FTk9NRU07Cj4+ICsJcGxhdGZvcm1fc2V0X2RydmRhdGEo
cGRldiwgcmNtbSk7Cj4+ICsKPj4gKwlyY21tLT5iYXNlID0gZGV2bV9wbGF0Zm9ybV9pb3JlbWFw
X3Jlc291cmNlKHBkZXYsIDApOwo+PiArCWlmIChJU19FUlIocmNtbS0+YmFzZSkpCj4+ICsJCXJl
dHVybiBQVFJfRVJSKHJjbW0tPmJhc2UpOwo+PiArCj4+ICsJcG1fcnVudGltZV9lbmFibGUoJnBk
ZXYtPmRldik7Cj4+ICsKPj4gKwlyZXR1cm4gMDsKPj4gK30KPj4gKwo+PiArc3RhdGljIGludCBy
Y2FyX2NtbV9yZW1vdmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKPj4gK3sKPj4gKwlw
bV9ydW50aW1lX2Rpc2FibGUoJnBkZXYtPmRldik7Cj4+ICsKPj4gKwlyZXR1cm4gMDsKPj4gK30K
Pj4gKwo+PiArc3RhdGljIGNvbnN0IHN0cnVjdCBvZl9kZXZpY2VfaWQgcmNhcl9jbW1fb2ZfdGFi
bGVbXSA9IHsKPj4gKwl7IC5jb21wYXRpYmxlID0gInJlbmVzYXMscmNhci1nZW4zLWNtbSIsIH0s
Cj4+ICsJeyAuY29tcGF0aWJsZSA9ICJyZW5lc2FzLHJjYXItZ2VuMi1jbW0iLCB9LAo+PiArCXsg
fSwKPj4gK307Cj4+ICtNT0RVTEVfREVWSUNFX1RBQkxFKG9mLCByY2FyX2NtbV9vZl90YWJsZSk7
Cj4+ICsKPj4gK3N0YXRpYyBzdHJ1Y3QgcGxhdGZvcm1fZHJpdmVyIHJjYXJfY21tX3BsYXRmb3Jt
X2RyaXZlciA9IHsKPj4gKwkucHJvYmUJCT0gcmNhcl9jbW1fcHJvYmUsCj4+ICsJLnJlbW92ZQkJ
PSByY2FyX2NtbV9yZW1vdmUsCj4+ICsJLmRyaXZlcgkJPSB7Cj4+ICsJCS5uYW1lCT0gInJjYXIt
Y21tIiwKPj4gKwkJLm9mX21hdGNoX3RhYmxlID0gcmNhcl9jbW1fb2ZfdGFibGUsCj4+ICsJfSwK
Pj4gK307Cj4+ICsKPj4gK21vZHVsZV9wbGF0Zm9ybV9kcml2ZXIocmNhcl9jbW1fcGxhdGZvcm1f
ZHJpdmVyKTsKPj4gKwo+PiArTU9EVUxFX0FVVEhPUigiSmFjb3BvIE1vbmRpIDxqYWNvcG8rcmVu
ZXNhc0BqbW9uZGkub3JnPiIpOwo+PiArTU9EVUxFX0RFU0NSSVBUSU9OKCJSZW5lc2FzIFItQ2Fy
IENNTSBEcml2ZXIiKTsKPj4gK01PRFVMRV9MSUNFTlNFKCJHUEwgdjIiKTsKPj4gZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfY21tLmggYi9kcml2ZXJzL2dwdS9kcm0v
cmNhci1kdS9yY2FyX2NtbS5oCj4+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0Cj4+IGluZGV4IDAwMDAw
MDAwMDAwMC4uMTVhMmM4NzRiNmE2Cj4+IC0tLSAvZGV2L251bGwKPj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL3JjYXItZHUvcmNhcl9jbW0uaAo+PiBAQCAtMCwwICsxLDYxIEBACj4+ICsvKiBTUERY
LUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMCsgKi8KPj4gKy8qCj4+ICsgKiByY2FyX2NtbS5o
IC0tIFItQ2FyIERpc3BsYXkgVW5pdCBDb2xvciBNYW5hZ2VtZW50IE1vZHVsZQo+PiArICoKPj4g
KyAqIENvcHlyaWdodCAoQykgMjAxOSBKYWNvcG8gTW9uZGkgPGphY29wbytyZW5lc2FzQGptb25k
aS5vcmc+Cj4+ICsgKi8KPj4gKwo+PiArI2lmbmRlZiBfX1JDQVJfQ01NX0hfXwo+PiArI2RlZmlu
ZSBfX1JDQVJfQ01NX0hfXwo+PiArCj4+ICsjZGVmaW5lIENNMl9MVVRfU0laRQkJMjU2Cj4+ICsK
Pj4gK3N0cnVjdCBkcm1fY29sb3JfbHV0Owo+PiArc3RydWN0IHBsYXRmb3JtX2RldmljZTsKPj4g
Kwo+PiArLyoqCj4+ICsgKiBzdHJ1Y3QgcmNhcl9jbW1fY29uZmlnIC0gQ01NIGNvbmZpZ3VyYXRp
b24KPj4gKyAqCj4+ICsgKiBAbHV0OgkxRC1MVVQgY29uZmlndXJhdGlvbgo+PiArICogQGx1dC5l
bmFibGU6CTFELUxVVCBlbmFibGUgZmxhZwo+PiArICogQGx1dC50YWJsZToJMUQtTFVUIHRhYmxl
IGVudHJpZXMuIE1pZ2h0IGJlIHNldCB0byBOVUxMIHdoZW4gdGhlIENNTSBoYXMgdG8KPj4gKyAq
CQliZSByZS1lbmFibGVkIGJ1dCBub3QgcmU9cHJvZ3JhbW1lZC4KPiAKPiBzL3JlPXByb2dyYW1t
ZWQvcmUtcHJvZ3JhbW1lZC8KPiAKPiBBcyBkaXNjdXNzZWQgb2ZmbGluZSB0aGlzIGNhbid0IHJl
YWxseSBoYXBwZW4gYXMgZmFyIGFzIEkgY2FuIHRlbGwuCj4gSG93ZXZlciwgaXQgd2lsbCBzdGls
bCBiZSB1c2VmdWwgd2hlbiB3ZSdsbCBhZGQgQ0xVIHN1cHBvcnQsIGFzIHRoZW4gYQo+IENMVSBy
ZXByb2dyYW1taW5nIHdpdGhvdXQgYSBMVVQgcmVwcm9ncmFtbWluZyBjb3VsZCBoYXBwZW4uCj4g
Cj4gSSB0aGluayB3ZSBzaG91bGQgbWFrZSB0aGUgZG9jdW1lbnRhdGlvbiBhIGJpdCBjbGVhcmVy
Ogo+IAo+ICIxRC1MVVQgdGFibGUgZW50cmllcy4gT25seSB2YWxpZCB3aGVuIGx1dC5lbmFibGUg
aXMgdHJ1ZSwgc2hhbGwgYmUgTlVMTAo+IG90aGVyd2lzZS4gV2hlbiBub24tTlVMTCwgdGhlIExV
VCB0YWJsZSB3aWxsIGJlIHByb2dyYW1tZWQgd2l0aCB0aGUgbmV3Cj4gdmFsdWVzLiBPdGhlcndp
c2UgdGhlIExVVCB0YWJsZSB3aWxsIHJldGFpbiBpdHMgcHJldmlvdXNseSBwcm9ncmFtbWVkCj4g
dmFsdWVzLiIKPiAKPiBUaGlzIGJlaW5nIHNhaWQsIHRoZSBjb2RlIGluIHJjYXJfY21tX3NldHVw
KCkgd2lsbCBjcmFzaCBpZiB0YWJsZSBpcwo+IE5VTEwuIEkgd291bGQgZWl0aGVyIGRyb3AgdGhl
IG9wdGlvbiBvZiB0YWJsZSBiZWluZyBOVUxMIChhbmQgdGh1cwo+IHVwZGF0ZSB0aGUgZG9jdW1l
bnRhdGlvbiBoZXJlKSBpZiB5b3UgZG9uJ3QgbmVlZCB0aGlzIHlldCBpbiB0aGUgRFUKPiBkcml2
ZXIsIG9yIGZpeCByY2FyX2NtbV9zZXR1cCgpLiBZb3UndmUgcG9zdGVkIGVub3VnaCB2ZXJzaW9u
cyBvZiB0aGlzCj4gc2VyaWVzIGluIG15IG9waW5pb24sIHNvIHBsZWFzZSBwaWNrIHRoZSBlYXNp
ZXN0IG9wdGlvbiwgYW5kIHdlJ2xsCj4gcmV3b3JrIHRoZSBjb2RlIHdoZW4gYWRkaW5nIENMVSBz
dXBwb3J0IGFueXdheS4KPiAKPiBXaXRoIHRob3NlIHNtYWxsIGlzc3VlcyBmaXhlcywKPiAKPiBS
ZXZpZXdlZC1ieTogTGF1cmVudCBQaW5jaGFydCA8bGF1cmVudC5waW5jaGFydEBpZGVhc29uYm9h
cmQuY29tPgo+IAo+PiArICovCj4+ICtzdHJ1Y3QgcmNhcl9jbW1fY29uZmlnIHsKPj4gKwlzdHJ1
Y3Qgewo+PiArCQlib29sIGVuYWJsZTsKPj4gKwkJc3RydWN0IGRybV9jb2xvcl9sdXQgKnRhYmxl
Owo+PiArCX0gbHV0Owo+PiArfTsKPj4gKwo+PiArI2lmIElTX0VOQUJMRUQoQ09ORklHX0RSTV9S
Q0FSX0NNTSkKPj4gK2ludCByY2FyX2NtbV9pbml0KHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBk
ZXYpOwo+PiArCj4+ICtpbnQgcmNhcl9jbW1fZW5hYmxlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2Ug
KnBkZXYpOwo+PiArdm9pZCByY2FyX2NtbV9kaXNhYmxlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2Ug
KnBkZXYpOwo+PiArCj4+ICtpbnQgcmNhcl9jbW1fc2V0dXAoc3RydWN0IHBsYXRmb3JtX2Rldmlj
ZSAqcGRldiwKPj4gKwkJICAgY29uc3Qgc3RydWN0IHJjYXJfY21tX2NvbmZpZyAqY29uZmlnKTsK
Pj4gKyNlbHNlCj4+ICtzdGF0aWMgaW5saW5lIGludCByY2FyX2NtbV9pbml0KHN0cnVjdCBwbGF0
Zm9ybV9kZXZpY2UgKnBkZXYpCj4+ICt7Cj4+ICsJcmV0dXJuIDA7CgpJIGZlZWwgbGlrZSBoZXJl
LCB0aGlzIHNob3VsZCByZXR1cm4gLUVOT0RFViBpZiBDTU0gaXMgZGlzYWJsZWQsIGFuZAphbGxv
dyByY2FyX2R1X2NtbV9pbml0KCkgdG8gc3VjY2VlZCwgYnV0IGxlYXZlIHRoZSByY2R1LT5jbW1z
W2ldCnVucG9wdWxhdGVkLiAuLi4KCkJ1dCB0aGlzIGNvdWxkIGJlIHVwZGF0ZWQgbGF0ZXIgdG9v
IGlmIGl0J3MgYXdrd2FyZCAuLi4KCi0tCktpZXJhbgoKCj4+ICt9Cj4+ICsKPj4gK3N0YXRpYyBp
bmxpbmUgaW50IHJjYXJfY21tX2VuYWJsZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQo+
PiArewo+PiArCXJldHVybiAwOwo+PiArfQo+PiArCj4+ICtzdGF0aWMgaW5saW5lIHZvaWQgcmNh
cl9jbW1fZGlzYWJsZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQo+PiArewo+PiArfQo+
PiArCj4+ICtzdGF0aWMgaW50IHJjYXJfY21tX3NldHVwKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2Ug
KnBkZXYsCj4+ICsJCQkgIGNvbnN0IHN0cnVjdCByY2FyX2NtbV9jb25maWcgKmNvbmZpZykKPj4g
K3sKPj4gKwlyZXR1cm4gMDsKPj4gK30KPj4gKyNlbmRpZiAvKiBJU19FTkFCTEVEKENPTkZJR19E
Uk1fUkNBUl9DTU0pICovCj4+ICsKPj4gKyNlbmRpZiAvKiBfX1JDQVJfQ01NX0hfXyAqLwo+IAoK
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVs
IG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlz
dHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
