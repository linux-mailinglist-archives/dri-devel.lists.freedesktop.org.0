Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 04D828DD5D
	for <lists+dri-devel@lfdr.de>; Wed, 14 Aug 2019 20:47:51 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id BD0446E7F7;
	Wed, 14 Aug 2019 18:47:40 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-pg1-x542.google.com (mail-pg1-x542.google.com
 [IPv6:2607:f8b0:4864:20::542])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 22C6C6E7E3
 for <dri-devel@lists.freedesktop.org>; Wed, 14 Aug 2019 18:47:32 +0000 (UTC)
Received: by mail-pg1-x542.google.com with SMTP id p3so8730pgb.9
 for <dri-devel@lists.freedesktop.org>; Wed, 14 Aug 2019 11:47:32 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references;
 bh=DPljuKj8Rrvaey+ZGnnQxT53Wa6yVLMni/ZPYwy7Ocs=;
 b=fyGfQJV4cWzTFPiy6H5NOZgmUDysn8JbZkJYqffNdbQQP3yH12GsU8G6Nj5m+acdzU
 13GYBsSFxD5b8f5TGGyhQgKmoWiv7QGKS31sz8aO5X2NWZCHX0SCVf0kNqrt+3Fgypo4
 RQkhXGQyuYU9tAtkZ2z82Wvdu9U+SEBvExXeMSvpA982KQzGJWoCVZjDmYIt+T+rVGW1
 Spvfdas/TJE4MHyuoDuU0oeJl0w+nXPsXd3Qo6UIQUYnocmZv4KHyAg95Nw2El42qbX6
 vgBpXo+sV14Rs4NOIz4kGQW59/5Wvr4dOtbbB82CbBreNUTdgtA2UlxEMFtn++gljLFW
 2VYg==
X-Gm-Message-State: APjAAAXnkMaPT3jdpesIBbEDpojxYpC0p8XhYYMJDP2T0xPggyk1lzae
 Ri3xJc1XM52v1MEm+JRVH9nudA==
X-Google-Smtp-Source: APXvYqxzYdQ++BF6VEmmM3gRhlHFCARtDdNB9cW6qpH5aGj4/2Nec/UVjqlAUe+ZhaEJDq6QZq0a8g==
X-Received: by 2002:a63:60d1:: with SMTP id u200mr458559pgb.439.1565808450277; 
 Wed, 14 Aug 2019 11:47:30 -0700 (PDT)
Received: from localhost.localdomain ([2601:1c2:680:1319:692:26ff:feda:3a81])
 by smtp.gmail.com with ESMTPSA id
 y16sm610855pfc.36.2019.08.14.11.47.28
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Wed, 14 Aug 2019 11:47:29 -0700 (PDT)
From: John Stultz <john.stultz@linaro.org>
To: lkml <linux-kernel@vger.kernel.org>
Subject: [RESEND][PATCH v3 15/26] drm: kirin: Move channel formats to driver
 data
Date: Wed, 14 Aug 2019 18:46:51 +0000
Message-Id: <20190814184702.54275-16-john.stultz@linaro.org>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20190814184702.54275-1-john.stultz@linaro.org>
References: <20190814184702.54275-1-john.stultz@linaro.org>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=linaro.org; s=google;
 h=from:to:cc:subject:date:message-id:in-reply-to:references;
 bh=DPljuKj8Rrvaey+ZGnnQxT53Wa6yVLMni/ZPYwy7Ocs=;
 b=QRYla2J3YD94bct0XU/VHlhyLBX+vVhC+xrK/C+P82fiQdUTI0Nv6p2/JbYEJZOVP2
 irXIWpYYUC4X2OFt0YIfI+Z+sogCMa5Yr344yI0VBA1ygrw398u2/Rkrvf9xUHpR7rUA
 6zxlqnDtaevKn+NixPVJ3s3kLJqX5a4oA6MTSlZtGz43sUXt2Jpo5nDtOvINCQo8aFKH
 vnAIA8BYEpG9uji7lsh0fD2ywHOV6zNAvQIW2/Pmjd23ia5ctRBP/kcqlyyrjnPZQNyj
 pk2Y3KAIb6p1ap7SsTUjUnPTyWvpHnGKE75sq1g19cpd5bi3JAesWayUDirQ2c0VdZd9
 9U7A==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Xu YiPing <xuyiping@hisilicon.com>, David Airlie <airlied@linux.ie>,
 dri-devel <dri-devel@lists.freedesktop.org>,
 Xinliang Liu <z.liuxinliang@hisilicon.com>,
 Rongrong Zou <zourongrong@gmail.com>, Sam Ravnborg <sam@ravnborg.org>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogWHUgWWlQaW5nIDx4dXlpcGluZ0BoaXNpbGljb24uY29tPgoKQXMgcGFydCBvZiByZWZh
Y3RvcmluZyB0aGUga2lyaW4gZHJpdmVyIHRvIGJldHRlciBzdXBwb3J0CmRpZmZlcmVudCBoYXJk
d2FyZSByZXZpc2lvbnMsIHRoaXMgcGF0Y2ggbW92ZXMgdGhlIGNoYW5uZWwKZm9ybWF0IGFycmF5
cyBpbnRvIHRoZSBraXJpbl9kcm1fZGF0YSBzdHJ1Y3R1cmUuCgpUaGlzIHdpbGwgbWFrZSBpdCBl
YXNpZXIgdG8gYWRkIHN1cHBvcnQgZm9yIG5ldyBkZXZpY2VzCnZpYSBhIG5ldyBraXJpbl9kcm1f
ZGF0YSBzdHJ1Y3R1cmUuCgpDYzogUm9uZ3JvbmcgWm91IDx6b3Vyb25ncm9uZ0BnbWFpbC5jb20+
CkNjOiBYaW5saWFuZyBMaXUgPHoubGl1eGlubGlhbmdAaGlzaWxpY29uLmNvbT4KQ2M6IERhdmlk
IEFpcmxpZSA8YWlybGllZEBsaW51eC5pZT4KQ2M6IERhbmllbCBWZXR0ZXIgPGRhbmllbEBmZnds
bC5jaD4KQ2M6IGRyaS1kZXZlbCA8ZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZz4KQ2M6
IFNhbSBSYXZuYm9yZyA8c2FtQHJhdm5ib3JnLm9yZz4KUmV2aWV3ZWQtYnk6IFNhbSBSYXZuYm9y
ZyA8c2FtQHJhdm5ib3JnLm9yZz4KU2lnbmVkLW9mZi1ieTogWHUgWWlQaW5nIDx4dXlpcGluZ0Bo
aXNpbGljb24uY29tPgpbanN0dWx0ejogcmV3b3JkZWQgY29tbWl0IG1lc3NhZ2VdClNpZ25lZC1v
ZmYtYnk6IEpvaG4gU3R1bHR6IDxqb2huLnN0dWx0ekBsaW5hcm8ub3JnPgotLS0KIC4uLi9ncHUv
ZHJtL2hpc2lsaWNvbi9raXJpbi9raXJpbl9kcm1fYWRlLmMgICB8IDMwICsrKysrLS0tLS0tLS0t
LS0tLS0KIC4uLi9ncHUvZHJtL2hpc2lsaWNvbi9raXJpbi9raXJpbl9kcm1fZHJ2LmggICB8ICAz
ICsrCiAyIGZpbGVzIGNoYW5nZWQsIDEwIGluc2VydGlvbnMoKyksIDIzIGRlbGV0aW9ucygtKQoK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9oaXNpbGljb24va2lyaW4va2lyaW5fZHJtX2Fk
ZS5jIGIvZHJpdmVycy9ncHUvZHJtL2hpc2lsaWNvbi9raXJpbi9raXJpbl9kcm1fYWRlLmMKaW5k
ZXggMDI5NzMzODY0YWE4Li45OWRmZDE1YWY3NzEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9oaXNpbGljb24va2lyaW4va2lyaW5fZHJtX2FkZS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9o
aXNpbGljb24va2lyaW4va2lyaW5fZHJtX2FkZS5jCkBAIC03Niw3ICs3Niw3IEBAIHN0YXRpYyBj
b25zdCBzdHJ1Y3Qga2lyaW5fZm9ybWF0IGFkZV9mb3JtYXRzW10gPSB7CiAJeyBEUk1fRk9STUFU
X0FCR1I4ODg4LCBBREVfQUJHUl84ODg4IH0sCiB9OwogCi1zdGF0aWMgY29uc3QgdTMyIGNoYW5u
ZWxfZm9ybWF0czFbXSA9IHsKK3N0YXRpYyBjb25zdCB1MzIgY2hhbm5lbF9mb3JtYXRzW10gPSB7
CiAJLyogY2hhbm5lbCAxLDIsMyw0ICovCiAJRFJNX0ZPUk1BVF9SR0I1NjUsIERSTV9GT1JNQVRf
QkdSNTY1LCBEUk1fRk9STUFUX1JHQjg4OCwKIAlEUk1fRk9STUFUX0JHUjg4OCwgRFJNX0ZPUk1B
VF9YUkdCODg4OCwgRFJNX0ZPUk1BVF9YQkdSODg4OCwKQEAgLTg0LDE5ICs4NCw2IEBAIHN0YXRp
YyBjb25zdCB1MzIgY2hhbm5lbF9mb3JtYXRzMVtdID0gewogCURSTV9GT1JNQVRfQUJHUjg4ODgK
IH07CiAKLXUzMiBhZGVfZ2V0X2NoYW5uZWxfZm9ybWF0cyh1OCBjaCwgY29uc3QgdTMyICoqZm9y
bWF0cykKLXsKLQlzd2l0Y2ggKGNoKSB7Ci0JY2FzZSBBREVfQ0gxOgotCQkqZm9ybWF0cyA9IGNo
YW5uZWxfZm9ybWF0czE7Ci0JCXJldHVybiBBUlJBWV9TSVpFKGNoYW5uZWxfZm9ybWF0czEpOwot
CWRlZmF1bHQ6Ci0JCURSTV9FUlJPUigibm8gdGhpcyBjaGFubmVsICVkXG4iLCBjaCk7Ci0JCSpm
b3JtYXRzID0gTlVMTDsKLQkJcmV0dXJuIDA7Ci0JfQotfQotCiAvKiBjb252ZXJ0IGZyb20gZm91
cmNjIGZvcm1hdCB0byBhZGUgZm9ybWF0ICovCiBzdGF0aWMgdTMyIGFkZV9nZXRfZm9ybWF0KHUz
MiBwaXhlbF9mb3JtYXQpCiB7CkBAIC05MDgsMTggKzg5NSwxMyBAQCBzdGF0aWMgc3RydWN0IGRy
bV9wbGFuZV9mdW5jcyBhZGVfcGxhbmVfZnVuY3MgPSB7CiBzdGF0aWMgaW50IGFkZV9wbGFuZV9p
bml0KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHN0cnVjdCBraXJpbl9wbGFuZSAqa3BsYW5lLAog
CQkJICBlbnVtIGRybV9wbGFuZV90eXBlIHR5cGUpCiB7Ci0JY29uc3QgdTMyICpmbXRzOwotCXUz
MiBmbXRzX2NudDsKIAlpbnQgcmV0ID0gMDsKIAotCS8qIGdldCAgcHJvcGVydGllcyAqLwotCWZt
dHNfY250ID0gYWRlX2dldF9jaGFubmVsX2Zvcm1hdHMoa3BsYW5lLT5jaCwgJmZtdHMpOwotCWlm
IChyZXQpCi0JCXJldHVybiByZXQ7Ci0KIAlyZXQgPSBkcm1fdW5pdmVyc2FsX3BsYW5lX2luaXQo
ZGV2LCAma3BsYW5lLT5iYXNlLCAxLAotCQkJCQlhZGVfZHJpdmVyX2RhdGEucGxhbmVfZnVuY3Ms
IGZtdHMsCi0JCQkJCWZtdHNfY250LCBOVUxMLCB0eXBlLCBOVUxMKTsKKwkJCQkJYWRlX2RyaXZl
cl9kYXRhLnBsYW5lX2Z1bmNzLAorCQkJCQlhZGVfZHJpdmVyX2RhdGEuY2hhbm5lbF9mb3JtYXRz
LAorCQkJCQlhZGVfZHJpdmVyX2RhdGEuY2hhbm5lbF9mb3JtYXRzX2NudCwKKwkJCQkJTlVMTCwg
dHlwZSwgTlVMTCk7CiAJaWYgKHJldCkgewogCQlEUk1fRVJST1IoImZhaWwgdG8gaW5pdCBwbGFu
ZSwgY2g9JWRcbiIsIGtwbGFuZS0+Y2gpOwogCQlyZXR1cm4gcmV0OwpAQCAtMTA1Nyw2ICsxMDM5
LDggQEAgc3RhdGljIHZvaWQgYWRlX2RybV9jbGVhbnVwKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2Ug
KnBkZXYpCiB9CiAKIHN0cnVjdCBraXJpbl9kcm1fZGF0YSBhZGVfZHJpdmVyX2RhdGEgPSB7CisJ
LmNoYW5uZWxfZm9ybWF0cyA9IGNoYW5uZWxfZm9ybWF0cywKKwkuY2hhbm5lbF9mb3JtYXRzX2Nu
dCA9IEFSUkFZX1NJWkUoY2hhbm5lbF9mb3JtYXRzKSwKIAkuY3J0Y19oZWxwZXJfZnVuY3MgPSAm
YWRlX2NydGNfaGVscGVyX2Z1bmNzLAogCS5jcnRjX2Z1bmNzID0gJmFkZV9jcnRjX2Z1bmNzLAog
CS5wbGFuZV9oZWxwZXJfZnVuY3MgPSAmYWRlX3BsYW5lX2hlbHBlcl9mdW5jcywKZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9oaXNpbGljb24va2lyaW4va2lyaW5fZHJtX2Rydi5oIGIvZHJp
dmVycy9ncHUvZHJtL2hpc2lsaWNvbi9raXJpbi9raXJpbl9kcm1fZHJ2LmgKaW5kZXggNzBiMDRl
NjU3ODljLi42NjkxNjUwMmE5ZTYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9oaXNpbGlj
b24va2lyaW4va2lyaW5fZHJtX2Rydi5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9oaXNpbGljb24v
a2lyaW4va2lyaW5fZHJtX2Rydi5oCkBAIC0zNSw2ICszNSw5IEBAIHN0cnVjdCBraXJpbl9wbGFu
ZSB7CiAKIC8qIGRpc3BsYXkgY29udHJvbGxlciBpbml0L2NsZWFudXAgb3BzICovCiBzdHJ1Y3Qg
a2lyaW5fZHJtX2RhdGEgeworCWNvbnN0IHUzMiAqY2hhbm5lbF9mb3JtYXRzOworCXUzMiBjaGFu
bmVsX2Zvcm1hdHNfY250OworCiAJY29uc3Qgc3RydWN0IGRybV9jcnRjX2hlbHBlcl9mdW5jcyAq
Y3J0Y19oZWxwZXJfZnVuY3M7CiAJY29uc3Qgc3RydWN0IGRybV9jcnRjX2Z1bmNzICpjcnRjX2Z1
bmNzOwogCWNvbnN0IHN0cnVjdCBkcm1fcGxhbmVfaGVscGVyX2Z1bmNzICpwbGFuZV9oZWxwZXJf
ZnVuY3M7Ci0tIAoyLjE3LjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNr
dG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2Ry
aS1kZXZlbA==
