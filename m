Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A130E9EC29
	for <lists+dri-devel@lfdr.de>; Tue, 27 Aug 2019 17:17:05 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B5EFF89829;
	Tue, 27 Aug 2019 15:17:02 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from NAM03-CO1-obe.outbound.protection.outlook.com
 (mail-co1nam03on061d.outbound.protection.outlook.com
 [IPv6:2a01:111:f400:fe48::61d])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 1349389829
 for <dri-devel@lists.freedesktop.org>; Tue, 27 Aug 2019 15:17:01 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=JH2Q7GAKR1/MztOaC9dwLtOb7ug7HsEZU8wsP96vdmGJsNFweShRtVIemcXUTKEGkLkRrHraN4rvhGB2iXbuktA1+z2V2qSoKK2/KjZW1XNqxDk0wrxQHwFwRLeORA8RYvcQYtWiGlT7HqYB5dffZHhnXIBdiODsew6hYO7a41cd6ihZZ2kjvF5BjMdkI950taRzpTUgN/m4/RjoFdA1aAQCXEQpNQatToJRW3bRyhN1GXL9W/r8Hc/JXos48r0LaF4qX26IZ9PXk8X/ENpAUE6ojVdXwQMng7x7hMPFwJPf1e3cKxHx+0D0neJvVg5H76ATgUxJL0fqeGHBDbYswg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=qrs0BHMG5XjU+42QmSaWOdC0kNgHzb/9QQFHTlTCROo=;
 b=nHfKVO/CQ9IS54VhmqFJMS8/+hv+egp4AJQS44ZuKhL+qHsB4RTpdHNBTq8vWhSlYHoHPoEubsWtfIbo8HelwUuIIwk7W+Z17A3xVEqIb8LsoJgaY5T+4BnNdf7ufL3xUNqO2XpV7WgMfo3+W5S6ihqFJxAmtm+SDX55hUJs8iMaSdrfStjaY0l/hT7+LYASPEoTtkJ9B7r9wRA6+Cq5XOWfEpAYw0ezjMcdoM9LNq2vZ4yiDv6UidggseoOSUZkyuxslsIKaJRrKF4217HGJPOeH+107hATaDUi5ZlSMPXhIozxrd820gWx3LLEuekKClnFkiwILyk2aPuQCi6HoQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from BN8PR12MB3217.namprd12.prod.outlook.com (20.179.67.158) by
 BN8PR12MB3474.namprd12.prod.outlook.com (20.178.211.142) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2199.20; Tue, 27 Aug 2019 15:16:59 +0000
Received: from BN8PR12MB3217.namprd12.prod.outlook.com
 ([fe80::78ee:f1aa:4477:4b77]) by BN8PR12MB3217.namprd12.prod.outlook.com
 ([fe80::78ee:f1aa:4477:4b77%7]) with mapi id 15.20.2178.023; Tue, 27 Aug 2019
 15:16:59 +0000
From: "Francis, David" <David.Francis@amd.com>
To: Jani Nikula <jani.nikula@linux.intel.com>,
 "dri-devel@lists.freedesktop.org" <dri-devel@lists.freedesktop.org>
Subject: Re: [PATCH v9 6/6] drm/dp_mst: Add helpers for MST DSC and virtual
 DPCD aux
Thread-Topic: [PATCH v9 6/6] drm/dp_mst: Add helpers for MST DSC and virtual
 DPCD aux
Thread-Index: AQHVXOGd9XmT3SPoDEqteYIf5TSwracPFF8AgAAFgFg=
Date: Tue, 27 Aug 2019 15:16:59 +0000
Message-ID: <BN8PR12MB32174D0F5DA9F479B87669CEEFA00@BN8PR12MB3217.namprd12.prod.outlook.com>
References: <20190827141329.30767-1-David.Francis@amd.com>
 <20190827141329.30767-7-David.Francis@amd.com>,<877e6y8xu1.fsf@intel.com>
In-Reply-To: <877e6y8xu1.fsf@intel.com>
Accept-Language: en-CA, en-US
Content-Language: en-CA
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [165.204.55.250]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: beb244dd-e120-4313-98da-08d72b019b15
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(5600166)(711020)(4605104)(1401327)(4618075)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(2017052603328)(7193020);
 SRVR:BN8PR12MB3474; 
x-ms-traffictypediagnostic: BN8PR12MB3474:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <BN8PR12MB34748F99DF5F49FA0D105C95EFA00@BN8PR12MB3474.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:8882;
x-forefront-prvs: 0142F22657
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(366004)(376002)(136003)(396003)(346002)(39860400002)(199004)(189003)(54906003)(110136005)(76176011)(86362001)(14454004)(7696005)(25786009)(6506007)(6436002)(4326008)(53946003)(229853002)(316002)(76116006)(66446008)(66946007)(64756008)(66556008)(66476007)(6116002)(3846002)(71190400001)(99286004)(478600001)(55016002)(6246003)(8676002)(305945005)(2906002)(30864003)(33656002)(71200400001)(486006)(102836004)(26005)(186003)(476003)(53546011)(5024004)(14444005)(81156014)(81166006)(11346002)(2501003)(5660300002)(256004)(7736002)(74316002)(8936002)(66066001)(9686003)(53936002)(446003)(52536014);
 DIR:OUT; SFP:1101; SCL:1; SRVR:BN8PR12MB3474;
 H:BN8PR12MB3217.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: vZZ0DfwOEIxBEc1VhC3+A2Xyt6hgApvMjXeNBCRwC+T69ghJD5qIR4u1mxE6nV1Bhghqtci7M7R/jiHUnqHMtQb07qG3MOYjDHZbRU3yeK/86pjqwH/xl3FxrwwUvVH94EfhziB4sqTO1YoD7mMUZndrNZBISnd2tnoq0ADMEpGICm8R8AS571W3FYdDrqImGT/92jzjlrMPduE47xUebZo6zQBdQb07zdfxqmw4s1hSqsA63DZkCK5JDQxjwOy5BbG8FehGKaTiJUar/Y9smLvTLAaqaNGPwl1/FizBrZ4GCjtQNZg6yaoxm0aaOz2wRD6E4AwKnIkOebuy111t59pGpzFUxVUf/8joFmVrNhpsFJmdJAdjGR/XCRGMeGM3VY8WwdzYfGT04eow3wKChVozgSzjRjhlVHDPLsicixA=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: beb244dd-e120-4313-98da-08d72b019b15
X-MS-Exchange-CrossTenant-originalarrivaltime: 27 Aug 2019 15:16:59.1900 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: 1C3Ps6im+IM9fcTsVxZUVQbRD0c/pu6UmtVNduPDVMs3+ynCXcGU0O7t7i8Ln93a
X-MS-Exchange-Transport-CrossTenantHeadersStamped: BN8PR12MB3474
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=qrs0BHMG5XjU+42QmSaWOdC0kNgHzb/9QQFHTlTCROo=;
 b=R/uTQH0DMCYnAlnWwjGgVri9SlDUCGmb0QZOStJaLFJO+LdMmVPeCf70V7ahmLG0qahnGbDq9Wy7OEUofKhzA5cYpvlgCLZrwPFVnk3+yKWjs0yTFfq2eJoyUI0NQeheQ83RZm8Y49L7QCkYCfWfq+9OlTCRP3ZCp+57kH6l0Og=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=David.Francis@amd.com; 
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Pj4gQWRkIGRybV9kcF9tc3RfZHNjX2F1eF9mb3JfcG9ydC4gVG8gZW5hYmxlIERTQywgdGhlIERT
Q19FTkFCTEVECj4+IHJlZ2lzdGVyIG1pZ2h0IGhhdmUgdG8gYmUgd3JpdHRlbiBvbiB0aGUgbGVh
ZiBwb3J0J3MgRFBDRCwKPj4gaXRzIHBhcmVudCdzIERQQ0QsIG9yIHRoZSBNU1QgbWFuYWdlcidz
IERQQ0QuIFRoaXMgZnVuY3Rpb24KPj4gZmluZHMgdGhlIGNvcnJlY3QgYXV4IGZvciB0aGUgam9i
Lgo+Pgo+PiBBcyBwYXJ0IG9mIHRoaXMsIGFkZCBkcm1fZHBfbXN0X2lzX3ZpcnR1YWxfZHBjZC4g
VmlydHVhbCBEUENECj4+IGlzIGEgRFAgZmVhdHVyZSBuZXcgaW4gRFAgdjEuNCwgd2hpY2ggZXhw
b3NlcyBjZXJ0YWluIERQQ0QKPj4gcmVnaXN0ZXJzIG9uIHZpcnR1YWwgcG9ydHMuCj4+Cj4+IHYy
OiBSZW1lbWJlciB0byB1bmxvY2sgbXV0ZXggb24gYWxsIHBhdGhzCj4+IHYzOiBSZWZhY3RvciB0
byBtYXRjaCBjb2Rpbmcgc3R5bGUgYW5kIGluY3JlYXNlIGJyZXZpdHkKPj4KPj4gQ2M6IEx5dWRl
IFBhdWwgPGx5dWRlQHJlZGhhdC5jb20+Cj4+IENjOiBKYW5pIE5pa3VsYSA8amFuaS5uaWt1bGFA
bGludXguaW50ZWwuY29tPgo+PiBDYzogSGFycnkgV2VudGxhbmQgPGhhcnJ5LndlbnRsYW5kQGFt
ZC5jb20+Cj4+IFJldmlld2VkLWJ5OiBXZW5qaW5nIExpdSA8V2VuamluZy5MaXVAYW1kLmNvbT4K
Pj4gU2lnbmVkLW9mZi1ieTogRGF2aWQgRnJhbmNpcyA8RGF2aWQuRnJhbmNpc0BhbWQuY29tPgo+
PiAtLS0KPj4gIGRyaXZlcnMvZ3B1L2RybS9kcm1fZHBfbXN0X3RvcG9sb2d5LmMgfCAxNTMgKysr
KysrKysrKysrKysrKysrKysrKysrKysKPj4gIGluY2x1ZGUvZHJtL2RybV9kcF9tc3RfaGVscGVy
LmggICAgICAgfCAgIDIgKwo+PiAgMiBmaWxlcyBjaGFuZ2VkLCAxNTUgaW5zZXJ0aW9ucygrKQo+
Pgo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2RybV9kcF9tc3RfdG9wb2xvZ3kuYyBi
L2RyaXZlcnMvZ3B1L2RybS9kcm1fZHBfbXN0X3RvcG9sb2d5LmMKPj4gaW5kZXggNTAyOTIzYzI0
NDUwLi5lMjRkYmEyNzYxMTkgMTAwNjQ0Cj4+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fZHBf
bXN0X3RvcG9sb2d5LmMKPj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2RybV9kcF9tc3RfdG9wb2xv
Z3kuYwo+PiBAQCAtNDE1MCwzICs0MTUwLDE1NiBAQCBzdGF0aWMgdm9pZCBkcm1fZHBfbXN0X3Vu
cmVnaXN0ZXJfaTJjX2J1cyhzdHJ1Y3QgZHJtX2RwX2F1eCAqYXV4KQo+PiAgewo+PiAgICAgICAg
aTJjX2RlbF9hZGFwdGVyKCZhdXgtPmRkYyk7Cj4+ICB9Cj4+ICsKPj4gKy8qKgo+PiArICogZHJt
X2RwX21zdF9pc192aXJ0dWFsX2RwY2QoKSAtIElzIHRoZSBnaXZlbiBwb3J0IGEgdmlydHVhbCBE
UCBQZWVyIERldmljZQo+PiArICogQHBvcnQ6IFRoZSBwb3J0IHRvIGNoZWNrCj4+ICsgKgo+PiAr
ICogQSBzaW5nbGUgcGh5c2ljYWwgTVNUIGh1YiBvYmplY3QgY2FuIGJlIHJlcHJlc2VudGVkIGlu
IHRoZSB0b3BvbG9neQo+PiArICogYnkgbXVsdGlwbGUgYnJhbmNoZXMsIHdpdGggdmlydHVhbCBw
b3J0cyBiZXR3ZWVuIHRob3NlIGJyYW5jaGVzLgo+PiArICoKPj4gKyAqIEFzIG9mIERQMS40LCBB
biBNU1QgaHViIHdpdGggaW50ZXJuYWwgKHZpcnR1YWwpIHBvcnRzIG11c3QgZXhwb3NlCj4+ICsg
KiBjZXJ0YWluIERQQ0QgcmVnaXN0ZXJzIG92ZXIgdGhvc2UgcG9ydHMuIFNlZSBzZWN0aW9ucyAy
LjYuMS4xLjEKPj4gKyAqIGFuZCAyLjYuMS4xLjIgb2YgRGlzcGxheSBQb3J0IHNwZWNpZmljYXRp
b24gdjEuNCBmb3IgZGV0YWlscy4KPj4gKyAqCj4+ICsgKiBNYXkgYWNxdWlyZSBtZ3ItPmxvY2sK
Pj4gKyAqCj4+ICsgKiBSZXR1cm5zOgo+PiArICogdHJ1ZSBpZiB0aGUgcG9ydCBpcyBhIHZpcnR1
YWwgRFAgcGVlciBkZXZpY2UsIGZhbHNlIG90aGVyd2lzZQo+PiArICovCj4+ICtzdGF0aWMgYm9v
bCBkcm1fZHBfbXN0X2lzX3ZpcnR1YWxfZHBjZChzdHJ1Y3QgZHJtX2RwX21zdF9wb3J0ICpwb3J0
KQo+PiArewo+PiArICAgICBzdHJ1Y3QgZHJtX2RwX21zdF9wb3J0ICpkb3duc3RyZWFtX3BvcnQ7
Cj4+ICsKPj4gKyAgICAgaWYgKCFwb3J0IHx8IHBvcnQtPmRwY2RfcmV2IDwgRFBfRFBDRF9SRVZf
MTQpCj4+ICsgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwo+PiArCj4+ICsgICAgIC8qIFZpcnR1
YWwgRFAgU2luayAoSW50ZXJuYWwgRGlzcGxheSBQYW5lbCkgKi8KPj4gKyAgICAgaWYgKHBvcnQt
PnBvcnRfbnVtID49IDgpCj4+ICsgICAgICAgICAgICAgcmV0dXJuIHRydWU7Cj4+ICsKPj4gKyAg
ICAgLyogRFAtdG8tSERNSSBQcm90b2NvbCBDb252ZXJ0ZXIgKi8KPj4gKyAgICAgaWYgKHBvcnQt
PnBkdCA9PSBEUF9QRUVSX0RFVklDRV9EUF9MRUdBQ1lfQ09OViAmJgo+PiArICAgICAgICAgIXBv
cnQtPm1jcyAmJgo+PiArICAgICAgICAgcG9ydC0+bGRwcykKPj4gKyAgICAgICAgICAgICByZXR1
cm4gdHJ1ZTsKPj4gKwo+PiArICAgICAvKiBEUC10by1EUCAqLwo+PiArICAgICBtdXRleF9sb2Nr
KCZwb3J0LT5tZ3ItPmxvY2spOwo+PiArICAgICBpZiAocG9ydC0+cGR0ID09IERQX1BFRVJfREVW
SUNFX01TVF9CUkFOQ0hJTkcgJiYKPj4gKyAgICAgICAgIHBvcnQtPm1zdGIgJiYKPj4gKyAgICAg
ICAgIHBvcnQtPm1zdGItPm51bV9wb3J0cyA9PSAyKSB7Cj4+ICsgICAgICAgICAgICAgbGlzdF9m
b3JfZWFjaF9lbnRyeShkb3duc3RyZWFtX3BvcnQsICZwb3J0LT5tc3RiLT5wb3J0cywgbmV4dCkg
ewo+PiArICAgICAgICAgICAgICAgICAgICAgaWYgKGRvd25zdHJlYW1fcG9ydC0+cGR0ID09IERQ
X1BFRVJfREVWSUNFX1NTVF9TSU5LICYmCj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgIWRv
d25zdHJlYW1fcG9ydC0+aW5wdXQpIHsKPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
bXV0ZXhfdW5sb2NrKCZwb3J0LT5tZ3ItPmxvY2spOwo+PiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICByZXR1cm4gdHJ1ZTsKPj4gKyAgICAgICAgICAgICAgICAgICAgIH0KPj4gKyAgICAg
ICAgICAgICB9Cj4+ICsgICAgIH0KPj4gKyAgICAgbXV0ZXhfdW5sb2NrKCZwb3J0LT5tZ3ItPmxv
Y2spOwo+PiArCj4+ICsgICAgIHJldHVybiBmYWxzZTsKPj4gK30KPj4gKwo+PiArLyoqCj4+ICsg
KiBkcm1fZHBfbXN0X2RzY19hdXhfZm9yX3BvcnQoKSAtIEZpbmQgdGhlIGNvcnJlY3QgYXV4IGZv
ciBEU0MKPj4gKyAqIEBwb3J0OiBUaGUgcG9ydCB0byBjaGVjay4gQSBsZWFmIG9mIHRoZSBNU1Qg
dHJlZSB3aXRoIGFuIGF0dGFjaGVkIGRpc3BsYXkuCj4+ICsgKgo+PiArICogRGVwZW5kaW5nIG9u
IHRoZSBzaXR1YXRpb24sIERTQyBtYXkgYmUgZW5hYmxlZCB2aWEgdGhlIGVuZHBvaW50IGF1eCwK
Pj4gKyAqIHRoZSBpbW1lZGlhdGVseSB1cHN0cmVhbSBhdXgsIG9yIHRoZSBjb25uZWN0b3IncyBw
aHlzaWNhbCBhdXguCj4+ICsgKgo+PiArICogVGhpcyBpcyBib3RoIHRoZSBjb3JyZWN0IGF1eCB0
byByZWFkIERTQ19DQVBBQklMSVRZIGFuZCB0aGUKPj4gKyAqIGNvcnJlY3QgYXV4IHRvIHdyaXRl
IERTQ19FTkFCTEVELgo+PiArICoKPj4gKyAqIFRoaXMgb3BlcmF0aW9uIGNhbiBiZSBleHBlbnNp
dmUgKHVwIHRvIGZvdXIgYXV4IHJlYWRzKSwgc28KPj4gKyAqIHRoZSBjYWxsZXIgc2hvdWxkIGNh
Y2hlIHRoZSByZXR1cm4uCj4+ICsgKgo+PiArICogUmV0dXJuczoKPj4gKyAqIE5VTEwgaWYgRFND
IGNhbm5vdCBiZSBlbmFibGVkIG9uIHRoaXMgcG9ydCwgb3RoZXJ3aXNlIHRoZSBhdXggZGV2aWNl
Cj4+ICsgKi8KPj4gK3N0cnVjdCBkcm1fZHBfYXV4ICpkcm1fZHBfbXN0X2RzY19hdXhfZm9yX3Bv
cnQoc3RydWN0IGRybV9kcF9tc3RfcG9ydCAqcG9ydCkKPj4gK3sKPj4gKyAgICAgc3RydWN0IGRy
bV9kcF9tc3RfcG9ydCAqaW1tZWRpYXRlX3Vwc3RyZWFtX3BvcnQ7Cj4+ICsgICAgIHN0cnVjdCBk
cm1fZHBfbXN0X3BvcnQgKmZlY19wb3J0Owo+PiArICAgICBzdHJ1Y3QgZHJtX2RwX2Rlc2MgKmRl
c2MgPSBOVUxMOwo+PiArCj4+ICsgICAgIGlmICghcG9ydCkKPj4gKyAgICAgICAgICAgICByZXR1
cm4gTlVMTDsKPj4gKwo+PiArICAgICBpZiAocG9ydC0+cGFyZW50KQo+PiArICAgICAgICAgICAg
IGltbWVkaWF0ZV91cHN0cmVhbV9wb3J0ID0gcG9ydC0+cGFyZW50LT5wb3J0X3BhcmVudDsKPj4g
KyAgICAgZWxzZQo+PiArICAgICAgICAgICAgIGltbWVkaWF0ZV91cHN0cmVhbV9wb3J0ID0gTlVM
TDsKPj4gKwo+PiArICAgICBmZWNfcG9ydCA9IGltbWVkaWF0ZV91cHN0cmVhbV9wb3J0Owo+PiAr
ICAgICB3aGlsZSAoZmVjX3BvcnQpIHsKPj4gKyAgICAgICAgICAgICAvKgo+PiArICAgICAgICAg
ICAgICAqIEVhY2ggcGh5c2ljYWwgbGluayAoaS5lLiBub3QgYSB2aXJ0dWFsIHBvcnQpIGJldHdl
ZW4gdGhlCj4+ICsgICAgICAgICAgICAgICogb3V0cHV0IGFuZCB0aGUgcHJpbWFyeSBkZXZpY2Ug
bXVzdCBzdXBwb3J0IEZFQwo+PiArICAgICAgICAgICAgICAqLwo+PiArICAgICAgICAgICAgIGlm
ICghZHJtX2RwX21zdF9pc192aXJ0dWFsX2RwY2QoZmVjX3BvcnQpICYmCj4+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICFmZWNfcG9ydC0+ZmVjX2NhcGFibGUpCj4+ICsgICAgICAgICAg
ICAgICAgICAgICByZXR1cm4gTlVMTDsKPj4gKwo+PiArICAgICAgICAgICAgIGZlY19wb3J0ID0g
ZmVjX3BvcnQtPnBhcmVudC0+cG9ydF9wYXJlbnQ7Cj4+ICsgICAgIH0KPj4gKwo+PiArICAgICAv
KiBEUC10by1EUCBwZWVyIGRldmljZSAqLwo+PiArICAgICBpZiAoZHJtX2RwX21zdF9pc192aXJ0
dWFsX2RwY2QoaW1tZWRpYXRlX3Vwc3RyZWFtX3BvcnQpKSB7Cj4+ICsgICAgICAgICAgICAgdTgg
dXBzdHJlYW1fZHNjOwo+PiArICAgICAgICAgICAgIHU4IGVuZHBvaW50X2RzYzsKPj4gKyAgICAg
ICAgICAgICB1OCBlbmRwb2ludF9mZWM7Cj4+ICsKPj4gKyAgICAgICAgICAgICBpZiAoZHJtX2Rw
X2RwY2RfcmVhZCgmcG9ydC0+YXV4LAo+PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIERQX0RTQ19TVVBQT1JULCAmZW5kcG9pbnRfZHNjLCAxKSA8IDApCj4+ICsgICAgICAgICAg
ICAgICAgICAgICByZXR1cm4gTlVMTDsKPj4gKyAgICAgICAgICAgICBpZiAoZHJtX2RwX2RwY2Rf
cmVhZCgmcG9ydC0+YXV4LAo+PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERQ
X0ZFQ19DQVBBQklMSVRZLCAmZW5kcG9pbnRfZmVjLCAxKSA8IDApCj4+ICsgICAgICAgICAgICAg
ICAgICAgICByZXR1cm4gTlVMTDsKPj4gKyAgICAgICAgICAgICBpZiAoZHJtX2RwX2RwY2RfcmVh
ZCgmaW1tZWRpYXRlX3Vwc3RyZWFtX3BvcnQtPmF1eCwKPj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBEUF9EU0NfU1VQUE9SVCwgJnVwc3RyZWFtX2RzYywgMSkgPCAwKQo+PiAr
ICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE5VTEw7Cj4+ICsKPj4gKyAgICAgICAgICAgICAv
KiBFbnBvaW50IGRlY29tcHJlc3Npb24gd2l0aCBEUC10by1EUCBwZWVyIGRldmljZSAqLwo+PiAr
ICAgICAgICAgICAgIGlmICgoZW5kcG9pbnRfZHNjICYgRFBfRFNDX0RFQ09NUFJFU1NJT05fSVNf
U1VQUE9SVEVEKSAmJgo+PiArICAgICAgICAgICAgICAgICAoZW5kcG9pbnRfZmVjICYgRFBfRkVD
X0NBUEFCTEUpICYmCj4+ICsgICAgICAgICAgICAgICAgICh1cHN0cmVhbV9kc2MgJiAweDIpIC8q
IERTQyBwYXNzdGhyb3VnaCAqLykKPj4gKyAgICAgICAgICAgICAgICAgICAgIHJldHVybiAmcG9y
dC0+YXV4Owo+PiArCj4+ICsgICAgICAgICAgICAgLyogVmlydHVhbCBEUENEIGRlY29tcHJlc3Np
b24gd2l0aCBEUC10by1EUCBwZWVyIGRldmljZSAqLwo+PiArICAgICAgICAgICAgIHJldHVybiAm
aW1tZWRpYXRlX3Vwc3RyZWFtX3BvcnQtPmF1eDsKPj4gKyAgICAgfQo+PiArCj4+ICsgICAgIC8q
IFZpcnR1YWwgRFBDRCBkZWNvbXByZXNzaW9uIHdpdGggRFAtdG8tSERNSSBvciBWaXJ0dWFsIERQ
IFNpbmsgKi8KPj4gKyAgICAgaWYgKGRybV9kcF9tc3RfaXNfdmlydHVhbF9kcGNkKHBvcnQpKQo+
PiArICAgICAgICAgICAgIHJldHVybiAmcG9ydC0+YXV4Owo+PiArCj4+ICsgICAgIC8qCj4+ICsg
ICAgICAqIFN5bmFwdGljcyBxdWlyawo+PiArICAgICAgKiBBcHBsaWVzIHRvIHBvcnRzIGZvciB3
aGljaDoKPj4gKyAgICAgICogLSBQaHlzaWNhbCBhdXggaGFzIFN5bmFwdGljcyBPVUkKPj4gKyAg
ICAgICogLSBEUHYxLjQgb3IgaGlnaGVyCj4+ICsgICAgICAqIC0gUG9ydCBpcyBvbiBwcmltYXJ5
IGJyYW5jaCBkZXZpY2UKPj4gKyAgICAgICogLSBOb3QgYSBWR0EgYWRhcHRlciAoRFBfRFdOX1NU
Uk1fUE9SVF9UWVBFX0FOQUxPRykKPj4gKyAgICAgICovCj4+ICsgICAgIGlmICghZHJtX2RwX3Jl
YWRfZGVzYyhwb3J0LT5tZ3ItPmF1eCwgZGVzYywgdHJ1ZSkpCj4+ICsgICAgICAgICAgICAgcmV0
dXJuIGZhbHNlOwo+PiArCj4+ICsgICAgIGlmIChkcm1fZHBfaGFzX3F1aXJrKGRlc2MsIERQX0RQ
Q0RfUVVJUktfRFNDX1dJVEhPVVRfVklSVFVBTF9EUENEICYmCj4+ICsgICAgICAgICBwb3J0LT5t
Z3ItPmRwY2RbRFBfRFBDRF9SRVZdID49IERQX0RQQ0RfUkVWXzE0KSAmJgo+PiArICAgICAgICAg
cG9ydC0+cGFyZW50ID09IHBvcnQtPm1nci0+bXN0X3ByaW1hcnkpIHsKPj4gKyAgICAgICAgICAg
ICB1OCBkb3duc3RyZWFtcG9ydDsKPj4gKwo+PiArICAgICAgICAgICAgIGRybV9kcF9kcGNkX3Jl
YWQoJnBvcnQtPmF1eCwgRFBfRE9XTlNUUkVBTVBPUlRfUFJFU0VOVCwKPj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICZkb3duc3RyZWFtcG9ydCwgMSk7Cj4+ICsKPj4gKyAgICAgICAg
ICAgICBpZiAoKGRvd25zdHJlYW1wb3J0ICYgRFBfRFdOX1NUUk1fUE9SVF9QUkVTRU5UKSAmJgo+
PiArICAgICAgICAgICAgICAgICgoZG93bnN0cmVhbXBvcnQgJiBEUF9EV05fU1RSTV9QT1JUX1RZ
UEVfTUFTSykKPj4gKyAgICAgICAgICAgICAgICAgICE9IERQX0RXTl9TVFJNX1BPUlRfVFlQRV9B
TkFMT0cpKQo+PiArICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvcnQtPm1nci0+YXV4Owo+
PiArICAgICB9Cj4KPkkgd291bGQndmUgcHV0IHRoZSBxdWlyayBkZWZpbml0aW9uIGZyb20gcGF0
Y2ggNSBhbmQgdGhlIHF1aXJrIGhhbmRsaW5nCj5hYm92ZSB0b2dldGhlciBpbnRvIGEgc2VwYXJh
dGUgcGF0Y2guIFRoZSBjdXJyZW50IHBhdGNoIHdvdWxkIGJlIGFib3V0Cj5ob3cgdGhpbmdzIHNo
b3VsZCB3b3JrIGluIHRoZW9yeSwgYW5kIGFub3RoZXIgcGF0Y2ggb24gdG9wIHdvdWxkIGJlCj5h
Ym91dCBob3cgcmVhbGl0eSBpbnRlcmZlcmVzIHdpdGggdGhlb3J5LCBhbmQgeW91IGhhdmUgdG8g
cXVpcmsgc3R1ZmYgdG8KPm1ha2UgaXQgYWN0dWFsbHkgd29yay4KPgo+VGhlIHdob2xlIHBvaW50
IGFib3V0IHNwbGl0dGluZyB0aGUgcXVpcmsgb2ZmIHdhcyB0aGF0IGl0J3MgYSBzZXBhcmF0ZQo+
ZnVuY3Rpb25hbCBjaGFuZ2UuIFdoYXQgaWYgdGhlIHF1aXJrIHR1cm5zIG91dCB0byBiZSBhIG1p
c3Rha2U/ICBKdXN0Cj5yZXZlcnQgdGhlIHdob2xlIHRoaW5nLiBUaGF0IHdvdWxkIGJlIGltcG9z
c2libGUgd2l0aCB0aGlzIHNwbGl0Lgo+Cj5JIGRvbid0IGtub3cgaWYgSSBjYXJlIGVub3VnaCB0
byBpbnNpc3QuICpzaHJ1ZyoKPgoKTm8sIHRoYXQncyBhIGdvb2QgcG9pbnQuICBGaXhpbmcgdGhp
cyBmb3IgdjEwCgo+Cj5CUiwKPkphbmkuCj4KPgo+Cj4+ICsKPj4gKyAgICAgcmV0dXJuIE5VTEw7
Cj4+ICt9Cj4+ICtFWFBPUlRfU1lNQk9MKGRybV9kcF9tc3RfZHNjX2F1eF9mb3JfcG9ydCk7Cj4+
IGRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS9kcm1fZHBfbXN0X2hlbHBlci5oIGIvaW5jbHVkZS9k
cm0vZHJtX2RwX21zdF9oZWxwZXIuaAo+PiBpbmRleCBmMTEzYWUwNGZhODguLjRjZjczODU0NWRm
YiAxMDA2NDQKPj4gLS0tIGEvaW5jbHVkZS9kcm0vZHJtX2RwX21zdF9oZWxwZXIuaAo+PiArKysg
Yi9pbmNsdWRlL2RybS9kcm1fZHBfbXN0X2hlbHBlci5oCj4+IEBAIC02NzMsNiArNjczLDggQEAg
aW50IF9fbXVzdF9jaGVjayBkcm1fZHBfbXN0X2F0b21pY19jaGVjayhzdHJ1Y3QgZHJtX2F0b21p
Y19zdGF0ZSAqc3RhdGUpOwo+PiAgdm9pZCBkcm1fZHBfbXN0X2dldF9wb3J0X21hbGxvYyhzdHJ1
Y3QgZHJtX2RwX21zdF9wb3J0ICpwb3J0KTsKPj4gIHZvaWQgZHJtX2RwX21zdF9wdXRfcG9ydF9t
YWxsb2Moc3RydWN0IGRybV9kcF9tc3RfcG9ydCAqcG9ydCk7Cj4+Cj4+ICtzdHJ1Y3QgZHJtX2Rw
X2F1eCAqZHJtX2RwX21zdF9kc2NfYXV4X2Zvcl9wb3J0KHN0cnVjdCBkcm1fZHBfbXN0X3BvcnQg
KnBvcnQpOwo+PiArCj4+ICBleHRlcm4gY29uc3Qgc3RydWN0IGRybV9wcml2YXRlX3N0YXRlX2Z1
bmNzIGRybV9kcF9tc3RfdG9wb2xvZ3lfc3RhdGVfZnVuY3M7Cj4+Cj4+ICAvKioKPgo+LS0KPkph
bmkgTmlrdWxhLCBJbnRlbCBPcGVuIFNvdXJjZSBHcmFwaGljcyBDZW50ZXIKCl9fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX18KRnJvbTogSmFuaSBOaWt1bGEgPGphbmkubmlr
dWxhQGxpbnV4LmludGVsLmNvbT4KU2VudDogQXVndXN0IDI3LCAyMDE5IDEwOjUyIEFNClRvOiBG
cmFuY2lzLCBEYXZpZDsgZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpDYzogRnJhbmNp
cywgRGF2aWQ7IEx5dWRlIFBhdWw7IFdlbnRsYW5kLCBIYXJyeQpTdWJqZWN0OiBSZTogW1BBVENI
IHY5IDYvNl0gZHJtL2RwX21zdDogQWRkIGhlbHBlcnMgZm9yIE1TVCBEU0MgYW5kIHZpcnR1YWwg
RFBDRCBhdXgKCk9uIFR1ZSwgMjcgQXVnIDIwMTksIERhdmlkIEZyYW5jaXMgPERhdmlkLkZyYW5j
aXNAYW1kLmNvbT4gd3JvdGU6Cj4gQWRkIGRybV9kcF9tc3RfZHNjX2F1eF9mb3JfcG9ydC4gVG8g
ZW5hYmxlIERTQywgdGhlIERTQ19FTkFCTEVECj4gcmVnaXN0ZXIgbWlnaHQgaGF2ZSB0byBiZSB3
cml0dGVuIG9uIHRoZSBsZWFmIHBvcnQncyBEUENELAo+IGl0cyBwYXJlbnQncyBEUENELCBvciB0
aGUgTVNUIG1hbmFnZXIncyBEUENELiBUaGlzIGZ1bmN0aW9uCj4gZmluZHMgdGhlIGNvcnJlY3Qg
YXV4IGZvciB0aGUgam9iLgo+Cj4gQXMgcGFydCBvZiB0aGlzLCBhZGQgZHJtX2RwX21zdF9pc192
aXJ0dWFsX2RwY2QuIFZpcnR1YWwgRFBDRAo+IGlzIGEgRFAgZmVhdHVyZSBuZXcgaW4gRFAgdjEu
NCwgd2hpY2ggZXhwb3NlcyBjZXJ0YWluIERQQ0QKPiByZWdpc3RlcnMgb24gdmlydHVhbCBwb3J0
cy4KPgo+IHYyOiBSZW1lbWJlciB0byB1bmxvY2sgbXV0ZXggb24gYWxsIHBhdGhzCj4gdjM6IFJl
ZmFjdG9yIHRvIG1hdGNoIGNvZGluZyBzdHlsZSBhbmQgaW5jcmVhc2UgYnJldml0eQo+Cj4gQ2M6
IEx5dWRlIFBhdWwgPGx5dWRlQHJlZGhhdC5jb20+Cj4gQ2M6IEphbmkgTmlrdWxhIDxqYW5pLm5p
a3VsYUBsaW51eC5pbnRlbC5jb20+Cj4gQ2M6IEhhcnJ5IFdlbnRsYW5kIDxoYXJyeS53ZW50bGFu
ZEBhbWQuY29tPgo+IFJldmlld2VkLWJ5OiBXZW5qaW5nIExpdSA8V2VuamluZy5MaXVAYW1kLmNv
bT4KPiBTaWduZWQtb2ZmLWJ5OiBEYXZpZCBGcmFuY2lzIDxEYXZpZC5GcmFuY2lzQGFtZC5jb20+
Cj4gLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9kcm1fZHBfbXN0X3RvcG9sb2d5LmMgfCAxNTMgKysr
KysrKysrKysrKysrKysrKysrKysrKysKPiAgaW5jbHVkZS9kcm0vZHJtX2RwX21zdF9oZWxwZXIu
aCAgICAgICB8ICAgMiArCj4gIDIgZmlsZXMgY2hhbmdlZCwgMTU1IGluc2VydGlvbnMoKykKPgo+
IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vZHJtX2RwX21zdF90b3BvbG9neS5jIGIvZHJp
dmVycy9ncHUvZHJtL2RybV9kcF9tc3RfdG9wb2xvZ3kuYwo+IGluZGV4IDUwMjkyM2MyNDQ1MC4u
ZTI0ZGJhMjc2MTE5IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fZHBfbXN0X3Rv
cG9sb2d5LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2RwX21zdF90b3BvbG9neS5jCj4g
QEAgLTQxNTAsMyArNDE1MCwxNTYgQEAgc3RhdGljIHZvaWQgZHJtX2RwX21zdF91bnJlZ2lzdGVy
X2kyY19idXMoc3RydWN0IGRybV9kcF9hdXggKmF1eCkKPiAgewo+ICAgICAgIGkyY19kZWxfYWRh
cHRlcigmYXV4LT5kZGMpOwo+ICB9Cj4gKwo+ICsvKioKPiArICogZHJtX2RwX21zdF9pc192aXJ0
dWFsX2RwY2QoKSAtIElzIHRoZSBnaXZlbiBwb3J0IGEgdmlydHVhbCBEUCBQZWVyIERldmljZQo+
ICsgKiBAcG9ydDogVGhlIHBvcnQgdG8gY2hlY2sKPiArICoKPiArICogQSBzaW5nbGUgcGh5c2lj
YWwgTVNUIGh1YiBvYmplY3QgY2FuIGJlIHJlcHJlc2VudGVkIGluIHRoZSB0b3BvbG9neQo+ICsg
KiBieSBtdWx0aXBsZSBicmFuY2hlcywgd2l0aCB2aXJ0dWFsIHBvcnRzIGJldHdlZW4gdGhvc2Ug
YnJhbmNoZXMuCj4gKyAqCj4gKyAqIEFzIG9mIERQMS40LCBBbiBNU1QgaHViIHdpdGggaW50ZXJu
YWwgKHZpcnR1YWwpIHBvcnRzIG11c3QgZXhwb3NlCj4gKyAqIGNlcnRhaW4gRFBDRCByZWdpc3Rl
cnMgb3ZlciB0aG9zZSBwb3J0cy4gU2VlIHNlY3Rpb25zIDIuNi4xLjEuMQo+ICsgKiBhbmQgMi42
LjEuMS4yIG9mIERpc3BsYXkgUG9ydCBzcGVjaWZpY2F0aW9uIHYxLjQgZm9yIGRldGFpbHMuCj4g
KyAqCj4gKyAqIE1heSBhY3F1aXJlIG1nci0+bG9jawo+ICsgKgo+ICsgKiBSZXR1cm5zOgo+ICsg
KiB0cnVlIGlmIHRoZSBwb3J0IGlzIGEgdmlydHVhbCBEUCBwZWVyIGRldmljZSwgZmFsc2Ugb3Ro
ZXJ3aXNlCj4gKyAqLwo+ICtzdGF0aWMgYm9vbCBkcm1fZHBfbXN0X2lzX3ZpcnR1YWxfZHBjZChz
dHJ1Y3QgZHJtX2RwX21zdF9wb3J0ICpwb3J0KQo+ICt7Cj4gKyAgICAgc3RydWN0IGRybV9kcF9t
c3RfcG9ydCAqZG93bnN0cmVhbV9wb3J0Owo+ICsKPiArICAgICBpZiAoIXBvcnQgfHwgcG9ydC0+
ZHBjZF9yZXYgPCBEUF9EUENEX1JFVl8xNCkKPiArICAgICAgICAgICAgIHJldHVybiBmYWxzZTsK
PiArCj4gKyAgICAgLyogVmlydHVhbCBEUCBTaW5rIChJbnRlcm5hbCBEaXNwbGF5IFBhbmVsKSAq
Lwo+ICsgICAgIGlmIChwb3J0LT5wb3J0X251bSA+PSA4KQo+ICsgICAgICAgICAgICAgcmV0dXJu
IHRydWU7Cj4gKwo+ICsgICAgIC8qIERQLXRvLUhETUkgUHJvdG9jb2wgQ29udmVydGVyICovCj4g
KyAgICAgaWYgKHBvcnQtPnBkdCA9PSBEUF9QRUVSX0RFVklDRV9EUF9MRUdBQ1lfQ09OViAmJgo+
ICsgICAgICAgICAhcG9ydC0+bWNzICYmCj4gKyAgICAgICAgIHBvcnQtPmxkcHMpCj4gKyAgICAg
ICAgICAgICByZXR1cm4gdHJ1ZTsKPiArCj4gKyAgICAgLyogRFAtdG8tRFAgKi8KPiArICAgICBt
dXRleF9sb2NrKCZwb3J0LT5tZ3ItPmxvY2spOwo+ICsgICAgIGlmIChwb3J0LT5wZHQgPT0gRFBf
UEVFUl9ERVZJQ0VfTVNUX0JSQU5DSElORyAmJgo+ICsgICAgICAgICBwb3J0LT5tc3RiICYmCj4g
KyAgICAgICAgIHBvcnQtPm1zdGItPm51bV9wb3J0cyA9PSAyKSB7Cj4gKyAgICAgICAgICAgICBs
aXN0X2Zvcl9lYWNoX2VudHJ5KGRvd25zdHJlYW1fcG9ydCwgJnBvcnQtPm1zdGItPnBvcnRzLCBu
ZXh0KSB7Cj4gKyAgICAgICAgICAgICAgICAgICAgIGlmIChkb3duc3RyZWFtX3BvcnQtPnBkdCA9
PSBEUF9QRUVSX0RFVklDRV9TU1RfU0lOSyAmJgo+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
IWRvd25zdHJlYW1fcG9ydC0+aW5wdXQpIHsKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBtdXRleF91bmxvY2soJnBvcnQtPm1nci0+bG9jayk7Cj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgcmV0dXJuIHRydWU7Cj4gKyAgICAgICAgICAgICAgICAgICAgIH0KPiArICAgICAg
ICAgICAgIH0KPiArICAgICB9Cj4gKyAgICAgbXV0ZXhfdW5sb2NrKCZwb3J0LT5tZ3ItPmxvY2sp
Owo+ICsKPiArICAgICByZXR1cm4gZmFsc2U7Cj4gK30KPiArCj4gKy8qKgo+ICsgKiBkcm1fZHBf
bXN0X2RzY19hdXhfZm9yX3BvcnQoKSAtIEZpbmQgdGhlIGNvcnJlY3QgYXV4IGZvciBEU0MKPiAr
ICogQHBvcnQ6IFRoZSBwb3J0IHRvIGNoZWNrLiBBIGxlYWYgb2YgdGhlIE1TVCB0cmVlIHdpdGgg
YW4gYXR0YWNoZWQgZGlzcGxheS4KPiArICoKPiArICogRGVwZW5kaW5nIG9uIHRoZSBzaXR1YXRp
b24sIERTQyBtYXkgYmUgZW5hYmxlZCB2aWEgdGhlIGVuZHBvaW50IGF1eCwKPiArICogdGhlIGlt
bWVkaWF0ZWx5IHVwc3RyZWFtIGF1eCwgb3IgdGhlIGNvbm5lY3RvcidzIHBoeXNpY2FsIGF1eC4K
PiArICoKPiArICogVGhpcyBpcyBib3RoIHRoZSBjb3JyZWN0IGF1eCB0byByZWFkIERTQ19DQVBB
QklMSVRZIGFuZCB0aGUKPiArICogY29ycmVjdCBhdXggdG8gd3JpdGUgRFNDX0VOQUJMRUQuCj4g
KyAqCj4gKyAqIFRoaXMgb3BlcmF0aW9uIGNhbiBiZSBleHBlbnNpdmUgKHVwIHRvIGZvdXIgYXV4
IHJlYWRzKSwgc28KPiArICogdGhlIGNhbGxlciBzaG91bGQgY2FjaGUgdGhlIHJldHVybi4KPiAr
ICoKPiArICogUmV0dXJuczoKPiArICogTlVMTCBpZiBEU0MgY2Fubm90IGJlIGVuYWJsZWQgb24g
dGhpcyBwb3J0LCBvdGhlcndpc2UgdGhlIGF1eCBkZXZpY2UKPiArICovCj4gK3N0cnVjdCBkcm1f
ZHBfYXV4ICpkcm1fZHBfbXN0X2RzY19hdXhfZm9yX3BvcnQoc3RydWN0IGRybV9kcF9tc3RfcG9y
dCAqcG9ydCkKPiArewo+ICsgICAgIHN0cnVjdCBkcm1fZHBfbXN0X3BvcnQgKmltbWVkaWF0ZV91
cHN0cmVhbV9wb3J0Owo+ICsgICAgIHN0cnVjdCBkcm1fZHBfbXN0X3BvcnQgKmZlY19wb3J0Owo+
ICsgICAgIHN0cnVjdCBkcm1fZHBfZGVzYyAqZGVzYyA9IE5VTEw7Cj4gKwo+ICsgICAgIGlmICgh
cG9ydCkKPiArICAgICAgICAgICAgIHJldHVybiBOVUxMOwo+ICsKPiArICAgICBpZiAocG9ydC0+
cGFyZW50KQo+ICsgICAgICAgICAgICAgaW1tZWRpYXRlX3Vwc3RyZWFtX3BvcnQgPSBwb3J0LT5w
YXJlbnQtPnBvcnRfcGFyZW50Owo+ICsgICAgIGVsc2UKPiArICAgICAgICAgICAgIGltbWVkaWF0
ZV91cHN0cmVhbV9wb3J0ID0gTlVMTDsKPiArCj4gKyAgICAgZmVjX3BvcnQgPSBpbW1lZGlhdGVf
dXBzdHJlYW1fcG9ydDsKPiArICAgICB3aGlsZSAoZmVjX3BvcnQpIHsKPiArICAgICAgICAgICAg
IC8qCj4gKyAgICAgICAgICAgICAgKiBFYWNoIHBoeXNpY2FsIGxpbmsgKGkuZS4gbm90IGEgdmly
dHVhbCBwb3J0KSBiZXR3ZWVuIHRoZQo+ICsgICAgICAgICAgICAgICogb3V0cHV0IGFuZCB0aGUg
cHJpbWFyeSBkZXZpY2UgbXVzdCBzdXBwb3J0IEZFQwo+ICsgICAgICAgICAgICAgICovCj4gKyAg
ICAgICAgICAgICBpZiAoIWRybV9kcF9tc3RfaXNfdmlydHVhbF9kcGNkKGZlY19wb3J0KSAmJgo+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFmZWNfcG9ydC0+ZmVjX2NhcGFibGUpCj4g
KyAgICAgICAgICAgICAgICAgICAgIHJldHVybiBOVUxMOwo+ICsKPiArICAgICAgICAgICAgIGZl
Y19wb3J0ID0gZmVjX3BvcnQtPnBhcmVudC0+cG9ydF9wYXJlbnQ7Cj4gKyAgICAgfQo+ICsKPiAr
ICAgICAvKiBEUC10by1EUCBwZWVyIGRldmljZSAqLwo+ICsgICAgIGlmIChkcm1fZHBfbXN0X2lz
X3ZpcnR1YWxfZHBjZChpbW1lZGlhdGVfdXBzdHJlYW1fcG9ydCkpIHsKPiArICAgICAgICAgICAg
IHU4IHVwc3RyZWFtX2RzYzsKPiArICAgICAgICAgICAgIHU4IGVuZHBvaW50X2RzYzsKPiArICAg
ICAgICAgICAgIHU4IGVuZHBvaW50X2ZlYzsKPiArCj4gKyAgICAgICAgICAgICBpZiAoZHJtX2Rw
X2RwY2RfcmVhZCgmcG9ydC0+YXV4LAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgRFBfRFNDX1NVUFBPUlQsICZlbmRwb2ludF9kc2MsIDEpIDwgMCkKPiArICAgICAgICAgICAg
ICAgICAgICAgcmV0dXJuIE5VTEw7Cj4gKyAgICAgICAgICAgICBpZiAoZHJtX2RwX2RwY2RfcmVh
ZCgmcG9ydC0+YXV4LAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRFBfRkVD
X0NBUEFCSUxJVFksICZlbmRwb2ludF9mZWMsIDEpIDwgMCkKPiArICAgICAgICAgICAgICAgICAg
ICAgcmV0dXJuIE5VTEw7Cj4gKyAgICAgICAgICAgICBpZiAoZHJtX2RwX2RwY2RfcmVhZCgmaW1t
ZWRpYXRlX3Vwc3RyZWFtX3BvcnQtPmF1eCwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIERQX0RTQ19TVVBQT1JULCAmdXBzdHJlYW1fZHNjLCAxKSA8IDApCj4gKyAgICAgICAg
ICAgICAgICAgICAgIHJldHVybiBOVUxMOwo+ICsKPiArICAgICAgICAgICAgIC8qIEVucG9pbnQg
ZGVjb21wcmVzc2lvbiB3aXRoIERQLXRvLURQIHBlZXIgZGV2aWNlICovCj4gKyAgICAgICAgICAg
ICBpZiAoKGVuZHBvaW50X2RzYyAmIERQX0RTQ19ERUNPTVBSRVNTSU9OX0lTX1NVUFBPUlRFRCkg
JiYKPiArICAgICAgICAgICAgICAgICAoZW5kcG9pbnRfZmVjICYgRFBfRkVDX0NBUEFCTEUpICYm
Cj4gKyAgICAgICAgICAgICAgICAgKHVwc3RyZWFtX2RzYyAmIDB4MikgLyogRFNDIHBhc3N0aHJv
dWdoICovKQo+ICsgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJnBvcnQtPmF1eDsKPiArCj4g
KyAgICAgICAgICAgICAvKiBWaXJ0dWFsIERQQ0QgZGVjb21wcmVzc2lvbiB3aXRoIERQLXRvLURQ
IHBlZXIgZGV2aWNlICovCj4gKyAgICAgICAgICAgICByZXR1cm4gJmltbWVkaWF0ZV91cHN0cmVh
bV9wb3J0LT5hdXg7Cj4gKyAgICAgfQo+ICsKPiArICAgICAvKiBWaXJ0dWFsIERQQ0QgZGVjb21w
cmVzc2lvbiB3aXRoIERQLXRvLUhETUkgb3IgVmlydHVhbCBEUCBTaW5rICovCj4gKyAgICAgaWYg
KGRybV9kcF9tc3RfaXNfdmlydHVhbF9kcGNkKHBvcnQpKQo+ICsgICAgICAgICAgICAgcmV0dXJu
ICZwb3J0LT5hdXg7Cj4gKwo+ICsgICAgIC8qCj4gKyAgICAgICogU3luYXB0aWNzIHF1aXJrCj4g
KyAgICAgICogQXBwbGllcyB0byBwb3J0cyBmb3Igd2hpY2g6Cj4gKyAgICAgICogLSBQaHlzaWNh
bCBhdXggaGFzIFN5bmFwdGljcyBPVUkKPiArICAgICAgKiAtIERQdjEuNCBvciBoaWdoZXIKPiAr
ICAgICAgKiAtIFBvcnQgaXMgb24gcHJpbWFyeSBicmFuY2ggZGV2aWNlCj4gKyAgICAgICogLSBO
b3QgYSBWR0EgYWRhcHRlciAoRFBfRFdOX1NUUk1fUE9SVF9UWVBFX0FOQUxPRykKPiArICAgICAg
Ki8KPiArICAgICBpZiAoIWRybV9kcF9yZWFkX2Rlc2MocG9ydC0+bWdyLT5hdXgsIGRlc2MsIHRy
dWUpKQo+ICsgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwo+ICsKPiArICAgICBpZiAoZHJtX2Rw
X2hhc19xdWlyayhkZXNjLCBEUF9EUENEX1FVSVJLX0RTQ19XSVRIT1VUX1ZJUlRVQUxfRFBDRCAm
Jgo+ICsgICAgICAgICBwb3J0LT5tZ3ItPmRwY2RbRFBfRFBDRF9SRVZdID49IERQX0RQQ0RfUkVW
XzE0KSAmJgo+ICsgICAgICAgICBwb3J0LT5wYXJlbnQgPT0gcG9ydC0+bWdyLT5tc3RfcHJpbWFy
eSkgewo+ICsgICAgICAgICAgICAgdTggZG93bnN0cmVhbXBvcnQ7Cj4gKwo+ICsgICAgICAgICAg
ICAgZHJtX2RwX2RwY2RfcmVhZCgmcG9ydC0+YXV4LCBEUF9ET1dOU1RSRUFNUE9SVF9QUkVTRU5U
LAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmZG93bnN0cmVhbXBvcnQsIDEpOwo+
ICsKPiArICAgICAgICAgICAgIGlmICgoZG93bnN0cmVhbXBvcnQgJiBEUF9EV05fU1RSTV9QT1JU
X1BSRVNFTlQpICYmCj4gKyAgICAgICAgICAgICAgICAoKGRvd25zdHJlYW1wb3J0ICYgRFBfRFdO
X1NUUk1fUE9SVF9UWVBFX01BU0spCj4gKyAgICAgICAgICAgICAgICAgICE9IERQX0RXTl9TVFJN
X1BPUlRfVFlQRV9BTkFMT0cpKQo+ICsgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9ydC0+
bWdyLT5hdXg7Cj4gKyAgICAgfQoKSSB3b3VsZCd2ZSBwdXQgdGhlIHF1aXJrIGRlZmluaXRpb24g
ZnJvbSBwYXRjaCA1IGFuZCB0aGUgcXVpcmsgaGFuZGxpbmcKYWJvdmUgdG9nZXRoZXIgaW50byBh
IHNlcGFyYXRlIHBhdGNoLiBUaGUgY3VycmVudCBwYXRjaCB3b3VsZCBiZSBhYm91dApob3cgdGhp
bmdzIHNob3VsZCB3b3JrIGluIHRoZW9yeSwgYW5kIGFub3RoZXIgcGF0Y2ggb24gdG9wIHdvdWxk
IGJlCmFib3V0IGhvdyByZWFsaXR5IGludGVyZmVyZXMgd2l0aCB0aGVvcnksIGFuZCB5b3UgaGF2
ZSB0byBxdWlyayBzdHVmZiB0bwptYWtlIGl0IGFjdHVhbGx5IHdvcmsuCgpUaGUgd2hvbGUgcG9p
bnQgYWJvdXQgc3BsaXR0aW5nIHRoZSBxdWlyayBvZmYgd2FzIHRoYXQgaXQncyBhIHNlcGFyYXRl
CmZ1bmN0aW9uYWwgY2hhbmdlLiBXaGF0IGlmIHRoZSBxdWlyayB0dXJucyBvdXQgdG8gYmUgYSBt
aXN0YWtlPyAgSnVzdApyZXZlcnQgdGhlIHdob2xlIHRoaW5nLiBUaGF0IHdvdWxkIGJlIGltcG9z
c2libGUgd2l0aCB0aGlzIHNwbGl0LgoKSSBkb24ndCBrbm93IGlmIEkgY2FyZSBlbm91Z2ggdG8g
aW5zaXN0LiAqc2hydWcqCgoKQlIsCkphbmkuCgoKCj4gKwo+ICsgICAgIHJldHVybiBOVUxMOwo+
ICt9Cj4gK0VYUE9SVF9TWU1CT0woZHJtX2RwX21zdF9kc2NfYXV4X2Zvcl9wb3J0KTsKPiBkaWZm
IC0tZ2l0IGEvaW5jbHVkZS9kcm0vZHJtX2RwX21zdF9oZWxwZXIuaCBiL2luY2x1ZGUvZHJtL2Ry
bV9kcF9tc3RfaGVscGVyLmgKPiBpbmRleCBmMTEzYWUwNGZhODguLjRjZjczODU0NWRmYiAxMDA2
NDQKPiAtLS0gYS9pbmNsdWRlL2RybS9kcm1fZHBfbXN0X2hlbHBlci5oCj4gKysrIGIvaW5jbHVk
ZS9kcm0vZHJtX2RwX21zdF9oZWxwZXIuaAo+IEBAIC02NzMsNiArNjczLDggQEAgaW50IF9fbXVz
dF9jaGVjayBkcm1fZHBfbXN0X2F0b21pY19jaGVjayhzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAq
c3RhdGUpOwo+ICB2b2lkIGRybV9kcF9tc3RfZ2V0X3BvcnRfbWFsbG9jKHN0cnVjdCBkcm1fZHBf
bXN0X3BvcnQgKnBvcnQpOwo+ICB2b2lkIGRybV9kcF9tc3RfcHV0X3BvcnRfbWFsbG9jKHN0cnVj
dCBkcm1fZHBfbXN0X3BvcnQgKnBvcnQpOwo+Cj4gK3N0cnVjdCBkcm1fZHBfYXV4ICpkcm1fZHBf
bXN0X2RzY19hdXhfZm9yX3BvcnQoc3RydWN0IGRybV9kcF9tc3RfcG9ydCAqcG9ydCk7Cj4gKwo+
ICBleHRlcm4gY29uc3Qgc3RydWN0IGRybV9wcml2YXRlX3N0YXRlX2Z1bmNzIGRybV9kcF9tc3Rf
dG9wb2xvZ3lfc3RhdGVfZnVuY3M7Cj4KPiAgLyoqCgotLQpKYW5pIE5pa3VsYSwgSW50ZWwgT3Bl
biBTb3VyY2UgR3JhcGhpY3MgQ2VudGVyCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZy
ZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3Rp
bmZvL2RyaS1kZXZlbA==
