Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id B929CE0D81
	for <lists+dri-devel@lfdr.de>; Tue, 22 Oct 2019 22:47:39 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id ED2226E0A2;
	Tue, 22 Oct 2019 20:47:36 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-yb1-xb44.google.com (mail-yb1-xb44.google.com
 [IPv6:2607:f8b0:4864:20::b44])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D2B5C6E0A2
 for <dri-devel@lists.freedesktop.org>; Tue, 22 Oct 2019 20:47:35 +0000 (UTC)
Received: by mail-yb1-xb44.google.com with SMTP id t4so5610270ybk.3
 for <dri-devel@lists.freedesktop.org>; Tue, 22 Oct 2019 13:47:35 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:mime-version
 :content-transfer-encoding;
 bh=TKSWa6+W9chr3MXgK1rGOFpa9znkmU6hlRR+y3nk7e0=;
 b=FXk01FF6dMcKfN/84QzATt1HJs5DPLXCH1yObu5QRC9sH3oZNDnaVockG62KEfJdqf
 d9j/j4uo3caGgCv5cJABofNOucsmeFjQqM3Ug+AyD9XeUr10J62uOkJOtHjs9f1e5xbn
 JEuO0bUGS/OoGfN0MGaNjMhWZNpNhWGzR5C3a+2nTOd12CHJMB1Sle1WZyguVKKMyvVn
 5SRO1tm7vvYCPPUo8teYFz4hyX9gdzf/DJk45n17bAnrUUacglrda152BoteEXYbSINA
 Yz+/mn+652yeL6f+hcdhOzF/6mK/7ugWrQQo5SHjbzGYApcG25iZPsnpEznUFJmGb1Qh
 J12g==
X-Gm-Message-State: APjAAAUZ8T6FxjCqaYPzlPojZ2azLW4HKI5GkqQRHJTMIfmpfDMxJPHW
 EkAQJwDPNnxV20/+21HKWqlPovnrDgg=
X-Google-Smtp-Source: APXvYqzWNEgIeVqKIpCKihFlrJnMysISEAflQRY/RtOY9R5Ft/hLELeZRG19TKJ3vqq61MAaq3y7KA==
X-Received: by 2002:a25:c5c9:: with SMTP id v192mr3974610ybe.301.1571777254656; 
 Tue, 22 Oct 2019 13:47:34 -0700 (PDT)
Received: from rosewood.cam.corp.google.com
 ([2620:0:1013:11:89c6:2139:5435:371d])
 by smtp.gmail.com with ESMTPSA id c198sm3926145ywa.78.2019.10.22.13.47.34
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Tue, 22 Oct 2019 13:47:34 -0700 (PDT)
From: Sean Paul <sean@poorly.run>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH] Revert "drm/omap: add OMAP_BO flags to affect buffer
 allocation"
Date: Tue, 22 Oct 2019 16:47:29 -0400
Message-Id: <20191022204733.235801-1-sean@poorly.run>
X-Mailer: git-send-email 2.23.0.866.gb869b98d4c-goog
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=poorly.run; s=google;
 h=from:to:cc:subject:date:message-id:mime-version
 :content-transfer-encoding;
 bh=TKSWa6+W9chr3MXgK1rGOFpa9znkmU6hlRR+y3nk7e0=;
 b=T1Aub44bCbvgfxHPUfG7+nj+ioMV9sA3SMHCaLlLQLUaqNvQ4ja84mm/Jm2+AMp4IE
 x8f0QKMSx7zxVanJLdnnrKY6jhJ2jvHiBTeS3fsq6cJSCQxh8jhpYMgmcNea/AwjDBne
 qkj1TrfZeI+rrjmUs17kIeCLAtqXh3AFJABOPZbPPa2G3JVbHHNC5p0Cg06CNfFxJqPZ
 EJu58isgKeIqBJLZXgyNNFOomrsU1STayoTqYOMUbX/MtIS6Qm63LwlrIZonaR9GVGp4
 /Le6wFEMpn/Gw3CkKYzkc000GmQYqNSTMsEFpeq7uxrtRWDf7kZBEqWxj16A0eEXVJwF
 19fw==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: David Airlie <airlied@linux.ie>, Jean-Jacques Hiblot <jjhiblot@ti.com>,
 Tomi Valkeinen <tomi.valkeinen@ti.com>, Sean Paul <seanpaul@chromium.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogU2VhbiBQYXVsIDxzZWFucGF1bEBjaHJvbWl1bS5vcmc+CgpUaGlzIHJldmVydHMgY29t
bWl0IDIzYjQ4MjI1MjgzNmFiM2M1ZTZiM2IyMGVkMzAzODQ0OWNiYzc2NzkuCgpUaGlzIHBhdGNo
IGRvZXMgbm90IGhhdmUgYW4gYWNjZXB0YWJsZSBvcGVuIHNvdXJjZSB1c2Vyc3BhY2UKaW1wbGVt
ZW50YXRpb24sIGFuZCBhcyBzdWNoIGl0IGRvZXMgbm90IG1lZXQgdGhlIHJlcXVpcmVtZW50cyBm
b3IgYWRkaW5nCm5ldyBVQVBJLgoKRGlzY3Vzc2lvbiBpcyBpbiB0aGUgTGluay4KCkxpbms6IGh0
dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL2FyY2hpdmVzL2RyaS1kZXZlbC8yMDE5LU9jdG9i
ZXIvMjQwNTg2Lmh0bWwKRml4ZXM6IDIzYjQ4MjI1MjgzNiAoImRybS9vbWFwOiBhZGQgT01BUF9C
TyBmbGFncyB0byBhZmZlY3QgYnVmZmVyIGFsbG9jYXRpb24iKQpDYzogVG9taSBWYWxrZWluZW4g
PHRvbWkudmFsa2VpbmVuQHRpLmNvbT4KQ2M6IEplYW4tSmFjcXVlcyBIaWJsb3QgPGpqaGlibG90
QHRpLmNvbT4KQ2M6IERhdmlkIEFpcmxpZSA8YWlybGllZEBsaW51eC5pZT4KQ2M6IERhbmllbCBW
ZXR0ZXIgPGRhbmllbEBmZndsbC5jaD4KQ2M6IGRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcKU2lnbmVkLW9mZi1ieTogU2VhbiBQYXVsIDxzZWFucGF1bEBjaHJvbWl1bS5vcmc+Ci0tLQog
ZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vb21hcF9nZW0uYyB8IDU0ICsrLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLQogaW5jbHVkZS91YXBpL2RybS9vbWFwX2RybS5oICAgICAgICB8ICA5IC0t
LS0tCiAyIGZpbGVzIGNoYW5nZWQsIDIgaW5zZXJ0aW9ucygrKSwgNjEgZGVsZXRpb25zKC0pCgpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vb21hcF9nZW0uYyBiL2RyaXZlcnMv
Z3B1L2RybS9vbWFwZHJtL29tYXBfZ2VtLmMKaW5kZXggYmYxOGRmZTJiNjg5Li5lNTE4ZDkzY2E2
ZGYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL29tYXBfZ2VtLmMKKysrIGIv
ZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vb21hcF9nZW0uYwpAQCAtMTA5Nyw5ICsxMDk3LDYgQEAg
dm9pZCBvbWFwX2dlbV9mcmVlX29iamVjdChzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKm9iaikKIAls
aXN0X2RlbCgmb21hcF9vYmotPm1tX2xpc3QpOwogCW11dGV4X3VubG9jaygmcHJpdi0+bGlzdF9s
b2NrKTsKIAotCWlmIChvbWFwX29iai0+ZmxhZ3MgJiBPTUFQX0JPX01FTV9QSU4pCi0JCW9tYXBf
Z2VtX3VucGluX2xvY2tlZChvYmopOwotCiAJLyoKIAkgKiBXZSBvd24gdGhlIHNvbGUgcmVmZXJl
bmNlIHRvIHRoZSBvYmplY3QgYXQgdGhpcyBwb2ludCwgYnV0IHRvIGtlZXAKIAkgKiBsb2NrZGVw
IGhhcHB5LCB3ZSBtdXN0IHN0aWxsIHRha2UgdGhlIG9tYXBfb2JqX2xvY2sgdG8gY2FsbApAQCAt
MTE1MCwxOSArMTE0NywxMCBAQCBzdGF0aWMgYm9vbCBvbWFwX2dlbV92YWxpZGF0ZV9mbGFncyhz
dHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB1MzIgZmxhZ3MpCiAJCXJldHVybiBmYWxzZTsKIAl9CiAK
LQlpZiAoKGZsYWdzICYgT01BUF9CT19NRU1fQ09OVElHKSAmJiAoZmxhZ3MgJiBPTUFQX0JPX01F
TV9ETU0pKQotCQlyZXR1cm4gZmFsc2U7Ci0KLQlpZiAoKGZsYWdzICYgT01BUF9CT19NRU1fRE1N
KSAmJiAhcHJpdi0+dXNlcmdhcnQpCi0JCXJldHVybiBmYWxzZTsKLQogCWlmIChmbGFncyAmIE9N
QVBfQk9fVElMRURfTUFTSykgewogCQlpZiAoIXByaXYtPnVzZXJnYXJ0KQogCQkJcmV0dXJuIGZh
bHNlOwogCi0JCWlmIChmbGFncyAmIE9NQVBfQk9fTUVNX0NPTlRJRykKLQkJCXJldHVybiBmYWxz
ZTsKLQogCQlzd2l0Y2ggKGZsYWdzICYgT01BUF9CT19USUxFRF9NQVNLKSB7CiAJCWNhc2UgT01B
UF9CT19USUxFRF84OgogCQljYXNlIE9NQVBfQk9fVElMRURfMTY6CkBAIC0xMTc3LDM0ICsxMTY1
LDcgQEAgc3RhdGljIGJvb2wgb21hcF9nZW1fdmFsaWRhdGVfZmxhZ3Moc3RydWN0IGRybV9kZXZp
Y2UgKmRldiwgdTMyIGZsYWdzKQogCXJldHVybiB0cnVlOwogfQogCi0vKioKLSAqIG9tYXBfZ2Vt
X25ldygpIC0gQ3JlYXRlIGEgbmV3IEdFTSBidWZmZXIKLSAqIEBkZXY6IFRoZSBEUk0gZGV2aWNl
Ci0gKiBAZ3NpemU6IFRoZSByZXF1ZXN0ZWQgc2l6ZSBmb3IgdGhlIEdFTSBidWZmZXIuIElmIHRo
ZSBidWZmZXIgaXMgdGlsZWQKLSAqICAgICAgICAgKDJEIGJ1ZmZlciksIHRoZSBzaXplIGlzIGEg
cGFpciBvZiB2YWx1ZXM6IGhlaWdodCBhbmQgd2lkdGgKLSAqICAgICAgICAgZXhwcmVzc2VkIGlu
IHBpeGVscy4gSWYgdGhlIGJ1ZmZlcnMgaXMgbm90IHRpbGVkLCBpdCBpcyBleHByZXNzZWQKLSAq
ICAgICAgICAgaW4gYnl0ZXMuCi0gKiBAZmxhZ3M6IEZsYWdzIGdpdmUgYWRkaXRpb25uYWwgaW5m
b3JtYXRpb24gYWJvdXQgdGhlIGFsbG9jYXRpb246Ci0gKiAgICAgICAgIE9NQVBfQk9fVElMRURf
eDogdXNlIHRoZSBUSUxFUiAoMkQgYnVmZmVycykuIFRoZSBUSUxFUiBjb250YWluZXIKLSAqICAg
ICAgICAgICAgICB1bml0IGNhbiBiZSA4LCAxNiBvciAzMiBiaXRzLiBDYWNoZSBpcyBhbHdheXMg
ZGlzYWJsZWQgZm9yCi0gKiAgICAgICAgICAgICAgdGlsZWQgYnVmZmVycy4KLSAqICAgICAgICAg
T01BUF9CT19TQ0FOT1VUOiBTY2Fubm91dCBidWZmZXIsIGNvbnN1bW1hYmxlIGJ5IHRoZSBEU1MK
LSAqICAgICAgICAgT01BUF9CT19DQUNIRUQ6IEJ1ZmZlciBDUFUgY2FjaGluZyBtb2RlOiBjYWNo
ZWQKLSAqICAgICAgICAgT01BUF9CT19XQzogQnVmZmVyIENQVSBjYWNoaW5nIG1vZGU6IHdyaXRl
LWNvbWJpbmVkCi0gKiAgICAgICAgIE9NQVBfQk9fVU5DQUNIRUQ6IEJ1ZmZlciBDUFUgY2FjaGlu
ZyBtb2RlOiB1bmNhY2hlZAotICogICAgICAgICBPTUFQX0JPX01FTV9DT05USUc6IFRoZSBkcml2
ZXIgd2lsbCB1c2UgZG1hX2FsbG9jIHRvIGdldCB0aGUgbWVtb3J5LgotICogICAgICAgICAgICAg
IFRoaXMgY2FuIGJlIHVzZWQgdG8gYXZvaWQgRE1NIGlmIHRoZSB1c2Vyc3BhY2Uga25vd3MgaXQg
bmVlZHMKLSAqICAgICAgICAgICAgICBtb3JlIHRoYW4gMTI4TSBvZiBtZW1vcnkgYXQgdGhlIHNh
bWUgdGltZS4KLSAqICAgICAgICAgT01BUF9CT19NRU1fRE1NOiBUaGUgZHJpdmVyIHdpbGwgdXNl
IERNTSB0byBnZXQgdGhlIG1lbW9yeS4gVGhlcmUncwotICogICAgICAgICAgICAgIG5vdCBtdWNo
IHVzZSBmb3IgdGhpcyBmbGFnIGF0IHRoZSBtb21lbnQsIGFzIG9uIHBsYXRmb3JtcyB3aXRoCi0g
KiAgICAgICAgICAgICAgRE1NIGl0IGlzIHVzZWQgYnkgZGVmYXVsdCwgYnV0IGl0J3MgaGVyZSBm
b3IgY29tcGxldGVuZXNzLgotICogICAgICAgICBPTUFQX0JPX01FTV9QSU46IFRoZSBkcml2ZXIg
d2lsbCBwaW4gdGhlIG1lbW9yeSBhdCBhbGxvYyB0aW1lLCBhbmQKLSAqICAgICAgICAgICAgICBr
ZWVwIGl0IHBpbm5lZC4gVGhpcyBjYW4gYmUgdXNlZCB0byAxKSBnZXQgYW4gZXJyb3IgYXQgYWxs
b2MKLSAqICAgICAgICAgICAgICB0aW1lIGlmIERNTSBzcGFjZSBpcyBmdWxsLCBhbmQgMikgZ2V0
IHJpZCBvZiB0aGUgY29uc3RhbnQKLSAqICAgICAgICAgICAgICBwaW4vdW5waW4gb3BlcmF0aW9u
cyB3aGljaCBtYXkgaGF2ZSBzb21lIGVmZmVjdCBvbiBwZXJmb3JtYW5jZS4KLSAqCi0gKiBSZXR1
cm46IFRoZSBHRU0gYnVmZmVyIG9yIE5VTEwgaWYgdGhlIGFsbG9jYXRpb24gZmFpbGVkCi0gKi8K
Ky8qIEdFTSBidWZmZXIgb2JqZWN0IGNvbnN0cnVjdG9yICovCiBzdHJ1Y3QgZHJtX2dlbV9vYmpl
Y3QgKm9tYXBfZ2VtX25ldyhzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LAogCQl1bmlvbiBvbWFwX2dl
bV9zaXplIGdzaXplLCB1MzIgZmxhZ3MpCiB7CkBAIC0xMjMyLDggKzExOTMsNyBAQCBzdHJ1Y3Qg
ZHJtX2dlbV9vYmplY3QgKm9tYXBfZ2VtX25ldyhzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LAogCQkg
Ki8KIAkJZmxhZ3MgJj0gfihPTUFQX0JPX0NBQ0hFRHxPTUFQX0JPX1dDfE9NQVBfQk9fVU5DQUNI
RUQpOwogCQlmbGFncyB8PSB0aWxlcl9nZXRfY3B1X2NhY2hlX2ZsYWdzKCk7Ci0JfSBlbHNlIGlm
ICgoZmxhZ3MgJiBPTUFQX0JPX01FTV9DT05USUcpIHx8Ci0JCSgoZmxhZ3MgJiBPTUFQX0JPX1ND
QU5PVVQpICYmICFwcml2LT5oYXNfZG1tKSkgeworCX0gZWxzZSBpZiAoKGZsYWdzICYgT01BUF9C
T19TQ0FOT1VUKSAmJiAhcHJpdi0+aGFzX2RtbSkgewogCQkvKgogCQkgKiBJZiB3ZSBkb24ndCBo
YXZlIERNTSwgd2UgbXVzdCBhbGxvY2F0ZSBzY2Fub3V0IGJ1ZmZlcnMKIAkJICogZnJvbSBjb250
aWd1b3VzIERNQSBtZW1vcnkuCkBAIC0xMjkzLDIyICsxMjUzLDEyIEBAIHN0cnVjdCBkcm1fZ2Vt
X29iamVjdCAqb21hcF9nZW1fbmV3KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCiAJCQlnb3RvIGVy
cl9yZWxlYXNlOwogCX0KIAotCWlmIChmbGFncyAmIE9NQVBfQk9fTUVNX1BJTikgewotCQlyZXQg
PSBvbWFwX2dlbV9waW4ob2JqLCBOVUxMKTsKLQkJaWYgKHJldCkKLQkJCWdvdG8gZXJyX2ZyZWVf
ZG1hOwotCX0KLQogCW11dGV4X2xvY2soJnByaXYtPmxpc3RfbG9jayk7CiAJbGlzdF9hZGQoJm9t
YXBfb2JqLT5tbV9saXN0LCAmcHJpdi0+b2JqX2xpc3QpOwogCW11dGV4X3VubG9jaygmcHJpdi0+
bGlzdF9sb2NrKTsKIAogCXJldHVybiBvYmo7CiAKLWVycl9mcmVlX2RtYToKLQlpZiAoZmxhZ3Mg
JiBPTUFQX0JPX01FTV9ETUFfQVBJKQotCQlkbWFfZnJlZV93YyhkZXYtPmRldiwgc2l6ZSwgb21h
cF9vYmotPnZhZGRyLAotCQkJICAgIG9tYXBfb2JqLT5kbWFfYWRkcik7CiBlcnJfcmVsZWFzZToK
IAlkcm1fZ2VtX29iamVjdF9yZWxlYXNlKG9iaik7CiBlcnJfZnJlZToKZGlmZiAtLWdpdCBhL2lu
Y2x1ZGUvdWFwaS9kcm0vb21hcF9kcm0uaCBiL2luY2x1ZGUvdWFwaS9kcm0vb21hcF9kcm0uaApp
bmRleCA4NDJkMzE4MGE0NDIuLjVhMTQyZmFkNDczYyAxMDA2NDQKLS0tIGEvaW5jbHVkZS91YXBp
L2RybS9vbWFwX2RybS5oCisrKyBiL2luY2x1ZGUvdWFwaS9kcm0vb21hcF9kcm0uaApAQCAtNDcs
MTUgKzQ3LDYgQEAgc3RydWN0IGRybV9vbWFwX3BhcmFtIHsKICNkZWZpbmUgT01BUF9CT19VTkNB
Q0hFRAkweDAwMDAwMDA0CiAjZGVmaW5lIE9NQVBfQk9fQ0FDSEVfTUFTSwkweDAwMDAwMDA2CiAK
LS8qIEZvcmNlIGFsbG9jYXRpb24gZnJvbSBjb250aWd1b3VzIERNQSBtZW1vcnkgKi8KLSNkZWZp
bmUgT01BUF9CT19NRU1fQ09OVElHCTB4MDAwMDAwMDgKLQotLyogRm9yY2UgYWxsb2NhdGlvbiB2
aWEgRE1NICovCi0jZGVmaW5lIE9NQVBfQk9fTUVNX0RNTQkJMHgwMDAwMDAxMAotCi0vKiBQaW4g
dGhlIGJ1ZmZlciB3aGVuIGFsbG9jYXRpbmcgYW5kIGtlZXAgcGlubmVkICovCi0jZGVmaW5lIE9N
QVBfQk9fTUVNX1BJTgkJMHgwMDAwMDAyMAotCiAvKiBVc2UgVElMRVIgZm9yIHRoZSBidWZmZXIu
IFRoZSBUSUxFUiBjb250YWluZXIgdW5pdCBjYW4gYmUgOCwgMTYgb3IgMzIgYml0cy4gKi8KICNk
ZWZpbmUgT01BUF9CT19USUxFRF84CQkweDAwMDAwMTAwCiAjZGVmaW5lIE9NQVBfQk9fVElMRURf
MTYJMHgwMDAwMDIwMAotLSAKU2VhbiBQYXVsLCBTb2Z0d2FyZSBFbmdpbmVlciwgR29vZ2xlIC8g
Q2hyb21pdW0gT1MKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9y
ZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZl
bA==
