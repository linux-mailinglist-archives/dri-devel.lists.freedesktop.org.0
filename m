Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 92B8BFAB69
	for <lists+dri-devel@lfdr.de>; Wed, 13 Nov 2019 08:55:59 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 848B96E30E;
	Wed, 13 Nov 2019 07:55:46 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mx07-00178001.pphosted.com (mx07-00178001.pphosted.com
 [62.209.51.94])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 57ED76E425
 for <dri-devel@lists.freedesktop.org>; Tue, 12 Nov 2019 12:39:52 +0000 (UTC)
Received: from pps.filterd (m0046668.ppops.net [127.0.0.1])
 by mx07-00178001.pphosted.com (8.16.0.42/8.16.0.42) with SMTP id
 xACCbu45029985; Tue, 12 Nov 2019 13:39:42 +0100
Received: from beta.dmz-eu.st.com (beta.dmz-eu.st.com [164.129.1.35])
 by mx07-00178001.pphosted.com with ESMTP id 2w7psjj3cf-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Tue, 12 Nov 2019 13:39:42 +0100
Received: from euls16034.sgp.st.com (euls16034.sgp.st.com [10.75.44.20])
 by beta.dmz-eu.st.com (STMicroelectronics) with ESMTP id A58D610002A;
 Tue, 12 Nov 2019 13:39:40 +0100 (CET)
Received: from Webmail-eu.st.com (sfhdag3node3.st.com [10.75.127.9])
 by euls16034.sgp.st.com (STMicroelectronics) with ESMTP id 4FD742BC7BB;
 Tue, 12 Nov 2019 13:39:40 +0100 (CET)
Received: from localhost (10.75.127.44) by SFHDAG3NODE3.st.com (10.75.127.9)
 with Microsoft SMTP Server (TLS) id 15.0.1347.2; Tue, 12 Nov 2019 13:39:39
 +0100
From: Benjamin Gaignard <benjamin.gaignard@st.com>
To: <maarten.lankhorst@linux.intel.com>, <mripard@kernel.org>,
 <sean@poorly.run>, <airlied@linux.ie>, <daniel@ffwll.ch>
Subject: [PATCH] drm/dp_mst: Fix W=1 warnings
Date: Tue, 12 Nov 2019 13:39:38 +0100
Message-ID: <20191112123938.2346-1-benjamin.gaignard@st.com>
X-Mailer: git-send-email 2.15.0
MIME-Version: 1.0
X-Originating-IP: [10.75.127.44]
X-ClientProxiedBy: SFHDAG3NODE3.st.com (10.75.127.9) To SFHDAG3NODE3.st.com
 (10.75.127.9)
X-Proofpoint-Virus-Version: vendor=fsecure engine=2.50.10434:6.0.95,18.0.572
 definitions=2019-11-12_03:2019-11-11,2019-11-12 signatures=0
X-Mailman-Approved-At: Wed, 13 Nov 2019 07:55:45 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=st.com; h=from : to : cc : subject
 : date : message-id : mime-version : content-type; s=STMicroelectronics;
 bh=Z4CoM3ku94+ac0RmSl7bZ2+Xnh1lqmABnTlguTHB2Tk=;
 b=RcgoZxq9ErDSnyY+sdoz5jplgk1LzlR9uF7Snh9sVSmCNv1PAtMM5OUaf29+O/16lTW9
 nibQNiqxwnO3CvszwR6LPeRWLFOOLoj3x4pCnyJmO5iEEX0VBT6/+wGzDNL0rrIQIARP
 t2+vWBcm2L8IPCsjtlPj1N56z3hna7w/7KPngApzEcubU/BTpeFbz5UFY+6qHRsibnL6
 tVObUiYMRJy7ekVJ/X5ZdqdAaedvCQ8ub4IR8ke/hDQYoJ/L0km1tHb6da13zXKDeZhA
 S8s+sNvUeBjPhNopoZFtxP2admeAQbhfEeJFbLdzz5xT3Ln1ebnEkPOpYT6L8OoZuEz7 uw== 
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-kernel@vger.kernel.org, dri-devel@lists.freedesktop.org,
 Benjamin Gaignard <benjamin.gaignard@st.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Rml4IHRoZSB3YXJuaW5ncyB0aGF0IHNob3cgdXAgd2l0aCBXPTEuClRoZXkgYXJlIGFsbCBhYm91
dCB1bnVzZWQgYnV0IHNldCB2YXJpYWJsZXMuCgpTaWduZWQtb2ZmLWJ5OiBCZW5qYW1pbiBHYWln
bmFyZCA8YmVuamFtaW4uZ2FpZ25hcmRAc3QuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9kcm1f
ZHBfbXN0X3RvcG9sb2d5LmMgfCA1MCArKysrKysrKysrKysrLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LQogMSBmaWxlIGNoYW5nZWQsIDE5IGluc2VydGlvbnMoKyksIDMxIGRlbGV0aW9ucygtKQoKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fZHBfbXN0X3RvcG9sb2d5LmMgYi9kcml2ZXJz
L2dwdS9kcm0vZHJtX2RwX21zdF90b3BvbG9neS5jCmluZGV4IGI4NTRhNDIyYTUyMy4uNmZmNTU0
YmU4MDAwIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vZHJtX2RwX21zdF90b3BvbG9neS5j
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fZHBfbXN0X3RvcG9sb2d5LmMKQEAgLTY3Miw3ICs2
NzIsNiBAQCBzdGF0aWMgYm9vbCBkcm1fZHBfc2lkZWJhbmRfbXNnX2J1aWxkKHN0cnVjdCBkcm1f
ZHBfc2lkZWJhbmRfbXNnX3J4ICptc2csCiAJCQkJICAgICAgdTggKnJlcGx5YnVmLCB1OCByZXBs
eWJ1ZmxlbiwgYm9vbCBoZHIpCiB7CiAJaW50IHJldDsKLQl1OCBjcmM0OwogCiAJaWYgKGhkcikg
ewogCQl1OCBoZHJsZW47CkBAIC03MTQsOCArNzEzLDYgQEAgc3RhdGljIGJvb2wgZHJtX2RwX3Np
ZGViYW5kX21zZ19idWlsZChzdHJ1Y3QgZHJtX2RwX3NpZGViYW5kX21zZ19yeCAqbXNnLAogCX0K
IAogCWlmIChtc2ctPmN1cmNodW5rX2lkeCA+PSBtc2ctPmN1cmNodW5rX2xlbikgewotCQkvKiBk
byBDUkMgKi8KLQkJY3JjNCA9IGRybV9kcF9tc2dfZGF0YV9jcmM0KG1zZy0+Y2h1bmssIG1zZy0+
Y3VyY2h1bmtfbGVuIC0gMSk7CiAJCS8qIGNvcHkgY2h1bmsgaW50byBiaWdnZXIgbXNnICovCiAJ
CW1lbWNweSgmbXNnLT5tc2dbbXNnLT5jdXJsZW5dLCBtc2ctPmNodW5rLCBtc2ctPmN1cmNodW5r
X2xlbiAtIDEpOwogCQltc2ctPmN1cmxlbiArPSBtc2ctPmN1cmNodW5rX2xlbiAtIDE7CkBAIC0x
NzQ0LDE0ICsxNzQxLDEzIEBAIHN0YXRpYyB1OCBkcm1fZHBfY2FsY3VsYXRlX3JhZChzdHJ1Y3Qg
ZHJtX2RwX21zdF9wb3J0ICpwb3J0LAogICovCiBzdGF0aWMgYm9vbCBkcm1fZHBfcG9ydF9zZXR1
cF9wZHQoc3RydWN0IGRybV9kcF9tc3RfcG9ydCAqcG9ydCkKIHsKLQlpbnQgcmV0OwogCXU4IHJh
ZFs2XSwgbGN0OwogCWJvb2wgc2VuZF9saW5rID0gZmFsc2U7CiAJc3dpdGNoIChwb3J0LT5wZHQp
IHsKIAljYXNlIERQX1BFRVJfREVWSUNFX0RQX0xFR0FDWV9DT05WOgogCWNhc2UgRFBfUEVFUl9E
RVZJQ0VfU1NUX1NJTks6CiAJCS8qIGFkZCBpMmMgb3ZlciBzaWRlYmFuZCAqLwotCQlyZXQgPSBk
cm1fZHBfbXN0X3JlZ2lzdGVyX2kyY19idXMoJnBvcnQtPmF1eCk7CisJCWRybV9kcF9tc3RfcmVn
aXN0ZXJfaTJjX2J1cygmcG9ydC0+YXV4KTsKIAkJYnJlYWs7CiAJY2FzZSBEUF9QRUVSX0RFVklD
RV9NU1RfQlJBTkNISU5HOgogCQlsY3QgPSBkcm1fZHBfY2FsY3VsYXRlX3JhZChwb3J0LCByYWQp
OwpAQCAtMTgyMSwyMSArMTgxNywxOCBAQCBzc2l6ZV90IGRybV9kcF9tc3RfZHBjZF93cml0ZShz
dHJ1Y3QgZHJtX2RwX2F1eCAqYXV4LAogCiBzdGF0aWMgdm9pZCBkcm1fZHBfY2hlY2tfbXN0Yl9n
dWlkKHN0cnVjdCBkcm1fZHBfbXN0X2JyYW5jaCAqbXN0YiwgdTggKmd1aWQpCiB7Ci0JaW50IHJl
dDsKLQogCW1lbWNweShtc3RiLT5ndWlkLCBndWlkLCAxNik7CiAKIAlpZiAoIWRybV9kcF92YWxp
ZGF0ZV9ndWlkKG1zdGItPm1nciwgbXN0Yi0+Z3VpZCkpIHsKIAkJaWYgKG1zdGItPnBvcnRfcGFy
ZW50KSB7Ci0JCQlyZXQgPSBkcm1fZHBfc2VuZF9kcGNkX3dyaXRlKAorCQkJZHJtX2RwX3NlbmRf
ZHBjZF93cml0ZSgKIAkJCQkJbXN0Yi0+bWdyLAogCQkJCQltc3RiLT5wb3J0X3BhcmVudCwKIAkJ
CQkJRFBfR1VJRCwKIAkJCQkJMTYsCiAJCQkJCW1zdGItPmd1aWQpOwogCQl9IGVsc2UgewotCi0J
CQlyZXQgPSBkcm1fZHBfZHBjZF93cml0ZSgKKwkJCWRybV9kcF9kcGNkX3dyaXRlKAogCQkJCQlt
c3RiLT5tZ3ItPmF1eCwKIAkJCQkJRFBfR1VJRCwKIAkJCQkJbXN0Yi0+Z3VpZCwKQEAgLTI0Mjcs
MTQgKzI0MjAsMTQgQEAgc3RhdGljIHZvaWQgZHJtX2RwX3NlbmRfbGlua19hZGRyZXNzKHN0cnVj
dCBkcm1fZHBfbXN0X3RvcG9sb2d5X21nciAqbWdyLAogewogCXN0cnVjdCBkcm1fZHBfc2lkZWJh
bmRfbXNnX3R4ICp0eG1zZzsKIAlzdHJ1Y3QgZHJtX2RwX2xpbmtfYWRkcmVzc19hY2tfcmVwbHkg
KnJlcGx5OwotCWludCBpLCBsZW4sIHJldDsKKwlpbnQgaSwgcmV0OwogCiAJdHhtc2cgPSBremFs
bG9jKHNpemVvZigqdHhtc2cpLCBHRlBfS0VSTkVMKTsKIAlpZiAoIXR4bXNnKQogCQlyZXR1cm47
CiAKIAl0eG1zZy0+ZHN0ID0gbXN0YjsKLQlsZW4gPSBidWlsZF9saW5rX2FkZHJlc3ModHhtc2cp
OworCWJ1aWxkX2xpbmtfYWRkcmVzcyh0eG1zZyk7CiAKIAltc3RiLT5saW5rX2FkZHJlc3Nfc2Vu
dCA9IHRydWU7CiAJZHJtX2RwX3F1ZXVlX2Rvd25fdHgobWdyLCB0eG1zZyk7CkBAIC0yNDc2LDcg
KzI0NjksNiBAQCBkcm1fZHBfc2VuZF9lbnVtX3BhdGhfcmVzb3VyY2VzKHN0cnVjdCBkcm1fZHBf
bXN0X3RvcG9sb2d5X21nciAqbWdyLAogewogCXN0cnVjdCBkcm1fZHBfZW51bV9wYXRoX3Jlc291
cmNlc19hY2tfcmVwbHkgKnBhdGhfcmVzOwogCXN0cnVjdCBkcm1fZHBfc2lkZWJhbmRfbXNnX3R4
ICp0eG1zZzsKLQlpbnQgbGVuOwogCWludCByZXQ7CiAKIAl0eG1zZyA9IGt6YWxsb2Moc2l6ZW9m
KCp0eG1zZyksIEdGUF9LRVJORUwpOwpAQCAtMjQ4NCw3ICsyNDc2LDcgQEAgZHJtX2RwX3NlbmRf
ZW51bV9wYXRoX3Jlc291cmNlcyhzdHJ1Y3QgZHJtX2RwX21zdF90b3BvbG9neV9tZ3IgKm1nciwK
IAkJcmV0dXJuIC1FTk9NRU07CiAKIAl0eG1zZy0+ZHN0ID0gbXN0YjsKLQlsZW4gPSBidWlsZF9l
bnVtX3BhdGhfcmVzb3VyY2VzKHR4bXNnLCBwb3J0LT5wb3J0X251bSk7CisJYnVpbGRfZW51bV9w
YXRoX3Jlc291cmNlcyh0eG1zZywgcG9ydC0+cG9ydF9udW0pOwogCiAJZHJtX2RwX3F1ZXVlX2Rv
d25fdHgobWdyLCB0eG1zZyk7CiAKQEAgLTI1NjcsNyArMjU1OSw3IEBAIHN0YXRpYyBpbnQgZHJt
X2RwX3BheWxvYWRfc2VuZF9tc2coc3RydWN0IGRybV9kcF9tc3RfdG9wb2xvZ3lfbWdyICptZ3Is
CiB7CiAJc3RydWN0IGRybV9kcF9zaWRlYmFuZF9tc2dfdHggKnR4bXNnOwogCXN0cnVjdCBkcm1f
ZHBfbXN0X2JyYW5jaCAqbXN0YjsKLQlpbnQgbGVuLCByZXQsIHBvcnRfbnVtOworCWludCByZXQs
IHBvcnRfbnVtOwogCXU4IHNpbmtzW0RSTV9EUF9NQVhfU0RQX1NUUkVBTVNdOwogCWludCBpOwog
CkBAIC0yNTkyLDkgKzI1ODQsOSBAQCBzdGF0aWMgaW50IGRybV9kcF9wYXlsb2FkX3NlbmRfbXNn
KHN0cnVjdCBkcm1fZHBfbXN0X3RvcG9sb2d5X21nciAqbWdyLAogCQlzaW5rc1tpXSA9IGk7CiAK
IAl0eG1zZy0+ZHN0ID0gbXN0YjsKLQlsZW4gPSBidWlsZF9hbGxvY2F0ZV9wYXlsb2FkKHR4bXNn
LCBwb3J0X251bSwKLQkJCQkgICAgIGlkLAotCQkJCSAgICAgcGJuLCBwb3J0LT5udW1fc2RwX3N0
cmVhbXMsIHNpbmtzKTsKKwlidWlsZF9hbGxvY2F0ZV9wYXlsb2FkKHR4bXNnLCBwb3J0X251bSwK
KwkJCSAgICAgICBpZCwKKwkJCSAgICAgICBwYm4sIHBvcnQtPm51bV9zZHBfc3RyZWFtcywgc2lu
a3MpOwogCiAJZHJtX2RwX3F1ZXVlX2Rvd25fdHgobWdyLCB0eG1zZyk7CiAKQEAgLTI2MjMsNyAr
MjYxNSw3IEBAIGludCBkcm1fZHBfc2VuZF9wb3dlcl91cGRvd25fcGh5KHN0cnVjdCBkcm1fZHBf
bXN0X3RvcG9sb2d5X21nciAqbWdyLAogCQkJCSBzdHJ1Y3QgZHJtX2RwX21zdF9wb3J0ICpwb3J0
LCBib29sIHBvd2VyX3VwKQogewogCXN0cnVjdCBkcm1fZHBfc2lkZWJhbmRfbXNnX3R4ICp0eG1z
ZzsKLQlpbnQgbGVuLCByZXQ7CisJaW50IHJldDsKIAogCXBvcnQgPSBkcm1fZHBfbXN0X3RvcG9s
b2d5X2dldF9wb3J0X3ZhbGlkYXRlZChtZ3IsIHBvcnQpOwogCWlmICghcG9ydCkKQEAgLTI2MzYs
NyArMjYyOCw3IEBAIGludCBkcm1fZHBfc2VuZF9wb3dlcl91cGRvd25fcGh5KHN0cnVjdCBkcm1f
ZHBfbXN0X3RvcG9sb2d5X21nciAqbWdyLAogCX0KIAogCXR4bXNnLT5kc3QgPSBwb3J0LT5wYXJl
bnQ7Ci0JbGVuID0gYnVpbGRfcG93ZXJfdXBkb3duX3BoeSh0eG1zZywgcG9ydC0+cG9ydF9udW0s
IHBvd2VyX3VwKTsKKwlidWlsZF9wb3dlcl91cGRvd25fcGh5KHR4bXNnLCBwb3J0LT5wb3J0X251
bSwgcG93ZXJfdXApOwogCWRybV9kcF9xdWV1ZV9kb3duX3R4KG1nciwgdHhtc2cpOwogCiAJcmV0
ID0gZHJtX2RwX21zdF93YWl0X3R4X3JlcGx5KHBvcnQtPnBhcmVudCwgdHhtc2cpOwpAQCAtMjg1
Niw3ICsyODQ4LDYgQEAgc3RhdGljIGludCBkcm1fZHBfc2VuZF9kcGNkX3JlYWQoc3RydWN0IGRy
bV9kcF9tc3RfdG9wb2xvZ3lfbWdyICptZ3IsCiAJCQkJIHN0cnVjdCBkcm1fZHBfbXN0X3BvcnQg
KnBvcnQsCiAJCQkJIGludCBvZmZzZXQsIGludCBzaXplLCB1OCAqYnl0ZXMpCiB7Ci0JaW50IGxl
bjsKIAlpbnQgcmV0ID0gMDsKIAlzdHJ1Y3QgZHJtX2RwX3NpZGViYW5kX21zZ190eCAqdHhtc2c7
CiAJc3RydWN0IGRybV9kcF9tc3RfYnJhbmNoICptc3RiOwpAQCAtMjg3MSw3ICsyODYyLDcgQEAg
c3RhdGljIGludCBkcm1fZHBfc2VuZF9kcGNkX3JlYWQoc3RydWN0IGRybV9kcF9tc3RfdG9wb2xv
Z3lfbWdyICptZ3IsCiAJCWdvdG8gZmFpbF9wdXQ7CiAJfQogCi0JbGVuID0gYnVpbGRfZHBjZF9y
ZWFkKHR4bXNnLCBwb3J0LT5wb3J0X251bSwgb2Zmc2V0LCBzaXplKTsKKwlidWlsZF9kcGNkX3Jl
YWQodHhtc2csIHBvcnQtPnBvcnRfbnVtLCBvZmZzZXQsIHNpemUpOwogCXR4bXNnLT5kc3QgPSBw
b3J0LT5wYXJlbnQ7CiAKIAlkcm1fZHBfcXVldWVfZG93bl90eChtZ3IsIHR4bXNnKTsKQEAgLTI5
MDksNyArMjkwMCw2IEBAIHN0YXRpYyBpbnQgZHJtX2RwX3NlbmRfZHBjZF93cml0ZShzdHJ1Y3Qg
ZHJtX2RwX21zdF90b3BvbG9neV9tZ3IgKm1nciwKIAkJCQkgIHN0cnVjdCBkcm1fZHBfbXN0X3Bv
cnQgKnBvcnQsCiAJCQkJICBpbnQgb2Zmc2V0LCBpbnQgc2l6ZSwgdTggKmJ5dGVzKQogewotCWlu
dCBsZW47CiAJaW50IHJldDsKIAlzdHJ1Y3QgZHJtX2RwX3NpZGViYW5kX21zZ190eCAqdHhtc2c7
CiAJc3RydWN0IGRybV9kcF9tc3RfYnJhbmNoICptc3RiOwpAQCAtMjkyNCw3ICsyOTE0LDcgQEAg
c3RhdGljIGludCBkcm1fZHBfc2VuZF9kcGNkX3dyaXRlKHN0cnVjdCBkcm1fZHBfbXN0X3RvcG9s
b2d5X21nciAqbWdyLAogCQlnb3RvIGZhaWxfcHV0OwogCX0KIAotCWxlbiA9IGJ1aWxkX2RwY2Rf
d3JpdGUodHhtc2csIHBvcnQtPnBvcnRfbnVtLCBvZmZzZXQsIHNpemUsIGJ5dGVzKTsKKwlidWls
ZF9kcGNkX3dyaXRlKHR4bXNnLCBwb3J0LT5wb3J0X251bSwgb2Zmc2V0LCBzaXplLCBieXRlcyk7
CiAJdHhtc2ctPmRzdCA9IG1zdGI7CiAKIAlkcm1fZHBfcXVldWVfZG93bl90eChtZ3IsIHR4bXNn
KTsKQEAgLTMxNDcsNyArMzEzNyw3IEBAIHN0YXRpYyBib29sIGRybV9kcF9nZXRfb25lX3NiX21z
ZyhzdHJ1Y3QgZHJtX2RwX21zdF90b3BvbG9neV9tZ3IgKm1nciwgYm9vbCB1cCkKIHsKIAlpbnQg
bGVuOwogCXU4IHJlcGx5YmxvY2tbMzJdOwotCWludCByZXBseWxlbiwgb3JpZ2xlbiwgY3VycmVw
bHk7CisJaW50IHJlcGx5bGVuLCBjdXJyZXBseTsKIAlpbnQgcmV0OwogCXN0cnVjdCBkcm1fZHBf
c2lkZWJhbmRfbXNnX3J4ICptc2c7CiAJaW50IGJhc2VyZWcgPSB1cCA/IERQX1NJREVCQU5EX01T
R19VUF9SRVFfQkFTRSA6IERQX1NJREVCQU5EX01TR19ET1dOX1JFUF9CQVNFOwpAQCAtMzE2Nyw3
ICszMTU3LDYgQEAgc3RhdGljIGJvb2wgZHJtX2RwX2dldF9vbmVfc2JfbXNnKHN0cnVjdCBkcm1f
ZHBfbXN0X3RvcG9sb2d5X21nciAqbWdyLCBib29sIHVwKQogCX0KIAlyZXBseWxlbiA9IG1zZy0+
Y3VyY2h1bmtfbGVuICsgbXNnLT5jdXJjaHVua19oZHJsZW47CiAKLQlvcmlnbGVuID0gcmVwbHls
ZW47CiAJcmVwbHlsZW4gLT0gbGVuOwogCWN1cnJlcGx5ID0gbGVuOwogCXdoaWxlIChyZXBseWxl
biA+IDApIHsKQEAgLTM5NTksMTcgKzM5NDgsMTYgQEAgdm9pZCBkcm1fZHBfbXN0X2R1bXBfdG9w
b2xvZ3koc3RydWN0IHNlcV9maWxlICptLAogCW11dGV4X2xvY2soJm1nci0+bG9jayk7CiAJaWYg
KG1nci0+bXN0X3ByaW1hcnkpIHsKIAkJdTggYnVmW0RQX1BBWUxPQURfVEFCTEVfU0laRV07Ci0J
CWludCByZXQ7CiAKLQkJcmV0ID0gZHJtX2RwX2RwY2RfcmVhZChtZ3ItPmF1eCwgRFBfRFBDRF9S
RVYsIGJ1ZiwgRFBfUkVDRUlWRVJfQ0FQX1NJWkUpOworCQlkcm1fZHBfZHBjZF9yZWFkKG1nci0+
YXV4LCBEUF9EUENEX1JFViwgYnVmLCBEUF9SRUNFSVZFUl9DQVBfU0laRSk7CiAJCXNlcV9wcmlu
dGYobSwgImRwY2Q6ICUqcGhcbiIsIERQX1JFQ0VJVkVSX0NBUF9TSVpFLCBidWYpOwotCQlyZXQg
PSBkcm1fZHBfZHBjZF9yZWFkKG1nci0+YXV4LCBEUF9GQVVYX0NBUCwgYnVmLCAyKTsKKwkJZHJt
X2RwX2RwY2RfcmVhZChtZ3ItPmF1eCwgRFBfRkFVWF9DQVAsIGJ1ZiwgMik7CiAJCXNlcV9wcmlu
dGYobSwgImZhdXgvbXN0OiAlKnBoXG4iLCAyLCBidWYpOwotCQlyZXQgPSBkcm1fZHBfZHBjZF9y
ZWFkKG1nci0+YXV4LCBEUF9NU1RNX0NUUkwsIGJ1ZiwgMSk7CisJCWRybV9kcF9kcGNkX3JlYWQo
bWdyLT5hdXgsIERQX01TVE1fQ1RSTCwgYnVmLCAxKTsKIAkJc2VxX3ByaW50ZihtLCAibXN0IGN0
cmw6ICUqcGhcbiIsIDEsIGJ1Zik7CiAKIAkJLyogZHVtcCB0aGUgc3RhbmRhcmQgT1VJIGJyYW5j
aCBoZWFkZXIgKi8KLQkJcmV0ID0gZHJtX2RwX2RwY2RfcmVhZChtZ3ItPmF1eCwgRFBfQlJBTkNI
X09VSSwgYnVmLCBEUF9CUkFOQ0hfT1VJX0hFQURFUl9TSVpFKTsKKwkJZHJtX2RwX2RwY2RfcmVh
ZChtZ3ItPmF1eCwgRFBfQlJBTkNIX09VSSwgYnVmLCBEUF9CUkFOQ0hfT1VJX0hFQURFUl9TSVpF
KTsKIAkJc2VxX3ByaW50ZihtLCAiYnJhbmNoIG91aTogJSpwaE4gZGV2aWQ6ICIsIDMsIGJ1Zik7
CiAJCWZvciAoaSA9IDB4MzsgaSA8IDB4OCAmJiBidWZbaV07IGkrKykKIAkJCXNlcV9wcmludGYo
bSwgIiVjIiwgYnVmW2ldKTsKLS0gCjIuMTUuMAoKX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vZHJpLWRldmVs
