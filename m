Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id CE4F260CC0F
	for <lists+dri-devel@lfdr.de>; Tue, 25 Oct 2022 14:41:47 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 505B410E053;
	Tue, 25 Oct 2022 12:41:37 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from smtp-out1.suse.de (smtp-out1.suse.de [195.135.220.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D0F3510E053
 for <dri-devel@lists.freedesktop.org>; Tue, 25 Oct 2022 12:41:32 +0000 (UTC)
Received: from imap2.suse-dmz.suse.de (imap2.suse-dmz.suse.de [192.168.254.74])
 (using TLSv1.3 with cipher TLS_AES_256_GCM_SHA384 (256/256 bits)
 key-exchange X25519 server-signature ECDSA (P-521) server-digest SHA512)
 (No client certificate requested)
 by smtp-out1.suse.de (Postfix) with ESMTPS id 6EA7F22042;
 Tue, 25 Oct 2022 12:41:31 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=suse.de; s=susede2_rsa;
 t=1666701691; h=from:from:reply-to:date:date:message-id:message-id:to:to:cc:cc:
 mime-version:mime-version:content-type:content-type:
 in-reply-to:in-reply-to:references:references;
 bh=mOgmwgZtNTToWvGqrpLy3IcYW3rlhGhyXr0TGKp5dJ4=;
 b=gyBoGlv5LoYtm28KXr4J4r/co0oZw71OLsp2mPFDB4cVtv8QwUfBdwtYxDlwbLj9CHjq49
 5Yh9tjeFStqgUuo3KDzFjWIjPyg6Vla3ZDKxlx4BBjfNVQ/3/A3O3b8myz1Hoq+/Kv0LOA
 0qmxIE8sZxWSaJhOZxYE9ZjwO2/Vn3g=
DKIM-Signature: v=1; a=ed25519-sha256; c=relaxed/relaxed; d=suse.de;
 s=susede2_ed25519; t=1666701691;
 h=from:from:reply-to:date:date:message-id:message-id:to:to:cc:cc:
 mime-version:mime-version:content-type:content-type:
 in-reply-to:in-reply-to:references:references;
 bh=mOgmwgZtNTToWvGqrpLy3IcYW3rlhGhyXr0TGKp5dJ4=;
 b=rS1HCM5MV3s41vdppcn/hJpPCmFUVBj1qX9WOBJjebI5IHnvbadQJ140iqvQpEeVv3VWga
 84+JWT+YCnVsGdDw==
Received: from imap2.suse-dmz.suse.de (imap2.suse-dmz.suse.de [192.168.254.74])
 (using TLSv1.3 with cipher TLS_AES_256_GCM_SHA384 (256/256 bits)
 key-exchange X25519 server-signature ECDSA (P-521) server-digest SHA512)
 (No client certificate requested)
 by imap2.suse-dmz.suse.de (Postfix) with ESMTPS id 4125213A64;
 Tue, 25 Oct 2022 12:41:31 +0000 (UTC)
Received: from dovecot-director2.suse.de ([192.168.254.65])
 by imap2.suse-dmz.suse.de with ESMTPSA id AVzyDnvZV2OAIgAAMHmgww
 (envelope-from <tzimmermann@suse.de>); Tue, 25 Oct 2022 12:41:31 +0000
Message-ID: <c2ca1915-a4e7-d72f-c753-a6a63180f560@suse.de>
Date: Tue, 25 Oct 2022 14:41:30 +0200
MIME-Version: 1.0
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:102.0) Gecko/20100101
 Thunderbird/102.3.3
Subject: Re: [PATCH v3 3/7] drm/ivpu: Add GEM buffer object management
Content-Language: en-US
To: Jacek Lawrynowicz <jacek.lawrynowicz@linux.intel.com>,
 dri-devel@lists.freedesktop.org, airlied@gmail.com, daniel@ffwll.ch
References: <20220924151149.323622-1-jacek.lawrynowicz@linux.intel.com>
 <20220924151149.323622-4-jacek.lawrynowicz@linux.intel.com>
From: Thomas Zimmermann <tzimmermann@suse.de>
In-Reply-To: <20220924151149.323622-4-jacek.lawrynowicz@linux.intel.com>
Content-Type: multipart/signed; micalg=pgp-sha256;
 protocol="application/pgp-signature";
 boundary="------------y3S4wU0SZFDXG5b97DKEqPwA"
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: andrzej.kacprowski@linux.intel.com, stanislaw.gruszka@linux.intel.com
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--------------y3S4wU0SZFDXG5b97DKEqPwA
Content-Type: multipart/mixed; boundary="------------J7xeNX0nAzZJr6X1iWeu39y0";
 protected-headers="v1"
From: Thomas Zimmermann <tzimmermann@suse.de>
To: Jacek Lawrynowicz <jacek.lawrynowicz@linux.intel.com>,
 dri-devel@lists.freedesktop.org, airlied@gmail.com, daniel@ffwll.ch
Cc: andrzej.kacprowski@linux.intel.com, stanislaw.gruszka@linux.intel.com
Message-ID: <c2ca1915-a4e7-d72f-c753-a6a63180f560@suse.de>
Subject: Re: [PATCH v3 3/7] drm/ivpu: Add GEM buffer object management
References: <20220924151149.323622-1-jacek.lawrynowicz@linux.intel.com>
 <20220924151149.323622-4-jacek.lawrynowicz@linux.intel.com>
In-Reply-To: <20220924151149.323622-4-jacek.lawrynowicz@linux.intel.com>

--------------J7xeNX0nAzZJr6X1iWeu39y0
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: base64

SGkNCg0KQW0gMjQuMDkuMjIgdW0gMTc6MTEgc2NocmllYiBKYWNlayBMYXdyeW5vd2ljejoN
Cj4gQWRkcyBmb3VyIHR5cGVzIG9mIEdFTS1iYXNlZCBCT3MgZm9yIHRoZSBWUFU6DQo+ICAg
IC0gc2htZW0NCj4gICAgLSB1c2VycHRyDQo+ICAgIC0gaW50ZXJuYWwNCj4gICAgLSBwcmlt
ZQ0KPiANCj4gQWxsIHR5cGVzIGFyZSBpbXBsZW1lbnRlZCBhcyBzdHJ1Y3QgaXZwdV9ibywg
YmFzZWQgb24NCj4gc3RydWN0IGRybV9nZW1fb2JqZWN0LiBWUFUgYWRkcmVzcyBpcyBhbGxv
Y2F0ZWQgd2hlbiBidWZmZXIgaXMgY3JlYXRlZA0KPiBleGNlcHQgZm9yIGltcG9ydGVkIHBy
aW1lIGJ1ZmZlcnMgdGhhdCBhbGxvY2F0ZSBpdCBpbiBCT19JTkZPIElPQ1RMIGR1ZQ0KPiB0
byBtaXNzaW5nIGZpbGVfcHJpdiBhcmcgaW4gZ2VtX3ByaW1lX2ltcG9ydCBjYWxsYmFjay4N
Cj4gSW50ZXJuYWwgYnVmZmVycyBhcmUgcGlubmVkIG9uIGNyZWF0aW9uLCB0aGUgcmVzdCBv
ZiBidWZmZXJzIHR5cGVzDQo+IGNhbiBiZSBwaW5uZWQgb24gZGVtYW5kIChpbiBTVUJNSVQg
SU9DVEwpLg0KPiBCdWZmZXIgVlBVIGFkZHJlc3MsIGFsbG9jYXRlZCBwYWdlcyBhbmQgbWFw
cGluZ3MgYXJlIHJlbGFzZWQgd2hlbiB0aGUNCj4gYnVmZmVyIGlzIGRlc3Ryb3llZC4NCj4g
RXZpY3Rpb24gbWVjaGlzbSBpcyBwbGFubmVkIGZvciBmdXR1cmUgdmVyc2lvbnMuDQo+IA0K
PiBBZGQgdGhyZWUgbmV3IElPQ1RMczogQk9fQ1JFQVRFLCBCT19JTkZPLCBCT19VU0VSUFRS
DQoNCkkgZmVlbHMgbGlrZSBUVE0gYWxyZWFkeSBkb2VzIGFsbCB5b3UgbmVlZC4gKD8pIFdo
eSBub3QgYnVpbGQgdXBvbiBUVE0/DQoNCkJlc3QgcmVnYXJkcw0KVGhvbWFzDQoNCj4gDQo+
IFNpZ25lZC1vZmYtYnk6IEphY2VrIExhd3J5bm93aWN6IDxqYWNlay5sYXdyeW5vd2ljekBs
aW51eC5pbnRlbC5jb20+DQo+IC0tLQ0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pdnB1L01ha2Vm
aWxlICAgfCAgIDEgKw0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pdnB1L2l2cHVfZHJ2LmMgfCAg
IDkgKw0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pdnB1L2l2cHVfZ2VtLmMgfCA4MjMgKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysNCj4gICBkcml2ZXJzL2dwdS9kcm0vaXZwdS9p
dnB1X2dlbS5oIHwgMTI4ICsrKysrDQo+ICAgaW5jbHVkZS91YXBpL2RybS9pdnB1X2RybS5o
ICAgICB8IDEyNyArKysrKw0KPiAgIDUgZmlsZXMgY2hhbmdlZCwgMTA4OCBpbnNlcnRpb25z
KCspDQo+ICAgY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS9pdnB1L2l2cHVf
Z2VtLmMNCj4gICBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL2l2cHUvaXZw
dV9nZW0uaA0KPiANCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pdnB1L01ha2Vm
aWxlIGIvZHJpdmVycy9ncHUvZHJtL2l2cHUvTWFrZWZpbGUNCj4gaW5kZXggOTViYjA0ZjI2
Mjk2Li40MDUzZmUzNDFkNTYgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pdnB1
L01ha2VmaWxlDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pdnB1L01ha2VmaWxlDQo+IEBA
IC0zLDYgKzMsNyBAQA0KPiAgIA0KPiAgIGludGVsX3ZwdS15IDo9IFwNCj4gICAJaXZwdV9k
cnYubyBcDQo+ICsJaXZwdV9nZW0ubyBcDQo+ICAgCWl2cHVfaHdfbXRsLm8gXA0KPiAgIAlp
dnB1X21tdS5vIFwNCj4gICAJaXZwdV9tbXVfY29udGV4dC5vDQo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaXZwdS9pdnB1X2Rydi5jIGIvZHJpdmVycy9ncHUvZHJtL2l2cHUv
aXZwdV9kcnYuYw0KPiBpbmRleCBjYmViOWE4MDFhMzEuLmIwNDQyZTJhNDk2MCAxMDA2NDQN
Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2l2cHUvaXZwdV9kcnYuYw0KPiArKysgYi9kcml2
ZXJzL2dwdS9kcm0vaXZwdS9pdnB1X2Rydi5jDQo+IEBAIC0xMSw4ICsxMSwxMCBAQA0KPiAg
ICNpbmNsdWRlIDxkcm0vZHJtX2ZpbGUuaD4NCj4gICAjaW5jbHVkZSA8ZHJtL2RybV9nZW0u
aD4NCj4gICAjaW5jbHVkZSA8ZHJtL2RybV9pb2N0bC5oPg0KPiArI2luY2x1ZGUgPGRybS9k
cm1fcHJpbWUuaD4NCj4gICANCj4gICAjaW5jbHVkZSAiaXZwdV9kcnYuaCINCj4gKyNpbmNs
dWRlICJpdnB1X2dlbS5oIg0KPiAgICNpbmNsdWRlICJpdnB1X2h3LmgiDQo+ICAgI2luY2x1
ZGUgIml2cHVfbW11LmgiDQo+ICAgI2luY2x1ZGUgIml2cHVfbW11X2NvbnRleHQuaCINCj4g
QEAgLTE4Nyw2ICsxODksOSBAQCBzdGF0aWMgdm9pZCBpdnB1X3Bvc3RjbG9zZShzdHJ1Y3Qg
ZHJtX2RldmljZSAqZGV2LCBzdHJ1Y3QgZHJtX2ZpbGUgKmZpbGUpDQo+ICAgc3RhdGljIGNv
bnN0IHN0cnVjdCBkcm1faW9jdGxfZGVzYyBpdnB1X2RybV9pb2N0bHNbXSA9IHsNCj4gICAJ
RFJNX0lPQ1RMX0RFRl9EUlYoSVZQVV9HRVRfUEFSQU0sIGl2cHVfZ2V0X3BhcmFtX2lvY3Rs
LCBEUk1fUkVOREVSX0FMTE9XKSwNCj4gICAJRFJNX0lPQ1RMX0RFRl9EUlYoSVZQVV9TRVRf
UEFSQU0sIGl2cHVfc2V0X3BhcmFtX2lvY3RsLCBEUk1fUkVOREVSX0FMTE9XKSwNCj4gKwlE
Uk1fSU9DVExfREVGX0RSVihJVlBVX0JPX0NSRUFURSwgaXZwdV9ib19jcmVhdGVfaW9jdGws
IERSTV9SRU5ERVJfQUxMT1cpLA0KPiArCURSTV9JT0NUTF9ERUZfRFJWKElWUFVfQk9fSU5G
TywgaXZwdV9ib19pbmZvX2lvY3RsLCBEUk1fUkVOREVSX0FMTE9XKSwNCj4gKwlEUk1fSU9D
VExfREVGX0RSVihJVlBVX0JPX1VTRVJQVFIsIGl2cHVfYm9fdXNlcnB0cl9pb2N0bCwgRFJN
X1JFTkRFUl9BTExPVyksDQo+ICAgfTsNCj4gICANCj4gICBERUZJTkVfRFJNX0dFTV9GT1BT
KGl2cHVfZm9wcyk7DQo+IEBAIC0yMTAsNiArMjE1LDEwIEBAIHN0YXRpYyBjb25zdCBzdHJ1
Y3QgZHJtX2RyaXZlciBkcml2ZXIgPSB7DQo+ICAgDQo+ICAgCS5vcGVuID0gaXZwdV9vcGVu
LA0KPiAgIAkucG9zdGNsb3NlID0gaXZwdV9wb3N0Y2xvc2UsDQo+ICsJLnByaW1lX2hhbmRs
ZV90b19mZCA9IGRybV9nZW1fcHJpbWVfaGFuZGxlX3RvX2ZkLA0KPiArCS5wcmltZV9mZF90
b19oYW5kbGUgPSBkcm1fZ2VtX3ByaW1lX2ZkX3RvX2hhbmRsZSwNCj4gKwkuZ2VtX3ByaW1l
X2ltcG9ydCA9IGl2cHVfZ2VtX3ByaW1lX2ltcG9ydCwNCj4gKwkuZ2VtX3ByaW1lX21tYXAg
PSBkcm1fZ2VtX3ByaW1lX21tYXAsDQo+ICAgDQo+ICAgCS5pb2N0bHMgPSBpdnB1X2RybV9p
b2N0bHMsDQo+ICAgCS5udW1faW9jdGxzID0gQVJSQVlfU0laRShpdnB1X2RybV9pb2N0bHMp
LA0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2l2cHUvaXZwdV9nZW0uYyBiL2Ry
aXZlcnMvZ3B1L2RybS9pdnB1L2l2cHVfZ2VtLmMNCj4gbmV3IGZpbGUgbW9kZSAxMDA2NDQN
Cj4gaW5kZXggMDAwMDAwMDAwMDAwLi41NDMxOWEyNWMxOGUNCj4gLS0tIC9kZXYvbnVsbA0K
PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaXZwdS9pdnB1X2dlbS5jDQo+IEBAIC0wLDAgKzEs
ODIzIEBADQo+ICsvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vbmx5DQo+
ICsvKg0KPiArICogQ29weXJpZ2h0IMKpIDIwMjAtMjAyMiBJbnRlbCBDb3Jwb3JhdGlvbg0K
PiArICovDQo+ICsNCj4gKyNpbmNsdWRlIDxsaW51eC9kbWEtYnVmLmg+DQo+ICsjaW5jbHVk
ZSA8bGludXgvaGlnaG1lbS5oPg0KPiArI2luY2x1ZGUgPGxpbnV4L21vZHVsZS5oPg0KPiAr
I2luY2x1ZGUgPGxpbnV4L3NldF9tZW1vcnkuaD4NCj4gKyNpbmNsdWRlIDxsaW51eC94YXJy
YXkuaD4NCj4gKw0KPiArI2luY2x1ZGUgPGRybS9kcm1fY2FjaGUuaD4NCj4gKyNpbmNsdWRl
IDxkcm0vZHJtX2RlYnVnZnMuaD4NCj4gKyNpbmNsdWRlIDxkcm0vZHJtX2ZpbGUuaD4NCj4g
KyNpbmNsdWRlIDxkcm0vZHJtX3V0aWxzLmg+DQo+ICsNCj4gKyNpbmNsdWRlICJpdnB1X2Ry
di5oIg0KPiArI2luY2x1ZGUgIml2cHVfZ2VtLmgiDQo+ICsjaW5jbHVkZSAiaXZwdV9ody5o
Ig0KPiArI2luY2x1ZGUgIml2cHVfbW11LmgiDQo+ICsjaW5jbHVkZSAiaXZwdV9tbXVfY29u
dGV4dC5oIg0KPiArDQo+ICtNT0RVTEVfSU1QT1JUX05TKERNQV9CVUYpOw0KPiArDQo+ICtz
dGF0aWMgY29uc3Qgc3RydWN0IGRybV9nZW1fb2JqZWN0X2Z1bmNzIGl2cHVfZ2VtX2Z1bmNz
Ow0KPiArDQo+ICtzdGF0aWMgaW50IF9fbXVzdF9jaGVjayBwcmltZV9hbGxvY19wYWdlc19s
b2NrZWQoc3RydWN0IGl2cHVfYm8gKmJvKQ0KPiArew0KPiArCS8qIFBhZ2VzIGFyZSBtYW5h
Z2VkIGJ5IHRoZSB1bmRlcmx5aW5nIGRtYS1idWYgKi8NCj4gKwlyZXR1cm4gMDsNCj4gK30N
Cj4gKw0KPiArc3RhdGljIHZvaWQgcHJpbWVfZnJlZV9wYWdlc19sb2NrZWQoc3RydWN0IGl2
cHVfYm8gKmJvKQ0KPiArew0KPiArCS8qIFBhZ2VzIGFyZSBtYW5hZ2VkIGJ5IHRoZSB1bmRl
cmx5aW5nIGRtYS1idWYgKi8NCj4gK30NCj4gKw0KPiArc3RhdGljIGludCBwcmltZV9tYXBf
cGFnZXNfbG9ja2VkKHN0cnVjdCBpdnB1X2JvICpibykNCj4gK3sNCj4gKwlzdHJ1Y3QgaXZw
dV9kZXZpY2UgKnZkZXYgPSBpdnB1X2JvX3RvX3ZkZXYoYm8pOw0KPiArCXN0cnVjdCBzZ190
YWJsZSAqc2d0Ow0KPiArDQo+ICsJV0FSTl9PTighYm8tPmJhc2UuaW1wb3J0X2F0dGFjaCk7
DQo+ICsNCj4gKwlzZ3QgPSBkbWFfYnVmX21hcF9hdHRhY2htZW50KGJvLT5iYXNlLmltcG9y
dF9hdHRhY2gsIERNQV9CSURJUkVDVElPTkFMKTsNCj4gKwlpZiAoSVNfRVJSKHNndCkpIHsN
Cj4gKwkJaXZwdV9lcnIodmRldiwgIkZhaWxlZCB0byBtYXAgYXR0YWNobWVudDogJWxkXG4i
LCBQVFJfRVJSKHNndCkpOw0KPiArCQlyZXR1cm4gUFRSX0VSUihzZ3QpOw0KPiArCX0NCj4g
Kw0KPiArCWJvLT5zZ3QgPSBzZ3Q7DQo+ICsJcmV0dXJuIDA7DQo+ICt9DQo+ICsNCj4gK3N0
YXRpYyB2b2lkIHByaW1lX3VubWFwX3BhZ2VzX2xvY2tlZChzdHJ1Y3QgaXZwdV9ibyAqYm8p
DQo+ICt7DQo+ICsJV0FSTl9PTighYm8tPmJhc2UuaW1wb3J0X2F0dGFjaCk7DQo+ICsNCj4g
KwlkbWFfYnVmX3VubWFwX2F0dGFjaG1lbnQoYm8tPmJhc2UuaW1wb3J0X2F0dGFjaCwgYm8t
PnNndCwgRE1BX0JJRElSRUNUSU9OQUwpOw0KPiArCWJvLT5zZ3QgPSBOVUxMOw0KPiArfQ0K
PiArDQo+ICtzdGF0aWMgY29uc3Qgc3RydWN0IGl2cHVfYm9fb3BzIHByaW1lX29wcyA9IHsN
Cj4gKwkudHlwZSA9IElWUFVfQk9fVFlQRV9QUklNRSwNCj4gKwkubmFtZSA9ICJwcmltZSIs
DQo+ICsJLmFsbG9jX3BhZ2VzID0gcHJpbWVfYWxsb2NfcGFnZXNfbG9ja2VkLA0KPiArCS5m
cmVlX3BhZ2VzID0gcHJpbWVfZnJlZV9wYWdlc19sb2NrZWQsDQo+ICsJLm1hcF9wYWdlcyA9
IHByaW1lX21hcF9wYWdlc19sb2NrZWQsDQo+ICsJLnVubWFwX3BhZ2VzID0gcHJpbWVfdW5t
YXBfcGFnZXNfbG9ja2VkLA0KPiArfTsNCj4gKw0KPiArc3RhdGljIGludCBfX211c3RfY2hl
Y2sgc2htZW1fYWxsb2NfcGFnZXNfbG9ja2VkKHN0cnVjdCBpdnB1X2JvICpibykNCj4gK3sN
Cj4gKwlpbnQgbnBhZ2VzID0gYm8tPmJhc2Uuc2l6ZSA+PiBQQUdFX1NISUZUOw0KPiArCXN0
cnVjdCBwYWdlICoqcGFnZXM7DQo+ICsNCj4gKwlwYWdlcyA9IGRybV9nZW1fZ2V0X3BhZ2Vz
KCZiby0+YmFzZSk7DQo+ICsJaWYgKElTX0VSUihwYWdlcykpDQo+ICsJCXJldHVybiBQVFJf
RVJSKHBhZ2VzKTsNCj4gKw0KPiArCWlmIChiby0+ZmxhZ3MgJiBEUk1fSVZQVV9CT19XQykN
Cj4gKwkJc2V0X3BhZ2VzX2FycmF5X3djKHBhZ2VzLCBucGFnZXMpOw0KPiArCWVsc2UgaWYg
KGJvLT5mbGFncyAmIERSTV9JVlBVX0JPX1VOQ0FDSEVEKQ0KPiArCQlzZXRfcGFnZXNfYXJy
YXlfdWMocGFnZXMsIG5wYWdlcyk7DQo+ICsNCj4gKwliby0+cGFnZXMgPSBwYWdlczsNCj4g
KwlyZXR1cm4gMDsNCj4gK30NCj4gKw0KPiArc3RhdGljIHZvaWQgc2htZW1fZnJlZV9wYWdl
c19sb2NrZWQoc3RydWN0IGl2cHVfYm8gKmJvKQ0KPiArew0KPiArCWlmIChpdnB1X2JvX2Nh
Y2hlX21vZGUoYm8pICE9IERSTV9JVlBVX0JPX0NBQ0hFRCkNCj4gKwkJc2V0X3BhZ2VzX2Fy
cmF5X3diKGJvLT5wYWdlcywgYm8tPmJhc2Uuc2l6ZSA+PiBQQUdFX1NISUZUKTsNCj4gKw0K
PiArCWRybV9nZW1fcHV0X3BhZ2VzKCZiby0+YmFzZSwgYm8tPnBhZ2VzLCB0cnVlLCBmYWxz
ZSk7DQo+ICsJYm8tPnBhZ2VzID0gTlVMTDsNCj4gK30NCj4gKw0KPiArc3RhdGljIGludCBp
dnB1X2JvX21hcF9wYWdlc19sb2NrZWQoc3RydWN0IGl2cHVfYm8gKmJvKQ0KPiArew0KPiAr
CWludCBucGFnZXMgPSBiby0+YmFzZS5zaXplID4+IFBBR0VfU0hJRlQ7DQo+ICsJc3RydWN0
IGl2cHVfZGV2aWNlICp2ZGV2ID0gaXZwdV9ib190b192ZGV2KGJvKTsNCj4gKwlzdHJ1Y3Qg
c2dfdGFibGUgKnNndDsNCj4gKwlpbnQgcmV0Ow0KPiArDQo+ICsJc2d0ID0gZHJtX3ByaW1l
X3BhZ2VzX3RvX3NnKCZ2ZGV2LT5kcm0sIGJvLT5wYWdlcywgbnBhZ2VzKTsNCj4gKwlpZiAo
SVNfRVJSKHNndCkpIHsNCj4gKwkJaXZwdV9lcnIodmRldiwgIkZhaWxlZCB0byBhbGxvY2F0
ZSBzZ3RhYmxlXG4iKTsNCj4gKwkJcmV0dXJuIFBUUl9FUlIoc2d0KTsNCj4gKwl9DQo+ICsN
Cj4gKwlyZXQgPSBkbWFfbWFwX3NndGFibGUodmRldi0+ZHJtLmRldiwgc2d0LCBETUFfQklE
SVJFQ1RJT05BTCwgMCk7DQo+ICsJaWYgKHJldCkgew0KPiArCQlpdnB1X2Vycih2ZGV2LCAi
RmFpbGVkIHRvIG1hcCBCTyBpbiBJT01NVTogJWRcbiIsIHJldCk7DQo+ICsJCWdvdG8gZXJy
X2ZyZWVfc2d0Ow0KPiArCX0NCj4gKw0KPiArCWJvLT5zZ3QgPSBzZ3Q7DQo+ICsJcmV0dXJu
IDA7DQo+ICsNCj4gK2Vycl9mcmVlX3NndDoNCj4gKwlrZnJlZShzZ3QpOw0KPiArCXJldHVy
biByZXQ7DQo+ICt9DQo+ICsNCj4gK3N0YXRpYyB2b2lkIGl2cHVfYm9fdW5tYXBfcGFnZXNf
bG9ja2VkKHN0cnVjdCBpdnB1X2JvICpibykNCj4gK3sNCj4gKwlzdHJ1Y3QgaXZwdV9kZXZp
Y2UgKnZkZXYgPSBpdnB1X2JvX3RvX3ZkZXYoYm8pOw0KPiArDQo+ICsJZG1hX3VubWFwX3Nn
dGFibGUodmRldi0+ZHJtLmRldiwgYm8tPnNndCwgRE1BX0JJRElSRUNUSU9OQUwsIDApOw0K
PiArCXNnX2ZyZWVfdGFibGUoYm8tPnNndCk7DQo+ICsJa2ZyZWUoYm8tPnNndCk7DQo+ICsJ
Ym8tPnNndCA9IE5VTEw7DQo+ICt9DQo+ICsNCj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3QgaXZw
dV9ib19vcHMgc2htZW1fb3BzID0gew0KPiArCS50eXBlID0gSVZQVV9CT19UWVBFX1NITUVN
LA0KPiArCS5uYW1lID0gInNobWVtIiwNCj4gKwkuYWxsb2NfcGFnZXMgPSBzaG1lbV9hbGxv
Y19wYWdlc19sb2NrZWQsDQo+ICsJLmZyZWVfcGFnZXMgPSBzaG1lbV9mcmVlX3BhZ2VzX2xv
Y2tlZCwNCj4gKwkubWFwX3BhZ2VzID0gaXZwdV9ib19tYXBfcGFnZXNfbG9ja2VkLA0KPiAr
CS51bm1hcF9wYWdlcyA9IGl2cHVfYm9fdW5tYXBfcGFnZXNfbG9ja2VkLA0KPiArfTsNCj4g
Kw0KPiArc3RhdGljIGludCBfX211c3RfY2hlY2sgdXNlcnB0cl9hbGxvY19wYWdlc19sb2Nr
ZWQoc3RydWN0IGl2cHVfYm8gKmJvKQ0KPiArew0KPiArCXVuc2lnbmVkIGludCBucGFnZXMg
PSBiby0+YmFzZS5zaXplID4+IFBBR0VfU0hJRlQ7DQo+ICsJc3RydWN0IHBhZ2UgKipwYWdl
czsNCj4gKwlpbnQgcmV0Ow0KPiArDQo+ICsJcGFnZXMgPSBrdm1hbGxvY19hcnJheShucGFn
ZXMsIHNpemVvZigqYm8tPnBhZ2VzKSwgR0ZQX0tFUk5FTCk7DQo+ICsJaWYgKCFwYWdlcykN
Cj4gKwkJcmV0dXJuIC1FTk9NRU07DQo+ICsNCj4gKwlyZXQgPSBwaW5fdXNlcl9wYWdlcyhi
by0+dXNlcl9wdHIgJiBQQUdFX01BU0ssIG5wYWdlcywNCj4gKwkJCSAgICAgRk9MTF9GT1JD
RSB8IEZPTExfV1JJVEUgfCBGT0xMX0xPTkdURVJNLCBwYWdlcywgTlVMTCk7DQo+ICsJaWYg
KHJldCAhPSBucGFnZXMpIHsNCj4gKwkJaWYgKHJldCA+IDApDQo+ICsJCQlnb3RvIGVycl91
bnBpbl9wYWdlczsNCj4gKwkJZ290byBlcnJfZnJlZV9wYWdlczsNCj4gKwl9DQo+ICsNCj4g
Kwliby0+cGFnZXMgPSBwYWdlczsNCj4gKwlyZXR1cm4gMDsNCj4gKw0KPiArZXJyX3VucGlu
X3BhZ2VzOg0KPiArCXVucGluX3VzZXJfcGFnZXMocGFnZXMsIHJldCk7DQo+ICtlcnJfZnJl
ZV9wYWdlczoNCj4gKwlrdmZyZWUocGFnZXMpOw0KPiArCXJldHVybiByZXQ7DQo+ICt9DQo+
ICsNCj4gK3N0YXRpYyB2b2lkIHVzZXJwdHJfZnJlZV9wYWdlc19sb2NrZWQoc3RydWN0IGl2
cHVfYm8gKmJvKQ0KPiArew0KPiArCXVucGluX3VzZXJfcGFnZXMoYm8tPnBhZ2VzLCBiby0+
YmFzZS5zaXplID4+IFBBR0VfU0hJRlQpOw0KPiArCWt2ZnJlZShiby0+cGFnZXMpOw0KPiAr
CWJvLT5wYWdlcyA9IE5VTEw7DQo+ICt9DQo+ICsNCj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3Qg
aXZwdV9ib19vcHMgdXNlcnB0cl9vcHMgPSB7DQo+ICsJLnR5cGUgPSBJVlBVX0JPX1RZUEVf
VVNFUlBUUiwNCj4gKwkubmFtZSA9ICJ1c2VycHRyIiwNCj4gKwkuYWxsb2NfcGFnZXMgPSB1
c2VycHRyX2FsbG9jX3BhZ2VzX2xvY2tlZCwNCj4gKwkuZnJlZV9wYWdlcyA9IHVzZXJwdHJf
ZnJlZV9wYWdlc19sb2NrZWQsDQo+ICsJLm1hcF9wYWdlcyA9IGl2cHVfYm9fbWFwX3BhZ2Vz
X2xvY2tlZCwNCj4gKwkudW5tYXBfcGFnZXMgPSBpdnB1X2JvX3VubWFwX3BhZ2VzX2xvY2tl
ZCwNCj4gK307DQo+ICsNCj4gK3N0YXRpYyBpbnQgX19tdXN0X2NoZWNrIGludGVybmFsX2Fs
bG9jX3BhZ2VzX2xvY2tlZChzdHJ1Y3QgaXZwdV9ibyAqYm8pDQo+ICt7DQo+ICsJdW5zaWdu
ZWQgaW50IGksIG5wYWdlcyA9IGJvLT5iYXNlLnNpemUgPj4gUEFHRV9TSElGVDsNCj4gKwlz
dHJ1Y3QgcGFnZSAqKnBhZ2VzOw0KPiArCWludCByZXQ7DQo+ICsNCj4gKwlwYWdlcyA9IGt2
bWFsbG9jX2FycmF5KG5wYWdlcywgc2l6ZW9mKCpiby0+cGFnZXMpLCBHRlBfS0VSTkVMKTsN
Cj4gKwlpZiAoIXBhZ2VzKQ0KPiArCQlyZXR1cm4gLUVOT01FTTsNCj4gKw0KPiArCWZvciAo
aSA9IDA7IGkgPCBucGFnZXM7IGkrKykgew0KPiArCQlwYWdlc1tpXSA9IGFsbG9jX3BhZ2Uo
R0ZQX0tFUk5FTCB8IF9fR0ZQX0hJR0hNRU0gfCBfX0dGUF9aRVJPKTsNCj4gKwkJaWYgKCFw
YWdlc1tpXSkgew0KPiArCQkJcmV0ID0gLUVOT01FTTsNCj4gKwkJCWdvdG8gZXJyX2ZyZWVf
cGFnZXM7DQo+ICsJCX0NCj4gKwkJY29uZF9yZXNjaGVkKCk7DQo+ICsJfQ0KPiArDQo+ICsJ
Ym8tPnBhZ2VzID0gcGFnZXM7DQo+ICsJcmV0dXJuIDA7DQo+ICsNCj4gK2Vycl9mcmVlX3Bh
Z2VzOg0KPiArCXdoaWxlIChpLS0pDQo+ICsJCXB1dF9wYWdlKHBhZ2VzW2ldKTsNCj4gKwlr
dmZyZWUocGFnZXMpOw0KPiArCXJldHVybiByZXQ7DQo+ICt9DQo+ICsNCj4gK3N0YXRpYyB2
b2lkIGludGVybmFsX2ZyZWVfcGFnZXNfbG9ja2VkKHN0cnVjdCBpdnB1X2JvICpibykNCj4g
K3sNCj4gKwl1bnNpZ25lZCBpbnQgaSwgbnBhZ2VzID0gYm8tPmJhc2Uuc2l6ZSA+PiBQQUdF
X1NISUZUOw0KPiArDQo+ICsJZm9yIChpID0gMDsgaSA8IG5wYWdlczsgaSsrKQ0KPiArCQlw
dXRfcGFnZShiby0+cGFnZXNbaV0pOw0KPiArDQo+ICsJa3ZmcmVlKGJvLT5wYWdlcyk7DQo+
ICsJYm8tPnBhZ2VzID0gTlVMTDsNCj4gK30NCj4gKw0KPiArc3RhdGljIGNvbnN0IHN0cnVj
dCBpdnB1X2JvX29wcyBpbnRlcm5hbF9vcHMgPSB7DQo+ICsJLnR5cGUgPSBJVlBVX0JPX1RZ
UEVfSU5URVJOQUwsDQo+ICsJLm5hbWUgPSAiaW50ZXJuYWwiLA0KPiArCS5hbGxvY19wYWdl
cyA9IGludGVybmFsX2FsbG9jX3BhZ2VzX2xvY2tlZCwNCj4gKwkuZnJlZV9wYWdlcyA9IGlu
dGVybmFsX2ZyZWVfcGFnZXNfbG9ja2VkLA0KPiArCS5tYXBfcGFnZXMgPSBpdnB1X2JvX21h
cF9wYWdlc19sb2NrZWQsDQo+ICsJLnVubWFwX3BhZ2VzID0gaXZwdV9ib191bm1hcF9wYWdl
c19sb2NrZWQsDQo+ICt9Ow0KPiArDQo+ICtzdGF0aWMgaW50IF9fbXVzdF9jaGVjayBpdnB1
X2JvX2FsbG9jX2FuZF9tYXBfcGFnZXNfbG9ja2VkKHN0cnVjdCBpdnB1X2JvICpibykNCj4g
K3sNCj4gKwlzdHJ1Y3QgaXZwdV9kZXZpY2UgKnZkZXYgPSBpdnB1X2JvX3RvX3ZkZXYoYm8p
Ow0KPiArCWludCByZXQ7DQo+ICsNCj4gKwlsb2NrZGVwX2Fzc2VydF9oZWxkKCZiby0+bG9j
ayk7DQo+ICsJV0FSTl9PTihiby0+c2d0KTsNCj4gKw0KPiArCXJldCA9IGJvLT5vcHMtPmFs
bG9jX3BhZ2VzKGJvKTsNCj4gKwlpZiAocmV0KSB7DQo+ICsJCWl2cHVfZXJyKHZkZXYsICJG
YWlsZWQgdG8gYWxsb2NhdGUgcGFnZXMgZm9yIEJPOiAlZCIsIHJldCk7DQo+ICsJCXJldHVy
biByZXQ7DQo+ICsJfQ0KPiArDQo+ICsJcmV0ID0gYm8tPm9wcy0+bWFwX3BhZ2VzKGJvKTsN
Cj4gKwlpZiAocmV0KSB7DQo+ICsJCWl2cHVfZXJyKHZkZXYsICJGYWlsZWQgdG8gbWFwIHBh
Z2VzIGZvciBCTzogJWQiLCByZXQpOw0KPiArCQlnb3RvIGVycl9mcmVlX3BhZ2VzOw0KPiAr
CX0NCj4gKwlyZXR1cm4gcmV0Ow0KPiArDQo+ICtlcnJfZnJlZV9wYWdlczoNCj4gKwliby0+
b3BzLT5mcmVlX3BhZ2VzKGJvKTsNCj4gKwlyZXR1cm4gcmV0Ow0KPiArfQ0KPiArDQo+ICtz
dGF0aWMgdm9pZCBpdnB1X2JvX3VubWFwX2FuZF9mcmVlX3BhZ2VzKHN0cnVjdCBpdnB1X2Jv
ICpibykNCj4gK3sNCj4gKwltdXRleF9sb2NrKCZiby0+bG9jayk7DQo+ICsNCj4gKwlXQVJO
X09OKCFiby0+c2d0KTsNCj4gKwliby0+b3BzLT51bm1hcF9wYWdlcyhibyk7DQo+ICsJV0FS
Tl9PTihiby0+c2d0KTsNCj4gKwliby0+b3BzLT5mcmVlX3BhZ2VzKGJvKTsNCj4gKwlXQVJO
X09OKGJvLT5wYWdlcyk7DQo+ICsNCj4gKwltdXRleF91bmxvY2soJmJvLT5sb2NrKTsNCj4g
K30NCj4gKw0KPiArLyoqDQo+ICsgKiBpdnB1X2JvX3BpbigpIC0gcGluIHRoZSBiYWNraW5n
IHBoeXNpY2FsIHBhZ2VzIGFuZCBtYXAgdGhlbSB0byBWUFUuDQo+ICsgKg0KPiArICogVGhp
cyBmdW5jdGlvbiBwaW5zIHBoeXNpY2FsIG1lbW9yeSBwYWdlcywgdGhlbiBtYXBzIHRoZSBw
aHlzaWNhbCBwYWdlcw0KPiArICogdG8gSU9NTVUgYWRkcmVzcyBzcGFjZSBhbmQgZmluYWxs
eSB1cGRhdGVzIHRoZSBWUFUgTU1VIHBhZ2UgdGFibGVzDQo+ICsgKiB0byBhbGxvdyB0aGUg
VlBVIHRvIHRyYW5zbGF0ZSBWUFUgYWRkcmVzcyB0byBJT01NVSBhZGRyZXNzLg0KPiArICov
DQo+ICtpbnQgX19tdXN0X2NoZWNrIGl2cHVfYm9fcGluKHN0cnVjdCBpdnB1X2JvICpibykN
Cj4gK3sNCj4gKwlzdHJ1Y3QgaXZwdV9kZXZpY2UgKnZkZXYgPSBpdnB1X2JvX3RvX3ZkZXYo
Ym8pOw0KPiArCWludCByZXQgPSAwOw0KPiArDQo+ICsJbXV0ZXhfbG9jaygmYm8tPmxvY2sp
Ow0KPiArDQo+ICsJaWYgKCFiby0+dnB1X2FkZHIpIHsNCj4gKwkJaXZwdV9lcnIodmRldiwg
InZwdV9hZGRyIG5vdCBzZXQgZm9yIEJPIGN0eF9pZDogJWQgaGFuZGxlOiAlZFxuIiwNCj4g
KwkJCSBiby0+Y3R4LT5pZCwgYm8tPmhhbmRsZSk7DQo+ICsJCXJldCA9IC1FSU5WQUw7DQo+
ICsJCWdvdG8gdW5sb2NrOw0KPiArCX0NCj4gKw0KPiArCWlmICghYm8tPnNndCkgew0KPiAr
CQlyZXQgPSBpdnB1X2JvX2FsbG9jX2FuZF9tYXBfcGFnZXNfbG9ja2VkKGJvKTsNCj4gKwkJ
aWYgKHJldCkNCj4gKwkJCWdvdG8gdW5sb2NrOw0KPiArCX0NCj4gKw0KPiArCWlmICghYm8t
Pm1tdV9tYXBwZWQpIHsNCj4gKwkJcmV0ID0gaXZwdV9tbXVfY29udGV4dF9tYXBfc2d0KHZk
ZXYsIGJvLT5jdHgsIGJvLT52cHVfYWRkciwgYm8tPnNndCwNCj4gKwkJCQkJICAgICAgIGl2
cHVfYm9faXNfc25vb3BlZChibykpOw0KPiArCQlpZiAocmV0KSB7DQo+ICsJCQlpdnB1X2Vy
cih2ZGV2LCAiRmFpbGVkIHRvIG1hcCBCTyBpbiBNTVU6ICVkXG4iLCByZXQpOw0KPiArCQkJ
Z290byB1bmxvY2s7DQo+ICsJCX0NCj4gKwkJYm8tPm1tdV9tYXBwZWQgPSB0cnVlOw0KPiAr
CX0NCj4gKw0KPiArdW5sb2NrOg0KPiArCW11dGV4X3VubG9jaygmYm8tPmxvY2spOw0KPiAr
DQo+ICsJcmV0dXJuIHJldDsNCj4gK30NCj4gKw0KPiArc3RhdGljIGludA0KPiAraXZwdV9i
b19hbGxvY192cHVfYWRkcihzdHJ1Y3QgaXZwdV9ibyAqYm8sIHN0cnVjdCBpdnB1X21tdV9j
b250ZXh0ICpjdHgsDQo+ICsJCSAgICAgICBjb25zdCBzdHJ1Y3QgaXZwdV9hZGRyX3Jhbmdl
ICpyYW5nZSkNCj4gK3sNCj4gKwlzdHJ1Y3QgaXZwdV9kZXZpY2UgKnZkZXYgPSBpdnB1X2Jv
X3RvX3ZkZXYoYm8pOw0KPiArCWludCByZXQ7DQo+ICsNCj4gKwlpZiAoIXJhbmdlKSB7DQo+
ICsJCWlmIChiby0+ZmxhZ3MgJiBEUk1fSVZQVV9CT19ISUdIX01FTSkNCj4gKwkJCXJhbmdl
ID0gJnZkZXYtPmh3LT5yYW5nZXMudXNlcl9oaWdoOw0KPiArCQllbHNlDQo+ICsJCQlyYW5n
ZSA9ICZ2ZGV2LT5ody0+cmFuZ2VzLnVzZXJfbG93Ow0KPiArCX0NCj4gKw0KPiArCW11dGV4
X2xvY2soJmN0eC0+bG9jayk7DQo+ICsJcmV0ID0gaXZwdV9tbXVfY29udGV4dF9pbnNlcnRf
bm9kZV9sb2NrZWQoY3R4LCByYW5nZSwgYm8tPmJhc2Uuc2l6ZSwgJmJvLT5tbV9ub2RlKTsN
Cj4gKwlpZiAoIXJldCkgew0KPiArCQliby0+Y3R4ID0gY3R4Ow0KPiArCQliby0+dnB1X2Fk
ZHIgPSBiby0+bW1fbm9kZS5zdGFydDsNCj4gKwkJbGlzdF9hZGRfdGFpbCgmYm8tPmN0eF9u
b2RlLCAmY3R4LT5ib19saXN0KTsNCj4gKwl9DQo+ICsJbXV0ZXhfdW5sb2NrKCZjdHgtPmxv
Y2spOw0KPiArDQo+ICsJcmV0dXJuIHJldDsNCj4gK30NCj4gKw0KPiArc3RhdGljIHZvaWQg
aXZwdV9ib19mcmVlX3ZwdV9hZGRyKHN0cnVjdCBpdnB1X2JvICpibykNCj4gK3sNCj4gKwlz
dHJ1Y3QgaXZwdV9kZXZpY2UgKnZkZXYgPSBpdnB1X2JvX3RvX3ZkZXYoYm8pOw0KPiArCXN0
cnVjdCBpdnB1X21tdV9jb250ZXh0ICpjdHggPSBiby0+Y3R4Ow0KPiArDQo+ICsJaXZwdV9k
YmcoQk8sICJyZW1vdmUgZnJvbSBjdHg6IGN0eCAlZCB2cHVfYWRkciAweCVsbHggYWxsb2Nh
dGVkICVkIG1tdV9tYXBwZWQgJWRcbiIsDQo+ICsJCSBjdHgtPmlkLCBiby0+dnB1X2FkZHIs
IChib29sKWJvLT5zZ3QsIGJvLT5tbXVfbWFwcGVkKTsNCj4gKw0KPiArCW11dGV4X2xvY2so
JmJvLT5sb2NrKTsNCj4gKw0KPiArCWlmIChiby0+bW11X21hcHBlZCkgew0KPiArCQlXQVJO
X09OKCFiby0+c2d0KTsNCj4gKwkJaXZwdV9tbXVfY29udGV4dF91bm1hcF9zZ3QodmRldiwg
Y3R4LCBiby0+dnB1X2FkZHIsIGJvLT5zZ3QpOw0KPiArCQliby0+bW11X21hcHBlZCA9IGZh
bHNlOw0KPiArCX0NCj4gKw0KPiArCW11dGV4X2xvY2soJmN0eC0+bG9jayk7DQo+ICsJbGlz
dF9kZWwoJmJvLT5jdHhfbm9kZSk7DQo+ICsJYm8tPnZwdV9hZGRyID0gMDsNCj4gKwliby0+
Y3R4ID0gTlVMTDsNCj4gKwlpdnB1X21tdV9jb250ZXh0X3JlbW92ZV9ub2RlX2xvY2tlZChj
dHgsICZiby0+bW1fbm9kZSk7DQo+ICsJbXV0ZXhfdW5sb2NrKCZjdHgtPmxvY2spOw0KPiAr
DQo+ICsJbXV0ZXhfdW5sb2NrKCZiby0+bG9jayk7DQo+ICt9DQo+ICsNCj4gK3ZvaWQgaXZw
dV9ib19yZW1vdmVfYWxsX2Jvc19mcm9tX2NvbnRleHQoc3RydWN0IGl2cHVfbW11X2NvbnRl
eHQgKmN0eCkNCj4gK3sNCj4gKwlzdHJ1Y3QgaXZwdV9ibyAqYm8sICp0bXA7DQo+ICsNCj4g
KwlsaXN0X2Zvcl9lYWNoX2VudHJ5X3NhZmUoYm8sIHRtcCwgJmN0eC0+Ym9fbGlzdCwgY3R4
X25vZGUpDQo+ICsJCWl2cHVfYm9fZnJlZV92cHVfYWRkcihibyk7DQo+ICt9DQo+ICsNCj4g
K3N0YXRpYyBzdHJ1Y3QgaXZwdV9ibyAqDQo+ICtpdnB1X2JvX2FsbG9jKHN0cnVjdCBpdnB1
X2RldmljZSAqdmRldiwgc3RydWN0IGl2cHVfbW11X2NvbnRleHQgKm1tdV9jb250ZXh0LA0K
PiArCSAgICAgIHU2NCB1bmFsaWduZWRfc2l6ZSwgdTMyIGZsYWdzLCBjb25zdCBzdHJ1Y3Qg
aXZwdV9ib19vcHMgKm9wcywNCj4gKwkgICAgICBjb25zdCBzdHJ1Y3QgaXZwdV9hZGRyX3Jh
bmdlICpyYW5nZSwgdTY0IHVzZXJfcHRyKQ0KPiArew0KPiArCXU2NCBzaXplID0gUEFHRV9B
TElHTih1bmFsaWduZWRfc2l6ZSk7DQo+ICsJc3RydWN0IGl2cHVfYm8gKmJvOw0KPiArCWlu
dCByZXQgPSAwOw0KPiArDQo+ICsJc3dpdGNoIChmbGFncyAmIERSTV9JVlBVX0JPX0NBQ0hF
X01BU0spIHsNCj4gKwljYXNlIERSTV9JVlBVX0JPX0NBQ0hFRDoNCj4gKwljYXNlIERSTV9J
VlBVX0JPX1VOQ0FDSEVEOg0KPiArCWNhc2UgRFJNX0lWUFVfQk9fV0M6DQo+ICsJCWJyZWFr
Ow0KPiArCWRlZmF1bHQ6DQo+ICsJCXJldHVybiBFUlJfUFRSKC1FSU5WQUwpOw0KPiArCX0N
Cj4gKw0KPiArCWJvID0ga3phbGxvYyhzaXplb2YoKmJvKSwgR0ZQX0tFUk5FTCk7DQo+ICsJ
aWYgKCFibykNCj4gKwkJcmV0dXJuIEVSUl9QVFIoLUVOT01FTSk7DQo+ICsNCj4gKwltdXRl
eF9pbml0KCZiby0+bG9jayk7DQo+ICsJYm8tPmJhc2UuZnVuY3MgPSAmaXZwdV9nZW1fZnVu
Y3M7DQo+ICsJYm8tPmZsYWdzID0gZmxhZ3M7DQo+ICsJYm8tPm9wcyA9IG9wczsNCj4gKwli
by0+dXNlcl9wdHIgPSB1c2VyX3B0cjsNCj4gKw0KPiArCWlmIChvcHMtPnR5cGUgPT0gSVZQ
VV9CT19UWVBFX1NITUVNKQ0KPiArCQlyZXQgPSBkcm1fZ2VtX29iamVjdF9pbml0KCZ2ZGV2
LT5kcm0sICZiby0+YmFzZSwgc2l6ZSk7DQo+ICsJZWxzZQ0KPiArCQlkcm1fZ2VtX3ByaXZh
dGVfb2JqZWN0X2luaXQoJnZkZXYtPmRybSwgJmJvLT5iYXNlLCBzaXplKTsNCj4gKw0KPiAr
CWlmIChyZXQpIHsNCj4gKwkJaXZwdV9lcnIodmRldiwgIkZhaWxlZCB0byBpbml0aWFsaXpl
IGRybSBvYmplY3RcbiIpOw0KPiArCQlnb3RvIGVycl9mcmVlOw0KPiArCX0NCj4gKw0KPiAr
CWlmIChmbGFncyAmIERSTV9JVlBVX0JPX01BUFBBQkxFKSB7DQo+ICsJCXJldCA9IGRybV9n
ZW1fY3JlYXRlX21tYXBfb2Zmc2V0KCZiby0+YmFzZSk7DQo+ICsJCWlmIChyZXQpIHsNCj4g
KwkJCWl2cHVfZXJyKHZkZXYsICJGYWlsZWQgdG8gYWxsb2NhdGUgbW1hcCBvZmZzZXRcbiIp
Ow0KPiArCQkJZ290byBlcnJfcmVsZWFzZTsNCj4gKwkJfQ0KPiArCX0NCj4gKw0KPiArCWlm
IChtbXVfY29udGV4dCkgew0KPiArCQlyZXQgPSBpdnB1X2JvX2FsbG9jX3ZwdV9hZGRyKGJv
LCBtbXVfY29udGV4dCwgcmFuZ2UpOw0KPiArCQlpZiAocmV0KSB7DQo+ICsJCQlpdnB1X2Vy
cih2ZGV2LCAiRmFpbGVkIHRvIGFkZCBCTyB0byBjb250ZXh0OiAlZFxuIiwgcmV0KTsNCj4g
KwkJCWdvdG8gZXJyX3JlbGVhc2U7DQo+ICsJCX0NCj4gKwl9DQo+ICsNCj4gKwlyZXR1cm4g
Ym87DQo+ICsNCj4gK2Vycl9yZWxlYXNlOg0KPiArCWRybV9nZW1fb2JqZWN0X3JlbGVhc2Uo
JmJvLT5iYXNlKTsNCj4gK2Vycl9mcmVlOg0KPiArCWtmcmVlKGJvKTsNCj4gKwlyZXR1cm4g
RVJSX1BUUihyZXQpOw0KPiArfQ0KPiArDQo+ICtzdGF0aWMgdm9pZCBpdnB1X2JvX2ZyZWUo
c3RydWN0IGRybV9nZW1fb2JqZWN0ICpvYmopDQo+ICt7DQo+ICsJc3RydWN0IGl2cHVfYm8g
KmJvID0gdG9faXZwdV9ibyhvYmopOw0KPiArCXN0cnVjdCBpdnB1X2RldmljZSAqdmRldiA9
IGl2cHVfYm9fdG9fdmRldihibyk7DQo+ICsNCj4gKwlpZiAoYm8tPmN0eCkNCj4gKwkJaXZw
dV9kYmcoQk8sICJmcmVlOiBjdHggJWQgdnB1X2FkZHIgMHglbGx4IGFsbG9jYXRlZCAlZCBt
bXVfbWFwcGVkICVkXG4iLA0KPiArCQkJIGJvLT5jdHgtPmlkLCBiby0+dnB1X2FkZHIsIChi
b29sKWJvLT5zZ3QsIGJvLT5tbXVfbWFwcGVkKTsNCj4gKwllbHNlDQo+ICsJCWl2cHVfZGJn
KEJPLCAiZnJlZTogY3R4IChyZWxlYXNlZCkgYWxsb2NhdGVkICVkIG1tdV9tYXBwZWQgJWRc
biIsDQo+ICsJCQkgKGJvb2wpYm8tPnNndCwgYm8tPm1tdV9tYXBwZWQpOw0KPiArDQo+ICsJ
V0FSTl9PTighZG1hX3Jlc3ZfdGVzdF9zaWduYWxlZChvYmotPnJlc3YsIERNQV9SRVNWX1VT
QUdFX1JFQUQpKTsNCj4gKw0KPiArCXZ1bm1hcChiby0+a3ZhZGRyKTsNCj4gKw0KPiArCWlm
IChiby0+Y3R4KQ0KPiArCQlpdnB1X2JvX2ZyZWVfdnB1X2FkZHIoYm8pOw0KPiArDQo+ICsJ
aWYgKGJvLT5zZ3QpDQo+ICsJCWl2cHVfYm9fdW5tYXBfYW5kX2ZyZWVfcGFnZXMoYm8pOw0K
PiArDQo+ICsJaWYgKGJvLT5iYXNlLmltcG9ydF9hdHRhY2gpDQo+ICsJCWRybV9wcmltZV9n
ZW1fZGVzdHJveSgmYm8tPmJhc2UsIGJvLT5zZ3QpOw0KPiArDQo+ICsJZHJtX2dlbV9vYmpl
Y3RfcmVsZWFzZSgmYm8tPmJhc2UpOw0KPiArDQo+ICsJbXV0ZXhfZGVzdHJveSgmYm8tPmxv
Y2spOw0KPiArCWtmcmVlKGJvKTsNCj4gK30NCj4gKw0KPiArc3RhdGljIGludCBpdnB1X2Jv
X21tYXAoc3RydWN0IGRybV9nZW1fb2JqZWN0ICpvYmosIHN0cnVjdCB2bV9hcmVhX3N0cnVj
dCAqdm1hKQ0KPiArew0KPiArCXN0cnVjdCBpdnB1X2JvICpibyA9IHRvX2l2cHVfYm8ob2Jq
KTsNCj4gKwlzdHJ1Y3QgaXZwdV9kZXZpY2UgKnZkZXYgPSBpdnB1X2JvX3RvX3ZkZXYoYm8p
Ow0KPiArDQo+ICsJaXZwdV9kYmcoQk8sICJtbWFwOiBjdHggJXUgaGFuZGxlICV1IHZwdV9h
ZGRyIDB4JWxseCBzaXplICV6dSB0eXBlICVzIiwNCj4gKwkJIGJvLT5jdHgtPmlkLCBiby0+
aGFuZGxlLCBiby0+dnB1X2FkZHIsIGJvLT5iYXNlLnNpemUsIGJvLT5vcHMtPm5hbWUpOw0K
PiArDQo+ICsJaWYgKG9iai0+aW1wb3J0X2F0dGFjaCkgew0KPiArCQkvKiBEcm9wIHRoZSBy
ZWZlcmVuY2UgZHJtX2dlbV9tbWFwX29iaigpIGFjcXVpcmVkLiovDQo+ICsJCWRybV9nZW1f
b2JqZWN0X3B1dChvYmopOw0KPiArCQl2bWEtPnZtX3ByaXZhdGVfZGF0YSA9IE5VTEw7DQo+
ICsJCXJldHVybiBkbWFfYnVmX21tYXAob2JqLT5kbWFfYnVmLCB2bWEsIDApOw0KPiArCX0N
Cj4gKw0KPiArCXZtYS0+dm1fZmxhZ3MgfD0gVk1fUEZOTUFQIHwgVk1fRE9OVEVYUEFORDsN
Cj4gKwl2bWEtPnZtX3BhZ2VfcHJvdCA9IGl2cHVfYm9fcGdwcm90KGJvLCB2bV9nZXRfcGFn
ZV9wcm90KHZtYS0+dm1fZmxhZ3MpKTsNCj4gKw0KPiArCXJldHVybiAwOw0KPiArfQ0KPiAr
DQo+ICtzdGF0aWMgc3RydWN0IHNnX3RhYmxlICppdnB1X2JvX2dldF9zZ190YWJsZShzdHJ1
Y3QgZHJtX2dlbV9vYmplY3QgKm9iaikNCj4gK3sNCj4gKwlzdHJ1Y3QgaXZwdV9ibyAqYm8g
PSB0b19pdnB1X2JvKG9iaik7DQo+ICsJbG9mZl90IG5wYWdlcyA9IG9iai0+c2l6ZSA+PiBQ
QUdFX1NISUZUOw0KPiArCWludCByZXQgPSAwOw0KPiArDQo+ICsJbXV0ZXhfbG9jaygmYm8t
PmxvY2spOw0KPiArDQo+ICsJaWYgKCFiby0+c2d0KQ0KPiArCQlyZXQgPSBpdnB1X2JvX2Fs
bG9jX2FuZF9tYXBfcGFnZXNfbG9ja2VkKGJvKTsNCj4gKw0KPiArCW11dGV4X3VubG9jaygm
Ym8tPmxvY2spOw0KPiArDQo+ICsJaWYgKHJldCkNCj4gKwkJcmV0dXJuIEVSUl9QVFIocmV0
KTsNCj4gKw0KPiArCXJldHVybiBkcm1fcHJpbWVfcGFnZXNfdG9fc2cob2JqLT5kZXYsIGJv
LT5wYWdlcywgbnBhZ2VzKTsNCj4gK30NCj4gKw0KPiArc3RhdGljIHZtX2ZhdWx0X3QgaXZw
dV92bV9mYXVsdChzdHJ1Y3Qgdm1fZmF1bHQgKnZtZikNCj4gK3sNCj4gKwlzdHJ1Y3Qgdm1f
YXJlYV9zdHJ1Y3QgKnZtYSA9IHZtZi0+dm1hOw0KPiArCXN0cnVjdCBkcm1fZ2VtX29iamVj
dCAqb2JqID0gdm1hLT52bV9wcml2YXRlX2RhdGE7DQo+ICsJc3RydWN0IGl2cHVfYm8gKmJv
ID0gdG9faXZwdV9ibyhvYmopOw0KPiArCWxvZmZfdCBucGFnZXMgPSBvYmotPnNpemUgPj4g
UEFHRV9TSElGVDsNCj4gKwlwZ29mZl90IHBhZ2Vfb2Zmc2V0Ow0KPiArCXN0cnVjdCBwYWdl
ICpwYWdlOw0KPiArCXZtX2ZhdWx0X3QgcmV0Ow0KPiArCWludCBlcnI7DQo+ICsNCj4gKwlt
dXRleF9sb2NrKCZiby0+bG9jayk7DQo+ICsNCj4gKwlpZiAoIWJvLT5zZ3QpIHsNCj4gKwkJ
ZXJyID0gaXZwdV9ib19hbGxvY19hbmRfbWFwX3BhZ2VzX2xvY2tlZChibyk7DQo+ICsJCWlm
IChlcnIpIHsNCj4gKwkJCXJldCA9IHZtZl9lcnJvcihlcnIpOw0KPiArCQkJZ290byB1bmxv
Y2s7DQo+ICsJCX0NCj4gKwl9DQo+ICsNCj4gKwkvKiBXZSBkb24ndCB1c2Ugdm1mLT5wZ29m
ZiBzaW5jZSB0aGF0IGhhcyB0aGUgZmFrZSBvZmZzZXQgKi8NCj4gKwlwYWdlX29mZnNldCA9
ICh2bWYtPmFkZHJlc3MgLSB2bWEtPnZtX3N0YXJ0KSA+PiBQQUdFX1NISUZUOw0KPiArCWlm
IChwYWdlX29mZnNldCA+PSBucGFnZXMpIHsNCj4gKwkJcmV0ID0gVk1fRkFVTFRfU0lHQlVT
Ow0KPiArCX0gZWxzZSB7DQo+ICsJCXBhZ2UgPSBiby0+cGFnZXNbcGFnZV9vZmZzZXRdOw0K
PiArCQlyZXQgPSB2bWZfaW5zZXJ0X3Bmbih2bWEsIHZtZi0+YWRkcmVzcywgcGFnZV90b19w
Zm4ocGFnZSkpOw0KPiArCX0NCj4gKw0KPiArdW5sb2NrOg0KPiArCW11dGV4X3VubG9jaygm
Ym8tPmxvY2spOw0KPiArDQo+ICsJcmV0dXJuIHJldDsNCj4gK30NCj4gKw0KPiArc3RhdGlj
IGNvbnN0IHN0cnVjdCB2bV9vcGVyYXRpb25zX3N0cnVjdCBpdnB1X3ZtX29wcyA9IHsNCj4g
KwkuZmF1bHQgPSBpdnB1X3ZtX2ZhdWx0LA0KPiArCS5vcGVuID0gZHJtX2dlbV92bV9vcGVu
LA0KPiArCS5jbG9zZSA9IGRybV9nZW1fdm1fY2xvc2UsDQo+ICt9Ow0KPiArDQo+ICtzdGF0
aWMgY29uc3Qgc3RydWN0IGRybV9nZW1fb2JqZWN0X2Z1bmNzIGl2cHVfZ2VtX2Z1bmNzID0g
ew0KPiArCS5mcmVlID0gaXZwdV9ib19mcmVlLA0KPiArCS5tbWFwID0gaXZwdV9ib19tbWFw
LA0KPiArCS52bV9vcHMgPSAmaXZwdV92bV9vcHMsDQo+ICsJLmdldF9zZ190YWJsZSA9IGl2
cHVfYm9fZ2V0X3NnX3RhYmxlLA0KPiArfTsNCj4gKw0KPiAraW50DQo+ICtpdnB1X2JvX2Ny
ZWF0ZV9pb2N0bChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB2b2lkICpkYXRhLCBzdHJ1Y3Qg
ZHJtX2ZpbGUgKmZpbGUpDQo+ICt7DQo+ICsJc3RydWN0IGl2cHVfZmlsZV9wcml2ICpmaWxl
X3ByaXYgPSBmaWxlLT5kcml2ZXJfcHJpdjsNCj4gKwlzdHJ1Y3QgaXZwdV9kZXZpY2UgKnZk
ZXYgPSBmaWxlX3ByaXYtPnZkZXY7DQo+ICsJc3RydWN0IGRybV9pdnB1X2JvX2NyZWF0ZSAq
YXJncyA9IGRhdGE7DQo+ICsJc3RydWN0IGl2cHVfYm8gKmJvOw0KPiArCWludCByZXQ7DQo+
ICsNCj4gKwlpZiAoYXJncy0+ZmxhZ3MgJiB+RFJNX0lWUFVfQk9fRkxBR1MpDQo+ICsJCXJl
dHVybiAtRUlOVkFMOw0KPiArDQo+ICsJaWYgKGFyZ3MtPnNpemUgPT0gMCkNCj4gKwkJcmV0
dXJuIC1FSU5WQUw7DQo+ICsNCj4gKwlyZXQgPSBpdnB1X21tdV91c2VyX2NvbnRleHRfaW5p
dChmaWxlX3ByaXYpOw0KPiArCWlmIChyZXQpDQo+ICsJCXJldHVybiByZXQ7DQo+ICsNCj4g
KwlibyA9IGl2cHVfYm9fYWxsb2ModmRldiwgJmZpbGVfcHJpdi0+Y3R4LCBhcmdzLT5zaXpl
LCBhcmdzLT5mbGFncywNCj4gKwkJCSAgICZzaG1lbV9vcHMsIE5VTEwsIDApOw0KPiArCWlm
IChJU19FUlIoYm8pKSB7DQo+ICsJCWl2cHVfZXJyKHZkZXYsICJGYWlsZWQgdG8gY3JlYXRl
IEJPOiAlcGUgKGN0eCAldSBzaXplICVsbHUgZmxhZ3MgMHgleCkiLA0KPiArCQkJIGJvLCBm
aWxlX3ByaXYtPmN0eC5pZCwgYXJncy0+c2l6ZSwgYXJncy0+ZmxhZ3MpOw0KPiArCQlyZXR1
cm4gUFRSX0VSUihibyk7DQo+ICsJfQ0KPiArDQo+ICsJcmV0ID0gZHJtX2dlbV9oYW5kbGVf
Y3JlYXRlKGZpbGUsICZiby0+YmFzZSwgJmJvLT5oYW5kbGUpOw0KPiArCWlmICghcmV0KSB7
DQo+ICsJCWFyZ3MtPnZwdV9hZGRyID0gYm8tPnZwdV9hZGRyOw0KPiArCQlhcmdzLT5oYW5k
bGUgPSBiby0+aGFuZGxlOw0KPiArCX0NCj4gKw0KPiArCWRybV9nZW1fb2JqZWN0X3B1dCgm
Ym8tPmJhc2UpOw0KPiArDQo+ICsJaXZwdV9kYmcoQk8sICJhbGxvYyBzaG1lbTogY3R4ICV1
IHZwdV9hZGRyIDB4JWxseCBzaXplICV6dSBmbGFncyAweCV4XG4iLA0KPiArCQkgZmlsZV9w
cml2LT5jdHguaWQsIGJvLT52cHVfYWRkciwgYm8tPmJhc2Uuc2l6ZSwgYm8tPmZsYWdzKTsN
Cj4gKw0KPiArCXJldHVybiByZXQ7DQo+ICt9DQo+ICsNCj4gK2ludA0KPiAraXZwdV9ib191
c2VycHRyX2lvY3RsKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHZvaWQgKmRhdGEsIHN0cnVj
dCBkcm1fZmlsZSAqZmlsZSkNCj4gK3sNCj4gKwlzdHJ1Y3QgaXZwdV9maWxlX3ByaXYgKmZp
bGVfcHJpdiA9IGZpbGUtPmRyaXZlcl9wcml2Ow0KPiArCXN0cnVjdCBpdnB1X2RldmljZSAq
dmRldiA9IGZpbGVfcHJpdi0+dmRldjsNCj4gKwlzdHJ1Y3QgZHJtX2l2cHVfYm9fdXNlcnB0
ciAqYXJncyA9IGRhdGE7DQo+ICsJc3RydWN0IGl2cHVfYm8gKmJvOw0KPiArCWludCByZXQ7
DQo+ICsNCj4gKwlpZiAoYXJncy0+dXNlcl9wdHIgPT0gMCB8fCAhUEFHRV9BTElHTkVEKGFy
Z3MtPnVzZXJfcHRyKSkNCj4gKwkJcmV0dXJuIC1FSU5WQUw7DQo+ICsNCj4gKwlpZiAoYXJn
cy0+dXNlcl9zaXplID09IDAgfHwgIVBBR0VfQUxJR05FRChhcmdzLT51c2VyX3NpemUpKQ0K
PiArCQlyZXR1cm4gLUVJTlZBTDsNCj4gKw0KPiArCWlmIChhcmdzLT5mbGFncyAmIH5EUk1f
SVZQVV9CT19ISUdIX01FTSkNCj4gKwkJcmV0dXJuIC1FSU5WQUw7DQo+ICsNCj4gKwlpZiAo
IWFjY2Vzc19vaygoY29uc3Qgdm9pZCBfX3VzZXIgKilhcmdzLT51c2VyX3B0ciwgYXJncy0+
dXNlcl9zaXplKSkNCj4gKwkJcmV0dXJuIC1FRkFVTFQ7DQo+ICsNCj4gKwlyZXQgPSBpdnB1
X21tdV91c2VyX2NvbnRleHRfaW5pdChmaWxlX3ByaXYpOw0KPiArCWlmIChyZXQpDQo+ICsJ
CXJldHVybiByZXQ7DQo+ICsNCj4gKwlibyA9IGl2cHVfYm9fYWxsb2ModmRldiwgJmZpbGVf
cHJpdi0+Y3R4LCBhcmdzLT51c2VyX3NpemUsIGFyZ3MtPmZsYWdzLA0KPiArCQkJICAgJnVz
ZXJwdHJfb3BzLCBOVUxMLCBhcmdzLT51c2VyX3B0cik7DQo+ICsJaWYgKElTX0VSUihibykp
IHsNCj4gKwkJaXZwdV9lcnIodmRldiwgIkZhaWxlZCB0byBjcmVhdGUgQk86ICVwZSAoY3R4
ICV1IHNpemUgJWxsdSBmbGFncyAweCV4KSIsDQo+ICsJCQkgYm8sIGZpbGVfcHJpdi0+Y3R4
LmlkLCBhcmdzLT51c2VyX3NpemUsIGFyZ3MtPmZsYWdzKTsNCj4gKwkJcmV0dXJuIFBUUl9F
UlIoYm8pOw0KPiArCX0NCj4gKw0KPiArCWlmICghYm8pDQo+ICsJCXJldHVybiAtRU5PTUVN
Ow0KPiArDQo+ICsJcmV0ID0gZHJtX2dlbV9oYW5kbGVfY3JlYXRlKGZpbGUsICZiby0+YmFz
ZSwgJmJvLT5oYW5kbGUpOw0KPiArCWlmICghcmV0KSB7DQo+ICsJCWFyZ3MtPnZwdV9hZGRy
ID0gYm8tPnZwdV9hZGRyOw0KPiArCQlhcmdzLT5oYW5kbGUgPSBiby0+aGFuZGxlOw0KPiAr
CX0NCj4gKw0KPiArCWRybV9nZW1fb2JqZWN0X3B1dCgmYm8tPmJhc2UpOw0KPiArDQo+ICsJ
aXZwdV9kYmcoQk8sICJhbGxvYyB1c2VycHRyOiBjdHggJXUgdnB1X2FkZHIgMHglbGx4IHNp
emUgJXp1IGZsYWdzIDB4JXhcbiIsDQo+ICsJCSBmaWxlX3ByaXYtPmN0eC5pZCwgYm8tPnZw
dV9hZGRyLCBiby0+YmFzZS5zaXplLCBhcmdzLT5mbGFncyk7DQo+ICsNCj4gKwlyZXR1cm4g
cmV0Ow0KPiArfQ0KPiArDQo+ICtzdHJ1Y3QgaXZwdV9ibyAqDQo+ICtpdnB1X2JvX2FsbG9j
X2ludGVybmFsKHN0cnVjdCBpdnB1X2RldmljZSAqdmRldiwgdTY0IHZwdV9hZGRyLCB1NjQg
c2l6ZSwgdTMyIGZsYWdzKQ0KPiArew0KPiArCWNvbnN0IHN0cnVjdCBpdnB1X2FkZHJfcmFu
Z2UgKnJhbmdlOw0KPiArCXN0cnVjdCBpdnB1X2FkZHJfcmFuZ2UgZml4ZWRfcmFuZ2U7DQo+
ICsJc3RydWN0IGl2cHVfYm8gKmJvOw0KPiArCXBncHJvdF90IHByb3Q7DQo+ICsJaW50IHJl
dDsNCj4gKw0KPiArCVdBUk5fT04oIVBBR0VfQUxJR05FRCh2cHVfYWRkcikpOw0KPiArCVdB
Uk5fT04oIVBBR0VfQUxJR05FRChzaXplKSk7DQo+ICsNCj4gKwlpZiAodnB1X2FkZHIpIHsN
Cj4gKwkJZml4ZWRfcmFuZ2Uuc3RhcnQgPSB2cHVfYWRkcjsNCj4gKwkJZml4ZWRfcmFuZ2Uu
ZW5kID0gdnB1X2FkZHIgKyBzaXplOw0KPiArCQlyYW5nZSA9ICZmaXhlZF9yYW5nZTsNCj4g
Kwl9IGVsc2Ugew0KPiArCQlyYW5nZSA9ICZ2ZGV2LT5ody0+cmFuZ2VzLmdsb2JhbF9sb3c7
DQo+ICsJfQ0KPiArDQo+ICsJYm8gPSBpdnB1X2JvX2FsbG9jKHZkZXYsICZ2ZGV2LT5nY3R4
LCBzaXplLCBmbGFncywgJmludGVybmFsX29wcywgcmFuZ2UsIDApOw0KPiArCWlmIChJU19F
UlIoYm8pKSB7DQo+ICsJCWl2cHVfZXJyKHZkZXYsICJGYWlsZWQgdG8gY3JlYXRlIEJPOiAl
cGUgKHZwdV9hZGRyIDB4JWxseCBzaXplICVsbHUgZmxhZ3MgMHgleCkiLA0KPiArCQkJIGJv
LCB2cHVfYWRkciwgc2l6ZSwgZmxhZ3MpOw0KPiArCQlyZXR1cm4gTlVMTDsNCj4gKwl9DQo+
ICsNCj4gKwlyZXQgPSBpdnB1X2JvX3Bpbihibyk7DQo+ICsJaWYgKHJldCkNCj4gKwkJZ290
byBlcnJfcHV0Ow0KPiArDQo+ICsJaWYgKGl2cHVfYm9fY2FjaGVfbW9kZShibykgIT0gRFJN
X0lWUFVfQk9fQ0FDSEVEKQ0KPiArCQlkcm1fY2xmbHVzaF9wYWdlcyhiby0+cGFnZXMsIGJv
LT5iYXNlLnNpemUgPj4gUEFHRV9TSElGVCk7DQo+ICsNCj4gKwlwcm90ID0gaXZwdV9ib19w
Z3Byb3QoYm8sIFBBR0VfS0VSTkVMKTsNCj4gKwliby0+a3ZhZGRyID0gdm1hcChiby0+cGFn
ZXMsIGJvLT5iYXNlLnNpemUgPj4gUEFHRV9TSElGVCwgVk1fTUFQLCBwcm90KTsNCj4gKwlp
ZiAoIWJvLT5rdmFkZHIpIHsNCj4gKwkJaXZwdV9lcnIodmRldiwgIkZhaWxlZCB0byBtYXAg
Qk8gaW50byBrZXJuZWwgdmlydHVhbCBtZW1vcnlcbiIpOw0KPiArCQlnb3RvIGVycl9wdXQ7
DQo+ICsJfQ0KPiArDQo+ICsJaXZwdV9kYmcoQk8sICJhbGxvYyBpbnRlcm5hbDogY3R4IDAg
dnB1X2FkZHIgMHglbGx4IHNpemUgJXp1IGZsYWdzIDB4JXhcbiIsDQo+ICsJCSBiby0+dnB1
X2FkZHIsIGJvLT5iYXNlLnNpemUsIGZsYWdzKTsNCj4gKw0KPiArCXJldHVybiBibzsNCj4g
Kw0KPiArZXJyX3B1dDoNCj4gKwlkcm1fZ2VtX29iamVjdF9wdXQoJmJvLT5iYXNlKTsNCj4g
KwlyZXR1cm4gTlVMTDsNCj4gK30NCj4gKw0KPiArdm9pZCBpdnB1X2JvX2ZyZWVfaW50ZXJu
YWwoc3RydWN0IGl2cHVfYm8gKmJvKQ0KPiArew0KPiArCWRybV9nZW1fb2JqZWN0X3B1dCgm
Ym8tPmJhc2UpOw0KPiArfQ0KPiArDQo+ICtzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKml2cHVf
Z2VtX3ByaW1lX2ltcG9ydChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCBzdHJ1Y3QgZG1hX2J1
ZiAqYnVmKQ0KPiArew0KPiArCXN0cnVjdCBpdnB1X2RldmljZSAqdmRldiA9IHRvX2l2cHVf
ZGV2aWNlKGRldik7DQo+ICsJc3RydWN0IGRtYV9idWZfYXR0YWNobWVudCAqYXR0YWNoOw0K
PiArCXN0cnVjdCBpdnB1X2JvICpibzsNCj4gKw0KPiArCWF0dGFjaCA9IGRtYV9idWZfYXR0
YWNoKGJ1ZiwgZGV2LT5kZXYpOw0KPiArCWlmIChJU19FUlIoYXR0YWNoKSkNCj4gKwkJcmV0
dXJuIEVSUl9DQVNUKGF0dGFjaCk7DQo+ICsNCj4gKwlnZXRfZG1hX2J1ZihidWYpOw0KPiAr
DQo+ICsJYm8gPSBpdnB1X2JvX2FsbG9jKHZkZXYsIE5VTEwsIGJ1Zi0+c2l6ZSwgRFJNX0lW
UFVfQk9fTUFQUEFCTEUsICZwcmltZV9vcHMsIE5VTEwsIDApOw0KPiArCWlmIChJU19FUlIo
Ym8pKSB7DQo+ICsJCWl2cHVfZXJyKHZkZXYsICJGYWlsZWQgdG8gaW1wb3J0IEJPOiAlcGUg
KHNpemUgJWx1KSIsIGJvLCBidWYtPnNpemUpOw0KPiArCQlnb3RvIGVycl9kZXRhY2g7DQo+
ICsJfQ0KPiArDQo+ICsJYm8tPmJhc2UuaW1wb3J0X2F0dGFjaCA9IGF0dGFjaDsNCj4gKwli
by0+YmFzZS5yZXN2ID0gYnVmLT5yZXN2Ow0KPiArDQo+ICsJcmV0dXJuICZiby0+YmFzZTsN
Cj4gKw0KPiArZXJyX2RldGFjaDoNCj4gKwlkbWFfYnVmX2RldGFjaChidWYsIGF0dGFjaCk7
DQo+ICsJZG1hX2J1Zl9wdXQoYnVmKTsNCj4gKwlyZXR1cm4gRVJSX0NBU1QoYm8pOw0KPiAr
fQ0KPiArDQo+ICtpbnQgaXZwdV9ib19pbmZvX2lvY3RsKHN0cnVjdCBkcm1fZGV2aWNlICpk
ZXYsIHZvaWQgKmRhdGEsIHN0cnVjdCBkcm1fZmlsZSAqZmlsZSkNCj4gK3sNCj4gKwlzdHJ1
Y3QgaXZwdV9maWxlX3ByaXYgKmZpbGVfcHJpdiA9IGZpbGUtPmRyaXZlcl9wcml2Ow0KPiAr
CXN0cnVjdCBpdnB1X2RldmljZSAqdmRldiA9IHRvX2l2cHVfZGV2aWNlKGRldik7DQo+ICsJ
c3RydWN0IGRybV9pdnB1X2JvX2luZm8gKmFyZ3MgPSBkYXRhOw0KPiArCXN0cnVjdCBkcm1f
Z2VtX29iamVjdCAqb2JqOw0KPiArCXN0cnVjdCBpdnB1X2JvICpibzsNCj4gKwlpbnQgcmV0
Ow0KPiArDQo+ICsJb2JqID0gZHJtX2dlbV9vYmplY3RfbG9va3VwKGZpbGUsIGFyZ3MtPmhh
bmRsZSk7DQo+ICsJaWYgKCFvYmopDQo+ICsJCXJldHVybiAtRU5PRU5UOw0KPiArDQo+ICsJ
cmV0ID0gaXZwdV9tbXVfdXNlcl9jb250ZXh0X2luaXQoZmlsZV9wcml2KTsNCj4gKwlpZiAo
cmV0KQ0KPiArCQlnb3RvIG9ial9wdXQ7DQo+ICsNCj4gKwlibyA9IHRvX2l2cHVfYm8ob2Jq
KTsNCj4gKw0KPiArCW11dGV4X2xvY2soJmJvLT5sb2NrKTsNCj4gKw0KPiArCWlmICghYm8t
PmN0eCkgew0KPiArCQlyZXQgPSBpdnB1X2JvX2FsbG9jX3ZwdV9hZGRyKGJvLCAmZmlsZV9w
cml2LT5jdHgsIE5VTEwpOw0KPiArCQlpZiAocmV0KSB7DQo+ICsJCQlpdnB1X2Vycih2ZGV2
LCAiRmFpbGVkIHRvIGFsbG9jYXRlIHZwdV9hZGRyOiAlZFxuIiwgcmV0KTsNCj4gKwkJCWdv
dG8gdW5sb2NrOw0KPiArCQl9DQo+ICsJfQ0KPiArDQo+ICsJYXJncy0+ZmxhZ3MgPSBiby0+
ZmxhZ3M7DQo+ICsJYXJncy0+bW1hcF9vZmZzZXQgPSBkcm1fdm1hX25vZGVfb2Zmc2V0X2Fk
ZHIoJm9iai0+dm1hX25vZGUpOw0KPiArCWFyZ3MtPnZwdV9hZGRyID0gYm8tPnZwdV9hZGRy
Ow0KPiArCWFyZ3MtPnNpemUgPSBvYmotPnNpemU7DQo+ICt1bmxvY2s6DQo+ICsJbXV0ZXhf
dW5sb2NrKCZiby0+bG9jayk7DQo+ICtvYmpfcHV0Og0KPiArCWRybV9nZW1fb2JqZWN0X3B1
dChvYmopOw0KPiArCXJldHVybiByZXQ7DQo+ICt9DQo+ICsNCj4gK3N0YXRpYyB2b2lkIGl2
cHVfYm9fcHJpbnRfaW5mbyhzdHJ1Y3QgaXZwdV9ibyAqYm8sIHN0cnVjdCBkcm1fcHJpbnRl
ciAqcCkNCj4gK3sNCj4gKwl1bnNpZ25lZCBsb25nIGRtYV9yZWZjb3VudCA9IDA7DQo+ICsN
Cj4gKwlpZiAoYm8tPmJhc2UuZG1hX2J1ZiAmJiBiby0+YmFzZS5kbWFfYnVmLT5maWxlKQ0K
PiArCQlkbWFfcmVmY291bnQgPSBhdG9taWNfbG9uZ19yZWFkKCZiby0+YmFzZS5kbWFfYnVm
LT5maWxlLT5mX2NvdW50KTsNCj4gKw0KPiArCWRybV9wcmludGYocCwgIiU1dSAlNmQgJTE2
bGx4ICUxMGx1ICUxMHUgJTEybHUgJTE0c1xuIiwNCj4gKwkJICAgYm8tPmN0eC0+aWQsIGJv
LT5oYW5kbGUsIGJvLT52cHVfYWRkciwgYm8tPmJhc2Uuc2l6ZSwNCj4gKwkJICAga3JlZl9y
ZWFkKCZiby0+YmFzZS5yZWZjb3VudCksIGRtYV9yZWZjb3VudCwgYm8tPm9wcy0+bmFtZSk7
DQo+ICt9DQo+ICsNCj4gK3ZvaWQgaXZwdV9ib19saXN0KHN0cnVjdCBkcm1fZGV2aWNlICpk
ZXYsIHN0cnVjdCBkcm1fcHJpbnRlciAqcCkNCj4gK3sNCj4gKwlzdHJ1Y3QgaXZwdV9kZXZp
Y2UgKnZkZXYgPSB0b19pdnB1X2RldmljZShkZXYpOw0KPiArCXN0cnVjdCBpdnB1X2ZpbGVf
cHJpdiAqZmlsZV9wcml2Ow0KPiArCXVuc2lnbmVkIGxvbmcgY3R4X2lkOw0KPiArCXN0cnVj
dCBpdnB1X2JvICpibzsNCj4gKw0KPiArCWRybV9wcmludGYocCwgIiU1cyAlNnMgJTE2cyAl
MTBzICUxMHMgJTEycyAlMTRzXG4iLA0KPiArCQkgICAiY3R4IiwgImhhbmRsZSIsICJ2cHVf
YWRkciIsICJzaXplIiwgInJlZmNvdW50IiwgImRtYV9yZWZjb3VudCIsICJ0eXBlIik7DQo+
ICsNCj4gKwlsaXN0X2Zvcl9lYWNoX2VudHJ5KGJvLCAmdmRldi0+Z2N0eC5ib19saXN0LCBj
dHhfbm9kZSkgew0KPiArCQltdXRleF9sb2NrKCZ2ZGV2LT5nY3R4LmxvY2spOw0KPiArCQlp
dnB1X2JvX3ByaW50X2luZm8oYm8sIHApOw0KPiArCQltdXRleF91bmxvY2soJnZkZXYtPmdj
dHgubG9jayk7DQo+ICsJfQ0KPiArDQo+ICsJeGFfZm9yX2VhY2goJnZkZXYtPmNvbnRleHRf
eGEsIGN0eF9pZCwgZmlsZV9wcml2KSB7DQo+ICsJCWlmICghZmlsZV9wcml2KQ0KPiArCQkJ
Y29udGludWU7DQo+ICsNCj4gKwkJbXV0ZXhfbG9jaygmZmlsZV9wcml2LT5jdHgubG9jayk7
DQo+ICsJCWxpc3RfZm9yX2VhY2hfZW50cnkoYm8sICZmaWxlX3ByaXYtPmN0eC5ib19saXN0
LCBjdHhfbm9kZSkNCj4gKwkJCWl2cHVfYm9fcHJpbnRfaW5mbyhibywgcCk7DQo+ICsJCW11
dGV4X3VubG9jaygmZmlsZV9wcml2LT5jdHgubG9jayk7DQo+ICsJfQ0KPiArfQ0KPiArDQo+
ICt2b2lkIGl2cHVfYm9fbGlzdF9wcmludChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2KQ0KPiAr
ew0KPiArCXN0cnVjdCBkcm1fcHJpbnRlciBwID0gZHJtX2luZm9fcHJpbnRlcihkZXYtPmRl
dik7DQo+ICsNCj4gKwlpdnB1X2JvX2xpc3QoZGV2LCAmcCk7DQo+ICt9DQo+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vaXZwdS9pdnB1X2dlbS5oIGIvZHJpdmVycy9ncHUvZHJt
L2l2cHUvaXZwdV9nZW0uaA0KPiBuZXcgZmlsZSBtb2RlIDEwMDY0NA0KPiBpbmRleCAwMDAw
MDAwMDAwMDAuLmNlYWIwYTIwOGNiZA0KPiAtLS0gL2Rldi9udWxsDQo+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS9pdnB1L2l2cHVfZ2VtLmgNCj4gQEAgLTAsMCArMSwxMjggQEANCj4gKy8q
IFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wLW9ubHkgKi8NCj4gKy8qDQo+ICsg
KiBDb3B5cmlnaHQgwqkgMjAyMC0yMDIyIEludGVsIENvcnBvcmF0aW9uDQo+ICsgKi8NCj4g
KyNpZm5kZWYgX19JVlBVX0dFTV9IX18NCj4gKyNkZWZpbmUgX19JVlBVX0dFTV9IX18NCj4g
Kw0KPiArI2luY2x1ZGUgPGRybS9kcm1fZ2VtLmg+DQo+ICsjaW5jbHVkZSA8ZHJtL2RybV9t
bS5oPg0KPiArDQo+ICtzdHJ1Y3QgZG1hX2J1ZjsNCj4gK3N0cnVjdCBpdnB1X2JvX29wczsN
Cj4gK3N0cnVjdCBpdnB1X2ZpbGVfcHJpdjsNCj4gKw0KPiArc3RydWN0IGl2cHVfYm8gew0K
PiArCXN0cnVjdCBkcm1fZ2VtX29iamVjdCBiYXNlOw0KPiArCWNvbnN0IHN0cnVjdCBpdnB1
X2JvX29wcyAqb3BzOw0KPiArDQo+ICsJc3RydWN0IGl2cHVfbW11X2NvbnRleHQgKmN0eDsN
Cj4gKwlzdHJ1Y3QgbGlzdF9oZWFkIGN0eF9ub2RlOw0KPiArCXN0cnVjdCBkcm1fbW1fbm9k
ZSBtbV9ub2RlOw0KPiArDQo+ICsJc3RydWN0IG11dGV4IGxvY2s7IC8qIFByb3RlY3RzOiBw
YWdlcywgc2d0LCBtbXVfbWFwcGVkICovDQo+ICsJc3RydWN0IHNnX3RhYmxlICpzZ3Q7DQo+
ICsJc3RydWN0IHBhZ2UgKipwYWdlczsNCj4gKwlib29sIG1tdV9tYXBwZWQ7DQo+ICsNCj4g
Kwl2b2lkICprdmFkZHI7DQo+ICsJdTY0IHZwdV9hZGRyOw0KPiArCXUzMiBoYW5kbGU7DQo+
ICsJdTMyIGZsYWdzOw0KPiArCXVpbnRwdHJfdCB1c2VyX3B0cjsNCj4gK307DQo+ICsNCj4g
K2VudW0gaXZwdV9ib190eXBlIHsNCj4gKwlJVlBVX0JPX1RZUEVfU0hNRU0gPSAxLA0KPiAr
CUlWUFVfQk9fVFlQRV9VU0VSUFRSLA0KPiArCUlWUFVfQk9fVFlQRV9JTlRFUk5BTCwNCj4g
KwlJVlBVX0JPX1RZUEVfUFJJTUUsDQo+ICt9Ow0KPiArDQo+ICtzdHJ1Y3QgaXZwdV9ib19v
cHMgew0KPiArCWVudW0gaXZwdV9ib190eXBlIHR5cGU7DQo+ICsJY29uc3QgY2hhciAqbmFt
ZTsNCj4gKwlpbnQgKCphbGxvY19wYWdlcykoc3RydWN0IGl2cHVfYm8gKmJvKTsNCj4gKwl2
b2lkICgqZnJlZV9wYWdlcykoc3RydWN0IGl2cHVfYm8gKmJvKTsNCj4gKwlpbnQgKCptYXBf
cGFnZXMpKHN0cnVjdCBpdnB1X2JvICpibyk7DQo+ICsJdm9pZCAoKnVubWFwX3BhZ2VzKShz
dHJ1Y3QgaXZwdV9ibyAqYm8pOw0KPiArfTsNCj4gKw0KPiAraW50IGl2cHVfYm9fcGluKHN0
cnVjdCBpdnB1X2JvICpibyk7DQo+ICt2b2lkIGl2cHVfYm9fcmVtb3ZlX2FsbF9ib3NfZnJv
bV9jb250ZXh0KHN0cnVjdCBpdnB1X21tdV9jb250ZXh0ICpjdHgpOw0KPiArdm9pZCBpdnB1
X2JvX2xpc3Qoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgc3RydWN0IGRybV9wcmludGVyICpw
KTsNCj4gK3ZvaWQgaXZwdV9ib19saXN0X3ByaW50KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYp
Ow0KPiArDQo+ICtzdHJ1Y3QgaXZwdV9ibyAqDQo+ICtpdnB1X2JvX2FsbG9jX2ludGVybmFs
KHN0cnVjdCBpdnB1X2RldmljZSAqdmRldiwgdTY0IHZwdV9hZGRyLCB1NjQgc2l6ZSwgdTMy
IGZsYWdzKTsNCj4gK3ZvaWQgaXZwdV9ib19mcmVlX2ludGVybmFsKHN0cnVjdCBpdnB1X2Jv
ICpibyk7DQo+ICtzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKml2cHVfZ2VtX3ByaW1lX2ltcG9y
dChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCBzdHJ1Y3QgZG1hX2J1ZiAqZG1hX2J1Zik7DQo+
ICt2b2lkIGl2cHVfYm9fdW5tYXBfc2d0X2FuZF9yZW1vdmVfZnJvbV9jb250ZXh0KHN0cnVj
dCBpdnB1X2JvICpibyk7DQo+ICsNCj4gK2ludCBpdnB1X2JvX2NyZWF0ZV9pb2N0bChzdHJ1
Y3QgZHJtX2RldmljZSAqZGV2LCB2b2lkICpkYXRhLCBzdHJ1Y3QgZHJtX2ZpbGUgKmZpbGUp
Ow0KPiAraW50IGl2cHVfYm9faW5mb19pb2N0bChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB2
b2lkICpkYXRhLCBzdHJ1Y3QgZHJtX2ZpbGUgKmZpbGUpOw0KPiAraW50IGl2cHVfYm9fdXNl
cnB0cl9pb2N0bChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB2b2lkICpkYXRhLCBzdHJ1Y3Qg
ZHJtX2ZpbGUgKmZpbGUpOw0KPiAraW50IGl2cHVfYm9fd2FpdF9pb2N0bChzdHJ1Y3QgZHJt
X2RldmljZSAqZGV2LCB2b2lkICpkYXRhLCBzdHJ1Y3QgZHJtX2ZpbGUgKmZpbGUpOw0KPiAr
DQo+ICtzdGF0aWMgaW5saW5lIHN0cnVjdCBpdnB1X2JvICp0b19pdnB1X2JvKHN0cnVjdCBk
cm1fZ2VtX29iamVjdCAqb2JqKQ0KPiArew0KPiArCXJldHVybiBjb250YWluZXJfb2Yob2Jq
LCBzdHJ1Y3QgaXZwdV9ibywgYmFzZSk7DQo+ICt9DQo+ICsNCj4gK3N0YXRpYyBpbmxpbmUg
c3RydWN0IHBhZ2UgKml2cHVfYm9fZ2V0X3BhZ2Uoc3RydWN0IGl2cHVfYm8gKmJvLCB1NjQg
b2Zmc2V0KQ0KPiArew0KPiArCWlmIChvZmZzZXQgPiBiby0+YmFzZS5zaXplIHx8ICFiby0+
cGFnZXMpDQo+ICsJCXJldHVybiBOVUxMOw0KPiArDQo+ICsJcmV0dXJuIGJvLT5wYWdlc1tv
ZmZzZXQgLyBQQUdFX1NJWkVdOw0KPiArfQ0KPiArDQo+ICtzdGF0aWMgaW5saW5lIHUzMiBp
dnB1X2JvX2NhY2hlX21vZGUoc3RydWN0IGl2cHVfYm8gKmJvKQ0KPiArew0KPiArCXJldHVy
biBiby0+ZmxhZ3MgJiBEUk1fSVZQVV9CT19DQUNIRV9NQVNLOw0KPiArfQ0KPiArDQo+ICtz
dGF0aWMgaW5saW5lIGJvb2wgaXZwdV9ib19pc19zbm9vcGVkKHN0cnVjdCBpdnB1X2JvICpi
bykNCj4gK3sNCj4gKwlyZXR1cm4gaXZwdV9ib19jYWNoZV9tb2RlKGJvKSA9PSBEUk1fSVZQ
VV9CT19DQUNIRUQ7DQo+ICt9DQo+ICsNCj4gK3N0YXRpYyBpbmxpbmUgcGdwcm90X3QgaXZw
dV9ib19wZ3Byb3Qoc3RydWN0IGl2cHVfYm8gKmJvLCBwZ3Byb3RfdCBwcm90KQ0KPiArew0K
PiArCWlmIChiby0+ZmxhZ3MgJiBEUk1fSVZQVV9CT19XQykNCj4gKwkJcmV0dXJuIHBncHJv
dF93cml0ZWNvbWJpbmUocHJvdCk7DQo+ICsNCj4gKwlpZiAoYm8tPmZsYWdzICYgRFJNX0lW
UFVfQk9fVU5DQUNIRUQpDQo+ICsJCXJldHVybiBwZ3Byb3Rfbm9uY2FjaGVkKHByb3QpOw0K
PiArDQo+ICsJcmV0dXJuIHByb3Q7DQo+ICt9DQo+ICsNCj4gK3N0YXRpYyBpbmxpbmUgc3Ry
dWN0IGl2cHVfZGV2aWNlICppdnB1X2JvX3RvX3ZkZXYoc3RydWN0IGl2cHVfYm8gKmJvKQ0K
PiArew0KPiArCXJldHVybiBiby0+YmFzZS5kZXYtPmRldl9wcml2YXRlOw0KPiArfQ0KPiAr
DQo+ICtzdGF0aWMgaW5saW5lIHZvaWQgKml2cHVfdG9fY3B1X2FkZHIoc3RydWN0IGl2cHVf
Ym8gKmJvLCB1MzIgdnB1X2FkZHIpDQo+ICt7DQo+ICsJaWYgKHZwdV9hZGRyIDwgYm8tPnZw
dV9hZGRyKQ0KPiArCQlyZXR1cm4gTlVMTDsNCj4gKw0KPiArCWlmICh2cHVfYWRkciA+PSAo
Ym8tPnZwdV9hZGRyICsgYm8tPmJhc2Uuc2l6ZSkpDQo+ICsJCXJldHVybiBOVUxMOw0KPiAr
DQo+ICsJcmV0dXJuIGJvLT5rdmFkZHIgKyAodnB1X2FkZHIgLSBiby0+dnB1X2FkZHIpOw0K
PiArfQ0KPiArDQo+ICtzdGF0aWMgaW5saW5lIHUzMiBjcHVfdG9fdnB1X2FkZHIoc3RydWN0
IGl2cHVfYm8gKmJvLCB2b2lkICpjcHVfYWRkcikNCj4gK3sNCj4gKwlpZiAoY3B1X2FkZHIg
PCBiby0+a3ZhZGRyKQ0KPiArCQlyZXR1cm4gMDsNCj4gKw0KPiArCWlmIChjcHVfYWRkciA+
PSAoYm8tPmt2YWRkciArIGJvLT5iYXNlLnNpemUpKQ0KPiArCQlyZXR1cm4gMDsNCj4gKw0K
PiArCXJldHVybiBiby0+dnB1X2FkZHIgKyAoY3B1X2FkZHIgLSBiby0+a3ZhZGRyKTsNCj4g
K30NCj4gKw0KPiArI2VuZGlmIC8qIF9fSVZQVV9HRU1fSF9fICovDQo+IGRpZmYgLS1naXQg
YS9pbmNsdWRlL3VhcGkvZHJtL2l2cHVfZHJtLmggYi9pbmNsdWRlL3VhcGkvZHJtL2l2cHVf
ZHJtLmgNCj4gaW5kZXggY2I0OGQ2MTE4NDEyLi4zODhlMGQxZGY5MDYgMTAwNjQ0DQo+IC0t
LSBhL2luY2x1ZGUvdWFwaS9kcm0vaXZwdV9kcm0uaA0KPiArKysgYi9pbmNsdWRlL3VhcGkv
ZHJtL2l2cHVfZHJtLmgNCj4gQEAgLTE3LDYgKzE3LDkgQEAgZXh0ZXJuICJDIiB7DQo+ICAg
DQo+ICAgI2RlZmluZSBEUk1fSVZQVV9HRVRfUEFSQU0JCSAgMHgwMA0KPiAgICNkZWZpbmUg
RFJNX0lWUFVfU0VUX1BBUkFNCQkgIDB4MDENCj4gKyNkZWZpbmUgRFJNX0lWUFVfQk9fQ1JF
QVRFCQkgIDB4MDINCj4gKyNkZWZpbmUgRFJNX0lWUFVfQk9fSU5GTwkJICAweDAzDQo+ICsj
ZGVmaW5lIERSTV9JVlBVX0JPX1VTRVJQVFIJCSAgMHgwNA0KPiAgIA0KPiAgICNkZWZpbmUg
RFJNX0lPQ1RMX0lWUFVfR0VUX1BBUkFNICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBcDQo+ICAgCURSTV9JT1dSKERSTV9DT01NQU5EX0JBU0UgKyBE
Uk1fSVZQVV9HRVRfUEFSQU0sIHN0cnVjdCBkcm1faXZwdV9wYXJhbSkNCj4gQEAgLTI0LDYg
KzI3LDE1IEBAIGV4dGVybiAiQyIgew0KPiAgICNkZWZpbmUgRFJNX0lPQ1RMX0lWUFVfU0VU
X1BBUkFNICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBc
DQo+ICAgCURSTV9JT1coRFJNX0NPTU1BTkRfQkFTRSArIERSTV9JVlBVX1NFVF9QQVJBTSwg
c3RydWN0IGRybV9pdnB1X3BhcmFtKQ0KPiAgIA0KPiArI2RlZmluZSBEUk1fSU9DVExfSVZQ
VV9CT19DUkVBVEUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIFwNCj4gKwlEUk1fSU9XUihEUk1fQ09NTUFORF9CQVNFICsgRFJNX0lWUFVfQk9fQ1JF
QVRFLCBzdHJ1Y3QgZHJtX2l2cHVfYm9fY3JlYXRlKQ0KPiArDQo+ICsjZGVmaW5lIERSTV9J
T0NUTF9JVlBVX0JPX0lORk8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgXA0KPiArCURSTV9JT1dSKERSTV9DT01NQU5EX0JBU0UgKyBEUk1fSVZQ
VV9CT19JTkZPLCBzdHJ1Y3QgZHJtX2l2cHVfYm9faW5mbykNCj4gKw0KPiArI2RlZmluZSBE
Uk1fSU9DVExfSVZQVV9CT19VU0VSUFRSICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIFwNCj4gKwlEUk1fSU9XUihEUk1fQ09NTUFORF9CQVNFICsgRFJN
X0lWUFVfQk9fVVNFUlBUUiwgc3RydWN0IGRybV9pdnB1X2JvX3VzZXJwdHIpDQo+ICsNCj4g
ICAvKioNCj4gICAgKiBET0M6IGNvbnRleHRzDQo+ICAgICoNCj4gQEAgLTkyLDYgKzEwNCwx
MjEgQEAgc3RydWN0IGRybV9pdnB1X3BhcmFtIHsNCj4gICAJX191NjQgdmFsdWU7DQo+ICAg
fTsNCj4gICANCj4gKyNkZWZpbmUgRFJNX0lWUFVfQk9fSElHSF9NRU0gICAweDAwMDAwMDAx
DQo+ICsjZGVmaW5lIERSTV9JVlBVX0JPX01BUFBBQkxFICAgMHgwMDAwMDAwMg0KPiArDQo+
ICsjZGVmaW5lIERSTV9JVlBVX0JPX0NBQ0hFRCAgICAgMHgwMDAwMDAwMA0KPiArI2RlZmlu
ZSBEUk1fSVZQVV9CT19VTkNBQ0hFRCAgIDB4MDAwMTAwMDANCj4gKyNkZWZpbmUgRFJNX0lW
UFVfQk9fV0MJICAgICAgIDB4MDAwMjAwMDANCj4gKyNkZWZpbmUgRFJNX0lWUFVfQk9fQ0FD
SEVfTUFTSyAweDAwMDMwMDAwDQo+ICsNCj4gKyNkZWZpbmUgRFJNX0lWUFVfQk9fRkxBR1Mg
XA0KPiArCShEUk1fSVZQVV9CT19ISUdIX01FTSB8IFwNCj4gKwkgRFJNX0lWUFVfQk9fTUFQ
UEFCTEUgfCBcDQo+ICsJIERSTV9JVlBVX0JPX0NBQ0hFX01BU0spDQo+ICsNCj4gKy8qKg0K
PiArICogc3RydWN0IGRybV9pdnB1X2JvX2NyZWF0ZSAtIENyZWF0ZSBCTyBiYWNrZWQgYnkg
U0hNRU0NCj4gKyAqDQo+ICsgKiBDcmVhdGUgR0VNIGJ1ZmZlciBvYmplY3QgYWxsb2NhdGVk
IGluIFNITUVNIG1lbW9yeS4NCj4gKyAqLw0KPiArc3RydWN0IGRybV9pdnB1X2JvX2NyZWF0
ZSB7DQo+ICsJLyoqIEBzaXplOiBUaGUgc2l6ZSBpbiBieXRlcyBvZiB0aGUgYWxsb2NhdGVk
IG1lbW9yeSAqLw0KPiArCV9fdTY0IHNpemU7DQo+ICsNCj4gKwkvKioNCj4gKwkgKiBAZmxh
Z3M6DQo+ICsJICoNCj4gKwkgKiBTdXBwb3J0ZWQgZmxhZ3M6DQo+ICsJICoNCj4gKwkgKiAl
RFJNX0lWUFVfQk9fSElHSF9NRU06DQo+ICsJICoNCj4gKwkgKiBBbGxvY2F0ZSBWUFUgYWRk
cmVzcyBmcm9tID40R0IgcmFuZ2UuDQo+ICsJICogQnVmZmVyIG9iamVjdCB3aXRoIHZwdSBh
ZGRyZXNzID40R0IgY2FuIGJlIGFsd2F5cyBhY2Nlc3NlZCBieSB0aGUNCj4gKwkgKiBWUFUg
RE1BIGVuZ2luZSwgYnV0IHNvbWUgSFcgZ2VuZXJhdGlvbiBtYXkgbm90IGJlIGFibGUgdG8g
YWNjZXNzDQo+ICsJICogdGhpcyBtZW1vcnkgZnJvbSB0aGVuIGZpcm13YXJlIHJ1bm5pbmcg
b24gdGhlIFZQVSBtYW5hZ2VtZW50IHByb2Nlc3Nvci4NCj4gKwkgKiBTdWl0YWJsZSBmb3Ig
aW5wdXQsIG91dHB1dCBhbmQgc29tZSBzY3JhdGNoIGJ1ZmZlcnMuDQo+ICsJICoNCj4gKwkg
KiAlRFJNX0lWUFVfQk9fTUFQUEFCTEU6DQo+ICsJICoNCj4gKwkgKiBCdWZmZXIgb2JqZWN0
IGNhbiBiZSBtYXBwZWQgdXNpbmcgbW1hcCgpLg0KPiArCSAqDQo+ICsJICogJURSTV9JVlBV
X0JPX0NBQ0hFRDoNCj4gKwkgKg0KPiArCSAqIEFsbG9jYXRlZCBCTyB3aWxsIGJlIGNhY2hl
ZCBvbiBob3N0IHNpZGUgKFdCKSBhbmQgc25vb3BlZCBvbiB0aGUgVlBVIHNpZGUuDQo+ICsJ
ICogVGhpcyBpcyB0aGUgZGVmYXVsdCBjYWNoaW5nIG1vZGUuDQo+ICsJICoNCj4gKwkgKiAl
RFJNX0lWUFVfQk9fVU5DQUNIRUQ6DQo+ICsJICoNCj4gKwkgKiBBbGxvY2F0ZWQgQk8gd2ls
bCBub3QgYmUgY2FjaGVkIG9uIGhvc3Qgc2lkZSBub3Igc25vb3BlZCBvbiB0aGUgVlBVIHNp
ZGUuDQo+ICsJICoNCj4gKwkgKiAlRFJNX0lWUFVfQk9fV0M6DQo+ICsJICoNCj4gKwkgKiBB
bGxvY2F0ZWQgQk8gd2lsbCB1c2Ugd3JpdGUgY29tYmluaW5nIGJ1ZmZlciBmb3Igd3JpdGVz
IGJ1dCByZWFkcyB3aWxsIGJlDQo+ICsJICogdW5jYWNoZWQuDQo+ICsJICovDQo+ICsJX191
MzIgZmxhZ3M7DQo+ICsNCj4gKwkvKiogQGhhbmRsZTogUmV0dXJuZWQgR0VNIG9iamVjdCBo
YW5kbGUgKi8NCj4gKwlfX3UzMiBoYW5kbGU7DQo+ICsNCj4gKwkvKiogQHZwdV9hZGRyOiBS
ZXR1cm5lZCBWUFUgdmlydHVhbCBhZGRyZXNzICovDQo+ICsJX191NjQgdnB1X2FkZHI7DQo+
ICt9Ow0KPiArDQo+ICsvKioNCj4gKyAqIHN0cnVjdCBkcm1faXZwdV9ib19pbmZvIC0gUXVl
cnkgYnVmZmVyIG9iamVjdCBpbmZvDQo+ICsgKi8NCj4gK3N0cnVjdCBkcm1faXZwdV9ib19p
bmZvIHsNCj4gKwkvKiogQGhhbmRsZTogSGFuZGxlIG9mIHRoZSBxdWVyaWVkIEJPICovDQo+
ICsJX191MzIgaGFuZGxlOw0KPiArDQo+ICsJLyoqIEBmbGFnczogUmV0dXJuZWQgZmxhZ3Mg
dXNlZCB0byBjcmVhdGUgdGhlIEJPICovDQo+ICsJX191MzIgZmxhZ3M7DQo+ICsNCj4gKwkv
KiogQHZwdV9hZGRyOiBSZXR1cm5lZCBWUFUgdmlydHVhbCBhZGRyZXNzICovDQo+ICsJX191
NjQgdnB1X2FkZHI7DQo+ICsNCj4gKwkvKioNCj4gKwkgKiBAbW1hcF9vZmZzZXQ6DQo+ICsJ
ICoNCj4gKwkgKiBSZXR1cm5lZCBvZmZzZXQgdG8gYmUgdXNlZCBpbiBtbWFwKCkuIDAgaW4g
Y2FzZSB0aGUgQk8gaXMgbm90IG1hcHBhYmxlLg0KPiArCSAqLw0KPiArCV9fdTY0IG1tYXBf
b2Zmc2V0Ow0KPiArDQo+ICsJLyoqIEBzaXplOiBSZXR1cm5lZCBHRU0gb2JqZWN0IHNpemUs
IGFsaWduZWQgdG8gUEFHRV9TSVpFICovDQo+ICsJX191NjQgc2l6ZTsNCj4gK307DQo+ICsN
Cj4gKy8qKg0KPiArICogc3RydWN0IGRybV9pdnB1X2JvX3VzZXJwdHIgLSBDcmVhdGUgQk8g
ZnJvbSB1c2VyIG1lbW9yeQ0KPiArICoNCj4gKyAqIENyZWF0ZSBHRU0gYnVmZmVyIG9iamVj
dCBmcm9tIHVzZXIgYWxsb2NhdGVkIG1lbW9yeS4gVGhlIHByb3ZpZGVkIEB1c2VyX3B0cg0K
PiArICogaGFzIHRvIGJlIHBhZ2UgYWxpZ25lZC4gQk9zIGNyZWF0ZWQgdXNpbmcgdGhpcyBp
b2N0bCBhcmUgYWx3YXlzIGNhY2hlYWJsZS4NCj4gKyAqLw0KPiArc3RydWN0IGRybV9pdnB1
X2JvX3VzZXJwdHIgew0KPiArCS8qKiBAdXNlcl9wdHI6IFVzZXIgYWxsb2NhdGVkIHBvaW50
ZXIgYWxpZ25lZCB0byBQQUdFX1NJWkUgKi8NCj4gKwlfX3U2NCB1c2VyX3B0cjsNCj4gKw0K
PiArCS8qKiBAdXNlcl9zaXplOiBUaGUgc2l6ZSBpbiBieXRlcyBvZiB0aGUgYWxsb2NhdGVk
IG1lbW9yeSAqLw0KPiArCV9fdTY0IHVzZXJfc2l6ZTsNCj4gKw0KPiArCS8qKg0KPiArCSAq
IEBmbGFnczoNCj4gKwkgKg0KPiArCSAqIFN1cHBvcnRlZCBmbGFnczoNCj4gKwkgKg0KPiAr
CSAqICVEUk1fSVZQVV9CT19ISUdIX01FTTogc2VlICZkcm1faXZwdV9ib19jcmVhdGUtPmZs
YWdzDQo+ICsJICovDQo+ICsJX191MzIgZmxhZ3M7DQo+ICsNCj4gKwkvKiogQGhhbmRsZTog
UmV0dXJuZWQgR0VNIG9iamVjdCBoYW5kbGUgKi8NCj4gKwlfX3UzMiBoYW5kbGU7DQo+ICsN
Cj4gKwkvKiogQHZwdV9hZGRyOiBSZXR1cm5lZCBWUFUgdmlydHVhbCBhZGRyZXNzICovDQo+
ICsJX191NjQgdnB1X2FkZHI7DQo+ICt9Ow0KPiArDQo+ICAgI2lmIGRlZmluZWQoX19jcGx1
c3BsdXMpDQo+ICAgfQ0KPiAgICNlbmRpZg0KDQotLSANClRob21hcyBaaW1tZXJtYW5uDQpH
cmFwaGljcyBEcml2ZXIgRGV2ZWxvcGVyDQpTVVNFIFNvZnR3YXJlIFNvbHV0aW9ucyBHZXJt
YW55IEdtYkgNCk1heGZlbGRzdHIuIDUsIDkwNDA5IE7DvHJuYmVyZywgR2VybWFueQ0KKEhS
QiAzNjgwOSwgQUcgTsO8cm5iZXJnKQ0KR2VzY2jDpGZ0c2bDvGhyZXI6IEl2byBUb3Rldg0K


--------------J7xeNX0nAzZJr6X1iWeu39y0--

--------------y3S4wU0SZFDXG5b97DKEqPwA
Content-Type: application/pgp-signature; name="OpenPGP_signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="OpenPGP_signature"

-----BEGIN PGP SIGNATURE-----

wsF5BAABCAAjFiEExndm/fpuMUdwYFFolh/E3EQov+AFAmNX2XoFAwAAAAAACgkQlh/E3EQov+Cb
ng/+JPQegg2DKHrc8/lyiPNaeObmFGyxm4gZ4D031KLW/ldUIZDAyZMsX7Atpf9924o8gbzpu8jb
medvTTCYgnV4TQNX3fncEWZ1VOWcuvmGC962uudPdZaQYVZ1US/FgmN6zXznrsE46LSfbP9lSvMU
IZTiCC+Gvj2c/1rZGqXIDQFdR2mjQoFT+Itq1ChAcavNUsyAwU8EtHBCr70kFIyIgIruv04Aege0
S2dP8SQ6bEso8lF6WZql9O5yRxkg1pZ63V+9DZea6uQAR+SPhstipwqndT2FQfTfTIlhHgyF4+1Z
X7+EhYjR+mqrahFLmYPVYNDM3x3LOGo4U+AXU/rCAY6z9Q5zzTKTi5OVat2xEuZnYl3UPXLkWKzm
PEZhyA5zdX0rY8P0m88/nkAAwkQaOYOTssNFT0Y6qOVwmQDD+YTrBDryklDSHVMZxRY5QmhL6oWs
Zvt7XIlWDd3y3QqL304/bqGT7y17Mn7RrBIcbZDthGDEdZll4p2hIPkB5zGC+AutH7V76udAAigJ
hQAv+CZ2pjyD68+qul9DFjzucZ87ng0DSwF/gIBXKmtnB8W1pRpAipNO53TczQP1bCRhje2AHOgA
MzSGfQS79/JIS7BEU1hZae33M7ErYMHA5noFi8D2SMb14l4qzpyxI6JwkpK4dAnTggTw4HRoFKCM
pSA=
=XD1m
-----END PGP SIGNATURE-----

--------------y3S4wU0SZFDXG5b97DKEqPwA--
