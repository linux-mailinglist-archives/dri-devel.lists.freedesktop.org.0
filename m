Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A86B12FB60C
	for <lists+dri-devel@lfdr.de>; Tue, 19 Jan 2021 13:18:29 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 81D9A6E86F;
	Tue, 19 Jan 2021 12:18:25 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ej1-x62d.google.com (mail-ej1-x62d.google.com
 [IPv6:2a00:1450:4864:20::62d])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3651A6E86F
 for <dri-devel@lists.freedesktop.org>; Tue, 19 Jan 2021 12:18:24 +0000 (UTC)
Received: by mail-ej1-x62d.google.com with SMTP id l9so22470220ejx.3
 for <dri-devel@lists.freedesktop.org>; Tue, 19 Jan 2021 04:18:24 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:subject:date:message-id:mime-version
 :content-transfer-encoding;
 bh=AS1G0KOdPqgmsdiO0n8KjjxsqHB1GYyyOovN30yXXSs=;
 b=bNii2Sk+anXwZbhTw79opYXLmqWQR9QVPCR1fiobh5TrSPWBrdukNIkoAnDc2N7hkh
 GEI+LHA6J1uQrykZ5Wt+VTkKPQzg2c6ZgPYoEMjoMWL+ghyH4bEBCp6nVzhm0Tx1teA5
 e0x4HRCguBLrOBMmmBZQQemsEpL0L+E3D+IDyVv57/4daRcZoATB2F8vpgjQFOyblqUI
 5Nm692p03FKNhhvcOVf1TDjZfXZm9mrkrFZIjQv8qUyKtnQ+N2H5HhwhhCppOEwpHo+g
 e+p0z+ddvPLmo2dyc0eDgUK7v6DbLfLoikB8dQY5L0ghmQ+hvf+SjUA6f+3JpX8uFQh6
 i4Hw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:subject:date:message-id:mime-version
 :content-transfer-encoding;
 bh=AS1G0KOdPqgmsdiO0n8KjjxsqHB1GYyyOovN30yXXSs=;
 b=GJEXr4ir6GGKx6cMjkglnUr9+JdkawzEb4z4RULqOBZ/2y5b81JKnbb5YGF5wqN9qJ
 idrBvjCmPqfiNwko4QdBIGeEyDG69EB34ZaIhc8fLbPKwv6/S2iDKuJx0QLZvmS+1oLa
 ndL1euBRp/IH3htzY7gYECrqPL+qh+X+E31Xifj4FAT17PoP/L1LCKJ7vpDHKny/zMFT
 Q/fsBLtcHUWG0xbl+0BQLIkyyCOh+rQqX4WWvHaZ74ipxMkn87ZZwywDw5dDLplUgU/n
 +JjGw1moPx04FcEXDQ9BHWDS2LdkF4X8gV5EySFDmoakI6rs4/aeWLTkAgSiHSR60KhP
 f1Hw==
X-Gm-Message-State: AOAM532BB21keFLxCPy2crhV4KpbKzqQ81Q0AruZ50PSninjz+VX/DPb
 kcylm+WeeUszhRN7BPD4ygI=
X-Google-Smtp-Source: ABdhPJyUvN8EIbai4dDgkaDEiXsje8njs5+cTMvu5SpPKfkDbNNpFE7d/MEUTAgIuXgZc5F1t9DoqQ==
X-Received: by 2002:a17:906:3b97:: with SMTP id
 u23mr2754760ejf.147.1611058702844; 
 Tue, 19 Jan 2021 04:18:22 -0800 (PST)
Received: from abel.fritz.box ([2a02:908:1252:fb60:b05c:1403:9024:973b])
 by smtp.gmail.com with ESMTPSA id q9sm7090422ejd.113.2021.01.19.04.18.22
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Tue, 19 Jan 2021 04:18:22 -0800 (PST)
From: "=?UTF-8?q?Christian=20K=C3=B6nig?=" <ckoenig.leichtzumerken@gmail.com>
X-Google-Original-From: =?UTF-8?q?Christian=20K=C3=B6nig?=
 <christian.koenig@amd.com>
To: ray.huang@amd.com,
	daniel@ffwll.ch,
	dri-devel@lists.freedesktop.org
Subject: [PATCH 1/4] drm/ttm: add debugfs directory v2
Date: Tue, 19 Jan 2021 13:18:18 +0100
Message-Id: <20210119121821.2320-1-christian.koenig@amd.com>
X-Mailer: git-send-email 2.25.1
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QXMgZmFyIGFzIEkgY2FuIHRlbGwgdGhlIGJ1ZmZlcl9jb3VudCB3YXMgbmV2ZXIgdXNlZCBieSBh
bgp1c2Vyc3BhY2UgYXBwbGljYXRpb24uCgpUaGUgbnVtYmVyIG9mIEJPcyBpbiB0aGUgc3lzdGVt
IGlzIGZhciBiZXR0ZXIgc3VpdGVkIGluCmRlYnVnZnMgdGhhbiBzeXNmcyBhbmQgd2Ugbm93IHNo
b3VsZCBiZSBhYmxlIHRvIGFkZCBvdGhlcgppbmZvcm1hdGlvbiBoZXJlIGFzIHdlbGwuCgp2Mjog
YWRkIHRoYXQgYWRkaXRpb25hbGx5IHRvIHN5c2ZzCgpTaWduZWQtb2ZmLWJ5OiBDaHJpc3RpYW4g
S8O2bmlnIDxjaHJpc3RpYW4ua29lbmlnQGFtZC5jb20+CkFja2VkLWJ5OiBEYW5pZWwgVmV0dGVy
IDxkYW5pZWwudmV0dGVyQGZmd2xsLmNoPgotLS0KIGRyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2Jv
LmMgICAgIHwgNDggKystLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIGRyaXZlcnMvZ3B1
L2RybS90dG0vdHRtX21vZHVsZS5jIHwgIDQgKysrCiBkcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9t
b2R1bGUuaCB8ICA2ICsrLS0KIDMgZmlsZXMgY2hhbmdlZCwgMTEgaW5zZXJ0aW9ucygrKSwgNDcg
ZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm8uYyBi
L2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2JvLmMKaW5kZXggYjY1ZjRiMTJmOTg2Li5jMjg5YTZh
MzdmZjkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2JvLmMKKysrIGIvZHJp
dmVycy9ncHUvZHJtL3R0bS90dG1fYm8uYwpAQCAtNDQsOCArNDQsNiBAQAogCiAjaW5jbHVkZSAi
dHRtX21vZHVsZS5oIgogCi1zdGF0aWMgdm9pZCB0dG1fYm9fZ2xvYmFsX2tvYmpfcmVsZWFzZShz
dHJ1Y3Qga29iamVjdCAqa29iaik7Ci0KIC8qCiAgKiB0dG1fZ2xvYmFsX211dGV4IC0gcHJvdGVj
dGluZyB0aGUgZ2xvYmFsIEJPIHN0YXRlCiAgKi8KQEAgLTU0LDExICs1Miw2IEBAIHVuc2lnbmVk
IHR0bV9ib19nbG9iX3VzZV9jb3VudDsKIHN0cnVjdCB0dG1fYm9fZ2xvYmFsIHR0bV9ib19nbG9i
OwogRVhQT1JUX1NZTUJPTCh0dG1fYm9fZ2xvYik7CiAKLXN0YXRpYyBzdHJ1Y3QgYXR0cmlidXRl
IHR0bV9ib19jb3VudCA9IHsKLQkubmFtZSA9ICJib19jb3VudCIsCi0JLm1vZGUgPSBTX0lSVUdP
Ci19OwotCiAvKiBkZWZhdWx0IGRlc3RydWN0b3IgKi8KIHN0YXRpYyB2b2lkIHR0bV9ib19kZWZh
dWx0X2Rlc3Ryb3koc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibykKIHsKQEAgLTg0LDMyICs3
Nyw2IEBAIHN0YXRpYyB2b2lkIHR0bV9ib19tZW1fc3BhY2VfZGVidWcoc3RydWN0IHR0bV9idWZm
ZXJfb2JqZWN0ICpibywKIAl9CiB9CiAKLXN0YXRpYyBzc2l6ZV90IHR0bV9ib19nbG9iYWxfc2hv
dyhzdHJ1Y3Qga29iamVjdCAqa29iaiwKLQkJCQkgIHN0cnVjdCBhdHRyaWJ1dGUgKmF0dHIsCi0J
CQkJICBjaGFyICpidWZmZXIpCi17Ci0Jc3RydWN0IHR0bV9ib19nbG9iYWwgKmdsb2IgPQotCQlj
b250YWluZXJfb2Yoa29iaiwgc3RydWN0IHR0bV9ib19nbG9iYWwsIGtvYmopOwotCi0JcmV0dXJu
IHNucHJpbnRmKGJ1ZmZlciwgUEFHRV9TSVpFLCAiJWRcbiIsCi0JCQkJYXRvbWljX3JlYWQoJmds
b2ItPmJvX2NvdW50KSk7Ci19Ci0KLXN0YXRpYyBzdHJ1Y3QgYXR0cmlidXRlICp0dG1fYm9fZ2xv
YmFsX2F0dHJzW10gPSB7Ci0JJnR0bV9ib19jb3VudCwKLQlOVUxMCi19OwotCi1zdGF0aWMgY29u
c3Qgc3RydWN0IHN5c2ZzX29wcyB0dG1fYm9fZ2xvYmFsX29wcyA9IHsKLQkuc2hvdyA9ICZ0dG1f
Ym9fZ2xvYmFsX3Nob3cKLX07Ci0KLXN0YXRpYyBzdHJ1Y3Qga29ial90eXBlIHR0bV9ib19nbG9i
X2tvYmpfdHlwZSAgPSB7Ci0JLnJlbGVhc2UgPSAmdHRtX2JvX2dsb2JhbF9rb2JqX3JlbGVhc2Us
Ci0JLnN5c2ZzX29wcyA9ICZ0dG1fYm9fZ2xvYmFsX29wcywKLQkuZGVmYXVsdF9hdHRycyA9IHR0
bV9ib19nbG9iYWxfYXR0cnMKLX07Ci0KIHN0YXRpYyB2b2lkIHR0bV9ib19kZWxfZnJvbV9scnUo
c3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibykKIHsKIAlzdHJ1Y3QgdHRtX2JvX2RldmljZSAq
YmRldiA9IGJvLT5iZGV2OwpAQCAtMTIyOCwxNCArMTE5NSw2IEBAIHNpemVfdCB0dG1fYm9fZG1h
X2FjY19zaXplKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAogfQogRVhQT1JUX1NZTUJPTCh0
dG1fYm9fZG1hX2FjY19zaXplKTsKIAotc3RhdGljIHZvaWQgdHRtX2JvX2dsb2JhbF9rb2JqX3Jl
bGVhc2Uoc3RydWN0IGtvYmplY3QgKmtvYmopCi17Ci0Jc3RydWN0IHR0bV9ib19nbG9iYWwgKmds
b2IgPQotCQljb250YWluZXJfb2Yoa29iaiwgc3RydWN0IHR0bV9ib19nbG9iYWwsIGtvYmopOwot
Ci0JX19mcmVlX3BhZ2UoZ2xvYi0+ZHVtbXlfcmVhZF9wYWdlKTsKLX0KLQogc3RhdGljIHZvaWQg
dHRtX2JvX2dsb2JhbF9yZWxlYXNlKHZvaWQpCiB7CiAJc3RydWN0IHR0bV9ib19nbG9iYWwgKmds
b2IgPSAmdHRtX2JvX2dsb2I7CkBAIC0xMjQ3LDYgKzEyMDYsNyBAQCBzdGF0aWMgdm9pZCB0dG1f
Ym9fZ2xvYmFsX3JlbGVhc2Uodm9pZCkKIAlrb2JqZWN0X2RlbCgmZ2xvYi0+a29iaik7CiAJa29i
amVjdF9wdXQoJmdsb2ItPmtvYmopOwogCXR0bV9tZW1fZ2xvYmFsX3JlbGVhc2UoJnR0bV9tZW1f
Z2xvYik7CisJX19mcmVlX3BhZ2UoZ2xvYi0+ZHVtbXlfcmVhZF9wYWdlKTsKIAltZW1zZXQoZ2xv
YiwgMCwgc2l6ZW9mKCpnbG9iKSk7CiBvdXQ6CiAJbXV0ZXhfdW5sb2NrKCZ0dG1fZ2xvYmFsX211
dGV4KTsKQEAgLTEyNzksMTAgKzEyMzksOCBAQCBzdGF0aWMgaW50IHR0bV9ib19nbG9iYWxfaW5p
dCh2b2lkKQogCUlOSVRfTElTVF9IRUFEKCZnbG9iLT5kZXZpY2VfbGlzdCk7CiAJYXRvbWljX3Nl
dCgmZ2xvYi0+Ym9fY291bnQsIDApOwogCi0JcmV0ID0ga29iamVjdF9pbml0X2FuZF9hZGQoCi0J
CSZnbG9iLT5rb2JqLCAmdHRtX2JvX2dsb2Jfa29ial90eXBlLCB0dG1fZ2V0X2tvYmooKSwgImJ1
ZmZlcl9vYmplY3RzIik7Ci0JaWYgKHVubGlrZWx5KHJldCAhPSAwKSkKLQkJa29iamVjdF9wdXQo
Jmdsb2ItPmtvYmopOworCWRlYnVnZnNfY3JlYXRlX2F0b21pY190KCJidWZmZXJfb2JqZWN0cyIs
IDA0NDQsIHR0bV9kZWJ1Z2ZzX3Jvb3QsCisJCQkJJmdsb2ItPmJvX2NvdW50KTsKIG91dDoKIAlt
dXRleF91bmxvY2soJnR0bV9nbG9iYWxfbXV0ZXgpOwogCXJldHVybiByZXQ7CmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9tb2R1bGUuYyBiL2RyaXZlcnMvZ3B1L2RybS90dG0v
dHRtX21vZHVsZS5jCmluZGV4IGMwOTA2NDM3Y2IxYy4uZjY1NjY2MDNhNjBmIDEwMDY0NAotLS0g
YS9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9tb2R1bGUuYworKysgYi9kcml2ZXJzL2dwdS9kcm0v
dHRtL3R0bV9tb2R1bGUuYwpAQCAtMzIsMTIgKzMyLDE0IEBACiAjaW5jbHVkZSA8bGludXgvbW9k
dWxlLmg+CiAjaW5jbHVkZSA8bGludXgvZGV2aWNlLmg+CiAjaW5jbHVkZSA8bGludXgvc2NoZWQu
aD4KKyNpbmNsdWRlIDxsaW51eC9kZWJ1Z2ZzLmg+CiAjaW5jbHVkZSA8ZHJtL2RybV9zeXNmcy5o
PgogCiAjaW5jbHVkZSAidHRtX21vZHVsZS5oIgogCiBzdGF0aWMgREVDTEFSRV9XQUlUX1FVRVVF
X0hFQUQoZXhpdF9xKTsKIHN0YXRpYyBhdG9taWNfdCBkZXZpY2VfcmVsZWFzZWQ7CitzdHJ1Y3Qg
ZGVudHJ5ICp0dG1fZGVidWdmc19yb290OwogCiBzdGF0aWMgc3RydWN0IGRldmljZV90eXBlIHR0
bV9kcm1fY2xhc3NfdHlwZSA9IHsKIAkubmFtZSA9ICJ0dG0iLApAQCAtNzcsNiArNzksNyBAQCBz
dGF0aWMgaW50IF9faW5pdCB0dG1faW5pdCh2b2lkKQogCWlmICh1bmxpa2VseShyZXQgIT0gMCkp
CiAJCWdvdG8gb3V0X25vX2Rldl9yZWc7CiAKKwl0dG1fZGVidWdmc19yb290ID0gZGVidWdmc19j
cmVhdGVfZGlyKCJ0dG0iLCBOVUxMKTsKIAlyZXR1cm4gMDsKIG91dF9ub19kZXZfcmVnOgogCWF0
b21pY19zZXQoJmRldmljZV9yZWxlYXNlZCwgMSk7CkBAIC05NCw2ICs5Nyw3IEBAIHN0YXRpYyB2
b2lkIF9fZXhpdCB0dG1fZXhpdCh2b2lkKQogCSAqLwogCiAJd2FpdF9ldmVudChleGl0X3EsIGF0
b21pY19yZWFkKCZkZXZpY2VfcmVsZWFzZWQpID09IDEpOworCWRlYnVnZnNfcmVtb3ZlKHR0bV9k
ZWJ1Z2ZzX3Jvb3QpOwogfQogCiBtb2R1bGVfaW5pdCh0dG1faW5pdCk7CmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9tb2R1bGUuaCBiL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRt
X21vZHVsZS5oCmluZGV4IDQ1ZmEzMThjMTU4NS4uMmYwM2MyZmNmNTcwIDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9tb2R1bGUuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vdHRt
L3R0bV9tb2R1bGUuaApAQCAtMzEsMTAgKzMxLDEyIEBACiAjaWZuZGVmIF9UVE1fTU9EVUxFX0hf
CiAjZGVmaW5lIF9UVE1fTU9EVUxFX0hfCiAKLSNpbmNsdWRlIDxsaW51eC9rZXJuZWwuaD4KKyNk
ZWZpbmUgVFRNX1BGWCAiW1RUTV0gIgorCiBzdHJ1Y3Qga29iamVjdDsKK3N0cnVjdCBkZW50cnk7
CiAKLSNkZWZpbmUgVFRNX1BGWCAiW1RUTV0gIgogZXh0ZXJuIHN0cnVjdCBrb2JqZWN0ICp0dG1f
Z2V0X2tvYmoodm9pZCk7CitleHRlcm4gc3RydWN0IGRlbnRyeSAqdHRtX2RlYnVnZnNfcm9vdDsK
IAogI2VuZGlmIC8qIF9UVE1fTU9EVUxFX0hfICovCi0tIAoyLjI1LjEKCl9fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QK
ZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9w
Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbAo=
