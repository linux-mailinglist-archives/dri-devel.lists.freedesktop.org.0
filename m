Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id E6E729DEC7
	for <lists+dri-devel@lfdr.de>; Tue, 27 Aug 2019 09:30:11 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B759D898ED;
	Tue, 27 Aug 2019 07:30:02 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wr1-x444.google.com (mail-wr1-x444.google.com
 [IPv6:2a00:1450:4864:20::444])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7E57E898C4
 for <dri-devel@lists.freedesktop.org>; Tue, 27 Aug 2019 07:29:43 +0000 (UTC)
Received: by mail-wr1-x444.google.com with SMTP id y8so17659571wrn.10
 for <dri-devel@lists.freedesktop.org>; Tue, 27 Aug 2019 00:29:43 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:subject:to:cc:references:from:openpgp:autocrypt
 :organization:message-id:date:user-agent:mime-version:in-reply-to
 :content-language:content-transfer-encoding;
 bh=aaG5T8a3Z7qNSDMCzSFM5n8pzMs0D/cYCMIHxX5d7aE=;
 b=sI6nEJr+28kdxXb6fCA/AsQjA2Y0xxtv/QihRrMTbiyMWb/LBaoNC+T7Qe9bnG/A7h
 6Lp0EoEqacRXw6XVoVQSUvhuj7EpD3WoMvUFossvTtSEyzAjIXsaydYd/G5TiQNmSrJd
 zCRJ0e0zoIq7XAOnpXJmsq0kNE+e1YDC247dtSwO37+e88HMj4gHMDlmMPCaSFlLwFdX
 7V2LZYwl8PIquZzRsrYL7ullH3PnUr2mSLnO0QgiE7M/bsGvYurGZK6SLGwbBrqeQrcu
 VWY/5pRFf8hKoHoKfgIn6Zfp/VmnYaHFiDFfdZaTKZLwEvni+FT4tOUhDaW6vJ3KF0OO
 qd4g==
X-Gm-Message-State: APjAAAUu2Qici6DwICryMmj3EkzqusfM8QvM1E4CNe83JuwoIp3HG2wx
 V12nPdPMXO/ZUqyEL8NNUxqxtA==
X-Google-Smtp-Source: APXvYqzTw914fmbLv26aSoo/yNSvYGnB0EF0pYftwpRL7NEpRYnf71nJBTa4gudkJAfqH0fXvyoVTQ==
X-Received: by 2002:a05:6000:118a:: with SMTP id
 g10mr2579531wrx.175.1566890979801; 
 Tue, 27 Aug 2019 00:29:39 -0700 (PDT)
Received: from [10.1.2.12] (lmontsouris-657-1-212-31.w90-63.abo.wanadoo.fr.
 [90.63.244.31])
 by smtp.gmail.com with ESMTPSA id f24sm1906382wmc.25.2019.08.27.00.29.38
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Tue, 27 Aug 2019 00:29:39 -0700 (PDT)
Subject: Re: [PATCH v2 13/21] drm/bridge: Patch atomic hooks to take a
 drm_bridge_state
To: Boris Brezillon <boris.brezillon@collabora.com>,
 dri-devel@lists.freedesktop.org
References: <20190826152649.13820-1-boris.brezillon@collabora.com>
 <20190826152649.13820-14-boris.brezillon@collabora.com>
From: Neil Armstrong <narmstrong@baylibre.com>
Openpgp: preference=signencrypt
Autocrypt: addr=narmstrong@baylibre.com; prefer-encrypt=mutual; keydata=
 mQENBE1ZBs8BCAD78xVLsXPwV/2qQx2FaO/7mhWL0Qodw8UcQJnkrWmgTFRobtTWxuRx8WWP
 GTjuhvbleoQ5Cxjr+v+1ARGCH46MxFP5DwauzPekwJUD5QKZlaw/bURTLmS2id5wWi3lqVH4
 BVF2WzvGyyeV1o4RTCYDnZ9VLLylJ9bneEaIs/7cjCEbipGGFlfIML3sfqnIvMAxIMZrvcl9
 qPV2k+KQ7q+aXavU5W+yLNn7QtXUB530Zlk/d2ETgzQ5FLYYnUDAaRl+8JUTjc0CNOTpCeik
 80TZcE6f8M76Xa6yU8VcNko94Ck7iB4vj70q76P/J7kt98hklrr85/3NU3oti3nrIHmHABEB
 AAG0KE5laWwgQXJtc3Ryb25nIDxuYXJtc3Ryb25nQGJheWxpYnJlLmNvbT6JATsEEwEKACUC
 GyMGCwkIBwMCBhUIAgkKCwQWAgMBAh4BAheABQJXDO2CAhkBAAoJEBaat7Gkz/iubGIH/iyk
 RqvgB62oKOFlgOTYCMkYpm2aAOZZLf6VKHKc7DoVwuUkjHfIRXdslbrxi4pk5VKU6ZP9AKsN
 NtMZntB8WrBTtkAZfZbTF7850uwd3eU5cN/7N1Q6g0JQihE7w4GlIkEpQ8vwSg5W7hkx3yQ6
 2YzrUZh/b7QThXbNZ7xOeSEms014QXazx8+txR7jrGF3dYxBsCkotO/8DNtZ1R+aUvRfpKg5
 ZgABTC0LmAQnuUUf2PHcKFAHZo5KrdO+tyfL+LgTUXIXkK+tenkLsAJ0cagz1EZ5gntuheLD
 YJuzS4zN+1Asmb9kVKxhjSQOcIh6g2tw7vaYJgL/OzJtZi6JlIW5AQ0ETVkGzwEIALyKDN/O
 GURaHBVzwjgYq+ZtifvekdrSNl8TIDH8g1xicBYpQTbPn6bbSZbdvfeQPNCcD4/EhXZuhQXM
 coJsQQQnO4vwVULmPGgtGf8PVc7dxKOeta+qUh6+SRh3vIcAUFHDT3f/Zdspz+e2E0hPV2hi
 SvICLk11qO6cyJE13zeNFoeY3ggrKY+IzbFomIZY4yG6xI99NIPEVE9lNBXBKIlewIyVlkOa
 YvJWSV+p5gdJXOvScNN1epm5YHmf9aE2ZjnqZGoMMtsyw18YoX9BqMFInxqYQQ3j/HpVgTSv
 mo5ea5qQDDUaCsaTf8UeDcwYOtgI8iL4oHcsGtUXoUk33HEAEQEAAYkBHwQYAQIACQUCTVkG
 zwIbDAAKCRAWmrexpM/4rrXiB/sGbkQ6itMrAIfnM7IbRuiSZS1unlySUVYu3SD6YBYnNi3G
 5EpbwfBNuT3H8//rVvtOFK4OD8cRYkxXRQmTvqa33eDIHu/zr1HMKErm+2SD6PO9umRef8V8
 2o2oaCLvf4WeIssFjwB0b6a12opuRP7yo3E3gTCSKmbUuLv1CtxKQF+fUV1cVaTPMyT25Od+
 RC1K+iOR0F54oUJvJeq7fUzbn/KdlhA8XPGzwGRy4zcsPWvwnXgfe5tk680fEKZVwOZKIEuJ
 C3v+/yZpQzDvGYJvbyix0lHnrCzq43WefRHI5XTTQbM0WUIBIcGmq38+OgUsMYu4NzLu7uZF
 Acmp6h8guQINBFYnf6QBEADQ+wBYa+X2n/xIQz/RUoGHf84Jm+yTqRT43t7sO48/cBW9vAn9
 GNwnJ3HRJWKATW0ZXrCr40ES/JqM1fUTfiFDB3VMdWpEfwOAT1zXS+0rX8yljgsWR1UvqyEP
 3xN0M/40Zk+rdmZKaZS8VQaXbveaiWMEmY7sBV3QvgOzB7UF2It1HwoCon5Y+PvyE3CguhBd
 9iq5iEampkMIkbA3FFCpQFI5Ai3BywkLzbA3ZtnMXR8Qt9gFZtyXvFQrB+/6hDzEPnBGZOOx
 zkd/iIX59SxBuS38LMlhPPycbFNmtauOC0DNpXCv9ACgC9tFw3exER/xQgSpDVc4vrL2Cacr
 wmQp1k9E0W+9pk/l8S1jcHx03hgCxPtQLOIyEu9iIJb27TjcXNjiInd7Uea195NldIrndD+x
 58/yU3X70qVY+eWbqzpdlwF1KRm6uV0ZOQhEhbi0FfKKgsYFgBIBchGqSOBsCbL35f9hK/JC
 6LnGDtSHeJs+jd9/qJj4WqF3x8i0sncQ/gszSajdhnWrxraG3b7/9ldMLpKo/OoihfLaCxtv
 xYmtw8TGhlMaiOxjDrohmY1z7f3rf6njskoIXUO0nabun1nPAiV1dpjleg60s3OmVQeEpr3a
 K7gR1ljkemJzM9NUoRROPaT7nMlNYQL+IwuthJd6XQqwzp1jRTGG26J97wARAQABiQM+BBgB
 AgAJBQJWJ3+kAhsCAikJEBaat7Gkz/iuwV0gBBkBAgAGBQJWJ3+kAAoJEHfc29rIyEnRk6MQ
 AJDo0nxsadLpYB26FALZsWlN74rnFXth5dQVQ7SkipmyFWZhFL8fQ9OiIoxWhM6rSg9+C1w+
 n45eByMg2b8H3mmQmyWztdI95OxSREKwbaXVapCcZnv52JRjlc3DoiiHqTZML5x1Z7lQ1T3F
 8o9sKrbFO1WQw1+Nc91+MU0MGN0jtfZ0Tvn/ouEZrSXCE4K3oDGtj3AdC764yZVq6CPigCgs
 6Ex80k6QlzCdVP3RKsnPO2xQXXPgyJPJlpD8bHHHW7OLfoR9DaBNympfcbQJeekQrTvyoASw
 EOTPKE6CVWrcQIztUp0WFTdRGgMK0cZB3Xfe6sOp24PQTHAKGtjTHNP/THomkH24Fum9K3iM
 /4Wh4V2eqGEgpdeSp5K+LdaNyNgaqzMOtt4HYk86LYLSHfFXywdlbGrY9+TqiJ+ZVW4trmui
 NIJCOku8SYansq34QzYM0x3UFRwff+45zNBEVzctSnremg1mVgrzOfXU8rt+4N1b2MxorPF8
 619aCwVP7U16qNSBaqiAJr4e5SNEnoAq18+1Gp8QsFG0ARY8xp+qaKBByWES7lRi3QbqAKZf
 yOHS6gmYo9gBmuAhc65/VtHMJtxwjpUeN4Bcs9HUpDMDVHdfeRa73wM+wY5potfQ5zkSp0Jp
 bxnv/cRBH6+c43stTffprd//4Hgz+nJcCgZKtCYIAPkUxABC85ID2CidzbraErVACmRoizhT
 KR2OiqSLW2x4xdmSiFNcIWkWJB6Qdri0Fzs2dHe8etD1HYaht1ZhZ810s7QOL7JwypO8dscN
 KTEkyoTGn6cWj0CX+PeP4xp8AR8ot4d0BhtUY34UPzjE1/xyrQFAdnLd0PP4wXxdIUuRs0+n
 WLY9Aou/vC1LAdlaGsoTVzJ2gX4fkKQIWhX0WVk41BSFeDKQ3RQ2pnuzwedLO94Bf6X0G48O
 VsbXrP9BZ6snXyHfebPnno/te5XRqZTL9aJOytB/1iUna+1MAwBxGFPvqeEUUyT+gx1l3Acl
 ZaTUOEkgIor5losDrePdPgE=
Organization: Baylibre
Message-ID: <850c9788-5a4e-111d-8df9-aa6e733ef057@baylibre.com>
Date: Tue, 27 Aug 2019 09:29:37 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <20190826152649.13820-14-boris.brezillon@collabora.com>
Content-Language: en-US
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=baylibre-com.20150623.gappssmtp.com; s=20150623;
 h=subject:to:cc:references:from:openpgp:autocrypt:organization
 :message-id:date:user-agent:mime-version:in-reply-to
 :content-language:content-transfer-encoding;
 bh=aaG5T8a3Z7qNSDMCzSFM5n8pzMs0D/cYCMIHxX5d7aE=;
 b=nZfXkdh3s8mW9IpsPg4ZrbPBQogGtIuQ5XTVsglb1Qm8oISKxwzviESdAyj7YtMWjn
 EKFrEe/CoURnVJGESkPdahZHYEuLUl4+aS5ZxW/VEdEZMFdmwcPQMIHaLRmxIr5m68yf
 hG4yXDNKPgsuMGjF6wiOk1R8e3TQj76h12eOz/P2IpbUPpupaMV3tk82xIc8tn7bxcF0
 eHB4GkH5NmTiyVVH2Es2h/V33gU387PEOo6toRxSnnpEM+Mk2DW9xbGwxOAYqfVHaOP0
 zea6IJagGZD3MWdawefUOxZ2CurKm+BI4TVwToqjGeWhWX4IYVDMFZIkg0soszP6yrPE
 od/Q==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Nikita Yushchenko <nikita.yoush@cogentembedded.com>,
 Jernej Skrabec <jernej.skrabec@siol.net>,
 Laurent Pinchart <Laurent.pinchart@ideasonboard.com>,
 Jonas Karlman <jonas@kwiboo.se>, Andrey Smirnov <andrew.smirnov@gmail.com>,
 Seung-Woo Kim <sw0312.kim@samsung.com>,
 Kyungmin Park <kyungmin.park@samsung.com>,
 Thierry Reding <thierry.reding@gmail.com>, Chris Healy <Chris.Healy@zii.aero>,
 kernel@collabora.com, Sam Ravnborg <sam@ravnborg.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gMjYvMDgvMjAxOSAxNzoyNiwgQm9yaXMgQnJlemlsbG9uIHdyb3RlOgo+IEluc3RlYWQgb2Yg
YSBkcm1fYXRvbWljX3N0YXRlLiBUaGUgb25seSBkcml2ZXIgaW1wbGVtZW50aW5nIHRob3NlIGhv
b2tzCj4gaXMgcGF0Y2hlZCB0b28uCj4gCj4gV2hpbGUgYXQgaXQsIGFkanVzdCB0aGUgZG9jdW1l
bnRhdGlvbiBhbmQgYXJndW1lbnQgbmFtZXMgdG8gY2xhcmlmeSB0aGUKPiBmYWN0IHRoYXQgdGhl
IHN0YXRlIGJlaW5nIHBhc3NlZCB0byB0aG9zZSBmdW5jdGlvbnMvaG9va3MgaXMgdGhlIG9sZAo+
IHN0YXRlLgo+IAo+IFNpZ25lZC1vZmYtYnk6IEJvcmlzIEJyZXppbGxvbiA8Ym9yaXMuYnJlemls
bG9uQGNvbGxhYm9yYS5jb20+CgpSZXZpZXdlZC1ieTogTmVpbCBBcm1zdHJvbmcgPG5hcm1zdHJv
bmdAYmF5bGlicmUuY29tPgoKPiAtLS0KPiBDaGFuZ2VzIGluIHYyOgo+ICogUGFzcyB0aGUgb2xk
IGJyaWRnZSBzdGF0ZQo+IC0tLQo+ICAuLi4vZHJtL2JyaWRnZS9hbmFsb2dpeC9hbmFsb2dpeF9k
cF9jb3JlLmMgICAgfCAxMiArKy0KPiAgZHJpdmVycy9ncHUvZHJtL2RybV9icmlkZ2UuYyAgICAg
ICAgICAgICAgICAgIHwgNzMgKysrKysrKysrKysrKystLS0tLQo+ICBpbmNsdWRlL2RybS9kcm1f
YnJpZGdlLmggICAgICAgICAgICAgICAgICAgICAgfCAyMyArKysrLS0KPiAgMyBmaWxlcyBjaGFu
Z2VkLCA3NiBpbnNlcnRpb25zKCspLCAzMiBkZWxldGlvbnMoLSkKPiAKPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9hbmFsb2dpeF9kcF9jb3JlLmMgYi9kcml2
ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FuYWxvZ2l4X2RwX2NvcmUuYwo+IGluZGV4IGJi
NDExZmU1MmFlOC4uZTQzOGU3NTdmMmNlIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9i
cmlkZ2UvYW5hbG9naXgvYW5hbG9naXhfZHBfY29yZS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L2JyaWRnZS9hbmFsb2dpeC9hbmFsb2dpeF9kcF9jb3JlLmMKPiBAQCAtMTI5MCw4ICsxMjkwLDkg
QEAgc3RydWN0IGRybV9jcnRjICphbmFsb2dpeF9kcF9nZXRfbmV3X2NydGMoc3RydWN0IGFuYWxv
Z2l4X2RwX2RldmljZSAqZHAsCj4gIH0KPiAgCj4gIHN0YXRpYyB2b2lkIGFuYWxvZ2l4X2RwX2Jy
aWRnZV9hdG9taWNfcHJlX2VuYWJsZShzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlLAo+IC0JCQkJ
CQkgc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnN0YXRlKQo+ICsJCQkJCQkgc3RydWN0IGRybV9i
cmlkZ2Vfc3RhdGUgKmJzdGF0ZSkKPiAgewo+ICsJc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnN0
YXRlID0gYnN0YXRlLT5iYXNlLnN0YXRlOwo+ICAJc3RydWN0IGFuYWxvZ2l4X2RwX2RldmljZSAq
ZHAgPSBicmlkZ2UtPmRyaXZlcl9wcml2YXRlOwo+ICAJc3RydWN0IGRybV9jcnRjICpjcnRjOwo+
ICAJc3RydWN0IGRybV9jcnRjX3N0YXRlICpvbGRfY3J0Y19zdGF0ZTsKPiBAQCAtMTM2Nyw4ICsx
MzY4LDkgQEAgc3RhdGljIGludCBhbmFsb2dpeF9kcF9zZXRfYnJpZGdlKHN0cnVjdCBhbmFsb2dp
eF9kcF9kZXZpY2UgKmRwKQo+ICB9Cj4gIAo+ICBzdGF0aWMgdm9pZCBhbmFsb2dpeF9kcF9icmlk
Z2VfYXRvbWljX2VuYWJsZShzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlLAo+IC0JCQkJCSAgICAg
c3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnN0YXRlKQo+ICsJCQkJCSAgICAgc3RydWN0IGRybV9i
cmlkZ2Vfc3RhdGUgKmJzdGF0ZSkKPiAgewo+ICsJc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnN0
YXRlID0gYnN0YXRlLT5iYXNlLnN0YXRlOwo+ICAJc3RydWN0IGFuYWxvZ2l4X2RwX2RldmljZSAq
ZHAgPSBicmlkZ2UtPmRyaXZlcl9wcml2YXRlOwo+ICAJc3RydWN0IGRybV9jcnRjICpjcnRjOwo+
ICAJc3RydWN0IGRybV9jcnRjX3N0YXRlICpvbGRfY3J0Y19zdGF0ZTsKPiBAQCAtMTQ0MSw4ICsx
NDQzLDkgQEAgc3RhdGljIHZvaWQgYW5hbG9naXhfZHBfYnJpZGdlX2Rpc2FibGUoc3RydWN0IGRy
bV9icmlkZ2UgKmJyaWRnZSkKPiAgfQo+ICAKPiAgc3RhdGljIHZvaWQgYW5hbG9naXhfZHBfYnJp
ZGdlX2F0b21pY19kaXNhYmxlKHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UsCj4gLQkJCQkJICAg
ICAgc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnN0YXRlKQo+ICsJCQkJCSAgICAgIHN0cnVjdCBk
cm1fYnJpZGdlX3N0YXRlICpic3RhdGUpCj4gIHsKPiArCXN0cnVjdCBkcm1fYXRvbWljX3N0YXRl
ICpzdGF0ZSA9IGJzdGF0ZS0+YmFzZS5zdGF0ZTsKPiAgCXN0cnVjdCBhbmFsb2dpeF9kcF9kZXZp
Y2UgKmRwID0gYnJpZGdlLT5kcml2ZXJfcHJpdmF0ZTsKPiAgCXN0cnVjdCBkcm1fY3J0YyAqY3J0
YzsKPiAgCXN0cnVjdCBkcm1fY3J0Y19zdGF0ZSAqbmV3X2NydGNfc3RhdGUgPSBOVUxMOwo+IEBA
IC0xNDY1LDggKzE0NjgsOSBAQCBzdGF0aWMgdm9pZCBhbmFsb2dpeF9kcF9icmlkZ2VfYXRvbWlj
X2Rpc2FibGUoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSwKPiAgCj4gIHN0YXRpYwo+ICB2b2lk
IGFuYWxvZ2l4X2RwX2JyaWRnZV9hdG9taWNfcG9zdF9kaXNhYmxlKHN0cnVjdCBkcm1fYnJpZGdl
ICpicmlkZ2UsCj4gLQkJCQkJICAgIHN0cnVjdCBkcm1fYXRvbWljX3N0YXRlICpzdGF0ZSkKPiAr
CQkJCQkgICAgc3RydWN0IGRybV9icmlkZ2Vfc3RhdGUgKmJzdGF0ZSkKPiAgewo+ICsJc3RydWN0
IGRybV9hdG9taWNfc3RhdGUgKnN0YXRlID0gYnN0YXRlLT5iYXNlLnN0YXRlOwo+ICAJc3RydWN0
IGFuYWxvZ2l4X2RwX2RldmljZSAqZHAgPSBicmlkZ2UtPmRyaXZlcl9wcml2YXRlOwo+ICAJc3Ry
dWN0IGRybV9jcnRjICpjcnRjOwo+ICAJc3RydWN0IGRybV9jcnRjX3N0YXRlICpuZXdfY3J0Y19z
dGF0ZTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2RybV9icmlkZ2UuYyBiL2RyaXZl
cnMvZ3B1L2RybS9kcm1fYnJpZGdlLmMKPiBpbmRleCA2YzJkNzY5MTQ1NWIuLjVjODNjYWM3OTc1
ZSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vZHJtX2JyaWRnZS5jCj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL2RybV9icmlkZ2UuYwo+IEBAIC00MzcsNyArNDM3LDcgQEAgRVhQT1JUX1NZ
TUJPTChkcm1fYnJpZGdlX2NoYWluX2VuYWJsZSk7Cj4gIC8qKgo+ICAgKiBkcm1fYXRvbWljX2Jy
aWRnZV9jaGFpbl9kaXNhYmxlIC0gZGlzYWJsZXMgYWxsIGJyaWRnZXMgaW4gdGhlIGVuY29kZXIg
Y2hhaW4KPiAgICogQGJyaWRnZTogYnJpZGdlIGNvbnRyb2wgc3RydWN0dXJlCj4gLSAqIEBzdGF0
ZTogYXRvbWljIHN0YXRlIGJlaW5nIGNvbW1pdHRlZAo+ICsgKiBAb2xkX3N0YXRlOiBvbGQgYXRv
bWljIHN0YXRlCj4gICAqCj4gICAqIENhbGxzICZkcm1fYnJpZGdlX2Z1bmNzLmF0b21pY19kaXNh
YmxlIChmYWxscyBiYWNrIG9uCj4gICAqICZkcm1fYnJpZGdlX2Z1bmNzLmRpc2FibGUpIG9wIGZv
ciBhbGwgdGhlIGJyaWRnZXMgaW4gdGhlIGVuY29kZXIgY2hhaW4sCj4gQEAgLTQ0NywxNiArNDQ3
LDI0IEBAIEVYUE9SVF9TWU1CT0woZHJtX2JyaWRnZV9jaGFpbl9lbmFibGUpOwo+ICAgKiBOb3Rl
OiB0aGUgYnJpZGdlIHBhc3NlZCBzaG91bGQgYmUgdGhlIG9uZSBjbG9zZXN0IHRvIHRoZSBlbmNv
ZGVyCj4gICAqLwo+ICB2b2lkIGRybV9hdG9taWNfYnJpZGdlX2NoYWluX2Rpc2FibGUoc3RydWN0
IGRybV9icmlkZ2UgKmJyaWRnZSwKPiAtCQkJCSAgICAgc3RydWN0IGRybV9hdG9taWNfc3RhdGUg
KnN0YXRlKQo+ICsJCQkJICAgICBzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqb2xkX3N0YXRlKQo+
ICB7Cj4gIAlzdHJ1Y3QgZHJtX2VuY29kZXIgKmVuY29kZXIgPSBicmlkZ2UtPmVuY29kZXI7Cj4g
IAlzdHJ1Y3QgZHJtX2JyaWRnZSAqaXRlcjsKPiAgCj4gIAlsaXN0X2Zvcl9lYWNoX2VudHJ5X3Jl
dmVyc2UoaXRlciwgJmVuY29kZXItPmJyaWRnZV9jaGFpbiwgY2hhaW5fbm9kZSkgewo+IC0JCWlm
IChpdGVyLT5mdW5jcy0+YXRvbWljX2Rpc2FibGUpCj4gLQkJCWl0ZXItPmZ1bmNzLT5hdG9taWNf
ZGlzYWJsZShpdGVyLCBzdGF0ZSk7Cj4gLQkJZWxzZSBpZiAoaXRlci0+ZnVuY3MtPmRpc2FibGUp
Cj4gKwkJaWYgKGl0ZXItPmZ1bmNzLT5hdG9taWNfZGlzYWJsZSkgewo+ICsJCQlzdHJ1Y3QgZHJt
X2JyaWRnZV9zdGF0ZSAqYnJpZGdlX3N0YXRlOwo+ICsKPiArCQkJYnJpZGdlX3N0YXRlID0gZHJt
X2F0b21pY19nZXRfb2xkX2JyaWRnZV9zdGF0ZShvbGRfc3RhdGUsCj4gKwkJCQkJCQkJICAgICAg
IGl0ZXIpOwo+ICsJCQlpZiAoV0FSTl9PTighYnJpZGdlX3N0YXRlKSkKPiArCQkJCXJldHVybjsK
PiArCj4gKwkJCWl0ZXItPmZ1bmNzLT5hdG9taWNfZGlzYWJsZShpdGVyLCBicmlkZ2Vfc3RhdGUp
Owo+ICsJCX0gZWxzZSBpZiAoaXRlci0+ZnVuY3MtPmRpc2FibGUpIHsKPiAgCQkJaXRlci0+ZnVu
Y3MtPmRpc2FibGUoaXRlcik7Cj4gKwkJfQo+ICAKPiAgCQlpZiAoaXRlciA9PSBicmlkZ2UpCj4g
IAkJCWJyZWFrOwo+IEBAIC00NjgsNyArNDc2LDcgQEAgRVhQT1JUX1NZTUJPTChkcm1fYXRvbWlj
X2JyaWRnZV9jaGFpbl9kaXNhYmxlKTsKPiAgICogZHJtX2F0b21pY19icmlkZ2VfY2hhaW5fcG9z
dF9kaXNhYmxlIC0gY2xlYW5zIHVwIGFmdGVyIGRpc2FibGluZyBhbGwgYnJpZGdlcwo+ICAgKgkJ
CQkJICBpbiB0aGUgZW5jb2RlciBjaGFpbgo+ICAgKiBAYnJpZGdlOiBicmlkZ2UgY29udHJvbCBz
dHJ1Y3R1cmUKPiAtICogQHN0YXRlOiBhdG9taWMgc3RhdGUgYmVpbmcgY29tbWl0dGVkCj4gKyAq
IEBvbGRfc3RhdGU6IG9sZCBhdG9taWMgc3RhdGUKPiAgICoKPiAgICogQ2FsbHMgJmRybV9icmlk
Z2VfZnVuY3MuYXRvbWljX3Bvc3RfZGlzYWJsZSAoZmFsbHMgYmFjayBvbgo+ICAgKiAmZHJtX2Jy
aWRnZV9mdW5jcy5wb3N0X2Rpc2FibGUpIG9wIGZvciBhbGwgdGhlIGJyaWRnZXMgaW4gdGhlIGVu
Y29kZXIgY2hhaW4sCj4gQEAgLTQ3OCwxNSArNDg2LDI0IEBAIEVYUE9SVF9TWU1CT0woZHJtX2F0
b21pY19icmlkZ2VfY2hhaW5fZGlzYWJsZSk7Cj4gICAqIE5vdGU6IHRoZSBicmlkZ2UgcGFzc2Vk
IHNob3VsZCBiZSB0aGUgb25lIGNsb3Nlc3QgdG8gdGhlIGVuY29kZXIKPiAgICovCj4gIHZvaWQg
ZHJtX2F0b21pY19icmlkZ2VfY2hhaW5fcG9zdF9kaXNhYmxlKHN0cnVjdCBkcm1fYnJpZGdlICpi
cmlkZ2UsCj4gLQkJCQkJICBzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqc3RhdGUpCj4gKwkJCQkJ
ICBzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqb2xkX3N0YXRlKQo+ICB7Cj4gIAlzdHJ1Y3QgZHJt
X2VuY29kZXIgKmVuY29kZXIgPSBicmlkZ2UtPmVuY29kZXI7Cj4gIAo+ICAJbGlzdF9mb3JfZWFj
aF9lbnRyeV9mcm9tKGJyaWRnZSwgJmVuY29kZXItPmJyaWRnZV9jaGFpbiwgY2hhaW5fbm9kZSkg
ewo+IC0JCWlmIChicmlkZ2UtPmZ1bmNzLT5hdG9taWNfcG9zdF9kaXNhYmxlKQo+IC0JCQlicmlk
Z2UtPmZ1bmNzLT5hdG9taWNfcG9zdF9kaXNhYmxlKGJyaWRnZSwgc3RhdGUpOwo+IC0JCWVsc2Ug
aWYgKGJyaWRnZS0+ZnVuY3MtPnBvc3RfZGlzYWJsZSkKPiArCQlpZiAoYnJpZGdlLT5mdW5jcy0+
YXRvbWljX3Bvc3RfZGlzYWJsZSkgewo+ICsJCQlzdHJ1Y3QgZHJtX2JyaWRnZV9zdGF0ZSAqYnJp
ZGdlX3N0YXRlOwo+ICsKPiArCQkJYnJpZGdlX3N0YXRlID0gZHJtX2F0b21pY19nZXRfb2xkX2Jy
aWRnZV9zdGF0ZShvbGRfc3RhdGUsCj4gKwkJCQkJCQkJICAgICAgIGJyaWRnZSk7Cj4gKwkJCWlm
IChXQVJOX09OKCFicmlkZ2Vfc3RhdGUpKQo+ICsJCQkJcmV0dXJuOwo+ICsKPiArCQkJYnJpZGdl
LT5mdW5jcy0+YXRvbWljX3Bvc3RfZGlzYWJsZShicmlkZ2UsCj4gKwkJCQkJCQkgICBicmlkZ2Vf
c3RhdGUpOwo+ICsJCX0gZWxzZSBpZiAoYnJpZGdlLT5mdW5jcy0+cG9zdF9kaXNhYmxlKSB7Cj4g
IAkJCWJyaWRnZS0+ZnVuY3MtPnBvc3RfZGlzYWJsZShicmlkZ2UpOwo+ICsJCX0KPiAgCX0KPiAg
fQo+ICBFWFBPUlRfU1lNQk9MKGRybV9hdG9taWNfYnJpZGdlX2NoYWluX3Bvc3RfZGlzYWJsZSk7
Cj4gQEAgLTQ5NSw3ICs1MTIsNyBAQCBFWFBPUlRfU1lNQk9MKGRybV9hdG9taWNfYnJpZGdlX2No
YWluX3Bvc3RfZGlzYWJsZSk7Cj4gICAqIGRybV9hdG9taWNfYnJpZGdlX2NoYWluX3ByZV9lbmFi
bGUgLSBwcmVwYXJlcyBmb3IgZW5hYmxpbmcgYWxsIGJyaWRnZXMgaW4KPiAgICoJCQkJCXRoZSBl
bmNvZGVyIGNoYWluCj4gICAqIEBicmlkZ2U6IGJyaWRnZSBjb250cm9sIHN0cnVjdHVyZQo+IC0g
KiBAc3RhdGU6IGF0b21pYyBzdGF0ZSBiZWluZyBjb21taXR0ZWQKPiArICogQG9sZF9zdGF0ZTog
b2xkIGF0b21pYyBzdGF0ZQo+ICAgKgo+ICAgKiBDYWxscyAmZHJtX2JyaWRnZV9mdW5jcy5hdG9t
aWNfcHJlX2VuYWJsZSAoZmFsbHMgYmFjayBvbgo+ICAgKiAmZHJtX2JyaWRnZV9mdW5jcy5wcmVf
ZW5hYmxlKSBvcCBmb3IgYWxsIHRoZSBicmlkZ2VzIGluIHRoZSBlbmNvZGVyIGNoYWluLAo+IEBA
IC01MDUsMTYgKzUyMiwyNCBAQCBFWFBPUlRfU1lNQk9MKGRybV9hdG9taWNfYnJpZGdlX2NoYWlu
X3Bvc3RfZGlzYWJsZSk7Cj4gICAqIE5vdGU6IHRoZSBicmlkZ2UgcGFzc2VkIHNob3VsZCBiZSB0
aGUgb25lIGNsb3Nlc3QgdG8gdGhlIGVuY29kZXIKPiAgICovCj4gIHZvaWQgZHJtX2F0b21pY19i
cmlkZ2VfY2hhaW5fcHJlX2VuYWJsZShzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlLAo+IC0JCQkJ
CXN0cnVjdCBkcm1fYXRvbWljX3N0YXRlICpzdGF0ZSkKPiArCQkJCQlzdHJ1Y3QgZHJtX2F0b21p
Y19zdGF0ZSAqb2xkX3N0YXRlKQo+ICB7Cj4gIAlzdHJ1Y3QgZHJtX2VuY29kZXIgKmVuY29kZXIg
PSBicmlkZ2UtPmVuY29kZXI7Cj4gIAlzdHJ1Y3QgZHJtX2JyaWRnZSAqaXRlcjsKPiAgCj4gIAls
aXN0X2Zvcl9lYWNoX2VudHJ5X3JldmVyc2UoaXRlciwgJmVuY29kZXItPmJyaWRnZV9jaGFpbiwg
Y2hhaW5fbm9kZSkgewo+IC0JCWlmIChpdGVyLT5mdW5jcy0+YXRvbWljX3ByZV9lbmFibGUpCj4g
LQkJCWl0ZXItPmZ1bmNzLT5hdG9taWNfcHJlX2VuYWJsZShpdGVyLCBzdGF0ZSk7Cj4gLQkJZWxz
ZSBpZiAoaXRlci0+ZnVuY3MtPnByZV9lbmFibGUpCj4gKwkJaWYgKGl0ZXItPmZ1bmNzLT5hdG9t
aWNfcHJlX2VuYWJsZSkgewo+ICsJCQlzdHJ1Y3QgZHJtX2JyaWRnZV9zdGF0ZSAqYnJpZGdlX3N0
YXRlOwo+ICsKPiArCQkJYnJpZGdlX3N0YXRlID0gZHJtX2F0b21pY19nZXRfb2xkX2JyaWRnZV9z
dGF0ZShvbGRfc3RhdGUsCj4gKwkJCQkJCQkJICAgICAgIGl0ZXIpOwo+ICsJCQlpZiAoV0FSTl9P
TighYnJpZGdlX3N0YXRlKSkKPiArCQkJCXJldHVybjsKPiArCj4gKwkJCWl0ZXItPmZ1bmNzLT5h
dG9taWNfcHJlX2VuYWJsZShpdGVyLCBicmlkZ2Vfc3RhdGUpOwo+ICsJCX0gZWxzZSBpZiAoaXRl
ci0+ZnVuY3MtPnByZV9lbmFibGUpIHsKPiAgCQkJaXRlci0+ZnVuY3MtPnByZV9lbmFibGUoaXRl
cik7Cj4gKwkJfQo+ICAKPiAgCQlpZiAoaXRlciA9PSBicmlkZ2UpCj4gIAkJCWJyZWFrOwo+IEBA
IC01MjUsNyArNTUwLDcgQEAgRVhQT1JUX1NZTUJPTChkcm1fYXRvbWljX2JyaWRnZV9jaGFpbl9w
cmVfZW5hYmxlKTsKPiAgLyoqCj4gICAqIGRybV9hdG9taWNfYnJpZGdlX2NoYWluX2VuYWJsZSAt
IGVuYWJsZXMgYWxsIGJyaWRnZXMgaW4gdGhlIGVuY29kZXIgY2hhaW4KPiAgICogQGJyaWRnZTog
YnJpZGdlIGNvbnRyb2wgc3RydWN0dXJlCj4gLSAqIEBzdGF0ZTogYXRvbWljIHN0YXRlIGJlaW5n
IGNvbW1pdHRlZAo+ICsgKiBAb2xkX3N0YXRlOiBvbGQgYXRvbWljIHN0YXRlCj4gICAqCj4gICAq
IENhbGxzICZkcm1fYnJpZGdlX2Z1bmNzLmF0b21pY19lbmFibGUgKGZhbGxzIGJhY2sgb24KPiAg
ICogJmRybV9icmlkZ2VfZnVuY3MuZW5hYmxlKSBvcCBmb3IgYWxsIHRoZSBicmlkZ2VzIGluIHRo
ZSBlbmNvZGVyIGNoYWluLAo+IEBAIC01MzUsMTUgKzU2MCwyMyBAQCBFWFBPUlRfU1lNQk9MKGRy
bV9hdG9taWNfYnJpZGdlX2NoYWluX3ByZV9lbmFibGUpOwo+ICAgKiBOb3RlOiB0aGUgYnJpZGdl
IHBhc3NlZCBzaG91bGQgYmUgdGhlIG9uZSBjbG9zZXN0IHRvIHRoZSBlbmNvZGVyCj4gICAqLwo+
ICB2b2lkIGRybV9hdG9taWNfYnJpZGdlX2NoYWluX2VuYWJsZShzdHJ1Y3QgZHJtX2JyaWRnZSAq
YnJpZGdlLAo+IC0JCQkJICAgIHN0cnVjdCBkcm1fYXRvbWljX3N0YXRlICpzdGF0ZSkKPiArCQkJ
CSAgICBzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqb2xkX3N0YXRlKQo+ICB7Cj4gIAlzdHJ1Y3Qg
ZHJtX2VuY29kZXIgKmVuY29kZXIgPSBicmlkZ2UtPmVuY29kZXI7Cj4gIAo+ICAJbGlzdF9mb3Jf
ZWFjaF9lbnRyeV9mcm9tKGJyaWRnZSwgJmVuY29kZXItPmJyaWRnZV9jaGFpbiwgY2hhaW5fbm9k
ZSkgewo+IC0JCWlmIChicmlkZ2UtPmZ1bmNzLT5hdG9taWNfZW5hYmxlKQo+IC0JCQlicmlkZ2Ut
PmZ1bmNzLT5hdG9taWNfZW5hYmxlKGJyaWRnZSwgc3RhdGUpOwo+IC0JCWVsc2UgaWYgKGJyaWRn
ZS0+ZnVuY3MtPmVuYWJsZSkKPiArCQlpZiAoYnJpZGdlLT5mdW5jcy0+YXRvbWljX2VuYWJsZSkg
ewo+ICsJCQlzdHJ1Y3QgZHJtX2JyaWRnZV9zdGF0ZSAqYnJpZGdlX3N0YXRlOwo+ICsKPiArCQkJ
YnJpZGdlX3N0YXRlID0gZHJtX2F0b21pY19nZXRfb2xkX2JyaWRnZV9zdGF0ZShvbGRfc3RhdGUs
Cj4gKwkJCQkJCQkJICAgICAgIGJyaWRnZSk7Cj4gKwkJCWlmIChXQVJOX09OKCFicmlkZ2Vfc3Rh
dGUpKQo+ICsJCQkJcmV0dXJuOwo+ICsKPiArCQkJYnJpZGdlLT5mdW5jcy0+YXRvbWljX2VuYWJs
ZShicmlkZ2UsIGJyaWRnZV9zdGF0ZSk7Cj4gKwkJfSBlbHNlIGlmIChicmlkZ2UtPmZ1bmNzLT5l
bmFibGUpIHsKPiAgCQkJYnJpZGdlLT5mdW5jcy0+ZW5hYmxlKGJyaWRnZSk7Cj4gKwkJfQo+ICAJ
fQo+ICB9Cj4gIEVYUE9SVF9TWU1CT0woZHJtX2F0b21pY19icmlkZ2VfY2hhaW5fZW5hYmxlKTsK
PiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9kcm0vZHJtX2JyaWRnZS5oIGIvaW5jbHVkZS9kcm0vZHJt
X2JyaWRnZS5oCj4gaW5kZXggMTFiMjBlMmE5ZmM2Li4yMzFmNjJjZDY4MWQgMTAwNjQ0Cj4gLS0t
IGEvaW5jbHVkZS9kcm0vZHJtX2JyaWRnZS5oCj4gKysrIGIvaW5jbHVkZS9kcm0vZHJtX2JyaWRn
ZS5oCj4gQEAgLTI2NCw3ICsyNjQsOCBAQCBzdHJ1Y3QgZHJtX2JyaWRnZV9mdW5jcyB7Cj4gIAkg
KiBwcmVjZWRpbmcgZWxlbWVudCBpcyBhIGJyaWRnZSB0aGlzIG1lYW5zIGl0J3MgY2FsbGVkIGJl
Zm9yZSB0aGF0Cj4gIAkgKiBicmlkZ2UncyBAYXRvbWljX3ByZV9lbmFibGUgb3IgQHByZV9lbmFi
bGUgZnVuY3Rpb24uIElmIHRoZSBwcmVjZWRpbmcKPiAgCSAqIGVsZW1lbnQgaXMgYSAmZHJtX2Vu
Y29kZXIgaXQncyBjYWxsZWQgcmlnaHQgYmVmb3JlIHRoZSBlbmNvZGVyJ3MKPiAtCSAqICZkcm1f
ZW5jb2Rlcl9oZWxwZXJfZnVuY3MuYXRvbWljX2VuYWJsZSBob29rLgo+ICsJICogJmRybV9lbmNv
ZGVyX2hlbHBlcl9mdW5jcy5hdG9taWNfZW5hYmxlIGhvb2suIFRoaXMgaG9vayBpcyBwYXNzZWQg
dGhlCj4gKwkgKiBvbGQgYnJpZGdlIHN0YXRlICh0aGUgbmV3IG9uZSBjYW4gYmUgcmV0cmlldmVk
IGZyb20gYnJpZGdlLT5zdGF0ZSkuCj4gIAkgKgo+ICAJICogVGhlIGRpc3BsYXkgcGlwZSAoaS5l
LiBjbG9ja3MgYW5kIHRpbWluZyBzaWduYWxzKSBmZWVkaW5nIHRoaXMgYnJpZGdlCj4gIAkgKiB3
aWxsIG5vdCB5ZXQgYmUgcnVubmluZyB3aGVuIHRoaXMgY2FsbGJhY2sgaXMgY2FsbGVkLiBUaGUg
YnJpZGdlIG11c3QKPiBAQCAtMjgwLDcgKzI4MSw3IEBAIHN0cnVjdCBkcm1fYnJpZGdlX2Z1bmNz
IHsKPiAgCSAqIFRoZSBAYXRvbWljX3ByZV9lbmFibGUgY2FsbGJhY2sgaXMgb3B0aW9uYWwuCj4g
IAkgKi8KPiAgCXZvaWQgKCphdG9taWNfcHJlX2VuYWJsZSkoc3RydWN0IGRybV9icmlkZ2UgKmJy
aWRnZSwKPiAtCQkJCSAgc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnN0YXRlKTsKPiArCQkJCSAg
c3RydWN0IGRybV9icmlkZ2Vfc3RhdGUgKm9sZF9icmlkZ2Vfc3RhdGUpOwo+ICAKPiAgCS8qKgo+
ICAJICogQGF0b21pY19lbmFibGU6Cj4gQEAgLTI5MCw3ICsyOTEsOSBAQCBzdHJ1Y3QgZHJtX2Jy
aWRnZV9mdW5jcyB7Cj4gIAkgKiBwcmVjZWRpbmcgZWxlbWVudCBpcyBhIGJyaWRnZSB0aGlzIG1l
YW5zIGl0J3MgY2FsbGVkIGFmdGVyIHRoYXQKPiAgCSAqIGJyaWRnZSdzIEBhdG9taWNfZW5hYmxl
IG9yIEBlbmFibGUgZnVuY3Rpb24uIElmIHRoZSBwcmVjZWRpbmcgZWxlbWVudAo+ICAJICogaXMg
YSAmZHJtX2VuY29kZXIgaXQncyBjYWxsZWQgcmlnaHQgYWZ0ZXIgdGhlIGVuY29kZXIncwo+IC0J
ICogJmRybV9lbmNvZGVyX2hlbHBlcl9mdW5jcy5hdG9taWNfZW5hYmxlIGhvb2suCj4gKwkgKiAm
ZHJtX2VuY29kZXJfaGVscGVyX2Z1bmNzLmF0b21pY19lbmFibGUgaG9vay4gVGhpcyBob29rIGlz
IHBhc3NlZAo+ICsJICogdGhlIG9sZCBicmlkZ2Ugc3RhdGUgKHRoZSBuZXcgb25lIGNhbiBiZSBy
ZXRyaWV2ZWQgZnJvbQo+ICsJICogYnJpZGdlLT5zdGF0ZSkuCj4gIAkgKgo+ICAJICogVGhlIGJy
aWRnZSBjYW4gYXNzdW1lIHRoYXQgdGhlIGRpc3BsYXkgcGlwZSAoaS5lLiBjbG9ja3MgYW5kIHRp
bWluZwo+ICAJICogc2lnbmFscykgZmVlZGluZyBpdCBpcyBydW5uaW5nIHdoZW4gdGhpcyBjYWxs
YmFjayBpcyBjYWxsZWQuIFRoaXMKPiBAQCAtMzA1LDcgKzMwOCw3IEBAIHN0cnVjdCBkcm1fYnJp
ZGdlX2Z1bmNzIHsKPiAgCSAqIFRoZSBlbmFibGUgY2FsbGJhY2sgaXMgb3B0aW9uYWwuCj4gIAkg
Ki8KPiAgCXZvaWQgKCphdG9taWNfZW5hYmxlKShzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlLAo+
IC0JCQkgICAgICBzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqc3RhdGUpOwo+ICsJCQkgICAgICBz
dHJ1Y3QgZHJtX2JyaWRnZV9zdGF0ZSAqb2xkX2JyaWRnZV9zdGF0ZSk7Cj4gIAkvKioKPiAgCSAq
IEBhdG9taWNfZGlzYWJsZToKPiAgCSAqCj4gQEAgLTMxNCw3ICszMTcsOSBAQCBzdHJ1Y3QgZHJt
X2JyaWRnZV9mdW5jcyB7Cj4gIAkgKiBwcmVjZWRpbmcgZWxlbWVudCBpcyBhIGJyaWRnZSB0aGlz
IG1lYW5zIGl0J3MgY2FsbGVkIGJlZm9yZSB0aGF0Cj4gIAkgKiBicmlkZ2UncyBAYXRvbWljX2Rp
c2FibGUgb3IgQGRpc2FibGUgdmZ1bmMuIElmIHRoZSBwcmVjZWRpbmcgZWxlbWVudAo+ICAJICog
aXMgYSAmZHJtX2VuY29kZXIgaXQncyBjYWxsZWQgcmlnaHQgYmVmb3JlIHRoZQo+IC0JICogJmRy
bV9lbmNvZGVyX2hlbHBlcl9mdW5jcy5hdG9taWNfZGlzYWJsZSBob29rLgo+ICsJICogJmRybV9l
bmNvZGVyX2hlbHBlcl9mdW5jcy5hdG9taWNfZGlzYWJsZSBob29rLiBUaGlzIGhvb2sgaXMgcGFz
c2VkCj4gKwkgKiB0aGUgb2xkIGJyaWRnZSBzdGF0ZSAodGhlIG5ldyBvbmUgY2FuIGJlIHJldHJp
ZXZlZCBmcm9tCj4gKwkgKiBicmlkZ2UtPnN0YXRlKS4KPiAgCSAqCj4gIAkgKiBUaGUgYnJpZGdl
IGNhbiBhc3N1bWUgdGhhdCB0aGUgZGlzcGxheSBwaXBlIChpLmUuIGNsb2NrcyBhbmQgdGltaW5n
Cj4gIAkgKiBzaWduYWxzKSBmZWVkaW5nIGl0IGlzIHN0aWxsIHJ1bm5pbmcgd2hlbiB0aGlzIGNh
bGxiYWNrIGlzIGNhbGxlZC4KPiBAQCAtMzI4LDcgKzMzMyw3IEBAIHN0cnVjdCBkcm1fYnJpZGdl
X2Z1bmNzIHsKPiAgCSAqIFRoZSBkaXNhYmxlIGNhbGxiYWNrIGlzIG9wdGlvbmFsLgo+ICAJICov
Cj4gIAl2b2lkICgqYXRvbWljX2Rpc2FibGUpKHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UsCj4g
LQkJCSAgICAgICBzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqc3RhdGUpOwo+ICsJCQkgICAgICAg
c3RydWN0IGRybV9icmlkZ2Vfc3RhdGUgKm9sZF9icmlkZ2Vfc3RhdGUpOwo+ICAKPiAgCS8qKgo+
ICAJICogQGF0b21pY19wb3N0X2Rpc2FibGU6Cj4gQEAgLTMzOCw3ICszNDMsOSBAQCBzdHJ1Y3Qg
ZHJtX2JyaWRnZV9mdW5jcyB7Cj4gIAkgKiBlbGVtZW50IGlzIGEgYnJpZGdlIHRoaXMgbWVhbnMg
aXQncyBjYWxsZWQgYWZ0ZXIgdGhhdCBicmlkZ2Uncwo+ICAJICogQGF0b21pY19wb3N0X2Rpc2Fi
bGUgb3IgQHBvc3RfZGlzYWJsZSBmdW5jdGlvbi4gSWYgdGhlIHByZWNlZGluZwo+ICAJICogZWxl
bWVudCBpcyBhICZkcm1fZW5jb2RlciBpdCdzIGNhbGxlZCByaWdodCBhZnRlciB0aGUgZW5jb2Rl
cidzCj4gLQkgKiAmZHJtX2VuY29kZXJfaGVscGVyX2Z1bmNzLmF0b21pY19kaXNhYmxlIGhvb2su
Cj4gKwkgKiAmZHJtX2VuY29kZXJfaGVscGVyX2Z1bmNzLmF0b21pY19kaXNhYmxlIGhvb2suIFRo
aXMgaG9vayBpcyBwYXNzZWQKPiArCSAqIHRoZSBvbGQgYnJpZGdlIHN0YXRlICh0aGUgbmV3IG9u
ZSBjYW4gYmUgcmV0cmlldmVkIGZyb20KPiArCSAqIGJyaWRnZS0+c3RhdGUpLgo+ICAJICoKPiAg
CSAqIFRoZSBicmlkZ2UgbXVzdCBhc3N1bWUgdGhhdCB0aGUgZGlzcGxheSBwaXBlIChpLmUuIGNs
b2NrcyBhbmQgdGltaW5nCj4gIAkgKiBzaWduYWxzKSBmZWVkaW5nIGl0IGlzIG5vIGxvbmdlciBy
dW5uaW5nIHdoZW4gdGhpcyBjYWxsYmFjayBpcwo+IEBAIC0zNTQsNyArMzYxLDcgQEAgc3RydWN0
IGRybV9icmlkZ2VfZnVuY3Mgewo+ICAJICogVGhlIHBvc3RfZGlzYWJsZSBjYWxsYmFjayBpcyBv
cHRpb25hbC4KPiAgCSAqLwo+ICAJdm9pZCAoKmF0b21pY19wb3N0X2Rpc2FibGUpKHN0cnVjdCBk
cm1fYnJpZGdlICpicmlkZ2UsCj4gLQkJCQkgICAgc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnN0
YXRlKTsKPiArCQkJCSAgICBzdHJ1Y3QgZHJtX2JyaWRnZV9zdGF0ZSAqb2xkX2JyaWRnZV9zdGF0
ZSk7Cj4gIAo+ICAJLyoqCj4gIAkgKiBAYXRvbWljX2R1cGxpY2F0ZV9zdGF0ZToKPiAKCl9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWls
aW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZy
ZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
