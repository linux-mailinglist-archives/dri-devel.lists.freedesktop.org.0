Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id B3D2EEB290
	for <lists+dri-devel@lfdr.de>; Thu, 31 Oct 2019 15:26:28 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 417EC6E0D6;
	Thu, 31 Oct 2019 14:26:24 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from bhuna.collabora.co.uk (bhuna.collabora.co.uk
 [IPv6:2a00:1098:0:82:1000:25:2eeb:e3e3])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C36516E0B7
 for <dri-devel@lists.freedesktop.org>; Thu, 31 Oct 2019 14:26:22 +0000 (UTC)
Received: from [127.0.0.1] (localhost [127.0.0.1])
 (Authenticated sender: aratiu) with ESMTPSA id 5EAB2290852
From: Adrian Ratiu <adrian.ratiu@collabora.com>
To: linux-arm-kernel@lists.infradead.org,
 linux-stm32@st-md-mailman.stormreply.com,
 linux-rockchip@lists.infradead.org
Subject: [PATCH 1/4] drm: bridge: dw_mipi_dsi: access registers via a regmap
Date: Thu, 31 Oct 2019 16:26:30 +0200
Message-Id: <20191031142633.12460-2-adrian.ratiu@collabora.com>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20191031142633.12460-1-adrian.ratiu@collabora.com>
References: <20191031142633.12460-1-adrian.ratiu@collabora.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: kernel@collabora.com, linux-kernel@vger.kernel.org,
 dri-devel@lists.freedesktop.org,
 Boris Brezillon <boris.brezillon@collabora.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Q29udmVydCB0aGUgY29tbW9uIGJyaWRnZSBjb2RlIGFuZCB0aGUgdHdvIHJvY2tjaGlwICYgc3Rt
IGRyaXZlcnMKd2hpY2ggY3VycmVudGx5IHVzZSBpdCB0byB0aGUgcmVnbWFwIEFQSSBpbiBhbnRp
Y2lwYXRpb24gZm9yIGZ1cnRoZXIKY2hhbmdlcyB0byBtYWtlIGl0IG1vcmUgZ2VuZXJpYyBhbmQg
YWRkIG9sZGVyIERTSSBob3N0IGNvbnRyb2xsZXIKc3VwcG9ydCBhcyBmb3VuZCBvbiBpLm14NiBi
YXNlZCBkZXZpY2VzLgoKTm8gZnVuY3Rpb25hbCBjaGFuZ2VzIG90aGVyIHRoYW4gcmVxdWlyaW5n
IHRoZSBwbGF0Zm9ybSBkcml2ZXJzIHRvCnByb3ZpZGUgYSByZWdtYXAgdmlhIHRoZWlyIHBsYXRf
ZGF0YS4gR29pbmcgZnVydGhlciBlYWNoIHBsYXRmb3JtCmRyaXZlciBjYW4gYWxzbyBhZGQgaXRz
IG93biByZWdtYXAgY29uZmlndXJhdGlvbiBsaWtlIGZvciBtYXhpbXVtCndyaXRlIG9mZnNldHMs
IHIvdyBjYWxsYmFja3Mgb3IgZGlmZmVyZW50IHJlZ2lzdGVyIGxheW91dHMuCgpTdWdnZXN0ZWQt
Ynk6IEJvcmlzIEJyZXppbGxvbiA8Ym9yaXMuYnJlemlsbG9uQGNvbGxhYm9yYS5jb20+ClNpZ25l
ZC1vZmYtYnk6IEFkcmlhbiBSYXRpdSA8YWRyaWFuLnJhdGl1QGNvbGxhYm9yYS5jb20+Ci0tLQog
ZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9zeW5vcHN5cy9kdy1taXBpLWRzaS5jIHwgMTg5ICsrKysr
KysrKy0tLS0tLS0tLQogLi4uL2dwdS9kcm0vcm9ja2NoaXAvZHctbWlwaS1kc2ktcm9ja2NoaXAu
YyAgIHwgIDM2ICsrKy0KIGRyaXZlcnMvZ3B1L2RybS9zdG0vZHdfbWlwaV9kc2ktc3RtLmMgICAg
ICAgICB8ICA0NCArKy0tCiBpbmNsdWRlL2RybS9icmlkZ2UvZHdfbWlwaV9kc2kuaCAgICAgICAg
ICAgICAgfCAgIDIgKy0KIDQgZmlsZXMgY2hhbmdlZCwgMTU1IGluc2VydGlvbnMoKyksIDExNiBk
ZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3N5bm9wc3lz
L2R3LW1pcGktZHNpLmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3N5bm9wc3lzL2R3LW1pcGkt
ZHNpLmMKaW5kZXggYjZlNzkzYmI2NTNjLi40ZWYzZTkwMzhjYzIgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9icmlkZ2Uvc3lub3BzeXMvZHctbWlwaS1kc2kuYworKysgYi9kcml2ZXJzL2dw
dS9kcm0vYnJpZGdlL3N5bm9wc3lzL2R3LW1pcGktZHNpLmMKQEAgLTE1LDYgKzE1LDcgQEAKICNp
bmNsdWRlIDxsaW51eC9tb2R1bGUuaD4KICNpbmNsdWRlIDxsaW51eC9vZl9kZXZpY2UuaD4KICNp
bmNsdWRlIDxsaW51eC9wbV9ydW50aW1lLmg+CisjaW5jbHVkZSA8bGludXgvcmVnbWFwLmg+CiAj
aW5jbHVkZSA8bGludXgvcmVzZXQuaD4KIAogI2luY2x1ZGUgPHZpZGVvL21pcGlfZGlzcGxheS5o
PgpAQCAtMjI2LDcgKzIyNyw3IEBAIHN0cnVjdCBkd19taXBpX2RzaSB7CiAJc3RydWN0IG1pcGlf
ZHNpX2hvc3QgZHNpX2hvc3Q7CiAJc3RydWN0IGRybV9icmlkZ2UgKnBhbmVsX2JyaWRnZTsKIAlz
dHJ1Y3QgZGV2aWNlICpkZXY7Ci0Jdm9pZCBfX2lvbWVtICpiYXNlOworCXN0cnVjdCByZWdtYXAg
KnJlZ3M7CiAKIAlzdHJ1Y3QgY2xrICpwY2xrOwogCkBAIC0yODAsMTYgKzI4MSw2IEBAIHN0YXRp
YyBpbmxpbmUgc3RydWN0IGR3X21pcGlfZHNpICpicmlkZ2VfdG9fZHNpKHN0cnVjdCBkcm1fYnJp
ZGdlICpicmlkZ2UpCiAJcmV0dXJuIGNvbnRhaW5lcl9vZihicmlkZ2UsIHN0cnVjdCBkd19taXBp
X2RzaSwgYnJpZGdlKTsKIH0KIAotc3RhdGljIGlubGluZSB2b2lkIGRzaV93cml0ZShzdHJ1Y3Qg
ZHdfbWlwaV9kc2kgKmRzaSwgdTMyIHJlZywgdTMyIHZhbCkKLXsKLQl3cml0ZWwodmFsLCBkc2kt
PmJhc2UgKyByZWcpOwotfQotCi1zdGF0aWMgaW5saW5lIHUzMiBkc2lfcmVhZChzdHJ1Y3QgZHdf
bWlwaV9kc2kgKmRzaSwgdTMyIHJlZykKLXsKLQlyZXR1cm4gcmVhZGwoZHNpLT5iYXNlICsgcmVn
KTsKLX0KLQogc3RhdGljIGludCBkd19taXBpX2RzaV9ob3N0X2F0dGFjaChzdHJ1Y3QgbWlwaV9k
c2lfaG9zdCAqaG9zdCwKIAkJCQkgICBzdHJ1Y3QgbWlwaV9kc2lfZGV2aWNlICpkZXZpY2UpCiB7
CkBAIC0zNjYsMjkgKzM1NywyOSBAQCBzdGF0aWMgdm9pZCBkd19taXBpX21lc3NhZ2VfY29uZmln
KHN0cnVjdCBkd19taXBpX2RzaSAqZHNpLAogCWlmIChscG0pCiAJCXZhbCB8PSBDTURfTU9ERV9B
TExfTFA7CiAKLQlkc2lfd3JpdGUoZHNpLCBEU0lfTFBDTEtfQ1RSTCwgbHBtID8gMCA6IFBIWV9U
WFJFUVVFU1RDTEtIUyk7Ci0JZHNpX3dyaXRlKGRzaSwgRFNJX0NNRF9NT0RFX0NGRywgdmFsKTsK
KwlyZWdtYXBfd3JpdGUoZHNpLT5yZWdzLCBEU0lfTFBDTEtfQ1RSTCwgbHBtID8gMCA6IFBIWV9U
WFJFUVVFU1RDTEtIUyk7CisJcmVnbWFwX3dyaXRlKGRzaS0+cmVncywgRFNJX0NNRF9NT0RFX0NG
RywgdmFsKTsKIH0KIAogc3RhdGljIGludCBkd19taXBpX2RzaV9nZW5fcGt0X2hkcl93cml0ZShz
dHJ1Y3QgZHdfbWlwaV9kc2kgKmRzaSwgdTMyIGhkcl92YWwpCiB7CiAJaW50IHJldDsKLQl1MzIg
dmFsLCBtYXNrOworCXUzMiB2YWwgPSAwLCBtYXNrOwogCi0JcmV0ID0gcmVhZGxfcG9sbF90aW1l
b3V0KGRzaS0+YmFzZSArIERTSV9DTURfUEtUX1NUQVRVUywKLQkJCQkgdmFsLCAhKHZhbCAmIEdF
Tl9DTURfRlVMTCksIDEwMDAsCi0JCQkJIENNRF9QS1RfU1RBVFVTX1RJTUVPVVRfVVMpOworCXJl
dCA9IHJlZ21hcF9yZWFkX3BvbGxfdGltZW91dChkc2ktPnJlZ3MsIERTSV9DTURfUEtUX1NUQVRV
UywKKwkJCQkgICAgICAgdmFsLCAhKHZhbCAmIEdFTl9DTURfRlVMTCksIDEwMDAsCisJCQkJICAg
ICAgIENNRF9QS1RfU1RBVFVTX1RJTUVPVVRfVVMpOwogCWlmIChyZXQpIHsKIAkJZGV2X2Vycihk
c2ktPmRldiwgImZhaWxlZCB0byBnZXQgYXZhaWxhYmxlIGNvbW1hbmQgRklGT1xuIik7CiAJCXJl
dHVybiByZXQ7CiAJfQogCi0JZHNpX3dyaXRlKGRzaSwgRFNJX0dFTl9IRFIsIGhkcl92YWwpOwor
CXJlZ21hcF93cml0ZShkc2ktPnJlZ3MsIERTSV9HRU5fSERSLCBoZHJfdmFsKTsKIAogCW1hc2sg
PSBHRU5fQ01EX0VNUFRZIHwgR0VOX1BMRF9XX0VNUFRZOwotCXJldCA9IHJlYWRsX3BvbGxfdGlt
ZW91dChkc2ktPmJhc2UgKyBEU0lfQ01EX1BLVF9TVEFUVVMsCi0JCQkJIHZhbCwgKHZhbCAmIG1h
c2spID09IG1hc2ssCi0JCQkJIDEwMDAsIENNRF9QS1RfU1RBVFVTX1RJTUVPVVRfVVMpOworCXJl
dCA9IHJlZ21hcF9yZWFkX3BvbGxfdGltZW91dChkc2ktPnJlZ3MsIERTSV9DTURfUEtUX1NUQVRV
UywKKwkJCQkgICAgICAgdmFsLCAodmFsICYgbWFzaykgPT0gbWFzaywKKwkJCQkgICAgICAgMTAw
MCwgQ01EX1BLVF9TVEFUVVNfVElNRU9VVF9VUyk7CiAJaWYgKHJldCkgewogCQlkZXZfZXJyKGRz
aS0+ZGV2LCAiZmFpbGVkIHRvIHdyaXRlIGNvbW1hbmQgRklGT1xuIik7CiAJCXJldHVybiByZXQ7
CkBAIC00MDMsMjQgKzM5NCwyNiBAQCBzdGF0aWMgaW50IGR3X21pcGlfZHNpX3dyaXRlKHN0cnVj
dCBkd19taXBpX2RzaSAqZHNpLAogCWNvbnN0IHU4ICp0eF9idWYgPSBwYWNrZXQtPnBheWxvYWQ7
CiAJaW50IGxlbiA9IHBhY2tldC0+cGF5bG9hZF9sZW5ndGgsIHBsZF9kYXRhX2J5dGVzID0gc2l6
ZW9mKHUzMiksIHJldDsKIAlfX2xlMzIgd29yZDsKLQl1MzIgdmFsOworCXUzMiB2YWwgPSAwOwog
CiAJd2hpbGUgKGxlbikgewogCQlpZiAobGVuIDwgcGxkX2RhdGFfYnl0ZXMpIHsKIAkJCXdvcmQg
PSAwOwogCQkJbWVtY3B5KCZ3b3JkLCB0eF9idWYsIGxlbik7Ci0JCQlkc2lfd3JpdGUoZHNpLCBE
U0lfR0VOX1BMRF9EQVRBLCBsZTMyX3RvX2NwdSh3b3JkKSk7CisJCQlyZWdtYXBfd3JpdGUoZHNp
LT5yZWdzLCBEU0lfR0VOX1BMRF9EQVRBLAorCQkJCSAgICAgbGUzMl90b19jcHUod29yZCkpOwog
CQkJbGVuID0gMDsKIAkJfSBlbHNlIHsKIAkJCW1lbWNweSgmd29yZCwgdHhfYnVmLCBwbGRfZGF0
YV9ieXRlcyk7Ci0JCQlkc2lfd3JpdGUoZHNpLCBEU0lfR0VOX1BMRF9EQVRBLCBsZTMyX3RvX2Nw
dSh3b3JkKSk7CisJCQlyZWdtYXBfd3JpdGUoZHNpLT5yZWdzLCBEU0lfR0VOX1BMRF9EQVRBLAor
CQkJCSAgICAgbGUzMl90b19jcHUod29yZCkpOwogCQkJdHhfYnVmICs9IHBsZF9kYXRhX2J5dGVz
OwogCQkJbGVuIC09IHBsZF9kYXRhX2J5dGVzOwogCQl9CiAKLQkJcmV0ID0gcmVhZGxfcG9sbF90
aW1lb3V0KGRzaS0+YmFzZSArIERTSV9DTURfUEtUX1NUQVRVUywKLQkJCQkJIHZhbCwgISh2YWwg
JiBHRU5fUExEX1dfRlVMTCksIDEwMDAsCi0JCQkJCSBDTURfUEtUX1NUQVRVU19USU1FT1VUX1VT
KTsKKwkJcmV0ID0gcmVnbWFwX3JlYWRfcG9sbF90aW1lb3V0KGRzaS0+cmVncywgRFNJX0NNRF9Q
S1RfU1RBVFVTLAorCQkJCQkgICAgICAgdmFsLCAhKHZhbCAmIEdFTl9QTERfV19GVUxMKSwKKwkJ
CQkJICAgICAgIDEwMDAsIENNRF9QS1RfU1RBVFVTX1RJTUVPVVRfVVMpOwogCQlpZiAocmV0KSB7
CiAJCQlkZXZfZXJyKGRzaS0+ZGV2LAogCQkJCSJmYWlsZWQgdG8gZ2V0IGF2YWlsYWJsZSB3cml0
ZSBwYXlsb2FkIEZJRk9cbiIpOwpAQCAtNDM4LDEyICs0MzEsMTIgQEAgc3RhdGljIGludCBkd19t
aXBpX2RzaV9yZWFkKHN0cnVjdCBkd19taXBpX2RzaSAqZHNpLAogewogCWludCBpLCBqLCByZXQs
IGxlbiA9IG1zZy0+cnhfbGVuOwogCXU4ICpidWYgPSBtc2ctPnJ4X2J1ZjsKLQl1MzIgdmFsOwor
CXUzMiB2YWwgPSAwOwogCiAJLyogV2FpdCBlbmQgb2YgdGhlIHJlYWQgb3BlcmF0aW9uICovCi0J
cmV0ID0gcmVhZGxfcG9sbF90aW1lb3V0KGRzaS0+YmFzZSArIERTSV9DTURfUEtUX1NUQVRVUywK
LQkJCQkgdmFsLCAhKHZhbCAmIEdFTl9SRF9DTURfQlVTWSksCi0JCQkJIDEwMDAsIENNRF9QS1Rf
U1RBVFVTX1RJTUVPVVRfVVMpOworCXJldCA9IHJlZ21hcF9yZWFkX3BvbGxfdGltZW91dChkc2kt
PnJlZ3MsIERTSV9DTURfUEtUX1NUQVRVUywKKwkJCQkgICAgICAgdmFsLCAhKHZhbCAmIEdFTl9S
RF9DTURfQlVTWSksCisJCQkJICAgICAgIDEwMDAsIENNRF9QS1RfU1RBVFVTX1RJTUVPVVRfVVMp
OwogCWlmIChyZXQpIHsKIAkJZGV2X2Vycihkc2ktPmRldiwgIlRpbWVvdXQgZHVyaW5nIHJlYWQg
b3BlcmF0aW9uXG4iKTsKIAkJcmV0dXJuIHJldDsKQEAgLTQ1MSwxNSArNDQ0LDE1IEBAIHN0YXRp
YyBpbnQgZHdfbWlwaV9kc2lfcmVhZChzdHJ1Y3QgZHdfbWlwaV9kc2kgKmRzaSwKIAogCWZvciAo
aSA9IDA7IGkgPCBsZW47IGkgKz0gNCkgewogCQkvKiBSZWFkIGZpZm8gbXVzdCBub3QgYmUgZW1w
dHkgYmVmb3JlIGFsbCBieXRlcyBhcmUgcmVhZCAqLwotCQlyZXQgPSByZWFkbF9wb2xsX3RpbWVv
dXQoZHNpLT5iYXNlICsgRFNJX0NNRF9QS1RfU1RBVFVTLAotCQkJCQkgdmFsLCAhKHZhbCAmIEdF
Tl9QTERfUl9FTVBUWSksCi0JCQkJCSAxMDAwLCBDTURfUEtUX1NUQVRVU19USU1FT1VUX1VTKTsK
KwkJcmV0ID0gcmVnbWFwX3JlYWRfcG9sbF90aW1lb3V0KGRzaS0+cmVncywgRFNJX0NNRF9QS1Rf
U1RBVFVTLAorCQkJCQkgICAgICAgdmFsLCAhKHZhbCAmIEdFTl9QTERfUl9FTVBUWSksCisJCQkJ
CSAgICAgICAxMDAwLCBDTURfUEtUX1NUQVRVU19USU1FT1VUX1VTKTsKIAkJaWYgKHJldCkgewog
CQkJZGV2X2Vycihkc2ktPmRldiwgIlJlYWQgcGF5bG9hZCBGSUZPIGlzIGVtcHR5XG4iKTsKIAkJ
CXJldHVybiByZXQ7CiAJCX0KIAotCQl2YWwgPSBkc2lfcmVhZChkc2ksIERTSV9HRU5fUExEX0RB
VEEpOworCQlyZWdtYXBfcmVhZChkc2ktPnJlZ3MsIERTSV9HRU5fUExEX0RBVEEsICZ2YWwpOwog
CQlmb3IgKGogPSAwOyBqIDwgNCAmJiBqICsgaSA8IGxlbjsgaisrKQogCQkJYnVmW2kgKyBqXSA9
IHZhbCA+PiAoOCAqIGopOwogCX0KQEAgLTUzNiwyOSArNTI5LDI5IEBAIHN0YXRpYyB2b2lkIGR3
X21pcGlfZHNpX3ZpZGVvX21vZGVfY29uZmlnKHN0cnVjdCBkd19taXBpX2RzaSAqZHNpKQogCX0K
ICNlbmRpZiAvKiBDT05GSUdfREVCVUdfRlMgKi8KIAotCWRzaV93cml0ZShkc2ksIERTSV9WSURf
TU9ERV9DRkcsIHZhbCk7CisJcmVnbWFwX3dyaXRlKGRzaS0+cmVncywgRFNJX1ZJRF9NT0RFX0NG
RywgdmFsKTsKIH0KIAogc3RhdGljIHZvaWQgZHdfbWlwaV9kc2lfc2V0X21vZGUoc3RydWN0IGR3
X21pcGlfZHNpICpkc2ksCiAJCQkJIHVuc2lnbmVkIGxvbmcgbW9kZV9mbGFncykKIHsKLQlkc2lf
d3JpdGUoZHNpLCBEU0lfUFdSX1VQLCBSRVNFVCk7CisJcmVnbWFwX3dyaXRlKGRzaS0+cmVncywg
RFNJX1BXUl9VUCwgUkVTRVQpOwogCiAJaWYgKG1vZGVfZmxhZ3MgJiBNSVBJX0RTSV9NT0RFX1ZJ
REVPKSB7Ci0JCWRzaV93cml0ZShkc2ksIERTSV9NT0RFX0NGRywgRU5BQkxFX1ZJREVPX01PREUp
OworCQlyZWdtYXBfd3JpdGUoZHNpLT5yZWdzLCBEU0lfTU9ERV9DRkcsIEVOQUJMRV9WSURFT19N
T0RFKTsKIAkJZHdfbWlwaV9kc2lfdmlkZW9fbW9kZV9jb25maWcoZHNpKTsKLQkJZHNpX3dyaXRl
KGRzaSwgRFNJX0xQQ0xLX0NUUkwsIFBIWV9UWFJFUVVFU1RDTEtIUyk7CisJCXJlZ21hcF93cml0
ZShkc2ktPnJlZ3MsIERTSV9MUENMS19DVFJMLCBQSFlfVFhSRVFVRVNUQ0xLSFMpOwogCX0gZWxz
ZSB7Ci0JCWRzaV93cml0ZShkc2ksIERTSV9NT0RFX0NGRywgRU5BQkxFX0NNRF9NT0RFKTsKKwkJ
cmVnbWFwX3dyaXRlKGRzaS0+cmVncywgRFNJX01PREVfQ0ZHLCBFTkFCTEVfQ01EX01PREUpOwog
CX0KIAotCWRzaV93cml0ZShkc2ksIERTSV9QV1JfVVAsIFBPV0VSVVApOworCXJlZ21hcF93cml0
ZShkc2ktPnJlZ3MsIERTSV9QV1JfVVAsIFBPV0VSVVApOwogfQogCiBzdGF0aWMgdm9pZCBkd19t
aXBpX2RzaV9kaXNhYmxlKHN0cnVjdCBkd19taXBpX2RzaSAqZHNpKQogewotCWRzaV93cml0ZShk
c2ksIERTSV9QV1JfVVAsIFJFU0VUKTsKLQlkc2lfd3JpdGUoZHNpLCBEU0lfUEhZX1JTVFosIFBI
WV9SU1RaKTsKKwlyZWdtYXBfd3JpdGUoZHNpLT5yZWdzLCBEU0lfUFdSX1VQLCBSRVNFVCk7CisJ
cmVnbWFwX3dyaXRlKGRzaS0+cmVncywgRFNJX1BIWV9SU1RaLCBQSFlfUlNUWik7CiB9CiAKIHN0
YXRpYyB2b2lkIGR3X21pcGlfZHNpX2luaXQoc3RydWN0IGR3X21pcGlfZHNpICpkc2kpCkBAIC01
NzMsMTQgKzU2NiwxNCBAQCBzdGF0aWMgdm9pZCBkd19taXBpX2RzaV9pbml0KHN0cnVjdCBkd19t
aXBpX2RzaSAqZHNpKQogCSAqLwogCXUzMiBlc2NfY2xrX2RpdmlzaW9uID0gKGRzaS0+bGFuZV9t
YnBzID4+IDMpIC8gMjAgKyAxOwogCi0JZHNpX3dyaXRlKGRzaSwgRFNJX1BXUl9VUCwgUkVTRVQp
OworCXJlZ21hcF93cml0ZShkc2ktPnJlZ3MsIERTSV9QV1JfVVAsIFJFU0VUKTsKIAogCS8qCiAJ
ICogVE9ETyBkdyBkcnYgaW1wcm92ZW1lbnRzCiAJICogdGltZW91dCBjbG9jayBkaXZpc2lvbiBz
aG91bGQgYmUgY29tcHV0ZWQgd2l0aCB0aGUKIAkgKiBoaWdoIHNwZWVkIHRyYW5zbWlzc2lvbiBj
b3VudGVyIHRpbWVvdXQgYW5kIGJ5dGUgbGFuZS4uLgogCSAqLwotCWRzaV93cml0ZShkc2ksIERT
SV9DTEtNR1JfQ0ZHLCBUT19DTEtfRElWSVNJT04oMTApIHwKKwlyZWdtYXBfd3JpdGUoZHNpLT5y
ZWdzLCBEU0lfQ0xLTUdSX0NGRywgVE9fQ0xLX0RJVklTSU9OKDEwKSB8CiAJCSAgVFhfRVNDX0NM
S19ESVZJU0lPTihlc2NfY2xrX2RpdmlzaW9uKSk7CiB9CiAKQEAgLTYwOSwyMiArNjAyLDIyIEBA
IHN0YXRpYyB2b2lkIGR3X21pcGlfZHNpX2RwaV9jb25maWcoc3RydWN0IGR3X21pcGlfZHNpICpk
c2ksCiAJaWYgKG1vZGUtPmZsYWdzICYgRFJNX01PREVfRkxBR19OSFNZTkMpCiAJCXZhbCB8PSBI
U1lOQ19BQ1RJVkVfTE9XOwogCi0JZHNpX3dyaXRlKGRzaSwgRFNJX0RQSV9WQ0lELCBEUElfVkNJ
RChkc2ktPmNoYW5uZWwpKTsKLQlkc2lfd3JpdGUoZHNpLCBEU0lfRFBJX0NPTE9SX0NPRElORywg
Y29sb3IpOwotCWRzaV93cml0ZShkc2ksIERTSV9EUElfQ0ZHX1BPTCwgdmFsKTsKKwlyZWdtYXBf
d3JpdGUoZHNpLT5yZWdzLCBEU0lfRFBJX1ZDSUQsIERQSV9WQ0lEKGRzaS0+Y2hhbm5lbCkpOwor
CXJlZ21hcF93cml0ZShkc2ktPnJlZ3MsIERTSV9EUElfQ09MT1JfQ09ESU5HLCBjb2xvcik7CisJ
cmVnbWFwX3dyaXRlKGRzaS0+cmVncywgRFNJX0RQSV9DRkdfUE9MLCB2YWwpOwogCS8qCiAJICog
VE9ETyBkdyBkcnYgaW1wcm92ZW1lbnRzCiAJICogbGFyZ2VzdCBwYWNrZXQgc2l6ZXMgZHVyaW5n
IGhmcCBvciBkdXJpbmcgdnNhL3ZwYi92ZnAKIAkgKiBzaG91bGQgYmUgY29tcHV0ZWQgYWNjb3Jk
aW5nIHRvIGJ5dGUgbGFuZSwgbGFuZSBudW1iZXIgYW5kIG9ubHkKIAkgKiBpZiBzZW5kaW5nIGxw
IGNtZHMgaW4gaGlnaCBzcGVlZCBpcyBlbmFibGUgKFBIWV9UWFJFUVVFU1RDTEtIUykKIAkgKi8K
LQlkc2lfd3JpdGUoZHNpLCBEU0lfRFBJX0xQX0NNRF9USU0sIE9VVFZBQ1RfTFBDTURfVElNRSg0
KQorCXJlZ21hcF93cml0ZShkc2ktPnJlZ3MsIERTSV9EUElfTFBfQ01EX1RJTSwgT1VUVkFDVF9M
UENNRF9USU1FKDQpCiAJCSAgfCBJTlZBQ1RfTFBDTURfVElNRSg0KSk7CiB9CiAKIHN0YXRpYyB2
b2lkIGR3X21pcGlfZHNpX3BhY2tldF9oYW5kbGVyX2NvbmZpZyhzdHJ1Y3QgZHdfbWlwaV9kc2kg
KmRzaSkKIHsKLQlkc2lfd3JpdGUoZHNpLCBEU0lfUENLSERMX0NGRywgQ1JDX1JYX0VOIHwgRUND
X1JYX0VOIHwgQlRBX0VOKTsKKwlyZWdtYXBfd3JpdGUoZHNpLT5yZWdzLCBEU0lfUENLSERMX0NG
RywgQ1JDX1JYX0VOIHwgRUNDX1JYX0VOIHwgQlRBX0VOKTsKIH0KIAogc3RhdGljIHZvaWQgZHdf
bWlwaV9kc2lfdmlkZW9fcGFja2V0X2NvbmZpZyhzdHJ1Y3QgZHdfbWlwaV9kc2kgKmRzaSwKQEAg
LTYzOCw3ICs2MzEsNyBAQCBzdGF0aWMgdm9pZCBkd19taXBpX2RzaV92aWRlb19wYWNrZXRfY29u
ZmlnKHN0cnVjdCBkd19taXBpX2RzaSAqZHNpLAogCSAqIG5vbi1idXJzdCB2aWRlbyBtb2Rlcywg
c2VlIGR3X21pcGlfZHNpX3ZpZGVvX21vZGVfY29uZmlnKCkuLi4KIAkgKi8KIAotCWRzaV93cml0
ZShkc2ksIERTSV9WSURfUEtUX1NJWkUsCisJcmVnbWFwX3dyaXRlKGRzaS0+cmVncywgRFNJX1ZJ
RF9QS1RfU0laRSwKIAkJICAgICAgIGR3X21pcGlfaXNfZHVhbF9tb2RlKGRzaSkgPwogCQkJCVZJ
RF9QS1RfU0laRShtb2RlLT5oZGlzcGxheSAvIDIpIDoKIAkJCQlWSURfUEtUX1NJWkUobW9kZS0+
aGRpc3BsYXkpKTsKQEAgLTY1MSwxNCArNjQ0LDE1IEBAIHN0YXRpYyB2b2lkIGR3X21pcGlfZHNp
X2NvbW1hbmRfbW9kZV9jb25maWcoc3RydWN0IGR3X21pcGlfZHNpICpkc2kpCiAJICogY29tcHV0
ZSBoaWdoIHNwZWVkIHRyYW5zbWlzc2lvbiBjb3VudGVyIHRpbWVvdXQgYWNjb3JkaW5nCiAJICog
dG8gdGhlIHRpbWVvdXQgY2xvY2sgZGl2aXNpb24gKFRPX0NMS19ESVZJU0lPTikgYW5kIGJ5dGUg
bGFuZS4uLgogCSAqLwotCWRzaV93cml0ZShkc2ksIERTSV9UT19DTlRfQ0ZHLCBIU1RYX1RPX0NO
VCgxMDAwKSB8IExQUlhfVE9fQ05UKDEwMDApKTsKKwlyZWdtYXBfd3JpdGUoZHNpLT5yZWdzLCBE
U0lfVE9fQ05UX0NGRywKKwkJICAgICBIU1RYX1RPX0NOVCgxMDAwKSB8IExQUlhfVE9fQ05UKDEw
MDApKTsKIAkvKgogCSAqIFRPRE8gZHcgZHJ2IGltcHJvdmVtZW50cwogCSAqIHRoZSBCdXMtVHVy
bi1Bcm91bmQgVGltZW91dCBDb3VudGVyIHNob3VsZCBiZSBjb21wdXRlZAogCSAqIGFjY29yZGlu
ZyB0byBieXRlIGxhbmUuLi4KIAkgKi8KLQlkc2lfd3JpdGUoZHNpLCBEU0lfQlRBX1RPX0NOVCwg
MHhkMDApOwotCWRzaV93cml0ZShkc2ksIERTSV9NT0RFX0NGRywgRU5BQkxFX0NNRF9NT0RFKTsK
KwlyZWdtYXBfd3JpdGUoZHNpLT5yZWdzLCBEU0lfQlRBX1RPX0NOVCwgMHhkMDApOworCXJlZ21h
cF93cml0ZShkc2ktPnJlZ3MsIERTSV9NT0RFX0NGRywgRU5BQkxFX0NNRF9NT0RFKTsKIH0KIAog
LyogR2V0IGxhbmUgYnl0ZSBjbG9jayBjeWNsZXMuICovCkBAIC02OTIsMTMgKzY4NiwxMyBAQCBz
dGF0aWMgdm9pZCBkd19taXBpX2RzaV9saW5lX3RpbWVyX2NvbmZpZyhzdHJ1Y3QgZHdfbWlwaV9k
c2kgKmRzaSwKIAkgKiBjb21wdXRhdGlvbnMgYmVsb3cgbWF5IGJlIGltcHJvdmVkLi4uCiAJICov
CiAJbGJjYyA9IGR3X21pcGlfZHNpX2dldF9oY29tcG9uZW50X2xiY2MoZHNpLCBtb2RlLCBodG90
YWwpOwotCWRzaV93cml0ZShkc2ksIERTSV9WSURfSExJTkVfVElNRSwgbGJjYyk7CisJcmVnbWFw
X3dyaXRlKGRzaS0+cmVncywgRFNJX1ZJRF9ITElORV9USU1FLCBsYmNjKTsKIAogCWxiY2MgPSBk
d19taXBpX2RzaV9nZXRfaGNvbXBvbmVudF9sYmNjKGRzaSwgbW9kZSwgaHNhKTsKLQlkc2lfd3Jp
dGUoZHNpLCBEU0lfVklEX0hTQV9USU1FLCBsYmNjKTsKKwlyZWdtYXBfd3JpdGUoZHNpLT5yZWdz
LCBEU0lfVklEX0hTQV9USU1FLCBsYmNjKTsKIAogCWxiY2MgPSBkd19taXBpX2RzaV9nZXRfaGNv
bXBvbmVudF9sYmNjKGRzaSwgbW9kZSwgaGJwKTsKLQlkc2lfd3JpdGUoZHNpLCBEU0lfVklEX0hC
UF9USU1FLCBsYmNjKTsKKwlyZWdtYXBfd3JpdGUoZHNpLT5yZWdzLCBEU0lfVklEX0hCUF9USU1F
LCBsYmNjKTsKIH0KIAogc3RhdGljIHZvaWQgZHdfbWlwaV9kc2lfdmVydGljYWxfdGltaW5nX2Nv
bmZpZyhzdHJ1Y3QgZHdfbWlwaV9kc2kgKmRzaSwKQEAgLTcxMSwxMCArNzA1LDEwIEBAIHN0YXRp
YyB2b2lkIGR3X21pcGlfZHNpX3ZlcnRpY2FsX3RpbWluZ19jb25maWcoc3RydWN0IGR3X21pcGlf
ZHNpICpkc2ksCiAJdmZwID0gbW9kZS0+dnN5bmNfc3RhcnQgLSBtb2RlLT52ZGlzcGxheTsKIAl2
YnAgPSBtb2RlLT52dG90YWwgLSBtb2RlLT52c3luY19lbmQ7CiAKLQlkc2lfd3JpdGUoZHNpLCBE
U0lfVklEX1ZBQ1RJVkVfTElORVMsIHZhY3RpdmUpOwotCWRzaV93cml0ZShkc2ksIERTSV9WSURf
VlNBX0xJTkVTLCB2c2EpOwotCWRzaV93cml0ZShkc2ksIERTSV9WSURfVkZQX0xJTkVTLCB2ZnAp
OwotCWRzaV93cml0ZShkc2ksIERTSV9WSURfVkJQX0xJTkVTLCB2YnApOworCXJlZ21hcF93cml0
ZShkc2ktPnJlZ3MsIERTSV9WSURfVkFDVElWRV9MSU5FUywgdmFjdGl2ZSk7CisJcmVnbWFwX3dy
aXRlKGRzaS0+cmVncywgRFNJX1ZJRF9WU0FfTElORVMsIHZzYSk7CisJcmVnbWFwX3dyaXRlKGRz
aS0+cmVncywgRFNJX1ZJRF9WRlBfTElORVMsIHZmcCk7CisJcmVnbWFwX3dyaXRlKGRzaS0+cmVn
cywgRFNJX1ZJRF9WQlBfTElORVMsIHZicCk7CiB9CiAKIHN0YXRpYyB2b2lkIGR3X21pcGlfZHNp
X2RwaHlfdGltaW5nX2NvbmZpZyhzdHJ1Y3QgZHdfbWlwaV9kc2kgKmRzaSkKQEAgLTcyOSwxOSAr
NzIzLDI0IEBAIHN0YXRpYyB2b2lkIGR3X21pcGlfZHNpX2RwaHlfdGltaW5nX2NvbmZpZyhzdHJ1
Y3QgZHdfbWlwaV9kc2kgKmRzaSkKIAkgKiBEU0lfQ01EX01PREVfQ0ZHLk1BWF9SRF9QS1RfU0la
RV9MUCAoc2VlIENNRF9NT0RFX0FMTF9MUCkKIAkgKi8KIAotCWh3X3ZlcnNpb24gPSBkc2lfcmVh
ZChkc2ksIERTSV9WRVJTSU9OKSAmIFZFUlNJT047CisJcmVnbWFwX3JlYWQoZHNpLT5yZWdzLCBE
U0lfVkVSU0lPTiwgJmh3X3ZlcnNpb24pOworCWh3X3ZlcnNpb24gJj0gVkVSU0lPTjsKIAogCWlm
IChod192ZXJzaW9uID49IEhXVkVSXzEzMSkgewotCQlkc2lfd3JpdGUoZHNpLCBEU0lfUEhZX1RN
Ul9DRkcsIFBIWV9IUzJMUF9USU1FX1YxMzEoMHg0MCkgfAotCQkJICBQSFlfTFAySFNfVElNRV9W
MTMxKDB4NDApKTsKLQkJZHNpX3dyaXRlKGRzaSwgRFNJX1BIWV9UTVJfUkRfQ0ZHLCBNQVhfUkRf
VElNRV9WMTMxKDEwMDAwKSk7CisJCXJlZ21hcF93cml0ZShkc2ktPnJlZ3MsIERTSV9QSFlfVE1S
X0NGRywKKwkJCSAgICAgUEhZX0hTMkxQX1RJTUVfVjEzMSgweDQwKSB8CisJCQkgICAgIFBIWV9M
UDJIU19USU1FX1YxMzEoMHg0MCkpOworCQlyZWdtYXBfd3JpdGUoZHNpLT5yZWdzLCBEU0lfUEhZ
X1RNUl9SRF9DRkcsCisJCQkgICAgIE1BWF9SRF9USU1FX1YxMzEoMTAwMDApKTsKIAl9IGVsc2Ug
ewotCQlkc2lfd3JpdGUoZHNpLCBEU0lfUEhZX1RNUl9DRkcsIFBIWV9IUzJMUF9USU1FKDB4NDAp
IHwKLQkJCSAgUEhZX0xQMkhTX1RJTUUoMHg0MCkgfCBNQVhfUkRfVElNRSgxMDAwMCkpOworCQly
ZWdtYXBfd3JpdGUoZHNpLT5yZWdzLCBEU0lfUEhZX1RNUl9DRkcsCisJCQkgICAgIFBIWV9IUzJM
UF9USU1FKDB4NDApIHwKKwkJCSAgICAgUEhZX0xQMkhTX1RJTUUoMHg0MCkgfAorCQkJICAgICBN
QVhfUkRfVElNRSgxMDAwMCkpOwogCX0KIAotCWRzaV93cml0ZShkc2ksIERTSV9QSFlfVE1SX0xQ
Q0xLX0NGRywgUEhZX0NMS0hTMkxQX1RJTUUoMHg0MCkKLQkJICB8IFBIWV9DTEtMUDJIU19USU1F
KDB4NDApKTsKKwlyZWdtYXBfd3JpdGUoZHNpLT5yZWdzLCBEU0lfUEhZX1RNUl9MUENMS19DRkcs
CisJCSAgICAgUEhZX0NMS0hTMkxQX1RJTUUoMHg0MCkgfCBQSFlfQ0xLTFAySFNfVElNRSgweDQw
KSk7CiB9CiAKIHN0YXRpYyB2b2lkIGR3X21pcGlfZHNpX2RwaHlfaW50ZXJmYWNlX2NvbmZpZyhz
dHJ1Y3QgZHdfbWlwaV9kc2kgKmRzaSkKQEAgLTc1MSw0NiArNzUwLDQ5IEBAIHN0YXRpYyB2b2lk
IGR3X21pcGlfZHNpX2RwaHlfaW50ZXJmYWNlX2NvbmZpZyhzdHJ1Y3QgZHdfbWlwaV9kc2kgKmRz
aSkKIAkgKiBzdG9wIHdhaXQgdGltZSBzaG91bGQgYmUgdGhlIG1heGltdW0gYmV0d2VlbiBob3N0
IGRzaQogCSAqIGFuZCBwYW5lbCBzdG9wIHdhaXQgdGltZXMKIAkgKi8KLQlkc2lfd3JpdGUoZHNp
LCBEU0lfUEhZX0lGX0NGRywgUEhZX1NUT1BfV0FJVF9USU1FKDB4MjApIHwKLQkJICBOX0xBTkVT
KGRzaS0+bGFuZXMpKTsKKwlyZWdtYXBfd3JpdGUoZHNpLT5yZWdzLCBEU0lfUEhZX0lGX0NGRywK
KwkJICAgICBQSFlfU1RPUF9XQUlUX1RJTUUoMHgyMCkgfCBOX0xBTkVTKGRzaS0+bGFuZXMpKTsK
IH0KIAogc3RhdGljIHZvaWQgZHdfbWlwaV9kc2lfZHBoeV9pbml0KHN0cnVjdCBkd19taXBpX2Rz
aSAqZHNpKQogewogCS8qIENsZWFyIFBIWSBzdGF0ZSAqLwotCWRzaV93cml0ZShkc2ksIERTSV9Q
SFlfUlNUWiwgUEhZX0RJU0ZPUkNFUExMIHwgUEhZX0RJU0FCTEVDTEsKLQkJICB8IFBIWV9SU1Ra
IHwgUEhZX1NIVVRET1dOWik7Ci0JZHNpX3dyaXRlKGRzaSwgRFNJX1BIWV9UU1RfQ1RSTDAsIFBI
WV9VTlRFU1RDTFIpOwotCWRzaV93cml0ZShkc2ksIERTSV9QSFlfVFNUX0NUUkwwLCBQSFlfVEVT
VENMUik7Ci0JZHNpX3dyaXRlKGRzaSwgRFNJX1BIWV9UU1RfQ1RSTDAsIFBIWV9VTlRFU1RDTFIp
OworCXJlZ21hcF93cml0ZShkc2ktPnJlZ3MsIERTSV9QSFlfUlNUWiwgUEhZX0RJU0ZPUkNFUExM
IHwgUEhZX0RJU0FCTEVDTEsKKwkJICAgICB8IFBIWV9SU1RaIHwgUEhZX1NIVVRET1dOWik7CisJ
cmVnbWFwX3dyaXRlKGRzaS0+cmVncywgRFNJX1BIWV9UU1RfQ1RSTDAsIFBIWV9VTlRFU1RDTFIp
OworCXJlZ21hcF93cml0ZShkc2ktPnJlZ3MsIERTSV9QSFlfVFNUX0NUUkwwLCBQSFlfVEVTVENM
Uik7CisJcmVnbWFwX3dyaXRlKGRzaS0+cmVncywgRFNJX1BIWV9UU1RfQ1RSTDAsIFBIWV9VTlRF
U1RDTFIpOwogfQogCiBzdGF0aWMgdm9pZCBkd19taXBpX2RzaV9kcGh5X2VuYWJsZShzdHJ1Y3Qg
ZHdfbWlwaV9kc2kgKmRzaSkKIHsKLQl1MzIgdmFsOworCXUzMiB2YWwgPSAwOwogCWludCByZXQ7
CiAKLQlkc2lfd3JpdGUoZHNpLCBEU0lfUEhZX1JTVFosIFBIWV9FTkZPUkNFUExMIHwgUEhZX0VO
QUJMRUNMSyB8Ci0JCSAgUEhZX1VOUlNUWiB8IFBIWV9VTlNIVVRET1dOWik7CisJcmVnbWFwX3dy
aXRlKGRzaS0+cmVncywgRFNJX1BIWV9SU1RaLCBQSFlfRU5GT1JDRVBMTCB8IFBIWV9FTkFCTEVD
TEsgfAorCQkgICAgIFBIWV9VTlJTVFogfCBQSFlfVU5TSFVURE9XTlopOwogCi0JcmV0ID0gcmVh
ZGxfcG9sbF90aW1lb3V0KGRzaS0+YmFzZSArIERTSV9QSFlfU1RBVFVTLCB2YWwsCi0JCQkJIHZh
bCAmIFBIWV9MT0NLLCAxMDAwLCBQSFlfU1RBVFVTX1RJTUVPVVRfVVMpOworCXJldCA9IHJlZ21h
cF9yZWFkX3BvbGxfdGltZW91dChkc2ktPnJlZ3MsIERTSV9QSFlfU1RBVFVTLAorCQkJCSAgICAg
ICB2YWwsIHZhbCAmIFBIWV9MT0NLLAorCQkJCSAgICAgICAxMDAwLCBQSFlfU1RBVFVTX1RJTUVP
VVRfVVMpOwogCWlmIChyZXQpCiAJCURSTV9ERUJVR19EUklWRVIoImZhaWxlZCB0byB3YWl0IHBo
eSBsb2NrIHN0YXRlXG4iKTsKIAotCXJldCA9IHJlYWRsX3BvbGxfdGltZW91dChkc2ktPmJhc2Ug
KyBEU0lfUEhZX1NUQVRVUywKLQkJCQkgdmFsLCB2YWwgJiBQSFlfU1RPUF9TVEFURV9DTEtfTEFO
RSwgMTAwMCwKLQkJCQkgUEhZX1NUQVRVU19USU1FT1VUX1VTKTsKKwlyZXQgPSByZWdtYXBfcmVh
ZF9wb2xsX3RpbWVvdXQoZHNpLT5yZWdzLCBEU0lfUEhZX1NUQVRVUywKKwkJCQkgICAgICAgdmFs
LCB2YWwgJiBQSFlfU1RPUF9TVEFURV9DTEtfTEFORSwgMTAwMCwKKwkJCQkgICAgICAgUEhZX1NU
QVRVU19USU1FT1VUX1VTKTsKIAlpZiAocmV0KQogCQlEUk1fREVCVUdfRFJJVkVSKCJmYWlsZWQg
dG8gd2FpdCBwaHkgY2xrIGxhbmUgc3RvcCBzdGF0ZVxuIik7CiB9CiAKIHN0YXRpYyB2b2lkIGR3
X21pcGlfZHNpX2NsZWFyX2VycihzdHJ1Y3QgZHdfbWlwaV9kc2kgKmRzaSkKIHsKLQlkc2lfcmVh
ZChkc2ksIERTSV9JTlRfU1QwKTsKLQlkc2lfcmVhZChkc2ksIERTSV9JTlRfU1QxKTsKLQlkc2lf
d3JpdGUoZHNpLCBEU0lfSU5UX01TSzAsIDApOwotCWRzaV93cml0ZShkc2ksIERTSV9JTlRfTVNL
MSwgMCk7CisJdTMyIHZhbDsKKworCXJlZ21hcF9yZWFkKGRzaS0+cmVncywgRFNJX0lOVF9TVDAs
ICZ2YWwpOworCXJlZ21hcF9yZWFkKGRzaS0+cmVncywgRFNJX0lOVF9TVDEsICZ2YWwpOworCXJl
Z21hcF93cml0ZShkc2ktPnJlZ3MsIERTSV9JTlRfTVNLMCwgMCk7CisJcmVnbWFwX3dyaXRlKGRz
aS0+cmVncywgRFNJX0lOVF9NU0sxLCAwKTsKIH0KIAogc3RhdGljIHZvaWQgZHdfbWlwaV9kc2lf
YnJpZGdlX3Bvc3RfZGlzYWJsZShzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlKQpAQCAtOTk2LDEz
ICs5OTgsMTAgQEAgX19kd19taXBpX2RzaV9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpw
ZGV2LAogCQlyZXR1cm4gRVJSX1BUUigtRU5PREVWKTsKIAl9CiAKLQlpZiAoIXBsYXRfZGF0YS0+
YmFzZSkgewotCQlkc2ktPmJhc2UgPSBkZXZtX3BsYXRmb3JtX2lvcmVtYXBfcmVzb3VyY2UocGRl
diwgMCk7Ci0JCWlmIChJU19FUlIoZHNpLT5iYXNlKSkKLQkJCXJldHVybiBFUlJfUFRSKC1FTk9E
RVYpOwotCi0JfSBlbHNlIHsKLQkJZHNpLT5iYXNlID0gcGxhdF9kYXRhLT5iYXNlOworCWRzaS0+
cmVncyA9IHBsYXRfZGF0YS0+cmVnczsKKwlpZiAoIWRzaS0+cmVncykgeworCQlEUk1fRVJST1Io
IkRTSSByZWdtYXAgbm90IHN1cHBsaWVkIGJ5IHBsYXRmb3JtIGRyaXZlclxuIik7CisJCXJldHVy
biBFUlJfUFRSKC1FTk9ERVYpOwogCX0KIAogCWRzaS0+cGNsayA9IGRldm1fY2xrX2dldChkZXYs
ICJwY2xrIik7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcm9ja2NoaXAvZHctbWlwaS1k
c2ktcm9ja2NoaXAuYyBiL2RyaXZlcnMvZ3B1L2RybS9yb2NrY2hpcC9kdy1taXBpLWRzaS1yb2Nr
Y2hpcC5jCmluZGV4IGJjMDczZWM1YzE4My4uM2MzM2VkMWZhODA1IDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vcm9ja2NoaXAvZHctbWlwaS1kc2ktcm9ja2NoaXAuYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vcm9ja2NoaXAvZHctbWlwaS1kc2ktcm9ja2NoaXAuYwpAQCAtMjQsNiArMjQsOCBA
QAogI2luY2x1ZGUgInJvY2tjaGlwX2RybV9kcnYuaCIKICNpbmNsdWRlICJyb2NrY2hpcF9kcm1f
dm9wLmgiCiAKKyNkZWZpbmUgRFJJVkVSX05BTUUgImR3LW1pcGktZHNpLXJvY2tjaGlwIgorCiAj
ZGVmaW5lIERTSV9QSFlfUlNUWgkJCTB4YTAKICNkZWZpbmUgUEhZX0RJU0ZPUkNFUExMCQkJMAog
I2RlZmluZSBQSFlfRU5GT1JDRVBMTAkJCUJJVCgzKQpAQCAtMjEyLDcgKzIxNCw3IEBAIHN0cnVj
dCByb2NrY2hpcF9kd19kc2lfY2hpcF9kYXRhIHsKIHN0cnVjdCBkd19taXBpX2RzaV9yb2NrY2hp
cCB7CiAJc3RydWN0IGRldmljZSAqZGV2OwogCXN0cnVjdCBkcm1fZW5jb2RlciBlbmNvZGVyOwot
CXZvaWQgX19pb21lbSAqYmFzZTsKKwlzdHJ1Y3QgcmVnbWFwICpyZWdzOwogCiAJc3RydWN0IHJl
Z21hcCAqZ3JmX3JlZ21hcDsKIAlzdHJ1Y3QgY2xrICpwbGxyZWZfY2xrOwpAQCAtMjk3LDEyICsy
OTksMTUgQEAgc3RhdGljIGludCBtYXhfbWJwc190b19wYXJhbWV0ZXIodW5zaWduZWQgaW50IG1h
eF9tYnBzKQogCiBzdGF0aWMgaW5saW5lIHZvaWQgZHNpX3dyaXRlKHN0cnVjdCBkd19taXBpX2Rz
aV9yb2NrY2hpcCAqZHNpLCB1MzIgcmVnLCB1MzIgdmFsKQogewotCXdyaXRlbCh2YWwsIGRzaS0+
YmFzZSArIHJlZyk7CisJcmVnbWFwX3dyaXRlKGRzaS0+cmVncywgcmVnLCB2YWwpOwogfQogCiBz
dGF0aWMgaW5saW5lIHUzMiBkc2lfcmVhZChzdHJ1Y3QgZHdfbWlwaV9kc2lfcm9ja2NoaXAgKmRz
aSwgdTMyIHJlZykKIHsKLQlyZXR1cm4gcmVhZGwoZHNpLT5iYXNlICsgcmVnKTsKKwl1MzIgdmFs
OworCisJcmVnbWFwX3JlYWQoZHNpLT5yZWdzLCByZWcsICZ2YWwpOworCXJldHVybiB2YWw7CiB9
CiAKIHN0YXRpYyBpbmxpbmUgdm9pZCBkc2lfc2V0KHN0cnVjdCBkd19taXBpX2RzaV9yb2NrY2hp
cCAqZHNpLCB1MzIgcmVnLCB1MzIgbWFzaykKQEAgLTg4NCw2ICs4ODksMTMgQEAgc3RhdGljIGNv
bnN0IHN0cnVjdCBkd19taXBpX2RzaV9ob3N0X29wcyBkd19taXBpX2RzaV9yb2NrY2hpcF9ob3N0
X29wcyA9IHsKIAkuZGV0YWNoID0gZHdfbWlwaV9kc2lfcm9ja2NoaXBfaG9zdF9kZXRhY2gsCiB9
OwogCitzdGF0aWMgY29uc3Qgc3RydWN0IHJlZ21hcF9jb25maWcgcm9ja2NoaXBfZHNpX3JlZ21h
cF9jb25maWcgPSB7CisJLnJlZ19iaXRzID0gMzIsCisJLnZhbF9iaXRzID0gMzIsCisJLnJlZ19z
dHJpZGUgPSA0LAorCS5uYW1lID0gRFJJVkVSX05BTUUsCit9OworCiBzdGF0aWMgaW50IGR3X21p
cGlfZHNpX3JvY2tjaGlwX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCiB7CiAJ
c3RydWN0IGRldmljZSAqZGV2ID0gJnBkZXYtPmRldjsKQEAgLTg5Miw2ICs5MDQsNyBAQCBzdGF0
aWMgaW50IGR3X21pcGlfZHNpX3JvY2tjaGlwX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2Ug
KnBkZXYpCiAJc3RydWN0IHJlc291cmNlICpyZXM7CiAJY29uc3Qgc3RydWN0IHJvY2tjaGlwX2R3
X2RzaV9jaGlwX2RhdGEgKmNkYXRhID0KIAkJCQlvZl9kZXZpY2VfZ2V0X21hdGNoX2RhdGEoZGV2
KTsKKwl2b2lkIF9faW9tZW0gKnJlZ3M7CiAJaW50IHJldCwgaTsKIAogCWRzaSA9IGRldm1fa3ph
bGxvYyhkZXYsIHNpemVvZigqZHNpKSwgR0ZQX0tFUk5FTCk7CkBAIC04OTksMTAgKzkxMiwxNyBA
QCBzdGF0aWMgaW50IGR3X21pcGlfZHNpX3JvY2tjaGlwX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9k
ZXZpY2UgKnBkZXYpCiAJCXJldHVybiAtRU5PTUVNOwogCiAJcmVzID0gcGxhdGZvcm1fZ2V0X3Jl
c291cmNlKHBkZXYsIElPUkVTT1VSQ0VfTUVNLCAwKTsKLQlkc2ktPmJhc2UgPSBkZXZtX2lvcmVt
YXBfcmVzb3VyY2UoZGV2LCByZXMpOwotCWlmIChJU19FUlIoZHNpLT5iYXNlKSkgeworCXJlZ3Mg
PSBkZXZtX2lvcmVtYXBfcmVzb3VyY2UoZGV2LCByZXMpOworCWlmIChJU19FUlIocmVncykpIHsK
IAkJRFJNX0RFVl9FUlJPUihkZXYsICJVbmFibGUgdG8gZ2V0IGRzaSByZWdpc3RlcnNcbiIpOwot
CQlyZXR1cm4gUFRSX0VSUihkc2ktPmJhc2UpOworCQlyZXR1cm4gUFRSX0VSUihyZWdzKTsKKwl9
CisKKwlkc2ktPnJlZ3MgPSBkZXZtX3JlZ21hcF9pbml0X21taW8oZGV2LCByZWdzLAorCQkJCQkg
ICZyb2NrY2hpcF9kc2lfcmVnbWFwX2NvbmZpZyk7CisJaWYgKElTX0VSUihkc2ktPnJlZ3MpKSB7
CisJCURSTV9ERVZfRVJST1IoZGV2LCAiVW5hYmxlIHRvIGNyZWF0ZSBEU0kgcmVnbWFwXG4iKTsK
KwkJcmV0dXJuIFBUUl9FUlIoZHNpLT5yZWdzKTsKIAl9CiAKIAlpID0gMDsKQEAgLTk1NCw3ICs5
NzQsNyBAQCBzdGF0aWMgaW50IGR3X21pcGlfZHNpX3JvY2tjaGlwX3Byb2JlKHN0cnVjdCBwbGF0
Zm9ybV9kZXZpY2UgKnBkZXYpCiAJfQogCiAJZHNpLT5kZXYgPSBkZXY7Ci0JZHNpLT5wZGF0YS5i
YXNlID0gZHNpLT5iYXNlOworCWRzaS0+cGRhdGEucmVncyA9IGRzaS0+cmVnczsKIAlkc2ktPnBk
YXRhLm1heF9kYXRhX2xhbmVzID0gZHNpLT5jZGF0YS0+bWF4X2RhdGFfbGFuZXM7CiAJZHNpLT5w
ZGF0YS5waHlfb3BzID0gJmR3X21pcGlfZHNpX3JvY2tjaGlwX3BoeV9vcHM7CiAJZHNpLT5wZGF0
YS5ob3N0X29wcyA9ICZkd19taXBpX2RzaV9yb2NrY2hpcF9ob3N0X29wczsKQEAgLTEwNzIsNiAr
MTA5Miw2IEBAIHN0cnVjdCBwbGF0Zm9ybV9kcml2ZXIgZHdfbWlwaV9kc2lfcm9ja2NoaXBfZHJp
dmVyID0gewogCS5yZW1vdmUJCT0gZHdfbWlwaV9kc2lfcm9ja2NoaXBfcmVtb3ZlLAogCS5kcml2
ZXIJCT0gewogCQkub2ZfbWF0Y2hfdGFibGUgPSBkd19taXBpX2RzaV9yb2NrY2hpcF9kdF9pZHMs
Ci0JCS5uYW1lCT0gImR3LW1pcGktZHNpLXJvY2tjaGlwIiwKKwkJLm5hbWUJPSBEUklWRVJfTkFN
RSwKIAl9LAogfTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9zdG0vZHdfbWlwaV9kc2kt
c3RtLmMgYi9kcml2ZXJzL2dwdS9kcm0vc3RtL2R3X21pcGlfZHNpLXN0bS5jCmluZGV4IDUxNGVm
ZWZiMDAxNi4uY2MyMzMyNzEzNDdiIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vc3RtL2R3
X21pcGlfZHNpLXN0bS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9zdG0vZHdfbWlwaV9kc2ktc3Rt
LmMKQEAgLTEyLDYgKzEyLDcgQEAKICNpbmNsdWRlIDxsaW51eC9tb2R1bGUuaD4KICNpbmNsdWRl
IDxsaW51eC9wbGF0Zm9ybV9kZXZpY2UuaD4KICNpbmNsdWRlIDxsaW51eC9yZWd1bGF0b3IvY29u
c3VtZXIuaD4KKyNpbmNsdWRlIDxsaW51eC9yZWdtYXAuaD4KIAogI2luY2x1ZGUgPHZpZGVvL21p
cGlfZGlzcGxheS5oPgogCkBAIC0xOSw2ICsyMCw4IEBACiAjaW5jbHVkZSA8ZHJtL2RybV9taXBp
X2RzaS5oPgogI2luY2x1ZGUgPGRybS9kcm1fcHJpbnQuaD4KIAorI2RlZmluZSBEUklWRVJfTkFN
RSAic3RtMzItZGlzcGxheS1kc2kiCisKICNkZWZpbmUgSFdWRVJfMTMwCQkJMHgzMTMzMzAwMAkv
KiBJUCB2ZXJzaW9uIDEuMzAgKi8KICNkZWZpbmUgSFdWRVJfMTMxCQkJMHgzMTMzMzEwMAkvKiBJ
UCB2ZXJzaW9uIDEuMzEgKi8KIApAQCAtNzUsNyArNzgsNyBAQCBlbnVtIGRzaV9jb2xvciB7CiAj
ZGVmaW5lIFRJTUVPVVRfVVMJMjAwMDAwCiAKIHN0cnVjdCBkd19taXBpX2RzaV9zdG0gewotCXZv
aWQgX19pb21lbSAqYmFzZTsKKwlzdHJ1Y3QgcmVnbWFwICpyZWdzOwogCXN0cnVjdCBjbGsgKnBs
bHJlZl9jbGs7CiAJc3RydWN0IGR3X21pcGlfZHNpICpkc2k7CiAJdTMyIGh3X3ZlcnNpb247CkBA
IC04NiwxMiArODksMTUgQEAgc3RydWN0IGR3X21pcGlfZHNpX3N0bSB7CiAKIHN0YXRpYyBpbmxp
bmUgdm9pZCBkc2lfd3JpdGUoc3RydWN0IGR3X21pcGlfZHNpX3N0bSAqZHNpLCB1MzIgcmVnLCB1
MzIgdmFsKQogewotCXdyaXRlbCh2YWwsIGRzaS0+YmFzZSArIHJlZyk7CisJcmVnbWFwX3dyaXRl
KGRzaS0+cmVncywgcmVnLCB2YWwpOwogfQogCiBzdGF0aWMgaW5saW5lIHUzMiBkc2lfcmVhZChz
dHJ1Y3QgZHdfbWlwaV9kc2lfc3RtICpkc2ksIHUzMiByZWcpCiB7Ci0JcmV0dXJuIHJlYWRsKGRz
aS0+YmFzZSArIHJlZyk7CisJdTMyIHZhbDsKKworCXJlZ21hcF9yZWFkKGRzaS0+cmVncywgcmVn
LCAmdmFsKTsKKwlyZXR1cm4gdmFsOwogfQogCiBzdGF0aWMgaW5saW5lIHZvaWQgZHNpX3NldChz
dHJ1Y3QgZHdfbWlwaV9kc2lfc3RtICpkc2ksIHUzMiByZWcsIHUzMiBtYXNrKQpAQCAtMjAyLDE1
ICsyMDgsMTUgQEAgc3RhdGljIGludCBkd19taXBpX2RzaV9waHlfaW5pdCh2b2lkICpwcml2X2Rh
dGEpCiAKIAkvKiBFbmFibGUgdGhlIHJlZ3VsYXRvciAqLwogCWRzaV9zZXQoZHNpLCBEU0lfV1JQ
Q1IsIFdSUENSX1JFR0VOIHwgV1JQQ1JfQkdSRU4pOwotCXJldCA9IHJlYWRsX3BvbGxfdGltZW91
dChkc2ktPmJhc2UgKyBEU0lfV0lTUiwgdmFsLCB2YWwgJiBXSVNSX1JSUywKLQkJCQkgU0xFRVBf
VVMsIFRJTUVPVVRfVVMpOworCXJldCA9IHJlZ21hcF9yZWFkX3BvbGxfdGltZW91dChkc2ktPnJl
Z3MsIERTSV9XSVNSLCB2YWwsIHZhbCAmIFdJU1JfUlJTLAorCQkJCSAgICAgICBTTEVFUF9VUywg
VElNRU9VVF9VUyk7CiAJaWYgKHJldCkKIAkJRFJNX0RFQlVHX0RSSVZFUigiIVRJTUVPVVQhIHdh
aXRpbmcgUkVHVSwgbGV0J3MgY29udGludWVcbiIpOwogCiAJLyogRW5hYmxlIHRoZSBEU0kgUExM
ICYgd2FpdCBmb3IgaXRzIGxvY2sgKi8KIAlkc2lfc2V0KGRzaSwgRFNJX1dSUENSLCBXUlBDUl9Q
TExFTik7Ci0JcmV0ID0gcmVhZGxfcG9sbF90aW1lb3V0KGRzaS0+YmFzZSArIERTSV9XSVNSLCB2
YWwsIHZhbCAmIFdJU1JfUExMTFMsCi0JCQkJIFNMRUVQX1VTLCBUSU1FT1VUX1VTKTsKKwlyZXQg
PSByZWdtYXBfcmVhZF9wb2xsX3RpbWVvdXQoZHNpLT5yZWdzLCBEU0lfV0lTUiwgdmFsLAorCQkJ
CSAgICAgICB2YWwgJiBXSVNSX1BMTExTLCBTTEVFUF9VUywgVElNRU9VVF9VUyk7CiAJaWYgKHJl
dCkKIAkJRFJNX0RFQlVHX0RSSVZFUigiIVRJTUVPVVQhIHdhaXRpbmcgUExMLCBsZXQncyBjb250
aW51ZVxuIik7CiAKQEAgLTMyNywxMiArMzMzLDIwIEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3Qgb2Zf
ZGV2aWNlX2lkIGR3X21pcGlfZHNpX3N0bV9kdF9pZHNbXSA9IHsKIH07CiBNT0RVTEVfREVWSUNF
X1RBQkxFKG9mLCBkd19taXBpX2RzaV9zdG1fZHRfaWRzKTsKIAorc3RhdGljIGNvbnN0IHN0cnVj
dCByZWdtYXBfY29uZmlnIHN0bV9kc2lfcmVnbWFwX2NvbmZpZyA9IHsKKwkucmVnX2JpdHMgPSAz
MiwKKwkudmFsX2JpdHMgPSAzMiwKKwkucmVnX3N0cmlkZSA9IDQsCisJLm5hbWUgPSBEUklWRVJf
TkFNRSwKK307CisKIHN0YXRpYyBpbnQgZHdfbWlwaV9kc2lfc3RtX3Byb2JlKHN0cnVjdCBwbGF0
Zm9ybV9kZXZpY2UgKnBkZXYpCiB7CiAJc3RydWN0IGRldmljZSAqZGV2ID0gJnBkZXYtPmRldjsK
IAlzdHJ1Y3QgZHdfbWlwaV9kc2lfc3RtICpkc2k7CiAJc3RydWN0IGNsayAqcGNsazsKIAlzdHJ1
Y3QgcmVzb3VyY2UgKnJlczsKKwl2b2lkIF9faW9tZW0gKnJlZ3M7CiAJaW50IHJldDsKIAogCWRz
aSA9IGRldm1fa3phbGxvYyhkZXYsIHNpemVvZigqZHNpKSwgR0ZQX0tFUk5FTCk7CkBAIC0zNDAs
MTMgKzM1NCwxOSBAQCBzdGF0aWMgaW50IGR3X21pcGlfZHNpX3N0bV9wcm9iZShzdHJ1Y3QgcGxh
dGZvcm1fZGV2aWNlICpwZGV2KQogCQlyZXR1cm4gLUVOT01FTTsKIAogCXJlcyA9IHBsYXRmb3Jt
X2dldF9yZXNvdXJjZShwZGV2LCBJT1JFU09VUkNFX01FTSwgMCk7Ci0JZHNpLT5iYXNlID0gZGV2
bV9pb3JlbWFwX3Jlc291cmNlKGRldiwgcmVzKTsKLQlpZiAoSVNfRVJSKGRzaS0+YmFzZSkpIHsK
LQkJcmV0ID0gUFRSX0VSUihkc2ktPmJhc2UpOworCXJlZ3MgPSBkZXZtX2lvcmVtYXBfcmVzb3Vy
Y2UoZGV2LCByZXMpOworCWlmIChJU19FUlIocmVncykpIHsKKwkJcmV0ID0gUFRSX0VSUihyZWdz
KTsKIAkJRFJNX0VSUk9SKCJVbmFibGUgdG8gZ2V0IGRzaSByZWdpc3RlcnMgJWRcbiIsIHJldCk7
CiAJCXJldHVybiByZXQ7CiAJfQogCisJZHNpLT5yZWdzID0gZGV2bV9yZWdtYXBfaW5pdF9tbWlv
KGRldiwgcmVncywgJnN0bV9kc2lfcmVnbWFwX2NvbmZpZyk7CisJaWYgKElTX0VSUihkc2ktPnJl
Z3MpKSB7CisJCURSTV9ERVZfRVJST1IoZGV2LCAiVW5hYmxlIHRvIGNyZWF0ZSBEU0kgcmVnbWFw
XG4iKTsKKwkJcmV0dXJuIFBUUl9FUlIoZHNpLT5yZWdzKTsKKwl9CisKIAlkc2ktPnZkZF9zdXBw
bHkgPSBkZXZtX3JlZ3VsYXRvcl9nZXQoZGV2LCAicGh5LWRzaSIpOwogCWlmIChJU19FUlIoZHNp
LT52ZGRfc3VwcGx5KSkgewogCQlyZXQgPSBQVFJfRVJSKGRzaS0+dmRkX3N1cHBseSk7CkBAIC0z
OTYsNyArNDE2LDcgQEAgc3RhdGljIGludCBkd19taXBpX2RzaV9zdG1fcHJvYmUoc3RydWN0IHBs
YXRmb3JtX2RldmljZSAqcGRldikKIAkJZ290byBlcnJfZHNpX3Byb2JlOwogCX0KIAotCWR3X21p
cGlfZHNpX3N0bV9wbGF0X2RhdGEuYmFzZSA9IGRzaS0+YmFzZTsKKwlkd19taXBpX2RzaV9zdG1f
cGxhdF9kYXRhLnJlZ3MgPSBkc2ktPnJlZ3M7CiAJZHdfbWlwaV9kc2lfc3RtX3BsYXRfZGF0YS5w
cml2X2RhdGEgPSBkc2k7CiAKIAlwbGF0Zm9ybV9zZXRfZHJ2ZGF0YShwZGV2LCBkc2kpOwpAQCAt
NDc0LDcgKzQ5NCw3IEBAIHN0YXRpYyBzdHJ1Y3QgcGxhdGZvcm1fZHJpdmVyIGR3X21pcGlfZHNp
X3N0bV9kcml2ZXIgPSB7CiAJLnJlbW92ZQkJPSBkd19taXBpX2RzaV9zdG1fcmVtb3ZlLAogCS5k
cml2ZXIJCT0gewogCQkub2ZfbWF0Y2hfdGFibGUgPSBkd19taXBpX2RzaV9zdG1fZHRfaWRzLAot
CQkubmFtZQk9ICJzdG0zMi1kaXNwbGF5LWRzaSIsCisJCS5uYW1lCT0gRFJJVkVSX05BTUUsCiAJ
CS5wbSA9ICZkd19taXBpX2RzaV9zdG1fcG1fb3BzLAogCX0sCiB9OwpkaWZmIC0tZ2l0IGEvaW5j
bHVkZS9kcm0vYnJpZGdlL2R3X21pcGlfZHNpLmggYi9pbmNsdWRlL2RybS9icmlkZ2UvZHdfbWlw
aV9kc2kuaAppbmRleCA5NGNjNjRhMzQyZTEuLmVjYzE4OTdlZmE2MiAxMDA2NDQKLS0tIGEvaW5j
bHVkZS9kcm0vYnJpZGdlL2R3X21pcGlfZHNpLmgKKysrIGIvaW5jbHVkZS9kcm0vYnJpZGdlL2R3
X21pcGlfZHNpLmgKQEAgLTM3LDcgKzM3LDcgQEAgc3RydWN0IGR3X21pcGlfZHNpX2hvc3Rfb3Bz
IHsKIH07CiAKIHN0cnVjdCBkd19taXBpX2RzaV9wbGF0X2RhdGEgewotCXZvaWQgX19pb21lbSAq
YmFzZTsKKwlzdHJ1Y3QgcmVnbWFwICpyZWdzOwogCXVuc2lnbmVkIGludCBtYXhfZGF0YV9sYW5l
czsKIAogCWVudW0gZHJtX21vZGVfc3RhdHVzICgqbW9kZV92YWxpZCkodm9pZCAqcHJpdl9kYXRh
LAotLSAKMi4yMy4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2
ZWw=
