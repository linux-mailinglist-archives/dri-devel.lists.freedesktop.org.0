Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 5A89F1CFD41
	for <lists+dri-devel@lfdr.de>; Tue, 12 May 2020 20:29:46 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3ACF46E967;
	Tue, 12 May 2020 18:29:40 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wm1-x341.google.com (mail-wm1-x341.google.com
 [IPv6:2a00:1450:4864:20::341])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2C56E6E0B9;
 Tue, 12 May 2020 18:29:38 +0000 (UTC)
Received: by mail-wm1-x341.google.com with SMTP id n5so9877996wmd.0;
 Tue, 12 May 2020 11:29:38 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=LTnbGYSjBdbaLORyuztVA/27NIXa1cH5P5A95OsNjrU=;
 b=B1W6XZ+Sn1DRIfzJ8dMGlqMuvePXNpqVozZPLLb841kO37cbW3xHUHrOeyAAqwLKBY
 M+XObBVLkL4W7P0ZJjSySK7MDuLq2TA6cYpjaW+5z0ro94wF5fLkjxB4IWAenSk/8R9z
 FrpJCu+pw6OJr9MnIOUUXyGOowAR6WLoVxxTlVTnrcEBmntbfoGl6lD/3+3RoZLjBsw5
 ZLKUrY6pvSBha1e4H9dPr1OavSHmMKunIPAaiyTx6Zed40FaCDn2K/QXP25dh6OKxHPt
 6gbcHWctR5OvnjG3GKrQSzrbi+kVJbU9QD7qpf0hPW2iQQtjrWEQkAD912ENIceHYdWV
 u48w==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=LTnbGYSjBdbaLORyuztVA/27NIXa1cH5P5A95OsNjrU=;
 b=WQJN56BJ+LxytdQlqt0zDyOdMCLkhsPCB/AMN4RfNjUL2nWSFiewfafVbMQHQ+tf3+
 zQw4TrRVHY8z10GW54dyRRBQWuXxt0avnCucBpPIzYi5D8nmo8KQdGf3lRFGVgYLQOP3
 1xXEggZtbzfT4gJtfFYXLdwzQDzF2k16Zyp2hFeSEjy7GlSlRd6pGx94G6byRhxRz6GT
 PYxPuF4HnRXAiIAlAB2fnM2A1U6YE3rD3DQ0W9hBqOmVf10rvIS4w18sagi+UUjcpRFL
 dju8AI8BoUztG28/71AqD8ZOYVPufHgO7856kRRGq4aNreiHhU9Um54WkEon3eJclfyk
 6g4g==
X-Gm-Message-State: AGi0Pua0fVg9VcCkNFz1JQ0lUasjI5jYkyyMyL7c7Uku3wa7wkMlZCJX
 lXSQGZstAENxLyTa5AzR58LB2atZUj8SX4FvjoJ+oJnn
X-Google-Smtp-Source: APiQypIo86JRtc6hd4R8UAkNsjv9RfRXJ84cQwvcHUEOpCE6+tZViH0m4Fzacs6McvdKc/0G7vZFnlYOV0Jq1916cXo=
X-Received: by 2002:a7b:cc0e:: with SMTP id f14mr38796916wmh.39.1589308176540; 
 Tue, 12 May 2020 11:29:36 -0700 (PDT)
MIME-Version: 1.0
References: <20200511171722.96576-1-christian.koenig@amd.com>
 <20200511171722.96576-2-christian.koenig@amd.com>
 <d0314d28-7ef3-e158-ee05-4802e16c0ecc@suse.de>
In-Reply-To: <d0314d28-7ef3-e158-ee05-4802e16c0ecc@suse.de>
From: Alex Deucher <alexdeucher@gmail.com>
Date: Tue, 12 May 2020 14:29:25 -0400
Message-ID: <CADnq5_O9dXSVCRgeUjuGWOdn6os-xMtVD1u90_UB0tWNGr-tjw@mail.gmail.com>
Subject: Re: [PATCH 1/3] drm/radeon: remove AGP support
To: Thomas Zimmermann <tzimmermann@suse.de>
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: =?UTF-8?Q?Christian_K=C3=B6nig?= <ckoenig.leichtzumerken@gmail.com>,
 amd-gfx list <amd-gfx@lists.freedesktop.org>,
 Maling list - DRI developers <dri-devel@lists.freedesktop.org>,
 nouveau <nouveau@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVHVlLCBNYXkgMTIsIDIwMjAgYXQgMjoyMCBQTSBUaG9tYXMgWmltbWVybWFubiA8dHppbW1l
cm1hbm5Ac3VzZS5kZT4gd3JvdGU6Cj4KPiBIaSBDaHJpc3RpYW4KPgo+IEFtIDExLjA1LjIwIHVt
IDE5OjE3IHNjaHJpZWIgQ2hyaXN0aWFuIEvDtm5pZzoKPiA+IEFHUCBpcyBkZXByZWNhdGVkIGZv
ciAxMCsgeWVhcnMgbm93IGFuZCBub3QgdXNlZCBhbnkgbW9yZSBvbiBtb2Rlcm4gaGFyZHdhcmUu
Cj4gPgo+ID4gT2xkIGhhcmR3YXJlIHNob3VsZCBjb250aW51ZSB0byB3b3JrIGluIFBDSSBtb2Rl
Lgo+ID4KPiA+IFNpZ25lZC1vZmYtYnk6IENocmlzdGlhbiBLw7ZuaWcgPGNocmlzdGlhbi5rb2Vu
aWdAYW1kLmNvbT4KPiA+IC0tLQo+ID4gIGRyaXZlcnMvZ3B1L2RybS9yYWRlb24vTWFrZWZpbGUg
ICAgICAgIHwgICA0ICstCj4gPiAgZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9ldmVyZ3JlZW4uYyAg
ICAgfCAgIDcgLQo+ID4gIGRyaXZlcnMvZ3B1L2RybS9yYWRlb24vcjEwMC5jICAgICAgICAgIHwg
IDEwICstCj4gPiAgZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yMzAwLmMgICAgICAgICAgfCAgIDkg
LQo+ID4gIGRyaXZlcnMvZ3B1L2RybS9yYWRlb24vcjQyMC5jICAgICAgICAgIHwgICA5IC0KPiA+
ICBkcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3I1MjAuYyAgICAgICAgICB8ICAgOCAtCj4gPiAgZHJp
dmVycy9ncHUvZHJtL3JhZGVvbi9yNjAwLmMgICAgICAgICAgfCAgIDYgLQo+ID4gIGRyaXZlcnMv
Z3B1L2RybS9yYWRlb24vcmFkZW9uLmggICAgICAgIHwgIDExIC0KPiA+ICBkcml2ZXJzL2dwdS9k
cm0vcmFkZW9uL3JhZGVvbl9hZ3AuYyAgICB8IDI5MCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
Cj4gPiAgZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fZGV2aWNlLmMgfCAgMjMgKy0KPiA+
ICBkcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl9kcnYuYyAgICB8ICAgOSAtCj4KPiBJbiBy
YWRlb25fZHJ2LmMsIHRoZSBmaWVsZCBkcm1fZGV2aWNlLmFncCBpcyBzdGlsbCBiZWluZyBpbml0
aWFsaXplZCBpbgo+IHJhZGVvbl9wY2lfcHJvYmUoKSBhbmQgY2xlYW5lZCB1cCBpbiByYWRlb25f
ZHJpdmVyX3VubG9hZF9rbXMoKS4gSXMgdGhpcwo+IGludGVudGlvbmFsPwo+Cj4gQmVzdCByZWdh
cmRzCj4gVGhvbWFzCj4KPiA+ICBkcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl90dG0uYyAg
ICB8ICAzOSAtLS0tCj4gPiAgZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9ydjUxNS5jICAgICAgICAg
fCAgIDkgLQo+ID4gIGRyaXZlcnMvZ3B1L2RybS9yYWRlb24vcnY3NzAuYyAgICAgICAgIHwgICA3
IC0KPiA+ICAxNCBmaWxlcyBjaGFuZ2VkLCA0IGluc2VydGlvbnMoKyksIDQzNyBkZWxldGlvbnMo
LSkKPiA+ICBkZWxldGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25f
YWdwLmMKPiA+Cj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9NYWtlZmls
ZSBiL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vTWFrZWZpbGUKPiA+IGluZGV4IGM2OTNiMmNhMDMy
OS4uNzc0MjljZmQzMDNlIDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9N
YWtlZmlsZQo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9NYWtlZmlsZQo+ID4gQEAg
LTYxLDggKzYxLDggQEAgcmFkZW9uLXkgOj0gcmFkZW9uX2Rydi5vCj4gPgo+ID4gICMgYWRkIEtN
UyBkcml2ZXIKPiA+ICByYWRlb24teSArPSByYWRlb25fZGV2aWNlLm8gcmFkZW9uX2FzaWMubyBy
YWRlb25fa21zLm8gXAo+ID4gLSAgICAgcmFkZW9uX2F0b21iaW9zLm8gcmFkZW9uX2FncC5vIGF0
b21iaW9zX2NydGMubyByYWRlb25fY29tYmlvcy5vIFwKPiA+IC0gICAgIGF0b20ubyByYWRlb25f
ZmVuY2UubyByYWRlb25fdHRtLm8gcmFkZW9uX29iamVjdC5vIHJhZGVvbl9nYXJ0Lm8gXAo+ID4g
KyAgICAgcmFkZW9uX2F0b21iaW9zLm8gYXRvbWJpb3NfY3J0Yy5vIHJhZGVvbl9jb21iaW9zLm8g
YXRvbS5vIFwKPiA+ICsgICAgIHJhZGVvbl9mZW5jZS5vIHJhZGVvbl90dG0ubyByYWRlb25fb2Jq
ZWN0Lm8gcmFkZW9uX2dhcnQubyBcCj4gPiAgICAgICByYWRlb25fbGVnYWN5X2NydGMubyByYWRl
b25fbGVnYWN5X2VuY29kZXJzLm8gcmFkZW9uX2Nvbm5lY3RvcnMubyBcCj4gPiAgICAgICByYWRl
b25fZW5jb2RlcnMubyByYWRlb25fZGlzcGxheS5vIHJhZGVvbl9jdXJzb3IubyByYWRlb25faTJj
Lm8gXAo+ID4gICAgICAgcmFkZW9uX2Nsb2Nrcy5vIHJhZGVvbl9mYi5vIHJhZGVvbl9nZW0ubyBy
YWRlb25fcmluZy5vIHJhZGVvbl9pcnFfa21zLm8gXAo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9yYWRlb24vZXZlcmdyZWVuLmMgYi9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL2V2ZXJn
cmVlbi5jCj4gPiBpbmRleCAxNGQ5MGRjMzc2ZTcuLjY2YjNkOWEyYzZkZCAxMDA2NDQKPiA+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vZXZlcmdyZWVuLmMKPiA+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9yYWRlb24vZXZlcmdyZWVuLmMKPiA+IEBAIC01MjE2LDEyICs1MjE2LDYgQEAgaW50
IGV2ZXJncmVlbl9pbml0KHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2KQo+ID4gICAgICAgciA9
IHJhZGVvbl9mZW5jZV9kcml2ZXJfaW5pdChyZGV2KTsKPiA+ICAgICAgIGlmIChyKQo+ID4gICAg
ICAgICAgICAgICByZXR1cm4gcjsKPiA+IC0gICAgIC8qIGluaXRpYWxpemUgQUdQICovCj4gPiAt
ICAgICBpZiAocmRldi0+ZmxhZ3MgJiBSQURFT05fSVNfQUdQKSB7Cj4gPiAtICAgICAgICAgICAg
IHIgPSByYWRlb25fYWdwX2luaXQocmRldik7Cj4gPiAtICAgICAgICAgICAgIGlmIChyKQo+ID4g
LSAgICAgICAgICAgICAgICAgICAgIHJhZGVvbl9hZ3BfZGlzYWJsZShyZGV2KTsKPiA+IC0gICAg
IH0KPiA+ICAgICAgIC8qIGluaXRpYWxpemUgbWVtb3J5IGNvbnRyb2xsZXIgKi8KPiA+ICAgICAg
IHIgPSBldmVyZ3JlZW5fbWNfaW5pdChyZGV2KTsKPiA+ICAgICAgIGlmIChyKQo+ID4gQEAgLTUz
MTUsNyArNTMwOSw2IEBAIHZvaWQgZXZlcmdyZWVuX2Zpbmkoc3RydWN0IHJhZGVvbl9kZXZpY2Ug
KnJkZXYpCj4gPiAgICAgICByNjAwX3ZyYW1fc2NyYXRjaF9maW5pKHJkZXYpOwo+ID4gICAgICAg
cmFkZW9uX2dlbV9maW5pKHJkZXYpOwo+ID4gICAgICAgcmFkZW9uX2ZlbmNlX2RyaXZlcl9maW5p
KHJkZXYpOwo+ID4gLSAgICAgcmFkZW9uX2FncF9maW5pKHJkZXYpOwo+ID4gICAgICAgcmFkZW9u
X2JvX2ZpbmkocmRldik7Cj4gPiAgICAgICByYWRlb25fYXRvbWJpb3NfZmluaShyZGV2KTsKPiA+
ICAgICAgIGtmcmVlKHJkZXYtPmJpb3MpOwo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9yYWRlb24vcjEwMC5jIGIvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yMTAwLmMKPiA+IGluZGV4
IDI0YzhkYjY3MzkzMS4uMzIwYjFiNDBhMzBhIDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL3JhZGVvbi9yMTAwLmMKPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcjEwMC5j
Cj4gPiBAQCAtMzM4Miw3ICszMzgyLDcgQEAgdm9pZCByMTAwX2JhbmR3aWR0aF91cGRhdGUoc3Ry
dWN0IHJhZGVvbl9kZXZpY2UgKnJkZXYpCj4gPgo+ID4gICAgICAgaWYgKHJkZXYtPmZsYWdzICYg
UkFERU9OX0lTX0FHUCkgewo+ID4gICAgICAgICAgICAgICBmaXhlZDIwXzEyIGFncG1vZGVfZmY7
Cj4gPiAtICAgICAgICAgICAgIGFncG1vZGVfZmYuZnVsbCA9IGRmaXhlZF9jb25zdChyYWRlb25f
YWdwbW9kZSk7Cj4gPiArICAgICAgICAgICAgIGFncG1vZGVfZmYuZnVsbCA9IGRmaXhlZF9jb25z
dCgwKTsKPiA+ICAgICAgICAgICAgICAgdGVtcF9mZi5mdWxsID0gZGZpeGVkX2NvbnN0XzY2Nigx
Nik7Cj4gPiAgICAgICAgICAgICAgIHNjbGtfZWZmX2ZmLmZ1bGwgLT0gZGZpeGVkX211bChhZ3Bt
b2RlX2ZmLCB0ZW1wX2ZmKTsKPiA+ICAgICAgIH0KPiA+IEBAIC0zOTkyLDcgKzM5OTIsNiBAQCB2
b2lkIHIxMDBfZmluaShzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldikKPiA+ICAgICAgIHJhZGVv
bl9nZW1fZmluaShyZGV2KTsKPiA+ICAgICAgIGlmIChyZGV2LT5mbGFncyAmIFJBREVPTl9JU19Q
Q0kpCj4gPiAgICAgICAgICAgICAgIHIxMDBfcGNpX2dhcnRfZmluaShyZGV2KTsKPiA+IC0gICAg
IHJhZGVvbl9hZ3BfZmluaShyZGV2KTsKPiA+ICAgICAgIHJhZGVvbl9pcnFfa21zX2ZpbmkocmRl
dik7Cj4gPiAgICAgICByYWRlb25fZmVuY2VfZHJpdmVyX2ZpbmkocmRldik7Cj4gPiAgICAgICBy
YWRlb25fYm9fZmluaShyZGV2KTsKPiA+IEBAIC00MDY4LDEzICs0MDY3LDYgQEAgaW50IHIxMDBf
aW5pdChzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldikKPiA+ICAgICAgIHIxMDBfZXJyYXRhKHJk
ZXYpOwo+ID4gICAgICAgLyogSW5pdGlhbGl6ZSBjbG9ja3MgKi8KPiA+ICAgICAgIHJhZGVvbl9n
ZXRfY2xvY2tfaW5mbyhyZGV2LT5kZGV2KTsKPiA+IC0gICAgIC8qIGluaXRpYWxpemUgQUdQICov
Cj4gPiAtICAgICBpZiAocmRldi0+ZmxhZ3MgJiBSQURFT05fSVNfQUdQKSB7Cj4gPiAtICAgICAg
ICAgICAgIHIgPSByYWRlb25fYWdwX2luaXQocmRldik7Cj4gPiAtICAgICAgICAgICAgIGlmIChy
KSB7Cj4gPiAtICAgICAgICAgICAgICAgICAgICAgcmFkZW9uX2FncF9kaXNhYmxlKHJkZXYpOwo+
ID4gLSAgICAgICAgICAgICB9Cj4gPiAtICAgICB9Cj4gPiAgICAgICAvKiBpbml0aWFsaXplIFZS
QU0gKi8KPiA+ICAgICAgIHIxMDBfbWNfaW5pdChyZGV2KTsKPiA+ICAgICAgIC8qIEZlbmNlIGRy
aXZlciAqLwo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcjMwMC5jIGIv
ZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yMzAwLmMKPiA+IGluZGV4IDNiN2VhZDViZTViZi4uYWZk
Njg4NjI5Y2Y5IDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yMzAwLmMK
PiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcjMwMC5jCj4gPiBAQCAtMTQ5OCw3ICsx
NDk4LDYgQEAgdm9pZCByMzAwX2Zpbmkoc3RydWN0IHJhZGVvbl9kZXZpY2UgKnJkZXYpCj4gPiAg
ICAgICAgICAgICAgIHJ2MzcwX3BjaWVfZ2FydF9maW5pKHJkZXYpOwo+ID4gICAgICAgaWYgKHJk
ZXYtPmZsYWdzICYgUkFERU9OX0lTX1BDSSkKPiA+ICAgICAgICAgICAgICAgcjEwMF9wY2lfZ2Fy
dF9maW5pKHJkZXYpOwo+ID4gLSAgICAgcmFkZW9uX2FncF9maW5pKHJkZXYpOwo+ID4gICAgICAg
cmFkZW9uX2lycV9rbXNfZmluaShyZGV2KTsKPiA+ICAgICAgIHJhZGVvbl9mZW5jZV9kcml2ZXJf
ZmluaShyZGV2KTsKPiA+ICAgICAgIHJhZGVvbl9ib19maW5pKHJkZXYpOwo+ID4gQEAgLTE1NDcs
MTMgKzE1NDYsNiBAQCBpbnQgcjMwMF9pbml0KHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2KQo+
ID4gICAgICAgcjMwMF9lcnJhdGEocmRldik7Cj4gPiAgICAgICAvKiBJbml0aWFsaXplIGNsb2Nr
cyAqLwo+ID4gICAgICAgcmFkZW9uX2dldF9jbG9ja19pbmZvKHJkZXYtPmRkZXYpOwo+ID4gLSAg
ICAgLyogaW5pdGlhbGl6ZSBBR1AgKi8KPiA+IC0gICAgIGlmIChyZGV2LT5mbGFncyAmIFJBREVP
Tl9JU19BR1ApIHsKPiA+IC0gICAgICAgICAgICAgciA9IHJhZGVvbl9hZ3BfaW5pdChyZGV2KTsK
PiA+IC0gICAgICAgICAgICAgaWYgKHIpIHsKPiA+IC0gICAgICAgICAgICAgICAgICAgICByYWRl
b25fYWdwX2Rpc2FibGUocmRldik7Cj4gPiAtICAgICAgICAgICAgIH0KPiA+IC0gICAgIH0KPiA+
ICAgICAgIC8qIGluaXRpYWxpemUgbWVtb3J5IGNvbnRyb2xsZXIgKi8KPiA+ICAgICAgIHIzMDBf
bWNfaW5pdChyZGV2KTsKPiA+ICAgICAgIC8qIEZlbmNlIGRyaXZlciAqLwo+ID4gQEAgLTE1OTIs
NyArMTU4NCw2IEBAIGludCByMzAwX2luaXQoc3RydWN0IHJhZGVvbl9kZXZpY2UgKnJkZXYpCj4g
PiAgICAgICAgICAgICAgICAgICAgICAgcnYzNzBfcGNpZV9nYXJ0X2ZpbmkocmRldik7Cj4gPiAg
ICAgICAgICAgICAgIGlmIChyZGV2LT5mbGFncyAmIFJBREVPTl9JU19QQ0kpCj4gPiAgICAgICAg
ICAgICAgICAgICAgICAgcjEwMF9wY2lfZ2FydF9maW5pKHJkZXYpOwo+ID4gLSAgICAgICAgICAg
ICByYWRlb25fYWdwX2ZpbmkocmRldik7Cj4gPiAgICAgICAgICAgICAgIHJkZXYtPmFjY2VsX3dv
cmtpbmcgPSBmYWxzZTsKPiA+ICAgICAgIH0KPiA+ICAgICAgIHJldHVybiAwOwo+ID4gZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcjQyMC5jIGIvZHJpdmVycy9ncHUvZHJtL3Jh
ZGVvbi9yNDIwLmMKPiA+IGluZGV4IDFkNGMwNGUwYTQ0OS4uM2NiMzM3ZGFjZDU2IDEwMDY0NAo+
ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yNDIwLmMKPiA+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9yYWRlb24vcjQyMC5jCj4gPiBAQCAtMzY2LDcgKzM2Niw2IEBAIHZvaWQgcjQyMF9m
aW5pKHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2KQo+ID4gICAgICAgICAgICAgICBydjM3MF9w
Y2llX2dhcnRfZmluaShyZGV2KTsKPiA+ICAgICAgIGlmIChyZGV2LT5mbGFncyAmIFJBREVPTl9J
U19QQ0kpCj4gPiAgICAgICAgICAgICAgIHIxMDBfcGNpX2dhcnRfZmluaShyZGV2KTsKPiA+IC0g
ICAgIHJhZGVvbl9hZ3BfZmluaShyZGV2KTsKPiA+ICAgICAgIHJhZGVvbl9pcnFfa21zX2Zpbmko
cmRldik7Cj4gPiAgICAgICByYWRlb25fZmVuY2VfZHJpdmVyX2ZpbmkocmRldik7Cj4gPiAgICAg
ICByYWRlb25fYm9fZmluaShyZGV2KTsKPiA+IEBAIC00MTksMTMgKzQxOCw2IEBAIGludCByNDIw
X2luaXQoc3RydWN0IHJhZGVvbl9kZXZpY2UgKnJkZXYpCj4gPgo+ID4gICAgICAgLyogSW5pdGlh
bGl6ZSBjbG9ja3MgKi8KPiA+ICAgICAgIHJhZGVvbl9nZXRfY2xvY2tfaW5mbyhyZGV2LT5kZGV2
KTsKPiA+IC0gICAgIC8qIGluaXRpYWxpemUgQUdQICovCj4gPiAtICAgICBpZiAocmRldi0+Zmxh
Z3MgJiBSQURFT05fSVNfQUdQKSB7Cj4gPiAtICAgICAgICAgICAgIHIgPSByYWRlb25fYWdwX2lu
aXQocmRldik7Cj4gPiAtICAgICAgICAgICAgIGlmIChyKSB7Cj4gPiAtICAgICAgICAgICAgICAg
ICAgICAgcmFkZW9uX2FncF9kaXNhYmxlKHJkZXYpOwo+ID4gLSAgICAgICAgICAgICB9Cj4gPiAt
ICAgICB9Cj4gPiAgICAgICAvKiBpbml0aWFsaXplIG1lbW9yeSBjb250cm9sbGVyICovCj4gPiAg
ICAgICByMzAwX21jX2luaXQocmRldik7Cj4gPiAgICAgICByNDIwX2RlYnVnZnMocmRldik7Cj4g
PiBAQCAtNDcwLDcgKzQ2Miw2IEBAIGludCByNDIwX2luaXQoc3RydWN0IHJhZGVvbl9kZXZpY2Ug
KnJkZXYpCj4gPiAgICAgICAgICAgICAgICAgICAgICAgcnYzNzBfcGNpZV9nYXJ0X2ZpbmkocmRl
dik7Cj4gPiAgICAgICAgICAgICAgIGlmIChyZGV2LT5mbGFncyAmIFJBREVPTl9JU19QQ0kpCj4g
PiAgICAgICAgICAgICAgICAgICAgICAgcjEwMF9wY2lfZ2FydF9maW5pKHJkZXYpOwo+ID4gLSAg
ICAgICAgICAgICByYWRlb25fYWdwX2ZpbmkocmRldik7Cj4gPiAgICAgICAgICAgICAgIHJkZXYt
PmFjY2VsX3dvcmtpbmcgPSBmYWxzZTsKPiA+ICAgICAgIH0KPiA+ICAgICAgIHJldHVybiAwOwo+
ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcjUyMC5jIGIvZHJpdmVycy9n
cHUvZHJtL3JhZGVvbi9yNTIwLmMKPiA+IGluZGV4IGZjNzhlNjRhZTcyNy4uNzZhYzg3ZDcyNDA2
IDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yNTIwLmMKPiA+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcjUyMC5jCj4gPiBAQCAtMjg4LDEzICsyODgsNiBAQCBp
bnQgcjUyMF9pbml0KHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2KQo+ID4gICAgICAgfQo+ID4g
ICAgICAgLyogSW5pdGlhbGl6ZSBjbG9ja3MgKi8KPiA+ICAgICAgIHJhZGVvbl9nZXRfY2xvY2tf
aW5mbyhyZGV2LT5kZGV2KTsKPiA+IC0gICAgIC8qIGluaXRpYWxpemUgQUdQICovCj4gPiAtICAg
ICBpZiAocmRldi0+ZmxhZ3MgJiBSQURFT05fSVNfQUdQKSB7Cj4gPiAtICAgICAgICAgICAgIHIg
PSByYWRlb25fYWdwX2luaXQocmRldik7Cj4gPiAtICAgICAgICAgICAgIGlmIChyKSB7Cj4gPiAt
ICAgICAgICAgICAgICAgICAgICAgcmFkZW9uX2FncF9kaXNhYmxlKHJkZXYpOwo+ID4gLSAgICAg
ICAgICAgICB9Cj4gPiAtICAgICB9Cj4gPiAgICAgICAvKiBpbml0aWFsaXplIG1lbW9yeSBjb250
cm9sbGVyICovCj4gPiAgICAgICByNTIwX21jX2luaXQocmRldik7Cj4gPiAgICAgICBydjUxNV9k
ZWJ1Z2ZzKHJkZXYpOwo+ID4gQEAgLTMyNCw3ICszMTcsNiBAQCBpbnQgcjUyMF9pbml0KHN0cnVj
dCByYWRlb25fZGV2aWNlICpyZGV2KQo+ID4gICAgICAgICAgICAgICByYWRlb25faWJfcG9vbF9m
aW5pKHJkZXYpOwo+ID4gICAgICAgICAgICAgICByYWRlb25faXJxX2ttc19maW5pKHJkZXYpOwo+
ID4gICAgICAgICAgICAgICBydjM3MF9wY2llX2dhcnRfZmluaShyZGV2KTsKPiA+IC0gICAgICAg
ICAgICAgcmFkZW9uX2FncF9maW5pKHJkZXYpOwo+ID4gICAgICAgICAgICAgICByZGV2LT5hY2Nl
bF93b3JraW5nID0gZmFsc2U7Cj4gPiAgICAgICB9Cj4gPiAgICAgICByZXR1cm4gMDsKPiA+IGRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3I2MDAuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9yYWRlb24vcjYwMC5jCj4gPiBpbmRleCBkOWEzM2NhNzY4ZjMuLjRhNWFjMTU4OTNjMiAxMDA2
NDQKPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcjYwMC5jCj4gPiArKysgYi9kcml2
ZXJzL2dwdS9kcm0vcmFkZW9uL3I2MDAuYwo+ID4gQEAgLTMyODYsMTEgKzMyODYsNiBAQCBpbnQg
cjYwMF9pbml0KHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2KQo+ID4gICAgICAgciA9IHJhZGVv
bl9mZW5jZV9kcml2ZXJfaW5pdChyZGV2KTsKPiA+ICAgICAgIGlmIChyKQo+ID4gICAgICAgICAg
ICAgICByZXR1cm4gcjsKPiA+IC0gICAgIGlmIChyZGV2LT5mbGFncyAmIFJBREVPTl9JU19BR1Ap
IHsKPiA+IC0gICAgICAgICAgICAgciA9IHJhZGVvbl9hZ3BfaW5pdChyZGV2KTsKPiA+IC0gICAg
ICAgICAgICAgaWYgKHIpCj4gPiAtICAgICAgICAgICAgICAgICAgICAgcmFkZW9uX2FncF9kaXNh
YmxlKHJkZXYpOwo+ID4gLSAgICAgfQo+ID4gICAgICAgciA9IHI2MDBfbWNfaW5pdChyZGV2KTsK
PiA+ICAgICAgIGlmIChyKQo+ID4gICAgICAgICAgICAgICByZXR1cm4gcjsKPiA+IEBAIC0zMzUz
LDcgKzMzNDgsNiBAQCB2b2lkIHI2MDBfZmluaShzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldikK
PiA+ICAgICAgIHJhZGVvbl9pcnFfa21zX2ZpbmkocmRldik7Cj4gPiAgICAgICByNjAwX3BjaWVf
Z2FydF9maW5pKHJkZXYpOwo+ID4gICAgICAgcjYwMF92cmFtX3NjcmF0Y2hfZmluaShyZGV2KTsK
PiA+IC0gICAgIHJhZGVvbl9hZ3BfZmluaShyZGV2KTsKPiA+ICAgICAgIHJhZGVvbl9nZW1fZmlu
aShyZGV2KTsKPiA+ICAgICAgIHJhZGVvbl9mZW5jZV9kcml2ZXJfZmluaShyZGV2KTsKPiA+ICAg
ICAgIHJhZGVvbl9ib19maW5pKHJkZXYpOwo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9yYWRlb24vcmFkZW9uLmggYi9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbi5oCj4gPiBp
bmRleCAzMGUzMmFkYzFmYzYuLjM3N2UxNDAzYjEzNCAxMDA2NDQKPiA+IC0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9yYWRlb24vcmFkZW9uLmgKPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24v
cmFkZW9uLmgKPiA+IEBAIC05MSw3ICs5MSw2IEBAIGV4dGVybiBpbnQgcmFkZW9uX25vX3diOwo+
ID4gIGV4dGVybiBpbnQgcmFkZW9uX21vZGVzZXQ7Cj4gPiAgZXh0ZXJuIGludCByYWRlb25fZHlu
Y2xrczsKPiA+ICBleHRlcm4gaW50IHJhZGVvbl9yNHh4X2F0b207Cj4gPiAtZXh0ZXJuIGludCBy
YWRlb25fYWdwbW9kZTsKPiA+ICBleHRlcm4gaW50IHJhZGVvbl92cmFtX2xpbWl0Owo+ID4gIGV4
dGVybiBpbnQgcmFkZW9uX2dhcnRfc2l6ZTsKPiA+ICBleHRlcm4gaW50IHJhZGVvbl9iZW5jaG1h
cmtpbmc7Cj4gPiBAQCAtMTExNiwxNiArMTExNSw2IEBAIHR5cGVkZWYgaW50ICgqcmFkZW9uX3Bh
Y2tldDBfY2hlY2tfdCkoc3RydWN0IHJhZGVvbl9jc19wYXJzZXIgKnAsCj4gPiAgdHlwZWRlZiBp
bnQgKCpyYWRlb25fcGFja2V0M19jaGVja190KShzdHJ1Y3QgcmFkZW9uX2NzX3BhcnNlciAqcCwK
PiA+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCByYWRlb25fY3Nf
cGFja2V0ICpwa3QpOwo+ID4KPiA+IC0KPiA+IC0vKgo+ID4gLSAqIEFHUAo+ID4gLSAqLwo+ID4g
LWludCByYWRlb25fYWdwX2luaXQoc3RydWN0IHJhZGVvbl9kZXZpY2UgKnJkZXYpOwo+ID4gLXZv
aWQgcmFkZW9uX2FncF9yZXN1bWUoc3RydWN0IHJhZGVvbl9kZXZpY2UgKnJkZXYpOwo+ID4gLXZv
aWQgcmFkZW9uX2FncF9zdXNwZW5kKHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2KTsKPiA+IC12
b2lkIHJhZGVvbl9hZ3BfZmluaShzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldik7Cj4gPiAtCj4g
PiAtCj4gPiAgLyoKPiA+ICAgKiBXcml0ZWJhY2sKPiA+ICAgKi8KPiA+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl9hZ3AuYyBiL2RyaXZlcnMvZ3B1L2RybS9yYWRl
b24vcmFkZW9uX2FncC5jCj4gPiBkZWxldGVkIGZpbGUgbW9kZSAxMDA2NDQKPiA+IGluZGV4IDBh
Y2E3YmRmNTRjNy4uMDAwMDAwMDAwMDAwCj4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vcmFkZW9u
L3JhZGVvbl9hZ3AuYwo+ID4gKysrIC9kZXYvbnVsbAo+ID4gQEAgLTEsMjkwICswLDAgQEAKPiA+
IC0vKgo+ID4gLSAqIENvcHlyaWdodCAyMDA4IFJlZCBIYXQgSW5jLgo+ID4gLSAqIENvcHlyaWdo
dCAyMDA5IEplcm9tZSBHbGlzc2UuCj4gPiAtICoKPiA+IC0gKiBQZXJtaXNzaW9uIGlzIGhlcmVi
eSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYQo+ID4g
LSAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZp
bGVzICh0aGUgIlNvZnR3YXJlIiksCj4gPiAtICogdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0
aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbgo+ID4gLSAqIHRo
ZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRl
LCBzdWJsaWNlbnNlLAo+ID4gLSAqIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUs
IGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZQo+ID4gLSAqIFNvZnR3YXJlIGlzIGZ1
cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6Cj4g
PiAtICoKPiA+IC0gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNz
aW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbgo+ID4gLSAqIGFsbCBjb3BpZXMgb3Igc3Vi
c3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgo+ID4gLSAqCj4gPiAtICogVEhFIFNP
RlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQs
IEVYUFJFU1MgT1IKPiA+IC0gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRP
IFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwKPiA+IC0gKiBGSVRORVNTIEZPUiBB
IFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiAgSU4gTk8gRVZFTlQgU0hB
TEwKPiA+IC0gKiBUSEUgQ09QWVJJR0hUIEhPTERFUihTKSBPUiBBVVRIT1IoUykgQkUgTElBQkxF
IEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IKPiA+IC0gKiBPVEhFUiBMSUFCSUxJVFksIFdIRVRI
RVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwKPiA+IC0gKiBB
UklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9S
IFRIRSBVU0UgT1IKPiA+IC0gKiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuCj4gPiAt
ICoKPiA+IC0gKiBBdXRob3JzOgo+ID4gLSAqICAgIERhdmUgQWlybGllCj4gPiAtICogICAgSmVy
b21lIEdsaXNzZSA8Z2xpc3NlQGZyZWVkZXNrdG9wLm9yZz4KPiA+IC0gKi8KPiA+IC0KPiA+IC0j
aW5jbHVkZSA8bGludXgvcGNpLmg+Cj4gPiAtCj4gPiAtI2luY2x1ZGUgPGRybS9kcm1fYWdwc3Vw
cG9ydC5oPgo+ID4gLSNpbmNsdWRlIDxkcm0vZHJtX2RldmljZS5oPgo+ID4gLSNpbmNsdWRlIDxk
cm0vcmFkZW9uX2RybS5oPgo+ID4gLQo+ID4gLSNpbmNsdWRlICJyYWRlb24uaCIKPiA+IC0KPiA+
IC0jaWYgSVNfRU5BQkxFRChDT05GSUdfQUdQKQo+ID4gLQo+ID4gLXN0cnVjdCByYWRlb25fYWdw
bW9kZV9xdWlyayB7Cj4gPiAtICAgICB1MzIgaG9zdGJyaWRnZV92ZW5kb3I7Cj4gPiAtICAgICB1
MzIgaG9zdGJyaWRnZV9kZXZpY2U7Cj4gPiAtICAgICB1MzIgY2hpcF92ZW5kb3I7Cj4gPiAtICAg
ICB1MzIgY2hpcF9kZXZpY2U7Cj4gPiAtICAgICB1MzIgc3Vic3lzX3ZlbmRvcjsKPiA+IC0gICAg
IHUzMiBzdWJzeXNfZGV2aWNlOwo+ID4gLSAgICAgdTMyIGRlZmF1bHRfbW9kZTsKPiA+IC19Owo+
ID4gLQo+ID4gLXN0YXRpYyBzdHJ1Y3QgcmFkZW9uX2FncG1vZGVfcXVpcmsgcmFkZW9uX2FncG1v
ZGVfcXVpcmtfbGlzdFtdID0gewo+ID4gLSAgICAgLyogSW50ZWwgRTc1MDUgTWVtb3J5IENvbnRy
b2xsZXIgSHViIC8gUlYzNTAgQVIgW1JhZGVvbiA5NjAwWFRdIE5lZWRzIEFHUE1vZGUgNCAoZGVi
ICM1MTUzMjYpICovCj4gPiAtICAgICB7IFBDSV9WRU5ET1JfSURfSU5URUwsIDB4MjU1MCwgUENJ
X1ZFTkRPUl9JRF9BVEksIDB4NDE1MiwgMHgxNDU4LCAweDQwMzgsIDR9LAo+ID4gLSAgICAgLyog
SW50ZWwgODI4NjVHL1BFL1AgRFJBTSBDb250cm9sbGVyL0hvc3QtSHViIC8gTW9iaWxpdHkgOTgw
MCBOZWVkcyBBR1BNb2RlIDQgKGRlYiAjNDYyNTkwKSAqLwo+ID4gLSAgICAgeyBQQ0lfVkVORE9S
X0lEX0lOVEVMLCAweDI1NzAsIFBDSV9WRU5ET1JfSURfQVRJLCAweDRhNGUsIFBDSV9WRU5ET1Jf
SURfREVMTCwgMHg1MTA2LCA0fSwKPiA+IC0gICAgIC8qIEludGVsIDgyODY1Ry9QRS9QIERSQU0g
Q29udHJvbGxlci9Ib3N0LUh1YiAvIFJWMjgwIFtSYWRlb24gOTIwMCBTRV0gTmVlZHMgQUdQTW9k
ZSA0IChscCAjMzAwMzA0KSAqLwo+ID4gLSAgICAgeyBQQ0lfVkVORE9SX0lEX0lOVEVMLCAweDI1
NzAsIFBDSV9WRU5ET1JfSURfQVRJLCAweDU5NjQsCj4gPiAtICAgICAgICAgICAgIDB4MTQ4Yywg
MHgyMDczLCA0fSwKPiA+IC0gICAgIC8qIEludGVsIDgyODU1UE0gUHJvY2Vzc29yIHRvIEkvTyBD
b250cm9sbGVyIC8gTW9iaWxpdHkgTTYgTFkgTmVlZHMgQUdQTW9kZSAxIChkZWIgIzQ2NzIzNSkg
Ki8KPiA+IC0gICAgIHsgUENJX1ZFTkRPUl9JRF9JTlRFTCwgMHgzMzQwLCBQQ0lfVkVORE9SX0lE
X0FUSSwgMHg0YzU5LAo+ID4gLSAgICAgICAgICAgICBQQ0lfVkVORE9SX0lEX0lCTSwgMHgwNTJm
LCAxfSwKPiA+IC0gICAgIC8qIEludGVsIDgyODU1UE0gaG9zdCBicmlkZ2UgLyBNb2JpbGl0eSA5
NjAwIE0xMCBSVjM1MCBOZWVkcyBBR1BNb2RlIDEgKGxwICMxOTUwNTEpICovCj4gPiAtICAgICB7
IFBDSV9WRU5ET1JfSURfSU5URUwsIDB4MzM0MCwgUENJX1ZFTkRPUl9JRF9BVEksIDB4NGU1MCwK
PiA+IC0gICAgICAgICAgICAgUENJX1ZFTkRPUl9JRF9JQk0sIDB4MDU1MCwgMX0sCj4gPiAtICAg
ICAvKiBJbnRlbCA4Mjg1NVBNIGhvc3QgYnJpZGdlIC8gUlYyNTAvTTkgR0wgW01vYmlsaXR5IEZp
cmVHTCA5MDAwL1JhZGVvbiA5MDAwXSBuZWVkcyBBR1BNb2RlIDEgKFRoaW5rcGFkIFQ0MHApICov
Cj4gPiAtICAgICB7IFBDSV9WRU5ET1JfSURfSU5URUwsIDB4MzM0MCwgUENJX1ZFTkRPUl9JRF9B
VEksIDB4NGM2NiwKPiA+IC0gICAgICAgICAgICAgUENJX1ZFTkRPUl9JRF9JQk0sIDB4MDU0ZCwg
MX0sCj4gPiAtICAgICAvKiBJbnRlbCA4Mjg1NVBNIGhvc3QgYnJpZGdlIC8gTW9iaWxpdHkgTTcg
bmVlZHMgQUdQTW9kZSAxICovCj4gPiAtICAgICB7IFBDSV9WRU5ET1JfSURfSU5URUwsIDB4MzM0
MCwgUENJX1ZFTkRPUl9JRF9BVEksIDB4NGM1NywKPiA+IC0gICAgICAgICAgICAgUENJX1ZFTkRP
Ul9JRF9JQk0sIDB4MDUzMCwgMX0sCj4gPiAtICAgICAvKiBJbnRlbCA4Mjg1NVBNIGhvc3QgYnJp
ZGdlIC8gRmlyZUdMIE1vYmlsaXR5IFQyIFJWMzUwIE5lZWRzIEFHUE1vZGUgMiAoZmRvICMyMDY0
NykgKi8KPiA+IC0gICAgIHsgUENJX1ZFTkRPUl9JRF9JTlRFTCwgMHgzMzQwLCBQQ0lfVkVORE9S
X0lEX0FUSSwgMHg0ZTU0LAo+ID4gLSAgICAgICAgICAgICBQQ0lfVkVORE9SX0lEX0lCTSwgMHgw
NTRmLCAyfSwKPiA+IC0gICAgIC8qIEludGVsIDgyODU1UE0gaG9zdCBicmlkZ2UgLyBNb2JpbGl0
eSBNOSsgLyBWYWlvUENHLVY1MDVEWCBOZWVkcyBBR1BNb2RlIDIgKGZkbyAjMTc5MjgpICovCj4g
PiAtICAgICB7IFBDSV9WRU5ET1JfSURfSU5URUwsIDB4MzM0MCwgUENJX1ZFTkRPUl9JRF9BVEks
IDB4NWM2MSwKPiA+IC0gICAgICAgICAgICAgUENJX1ZFTkRPUl9JRF9TT05ZLCAweDgxNmIsIDJ9
LAo+ID4gLSAgICAgLyogSW50ZWwgODI4NTVQTSBQcm9jZXNzb3IgdG8gSS9PIENvbnRyb2xsZXIg
LyBNb2JpbGl0eSBNOSsgTmVlZHMgQUdQTW9kZSA4IChwaG9yb25peCBmb3J1bSkgKi8KPiA+IC0g
ICAgIHsgUENJX1ZFTkRPUl9JRF9JTlRFTCwgMHgzMzQwLCBQQ0lfVkVORE9SX0lEX0FUSSwgMHg1
YzYxLAo+ID4gLSAgICAgICAgICAgICBQQ0lfVkVORE9SX0lEX1NPTlksIDB4ODE5NSwgOH0sCj4g
PiAtICAgICAvKiBJbnRlbCA4MjgzMCA4MzAgQ2hpcHNldCBIb3N0IEJyaWRnZSAvIE1vYmlsaXR5
IE02IExZIE5lZWRzIEFHUE1vZGUgMiAoZmRvICMxNzM2MCkqLwo+ID4gLSAgICAgeyBQQ0lfVkVO
RE9SX0lEX0lOVEVMLCAweDM1NzUsIFBDSV9WRU5ET1JfSURfQVRJLCAweDRjNTksCj4gPiAtICAg
ICAgICAgICAgIFBDSV9WRU5ET1JfSURfREVMTCwgMHgwMGUzLCAyfSwKPiA+IC0gICAgIC8qIElu
dGVsIDgyODUyLzgyODU1IGhvc3QgYnJpZGdlIC8gTW9iaWxpdHkgRmlyZUdMIDkwMDAgUlYyNTAg
TmVlZHMgQUdQTW9kZSAxIChscCAjMjk2NjE3KSAqLwo+ID4gLSAgICAgeyBQQ0lfVkVORE9SX0lE
X0lOVEVMLCAweDM1ODAsIFBDSV9WRU5ET1JfSURfQVRJLCAweDRjNjYsCj4gPiAtICAgICAgICAg
ICAgIFBDSV9WRU5ET1JfSURfREVMTCwgMHgwMTQ5LCAxfSwKPiA+IC0gICAgIC8qIEludGVsIDgy
ODU1UE0gaG9zdCBicmlkZ2UgLyBNb2JpbGl0eSBGaXJlR0wgOTAwMCBSVjI1MCBOZWVkcyBBR1BN
b2RlIDEgZm9yIHN1c3BlbmQvcmVzdW1lICovCj4gPiAtICAgICB7IFBDSV9WRU5ET1JfSURfSU5U
RUwsIDB4MzM0MCwgUENJX1ZFTkRPUl9JRF9BVEksIDB4NGM2NiwKPiA+IC0gICAgICAgICAgICAg
UENJX1ZFTkRPUl9JRF9JQk0sIDB4MDUzMSwgMX0sCj4gPiAtICAgICAvKiBJbnRlbCA4Mjg1Mi84
Mjg1NSBob3N0IGJyaWRnZSAvIE1vYmlsaXR5IDk2MDAgTTEwIFJWMzUwIE5lZWRzIEFHUE1vZGUg
MSAoZGViICM0Njc0NjApICovCj4gPiAtICAgICB7IFBDSV9WRU5ET1JfSURfSU5URUwsIDB4MzU4
MCwgUENJX1ZFTkRPUl9JRF9BVEksIDB4NGU1MCwKPiA+IC0gICAgICAgICAgICAgMHgxMDI1LCAw
eDAwNjEsIDF9LAo+ID4gLSAgICAgLyogSW50ZWwgODI4NTIvODI4NTUgaG9zdCBicmlkZ2UgLyBN
b2JpbGl0eSA5NjAwIE0xMCBSVjM1MCBOZWVkcyBBR1BNb2RlIDEgKGxwICMyMDMwMDcpICovCj4g
PiAtICAgICB7IFBDSV9WRU5ET1JfSURfSU5URUwsIDB4MzU4MCwgUENJX1ZFTkRPUl9JRF9BVEks
IDB4NGU1MCwKPiA+IC0gICAgICAgICAgICAgMHgxMDI1LCAweDAwNjQsIDF9LAo+ID4gLSAgICAg
LyogSW50ZWwgODI4NTIvODI4NTUgaG9zdCBicmlkZ2UgLyBNb2JpbGl0eSA5NjAwIE0xMCBSVjM1
MCBOZWVkcyBBR1BNb2RlIDEgKGxwICMxNDE1NTEpICovCj4gPiAtICAgICB7IFBDSV9WRU5ET1Jf
SURfSU5URUwsIDB4MzU4MCwgUENJX1ZFTkRPUl9JRF9BVEksIDB4NGU1MCwKPiA+IC0gICAgICAg
ICAgICAgUENJX1ZFTkRPUl9JRF9BU1VTVEVLLCAweDE5NDIsIDF9LAo+ID4gLSAgICAgLyogSW50
ZWwgODI4NTIvODI4NTUgaG9zdCBicmlkZ2UgLyBNb2JpbGl0eSA5NjAwLzk3MDAgTmVlZHMgQUdQ
TW9kZSAxIChkZWIgIzUxMDIwOCkgKi8KPiA+IC0gICAgIHsgUENJX1ZFTkRPUl9JRF9JTlRFTCwg
MHgzNTgwLCBQQ0lfVkVORE9SX0lEX0FUSSwgMHg0ZTUwLAo+ID4gLSAgICAgICAgICAgICAweDEw
Y2YsIDB4MTI3ZiwgMX0sCj4gPiAtICAgICAvKiBBU1JvY2sgSzdWVDRBKyBBR1AgOHggLyBBVEkg
UmFkZW9uIDkyNTAgQUdQIE5lZWRzIEFHUE1vZGUgNCAobHAgIzEzMzE5MikgKi8KPiA+IC0gICAg
IHsgMHgxODQ5LCAweDMxODksIFBDSV9WRU5ET1JfSURfQVRJLCAweDU5NjAsCj4gPiAtICAgICAg
ICAgICAgIDB4MTc4NywgMHg1OTYwLCA0fSwKPiA+IC0gICAgIC8qIFZJQSBLOE04MDAgSG9zdCBC
cmlkZ2UgLyBSVjI4MCBbUmFkZW9uIDkyMDAgUFJPXSBOZWVkcyBBR1BNb2RlIDQgKGZkbyAjMTI1
NDQpICovCj4gPiAtICAgICB7IFBDSV9WRU5ET1JfSURfVklBLCAweDAyMDQsIFBDSV9WRU5ET1Jf
SURfQVRJLCAweDU5NjAsCj4gPiAtICAgICAgICAgICAgIDB4MTdhZiwgMHgyMDIwLCA0fSwKPiA+
IC0gICAgIC8qIFZJQSBLVDg4MCBIb3N0IEJyaWRnZSAvIFJWMzUwIFtSYWRlb24gOTU1MF0gTmVl
ZHMgQUdQTW9kZSA0IChmZG8gIzE5OTgxKSAqLwo+ID4gLSAgICAgeyBQQ0lfVkVORE9SX0lEX1ZJ
QSwgMHgwMjY5LCBQQ0lfVkVORE9SX0lEX0FUSSwgMHg0MTUzLAo+ID4gLSAgICAgICAgICAgICBQ
Q0lfVkVORE9SX0lEX0FTVVNURUssIDB4MDAzYywgNH0sCj4gPiAtICAgICAvKiBWSUEgVlQ4MzYz
IEhvc3QgQnJpZGdlIC8gUjIwMCBRTCBbUmFkZW9uIDg1MDBdIE5lZWRzIEFHUE1vZGUgMiAobHAg
IzE0MTU1MSkgKi8KPiA+IC0gICAgIHsgUENJX1ZFTkRPUl9JRF9WSUEsIDB4MDMwNSwgUENJX1ZF
TkRPUl9JRF9BVEksIDB4NTE0YywKPiA+IC0gICAgICAgICAgICAgUENJX1ZFTkRPUl9JRF9BVEks
IDB4MDEzYSwgMn0sCj4gPiAtICAgICAvKiBWSUEgVlQ4MkM2OTNBIEhvc3QgQnJpZGdlIC8gUlYy
ODAgW1JhZGVvbiA5MjAwIFBST10gTmVlZHMgQUdQTW9kZSAyIChkZWIgIzUxNTUxMikgKi8KPiA+
IC0gICAgIHsgUENJX1ZFTkRPUl9JRF9WSUEsIDB4MDY5MSwgUENJX1ZFTkRPUl9JRF9BVEksIDB4
NTk2MCwKPiA+IC0gICAgICAgICAgICAgUENJX1ZFTkRPUl9JRF9BU1VTVEVLLCAweDAwNGMsIDJ9
LAo+ID4gLSAgICAgLyogVklBIFZUODJDNjkzQSBIb3N0IEJyaWRnZSAvIFJWMjgwIFtSYWRlb24g
OTIwMCBQUk9dIE5lZWRzIEFHUE1vZGUgMiAqLwo+ID4gLSAgICAgeyBQQ0lfVkVORE9SX0lEX1ZJ
QSwgMHgwNjkxLCBQQ0lfVkVORE9SX0lEX0FUSSwgMHg1OTYwLAo+ID4gLSAgICAgICAgICAgICBQ
Q0lfVkVORE9SX0lEX0FTVVNURUssIDB4MDA1NCwgMn0sCj4gPiAtICAgICAvKiBWSUEgVlQ4Mzc3
IEhvc3QgQnJpZGdlIC8gUjIwMCBRTSBbUmFkZW9uIDkxMDBdIE5lZWRzIEFHUE1vZGUgNCAoZGVi
ICM0NjExNDQpICovCj4gPiAtICAgICB7IFBDSV9WRU5ET1JfSURfVklBLCAweDMxODksIFBDSV9W
RU5ET1JfSURfQVRJLCAweDUxNGQsCj4gPiAtICAgICAgICAgICAgIDB4MTc0YiwgMHg3MTQ5LCA0
fSwKPiA+IC0gICAgIC8qIFZJQSBWVDgzNzcgSG9zdCBCcmlkZ2UgLyBSVjI4MCBbUmFkZW9uIDky
MDAgUFJPXSBOZWVkcyBBR1BNb2RlIDQgKGxwICMzMTI2OTMpICovCj4gPiAtICAgICB7IFBDSV9W
RU5ET1JfSURfVklBLCAweDMxODksIFBDSV9WRU5ET1JfSURfQVRJLCAweDU5NjAsCj4gPiAtICAg
ICAgICAgICAgIDB4MTQ2MiwgMHgwMzgwLCA0fSwKPiA+IC0gICAgIC8qIFZJQSBWVDgzNzcgSG9z
dCBCcmlkZ2UgLyBSVjI4MCBOZWVkcyBBR1BNb2RlIDQgKGF0aSBNTCkgKi8KPiA+IC0gICAgIHsg
UENJX1ZFTkRPUl9JRF9WSUEsIDB4MzE4OSwgUENJX1ZFTkRPUl9JRF9BVEksIDB4NTk2NCwKPiA+
IC0gICAgICAgICAgICAgMHgxNDhjLCAweDIwNzMsIDR9LAo+ID4gLSAgICAgLyogQVRJIEhvc3Qg
QnJpZGdlIC8gUlYyODAgW005K10gTmVlZHMgQUdQTW9kZSAxIChwaG9yb25peCBmb3J1bSkgKi8K
PiA+IC0gICAgIHsgUENJX1ZFTkRPUl9JRF9BVEksIDB4Y2JiMiwgUENJX1ZFTkRPUl9JRF9BVEks
IDB4NWM2MSwKPiA+IC0gICAgICAgICAgICAgUENJX1ZFTkRPUl9JRF9TT05ZLCAweDgxNzUsIDF9
LAo+ID4gLSAgICAgeyAwLCAwLCAwLCAwLCAwLCAwLCAwIH0sCj4gPiAtfTsKPiA+IC0jZW5kaWYK
PiA+IC0KPiA+IC1pbnQgcmFkZW9uX2FncF9pbml0KHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2
KQo+ID4gLXsKPiA+IC0jaWYgSVNfRU5BQkxFRChDT05GSUdfQUdQKQo+ID4gLSAgICAgc3RydWN0
IHJhZGVvbl9hZ3Btb2RlX3F1aXJrICpwID0gcmFkZW9uX2FncG1vZGVfcXVpcmtfbGlzdDsKPiA+
IC0gICAgIHN0cnVjdCBkcm1fYWdwX21vZGUgbW9kZTsKPiA+IC0gICAgIHN0cnVjdCBkcm1fYWdw
X2luZm8gaW5mbzsKPiA+IC0gICAgIHVpbnQzMl90IGFncF9zdGF0dXM7Cj4gPiAtICAgICBpbnQg
ZGVmYXVsdF9tb2RlOwo+ID4gLSAgICAgYm9vbCBpc192MzsKPiA+IC0gICAgIGludCByZXQ7Cj4g
PiAtCj4gPiAtICAgICAvKiBBY3F1aXJlIEFHUC4gKi8KPiA+IC0gICAgIHJldCA9IGRybV9hZ3Bf
YWNxdWlyZShyZGV2LT5kZGV2KTsKPiA+IC0gICAgIGlmIChyZXQpIHsKPiA+IC0gICAgICAgICAg
ICAgRFJNX0VSUk9SKCJVbmFibGUgdG8gYWNxdWlyZSBBR1A6ICVkXG4iLCByZXQpOwo+ID4gLSAg
ICAgICAgICAgICByZXR1cm4gcmV0Owo+ID4gLSAgICAgfQo+ID4gLQo+ID4gLSAgICAgcmV0ID0g
ZHJtX2FncF9pbmZvKHJkZXYtPmRkZXYsICZpbmZvKTsKPiA+IC0gICAgIGlmIChyZXQpIHsKPiA+
IC0gICAgICAgICAgICAgZHJtX2FncF9yZWxlYXNlKHJkZXYtPmRkZXYpOwo+ID4gLSAgICAgICAg
ICAgICBEUk1fRVJST1IoIlVuYWJsZSB0byBnZXQgQUdQIGluZm86ICVkXG4iLCByZXQpOwo+ID4g
LSAgICAgICAgICAgICByZXR1cm4gcmV0Owo+ID4gLSAgICAgfQo+ID4gLQo+ID4gLSAgICAgaWYg
KHJkZXYtPmRkZXYtPmFncC0+YWdwX2luZm8uYXBlcl9zaXplIDwgMzIpIHsKPiA+IC0gICAgICAg
ICAgICAgZHJtX2FncF9yZWxlYXNlKHJkZXYtPmRkZXYpOwo+ID4gLSAgICAgICAgICAgICBkZXZf
d2FybihyZGV2LT5kZXYsICJBR1AgYXBlcnR1cmUgdG9vIHNtYWxsICglenVNKSAiCj4gPiAtICAg
ICAgICAgICAgICAgICAgICAgIm5lZWQgYXQgbGVhc3QgMzJNLCBkaXNhYmxpbmcgQUdQXG4iLAo+
ID4gLSAgICAgICAgICAgICAgICAgICAgIHJkZXYtPmRkZXYtPmFncC0+YWdwX2luZm8uYXBlcl9z
aXplKTsKPiA+IC0gICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7Cj4gPiAtICAgICB9Cj4gPiAt
Cj4gPiAtICAgICBtb2RlLm1vZGUgPSBpbmZvLm1vZGU7Cj4gPiAtICAgICAvKiBjaGlwcyB3aXRo
IHRoZSBhZ3AgdG8gcGNpZSBicmlkZ2UgZG9uJ3QgaGF2ZSB0aGUgQUdQX1NUQVRVUyByZWdpc3Rl
cgo+ID4gLSAgICAgICogSnVzdCB1c2UgdGhlIHdoYXRldmVyIG1vZGUgdGhlIGhvc3Qgc2V0cyB1
cC4KPiA+IC0gICAgICAqLwo+ID4gLSAgICAgaWYgKHJkZXYtPmZhbWlseSA8PSBDSElQX1JWMzUw
KQo+ID4gLSAgICAgICAgICAgICBhZ3Bfc3RhdHVzID0gKFJSRUczMihSQURFT05fQUdQX1NUQVRV
UykgfCBSQURFT05fQUdQdjNfTU9ERSkgJiBtb2RlLm1vZGU7Cj4gPiAtICAgICBlbHNlCj4gPiAt
ICAgICAgICAgICAgIGFncF9zdGF0dXMgPSBtb2RlLm1vZGU7Cj4gPiAtICAgICBpc192MyA9ICEh
KGFncF9zdGF0dXMgJiBSQURFT05fQUdQdjNfTU9ERSk7Cj4gPiAtCj4gPiAtICAgICBpZiAoaXNf
djMpIHsKPiA+IC0gICAgICAgICAgICAgZGVmYXVsdF9tb2RlID0gKGFncF9zdGF0dXMgJiBSQURF
T05fQUdQdjNfOFhfTU9ERSkgPyA4IDogNDsKPiA+IC0gICAgIH0gZWxzZSB7Cj4gPiAtICAgICAg
ICAgICAgIGlmIChhZ3Bfc3RhdHVzICYgUkFERU9OX0FHUF80WF9NT0RFKSB7Cj4gPiAtICAgICAg
ICAgICAgICAgICAgICAgZGVmYXVsdF9tb2RlID0gNDsKPiA+IC0gICAgICAgICAgICAgfSBlbHNl
IGlmIChhZ3Bfc3RhdHVzICYgUkFERU9OX0FHUF8yWF9NT0RFKSB7Cj4gPiAtICAgICAgICAgICAg
ICAgICAgICAgZGVmYXVsdF9tb2RlID0gMjsKPiA+IC0gICAgICAgICAgICAgfSBlbHNlIHsKPiA+
IC0gICAgICAgICAgICAgICAgICAgICBkZWZhdWx0X21vZGUgPSAxOwo+ID4gLSAgICAgICAgICAg
ICB9Cj4gPiAtICAgICB9Cj4gPiAtCj4gPiAtICAgICAvKiBBcHBseSBBR1BNb2RlIFF1aXJrcyAq
Lwo+ID4gLSAgICAgd2hpbGUgKHAgJiYgcC0+Y2hpcF9kZXZpY2UgIT0gMCkgewo+ID4gLSAgICAg
ICAgICAgICBpZiAoaW5mby5pZF92ZW5kb3IgPT0gcC0+aG9zdGJyaWRnZV92ZW5kb3IgJiYKPiA+
IC0gICAgICAgICAgICAgICAgIGluZm8uaWRfZGV2aWNlID09IHAtPmhvc3RicmlkZ2VfZGV2aWNl
ICYmCj4gPiAtICAgICAgICAgICAgICAgICByZGV2LT5wZGV2LT52ZW5kb3IgPT0gcC0+Y2hpcF92
ZW5kb3IgJiYKPiA+IC0gICAgICAgICAgICAgICAgIHJkZXYtPnBkZXYtPmRldmljZSA9PSBwLT5j
aGlwX2RldmljZSAmJgo+ID4gLSAgICAgICAgICAgICAgICAgcmRldi0+cGRldi0+c3Vic3lzdGVt
X3ZlbmRvciA9PSBwLT5zdWJzeXNfdmVuZG9yICYmCj4gPiAtICAgICAgICAgICAgICAgICByZGV2
LT5wZGV2LT5zdWJzeXN0ZW1fZGV2aWNlID09IHAtPnN1YnN5c19kZXZpY2UpIHsKPiA+IC0gICAg
ICAgICAgICAgICAgICAgICBkZWZhdWx0X21vZGUgPSBwLT5kZWZhdWx0X21vZGU7Cj4gPiAtICAg
ICAgICAgICAgIH0KPiA+IC0gICAgICAgICAgICAgKytwOwo+ID4gLSAgICAgfQo+ID4gLQo+ID4g
LSAgICAgaWYgKHJhZGVvbl9hZ3Btb2RlID4gMCkgewo+ID4gLSAgICAgICAgICAgICBpZiAoKHJh
ZGVvbl9hZ3Btb2RlIDwgKGlzX3YzID8gNCA6IDEpKSB8fAo+ID4gLSAgICAgICAgICAgICAgICAg
KHJhZGVvbl9hZ3Btb2RlID4gKGlzX3YzID8gOCA6IDQpKSB8fAo+ID4gLSAgICAgICAgICAgICAg
ICAgKHJhZGVvbl9hZ3Btb2RlICYgKHJhZGVvbl9hZ3Btb2RlIC0gMSkpKSB7Cj4gPiAtICAgICAg
ICAgICAgICAgICAgICAgRFJNX0VSUk9SKCJJbGxlZ2FsIEFHUCBNb2RlOiAlZCAodmFsaWQgJXMp
LCBsZWF2aW5nIGF0ICVkXG4iLAo+ID4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBy
YWRlb25fYWdwbW9kZSwgaXNfdjMgPyAiNCwgOCIgOiAiMSwgMiwgNCIsCj4gPiAtICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRfbW9kZSk7Cj4gPiAtICAgICAgICAgICAgICAg
ICAgICAgcmFkZW9uX2FncG1vZGUgPSBkZWZhdWx0X21vZGU7Cj4gPiAtICAgICAgICAgICAgIH0g
ZWxzZSB7Cj4gPiAtICAgICAgICAgICAgICAgICAgICAgRFJNX0lORk8oIkFHUCBtb2RlIHJlcXVl
c3RlZDogJWRcbiIsIHJhZGVvbl9hZ3Btb2RlKTsKPiA+IC0gICAgICAgICAgICAgfQo+ID4gLSAg
ICAgfSBlbHNlIHsKPiA+IC0gICAgICAgICAgICAgcmFkZW9uX2FncG1vZGUgPSBkZWZhdWx0X21v
ZGU7Cj4gPiAtICAgICB9Cj4gPiAtCj4gPiAtICAgICBtb2RlLm1vZGUgJj0gflJBREVPTl9BR1Bf
TU9ERV9NQVNLOwo+ID4gLSAgICAgaWYgKGlzX3YzKSB7Cj4gPiAtICAgICAgICAgICAgIHN3aXRj
aCAocmFkZW9uX2FncG1vZGUpIHsKPiA+IC0gICAgICAgICAgICAgY2FzZSA4Ogo+ID4gLSAgICAg
ICAgICAgICAgICAgICAgIG1vZGUubW9kZSB8PSBSQURFT05fQUdQdjNfOFhfTU9ERTsKPiA+IC0g
ICAgICAgICAgICAgICAgICAgICBicmVhazsKPiA+IC0gICAgICAgICAgICAgY2FzZSA0Ogo+ID4g
LSAgICAgICAgICAgICBkZWZhdWx0Ogo+ID4gLSAgICAgICAgICAgICAgICAgICAgIG1vZGUubW9k
ZSB8PSBSQURFT05fQUdQdjNfNFhfTU9ERTsKPiA+IC0gICAgICAgICAgICAgICAgICAgICBicmVh
azsKPiA+IC0gICAgICAgICAgICAgfQo+ID4gLSAgICAgfSBlbHNlIHsKPiA+IC0gICAgICAgICAg
ICAgc3dpdGNoIChyYWRlb25fYWdwbW9kZSkgewo+ID4gLSAgICAgICAgICAgICBjYXNlIDQ6Cj4g
PiAtICAgICAgICAgICAgICAgICAgICAgbW9kZS5tb2RlIHw9IFJBREVPTl9BR1BfNFhfTU9ERTsK
PiA+IC0gICAgICAgICAgICAgICAgICAgICBicmVhazsKPiA+IC0gICAgICAgICAgICAgY2FzZSAy
Ogo+ID4gLSAgICAgICAgICAgICAgICAgICAgIG1vZGUubW9kZSB8PSBSQURFT05fQUdQXzJYX01P
REU7Cj4gPiAtICAgICAgICAgICAgICAgICAgICAgYnJlYWs7Cj4gPiAtICAgICAgICAgICAgIGNh
c2UgMToKPiA+IC0gICAgICAgICAgICAgZGVmYXVsdDoKPiA+IC0gICAgICAgICAgICAgICAgICAg
ICBtb2RlLm1vZGUgfD0gUkFERU9OX0FHUF8xWF9NT0RFOwo+ID4gLSAgICAgICAgICAgICAgICAg
ICAgIGJyZWFrOwo+ID4gLSAgICAgICAgICAgICB9Cj4gPiAtICAgICB9Cj4gPiAtCj4gPiAtICAg
ICBtb2RlLm1vZGUgJj0gflJBREVPTl9BR1BfRldfTU9ERTsgLyogZGlzYWJsZSBmdyAqLwo+ID4g
LSAgICAgcmV0ID0gZHJtX2FncF9lbmFibGUocmRldi0+ZGRldiwgbW9kZSk7Cj4gPiAtICAgICBp
ZiAocmV0KSB7Cj4gPiAtICAgICAgICAgICAgIERSTV9FUlJPUigiVW5hYmxlIHRvIGVuYWJsZSBB
R1AgKG1vZGUgPSAweCVseClcbiIsIG1vZGUubW9kZSk7Cj4gPiAtICAgICAgICAgICAgIGRybV9h
Z3BfcmVsZWFzZShyZGV2LT5kZGV2KTsKPiA+IC0gICAgICAgICAgICAgcmV0dXJuIHJldDsKPiA+
IC0gICAgIH0KPiA+IC0KPiA+IC0gICAgIHJkZXYtPm1jLmFncF9iYXNlID0gcmRldi0+ZGRldi0+
YWdwLT5hZ3BfaW5mby5hcGVyX2Jhc2U7Cj4KPiBUaGUgZmllbGQgYWdwX2Jhc2Ugc2VlbXMgdG8g
YmUgdXNlZCB0byBwcm9ncmFtIEhXIHJlZ2lzdGVycy4gWWV0IEkKPiBjYW5ub3QgZmluZCBpdHMg
aW5pdGlhbGl6YXRpb24gYWZ0ZXIgYXBwbHlpbmcgdGhlIHBhdGNoc2V0LiBEb2VzIHNvbWUgb2YK
PiB0aGlzIHJlbW92ZWQgc2V0dXAgY29kZSBuZWVkIHRvIGJlIG1vdmVkIGVsc2V3aGVyZSBpbnN0
ZWFkPwoKSSB0aGluayB3ZSBzaG91bGQgYmUgb2sgYXMgbG9uZyBhcyB0aGUgUkFERU9OX0lTX0FH
UCBmbGFnIGlzIHJlbW92ZWQKd2hpY2ggZ2V0cyBkb25lIGluIHJhZGVvbl9hZ3BfZGlzYWJsZS4K
CkFsZXgKCj4KPiBCZXN0IHJlZ2FyZHMKPiBUaG9tYXMKPgo+ID4gLSAgICAgcmRldi0+bWMuZ3R0
X3NpemUgPSByZGV2LT5kZGV2LT5hZ3AtPmFncF9pbmZvLmFwZXJfc2l6ZSA8PCAyMDsKPiA+IC0g
ICAgIHJkZXYtPm1jLmd0dF9zdGFydCA9IHJkZXYtPm1jLmFncF9iYXNlOwo+ID4gLSAgICAgcmRl
di0+bWMuZ3R0X2VuZCA9IHJkZXYtPm1jLmd0dF9zdGFydCArIHJkZXYtPm1jLmd0dF9zaXplIC0g
MTsKPiA+IC0gICAgIGRldl9pbmZvKHJkZXYtPmRldiwgIkdUVDogJWxsdU0gMHglMDhsbFggLSAw
eCUwOGxsWFxuIiwKPiA+IC0gICAgICAgICAgICAgcmRldi0+bWMuZ3R0X3NpemUgPj4gMjAsIHJk
ZXYtPm1jLmd0dF9zdGFydCwgcmRldi0+bWMuZ3R0X2VuZCk7Cj4gPiAtCj4gPiAtICAgICAvKiB3
b3JrYXJvdW5kIHNvbWUgaHcgaXNzdWVzICovCj4gPiAtICAgICBpZiAocmRldi0+ZmFtaWx5IDwg
Q0hJUF9SMjAwKSB7Cj4gPiAtICAgICAgICAgICAgIFdSRUczMihSQURFT05fQUdQX0NOVEwsIFJS
RUczMihSQURFT05fQUdQX0NOVEwpIHwgMHgwMDBlMDAwMCk7Cj4gPiAtICAgICB9Cj4gPiAtICAg
ICByZXR1cm4gMDsKPiA+IC0jZWxzZQo+ID4gLSAgICAgcmV0dXJuIDA7Cj4gPiAtI2VuZGlmCj4g
PiAtfQo+ID4gLQo+ID4gLXZvaWQgcmFkZW9uX2FncF9yZXN1bWUoc3RydWN0IHJhZGVvbl9kZXZp
Y2UgKnJkZXYpCj4gPiAtewo+ID4gLSNpZiBJU19FTkFCTEVEKENPTkZJR19BR1ApCj4gPiAtICAg
ICBpbnQgcjsKPiA+IC0gICAgIGlmIChyZGV2LT5mbGFncyAmIFJBREVPTl9JU19BR1ApIHsKPiA+
IC0gICAgICAgICAgICAgciA9IHJhZGVvbl9hZ3BfaW5pdChyZGV2KTsKPiA+IC0gICAgICAgICAg
ICAgaWYgKHIpCj4gPiAtICAgICAgICAgICAgICAgICAgICAgZGV2X3dhcm4ocmRldi0+ZGV2LCAi
cmFkZW9uIEFHUCByZWluaXQgZmFpbGVkXG4iKTsKPiA+IC0gICAgIH0KPiA+IC0jZW5kaWYKPiA+
IC19Cj4gPiAtCj4gPiAtdm9pZCByYWRlb25fYWdwX2Zpbmkoc3RydWN0IHJhZGVvbl9kZXZpY2Ug
KnJkZXYpCj4gPiAtewo+ID4gLSNpZiBJU19FTkFCTEVEKENPTkZJR19BR1ApCj4gPiAtICAgICBp
ZiAocmRldi0+ZGRldi0+YWdwICYmIHJkZXYtPmRkZXYtPmFncC0+YWNxdWlyZWQpIHsKPiA+IC0g
ICAgICAgICAgICAgZHJtX2FncF9yZWxlYXNlKHJkZXYtPmRkZXYpOwo+ID4gLSAgICAgfQo+ID4g
LSNlbmRpZgo+ID4gLX0KPiA+IC0KPiA+IC12b2lkIHJhZGVvbl9hZ3Bfc3VzcGVuZChzdHJ1Y3Qg
cmFkZW9uX2RldmljZSAqcmRldikKPiA+IC17Cj4gPiAtICAgICByYWRlb25fYWdwX2ZpbmkocmRl
dik7Cj4gPiAtfQo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFkZW9u
X2RldmljZS5jIGIvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fZGV2aWNlLmMKPiA+IGlu
ZGV4IDI2NmUzY2JiZDA5Yi4uMTJlNWM1ZDgxYzQ3IDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVycy9n
cHUvZHJtL3JhZGVvbi9yYWRlb25fZGV2aWNlLmMKPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9y
YWRlb24vcmFkZW9uX2RldmljZS5jCj4gPiBAQCAtMTE0NSwyMiArMTE0NSw2IEBAIHN0YXRpYyB2
b2lkIHJhZGVvbl9jaGVja19hcmd1bWVudHMoc3RydWN0IHJhZGVvbl9kZXZpY2UgKnJkZXYpCj4g
PiAgICAgICB9Cj4gPiAgICAgICByZGV2LT5tYy5ndHRfc2l6ZSA9ICh1aW50NjRfdClyYWRlb25f
Z2FydF9zaXplIDw8IDIwOwo+ID4KPiA+IC0gICAgIC8qIEFHUCBtb2RlIGNhbiBvbmx5IGJlIC0x
LCAxLCAyLCA0LCA4ICovCj4gPiAtICAgICBzd2l0Y2ggKHJhZGVvbl9hZ3Btb2RlKSB7Cj4gPiAt
ICAgICBjYXNlIC0xOgo+ID4gLSAgICAgY2FzZSAwOgo+ID4gLSAgICAgY2FzZSAxOgo+ID4gLSAg
ICAgY2FzZSAyOgo+ID4gLSAgICAgY2FzZSA0Ogo+ID4gLSAgICAgY2FzZSA4Ogo+ID4gLSAgICAg
ICAgICAgICBicmVhazsKPiA+IC0gICAgIGRlZmF1bHQ6Cj4gPiAtICAgICAgICAgICAgIGRldl93
YXJuKHJkZXYtPmRldiwgImludmFsaWQgQUdQIG1vZGUgJWQgKHZhbGlkIG1vZGU6ICIKPiA+IC0g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICItMSwgMCwgMSwgMiwgNCwgOClcbiIsIHJhZGVv
bl9hZ3Btb2RlKTsKPiA+IC0gICAgICAgICAgICAgcmFkZW9uX2FncG1vZGUgPSAwOwo+ID4gLSAg
ICAgICAgICAgICBicmVhazsKPiA+IC0gICAgIH0KPiA+IC0KPiA+ICAgICAgIGlmICghcmFkZW9u
X2NoZWNrX3BvdF9hcmd1bWVudChyYWRlb25fdm1fc2l6ZSkpIHsKPiA+ICAgICAgICAgICAgICAg
ZGV2X3dhcm4ocmRldi0+ZGV2LCAiVk0gc2l6ZSAoJWQpIG11c3QgYmUgYSBwb3dlciBvZiAyXG4i
LAo+ID4gICAgICAgICAgICAgICAgICAgICAgICByYWRlb25fdm1fc2l6ZSk7Cj4gPiBAQCAtMTM0
OCw5ICsxMzMyLDggQEAgaW50IHJhZGVvbl9kZXZpY2VfaW5pdChzdHJ1Y3QgcmFkZW9uX2Rldmlj
ZSAqcmRldiwKPiA+ICAgICAgICAgICAgICAgcmRldi0+ZmxhZ3MgJj0gflJBREVPTl9JU19BR1A7
Cj4gPiAgICAgICB9Cj4gPgo+ID4gLSAgICAgaWYgKHJkZXYtPmZsYWdzICYgUkFERU9OX0lTX0FH
UCAmJiByYWRlb25fYWdwbW9kZSA9PSAtMSkgewo+ID4gKyAgICAgaWYgKHJkZXYtPmZsYWdzICYg
UkFERU9OX0lTX0FHUCkKPiA+ICAgICAgICAgICAgICAgcmFkZW9uX2FncF9kaXNhYmxlKHJkZXYp
Owo+ID4gLSAgICAgfQo+ID4KPiA+ICAgICAgIC8qIFNldCB0aGUgaW50ZXJuYWwgTUMgYWRkcmVz
cyBtYXNrCj4gPiAgICAgICAgKiBUaGlzIGlzIHRoZSBtYXggYWRkcmVzcyBvZiB0aGUgR1BVJ3MK
PiA+IEBAIC0xNjM2LDggKzE2MTksNiBAQCBpbnQgcmFkZW9uX3N1c3BlbmRfa21zKHN0cnVjdCBk
cm1fZGV2aWNlICpkZXYsIGJvb2wgc3VzcGVuZCwKPiA+ICAgICAgICAqLwo+ID4gICAgICAgcmFk
ZW9uX2JvX2V2aWN0X3ZyYW0ocmRldik7Cj4gPgo+ID4gLSAgICAgcmFkZW9uX2FncF9zdXNwZW5k
KHJkZXYpOwo+ID4gLQo+ID4gICAgICAgcGNpX3NhdmVfc3RhdGUoZGV2LT5wZGV2KTsKPiA+ICAg
ICAgIGlmIChmcmVlemUgJiYgcmRldi0+ZmFtaWx5ID49IENISVBfQ0VEQVIgJiYgIShyZGV2LT5m
bGFncyAmIFJBREVPTl9JU19JR1ApKSB7Cj4gPiAgICAgICAgICAgICAgIHJkZXYtPmFzaWMtPmFz
aWNfcmVzZXQocmRldiwgdHJ1ZSk7Cj4gPiBAQCAtMTY4Nyw4ICsxNjY4LDYgQEAgaW50IHJhZGVv
bl9yZXN1bWVfa21zKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIGJvb2wgcmVzdW1lLCBib29sIGZi
Y29uKQo+ID4gICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTsKPiA+ICAgICAgICAgICAg
ICAgfQo+ID4gICAgICAgfQo+ID4gLSAgICAgLyogcmVzdW1lIEFHUCBpZiBpbiB1c2UgKi8KPiA+
IC0gICAgIHJhZGVvbl9hZ3BfcmVzdW1lKHJkZXYpOwo+ID4gICAgICAgcmFkZW9uX3Jlc3VtZShy
ZGV2KTsKPiA+Cj4gPiAgICAgICByID0gcmFkZW9uX2liX3JpbmdfdGVzdHMocmRldik7Cj4gPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fZHJ2LmMgYi9kcml2ZXJz
L2dwdS9kcm0vcmFkZW9uL3JhZGVvbl9kcnYuYwo+ID4gaW5kZXggYmJiMDg4M2U4Y2U2Li42MmE1
ZGZhZjk5MGIgMTAwNjQ0Cj4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl9k
cnYuYwo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fZHJ2LmMKPiA+IEBA
IC0xNzEsMTIgKzE3MSw2IEBAIGludCByYWRlb25fbm9fd2I7Cj4gPiAgaW50IHJhZGVvbl9tb2Rl
c2V0ID0gLTE7Cj4gPiAgaW50IHJhZGVvbl9keW5jbGtzID0gLTE7Cj4gPiAgaW50IHJhZGVvbl9y
NHh4X2F0b20gPSAwOwo+ID4gLSNpZmRlZiBfX3Bvd2VycGNfXwo+ID4gLS8qIERlZmF1bHQgdG8g
UENJIG9uIFBvd2VyUEMgKGZkbyAjOTUwMTcpICovCj4gPiAtaW50IHJhZGVvbl9hZ3Btb2RlID0g
LTE7Cj4gPiAtI2Vsc2UKPiA+IC1pbnQgcmFkZW9uX2FncG1vZGUgPSAwOwo+ID4gLSNlbmRpZgo+
ID4gIGludCByYWRlb25fdnJhbV9saW1pdCA9IDA7Cj4gPiAgaW50IHJhZGVvbl9nYXJ0X3NpemUg
PSAtMTsgLyogYXV0byAqLwo+ID4gIGludCByYWRlb25fYmVuY2htYXJraW5nID0gMDsKPiA+IEBA
IC0yMjAsOSArMjE0LDYgQEAgbW9kdWxlX3BhcmFtX25hbWVkKHI0eHhfYXRvbSwgcmFkZW9uX3I0
eHhfYXRvbSwgaW50LCAwNDQ0KTsKPiA+ICBNT0RVTEVfUEFSTV9ERVNDKHZyYW1saW1pdCwgIlJl
c3RyaWN0IFZSQU0gZm9yIHRlc3RpbmcsIGluIG1lZ2FieXRlcyIpOwo+ID4gIG1vZHVsZV9wYXJh
bV9uYW1lZCh2cmFtbGltaXQsIHJhZGVvbl92cmFtX2xpbWl0LCBpbnQsIDA2MDApOwo+ID4KPiA+
IC1NT0RVTEVfUEFSTV9ERVNDKGFncG1vZGUsICJBR1AgTW9kZSAoLTEgPT0gUENJKSIpOwo+ID4g
LW1vZHVsZV9wYXJhbV9uYW1lZChhZ3Btb2RlLCByYWRlb25fYWdwbW9kZSwgaW50LCAwNDQ0KTsK
PiA+IC0KPiA+ICBNT0RVTEVfUEFSTV9ERVNDKGdhcnRzaXplLCAiU2l6ZSBvZiBQQ0lFL0lHUCBn
YXJ0IHRvIHNldHVwIGluIG1lZ2FieXRlcyAoMzIsIDY0LCBldGMuLCAtMSA9IGF1dG8pIik7Cj4g
PiAgbW9kdWxlX3BhcmFtX25hbWVkKGdhcnRzaXplLCByYWRlb25fZ2FydF9zaXplLCBpbnQsIDA2
MDApOwo+ID4KPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl90
dG0uYyBiL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFkZW9uX3R0bS5jCj4gPiBpbmRleCA1ZDUw
YzllZGJlODAuLjIxYmIzNzA2YzEzYyAxMDA2NDQKPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9y
YWRlb24vcmFkZW9uX3R0bS5jCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVv
bl90dG0uYwo+ID4gQEAgLTg2LDIwICs4Niw2IEBAIHN0YXRpYyBpbnQgcmFkZW9uX2luaXRfbWVt
X3R5cGUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHVpbnQzMl90IHR5cGUsCj4gPiAgICAg
ICAgICAgICAgIG1hbi0+YXZhaWxhYmxlX2NhY2hpbmcgPSBUVE1fUExfTUFTS19DQUNISU5HOwo+
ID4gICAgICAgICAgICAgICBtYW4tPmRlZmF1bHRfY2FjaGluZyA9IFRUTV9QTF9GTEFHX0NBQ0hF
RDsKPiA+ICAgICAgICAgICAgICAgbWFuLT5mbGFncyA9IFRUTV9NRU1UWVBFX0ZMQUdfTUFQUEFC
TEUgfCBUVE1fTUVNVFlQRV9GTEFHX0NNQTsKPiA+IC0jaWYgSVNfRU5BQkxFRChDT05GSUdfQUdQ
KQo+ID4gLSAgICAgICAgICAgICBpZiAocmRldi0+ZmxhZ3MgJiBSQURFT05fSVNfQUdQKSB7Cj4g
PiAtICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZGV2LT5kZGV2LT5hZ3ApIHsKPiA+IC0gICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIERSTV9FUlJPUigiQUdQIGlzIG5vdCBlbmFibGVkIGZv
ciBtZW1vcnkgdHlwZSAldVxuIiwKPiA+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAodW5zaWduZWQpdHlwZSk7Cj4gPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICByZXR1cm4gLUVJTlZBTDsKPiA+IC0gICAgICAgICAgICAgICAgICAgICB9Cj4gPiAtICAgICAg
ICAgICAgICAgICAgICAgaWYgKCFyZGV2LT5kZGV2LT5hZ3AtPmNhbnRfdXNlX2FwZXJ0dXJlKQo+
ID4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFuLT5mbGFncyA9IFRUTV9NRU1UWVBF
X0ZMQUdfTUFQUEFCTEU7Cj4gPiAtICAgICAgICAgICAgICAgICAgICAgbWFuLT5hdmFpbGFibGVf
Y2FjaGluZyA9IFRUTV9QTF9GTEFHX1VOQ0FDSEVEIHwKPiA+IC0gICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgVFRNX1BMX0ZMQUdfV0M7Cj4gPiAtICAgICAgICAg
ICAgICAgICAgICAgbWFuLT5kZWZhdWx0X2NhY2hpbmcgPSBUVE1fUExfRkxBR19XQzsKPiA+IC0g
ICAgICAgICAgICAgfQo+ID4gLSNlbmRpZgo+ID4gICAgICAgICAgICAgICBicmVhazsKPiA+ICAg
ICAgIGNhc2UgVFRNX1BMX1ZSQU06Cj4gPiAgICAgICAgICAgICAgIC8qICJPbi1jYXJkIiB2aWRl
byByYW0gKi8KPiA+IEBAIC00MTEsMTQgKzM5Nyw2IEBAIHN0YXRpYyBpbnQgcmFkZW9uX3R0bV9p
b19tZW1fcmVzZXJ2ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV9tZW1f
Cj4gPiAgICAgICAgICAgICAgIC8qIHN5c3RlbSBtZW1vcnkgKi8KPiA+ICAgICAgICAgICAgICAg
cmV0dXJuIDA7Cj4gPiAgICAgICBjYXNlIFRUTV9QTF9UVDoKPiA+IC0jaWYgSVNfRU5BQkxFRChD
T05GSUdfQUdQKQo+ID4gLSAgICAgICAgICAgICBpZiAocmRldi0+ZmxhZ3MgJiBSQURFT05fSVNf
QUdQKSB7Cj4gPiAtICAgICAgICAgICAgICAgICAgICAgLyogUkFERU9OX0lTX0FHUCBpcyBzZXQg
b25seSBpZiBBR1AgaXMgYWN0aXZlICovCj4gPiAtICAgICAgICAgICAgICAgICAgICAgbWVtLT5i
dXMub2Zmc2V0ID0gbWVtLT5zdGFydCA8PCBQQUdFX1NISUZUOwo+ID4gLSAgICAgICAgICAgICAg
ICAgICAgIG1lbS0+YnVzLmJhc2UgPSByZGV2LT5tYy5hZ3BfYmFzZTsKPiA+IC0gICAgICAgICAg
ICAgICAgICAgICBtZW0tPmJ1cy5pc19pb21lbSA9ICFyZGV2LT5kZGV2LT5hZ3AtPmNhbnRfdXNl
X2FwZXJ0dXJlOwo+ID4gLSAgICAgICAgICAgICB9Cj4gPiAtI2VuZGlmCj4gPiAgICAgICAgICAg
ICAgIGJyZWFrOwo+ID4gICAgICAgY2FzZSBUVE1fUExfVlJBTToKPiA+ICAgICAgICAgICAgICAg
bWVtLT5idXMub2Zmc2V0ID0gbWVtLT5zdGFydCA8PCBQQUdFX1NISUZUOwo+ID4gQEAgLTYzMSwx
MiArNjA5LDYgQEAgc3RhdGljIHN0cnVjdCB0dG1fdHQgKnJhZGVvbl90dG1fdHRfY3JlYXRlKHN0
cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCj4gPiAgICAgICBzdHJ1Y3QgcmFkZW9uX3R0bV90
dCAqZ3R0Owo+ID4KPiA+ICAgICAgIHJkZXYgPSByYWRlb25fZ2V0X3JkZXYoYm8tPmJkZXYpOwo+
ID4gLSNpZiBJU19FTkFCTEVEKENPTkZJR19BR1ApCj4gPiAtICAgICBpZiAocmRldi0+ZmxhZ3Mg
JiBSQURFT05fSVNfQUdQKSB7Cj4gPiAtICAgICAgICAgICAgIHJldHVybiB0dG1fYWdwX3R0X2Ny
ZWF0ZShibywgcmRldi0+ZGRldi0+YWdwLT5icmlkZ2UsCj4gPiAtICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBwYWdlX2ZsYWdzKTsKPiA+IC0gICAgIH0KPiA+IC0jZW5kaWYK
PiA+Cj4gPiAgICAgICBndHQgPSBremFsbG9jKHNpemVvZihzdHJ1Y3QgcmFkZW9uX3R0bV90dCks
IEdGUF9LRVJORUwpOwo+ID4gICAgICAgaWYgKGd0dCA9PSBOVUxMKSB7Cj4gPiBAQCAtNjgzLDEx
ICs2NTUsNiBAQCBzdGF0aWMgaW50IHJhZGVvbl90dG1fdHRfcG9wdWxhdGUoc3RydWN0IHR0bV90
dCAqdHRtLAo+ID4gICAgICAgfQo+ID4KPiA+ICAgICAgIHJkZXYgPSByYWRlb25fZ2V0X3JkZXYo
dHRtLT5iZGV2KTsKPiA+IC0jaWYgSVNfRU5BQkxFRChDT05GSUdfQUdQKQo+ID4gLSAgICAgaWYg
KHJkZXYtPmZsYWdzICYgUkFERU9OX0lTX0FHUCkgewo+ID4gLSAgICAgICAgICAgICByZXR1cm4g
dHRtX2FncF90dF9wb3B1bGF0ZSh0dG0sIGN0eCk7Cj4gPiAtICAgICB9Cj4gPiAtI2VuZGlmCj4g
Pgo+ID4gICNpZmRlZiBDT05GSUdfU1dJT1RMQgo+ID4gICAgICAgaWYgKHJkZXYtPm5lZWRfc3dp
b3RsYiAmJiBzd2lvdGxiX25yX3RibCgpKSB7Cj4gPiBAQCAtNzE0LDEyICs2ODEsNiBAQCBzdGF0
aWMgdm9pZCByYWRlb25fdHRtX3R0X3VucG9wdWxhdGUoc3RydWN0IHR0bV90dCAqdHRtKQo+ID4g
ICAgICAgICAgICAgICByZXR1cm47Cj4gPgo+ID4gICAgICAgcmRldiA9IHJhZGVvbl9nZXRfcmRl
dih0dG0tPmJkZXYpOwo+ID4gLSNpZiBJU19FTkFCTEVEKENPTkZJR19BR1ApCj4gPiAtICAgICBp
ZiAocmRldi0+ZmxhZ3MgJiBSQURFT05fSVNfQUdQKSB7Cj4gPiAtICAgICAgICAgICAgIHR0bV9h
Z3BfdHRfdW5wb3B1bGF0ZSh0dG0pOwo+ID4gLSAgICAgICAgICAgICByZXR1cm47Cj4gPiAtICAg
ICB9Cj4gPiAtI2VuZGlmCj4gPgo+ID4gICNpZmRlZiBDT05GSUdfU1dJT1RMQgo+ID4gICAgICAg
aWYgKHJkZXYtPm5lZWRfc3dpb3RsYiAmJiBzd2lvdGxiX25yX3RibCgpKSB7Cj4gPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9ydjUxNS5jIGIvZHJpdmVycy9ncHUvZHJtL3Jh
ZGVvbi9ydjUxNS5jCj4gPiBpbmRleCAxNDdlNWNmODM0OGQuLjhhMmYxNjMyMDg2OSAxMDA2NDQK
PiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcnY1MTUuYwo+ID4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL3JhZGVvbi9ydjUxNS5jCj4gPiBAQCAtNjIyLDcgKzYyMiw2IEBAIHZvaWQgcnY1
MTVfZmluaShzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldikKPiA+ICAgICAgIHJhZGVvbl9pYl9w
b29sX2ZpbmkocmRldik7Cj4gPiAgICAgICByYWRlb25fZ2VtX2ZpbmkocmRldik7Cj4gPiAgICAg
ICBydjM3MF9wY2llX2dhcnRfZmluaShyZGV2KTsKPiA+IC0gICAgIHJhZGVvbl9hZ3BfZmluaShy
ZGV2KTsKPiA+ICAgICAgIHJhZGVvbl9pcnFfa21zX2ZpbmkocmRldik7Cj4gPiAgICAgICByYWRl
b25fZmVuY2VfZHJpdmVyX2ZpbmkocmRldik7Cj4gPiAgICAgICByYWRlb25fYm9fZmluaShyZGV2
KTsKPiA+IEBAIC02NjcsMTMgKzY2Niw2IEBAIGludCBydjUxNV9pbml0KHN0cnVjdCByYWRlb25f
ZGV2aWNlICpyZGV2KQo+ID4gICAgICAgICAgICAgICByZXR1cm4gLUVJTlZBTDsKPiA+ICAgICAg
IC8qIEluaXRpYWxpemUgY2xvY2tzICovCj4gPiAgICAgICByYWRlb25fZ2V0X2Nsb2NrX2luZm8o
cmRldi0+ZGRldik7Cj4gPiAtICAgICAvKiBpbml0aWFsaXplIEFHUCAqLwo+ID4gLSAgICAgaWYg
KHJkZXYtPmZsYWdzICYgUkFERU9OX0lTX0FHUCkgewo+ID4gLSAgICAgICAgICAgICByID0gcmFk
ZW9uX2FncF9pbml0KHJkZXYpOwo+ID4gLSAgICAgICAgICAgICBpZiAocikgewo+ID4gLSAgICAg
ICAgICAgICAgICAgICAgIHJhZGVvbl9hZ3BfZGlzYWJsZShyZGV2KTsKPiA+IC0gICAgICAgICAg
ICAgfQo+ID4gLSAgICAgfQo+ID4gICAgICAgLyogaW5pdGlhbGl6ZSBtZW1vcnkgY29udHJvbGxl
ciAqLwo+ID4gICAgICAgcnY1MTVfbWNfaW5pdChyZGV2KTsKPiA+ICAgICAgIHJ2NTE1X2RlYnVn
ZnMocmRldik7Cj4gPiBAQCAtNzAzLDcgKzY5NSw2IEBAIGludCBydjUxNV9pbml0KHN0cnVjdCBy
YWRlb25fZGV2aWNlICpyZGV2KQo+ID4gICAgICAgICAgICAgICByYWRlb25faWJfcG9vbF9maW5p
KHJkZXYpOwo+ID4gICAgICAgICAgICAgICByYWRlb25faXJxX2ttc19maW5pKHJkZXYpOwo+ID4g
ICAgICAgICAgICAgICBydjM3MF9wY2llX2dhcnRfZmluaShyZGV2KTsKPiA+IC0gICAgICAgICAg
ICAgcmFkZW9uX2FncF9maW5pKHJkZXYpOwo+ID4gICAgICAgICAgICAgICByZGV2LT5hY2NlbF93
b3JraW5nID0gZmFsc2U7Cj4gPiAgICAgICB9Cj4gPiAgICAgICByZXR1cm4gMDsKPiA+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3J2NzcwLmMgYi9kcml2ZXJzL2dwdS9kcm0v
cmFkZW9uL3J2NzcwLmMKPiA+IGluZGV4IDIxZjY1M2FlMWUxYi4uMjBiZjU0MjY2ZjI0IDEwMDY0
NAo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9ydjc3MC5jCj4gPiArKysgYi9kcml2
ZXJzL2dwdS9kcm0vcmFkZW9uL3J2NzcwLmMKPiA+IEBAIC0xOTQzLDEyICsxOTQzLDYgQEAgaW50
IHJ2NzcwX2luaXQoc3RydWN0IHJhZGVvbl9kZXZpY2UgKnJkZXYpCj4gPiAgICAgICByID0gcmFk
ZW9uX2ZlbmNlX2RyaXZlcl9pbml0KHJkZXYpOwo+ID4gICAgICAgaWYgKHIpCj4gPiAgICAgICAg
ICAgICAgIHJldHVybiByOwo+ID4gLSAgICAgLyogaW5pdGlhbGl6ZSBBR1AgKi8KPiA+IC0gICAg
IGlmIChyZGV2LT5mbGFncyAmIFJBREVPTl9JU19BR1ApIHsKPiA+IC0gICAgICAgICAgICAgciA9
IHJhZGVvbl9hZ3BfaW5pdChyZGV2KTsKPiA+IC0gICAgICAgICAgICAgaWYgKHIpCj4gPiAtICAg
ICAgICAgICAgICAgICAgICAgcmFkZW9uX2FncF9kaXNhYmxlKHJkZXYpOwo+ID4gLSAgICAgfQo+
ID4gICAgICAgciA9IHJ2NzcwX21jX2luaXQocmRldik7Cj4gPiAgICAgICBpZiAocikKPiA+ICAg
ICAgICAgICAgICAgcmV0dXJuIHI7Cj4gPiBAQCAtMjAxNSw3ICsyMDA5LDYgQEAgdm9pZCBydjc3
MF9maW5pKHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2KQo+ID4gICAgICAgcjYwMF92cmFtX3Nj
cmF0Y2hfZmluaShyZGV2KTsKPiA+ICAgICAgIHJhZGVvbl9nZW1fZmluaShyZGV2KTsKPiA+ICAg
ICAgIHJhZGVvbl9mZW5jZV9kcml2ZXJfZmluaShyZGV2KTsKPiA+IC0gICAgIHJhZGVvbl9hZ3Bf
ZmluaShyZGV2KTsKPiA+ICAgICAgIHJhZGVvbl9ib19maW5pKHJkZXYpOwo+ID4gICAgICAgcmFk
ZW9uX2F0b21iaW9zX2ZpbmkocmRldik7Cj4gPiAgICAgICBrZnJlZShyZGV2LT5iaW9zKTsKPiA+
Cj4KPiAtLQo+IFRob21hcyBaaW1tZXJtYW5uCj4gR3JhcGhpY3MgRHJpdmVyIERldmVsb3Blcgo+
IFNVU0UgU29mdHdhcmUgU29sdXRpb25zIEdlcm1hbnkgR21iSAo+IE1heGZlbGRzdHIuIDUsIDkw
NDA5IE7DvHJuYmVyZywgR2VybWFueQo+IChIUkIgMzY4MDksIEFHIE7DvHJuYmVyZykKPiBHZXNj
aMOkZnRzZsO8aHJlcjogRmVsaXggSW1lbmTDtnJmZmVyCj4KPiBfX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fXwo+IGFtZC1nZnggbWFpbGluZyBsaXN0Cj4gYW1k
LWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKPiBodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9y
Zy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZngKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlz
dGluZm8vZHJpLWRldmVsCg==
