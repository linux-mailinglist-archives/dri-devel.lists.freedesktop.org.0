Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 50694190187
	for <lists+dri-devel@lfdr.de>; Tue, 24 Mar 2020 00:09:21 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1498D6E3F3;
	Mon, 23 Mar 2020 23:09:15 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wr1-x444.google.com (mail-wr1-x444.google.com
 [IPv6:2a00:1450:4864:20::444])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E53CE6E3EF
 for <dri-devel@lists.freedesktop.org>; Mon, 23 Mar 2020 23:09:09 +0000 (UTC)
Received: by mail-wr1-x444.google.com with SMTP id t7so14592159wrw.12
 for <dri-devel@lists.freedesktop.org>; Mon, 23 Mar 2020 16:09:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=zbuUmjTfzz7Ws45IuzerfwfPtV0B/bPR4X08mKXwyPc=;
 b=UrQOmyod8ZN3w1+njdo/VjQJYxRRepzVGLYsH/Hdd8wUH9M3G33JYYKMAb42xRTdxp
 s0GtNQ0iQjfQ0dvvLXBi51todJV4xETo25ofDBT/qBNcU3Xoozaqex6L9tPEDQ8OK7xe
 15Fk4bsz39rhukNyRWVU7xhiL7PmNpis0aBkUeNQ+YvvYwonaW01Xxs5B9gqSs5Mda/T
 gAKuMj/VRqcLmvoOX/235eXFciFDpXJUVTlEYGBaKR0nADIWtswW+RU5Ly44hETW7SIm
 XgM/XvzbUxFZzVU0zflD6Dp/2cHd9F+qfU5sg4Di0D8gSgbjWAuWM1sgCjoubxq7yMNk
 b6gQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=zbuUmjTfzz7Ws45IuzerfwfPtV0B/bPR4X08mKXwyPc=;
 b=hZTgAKep3bd1L06QSwpaK7Kj5UnQDOPzcK3wgzaIMp+x4CVs1H4w4CQ8xh4Dkn/Pkh
 aNCVcD43d/CSA/if3oQE12sg+yZQ3h11KFfBrfHRUuJHkPZfzfKDFlS/KzKYfmzZL+5I
 dMJJJvM8GoShph//DjxGgc9hJEB5Ft56eLfRoXgPNSFrKx2Pa7nldhanjUXT4mpmDezX
 NmVhsWderb+b0b/uB2lkUAE6nAnIULFLO77gWjZRM80gWRzh0D146JX62JdkBC+78l4w
 /E3EQWuXsk+C/DZInY4LlVBQuET7N10ZYzBk6UbSJgGagMR9qqgOk2fYjEoJYkeMQUZ4
 v1sA==
X-Gm-Message-State: ANhLgQ0eWjXVwkd/hgvT+RD3sAR4MBWOnOLoo9UKX8aY4hDHZMJkBmFj
 gb5xpyrEtkuvd8Bi03t1helVy0xp
X-Google-Smtp-Source: ADFU+vvQnSDuX8S53LrIYCUfbgTZyu2ZpufoIdmewiaRT9BI8bkt6KnXaKPApU6yHWJXb+52HQ7uLQ==
X-Received: by 2002:adf:82f7:: with SMTP id 110mr32042671wrc.373.1585004948162; 
 Mon, 23 Mar 2020 16:09:08 -0700 (PDT)
Received: from sroland-t5810.vmware.com (46-126-183-173.dynamic.hispeed.ch.
 [46.126.183.173])
 by smtp.gmail.com with ESMTPSA id q185sm1641937wme.10.2020.03.23.16.09.07
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Mon, 23 Mar 2020 16:09:07 -0700 (PDT)
From: Roland Scheidegger <rscheidegger.oss@gmail.com>
X-Google-Original-From: Roland Scheidegger <sroland@vmware.com>
To: dri-devel@lists.freedesktop.org,
	airlied@redhat.com,
	daniel@ffwll.ch
Subject: [PATCH v2 02/17] drm/vmwgfx: Sync legacy multisampling device
 capability
Date: Tue, 24 Mar 2020 00:08:46 +0100
Message-Id: <20200323230901.13302-3-sroland@vmware.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20200323230901.13302-1-sroland@vmware.com>
References: <20200323230901.13302-1-sroland@vmware.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-graphics-maintainer@vmware.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogRGVlcGFrIFJhd2F0IDxkcmF3YXQuZmxvc3NAZ21haWwuY29tPgoKSW4gZmF2b3Igb2Yg
U000LjEgbXVsdGlzYW1wbGluZyBjYXBhYmlsaXR5LCB2aXJ0dWFsIGRldmljZSBkZXByZWNhdGVk
Cm9sZCBtdWx0aXNhbXBsaW5nIGRldmljZSBjYXBhYmlsaXR5LiBNYXJrIGxlZ2FjeSBtdWx0aXNh
bXBsaW5nIGRldmljZQpjYXBhYmlsaXR5IGFzIGRlYWQuIFJlbmFtZSB0aGUgZnVuY3Rpb24gdGhh
dCBtYXNrcyBsZWdhY3kgbXVsdGlzYW1wbGUKY2FwYWJpbGl0eSB0byByZWZsZWN0IHRoYXQgbm93
IGl0IGlzIG1hc2tpbmcgYSBkZXByZWNhdGVkIGZlYXR1cmUuCgpTaWduZWQtb2ZmLWJ5OiBEZWVw
YWsgUmF3YXQgPGRyYXdhdC5mbG9zc0BnbWFpbC5jb20+ClJldmlld2VkLWJ5OiBUaG9tYXMgSGVs
bHN0csO2bSAoVk13YXJlKSA8dGhvbWFzX29zQHNoaXBtYWlsLm9yZz4KUmV2aWV3ZWQtYnk6IFJv
bGFuZCBTY2hlaWRlZ2dlciA8c3JvbGFuZEB2bXdhcmUuY29tPgpTaWduZWQtb2ZmLWJ5OiBSb2xh
bmQgU2NoZWlkZWdnZXIgPHNyb2xhbmRAdm13YXJlLmNvbT4KLS0tCiAuLi4vZ3B1L2RybS92bXdn
ZngvZGV2aWNlX2luY2x1ZGUvc3ZnYTNkX2RldmNhcHMuaCAgfCAxMyArKysrKysrKystLS0tCiBk
cml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9pb2N0bC5jICAgICAgICAgICAgICAgfCAxMSAr
KysrKysrLS0tLQogMiBmaWxlcyBjaGFuZ2VkLCAxNiBpbnNlcnRpb25zKCspLCA4IGRlbGV0aW9u
cygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvZGV2aWNlX2luY2x1ZGUv
c3ZnYTNkX2RldmNhcHMuaCBiL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvZGV2aWNlX2luY2x1ZGUv
c3ZnYTNkX2RldmNhcHMuaAppbmRleCBmMjU2NTYwMDQ5YmYuLjJkZTg3OGI1YmExNiAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC9kZXZpY2VfaW5jbHVkZS9zdmdhM2RfZGV2Y2Fw
cy5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvZGV2aWNlX2luY2x1ZGUvc3ZnYTNkX2Rl
dmNhcHMuaApAQCAtMTYzLDEwICsxNjMsMTUgQEAgdHlwZWRlZiBlbnVtIHsKICAgIFNWR0EzRF9E
RVZDQVBfU1VSRkFDRUZNVF9BMTZCMTZHMTZSMTYgICAgICAgICAgID0gNjcsCiAgICBTVkdBM0Rf
REVWQ0FQX1NVUkZBQ0VGTVRfVVlWWSAgICAgICAgICAgICAgICAgICA9IDY4LAogICAgU1ZHQTNE
X0RFVkNBUF9TVVJGQUNFRk1UX1lVWTIgICAgICAgICAgICAgICAgICAgPSA2OSwKLSAgIFNWR0Ez
RF9ERVZDQVBfTVVMVElTQU1QTEVfTk9OTUFTS0FCTEVTQU1QTEVTICAgID0gNzAsCi0gICBTVkdB
M0RfREVWQ0FQX01VTFRJU0FNUExFX01BU0tBQkxFU0FNUExFUyAgICAgICA9IDcxLAotICAgU1ZH
QTNEX0RFVkNBUF9BTFBIQVRPQ09WRVJBR0UgICAgICAgICAgICAgICAgICAgPSA3MiwKLSAgIFNW
R0EzRF9ERVZDQVBfU1VQRVJTQU1QTEUgICAgICAgICAgICAgICAgICAgICAgID0gNzMsCisKKyAg
IC8qCisgICAgKiBEZXByZWNhdGVkLgorICAgICovCisgICBTVkdBM0RfREVWQ0FQX0RFQUQ0ICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICA9IDcwLAorICAgU1ZHQTNEX0RFVkNBUF9ERUFENSAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgPSA3MSwKKyAgIFNWR0EzRF9ERVZDQVBfREVBRDcg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gNzIsCisgICBTVkdBM0RfREVWQ0FQX0RFQUQ2
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICA9IDczLAorCiAgICBTVkdBM0RfREVWQ0FQX0FV
VE9HRU5NSVBNQVBTICAgICAgICAgICAgICAgICAgICA9IDc0LAogICAgU1ZHQTNEX0RFVkNBUF9T
VVJGQUNFRk1UX05WMTIgICAgICAgICAgICAgICAgICAgPSA3NSwKICAgIFNWR0EzRF9ERVZDQVBf
U1VSRkFDRUZNVF9BWVVWICAgICAgICAgICAgICAgICAgID0gNzYsCmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9pb2N0bC5jIGIvZHJpdmVycy9ncHUvZHJtL3Ztd2dm
eC92bXdnZnhfaW9jdGwuYwppbmRleCBhMTUzNzVlYjQ3NmUuLjA5YjI1NTQ2NWY5OSAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfaW9jdGwuYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9pb2N0bC5jCkBAIC0xMjYsMTQgKzEyNiwxNyBAQCBpbnQg
dm13X2dldHBhcmFtX2lvY3RsKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHZvaWQgKmRhdGEsCiAJ
cmV0dXJuIDA7CiB9CiAKLXN0YXRpYyB1MzIgdm13X21hc2tfbXVsdGlzYW1wbGUodW5zaWduZWQg
aW50IGNhcCwgdTMyIGZtdF92YWx1ZSkKK3N0YXRpYyB1MzIgdm13X21hc2tfbGVnYWN5X211bHRp
c2FtcGxlKHVuc2lnbmVkIGludCBjYXAsIHUzMiBmbXRfdmFsdWUpCiB7CiAJLyoKIAkgKiBBIHZl
cnNpb24gb2YgdXNlci1zcGFjZSBleGlzdHMgd2hpY2ggdXNlIE1VTFRJU0FNUExFX01BU0tBQkxF
U0FNUExFUwogCSAqIHRvIGNoZWNrIHRoZSBzYW1wbGUgY291bnQgc3VwcG9ydGVkIGJ5IHZpcnR1
YWwgZGV2aWNlLiBTaW5jZSB0aGVyZQogCSAqIG5ldmVyIHdhcyBzdXBwb3J0IGZvciBtdWx0aXNh
bXBsZSBjb3VudCBmb3IgYmFja2luZyBNT0IgcmV0dXJuIDAuCisJICoKKwkgKiBNVUxUSVNBTVBM
RV9NQVNLQUJMRVNBTVBMRVMgZGV2Y2FwIGlzIG1hcmtlZCBhcyBkZXByZWNhdGVkIGJ5IHZpcnR1
YWwKKwkgKiBkZXZpY2UuCiAJICovCi0JaWYgKGNhcCA9PSBTVkdBM0RfREVWQ0FQX01VTFRJU0FN
UExFX01BU0tBQkxFU0FNUExFUykKKwlpZiAoY2FwID09IFNWR0EzRF9ERVZDQVBfREVBRDUpCiAJ
CXJldHVybiAwOwogCiAJcmV0dXJuIGZtdF92YWx1ZTsKQEAgLTE2NCw3ICsxNjcsNyBAQCBzdGF0
aWMgaW50IHZtd19maWxsX2NvbXBhdF9jYXAoc3RydWN0IHZtd19wcml2YXRlICpkZXZfcHJpdiwg
dm9pZCAqYm91bmNlLAogCWZvciAoaSA9IDA7IGkgPCBtYXhfc2l6ZTsgKytpKSB7CiAJCXZtd193
cml0ZShkZXZfcHJpdiwgU1ZHQV9SRUdfREVWX0NBUCwgaSk7CiAJCWNvbXBhdF9jYXAtPnBhaXJz
W2ldWzBdID0gaTsKLQkJY29tcGF0X2NhcC0+cGFpcnNbaV1bMV0gPSB2bXdfbWFza19tdWx0aXNh
bXBsZQorCQljb21wYXRfY2FwLT5wYWlyc1tpXVsxXSA9IHZtd19tYXNrX2xlZ2FjeV9tdWx0aXNh
bXBsZQogCQkJKGksIHZtd19yZWFkKGRldl9wcml2LCBTVkdBX1JFR19ERVZfQ0FQKSk7CiAJfQog
CXNwaW5fdW5sb2NrKCZkZXZfcHJpdi0+Y2FwX2xvY2spOwpAQCAtMjIwLDcgKzIyMyw3IEBAIGlu
dCB2bXdfZ2V0X2NhcF8zZF9pb2N0bChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB2b2lkICpkYXRh
LAogCQlzcGluX2xvY2soJmRldl9wcml2LT5jYXBfbG9jayk7CiAJCWZvciAoaSA9IDA7IGkgPCBu
dW07ICsraSkgewogCQkJdm13X3dyaXRlKGRldl9wcml2LCBTVkdBX1JFR19ERVZfQ0FQLCBpKTsK
LQkJCSpib3VuY2UzMisrID0gdm13X21hc2tfbXVsdGlzYW1wbGUKKwkJCSpib3VuY2UzMisrID0g
dm13X21hc2tfbGVnYWN5X211bHRpc2FtcGxlCiAJCQkJKGksIHZtd19yZWFkKGRldl9wcml2LCBT
VkdBX1JFR19ERVZfQ0FQKSk7CiAJCX0KIAkJc3Bpbl91bmxvY2soJmRldl9wcml2LT5jYXBfbG9j
ayk7Ci0tIAoyLjE3LjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9w
Lm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1k
ZXZlbAo=
