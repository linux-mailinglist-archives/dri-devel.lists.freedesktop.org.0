Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 725857593D
	for <lists+dri-devel@lfdr.de>; Thu, 25 Jul 2019 23:01:10 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 9344B6E831;
	Thu, 25 Jul 2019 21:01:07 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-pg1-f196.google.com (mail-pg1-f196.google.com
 [209.85.215.196])
 by gabe.freedesktop.org (Postfix) with ESMTPS id EAC3D6E831
 for <dri-devel@lists.freedesktop.org>; Thu, 25 Jul 2019 21:01:06 +0000 (UTC)
Received: by mail-pg1-f196.google.com with SMTP id o13so23609352pgp.12
 for <dri-devel@lists.freedesktop.org>; Thu, 25 Jul 2019 14:01:06 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:date:from:to:cc:subject:message-id:references
 :mime-version:content-disposition:in-reply-to:user-agent;
 bh=AQ/YQOdzO/lt/Njypr7ENnIFm0KRkDQyJzzOHu8DVAQ=;
 b=HHeNEcZz43uhipBA2/MtSbgFdD2o0+Ezyn3f31xd+nu5+vN5qCdaYFOUXImr4OpARD
 i3cLo8O3zXuArjGVcZaf3VMg47iBYadPo/wpEKX5UB6BB+w+6UvSk2TlaPY9qJhIMvEZ
 BRGHf1XI2uo3v/i28K1sZcoNxG8/86R5rgO25Bb5MIsS3KstwRYCIrrkeHQmlFQpicBa
 ft0HOTONF5aR/t5pRzxH6uPlvCng5A8ae9tdYaYDbkyaPNG/PeZmKGZ1q+hmDdv0ZtVt
 KicvvVgZGHv7XYyp1Kj6XnJXI5PSJA/L/Z2EU/79ixx+hWq56kOMq3KGQCJ14VX5JOLo
 1suQ==
X-Gm-Message-State: APjAAAXWzevSbZVA2djGSywnJfVkCPD/NTbg8lxW471W3eMmr8/f+GYW
 xk3O4maCU8ns+Lc6B1Wy5LjLsQ==
X-Google-Smtp-Source: APXvYqyouNzxd1+i/SZvdm1a0d0UOQNWrzAZu6N6//DUCc5guqV4mLT3BRoTH7oWsKBlRiwdkwFPrg==
X-Received: by 2002:a63:f750:: with SMTP id f16mr58278099pgk.317.1564088466127; 
 Thu, 25 Jul 2019 14:01:06 -0700 (PDT)
Received: from localhost ([2601:647:5b80:29f7:1bdd:d748:9a4e:8083])
 by smtp.gmail.com with ESMTPSA id bo20sm37810913pjb.23.2019.07.25.14.01.04
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Thu, 25 Jul 2019 14:01:05 -0700 (PDT)
Date: Thu, 25 Jul 2019 14:01:04 -0700
From: Moritz Fischer <mdf@kernel.org>
To: Suzuki K Poulose <suzuki.poulose@arm.com>
Subject: Re: [PATCH v3 2/7] drivers: Introduce device lookup variants by
 of_node
Message-ID: <20190725210104.GB13647@archbox>
References: <20190723221838.12024-1-suzuki.poulose@arm.com>
 <20190723221838.12024-3-suzuki.poulose@arm.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190723221838.12024-3-suzuki.poulose@arm.com>
User-Agent: Mutt/1.12.1 (2019-06-15)
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Andrew Lunn <andrew@lunn.ch>, Thor Thayer <thor.thayer@linux.intel.com>,
 rafael@kernel.org, Maxime Ripard <maxime.ripard@bootlin.com>,
 linux-fpga@vger.kernel.org, dri-devel@lists.freedesktop.org,
 linux-kernel@vger.kernel.org, "David S. Miller" <davem@davemloft.net>,
 Srinivas Kandagatla <srinivas.kandagatla@linaro.org>,
 linux-i2c@vger.kernel.org, Frank Rowand <frowand.list@gmail.com>,
 Florian Fainelli <f.fainelli@gmail.com>, linux-rockchip@lists.infradead.org,
 Lee Jones <lee.jones@linaro.org>, Wolfram Sang <wsa@the-dreams.de>,
 David Airlie <airlied@linux.ie>, Jiri Slaby <jslaby@suse.com>,
 devicetree@vger.kernel.org, Alan Tull <atull@kernel.org>,
 Liam Girdwood <lgirdwood@gmail.com>, Rob Herring <robh+dt@kernel.org>,
 Moritz Fischer <mdf@kernel.org>, linux-arm-kernel@lists.infradead.org,
 Mathieu Poirier <mathieu.poirier@linaro.org>, gregkh@linuxfoundation.org,
 Takashi Iwai <tiwai@suse.com>, linux-spi@vger.kernel.org,
 Mark Brown <broonie@kernel.org>, Peter Rosin <peda@axentia.se>,
 Heiner Kallweit <hkallweit1@gmail.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVHVlLCBKdWwgMjMsIDIwMTkgYXQgMTE6MTg6MzNQTSArMDEwMCwgU3V6dWtpIEsgUG91bG9z
ZSB3cm90ZToKPiBJbnRyb2R1Y2Ugd3JhcHBlcnMgZm9yIHtidXMvZHJpdmVyL2NsYXNzfV9maW5k
X2RldmljZSgpIHRvCj4gbG9jYXRlIGRldmljZXMgYnkgaXRzIG9mX25vZGUuCj4gCj4gQ2M6IE1h
YXJ0ZW4gTGFua2hvcnN0IDxtYWFydGVuLmxhbmtob3JzdEBsaW51eC5pbnRlbC5jb20+Cj4gQ2M6
IE1heGltZSBSaXBhcmQgPG1heGltZS5yaXBhcmRAYm9vdGxpbi5jb20+Cj4gQ2M6IGRyaS1kZXZl
bEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKPiBDYzogRGF2aWQgQWlybGllIDxhaXJsaWVkQGxpbnV4
LmllPgo+IENjOiBEYW5pZWwgVmV0dGVyIDxkYW5pZWxAZmZ3bGwuY2g+Cj4gQ2M6IGRldmljZXRy
ZWVAdmdlci5rZXJuZWwub3JnCj4gQ2M6IEZsb3JpYW4gRmFpbmVsbGkgPGYuZmFpbmVsbGlAZ21h
aWwuY29tPgo+IENjOiBGcmFuayBSb3dhbmQgPGZyb3dhbmQubGlzdEBnbWFpbC5jb20+Cj4gQ2M6
IEhlaWtvIFN0dWVibmVyIDxoZWlrb0BzbnRlY2guZGU+Cj4gQ2M6IExpYW0gR2lyZHdvb2QgPGxn
aXJkd29vZEBnbWFpbC5jb20+Cj4gQ2M6IGxpbnV4LWkyY0B2Z2VyLmtlcm5lbC5vcmcKPiBDYzog
bGludXgtcm9ja2NoaXBAbGlzdHMuaW5mcmFkZWFkLm9yZwo+IENjOiBsaW51eC1zcGlAdmdlci5r
ZXJuZWwub3JnCj4gQ2M6IE1hdGhpZXUgUG9pcmllciA8bWF0aGlldS5wb2lyaWVyQGxpbmFyby5v
cmc+Cj4gQ2M6IFJvYiBIZXJyaW5nIDxyb2JoK2R0QGtlcm5lbC5vcmc+Cj4gQ2M6IFNyaW5pdmFz
IEthbmRhZ2F0bGEgPHNyaW5pdmFzLmthbmRhZ2F0bGFAbGluYXJvLm9yZz4KPiBDYzogVGFrYXNo
aSBJd2FpIDx0aXdhaUBzdXNlLmNvbT4KPiBDYzogV29sZnJhbSBTYW5nIDx3c2FAdGhlLWRyZWFt
cy5kZT4KPiBDYzogQWxhbiBUdWxsIDxhdHVsbEBrZXJuZWwub3JnPgo+IENjOiBNb3JpdHogRmlz
Y2hlciA8bWRmQGtlcm5lbC5vcmc+Cj4gQ2M6IGxpbnV4LWZwZ2FAdmdlci5rZXJuZWwub3JnCj4g
Q2M6IFBldGVyIFJvc2luIDxwZWRhQGF4ZW50aWEuc2U+Cj4gQ2M6IE1hcmsgQnJvd24gPGJyb29u
aWVAa2VybmVsLm9yZz4KPiBDYzogRmxvcmlhbiBGYWluZWxsaSA8Zi5mYWluZWxsaUBnbWFpbC5j
b20+Cj4gQ2M6IEhlaW5lciBLYWxsd2VpdCA8aGthbGx3ZWl0MUBnbWFpbC5jb20+Cj4gQ2M6ICJE
YXZpZCBTLiBNaWxsZXIiIDxkYXZlbUBkYXZlbWxvZnQubmV0Pgo+IENjOiBBbmRyZXcgTHVubiA8
YW5kcmV3QGx1bm4uY2g+Cj4gQ2M6IExpYW0gR2lyZHdvb2QgPGxnaXJkd29vZEBnbWFpbC5jb20+
Cj4gQ2M6IEdyZWcgS3JvYWgtSGFydG1hbiA8Z3JlZ2toQGxpbnV4Zm91bmRhdGlvbi5vcmc+Cj4g
Q2M6ICJSYWZhZWwgSi4gV3lzb2NraSIgPHJhZmFlbEBrZXJuZWwub3JnPgo+IENjOiBMZWUgSm9u
ZXMgPGxlZS5qb25lc0BsaW5hcm8ub3JnPgo+IENjOiBUaG9yIFRoYXllciA8dGhvci50aGF5ZXJA
bGludXguaW50ZWwuY29tPgo+IENjOiBKaXJpIFNsYWJ5IDxqc2xhYnlAc3VzZS5jb20+Cj4gQ2M6
IE1hcmsgQnJvd24gPGJyb29uaWVAa2VybmVsLm9yZz4KPiBDYzogQW5kcmV3IEx1bm4gPGFuZHJl
d0BsdW5uLmNoPgo+IENjOiBQZXRlciBSb3NpbiA8cGVkYUBheGVudGlhLnNlPgo+IFNpZ25lZC1v
ZmYtYnk6IFN1enVraSBLIFBvdWxvc2UgPHN1enVraS5wb3Vsb3NlQGFybS5jb20+CgpBY2tlZC1i
eTogTW9yaXR6IEZpc2NoZXIgPG1kZkBrZXJuZWwub3JnPiAjIEZvciBGUEdBIHBhcnQKCj4gLS0t
Cj4gIC0gRHJvcHBlZCB0aGUgcmV2aWV3ZWQtYnkgdGFncyBmcm9tIFRob3IsIE1hcmssIEFuZHJl
dyBhbmQgUGV0ZXIgYXMgdGhlCj4gICAgcGF0Y2hlcyBhcmUgbWVyZWdlZCwgdGhvdWdoIHRoZXJl
IGFyZSBubyBmdW5jdGlvbmFsIGNoYW5nZXMuCj4gLS0tCj4gIGRyaXZlcnMvYW1iYS90ZWdyYS1h
aGIuYyAgICAgICAgICAgICAgfCAxMSArLS0tLS0tLQo+ICBkcml2ZXJzL2ZwZ2EvZnBnYS1icmlk
Z2UuYyAgICAgICAgICAgIHwgIDggKy0tLS0tCj4gIGRyaXZlcnMvZnBnYS9mcGdhLW1nci5jICAg
ICAgICAgICAgICAgfCAgOCArLS0tLS0KPiAgZHJpdmVycy9ncHUvZHJtL2RybV9taXBpX2RzaS5j
ICAgICAgICB8ICA3ICstLS0tCj4gIGRyaXZlcnMvaTJjL2kyYy1jb3JlLW9mLmMgICAgICAgICAg
ICAgfCAgNyArLS0tLQo+ICBkcml2ZXJzL21mZC9hbHRlcmEtc3lzbWdyLmMgICAgICAgICAgIHwg
MTQgKystLS0tLS0tLQo+ICBkcml2ZXJzL211eC9jb3JlLmMgICAgICAgICAgICAgICAgICAgIHwg
IDcgKy0tLS0KPiAgZHJpdmVycy9uZXQvcGh5L21kaW9fYnVzLmMgICAgICAgICAgICB8ICA5ICst
LS0tLS0KPiAgZHJpdmVycy9udm1lbS9jb3JlLmMgICAgICAgICAgICAgICAgICB8ICA3ICstLS0t
Cj4gIGRyaXZlcnMvb2Yvb2ZfbWRpby5jICAgICAgICAgICAgICAgICAgfCAgOCArLS0tLS0KPiAg
ZHJpdmVycy9vZi9wbGF0Zm9ybS5jICAgICAgICAgICAgICAgICB8ICA3ICstLS0tCj4gIGRyaXZl
cnMvcmVndWxhdG9yL29mX3JlZ3VsYXRvci5jICAgICAgfCAgNyArLS0tLQo+ICBkcml2ZXJzL3Nw
aS9zcGkuYyAgICAgICAgICAgICAgICAgICAgIHwgMjAgKysrLS0tLS0tLS0tLS0tCj4gIGluY2x1
ZGUvbGludXgvZGV2aWNlLmggICAgICAgICAgICAgICAgfCAzNyArKysrKysrKysrKysrKysrKysr
KysrKysrKysKPiAgc291bmQvc29jL3JvY2tjaGlwL3JrMzM5OV9ncnVfc291bmQuYyB8ICA5ICsr
LS0tLS0KPiAgMTUgZmlsZXMgY2hhbmdlZCwgNTYgaW5zZXJ0aW9ucygrKSwgMTEwIGRlbGV0aW9u
cygtKQo+IAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2FtYmEvdGVncmEtYWhiLmMgYi9kcml2ZXJz
L2FtYmEvdGVncmEtYWhiLmMKPiBpbmRleCBhYTY0ZWVjZTc3YTYuLjU3ZDNiMmUyZDAwNyAxMDA2
NDQKPiAtLS0gYS9kcml2ZXJzL2FtYmEvdGVncmEtYWhiLmMKPiArKysgYi9kcml2ZXJzL2FtYmEv
dGVncmEtYWhiLmMKPiBAQCAtMTM0LDIyICsxMzQsMTMgQEAgc3RhdGljIGlubGluZSB2b2lkIGdp
em1vX3dyaXRlbChzdHJ1Y3QgdGVncmFfYWhiICphaGIsIHUzMiB2YWx1ZSwgdTMyIG9mZnNldCkK
PiAgfQo+ICAKPiAgI2lmZGVmIENPTkZJR19URUdSQV9JT01NVV9TTU1VCj4gLXN0YXRpYyBpbnQg
dGVncmFfYWhiX21hdGNoX2J5X3NtbXUoc3RydWN0IGRldmljZSAqZGV2LCBjb25zdCB2b2lkICpk
YXRhKQo+IC17Cj4gLQlzdHJ1Y3QgdGVncmFfYWhiICphaGIgPSBkZXZfZ2V0X2RydmRhdGEoZGV2
KTsKPiAtCWNvbnN0IHN0cnVjdCBkZXZpY2Vfbm9kZSAqZG4gPSBkYXRhOwo+IC0KPiAtCXJldHVy
biAoYWhiLT5kZXYtPm9mX25vZGUgPT0gZG4pID8gMSA6IDA7Cj4gLX0KPiAtCj4gIGludCB0ZWdy
YV9haGJfZW5hYmxlX3NtbXUoc3RydWN0IGRldmljZV9ub2RlICpkbikKPiAgewo+ICAJc3RydWN0
IGRldmljZSAqZGV2Owo+ICAJdTMyIHZhbDsKPiAgCXN0cnVjdCB0ZWdyYV9haGIgKmFoYjsKPiAg
Cj4gLQlkZXYgPSBkcml2ZXJfZmluZF9kZXZpY2UoJnRlZ3JhX2FoYl9kcml2ZXIuZHJpdmVyLCBO
VUxMLCBkbiwKPiAtCQkJCSB0ZWdyYV9haGJfbWF0Y2hfYnlfc21tdSk7Cj4gKwlkZXYgPSBkcml2
ZXJfZmluZF9kZXZpY2VfYnlfb2Zfbm9kZSgmdGVncmFfYWhiX2RyaXZlci5kcml2ZXIsIGRuKTsK
PiAgCWlmICghZGV2KQo+ICAJCXJldHVybiAtRVBST0JFX0RFRkVSOwo+ICAJYWhiID0gZGV2X2dl
dF9kcnZkYXRhKGRldik7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZnBnYS9mcGdhLWJyaWRnZS5j
IGIvZHJpdmVycy9mcGdhL2ZwZ2EtYnJpZGdlLmMKPiBpbmRleCA4MGJkOGYxYjJhYTYuLjRiYWI5
MDI4OTQwYSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2ZwZ2EvZnBnYS1icmlkZ2UuYwo+ICsrKyBi
L2RyaXZlcnMvZnBnYS9mcGdhLWJyaWRnZS5jCj4gQEAgLTE5LDExICsxOSw2IEBAIHN0YXRpYyBz
dHJ1Y3QgY2xhc3MgKmZwZ2FfYnJpZGdlX2NsYXNzOwo+ICAvKiBMb2NrIGZvciBhZGRpbmcvcmVt
b3ZpbmcgYnJpZGdlcyB0byBsaW5rZWQgbGlzdHMqLwo+ICBzdGF0aWMgc3BpbmxvY2tfdCBicmlk
Z2VfbGlzdF9sb2NrOwo+ICAKPiAtc3RhdGljIGludCBmcGdhX2JyaWRnZV9vZl9ub2RlX21hdGNo
KHN0cnVjdCBkZXZpY2UgKmRldiwgY29uc3Qgdm9pZCAqZGF0YSkKPiAtewo+IC0JcmV0dXJuIGRl
di0+b2Zfbm9kZSA9PSBkYXRhOwo+IC19Cj4gLQo+ICAvKioKPiAgICogZnBnYV9icmlkZ2VfZW5h
YmxlIC0gRW5hYmxlIHRyYW5zYWN0aW9ucyBvbiB0aGUgYnJpZGdlCj4gICAqCj4gQEAgLTEwNCw4
ICs5OSw3IEBAIHN0cnVjdCBmcGdhX2JyaWRnZSAqb2ZfZnBnYV9icmlkZ2VfZ2V0KHN0cnVjdCBk
ZXZpY2Vfbm9kZSAqbnAsCj4gIHsKPiAgCXN0cnVjdCBkZXZpY2UgKmRldjsKPiAgCj4gLQlkZXYg
PSBjbGFzc19maW5kX2RldmljZShmcGdhX2JyaWRnZV9jbGFzcywgTlVMTCwgbnAsCj4gLQkJCQlm
cGdhX2JyaWRnZV9vZl9ub2RlX21hdGNoKTsKPiArCWRldiA9IGNsYXNzX2ZpbmRfZGV2aWNlX2J5
X29mX25vZGUoZnBnYV9icmlkZ2VfY2xhc3MsIG5wKTsKPiAgCWlmICghZGV2KQo+ICAJCXJldHVy
biBFUlJfUFRSKC1FTk9ERVYpOwo+ICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9mcGdhL2ZwZ2Et
bWdyLmMgYi9kcml2ZXJzL2ZwZ2EvZnBnYS1tZ3IuYwo+IGluZGV4IGMzODY2ODE2NDU2YS4uZTA1
MTA0ZjVlNDBjIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZnBnYS9mcGdhLW1nci5jCj4gKysrIGIv
ZHJpdmVycy9mcGdhL2ZwZ2EtbWdyLmMKPiBAQCAtNDgyLDExICs0ODIsNiBAQCBzdHJ1Y3QgZnBn
YV9tYW5hZ2VyICpmcGdhX21ncl9nZXQoc3RydWN0IGRldmljZSAqZGV2KQo+ICB9Cj4gIEVYUE9S
VF9TWU1CT0xfR1BMKGZwZ2FfbWdyX2dldCk7Cj4gIAo+IC1zdGF0aWMgaW50IGZwZ2FfbWdyX29m
X25vZGVfbWF0Y2goc3RydWN0IGRldmljZSAqZGV2LCBjb25zdCB2b2lkICpkYXRhKQo+IC17Cj4g
LQlyZXR1cm4gZGV2LT5vZl9ub2RlID09IGRhdGE7Cj4gLX0KPiAtCj4gIC8qKgo+ICAgKiBvZl9m
cGdhX21ncl9nZXQgLSBHaXZlbiBhIGRldmljZSBub2RlLCBnZXQgYSByZWZlcmVuY2UgdG8gYSBm
cGdhIG1nci4KPiAgICoKPiBAQCAtNDk4LDggKzQ5Myw3IEBAIHN0cnVjdCBmcGdhX21hbmFnZXIg
Km9mX2ZwZ2FfbWdyX2dldChzdHJ1Y3QgZGV2aWNlX25vZGUgKm5vZGUpCj4gIHsKPiAgCXN0cnVj
dCBkZXZpY2UgKmRldjsKPiAgCj4gLQlkZXYgPSBjbGFzc19maW5kX2RldmljZShmcGdhX21ncl9j
bGFzcywgTlVMTCwgbm9kZSwKPiAtCQkJCWZwZ2FfbWdyX29mX25vZGVfbWF0Y2gpOwo+ICsJZGV2
ID0gY2xhc3NfZmluZF9kZXZpY2VfYnlfb2Zfbm9kZShmcGdhX21ncl9jbGFzcywgbm9kZSk7Cj4g
IAlpZiAoIWRldikKPiAgCQlyZXR1cm4gRVJSX1BUUigtRU5PREVWKTsKPiAgCj4gZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fbWlwaV9kc2kuYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1f
bWlwaV9kc2kuYwo+IGluZGV4IGFkMTlkZjA2ODZjOS4uYmQyNDk4YmJkNzRhIDEwMDY0NAo+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fbWlwaV9kc2kuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9kcm1fbWlwaV9kc2kuYwo+IEBAIC05MywxMSArOTMsNiBAQCBzdGF0aWMgc3RydWN0IGJ1c190
eXBlIG1pcGlfZHNpX2J1c190eXBlID0gewo+ICAJLnBtID0gJm1pcGlfZHNpX2RldmljZV9wbV9v
cHMsCj4gIH07Cj4gIAo+IC1zdGF0aWMgaW50IG9mX2RldmljZV9tYXRjaChzdHJ1Y3QgZGV2aWNl
ICpkZXYsIGNvbnN0IHZvaWQgKmRhdGEpCj4gLXsKPiAtCXJldHVybiBkZXYtPm9mX25vZGUgPT0g
ZGF0YTsKPiAtfQo+IC0KPiAgLyoqCj4gICAqIG9mX2ZpbmRfbWlwaV9kc2lfZGV2aWNlX2J5X25v
ZGUoKSAtIGZpbmQgdGhlIE1JUEkgRFNJIGRldmljZSBtYXRjaGluZyBhCj4gICAqICAgIGRldmlj
ZSB0cmVlIG5vZGUKPiBAQCAtMTEwLDcgKzEwNSw3IEBAIHN0cnVjdCBtaXBpX2RzaV9kZXZpY2Ug
Km9mX2ZpbmRfbWlwaV9kc2lfZGV2aWNlX2J5X25vZGUoc3RydWN0IGRldmljZV9ub2RlICpucCkK
PiAgewo+ICAJc3RydWN0IGRldmljZSAqZGV2Owo+ICAKPiAtCWRldiA9IGJ1c19maW5kX2Rldmlj
ZSgmbWlwaV9kc2lfYnVzX3R5cGUsIE5VTEwsIG5wLCBvZl9kZXZpY2VfbWF0Y2gpOwo+ICsJZGV2
ID0gYnVzX2ZpbmRfZGV2aWNlX2J5X29mX25vZGUoJm1pcGlfZHNpX2J1c190eXBlLCBucCk7Cj4g
IAo+ICAJcmV0dXJuIGRldiA/IHRvX21pcGlfZHNpX2RldmljZShkZXYpIDogTlVMTDsKPiAgfQo+
IGRpZmYgLS1naXQgYS9kcml2ZXJzL2kyYy9pMmMtY29yZS1vZi5jIGIvZHJpdmVycy9pMmMvaTJj
LWNvcmUtb2YuYwo+IGluZGV4IGQxYzQ4ZGVjNzExOC4uNmY2MzJkNTQzZmNjIDEwMDY0NAo+IC0t
LSBhL2RyaXZlcnMvaTJjL2kyYy1jb3JlLW9mLmMKPiArKysgYi9kcml2ZXJzL2kyYy9pMmMtY29y
ZS1vZi5jCj4gQEAgLTExMywxMSArMTEzLDYgQEAgdm9pZCBvZl9pMmNfcmVnaXN0ZXJfZGV2aWNl
cyhzdHJ1Y3QgaTJjX2FkYXB0ZXIgKmFkYXApCj4gIAlvZl9ub2RlX3B1dChidXMpOwo+ICB9Cj4g
IAo+IC1zdGF0aWMgaW50IG9mX2Rldl9ub2RlX21hdGNoKHN0cnVjdCBkZXZpY2UgKmRldiwgY29u
c3Qgdm9pZCAqZGF0YSkKPiAtewo+IC0JcmV0dXJuIGRldi0+b2Zfbm9kZSA9PSBkYXRhOwo+IC19
Cj4gLQo+ICBzdGF0aWMgaW50IG9mX2Rldl9vcl9wYXJlbnRfbm9kZV9tYXRjaChzdHJ1Y3QgZGV2
aWNlICpkZXYsIGNvbnN0IHZvaWQgKmRhdGEpCj4gIHsKPiAgCWlmIChkZXYtPm9mX25vZGUgPT0g
ZGF0YSkKPiBAQCAtMTM1LDcgKzEzMCw3IEBAIHN0cnVjdCBpMmNfY2xpZW50ICpvZl9maW5kX2ky
Y19kZXZpY2VfYnlfbm9kZShzdHJ1Y3QgZGV2aWNlX25vZGUgKm5vZGUpCj4gIAlzdHJ1Y3QgZGV2
aWNlICpkZXY7Cj4gIAlzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50Owo+ICAKPiAtCWRldiA9IGJ1
c19maW5kX2RldmljZSgmaTJjX2J1c190eXBlLCBOVUxMLCBub2RlLCBvZl9kZXZfbm9kZV9tYXRj
aCk7Cj4gKwlkZXYgPSBidXNfZmluZF9kZXZpY2VfYnlfb2Zfbm9kZSgmaTJjX2J1c190eXBlLCBu
b2RlKTsKPiAgCWlmICghZGV2KQo+ICAJCXJldHVybiBOVUxMOwo+ICAKPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9tZmQvYWx0ZXJhLXN5c21nci5jIGIvZHJpdmVycy9tZmQvYWx0ZXJhLXN5c21nci5j
Cj4gaW5kZXggMmVlMTRkOGE2ZDMxLi5kMmExM2E1NDdhM2MgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVy
cy9tZmQvYWx0ZXJhLXN5c21nci5jCj4gKysrIGIvZHJpdmVycy9tZmQvYWx0ZXJhLXN5c21nci5j
Cj4gQEAgLTg3LDE2ICs4Nyw2IEBAIHN0YXRpYyBzdHJ1Y3QgcmVnbWFwX2NvbmZpZyBhbHRyX3N5
c21ncl9yZWdtYXBfY2ZnID0gewo+ICAJLnVzZV9zaW5nbGVfd3JpdGUgPSB0cnVlLAo+ICB9Owo+
ICAKPiAtLyoqCj4gLSAqIHN5c21ncl9tYXRjaF9waGFuZGxlCj4gLSAqIE1hdGNoaW5nIGZ1bmN0
aW9uIHVzZWQgYnkgZHJpdmVyX2ZpbmRfZGV2aWNlKCkuCj4gLSAqIFJldHVybjogVHJ1ZSBpZiBt
YXRjaCBpcyBmb3VuZCwgb3RoZXJ3aXNlIGZhbHNlLgo+IC0gKi8KPiAtc3RhdGljIGludCBzeXNt
Z3JfbWF0Y2hfcGhhbmRsZShzdHJ1Y3QgZGV2aWNlICpkZXYsIGNvbnN0IHZvaWQgKmRhdGEpCj4g
LXsKPiAtCXJldHVybiBkZXYtPm9mX25vZGUgPT0gKGNvbnN0IHN0cnVjdCBkZXZpY2Vfbm9kZSAq
KWRhdGE7Cj4gLX0KPiAtCj4gIC8qKgo+ICAgKiBhbHRyX3N5c21ncl9yZWdtYXBfbG9va3VwX2J5
X3BoYW5kbGUKPiAgICogRmluZCB0aGUgc3lzbWdyIHByZXZpb3VzIGNvbmZpZ3VyZWQgaW4gcHJv
YmUoKSBhbmQgcmV0dXJuIHJlZ21hcCBwcm9wZXJ0eS4KPiBAQCAtMTE3LDggKzEwNyw4IEBAIHN0
cnVjdCByZWdtYXAgKmFsdHJfc3lzbWdyX3JlZ21hcF9sb29rdXBfYnlfcGhhbmRsZShzdHJ1Y3Qg
ZGV2aWNlX25vZGUgKm5wLAo+ICAJaWYgKCFzeXNtZ3JfbnApCj4gIAkJcmV0dXJuIEVSUl9QVFIo
LUVOT0RFVik7Cj4gIAo+IC0JZGV2ID0gZHJpdmVyX2ZpbmRfZGV2aWNlKCZhbHRyX3N5c21ncl9k
cml2ZXIuZHJpdmVyLCBOVUxMLAo+IC0JCQkJICh2b2lkICopc3lzbWdyX25wLCBzeXNtZ3JfbWF0
Y2hfcGhhbmRsZSk7Cj4gKwlkZXYgPSBkcml2ZXJfZmluZF9kZXZpY2VfYnlfb2Zfbm9kZSgmYWx0
cl9zeXNtZ3JfZHJpdmVyLmRyaXZlciwKPiArCQkJCQkgICAgKHZvaWQgKilzeXNtZ3JfbnApOwo+
ICAJb2Zfbm9kZV9wdXQoc3lzbWdyX25wKTsKPiAgCWlmICghZGV2KQo+ICAJCXJldHVybiBFUlJf
UFRSKC1FUFJPQkVfREVGRVIpOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL211eC9jb3JlLmMgYi9k
cml2ZXJzL211eC9jb3JlLmMKPiBpbmRleCBkMTI3MWMxZWUyM2MuLjFmYjIyMzg4ZTdlMCAxMDA2
NDQKPiAtLS0gYS9kcml2ZXJzL211eC9jb3JlLmMKPiArKysgYi9kcml2ZXJzL211eC9jb3JlLmMK
PiBAQCAtNDA1LDE3ICs0MDUsMTIgQEAgaW50IG11eF9jb250cm9sX2Rlc2VsZWN0KHN0cnVjdCBt
dXhfY29udHJvbCAqbXV4KQo+ICB9Cj4gIEVYUE9SVF9TWU1CT0xfR1BMKG11eF9jb250cm9sX2Rl
c2VsZWN0KTsKPiAgCj4gLXN0YXRpYyBpbnQgb2ZfZGV2X25vZGVfbWF0Y2goc3RydWN0IGRldmlj
ZSAqZGV2LCBjb25zdCB2b2lkICpkYXRhKQo+IC17Cj4gLQlyZXR1cm4gZGV2LT5vZl9ub2RlID09
IGRhdGE7Cj4gLX0KPiAtCj4gIC8qIE5vdGUgdGhpcyBmdW5jdGlvbiByZXR1cm5zIGEgcmVmZXJl
bmNlIHRvIHRoZSBtdXhfY2hpcCBkZXYuICovCj4gIHN0YXRpYyBzdHJ1Y3QgbXV4X2NoaXAgKm9m
X2ZpbmRfbXV4X2NoaXBfYnlfbm9kZShzdHJ1Y3QgZGV2aWNlX25vZGUgKm5wKQo+ICB7Cj4gIAlz
dHJ1Y3QgZGV2aWNlICpkZXY7Cj4gIAo+IC0JZGV2ID0gY2xhc3NfZmluZF9kZXZpY2UoJm11eF9j
bGFzcywgTlVMTCwgbnAsIG9mX2Rldl9ub2RlX21hdGNoKTsKPiArCWRldiA9IGNsYXNzX2ZpbmRf
ZGV2aWNlX2J5X29mX25vZGUoJm11eF9jbGFzcywgbnApOwo+ICAKPiAgCXJldHVybiBkZXYgPyB0
b19tdXhfY2hpcChkZXYpIDogTlVMTDsKPiAgfQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL25ldC9w
aHkvbWRpb19idXMuYyBiL2RyaXZlcnMvbmV0L3BoeS9tZGlvX2J1cy5jCj4gaW5kZXggYmQwNGZl
NzYyMDU2Li5jZTk0MDg3MTMzMWUgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9uZXQvcGh5L21kaW9f
YnVzLmMKPiArKysgYi9kcml2ZXJzL25ldC9waHkvbWRpb19idXMuYwo+IEBAIC0yNjIsMTEgKzI2
Miw2IEBAIHN0YXRpYyBzdHJ1Y3QgY2xhc3MgbWRpb19idXNfY2xhc3MgPSB7Cj4gIH07Cj4gIAo+
ICAjaWYgSVNfRU5BQkxFRChDT05GSUdfT0ZfTURJTykKPiAtLyogSGVscGVyIGZ1bmN0aW9uIGZv
ciBvZl9tZGlvX2ZpbmRfYnVzICovCj4gLXN0YXRpYyBpbnQgb2ZfbWRpb19idXNfbWF0Y2goc3Ry
dWN0IGRldmljZSAqZGV2LCBjb25zdCB2b2lkICptZGlvX2J1c19ucCkKPiAtewo+IC0JcmV0dXJu
IGRldi0+b2Zfbm9kZSA9PSBtZGlvX2J1c19ucDsKPiAtfQo+ICAvKioKPiAgICogb2ZfbWRpb19m
aW5kX2J1cyAtIEdpdmVuIGFuIG1paV9idXMgbm9kZSwgZmluZCB0aGUgbWlpX2J1cy4KPiAgICog
QG1kaW9fYnVzX25wOiBQb2ludGVyIHRvIHRoZSBtaWlfYnVzLgo+IEBAIC0yODcsOSArMjgyLDcg
QEAgc3RydWN0IG1paV9idXMgKm9mX21kaW9fZmluZF9idXMoc3RydWN0IGRldmljZV9ub2RlICpt
ZGlvX2J1c19ucCkKPiAgCWlmICghbWRpb19idXNfbnApCj4gIAkJcmV0dXJuIE5VTEw7Cj4gIAo+
IC0JZCA9IGNsYXNzX2ZpbmRfZGV2aWNlKCZtZGlvX2J1c19jbGFzcywgTlVMTCwgIG1kaW9fYnVz
X25wLAo+IC0JCQkgICAgICBvZl9tZGlvX2J1c19tYXRjaCk7Cj4gLQo+ICsJZCA9IGNsYXNzX2Zp
bmRfZGV2aWNlX2J5X29mX25vZGUoJm1kaW9fYnVzX2NsYXNzLCBtZGlvX2J1c19ucCk7Cj4gIAly
ZXR1cm4gZCA/IHRvX21paV9idXMoZCkgOiBOVUxMOwo+ICB9Cj4gIEVYUE9SVF9TWU1CT0wob2Zf
bWRpb19maW5kX2J1cyk7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvbnZtZW0vY29yZS5jIGIvZHJp
dmVycy9udm1lbS9jb3JlLmMKPiBpbmRleCBhYzVkOTQ1YmU4OGEuLjA1N2QxZmY4N2Q1ZCAxMDA2
NDQKPiAtLS0gYS9kcml2ZXJzL252bWVtL2NvcmUuYwo+ICsrKyBiL2RyaXZlcnMvbnZtZW0vY29y
ZS5jCj4gQEAgLTc2LDExICs3Niw2IEBAIHN0YXRpYyBzdHJ1Y3QgYnVzX3R5cGUgbnZtZW1fYnVz
X3R5cGUgPSB7Cj4gIAkubmFtZQkJPSAibnZtZW0iLAo+ICB9Owo+ICAKPiAtc3RhdGljIGludCBv
Zl9udm1lbV9tYXRjaChzdHJ1Y3QgZGV2aWNlICpkZXYsIGNvbnN0IHZvaWQgKm52bWVtX25wKQo+
IC17Cj4gLQlyZXR1cm4gZGV2LT5vZl9ub2RlID09IG52bWVtX25wOwo+IC19Cj4gLQo+ICBzdGF0
aWMgc3RydWN0IG52bWVtX2RldmljZSAqb2ZfbnZtZW1fZmluZChzdHJ1Y3QgZGV2aWNlX25vZGUg
Km52bWVtX25wKQo+ICB7Cj4gIAlzdHJ1Y3QgZGV2aWNlICpkOwo+IEBAIC04OCw3ICs4Myw3IEBA
IHN0YXRpYyBzdHJ1Y3QgbnZtZW1fZGV2aWNlICpvZl9udm1lbV9maW5kKHN0cnVjdCBkZXZpY2Vf
bm9kZSAqbnZtZW1fbnApCj4gIAlpZiAoIW52bWVtX25wKQo+ICAJCXJldHVybiBOVUxMOwo+ICAK
PiAtCWQgPSBidXNfZmluZF9kZXZpY2UoJm52bWVtX2J1c190eXBlLCBOVUxMLCBudm1lbV9ucCwg
b2ZfbnZtZW1fbWF0Y2gpOwo+ICsJZCA9IGJ1c19maW5kX2RldmljZV9ieV9vZl9ub2RlKCZudm1l
bV9idXNfdHlwZSwgbnZtZW1fbnApOwo+ICAKPiAgCWlmICghZCkKPiAgCQlyZXR1cm4gTlVMTDsK
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9vZi9vZl9tZGlvLmMgYi9kcml2ZXJzL29mL29mX21kaW8u
Ywo+IGluZGV4IDQ0ZjUzNDk2Y2FiMS4uMDAwYjk1Nzg3ZGYxIDEwMDY0NAo+IC0tLSBhL2RyaXZl
cnMvb2Yvb2ZfbWRpby5jCj4gKysrIGIvZHJpdmVycy9vZi9vZl9tZGlvLmMKPiBAQCAtMjgwLDEy
ICsyODAsNiBAQCBpbnQgb2ZfbWRpb2J1c19yZWdpc3RlcihzdHJ1Y3QgbWlpX2J1cyAqbWRpbywg
c3RydWN0IGRldmljZV9ub2RlICpucCkKPiAgfQo+ICBFWFBPUlRfU1lNQk9MKG9mX21kaW9idXNf
cmVnaXN0ZXIpOwo+ICAKPiAtLyogSGVscGVyIGZ1bmN0aW9uIGZvciBvZl9waHlfZmluZF9kZXZp
Y2UgKi8KPiAtc3RhdGljIGludCBvZl9waHlfbWF0Y2goc3RydWN0IGRldmljZSAqZGV2LCBjb25z
dCB2b2lkICpwaHlfbnApCj4gLXsKPiAtCXJldHVybiBkZXYtPm9mX25vZGUgPT0gcGh5X25wOwo+
IC19Cj4gLQo+ICAvKioKPiAgICogb2ZfcGh5X2ZpbmRfZGV2aWNlIC0gR2l2ZSBhIFBIWSBub2Rl
LCBmaW5kIHRoZSBwaHlfZGV2aWNlCj4gICAqIEBwaHlfbnA6IFBvaW50ZXIgdG8gdGhlIHBoeSdz
IGRldmljZSB0cmVlIG5vZGUKPiBAQCAtMzAxLDcgKzI5NSw3IEBAIHN0cnVjdCBwaHlfZGV2aWNl
ICpvZl9waHlfZmluZF9kZXZpY2Uoc3RydWN0IGRldmljZV9ub2RlICpwaHlfbnApCj4gIAlpZiAo
IXBoeV9ucCkKPiAgCQlyZXR1cm4gTlVMTDsKPiAgCj4gLQlkID0gYnVzX2ZpbmRfZGV2aWNlKCZt
ZGlvX2J1c190eXBlLCBOVUxMLCBwaHlfbnAsIG9mX3BoeV9tYXRjaCk7Cj4gKwlkID0gYnVzX2Zp
bmRfZGV2aWNlX2J5X29mX25vZGUoJm1kaW9fYnVzX3R5cGUsIHBoeV9ucCk7Cj4gIAlpZiAoZCkg
ewo+ICAJCW1kaW9kZXYgPSB0b19tZGlvX2RldmljZShkKTsKPiAgCQlpZiAobWRpb2Rldi0+Zmxh
Z3MgJiBNRElPX0RFVklDRV9GTEFHX1BIWSkKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9vZi9wbGF0
Zm9ybS5jIGIvZHJpdmVycy9vZi9wbGF0Zm9ybS5jCj4gaW5kZXggNzgwMWUyNWU2ODk1Li5iNDdh
MjI5MmZlOGUgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9vZi9wbGF0Zm9ybS5jCj4gKysrIGIvZHJp
dmVycy9vZi9wbGF0Zm9ybS5jCj4gQEAgLTM3LDExICszNyw2IEBAIHN0YXRpYyBjb25zdCBzdHJ1
Y3Qgb2ZfZGV2aWNlX2lkIG9mX3NraXBwZWRfbm9kZV90YWJsZVtdID0gewo+ICAJe30gLyogRW1w
dHkgdGVybWluYXRlZCBsaXN0ICovCj4gIH07Cj4gIAo+IC1zdGF0aWMgaW50IG9mX2Rldl9ub2Rl
X21hdGNoKHN0cnVjdCBkZXZpY2UgKmRldiwgY29uc3Qgdm9pZCAqZGF0YSkKPiAtewo+IC0JcmV0
dXJuIGRldi0+b2Zfbm9kZSA9PSBkYXRhOwo+IC19Cj4gLQo+ICAvKioKPiAgICogb2ZfZmluZF9k
ZXZpY2VfYnlfbm9kZSAtIEZpbmQgdGhlIHBsYXRmb3JtX2RldmljZSBhc3NvY2lhdGVkIHdpdGgg
YSBub2RlCj4gICAqIEBucDogUG9pbnRlciB0byBkZXZpY2UgdHJlZSBub2RlCj4gQEAgLTU1LDcg
KzUwLDcgQEAgc3RydWN0IHBsYXRmb3JtX2RldmljZSAqb2ZfZmluZF9kZXZpY2VfYnlfbm9kZShz
dHJ1Y3QgZGV2aWNlX25vZGUgKm5wKQo+ICB7Cj4gIAlzdHJ1Y3QgZGV2aWNlICpkZXY7Cj4gIAo+
IC0JZGV2ID0gYnVzX2ZpbmRfZGV2aWNlKCZwbGF0Zm9ybV9idXNfdHlwZSwgTlVMTCwgbnAsIG9m
X2Rldl9ub2RlX21hdGNoKTsKPiArCWRldiA9IGJ1c19maW5kX2RldmljZV9ieV9vZl9ub2RlKCZw
bGF0Zm9ybV9idXNfdHlwZSwgbnApOwo+ICAJcmV0dXJuIGRldiA/IHRvX3BsYXRmb3JtX2Rldmlj
ZShkZXYpIDogTlVMTDsKPiAgfQo+ICBFWFBPUlRfU1lNQk9MKG9mX2ZpbmRfZGV2aWNlX2J5X25v
ZGUpOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3JlZ3VsYXRvci9vZl9yZWd1bGF0b3IuYyBiL2Ry
aXZlcnMvcmVndWxhdG9yL29mX3JlZ3VsYXRvci5jCj4gaW5kZXggMzk3OTE4ZWJiYTU1Li4yMGRj
YzljMDNhZGMgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9yZWd1bGF0b3Ivb2ZfcmVndWxhdG9yLmMK
PiArKysgYi9kcml2ZXJzL3JlZ3VsYXRvci9vZl9yZWd1bGF0b3IuYwo+IEBAIC00NjAsMTYgKzQ2
MCwxMSBAQCBzdHJ1Y3QgcmVndWxhdG9yX2luaXRfZGF0YSAqcmVndWxhdG9yX29mX2dldF9pbml0
X2RhdGEoc3RydWN0IGRldmljZSAqZGV2LAo+ICAJcmV0dXJuIE5VTEw7Cj4gIH0KPiAgCj4gLXN0
YXRpYyBpbnQgb2Zfbm9kZV9tYXRjaChzdHJ1Y3QgZGV2aWNlICpkZXYsIGNvbnN0IHZvaWQgKmRh
dGEpCj4gLXsKPiAtCXJldHVybiBkZXYtPm9mX25vZGUgPT0gZGF0YTsKPiAtfQo+IC0KPiAgc3Ry
dWN0IHJlZ3VsYXRvcl9kZXYgKm9mX2ZpbmRfcmVndWxhdG9yX2J5X25vZGUoc3RydWN0IGRldmlj
ZV9ub2RlICpucCkKPiAgewo+ICAJc3RydWN0IGRldmljZSAqZGV2Owo+ICAKPiAtCWRldiA9IGNs
YXNzX2ZpbmRfZGV2aWNlKCZyZWd1bGF0b3JfY2xhc3MsIE5VTEwsIG5wLCBvZl9ub2RlX21hdGNo
KTsKPiArCWRldiA9IGNsYXNzX2ZpbmRfZGV2aWNlX2J5X29mX25vZGUoJnJlZ3VsYXRvcl9jbGFz
cywgbnApOwo+ICAKPiAgCXJldHVybiBkZXYgPyBkZXZfdG9fcmRldihkZXYpIDogTlVMTDsKPiAg
fQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3NwaS9zcGkuYyBiL2RyaXZlcnMvc3BpL3NwaS5jCj4g
aW5kZXggNzVhYzA0NmNhZTUyLi5hNTkxZGE4Nzk4MWEgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9z
cGkvc3BpLmMKPiArKysgYi9kcml2ZXJzL3NwaS9zcGkuYwo+IEBAIC0zNjUyLDM3ICszNjUyLDI1
IEBAIEVYUE9SVF9TWU1CT0xfR1BMKHNwaV93cml0ZV90aGVuX3JlYWQpOwo+ICAvKi0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0qLwo+ICAKPiAgI2lmIElTX0VOQUJMRUQoQ09ORklHX09GKQo+IC1zdGF0aWMgaW50
IF9fc3BpX29mX2RldmljZV9tYXRjaChzdHJ1Y3QgZGV2aWNlICpkZXYsIGNvbnN0IHZvaWQgKmRh
dGEpCj4gLXsKPiAtCXJldHVybiBkZXYtPm9mX25vZGUgPT0gZGF0YTsKPiAtfQo+IC0KPiAgLyog
bXVzdCBjYWxsIHB1dF9kZXZpY2UoKSB3aGVuIGRvbmUgd2l0aCByZXR1cm5lZCBzcGlfZGV2aWNl
IGRldmljZSAqLwo+ICBzdHJ1Y3Qgc3BpX2RldmljZSAqb2ZfZmluZF9zcGlfZGV2aWNlX2J5X25v
ZGUoc3RydWN0IGRldmljZV9ub2RlICpub2RlKQo+ICB7Cj4gLQlzdHJ1Y3QgZGV2aWNlICpkZXYg
PSBidXNfZmluZF9kZXZpY2UoJnNwaV9idXNfdHlwZSwgTlVMTCwgbm9kZSwKPiAtCQkJCQkJX19z
cGlfb2ZfZGV2aWNlX21hdGNoKTsKPiArCXN0cnVjdCBkZXZpY2UgKmRldiA9IGJ1c19maW5kX2Rl
dmljZV9ieV9vZl9ub2RlKCZzcGlfYnVzX3R5cGUsIG5vZGUpOwo+ICsKPiAgCXJldHVybiBkZXYg
PyB0b19zcGlfZGV2aWNlKGRldikgOiBOVUxMOwo+ICB9Cj4gIEVYUE9SVF9TWU1CT0xfR1BMKG9m
X2ZpbmRfc3BpX2RldmljZV9ieV9ub2RlKTsKPiAgI2VuZGlmIC8qIElTX0VOQUJMRUQoQ09ORklH
X09GKSAqLwo+ICAKPiAgI2lmIElTX0VOQUJMRUQoQ09ORklHX09GX0RZTkFNSUMpCj4gLXN0YXRp
YyBpbnQgX19zcGlfb2ZfY29udHJvbGxlcl9tYXRjaChzdHJ1Y3QgZGV2aWNlICpkZXYsIGNvbnN0
IHZvaWQgKmRhdGEpCj4gLXsKPiAtCXJldHVybiBkZXYtPm9mX25vZGUgPT0gZGF0YTsKPiAtfQo+
IC0KPiAgLyogdGhlIHNwaSBjb250cm9sbGVycyBhcmUgbm90IHVzaW5nIHNwaV9idXMsIHNvIHdl
IGZpbmQgaXQgd2l0aCBhbm90aGVyIHdheSAqLwo+ICBzdGF0aWMgc3RydWN0IHNwaV9jb250cm9s
bGVyICpvZl9maW5kX3NwaV9jb250cm9sbGVyX2J5X25vZGUoc3RydWN0IGRldmljZV9ub2RlICpu
b2RlKQo+ICB7Cj4gIAlzdHJ1Y3QgZGV2aWNlICpkZXY7Cj4gIAo+IC0JZGV2ID0gY2xhc3NfZmlu
ZF9kZXZpY2UoJnNwaV9tYXN0ZXJfY2xhc3MsIE5VTEwsIG5vZGUsCj4gLQkJCQlfX3NwaV9vZl9j
b250cm9sbGVyX21hdGNoKTsKPiArCWRldiA9IGNsYXNzX2ZpbmRfZGV2aWNlX2J5X29mX25vZGUo
JnNwaV9tYXN0ZXJfY2xhc3MsIG5vZGUpOwo+ICAJaWYgKCFkZXYgJiYgSVNfRU5BQkxFRChDT05G
SUdfU1BJX1NMQVZFKSkKPiAtCQlkZXYgPSBjbGFzc19maW5kX2RldmljZSgmc3BpX3NsYXZlX2Ns
YXNzLCBOVUxMLCBub2RlLAo+IC0JCQkJCV9fc3BpX29mX2NvbnRyb2xsZXJfbWF0Y2gpOwo+ICsJ
CWRldiA9IGNsYXNzX2ZpbmRfZGV2aWNlX2J5X29mX25vZGUoJnNwaV9zbGF2ZV9jbGFzcywgbm9k
ZSk7Cj4gIAlpZiAoIWRldikKPiAgCQlyZXR1cm4gTlVMTDsKPiAgCj4gZGlmZiAtLWdpdCBhL2lu
Y2x1ZGUvbGludXgvZGV2aWNlLmggYi9pbmNsdWRlL2xpbnV4L2RldmljZS5oCj4gaW5kZXggM2Jh
Mzc2YjhiNDU2Li4yOWQ4ZDdhZDQxZTYgMTAwNjQ0Cj4gLS0tIGEvaW5jbHVkZS9saW51eC9kZXZp
Y2UuaAo+ICsrKyBiL2luY2x1ZGUvbGludXgvZGV2aWNlLmgKPiBAQCAtMTg2LDYgKzE4NiwxOCBA
QCBzdGF0aWMgaW5saW5lIHN0cnVjdCBkZXZpY2UgKmJ1c19maW5kX2RldmljZV9ieV9uYW1lKHN0
cnVjdCBidXNfdHlwZSAqYnVzLAo+ICAJcmV0dXJuIGJ1c19maW5kX2RldmljZShidXMsIHN0YXJ0
LCBuYW1lLCBkZXZpY2VfbWF0Y2hfbmFtZSk7Cj4gIH0KPiAgCj4gKy8qKgo+ICsgKiBidXNfZmlu
ZF9kZXZpY2VfYnlfb2Zfbm9kZSA6IGRldmljZSBpdGVyYXRvciBmb3IgbG9jYXRpbmcgYSBwYXJ0
aWN1bGFyIGRldmljZQo+ICsgKiBtYXRjaGluZyB0aGUgb2Zfbm9kZS4KPiArICogQGJ1czogYnVz
IHR5cGUKPiArICogQG5wOiBvZl9ub2RlIG9mIHRoZSBkZXZpY2UgdG8gbWF0Y2guCj4gKyAqLwo+
ICtzdGF0aWMgaW5saW5lIHN0cnVjdCBkZXZpY2UgKgo+ICtidXNfZmluZF9kZXZpY2VfYnlfb2Zf
bm9kZShzdHJ1Y3QgYnVzX3R5cGUgKmJ1cywgY29uc3Qgc3RydWN0IGRldmljZV9ub2RlICpucCkK
PiArewo+ICsJcmV0dXJuIGJ1c19maW5kX2RldmljZShidXMsIE5VTEwsIG5wLCBkZXZpY2VfbWF0
Y2hfb2Zfbm9kZSk7Cj4gK30KPiArCj4gIHN0cnVjdCBkZXZpY2UgKnN1YnN5c19maW5kX2Rldmlj
ZV9ieV9pZChzdHJ1Y3QgYnVzX3R5cGUgKmJ1cywgdW5zaWduZWQgaW50IGlkLAo+ICAJCQkJCXN0
cnVjdCBkZXZpY2UgKmhpbnQpOwo+ICBpbnQgYnVzX2Zvcl9lYWNoX2RydihzdHJ1Y3QgYnVzX3R5
cGUgKmJ1cywgc3RydWN0IGRldmljZV9kcml2ZXIgKnN0YXJ0LAo+IEBAIC0zNjYsNiArMzc4LDE5
IEBAIHN0YXRpYyBpbmxpbmUgc3RydWN0IGRldmljZSAqZHJpdmVyX2ZpbmRfZGV2aWNlX2J5X25h
bWUoc3RydWN0IGRldmljZV9kcml2ZXIgKmRyCj4gIAlyZXR1cm4gZHJpdmVyX2ZpbmRfZGV2aWNl
KGRydiwgTlVMTCwgbmFtZSwgZGV2aWNlX21hdGNoX25hbWUpOwo+ICB9Cj4gIAo+ICsvKioKPiAr
ICogZHJpdmVyX2ZpbmRfZGV2aWNlX2J5X29mX25vZGUtIGRldmljZSBpdGVyYXRvciBmb3IgbG9j
YXRpbmcgYSBwYXJ0aWN1bGFyIGRldmljZQo+ICsgKiBieSBvZl9ub2RlIHBvaW50ZXIuCj4gKyAq
IEBkcml2ZXI6IHRoZSBkcml2ZXIgd2UncmUgaXRlcmF0aW5nCj4gKyAqIEBucDogb2Zfbm9kZSBw
b2ludGVyIHRvIG1hdGNoLgo+ICsgKi8KPiArc3RhdGljIGlubGluZSBzdHJ1Y3QgZGV2aWNlICoK
PiArZHJpdmVyX2ZpbmRfZGV2aWNlX2J5X29mX25vZGUoc3RydWN0IGRldmljZV9kcml2ZXIgKmRy
diwKPiArCQkJICAgICAgY29uc3Qgc3RydWN0IGRldmljZV9ub2RlICpucCkKPiArewo+ICsJcmV0
dXJuIGRyaXZlcl9maW5kX2RldmljZShkcnYsIE5VTEwsIG5wLCBkZXZpY2VfbWF0Y2hfb2Zfbm9k
ZSk7Cj4gK30KPiArCj4gIHZvaWQgZHJpdmVyX2RlZmVycmVkX3Byb2JlX2FkZChzdHJ1Y3QgZGV2
aWNlICpkZXYpOwo+ICBpbnQgZHJpdmVyX2RlZmVycmVkX3Byb2JlX2NoZWNrX3N0YXRlKHN0cnVj
dCBkZXZpY2UgKmRldik7Cj4gIGludCBkcml2ZXJfZGVmZXJyZWRfcHJvYmVfY2hlY2tfc3RhdGVf
Y29udGludWUoc3RydWN0IGRldmljZSAqZGV2KTsKPiBAQCAtNTA3LDYgKzUzMiwxOCBAQCBzdGF0
aWMgaW5saW5lIHN0cnVjdCBkZXZpY2UgKmNsYXNzX2ZpbmRfZGV2aWNlX2J5X25hbWUoc3RydWN0
IGNsYXNzICpjbGFzcywKPiAgCXJldHVybiBjbGFzc19maW5kX2RldmljZShjbGFzcywgTlVMTCwg
bmFtZSwgZGV2aWNlX21hdGNoX25hbWUpOwo+ICB9Cj4gIAo+ICsvKioKPiArICogY2xhc3NfZmlu
ZF9kZXZpY2VfYnlfb2Zfbm9kZSA6IGRldmljZSBpdGVyYXRvciBmb3IgbG9jYXRpbmcgYSBwYXJ0
aWN1bGFyIGRldmljZQo+ICsgKiBtYXRjaGluZyB0aGUgb2Zfbm9kZS4KPiArICogQGNsYXNzOiBj
bGFzcyB0eXBlCj4gKyAqIEBucDogb2Zfbm9kZSBvZiB0aGUgZGV2aWNlIHRvIG1hdGNoLgo+ICsg
Ki8KPiArc3RhdGljIGlubGluZSBzdHJ1Y3QgZGV2aWNlICoKPiArY2xhc3NfZmluZF9kZXZpY2Vf
Ynlfb2Zfbm9kZShzdHJ1Y3QgY2xhc3MgKmNsYXNzLCBjb25zdCBzdHJ1Y3QgZGV2aWNlX25vZGUg
Km5wKQo+ICt7Cj4gKwlyZXR1cm4gY2xhc3NfZmluZF9kZXZpY2UoY2xhc3MsIE5VTEwsIG5wLCBk
ZXZpY2VfbWF0Y2hfb2Zfbm9kZSk7Cj4gK30KPiArCj4gIHN0cnVjdCBjbGFzc19hdHRyaWJ1dGUg
ewo+ICAJc3RydWN0IGF0dHJpYnV0ZSBhdHRyOwo+ICAJc3NpemVfdCAoKnNob3cpKHN0cnVjdCBj
bGFzcyAqY2xhc3MsIHN0cnVjdCBjbGFzc19hdHRyaWJ1dGUgKmF0dHIsCj4gZGlmZiAtLWdpdCBh
L3NvdW5kL3NvYy9yb2NrY2hpcC9yazMzOTlfZ3J1X3NvdW5kLmMgYi9zb3VuZC9zb2Mvcm9ja2No
aXAvcmszMzk5X2dydV9zb3VuZC5jCj4gaW5kZXggYzE2YjBmZmU4Y2ZjLi5kOTUxMTAwYmY3NzAg
MTAwNjQ0Cj4gLS0tIGEvc291bmQvc29jL3JvY2tjaGlwL3JrMzM5OV9ncnVfc291bmQuYwo+ICsr
KyBiL3NvdW5kL3NvYy9yb2NrY2hpcC9yazMzOTlfZ3J1X3NvdW5kLmMKPiBAQCAtNDIyLDExICs0
MjIsNiBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGRhaWxpbmtfbWF0Y2hfZGF0YSBkYWlsaW5rX21h
dGNoW10gPSB7Cj4gIAl9LAo+ICB9Owo+ICAKPiAtc3RhdGljIGludCBvZl9kZXZfbm9kZV9tYXRj
aChzdHJ1Y3QgZGV2aWNlICpkZXYsIGNvbnN0IHZvaWQgKmRhdGEpCj4gLXsKPiAtCXJldHVybiBk
ZXYtPm9mX25vZGUgPT0gZGF0YTsKPiAtfQo+IC0KPiAgc3RhdGljIGludCByb2NrY2hpcF9zb3Vu
ZF9jb2RlY19ub2RlX21hdGNoKHN0cnVjdCBkZXZpY2Vfbm9kZSAqbnBfY29kZWMpCj4gIHsKPiAg
CXN0cnVjdCBkZXZpY2UgKmRldjsKPiBAQCAtNDM4LDggKzQzMyw4IEBAIHN0YXRpYyBpbnQgcm9j
a2NoaXBfc291bmRfY29kZWNfbm9kZV9tYXRjaChzdHJ1Y3QgZGV2aWNlX25vZGUgKm5wX2NvZGVj
KQo+ICAJCQljb250aW51ZTsKPiAgCj4gIAkJaWYgKGRhaWxpbmtfbWF0Y2hbaV0uYnVzX3R5cGUp
IHsKPiAtCQkJZGV2ID0gYnVzX2ZpbmRfZGV2aWNlKGRhaWxpbmtfbWF0Y2hbaV0uYnVzX3R5cGUs
IE5VTEwsCj4gLQkJCQkJICAgICAgbnBfY29kZWMsIG9mX2Rldl9ub2RlX21hdGNoKTsKPiArCQkJ
ZGV2ID0gYnVzX2ZpbmRfZGV2aWNlX2J5X29mX25vZGUoZGFpbGlua19tYXRjaFtpXS5idXNfdHlw
ZSwKPiArCQkJCQkJCSBucF9jb2RlYyk7Cj4gIAkJCWlmICghZGV2KQo+ICAJCQkJY29udGludWU7
Cj4gIAkJCXB1dF9kZXZpY2UoZGV2KTsKPiAtLSAKPiAyLjIxLjAKPiAKClRoYW5rcywKTW9yaXR6
Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZl
bCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xp
c3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
