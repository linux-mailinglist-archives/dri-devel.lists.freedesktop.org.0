Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 71D9B6A51D
	for <lists+dri-devel@lfdr.de>; Tue, 16 Jul 2019 11:43:22 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 366E06E0F5;
	Tue, 16 Jul 2019 09:43:20 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-pg1-x54a.google.com (mail-pg1-x54a.google.com
 [IPv6:2607:f8b0:4864:20::54a])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7794C6E0F4
 for <dri-devel@lists.freedesktop.org>; Tue, 16 Jul 2019 09:43:18 +0000 (UTC)
Received: by mail-pg1-x54a.google.com with SMTP id n3so2464985pgh.12
 for <dri-devel@lists.freedesktop.org>; Tue, 16 Jul 2019 02:43:18 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:date:in-reply-to:message-id:mime-version
 :references:subject:from:to:cc;
 bh=/NAvbkNY3XdSXTy//N2m79MHXY3yRzFBsNtG5QpIXIQ=;
 b=fk5rmREthRrPRDKBc0RfBnBpVef0Td/kCR9g2XlE8naneMKFgCfLVj9UKaTac0/pfq
 t6CLmxyiQS4+8C730TskuOSX8RaBQinqyDvY1Lg9aU10VvKUmnIM7NcirLvcDMo2NO1a
 H0t4EtfrZeCQ0BCNzuWlOuhhwuMyYF1vnufBLTysFexABvo4UTW+s3umlXyjw1xXhE2G
 dn67d3QM1ixWA5nnPrtk1OcdjEGb6QqoAkRFuPAiv15ENWds/tNeNxsQ5GQgmAeWPyKG
 bOY2kWj9S4LPLIHztah6DPXDI+o+enzyKB16Hb+imsVliPEWNz49M717Q1THpEoWs3s1
 u+ig==
X-Gm-Message-State: APjAAAXP4/SL6Uo6W47W1z212pgXgmLRe9aYmlf9F3NUqKuURTVLKKnk
 VFVJ9Si5KiAs2q5x8JrAEBti/ItbzmvbI0unYBO8qg==
X-Google-Smtp-Source: APXvYqw/Xdej96KfBLDFOEAMXThHl1utKJUV5cBRGvYVycrwLJFZnceEmKNz4YQQvtgJ3SO2zjo/dgcrAMcW/b1mecc58w==
X-Received: by 2002:a63:5964:: with SMTP id j36mr31865122pgm.428.1563270197451; 
 Tue, 16 Jul 2019 02:43:17 -0700 (PDT)
Date: Tue, 16 Jul 2019 02:42:47 -0700
In-Reply-To: <20190716094302.180360-1-brendanhiggins@google.com>
Message-Id: <20190716094302.180360-4-brendanhiggins@google.com>
Mime-Version: 1.0
References: <20190716094302.180360-1-brendanhiggins@google.com>
X-Mailer: git-send-email 2.22.0.510.g264f2c817a-goog
Subject: [PATCH v10 03/18] kunit: test: add string_stream a std::stream like
 string builder
From: Brendan Higgins <brendanhiggins@google.com>
To: frowand.list@gmail.com, gregkh@linuxfoundation.org, jpoimboe@redhat.com, 
 keescook@google.com, kieran.bingham@ideasonboard.com, mcgrof@kernel.org, 
 peterz@infradead.org, robh@kernel.org, sboyd@kernel.org, shuah@kernel.org, 
 tytso@mit.edu, yamada.masahiro@socionext.com
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=google.com; s=20161025;
 h=date:in-reply-to:message-id:mime-version:references:subject:from:to
 :cc;
 bh=/NAvbkNY3XdSXTy//N2m79MHXY3yRzFBsNtG5QpIXIQ=;
 b=DeQWMX0fzpSzYd2d5RlG1aPh0IyQ5r1D3NurGdITgqstHLYBXjntIv/Xl+sUBmMzNd
 Jt4MjxcgfzgdI2rGHsfgZPprtXj1n0zTOb9WrcxyH/FaKBLJ1HzzMJ4uiwnk8Yb6WqZR
 jhNSO3shXOIkvzpUN1AHjpBW/+1RmWKeXQHUIJVrV+53Bsgf88q+6akkEHYMvkNjNiGH
 3MDyOGYGbkR4JeAKm2dkK+FlSI4iDffwNpmHqRYJq/yxPrcV9NCQjEfyNbFOw5bhQmPz
 Kr/80pMWg02H614l6+q/YzTnA75gM/e9WKyiTf32kBl+0DBo44wTFjmK/gd6+jopha+v
 cT3Q==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: pmladek@suse.com, linux-doc@vger.kernel.org, amir73il@gmail.com,
 Brendan Higgins <brendanhiggins@google.com>, dri-devel@lists.freedesktop.org,
 Alexander.Levin@microsoft.com, linux-kselftest@vger.kernel.org,
 linux-nvdimm@lists.01.org, khilman@baylibre.com, knut.omang@oracle.com,
 wfg@linux.intel.com, joel@jms.id.au, rientjes@google.com, jdike@addtoit.com,
 dan.carpenter@oracle.com, devicetree@vger.kernel.org,
 linux-kbuild@vger.kernel.org, Tim.Bird@sony.com, linux-um@lists.infradead.org,
 rostedt@goodmis.org, julia.lawall@lip6.fr, kunit-dev@googlegroups.com,
 richard@nod.at, rdunlap@infradead.org, linux-kernel@vger.kernel.org,
 mpe@ellerman.id.au, linux-fsdevel@vger.kernel.org, logang@deltatee.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QSBudW1iZXIgb2YgdGVzdCBmZWF0dXJlcyBuZWVkIHRvIGRvIHByZXR0eSBjb21wbGljYXRlZCBz
dHJpbmcgcHJpbnRpbmcKd2hlcmUgaXQgbWF5IG5vdCBiZSBwb3NzaWJsZSB0byByZWx5IG9uIGEg
c2luZ2xlIHByZWFsbG9jYXRlZCBzdHJpbmcKd2l0aCBwYXJhbWV0ZXJzLgoKU28gcHJvdmlkZSBh
IGxpYnJhcnkgZm9yIGNvbnN0cnVjdGluZyB0aGUgc3RyaW5nIGFzIHlvdSBnbyBzaW1pbGFyIHRv
CkMrKydzIHN0ZDo6c3RyaW5nLgoKU2lnbmVkLW9mZi1ieTogQnJlbmRhbiBIaWdnaW5zIDxicmVu
ZGFuaGlnZ2luc0Bnb29nbGUuY29tPgpSZXZpZXdlZC1ieTogR3JlZyBLcm9haC1IYXJ0bWFuIDxn
cmVna2hAbGludXhmb3VuZGF0aW9uLm9yZz4KUmV2aWV3ZWQtYnk6IExvZ2FuIEd1bnRob3JwZSA8
bG9nYW5nQGRlbHRhdGVlLmNvbT4KLS0tCiBpbmNsdWRlL2t1bml0L3N0cmluZy1zdHJlYW0uaCB8
ICA1MSArKysrKysrKysrKysKIGt1bml0L01ha2VmaWxlICAgICAgICAgICAgICAgIHwgICAzICst
CiBrdW5pdC9zdHJpbmctc3RyZWFtLmMgICAgICAgICB8IDE0NCArKysrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrCiAzIGZpbGVzIGNoYW5nZWQsIDE5NyBpbnNlcnRpb25zKCspLCAxIGRl
bGV0aW9uKC0pCiBjcmVhdGUgbW9kZSAxMDA2NDQgaW5jbHVkZS9rdW5pdC9zdHJpbmctc3RyZWFt
LmgKIGNyZWF0ZSBtb2RlIDEwMDY0NCBrdW5pdC9zdHJpbmctc3RyZWFtLmMKCmRpZmYgLS1naXQg
YS9pbmNsdWRlL2t1bml0L3N0cmluZy1zdHJlYW0uaCBiL2luY2x1ZGUva3VuaXQvc3RyaW5nLXN0
cmVhbS5oCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAwMDAuLjM5MGQxMThj
NDE0OTkKLS0tIC9kZXYvbnVsbAorKysgYi9pbmNsdWRlL2t1bml0L3N0cmluZy1zdHJlYW0uaApA
QCAtMCwwICsxLDUxIEBACisvKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMCAqLwor
LyoKKyAqIEMrKyBzdHJlYW0gc3R5bGUgc3RyaW5nIGJ1aWxkZXIgdXNlZCBpbiBLVW5pdCBmb3Ig
YnVpbGRpbmcgbWVzc2FnZXMuCisgKgorICogQ29weXJpZ2h0IChDKSAyMDE5LCBHb29nbGUgTExD
LgorICogQXV0aG9yOiBCcmVuZGFuIEhpZ2dpbnMgPGJyZW5kYW5oaWdnaW5zQGdvb2dsZS5jb20+
CisgKi8KKworI2lmbmRlZiBfS1VOSVRfU1RSSU5HX1NUUkVBTV9ICisjZGVmaW5lIF9LVU5JVF9T
VFJJTkdfU1RSRUFNX0gKKworI2luY2x1ZGUgPGxpbnV4L3R5cGVzLmg+CisjaW5jbHVkZSA8bGlu
dXgvbXV0ZXguaD4KKyNpbmNsdWRlIDxzdGRhcmcuaD4KKworc3RydWN0IHN0cmluZ19zdHJlYW1f
ZnJhZ21lbnQgeworCXN0cnVjdCBsaXN0X2hlYWQgbm9kZTsKKwljaGFyICpmcmFnbWVudDsKK307
CisKK3N0cnVjdCBzdHJpbmdfc3RyZWFtIHsKKwlzaXplX3QgbGVuZ3RoOworCXN0cnVjdCBsaXN0
X2hlYWQgZnJhZ21lbnRzOworCS8qIGxlbmd0aCBhbmQgZnJhZ21lbnRzIGFyZSBwcm90ZWN0ZWQg
YnkgdGhpcyBsb2NrICovCisJc3RydWN0IG11dGV4IGxvY2s7Cit9OworCitzdHJ1Y3Qga3VuaXQ7
CisKK3N0cnVjdCBzdHJpbmdfc3RyZWFtICphbGxvY19zdHJpbmdfc3RyZWFtKHN0cnVjdCBrdW5p
dCAqdGVzdCk7CisKK3ZvaWQgc3RyaW5nX3N0cmVhbV9nZXQoc3RydWN0IHN0cmluZ19zdHJlYW0g
KnN0cmVhbSk7CisKK2ludCBzdHJpbmdfc3RyZWFtX3B1dChzdHJ1Y3Qgc3RyaW5nX3N0cmVhbSAq
c3RyZWFtKTsKKworaW50IHN0cmluZ19zdHJlYW1fYWRkKHN0cnVjdCBzdHJpbmdfc3RyZWFtICpz
dHJlYW0sIGNvbnN0IGNoYXIgKmZtdCwgLi4uKTsKKworaW50IHN0cmluZ19zdHJlYW1fdmFkZChz
dHJ1Y3Qgc3RyaW5nX3N0cmVhbSAqc3RyZWFtLAorCQkgICAgICAgY29uc3QgY2hhciAqZm10LAor
CQkgICAgICAgdmFfbGlzdCBhcmdzKTsKKworY2hhciAqc3RyaW5nX3N0cmVhbV9nZXRfc3RyaW5n
KHN0cnVjdCBzdHJpbmdfc3RyZWFtICpzdHJlYW0pOworCitpbnQgc3RyaW5nX3N0cmVhbV9hcHBl
bmQoc3RydWN0IHN0cmluZ19zdHJlYW0gKnN0cmVhbSwKKwkJCSBzdHJ1Y3Qgc3RyaW5nX3N0cmVh
bSAqb3RoZXIpOworCit2b2lkIHN0cmluZ19zdHJlYW1fY2xlYXIoc3RydWN0IHN0cmluZ19zdHJl
YW0gKnN0cmVhbSk7CisKK2Jvb2wgc3RyaW5nX3N0cmVhbV9pc19lbXB0eShzdHJ1Y3Qgc3RyaW5n
X3N0cmVhbSAqc3RyZWFtKTsKKworI2VuZGlmIC8qIF9LVU5JVF9TVFJJTkdfU1RSRUFNX0ggKi8K
ZGlmZiAtLWdpdCBhL2t1bml0L01ha2VmaWxlIGIva3VuaXQvTWFrZWZpbGUKaW5kZXggNWVmZGM0
ZGVhMmMwOC4uMjc1YjU2NWEwZTgxZiAxMDA2NDQKLS0tIGEva3VuaXQvTWFrZWZpbGUKKysrIGIv
a3VuaXQvTWFrZWZpbGUKQEAgLTEgKzEsMiBAQAotb2JqLSQoQ09ORklHX0tVTklUKSArPQkJCXRl
c3Qubworb2JqLSQoQ09ORklHX0tVTklUKSArPQkJCXRlc3QubyBcCisJCQkJCXN0cmluZy1zdHJl
YW0ubwpkaWZmIC0tZ2l0IGEva3VuaXQvc3RyaW5nLXN0cmVhbS5jIGIva3VuaXQvc3RyaW5nLXN0
cmVhbS5jCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAwMDAuLjVlNzkwNmZm
YzdmYTEKLS0tIC9kZXYvbnVsbAorKysgYi9rdW5pdC9zdHJpbmctc3RyZWFtLmMKQEAgLTAsMCAr
MSwxNDQgQEAKKy8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wCisvKgorICogQysr
IHN0cmVhbSBzdHlsZSBzdHJpbmcgYnVpbGRlciB1c2VkIGluIEtVbml0IGZvciBidWlsZGluZyBt
ZXNzYWdlcy4KKyAqCisgKiBDb3B5cmlnaHQgKEMpIDIwMTksIEdvb2dsZSBMTEMuCisgKiBBdXRo
b3I6IEJyZW5kYW4gSGlnZ2lucyA8YnJlbmRhbmhpZ2dpbnNAZ29vZ2xlLmNvbT4KKyAqLworCisj
aW5jbHVkZSA8bGludXgvbGlzdC5oPgorI2luY2x1ZGUgPGxpbnV4L3NsYWIuaD4KKyNpbmNsdWRl
IDxrdW5pdC9zdHJpbmctc3RyZWFtLmg+CisjaW5jbHVkZSA8a3VuaXQvdGVzdC5oPgorCitpbnQg
c3RyaW5nX3N0cmVhbV92YWRkKHN0cnVjdCBzdHJpbmdfc3RyZWFtICpzdHJlYW0sCisJCSAgICAg
ICBjb25zdCBjaGFyICpmbXQsCisJCSAgICAgICB2YV9saXN0IGFyZ3MpCit7CisJc3RydWN0IHN0
cmluZ19zdHJlYW1fZnJhZ21lbnQgKmZyYWdfY29udGFpbmVyOworCWludCBsZW47CisJdmFfbGlz
dCBhcmdzX2Zvcl9jb3VudGluZzsKKworCS8qIE1ha2UgYSBjb3B5IGJlY2F1c2UgYHZzbnByaW50
ZmAgY291bGQgY2hhbmdlIGl0ICovCisJdmFfY29weShhcmdzX2Zvcl9jb3VudGluZywgYXJncyk7
CisKKwkvKiBOZWVkIHNwYWNlIGZvciBudWxsIGJ5dGUuICovCisJbGVuID0gdnNucHJpbnRmKE5V
TEwsIDAsIGZtdCwgYXJnc19mb3JfY291bnRpbmcpICsgMTsKKworCXZhX2VuZChhcmdzX2Zvcl9j
b3VudGluZyk7CisKKwlmcmFnX2NvbnRhaW5lciA9IGttYWxsb2Moc2l6ZW9mKCpmcmFnX2NvbnRh
aW5lciksIEdGUF9LRVJORUwpOworCWlmICghZnJhZ19jb250YWluZXIpCisJCXJldHVybiAtRU5P
TUVNOworCisJZnJhZ19jb250YWluZXItPmZyYWdtZW50ID0ga21hbGxvYyhsZW4sIEdGUF9LRVJO
RUwpOworCWlmICghZnJhZ19jb250YWluZXItPmZyYWdtZW50KSB7CisJCWtmcmVlKGZyYWdfY29u
dGFpbmVyKTsKKwkJcmV0dXJuIC1FTk9NRU07CisJfQorCisJbGVuID0gdnNucHJpbnRmKGZyYWdf
Y29udGFpbmVyLT5mcmFnbWVudCwgbGVuLCBmbXQsIGFyZ3MpOworCW11dGV4X2xvY2soJnN0cmVh
bS0+bG9jayk7CisJc3RyZWFtLT5sZW5ndGggKz0gbGVuOworCWxpc3RfYWRkX3RhaWwoJmZyYWdf
Y29udGFpbmVyLT5ub2RlLCAmc3RyZWFtLT5mcmFnbWVudHMpOworCW11dGV4X3VubG9jaygmc3Ry
ZWFtLT5sb2NrKTsKKworCXJldHVybiAwOworfQorCitpbnQgc3RyaW5nX3N0cmVhbV9hZGQoc3Ry
dWN0IHN0cmluZ19zdHJlYW0gKnN0cmVhbSwgY29uc3QgY2hhciAqZm10LCAuLi4pCit7CisJdmFf
bGlzdCBhcmdzOworCWludCByZXN1bHQ7CisKKwl2YV9zdGFydChhcmdzLCBmbXQpOworCXJlc3Vs
dCA9IHN0cmluZ19zdHJlYW1fdmFkZChzdHJlYW0sIGZtdCwgYXJncyk7CisJdmFfZW5kKGFyZ3Mp
OworCisJcmV0dXJuIHJlc3VsdDsKK30KKwordm9pZCBzdHJpbmdfc3RyZWFtX2NsZWFyKHN0cnVj
dCBzdHJpbmdfc3RyZWFtICpzdHJlYW0pCit7CisJc3RydWN0IHN0cmluZ19zdHJlYW1fZnJhZ21l
bnQgKmZyYWdfY29udGFpbmVyLCAqZnJhZ19jb250YWluZXJfc2FmZTsKKworCW11dGV4X2xvY2so
JnN0cmVhbS0+bG9jayk7CisJbGlzdF9mb3JfZWFjaF9lbnRyeV9zYWZlKGZyYWdfY29udGFpbmVy
LAorCQkJCSBmcmFnX2NvbnRhaW5lcl9zYWZlLAorCQkJCSAmc3RyZWFtLT5mcmFnbWVudHMsCisJ
CQkJIG5vZGUpIHsKKwkJbGlzdF9kZWwoJmZyYWdfY29udGFpbmVyLT5ub2RlKTsKKwkJa2ZyZWUo
ZnJhZ19jb250YWluZXItPmZyYWdtZW50KTsKKwkJa2ZyZWUoZnJhZ19jb250YWluZXIpOworCX0K
KwlzdHJlYW0tPmxlbmd0aCA9IDA7CisJbXV0ZXhfdW5sb2NrKCZzdHJlYW0tPmxvY2spOworfQor
CitjaGFyICpzdHJpbmdfc3RyZWFtX2dldF9zdHJpbmcoc3RydWN0IHN0cmluZ19zdHJlYW0gKnN0
cmVhbSkKK3sKKwlzdHJ1Y3Qgc3RyaW5nX3N0cmVhbV9mcmFnbWVudCAqZnJhZ19jb250YWluZXI7
CisJc2l6ZV90IGJ1Zl9sZW4gPSBzdHJlYW0tPmxlbmd0aCArIDE7IC8qICsxIGZvciBudWxsIGJ5
dGUuICovCisJY2hhciAqYnVmOworCisJYnVmID0ga3phbGxvYyhidWZfbGVuLCBHRlBfS0VSTkVM
KTsKKwlpZiAoIWJ1ZikKKwkJcmV0dXJuIE5VTEw7CisKKwltdXRleF9sb2NrKCZzdHJlYW0tPmxv
Y2spOworCWxpc3RfZm9yX2VhY2hfZW50cnkoZnJhZ19jb250YWluZXIsICZzdHJlYW0tPmZyYWdt
ZW50cywgbm9kZSkKKwkJc3RybGNhdChidWYsIGZyYWdfY29udGFpbmVyLT5mcmFnbWVudCwgYnVm
X2xlbik7CisJbXV0ZXhfdW5sb2NrKCZzdHJlYW0tPmxvY2spOworCisJcmV0dXJuIGJ1ZjsKK30K
KworaW50IHN0cmluZ19zdHJlYW1fYXBwZW5kKHN0cnVjdCBzdHJpbmdfc3RyZWFtICpzdHJlYW0s
CisJCQkgc3RydWN0IHN0cmluZ19zdHJlYW0gKm90aGVyKQoreworCWNvbnN0IGNoYXIgKm90aGVy
X2NvbnRlbnQ7CisKKwlvdGhlcl9jb250ZW50ID0gc3RyaW5nX3N0cmVhbV9nZXRfc3RyaW5nKG90
aGVyKTsKKworCWlmICghb3RoZXJfY29udGVudCkKKwkJcmV0dXJuIC1FTk9NRU07CisKKwlyZXR1
cm4gc3RyaW5nX3N0cmVhbV9hZGQoc3RyZWFtLCBvdGhlcl9jb250ZW50KTsKK30KKworYm9vbCBz
dHJpbmdfc3RyZWFtX2lzX2VtcHR5KHN0cnVjdCBzdHJpbmdfc3RyZWFtICpzdHJlYW0pCit7CisJ
cmV0dXJuIGxpc3RfZW1wdHkoJnN0cmVhbS0+ZnJhZ21lbnRzKTsKK30KKworc3RhdGljIGludCBz
dHJpbmdfc3RyZWFtX2luaXQoc3RydWN0IGt1bml0X3Jlc291cmNlICpyZXMsIHZvaWQgKmNvbnRl
eHQpCit7CisJc3RydWN0IHN0cmluZ19zdHJlYW0gKnN0cmVhbTsKKworCXN0cmVhbSA9IGt6YWxs
b2Moc2l6ZW9mKCpzdHJlYW0pLCBHRlBfS0VSTkVMKTsKKwlpZiAoIXN0cmVhbSkKKwkJcmV0dXJu
IC1FTk9NRU07CisKKwlyZXMtPmFsbG9jYXRpb24gPSBzdHJlYW07CisJSU5JVF9MSVNUX0hFQUQo
JnN0cmVhbS0+ZnJhZ21lbnRzKTsKKwltdXRleF9pbml0KCZzdHJlYW0tPmxvY2spOworCisJcmV0
dXJuIDA7Cit9CisKK3N0YXRpYyB2b2lkIHN0cmluZ19zdHJlYW1fZnJlZShzdHJ1Y3Qga3VuaXRf
cmVzb3VyY2UgKnJlcykKK3sKKwlzdHJ1Y3Qgc3RyaW5nX3N0cmVhbSAqc3RyZWFtID0gcmVzLT5h
bGxvY2F0aW9uOworCisJc3RyaW5nX3N0cmVhbV9jbGVhcihzdHJlYW0pOworCWtmcmVlKHN0cmVh
bSk7Cit9CisKK3N0cnVjdCBzdHJpbmdfc3RyZWFtICphbGxvY19zdHJpbmdfc3RyZWFtKHN0cnVj
dCBrdW5pdCAqdGVzdCkKK3sKKwlyZXR1cm4ga3VuaXRfYWxsb2NfcmVzb3VyY2UodGVzdCwKKwkJ
CQkgICAgc3RyaW5nX3N0cmVhbV9pbml0LAorCQkJCSAgICBzdHJpbmdfc3RyZWFtX2ZyZWUsCisJ
CQkJICAgIEdGUF9LRVJORUwsCisJCQkJICAgIE5VTEwpOworfQotLSAKMi4yMi4wLjUxMC5nMjY0
ZjJjODE3YS1nb29nCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2
ZWw=
