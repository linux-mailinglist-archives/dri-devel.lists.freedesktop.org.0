Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 30295116F42
	for <lists+dri-devel@lfdr.de>; Mon,  9 Dec 2019 15:42:45 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7E2EC6E483;
	Mon,  9 Dec 2019 14:42:34 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from fllv0015.ext.ti.com (fllv0015.ext.ti.com [198.47.19.141])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0F4126E47B
 for <dri-devel@lists.freedesktop.org>; Mon,  9 Dec 2019 14:42:29 +0000 (UTC)
Received: from lelv0265.itg.ti.com ([10.180.67.224])
 by fllv0015.ext.ti.com (8.15.2/8.15.2) with ESMTP id xB9EgN4O068939;
 Mon, 9 Dec 2019 08:42:23 -0600
Received: from DLEE104.ent.ti.com (dlee104.ent.ti.com [157.170.170.34])
 by lelv0265.itg.ti.com (8.15.2/8.15.2) with ESMTPS id xB9EgN2w113612
 (version=TLSv1.2 cipher=AES256-GCM-SHA384 bits=256 verify=FAIL);
 Mon, 9 Dec 2019 08:42:23 -0600
Received: from DLEE115.ent.ti.com (157.170.170.26) by DLEE104.ent.ti.com
 (157.170.170.34) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256_P256) id 15.1.1847.3; Mon, 9 Dec
 2019 08:42:22 -0600
Received: from lelv0327.itg.ti.com (10.180.67.183) by DLEE115.ent.ti.com
 (157.170.170.26) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256_P256) id 15.1.1847.3 via
 Frontend Transport; Mon, 9 Dec 2019 08:42:22 -0600
Received: from jadmar.ti.com (ileax41-snat.itg.ti.com [10.172.224.153])
 by lelv0327.itg.ti.com (8.15.2/8.15.2) with ESMTP id xB9EgGvf122297;
 Mon, 9 Dec 2019 08:42:19 -0600
From: Jyri Sarha <jsarha@ti.com>
To: <dri-devel@lists.freedesktop.org>, <tony@atomide.com>, <sam@ravnborg.org>, 
 <robh+dt@kernel.org>, <devicetree@vger.kernel.org>,
 <linux-omap@vger.kernel.org>
Subject: [PATCH v2 1/3] drm/tilcdc: Remove obsolete bundled tilcdc tfp410
 driver
Date: Mon, 9 Dec 2019 16:42:14 +0200
Message-ID: <6e2db6c328467cc51e8d633ecb0ffa7c5736f2e8.1575901747.git.jsarha@ti.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <cover.1575901747.git.jsarha@ti.com>
References: <cover.1575901747.git.jsarha@ti.com>
MIME-Version: 1.0
X-EXCLAIMER-MD-CONFIG: e1e8a2fd-e40a-4ac6-ac9b-f7e9cc9ee180
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ti.com; s=ti-com-17Q1; t=1575902543;
 bh=k5rSevz2bhqdqJXuXiYu2D6FNxRhanGY1EH3qKuH7dk=;
 h=From:To:CC:Subject:Date:In-Reply-To:References;
 b=DQdnGDkPbfXWaLoTS5j2MVUkcPsgL5wqOMLlO+uf30S6X3CS4YE8/9+hu3o3XOVuE
 D+ydtNMApdo5vvrIPeXjAi+g+VX78bnN9VF59CZldsdg4Egz3gMOCqpr8PR7W810ed
 D7x1rhU0e6nRFMuJItX3z7c1tm+dTFzszY/qYiXs=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: peter.ujfalusi@ti.com, tomi.valkeinen@ti.com,
 laurent.pinchart@ideasonboard.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

UmVtb3ZlIG9ic29sZXRlIGJ1bmRsZWQgdGZwNDEwIGRyaXZlciB3aXRoIGl0cyAidGksdGlsY2Rj
LHRmcDQxMCIKZGV2aWNldHJlZSBiaW5kaW5nLiBObyBwbGF0Zm9ybSBoYXMgZXZlciB1c2VkIHRo
aXMgZHJpdmVyIGluIHRoZQptYWlubGluZSBrZXJuZWwgYW5kIGlmIGFueWJvZHkgY29ubmVjdHMg
dGZwNDEwIHRvIHRpbGNkYyBoZSBvciBzaGUKc2hvdWxkIHVzZSB0aGUgZ2VuZXJpYyBkcm0gdGZw
NDEwIGJyaWRnZSBkcml2ZXIuCgpTaWduZWQtb2ZmLWJ5OiBKeXJpIFNhcmhhIDxqc2FyaGFAdGku
Y29tPgpSZXZpZXdlZC1ieTogTGF1cmVudCBQaW5jaGFydCA8bGF1cmVudC5waW5jaGFydEBpZGVh
c29uYm9hcmQuY29tPgotLS0KIC4uLi9iaW5kaW5ncy9kaXNwbGF5L3RpbGNkYy90ZnA0MTAudHh0
ICAgICAgICB8ICAyMSAtCiBkcml2ZXJzL2dwdS9kcm0vdGlsY2RjL01ha2VmaWxlICAgICAgICAg
ICAgICAgfCAgIDEgLQogZHJpdmVycy9ncHUvZHJtL3RpbGNkYy90aWxjZGNfZHJ2LmMgICAgICAg
ICAgIHwgICAzIC0KIGRyaXZlcnMvZ3B1L2RybS90aWxjZGMvdGlsY2RjX3RmcDQxMC5jICAgICAg
ICB8IDM3OSAtLS0tLS0tLS0tLS0tLS0tLS0KIGRyaXZlcnMvZ3B1L2RybS90aWxjZGMvdGlsY2Rj
X3RmcDQxMC5oICAgICAgICB8ICAxNSAtCiA1IGZpbGVzIGNoYW5nZWQsIDQxOSBkZWxldGlvbnMo
LSkKIGRlbGV0ZSBtb2RlIDEwMDY0NCBEb2N1bWVudGF0aW9uL2RldmljZXRyZWUvYmluZGluZ3Mv
ZGlzcGxheS90aWxjZGMvdGZwNDEwLnR4dAogZGVsZXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1
L2RybS90aWxjZGMvdGlsY2RjX3RmcDQxMC5jCiBkZWxldGUgbW9kZSAxMDA2NDQgZHJpdmVycy9n
cHUvZHJtL3RpbGNkYy90aWxjZGNfdGZwNDEwLmgKCmRpZmYgLS1naXQgYS9Eb2N1bWVudGF0aW9u
L2RldmljZXRyZWUvYmluZGluZ3MvZGlzcGxheS90aWxjZGMvdGZwNDEwLnR4dCBiL0RvY3VtZW50
YXRpb24vZGV2aWNldHJlZS9iaW5kaW5ncy9kaXNwbGF5L3RpbGNkYy90ZnA0MTAudHh0CmRlbGV0
ZWQgZmlsZSBtb2RlIDEwMDY0NAppbmRleCBhNThhZTc3NTZmYzYuLjAwMDAwMDAwMDAwMAotLS0g
YS9Eb2N1bWVudGF0aW9uL2RldmljZXRyZWUvYmluZGluZ3MvZGlzcGxheS90aWxjZGMvdGZwNDEw
LnR4dAorKysgL2Rldi9udWxsCkBAIC0xLDIxICswLDAgQEAKLURldmljZS1UcmVlIGJpbmRpbmdz
IGZvciB0aWxjZGMgRFJNIFRGUDQxMCBvdXRwdXQgZHJpdmVyCi0KLVJlcXVpcmVkIHByb3BlcnRp
ZXM6Ci0gLSBjb21wYXRpYmxlOiB2YWx1ZSBzaG91bGQgYmUgInRpLHRpbGNkYyx0ZnA0MTAiLgot
IC0gaTJjOiB0aGUgcGhhbmRsZSBmb3IgdGhlIGkyYyBkZXZpY2UgdG8gdXNlIGZvciBEREMKLQot
UmVjb21tZW5kZWQgcHJvcGVydGllczoKLSAtIHBpbmN0cmwtbmFtZXMsIHBpbmN0cmwtMDogdGhl
IHBpbmNvbnRyb2wgc2V0dGluZ3MgdG8gY29uZmlndXJlCi0gICBtdXhpbmcgcHJvcGVybHkgZm9y
IHBpbnMgdGhhdCBjb25uZWN0IHRvIFRGUDQxMCBkZXZpY2UKLSAtIHBvd2VyZG4tZ3BpbzogdGhl
IHBvd2VyZG93biBHUElPLCBwdWxsZWQgbG93IHRvIHBvd2VyIGRvd24gdGhlCi0gICBURlA0MTAg
ZGV2aWNlIChmb3IgRFBNU19PRkYpCi0KLUV4YW1wbGU6Ci0KLQlkdmljYXBlIHsKLQkJY29tcGF0
aWJsZSA9ICJ0aSx0aWxjZGMsdGZwNDEwIjsKLQkJaTJjID0gPCZpMmMyPjsKLQkJcGluY3RybC1u
YW1lcyA9ICJkZWZhdWx0IjsKLQkJcGluY3RybC0wID0gPCZib25lX2R2aV9jYXBlX2R2aV8wMEEx
X3BpbnM+OwotCQlwb3dlcmRuLWdwaW8gPSA8JmdwaW8yIDMxIDA+OwotCX07CmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vdGlsY2RjL01ha2VmaWxlIGIvZHJpdmVycy9ncHUvZHJtL3RpbGNk
Yy9NYWtlZmlsZQppbmRleCA4N2Y5NDgwZTQzYjAuLjY2MmJmM2EzNDhjOSAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL3RpbGNkYy9NYWtlZmlsZQorKysgYi9kcml2ZXJzL2dwdS9kcm0vdGls
Y2RjL01ha2VmaWxlCkBAIC02LDcgKzYsNiBAQCBlbmRpZgogdGlsY2RjLXkgOj0gXAogCXRpbGNk
Y19wbGFuZS5vIFwKIAl0aWxjZGNfY3J0Yy5vIFwKLQl0aWxjZGNfdGZwNDEwLm8gXAogCXRpbGNk
Y19wYW5lbC5vIFwKIAl0aWxjZGNfZXh0ZXJuYWwubyBcCiAJdGlsY2RjX2Rydi5vCmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vdGlsY2RjL3RpbGNkY19kcnYuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS90aWxjZGMvdGlsY2RjX2Rydi5jCmluZGV4IDJhOWU2NzU5NzM3NS4uMjA3NDVkYjg2M2ZmIDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vdGlsY2RjL3RpbGNkY19kcnYuYworKysgYi9kcml2
ZXJzL2dwdS9kcm0vdGlsY2RjL3RpbGNkY19kcnYuYwpAQCAtMzAsNyArMzAsNiBAQAogI2luY2x1
ZGUgInRpbGNkY19leHRlcm5hbC5oIgogI2luY2x1ZGUgInRpbGNkY19wYW5lbC5oIgogI2luY2x1
ZGUgInRpbGNkY19yZWdzLmgiCi0jaW5jbHVkZSAidGlsY2RjX3RmcDQxMC5oIgogCiBzdGF0aWMg
TElTVF9IRUFEKG1vZHVsZV9saXN0KTsKIApAQCAtNjQ5LDcgKzY0OCw2IEBAIHN0YXRpYyBzdHJ1
Y3QgcGxhdGZvcm1fZHJpdmVyIHRpbGNkY19wbGF0Zm9ybV9kcml2ZXIgPSB7CiBzdGF0aWMgaW50
IF9faW5pdCB0aWxjZGNfZHJtX2luaXQodm9pZCkKIHsKIAlEQkcoImluaXQiKTsKLQl0aWxjZGNf
dGZwNDEwX2luaXQoKTsKIAl0aWxjZGNfcGFuZWxfaW5pdCgpOwogCXJldHVybiBwbGF0Zm9ybV9k
cml2ZXJfcmVnaXN0ZXIoJnRpbGNkY19wbGF0Zm9ybV9kcml2ZXIpOwogfQpAQCAtNjU5LDcgKzY1
Nyw2IEBAIHN0YXRpYyB2b2lkIF9fZXhpdCB0aWxjZGNfZHJtX2Zpbmkodm9pZCkKIAlEQkcoImZp
bmkiKTsKIAlwbGF0Zm9ybV9kcml2ZXJfdW5yZWdpc3RlcigmdGlsY2RjX3BsYXRmb3JtX2RyaXZl
cik7CiAJdGlsY2RjX3BhbmVsX2ZpbmkoKTsKLQl0aWxjZGNfdGZwNDEwX2ZpbmkoKTsKIH0KIAog
bW9kdWxlX2luaXQodGlsY2RjX2RybV9pbml0KTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS90aWxjZGMvdGlsY2RjX3RmcDQxMC5jIGIvZHJpdmVycy9ncHUvZHJtL3RpbGNkYy90aWxjZGNf
dGZwNDEwLmMKZGVsZXRlZCBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDUzMGVkYjNiNTFjYy4uMDAw
MDAwMDAwMDAwCi0tLSBhL2RyaXZlcnMvZ3B1L2RybS90aWxjZGMvdGlsY2RjX3RmcDQxMC5jCisr
KyAvZGV2L251bGwKQEAgLTEsMzc5ICswLDAgQEAKLS8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVy
OiBHUEwtMi4wLW9ubHkKLS8qCi0gKiBDb3B5cmlnaHQgKEMpIDIwMTIgVGV4YXMgSW5zdHJ1bWVu
dHMKLSAqIEF1dGhvcjogUm9iIENsYXJrIDxyb2JkY2xhcmtAZ21haWwuY29tPgotICovCi0KLSNp
bmNsdWRlIDxsaW51eC9ncGlvLmg+Ci0jaW5jbHVkZSA8bGludXgvbW9kX2RldmljZXRhYmxlLmg+
Ci0jaW5jbHVkZSA8bGludXgvb2ZfZ3Bpby5oPgotI2luY2x1ZGUgPGxpbnV4L3BpbmN0cmwvY29u
c3VtZXIuaD4KLSNpbmNsdWRlIDxsaW51eC9wbGF0Zm9ybV9kZXZpY2UuaD4KLQotI2luY2x1ZGUg
PGRybS9kcm1fYXRvbWljX2hlbHBlci5oPgotI2luY2x1ZGUgPGRybS9kcm1fZW5jb2Rlci5oPgot
I2luY2x1ZGUgPGRybS9kcm1fbW9kZXNldF9oZWxwZXJfdnRhYmxlcy5oPgotI2luY2x1ZGUgPGRy
bS9kcm1fcHJvYmVfaGVscGVyLmg+Ci0KLSNpbmNsdWRlICJ0aWxjZGNfZHJ2LmgiCi0jaW5jbHVk
ZSAidGlsY2RjX3RmcDQxMC5oIgotCi1zdHJ1Y3QgdGZwNDEwX21vZHVsZSB7Ci0Jc3RydWN0IHRp
bGNkY19tb2R1bGUgYmFzZTsKLQlzdHJ1Y3QgaTJjX2FkYXB0ZXIgKmkyYzsKLQlpbnQgZ3BpbzsK
LX07Ci0jZGVmaW5lIHRvX3RmcDQxMF9tb2R1bGUoeCkgY29udGFpbmVyX29mKHgsIHN0cnVjdCB0
ZnA0MTBfbW9kdWxlLCBiYXNlKQotCi0KLXN0YXRpYyBjb25zdCBzdHJ1Y3QgdGlsY2RjX3BhbmVs
X2luZm8gZHZpX2luZm8gPSB7Ci0JCS5hY19iaWFzICAgICAgICAgICAgICAgID0gMjU1LAotCQku
YWNfYmlhc19pbnRycHQgICAgICAgICA9IDAsCi0JCS5kbWFfYnVyc3Rfc3ogICAgICAgICAgID0g
MTYsCi0JCS5icHAgICAgICAgICAgICAgICAgICAgID0gMTYsCi0JCS5mZGQgICAgICAgICAgICAg
ICAgICAgID0gMHg4MCwKLQkJLnRmdF9hbHRfbW9kZSAgICAgICAgICAgPSAwLAotCQkuc3luY19l
ZGdlICAgICAgICAgICAgICA9IDAsCi0JCS5zeW5jX2N0cmwgICAgICAgICAgICAgID0gMSwKLQkJ
LnJhc3Rlcl9vcmRlciAgICAgICAgICAgPSAwLAotfTsKLQotLyoKLSAqIEVuY29kZXI6Ci0gKi8K
LQotc3RydWN0IHRmcDQxMF9lbmNvZGVyIHsKLQlzdHJ1Y3QgZHJtX2VuY29kZXIgYmFzZTsKLQlz
dHJ1Y3QgdGZwNDEwX21vZHVsZSAqbW9kOwotCWludCBkcG1zOwotfTsKLSNkZWZpbmUgdG9fdGZw
NDEwX2VuY29kZXIoeCkgY29udGFpbmVyX29mKHgsIHN0cnVjdCB0ZnA0MTBfZW5jb2RlciwgYmFz
ZSkKLQotc3RhdGljIHZvaWQgdGZwNDEwX2VuY29kZXJfZHBtcyhzdHJ1Y3QgZHJtX2VuY29kZXIg
KmVuY29kZXIsIGludCBtb2RlKQotewotCXN0cnVjdCB0ZnA0MTBfZW5jb2RlciAqdGZwNDEwX2Vu
Y29kZXIgPSB0b190ZnA0MTBfZW5jb2RlcihlbmNvZGVyKTsKLQotCWlmICh0ZnA0MTBfZW5jb2Rl
ci0+ZHBtcyA9PSBtb2RlKQotCQlyZXR1cm47Ci0KLQlpZiAobW9kZSA9PSBEUk1fTU9ERV9EUE1T
X09OKSB7Ci0JCURCRygiUG93ZXIgb24iKTsKLQkJZ3Bpb19kaXJlY3Rpb25fb3V0cHV0KHRmcDQx
MF9lbmNvZGVyLT5tb2QtPmdwaW8sIDEpOwotCX0gZWxzZSB7Ci0JCURCRygiUG93ZXIgb2ZmIik7
Ci0JCWdwaW9fZGlyZWN0aW9uX291dHB1dCh0ZnA0MTBfZW5jb2Rlci0+bW9kLT5ncGlvLCAwKTsK
LQl9Ci0KLQl0ZnA0MTBfZW5jb2Rlci0+ZHBtcyA9IG1vZGU7Ci19Ci0KLXN0YXRpYyB2b2lkIHRm
cDQxMF9lbmNvZGVyX3ByZXBhcmUoc3RydWN0IGRybV9lbmNvZGVyICplbmNvZGVyKQotewotCXRm
cDQxMF9lbmNvZGVyX2RwbXMoZW5jb2RlciwgRFJNX01PREVfRFBNU19PRkYpOwotfQotCi1zdGF0
aWMgdm9pZCB0ZnA0MTBfZW5jb2Rlcl9jb21taXQoc3RydWN0IGRybV9lbmNvZGVyICplbmNvZGVy
KQotewotCXRmcDQxMF9lbmNvZGVyX2RwbXMoZW5jb2RlciwgRFJNX01PREVfRFBNU19PTik7Ci19
Ci0KLXN0YXRpYyB2b2lkIHRmcDQxMF9lbmNvZGVyX21vZGVfc2V0KHN0cnVjdCBkcm1fZW5jb2Rl
ciAqZW5jb2RlciwKLQkJc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGUsCi0JCXN0cnVjdCBk
cm1fZGlzcGxheV9tb2RlICphZGp1c3RlZF9tb2RlKQotewotCS8qIG5vdGhpbmcgbmVlZGVkICov
Ci19Ci0KLXN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2VuY29kZXJfZnVuY3MgdGZwNDEwX2VuY29k
ZXJfZnVuY3MgPSB7Ci0JCS5kZXN0cm95ICAgICAgICA9IGRybV9lbmNvZGVyX2NsZWFudXAsCi19
OwotCi1zdGF0aWMgY29uc3Qgc3RydWN0IGRybV9lbmNvZGVyX2hlbHBlcl9mdW5jcyB0ZnA0MTBf
ZW5jb2Rlcl9oZWxwZXJfZnVuY3MgPSB7Ci0JCS5kcG1zICAgICAgICAgICA9IHRmcDQxMF9lbmNv
ZGVyX2RwbXMsCi0JCS5wcmVwYXJlICAgICAgICA9IHRmcDQxMF9lbmNvZGVyX3ByZXBhcmUsCi0J
CS5jb21taXQgICAgICAgICA9IHRmcDQxMF9lbmNvZGVyX2NvbW1pdCwKLQkJLm1vZGVfc2V0ICAg
ICAgID0gdGZwNDEwX2VuY29kZXJfbW9kZV9zZXQsCi19OwotCi1zdGF0aWMgc3RydWN0IGRybV9l
bmNvZGVyICp0ZnA0MTBfZW5jb2Rlcl9jcmVhdGUoc3RydWN0IGRybV9kZXZpY2UgKmRldiwKLQkJ
c3RydWN0IHRmcDQxMF9tb2R1bGUgKm1vZCkKLXsKLQlzdHJ1Y3QgdGZwNDEwX2VuY29kZXIgKnRm
cDQxMF9lbmNvZGVyOwotCXN0cnVjdCBkcm1fZW5jb2RlciAqZW5jb2RlcjsKLQlpbnQgcmV0Owot
Ci0JdGZwNDEwX2VuY29kZXIgPSBkZXZtX2t6YWxsb2MoZGV2LT5kZXYsIHNpemVvZigqdGZwNDEw
X2VuY29kZXIpLAotCQkJCSAgICAgIEdGUF9LRVJORUwpOwotCWlmICghdGZwNDEwX2VuY29kZXIp
Ci0JCXJldHVybiBOVUxMOwotCi0JdGZwNDEwX2VuY29kZXItPmRwbXMgPSBEUk1fTU9ERV9EUE1T
X09GRjsKLQl0ZnA0MTBfZW5jb2Rlci0+bW9kID0gbW9kOwotCi0JZW5jb2RlciA9ICZ0ZnA0MTBf
ZW5jb2Rlci0+YmFzZTsKLQllbmNvZGVyLT5wb3NzaWJsZV9jcnRjcyA9IDE7Ci0KLQlyZXQgPSBk
cm1fZW5jb2Rlcl9pbml0KGRldiwgZW5jb2RlciwgJnRmcDQxMF9lbmNvZGVyX2Z1bmNzLAotCQkJ
RFJNX01PREVfRU5DT0RFUl9UTURTLCBOVUxMKTsKLQlpZiAocmV0IDwgMCkKLQkJZ290byBmYWls
OwotCi0JZHJtX2VuY29kZXJfaGVscGVyX2FkZChlbmNvZGVyLCAmdGZwNDEwX2VuY29kZXJfaGVs
cGVyX2Z1bmNzKTsKLQotCXJldHVybiBlbmNvZGVyOwotCi1mYWlsOgotCWRybV9lbmNvZGVyX2Ns
ZWFudXAoZW5jb2Rlcik7Ci0JcmV0dXJuIE5VTEw7Ci19Ci0KLS8qCi0gKiBDb25uZWN0b3I6Ci0g
Ki8KLQotc3RydWN0IHRmcDQxMF9jb25uZWN0b3IgewotCXN0cnVjdCBkcm1fY29ubmVjdG9yIGJh
c2U7Ci0KLQlzdHJ1Y3QgZHJtX2VuY29kZXIgKmVuY29kZXI7ICAvKiBvdXIgY29ubmVjdGVkIGVu
Y29kZXIgKi8KLQlzdHJ1Y3QgdGZwNDEwX21vZHVsZSAqbW9kOwotfTsKLSNkZWZpbmUgdG9fdGZw
NDEwX2Nvbm5lY3Rvcih4KSBjb250YWluZXJfb2YoeCwgc3RydWN0IHRmcDQxMF9jb25uZWN0b3Is
IGJhc2UpCi0KLQotc3RhdGljIHZvaWQgdGZwNDEwX2Nvbm5lY3Rvcl9kZXN0cm95KHN0cnVjdCBk
cm1fY29ubmVjdG9yICpjb25uZWN0b3IpCi17Ci0JZHJtX2Nvbm5lY3Rvcl91bnJlZ2lzdGVyKGNv
bm5lY3Rvcik7Ci0JZHJtX2Nvbm5lY3Rvcl9jbGVhbnVwKGNvbm5lY3Rvcik7Ci19Ci0KLXN0YXRp
YyBlbnVtIGRybV9jb25uZWN0b3Jfc3RhdHVzIHRmcDQxMF9jb25uZWN0b3JfZGV0ZWN0KAotCQlz
dHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yLAotCQlib29sIGZvcmNlKQotewotCXN0cnVj
dCB0ZnA0MTBfY29ubmVjdG9yICp0ZnA0MTBfY29ubmVjdG9yID0gdG9fdGZwNDEwX2Nvbm5lY3Rv
cihjb25uZWN0b3IpOwotCi0JaWYgKGRybV9wcm9iZV9kZGModGZwNDEwX2Nvbm5lY3Rvci0+bW9k
LT5pMmMpKQotCQlyZXR1cm4gY29ubmVjdG9yX3N0YXR1c19jb25uZWN0ZWQ7Ci0KLQlyZXR1cm4g
Y29ubmVjdG9yX3N0YXR1c191bmtub3duOwotfQotCi1zdGF0aWMgaW50IHRmcDQxMF9jb25uZWN0
b3JfZ2V0X21vZGVzKHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCi17Ci0Jc3RydWN0
IHRmcDQxMF9jb25uZWN0b3IgKnRmcDQxMF9jb25uZWN0b3IgPSB0b190ZnA0MTBfY29ubmVjdG9y
KGNvbm5lY3Rvcik7Ci0Jc3RydWN0IGVkaWQgKmVkaWQ7Ci0JaW50IHJldCA9IDA7Ci0KLQllZGlk
ID0gZHJtX2dldF9lZGlkKGNvbm5lY3RvciwgdGZwNDEwX2Nvbm5lY3Rvci0+bW9kLT5pMmMpOwot
Ci0JZHJtX2Nvbm5lY3Rvcl91cGRhdGVfZWRpZF9wcm9wZXJ0eShjb25uZWN0b3IsIGVkaWQpOwot
Ci0JaWYgKGVkaWQpIHsKLQkJcmV0ID0gZHJtX2FkZF9lZGlkX21vZGVzKGNvbm5lY3RvciwgZWRp
ZCk7Ci0JCWtmcmVlKGVkaWQpOwotCX0KLQotCXJldHVybiByZXQ7Ci19Ci0KLXN0YXRpYyBzdHJ1
Y3QgZHJtX2VuY29kZXIgKnRmcDQxMF9jb25uZWN0b3JfYmVzdF9lbmNvZGVyKAotCQlzdHJ1Y3Qg
ZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQotewotCXN0cnVjdCB0ZnA0MTBfY29ubmVjdG9yICp0
ZnA0MTBfY29ubmVjdG9yID0gdG9fdGZwNDEwX2Nvbm5lY3Rvcihjb25uZWN0b3IpOwotCXJldHVy
biB0ZnA0MTBfY29ubmVjdG9yLT5lbmNvZGVyOwotfQotCi1zdGF0aWMgY29uc3Qgc3RydWN0IGRy
bV9jb25uZWN0b3JfZnVuY3MgdGZwNDEwX2Nvbm5lY3Rvcl9mdW5jcyA9IHsKLQkuZGVzdHJveSAg
ICAgICAgICAgID0gdGZwNDEwX2Nvbm5lY3Rvcl9kZXN0cm95LAotCS5kZXRlY3QgICAgICAgICAg
ICAgPSB0ZnA0MTBfY29ubmVjdG9yX2RldGVjdCwKLQkuZmlsbF9tb2RlcyAgICAgICAgID0gZHJt
X2hlbHBlcl9wcm9iZV9zaW5nbGVfY29ubmVjdG9yX21vZGVzLAotCS5yZXNldCAgICAgICAgICAg
ICAgPSBkcm1fYXRvbWljX2hlbHBlcl9jb25uZWN0b3JfcmVzZXQsCi0JLmF0b21pY19kdXBsaWNh
dGVfc3RhdGUgPSBkcm1fYXRvbWljX2hlbHBlcl9jb25uZWN0b3JfZHVwbGljYXRlX3N0YXRlLAot
CS5hdG9taWNfZGVzdHJveV9zdGF0ZSA9IGRybV9hdG9taWNfaGVscGVyX2Nvbm5lY3Rvcl9kZXN0
cm95X3N0YXRlLAotfTsKLQotc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fY29ubmVjdG9yX2hlbHBl
cl9mdW5jcyB0ZnA0MTBfY29ubmVjdG9yX2hlbHBlcl9mdW5jcyA9IHsKLQkuZ2V0X21vZGVzICAg
ICAgICAgID0gdGZwNDEwX2Nvbm5lY3Rvcl9nZXRfbW9kZXMsCi0JLmJlc3RfZW5jb2RlciAgICAg
ICA9IHRmcDQxMF9jb25uZWN0b3JfYmVzdF9lbmNvZGVyLAotfTsKLQotc3RhdGljIHN0cnVjdCBk
cm1fY29ubmVjdG9yICp0ZnA0MTBfY29ubmVjdG9yX2NyZWF0ZShzdHJ1Y3QgZHJtX2RldmljZSAq
ZGV2LAotCQlzdHJ1Y3QgdGZwNDEwX21vZHVsZSAqbW9kLCBzdHJ1Y3QgZHJtX2VuY29kZXIgKmVu
Y29kZXIpCi17Ci0Jc3RydWN0IHRmcDQxMF9jb25uZWN0b3IgKnRmcDQxMF9jb25uZWN0b3I7Ci0J
c3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvcjsKLQlpbnQgcmV0OwotCi0JdGZwNDEwX2Nv
bm5lY3RvciA9IGRldm1fa3phbGxvYyhkZXYtPmRldiwgc2l6ZW9mKCp0ZnA0MTBfY29ubmVjdG9y
KSwKLQkJCQkJR0ZQX0tFUk5FTCk7Ci0JaWYgKCF0ZnA0MTBfY29ubmVjdG9yKQotCQlyZXR1cm4g
TlVMTDsKLQotCXRmcDQxMF9jb25uZWN0b3ItPmVuY29kZXIgPSBlbmNvZGVyOwotCXRmcDQxMF9j
b25uZWN0b3ItPm1vZCA9IG1vZDsKLQotCWNvbm5lY3RvciA9ICZ0ZnA0MTBfY29ubmVjdG9yLT5i
YXNlOwotCi0JZHJtX2Nvbm5lY3Rvcl9pbml0KGRldiwgY29ubmVjdG9yLCAmdGZwNDEwX2Nvbm5l
Y3Rvcl9mdW5jcywKLQkJCURSTV9NT0RFX0NPTk5FQ1RPUl9EVklEKTsKLQlkcm1fY29ubmVjdG9y
X2hlbHBlcl9hZGQoY29ubmVjdG9yLCAmdGZwNDEwX2Nvbm5lY3Rvcl9oZWxwZXJfZnVuY3MpOwot
Ci0JY29ubmVjdG9yLT5wb2xsZWQgPSBEUk1fQ09OTkVDVE9SX1BPTExfQ09OTkVDVCB8Ci0JCQlE
Uk1fQ09OTkVDVE9SX1BPTExfRElTQ09OTkVDVDsKLQotCWNvbm5lY3Rvci0+aW50ZXJsYWNlX2Fs
bG93ZWQgPSAwOwotCWNvbm5lY3Rvci0+ZG91Ymxlc2Nhbl9hbGxvd2VkID0gMDsKLQotCXJldCA9
IGRybV9jb25uZWN0b3JfYXR0YWNoX2VuY29kZXIoY29ubmVjdG9yLCBlbmNvZGVyKTsKLQlpZiAo
cmV0KQotCQlnb3RvIGZhaWw7Ci0KLQlyZXR1cm4gY29ubmVjdG9yOwotCi1mYWlsOgotCXRmcDQx
MF9jb25uZWN0b3JfZGVzdHJveShjb25uZWN0b3IpOwotCXJldHVybiBOVUxMOwotfQotCi0vKgot
ICogTW9kdWxlOgotICovCi0KLXN0YXRpYyBpbnQgdGZwNDEwX21vZGVzZXRfaW5pdChzdHJ1Y3Qg
dGlsY2RjX21vZHVsZSAqbW9kLCBzdHJ1Y3QgZHJtX2RldmljZSAqZGV2KQotewotCXN0cnVjdCB0
ZnA0MTBfbW9kdWxlICp0ZnA0MTBfbW9kID0gdG9fdGZwNDEwX21vZHVsZShtb2QpOwotCXN0cnVj
dCB0aWxjZGNfZHJtX3ByaXZhdGUgKnByaXYgPSBkZXYtPmRldl9wcml2YXRlOwotCXN0cnVjdCBk
cm1fZW5jb2RlciAqZW5jb2RlcjsKLQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yOwot
Ci0JZW5jb2RlciA9IHRmcDQxMF9lbmNvZGVyX2NyZWF0ZShkZXYsIHRmcDQxMF9tb2QpOwotCWlm
ICghZW5jb2RlcikKLQkJcmV0dXJuIC1FTk9NRU07Ci0KLQljb25uZWN0b3IgPSB0ZnA0MTBfY29u
bmVjdG9yX2NyZWF0ZShkZXYsIHRmcDQxMF9tb2QsIGVuY29kZXIpOwotCWlmICghY29ubmVjdG9y
KQotCQlyZXR1cm4gLUVOT01FTTsKLQotCXByaXYtPmVuY29kZXJzW3ByaXYtPm51bV9lbmNvZGVy
cysrXSA9IGVuY29kZXI7Ci0JcHJpdi0+Y29ubmVjdG9yc1twcml2LT5udW1fY29ubmVjdG9ycysr
XSA9IGNvbm5lY3RvcjsKLQotCXRpbGNkY19jcnRjX3NldF9wYW5lbF9pbmZvKHByaXYtPmNydGMs
ICZkdmlfaW5mbyk7Ci0JcmV0dXJuIDA7Ci19Ci0KLXN0YXRpYyBjb25zdCBzdHJ1Y3QgdGlsY2Rj
X21vZHVsZV9vcHMgdGZwNDEwX21vZHVsZV9vcHMgPSB7Ci0JCS5tb2Rlc2V0X2luaXQgPSB0ZnA0
MTBfbW9kZXNldF9pbml0LAotfTsKLQotLyoKLSAqIERldmljZToKLSAqLwotCi1zdGF0aWMgaW50
IHRmcDQxMF9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQotewotCXN0cnVjdCBk
ZXZpY2Vfbm9kZSAqbm9kZSA9IHBkZXYtPmRldi5vZl9ub2RlOwotCXN0cnVjdCBkZXZpY2Vfbm9k
ZSAqaTJjX25vZGU7Ci0Jc3RydWN0IHRmcDQxMF9tb2R1bGUgKnRmcDQxMF9tb2Q7Ci0Jc3RydWN0
IHRpbGNkY19tb2R1bGUgKm1vZDsKLQlzdHJ1Y3QgcGluY3RybCAqcGluY3RybDsKLQl1aW50MzJf
dCBpMmNfcGhhbmRsZTsKLQlpbnQgcmV0ID0gLUVJTlZBTDsKLQotCS8qIGJhaWwgb3V0IGVhcmx5
IGlmIG5vIERUIGRhdGE6ICovCi0JaWYgKCFub2RlKSB7Ci0JCWRldl9lcnIoJnBkZXYtPmRldiwg
ImRldmljZS10cmVlIGRhdGEgaXMgbWlzc2luZ1xuIik7Ci0JCXJldHVybiAtRU5YSU87Ci0JfQot
Ci0JdGZwNDEwX21vZCA9IGRldm1fa3phbGxvYygmcGRldi0+ZGV2LCBzaXplb2YoKnRmcDQxMF9t
b2QpLCBHRlBfS0VSTkVMKTsKLQlpZiAoIXRmcDQxMF9tb2QpCi0JCXJldHVybiAtRU5PTUVNOwot
Ci0JbW9kID0gJnRmcDQxMF9tb2QtPmJhc2U7Ci0JcGRldi0+ZGV2LnBsYXRmb3JtX2RhdGEgPSBt
b2Q7Ci0KLQl0aWxjZGNfbW9kdWxlX2luaXQobW9kLCAidGZwNDEwIiwgJnRmcDQxMF9tb2R1bGVf
b3BzKTsKLQotCXBpbmN0cmwgPSBkZXZtX3BpbmN0cmxfZ2V0X3NlbGVjdF9kZWZhdWx0KCZwZGV2
LT5kZXYpOwotCWlmIChJU19FUlIocGluY3RybCkpCi0JCWRldl93YXJuKCZwZGV2LT5kZXYsICJw
aW5zIGFyZSBub3QgY29uZmlndXJlZFxuIik7Ci0KLQlpZiAob2ZfcHJvcGVydHlfcmVhZF91MzIo
bm9kZSwgImkyYyIsICZpMmNfcGhhbmRsZSkpIHsKLQkJZGV2X2VycigmcGRldi0+ZGV2LCAiY291
bGQgbm90IGdldCBpMmMgYnVzIHBoYW5kbGVcbiIpOwotCQlnb3RvIGZhaWw7Ci0JfQotCi0JaTJj
X25vZGUgPSBvZl9maW5kX25vZGVfYnlfcGhhbmRsZShpMmNfcGhhbmRsZSk7Ci0JaWYgKCFpMmNf
bm9kZSkgewotCQlkZXZfZXJyKCZwZGV2LT5kZXYsICJjb3VsZCBub3QgZ2V0IGkyYyBidXMgbm9k
ZVxuIik7Ci0JCWdvdG8gZmFpbDsKLQl9Ci0KLQl0ZnA0MTBfbW9kLT5pMmMgPSBvZl9maW5kX2ky
Y19hZGFwdGVyX2J5X25vZGUoaTJjX25vZGUpOwotCWlmICghdGZwNDEwX21vZC0+aTJjKSB7Ci0J
CWRldl9lcnIoJnBkZXYtPmRldiwgImNvdWxkIG5vdCBnZXQgaTJjXG4iKTsKLQkJb2Zfbm9kZV9w
dXQoaTJjX25vZGUpOwotCQlnb3RvIGZhaWw7Ci0JfQotCi0Jb2Zfbm9kZV9wdXQoaTJjX25vZGUp
OwotCi0JdGZwNDEwX21vZC0+Z3BpbyA9IG9mX2dldF9uYW1lZF9ncGlvX2ZsYWdzKG5vZGUsICJw
b3dlcmRuLWdwaW8iLAotCQkJMCwgTlVMTCk7Ci0JaWYgKHRmcDQxMF9tb2QtPmdwaW8gPCAwKSB7
Ci0JCWRldl93YXJuKCZwZGV2LT5kZXYsICJObyBwb3dlciBkb3duIEdQSU9cbiIpOwotCX0gZWxz
ZSB7Ci0JCXJldCA9IGdwaW9fcmVxdWVzdCh0ZnA0MTBfbW9kLT5ncGlvLCAiRFZJX1BEbiIpOwot
CQlpZiAocmV0KSB7Ci0JCQlkZXZfZXJyKCZwZGV2LT5kZXYsICJjb3VsZCBub3QgZ2V0IERWSV9Q
RG4gZ3Bpb1xuIik7Ci0JCQlnb3RvIGZhaWxfYWRhcHRlcjsKLQkJfQotCX0KLQotCXJldHVybiAw
OwotCi1mYWlsX2FkYXB0ZXI6Ci0JaTJjX3B1dF9hZGFwdGVyKHRmcDQxMF9tb2QtPmkyYyk7Ci0K
LWZhaWw6Ci0JdGlsY2RjX21vZHVsZV9jbGVhbnVwKG1vZCk7Ci0JcmV0dXJuIHJldDsKLX0KLQot
c3RhdGljIGludCB0ZnA0MTBfcmVtb3ZlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCi17
Ci0Jc3RydWN0IHRpbGNkY19tb2R1bGUgKm1vZCA9IGRldl9nZXRfcGxhdGRhdGEoJnBkZXYtPmRl
dik7Ci0Jc3RydWN0IHRmcDQxMF9tb2R1bGUgKnRmcDQxMF9tb2QgPSB0b190ZnA0MTBfbW9kdWxl
KG1vZCk7Ci0KLQlpMmNfcHV0X2FkYXB0ZXIodGZwNDEwX21vZC0+aTJjKTsKLQlncGlvX2ZyZWUo
dGZwNDEwX21vZC0+Z3Bpbyk7Ci0KLQl0aWxjZGNfbW9kdWxlX2NsZWFudXAobW9kKTsKLQotCXJl
dHVybiAwOwotfQotCi1zdGF0aWMgY29uc3Qgc3RydWN0IG9mX2RldmljZV9pZCB0ZnA0MTBfb2Zf
bWF0Y2hbXSA9IHsKLQkJeyAuY29tcGF0aWJsZSA9ICJ0aSx0aWxjZGMsdGZwNDEwIiwgfSwKLQkJ
eyB9LAotfTsKLQotc3RydWN0IHBsYXRmb3JtX2RyaXZlciB0ZnA0MTBfZHJpdmVyID0gewotCS5w
cm9iZSA9IHRmcDQxMF9wcm9iZSwKLQkucmVtb3ZlID0gdGZwNDEwX3JlbW92ZSwKLQkuZHJpdmVy
ID0gewotCQkub3duZXIgPSBUSElTX01PRFVMRSwKLQkJLm5hbWUgPSAidGZwNDEwIiwKLQkJLm9m
X21hdGNoX3RhYmxlID0gdGZwNDEwX29mX21hdGNoLAotCX0sCi19OwotCi1pbnQgX19pbml0IHRp
bGNkY190ZnA0MTBfaW5pdCh2b2lkKQotewotCXJldHVybiBwbGF0Zm9ybV9kcml2ZXJfcmVnaXN0
ZXIoJnRmcDQxMF9kcml2ZXIpOwotfQotCi12b2lkIF9fZXhpdCB0aWxjZGNfdGZwNDEwX2Zpbmko
dm9pZCkKLXsKLQlwbGF0Zm9ybV9kcml2ZXJfdW5yZWdpc3RlcigmdGZwNDEwX2RyaXZlcik7Ci19
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdGlsY2RjL3RpbGNkY190ZnA0MTAuaCBiL2Ry
aXZlcnMvZ3B1L2RybS90aWxjZGMvdGlsY2RjX3RmcDQxMC5oCmRlbGV0ZWQgZmlsZSBtb2RlIDEw
MDY0NAppbmRleCBmOWFhZjY5MTFmZmMuLjAwMDAwMDAwMDAwMAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vdGlsY2RjL3RpbGNkY190ZnA0MTAuaAorKysgL2Rldi9udWxsCkBAIC0xLDE1ICswLDAgQEAK
LS8qIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wLW9ubHkgKi8KLS8qCi0gKiBDb3B5
cmlnaHQgKEMpIDIwMTIgVGV4YXMgSW5zdHJ1bWVudHMKLSAqIEF1dGhvcjogUm9iIENsYXJrIDxy
b2JkY2xhcmtAZ21haWwuY29tPgotICovCi0KLSNpZm5kZWYgX19USUxDRENfVEZQNDEwX0hfXwot
I2RlZmluZSBfX1RJTENEQ19URlA0MTBfSF9fCi0KLS8qIHN1Yi1tb2R1bGUgZm9yIHRmcDQxMCBk
dmkgYWRhcHRvciAqLwotCi1pbnQgdGlsY2RjX3RmcDQxMF9pbml0KHZvaWQpOwotdm9pZCB0aWxj
ZGNfdGZwNDEwX2Zpbmkodm9pZCk7Ci0KLSNlbmRpZiAvKiBfX1RJTENEQ19URlA0MTBfSF9fICov
Ci0tIApUZXhhcyBJbnN0cnVtZW50cyBGaW5sYW5kIE95LCBQb3Jra2FsYW5rYXR1IDIyLCAwMDE4
MCBIZWxzaW5raS4gWS10dW5udXMvQnVzaW5lc3MgSUQ6IDA2MTU1MjEtNC4gS290aXBhaWtrYS9E
b21pY2lsZTogSGVsc2lua2kKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNr
dG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2Ry
aS1kZXZlbA==
