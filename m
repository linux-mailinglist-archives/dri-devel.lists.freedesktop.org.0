Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 5FAA0E4F39
	for <lists+dri-devel@lfdr.de>; Fri, 25 Oct 2019 16:35:25 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 097636EA65;
	Fri, 25 Oct 2019 14:35:23 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wm1-x344.google.com (mail-wm1-x344.google.com
 [IPv6:2a00:1450:4864:20::344])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C6BA06EA6A
 for <dri-devel@lists.freedesktop.org>; Fri, 25 Oct 2019 14:35:21 +0000 (UTC)
Received: by mail-wm1-x344.google.com with SMTP id p21so2396238wmg.2
 for <dri-devel@lists.freedesktop.org>; Fri, 25 Oct 2019 07:35:21 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:subject:to:cc:references:from:openpgp:autocrypt
 :organization:message-id:date:user-agent:mime-version:in-reply-to
 :content-language:content-transfer-encoding;
 bh=SEkMVKWRX4iMd7Z0AqeCLALOZVUNxLiOi5x8SIiC754=;
 b=C7IWSyeY3bJyYFul+XXFsr7Ok5fAUmDGKnS93mJcreG6aDetjfxSs8NVYzuz+YJJw8
 hfKer5EuVzYklNF93BY39c2dxSJjkPYHkyCIewPMGfCgCiDoQPND0LaqCruGkX/Lqr86
 +Azl7eIkH24fYWdBjl1Qq1omn3YMFCRyIkR9QwOfxQARn8tdt3rR4J7HFMeA8Daalhrz
 Js0G4bzUMbbuhHsMZi/6VMmrsbMN0OLF7A83nrC1iC4D2gkrj2qrQ7u0MpAo8ZB4MKYz
 whLTeNWIXMOTqIdTdnIvAxz9GLFhqT+QxMiaWOXUFd/1Ui+2MPnYBGiOerJEg/xIUhDX
 fW7Q==
X-Gm-Message-State: APjAAAX3qFcGPT7OJT1uP52owurEsSC/GkfbBub0vv8oOJoXNjCuygoK
 RTSjfhYzt+KOpJst8+AleXtGXw==
X-Google-Smtp-Source: APXvYqxJDQoZEiJZ9CF2QhEMcGK7shZeJ+WFBMww1+0jpa4Spk3e7pNocj6fTWnOrNULUQeNBOtc6A==
X-Received: by 2002:a1c:2884:: with SMTP id o126mr4155948wmo.153.1572014119886; 
 Fri, 25 Oct 2019 07:35:19 -0700 (PDT)
Received: from [192.168.1.62] (176-150-251-154.abo.bbox.fr. [176.150.251.154])
 by smtp.gmail.com with ESMTPSA id
 r15sm5139903wme.0.2019.10.25.07.35.18
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Fri, 25 Oct 2019 07:35:19 -0700 (PDT)
Subject: Re: [PATCH v3 09/21] drm/bridge: Add a drm_bridge_state object
To: Boris Brezillon <boris.brezillon@collabora.com>,
 dri-devel@lists.freedesktop.org
References: <20191023154512.9762-1-boris.brezillon@collabora.com>
 <20191023154512.9762-10-boris.brezillon@collabora.com>
From: Neil Armstrong <narmstrong@baylibre.com>
Openpgp: preference=signencrypt
Autocrypt: addr=narmstrong@baylibre.com; prefer-encrypt=mutual; keydata=
 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
 ZaTUOEkgIor5losDrePdPgE=
Organization: Baylibre
Message-ID: <3c0a0538-d8de-c0e2-a5af-9e8921394d93@baylibre.com>
Date: Fri, 25 Oct 2019 16:35:17 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.0
MIME-Version: 1.0
In-Reply-To: <20191023154512.9762-10-boris.brezillon@collabora.com>
Content-Language: en-US
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=baylibre-com.20150623.gappssmtp.com; s=20150623;
 h=subject:to:cc:references:from:openpgp:autocrypt:organization
 :message-id:date:user-agent:mime-version:in-reply-to
 :content-language:content-transfer-encoding;
 bh=SEkMVKWRX4iMd7Z0AqeCLALOZVUNxLiOi5x8SIiC754=;
 b=KC7/rRgYkS3cYkYg3endZ12L0BrVua0Up5WBwY6xl3FGZWExOcImXJyGFDDgLAOJLT
 YpzwWvQv2UJGPqRrLKwW76DFJ5yg7JAOzRmXLu4YqRSiGalsuD8eLmxLs7602UHF3ogn
 IIzVWDX6n3fqAaciBDwip7BTtkohte+D75duC7sG6niDwuQhnf4rtjvbKObtibGKWhxA
 1zprzaLp3S/TcTaaJDhczemk7THSri5xDxFFAWg+B+SGFasCBYQqupn5K2L92N1idw4f
 n7dG30gqOnOeFz1OTYxt9NigsixNON6VIh2/Cg4f0YAFFhiOztNHlcaXvOzA5OOrkV2w
 lRTQ==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Nikita Yushchenko <nikita.yoush@cogentembedded.com>,
 Mark Rutland <mark.rutland@arm.com>, Jernej Skrabec <jernej.skrabec@siol.net>,
 Jonas Karlman <jonas@kwiboo.se>, Andrey Smirnov <andrew.smirnov@gmail.com>,
 Seung-Woo Kim <sw0312.kim@samsung.com>, Rob Herring <robh+dt@kernel.org>,
 Kyungmin Park <kyungmin.park@samsung.com>,
 Thierry Reding <thierry.reding@gmail.com>,
 Laurent Pinchart <Laurent.pinchart@ideasonboard.com>, kernel@collabora.com,
 Sam Ravnborg <sam@ravnborg.org>, devicetree@vger.kernel.org,
 Chris Healy <cphealy@gmail.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gMjMvMTAvMjAxOSAxNzo0NSwgQm9yaXMgQnJlemlsbG9uIHdyb3RlOgo+IE9uZSBvZiB0aGUg
bGFzdCByZW1haW5pbmcgb2JqZWN0cyB0byBub3QgaGF2ZSBpdHMgYXRvbWljIHN0YXRlLgo+IAo+
IFRoaXMgaXMgYmVpbmcgbW90aXZhdGVkIGJ5IG91ciBhdHRlbXB0IHRvIHN1cHBvcnQgcnVudGlt
ZSBidXMtZm9ybWF0Cj4gbmVnb3RpYXRpb24gYmV0d2VlbiBlbGVtZW50cyBvZiB0aGUgYnJpZGdl
IGNoYWluLgo+IFRoaXMgcGF0Y2gganVzdCBwYXZlcyB0aGUgcm9hZCBmb3Igc3VjaCBhIGZlYXR1
cmUgYnkgYWRkaW5nIGEgbmV3Cj4gZHJtX2JyaWRnZV9zdGF0ZSBvYmplY3QgaW5oZXJpdGluZyBm
cm9tIGRybV9wcml2YXRlX29iaiBzbyB3ZSBjYW4KPiByZS11c2Ugc29tZSBvZiB0aGUgZXhpc3Rp
bmcgc3RhdGUgaW5pdGlhbGl6YXRpb24vdHJhY2tpbmcgbG9naWMuCj4gCj4gU2lnbmVkLW9mZi1i
eTogQm9yaXMgQnJlemlsbG9uIDxib3Jpcy5icmV6aWxsb25AY29sbGFib3JhLmNvbT4KPiAtLS0K
PiBDaGFuZ2VzIGluIHYzOgo+ICogTm9uZQo+IAo+IENoYW5nZXMgaW4gdjI6Cj4gKiBVc2UgZHJt
X2Zvcl9lYWNoX2JyaWRnZV9pbl9jaGFpbigpCj4gKiBSZW5hbWUgaGVscGVycyB0byBiZSBtb3Jl
IGNvbnNpc3RlbnQgd2l0aCB0aGUgcmVzdCBvZiB0aGUgRFJNIEFQSQo+ICogSW1wcm92ZS9maXgg
dGhlIGRvYwo+IC0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vZHJtX2F0b21pYy5jICAgICAgICB8ICAz
OSArKysrKysrCj4gIGRyaXZlcnMvZ3B1L2RybS9kcm1fYXRvbWljX2hlbHBlci5jIHwgIDIwICsr
KysKPiAgZHJpdmVycy9ncHUvZHJtL2RybV9icmlkZ2UuYyAgICAgICAgfCAxNjggKysrKysrKysr
KysrKysrKysrKysrKysrKysrLQo+ICBpbmNsdWRlL2RybS9kcm1fYXRvbWljLmggICAgICAgICAg
ICB8ICAgMyArCj4gIGluY2x1ZGUvZHJtL2RybV9icmlkZ2UuaCAgICAgICAgICAgIHwgMTE4ICsr
KysrKysrKysrKysrKysrKysKPiAgNSBmaWxlcyBjaGFuZ2VkLCAzNDMgaW5zZXJ0aW9ucygrKSwg
NSBkZWxldGlvbnMoLSkKPiAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2RybV9hdG9t
aWMuYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fYXRvbWljLmMKPiBpbmRleCA0MTkzODFhYmJkZDEu
LjZjMjQ5Y2UzOTM4MCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vZHJtX2F0b21pYy5j
Cj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2RybV9hdG9taWMuYwo+IEBAIC0zMCw2ICszMCw3IEBA
Cj4gIAo+ICAjaW5jbHVkZSA8ZHJtL2RybV9hdG9taWMuaD4KPiAgI2luY2x1ZGUgPGRybS9kcm1f
YXRvbWljX3VhcGkuaD4KPiArI2luY2x1ZGUgPGRybS9kcm1fYnJpZGdlLmg+Cj4gICNpbmNsdWRl
IDxkcm0vZHJtX2RlYnVnZnMuaD4KPiAgI2luY2x1ZGUgPGRybS9kcm1fZGV2aWNlLmg+Cj4gICNp
bmNsdWRlIDxkcm0vZHJtX2Rydi5oPgo+IEBAIC0xMDEwLDYgKzEwMTEsNDQgQEAgc3RhdGljIHZv
aWQgZHJtX2F0b21pY19jb25uZWN0b3JfcHJpbnRfc3RhdGUoc3RydWN0IGRybV9wcmludGVyICpw
LAo+ICAJCWNvbm5lY3Rvci0+ZnVuY3MtPmF0b21pY19wcmludF9zdGF0ZShwLCBzdGF0ZSk7Cj4g
IH0KPiAgCj4gKy8qKgo+ICsgKiBkcm1fYXRvbWljX2FkZF9lbmNvZGVyX2JyaWRnZXMgLSBhZGQg
YnJpZGdlcyBhdHRhY2hlZCB0byBhbiBlbmNvZGVyCj4gKyAqIEBzdGF0ZTogYXRvbWljIHN0YXRl
Cj4gKyAqIEBlbmNvZGVyOiBEUk0gZW5jb2Rlcgo+ICsgKgo+ICsgKiBUaGlzIGZ1bmN0aW9uIGFk
ZHMgYWxsIGJyaWRnZXMgYXR0YWNoZWQgdG8gQGVuY29kZXIuIFRoaXMgaXMgbmVlZGVkIHRvIGFk
ZAo+ICsgKiBicmlkZ2Ugc3RhdGVzIHRvIEBzdGF0ZSBhbmQgbWFrZSB0aGVtIGF2YWlsYWJsZSB3
aGVuCj4gKyAqICZicmlkZ2VfZnVuY3MuYXRvbWljX3tjaGVjayxwcmVfZW5hYmxlLGVuYWJsZSxk
aXNhYmxlX3Bvc3RfZGlzYWJsZX0oKSBhcmUKPiArICogY2FsbGVkCj4gKyAqCj4gKyAqIFJldHVy
bnM6Cj4gKyAqIDAgb24gc3VjY2VzcyBvciBjYW4gZmFpbCB3aXRoIC1FREVBRExLIG9yIC1FTk9N
RU0uIFdoZW4gdGhlIGVycm9yIGlzIEVERUFETEsKPiArICogdGhlbiB0aGUgdy93IG11dGV4IGNv
ZGUgaGFzIGRldGVjdGVkIGEgZGVhZGxvY2sgYW5kIHRoZSBlbnRpcmUgYXRvbWljCj4gKyAqIHNl
cXVlbmNlIG11c3QgYmUgcmVzdGFydGVkLiBBbGwgb3RoZXIgZXJyb3JzIGFyZSBmYXRhbC4KPiAr
ICovCj4gK2ludAo+ICtkcm1fYXRvbWljX2FkZF9lbmNvZGVyX2JyaWRnZXMoc3RydWN0IGRybV9h
dG9taWNfc3RhdGUgKnN0YXRlLAo+ICsJCQkgICAgICAgc3RydWN0IGRybV9lbmNvZGVyICplbmNv
ZGVyKQo+ICt7Cj4gKwlzdHJ1Y3QgZHJtX2JyaWRnZV9zdGF0ZSAqYnJpZGdlX3N0YXRlOwo+ICsJ
c3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZTsKPiArCj4gKwlpZiAoIWVuY29kZXIpCj4gKwkJcmV0
dXJuIDA7Cj4gKwo+ICsJRFJNX0RFQlVHX0FUT01JQygiQWRkaW5nIGFsbCBicmlkZ2VzIGZvciBb
ZW5jb2RlcjolZDolc10gdG8gJXBcbiIsCj4gKwkJCSBlbmNvZGVyLT5iYXNlLmlkLCBlbmNvZGVy
LT5uYW1lLCBzdGF0ZSk7Cj4gKwo+ICsJZHJtX2Zvcl9lYWNoX2JyaWRnZV9pbl9jaGFpbihlbmNv
ZGVyLCBicmlkZ2UpIHsKPiArCQlicmlkZ2Vfc3RhdGUgPSBkcm1fYXRvbWljX2dldF9icmlkZ2Vf
c3RhdGUoc3RhdGUsIGJyaWRnZSk7Cj4gKwkJaWYgKElTX0VSUihicmlkZ2Vfc3RhdGUpKQo+ICsJ
CQlyZXR1cm4gUFRSX0VSUihicmlkZ2Vfc3RhdGUpOwo+ICsJfQo+ICsKPiArCXJldHVybiAwOwo+
ICt9Cj4gK0VYUE9SVF9TWU1CT0woZHJtX2F0b21pY19hZGRfZW5jb2Rlcl9icmlkZ2VzKTsKPiAr
Cj4gIC8qKgo+ICAgKiBkcm1fYXRvbWljX2FkZF9hZmZlY3RlZF9jb25uZWN0b3JzIC0gYWRkIGNv
bm5lY3RvcnMgZm9yIGNydGMKPiAgICogQHN0YXRlOiBhdG9taWMgc3RhdGUKPiBkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2RybV9hdG9taWNfaGVscGVyLmMgYi9kcml2ZXJzL2dwdS9kcm0v
ZHJtX2F0b21pY19oZWxwZXIuYwo+IGluZGV4IGYwMmRkZmZkNDk2MC4uZGU5ODViYTdjZTJkIDEw
MDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fYXRvbWljX2hlbHBlci5jCj4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2RybV9hdG9taWNfaGVscGVyLmMKPiBAQCAtNzMwLDYgKzczMCwyNiBA
QCBkcm1fYXRvbWljX2hlbHBlcl9jaGVja19tb2Rlc2V0KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYs
Cj4gIAkJCXJldHVybiByZXQ7Cj4gIAl9Cj4gIAo+ICsJLyoKPiArCSAqIEl0ZXJhdGUgb3ZlciBh
bGwgY29ubmVjdG9ycyBhZ2FpbiwgYW5kIGFkZCBhbGwgYWZmZWN0ZWQgYnJpZGdlcyB0bwo+ICsJ
ICogdGhlIHN0YXRlLgo+ICsJICovCj4gKwlmb3JfZWFjaF9vbGRuZXdfY29ubmVjdG9yX2luX3N0
YXRlKHN0YXRlLCBjb25uZWN0b3IsCj4gKwkJCQkJICAgb2xkX2Nvbm5lY3Rvcl9zdGF0ZSwKPiAr
CQkJCQkgICBuZXdfY29ubmVjdG9yX3N0YXRlLCBpKSB7Cj4gKwkJc3RydWN0IGRybV9lbmNvZGVy
ICplbmNvZGVyOwo+ICsKPiArCQllbmNvZGVyID0gb2xkX2Nvbm5lY3Rvcl9zdGF0ZS0+YmVzdF9l
bmNvZGVyOwo+ICsJCXJldCA9IGRybV9hdG9taWNfYWRkX2VuY29kZXJfYnJpZGdlcyhzdGF0ZSwg
ZW5jb2Rlcik7Cj4gKwkJaWYgKHJldCkKPiArCQkJcmV0dXJuIHJldDsKPiArCj4gKwkJZW5jb2Rl
ciA9IG5ld19jb25uZWN0b3Jfc3RhdGUtPmJlc3RfZW5jb2RlcjsKPiArCQlyZXQgPSBkcm1fYXRv
bWljX2FkZF9lbmNvZGVyX2JyaWRnZXMoc3RhdGUsIGVuY29kZXIpOwo+ICsJCWlmIChyZXQpCj4g
KwkJCXJldHVybiByZXQ7Cj4gKwl9Cj4gKwo+ICAJcmV0ID0gbW9kZV92YWxpZChzdGF0ZSk7Cj4g
IAlpZiAocmV0KQo+ICAJCXJldHVybiByZXQ7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9kcm1fYnJpZGdlLmMgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2JyaWRnZS5jCj4gaW5kZXggYzVj
ZjhhOWM0MjM3Li5jNTM5NjY3Njc3ODIgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2Ry
bV9icmlkZ2UuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fYnJpZGdlLmMKPiBAQCAtMjUs
NiArMjUsNyBAQAo+ICAjaW5jbHVkZSA8bGludXgvbW9kdWxlLmg+Cj4gICNpbmNsdWRlIDxsaW51
eC9tdXRleC5oPgo+ICAKPiArI2luY2x1ZGUgPGRybS9kcm1fYXRvbWljX3N0YXRlX2hlbHBlci5o
Pgo+ICAjaW5jbHVkZSA8ZHJtL2RybV9icmlkZ2UuaD4KPiAgI2luY2x1ZGUgPGRybS9kcm1fZW5j
b2Rlci5oPgo+ICAKPiBAQCAtODksNiArOTAsMzggQEAgdm9pZCBkcm1fYnJpZGdlX3JlbW92ZShz
dHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlKQo+ICB9Cj4gIEVYUE9SVF9TWU1CT0woZHJtX2JyaWRn
ZV9yZW1vdmUpOwo+ICAKPiArc3RhdGljIHN0cnVjdCBkcm1fcHJpdmF0ZV9zdGF0ZSAqCj4gK2Ry
bV9icmlkZ2VfYXRvbWljX2R1cGxpY2F0ZV9wcml2X3N0YXRlKHN0cnVjdCBkcm1fcHJpdmF0ZV9v
YmogKm9iaikKPiArewo+ICsJc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSA9IGRybV9wcml2X3Rv
X2JyaWRnZShvYmopOwo+ICsJc3RydWN0IGRybV9icmlkZ2Vfc3RhdGUgKnN0YXRlOwo+ICsKPiAr
CWlmIChicmlkZ2UtPmZ1bmNzLT5hdG9taWNfZHVwbGljYXRlX3N0YXRlKQo+ICsJCXN0YXRlID0g
YnJpZGdlLT5mdW5jcy0+YXRvbWljX2R1cGxpY2F0ZV9zdGF0ZShicmlkZ2UpOwo+ICsJZWxzZQo+
ICsJCXN0YXRlID0gZHJtX2F0b21pY19oZWxwZXJfYnJpZGdlX2R1cGxpY2F0ZV9zdGF0ZShicmlk
Z2UpOwo+ICsKPiArCXJldHVybiAmc3RhdGUtPmJhc2U7Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lk
Cj4gK2RybV9icmlkZ2VfYXRvbWljX2Rlc3Ryb3lfcHJpdl9zdGF0ZShzdHJ1Y3QgZHJtX3ByaXZh
dGVfb2JqICpvYmosCj4gKwkJCQkgICAgIHN0cnVjdCBkcm1fcHJpdmF0ZV9zdGF0ZSAqcykKPiAr
ewo+ICsJc3RydWN0IGRybV9icmlkZ2Vfc3RhdGUgKnN0YXRlID0gZHJtX3ByaXZfdG9fYnJpZGdl
X3N0YXRlKHMpOwo+ICsJc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSA9IGRybV9wcml2X3RvX2Jy
aWRnZShvYmopOwo+ICsKPiArCWlmIChicmlkZ2UtPmZ1bmNzLT5hdG9taWNfZGVzdHJveV9zdGF0
ZSkKPiArCQlicmlkZ2UtPmZ1bmNzLT5hdG9taWNfZGVzdHJveV9zdGF0ZShicmlkZ2UsIHN0YXRl
KTsKPiArCWVsc2UKPiArCQlkcm1fYXRvbWljX2hlbHBlcl9icmlkZ2VfZGVzdHJveV9zdGF0ZShi
cmlkZ2UsIHN0YXRlKTsKPiArfQo+ICsKPiArc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fcHJpdmF0
ZV9zdGF0ZV9mdW5jcyBkcm1fYnJpZGdlX3ByaXZfc3RhdGVfZnVuY3MgPSB7Cj4gKwkuYXRvbWlj
X2R1cGxpY2F0ZV9zdGF0ZSA9IGRybV9icmlkZ2VfYXRvbWljX2R1cGxpY2F0ZV9wcml2X3N0YXRl
LAo+ICsJLmF0b21pY19kZXN0cm95X3N0YXRlID0gZHJtX2JyaWRnZV9hdG9taWNfZGVzdHJveV9w
cml2X3N0YXRlLAo+ICt9Owo+ICsKPiAgLyoqCj4gICAqIGRybV9icmlkZ2VfYXR0YWNoIC0gYXR0
YWNoIHRoZSBicmlkZ2UgdG8gYW4gZW5jb2RlcidzIGNoYWluCj4gICAqCj4gQEAgLTExNCw2ICsx
NDcsNyBAQCBFWFBPUlRfU1lNQk9MKGRybV9icmlkZ2VfcmVtb3ZlKTsKPiAgaW50IGRybV9icmlk
Z2VfYXR0YWNoKHN0cnVjdCBkcm1fZW5jb2RlciAqZW5jb2Rlciwgc3RydWN0IGRybV9icmlkZ2Ug
KmJyaWRnZSwKPiAgCQkgICAgICBzdHJ1Y3QgZHJtX2JyaWRnZSAqcHJldmlvdXMpCj4gIHsKPiAr
CXN0cnVjdCBkcm1fYnJpZGdlX3N0YXRlICpzdGF0ZTsKPiAgCUxJU1RfSEVBRCh0bXBfbGlzdCk7
Cj4gIAlpbnQgcmV0Owo+ICAKPiBAQCAtMTMyLDE5ICsxNjYsMzkgQEAgaW50IGRybV9icmlkZ2Vf
YXR0YWNoKHN0cnVjdCBkcm1fZW5jb2RlciAqZW5jb2Rlciwgc3RydWN0IGRybV9icmlkZ2UgKmJy
aWRnZSwKPiAgCj4gIAlpZiAoYnJpZGdlLT5mdW5jcy0+YXR0YWNoKSB7Cj4gIAkJcmV0ID0gYnJp
ZGdlLT5mdW5jcy0+YXR0YWNoKGJyaWRnZSk7Cj4gLQkJaWYgKHJldCA8IDApIHsKPiAtCQkJYnJp
ZGdlLT5kZXYgPSBOVUxMOwo+IC0JCQlicmlkZ2UtPmVuY29kZXIgPSBOVUxMOwo+IC0JCQlyZXR1
cm4gcmV0Owo+IC0JCX0KPiArCQlpZiAocmV0IDwgMCkKPiArCQkJZ290byBlcnJfcmVzZXRfYnJp
ZGdlOwo+ICAJfQo+ICAKPiArCWlmIChicmlkZ2UtPmZ1bmNzLT5hdG9taWNfcmVzZXQpCj4gKwkJ
c3RhdGUgPSBicmlkZ2UtPmZ1bmNzLT5hdG9taWNfcmVzZXQoYnJpZGdlKTsKPiArCWVsc2UKPiAr
CQlzdGF0ZSA9IGRybV9hdG9taWNfaGVscGVyX2JyaWRnZV9yZXNldChicmlkZ2UpOwo+ICsKPiAr
CWlmIChJU19FUlIoc3RhdGUpKSB7Cj4gKwkJcmV0ID0gUFRSX0VSUihzdGF0ZSk7Cj4gKwkJZ290
byBlcnJfZGV0YWNoX2JyaWRnZTsKPiArCX0KPiArCj4gKwlkcm1fYXRvbWljX3ByaXZhdGVfb2Jq
X2luaXQoYnJpZGdlLT5kZXYsICZicmlkZ2UtPmJhc2UsCj4gKwkJCQkgICAgJnN0YXRlLT5iYXNl
LAo+ICsJCQkJICAgICZkcm1fYnJpZGdlX3ByaXZfc3RhdGVfZnVuY3MpOwo+ICsKPiAgCWlmIChw
cmV2aW91cykKPiAgCQlsaXN0X3NwbGljZSgmdG1wX2xpc3QsICZwcmV2aW91cy0+Y2hhaW5fbm9k
ZSk7Cj4gIAllbHNlCj4gIAkJbGlzdF9zcGxpY2UoJnRtcF9saXN0LCAmZW5jb2Rlci0+YnJpZGdl
X2NoYWluKTsKPiAgCj4gIAlyZXR1cm4gMDsKPiArCj4gK2Vycl9kZXRhY2hfYnJpZGdlOgo+ICsJ
aWYgKGJyaWRnZS0+ZnVuY3MtPmRldGFjaCkKPiArCQlicmlkZ2UtPmZ1bmNzLT5kZXRhY2goYnJp
ZGdlKTsKPiArCj4gK2Vycl9yZXNldF9icmlkZ2U6Cj4gKwlicmlkZ2UtPmRldiA9IE5VTEw7Cj4g
KwlicmlkZ2UtPmVuY29kZXIgPSBOVUxMOwo+ICsJcmV0dXJuIHJldDsKPiAgfQo+ICBFWFBPUlRf
U1lNQk9MKGRybV9icmlkZ2VfYXR0YWNoKTsKPiAgCj4gQEAgLTE1Niw2ICsyMTAsOCBAQCB2b2lk
IGRybV9icmlkZ2VfZGV0YWNoKHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UpCj4gIAlpZiAoV0FS
Tl9PTighYnJpZGdlLT5kZXYpKQo+ICAJCXJldHVybjsKPiAgCj4gKwlkcm1fYXRvbWljX3ByaXZh
dGVfb2JqX2ZpbmkoJmJyaWRnZS0+YmFzZSk7Cj4gKwo+ICAJaWYgKGJyaWRnZS0+ZnVuY3MtPmRl
dGFjaCkKPiAgCQlicmlkZ2UtPmZ1bmNzLT5kZXRhY2goYnJpZGdlKTsKPiAgCj4gQEAgLTUyMiw2
ICs1NzgsMTA4IEBAIHZvaWQgZHJtX2F0b21pY19icmlkZ2VfY2hhaW5fZW5hYmxlKHN0cnVjdCBk
cm1fYnJpZGdlICpicmlkZ2UsCj4gIH0KPiAgRVhQT1JUX1NZTUJPTChkcm1fYXRvbWljX2JyaWRn
ZV9jaGFpbl9lbmFibGUpOwo+ICAKPiArLyoqCj4gKyAqIGRybV9hdG9taWNfaGVscGVyX2JyaWRn
ZV9kZXN0cm95X3N0YXRlKCkgLSBEZWZhdWx0IGRlc3Ryb3kgc3RhdGUgaGVscGVyCj4gKyAqIEBi
cmlkZ2U6IHRoZSBicmlkZ2UgdGhpcyBzdGF0ZSByZWZlcnMgdG8KPiArICogQHN0YXRlOiBzdGF0
ZSBvYmplY3QgdG8gZGVzdHJveQo+ICsgKgo+ICsgKiBKdXN0IGEgc2ltcGxlIGtmcmVlKCkgZm9y
IG5vdy4KPiArICovCj4gK3ZvaWQgZHJtX2F0b21pY19oZWxwZXJfYnJpZGdlX2Rlc3Ryb3lfc3Rh
dGUoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSwKPiArCQkJCQkgICAgc3RydWN0IGRybV9icmlk
Z2Vfc3RhdGUgKnN0YXRlKQo+ICt7Cj4gKwlrZnJlZShzdGF0ZSk7Cj4gK30KPiArRVhQT1JUX1NZ
TUJPTChkcm1fYXRvbWljX2hlbHBlcl9icmlkZ2VfZGVzdHJveV9zdGF0ZSk7Cj4gKwo+ICsvKioK
PiArICogX19kcm1fYXRvbWljX2hlbHBlcl9icmlkZ2VfcmVzZXQoKSAtIEluaXRpYWxpemUgYSBi
cmlkZ2Ugc3RhdGUgdG8gaXRzCj4gKyAqCQkJCQlkZWZhdWx0Cj4gKyAqIEBicmlkZ2U6IHRoZSBi
cmlkZ2UgdGhpcyBzdGF0ZSBpcyByZWZlcnMgdG8KPiArICogQHN0YXRlOiBicmlkZ2Ugc3RhdGUg
dG8gaW5pdGlhbGl6ZQo+ICsgKgo+ICsgKiBGb3Igbm93IGl0J3MganVzdCBhIG1lbXNldCgwKSBw
bHVzIGEgc3RhdGUtPmJyaWRnZSBhc3NpZ25tZW50LiBNaWdodAo+ICsgKiBiZSBleHRlbmRlZCBp
biB0aGUgZnV0dXJlLgo+ICsgKi8KPiArdm9pZCBfX2RybV9hdG9taWNfaGVscGVyX2JyaWRnZV9y
ZXNldChzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlLAo+ICsJCQkJICAgICAgc3RydWN0IGRybV9i
cmlkZ2Vfc3RhdGUgKnN0YXRlKQo+ICt7Cj4gKwltZW1zZXQoc3RhdGUsIDAsIHNpemVvZigqc3Rh
dGUpKTsKPiArCXN0YXRlLT5icmlkZ2UgPSBicmlkZ2U7Cj4gK30KPiArRVhQT1JUX1NZTUJPTChf
X2RybV9hdG9taWNfaGVscGVyX2JyaWRnZV9yZXNldCk7Cj4gKwo+ICsvKioKPiArICogZHJtX2F0
b21pY19oZWxwZXJfYnJpZGdlX3Jlc2V0KCkgLSBkZWZhdWx0ICZkcm1fcGxhbmVfZnVuY3MucmVz
ZXQgaG9vayBmb3IKPiArICoJCQkJICAgICAgYnJpZGdlcwo+ICsgKiBAYnJpZGdlOiB0aGUgYnJp
ZGdlIHRvIHJlc2V0IHN0YXRlIG9uCj4gKyAqCj4gKyAqIFJlc2V0cyB0aGUgYXRvbWljIHN0YXRl
IGZvciBAYnJpZGdlIGJ5IGZyZWVpbmcgdGhlIHN0YXRlIHBvaW50ZXIgKHdoaWNoCj4gKyAqIG1p
Z2h0IGJlIE5VTEwsIGUuZy4gYXQgZHJpdmVyIGxvYWQgdGltZSkgYW5kIGFsbG9jYXRpbmcgYSBu
ZXcgZW1wdHkgc3RhdGUKPiArICogb2JqZWN0Lgo+ICsgKgo+ICsgKiBSRVRVUk5TOgo+ICsgKiBB
IHZhbGlkIGRybV9icmlkZ2Vfc3RhdGUgb2JqZWN0IGluIGNhc2Ugb2Ygc3VjY2VzcywgYW4gRVJS
X1BUUigpCj4gKyAqIGdpdmluZyB0aGUgcmVhb24gb2YgdGhlIGZhaWx1cmUgb3RoZXJ3aXNlLgo+
ICsgKi8KPiArc3RydWN0IGRybV9icmlkZ2Vfc3RhdGUgKgo+ICtkcm1fYXRvbWljX2hlbHBlcl9i
cmlkZ2VfcmVzZXQoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSkKPiArewo+ICsJc3RydWN0IGRy
bV9icmlkZ2Vfc3RhdGUgKmJyaWRnZV9zdGF0ZTsKPiArCj4gKwlicmlkZ2Vfc3RhdGUgPSBremFs
bG9jKHNpemVvZigqYnJpZGdlX3N0YXRlKSwgR0ZQX0tFUk5FTCk7Cj4gKwlpZiAoIWJyaWRnZV9z
dGF0ZSkKPiArCQlyZXR1cm4gRVJSX1BUUigtRU5PTUVNKTsKPiArCj4gKwlfX2RybV9hdG9taWNf
aGVscGVyX2JyaWRnZV9yZXNldChicmlkZ2UsIGJyaWRnZV9zdGF0ZSk7Cj4gKwlyZXR1cm4gYnJp
ZGdlX3N0YXRlOwo+ICt9Cj4gK0VYUE9SVF9TWU1CT0woZHJtX2F0b21pY19oZWxwZXJfYnJpZGdl
X3Jlc2V0KTsKPiArCj4gKy8qKgo+ICsgKiBfX2RybV9hdG9taWNfaGVscGVyX2JyaWRnZV9kdXBs
aWNhdGVfc3RhdGUoKSAtIENvcHkgdGhlIGNvbnRlbnQgb2YgdGhlCj4gKyAqCQkJCQkJICBjdXJy
ZW50IGJyaWRnZSBzdGF0ZSBpbnRvIGEKPiArICoJCQkJCQkgIG5ldyBvbmUKPiArICogQGJyaWRn
ZTogYnJpZGdlIGVsZW1lbnQgdGhlIG9sZCBhbmQgbmV3IHN0YXRlcyBhcmUgcmVmZXJyaW5nIHRv
Cj4gKyAqIEBuZXc6IG5ldyBicmlkZ2Ugc3RhdGUgdG8gY29weSB0bwo+ICsgKgo+ICsgKiBTaG91
bGQgYmUgdXNlZCBieSBjdXN0b20gJmRybV9icmlkZ2VfZnVuY3MuYXRvbWljX2R1cGxpY2F0ZSgp
IGltcGxlbWVudGF0aW9uCj4gKyAqIHRvIGNvcHkgdGhlIHByZXZpb3VzIHN0YXRlIGludG8gdGhl
IG5ldyBvYmplY3QuCj4gKyAqLwo+ICt2b2lkIF9fZHJtX2F0b21pY19oZWxwZXJfYnJpZGdlX2R1
cGxpY2F0ZV9zdGF0ZShzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlLAo+ICsJCQkJCQlzdHJ1Y3Qg
ZHJtX2JyaWRnZV9zdGF0ZSAqbmV3KQo+ICt7Cj4gKwlfX2RybV9hdG9taWNfaGVscGVyX3ByaXZh
dGVfb2JqX2R1cGxpY2F0ZV9zdGF0ZSgmYnJpZGdlLT5iYXNlLAo+ICsJCQkJCQkJJm5ldy0+YmFz
ZSk7Cj4gKwluZXctPmJyaWRnZSA9IGJyaWRnZTsKPiArfQo+ICtFWFBPUlRfU1lNQk9MKF9fZHJt
X2F0b21pY19oZWxwZXJfYnJpZGdlX2R1cGxpY2F0ZV9zdGF0ZSk7Cj4gKwo+ICsvKioKPiArICog
ZHJtX2F0b21pY19oZWxwZXJfZHVwbGljYXRlX2JyaWRnZV9zdGF0ZSgpIC0gRGVmYXVsdCBkdXBs
aWNhdGUgc3RhdGUgaGVscGVyCj4gKyAqIEBicmlkZ2U6IGJyaWRnZSBjb250YWluaW5nIHRoZSBz
dGF0ZSB0byBkdXBsaWNhdGUKPiArICoKPiArICogRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiAm
ZHJtX2JyaWRnZV9mdW5jcy5hdG9taWNfZHVwbGljYXRlKCkuCj4gKyAqCj4gKyAqIFJFVFVSTlM6
Cj4gKyAqIGEgdmFsaWQgc3RhdGUgb2JqZWN0IG9yIE5VTEwgaWYgdGhlIGFsbG9jYXRpb24gZmFp
bHMuCj4gKyAqLwo+ICtzdHJ1Y3QgZHJtX2JyaWRnZV9zdGF0ZSAqCj4gK2RybV9hdG9taWNfaGVs
cGVyX2JyaWRnZV9kdXBsaWNhdGVfc3RhdGUoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSkKPiAr
ewo+ICsJc3RydWN0IGRybV9icmlkZ2Vfc3RhdGUgKm5ldzsKPiArCj4gKwlpZiAoV0FSTl9PTigh
YnJpZGdlLT5iYXNlLnN0YXRlKSkKPiArCQlyZXR1cm4gTlVMTDsKPiArCj4gKwluZXcgPSBremFs
bG9jKHNpemVvZigqbmV3KSwgR0ZQX0tFUk5FTCk7Cj4gKwlpZiAobmV3KQo+ICsJCV9fZHJtX2F0
b21pY19oZWxwZXJfYnJpZGdlX2R1cGxpY2F0ZV9zdGF0ZShicmlkZ2UsIG5ldyk7Cj4gKwo+ICsJ
cmV0dXJuIG5ldzsKPiArfQo+ICtFWFBPUlRfU1lNQk9MKGRybV9hdG9taWNfaGVscGVyX2JyaWRn
ZV9kdXBsaWNhdGVfc3RhdGUpOwo+ICsKPiAgI2lmZGVmIENPTkZJR19PRgo+ICAvKioKPiAgICog
b2ZfZHJtX2ZpbmRfYnJpZGdlIC0gZmluZCB0aGUgYnJpZGdlIGNvcnJlc3BvbmRpbmcgdG8gdGhl
IGRldmljZSBub2RlIGluCj4gZGlmZiAtLWdpdCBhL2luY2x1ZGUvZHJtL2RybV9hdG9taWMuaCBi
L2luY2x1ZGUvZHJtL2RybV9hdG9taWMuaAo+IGluZGV4IDkyN2UxMjA1ZDdhYS4uMWMwYTA4MjE3
NzEyIDEwMDY0NAo+IC0tLSBhL2luY2x1ZGUvZHJtL2RybV9hdG9taWMuaAo+ICsrKyBiL2luY2x1
ZGUvZHJtL2RybV9hdG9taWMuaAo+IEBAIC02NjAsNiArNjYwLDkgQEAgX19kcm1fYXRvbWljX2dl
dF9jdXJyZW50X3BsYW5lX3N0YXRlKHN0cnVjdCBkcm1fYXRvbWljX3N0YXRlICpzdGF0ZSwKPiAg
CXJldHVybiBwbGFuZS0+c3RhdGU7Cj4gIH0KPiAgCj4gK2ludCBfX211c3RfY2hlY2sKPiArZHJt
X2F0b21pY19hZGRfZW5jb2Rlcl9icmlkZ2VzKHN0cnVjdCBkcm1fYXRvbWljX3N0YXRlICpzdGF0
ZSwKPiArCQkJICAgICAgIHN0cnVjdCBkcm1fZW5jb2RlciAqZW5jb2Rlcik7Cj4gIGludCBfX211
c3RfY2hlY2sKPiAgZHJtX2F0b21pY19hZGRfYWZmZWN0ZWRfY29ubmVjdG9ycyhzdHJ1Y3QgZHJt
X2F0b21pY19zdGF0ZSAqc3RhdGUsCj4gIAkJCQkgICBzdHJ1Y3QgZHJtX2NydGMgKmNydGMpOwo+
IGRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS9kcm1fYnJpZGdlLmggYi9pbmNsdWRlL2RybS9kcm1f
YnJpZGdlLmgKPiBpbmRleCAyMzhlODRhYjYzYTMuLmE2MDhjNDdkMWRlNSAxMDA2NDQKPiAtLS0g
YS9pbmNsdWRlL2RybS9kcm1fYnJpZGdlLmgKPiArKysgYi9pbmNsdWRlL2RybS9kcm1fYnJpZGdl
LmgKPiBAQCAtMjUsNiArMjUsNyBAQAo+ICAKPiAgI2luY2x1ZGUgPGxpbnV4L2xpc3QuaD4KPiAg
I2luY2x1ZGUgPGxpbnV4L2N0eXBlLmg+Cj4gKyNpbmNsdWRlIDxkcm0vZHJtX2F0b21pYy5oPgo+
ICAjaW5jbHVkZSA8ZHJtL2RybV9lbmNvZGVyLmg+Cj4gICNpbmNsdWRlIDxkcm0vZHJtX21vZGVf
b2JqZWN0Lmg+Cj4gICNpbmNsdWRlIDxkcm0vZHJtX21vZGVzLmg+Cj4gQEAgLTMzLDYgKzM0LDIz
IEBAIHN0cnVjdCBkcm1fYnJpZGdlOwo+ICBzdHJ1Y3QgZHJtX2JyaWRnZV90aW1pbmdzOwo+ICBz
dHJ1Y3QgZHJtX3BhbmVsOwo+ICAKPiArLyoqCj4gKyAqIHN0cnVjdCBkcm1fYnJpZGdlX3N0YXRl
IC0gQXRvbWljIGJyaWRnZSBzdGF0ZSBvYmplY3QKPiArICogQGJhc2U6IGluaGVyaXQgZnJvbSAm
ZHJtX3ByaXZhdGVfc3RhdGUKPiArICogQGJyaWRnZTogdGhlIGJyaWRnZSB0aGlzIHN0YXRlIHJl
ZmVycyB0bwo+ICsgKi8KPiArc3RydWN0IGRybV9icmlkZ2Vfc3RhdGUgewo+ICsJc3RydWN0IGRy
bV9wcml2YXRlX3N0YXRlIGJhc2U7Cj4gKwo+ICsJc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZTsK
PiArfTsKPiArCj4gK3N0YXRpYyBpbmxpbmUgc3RydWN0IGRybV9icmlkZ2Vfc3RhdGUgKgo+ICtk
cm1fcHJpdl90b19icmlkZ2Vfc3RhdGUoc3RydWN0IGRybV9wcml2YXRlX3N0YXRlICpwcml2KQo+
ICt7Cj4gKwlyZXR1cm4gY29udGFpbmVyX29mKHByaXYsIHN0cnVjdCBkcm1fYnJpZGdlX3N0YXRl
LCBiYXNlKTsKPiArfQo+ICsKPiAgLyoqCj4gICAqIHN0cnVjdCBkcm1fYnJpZGdlX2Z1bmNzIC0g
ZHJtX2JyaWRnZSBjb250cm9sIGZ1bmN0aW9ucwo+ICAgKi8KPiBAQCAtMzM4LDYgKzM1Niw0OCBA
QCBzdHJ1Y3QgZHJtX2JyaWRnZV9mdW5jcyB7Cj4gIAkgKi8KPiAgCXZvaWQgKCphdG9taWNfcG9z
dF9kaXNhYmxlKShzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlLAo+ICAJCQkJICAgIHN0cnVjdCBk
cm1fYXRvbWljX3N0YXRlICpzdGF0ZSk7Cj4gKwo+ICsJLyoqCj4gKwkgKiBAYXRvbWljX2R1cGxp
Y2F0ZV9zdGF0ZToKPiArCSAqCj4gKwkgKiBEdXBsaWNhdGUgdGhlIGN1cnJlbnQgYnJpZGdlIHN0
YXRlIG9iamVjdCAod2hpY2ggaXMgZ3VhcmFudGVlZCB0byBiZQo+ICsJICogbm9uLU5VTEwpLgo+
ICsJICoKPiArCSAqIFRoZSBhdG9taWNfZHVwbGljYXRlX3N0YXRlKCkgaXMgb3B0aW9uYWwsIHRo
ZSBjb3JlIGZhbGxzIGJhY2sgb24KPiArCSAqICZkcm1fYXRvbWljX2hlbHBlcl9icmlkZ2VfZHVw
bGljYXRlX3N0YXRlKCkgd2hlbiBub3QgaW1wbGVtZW50ZWQuCj4gKwkgKgo+ICsJICogUkVUVVJO
UzoKPiArCSAqIEEgdmFsaWQgZHJtX2JyaWRnZV9zdGF0ZSBvYmplY3Qgb3IgTlVMTCBpZiB0aGUg
YWxsb2NhdGlvbiBmYWlscy4KPiArCSAqLwo+ICsJc3RydWN0IGRybV9icmlkZ2Vfc3RhdGUgKigq
YXRvbWljX2R1cGxpY2F0ZV9zdGF0ZSkoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSk7Cj4gKwo+
ICsJLyoqCj4gKwkgKiBAYXRvbWljX2Rlc3Ryb3lfc3RhdGU6Cj4gKwkgKgo+ICsJICogRGVzdHJv
eSBhIGJyaWRnZSBzdGF0ZSBvYmplY3QgcHJldmlvdXNseSBhbGxvY2F0ZWQgYnkKPiArCSAqICZk
cm1fYnJpZGdlX2Z1bmNzLmF0b21pY19kdXBsaWNhdGVfc3RhdGUoKS4KPiArCSAqCj4gKwkgKiBU
aGUgYXRvbWljX2Rlc3Ryb3lfc3RhdGUgaG9vayBpcyBvcHRpb25hbCwgdGhlIGNvcmVmIGZhbGxz
IGJhY2sgb24KPiArCSAqICZkcm1fYXRvbWljX2hlbHBlcl9icmlkZ2VfZGVzdHJveV9zdGF0ZSgp
IHdoZW4gbm90IGltcGxlbWVudGVkLgo+ICsJICovCj4gKwl2b2lkICgqYXRvbWljX2Rlc3Ryb3lf
c3RhdGUpKHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UsCj4gKwkJCQkgICAgIHN0cnVjdCBkcm1f
YnJpZGdlX3N0YXRlICpzdGF0ZSk7Cj4gKwo+ICsJLyoqCj4gKwkgKiBAYXRvbWljX3Jlc2V0Ogo+
ICsJICoKPiArCSAqIFJlc2V0IHRoZSBicmlkZ2UgdG8gYSBwcmVkZWZpbmVkIHN0YXRlIChvciBy
ZXRyaWV2ZSBpdHMgY3VycmVudAo+ICsJICogc3RhdGUpIGFuZCByZXR1cm4gYSAmZHJtX2JyaWRn
ZV9zdGF0ZSBvYmplY3QgbWF0Y2hpbmcgdGhpcyBzdGF0ZS4KPiArCSAqIFRoaXMgZnVuY3Rpb24g
aXMgY2FsbGVkIGF0IGF0dGFjaCB0aW1lLgo+ICsJICoKPiArCSAqIFRoZSBhdG9taWNfcmVzZXQg
aG9vayBpcyBvcHRpb25hbCwgdGhlIGNvcmUgZmFsbHMgYmFjayBvbgo+ICsJICogJmRybV9hdG9t
aWNfaGVscGVyX2JyaWRnZV9yZXNldCgpIHdoZW4gbm90IGltcGxlbWVudGVkLgo+ICsJICoKPiAr
CSAqIFJFVFVSTlM6Cj4gKwkgKiBBIHZhbGlkIGRybV9icmlkZ2Vfc3RhdGUgb2JqZWN0IGluIGNh
c2Ugb2Ygc3VjY2VzcywgYW4gRVJSX1BUUigpCj4gKwkgKiBnaXZpbmcgdGhlIHJlYW9uIG9mIHRo
ZSBmYWlsdXJlIG90aGVyd2lzZS4KPiArCSAqLwo+ICsJc3RydWN0IGRybV9icmlkZ2Vfc3RhdGUg
KigqYXRvbWljX3Jlc2V0KShzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlKTsKPiAgfTsKPiAgCj4g
IC8qKgo+IEBAIC0zODAsNiArNDQwLDggQEAgc3RydWN0IGRybV9icmlkZ2VfdGltaW5ncyB7Cj4g
ICAqIHN0cnVjdCBkcm1fYnJpZGdlIC0gY2VudHJhbCBEUk0gYnJpZGdlIGNvbnRyb2wgc3RydWN0
dXJlCj4gICAqLwo+ICBzdHJ1Y3QgZHJtX2JyaWRnZSB7Cj4gKwkvKiogQGJhc2U6IGluaGVyaXQg
ZnJvbSAmZHJtX3ByaXZhdGVfb2JqZWN0ICovCj4gKwlzdHJ1Y3QgZHJtX3ByaXZhdGVfb2JqIGJh
c2U7Cj4gIAkvKiogQGRldjogRFJNIGRldmljZSB0aGlzIGJyaWRnZSBiZWxvbmdzIHRvICovCj4g
IAlzdHJ1Y3QgZHJtX2RldmljZSAqZGV2Owo+ICAJLyoqIEBlbmNvZGVyOiBlbmNvZGVyIHRvIHdo
aWNoIHRoaXMgYnJpZGdlIGlzIGNvbm5lY3RlZCAqLwo+IEBAIC00MDQsNiArNDY2LDEyIEBAIHN0
cnVjdCBkcm1fYnJpZGdlIHsKPiAgCXZvaWQgKmRyaXZlcl9wcml2YXRlOwo+ICB9Owo+ICAKPiAr
c3RhdGljIGlubGluZSBzdHJ1Y3QgZHJtX2JyaWRnZSAqCj4gK2RybV9wcml2X3RvX2JyaWRnZShz
dHJ1Y3QgZHJtX3ByaXZhdGVfb2JqICpwcml2KQo+ICt7Cj4gKwlyZXR1cm4gY29udGFpbmVyX29m
KHByaXYsIHN0cnVjdCBkcm1fYnJpZGdlLCBiYXNlKTsKPiArfQo+ICsKPiAgdm9pZCBkcm1fYnJp
ZGdlX2FkZChzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlKTsKPiAgdm9pZCBkcm1fYnJpZGdlX3Jl
bW92ZShzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlKTsKPiAgc3RydWN0IGRybV9icmlkZ2UgKm9m
X2RybV9maW5kX2JyaWRnZShzdHJ1Y3QgZGV2aWNlX25vZGUgKm5wKTsKPiBAQCAtNDc1LDYgKzU0
Myw1NiBAQCB2b2lkIGRybV9hdG9taWNfYnJpZGdlX2NoYWluX3ByZV9lbmFibGUoc3RydWN0IGRy
bV9icmlkZ2UgKmJyaWRnZSwKPiAgdm9pZCBkcm1fYXRvbWljX2JyaWRnZV9jaGFpbl9lbmFibGUo
c3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSwKPiAgCQkJCSAgICBzdHJ1Y3QgZHJtX2F0b21pY19z
dGF0ZSAqc3RhdGUpOwo+ICAKPiArdm9pZCBfX2RybV9hdG9taWNfaGVscGVyX2JyaWRnZV9yZXNl
dChzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlLAo+ICsJCQkJICAgICAgc3RydWN0IGRybV9icmlk
Z2Vfc3RhdGUgKnN0YXRlKTsKPiArc3RydWN0IGRybV9icmlkZ2Vfc3RhdGUgKgo+ICtkcm1fYXRv
bWljX2hlbHBlcl9icmlkZ2VfcmVzZXQoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSk7Cj4gK3Zv
aWQgZHJtX2F0b21pY19oZWxwZXJfYnJpZGdlX2Rlc3Ryb3lfc3RhdGUoc3RydWN0IGRybV9icmlk
Z2UgKmJyaWRnZSwKPiArCQkJCQkgICAgc3RydWN0IGRybV9icmlkZ2Vfc3RhdGUgKnN0YXRlKTsK
PiArdm9pZCBfX2RybV9hdG9taWNfaGVscGVyX2JyaWRnZV9kdXBsaWNhdGVfc3RhdGUoc3RydWN0
IGRybV9icmlkZ2UgKmJyaWRnZSwKPiArCQkJCQkJc3RydWN0IGRybV9icmlkZ2Vfc3RhdGUgKm5l
dyk7Cj4gK3N0cnVjdCBkcm1fYnJpZGdlX3N0YXRlICoKPiArZHJtX2F0b21pY19oZWxwZXJfYnJp
ZGdlX2R1cGxpY2F0ZV9zdGF0ZShzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlKTsKPiArCj4gK3N0
YXRpYyBpbmxpbmUgc3RydWN0IGRybV9icmlkZ2Vfc3RhdGUgKgo+ICtkcm1fYXRvbWljX2dldF9i
cmlkZ2Vfc3RhdGUoc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnN0YXRlLAo+ICsJCQkgICAgc3Ry
dWN0IGRybV9icmlkZ2UgKmJyaWRnZSkKPiArewo+ICsJc3RydWN0IGRybV9wcml2YXRlX3N0YXRl
ICpvYmpfc3RhdGU7Cj4gKwo+ICsJb2JqX3N0YXRlID0gZHJtX2F0b21pY19nZXRfcHJpdmF0ZV9v
Ympfc3RhdGUoc3RhdGUsICZicmlkZ2UtPmJhc2UpOwo+ICsJaWYgKCFvYmpfc3RhdGUpCj4gKwkJ
cmV0dXJuIE5VTEw7Cj4gKwo+ICsJcmV0dXJuIGRybV9wcml2X3RvX2JyaWRnZV9zdGF0ZShvYmpf
c3RhdGUpOwo+ICt9Cj4gKwo+ICtzdGF0aWMgaW5saW5lIHN0cnVjdCBkcm1fYnJpZGdlX3N0YXRl
ICoKPiArZHJtX2F0b21pY19nZXRfb2xkX2JyaWRnZV9zdGF0ZShzdHJ1Y3QgZHJtX2F0b21pY19z
dGF0ZSAqc3RhdGUsCj4gKwkJCQlzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlKQo+ICt7Cj4gKwlz
dHJ1Y3QgZHJtX3ByaXZhdGVfc3RhdGUgKm9ial9zdGF0ZTsKPiArCj4gKwlvYmpfc3RhdGUgPSBk
cm1fYXRvbWljX2dldF9vbGRfcHJpdmF0ZV9vYmpfc3RhdGUoc3RhdGUsICZicmlkZ2UtPmJhc2Up
Owo+ICsJaWYgKCFvYmpfc3RhdGUpCj4gKwkJcmV0dXJuIE5VTEw7Cj4gKwo+ICsJcmV0dXJuIGRy
bV9wcml2X3RvX2JyaWRnZV9zdGF0ZShvYmpfc3RhdGUpOwo+ICt9Cj4gKwo+ICtzdGF0aWMgaW5s
aW5lIHN0cnVjdCBkcm1fYnJpZGdlX3N0YXRlICoKPiArZHJtX2F0b21pY19nZXRfbmV3X2JyaWRn
ZV9zdGF0ZShzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqc3RhdGUsCj4gKwkJCQlzdHJ1Y3QgZHJt
X2JyaWRnZSAqYnJpZGdlKQo+ICt7Cj4gKwlzdHJ1Y3QgZHJtX3ByaXZhdGVfc3RhdGUgKm9ial9z
dGF0ZTsKPiArCj4gKwlvYmpfc3RhdGUgPSBkcm1fYXRvbWljX2dldF9uZXdfcHJpdmF0ZV9vYmpf
c3RhdGUoc3RhdGUsICZicmlkZ2UtPmJhc2UpOwo+ICsJaWYgKCFvYmpfc3RhdGUpCj4gKwkJcmV0
dXJuIE5VTEw7Cj4gKwo+ICsJcmV0dXJuIGRybV9wcml2X3RvX2JyaWRnZV9zdGF0ZShvYmpfc3Rh
dGUpOwo+ICt9Cj4gKwo+ICAjaWZkZWYgQ09ORklHX0RSTV9QQU5FTF9CUklER0UKPiAgc3RydWN0
IGRybV9icmlkZ2UgKmRybV9wYW5lbF9icmlkZ2VfYWRkKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVs
KTsKPiAgc3RydWN0IGRybV9icmlkZ2UgKmRybV9wYW5lbF9icmlkZ2VfYWRkX3R5cGVkKHN0cnVj
dCBkcm1fcGFuZWwgKnBhbmVsLAo+IAoKUmV2aWV3ZWQtYnk6IE5laWwgQXJtc3Ryb25nIDxuYXJt
c3Ryb25nQGJheWxpYnJlLmNvbT4KX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRl
c2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8v
ZHJpLWRldmVs
