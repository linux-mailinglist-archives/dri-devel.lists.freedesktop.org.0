Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 1AF934A276
	for <lists+dri-devel@lfdr.de>; Tue, 18 Jun 2019 15:38:24 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A5B986E171;
	Tue, 18 Jun 2019 13:38:21 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from bhuna.collabora.co.uk (bhuna.collabora.co.uk [46.235.227.227])
 by gabe.freedesktop.org (Postfix) with ESMTPS id AF8326E171
 for <dri-devel@lists.freedesktop.org>; Tue, 18 Jun 2019 13:38:19 +0000 (UTC)
Received: from [127.0.0.1] (localhost [127.0.0.1])
 (Authenticated sender: ezequiel) with ESMTPSA id 8A3DD263ABB
Message-ID: <1560aa16c5655f7eeab7c8e900b8e0be391e7976.camel@collabora.com>
Subject: Re: [RFC/WIP] drm/rockchip: Support CRTC gamma LUT
From: Ezequiel Garcia <ezequiel@collabora.com>
To: Doug Anderson <dianders@chromium.org>
Date: Tue, 18 Jun 2019 10:38:10 -0300
In-Reply-To: <CAD=FV=U84U0TaC=VUXeggCDJJNkPOJYmOL0JNT1Lf7Gecv-5Aw@mail.gmail.com>
References: <20190613192244.5447-1-ezequiel@collabora.com>
 <CAD=FV=U84U0TaC=VUXeggCDJJNkPOJYmOL0JNT1Lf7Gecv-5Aw@mail.gmail.com>
Organization: Collabora
User-Agent: Evolution 3.30.5-1.1 
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: JacopoMondi <jacopo@jmondi.org>,
 dri-devel <dri-devel@lists.freedesktop.org>,
 "open list:ARM/Rockchip SoC..." <linux-rockchip@lists.infradead.org>,
 Boris Brezillon <boris.brezillon@collabora.com>,
 Sean Paul <seanpaul@chromium.org>, kernel@collabora.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gRnJpLCAyMDE5LTA2LTE0IGF0IDEzOjA1IC0wNzAwLCBEb3VnIEFuZGVyc29uIHdyb3RlOgo+
IEhpLAo+IAo+IE9uIFRodSwgSnVuIDEzLCAyMDE5IGF0IDEyOjIzIFBNIEV6ZXF1aWVsIEdhcmNp
YSA8ZXplcXVpZWxAY29sbGFib3JhLmNvbT4gd3JvdGU6Cj4gPiBAQCAtMTc0NCw2ICsxNzkzLDQx
IEBAIGludCByb2NrY2hpcF9kcm1fd2FpdF92YWN0X2VuZChzdHJ1Y3QgZHJtX2NydGMgKmNydGMs
IHVuc2lnbmVkIGludCBtc3RpbWVvdXQpCj4gPiAgfQo+ID4gIEVYUE9SVF9TWU1CT0wocm9ja2No
aXBfZHJtX3dhaXRfdmFjdF9lbmQpOwo+ID4gCj4gPiArc3RhdGljIGludCB2b3BfZ2FtbWFfbHV0
X3JlcXVlc3Qoc3RydWN0IGRldmljZSAqZGV2LAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgc3RydWN0IHJlc291cmNlICpyZXMsIHN0cnVjdCB2b3AgKnZvcCkKPiA+ICt7Cj4g
PiArICAgICAgIHJlc291cmNlX3NpemVfdCBvZmZzZXQgPSB2b3AtPmRhdGEtPmdhbW1hX2x1dF9h
ZGRyX29mZjsKPiA+ICsgICAgICAgcmVzb3VyY2Vfc2l6ZV90IHNpemUgPSBWT1BfR0FNTUFfTFVU
X1NJWkUgKiA0Owo+ID4gKwo+ID4gKyAgICAgICAvKgo+ID4gKyAgICAgICAgKiBTb21lIFNvQ3Mg
KGUuZy4gUkszMjg4KSBoYXZlIHRoZSBnYW1tYSBMVVQgYWRkcmVzcyBhZnRlcgo+ID4gKyAgICAg
ICAgKiB0aGUgTU1VIHJlZ2lzdGVycywgd2hpY2ggbWVhbnMgd2UgY2FuJ3QgcmVxdWVzdCBhbmQg
aW9yZW1hcAo+ID4gKyAgICAgICAgKiB0aGUgZW50aXJlIHJlZ2lzdGVyIHNldC4gT3RoZXIgKGUu
Zy4gUkszMzk5KSBoYXZlIGdhbW1hIExVVAo+ID4gKyAgICAgICAgKiBhZGRyZXNzIGJlZm9yZSBN
TVUuCj4gPiArICAgICAgICAqCj4gPiArICAgICAgICAqIFRoZXJlZm9yZSwgd2UgbmVlZCB0byBy
ZXF1ZXN0IGFuZCBpb3JlbWFwIHRob3NlIHRoYXQgaGF2ZW4ndAo+ID4gKyAgICAgICAgKiBiZWVu
IGFscmVhZHkuCj4gPiArICAgICAgICAqLwo+ID4gKyAgICAgICBpZiAodm9wLT5sZW4gPj0gKG9m
ZnNldCArIHNpemUpKSB7Cj4gPiArICAgICAgICAgICAgICAgdm9wLT5sdXRfcmVncyA9IHZvcC0+
cmVncyArIG9mZnNldDsKPiA+ICsgICAgICAgICAgICAgICByZXR1cm4gMDsKPiA+ICsgICAgICAg
fQo+ID4gKwo+ID4gKyAgICAgICBpZiAoIWRldm1fcmVxdWVzdF9tZW1fcmVnaW9uKGRldiwgcmVz
LT5zdGFydCArIG9mZnNldCwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBzaXplLCBkZXZfbmFtZShkZXYpKSkgewo+ID4gKyAgICAgICAgICAgICAgIGRldl93YXJuKGRl
diwgImNhbid0IHJlcXVlc3QgZ2FtbWEgbHV0IHJlZ2lvblxuIik7Cj4gPiArICAgICAgICAgICAg
ICAgcmV0dXJuIC1FQlVTWTsKPiA+ICsgICAgICAgfQo+ID4gKwo+ID4gKyAgICAgICB2b3AtPmx1
dF9yZWdzID0gZGV2bV9pb3JlbWFwKGRldiwgcmVzLT5zdGFydCArIG9mZnNldCwgc2l6ZSk7Cj4g
PiArICAgICAgIGlmICghdm9wLT5sdXRfcmVncykgewo+ID4gKyAgICAgICAgICAgICAgIGRldl9l
cnIoZGV2LCAiY2FuJ3QgaW9yZW1hcCBnYW1tYSBsdXQgYWRkcmVzc1xuIik7Cj4gPiArICAgICAg
ICAgICAgICAgZGV2bV9yZWxlYXNlX21lbV9yZWdpb24oZGV2LCByZXMtPnN0YXJ0ICsgb2Zmc2V0
LCBzaXplKTsKPiA+ICsgICAgICAgICAgICAgICByZXR1cm4gLUVOT01FTTsKPiA+ICsgICAgICAg
fQo+IAo+IEknbSBjdXJpb3VzIGhlcmUuICBJIHdhcyBhbHdheXMgdW5kZXIgdGhlIGltcHJlc3Np
b24gdGhhdCB5b3Ugd2VyZQo+IHN1cHBvc2VkIHRvIHNwZWNpZnkgYWxsIG9mIHlvdXIgbWVtb3J5
IHJlZ2lvbnMgaW4gdGhlIGRldmljZSB0cmVlLgo+IC4uLmJ1dCBoZXJlIHRoZSBkZXZpY2UgdHJl
ZSBvbiByazMyODggc2F5czoKPiAKPiB2b3BiOiB2b3BAZmY5MzAwMDAgewo+ICAgICBjb21wYXRp
YmxlID0gInJvY2tjaGlwLHJrMzI4OC12b3AiOwo+ICAgICByZWcgPSA8MHgwIDB4ZmY5MzAwMDAg
MHgwIDB4MTljPjsKPiAgICAgLi4uCj4gfTsKPiAKPiAuLi5hbmQgd2UncmUgbm93IG1hcHBpbmcg
NDA5NiBieXRlcyBzdGFydGluZyBhdCAweGZmOTMxMDAwLiAgSXMgdGhhdAo+IHJlYWxseSBsZWdp
dD8gIFdvdWxkbid0IGl0IGJlIGJldHRlciB0byBwdXQgdGhpcyBleHRyYSBtZW1vcnkgcmFuZ2Ug
aW4KPiB0aGUgZHRzPwo+IAo+IEhybSwgYnV0IHRoZW4gSSBndWVzcyB5b3UgbmVlZCB0byBmaWd1
cmUgb3V0IHdoYXQgdG8gZG8gYWJvdXQgb2xkZXIKPiBkZXZpY2UgdHJlZXMuICBEbyB5b3UgZGlz
YWJsZSB0aGUgZ2FtbWEgTFVUIGZlYXR1cmU/ICAuLi5vciBkbyB5b3UgZG8KPiBleGFjdGx5IHdo
YXQgdGhlIGNvZGUgaGVyZSBpcyBkb2luZyBhbmQganVzdCBtYXAgaXQgYW55d2F5PyAgSSBndWVz
cwo+IHlvdSBjb3VsZCBqdXN0IGtlZXAgdGhlIGNvZGUgaGVyZSAoYW5kIGl0J2xsIHdvcmsgZmlu
ZSksIGJ1dCBtYXliZSBpbgo+IHBhcmFsbGVsIHdlIHNob3VsZCBhZGQgaXQgdG8gdGhlIC5kdHMg
ZmlsZSBhbmQgYmluZGluZ3M/Cj4gCgpNYXliZSB3ZSBjYW4gc2VlIGhvdyBpdCB3b3VsZCBsb29r
IGFkZGluZyB0aGUgTFVUIGFzIGEgc2VwYXJhdGUKKG9wdGlvbmFsKSByZXNvdXJjZSBpbiB0aGUg
ZGV2aWNldHJlZSwgYW5kIGRyb3BwaW5nIHN1cHBvcnQgZm9yIFJLMzM5OSwKd2hpY2ggZG9lc24n
dCBzZWVtIHRvIHdvcmsuCgpJJ20gdGFraW5nIGEgbG9vayBhdCBKYWNvcG8ncyBxdWVzdGlvbiBv
biBhdG9taWNfZmx1c2ggdnMuCmF0b21pY19jb21taXRfdGFpbCwgYW5kIHdpbGwgcHJlcGFyZSBh
IHYyLgoKPiAtLS0KPiAKPiBJIHdpbGwgc2F5IHRoYXQsIHRob3VnaCBJIGRvbid0IGtub3cgbXVj
aCAoYW55dGhpbmc/KSBhYm91dCBnYW1tYQo+IExVVHMsIEkgcmFuIHRoZSBDaHJvbWUgT1MgImdh
bW1hX3Rlc3QiIHByb2dyYW0gYW5kIHNhdyBhIHByZXR0eSBSR0IKPiBncmFkaWVudCBvbiB0aGUg
Ym90aCB0aGUgaW50ZXJuYWwgc2NyZWVuIGFuZCBIRE1JIG1vbml0b3Igb24gbXkKPiByazMyODgt
dmV5cm9uLWplcnJ5LiAgVGh1czoKPiAKPiBUZXN0ZWQtYnk6IERvdWdsYXMgQW5kZXJzb24gPGRp
YW5kZXJzQGNocm9taXVtLm9yZz4KClRoYW5rcywKRXplcXVpZWwKCl9fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJp
LWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9y
Zy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
