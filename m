Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 60D307DCDC
	for <lists+dri-devel@lfdr.de>; Thu,  1 Aug 2019 15:53:13 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C4DD16E610;
	Thu,  1 Aug 2019 13:53:09 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from smtp.domeneshop.no (smtp.domeneshop.no
 [IPv6:2a01:5b40:0:3005::1])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A3CBD6E610
 for <dri-devel@lists.freedesktop.org>; Thu,  1 Aug 2019 13:53:07 +0000 (UTC)
Received: from 211.81-166-168.customer.lyse.net ([81.166.168.211]:56446
 helo=localhost.localdomain)
 by smtp.domeneshop.no with esmtpsa (TLS1.2:ECDHE_RSA_AES_128_CBC_SHA1:128)
 (Exim 4.84_2) (envelope-from <noralf@tronnes.org>)
 id 1htBVx-0000ZK-Lg; Thu, 01 Aug 2019 15:53:05 +0200
From: =?UTF-8?q?Noralf=20Tr=C3=B8nnes?= <noralf@tronnes.org>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH 2/4] drm/tiny/ili9341: Move driver to drm/panel
Date: Thu,  1 Aug 2019 15:52:47 +0200
Message-Id: <20190801135249.28803-3-noralf@tronnes.org>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190801135249.28803-1-noralf@tronnes.org>
References: <20190801135249.28803-1-noralf@tronnes.org>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt;
 c=relaxed/relaxed; d=tronnes.org; s=ds201810; 
 h=Content-Transfer-Encoding:Content-Type:MIME-Version:References:In-Reply-To:Message-Id:Date:Subject:Cc:To:From;
 bh=WqKqPCc2un4AFD9qwWq+K9xbeTBI0Vbkg0KcS0KlsKI=; 
 b=DDHBpq7mKcSM/EVUwwZGv3bcLf2+yvA4AePuprBfxaIVFvpYz6D53HalgnAvfhY9xs+8S1ZZ1NnAQAeu1vT1okpUbizPGimTj69mEq9xPTAxxSKcDHcs0P9LN1bwt6umUQLIqSgY8fkxx/hqagMjKyqW82nVs2aHtlTJxPXfiGBNe/tTIxl/C6MFtiiGvzU9xl/FtmWONSmGMUlWUYaFlBJE7oNLfZbq37uJ9079XD1ZsPxpkUyw85B3Mf0XMx01jwSwB0OkKqpFq7o4W1mjnaWBfVA0uJoqzV+6yv1A1wn5b+gHXTrNFoPtVKfVJDBYRcj9udBpjZgjSPHz5kIB/w==;
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: David Lechner <david@lechnology.com>, daniel.vetter@ffwll.ch,
 emil.l.velikov@gmail.com, josef@lusticky.cz, thierry.reding@gmail.com,
 laurent.pinchart@ideasonboard.com, sam@ravnborg.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

TW92ZSB0aGUgZHJpdmVyIHRvIGRybS9wYW5lbCBhbmQgdGFrZSBhZHZhbnRhZ2Ugb2YgdGhlIG5l
dyBwYW5lbCBzdXBwb3J0CmluIGRybV9taXBpX2RiaS4gQ2hhbmdlIHRoZSBmaWxlIG5hbWUgdG8g
bWF0Y2ggdGhlIG5hbWluZyBzdGFuZGFyZCBpbgpkcm0vcGFuZWwuIFRoZSBEUk0gZHJpdmVyIG5h
bWUgaXMga2VwdCBzaW5jZSBpdCBpcyBBQkkuCgpBZGQgbWlzc2luZyBNQUlOVEFJTkVSUyBlbnRy
eS4KCkNjOiBEYXZpZCBMZWNobmVyIDxkYXZpZEBsZWNobm9sb2d5LmNvbT4KU2lnbmVkLW9mZi1i
eTogTm9yYWxmIFRyw7hubmVzIDxub3JhbGZAdHJvbm5lcy5vcmc+Ci0tLQogTUFJTlRBSU5FUlMg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICA3ICsKIGRyaXZlcnMvZ3B1L2Ry
bS9wYW5lbC9LY29uZmlnICAgICAgICAgICAgICAgICB8ICAxMiArKwogZHJpdmVycy9ncHUvZHJt
L3BhbmVsL01ha2VmaWxlICAgICAgICAgICAgICAgIHwgICAxICsKIC4uLi9wYW5lbC1pbGl0ZWst
aWxpOTM0MS5jfSAgICAgICAgICAgICAgICAgICB8IDE3NCArKysrKysrKysrLS0tLS0tLS0KIGRy
aXZlcnMvZ3B1L2RybS90aW55L0tjb25maWcgICAgICAgICAgICAgICAgICB8ICAxMyAtLQogZHJp
dmVycy9ncHUvZHJtL3RpbnkvTWFrZWZpbGUgICAgICAgICAgICAgICAgIHwgICAxIC0KIDYgZmls
ZXMgY2hhbmdlZCwgMTEzIGluc2VydGlvbnMoKyksIDk1IGRlbGV0aW9ucygtKQogcmVuYW1lIGRy
aXZlcnMvZ3B1L2RybS97dGlueS9pbGk5MzQxLmMgPT4gcGFuZWwvcGFuZWwtaWxpdGVrLWlsaTkz
NDEuY30gKDY2JSkKCmRpZmYgLS1naXQgYS9NQUlOVEFJTkVSUyBiL01BSU5UQUlORVJTCmluZGV4
IDZmZTM0NjJhMWY3YS4uNjZiMzg5M2ExMDBmIDEwMDY0NAotLS0gYS9NQUlOVEFJTkVSUworKysg
Yi9NQUlOVEFJTkVSUwpAQCAtNTEwOCw2ICs1MTA4LDEzIEBAIFM6CU1haW50YWluZWQKIEY6CWRy
aXZlcnMvZ3B1L2RybS90aW55L2lsaTkyMjUuYwogRjoJRG9jdW1lbnRhdGlvbi9kZXZpY2V0cmVl
L2JpbmRpbmdzL2Rpc3BsYXkvaWxpdGVrLGlsaTkyMjUudHh0CiAKK0RSTSBEUklWRVIgRk9SIElM
SVRFSyBJTEk5MzQxIFBBTkVMUworTToJRGF2aWQgTGVjaG5lciA8ZGF2aWRAbGVjaG5vbG9neS5j
b20+CitUOglnaXQgZ2l0Oi8vYW5vbmdpdC5mcmVlZGVza3RvcC5vcmcvZHJtL2RybS1taXNjCitT
OglNYWludGFpbmVkCitGOglkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtaWxpdGVrLWlsaTkz
NDEuYworRjoJRG9jdW1lbnRhdGlvbi9kZXZpY2V0cmVlL2JpbmRpbmdzL2Rpc3BsYXkvaWxpdGVr
LGlsaTkzNDEudHh0CisKIERSTSBEUklWRVIgRk9SIEhYODM1N0QgUEFORUxTCiBNOglFcmljIEFu
aG9sdCA8ZXJpY0BhbmhvbHQubmV0PgogVDoJZ2l0IGdpdDovL2Fub25naXQuZnJlZWRlc2t0b3Au
b3JnL2RybS9kcm0tbWlzYwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL0tjb25m
aWcgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvS2NvbmZpZwppbmRleCBlYWVjZDQwY2MzMmUuLmEy
NDk1M2VjMmQ0MCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL0tjb25maWcKKysr
IGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL0tjb25maWcKQEAgLTU2LDYgKzU2LDE4IEBAIGNvbmZp
ZyBEUk1fUEFORUxfSUxJVEVLX0lMOTMyMgogCSAgU2F5IFkgaGVyZSBpZiB5b3Ugd2FudCB0byBl
bmFibGUgc3VwcG9ydCBmb3IgSWxpdGVrIElMOTMyMgogCSAgUVZHQSAoMzIweDI0MCkgUkdCLCBZ
VVYgYW5kIElUVS1UIEJULjY1NiBwYW5lbHMuCiAKK2NvbmZpZyBEUk1fUEFORUxfSUxJVEVLX0lM
STkzNDEKKwl0cmlzdGF0ZSAiSWxpdGVrIElMSTkzNDEgZGlzcGxheSBwYW5lbHMiCisJZGVwZW5k
cyBvbiBTUEkKKwlkZXBlbmRzIG9uIEJBQ0tMSUdIVF9DTEFTU19ERVZJQ0UKKwlzZWxlY3QgRFJN
X0tNU19DTUFfSEVMUEVSCisJc2VsZWN0IERSTV9NSVBJX0RCSQorCWhlbHAKKwkgIERSTSBkcml2
ZXIgZm9yIHRoZSBmb2xsb3dpbmcgSWxpdGVrIElMSTkzNDEgcGFuZWxzOgorCSAgKiBZWDI0MFFW
MjktVCAyLjQiIDI0MHgzMjAgVEZUIChBZGFmcnVpdCAyLjQiKQorCisJICBJZiBNIGlzIHNlbGVj
dGVkIHRoZSBtb2R1bGUgd2lsbCBiZSBjYWxsZWQgcGFuZWwtaWxpdGVrLWlsaTkzNDEuCisKIGNv
bmZpZyBEUk1fUEFORUxfSUxJVEVLX0lMSTk4ODFDCiAJdHJpc3RhdGUgIklsaXRlayBJTEk5ODgx
Qy1iYXNlZCBwYW5lbHMiCiAJZGVwZW5kcyBvbiBPRgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL3BhbmVsL01ha2VmaWxlIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL01ha2VmaWxlCmluZGV4
IDYyZGFlNDVmOGY3NC4uYmE0YTMwM2MxYTY2IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
cGFuZWwvTWFrZWZpbGUKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL01ha2VmaWxlCkBAIC00
LDYgKzQsNyBAQCBvYmotJChDT05GSUdfRFJNX1BBTkVMX0xWRFMpICs9IHBhbmVsLWx2ZHMubwog
b2JqLSQoQ09ORklHX0RSTV9QQU5FTF9TSU1QTEUpICs9IHBhbmVsLXNpbXBsZS5vCiBvYmotJChD
T05GSUdfRFJNX1BBTkVMX0ZFSVlBTkdfRlkwNzAyNERJMjZBMzBEKSArPSBwYW5lbC1mZWl5YW5n
LWZ5MDcwMjRkaTI2YTMwZC5vCiBvYmotJChDT05GSUdfRFJNX1BBTkVMX0lMSVRFS19JTDkzMjIp
ICs9IHBhbmVsLWlsaXRlay1pbGk5MzIyLm8KK29iai0kKENPTkZJR19EUk1fUEFORUxfSUxJVEVL
X0lMSTkzNDEpICs9IHBhbmVsLWlsaXRlay1pbGk5MzQxLm8KIG9iai0kKENPTkZJR19EUk1fUEFO
RUxfSUxJVEVLX0lMSTk4ODFDKSArPSBwYW5lbC1pbGl0ZWstaWxpOTg4MWMubwogb2JqLSQoQ09O
RklHX0RSTV9QQU5FTF9JTk5PTFVYX1AwNzlaQ0EpICs9IHBhbmVsLWlubm9sdXgtcDA3OXpjYS5v
CiBvYmotJChDT05GSUdfRFJNX1BBTkVMX0pESV9MVDA3ME1FMDUwMDApICs9IHBhbmVsLWpkaS1s
dDA3MG1lMDUwMDAubwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3RpbnkvaWxpOTM0MS5j
IGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWlsaXRlay1pbGk5MzQxLmMKc2ltaWxhcml0
eSBpbmRleCA2NiUKcmVuYW1lIGZyb20gZHJpdmVycy9ncHUvZHJtL3RpbnkvaWxpOTM0MS5jCnJl
bmFtZSB0byBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtaWxpdGVrLWlsaTkzNDEuYwppbmRl
eCAzM2I1MWRjN2ZhYTguLmY4ZGY3MzcwMThkMyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L3RpbnkvaWxpOTM0MS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1pbGl0ZWst
aWxpOTM0MS5jCkBAIC0xMiwxNyArMTIsMTcgQEAKICNpbmNsdWRlIDxsaW51eC9kZWxheS5oPgog
I2luY2x1ZGUgPGxpbnV4L2dwaW8vY29uc3VtZXIuaD4KICNpbmNsdWRlIDxsaW51eC9tb2R1bGUu
aD4KKyNpbmNsdWRlIDxsaW51eC9vZl9kZXZpY2UuaD4KICNpbmNsdWRlIDxsaW51eC9wcm9wZXJ0
eS5oPgogI2luY2x1ZGUgPGxpbnV4L3NwaS9zcGkuaD4KIAorI2luY2x1ZGUgPHZpZGVvL21pcGlf
ZGlzcGxheS5oPgorCiAjaW5jbHVkZSA8ZHJtL2RybV9hdG9taWNfaGVscGVyLmg+CiAjaW5jbHVk
ZSA8ZHJtL2RybV9kcnYuaD4KLSNpbmNsdWRlIDxkcm0vZHJtX2ZiX2hlbHBlci5oPgogI2luY2x1
ZGUgPGRybS9kcm1fZ2VtX2NtYV9oZWxwZXIuaD4KLSNpbmNsdWRlIDxkcm0vZHJtX2dlbV9mcmFt
ZWJ1ZmZlcl9oZWxwZXIuaD4KICNpbmNsdWRlIDxkcm0vZHJtX21pcGlfZGJpLmg+Ci0jaW5jbHVk
ZSA8ZHJtL2RybV9tb2Rlc2V0X2hlbHBlci5oPgotI2luY2x1ZGUgPHZpZGVvL21pcGlfZGlzcGxh
eS5oPgorI2luY2x1ZGUgPGRybS9kcm1fcGFuZWwuaD4KIAogI2RlZmluZSBJTEk5MzQxX0ZSTUNU
UjEJCTB4YjEKICNkZWZpbmUgSUxJOTM0MV9ESVNDVFJMCQkweGI2CkBAIC00OSwyMyArNDksNDgg
QEAKICNkZWZpbmUgSUxJOTM0MV9NQURDVExfTVgJQklUKDYpCiAjZGVmaW5lIElMSTkzNDFfTUFE
Q1RMX01ZCUJJVCg3KQogCi1zdGF0aWMgdm9pZCB5eDI0MHF2MjlfZW5hYmxlKHN0cnVjdCBkcm1f
c2ltcGxlX2Rpc3BsYXlfcGlwZSAqcGlwZSwKLQkJCSAgICAgc3RydWN0IGRybV9jcnRjX3N0YXRl
ICpjcnRjX3N0YXRlLAotCQkJICAgICBzdHJ1Y3QgZHJtX3BsYW5lX3N0YXRlICpwbGFuZV9zdGF0
ZSkKK3N0cnVjdCBpbGk5MzQxX2NvbmZpZyB7CisJY29uc3Qgc3RydWN0IGRybV9wYW5lbF9mdW5j
cyAqZnVuY3M7CisJY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGU7Cit9OworCitz
dHJ1Y3QgaWxpOTM0MSB7CisJc3RydWN0IG1pcGlfZGJpX2RldiBkYmlkZXY7IC8qIFRoaXMgbXVz
dCBiZSB0aGUgZmlyc3QgZW50cnkgKi8KKwlzdHJ1Y3QgZHJtX3BhbmVsIHBhbmVsOworCXN0cnVj
dCBiYWNrbGlnaHRfZGV2aWNlICpiYWNrbGlnaHQ7CisJY29uc3Qgc3RydWN0IGlsaTkzNDFfY29u
ZmlnICpjb25mOworfTsKKworc3RhdGljIGlubGluZSBzdHJ1Y3QgaWxpOTM0MSAqcGFuZWxfdG9f
aWxpOTM0MShzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKIHsKLQlzdHJ1Y3QgbWlwaV9kYmlfZGV2
ICpkYmlkZXYgPSBkcm1fdG9fbWlwaV9kYmlfZGV2KHBpcGUtPmNydGMuZGV2KTsKKwlyZXR1cm4g
Y29udGFpbmVyX29mKHBhbmVsLCBzdHJ1Y3QgaWxpOTM0MSwgcGFuZWwpOworfQorCitzdGF0aWMg
aW50IGlsaTkzNDFfZW5hYmxlKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQoreworCXN0cnVjdCBp
bGk5MzQxICppbGkgPSBwYW5lbF90b19pbGk5MzQxKHBhbmVsKTsKKworCXJldHVybiBiYWNrbGln
aHRfZW5hYmxlKGlsaS0+YmFja2xpZ2h0KTsKK30KKworc3RhdGljIGludCBpbGk5MzQxX2Rpc2Fi
bGUoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCit7CisJc3RydWN0IGlsaTkzNDEgKmlsaSA9IHBh
bmVsX3RvX2lsaTkzNDEocGFuZWwpOworCisJcmV0dXJuIGJhY2tsaWdodF9kaXNhYmxlKGlsaS0+
YmFja2xpZ2h0KTsKK30KKworc3RhdGljIGludCB5eDI0MHF2MjlfcHJlcGFyZShzdHJ1Y3QgZHJt
X3BhbmVsICpwYW5lbCkKK3sKKwlzdHJ1Y3QgaWxpOTM0MSAqaWxpID0gcGFuZWxfdG9faWxpOTM0
MShwYW5lbCk7CisJc3RydWN0IG1pcGlfZGJpX2RldiAqZGJpZGV2ID0gJmlsaS0+ZGJpZGV2Owog
CXN0cnVjdCBtaXBpX2RiaSAqZGJpID0gJmRiaWRldi0+ZGJpOwogCXU4IGFkZHJfbW9kZTsKLQlp
bnQgcmV0LCBpZHg7Ci0KLQlpZiAoIWRybV9kZXZfZW50ZXIocGlwZS0+Y3J0Yy5kZXYsICZpZHgp
KQotCQlyZXR1cm47Ci0KLQlEUk1fREVCVUdfS01TKCJcbiIpOworCWludCByZXQ7CiAKIAlyZXQg
PSBtaXBpX2RiaV9wb3dlcm9uX2NvbmRpdGlvbmFsX3Jlc2V0KGRiaWRldik7CiAJaWYgKHJldCA8
IDApCi0JCWdvdG8gb3V0X2V4aXQ7CisJCXJldHVybiByZXQ7CiAJaWYgKHJldCA9PSAxKQogCQln
b3RvIG91dF9lbmFibGU7CiAKQEAgLTEzMCw3MiArMTU1LDU0IEBAIHN0YXRpYyB2b2lkIHl4MjQw
cXYyOV9lbmFibGUoc3RydWN0IGRybV9zaW1wbGVfZGlzcGxheV9waXBlICpwaXBlLAogCX0KIAlh
ZGRyX21vZGUgfD0gSUxJOTM0MV9NQURDVExfQkdSOwogCW1pcGlfZGJpX2NvbW1hbmQoZGJpLCBN
SVBJX0RDU19TRVRfQUREUkVTU19NT0RFLCBhZGRyX21vZGUpOwotCW1pcGlfZGJpX2VuYWJsZV9m
bHVzaChkYmlkZXYsIGNydGNfc3RhdGUsIHBsYW5lX3N0YXRlKTsKLW91dF9leGl0OgotCWRybV9k
ZXZfZXhpdChpZHgpOworCisJcmV0dXJuIDA7CiB9CiAKLXN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJt
X3NpbXBsZV9kaXNwbGF5X3BpcGVfZnVuY3MgaWxpOTM0MV9waXBlX2Z1bmNzID0gewotCS5lbmFi
bGUgPSB5eDI0MHF2MjlfZW5hYmxlLAotCS5kaXNhYmxlID0gbWlwaV9kYmlfcGlwZV9kaXNhYmxl
LAotCS51cGRhdGUgPSBtaXBpX2RiaV9waXBlX3VwZGF0ZSwKLQkucHJlcGFyZV9mYiA9IGRybV9n
ZW1fZmJfc2ltcGxlX2Rpc3BsYXlfcGlwZV9wcmVwYXJlX2ZiLAorc3RhdGljIGNvbnN0IHN0cnVj
dCBkcm1fcGFuZWxfZnVuY3MgeXgyNDBxdjI5X2Z1bmNzID0geworCS5kaXNhYmxlID0gaWxpOTM0
MV9kaXNhYmxlLAorCS5wcmVwYXJlID0geXgyNDBxdjI5X3ByZXBhcmUsCisJLmVuYWJsZSA9IGls
aTkzNDFfZW5hYmxlLAogfTsKIAogc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2Rl
IHl4MjQwcXYyOV9tb2RlID0gewogCURSTV9TSU1QTEVfTU9ERSgyNDAsIDMyMCwgMzcsIDQ5KSwK
IH07CiAKLURFRklORV9EUk1fR0VNX0NNQV9GT1BTKGlsaTkzNDFfZm9wcyk7Ci0KLXN0YXRpYyBz
dHJ1Y3QgZHJtX2RyaXZlciBpbGk5MzQxX2RyaXZlciA9IHsKLQkuZHJpdmVyX2ZlYXR1cmVzCT0g
RFJJVkVSX0dFTSB8IERSSVZFUl9NT0RFU0VUIHwgRFJJVkVSX0FUT01JQywKLQkuZm9wcwkJCT0g
JmlsaTkzNDFfZm9wcywKLQkucmVsZWFzZQkJPSBtaXBpX2RiaV9yZWxlYXNlLAotCURSTV9HRU1f
Q01BX1ZNQVBfRFJJVkVSX09QUywKLQkuZGVidWdmc19pbml0CQk9IG1pcGlfZGJpX2RlYnVnZnNf
aW5pdCwKLQkubmFtZQkJCT0gImlsaTkzNDEiLAotCS5kZXNjCQkJPSAiSWxpdGVrIElMSTkzNDEi
LAotCS5kYXRlCQkJPSAiMjAxODA1MTQiLAotCS5tYWpvcgkJCT0gMSwKLQkubWlub3IJCQk9IDAs
CitzdGF0aWMgY29uc3Qgc3RydWN0IGlsaTkzNDFfY29uZmlnIHl4MjQwcXYyOV9kYXRhID0gewor
CS5mdW5jcyA9ICZ5eDI0MHF2MjlfZnVuY3MsCisJLm1vZGUgPSAmeXgyNDBxdjI5X21vZGUsCiB9
OwogCi1zdGF0aWMgY29uc3Qgc3RydWN0IG9mX2RldmljZV9pZCBpbGk5MzQxX29mX21hdGNoW10g
PSB7Ci0JeyAuY29tcGF0aWJsZSA9ICJhZGFmcnVpdCx5eDI0MHF2MjkiIH0sCi0JeyB9Ci19Owot
TU9EVUxFX0RFVklDRV9UQUJMRShvZiwgaWxpOTM0MV9vZl9tYXRjaCk7Ci0KLXN0YXRpYyBjb25z
dCBzdHJ1Y3Qgc3BpX2RldmljZV9pZCBpbGk5MzQxX2lkW10gPSB7Ci0JeyAieXgyNDBxdjI5Iiwg
MCB9LAotCXsgfQotfTsKLU1PRFVMRV9ERVZJQ0VfVEFCTEUoc3BpLCBpbGk5MzQxX2lkKTsKK0RF
RklORV9EUk1fTUlQSV9EQklfUEFORUxfRFJJVkVSKGlsaTkzNDEsICJJbGl0ZWsgSUxJOTM0MSIs
ICIyMDE4MDUxNCIpOwogCiBzdGF0aWMgaW50IGlsaTkzNDFfcHJvYmUoc3RydWN0IHNwaV9kZXZp
Y2UgKnNwaSkKIHsKKwljb25zdCBzdHJ1Y3Qgc3BpX2RldmljZV9pZCAqc3BpX2lkOwogCXN0cnVj
dCBkZXZpY2UgKmRldiA9ICZzcGktPmRldjsKLQlzdHJ1Y3QgbWlwaV9kYmlfZGV2ICpkYmlkZXY7
Ci0Jc3RydWN0IGRybV9kZXZpY2UgKmRybTsKIAlzdHJ1Y3QgbWlwaV9kYmkgKmRiaTsKIAlzdHJ1
Y3QgZ3Bpb19kZXNjICpkYzsKKwlzdHJ1Y3QgaWxpOTM0MSAqaWxpOwogCXUzMiByb3RhdGlvbiA9
IDA7CiAJaW50IHJldDsKIAotCWRiaWRldiA9IGt6YWxsb2Moc2l6ZW9mKCpkYmlkZXYpLCBHRlBf
S0VSTkVMKTsKLQlpZiAoIWRiaWRldikKKwlpbGkgPSBremFsbG9jKHNpemVvZigqaWxpKSwgR0ZQ
X0tFUk5FTCk7CisJaWYgKCFpbGkpCiAJCXJldHVybiAtRU5PTUVNOwogCi0JZGJpID0gJmRiaWRl
di0+ZGJpOwotCWRybSA9ICZkYmlkZXYtPmRybTsKLQlyZXQgPSBkZXZtX2RybV9kZXZfaW5pdChk
ZXYsIGRybSwgJmlsaTkzNDFfZHJpdmVyKTsKLQlpZiAocmV0KSB7Ci0JCWtmcmVlKGRiaWRldik7
Ci0JCXJldHVybiByZXQ7CisJaWxpLT5jb25mID0gb2ZfZGV2aWNlX2dldF9tYXRjaF9kYXRhKGRl
dik7CisJaWYgKCFpbGktPmNvbmYpIHsKKwkJc3BpX2lkID0gc3BpX2dldF9kZXZpY2VfaWQoc3Bp
KTsKKwkJaWYgKHNwaV9pZCkKKwkJCWlsaS0+Y29uZiA9IChzdHJ1Y3QgaWxpOTM0MV9jb25maWcg
KilzcGlfaWQtPmRyaXZlcl9kYXRhOwogCX0KIAotCWRybV9tb2RlX2NvbmZpZ19pbml0KGRybSk7
CisJaWYgKCFpbGktPmNvbmYpCisJCXJldHVybiAtRU5PREVWOworCisJc3BpX3NldF9kcnZkYXRh
KHNwaSwgaWxpKTsKKworCWRiaSA9ICZpbGktPmRiaWRldi5kYmk7CiAKIAlkYmktPnJlc2V0ID0g
ZGV2bV9ncGlvZF9nZXRfb3B0aW9uYWwoZGV2LCAicmVzZXQiLCBHUElPRF9PVVRfSElHSCk7CiAJ
aWYgKElTX0VSUihkYmktPnJlc2V0KSkgewpAQCAtMjA5LDkgKzIxNiw5IEBAIHN0YXRpYyBpbnQg
aWxpOTM0MV9wcm9iZShzdHJ1Y3Qgc3BpX2RldmljZSAqc3BpKQogCQlyZXR1cm4gUFRSX0VSUihk
Yyk7CiAJfQogCi0JZGJpZGV2LT5iYWNrbGlnaHQgPSBkZXZtX29mX2ZpbmRfYmFja2xpZ2h0KGRl
dik7Ci0JaWYgKElTX0VSUihkYmlkZXYtPmJhY2tsaWdodCkpCi0JCXJldHVybiBQVFJfRVJSKGRi
aWRldi0+YmFja2xpZ2h0KTsKKwlpbGktPmJhY2tsaWdodCA9IGRldm1fb2ZfZmluZF9iYWNrbGln
aHQoZGV2KTsKKwlpZiAoSVNfRVJSKGlsaS0+YmFja2xpZ2h0KSkKKwkJcmV0dXJuIFBUUl9FUlIo
aWxpLT5iYWNrbGlnaHQpOwogCiAJZGV2aWNlX3Byb3BlcnR5X3JlYWRfdTMyKGRldiwgInJvdGF0
aW9uIiwgJnJvdGF0aW9uKTsKIApAQCAtMjE5LDQxICsyMjYsNDYgQEAgc3RhdGljIGludCBpbGk5
MzQxX3Byb2JlKHN0cnVjdCBzcGlfZGV2aWNlICpzcGkpCiAJaWYgKHJldCkKIAkJcmV0dXJuIHJl
dDsKIAotCXJldCA9IG1pcGlfZGJpX2Rldl9pbml0KGRiaWRldiwgJmlsaTkzNDFfcGlwZV9mdW5j
cywgJnl4MjQwcXYyOV9tb2RlLCByb3RhdGlvbik7Ci0JaWYgKHJldCkKLQkJcmV0dXJuIHJldDsK
Kwlkcm1fcGFuZWxfaW5pdCgmaWxpLT5wYW5lbCk7CisJaWxpLT5wYW5lbC5kZXYgPSBkZXY7CisJ
aWxpLT5wYW5lbC5mdW5jcyA9IGlsaS0+Y29uZi0+ZnVuY3M7CiAKLQlkcm1fbW9kZV9jb25maWdf
cmVzZXQoZHJtKTsKLQotCXJldCA9IGRybV9kZXZfcmVnaXN0ZXIoZHJtLCAwKTsKLQlpZiAocmV0
KQotCQlyZXR1cm4gcmV0OwotCi0Jc3BpX3NldF9kcnZkYXRhKHNwaSwgZHJtKTsKLQotCWRybV9m
YmRldl9nZW5lcmljX3NldHVwKGRybSwgMCk7Ci0KLQlyZXR1cm4gMDsKKwlyZXR1cm4gZHJtX21p
cGlfZGJpX3BhbmVsX3JlZ2lzdGVyKCZpbGktPnBhbmVsLCAmaWxpLT5kYmlkZXYsICZpbGk5MzQx
X2RybV9kcml2ZXIsCisJCQkJCSAgIGlsaS0+Y29uZi0+bW9kZSwgcm90YXRpb24pOwogfQogCiBz
dGF0aWMgaW50IGlsaTkzNDFfcmVtb3ZlKHN0cnVjdCBzcGlfZGV2aWNlICpzcGkpCiB7Ci0Jc3Ry
dWN0IGRybV9kZXZpY2UgKmRybSA9IHNwaV9nZXRfZHJ2ZGF0YShzcGkpOworCXN0cnVjdCBpbGk5
MzQxICppbGkgPSBzcGlfZ2V0X2RydmRhdGEoc3BpKTsKIAotCWRybV9kZXZfdW5wbHVnKGRybSk7
Ci0JZHJtX2F0b21pY19oZWxwZXJfc2h1dGRvd24oZHJtKTsKKwlkcm1fZGV2X3VucGx1ZygmaWxp
LT5kYmlkZXYuZHJtKTsKKwlkcm1fYXRvbWljX2hlbHBlcl9zaHV0ZG93bigmaWxpLT5kYmlkZXYu
ZHJtKTsKIAogCXJldHVybiAwOwogfQogCiBzdGF0aWMgdm9pZCBpbGk5MzQxX3NodXRkb3duKHN0
cnVjdCBzcGlfZGV2aWNlICpzcGkpCiB7Ci0JZHJtX2F0b21pY19oZWxwZXJfc2h1dGRvd24oc3Bp
X2dldF9kcnZkYXRhKHNwaSkpOworCXN0cnVjdCBpbGk5MzQxICppbGkgPSBzcGlfZ2V0X2RydmRh
dGEoc3BpKTsKKworCWRybV9hdG9taWNfaGVscGVyX3NodXRkb3duKCZpbGktPmRiaWRldi5kcm0p
OwogfQogCitzdGF0aWMgY29uc3Qgc3RydWN0IG9mX2RldmljZV9pZCBpbGk5MzQxX29mX21hdGNo
W10gPSB7CisJeyAuY29tcGF0aWJsZSA9ICJhZGFmcnVpdCx5eDI0MHF2MjkiLCAuZGF0YSA9ICZ5
eDI0MHF2MjlfZGF0YSB9LAorCXsgfQorfTsKK01PRFVMRV9ERVZJQ0VfVEFCTEUob2YsIGlsaTkz
NDFfb2ZfbWF0Y2gpOworCitzdGF0aWMgY29uc3Qgc3RydWN0IHNwaV9kZXZpY2VfaWQgaWxpOTM0
MV9pZFtdID0geworCXsgInl4MjQwcXYyOSIsICh1bnNpZ25lZCBsb25nKSZ5eDI0MHF2MjlfZGF0
YSB9LAorCXsgfQorfTsKK01PRFVMRV9ERVZJQ0VfVEFCTEUoc3BpLCBpbGk5MzQxX2lkKTsKKwog
c3RhdGljIHN0cnVjdCBzcGlfZHJpdmVyIGlsaTkzNDFfc3BpX2RyaXZlciA9IHsKIAkuZHJpdmVy
ID0gewotCQkubmFtZSA9ICJpbGk5MzQxIiwKKwkJLm5hbWUgPSAicGFuZWwtaWxpdGVrLWlsaTkz
NDEiLAogCQkub2ZfbWF0Y2hfdGFibGUgPSBpbGk5MzQxX29mX21hdGNoLAogCX0sCiAJLmlkX3Rh
YmxlID0gaWxpOTM0MV9pZCwKQEAgLTI2Myw2ICsyNzUsNiBAQCBzdGF0aWMgc3RydWN0IHNwaV9k
cml2ZXIgaWxpOTM0MV9zcGlfZHJpdmVyID0gewogfTsKIG1vZHVsZV9zcGlfZHJpdmVyKGlsaTkz
NDFfc3BpX2RyaXZlcik7CiAKLU1PRFVMRV9ERVNDUklQVElPTigiSWxpdGVrIElMSTkzNDEgRFJN
IGRyaXZlciIpOworTU9EVUxFX0RFU0NSSVBUSU9OKCJJbGl0ZWsgSUxJOTM0MSBwYW5lbCBkcml2
ZXIiKTsKIE1PRFVMRV9BVVRIT1IoIkRhdmlkIExlY2huZXIgPGRhdmlkQGxlY2hub2xvZ3kuY29t
PiIpOwogTU9EVUxFX0xJQ0VOU0UoIkdQTCIpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L3RpbnkvS2NvbmZpZyBiL2RyaXZlcnMvZ3B1L2RybS90aW55L0tjb25maWcKaW5kZXggNTA0NzYz
NDIzZDQ2Li4zZTYzZTkzZmJlYWMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS90aW55L0tj
b25maWcKKysrIGIvZHJpdmVycy9ncHUvZHJtL3RpbnkvS2NvbmZpZwpAQCAtMzQsMTkgKzM0LDYg
QEAgY29uZmlnIFRJTllEUk1fSUxJOTIyNQogCiAJICBJZiBNIGlzIHNlbGVjdGVkIHRoZSBtb2R1
bGUgd2lsbCBiZSBjYWxsZWQgaWxpOTIyNS4KIAotY29uZmlnIFRJTllEUk1fSUxJOTM0MQotCXRy
aXN0YXRlICJEUk0gc3VwcG9ydCBmb3IgSUxJOTM0MSBkaXNwbGF5IHBhbmVscyIKLQlkZXBlbmRz
IG9uIERSTSAmJiBTUEkKLQlzZWxlY3QgRFJNX0tNU19IRUxQRVIKLQlzZWxlY3QgRFJNX0tNU19D
TUFfSEVMUEVSCi0Jc2VsZWN0IERSTV9NSVBJX0RCSQotCXNlbGVjdCBCQUNLTElHSFRfQ0xBU1Nf
REVWSUNFCi0JaGVscAotCSAgRFJNIGRyaXZlciBmb3IgdGhlIGZvbGxvd2luZyBJbGl0ZWsgSUxJ
OTM0MSBwYW5lbHM6Ci0JICAqIFlYMjQwUVYyOS1UIDIuNCIgMjQweDMyMCBURlQgKEFkYWZydWl0
IDIuNCIpCi0KLQkgIElmIE0gaXMgc2VsZWN0ZWQgdGhlIG1vZHVsZSB3aWxsIGJlIGNhbGxlZCBp
bGk5MzQxLgotCiBjb25maWcgVElOWURSTV9NSTAyODNRVAogCXRyaXN0YXRlICJEUk0gc3VwcG9y
dCBmb3IgTUkwMjgzUVQiCiAJZGVwZW5kcyBvbiBEUk0gJiYgU1BJCmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vdGlueS9NYWtlZmlsZSBiL2RyaXZlcnMvZ3B1L2RybS90aW55L01ha2VmaWxl
CmluZGV4IDg5NmNmMzExMzJkMy4uYzE0MDk2MmY1YzdlIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vdGlueS9NYWtlZmlsZQorKysgYi9kcml2ZXJzL2dwdS9kcm0vdGlueS9NYWtlZmlsZQpA
QCAtMyw3ICszLDYgQEAKIG9iai0kKENPTkZJR19EUk1fR00xMlUzMjApCQkrPSBnbTEydTMyMC5v
CiBvYmotJChDT05GSUdfVElOWURSTV9IWDgzNTdEKQkJKz0gaHg4MzU3ZC5vCiBvYmotJChDT05G
SUdfVElOWURSTV9JTEk5MjI1KQkJKz0gaWxpOTIyNS5vCi1vYmotJChDT05GSUdfVElOWURSTV9J
TEk5MzQxKQkJKz0gaWxpOTM0MS5vCiBvYmotJChDT05GSUdfVElOWURSTV9NSTAyODNRVCkJCSs9
IG1pMDI4M3F0Lm8KIG9iai0kKENPTkZJR19USU5ZRFJNX1JFUEFQRVIpCQkrPSByZXBhcGVyLm8K
IG9iai0kKENPTkZJR19USU5ZRFJNX1NUNzU4NikJCSs9IHN0NzU4Ni5vCi0tIAoyLjIwLjEKCl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBt
YWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3Rz
LmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
