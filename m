Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id B772DEE8CD
	for <lists+dri-devel@lfdr.de>; Mon,  4 Nov 2019 20:35:56 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3A47E6E853;
	Mon,  4 Nov 2019 19:35:36 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-lf1-x144.google.com (mail-lf1-x144.google.com
 [IPv6:2a00:1450:4864:20::144])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 845DA6E831
 for <dri-devel@lists.freedesktop.org>; Mon,  4 Nov 2019 19:34:46 +0000 (UTC)
Received: by mail-lf1-x144.google.com with SMTP id f5so13174538lfp.1
 for <dri-devel@lists.freedesktop.org>; Mon, 04 Nov 2019 11:34:46 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=jSDdbLP9t6CAm56/vHP9pKz0UOdlecCser35tYZN6DQ=;
 b=HBw8v+u7H6fcx0N+8qXU6OUL4qxnpi5urr/15jB21xxuHKvkEsE/ri5G3IoPfPDZHk
 wmpQ96I0A8L1DshsKThk+Ge/r/C8zH+WqicyOeCwl10o+Es8qwi+qV4NRTUOhCtMKlOn
 cXxAKXlce82jJtsXD+mn3ldFsGdBcZCRMushKkSJ2kT+RemB+vYozYXYj7gcggHni3sV
 Pae+0njMK6XP5gAGUi5jCiaKt3qrY7m2GKC3kQZ/wwDyYKt7dd+FRyPalEw0lAPA0kRs
 mGEDgkXAitpSktPonfRstrjtml0Q7hM4syC+hUzTXMshjnSiQ/BaUzBLVNVem15SlGkW
 y0+A==
X-Gm-Message-State: APjAAAX+uaAVC6C8/vKfPm6R12ghhHKpvllWIYN8EFArCqdgHNwMmpyq
 2IVYWmv7PV7RYGcT40i1XuwdvwJ4rfg8OX6G3rCs
X-Google-Smtp-Source: APXvYqw5jQqLc97160nHvEwKThiAS8jdSy5iTL2iBfZobWPtMt9o6N6DtNq5GW2Vy5GchXJZKypiYItXzglf61/GKtw=
X-Received: by 2002:a19:6f0e:: with SMTP id k14mr17993084lfc.34.1572896084418; 
 Mon, 04 Nov 2019 11:34:44 -0800 (PST)
MIME-Version: 1.0
References: <CAKT=dDk0sNAXxz-angd5WvQXXLF8p3sPLEzOt=wVSLhuaP8dkQ@mail.gmail.com>
 <20191028152602.GA5057@redhat.com>
 <CAKT=dDnXwa76_aOVhTaKyE2=2HT2qGHvP9HGqnMzArr-Jt3A+Q@mail.gmail.com>
 <CAKT=dDnhth-6giOWgym7qpLNeH=86=XhQmPcgHM2J8B_L3myRQ@mail.gmail.com>
 <CAOWid-c_5+Z438kHpgn-h9KGt12kzoSD43nRfg0-v10NUKa+tw@mail.gmail.com>
 <CAKT=dD=Jyqn25hrZycQu96pwqcEWepjJFy2yVMyAp2RL42b+Hw@mail.gmail.com>
 <CAOWid-cy3LWHP5JZK1y_GiO_D1ioH2e4LVN-H4MruPr=dU-u=A@mail.gmail.com>
 <20191101103657.2107c6e1@eldfell.localdomain>
In-Reply-To: <20191101103657.2107c6e1@eldfell.localdomain>
From: Yiwei Zhang <zzyiwei@google.com>
Date: Mon, 4 Nov 2019 11:34:33 -0800
Message-ID: <CAKT=dDmLao+P-hHrc2fsQ-7yyViFm-QFKKOEZ4D2EFobvAJLhg@mail.gmail.com>
Subject: Re: Proposal to report GPU private memory allocations with sysfs
 nodes [plain text version]
To: Pekka Paalanen <ppaalanen@gmail.com>, daniel@ffwll.ch
X-Mailman-Approved-At: Mon, 04 Nov 2019 19:35:35 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=google.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=jSDdbLP9t6CAm56/vHP9pKz0UOdlecCser35tYZN6DQ=;
 b=jFx38Wa7r6S0dkZzTP863up2lwtO8C3fcIElXc8gR9wzQbh26k1QMLMsTkFv3r2Y2k
 ZDOfnNZ1g5KJ3wp3aW1w36LmyeX2NA2p+Tq/4ebbYc1BIHjj3vnRWeCNnFxbTpEY7TkS
 t2IIsXI1g29hQvtQlRBQTYX7fWKWLmpACTUR1G8qkA/3elNRS2VIEXcAOynF6oAW9Ku2
 RV5BTSl+SF1fE/4H2//9OT1McTpkvmZDPbMF2/iBu7YyYbzcf2WKILXrGT+5u3UCLsDc
 7HEO9PMPqpFNKvlUVM6yROGBWrWZan4/ogw2ZH4+pmL3UFnqBFLOlFlOQw6It9gXSuqG
 xU8w==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Alistair Delva <adelva@google.com>, Rohan Garg <rohan.garg@collabora.com>,
 Jerome Glisse <jglisse@redhat.com>,
 dri-devel <dri-devel@lists.freedesktop.org>,
 Prahlad Kilambi <prahladk@google.com>, Sean Paul <seanpaul@chromium.org>,
 kraxel@redhat.com, Kenny Ho <y2kenny@gmail.com>,
 Chris Forbes <chrisforbes@google.com>, kernel-team@android.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgZm9sa3MsCgooRGFuaWVsLCBJIGp1c3QgbW92ZWQgeW91IHRvIHRoaXMgdGhyZWFkKQoKQmVs
b3cgYXJlIHRoZSBsYXRlc3QgdGhvdWdodHMgYmFzZWQgb24gYWxsIHRoZSBmZWVkYmFjayBhbmQg
Y29tbWVudHMuCgpGaXJzdCwgSSBuZWVkIHRvIGNsYXJpZnkgb24gdGhlIGdwdSBtZW1vcnkgb2Jq
ZWN0IHR5cGUgZW51bWVyYXRpb24KdGhpbmcuIFdlIGRvbid0IHdhbnQgdG8gZW5mb3JjZSB0aG9z
ZSBlbnVtZXJhdGlvbnMgYWNyb3NzIHRoZSB1cHN0cmVhbQphbmQgQW5kcm9pZCwgYW5kIHdlIHNo
b3VsZCBqdXN0IGxlYXZlIHRob3NlIGNvbmZpZ3VyYWJsZSBhbmQgZmxleGlibGUuCgpTZWNvbmQs
IHRvIG1ha2UgdGhpcyBlZmZvcnQgYWxzbyB1c2VmdWwgdG8gYWxsIHRoZSBvdGhlciBtZW1vcnkK
bWFuYWdlbWVudCB0b29scyBsaWtlIFBTUy4gQXQgbGVhc3QgYW4gYWRkaXRpb25hbCBub2RlIGlz
IG5lZWRlZCBmb3IKdGhlIHBhcnQgb2YgdGhlIGdwdSBwcml2YXRlIGFsbG9jYXRpb24gbm90IG1h
cHBlZCB0byB0aGUKdXNlcnNwYWNlKGludmlzaWJsZSB0byBQU1MpLiBUaGlzIGlzIGVzcGVjaWFs
bHkgY3JpdGljYWwgZm9yIHRoZQpkb3duc3RyZWFtIEFuZHJvaWQgc28gdGhhdCBsb3ctbWVtb3J5
LWtpbGxlcihsbWtkKSBjYW4gYmUgYXdhcmUgb2YgdGhlCmFjdHVhbCB0b3RhbCBtZW1vcnkgZm9y
IGEgcHJvY2VzcyBhbmQgd2lsbCBrbm93IGhvdyBtdWNoIGdldHMgZnJlZWQgdXAKaWYgaXQga2ls
bHMgdGhhdCBwcm9jZXNzLiBUaGlzIGlzIGFuIGVmZm9ydCB0byBkZS1teXN0aWZ5IHRoZSAibG9z
dApyYW0iLgoKR2l2ZW4gYWJvdmUsIHRoZSBuZXcgbm9kZSBzdHJ1Y3R1cmUgd291bGQgbG9vayBs
aWtlIGJlbG93OgoKR2xvYmFsIG5vZGVzOgovc3lzL2RldmljZXMvPHJvb3Q+L2dwdV9tZW0vZ2xv
YmFsL3RvdGFsIC8qIFRvdGFsIHByaXZhdGUgYWxsb2NhdGlvbgpmb3IgY29oZXJlbmN5LCB0aGlz
IHNob3VsZCBhbHNvIGluY2x1ZGUgdGhlIGFub255bW91cyBtZW1vcnkgYWxsb2NhdGVkCmluIHRo
ZSBrbWQgICovCi9zeXMvZGV2aWNlcy88cm9vdD4vZ3B1X21lbS9nbG9iYWwvdG90YWxfdW5tYXBw
ZWQgLyogQWNjb3VudCBmb3IgdGhlCnByaXZhdGUgYWxsb2NhdGlvbiBub3QgbWFwcGVkIHRvIHVz
ZXJzcGFjZShub3QgdmlzaWJsZSBmb3IgUFNTKSwgZG9uJ3QKbmVlZCB0byBiZSBjb2hlcmVudCB3
aXRoIHRoZSAidG90YWwiIG5vZGUuIGxta2Qgb3IgZXF1aXZhbGVudCBzZXJ2aWNlCmxvb2tpbmcg
YXQgUFNTIHdpbGwgb25seSBsb29rIGF0IHRoaXMgbm9kZSBpbiBhZGRpdGlvbi4gKi8KL3N5cy9k
ZXZpY2VzLzxyb290Pi9ncHVfbWVtL2dsb2JhbC88dHlwZTE+IC8qIE9uZSB0b3RhbCB2YWx1ZSBw
ZXIKdHlwZSwgdGhpcyBzaG91bGQgYWxzbyBpbmNsdWRlIHRoZSBhbm9ueW1vdXMgbWVtb3J5IGFs
bG9jYXRlZCBpbiB0aGUKa21kKG9yIG1heWJlIGFub3RoZXIgYW5vbnltb3VzIHR5cGUgZm9yIGds
b2JhbCBub2RlcykgICovCi9zeXMvZGV2aWNlcy88cm9vdD4vZ3B1X21lbS9nbG9iYWwvPHR5cGUy
PiAvKiBPbmUgdG90YWwgdmFsdWUgcGVyIHR5cGUgKi8KLi4uCi9zeXMvZGV2aWNlcy88cm9vdD4v
Z3B1X21lbS9nbG9iYWwvPHR5cGVOPiAvKiBPbmUgdG90YWwgdmFsdWUgcGVyIHR5cGUgKi8KClBl
ciBwcm9jZXNzIG5vZGVzOgovc3lzL2RldmljZXMvPHJvb3Q+L2dwdV9tZW0vcHJvYy88cGlkPi90
b3RhbCAvKiBUb3RhbCBwcml2YXRlCmFsbG9jYXRpb24gZm9yIGNvaGVyZW5jeSAqLwovc3lzL2Rl
dmljZXMvPHJvb3Q+L2dwdV9tZW0vcHJvYy88cGlkPi90b3RhbF91bm1hcHBlZCAvKiBBY2NvdW50
IGZvcgp0aGUgcHJpdmF0ZSBhbGxvY2F0aW9uIG5vdCBtYXBwZWQgdG8gdXNlcnNwYWNlKG5vdCB2
aXNpYmxlIGZvciBQU1MpLApkb24ndCBuZWVkIHRvIGJlIGNvaGVyZW50IHdpdGggdGhlICJ0b3Rh
bCIgbm9kZS4gbG1rZCBvciBlcXVpdmFsZW50CnNlcnZpY2UgbG9va2luZyBhdCBQU1Mgd2lsbCBv
bmx5IGxvb2sgYXQgdGhpcyBub2RlIGluIGFkZGl0aW9uLiAqLwovc3lzL2RldmljZXMvPHJvb3Q+
L2dwdV9tZW0vcHJvYy88cGlkPi88dHlwZTE+IC8qIE9uZSB0b3RhbCB2YWx1ZSBwZXIgdHlwZSAq
Lwovc3lzL2RldmljZXMvPHJvb3Q+L2dwdV9tZW0vcHJvYy88cGlkPi88dHlwZTI+IC8qIE9uZSB0
b3RhbCB2YWx1ZSBwZXIgdHlwZSAqLwouLi4KL3N5cy9kZXZpY2VzLzxyb290Pi9ncHVfbWVtL3By
b2MvPHBpZD4vPHR5cGVOPiAvKiBPbmUgdG90YWwgdmFsdWUgcGVyIHR5cGUgKi8KClRoZSB0eXBl
MSB0byB0eXBlTiBmb3IgZG93bnN0cmVhbSBBbmRyb2lkIHdpbGwgYmUgdGhlIGVudW1lcmF0aW9u
cyBJCm1lbnRpb25lZCBpbiB0aGUgb3JpZ2luYWwgZW1haWwgd2hpY2ggYXJlOiB1bmtub3duLCBz
aGFkZXIsLi4uLAp0cmFuc2llbnQuIEZvciB0aGUgdXBzdHJlYW0sIHRob3NlIGNhbiBiZSB0aGUg
bGFiZWxlZCBCT3Mgb3IgYW55IG90aGVyCmN1c3RvbWl6ZWQgdHlwZXMuCgpMb29rIGZvcndhcmQg
dG8gdGhlIGNvbW1lbnRzIGFuZCBmZWVkYmFjayEKCkJlc3QgcmVnYXJkcywKWWl3ZWkKCgoKCk9u
IEZyaSwgTm92IDEsIDIwMTkgYXQgMTozNyBBTSBQZWtrYSBQYWFsYW5lbiA8cHBhYWxhbmVuQGdt
YWlsLmNvbT4gd3JvdGU6Cj4KPiBPbiBUaHUsIDMxIE9jdCAyMDE5IDEzOjU3OjAwIC0wNDAwCj4g
S2VubnkgSG8gPHkya2VubnlAZ21haWwuY29tPiB3cm90ZToKPgo+ID4gSGkgWWl3ZWksCj4gPgo+
ID4gVGhpcyBpcyB0aGUgbGF0ZXN0IHNlcmllczoKPiA+IGh0dHBzOi8vcGF0Y2h3b3JrLmtlcm5l
bC5vcmcvY292ZXIvMTExMjAzNzEvCj4gPgo+ID4gKEkgc3RpbGwgbmVlZCB0byByZXBseSBzb21l
IG9mIHRoZSBmZWVkYmFjay4pCj4gPgo+ID4gUmVnYXJkcywKPiA+IEtlbm55Cj4gPgo+ID4gT24g
VGh1LCBPY3QgMzEsIDIwMTkgYXQgMTI6NTkgUE0gWWl3ZWkgWmhhbmcgPHp6eWl3ZWlAZ29vZ2xl
LmNvbT4gd3JvdGU6Cj4gPiA+Cj4gPiA+IEhpIEtlbm55LAo+ID4gPgo+ID4gPiBUaGFua3MgZm9y
IHRoZSBpbmZvLiBEbyB5b3UgbWluZCBmb3J3YXJkaW5nIHRoZSBleGlzdGluZyBkaXNjdXNzaW9u
IHRvIG1lIG9yIGhhdmUgbWUgY2MnZWQgaW4gdGhhdCB0aHJlYWQ/Cj4gPiA+Cj4gPiA+IEJlc3Qs
Cj4gPiA+IFlpd2VpCj4gPiA+Cj4gPiA+IE9uIFdlZCwgT2N0IDMwLCAyMDE5IGF0IDEwOjIzIFBN
IEtlbm55IEhvIDx5Mmtlbm55QGdtYWlsLmNvbT4gd3JvdGU6Cj4gPiA+Pgo+ID4gPj4gSGkgWWl3
ZWksCj4gPiA+Pgo+ID4gPj4gSSBhbSBub3Qgc3VyZSBpZiB5b3UgYXJlIGF3YXJlLCB0aGVyZSBp
cyBhbiBvbmdvaW5nIFJGQyBvbiBhZGRpbmcgZHJtCj4gPiA+PiBzdXBwb3J0IGluIGNncm91cCBm
b3IgdGhlIHB1cnBvc2Ugb2YgcmVzb3VyY2UgdHJhY2tpbmcuICBPbmUgb2YgdGhlCj4gPiA+PiBy
ZXNvdXJjZSBpcyBHUFUgbWVtb3J5LiAgSXQncyBub3QgZXhhY3RseSB0aGUgc2FtZSBhcyB3aGF0
IHlvdSBhcmUKPiA+ID4+IHByb3Bvc2luZyAoaXQgZG9lc24ndCB0cmFjayBBUEkgdXNhZ2UsIGJ1
dCBpdCB0cmFja3MgdGhlIHR5cGUgb2YgR1BVCj4gPiA+PiBtZW1vcnkgZnJvbSBrbWQgcGVyc3Bl
Y3RpdmUpIGJ1dCBwZXJoYXBzIGl0IHdvdWxkIGJlIG9mIGludGVyZXN0IHRvCj4gPiA+PiB5b3Uu
ICBUaGVyZSBhcmUgbm8gY29uc2Vuc3VzIG9uIGl0IGF0IHRoaXMgcG9pbnQuCj4KPiBIaSBZaXdl
aSwKPgo+IEknZCBsaWtlIHRvIHBvaW50IG91dCBhbiBlZmZvcnQgdG8gaGF2ZSBkcml2ZXJzIGxh
YmVsIEJPcyBmb3IgZGVidWdnaW5nCj4gcHVycG9zZXM6IGh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0
b3Aub3JnL2FyY2hpdmVzL2RyaS1kZXZlbC8yMDE5LU9jdG9iZXIvMjM5NzI3Lmh0bWwKPgo+IEkg
ZG9uJ3Qga25vdyBpZiBpdCB3b3VsZCB3b3JrLCBidXQgYW4gb2J2aW91cyBpZGVhIG1pZ2h0IGJl
IHRvIHVzZQo+IHRob3NlIGxhYmVscyBmb3IgdHJhY2tpbmcgdGhlIGtpbmRzIG9mIGJ1ZmZlcnMg
LSBhIHBpZWNlIG9mIFVBUEkgd2hpY2ggSQo+IGJlbGlldmUgeW91IGFyZSBzdGlsbCBtaXNzaW5n
Lgo+Cj4KPiBUaGFua3MsCj4gcHEKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRl
c2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8v
ZHJpLWRldmVs
