Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id E4A1888B0A
	for <lists+dri-devel@lfdr.de>; Sat, 10 Aug 2019 13:28:56 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 6FC346E377;
	Sat, 10 Aug 2019 11:28:52 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 6AFEC6E377;
 Sat, 10 Aug 2019 11:28:50 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 17952618-1500050 for multiple; Sat, 10 Aug 2019 12:28:46 +0100
MIME-Version: 1.0
To: Matthew Auld <matthew.auld@intel.com>, intel-gfx@lists.freedesktop.org
From: Chris Wilson <chris@chris-wilson.co.uk>
In-Reply-To: <20190809222643.23142-30-matthew.auld@intel.com>
References: <20190809222643.23142-1-matthew.auld@intel.com>
 <20190809222643.23142-30-matthew.auld@intel.com>
Message-ID: <156543652380.2301.10221575716887429576@skylake-alporthouse-com>
User-Agent: alot/0.6
Subject: Re: [PATCH v3 29/37] drm/i915: Allow i915 to manage the vma offset
 nodes instead of drm core
Date: Sat, 10 Aug 2019 12:28:43 +0100
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Abdiel Janulgue <abdiel.janulgue@linux.intel.com>,
 Daniele Ceraolo Spurio <daniele.ceraolospurio@intel.com>,
 dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

UXVvdGluZyBNYXR0aGV3IEF1bGQgKDIwMTktMDgtMDkgMjM6MjY6MzUpCj4gRnJvbTogQWJkaWVs
IEphbnVsZ3VlIDxhYmRpZWwuamFudWxndWVAbGludXguaW50ZWwuY29tPgo+IAo+IFRoaXMgZW5h
YmxlcyB1cyB0byBzdG9yZSBleHRyYSBkYXRhIHdpdGhpbiB2bWEtPnZtX3ByaXZhdGVfZGF0YSBh
bmQgYXNzaWduCj4gdGhlIHBhZ2VmYXVsdCBvcHMgZm9yIGVhY2ggbW1hcCBpbnN0YW5jZS4KPiAK
PiBXZSByZXBsYWNlIHRoZSBjb3JlIGRybV9nZW1fbW1hcCBpbXBsZW1lbnRhdGlvbiB0byBvdmVy
Y29tZSB0aGUgbGltaXRhdGlvbgo+IGluIGhhdmluZyBvbmx5IGEgc2luZ2xlIG9mZnNldCBub2Rl
IHBlciBnZW0gb2JqZWN0LCBhbGxvd2luZyB1cyB0byBoYXZlCj4gbXVsdGlwbGUgb2Zmc2V0cyBw
ZXIgb2JqZWN0LiBUaGlzIGVuYWJsZXMgYSBtYXBwaW5nIGluc3RhbmNlIHRvIHVzZSB1bmlxdWUK
PiBmYXVsdC1oYWRsZXJzLCBwZXIgb2JqZWN0Lgo+IAo+IFNpZ25lZC1vZmYtYnk6IEFiZGllbCBK
YW51bGd1ZSA8YWJkaWVsLmphbnVsZ3VlQGxpbnV4LmludGVsLmNvbT4KPiBDYzogSm9vbmFzIExh
aHRpbmVuIDxqb29uYXMubGFodGluZW5AbGludXguaW50ZWwuY29tPgo+IFNpZ25lZC1vZmYtYnk6
IERhbmllbGUgQ2VyYW9sbyBTcHVyaW8gPGRhbmllbGUuY2VyYW9sb3NwdXJpb0BpbnRlbC5jb20+
Cj4gLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9tbWFuLmMgICAgICB8
IDE4MyArKysrKysrKysrKysrKysrLS0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVf
Z2VtX29iamVjdC5jICAgIHwgIDE2ICsrCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1
X2dlbV9vYmplY3QuaCAgICB8ICAgNyArLQo+ICAuLi4vZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dl
bV9vYmplY3RfdHlwZXMuaCAgfCAgMTggKysKPiAgLi4uL2RybS9pOTE1L2dlbS9zZWxmdGVzdHMv
aTkxNV9nZW1fbW1hbi5jICAgIHwgIDEyICstCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2lu
dGVsX3Jlc2V0LmMgICAgICAgICB8ICAxMyArLQo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X2Rydi5jICAgICAgICAgICAgICAgfCAgIDkgKy0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9kcnYuaCAgICAgICAgICAgICAgIHwgICAxICsKPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV92bWEuYyAgICAgICAgICAgICAgIHwgIDIxICstCj4gIDkgZmlsZXMgY2hhbmdlZCwgMjQ0IGlu
c2VydGlvbnMoKyksIDM2IGRlbGV0aW9ucygtKQo+IAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fbW1hbi5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2Vt
L2k5MTVfZ2VtX21tYW4uYwo+IGluZGV4IDFlNzMxMTQ5MzUzMC4uZDRhOWQ1OTgwM2E3IDEwMDY0
NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9tbWFuLmMKPiArKysg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fbW1hbi5jCj4gQEAgLTIyMSw3ICsy
MjEsOCBAQCB2bV9mYXVsdF90IGk5MTVfZ2VtX2ZhdWx0KHN0cnVjdCB2bV9mYXVsdCAqdm1mKQo+
ICB7Cj4gICNkZWZpbmUgTUlOX0NIVU5LX1BBR0VTIChTWl8xTSA+PiBQQUdFX1NISUZUKQo+ICAg
ICAgICAgc3RydWN0IHZtX2FyZWFfc3RydWN0ICphcmVhID0gdm1mLT52bWE7Cj4gLSAgICAgICBz
dHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqID0gdG9faW50ZWxfYm8oYXJlYS0+dm1fcHJp
dmF0ZV9kYXRhKTsKPiArICAgICAgIHN0cnVjdCBpOTE1X21tYXBfb2Zmc2V0ICpwcml2ID0gYXJl
YS0+dm1fcHJpdmF0ZV9kYXRhOwo+ICsgICAgICAgc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3Qg
Km9iaiA9IHByaXYtPm9iajsKPiAgICAgICAgIHN0cnVjdCBkcm1fZGV2aWNlICpkZXYgPSBvYmot
PmJhc2UuZGV2Owo+ICAgICAgICAgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUgPSB0b19p
OTE1KGRldik7Cj4gICAgICAgICBzdHJ1Y3QgaW50ZWxfcnVudGltZV9wbSAqcnBtID0gJmk5MTUt
PnJ1bnRpbWVfcG07Cj4gQEAgLTM3MywxMyArMzc0LDE1IEBAIHZtX2ZhdWx0X3QgaTkxNV9nZW1f
ZmF1bHQoc3RydWN0IHZtX2ZhdWx0ICp2bWYpCj4gIHZvaWQgX19pOTE1X2dlbV9vYmplY3RfcmVs
ZWFzZV9tbWFwKHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmopCj4gIHsKPiAgICAgICAg
IHN0cnVjdCBpOTE1X3ZtYSAqdm1hOwo+ICsgICAgICAgc3RydWN0IGk5MTVfbW1hcF9vZmZzZXQg
Km1tbzsKPiAgCj4gICAgICAgICBHRU1fQlVHX09OKCFvYmotPnVzZXJmYXVsdF9jb3VudCk7Cj4g
IAo+ICAgICAgICAgb2JqLT51c2VyZmF1bHRfY291bnQgPSAwOwo+ICAgICAgICAgbGlzdF9kZWwo
Jm9iai0+dXNlcmZhdWx0X2xpbmspOwo+IC0gICAgICAgZHJtX3ZtYV9ub2RlX3VubWFwKCZvYmot
PmJhc2Uudm1hX25vZGUsCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLT5iYXNlLmRl
di0+YW5vbl9pbm9kZS0+aV9tYXBwaW5nKTsKPiArICAgICAgIGxpc3RfZm9yX2VhY2hfZW50cnko
bW1vLCAmb2JqLT5tbWFwX29mZnNldHMsIG9mZnNldCkKPiArICAgICAgICAgICAgICAgZHJtX3Zt
YV9ub2RlX3VubWFwKCZtbW8tPnZtYV9ub2RlLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgb2JqLT5iYXNlLmRldi0+YW5vbl9pbm9kZS0+aV9tYXBwaW5nKTsKPiAgCj4gICAg
ICAgICBmb3JfZWFjaF9nZ3R0X3ZtYSh2bWEsIG9iaikKPiAgICAgICAgICAgICAgICAgaTkxNV92
bWFfdW5zZXRfdXNlcmZhdWx0KHZtYSk7Cj4gQEAgLTQzMywxNCArNDM2LDMxIEBAIHZvaWQgaTkx
NV9nZW1fb2JqZWN0X3JlbGVhc2VfbW1hcChzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2Jq
KQo+ICAgICAgICAgaW50ZWxfcnVudGltZV9wbV9wdXQoJmk5MTUtPnJ1bnRpbWVfcG0sIHdha2Vy
ZWYpOwo+ICB9Cj4gIAo+IC1zdGF0aWMgaW50IGNyZWF0ZV9tbWFwX29mZnNldChzdHJ1Y3QgZHJt
X2k5MTVfZ2VtX29iamVjdCAqb2JqKQo+ICtzdGF0aWMgdm9pZCBpbml0X21tYXBfb2Zmc2V0KHN0
cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmosCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBzdHJ1Y3QgaTkxNV9tbWFwX29mZnNldCAqbW1vKQo+ICt7Cj4gKyAgICAgICBtdXRleF9s
b2NrKCZvYmotPm1tb19sb2NrKTsKPiArICAgICAgIGtyZWZfaW5pdCgmbW1vLT5yZWYpOwo+ICsg
ICAgICAgbGlzdF9hZGQoJm1tby0+b2Zmc2V0LCAmb2JqLT5tbWFwX29mZnNldHMpOwo+ICsgICAg
ICAgbXV0ZXhfdW5sb2NrKCZvYmotPm1tb19sb2NrKTsKPiArfQo+ICsKPiArc3RhdGljIGludCBj
cmVhdGVfbW1hcF9vZmZzZXQoc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaiwKPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgaTkxNV9tbWFwX29mZnNldCAqbW1vKQo+
ICB7Cj4gICAgICAgICBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSA9IHRvX2k5MTUob2Jq
LT5iYXNlLmRldik7Cj4gKyAgICAgICBzdHJ1Y3QgZHJtX2RldmljZSAqZGV2ID0gb2JqLT5iYXNl
LmRldjsKPiAgICAgICAgIGludCBlcnI7Cj4gIAo+IC0gICAgICAgZXJyID0gZHJtX2dlbV9jcmVh
dGVfbW1hcF9vZmZzZXQoJm9iai0+YmFzZSk7Cj4gLSAgICAgICBpZiAobGlrZWx5KCFlcnIpKQo+
ICsgICAgICAgZHJtX3ZtYV9ub2RlX3Jlc2V0KCZtbW8tPnZtYV9ub2RlKTsKPiArICAgICAgIGlm
IChtbW8tPmZpbGUpCj4gKyAgICAgICAgICAgICAgIGRybV92bWFfbm9kZV9hbGxvdygmbW1vLT52
bWFfbm9kZSwgbW1vLT5maWxlKTsKPiArICAgICAgIGVyciA9IGRybV92bWFfb2Zmc2V0X2FkZChk
ZXYtPnZtYV9vZmZzZXRfbWFuYWdlciwgJm1tby0+dm1hX25vZGUsCj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgb2JqLT5iYXNlLnNpemUgLyBQQUdFX1NJWkUpOwo+ICsgICAgICAg
aWYgKGxpa2VseSghZXJyKSkgewo+ICsgICAgICAgICAgICAgICBpbml0X21tYXBfb2Zmc2V0KG9i
aiwgbW1vKTsKPiAgICAgICAgICAgICAgICAgcmV0dXJuIDA7Cj4gKyAgICAgICB9Cj4gIAo+ICAg
ICAgICAgLyogQXR0ZW1wdCB0byByZWFwIHNvbWUgbW1hcCBzcGFjZSBmcm9tIGRlYWQgb2JqZWN0
cyAqLwo+ICAgICAgICAgZG8gewo+IEBAIC00NTEsMzIgKzQ3MSw0OSBAQCBzdGF0aWMgaW50IGNy
ZWF0ZV9tbWFwX29mZnNldChzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqKQo+ICAgICAg
ICAgICAgICAgICAgICAgICAgIGJyZWFrOwo+ICAKPiAgICAgICAgICAgICAgICAgaTkxNV9nZW1f
ZHJhaW5fZnJlZWRfb2JqZWN0cyhpOTE1KTsKPiAtICAgICAgICAgICAgICAgZXJyID0gZHJtX2dl
bV9jcmVhdGVfbW1hcF9vZmZzZXQoJm9iai0+YmFzZSk7Cj4gLSAgICAgICAgICAgICAgIGlmICgh
ZXJyKQo+ICsgICAgICAgICAgICAgICBlcnIgPSBkcm1fdm1hX29mZnNldF9hZGQoZGV2LT52bWFf
b2Zmc2V0X21hbmFnZXIsICZtbW8tPnZtYV9ub2RlLAo+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgb2JqLT5iYXNlLnNpemUgLyBQQUdFX1NJWkUpOwo+ICsgICAgICAg
ICAgICAgICBpZiAoIWVycikgewo+ICsgICAgICAgICAgICAgICAgICAgICAgIGluaXRfbW1hcF9v
ZmZzZXQob2JqLCBtbW8pOwo+ICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwo+ICsgICAg
ICAgICAgICAgICB9Cj4gIAo+ICAgICAgICAgfSB3aGlsZSAoZmx1c2hfZGVsYXllZF93b3JrKCZp
OTE1LT5nZW0ucmV0aXJlX3dvcmspKTsKPiAgCj4gICAgICAgICByZXR1cm4gZXJyOwo+ICB9Cj4g
IAo+IC1pbnQKPiAtaTkxNV9nZW1fbW1hcF9ndHQoc3RydWN0IGRybV9maWxlICpmaWxlLAo+IC0g
ICAgICAgICAgICAgICAgIHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCj4gLSAgICAgICAgICAgICAg
ICAgdTMyIGhhbmRsZSwKPiAtICAgICAgICAgICAgICAgICB1NjQgKm9mZnNldCkKPiArc3RhdGlj
IGludAo+ICtfX2Fzc2lnbl9nZW1fb2JqZWN0X21tYXBfZGF0YShzdHJ1Y3QgZHJtX2ZpbGUgKmZp
bGUsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdTMyIGhhbmRsZSwKPiArICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBlbnVtIGk5MTVfbW1hcF90eXBlIG1tYXBfdHlwZSwKPiAr
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1NjQgKm9mZnNldCkKPiAgewo+ICAgICAgICAg
c3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iajsKPiArICAgICAgIHN0cnVjdCBpOTE1X21t
YXBfb2Zmc2V0ICptbW87Cj4gICAgICAgICBpbnQgcmV0Owo+ICAKPiAgICAgICAgIG9iaiA9IGk5
MTVfZ2VtX29iamVjdF9sb29rdXAoZmlsZSwgaGFuZGxlKTsKPiAgICAgICAgIGlmICghb2JqKQo+
ICAgICAgICAgICAgICAgICByZXR1cm4gLUVOT0VOVDsKPiAgCj4gLSAgICAgICByZXQgPSBjcmVh
dGVfbW1hcF9vZmZzZXQob2JqKTsKPiAtICAgICAgIGlmIChyZXQgPT0gMCkKPiAtICAgICAgICAg
ICAgICAgKm9mZnNldCA9IGRybV92bWFfbm9kZV9vZmZzZXRfYWRkcigmb2JqLT5iYXNlLnZtYV9u
b2RlKTsKPiArICAgICAgIG1tbyA9IGt6YWxsb2Moc2l6ZW9mKCptbW8pLCBHRlBfS0VSTkVMKTsK
PiArICAgICAgIGlmICghbW1vKSB7Cj4gKyAgICAgICAgICAgICAgIHJldCA9IC1FTk9NRU07Cj4g
KyAgICAgICAgICAgICAgIGdvdG8gZXJyOwo+ICsgICAgICAgfQo+ICAKPiArICAgICAgIG1tby0+
ZmlsZSA9IGZpbGU7Cj4gKyAgICAgICByZXQgPSBjcmVhdGVfbW1hcF9vZmZzZXQob2JqLCBtbW8p
Owo+ICsgICAgICAgaWYgKHJldCkgewo+ICsgICAgICAgICAgICAgICBrZnJlZShtbW8pOwo+ICsg
ICAgICAgICAgICAgICBnb3RvIGVycjsKPiArICAgICAgIH0KPiArCj4gKyAgICAgICBtbW8tPm1t
YXBfdHlwZSA9IG1tYXBfdHlwZTsKPiArICAgICAgIG1tby0+b2JqID0gb2JqOwo+ICsgICAgICAg
Km9mZnNldCA9IGRybV92bWFfbm9kZV9vZmZzZXRfYWRkcigmbW1vLT52bWFfbm9kZSk7Cj4gK2Vy
cjoKPiAgICAgICAgIGk5MTVfZ2VtX29iamVjdF9wdXQob2JqKTsKPiAgICAgICAgIHJldHVybiBy
ZXQ7Cj4gIH0KPiBAQCAtNTAwLDkgKzUzNywxMTkgQEAgaW50Cj4gIGk5MTVfZ2VtX21tYXBfZ3R0
X2lvY3RsKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHZvaWQgKmRhdGEsCj4gICAgICAgICAgICAg
ICAgICAgICAgICAgc3RydWN0IGRybV9maWxlICpmaWxlKQo+ICB7Cj4gLSAgICAgICBzdHJ1Y3Qg
ZHJtX2k5MTVfZ2VtX21tYXBfZ3R0ICphcmdzID0gZGF0YTsKPiArICAgICAgIHN0cnVjdCBkcm1f
aTkxNV9nZW1fbW1hcF9vZmZzZXQgKmFyZ3MgPSBkYXRhOwo+ICsKPiArICAgICAgIHJldHVybiBf
X2Fzc2lnbl9nZW1fb2JqZWN0X21tYXBfZGF0YShmaWxlLCBhcmdzLT5oYW5kbGUsCj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSTkxNV9NTUFQX1RZUEVfR1RU
LAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZhcmdzLT5v
ZmZzZXQpOwo+ICt9Cj4gKwo+ICt2b2lkIGk5MTVfbW1hcF9vZmZzZXRfb2JqZWN0X3JlbGVhc2Uo
c3RydWN0IGtyZWYgKnJlZikKPiArewo+ICsgICAgICAgc3RydWN0IGk5MTVfbW1hcF9vZmZzZXQg
Km1tbyA9IGNvbnRhaW5lcl9vZihyZWYsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBpOTE1X21tYXBfb2Zmc2V0LAo+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWYpOwo+ICsgICAg
ICAgc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaiA9IG1tby0+b2JqOwo+ICsgICAgICAg
c3RydWN0IGRybV9kZXZpY2UgKmRldiA9IG9iai0+YmFzZS5kZXY7Cj4gKwo+ICsgICAgICAgaWYg
KG1tby0+ZmlsZSkKPiArICAgICAgICAgICAgICAgZHJtX3ZtYV9ub2RlX3Jldm9rZSgmbW1vLT52
bWFfbm9kZSwgbW1vLT5maWxlKTsKPiArICAgICAgIGRybV92bWFfb2Zmc2V0X3JlbW92ZShkZXYt
PnZtYV9vZmZzZXRfbWFuYWdlciwgJm1tby0+dm1hX25vZGUpOwoKPiArICAgICAgIGxpc3RfZGVs
KCZtbW8tPm9mZnNldCk7CgpVbmxvY2tlZCBiZWNhdXNlIHlvdSBsaWtlIHRvIHNlZSB0aGUgd29y
bGQgYnVybj8KCj4gKwo+ICsgICAgICAga2ZyZWUobW1vKTsKPiArfQo+ICsKPiArc3RhdGljIHZv
aWQgaTkxNV9nZW1fdm1fb3BlbihzdHJ1Y3Qgdm1fYXJlYV9zdHJ1Y3QgKnZtYSkKPiArewo+ICsg
ICAgICAgc3RydWN0IGk5MTVfbW1hcF9vZmZzZXQgKnByaXYgPSB2bWEtPnZtX3ByaXZhdGVfZGF0
YTsKPiArICAgICAgIHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmogPSBwcml2LT5vYmo7
Cj4gKwo+ICsgICAgICAgaTkxNV9nZW1fb2JqZWN0X2dldChvYmopOwo+ICsgICAgICAga3JlZl9n
ZXQoJnByaXYtPnJlZik7Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lkIGk5MTVfZ2VtX3ZtX2Nsb3Nl
KHN0cnVjdCB2bV9hcmVhX3N0cnVjdCAqdm1hKQo+ICt7Cj4gKyAgICAgICBzdHJ1Y3QgaTkxNV9t
bWFwX29mZnNldCAqcHJpdiA9IHZtYS0+dm1fcHJpdmF0ZV9kYXRhOwo+ICsgICAgICAgc3RydWN0
IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaiA9IHByaXYtPm9iajsKPiAgCj4gLSAgICAgICByZXR1
cm4gaTkxNV9nZW1fbW1hcF9ndHQoZmlsZSwgZGV2LCBhcmdzLT5oYW5kbGUsICZhcmdzLT5vZmZz
ZXQpOwo+ICsgICAgICAgaTkxNV9nZW1fb2JqZWN0X3B1dChvYmopOwo+ICsgICAgICAga3JlZl9w
dXQoJnByaXYtPnJlZiwgaTkxNV9tbWFwX29mZnNldF9vYmplY3RfcmVsZWFzZSk7Cj4gK30KPiAr
Cj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3Qgdm1fb3BlcmF0aW9uc19zdHJ1Y3QgaTkxNV9nZW1fZ3R0
X3ZtX29wcyA9IHsKPiArICAgICAgIC5mYXVsdCA9IGk5MTVfZ2VtX2ZhdWx0LAo+ICsgICAgICAg
Lm9wZW4gPSBpOTE1X2dlbV92bV9vcGVuLAo+ICsgICAgICAgLmNsb3NlID0gaTkxNV9nZW1fdm1f
Y2xvc2UsCj4gK307Cj4gKwo+ICsvKiBUaGlzIG92ZXJjb21lcyB0aGUgbGltaXRhdGlvbiBpbiBk
cm1fZ2VtX21tYXAncyBhc3NpZ25tZW50IG9mIGEKPiArICogZHJtX2dlbV9vYmplY3QgYXMgdGhl
IHZtYS0+dm1fcHJpdmF0ZV9kYXRhLiBTaW5jZSB3ZSBuZWVkIHRvCj4gKyAqIGJlIGFibGUgdG8g
cmVzb2x2ZSBtdWx0aXBsZSBtbWFwIG9mZnNldHMgd2hpY2ggY291bGQgYmUgdGllZAo+ICsgKiB0
byBhIHNpbmdsZSBnZW0gb2JqZWN0Lgo+ICsgKi8KPiAraW50IGk5MTVfZ2VtX21tYXAoc3RydWN0
IGZpbGUgKmZpbHAsIHN0cnVjdCB2bV9hcmVhX3N0cnVjdCAqdm1hKQo+ICt7Cj4gKyAgICAgICBz
dHJ1Y3QgZHJtX3ZtYV9vZmZzZXRfbm9kZSAqbm9kZTsKPiArICAgICAgIHN0cnVjdCBkcm1fZmls
ZSAqcHJpdiA9IGZpbHAtPnByaXZhdGVfZGF0YTsKPiArICAgICAgIHN0cnVjdCBkcm1fZGV2aWNl
ICpkZXYgPSBwcml2LT5taW5vci0+ZGV2Owo+ICsgICAgICAgc3RydWN0IGk5MTVfbW1hcF9vZmZz
ZXQgKm1tbyA9IE5VTEw7Cj4gKyAgICAgICBzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKm9iaiA9IE5V
TEw7Cj4gKwo+ICsgICAgICAgaWYgKGRybV9kZXZfaXNfdW5wbHVnZ2VkKGRldikpCj4gKyAgICAg
ICAgICAgICAgIHJldHVybiAtRU5PREVWOwo+ICsKPiArICAgICAgIGRybV92bWFfb2Zmc2V0X2xv
Y2tfbG9va3VwKGRldi0+dm1hX29mZnNldF9tYW5hZ2VyKTsKPiArICAgICAgIG5vZGUgPSBkcm1f
dm1hX29mZnNldF9leGFjdF9sb29rdXBfbG9ja2VkKGRldi0+dm1hX29mZnNldF9tYW5hZ2VyLAo+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm1hLT52
bV9wZ29mZiwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHZtYV9wYWdlcyh2bWEpKTsKPiArICAgICAgIGlmIChsaWtlbHkobm9kZSkpIHsKPiArICAg
ICAgICAgICAgICAgbW1vID0gY29udGFpbmVyX29mKG5vZGUsIHN0cnVjdCBpOTE1X21tYXBfb2Zm
c2V0LAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm1hX25vZGUpOwo+ICsg
ICAgICAgICAgICAgICAvKgo+ICsgICAgICAgICAgICAgICAgKiBUYWtlIGEgcmVmIGZvciBvdXIg
bW1hcF9vZmZzZXQgYW5kIGdlbSBvYmplY3RzLiBUaGUgcmVmZXJlbmNlIGlzIGNsZWFuZWQKPiAr
ICAgICAgICAgICAgICAgICogdXAgd2hlbiB0aGUgdm1hIGlzIGNsb3NlZC4KPiArICAgICAgICAg
ICAgICAgICoKPiArICAgICAgICAgICAgICAgICogU2tpcCAwLXJlZmNudGVkIG9iamVjdHMgYXMg
aXQgaXMgaW4gdGhlIHByb2Nlc3Mgb2YgYmVpbmcgZGVzdHJveWVkCj4gKyAgICAgICAgICAgICAg
ICAqIGFuZCB3aWxsIGJlIGludmFsaWQgd2hlbiB0aGUgdm1hIG1hbmFnZXIgbG9jayBpcyByZWxl
YXNlZC4KPiArICAgICAgICAgICAgICAgICovCj4gKyAgICAgICAgICAgICAgIGlmIChrcmVmX2dl
dF91bmxlc3NfemVybygmbW1vLT5yZWYpKSB7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgb2Jq
ID0gJm1tby0+b2JqLT5iYXNlOwo+ICsgICAgICAgICAgICAgICAgICAgICAgIGlmICgha3JlZl9n
ZXRfdW5sZXNzX3plcm8oJm9iai0+cmVmY291bnQpKQoKVGhlIG1tbyBvd25zIGEgcmVmZXJlbmNl
IHRvIHRoZSBvYmouCgo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqID0gTlVM
TDsKPiArICAgICAgICAgICAgICAgfQo+ICsgICAgICAgfQo+ICsgICAgICAgZHJtX3ZtYV9vZmZz
ZXRfdW5sb2NrX2xvb2t1cChkZXYtPnZtYV9vZmZzZXRfbWFuYWdlcik7Cj4gKwo+ICsgICAgICAg
aWYgKCFvYmopIHsKPiArICAgICAgICAgICAgICAgaWYgKG1tbykKPiArICAgICAgICAgICAgICAg
ICAgICAgICBrcmVmX3B1dCgmbW1vLT5yZWYsIGk5MTVfbW1hcF9vZmZzZXRfb2JqZWN0X3JlbGVh
c2UpOwo+ICsgICAgICAgICAgICAgICByZXR1cm4gLUVJTlZBTDsKPiArICAgICAgIH0KPiArCj4g
KyAgICAgICBpZiAoIWRybV92bWFfbm9kZV9pc19hbGxvd2VkKG5vZGUsIHByaXYpKSB7Cj4gKyAg
ICAgICAgICAgICAgIGRybV9nZW1fb2JqZWN0X3B1dF91bmxvY2tlZChvYmopOwo+ICsgICAgICAg
ICAgICAgICByZXR1cm4gLUVBQ0NFUzsKPiArICAgICAgIH0KPiArCj4gKyAgICAgICBpZiAodG9f
aW50ZWxfYm8ob2JqKS0+cmVhZG9ubHkpIHsKPiArICAgICAgICAgICAgICAgaWYgKHZtYS0+dm1f
ZmxhZ3MgJiBWTV9XUklURSkgewo+ICsgICAgICAgICAgICAgICAgICAgICAgIGRybV9nZW1fb2Jq
ZWN0X3B1dF91bmxvY2tlZChvYmopOwo+ICsgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAt
RUlOVkFMOwo+ICsgICAgICAgICAgICAgICB9Cj4gKwo+ICsgICAgICAgICAgICAgICB2bWEtPnZt
X2ZsYWdzICY9IH5WTV9NQVlXUklURTsKPiArICAgICAgIH0KPiArCj4gKyAgICAgICB2bWEtPnZt
X2ZsYWdzIHw9IFZNX1BGTk1BUCB8IFZNX0RPTlRFWFBBTkQgfCBWTV9ET05URFVNUDsKPiArICAg
ICAgIHZtYS0+dm1fcGFnZV9wcm90ID0gcGdwcm90X3dyaXRlY29tYmluZSh2bV9nZXRfcGFnZV9w
cm90KHZtYS0+dm1fZmxhZ3MpKTsKPiArICAgICAgIHZtYS0+dm1fcGFnZV9wcm90ID0gcGdwcm90
X2RlY3J5cHRlZCh2bWEtPnZtX3BhZ2VfcHJvdCk7Cj4gKyAgICAgICB2bWEtPnZtX3ByaXZhdGVf
ZGF0YSA9IG1tbzsKPiArCj4gKyAgICAgICB2bWEtPnZtX29wcyA9ICZpOTE1X2dlbV9ndHRfdm1f
b3BzOwo+ICsKPiArICAgICAgIHJldHVybiAwOwo+ICB9Cj4gIAo+ICAjaWYgSVNfRU5BQkxFRChD
T05GSUdfRFJNX0k5MTVfU0VMRlRFU1QpCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2dlbS9pOTE1X2dlbV9vYmplY3QuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1
X2dlbV9vYmplY3QuYwo+IGluZGV4IDM5MjljM2E2YjI4MS4uMjRmNzM3YjAwZTg0IDEwMDY0NAo+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3QuYwo+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3QuYwo+IEBAIC02OCw2ICs2
OCw5IEBAIHZvaWQgaTkxNV9nZW1fb2JqZWN0X2luaXQoc3RydWN0IGRybV9pOTE1X2dlbV9vYmpl
Y3QgKm9iaiwKPiAgCj4gICAgICAgICBJTklUX0xJU1RfSEVBRCgmb2JqLT5sdXRfbGlzdCk7Cj4g
IAo+ICsgICAgICAgbXV0ZXhfaW5pdCgmb2JqLT5tbW9fbG9jayk7Cj4gKyAgICAgICBJTklUX0xJ
U1RfSEVBRCgmb2JqLT5tbWFwX29mZnNldHMpOwo+ICsKPiAgICAgICAgIGluaXRfcmN1X2hlYWQo
Jm9iai0+cmN1KTsKPiAgCj4gICAgICAgICBvYmotPm9wcyA9IG9wczsKPiBAQCAtMTA4LDYgKzEx
MSw3IEBAIHZvaWQgaTkxNV9nZW1fY2xvc2Vfb2JqZWN0KHN0cnVjdCBkcm1fZ2VtX29iamVjdCAq
Z2VtLCBzdHJ1Y3QgZHJtX2ZpbGUgKmZpbGUpCj4gICAgICAgICBzdHJ1Y3QgZHJtX2k5MTVfZ2Vt
X29iamVjdCAqb2JqID0gdG9faW50ZWxfYm8oZ2VtKTsKPiAgICAgICAgIHN0cnVjdCBkcm1faTkx
NV9maWxlX3ByaXZhdGUgKmZwcml2ID0gZmlsZS0+ZHJpdmVyX3ByaXY7Cj4gICAgICAgICBzdHJ1
Y3QgaTkxNV9sdXRfaGFuZGxlICpsdXQsICpsbjsKPiArICAgICAgIHN0cnVjdCBpOTE1X21tYXBf
b2Zmc2V0ICptbW8sICpvbjsKPiAgICAgICAgIExJU1RfSEVBRChjbG9zZSk7Cj4gIAo+ICAgICAg
ICAgaTkxNV9nZW1fb2JqZWN0X2xvY2sob2JqKTsKPiBAQCAtMTIyLDYgKzEyNiwxMSBAQCB2b2lk
IGk5MTVfZ2VtX2Nsb3NlX29iamVjdChzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKmdlbSwgc3RydWN0
IGRybV9maWxlICpmaWxlKQo+ICAgICAgICAgfQo+ICAgICAgICAgaTkxNV9nZW1fb2JqZWN0X3Vu
bG9jayhvYmopOwo+ICAKPiArICAgICAgIG11dGV4X2xvY2soJm9iai0+bW1vX2xvY2spOwo+ICsg
ICAgICAgbGlzdF9mb3JfZWFjaF9lbnRyeV9zYWZlKG1tbywgb24sICZvYmotPm1tYXBfb2Zmc2V0
cywgb2Zmc2V0KQo+ICsgICAgICAgICAgICAgICBrcmVmX3B1dCgmbW1vLT5yZWYsIGk5MTVfbW1h
cF9vZmZzZXRfb2JqZWN0X3JlbGVhc2UpOwo+ICsgICAgICAgbXV0ZXhfdW5sb2NrKCZvYmotPm1t
b19sb2NrKTsKCllvdSBjYW4gb25seSBmcmVlIHRoZSBtbW8gY29ycmVzcG9uZGluZyB0byB0aGlz
IGZpbGUuCgphID0gZ2VtX2NyZWF0ZShBKTsKYV9vZmZzZXQgPSBtbWFwX29mZnNldF9pb2N0bChh
KTsKCmIgPSBnZW1fb3BlbihCLCBnZW1fZmxpbmsoQSwgYSkpCmJfb2Zmc2V0ID0gbW1hcF9vZmZz
ZXRfaW9jdGwoYik7CgooYl9vZmZzZXQgaXMgYWxsb3dlZCB0byBiZSB0aGUgc2FtZSBhcyBhX29m
ZnNldCkKCmdlbV9jbG9zZShiKTsKCnB0ciA9IG1tYXAoYV9vZmZzZXQsIEEpCmlndF9hc3NlcnQo
cHRyICE9IE1BUF9GQUlMRUQpOwoKPiArCj4gICAgICAgICBsaXN0X2Zvcl9lYWNoX2VudHJ5X3Nh
ZmUobHV0LCBsbiwgJmNsb3NlLCBvYmpfbGluaykgewo+ICAgICAgICAgICAgICAgICBzdHJ1Y3Qg
aTkxNV9nZW1fY29udGV4dCAqY3R4ID0gbHV0LT5jdHg7Cj4gICAgICAgICAgICAgICAgIHN0cnVj
dCBpOTE1X3ZtYSAqdm1hOwo+IEBAIC0xNzAsNiArMTc5LDcgQEAgc3RhdGljIHZvaWQgX19pOTE1
X2dlbV9mcmVlX29iamVjdHMoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCj4gICAgICAg
ICB3YWtlcmVmID0gaW50ZWxfcnVudGltZV9wbV9nZXQoJmk5MTUtPnJ1bnRpbWVfcG0pOwo+ICAg
ICAgICAgbGxpc3RfZm9yX2VhY2hfZW50cnlfc2FmZShvYmosIG9uLCBmcmVlZCwgZnJlZWQpIHsK
PiAgICAgICAgICAgICAgICAgc3RydWN0IGk5MTVfdm1hICp2bWEsICp2bjsKPiArICAgICAgICAg
ICAgICAgc3RydWN0IGk5MTVfbW1hcF9vZmZzZXQgKm1tbywgKm9uOwo+ICAKPiAgICAgICAgICAg
ICAgICAgdHJhY2VfaTkxNV9nZW1fb2JqZWN0X2Rlc3Ryb3kob2JqKTsKPiAgCj4gQEAgLTE4Myw2
ICsxOTMsNyBAQCBzdGF0aWMgdm9pZCBfX2k5MTVfZ2VtX2ZyZWVfb2JqZWN0cyhzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqaTkxNSwKPiAgICAgICAgICAgICAgICAgR0VNX0JVR19PTighbGlzdF9l
bXB0eSgmb2JqLT52bWEubGlzdCkpOwo+ICAgICAgICAgICAgICAgICBHRU1fQlVHX09OKCFSQl9F
TVBUWV9ST09UKCZvYmotPnZtYS50cmVlKSk7Cj4gIAo+ICsgICAgICAgICAgICAgICBpOTE1X2dl
bV9vYmplY3RfcmVsZWFzZV9tbWFwKG9iaik7Cj4gICAgICAgICAgICAgICAgIG11dGV4X3VubG9j
aygmaTkxNS0+ZHJtLnN0cnVjdF9tdXRleCk7Cj4gIAo+ICAgICAgICAgICAgICAgICBHRU1fQlVH
X09OKGF0b21pY19yZWFkKCZvYmotPmJpbmRfY291bnQpKTsKPiBAQCAtMjAzLDYgKzIxNCwxMSBA
QCBzdGF0aWMgdm9pZCBfX2k5MTVfZ2VtX2ZyZWVfb2JqZWN0cyhzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqaTkxNSwKPiAgICAgICAgICAgICAgICAgaWYgKG9iai0+b3BzLT5yZWxlYXNlKQo+ICAg
ICAgICAgICAgICAgICAgICAgICAgIG9iai0+b3BzLT5yZWxlYXNlKG9iaik7Cj4gIAo+ICsgICAg
ICAgICAgICAgICBtdXRleF9sb2NrKCZvYmotPm1tb19sb2NrKTsKPiArICAgICAgICAgICAgICAg
bGlzdF9mb3JfZWFjaF9lbnRyeV9zYWZlKG1tbywgb24sICZvYmotPm1tYXBfb2Zmc2V0cywgb2Zm
c2V0KQo+ICsgICAgICAgICAgICAgICAgICAgICAgIGtyZWZfcHV0KCZtbW8tPnJlZiwgaTkxNV9t
bWFwX29mZnNldF9vYmplY3RfcmVsZWFzZSk7Cj4gKyAgICAgICAgICAgICAgIG11dGV4X3VubG9j
aygmb2JqLT5tbW9fbG9jayk7CgpBaGVtLiBtbW8gaGFzIGEgcmVmIHRvIG9iai4gVGhlcmUncyBh
IGJpZyBjaXJjbGUgaGVyZS4gU2hvdWxkIGNvZGUKc2hvdWxkIGJlIHJlZHVuZGFudCBhbmQgeW91
IGNhbiBhc3NlcnQgdGhhdCB5b3UgaGF2ZSBubyBtbW8gKGFjY29yZGluZwp0byB0aGUgb3V0bGlu
ZSBza2V0Y2gpLgoKPiArCj4gICAgICAgICAgICAgICAgIC8qIEJ1dCBrZWVwIHRoZSBwb2ludGVy
IGFsaXZlIGZvciBSQ1UtcHJvdGVjdGVkIGxvb2t1cHMgKi8KPiAgICAgICAgICAgICAgICAgY2Fs
bF9yY3UoJm9iai0+cmN1LCBfX2k5MTVfZ2VtX2ZyZWVfb2JqZWN0X3JjdSk7Cj4gICAgICAgICB9
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3Qu
aCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3QuaAo+IGluZGV4IDFj
YmM2MzQ3MDIxMi4uMmJiMGM3NzljODUwIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2dlbS9pOTE1X2dlbV9vYmplY3QuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dl
bS9pOTE1X2dlbV9vYmplY3QuaAo+IEBAIC0xMzEsMTMgKzEzMSwxMyBAQCBpOTE1X2dlbV9vYmpl
Y3RfaXNfdm9sYXRpbGUoY29uc3Qgc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaikKPiAg
c3RhdGljIGlubGluZSB2b2lkCj4gIGk5MTVfZ2VtX29iamVjdF9zZXRfcmVhZG9ubHkoc3RydWN0
IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaikKPiAgewo+IC0gICAgICAgb2JqLT5iYXNlLnZtYV9u
b2RlLnJlYWRvbmx5ID0gdHJ1ZTsKPiArICAgICAgIG9iai0+cmVhZG9ubHkgPSB0cnVlOwo+ICB9
Cj4gIAo+ICBzdGF0aWMgaW5saW5lIGJvb2wKPiAgaTkxNV9nZW1fb2JqZWN0X2lzX3JlYWRvbmx5
KGNvbnN0IHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmopCj4gIHsKPiAtICAgICAgIHJl
dHVybiBvYmotPmJhc2Uudm1hX25vZGUucmVhZG9ubHk7Cj4gKyAgICAgICByZXR1cm4gb2JqLT5y
ZWFkb25seTsKPiAgfQo+ICAKPiAgc3RhdGljIGlubGluZSBib29sCj4gQEAgLTQzNSw2ICs0MzUs
OSBAQCBpbnQgaTkxNV9nZW1fb2JqZWN0X3dhaXQoc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3Qg
Km9iaiwKPiAgaW50IGk5MTVfZ2VtX29iamVjdF93YWl0X3ByaW9yaXR5KHN0cnVjdCBkcm1faTkx
NV9nZW1fb2JqZWN0ICpvYmosCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVu
c2lnbmVkIGludCBmbGFncywKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29u
c3Qgc3RydWN0IGk5MTVfc2NoZWRfYXR0ciAqYXR0cik7Cj4gKwo+ICt2b2lkIGk5MTVfbW1hcF9v
ZmZzZXRfb2JqZWN0X3JlbGVhc2Uoc3RydWN0IGtyZWYgKnJlZik7Cj4gKwo+ICAjZGVmaW5lIEk5
MTVfUFJJT1JJVFlfRElTUExBWSBJOTE1X1VTRVJfUFJJT1JJVFkoSTkxNV9QUklPUklUWV9NQVgp
Cj4gIAo+ICAjZW5kaWYKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5
MTVfZ2VtX29iamVjdF90eXBlcy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2Vt
X29iamVjdF90eXBlcy5oCj4gaW5kZXggY2QwNjA1MWViNzk3Li5hMzc0NWY3ZDU3YTEgMTAwNjQ0
Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdF90eXBlcy5o
Cj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdF90eXBlcy5o
Cj4gQEAgLTYyLDYgKzYyLDE5IEBAIHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0X29wcyB7Cj4g
ICAgICAgICB2b2lkICgqcmVsZWFzZSkoc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaik7
Cj4gIH07Cj4gIAo+ICtlbnVtIGk5MTVfbW1hcF90eXBlIHsKPiArICAgICAgIEk5MTVfTU1BUF9U
WVBFX0dUVCA9IDAsCj4gK307Cj4gKwo+ICtzdHJ1Y3QgaTkxNV9tbWFwX29mZnNldCB7Cj4gKyAg
ICAgICBzdHJ1Y3QgZHJtX3ZtYV9vZmZzZXRfbm9kZSB2bWFfbm9kZTsKPiArICAgICAgIHN0cnVj
dCBkcm1faTkxNV9nZW1fb2JqZWN0KiBvYmo7Cj4gKyAgICAgICBzdHJ1Y3QgZHJtX2ZpbGUgKmZp
bGU7Cj4gKyAgICAgICBlbnVtIGk5MTVfbW1hcF90eXBlIG1tYXBfdHlwZTsKPiArICAgICAgIHN0
cnVjdCBrcmVmIHJlZjsKPiArICAgICAgIHN0cnVjdCBsaXN0X2hlYWQgb2Zmc2V0Owo+ICt9Owo+
ICsKPiAgc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3Qgewo+ICAgICAgICAgc3RydWN0IGRybV9n
ZW1fb2JqZWN0IGJhc2U7Cj4gIAo+IEBAIC0xMTcsNiArMTMwLDExIEBAIHN0cnVjdCBkcm1faTkx
NV9nZW1fb2JqZWN0IHsKPiAgICAgICAgIHVuc2lnbmVkIGludCB1c2VyZmF1bHRfY291bnQ7Cj4g
ICAgICAgICBzdHJ1Y3QgbGlzdF9oZWFkIHVzZXJmYXVsdF9saW5rOwo+ICAKPiArICAgICAgIC8q
IFByb3RlY3RzIGFjY2VzcyB0byBtbWFwIG9mZnNldHMgKi8KPiArICAgICAgIHN0cnVjdCBtdXRl
eCBtbW9fbG9jazsKPiArICAgICAgIHN0cnVjdCBsaXN0X2hlYWQgbW1hcF9vZmZzZXRzOwo+ICsg
ICAgICAgYm9vbCByZWFkb25seToxOwoKWW91IGtub3cgdGhhdCB3ZSBqdXN0IGFkZGVkIGEgb2Jq
LT5mbGFncz8KCj4gKwo+ICAgICAgICAgSTkxNV9TRUxGVEVTVF9ERUNMQVJFKHN0cnVjdCBsaXN0
X2hlYWQgc3RfbGluayk7Cj4gIAo+ICAgICAgICAgdW5zaWduZWQgbG9uZyBmbGFnczsKPiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL3NlbGZ0ZXN0cy9pOTE1X2dlbV9tbWFu
LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRlc3RzL2k5MTVfZ2VtX21tYW4uYwo+
IGluZGV4IGZhODM3NDVhYmNjMC4uNGUzMzZkNjhkNmViIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2dlbS9zZWxmdGVzdHMvaTkxNV9nZW1fbW1hbi5jCj4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ2VtL3NlbGZ0ZXN0cy9pOTE1X2dlbV9tbWFuLmMKPiBAQCAtMzcxLDE1
ICszNzEsMjAgQEAgc3RhdGljIGJvb2wgYXNzZXJ0X21tYXBfb2Zmc2V0KHN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICppOTE1LAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnQgZXhw
ZWN0ZWQpCj4gIHsKPiAgICAgICAgIHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmo7Cj4g
KyAgICAgICAvKiByZWZjb3VudGVkIGluIGNyZWF0ZV9tbWFwX29mZnNldCAqLwo+ICsgICAgICAg
c3RydWN0IGk5MTVfbW1hcF9vZmZzZXQgKm1tbyA9IGt6YWxsb2Moc2l6ZW9mKCptbW8pLCBHRlBf
S0VSTkVMKTsKPiAgICAgICAgIGludCBlcnI7Cj4gIAo+ICAgICAgICAgb2JqID0gaTkxNV9nZW1f
b2JqZWN0X2NyZWF0ZV9pbnRlcm5hbChpOTE1LCBzaXplKTsKPiAgICAgICAgIGlmIChJU19FUlIo
b2JqKSkKPiAgICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIob2JqKTsKPiAgCj4gLSAgICAg
ICBlcnIgPSBjcmVhdGVfbW1hcF9vZmZzZXQob2JqKTsKPiArICAgICAgIGVyciA9IGNyZWF0ZV9t
bWFwX29mZnNldChvYmosIG1tbyk7Cj4gICAgICAgICBpOTE1X2dlbV9vYmplY3RfcHV0KG9iaik7
Cj4gIAo+ICsgICAgICAgaWYgKGVycikKPiArICAgICAgICAgICAgICAga2ZyZWUobW1vKTsKPiAr
Cj4gICAgICAgICByZXR1cm4gZXJyID09IGV4cGVjdGVkOwo+ICB9Cj4gIAo+IEBAIC00MjIsNiAr
NDI3LDggQEAgc3RhdGljIGludCBpZ3RfbW1hcF9vZmZzZXRfZXhoYXVzdGlvbih2b2lkICphcmcp
Cj4gICAgICAgICBzdHJ1Y3QgZHJtX21tICptbSA9ICZpOTE1LT5kcm0udm1hX29mZnNldF9tYW5h
Z2VyLT52bV9hZGRyX3NwYWNlX21tOwo+ICAgICAgICAgc3RydWN0IGRybV9pOTE1X2dlbV9vYmpl
Y3QgKm9iajsKPiAgICAgICAgIHN0cnVjdCBkcm1fbW1fbm9kZSByZXN2LCAqaG9sZTsKPiArICAg
ICAgIC8qIHJlZmNvdW50ZWQgaW4gY3JlYXRlX21tYXBfb2Zmc2V0ICovCj4gKyAgICAgICBzdHJ1
Y3QgaTkxNV9tbWFwX29mZnNldCAqbW1vID0ga3phbGxvYyhzaXplb2YoKm1tbyksIEdGUF9LRVJO
RUwpOwo+ICAgICAgICAgdTY0IGhvbGVfc3RhcnQsIGhvbGVfZW5kOwo+ICAgICAgICAgaW50IGxv
b3AsIGVycjsKPiAgCj4gQEAgLTQ2NSw5ICs0NzIsMTAgQEAgc3RhdGljIGludCBpZ3RfbW1hcF9v
ZmZzZXRfZXhoYXVzdGlvbih2b2lkICphcmcpCj4gICAgICAgICAgICAgICAgIGdvdG8gb3V0Owo+
ICAgICAgICAgfQo+ICAKPiAtICAgICAgIGVyciA9IGNyZWF0ZV9tbWFwX29mZnNldChvYmopOwo+
ICsgICAgICAgZXJyID0gY3JlYXRlX21tYXBfb2Zmc2V0KG9iaiwgbW1vKTsKPiAgICAgICAgIGlm
IChlcnIpIHsKPiAgICAgICAgICAgICAgICAgcHJfZXJyKCJVbmFibGUgdG8gaW5zZXJ0IG9iamVj
dCBpbnRvIHJlY2xhaW1lZCBob2xlXG4iKTsKPiArICAgICAgICAgICAgICAga2ZyZWUobW1vKTsK
PiAgICAgICAgICAgICAgICAgZ290byBlcnJfb2JqOwo+ICAgICAgICAgfQo+ICAKPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfcmVzZXQuYyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2d0L2ludGVsX3Jlc2V0LmMKPiBpbmRleCBlYzg1NzQwZGU5NDIuLjQ5NjhjOGM3
NjMzYSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yZXNldC5j
Cj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfcmVzZXQuYwo+IEBAIC02Mjgs
NiArNjI4LDcgQEAgc3RhdGljIHZvaWQgcmV2b2tlX21tYXBzKHN0cnVjdCBpbnRlbF9ndCAqZ3Qp
Cj4gIAo+ICAgICAgICAgZm9yIChpID0gMDsgaSA8IGd0LT5nZ3R0LT5udW1fZmVuY2VzOyBpKysp
IHsKPiAgICAgICAgICAgICAgICAgc3RydWN0IGRybV92bWFfb2Zmc2V0X25vZGUgKm5vZGU7Cj4g
KyAgICAgICAgICAgICAgIHN0cnVjdCBpOTE1X21tYXBfb2Zmc2V0ICptbW87Cj4gICAgICAgICAg
ICAgICAgIHN0cnVjdCBpOTE1X3ZtYSAqdm1hOwo+ICAgICAgICAgICAgICAgICB1NjQgdm1hX29m
ZnNldDsKPiAgCj4gQEAgLTY0MSwxMCArNjQyLDIwIEBAIHN0YXRpYyB2b2lkIHJldm9rZV9tbWFw
cyhzdHJ1Y3QgaW50ZWxfZ3QgKmd0KQo+ICAgICAgICAgICAgICAgICBHRU1fQlVHX09OKHZtYS0+
ZmVuY2UgIT0gJmd0LT5nZ3R0LT5mZW5jZV9yZWdzW2ldKTsKPiAgICAgICAgICAgICAgICAgbm9k
ZSA9ICZ2bWEtPm9iai0+YmFzZS52bWFfbm9kZTsKPiAgICAgICAgICAgICAgICAgdm1hX29mZnNl
dCA9IHZtYS0+Z2d0dF92aWV3LnBhcnRpYWwub2Zmc2V0IDw8IFBBR0VfU0hJRlQ7Cj4gLSAgICAg
ICAgICAgICAgIHVubWFwX21hcHBpbmdfcmFuZ2UoZ3QtPmk5MTUtPmRybS5hbm9uX2lub2RlLT5p
X21hcHBpbmcsCj4gKwo+ICsgICAgICAgICAgICAgICBtdXRleF9sb2NrKCZ2bWEtPm9iai0+bW1v
X2xvY2spOwoKT2ggY3Jpa2V5LCBnZXQgdGhhdCBsb2NrIGF3YXkgZnJvbSBoZXJlLgoKPiArICAg
ICAgICAgICAgICAgbGlzdF9mb3JfZWFjaF9lbnRyeShtbW8sICZ2bWEtPm9iai0+bW1hcF9vZmZz
ZXRzLCBvZmZzZXQpIHsKPiArICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gJm1tby0+dm1h
X25vZGU7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkcm1fbW1fbm9kZV9hbGxvY2F0
ZWQoJm5vZGUtPnZtX25vZGUpIHx8Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgIG1tby0+
bW1hcF90eXBlICE9IEk5MTVfTU1BUF9UWVBFX0dUVCkKPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGNvbnRpbnVlOwo+ICsKPiArICAgICAgICAgICAgICAgICAgICAgICB1bm1hcF9t
YXBwaW5nX3JhbmdlKGd0LT5pOTE1LT5kcm0uYW5vbl9pbm9kZS0+aV9tYXBwaW5nLAo+ICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRybV92bWFfbm9kZV9vZmZzZXRfYWRkcihu
b2RlKSArIHZtYV9vZmZzZXQsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
dm1hLT5zaXplLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEpOwo+ICsg
ICAgICAgICAgICAgICB9Cj4gKyAgICAgICAgICAgICAgIG11dGV4X3VubG9jaygmdm1hLT5vYmot
Pm1tb19sb2NrKTsKPiAgICAgICAgIH0KPiAgfQo+ICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9kcnYuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmMK
PiBpbmRleCAyMmU4N2FlMzY2MjEuLmZjZWUwNmVkMzQ2OSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9kcnYuYwo+IEBAIC0yNjU4LDE4ICsyNjU4LDEyIEBAIGNvbnN0IHN0cnVjdCBkZXZfcG1fb3Bz
IGk5MTVfcG1fb3BzID0gewo+ICAgICAgICAgLnJ1bnRpbWVfcmVzdW1lID0gaW50ZWxfcnVudGlt
ZV9yZXN1bWUsCj4gIH07Cj4gIAo+IC1zdGF0aWMgY29uc3Qgc3RydWN0IHZtX29wZXJhdGlvbnNf
c3RydWN0IGk5MTVfZ2VtX3ZtX29wcyA9IHsKPiAtICAgICAgIC5mYXVsdCA9IGk5MTVfZ2VtX2Zh
dWx0LAo+IC0gICAgICAgLm9wZW4gPSBkcm1fZ2VtX3ZtX29wZW4sCj4gLSAgICAgICAuY2xvc2Ug
PSBkcm1fZ2VtX3ZtX2Nsb3NlLAo+IC19Owo+IC0KPiAgc3RhdGljIGNvbnN0IHN0cnVjdCBmaWxl
X29wZXJhdGlvbnMgaTkxNV9kcml2ZXJfZm9wcyA9IHsKPiAgICAgICAgIC5vd25lciA9IFRISVNf
TU9EVUxFLAo+ICAgICAgICAgLm9wZW4gPSBkcm1fb3BlbiwKPiAgICAgICAgIC5yZWxlYXNlID0g
ZHJtX3JlbGVhc2UsCj4gICAgICAgICAudW5sb2NrZWRfaW9jdGwgPSBkcm1faW9jdGwsCj4gLSAg
ICAgICAubW1hcCA9IGRybV9nZW1fbW1hcCwKPiArICAgICAgIC5tbWFwID0gaTkxNV9nZW1fbW1h
cCwKPiAgICAgICAgIC5wb2xsID0gZHJtX3BvbGwsCj4gICAgICAgICAucmVhZCA9IGRybV9yZWFk
LAo+ICAgICAgICAgLmNvbXBhdF9pb2N0bCA9IGk5MTVfY29tcGF0X2lvY3RsLAo+IEBAIC0yNzU4
LDcgKzI3NTIsNiBAQCBzdGF0aWMgc3RydWN0IGRybV9kcml2ZXIgZHJpdmVyID0gewo+ICAKPiAg
ICAgICAgIC5nZW1fY2xvc2Vfb2JqZWN0ID0gaTkxNV9nZW1fY2xvc2Vfb2JqZWN0LAo+ICAgICAg
ICAgLmdlbV9mcmVlX29iamVjdF91bmxvY2tlZCA9IGk5MTVfZ2VtX2ZyZWVfb2JqZWN0LAo+IC0g
ICAgICAgLmdlbV92bV9vcHMgPSAmaTkxNV9nZW1fdm1fb3BzLAo+ICAKPiAgICAgICAgIC5wcmlt
ZV9oYW5kbGVfdG9fZmQgPSBkcm1fZ2VtX3ByaW1lX2hhbmRsZV90b19mZCwKPiAgICAgICAgIC5w
cmltZV9mZF90b19oYW5kbGUgPSBkcm1fZ2VtX3ByaW1lX2ZkX3RvX2hhbmRsZSwKPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaCBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2k5MTVfZHJ2LmgKPiBpbmRleCAxODJlZDZiNDZhYTUuLjVhNWI5MDY3MGUxNiAxMDA2NDQK
PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9kcnYuaAo+IEBAIC0yMzk2LDYgKzIzOTYsNyBAQCBpbnQgaTkxNV9n
ZW1fd2FpdF9mb3JfaWRsZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCj4gIHZv
aWQgaTkxNV9nZW1fc3VzcGVuZChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpOwo+
ICB2b2lkIGk5MTVfZ2VtX3N1c3BlbmRfbGF0ZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2
X3ByaXYpOwo+ICB2b2lkIGk5MTVfZ2VtX3Jlc3VtZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
ZGV2X3ByaXYpOwo+ICtpbnQgaTkxNV9nZW1fbW1hcChzdHJ1Y3QgZmlsZSAqZmlscCwgc3RydWN0
IHZtX2FyZWFfc3RydWN0ICp2bWEpOwo+ICB2bV9mYXVsdF90IGk5MTVfZ2VtX2ZhdWx0KHN0cnVj
dCB2bV9mYXVsdCAqdm1mKTsKPiAgCj4gIGludCBpOTE1X2dlbV9vcGVuKHN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICppOTE1LCBzdHJ1Y3QgZHJtX2ZpbGUgKmZpbGUpOwo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3ZtYS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV92bWEuYwo+IGluZGV4IDQxODNiMGUxMDMyNC4uZWMyYTQxZTFhMDRkIDEwMDY0NAo+IC0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfdm1hLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X3ZtYS5jCj4gQEAgLTg2NSw3ICs4NjUsOCBAQCBzdGF0aWMgdm9pZCBfX2k5MTVf
dm1hX2lvdW5tYXAoc3RydWN0IGk5MTVfdm1hICp2bWEpCj4gIAo+ICB2b2lkIGk5MTVfdm1hX3Jl
dm9rZV9tbWFwKHN0cnVjdCBpOTE1X3ZtYSAqdm1hKQo+ICB7Cj4gLSAgICAgICBzdHJ1Y3QgZHJt
X3ZtYV9vZmZzZXRfbm9kZSAqbm9kZSA9ICZ2bWEtPm9iai0+YmFzZS52bWFfbm9kZTsKPiArICAg
ICAgIHN0cnVjdCBkcm1fdm1hX29mZnNldF9ub2RlICpub2RlOwo+ICsgICAgICAgc3RydWN0IGk5
MTVfbW1hcF9vZmZzZXQgKm1tbzsKPiAgICAgICAgIHU2NCB2bWFfb2Zmc2V0Owo+ICAKPiAgICAg
ICAgIGxvY2tkZXBfYXNzZXJ0X2hlbGQoJnZtYS0+dm0tPmk5MTUtPmRybS5zdHJ1Y3RfbXV0ZXgp
Owo+IEBAIC04NzcsMTAgKzg3OCwyMCBAQCB2b2lkIGk5MTVfdm1hX3Jldm9rZV9tbWFwKHN0cnVj
dCBpOTE1X3ZtYSAqdm1hKQo+ICAgICAgICAgR0VNX0JVR19PTighdm1hLT5vYmotPnVzZXJmYXVs
dF9jb3VudCk7Cj4gIAo+ICAgICAgICAgdm1hX29mZnNldCA9IHZtYS0+Z2d0dF92aWV3LnBhcnRp
YWwub2Zmc2V0IDw8IFBBR0VfU0hJRlQ7Cj4gLSAgICAgICB1bm1hcF9tYXBwaW5nX3JhbmdlKHZt
YS0+dm0tPmk5MTUtPmRybS5hbm9uX2lub2RlLT5pX21hcHBpbmcsCj4gLSAgICAgICAgICAgICAg
ICAgICAgICAgICAgIGRybV92bWFfbm9kZV9vZmZzZXRfYWRkcihub2RlKSArIHZtYV9vZmZzZXQs
Cj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtYS0+c2l6ZSwKPiAtICAgICAgICAgICAg
ICAgICAgICAgICAgICAgMSk7Cj4gKwo+ICsgICAgICAgbXV0ZXhfbG9jaygmdm1hLT5vYmotPm1t
b19sb2NrKTsKPiArICAgICAgIGxpc3RfZm9yX2VhY2hfZW50cnkobW1vLCAmdm1hLT5vYmotPm1t
YXBfb2Zmc2V0cywgb2Zmc2V0KSB7CgpTdXJlIHlvdSBrbm93IHdoaWNoIHZtYSB5b3UgdXNlZCB3
aXRoIHRoaXMgbW1vLgoKPiArICAgICAgICAgICAgICAgbm9kZSA9ICZtbW8tPnZtYV9ub2RlOwo+
ICsgICAgICAgICAgICAgICBpZiAoIWRybV9tbV9ub2RlX2FsbG9jYXRlZCgmbm9kZS0+dm1fbm9k
ZSkgfHwKPiArICAgICAgICAgICAgICAgICAgIG1tby0+bW1hcF90eXBlICE9IEk5MTVfTU1BUF9U
WVBFX0dUVCkKPiArICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKPiArCj4gKyAgICAg
ICAgICAgICAgIHVubWFwX21hcHBpbmdfcmFuZ2Uodm1hLT52bS0+aTkxNS0+ZHJtLmFub25faW5v
ZGUtPmlfbWFwcGluZywKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcm1f
dm1hX25vZGVfb2Zmc2V0X2FkZHIobm9kZSkgKyB2bWFfb2Zmc2V0LAo+ICsgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHZtYS0+c2l6ZSwKPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAxKTsKPiArICAgICAgIH0KPiArICAgICAgIG11dGV4X3VubG9jaygmdm1h
LT5vYmotPm1tb19sb2NrKTsKPiAgCj4gICAgICAgICBpOTE1X3ZtYV91bnNldF91c2VyZmF1bHQo
dm1hKTsKPiAgICAgICAgIGlmICghLS12bWEtPm9iai0+dXNlcmZhdWx0X2NvdW50KQo+IC0tIAo+
IDIuMjAuMQo+IAo+IF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fCj4gZHJpLWRldmVsIG1haWxpbmcgbGlzdAo+IGRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3Rv
cC5vcmcKPiBodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2Ry
aS1kZXZlbApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpk
cmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0
cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
