Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 8A05733D01B
	for <lists+dri-devel@lfdr.de>; Tue, 16 Mar 2021 09:51:12 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 02B3489B8F;
	Tue, 16 Mar 2021 08:51:09 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from netline-mail3.netline.ch (mail.netline.ch [148.251.143.178])
 by gabe.freedesktop.org (Postfix) with ESMTP id 3FC3C6E23B
 for <dri-devel@lists.freedesktop.org>; Tue, 16 Mar 2021 08:51:07 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by netline-mail3.netline.ch (Postfix) with ESMTP id 406472A6042;
 Tue, 16 Mar 2021 09:51:06 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at netline-mail3.netline.ch
Received: from netline-mail3.netline.ch ([127.0.0.1])
 by localhost (netline-mail3.netline.ch [127.0.0.1]) (amavisd-new, port 10024)
 with LMTP id qJibMIbJB9m0; Tue, 16 Mar 2021 09:51:05 +0100 (CET)
Received: from thor (24.99.2.85.dynamic.wline.res.cust.swisscom.ch
 [85.2.99.24])
 by netline-mail3.netline.ch (Postfix) with ESMTPSA id 8C0842A6016;
 Tue, 16 Mar 2021 09:51:05 +0100 (CET)
Received: from [::1] by thor with esmtp (Exim 4.94)
 (envelope-from <michel@daenzer.net>)
 id 1lM5Ps-001fDM-Ry; Tue, 16 Mar 2021 09:51:04 +0100
To: Jason Ekstrand <jason@jlekstrand.net>
References: <20200317212115.419358-1-jason@jlekstrand.net>
 <20210315210453.1667925-1-jason@jlekstrand.net>
 <20210315210453.1667925-4-jason@jlekstrand.net>
 <CAOFGe96CDjucaqppf8a2pnw8N2-deTnHEQ_oyq5irRL-7=2NLw@mail.gmail.com>
From: =?UTF-8?Q?Michel_D=c3=a4nzer?= <michel@daenzer.net>
Subject: Re: [PATCH 3/3] dma-buf: Add an API for exporting sync files (v6)
Message-ID: <82b40177-74c2-a692-499f-54b64c523ce7@daenzer.net>
Date: Tue, 16 Mar 2021 09:51:04 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101
 Thunderbird/78.8.0
MIME-Version: 1.0
In-Reply-To: <CAOFGe96CDjucaqppf8a2pnw8N2-deTnHEQ_oyq5irRL-7=2NLw@mail.gmail.com>
Content-Language: en-CA
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Maling list - DRI developers <dri-devel@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gMjAyMS0wMy0xNiAxMjoxMCBhLm0uLCBKYXNvbiBFa3N0cmFuZCB3cm90ZToKPiBPbiBNb24s
IE1hciAxNSwgMjAyMSBhdCA0OjA1IFBNIEphc29uIEVrc3RyYW5kIDxqYXNvbkBqbGVrc3RyYW5k
Lm5ldD4gd3JvdGU6Cj4+Cj4+IE1vZGVybiB1c2Vyc3BhY2UgQVBJcyBsaWtlIFZ1bGthbiBhcmUg
YnVpbHQgb24gYW4gZXhwbGljaXQKPj4gc3luY2hyb25pemF0aW9uIG1vZGVsLiAgVGhpcyBkb2Vz
bid0IGFsd2F5cyBwbGF5IG5pY2VseSB3aXRoIHRoZQo+PiBpbXBsaWNpdCBzeW5jaHJvbml6YXRp
b24gdXNlZCBpbiB0aGUga2VybmVsIGFuZCBhc3N1bWVkIGJ5IFgxMSBhbmQKPj4gV2F5bGFuZC4g
IFRoZSBjbGllbnQgLT4gY29tcG9zaXRvciBoYWxmIG9mIHRoZSBzeW5jaHJvbml6YXRpb24gaXNu
J3QgdG9vCj4+IGJhZCwgYXQgbGVhc3Qgb24gaW50ZWwsIGJlY2F1c2Ugd2UgY2FuIGNvbnRyb2wg
d2hldGhlciBvciBub3QgaTkxNQo+PiBzeW5jaHJvbml6ZXMgb24gdGhlIGJ1ZmZlciBhbmQgd2hl
dGhlciBvciBub3QgaXQncyBjb25zaWRlcmVkIHdyaXR0ZW4uCj4+Cj4+IFRoZSBoYXJkZXIgcGFy
dCBpcyB0aGUgY29tcG9zaXRvciAtPiBjbGllbnQgc3luY2hyb25pemF0aW9uIHdoZW4gd2UgZ2V0
Cj4+IHRoZSBidWZmZXIgYmFjayBmcm9tIHRoZSBjb21wb3NpdG9yLiAgV2UncmUgcmVxdWlyZWQg
dG8gYmUgYWJsZSB0bwo+PiBwcm92aWRlIHRoZSBjbGllbnQgd2l0aCBhIFZrU2VtYXBob3JlIGFu
ZCBWa0ZlbmNlIHJlcHJlc2VudGluZyB0aGUgcG9pbnQKPj4gaW4gdGltZSB3aGVyZSB0aGUgd2lu
ZG93IHN5c3RlbSAoY29tcG9zaXRvciBhbmQvb3IgZGlzcGxheSkgZmluaXNoZWQKPj4gdXNpbmcg
dGhlIGJ1ZmZlci4gIFdpdGggY3VycmVudCBBUElzLCBpdCdzIHZlcnkgaGFyZCB0byBkbyB0aGlz
IGluIHN1Y2gKPj4gYSB3YXkgdGhhdCB3ZSBkb24ndCBnZXQgY29uZnVzZWQgYnkgdGhlIFZ1bGth
biBkcml2ZXIncyBhY2Nlc3Mgb2YgdGhlCj4+IGJ1ZmZlci4gIEluIHBhcnRpY3VsYXIsIG9uY2Ug
d2UgdGVsbCB0aGUga2VybmVsIHRoYXQgd2UncmUgcmVuZGVyaW5nIHRvCj4+IHRoZSBidWZmZXIg
YWdhaW4sIGFueSBDUFUgd2FpdHMgb24gdGhlIGJ1ZmZlciBvciBHUFUgZGVwZW5kZW5jaWVzIHdp
bGwKPj4gd2FpdCBvbiBzb21lIG9mIHRoZSBjbGllbnQgcmVuZGVyaW5nIGFuZCBub3QganVzdCB0
aGUgY29tcG9zaXRvci4KPj4KPj4gVGhpcyBuZXcgSU9DVEwgc29sdmVzIHRoaXMgcHJvYmxlbSBi
eSBhbGxvd2luZyB1cyB0byBnZXQgYSBzbmFwc2hvdCBvZgo+PiB0aGUgaW1wbGljaXQgc3luY2hy
b25pemF0aW9uIHN0YXRlIG9mIGEgZ2l2ZW4gZG1hLWJ1ZiBpbiB0aGUgZm9ybSBvZiBhCj4+IHN5
bmMgZmlsZS4gIEl0J3MgZWZmZWN0aXZlbHkgdGhlIHNhbWUgYXMgYSBwb2xsKCkgb3IgSTkxNV9H
RU1fV0FJVCBvbmx5LAo+PiBpbnN0ZWFkIG9mIENQVSB3YWl0aW5nIGRpcmVjdGx5LCBpdCBlbmNh
cHN1bGF0ZXMgdGhlIHdhaXQgb3BlcmF0aW9uLCBhdAo+PiB0aGUgY3VycmVudCBtb21lbnQgaW4g
dGltZSwgaW4gYSBzeW5jX2ZpbGUgc28gd2UgY2FuIGNoZWNrL3dhaXQgb24gaXQKPj4gbGF0ZXIu
ICBBcyBsb25nIGFzIHRoZSBWdWxrYW4gZHJpdmVyIGRvZXMgdGhlIHN5bmNfZmlsZSBleHBvcnQg
ZnJvbSB0aGUKPj4gZG1hLWJ1ZiBiZWZvcmUgd2UgcmUtaW50cm9kdWNlIGl0IGZvciByZW5kZXJp
bmcsIGl0IHdpbGwgb25seSBjb250YWluCj4+IGZlbmNlcyBmcm9tIHRoZSBjb21wb3NpdG9yIG9y
IGRpc3BsYXkuICBUaGlzIGFsbG93cyB0byBhY2N1cmF0ZWx5IHR1cm4KPj4gaXQgaW50byBhIFZr
RmVuY2Ugb3IgVmtTZW1hcGhvcmUgd2l0aG91dCBhbnkgb3Zlci0gc3luY2hyb25pemF0aW9uLgo+
Pgo+PiB2MiAoSmFzb24gRWtzdHJhbmQpOgo+PiAgLSBVc2UgYSB3cmFwcGVyIGRtYV9mZW5jZV9h
cnJheSBvZiBhbGwgZmVuY2VzIGluY2x1ZGluZyB0aGUgbmV3IG9uZQo+PiAgICB3aGVuIGltcG9y
dGluZyBhbiBleGNsdXNpdmUgZmVuY2UuCj4+Cj4+IHYzIChKYXNvbiBFa3N0cmFuZCk6Cj4+ICAt
IExvY2sgYXJvdW5kIHNldHRpbmcgc2hhcmVkIGZlbmNlcyBhcyB3ZWxsIGFzIGV4Y2x1c2l2ZQo+
PiAgLSBNYXJrIFNJR05BTF9TWU5DX0ZJTEUgYXMgYSByZWFkLXdyaXRlIGlvY3RsLgo+PiAgLSBJ
bml0aWFsaXplIHJldCB0byAwIGluIGRtYV9idWZfd2FpdF9zeW5jX2ZpbGUKPj4KPj4gdjQgKEph
c29uIEVrc3RyYW5kKToKPj4gIC0gVXNlIHRoZSBuZXcgZG1hX3Jlc3ZfZ2V0X3NpbmdsZXRvbiBo
ZWxwZXIKPj4KPj4gdjUgKEphc29uIEVrc3RyYW5kKToKPj4gIC0gUmVuYW1lIHRoZSBJT0NUTHMg
dG8gaW1wb3J0L2V4cG9ydCByYXRoZXIgdGhhbiB3YWl0L3NpZ25hbAo+PiAgLSBEcm9wIHRoZSBX
UklURSBmbGFnIGFuZCBhbHdheXMgZ2V0L3NldCB0aGUgZXhjbHVzaXZlIGZlbmNlCj4+Cj4+IHY2
IChKYXNvbiBFa3N0cmFuZCk6Cj4+ICAtIERyb3AgdGhlIHN5bmNfZmlsZSBpbXBvcnQgYXMgaXQg
d2FzIGFsbC1hcm91bmQgc2tldGNoeSBhbmQgbm90IG5lYXJseQo+PiAgICBhcyB1c2VmdWwgYXMg
aW1wb3J0Lgo+PiAgLSBSZS1pbnRyb2R1Y2UgUkVBRC9XUklURSBmbGFnIHN1cHBvcnQgZm9yIGV4
cG9ydAo+PiAgLSBSZXdvcmsgdGhlIGNvbW1pdCBtZXNzYWdlCj4+Cj4+IFNpZ25lZC1vZmYtYnk6
IEphc29uIEVrc3RyYW5kIDxqYXNvbkBqbGVrc3RyYW5kLm5ldD4KPj4gLS0tCj4+ICBkcml2ZXJz
L2RtYS1idWYvZG1hLWJ1Zi5jICAgIHwgNTUgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKysrCj4+ICBpbmNsdWRlL3VhcGkvbGludXgvZG1hLWJ1Zi5oIHwgIDYgKysrKwo+PiAgMiBm
aWxlcyBjaGFuZ2VkLCA2MSBpbnNlcnRpb25zKCspCj4+Cj4+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2RtYS1idWYvZG1hLWJ1Zi5jIGIvZHJpdmVycy9kbWEtYnVmL2RtYS1idWYuYwo+PiBpbmRleCBm
MjY0YjcwYzM4M2ViLi5lN2Y5ZGQ2MmMxOWE5IDEwMDY0NAo+PiAtLS0gYS9kcml2ZXJzL2RtYS1i
dWYvZG1hLWJ1Zi5jCj4+ICsrKyBiL2RyaXZlcnMvZG1hLWJ1Zi9kbWEtYnVmLmMKWy4uLl0KPj4g
QEAgLTM2Miw2ICszNjMsNTcgQEAgc3RhdGljIGxvbmcgZG1hX2J1Zl9zZXRfbmFtZShzdHJ1Y3Qg
ZG1hX2J1ZiAqZG1hYnVmLCBjb25zdCBjaGFyIF9fdXNlciAqYnVmKQo+PiAgICAgICAgIHJldHVy
biByZXQ7Cj4+ICB9Cj4+Cj4+ICtzdGF0aWMgbG9uZyBkbWFfYnVmX2V4cG9ydF9zeW5jX2ZpbGUo
c3RydWN0IGRtYV9idWYgKmRtYWJ1ZiwKPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHZvaWQgX191c2VyICp1c2VyX2RhdGEpCj4+ICt7Cj4+ICsgICAgICAgc3RydWN0IGRt
YV9idWZfc3luY19maWxlIGFyZzsKPj4gKyAgICAgICBzdHJ1Y3QgZG1hX2ZlbmNlICpmZW5jZSA9
IE5VTEw7Cj4+ICsgICAgICAgc3RydWN0IHN5bmNfZmlsZSAqc3luY19maWxlOwo+PiArICAgICAg
IGludCBmZCwgcmV0Owo+PiArCj4+ICsgICAgICAgaWYgKGNvcHlfZnJvbV91c2VyKCZhcmcsIHVz
ZXJfZGF0YSwgc2l6ZW9mKGFyZykpKQo+PiArICAgICAgICAgICAgICAgcmV0dXJuIC1FRkFVTFQ7
Cj4+ICsKPj4gKyAgICAgICBpZiAoYXJnLmZsYWdzICYgfkRNQV9CVUZfU1lOQ19SVykKPj4gKyAg
ICAgICAgICAgICAgIHJldHVybiAtRUlOVkFMOwo+PiArCj4+ICsgICAgICAgZmQgPSBnZXRfdW51
c2VkX2ZkX2ZsYWdzKE9fQ0xPRVhFQyk7Cj4+ICsgICAgICAgaWYgKGZkIDwgMCkKPj4gKyAgICAg
ICAgICAgICAgIHJldHVybiBmZDsKPj4gKwo+PiArICAgICAgIGlmIChhcmcuZmxhZ3MgJiBETUFf
QlVGX1NZTkNfV1JJVEUpIHsKPj4gKyAgICAgICAgICAgICAgIHJldCA9IGRtYV9yZXN2X2dldF9z
aW5nbGV0b24oZG1hYnVmLT5yZXN2LCBOVUxMLCAmZmVuY2UpOwo+PiArICAgICAgICAgICAgICAg
aWYgKHJldCkKPj4gKyAgICAgICAgICAgICAgICAgICAgICAgZ290byBlcnJfcHV0X2ZkOwo+PiAr
ICAgICAgIH0gZWxzZSBpZiAoYXJnLmZsYWdzICYgRE1BX0JVRl9TWU5DX1JFQUQpIHsKPj4gKyAg
ICAgICAgICAgICAgIGZlbmNlID0gZG1hX3Jlc3ZfZ2V0X2V4Y2woZG1hYnVmLT5yZXN2KTsKPj4g
KyAgICAgICB9Cj4+ICsKPj4gKyAgICAgICBpZiAoIWZlbmNlKQo+PiArICAgICAgICAgICAgICAg
ZmVuY2UgPSBkbWFfZmVuY2VfZ2V0X3N0dWIoKTsKPj4gKwo+PiArICAgICAgIHN5bmNfZmlsZSA9
IHN5bmNfZmlsZV9jcmVhdGUoZmVuY2UpOwo+PiArCj4+ICsgICAgICAgZG1hX2ZlbmNlX3B1dChm
ZW5jZSk7Cj4+ICsKPj4gKyAgICAgICBpZiAoIXN5bmNfZmlsZSkgewo+PiArICAgICAgICAgICAg
ICAgcmV0ID0gLUVJTlZBTDsKPiAKPiBTaG91bGQgdGhpcyBiZSAtRUlOVkFMIG9yIC1FTk9NRU0/
CgpUaGUgbGF0dGVyIG1ha2VzIG1vcmUgc2Vuc2UgdG8gbWUsIHNpbmNlIHN5bmNfZmlsZV9jcmVh
dGUgcmV0dXJuaW5nIE5VTEwgaXMgbm90IHJlbGF0ZWQgdG8gaW52YWxpZCBpb2N0bCBwYXJhbWV0
ZXJzLgoKCi0tIApFYXJ0aGxpbmcgTWljaGVsIETDpG56ZXIgICAgICAgICAgICAgICB8ICAgICAg
ICAgICAgICAgaHR0cHM6Ly9yZWRoYXQuY29tCkxpYnJlIHNvZnR3YXJlIGVudGh1c2lhc3QgICAg
ICAgICAgICAgfCAgICAgICAgICAgICBNZXNhIGFuZCBYIGRldmVsb3BlcgpfX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0
CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3Rv
cC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWwK
