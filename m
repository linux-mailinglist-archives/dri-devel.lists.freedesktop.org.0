Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id CBD2018421E
	for <lists+dri-devel@lfdr.de>; Fri, 13 Mar 2020 09:01:10 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C9BA56EB8C;
	Fri, 13 Mar 2020 08:01:00 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-pf1-x449.google.com (mail-pf1-x449.google.com
 [IPv6:2607:f8b0:4864:20::449])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 20FFE6EB2C
 for <dri-devel@lists.freedesktop.org>; Thu, 12 Mar 2020 18:56:44 +0000 (UTC)
Received: by mail-pf1-x449.google.com with SMTP id h12so4444381pfr.2
 for <dri-devel@lists.freedesktop.org>; Thu, 12 Mar 2020 11:56:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=20161025;
 h=date:in-reply-to:message-id:mime-version:references:subject:from:to
 :cc:content-transfer-encoding;
 bh=fffnx5Rt8GbetlYKB2cd5pIz6essNcsuoAoI5LuF7xg=;
 b=X4iIZhqW2R1TPVFTKsFPHVJVh7FZrTnez6T3Hnb2ogVxiFULIuQswnb3uNvHTh606L
 kWRMP1Tx6BAWqOg+Qs0JiEDXcJEU4zM4Ohfw5xl/sm4kMe1n9sPKdfJrN0z1wi5a1Q1T
 i4qb5AJG01eyY3aVK0eoelJnGDngWShfV9cW6ngScru79A2D+5C1UgLUjsPpHEI5afaH
 opdD/Mc/z9itjcXznh4HSOtfw6wiOR5CRgE7ukOMRwFZcf+9Kom1/g8UuoRBkRr7ToDv
 tZfqSwiwYOHvNngd8H1dChskW0VqROywIRFITHq3e8LVkBa3/+oujC2Vj8Mih90Nc1iR
 7PIg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:date:in-reply-to:message-id:mime-version
 :references:subject:from:to:cc:content-transfer-encoding;
 bh=fffnx5Rt8GbetlYKB2cd5pIz6essNcsuoAoI5LuF7xg=;
 b=hGIedCdsnAuZGUhX+T54L6BnPQqKMIpV10ov3BAaN8onWeek+YByfaNevblJOZ0SUA
 HUz0guwVRvoE5HwfCUQ5u/9hg3ULuDrrLH8dRBAJzQAJhiykOTUIy3zhkXRSD1DlgnrQ
 5fIUJW/aUPoW/mBBCI9nDK3GXtYaLEpA8vFaMB+kvJizxGKhsumiIaSH7iMmrOA2ygAn
 wh5tKhwRT9v/WO/REBu6Y+4zEcbhxP3LT6O4v6HfJ4O3B3NuN4CNjL4I8z5w4oICATUO
 gg3mF74S0dzNOQd28VWpwffgFqxY5Cg5Mc8QTHS3mNfNRs1fYD4tsWNQKE1zHX/dcFdR
 onIQ==
X-Gm-Message-State: ANhLgQ1S8pDDeY0OriJ2l+AWZUOQIISjV7aNMZwGOaNPFs+uWE8YujU6
 UxDejkKMW8bpJhD/ZoxeaoWXJEkwXPLf
X-Google-Smtp-Source: ADFU+vuP6Yt38fE514Tivo5Xppmxjai6z5GkzOYQXVK/NgqjwwtUr734FE8xx1ebnir8TiLeqL2+ALCsxTPU
X-Received: by 2002:a17:90b:19ca:: with SMTP id
 nm10mr5375115pjb.161.1584039403652; 
 Thu, 12 Mar 2020 11:56:43 -0700 (PDT)
Date: Thu, 12 Mar 2020 11:56:28 -0700
In-Reply-To: <20200312185629.141280-1-rajatja@google.com>
Message-Id: <20200312185629.141280-5-rajatja@google.com>
Mime-Version: 1.0
References: <20200312185629.141280-1-rajatja@google.com>
X-Mailer: git-send-email 2.25.1.481.gfbce0eb801-goog
Subject: [PATCH v9 4/5] drm/i915: Add helper code for ACPI privacy screen
From: Rajat Jain <rajatja@google.com>
To: Maarten Lankhorst <maarten.lankhorst@linux.intel.com>,
 Maxime Ripard <mripard@kernel.org>, 
 Sean Paul <sean@poorly.run>, David Airlie <airlied@linux.ie>,
 Daniel Vetter <daniel@ffwll.ch>, 
 Jani Nikula <jani.nikula@linux.intel.com>, 
 Joonas Lahtinen <joonas.lahtinen@linux.intel.com>,
 Rodrigo Vivi <rodrigo.vivi@intel.com>, 
 "=?UTF-8?q?Ville=20Syrj=C3=A4l=C3=A4?=" <ville.syrjala@linux.intel.com>,
 Chris Wilson <chris@chris-wilson.co.uk>, Imre Deak <imre.deak@intel.com>, 
 "=?UTF-8?q?Jos=C3=A9=20Roberto=20de=20Souza?=" <jose.souza@intel.com>,
 linux-kernel@vger.kernel.org, 
 dri-devel@lists.freedesktop.org, intel-gfx@lists.freedesktop.org, 
 gregkh@linuxfoundation.org, mathewk@google.com, 
 Daniel Thompson <daniel.thompson@linaro.org>, Jonathan Corbet <corbet@lwn.net>,
 Pavel Machek <pavel@denx.de>, seanpaul@google.com,
 Duncan Laurie <dlaurie@google.com>, 
 jsbarnes@google.com, Thierry Reding <thierry.reding@gmail.com>,
 mpearson@lenovo.com, Nitin Joshi1 <njoshi1@lenovo.com>,
 Sugumaran Lacshiminarayanan <slacshiminar@lenovo.com>, 
 Tomoki Maruichi <maruichit@lenovo.com>
X-Mailman-Approved-At: Fri, 13 Mar 2020 08:00:36 +0000
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Rajat Jain <rajatja@google.com>, rajatxjain@gmail.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QWRkIGhlbHBlciBmdW5jdGlvbnMgdGhhdCBjYW4gYWxsb3cgaTkxNSB0byBkZXRlY3QgYW5kIGNv
bnRyb2wKYW4gaW50ZWdyYXRlZCBwcml2YWN5IHNjcmVlbiB2aWEgQUNQSSBtZXRob2RzLiBUaGVz
ZSBzaGFsbCBiZSB1c2VkCmluIHRoZSBuZXh0IHBhdGNoLgoKU2lnbmVkLW9mZi1ieTogUmFqYXQg
SmFpbiA8cmFqYXRqYUBnb29nbGUuY29tPgotLS0Kdjk6IHNhbWUgYXMgdjgKdjg6IEluaXRpYWwg
dmVyc2lvbi4gZm9ybWVkIGJ5IHJlZmFjdG9yaW5nIHRoZSBwcmV2aW91cyBwYXRjaCA0LgogICAg
cHJpbnQgdGhlIGNvbm5lY3RvciBuYW1lIGluIHRoZSBkZWJ1ZyBtZXNzYWdlcy4KCiBkcml2ZXJz
L2dwdS9kcm0vaTkxNS9NYWtlZmlsZSAgICAgICAgICAgICAgICAgfCAgIDMgKy0KIC4uLi9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX3ByaXZhY3lfc2NyZWVuLmMgICB8IDE4NCArKysrKysrKysrKysr
KysrKysKIC4uLi9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3ByaXZhY3lfc2NyZWVuLmggICB8ICAy
NyArKysKIDMgZmlsZXMgY2hhbmdlZCwgMjEzIGluc2VydGlvbnMoKyksIDEgZGVsZXRpb24oLSkK
IGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3By
aXZhY3lfc2NyZWVuLmMKIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX3ByaXZhY3lfc2NyZWVuLmgKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9NYWtlZmlsZSBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L01ha2VmaWxlCmluZGV4IDlm
ODg3YTg2ZTU1NWQuLmRhNDIzODkxMDdmOWMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L01ha2VmaWxlCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L01ha2VmaWxlCkBAIC0yMDks
NyArMjA5LDggQEAgaTkxNS15ICs9IFwKIAlkaXNwbGF5L2ludGVsX3ZnYS5vCiBpOTE1LSQoQ09O
RklHX0FDUEkpICs9IFwKIAlkaXNwbGF5L2ludGVsX2FjcGkubyBcCi0JZGlzcGxheS9pbnRlbF9v
cHJlZ2lvbi5vCisJZGlzcGxheS9pbnRlbF9vcHJlZ2lvbi5vIFwKKwlkaXNwbGF5L2ludGVsX3By
aXZhY3lfc2NyZWVuLm8KIGk5MTUtJChDT05GSUdfRFJNX0ZCREVWX0VNVUxBVElPTikgKz0gXAog
CWRpc3BsYXkvaW50ZWxfZmJkZXYubwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX3ByaXZhY3lfc2NyZWVuLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX3ByaXZhY3lfc2NyZWVuLmMKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXgg
MDAwMDAwMDAwMDAwMC4uNjYwMzkxMDNjODIxYgotLS0gL2Rldi9udWxsCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfcHJpdmFjeV9zY3JlZW4uYwpAQCAtMCwwICsxLDE4
NCBAQAorLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAgT1IgTUlUCisvKgorICog
SW50ZWwgQUNQSSBwcml2YWN5IHNjcmVlbiBjb2RlCisgKgorICogQ29weXJpZ2h0IMKpIDIwMjAg
R29vZ2xlIEluYy4KKyAqCisgKiBUaGlzIGNvZGUgY2FuIGhlbHAgZGV0ZWN0IGFuZCBjb250cm9s
IGFuIGludGVncmF0ZWQgRVBTIChlbGVjdHJvbmljCisgKiBwcml2YWN5IHNjcmVlbikgdmlhIEFD
UEkgZnVuY3Rpb25zLiBJdCBleHBlY3RzIGFuIEFDUEkgbm9kZSBmb3IgdGhlCisgKiBkcm0gY29u
bmVjdG9yIGRldmljZSB3aXRoIHRoZSBmb2xsb3dpbmcgZWxlbWVudHM6CisgKgorICogVVVJRCBz
aG91bGQgYmUgImM3MDMzMTEzLTg3MjAtNGNlYi05MDkwLTlkNTJiM2U1MmQ3MyIKKyAqCisgKiBf
QURSID0gQUNQSSBhZGRyZXNzIHBlciBTcGVjIChhbHNvIHNlZSBpbnRlbF9hY3BpX2RldmljZV9p
ZF91cGRhdGUoKSkKKyAqIGh0dHBzOi8vdWVmaS5vcmcvc2l0ZXMvZGVmYXVsdC9maWxlcy9yZXNv
dXJjZXMvQUNQSV82XzNfZmluYWxfSmFuMzAucGRmCisgKiBQYWdlcyAxMTE5IC0gMTEyMy4KKyAq
CisgKiBfRFNNIG1ldGhvZCB0aGF0IHdpbGwgcGVyZm9ybSB0aGUgZm9sbG93aW5nIGZ1bmN0aW9u
cyBhY2NvcmRpbmcgdG8KKyAqIExvY2FsMSBhcmd1bWVudCBwYXNzZWQgdG8gaXQ6CisgKiAgLSBM
b2NhbDEgPSAwIChFUFMgY2FwYWJpbGl0aWVzKTogUmVwb3J0IEVQUyBwcmVzZW5jZSBhbmQgY2Fw
YWJpbGl0aWVzLgorICogIC0gTG9jYWwxID0gMSAoRVBTIFN0YXRlKSAgOiAgX0RTTSByZXR1cm5z
IDEgaWYgRVBTIGlzIGVuYWJsZWQsIDAgb3RoZXJ3aXNlLgorICogIC0gTG9jYWwxID0gMiAoRVBT
IEVuYWJsZSkgOiAgX0RTTSBlbmFibGVzIEVQUworICogIC0gTG9jYWwxID0gMyAoRVBTIERpc2Fi
bGUpOiAgX0RTTSBkaXNhYmxlcyBFUFMKKyAqCisgKiBIZXJlIGlzIGEgc2FtcGxlIEFDUEkgbm9k
ZToKKyAqCisgKiAgU2NvcGUgKFxfU0IuUENJMC5HRlgwKSAvLyBJbnRlbCBncmFwaGljcyBkZXZp
Y2UgKFBDSSBkZXZpY2UpCisgKiAgeworICogICAgICBNZXRob2QgKF9ET0QsIDAsIE5vdFNlcmlh
bGl6ZWQpICAvLyBfRE9EOiBEaXNwbGF5IE91dHB1dCBEZXZpY2VzCisgKiAgICAgIHsKKyAqICAg
ICAgICAgIFJldHVybiAoUGFja2FnZSAoMHgwMSkKKyAqICAgICAgICAgIHsKKyAqICAgICAgICAg
ICAgICAweDgwMDEwNDAwCisgKiAgICAgICAgICB9KQorICogICAgICB9CisgKgorICogICAgICBE
ZXZpY2UgKExDRCkKKyAqICAgICAgeworICogICAgICAgICAgTmFtZSAoX0FEUiwgMHg4MDAxMDQw
MCkgIC8vIF9BRFI6IEFkZHJlc3MKKyAqICAgICAgICAgIE5hbWUgKF9TVEEsIDB4MEYpICAvLyBf
U1RBOiBTdGF0dXMKKyAqCisgKiAgICAgICAgICBNZXRob2QgKEVQU1AsIDAsIE5vdFNlcmlhbGl6
ZWQpIC8vIEVQUyBQcmVzZW50CisgKiAgICAgICAgICB7CisgKiAgICAgICAgICAgICAgUmV0dXJu
ICgweDAxKQorICogICAgICAgICAgfQorICoKKyAqICAgICAgICAgIE1ldGhvZCAoRVBTUywgMCwg
Tm90U2VyaWFsaXplZCkgLy8gRVBTIFN0YXRlCisgKiAgICAgICAgICB7CisgKiAgICAgICAgICAg
ICAgTG9jYWwwID0gXF9TQi5QQ0kwLkdSWFMgKDB4Q0QpCisgKiAgICAgICAgICAgICAgUmV0dXJu
IChMb2NhbDApCisgKiAgICAgICAgICB9CisgKgorICogICAgICAgICAgTWV0aG9kIChFUFNFLCAw
LCBOb3RTZXJpYWxpemVkKSAvLyBFUFMgRW5hYmxlCisgKiAgICAgICAgICB7CisgKiAgICAgICAg
ICAgICAgXF9TQi5QQ0kwLlNUWFMgKDB4Q0QpCisgKiAgICAgICAgICB9CisgKgorICogICAgICAg
ICAgTWV0aG9kIChFUFNELCAwLCBOb3RTZXJpYWxpemVkKSAvLyBFUFMgRGlzYWJsZQorICogICAg
ICAgICAgeworICogICAgICAgICAgICAgIFxfU0IuUENJMC5DVFhTICgweENEKQorICogICAgICAg
ICAgfQorICoKKyAqICAgICAgICAgIE1ldGhvZCAoX0RTTSwgNCwgU2VyaWFsaXplZCkgIC8vIF9E
U006IERldmljZS1TcGVjaWZpYyBNZXRob2QKKyAqICAgICAgICAgIHsKKyAqICAgICAgICAgICAg
ICBUb0J1ZmZlciAoQXJnMCwgTG9jYWwwKQorICogICAgICAgICAgICAgIElmICgoTG9jYWwwID09
IFRvVVVJRCAoImM3MDMzMTEzLTg3MjAtNGNlYi05MDkwLTlkNTJiM2U1MmQ3MyIpKSkKKyAqICAg
ICAgICAgICAgICB7CisgKiAgICAgICAgICAgICAgICAgIFRvSW50ZWdlciAoQXJnMiwgTG9jYWwx
KQorICogICAgICAgICAgICAgICAgICBJZiAoKExvY2FsMSA9PSBaZXJvKSkKKyAqICAgICAgICAg
ICAgICAgICAgeworICogICAgICAgICAgICAgICAgICAgICAgTG9jYWwyID0gRVBTUCAoKQorICog
ICAgICAgICAgICAgICAgICAgICAgSWYgKChMb2NhbDIgPT0gT25lKSkKKyAqICAgICAgICAgICAg
ICAgICAgICAgIHsKKyAqICAgICAgICAgICAgICAgICAgICAgICAgICBSZXR1cm4gKEJ1ZmZlciAo
T25lKQorICogICAgICAgICAgICAgICAgICAgICAgICAgIHsKKyAqICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIDB4MEYKKyAqICAgICAgICAgICAgICAgICAgICAgICAgICB9KQorICogICAg
ICAgICAgICAgICAgICAgICAgfQorICogICAgICAgICAgICAgICAgICB9CisgKgorICogICAgICAg
ICAgICAgICAgICBJZiAoKExvY2FsMSA9PSBPbmUpKQorICogICAgICAgICAgICAgICAgICB7Cisg
KiAgICAgICAgICAgICAgICAgICAgICBSZXR1cm4gKEVQU1MgKCkpCisgKiAgICAgICAgICAgICAg
ICAgIH0KKyAqCisgKiAgICAgICAgICAgICAgICAgIElmICgoTG9jYWwxID09IDB4MDIpKQorICog
ICAgICAgICAgICAgICAgICB7CisgKiAgICAgICAgICAgICAgICAgICAgICBFUFNFICgpCisgKiAg
ICAgICAgICAgICAgICAgIH0KKyAqCisgKiAgICAgICAgICAgICAgICAgIElmICgoTG9jYWwxID09
IDB4MDMpKQorICogICAgICAgICAgICAgICAgICB7CisgKiAgICAgICAgICAgICAgICAgICAgICBF
UFNEICgpCisgKiAgICAgICAgICAgICAgICAgIH0KKyAqCisgKiAgICAgICAgICAgICAgICAgIFJl
dHVybiAoQnVmZmVyIChPbmUpCisgKiAgICAgICAgICAgICAgICAgIHsKKyAqICAgICAgICAgICAg
ICAgICAgICAgICAweDAwCisgKiAgICAgICAgICAgICAgICAgIH0pCisgKiAgICAgICAgICAgICAg
fQorICoKKyAqICAgICAgICAgICAgICBSZXR1cm4gKEJ1ZmZlciAoT25lKQorICogICAgICAgICAg
ICAgIHsKKyAqICAgICAgICAgICAgICAgICAgIDB4MDAKKyAqICAgICAgICAgICAgICB9KQorICog
ICAgICAgICAgfQorICogICAgICB9CisgKiAgfQorICovCisKKyNpbmNsdWRlIDxsaW51eC9hY3Bp
Lmg+CisKKyNpbmNsdWRlICJpbnRlbF9wcml2YWN5X3NjcmVlbi5oIgorCisjZGVmaW5lIENPTk5f
TkFNRShjb25uKQkJCQkJCVwKKwkoY29ubi0+YmFzZS5rZGV2ID8gZGV2X25hbWUoY29ubi0+YmFz
ZS5rZGV2KSA6ICJOT05BTUUiKQorCisjZGVmaW5lIENPTk5FQ1RPUl9EU01fUkVWSUQgMQorCisj
ZGVmaW5lIENPTk5FQ1RPUl9EU01fRk5fUFJJVkFDWV9FTkFCTEUJCTIKKyNkZWZpbmUgQ09OTkVD
VE9SX0RTTV9GTl9QUklWQUNZX0RJU0FCTEUJMworCitzdGF0aWMgY29uc3QgZ3VpZF90IGRybV9j
b25uX2RzbV9ndWlkID0KKwlHVUlEX0lOSVQoMHhDNzAzMzExMywgMHg4NzIwLCAweDRDRUIsCisJ
CSAgMHg5MCwgMHg5MCwgMHg5RCwgMHg1MiwgMHhCMywgMHhFNSwgMHgyRCwgMHg3Myk7CisKKy8q
IE1ha2VzIF9EU00gY2FsbCB0byBzZXQgcHJpdmFjeSBzY3JlZW4gc3RhdHVzICovCitzdGF0aWMg
dm9pZCBhY3BpX3ByaXZhY3lfc2NyZWVuX2NhbGxfZHNtKHN0cnVjdCBpbnRlbF9jb25uZWN0b3Ig
KmNvbm5lY3RvciwKKwkJCQkJIHU2NCBmdW5jKQoreworCXVuaW9uIGFjcGlfb2JqZWN0ICpvYmo7
CisJYWNwaV9oYW5kbGUgYWNwaV9oYW5kbGUgPSBjb25uZWN0b3ItPmFjcGlfaGFuZGxlOworCXN0
cnVjdCBkcm1fZGV2aWNlICpkcm0gPSBjb25uZWN0b3ItPmJhc2UuZGV2OworCisJaWYgKCFhY3Bp
X2hhbmRsZSkKKwkJcmV0dXJuOworCisJb2JqID0gYWNwaV9ldmFsdWF0ZV9kc20oYWNwaV9oYW5k
bGUsICZkcm1fY29ubl9kc21fZ3VpZCwKKwkJCQlDT05ORUNUT1JfRFNNX1JFVklELCBmdW5jLCBO
VUxMKTsKKwlpZiAoIW9iaikgeworCQlkcm1fZXJyKGRybSwgIiVzOiBmYWlsZWQgdG8gZXZhbHVh
dGUgX0RTTSBmb3IgZm4gJWxseFxuIiwKKwkJCUNPTk5fTkFNRShjb25uZWN0b3IpLCBmdW5jKTsK
KwkJcmV0dXJuOworCX0KKworCUFDUElfRlJFRShvYmopOworfQorCit2b2lkIGludGVsX3ByaXZh
Y3lfc2NyZWVuX3NldF92YWwoc3RydWN0IGludGVsX2Nvbm5lY3RvciAqY29ubmVjdG9yLAorCQkJ
CSAgZW51bSBkcm1fcHJpdmFjeV9zY3JlZW5fc3RhdHVzIHZhbCkKK3sKKwlzdHJ1Y3QgZHJtX2Rl
dmljZSAqZHJtID0gY29ubmVjdG9yLT5iYXNlLmRldjsKKworCWlmICh2YWwgPT0gUFJJVkFDWV9T
Q1JFRU5fRElTQUJMRUQpIHsKKwkJZHJtX2RiZ19rbXMoZHJtLCAiJXM6IGRpc2FibGluZyBwcml2
YWN5LXNjcmVlblxuIiwKKwkJCSAgICBDT05OX05BTUUoY29ubmVjdG9yKSk7CisJCWFjcGlfcHJp
dmFjeV9zY3JlZW5fY2FsbF9kc20oY29ubmVjdG9yLAorCQkJCQkgICAgIENPTk5FQ1RPUl9EU01f
Rk5fUFJJVkFDWV9ESVNBQkxFKTsKKwl9IGVsc2UgeworCQlkcm1fZGJnX2ttcyhkcm0sICIlczog
ZW5hYmxpbmcgcHJpdmFjeS1zY3JlZW5cbiIsCisJCQkgICAgQ09OTl9OQU1FKGNvbm5lY3Rvcikp
OworCQlhY3BpX3ByaXZhY3lfc2NyZWVuX2NhbGxfZHNtKGNvbm5lY3RvciwKKwkJCQkJICAgICBD
T05ORUNUT1JfRFNNX0ZOX1BSSVZBQ1lfRU5BQkxFKTsKKwl9Cit9CisKK2Jvb2wgaW50ZWxfcHJp
dmFjeV9zY3JlZW5fcHJlc2VudChzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICpjb25uZWN0b3IpCit7
CisJYWNwaV9oYW5kbGUgaGFuZGxlID0gY29ubmVjdG9yLT5hY3BpX2hhbmRsZTsKKwlzdHJ1Y3Qg
ZHJtX2RldmljZSAqZHJtID0gY29ubmVjdG9yLT5iYXNlLmRldjsKKworCWlmIChoYW5kbGUgJiYK
KwkgICAgYWNwaV9jaGVja19kc20oaGFuZGxlLCAmZHJtX2Nvbm5fZHNtX2d1aWQsCisJCQkgICBD
T05ORUNUT1JfRFNNX1JFVklELAorCQkJICAgMSA8PCBDT05ORUNUT1JfRFNNX0ZOX1BSSVZBQ1lf
RU5BQkxFIHwKKwkJCSAgIDEgPDwgQ09OTkVDVE9SX0RTTV9GTl9QUklWQUNZX0RJU0FCTEUpKSB7
CisJCWRybV9pbmZvKGRybSwgIiVzOiBzdXBwb3J0cyBBQ1BJIHByaXZhY3ktc2NyZWVuXG4iLAor
CQkJIENPTk5fTkFNRShjb25uZWN0b3IpKTsKKwkJcmV0dXJuIHRydWU7CisJfQorCisJZHJtX2Ri
Z19rbXMoZHJtLCAiJXM6IGRvZXNuJ3Qgc3VwcG9ydCBBQ1BJIHByaXZhY3ktc2NyZWVuXG4iLAor
CQkgICAgQ09OTl9OQU1FKGNvbm5lY3RvcikpOworCXJldHVybiBmYWxzZTsKK30KZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfcHJpdmFjeV9zY3JlZW4uaCBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfcHJpdmFjeV9zY3JlZW4uaApuZXcg
ZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwMDAwMDAwLi44NjU1NzQ1ZmY5MDg1Ci0tLSAv
ZGV2L251bGwKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9wcml2YWN5
X3NjcmVlbi5oCkBAIC0wLDAgKzEsMjcgQEAKKy8qIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBH
UEwtMi4wIE9SIE1JVCAqLworLyoKKyAqIENvcHlyaWdodCDCqSAyMDIwIEdvb2dsZSBJbmMuCisg
Ki8KKworI2lmbmRlZiBfX0RSTV9QUklWQUNZX1NDUkVFTl9IX18KKyNkZWZpbmUgX19EUk1fUFJJ
VkFDWV9TQ1JFRU5fSF9fCisKKyNpbmNsdWRlICJpbnRlbF9kaXNwbGF5X3R5cGVzLmgiCisKKyNp
ZmRlZiBDT05GSUdfQUNQSQorYm9vbCBpbnRlbF9wcml2YWN5X3NjcmVlbl9wcmVzZW50KHN0cnVj
dCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3Rvcik7Cit2b2lkIGludGVsX3ByaXZhY3lfc2NyZWVu
X3NldF92YWwoc3RydWN0IGludGVsX2Nvbm5lY3RvciAqY29ubmVjdG9yLAorCQkJCSAgZW51bSBk
cm1fcHJpdmFjeV9zY3JlZW5fc3RhdHVzIHZhbCk7CisjZWxzZQorc3RhdGljIGJvb2wgaW50ZWxf
cHJpdmFjeV9zY3JlZW5fcHJlc2VudChzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICpjb25uZWN0b3Ip
Cit7CisJcmV0dXJuIGZhbHNlOworfQorCitzdGF0aWMgdm9pZAoraW50ZWxfcHJpdmFjeV9zY3Jl
ZW5fc2V0X3ZhbChzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICpjb25uZWN0b3IsCisJCQkgICAgIGVu
dW0gZHJtX3ByaXZhY3lfc2NyZWVuX3N0YXR1cyB2YWwpCit7IH0KKyNlbmRpZiAvKiBDT05GSUdf
QUNQSSAqLworCisjZW5kaWYgLyogX19EUk1fUFJJVkFDWV9TQ1JFRU5fSF9fICovCi0tIAoyLjI1
LjEuNDgxLmdmYmNlMGViODAxLWdvb2cKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZy
ZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3Rp
bmZvL2RyaS1kZXZlbAo=
