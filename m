Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id DC3CCD7BE9
	for <lists+dri-devel@lfdr.de>; Tue, 15 Oct 2019 18:38:36 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id CC4446E854;
	Tue, 15 Oct 2019 16:38:14 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from NAM05-CO1-obe.outbound.protection.outlook.com
 (mail-eopbgr720100.outbound.protection.outlook.com [40.107.72.100])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 990196E7A3
 for <dri-devel@lists.freedesktop.org>; Tue, 15 Oct 2019 09:49:04 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=nFz5Nxaz++AiuAKfqnjW6ilYl65OEUYUlF7w3lO7qxszSXn1E8/0uQxKTenTINL6B95Sgf9B6FKmsypGMOsQUSYp23ao2F44UaQOn7/3mbG3/p16lLe1JGZQgi+FlE0uUSqwFLnJaPpLdjDLALQ644Ya7SIE5Bi76Cq2sYE/QqNzaEhfLFscCtscabiHJ7qP34fHHpEkMJgjeCRmjiXmdY564bL9ZGB3H1eDmvpv22Wgex3VnmpYylj/6a7qu98GHu+KWZwDMNXIo3seVv+HIQIP80UyYBdFNrPukaXGPsHZOA/aG9W/3q8zuncl0wLr6ebVCTqcyFxjSUa4Kd3VCw==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=7NPx7D1IquXObkOXETj8QmzDnT+RgR2MJ8Swh597CPE=;
 b=WNXRKgKyex0TbQqrMetofFWHXWnAvcutm6BVtUf0dX9nnvb7n1Bbp1zOy9DbuLrGFldBf50MGTXCFO550P8RtJrMt1in219VrWNfpHL/AnMp+LQ8gdO11a2ElpGPtpcUPfcwOnr3KpFjaHpEsMAq7FMuvBF6yDil27pxLxhIRawavWQIPmboSTzVawgRxYkv2g6XRqVEJ09I6V9vlbBLoegfmb3WvHfrsN9eVBEO/lOQ/xfJKZi60wKe0id7T0NwI4FvD/xomtmOuq7ktT8n7rakWRFi+AKe6OHts/gRjt4IahIgO2NwWRHzkJki6CQxKju1ZaAwfJ9d1pH1spHBMA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=analogixsemi.com; dmarc=pass action=none
 header.from=analogixsemi.com; dkim=pass header.d=analogixsemi.com; arc=none
Received: from SN6PR04MB4543.namprd04.prod.outlook.com (52.135.120.29) by
 SN6PR04MB5360.namprd04.prod.outlook.com (20.178.6.149) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2347.18; Tue, 15 Oct 2019 09:49:01 +0000
Received: from SN6PR04MB4543.namprd04.prod.outlook.com
 ([fe80::c55e:6c70:adbb:cf87]) by SN6PR04MB4543.namprd04.prod.outlook.com
 ([fe80::c55e:6c70:adbb:cf87%5]) with mapi id 15.20.2347.023; Tue, 15 Oct 2019
 09:49:01 +0000
From: Xin Ji <xji@analogixsemi.com>
To: "devel@driverdev.osuosl.org" <devel@driverdev.osuosl.org>, Laurent
 Pinchart <laurent.pinchart@ideasonboard.com>, Andrzej Hajda
 <a.hajda@samsung.com>
Subject: [PATCH v3 2/2] drm/bridge: anx7625: Add anx7625 MIPI DSI/DPI to DP
 bridge driver
Thread-Topic: [PATCH v3 2/2] drm/bridge: anx7625: Add anx7625 MIPI DSI/DPI to
 DP bridge driver
Thread-Index: AQHVgz3FEfg1La630UWa2WmODKKTRQ==
Date: Tue, 15 Oct 2019 09:49:01 +0000
Message-ID: <7a5ac8741df0aaeb8782a4f6235802f50ce3d39f.1571132350.git.xji@analogixsemi.com>
References: <cover.1571132350.git.xji@analogixsemi.com>
In-Reply-To: <cover.1571132350.git.xji@analogixsemi.com>
Accept-Language: zh-CN, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: AM0PR05CA0092.eurprd05.prod.outlook.com
 (2603:10a6:208:136::32) To SN6PR04MB4543.namprd04.prod.outlook.com
 (2603:10b6:805:a8::29)
x-ms-exchange-messagesentrepresentingtype: 1
x-originating-ip: [114.247.245.252]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 812b6451-d2a1-4a53-e3e3-08d75154e7c3
x-ms-traffictypediagnostic: SN6PR04MB5360:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <SN6PR04MB53600ECC831EA1B71B2F2118C7930@SN6PR04MB5360.namprd04.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:4941;
x-forefront-prvs: 01917B1794
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10019020)(979002)(136003)(39850400004)(396003)(366004)(376002)(346002)(189003)(199004)(118296001)(99286004)(6486002)(4326008)(2906002)(256004)(14444005)(5024004)(14454004)(561924002)(66066001)(36756003)(2501003)(30864003)(5660300002)(25786009)(8936002)(386003)(8676002)(81156014)(6436002)(81166006)(478600001)(71200400001)(71190400001)(486006)(476003)(54906003)(316002)(64756008)(66556008)(2616005)(6512007)(110136005)(6506007)(446003)(7416002)(305945005)(7736002)(76176011)(11346002)(3846002)(66946007)(26005)(186003)(52116002)(6116002)(66446008)(102836004)(86362001)(66476007)(959014)(579004)(559001)(569006);
 DIR:OUT; SFP:1102; SCL:1; SRVR:SN6PR04MB5360;
 H:SN6PR04MB4543.namprd04.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: analogixsemi.com does not
 designate permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: 0uCigkCpuAE8hf7CuIR6MBmfWSeZwS9LVqSAKVeSyGqX5KPDqkXFWyfR3IdQ4GOXStBGM2uzmnFJytOyqNym44VteLn0bVozGgdhI0fvREDITbjxy2YNfE8YjK6NXNmrtErNzfBTYCAzeSUM4Ofs9r9dNJKIk/+Cvshn30Mn4Uu2A/BvKGuCj6iN0Pylm+n+gPKXfd+S+WKTFzbvSYD/NfKPWWHhfd+WBDdiJ0da1T3Ebxpck8rhX9SNpu+WDoMNVRzCKo+tCu+VpwdVKApWErBWhZqgnyzk5wyhFjC5eV+QFPMuTQNVwW/TP7JTbFg1Ou8Reh4jgYSy4NJvqQRQURrD76dl6EtZNcc9CW1yySpEY6eU48gBnHRk5EbAkb/S8mRbSr60tpOtj7dSVtbuJHbW84fryNu4RtEPel4LApY=
Content-ID: <CB8A5340C867674DAA8EFDF5702874F3@namprd04.prod.outlook.com>
MIME-Version: 1.0
X-OriginatorOrg: analogixsemi.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 812b6451-d2a1-4a53-e3e3-08d75154e7c3
X-MS-Exchange-CrossTenant-originalarrivaltime: 15 Oct 2019 09:49:01.3216 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: b099b0b4-f26c-4cf5-9a0f-d5be9acab205
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: CeFeSfU2s4UpV5w8p1VqPA37ZB4qp7DQ+8Im37mv9fthWha9aieE2I7pITnnKSoQ/e22Wa5cugj8Eio2B+6GcA==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: SN6PR04MB5360
X-Mailman-Approved-At: Tue, 15 Oct 2019 16:38:12 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=Analogixsemi.onmicrosoft.com; s=selector2-Analogixsemi-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=7NPx7D1IquXObkOXETj8QmzDnT+RgR2MJ8Swh597CPE=;
 b=fwi+wQ7j5s1QWHwdwfRtZKyvMdxg8WPefxCeE4VqOcfQON9/Mm4auz19opyz8/s7gnD9mwVJMHoxULBJ+xJGxY+MfH9uxQV3gDpwp9Kdt567yQH0E4AEUx9GrlRiv5DsuIiUgY5vhmV+FiM5mfP3s8T62kILL5+VcajI5Jzwn7g=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=xji@analogixsemi.com; 
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Jernej Skrabec <jernej.skrabec@siol.net>,
 Nicolas Boichat <drinkcat@chromium.org>, "lkp@intel.com" <lkp@intel.com>,
 Jonas Karlman <jonas@kwiboo.se>, David Airlie <airlied@linux.ie>,
 Neil Armstrong <narmstrong@baylibre.com>,
 "linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>,
 "dri-devel@lists.freedesktop.org" <dri-devel@lists.freedesktop.org>,
 Sheng Pan <span@analogixsemi.com>, Dan Carpenter <dan.carpenter@oracle.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIEFOWDc2MjUgaXMgYW4gdWx0cmEtbG93IHBvd2VyIDRLIE1vYmlsZSBIRCBUcmFuc21pdHRl
ciBkZXNpZ25lZApmb3IgcG9ydGFibGUgZGV2aWNlLiBJdCBjb252ZXJ0cyBNSVBJIERTSS9EUEkg
dG8gRGlzcGxheVBvcnQgMS4zIDRLLgoKVGhlIEFOWDc2MjUgY2FuIHN1cHBvcnQgYm90aCBVU0Ig
VHlwZS1DIFBEIGZlYXR1cmUgYW5kIE1JUEkgRFNJL0RQSQp0byBEUCBmZWF0dXJlLiBUaGlzIGRy
aXZlciBvbmx5IGVuYWJsZWQgTUlQSSBEU0kvRFBJIHRvIERQIGZlYXR1cmUuCgpTaWduZWQtb2Zm
LWJ5OiBYaW4gSmkgPHhqaUBhbmFsb2dpeHNlbWkuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9i
cmlkZ2UvTWFrZWZpbGUgICAgICAgICAgIHwgICAgMiArLQogZHJpdmVycy9ncHUvZHJtL2JyaWRn
ZS9hbmFsb2dpeC9LY29uZmlnICAgfCAgICA2ICsKIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5h
bG9naXgvTWFrZWZpbGUgIHwgICAgMSArCiBkcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4
L2FueDc2MjUuYyB8IDIwNDMgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysKIGRyaXZlcnMv
Z3B1L2RybS9icmlkZ2UvYW5hbG9naXgvYW54NzYyNS5oIHwgIDQwNiArKysrKysKIDUgZmlsZXMg
Y2hhbmdlZCwgMjQ1NyBpbnNlcnRpb25zKCspLCAxIGRlbGV0aW9uKC0pCiBjcmVhdGUgbW9kZSAx
MDA2NDQgZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9hbng3NjI1LmMKIGNyZWF0ZSBt
b2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FueDc2MjUuaAoKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvTWFrZWZpbGUgYi9kcml2ZXJzL2dwdS9k
cm0vYnJpZGdlL01ha2VmaWxlCmluZGV4IDQ5MzRmY2YuLmJjZDM4OGEgMTAwNjQ0Ci0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9icmlkZ2UvTWFrZWZpbGUKKysrIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRn
ZS9NYWtlZmlsZQpAQCAtMTIsOCArMTIsOCBAQCBvYmotJChDT05GSUdfRFJNX1NJSTkyMzQpICs9
IHNpaTkyMzQubwogb2JqLSQoQ09ORklHX0RSTV9USElORV9USEM2M0xWRDEwMjQpICs9IHRoYzYz
bHZkMTAyNC5vCiBvYmotJChDT05GSUdfRFJNX1RPU0hJQkFfVEMzNTg3NjQpICs9IHRjMzU4NzY0
Lm8KIG9iai0kKENPTkZJR19EUk1fVE9TSElCQV9UQzM1ODc2NykgKz0gdGMzNTg3Njcubwotb2Jq
LSQoQ09ORklHX0RSTV9BTkFMT0dJWF9EUCkgKz0gYW5hbG9naXgvCiBvYmotJChDT05GSUdfRFJN
X0kyQ19BRFY3NTExKSArPSBhZHY3NTExLwogb2JqLSQoQ09ORklHX0RSTV9USV9TTjY1RFNJODYp
ICs9IHRpLXNuNjVkc2k4Ni5vCiBvYmotJChDT05GSUdfRFJNX1RJX1RGUDQxMCkgKz0gdGktdGZw
NDEwLm8KK29iai15ICs9IGFuYWxvZ2l4Lwogb2JqLXkgKz0gc3lub3BzeXMvCmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L0tjb25maWcgYi9kcml2ZXJzL2dwdS9k
cm0vYnJpZGdlL2FuYWxvZ2l4L0tjb25maWcKaW5kZXggZTkzMGZmOS4uYjJmMTI3ZSAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9LY29uZmlnCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9naXgvS2NvbmZpZwpAQCAtMiwzICsyLDkgQEAKIGNvbmZp
ZyBEUk1fQU5BTE9HSVhfRFAKIAl0cmlzdGF0ZQogCWRlcGVuZHMgb24gRFJNCisKK2NvbmZpZyBB
TkFMT0dJWF9BTlg3NjI1CisJdHJpc3RhdGUgIkFuYWxvZ2l4IE1JUEkgdG8gRFAgaW50ZXJmYWNl
IHN1cHBvcnQiCisJaGVscAorCQlBTlg3NjI1IGlzIGFuIHVsdHJhLWxvdyBwb3dlciA0SyBtb2Jp
bGUgSEQgdHJhbnNtaXR0ZXIgZGVzaWduZWQKKwkJZm9yIHBvcnRhYmxlIGRldmljZXMuIEl0IGNv
bnZlcnRzIE1JUEkvRFBJIHRvIERpc3BsYXlQb3J0MS4zIDRLLgpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9NYWtlZmlsZSBiL2RyaXZlcnMvZ3B1L2RybS9icmlk
Z2UvYW5hbG9naXgvTWFrZWZpbGUKaW5kZXggZmRiZjNmZC4uOGE1Mjg2NyAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9NYWtlZmlsZQorKysgYi9kcml2ZXJzL2dw
dS9kcm0vYnJpZGdlL2FuYWxvZ2l4L01ha2VmaWxlCkBAIC0xLDMgKzEsNCBAQAogIyBTUERYLUxp
Y2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vbmx5CitvYmotJChDT05GSUdfQU5BTE9HSVhfQU5Y
NzYyNSkgKz0gYW54NzYyNS5vCiBhbmFsb2dpeF9kcC1vYmpzIDo9IGFuYWxvZ2l4X2RwX2NvcmUu
byBhbmFsb2dpeF9kcF9yZWcubwogb2JqLSQoQ09ORklHX0RSTV9BTkFMT0dJWF9EUCkgKz0gYW5h
bG9naXhfZHAubwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9h
bng3NjI1LmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FueDc2MjUuYwpuZXcg
ZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwLi40NTZiOTVjCi0tLSAvZGV2L251bGwKKysr
IGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9hbng3NjI1LmMKQEAgLTAsMCArMSwy
MDQzIEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vbmx5CisvKgorICog
Q29weXJpZ2h0KGMpIDIwMTYsIEFuYWxvZ2l4IFNlbWljb25kdWN0b3IuIEFsbCByaWdodHMgcmVz
ZXJ2ZWQuCisgKgorICovCisjaW5jbHVkZSA8bGludXgvZXh0Y29uLmg+CisjaW5jbHVkZSA8bGlu
dXgvZ2NkLmg+CisjaW5jbHVkZSA8bGludXgvZ3Bpby9jb25zdW1lci5oPgorI2luY2x1ZGUgPGxp
bnV4L2kyYy5oPgorI2luY2x1ZGUgPGxpbnV4L2ludGVycnVwdC5oPgorI2luY2x1ZGUgPGxpbnV4
L2lvcG9sbC5oPgorI2luY2x1ZGUgPGxpbnV4L2tlcm5lbC5oPgorI2luY2x1ZGUgPGxpbnV4L21v
ZHVsZS5oPgorI2luY2x1ZGUgPGxpbnV4L211dGV4Lmg+CisjaW5jbHVkZSA8bGludXgvc2xhYi5o
PgorI2luY2x1ZGUgPGxpbnV4L3R5cGVzLmg+CisjaW5jbHVkZSA8bGludXgvd29ya3F1ZXVlLmg+
CisKKyNpbmNsdWRlIDxsaW51eC9vZl9ncGlvLmg+CisjaW5jbHVkZSA8bGludXgvb2ZfZ3JhcGgu
aD4KKyNpbmNsdWRlIDxsaW51eC9vZl9wbGF0Zm9ybS5oPgorCisjaW5jbHVkZSA8ZHJtL2RybV9h
dG9taWNfaGVscGVyLmg+CisjaW5jbHVkZSA8ZHJtL2RybV9icmlkZ2UuaD4KKyNpbmNsdWRlIDxk
cm0vZHJtX2NydGNfaGVscGVyLmg+CisjaW5jbHVkZSA8ZHJtL2RybV9kcF9oZWxwZXIuaD4KKyNp
bmNsdWRlIDxkcm0vZHJtX2VkaWQuaD4KKyNpbmNsdWRlIDxkcm0vZHJtX21pcGlfZHNpLmg+Cisj
aW5jbHVkZSA8ZHJtL2RybV9wYW5lbC5oPgorI2luY2x1ZGUgPGRybS9kcm1fcHJpbnQuaD4KKyNp
bmNsdWRlIDxkcm0vZHJtX3Byb2JlX2hlbHBlci5oPgorCisjaW5jbHVkZSA8dmlkZW8vZGlzcGxh
eV90aW1pbmcuaD4KKworI2luY2x1ZGUgImFueDc2MjUuaCIKKworLyoKKyAqIHRoZXJlIGlzIGEg
c3luYyBpc3N1ZSB3aGlsZSBhY2Nlc3MgSTJDIHJlZ2lzdGVyIGJldHdlZW4gQVAoQ1BVKSBhbmQK
KyAqIGludGVybmFsIGZpcm13YXJlKE9DTSksIHRvIGF2b2lkIHRoZSByYWNlIGNvbmRpdGlvbiwg
QVAgc2hvdWxkIGFjY2VzcworICogdGhlIHJlc2VydmVkIHNsYXZlIGFkZHJlc3MgYmVmb3JlIHNs
YXZlIGFkZHJlc3Mgb2NjdXJzIGNoYW5nZXMuCisgKi8KK3N0YXRpYyBpbnQgaTJjX2FjY2Vzc193
b3JrYXJvdW5kKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCwKKwkJCQkgc3RydWN0IGkyY19jbGll
bnQgKmNsaWVudCkKK3sKKwl1OCBvZmZzZXQ7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmNsaWVu
dC0+ZGV2OworCWludCByZXQ7CisKKwlpZiAoY2xpZW50ID09IGN0eC0+bGFzdF9jbGllbnQpCisJ
CXJldHVybiAwOworCisJY3R4LT5sYXN0X2NsaWVudCA9IGNsaWVudDsKKworCWlmIChjbGllbnQg
PT0gY3R4LT5pMmMudGNwY19jbGllbnQpCisJCW9mZnNldCA9IFJTVkRfMDBfQUREUjsKKwllbHNl
IGlmIChjbGllbnQgPT0gY3R4LT5pMmMudHhfcDBfY2xpZW50KQorCQlvZmZzZXQgPSBSU1ZEX0Qx
X0FERFI7CisJZWxzZSBpZiAoY2xpZW50ID09IGN0eC0+aTJjLnR4X3AxX2NsaWVudCkKKwkJb2Zm
c2V0ID0gUlNWRF82MF9BRERSOworCWVsc2UgaWYgKGNsaWVudCA9PSBjdHgtPmkyYy5yeF9wMF9j
bGllbnQpCisJCW9mZnNldCA9IFJTVkRfMzlfQUREUjsKKwllbHNlIGlmIChjbGllbnQgPT0gY3R4
LT5pMmMucnhfcDFfY2xpZW50KQorCQlvZmZzZXQgPSBSU1ZEXzdGX0FERFI7CisJZWxzZQorCQlv
ZmZzZXQgPSBSU1ZEXzAwX0FERFI7CisKKwlyZXQgPSBpMmNfc21idXNfd3JpdGVfYnl0ZV9kYXRh
KGNsaWVudCwgb2Zmc2V0LCAweDAwKTsKKwlpZiAocmV0IDwgMCkKKwkJRFJNX0RFVl9FUlJPUihk
ZXYsCisJCQkgICAgICAiZmFpbGVkIHRvIGFjY2VzcyBpMmMgaWQ9JXhcbjoleCIsCisJCQkgICAg
ICBjbGllbnQtPmFkZHIsIG9mZnNldCk7CisKKwlyZXR1cm4gcmV0OworfQorCitzdGF0aWMgaW50
IGFueDc2MjVfcmVnX3JlYWQoc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4LAorCQkJICAgIHN0cnVj
dCBpMmNfY2xpZW50ICpjbGllbnQsIHU4IHJlZ19hZGRyKQoreworCWludCByZXQ7CisJc3RydWN0
IGRldmljZSAqZGV2ID0gJmNsaWVudC0+ZGV2OworCisJaTJjX2FjY2Vzc193b3JrYXJvdW5kKGN0
eCwgY2xpZW50KTsKKworCXJldCA9IGkyY19zbWJ1c19yZWFkX2J5dGVfZGF0YShjbGllbnQsIHJl
Z19hZGRyKTsKKwlpZiAocmV0IDwgMCkKKwkJRFJNX0RFVl9FUlJPUihkZXYsICJyZWFkIGkyYyBm
YWlsZWQgaWQ9JXg6JXhcbiIsCisJCQkgICAgICBjbGllbnQtPmFkZHIsIHJlZ19hZGRyKTsKKwor
CXJldHVybiByZXQ7Cit9CisKK3N0YXRpYyBpbnQgYW54NzYyNV9yZWdfYmxvY2tfcmVhZChzdHJ1
Y3QgYW54NzYyNV9kYXRhICpjdHgsCisJCQkJICBzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50LAor
CQkJCSAgdTggcmVnX2FkZHIsIHU4IGxlbiwgdTggKmJ1ZikKK3sKKwlpbnQgcmV0OworCXN0cnVj
dCBkZXZpY2UgKmRldiA9ICZjbGllbnQtPmRldjsKKworCWkyY19hY2Nlc3Nfd29ya2Fyb3VuZChj
dHgsIGNsaWVudCk7CisKKwlyZXQgPSBpMmNfc21idXNfcmVhZF9pMmNfYmxvY2tfZGF0YShjbGll
bnQsIHJlZ19hZGRyLCBsZW4sIGJ1Zik7CisJaWYgKHJldCA8IDApCisJCURSTV9ERVZfRVJST1Io
ZGV2LCAicmVhZCBpMmMgYmxvY2sgZmFpbGVkIGlkPSV4OiV4XG4iLAorCQkJICAgICAgY2xpZW50
LT5hZGRyLCByZWdfYWRkcik7CisKKwlyZXR1cm4gcmV0OworfQorCitzdGF0aWMgaW50IGFueDc2
MjVfcmVnX3dyaXRlKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCwKKwkJCSAgICAgc3RydWN0IGky
Y19jbGllbnQgKmNsaWVudCwKKwkJCSAgICAgdTggcmVnX2FkZHIsIHU4IHJlZ192YWwpCit7CisJ
aW50IHJldDsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY2xpZW50LT5kZXY7CisKKwlpMmNfYWNj
ZXNzX3dvcmthcm91bmQoY3R4LCBjbGllbnQpOworCisJcmV0ID0gaTJjX3NtYnVzX3dyaXRlX2J5
dGVfZGF0YShjbGllbnQsIHJlZ19hZGRyLCByZWdfdmFsKTsKKworCWlmIChyZXQgPCAwKQorCQlE
Uk1fREVWX0VSUk9SKGRldiwgImZhaWxlZCB0byB3cml0ZSBpMmMgaWQ9JXhcbjoleCIsCisJCQkg
ICAgICBjbGllbnQtPmFkZHIsIHJlZ19hZGRyKTsKKworCXJldHVybiByZXQ7Cit9CisKK3N0YXRp
YyBpbnQgYW54NzYyNV93cml0ZV9vcihzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgsCisJCQkgICAg
c3RydWN0IGkyY19jbGllbnQgKmNsaWVudCwKKwkJCSAgICB1OCBvZmZzZXQsIHU4IG1hc2spCit7
CisJaW50IHZhbDsKKworCXZhbCA9IGFueDc2MjVfcmVnX3JlYWQoY3R4LCBjbGllbnQsIG9mZnNl
dCk7CisJaWYgKHZhbCA8IDApCisJCXJldHVybiB2YWw7CisKKwlyZXR1cm4gYW54NzYyNV9yZWdf
d3JpdGUoY3R4LCBjbGllbnQsIG9mZnNldCwgKHZhbCB8IChtYXNrKSkpOworfQorCitzdGF0aWMg
aW50IGFueDc2MjVfd3JpdGVfYW5kKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCwKKwkJCSAgICAg
c3RydWN0IGkyY19jbGllbnQgKmNsaWVudCwKKwkJCSAgICAgdTggb2Zmc2V0LCB1OCBtYXNrKQor
eworCWludCB2YWw7CisKKwl2YWwgPSBhbng3NjI1X3JlZ19yZWFkKGN0eCwgY2xpZW50LCBvZmZz
ZXQpOworCWlmICh2YWwgPCAwKQorCQlyZXR1cm4gdmFsOworCisJcmV0dXJuIGFueDc2MjVfcmVn
X3dyaXRlKGN0eCwgY2xpZW50LCBvZmZzZXQsICh2YWwgJiAobWFzaykpKTsKK30KKworc3RhdGlj
IGludCBhbng3NjI1X3dyaXRlX2FuZF9vcihzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgsCisJCQkJ
c3RydWN0IGkyY19jbGllbnQgKmNsaWVudCwKKwkJCQl1OCBvZmZzZXQsIHU4IGFuZF9tYXNrLCB1
OCBvcl9tYXNrKQoreworCWludCB2YWw7CisKKwl2YWwgPSBhbng3NjI1X3JlZ19yZWFkKGN0eCwg
Y2xpZW50LCBvZmZzZXQpOworCWlmICh2YWwgPCAwKQorCQlyZXR1cm4gdmFsOworCisJcmV0dXJu
IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY2xpZW50LAorCQkJCSBvZmZzZXQsICh2YWwgJiBhbmRf
bWFzaykgfCAob3JfbWFzaykpOworfQorCitzdGF0aWMgaW50IGFueDc2MjVfY29uZmlnX2JpdF9t
YXRyaXgoc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4KQoreworCWludCBpLCByZXQ7CisKKwlyZXQg
PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnR4X3AyX2NsaWVudCwKKwkJCQlBVURJ
T19DT05UUk9MX1JFR0lTVEVSLCAweDgwKTsKKwlmb3IgKGkgPSAwOyBpIDwgMTM7IGkrKykKKwkJ
cmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMudHhfcDJfY2xpZW50LAorCQkJ
CQkgVklERU9fQklUX01BVFJJWF8xMiArIGksCisJCQkJCSAweDE4ICsgaSk7CisKKwlyZXR1cm4g
cmV0OworfQorCitzdGF0aWMgaW50IGFueDc2MjVfcmVhZF9jdHJsX3N0YXR1c19wMChzdHJ1Y3Qg
YW54NzYyNV9kYXRhICpjdHgpCit7CisJcmV0dXJuIGFueDc2MjVfcmVnX3JlYWQoY3R4LCBjdHgt
PmkyYy5yeF9wMF9jbGllbnQsIEFQX0FVWF9DVFJMX1NUQVRVUyk7Cit9CisKK3N0YXRpYyBpbnQg
d2FpdF9hdXhfb3BfZmluaXNoKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCkKK3sKKwlpbnQgdmFs
OworCWludCByZXQ7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7CisK
KwlyZXQgPSByZWFkeF9wb2xsX3RpbWVvdXQoYW54NzYyNV9yZWFkX2N0cmxfc3RhdHVzX3AwLAor
CQkJCSBjdHgsIHZhbCwKKwkJCQkgKCEodmFsICYgQVBfQVVYX0NUUkxfT1BfRU4pIHx8ICh2YWwg
PCAwKSksCisJCQkJIDIwMDAsCisJCQkJIDIwMDAgKiAxNTApOworCWlmIChyZXQpIHsKKwkJRFJN
X0RFVl9FUlJPUihkZXYsICJhdXggb3BlcmF0aW9uIGZhaWxlZCFcbiIpOworCQlyZXR1cm4gLUVJ
TzsKKwl9CisKKwl2YWwgPSBhbng3NjI1X3JlZ19yZWFkKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xp
ZW50LAorCQkJICAgICAgIEFQX0FVWF9DVFJMX1NUQVRVUyk7CisJaWYgKHZhbCA8IDAgfHwgKHZh
bCAmIDB4MEYpKSB7CisJCURSTV9ERVZfRVJST1IoZGV2LCAiYXV4IHN0YXR1cyAlMDJ4XG4iLCB2
YWwpOworCQl2YWwgPSAtRUlPOworCX0KKworCXJldHVybiB2YWw7Cit9CisKK3N0YXRpYyBpbnQg
YW54NzYyNV92aWRlb19tdXRlX2NvbnRyb2woc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4LAorCQkJ
CSAgICAgIHU4IHN0YXR1cykKK3sKKwlpbnQgcmV0OworCisJaWYgKHN0YXR1cykgeyAvKiBtdXRl
IG9uICovCisJCS8qIHNldCBtdXRlIGZsYWcgKi8KKwkJcmV0ID0gYW54NzYyNV93cml0ZV9vcihj
dHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkgICAgICAgQVBfQVZfU1RBVFVTLCBBUF9N
SVBJX01VVEUpOworCQkvKiBjbGVhciBtaXBpIFJYIGVuICovCisJCXJldCB8PSBhbng3NjI1X3dy
aXRlX2FuZChjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkJIEFQX0FWX1NUQVRVUywg
KHU4KX5BUF9NSVBJX1JYX0VOKTsKKwl9IGVsc2UgeyAvKiBtdXRlIG9mZiAqLworCQkvKiBjbGVh
ciBtdXRlIGZsYWcgKi8KKwkJcmV0ID0gYW54NzYyNV93cml0ZV9hbmQoY3R4LCBjdHgtPmkyYy5y
eF9wMF9jbGllbnQsCisJCQkJCUFQX0FWX1NUQVRVUywgKHU4KX5BUF9NSVBJX01VVEUpOworCQkv
KiBzZXQgTUlQSSBSWCBFTiAqLworCQlyZXQgfD0gYW54NzYyNV93cml0ZV9vcihjdHgsIGN0eC0+
aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkJQVBfQVZfU1RBVFVTLCBBUF9NSVBJX1JYX0VOKTsKKwl9
CisKKwlyZXR1cm4gcmV0OworfQorCitzdGF0aWMgaW50IGFueDc2MjVfY29uZmlnX2F1ZGlvX2lu
cHV0KHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCkKK3sKKwlpbnQgcmV0OworCisJLyogY2hhbm5l
bCBudW0gKi8KKwlyZXQgPSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnR4X3AyX2Ns
aWVudCwKKwkJCQlBVURJT19DSEFOTkVMX1NUQVRVU182LCBJMlNfQ0hfMiA8PCA1KTsKKwkvKiBs
YXlvdXQgKi8KKwkvKiBhcyBJMlMgY2hhbm5lbCBpcyAyLCBubyBuZWVkIHRvIHNldCBsYXlvdXQg
Ki8KKworCS8qIEZTICovCisJcmV0IHw9IGFueDc2MjVfd3JpdGVfYW5kX29yKGN0eCwgY3R4LT5p
MmMudHhfcDJfY2xpZW50LAorCQkJCSAgICBBVURJT19DSEFOTkVMX1NUQVRVU180LAorCQkJCSAg
ICAweGYwLCBBVURJT19GU180OEspOworCS8qIHdvcmQgbGVuZ3RoICovCisJcmV0IHw9IGFueDc2
MjVfd3JpdGVfYW5kX29yKGN0eCwgY3R4LT5pMmMudHhfcDJfY2xpZW50LAorCQkJCSAgICBBVURJ
T19DSEFOTkVMX1NUQVRVU181LAorCQkJCSAgICAweGYwLCBBVURJT19XX0xFTl8yNF8yNE1BWCk7
CisJLyogSTJTICovCisJcmV0IHw9IGFueDc2MjVfd3JpdGVfb3IoY3R4LCBjdHgtPmkyYy50eF9w
Ml9jbGllbnQsCisJCQkJQVVESU9fQ0hBTk5FTF9TVEFUVVNfNiwgSTJTX1NMQVZFX01PREUpOwor
CXJldCB8PSBhbng3NjI1X3dyaXRlX2FuZChjdHgsIGN0eC0+aTJjLnR4X3AyX2NsaWVudCwKKwkJ
CQkgQVVESU9fQ09OVFJPTF9SRUdJU1RFUiwgflRETV9USU1JTkdfTU9ERSk7CisJLyogYXVkaW8g
Y2hhbmdlIGZsYWcgKi8KKwlyZXQgfD0gYW54NzYyNV93cml0ZV9vcihjdHgsIGN0eC0+aTJjLnJ4
X3AwX2NsaWVudCwKKwkJCQlBUF9BVl9TVEFUVVMsIEFQX0FVRElPX0NIRyk7CisKKwlpZiAocmV0
IDwgMCkKKwkJRFJNX0VSUk9SKCJmYWlsZWQgdG8gY29uZmlnIGF1ZGlvLlxuIik7CisKKwlyZXR1
cm4gcmV0OworfQorCisvKiByZWR1Y3Rpb24gb2YgZnJhY3Rpb24gYS9iICovCitzdGF0aWMgdm9p
ZCBhbng3NjI1X3JlZHVjdGlvbl9vZl9hX2ZyYWN0aW9uKHVuc2lnbmVkIGxvbmcgKmEsIHVuc2ln
bmVkIGxvbmcgKmIpCit7CisJdW5zaWduZWQgbG9uZyBnY2RfbnVtOworCXVuc2lnbmVkIGxvbmcg
dG1wX2EsIHRtcF9iOworCXUzMiBpID0gMTsKKworCWdjZF9udW0gPSBnY2QoKmEsICpiKTsKKwkq
YSAvPSBnY2RfbnVtOworCSpiIC89IGdjZF9udW07CisKKwl0bXBfYSA9ICphOworCXRtcF9iID0g
KmI7CisKKwl3aGlsZSAoKCphID4gTUFYX1VOU0lHTkVEXzI0QklUKSB8fCAoKmIgPiBNQVhfVU5T
SUdORURfMjRCSVQpKSB7CisJCWkrKzsKKwkJKmEgPSB0bXBfYSAvIGk7CisJCSpiID0gdG1wX2Ig
LyBpOworCX0KKworCS8qCisJICogaW4gdGhlIGVuZCwgbWFrZSBhLCBiIGxhcmdlciB0byBoYXZl
IGhpZ2hlciBPREZDIFBMTAorCSAqIG91dHB1dCBmcmVxdWVuY3kgYWNjdXJhY3kKKwkgKi8KKwl3
aGlsZSAoKCphIDwgTUFYX1VOU0lHTkVEXzI0QklUKSAmJiAoKmIgPCBNQVhfVU5TSUdORURfMjRC
SVQpKSB7CisJCSphIDw8PSAxOworCQkqYiA8PD0gMTsKKwl9CisKKwkqYSA+Pj0gMTsKKwkqYiA+
Pj0gMTsKK30KKworc3RhdGljIGludCBhbng3NjI1X2NhbGN1bGF0ZV9tX24odTMyIHBpeGVsY2xv
Y2ssCisJCQkJIHVuc2lnbmVkIGxvbmcgKm0sCisJCQkJIHVuc2lnbmVkIGxvbmcgKm4sCisJCQkJ
IHU4ICpwb3N0X2RpdmlkZXIpCit7CisJaWYgKHBpeGVsY2xvY2sgPiBQTExfT1VUX0ZSRVFfQUJT
X01BWCAvIFBPU1RfRElWSURFUl9NSU4pIHsKKwkJLyogcGl4ZWwgY2xvY2sgZnJlcXVlbmN5IGlz
IHRvbyBoaWdoICovCisJCURSTV9FUlJPUigicGl4ZWxjbG9jayB0b28gaGlnaCwgYWN0KCVkKSwg
bWF4aW11bSglbHUpXG4iLAorCQkJICBwaXhlbGNsb2NrLAorCQkJICBQTExfT1VUX0ZSRVFfQUJT
X01BWCAvIFBPU1RfRElWSURFUl9NSU4pOworCQlyZXR1cm4gLUVJTlZBTDsKKwl9CisKKwlpZiAo
cGl4ZWxjbG9jayA8IFBMTF9PVVRfRlJFUV9BQlNfTUlOIC8gUE9TVF9ESVZJREVSX01BWCkgewor
CQkvKiBwaXhlbCBjbG9jayBmcmVxdWVuY3kgaXMgdG9vIGxvdyAqLworCQlEUk1fRVJST1IoInBp
eGVsY2xvY2sgdG9vIGxvdywgYWN0KCVkKSwgbWF4aW11bSglbHUpXG4iLAorCQkJICBwaXhlbGNs
b2NrLAorCQkJICBQTExfT1VUX0ZSRVFfQUJTX01JTiAvIFBPU1RfRElWSURFUl9NQVgpOworCQly
ZXR1cm4gLUVJTlZBTDsKKwl9CisKKwlmb3IgKCpwb3N0X2RpdmlkZXIgPSAxOworCQlwaXhlbGNs
b2NrIDwgKFBMTF9PVVRfRlJFUV9NSU4gLyAoKnBvc3RfZGl2aWRlcikpOykKKwkJKnBvc3RfZGl2
aWRlciArPSAxOworCisJaWYgKCpwb3N0X2RpdmlkZXIgPiBQT1NUX0RJVklERVJfTUFYKSB7CisJ
CWZvciAoKnBvc3RfZGl2aWRlciA9IDE7CisJCQkocGl4ZWxjbG9jayA8CisJCQkgKFBMTF9PVVRf
RlJFUV9BQlNfTUlOIC8gKCpwb3N0X2RpdmlkZXIpKSk7KQorCQkJKnBvc3RfZGl2aWRlciArPSAx
OworCisJCWlmICgqcG9zdF9kaXZpZGVyID4gUE9TVF9ESVZJREVSX01BWCkgeworCQkJRFJNX0VS
Uk9SKCJjYW5ub3QgZmluZCBwcm9wZXJ0eSBwb3N0X2RpdmlkZXIoJWQpXG4iLAorCQkJCSAgKnBv
c3RfZGl2aWRlcik7CisJCQlyZXR1cm4gLUVET007CisJCX0KKwl9CisKKwkvKiBwYXRjaCB0byBp
bXByb3ZlIHRoZSBhY2N1cmFjeSAqLworCWlmICgqcG9zdF9kaXZpZGVyID09IDcpIHsKKwkJLyog
MjcsMDAwLDAwMCBpcyBub3QgZGl2aXNpYmxlIGJ5IDcgKi8KKwkJKnBvc3RfZGl2aWRlciA9IDg7
CisJfSBlbHNlIGlmICgqcG9zdF9kaXZpZGVyID09IDExKSB7CisJCS8qIDI3LDAwMCwwMDAgaXMg
bm90IGRpdmlzaWJsZSBieSAxMSAqLworCQkqcG9zdF9kaXZpZGVyID0gMTI7CisJfSBlbHNlIGlm
ICgoKnBvc3RfZGl2aWRlciA9PSAxMykgfHwgKCpwb3N0X2RpdmlkZXIgPT0gMTQpKSB7CisJCS8q
MjcsMDAwLDAwMCBpcyBub3QgZGl2aXNpYmxlIGJ5IDEzIG9yIDE0Ki8KKwkJKnBvc3RfZGl2aWRl
ciA9IDE1OworCX0KKworCWlmIChwaXhlbGNsb2NrICogKCpwb3N0X2RpdmlkZXIpID4gUExMX09V
VF9GUkVRX0FCU19NQVgpIHsKKwkJRFJNX0VSUk9SKCJhY3QgY2xvY2soJXUpIGxhcmdlIHRoYW4g
bWF4aW11bSglbHUpXG4iLAorCQkJICBwaXhlbGNsb2NrICogKCpwb3N0X2RpdmlkZXIpLAorCQkJ
ICBQTExfT1VUX0ZSRVFfQUJTX01BWCk7CisJCXJldHVybiAtRURPTTsKKwl9CisKKwkqbSA9IHBp
eGVsY2xvY2s7CisJKm4gPSBYVEFMX0ZSUSAvICgqcG9zdF9kaXZpZGVyKTsKKworCWFueDc2MjVf
cmVkdWN0aW9uX29mX2FfZnJhY3Rpb24obSwgbik7CisKKwlyZXR1cm4gMDsKK30KKworc3RhdGlj
IGludCBhbng3NjI1X29kZmNfY29uZmlnKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCwKKwkJCSAg
ICAgICB1OCBwb3N0X2RpdmlkZXIpCit7CisJaW50IHJldDsKKworCS8qIGNvbmZpZyBpbnB1dCBy
ZWZlcmVuY2UgY2xvY2sgZnJlcXVlbmN5IDI3TUh6LzE5LjJNSHogKi8KKwlyZXQgPSBhbng3NjI1
X3dyaXRlX2FuZChjdHgsIGN0eC0+aTJjLnJ4X3AxX2NsaWVudCwgTUlQSV9ESUdJVEFMX1BMTF8x
NiwKKwkJCQl+KFJFRl9DTEtfMjcwMDBLSFogPDwgTUlQSV9GUkVGX0RfSU5EKSk7CisJcmV0IHw9
IGFueDc2MjVfd3JpdGVfb3IoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsIE1JUElfRElHSVRB
TF9QTExfMTYsCisJCQkJKFJFRl9DTEtfMjcwMDBLSFogPDwgTUlQSV9GUkVGX0RfSU5EKSk7CisJ
LyogcG9zdCBkaXZpZGVyICovCisJcmV0IHw9IGFueDc2MjVfd3JpdGVfYW5kKGN0eCwgY3R4LT5p
MmMucnhfcDFfY2xpZW50LAorCQkJCSBNSVBJX0RJR0lUQUxfUExMXzgsIDB4MGYpOworCXJldCB8
PSBhbng3NjI1X3dyaXRlX29yKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LCBNSVBJX0RJR0lU
QUxfUExMXzgsCisJCQkJcG9zdF9kaXZpZGVyIDw8IDQpOworCisJLyogYWRkIHBhdGNoIGZvciBN
SVMyLTEyNSAoNXBjcyBBTlg3NjI1IGZhaWwgQVRFIE1CSVNUIHRlc3QpICovCisJcmV0IHw9IGFu
eDc2MjVfd3JpdGVfYW5kKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LCBNSVBJX0RJR0lUQUxf
UExMXzcsCisJCQkJIH5NSVBJX1BMTF9WQ09fVFVORV9SRUdfVkFMKTsKKworCS8qIHJlc2V0IE9E
RkMgUExMICovCisJcmV0IHw9IGFueDc2MjVfd3JpdGVfYW5kKGN0eCwgY3R4LT5pMmMucnhfcDFf
Y2xpZW50LCBNSVBJX0RJR0lUQUxfUExMXzcsCisJCQkJIH5NSVBJX1BMTF9SRVNFVF9OKTsKKwly
ZXQgfD0gYW54NzYyNV93cml0ZV9vcihjdHgsIGN0eC0+aTJjLnJ4X3AxX2NsaWVudCwgTUlQSV9E
SUdJVEFMX1BMTF83LAorCQkJCU1JUElfUExMX1JFU0VUX04pOworCisJaWYgKHJldCA8IDApCisJ
CURSTV9FUlJPUigiSU8gZXJyb3IuXG4iKTsKKworCXJldHVybiByZXQ7Cit9CisKK3N0YXRpYyBp
bnQgYW54NzYyNV9kc2lfdmlkZW9fdGltaW5nX2NvbmZpZyhzdHJ1Y3QgYW54NzYyNV9kYXRhICpj
dHgpCit7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7CisJdW5zaWdu
ZWQgbG9uZyBtLCBuOworCXUxNiBodG90YWw7CisJaW50IHJldDsKKwl1OCBwb3N0X2RpdmlkZXIg
PSAwOworCisJcmV0ID0gYW54NzYyNV9jYWxjdWxhdGVfbV9uKGN0eC0+ZHQucGl4ZWxjbG9jay5t
aW4gKiAxMDAwLAorCQkJCSAgICAmbSwgJm4sICZwb3N0X2RpdmlkZXIpOworCisJaWYgKHJldCkg
eworCQlEUk1fRVJST1IoImNhbm5vdCBnZXQgcHJvcGVydHkgbSBuIHZhbHVlLlxuIik7CisJCXJl
dHVybiByZXQ7CisJfQorCisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiY29tcHV0ZSBNKCVs
dSksIE4oJWx1KSwgZGl2aWRlciglZCkuXG4iLAorCQkJICAgICBtLCBuLCBwb3N0X2RpdmlkZXIp
OworCisJLyogY29uZmlndXJlIHBpeGVsIGNsb2NrICovCisJcmV0ID0gYW54NzYyNV9yZWdfd3Jp
dGUoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsIFBJWEVMX0NMT0NLX0wsCisJCQkJKGN0eC0+
ZHQucGl4ZWxjbG9jay5taW4gLyAxMDAwKSAmIDB4RkYpOworCXJldCB8PSBhbng3NjI1X3JlZ193
cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwgUElYRUxfQ0xPQ0tfSCwKKwkJCQkgKGN0
eC0+ZHQucGl4ZWxjbG9jay5taW4gLyAxMDAwKSA+PiA4KTsKKwkvKiBsYW5lIGNvdW50ICovCisJ
cmV0IHw9IGFueDc2MjVfd3JpdGVfYW5kKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LAorCQkJ
TUlQSV9MQU5FX0NUUkxfMCwgMHhmYyk7CisJcmV0IHw9IGFueDc2MjVfd3JpdGVfb3IoY3R4LCBj
dHgtPmkyYy5yeF9wMV9jbGllbnQsCisJCQkJTUlQSV9MQU5FX0NUUkxfMCwgMyk7CisKKwkvKiBI
dG90YWwgKi8KKwlodG90YWwgPSBjdHgtPmR0LmhhY3RpdmUubWluICsgY3R4LT5kdC5oZnJvbnRf
cG9yY2gubWluICsKKwkJY3R4LT5kdC5oYmFja19wb3JjaC5taW4gKyBjdHgtPmR0LmhzeW5jX2xl
bi5taW47CisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDJfY2xp
ZW50LAorCQkJSE9SSVpPTlRBTF9UT1RBTF9QSVhFTFNfTCwgaHRvdGFsICYgMHhGRik7CisJcmV0
IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDJfY2xpZW50LAorCQkJSE9S
SVpPTlRBTF9UT1RBTF9QSVhFTFNfSCwgaHRvdGFsID4+IDgpOworCS8qIEhhY3RpdmUgKi8KKwly
ZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMl9jbGllbnQsCisJCQlI
T1JJWk9OVEFMX0FDVElWRV9QSVhFTFNfTCwgY3R4LT5kdC5oYWN0aXZlLm1pbiAmIDB4RkYpOwor
CXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AyX2NsaWVudCwKKwkJ
CUhPUklaT05UQUxfQUNUSVZFX1BJWEVMU19ILCBjdHgtPmR0LmhhY3RpdmUubWluID4+IDgpOwor
CS8qIEhGUCAqLworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3Ay
X2NsaWVudCwKKwkJCUhPUklaT05UQUxfRlJPTlRfUE9SQ0hfTCwgY3R4LT5kdC5oZnJvbnRfcG9y
Y2gubWluKTsKKwlyZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMl9j
bGllbnQsCisJCQlIT1JJWk9OVEFMX0ZST05UX1BPUkNIX0gsCisJCQljdHgtPmR0Lmhmcm9udF9w
b3JjaC5taW4gPj4gOCk7CisJLyogSFdTICovCisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0
eCwgY3R4LT5pMmMucnhfcDJfY2xpZW50LAorCQkJSE9SSVpPTlRBTF9TWU5DX1dJRFRIX0wsIGN0
eC0+ZHQuaHN5bmNfbGVuLm1pbik7CisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4
LT5pMmMucnhfcDJfY2xpZW50LAorCQkJSE9SSVpPTlRBTF9TWU5DX1dJRFRIX0gsIGN0eC0+ZHQu
aHN5bmNfbGVuLm1pbiA+PiA4KTsKKwkvKiBIQlAgKi8KKwlyZXQgfD0gYW54NzYyNV9yZWdfd3Jp
dGUoY3R4LCBjdHgtPmkyYy5yeF9wMl9jbGllbnQsCisJCQlIT1JJWk9OVEFMX0JBQ0tfUE9SQ0hf
TCwgY3R4LT5kdC5oYmFja19wb3JjaC5taW4pOworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShj
dHgsIGN0eC0+aTJjLnJ4X3AyX2NsaWVudCwKKwkJCUhPUklaT05UQUxfQkFDS19QT1JDSF9ILCBj
dHgtPmR0LmhiYWNrX3BvcmNoLm1pbiA+PiA4KTsKKwkvKiBWYWN0aXZlICovCisJcmV0IHw9IGFu
eDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDJfY2xpZW50LCBBQ1RJVkVfTElORVNf
TCwKKwkJCWN0eC0+ZHQudmFjdGl2ZS5taW4pOworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShj
dHgsIGN0eC0+aTJjLnJ4X3AyX2NsaWVudCwgQUNUSVZFX0xJTkVTX0gsCisJCQljdHgtPmR0LnZh
Y3RpdmUubWluID4+IDgpOworCS8qIFZGUCAqLworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShj
dHgsIGN0eC0+aTJjLnJ4X3AyX2NsaWVudCwKKwkJCVZFUlRJQ0FMX0ZST05UX1BPUkNILCBjdHgt
PmR0LnZmcm9udF9wb3JjaC5taW4pOworCS8qIFZXUyAqLworCXJldCB8PSBhbng3NjI1X3JlZ193
cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AyX2NsaWVudCwKKwkJCVZFUlRJQ0FMX1NZTkNfV0lEVEgs
IGN0eC0+ZHQudnN5bmNfbGVuLm1pbik7CisJLyogVkJQICovCisJcmV0IHw9IGFueDc2MjVfcmVn
X3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDJfY2xpZW50LAorCQkJVkVSVElDQUxfQkFDS19QT1JD
SCwgY3R4LT5kdC52YmFja19wb3JjaC5taW4pOworCS8qIE0gdmFsdWUgKi8KKwlyZXQgfD0gYW54
NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsCisJCQlNSVBJX1BMTF9N
X05VTV8yM18xNiwgKG0gPj4gMTYpICYgMHhmZik7CisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRl
KGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LAorCQkJTUlQSV9QTExfTV9OVU1fMTVfOCwgKG0g
Pj4gOCkgJiAweGZmKTsKKwlyZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5y
eF9wMV9jbGllbnQsCisJCQlNSVBJX1BMTF9NX05VTV83XzAsIChtICYgMHhmZikpOworCS8qIE4g
dmFsdWUgKi8KKwlyZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9j
bGllbnQsCisJCQlNSVBJX1BMTF9OX05VTV8yM18xNiwgKG4gPj4gMTYpICYgMHhmZik7CisJcmV0
IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LAorCQkJTUlQ
SV9QTExfTl9OVU1fMTVfOCwgKG4gPj4gOCkgJiAweGZmKTsKKwlyZXQgfD0gYW54NzYyNV9yZWdf
d3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsIE1JUElfUExMX05fTlVNXzdfMCwKKwkJ
CShuICYgMHhmZikpOworCS8qIGRpZmYgKi8KKwlyZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4
LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsCisJCQlNSVBJX0RJR0lUQUxfQURKXzEsIDB4MzcpOwor
CisJcmV0IHw9IGFueDc2MjVfb2RmY19jb25maWcoY3R4LCBwb3N0X2RpdmlkZXIgLSAxKTsKKwor
CWlmIChyZXQgPCAwKQorCQlEUk1fRVJST1IoIm1pcGkgZHNpIHNldHVwIElPIGVycm9yLlxuIik7
CisKKwlyZXR1cm4gcmV0OworfQorCitzdGF0aWMgaW50IGFueDc2MjVfc3dhcF9kc2lfbGFuZTMo
c3RydWN0IGFueDc2MjVfZGF0YSAqY3R4KQoreworCWludCB2YWw7CisKKwkvKiBzd2FwIE1JUEkt
RFNJIGRhdGEgbGFuZSAzIFAgYW5kIE4gKi8KKwl2YWwgPSBhbng3NjI1X3JlZ19yZWFkKGN0eCwg
Y3R4LT5pMmMucnhfcDFfY2xpZW50LCBNSVBJX1NXQVApOworCWlmICh2YWwgPCAwKSB7CisJCURS
TV9FUlJPUigiSU8gZXJyb3IgOiBhY2Nlc3MgTUlQSV9TV0FQLlxuIik7CisJCXJldHVybiAtRUlP
OworCX0KKworCXZhbCB8PSAoMSA8PCBNSVBJX1NXQVBfQ0gzKTsKKwlyZXR1cm4gYW54NzYyNV9y
ZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsIE1JUElfU1dBUCwgdmFsKTsKK30K
Kworc3RhdGljIGludCBhbng3NjI1X2FwaV9kc2lfY29uZmlnKHN0cnVjdCBhbng3NjI1X2RhdGEg
KmN0eCkKKworeworCWludCB2YWwsIHJldDsKKworCS8qIHN3YXAgTUlQSS1EU0kgZGF0YSBsYW5l
IDMgUCBhbmQgTiAqLworCXJldCA9IGFueDc2MjVfc3dhcF9kc2lfbGFuZTMoY3R4KTsKKwlpZiAo
cmV0IDwgMCkgeworCQlEUk1fRVJST1IoIklPIGVycm9yIDogc3dhcCBkc2kgbGFuZSAzIGZhaWxl
ZC5cbiIpOworCQlyZXR1cm4gcmV0OworCX0KKworCS8qIERTSSBjbG9jayBzZXR0aW5ncyAqLwor
CXZhbCA9ICgwIDw8IE1JUElfSFNfUFdEX0NMSykJCXwKKwkJKDAgPDwgTUlQSV9IU19SVF9DTEsp
CQl8CisJCSgwIDw8IE1JUElfUERfQ0xLKQkJfAorCQkoMSA8PCBNSVBJX0NMS19SVF9NQU5VQUxf
UERfRU4pCXwKKwkJKDEgPDwgTUlQSV9DTEtfSFNfTUFOVUFMX1BEX0VOKQl8CisJCSgwIDw8IE1J
UElfQ0xLX0RFVF9ERVRfQllQQVNTKQl8CisJCSgwIDw8IE1JUElfQ0xLX01JU1NfQ1RSTCkJfAor
CQkoMCA8PCBNSVBJX1BEX0xQVFhfQ0hfTUFOVUFMX1BEX0VOKTsKKwlyZXQgPSBhbng3NjI1X3Jl
Z193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AxX2NsaWVudCwKKwkJCQlNSVBJX1BIWV9DT05UUk9M
XzMsIHZhbCk7CisKKwkvKgorCSAqIERlY3JlYXNlZCBIUyBwcmVwYXJlIHRpbWluZyBkZWxheSBm
cm9tIDE2MG5zIHRvIDgwbnMgd29yayB3aXRoCisJICogICAgIGEpIERyYWdvbiBib2FyZCA4MTAg
c2VyaWVzIChRdWFsY29tbSBBUCkKKwkgKiAgICAgYikgTW92aW5nIFBpeGVsIERTSSBzb3VyY2Ug
KFBHM0EgcGF0dGVybiBnZW5lcmF0b3IgKworCSAqCVAzMzIgRC1QSFkgUHJvYmUpIGRlZmF1bHQg
RC1QSFkgdGltaW5nCisJICoJNW5zL3N0ZXAKKwkgKi8KKwlyZXQgfD0gYW54NzYyNV9yZWdfd3Jp
dGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsCisJCQkJIE1JUElfVElNRV9IU19QUlBSLCAw
eDEwKTsKKworCS8qIGVuYWJsZSBEU0kgbW9kZSovCisJcmV0IHw9IGFueDc2MjVfd3JpdGVfb3Io
Y3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsIE1JUElfRElHSVRBTF9QTExfMTgsCisJCQkJU0VM
RUNUX0RTSSA8PCBNSVBJX0RQSV9TRUxFQ1QpOworCisJcmV0IHw9IGFueDc2MjVfZHNpX3ZpZGVv
X3RpbWluZ19jb25maWcoY3R4KTsKKwlpZiAocmV0IDwgMCkgeworCQlEUk1fRVJST1IoImRzaSB2
aWRlbyB0aW1pbmcgY29uZmlnIGZhaWxlZFxuIik7CisJCXJldHVybiByZXQ7CisJfQorCisJLyog
dG9nZ2xlIG0sIG4gcmVhZHkgKi8KKwlyZXQgPSBhbng3NjI1X3dyaXRlX2FuZChjdHgsIGN0eC0+
aTJjLnJ4X3AxX2NsaWVudCwgTUlQSV9ESUdJVEFMX1BMTF82LAorCQkJCX4oTUlQSV9NX05VTV9S
RUFEWSB8IE1JUElfTl9OVU1fUkVBRFkpKTsKKwl1c2xlZXBfcmFuZ2UoMTAwMCwgMTEwMCk7CisJ
cmV0IHw9IGFueDc2MjVfd3JpdGVfb3IoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsIE1JUElf
RElHSVRBTF9QTExfNiwKKwkJCQlNSVBJX01fTlVNX1JFQURZIHwgTUlQSV9OX05VTV9SRUFEWSk7
CisKKwkvKiBjb25maWd1cmUgaW50ZWdlciBzdGFibGUgcmVnaXN0ZXIgKi8KKwlyZXQgfD0gYW54
NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsCisJCQkJIE1JUElfVklE
RU9fU1RBQkxFX0NOVCwgMHgwMik7CisJLyogcG93ZXIgb24gTUlQSSBSWCAqLworCXJldCB8PSBh
bng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AxX2NsaWVudCwKKwkJCQkgTUlQSV9M
QU5FX0NUUkxfMTAsIDB4MDApOworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+
aTJjLnJ4X3AxX2NsaWVudCwKKwkJCQkgTUlQSV9MQU5FX0NUUkxfMTAsIDB4ODApOworCisJaWYg
KHJldCA8IDApCisJCURSTV9FUlJPUigiSU8gZXJyb3IgOiBtaXBpIGRzaSBlbmFibGUgaW5pdCBm
YWlsZWQuXG4iKTsKKworCXJldHVybiByZXQ7Cit9CisKK3N0YXRpYyBpbnQgYW54NzYyNV9kc2lf
Y29uZmlnKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCkKK3sKKwlzdHJ1Y3QgZGV2aWNlICpkZXYg
PSAmY3R4LT5jbGllbnQtPmRldjsKKwlpbnQgcmV0OworCisJRFJNX0RFVl9ERUJVR19EUklWRVIo
ZGV2LCAiY29uZmlnIGRzaS5cbiIpOworCisJLyogRFNDIGRpc2FibGUgKi8KKwlyZXQgPSBhbng3
NjI1X3dyaXRlX2FuZChjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQlSX0RTQ19DVFJM
XzAsIH5EU0NfRU4pOworCisJcmV0IHw9IGFueDc2MjVfYXBpX2RzaV9jb25maWcoY3R4KTsKKwor
CWlmIChyZXQgPCAwKSB7CisJCURSTV9FUlJPUigiSU8gZXJyb3IgOiBhcGkgZHNpIGNvbmZpZyBl
cnJvci5cbiIpOworCQlyZXR1cm4gcmV0OworCX0KKworCS8qIHNldCBNSVBJIFJYIEVOICovCisJ
cmV0ID0gYW54NzYyNV93cml0ZV9vcihjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCSAg
ICAgICBBUF9BVl9TVEFUVVMsIEFQX01JUElfUlhfRU4pOworCS8qIGNsZWFyIG11dGUgZmxhZyAq
LworCXJldCB8PSBhbng3NjI1X3dyaXRlX2FuZChjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwK
KwkJCQkgQVBfQVZfU1RBVFVTLCAodTgpfkFQX01JUElfTVVURSk7CisJaWYgKHJldCA8IDApCisJ
CURSTV9FUlJPUigiSU8gZXJyb3IgOiBlbmFibGUgbWlwaSByeCBmYWlsZWQuXG4iKTsKKwllbHNl
CisJCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgInN1Y2Nlc3MgdG8gY29uZmlnIERTSVxuIik7
CisKKwlyZXR1cm4gcmV0OworfQorCitzdGF0aWMgaW50IGFueDc2MjVfYXBpX2RwaV9jb25maWco
c3RydWN0IGFueDc2MjVfZGF0YSAqY3R4KQoreworCXUxNiBmcmVxID0gY3R4LT5kdC5waXhlbGNs
b2NrLm1pbiAvIDEwMDA7CisJaW50IHJldDsKKworCS8qIGNvbmZpZ3VyZSBwaXhlbCBjbG9jayAq
LworCXJldCA9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LAor
CQkJCVBJWEVMX0NMT0NLX0wsIGZyZXEgJiAweEZGKTsKKwlyZXQgfD0gYW54NzYyNV9yZWdfd3Jp
dGUoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsCisJCQkJIFBJWEVMX0NMT0NLX0gsIChmcmVx
ID4+IDgpKTsKKworCS8qIHNldCBEUEkgbW9kZSAqLworCS8qIHNldCB0byBEUEkgUExMIG1vZHVs
ZSBzZWwgKi8KKwlyZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9j
bGllbnQsCisJCQkJIE1JUElfRElHSVRBTF9QTExfOSwgMHgyMCk7CisJLyogcG93ZXIgZG93biBN
SVBJICovCisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xp
ZW50LAorCQkJCSBNSVBJX0xBTkVfQ1RSTF8xMCwgMHgwOCk7CisJLyogZW5hYmxlIERQSSBtb2Rl
ICovCisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50
LAorCQkJCSBNSVBJX0RJR0lUQUxfUExMXzE4LCAweDFDKTsKKwkvKiBzZXQgZmlyc3QgZWRnZSAq
LworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnR4X3AyX2NsaWVudCwK
KwkJCQkgVklERU9fQ09OVFJPTF8wLCAweDA1KTsKKwlpZiAocmV0IDwgMCkKKwkJRFJNX0VSUk9S
KCJJTyBlcnJvciA6IGRwaSBwaHkgc2V0IGZhaWxlZC5cbiIpOworCisJcmV0dXJuIHJldDsKK30K
Kworc3RhdGljIGludCBhbng3NjI1X2RwaV9jb25maWcoc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4
KQoreworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZjdHgtPmNsaWVudC0+ZGV2OworCWludCByZXQ7
CisKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJjb25maWcgZHBpXG4iKTsKKworCS8qIERT
QyBkaXNhYmxlICovCisJcmV0ID0gYW54NzYyNV93cml0ZV9hbmQoY3R4LCBjdHgtPmkyYy5yeF9w
MF9jbGllbnQsCisJCQkJUl9EU0NfQ1RSTF8wLCB+RFNDX0VOKTsKKwlpZiAocmV0IDwgMCkgewor
CQlEUk1fRVJST1IoIklPIGVycm9yIDogZGlzYWJsZSBkc2MgZmFpbGVkLlxuIik7CisJCXJldHVy
biByZXQ7CisJfQorCisJcmV0ID0gYW54NzYyNV9jb25maWdfYml0X21hdHJpeChjdHgpOworCWlm
IChyZXQgPCAwKSB7CisJCURSTV9FUlJPUigiY29uZmlnIGJpdCBtYXRyaXggZmFpbGVkLlxuIik7
CisJCXJldHVybiByZXQ7CisJfQorCisJcmV0ID0gYW54NzYyNV9hcGlfZHBpX2NvbmZpZyhjdHgp
OworCWlmIChyZXQgPCAwKSB7CisJCURSTV9FUlJPUigibWlwaSBwaHkoZHBpKSBzZXR1cCBmYWls
ZWQuXG4iKTsKKwkJcmV0dXJuIHJldDsKKwl9CisKKwkvKiBzZXQgTUlQSSBSWCBFTiAqLworCXJl
dCA9IGFueDc2MjVfd3JpdGVfb3IoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsCisJCQkgICAg
ICAgQVBfQVZfU1RBVFVTLCBBUF9NSVBJX1JYX0VOKTsKKwkvKiBjbGVhciBtdXRlIGZsYWcgKi8K
KwlyZXQgfD0gYW54NzYyNV93cml0ZV9hbmQoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsCisJ
CQkJIEFQX0FWX1NUQVRVUywgKHU4KX5BUF9NSVBJX01VVEUpOworCWlmIChyZXQgPCAwKQorCQlE
Uk1fRVJST1IoIklPIGVycm9yIDogZW5hYmxlIG1pcGkgcnggZmFpbGVkLlxuIik7CisKKwlyZXR1
cm4gcmV0OworfQorCitzdGF0aWMgdm9pZCBhbng3NjI1X2RwX3N0YXJ0KHN0cnVjdCBhbng3NjI1
X2RhdGEgKmN0eCkKK3sKKwlpbnQgcmV0OworCisJaWYgKCFjdHgtPmRpc3BsYXlfdGltaW5nX3Zh
bGlkKSB7CisJCURSTV9FUlJPUigibWlwaSBkcm0gaGF2ZW4ndCBzZXQgZGlzcGxheSB0aW1pbmcg
eWV0LlxuIik7CisJCXJldHVybjsKKwl9CisKKwlhbng3NjI1X2NvbmZpZ19hdWRpb19pbnB1dChj
dHgpOworCisJaWYgKGN0eC0+cGRhdGEuZHNpX3N1cHBvcnRlZCkKKwkJcmV0ID0gYW54NzYyNV9k
c2lfY29uZmlnKGN0eCk7CisJZWxzZQorCQlyZXQgPSBhbng3NjI1X2RwaV9jb25maWcoY3R4KTsK
KworCWlmIChyZXQgPCAwKQorCQlEUk1fRVJST1IoIk1JUEkgcGh5IHNldHVwIGVycm9yLlxuIik7
Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfZHBfc3RvcChzdHJ1Y3QgYW54NzYyNV9kYXRhICpj
dHgpCit7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7CisJaW50IHJl
dDsKKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgInN0b3AgZHAgb3V0cHV0XG4iKTsKKwor
CS8qCisJICogdmlkZW8gZGlzYWJsZTogMHg3MjowOCBiaXQgNyA9IDA7CisJICogYXVkaW8gZGlz
YWJsZTogMHg3MDo4NyBiaXQgMCA9IDA7CisJICovCisJcmV0ID0gYW54NzYyNV93cml0ZV9hbmQo
Y3R4LCBjdHgtPmkyYy50eF9wMF9jbGllbnQsIDB4ODcsIDB4ZmUpOworCXJldCB8PSBhbng3NjI1
X3dyaXRlX2FuZChjdHgsIGN0eC0+aTJjLnR4X3AyX2NsaWVudCwgMHgwOCwgMHg3Zik7CisKKwly
ZXQgfD0gYW54NzYyNV92aWRlb19tdXRlX2NvbnRyb2woY3R4LCAxKTsKKwlpZiAocmV0IDwgMCkK
KwkJRFJNX0VSUk9SKCJJTyBlcnJvciA6IG11dGUgdmlkZW8gZmFpbGVkXG4iKTsKK30KKworc3Rh
dGljIGludCBzcF90eF9yc3RfYXV4KHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCkKK3sKKwlpbnQg
cmV0OworCisJcmV0ID0gYW54NzYyNV93cml0ZV9vcihjdHgsIGN0eC0+aTJjLnR4X3AyX2NsaWVu
dCwgUlNUX0NUUkwyLAorCQkJICAgICAgIEFVWF9SU1QpOworCXJldCB8PSBhbng3NjI1X3dyaXRl
X2FuZChjdHgsIGN0eC0+aTJjLnR4X3AyX2NsaWVudCwgUlNUX0NUUkwyLAorCQkJCSB+QVVYX1JT
VCk7CisJcmV0dXJuIHJldDsKK30KKworc3RhdGljIGludCBzcF90eF9hdXhfd3Ioc3RydWN0IGFu
eDc2MjVfZGF0YSAqY3R4LCB1OCBvZmZzZXQpCit7CisJaW50IHJldDsKKworCXJldCA9IGFueDc2
MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LAorCQkJCUFQX0FVWF9CVUZG
X1NUQVJULCBvZmZzZXQpOworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJj
LnJ4X3AwX2NsaWVudCwKKwkJCQkgQVBfQVVYX0NPTU1BTkQsIDB4MDQpOworCXJldCB8PSBhbng3
NjI1X3dyaXRlX29yKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LAorCQkJCUFQX0FVWF9DVFJM
X1NUQVRVUywgQVBfQVVYX0NUUkxfT1BfRU4pOworCXJldHVybiAocmV0IHwgd2FpdF9hdXhfb3Bf
ZmluaXNoKGN0eCkpOworfQorCitzdGF0aWMgaW50IHNwX3R4X2F1eF9yZChzdHJ1Y3QgYW54NzYy
NV9kYXRhICpjdHgsIHU4IGxlbl9jbWQpCit7CisJaW50IHJldDsKKworCXJldCA9IGFueDc2MjVf
cmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LAorCQkJCUFQX0FVWF9DT01NQU5E
LCBsZW5fY21kKTsKKwlyZXQgfD0gYW54NzYyNV93cml0ZV9vcihjdHgsIGN0eC0+aTJjLnJ4X3Aw
X2NsaWVudCwKKwkJCQlBUF9BVVhfQ1RSTF9TVEFUVVMsIEFQX0FVWF9DVFJMX09QX0VOKTsKKwly
ZXR1cm4gKHJldCB8IHdhaXRfYXV4X29wX2ZpbmlzaChjdHgpKTsKK30KKworc3RhdGljIGludCBz
cF90eF9nZXRfZWRpZF9ibG9jayhzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJaW50IGMg
PSAwOworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZjdHgtPmNsaWVudC0+ZGV2OworCisJc3BfdHhf
YXV4X3dyKGN0eCwgMHg3ZSk7CisJc3BfdHhfYXV4X3JkKGN0eCwgMHgwMSk7CisJYyA9IGFueDc2
MjVfcmVnX3JlYWQoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsIEFQX0FVWF9CVUZGX1NUQVJU
KTsKKwlpZiAoYyA8IDApIHsKKwkJRFJNX0VSUk9SKCJJTyBlcnJvciA6IGFjY2VzcyBBVVggQlVG
Ri5cbiIpOworCQlyZXR1cm4gLUVJTzsKKwl9CisKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYs
ICIgRURJRCBCbG9jayA9ICVkXG4iLCBjICsgMSk7CisKKwlpZiAoYyA+IE1BWF9FRElEX0JMT0NL
KQorCQljID0gMTsKKworCXJldHVybiBjOworfQorCitzdGF0aWMgaW50IGVkaWRfcmVhZChzdHJ1
Y3QgYW54NzYyNV9kYXRhICpjdHgsCisJCSAgICAgdTggb2Zmc2V0LCB1OCAqcGJsb2NrX2J1ZikK
K3sKKwlpbnQgcmV0LCBjbnQ7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5k
ZXY7CisKKwlmb3IgKGNudCA9IDA7IGNudCA8PSBFRElEX1RSWV9DTlQ7IGNudCsrKSB7CisJCXNw
X3R4X2F1eF93cihjdHgsIG9mZnNldCk7CisJCS8qIHNldCBJMkMgcmVhZCBjb20gMHgwMSBtb3Qg
PSAwIGFuZCByZWFkIDE2IGJ5dGVzICovCisJCXJldCA9IHNwX3R4X2F1eF9yZChjdHgsIDB4ZjEp
OworCisJCWlmIChyZXQpIHsKKwkJCXNwX3R4X3JzdF9hdXgoY3R4KTsKKwkJCURSTV9ERVZfREVC
VUdfRFJJVkVSKGRldiwgImVkaWQgcmVhZCBmYWlsZWQsIHJlc2V0IVxuIik7CisJCX0gZWxzZSB7
CisJCQlyZXQgPSBhbng3NjI1X3JlZ19ibG9ja19yZWFkKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xp
ZW50LAorCQkJCQkJICAgICBBUF9BVVhfQlVGRl9TVEFSVCwKKwkJCQkJCSAgICAgTUFYX0RQQ0Rf
QlVGRkVSX1NJWkUsCisJCQkJCQkgICAgIHBibG9ja19idWYpOworCQkJaWYgKCFyZXQpCisJCQkJ
YnJlYWs7CisJCX0KKwl9CisKKwlpZiAoY250ID4gRURJRF9UUllfQ05UKQorCQlyZXR1cm4gLUVJ
TzsKKworCXJldHVybiAwOworfQorCitzdGF0aWMgaW50IHNlZ21lbnRzX2VkaWRfcmVhZChzdHJ1
Y3QgYW54NzYyNV9kYXRhICpjdHgsCisJCQkgICAgICB1OCBzZWdtZW50LCB1OCAqYnVmLCB1OCBv
ZmZzZXQpCit7CisJdTggY250OworCWludCByZXQ7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0
eC0+Y2xpZW50LT5kZXY7CisKKwkvKiB3cml0ZSBhZGRyZXNzIG9ubHkgKi8KKwlyZXQgPSBhbng3
NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQlBUF9BVVhfQURE
Ul83XzAsIDB4MzApOworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4
X3AwX2NsaWVudCwKKwkJCQkgQVBfQVVYX0NPTU1BTkQsIDB4MDQpOworCXJldCB8PSBhbng3NjI1
X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkgQVBfQVVYX0NUUkxf
U1RBVFVTLAorCQkJCSBBUF9BVVhfQ1RSTF9BRERST05MWSB8IEFQX0FVWF9DVFJMX09QX0VOKTsK
KworCXJldCB8PSB3YWl0X2F1eF9vcF9maW5pc2goY3R4KTsKKwkvKiB3cml0ZSBzZWdtZW50IGFk
ZHJlc3MgKi8KKwlyZXQgfD0gc3BfdHhfYXV4X3dyKGN0eCwgc2VnbWVudCk7CisJLyogZGF0YSBy
ZWFkICovCisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xp
ZW50LAorCQkJCSBBUF9BVVhfQUREUl83XzAsIDB4NTApOworCWlmIChyZXQpIHsKKwkJRFJNX0VS
Uk9SKCJJTyBlcnJvciA6IGF1eCBpbml0aWFsIGZhaWxlZC5cbiIpOworCQlyZXR1cm4gcmV0Owor
CX0KKworCWZvciAoY250ID0gMDsgY250IDw9IEVESURfVFJZX0NOVDsgY250KyspIHsKKwkJc3Bf
dHhfYXV4X3dyKGN0eCwgb2Zmc2V0KTsKKwkJLyogc2V0IEkyQyByZWFkIGNvbSAweDAxIG1vdCA9
IDAgYW5kIHJlYWQgMTYgYnl0ZXMgKi8KKwkJcmV0ID0gc3BfdHhfYXV4X3JkKGN0eCwgMHhmMSk7
CisKKwkJaWYgKHJldCkgeworCQkJcmV0ID0gc3BfdHhfcnN0X2F1eChjdHgpOworCQkJRFJNX0RF
Vl9FUlJPUihkZXYsICJzZWdtZW50IHJlYWQgZmFpbGVkLCByZXNldCFcbiIpOworCQl9IGVsc2Ug
eworCQkJcmV0ID0gYW54NzYyNV9yZWdfYmxvY2tfcmVhZChjdHgsIGN0eC0+aTJjLnJ4X3AwX2Ns
aWVudCwKKwkJCQkJCSAgICAgQVBfQVVYX0JVRkZfU1RBUlQsCisJCQkJCQkgICAgIE1BWF9EUENE
X0JVRkZFUl9TSVpFLCBidWYpOworCQkJaWYgKCFyZXQpCisJCQkJYnJlYWs7CisJCX0KKwl9CisK
KwlpZiAoY250ID4gRURJRF9UUllfQ05UKQorCQlyZXR1cm4gLUVJTzsKKworCXJldHVybiAwOwor
fQorCitzdGF0aWMgaW50IHNwX3R4X2VkaWRfcmVhZChzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgs
CisJCQkgICB1OCAqcGVkaWRfYmxvY2tzX2J1ZikKK3sKKwl1OCBvZmZzZXQsIGVkaWRfcG9zOwor
CWludCBjb3VudCwgYmxvY2tzX251bTsKKwl1OCBwYmxvY2tfYnVmW01BWF9EUENEX0JVRkZFUl9T
SVpFXTsKKwl1OCBpLCBqOworCXU4IGdfZWRpZF9icmVhayA9IDA7CisJaW50IHJldDsKKwlzdHJ1
Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKworCS8qIGFkZHJlc3MgaW5pdGlh
bCAqLworCXJldCA9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50
LAorCQkJCUFQX0FVWF9BRERSXzdfMCwgMHg1MCk7CisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRl
KGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LAorCQkJCSBBUF9BVVhfQUREUl8xNV84LCAwKTsK
KwlyZXQgfD0gYW54NzYyNV93cml0ZV9hbmQoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsCisJ
CQkJIEFQX0FVWF9BRERSXzE5XzE2LCAweGYwKTsKKwlpZiAocmV0IDwgMCkgeworCQlEUk1fRVJS
T1IoImFjY2VzcyBhdXggY2hhbm5lbCBJTyBlcnJvci5cbiIpOworCQlyZXR1cm4gLUVJTzsKKwl9
CisKKwlibG9ja3NfbnVtID0gc3BfdHhfZ2V0X2VkaWRfYmxvY2soY3R4KTsKKwlpZiAoYmxvY2tz
X251bSA8IDApCisJCXJldHVybiBibG9ja3NfbnVtOworCisJY291bnQgPSAwOworCisJZG8gewor
CQlzd2l0Y2ggKGNvdW50KSB7CisJCWNhc2UgMDoKKwkJY2FzZSAxOgorCQkJZm9yIChpID0gMDsg
aSA8IDg7IGkrKykgeworCQkJCW9mZnNldCA9IChpICsgY291bnQgKiA4KSAqIE1BWF9EUENEX0JV
RkZFUl9TSVpFOworCQkJCWdfZWRpZF9icmVhayA9IGVkaWRfcmVhZChjdHgsIG9mZnNldCwKKwkJ
CQkJCQkgcGJsb2NrX2J1Zik7CisKKwkJCQlpZiAoZ19lZGlkX2JyZWFrKQorCQkJCQlicmVhazsK
KworCQkJCW1lbWNweSgmcGVkaWRfYmxvY2tzX2J1ZltvZmZzZXRdLAorCQkJCSAgICAgICBwYmxv
Y2tfYnVmLAorCQkJCSAgICAgICBNQVhfRFBDRF9CVUZGRVJfU0laRSk7CisJCQl9CisKKwkJCWJy
ZWFrOworCQljYXNlIDI6CisJCQlvZmZzZXQgPSAweDAwOworCisJCQlmb3IgKGogPSAwOyBqIDwg
ODsgaisrKSB7CisJCQkJZWRpZF9wb3MgPSAoaiArIGNvdW50ICogOCkgKgorCQkJCQlNQVhfRFBD
RF9CVUZGRVJfU0laRTsKKworCQkJCWlmIChnX2VkaWRfYnJlYWsgPT0gMSkKKwkJCQkJYnJlYWs7
CisKKwkJCQlzZWdtZW50c19lZGlkX3JlYWQoY3R4LCBjb3VudCAvIDIsCisJCQkJCQkgICBwYmxv
Y2tfYnVmLCBvZmZzZXQpOworCQkJCW1lbWNweSgmcGVkaWRfYmxvY2tzX2J1ZltlZGlkX3Bvc10s
CisJCQkJICAgICAgIHBibG9ja19idWYsCisJCQkJICAgICAgIE1BWF9EUENEX0JVRkZFUl9TSVpF
KTsKKwkJCQlvZmZzZXQgPSBvZmZzZXQgKyAweDEwOworCQkJfQorCisJCQlicmVhazsKKwkJY2Fz
ZSAzOgorCQkJb2Zmc2V0ID0gMHg4MDsKKworCQkJZm9yIChqID0gMDsgaiA8IDg7IGorKykgewor
CQkJCWVkaWRfcG9zID0gKGogKyBjb3VudCAqIDgpICoKKwkJCQkJTUFYX0RQQ0RfQlVGRkVSX1NJ
WkU7CisJCQkJaWYgKGdfZWRpZF9icmVhayA9PSAxKQorCQkJCQlicmVhazsKKworCQkJCXNlZ21l
bnRzX2VkaWRfcmVhZChjdHgsIGNvdW50IC8gMiwKKwkJCQkJCSAgIHBibG9ja19idWYsIG9mZnNl
dCk7CisJCQkJbWVtY3B5KCZwZWRpZF9ibG9ja3NfYnVmW2VkaWRfcG9zXSwKKwkJCQkgICAgICAg
cGJsb2NrX2J1ZiwKKwkJCQkgICAgICAgTUFYX0RQQ0RfQlVGRkVSX1NJWkUpOworCQkJCW9mZnNl
dCA9IG9mZnNldCArIDB4MTA7CisJCQl9CisKKwkJCWJyZWFrOworCQlkZWZhdWx0OgorCQkJYnJl
YWs7CisJCX0KKworCQljb3VudCsrOworCisJfSB3aGlsZSAoYmxvY2tzX251bSA+PSBjb3VudCk7
CisKKwkvKiBjaGVjayBlZGlkIGRhdGEgKi8KKwlpZiAoIWRybV9lZGlkX2lzX3ZhbGlkKChzdHJ1
Y3QgZWRpZCAqKXBlZGlkX2Jsb2Nrc19idWYpKSB7CisJCURSTV9ERVZfRVJST1IoZGV2LCAiV0FS
TklORyEgZWRpZCBjaGVjayBmYWlsZWQhXG4iKTsKKwkJcmV0dXJuIC1FSU5WQUw7CisJfQorCisJ
LyogcmVzZXQgYXV4IGNoYW5uZWwgKi8KKwlzcF90eF9yc3RfYXV4KGN0eCk7CisKKwlyZXR1cm4g
KGJsb2Nrc19udW0gKyAxKTsKK30KKworc3RhdGljIHZvaWQgYW54NzYyNV9wb3dlcl9vbihzdHJ1
Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xp
ZW50LT5kZXY7CisKKwlpZiAoIWN0eC0+cGRhdGEubG93X3Bvd2VyX21vZGUpIHsKKwkJRFJNX0RF
Vl9ERUJVR19EUklWRVIoZGV2LCAiQW54NzYyNSBub3QgbG93IHBvd2VyIG1vZGUhXG4iKTsKKwkJ
cmV0dXJuOworCX0KKworCS8qIHBvd2VyIG9uIHBpbiBlbmFibGUgKi8KKwlncGlvZF9zZXRfdmFs
dWUoY3R4LT5wZGF0YS5ncGlvX3Bfb24sIDEpOworCXVzbGVlcF9yYW5nZSgxMDAwMCwgMTEwMDAp
OworCS8qIHBvd2VyIHJlc2V0IHBpbiBlbmFibGUgKi8KKwlncGlvZF9zZXRfdmFsdWUoY3R4LT5w
ZGF0YS5ncGlvX3Jlc2V0LCAxKTsKKwl1c2xlZXBfcmFuZ2UoMTAwMDAsIDExMDAwKTsKKworCURS
TV9ERVZfREVCVUdfRFJJVkVSKGRldiwgIkFueDc2MjUgcG93ZXIgb24gIVxuIik7Cit9CisKK3N0
YXRpYyB2b2lkIGFueDc2MjVfcG93ZXJfc3RhbmRieShzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgp
Cit7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7CisKKwlpZiAoIWN0
eC0+cGRhdGEubG93X3Bvd2VyX21vZGUpIHsKKwkJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAi
YW54NzYyNSBub3QgbG93IHBvd2VyIG1vZGUhXG4iKTsKKwkJcmV0dXJuOworCX0KKworCWdwaW9k
X3NldF92YWx1ZShjdHgtPnBkYXRhLmdwaW9fcmVzZXQsIDApOworCXVzbGVlcF9yYW5nZSgxMDAw
LCAxMTAwKTsKKwlncGlvZF9zZXRfdmFsdWUoY3R4LT5wZGF0YS5ncGlvX3Bfb24sIDApOworCXVz
bGVlcF9yYW5nZSgxMDAwLCAxMTAwKTsKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJhbng3
NjI1IHBvd2VyIGRvd25cbiIpOworfQorCisvKiBiYXNpYyBjb25maWd1cmF0aW9ucyBvZiBBTlg3
NjI1ICovCitzdGF0aWMgdm9pZCBhbng3NjI1X2NvbmZpZyhzdHJ1Y3QgYW54NzYyNV9kYXRhICpj
dHgpCit7CisJYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsCisJ
CQkgIFhUQUxfRlJRX1NFTCwgWFRBTF9GUlFfMjdNKTsKK30KKworc3RhdGljIHZvaWQgYW54NzYy
NV9kaXNhYmxlX3BkX3Byb3RvY29sKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCkKK3sKKwlzdHJ1
Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKwlpbnQgcmV0OworCisJLyogcmVz
ZXQgbWFpbiBvY20gKi8KKwlyZXQgPSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4
X3AwX2NsaWVudCwgMHg4OCwgMHg0MCk7CisJLyogRGlzYWJsZSBQRCAqLworCXJldCB8PSBhbng3
NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkgQVBfQVZfU1RB
VFVTLCBBUF9ESVNBQkxFX1BEKTsKKwkvKiByZWxlYXNlIG1haW4gb2NtICovCisJcmV0IHw9IGFu
eDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LCAweDg4LCAweDAwKTsK
KworCWlmIChyZXQgPCAwKQorCQlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJkaXNhYmxlIFBE
IGZlYXR1cmUgZmFpbGVkLlxuIik7CisJZWxzZQorCQlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYs
ICJkaXNhYmxlIFBEIGZlYXR1cmUgc3VjY2VlZGVkLlxuIik7Cit9CisKK3N0YXRpYyB2b2lkIGFu
eDc2MjVfcG93ZXJfb25faW5pdChzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJaW50IHJl
dHJ5X2NvdW50LCBpOworCWludCByZXQ7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xp
ZW50LT5kZXY7CisKKwlmb3IgKHJldHJ5X2NvdW50ID0gMDsgcmV0cnlfY291bnQgPCAzOyByZXRy
eV9jb3VudCsrKSB7CisJCWFueDc2MjVfcG93ZXJfb24oY3R4KTsKKwkJYW54NzYyNV9jb25maWco
Y3R4KTsKKworCQlmb3IgKGkgPSAwOyBpIDwgT0NNX0xPQURJTkdfVElNRTsgaSsrKSB7CisJCQkv
KiBjaGVjayBpbnRlcmZhY2Ugd29ya2FibGUgKi8KKwkJCXJldCA9IGFueDc2MjVfcmVnX3JlYWQo
Y3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsCisJCQkJCSAgICAgICBGTEFTSF9MT0FEX1NUQSk7
CisJCQlpZiAocmV0IDwgMCkgeworCQkJCURSTV9FUlJPUigiSU8gZXJyb3IgOiBhY2Nlc3MgZmxh
c2ggbG9hZC5cbiIpOworCQkJCXJldHVybjsKKwkJCX0KKwkJCWlmICgocmV0ICYgRkxBU0hfTE9B
RF9TVEFfQ0hLKSA9PSBGTEFTSF9MT0FEX1NUQV9DSEspIHsKKwkJCQlhbng3NjI1X2Rpc2FibGVf
cGRfcHJvdG9jb2woY3R4KTsKKwkJCQlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsCisJCQkJCQkg
ICAgICJGaXJtd2FyZSB2ZXIgJTAyeCUwMngsIiwKKwkJCQkJYW54NzYyNV9yZWdfcmVhZChjdHgs
CisJCQkJCQkJIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkJCQkgT0NNX0ZXX1ZFUlNJT04p
LAorCQkJCQlhbng3NjI1X3JlZ19yZWFkKGN0eCwKKwkJCQkJCQkgY3R4LT5pMmMucnhfcDBfY2xp
ZW50LAorCQkJCQkJCSBPQ01fRldfUkVWRVJTSU9OKSk7CisJCQkJRFJNX0RFVl9ERUJVR19EUklW
RVIoZGV2LCAiRHJpdmVyIHZlcnNpb24gJXNcbiIsCisJCQkJCQkgICAgIEFOWDc2MjVfRFJWX1ZF
UlNJT04pOworCisJCQkJcmV0dXJuOworCQkJfQorCQkJdXNsZWVwX3JhbmdlKDEwMDAsIDExMDAp
OworCQl9CisJCWFueDc2MjVfcG93ZXJfc3RhbmRieShjdHgpOworCX0KK30KKworc3RhdGljIGlu
dCBhbng3NjI1X2V4dGNvbl9ub3RpZmllcihzdHJ1Y3Qgbm90aWZpZXJfYmxvY2sgKm5iLAorCQkJ
CSAgIHVuc2lnbmVkIGxvbmcgZXZlbnQsIHZvaWQgKnB0cikKK3sKKwlzdHJ1Y3QgYW54NzYyNV9k
YXRhICpjdHggPQorCQljb250YWluZXJfb2YobmIsIHN0cnVjdCBhbng3NjI1X2RhdGEsIGV2ZW50
X25iKTsKKworCXNjaGVkdWxlX3dvcmsoJmN0eC0+ZXh0Y29uX3dxKTsKKwlyZXR1cm4gTk9USUZZ
X0RPTkU7Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfY2hpcF9jb250cm9sKHN0cnVjdCBhbng3
NjI1X2RhdGEgKmN0eCwgaW50IHN0YXRlKQoreworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZjdHgt
PmNsaWVudC0+ZGV2OworCisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiYmVmb3JlIHNldCwg
cG93ZXJfc3RhdGUoJWQpLlxuIiwKKwkJCSAgICAgYXRvbWljX3JlYWQoJmN0eC0+cG93ZXJfc3Rh
dHVzKSk7CisKKwlpZiAoIWN0eC0+cGRhdGEubG93X3Bvd2VyX21vZGUpCisJCXJldHVybjsKKwor
CWlmIChzdGF0ZSkgeworCQlhdG9taWNfaW5jKCZjdHgtPnBvd2VyX3N0YXR1cyk7CisJCWlmIChh
dG9taWNfcmVhZCgmY3R4LT5wb3dlcl9zdGF0dXMpID09IDEpCisJCQlhbng3NjI1X3Bvd2VyX29u
X2luaXQoY3R4KTsKKwl9IGVsc2UgeworCQlpZiAoYXRvbWljX3JlYWQoJmN0eC0+cG93ZXJfc3Rh
dHVzKSkgeworCQkJYXRvbWljX2RlYygmY3R4LT5wb3dlcl9zdGF0dXMpOworCisJCQlpZiAoYXRv
bWljX3JlYWQoJmN0eC0+cG93ZXJfc3RhdHVzKSA9PSAwKQorCQkJCWFueDc2MjVfcG93ZXJfc3Rh
bmRieShjdHgpOworCQl9CisJfQorCisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiYWZ0ZXIg
c2V0LCBwb3dlcl9zdGF0ZSglZCkuXG4iLAorCQkJICAgICBhdG9taWNfcmVhZCgmY3R4LT5wb3dl
cl9zdGF0dXMpKTsKK30KKworc3RhdGljIHZvaWQgYW54NzYyNV9leHRjb25fd29yayhzdHJ1Y3Qg
d29ya19zdHJ1Y3QgKndvcmspCit7CisJc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4ID0KKwkJY29u
dGFpbmVyX29mKHdvcmssIHN0cnVjdCBhbng3NjI1X2RhdGEsIGV4dGNvbl93cSk7CisJaW50IHN0
YXRlID0gZXh0Y29uX2dldF9zdGF0ZShjdHgtPmV4dGNvbiwgRVhUQ09OX0RJU1BfRFApOworCisJ
bXV0ZXhfbG9jaygmY3R4LT5sb2NrKTsKKwlhbng3NjI1X2NoaXBfY29udHJvbChjdHgsIHN0YXRl
KTsKKwltdXRleF91bmxvY2soJmN0eC0+bG9jayk7Cit9CisKK3N0YXRpYyBpbnQgYW54NzYyNV9l
eHRjb25fbm90aWZpZXJfaW5pdChzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJaW50IHJl
dDsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKworCWN0eC0+ZXZl
bnRfbmIubm90aWZpZXJfY2FsbCA9IGFueDc2MjVfZXh0Y29uX25vdGlmaWVyOworCUlOSVRfV09S
SygmY3R4LT5leHRjb25fd3EsIGFueDc2MjVfZXh0Y29uX3dvcmspOworCXJldCA9IGRldm1fZXh0
Y29uX3JlZ2lzdGVyX25vdGlmaWVyKCZjdHgtPmNsaWVudC0+ZGV2LCBjdHgtPmV4dGNvbiwKKwkJ
CQkJICAgIEVYVENPTl9ESVNQX0RQLCAmY3R4LT5ldmVudF9uYik7CisJaWYgKHJldCkgeworCQlE
Uk1fREVWX0VSUk9SKGRldiwgImZhaWxlZCB0byByZWdpc3RlciBub3RpZmllciBmb3IgRFAiKTsK
KwkJcmV0dXJuIHJldDsKKwl9CisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVf
aW5pdF9ncGlvKHN0cnVjdCBhbng3NjI1X2RhdGEgKnBsYXRmb3JtKQoreworCXN0cnVjdCBkZXZp
Y2UgKmRldiA9ICZwbGF0Zm9ybS0+Y2xpZW50LT5kZXY7CisKKwlEUk1fREVWX0RFQlVHX0RSSVZF
UihkZXYsICJhbng3NjI1IGluaXQgZ3Bpb1xuIik7CisKKwkvKiBncGlvIGZvciBjaGlwIHBvd2Vy
IGVuYWJsZSAqLworCXBsYXRmb3JtLT5wZGF0YS5ncGlvX3Bfb24gPQorCQlkZXZtX2dwaW9kX2dl
dF9vcHRpb25hbChkZXYsICJlbmFibGUiLCBHUElPRF9PVVRfTE9XKTsKKwkvKiBncGlvIGZvciBj
aGlwIHJlc2V0ICovCisJcGxhdGZvcm0tPnBkYXRhLmdwaW9fcmVzZXQgPQorCQlkZXZtX2dwaW9k
X2dldF9vcHRpb25hbChkZXYsICJyZXNldCIsIEdQSU9EX09VVF9MT1cpOworCisJaWYgKHBsYXRm
b3JtLT5wZGF0YS5ncGlvX3Bfb24gJiYgcGxhdGZvcm0tPnBkYXRhLmdwaW9fcmVzZXQpIHsKKwkJ
cGxhdGZvcm0tPnBkYXRhLmxvd19wb3dlcl9tb2RlID0gMTsKKwkJRFJNX0RFVl9ERUJVR19EUklW
RVIoZGV2LCAibG93IHBvd2VyIG1vZGUsIHBvbiAlZCwgcmVzZXQgJWQuXG4iLAorCQkJCSAgICAg
ZGVzY190b19ncGlvKHBsYXRmb3JtLT5wZGF0YS5ncGlvX3Bfb24pLAorCQkJCSAgICAgZGVzY190
b19ncGlvKHBsYXRmb3JtLT5wZGF0YS5ncGlvX3Jlc2V0KSk7CisJfSBlbHNlIHsKKwkJcGxhdGZv
cm0tPnBkYXRhLmxvd19wb3dlcl9tb2RlID0gMDsKKwkJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2
LCAibm90IGxvdyBwb3dlciBtb2RlLlxuIik7CisJfQorfQorCitzdGF0aWMgdm9pZCBhbng3NjI1
X3N0b3BfZHBfd29yayhzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJY3R4LT5ocGRfc3Rh
dHVzID0gMDsKKwljdHgtPmhwZF9oaWdoX2NudCA9IDA7CisJY3R4LT5kaXNwbGF5X3RpbWluZ192
YWxpZCA9IDA7CisKKwljdHgtPnNsaW1wb3J0X2VkaWRfcC5lZGlkX2Jsb2NrX251bSA9IC0xOwor
CisJaWYgKGN0eC0+cGRhdGEubG93X3Bvd2VyX21vZGUgPT0gMCkKKwkJYW54NzYyNV9kaXNhYmxl
X3BkX3Byb3RvY29sKGN0eCk7Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfc3RhcnRfZHBfd29y
ayhzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJaW50IHJldDsKKwlzdHJ1Y3QgZGV2aWNl
ICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKworCWlmIChjdHgtPmhwZF9oaWdoX2NudCA+PSAy
KSB7CisJCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImFueDc2MjUgZmlsdGVyIHVzZWxlc3Mg
SFBEXG4iKTsKKwkJcmV0dXJuOworCX0KKworCWN0eC0+aHBkX2hpZ2hfY250Kys7CisKKwkvKiBu
b3Qgc3VwcG9ydCBIRENQICovCisJcmV0ID0gYW54NzYyNV93cml0ZV9hbmQoY3R4LCBjdHgtPmky
Yy5yeF9wMV9jbGllbnQsIDB4ZWUsIDB4OWYpOworCisJLyogdHJ5IGF1dGggZmxhZyAqLworCXJl
dCB8PSBhbng3NjI1X3dyaXRlX29yKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LCAweGVjLCAw
eDEwKTsKKwkvKiBpbnRlcnJ1cHQgZm9yIERSTSAqLworCXJldCB8PSBhbng3NjI1X3dyaXRlX29y
KGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LCAweGZmLCAweDAxKTsKKwlpZiAocmV0IDwgMCkK
KwkJcmV0dXJuOworCisJcmV0ID0gYW54NzYyNV9yZWdfcmVhZChjdHgsIGN0eC0+aTJjLnJ4X3Ax
X2NsaWVudCwgMHg4Nik7CisJaWYgKHJldCA8IDApCisJCXJldHVybjsKKworCURSTV9ERVZfREVC
VUdfRFJJVkVSKGRldiwgIlNlY3VyZSBPQ00gdmVyc2lvbj0lMDJ4XG4iLCByZXQpOworfQorCitz
dGF0aWMgaW50IGFueDc2MjVfcmVhZF9ocGRfc3RhdHVzX3AwKHN0cnVjdCBhbng3NjI1X2RhdGEg
KmN0eCkKK3sKKwlyZXR1cm4gYW54NzYyNV9yZWdfcmVhZChjdHgsIGN0eC0+aTJjLnJ4X3AwX2Ns
aWVudCwgU1lTVEVNX1NUU1RVUyk7Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfaHBkX3BvbGxp
bmcoc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4KQoreworCWludCByZXQsIHZhbDsKKwlzdHJ1Y3Qg
ZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKworCWlmIChhdG9taWNfcmVhZCgmY3R4
LT5wb3dlcl9zdGF0dXMpICE9IDEpIHsKKwkJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiTm8g
bmVlZCB0byBwb2xpbmcgSFBEIHN0YXR1cy5cbiIpOworCQlyZXR1cm47CisJfQorCisJcmV0ID0g
cmVhZHhfcG9sbF90aW1lb3V0KGFueDc2MjVfcmVhZF9ocGRfc3RhdHVzX3AwLAorCQkJCSBjdHgs
IHZhbCwKKwkJCQkgKCh2YWwgJiBIUERfU1RBVFVTKSB8fCAodmFsIDwgMCkpLAorCQkJCSA1MDAw
LAorCQkJCSA1MDAwICogMTAwKTsKKwlpZiAocmV0KSB7CisJCURSTV9ERVZfRVJST1IoZGV2LCAi
SFBEIHBvbGxpbmcgdGltZW91dCFcbiIpOworCX0gZWxzZSB7CisJCURSTV9ERVZfREVCVUdfRFJJ
VkVSKGRldiwgIkhQRCByYWlzZSB1cC5cbiIpOworCQlhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0
eC0+aTJjLnRjcGNfY2xpZW50LAorCQkJCSAgSU5UUl9BTEVSVF8xLCAweEZGKTsKKwkJYW54NzYy
NV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsCisJCQkJICBJTlRFUkZBQ0Vf
Q0hBTkdFX0lOVCwgMCk7CisJfQorCisJYW54NzYyNV9zdGFydF9kcF93b3JrKGN0eCk7Cit9CisK
K3N0YXRpYyB2b2lkIGFueDc2MjVfZGlzY29ubmVjdF9jaGVjayhzdHJ1Y3QgYW54NzYyNV9kYXRh
ICpjdHgpCit7CisJaWYgKGF0b21pY19yZWFkKCZjdHgtPnBvd2VyX3N0YXR1cykgPT0gMCkKKwkJ
YW54NzYyNV9zdG9wX2RwX3dvcmsoY3R4KTsKK30KKworc3RhdGljIHZvaWQgYW54NzYyNV9sb3df
cG93ZXJfbW9kZV9jaGVjayhzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgsCisJCQkJCSBpbnQgc3Rh
dGUpCit7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7CisKKwlEUk1f
REVWX0RFQlVHX0RSSVZFUihkZXYsICJsb3cgcG93ZXIgbW9kZSBjaGVjaywgc3RhdGUoJWQpLlxu
Iiwgc3RhdGUpOworCisJaWYgKGN0eC0+cGRhdGEubG93X3Bvd2VyX21vZGUpIHsKKwkJYW54NzYy
NV9jaGlwX2NvbnRyb2woY3R4LCBzdGF0ZSk7CisJCWlmIChzdGF0ZSkKKwkJCWFueDc2MjVfaHBk
X3BvbGxpbmcoY3R4KTsKKwkJZWxzZQorCQkJYW54NzYyNV9kaXNjb25uZWN0X2NoZWNrKGN0eCk7
CisJfQorfQorCitzdGF0aWMgdm9pZCBkcF9ocGRfY2hhbmdlX2hhbmRsZXIoc3RydWN0IGFueDc2
MjVfZGF0YSAqY3R4LCBib29sIG9uKQoreworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZjdHgtPmNs
aWVudC0+ZGV2OworCisJLyogaHBkIGNoYW5nZWQgKi8KKwlEUk1fREVWX0RFQlVHX0RSSVZFUihk
ZXYsICJkcF9ocGRfY2hhbmdlX2RlZmF1bHRfZnVuYzogJWRcbiIsCisJCQkgICAgICh1MzIpb24p
OworCisJaWYgKG9uID09IDApIHsKKwkJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiIEhQRCBs
b3dcbiIpOworCQlhbng3NjI1X3N0b3BfZHBfd29yayhjdHgpOworCX0gZWxzZSB7CisJCURSTV9E
RVZfREVCVUdfRFJJVkVSKGRldiwgIiBIUEQgaGlnaFxuIik7CisJCWFueDc2MjVfc3RhcnRfZHBf
d29yayhjdHgpOworCX0KKworCWN0eC0+aHBkX3N0YXR1cyA9IDE7Cit9CisKK3N0YXRpYyBpbnQg
YW54NzYyNV9ocGRfY2hhbmdlX2RldGVjdChzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJ
aW50IGludHJfdmVjdG9yLCBzdGF0dXM7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xp
ZW50LT5kZXY7CisKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJwb3dlcl9zdGF0dXM9JWRc
biIsCisJCQkgICAgICh1MzIpYXRvbWljX3JlYWQoJmN0eC0+cG93ZXJfc3RhdHVzKSk7CisKKwlz
dGF0dXMgPSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnRjcGNfY2xpZW50LAorCQkJ
CSAgIElOVFJfQUxFUlRfMSwgMHhGRik7CisJaWYgKHN0YXR1cyA8IDApIHsKKwkJRFJNX0VSUk9S
KCJJTyBlcnJvciA6IGNsZWFyIGFsZXJ0IHJlZ2lzdGVyLlxuIik7CisJCXJldHVybiBzdGF0dXM7
CisJfQorCisJaW50cl92ZWN0b3IgPSBhbng3NjI1X3JlZ19yZWFkKGN0eCwgY3R4LT5pMmMucnhf
cDBfY2xpZW50LAorCQkJCSAgICAgICBJTlRFUkZBQ0VfQ0hBTkdFX0lOVCk7CisJaWYgKGludHJf
dmVjdG9yIDwgMCkgeworCQlEUk1fRVJST1IoIklPIGVycm9yIDogYWNjZXNzIGludGVycnVwdCBj
aGFuZ2UgcmVnaXN0ZXIuXG4iKTsKKwkJcmV0dXJuIGludHJfdmVjdG9yOworCX0KKwlEUk1fREVW
X0RFQlVHX0RSSVZFUihkZXYsICIweDdlOjB4NDQ9JXhcbiIsIGludHJfdmVjdG9yKTsKKwlzdGF0
dXMgPSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkg
ICBJTlRFUkZBQ0VfQ0hBTkdFX0lOVCwKKwkJCQkgICBpbnRyX3ZlY3RvciAmICh+aW50cl92ZWN0
b3IpKTsKKwlpZiAoc3RhdHVzIDwgMCkgeworCQlEUk1fRVJST1IoIklPIGVycm9yIDogY2xlYXIg
aW50ZXJydXB0IGNoYW5nZSByZWdpc3Rlci5cbiIpOworCQlyZXR1cm4gc3RhdHVzOworCX0KKwor
CWlmICghKGludHJfdmVjdG9yICYgSFBEX1NUQVRVU19DSEFOR0UpKQorCQlyZXR1cm4gLUVOT0VO
VDsKKworCXN0YXR1cyA9IGFueDc2MjVfcmVnX3JlYWQoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGll
bnQsCisJCQkJICBTWVNURU1fU1RTVFVTKTsKKwlpZiAoc3RhdHVzIDwgMCkgeworCQlEUk1fRVJS
T1IoIklPIGVycm9yIDogY2xlYXIgaW50ZXJydXB0IHN0YXR1cy5cbiIpOworCQlyZXR1cm4gc3Rh
dHVzOworCX0KKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgIjB4N2U6MHg0NT0leFxuIiwg
c3RhdHVzKTsKKwlkcF9ocGRfY2hhbmdlX2hhbmRsZXIoY3R4LCBzdGF0dXMgJiBIUERfU1RBVFVT
KTsKKworCXJldHVybiAwOworfQorCitzdGF0aWMgdm9pZCBhbng3NjI1X3dvcmtfZnVuYyhzdHJ1
Y3Qgd29ya19zdHJ1Y3QgKndvcmspCit7CisJaW50IGV2ZW50OworCXN0cnVjdCBhbng3NjI1X2Rh
dGEgKmN0eCA9IGNvbnRhaW5lcl9vZih3b3JrLAorCQkJCQkJc3RydWN0IGFueDc2MjVfZGF0YSwg
d29yayk7CisKKwltdXRleF9sb2NrKCZjdHgtPmxvY2spOworCWV2ZW50ID0gYW54NzYyNV9ocGRf
Y2hhbmdlX2RldGVjdChjdHgpOworCW11dGV4X3VubG9jaygmY3R4LT5sb2NrKTsKKworCWlmIChl
dmVudCA8IDApCisJCXJldHVybjsKKworCWlmIChjdHgtPmJyaWRnZV9hdHRhY2hlZCkKKwkJZHJt
X2hlbHBlcl9ocGRfaXJxX2V2ZW50KGN0eC0+Y29ubmVjdG9yLmRldik7Cit9CisKK3N0YXRpYyBp
cnFyZXR1cm5fdCBhbng3NjI1X2ludHJfaHBkX2lzcihpbnQgaXJxLCB2b2lkICpkYXRhKQorewor
CXN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCA9IChzdHJ1Y3QgYW54NzYyNV9kYXRhICopZGF0YTsK
KworCWlmIChhdG9taWNfcmVhZCgmY3R4LT5wb3dlcl9zdGF0dXMpICE9IDEpCisJCXJldHVybiBJ
UlFfTk9ORTsKKworCXF1ZXVlX3dvcmsoY3R4LT53b3JrcXVldWUsICZjdHgtPndvcmspOworCisJ
cmV0dXJuIElSUV9IQU5ETEVEOworfQorCisjaWZkZWYgQ09ORklHX09GCitzdGF0aWMgaW50IGFu
eDc2MjVfcGFyc2VfZHQoc3RydWN0IGRldmljZSAqZGV2LAorCQkJICAgIHN0cnVjdCBhbng3NjI1
X3BsYXRmb3JtX2RhdGEgKnBkYXRhKQoreworCXN0cnVjdCBkZXZpY2Vfbm9kZSAqbnAgPSBkZXYt
Pm9mX25vZGU7CisJc3RydWN0IGRldmljZV9ub2RlICpwYW5lbF9ub2RlLCAqb3V0X2VwOworCisJ
b2ZfcHJvcGVydHlfcmVhZF91MzIoZGV2LT5vZl9ub2RlLCAicGFuZWxfZmxhZ3MiLAorCQkJICAg
ICAmcGRhdGEtPnBhbmVsX2ZsYWdzKTsKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJwYW5l
bF9mbGFncyA6ICVkXG4iLCBwZGF0YS0+cGFuZWxfZmxhZ3MpOworCisJaWYgKHBkYXRhLT5wYW5l
bF9mbGFncyA9PSAxKQorCQlwZGF0YS0+aW50ZXJuYWxfcGFuZWwgPSAxOworCWVsc2UgaWYgKHBk
YXRhLT5wYW5lbF9mbGFncyA9PSAyKQorCQlwZGF0YS0+ZXh0Y29uX3N1cHBvcnRlZCA9IDE7CisJ
RFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiJXMgc3VwcG9ydCBleHRjb24sICVzIGludGVybmFs
IHBhbmVsXG4iLAorCQkJICAgICBwZGF0YS0+ZXh0Y29uX3N1cHBvcnRlZCA/ICIiIDogIm5vdCIs
CisJCQkgICAgIHBkYXRhLT5pbnRlcm5hbF9wYW5lbCA/ICJoYXMiIDogIm5vIik7CisKKwlwZGF0
YS0+bm9kZS5taXBpX2RzaV9ob3N0X25vZGUgPSBvZl9ncmFwaF9nZXRfcmVtb3RlX25vZGUobnAs
IDAsIDApOworCWlmIChwZGF0YS0+bm9kZS5taXBpX2RzaV9ob3N0X25vZGUpIHsKKwkJb2Zfbm9k
ZV9wdXQocGRhdGEtPm5vZGUubWlwaV9kc2lfaG9zdF9ub2RlKTsKKwkJcGRhdGEtPmRzaV9zdXBw
b3J0ZWQgPSAxOworCQlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJmb3VuZCBkc2kgaG9zdCBu
b2RlLlxuIik7CisJfSBlbHNlIHsKKwkJcGRhdGEtPm5vZGUubWlwaV9kcGlfaG9zdF9ub2RlID0K
KwkJCW9mX2dyYXBoX2dldF9yZW1vdGVfbm9kZShucCwgMSwgMCk7CisKKwkJaWYgKHBkYXRhLT5u
b2RlLm1pcGlfZHBpX2hvc3Rfbm9kZSkgeworCQkJb2Zfbm9kZV9wdXQocGRhdGEtPm5vZGUubWlw
aV9kcGlfaG9zdF9ub2RlKTsKKwkJCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImZvdW5kIGRw
aSBob3N0IG5vZGUuXG4iKTsKKwkJfQorCX0KKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwg
ImRzaV9zdXBwb3J0ZWQgOiAlZFxuIiwgcGRhdGEtPmRzaV9zdXBwb3J0ZWQpOworCisJcGRhdGEt
Pm5vZGUucGFuZWxfbm9kZSA9IG9mX2dyYXBoX2dldF9wb3J0X2J5X2lkKG5wLCAyKTsKKwlpZiAo
cGRhdGEtPm5vZGUucGFuZWxfbm9kZSkgeworCQlvZl9ub2RlX3B1dChwZGF0YS0+bm9kZS5wYW5l
bF9ub2RlKTsKKwkJb3V0X2VwID0gb2ZfZ2V0X2NoaWxkX2J5X25hbWUocGRhdGEtPm5vZGUucGFu
ZWxfbm9kZSwKKwkJCQkJICAgICAgImVuZHBvaW50Iik7CisJCWlmICghb3V0X2VwKSB7CisJCQlE
Uk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJjYW5ub3QgZ2V0IGVuZHBvaW50LlxuIik7CisJCQly
ZXR1cm4gLUVQUk9CRV9ERUZFUjsKKwkJfQorCisJCXBhbmVsX25vZGUgPSBvZl9ncmFwaF9nZXRf
cmVtb3RlX3BvcnRfcGFyZW50KG91dF9lcCk7CisJCW9mX25vZGVfcHV0KG91dF9lcCk7CisKKwkJ
cGRhdGEtPnBhbmVsID0gb2ZfZHJtX2ZpbmRfcGFuZWwocGFuZWxfbm9kZSk7CisJCURSTV9ERVZf
REVCVUdfRFJJVkVSKGRldiwgImdldCBwYW5lbCBub2RlLlxuIik7CisJCW9mX25vZGVfcHV0KHBh
bmVsX25vZGUpOworCQlpZiAoSVNfRVJSX09SX05VTEwocGRhdGEtPnBhbmVsKSkKKwkJCXJldHVy
biAtRVBST0JFX0RFRkVSOworCX0gZWxzZSB7CisJCWlmIChwZGF0YS0+aW50ZXJuYWxfcGFuZWwp
IHsKKwkJCURSTV9FUlJPUigiZmFpbGVkIHRvIGdldCBpbnRlcm5hbCBwYW5lbC5cbiIpOworCQkJ
cmV0dXJuIC1FUFJPQkVfREVGRVI7CisJCX0KKwl9CisKKwlyZXR1cm4gMDsKK30KKyNlbHNlCitz
dGF0aWMgaW50IGFueDc2MjVfcGFyc2VfZHQoc3RydWN0IGRldmljZSAqZGV2LAorCQkJICAgIHN0
cnVjdCBhbng3NjI1X3BsYXRmb3JtX2RhdGEgKnBkYXRhKQoreworCXJldHVybiAtRU5PREVWOwor
fQorI2VuZGlmCisKK3N0YXRpYyBpbmxpbmUgc3RydWN0IGFueDc2MjVfZGF0YSAqY29ubmVjdG9y
X3RvX2FueDc2MjUoc3RydWN0IGRybV9jb25uZWN0b3IgKmMpCit7CisJcmV0dXJuIGNvbnRhaW5l
cl9vZihjLCBzdHJ1Y3QgYW54NzYyNV9kYXRhLCBjb25uZWN0b3IpOworfQorCitzdGF0aWMgaW5s
aW5lIHN0cnVjdCBhbng3NjI1X2RhdGEgKmJyaWRnZV90b19hbng3NjI1KHN0cnVjdCBkcm1fYnJp
ZGdlICpicmlkZ2UpCit7CisJcmV0dXJuIGNvbnRhaW5lcl9vZihicmlkZ2UsIHN0cnVjdCBhbng3
NjI1X2RhdGEsIGJyaWRnZSk7Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfcG9zdF9kaXNhYmxl
KHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UpCit7CisJc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4
ID0gYnJpZGdlX3RvX2FueDc2MjUoYnJpZGdlKTsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4
LT5jbGllbnQtPmRldjsKKwlpbnQgcmV0OworCisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAi
cG9zdCBkaXNhYmxlXG4iKTsKKworCWlmICghY3R4LT5wZGF0YS5wYW5lbCkKKwkJcmV0dXJuOwor
CisJcmV0ID0gZHJtX3BhbmVsX3VucHJlcGFyZShjdHgtPnBkYXRhLnBhbmVsKTsKKwlpZiAocmV0
KQorCQlEUk1fRVJST1IoImZhaWxlZCB0byB1bnByZXBhcmUgcGFuZWw6ICVkXG4iLCByZXQpOwor
CWVsc2UKKwkJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiYmFja2xpZ2h0IHVucHJlcGFyZWQu
XG4iKTsKKworCWF0b21pY19zZXQoJmN0eC0+cGFuZWxfcG93ZXIsIDApOworfQorCitzdGF0aWMg
dm9pZCBhbng3NjI1X3ByZV9lbmFibGUoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSkKK3sKKwlz
dHJ1Y3QgYW54NzYyNV9kYXRhICpjdHggPSBicmlkZ2VfdG9fYW54NzYyNShicmlkZ2UpOworCXN0
cnVjdCBkZXZpY2UgKmRldiA9ICZjdHgtPmNsaWVudC0+ZGV2OworCWludCByZXQ7CisKKwlEUk1f
REVWX0RFQlVHX0RSSVZFUihkZXYsICJwcmUgZW5hYmxlXG4iKTsKKworCWlmICghY3R4LT5wZGF0
YS5wYW5lbCkKKwkJcmV0dXJuOworCisJcmV0ID0gZHJtX3BhbmVsX3ByZXBhcmUoY3R4LT5wZGF0
YS5wYW5lbCk7CisJaWYgKHJldCA8IDApCisJCURSTV9FUlJPUigiZmFpbGVkIHRvIHByZXBhcmUg
cGFuZWw6ICVkXG4iLCByZXQpOworCWVsc2UKKwkJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAi
YmFja2xpZ2h0IHByZXBhcmVkLlxuIik7CisJYXRvbWljX3NldCgmY3R4LT5wYW5lbF9wb3dlciwg
MSk7Cit9CisKK3N0YXRpYyBpbnQgYW54NzYyNV9nZXRfbW9kZXMoc3RydWN0IGRybV9jb25uZWN0
b3IgKmNvbm5lY3RvcikKK3sKKwlzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHggPSBjb25uZWN0b3Jf
dG9fYW54NzYyNShjb25uZWN0b3IpOworCWludCBlcnIsIG51bV9tb2RlcyA9IDA7CisJaW50IHR1
cm5fb2ZmX2ZsYWcgPSAwOworCXN0cnVjdCBzX2VkaWRfZGF0YSAqcF9lZGlkID0gJmN0eC0+c2xp
bXBvcnRfZWRpZF9wOworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZjdHgtPmNsaWVudC0+ZGV2Owor
CisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiZHJtIGdldCBtb2Rlc1xuIik7CisKKwlpZiAo
Y3R4LT5zbGltcG9ydF9lZGlkX3AuZWRpZF9ibG9ja19udW0gPiAwKQorCQlnb3RvIG91dDsKKwor
CW11dGV4X2xvY2soJmN0eC0+bG9jayk7CisKKwlpZiAoY3R4LT5wZGF0YS5wYW5lbCAmJiBhdG9t
aWNfcmVhZCgmY3R4LT5wYW5lbF9wb3dlcikgPT0gMCkgeworCQl0dXJuX29mZl9mbGFnID0gMTsK
KwkJYW54NzYyNV9wcmVfZW5hYmxlKCZjdHgtPmJyaWRnZSk7CisJfQorCisJYW54NzYyNV9sb3df
cG93ZXJfbW9kZV9jaGVjayhjdHgsIDEpOworCisJcF9lZGlkLT5lZGlkX2Jsb2NrX251bSA9IHNw
X3R4X2VkaWRfcmVhZChjdHgsIHBfZWRpZC0+ZWRpZF9yYXdfZGF0YSk7CisKKwllcnIgPSAtRUlP
OworCWlmIChwX2VkaWQtPmVkaWRfYmxvY2tfbnVtIDwgMCkgeworCQlEUk1fRVJST1IoIkZhaWxl
ZCB0byByZWFkIEVESUQuXG4iKTsKKwkJZ290byBmYWlsOworCX0KKworCWVyciA9IGRybV9jb25u
ZWN0b3JfdXBkYXRlX2VkaWRfcHJvcGVydHkoY29ubmVjdG9yLAorCQkJCQkJIChzdHJ1Y3QgZWRp
ZCAqKQorCQkJCQkJICZwX2VkaWQtPmVkaWRfcmF3X2RhdGEpOworCisJaWYgKGVycikKKwkJRFJN
X0VSUk9SKCJGYWlsZWQgdG8gdXBkYXRlIEVESUQgcHJvcGVydHk6ICVkXG4iLCBlcnIpOworCitm
YWlsOgorCW11dGV4X3VubG9jaygmY3R4LT5sb2NrKTsKKwlhbng3NjI1X2xvd19wb3dlcl9tb2Rl
X2NoZWNrKGN0eCwgMCk7CisJaWYgKGN0eC0+cGRhdGEucGFuZWwgJiYgdHVybl9vZmZfZmxhZyA9
PSAxKQorCQlhbng3NjI1X3Bvc3RfZGlzYWJsZSgmY3R4LT5icmlkZ2UpOworCisJaWYgKGVycikK
KwkJcmV0dXJuIGVycjsKKworb3V0OgorCW51bV9tb2RlcyA9IGRybV9hZGRfZWRpZF9tb2Rlcyhj
b25uZWN0b3IsCisJCQkJICAgICAgIChzdHJ1Y3QgZWRpZCAqKSZwX2VkaWQtPmVkaWRfcmF3X2Rh
dGEpOworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgIm51bV9tb2RlcyglZClcbiIsIG51bV9t
b2Rlcyk7CisKKwlyZXR1cm4gbnVtX21vZGVzOworfQorCitzdGF0aWMgZW51bSBkcm1fbW9kZV9z
dGF0dXMKK2FueDc2MjVfY29ubmVjdG9yX21vZGVfdmFsaWQoc3RydWN0IGRybV9jb25uZWN0b3Ig
KmNvbm5lY3RvciwKKwkJCSAgICAgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGUpCit7CisJ
c3RydWN0IGFueDc2MjVfZGF0YSAqY3R4ID0gY29ubmVjdG9yX3RvX2FueDc2MjUoY29ubmVjdG9y
KTsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKworCURSTV9ERVZf
REVCVUdfRFJJVkVSKGRldiwgImRybSBtb2RlcyB2YWxpZCB2ZXJpZnlcbiIpOworCisJaWYgKG1v
ZGUtPmNsb2NrID4gU1VQUE9SVF9QSVhFTF9DTE9DSykKKwkJcmV0dXJuIE1PREVfQ0xPQ0tfSElH
SDsKKworCXJldHVybiBNT0RFX09LOworfQorCitzdGF0aWMgc3RydWN0IGRybV9jb25uZWN0b3Jf
aGVscGVyX2Z1bmNzIGFueDc2MjVfY29ubmVjdG9yX2hlbHBlcl9mdW5jcyA9IHsKKwkuZ2V0X21v
ZGVzID0gYW54NzYyNV9nZXRfbW9kZXMsCisJLm1vZGVfdmFsaWQgPSBhbng3NjI1X2Nvbm5lY3Rv
cl9tb2RlX3ZhbGlkLAorfTsKKworc3RhdGljIGVudW0gZHJtX2Nvbm5lY3Rvcl9zdGF0dXMgYW54
NzYyNV9kZXRlY3Qoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciwKKwkJCQkJCWJvb2wg
Zm9yY2UpCit7CisJc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4ID0gY29ubmVjdG9yX3RvX2FueDc2
MjUoY29ubmVjdG9yKTsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsK
KworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImRybSBkZXRlY3RcbiIpOworCisJaWYgKGN0
eC0+cGRhdGEuaW50ZXJuYWxfcGFuZWwpCisJCXJldHVybiBjb25uZWN0b3Jfc3RhdHVzX2Nvbm5l
Y3RlZDsKKworCWlmICghY3R4LT5ocGRfc3RhdHVzKQorCQlyZXR1cm4gY29ubmVjdG9yX3N0YXR1
c19kaXNjb25uZWN0ZWQ7CisKKwlyZXR1cm4gY29ubmVjdG9yX3N0YXR1c19jb25uZWN0ZWQ7Cit9
CisKK3N0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9mdW5jcyBhbng3NjI1X2Nvbm5l
Y3Rvcl9mdW5jcyA9IHsKKwkuZmlsbF9tb2RlcyA9IGRybV9oZWxwZXJfcHJvYmVfc2luZ2xlX2Nv
bm5lY3Rvcl9tb2RlcywKKwkuZGV0ZWN0ID0gYW54NzYyNV9kZXRlY3QsCisJLmRlc3Ryb3kgPSBk
cm1fY29ubmVjdG9yX2NsZWFudXAsCisJLnJlc2V0ID0gZHJtX2F0b21pY19oZWxwZXJfY29ubmVj
dG9yX3Jlc2V0LAorCS5hdG9taWNfZHVwbGljYXRlX3N0YXRlID0gZHJtX2F0b21pY19oZWxwZXJf
Y29ubmVjdG9yX2R1cGxpY2F0ZV9zdGF0ZSwKKwkuYXRvbWljX2Rlc3Ryb3lfc3RhdGUgPSBkcm1f
YXRvbWljX2hlbHBlcl9jb25uZWN0b3JfZGVzdHJveV9zdGF0ZSwKK307CisKK3N0YXRpYyBpbnQg
YW54NzYyNV9hdHRhY2hfZHNpKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCkKK3sKKwlzdHJ1Y3Qg
bWlwaV9kc2lfaG9zdCAqaG9zdDsKKwlzdHJ1Y3QgbWlwaV9kc2lfZGV2aWNlICpkc2k7CisJc3Ry
dWN0IGRldmljZV9ub2RlICptaXBpX2hvc3Rfbm9kZTsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAm
Y3R4LT5jbGllbnQtPmRldjsKKwljb25zdCBzdHJ1Y3QgbWlwaV9kc2lfZGV2aWNlX2luZm8gaW5m
byA9IHsKKwkJLnR5cGUgPSAiYW54NzYyNSIsCisJCS5jaGFubmVsID0gMCwKKwkJLm5vZGUgPSBO
VUxMLAorCX07CisKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJhdHRhY2ggZHNpXG4iKTsK
KworCWlmIChjdHgtPnBkYXRhLmRzaV9zdXBwb3J0ZWQpCisJCW1pcGlfaG9zdF9ub2RlID0gY3R4
LT5wZGF0YS5ub2RlLm1pcGlfZHNpX2hvc3Rfbm9kZTsKKwllbHNlCisJCW1pcGlfaG9zdF9ub2Rl
ID0gY3R4LT5wZGF0YS5ub2RlLm1pcGlfZHBpX2hvc3Rfbm9kZTsKKworCWlmICghbWlwaV9ob3N0
X25vZGUpIHsKKwkJRFJNX0VSUk9SKCJkc2kgaG9zdCBpcyBub3QgY29uZmlndXJlZC5cbiIpOwor
CQlyZXR1cm4gLUVJTlZBTDsKKwl9CisKKwlob3N0ID0gb2ZfZmluZF9taXBpX2RzaV9ob3N0X2J5
X25vZGUobWlwaV9ob3N0X25vZGUpOworCWlmICghaG9zdCkgeworCQlEUk1fRVJST1IoImZhaWxl
ZCB0byBmaW5kIGRzaSBob3N0LlxuIik7CisJCXJldHVybiAtRUlOVkFMOworCX0KKworCWRzaSA9
IG1pcGlfZHNpX2RldmljZV9yZWdpc3Rlcl9mdWxsKGhvc3QsICZpbmZvKTsKKwlpZiAoSVNfRVJS
KGRzaSkpIHsKKwkJRFJNX0VSUk9SKCJmYWlsZWQgdG8gY3JlYXRlIGRzaSBkZXZpY2UuXG4iKTsK
KwkJcmV0dXJuIC1FSU5WQUw7CisJfQorCisJZHNpLT5sYW5lcyA9IDQ7CisJZHNpLT5mb3JtYXQg
PSBNSVBJX0RTSV9GTVRfUkdCODg4OworCWRzaS0+bW9kZV9mbGFncyA9IE1JUElfRFNJX01PREVf
VklERU8JfAorCQlNSVBJX0RTSV9NT0RFX1ZJREVPX1NZTkNfUFVMU0UJfAorCQlNSVBJX0RTSV9N
T0RFX0VPVF9QQUNLRVQJfAorCQlNSVBJX0RTSV9NT0RFX1ZJREVPX0hTRTsKKworCWlmIChtaXBp
X2RzaV9hdHRhY2goZHNpKSA8IDApIHsKKwkJRFJNX0VSUk9SKCJmYWlsZWQgdG8gYXR0YWNoIGRz
aSB0byBob3N0LlxuIik7CisJCW1pcGlfZHNpX2RldmljZV91bnJlZ2lzdGVyKGRzaSk7CisJCXJl
dHVybiAtRUlOVkFMOworCX0KKworCWN0eC0+ZHNpID0gZHNpOworCisJRFJNX0RFVl9ERUJVR19E
UklWRVIoZGV2LCAiYXR0YWNoIGRzaSBzdWNjZWVkZWQuXG4iKTsKKworCXJldHVybiAwOworfQor
CitzdGF0aWMgdm9pZCBhbng3NjI1X2JyaWRnZV9kZXRhY2goc3RydWN0IGRybV9icmlkZ2UgKmJy
aWRnZSkKK3sKKwlzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHggPSBicmlkZ2VfdG9fYW54NzYyNShi
cmlkZ2UpOworCisJaWYgKGN0eC0+ZHNpKSB7CisJCW1pcGlfZHNpX2RldGFjaChjdHgtPmRzaSk7
CisJCW1pcGlfZHNpX2RldmljZV91bnJlZ2lzdGVyKGN0eC0+ZHNpKTsKKwl9CisKKwlpZiAoY3R4
LT5icmlkZ2VfYXR0YWNoZWQpCisJCWRybV9jb25uZWN0b3JfdW5yZWdpc3RlcigmY3R4LT5jb25u
ZWN0b3IpOworfQorCitzdGF0aWMgaW50IGFueDc2MjVfYnJpZGdlX2F0dGFjaChzdHJ1Y3QgZHJt
X2JyaWRnZSAqYnJpZGdlKQoreworCXN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCA9IGJyaWRnZV90
b19hbng3NjI1KGJyaWRnZSk7CisJaW50IGVycjsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4
LT5jbGllbnQtPmRldjsKKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImRybSBhdHRhY2hc
biIpOworCWlmICghYnJpZGdlLT5lbmNvZGVyKSB7CisJCURSTV9FUlJPUigiUGFyZW50IGVuY29k
ZXIgb2JqZWN0IG5vdCBmb3VuZCIpOworCQlyZXR1cm4gLUVOT0RFVjsKKwl9CisKKwllcnIgPSBk
cm1fY29ubmVjdG9yX2luaXQoYnJpZGdlLT5kZXYsICZjdHgtPmNvbm5lY3RvciwKKwkJCQkgJmFu
eDc2MjVfY29ubmVjdG9yX2Z1bmNzLAorCQkJCSBEUk1fTU9ERV9DT05ORUNUT1JfRGlzcGxheVBv
cnQpOworCWlmIChlcnIpIHsKKwkJRFJNX0VSUk9SKCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBjb25u
ZWN0b3I6ICVkXG4iLCBlcnIpOworCQlyZXR1cm4gZXJyOworCX0KKworCWRybV9jb25uZWN0b3Jf
aGVscGVyX2FkZCgmY3R4LT5jb25uZWN0b3IsCisJCQkJICZhbng3NjI1X2Nvbm5lY3Rvcl9oZWxw
ZXJfZnVuY3MpOworCisJZXJyID0gZHJtX2Nvbm5lY3Rvcl9yZWdpc3RlcigmY3R4LT5jb25uZWN0
b3IpOworCWlmIChlcnIpIHsKKwkJRFJNX0VSUk9SKCJGYWlsZWQgdG8gcmVnaXN0ZXIgY29ubmVj
dG9yOiAlZFxuIiwgZXJyKTsKKwkJcmV0dXJuIGVycjsKKwl9CisKKwljdHgtPmNvbm5lY3Rvci5w
b2xsZWQgPSBEUk1fQ09OTkVDVE9SX1BPTExfSFBEOworCisJZXJyID0gZHJtX2Nvbm5lY3Rvcl9h
dHRhY2hfZW5jb2RlcigmY3R4LT5jb25uZWN0b3IsIGJyaWRnZS0+ZW5jb2Rlcik7CisJaWYgKGVy
cikgeworCQlEUk1fRVJST1IoIkZhaWxlZCB0byBsaW5rIHVwIGNvbm5lY3RvciB0byBlbmNvZGVy
OiAlZFxuIiwgZXJyKTsKKwkJZHJtX2Nvbm5lY3Rvcl91bnJlZ2lzdGVyKCZjdHgtPmNvbm5lY3Rv
cik7CisJCXJldHVybiBlcnI7CisJfQorCisJZXJyID0gYW54NzYyNV9hdHRhY2hfZHNpKGN0eCk7
CisJaWYgKGVycikgeworCQlEUk1fRVJST1IoIkZhaWxlZCB0byBhdHRhY2ggdG8gZHNpIDogJWRc
biIsIGVycik7CisJCWRybV9jb25uZWN0b3JfdW5yZWdpc3RlcigmY3R4LT5jb25uZWN0b3IpOwor
CQlyZXR1cm4gZXJyOworCX0KKworCWN0eC0+YnJpZGdlX2F0dGFjaGVkID0gMTsKKworCXJldHVy
biAwOworfQorCitzdGF0aWMgZW51bSBkcm1fbW9kZV9zdGF0dXMKK2FueDc2MjVfYnJpZGdlX21v
ZGVfdmFsaWQoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSwKKwkJCSAgY29uc3Qgc3RydWN0IGRy
bV9kaXNwbGF5X21vZGUgKm1vZGUpCit7CisJc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4ID0gYnJp
ZGdlX3RvX2FueDc2MjUoYnJpZGdlKTsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGll
bnQtPmRldjsKKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImRybSBtb2RlIGNoZWNraW5n
XG4iKTsKKworCS8qIE1heCAxMjAwcCBhdCA1LjQgR2h6LCBvbmUgbGFuZSwgcGl4ZWwgY2xvY2sg
MzAwTSAqLworCWlmIChtb2RlLT5jbG9jayA+IFNVUFBPUlRfUElYRUxfQ0xPQ0spIHsKKwkJRFJN
X0RFVl9ERUJVR19EUklWRVIoZGV2LAorCQkJCSAgICAgImRybSBtb2RlIGludmFsaWQsIHBpeGVs
Y2xvY2sgdG9vIGhpZ2guXG4iKTsKKwkJcmV0dXJuIE1PREVfQ0xPQ0tfSElHSDsKKwl9CisKKwlE
Uk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJkcm0gbW9kZSB2YWxpZC5cbiIpOworCisJcmV0dXJu
IE1PREVfT0s7Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfYnJpZGdlX21vZGVfc2V0KHN0cnVj
dCBkcm1fYnJpZGdlICpicmlkZ2UsCisJCQkJICAgIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9t
b2RlICpvbGRfbW9kZSwKKwkJCQkgICAgY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1v
ZGUpCit7CisJc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4ID0gYnJpZGdlX3RvX2FueDc2MjUoYnJp
ZGdlKTsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKworCURSTV9E
RVZfREVCVUdfRFJJVkVSKGRldiwgImRybSBtb2RlIHNldFxuIik7CisKKwltdXRleF9sb2NrKCZj
dHgtPmxvY2spOworCisJY3R4LT5kdC5waXhlbGNsb2NrLm1pbiA9IG1vZGUtPmNsb2NrOworCWN0
eC0+ZHQuaGFjdGl2ZS5taW4gPSBtb2RlLT5oZGlzcGxheTsKKwljdHgtPmR0LmhzeW5jX2xlbi5t
aW4gPSBtb2RlLT5oc3luY19lbmQgLSBtb2RlLT5oc3luY19zdGFydDsKKwljdHgtPmR0Lmhmcm9u
dF9wb3JjaC5taW4gPSBtb2RlLT5oc3luY19zdGFydCAtIG1vZGUtPmhkaXNwbGF5OworCWN0eC0+
ZHQuaGJhY2tfcG9yY2gubWluID0gbW9kZS0+aHRvdGFsIC0gbW9kZS0+aHN5bmNfZW5kOworCWN0
eC0+ZHQudmFjdGl2ZS5taW4gPSBtb2RlLT52ZGlzcGxheTsKKwljdHgtPmR0LnZzeW5jX2xlbi5t
aW4gPSBtb2RlLT52c3luY19lbmQgLSBtb2RlLT52c3luY19zdGFydDsKKwljdHgtPmR0LnZmcm9u
dF9wb3JjaC5taW4gPSBtb2RlLT52c3luY19zdGFydCAtIG1vZGUtPnZkaXNwbGF5OworCWN0eC0+
ZHQudmJhY2tfcG9yY2gubWluID0gbW9kZS0+dnRvdGFsIC0gbW9kZS0+dnN5bmNfZW5kOworCisJ
Y3R4LT5kaXNwbGF5X3RpbWluZ192YWxpZCA9IDE7CisKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihk
ZXYsICJwaXhlbGNsb2NrKCVkKS5cbiIsIGN0eC0+ZHQucGl4ZWxjbG9jay5taW4pOworCURSTV9E
RVZfREVCVUdfRFJJVkVSKGRldiwgImhhY3RpdmUoJWQpLCBoc3luYyglZCksIGhmcCglZCksIGhi
cCglZClcbiIsCisJCQkgICAgIGN0eC0+ZHQuaGFjdGl2ZS5taW4sCisJCQkgICAgIGN0eC0+ZHQu
aHN5bmNfbGVuLm1pbiwKKwkJCSAgICAgY3R4LT5kdC5oZnJvbnRfcG9yY2gubWluLAorCQkJICAg
ICBjdHgtPmR0LmhiYWNrX3BvcmNoLm1pbik7CisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAi
dmFjdGl2ZSglZCksIHZzeW5jKCVkKSwgdmZwKCVkKSwgdmJwKCVkKVxuIiwKKwkJCSAgICAgY3R4
LT5kdC52YWN0aXZlLm1pbiwKKwkJCSAgICAgY3R4LT5kdC52c3luY19sZW4ubWluLAorCQkJICAg
ICBjdHgtPmR0LnZmcm9udF9wb3JjaC5taW4sCisJCQkgICAgIGN0eC0+ZHQudmJhY2tfcG9yY2gu
bWluKTsKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJoZGlzcGxheSglZCksaHN5bmNfc3Rh
cnQoJWQpLlxuIiwKKwkJCSAgICAgbW9kZS0+aGRpc3BsYXksCisJCQkgICAgIG1vZGUtPmhzeW5j
X3N0YXJ0KTsKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJoc3luY19lbmQoJWQpLGh0b3Rh
bCglZCkuXG4iLAorCQkJICAgICBtb2RlLT5oc3luY19lbmQsCisJCQkgICAgIG1vZGUtPmh0b3Rh
bCk7CisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAidmRpc3BsYXkoJWQpLHZzeW5jX3N0YXJ0
KCVkKS5cbiIsCisJCQkgICAgIG1vZGUtPnZkaXNwbGF5LAorCQkJICAgICBtb2RlLT52c3luY19z
dGFydCk7CisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAidnN5bmNfZW5kKCVkKSx2dG90YWwo
JWQpLlxuIiwKKwkJCSAgICAgbW9kZS0+dnN5bmNfZW5kLAorCQkJICAgICBtb2RlLT52dG90YWwp
OworCisJbXV0ZXhfdW5sb2NrKCZjdHgtPmxvY2spOworfQorCitzdGF0aWMgdm9pZCBhbng3NjI1
X2JyaWRnZV9lbmFibGUoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSkKK3sKKwlzdHJ1Y3QgYW54
NzYyNV9kYXRhICpjdHggPSBicmlkZ2VfdG9fYW54NzYyNShicmlkZ2UpOworCXN0cnVjdCBkZXZp
Y2UgKmRldiA9ICZjdHgtPmNsaWVudC0+ZGV2OworCWludCByZXQ7CisKKwlEUk1fREVWX0RFQlVH
X0RSSVZFUihkZXYsICJkcm0gZW5hYmxlXG4iKTsKKworCWFueDc2MjVfbG93X3Bvd2VyX21vZGVf
Y2hlY2soY3R4LCAxKTsKKworCWlmIChXQVJOX09OKCFhdG9taWNfcmVhZCgmY3R4LT5wb3dlcl9z
dGF0dXMpKSkKKwkJcmV0dXJuOworCisJaWYgKGN0eC0+cGRhdGEucGFuZWwpIHsKKwkJcmV0ID0g
ZHJtX3BhbmVsX2VuYWJsZShjdHgtPnBkYXRhLnBhbmVsKTsKKwkJaWYgKHJldCA8IDApIHsKKwkJ
CURSTV9FUlJPUigiZmFpbGVkIHRvIGVuYWJsZSBwYW5lbDogJWQuXG4iLCByZXQpOworCQkJcmV0
dXJuOworCQl9CisJfQorCisJbXV0ZXhfbG9jaygmY3R4LT5sb2NrKTsKKwlhbng3NjI1X2RwX3N0
YXJ0KGN0eCk7CisJbXV0ZXhfdW5sb2NrKCZjdHgtPmxvY2spOworfQorCitzdGF0aWMgdm9pZCBh
bng3NjI1X2JyaWRnZV9kaXNhYmxlKHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UpCit7CisJc3Ry
dWN0IGFueDc2MjVfZGF0YSAqY3R4ID0gYnJpZGdlX3RvX2FueDc2MjUoYnJpZGdlKTsKKwlzdHJ1
Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKwlpbnQgcmV0OworCisJaWYgKFdB
Uk5fT04oIWF0b21pY19yZWFkKCZjdHgtPnBvd2VyX3N0YXR1cykpKQorCQlyZXR1cm47CisKKwlE
Uk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJkcm0gZGlzYWJsZVxuIik7CisKKwlpZiAoY3R4LT5w
ZGF0YS5wYW5lbCkgeworCQlyZXQgPSBkcm1fcGFuZWxfZGlzYWJsZShjdHgtPnBkYXRhLnBhbmVs
KTsKKwkJaWYgKHJldCA8IDApCisJCQlEUk1fRVJST1IoImZhaWxlZCB0byBkaXNhYmxlIHBhbmVs
OiAlZC5cbiIsIHJldCk7CisJfQorCisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiZHJtIGRp
c2FibGVcbiIpOworCW11dGV4X2xvY2soJmN0eC0+bG9jayk7CisKKwlhbng3NjI1X2RwX3N0b3Ao
Y3R4KTsKKworCWFueDc2MjVfbG93X3Bvd2VyX21vZGVfY2hlY2soY3R4LCAwKTsKKworCW11dGV4
X3VubG9jaygmY3R4LT5sb2NrKTsKK30KKworc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fYnJpZGdl
X2Z1bmNzIGFueDc2MjVfYnJpZGdlX2Z1bmNzID0geworCS5hdHRhY2ggPSBhbng3NjI1X2JyaWRn
ZV9hdHRhY2gsCisJLmRldGFjaCA9IGFueDc2MjVfYnJpZGdlX2RldGFjaCwKKwkuZGlzYWJsZSA9
IGFueDc2MjVfYnJpZGdlX2Rpc2FibGUsCisJLnBvc3RfZGlzYWJsZSA9IGFueDc2MjVfcG9zdF9k
aXNhYmxlLAorCS5wcmVfZW5hYmxlID0gYW54NzYyNV9wcmVfZW5hYmxlLAorCS5tb2RlX3ZhbGlk
ID0gYW54NzYyNV9icmlkZ2VfbW9kZV92YWxpZCwKKwkubW9kZV9zZXQgPSBhbng3NjI1X2JyaWRn
ZV9tb2RlX3NldCwKKwkuZW5hYmxlID0gYW54NzYyNV9icmlkZ2VfZW5hYmxlLAorfTsKKworc3Rh
dGljIGludCBhbng3NjI1X3JlZ2lzdGVyX2kyY19kdW1teV9jbGllbnRzKHN0cnVjdCBhbng3NjI1
X2RhdGEgKmN0eCwKKwkJCQkJICAgICAgc3RydWN0IGkyY19jbGllbnQgKmNsaWVudCkKK3sKKwlj
dHgtPmkyYy50eF9wMF9jbGllbnQgPSBpMmNfbmV3X2R1bW15KGNsaWVudC0+YWRhcHRlciwKKwkJ
CQkJICAgICAgVFhfUDBfQUREUiA+PiAxKTsKKwlpZiAoIWN0eC0+aTJjLnR4X3AwX2NsaWVudCkK
KwkJcmV0dXJuIC1FTk9NRU07CisKKwljdHgtPmkyYy50eF9wMV9jbGllbnQgPSBpMmNfbmV3X2R1
bW15KGNsaWVudC0+YWRhcHRlciwKKwkJCQkJICAgICAgVFhfUDFfQUREUiA+PiAxKTsKKwlpZiAo
IWN0eC0+aTJjLnR4X3AxX2NsaWVudCkKKwkJZ290byBmcmVlX3R4X3AwOworCisJY3R4LT5pMmMu
dHhfcDJfY2xpZW50ID0gaTJjX25ld19kdW1teShjbGllbnQtPmFkYXB0ZXIsCisJCQkJCSAgICAg
IFRYX1AyX0FERFIgPj4gMSk7CisJaWYgKCFjdHgtPmkyYy50eF9wMl9jbGllbnQpCisJCWdvdG8g
ZnJlZV90eF9wMTsKKworCWN0eC0+aTJjLnJ4X3AwX2NsaWVudCA9IGkyY19uZXdfZHVtbXkoY2xp
ZW50LT5hZGFwdGVyLAorCQkJCQkgICAgICBSWF9QMF9BRERSID4+IDEpOworCWlmICghY3R4LT5p
MmMucnhfcDBfY2xpZW50KQorCQlnb3RvIGZyZWVfdHhfcDI7CisKKwljdHgtPmkyYy5yeF9wMV9j
bGllbnQgPSBpMmNfbmV3X2R1bW15KGNsaWVudC0+YWRhcHRlciwKKwkJCQkJICAgICAgUlhfUDFf
QUREUiA+PiAxKTsKKwlpZiAoIWN0eC0+aTJjLnJ4X3AxX2NsaWVudCkKKwkJZ290byBmcmVlX3J4
X3AwOworCisJY3R4LT5pMmMucnhfcDJfY2xpZW50ID0gaTJjX25ld19kdW1teShjbGllbnQtPmFk
YXB0ZXIsCisJCQkJCSAgICAgIFJYX1AyX0FERFIgPj4gMSk7CisJaWYgKCFjdHgtPmkyYy5yeF9w
Ml9jbGllbnQpCisJCWdvdG8gZnJlZV9yeF9wMTsKKworCWN0eC0+aTJjLnRjcGNfY2xpZW50ID0g
aTJjX25ld19kdW1teShjbGllbnQtPmFkYXB0ZXIsCisJCQkJCSAgICAgVENQQ19JTlRFUkZBQ0Vf
QUREUiA+PiAxKTsKKwlpZiAoIWN0eC0+aTJjLnRjcGNfY2xpZW50KQorCQlnb3RvIGZyZWVfcnhf
cDI7CisKKwlyZXR1cm4gMDsKKworZnJlZV9yeF9wMjoKKwlpMmNfdW5yZWdpc3Rlcl9kZXZpY2Uo
Y3R4LT5pMmMucnhfcDJfY2xpZW50KTsKK2ZyZWVfcnhfcDE6CisJaTJjX3VucmVnaXN0ZXJfZGV2
aWNlKGN0eC0+aTJjLnJ4X3AxX2NsaWVudCk7CitmcmVlX3J4X3AwOgorCWkyY191bnJlZ2lzdGVy
X2RldmljZShjdHgtPmkyYy5yeF9wMF9jbGllbnQpOworZnJlZV90eF9wMjoKKwlpMmNfdW5yZWdp
c3Rlcl9kZXZpY2UoY3R4LT5pMmMudHhfcDJfY2xpZW50KTsKK2ZyZWVfdHhfcDE6CisJaTJjX3Vu
cmVnaXN0ZXJfZGV2aWNlKGN0eC0+aTJjLnR4X3AxX2NsaWVudCk7CitmcmVlX3R4X3AwOgorCWky
Y191bnJlZ2lzdGVyX2RldmljZShjdHgtPmkyYy50eF9wMF9jbGllbnQpOworCisJcmV0dXJuIC1F
Tk9NRU07Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfdW5yZWdpc3Rlcl9pMmNfZHVtbXlfY2xp
ZW50cyhzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJaTJjX3VucmVnaXN0ZXJfZGV2aWNl
KGN0eC0+aTJjLnR4X3AwX2NsaWVudCk7CisJaTJjX3VucmVnaXN0ZXJfZGV2aWNlKGN0eC0+aTJj
LnR4X3AxX2NsaWVudCk7CisJaTJjX3VucmVnaXN0ZXJfZGV2aWNlKGN0eC0+aTJjLnR4X3AyX2Ns
aWVudCk7CisJaTJjX3VucmVnaXN0ZXJfZGV2aWNlKGN0eC0+aTJjLnJ4X3AwX2NsaWVudCk7CisJ
aTJjX3VucmVnaXN0ZXJfZGV2aWNlKGN0eC0+aTJjLnJ4X3AxX2NsaWVudCk7CisJaTJjX3VucmVn
aXN0ZXJfZGV2aWNlKGN0eC0+aTJjLnJ4X3AyX2NsaWVudCk7CisJaTJjX3VucmVnaXN0ZXJfZGV2
aWNlKGN0eC0+aTJjLnRjcGNfY2xpZW50KTsKK30KKworc3RhdGljIGludCBhbng3NjI1X2kyY19w
cm9iZShzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50LAorCQkJICAgICBjb25zdCBzdHJ1Y3QgaTJj
X2RldmljZV9pZCAqaWQpCit7CisJc3RydWN0IGFueDc2MjVfZGF0YSAqcGxhdGZvcm07CisJc3Ry
dWN0IGFueDc2MjVfcGxhdGZvcm1fZGF0YSAqcGRhdGE7CisJaW50IHJldCA9IDA7CisJc3RydWN0
IGRldmljZSAqZGV2ID0gJmNsaWVudC0+ZGV2OworCisJaWYgKCFpMmNfY2hlY2tfZnVuY3Rpb25h
bGl0eShjbGllbnQtPmFkYXB0ZXIsCisJCQkJICAgICBJMkNfRlVOQ19TTUJVU19JMkNfQkxPQ0sp
KSB7CisJCURSTV9ERVZfRVJST1IoZGV2LCAiYW54NzYyNSdzIGkyYyBidXMgZG9lc24ndCBzdXBw
b3J0XG4iKTsKKwkJcmV0dXJuIC1FTk9ERVY7CisJfQorCisJcGxhdGZvcm0gPSBremFsbG9jKHNp
emVvZigqcGxhdGZvcm0pLCBHRlBfS0VSTkVMKTsKKwlpZiAoIXBsYXRmb3JtKSB7CisJCURSTV9E
RVZfRVJST1IoZGV2LCAiZmFpbGVkIHRvIGFsbG9jYXRlIGRyaXZlciBkYXRhXG4iKTsKKwkJcmV0
dXJuIC1FTk9NRU07CisJfQorCisJcGRhdGEgPSAmcGxhdGZvcm0tPnBkYXRhOworCisJcmV0ID0g
YW54NzYyNV9wYXJzZV9kdChkZXYsIHBkYXRhKTsKKwlpZiAocmV0KSB7CisJCURSTV9ERVZfRVJS
T1IoZGV2LCAiZmFpbGVkIHRvIHBhcnNlIGRldmljZXRyZWUuXG4iKTsKKwkJZ290byBmcmVlX3Bs
YXRmb3JtOworCX0KKworCWFueDc2MjVfaW5pdF9ncGlvKHBsYXRmb3JtKTsKKworCS8qIHRvIGFj
Y2VzcyBnbG9iYWwgcGxhdGZvcm0gZGF0YSAqLworCXBsYXRmb3JtLT5jbGllbnQgPSBjbGllbnQ7
CisJaTJjX3NldF9jbGllbnRkYXRhKGNsaWVudCwgcGxhdGZvcm0pOworCisJaWYgKHBsYXRmb3Jt
LT5wZGF0YS5leHRjb25fc3VwcG9ydGVkKSB7CisJCS8qIGdldCBleHRjb24gZGV2aWNlIGZyb20g
RFRTICovCisJCXJldCA9IC1FSU5WQUw7CisJCXBsYXRmb3JtLT5leHRjb24gPSBleHRjb25fZ2V0
X2VkZXZfYnlfcGhhbmRsZShkZXYsIDApOworCQlpZiAoUFRSX0VSUihwbGF0Zm9ybS0+ZXh0Y29u
KSA9PSAtRVBST0JFX0RFRkVSKQorCQkJZ290byBmcmVlX3BsYXRmb3JtOworCisJCWlmIChJU19F
UlIocGxhdGZvcm0tPmV4dGNvbikpIHsKKwkJCURSTV9ERVZfRVJST1IoZGV2LAorCQkJCSAgICAg
ICJjYW4gbm90IGdldCBleHRjb24gZGV2aWNlISIpOworCQkJZ290byBmcmVlX3BsYXRmb3JtOwor
CQl9CisKKwkJcmV0ID0gYW54NzYyNV9leHRjb25fbm90aWZpZXJfaW5pdChwbGF0Zm9ybSk7CisJ
CWlmIChyZXQpCisJCQlnb3RvIGZyZWVfcGxhdGZvcm07CisJfQorCisJYXRvbWljX3NldCgmcGxh
dGZvcm0tPnBvd2VyX3N0YXR1cywgMCk7CisKKwltdXRleF9pbml0KCZwbGF0Zm9ybS0+bG9jayk7
CisKKwlwbGF0Zm9ybS0+cGRhdGEuaW50cF9pcnEgPSBjbGllbnQtPmlycTsKKwlpZiAocGxhdGZv
cm0tPnBkYXRhLmludHBfaXJxKSB7CisJCUlOSVRfV09SSygmcGxhdGZvcm0tPndvcmssIGFueDc2
MjVfd29ya19mdW5jKTsKKwkJcGxhdGZvcm0tPndvcmtxdWV1ZSA9IGNyZWF0ZV93b3JrcXVldWUo
ImFueDc2MjVfd29yayIpOworCQlpZiAoIXBsYXRmb3JtLT53b3JrcXVldWUpIHsKKwkJCURSTV9E
RVZfRVJST1IoZGV2LCAiZmFpbGVkIHRvIGNyZWF0ZSB3b3JrIHF1ZXVlXG4iKTsKKwkJCXJldCA9
IC1FTk9NRU07CisJCQlnb3RvIGZyZWVfcGxhdGZvcm07CisJCX0KKworCQlyZXQgPSBkZXZtX3Jl
cXVlc3RfdGhyZWFkZWRfaXJxKGRldiwgcGxhdGZvcm0tPnBkYXRhLmludHBfaXJxLAorCQkJCQkJ
TlVMTCwgYW54NzYyNV9pbnRyX2hwZF9pc3IsCisJCQkJCQlJUlFGX1RSSUdHRVJfRkFMTElORyB8
CisJCQkJCQlJUlFGX09ORVNIT1QsCisJCQkJCQkiYW54NzYyNS1pbnRwIiwgcGxhdGZvcm0pOwor
CQlpZiAocmV0KSB7CisJCQlEUk1fREVWX0VSUk9SKGRldiwgImZhaWxlZCB0byByZXF1ZXN0IGly
cVxuIik7CisJCQlnb3RvIGZyZWVfd3E7CisJCX0KKwl9CisKKwlpZiAoYW54NzYyNV9yZWdpc3Rl
cl9pMmNfZHVtbXlfY2xpZW50cyhwbGF0Zm9ybSwgY2xpZW50KSAhPSAwKSB7CisJCXJldCA9IC1F
Tk9NRU07CisJCURSTV9FUlJPUigiRmFpbGVkIHRvIHJlc2VydmUgSTJDIGJ1cy5cbiIpOworCQln
b3RvIGZyZWVfd3E7CisJfQorCisJaWYgKHBsYXRmb3JtLT5wZGF0YS5sb3dfcG93ZXJfbW9kZSA9
PSAwKSB7CisJCWFueDc2MjVfZGlzYWJsZV9wZF9wcm90b2NvbChwbGF0Zm9ybSk7CisJCWF0b21p
Y19zZXQoJnBsYXRmb3JtLT5wb3dlcl9zdGF0dXMsIDEpOworCX0KKworCS8qIGFkZCB3b3JrIGZ1
bmN0aW9uICovCisJaWYgKHBsYXRmb3JtLT5wZGF0YS5pbnRwX2lycSkKKwkJcXVldWVfd29yayhw
bGF0Zm9ybS0+d29ya3F1ZXVlLCAmcGxhdGZvcm0tPndvcmspOworCisJcGxhdGZvcm0tPmJyaWRn
ZS5mdW5jcyA9ICZhbng3NjI1X2JyaWRnZV9mdW5jczsKKwlpZiAoSVNfRU5BQkxFRChDT05GSUdf
T0YpKQorCQlwbGF0Zm9ybS0+YnJpZGdlLm9mX25vZGUgPSBjbGllbnQtPmRldi5vZl9ub2RlOwor
CWRybV9icmlkZ2VfYWRkKCZwbGF0Zm9ybS0+YnJpZGdlKTsKKworCURSTV9ERVZfREVCVUdfRFJJ
VkVSKGRldiwgInByb2JlIGRvbmVcbiIpOworCisJcmV0dXJuIDA7CisKK2ZyZWVfd3E6CisJaWYg
KHBsYXRmb3JtLT53b3JrcXVldWUpCisJCWRlc3Ryb3lfd29ya3F1ZXVlKHBsYXRmb3JtLT53b3Jr
cXVldWUpOworCitmcmVlX3BsYXRmb3JtOgorCWtmcmVlKHBsYXRmb3JtKTsKKworCXJldHVybiBy
ZXQ7Cit9CisKK3N0YXRpYyBpbnQgYW54NzYyNV9pMmNfcmVtb3ZlKHN0cnVjdCBpMmNfY2xpZW50
ICpjbGllbnQpCit7CisJc3RydWN0IGFueDc2MjVfZGF0YSAqcGxhdGZvcm0gPSBpMmNfZ2V0X2Ns
aWVudGRhdGEoY2xpZW50KTsKKworCWRybV9icmlkZ2VfcmVtb3ZlKCZwbGF0Zm9ybS0+YnJpZGdl
KTsKKworCWlmIChwbGF0Zm9ybS0+cGRhdGEuaW50cF9pcnEpCisJCWRlc3Ryb3lfd29ya3F1ZXVl
KHBsYXRmb3JtLT53b3JrcXVldWUpOworCisJaWYgKHBsYXRmb3JtLT5wZGF0YS5leHRjb25fc3Vw
cG9ydGVkKSB7CisJCWRldm1fZXh0Y29uX3VucmVnaXN0ZXJfbm90aWZpZXIoJnBsYXRmb3JtLT5j
bGllbnQtPmRldiwKKwkJCQkJCXBsYXRmb3JtLT5leHRjb24sCisJCQkJCQlFWFRDT05fRElTUF9E
UCwKKwkJCQkJCSZwbGF0Zm9ybS0+ZXZlbnRfbmIpOworCQlmbHVzaF93b3JrKCZwbGF0Zm9ybS0+
ZXh0Y29uX3dxKTsKKwl9CisKKwlhbng3NjI1X3VucmVnaXN0ZXJfaTJjX2R1bW15X2NsaWVudHMo
cGxhdGZvcm0pOworCisJa2ZyZWUocGxhdGZvcm0pOworCXJldHVybiAwOworfQorCitzdGF0aWMg
Y29uc3Qgc3RydWN0IGkyY19kZXZpY2VfaWQgYW54NzYyNV9pZFtdID0geworCXsiYW54NzYyNSIs
IDB9LAorCXt9Cit9OworCitNT0RVTEVfREVWSUNFX1RBQkxFKGkyYywgYW54NzYyNV9pZCk7CisK
KyNpZmRlZiBDT05GSUdfT0YKK3N0YXRpYyBjb25zdCBzdHJ1Y3Qgb2ZfZGV2aWNlX2lkIGFueF9t
YXRjaF90YWJsZVtdID0geworCXsuY29tcGF0aWJsZSA9ICJhbmFsb2dpeCxhbng3NjI1Iix9LAor
CXt9LAorfTsKKyNlbmRpZgorCitzdGF0aWMgc3RydWN0IGkyY19kcml2ZXIgYW54NzYyNV9kcml2
ZXIgPSB7CisJLmRyaXZlciA9IHsKKwkJLm5hbWUgPSAiYW54NzYyNSIsCisjaWZkZWYgQ09ORklH
X09GCisJCS5vZl9tYXRjaF90YWJsZSA9IGFueF9tYXRjaF90YWJsZSwKKyNlbmRpZgorCX0sCisJ
LnByb2JlID0gYW54NzYyNV9pMmNfcHJvYmUsCisJLnJlbW92ZSA9IGFueDc2MjVfaTJjX3JlbW92
ZSwKKworCS5pZF90YWJsZSA9IGFueDc2MjVfaWQsCit9OworCittb2R1bGVfaTJjX2RyaXZlcihh
bng3NjI1X2RyaXZlcik7CisKK01PRFVMRV9ERVNDUklQVElPTigiTUlQSTJEUCBhbng3NjI1IGRy
aXZlciIpOworTU9EVUxFX0FVVEhPUigiWGluIEppIDx4amlAYW5hbG9naXhzZW1pLmNvbT4iKTsK
K01PRFVMRV9MSUNFTlNFKCJHUEwgdjIiKTsKK01PRFVMRV9WRVJTSU9OKEFOWDc2MjVfRFJWX1ZF
UlNJT04pOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9hbng3
NjI1LmggYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FueDc2MjUuaApuZXcgZmls
ZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwLi5jODcxYTZjCi0tLSAvZGV2L251bGwKKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9hbng3NjI1LmgKQEAgLTAsMCArMSw0MDYg
QEAKKy8qIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wLW9ubHkgKi8KKy8qCisgKiBD
b3B5cmlnaHQoYykgMjAxNiwgQW5hbG9naXggU2VtaWNvbmR1Y3Rvci4gQWxsIHJpZ2h0cyByZXNl
cnZlZC4KKyAqCisgKi8KKworI2lmbmRlZiBfX0FOWDc2MjVfSF9fCisjZGVmaW5lIF9fQU5YNzYy
NV9IX18KKworI2lmbmRlZiBMT0dfVEFHCisjZGVmaW5lIExPR19UQUcgImFueDc2MjVkcCIKKyNl
bmRpZgorCisjZGVmaW5lIEFOWDc2MjVfRFJWX1ZFUlNJT04gIjAuMS4wNCIKKworLyogTG9hZGlu
ZyBPQ00gcmUtdHJ5aW5nIHRpbWVzICovCisjZGVmaW5lIE9DTV9MT0FESU5HX1RJTUUgMTAKKwor
LyoqKioqKioqKiAgQU5YNzYyNSBSZWdpc3RlciAgKioqKioqKioqKi8KKyNkZWZpbmUgVFhfUDBf
QUREUgkJCQkweDcwCisjZGVmaW5lIFRYX1AxX0FERFIJCQkJMHg3QQorI2RlZmluZSBUWF9QMl9B
RERSCQkJCTB4NzIKKworI2RlZmluZSBSWF9QMF9BRERSCQkJCTB4N2UKKyNkZWZpbmUgUlhfUDFf
QUREUgkJCQkweDg0CisjZGVmaW5lIFJYX1AyX0FERFIJCQkJMHg1NAorCisjZGVmaW5lIFJTVkRf
MDBfQUREUgkJCQkweDAwCisjZGVmaW5lIFJTVkRfRDFfQUREUgkJCQkweEQxCisjZGVmaW5lIFJT
VkRfNjBfQUREUgkJCQkweDYwCisjZGVmaW5lIFJTVkRfMzlfQUREUgkJCQkweDM5CisjZGVmaW5l
IFJTVkRfN0ZfQUREUgkJCQkweDdGCisKKyNkZWZpbmUgVENQQ19JTlRFUkZBQ0VfQUREUgkJCTB4
NTgKKworLyogYW54NzYyNSBjbG9jayBmcmVxdWVuY3kgaW4gSHogKi8KKyNkZWZpbmUgWFRBTF9G
UlEgICAgICAgICgyNyAqIDEwMDAwMDApCisKKyNkZWZpbmUgIFBPU1RfRElWSURFUl9NSU4JMQor
I2RlZmluZSAgUE9TVF9ESVZJREVSX01BWAkxNgorI2RlZmluZSAgUExMX09VVF9GUkVRX01JTgk1
MjAwMDAwMDBVTAorI2RlZmluZSAgUExMX09VVF9GUkVRX01BWAk3MzAwMDAwMDBVTAorI2RlZmlu
ZSAgUExMX09VVF9GUkVRX0FCU19NSU4JMzAwMDAwMDAwVUwKKyNkZWZpbmUgIFBMTF9PVVRfRlJF
UV9BQlNfTUFYCTgwMDAwMDAwMFVMCisjZGVmaW5lICBNQVhfVU5TSUdORURfMjRCSVQJMTY3Nzcy
MTVVTAorCisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqLworLyogUmVnaXN0ZXIgZGVmaW5pdGlvbiBvZiBkZXZpY2UgYWRkcmVz
cyAweDU4ICovCisKKyNkZWZpbmUgUFJPRFVDVF9JRF9MIDB4MDIKKyNkZWZpbmUgUFJPRFVDVF9J
RF9IIDB4MDMKKworI2RlZmluZSBJTlRSX0FMRVJUXzEgIDB4Q0MKKyNkZWZpbmUgSU5UUl9TT0ZU
V0FSRV9JTlQgQklUKDMpCisjZGVmaW5lIElOVFJfUkVDRUlWRURfTVNHIEJJVCg1KQorCisjZGVm
aW5lIFNZU1RFTV9TVFNUVVMgMHg0NQorI2RlZmluZSBJTlRFUkZBQ0VfQ0hBTkdFX0lOVCAweDQ0
CisjZGVmaW5lIEhQRF9TVEFUVVNfQ0hBTkdFIDB4ODAKKyNkZWZpbmUgSFBEX1NUQVRVUyAweDgw
CisKKy8qKioqKioqKiBFTkQgb2YgSTJDIEFkZHJlc3MgMHg1OCAqKioqKioqKi8KKworLyoqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
Ki8KKy8qIFJlZ2lzdGVyIGRlZmluaXRpb24gb2YgZGV2aWNlIGFkZHJlc3MgMHg3MCAqLworI2Rl
ZmluZSAgSTJDX0FERFJfNzBfRFBUWCAgICAgICAgICAgICAgMHg3MAorCisjZGVmaW5lIFNQX1RY
X0xJTktfQldfU0VUX1JFRyAweEEwCisjZGVmaW5lIFNQX1RYX0xBTkVfQ09VTlRfU0VUX1JFRyAw
eEExCisKKyNkZWZpbmUgTV9WSURfMCAweEMwCisjZGVmaW5lIE1fVklEXzEgMHhDMQorI2RlZmlu
ZSBNX1ZJRF8yIDB4QzIKKyNkZWZpbmUgTl9WSURfMCAweEMzCisjZGVmaW5lIE5fVklEXzEgMHhD
NAorI2RlZmluZSBOX1ZJRF8yIDB4QzUKKworLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KKy8qIFJlZ2lzdGVyIGRlZmluaXRp
b24gb2YgZGV2aWNlIGFkZHJlc3MgMHg3MiAqLworI2RlZmluZSBBVVhfUlNUCTB4MDQKKyNkZWZp
bmUgUlNUX0NUUkwyIDB4MDcKKworI2RlZmluZSBTUF9UWF9UT1RBTF9MSU5FX1NUQV9MIDB4MjQK
KyNkZWZpbmUgU1BfVFhfVE9UQUxfTElORV9TVEFfSCAweDI1CisjZGVmaW5lIFNQX1RYX0FDVF9M
SU5FX1NUQV9MIDB4MjYKKyNkZWZpbmUgU1BfVFhfQUNUX0xJTkVfU1RBX0ggMHgyNworI2RlZmlu
ZSBTUF9UWF9WX0ZfUE9SQ0hfU1RBIDB4MjgKKyNkZWZpbmUgU1BfVFhfVl9TWU5DX1NUQSAweDI5
CisjZGVmaW5lIFNQX1RYX1ZfQl9QT1JDSF9TVEEgMHgyQQorI2RlZmluZSBTUF9UWF9UT1RBTF9Q
SVhFTF9TVEFfTCAweDJCCisjZGVmaW5lIFNQX1RYX1RPVEFMX1BJWEVMX1NUQV9IIDB4MkMKKyNk
ZWZpbmUgU1BfVFhfQUNUX1BJWEVMX1NUQV9MIDB4MkQKKyNkZWZpbmUgU1BfVFhfQUNUX1BJWEVM
X1NUQV9IIDB4MkUKKyNkZWZpbmUgU1BfVFhfSF9GX1BPUkNIX1NUQV9MIDB4MkYKKyNkZWZpbmUg
U1BfVFhfSF9GX1BPUkNIX1NUQV9IIDB4MzAKKyNkZWZpbmUgU1BfVFhfSF9TWU5DX1NUQV9MIDB4
MzEKKyNkZWZpbmUgU1BfVFhfSF9TWU5DX1NUQV9IIDB4MzIKKyNkZWZpbmUgU1BfVFhfSF9CX1BP
UkNIX1NUQV9MIDB4MzMKKyNkZWZpbmUgU1BfVFhfSF9CX1BPUkNIX1NUQV9IIDB4MzQKKworI2Rl
ZmluZSBTUF9UWF9WSURfQ1RSTCAweDg0CisjZGVmaW5lIFNQX1RYX0JQQ19NQVNLIDB4RTAKKyNk
ZWZpbmUgU1BfVFhfQlBDXzYgICAgMHgwMAorI2RlZmluZSBTUF9UWF9CUENfOCAgICAweDIwCisj
ZGVmaW5lIFNQX1RYX0JQQ18xMCAgIDB4NDAKKyNkZWZpbmUgU1BfVFhfQlBDXzEyICAgMHg2MAor
CisjZGVmaW5lIFZJREVPX0JJVF9NQVRSSVhfMTIgMHg0YworCisjZGVmaW5lIEFVRElPX0NIQU5O
RUxfU1RBVFVTXzEgMHhkMAorI2RlZmluZSBBVURJT19DSEFOTkVMX1NUQVRVU18yIDB4ZDEKKyNk
ZWZpbmUgQVVESU9fQ0hBTk5FTF9TVEFUVVNfMyAweGQyCisjZGVmaW5lIEFVRElPX0NIQU5ORUxf
U1RBVFVTXzQgMHhkMworI2RlZmluZSBBVURJT19DSEFOTkVMX1NUQVRVU181IDB4ZDQKKyNkZWZp
bmUgQVVESU9fQ0hBTk5FTF9TVEFUVVNfNiAweGQ1CisjZGVmaW5lIFRETV9TTEFWRV9NT0RFIDB4
MTAKKyNkZWZpbmUgSTJTX1NMQVZFX01PREUgMHgwOAorCisjZGVmaW5lIEFVRElPX0NPTlRST0xf
UkVHSVNURVIgMHhlNgorI2RlZmluZSBURE1fVElNSU5HX01PREUgMHgwOAorCisjZGVmaW5lICBJ
MkNfQUREUl83Ml9EUFRYICAgICAgICAgICAgICAweDcyCisKKyNkZWZpbmUgIFZJREVPX0NPTlRS
T0xfMCAgMHgwOAorCisjZGVmaW5lICBBQ1RJVkVfTElORVNfTCAgICAgICAgIDB4MTQKKyNkZWZp
bmUgIEFDVElWRV9MSU5FU19IICAgICAgICAgMHgxNSAgLyogbm90ZTogYml0Wzc6Nl0gYXJlIHJl
c2VydmVkICovCisjZGVmaW5lICBWRVJUSUNBTF9GUk9OVF9QT1JDSCAgIDB4MTYKKyNkZWZpbmUg
IFZFUlRJQ0FMX1NZTkNfV0lEVEggICAgMHgxNworI2RlZmluZSAgVkVSVElDQUxfQkFDS19QT1JD
SCAgICAweDE4CisKKyNkZWZpbmUgIEhPUklaT05UQUxfVE9UQUxfUElYRUxTX0wgICAgMHgxOQor
I2RlZmluZSAgSE9SSVpPTlRBTF9UT1RBTF9QSVhFTFNfSCAgICAweDFBICAvKiBub3RlOiBiaXRb
Nzo2XSBhcmUgcmVzZXJ2ZWQgKi8KKyNkZWZpbmUgIEhPUklaT05UQUxfQUNUSVZFX1BJWEVMU19M
ICAgMHgxQgorI2RlZmluZSAgSE9SSVpPTlRBTF9BQ1RJVkVfUElYRUxTX0ggICAweDFDICAvKiBu
b3RlOiBiaXRbNzo2XSBhcmUgcmVzZXJ2ZWQgKi8KKyNkZWZpbmUgIEhPUklaT05UQUxfRlJPTlRf
UE9SQ0hfTCAgICAgMHgxRAorI2RlZmluZSAgSE9SSVpPTlRBTF9GUk9OVF9QT1JDSF9IICAgICAw
eDFFICAvKiBub3RlOiBiaXRbNzo0XSBhcmUgcmVzZXJ2ZWQgKi8KKyNkZWZpbmUgIEhPUklaT05U
QUxfU1lOQ19XSURUSF9MICAgICAgMHgxRgorI2RlZmluZSAgSE9SSVpPTlRBTF9TWU5DX1dJRFRI
X0ggICAgICAweDIwICAvKiBub3RlOiBiaXRbNzo0XSBhcmUgcmVzZXJ2ZWQgKi8KKyNkZWZpbmUg
IEhPUklaT05UQUxfQkFDS19QT1JDSF9MICAgICAgMHgyMQorI2RlZmluZSAgSE9SSVpPTlRBTF9C
QUNLX1BPUkNIX0ggICAgICAweDIyICAvKiBub3RlOiBiaXRbNzo0XSBhcmUgcmVzZXJ2ZWQgKi8K
KworLyoqKioqKioqIEVORCBvZiBJMkMgQWRkcmVzcyAweDcyICoqKioqKioqKi8KKy8qKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiov
CisvKiBSZWdpc3RlciBkZWZpbml0aW9uIG9mIGRldmljZSBhZGRyZXNzIDB4N2UgKi8KKworI2Rl
ZmluZSAgSTJDX0FERFJfN0VfRkxBU0hfQ09OVFJPTExFUiAgMHg3RQorCisjZGVmaW5lIEZMQVNI
X0xPQURfU1RBIDB4MDUKKyNkZWZpbmUgRkxBU0hfTE9BRF9TVEFfQ0hLCUJJVCg3KQorCisjZGVm
aW5lICBYVEFMX0ZSUV9TRUwgICAgMHgzRgorLyogYml0IGZpZWxkIHBvc2l0aW9ucyAqLworI2Rl
ZmluZSAgWFRBTF9GUlFfU0VMX1BPUyAgICA1CisvKiBiaXQgZmllbGQgdmFsdWVzICovCisjZGVm
aW5lICBYVEFMX0ZSUV8xOU0yICAgKDAgPDwgWFRBTF9GUlFfU0VMX1BPUykKKyNkZWZpbmUgIFhU
QUxfRlJRXzI3TSAgICAoNCA8PCBYVEFMX0ZSUV9TRUxfUE9TKQorCisjZGVmaW5lICBSX0RTQ19D
VFJMXzAgICAgMHg0MAorI2RlZmluZSAgUkVBRF9TVEFUVVNfRU4gIDcKKyNkZWZpbmUgIENMS18x
TUVHX1JCICAgICA2ICAvKiAxTUh6IGNsb2NrIHJlc2V0OyAwPXJlc2V0LCAwPXJlc2V0IHJlbGVh
c2UgKi8KKyNkZWZpbmUgIERTQ19CSVNUX0RPTkUgICAxICAvKiBiaXRbNToxXTogMT1EU0MgTUJJ
U1QgcGFzcyAqLworI2RlZmluZSAgRFNDX0VOICAgICAgICAgIDB4MDEgIC8qIDE9RFNDIGVuYWJs
ZWQsIDA9RFNDIGRpc2FibGVkICovCisKKyNkZWZpbmUgT0NNX0ZXX1ZFUlNJT04gICAweDMxCisj
ZGVmaW5lIE9DTV9GV19SRVZFUlNJT04gMHgzMgorCisjZGVmaW5lIEFQX0FVWF9BRERSXzdfMCAg
IDB4MTEKKyNkZWZpbmUgQVBfQVVYX0FERFJfMTVfOCAgMHgxMgorI2RlZmluZSBBUF9BVVhfQURE
Ul8xOV8xNiAweDEzCisKKy8qIG5vdGU6IGJpdFswOjNdIEFVWCBzdGF0dXMsIGJpdCA0IG9wX2Vu
LCBiaXQgNSBhZGRyZXNzIG9ubHkgKi8KKyNkZWZpbmUgQVBfQVVYX0NUUkxfU1RBVFVTIDB4MTQK
KyNkZWZpbmUgQVBfQVVYX0NUUkxfT1BfRU4gMHgxMAorI2RlZmluZSBBUF9BVVhfQ1RSTF9BRERS
T05MWSAweDIwCisKKyNkZWZpbmUgQVBfQVVYX0JVRkZfU1RBUlQgMHgxNQorI2RlZmluZSBQSVhF
TF9DTE9DS19MIDB4MjUKKyNkZWZpbmUgUElYRUxfQ0xPQ0tfSCAweDI2CisKKyNkZWZpbmUgQVBf
QVVYX0NPTU1BTkQgMHgyNyAgLyogY29tK2xlbiAqLworLyogYml0IDAmMTogM0QgdmlkZW8gc3Ry
dWN0dXJlICovCisvKiAweDAxOiBmcmFtZSBwYWNraW5nLCAgMHgwMjpMaW5lIGFsdGVybmF0aXZl
LCAweDAzOlNpZGUtYnktc2lkZShmdWxsKSAqLworI2RlZmluZSBBUF9BVl9TVEFUVVMgMHgyOAor
I2RlZmluZSBBUF9WSURFT19DSEcgIEJJVCgyKQorI2RlZmluZSBBUF9BVURJT19DSEcgIEJJVCgz
KQorI2RlZmluZSBBUF9NSVBJX01VVEUgIEJJVCg0KSAvKiAxOk1JUEkgaW5wdXQgbXV0ZSwgMDog
dW1tdXRlICovCisjZGVmaW5lIEFQX01JUElfUlhfRU4gQklUKDUpIC8qIDE6IE1JUEkgUlggaW5w
dXQgaW4gIDA6IG5vIFJYIGluICovCisjZGVmaW5lIEFQX0RJU0FCTEVfUEQgQklUKDYpCisjZGVm
aW5lIEFQX0RJU0FCTEVfRElTUExBWSBCSVQoNykKKy8qKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCisvKiBSZWdpc3RlciBkZWZp
bml0aW9uIG9mIGRldmljZSBhZGRyZXNzIDB4ODQgKi8KKyNkZWZpbmUgIE1JUElfUEhZX0NPTlRS
T0xfMyAgICAgICAgICAgIDB4MDMKKyNkZWZpbmUgIE1JUElfSFNfUFdEX0NMSyAgICAgICAgICAg
ICAgIDcKKyNkZWZpbmUgIE1JUElfSFNfUlRfQ0xLICAgICAgICAgICAgICAgIDYKKyNkZWZpbmUg
IE1JUElfUERfQ0xLICAgICAgICAgICAgICAgICAgIDUKKyNkZWZpbmUgIE1JUElfQ0xLX1JUX01B
TlVBTF9QRF9FTiAgICAgIDQKKyNkZWZpbmUgIE1JUElfQ0xLX0hTX01BTlVBTF9QRF9FTiAgICAg
IDMKKyNkZWZpbmUgIE1JUElfQ0xLX0RFVF9ERVRfQllQQVNTICAgICAgIDIKKyNkZWZpbmUgIE1J
UElfQ0xLX01JU1NfQ1RSTCAgICAgICAgICAgIDEKKyNkZWZpbmUgIE1JUElfUERfTFBUWF9DSF9N
QU5VQUxfUERfRU4gIDAKKworI2RlZmluZSAgTUlQSV9MQU5FX0NUUkxfMAkJMHgwNQorI2RlZmlu
ZSAgTUlQSV9USU1FX0hTX1BSUFIJCTB4MDgKKworLyogQWZ0ZXIgTUlQSSBSWCBwcm90b2NvbCBs
YXllciByZWNlaXZlZCB0aGlzIG1hbnkgdmlkZW8gZnJhbWVzLCAqLworLyogcHJvdG9jb2wgbGF5
ZXIgc3RhcnRzIHRvIHJlY29uc3RydWN0IHZpZGVvIHN0cmVhbSBmcm9tIFBIWSAqLworI2RlZmlu
ZSAgTUlQSV9WSURFT19TVEFCTEVfQ05UICAgICAgICAgICAweDBBCisKKyNkZWZpbmUgIE1JUElf
TEFORV9DVFJMXzEwICAgICAgICAgICAgICAgMHgwRgorI2RlZmluZSAgTUlQSV9ESUdJVEFMX0FE
Sl8xICAgMHgxQgorCisjZGVmaW5lICBNSVBJX1BMTF9NX05VTV8yM18xNiAgIDB4MUUKKyNkZWZp
bmUgIE1JUElfUExMX01fTlVNXzE1XzggICAgMHgxRgorI2RlZmluZSAgTUlQSV9QTExfTV9OVU1f
N18wICAgICAweDIwCisjZGVmaW5lICBNSVBJX1BMTF9OX05VTV8yM18xNiAgIDB4MjEKKyNkZWZp
bmUgIE1JUElfUExMX05fTlVNXzE1XzggICAgMHgyMgorI2RlZmluZSAgTUlQSV9QTExfTl9OVU1f
N18wICAgICAweDIzCisKKyNkZWZpbmUgIE1JUElfRElHSVRBTF9QTExfNiAgICAgMHgyQQorLyog
Yml0Wzc6Nl06IFZDTyBiYW5kIGNvbnRyb2wsIG9ubHkgZWZmZWN0aXZlICovCisvKiB3aGVuIE1J
UElfUExMX0ZPUkNFX0JBTkRfRU4gKDB4ODQ6MHgyQls2XSkgaXMgMSAqLworI2RlZmluZSAgTUlQ
SV9NX05VTV9SRUFEWSAgICAgICAgMHgxMAorI2RlZmluZSAgTUlQSV9OX05VTV9SRUFEWSAgICAg
ICAgMHgwOAorI2RlZmluZSAgU1RBQkxFX0lOVEVHRVJfQ05UX0VOICAgMHgwNAorI2RlZmluZSAg
TUlQSV9QTExfVEVTVF9CSVQgICAgICAgMAorLyogYml0WzE6MF06IHRlc3QgcG9pbnQgb3V0cHV0
IHNlbGVjdCAtICovCisvKiAwMDogVkNPIHBvd2VyLCAwMTogZHZkZF9wZHQsIDEwOiBkdmRkLCAx
MTogdmNveCAqLworCisjZGVmaW5lICBNSVBJX0RJR0lUQUxfUExMXzcgICAgICAweDJCCisjZGVm
aW5lICBNSVBJX1BMTF9GT1JDRV9OX0VOICAgICA3CisjZGVmaW5lICBNSVBJX1BMTF9GT1JDRV9C
QU5EX0VOICA2CisKKyNkZWZpbmUgIE1JUElfUExMX1ZDT19UVU5FX1JFRyAgIDQKKy8qIGJpdFs1
OjRdOiBWQ08gbWV0YWwgY2FwYWNpdGFuY2UgLSAqLworLyogMDA6ICsyMCUgZmFzdCwgMDE6ICsx
MCUgZmFzdCAoZGVmYXVsdCksIDEwOiB0eXBpY2FsLCAxMTogLTEwJSBzbG93ICovCisjZGVmaW5l
ICBNSVBJX1BMTF9WQ09fVFVORV9SRUdfVkFMICAgMHgzMAorCisjZGVmaW5lICBNSVBJX1BMTF9Q
TExfTERPX0JJVCAgICAyCisvKiBiaXRbMzoyXTogdmNvX3YyaSBwb3dlciAtICovCisvKiAwMDog
MS40MFYsIDAxOiAxLjQ1ViAoZGVmYXVsdCksIDEwOiAxLjUwViwgMTE6IDEuNTVWICovCisjZGVm
aW5lICBNSVBJX1BMTF9SRVNFVF9OICAgICAgICAweDAyCisjZGVmaW5lICBNSVBJX0ZSUV9GT1JD
RV9OREVUICAgICAwCisKKyNkZWZpbmUgIE1JUElfQUxFUlRfQ0xSXzAgICAgICAgIDB4MkQKKyNk
ZWZpbmUgIEhTX2xpbmtfZXJyb3JfY2xlYXIgICAgIDcKKy8qIFRoaXMgYml0IGl0c2VsZiBpcyBT
L0MsIGFuZCBpdCBjbGVhcnMgMHg4NDoweDMxWzddICovCisKKyNkZWZpbmUgIE1JUElfQUxFUlRf
T1VUXzAgICAgICAgIDB4MzEKKyNkZWZpbmUgIGNoZWNrX3N1bV9lcnJfaHNfc3luYyAgIDcKKy8q
IFRoaXMgYml0IGlzIGNsZWFyZWQgYnkgMHg4NDoweDJEWzddICovCisKKyNkZWZpbmUgIE1JUElf
RElHSVRBTF9QTExfOCAgICAweDMzCisjZGVmaW5lICBNSVBJX1BPU1RfRElWX1ZBTCAgICAgNAor
LyogbiBtZWFucyBkaXZpZGVkIGJ5IChuKzEpLCBuID0gMH4xNSAqLworI2RlZmluZSAgTUlQSV9F
Tl9MT0NLX0ZSWiAgICAgIDMKKyNkZWZpbmUgIE1JUElfRlJRX0NPVU5URVJfUlNUICAyCisjZGVm
aW5lICBNSVBJX0ZSUV9TRVRfUkVHXzggICAgMQorLyogYml0IDAgaXMgcmVzZXJ2ZWQgKi8KKwor
I2RlZmluZSAgTUlQSV9ESUdJVEFMX1BMTF85ICAgIDB4MzQKKworI2RlZmluZSAgTUlQSV9ESUdJ
VEFMX1BMTF8xNiAgIDB4M0IKKyNkZWZpbmUgIE1JUElfRlJRX0ZSRUVaRV9OREVUICAgICAgICAg
IDcKKyNkZWZpbmUgIE1JUElfRlJRX1JFR19TRVRfRU5BQkxFICAgICAgIDYKKyNkZWZpbmUgIE1J
UElfUkVHX0ZPUkNFX1NFTF9FTiAgICAgICAgIDUKKyNkZWZpbmUgIE1JUElfUkVHX1NFTF9ESVZf
UkVHICAgICAgICAgIDQKKyNkZWZpbmUgIE1JUElfUkVHX0ZPUkNFX1BSRV9ESVZfRU4gICAgIDMK
Ky8qIGJpdCAyIGlzIHJlc2VydmVkICovCisjZGVmaW5lICBNSVBJX0ZSRUZfRF9JTkQgICAgICAg
ICAgICAgICAxCisjZGVmaW5lICBSRUZfQ0xLXzI3MDAwS0haICAgIDEKKyNkZWZpbmUgIFJFRl9D
TEtfMTkyMDBLSFogICAgMAorI2RlZmluZSAgTUlQSV9SRUdfUExMX1BMTF9URVNUX0VOQUJMRSAg
MAorCisjZGVmaW5lICBNSVBJX0RJR0lUQUxfUExMXzE4ICAweDNECisjZGVmaW5lICBGUlFfQ09V
TlRfUkJfU0VMICAgICAgIDcKKyNkZWZpbmUgIFJFR19GT1JDRV9QT1NUX0RJVl9FTiAgNgorI2Rl
ZmluZSAgTUlQSV9EUElfU0VMRUNUICAgICAgICA1CisjZGVmaW5lICBTRUxFQ1RfRFNJICAxCisj
ZGVmaW5lICBTRUxFQ1RfRFBJICAwCisjZGVmaW5lICBSRUdfQkFVRF9ESVZfUkFUSU8gICAgIDAK
KworI2RlZmluZSAgSF9CTEFOS19MICAgICAgICAgICAgMHgzRQorLyogZm9yIERTQyBvbmx5ICov
CisjZGVmaW5lICBIX0JMQU5LX0ggICAgICAgICAgICAweDNGCisvKiBmb3IgRFNDIG9ubHk7IG5v
dGU6IGJpdFs3OjZdIGFyZSByZXNlcnZlZCAqLworI2RlZmluZSAgTUlQSV9TV0FQICAweDRBCisj
ZGVmaW5lICBNSVBJX1NXQVBfQ0gwICAgIDcKKyNkZWZpbmUgIE1JUElfU1dBUF9DSDEgICAgNgor
I2RlZmluZSAgTUlQSV9TV0FQX0NIMiAgICA1CisjZGVmaW5lICBNSVBJX1NXQVBfQ0gzICAgIDQK
KyNkZWZpbmUgIE1JUElfU1dBUF9DTEsgICAgMworLyogYml0WzI6MF0gYXJlIHJlc2VydmVkICov
CisKKy8qKioqKioqKiBFTkQgb2YgSTJDIEFkZHJlc3MgMHg4NCAqKioqKioqKiovCisKKy8qIERQ
Q0QgcmVncyAqLworI2RlZmluZSBEUENEX0RQQ0RfUkVWICAgICAgICAgICAgICAgICAgMHgwMAor
I2RlZmluZSBEUENEX01BWF9MSU5LX1JBVEUgICAgICAgICAgICAgMHgwMQorI2RlZmluZSBEUENE
X01BWF9MQU5FX0NPVU5UICAgICAgICAgICAgMHgwMgorCisvKioqKioqKioqICBBTlg3NjI1IFJl
Z2lzdGVyIEVuZCAgKioqKioqKioqKi8KKworLyoqKioqKioqKioqKioqKioqICBEaXNwbGF5ICoq
KioqKioqKioqKioqKioqLworZW51bSBhdWRpb19mcyB7CisJQVVESU9fRlNfNDQxSyAgPSAweDAw
LAorCUFVRElPX0ZTXzQ4SyAgID0gMHgwMiwKKwlBVURJT19GU18zMksgICA9IDB4MDMsCisJQVVE
SU9fRlNfODgySyAgPSAweDA4LAorCUFVRElPX0ZTXzk2SyAgID0gMHgwYSwKKwlBVURJT19GU18x
NzY0SyA9IDB4MGMsCisJQVVESU9fRlNfMTkySyAgPSAweDBlCit9OworCitlbnVtIGF1ZGlvX3dk
X2xlbiB7CisJQVVESU9fV19MRU5fMTZfMjBNQVggPSAweDAyLAorCUFVRElPX1dfTEVOXzE4XzIw
TUFYID0gMHgwNCwKKwlBVURJT19XX0xFTl8xN18yME1BWCA9IDB4MGMsCisJQVVESU9fV19MRU5f
MTlfMjBNQVggPSAweDA4LAorCUFVRElPX1dfTEVOXzIwXzIwTUFYID0gMHgwYSwKKwlBVURJT19X
X0xFTl8yMF8yNE1BWCA9IDB4MDMsCisJQVVESU9fV19MRU5fMjJfMjRNQVggPSAweDA1LAorCUFV
RElPX1dfTEVOXzIxXzI0TUFYID0gMHgwZCwKKwlBVURJT19XX0xFTl8yM18yNE1BWCA9IDB4MDks
CisJQVVESU9fV19MRU5fMjRfMjRNQVggPSAweDBiCit9OworCisjZGVmaW5lIEkyU19DSF8yCTB4
MDEKKyNkZWZpbmUgVERNX0NIXzQJMHgwMworI2RlZmluZSBURE1fQ0hfNgkweDA1CisjZGVmaW5l
IFRETV9DSF84CTB4MDcKKworI2RlZmluZSBNQVhfRFBDRF9CVUZGRVJfU0laRQkxNgorCisjZGVm
aW5lIE9ORV9CTE9DS19TSVpFICAgICAgMTI4CisjZGVmaW5lIEZPVVJfQkxPQ0tfU0laRSAgICAg
KDEyOCAqIDQpCisKKyNkZWZpbmUgTUFYX0VESURfQkxPQ0sJMworI2RlZmluZSBFRElEX1RSWV9D
TlQJMworI2RlZmluZSBTVVBQT1JUX1BJWEVMX0NMT0NLCTMwMDAwMAorCitzdHJ1Y3Qgc19lZGlk
X2RhdGEgeworCWludCBlZGlkX2Jsb2NrX251bTsKKwl1OCBlZGlkX3Jhd19kYXRhW0ZPVVJfQkxP
Q0tfU0laRV07Cit9OworCisvKioqKioqKioqKioqKioqKiogIERpc3BsYXkgRW5kICoqKioqKioq
KioqKioqKioqLworCitzdHJ1Y3QgYW54NzYyNV9kZXZpY2Vfbm9kZSB7CisJc3RydWN0IGRldmlj
ZV9ub2RlICptaXBpX2RzaV9ob3N0X25vZGU7CisJc3RydWN0IGRldmljZV9ub2RlICptaXBpX2Rw
aV9ob3N0X25vZGU7CisJc3RydWN0IGRldmljZV9ub2RlICpwYW5lbF9ub2RlOworfTsKKworc3Ry
dWN0IGFueDc2MjVfcGxhdGZvcm1fZGF0YSB7CisJc3RydWN0IGdwaW9fZGVzYyAqZ3Bpb19wX29u
OworCXN0cnVjdCBncGlvX2Rlc2MgKmdwaW9fcmVzZXQ7CisJc3RydWN0IGRybV9wYW5lbCAqcGFu
ZWw7CisJaW50IGludHBfaXJxOworCXUzMiBwYW5lbF9mbGFnczsKKwl1MzIgbG93X3Bvd2VyX21v
ZGU7CisJdTMyIGRzaV9zdXBwb3J0ZWQ7CisJdTMyIGludGVybmFsX3BhbmVsOworCXUzMiBleHRj
b25fc3VwcG9ydGVkOworCXN0cnVjdCBhbng3NjI1X2RldmljZV9ub2RlIG5vZGU7Cit9OworCitz
dHJ1Y3QgYW54NzYyNV9pMmNfY2xpZW50IHsKKwlzdHJ1Y3QgaTJjX2NsaWVudCAqdHhfcDBfY2xp
ZW50OworCXN0cnVjdCBpMmNfY2xpZW50ICp0eF9wMV9jbGllbnQ7CisJc3RydWN0IGkyY19jbGll
bnQgKnR4X3AyX2NsaWVudDsKKwlzdHJ1Y3QgaTJjX2NsaWVudCAqcnhfcDBfY2xpZW50OworCXN0
cnVjdCBpMmNfY2xpZW50ICpyeF9wMV9jbGllbnQ7CisJc3RydWN0IGkyY19jbGllbnQgKnJ4X3Ay
X2NsaWVudDsKKwlzdHJ1Y3QgaTJjX2NsaWVudCAqdGNwY19jbGllbnQ7Cit9OworCitzdHJ1Y3Qg
YW54NzYyNV9kYXRhIHsKKwlzdHJ1Y3QgYW54NzYyNV9wbGF0Zm9ybV9kYXRhIHBkYXRhOworCWF0
b21pY190IHBvd2VyX3N0YXR1czsKKwlhdG9taWNfdCBwYW5lbF9wb3dlcjsKKwlpbnQgaHBkX3N0
YXR1czsKKwlpbnQgaHBkX2hpZ2hfY250OworCXN0cnVjdCBpMmNfY2xpZW50ICpjbGllbnQ7CisJ
c3RydWN0IGFueDc2MjVfaTJjX2NsaWVudCBpMmM7CisJc3RydWN0IGkyY19jbGllbnQgKmxhc3Rf
Y2xpZW50OworCXN0cnVjdCBzX2VkaWRfZGF0YSBzbGltcG9ydF9lZGlkX3A7CisJc3RydWN0IHdv
cmtfc3RydWN0IHdvcms7CisJc3RydWN0IHdvcmtxdWV1ZV9zdHJ1Y3QgKndvcmtxdWV1ZTsKKwkv
KiBkcm0gYnJpZGdlIG11dGV4IGxvY2sgKi8KKwlzdHJ1Y3QgbXV0ZXggbG9jazsKKwljaGFyIGVk
aWRfYmxvY2s7CisJc3RydWN0IGRpc3BsYXlfdGltaW5nIGR0OworCXU4IGRpc3BsYXlfdGltaW5n
X3ZhbGlkOworCXN0cnVjdCBkcm1fYnJpZGdlIGJyaWRnZTsKKwl1OCBicmlkZ2VfYXR0YWNoZWQ7
CisJc3RydWN0IGRybV9jb25uZWN0b3IgY29ubmVjdG9yOworCXN0cnVjdCBtaXBpX2RzaV9kZXZp
Y2UgKmRzaTsKKwlzdHJ1Y3QgZHJtX2RwX2xpbmsgbGluazsKKwlzdHJ1Y3QgZHJtX2Rpc3BsYXlf
bW9kZSB2aWRfaW5mbzsKKwlzdHJ1Y3Qgbm90aWZpZXJfYmxvY2sgZXZlbnRfbmI7CisJc3RydWN0
IGV4dGNvbl9kZXYgKmV4dGNvbjsKKwlzdHJ1Y3Qgd29ya19zdHJ1Y3QgZXh0Y29uX3dxOworfTsK
KworI2VuZGlmICAvKiBfX0FOWDc2MjVfSF9fICovCi0tIAoyLjcuNAoKX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApk
cmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Au
b3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
