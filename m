Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id E496A26D5CD
	for <lists+dri-devel@lfdr.de>; Thu, 17 Sep 2020 10:09:26 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 17DCC6EB7B;
	Thu, 17 Sep 2020 08:09:25 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-oi1-x243.google.com (mail-oi1-x243.google.com
 [IPv6:2607:f8b0:4864:20::243])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D772A6EB7B
 for <dri-devel@lists.freedesktop.org>; Thu, 17 Sep 2020 08:09:23 +0000 (UTC)
Received: by mail-oi1-x243.google.com with SMTP id n2so1529563oij.1
 for <dri-devel@lists.freedesktop.org>; Thu, 17 Sep 2020 01:09:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=ffwll.ch; s=google;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=hj748MDWz3uGjap8dFpsmQR43oB5FdmeE3PU5X76VV0=;
 b=LiGHVTAZBlNXFMLULoLuA7sDuYos0oM5OblFb/GVLUevRmNfmxziUxmN5o1oE1+kmU
 Rj3uVZ8GFXSdl/JIHrwHGB9TM+RPKb1uNIqL0MqOn18aam/SH8w9FTYGAPGf5TzhNpRe
 Pe+BiT0Mhqg6d1HSV5qM409pE0CFaTHo+UOd0=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=hj748MDWz3uGjap8dFpsmQR43oB5FdmeE3PU5X76VV0=;
 b=saFHeLRhdh1sPRe9xGVmESorcpRO6aQWzqPJshYjvoa4dfEcwAPBZw0ZdLWqppYeN9
 sgMN9mU780qvZSN5Z8KFVogm8qS3t9wF743/pqLTQCKsJF+PDPkrlwgRlpxXacMH3C32
 wXOLoBk8cWZy9Fwo0GA0uZN1oOyDyYX1Y+9/+q6U297FzKpMHtkZLxHxtLSWIeMQ0L01
 0SlrA704HyT1IPfsqPzI/9Xbj67QDpBtvek+atYzs9JLUnX7KgCjNDkBdY4ZqODzLQ/c
 txfAPmVcDndyrG/GZPDNWtBcBT5d08a9Mednsnb49ESHKuxBbFGm9RPxrwUM8hL6shEy
 hDtA==
X-Gm-Message-State: AOAM533rGqjvmFZClz6N7/Y6yYpsA56OrmGSMHCzkYBA9gbwgCR5uGUZ
 qDZSa3qT9YNc5hSfLGHSOBQ2jLxpiDLXYvfoH5kq7w==
X-Google-Smtp-Source: ABdhPJxnhcvTWespPIz0mwDd5lfmfASbxSQp+iv4wdI3VWmLcUZDr+o6jic2DrtQ3xdcC58bSj1uv5b78VL+7UnvPaQ=
X-Received: by 2002:aca:de41:: with SMTP id v62mr5615790oig.128.1600330163116; 
 Thu, 17 Sep 2020 01:09:23 -0700 (PDT)
MIME-Version: 1.0
References: <20200914132920.59183-1-christian.koenig@amd.com>
 <40cd26ae-b855-4627-5a13-4dcea5d622f6@gmail.com>
 <20200914140632.GD1221970@ziepe.ca>
 <9302e4e0-0ff0-8b00-ada1-85feefb49e88@gmail.com>
 <20200916095359.GD438822@phenom.ffwll.local>
 <20200916140710.GA8409@ziepe.ca>
 <8db2474f-ecb7-0e17-5f5b-145708fe44d5@amd.com>
 <CAKMK7uFdwrT3HACPh3ADAKvhXJ-Hf3dExZmgJVAQ1KKjSai_0w@mail.gmail.com>
 <aa953b09-53b1-104b-dc4b-156ad8a75e62@gmail.com>
 <CAKMK7uHJNRzCJfWVSmMrLmGXE0qo+OCXiMd+zPTOkeG2pnVrmQ@mail.gmail.com>
 <8d8693db-a3f0-4f5f-3e32-57d23ca620f8@amd.com>
In-Reply-To: <8d8693db-a3f0-4f5f-3e32-57d23ca620f8@amd.com>
From: Daniel Vetter <daniel@ffwll.ch>
Date: Thu, 17 Sep 2020 10:09:12 +0200
Message-ID: <CAKMK7uE=UqZD3PVC8XZAXrgGH-VsUF_-YQD3MLV8KK1kpxO4yQ@mail.gmail.com>
Subject: Re: [Linaro-mm-sig] Changing vma->vm_file in dma_buf_mmap()
To: =?UTF-8?Q?Christian_K=C3=B6nig?= <christian.koenig@amd.com>
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Jason Gunthorpe <jgg@ziepe.ca>,
 Linux Kernel Mailing List <linux-kernel@vger.kernel.org>,
 dri-devel <dri-devel@lists.freedesktop.org>,
 "moderated list:DMA BUFFER SHARING FRAMEWORK" <linaro-mm-sig@lists.linaro.org>,
 Linux MM <linux-mm@kvack.org>, Andrew Morton <akpm@linux-foundation.org>,
 "open list:DMA BUFFER SHARING FRAMEWORK" <linux-media@vger.kernel.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVGh1LCBTZXAgMTcsIDIwMjAgYXQgOToxMSBBTSBDaHJpc3RpYW4gS8O2bmlnCjxjaHJpc3Rp
YW4ua29lbmlnQGFtZC5jb20+IHdyb3RlOgo+Cj4gQW0gMTcuMDkuMjAgdW0gMDg6MjMgc2Nocmll
YiBEYW5pZWwgVmV0dGVyOgo+ID4gT24gV2VkLCBTZXAgMTYsIDIwMjAgYXQgNTozMSBQTSBDaHJp
c3RpYW4gS8O2bmlnCj4gPiA8Y2tvZW5pZy5sZWljaHR6dW1lcmtlbkBnbWFpbC5jb20+IHdyb3Rl
Ogo+ID4+IEFtIDE2LjA5LjIwIHVtIDE3OjI0IHNjaHJpZWIgRGFuaWVsIFZldHRlcjoKPiA+Pj4g
T24gV2VkLCBTZXAgMTYsIDIwMjAgYXQgNDoxNCBQTSBDaHJpc3RpYW4gS8O2bmlnCj4gPj4+IDxj
aHJpc3RpYW4ua29lbmlnQGFtZC5jb20+IHdyb3RlOgo+ID4+Pj4gQW0gMTYuMDkuMjAgdW0gMTY6
MDcgc2NocmllYiBKYXNvbiBHdW50aG9ycGU6Cj4gPj4+Pj4gT24gV2VkLCBTZXAgMTYsIDIwMjAg
YXQgMTE6NTM6NTlBTSArMDIwMCwgRGFuaWVsIFZldHRlciB3cm90ZToKPiA+Pj4+Pgo+ID4+Pj4+
PiBCdXQgd2l0aGluIHRoZSBkcml2ZXIsIHdlIGdlbmVyYWxseSBuZWVkIHRob3VzYW5kcyBvZiB0
aGVzZSwgYW5kIHRoYXQKPiA+Pj4+Pj4gdGVuZHMgdG8gYnJpbmcgZmQgZXhoYXVzdGlvbiBwcm9i
bGVtcyB3aXRoIGl0LiBUaGF0J3Mgd2h5IGFsbCB0aGUgcHJpdmF0ZQo+ID4+Pj4+PiBidWZmZXIg
b2JqZWN0cyB3aGljaCBhcmVuJ3Qgc2hhcmVkIHdpdGggb3RoZXIgcHJvY2VzcyBvciBvdGhlciBk
cml2ZXJzIGFyZQo+ID4+Pj4+PiBoYW5kbGVzIG9ubHkgdmFsaWQgZm9yIGEgc3BlY2lmaWMgZmQg
aW5zdGFuY2Ugb2YgdGhlIGRybSBjaGFyZGV2IChlYWNoCj4gPj4+Pj4+IG9wZW4gZ2V0cyB0aGVp
ciBvd24gbmFtZXNwYWNlKSwgYW5kIG9ubHkgZm9yIGlvY3RscyBkb25lIG9uIHRoYXQgY2hhcmRl
di4KPiA+Pj4+Pj4gQW5kIGZvciBtbWFwIHdlIGFzc2lnbiBmYWtlIChidXQgdW5pcXVlIGFjcm9z
cyBhbGwgb3BlbiBmZCBvbiBpdCkgb2Zmc2V0cwo+ID4+Pj4+PiB3aXRoaW4gdGhlIG92ZXJhbGwg
Y2hhcmRldi4gSGVuY2UgYWxsIHRoZSBwZ29mZiBtYW5nbGluZyBhbmQgcmUtbWFuZ2xpbmcuCj4g
Pj4+Pj4gQXJlIHRoZXkgc3RpbGwgdW5pcXVlIHN0cnVjdCBmaWxlcz8gSnVzdCB3aXRob3V0IGEg
ZmRubz8KPiA+Pj4+IFllcywgZXhhY3RseS4KPiA+Pj4gTm90IGVudGlyZWx5LCBzaW5jZSBkbWEt
YnVmIGhhcHBlbmVkIGFmdGVyIGRybSBjaGFyZGV2LCBzbyBmb3IgdGhhdAo+ID4+PiBoaXN0b3Jp
Y2FsIHJlYXNvbiB0aGUgdW5kZXJseWluZyBzdHJ1Y3QgZmlsZSBpcyBzaGFyZWQsIHNpbmNlIGl0
J3MgdGhlCj4gPj4+IGRybSBjaGFyZGV2LiBCdXQgc2luY2UgdGhhdCdzIHBlci1kZXZpY2Ugd2Ug
ZG9uJ3QgaGF2ZSBhIHByb2JsZW0gaW4KPiA+Pj4gcHJhY3RpY2Ugd2l0aCBkaWZmZXJlbnQgdm1f
b3BzLCBzaW5jZSB0aG9zZSBhcmUgYWxzbyBwZXItZGV2aWNlLiBCdXQKPiA+Pj4geWVhaCB3ZSBj
b3VsZCBmaXNoIG91dCBzb21lIGVudGlyZWx5IGhpZGRlbiBwZXItb2JqZWN0IHN0cnVjdCBmaWxl
IGlmCj4gPj4+IHRoYXQncyByZXF1aXJlZCBmb3Igc29tZSBtbSBpbnRlcm5hbCByZWFzb25zLgo+
ID4+IEh1aT8gT2sgdGhhdCBpcyBqdXN0IHRoZSBoYW5kbGluZyBpbiBpOTE1LCBpc24ndCBpdD8K
PiA+Pgo+ID4+IEFzIGZhciBhcyBJIGtub3cgd2UgY3JlYXRlIGFuIHVuaXF1ZSBzdHJ1Y3QgZmls
ZSBmb3IgZWFjaCBETUEtYnVmLgo+ID4gWWVzIGRtYS1idWYsIGJ1dCB0aGF0IGdldHMgZm9yd2Fy
ZGVkIHRvIHRoZSBvcmlnaW5hbCBkcm0gY2hhcmRldiB3aGljaAo+ID4gb3JpZ2luYWxseSBleHBv
cnRlZCB0aGUgYnVmZmVyLiBJdCdzIG9ubHkgdGhlcmUgd2hlcmUgdGhlIGZvcndhcmRpbmcKPiA+
IGNoYWluIHN0b3BzLiBUaGUgb3RoZXIgdGhpbmcgaXMgdGhhdCBpaXJjIHdlIGhhdmUgYSBzaW5n
bGV0b24KPiA+IGFub25faW5vZGUgYmVoaW5kIGFsbCB0aGUgZG1hLWJ1Ziwgc28gdGhleSdkIHNo
YXJlIGFsbCB0aGUgc2FtZQo+ID4gYWRkcmVzc19zcGFjZSBhbmQgc28gd291bGQgYWxsIGFsaWFz
IGZvciB1bm1hcF9tYXBwaW5nX3JhbmdlIChJIHRoaW5rCj4gPiBhdCBsZWFzdCkuCj4KPiBBbWRn
cHUgd29ya3MgYnkgdXNpbmcgdGhlIGFkZHJlc3Nfc3BhY2Ugb2YgdGhlIGRybSBjaGFyZGV2IGlu
dG8gdGhlCj4gc3RydWN0IGZpbGUgb2YgRE1BLWJ1ZiBpbnN0ZWFkLgo+Cj4gSSB0aGluayB0aGF0
IHRoaXMgaXMgY2xlYW5lciwgYnV0IG9ubHkgYnkgYSBsaXR0bGUgYml0IDopCgpZZWFoLCBidXQg
aXQgZG9lc24ndCB3b3JrIHdoZW4gZm9yd2FyZGluZyBmcm9tIHRoZSBkcm0gY2hhcmRldiB0byB0
aGUKZG1hLWJ1ZiBvbiB0aGUgaW1wb3J0ZXIgc2lkZSwgc2luY2UgeW91J2QgbmVlZCBhIHRvbiBv
ZiBkaWZmZXJlbnQKYWRkcmVzcyBzcGFjZXMuIEFuZCB5b3Ugc3RpbGwgcmVseSBvbiB0aGUgY29y
ZSBjb2RlIHBpY2tpbmcgdXAgeW91cgpwZ29mZiBtYW5nbGluZywgd2hpY2ggZmVlbHMgYWJvdXQg
YXMgcmlza3kgdG8gbWUgYXMgdGhlIHZtYSBmaWxlCnBvaW50ZXIgd3JhbmdsaW5nIC0gaWYgaXQn
cyBub3QgY29uc2lzdGVudGx5IGFwcGxpZWQgdGhlIHJldmVyc2UgbWFwCmlzIHRvYXN0IGFuZCB1
bm1hcF9tYXBwaW5nX3JhbmdlIGRvZXNuJ3Qgd29yayBjb3JyZWN0bHkgZm9yIG91ciBuZWVkcy4K
Cj4gQW55d2F5IEknbSBhIGJpdCBjb25jZXJuZWQgdGhhdCB3ZSBoYXZlIHNvIG1hbnkgZGlmZmVy
ZW50IGFwcHJvYWNoZXMgZm9yCj4gdGhlIHNhbWUgcHJvYmxlbS4KClllYWgsIEkgdGhpbmsgaWYg
d2UgY2FuIHN0YW5kYXJkaXplIHRoaXMgdGhlbiB0aGF0IHdvdWxkIGJlIHJlYWxseSBnb29kLgot
RGFuaWVsCgo+Cj4gQ2hyaXN0aWFuLgo+Cj4gPiAtRGFuaWVsCj4gPgo+ID4+IFJlZ2FyZHMsCj4g
Pj4gQ2hyaXN0aWFuLgo+ID4+Cj4gPj4KPiA+Pj4gLURhbmllbAo+ID4+Pgo+ID4+Pj4+PiBIZW5j
ZSB3aHkgd2UnZCBsaWtlIHRvIGJlIGFibGUgdG8gZm9yd2FyZCBhbGlhc2luZyBtYXBwaW5ncyBh
bmQgYWRqdXN0IHRoZQo+ID4+Pj4+PiBmaWxlIGFuZCBwZ29mZiwgd2hpbGUgaG9wZWZ1bGx5IGV2
ZXJ5dGhpbmcga2VlcHMgd29ya2luZy4gSSB0aG91Z2h0IHRoaXMKPiA+Pj4+Pj4gd291bGQgd29y
aywgYnV0IENocmlzdGlhbiBub3RpY2VkIGl0IGRvZXNuJ3QgcmVhbGx5Lgo+ID4+Pj4+IEl0IHNl
ZW1zIHJlYXNvbmFibGUgdG8gbWUgdGhhdCB0aGUgZG1hIGJ1ZiBzaG91bGQgYmUgdGhlIG93bmVy
IG9mIHRoZQo+ID4+Pj4+IFZNQSwgb3RoZXJ3aXNlIGxpa2UgeW91IHNheSwgdGhlcmUgaXMgYSBi
aWcgbWVzcyBhdHRhY2hpbmcgdGhlIGN1c3RvbQo+ID4+Pj4+IHZtYSBvcHMgYW5kIHdoYXQgbm90
IHRvIHRoZSBwcm9wZXIgZG1hIGJ1Zi4KPiA+Pj4+Pgo+ID4+Pj4+IEkgZG9uJ3Qgc2VlIGFueXRo
aW5nIG9idmlvdXNseSBhZ2FpbnN0IHRoaXMgaW4gbW1hcF9yZWdpb24oKSAtIHdoeSBkaWQKPiA+
Pj4+PiBDaHJpdGlhbiBub3RpY2UgaXQgZG9lc24ndCByZWFsbHkgd29yaz8KPiA+Pj4+IFRvIGNs
YXJpZnkgSSB0aGluayB0aGlzIG1pZ2h0IHdvcmsuCj4gPj4+Pgo+ID4+Pj4gSSBqdXN0IGhhZCB0
aGUgc2FtZSAiSXMgdGhhdCBsZWdhbD8iLCAiV2hhdCBhYm91dCBzZWN1cml0eT8iLCBldGMuLgo+
ID4+Pj4gcXVlc3Rpb25zIHlvdSByYWlzZWQgYXMgd2VsbC4KPiA+Pj4+Cj4gPj4+PiBJdCBzZWVt
cyBsaWtlIGEgc291cmNlIG9mIHRyb3VibGUgc28gSSB0aG91Z2h0IGJldHRlciBhc2sgc29tZWJv
ZHkgbW9yZQo+ID4+Pj4gZmFtaWxpYXIgd2l0aCB0aGF0Lgo+ID4+Pj4KPiA+Pj4+IENocmlzdGlh
bi4KPiA+Pj4+Cj4gPj4+Pj4gSmFzb24KPiA+Pj4+IF9fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fCj4gPj4+PiBkcmktZGV2ZWwgbWFpbGluZyBsaXN0Cj4gPj4+
PiBkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCj4gPj4+PiBodHRwczovL25hbTExLnNh
ZmVsaW5rcy5wcm90ZWN0aW9uLm91dGxvb2suY29tLz91cmw9aHR0cHMlM0ElMkYlMkZsaXN0cy5m
cmVlZGVza3RvcC5vcmclMkZtYWlsbWFuJTJGbGlzdGluZm8lMkZkcmktZGV2ZWwmYW1wO2RhdGE9
MDIlN0MwMSU3Q2NocmlzdGlhbi5rb2VuaWclNDBhbWQuY29tJTdDZjcyNWQyZWI2YTVhNDliZDUz
M2YwOGQ4NWFkMjMzMDglN0MzZGQ4OTYxZmU0ODg0ZTYwOGUxMWE4MmQ5OTRlMTgzZCU3QzAlN0Mw
JTdDNjM3MzU5MjA2MTQyMjYyOTQxJmFtcDtzZGF0YT1xY0xzbDlSMWdQJTJGR1kzOWN0c1FrSXpJ
OTlCbiUyRjg0MFlTMTdGNHh1ZHJBRSUzRCZhbXA7cmVzZXJ2ZWQ9MAo+ID4+Pgo+ID4KPgoKCi0t
IApEYW5pZWwgVmV0dGVyClNvZnR3YXJlIEVuZ2luZWVyLCBJbnRlbCBDb3Jwb3JhdGlvbgpodHRw
Oi8vYmxvZy5mZndsbC5jaApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3Rv
cC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmkt
ZGV2ZWwK
