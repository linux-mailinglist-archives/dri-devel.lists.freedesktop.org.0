Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 38A4588EC1
	for <lists+dri-devel@lfdr.de>; Sun, 11 Aug 2019 01:11:08 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1ACCF6E180;
	Sat, 10 Aug 2019 23:11:03 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from perceval.ideasonboard.com (perceval.ideasonboard.com
 [213.167.242.64])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8499F6E17E
 for <dri-devel@lists.freedesktop.org>; Sat, 10 Aug 2019 23:11:01 +0000 (UTC)
Received: from pendragon.bb.dnainternet.fi
 (dfj612yhrgyx302h3jwwy-3.rev.dnainternet.fi
 [IPv6:2001:14ba:21f5:5b00:ce28:277f:58d7:3ca4])
 by perceval.ideasonboard.com (Postfix) with ESMTPSA id 0C63C1163;
 Sun, 11 Aug 2019 01:10:57 +0200 (CEST)
From: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH v2 5/9] drm/panel: Add driver for the NEC NL8048HL11 panel
Date: Sun, 11 Aug 2019 02:10:44 +0300
Message-Id: <20190810231048.1921-6-laurent.pinchart@ideasonboard.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190810231048.1921-1-laurent.pinchart@ideasonboard.com>
References: <20190810231048.1921-1-laurent.pinchart@ideasonboard.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=ideasonboard.com; s=mail; t=1565478658;
 bh=KGia5vpmNfL8lbxI4hc0AmPinaiNRn77nwlxgPsoTm4=;
 h=From:To:Cc:Subject:Date:In-Reply-To:References:From;
 b=GGjVPMZDs7am4ZHvyFd8tvNTyH+9c8XbW+MUeg9DSfj6oazGEUs2mn6uqbJanzXae
 heLCR3ZhmVSY6Uyj7BBTOzlzTKywD5Ay5W7Sv7tEMnIrY5Y2u76sbB9O/GvFJ12ELb
 P+2i5wov3shXPENCZlVbfFhXgLePEcuyHQPNDx5U=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Thierry Reding <thierry.reding@gmail.com>, Sam Ravnborg <sam@ravnborg.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhpcyBwYW5lbCBpcyB1c2VkIG9uIHRoZSBab29tMi8zLzM2MzAgU0RQIGJvYXJkcy4KClRoZSBj
b2RlIGlzIGJhc2VkIG9uIHRoZSBvbWFwZHJtLXNwZWNpZmljIHBhbmVsLW5lYy1ubDgwNDhobDEx
IGRyaXZlcgoKU2lnbmVkLW9mZi1ieTogTGF1cmVudCBQaW5jaGFydCA8bGF1cmVudC5waW5jaGFy
dEBpZGVhc29uYm9hcmQuY29tPgotLS0KQ2hhbmdlcyBzaW5jZSB2MToKCi0gTWVudGlvbiBib2Fy
ZHMgdXNpbmcgdGhlIHBhbmVsIGluIEtjb25maWcKLSBSZW5hbWVkIG5sODA0OF9kZXZpY2UgdG8g
bmw4MDQ4X3BhbmVsCi0gQ29tbWVudHMgdXBkYXRlcwotIFN0b3JlIHdpZHRoX21tIGFuZCBoZWln
aHRfbW0gaW4gZHJtX2Rpc3BsYXlfbW9kZQotIFVzZSBkcm1fcGFuZWxfZGlzYWJsZSgpIGluIC5y
ZW1vdmUoKSBoYW5kbGVyCi0tLQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL0tjb25maWcgICAgICAg
ICAgICAgICAgfCAgIDggKwogZHJpdmVycy9ncHUvZHJtL3BhbmVsL01ha2VmaWxlICAgICAgICAg
ICAgICAgfCAgIDEgKwogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW5lYy1ubDgwNDhobDEx
LmMgfCAyNDcgKysrKysrKysrKysrKysrKysrKwogMyBmaWxlcyBjaGFuZ2VkLCAyNTYgaW5zZXJ0
aW9ucygrKQogY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1u
ZWMtbmw4MDQ4aGwxMS5jCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL0tjb25m
aWcgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvS2NvbmZpZwppbmRleCA4N2NkYzMzMDY3MmIuLmQy
ODEzM2M2YWEwYSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL0tjb25maWcKKysr
IGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL0tjb25maWcKQEAgLTExOSw2ICsxMTksMTQgQEAgY29u
ZmlnIERSTV9QQU5FTF9MR19MRzQ1NzMKIAkgIFNheSBZIGhlcmUgaWYgeW91IHdhbnQgdG8gZW5h
YmxlIHN1cHBvcnQgZm9yIExHNDU3MyBSR0IgcGFuZWwuCiAJICBUbyBjb21waWxlIHRoaXMgZHJp
dmVyIGFzIGEgbW9kdWxlLCBjaG9vc2UgTSBoZXJlLgogCitjb25maWcgRFJNX1BBTkVMX05FQ19O
TDgwNDhITDExCisJdHJpc3RhdGUgIk5FQyBOTDgwNDhITDExIFJHQiBwYW5lbCIKKwlkZXBlbmRz
IG9uIEdQSU9MSUIgJiYgT0YgJiYgU1BJCisJaGVscAorCSAgU2F5IFkgaGVyZSBpZiB5b3Ugd2Fu
dCB0byBlbmFibGUgc3VwcG9ydCBmb3IgdGhlIE5FQyBOTDgwNDhITDExIFJHQgorCSAgcGFuZWwg
KGZvdW5kIG9uIHRoZSBab29tMi8zLzM2MzAgU0RQIGJvYXJkcykuIFRvIGNvbXBpbGUgdGhpcyBk
cml2ZXIKKwkgIGFzIGEgbW9kdWxlLCBjaG9vc2UgTSBoZXJlLgorCiBjb25maWcgRFJNX1BBTkVM
X05PVkFURUtfTlQzOTAxNgogCXRyaXN0YXRlICJOb3ZhdGVrIE5UMzkwMTYgUkdCL1NQSSBwYW5l
bCIKIAlkZXBlbmRzIG9uIE9GICYmIFNQSQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3Bh
bmVsL01ha2VmaWxlIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL01ha2VmaWxlCmluZGV4IDliYzZm
M2M1YmY5Ni4uODA1MmY5YTdhZDYwIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwv
TWFrZWZpbGUKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL01ha2VmaWxlCkBAIC0xMCw2ICsx
MCw3IEBAIG9iai0kKENPTkZJR19EUk1fUEFORUxfSkRJX0xUMDcwTUUwNTAwMCkgKz0gcGFuZWwt
amRpLWx0MDcwbWUwNTAwMC5vCiBvYmotJChDT05GSUdfRFJNX1BBTkVMX0tJTkdESVNQTEFZX0tE
MDk3RDA0KSArPSBwYW5lbC1raW5nZGlzcGxheS1rZDA5N2QwNC5vCiBvYmotJChDT05GSUdfRFJN
X1BBTkVMX0xHX0xCMDM1UTAyKSArPSBwYW5lbC1sZy1sYjAzNXEwMi5vCiBvYmotJChDT05GSUdf
RFJNX1BBTkVMX0xHX0xHNDU3MykgKz0gcGFuZWwtbGctbGc0NTczLm8KK29iai0kKENPTkZJR19E
Uk1fUEFORUxfTkVDX05MODA0OEhMMTEpICs9IHBhbmVsLW5lYy1ubDgwNDhobDExLm8KIG9iai0k
KENPTkZJR19EUk1fUEFORUxfTk9WQVRFS19OVDM5MDE2KSArPSBwYW5lbC1ub3ZhdGVrLW50Mzkw
MTYubwogb2JqLSQoQ09ORklHX0RSTV9QQU5FTF9PTElNRVhfTENEX09MSU5VWElOTykgKz0gcGFu
ZWwtb2xpbWV4LWxjZC1vbGludXhpbm8ubwogb2JqLSQoQ09ORklHX0RSTV9QQU5FTF9PUklTRVRF
Q0hfT1RNODAwOUEpICs9IHBhbmVsLW9yaXNldGVjaC1vdG04MDA5YS5vCmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtbmVjLW5sODA0OGhsMTEuYyBiL2RyaXZlcnMvZ3B1
L2RybS9wYW5lbC9wYW5lbC1uZWMtbmw4MDQ4aGwxMS5jCm5ldyBmaWxlIG1vZGUgMTAwNjQ0Cmlu
ZGV4IDAwMDAwMDAwMDAwMC4uN2MxYjc3YTBiMDI0Ci0tLSAvZGV2L251bGwKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL3BhbmVsL3BhbmVsLW5lYy1ubDgwNDhobDExLmMKQEAgLTAsMCArMSwyNDcgQEAK
Ky8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wKworLyoKKyAqIE5FQyBOTDgwNDhI
TDExIFBhbmVsIERyaXZlcgorICoKKyAqIENvcHlyaWdodCAoQykgMjAxOSBUZXhhcyBJbnN0cnVt
ZW50cyBJbmNvcnBvcmF0ZWQKKyAqCisgKiBCYXNlZCBvbiB0aGUgb21hcGRybS1zcGVjaWZpYyBw
YW5lbC1uZWMtbmw4MDQ4aGwxMSBkcml2ZXIKKyAqCisgKiBDb3B5cmlnaHQgKEMpIDIwMTAgVGV4
YXMgSW5zdHJ1bWVudHMgSW5jb3Jwb3JhdGVkCisgKiBBdXRob3I6IEVyaWsgR2lsbGluZyA8a29u
a2Vyc0BhbmRyb2lkLmNvbT4KKyAqLworCisjaW5jbHVkZSA8bGludXgvZGVsYXkuaD4KKyNpbmNs
dWRlIDxsaW51eC9ncGlvL2NvbnN1bWVyLmg+CisjaW5jbHVkZSA8bGludXgvbW9kdWxlLmg+Cisj
aW5jbHVkZSA8bGludXgvcG0uaD4KKyNpbmNsdWRlIDxsaW51eC9zcGkvc3BpLmg+CisKKyNpbmNs
dWRlIDxkcm0vZHJtX2Nvbm5lY3Rvci5oPgorI2luY2x1ZGUgPGRybS9kcm1fbW9kZXMuaD4KKyNp
bmNsdWRlIDxkcm0vZHJtX3BhbmVsLmg+CisKK3N0cnVjdCBubDgwNDhfcGFuZWwgeworCXN0cnVj
dCBkcm1fcGFuZWwgcGFuZWw7CisKKwlzdHJ1Y3Qgc3BpX2RldmljZSAqc3BpOworCXN0cnVjdCBn
cGlvX2Rlc2MgKnJlc2V0X2dwaW87Cit9OworCisjZGVmaW5lIHRvX25sODA0OF9kZXZpY2UocCkg
Y29udGFpbmVyX29mKHAsIHN0cnVjdCBubDgwNDhfcGFuZWwsIHBhbmVsKQorCitzdGF0aWMgaW50
IG5sODA0OF93cml0ZShzdHJ1Y3Qgbmw4MDQ4X3BhbmVsICpsY2QsIHVuc2lnbmVkIGNoYXIgYWRk
ciwKKwkJCXVuc2lnbmVkIGNoYXIgdmFsdWUpCit7CisJdTggZGF0YVs0XSA9IHsgdmFsdWUsIDB4
MDEsIGFkZHIsIDB4MDAgfTsKKwlpbnQgcmV0OworCisJcmV0ID0gc3BpX3dyaXRlKGxjZC0+c3Bp
LCBkYXRhLCBzaXplb2YoZGF0YSkpOworCWlmIChyZXQpCisJCWRldl9lcnIoJmxjZC0+c3BpLT5k
ZXYsICJTUEkgd3JpdGUgdG8gJXUgZmFpbGVkOiAlZFxuIiwKKwkJCWFkZHIsIHJldCk7CisKKwly
ZXR1cm4gcmV0OworfQorCitzdGF0aWMgaW50IG5sODA0OF9pbml0KHN0cnVjdCBubDgwNDhfcGFu
ZWwgKmxjZCkKK3sKKwlzdGF0aWMgY29uc3Qgc3RydWN0IHsKKwkJdW5zaWduZWQgY2hhciBhZGRy
OworCQl1bnNpZ25lZCBjaGFyIGRhdGE7CisJfSBubDgwNDhfaW5pdF9zZXFbXSA9IHsKKwkJeyAg
IDMsIDB4MDEgfSwgeyAgIDAsIDB4MDAgfSwgeyAgIDEsIDB4MDEgfSwgeyAgIDQsIDB4MDAgfSwK
KwkJeyAgIDUsIDB4MTQgfSwgeyAgIDYsIDB4MjQgfSwgeyAgMTYsIDB4ZDcgfSwgeyAgMTcsIDB4
MDAgfSwKKwkJeyAgMTgsIDB4MDAgfSwgeyAgMTksIDB4NTUgfSwgeyAgMjAsIDB4MDEgfSwgeyAg
MjEsIDB4NzAgfSwKKwkJeyAgMjIsIDB4MWUgfSwgeyAgMjMsIDB4MjUgfSwgeyAgMjQsIDB4MjUg
fSwgeyAgMjUsIDB4MDIgfSwKKwkJeyAgMjYsIDB4MDIgfSwgeyAgMjcsIDB4YTAgfSwgeyAgMzIs
IDB4MmYgfSwgeyAgMzMsIDB4MGYgfSwKKwkJeyAgMzQsIDB4MGYgfSwgeyAgMzUsIDB4MGYgfSwg
eyAgMzYsIDB4MGYgfSwgeyAgMzcsIDB4MGYgfSwKKwkJeyAgMzgsIDB4MGYgfSwgeyAgMzksIDB4
MDAgfSwgeyAgNDAsIDB4MDIgfSwgeyAgNDEsIDB4MDIgfSwKKwkJeyAgNDIsIDB4MDIgfSwgeyAg
NDMsIDB4MGYgfSwgeyAgNDQsIDB4MGYgfSwgeyAgNDUsIDB4MGYgfSwKKwkJeyAgNDYsIDB4MGYg
fSwgeyAgNDcsIDB4MGYgfSwgeyAgNDgsIDB4MGYgfSwgeyAgNDksIDB4MGYgfSwKKwkJeyAgNTAs
IDB4MDAgfSwgeyAgNTEsIDB4MDIgfSwgeyAgNTIsIDB4MDIgfSwgeyAgNTMsIDB4MDIgfSwKKwkJ
eyAgODAsIDB4MGMgfSwgeyAgODMsIDB4NDIgfSwgeyAgODQsIDB4NDIgfSwgeyAgODUsIDB4NDEg
fSwKKwkJeyAgODYsIDB4MTQgfSwgeyAgODksIDB4ODggfSwgeyAgOTAsIDB4MDEgfSwgeyAgOTEs
IDB4MDAgfSwKKwkJeyAgOTIsIDB4MDIgfSwgeyAgOTMsIDB4MGMgfSwgeyAgOTQsIDB4MWMgfSwg
eyAgOTUsIDB4MjcgfSwKKwkJeyAgOTgsIDB4NDkgfSwgeyAgOTksIDB4MjcgfSwgeyAxMDIsIDB4
NzYgfSwgeyAxMDMsIDB4MjcgfSwKKwkJeyAxMTIsIDB4MDEgfSwgeyAxMTMsIDB4MGUgfSwgeyAx
MTQsIDB4MDIgfSwgeyAxMTUsIDB4MGMgfSwKKwkJeyAxMTgsIDB4MGMgfSwgeyAxMjEsIDB4MzAg
fSwgeyAxMzAsIDB4MDAgfSwgeyAxMzEsIDB4MDAgfSwKKwkJeyAxMzIsIDB4ZmMgfSwgeyAxMzQs
IDB4MDAgfSwgeyAxMzYsIDB4MDAgfSwgeyAxMzgsIDB4MDAgfSwKKwkJeyAxMzksIDB4MDAgfSwg
eyAxNDAsIDB4MDAgfSwgeyAxNDEsIDB4ZmMgfSwgeyAxNDMsIDB4MDAgfSwKKwkJeyAxNDUsIDB4
MDAgfSwgeyAxNDcsIDB4MDAgfSwgeyAxNDgsIDB4MDAgfSwgeyAxNDksIDB4MDAgfSwKKwkJeyAx
NTAsIDB4ZmMgfSwgeyAxNTIsIDB4MDAgfSwgeyAxNTQsIDB4MDAgfSwgeyAxNTYsIDB4MDAgfSwK
KwkJeyAxNTcsIDB4MDAgfSwKKwl9OworCisJdW5zaWduZWQgaW50IGk7CisJaW50IHJldDsKKwor
CWZvciAoaSA9IDA7IGkgPCBBUlJBWV9TSVpFKG5sODA0OF9pbml0X3NlcSk7ICsraSkgeworCQly
ZXQgPSBubDgwNDhfd3JpdGUobGNkLCBubDgwNDhfaW5pdF9zZXFbaV0uYWRkciwKKwkJCQkgICBu
bDgwNDhfaW5pdF9zZXFbaV0uZGF0YSk7CisJCWlmIChyZXQgPCAwKQorCQkJcmV0dXJuIHJldDsK
Kwl9CisKKwl1ZGVsYXkoMjApOworCisJcmV0dXJuIG5sODA0OF93cml0ZShsY2QsIDIsIDB4MDAp
OworfQorCitzdGF0aWMgaW50IG5sODA0OF9kaXNhYmxlKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVs
KQoreworCXN0cnVjdCBubDgwNDhfcGFuZWwgKmxjZCA9IHRvX25sODA0OF9kZXZpY2UocGFuZWwp
OworCisJZ3Bpb2Rfc2V0X3ZhbHVlX2NhbnNsZWVwKGxjZC0+cmVzZXRfZ3BpbywgMCk7CisKKwly
ZXR1cm4gMDsKK30KKworc3RhdGljIGludCBubDgwNDhfZW5hYmxlKHN0cnVjdCBkcm1fcGFuZWwg
KnBhbmVsKQoreworCXN0cnVjdCBubDgwNDhfcGFuZWwgKmxjZCA9IHRvX25sODA0OF9kZXZpY2Uo
cGFuZWwpOworCisJZ3Bpb2Rfc2V0X3ZhbHVlX2NhbnNsZWVwKGxjZC0+cmVzZXRfZ3BpbywgMSk7
CisKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2Rl
IG5sODA0OF9tb2RlID0geworCS8qICBORUMgUElYIENsb2NrIFJhdGluZ3MgTUlOOjIxLjhNSHog
VFlQOjIzLjhNSHogTUFYOjI1LjdNSHogKi8KKwkuY2xvY2sJPSAyMzgwMCwKKwkuaGRpc3BsYXkg
PSA4MDAsCisJLmhzeW5jX3N0YXJ0ID0gODAwICsgNiwKKwkuaHN5bmNfZW5kID0gODAwICsgNiAr
IDEsCisJLmh0b3RhbCA9IDgwMCArIDYgKyAxICsgNCwKKwkudmRpc3BsYXkgPSA0ODAsCisJLnZz
eW5jX3N0YXJ0ID0gNDgwICsgMywKKwkudnN5bmNfZW5kID0gNDgwICsgMyArIDEsCisJLnZ0b3Rh
bCA9IDQ4MCArIDMgKyAxICsgNCwKKwkudnJlZnJlc2ggPSA2MCwKKwkudHlwZSA9IERSTV9NT0RF
X1RZUEVfRFJJVkVSIHwgRFJNX01PREVfVFlQRV9QUkVGRVJSRUQsCisJLmZsYWdzID0gRFJNX01P
REVfRkxBR19OSFNZTkMgfCBEUk1fTU9ERV9GTEFHX05WU1lOQywKKwkud2lkdGhfbW0gPSA4OSwK
KwkuaGVpZ2h0X21tID0gNTMsCit9OworCitzdGF0aWMgaW50IG5sODA0OF9nZXRfbW9kZXMoc3Ry
dWN0IGRybV9wYW5lbCAqcGFuZWwpCit7CisJc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3Rv
ciA9IHBhbmVsLT5jb25uZWN0b3I7CisJc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGU7CisK
Kwltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKHBhbmVsLT5kcm0sICZubDgwNDhfbW9kZSk7CisJ
aWYgKCFtb2RlKQorCQlyZXR1cm4gLUVOT01FTTsKKworCWRybV9tb2RlX3NldF9uYW1lKG1vZGUp
OworCWRybV9tb2RlX3Byb2JlZF9hZGQoY29ubmVjdG9yLCBtb2RlKTsKKworCWNvbm5lY3Rvci0+
ZGlzcGxheV9pbmZvLndpZHRoX21tID0gbmw4MDQ4X21vZGUud2lkdGhfbW07CisJY29ubmVjdG9y
LT5kaXNwbGF5X2luZm8uaGVpZ2h0X21tID0gbmw4MDQ4X21vZGUuaGVpZ2h0X21tOworCWNvbm5l
Y3Rvci0+ZGlzcGxheV9pbmZvLmJ1c19mbGFncyA9IERSTV9CVVNfRkxBR19ERV9ISUdICisJCQkJ
CSAgfCBEUk1fQlVTX0ZMQUdfU1lOQ19TQU1QTEVfTkVHRURHRQorCQkJCQkgIHwgRFJNX0JVU19G
TEFHX1BJWERBVEFfU0FNUExFX05FR0VER0U7CisKKwlyZXR1cm4gMTsKK30KKworc3RhdGljIGNv
bnN0IHN0cnVjdCBkcm1fcGFuZWxfZnVuY3Mgbmw4MDQ4X2Z1bmNzID0geworCS5kaXNhYmxlID0g
bmw4MDQ4X2Rpc2FibGUsCisJLmVuYWJsZSA9IG5sODA0OF9lbmFibGUsCisJLmdldF9tb2RlcyA9
IG5sODA0OF9nZXRfbW9kZXMsCit9OworCitzdGF0aWMgaW50IF9fbWF5YmVfdW51c2VkIG5sODA0
OF9zdXNwZW5kKHN0cnVjdCBkZXZpY2UgKmRldikKK3sKKwlzdHJ1Y3Qgbmw4MDQ4X3BhbmVsICps
Y2QgPSBkZXZfZ2V0X2RydmRhdGEoZGV2KTsKKworCW5sODA0OF93cml0ZShsY2QsIDIsIDB4MDEp
OworCW1zbGVlcCg0MCk7CisKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIGludCBfX21heWJlX3Vu
dXNlZCBubDgwNDhfcmVzdW1lKHN0cnVjdCBkZXZpY2UgKmRldikKK3sKKwlzdHJ1Y3Qgbmw4MDQ4
X3BhbmVsICpsY2QgPSBkZXZfZ2V0X2RydmRhdGEoZGV2KTsKKworCS8qIFJlaW5pdGlhbGl6ZSB0
aGUgcGFuZWwuICovCisJc3BpX3NldHVwKGxjZC0+c3BpKTsKKwlubDgwNDhfd3JpdGUobGNkLCAy
LCAweDAwKTsKKwlubDgwNDhfaW5pdChsY2QpOworCisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyBT
SU1QTEVfREVWX1BNX09QUyhubDgwNDhfcG1fb3BzLCBubDgwNDhfc3VzcGVuZCwgbmw4MDQ4X3Jl
c3VtZSk7CisKK3N0YXRpYyBpbnQgbmw4MDQ4X3Byb2JlKHN0cnVjdCBzcGlfZGV2aWNlICpzcGkp
Cit7CisJc3RydWN0IG5sODA0OF9wYW5lbCAqbGNkOworCWludCByZXQ7CisKKwlsY2QgPSBkZXZt
X2t6YWxsb2MoJnNwaS0+ZGV2LCBzaXplb2YoKmxjZCksIEdGUF9LRVJORUwpOworCWlmIChsY2Qg
PT0gTlVMTCkKKwkJcmV0dXJuIC1FTk9NRU07CisKKwlzcGlfc2V0X2RydmRhdGEoc3BpLCBsY2Qp
OworCWxjZC0+c3BpID0gc3BpOworCisJbGNkLT5yZXNldF9ncGlvID0gZGV2bV9ncGlvZF9nZXQo
JnNwaS0+ZGV2LCAicmVzZXQiLCBHUElPRF9PVVRfTE9XKTsKKwlpZiAoSVNfRVJSKGxjZC0+cmVz
ZXRfZ3BpbykpIHsKKwkJZGV2X2Vycigmc3BpLT5kZXYsICJmYWlsZWQgdG8gcGFyc2UgcmVzZXQg
Z3Bpb1xuIik7CisJCXJldHVybiBQVFJfRVJSKGxjZC0+cmVzZXRfZ3Bpbyk7CisJfQorCisJc3Bp
LT5tb2RlID0gU1BJX01PREVfMDsKKwlzcGktPmJpdHNfcGVyX3dvcmQgPSAzMjsKKworCXJldCA9
IHNwaV9zZXR1cChzcGkpOworCWlmIChyZXQgPCAwKSB7CisJCWRldl9lcnIoJnNwaS0+ZGV2LCAi
ZmFpbGVkIHRvIHNldHVwIFNQSTogJWRcbiIsIHJldCk7CisJCXJldHVybiByZXQ7CisJfQorCisJ
cmV0ID0gbmw4MDQ4X2luaXQobGNkKTsKKwlpZiAocmV0IDwgMCkKKwkJcmV0dXJuIHJldDsKKwor
CWRybV9wYW5lbF9pbml0KCZsY2QtPnBhbmVsKTsKKwlsY2QtPnBhbmVsLmRldiA9ICZsY2QtPnNw
aS0+ZGV2OworCWxjZC0+cGFuZWwuZnVuY3MgPSAmbmw4MDQ4X2Z1bmNzOworCisJcmV0dXJuIGRy
bV9wYW5lbF9hZGQoJmxjZC0+cGFuZWwpOworfQorCitzdGF0aWMgaW50IG5sODA0OF9yZW1vdmUo
c3RydWN0IHNwaV9kZXZpY2UgKnNwaSkKK3sKKwlzdHJ1Y3Qgbmw4MDQ4X3BhbmVsICpsY2QgPSBz
cGlfZ2V0X2RydmRhdGEoc3BpKTsKKworCWRybV9wYW5lbF9yZW1vdmUoJmxjZC0+cGFuZWwpOwor
CWRybV9wYW5lbF9kaXNhYmxlKCZsY2QtPnBhbmVsKTsKKworCXJldHVybiAwOworfQorCitzdGF0
aWMgY29uc3Qgc3RydWN0IG9mX2RldmljZV9pZCBubDgwNDhfb2ZfbWF0Y2hbXSA9IHsKKwl7IC5j
b21wYXRpYmxlID0gIm5lYyxubDgwNDhobDExIiwgfSwKKwl7IC8qIHNlbnRpbmVsICovIH0sCit9
OworCitNT0RVTEVfREVWSUNFX1RBQkxFKG9mLCBubDgwNDhfb2ZfbWF0Y2gpOworCitzdGF0aWMg
c3RydWN0IHNwaV9kcml2ZXIgbmw4MDQ4X2RyaXZlciA9IHsKKwkucHJvYmUJCT0gbmw4MDQ4X3By
b2JlLAorCS5yZW1vdmUJCT0gbmw4MDQ4X3JlbW92ZSwKKwkuZHJpdmVyCQk9IHsKKwkJLm5hbWUJ
PSAicGFuZWwtbmVjLW5sODA0OGhsMTEiLAorCQkucG0JPSAmbmw4MDQ4X3BtX29wcywKKwkJLm9m
X21hdGNoX3RhYmxlID0gbmw4MDQ4X29mX21hdGNoLAorCX0sCit9OworCittb2R1bGVfc3BpX2Ry
aXZlcihubDgwNDhfZHJpdmVyKTsKKworTU9EVUxFX0FMSUFTKCJzcGk6bmVjLG5sODA0OGhsMTEi
KTsKK01PRFVMRV9BVVRIT1IoIkVyaWsgR2lsbGluZyA8a29ua2Vyc0BhbmRyb2lkLmNvbT4iKTsK
K01PRFVMRV9ERVNDUklQVElPTigiTkVDLU5MODA0OEhMMTEgRHJpdmVyIik7CitNT0RVTEVfTElD
RU5TRSgiR1BMIik7Ci0tIApSZWdhcmRzLAoKTGF1cmVudCBQaW5jaGFydAoKX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlz
dApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0
b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
