Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id B2187284333
	for <lists+dri-devel@lfdr.de>; Tue,  6 Oct 2020 02:16:07 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0D8036E1CE;
	Tue,  6 Oct 2020 00:16:03 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ed1-x544.google.com (mail-ed1-x544.google.com
 [IPv6:2a00:1450:4864:20::544])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A779B6E1CE
 for <dri-devel@lists.freedesktop.org>; Tue,  6 Oct 2020 00:16:01 +0000 (UTC)
Received: by mail-ed1-x544.google.com with SMTP id n22so11486035edt.4
 for <dri-devel@lists.freedesktop.org>; Mon, 05 Oct 2020 17:16:01 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=kVSbO0ffAVwIoY+RutJlluWNMhg5bn+JYJUFR8GzJhQ=;
 b=ZYE1MWq+CfcH4L7yMIsW1il35b35UjPYZsgCCY676cbmo1JG3aljxFpBM0we8srhgT
 HBf2eDKo1bbiJ+WdOSflETk24ztS06pqjO+/oXVA2D2nvslMXrT6jYtfwAkZRj6ioNn+
 GbubT6Y57mZpBf85hswgBK8IFwgEaUKWjqwyMpebjEArbvd+pO8V84QNAFs+L9op2ZEL
 fGSQ4Q4W8Be7xZzLMHU+bsRQiAUrlKgPFG8uN1pfPfNnTH/K/brUAlOdWu+xzq6Pyo0c
 PAIF1ilDHi9KmAN1QCI1apNUHDmIK3pvsCXg6yOZCM0+EZk+ovug9YZ3mD0TNxGlJgcu
 9WnA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=kVSbO0ffAVwIoY+RutJlluWNMhg5bn+JYJUFR8GzJhQ=;
 b=jAE4IeerxfSToUeAhPHx4ExC5K1YC69Vya9Jslmn9f1/JzwW5ONJ8z3ss+rEM/KePc
 6OdWFO43+vvMd1Y1dsZz2UokLvg322ISXAAv09jH60DGpVlhBcxx1MjL3XD/R17gciHv
 lHl2FYF8CIAeOlP747txbyI68t6LBMIxtzOU6uvjQy44AEeE/gvswUFHiury8REIEI+R
 RjCgUcpXfOhAuQMyLHdW/DTsygYVOmKZeGHilCBC45nygLWdYgEKa+m+9NDvw2kijdwP
 bqmB5pk+VFDX9NfkAoPQmtBYj2Bb486dTRwPm41p7aogi5etUlopHnrRe8vseVZ/DJTg
 qFpA==
X-Gm-Message-State: AOAM530I6ZzXPUN3gWjJVuUSvILKbC3IhqsQ+hOK0u/zPKHB7ETAeIoX
 pkTLtkS9ZL806qLBR0mLC1Z92Fry7cLs4IjvRLs=
X-Google-Smtp-Source: ABdhPJwdl8b0XV8gBfST3Lb5foJjHH56cFCG5GB/z3ru7I9dJ8dSIjo/uSHiD7pNa+dtrGhNGMr61za+JMROhuzPJmg=
X-Received: by 2002:a05:6402:2073:: with SMTP id
 bd19mr2396740edb.127.1601943358022; 
 Mon, 05 Oct 2020 17:15:58 -0700 (PDT)
MIME-Version: 1.0
References: <20201002084707.2203-1-christian.koenig@amd.com>
In-Reply-To: <20201002084707.2203-1-christian.koenig@amd.com>
From: Dave Airlie <airlied@gmail.com>
Date: Tue, 6 Oct 2020 10:15:44 +1000
Message-ID: <CAPM=9tx-2p53V7oU3eeWL0NV2XfiwRYF+R5o4=yC1unNOQsrnQ@mail.gmail.com>
Subject: Re: [PATCH 1/4] drm/ttm: device naming cleanup
To: =?UTF-8?Q?Christian_K=C3=B6nig?= <ckoenig.leichtzumerken@gmail.com>
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Huang Rui <ray.huang@amd.com>, dri-devel <dri-devel@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gRnJpLCAyIE9jdCAyMDIwIGF0IDE4OjQ3LCBDaHJpc3RpYW4gS8O2bmlnCjxja29lbmlnLmxl
aWNodHp1bWVya2VuQGdtYWlsLmNvbT4gd3JvdGU6Cj4KPiBSZW5hbWUgdHRtX2JvX2RldmljZSB0
byB0dG1fZGV2aWNlLgo+IFJlbmFtZSB0dG1fYm9fZHJpdmVyIHRvIHR0bV9kZXZpY2VfZnVuY3Mu
Cj4gUmVuYW1lIHR0bV9ib19nbG9iYWwgdG8gdHRtX2dsb2JhbC4KPgo+IE1vdmUgZ2xvYmFsIGFu
ZCBkZXZpY2UgcmVsYXRlZCBmdW5jdGlvbnMgdG8gdHRtX2RldmljZS5bY2hdLgoKSSd2ZSBhIHBy
b2JsZW0gd2l0aCBkb2luZyB0aGlzIG5vdywgc2luY2Ugd2UgYXJlIGNodXJuaW5nIGEgbG90IG9m
CnN0dWZmIGludG8gZHJtLW1pc2MtbmV4dCB0aGlzIHdpbGwgbWFrZSByZXZlcnRzIGEgbG90IG1l
c3NpZXIgdGhhbgpyZXF1aXJlZCBpbiBvcmRlciB0byBmYWNpbGlhdGUgcmVncmVzc2lvbiB0ZXN0
aW5nLgoKSSd2ZSBhbHJlYWR5IGJ1cm5lZCAyLTMgZGF5cyBvbiB2bXdnZnggcmVncmVzc2lvbnMg
YW5kIEknbSBub3QgcmVhbGx5CndhbnRpbmcgdG8gYWRkIG1ham9yIHJlbmFtZXMgb3IgcmVzdHJ1
Y3R1cmVzIHVudGlsIHdlIGhhdmUgc2V0dGxlZAp0aGluZ3MgZG93biBhIGJpdCBtb3JlLgoKSSdt
IG5vdCBzdXJlIHdoZW4gd291bGQgYmUgYSBnb29kIHRpbWUsIGFuZCBtYXliZSB0aGUgZ2xvYmFs
IG9uZSB3b3VsZApiZSBhIGxvdCBsZXNzIG9mIGltcGFjdCB2cyB0aGUgdHRtX2JvX2RldmljZS0+
dHRtX0RldmljZSBvbmUuCgpEYXZlLgo+Cj4gTm8gZnVuY3Rpb25hbCBjaGFuZ2UuCj4KPiBTaWdu
ZWQtb2ZmLWJ5OiBDaHJpc3RpYW4gS8O2bmlnIDxjaHJpc3RpYW4ua29lbmlnQGFtZC5jb20+Cj4g
LS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdS5oICAgICAgICAgICB8ICAg
MiArLQo+ICAuLi4vZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmRfZmVuY2UuYyAgfCAg
IDYgKy0KPiAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dhcnQuYyAgICAgIHwg
ICAyICstCj4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90dG0uYyAgICAgICB8
ICAyNCArLQo+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdHRtLmggICAgICAg
fCAgIDIgKy0KPiAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtLmMgICAgICAg
IHwgICA4ICstCj4gIGRyaXZlcnMvZ3B1L2RybS9kcm1fZ2VtX3ZyYW1faGVscGVyLmMgICAgICAg
ICB8ICAxNCArLQo+ICBkcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X2JvLmMgICAgICAg
ICAgfCAgMTggKy0KPiAgZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbm91dmVhdV9iby5oICAgICAg
ICAgIHwgICAyICstCj4gIGRyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfZHJ2LmggICAg
ICAgICB8ICAgMiArLQo+ICBkcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X3NnZG1hLmMg
ICAgICAgfCAgIDYgKy0KPiAgZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbm91dmVhdV90dG0uYyAg
ICAgICAgIHwgICA0ICstCj4gIGRyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfdHRtLmgg
ICAgICAgICB8ICAgOCArLQo+ICBkcml2ZXJzL2dwdS9kcm0vcXhsL3F4bF9kcnYuaCAgICAgICAg
ICAgICAgICAgfCAgIDQgKy0KPiAgZHJpdmVycy9ncHUvZHJtL3F4bC9xeGxfcmVsZWFzZS5jICAg
ICAgICAgICAgIHwgICA2ICstCj4gIGRyaXZlcnMvZ3B1L2RybS9xeGwvcXhsX3R0bS5jICAgICAg
ICAgICAgICAgICB8ICAxNiArLQo+ICBkcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbi5oICAg
ICAgICAgICAgICAgfCAgIDYgKy0KPiAgZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fdHRt
LmMgICAgICAgICAgIHwgIDM0ICstCj4gIGRyaXZlcnMvZ3B1L2RybS90dG0vTWFrZWZpbGUgICAg
ICAgICAgICAgICAgICB8ICAgMiArLQo+ICBkcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9hZ3BfYmFj
a2VuZC5jICAgICAgICAgfCAgIDIgKy0KPiAgZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm8uYyAg
ICAgICAgICAgICAgICAgIHwgMzA4ICsrKy0tLS0tLS0tLS0tLQo+ICBkcml2ZXJzL2dwdS9kcm0v
dHRtL3R0bV9ib191dGlsLmMgICAgICAgICAgICAgfCAgMjQgKy0KPiAgZHJpdmVycy9ncHUvZHJt
L3R0bS90dG1fYm9fdm0uYyAgICAgICAgICAgICAgIHwgIDI0ICstCj4gIGRyaXZlcnMvZ3B1L2Ry
bS90dG0vdHRtX2RldmljZS5jICAgICAgICAgICAgICB8IDIyMiArKysrKysrKysrKwo+ICBkcml2
ZXJzL2dwdS9kcm0vdHRtL3R0bV9leGVjYnVmX3V0aWwuYyAgICAgICAgfCAgIDggKy0KPiAgZHJp
dmVycy9ncHUvZHJtL3R0bS90dG1fbWVtb3J5LmMgICAgICAgICAgICAgIHwgICAyICstCj4gIGRy
aXZlcnMvZ3B1L2RybS90dG0vdHRtX3JhbmdlX21hbmFnZXIuYyAgICAgICB8ICAgNCArLQo+ICBk
cml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9yZXNvdXJjZS5jICAgICAgICAgICAgfCAgIDQgKy0KPiAg
ZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fdHQuYyAgICAgICAgICAgICAgICAgIHwgIDI2ICstCj4g
IGRyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2JsaXQuYyAgICAgICAgICB8ICAgNCArLQo+
ICBkcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9iby5jICAgICAgICAgICAgfCAgIDQgKy0K
PiAgZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfZHJ2LmMgICAgICAgICAgIHwgICA2ICst
Cj4gIGRyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2Rydi5oICAgICAgICAgICB8ICAgNCAr
LQo+ICBkcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9yZXNvdXJjZS5jICAgICAgfCAgIDIg
Ky0KPiAgZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfdHRtX2J1ZmZlci5jICAgIHwgIDE0
ICstCj4gIGluY2x1ZGUvZHJtL2RybV9nZW1fdnJhbV9oZWxwZXIuaCAgICAgICAgICAgICB8ICAg
NiArLQo+ICBpbmNsdWRlL2RybS90dG0vdHRtX2JvX2FwaS5oICAgICAgICAgICAgICAgICAgfCAg
NDQgKy0tCj4gIGluY2x1ZGUvZHJtL3R0bS90dG1fYm9fZHJpdmVyLmggICAgICAgICAgICAgICB8
IDM1NyArLS0tLS0tLS0tLS0tLS0tLQo+ICBpbmNsdWRlL2RybS90dG0vdHRtX2RldmljZS5oICAg
ICAgICAgICAgICAgICAgfCAzNjYgKysrKysrKysrKysrKysrKysrCj4gIGluY2x1ZGUvZHJtL3R0
bS90dG1fcmVzb3VyY2UuaCAgICAgICAgICAgICAgICB8ICAgNCArLQo+ICBpbmNsdWRlL2RybS90
dG0vdHRtX3R0LmggICAgICAgICAgICAgICAgICAgICAgfCAgMTIgKy0KPiAgNDEgZmlsZXMgY2hh
bmdlZCwgODMzIGluc2VydGlvbnMoKyksIDc4MCBkZWxldGlvbnMoLSkKPiAgY3JlYXRlIG1vZGUg
MTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2RldmljZS5jCj4gIGNyZWF0ZSBtb2RlIDEw
MDY0NCBpbmNsdWRlL2RybS90dG0vdHRtX2RldmljZS5oCj4KPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1LmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9hbWRncHUuaAo+IGluZGV4IDQwMDlkMmUzMDcyNy4uYTAzZjliZDNlYTRiIDEwMDY0NAo+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdS5oCj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1LmgKPiBAQCAtOTk5LDcgKzk5OSw3IEBAIHN0YXRpYyBp
bmxpbmUgc3RydWN0IGRybV9kZXZpY2UgKmFkZXZfdG9fZHJtKHN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2KQo+ICAgICAgICAgcmV0dXJuICZhZGV2LT5kZGV2Owo+ICB9Cj4KPiAtc3RhdGljIGlu
bGluZSBzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYW1kZ3B1X3R0bV9hZGV2KHN0cnVjdCB0dG1fYm9f
ZGV2aWNlICpiZGV2KQo+ICtzdGF0aWMgaW5saW5lIHN0cnVjdCBhbWRncHVfZGV2aWNlICphbWRn
cHVfdHRtX2FkZXYoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYpCj4gIHsKPiAgICAgICAgIHJldHVy
biBjb250YWluZXJfb2YoYmRldiwgc3RydWN0IGFtZGdwdV9kZXZpY2UsIG1tYW4uYmRldik7Cj4g
IH0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtm
ZF9mZW5jZS5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtmZF9mZW5j
ZS5jCj4gaW5kZXggMzEwN2I5NTc1OTI5Li41YWY0NjQ5MzM5NzYgMTAwNjQ0Cj4gLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtmZF9mZW5jZS5jCj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtmZF9mZW5jZS5jCj4gQEAgLTQwLDEz
ICs0MCwxMyBAQCBzdGF0aWMgYXRvbWljX3QgZmVuY2Vfc2VxID0gQVRPTUlDX0lOSVQoMCk7Cj4g
ICAqIEFsbCB0aGUgQk9zIGluIGEgcHJvY2VzcyBzaGFyZSBhbiBldmljdGlvbiBmZW5jZS4gV2hl
biBwcm9jZXNzIFggd2FudHMKPiAgICogdG8gbWFwIFZSQU0gbWVtb3J5IGJ1dCBUVE0gY2FuJ3Qg
ZmluZCBlbm91Z2ggc3BhY2UsIFRUTSB3aWxsIGF0dGVtcHQgdG8KPiAgICogZXZpY3QgQk9zIGZy
b20gaXRzIExSVSBsaXN0LiBUVE0gY2hlY2tzIGlmIHRoZSBCTyBpcyB2YWx1YWJsZSB0byBldmlj
dAo+IC0gKiBieSBjYWxsaW5nIHR0bV9ib19kcml2ZXItPmV2aWN0aW9uX3ZhbHVhYmxlKCkuCj4g
KyAqIGJ5IGNhbGxpbmcgdHRtX2RldmljZV9mdW5jcy0+ZXZpY3Rpb25fdmFsdWFibGUoKS4KPiAg
ICoKPiAtICogdHRtX2JvX2RyaXZlci0+ZXZpY3Rpb25fdmFsdWFibGUoKSAtIHdpbGwgcmV0dXJu
IGZhbHNlIGlmIHRoZSBCTyBiZWxvbmdzCj4gKyAqIHR0bV9kZXZpY2VfZnVuY3MtPmV2aWN0aW9u
X3ZhbHVhYmxlKCkgLSB3aWxsIHJldHVybiBmYWxzZSBpZiB0aGUgQk8gYmVsb25ncwo+ICAgKiAg
dG8gcHJvY2VzcyBYLiBPdGhlcndpc2UsIGl0IHdpbGwgcmV0dXJuIHRydWUgdG8gaW5kaWNhdGUg
Qk8gY2FuIGJlCj4gICAqICBldmljdGVkIGJ5IFRUTS4KPiAgICoKPiAtICogSWYgdHRtX2JvX2Ry
aXZlci0+ZXZpY3Rpb25fdmFsdWFibGUgcmV0dXJucyB0cnVlLCB0aGVuIFRUTSB3aWxsIGNvbnRp
bnVlCj4gKyAqIElmIHR0bV9kZXZpY2VfZnVuY3MtPmV2aWN0aW9uX3ZhbHVhYmxlIHJldHVybnMg
dHJ1ZSwgdGhlbiBUVE0gd2lsbCBjb250aW51ZQo+ICAgKiB0aGUgZXZjaXRpb24gcHJvY2VzcyBm
b3IgdGhhdCBCTyBieSBjYWxsaW5nIHR0bV9ib19ldmljdCAtLT4gYW1kZ3B1X2JvX21vdmUKPiAg
ICogLS0+IGFtZGdwdV9jb3B5X2J1ZmZlcigpLiBUaGlzIHNldHMgdXAgam9iIGluIEdQVSBzY2hl
ZHVsZXIuCj4gICAqCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdV9nYXJ0LmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ2FydC5jCj4g
aW5kZXggZTAxZTY4MWQyYTYwLi43ZjI1ZjJjMGRlMzggMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dhcnQuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2FtZGdwdV9nYXJ0LmMKPiBAQCAtNzEsNyArNzEsNyBAQAo+ICAgKi8KPiAgc3Rh
dGljIGludCBhbWRncHVfZ2FydF9kdW1teV9wYWdlX2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2Ug
KmFkZXYpCj4gIHsKPiAtICAgICAgIHN0cnVjdCBwYWdlICpkdW1teV9wYWdlID0gdHRtX2JvX2ds
b2IuZHVtbXlfcmVhZF9wYWdlOwo+ICsgICAgICAgc3RydWN0IHBhZ2UgKmR1bW15X3BhZ2UgPSB0
dG1fZ2xvYi5kdW1teV9yZWFkX3BhZ2U7Cj4KPiAgICAgICAgIGlmIChhZGV2LT5kdW1teV9wYWdl
X2FkZHIpCj4gICAgICAgICAgICAgICAgIHJldHVybiAwOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdHRtLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfdHRtLmMKPiBpbmRleCA4Y2RlYzU4YjkxMDYuLjA4OGRjZmNlNmJjYSAxMDA2
NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdHRtLmMKPiArKysg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdHRtLmMKPiBAQCAtNjMsNyArNjMs
NyBAQAo+Cj4gICNkZWZpbmUgQU1ER1BVX1RUTV9WUkFNX01BWF9EV19SRUFEICAgIChzaXplX3Qp
MTI4Cj4KPiAtc3RhdGljIGludCBhbWRncHVfdHRtX2JhY2tlbmRfYmluZChzdHJ1Y3QgdHRtX2Jv
X2RldmljZSAqYmRldiwKPiArc3RhdGljIGludCBhbWRncHVfdHRtX2JhY2tlbmRfYmluZChzdHJ1
Y3QgdHRtX2RldmljZSAqYmRldiwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHN0cnVjdCB0dG1fdHQgKnR0bSwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHN0cnVjdCB0dG1fcmVzb3VyY2UgKmJvX21lbSk7Cj4KPiBAQCAtNzM1LDcgKzczNSw3IEBAIHN0
YXRpYyBpbnQgYW1kZ3B1X2JvX21vdmUoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywgYm9v
bCBldmljdCwKPiAgICoKPiAgICogQ2FsbGVkIGJ5IHR0bV9tZW1faW9fcmVzZXJ2ZSgpIHVsdGlt
YXRlbHkgdmlhIHR0bV9ib192bV9mYXVsdCgpCj4gICAqLwo+IC1zdGF0aWMgaW50IGFtZGdwdV90
dG1faW9fbWVtX3Jlc2VydmUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1f
cmVzb3VyY2UgKm1lbSkKPiArc3RhdGljIGludCBhbWRncHVfdHRtX2lvX21lbV9yZXNlcnZlKHN0
cnVjdCB0dG1fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3Jlc291cmNlICptZW0pCj4gIHsKPiAg
ICAgICAgIHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gYW1kZ3B1X3R0bV9hZGV2KGJkZXYp
Owo+ICAgICAgICAgc3RydWN0IGRybV9tbV9ub2RlICptbV9ub2RlID0gbWVtLT5tbV9ub2RlOwo+
IEBAIC05ODIsNyArOTgyLDcgQEAgdm9pZCBhbWRncHVfdHRtX3R0X3NldF91c2VyX3BhZ2VzKHN0
cnVjdCB0dG1fdHQgKnR0bSwgc3RydWN0IHBhZ2UgKipwYWdlcykKPiAgICoKPiAgICogQ2FsbGVk
IGJ5IGFtZGdwdV90dG1fYmFja2VuZF9iaW5kKCkKPiAgICoqLwo+IC1zdGF0aWMgaW50IGFtZGdw
dV90dG1fdHRfcGluX3VzZXJwdHIoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gK3N0YXRp
YyBpbnQgYW1kZ3B1X3R0bV90dF9waW5fdXNlcnB0cihzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwK
PiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHR0bV90dCAqdHRt
KQo+ICB7Cj4gICAgICAgICBzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IGFtZGdwdV90dG1f
YWRldihiZGV2KTsKPiBAQCAtMTAxOSw3ICsxMDE5LDcgQEAgc3RhdGljIGludCBhbWRncHVfdHRt
X3R0X3Bpbl91c2VycHRyKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICAvKioKPiAgICog
YW1kZ3B1X3R0bV90dF91bnBpbl91c2VycHRyIC0gVW5waW4gYW5kIHVubWFwIHVzZXJwdHIgcGFn
ZXMKPiAgICovCj4gLXN0YXRpYyB2b2lkIGFtZGdwdV90dG1fdHRfdW5waW5fdXNlcnB0cihzdHJ1
Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiArc3RhdGljIHZvaWQgYW1kZ3B1X3R0bV90dF91bnBp
bl91c2VycHRyKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LAo+ICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3R0ICp0dG0pCj4gIHsKPiAgICAgICAgIHN0
cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gYW1kZ3B1X3R0bV9hZGV2KGJkZXYpOwo+IEBAIC0x
MTAzLDcgKzExMDMsNyBAQCBzdGF0aWMgaW50IGFtZGdwdV90dG1fZ2FydF9iaW5kKHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2LAo+ICAgKiBDYWxsZWQgYnkgdHRtX3R0X2JpbmQoKSBvbiBiZWhh
bGYgb2YgdHRtX2JvX2hhbmRsZV9tb3ZlX21lbSgpLgo+ICAgKiBUaGlzIGhhbmRsZXMgYmluZGlu
ZyBHVFQgbWVtb3J5IHRvIHRoZSBkZXZpY2UgYWRkcmVzcyBzcGFjZS4KPiAgICovCj4gLXN0YXRp
YyBpbnQgYW1kZ3B1X3R0bV9iYWNrZW5kX2JpbmQoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYs
Cj4gK3N0YXRpYyBpbnQgYW1kZ3B1X3R0bV9iYWNrZW5kX2JpbmQoc3RydWN0IHR0bV9kZXZpY2Ug
KmJkZXYsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3R0
ICp0dG0sCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3Jl
c291cmNlICpib19tZW0pCj4gIHsKPiBAQCAtMTIzOCw3ICsxMjM4LDcgQEAgaW50IGFtZGdwdV90
dG1fcmVjb3Zlcl9nYXJ0KHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqdGJvKQo+ICAgKiBDYWxs
ZWQgYnkgdHRtX3R0X3VuYmluZCgpIG9uIGJlaGFsZiBvZiB0dG1fYm9fbW92ZV90dG0oKSBhbmQK
PiAgICogdHRtX3R0X2Rlc3Ryb3koKS4KPiAgICovCj4gLXN0YXRpYyB2b2lkIGFtZGdwdV90dG1f
YmFja2VuZF91bmJpbmQoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gK3N0YXRpYyB2b2lk
IGFtZGdwdV90dG1fYmFja2VuZF91bmJpbmQoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4gICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3R0ICp0dG0pCj4g
IHsKPiAgICAgICAgIHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gYW1kZ3B1X3R0bV9hZGV2
KGJkZXYpOwo+IEBAIC0xMjYzLDcgKzEyNjMsNyBAQCBzdGF0aWMgdm9pZCBhbWRncHVfdHRtX2Jh
Y2tlbmRfdW5iaW5kKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICAgICAgICAgZ3R0LT5i
b3VuZCA9IGZhbHNlOwo+ICB9Cj4KPiAtc3RhdGljIHZvaWQgYW1kZ3B1X3R0bV9iYWNrZW5kX2Rl
c3Ryb3koc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gK3N0YXRpYyB2b2lkIGFtZGdwdV90
dG1fYmFja2VuZF9kZXN0cm95KHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LAo+ICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fdHQgKnR0bSkKPiAgewo+ICAg
ICAgICAgc3RydWN0IGFtZGdwdV90dG1fdHQgKmd0dCA9ICh2b2lkICopdHRtOwo+IEBAIC0xMzE2
LDcgKzEzMTYsNyBAQCBzdGF0aWMgc3RydWN0IHR0bV90dCAqYW1kZ3B1X3R0bV90dF9jcmVhdGUo
c3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAgICogTWFwIHRoZSBwYWdlcyBvZiBhIHR0
bV90dCBvYmplY3QgdG8gYW4gYWRkcmVzcyBzcGFjZSB2aXNpYmxlCj4gICAqIHRvIHRoZSB1bmRl
cmx5aW5nIGRldmljZS4KPiAgICovCj4gLXN0YXRpYyBpbnQgYW1kZ3B1X3R0bV90dF9wb3B1bGF0
ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiArc3RhdGljIGludCBhbWRncHVfdHRtX3R0
X3BvcHVsYXRlKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LAo+ICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3R0ICp0dG0sCj4gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHN0cnVjdCB0dG1fb3BlcmF0aW9uX2N0eCAqY3R4KQo+ICB7Cj4gQEAgLTEz
NzEsNyArMTM3MSw3IEBAIHN0YXRpYyBpbnQgYW1kZ3B1X3R0bV90dF9wb3B1bGF0ZShzdHJ1Y3Qg
dHRtX2JvX2RldmljZSAqYmRldiwKPiAgICogVW5tYXBzIHBhZ2VzIG9mIGEgdHRtX3R0IG9iamVj
dCBmcm9tIHRoZSBkZXZpY2UgYWRkcmVzcyBzcGFjZSBhbmQKPiAgICogdW5wb3B1bGF0ZXMgdGhl
IHBhZ2UgYXJyYXkgYmFja2luZyBpdC4KPiAgICovCj4gLXN0YXRpYyB2b2lkIGFtZGdwdV90dG1f
dHRfdW5wb3B1bGF0ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV90dCAq
dHRtKQo+ICtzdGF0aWMgdm9pZCBhbWRncHVfdHRtX3R0X3VucG9wdWxhdGUoc3RydWN0IHR0bV9k
ZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSkKPiAgewo+ICAgICAgICAgc3RydWN0IGFt
ZGdwdV90dG1fdHQgKmd0dCA9ICh2b2lkICopdHRtOwo+ICAgICAgICAgc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXY7Cj4gQEAgLTE2OTcsNyArMTY5Nyw3IEBAIHN0YXRpYyBpbnQgYW1kZ3B1X3R0
bV9hY2Nlc3NfbWVtb3J5KHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCj4gICAgICAgICBy
ZXR1cm4gcmV0Owo+ICB9Cj4KPiAtc3RhdGljIHN0cnVjdCB0dG1fYm9fZHJpdmVyIGFtZGdwdV9i
b19kcml2ZXIgPSB7Cj4gK3N0YXRpYyBzdHJ1Y3QgdHRtX2RldmljZV9mdW5jcyBhbWRncHVfYm9f
ZHJpdmVyID0gewo+ICAgICAgICAgLnR0bV90dF9jcmVhdGUgPSAmYW1kZ3B1X3R0bV90dF9jcmVh
dGUsCj4gICAgICAgICAudHRtX3R0X3BvcHVsYXRlID0gJmFtZGdwdV90dG1fdHRfcG9wdWxhdGUs
Cj4gICAgICAgICAudHRtX3R0X3VucG9wdWxhdGUgPSAmYW1kZ3B1X3R0bV90dF91bnBvcHVsYXRl
LAo+IEBAIC0xODgxLDcgKzE4ODEsNyBAQCBpbnQgYW1kZ3B1X3R0bV9pbml0KHN0cnVjdCBhbWRn
cHVfZGV2aWNlICphZGV2KQo+ICAgICAgICAgbXV0ZXhfaW5pdCgmYWRldi0+bW1hbi5ndHRfd2lu
ZG93X2xvY2spOwo+Cj4gICAgICAgICAvKiBObyBvdGhlcnMgdXNlciBvZiBhZGRyZXNzIHNwYWNl
IHNvIHNldCBpdCB0byAwICovCj4gLSAgICAgICByID0gdHRtX2JvX2RldmljZV9pbml0KCZhZGV2
LT5tbWFuLmJkZXYsCj4gKyAgICAgICByID0gdHRtX2RldmljZV9pbml0KCZhZGV2LT5tbWFuLmJk
ZXYsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZhbWRncHVfYm9fZHJpdmVyLAo+
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGV2X3RvX2RybShhZGV2KS0+YW5vbl9p
bm9kZS0+aV9tYXBwaW5nLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGV2X3Rv
X2RybShhZGV2KS0+dm1hX29mZnNldF9tYW5hZ2VyLAo+IEBAIC0yMDM2LDcgKzIwMzYsNyBAQCB2
b2lkIGFtZGdwdV90dG1fZmluaShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKPiAgICAgICAg
IHR0bV9yYW5nZV9tYW5fZmluaSgmYWRldi0+bW1hbi5iZGV2LCBBTURHUFVfUExfR0RTKTsKPiAg
ICAgICAgIHR0bV9yYW5nZV9tYW5fZmluaSgmYWRldi0+bW1hbi5iZGV2LCBBTURHUFVfUExfR1dT
KTsKPiAgICAgICAgIHR0bV9yYW5nZV9tYW5fZmluaSgmYWRldi0+bW1hbi5iZGV2LCBBTURHUFVf
UExfT0EpOwo+IC0gICAgICAgdHRtX2JvX2RldmljZV9yZWxlYXNlKCZhZGV2LT5tbWFuLmJkZXYp
Owo+ICsgICAgICAgdHRtX2RldmljZV9yZWxlYXNlKCZhZGV2LT5tbWFuLmJkZXYpOwo+ICAgICAg
ICAgYWRldi0+bW1hbi5pbml0aWFsaXplZCA9IGZhbHNlOwo+ICAgICAgICAgRFJNX0lORk8oImFt
ZGdwdTogdHRtIGZpbmFsaXplZFxuIik7Cj4gIH0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3R0bS5oIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
YW1kZ3B1X3R0bS5oCj4gaW5kZXggYTg3OTUxYjJmMDZkLi5lNWQ2MTI0MTVlZmYgMTAwNjQ0Cj4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3R0bS5oCj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3R0bS5oCj4gQEAgLTUzLDcgKzUzLDcgQEAg
c3RydWN0IGFtZGdwdV9ndHRfbWdyIHsKPiAgfTsKPgo+ICBzdHJ1Y3QgYW1kZ3B1X21tYW4gewo+
IC0gICAgICAgc3RydWN0IHR0bV9ib19kZXZpY2UgICAgICAgICAgICBiZGV2Owo+ICsgICAgICAg
c3RydWN0IHR0bV9kZXZpY2UgICAgICAgICAgICAgICBiZGV2Owo+ICAgICAgICAgYm9vbCAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBtZW1fZ2xvYmFsX3JlZmVyZW5jZWQ7Cj4gICAgICAgICBi
b29sICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxpemVkOwo+ICAgICAgICAgdm9p
ZCBfX2lvbWVtICAgICAgICAgICAgICAgICAgICAqYXBlcl9iYXNlX2thZGRyOwo+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdm0uYyBiL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92bS5jCj4gaW5kZXggM2U2MjQzNjIzMDgyLi5kZmJiOWIw
MjU2NTQgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3Zt
LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdm0uYwo+IEBAIC02
MzgsMTUgKzYzOCwxNSBAQCB2b2lkIGFtZGdwdV92bV9tb3ZlX3RvX2xydV90YWlsKHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2LAo+ICAgICAgICAgc3RydWN0IGFtZGdwdV92bV9ib19iYXNlICpi
b19iYXNlOwo+Cj4gICAgICAgICBpZiAodm0tPmJ1bGtfbW92ZWFibGUpIHsKPiAtICAgICAgICAg
ICAgICAgc3Bpbl9sb2NrKCZ0dG1fYm9fZ2xvYi5scnVfbG9jayk7Cj4gKyAgICAgICAgICAgICAg
IHNwaW5fbG9jaygmdHRtX2dsb2IubHJ1X2xvY2spOwo+ICAgICAgICAgICAgICAgICB0dG1fYm9f
YnVsa19tb3ZlX2xydV90YWlsKCZ2bS0+bHJ1X2J1bGtfbW92ZSk7Cj4gLSAgICAgICAgICAgICAg
IHNwaW5fdW5sb2NrKCZ0dG1fYm9fZ2xvYi5scnVfbG9jayk7Cj4gKyAgICAgICAgICAgICAgIHNw
aW5fdW5sb2NrKCZ0dG1fZ2xvYi5scnVfbG9jayk7Cj4gICAgICAgICAgICAgICAgIHJldHVybjsK
PiAgICAgICAgIH0KPgo+ICAgICAgICAgbWVtc2V0KCZ2bS0+bHJ1X2J1bGtfbW92ZSwgMCwgc2l6
ZW9mKHZtLT5scnVfYnVsa19tb3ZlKSk7Cj4KPiAtICAgICAgIHNwaW5fbG9jaygmdHRtX2JvX2ds
b2IubHJ1X2xvY2spOwo+ICsgICAgICAgc3Bpbl9sb2NrKCZ0dG1fZ2xvYi5scnVfbG9jayk7Cj4g
ICAgICAgICBsaXN0X2Zvcl9lYWNoX2VudHJ5KGJvX2Jhc2UsICZ2bS0+aWRsZSwgdm1fc3RhdHVz
KSB7Cj4gICAgICAgICAgICAgICAgIHN0cnVjdCBhbWRncHVfYm8gKmJvID0gYm9fYmFzZS0+Ym87
Cj4KPiBAQCAtNjU4LDcgKzY1OCw3IEBAIHZvaWQgYW1kZ3B1X3ZtX21vdmVfdG9fbHJ1X3RhaWwo
c3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCj4gICAgICAgICAgICAgICAgICAgICAgICAgdHRt
X2JvX21vdmVfdG9fbHJ1X3RhaWwoJmJvLT5zaGFkb3ctPnRibywKPiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmdm0tPmxydV9idWxrX21vdmUpOwo+ICAg
ICAgICAgfQo+IC0gICAgICAgc3Bpbl91bmxvY2soJnR0bV9ib19nbG9iLmxydV9sb2NrKTsKPiAr
ICAgICAgIHNwaW5fdW5sb2NrKCZ0dG1fZ2xvYi5scnVfbG9jayk7Cj4KPiAgICAgICAgIHZtLT5i
dWxrX21vdmVhYmxlID0gdHJ1ZTsKPiAgfQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
ZHJtX2dlbV92cmFtX2hlbHBlci5jIGIvZHJpdmVycy9ncHUvZHJtL2RybV9nZW1fdnJhbV9oZWxw
ZXIuYwo+IGluZGV4IGI5YzBlYTcyMGVmZC4uZjdhMDI3MTIzOTc1IDEwMDY0NAo+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9kcm1fZ2VtX3ZyYW1faGVscGVyLmMKPiArKysgYi9kcml2ZXJzL2dwdS9k
cm0vZHJtX2dlbV92cmFtX2hlbHBlci5jCj4gQEAgLTE4Nyw3ICsxODcsNyBAQCBzdHJ1Y3QgZHJt
X2dlbV92cmFtX29iamVjdCAqZHJtX2dlbV92cmFtX2NyZWF0ZShzdHJ1Y3QgZHJtX2RldmljZSAq
ZGV2LAo+ICAgICAgICAgc3RydWN0IGRybV9nZW1fdnJhbV9vYmplY3QgKmdibzsKPiAgICAgICAg
IHN0cnVjdCBkcm1fZ2VtX29iamVjdCAqZ2VtOwo+ICAgICAgICAgc3RydWN0IGRybV92cmFtX21t
ICp2bW0gPSBkZXYtPnZyYW1fbW07Cj4gLSAgICAgICBzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRl
djsKPiArICAgICAgIHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2Owo+ICAgICAgICAgaW50IHJldDsK
PiAgICAgICAgIHNpemVfdCBhY2Nfc2l6ZTsKPgo+IEBAIC01NTUsNyArNTU1LDcgQEAgaW50IGRy
bV9nZW1fdnJhbV9maWxsX2NyZWF0ZV9kdW1iKHN0cnVjdCBkcm1fZmlsZSAqZmlsZSwKPiAgRVhQ
T1JUX1NZTUJPTChkcm1fZ2VtX3ZyYW1fZmlsbF9jcmVhdGVfZHVtYik7Cj4KPiAgLyoKPiAtICog
SGVscGVycyBmb3Igc3RydWN0IHR0bV9ib19kcml2ZXIKPiArICogSGVscGVycyBmb3Igc3RydWN0
IHR0bV9kZXZpY2VfZnVuY3MKPiAgICovCj4KPiAgc3RhdGljIGJvb2wgZHJtX2lzX2dlbV92cmFt
KHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8pCj4gQEAgLTg4Niw3ICs4ODYsNyBAQCBzdGF0
aWMgY29uc3Qgc3RydWN0IGRybV9nZW1fb2JqZWN0X2Z1bmNzIGRybV9nZW1fdnJhbV9vYmplY3Rf
ZnVuY3MgPSB7Cj4gICAqIFRUTSBUVAo+ICAgKi8KPgo+IC1zdGF0aWMgdm9pZCBib19kcml2ZXJf
dHRtX3R0X2Rlc3Ryb3koc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQg
KnR0KQo+ICtzdGF0aWMgdm9pZCBib19kcml2ZXJfdHRtX3R0X2Rlc3Ryb3koc3RydWN0IHR0bV9k
ZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0KQo+ICB7Cj4gICAgICAgICB0dG1fdHRfZGVz
dHJveV9jb21tb24oYmRldiwgdHQpOwo+ICAgICAgICAgdHRtX3R0X2ZpbmkodHQpOwo+IEBAIC05
NDcsNyArOTQ3LDcgQEAgc3RhdGljIHZvaWQgYm9fZHJpdmVyX21vdmVfbm90aWZ5KHN0cnVjdCB0
dG1fYnVmZmVyX29iamVjdCAqYm8sCj4gICAgICAgICBkcm1fZ2VtX3ZyYW1fYm9fZHJpdmVyX21v
dmVfbm90aWZ5KGdibywgZXZpY3QsIG5ld19tZW0pOwo+ICB9Cj4KPiAtc3RhdGljIGludCBib19k
cml2ZXJfaW9fbWVtX3Jlc2VydmUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gK3N0YXRp
YyBpbnQgYm9fZHJpdmVyX2lvX21lbV9yZXNlcnZlKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LAo+
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2Ug
Km1lbSkKPiAgewo+ICAgICAgICAgc3RydWN0IGRybV92cmFtX21tICp2bW0gPSBkcm1fdnJhbV9t
bV9vZl9iZGV2KGJkZXYpOwo+IEBAIC05NjcsNyArOTY3LDcgQEAgc3RhdGljIGludCBib19kcml2
ZXJfaW9fbWVtX3Jlc2VydmUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gICAgICAgICBy
ZXR1cm4gMDsKPiAgfQo+Cj4gLXN0YXRpYyBzdHJ1Y3QgdHRtX2JvX2RyaXZlciBib19kcml2ZXIg
PSB7Cj4gK3N0YXRpYyBzdHJ1Y3QgdHRtX2RldmljZV9mdW5jcyBib19kcml2ZXIgPSB7Cj4gICAg
ICAgICAudHRtX3R0X2NyZWF0ZSA9IGJvX2RyaXZlcl90dG1fdHRfY3JlYXRlLAo+ICAgICAgICAg
LnR0bV90dF9kZXN0cm95ID0gYm9fZHJpdmVyX3R0bV90dF9kZXN0cm95LAo+ICAgICAgICAgLmV2
aWN0aW9uX3ZhbHVhYmxlID0gdHRtX2JvX2V2aWN0aW9uX3ZhbHVhYmxlLAo+IEBAIC0xMDE3LDcg
KzEwMTcsNyBAQCBzdGF0aWMgaW50IGRybV92cmFtX21tX2luaXQoc3RydWN0IGRybV92cmFtX21t
ICp2bW0sIHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCj4gICAgICAgICB2bW0tPnZyYW1fYmFzZSA9
IHZyYW1fYmFzZTsKPiAgICAgICAgIHZtbS0+dnJhbV9zaXplID0gdnJhbV9zaXplOwo+Cj4gLSAg
ICAgICByZXQgPSB0dG1fYm9fZGV2aWNlX2luaXQoJnZtbS0+YmRldiwgJmJvX2RyaXZlciwKPiAr
ICAgICAgIHJldCA9IHR0bV9kZXZpY2VfaW5pdCgmdm1tLT5iZGV2LCAmYm9fZHJpdmVyLAo+ICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldi0+YW5vbl9pbm9kZS0+aV9tYXBwaW5n
LAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldi0+dm1hX29mZnNldF9tYW5h
Z2VyLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUpOwo+IEBAIC0xMDM1
LDcgKzEwMzUsNyBAQCBzdGF0aWMgaW50IGRybV92cmFtX21tX2luaXQoc3RydWN0IGRybV92cmFt
X21tICp2bW0sIHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCj4gIHN0YXRpYyB2b2lkIGRybV92cmFt
X21tX2NsZWFudXAoc3RydWN0IGRybV92cmFtX21tICp2bW0pCj4gIHsKPiAgICAgICAgIHR0bV9y
YW5nZV9tYW5fZmluaSgmdm1tLT5iZGV2LCBUVE1fUExfVlJBTSk7Cj4gLSAgICAgICB0dG1fYm9f
ZGV2aWNlX3JlbGVhc2UoJnZtbS0+YmRldik7Cj4gKyAgICAgICB0dG1fZGV2aWNlX3JlbGVhc2Uo
JnZtbS0+YmRldik7Cj4gIH0KPgo+ICAvKgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
bm91dmVhdS9ub3V2ZWF1X2JvLmMgYi9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X2Jv
LmMKPiBpbmRleCBiMzdkZmQxMmM3YjkuLjkxMmJjMzIwNGM0ZSAxMDA2NDQKPiAtLS0gYS9kcml2
ZXJzL2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X2JvLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
bm91dmVhdS9ub3V2ZWF1X2JvLmMKPiBAQCAtNDQsNyArNDQsNyBAQAo+ICAjaW5jbHVkZSA8bnZp
Zi9pZjUwMGIuaD4KPiAgI2luY2x1ZGUgPG52aWYvaWY5MDBiLmg+Cj4KPiAtc3RhdGljIGludCBu
b3V2ZWF1X3R0bV90dF9iaW5kKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRt
X3R0ICp0dG0sCj4gK3N0YXRpYyBpbnQgbm91dmVhdV90dG1fdHRfYmluZChzdHJ1Y3QgdHRtX2Rl
dmljZSAqYmRldiwgc3RydWN0IHR0bV90dCAqdHRtLAo+ICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBzdHJ1Y3QgdHRtX3Jlc291cmNlICpyZWcpOwo+Cj4gIC8qCj4gQEAgLTY3NCw3ICs2
NzQsNyBAQCBub3V2ZWF1X3R0bV90dF9jcmVhdGUoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpi
bywgdWludDMyX3QgcGFnZV9mbGFncykKPiAgfQo+Cj4gIHN0YXRpYyBpbnQKPiAtbm91dmVhdV90
dG1fdHRfYmluZChzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV90dCAqdHRt
LAo+ICtub3V2ZWF1X3R0bV90dF9iaW5kKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LCBzdHJ1Y3Qg
dHRtX3R0ICp0dG0sCj4gICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3Jlc291cmNlICpy
ZWcpCj4gIHsKPiAgI2lmIElTX0VOQUJMRUQoQ09ORklHX0FHUCkKPiBAQCAtNjkwLDcgKzY5MCw3
IEBAIG5vdXZlYXVfdHRtX3R0X2JpbmQoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVj
dCB0dG1fdHQgKnR0bSwKPiAgfQo+Cj4gIHN0YXRpYyB2b2lkCj4gLW5vdXZlYXVfdHRtX3R0X3Vu
YmluZChzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV90dCAqdHRtKQo+ICtu
b3V2ZWF1X3R0bV90dF91bmJpbmQoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1f
dHQgKnR0bSkKPiAgewo+ICAjaWYgSVNfRU5BQkxFRChDT05GSUdfQUdQKQo+ICAgICAgICAgc3Ry
dWN0IG5vdXZlYXVfZHJtICpkcm0gPSBub3V2ZWF1X2JkZXYoYmRldik7Cj4gQEAgLTExMDEsNyAr
MTEwMSw3IEBAIG5vdXZlYXVfdHRtX2lvX21lbV9mcmVlX2xvY2tlZChzdHJ1Y3Qgbm91dmVhdV9k
cm0gKmRybSwKPiAgfQo+Cj4gIHN0YXRpYyBpbnQKPiAtbm91dmVhdV90dG1faW9fbWVtX3Jlc2Vy
dmUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fcmVzb3VyY2UgKnJlZykK
PiArbm91dmVhdV90dG1faW9fbWVtX3Jlc2VydmUoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsIHN0
cnVjdCB0dG1fcmVzb3VyY2UgKnJlZykKPiAgewo+ICAgICAgICAgc3RydWN0IG5vdXZlYXVfZHJt
ICpkcm0gPSBub3V2ZWF1X2JkZXYoYmRldik7Cj4gICAgICAgICBzdHJ1Y3QgbnZrbV9kZXZpY2Ug
KmRldmljZSA9IG52eHhfZGV2aWNlKCZkcm0tPmNsaWVudC5kZXZpY2UpOwo+IEBAIC0xMjEwLDcg
KzEyMTAsNyBAQCBub3V2ZWF1X3R0bV9pb19tZW1fcmVzZXJ2ZShzdHJ1Y3QgdHRtX2JvX2Rldmlj
ZSAqYmRldiwgc3RydWN0IHR0bV9yZXNvdXJjZSAqcmVnKQo+ICB9Cj4KPiAgc3RhdGljIHZvaWQK
PiAtbm91dmVhdV90dG1faW9fbWVtX2ZyZWUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0
cnVjdCB0dG1fcmVzb3VyY2UgKnJlZykKPiArbm91dmVhdV90dG1faW9fbWVtX2ZyZWUoc3RydWN0
IHR0bV9kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fcmVzb3VyY2UgKnJlZykKPiAgewo+ICAgICAg
ICAgc3RydWN0IG5vdXZlYXVfZHJtICpkcm0gPSBub3V2ZWF1X2JkZXYoYmRldik7Cj4KPiBAQCAt
MTI3MCw3ICsxMjcwLDcgQEAgdm1fZmF1bHRfdCBub3V2ZWF1X3R0bV9mYXVsdF9yZXNlcnZlX25v
dGlmeShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvKQo+ICB9Cj4KPiAgc3RhdGljIGludAo+
IC1ub3V2ZWF1X3R0bV90dF9wb3B1bGF0ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiAr
bm91dmVhdV90dG1fdHRfcG9wdWxhdGUoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4gICAgICAg
ICAgICAgICAgICAgICAgICAgc3RydWN0IHR0bV90dCAqdHRtLCBzdHJ1Y3QgdHRtX29wZXJhdGlv
bl9jdHggKmN0eCkKPiAgewo+ICAgICAgICAgc3RydWN0IHR0bV9kbWFfdHQgKnR0bV9kbWEgPSAo
dm9pZCAqKXR0bTsKPiBAQCAtMTMwNyw3ICsxMzA3LDcgQEAgbm91dmVhdV90dG1fdHRfcG9wdWxh
dGUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gIH0KPgo+ICBzdGF0aWMgdm9pZAo+IC1u
b3V2ZWF1X3R0bV90dF91bnBvcHVsYXRlKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICtu
b3V2ZWF1X3R0bV90dF91bnBvcHVsYXRlKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LAo+ICAgICAg
ICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHR0bV90dCAqdHRtKQo+ICB7Cj4gICAgICAgICBz
dHJ1Y3QgdHRtX2RtYV90dCAqdHRtX2RtYSA9ICh2b2lkICopdHRtOwo+IEBAIC0xMzM5LDcgKzEz
MzksNyBAQCBub3V2ZWF1X3R0bV90dF91bnBvcHVsYXRlKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpi
ZGV2LAo+ICB9Cj4KPiAgc3RhdGljIHZvaWQKPiAtbm91dmVhdV90dG1fdHRfZGVzdHJveShzdHJ1
Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiArbm91dmVhdV90dG1fdHRfZGVzdHJveShzdHJ1Y3Qg
dHRtX2RldmljZSAqYmRldiwKPiAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fdHQg
KnR0bSkKPiAgewo+ICAjaWYgSVNfRU5BQkxFRChDT05GSUdfQUdQKQo+IEBAIC0xMzY1LDcgKzEz
NjUsNyBAQCBub3V2ZWF1X2JvX2ZlbmNlKHN0cnVjdCBub3V2ZWF1X2JvICpudmJvLCBzdHJ1Y3Qg
bm91dmVhdV9mZW5jZSAqZmVuY2UsIGJvb2wgZXhjbAo+ICAgICAgICAgICAgICAgICBkbWFfcmVz
dl9hZGRfc2hhcmVkX2ZlbmNlKHJlc3YsICZmZW5jZS0+YmFzZSk7Cj4gIH0KPgo+IC1zdHJ1Y3Qg
dHRtX2JvX2RyaXZlciBub3V2ZWF1X2JvX2RyaXZlciA9IHsKPiArc3RydWN0IHR0bV9kZXZpY2Vf
ZnVuY3Mgbm91dmVhdV9ib19kcml2ZXIgPSB7Cj4gICAgICAgICAudHRtX3R0X2NyZWF0ZSA9ICZu
b3V2ZWF1X3R0bV90dF9jcmVhdGUsCj4gICAgICAgICAudHRtX3R0X3BvcHVsYXRlID0gJm5vdXZl
YXVfdHRtX3R0X3BvcHVsYXRlLAo+ICAgICAgICAgLnR0bV90dF91bnBvcHVsYXRlID0gJm5vdXZl
YXVfdHRtX3R0X3VucG9wdWxhdGUsCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9ub3V2
ZWF1L25vdXZlYXVfYm8uaCBiL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfYm8uaAo+
IGluZGV4IDY0MWVmNjI5OGEwZS4uMmZlZTdkNTBlZjA5IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfYm8uaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9ub3V2
ZWF1L25vdXZlYXVfYm8uaAo+IEBAIC03MCw3ICs3MCw3IEBAIG5vdXZlYXVfYm9fcmVmKHN0cnVj
dCBub3V2ZWF1X2JvICpyZWYsIHN0cnVjdCBub3V2ZWF1X2JvICoqcG52Ym8pCj4gICAgICAgICBy
ZXR1cm4gMDsKPiAgfQo+Cj4gLWV4dGVybiBzdHJ1Y3QgdHRtX2JvX2RyaXZlciBub3V2ZWF1X2Jv
X2RyaXZlcjsKPiArZXh0ZXJuIHN0cnVjdCB0dG1fZGV2aWNlX2Z1bmNzIG5vdXZlYXVfYm9fZHJp
dmVyOwo+Cj4gIHZvaWQgbm91dmVhdV9ib19tb3ZlX2luaXQoc3RydWN0IG5vdXZlYXVfZHJtICop
Owo+ICBzdHJ1Y3Qgbm91dmVhdV9ibyAqbm91dmVhdV9ib19hbGxvYyhzdHJ1Y3Qgbm91dmVhdV9j
bGkgKiwgdTY0ICpzaXplLCBpbnQgKmFsaWduLAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vbm91dmVhdS9ub3V2ZWF1X2Rydi5oIGIvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbm91dmVh
dV9kcnYuaAo+IGluZGV4IGI4MDI1NTA3YTllNC4uMGNkZTE2MjExZTQwIDEwMDY0NAo+IC0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfZHJ2LmgKPiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vbm91dmVhdS9ub3V2ZWF1X2Rydi5oCj4gQEAgLTE1Myw3ICsxNTMsNyBAQCBzdHJ1Y3Qg
bm91dmVhdV9kcm0gewo+Cj4gICAgICAgICAvKiBUVE0gaW50ZXJmYWNlIHN1cHBvcnQgKi8KPiAg
ICAgICAgIHN0cnVjdCB7Cj4gLSAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fYm9fZGV2aWNlIGJk
ZXY7Cj4gKyAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fZGV2aWNlIGJkZXY7Cj4gICAgICAgICAg
ICAgICAgIGF0b21pY190IHZhbGlkYXRlX3NlcXVlbmNlOwo+ICAgICAgICAgICAgICAgICBpbnQg
KCptb3ZlKShzdHJ1Y3Qgbm91dmVhdV9jaGFubmVsICosCj4gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqLAo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X3NnZG1hLmMgYi9kcml2ZXJzL2dwdS9kcm0vbm91dmVh
dS9ub3V2ZWF1X3NnZG1hLmMKPiBpbmRleCBjZDZmZGViYWU3OTUuLjA0MDBiYjQzZmFjNSAxMDA2
NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X3NnZG1hLmMKPiArKysg
Yi9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X3NnZG1hLmMKPiBAQCAtMTYsNyArMTYs
NyBAQCBzdHJ1Y3Qgbm91dmVhdV9zZ2RtYV9iZSB7Cj4gIH07Cj4KPiAgdm9pZAo+IC1ub3V2ZWF1
X3NnZG1hX2Rlc3Ryb3koc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQg
KnR0bSkKPiArbm91dmVhdV9zZ2RtYV9kZXN0cm95KHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LCBz
dHJ1Y3QgdHRtX3R0ICp0dG0pCj4gIHsKPiAgICAgICAgIHN0cnVjdCBub3V2ZWF1X3NnZG1hX2Jl
ICpudmJlID0gKHN0cnVjdCBub3V2ZWF1X3NnZG1hX2JlICopdHRtOwo+Cj4gQEAgLTI5LDcgKzI5
LDcgQEAgbm91dmVhdV9zZ2RtYV9kZXN0cm95KHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LCBz
dHJ1Y3QgdHRtX3R0ICp0dG0pCj4gIH0KPgo+ICBpbnQKPiAtbm91dmVhdV9zZ2RtYV9iaW5kKHN0
cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0sIHN0cnVjdCB0dG1f
cmVzb3VyY2UgKnJlZykKPiArbm91dmVhdV9zZ2RtYV9iaW5kKHN0cnVjdCB0dG1fZGV2aWNlICpi
ZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0sIHN0cnVjdCB0dG1fcmVzb3VyY2UgKnJlZykKPiAgewo+
ICAgICAgICAgc3RydWN0IG5vdXZlYXVfc2dkbWFfYmUgKm52YmUgPSAoc3RydWN0IG5vdXZlYXVf
c2dkbWFfYmUgKil0dG07Cj4gICAgICAgICBzdHJ1Y3Qgbm91dmVhdV9kcm0gKmRybSA9IG5vdXZl
YXVfYmRldihiZGV2KTsKPiBAQCAtNTYsNyArNTYsNyBAQCBub3V2ZWF1X3NnZG1hX2JpbmQoc3Ry
dWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSwgc3RydWN0IHR0bV9y
ZQo+ICB9Cj4KPiAgdm9pZAo+IC1ub3V2ZWF1X3NnZG1hX3VuYmluZChzdHJ1Y3QgdHRtX2JvX2Rl
dmljZSAqYmRldiwgc3RydWN0IHR0bV90dCAqdHRtKQo+ICtub3V2ZWF1X3NnZG1hX3VuYmluZChz
dHJ1Y3QgdHRtX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV90dCAqdHRtKQo+ICB7Cj4gICAgICAg
ICBzdHJ1Y3Qgbm91dmVhdV9zZ2RtYV9iZSAqbnZiZSA9IChzdHJ1Y3Qgbm91dmVhdV9zZ2RtYV9i
ZSAqKXR0bTsKPiAgICAgICAgIGlmIChudmJlLT5tZW0pIHsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL25vdXZlYXUvbm91dmVhdV90dG0uYyBiL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1
L25vdXZlYXVfdHRtLmMKPiBpbmRleCBlZGYzYmI4OWE0N2YuLjJmYjEyN2RhMDIwOCAxMDA2NDQK
PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X3R0bS5jCj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL25vdXZlYXUvbm91dmVhdV90dG0uYwo+IEBAIC0zMTUsNyArMzE1LDcgQEAg
bm91dmVhdV90dG1faW5pdChzdHJ1Y3Qgbm91dmVhdV9kcm0gKmRybSkKPiAgICAgICAgICAgICAg
ICAgZHJtLT5hZ3AuY21hID0gcGNpLT5hZ3AuY21hOwo+ICAgICAgICAgfQo+Cj4gLSAgICAgICBy
ZXQgPSB0dG1fYm9fZGV2aWNlX2luaXQoJmRybS0+dHRtLmJkZXYsCj4gKyAgICAgICByZXQgPSB0
dG1fZGV2aWNlX2luaXQoJmRybS0+dHRtLmJkZXYsCj4gICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICZub3V2ZWF1X2JvX2RyaXZlciwKPiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgZGV2LT5hbm9uX2lub2RlLT5pX21hcHBpbmcsCj4gICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGRldi0+dm1hX29mZnNldF9tYW5hZ2VyLAo+IEBAIC0zNjksNyArMzY5
LDcgQEAgbm91dmVhdV90dG1fZmluaShzdHJ1Y3Qgbm91dmVhdV9kcm0gKmRybSkKPiAgICAgICAg
IG5vdXZlYXVfdHRtX2ZpbmlfdnJhbShkcm0pOwo+ICAgICAgICAgbm91dmVhdV90dG1fZmluaV9n
dHQoZHJtKTsKPgo+IC0gICAgICAgdHRtX2JvX2RldmljZV9yZWxlYXNlKCZkcm0tPnR0bS5iZGV2
KTsKPiArICAgICAgIHR0bV9kZXZpY2VfcmVsZWFzZSgmZHJtLT50dG0uYmRldik7Cj4KPiAgICAg
ICAgIGFyY2hfcGh5c193Y19kZWwoZHJtLT50dG0ubXRycik7Cj4gICAgICAgICBkcm0tPnR0bS5t
dHJyID0gMDsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbm91dmVhdV90
dG0uaCBiL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfdHRtLmgKPiBpbmRleCA2OTU1
MjA0OWJiOTYuLmRiZjZkYzIzOGVmZCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vbm91
dmVhdS9ub3V2ZWF1X3R0bS5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbm91dmVh
dV90dG0uaAo+IEBAIC0zLDcgKzMsNyBAQAo+ICAjZGVmaW5lIF9fTk9VVkVBVV9UVE1fSF9fCj4K
PiAgc3RhdGljIGlubGluZSBzdHJ1Y3Qgbm91dmVhdV9kcm0gKgo+IC1ub3V2ZWF1X2JkZXYoc3Ry
dWN0IHR0bV9ib19kZXZpY2UgKmJkKQo+ICtub3V2ZWF1X2JkZXYoc3RydWN0IHR0bV9kZXZpY2Ug
KmJkKQo+ICB7Cj4gICAgICAgICByZXR1cm4gY29udGFpbmVyX29mKGJkLCBzdHJ1Y3Qgbm91dmVh
dV9kcm0sIHR0bS5iZGV2KTsKPiAgfQo+IEBAIC0yMiw3ICsyMiw3IEBAIGludCAgbm91dmVhdV90
dG1fbW1hcChzdHJ1Y3QgZmlsZSAqLCBzdHJ1Y3Qgdm1fYXJlYV9zdHJ1Y3QgKik7Cj4gIGludCAg
bm91dmVhdV90dG1fZ2xvYmFsX2luaXQoc3RydWN0IG5vdXZlYXVfZHJtICopOwo+ICB2b2lkIG5v
dXZlYXVfdHRtX2dsb2JhbF9yZWxlYXNlKHN0cnVjdCBub3V2ZWF1X2RybSAqKTsKPgo+IC1pbnQg
bm91dmVhdV9zZ2RtYV9iaW5kKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRt
X3R0ICp0dG0sIHN0cnVjdCB0dG1fcmVzb3VyY2UgKnJlZyk7Cj4gLXZvaWQgbm91dmVhdV9zZ2Rt
YV91bmJpbmQoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSk7
Cj4gLXZvaWQgbm91dmVhdV9zZ2RtYV9kZXN0cm95KHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2
LCBzdHJ1Y3QgdHRtX3R0ICp0dG0pOwo+ICtpbnQgbm91dmVhdV9zZ2RtYV9iaW5kKHN0cnVjdCB0
dG1fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0sIHN0cnVjdCB0dG1fcmVzb3VyY2Ug
KnJlZyk7Cj4gK3ZvaWQgbm91dmVhdV9zZ2RtYV91bmJpbmQoc3RydWN0IHR0bV9kZXZpY2UgKmJk
ZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSk7Cj4gK3ZvaWQgbm91dmVhdV9zZ2RtYV9kZXN0cm95KHN0
cnVjdCB0dG1fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0pOwo+ICAjZW5kaWYKPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3F4bC9xeGxfZHJ2LmggYi9kcml2ZXJzL2dwdS9k
cm0vcXhsL3F4bF9kcnYuaAo+IGluZGV4IDM2MDJlOGIzNDE4OS4uNzhjMDk2OWUwNDAzIDEwMDY0
NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9xeGwvcXhsX2Rydi5oCj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL3F4bC9xeGxfZHJ2LmgKPiBAQCAtMTIzLDcgKzEyMyw3IEBAIHN0cnVjdCBxeGxfb3V0
cHV0IHsKPiAgI2RlZmluZSBkcm1fZW5jb2Rlcl90b19xeGxfb3V0cHV0KHgpIGNvbnRhaW5lcl9v
Zih4LCBzdHJ1Y3QgcXhsX291dHB1dCwgZW5jKQo+Cj4gIHN0cnVjdCBxeGxfbW1hbiB7Cj4gLSAg
ICAgICBzdHJ1Y3QgdHRtX2JvX2RldmljZSAgICAgICAgICAgIGJkZXY7Cj4gKyAgICAgICBzdHJ1
Y3QgdHRtX2RldmljZSAgICAgICAgICAgICAgIGJkZXY7Cj4gIH07Cj4KPiAgc3RydWN0IHF4bF9t
ZW1zbG90IHsKPiBAQCAtMzQ4LDcgKzM0OCw3IEBAIGludCBxeGxfbW9kZV9kdW1iX21tYXAoc3Ry
dWN0IGRybV9maWxlICpmaWxwLAo+ICAvKiBxeGwgdHRtICovCj4gIGludCBxeGxfdHRtX2luaXQo
c3RydWN0IHF4bF9kZXZpY2UgKnFkZXYpOwo+ICB2b2lkIHF4bF90dG1fZmluaShzdHJ1Y3QgcXhs
X2RldmljZSAqcWRldik7Cj4gLWludCBxeGxfdHRtX2lvX21lbV9yZXNlcnZlKHN0cnVjdCB0dG1f
Ym9fZGV2aWNlICpiZGV2LAo+ICtpbnQgcXhsX3R0bV9pb19tZW1fcmVzZXJ2ZShzdHJ1Y3QgdHRt
X2RldmljZSAqYmRldiwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3Jl
c291cmNlICptZW0pOwo+Cj4gIC8qIHF4bCBpbWFnZSAqLwo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vcXhsL3F4bF9yZWxlYXNlLmMgYi9kcml2ZXJzL2dwdS9kcm0vcXhsL3F4bF9yZWxl
YXNlLmMKPiBpbmRleCBlNzVlMzY0NjU1YjguLjlhOTBmNGUzM2YwOCAxMDA2NDQKPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vcXhsL3F4bF9yZWxlYXNlLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
cXhsL3F4bF9yZWxlYXNlLmMKPiBAQCAtNDI5LDcgKzQyOSw3IEBAIHZvaWQgcXhsX3JlbGVhc2Vf
dW5tYXAoc3RydWN0IHF4bF9kZXZpY2UgKnFkZXYsCj4gIHZvaWQgcXhsX3JlbGVhc2VfZmVuY2Vf
YnVmZmVyX29iamVjdHMoc3RydWN0IHF4bF9yZWxlYXNlICpyZWxlYXNlKQo+ICB7Cj4gICAgICAg
ICBzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvOwo+IC0gICAgICAgc3RydWN0IHR0bV9ib19k
ZXZpY2UgKmJkZXY7Cj4gKyAgICAgICBzdHJ1Y3QgdHRtX2RldmljZSAqYmRldjsKPiAgICAgICAg
IHN0cnVjdCB0dG1fdmFsaWRhdGVfYnVmZmVyICplbnRyeTsKPiAgICAgICAgIHN0cnVjdCBxeGxf
ZGV2aWNlICpxZGV2Owo+Cj4gQEAgLTQ1MCw3ICs0NTAsNyBAQCB2b2lkIHF4bF9yZWxlYXNlX2Zl
bmNlX2J1ZmZlcl9vYmplY3RzKHN0cnVjdCBxeGxfcmVsZWFzZSAqcmVsZWFzZSkKPiAgICAgICAg
ICAgICAgICAgICAgICAgIHJlbGVhc2UtPmlkIHwgMHhmMDAwMDAwMCwgcmVsZWFzZS0+YmFzZS5z
ZXFubyk7Cj4gICAgICAgICB0cmFjZV9kbWFfZmVuY2VfZW1pdCgmcmVsZWFzZS0+YmFzZSk7Cj4K
PiAtICAgICAgIHNwaW5fbG9jaygmdHRtX2JvX2dsb2IubHJ1X2xvY2spOwo+ICsgICAgICAgc3Bp
bl9sb2NrKCZ0dG1fZ2xvYi5scnVfbG9jayk7Cj4KPiAgICAgICAgIGxpc3RfZm9yX2VhY2hfZW50
cnkoZW50cnksICZyZWxlYXNlLT5ib3MsIGhlYWQpIHsKPiAgICAgICAgICAgICAgICAgYm8gPSBl
bnRyeS0+Ym87Cj4gQEAgLTQ1OSw3ICs0NTksNyBAQCB2b2lkIHF4bF9yZWxlYXNlX2ZlbmNlX2J1
ZmZlcl9vYmplY3RzKHN0cnVjdCBxeGxfcmVsZWFzZSAqcmVsZWFzZSkKPiAgICAgICAgICAgICAg
ICAgdHRtX2JvX21vdmVfdG9fbHJ1X3RhaWwoYm8sIE5VTEwpOwo+ICAgICAgICAgICAgICAgICBk
bWFfcmVzdl91bmxvY2soYm8tPmJhc2UucmVzdik7Cj4gICAgICAgICB9Cj4gLSAgICAgICBzcGlu
X3VubG9jaygmdHRtX2JvX2dsb2IubHJ1X2xvY2spOwo+ICsgICAgICAgc3Bpbl91bmxvY2soJnR0
bV9nbG9iLmxydV9sb2NrKTsKPiAgICAgICAgIHd3X2FjcXVpcmVfZmluaSgmcmVsZWFzZS0+dGlj
a2V0KTsKPiAgfQo+Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9xeGwvcXhsX3R0bS5j
IGIvZHJpdmVycy9ncHUvZHJtL3F4bC9xeGxfdHRtLmMKPiBpbmRleCBkNTM1ZTgzNmJlNzIuLjli
NzA3YWY3ZGZkMCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vcXhsL3F4bF90dG0uYwo+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9xeGwvcXhsX3R0bS5jCj4gQEAgLTM4LDcgKzM4LDcgQEAK
PiAgI2luY2x1ZGUgInF4bF9kcnYuaCIKPiAgI2luY2x1ZGUgInF4bF9vYmplY3QuaCIKPgo+IC1z
dGF0aWMgc3RydWN0IHF4bF9kZXZpY2UgKnF4bF9nZXRfcWRldihzdHJ1Y3QgdHRtX2JvX2Rldmlj
ZSAqYmRldikKPiArc3RhdGljIHN0cnVjdCBxeGxfZGV2aWNlICpxeGxfZ2V0X3FkZXYoc3RydWN0
IHR0bV9kZXZpY2UgKmJkZXYpCj4gIHsKPiAgICAgICAgIHN0cnVjdCBxeGxfbW1hbiAqbW1hbjsK
PiAgICAgICAgIHN0cnVjdCBxeGxfZGV2aWNlICpxZGV2Owo+IEBAIC03MSw3ICs3MSw3IEBAIHN0
YXRpYyB2b2lkIHF4bF9ldmljdF9mbGFncyhzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+
ICAgICAgICAgKnBsYWNlbWVudCA9IHFiby0+cGxhY2VtZW50Owo+ICB9Cj4KPiAtaW50IHF4bF90
dG1faW9fbWVtX3Jlc2VydmUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gK2ludCBxeGxf
dHRtX2lvX21lbV9yZXNlcnZlKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LAo+ICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2UgKm1lbSkKPiAgewo+ICAgICAgICAg
c3RydWN0IHF4bF9kZXZpY2UgKnFkZXYgPSBxeGxfZ2V0X3FkZXYoYmRldik7Cj4gQEAgLTEwNiw3
ICsxMDYsNyBAQCBzdHJ1Y3QgcXhsX3R0bV90dCB7Cj4gICAgICAgICB1NjQgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIG9mZnNldDsKPiAgfTsKPgo+IC1zdGF0aWMgaW50IHF4bF90dG1fYmFj
a2VuZF9iaW5kKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICtzdGF0aWMgaW50IHF4bF90
dG1fYmFja2VuZF9iaW5kKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LAo+ICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgc3RydWN0IHR0bV90dCAqdHRtLAo+ICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgc3RydWN0IHR0bV9yZXNvdXJjZSAqYm9fbWVtKQo+ICB7Cj4gQEAgLTEy
MSwxMyArMTIxLDEzIEBAIHN0YXRpYyBpbnQgcXhsX3R0bV9iYWNrZW5kX2JpbmQoc3RydWN0IHR0
bV9ib19kZXZpY2UgKmJkZXYsCj4gICAgICAgICByZXR1cm4gLTE7Cj4gIH0KPgo+IC1zdGF0aWMg
dm9pZCBxeGxfdHRtX2JhY2tlbmRfdW5iaW5kKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+
ICtzdGF0aWMgdm9pZCBxeGxfdHRtX2JhY2tlbmRfdW5iaW5kKHN0cnVjdCB0dG1fZGV2aWNlICpi
ZGV2LAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHR0bV90dCAq
dHRtKQo+ICB7Cj4gICAgICAgICAvKiBOb3QgaW1wbGVtZW50ZWQgKi8KPiAgfQo+Cj4gLXN0YXRp
YyB2b2lkIHF4bF90dG1fYmFja2VuZF9kZXN0cm95KHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2
LAo+ICtzdGF0aWMgdm9pZCBxeGxfdHRtX2JhY2tlbmRfZGVzdHJveShzdHJ1Y3QgdHRtX2Rldmlj
ZSAqYmRldiwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRt
X3R0ICp0dG0pCj4gIHsKPiAgICAgICAgIHN0cnVjdCBxeGxfdHRtX3R0ICpndHQgPSAodm9pZCAq
KXR0bTsKPiBAQCAtMTg5LDcgKzE4OSw3IEBAIHN0YXRpYyB2b2lkIHF4bF9ib19tb3ZlX25vdGlm
eShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+ICAgICAgICAgICAgICAgICBxeGxfc3Vy
ZmFjZV9ldmljdChxZGV2LCBxYm8sIG5ld19tZW0gPyB0cnVlIDogZmFsc2UpOwo+ICB9Cj4KPiAt
c3RhdGljIHN0cnVjdCB0dG1fYm9fZHJpdmVyIHF4bF9ib19kcml2ZXIgPSB7Cj4gK3N0YXRpYyBz
dHJ1Y3QgdHRtX2RldmljZV9mdW5jcyBxeGxfYm9fZHJpdmVyID0gewo+ICAgICAgICAgLnR0bV90
dF9jcmVhdGUgPSAmcXhsX3R0bV90dF9jcmVhdGUsCj4gICAgICAgICAudHRtX3R0X2JpbmQgPSAm
cXhsX3R0bV9iYWNrZW5kX2JpbmQsCj4gICAgICAgICAudHRtX3R0X2Rlc3Ryb3kgPSAmcXhsX3R0
bV9iYWNrZW5kX2Rlc3Ryb3ksCj4gQEAgLTIxNCw3ICsyMTQsNyBAQCBpbnQgcXhsX3R0bV9pbml0
KHN0cnVjdCBxeGxfZGV2aWNlICpxZGV2KQo+ICAgICAgICAgaW50IG51bV9pb19wYWdlczsgLyog
IT0gcm9tLT5udW1faW9fcGFnZXMsIHdlIGluY2x1ZGUgc3VyZmFjZTAgKi8KPgo+ICAgICAgICAg
LyogTm8gb3RoZXJzIHVzZXIgb2YgYWRkcmVzcyBzcGFjZSBzbyBzZXQgaXQgdG8gMCAqLwo+IC0g
ICAgICAgciA9IHR0bV9ib19kZXZpY2VfaW5pdCgmcWRldi0+bW1hbi5iZGV2LAo+ICsgICAgICAg
ciA9IHR0bV9kZXZpY2VfaW5pdCgmcWRldi0+bW1hbi5iZGV2LAo+ICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAmcXhsX2JvX2RyaXZlciwKPiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgcWRldi0+ZGRldi5hbm9uX2lub2RlLT5pX21hcHBpbmcsCj4gICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHFkZXYtPmRkZXYudm1hX29mZnNldF9tYW5hZ2VyLAo+IEBAIC0yNDks
NyArMjQ5LDcgQEAgdm9pZCBxeGxfdHRtX2Zpbmkoc3RydWN0IHF4bF9kZXZpY2UgKnFkZXYpCj4g
IHsKPiAgICAgICAgIHR0bV9yYW5nZV9tYW5fZmluaSgmcWRldi0+bW1hbi5iZGV2LCBUVE1fUExf
VlJBTSk7Cj4gICAgICAgICB0dG1fcmFuZ2VfbWFuX2ZpbmkoJnFkZXYtPm1tYW4uYmRldiwgVFRN
X1BMX1BSSVYpOwo+IC0gICAgICAgdHRtX2JvX2RldmljZV9yZWxlYXNlKCZxZGV2LT5tbWFuLmJk
ZXYpOwo+ICsgICAgICAgdHRtX2RldmljZV9yZWxlYXNlKCZxZGV2LT5tbWFuLmJkZXYpOwo+ICAg
ICAgICAgRFJNX0lORk8oInF4bDogdHRtIGZpbmFsaXplZFxuIik7Cj4gIH0KPgo+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbi5oIGIvZHJpdmVycy9ncHUvZHJtL3Jh
ZGVvbi9yYWRlb24uaAo+IGluZGV4IDVkNTRiY2NlYmQ0ZC4uNzc1NTc2NDcwZTc4IDEwMDY0NAo+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFkZW9uLmgKPiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vcmFkZW9uL3JhZGVvbi5oCj4gQEAgLTQ1Miw3ICs0NTIsNyBAQCBzdHJ1Y3QgcmFkZW9u
X3N1cmZhY2VfcmVnIHsKPiAgICogVFRNLgo+ICAgKi8KPiAgc3RydWN0IHJhZGVvbl9tbWFuIHsK
PiAtICAgICAgIHN0cnVjdCB0dG1fYm9fZGV2aWNlICAgICAgICAgICAgYmRldjsKPiArICAgICAg
IHN0cnVjdCB0dG1fZGV2aWNlICAgICAgICAgICAgICAgYmRldjsKPiAgICAgICAgIGJvb2wgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6ZWQ7Cj4KPiAgI2lmIGRlZmluZWQoQ09O
RklHX0RFQlVHX0ZTKQo+IEBAIC0yODE5LDcgKzI4MTksNyBAQCBleHRlcm4gaW50IHJhZGVvbl90
dG1fdHRfc2V0X3VzZXJwdHIoc3RydWN0IHJhZGVvbl9kZXZpY2UgKnJkZXYsCj4gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQzMl90IGZsYWdzKTsKPiAgZXh0ZXJuIGJv
b2wgcmFkZW9uX3R0bV90dF9oYXNfdXNlcnB0cihzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldiwg
c3RydWN0IHR0bV90dCAqdHRtKTsKPiAgZXh0ZXJuIGJvb2wgcmFkZW9uX3R0bV90dF9pc19yZWFk
b25seShzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldiwgc3RydWN0IHR0bV90dCAqdHRtKTsKPiAt
Ym9vbCByYWRlb25fdHRtX3R0X2lzX2JvdW5kKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LCBz
dHJ1Y3QgdHRtX3R0ICp0dG0pOwo+ICtib29sIHJhZGVvbl90dG1fdHRfaXNfYm91bmQoc3RydWN0
IHR0bV9kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSk7Cj4gIGV4dGVybiB2b2lkIHJh
ZGVvbl92cmFtX2xvY2F0aW9uKHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2LCBzdHJ1Y3QgcmFk
ZW9uX21jICptYywgdTY0IGJhc2UpOwo+ICBleHRlcm4gdm9pZCByYWRlb25fZ3R0X2xvY2F0aW9u
KHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2LCBzdHJ1Y3QgcmFkZW9uX21jICptYyk7Cj4gIGV4
dGVybiBpbnQgcmFkZW9uX3Jlc3VtZV9rbXMoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgYm9vbCBy
ZXN1bWUsIGJvb2wgZmJjb24pOwo+IEBAIC0yODI5LDcgKzI4MjksNyBAQCBleHRlcm4gdm9pZCBy
YWRlb25fdHRtX3NldF9hY3RpdmVfdnJhbV9zaXplKHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2
LCB1NjQgc2l6ZQo+ICBleHRlcm4gdm9pZCByYWRlb25fcHJvZ3JhbV9yZWdpc3Rlcl9zZXF1ZW5j
ZShzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldiwKPiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBjb25zdCB1MzIgKnJlZ2lzdGVycywKPiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1MzIgYXJyYXlfc2l6ZSk7Cj4g
LXN0cnVjdCByYWRlb25fZGV2aWNlICpyYWRlb25fZ2V0X3JkZXYoc3RydWN0IHR0bV9ib19kZXZp
Y2UgKmJkZXYpOwo+ICtzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmFkZW9uX2dldF9yZGV2KHN0cnVj
dCB0dG1fZGV2aWNlICpiZGV2KTsKPgo+ICAvKgo+ICAgKiB2bQo+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl90dG0uYyBiL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24v
cmFkZW9uX3R0bS5jCj4gaW5kZXggZDZmNDJmYmM4MWY0Li4zODM1Yzk0NTdjMDYgMTAwNjQ0Cj4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fdHRtLmMKPiArKysgYi9kcml2ZXJz
L2dwdS9kcm0vcmFkZW9uL3JhZGVvbl90dG0uYwo+IEBAIC01NiwxMSArNTYsMTEgQEAKPiAgc3Rh
dGljIGludCByYWRlb25fdHRtX2RlYnVnZnNfaW5pdChzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRl
dik7Cj4gIHN0YXRpYyB2b2lkIHJhZGVvbl90dG1fZGVidWdmc19maW5pKHN0cnVjdCByYWRlb25f
ZGV2aWNlICpyZGV2KTsKPgo+IC1zdGF0aWMgaW50IHJhZGVvbl90dG1fdHRfYmluZChzdHJ1Y3Qg
dHRtX2JvX2RldmljZSAqYmRldiwKPiArc3RhdGljIGludCByYWRlb25fdHRtX3R0X2JpbmQoc3Ry
dWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ry
dWN0IHR0bV90dCAqdHRtLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0
dG1fcmVzb3VyY2UgKmJvX21lbSk7Cj4KPiAtc3RydWN0IHJhZGVvbl9kZXZpY2UgKnJhZGVvbl9n
ZXRfcmRldihzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldikKPiArc3RydWN0IHJhZGVvbl9kZXZp
Y2UgKnJhZGVvbl9nZXRfcmRldihzdHJ1Y3QgdHRtX2RldmljZSAqYmRldikKPiAgewo+ICAgICAg
ICAgc3RydWN0IHJhZGVvbl9tbWFuICptbWFuOwo+ICAgICAgICAgc3RydWN0IHJhZGVvbl9kZXZp
Y2UgKnJkZXY7Cj4gQEAgLTM1MSw3ICszNTEsNyBAQCBzdGF0aWMgaW50IHJhZGVvbl9ib19tb3Zl
KHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sIGJvb2wgZXZpY3QsCj4gICAgICAgICByZXR1
cm4gMDsKPiAgfQo+Cj4gLXN0YXRpYyBpbnQgcmFkZW9uX3R0bV9pb19tZW1fcmVzZXJ2ZShzdHJ1
Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV9yZXNvdXJjZSAqbWVtKQo+ICtzdGF0
aWMgaW50IHJhZGVvbl90dG1faW9fbWVtX3Jlc2VydmUoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYs
IHN0cnVjdCB0dG1fcmVzb3VyY2UgKm1lbSkKPiAgewo+ICAgICAgICAgc3RydWN0IHJhZGVvbl9k
ZXZpY2UgKnJkZXYgPSByYWRlb25fZ2V0X3JkZXYoYmRldik7Cj4gICAgICAgICBzaXplX3QgYnVz
X3NpemUgPSAoc2l6ZV90KW1lbS0+bnVtX3BhZ2VzIDw8IFBBR0VfU0hJRlQ7Cj4gQEAgLTQxOCw3
ICs0MTgsNyBAQCBzdHJ1Y3QgcmFkZW9uX3R0bV90dCB7Cj4gIH07Cj4KPiAgLyogcHJlcGFyZSB0
aGUgc2cgdGFibGUgd2l0aCB0aGUgdXNlciBwYWdlcyAqLwo+IC1zdGF0aWMgaW50IHJhZGVvbl90
dG1fdHRfcGluX3VzZXJwdHIoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1f
dHQgKnR0bSkKPiArc3RhdGljIGludCByYWRlb25fdHRtX3R0X3Bpbl91c2VycHRyKHN0cnVjdCB0
dG1fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0pCj4gIHsKPiAgICAgICAgIHN0cnVj
dCByYWRlb25fZGV2aWNlICpyZGV2ID0gcmFkZW9uX2dldF9yZGV2KGJkZXYpOwo+ICAgICAgICAg
c3RydWN0IHJhZGVvbl90dG1fdHQgKmd0dCA9ICh2b2lkICopdHRtOwo+IEBAIC00NzksNyArNDc5
LDcgQEAgc3RhdGljIGludCByYWRlb25fdHRtX3R0X3Bpbl91c2VycHRyKHN0cnVjdCB0dG1fYm9f
ZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICoKPiAgICAgICAgIHJldHVybiByOwo+ICB9Cj4K
PiAtc3RhdGljIHZvaWQgcmFkZW9uX3R0bV90dF91bnBpbl91c2VycHRyKHN0cnVjdCB0dG1fYm9f
ZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0pCj4gK3N0YXRpYyB2b2lkIHJhZGVvbl90
dG1fdHRfdW5waW5fdXNlcnB0cihzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV90
dCAqdHRtKQo+ICB7Cj4gICAgICAgICBzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldiA9IHJhZGVv
bl9nZXRfcmRldihiZGV2KTsKPiAgICAgICAgIHN0cnVjdCByYWRlb25fdHRtX3R0ICpndHQgPSAo
dm9pZCAqKXR0bTsKPiBAQCAtNTE1LDcgKzUxNSw3IEBAIHN0YXRpYyBib29sIHJhZGVvbl90dG1f
YmFja2VuZF9pc19ib3VuZChzdHJ1Y3QgdHRtX3R0ICp0dG0pCj4gICAgICAgICByZXR1cm4gKGd0
dC0+Ym91bmQpOwo+ICB9Cj4KPiAtc3RhdGljIGludCByYWRlb25fdHRtX2JhY2tlbmRfYmluZChz
dHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiArc3RhdGljIGludCByYWRlb25fdHRtX2JhY2tl
bmRfYmluZChzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwKPiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHN0cnVjdCB0dG1fdHQgKnR0bSwKPiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2UgKmJvX21lbSkKPiAgewo+IEBAIC01NTEs
NyArNTUxLDcgQEAgc3RhdGljIGludCByYWRlb25fdHRtX2JhY2tlbmRfYmluZChzdHJ1Y3QgdHRt
X2JvX2RldmljZSAqYmRldiwKPiAgICAgICAgIHJldHVybiAwOwo+ICB9Cj4KPiAtc3RhdGljIHZv
aWQgcmFkZW9uX3R0bV9iYWNrZW5kX3VuYmluZChzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwg
c3RydWN0IHR0bV90dCAqdHRtKQo+ICtzdGF0aWMgdm9pZCByYWRlb25fdHRtX2JhY2tlbmRfdW5i
aW5kKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0pCj4gIHsKPiAg
ICAgICAgIHN0cnVjdCByYWRlb25fdHRtX3R0ICpndHQgPSAodm9pZCAqKXR0bTsKPiAgICAgICAg
IHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2ID0gcmFkZW9uX2dldF9yZGV2KGJkZXYpOwo+IEBA
IC01NjYsNyArNTY2LDcgQEAgc3RhdGljIHZvaWQgcmFkZW9uX3R0bV9iYWNrZW5kX3VuYmluZChz
dHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV90dAo+ICAgICAgICAgZ3R0LT5i
b3VuZCA9IGZhbHNlOwo+ICB9Cj4KPiAtc3RhdGljIHZvaWQgcmFkZW9uX3R0bV9iYWNrZW5kX2Rl
c3Ryb3koc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSkKPiAr
c3RhdGljIHZvaWQgcmFkZW9uX3R0bV9iYWNrZW5kX2Rlc3Ryb3koc3RydWN0IHR0bV9kZXZpY2Ug
KmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSkKPiAgewo+ICAgICAgICAgc3RydWN0IHJhZGVvbl90
dG1fdHQgKmd0dCA9ICh2b2lkICopdHRtOwo+Cj4gQEAgLTYyNyw3ICs2MjcsNyBAQCBzdGF0aWMg
c3RydWN0IHJhZGVvbl90dG1fdHQgKnJhZGVvbl90dG1fdHRfdG9fZ3R0KHN0cnVjdCByYWRlb25f
ZGV2aWNlICpyZGV2LAo+ICAgICAgICAgcmV0dXJuIGNvbnRhaW5lcl9vZih0dG0sIHN0cnVjdCBy
YWRlb25fdHRtX3R0LCB0dG0udHRtKTsKPiAgfQo+Cj4gLXN0YXRpYyBpbnQgcmFkZW9uX3R0bV90
dF9wb3B1bGF0ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiArc3RhdGljIGludCByYWRl
b25fdHRtX3R0X3BvcHVsYXRlKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LAo+ICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3R0ICp0dG0sCj4gICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fb3BlcmF0aW9uX2N0eCAqY3R4KQo+ICB7
Cj4gQEAgLTY2Nyw3ICs2NjcsNyBAQCBzdGF0aWMgaW50IHJhZGVvbl90dG1fdHRfcG9wdWxhdGUo
c3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gICAgICAgICByZXR1cm4gdHRtX3BvcHVsYXRl
X2FuZF9tYXBfcGFnZXMocmRldi0+ZGV2LCAmZ3R0LT50dG0sIGN0eCk7Cj4gIH0KPgo+IC1zdGF0
aWMgdm9pZCByYWRlb25fdHRtX3R0X3VucG9wdWxhdGUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJk
ZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSkKPiArc3RhdGljIHZvaWQgcmFkZW9uX3R0bV90dF91bnBv
cHVsYXRlKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0pCj4gIHsK
PiAgICAgICAgIHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2ID0gcmFkZW9uX2dldF9yZGV2KGJk
ZXYpOwo+ICAgICAgICAgc3RydWN0IHJhZGVvbl90dG1fdHQgKmd0dCA9IHJhZGVvbl90dG1fdHRf
dG9fZ3R0KHJkZXYsIHR0bSk7Cj4gQEAgLTcxNCw3ICs3MTQsNyBAQCBpbnQgcmFkZW9uX3R0bV90
dF9zZXRfdXNlcnB0cihzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldiwKPiAgICAgICAgIHJldHVy
biAwOwo+ICB9Cj4KPiAtYm9vbCByYWRlb25fdHRtX3R0X2lzX2JvdW5kKHN0cnVjdCB0dG1fYm9f
ZGV2aWNlICpiZGV2LAo+ICtib29sIHJhZGVvbl90dG1fdHRfaXNfYm91bmQoc3RydWN0IHR0bV9k
ZXZpY2UgKmJkZXYsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fdHQg
KnR0bSkKPiAgewo+ICAjaWYgSVNfRU5BQkxFRChDT05GSUdfQUdQKQo+IEBAIC03MjUsNyArNzI1
LDcgQEAgYm9vbCByYWRlb25fdHRtX3R0X2lzX2JvdW5kKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpi
ZGV2LAo+ICAgICAgICAgcmV0dXJuIHJhZGVvbl90dG1fYmFja2VuZF9pc19ib3VuZCh0dG0pOwo+
ICB9Cj4KPiAtc3RhdGljIGludCByYWRlb25fdHRtX3R0X2JpbmQoc3RydWN0IHR0bV9ib19kZXZp
Y2UgKmJkZXYsCj4gK3N0YXRpYyBpbnQgcmFkZW9uX3R0bV90dF9iaW5kKHN0cnVjdCB0dG1fZGV2
aWNlICpiZGV2LAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fdHQg
KnR0bSwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3Jlc291cmNl
ICpib19tZW0pCj4gIHsKPiBAQCAtNzQzLDcgKzc0Myw3IEBAIHN0YXRpYyBpbnQgcmFkZW9uX3R0
bV90dF9iaW5kKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICAgICAgICAgcmV0dXJuIHJh
ZGVvbl90dG1fYmFja2VuZF9iaW5kKGJkZXYsIHR0bSwgYm9fbWVtKTsKPiAgfQo+Cj4gLXN0YXRp
YyB2b2lkIHJhZGVvbl90dG1fdHRfdW5iaW5kKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+
ICtzdGF0aWMgdm9pZCByYWRlb25fdHRtX3R0X3VuYmluZChzdHJ1Y3QgdHRtX2RldmljZSAqYmRl
diwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3R0ICp0dG0p
Cj4gIHsKPiAgI2lmIElTX0VOQUJMRUQoQ09ORklHX0FHUCkKPiBAQCAtNzU3LDcgKzc1Nyw3IEBA
IHN0YXRpYyB2b2lkIHJhZGVvbl90dG1fdHRfdW5iaW5kKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpi
ZGV2LAo+ICAgICAgICAgcmFkZW9uX3R0bV9iYWNrZW5kX3VuYmluZChiZGV2LCB0dG0pOwo+ICB9
Cj4KPiAtc3RhdGljIHZvaWQgcmFkZW9uX3R0bV90dF9kZXN0cm95KHN0cnVjdCB0dG1fYm9fZGV2
aWNlICpiZGV2LAo+ICtzdGF0aWMgdm9pZCByYWRlb25fdHRtX3R0X2Rlc3Ryb3koc3RydWN0IHR0
bV9kZXZpY2UgKmJkZXYsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVj
dCB0dG1fdHQgKnR0bSkKPiAgewo+ICAjaWYgSVNfRU5BQkxFRChDT05GSUdfQUdQKQo+IEBAIC03
OTUsNyArNzk1LDcgQEAgYm9vbCByYWRlb25fdHRtX3R0X2lzX3JlYWRvbmx5KHN0cnVjdCByYWRl
b25fZGV2aWNlICpyZGV2LAo+ICAgICAgICAgcmV0dXJuICEhKGd0dC0+dXNlcmZsYWdzICYgUkFE
RU9OX0dFTV9VU0VSUFRSX1JFQURPTkxZKTsKPiAgfQo+Cj4gLXN0YXRpYyBzdHJ1Y3QgdHRtX2Jv
X2RyaXZlciByYWRlb25fYm9fZHJpdmVyID0gewo+ICtzdGF0aWMgc3RydWN0IHR0bV9kZXZpY2Vf
ZnVuY3MgcmFkZW9uX2JvX2RyaXZlciA9IHsKPiAgICAgICAgIC50dG1fdHRfY3JlYXRlID0gJnJh
ZGVvbl90dG1fdHRfY3JlYXRlLAo+ICAgICAgICAgLnR0bV90dF9wb3B1bGF0ZSA9ICZyYWRlb25f
dHRtX3R0X3BvcHVsYXRlLAo+ICAgICAgICAgLnR0bV90dF91bnBvcHVsYXRlID0gJnJhZGVvbl90
dG1fdHRfdW5wb3B1bGF0ZSwKPiBAQCAtODE1LDcgKzgxNSw3IEBAIGludCByYWRlb25fdHRtX2lu
aXQoc3RydWN0IHJhZGVvbl9kZXZpY2UgKnJkZXYpCj4gICAgICAgICBpbnQgcjsKPgo+ICAgICAg
ICAgLyogTm8gb3RoZXJzIHVzZXIgb2YgYWRkcmVzcyBzcGFjZSBzbyBzZXQgaXQgdG8gMCAqLwo+
IC0gICAgICAgciA9IHR0bV9ib19kZXZpY2VfaW5pdCgmcmRldi0+bW1hbi5iZGV2LAo+ICsgICAg
ICAgciA9IHR0bV9kZXZpY2VfaW5pdCgmcmRldi0+bW1hbi5iZGV2LAo+ICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAmcmFkZW9uX2JvX2RyaXZlciwKPiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgcmRldi0+ZGRldi0+YW5vbl9pbm9kZS0+aV9tYXBwaW5nLAo+ICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICByZGV2LT5kZGV2LT52bWFfb2Zmc2V0X21hbmFnZXIsCj4g
QEAgLTg4NSw3ICs4ODUsNyBAQCB2b2lkIHJhZGVvbl90dG1fZmluaShzdHJ1Y3QgcmFkZW9uX2Rl
dmljZSAqcmRldikKPiAgICAgICAgIH0KPiAgICAgICAgIHR0bV9yYW5nZV9tYW5fZmluaSgmcmRl
di0+bW1hbi5iZGV2LCBUVE1fUExfVlJBTSk7Cj4gICAgICAgICB0dG1fcmFuZ2VfbWFuX2Zpbmko
JnJkZXYtPm1tYW4uYmRldiwgVFRNX1BMX1RUKTsKPiAtICAgICAgIHR0bV9ib19kZXZpY2VfcmVs
ZWFzZSgmcmRldi0+bW1hbi5iZGV2KTsKPiArICAgICAgIHR0bV9kZXZpY2VfcmVsZWFzZSgmcmRl
di0+bW1hbi5iZGV2KTsKPiAgICAgICAgIHJhZGVvbl9nYXJ0X2ZpbmkocmRldik7Cj4gICAgICAg
ICByZGV2LT5tbWFuLmluaXRpYWxpemVkID0gZmFsc2U7Cj4gICAgICAgICBEUk1fSU5GTygicmFk
ZW9uOiB0dG0gZmluYWxpemVkXG4iKTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3R0
bS9NYWtlZmlsZSBiL2RyaXZlcnMvZ3B1L2RybS90dG0vTWFrZWZpbGUKPiBpbmRleCA5MGMwZGE4
OGNjOTguLjdhNDc0ZTg4ZDQ3ZSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vdHRtL01h
a2VmaWxlCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3R0bS9NYWtlZmlsZQo+IEBAIC01LDcgKzUs
NyBAQAo+ICB0dG0teSA6PSB0dG1fbWVtb3J5Lm8gdHRtX3R0Lm8gdHRtX2JvLm8gXAo+ICAgICAg
ICAgdHRtX2JvX3V0aWwubyB0dG1fYm9fdm0ubyB0dG1fbW9kdWxlLm8gXAo+ICAgICAgICAgdHRt
X2V4ZWNidWZfdXRpbC5vIHR0bV9wYWdlX2FsbG9jLm8gdHRtX3JhbmdlX21hbmFnZXIubyBcCj4g
LSAgICAgICB0dG1fcmVzb3VyY2Uubwo+ICsgICAgICAgdHRtX3Jlc291cmNlLm8gdHRtX2Rldmlj
ZS5vCj4gIHR0bS0kKENPTkZJR19BR1ApICs9IHR0bV9hZ3BfYmFja2VuZC5vCj4gIHR0bS0kKENP
TkZJR19EUk1fVFRNX0RNQV9QQUdFX1BPT0wpICs9IHR0bV9wYWdlX2FsbG9jX2RtYS5vCj4KPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYWdwX2JhY2tlbmQuYyBiL2RyaXZl
cnMvZ3B1L2RybS90dG0vdHRtX2FncF9iYWNrZW5kLmMKPiBpbmRleCA0Zjc2YzkyODcxNTkuLmIz
ODJkOTE0MTRhMSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9hZ3BfYmFj
a2VuZC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYWdwX2JhY2tlbmQuYwo+IEBA
IC01MSw3ICs1MSw3IEBAIHN0cnVjdCB0dG1fYWdwX2JhY2tlbmQgewo+ICBpbnQgdHRtX2FncF9i
aW5kKHN0cnVjdCB0dG1fdHQgKnR0bSwgc3RydWN0IHR0bV9yZXNvdXJjZSAqYm9fbWVtKQo+ICB7
Cj4gICAgICAgICBzdHJ1Y3QgdHRtX2FncF9iYWNrZW5kICphZ3BfYmUgPSBjb250YWluZXJfb2Yo
dHRtLCBzdHJ1Y3QgdHRtX2FncF9iYWNrZW5kLCB0dG0pOwo+IC0gICAgICAgc3RydWN0IHBhZ2Ug
KmR1bW15X3JlYWRfcGFnZSA9IHR0bV9ib19nbG9iLmR1bW15X3JlYWRfcGFnZTsKPiArICAgICAg
IHN0cnVjdCBwYWdlICpkdW1teV9yZWFkX3BhZ2UgPSB0dG1fZ2xvYi5kdW1teV9yZWFkX3BhZ2U7
Cj4gICAgICAgICBzdHJ1Y3QgZHJtX21tX25vZGUgKm5vZGUgPSBib19tZW0tPm1tX25vZGU7Cj4g
ICAgICAgICBzdHJ1Y3QgYWdwX21lbW9yeSAqbWVtOwo+ICAgICAgICAgaW50IHJldCwgY2FjaGVk
ID0gdHRtLT5jYWNoaW5nID09IHR0bV9jYWNoZWQ7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS90dG0vdHRtX2JvLmMgYi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9iby5jCj4gaW5kZXgg
MmZlNGNiZWZkZTI4Li40MGQxYWM5MWM5YmYgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L3R0bS90dG1fYm8uYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2JvLmMKPiBAQCAt
NDMsMjEgKzQzLDYgQEAKPiAgI2luY2x1ZGUgPGxpbnV4L2F0b21pYy5oPgo+ICAjaW5jbHVkZSA8
bGludXgvZG1hLXJlc3YuaD4KPgo+IC1zdGF0aWMgdm9pZCB0dG1fYm9fZ2xvYmFsX2tvYmpfcmVs
ZWFzZShzdHJ1Y3Qga29iamVjdCAqa29iaik7Cj4gLQo+IC0vKioKPiAtICogdHRtX2dsb2JhbF9t
dXRleCAtIHByb3RlY3RpbmcgdGhlIGdsb2JhbCBCTyBzdGF0ZQo+IC0gKi8KPiAtREVGSU5FX01V
VEVYKHR0bV9nbG9iYWxfbXV0ZXgpOwo+IC11bnNpZ25lZCB0dG1fYm9fZ2xvYl91c2VfY291bnQ7
Cj4gLXN0cnVjdCB0dG1fYm9fZ2xvYmFsIHR0bV9ib19nbG9iOwo+IC1FWFBPUlRfU1lNQk9MKHR0
bV9ib19nbG9iKTsKPiAtCj4gLXN0YXRpYyBzdHJ1Y3QgYXR0cmlidXRlIHR0bV9ib19jb3VudCA9
IHsKPiAtICAgICAgIC5uYW1lID0gImJvX2NvdW50IiwKPiAtICAgICAgIC5tb2RlID0gU19JUlVH
Two+IC19Owo+IC0KPiAgLyogZGVmYXVsdCBkZXN0cnVjdG9yICovCj4gIHN0YXRpYyB2b2lkIHR0
bV9ib19kZWZhdWx0X2Rlc3Ryb3koc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibykKPiAgewo+
IEBAIC04MywzNiArNjgsMTAgQEAgc3RhdGljIHZvaWQgdHRtX2JvX21lbV9zcGFjZV9kZWJ1Zyhz
dHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+ICAgICAgICAgfQo+ICB9Cj4KPiAtc3RhdGlj
IHNzaXplX3QgdHRtX2JvX2dsb2JhbF9zaG93KHN0cnVjdCBrb2JqZWN0ICprb2JqLAo+IC0gICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgYXR0cmlidXRlICphdHRyLAo+IC0g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyICpidWZmZXIpCj4gLXsKPiAtICAg
ICAgIHN0cnVjdCB0dG1fYm9fZ2xvYmFsICpnbG9iID0KPiAtICAgICAgICAgICAgICAgY29udGFp
bmVyX29mKGtvYmosIHN0cnVjdCB0dG1fYm9fZ2xvYmFsLCBrb2JqKTsKPiAtCj4gLSAgICAgICBy
ZXR1cm4gc25wcmludGYoYnVmZmVyLCBQQUdFX1NJWkUsICIlZFxuIiwKPiAtICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGF0b21pY19yZWFkKCZnbG9iLT5ib19jb3VudCkpOwo+IC19Cj4g
LQo+IC1zdGF0aWMgc3RydWN0IGF0dHJpYnV0ZSAqdHRtX2JvX2dsb2JhbF9hdHRyc1tdID0gewo+
IC0gICAgICAgJnR0bV9ib19jb3VudCwKPiAtICAgICAgIE5VTEwKPiAtfTsKPiAtCj4gLXN0YXRp
YyBjb25zdCBzdHJ1Y3Qgc3lzZnNfb3BzIHR0bV9ib19nbG9iYWxfb3BzID0gewo+IC0gICAgICAg
LnNob3cgPSAmdHRtX2JvX2dsb2JhbF9zaG93Cj4gLX07Cj4gLQo+IC1zdGF0aWMgc3RydWN0IGtv
YmpfdHlwZSB0dG1fYm9fZ2xvYl9rb2JqX3R5cGUgID0gewo+IC0gICAgICAgLnJlbGVhc2UgPSAm
dHRtX2JvX2dsb2JhbF9rb2JqX3JlbGVhc2UsCj4gLSAgICAgICAuc3lzZnNfb3BzID0gJnR0bV9i
b19nbG9iYWxfb3BzLAo+IC0gICAgICAgLmRlZmF1bHRfYXR0cnMgPSB0dG1fYm9fZ2xvYmFsX2F0
dHJzCj4gLX07Cj4gLQo+ICBzdGF0aWMgdm9pZCB0dG1fYm9fYWRkX21lbV90b19scnUoc3RydWN0
IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgc3RydWN0IHR0bV9yZXNvdXJjZSAqbWVtKQo+ICB7Cj4gLSAgICAgICBzdHJ1Y3QgdHRtX2Jv
X2RldmljZSAqYmRldiA9IGJvLT5iZGV2Owo+ICsgICAgICAgc3RydWN0IHR0bV9kZXZpY2UgKmJk
ZXYgPSBiby0+YmRldjsKPiAgICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdlciAqbWFu
Owo+Cj4gICAgICAgICBpZiAoIWxpc3RfZW1wdHkoJmJvLT5scnUpIHx8IGJvLT5waW5fY291bnQp
Cj4gQEAgLTEyNCwxMyArODMsMTMgQEAgc3RhdGljIHZvaWQgdHRtX2JvX2FkZF9tZW1fdG9fbHJ1
KHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCj4gICAgICAgICBpZiAobWFuLT51c2VfdHQg
JiYgYm8tPnR0bSAmJgo+ICAgICAgICAgICAgICEoYm8tPnR0bS0+cGFnZV9mbGFncyAmIChUVE1f
UEFHRV9GTEFHX1NHIHwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVFRN
X1BBR0VfRkxBR19TV0FQUEVEKSkpIHsKPiAtICAgICAgICAgICAgICAgbGlzdF9hZGRfdGFpbCgm
Ym8tPnN3YXAsICZ0dG1fYm9fZ2xvYi5zd2FwX2xydVtiby0+cHJpb3JpdHldKTsKPiArICAgICAg
ICAgICAgICAgbGlzdF9hZGRfdGFpbCgmYm8tPnN3YXAsICZ0dG1fZ2xvYi5zd2FwX2xydVtiby0+
cHJpb3JpdHldKTsKPiAgICAgICAgIH0KPiAgfQo+Cj4gIHN0YXRpYyB2b2lkIHR0bV9ib19kZWxf
ZnJvbV9scnUoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibykKPiAgewo+IC0gICAgICAgc3Ry
dWN0IHR0bV9ib19kZXZpY2UgKmJkZXYgPSBiby0+YmRldjsKPiArICAgICAgIHN0cnVjdCB0dG1f
ZGV2aWNlICpiZGV2ID0gYm8tPmJkZXY7Cj4gICAgICAgICBib29sIG5vdGlmeSA9IGZhbHNlOwo+
Cj4gICAgICAgICBpZiAoIWxpc3RfZW1wdHkoJmJvLT5zd2FwKSkgewo+IEBAIC0xNDIsOCArMTAx
LDggQEAgc3RhdGljIHZvaWQgdHRtX2JvX2RlbF9mcm9tX2xydShzdHJ1Y3QgdHRtX2J1ZmZlcl9v
YmplY3QgKmJvKQo+ICAgICAgICAgICAgICAgICBub3RpZnkgPSB0cnVlOwo+ICAgICAgICAgfQo+
Cj4gLSAgICAgICBpZiAobm90aWZ5ICYmIGJkZXYtPmRyaXZlci0+ZGVsX2Zyb21fbHJ1X25vdGlm
eSkKPiAtICAgICAgICAgICAgICAgYmRldi0+ZHJpdmVyLT5kZWxfZnJvbV9scnVfbm90aWZ5KGJv
KTsKPiArICAgICAgIGlmIChub3RpZnkgJiYgYmRldi0+ZnVuY3MtPmRlbF9mcm9tX2xydV9ub3Rp
ZnkpCj4gKyAgICAgICAgICAgICAgIGJkZXYtPmZ1bmNzLT5kZWxfZnJvbV9scnVfbm90aWZ5KGJv
KTsKPiAgfQo+Cj4gIHN0YXRpYyB2b2lkIHR0bV9ib19idWxrX21vdmVfc2V0X3BvcyhzdHJ1Y3Qg
dHRtX2xydV9idWxrX21vdmVfcG9zICpwb3MsCj4gQEAgLTIyMyw3ICsxODIsNyBAQCB2b2lkIHR0
bV9ib19idWxrX21vdmVfbHJ1X3RhaWwoc3RydWN0IHR0bV9scnVfYnVsa19tb3ZlICpidWxrKQo+
ICAgICAgICAgICAgICAgICBkbWFfcmVzdl9hc3NlcnRfaGVsZChwb3MtPmZpcnN0LT5iYXNlLnJl
c3YpOwo+ICAgICAgICAgICAgICAgICBkbWFfcmVzdl9hc3NlcnRfaGVsZChwb3MtPmxhc3QtPmJh
c2UucmVzdik7Cj4KPiAtICAgICAgICAgICAgICAgbHJ1ID0gJnR0bV9ib19nbG9iLnN3YXBfbHJ1
W2ldOwo+ICsgICAgICAgICAgICAgICBscnUgPSAmdHRtX2dsb2Iuc3dhcF9scnVbaV07Cj4gICAg
ICAgICAgICAgICAgIGxpc3RfYnVsa19tb3ZlX3RhaWwobHJ1LCAmcG9zLT5maXJzdC0+c3dhcCwg
JnBvcy0+bGFzdC0+c3dhcCk7Cj4gICAgICAgICB9Cj4gIH0KPiBAQCAtMjMzLDcgKzE5Miw3IEBA
IHN0YXRpYyBpbnQgdHRtX2JvX2hhbmRsZV9tb3ZlX21lbShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmpl
Y3QgKmJvLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3Jl
c291cmNlICptZW0sIGJvb2wgZXZpY3QsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHN0cnVjdCB0dG1fb3BlcmF0aW9uX2N0eCAqY3R4KQo+ICB7Cj4gLSAgICAgICBzdHJ1Y3Qg
dHRtX2JvX2RldmljZSAqYmRldiA9IGJvLT5iZGV2Owo+ICsgICAgICAgc3RydWN0IHR0bV9kZXZp
Y2UgKmJkZXYgPSBiby0+YmRldjsKPiAgICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdl
ciAqb2xkX21hbiA9IHR0bV9tYW5hZ2VyX3R5cGUoYmRldiwgYm8tPm1lbS5tZW1fdHlwZSk7Cj4g
ICAgICAgICBzdHJ1Y3QgdHRtX3Jlc291cmNlX21hbmFnZXIgKm5ld19tYW4gPSB0dG1fbWFuYWdl
cl90eXBlKGJkZXYsIG1lbS0+bWVtX3R5cGUpOwo+ICAgICAgICAgaW50IHJldDsKPiBAQCAtMjYz
LDggKzIyMiw4IEBAIHN0YXRpYyBpbnQgdHRtX2JvX2hhbmRsZV9tb3ZlX21lbShzdHJ1Y3QgdHRt
X2J1ZmZlcl9vYmplY3QgKmJvLAo+ICAgICAgICAgICAgICAgICB9Cj4gICAgICAgICB9Cj4KPiAt
ICAgICAgIGlmIChiZGV2LT5kcml2ZXItPm1vdmVfbm90aWZ5KQo+IC0gICAgICAgICAgICAgICBi
ZGV2LT5kcml2ZXItPm1vdmVfbm90aWZ5KGJvLCBldmljdCwgbWVtKTsKPiArICAgICAgIGlmIChi
ZGV2LT5mdW5jcy0+bW92ZV9ub3RpZnkpCj4gKyAgICAgICAgICAgICAgIGJkZXYtPmZ1bmNzLT5t
b3ZlX25vdGlmeShibywgZXZpY3QsIG1lbSk7Cj4KPiAgICAgICAgIGlmIChvbGRfbWFuLT51c2Vf
dHQgJiYgbmV3X21hbi0+dXNlX3R0KSB7Cj4gICAgICAgICAgICAgICAgIGlmIChiby0+bWVtLm1l
bV90eXBlID09IFRUTV9QTF9TWVNURU0pIHsKPiBAQCAtMjcyLDE2ICsyMzEsMTYgQEAgc3RhdGlj
IGludCB0dG1fYm9faGFuZGxlX21vdmVfbWVtKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8s
Cj4gICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gMDsKPiAgICAgICAgICAgICAgICAgfSBl
bHNlCj4gICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gdHRtX2JvX21vdmVfdHRtKGJvLCBj
dHgsIG1lbSk7Cj4gLSAgICAgICB9IGVsc2UgaWYgKGJkZXYtPmRyaXZlci0+bW92ZSkgewo+IC0g
ICAgICAgICAgICAgICByZXQgPSBiZGV2LT5kcml2ZXItPm1vdmUoYm8sIGV2aWN0LCBjdHgsIG1l
bSk7Cj4gKyAgICAgICB9IGVsc2UgaWYgKGJkZXYtPmZ1bmNzLT5tb3ZlKSB7Cj4gKyAgICAgICAg
ICAgICAgIHJldCA9IGJkZXYtPmZ1bmNzLT5tb3ZlKGJvLCBldmljdCwgY3R4LCBtZW0pOwo+ICAg
ICAgICAgfSBlbHNlIHsKPiAgICAgICAgICAgICAgICAgcmV0ID0gdHRtX2JvX21vdmVfbWVtY3B5
KGJvLCBjdHgsIG1lbSk7Cj4gICAgICAgICB9Cj4KPiAgICAgICAgIGlmIChyZXQpIHsKPiAtICAg
ICAgICAgICAgICAgaWYgKGJkZXYtPmRyaXZlci0+bW92ZV9ub3RpZnkpIHsKPiArICAgICAgICAg
ICAgICAgaWYgKGJkZXYtPmZ1bmNzLT5tb3ZlX25vdGlmeSkgewo+ICAgICAgICAgICAgICAgICAg
ICAgICAgIHN3YXAoKm1lbSwgYm8tPm1lbSk7Cj4gLSAgICAgICAgICAgICAgICAgICAgICAgYmRl
di0+ZHJpdmVyLT5tb3ZlX25vdGlmeShibywgZmFsc2UsIG1lbSk7Cj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgYmRldi0+ZnVuY3MtPm1vdmVfbm90aWZ5KGJvLCBmYWxzZSwgbWVtKTsKPiAgICAg
ICAgICAgICAgICAgICAgICAgICBzd2FwKCptZW0sIGJvLT5tZW0pOwo+ICAgICAgICAgICAgICAg
ICB9Cj4KPiBAQCAtMzA5LDggKzI2OCw4IEBAIHN0YXRpYyBpbnQgdHRtX2JvX2hhbmRsZV9tb3Zl
X21lbShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+Cj4gIHN0YXRpYyB2b2lkIHR0bV9i
b19jbGVhbnVwX21lbXR5cGVfdXNlKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8pCj4gIHsK
PiAtICAgICAgIGlmIChiby0+YmRldi0+ZHJpdmVyLT5tb3ZlX25vdGlmeSkKPiAtICAgICAgICAg
ICAgICAgYm8tPmJkZXYtPmRyaXZlci0+bW92ZV9ub3RpZnkoYm8sIGZhbHNlLCBOVUxMKTsKPiAr
ICAgICAgIGlmIChiby0+YmRldi0+ZnVuY3MtPm1vdmVfbm90aWZ5KQo+ICsgICAgICAgICAgICAg
ICBiby0+YmRldi0+ZnVuY3MtPm1vdmVfbm90aWZ5KGJvLCBmYWxzZSwgTlVMTCk7Cj4KPiAgICAg
ICAgIHR0bV9ib190dF9kZXN0cm95KGJvKTsKPiAgICAgICAgIHR0bV9yZXNvdXJjZV9mcmVlKGJv
LCAmYm8tPm1lbSk7Cj4gQEAgLTMzNSw5ICsyOTQsOSBAQCBzdGF0aWMgaW50IHR0bV9ib19pbmRp
dmlkdWFsaXplX3Jlc3Yoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibykKPiAgICAgICAgICAg
ICAgICAgICogcmVmZXJlbmNlIGl0IGFueSBtb3JlLiBUaGUgb25seSB0cmlja3kgY2FzZSBpcyB0
aGUgdHJ5bG9jayBvbgo+ICAgICAgICAgICAgICAgICAgKiB0aGUgcmVzdiBvYmplY3Qgd2hpbGUg
aG9sZGluZyB0aGUgbHJ1X2xvY2suCj4gICAgICAgICAgICAgICAgICAqLwo+IC0gICAgICAgICAg
ICAgICBzcGluX2xvY2soJnR0bV9ib19nbG9iLmxydV9sb2NrKTsKPiArICAgICAgICAgICAgICAg
c3Bpbl9sb2NrKCZ0dG1fZ2xvYi5scnVfbG9jayk7Cj4gICAgICAgICAgICAgICAgIGJvLT5iYXNl
LnJlc3YgPSAmYm8tPmJhc2UuX3Jlc3Y7Cj4gLSAgICAgICAgICAgICAgIHNwaW5fdW5sb2NrKCZ0
dG1fYm9fZ2xvYi5scnVfbG9jayk7Cj4gKyAgICAgICAgICAgICAgIHNwaW5fdW5sb2NrKCZ0dG1f
Z2xvYi5scnVfbG9jayk7Cj4gICAgICAgICB9Cj4KPiAgICAgICAgIHJldHVybiByOwo+IEBAIC0z
OTUsNyArMzU0LDcgQEAgc3RhdGljIGludCB0dG1fYm9fY2xlYW51cF9yZWZzKHN0cnVjdCB0dG1f
YnVmZmVyX29iamVjdCAqYm8sCj4KPiAgICAgICAgICAgICAgICAgaWYgKHVubG9ja19yZXN2KQo+
ICAgICAgICAgICAgICAgICAgICAgICAgIGRtYV9yZXN2X3VubG9jayhiby0+YmFzZS5yZXN2KTsK
PiAtICAgICAgICAgICAgICAgc3Bpbl91bmxvY2soJnR0bV9ib19nbG9iLmxydV9sb2NrKTsKPiAr
ICAgICAgICAgICAgICAgc3Bpbl91bmxvY2soJnR0bV9nbG9iLmxydV9sb2NrKTsKPgo+ICAgICAg
ICAgICAgICAgICBscmV0ID0gZG1hX3Jlc3Zfd2FpdF90aW1lb3V0X3JjdShyZXN2LCB0cnVlLCBp
bnRlcnJ1cHRpYmxlLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAzMCAqIEhaKTsKPiBAQCAtNDA1LDcgKzM2NCw3IEBAIHN0YXRpYyBpbnQgdHRtX2Jv
X2NsZWFudXBfcmVmcyhzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+ICAgICAgICAgICAg
ICAgICBlbHNlIGlmIChscmV0ID09IDApCj4gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJu
IC1FQlVTWTsKPgo+IC0gICAgICAgICAgICAgICBzcGluX2xvY2soJnR0bV9ib19nbG9iLmxydV9s
b2NrKTsKPiArICAgICAgICAgICAgICAgc3Bpbl9sb2NrKCZ0dG1fZ2xvYi5scnVfbG9jayk7Cj4g
ICAgICAgICAgICAgICAgIGlmICh1bmxvY2tfcmVzdiAmJiAhZG1hX3Jlc3ZfdHJ5bG9jayhiby0+
YmFzZS5yZXN2KSkgewo+ICAgICAgICAgICAgICAgICAgICAgICAgIC8qCj4gICAgICAgICAgICAg
ICAgICAgICAgICAgICogV2UgcmFjZWQsIGFuZCBsb3N0LCBzb21lb25lIGVsc2UgaG9sZHMgdGhl
IHJlc2VydmF0aW9uIG5vdywKPiBAQCAtNDE1LDcgKzM3NCw3IEBAIHN0YXRpYyBpbnQgdHRtX2Jv
X2NsZWFudXBfcmVmcyhzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+ICAgICAgICAgICAg
ICAgICAgICAgICAgICAqIGRlbGF5ZWQgZGVzdHJ1Y3Rpb24gd291bGQgc3VjY2VlZCwgc28ganVz
dCByZXR1cm4gc3VjY2Vzcwo+ICAgICAgICAgICAgICAgICAgICAgICAgICAqIGhlcmUuCj4gICAg
ICAgICAgICAgICAgICAgICAgICAgICovCj4gLSAgICAgICAgICAgICAgICAgICAgICAgc3Bpbl91
bmxvY2soJnR0bV9ib19nbG9iLmxydV9sb2NrKTsKPiArICAgICAgICAgICAgICAgICAgICAgICBz
cGluX3VubG9jaygmdHRtX2dsb2IubHJ1X2xvY2spOwo+ICAgICAgICAgICAgICAgICAgICAgICAg
IHJldHVybiAwOwo+ICAgICAgICAgICAgICAgICB9Cj4gICAgICAgICAgICAgICAgIHJldCA9IDA7
Cj4gQEAgLTQyNCwxMyArMzgzLDEzIEBAIHN0YXRpYyBpbnQgdHRtX2JvX2NsZWFudXBfcmVmcyhz
dHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+ICAgICAgICAgaWYgKHJldCB8fCB1bmxpa2Vs
eShsaXN0X2VtcHR5KCZiby0+ZGRlc3Ryb3kpKSkgewo+ICAgICAgICAgICAgICAgICBpZiAodW5s
b2NrX3Jlc3YpCj4gICAgICAgICAgICAgICAgICAgICAgICAgZG1hX3Jlc3ZfdW5sb2NrKGJvLT5i
YXNlLnJlc3YpOwo+IC0gICAgICAgICAgICAgICBzcGluX3VubG9jaygmdHRtX2JvX2dsb2IubHJ1
X2xvY2spOwo+ICsgICAgICAgICAgICAgICBzcGluX3VubG9jaygmdHRtX2dsb2IubHJ1X2xvY2sp
Owo+ICAgICAgICAgICAgICAgICByZXR1cm4gcmV0Owo+ICAgICAgICAgfQo+Cj4gICAgICAgICB0
dG1fYm9fZGVsX2Zyb21fbHJ1KGJvKTsKPiAgICAgICAgIGxpc3RfZGVsX2luaXQoJmJvLT5kZGVz
dHJveSk7Cj4gLSAgICAgICBzcGluX3VubG9jaygmdHRtX2JvX2dsb2IubHJ1X2xvY2spOwo+ICsg
ICAgICAgc3Bpbl91bmxvY2soJnR0bV9nbG9iLmxydV9sb2NrKTsKPiAgICAgICAgIHR0bV9ib19j
bGVhbnVwX21lbXR5cGVfdXNlKGJvKTsKPgo+ICAgICAgICAgaWYgKHVubG9ja19yZXN2KQo+IEBA
IC00NDUsOSArNDA0LDkgQEAgc3RhdGljIGludCB0dG1fYm9fY2xlYW51cF9yZWZzKHN0cnVjdCB0
dG1fYnVmZmVyX29iamVjdCAqYm8sCj4gICAqIFRyYXZlcnNlIHRoZSBkZWxheWVkIGxpc3QsIGFu
ZCBjYWxsIHR0bV9ib19jbGVhbnVwX3JlZnMgb24gYWxsCj4gICAqIGVuY291bnRlcmVkIGJ1ZmZl
cnMuCj4gICAqLwo+IC1zdGF0aWMgYm9vbCB0dG1fYm9fZGVsYXllZF9kZWxldGUoc3RydWN0IHR0
bV9ib19kZXZpY2UgKmJkZXYsIGJvb2wgcmVtb3ZlX2FsbCkKPiArYm9vbCB0dG1fYm9fZGVsYXll
ZF9kZWxldGUoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsIGJvb2wgcmVtb3ZlX2FsbCkKPiAgewo+
IC0gICAgICAgc3RydWN0IHR0bV9ib19nbG9iYWwgKmdsb2IgPSAmdHRtX2JvX2dsb2I7Cj4gKyAg
ICAgICBzdHJ1Y3QgdHRtX2dsb2JhbCAqZ2xvYiA9ICZ0dG1fZ2xvYjsKPiAgICAgICAgIHN0cnVj
dCBsaXN0X2hlYWQgcmVtb3ZlZDsKPiAgICAgICAgIGJvb2wgZW1wdHk7Cj4KPiBAQCAtNDg2LDIx
ICs0NDUsMTEgQEAgc3RhdGljIGJvb2wgdHRtX2JvX2RlbGF5ZWRfZGVsZXRlKHN0cnVjdCB0dG1f
Ym9fZGV2aWNlICpiZGV2LCBib29sIHJlbW92ZV9hbGwpCj4gICAgICAgICByZXR1cm4gZW1wdHk7
Cj4gIH0KPgo+IC1zdGF0aWMgdm9pZCB0dG1fYm9fZGVsYXllZF93b3JrcXVldWUoc3RydWN0IHdv
cmtfc3RydWN0ICp3b3JrKQo+IC17Cj4gLSAgICAgICBzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRl
diA9Cj4gLSAgICAgICAgICAgY29udGFpbmVyX29mKHdvcmssIHN0cnVjdCB0dG1fYm9fZGV2aWNl
LCB3cS53b3JrKTsKPiAtCj4gLSAgICAgICBpZiAoIXR0bV9ib19kZWxheWVkX2RlbGV0ZShiZGV2
LCBmYWxzZSkpCj4gLSAgICAgICAgICAgICAgIHNjaGVkdWxlX2RlbGF5ZWRfd29yaygmYmRldi0+
d3EsCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKEhaIC8gMTAwKSA8
IDEpID8gMSA6IEhaIC8gMTAwKTsKPiAtfQo+IC0KPiAgc3RhdGljIHZvaWQgdHRtX2JvX3JlbGVh
c2Uoc3RydWN0IGtyZWYgKmtyZWYpCj4gIHsKPiAgICAgICAgIHN0cnVjdCB0dG1fYnVmZmVyX29i
amVjdCAqYm8gPQo+ICAgICAgICAgICAgIGNvbnRhaW5lcl9vZihrcmVmLCBzdHJ1Y3QgdHRtX2J1
ZmZlcl9vYmplY3QsIGtyZWYpOwo+IC0gICAgICAgc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYg
PSBiby0+YmRldjsKPiArICAgICAgIHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2ID0gYm8tPmJkZXY7
Cj4gICAgICAgICBzaXplX3QgYWNjX3NpemUgPSBiby0+YWNjX3NpemU7Cj4gICAgICAgICBpbnQg
cmV0Owo+Cj4gQEAgLTUxNCw4ICs0NjMsOCBAQCBzdGF0aWMgdm9pZCB0dG1fYm9fcmVsZWFzZShz
dHJ1Y3Qga3JlZiAqa3JlZikKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIDMwICogSFopOwo+ICAgICAgICAgICAgICAgICB9Cj4KPiAtICAgICAgICAg
ICAgICAgaWYgKGJvLT5iZGV2LT5kcml2ZXItPnJlbGVhc2Vfbm90aWZ5KQo+IC0gICAgICAgICAg
ICAgICAgICAgICAgIGJvLT5iZGV2LT5kcml2ZXItPnJlbGVhc2Vfbm90aWZ5KGJvKTsKPiArICAg
ICAgICAgICAgICAgaWYgKGJvLT5iZGV2LT5mdW5jcy0+cmVsZWFzZV9ub3RpZnkpCj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgYm8tPmJkZXYtPmZ1bmNzLT5yZWxlYXNlX25vdGlmeShibyk7Cj4K
PiAgICAgICAgICAgICAgICAgZHJtX3ZtYV9vZmZzZXRfcmVtb3ZlKGJkZXYtPnZtYV9tYW5hZ2Vy
LCAmYm8tPmJhc2Uudm1hX25vZGUpOwo+ICAgICAgICAgICAgICAgICB0dG1fbWVtX2lvX2ZyZWUo
YmRldiwgJmJvLT5tZW0pOwo+IEBAIC01MjcsNyArNDc2LDcgQEAgc3RhdGljIHZvaWQgdHRtX2Jv
X3JlbGVhc2Uoc3RydWN0IGtyZWYgKmtyZWYpCj4gICAgICAgICAgICAgICAgIHR0bV9ib19mbHVz
aF9hbGxfZmVuY2VzKGJvKTsKPiAgICAgICAgICAgICAgICAgYm8tPmRlbGV0ZWQgPSB0cnVlOwo+
Cj4gLSAgICAgICAgICAgICAgIHNwaW5fbG9jaygmdHRtX2JvX2dsb2IubHJ1X2xvY2spOwo+ICsg
ICAgICAgICAgICAgICBzcGluX2xvY2soJnR0bV9nbG9iLmxydV9sb2NrKTsKPgo+ICAgICAgICAg
ICAgICAgICAvKgo+ICAgICAgICAgICAgICAgICAgKiBNYWtlIHBpbm5lZCBib3MgaW1tZWRpYXRl
bHkgYXZhaWxhYmxlIHRvCj4gQEAgLTU0MiwyMiArNDkxLDIyIEBAIHN0YXRpYyB2b2lkIHR0bV9i
b19yZWxlYXNlKHN0cnVjdCBrcmVmICprcmVmKQo+Cj4gICAgICAgICAgICAgICAgIGtyZWZfaW5p
dCgmYm8tPmtyZWYpOwo+ICAgICAgICAgICAgICAgICBsaXN0X2FkZF90YWlsKCZiby0+ZGRlc3Ry
b3ksICZiZGV2LT5kZGVzdHJveSk7Cj4gLSAgICAgICAgICAgICAgIHNwaW5fdW5sb2NrKCZ0dG1f
Ym9fZ2xvYi5scnVfbG9jayk7Cj4gKyAgICAgICAgICAgICAgIHNwaW5fdW5sb2NrKCZ0dG1fZ2xv
Yi5scnVfbG9jayk7Cj4KPiAgICAgICAgICAgICAgICAgc2NoZWR1bGVfZGVsYXllZF93b3JrKCZi
ZGV2LT53cSwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgoSFogLyAx
MDApIDwgMSkgPyAxIDogSFogLyAxMDApOwo+ICAgICAgICAgICAgICAgICByZXR1cm47Cj4gICAg
ICAgICB9Cj4KPiAtICAgICAgIHNwaW5fbG9jaygmdHRtX2JvX2dsb2IubHJ1X2xvY2spOwo+ICsg
ICAgICAgc3Bpbl9sb2NrKCZ0dG1fZ2xvYi5scnVfbG9jayk7Cj4gICAgICAgICB0dG1fYm9fZGVs
X2Zyb21fbHJ1KGJvKTsKPiAgICAgICAgIGxpc3RfZGVsKCZiby0+ZGRlc3Ryb3kpOwo+IC0gICAg
ICAgc3Bpbl91bmxvY2soJnR0bV9ib19nbG9iLmxydV9sb2NrKTsKPiArICAgICAgIHNwaW5fdW5s
b2NrKCZ0dG1fZ2xvYi5scnVfbG9jayk7Cj4KPiAgICAgICAgIHR0bV9ib19jbGVhbnVwX21lbXR5
cGVfdXNlKGJvKTsKPiAgICAgICAgIGRtYV9yZXN2X3VubG9jayhiby0+YmFzZS5yZXN2KTsKPgo+
IC0gICAgICAgYXRvbWljX2RlYygmdHRtX2JvX2dsb2IuYm9fY291bnQpOwo+ICsgICAgICAgYXRv
bWljX2RlYygmdHRtX2dsb2IuYm9fY291bnQpOwo+ICAgICAgICAgZG1hX2ZlbmNlX3B1dChiby0+
bW92aW5nKTsKPiAgICAgICAgIGlmICghdHRtX2JvX3VzZXNfZW1iZWRkZWRfZ2VtX29iamVjdChi
bykpCj4gICAgICAgICAgICAgICAgIGRtYV9yZXN2X2ZpbmkoJmJvLT5iYXNlLl9yZXN2KTsKPiBA
QCAtNTcxLDEzICs1MjAsMTMgQEAgdm9pZCB0dG1fYm9fcHV0KHN0cnVjdCB0dG1fYnVmZmVyX29i
amVjdCAqYm8pCj4gIH0KPiAgRVhQT1JUX1NZTUJPTCh0dG1fYm9fcHV0KTsKPgo+IC1pbnQgdHRt
X2JvX2xvY2tfZGVsYXllZF93b3JrcXVldWUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYpCj4g
K2ludCB0dG1fYm9fbG9ja19kZWxheWVkX3dvcmtxdWV1ZShzdHJ1Y3QgdHRtX2RldmljZSAqYmRl
dikKPiAgewo+ICAgICAgICAgcmV0dXJuIGNhbmNlbF9kZWxheWVkX3dvcmtfc3luYygmYmRldi0+
d3EpOwo+ICB9Cj4gIEVYUE9SVF9TWU1CT0wodHRtX2JvX2xvY2tfZGVsYXllZF93b3JrcXVldWUp
Owo+Cj4gLXZvaWQgdHRtX2JvX3VubG9ja19kZWxheWVkX3dvcmtxdWV1ZShzdHJ1Y3QgdHRtX2Jv
X2RldmljZSAqYmRldiwgaW50IHJlc2NoZWQpCj4gK3ZvaWQgdHRtX2JvX3VubG9ja19kZWxheWVk
X3dvcmtxdWV1ZShzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwgaW50IHJlc2NoZWQpCj4gIHsKPiAg
ICAgICAgIGlmIChyZXNjaGVkKQo+ICAgICAgICAgICAgICAgICBzY2hlZHVsZV9kZWxheWVkX3dv
cmsoJmJkZXYtPndxLAo+IEBAIC01ODgsNyArNTM3LDcgQEAgRVhQT1JUX1NZTUJPTCh0dG1fYm9f
dW5sb2NrX2RlbGF5ZWRfd29ya3F1ZXVlKTsKPiAgc3RhdGljIGludCB0dG1fYm9fZXZpY3Qoc3Ry
dWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1
Y3QgdHRtX29wZXJhdGlvbl9jdHggKmN0eCkKPiAgewo+IC0gICAgICAgc3RydWN0IHR0bV9ib19k
ZXZpY2UgKmJkZXYgPSBiby0+YmRldjsKPiArICAgICAgIHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2
ID0gYm8tPmJkZXY7Cj4gICAgICAgICBzdHJ1Y3QgdHRtX3Jlc291cmNlIGV2aWN0X21lbTsKPiAg
ICAgICAgIHN0cnVjdCB0dG1fcGxhY2VtZW50IHBsYWNlbWVudDsKPiAgICAgICAgIGludCByZXQg
PSAwOwo+IEBAIC01OTcsNyArNTQ2LDcgQEAgc3RhdGljIGludCB0dG1fYm9fZXZpY3Qoc3RydWN0
IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPgo+ICAgICAgICAgcGxhY2VtZW50Lm51bV9wbGFjZW1l
bnQgPSAwOwo+ICAgICAgICAgcGxhY2VtZW50Lm51bV9idXN5X3BsYWNlbWVudCA9IDA7Cj4gLSAg
ICAgICBiZGV2LT5kcml2ZXItPmV2aWN0X2ZsYWdzKGJvLCAmcGxhY2VtZW50KTsKPiArICAgICAg
IGJkZXYtPmZ1bmNzLT5ldmljdF9mbGFncyhibywgJnBsYWNlbWVudCk7Cj4KPiAgICAgICAgIGlm
ICghcGxhY2VtZW50Lm51bV9wbGFjZW1lbnQgJiYgIXBsYWNlbWVudC5udW1fYnVzeV9wbGFjZW1l
bnQpIHsKPiAgICAgICAgICAgICAgICAgdHRtX2JvX3dhaXQoYm8sIGZhbHNlLCBmYWxzZSk7Cj4g
QEAgLTcxMiw3ICs2NjEsNyBAQCBzdGF0aWMgaW50IHR0bV9tZW1fZXZpY3Rfd2FpdF9idXN5KHN0
cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYnVzeV9ibywKPiAgICAgICAgIHJldHVybiByID09IC1F
REVBRExLID8gLUVCVVNZIDogcjsKPiAgfQo+Cj4gLWludCB0dG1fbWVtX2V2aWN0X2ZpcnN0KHN0
cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICtpbnQgdHRtX21lbV9ldmljdF9maXJzdChzdHJ1
Y3QgdHRtX2RldmljZSAqYmRldiwKPiAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRt
X3Jlc291cmNlX21hbmFnZXIgKm1hbiwKPiAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBz
dHJ1Y3QgdHRtX3BsYWNlICpwbGFjZSwKPiAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3Qg
dHRtX29wZXJhdGlvbl9jdHggKmN0eCwKPiBAQCAtNzIzLDcgKzY3Miw3IEBAIGludCB0dG1fbWVt
X2V2aWN0X2ZpcnN0KHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICAgICAgICAgdW5zaWdu
ZWQgaTsKPiAgICAgICAgIGludCByZXQ7Cj4KPiAtICAgICAgIHNwaW5fbG9jaygmdHRtX2JvX2ds
b2IubHJ1X2xvY2spOwo+ICsgICAgICAgc3Bpbl9sb2NrKCZ0dG1fZ2xvYi5scnVfbG9jayk7Cj4g
ICAgICAgICBmb3IgKGkgPSAwOyBpIDwgVFRNX01BWF9CT19QUklPUklUWTsgKytpKSB7Cj4gICAg
ICAgICAgICAgICAgIGxpc3RfZm9yX2VhY2hfZW50cnkoYm8sICZtYW4tPmxydVtpXSwgbHJ1KSB7
Cj4gICAgICAgICAgICAgICAgICAgICAgICAgYm9vbCBidXN5Owo+IEBAIC03MzYsNyArNjg1LDcg
QEAgaW50IHR0bV9tZW1fZXZpY3RfZmlyc3Qoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKPiAgICAgICAgICAgICAg
ICAgICAgICAgICB9Cj4KPiAtICAgICAgICAgICAgICAgICAgICAgICBpZiAocGxhY2UgJiYgIWJk
ZXYtPmRyaXZlci0+ZXZpY3Rpb25fdmFsdWFibGUoYm8sCj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgaWYgKHBsYWNlICYmICFiZGV2LT5mdW5jcy0+ZXZpY3Rpb25fdmFsdWFibGUoYm8sCj4gICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHBsYWNlKSkgewo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYg
KGxvY2tlZCkKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG1hX3Jl
c3ZfdW5sb2NrKGJvLT5iYXNlLnJlc3YpOwo+IEBAIC03NjAsNyArNzA5LDcgQEAgaW50IHR0bV9t
ZW1fZXZpY3RfZmlyc3Qoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gICAgICAgICBpZiAo
IWJvKSB7Cj4gICAgICAgICAgICAgICAgIGlmIChidXN5X2JvICYmICF0dG1fYm9fZ2V0X3VubGVz
c196ZXJvKGJ1c3lfYm8pKQo+ICAgICAgICAgICAgICAgICAgICAgICAgIGJ1c3lfYm8gPSBOVUxM
Owo+IC0gICAgICAgICAgICAgICBzcGluX3VubG9jaygmdHRtX2JvX2dsb2IubHJ1X2xvY2spOwo+
ICsgICAgICAgICAgICAgICBzcGluX3VubG9jaygmdHRtX2dsb2IubHJ1X2xvY2spOwo+ICAgICAg
ICAgICAgICAgICByZXQgPSB0dG1fbWVtX2V2aWN0X3dhaXRfYnVzeShidXN5X2JvLCBjdHgsIHRp
Y2tldCk7Cj4gICAgICAgICAgICAgICAgIGlmIChidXN5X2JvKQo+ICAgICAgICAgICAgICAgICAg
ICAgICAgIHR0bV9ib19wdXQoYnVzeV9ibyk7Cj4gQEAgLTc3NCw3ICs3MjMsNyBAQCBpbnQgdHRt
X21lbV9ldmljdF9maXJzdChzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiAgICAgICAgICAg
ICAgICAgcmV0dXJuIHJldDsKPiAgICAgICAgIH0KPgo+IC0gICAgICAgc3Bpbl91bmxvY2soJnR0
bV9ib19nbG9iLmxydV9sb2NrKTsKPiArICAgICAgIHNwaW5fdW5sb2NrKCZ0dG1fZ2xvYi5scnVf
bG9jayk7Cj4KPiAgICAgICAgIHJldCA9IHR0bV9ib19ldmljdChibywgY3R4KTsKPiAgICAgICAg
IGlmIChsb2NrZWQpCj4gQEAgLTgyOSw3ICs3NzgsNyBAQCBzdGF0aWMgaW50IHR0bV9ib19tZW1f
Zm9yY2Vfc3BhY2Uoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHR0bV9yZXNvdXJjZSAqbWVtLAo+ICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX29wZXJhdGlvbl9jdHggKmN0eCkK
PiAgewo+IC0gICAgICAgc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYgPSBiby0+YmRldjsKPiAr
ICAgICAgIHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2ID0gYm8tPmJkZXY7Cj4gICAgICAgICBzdHJ1
Y3QgdHRtX3Jlc291cmNlX21hbmFnZXIgKm1hbiA9IHR0bV9tYW5hZ2VyX3R5cGUoYmRldiwgbWVt
LT5tZW1fdHlwZSk7Cj4gICAgICAgICBzdHJ1Y3Qgd3dfYWNxdWlyZV9jdHggKnRpY2tldDsKPiAg
ICAgICAgIGludCByZXQ7Cj4gQEAgLTg2Niw3ICs4MTUsNyBAQCBzdGF0aWMgaW50IHR0bV9ib19t
ZW1fcGxhY2VtZW50KHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCj4gICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3Jlc291cmNlICptZW0sCj4gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX29wZXJhdGlvbl9jdHggKmN0eCkKPiAg
ewo+IC0gICAgICAgc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYgPSBiby0+YmRldjsKPiArICAg
ICAgIHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2ID0gYm8tPmJkZXY7Cj4gICAgICAgICBzdHJ1Y3Qg
dHRtX3Jlc291cmNlX21hbmFnZXIgKm1hbjsKPgo+ICAgICAgICAgbWFuID0gdHRtX21hbmFnZXJf
dHlwZShiZGV2LCBwbGFjZS0+bWVtX3R5cGUpOwo+IEBAIC04NzYsMTAgKzgyNSwxMCBAQCBzdGF0
aWMgaW50IHR0bV9ib19tZW1fcGxhY2VtZW50KHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8s
Cj4gICAgICAgICBtZW0tPm1lbV90eXBlID0gcGxhY2UtPm1lbV90eXBlOwo+ICAgICAgICAgbWVt
LT5wbGFjZW1lbnQgPSBwbGFjZS0+ZmxhZ3M7Cj4KPiAtICAgICAgIHNwaW5fbG9jaygmdHRtX2Jv
X2dsb2IubHJ1X2xvY2spOwo+ICsgICAgICAgc3Bpbl9sb2NrKCZ0dG1fZ2xvYi5scnVfbG9jayk7
Cj4gICAgICAgICB0dG1fYm9fZGVsX2Zyb21fbHJ1KGJvKTsKPiAgICAgICAgIHR0bV9ib19hZGRf
bWVtX3RvX2xydShibywgbWVtKTsKPiAtICAgICAgIHNwaW5fdW5sb2NrKCZ0dG1fYm9fZ2xvYi5s
cnVfbG9jayk7Cj4gKyAgICAgICBzcGluX3VubG9jaygmdHRtX2dsb2IubHJ1X2xvY2spOwo+Cj4g
ICAgICAgICByZXR1cm4gMDsKPiAgfQo+IEBAIC04OTcsNyArODQ2LDcgQEAgaW50IHR0bV9ib19t
ZW1fc3BhY2Uoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAgICAgICAgICAgICAgICAg
ICAgICAgICBzdHJ1Y3QgdHRtX3Jlc291cmNlICptZW0sCj4gICAgICAgICAgICAgICAgICAgICAg
ICAgc3RydWN0IHR0bV9vcGVyYXRpb25fY3R4ICpjdHgpCj4gIHsKPiAtICAgICAgIHN0cnVjdCB0
dG1fYm9fZGV2aWNlICpiZGV2ID0gYm8tPmJkZXY7Cj4gKyAgICAgICBzdHJ1Y3QgdHRtX2Rldmlj
ZSAqYmRldiA9IGJvLT5iZGV2Owo+ICAgICAgICAgYm9vbCB0eXBlX2ZvdW5kID0gZmFsc2U7Cj4g
ICAgICAgICBpbnQgaSwgcmV0Owo+Cj4gQEAgLTEwNzQsNyArMTAyMyw3IEBAIGludCB0dG1fYm9f
dmFsaWRhdGUoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAgfQo+ICBFWFBPUlRfU1lN
Qk9MKHR0bV9ib192YWxpZGF0ZSk7Cj4KPiAtaW50IHR0bV9ib19pbml0X3Jlc2VydmVkKHN0cnVj
dCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICtpbnQgdHRtX2JvX2luaXRfcmVzZXJ2ZWQoc3RydWN0
IHR0bV9kZXZpY2UgKmJkZXYsCj4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1f
YnVmZmVyX29iamVjdCAqYm8sCj4gICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGxv
bmcgc2l6ZSwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bSB0dG1fYm9fdHlwZSB0eXBl
LAo+IEBAIC0xMTQ2LDcgKzEwOTUsNyBAQCBpbnQgdHRtX2JvX2luaXRfcmVzZXJ2ZWQoc3RydWN0
IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gICAgICAgICAgICAgICAgIGRtYV9yZXN2X2luaXQoJmJv
LT5iYXNlLl9yZXN2KTsKPiAgICAgICAgICAgICAgICAgZHJtX3ZtYV9ub2RlX3Jlc2V0KCZiby0+
YmFzZS52bWFfbm9kZSk7Cj4gICAgICAgICB9Cj4gLSAgICAgICBhdG9taWNfaW5jKCZ0dG1fYm9f
Z2xvYi5ib19jb3VudCk7Cj4gKyAgICAgICBhdG9taWNfaW5jKCZ0dG1fZ2xvYi5ib19jb3VudCk7
Cj4KPiAgICAgICAgIC8qCj4gICAgICAgICAgKiBGb3IgdHRtX2JvX3R5cGVfZGV2aWNlIGJ1ZmZl
cnMsIGFsbG9jYXRlCj4gQEAgLTExODIsNyArMTEzMSw3IEBAIGludCB0dG1fYm9faW5pdF9yZXNl
cnZlZChzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiAgfQo+ICBFWFBPUlRfU1lNQk9MKHR0
bV9ib19pbml0X3Jlc2VydmVkKTsKPgo+IC1pbnQgdHRtX2JvX2luaXQoc3RydWN0IHR0bV9ib19k
ZXZpY2UgKmJkZXYsCj4gK2ludCB0dG1fYm9faW5pdChzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwK
PiAgICAgICAgICAgICAgICAgc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAgICAgICAg
ICAgICAgICAgdW5zaWduZWQgbG9uZyBzaXplLAo+ICAgICAgICAgICAgICAgICBlbnVtIHR0bV9i
b190eXBlIHR5cGUsCj4gQEAgLTEyMTAsNyArMTE1OSw3IEBAIGludCB0dG1fYm9faW5pdChzdHJ1
Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiAgfQo+ICBFWFBPUlRfU1lNQk9MKHR0bV9ib19pbml0
KTsKPgo+IC1zaXplX3QgdHRtX2JvX2RtYV9hY2Nfc2l6ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAq
YmRldiwKPiArc2l6ZV90IHR0bV9ib19kbWFfYWNjX3NpemUoc3RydWN0IHR0bV9kZXZpY2UgKmJk
ZXYsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgbG9uZyBib19zaXplLAo+
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIHN0cnVjdF9zaXplKQo+ICB7Cj4g
QEAgLTEyMjQsNyArMTE3Myw3IEBAIHNpemVfdCB0dG1fYm9fZG1hX2FjY19zaXplKHN0cnVjdCB0
dG1fYm9fZGV2aWNlICpiZGV2LAo+ICB9Cj4gIEVYUE9SVF9TWU1CT0wodHRtX2JvX2RtYV9hY2Nf
c2l6ZSk7Cj4KPiAtaW50IHR0bV9ib19ldmljdF9tbShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRl
diwgdW5zaWduZWQgbWVtX3R5cGUpCj4gK2ludCB0dG1fYm9fZXZpY3RfbW0oc3RydWN0IHR0bV9k
ZXZpY2UgKmJkZXYsIHVuc2lnbmVkIG1lbV90eXBlKQo+ICB7Cj4gICAgICAgICBzdHJ1Y3QgdHRt
X3Jlc291cmNlX21hbmFnZXIgKm1hbiA9IHR0bV9tYW5hZ2VyX3R5cGUoYmRldiwgbWVtX3R5cGUp
Owo+Cj4gQEAgLTEyNDIsMTU0ICsxMTkxLDEzIEBAIGludCB0dG1fYm9fZXZpY3RfbW0oc3RydWN0
IHR0bV9ib19kZXZpY2UgKmJkZXYsIHVuc2lnbmVkIG1lbV90eXBlKQo+ICB9Cj4gIEVYUE9SVF9T
WU1CT0wodHRtX2JvX2V2aWN0X21tKTsKPgo+IC1zdGF0aWMgdm9pZCB0dG1fYm9fZ2xvYmFsX2tv
YmpfcmVsZWFzZShzdHJ1Y3Qga29iamVjdCAqa29iaikKPiAtewo+IC0gICAgICAgc3RydWN0IHR0
bV9ib19nbG9iYWwgKmdsb2IgPQo+IC0gICAgICAgICAgICAgICBjb250YWluZXJfb2Yoa29iaiwg
c3RydWN0IHR0bV9ib19nbG9iYWwsIGtvYmopOwo+IC0KPiAtICAgICAgIF9fZnJlZV9wYWdlKGds
b2ItPmR1bW15X3JlYWRfcGFnZSk7Cj4gLX0KPiAtCj4gLXN0YXRpYyB2b2lkIHR0bV9ib19nbG9i
YWxfcmVsZWFzZSh2b2lkKQo+IC17Cj4gLSAgICAgICBzdHJ1Y3QgdHRtX2JvX2dsb2JhbCAqZ2xv
YiA9ICZ0dG1fYm9fZ2xvYjsKPiAtCj4gLSAgICAgICBtdXRleF9sb2NrKCZ0dG1fZ2xvYmFsX211
dGV4KTsKPiAtICAgICAgIGlmICgtLXR0bV9ib19nbG9iX3VzZV9jb3VudCA+IDApCj4gLSAgICAg
ICAgICAgICAgIGdvdG8gb3V0Owo+IC0KPiAtICAgICAgIGtvYmplY3RfZGVsKCZnbG9iLT5rb2Jq
KTsKPiAtICAgICAgIGtvYmplY3RfcHV0KCZnbG9iLT5rb2JqKTsKPiAtICAgICAgIHR0bV9tZW1f
Z2xvYmFsX3JlbGVhc2UoJnR0bV9tZW1fZ2xvYik7Cj4gLSAgICAgICBtZW1zZXQoZ2xvYiwgMCwg
c2l6ZW9mKCpnbG9iKSk7Cj4gLW91dDoKPiAtICAgICAgIG11dGV4X3VubG9jaygmdHRtX2dsb2Jh
bF9tdXRleCk7Cj4gLX0KPiAtCj4gLXN0YXRpYyBpbnQgdHRtX2JvX2dsb2JhbF9pbml0KHZvaWQp
Cj4gLXsKPiAtICAgICAgIHN0cnVjdCB0dG1fYm9fZ2xvYmFsICpnbG9iID0gJnR0bV9ib19nbG9i
Owo+IC0gICAgICAgaW50IHJldCA9IDA7Cj4gLSAgICAgICB1bnNpZ25lZCBpOwo+IC0KPiAtICAg
ICAgIG11dGV4X2xvY2soJnR0bV9nbG9iYWxfbXV0ZXgpOwo+IC0gICAgICAgaWYgKCsrdHRtX2Jv
X2dsb2JfdXNlX2NvdW50ID4gMSkKPiAtICAgICAgICAgICAgICAgZ290byBvdXQ7Cj4gLQo+IC0g
ICAgICAgcmV0ID0gdHRtX21lbV9nbG9iYWxfaW5pdCgmdHRtX21lbV9nbG9iKTsKPiAtICAgICAg
IGlmIChyZXQpCj4gLSAgICAgICAgICAgICAgIGdvdG8gb3V0Owo+IC0KPiAtICAgICAgIHNwaW5f
bG9ja19pbml0KCZnbG9iLT5scnVfbG9jayk7Cj4gLSAgICAgICBnbG9iLT5kdW1teV9yZWFkX3Bh
Z2UgPSBhbGxvY19wYWdlKF9fR0ZQX1pFUk8gfCBHRlBfRE1BMzIpOwo+IC0KPiAtICAgICAgIGlm
ICh1bmxpa2VseShnbG9iLT5kdW1teV9yZWFkX3BhZ2UgPT0gTlVMTCkpIHsKPiAtICAgICAgICAg
ICAgICAgcmV0ID0gLUVOT01FTTsKPiAtICAgICAgICAgICAgICAgZ290byBvdXQ7Cj4gLSAgICAg
ICB9Cj4gLQo+IC0gICAgICAgZm9yIChpID0gMDsgaSA8IFRUTV9NQVhfQk9fUFJJT1JJVFk7ICsr
aSkKPiAtICAgICAgICAgICAgICAgSU5JVF9MSVNUX0hFQUQoJmdsb2ItPnN3YXBfbHJ1W2ldKTsK
PiAtICAgICAgIElOSVRfTElTVF9IRUFEKCZnbG9iLT5kZXZpY2VfbGlzdCk7Cj4gLSAgICAgICBh
dG9taWNfc2V0KCZnbG9iLT5ib19jb3VudCwgMCk7Cj4gLQo+IC0gICAgICAgcmV0ID0ga29iamVj
dF9pbml0X2FuZF9hZGQoCj4gLSAgICAgICAgICAgICAgICZnbG9iLT5rb2JqLCAmdHRtX2JvX2ds
b2Jfa29ial90eXBlLCB0dG1fZ2V0X2tvYmooKSwgImJ1ZmZlcl9vYmplY3RzIik7Cj4gLSAgICAg
ICBpZiAodW5saWtlbHkocmV0ICE9IDApKQo+IC0gICAgICAgICAgICAgICBrb2JqZWN0X3B1dCgm
Z2xvYi0+a29iaik7Cj4gLW91dDoKPiAtICAgICAgIG11dGV4X3VubG9jaygmdHRtX2dsb2JhbF9t
dXRleCk7Cj4gLSAgICAgICByZXR1cm4gcmV0Owo+IC19Cj4gLQo+IC1pbnQgdHRtX2JvX2Rldmlj
ZV9yZWxlYXNlKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2KQo+IC17Cj4gLSAgICAgICBzdHJ1
Y3QgdHRtX2JvX2dsb2JhbCAqZ2xvYiA9ICZ0dG1fYm9fZ2xvYjsKPiAtICAgICAgIGludCByZXQg
PSAwOwo+IC0gICAgICAgdW5zaWduZWQgaTsKPiAtICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2Vf
bWFuYWdlciAqbWFuOwo+IC0KPiAtICAgICAgIG1hbiA9IHR0bV9tYW5hZ2VyX3R5cGUoYmRldiwg
VFRNX1BMX1NZU1RFTSk7Cj4gLSAgICAgICB0dG1fcmVzb3VyY2VfbWFuYWdlcl9zZXRfdXNlZCht
YW4sIGZhbHNlKTsKPiAtICAgICAgIHR0bV9zZXRfZHJpdmVyX21hbmFnZXIoYmRldiwgVFRNX1BM
X1NZU1RFTSwgTlVMTCk7Cj4gLQo+IC0gICAgICAgbXV0ZXhfbG9jaygmdHRtX2dsb2JhbF9tdXRl
eCk7Cj4gLSAgICAgICBsaXN0X2RlbCgmYmRldi0+ZGV2aWNlX2xpc3QpOwo+IC0gICAgICAgbXV0
ZXhfdW5sb2NrKCZ0dG1fZ2xvYmFsX211dGV4KTsKPiAtCj4gLSAgICAgICBjYW5jZWxfZGVsYXll
ZF93b3JrX3N5bmMoJmJkZXYtPndxKTsKPiAtCj4gLSAgICAgICBpZiAodHRtX2JvX2RlbGF5ZWRf
ZGVsZXRlKGJkZXYsIHRydWUpKQo+IC0gICAgICAgICAgICAgICBwcl9kZWJ1ZygiRGVsYXllZCBk
ZXN0cm95IGxpc3Qgd2FzIGNsZWFuXG4iKTsKPiAtCj4gLSAgICAgICBzcGluX2xvY2soJmdsb2It
PmxydV9sb2NrKTsKPiAtICAgICAgIGZvciAoaSA9IDA7IGkgPCBUVE1fTUFYX0JPX1BSSU9SSVRZ
OyArK2kpCj4gLSAgICAgICAgICAgICAgIGlmIChsaXN0X2VtcHR5KCZtYW4tPmxydVswXSkpCj4g
LSAgICAgICAgICAgICAgICAgICAgICAgcHJfZGVidWcoIlN3YXAgbGlzdCAlZCB3YXMgY2xlYW5c
biIsIGkpOwo+IC0gICAgICAgc3Bpbl91bmxvY2soJmdsb2ItPmxydV9sb2NrKTsKPiAtCj4gLSAg
ICAgICBpZiAoIXJldCkKPiAtICAgICAgICAgICAgICAgdHRtX2JvX2dsb2JhbF9yZWxlYXNlKCk7
Cj4gLQo+IC0gICAgICAgcmV0dXJuIHJldDsKPiAtfQo+IC1FWFBPUlRfU1lNQk9MKHR0bV9ib19k
ZXZpY2VfcmVsZWFzZSk7Cj4gLQo+IC1zdGF0aWMgdm9pZCB0dG1fYm9faW5pdF9zeXNtYW4oc3Ry
dWN0IHR0bV9ib19kZXZpY2UgKmJkZXYpCj4gLXsKPiAtICAgICAgIHN0cnVjdCB0dG1fcmVzb3Vy
Y2VfbWFuYWdlciAqbWFuID0gJmJkZXYtPnN5c21hbjsKPiAtCj4gLSAgICAgICAvKgo+IC0gICAg
ICAgICogSW5pdGlhbGl6ZSB0aGUgc3lzdGVtIG1lbW9yeSBidWZmZXIgdHlwZS4KPiAtICAgICAg
ICAqIE90aGVyIHR5cGVzIG5lZWQgdG8gYmUgZHJpdmVyIC8gSU9DVEwgaW5pdGlhbGl6ZWQuCj4g
LSAgICAgICAgKi8KPiAtICAgICAgIG1hbi0+dXNlX3R0ID0gdHJ1ZTsKPiAtCj4gLSAgICAgICB0
dG1fcmVzb3VyY2VfbWFuYWdlcl9pbml0KG1hbiwgMCk7Cj4gLSAgICAgICB0dG1fc2V0X2RyaXZl
cl9tYW5hZ2VyKGJkZXYsIFRUTV9QTF9TWVNURU0sIG1hbik7Cj4gLSAgICAgICB0dG1fcmVzb3Vy
Y2VfbWFuYWdlcl9zZXRfdXNlZChtYW4sIHRydWUpOwo+IC19Cj4gLQo+IC1pbnQgdHRtX2JvX2Rl
dmljZV9pbml0KHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+IC0gICAgICAgICAgICAgICAg
ICAgICAgc3RydWN0IHR0bV9ib19kcml2ZXIgKmRyaXZlciwKPiAtICAgICAgICAgICAgICAgICAg
ICAgIHN0cnVjdCBhZGRyZXNzX3NwYWNlICptYXBwaW5nLAo+IC0gICAgICAgICAgICAgICAgICAg
ICAgc3RydWN0IGRybV92bWFfb2Zmc2V0X21hbmFnZXIgKnZtYV9tYW5hZ2VyLAo+IC0gICAgICAg
ICAgICAgICAgICAgICAgYm9vbCBuZWVkX2RtYTMyKQo+IC17Cj4gLSAgICAgICBzdHJ1Y3QgdHRt
X2JvX2dsb2JhbCAqZ2xvYiA9ICZ0dG1fYm9fZ2xvYjsKPiAtICAgICAgIGludCByZXQ7Cj4gLQo+
IC0gICAgICAgaWYgKFdBUk5fT04odm1hX21hbmFnZXIgPT0gTlVMTCkpCj4gLSAgICAgICAgICAg
ICAgIHJldHVybiAtRUlOVkFMOwo+IC0KPiAtICAgICAgIHJldCA9IHR0bV9ib19nbG9iYWxfaW5p
dCgpOwo+IC0gICAgICAgaWYgKHJldCkKPiAtICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiAt
Cj4gLSAgICAgICBiZGV2LT5kcml2ZXIgPSBkcml2ZXI7Cj4gLQo+IC0gICAgICAgdHRtX2JvX2lu
aXRfc3lzbWFuKGJkZXYpOwo+IC0KPiAtICAgICAgIGJkZXYtPnZtYV9tYW5hZ2VyID0gdm1hX21h
bmFnZXI7Cj4gLSAgICAgICBJTklUX0RFTEFZRURfV09SSygmYmRldi0+d3EsIHR0bV9ib19kZWxh
eWVkX3dvcmtxdWV1ZSk7Cj4gLSAgICAgICBJTklUX0xJU1RfSEVBRCgmYmRldi0+ZGRlc3Ryb3kp
Owo+IC0gICAgICAgYmRldi0+ZGV2X21hcHBpbmcgPSBtYXBwaW5nOwo+IC0gICAgICAgYmRldi0+
bmVlZF9kbWEzMiA9IG5lZWRfZG1hMzI7Cj4gLSAgICAgICBtdXRleF9sb2NrKCZ0dG1fZ2xvYmFs
X211dGV4KTsKPiAtICAgICAgIGxpc3RfYWRkX3RhaWwoJmJkZXYtPmRldmljZV9saXN0LCAmZ2xv
Yi0+ZGV2aWNlX2xpc3QpOwo+IC0gICAgICAgbXV0ZXhfdW5sb2NrKCZ0dG1fZ2xvYmFsX211dGV4
KTsKPiAtCj4gLSAgICAgICByZXR1cm4gMDsKPiAtfQo+IC1FWFBPUlRfU1lNQk9MKHR0bV9ib19k
ZXZpY2VfaW5pdCk7Cj4gLQo+ICAvKgo+ICAgKiBidWZmZXIgb2JqZWN0IHZtIGZ1bmN0aW9ucy4K
PiAgICovCj4KPiAgdm9pZCB0dG1fYm9fdW5tYXBfdmlydHVhbChzdHJ1Y3QgdHRtX2J1ZmZlcl9v
YmplY3QgKmJvKQo+ICB7Cj4gLSAgICAgICBzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiA9IGJv
LT5iZGV2Owo+ICsgICAgICAgc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYgPSBiby0+YmRldjsKPgo+
ICAgICAgICAgZHJtX3ZtYV9ub2RlX3VubWFwKCZiby0+YmFzZS52bWFfbm9kZSwgYmRldi0+ZGV2
X21hcHBpbmcpOwo+ICAgICAgICAgdHRtX21lbV9pb19mcmVlKGJkZXYsICZiby0+bWVtKTsKPiBA
QCAtMTQyNSw3ICsxMjMzLDcgQEAgRVhQT1JUX1NZTUJPTCh0dG1fYm9fd2FpdCk7Cj4gICAqIEEg
YnVmZmVyIG9iamVjdCBzaHJpbmsgbWV0aG9kIHRoYXQgdHJpZXMgdG8gc3dhcCBvdXQgdGhlIGZp
cnN0Cj4gICAqIGJ1ZmZlciBvYmplY3Qgb24gdGhlIGJvX2dsb2JhbDo6c3dhcF9scnUgbGlzdC4K
PiAgICovCj4gLWludCB0dG1fYm9fc3dhcG91dChzdHJ1Y3QgdHRtX2JvX2dsb2JhbCAqZ2xvYiwg
c3RydWN0IHR0bV9vcGVyYXRpb25fY3R4ICpjdHgpCj4gK2ludCB0dG1fYm9fc3dhcG91dChzdHJ1
Y3QgdHRtX2dsb2JhbCAqZ2xvYiwgc3RydWN0IHR0bV9vcGVyYXRpb25fY3R4ICpjdHgpCj4gIHsK
PiAgICAgICAgIHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm87Cj4gICAgICAgICBpbnQgcmV0
ID0gLUVCVVNZOwo+IEBAIC0xNDk5LDggKzEzMDcsOCBAQCBpbnQgdHRtX2JvX3N3YXBvdXQoc3Ry
dWN0IHR0bV9ib19nbG9iYWwgKmdsb2IsIHN0cnVjdCB0dG1fb3BlcmF0aW9uX2N0eCAqY3R4KQo+
ICAgICAgICAgICogYW55b25lIHRyaWVzIHRvIGFjY2VzcyBhIHR0bSBwYWdlLgo+ICAgICAgICAg
ICovCj4KPiAtICAgICAgIGlmIChiby0+YmRldi0+ZHJpdmVyLT5zd2FwX25vdGlmeSkKPiAtICAg
ICAgICAgICAgICAgYm8tPmJkZXYtPmRyaXZlci0+c3dhcF9ub3RpZnkoYm8pOwo+ICsgICAgICAg
aWYgKGJvLT5iZGV2LT5mdW5jcy0+c3dhcF9ub3RpZnkpCj4gKyAgICAgICAgICAgICAgIGJvLT5i
ZGV2LT5mdW5jcy0+c3dhcF9ub3RpZnkoYm8pOwo+Cj4gICAgICAgICByZXQgPSB0dG1fdHRfc3dh
cG91dChiby0+YmRldiwgYm8tPnR0bSk7Cj4gIG91dDoKPiBAQCAtMTUyNCw3ICsxMzMyLDcgQEAg
dm9pZCB0dG1fYm9fc3dhcG91dF9hbGwodm9pZCkKPiAgICAgICAgICAgICAgICAgLm5vX3dhaXRf
Z3B1ID0gZmFsc2UKPiAgICAgICAgIH07Cj4KPiAtICAgICAgIHdoaWxlICh0dG1fYm9fc3dhcG91
dCgmdHRtX2JvX2dsb2IsICZjdHgpID09IDApOwo+ICsgICAgICAgd2hpbGUgKHR0bV9ib19zd2Fw
b3V0KCZ0dG1fZ2xvYiwgJmN0eCkgPT0gMCk7Cj4gIH0KPiAgRVhQT1JUX1NZTUJPTCh0dG1fYm9f
c3dhcG91dF9hbGwpOwo+Cj4gQEAgLTE1MzksMTAgKzEzNDcsMTAgQEAgdm9pZCB0dG1fYm9fdHRf
ZGVzdHJveShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvKQo+Cj4gIGludCB0dG1fYm9fdHRf
YmluZChzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLCBzdHJ1Y3QgdHRtX3Jlc291cmNlICpt
ZW0pCj4gIHsKPiAtICAgICAgIHJldHVybiBiby0+YmRldi0+ZHJpdmVyLT50dG1fdHRfYmluZChi
by0+YmRldiwgYm8tPnR0bSwgbWVtKTsKPiArICAgICAgIHJldHVybiBiby0+YmRldi0+ZnVuY3Mt
PnR0bV90dF9iaW5kKGJvLT5iZGV2LCBiby0+dHRtLCBtZW0pOwo+ICB9Cj4KPiAgdm9pZCB0dG1f
Ym9fdHRfdW5iaW5kKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8pCj4gIHsKPiAtICAgICAg
IGJvLT5iZGV2LT5kcml2ZXItPnR0bV90dF91bmJpbmQoYm8tPmJkZXYsIGJvLT50dG0pOwo+ICsg
ICAgICAgYm8tPmJkZXYtPmZ1bmNzLT50dG1fdHRfdW5iaW5kKGJvLT5iZGV2LCBiby0+dHRtKTsK
PiAgfQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9ib191dGlsLmMgYi9k
cml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9ib191dGlsLmMKPiBpbmRleCBiYTdhYjVlZDg1ZDAuLjE3
OTAzZjBlMjExZiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9ib191dGls
LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9ib191dGlsLmMKPiBAQCAtODgsMzMg
Kzg4LDMzIEBAIGludCB0dG1fYm9fbW92ZV90dG0oc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpi
bywKPiAgfQo+ICBFWFBPUlRfU1lNQk9MKHR0bV9ib19tb3ZlX3R0bSk7Cj4KPiAtaW50IHR0bV9t
ZW1faW9fcmVzZXJ2ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiAraW50IHR0bV9tZW1f
aW9fcmVzZXJ2ZShzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwKPiAgICAgICAgICAgICAgICAgICAg
ICAgIHN0cnVjdCB0dG1fcmVzb3VyY2UgKm1lbSkKPiAgewo+ICAgICAgICAgaWYgKG1lbS0+YnVz
Lm9mZnNldCB8fCBtZW0tPmJ1cy5hZGRyKQo+ICAgICAgICAgICAgICAgICByZXR1cm4gMDsKPgo+
ICAgICAgICAgbWVtLT5idXMuaXNfaW9tZW0gPSBmYWxzZTsKPiAtICAgICAgIGlmICghYmRldi0+
ZHJpdmVyLT5pb19tZW1fcmVzZXJ2ZSkKPiArICAgICAgIGlmICghYmRldi0+ZnVuY3MtPmlvX21l
bV9yZXNlcnZlKQo+ICAgICAgICAgICAgICAgICByZXR1cm4gMDsKPgo+IC0gICAgICAgcmV0dXJu
IGJkZXYtPmRyaXZlci0+aW9fbWVtX3Jlc2VydmUoYmRldiwgbWVtKTsKPiArICAgICAgIHJldHVy
biBiZGV2LT5mdW5jcy0+aW9fbWVtX3Jlc2VydmUoYmRldiwgbWVtKTsKPiAgfQo+Cj4gLXZvaWQg
dHRtX21lbV9pb19mcmVlKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICt2b2lkIHR0bV9t
ZW1faW9fZnJlZShzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwKPiAgICAgICAgICAgICAgICAgICAg
ICBzdHJ1Y3QgdHRtX3Jlc291cmNlICptZW0pCj4gIHsKPiAgICAgICAgIGlmICghbWVtLT5idXMu
b2Zmc2V0ICYmICFtZW0tPmJ1cy5hZGRyKQo+ICAgICAgICAgICAgICAgICByZXR1cm47Cj4KPiAt
ICAgICAgIGlmIChiZGV2LT5kcml2ZXItPmlvX21lbV9mcmVlKQo+IC0gICAgICAgICAgICAgICBi
ZGV2LT5kcml2ZXItPmlvX21lbV9mcmVlKGJkZXYsIG1lbSk7Cj4gKyAgICAgICBpZiAoYmRldi0+
ZnVuY3MtPmlvX21lbV9mcmVlKQo+ICsgICAgICAgICAgICAgICBiZGV2LT5mdW5jcy0+aW9fbWVt
X2ZyZWUoYmRldiwgbWVtKTsKPgo+ICAgICAgICAgbWVtLT5idXMub2Zmc2V0ID0gMDsKPiAgICAg
ICAgIG1lbS0+YnVzLmFkZHIgPSBOVUxMOwo+ICB9Cj4KPiAtc3RhdGljIGludCB0dG1fcmVzb3Vy
Y2VfaW9yZW1hcChzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiArc3RhdGljIGludCB0dG1f
cmVzb3VyY2VfaW9yZW1hcChzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwKPiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgc3RydWN0IHR0bV9yZXNvdXJjZSAqbWVtLAo+ICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICB2b2lkICoqdmlydHVhbCkKPiAgewo+IEBAIC0xNDQsNyArMTQ0
LDcgQEAgc3RhdGljIGludCB0dG1fcmVzb3VyY2VfaW9yZW1hcChzdHJ1Y3QgdHRtX2JvX2Rldmlj
ZSAqYmRldiwKPiAgICAgICAgIHJldHVybiAwOwo+ICB9Cj4KPiAtc3RhdGljIHZvaWQgdHRtX3Jl
c291cmNlX2lvdW5tYXAoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gK3N0YXRpYyB2b2lk
IHR0bV9yZXNvdXJjZV9pb3VubWFwKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LAo+ICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHR0bV9yZXNvdXJjZSAqbWVtLAo+ICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9pZCAqdmlydHVhbCkKPiAgewo+IEBAIC0yMTQs
NyArMjE0LDcgQEAgaW50IHR0bV9ib19tb3ZlX21lbWNweShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmpl
Y3QgKmJvLAo+ICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHR0bV9vcGVyYXRpb25fY3R4
ICpjdHgsCj4gICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3Jlc291cmNlICpuZXdf
bWVtKQo+ICB7Cj4gLSAgICAgICBzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiA9IGJvLT5iZGV2
Owo+ICsgICAgICAgc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYgPSBiby0+YmRldjsKPiAgICAgICAg
IHN0cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdlciAqbWFuID0gdHRtX21hbmFnZXJfdHlwZShiZGV2
LCBuZXdfbWVtLT5tZW1fdHlwZSk7Cj4gICAgICAgICBzdHJ1Y3QgdHRtX3R0ICp0dG0gPSBiby0+
dHRtOwo+ICAgICAgICAgc3RydWN0IHR0bV9yZXNvdXJjZSAqb2xkX21lbSA9ICZiby0+bWVtOwo+
IEBAIC0zNTUsNyArMzU1LDcgQEAgc3RhdGljIGludCB0dG1fYnVmZmVyX29iamVjdF90cmFuc2Zl
cihzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+ICAgICAgICAgICogVE9ETzogRXhwbGlj
aXQgbWVtYmVyIGNvcHkgd291bGQgcHJvYmFibHkgYmUgYmV0dGVyIGhlcmUuCj4gICAgICAgICAg
Ki8KPgo+IC0gICAgICAgYXRvbWljX2luYygmdHRtX2JvX2dsb2IuYm9fY291bnQpOwo+ICsgICAg
ICAgYXRvbWljX2luYygmdHRtX2dsb2IuYm9fY291bnQpOwo+ICAgICAgICAgSU5JVF9MSVNUX0hF
QUQoJmZiby0+YmFzZS5kZGVzdHJveSk7Cj4gICAgICAgICBJTklUX0xJU1RfSEVBRCgmZmJvLT5i
YXNlLmxydSk7Cj4gICAgICAgICBJTklUX0xJU1RfSEVBRCgmZmJvLT5iYXNlLnN3YXApOwo+IEBA
IC01ODQsNyArNTg0LDcgQEAgc3RhdGljIGludCB0dG1fYm9fbW92ZV90b19naG9zdChzdHJ1Y3Qg
dHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+ICBzdGF0aWMgdm9pZCB0dG1fYm9fbW92ZV9waXBlbGlu
ZV9ldmljdChzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+ICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlKQo+ICB7Cj4gLSAg
ICAgICBzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiA9IGJvLT5iZGV2Owo+ICsgICAgICAgc3Ry
dWN0IHR0bV9kZXZpY2UgKmJkZXYgPSBiby0+YmRldjsKPiAgICAgICAgIHN0cnVjdCB0dG1fcmVz
b3VyY2VfbWFuYWdlciAqZnJvbSA9IHR0bV9tYW5hZ2VyX3R5cGUoYmRldiwgYm8tPm1lbS5tZW1f
dHlwZSk7Cj4KPiAgICAgICAgIC8qKgo+IEBAIC02MTAsNyArNjEwLDcgQEAgaW50IHR0bV9ib19t
b3ZlX2FjY2VsX2NsZWFudXAoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBib29sIHBpcGVsaW5lLAo+ICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2UgKm5ld19tZW0pCj4gIHsKPiAtICAgICAg
IHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2ID0gYm8tPmJkZXY7Cj4gKyAgICAgICBzdHJ1Y3Qg
dHRtX2RldmljZSAqYmRldiA9IGJvLT5iZGV2Owo+ICAgICAgICAgc3RydWN0IHR0bV9yZXNvdXJj
ZV9tYW5hZ2VyICpmcm9tID0gdHRtX21hbmFnZXJfdHlwZShiZGV2LCBiby0+bWVtLm1lbV90eXBl
KTsKPiAgICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdlciAqbWFuID0gdHRtX21hbmFn
ZXJfdHlwZShiZGV2LCBuZXdfbWVtLT5tZW1fdHlwZSk7Cj4gICAgICAgICBpbnQgcmV0ID0gMDsK
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm9fdm0uYyBiL2RyaXZlcnMv
Z3B1L2RybS90dG0vdHRtX2JvX3ZtLmMKPiBpbmRleCBlZWFjYTVkMWVmZTMuLjY5N2MwODhkMTA2
MyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9ib192bS5jCj4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm9fdm0uYwo+IEBAIC05NiwxMCArOTYsMTAgQEAgc3Rh
dGljIHZtX2ZhdWx0X3QgdHRtX2JvX3ZtX2ZhdWx0X2lkbGUoc3RydWN0IHR0bV9idWZmZXJfb2Jq
ZWN0ICpibywKPiAgc3RhdGljIHVuc2lnbmVkIGxvbmcgdHRtX2JvX2lvX21lbV9wZm4oc3RydWN0
IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICB1bnNpZ25lZCBsb25nIHBhZ2Vfb2Zmc2V0KQo+ICB7Cj4gLSAgICAgICBzdHJ1Y3Qg
dHRtX2JvX2RldmljZSAqYmRldiA9IGJvLT5iZGV2Owo+ICsgICAgICAgc3RydWN0IHR0bV9kZXZp
Y2UgKmJkZXYgPSBiby0+YmRldjsKPgo+IC0gICAgICAgaWYgKGJkZXYtPmRyaXZlci0+aW9fbWVt
X3BmbikKPiAtICAgICAgICAgICAgICAgcmV0dXJuIGJkZXYtPmRyaXZlci0+aW9fbWVtX3Bmbihi
bywgcGFnZV9vZmZzZXQpOwo+ICsgICAgICAgaWYgKGJkZXYtPmZ1bmNzLT5pb19tZW1fcGZuKQo+
ICsgICAgICAgICAgICAgICByZXR1cm4gYmRldi0+ZnVuY3MtPmlvX21lbV9wZm4oYm8sIHBhZ2Vf
b2Zmc2V0KTsKPgo+ICAgICAgICAgcmV0dXJuIChiby0+bWVtLmJ1cy5vZmZzZXQgPj4gUEFHRV9T
SElGVCkgKyBwYWdlX29mZnNldDsKPiAgfQo+IEBAIC0yMTcsNyArMjE3LDcgQEAgc3RhdGljIHZt
X2ZhdWx0X3QgdHRtX2JvX3ZtX2luc2VydF9odWdlKHN0cnVjdCB2bV9mYXVsdCAqdm1mLAo+ICAg
ICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWdlX3RvX3Bmbih0dG0tPnBhZ2VzW3BhZ2Vfb2Zm
c2V0ICsgaV0pICE9IHBmbiArIGkpCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBn
b3RvIG91dF9mYWxsYmFjazsKPiAgICAgICAgICAgICAgICAgfQo+IC0gICAgICAgfSBlbHNlIGlm
IChiby0+YmRldi0+ZHJpdmVyLT5pb19tZW1fcGZuKSB7Cj4gKyAgICAgICB9IGVsc2UgaWYgKGJv
LT5iZGV2LT5mdW5jcy0+aW9fbWVtX3Bmbikgewo+ICAgICAgICAgICAgICAgICBmb3IgKGkgPSAx
OyBpIDwgZmF1bHRfcGFnZV9zaXplOyArK2kpIHsKPiAgICAgICAgICAgICAgICAgICAgICAgICBp
ZiAodHRtX2JvX2lvX21lbV9wZm4oYm8sIHBhZ2Vfb2Zmc2V0ICsgaSkgIT0gcGZuICsgaSkKPiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8gb3V0X2ZhbGxiYWNrOwo+IEBAIC0y
NzksNyArMjc5LDcgQEAgdm1fZmF1bHRfdCB0dG1fYm9fdm1fZmF1bHRfcmVzZXJ2ZWQoc3RydWN0
IHZtX2ZhdWx0ICp2bWYsCj4gIHsKPiAgICAgICAgIHN0cnVjdCB2bV9hcmVhX3N0cnVjdCAqdm1h
ID0gdm1mLT52bWE7Cj4gICAgICAgICBzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvID0gdm1h
LT52bV9wcml2YXRlX2RhdGE7Cj4gLSAgICAgICBzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiA9
IGJvLT5iZGV2Owo+ICsgICAgICAgc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYgPSBiby0+YmRldjsK
PiAgICAgICAgIHVuc2lnbmVkIGxvbmcgcGFnZV9vZmZzZXQ7Cj4gICAgICAgICB1bnNpZ25lZCBs
b25nIHBhZ2VfbGFzdDsKPiAgICAgICAgIHVuc2lnbmVkIGxvbmcgcGZuOwo+IEBAIC00OTAsOCAr
NDkwLDggQEAgaW50IHR0bV9ib192bV9hY2Nlc3Moc3RydWN0IHZtX2FyZWFfc3RydWN0ICp2bWEs
IHVuc2lnbmVkIGxvbmcgYWRkciwKPiAgICAgICAgICAgICAgICAgcmV0ID0gdHRtX2JvX3ZtX2Fj
Y2Vzc19rbWFwKGJvLCBvZmZzZXQsIGJ1ZiwgbGVuLCB3cml0ZSk7Cj4gICAgICAgICAgICAgICAg
IGJyZWFrOwo+ICAgICAgICAgZGVmYXVsdDoKPiAtICAgICAgICAgICAgICAgaWYgKGJvLT5iZGV2
LT5kcml2ZXItPmFjY2Vzc19tZW1vcnkpCj4gLSAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0g
Ym8tPmJkZXYtPmRyaXZlci0+YWNjZXNzX21lbW9yeSgKPiArICAgICAgICAgICAgICAgaWYgKGJv
LT5iZGV2LT5mdW5jcy0+YWNjZXNzX21lbW9yeSkKPiArICAgICAgICAgICAgICAgICAgICAgICBy
ZXQgPSBiby0+YmRldi0+ZnVuY3MtPmFjY2Vzc19tZW1vcnkoCj4gICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBibywgb2Zmc2V0LCBidWYsIGxlbiwgd3JpdGUpOwo+ICAgICAgICAgICAg
ICAgICBlbHNlCj4gICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gLUVJTzsKPiBAQCAtNTEw
LDcgKzUxMCw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3Qgdm1fb3BlcmF0aW9uc19zdHJ1Y3QgdHRt
X2JvX3ZtX29wcyA9IHsKPiAgICAgICAgIC5hY2Nlc3MgPSB0dG1fYm9fdm1fYWNjZXNzLAo+ICB9
Owo+Cj4gLXN0YXRpYyBzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKnR0bV9ib192bV9sb29rdXAo
c3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gK3N0YXRpYyBzdHJ1Y3QgdHRtX2J1ZmZlcl9v
YmplY3QgKnR0bV9ib192bV9sb29rdXAoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4gICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBsb25n
IG9mZnNldCwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHVuc2lnbmVkIGxvbmcgcGFnZXMpCj4gIHsKPiBAQCAtNTU3LDkgKzU1Nyw4IEBAIHN0YXRp
YyB2b2lkIHR0bV9ib19tbWFwX3ZtYV9zZXR1cChzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJv
LCBzdHJ1Y3Qgdm1fYXJlYV9zCj4gIH0KPgo+ICBpbnQgdHRtX2JvX21tYXAoc3RydWN0IGZpbGUg
KmZpbHAsIHN0cnVjdCB2bV9hcmVhX3N0cnVjdCAqdm1hLAo+IC0gICAgICAgICAgICAgICBzdHJ1
Y3QgdHRtX2JvX2RldmljZSAqYmRldikKPiArICAgICAgICAgICAgICAgc3RydWN0IHR0bV9kZXZp
Y2UgKmJkZXYpCj4gIHsKPiAtICAgICAgIHN0cnVjdCB0dG1fYm9fZHJpdmVyICpkcml2ZXI7Cj4g
ICAgICAgICBzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvOwo+ICAgICAgICAgaW50IHJldDsK
Pgo+IEBAIC01NzAsMTIgKzU2OSwxMSBAQCBpbnQgdHRtX2JvX21tYXAoc3RydWN0IGZpbGUgKmZp
bHAsIHN0cnVjdCB2bV9hcmVhX3N0cnVjdCAqdm1hLAo+ICAgICAgICAgaWYgKHVubGlrZWx5KCFi
bykpCj4gICAgICAgICAgICAgICAgIHJldHVybiAtRUlOVkFMOwo+Cj4gLSAgICAgICBkcml2ZXIg
PSBiby0+YmRldi0+ZHJpdmVyOwo+IC0gICAgICAgaWYgKHVubGlrZWx5KCFkcml2ZXItPnZlcmlm
eV9hY2Nlc3MpKSB7Cj4gKyAgICAgICBpZiAodW5saWtlbHkoIWJvLT5iZGV2LT5mdW5jcy0+dmVy
aWZ5X2FjY2VzcykpIHsKPiAgICAgICAgICAgICAgICAgcmV0ID0gLUVQRVJNOwo+ICAgICAgICAg
ICAgICAgICBnb3RvIG91dF91bnJlZjsKPiAgICAgICAgIH0KPiAtICAgICAgIHJldCA9IGRyaXZl
ci0+dmVyaWZ5X2FjY2VzcyhibywgZmlscCk7Cj4gKyAgICAgICByZXQgPSBiby0+YmRldi0+ZnVu
Y3MtPnZlcmlmeV9hY2Nlc3MoYm8sIGZpbHApOwo+ICAgICAgICAgaWYgKHVubGlrZWx5KHJldCAh
PSAwKSkKPiAgICAgICAgICAgICAgICAgZ290byBvdXRfdW5yZWY7Cj4KPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fZGV2aWNlLmMgYi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0
bV9kZXZpY2UuYwo+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0Cj4gaW5kZXggMDAwMDAwMDAwMDAwLi42
NWFhNmU0ZjVjNmMKPiAtLS0gL2Rldi9udWxsCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3R0bS90
dG1fZGV2aWNlLmMKPiBAQCAtMCwwICsxLDIyMiBAQAo+ICsvKiBTUERYLUxpY2Vuc2UtSWRlbnRp
ZmllcjogR1BMLTIuMCBPUiBNSVQgKi8KPiArCj4gKy8qCj4gKyAqIENvcHlyaWdodCAoYykgMjAw
Ni0yMDA5IFZNd2FyZSwgSW5jLiwgUGFsbyBBbHRvLCBDQS4sIFVTQQo+ICsgKiBDb3B5cmlnaHQg
MjAyMCBBZHZhbmNlZCBNaWNybyBEZXZpY2VzLCBJbmMuCj4gKyAqCj4gKyAqIFBlcm1pc3Npb24g
aXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmlu
ZyBhCj4gKyAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0
aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiksCj4gKyAqIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJl
IHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24KPiArICog
dGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1
dGUsIHN1YmxpY2Vuc2UsCj4gKyAqIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUs
IGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZQo+ICsgKiBTb2Z0d2FyZSBpcyBmdXJu
aXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOgo+ICsg
Kgo+ICsgKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5v
dGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbgo+ICsgKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFs
IHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KPiArICoKPiArICogVEhFIFNPRlRXQVJFIElTIFBS
T1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IK
PiArICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElF
UyBPRiBNRVJDSEFOVEFCSUxJVFksCj4gKyAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQ
T1NFIEFORCBOT05JTkZSSU5HRU1FTlQuICBJTiBOTyBFVkVOVCBTSEFMTAo+ICsgKiBUSEUgQ09Q
WVJJR0hUIEhPTERFUihTKSBPUiBBVVRIT1IoUykgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERB
TUFHRVMgT1IKPiArICogT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBD
T05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsCj4gKyAqIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9S
IElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUgo+ICsgKiBPVEhF
UiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuCj4gKyAqCj4gKyAqIEF1dGhvcnM6IENocmlzdGlh
biBLw7ZuaWcKPiArICovCj4gKwo+ICsjZGVmaW5lIHByX2ZtdChmbXQpICJbVFRNIERFVklDRV0g
IiBmbXQKPiArCj4gKyNpbmNsdWRlIDxkcm0vdHRtL3R0bV9tb2R1bGUuaD4KPiArI2luY2x1ZGUg
PGRybS90dG0vdHRtX2RldmljZS5oPgo+ICsjaW5jbHVkZSA8ZHJtL3R0bS90dG1fbWVtb3J5Lmg+
Cj4gKyNpbmNsdWRlIDxkcm0vdHRtL3R0bV9wbGFjZW1lbnQuaD4KPiArCj4gKy8qKgo+ICsgKiB0
dG1fZ2xvYmFsX211dGV4IC0gcHJvdGVjdGluZyB0aGUgZ2xvYmFsIHN0YXRlCj4gKyAqLwo+ICtE
RUZJTkVfTVVURVgodHRtX2dsb2JhbF9tdXRleCk7Cj4gK3Vuc2lnbmVkIHR0bV9nbG9iX3VzZV9j
b3VudDsKPiArc3RydWN0IHR0bV9nbG9iYWwgdHRtX2dsb2I7Cj4gK0VYUE9SVF9TWU1CT0wodHRt
X2dsb2IpOwo+ICsKPiArc3RhdGljIHN0cnVjdCBhdHRyaWJ1dGUgdHRtX2JvX2NvdW50ID0gewo+
ICsgICAgICAgLm5hbWUgPSAiYm9fY291bnQiLAo+ICsgICAgICAgLm1vZGUgPSBTX0lSVUdPCj4g
K307Cj4gKwo+ICtzdGF0aWMgdm9pZCB0dG1fZ2xvYmFsX2tvYmpfcmVsZWFzZShzdHJ1Y3Qga29i
amVjdCAqa29iaik7Cj4gKwo+ICtzdGF0aWMgc3NpemVfdCB0dG1fZ2xvYmFsX3Nob3coc3RydWN0
IGtvYmplY3QgKmtvYmosIHN0cnVjdCBhdHRyaWJ1dGUgKmF0dHIsCj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGNoYXIgKmJ1ZmZlcikKPiArewo+ICsgICAgICAgc3RydWN0IHR0bV9n
bG9iYWwgKmdsb2IgPSBjb250YWluZXJfb2Yoa29iaiwgc3RydWN0IHR0bV9nbG9iYWwsIGtvYmop
Owo+ICsKPiArICAgICAgIHJldHVybiBzbnByaW50ZihidWZmZXIsIFBBR0VfU0laRSwgIiVkXG4i
LAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXRvbWljX3JlYWQoJmdsb2ItPmJv
X2NvdW50KSk7Cj4gK30KPiArCj4gK3N0YXRpYyBzdHJ1Y3QgYXR0cmlidXRlICp0dG1fZ2xvYmFs
X2F0dHJzW10gPSB7Cj4gKyAgICAgICAmdHRtX2JvX2NvdW50LAo+ICsgICAgICAgTlVMTAo+ICt9
Owo+ICsKPiArc3RhdGljIGNvbnN0IHN0cnVjdCBzeXNmc19vcHMgdHRtX2dsb2JhbF9vcHMgPSB7
Cj4gKyAgICAgICAuc2hvdyA9ICZ0dG1fZ2xvYmFsX3Nob3cKPiArfTsKPiArCj4gK3N0YXRpYyBz
dHJ1Y3Qga29ial90eXBlIHR0bV9nbG9iX2tvYmpfdHlwZSAgPSB7Cj4gKyAgICAgICAucmVsZWFz
ZSA9ICZ0dG1fZ2xvYmFsX2tvYmpfcmVsZWFzZSwKPiArICAgICAgIC5zeXNmc19vcHMgPSAmdHRt
X2dsb2JhbF9vcHMsCj4gKyAgICAgICAuZGVmYXVsdF9hdHRycyA9IHR0bV9nbG9iYWxfYXR0cnMK
PiArfTsKPiArCj4gK3N0YXRpYyB2b2lkIHR0bV9nbG9iYWxfa29ial9yZWxlYXNlKHN0cnVjdCBr
b2JqZWN0ICprb2JqKQo+ICt7Cj4gKyAgICAgICBzdHJ1Y3QgdHRtX2dsb2JhbCAqZ2xvYiA9Cj4g
KyAgICAgICAgICAgICAgIGNvbnRhaW5lcl9vZihrb2JqLCBzdHJ1Y3QgdHRtX2dsb2JhbCwga29i
aik7Cj4gKwo+ICsgICAgICAgX19mcmVlX3BhZ2UoZ2xvYi0+ZHVtbXlfcmVhZF9wYWdlKTsKPiAr
fQo+ICsKPiArc3RhdGljIHZvaWQgdHRtX2dsb2JhbF9yZWxlYXNlKHZvaWQpCj4gK3sKPiArICAg
ICAgIHN0cnVjdCB0dG1fZ2xvYmFsICpnbG9iID0gJnR0bV9nbG9iOwo+ICsKPiArICAgICAgIG11
dGV4X2xvY2soJnR0bV9nbG9iYWxfbXV0ZXgpOwo+ICsgICAgICAgaWYgKC0tdHRtX2dsb2JfdXNl
X2NvdW50ID4gMCkKPiArICAgICAgICAgICAgICAgZ290byBvdXQ7Cj4gKwo+ICsgICAgICAga29i
amVjdF9kZWwoJmdsb2ItPmtvYmopOwo+ICsgICAgICAga29iamVjdF9wdXQoJmdsb2ItPmtvYmop
Owo+ICsgICAgICAgdHRtX21lbV9nbG9iYWxfcmVsZWFzZSgmdHRtX21lbV9nbG9iKTsKPiArICAg
ICAgIG1lbXNldChnbG9iLCAwLCBzaXplb2YoKmdsb2IpKTsKPiArb3V0Ogo+ICsgICAgICAgbXV0
ZXhfdW5sb2NrKCZ0dG1fZ2xvYmFsX211dGV4KTsKPiArfQo+ICsKPiArc3RhdGljIGludCB0dG1f
Z2xvYmFsX2luaXQodm9pZCkKPiArewo+ICsgICAgICAgc3RydWN0IHR0bV9nbG9iYWwgKmdsb2Ig
PSAmdHRtX2dsb2I7Cj4gKyAgICAgICBpbnQgcmV0ID0gMDsKPiArICAgICAgIHVuc2lnbmVkIGk7
Cj4gKwo+ICsgICAgICAgbXV0ZXhfbG9jaygmdHRtX2dsb2JhbF9tdXRleCk7Cj4gKyAgICAgICBp
ZiAoKyt0dG1fZ2xvYl91c2VfY291bnQgPiAxKQo+ICsgICAgICAgICAgICAgICBnb3RvIG91dDsK
PiArCj4gKyAgICAgICByZXQgPSB0dG1fbWVtX2dsb2JhbF9pbml0KCZ0dG1fbWVtX2dsb2IpOwo+
ICsgICAgICAgaWYgKHJldCkKPiArICAgICAgICAgICAgICAgZ290byBvdXQ7Cj4gKwo+ICsgICAg
ICAgc3Bpbl9sb2NrX2luaXQoJmdsb2ItPmxydV9sb2NrKTsKPiArICAgICAgIGdsb2ItPmR1bW15
X3JlYWRfcGFnZSA9IGFsbG9jX3BhZ2UoX19HRlBfWkVSTyB8IEdGUF9ETUEzMik7Cj4gKwo+ICsg
ICAgICAgaWYgKHVubGlrZWx5KGdsb2ItPmR1bW15X3JlYWRfcGFnZSA9PSBOVUxMKSkgewo+ICsg
ICAgICAgICAgICAgICByZXQgPSAtRU5PTUVNOwo+ICsgICAgICAgICAgICAgICBnb3RvIG91dDsK
PiArICAgICAgIH0KPiArCj4gKyAgICAgICBmb3IgKGkgPSAwOyBpIDwgVFRNX01BWF9CT19QUklP
UklUWTsgKytpKQo+ICsgICAgICAgICAgICAgICBJTklUX0xJU1RfSEVBRCgmZ2xvYi0+c3dhcF9s
cnVbaV0pOwo+ICsgICAgICAgSU5JVF9MSVNUX0hFQUQoJmdsb2ItPmRldmljZV9saXN0KTsKPiAr
ICAgICAgIGF0b21pY19zZXQoJmdsb2ItPmJvX2NvdW50LCAwKTsKPiArCj4gKyAgICAgICByZXQg
PSBrb2JqZWN0X2luaXRfYW5kX2FkZCgKPiArICAgICAgICAgICAgICAgJmdsb2ItPmtvYmosICZ0
dG1fZ2xvYl9rb2JqX3R5cGUsIHR0bV9nZXRfa29iaigpLCAiYnVmZmVyX29iamVjdHMiKTsKPiAr
ICAgICAgIGlmICh1bmxpa2VseShyZXQgIT0gMCkpCj4gKyAgICAgICAgICAgICAgIGtvYmplY3Rf
cHV0KCZnbG9iLT5rb2JqKTsKPiArb3V0Ogo+ICsgICAgICAgbXV0ZXhfdW5sb2NrKCZ0dG1fZ2xv
YmFsX211dGV4KTsKPiArICAgICAgIHJldHVybiByZXQ7Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lk
IHR0bV9pbml0X3N5c21hbihzdHJ1Y3QgdHRtX2RldmljZSAqYmRldikKPiArewo+ICsgICAgICAg
c3RydWN0IHR0bV9yZXNvdXJjZV9tYW5hZ2VyICptYW4gPSAmYmRldi0+c3lzbWFuOwo+ICsKPiAr
ICAgICAgIC8qCj4gKyAgICAgICAgKiBJbml0aWFsaXplIHRoZSBzeXN0ZW0gbWVtb3J5IGJ1ZmZl
ciB0eXBlLgo+ICsgICAgICAgICogT3RoZXIgdHlwZXMgbmVlZCB0byBiZSBkcml2ZXIgLyBJT0NU
TCBpbml0aWFsaXplZC4KPiArICAgICAgICAqLwo+ICsgICAgICAgbWFuLT51c2VfdHQgPSB0cnVl
Owo+ICsKPiArICAgICAgIHR0bV9yZXNvdXJjZV9tYW5hZ2VyX2luaXQobWFuLCAwKTsKPiArICAg
ICAgIHR0bV9zZXRfZHJpdmVyX21hbmFnZXIoYmRldiwgVFRNX1BMX1NZU1RFTSwgbWFuKTsKPiAr
ICAgICAgIHR0bV9yZXNvdXJjZV9tYW5hZ2VyX3NldF91c2VkKG1hbiwgdHJ1ZSk7Cj4gK30KPiAr
Cj4gK3N0YXRpYyB2b2lkIHR0bV9kZXZpY2VfZGVsYXllZF93b3JrcXVldWUoc3RydWN0IHdvcmtf
c3RydWN0ICp3b3JrKQo+ICt7Cj4gKyAgICAgICBzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiA9Cj4g
KyAgICAgICAgICAgICAgIGNvbnRhaW5lcl9vZih3b3JrLCBzdHJ1Y3QgdHRtX2RldmljZSwgd3Eu
d29yayk7Cj4gKwo+ICsgICAgICAgaWYgKCF0dG1fYm9fZGVsYXllZF9kZWxldGUoYmRldiwgZmFs
c2UpKQo+ICsgICAgICAgICAgICAgICBzY2hlZHVsZV9kZWxheWVkX3dvcmsoJmJkZXYtPndxLAo+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKChIWiAvIDEwMCkgPCAxKSA/
IDEgOiBIWiAvIDEwMCk7Cj4gK30KPiArCj4gK2ludCB0dG1fZGV2aWNlX2luaXQoc3RydWN0IHR0
bV9kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fZGV2aWNlX2Z1bmNzICpmdW5jcywKPiArICAgICAg
ICAgICAgICAgICAgIHN0cnVjdCBhZGRyZXNzX3NwYWNlICptYXBwaW5nLAo+ICsgICAgICAgICAg
ICAgICAgICAgc3RydWN0IGRybV92bWFfb2Zmc2V0X21hbmFnZXIgKnZtYV9tYW5hZ2VyLAo+ICsg
ICAgICAgICAgICAgICAgICAgYm9vbCBuZWVkX2RtYTMyKQo+ICt7Cj4gKyAgICAgICBzdHJ1Y3Qg
dHRtX2dsb2JhbCAqZ2xvYiA9ICZ0dG1fZ2xvYjsKPiArICAgICAgIGludCByZXQ7Cj4gKwo+ICsg
ICAgICAgaWYgKFdBUk5fT04odm1hX21hbmFnZXIgPT0gTlVMTCkpCj4gKyAgICAgICAgICAgICAg
IHJldHVybiAtRUlOVkFMOwo+ICsKPiArICAgICAgIHJldCA9IHR0bV9nbG9iYWxfaW5pdCgpOwo+
ICsgICAgICAgaWYgKHJldCkKPiArICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiArCj4gKyAg
ICAgICBiZGV2LT5mdW5jcyA9IGZ1bmNzOwo+ICsKPiArICAgICAgIHR0bV9pbml0X3N5c21hbihi
ZGV2KTsKPiArCj4gKyAgICAgICBiZGV2LT52bWFfbWFuYWdlciA9IHZtYV9tYW5hZ2VyOwo+ICsg
ICAgICAgSU5JVF9ERUxBWUVEX1dPUksoJmJkZXYtPndxLCB0dG1fZGV2aWNlX2RlbGF5ZWRfd29y
a3F1ZXVlKTsKPiArICAgICAgIElOSVRfTElTVF9IRUFEKCZiZGV2LT5kZGVzdHJveSk7Cj4gKyAg
ICAgICBiZGV2LT5kZXZfbWFwcGluZyA9IG1hcHBpbmc7Cj4gKyAgICAgICBiZGV2LT5uZWVkX2Rt
YTMyID0gbmVlZF9kbWEzMjsKPiArICAgICAgIG11dGV4X2xvY2soJnR0bV9nbG9iYWxfbXV0ZXgp
Owo+ICsgICAgICAgbGlzdF9hZGRfdGFpbCgmYmRldi0+ZGV2aWNlX2xpc3QsICZnbG9iLT5kZXZp
Y2VfbGlzdCk7Cj4gKyAgICAgICBtdXRleF91bmxvY2soJnR0bV9nbG9iYWxfbXV0ZXgpOwo+ICsK
PiArICAgICAgIHJldHVybiAwOwo+ICt9Cj4gK0VYUE9SVF9TWU1CT0wodHRtX2RldmljZV9pbml0
KTsKPiArCj4gK2ludCB0dG1fZGV2aWNlX3JlbGVhc2Uoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYp
Cj4gK3sKPiArICAgICAgIHN0cnVjdCB0dG1fZ2xvYmFsICpnbG9iID0gJnR0bV9nbG9iOwo+ICsg
ICAgICAgc3RydWN0IHR0bV9yZXNvdXJjZV9tYW5hZ2VyICptYW47Cj4gKyAgICAgICBpbnQgcmV0
ID0gMDsKPiArICAgICAgIHVuc2lnbmVkIGk7Cj4gKwo+ICsgICAgICAgbWFuID0gdHRtX21hbmFn
ZXJfdHlwZShiZGV2LCBUVE1fUExfU1lTVEVNKTsKPiArICAgICAgIHR0bV9yZXNvdXJjZV9tYW5h
Z2VyX3NldF91c2VkKG1hbiwgZmFsc2UpOwo+ICsgICAgICAgdHRtX3NldF9kcml2ZXJfbWFuYWdl
cihiZGV2LCBUVE1fUExfU1lTVEVNLCBOVUxMKTsKPiArCj4gKyAgICAgICBtdXRleF9sb2NrKCZ0
dG1fZ2xvYmFsX211dGV4KTsKPiArICAgICAgIGxpc3RfZGVsKCZiZGV2LT5kZXZpY2VfbGlzdCk7
Cj4gKyAgICAgICBtdXRleF91bmxvY2soJnR0bV9nbG9iYWxfbXV0ZXgpOwo+ICsKPiArICAgICAg
IGNhbmNlbF9kZWxheWVkX3dvcmtfc3luYygmYmRldi0+d3EpOwo+ICsKPiArICAgICAgIGlmICh0
dG1fYm9fZGVsYXllZF9kZWxldGUoYmRldiwgdHJ1ZSkpCj4gKyAgICAgICAgICAgICAgIHByX2Rl
YnVnKCJEZWxheWVkIGRlc3Ryb3kgbGlzdCB3YXMgY2xlYW5cbiIpOwo+ICsKPiArICAgICAgIHNw
aW5fbG9jaygmZ2xvYi0+bHJ1X2xvY2spOwo+ICsgICAgICAgZm9yIChpID0gMDsgaSA8IFRUTV9N
QVhfQk9fUFJJT1JJVFk7ICsraSkKPiArICAgICAgICAgICAgICAgaWYgKGxpc3RfZW1wdHkoJm1h
bi0+bHJ1WzBdKSkKPiArICAgICAgICAgICAgICAgICAgICAgICBwcl9kZWJ1ZygiU3dhcCBsaXN0
ICVkIHdhcyBjbGVhblxuIiwgaSk7Cj4gKyAgICAgICBzcGluX3VubG9jaygmZ2xvYi0+bHJ1X2xv
Y2spOwo+ICsKPiArICAgICAgIGlmICghcmV0KQo+ICsgICAgICAgICAgICAgICB0dG1fZ2xvYmFs
X3JlbGVhc2UoKTsKPiArCj4gKyAgICAgICByZXR1cm4gcmV0Owo+ICt9Cj4gK0VYUE9SVF9TWU1C
T0wodHRtX2RldmljZV9yZWxlYXNlKTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3R0
bS90dG1fZXhlY2J1Zl91dGlsLmMgYi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9leGVjYnVmX3V0
aWwuYwo+IGluZGV4IDhhOGYxYTZhODNhNi4uYjk4ZWI0YzFlNWVjIDEwMDY0NAo+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS90dG0vdHRtX2V4ZWNidWZfdXRpbC5jCj4gKysrIGIvZHJpdmVycy9ncHUv
ZHJtL3R0bS90dG1fZXhlY2J1Zl91dGlsLmMKPiBAQCAtNTEsMTQgKzUxLDE0IEBAIHZvaWQgdHRt
X2V1X2JhY2tvZmZfcmVzZXJ2YXRpb24oc3RydWN0IHd3X2FjcXVpcmVfY3R4ICp0aWNrZXQsCj4g
ICAgICAgICBpZiAobGlzdF9lbXB0eShsaXN0KSkKPiAgICAgICAgICAgICAgICAgcmV0dXJuOwo+
Cj4gLSAgICAgICBzcGluX2xvY2soJnR0bV9ib19nbG9iLmxydV9sb2NrKTsKPiArICAgICAgIHNw
aW5fbG9jaygmdHRtX2dsb2IubHJ1X2xvY2spOwo+ICAgICAgICAgbGlzdF9mb3JfZWFjaF9lbnRy
eShlbnRyeSwgbGlzdCwgaGVhZCkgewo+ICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX2J1ZmZl
cl9vYmplY3QgKmJvID0gZW50cnktPmJvOwo+Cj4gICAgICAgICAgICAgICAgIHR0bV9ib19tb3Zl
X3RvX2xydV90YWlsKGJvLCBOVUxMKTsKPiAgICAgICAgICAgICAgICAgZG1hX3Jlc3ZfdW5sb2Nr
KGJvLT5iYXNlLnJlc3YpOwo+ICAgICAgICAgfQo+IC0gICAgICAgc3Bpbl91bmxvY2soJnR0bV9i
b19nbG9iLmxydV9sb2NrKTsKPiArICAgICAgIHNwaW5fdW5sb2NrKCZ0dG1fZ2xvYi5scnVfbG9j
ayk7Cj4KPiAgICAgICAgIGlmICh0aWNrZXQpCj4gICAgICAgICAgICAgICAgIHd3X2FjcXVpcmVf
ZmluaSh0aWNrZXQpOwo+IEBAIC0xNTQsNyArMTU0LDcgQEAgdm9pZCB0dG1fZXVfZmVuY2VfYnVm
ZmVyX29iamVjdHMoc3RydWN0IHd3X2FjcXVpcmVfY3R4ICp0aWNrZXQsCj4gICAgICAgICBpZiAo
bGlzdF9lbXB0eShsaXN0KSkKPiAgICAgICAgICAgICAgICAgcmV0dXJuOwo+Cj4gLSAgICAgICBz
cGluX2xvY2soJnR0bV9ib19nbG9iLmxydV9sb2NrKTsKPiArICAgICAgIHNwaW5fbG9jaygmdHRt
X2dsb2IubHJ1X2xvY2spOwo+ICAgICAgICAgbGlzdF9mb3JfZWFjaF9lbnRyeShlbnRyeSwgbGlz
dCwgaGVhZCkgewo+ICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJv
ID0gZW50cnktPmJvOwo+Cj4gQEAgLTE2NSw3ICsxNjUsNyBAQCB2b2lkIHR0bV9ldV9mZW5jZV9i
dWZmZXJfb2JqZWN0cyhzdHJ1Y3Qgd3dfYWNxdWlyZV9jdHggKnRpY2tldCwKPiAgICAgICAgICAg
ICAgICAgdHRtX2JvX21vdmVfdG9fbHJ1X3RhaWwoYm8sIE5VTEwpOwo+ICAgICAgICAgICAgICAg
ICBkbWFfcmVzdl91bmxvY2soYm8tPmJhc2UucmVzdik7Cj4gICAgICAgICB9Cj4gLSAgICAgICBz
cGluX3VubG9jaygmdHRtX2JvX2dsb2IubHJ1X2xvY2spOwo+ICsgICAgICAgc3Bpbl91bmxvY2so
JnR0bV9nbG9iLmxydV9sb2NrKTsKPiAgICAgICAgIGlmICh0aWNrZXQpCj4gICAgICAgICAgICAg
ICAgIHd3X2FjcXVpcmVfZmluaSh0aWNrZXQpOwo+ICB9Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS90dG0vdHRtX21lbW9yeS5jIGIvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fbWVtb3J5
LmMKPiBpbmRleCA4OWQ1MGYzOGMwZjIuLjZhNmMxMDcyZDgzMSAxMDA2NDQKPiAtLS0gYS9kcml2
ZXJzL2dwdS9kcm0vdHRtL3R0bV9tZW1vcnkuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS90dG0v
dHRtX21lbW9yeS5jCj4gQEAgLTI3NSw3ICsyNzUsNyBAQCBzdGF0aWMgdm9pZCB0dG1fc2hyaW5r
KHN0cnVjdCB0dG1fbWVtX2dsb2JhbCAqZ2xvYiwgYm9vbCBmcm9tX3dxLAo+Cj4gICAgICAgICB3
aGlsZSAodHRtX3pvbmVzX2Fib3ZlX3N3YXBfdGFyZ2V0KGdsb2IsIGZyb21fd3EsIGV4dHJhKSkg
ewo+ICAgICAgICAgICAgICAgICBzcGluX3VubG9jaygmZ2xvYi0+bG9jayk7Cj4gLSAgICAgICAg
ICAgICAgIHJldCA9IHR0bV9ib19zd2Fwb3V0KCZ0dG1fYm9fZ2xvYiwgY3R4KTsKPiArICAgICAg
ICAgICAgICAgcmV0ID0gdHRtX2JvX3N3YXBvdXQoJnR0bV9nbG9iLCBjdHgpOwo+ICAgICAgICAg
ICAgICAgICBzcGluX2xvY2soJmdsb2ItPmxvY2spOwo+ICAgICAgICAgICAgICAgICBpZiAodW5s
aWtlbHkocmV0ICE9IDApKQo+ICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9yYW5nZV9tYW5hZ2VyLmMgYi9kcml2ZXJz
L2dwdS9kcm0vdHRtL3R0bV9yYW5nZV9tYW5hZ2VyLmMKPiBpbmRleCAxZGEwZTI3N2M1MTEuLmJk
M2M2YzZiNDMyOCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9yYW5nZV9t
YW5hZ2VyLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9yYW5nZV9tYW5hZ2VyLmMK
PiBAQCAtMTEyLDcgKzExMiw3IEBAIHN0YXRpYyB2b2lkIHR0bV9yYW5nZV9tYW5fZnJlZShzdHJ1
Y3QgdHRtX3Jlc291cmNlX21hbmFnZXIgKm1hbiwKPgo+ICBzdGF0aWMgY29uc3Qgc3RydWN0IHR0
bV9yZXNvdXJjZV9tYW5hZ2VyX2Z1bmMgdHRtX3JhbmdlX21hbmFnZXJfZnVuYzsKPgo+IC1pbnQg
dHRtX3JhbmdlX21hbl9pbml0KHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICtpbnQgdHRt
X3JhbmdlX21hbl9pbml0KHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LAo+ICAgICAgICAgICAgICAg
ICAgICAgICAgdW5zaWduZWQgdHlwZSwgYm9vbCB1c2VfdHQsCj4gICAgICAgICAgICAgICAgICAg
ICAgICB1bnNpZ25lZCBsb25nIHBfc2l6ZSkKPiAgewo+IEBAIC0xMzksNyArMTM5LDcgQEAgaW50
IHR0bV9yYW5nZV9tYW5faW5pdChzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiAgfQo+ICBF
WFBPUlRfU1lNQk9MKHR0bV9yYW5nZV9tYW5faW5pdCk7Cj4KPiAtaW50IHR0bV9yYW5nZV9tYW5f
ZmluaShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiAraW50IHR0bV9yYW5nZV9tYW5fZmlu
aShzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwKPiAgICAgICAgICAgICAgICAgICAgICAgIHVuc2ln
bmVkIHR5cGUpCj4gIHsKPiAgICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdlciAqbWFu
ID0gdHRtX21hbmFnZXJfdHlwZShiZGV2LCB0eXBlKTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL3R0bS90dG1fcmVzb3VyY2UuYyBiL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX3Jlc291
cmNlLmMKPiBpbmRleCBiMzI1YjkyNjQyMDMuLjdmYWE0YTZhZTI4ZiAxMDA2NDQKPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9yZXNvdXJjZS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L3R0bS90dG1fcmVzb3VyY2UuYwo+IEBAIC04Myw3ICs4Myw3IEBAIEVYUE9SVF9TWU1CT0wodHRt
X3Jlc291cmNlX21hbmFnZXJfaW5pdCk7Cj4gICAqIEZvcmNlIGFsbCB0aGUgb2JqZWN0cyBvdXQg
b2YgYSBtZW1vcnkgbWFuYWdlciB1bnRpbCBjbGVhbi4KPiAgICogUGFydCBvZiBtZW1vcnkgbWFu
YWdlciBjbGVhbnVwIHNlcXVlbmNlLgo+ICAgKi8KPiAtaW50IHR0bV9yZXNvdXJjZV9tYW5hZ2Vy
X2ZvcmNlX2xpc3RfY2xlYW4oc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gK2ludCB0dG1f
cmVzb3VyY2VfbWFuYWdlcl9mb3JjZV9saXN0X2NsZWFuKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2
LAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1f
cmVzb3VyY2VfbWFuYWdlciAqbWFuKQo+ICB7Cj4gICAgICAgICBzdHJ1Y3QgdHRtX29wZXJhdGlv
bl9jdHggY3R4ID0gewo+IEBAIC05MSw3ICs5MSw3IEBAIGludCB0dG1fcmVzb3VyY2VfbWFuYWdl
cl9mb3JjZV9saXN0X2NsZWFuKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICAgICAgICAg
ICAgICAgICAubm9fd2FpdF9ncHUgPSBmYWxzZSwKPiAgICAgICAgICAgICAgICAgLmZsYWdzID0g
VFRNX09QVF9GTEFHX0ZPUkNFX0FMTE9DCj4gICAgICAgICB9Owo+IC0gICAgICAgc3RydWN0IHR0
bV9ib19nbG9iYWwgKmdsb2IgPSAmdHRtX2JvX2dsb2I7Cj4gKyAgICAgICBzdHJ1Y3QgdHRtX2ds
b2JhbCAqZ2xvYiA9ICZ0dG1fZ2xvYjsKPiAgICAgICAgIHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNl
Owo+ICAgICAgICAgaW50IHJldDsKPiAgICAgICAgIHVuc2lnbmVkIGk7Cj4gZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX3R0LmMgYi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV90
dC5jCj4gaW5kZXggM2U1ZGQ2MjcxZDRjLi45NWRmZmVlODI5OWQgMTAwNjQ0Cj4gLS0tIGEvZHJp
dmVycy9ncHUvZHJtL3R0bS90dG1fdHQuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRt
X3R0LmMKPiBAQCAtNDQsNyArNDQsNyBAQAo+ICAgKi8KPiAgaW50IHR0bV90dF9jcmVhdGUoc3Ry
dWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywgYm9vbCB6ZXJvX2FsbG9jKQo+ICB7Cj4gLSAgICAg
ICBzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiA9IGJvLT5iZGV2Owo+ICsgICAgICAgc3RydWN0
IHR0bV9kZXZpY2UgKmJkZXYgPSBiby0+YmRldjsKPiAgICAgICAgIHVpbnQzMl90IHBhZ2VfZmxh
Z3MgPSAwOwo+Cj4gICAgICAgICBkbWFfcmVzdl9hc3NlcnRfaGVsZChiby0+YmFzZS5yZXN2KTsK
PiBAQCAtNzMsNyArNzMsNyBAQCBpbnQgdHRtX3R0X2NyZWF0ZShzdHJ1Y3QgdHRtX2J1ZmZlcl9v
YmplY3QgKmJvLCBib29sIHplcm9fYWxsb2MpCj4gICAgICAgICAgICAgICAgIHJldHVybiAtRUlO
VkFMOwo+ICAgICAgICAgfQo+Cj4gLSAgICAgICBiby0+dHRtID0gYmRldi0+ZHJpdmVyLT50dG1f
dHRfY3JlYXRlKGJvLCBwYWdlX2ZsYWdzKTsKPiArICAgICAgIGJvLT50dG0gPSBiZGV2LT5mdW5j
cy0+dHRtX3R0X2NyZWF0ZShibywgcGFnZV9mbGFncyk7Cj4gICAgICAgICBpZiAodW5saWtlbHko
Ym8tPnR0bSA9PSBOVUxMKSkKPiAgICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4KPiBA
QCAtMTE0LDcgKzExNCw3IEBAIHN0YXRpYyBpbnQgdHRtX3NnX3R0X2FsbG9jX3BhZ2VfZGlyZWN0
b3J5KHN0cnVjdCB0dG1fZG1hX3R0ICp0dG0pCj4gICAgICAgICByZXR1cm4gMDsKPiAgfQo+Cj4g
LXZvaWQgdHRtX3R0X2Rlc3Ryb3lfY29tbW9uKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LCBz
dHJ1Y3QgdHRtX3R0ICp0dG0pCj4gK3ZvaWQgdHRtX3R0X2Rlc3Ryb3lfY29tbW9uKHN0cnVjdCB0
dG1fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0pCj4gIHsKPiAgICAgICAgIHR0bV90
dF91bnBvcHVsYXRlKGJkZXYsIHR0bSk7Cj4KPiBAQCAtMTI1LDkgKzEyNSw5IEBAIHZvaWQgdHRt
X3R0X2Rlc3Ryb3lfY29tbW9uKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRt
X3R0ICp0dG0pCj4gIH0KPiAgRVhQT1JUX1NZTUJPTCh0dG1fdHRfZGVzdHJveV9jb21tb24pOwo+
Cj4gLXZvaWQgdHRtX3R0X2Rlc3Ryb3koc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVj
dCB0dG1fdHQgKnR0bSkKPiArdm9pZCB0dG1fdHRfZGVzdHJveShzdHJ1Y3QgdHRtX2RldmljZSAq
YmRldiwgc3RydWN0IHR0bV90dCAqdHRtKQo+ICB7Cj4gLSAgICAgICBiZGV2LT5kcml2ZXItPnR0
bV90dF9kZXN0cm95KGJkZXYsIHR0bSk7Cj4gKyAgICAgICBiZGV2LT5mdW5jcy0+dHRtX3R0X2Rl
c3Ryb3koYmRldiwgdHRtKTsKPiAgfQo+Cj4gIHN0YXRpYyB2b2lkIHR0bV90dF9pbml0X2ZpZWxk
cyhzdHJ1Y3QgdHRtX3R0ICp0dG0sCj4gQEAgLTI1OCw3ICsyNTgsNyBAQCBpbnQgdHRtX3R0X3N3
YXBpbihzdHJ1Y3QgdHRtX3R0ICp0dG0pCj4gICAgICAgICByZXR1cm4gcmV0Owo+ICB9Cj4KPiAt
aW50IHR0bV90dF9zd2Fwb3V0KHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRt
X3R0ICp0dG0pCj4gK2ludCB0dG1fdHRfc3dhcG91dChzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwg
c3RydWN0IHR0bV90dCAqdHRtKQo+ICB7Cj4gICAgICAgICBzdHJ1Y3QgYWRkcmVzc19zcGFjZSAq
c3dhcF9zcGFjZTsKPiAgICAgICAgIHN0cnVjdCBmaWxlICpzd2FwX3N0b3JhZ2U7Cj4gQEAgLTMw
OCw3ICszMDgsNyBAQCBpbnQgdHRtX3R0X3N3YXBvdXQoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJk
ZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSkKPiAgICAgICAgIHJldHVybiByZXQ7Cj4gIH0KPgo+IC1z
dGF0aWMgdm9pZCB0dG1fdHRfYWRkX21hcHBpbmcoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYs
IHN0cnVjdCB0dG1fdHQgKnR0bSkKPiArc3RhdGljIHZvaWQgdHRtX3R0X2FkZF9tYXBwaW5nKHN0
cnVjdCB0dG1fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0pCj4gIHsKPiAgICAgICAg
IHBnb2ZmX3QgaTsKPgo+IEBAIC0zMTksNyArMzE5LDcgQEAgc3RhdGljIHZvaWQgdHRtX3R0X2Fk
ZF9tYXBwaW5nKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0p
Cj4gICAgICAgICAgICAgICAgIHR0bS0+cGFnZXNbaV0tPm1hcHBpbmcgPSBiZGV2LT5kZXZfbWFw
cGluZzsKPiAgfQo+Cj4gLWludCB0dG1fdHRfcG9wdWxhdGUoc3RydWN0IHR0bV9ib19kZXZpY2Ug
KmJkZXYsCj4gK2ludCB0dG1fdHRfcG9wdWxhdGUoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4g
ICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3R0ICp0dG0sIHN0cnVjdCB0dG1fb3BlcmF0
aW9uX2N0eCAqY3R4KQo+ICB7Cj4gICAgICAgICBpbnQgcmV0Owo+IEBAIC0zMzAsOCArMzMwLDgg
QEAgaW50IHR0bV90dF9wb3B1bGF0ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiAgICAg
ICAgIGlmICh0dG1fdHRfaXNfcG9wdWxhdGVkKHR0bSkpCj4gICAgICAgICAgICAgICAgIHJldHVy
biAwOwo+Cj4gLSAgICAgICBpZiAoYmRldi0+ZHJpdmVyLT50dG1fdHRfcG9wdWxhdGUpCj4gLSAg
ICAgICAgICAgICAgIHJldCA9IGJkZXYtPmRyaXZlci0+dHRtX3R0X3BvcHVsYXRlKGJkZXYsIHR0
bSwgY3R4KTsKPiArICAgICAgIGlmIChiZGV2LT5mdW5jcy0+dHRtX3R0X3BvcHVsYXRlKQo+ICsg
ICAgICAgICAgICAgICByZXQgPSBiZGV2LT5mdW5jcy0+dHRtX3R0X3BvcHVsYXRlKGJkZXYsIHR0
bSwgY3R4KTsKPiAgICAgICAgIGVsc2UKPiAgICAgICAgICAgICAgICAgcmV0ID0gdHRtX3Bvb2xf
cG9wdWxhdGUodHRtLCBjdHgpOwo+ICAgICAgICAgaWYgKCFyZXQpCj4gQEAgLTM1NCwxNSArMzU0
LDE1IEBAIHN0YXRpYyB2b2lkIHR0bV90dF9jbGVhcl9tYXBwaW5nKHN0cnVjdCB0dG1fdHQgKnR0
bSkKPiAgICAgICAgIH0KPiAgfQo+Cj4gLXZvaWQgdHRtX3R0X3VucG9wdWxhdGUoc3RydWN0IHR0
bV9ib19kZXZpY2UgKmJkZXYsCj4gK3ZvaWQgdHRtX3R0X3VucG9wdWxhdGUoc3RydWN0IHR0bV9k
ZXZpY2UgKmJkZXYsCj4gICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3R0ICp0dG0p
Cj4gIHsKPiAgICAgICAgIGlmICghdHRtX3R0X2lzX3BvcHVsYXRlZCh0dG0pKQo+ICAgICAgICAg
ICAgICAgICByZXR1cm47Cj4KPiAgICAgICAgIHR0bV90dF9jbGVhcl9tYXBwaW5nKHR0bSk7Cj4g
LSAgICAgICBpZiAoYmRldi0+ZHJpdmVyLT50dG1fdHRfdW5wb3B1bGF0ZSkKPiAtICAgICAgICAg
ICAgICAgYmRldi0+ZHJpdmVyLT50dG1fdHRfdW5wb3B1bGF0ZShiZGV2LCB0dG0pOwo+ICsgICAg
ICAgaWYgKGJkZXYtPmZ1bmNzLT50dG1fdHRfdW5wb3B1bGF0ZSkKPiArICAgICAgICAgICAgICAg
YmRldi0+ZnVuY3MtPnR0bV90dF91bnBvcHVsYXRlKGJkZXYsIHR0bSk7Cj4gICAgICAgICBlbHNl
Cj4gICAgICAgICAgICAgICAgIHR0bV9wb29sX3VucG9wdWxhdGUodHRtKTsKPiAgfQo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9ibGl0LmMgYi9kcml2ZXJzL2dw
dS9kcm0vdm13Z2Z4L3Ztd2dmeF9ibGl0LmMKPiBpbmRleCBmMjE4ODFlMDg3ZGIuLmQwMjI4ZWIx
NjE0NyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9ibGl0LmMK
PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9ibGl0LmMKPiBAQCAtNDY1LDEz
ICs0NjUsMTMgQEAgaW50IHZtd19ib19jcHVfYmxpdChzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3Qg
KmRzdCwKPiAgICAgICAgICAgICAgICAgZG1hX3Jlc3ZfYXNzZXJ0X2hlbGQoc3JjLT5iYXNlLnJl
c3YpOwo+Cj4gICAgICAgICBpZiAoIXR0bV90dF9pc19wb3B1bGF0ZWQoZHN0LT50dG0pKSB7Cj4g
LSAgICAgICAgICAgICAgIHJldCA9IGRzdC0+YmRldi0+ZHJpdmVyLT50dG1fdHRfcG9wdWxhdGUo
ZHN0LT5iZGV2LCBkc3QtPnR0bSwgJmN0eCk7Cj4gKyAgICAgICAgICAgICAgIHJldCA9IGRzdC0+
YmRldi0+ZnVuY3MtPnR0bV90dF9wb3B1bGF0ZShkc3QtPmJkZXYsIGRzdC0+dHRtLCAmY3R4KTsK
PiAgICAgICAgICAgICAgICAgaWYgKHJldCkKPiAgICAgICAgICAgICAgICAgICAgICAgICByZXR1
cm4gcmV0Owo+ICAgICAgICAgfQo+Cj4gICAgICAgICBpZiAoIXR0bV90dF9pc19wb3B1bGF0ZWQo
c3JjLT50dG0pKSB7Cj4gLSAgICAgICAgICAgICAgIHJldCA9IHNyYy0+YmRldi0+ZHJpdmVyLT50
dG1fdHRfcG9wdWxhdGUoc3JjLT5iZGV2LCBzcmMtPnR0bSwgJmN0eCk7Cj4gKyAgICAgICAgICAg
ICAgIHJldCA9IHNyYy0+YmRldi0+ZnVuY3MtPnR0bV90dF9wb3B1bGF0ZShzcmMtPmJkZXYsIHNy
Yy0+dHRtLCAmY3R4KTsKPiAgICAgICAgICAgICAgICAgaWYgKHJldCkKPiAgICAgICAgICAgICAg
ICAgICAgICAgICByZXR1cm4gcmV0Owo+ICAgICAgICAgfQo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9iby5jIGIvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdn
ZnhfYm8uYwo+IGluZGV4IDlhNjZiYTI1NDMyNi4uY2Y4ZDlmMTE0NWRlIDEwMDY0NAo+IC0tLSBh
L2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2JvLmMKPiArKysgYi9kcml2ZXJzL2dwdS9k
cm0vdm13Z2Z4L3Ztd2dmeF9iby5jCj4gQEAgLTU0Niw3ICs1NDYsNyBAQCBpbnQgdm13X2JvX2lu
aXQoc3RydWN0IHZtd19wcml2YXRlICpkZXZfcHJpdiwKPiAgICAgICAgICAgICAgICAgdm9pZCAo
KmJvX2ZyZWUpKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8pKQo+ICB7Cj4gICAgICAgICBz
dHJ1Y3QgdHRtX29wZXJhdGlvbl9jdHggY3R4ID0geyBpbnRlcnJ1cHRpYmxlLCBmYWxzZSB9Owo+
IC0gICAgICAgc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYgPSAmZGV2X3ByaXYtPmJkZXY7Cj4g
KyAgICAgICBzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiA9ICZkZXZfcHJpdi0+YmRldjsKPiAgICAg
ICAgIHNpemVfdCBhY2Nfc2l6ZTsKPiAgICAgICAgIGludCByZXQ7Cj4gICAgICAgICBib29sIHVz
ZXIgPSAoYm9fZnJlZSA9PSAmdm13X3VzZXJfYm9fZGVzdHJveSk7Cj4gQEAgLTEwNTgsNyArMTA1
OCw3IEBAIGludCB2bXdfdXNlcl9ib19yZWZlcmVuY2Uoc3RydWN0IHR0bV9vYmplY3RfZmlsZSAq
dGZpbGUsCj4gIHZvaWQgdm13X2JvX2ZlbmNlX3NpbmdsZShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmpl
Y3QgKmJvLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3Qgdm13X2ZlbmNlX29iaiAq
ZmVuY2UpCj4gIHsKPiAtICAgICAgIHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2ID0gYm8tPmJk
ZXY7Cj4gKyAgICAgICBzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiA9IGJvLT5iZGV2Owo+Cj4gICAg
ICAgICBzdHJ1Y3Qgdm13X3ByaXZhdGUgKmRldl9wcml2ID0KPiAgICAgICAgICAgICAgICAgY29u
dGFpbmVyX29mKGJkZXYsIHN0cnVjdCB2bXdfcHJpdmF0ZSwgYmRldik7Cj4gZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2Rydi5jIGIvZHJpdmVycy9ncHUvZHJtL3Zt
d2dmeC92bXdnZnhfZHJ2LmMKPiBpbmRleCBiZGI3YTVlOTY1NjAuLmZjZGEzYjc2ZTBkZiAxMDA2
NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9kcnYuYwo+ICsrKyBiL2Ry
aXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2Rydi5jCj4gQEAgLTg3Miw3ICs4NzIsNyBAQCBz
dGF0aWMgaW50IHZtd19kcml2ZXJfbG9hZChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB1bnNpZ25l
ZCBsb25nIGNoaXBzZXQpCj4gICAgICAgICBkcm1fdm1hX29mZnNldF9tYW5hZ2VyX2luaXQoJmRl
dl9wcml2LT52bWFfbWFuYWdlciwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBEUk1fRklMRV9QQUdFX09GRlNFVF9TVEFSVCwKPiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBEUk1fRklMRV9QQUdFX09GRlNFVF9TSVpFKTsKPiAtICAgICAgIHJldCA9IHR0
bV9ib19kZXZpY2VfaW5pdCgmZGV2X3ByaXYtPmJkZXYsCj4gKyAgICAgICByZXQgPSB0dG1fZGV2
aWNlX2luaXQoJmRldl9wcml2LT5iZGV2LAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICZ2bXdfYm9fZHJpdmVyLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRl
di0+YW5vbl9pbm9kZS0+aV9tYXBwaW5nLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICZkZXZfcHJpdi0+dm1hX21hbmFnZXIsCj4gQEAgLTk5Myw3ICs5OTMsNyBAQCBzdGF0aWMg
aW50IHZtd19kcml2ZXJfbG9hZChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB1bnNpZ25lZCBsb25n
IGNoaXBzZXQpCj4gICAgICAgICAgICAgICAgIHZtd19nbXJpZF9tYW5fZmluaShkZXZfcHJpdiwg
Vk1XX1BMX0dNUik7Cj4gICAgICAgICB2bXdfdnJhbV9tYW5hZ2VyX2ZpbmkoZGV2X3ByaXYpOwo+
ICBvdXRfbm9fdnJhbToKPiAtICAgICAgICh2b2lkKXR0bV9ib19kZXZpY2VfcmVsZWFzZSgmZGV2
X3ByaXYtPmJkZXYpOwo+ICsgICAgICAgKHZvaWQpdHRtX2RldmljZV9yZWxlYXNlKCZkZXZfcHJp
di0+YmRldik7Cj4gIG91dF9ub19iZGV2Ogo+ICAgICAgICAgdm13X2ZlbmNlX21hbmFnZXJfdGFr
ZWRvd24oZGV2X3ByaXYtPmZtYW4pOwo+ICBvdXRfbm9fZm1hbjoKPiBAQCAtMTA0NSw3ICsxMDQ1
LDcgQEAgc3RhdGljIHZvaWQgdm13X2RyaXZlcl91bmxvYWQoc3RydWN0IGRybV9kZXZpY2UgKmRl
dikKPiAgICAgICAgIGlmIChkZXZfcHJpdi0+aGFzX21vYikKPiAgICAgICAgICAgICAgICAgdm13
X2dtcmlkX21hbl9maW5pKGRldl9wcml2LCBWTVdfUExfTU9CKTsKPiAgICAgICAgIHZtd192cmFt
X21hbmFnZXJfZmluaShkZXZfcHJpdik7Cj4gLSAgICAgICAodm9pZCkgdHRtX2JvX2RldmljZV9y
ZWxlYXNlKCZkZXZfcHJpdi0+YmRldik7Cj4gKyAgICAgICAodm9pZCkgdHRtX2RldmljZV9yZWxl
YXNlKCZkZXZfcHJpdi0+YmRldik7Cj4gICAgICAgICBkcm1fdm1hX29mZnNldF9tYW5hZ2VyX2Rl
c3Ryb3koJmRldl9wcml2LT52bWFfbWFuYWdlcik7Cj4gICAgICAgICB2bXdfcmVsZWFzZV9kZXZp
Y2VfbGF0ZShkZXZfcHJpdik7Cj4gICAgICAgICB2bXdfZmVuY2VfbWFuYWdlcl90YWtlZG93bihk
ZXZfcHJpdi0+Zm1hbik7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13
Z2Z4X2Rydi5oIGIvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfZHJ2LmgKPiBpbmRleCBi
NDViZWNiYjAwZjguLmM4ZDNlM2VlZWQ0MCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
dm13Z2Z4L3Ztd2dmeF9kcnYuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4
X2Rydi5oCj4gQEAgLTQ5MCw3ICs0OTAsNyBAQCBlbnVtIHZtd19zbV90eXBlIHsKPiAgfTsKPgo+
ICBzdHJ1Y3Qgdm13X3ByaXZhdGUgewo+IC0gICAgICAgc3RydWN0IHR0bV9ib19kZXZpY2UgYmRl
djsKPiArICAgICAgIHN0cnVjdCB0dG1fZGV2aWNlIGJkZXY7Cj4KPiAgICAgICAgIHN0cnVjdCB2
bXdfZmlmb19zdGF0ZSBmaWZvOwo+Cj4gQEAgLTEwMTQsNyArMTAxNCw3IEBAIGV4dGVybiBzdHJ1
Y3QgdHRtX3BsYWNlbWVudCB2bXdfZXZpY3RhYmxlX3BsYWNlbWVudDsKPiAgZXh0ZXJuIHN0cnVj
dCB0dG1fcGxhY2VtZW50IHZtd19zcmZfcGxhY2VtZW50Owo+ICBleHRlcm4gc3RydWN0IHR0bV9w
bGFjZW1lbnQgdm13X21vYl9wbGFjZW1lbnQ7Cj4gIGV4dGVybiBzdHJ1Y3QgdHRtX3BsYWNlbWVu
dCB2bXdfbm9uZml4ZWRfcGxhY2VtZW50Owo+IC1leHRlcm4gc3RydWN0IHR0bV9ib19kcml2ZXIg
dm13X2JvX2RyaXZlcjsKPiArZXh0ZXJuIHN0cnVjdCB0dG1fZGV2aWNlX2Z1bmNzIHZtd19ib19k
cml2ZXI7Cj4gIGV4dGVybiBjb25zdCBzdHJ1Y3Qgdm13X3NnX3RhYmxlICoKPiAgdm13X2JvX3Nn
X3RhYmxlKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8pOwo+ICBleHRlcm4gaW50IHZtd19i
b19jcmVhdGVfYW5kX3BvcHVsYXRlKHN0cnVjdCB2bXdfcHJpdmF0ZSAqZGV2X3ByaXYsCj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X3Jlc291cmNlLmMgYi9kcml2
ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9yZXNvdXJjZS5jCj4gaW5kZXggNWU5MjJkOWQ1ZjJj
Li4yMDU0MjQwMTdlMjMgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdn
ZnhfcmVzb3VyY2UuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X3Jlc291
cmNlLmMKPiBAQCAtODU4LDcgKzg1OCw3IEBAIHZvaWQgdm13X3F1ZXJ5X21vdmVfbm90aWZ5KHN0
cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAg
c3RydWN0IHR0bV9yZXNvdXJjZSAqbWVtKQo+ICB7Cj4gICAgICAgICBzdHJ1Y3Qgdm13X2J1ZmZl
cl9vYmplY3QgKmR4X3F1ZXJ5X21vYjsKPiAtICAgICAgIHN0cnVjdCB0dG1fYm9fZGV2aWNlICpi
ZGV2ID0gYm8tPmJkZXY7Cj4gKyAgICAgICBzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiA9IGJvLT5i
ZGV2Owo+ICAgICAgICAgc3RydWN0IHZtd19wcml2YXRlICpkZXZfcHJpdjsKPgo+Cj4gZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X3R0bV9idWZmZXIuYyBiL2RyaXZl
cnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X3R0bV9idWZmZXIuYwo+IGluZGV4IDk3NWQwNmMyZTM1
ZS4uODFhZWNkNzJhOTcxIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13
Z2Z4X3R0bV9idWZmZXIuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X3R0
bV9idWZmZXIuYwo+IEBAIC00ODksNyArNDg5LDcgQEAgY29uc3Qgc3RydWN0IHZtd19zZ190YWJs
ZSAqdm13X2JvX3NnX3RhYmxlKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8pCj4gIH0KPgo+
Cj4gLXN0YXRpYyBpbnQgdm13X3R0bV9iaW5kKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+
ICtzdGF0aWMgaW50IHZtd190dG1fYmluZChzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwKPiAgICAg
ICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3R0ICp0dG0sIHN0cnVjdCB0dG1fcmVzb3Vy
Y2UgKmJvX21lbSkKPiAgewo+ICAgICAgICAgc3RydWN0IHZtd190dG1fdHQgKnZtd19iZSA9Cj4g
QEAgLTUzMyw3ICs1MzMsNyBAQCBzdGF0aWMgaW50IHZtd190dG1fYmluZChzdHJ1Y3QgdHRtX2Jv
X2RldmljZSAqYmRldiwKPiAgICAgICAgIHJldHVybiByZXQ7Cj4gIH0KPgo+IC1zdGF0aWMgdm9p
ZCB2bXdfdHRtX3VuYmluZChzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiArc3RhdGljIHZv
aWQgdm13X3R0bV91bmJpbmQoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4gICAgICAgICAgICAg
ICAgICAgICAgICAgICAgc3RydWN0IHR0bV90dCAqdHRtKQo+ICB7Cj4gICAgICAgICBzdHJ1Y3Qg
dm13X3R0bV90dCAqdm13X2JlID0KPiBAQCAtNTU5LDcgKzU1OSw3IEBAIHN0YXRpYyB2b2lkIHZt
d190dG1fdW5iaW5kKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICB9Cj4KPgo+IC1zdGF0
aWMgdm9pZCB2bXdfdHRtX2Rlc3Ryb3koc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVj
dCB0dG1fdHQgKnR0bSkKPiArc3RhdGljIHZvaWQgdm13X3R0bV9kZXN0cm95KHN0cnVjdCB0dG1f
ZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0pCj4gIHsKPiAgICAgICAgIHN0cnVjdCB2
bXdfdHRtX3R0ICp2bXdfYmUgPQo+ICAgICAgICAgICAgICAgICBjb250YWluZXJfb2YodHRtLCBz
dHJ1Y3Qgdm13X3R0bV90dCwgZG1hX3R0bS50dG0pOwo+IEBAIC01NzksNyArNTc5LDcgQEAgc3Rh
dGljIHZvaWQgdm13X3R0bV9kZXN0cm95KHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LCBzdHJ1
Y3QgdHRtX3R0ICp0dG0pCj4gIH0KPgo+Cj4gLXN0YXRpYyBpbnQgdm13X3R0bV9wb3B1bGF0ZShz
dHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiArc3RhdGljIGludCB2bXdfdHRtX3BvcHVsYXRl
KHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBz
dHJ1Y3QgdHRtX3R0ICp0dG0sIHN0cnVjdCB0dG1fb3BlcmF0aW9uX2N0eCAqY3R4KQo+ICB7Cj4g
ICAgICAgICBzdHJ1Y3Qgdm13X3R0bV90dCAqdm13X3R0ID0KPiBAQCAtNjA4LDcgKzYwOCw3IEBA
IHN0YXRpYyBpbnQgdm13X3R0bV9wb3B1bGF0ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwK
PiAgICAgICAgIHJldHVybiByZXQ7Cj4gIH0KPgo+IC1zdGF0aWMgdm9pZCB2bXdfdHRtX3VucG9w
dWxhdGUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gK3N0YXRpYyB2b2lkIHZtd190dG1f
dW5wb3B1bGF0ZShzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwKPiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgc3RydWN0IHR0bV90dCAqdHRtKQo+ICB7Cj4gICAgICAgICBzdHJ1Y3Qgdm13
X3R0bV90dCAqdm13X3R0ID0gY29udGFpbmVyX29mKHR0bSwgc3RydWN0IHZtd190dG1fdHQsCj4g
QEAgLTY3NSw3ICs2NzUsNyBAQCBzdGF0aWMgaW50IHZtd192ZXJpZnlfYWNjZXNzKHN0cnVjdCB0
dG1fYnVmZmVyX29iamVjdCAqYm8sIHN0cnVjdCBmaWxlICpmaWxwKQo+ICAgICAgICAgcmV0dXJu
IHZtd191c2VyX2JvX3ZlcmlmeV9hY2Nlc3MoYm8sIHRmaWxlKTsKPiAgfQo+Cj4gLXN0YXRpYyBp
bnQgdm13X3R0bV9pb19tZW1fcmVzZXJ2ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgc3Ry
dWN0IHR0bV9yZXNvdXJjZSAqbWVtKQo+ICtzdGF0aWMgaW50IHZtd190dG1faW9fbWVtX3Jlc2Vy
dmUoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fcmVzb3VyY2UgKm1lbSkKPiAg
ewo+ICAgICAgICAgc3RydWN0IHZtd19wcml2YXRlICpkZXZfcHJpdiA9IGNvbnRhaW5lcl9vZihi
ZGV2LCBzdHJ1Y3Qgdm13X3ByaXZhdGUsIGJkZXYpOwo+Cj4gQEAgLTcyNyw3ICs3MjcsNyBAQCBz
dGF0aWMgdm9pZCB2bXdfc3dhcF9ub3RpZnkoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibykK
PiAgfQo+Cj4KPiAtc3RydWN0IHR0bV9ib19kcml2ZXIgdm13X2JvX2RyaXZlciA9IHsKPiArc3Ry
dWN0IHR0bV9kZXZpY2VfZnVuY3Mgdm13X2JvX2RyaXZlciA9IHsKPiAgICAgICAgIC50dG1fdHRf
Y3JlYXRlID0gJnZtd190dG1fdHRfY3JlYXRlLAo+ICAgICAgICAgLnR0bV90dF9wb3B1bGF0ZSA9
ICZ2bXdfdHRtX3BvcHVsYXRlLAo+ICAgICAgICAgLnR0bV90dF91bnBvcHVsYXRlID0gJnZtd190
dG1fdW5wb3B1bGF0ZSwKPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9kcm0vZHJtX2dlbV92cmFtX2hl
bHBlci5oIGIvaW5jbHVkZS9kcm0vZHJtX2dlbV92cmFtX2hlbHBlci5oCj4gaW5kZXggMTI4Zjg4
MTc0ZDMyLi41ZTkyZDcwMTQxMjUgMTAwNjQ0Cj4gLS0tIGEvaW5jbHVkZS9kcm0vZHJtX2dlbV92
cmFtX2hlbHBlci5oCj4gKysrIGIvaW5jbHVkZS9kcm0vZHJtX2dlbV92cmFtX2hlbHBlci5oCj4g
QEAgLTE3MiwxOSArMTcyLDE5IEBAIHN0cnVjdCBkcm1fdnJhbV9tbSB7Cj4gICAgICAgICB1aW50
NjRfdCB2cmFtX2Jhc2U7Cj4gICAgICAgICBzaXplX3QgdnJhbV9zaXplOwo+Cj4gLSAgICAgICBz
dHJ1Y3QgdHRtX2JvX2RldmljZSBiZGV2Owo+ICsgICAgICAgc3RydWN0IHR0bV9kZXZpY2UgYmRl
djsKPiAgfTsKPgo+ICAvKioKPiAgICogZHJtX3ZyYW1fbW1fb2ZfYmRldigpIC0gXAo+IC0gICAg
ICAgUmV0dXJucyB0aGUgY29udGFpbmVyIG9mIHR5cGUgJnN0cnVjdCB0dG1fYm9fZGV2aWNlIGZv
ciBmaWVsZCBiZGV2Lgo+ICsgICAgICAgUmV0dXJucyB0aGUgY29udGFpbmVyIG9mIHR5cGUgJnN0
cnVjdCB0dG1fZGV2aWNlIGZvciBmaWVsZCBiZGV2Lgo+ICAgKiBAYmRldjogICAgICB0aGUgVFRN
IEJPIGRldmljZQo+ICAgKgo+ICAgKiBSZXR1cm5zOgo+ICAgKiBUaGUgY29udGFpbmluZyBpbnN0
YW5jZSBvZiAmc3RydWN0IGRybV92cmFtX21tCj4gICAqLwo+ICBzdGF0aWMgaW5saW5lIHN0cnVj
dCBkcm1fdnJhbV9tbSAqZHJtX3ZyYW1fbW1fb2ZfYmRldigKPiAtICAgICAgIHN0cnVjdCB0dG1f
Ym9fZGV2aWNlICpiZGV2KQo+ICsgICAgICAgc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYpCj4gIHsK
PiAgICAgICAgIHJldHVybiBjb250YWluZXJfb2YoYmRldiwgc3RydWN0IGRybV92cmFtX21tLCBi
ZGV2KTsKPiAgfQo+IGRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS90dG0vdHRtX2JvX2FwaS5oIGIv
aW5jbHVkZS9kcm0vdHRtL3R0bV9ib19hcGkuaAo+IGluZGV4IGM5NmEyNWQ1NzFjOC4uYTAyOTM1
ZTBkMTIxIDEwMDY0NAo+IC0tLSBhL2luY2x1ZGUvZHJtL3R0bS90dG1fYm9fYXBpLmgKPiArKysg
Yi9pbmNsdWRlL2RybS90dG0vdHRtX2JvX2FwaS5oCj4gQEAgLTQ0LDkgKzQ0LDkgQEAKPgo+ICAj
aW5jbHVkZSAidHRtX3Jlc291cmNlLmgiCj4KPiAtc3RydWN0IHR0bV9ib19nbG9iYWw7Cj4gK3N0
cnVjdCB0dG1fZ2xvYmFsOwo+Cj4gLXN0cnVjdCB0dG1fYm9fZGV2aWNlOwo+ICtzdHJ1Y3QgdHRt
X2RldmljZTsKPgo+ICBzdHJ1Y3QgZHJtX21tX25vZGU7Cj4KPiBAQCAtMTIwLDcgKzEyMCw3IEBA
IHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCB7Cj4gICAgICAgICAgKiBNZW1iZXJzIGNvbnN0YW50
IGF0IGluaXQuCj4gICAgICAgICAgKi8KPgo+IC0gICAgICAgc3RydWN0IHR0bV9ib19kZXZpY2Ug
KmJkZXY7Cj4gKyAgICAgICBzdHJ1Y3QgdHRtX2RldmljZSAqYmRldjsKPiAgICAgICAgIGVudW0g
dHRtX2JvX3R5cGUgdHlwZTsKPiAgICAgICAgIHZvaWQgKCpkZXN0cm95KSAoc3RydWN0IHR0bV9i
dWZmZXJfb2JqZWN0ICopOwo+ICAgICAgICAgdW5zaWduZWQgbG9uZyBudW1fcGFnZXM7Cj4gQEAg
LTMxMCw3ICszMTAsNyBAQCB2b2lkIHR0bV9ib19wdXQoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0
ICpibyk7Cj4gICAqIEBidWxrOiBvcHRpb25hbCBidWxrIG1vdmUgc3RydWN0dXJlIHRvIHJlbWVt
YmVyIEJPIHBvc2l0aW9ucwo+ICAgKgo+ICAgKiBNb3ZlIHRoaXMgQk8gdG8gdGhlIHRhaWwgb2Yg
YWxsIGxydSBsaXN0cyB1c2VkIHRvIGxvb2t1cCBhbmQgcmVzZXJ2ZSBhbgo+IC0gKiBvYmplY3Qu
IFRoaXMgZnVuY3Rpb24gbXVzdCBiZSBjYWxsZWQgd2l0aCBzdHJ1Y3QgdHRtX2JvX2dsb2JhbDo6
bHJ1X2xvY2sKPiArICogb2JqZWN0LiBUaGlzIGZ1bmN0aW9uIG11c3QgYmUgY2FsbGVkIHdpdGgg
c3RydWN0IHR0bV9nbG9iYWw6OmxydV9sb2NrCj4gICAqIGhlbGQsIGFuZCBpcyB1c2VkIHRvIG1h
a2UgYSBCTyBsZXNzIGxpa2VseSB0byBiZSBjb25zaWRlcmVkIGZvciBldmljdGlvbi4KPiAgICov
Cj4gIHZvaWQgdHRtX2JvX21vdmVfdG9fbHJ1X3RhaWwoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0
ICpibywKPiBAQCAtMzIyLDcgKzMyMiw3IEBAIHZvaWQgdHRtX2JvX21vdmVfdG9fbHJ1X3RhaWwo
c3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAgICogQGJ1bGs6IGJ1bGsgbW92ZSBzdHJ1
Y3R1cmUKPiAgICoKPiAgICogQnVsayBtb3ZlIEJPcyB0byB0aGUgTFJVIHRhaWwsIG9ubHkgdmFs
aWQgdG8gdXNlIHdoZW4gZHJpdmVyIG1ha2VzIHN1cmUgdGhhdAo+IC0gKiBCTyBvcmRlciBuZXZl
ciBjaGFuZ2VzLiBTaG91bGQgYmUgY2FsbGVkIHdpdGggdHRtX2JvX2dsb2JhbDo6bHJ1X2xvY2sg
aGVsZC4KPiArICogQk8gb3JkZXIgbmV2ZXIgY2hhbmdlcy4gU2hvdWxkIGJlIGNhbGxlZCB3aXRo
IHR0bV9nbG9iYWw6OmxydV9sb2NrIGhlbGQuCj4gICAqLwo+ICB2b2lkIHR0bV9ib19idWxrX21v
dmVfbHJ1X3RhaWwoc3RydWN0IHR0bV9scnVfYnVsa19tb3ZlICpidWxrKTsKPgo+IEBAIC0zMzMs
MTQgKzMzMywxNCBAQCB2b2lkIHR0bV9ib19idWxrX21vdmVfbHJ1X3RhaWwoc3RydWN0IHR0bV9s
cnVfYnVsa19tb3ZlICpidWxrKTsKPiAgICogUmV0dXJucwo+ICAgKiBUcnVlIGlmIHRoZSB3b3Jr
cXVldWUgd2FzIHF1ZXVlZCBhdCB0aGUgdGltZQo+ICAgKi8KPiAtaW50IHR0bV9ib19sb2NrX2Rl
bGF5ZWRfd29ya3F1ZXVlKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2KTsKPiAraW50IHR0bV9i
b19sb2NrX2RlbGF5ZWRfd29ya3F1ZXVlKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2KTsKPgo+ICAv
KioKPiAgICogdHRtX2JvX3VubG9ja19kZWxheWVkX3dvcmtxdWV1ZQo+ICAgKgo+ICAgKiBBbGxv
d3MgdGhlIGRlbGF5ZWQgd29ya3F1ZXVlIHRvIHJ1bi4KPiAgICovCj4gLXZvaWQgdHRtX2JvX3Vu
bG9ja19kZWxheWVkX3dvcmtxdWV1ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgaW50IHJl
c2NoZWQpOwo+ICt2b2lkIHR0bV9ib191bmxvY2tfZGVsYXllZF93b3JrcXVldWUoc3RydWN0IHR0
bV9kZXZpY2UgKmJkZXYsIGludCByZXNjaGVkKTsKPgo+ICAvKioKPiAgICogdHRtX2JvX2V2aWN0
aW9uX3ZhbHVhYmxlCj4gQEAgLTM1MywxNCArMzUzLDE0IEBAIHZvaWQgdHRtX2JvX3VubG9ja19k
ZWxheWVkX3dvcmtxdWV1ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgaW50IHJlc2NoZWQp
Owo+ICBib29sIHR0bV9ib19ldmljdGlvbl92YWx1YWJsZShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmpl
Y3QgKmJvLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cnVjdCB0dG1f
cGxhY2UgKnBsYWNlKTsKPgo+IC1zaXplX3QgdHRtX2JvX2RtYV9hY2Nfc2l6ZShzdHJ1Y3QgdHRt
X2JvX2RldmljZSAqYmRldiwKPiArc2l6ZV90IHR0bV9ib19kbWFfYWNjX3NpemUoc3RydWN0IHR0
bV9kZXZpY2UgKmJkZXYsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgbG9u
ZyBib19zaXplLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIHN0cnVjdF9z
aXplKTsKPgo+ICAvKioKPiAgICogdHRtX2JvX2luaXRfcmVzZXJ2ZWQKPiAgICoKPiAtICogQGJk
ZXY6IFBvaW50ZXIgdG8gYSB0dG1fYm9fZGV2aWNlIHN0cnVjdC4KPiArICogQGJkZXY6IFBvaW50
ZXIgdG8gYSB0dG1fZGV2aWNlIHN0cnVjdC4KPiAgICogQGJvOiBQb2ludGVyIHRvIGEgdHRtX2J1
ZmZlcl9vYmplY3QgdG8gYmUgaW5pdGlhbGl6ZWQuCj4gICAqIEBzaXplOiBSZXF1ZXN0ZWQgc2l6
ZSBvZiBidWZmZXIgb2JqZWN0Lgo+ICAgKiBAdHlwZTogUmVxdWVzdGVkIHR5cGUgb2YgYnVmZmVy
IG9iamVjdC4KPiBAQCAtMzkyLDcgKzM5Miw3IEBAIHNpemVfdCB0dG1fYm9fZG1hX2FjY19zaXpl
KHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICAgKiAtRVJFU1RBUlRTWVM6IEludGVycnVw
dGVkIGJ5IHNpZ25hbCB3aGlsZSBzbGVlcGluZyB3YWl0aW5nIGZvciByZXNvdXJjZXMuCj4gICAq
Lwo+Cj4gLWludCB0dG1fYm9faW5pdF9yZXNlcnZlZChzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRl
diwKPiAraW50IHR0bV9ib19pbml0X3Jlc2VydmVkKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LAo+
ICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+
ICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBsb25nIHNpemUsCj4gICAgICAgICAg
ICAgICAgICAgICAgICAgIGVudW0gdHRtX2JvX3R5cGUgdHlwZSwKPiBAQCAtNDA3LDcgKzQwNyw3
IEBAIGludCB0dG1fYm9faW5pdF9yZXNlcnZlZChzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwK
PiAgLyoqCj4gICAqIHR0bV9ib19pbml0Cj4gICAqCj4gLSAqIEBiZGV2OiBQb2ludGVyIHRvIGEg
dHRtX2JvX2RldmljZSBzdHJ1Y3QuCj4gKyAqIEBiZGV2OiBQb2ludGVyIHRvIGEgdHRtX2Rldmlj
ZSBzdHJ1Y3QuCj4gICAqIEBibzogUG9pbnRlciB0byBhIHR0bV9idWZmZXJfb2JqZWN0IHRvIGJl
IGluaXRpYWxpemVkLgo+ICAgKiBAc2l6ZTogUmVxdWVzdGVkIHNpemUgb2YgYnVmZmVyIG9iamVj
dC4KPiAgICogQHR5cGU6IFJlcXVlc3RlZCB0eXBlIG9mIGJ1ZmZlciBvYmplY3QuCj4gQEAgLTQ0
MSw3ICs0NDEsNyBAQCBpbnQgdHRtX2JvX2luaXRfcmVzZXJ2ZWQoc3RydWN0IHR0bV9ib19kZXZp
Y2UgKmJkZXYsCj4gICAqIC1FSU5WQUw6IEludmFsaWQgcGxhY2VtZW50IGZsYWdzLgo+ICAgKiAt
RVJFU1RBUlRTWVM6IEludGVycnVwdGVkIGJ5IHNpZ25hbCB3aGlsZSBzbGVlcGluZyB3YWl0aW5n
IGZvciByZXNvdXJjZXMuCj4gICAqLwo+IC1pbnQgdHRtX2JvX2luaXQoc3RydWN0IHR0bV9ib19k
ZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCj4gK2ludCB0dG1fYm9f
aW5pdChzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpi
bywKPiAgICAgICAgICAgICAgICAgdW5zaWduZWQgbG9uZyBzaXplLCBlbnVtIHR0bV9ib190eXBl
IHR5cGUsCj4gICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fcGxhY2VtZW50ICpwbGFjZW1lbnQs
Cj4gICAgICAgICAgICAgICAgIHVpbnQzMl90IHBhZ2VfYWxpZ25tZW50LCBib29sIGludGVycnVi
dGlibGUsIHNpemVfdCBhY2Nfc2l6ZSwKPiBAQCAtNDUxLDcgKzQ1MSw3IEBAIGludCB0dG1fYm9f
aW5pdChzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0
ICpibywKPiAgLyoqCj4gICAqIHR0bV9ib19ldmljdF9tbQo+ICAgKgo+IC0gKiBAYmRldjogUG9p
bnRlciB0byBhIHR0bV9ib19kZXZpY2Ugc3RydWN0Lgo+ICsgKiBAYmRldjogUG9pbnRlciB0byBh
IHR0bV9kZXZpY2Ugc3RydWN0Lgo+ICAgKiBAbWVtX3R5cGU6IFRoZSBtZW1vcnkgdHlwZS4KPiAg
ICoKPiAgICogRXZpY3RzIGFsbCBidWZmZXJzIG9uIHRoZSBscnUgbGlzdCBvZiB0aGUgbWVtb3J5
IHR5cGUuCj4gQEAgLTQ1OSwxNCArNDU5LDE0IEBAIGludCB0dG1fYm9faW5pdChzdHJ1Y3QgdHRt
X2JvX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAgICogb3V0
LW9mLW1lbW9yeS1zcGFjZS1kdWUtdG8tZnJhZ21lbnRhdGlvbiBoYW5kbGVyLgo+ICAgKiBUaGUg
Y2FsbGVyIG11c3QgbWFrZSBzdXJlIHRoYXQgdGhlcmUgYXJlIG5vIG90aGVyIHByb2Nlc3Nlcwo+
ICAgKiBjdXJyZW50bHkgdmFsaWRhdGluZyBidWZmZXJzLCBhbmQgY2FuIGRvIHRoYXQgYnkgdGFr
aW5nIHRoZQo+IC0gKiBzdHJ1Y3QgdHRtX2JvX2RldmljZTo6dHRtX2xvY2sgaW4gd3JpdGUgbW9k
ZS4KPiArICogc3RydWN0IHR0bV9kZXZpY2U6OnR0bV9sb2NrIGluIHdyaXRlIG1vZGUuCj4gICAq
Cj4gICAqIFJldHVybnM6Cj4gICAqIC1FSU5WQUw6IEludmFsaWQgb3IgdW5pbml0aWFsaXplZCBt
ZW1vcnkgdHlwZS4KPiAgICogLUVSRVNUQVJUU1lTOiBUaGUgY2FsbCB3YXMgaW50ZXJydXB0ZWQg
YnkgYSBzaWduYWwgd2hpbGUgd2FpdGluZyB0bwo+ICAgKiBldmljdCBhIGJ1ZmZlci4KPiAgICov
Cj4gLWludCB0dG1fYm9fZXZpY3RfbW0oc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHVuc2ln
bmVkIG1lbV90eXBlKTsKPiAraW50IHR0bV9ib19ldmljdF9tbShzdHJ1Y3QgdHRtX2RldmljZSAq
YmRldiwgdW5zaWduZWQgbWVtX3R5cGUpOwo+Cj4gIC8qKgo+ICAgKiB0dG1fa21hcF9vYmpfdmly
dHVhbAo+IEBAIC01MjksMTggKzUyOSwxOCBAQCBpbnQgdHRtX2JvX21tYXBfb2JqKHN0cnVjdCB2
bV9hcmVhX3N0cnVjdCAqdm1hLCBzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvKTsKPiAgICoK
PiAgICogQGZpbHA6ICAgICAgZmlscCBhcyBpbnB1dCBmcm9tIHRoZSBtbWFwIG1ldGhvZC4KPiAg
ICogQHZtYTogICAgICAgdm1hIGFzIGlucHV0IGZyb20gdGhlIG1tYXAgbWV0aG9kLgo+IC0gKiBA
YmRldjogICAgICBQb2ludGVyIHRvIHRoZSB0dG1fYm9fZGV2aWNlIHdpdGggdGhlIGFkZHJlc3Mg
c3BhY2UgbWFuYWdlci4KPiArICogQGJkZXY6ICAgICAgUG9pbnRlciB0byB0aGUgdHRtX2Rldmlj
ZSB3aXRoIHRoZSBhZGRyZXNzIHNwYWNlIG1hbmFnZXIuCj4gICAqCj4gICAqIFRoaXMgZnVuY3Rp
b24gaXMgaW50ZW5kZWQgdG8gYmUgY2FsbGVkIGJ5IHRoZSBkZXZpY2UgbW1hcCBtZXRob2QuCj4g
ICAqIGlmIHRoZSBkZXZpY2UgYWRkcmVzcyBzcGFjZSBpcyB0byBiZSBiYWNrZWQgYnkgdGhlIGJv
IG1hbmFnZXIuCj4gICAqLwo+ICBpbnQgdHRtX2JvX21tYXAoc3RydWN0IGZpbGUgKmZpbHAsIHN0
cnVjdCB2bV9hcmVhX3N0cnVjdCAqdm1hLAo+IC0gICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX2Jv
X2RldmljZSAqYmRldik7Cj4gKyAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2
KTsKPgo+ICAvKioKPiAgICogdHRtX2JvX2lvCj4gICAqCj4gLSAqIEBiZGV2OiAgICAgIFBvaW50
ZXIgdG8gdGhlIHN0cnVjdCB0dG1fYm9fZGV2aWNlLgo+ICsgKiBAYmRldjogICAgICBQb2ludGVy
IHRvIHRoZSBzdHJ1Y3QgdHRtX2RldmljZS4KPiAgICogQGZpbHA6ICAgICAgUG9pbnRlciB0byB0
aGUgc3RydWN0IGZpbGUgYXR0ZW1wdGluZyB0byByZWFkIC8gd3JpdGUuCj4gICAqIEB3YnVmOiAg
ICAgIFVzZXItc3BhY2UgcG9pbnRlciB0byBhZGRyZXNzIG9mIGJ1ZmZlciB0byB3cml0ZS4gTlVM
TCBvbiByZWFkLgo+ICAgKiBAcmJ1ZjogICAgICBVc2VyLXNwYWNlIHBvaW50ZXIgdG8gYWRkcmVz
cyBvZiBidWZmZXIgdG8gcmVhZCBpbnRvLgo+IEBAIC01NTcsMTIgKzU1NywxMSBAQCBpbnQgdHRt
X2JvX21tYXAoc3RydWN0IGZpbGUgKmZpbHAsIHN0cnVjdCB2bV9hcmVhX3N0cnVjdCAqdm1hLAo+
ICAgKiB0aGUgZnVuY3Rpb24gbWF5IHJldHVybiAtRVJFU1RBUlRTWVMgaWYKPiAgICogaW50ZXJy
dXB0ZWQgYnkgYSBzaWduYWwuCj4gICAqLwo+IC1zc2l6ZV90IHR0bV9ib19pbyhzdHJ1Y3QgdHRt
X2JvX2RldmljZSAqYmRldiwgc3RydWN0IGZpbGUgKmZpbHAsCj4gK3NzaXplX3QgdHRtX2JvX2lv
KHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgZmlsZSAqZmlscCwKPiAgICAgICAgICAg
ICAgICAgICBjb25zdCBjaGFyIF9fdXNlciAqd2J1ZiwgY2hhciBfX3VzZXIgKnJidWYsCj4gICAg
ICAgICAgICAgICAgICAgc2l6ZV90IGNvdW50LCBsb2ZmX3QgKmZfcG9zLCBib29sIHdyaXRlKTsK
Pgo+IC1pbnQgdHRtX2JvX3N3YXBvdXQoc3RydWN0IHR0bV9ib19nbG9iYWwgKmdsb2IsCj4gLSAg
ICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHR0bV9vcGVyYXRpb25fY3R4ICpjdHgpOwo+ICtp
bnQgdHRtX2JvX3N3YXBvdXQoc3RydWN0IHR0bV9nbG9iYWwgKmdsb2IsIHN0cnVjdCB0dG1fb3Bl
cmF0aW9uX2N0eCAqY3R4KTsKPiAgdm9pZCB0dG1fYm9fc3dhcG91dF9hbGwodm9pZCk7Cj4KPiAg
LyoqCj4gQEAgLTYwOSw3ICs2MDgsNyBAQCBzdGF0aWMgaW5saW5lIHZvaWQgdHRtX2JvX3VucGlu
KHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8pCj4gICAgICAgICAtLWJvLT5waW5fY291bnQ7
Cj4gIH0KPgo+IC1pbnQgdHRtX21lbV9ldmljdF9maXJzdChzdHJ1Y3QgdHRtX2JvX2RldmljZSAq
YmRldiwKPiAraW50IHR0bV9tZW1fZXZpY3RfZmlyc3Qoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYs
Cj4gICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHR0bV9yZXNvdXJjZV9tYW5hZ2VyICpt
YW4sCj4gICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RydWN0IHR0bV9wbGFjZSAqcGxh
Y2UsCj4gICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHR0bV9vcGVyYXRpb25fY3R4ICpj
dHgsCj4gQEAgLTYzNCw1ICs2MzMsNiBAQCB2b2lkIHR0bV9ib192bV9jbG9zZShzdHJ1Y3Qgdm1f
YXJlYV9zdHJ1Y3QgKnZtYSk7Cj4KPiAgaW50IHR0bV9ib192bV9hY2Nlc3Moc3RydWN0IHZtX2Fy
ZWFfc3RydWN0ICp2bWEsIHVuc2lnbmVkIGxvbmcgYWRkciwKPiAgICAgICAgICAgICAgICAgICAg
ICB2b2lkICpidWYsIGludCBsZW4sIGludCB3cml0ZSk7Cj4gK2Jvb2wgdHRtX2JvX2RlbGF5ZWRf
ZGVsZXRlKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LCBib29sIHJlbW92ZV9hbGwpOwo+Cj4gICNl
bmRpZgo+IGRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS90dG0vdHRtX2JvX2RyaXZlci5oIGIvaW5j
bHVkZS9kcm0vdHRtL3R0bV9ib19kcml2ZXIuaAo+IGluZGV4IGEwMjhiNDE4YzZiNC4uNjM4MDFm
YTllOTkzIDEwMDY0NAo+IC0tLSBhL2luY2x1ZGUvZHJtL3R0bS90dG1fYm9fZHJpdmVyLmgKPiAr
KysgYi9pbmNsdWRlL2RybS90dG0vdHRtX2JvX2RyaXZlci5oCj4gQEAgLTM3LDMzMSArMzcsMTQg
QEAKPiAgI2luY2x1ZGUgPGxpbnV4L3NwaW5sb2NrLmg+Cj4gICNpbmNsdWRlIDxsaW51eC9kbWEt
cmVzdi5oPgo+Cj4gKyNpbmNsdWRlIDxkcm0vdHRtL3R0bV9kZXZpY2UuaD4KPiArCj4gICNpbmNs
dWRlICJ0dG1fYm9fYXBpLmgiCj4gICNpbmNsdWRlICJ0dG1fbWVtb3J5LmgiCj4gICNpbmNsdWRl
ICJ0dG1fbW9kdWxlLmgiCj4gICNpbmNsdWRlICJ0dG1fcGxhY2VtZW50LmgiCj4gICNpbmNsdWRl
ICJ0dG1fdHQuaCIKPgo+IC0vKioKPiAtICogc3RydWN0IHR0bV9ib19kcml2ZXIKPiAtICoKPiAt
ICogQGNyZWF0ZV90dG1fYmFja2VuZF9lbnRyeTogQ2FsbGJhY2sgdG8gY3JlYXRlIGEgc3RydWN0
IHR0bV9iYWNrZW5kLgo+IC0gKiBAZXZpY3RfZmxhZ3M6IENhbGxiYWNrIHRvIG9idGFpbiBwbGFj
ZW1lbnQgZmxhZ3Mgd2hlbiBhIGJ1ZmZlciBpcyBldmljdGVkLgo+IC0gKiBAbW92ZTogQ2FsbGJh
Y2sgZm9yIGEgZHJpdmVyIHRvIGhvb2sgaW4gYWNjZWxlcmF0ZWQgZnVuY3Rpb25zIHRvCj4gLSAq
IG1vdmUgYSBidWZmZXIuCj4gLSAqIElmIHNldCB0byBOVUxMLCBhIHBvdGVudGlhbGx5IHNsb3cg
bWVtY3B5KCkgbW92ZSBpcyB1c2VkLgo+IC0gKi8KPiAtCj4gLXN0cnVjdCB0dG1fYm9fZHJpdmVy
IHsKPiAtICAgICAgIC8qKgo+IC0gICAgICAgICogdHRtX3R0X2NyZWF0ZQo+IC0gICAgICAgICoK
PiAtICAgICAgICAqIEBibzogVGhlIGJ1ZmZlciBvYmplY3QgdG8gY3JlYXRlIHRoZSB0dG0gZm9y
Lgo+IC0gICAgICAgICogQHBhZ2VfZmxhZ3M6IFBhZ2UgZmxhZ3MgYXMgaWRlbnRpZmllZCBieSBU
VE1fUEFHRV9GTEFHX1hYIGZsYWdzLgo+IC0gICAgICAgICoKPiAtICAgICAgICAqIENyZWF0ZSBh
IHN0cnVjdCB0dG1fdHQgdG8gYmFjayBkYXRhIHdpdGggc3lzdGVtIG1lbW9yeSBwYWdlcy4KPiAt
ICAgICAgICAqIE5vIHBhZ2VzIGFyZSBhY3R1YWxseSBhbGxvY2F0ZWQuCj4gLSAgICAgICAgKiBS
ZXR1cm5zOgo+IC0gICAgICAgICogTlVMTDogT3V0IG9mIG1lbW9yeS4KPiAtICAgICAgICAqLwo+
IC0gICAgICAgc3RydWN0IHR0bV90dCAqKCp0dG1fdHRfY3JlYXRlKShzdHJ1Y3QgdHRtX2J1ZmZl
cl9vYmplY3QgKmJvLAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1
aW50MzJfdCBwYWdlX2ZsYWdzKTsKPiAtCj4gLSAgICAgICAvKioKPiAtICAgICAgICAqIHR0bV90
dF9wb3B1bGF0ZQo+IC0gICAgICAgICoKPiAtICAgICAgICAqIEB0dG06IFRoZSBzdHJ1Y3QgdHRt
X3R0IHRvIGNvbnRhaW4gdGhlIGJhY2tpbmcgcGFnZXMuCj4gLSAgICAgICAgKgo+IC0gICAgICAg
ICogQWxsb2NhdGUgYWxsIGJhY2tpbmcgcGFnZXMKPiAtICAgICAgICAqIFJldHVybnM6Cj4gLSAg
ICAgICAgKiAtRU5PTUVNOiBPdXQgb2YgbWVtb3J5Lgo+IC0gICAgICAgICovCj4gLSAgICAgICBp
bnQgKCp0dG1fdHRfcG9wdWxhdGUpKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+IC0gICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3R0ICp0dG0sCj4gLSAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fb3BlcmF0aW9uX2N0eCAqY3R4KTsKPiAt
Cj4gLSAgICAgICAvKioKPiAtICAgICAgICAqIHR0bV90dF91bnBvcHVsYXRlCj4gLSAgICAgICAg
Kgo+IC0gICAgICAgICogQHR0bTogVGhlIHN0cnVjdCB0dG1fdHQgdG8gY29udGFpbiB0aGUgYmFj
a2luZyBwYWdlcy4KPiAtICAgICAgICAqCj4gLSAgICAgICAgKiBGcmVlIGFsbCBiYWNraW5nIHBh
Z2UKPiAtICAgICAgICAqLwo+IC0gICAgICAgdm9pZCAoKnR0bV90dF91bnBvcHVsYXRlKShzdHJ1
Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV90dCAqdHRtKTsKPiAtCj4gLSAgICAg
ICAvKioKPiAtICAgICAgICAqIHR0bV90dF9iaW5kCj4gLSAgICAgICAgKgo+IC0gICAgICAgICog
QGJkZXY6IFBvaW50ZXIgdG8gYSB0dG0gZGV2aWNlCj4gLSAgICAgICAgKiBAdHRtOiBQb2ludGVy
IHRvIGEgc3RydWN0IHR0bV90dC4KPiAtICAgICAgICAqIEBib19tZW06IFBvaW50ZXIgdG8gYSBz
dHJ1Y3QgdHRtX3Jlc291cmNlIGRlc2NyaWJpbmcgdGhlCj4gLSAgICAgICAgKiBtZW1vcnkgdHlw
ZSBhbmQgbG9jYXRpb24gZm9yIGJpbmRpbmcuCj4gLSAgICAgICAgKgo+IC0gICAgICAgICogQmlu
ZCB0aGUgYmFja2VuZCBwYWdlcyBpbnRvIHRoZSBhcGVydHVyZSBpbiB0aGUgbG9jYXRpb24KPiAt
ICAgICAgICAqIGluZGljYXRlZCBieSBAYm9fbWVtLiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBiZSBh
YmxlIHRvIGhhbmRsZQo+IC0gICAgICAgICogZGlmZmVyZW5jZXMgYmV0d2VlbiBhcGVydHVyZSBh
bmQgc3lzdGVtIHBhZ2Ugc2l6ZXMuCj4gLSAgICAgICAgKi8KPiAtICAgICAgIGludCAoKnR0bV90
dF9iaW5kKShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV90dCAqdHRtLCBz
dHJ1Y3QgdHRtX3Jlc291cmNlICpib19tZW0pOwo+IC0KPiAtICAgICAgIC8qKgo+IC0gICAgICAg
ICogdHRtX3R0X3VuYmluZAo+IC0gICAgICAgICoKPiAtICAgICAgICAqIEBiZGV2OiBQb2ludGVy
IHRvIGEgdHRtIGRldmljZQo+IC0gICAgICAgICogQHR0bTogUG9pbnRlciB0byBhIHN0cnVjdCB0
dG1fdHQuCj4gLSAgICAgICAgKgo+IC0gICAgICAgICogVW5iaW5kIHByZXZpb3VzbHkgYm91bmQg
YmFja2VuZCBwYWdlcy4gVGhpcyBmdW5jdGlvbiBzaG91bGQgYmUKPiAtICAgICAgICAqIGFibGUg
dG8gaGFuZGxlIGRpZmZlcmVuY2VzIGJldHdlZW4gYXBlcnR1cmUgYW5kIHN5c3RlbSBwYWdlIHNp
emVzLgo+IC0gICAgICAgICovCj4gLSAgICAgICB2b2lkICgqdHRtX3R0X3VuYmluZCkoc3RydWN0
IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSk7Cj4gLQo+IC0gICAgICAg
LyoqCj4gLSAgICAgICAgKiB0dG1fdHRfZGVzdHJveQo+IC0gICAgICAgICoKPiAtICAgICAgICAq
IEBiZGV2OiBQb2ludGVyIHRvIGEgdHRtIGRldmljZQo+IC0gICAgICAgICogQHR0bTogUG9pbnRl
ciB0byBhIHN0cnVjdCB0dG1fdHQuCj4gLSAgICAgICAgKgo+IC0gICAgICAgICogRGVzdHJveSB0
aGUgYmFja2VuZC4gVGhpcyB3aWxsIGJlIGNhbGwgYmFjayBmcm9tIHR0bV90dF9kZXN0cm95IHNv
Cj4gLSAgICAgICAgKiBkb24ndCBjYWxsIHR0bV90dF9kZXN0cm95IGZyb20gdGhlIGNhbGxiYWNr
IG9yIGluZmluaXRlIGxvb3AuCj4gLSAgICAgICAgKi8KPiAtICAgICAgIHZvaWQgKCp0dG1fdHRf
ZGVzdHJveSkoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSk7
Cj4gLQo+IC0gICAgICAgLyoqCj4gLSAgICAgICAgKiBzdHJ1Y3QgdHRtX2JvX2RyaXZlciBtZW1i
ZXIgZXZpY3Rpb25fdmFsdWFibGUKPiAtICAgICAgICAqCj4gLSAgICAgICAgKiBAYm86IHRoZSBi
dWZmZXIgb2JqZWN0IHRvIGJlIGV2aWN0ZWQKPiAtICAgICAgICAqIEBwbGFjZTogcGxhY2VtZW50
IHdlIG5lZWQgcm9vbSBmb3IKPiAtICAgICAgICAqCj4gLSAgICAgICAgKiBDaGVjayB3aXRoIHRo
ZSBkcml2ZXIgaWYgaXQgaXMgdmFsdWFibGUgdG8gZXZpY3QgYSBCTyB0byBtYWtlIHJvb20KPiAt
ICAgICAgICAqIGZvciBhIGNlcnRhaW4gcGxhY2VtZW50Lgo+IC0gICAgICAgICovCj4gLSAgICAg
ICBib29sICgqZXZpY3Rpb25fdmFsdWFibGUpKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8s
Cj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cnVjdCB0dG1fcGxh
Y2UgKnBsYWNlKTsKPiAtICAgICAgIC8qKgo+IC0gICAgICAgICogc3RydWN0IHR0bV9ib19kcml2
ZXIgbWVtYmVyIGV2aWN0X2ZsYWdzOgo+IC0gICAgICAgICoKPiAtICAgICAgICAqIEBibzogdGhl
IGJ1ZmZlciBvYmplY3QgdG8gYmUgZXZpY3RlZAo+IC0gICAgICAgICoKPiAtICAgICAgICAqIFJl
dHVybiB0aGUgYm8gZmxhZ3MgZm9yIGEgYnVmZmVyIHdoaWNoIGlzIG5vdCBtYXBwZWQgdG8gdGhl
IGhhcmR3YXJlLgo+IC0gICAgICAgICogVGhlc2Ugd2lsbCBiZSBwbGFjZWQgaW4gcHJvcG9zZWRf
ZmxhZ3Mgc28gdGhhdCB3aGVuIHRoZSBtb3ZlIGlzCj4gLSAgICAgICAgKiBmaW5pc2hlZCwgdGhl
eSdsbCBlbmQgdXAgaW4gYm8tPm1lbS5mbGFncwo+IC0gICAgICAgICovCj4gLQo+IC0gICAgICAg
dm9pZCAoKmV2aWN0X2ZsYWdzKShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+IC0gICAg
ICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3BsYWNlbWVudCAqcGxhY2VtZW50KTsK
PiAtCj4gLSAgICAgICAvKioKPiAtICAgICAgICAqIHN0cnVjdCB0dG1fYm9fZHJpdmVyIG1lbWJl
ciBtb3ZlOgo+IC0gICAgICAgICoKPiAtICAgICAgICAqIEBibzogdGhlIGJ1ZmZlciB0byBtb3Zl
Cj4gLSAgICAgICAgKiBAZXZpY3Q6IHdoZXRoZXIgdGhpcyBtb3Rpb24gaXMgZXZpY3RpbmcgdGhl
IGJ1ZmZlciBmcm9tCj4gLSAgICAgICAgKiB0aGUgZ3JhcGhpY3MgYWRkcmVzcyBzcGFjZQo+IC0g
ICAgICAgICogQGN0eDogY29udGV4dCBmb3IgdGhpcyBtb3ZlIHdpdGggcGFyYW1ldGVycwo+IC0g
ICAgICAgICogQG5ld19tZW06IHRoZSBuZXcgbWVtb3J5IHJlZ2lvbiByZWNlaXZpbmcgdGhlIGJ1
ZmZlcgo+IC0gICAgICAgICoKPiAtICAgICAgICAqIE1vdmUgYSBidWZmZXIgYmV0d2VlbiB0d28g
bWVtb3J5IHJlZ2lvbnMuCj4gLSAgICAgICAgKi8KPiAtICAgICAgIGludCAoKm1vdmUpKHN0cnVj
dCB0dG1fYnVmZmVyX29iamVjdCAqYm8sIGJvb2wgZXZpY3QsCj4gLSAgICAgICAgICAgICAgICAg
ICBzdHJ1Y3QgdHRtX29wZXJhdGlvbl9jdHggKmN0eCwKPiAtICAgICAgICAgICAgICAgICAgIHN0
cnVjdCB0dG1fcmVzb3VyY2UgKm5ld19tZW0pOwo+IC0KPiAtICAgICAgIC8qKgo+IC0gICAgICAg
ICogc3RydWN0IHR0bV9ib19kcml2ZXJfbWVtYmVyIHZlcmlmeV9hY2Nlc3MKPiAtICAgICAgICAq
Cj4gLSAgICAgICAgKiBAYm86IFBvaW50ZXIgdG8gYSBidWZmZXIgb2JqZWN0Lgo+IC0gICAgICAg
ICogQGZpbHA6IFBvaW50ZXIgdG8gYSBzdHJ1Y3QgZmlsZSB0cnlpbmcgdG8gYWNjZXNzIHRoZSBv
YmplY3QuCj4gLSAgICAgICAgKgo+IC0gICAgICAgICogQ2FsbGVkIGZyb20gdGhlIG1hcCAvIHdy
aXRlIC8gcmVhZCBtZXRob2RzIHRvIHZlcmlmeSB0aGF0IHRoZQo+IC0gICAgICAgICogY2FsbGVy
IGlzIHBlcm1pdHRlZCB0byBhY2Nlc3MgdGhlIGJ1ZmZlciBvYmplY3QuCj4gLSAgICAgICAgKiBU
aGlzIG1lbWJlciBtYXkgYmUgc2V0IHRvIE5VTEwsIHdoaWNoIHdpbGwgcmVmdXNlIHRoaXMga2lu
ZCBvZgo+IC0gICAgICAgICogYWNjZXNzIGZvciBhbGwgYnVmZmVyIG9iamVjdHMuCj4gLSAgICAg
ICAgKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gMCBpZiBhY2Nlc3MgaXMgZ3JhbnRlZCwg
LUVQRVJNIG90aGVyd2lzZS4KPiAtICAgICAgICAqLwo+IC0gICAgICAgaW50ICgqdmVyaWZ5X2Fj
Y2Vzcykoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAtICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHN0cnVjdCBmaWxlICpmaWxwKTsKPiAtCj4gLSAgICAgICAvKioKPiAtICAgICAg
ICAqIEhvb2sgdG8gbm90aWZ5IGRyaXZlciBhYm91dCBhIGRyaXZlciBtb3ZlIHNvIGl0Cj4gLSAg
ICAgICAgKiBjYW4gZG8gdGlsaW5nIHRoaW5ncyBhbmQgYm9vay1rZWVwaW5nLgo+IC0gICAgICAg
ICoKPiAtICAgICAgICAqIEBldmljdDogd2hldGhlciB0aGlzIG1vdmUgaXMgZXZpY3RpbmcgdGhl
IGJ1ZmZlciBmcm9tIHRoZSBncmFwaGljcwo+IC0gICAgICAgICogYWRkcmVzcyBzcGFjZQo+IC0g
ICAgICAgICovCj4gLSAgICAgICB2b2lkICgqbW92ZV9ub3RpZnkpKHN0cnVjdCB0dG1fYnVmZmVy
X29iamVjdCAqYm8sCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb2wgZXZpY3QsCj4g
LSAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2UgKm5ld19tZW0p
Owo+IC0KPiAtICAgICAgIC8qKgo+IC0gICAgICAgICogbm90aWZ5IHRoZSBkcml2ZXIgdGhhdCB3
ZSdyZSBhYm91dCB0byBzd2FwIG91dCB0aGlzIGJvCj4gLSAgICAgICAgKi8KPiAtICAgICAgIHZv
aWQgKCpzd2FwX25vdGlmeSkoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibyk7Cj4gLQo+IC0g
ICAgICAgLyoqCj4gLSAgICAgICAgKiBEcml2ZXIgY2FsbGJhY2sgb24gd2hlbiBtYXBwaW5nIGlv
IG1lbW9yeSAoZm9yIGJvX21vdmVfbWVtY3B5Cj4gLSAgICAgICAgKiBmb3IgaW5zdGFuY2UpLiBU
VE0gd2lsbCB0YWtlIGNhcmUgdG8gY2FsbCBpb19tZW1fZnJlZSB3aGVuZXZlcgo+IC0gICAgICAg
ICogdGhlIG1hcHBpbmcgaXMgbm90IHVzZSBhbnltb3JlLiBpb19tZW1fcmVzZXJ2ZSAmIGlvX21l
bV9mcmVlCj4gLSAgICAgICAgKiBhcmUgYmFsYW5jZWQuCj4gLSAgICAgICAgKi8KPiAtICAgICAg
IGludCAoKmlvX21lbV9yZXNlcnZlKShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiAtICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3Jlc291cmNlICptZW0pOwo+IC0g
ICAgICAgdm9pZCAoKmlvX21lbV9mcmVlKShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiAt
ICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHR0bV9yZXNvdXJjZSAqbWVtKTsKPiAt
Cj4gLSAgICAgICAvKioKPiAtICAgICAgICAqIFJldHVybiB0aGUgcGZuIGZvciBhIGdpdmVuIHBh
Z2Vfb2Zmc2V0IGluc2lkZSB0aGUgQk8uCj4gLSAgICAgICAgKgo+IC0gICAgICAgICogQGJvOiB0
aGUgQk8gdG8gbG9vayB1cCB0aGUgcGZuIGZvcgo+IC0gICAgICAgICogQHBhZ2Vfb2Zmc2V0OiB0
aGUgb2Zmc2V0IHRvIGxvb2sgdXAKPiAtICAgICAgICAqLwo+IC0gICAgICAgdW5zaWduZWQgbG9u
ZyAoKmlvX21lbV9wZm4pKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCj4gLSAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgbG9uZyBwYWdlX29mZnNldCk7Cj4g
LQo+IC0gICAgICAgLyoqCj4gLSAgICAgICAgKiBSZWFkL3dyaXRlIG1lbW9yeSBidWZmZXJzIGZv
ciBwdHJhY2UgYWNjZXNzCj4gLSAgICAgICAgKgo+IC0gICAgICAgICogQGJvOiB0aGUgQk8gdG8g
YWNjZXNzCj4gLSAgICAgICAgKiBAb2Zmc2V0OiB0aGUgb2Zmc2V0IGZyb20gdGhlIHN0YXJ0IG9m
IHRoZSBCTwo+IC0gICAgICAgICogQGJ1ZjogcG9pbnRlciB0byBzb3VyY2UvZGVzdGluYXRpb24g
YnVmZmVyCj4gLSAgICAgICAgKiBAbGVuOiBudW1iZXIgb2YgYnl0ZXMgdG8gY29weQo+IC0gICAg
ICAgICogQHdyaXRlOiB3aGV0aGVyIHRvIHJlYWQgKDApIGZyb20gb3Igd3JpdGUgKG5vbi0wKSB0
byBCTwo+IC0gICAgICAgICoKPiAtICAgICAgICAqIElmIHN1Y2Nlc3NmdWwsIHRoaXMgZnVuY3Rp
b24gc2hvdWxkIHJldHVybiB0aGUgbnVtYmVyIG9mCj4gLSAgICAgICAgKiBieXRlcyBjb3BpZWQs
IC1FSU8gb3RoZXJ3aXNlLiBJZiB0aGUgbnVtYmVyIG9mIGJ5dGVzCj4gLSAgICAgICAgKiByZXR1
cm5lZCBpcyA8IGxlbiwgdGhlIGZ1bmN0aW9uIG1heSBiZSBjYWxsZWQgYWdhaW4gd2l0aAo+IC0g
ICAgICAgICogdGhlIHJlbWFpbmRlciBvZiB0aGUgYnVmZmVyIHRvIGNvcHkuCj4gLSAgICAgICAg
Ki8KPiAtICAgICAgIGludCAoKmFjY2Vzc19tZW1vcnkpKHN0cnVjdCB0dG1fYnVmZmVyX29iamVj
dCAqYm8sIHVuc2lnbmVkIGxvbmcgb2Zmc2V0LAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAg
ICAgdm9pZCAqYnVmLCBpbnQgbGVuLCBpbnQgd3JpdGUpOwo+IC0KPiAtICAgICAgIC8qKgo+IC0g
ICAgICAgICogc3RydWN0IHR0bV9ib19kcml2ZXIgbWVtYmVyIGRlbF9mcm9tX2xydV9ub3RpZnkK
PiAtICAgICAgICAqCj4gLSAgICAgICAgKiBAYm86IHRoZSBidWZmZXIgb2JqZWN0IGRlbGV0ZWQg
ZnJvbSBscnUKPiAtICAgICAgICAqCj4gLSAgICAgICAgKiBub3RpZnkgZHJpdmVyIHRoYXQgYSBC
TyB3YXMgZGVsZXRlZCBmcm9tIExSVS4KPiAtICAgICAgICAqLwo+IC0gICAgICAgdm9pZCAoKmRl
bF9mcm9tX2xydV9ub3RpZnkpKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8pOwo+IC0KPiAt
ICAgICAgIC8qKgo+IC0gICAgICAgICogTm90aWZ5IHRoZSBkcml2ZXIgdGhhdCB3ZSdyZSBhYm91
dCB0byByZWxlYXNlIGEgQk8KPiAtICAgICAgICAqCj4gLSAgICAgICAgKiBAYm86IEJPIHRoYXQg
aXMgYWJvdXQgdG8gYmUgcmVsZWFzZWQKPiAtICAgICAgICAqCj4gLSAgICAgICAgKiBHaXZlcyB0
aGUgZHJpdmVyIGEgY2hhbmNlIHRvIGRvIGFueSBjbGVhbnVwLCBpbmNsdWRpbmcKPiAtICAgICAg
ICAqIGFkZGluZyBmZW5jZXMgdGhhdCBtYXkgZm9yY2UgYSBkZWxheWVkIGRlbGV0ZQo+IC0gICAg
ICAgICovCj4gLSAgICAgICB2b2lkICgqcmVsZWFzZV9ub3RpZnkpKHN0cnVjdCB0dG1fYnVmZmVy
X29iamVjdCAqYm8pOwo+IC19Owo+IC0KPiAtLyoqCj4gLSAqIHN0cnVjdCB0dG1fYm9fZ2xvYmFs
IC0gQnVmZmVyIG9iamVjdCBkcml2ZXIgZ2xvYmFsIGRhdGEuCj4gLSAqCj4gLSAqIEBkdW1teV9y
ZWFkX3BhZ2U6IFBvaW50ZXIgdG8gYSBkdW1teSBwYWdlIHVzZWQgZm9yIG1hcHBpbmcgcmVxdWVz
dHMKPiAtICogb2YgdW5wb3B1bGF0ZWQgcGFnZXMuCj4gLSAqIEBzaHJpbms6IEEgc2hyaW5rIGNh
bGxiYWNrIG9iamVjdCB1c2VkIGZvciBidWZmZXIgb2JqZWN0IHN3YXAuCj4gLSAqIEBkZXZpY2Vf
bGlzdF9tdXRleDogTXV0ZXggcHJvdGVjdGluZyB0aGUgZGV2aWNlIGxpc3QuCj4gLSAqIFRoaXMg
bXV0ZXggaXMgaGVsZCB3aGlsZSB0cmF2ZXJzaW5nIHRoZSBkZXZpY2UgbGlzdCBmb3IgcG0gb3B0
aW9ucy4KPiAtICogQGxydV9sb2NrOiBTcGlubG9jayBwcm90ZWN0aW5nIHRoZSBibyBzdWJzeXN0
ZW0gbHJ1IGxpc3RzLgo+IC0gKiBAZGV2aWNlX2xpc3Q6IExpc3Qgb2YgYnVmZmVyIG9iamVjdCBk
ZXZpY2VzLgo+IC0gKiBAc3dhcF9scnU6IExydSBsaXN0IG9mIGJ1ZmZlciBvYmplY3RzIHVzZWQg
Zm9yIHN3YXBwaW5nLgo+IC0gKi8KPiAtCj4gLWV4dGVybiBzdHJ1Y3QgdHRtX2JvX2dsb2JhbCB7
Cj4gLQo+IC0gICAgICAgLyoqCj4gLSAgICAgICAgKiBDb25zdGFudCBhZnRlciBpbml0Lgo+IC0g
ICAgICAgICovCj4gLQo+IC0gICAgICAgc3RydWN0IGtvYmplY3Qga29iajsKPiAtICAgICAgIHN0
cnVjdCBwYWdlICpkdW1teV9yZWFkX3BhZ2U7Cj4gLSAgICAgICBzcGlubG9ja190IGxydV9sb2Nr
Owo+IC0KPiAtICAgICAgIC8qKgo+IC0gICAgICAgICogUHJvdGVjdGVkIGJ5IHR0bV9nbG9iYWxf
bXV0ZXguCj4gLSAgICAgICAgKi8KPiAtICAgICAgIHN0cnVjdCBsaXN0X2hlYWQgZGV2aWNlX2xp
c3Q7Cj4gLQo+IC0gICAgICAgLyoqCj4gLSAgICAgICAgKiBQcm90ZWN0ZWQgYnkgdGhlIGxydV9s
b2NrLgo+IC0gICAgICAgICovCj4gLSAgICAgICBzdHJ1Y3QgbGlzdF9oZWFkIHN3YXBfbHJ1W1RU
TV9NQVhfQk9fUFJJT1JJVFldOwo+IC0KPiAtICAgICAgIC8qKgo+IC0gICAgICAgICogSW50ZXJu
YWwgcHJvdGVjdGlvbi4KPiAtICAgICAgICAqLwo+IC0gICAgICAgYXRvbWljX3QgYm9fY291bnQ7
Cj4gLX0gdHRtX2JvX2dsb2I7Cj4gLQo+IC0KPiAtI2RlZmluZSBUVE1fTlVNX01FTV9UWVBFUyA4
Cj4gLQo+IC0vKioKPiAtICogc3RydWN0IHR0bV9ib19kZXZpY2UgLSBCdWZmZXIgb2JqZWN0IGRy
aXZlciBkZXZpY2Utc3BlY2lmaWMgZGF0YS4KPiAtICoKPiAtICogQGRyaXZlcjogUG9pbnRlciB0
byBhIHN0cnVjdCB0dG1fYm9fZHJpdmVyIHN0cnVjdCBzZXR1cCBieSB0aGUgZHJpdmVyLgo+IC0g
KiBAbWFuOiBBbiBhcnJheSBvZiByZXNvdXJjZV9tYW5hZ2Vycy4KPiAtICogQHZtYV9tYW5hZ2Vy
OiBBZGRyZXNzIHNwYWNlIG1hbmFnZXIgKHBvaW50ZXIpCj4gLSAqIGxydV9sb2NrOiBTcGlubG9j
ayB0aGF0IHByb3RlY3RzIHRoZSBidWZmZXIrZGV2aWNlIGxydSBsaXN0cyBhbmQKPiAtICogZGRl
c3Ryb3kgbGlzdHMuCj4gLSAqIEBkZXZfbWFwcGluZzogQSBwb2ludGVyIHRvIHRoZSBzdHJ1Y3Qg
YWRkcmVzc19zcGFjZSByZXByZXNlbnRpbmcgdGhlCj4gLSAqIGRldmljZSBhZGRyZXNzIHNwYWNl
Lgo+IC0gKiBAd3E6IFdvcmsgcXVldWUgc3RydWN0dXJlIGZvciB0aGUgZGVsYXllZCBkZWxldGUg
d29ya3F1ZXVlLgo+IC0gKiBAbm9fcmV0cnk6IERvbid0IHJldHJ5IGFsbG9jYXRpb24gaWYgaXQg
ZmFpbHMKPiAtICoKPiAtICovCj4gLQo+IC1zdHJ1Y3QgdHRtX2JvX2RldmljZSB7Cj4gLQo+IC0g
ICAgICAgLyoKPiAtICAgICAgICAqIENvbnN0YW50IGFmdGVyIGJvIGRldmljZSBpbml0IC8gYXRv
bWljLgo+IC0gICAgICAgICovCj4gLSAgICAgICBzdHJ1Y3QgbGlzdF9oZWFkIGRldmljZV9saXN0
Owo+IC0gICAgICAgc3RydWN0IHR0bV9ib19kcml2ZXIgKmRyaXZlcjsKPiAtICAgICAgIC8qCj4g
LSAgICAgICAgKiBhY2Nlc3MgdmlhIHR0bV9tYW5hZ2VyX3R5cGUuCj4gLSAgICAgICAgKi8KPiAt
ICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdlciBzeXNtYW47Cj4gLSAgICAgICBzdHJ1
Y3QgdHRtX3Jlc291cmNlX21hbmFnZXIgKm1hbl9kcnZbVFRNX05VTV9NRU1fVFlQRVNdOwo+IC0g
ICAgICAgLyoKPiAtICAgICAgICAqIFByb3RlY3RlZCBieSBpbnRlcm5hbCBsb2Nrcy4KPiAtICAg
ICAgICAqLwo+IC0gICAgICAgc3RydWN0IGRybV92bWFfb2Zmc2V0X21hbmFnZXIgKnZtYV9tYW5h
Z2VyOwo+IC0KPiAtICAgICAgIC8qCj4gLSAgICAgICAgKiBQcm90ZWN0ZWQgYnkgdGhlIGdsb2Jh
bDpscnUgbG9jay4KPiAtICAgICAgICAqLwo+IC0gICAgICAgc3RydWN0IGxpc3RfaGVhZCBkZGVz
dHJveTsKPiAtCj4gLSAgICAgICAvKgo+IC0gICAgICAgICogUHJvdGVjdGVkIGJ5IGxvYWQgLyBm
aXJzdG9wZW4gLyBsYXN0Y2xvc2UgL3VubG9hZCBzeW5jLgo+IC0gICAgICAgICovCj4gLQo+IC0g
ICAgICAgc3RydWN0IGFkZHJlc3Nfc3BhY2UgKmRldl9tYXBwaW5nOwo+IC0KPiAtICAgICAgIC8q
Cj4gLSAgICAgICAgKiBJbnRlcm5hbCBwcm90ZWN0aW9uLgo+IC0gICAgICAgICovCj4gLQo+IC0g
ICAgICAgc3RydWN0IGRlbGF5ZWRfd29yayB3cTsKPiAtCj4gLSAgICAgICBib29sIG5lZWRfZG1h
MzI7Cj4gLQo+IC0gICAgICAgYm9vbCBub19yZXRyeTsKPiAtfTsKPiAtCj4gLXN0YXRpYyBpbmxp
bmUgc3RydWN0IHR0bV9yZXNvdXJjZV9tYW5hZ2VyICp0dG1fbWFuYWdlcl90eXBlKHN0cnVjdCB0
dG1fYm9fZGV2aWNlICpiZGV2LAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGludCBtZW1fdHlwZSkKPiAtewo+IC0gICAgICAgcmV0
dXJuIGJkZXYtPm1hbl9kcnZbbWVtX3R5cGVdOwo+IC19Cj4gLQo+IC1zdGF0aWMgaW5saW5lIHZv
aWQgdHRtX3NldF9kcml2ZXJfbWFuYWdlcihzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiAt
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnQgdHlwZSwKPiAtICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3Jlc291cmNl
X21hbmFnZXIgKm1hbmFnZXIpCj4gLXsKPiAtICAgICAgIGJkZXYtPm1hbl9kcnZbdHlwZV0gPSBt
YW5hZ2VyOwo+IC19Cj4gLQo+ICAvKioKPiAgICogc3RydWN0IHR0bV9scnVfYnVsa19tb3ZlX3Bv
cwo+ICAgKgo+IEBAIC00MTgsMzAgKzEwMSw2IEBAIGludCB0dG1fYm9fbWVtX3NwYWNlKHN0cnVj
dCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCj4gICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHR0
bV9yZXNvdXJjZSAqbWVtLAo+ICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fb3BlcmF0
aW9uX2N0eCAqY3R4KTsKPgo+IC1pbnQgdHRtX2JvX2RldmljZV9yZWxlYXNlKHN0cnVjdCB0dG1f
Ym9fZGV2aWNlICpiZGV2KTsKPiAtCj4gLS8qKgo+IC0gKiB0dG1fYm9fZGV2aWNlX2luaXQKPiAt
ICoKPiAtICogQGJkZXY6IEEgcG9pbnRlciB0byBhIHN0cnVjdCB0dG1fYm9fZGV2aWNlIHRvIGlu
aXRpYWxpemUuCj4gLSAqIEBnbG9iOiBBIHBvaW50ZXIgdG8gYW4gaW5pdGlhbGl6ZWQgc3RydWN0
IHR0bV9ib19nbG9iYWwuCj4gLSAqIEBkcml2ZXI6IEEgcG9pbnRlciB0byBhIHN0cnVjdCB0dG1f
Ym9fZHJpdmVyIHNldCB1cCBieSB0aGUgY2FsbGVyLgo+IC0gKiBAbWFwcGluZzogVGhlIGFkZHJl
c3Mgc3BhY2UgdG8gdXNlIGZvciB0aGlzIGJvLgo+IC0gKiBAdm1hX21hbmFnZXI6IEEgcG9pbnRl
ciB0byBhIHZtYSBtYW5hZ2VyLgo+IC0gKiBAZmlsZV9wYWdlX29mZnNldDogT2Zmc2V0IGludG8g
dGhlIGRldmljZSBhZGRyZXNzIHNwYWNlIHRoYXQgaXMgYXZhaWxhYmxlCj4gLSAqIGZvciBidWZm
ZXIgZGF0YS4gVGhpcyBlbnN1cmVzIGNvbXBhdGliaWxpdHkgd2l0aCBvdGhlciB1c2VycyBvZiB0
aGUKPiAtICogYWRkcmVzcyBzcGFjZS4KPiAtICoKPiAtICogSW5pdGlhbGl6ZXMgYSBzdHJ1Y3Qg
dHRtX2JvX2RldmljZToKPiAtICogUmV0dXJuczoKPiAtICogITA6IEZhaWx1cmUuCj4gLSAqLwo+
IC1pbnQgdHRtX2JvX2RldmljZV9pbml0KHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+IC0g
ICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHR0bV9ib19kcml2ZXIgKmRyaXZlciwKPiAtICAg
ICAgICAgICAgICAgICAgICAgIHN0cnVjdCBhZGRyZXNzX3NwYWNlICptYXBwaW5nLAo+IC0gICAg
ICAgICAgICAgICAgICAgICAgc3RydWN0IGRybV92bWFfb2Zmc2V0X21hbmFnZXIgKnZtYV9tYW5h
Z2VyLAo+IC0gICAgICAgICAgICAgICAgICAgICAgYm9vbCBuZWVkX2RtYTMyKTsKPiAtCj4gIC8q
Kgo+ICAgKiB0dG1fYm9fdW5tYXBfdmlydHVhbAo+ICAgKgo+IEBAIC01MzEsOSArMTkwLDkgQEAg
c3RhdGljIGlubGluZSBpbnQgdHRtX2JvX3Jlc2VydmVfc2xvd3BhdGgoc3RydWN0IHR0bV9idWZm
ZXJfb2JqZWN0ICpibywKPgo+ICBzdGF0aWMgaW5saW5lIHZvaWQgdHRtX2JvX21vdmVfdG9fbHJ1
X3RhaWxfdW5sb2NrZWQoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibykKPiAgewo+IC0gICAg
ICAgc3Bpbl9sb2NrKCZ0dG1fYm9fZ2xvYi5scnVfbG9jayk7Cj4gKyAgICAgICBzcGluX2xvY2so
JnR0bV9nbG9iLmxydV9sb2NrKTsKPiAgICAgICAgIHR0bV9ib19tb3ZlX3RvX2xydV90YWlsKGJv
LCBOVUxMKTsKPiAtICAgICAgIHNwaW5fdW5sb2NrKCZ0dG1fYm9fZ2xvYi5scnVfbG9jayk7Cj4g
KyAgICAgICBzcGluX3VubG9jaygmdHRtX2dsb2IubHJ1X2xvY2spOwo+ICB9Cj4KPiAgc3RhdGlj
IGlubGluZSB2b2lkIHR0bV9ib19hc3NpZ25fbWVtKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAq
Ym8sCj4gQEAgLTU3Niw5ICsyMzUsOSBAQCBzdGF0aWMgaW5saW5lIHZvaWQgdHRtX2JvX3VucmVz
ZXJ2ZShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvKQo+ICAgKiB0dG1fYm9fdXRpbC5jCj4g
ICAqLwo+Cj4gLWludCB0dG1fbWVtX2lvX3Jlc2VydmUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJk
ZXYsCj4gK2ludCB0dG1fbWVtX2lvX3Jlc2VydmUoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4g
ICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3Jlc291cmNlICptZW0pOwo+IC12b2lk
IHR0bV9tZW1faW9fZnJlZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiArdm9pZCB0dG1f
bWVtX2lvX2ZyZWUoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4gICAgICAgICAgICAgICAgICAg
ICAgc3RydWN0IHR0bV9yZXNvdXJjZSAqbWVtKTsKPiAgLyoqCj4gICAqIHR0bV9ib19tb3ZlX3R0
bQo+IEBAIC03MDYsNyArMzY1LDcgQEAgdm9pZCB0dG1fYm9fdHRfZGVzdHJveShzdHJ1Y3QgdHRt
X2J1ZmZlcl9vYmplY3QgKmJvKTsKPiAgICogSW5pdGlhbGlzZSBhIGdlbmVyaWMgcmFuZ2UgbWFu
YWdlciBmb3IgdGhlIHNlbGVjdGVkIG1lbW9yeSB0eXBlLgo+ICAgKiBUaGUgcmFuZ2UgbWFuYWdl
ciBpcyBpbnN0YWxsZWQgZm9yIHRoaXMgZGV2aWNlIGluIHRoZSB0eXBlIHNsb3QuCj4gICAqLwo+
IC1pbnQgdHRtX3JhbmdlX21hbl9pbml0KHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICtp
bnQgdHRtX3JhbmdlX21hbl9pbml0KHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LAo+ICAgICAgICAg
ICAgICAgICAgICAgICAgdW5zaWduZWQgdHlwZSwgYm9vbCB1c2VfdHQsCj4gICAgICAgICAgICAg
ICAgICAgICAgICB1bnNpZ25lZCBsb25nIHBfc2l6ZSk7Cj4KPiBAQCAtNzE4LDcgKzM3Nyw3IEBA
IGludCB0dG1fcmFuZ2VfbWFuX2luaXQoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gICAq
Cj4gICAqIFJlbW92ZSB0aGUgZ2VuZXJpYyByYW5nZSBtYW5hZ2VyIGZyb20gYSBzbG90IGFuZCB0
ZWFyIGl0IGRvd24uCj4gICAqLwo+IC1pbnQgdHRtX3JhbmdlX21hbl9maW5pKHN0cnVjdCB0dG1f
Ym9fZGV2aWNlICpiZGV2LAo+ICtpbnQgdHRtX3JhbmdlX21hbl9maW5pKHN0cnVjdCB0dG1fZGV2
aWNlICpiZGV2LAo+ICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgdHlwZSk7Cj4KPiAg
I2VuZGlmCj4gZGlmZiAtLWdpdCBhL2luY2x1ZGUvZHJtL3R0bS90dG1fZGV2aWNlLmggYi9pbmNs
dWRlL2RybS90dG0vdHRtX2RldmljZS5oCj4gbmV3IGZpbGUgbW9kZSAxMDA2NDQKPiBpbmRleCAw
MDAwMDAwMDAwMDAuLjc1ZmVkZDM3OGU4Zgo+IC0tLSAvZGV2L251bGwKPiArKysgYi9pbmNsdWRl
L2RybS90dG0vdHRtX2RldmljZS5oCj4gQEAgLTAsMCArMSwzNjYgQEAKPiArLyoKPiArICogQ29w
eXJpZ2h0IDIwMjAgQWR2YW5jZWQgTWljcm8gRGV2aWNlcywgSW5jLgo+ICsgKgo+ICsgKiBQZXJt
aXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBv
YnRhaW5pbmcgYQo+ICsgKiBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9j
dW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLAo+ICsgKiB0byBkZWFsIGluIHRoZSBT
b2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9u
Cj4gKyAqIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBk
aXN0cmlidXRlLCBzdWJsaWNlbnNlLAo+ICsgKiBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNv
ZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUKPiArICogU29mdHdhcmUg
aXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9u
czoKPiArICoKPiArICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlz
c2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4KPiArICogYWxsIGNvcGllcyBvciBzdWJz
dGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuCj4gKyAqCj4gKyAqIFRIRSBTT0ZUV0FS
RSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBS
RVNTIE9SCj4gKyAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdB
UlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLAo+ICsgKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VM
QVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiAgSU4gTk8gRVZFTlQgU0hBTEwKPiArICog
VEhFIENPUFlSSUdIVCBIT0xERVIoUykgT1IgQVVUSE9SKFMpIEJFIExJQUJMRSBGT1IgQU5ZIENM
QUlNLCBEQU1BR0VTIE9SCj4gKyAqIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJ
T04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLAo+ICsgKiBBUklTSU5HIEZST00sIE9V
VCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IKPiAr
ICogT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLgo+ICsgKgo+ICsgKiBBdXRob3JzOiBD
aHJpc3RpYW4gS8O2bmlnCj4gKyAqLwo+ICsKPiArI2lmbmRlZiBfVFRNX0RFVklDRV9IXwo+ICsj
ZGVmaW5lIF9UVE1fREVWSUNFX0hfCj4gKwo+ICsjaW5jbHVkZSA8bGludXgvdHlwZXMuaD4KPiAr
I2luY2x1ZGUgPGxpbnV4L3dvcmtxdWV1ZS5oPgo+ICsjaW5jbHVkZSA8ZHJtL3R0bS90dG1fcmVz
b3VyY2UuaD4KPiArCj4gKyNkZWZpbmUgVFRNX05VTV9NRU1fVFlQRVMgOAo+ICsKPiArc3RydWN0
IHR0bV9kZXZpY2U7Cj4gK3N0cnVjdCB0dG1fcmVzb3VyY2U7Cj4gK3N0cnVjdCB0dG1fcGxhY2Vt
ZW50Owo+ICtzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3Q7Cj4gK3N0cnVjdCB0dG1fb3BlcmF0aW9u
X2N0eDsKPiArCj4gKy8qKgo+ICsgKiBzdHJ1Y3QgdHRtX2JvX2dsb2JhbCAtIEJ1ZmZlciBvYmpl
Y3QgZHJpdmVyIGdsb2JhbCBkYXRhLgo+ICsgKgo+ICsgKiBAZHVtbXlfcmVhZF9wYWdlOiBQb2lu
dGVyIHRvIGEgZHVtbXkgcGFnZSB1c2VkIGZvciBtYXBwaW5nIHJlcXVlc3RzCj4gKyAqIG9mIHVu
cG9wdWxhdGVkIHBhZ2VzLgo+ICsgKiBAc2hyaW5rOiBBIHNocmluayBjYWxsYmFjayBvYmplY3Qg
dXNlZCBmb3IgYnVmZmVyIG9iamVjdCBzd2FwLgo+ICsgKiBAZGV2aWNlX2xpc3RfbXV0ZXg6IE11
dGV4IHByb3RlY3RpbmcgdGhlIGRldmljZSBsaXN0Lgo+ICsgKiBUaGlzIG11dGV4IGlzIGhlbGQg
d2hpbGUgdHJhdmVyc2luZyB0aGUgZGV2aWNlIGxpc3QgZm9yIHBtIG9wdGlvbnMuCj4gKyAqIEBs
cnVfbG9jazogU3BpbmxvY2sgcHJvdGVjdGluZyB0aGUgYm8gc3Vic3lzdGVtIGxydSBsaXN0cy4K
PiArICogQGRldmljZV9saXN0OiBMaXN0IG9mIGJ1ZmZlciBvYmplY3QgZGV2aWNlcy4KPiArICog
QHN3YXBfbHJ1OiBMcnUgbGlzdCBvZiBidWZmZXIgb2JqZWN0cyB1c2VkIGZvciBzd2FwcGluZy4K
PiArICovCj4gK2V4dGVybiBzdHJ1Y3QgdHRtX2dsb2JhbCB7Cj4gKwo+ICsgICAgICAgLyoqCj4g
KyAgICAgICAgKiBDb25zdGFudCBhZnRlciBpbml0Lgo+ICsgICAgICAgICovCj4gKwo+ICsgICAg
ICAgc3RydWN0IGtvYmplY3Qga29iajsKPiArICAgICAgIHN0cnVjdCBwYWdlICpkdW1teV9yZWFk
X3BhZ2U7Cj4gKyAgICAgICBzcGlubG9ja190IGxydV9sb2NrOwo+ICsKPiArICAgICAgIC8qKgo+
ICsgICAgICAgICogUHJvdGVjdGVkIGJ5IHR0bV9nbG9iYWxfbXV0ZXguCj4gKyAgICAgICAgKi8K
PiArICAgICAgIHN0cnVjdCBsaXN0X2hlYWQgZGV2aWNlX2xpc3Q7Cj4gKwo+ICsgICAgICAgLyoq
Cj4gKyAgICAgICAgKiBQcm90ZWN0ZWQgYnkgdGhlIGxydV9sb2NrLgo+ICsgICAgICAgICovCj4g
KyAgICAgICBzdHJ1Y3QgbGlzdF9oZWFkIHN3YXBfbHJ1W1RUTV9NQVhfQk9fUFJJT1JJVFldOwo+
ICsKPiArICAgICAgIC8qKgo+ICsgICAgICAgICogSW50ZXJuYWwgcHJvdGVjdGlvbi4KPiArICAg
ICAgICAqLwo+ICsgICAgICAgYXRvbWljX3QgYm9fY291bnQ7Cj4gK30gdHRtX2dsb2I7Cj4gKwo+
ICtzdHJ1Y3QgdHRtX2RldmljZV9mdW5jcyB7Cj4gKyAgICAgICAvKioKPiArICAgICAgICAqIHR0
bV90dF9jcmVhdGUKPiArICAgICAgICAqCj4gKyAgICAgICAgKiBAYm86IFRoZSBidWZmZXIgb2Jq
ZWN0IHRvIGNyZWF0ZSB0aGUgdHRtIGZvci4KPiArICAgICAgICAqIEBwYWdlX2ZsYWdzOiBQYWdl
IGZsYWdzIGFzIGlkZW50aWZpZWQgYnkgVFRNX1BBR0VfRkxBR19YWCBmbGFncy4KPiArICAgICAg
ICAqCj4gKyAgICAgICAgKiBDcmVhdGUgYSBzdHJ1Y3QgdHRtX3R0IHRvIGJhY2sgZGF0YSB3aXRo
IHN5c3RlbSBtZW1vcnkgcGFnZXMuCj4gKyAgICAgICAgKiBObyBwYWdlcyBhcmUgYWN0dWFsbHkg
YWxsb2NhdGVkLgo+ICsgICAgICAgICogUmV0dXJuczoKPiArICAgICAgICAqIE5VTEw6IE91dCBv
ZiBtZW1vcnkuCj4gKyAgICAgICAgKi8KPiArICAgICAgIHN0cnVjdCB0dG1fdHQgKigqdHRtX3R0
X2NyZWF0ZSkoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgdWludDMyX3QgcGFnZV9mbGFncyk7Cj4gKwo+ICsgICAg
ICAgLyoqCj4gKyAgICAgICAgKiB0dG1fdHRfcG9wdWxhdGUKPiArICAgICAgICAqCj4gKyAgICAg
ICAgKiBAdHRtOiBUaGUgc3RydWN0IHR0bV90dCB0byBjb250YWluIHRoZSBiYWNraW5nIHBhZ2Vz
Lgo+ICsgICAgICAgICoKPiArICAgICAgICAqIEFsbG9jYXRlIGFsbCBiYWNraW5nIHBhZ2VzCj4g
KyAgICAgICAgKiBSZXR1cm5zOgo+ICsgICAgICAgICogLUVOT01FTTogT3V0IG9mIG1lbW9yeS4K
PiArICAgICAgICAqLwo+ICsgICAgICAgaW50ICgqdHRtX3R0X3BvcHVsYXRlKShzdHJ1Y3QgdHRt
X2RldmljZSAqYmRldiwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHR0
bV90dCAqdHRtLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX29w
ZXJhdGlvbl9jdHggKmN0eCk7Cj4gKwo+ICsgICAgICAgLyoqCj4gKyAgICAgICAgKiB0dG1fdHRf
dW5wb3B1bGF0ZQo+ICsgICAgICAgICoKPiArICAgICAgICAqIEB0dG06IFRoZSBzdHJ1Y3QgdHRt
X3R0IHRvIGNvbnRhaW4gdGhlIGJhY2tpbmcgcGFnZXMuCj4gKyAgICAgICAgKgo+ICsgICAgICAg
ICogRnJlZSBhbGwgYmFja2luZyBwYWdlCj4gKyAgICAgICAgKi8KPiArICAgICAgIHZvaWQgKCp0
dG1fdHRfdW5wb3B1bGF0ZSkoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fdHQgKnR0bSk7Cj4gKwo+ICsgICAgICAg
LyoqCj4gKyAgICAgICAgKiB0dG1fdHRfYmluZAo+ICsgICAgICAgICoKPiArICAgICAgICAqIEBi
ZGV2OiBQb2ludGVyIHRvIGEgdHRtIGRldmljZQo+ICsgICAgICAgICogQHR0bTogUG9pbnRlciB0
byBhIHN0cnVjdCB0dG1fdHQuCj4gKyAgICAgICAgKiBAYm9fbWVtOiBQb2ludGVyIHRvIGEgc3Ry
dWN0IHR0bV9yZXNvdXJjZSBkZXNjcmliaW5nIHRoZQo+ICsgICAgICAgICogbWVtb3J5IHR5cGUg
YW5kIGxvY2F0aW9uIGZvciBiaW5kaW5nLgo+ICsgICAgICAgICoKPiArICAgICAgICAqIEJpbmQg
dGhlIGJhY2tlbmQgcGFnZXMgaW50byB0aGUgYXBlcnR1cmUgaW4gdGhlIGxvY2F0aW9uCj4gKyAg
ICAgICAgKiBpbmRpY2F0ZWQgYnkgQGJvX21lbS4gVGhpcyBmdW5jdGlvbiBzaG91bGQgYmUgYWJs
ZSB0byBoYW5kbGUKPiArICAgICAgICAqIGRpZmZlcmVuY2VzIGJldHdlZW4gYXBlcnR1cmUgYW5k
IHN5c3RlbSBwYWdlIHNpemVzLgo+ICsgICAgICAgICovCj4gKyAgICAgICBpbnQgKCp0dG1fdHRf
YmluZCkoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSwKPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3Jlc291cmNlICpib19tZW0pOwo+ICsK
PiArICAgICAgIC8qKgo+ICsgICAgICAgICogdHRtX3R0X3VuYmluZAo+ICsgICAgICAgICoKPiAr
ICAgICAgICAqIEBiZGV2OiBQb2ludGVyIHRvIGEgdHRtIGRldmljZQo+ICsgICAgICAgICogQHR0
bTogUG9pbnRlciB0byBhIHN0cnVjdCB0dG1fdHQuCj4gKyAgICAgICAgKgo+ICsgICAgICAgICog
VW5iaW5kIHByZXZpb3VzbHkgYm91bmQgYmFja2VuZCBwYWdlcy4gVGhpcyBmdW5jdGlvbiBzaG91
bGQgYmUKPiArICAgICAgICAqIGFibGUgdG8gaGFuZGxlIGRpZmZlcmVuY2VzIGJldHdlZW4gYXBl
cnR1cmUgYW5kIHN5c3RlbSBwYWdlIHNpemVzLgo+ICsgICAgICAgICovCj4gKyAgICAgICB2b2lk
ICgqdHRtX3R0X3VuYmluZCkoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQg
KnR0bSk7Cj4gKwo+ICsgICAgICAgLyoqCj4gKyAgICAgICAgKiB0dG1fdHRfZGVzdHJveQo+ICsg
ICAgICAgICoKPiArICAgICAgICAqIEBiZGV2OiBQb2ludGVyIHRvIGEgdHRtIGRldmljZQo+ICsg
ICAgICAgICogQHR0bTogUG9pbnRlciB0byBhIHN0cnVjdCB0dG1fdHQuCj4gKyAgICAgICAgKgo+
ICsgICAgICAgICogRGVzdHJveSB0aGUgYmFja2VuZC4gVGhpcyB3aWxsIGJlIGNhbGwgYmFjayBm
cm9tIHR0bV90dF9kZXN0cm95IHNvCj4gKyAgICAgICAgKiBkb24ndCBjYWxsIHR0bV90dF9kZXN0
cm95IGZyb20gdGhlIGNhbGxiYWNrIG9yIGluZmluaXRlIGxvb3AuCj4gKyAgICAgICAgKi8KPiAr
ICAgICAgIHZvaWQgKCp0dG1fdHRfZGVzdHJveSkoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsIHN0
cnVjdCB0dG1fdHQgKnR0bSk7Cj4gKwo+ICsgICAgICAgLyoqCj4gKyAgICAgICAgKiBzdHJ1Y3Qg
dHRtX2JvX2RyaXZlciBtZW1iZXIgZXZpY3Rpb25fdmFsdWFibGUKPiArICAgICAgICAqCj4gKyAg
ICAgICAgKiBAYm86IHRoZSBidWZmZXIgb2JqZWN0IHRvIGJlIGV2aWN0ZWQKPiArICAgICAgICAq
IEBwbGFjZTogcGxhY2VtZW50IHdlIG5lZWQgcm9vbSBmb3IKPiArICAgICAgICAqCj4gKyAgICAg
ICAgKiBDaGVjayB3aXRoIHRoZSBkcml2ZXIgaWYgaXQgaXMgdmFsdWFibGUgdG8gZXZpY3QgYSBC
TyB0byBtYWtlIHJvb20KPiArICAgICAgICAqIGZvciBhIGNlcnRhaW4gcGxhY2VtZW50Lgo+ICsg
ICAgICAgICovCj4gKyAgICAgICBib29sICgqZXZpY3Rpb25fdmFsdWFibGUpKHN0cnVjdCB0dG1f
YnVmZmVyX29iamVjdCAqYm8sCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNv
bnN0IHN0cnVjdCB0dG1fcGxhY2UgKnBsYWNlKTsKPiArICAgICAgIC8qKgo+ICsgICAgICAgICog
c3RydWN0IHR0bV9ib19kcml2ZXIgbWVtYmVyIGV2aWN0X2ZsYWdzOgo+ICsgICAgICAgICoKPiAr
ICAgICAgICAqIEBibzogdGhlIGJ1ZmZlciBvYmplY3QgdG8gYmUgZXZpY3RlZAo+ICsgICAgICAg
ICoKPiArICAgICAgICAqIFJldHVybiB0aGUgYm8gZmxhZ3MgZm9yIGEgYnVmZmVyIHdoaWNoIGlz
IG5vdCBtYXBwZWQgdG8gdGhlIGhhcmR3YXJlLgo+ICsgICAgICAgICogVGhlc2Ugd2lsbCBiZSBw
bGFjZWQgaW4gcHJvcG9zZWRfZmxhZ3Mgc28gdGhhdCB3aGVuIHRoZSBtb3ZlIGlzCj4gKyAgICAg
ICAgKiBmaW5pc2hlZCwgdGhleSdsbCBlbmQgdXAgaW4gYm8tPm1lbS5mbGFncwo+ICsgICAgICAg
ICovCj4gKwo+ICsgICAgICAgdm9pZCAoKmV2aWN0X2ZsYWdzKShzdHJ1Y3QgdHRtX2J1ZmZlcl9v
YmplY3QgKmJvLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3BsYWNl
bWVudCAqcGxhY2VtZW50KTsKPiArCj4gKyAgICAgICAvKioKPiArICAgICAgICAqIHN0cnVjdCB0
dG1fYm9fZHJpdmVyIG1lbWJlciBtb3ZlOgo+ICsgICAgICAgICoKPiArICAgICAgICAqIEBibzog
dGhlIGJ1ZmZlciB0byBtb3ZlCj4gKyAgICAgICAgKiBAZXZpY3Q6IHdoZXRoZXIgdGhpcyBtb3Rp
b24gaXMgZXZpY3RpbmcgdGhlIGJ1ZmZlciBmcm9tCj4gKyAgICAgICAgKiB0aGUgZ3JhcGhpY3Mg
YWRkcmVzcyBzcGFjZQo+ICsgICAgICAgICogQGN0eDogY29udGV4dCBmb3IgdGhpcyBtb3ZlIHdp
dGggcGFyYW1ldGVycwo+ICsgICAgICAgICogQG5ld19tZW06IHRoZSBuZXcgbWVtb3J5IHJlZ2lv
biByZWNlaXZpbmcgdGhlIGJ1ZmZlcgo+ICsgICAgICAgICoKPiArICAgICAgICAqIE1vdmUgYSBi
dWZmZXIgYmV0d2VlbiB0d28gbWVtb3J5IHJlZ2lvbnMuCj4gKyAgICAgICAgKi8KPiArICAgICAg
IGludCAoKm1vdmUpKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sIGJvb2wgZXZpY3QsCj4g
KyAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX29wZXJhdGlvbl9jdHggKmN0eCwKPiArICAg
ICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2UgKm5ld19tZW0pOwo+ICsKPiArICAg
ICAgIC8qKgo+ICsgICAgICAgICogc3RydWN0IHR0bV9ib19kcml2ZXJfbWVtYmVyIHZlcmlmeV9h
Y2Nlc3MKPiArICAgICAgICAqCj4gKyAgICAgICAgKiBAYm86IFBvaW50ZXIgdG8gYSBidWZmZXIg
b2JqZWN0Lgo+ICsgICAgICAgICogQGZpbHA6IFBvaW50ZXIgdG8gYSBzdHJ1Y3QgZmlsZSB0cnlp
bmcgdG8gYWNjZXNzIHRoZSBvYmplY3QuCj4gKyAgICAgICAgKgo+ICsgICAgICAgICogQ2FsbGVk
IGZyb20gdGhlIG1hcCAvIHdyaXRlIC8gcmVhZCBtZXRob2RzIHRvIHZlcmlmeSB0aGF0IHRoZQo+
ICsgICAgICAgICogY2FsbGVyIGlzIHBlcm1pdHRlZCB0byBhY2Nlc3MgdGhlIGJ1ZmZlciBvYmpl
Y3QuCj4gKyAgICAgICAgKiBUaGlzIG1lbWJlciBtYXkgYmUgc2V0IHRvIE5VTEwsIHdoaWNoIHdp
bGwgcmVmdXNlIHRoaXMga2luZCBvZgo+ICsgICAgICAgICogYWNjZXNzIGZvciBhbGwgYnVmZmVy
IG9iamVjdHMuCj4gKyAgICAgICAgKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gMCBpZiBh
Y2Nlc3MgaXMgZ3JhbnRlZCwgLUVQRVJNIG90aGVyd2lzZS4KPiArICAgICAgICAqLwo+ICsgICAg
ICAgaW50ICgqdmVyaWZ5X2FjY2Vzcykoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAr
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBmaWxlICpmaWxwKTsKPiArCj4gKyAg
ICAgICAvKioKPiArICAgICAgICAqIEhvb2sgdG8gbm90aWZ5IGRyaXZlciBhYm91dCBhIGRyaXZl
ciBtb3ZlIHNvIGl0Cj4gKyAgICAgICAgKiBjYW4gZG8gdGlsaW5nIHRoaW5ncyBhbmQgYm9vay1r
ZWVwaW5nLgo+ICsgICAgICAgICoKPiArICAgICAgICAqIEBldmljdDogd2hldGhlciB0aGlzIG1v
dmUgaXMgZXZpY3RpbmcgdGhlIGJ1ZmZlciBmcm9tIHRoZSBncmFwaGljcwo+ICsgICAgICAgICog
YWRkcmVzcyBzcGFjZQo+ICsgICAgICAgICovCj4gKyAgICAgICB2b2lkICgqbW92ZV9ub3RpZnkp
KHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgIGJvb2wgZXZpY3QsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1f
cmVzb3VyY2UgKm5ld19tZW0pOwo+ICsKPiArICAgICAgIC8qKgo+ICsgICAgICAgICogbm90aWZ5
IHRoZSBkcml2ZXIgdGhhdCB3ZSdyZSBhYm91dCB0byBzd2FwIG91dCB0aGlzIGJvCj4gKyAgICAg
ICAgKi8KPiArICAgICAgIHZvaWQgKCpzd2FwX25vdGlmeSkoc3RydWN0IHR0bV9idWZmZXJfb2Jq
ZWN0ICpibyk7Cj4gKwo+ICsgICAgICAgLyoqCj4gKyAgICAgICAgKiBEcml2ZXIgY2FsbGJhY2sg
b24gd2hlbiBtYXBwaW5nIGlvIG1lbW9yeSAoZm9yIGJvX21vdmVfbWVtY3B5Cj4gKyAgICAgICAg
KiBmb3IgaW5zdGFuY2UpLiBUVE0gd2lsbCB0YWtlIGNhcmUgdG8gY2FsbCBpb19tZW1fZnJlZSB3
aGVuZXZlcgo+ICsgICAgICAgICogdGhlIG1hcHBpbmcgaXMgbm90IHVzZSBhbnltb3JlLiBpb19t
ZW1fcmVzZXJ2ZSAmIGlvX21lbV9mcmVlCj4gKyAgICAgICAgKiBhcmUgYmFsYW5jZWQuCj4gKyAg
ICAgICAgKi8KPiArICAgICAgIGludCAoKmlvX21lbV9yZXNlcnZlKShzdHJ1Y3QgdHRtX2Rldmlj
ZSAqYmRldiwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3Jlc291
cmNlICptZW0pOwo+ICsgICAgICAgdm9pZCAoKmlvX21lbV9mcmVlKShzdHJ1Y3QgdHRtX2Rldmlj
ZSAqYmRldiwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHR0bV9yZXNvdXJj
ZSAqbWVtKTsKPiArCj4gKyAgICAgICAvKioKPiArICAgICAgICAqIFJldHVybiB0aGUgcGZuIGZv
ciBhIGdpdmVuIHBhZ2Vfb2Zmc2V0IGluc2lkZSB0aGUgQk8uCj4gKyAgICAgICAgKgo+ICsgICAg
ICAgICogQGJvOiB0aGUgQk8gdG8gbG9vayB1cCB0aGUgcGZuIGZvcgo+ICsgICAgICAgICogQHBh
Z2Vfb2Zmc2V0OiB0aGUgb2Zmc2V0IHRvIGxvb2sgdXAKPiArICAgICAgICAqLwo+ICsgICAgICAg
dW5zaWduZWQgbG9uZyAoKmlvX21lbV9wZm4pKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8s
Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgbG9uZyBwYWdl
X29mZnNldCk7Cj4gKwo+ICsgICAgICAgLyoqCj4gKyAgICAgICAgKiBSZWFkL3dyaXRlIG1lbW9y
eSBidWZmZXJzIGZvciBwdHJhY2UgYWNjZXNzCj4gKyAgICAgICAgKgo+ICsgICAgICAgICogQGJv
OiB0aGUgQk8gdG8gYWNjZXNzCj4gKyAgICAgICAgKiBAb2Zmc2V0OiB0aGUgb2Zmc2V0IGZyb20g
dGhlIHN0YXJ0IG9mIHRoZSBCTwo+ICsgICAgICAgICogQGJ1ZjogcG9pbnRlciB0byBzb3VyY2Uv
ZGVzdGluYXRpb24gYnVmZmVyCj4gKyAgICAgICAgKiBAbGVuOiBudW1iZXIgb2YgYnl0ZXMgdG8g
Y29weQo+ICsgICAgICAgICogQHdyaXRlOiB3aGV0aGVyIHRvIHJlYWQgKDApIGZyb20gb3Igd3Jp
dGUgKG5vbi0wKSB0byBCTwo+ICsgICAgICAgICoKPiArICAgICAgICAqIElmIHN1Y2Nlc3NmdWws
IHRoaXMgZnVuY3Rpb24gc2hvdWxkIHJldHVybiB0aGUgbnVtYmVyIG9mCj4gKyAgICAgICAgKiBi
eXRlcyBjb3BpZWQsIC1FSU8gb3RoZXJ3aXNlLiBJZiB0aGUgbnVtYmVyIG9mIGJ5dGVzCj4gKyAg
ICAgICAgKiByZXR1cm5lZCBpcyA8IGxlbiwgdGhlIGZ1bmN0aW9uIG1heSBiZSBjYWxsZWQgYWdh
aW4gd2l0aAo+ICsgICAgICAgICogdGhlIHJlbWFpbmRlciBvZiB0aGUgYnVmZmVyIHRvIGNvcHku
Cj4gKyAgICAgICAgKi8KPiArICAgICAgIGludCAoKmFjY2Vzc19tZW1vcnkpKHN0cnVjdCB0dG1f
YnVmZmVyX29iamVjdCAqYm8sIHVuc2lnbmVkIGxvbmcgb2Zmc2V0LAo+ICsgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgdm9pZCAqYnVmLCBpbnQgbGVuLCBpbnQgd3JpdGUpOwo+ICsKPiArICAg
ICAgIC8qKgo+ICsgICAgICAgICogc3RydWN0IHR0bV9ib19kcml2ZXIgbWVtYmVyIGRlbF9mcm9t
X2xydV9ub3RpZnkKPiArICAgICAgICAqCj4gKyAgICAgICAgKiBAYm86IHRoZSBidWZmZXIgb2Jq
ZWN0IGRlbGV0ZWQgZnJvbSBscnUKPiArICAgICAgICAqCj4gKyAgICAgICAgKiBub3RpZnkgZHJp
dmVyIHRoYXQgYSBCTyB3YXMgZGVsZXRlZCBmcm9tIExSVS4KPiArICAgICAgICAqLwo+ICsgICAg
ICAgdm9pZCAoKmRlbF9mcm9tX2xydV9ub3RpZnkpKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAq
Ym8pOwo+ICsKPiArICAgICAgIC8qKgo+ICsgICAgICAgICogTm90aWZ5IHRoZSBkcml2ZXIgdGhh
dCB3ZSdyZSBhYm91dCB0byByZWxlYXNlIGEgQk8KPiArICAgICAgICAqCj4gKyAgICAgICAgKiBA
Ym86IEJPIHRoYXQgaXMgYWJvdXQgdG8gYmUgcmVsZWFzZWQKPiArICAgICAgICAqCj4gKyAgICAg
ICAgKiBHaXZlcyB0aGUgZHJpdmVyIGEgY2hhbmNlIHRvIGRvIGFueSBjbGVhbnVwLCBpbmNsdWRp
bmcKPiArICAgICAgICAqIGFkZGluZyBmZW5jZXMgdGhhdCBtYXkgZm9yY2UgYSBkZWxheWVkIGRl
bGV0ZQo+ICsgICAgICAgICovCj4gKyAgICAgICB2b2lkICgqcmVsZWFzZV9ub3RpZnkpKHN0cnVj
dCB0dG1fYnVmZmVyX29iamVjdCAqYm8pOwo+ICt9Owo+ICsKPiArLyoqCj4gKyAqIHN0cnVjdCB0
dG1fZGV2aWNlIC0gQnVmZmVyIG9iamVjdCBkcml2ZXIgZGV2aWNlLXNwZWNpZmljIGRhdGEuCj4g
KyAqCj4gKyAqIEBkcml2ZXI6IFBvaW50ZXIgdG8gYSBzdHJ1Y3QgdHRtX2JvX2RyaXZlciBzdHJ1
Y3Qgc2V0dXAgYnkgdGhlIGRyaXZlci4KPiArICogQG1hbjogQW4gYXJyYXkgb2YgcmVzb3VyY2Vf
bWFuYWdlcnMuCj4gKyAqIEB2bWFfbWFuYWdlcjogQWRkcmVzcyBzcGFjZSBtYW5hZ2VyIChwb2lu
dGVyKQo+ICsgKiBscnVfbG9jazogU3BpbmxvY2sgdGhhdCBwcm90ZWN0cyB0aGUgYnVmZmVyK2Rl
dmljZSBscnUgbGlzdHMgYW5kCj4gKyAqIGRkZXN0cm95IGxpc3RzLgo+ICsgKiBAZGV2X21hcHBp
bmc6IEEgcG9pbnRlciB0byB0aGUgc3RydWN0IGFkZHJlc3Nfc3BhY2UgcmVwcmVzZW50aW5nIHRo
ZQo+ICsgKiBkZXZpY2UgYWRkcmVzcyBzcGFjZS4KPiArICogQHdxOiBXb3JrIHF1ZXVlIHN0cnVj
dHVyZSBmb3IgdGhlIGRlbGF5ZWQgZGVsZXRlIHdvcmtxdWV1ZS4KPiArICogQG5vX3JldHJ5OiBE
b24ndCByZXRyeSBhbGxvY2F0aW9uIGlmIGl0IGZhaWxzCj4gKyAqCj4gKyAqLwo+ICtzdHJ1Y3Qg
dHRtX2RldmljZSB7Cj4gKwo+ICsgICAgICAgLyoKPiArICAgICAgICAqIENvbnN0YW50IGFmdGVy
IGJvIGRldmljZSBpbml0IC8gYXRvbWljLgo+ICsgICAgICAgICovCj4gKyAgICAgICBzdHJ1Y3Qg
bGlzdF9oZWFkIGRldmljZV9saXN0Owo+ICsgICAgICAgc3RydWN0IHR0bV9kZXZpY2VfZnVuY3Mg
KmZ1bmNzOwo+ICsKPiArICAgICAgIC8qCj4gKyAgICAgICAgKiBhY2Nlc3MgdmlhIHR0bV9tYW5h
Z2VyX3R5cGUuCj4gKyAgICAgICAgKi8KPiArICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2VfbWFu
YWdlciBzeXNtYW47Cj4gKyAgICAgICBzdHJ1Y3QgdHRtX3Jlc291cmNlX21hbmFnZXIgKm1hbl9k
cnZbVFRNX05VTV9NRU1fVFlQRVNdOwo+ICsKPiArICAgICAgIC8qCj4gKyAgICAgICAgKiBQcm90
ZWN0ZWQgYnkgaW50ZXJuYWwgbG9ja3MuCj4gKyAgICAgICAgKi8KPiArICAgICAgIHN0cnVjdCBk
cm1fdm1hX29mZnNldF9tYW5hZ2VyICp2bWFfbWFuYWdlcjsKPiArCj4gKyAgICAgICAvKgo+ICsg
ICAgICAgICogUHJvdGVjdGVkIGJ5IHRoZSBnbG9iYWw6bHJ1IGxvY2suCj4gKyAgICAgICAgKi8K
PiArICAgICAgIHN0cnVjdCBsaXN0X2hlYWQgZGRlc3Ryb3k7Cj4gKwo+ICsgICAgICAgLyoKPiAr
ICAgICAgICAqIFByb3RlY3RlZCBieSBsb2FkIC8gZmlyc3RvcGVuIC8gbGFzdGNsb3NlIC91bmxv
YWQgc3luYy4KPiArICAgICAgICAqLwo+ICsKPiArICAgICAgIHN0cnVjdCBhZGRyZXNzX3NwYWNl
ICpkZXZfbWFwcGluZzsKPiArCj4gKyAgICAgICAvKgo+ICsgICAgICAgICogSW50ZXJuYWwgcHJv
dGVjdGlvbi4KPiArICAgICAgICAqLwo+ICsKPiArICAgICAgIHN0cnVjdCBkZWxheWVkX3dvcmsg
d3E7Cj4gKwo+ICsgICAgICAgYm9vbCBuZWVkX2RtYTMyOwo+ICsgICAgICAgYm9vbCBub19yZXRy
eTsKPiArfTsKPiArCj4gK3N0YXRpYyBpbmxpbmUgc3RydWN0IHR0bV9yZXNvdXJjZV9tYW5hZ2Vy
ICoKPiArdHRtX21hbmFnZXJfdHlwZShzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwgaW50IG1lbV90
eXBlKQo+ICt7Cj4gKyAgICAgICByZXR1cm4gYmRldi0+bWFuX2RydlttZW1fdHlwZV07Cj4gK30K
PiArCj4gK3N0YXRpYyBpbmxpbmUgdm9pZAo+ICt0dG1fc2V0X2RyaXZlcl9tYW5hZ2VyKHN0cnVj
dCB0dG1fZGV2aWNlICpiZGV2LCBpbnQgdHlwZSwKPiArICAgICAgICAgICAgICAgICAgICAgIHN0
cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdlciAqbWFuYWdlcikKPiArewo+ICsgICAgICAgYmRldi0+
bWFuX2Rydlt0eXBlXSA9IG1hbmFnZXI7Cj4gK30KPiArCj4gKy8qKgo+ICsgKiB0dG1fZGV2aWNl
X2luaXQKPiArICoKPiArICogQGJkZXY6IEEgcG9pbnRlciB0byBhIHN0cnVjdCB0dG1fZGV2aWNl
IHRvIGluaXRpYWxpemUuCj4gKyAqIEBmdW5jczogQSBwb2ludGVyIHRvIGEgc3RydWN0IHR0bV9i
b19kcml2ZXIgc2V0IHVwIGJ5IHRoZSBjYWxsZXIuCj4gKyAqIEBtYXBwaW5nOiBUaGUgYWRkcmVz
cyBzcGFjZSB0byB1c2UgZm9yIHRoaXMgYm8uCj4gKyAqIEB2bWFfbWFuYWdlcjogQSBwb2ludGVy
IHRvIGEgdm1hIG1hbmFnZXIuCj4gKyAqIEBuZWVkX2RtYTMyOiBpZiBwYWdlIGFsbG9jYXRpb25z
IHNob3VsZCB1c2UgRE1BMzIKPiArICoKPiArICogSW5pdGlhbGl6ZXMgYSBzdHJ1Y3QgdHRtX2Rl
dmljZToKPiArICogUmV0dXJuczoKPiArICogITA6IEZhaWx1cmUuCj4gKyAqLwo+ICtpbnQgdHRt
X2RldmljZV9pbml0KHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX2RldmljZV9m
dW5jcyAqZnVuY3MsCj4gKyAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgYWRkcmVzc19zcGFjZSAq
bWFwcGluZywKPiArICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkcm1fdm1hX29mZnNldF9tYW5h
Z2VyICp2bWFfbWFuYWdlciwKPiArICAgICAgICAgICAgICAgICAgIGJvb2wgbmVlZF9kbWEzMik7
Cj4gK2ludCB0dG1fZGV2aWNlX3JlbGVhc2Uoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYpOwo+ICsK
PiArI2VuZGlmCj4gZGlmZiAtLWdpdCBhL2luY2x1ZGUvZHJtL3R0bS90dG1fcmVzb3VyY2UuaCBi
L2luY2x1ZGUvZHJtL3R0bS90dG1fcmVzb3VyY2UuaAo+IGluZGV4IDkxYjY3Y2VjYzZiNi4uYTYw
ZmZlNDA5YjYwIDEwMDY0NAo+IC0tLSBhL2luY2x1ZGUvZHJtL3R0bS90dG1fcmVzb3VyY2UuaAo+
ICsrKyBiL2luY2x1ZGUvZHJtL3R0bS90dG1fcmVzb3VyY2UuaAo+IEBAIC0zMyw3ICszMyw3IEBA
Cj4KPiAgI2RlZmluZSBUVE1fTUFYX0JPX1BSSU9SSVRZICAgIDRVCj4KPiAtc3RydWN0IHR0bV9i
b19kZXZpY2U7Cj4gK3N0cnVjdCB0dG1fZGV2aWNlOwo+ICBzdHJ1Y3QgdHRtX3Jlc291cmNlX21h
bmFnZXI7Cj4gIHN0cnVjdCB0dG1fcmVzb3VyY2U7Cj4gIHN0cnVjdCB0dG1fcGxhY2U7Cj4gQEAg
LTIzMCw3ICsyMzAsNyBAQCB2b2lkIHR0bV9yZXNvdXJjZV9mcmVlKHN0cnVjdCB0dG1fYnVmZmVy
X29iamVjdCAqYm8sIHN0cnVjdCB0dG1fcmVzb3VyY2UgKnJlcyk7Cj4gIHZvaWQgdHRtX3Jlc291
cmNlX21hbmFnZXJfaW5pdChzdHJ1Y3QgdHRtX3Jlc291cmNlX21hbmFnZXIgKm1hbiwKPiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgbG9uZyBwX3NpemUpOwo+Cj4gLWlu
dCB0dG1fcmVzb3VyY2VfbWFuYWdlcl9mb3JjZV9saXN0X2NsZWFuKHN0cnVjdCB0dG1fYm9fZGV2
aWNlICpiZGV2LAo+ICtpbnQgdHRtX3Jlc291cmNlX21hbmFnZXJfZm9yY2VfbGlzdF9jbGVhbihz
dHJ1Y3QgdHRtX2RldmljZSAqYmRldiwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBzdHJ1Y3QgdHRtX3Jlc291cmNlX21hbmFnZXIgKm1hbik7Cj4KPiAgdm9pZCB0
dG1fcmVzb3VyY2VfbWFuYWdlcl9kZWJ1ZyhzdHJ1Y3QgdHRtX3Jlc291cmNlX21hbmFnZXIgKm1h
biwKPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9kcm0vdHRtL3R0bV90dC5oIGIvaW5jbHVkZS9kcm0v
dHRtL3R0bV90dC5oCj4gaW5kZXggZTA0MmRlYzVlNmMxLi5hNTYwNjc4MTlhNTggMTAwNjQ0Cj4g
LS0tIGEvaW5jbHVkZS9kcm0vdHRtL3R0bV90dC5oCj4gKysrIGIvaW5jbHVkZS9kcm0vdHRtL3R0
bV90dC5oCj4gQEAgLTQ4LDcgKzQ4LDcgQEAgc3RydWN0IHR0bV9vcGVyYXRpb25fY3R4Owo+ICAg
Kgo+ICAgKiBAcGFnZXM6IEFycmF5IG9mIHBhZ2VzIGJhY2tpbmcgdGhlIGRhdGEuCj4gICAqIEBu
dW1fcGFnZXM6IE51bWJlciBvZiBwYWdlcyBpbiB0aGUgcGFnZSBhcnJheS4KPiAtICogQGJkZXY6
IFBvaW50ZXIgdG8gdGhlIGN1cnJlbnQgc3RydWN0IHR0bV9ib19kZXZpY2UuCj4gKyAqIEBiZGV2
OiBQb2ludGVyIHRvIHRoZSBjdXJyZW50IHN0cnVjdCB0dG1fZGV2aWNlLgo+ICAgKiBAYmU6IFBv
aW50ZXIgdG8gdGhlIHR0bSBiYWNrZW5kLgo+ICAgKiBAc3dhcF9zdG9yYWdlOiBQb2ludGVyIHRv
IHNobWVtIHN0cnVjdCBmaWxlIGZvciBzd2FwIHN0b3JhZ2UuCj4gICAqIEBjYWNoaW5nX3N0YXRl
OiBUaGUgY3VycmVudCBjYWNoaW5nIHN0YXRlIG9mIHRoZSBwYWdlcy4KPiBAQCAtMTQ3LDE0ICsx
NDcsMTQgQEAgdm9pZCB0dG1fZG1hX3R0X2Zpbmkoc3RydWN0IHR0bV9kbWFfdHQgKnR0bV9kbWEp
Owo+ICAgKgo+ICAgKiBVbmJpbmQsIHVucG9wdWxhdGUgYW5kIGRlc3Ryb3kgY29tbW9uIHN0cnVj
dCB0dG1fdHQuCj4gICAqLwo+IC12b2lkIHR0bV90dF9kZXN0cm95KHN0cnVjdCB0dG1fYm9fZGV2
aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0pOwo+ICt2b2lkIHR0bV90dF9kZXN0cm95KHN0
cnVjdCB0dG1fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0pOwo+Cj4gIC8qKgo+ICAg
KiB0dG1fdHRfZGVzdHJveV9jb21tb246Cj4gICAqCj4gICAqIENhbGxlZCBmcm9tIGRyaXZlciB0
byBkZXN0cm95IGNvbW1vbiBwYXRoLgo+ICAgKi8KPiAtdm9pZCB0dG1fdHRfZGVzdHJveV9jb21t
b24oc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSk7Cj4gK3Zv
aWQgdHRtX3R0X2Rlc3Ryb3lfY29tbW9uKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LCBzdHJ1Y3Qg
dHRtX3R0ICp0dG0pOwo+Cj4gIC8qKgo+ICAgKiB0dG1fdHRfc3dhcGluOgo+IEBAIC0xNjQsNyAr
MTY0LDcgQEAgdm9pZCB0dG1fdHRfZGVzdHJveV9jb21tb24oc3RydWN0IHR0bV9ib19kZXZpY2Ug
KmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSk7Cj4gICAqIFN3YXAgaW4gYSBwcmV2aW91c2x5IHN3
YXAgb3V0IHR0bV90dC4KPiAgICovCj4gIGludCB0dG1fdHRfc3dhcGluKHN0cnVjdCB0dG1fdHQg
KnR0bSk7Cj4gLWludCB0dG1fdHRfc3dhcG91dChzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwg
c3RydWN0IHR0bV90dCAqdHRtKTsKPiAraW50IHR0bV90dF9zd2Fwb3V0KHN0cnVjdCB0dG1fZGV2
aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0pOwo+Cj4gIC8qKgo+ICAgKiB0dG1fdHRfcG9w
dWxhdGUgLSBhbGxvY2F0ZSBwYWdlcyBmb3IgYSB0dG0KPiBAQCAtMTczLDcgKzE3Myw3IEBAIGlu
dCB0dG1fdHRfc3dhcG91dChzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV90
dCAqdHRtKTsKPiAgICoKPiAgICogQ2FsbHMgdGhlIGRyaXZlciBtZXRob2QgdG8gYWxsb2NhdGUg
cGFnZXMgZm9yIGEgdHRtCj4gICAqLwo+IC1pbnQgdHRtX3R0X3BvcHVsYXRlKHN0cnVjdCB0dG1f
Ym9fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0sIHN0cnVjdCB0dG1fb3BlcmF0aW9u
X2N0eCAqY3R4KTsKPiAraW50IHR0bV90dF9wb3B1bGF0ZShzdHJ1Y3QgdHRtX2RldmljZSAqYmRl
diwgc3RydWN0IHR0bV90dCAqdHRtLCBzdHJ1Y3QgdHRtX29wZXJhdGlvbl9jdHggKmN0eCk7Cj4K
PiAgLyoqCj4gICAqIHR0bV90dF91bnBvcHVsYXRlIC0gZnJlZSBwYWdlcyBmcm9tIGEgdHRtCj4g
QEAgLTE4Miw3ICsxODIsNyBAQCBpbnQgdHRtX3R0X3BvcHVsYXRlKHN0cnVjdCB0dG1fYm9fZGV2
aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0sIHN0cnVjdCB0dG1fbwo+ICAgKgo+ICAgKiBD
YWxscyB0aGUgZHJpdmVyIG1ldGhvZCB0byBmcmVlIGFsbCBwYWdlcyBmcm9tIGEgdHRtCj4gICAq
Lwo+IC12b2lkIHR0bV90dF91bnBvcHVsYXRlKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LCBz
dHJ1Y3QgdHRtX3R0ICp0dG0pOwo+ICt2b2lkIHR0bV90dF91bnBvcHVsYXRlKHN0cnVjdCB0dG1f
ZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0pOwo+Cj4gICNpZiBJU19FTkFCTEVEKENP
TkZJR19BR1ApCj4gICNpbmNsdWRlIDxsaW51eC9hZ3BfYmFja2VuZC5oPgo+IC0tCj4gMi4xNy4x
Cj4KX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRl
dmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8v
bGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVsCg==
