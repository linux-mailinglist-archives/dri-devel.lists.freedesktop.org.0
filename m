Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 34AFED1219
	for <lists+dri-devel@lfdr.de>; Wed,  9 Oct 2019 17:09:02 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E84D56E9D8;
	Wed,  9 Oct 2019 15:08:59 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wr1-x444.google.com (mail-wr1-x444.google.com
 [IPv6:2a00:1450:4864:20::444])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 55BBF6E9D2;
 Wed,  9 Oct 2019 15:08:58 +0000 (UTC)
Received: by mail-wr1-x444.google.com with SMTP id o18so3426579wrv.13;
 Wed, 09 Oct 2019 08:08:58 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=OBTvm8kvsQ1ADgPARG/+bUdu17O2dLeXgnQJ3LyZiak=;
 b=inaF/5Y3HvaKQA6QMDhiGXDCfLjkbRmOhmmE49K3xmtoXLxzsIf/FlMHZo4Qu/E+3i
 Ab/L+KJM1azF8R1tcLaIsjwGvx2ZMqSHRmGvixDFWvPRlVlluv0yqcHvkZhylQzCD1MF
 FwqI0k7lCONKqDRX4KwnAeITOzW98jX87nJi63TY48nMnF+OOjoT9cwx+/qV+mwSu2qK
 hGJ+BlpoP6uNhEfYwjxSbCN71vtB9Mo9ogN/30fzzlm9AtGxbiS3Z7D3sgtzBbOATnTt
 aUnBJ8ZIEOHY8kh8TvkYAnD5avnaGqng+7KxVvbyX1N/GC0+08Gq5s2wdqTPwbaBDgQ/
 vABw==
X-Gm-Message-State: APjAAAXJKO2cHDkFetVzQlMH9fBQLGZMs9WF7TMBRelk5xqcAWUednEx
 5G2ShPPWX2d3L5tGYzjYE4E4wy6RZpkT/q7oMKU=
X-Google-Smtp-Source: APXvYqw+YTPAh9qON/D61awhbZzetyK9bNB6umCsFH8N1t5ZUycUEonp5zsvc0mUj2T+1/rVws1gitCWcicp3E1tjms=
X-Received: by 2002:adf:fe8b:: with SMTP id l11mr3354901wrr.167.1570633736625; 
 Wed, 09 Oct 2019 08:08:56 -0700 (PDT)
MIME-Version: 1.0
References: <20190829060533.32315-1-Kenny.Ho@amd.com>
 <20190829060533.32315-15-Kenny.Ho@amd.com>
 <b3d2b3c1-8854-10ca-3e39-b3bef35bdfa9@amd.com>
 <20191009103153.GU16989@phenom.ffwll.local>
In-Reply-To: <20191009103153.GU16989@phenom.ffwll.local>
From: Kenny Ho <y2kenny@gmail.com>
Date: Wed, 9 Oct 2019 11:08:45 -0400
Message-ID: <CAOWid-fLurBT6-h5WjQsEPA+dq1fgfWztbyZuLV4ypmWH8SC9w@mail.gmail.com>
Subject: Re: [PATCH RFC v4 14/16] drm,
 cgroup: Introduce lgpu as DRM cgroup resource
To: Daniel Vetter <daniel@ffwll.ch>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=OBTvm8kvsQ1ADgPARG/+bUdu17O2dLeXgnQJ3LyZiak=;
 b=rcyxQkX9LmJx2sE35yCF35D730C3gF/5HLtCzyOgjL43jDKbLzuC66d0N22J9yttuj
 6YUrjs7EZYeqD4JF0i594VHf9oKLiHkh9/saM2kXRIVhNsMnbhNJxpQ59UYZa+4kCWQ1
 mwpIEqg0k7pmEVBNrcQSYpo7ylko1vz/BOxWPbWrENcnEhqNmE+BnwhPsfZnDEGItd4a
 mLjYgZgiE0mCkwp1VWuKtni+otZPkxVdA5eS3sxTvamiiDSpKu94hVz+vy8tpVQW05V/
 87uQMpR6FogciJiHwnJF3/6l3QlIIjL+CtTwqOH0oluxKUn2/wUTQjKeVAqiESrt8S9y
 ikNg==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: "Ho, Kenny" <Kenny.Ho@amd.com>, "Kuehling, Felix" <Felix.Kuehling@amd.com>,
 "jsparks@cray.com" <jsparks@cray.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>,
 "lkaplan@cray.com" <lkaplan@cray.com>, "Deucher,
 Alexander" <Alexander.Deucher@amd.com>,
 "dri-devel@lists.freedesktop.org" <dri-devel@lists.freedesktop.org>,
 "Greathouse, Joseph" <Joseph.Greathouse@amd.com>,
 "tj@kernel.org" <tj@kernel.org>,
 "cgroups@vger.kernel.org" <cgroups@vger.kernel.org>, "Koenig,
 Christian" <Christian.Koenig@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgRGFuaWVsLAoKQ2FuIHlvdSBlbGFib3JhdGUgd2hhdCB5b3UgbWVhbiBpbiBtb3JlIGRldGFp
bHM/ICBUaGUgZ29hbCBvZiBsZ3B1IGlzCnRvIHByb3ZpZGUgdGhlIGFiaWxpdHkgdG8gc3ViZGl2
aWRlIGEgR1BVIGRldmljZSBhbmQgZ2l2ZSB0aG9zZSBzbGljZXMKdG8gZGlmZmVyZW50IHVzZXJz
IGFzIG5lZWRlZC4gIEkgZG9uJ3QgdGhpbmsgdGhlcmUgaXMgYW55dGhpbmcKY29udHJvdmVyc2lh
bCBvciB2ZW5kb3Igc3BlY2lmaWMgaGVyZSBhcyByZXF1ZXN0cyBmb3IgdGhpcyBhcmUgd2VsbApk
b2N1bWVudGVkLiAgVGhlIHVuZGVybHlpbmcgcmVwcmVzZW50YXRpb24gaXMganVzdCBhIGJpdG1h
cCwgd2hpY2ggaXMKbmVpdGhlciB1bnByZWNlZGVudGVkIG5vciB2ZW5kb3Igc3BlY2lmaWMgKGJp
dG1hcCBpcyB1c2VkIGluIGNwdXNldApmb3IgaW5zdGFuY2UuKQoKQW4gaW1wbGVtZW50YXRpb24g
b2YgdGhpcyBhYnN0cmFjdGlvbiBpcyBub3QgaGFyZHdhcmUgc3BlY2lmaWMgZWl0aGVyLgpGb3Ig
ZXhhbXBsZSwgb25lIGNhbiBhc3NvY2lhdGUgYSB2aXJ0dWFsIGZ1bmN0aW9uIGluIFNSSU9WIGFz
IGEgbGdwdS4KQWx0ZXJuYXRpdmVseSwgYSBkZXZpY2UgY2FuIGFsc28gZGVjbGFyZSB0byBoYXZl
IDEwMCBsZ3B1cyBhbmQgdHJlYXQKdGhlIGxncHUgcXVhbnRpdHkgYXMgYSBwZXJjZW50YWdlIHJl
cHJlc2VudGF0aW9uIG9mIEdQVSBzdWJkaXZpc2lvbi4KVGhlIGZhY3QgdGhhdCBhbiBhYnN0cmFj
dGlvbiB3b3JrcyB3ZWxsIHdpdGggYSB2ZW5kb3IgaW1wbGVtZW50YXRpb24KZG9lcyBub3QgbWFr
ZSBpdCBhICJwcmV0dGlmaWNhdGlvbiIgb2YgYSB2ZW5kb3IgZmVhdHVyZSAoYnkgdGhpcwpsb2dp
YywgSSBob3BlIHlvdSBhcmUgbm90IGltcGx5aW5nIGFuIGFic3RyYWN0aW9uIGlzIG9ubHkgdmFs
aWQgaWYgaXQKZG9lcyBub3Qgd29yayB3aXRoIGFtZCBDVSBtYXNraW5nIGJlY2F1c2UgdGhhdCBz
ZWVtcyBmYWlybHkgcGFydGlzYW4uKQoKRGlkIEkgbWlzcmVhZCB5b3VyIGNoYXJhY3Rlcml6YXRp
b24gb2YgdGhpcyBwYXRjaD8KClJlZ2FyZHMsCktlbm55CgoKT24gV2VkLCBPY3QgOSwgMjAxOSBh
dCA2OjMxIEFNIERhbmllbCBWZXR0ZXIgPGRhbmllbEBmZndsbC5jaD4gd3JvdGU6Cj4KPiBPbiBU
dWUsIE9jdCAwOCwgMjAxOSBhdCAwNjo1MzoxOFBNICswMDAwLCBLdWVobGluZywgRmVsaXggd3Jv
dGU6Cj4gPiBPbiAyMDE5LTA4LTI5IDI6MDUgYS5tLiwgS2VubnkgSG8gd3JvdGU6Cj4gPiA+IGRy
bS5sZ3B1Cj4gPiA+ICAgICAgICAgIEEgcmVhZC13cml0ZSBuZXN0ZWQta2V5ZWQgZmlsZSB3aGlj
aCBleGlzdHMgb24gYWxsIGNncm91cHMuCj4gPiA+ICAgICAgICAgIEVhY2ggZW50cnkgaXMga2V5
ZWQgYnkgdGhlIERSTSBkZXZpY2UncyBtYWpvcjptaW5vci4KPiA+ID4KPiA+ID4gICAgICAgICAg
bGdwdSBzdGFuZHMgZm9yIGxvZ2ljYWwgR1BVLCBpdCBpcyBhbiBhYnN0cmFjdGlvbiB1c2VkIHRv
Cj4gPiA+ICAgICAgICAgIHN1YmRpdmlkZSBhIHBoeXNpY2FsIERSTSBkZXZpY2UgZm9yIHRoZSBw
dXJwb3NlIG9mIHJlc291cmNlCj4gPiA+ICAgICAgICAgIG1hbmFnZW1lbnQuCj4gPiA+Cj4gPiA+
ICAgICAgICAgIFRoZSBsZ3B1IGlzIGEgZGlzY3JldGUgcXVhbnRpdHkgdGhhdCBpcyBkZXZpY2Ug
c3BlY2lmaWMgKGkuZS4KPiA+ID4gICAgICAgICAgc29tZSBEUk0gZGV2aWNlcyBtYXkgaGF2ZSA2
NCBsZ3B1cyB3aGlsZSBvdGhlcnMgbWF5IGhhdmUgMTAwCj4gPiA+ICAgICAgICAgIGxncHVzLikg
IFRoZSBsZ3B1IGlzIGEgc2luZ2xlIHF1YW50aXR5IHdpdGggdHdvIHJlcHJlc2VudGF0aW9ucwo+
ID4gPiAgICAgICAgICBkZW5vdGVkIGJ5IHRoZSBmb2xsb3dpbmcgbmVzdGVkIGtleXMuCj4gPiA+
Cj4gPiA+ICAgICAgICAgICAgPT09PT0gICAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT0KPiA+ID4gICAgICAgICAgICBjb3VudCAgICAgUmVwcmVzZW50aW5nIGxncHUg
YXMgYW5vbnltb3VzIHJlc291cmNlCj4gPiA+ICAgICAgICAgICAgbGlzdCAgICAgIFJlcHJlc2Vu
dGluZyBsZ3B1IGFzIG5hbWVkIHJlc291cmNlCj4gPiA+ICAgICAgICAgICAgPT09PT0gICAgID09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KPiA+ID4KPiA+ID4gICAgICAg
ICAgRm9yIGV4YW1wbGU6Cj4gPiA+ICAgICAgICAgIDIyNjowIGNvdW50PTI1NiBsaXN0PTAtMjU1
Cj4gPiA+ICAgICAgICAgIDIyNjoxIGNvdW50PTQgbGlzdD0wLDIsNCw2Cj4gPiA+ICAgICAgICAg
IDIyNjoyIGNvdW50PTMyIGxpc3Q9MzItNjMKPiA+ID4KPiA+ID4gICAgICAgICAgbGdwdSBpcyBy
ZXByZXNlbnRlZCBieSBhIGJpdG1hcCBhbmQgdXNlcyB0aGUgYml0bWFwX3BhcnNlbGlzdAo+ID4g
PiAgICAgICAgICBrZXJuZWwgZnVuY3Rpb24gc28gdGhlIGxpc3Qga2V5IGlucHV0IGZvcm1hdCBp
cyBhCj4gPiA+ICAgICAgICAgIGNvbW1hLXNlcGFyYXRlZCBsaXN0IG9mIGRlY2ltYWwgbnVtYmVy
cyBhbmQgcmFuZ2VzLgo+ID4gPgo+ID4gPiAgICAgICAgICBDb25zZWN1dGl2ZWx5IHNldCBiaXRz
IGFyZSBzaG93biBhcyB0d28gaHlwaGVuLXNlcGFyYXRlZCBkZWNpbWFsCj4gPiA+ICAgICAgICAg
IG51bWJlcnMsIHRoZSBzbWFsbGVzdCBhbmQgbGFyZ2VzdCBiaXQgbnVtYmVycyBzZXQgaW4gdGhl
IHJhbmdlLgo+ID4gPiAgICAgICAgICBPcHRpb25hbGx5IGVhY2ggcmFuZ2UgY2FuIGJlIHBvc3Rm
aXhlZCB0byBkZW5vdGUgdGhhdCBvbmx5IHBhcnRzCj4gPiA+ICAgICAgICAgIG9mIGl0IHNob3Vs
ZCBiZSBzZXQuICBUaGUgcmFuZ2Ugd2lsbCBkaXZpZGVkIHRvIGdyb3VwcyBvZgo+ID4gPiAgICAg
ICAgICBzcGVjaWZpYyBzaXplLgo+ID4gPiAgICAgICAgICBTeW50YXg6IHJhbmdlOnVzZWRfc2l6
ZS9ncm91cF9zaXplCj4gPiA+ICAgICAgICAgIEV4YW1wbGU6IDAtMTAyMzoyLzI1NiA9PT4gMCwx
LDI1NiwyNTcsNTEyLDUxMyw3NjgsNzY5Cj4gPiA+Cj4gPiA+ICAgICAgICAgIFRoZSBjb3VudCBr
ZXkgaXMgdGhlIGhhbW1pbmcgd2VpZ2h0IC8gaHdlaWdodCBvZiB0aGUgYml0bWFwLgo+ID4gPgo+
ID4gPiAgICAgICAgICBCb3RoIGNvdW50IGFuZCBsaXN0IGFjY2VwdCB0aGUgbWF4IGFuZCBkZWZh
dWx0IGtleXdvcmRzLgo+ID4gPgo+ID4gPiAgICAgICAgICBTb21lIERSTSBkZXZpY2VzIG1heSBv
bmx5IHN1cHBvcnQgbGdwdSBhcyBhbm9ueW1vdXMgcmVzb3VyY2VzLgo+ID4gPiAgICAgICAgICBJ
biBzdWNoIGNhc2UsIHRoZSBzaWduaWZpY2FuY2Ugb2YgdGhlIHBvc2l0aW9uIG9mIHRoZSBzZXQg
Yml0cwo+ID4gPiAgICAgICAgICBpbiBsaXN0IHdpbGwgYmUgaWdub3JlZC4KPiA+ID4KPiA+ID4g
ICAgICAgICAgVGhpcyBsZ3B1IHJlc291cmNlIHN1cHBvcnRzIHRoZSAnYWxsb2NhdGlvbicgcmVz
b3VyY2UKPiA+ID4gICAgICAgICAgZGlzdHJpYnV0aW9uIG1vZGVsLgo+ID4gPgo+ID4gPiBDaGFu
Z2UtSWQ6IEkxYWZjYWNmMzU2NzcwOTMwYzdmOTI1ZGYwNDNlNTFhZDA2Y2ViOThlCj4gPiA+IFNp
Z25lZC1vZmYtYnk6IEtlbm55IEhvIDxLZW5ueS5Ib0BhbWQuY29tPgo+ID4KPiA+IFRoZSBkZXNj
cmlwdGlvbiBzb3VuZHMgcmVhc29uYWJsZSB0byBtZSBhbmQgbWFwcyB3ZWxsIHRvIHRoZSBDVSBt
YXNraW5nCj4gPiBmZWF0dXJlIGluIG91ciBHUFVzLgo+ID4KPiA+IEl0IHdvdWxkIGFsc28gYWxs
b3cgdXMgdG8gZG8gbW9yZSBjb2Fyc2UtZ3JhaW5lZCBtYXNraW5nIGZvciBleGFtcGxlIHRvCj4g
PiBndWFyYW50ZWUgYmFsYW5jZWQgYWxsb2NhdGlvbiBvZiBDVXMgYWNyb3NzIHNoYWRlciBlbmdp
bmVzIG9yCj4gPiBwYXJ0aXRpb25pbmcgb2YgbWVtb3J5IGJhbmR3aWR0aCBvciBDUCBwaXBlcyAo
aWYgdGhhdCBpcyBzdXBwb3J0ZWQgYnkKPiA+IHRoZSBoYXJkd2FyZS9maXJtd2FyZSkuCj4KPiBI
bSwgc28gdGhpcyBzb3VuZHMgbGlrZSB0aGUgZGVmaW5pdGlvbiBmb3IgaG93IHRoaXMgY2dyb3Vw
IGlzIHN1cHBvc2VkIHRvCj4gd29yayBpcyAiYW1kIENVIG1hc2tpbmciICh3aGF0ZXZlciB0aGF0
IGV4YWN0bHkgaXMpLiBBbmQgdGhlIGFic3RyYWN0Cj4gZGVzY3JpcHRpb24gaXMganVzdCBwcmV0
dGlmaWNhdGlvbiBvbiB0b3AsIGJ1dCBub3QgYWN0dWFsbHkgdGhlIHJlYWwKPiBkZWZpbml0aW9u
IHlvdSBndXlzIHdhbnQuCj4KPiBJIHRoaW5rIGFkZGluZyBhIGNncm91cCB3aGljaCBpcyB0aGF0
IG11Y2ggZGVwZW5kaW5nIHVwb24gdGhlIGh3Cj4gaW1wbGVtZW50YXRpb24gb2YgdGhlIGZpcnN0
IGRyaXZlciBzdXBwb3J0aW5nIGl0IGlzIG5vdCBhIGdvb2QgaWRlYS4KPiAtRGFuaWVsCj4KPiA+
Cj4gPiBJIGNhbid0IGNvbW1lbnQgb24gdGhlIGNvZGUgYXMgSSdtIHVuZmFtaWxpYXIgd2l0aCB0
aGUgZGV0YWlscyBvZiB0aGUKPiA+IGNncm91cCBjb2RlLgo+ID4KPiA+IEFja2VkLWJ5OiBGZWxp
eCBLdWVobGluZyA8RmVsaXguS3VlaGxpbmdAYW1kLmNvbT4KPiA+Cj4gPgo+ID4gPiAtLS0KPiA+
ID4gICBEb2N1bWVudGF0aW9uL2FkbWluLWd1aWRlL2Nncm91cC12Mi5yc3QgfCAgNDYgKysrKysr
KysKPiA+ID4gICBpbmNsdWRlL2RybS9kcm1fY2dyb3VwLmggICAgICAgICAgICAgICAgfCAgIDQg
Kwo+ID4gPiAgIGluY2x1ZGUvbGludXgvY2dyb3VwX2RybS5oICAgICAgICAgICAgICB8ICAgNiAr
Kwo+ID4gPiAgIGtlcm5lbC9jZ3JvdXAvZHJtLmMgICAgICAgICAgICAgICAgICAgICB8IDEzNSAr
KysrKysrKysrKysrKysrKysrKysrKysKPiA+ID4gICA0IGZpbGVzIGNoYW5nZWQsIDE5MSBpbnNl
cnRpb25zKCspCj4gPiA+Cj4gPiA+IGRpZmYgLS1naXQgYS9Eb2N1bWVudGF0aW9uL2FkbWluLWd1
aWRlL2Nncm91cC12Mi5yc3QgYi9Eb2N1bWVudGF0aW9uL2FkbWluLWd1aWRlL2Nncm91cC12Mi5y
c3QKPiA+ID4gaW5kZXggODdhMTk1MTMzZWFhLi41N2YxODQ2OWJkNzYgMTAwNjQ0Cj4gPiA+IC0t
LSBhL0RvY3VtZW50YXRpb24vYWRtaW4tZ3VpZGUvY2dyb3VwLXYyLnJzdAo+ID4gPiArKysgYi9E
b2N1bWVudGF0aW9uL2FkbWluLWd1aWRlL2Nncm91cC12Mi5yc3QKPiA+ID4gQEAgLTE5NTgsNiAr
MTk1OCw1MiBAQCBEUk0gSW50ZXJmYWNlIEZpbGVzCj4gPiA+ICAgICBTZXQgbGFyZ2VzdCBhbGxv
Y2F0aW9uIGZvciAvZGV2L2RyaS9jYXJkMSB0byA0TUIKPiA+ID4gICAgIGVjaG8gIjIyNjoxIDRt
IiA+IGRybS5idWZmZXIucGVhay5tYXgKPiA+ID4KPiA+ID4gKyAgZHJtLmxncHUKPiA+ID4gKyAg
IEEgcmVhZC13cml0ZSBuZXN0ZWQta2V5ZWQgZmlsZSB3aGljaCBleGlzdHMgb24gYWxsIGNncm91
cHMuCj4gPiA+ICsgICBFYWNoIGVudHJ5IGlzIGtleWVkIGJ5IHRoZSBEUk0gZGV2aWNlJ3MgbWFq
b3I6bWlub3IuCj4gPiA+ICsKPiA+ID4gKyAgIGxncHUgc3RhbmRzIGZvciBsb2dpY2FsIEdQVSwg
aXQgaXMgYW4gYWJzdHJhY3Rpb24gdXNlZCB0bwo+ID4gPiArICAgc3ViZGl2aWRlIGEgcGh5c2lj
YWwgRFJNIGRldmljZSBmb3IgdGhlIHB1cnBvc2Ugb2YgcmVzb3VyY2UKPiA+ID4gKyAgIG1hbmFn
ZW1lbnQuCj4gPiA+ICsKPiA+ID4gKyAgIFRoZSBsZ3B1IGlzIGEgZGlzY3JldGUgcXVhbnRpdHkg
dGhhdCBpcyBkZXZpY2Ugc3BlY2lmaWMgKGkuZS4KPiA+ID4gKyAgIHNvbWUgRFJNIGRldmljZXMg
bWF5IGhhdmUgNjQgbGdwdXMgd2hpbGUgb3RoZXJzIG1heSBoYXZlIDEwMAo+ID4gPiArICAgbGdw
dXMuKSAgVGhlIGxncHUgaXMgYSBzaW5nbGUgcXVhbnRpdHkgd2l0aCB0d28gcmVwcmVzZW50YXRp
b25zCj4gPiA+ICsgICBkZW5vdGVkIGJ5IHRoZSBmb2xsb3dpbmcgbmVzdGVkIGtleXMuCj4gPiA+
ICsKPiA+ID4gKyAgICAgPT09PT0gICAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT0KPiA+ID4gKyAgICAgY291bnQgICAgIFJlcHJlc2VudGluZyBsZ3B1IGFzIGFub255
bW91cyByZXNvdXJjZQo+ID4gPiArICAgICBsaXN0ICAgICAgUmVwcmVzZW50aW5nIGxncHUgYXMg
bmFtZWQgcmVzb3VyY2UKPiA+ID4gKyAgICAgPT09PT0gICAgID09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT0KPiA+ID4gKwo+ID4gPiArICAgRm9yIGV4YW1wbGU6Cj4gPiA+
ICsgICAyMjY6MCBjb3VudD0yNTYgbGlzdD0wLTI1NQo+ID4gPiArICAgMjI2OjEgY291bnQ9NCBs
aXN0PTAsMiw0LDYKPiA+ID4gKyAgIDIyNjoyIGNvdW50PTMyIGxpc3Q9MzItNjMKPiA+ID4gKwo+
ID4gPiArICAgbGdwdSBpcyByZXByZXNlbnRlZCBieSBhIGJpdG1hcCBhbmQgdXNlcyB0aGUgYml0
bWFwX3BhcnNlbGlzdAo+ID4gPiArICAga2VybmVsIGZ1bmN0aW9uIHNvIHRoZSBsaXN0IGtleSBp
bnB1dCBmb3JtYXQgaXMgYQo+ID4gPiArICAgY29tbWEtc2VwYXJhdGVkIGxpc3Qgb2YgZGVjaW1h
bCBudW1iZXJzIGFuZCByYW5nZXMuCj4gPiA+ICsKPiA+ID4gKyAgIENvbnNlY3V0aXZlbHkgc2V0
IGJpdHMgYXJlIHNob3duIGFzIHR3byBoeXBoZW4tc2VwYXJhdGVkIGRlY2ltYWwKPiA+ID4gKyAg
IG51bWJlcnMsIHRoZSBzbWFsbGVzdCBhbmQgbGFyZ2VzdCBiaXQgbnVtYmVycyBzZXQgaW4gdGhl
IHJhbmdlLgo+ID4gPiArICAgT3B0aW9uYWxseSBlYWNoIHJhbmdlIGNhbiBiZSBwb3N0Zml4ZWQg
dG8gZGVub3RlIHRoYXQgb25seSBwYXJ0cwo+ID4gPiArICAgb2YgaXQgc2hvdWxkIGJlIHNldC4g
IFRoZSByYW5nZSB3aWxsIGRpdmlkZWQgdG8gZ3JvdXBzIG9mCj4gPiA+ICsgICBzcGVjaWZpYyBz
aXplLgo+ID4gPiArICAgU3ludGF4OiByYW5nZTp1c2VkX3NpemUvZ3JvdXBfc2l6ZQo+ID4gPiAr
ICAgRXhhbXBsZTogMC0xMDIzOjIvMjU2ID09PiAwLDEsMjU2LDI1Nyw1MTIsNTEzLDc2OCw3NjkK
PiA+ID4gKwo+ID4gPiArICAgVGhlIGNvdW50IGtleSBpcyB0aGUgaGFtbWluZyB3ZWlnaHQgLyBo
d2VpZ2h0IG9mIHRoZSBiaXRtYXAuCj4gPiA+ICsKPiA+ID4gKyAgIEJvdGggY291bnQgYW5kIGxp
c3QgYWNjZXB0IHRoZSBtYXggYW5kIGRlZmF1bHQga2V5d29yZHMuCj4gPiA+ICsKPiA+ID4gKyAg
IFNvbWUgRFJNIGRldmljZXMgbWF5IG9ubHkgc3VwcG9ydCBsZ3B1IGFzIGFub255bW91cyByZXNv
dXJjZXMuCj4gPiA+ICsgICBJbiBzdWNoIGNhc2UsIHRoZSBzaWduaWZpY2FuY2Ugb2YgdGhlIHBv
c2l0aW9uIG9mIHRoZSBzZXQgYml0cwo+ID4gPiArICAgaW4gbGlzdCB3aWxsIGJlIGlnbm9yZWQu
Cj4gPiA+ICsKPiA+ID4gKyAgIFRoaXMgbGdwdSByZXNvdXJjZSBzdXBwb3J0cyB0aGUgJ2FsbG9j
YXRpb24nIHJlc291cmNlCj4gPiA+ICsgICBkaXN0cmlidXRpb24gbW9kZWwuCj4gPiA+ICsKPiA+
ID4gICBHRU0gQnVmZmVyIE93bmVyc2hpcAo+ID4gPiAgIH5+fn5+fn5+fn5+fn5+fn5+fn5+Cj4g
PiA+Cj4gPiA+IGRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS9kcm1fY2dyb3VwLmggYi9pbmNsdWRl
L2RybS9kcm1fY2dyb3VwLmgKPiA+ID4gaW5kZXggNmQ5NzA3ZTFlYjcyLi5hOGQ2YmUwYjA3NWIg
MTAwNjQ0Cj4gPiA+IC0tLSBhL2luY2x1ZGUvZHJtL2RybV9jZ3JvdXAuaAo+ID4gPiArKysgYi9p
bmNsdWRlL2RybS9kcm1fY2dyb3VwLmgKPiA+ID4gQEAgLTYsNiArNiw3IEBACj4gPiA+Cj4gPiA+
ICAgI2luY2x1ZGUgPGxpbnV4L2Nncm91cF9kcm0uaD4KPiA+ID4gICAjaW5jbHVkZSA8bGludXgv
d29ya3F1ZXVlLmg+Cj4gPiA+ICsjaW5jbHVkZSA8bGludXgvdHlwZXMuaD4KPiA+ID4gICAjaW5j
bHVkZSA8ZHJtL3R0bS90dG1fYm9fYXBpLmg+Cj4gPiA+ICAgI2luY2x1ZGUgPGRybS90dG0vdHRt
X2JvX2RyaXZlci5oPgo+ID4gPgo+ID4gPiBAQCAtMjgsNiArMjksOSBAQCBzdHJ1Y3QgZHJtY2df
cHJvcHMgewo+ID4gPiAgICAgczY0ICAgICAgICAgICAgICAgICAgICAgbWVtX2hpZ2hzX2RlZmF1
bHRbVFRNX1BMX1BSSVYrMV07Cj4gPiA+Cj4gPiA+ICAgICBzdHJ1Y3Qgd29ya19zdHJ1Y3QgICAg
ICAqbWVtX3JlY2xhaW1fd3FbVFRNX1BMX1BSSVZdOwo+ID4gPiArCj4gPiA+ICsgICBpbnQgICAg
ICAgICAgICAgICAgICAgICBsZ3B1X2NhcGFjaXR5Owo+ID4gPiArICAgICAgICBERUNMQVJFX0JJ
VE1BUChsZ3B1X3Nsb3RzLCBNQVhfRFJNQ0dfTEdQVV9DQVBBQ0lUWSk7Cj4gPiA+ICAgfTsKPiA+
ID4KPiA+ID4gICAjaWZkZWYgQ09ORklHX0NHUk9VUF9EUk0KPiA+ID4gZGlmZiAtLWdpdCBhL2lu
Y2x1ZGUvbGludXgvY2dyb3VwX2RybS5oIGIvaW5jbHVkZS9saW51eC9jZ3JvdXBfZHJtLmgKPiA+
ID4gaW5kZXggYzU2Y2ZlNzRkMWE2Li43YjFjZmM0Y2U0YzMgMTAwNjQ0Cj4gPiA+IC0tLSBhL2lu
Y2x1ZGUvbGludXgvY2dyb3VwX2RybS5oCj4gPiA+ICsrKyBiL2luY2x1ZGUvbGludXgvY2dyb3Vw
X2RybS5oCj4gPiA+IEBAIC0xNCw2ICsxNCw4IEBACj4gPiA+ICAgLyogbGltaXQgZGVmaW5lZCBw
ZXIgdGhlIHdheSBkcm1fbWlub3JfYWxsb2Mgb3BlcmF0ZXMgKi8KPiA+ID4gICAjZGVmaW5lIE1B
WF9EUk1fREVWICg2NCAqIERSTV9NSU5PUl9SRU5ERVIpCj4gPiA+Cj4gPiA+ICsjZGVmaW5lIE1B
WF9EUk1DR19MR1BVX0NBUEFDSVRZIDI1Ngo+ID4gPiArCj4gPiA+ICAgZW51bSBkcm1jZ19tZW1f
YndfYXR0ciB7Cj4gPiA+ICAgICBEUk1DR19NRU1fQldfQVRUUl9CWVRFX01PVkVELCAvKiBmb3Ig
Y2FsdWxhdGluZyAnaW5zdGFudGFuZW91cycgYncgKi8KPiA+ID4gICAgIERSTUNHX01FTV9CV19B
VFRSX0FDQ1VNX1VTLCAgLyogZm9yIGNhbHVsYXRpbmcgJ2luc3RhbnRhbmVvdXMnIGJ3ICovCj4g
PiA+IEBAIC0zMiw2ICszNCw3IEBAIGVudW0gZHJtY2dfcmVzX3R5cGUgewo+ID4gPiAgICAgRFJN
Q0dfVFlQRV9NRU1fUEVBSywKPiA+ID4gICAgIERSTUNHX1RZUEVfQkFORFdJRFRILAo+ID4gPiAg
ICAgRFJNQ0dfVFlQRV9CQU5EV0lEVEhfUEVSSU9EX0JVUlNULAo+ID4gPiArICAgRFJNQ0dfVFlQ
RV9MR1BVLAo+ID4gPiAgICAgX19EUk1DR19UWVBFX0xBU1QsCj4gPiA+ICAgfTsKPiA+ID4KPiA+
ID4gQEAgLTU4LDYgKzYxLDkgQEAgc3RydWN0IGRybWNnX2RldmljZV9yZXNvdXJjZSB7Cj4gPiA+
ICAgICBzNjQgICAgICAgICAgICAgICAgICAgICBtZW1fYndfc3RhdHNbX19EUk1DR19NRU1fQldf
QVRUUl9MQVNUXTsKPiA+ID4gICAgIHM2NCAgICAgICAgICAgICAgICAgICAgIG1lbV9id19saW1p
dHNfYnl0ZXNfaW5fcGVyaW9kOwo+ID4gPiAgICAgczY0ICAgICAgICAgICAgICAgICAgICAgbWVt
X2J3X2xpbWl0c19hdmdfYnl0ZXNfcGVyX3VzOwo+ID4gPiArCj4gPiA+ICsgICBzNjQgICAgICAg
ICAgICAgICAgICAgICBsZ3B1X3VzZWQ7Cj4gPiA+ICsgICBERUNMQVJFX0JJVE1BUChsZ3B1X2Fs
bG9jYXRlZCwgTUFYX0RSTUNHX0xHUFVfQ0FQQUNJVFkpOwo+ID4gPiAgIH07Cj4gPiA+Cj4gPiA+
ICAgLyoqCj4gPiA+IGRpZmYgLS1naXQgYS9rZXJuZWwvY2dyb3VwL2RybS5jIGIva2VybmVsL2Nn
cm91cC9kcm0uYwo+ID4gPiBpbmRleCAwZWE3ZjA2MTllMjUuLjE4YzQzNjhlMmMyOSAxMDA2NDQK
PiA+ID4gLS0tIGEva2VybmVsL2Nncm91cC9kcm0uYwo+ID4gPiArKysgYi9rZXJuZWwvY2dyb3Vw
L2RybS5jCj4gPiA+IEBAIC05LDYgKzksNyBAQAo+ID4gPiAgICNpbmNsdWRlIDxsaW51eC9jZ3Jv
dXBfZHJtLmg+Cj4gPiA+ICAgI2luY2x1ZGUgPGxpbnV4L2t0aW1lLmg+Cj4gPiA+ICAgI2luY2x1
ZGUgPGxpbnV4L2tlcm5lbC5oPgo+ID4gPiArI2luY2x1ZGUgPGxpbnV4L2JpdG1hcC5oPgo+ID4g
PiAgICNpbmNsdWRlIDxkcm0vZHJtX2ZpbGUuaD4KPiA+ID4gICAjaW5jbHVkZSA8ZHJtL2RybV9k
cnYuaD4KPiA+ID4gICAjaW5jbHVkZSA8ZHJtL3R0bS90dG1fYm9fYXBpLmg+Cj4gPiA+IEBAIC01
Miw2ICs1Myw5IEBAIHN0YXRpYyBjaGFyIGNvbnN0ICptZW1fYndfYXR0cl9uYW1lc1tdID0gewo+
ID4gPiAgICNkZWZpbmUgTUVNX0JXX0xJTUlUU19OQU1FX0FWRyAiYXZnX2J5dGVzX3Blcl91cyIK
PiA+ID4gICAjZGVmaW5lIE1FTV9CV19MSU1JVFNfTkFNRV9CVVJTVCAiYnl0ZXNfaW5fcGVyaW9k
Igo+ID4gPgo+ID4gPiArI2RlZmluZSBMR1BVX0xJTUlUU19OQU1FX0xJU1QgImxpc3QiCj4gPiA+
ICsjZGVmaW5lIExHUFVfTElNSVRTX05BTUVfQ09VTlQgImNvdW50Igo+ID4gPiArCj4gPiA+ICAg
c3RhdGljIHN0cnVjdCBkcm1jZyAqcm9vdF9kcm1jZyBfX3JlYWRfbW9zdGx5Owo+ID4gPgo+ID4g
PiAgIHN0YXRpYyBpbnQgZHJtY2dfY3NzX2ZyZWVfZm4oaW50IGlkLCB2b2lkICpwdHIsIHZvaWQg
KmRhdGEpCj4gPiA+IEBAIC0xMTUsNiArMTE5LDEwIEBAIHN0YXRpYyBpbmxpbmUgaW50IGluaXRf
ZHJtY2dfc2luZ2xlKHN0cnVjdCBkcm1jZyAqZHJtY2csIHN0cnVjdCBkcm1fZGV2aWNlICpkZXYp
Cj4gPiA+ICAgICBmb3IgKGkgPSAwOyBpIDw9IFRUTV9QTF9QUklWOyBpKyspCj4gPiA+ICAgICAg
ICAgICAgIGRkci0+bWVtX2hpZ2hzW2ldID0gZGV2LT5kcm1jZ19wcm9wcy5tZW1faGlnaHNfZGVm
YXVsdFtpXTsKPiA+ID4KPiA+ID4gKyAgIGJpdG1hcF9jb3B5KGRkci0+bGdwdV9hbGxvY2F0ZWQs
IGRldi0+ZHJtY2dfcHJvcHMubGdwdV9zbG90cywKPiA+ID4gKyAgICAgICAgICAgICAgICAgICBN
QVhfRFJNQ0dfTEdQVV9DQVBBQ0lUWSk7Cj4gPiA+ICsgICBkZHItPmxncHVfdXNlZCA9IGJpdG1h
cF93ZWlnaHQoZGRyLT5sZ3B1X2FsbG9jYXRlZCwgTUFYX0RSTUNHX0xHUFVfQ0FQQUNJVFkpOwo+
ID4gPiArCj4gPiA+ICAgICBtdXRleF91bmxvY2soJmRldi0+ZHJtY2dfbXV0ZXgpOwo+ID4gPiAg
ICAgcmV0dXJuIDA7Cj4gPiA+ICAgfQo+ID4gPiBAQCAtMjgwLDYgKzI4OCwxNCBAQCBzdGF0aWMg
dm9pZCBkcm1jZ19wcmludF9saW1pdHMoc3RydWN0IGRybWNnX2RldmljZV9yZXNvdXJjZSAqZGRy
LAo+ID4gPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTUVNX0JXX0xJTUlUU19OQU1FX0FW
RywKPiA+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRkci0+bWVtX2J3X2xpbWl0c19h
dmdfYnl0ZXNfcGVyX3VzKTsKPiA+ID4gICAgICAgICAgICAgYnJlYWs7Cj4gPiA+ICsgICBjYXNl
IERSTUNHX1RZUEVfTEdQVToKPiA+ID4gKyAgICAgICAgICAgc2VxX3ByaW50ZihzZiwgIiVzPSVs
bGQgJXM9JSpwYmxcbiIsCj4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICBMR1BVX0xJ
TUlUU19OQU1FX0NPVU5ULAo+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgZGRyLT5s
Z3B1X3VzZWQsCj4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICBMR1BVX0xJTUlUU19O
QU1FX0xJU1QsCj4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXYtPmRybWNnX3By
b3BzLmxncHVfY2FwYWNpdHksCj4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICBkZHIt
PmxncHVfYWxsb2NhdGVkKTsKPiA+ID4gKyAgICAgICAgICAgYnJlYWs7Cj4gPiA+ICAgICBkZWZh
dWx0Ogo+ID4gPiAgICAgICAgICAgICBzZXFfcHV0cyhzZiwgIlxuIik7Cj4gPiA+ICAgICAgICAg
ICAgIGJyZWFrOwo+ID4gPiBAQCAtMzE0LDYgKzMzMCwxNSBAQCBzdGF0aWMgdm9pZCBkcm1jZ19w
cmludF9kZWZhdWx0KHN0cnVjdCBkcm1jZ19wcm9wcyAqcHJvcHMsCj4gPiA+ICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBNRU1fQldfTElNSVRTX05BTUVfQVZHLAo+ID4gPiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgcHJvcHMtPm1lbV9id19hdmdfYnl0ZXNfcGVyX3VzX2RlZmF1bHQp
Owo+ID4gPiAgICAgICAgICAgICBicmVhazsKPiA+ID4gKyAgIGNhc2UgRFJNQ0dfVFlQRV9MR1BV
Ogo+ID4gPiArICAgICAgICAgICBzZXFfcHJpbnRmKHNmLCAiJXM9JWQgJXM9JSpwYmxcbiIsCj4g
PiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICBMR1BVX0xJTUlUU19OQU1FX0NPVU5ULAo+
ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgYml0bWFwX3dlaWdodChwcm9wcy0+bGdw
dV9zbG90cywKPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHMt
PmxncHVfY2FwYWNpdHkpLAo+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgTEdQVV9M
SU1JVFNfTkFNRV9MSVNULAo+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHMt
PmxncHVfY2FwYWNpdHksCj4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy0+
bGdwdV9zbG90cyk7Cj4gPiA+ICsgICAgICAgICAgIGJyZWFrOwo+ID4gPiAgICAgZGVmYXVsdDoK
PiA+ID4gICAgICAgICAgICAgc2VxX3B1dHMoc2YsICJcbiIpOwo+ID4gPiAgICAgICAgICAgICBi
cmVhazsKPiA+ID4gQEAgLTQwNyw5ICs0MzIsMjEgQEAgc3RhdGljIHZvaWQgZHJtY2dfdmFsdWVf
YXBwbHkoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgczY0ICpkc3QsIHM2NCB2YWwpCj4gPiA+ICAg
ICBtdXRleF91bmxvY2soJmRldi0+ZHJtY2dfbXV0ZXgpOwo+ID4gPiAgIH0KPiA+ID4KPiA+ID4g
K3N0YXRpYyB2b2lkIGRybWNnX2xncHVfdmFsdWVzX2FwcGx5KHN0cnVjdCBkcm1fZGV2aWNlICpk
ZXYsCj4gPiA+ICsgICAgICAgICAgIHN0cnVjdCBkcm1jZ19kZXZpY2VfcmVzb3VyY2UgKmRkciwg
dW5zaWduZWQgbG9uZyAqdmFsKQo+ID4gPiArewo+ID4gPiArCj4gPiA+ICsgICBtdXRleF9sb2Nr
KCZkZXYtPmRybWNnX211dGV4KTsKPiA+ID4gKyAgIGJpdG1hcF9jb3B5KGRkci0+bGdwdV9hbGxv
Y2F0ZWQsIHZhbCwgTUFYX0RSTUNHX0xHUFVfQ0FQQUNJVFkpOwo+ID4gPiArICAgZGRyLT5sZ3B1
X3VzZWQgPSBiaXRtYXBfd2VpZ2h0KGRkci0+bGdwdV9hbGxvY2F0ZWQsIE1BWF9EUk1DR19MR1BV
X0NBUEFDSVRZKTsKPiA+ID4gKyAgIG11dGV4X3VubG9jaygmZGV2LT5kcm1jZ19tdXRleCk7Cj4g
PiA+ICt9Cj4gPiA+ICsKPiA+ID4gICBzdGF0aWMgdm9pZCBkcm1jZ19uZXN0ZWRfbGltaXRfcGFy
c2Uoc3RydWN0IGtlcm5mc19vcGVuX2ZpbGUgKm9mLAo+ID4gPiAgICAgICAgICAgICBzdHJ1Y3Qg
ZHJtX2RldmljZSAqZGV2LCBjaGFyICphdHRycykKPiA+ID4gICB7Cj4gPiA+ICsgICBERUNMQVJF
X0JJVE1BUCh0bXBfYml0bWFwLCBNQVhfRFJNQ0dfTEdQVV9DQVBBQ0lUWSk7Cj4gPiA+ICsgICBE
RUNMQVJFX0JJVE1BUChjaGtfYml0bWFwLCBNQVhfRFJNQ0dfTEdQVV9DQVBBQ0lUWSk7Cj4gPiA+
ICAgICBlbnVtIGRybWNnX3Jlc190eXBlIHR5cGUgPQo+ID4gPiAgICAgICAgICAgICBEUk1DR19D
VEZfUFJJVjJSRVNUWVBFKG9mX2NmdChvZiktPnByaXZhdGUpOwo+ID4gPiAgICAgc3RydWN0IGRy
bWNnICpkcm1jZyA9IGNzc190b19kcm1jZyhvZl9jc3Mob2YpKTsKPiA+ID4gQEAgLTUwMSw2ICs1
MzgsODMgQEAgc3RhdGljIHZvaWQgZHJtY2dfbmVzdGVkX2xpbWl0X3BhcnNlKHN0cnVjdCBrZXJu
ZnNfb3Blbl9maWxlICpvZiwKPiA+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRp
bnVlOwo+ID4gPiAgICAgICAgICAgICAgICAgICAgIH0KPiA+ID4gICAgICAgICAgICAgICAgICAg
ICBicmVhazsgLyogRFJNQ0dfVFlQRV9NRU0gKi8KPiA+ID4gKyAgICAgICAgICAgY2FzZSBEUk1D
R19UWVBFX0xHUFU6Cj4gPiA+ICsgICAgICAgICAgICAgICAgICAgaWYgKHN0cm5jbXAoc25hbWUs
IExHUFVfTElNSVRTX05BTUVfTElTVCwgMjU2KSAmJgo+ID4gPiArICAgICAgICAgICAgICAgICAg
ICAgICAgICAgc3RybmNtcChzbmFtZSwgTEdQVV9MSU1JVFNfTkFNRV9DT1VOVCwgMjU2KSApCj4g
PiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKPiA+ID4gKwo+ID4gPiAr
ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdHJjbXAoIm1heCIsIHN2YWwpIHx8Cj4gPiA+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFzdHJjbXAoImRlZmF1bHQiLCBz
dmFsKSkgewo+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudCAhPSBO
VUxMKQo+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcm1jZ19sZ3B1
X3ZhbHVlc19hcHBseShkZXYsIGRkciwKPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBwYXJlbnQtPmRldl9yZXNvdXJjZXNbbWlub3JdLT4KPiA+ID4gKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZ3B1X2FsbG9jYXRlZCk7
Cj4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCj4gPiA+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGRybWNnX2xncHVfdmFsdWVzX2FwcGx5KGRldiwgZGRy
LAo+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3Bz
LT5sZ3B1X3Nsb3RzKTsKPiA+ID4gKwo+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
Y29udGludWU7Cj4gPiA+ICsgICAgICAgICAgICAgICAgICAgfQo+ID4gPiArCj4gPiA+ICsgICAg
ICAgICAgICAgICAgICAgaWYgKHN0cm5jbXAoc25hbWUsIExHUFVfTElNSVRTX05BTUVfQ09VTlQs
IDI1NikgPT0gMCkgewo+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgcF9tYXggPSBw
YXJlbnQgPT0gTlVMTCA/IHByb3BzLT5sZ3B1X2NhcGFjaXR5Ogo+ID4gPiArICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBiaXRtYXBfd2VpZ2h0KAo+ID4gPiArICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQtPmRldl9yZXNvdXJjZXNbbWlub3JdLT4KPiA+
ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGdwdV9hbGxvY2F0ZWQsIHBy
b3BzLT5sZ3B1X2NhcGFjaXR5KTsKPiA+ID4gKwo+ID4gPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgcmMgPSBkcm1jZ19wcm9jZXNzX2xpbWl0X3M2NF92YWwoc3ZhbCwKPiA+ID4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UsIHBfbWF4LCBwX21heCwgJnZhbCk7
Cj4gPiA+ICsKPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyYyB8fCB2YWwg
PCAwKSB7Cj4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRybWNnX3By
X2NmdF9lcnIoZHJtY2csIHJjLCBjZnRfbmFtZSwKPiA+ID4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbm9yKTsKPiA+ID4gKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7Cj4gPiA+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICB9Cj4gPiA+ICsKPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgIGJp
dG1hcF96ZXJvKHRtcF9iaXRtYXAsCj4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgTUFYX0RSTUNHX0xHUFVfQ0FQQUNJVFkpOwo+ID4gPiArICAgICAgICAg
ICAgICAgICAgICAgICAgICAgYml0bWFwX3NldCh0bXBfYml0bWFwLCAwLCB2YWwpOwo+ID4gPiAr
ICAgICAgICAgICAgICAgICAgIH0KPiA+ID4gKwo+ID4gPiArICAgICAgICAgICAgICAgICAgIGlm
IChzdHJuY21wKHNuYW1lLCBMR1BVX0xJTUlUU19OQU1FX0xJU1QsIDI1NikgPT0gMCkgewo+ID4g
PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgcmMgPSBiaXRtYXBfcGFyc2VsaXN0KHN2YWws
IHRtcF9iaXRtYXAsCj4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgTUFYX0RSTUNHX0xHUFVfQ0FQQUNJVFkpOwo+ID4gPiArCj4gPiA+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICBpZiAocmMpIHsKPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgZHJtY2dfcHJfY2Z0X2Vycihkcm1jZywgcmMsIGNmdF9uYW1lLAo+ID4gPiAr
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWlub3Ip
Owo+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKPiA+
ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KPiA+ID4gKwo+ID4gPiArICAgICAgICAg
ICAgICAgICAgICAgICAgICAgYml0bWFwX2FuZG5vdChjaGtfYml0bWFwLCB0bXBfYml0bWFwLAo+
ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy0+bGdwdV9zbG90
cywKPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTUFYX0RSTUNHX0xH
UFVfQ0FQQUNJVFkpOwo+ID4gPiArCj4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICBp
ZiAoIWJpdG1hcF9lbXB0eShjaGtfYml0bWFwLAo+ID4gPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIE1BWF9EUk1DR19MR1BVX0NBUEFDSVRZKSkgewo+ID4gPiAr
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcm1jZ19wcl9jZnRfZXJyKGRybWNn
LCAwLCBjZnRfbmFtZSwKPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIG1pbm9yKTsKPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgY29udGludWU7Cj4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICB9Cj4g
PiA+ICsgICAgICAgICAgICAgICAgICAgfQo+ID4gPiArCj4gPiA+ICsKPiA+ID4gKyAgICAgICAg
ICAgICAgICAgICAgICAgIGlmIChwYXJlbnQgIT0gTlVMTCkgewo+ID4gPiArICAgICAgICAgICAg
ICAgICAgICAgICAgICAgYml0bWFwX2FuZChjaGtfYml0bWFwLCB0bXBfYml0bWFwLAo+ID4gPiAr
ICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LT5kZXZfcmVzb3VyY2VzW21pbm9yXS0+
bGdwdV9hbGxvY2F0ZWQsCj4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy0+
bGdwdV9jYXBhY2l0eSk7Cj4gPiA+ICsKPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAg
IGlmIChiaXRtYXBfZW1wdHkoY2hrX2JpdG1hcCwKPiA+ID4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy0+bGdwdV9jYXBhY2l0eSkpIHsKPiA+ID4gKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJtY2dfcHJfY2Z0X2Vycihkcm1jZywg
MCwKPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIGNmdF9uYW1lLCBtaW5vcik7Cj4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGNvbnRpbnVlOwo+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgfQo+ID4g
PiArICAgICAgICAgICAgICAgICAgIH0KPiA+ID4gKwo+ID4gPiArICAgICAgICAgICAgICAgICAg
IGRybWNnX2xncHVfdmFsdWVzX2FwcGx5KGRldiwgZGRyLCB0bXBfYml0bWFwKTsKPiA+ID4gKwo+
ID4gPiArICAgICAgICAgICAgICAgICAgIGJyZWFrOyAvKiBEUk1DR19UWVBFX0xHUFUgKi8KPiA+
ID4gICAgICAgICAgICAgZGVmYXVsdDoKPiA+ID4gICAgICAgICAgICAgICAgICAgICBicmVhazsK
PiA+ID4gICAgICAgICAgICAgfSAvKiBzd2l0Y2ggKHR5cGUpICovCj4gPiA+IEBAIC02MDYsNiAr
NzIwLDcgQEAgc3RhdGljIHNzaXplX3QgZHJtY2dfbGltaXRfd3JpdGUoc3RydWN0IGtlcm5mc19v
cGVuX2ZpbGUgKm9mLCBjaGFyICpidWYsCj4gPiA+ICAgICAgICAgICAgICAgICAgICAgYnJlYWs7
Cj4gPiA+ICAgICAgICAgICAgIGNhc2UgRFJNQ0dfVFlQRV9CQU5EV0lEVEg6Cj4gPiA+ICAgICAg
ICAgICAgIGNhc2UgRFJNQ0dfVFlQRV9NRU06Cj4gPiA+ICsgICAgICAgICAgIGNhc2UgRFJNQ0df
VFlQRV9MR1BVOgo+ID4gPiAgICAgICAgICAgICAgICAgICAgIGRybWNnX25lc3RlZF9saW1pdF9w
YXJzZShvZiwgZG0tPmRldiwgc2F0dHIpOwo+ID4gPiAgICAgICAgICAgICAgICAgICAgIGJyZWFr
Owo+ID4gPiAgICAgICAgICAgICBkZWZhdWx0Ogo+ID4gPiBAQCAtNzMxLDYgKzg0NiwyMCBAQCBz
dHJ1Y3QgY2Z0eXBlIGZpbGVzW10gPSB7Cj4gPiA+ICAgICAgICAgICAgIC5wcml2YXRlID0gRFJN
Q0dfQ1RGX1BSSVYoRFJNQ0dfVFlQRV9CQU5EV0lEVEgsCj4gPiA+ICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgRFJNQ0dfRlRZUEVfREVGQVVMVCksCj4gPiA+ICAg
ICB9LAo+ID4gPiArICAgewo+ID4gPiArICAgICAgICAgICAubmFtZSA9ICJsZ3B1IiwKPiA+ID4g
KyAgICAgICAgICAgLnNlcV9zaG93ID0gZHJtY2dfc2VxX3Nob3csCj4gPiA+ICsgICAgICAgICAg
IC53cml0ZSA9IGRybWNnX2xpbWl0X3dyaXRlLAo+ID4gPiArICAgICAgICAgICAucHJpdmF0ZSA9
IERSTUNHX0NURl9QUklWKERSTUNHX1RZUEVfTEdQVSwKPiA+ID4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBEUk1DR19GVFlQRV9MSU1JVCksCj4gPiA+ICsgICB9
LAo+ID4gPiArICAgewo+ID4gPiArICAgICAgICAgICAubmFtZSA9ICJsZ3B1LmRlZmF1bHQiLAo+
ID4gPiArICAgICAgICAgICAuc2VxX3Nob3cgPSBkcm1jZ19zZXFfc2hvdywKPiA+ID4gKyAgICAg
ICAgICAgLmZsYWdzID0gQ0ZUWVBFX09OTFlfT05fUk9PVCwKPiA+ID4gKyAgICAgICAgICAgLnBy
aXZhdGUgPSBEUk1DR19DVEZfUFJJVihEUk1DR19UWVBFX0xHUFUsCj4gPiA+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRFJNQ0dfRlRZUEVfREVGQVVMVCksCj4g
PiA+ICsgICB9LAo+ID4gPiAgICAgeyB9ICAgICAvKiB0ZXJtaW5hdGUgKi8KPiA+ID4gICB9Owo+
ID4gPgo+ID4gPiBAQCAtNzQ0LDYgKzg3MywxMCBAQCBzdHJ1Y3QgY2dyb3VwX3N1YnN5cyBkcm1f
Y2dycF9zdWJzeXMgPSB7Cj4gPiA+Cj4gPiA+ICAgc3RhdGljIGlubGluZSB2b2lkIGRybWNnX3Vw
ZGF0ZV9jZ190cmVlKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYpCj4gPiA+ICAgewo+ID4gPiArICAg
ICAgICBiaXRtYXBfemVybyhkZXYtPmRybWNnX3Byb3BzLmxncHVfc2xvdHMsIE1BWF9EUk1DR19M
R1BVX0NBUEFDSVRZKTsKPiA+ID4gKyAgICAgICAgYml0bWFwX2ZpbGwoZGV2LT5kcm1jZ19wcm9w
cy5sZ3B1X3Nsb3RzLAo+ID4gPiArICAgICAgICAgICAgICAgICAgIGRldi0+ZHJtY2dfcHJvcHMu
bGdwdV9jYXBhY2l0eSk7Cj4gPiA+ICsKPiA+ID4gICAgIC8qIGluaXQgY2dyb3VwcyBjcmVhdGVk
IGJlZm9yZSByZWdpc3RyYXRpb24gKGkuZS4gcm9vdCBjZ3JvdXApICovCj4gPiA+ICAgICBpZiAo
cm9vdF9kcm1jZyAhPSBOVUxMKSB7Cj4gPiA+ICAgICAgICAgICAgIHN0cnVjdCBjZ3JvdXBfc3Vi
c3lzX3N0YXRlICpwb3M7Cj4gPiA+IEBAIC04MDAsNiArOTMzLDggQEAgdm9pZCBkcm1jZ19kZXZp
Y2VfZWFybHlfaW5pdChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2KQo+ID4gPiAgICAgZm9yIChpID0g
MDsgaSA8PSBUVE1fUExfUFJJVjsgaSsrKQo+ID4gPiAgICAgICAgICAgICBkZXYtPmRybWNnX3By
b3BzLm1lbV9oaWdoc19kZWZhdWx0W2ldID0gUzY0X01BWDsKPiA+ID4KPiA+ID4gKyAgIGRldi0+
ZHJtY2dfcHJvcHMubGdwdV9jYXBhY2l0eSA9IE1BWF9EUk1DR19MR1BVX0NBUEFDSVRZOwo+ID4g
PiArCj4gPiA+ICAgICBkcm1jZ191cGRhdGVfY2dfdHJlZShkZXYpOwo+ID4gPiAgIH0KPiA+ID4g
ICBFWFBPUlRfU1lNQk9MKGRybWNnX2RldmljZV9lYXJseV9pbml0KTsKPgo+IC0tCj4gRGFuaWVs
IFZldHRlcgo+IFNvZnR3YXJlIEVuZ2luZWVyLCBJbnRlbCBDb3Jwb3JhdGlvbgo+IGh0dHA6Ly9i
bG9nLmZmd2xsLmNoCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9y
ZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZl
bA==
