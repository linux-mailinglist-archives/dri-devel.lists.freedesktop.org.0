Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 77FC5DA913
	for <lists+dri-devel@lfdr.de>; Thu, 17 Oct 2019 11:48:39 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 57D6A6EA36;
	Thu, 17 Oct 2019 09:48:36 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wm1-x344.google.com (mail-wm1-x344.google.com
 [IPv6:2a00:1450:4864:20::344])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 84FF56EA36
 for <dri-devel@lists.freedesktop.org>; Thu, 17 Oct 2019 09:48:34 +0000 (UTC)
Received: by mail-wm1-x344.google.com with SMTP id p7so1845989wmp.4
 for <dri-devel@lists.freedesktop.org>; Thu, 17 Oct 2019 02:48:34 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=5iLLS7Y0EigWyUmvKnwWYMeuPvGCs9F0h7Crje9w3Z4=;
 b=TJEWy7cHMJYcssUqcX+8VJx7ruuqv1jsDmGdYZeSOMG6486tJiZf9umDNArq0Prlw7
 Uerqo0+RHUqr0j4fqB5MYBGJFLyjQYpC0Bt0LmnwsVNStE2kg1sV+yFL9yQfINe3FmZd
 ayJqec3qySNcLc1hmuK1xiW+ZiCE5PjISYkq/vH/CdqLSPJuz3Ftbr/X9sUPtVmyCWGf
 78Y+gb8akDA4xaGktqtUKHbqafaWBOfxriRVpHXmBFqyvIpG1VdfiugEBzD5xtCBU1kF
 VOQyGc5FVLQVA5THM4QFMWSIqd0iAYpUyaPPp4s4oNDYjKkTASVVHwzFKwtOj4kSJbXz
 j09g==
X-Gm-Message-State: APjAAAWT1+k27ssDdyhrjTTrgeGx3I0gvM8n5+tAmKuROcWaVUzD4h2V
 kLkiHK9SwemIQmOKYK+okSBULHxr2KHeiA==
X-Google-Smtp-Source: APXvYqxfe3Pk1/LziocmZDXLLEnmpKfeDMqewKinRi8tGvfp3Ku7InG32G6MDjy89H4CUUY0+HrJtQ==
X-Received: by 2002:a7b:c8d9:: with SMTP id f25mr1951718wml.173.1571305712633; 
 Thu, 17 Oct 2019 02:48:32 -0700 (PDT)
Received: from localhost.localdomain
 (lmontsouris-657-1-212-31.w90-63.abo.wanadoo.fr. [90.63.244.31])
 by smtp.gmail.com with ESMTPSA id t83sm2764506wmt.18.2019.10.17.02.48.31
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Thu, 17 Oct 2019 02:48:32 -0700 (PDT)
From: Neil Armstrong <narmstrong@baylibre.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH v2 2/3] drm/meson: add RDMA module driver
Date: Thu, 17 Oct 2019 11:48:25 +0200
Message-Id: <20191017094826.21552-3-narmstrong@baylibre.com>
X-Mailer: git-send-email 2.22.0
In-Reply-To: <20191017094826.21552-1-narmstrong@baylibre.com>
References: <20191017094826.21552-1-narmstrong@baylibre.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=baylibre-com.20150623.gappssmtp.com; s=20150623;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=5iLLS7Y0EigWyUmvKnwWYMeuPvGCs9F0h7Crje9w3Z4=;
 b=M+29CLpvbth+qIKUr1cAPhn/E3zmxgmcySpB+nm7dDJh55N/P/kVcLzcAUhNO7kNwK
 0mTWL9rbP+4u6hKspusYli3udPZ+BwAsJCpFiUH1yFfhFSFGs594RIbje/I42yZFfkii
 kkAU7wNDldk28IABqlHTQneVZNCfbUa1AutjYFh9Q5rpyDiI7jZ9wrkiDSBdanUll4P7
 M9dBS42sEzsmU3t69DVzrJATWxqDxF+NiY5vIzwHDIwTcvl2hhe9VZnr9R+0phbVcQ/4
 ad0ILvRf64ZJJ/WMhXvp3Zmsk0g6j/rD3HRO9Wcl7nk1bZ0RrBKemXo1P2odDgRL+8F4
 S1xg==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: khilman@baylibre.com, linux-amlogic@lists.infradead.org,
 linux-arm-kernel@lists.infradead.org, Neil Armstrong <narmstrong@baylibre.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIFZQVSBlbWJlZHMgYSAiUmVnaXN0ZXIgRE1BIiB0aGF0IGNhbiB3cml0ZSBhIHNlcXVlbmNl
IG9mIHJlZ2lzdGVycwpvbiB0aGUgVlBVIEFIQiBidXMsIGVpdGhlciBtYW51YWxseSBvciB0cmln
Z2VyZWQgYnkgYW4gaW50ZXJuYWwgSVJRCmV2ZW50IGxpa2UgVlNZTkMgb3IgYSBsaW5lIGlucHV0
IGNvdW50ZXIuCgpUaGUgaW5pdGlhbCBpbXBsZW1lbnRhdGlvbiBoYW5kbGVzIGEgc2luZ2xlIGNo
YW5uZWwgKG92ZXIgOCksIHRyaWdnZXJlZApieSB0aGUgVlNZTkMgaXJxIGFuZCBkb2VzIG5vdCBo
YW5kbGUgdGhlIFJETUEgaXJxLgoKVGhlIFJETUEgd2lsbCBiZSB1c2VmdWxsIHRvIHJlc2V0IGFu
ZCBwcm9ncmFtIHRoZSBBRkJDIGRlY29kZXIgdW5pdApvbiBlYWNoIHZzeW5jIHdpdGhvdXQgaW52
b2x2aW5nIHRoZSBpbnRlcnJ1cHQgaGFuZGxlciB0aGF0IGNhbgpiZSBtYXNrZWQgZm9yIGEgbG9n
IHBlcmlvZCBvZiB0aW1lLCBwcm9kdWNpbmcgZGlzcGxheSBnbGl0Y2hlcy4KClNpZ25lZC1vZmYt
Ynk6IE5laWwgQXJtc3Ryb25nIDxuYXJtc3Ryb25nQGJheWxpYnJlLmNvbT4KLS0tCiBkcml2ZXJz
L2dwdS9kcm0vbWVzb24vTWFrZWZpbGUgICAgIHwgICAyICstCiBkcml2ZXJzL2dwdS9kcm0vbWVz
b24vbWVzb25fZHJ2LmMgIHwgIDE0ICsrLQogZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29uX2Ry
di5oICB8ICAgNiArKwogZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29uX3JkbWEuYyB8IDEzMiAr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKwogZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29u
X3JkbWEuaCB8ICAyMSArKysrKwogNSBmaWxlcyBjaGFuZ2VkLCAxNzEgaW5zZXJ0aW9ucygrKSwg
NCBkZWxldGlvbnMoLSkKIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vbWVzb24v
bWVzb25fcmRtYS5jCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL21lc29uL21l
c29uX3JkbWEuaAoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9NYWtlZmlsZSBi
L2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9NYWtlZmlsZQppbmRleCBiMWZhMDU1YWFlZDMuLjllMzZm
MGM3YjgxNiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL21lc29uL01ha2VmaWxlCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9NYWtlZmlsZQpAQCAtMSw3ICsxLDcgQEAKICMgU1BEWC1M
aWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb25seQogbWVzb24tZHJtLXkgOj0gbWVzb25fZHJ2
Lm8gbWVzb25fcGxhbmUubyBtZXNvbl9jcnRjLm8gbWVzb25fdmVuY19jdmJzLm8KIG1lc29uLWRy
bS15ICs9IG1lc29uX3ZpdS5vIG1lc29uX3ZwcC5vIG1lc29uX3ZlbmMubyBtZXNvbl92Y2xrLm8g
bWVzb25fb3ZlcmxheS5vCi1tZXNvbi1kcm0teSArPSBtZXNvbl9vc2RfYWZiY2QubworbWVzb24t
ZHJtLXkgKz0gbWVzb25fb3NkX2FmYmNkLm8gbWVzb25fcmRtYS5vCiAKIG9iai0kKENPTkZJR19E
Uk1fTUVTT04pICs9IG1lc29uLWRybS5vCiBvYmotJChDT05GSUdfRFJNX01FU09OX0RXX0hETUkp
ICs9IG1lc29uX2R3X2hkbWkubwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL21lc29uL21l
c29uX2Rydi5jIGIvZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29uX2Rydi5jCmluZGV4IDBmMzFl
NzBiYjk0Zi4uMjIwMGQ4YjUyNTJlIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vbWVzb24v
bWVzb25fZHJ2LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29uX2Rydi5jCkBAIC0z
Myw2ICszMyw3IEBACiAjaW5jbHVkZSAibWVzb25fdmVuY19jdmJzLmgiCiAjaW5jbHVkZSAibWVz
b25fdml1LmgiCiAjaW5jbHVkZSAibWVzb25fdnBwLmgiCisjaW5jbHVkZSAibWVzb25fcmRtYS5o
IgogCiAjZGVmaW5lIERSSVZFUl9OQU1FICJtZXNvbiIKICNkZWZpbmUgRFJJVkVSX0RFU0MgIkFt
bG9naWMgTWVzb24gRFJNIGRyaXZlciIKQEAgLTI5NSw4ICsyOTYsMTEgQEAgc3RhdGljIGludCBt
ZXNvbl9kcnZfYmluZF9tYXN0ZXIoc3RydWN0IGRldmljZSAqZGV2LCBib29sIGhhc19jb21wb25l
bnRzKQogCW1lc29uX3ZlbmNfaW5pdChwcml2KTsKIAltZXNvbl92cHBfaW5pdChwcml2KTsKIAlt
ZXNvbl92aXVfaW5pdChwcml2KTsKLQlpZiAocHJpdi0+YWZiY2Qub3BzKQotCQlwcml2LT5hZmJj
ZC5vcHMtPmluaXQocHJpdik7CisJaWYgKHByaXYtPmFmYmNkLm9wcykgeworCQlyZXQgPSBwcml2
LT5hZmJjZC5vcHMtPmluaXQocHJpdik7CisJCWlmIChyZXQpCisJCQlyZXR1cm4gcmV0OworCX0K
IAogCS8qIEVuY29kZXIgSW5pdGlhbGl6YXRpb24gKi8KIApAQCAtMzY3LDEyICszNzEsMTYgQEAg
c3RhdGljIHZvaWQgbWVzb25fZHJ2X3VuYmluZChzdHJ1Y3QgZGV2aWNlICpkZXYpCiAJCW1lc29u
X2NhbnZhc19mcmVlKHByaXYtPmNhbnZhcywgcHJpdi0+Y2FudmFzX2lkX3ZkMV8yKTsKIAl9CiAK
KwlpZiAocHJpdi0+YWZiY2Qub3BzKSB7CisJCXByaXYtPmFmYmNkLm9wcy0+cmVzZXQocHJpdik7
CisJCW1lc29uX3JkbWFfZnJlZShwcml2KTsKKwl9CisKIAlkcm1fZGV2X3VucmVnaXN0ZXIoZHJt
KTsKIAlkcm1faXJxX3VuaW5zdGFsbChkcm0pOwogCWRybV9rbXNfaGVscGVyX3BvbGxfZmluaShk
cm0pOwogCWRybV9tb2RlX2NvbmZpZ19jbGVhbnVwKGRybSk7CiAJZHJtX2Rldl9wdXQoZHJtKTsK
LQogfQogCiBzdGF0aWMgY29uc3Qgc3RydWN0IGNvbXBvbmVudF9tYXN0ZXJfb3BzIG1lc29uX2Ry
dl9tYXN0ZXJfb3BzID0gewpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29u
X2Rydi5oIGIvZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29uX2Rydi5oCmluZGV4IGRlMjUzNDli
ZThhYS4uOTk5NWQ3NGM1ZGVkIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVz
b25fZHJ2LmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29uX2Rydi5oCkBAIC0xMzks
NiArMTM5LDEyIEBAIHN0cnVjdCBtZXNvbl9kcm0gewogCQl1NjQgbW9kaWZpZXI7CiAJCXUzMiBm
b3JtYXQ7CiAJfSBhZmJjZDsKKworCXN0cnVjdCB7CisJCWRtYV9hZGRyX3QgYWRkcl9waHlzOwor
CQl1aW50MzJfdCAqYWRkcjsKKwkJdW5zaWduZWQgaW50IG9mZnNldDsKKwl9IHJkbWE7CiB9Owog
CiBzdGF0aWMgaW5saW5lIGludCBtZXNvbl92cHVfaXNfY29tcGF0aWJsZShzdHJ1Y3QgbWVzb25f
ZHJtICpwcml2LApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29uX3JkbWEu
YyBiL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNvbl9yZG1hLmMKbmV3IGZpbGUgbW9kZSAxMDA2
NDQKaW5kZXggMDAwMDAwMDAwMDAwLi40ZWY1ZTQwMmQ1Y2EKLS0tIC9kZXYvbnVsbAorKysgYi9k
cml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fcmRtYS5jCkBAIC0wLDAgKzEsMTMyIEBACisvLyBT
UERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMCsKKy8qCisgKiBDb3B5cmlnaHQgKEMpIDIw
MTkgQmF5TGlicmUsIFNBUworICogQXV0aG9yOiBOZWlsIEFybXN0cm9uZyA8bmFybXN0cm9uZ0Bi
YXlsaWJyZS5jb20+CisgKi8KKworI2luY2x1ZGUgPGxpbnV4L2JpdGZpZWxkLmg+CisjaW5jbHVk
ZSA8bGludXgvZG1hLW1hcHBpbmcuaD4KKworI2luY2x1ZGUgIm1lc29uX2Rydi5oIgorI2luY2x1
ZGUgIm1lc29uX3JlZ2lzdGVycy5oIgorI2luY2x1ZGUgIm1lc29uX3JkbWEuaCIKKworLyoKKyAq
IFRoZSBWUFUgZW1iZWRzIGEgIlJlZ2lzdGVyIERNQSIgdGhhdCBjYW4gd3JpdGUgYSBzZXF1ZW5j
ZSBvZiByZWdpc3RlcnMKKyAqIG9uIHRoZSBWUFUgQUhCIGJ1cywgZWl0aGVyIG1hbnVhbGx5IG9y
IHRyaWdnZXJlZCBieSBhbiBpbnRlcm5hbCBJUlEKKyAqIGV2ZW50IGxpa2UgVlNZTkMgb3IgYSBs
aW5lIGlucHV0IGNvdW50ZXIuCisgKiBUaGUgaW5pdGlhbCBpbXBsZW1lbnRhdGlvbiBoYW5kbGVz
IGEgc2luZ2xlIGNoYW5uZWwgKG92ZXIgOCksIHRyaWdnZXJlZAorICogYnkgdGhlIFZTWU5DIGly
cSBhbmQgZG9lcyBub3QgaGFuZGxlIHRoZSBSRE1BIGlycS4KKyAqLworCisjZGVmaW5lIFJETUFf
REVTQ19TSVpFCShzaXplb2YodWludDMyX3QpICogMikKKworaW50IG1lc29uX3JkbWFfaW5pdChz
dHJ1Y3QgbWVzb25fZHJtICpwcml2KQoreworCS8qIEFsbG9jYXRlIGEgNGsgYnVmZmVyICovCisJ
cHJpdi0+cmRtYS5hZGRyID0gZG1hX2FsbG9jX2NvaGVyZW50KHByaXYtPmRldiwgU1pfNEssCisJ
CQkJCSAgICAgJnByaXYtPnJkbWEuYWRkcl9waHlzLAorCQkJCQkgICAgIEdGUF9LRVJORUwpOwor
CWlmICghcHJpdi0+cmRtYS5hZGRyKQorCQlyZXR1cm4gLUVOT01FTTsKKworCXByaXYtPnJkbWEu
b2Zmc2V0ID0gMDsKKworCXdyaXRlbF9yZWxheGVkKFJETUFfQ1RSTF9TV19SRVNFVCwKKwkJICAg
ICAgIHByaXYtPmlvX2Jhc2UgKyBfUkVHKFJETUFfQ1RSTCkpOworCXdyaXRlbF9yZWxheGVkKFJE
TUFfREVGQVVMVF9DT05GSUcgfAorCQkgICAgICAgRklFTERfUFJFUChSRE1BX0NUUkxfQUhCX1dS
X0JVUlNULCAzKSB8CisJCSAgICAgICBGSUVMRF9QUkVQKFJETUFfQ1RSTF9BSEJfUkRfQlVSU1Qs
IDApLAorCQkgICAgICAgcHJpdi0+aW9fYmFzZSArIF9SRUcoUkRNQV9DVFJMKSk7CisKKwlyZXR1
cm4gMDsKK30KKwordm9pZCBtZXNvbl9yZG1hX2ZyZWUoc3RydWN0IG1lc29uX2RybSAqcHJpdikK
K3sKKwlpZiAoIXByaXYtPnJkbWEuYWRkciAmJiAhcHJpdi0+cmRtYS5hZGRyX3BoeXMpCisJCXJl
dHVybjsKKworCW1lc29uX3JkbWFfc3RvcChwcml2KTsKKworCWRtYV9mcmVlX2NvaGVyZW50KHBy
aXYtPmRldiwgU1pfNEssCisJCQkgIHByaXYtPnJkbWEuYWRkciwgcHJpdi0+cmRtYS5hZGRyX3Bo
eXMpOworCisJcHJpdi0+cmRtYS5hZGRyID0gTlVMTDsKKwlwcml2LT5yZG1hLmFkZHJfcGh5cyA9
IChkbWFfYWRkcl90KU5VTEw7Cit9CisKK3ZvaWQgbWVzb25fcmRtYV9zZXR1cChzdHJ1Y3QgbWVz
b25fZHJtICpwcml2KQoreworCS8qIENoYW5uZWwgMTogV3JpdGUgRmxhZywgTm8gQWRkcmVzcyBJ
bmNyZW1lbnQgKi8KKwl3cml0ZWxfYml0c19yZWxheGVkKFJETUFfQUNDRVNTX1JXX0ZMQUdfQ0hB
TjEgfAorCQkJICAgIFJETUFfQUNDRVNTX0FERFJfSU5DX0NIQU4xLAorCQkJICAgIFJETUFfQUND
RVNTX1JXX0ZMQUdfQ0hBTjEsCisJCQkgICAgcHJpdi0+aW9fYmFzZSArIF9SRUcoUkRNQV9BQ0NF
U1NfQVVUTykpOworfQorCit2b2lkIG1lc29uX3JkbWFfc3RvcChzdHJ1Y3QgbWVzb25fZHJtICpw
cml2KQoreworCXdyaXRlbF9iaXRzX3JlbGF4ZWQoUkRNQV9JUlFfQ0xFQVJfQ0hBTjEsCisJCQkg
ICAgUkRNQV9JUlFfQ0xFQVJfQ0hBTjEsCisJCQkgICAgcHJpdi0+aW9fYmFzZSArIF9SRUcoUkRN
QV9DVFJMKSk7CisKKwkvKiBTdG9wIENoYW5uZWwgMSAqLworCXdyaXRlbF9iaXRzX3JlbGF4ZWQo
UkRNQV9BQ0NFU1NfVFJJR0dFUl9DSEFOMSwKKwkJCSAgICBGSUVMRF9QUkVQKFJETUFfQUNDRVNT
X0FERFJfSU5DX0NIQU4xLAorCQkJCSAgICAgICBSRE1BX0FDQ0VTU19UUklHR0VSX1NUT1ApLAor
CQkJICAgIHByaXYtPmlvX2Jhc2UgKyBfUkVHKFJETUFfQUNDRVNTX0FVVE8pKTsKK30KKwordm9p
ZCBtZXNvbl9yZG1hX3Jlc2V0KHN0cnVjdCBtZXNvbl9kcm0gKnByaXYpCit7CisJbWVzb25fcmRt
YV9zdG9wKHByaXYpOworCisJcHJpdi0+cmRtYS5vZmZzZXQgPSAwOworfQorCitzdGF0aWMgdm9p
ZCBtZXNvbl9yZG1hX3dyaXRlbChzdHJ1Y3QgbWVzb25fZHJtICpwcml2LCB1aW50MzJfdCB2YWws
CisJCQkgICAgICB1aW50MzJfdCByZWcpCit7CisJaWYgKHByaXYtPnJkbWEub2Zmc2V0ID49IChT
Wl80SyAvIFJETUFfREVTQ19TSVpFKSkgeworCQlkZXZfd2Fybl9vbmNlKHByaXYtPmRldiwgIiVz
OiBvdmVyZmxvd1xuIiwgX19mdW5jX18pOworCQlyZXR1cm47CisJfQorCisJcHJpdi0+cmRtYS5h
ZGRyW3ByaXYtPnJkbWEub2Zmc2V0KytdID0gcmVnOworCXByaXYtPnJkbWEuYWRkcltwcml2LT5y
ZG1hLm9mZnNldCsrXSA9IHZhbDsKK30KKworLyoKKyAqIFRoaXMgd2lsbCBhZGQgdGhlIHJlZ2lz
dGVyIHRvIHRoZSBSRE1BIGJ1ZmZlciBhbmQgd3JpdGUgaXQgdG8gdGhlCisgKiBoYXJkd2FyZSBh
dCB0aGUgc2FtZSB0aW1lLgorICogV2hlbiBtZXNvbl9yZG1hX2ZsdXNoIGlzIGNhbGxlZCwgdGhl
IFJETUEgd2lsbCByZXBsYXkgdGhlIHJlZ2lzdGVyCisgKiB3cml0ZXMgaW4gb3JkZXIuCisgKi8K
K3ZvaWQgbWVzb25fcmRtYV93cml0ZWxfc3luYyhzdHJ1Y3QgbWVzb25fZHJtICpwcml2LCB1aW50
MzJfdCB2YWwsIHVpbnQzMl90IHJlZykKK3sKKwltZXNvbl9yZG1hX3dyaXRlbChwcml2LCB2YWws
IHJlZyk7CisKKwl3cml0ZWxfcmVsYXhlZCh2YWwsIHByaXYtPmlvX2Jhc2UgKyBfUkVHKHJlZykp
OworfQorCit2b2lkIG1lc29uX3JkbWFfZmx1c2goc3RydWN0IG1lc29uX2RybSAqcHJpdikKK3sK
KwltZXNvbl9yZG1hX3N0b3AocHJpdik7CisKKwkvKiBTdGFydCBvZiBDaGFubmVsIDEgcmVnaXN0
ZXIgd3JpdGVzIGJ1ZmZlciAqLworCXdyaXRlbChwcml2LT5yZG1hLmFkZHJfcGh5cywKKwkgICAg
ICAgcHJpdi0+aW9fYmFzZSArIF9SRUcoUkRNQV9BSEJfU1RBUlRfQUREUl8xKSk7CisKKwkvKiBM
YXN0IGJ5dGUgb24gQ2hhbm5lbCAxIHJlZ2lzdGVyIHdyaXRlcyBidWZmZXIgKi8KKwl3cml0ZWwo
cHJpdi0+cmRtYS5hZGRyX3BoeXMgKyAocHJpdi0+cmRtYS5vZmZzZXQgKiBSRE1BX0RFU0NfU0la
RSkgLSAxLAorCSAgICAgICBwcml2LT5pb19iYXNlICsgX1JFRyhSRE1BX0FIQl9FTkRfQUREUl8x
KSk7CisKKwkvKiBUcmlnZ2VyIENoYW5uZWwgMSBvbiBWU1lOQyBldmVudCAqLworCXdyaXRlbF9i
aXRzX3JlbGF4ZWQoUkRNQV9BQ0NFU1NfVFJJR0dFUl9DSEFOMSwKKwkJCSAgICBGSUVMRF9QUkVQ
KFJETUFfQUNDRVNTX1RSSUdHRVJfQ0hBTjEsCisJCQkJICAgICAgIFJETUFfQUNDRVNTX1RSSUdH
RVJfVlNZTkMpLAorCQkJICAgIHByaXYtPmlvX2Jhc2UgKyBfUkVHKFJETUFfQUNDRVNTX0FVVE8p
KTsKKworCXByaXYtPnJkbWEub2Zmc2V0ID0gMDsKK30KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9tZXNvbi9tZXNvbl9yZG1hLmggYi9kcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fcmRt
YS5oCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAwMC4uMzg3MGJmZjdiNDdm
Ci0tLSAvZGV2L251bGwKKysrIGIvZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29uX3JkbWEuaApA
QCAtMCwwICsxLDIxIEBACisvKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMCsgKi8K
Ky8qCisgKiBDb3B5cmlnaHQgKEMpIDIwMTkgQmF5TGlicmUsIFNBUworICogQXV0aG9yOiBOZWls
IEFybXN0cm9uZyA8bmFybXN0cm9uZ0BiYXlsaWJyZS5jb20+CisgKi8KKworI2lmbmRlZiBfX01F
U09OX1JETUFfSAorI2RlZmluZSBfX01FU09OX1JETUFfSAorCisjaW5jbHVkZSAibWVzb25fZHJ2
LmgiCisKK2ludCBtZXNvbl9yZG1hX2luaXQoc3RydWN0IG1lc29uX2RybSAqcHJpdik7Cit2b2lk
IG1lc29uX3JkbWFfZnJlZShzdHJ1Y3QgbWVzb25fZHJtICpwcml2KTsKK3ZvaWQgbWVzb25fcmRt
YV9zZXR1cChzdHJ1Y3QgbWVzb25fZHJtICpwcml2KTsKK3ZvaWQgbWVzb25fcmRtYV9yZXNldChz
dHJ1Y3QgbWVzb25fZHJtICpwcml2KTsKK3ZvaWQgbWVzb25fcmRtYV9zdG9wKHN0cnVjdCBtZXNv
bl9kcm0gKnByaXYpOworCit2b2lkIG1lc29uX3JkbWFfd3JpdGVsX3N5bmMoc3RydWN0IG1lc29u
X2RybSAqcHJpdiwgdWludDMyX3QgdmFsLCB1aW50MzJfdCByZWcpOwordm9pZCBtZXNvbl9yZG1h
X2ZsdXNoKHN0cnVjdCBtZXNvbl9kcm0gKnByaXYpOworCisjZW5kaWYgLyogX19NRVNPTl9SRE1B
X0ggKi8KLS0gCjIuMjIuMAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0
b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJp
LWRldmVs
