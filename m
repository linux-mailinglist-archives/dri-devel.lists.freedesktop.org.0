Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id AD40D2728FD
	for <lists+dri-devel@lfdr.de>; Mon, 21 Sep 2020 16:49:22 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AD4BF6E46F;
	Mon, 21 Sep 2020 14:49:19 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wm1-x341.google.com (mail-wm1-x341.google.com
 [IPv6:2a00:1450:4864:20::341])
 by gabe.freedesktop.org (Postfix) with ESMTPS id CE8696E3B0
 for <dri-devel@lists.freedesktop.org>; Mon, 21 Sep 2020 14:49:03 +0000 (UTC)
Received: by mail-wm1-x341.google.com with SMTP id a9so13053107wmm.2
 for <dri-devel@lists.freedesktop.org>; Mon, 21 Sep 2020 07:49:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:subject:date:message-id:in-reply-to:references:mime-version
 :content-transfer-encoding;
 bh=gIwvaGu0/ez3s30RdTjkad6600orRRxpuT5bdDTF8Eg=;
 b=WeVgwtsXZupVlbZ4xkr7/A9Vf/q8ac25eDMH7KXFxRNJOV9nFgwl+j2WWdEpcgXcMd
 Bv2HfBjTNqhDq1d8GR6la/VdbWatB+OcmFoXx5tZkvaNfriq8lj/8Wp3YxFsC7BBMy1r
 g/he+VCDOXGLBtjcbGugcZa0hu2eknR1YJjOPBo+M7XTVGyTKtfhpvUK9UsN+tYqQYG3
 mSRovjjgnHGYbK3zkMi9dmT5sHmShnOAOQxrFVGT28iC/W9NT0KcFRnkbAjmylgKSl6i
 KmzATc18l6WDey9FGZo3K0VuWAlXuUjaB8M+wt0q5srBJ004Hj/ZGh176Mce7IaliqvH
 SpYg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=gIwvaGu0/ez3s30RdTjkad6600orRRxpuT5bdDTF8Eg=;
 b=QPdMggMhL/UTa0Ep5OSFA5MctM/n29aOxV6hClc2oWNA0pCpC+u3rPbyvCeiX126kQ
 cBPaGJ6PYgLmshqph52PB+5wJcJSVnL/yLqhbVjTD/8h8INt0y8Fc1tB2wQWnFKcWCq1
 x6CTXJT0BtmtQq1hUcuP/k9ajJ03URWDmNotuKKVg6VF/WOcnvojrLns73Yqjlf4PDR6
 sWWdS/A/RpHSqxHqYWzFq7dO3eaXgoRMIF9n4wFyDAfepD+O+kquWh3K6DOtOPukkIZJ
 owJCZhD0qmt75gLO7+6E2hM//Xs9xlllg+o5Pva7PKWDdB0DthZvKfKasL60azWMPd4K
 U3gA==
X-Gm-Message-State: AOAM531lW4mX7XXSDQ6Nz9cqyErVtMkHymG3uDHHQJrFySP40/ZROJVL
 JDYqIzPN3/5BZMWffYSy59+VvbdwgHg=
X-Google-Smtp-Source: ABdhPJzuuOVkUQSdShmgm3rXboa55NGxpxauVy/EA+6EK9aiPy28gUL24yG42BUb3bdRufeDEJL8rA==
X-Received: by 2002:a05:600c:ce:: with SMTP id
 u14mr200203wmm.137.1600699742302; 
 Mon, 21 Sep 2020 07:49:02 -0700 (PDT)
Received: from abel.fritz.box ([2a02:908:1252:fb60:3482:3104:ab8c:3ac2])
 by smtp.gmail.com with ESMTPSA id i6sm23480992wra.1.2020.09.21.07.49.01
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Mon, 21 Sep 2020 07:49:01 -0700 (PDT)
From: "=?UTF-8?q?Christian=20K=C3=B6nig?=" <ckoenig.leichtzumerken@gmail.com>
X-Google-Original-From: =?UTF-8?q?Christian=20K=C3=B6nig?=
 <christian.koenig@amd.com>
To: dri-devel@lists.freedesktop.org, airlied@gmail.com, tzimmermann@suse.de,
 bskeggs@redhat.com, kraxel@redhat.com, airlied@redhat.com,
 sroland@vmware.com
Subject: [PATCH 04/11] drm/vmwgfx: stop using ttm_bo_create
Date: Mon, 21 Sep 2020 16:48:49 +0200
Message-Id: <20200921144856.2797-5-christian.koenig@amd.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20200921144856.2797-1-christian.koenig@amd.com>
References: <20200921144856.2797-1-christian.koenig@amd.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SW1wbGVtZW50IGluIHRoZSBkcml2ZXIgaW5zdGVhZCBzaW5jZSBpdCBpcyB0aGUgb25seSB1c2Vy
IG9mIHRoYXQgZnVuY3Rpb24uCgpTaWduZWQtb2ZmLWJ5OiBDaHJpc3RpYW4gS8O2bmlnIDxjaHJp
c3RpYW4ua29lbmlnQGFtZC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhf
Ym8uYyAgICAgICAgIHwgNDIgKysrKysrKysrKysrKysrKysrKysrKwogZHJpdmVycy9ncHUvZHJt
L3Ztd2dmeC92bXdnZnhfY21kYnVmLmMgICAgIHwgIDYgKystLQogZHJpdmVycy9ncHUvZHJtL3Zt
d2dmeC92bXdnZnhfZHJ2LmggICAgICAgIHwgIDQgKysrCiBkcml2ZXJzL2dwdS9kcm0vdm13Z2Z4
L3Ztd2dmeF90dG1fYnVmZmVyLmMgfCAgOCArKy0tLQogNCBmaWxlcyBjaGFuZ2VkLCA1MiBpbnNl
cnRpb25zKCspLCA4IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS92
bXdnZngvdm13Z2Z4X2JvLmMgYi9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9iby5jCmlu
ZGV4IDgxM2YxYjE0ODA5NC4uMzBkMTliNDViNjAyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vdm13Z2Z4L3Ztd2dmeF9iby5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4
X2JvLmMKQEAgLTQ4Nyw2ICs0ODcsNDggQEAgc3RhdGljIHZvaWQgdm13X3VzZXJfYm9fZGVzdHJv
eShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvKQogCXR0bV9wcmltZV9vYmplY3Rfa2ZyZWUo
dm13X3VzZXJfYm8sIHByaW1lKTsKIH0KIAorLyoqCisgKiB2bXdfYm9fY3JlYXRlX2tlcm5lbCAt
IENyZWF0ZSBhIHBpbm5lZCBCTyBmb3IgaW50ZXJuYWwga2VybmVsIHVzZS4KKyAqCisgKiBAZGV2
X3ByaXY6IFBvaW50ZXIgdG8gdGhlIGRldmljZSBwcml2YXRlIHN0cnVjdAorICogQHNpemU6IHNp
emUgb2YgdGhlIEJPIHdlIG5lZWQKKyAqIEBwbGFjZW1lbnQ6IHdoZXJlIHRvIHB1dCBpdAorICog
QHBfYm86IHJlc3VsdGluZyBCTworICoKKyAqIENyZWF0ZXMgYW5kIHBpbiBhIHNpbXBsZSBCTyBm
b3IgaW4ga2VybmVsIHVzZS4KKyAqLworaW50IHZtd19ib19jcmVhdGVfa2VybmVsKHN0cnVjdCB2
bXdfcHJpdmF0ZSAqZGV2X3ByaXYsIHVuc2lnbmVkIGxvbmcgc2l6ZSwKKwkJCSBzdHJ1Y3QgdHRt
X3BsYWNlbWVudCAqcGxhY2VtZW50LAorCQkJIHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqKnBf
Ym8pCit7CisJdW5zaWduZWQgbnBhZ2VzID0gUEFHRV9BTElHTihzaXplKSA+PiBQQUdFX1NISUZU
OworCXN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm87CisJc2l6ZV90IGFjY19zaXplOworCWlu
dCByZXQ7CisKKwlibyA9IGt6YWxsb2Moc2l6ZW9mKCpibyksIEdGUF9LRVJORUwpOworCWlmICh1
bmxpa2VseSghYm8pKQorCQlyZXR1cm4gLUVOT01FTTsKKworCWFjY19zaXplID0gdHRtX3JvdW5k
X3BvdChzaXplb2YoKmJvKSk7CisJYWNjX3NpemUgKz0gdHRtX3JvdW5kX3BvdChucGFnZXMgKiBz
aXplb2Yodm9pZCAqKSk7CisJYWNjX3NpemUgKz0gdHRtX3JvdW5kX3BvdChzaXplb2Yoc3RydWN0
IHR0bV90dCkpOworCXJldCA9IHR0bV9ib19pbml0X3Jlc2VydmVkKCZkZXZfcHJpdi0+YmRldiwg
Ym8sIHNpemUsCisJCQkJICAgdHRtX2JvX3R5cGVfZGV2aWNlLCBwbGFjZW1lbnQsIDAsCisJCQkJ
ICAgZmFsc2UsIGFjY19zaXplLCBOVUxMLCBOVUxMLCBOVUxMKTsKKwlpZiAodW5saWtlbHkocmV0
KSkKKwkJZ290byBlcnJvcl9mcmVlOworCisJdHRtX2JvX3Bpbihibyk7CisJdHRtX2JvX3VucmVz
ZXJ2ZShibyk7CisJKnBfYm8gPSBibzsKKworCXJldHVybiAwOworCitlcnJvcl9mcmVlOgorCWtm
cmVlKGJvKTsKKwlyZXR1cm4gcmV0OworfQogCiAvKioKICAqIHZtd19ib19pbml0IC0gSW5pdGlh
bGl6ZSBhIHZtdyBidWZmZXIgb2JqZWN0CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdm13
Z2Z4L3Ztd2dmeF9jbWRidWYuYyBiL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2NtZGJ1
Zi5jCmluZGV4IDNiNDFjZjYzMTEwYS4uOWE5ZmUxMGQ4MjliIDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9jbWRidWYuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vdm13
Z2Z4L3Ztd2dmeF9jbWRidWYuYwpAQCAtMTI0NSw5ICsxMjQ1LDkgQEAgaW50IHZtd19jbWRidWZf
c2V0X3Bvb2xfc2l6ZShzdHJ1Y3Qgdm13X2NtZGJ1Zl9tYW4gKm1hbiwKIAkJICAgICFkZXZfcHJp
di0+aGFzX21vYikKIAkJCXJldHVybiAtRU5PTUVNOwogCi0JCXJldCA9IHR0bV9ib19jcmVhdGUo
JmRldl9wcml2LT5iZGV2LCBzaXplLCB0dG1fYm9fdHlwZV9kZXZpY2UsCi0JCQkJICAgICZ2bXdf
bW9iX25lX3BsYWNlbWVudCwgMCwgZmFsc2UsCi0JCQkJICAgICZtYW4tPmNtZF9zcGFjZSk7CisJ
CXJldCA9IHZtd19ib19jcmVhdGVfa2VybmVsKGRldl9wcml2LCBzaXplLAorCQkJCQkgICAmdm13
X21vYl9wbGFjZW1lbnQsCisJCQkJCSAgICZtYW4tPmNtZF9zcGFjZSk7CiAJCWlmIChyZXQpCiAJ
CQlyZXR1cm4gcmV0OwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dm
eF9kcnYuaCBiL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2Rydi5oCmluZGV4IDljZWVl
NGViMGIxMy4uNWQwN2RlNTE4M2UxIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4
L3Ztd2dmeF9kcnYuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9kcnYuaApA
QCAtODQ1LDYgKzg0NSwxMCBAQCBleHRlcm4gdm9pZCB2bXdfYm9fZ2V0X2d1ZXN0X3B0cihjb25z
dCBzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJ1ZiwKIAkJCQkgU1ZHQUd1ZXN0UHRyICpwdHIp
OwogZXh0ZXJuIHZvaWQgdm13X2JvX3Bpbl9yZXNlcnZlZChzdHJ1Y3Qgdm13X2J1ZmZlcl9vYmpl
Y3QgKmJvLCBib29sIHBpbik7CiBleHRlcm4gdm9pZCB2bXdfYm9fYm9fZnJlZShzdHJ1Y3QgdHRt
X2J1ZmZlcl9vYmplY3QgKmJvKTsKK2V4dGVybiBpbnQgdm13X2JvX2NyZWF0ZV9rZXJuZWwoc3Ry
dWN0IHZtd19wcml2YXRlICpkZXZfcHJpdiwKKwkJCQl1bnNpZ25lZCBsb25nIHNpemUsCisJCQkJ
c3RydWN0IHR0bV9wbGFjZW1lbnQgKnBsYWNlbWVudCwKKwkJCQlzdHJ1Y3QgdHRtX2J1ZmZlcl9v
YmplY3QgKipwX2JvKTsKIGV4dGVybiBpbnQgdm13X2JvX2luaXQoc3RydWN0IHZtd19wcml2YXRl
ICpkZXZfcHJpdiwKIAkJICAgICAgIHN0cnVjdCB2bXdfYnVmZmVyX29iamVjdCAqdm13X2JvLAog
CQkgICAgICAgc2l6ZV90IHNpemUsIHN0cnVjdCB0dG1fcGxhY2VtZW50ICpwbGFjZW1lbnQsCmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF90dG1fYnVmZmVyLmMgYi9k
cml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF90dG1fYnVmZmVyLmMKaW5kZXggZDdlYTY1OGU5
OTEwLi4zOWEyZjcyMGY0ZWQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13
Z2Z4X3R0bV9idWZmZXIuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF90dG1f
YnVmZmVyLmMKQEAgLTc5MywxMSArNzkzLDkgQEAgaW50IHZtd19ib19jcmVhdGVfYW5kX3BvcHVs
YXRlKHN0cnVjdCB2bXdfcHJpdmF0ZSAqZGV2X3ByaXYsCiAJc3RydWN0IHR0bV9idWZmZXJfb2Jq
ZWN0ICpibzsKIAlpbnQgcmV0OwogCi0JcmV0ID0gdHRtX2JvX2NyZWF0ZSgmZGV2X3ByaXYtPmJk
ZXYsIGJvX3NpemUsCi0JCQkgICAgdHRtX2JvX3R5cGVfZGV2aWNlLAotCQkJICAgICZ2bXdfc3lz
X25lX3BsYWNlbWVudCwKLQkJCSAgICAwLCBmYWxzZSwgJmJvKTsKLQorCXJldCA9IHZtd19ib19j
cmVhdGVfa2VybmVsKGRldl9wcml2LCBib19zaXplLAorCQkJCSAgICZ2bXdfc3lzX3BsYWNlbWVu
dCwKKwkJCQkgICAmYm8pOwogCWlmICh1bmxpa2VseShyZXQgIT0gMCkpCiAJCXJldHVybiByZXQ7
CiAKLS0gCjIuMTcuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Au
b3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRl
dmVsCg==
