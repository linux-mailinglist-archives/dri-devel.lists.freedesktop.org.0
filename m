Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 37027F6CBA
	for <lists+dri-devel@lfdr.de>; Mon, 11 Nov 2019 03:30:19 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 6923E6E0DA;
	Mon, 11 Nov 2019 02:29:48 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from NAM01-SN1-obe.outbound.protection.outlook.com
 (mail-eopbgr820131.outbound.protection.outlook.com [40.107.82.131])
 by gabe.freedesktop.org (Postfix) with ESMTPS id AB0D06F8B8
 for <dri-devel@lists.freedesktop.org>; Fri,  8 Nov 2019 09:00:57 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=Va4jSScsf01E4hpCx1ELizWe2pi8i5AfplgAyOjzpi0hlCs0AuiAff8i08r/0vRWm2lFx0t743HFvfY9kouVa4rZeRjA24cvd3zO5WyyFWlTa7ovcXxnc7AyJAvo55xq1K1Ic3AyBZxODKolvejps2v8+U3/WrAviVnnQsPxKDXgpDRpbcnth/DJ5RsvNycfo6FIgpTHjCE9B53A+ChvjEeLSbuZp3FL6Wzk0OlqaN+NkEoK5sgZch9M+BlOR4186UpAFz9hzqPka1FFLrs19YziyBRCA7BgqlH4Ao1goa45Pds+6JsMq2dRx07f1UmIxudIh3auZyanF1BQxHk5Vw==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=13lIclAied9cybafH8Vw+F4SFcCNKUfkONMKIjNTv9w=;
 b=dp7ME4KOY+ovVEJHuSogPUPcYiUzSWI7HXVGqVN1ZmgSZnRoAm+Abrd3yqOBEE+MB9WwhJ2hke7kDMs+i4RLS6+EnBzy44q6RRfKVqQCqnmzXVVCVQOXMJbKC6K4b+xcohqrmWQvcw14uLHoYWmBLsdg4Sq5SxKWcSRnXxQEk+6ps4c5yUYou7bpZC94VJ/zcAycvpZwpfKyaFRoqa4BSLpq6irXMAk16lFvHKw3Z3VBla3ShS0kPLUhPbCbikANMhavYYeQnGiYDTAiolC/AT3b692WW2LxS9uOFu2qnWzLPzmqxYOv7I1d7kePfOyIYMw0qc4NI3I+LjjywuaMDw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=analogixsemi.com; dmarc=pass action=none
 header.from=analogixsemi.com; dkim=pass header.d=analogixsemi.com; arc=none
Received: from SN6PR04MB4543.namprd04.prod.outlook.com (52.135.120.29) by
 SN6PR04MB4942.namprd04.prod.outlook.com (52.135.114.87) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2430.20; Fri, 8 Nov 2019 09:00:55 +0000
Received: from SN6PR04MB4543.namprd04.prod.outlook.com
 ([fe80::859:2d31:1f00:fa16]) by SN6PR04MB4543.namprd04.prod.outlook.com
 ([fe80::859:2d31:1f00:fa16%5]) with mapi id 15.20.2430.023; Fri, 8 Nov 2019
 09:00:55 +0000
From: Xin Ji <xji@analogixsemi.com>
To: "devel@driverdev.osuosl.org" <devel@driverdev.osuosl.org>, Laurent
 Pinchart <laurent.pinchart@ideasonboard.com>, Andrzej Hajda
 <a.hajda@samsung.com>
Subject: [PATCH v4 2/2] drm/bridge: anx7625: Add anx7625 MIPI DSI/DPI to DP
 bridge driver
Thread-Topic: [PATCH v4 2/2] drm/bridge: anx7625: Add anx7625 MIPI DSI/DPI to
 DP bridge driver
Thread-Index: AQHVlhMHGVPC2UFePkmbe7dqtRsyKA==
Date: Fri, 8 Nov 2019 09:00:54 +0000
Message-ID: <50adeb90035197deeb7a7cfe7b14954d29a741b0.1573203023.git.xji@analogixsemi.com>
References: <cover.1573203022.git.xji@analogixsemi.com>
In-Reply-To: <cover.1573203022.git.xji@analogixsemi.com>
Accept-Language: zh-CN, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: HK2PR02CA0184.apcprd02.prod.outlook.com
 (2603:1096:201:21::20) To SN6PR04MB4543.namprd04.prod.outlook.com
 (2603:10b6:805:a8::29)
x-ms-exchange-messagesentrepresentingtype: 1
x-originating-ip: [114.247.245.252]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 121e1626-7a41-4454-359f-08d7642a297a
x-ms-traffictypediagnostic: SN6PR04MB4942:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <SN6PR04MB4942F5D172FD8ED9332FF7B2C77B0@SN6PR04MB4942.namprd04.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:4941;
x-forefront-prvs: 0215D7173F
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10019020)(39850400004)(396003)(366004)(376002)(136003)(346002)(189003)(199004)(71200400001)(256004)(2501003)(486006)(8676002)(5024004)(54906003)(2906002)(6486002)(107886003)(6512007)(14444005)(11346002)(446003)(6436002)(2616005)(4326008)(476003)(25786009)(102836004)(66066001)(8936002)(26005)(118296001)(7416002)(30864003)(52116002)(7736002)(66446008)(66476007)(66556008)(66946007)(99286004)(316002)(5660300002)(86362001)(71190400001)(186003)(36756003)(305945005)(386003)(81166006)(561924002)(110136005)(81156014)(3846002)(6506007)(76176011)(14454004)(6116002)(64756008)(478600001)(569006);
 DIR:OUT; SFP:1102; SCL:1; SRVR:SN6PR04MB4942;
 H:SN6PR04MB4543.namprd04.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: analogixsemi.com does not
 designate permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: r2NrOiePEmM2d7jGnwYaUOT2gcG6ZgnVyXFYGgl68epffP3tFt8OCh1potOgTmiFvNyzTLu/pfqV8CwksSnGkfo88LjpB/OasGCY59bgSwzl1dPjpbNfMlszD/zk/3aXFooJnlavTMxbHWYFMJAnBZtsVRgXhgnRYx7H7CLS5Uzk/mZma29G95T9x5WaYfiUxz85OvcEcWg2ovH/aANqEou2cW/pAJoeg/dcqx6NEYpPai8pwL3n3+GmNQ1psWfTsWS5wGBvLsz+VfybF8tkgIOqschkhE/TOVq86lxo7fGXUd0BoFM43nXvG8gkxpEeuu4ldveyPnHLsUVQZbhfyMF0oOpST6KFWNNMAhg/orJQOwAtacXq8PBQaZDg1wIOrgmG1qcqFCH1mO0EAR22a09kX0pWHExz5nRMdleJGze4pwJ+fP735zfm3ISUiiXN
Content-ID: <0C28BAFA2A9FAE428E0AF551B58C8755@namprd04.prod.outlook.com>
MIME-Version: 1.0
X-OriginatorOrg: analogixsemi.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 121e1626-7a41-4454-359f-08d7642a297a
X-MS-Exchange-CrossTenant-originalarrivaltime: 08 Nov 2019 09:00:54.9380 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: b099b0b4-f26c-4cf5-9a0f-d5be9acab205
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: Im0YvTm1iO78DgkzPrcC4lHbsUo/MqeosRoEyDtdW0d4zwaMvgQYLV/fo/r9w5YyXpqm+9HNsuxdX7iaTcXw2Q==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: SN6PR04MB4942
X-Mailman-Approved-At: Mon, 11 Nov 2019 02:29:25 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=Analogixsemi.onmicrosoft.com; s=selector2-Analogixsemi-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=13lIclAied9cybafH8Vw+F4SFcCNKUfkONMKIjNTv9w=;
 b=d9N/j3BWD32qqrrEHeT0MTTLmUCBUWsKtUqWajVTQ15LNgOg5BpKvLwULsoIQdtPqZZYCOmVtQWZneDBAKdKcMHUXEhEKViuKRIMNLgn/zXDv78vOMYdP9lReByKhr5WDZYO7ucLgjshMyPJbpzmge08l+26rv4rfXQSxZvfUtI=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=xji@analogixsemi.com; 
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Jernej Skrabec <jernej.skrabec@siol.net>,
 Nicolas Boichat <drinkcat@chromium.org>, Pi-Hsun Shih <pihsun@chromium.org>,
 Jonas Karlman <jonas@kwiboo.se>, David Airlie <airlied@linux.ie>,
 Neil Armstrong <narmstrong@baylibre.com>,
 "linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>,
 "dri-devel@lists.freedesktop.org" <dri-devel@lists.freedesktop.org>,
 Sheng Pan <span@analogixsemi.com>, Dan Carpenter <dan.carpenter@oracle.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIEFOWDc2MjUgaXMgYW4gdWx0cmEtbG93IHBvd2VyIDRLIE1vYmlsZSBIRCBUcmFuc21pdHRl
ciBkZXNpZ25lZApmb3IgcG9ydGFibGUgZGV2aWNlLiBJdCBjb252ZXJ0cyBNSVBJIERTSS9EUEkg
dG8gRGlzcGxheVBvcnQgMS4zIDRLLgoKVGhlIEFOWDc2MjUgY2FuIHN1cHBvcnQgYm90aCBVU0Ig
VHlwZS1DIFBEIGZlYXR1cmUgYW5kIE1JUEkgRFNJL0RQSQp0byBEUCBmZWF0dXJlLiBUaGlzIGRy
aXZlciBvbmx5IGVuYWJsZWQgTUlQSSBEU0kvRFBJIHRvIERQIGZlYXR1cmUuCgpTaWduZWQtb2Zm
LWJ5OiBYaW4gSmkgPHhqaUBhbmFsb2dpeHNlbWkuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9i
cmlkZ2UvTWFrZWZpbGUgICAgICAgICAgIHwgICAgMiArLQogZHJpdmVycy9ncHUvZHJtL2JyaWRn
ZS9hbmFsb2dpeC9LY29uZmlnICAgfCAgICA2ICsKIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5h
bG9naXgvTWFrZWZpbGUgIHwgICAgMSArCiBkcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4
L2FueDc2MjUuYyB8IDIwNDIgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysKIGRyaXZlcnMv
Z3B1L2RybS9icmlkZ2UvYW5hbG9naXgvYW54NzYyNS5oIHwgIDQwNiArKysrKysKIDUgZmlsZXMg
Y2hhbmdlZCwgMjQ1NiBpbnNlcnRpb25zKCspLCAxIGRlbGV0aW9uKC0pCiBjcmVhdGUgbW9kZSAx
MDA2NDQgZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9hbng3NjI1LmMKIGNyZWF0ZSBt
b2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FueDc2MjUuaAoKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvTWFrZWZpbGUgYi9kcml2ZXJzL2dwdS9k
cm0vYnJpZGdlL01ha2VmaWxlCmluZGV4IDQ5MzRmY2YuLmJjZDM4OGEgMTAwNjQ0Ci0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9icmlkZ2UvTWFrZWZpbGUKKysrIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRn
ZS9NYWtlZmlsZQpAQCAtMTIsOCArMTIsOCBAQCBvYmotJChDT05GSUdfRFJNX1NJSTkyMzQpICs9
IHNpaTkyMzQubwogb2JqLSQoQ09ORklHX0RSTV9USElORV9USEM2M0xWRDEwMjQpICs9IHRoYzYz
bHZkMTAyNC5vCiBvYmotJChDT05GSUdfRFJNX1RPU0hJQkFfVEMzNTg3NjQpICs9IHRjMzU4NzY0
Lm8KIG9iai0kKENPTkZJR19EUk1fVE9TSElCQV9UQzM1ODc2NykgKz0gdGMzNTg3Njcubwotb2Jq
LSQoQ09ORklHX0RSTV9BTkFMT0dJWF9EUCkgKz0gYW5hbG9naXgvCiBvYmotJChDT05GSUdfRFJN
X0kyQ19BRFY3NTExKSArPSBhZHY3NTExLwogb2JqLSQoQ09ORklHX0RSTV9USV9TTjY1RFNJODYp
ICs9IHRpLXNuNjVkc2k4Ni5vCiBvYmotJChDT05GSUdfRFJNX1RJX1RGUDQxMCkgKz0gdGktdGZw
NDEwLm8KK29iai15ICs9IGFuYWxvZ2l4Lwogb2JqLXkgKz0gc3lub3BzeXMvCmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L0tjb25maWcgYi9kcml2ZXJzL2dwdS9k
cm0vYnJpZGdlL2FuYWxvZ2l4L0tjb25maWcKaW5kZXggZTkzMGZmOS4uYjJmMTI3ZSAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9LY29uZmlnCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9naXgvS2NvbmZpZwpAQCAtMiwzICsyLDkgQEAKIGNvbmZp
ZyBEUk1fQU5BTE9HSVhfRFAKIAl0cmlzdGF0ZQogCWRlcGVuZHMgb24gRFJNCisKK2NvbmZpZyBB
TkFMT0dJWF9BTlg3NjI1CisJdHJpc3RhdGUgIkFuYWxvZ2l4IE1JUEkgdG8gRFAgaW50ZXJmYWNl
IHN1cHBvcnQiCisJaGVscAorCQlBTlg3NjI1IGlzIGFuIHVsdHJhLWxvdyBwb3dlciA0SyBtb2Jp
bGUgSEQgdHJhbnNtaXR0ZXIgZGVzaWduZWQKKwkJZm9yIHBvcnRhYmxlIGRldmljZXMuIEl0IGNv
bnZlcnRzIE1JUEkvRFBJIHRvIERpc3BsYXlQb3J0MS4zIDRLLgpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9NYWtlZmlsZSBiL2RyaXZlcnMvZ3B1L2RybS9icmlk
Z2UvYW5hbG9naXgvTWFrZWZpbGUKaW5kZXggZmRiZjNmZC4uOGE1Mjg2NyAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9NYWtlZmlsZQorKysgYi9kcml2ZXJzL2dw
dS9kcm0vYnJpZGdlL2FuYWxvZ2l4L01ha2VmaWxlCkBAIC0xLDMgKzEsNCBAQAogIyBTUERYLUxp
Y2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vbmx5CitvYmotJChDT05GSUdfQU5BTE9HSVhfQU5Y
NzYyNSkgKz0gYW54NzYyNS5vCiBhbmFsb2dpeF9kcC1vYmpzIDo9IGFuYWxvZ2l4X2RwX2NvcmUu
byBhbmFsb2dpeF9kcF9yZWcubwogb2JqLSQoQ09ORklHX0RSTV9BTkFMT0dJWF9EUCkgKz0gYW5h
bG9naXhfZHAubwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9h
bng3NjI1LmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FueDc2MjUuYwpuZXcg
ZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwLi5hZDczMzE3Ci0tLSAvZGV2L251bGwKKysr
IGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9hbng3NjI1LmMKQEAgLTAsMCArMSwy
MDQyIEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vbmx5CisvKgorICog
Q29weXJpZ2h0KGMpIDIwMTYsIEFuYWxvZ2l4IFNlbWljb25kdWN0b3IuIEFsbCByaWdodHMgcmVz
ZXJ2ZWQuCisgKgorICovCisjaW5jbHVkZSA8bGludXgvZXh0Y29uLmg+CisjaW5jbHVkZSA8bGlu
dXgvZ2NkLmg+CisjaW5jbHVkZSA8bGludXgvZ3Bpby9jb25zdW1lci5oPgorI2luY2x1ZGUgPGxp
bnV4L2kyYy5oPgorI2luY2x1ZGUgPGxpbnV4L2ludGVycnVwdC5oPgorI2luY2x1ZGUgPGxpbnV4
L2lvcG9sbC5oPgorI2luY2x1ZGUgPGxpbnV4L2tlcm5lbC5oPgorI2luY2x1ZGUgPGxpbnV4L21v
ZHVsZS5oPgorI2luY2x1ZGUgPGxpbnV4L211dGV4Lmg+CisjaW5jbHVkZSA8bGludXgvc2xhYi5o
PgorI2luY2x1ZGUgPGxpbnV4L3R5cGVzLmg+CisjaW5jbHVkZSA8bGludXgvd29ya3F1ZXVlLmg+
CisKKyNpbmNsdWRlIDxsaW51eC9vZl9ncGlvLmg+CisjaW5jbHVkZSA8bGludXgvb2ZfZ3JhcGgu
aD4KKyNpbmNsdWRlIDxsaW51eC9vZl9wbGF0Zm9ybS5oPgorCisjaW5jbHVkZSA8ZHJtL2RybV9h
dG9taWNfaGVscGVyLmg+CisjaW5jbHVkZSA8ZHJtL2RybV9icmlkZ2UuaD4KKyNpbmNsdWRlIDxk
cm0vZHJtX2NydGNfaGVscGVyLmg+CisjaW5jbHVkZSA8ZHJtL2RybV9kcF9oZWxwZXIuaD4KKyNp
bmNsdWRlIDxkcm0vZHJtX2VkaWQuaD4KKyNpbmNsdWRlIDxkcm0vZHJtX21pcGlfZHNpLmg+Cisj
aW5jbHVkZSA8ZHJtL2RybV9wYW5lbC5oPgorI2luY2x1ZGUgPGRybS9kcm1fcHJpbnQuaD4KKyNp
bmNsdWRlIDxkcm0vZHJtX3Byb2JlX2hlbHBlci5oPgorCisjaW5jbHVkZSA8dmlkZW8vZGlzcGxh
eV90aW1pbmcuaD4KKworI2luY2x1ZGUgImFueDc2MjUuaCIKKworLyoKKyAqIHRoZXJlIGlzIGEg
c3luYyBpc3N1ZSB3aGlsZSBhY2Nlc3MgSTJDIHJlZ2lzdGVyIGJldHdlZW4gQVAoQ1BVKSBhbmQK
KyAqIGludGVybmFsIGZpcm13YXJlKE9DTSksIHRvIGF2b2lkIHRoZSByYWNlIGNvbmRpdGlvbiwg
QVAgc2hvdWxkIGFjY2VzcworICogdGhlIHJlc2VydmVkIHNsYXZlIGFkZHJlc3MgYmVmb3JlIHNs
YXZlIGFkZHJlc3Mgb2NjdXJzIGNoYW5nZXMuCisgKi8KK3N0YXRpYyBpbnQgaTJjX2FjY2Vzc193
b3JrYXJvdW5kKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCwKKwkJCQkgc3RydWN0IGkyY19jbGll
bnQgKmNsaWVudCkKK3sKKwl1OCBvZmZzZXQ7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmNsaWVu
dC0+ZGV2OworCWludCByZXQ7CisKKwlpZiAoY2xpZW50ID09IGN0eC0+bGFzdF9jbGllbnQpCisJ
CXJldHVybiAwOworCisJY3R4LT5sYXN0X2NsaWVudCA9IGNsaWVudDsKKworCWlmIChjbGllbnQg
PT0gY3R4LT5pMmMudGNwY19jbGllbnQpCisJCW9mZnNldCA9IFJTVkRfMDBfQUREUjsKKwllbHNl
IGlmIChjbGllbnQgPT0gY3R4LT5pMmMudHhfcDBfY2xpZW50KQorCQlvZmZzZXQgPSBSU1ZEX0Qx
X0FERFI7CisJZWxzZSBpZiAoY2xpZW50ID09IGN0eC0+aTJjLnR4X3AxX2NsaWVudCkKKwkJb2Zm
c2V0ID0gUlNWRF82MF9BRERSOworCWVsc2UgaWYgKGNsaWVudCA9PSBjdHgtPmkyYy5yeF9wMF9j
bGllbnQpCisJCW9mZnNldCA9IFJTVkRfMzlfQUREUjsKKwllbHNlIGlmIChjbGllbnQgPT0gY3R4
LT5pMmMucnhfcDFfY2xpZW50KQorCQlvZmZzZXQgPSBSU1ZEXzdGX0FERFI7CisJZWxzZQorCQlv
ZmZzZXQgPSBSU1ZEXzAwX0FERFI7CisKKwlyZXQgPSBpMmNfc21idXNfd3JpdGVfYnl0ZV9kYXRh
KGNsaWVudCwgb2Zmc2V0LCAweDAwKTsKKwlpZiAocmV0IDwgMCkKKwkJRFJNX0RFVl9FUlJPUihk
ZXYsCisJCQkgICAgICAiZmFpbGVkIHRvIGFjY2VzcyBpMmMgaWQ9JXhcbjoleCIsCisJCQkgICAg
ICBjbGllbnQtPmFkZHIsIG9mZnNldCk7CisKKwlyZXR1cm4gcmV0OworfQorCitzdGF0aWMgaW50
IGFueDc2MjVfcmVnX3JlYWQoc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4LAorCQkJICAgIHN0cnVj
dCBpMmNfY2xpZW50ICpjbGllbnQsIHU4IHJlZ19hZGRyKQoreworCWludCByZXQ7CisJc3RydWN0
IGRldmljZSAqZGV2ID0gJmNsaWVudC0+ZGV2OworCisJaTJjX2FjY2Vzc193b3JrYXJvdW5kKGN0
eCwgY2xpZW50KTsKKworCXJldCA9IGkyY19zbWJ1c19yZWFkX2J5dGVfZGF0YShjbGllbnQsIHJl
Z19hZGRyKTsKKwlpZiAocmV0IDwgMCkKKwkJRFJNX0RFVl9FUlJPUihkZXYsICJyZWFkIGkyYyBm
YWlsZWQgaWQ9JXg6JXhcbiIsCisJCQkgICAgICBjbGllbnQtPmFkZHIsIHJlZ19hZGRyKTsKKwor
CXJldHVybiByZXQ7Cit9CisKK3N0YXRpYyBpbnQgYW54NzYyNV9yZWdfYmxvY2tfcmVhZChzdHJ1
Y3QgYW54NzYyNV9kYXRhICpjdHgsCisJCQkJICBzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50LAor
CQkJCSAgdTggcmVnX2FkZHIsIHU4IGxlbiwgdTggKmJ1ZikKK3sKKwlpbnQgcmV0OworCXN0cnVj
dCBkZXZpY2UgKmRldiA9ICZjbGllbnQtPmRldjsKKworCWkyY19hY2Nlc3Nfd29ya2Fyb3VuZChj
dHgsIGNsaWVudCk7CisKKwlyZXQgPSBpMmNfc21idXNfcmVhZF9pMmNfYmxvY2tfZGF0YShjbGll
bnQsIHJlZ19hZGRyLCBsZW4sIGJ1Zik7CisJaWYgKHJldCA8IDApCisJCURSTV9ERVZfRVJST1Io
ZGV2LCAicmVhZCBpMmMgYmxvY2sgZmFpbGVkIGlkPSV4OiV4XG4iLAorCQkJICAgICAgY2xpZW50
LT5hZGRyLCByZWdfYWRkcik7CisKKwlyZXR1cm4gcmV0OworfQorCitzdGF0aWMgaW50IGFueDc2
MjVfcmVnX3dyaXRlKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCwKKwkJCSAgICAgc3RydWN0IGky
Y19jbGllbnQgKmNsaWVudCwKKwkJCSAgICAgdTggcmVnX2FkZHIsIHU4IHJlZ192YWwpCit7CisJ
aW50IHJldDsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY2xpZW50LT5kZXY7CisKKwlpMmNfYWNj
ZXNzX3dvcmthcm91bmQoY3R4LCBjbGllbnQpOworCisJcmV0ID0gaTJjX3NtYnVzX3dyaXRlX2J5
dGVfZGF0YShjbGllbnQsIHJlZ19hZGRyLCByZWdfdmFsKTsKKworCWlmIChyZXQgPCAwKQorCQlE
Uk1fREVWX0VSUk9SKGRldiwgImZhaWxlZCB0byB3cml0ZSBpMmMgaWQ9JXhcbjoleCIsCisJCQkg
ICAgICBjbGllbnQtPmFkZHIsIHJlZ19hZGRyKTsKKworCXJldHVybiByZXQ7Cit9CisKK3N0YXRp
YyBpbnQgYW54NzYyNV93cml0ZV9vcihzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgsCisJCQkgICAg
c3RydWN0IGkyY19jbGllbnQgKmNsaWVudCwKKwkJCSAgICB1OCBvZmZzZXQsIHU4IG1hc2spCit7
CisJaW50IHZhbDsKKworCXZhbCA9IGFueDc2MjVfcmVnX3JlYWQoY3R4LCBjbGllbnQsIG9mZnNl
dCk7CisJaWYgKHZhbCA8IDApCisJCXJldHVybiB2YWw7CisKKwlyZXR1cm4gYW54NzYyNV9yZWdf
d3JpdGUoY3R4LCBjbGllbnQsIG9mZnNldCwgKHZhbCB8IChtYXNrKSkpOworfQorCitzdGF0aWMg
aW50IGFueDc2MjVfd3JpdGVfYW5kKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCwKKwkJCSAgICAg
c3RydWN0IGkyY19jbGllbnQgKmNsaWVudCwKKwkJCSAgICAgdTggb2Zmc2V0LCB1OCBtYXNrKQor
eworCWludCB2YWw7CisKKwl2YWwgPSBhbng3NjI1X3JlZ19yZWFkKGN0eCwgY2xpZW50LCBvZmZz
ZXQpOworCWlmICh2YWwgPCAwKQorCQlyZXR1cm4gdmFsOworCisJcmV0dXJuIGFueDc2MjVfcmVn
X3dyaXRlKGN0eCwgY2xpZW50LCBvZmZzZXQsICh2YWwgJiAobWFzaykpKTsKK30KKworc3RhdGlj
IGludCBhbng3NjI1X3dyaXRlX2FuZF9vcihzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgsCisJCQkJ
c3RydWN0IGkyY19jbGllbnQgKmNsaWVudCwKKwkJCQl1OCBvZmZzZXQsIHU4IGFuZF9tYXNrLCB1
OCBvcl9tYXNrKQoreworCWludCB2YWw7CisKKwl2YWwgPSBhbng3NjI1X3JlZ19yZWFkKGN0eCwg
Y2xpZW50LCBvZmZzZXQpOworCWlmICh2YWwgPCAwKQorCQlyZXR1cm4gdmFsOworCisJcmV0dXJu
IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY2xpZW50LAorCQkJCSBvZmZzZXQsICh2YWwgJiBhbmRf
bWFzaykgfCAob3JfbWFzaykpOworfQorCitzdGF0aWMgaW50IGFueDc2MjVfY29uZmlnX2JpdF9t
YXRyaXgoc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4KQoreworCWludCBpLCByZXQ7CisKKwlyZXQg
PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnR4X3AyX2NsaWVudCwKKwkJCQlBVURJ
T19DT05UUk9MX1JFR0lTVEVSLCAweDgwKTsKKwlmb3IgKGkgPSAwOyBpIDwgMTM7IGkrKykKKwkJ
cmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMudHhfcDJfY2xpZW50LAorCQkJ
CQkgVklERU9fQklUX01BVFJJWF8xMiArIGksCisJCQkJCSAweDE4ICsgaSk7CisKKwlyZXR1cm4g
cmV0OworfQorCitzdGF0aWMgaW50IGFueDc2MjVfcmVhZF9jdHJsX3N0YXR1c19wMChzdHJ1Y3Qg
YW54NzYyNV9kYXRhICpjdHgpCit7CisJcmV0dXJuIGFueDc2MjVfcmVnX3JlYWQoY3R4LCBjdHgt
PmkyYy5yeF9wMF9jbGllbnQsIEFQX0FVWF9DVFJMX1NUQVRVUyk7Cit9CisKK3N0YXRpYyBpbnQg
d2FpdF9hdXhfb3BfZmluaXNoKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCkKK3sKKwlpbnQgdmFs
OworCWludCByZXQ7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7CisK
KwlyZXQgPSByZWFkeF9wb2xsX3RpbWVvdXQoYW54NzYyNV9yZWFkX2N0cmxfc3RhdHVzX3AwLAor
CQkJCSBjdHgsIHZhbCwKKwkJCQkgKCEodmFsICYgQVBfQVVYX0NUUkxfT1BfRU4pIHx8ICh2YWwg
PCAwKSksCisJCQkJIDIwMDAsCisJCQkJIDIwMDAgKiAxNTApOworCWlmIChyZXQpIHsKKwkJRFJN
X0RFVl9FUlJPUihkZXYsICJhdXggb3BlcmF0aW9uIGZhaWxlZCFcbiIpOworCQlyZXR1cm4gLUVJ
TzsKKwl9CisKKwl2YWwgPSBhbng3NjI1X3JlZ19yZWFkKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xp
ZW50LAorCQkJICAgICAgIEFQX0FVWF9DVFJMX1NUQVRVUyk7CisJaWYgKHZhbCA8IDAgfHwgKHZh
bCAmIDB4MEYpKSB7CisJCURSTV9ERVZfRVJST1IoZGV2LCAiYXV4IHN0YXR1cyAlMDJ4XG4iLCB2
YWwpOworCQl2YWwgPSAtRUlPOworCX0KKworCXJldHVybiB2YWw7Cit9CisKK3N0YXRpYyBpbnQg
YW54NzYyNV92aWRlb19tdXRlX2NvbnRyb2woc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4LAorCQkJ
CSAgICAgIHU4IHN0YXR1cykKK3sKKwlpbnQgcmV0OworCisJaWYgKHN0YXR1cykgeyAvKiBtdXRl
IG9uICovCisJCS8qIHNldCBtdXRlIGZsYWcgKi8KKwkJcmV0ID0gYW54NzYyNV93cml0ZV9vcihj
dHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkgICAgICAgQVBfQVZfU1RBVFVTLCBBUF9N
SVBJX01VVEUpOworCQkvKiBjbGVhciBtaXBpIFJYIGVuICovCisJCXJldCB8PSBhbng3NjI1X3dy
aXRlX2FuZChjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkJIEFQX0FWX1NUQVRVUywg
KHU4KX5BUF9NSVBJX1JYX0VOKTsKKwl9IGVsc2UgeyAvKiBtdXRlIG9mZiAqLworCQkvKiBjbGVh
ciBtdXRlIGZsYWcgKi8KKwkJcmV0ID0gYW54NzYyNV93cml0ZV9hbmQoY3R4LCBjdHgtPmkyYy5y
eF9wMF9jbGllbnQsCisJCQkJCUFQX0FWX1NUQVRVUywgKHU4KX5BUF9NSVBJX01VVEUpOworCQkv
KiBzZXQgTUlQSSBSWCBFTiAqLworCQlyZXQgfD0gYW54NzYyNV93cml0ZV9vcihjdHgsIGN0eC0+
aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkJQVBfQVZfU1RBVFVTLCBBUF9NSVBJX1JYX0VOKTsKKwl9
CisKKwlyZXR1cm4gcmV0OworfQorCitzdGF0aWMgaW50IGFueDc2MjVfY29uZmlnX2F1ZGlvX2lu
cHV0KHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCkKK3sKKwlpbnQgcmV0OworCisJLyogY2hhbm5l
bCBudW0gKi8KKwlyZXQgPSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnR4X3AyX2Ns
aWVudCwKKwkJCQlBVURJT19DSEFOTkVMX1NUQVRVU182LCBJMlNfQ0hfMiA8PCA1KTsKKwkvKiBs
YXlvdXQgKi8KKwkvKiBhcyBJMlMgY2hhbm5lbCBpcyAyLCBubyBuZWVkIHRvIHNldCBsYXlvdXQg
Ki8KKworCS8qIEZTICovCisJcmV0IHw9IGFueDc2MjVfd3JpdGVfYW5kX29yKGN0eCwgY3R4LT5p
MmMudHhfcDJfY2xpZW50LAorCQkJCSAgICBBVURJT19DSEFOTkVMX1NUQVRVU180LAorCQkJCSAg
ICAweGYwLCBBVURJT19GU180OEspOworCS8qIHdvcmQgbGVuZ3RoICovCisJcmV0IHw9IGFueDc2
MjVfd3JpdGVfYW5kX29yKGN0eCwgY3R4LT5pMmMudHhfcDJfY2xpZW50LAorCQkJCSAgICBBVURJ
T19DSEFOTkVMX1NUQVRVU181LAorCQkJCSAgICAweGYwLCBBVURJT19XX0xFTl8yNF8yNE1BWCk7
CisJLyogSTJTICovCisJcmV0IHw9IGFueDc2MjVfd3JpdGVfb3IoY3R4LCBjdHgtPmkyYy50eF9w
Ml9jbGllbnQsCisJCQkJQVVESU9fQ0hBTk5FTF9TVEFUVVNfNiwgSTJTX1NMQVZFX01PREUpOwor
CXJldCB8PSBhbng3NjI1X3dyaXRlX2FuZChjdHgsIGN0eC0+aTJjLnR4X3AyX2NsaWVudCwKKwkJ
CQkgQVVESU9fQ09OVFJPTF9SRUdJU1RFUiwgflRETV9USU1JTkdfTU9ERSk7CisJLyogYXVkaW8g
Y2hhbmdlIGZsYWcgKi8KKwlyZXQgfD0gYW54NzYyNV93cml0ZV9vcihjdHgsIGN0eC0+aTJjLnJ4
X3AwX2NsaWVudCwKKwkJCQlBUF9BVl9TVEFUVVMsIEFQX0FVRElPX0NIRyk7CisKKwlpZiAocmV0
IDwgMCkKKwkJRFJNX0VSUk9SKCJmYWlsZWQgdG8gY29uZmlnIGF1ZGlvLlxuIik7CisKKwlyZXR1
cm4gcmV0OworfQorCisvKiByZWR1Y3Rpb24gb2YgZnJhY3Rpb24gYS9iICovCitzdGF0aWMgdm9p
ZCBhbng3NjI1X3JlZHVjdGlvbl9vZl9hX2ZyYWN0aW9uKHVuc2lnbmVkIGxvbmcgKmEsIHVuc2ln
bmVkIGxvbmcgKmIpCit7CisJdW5zaWduZWQgbG9uZyBnY2RfbnVtOworCXVuc2lnbmVkIGxvbmcg
dG1wX2EsIHRtcF9iOworCXUzMiBpID0gMTsKKworCWdjZF9udW0gPSBnY2QoKmEsICpiKTsKKwkq
YSAvPSBnY2RfbnVtOworCSpiIC89IGdjZF9udW07CisKKwl0bXBfYSA9ICphOworCXRtcF9iID0g
KmI7CisKKwl3aGlsZSAoKCphID4gTUFYX1VOU0lHTkVEXzI0QklUKSB8fCAoKmIgPiBNQVhfVU5T
SUdORURfMjRCSVQpKSB7CisJCWkrKzsKKwkJKmEgPSB0bXBfYSAvIGk7CisJCSpiID0gdG1wX2Ig
LyBpOworCX0KKworCS8qCisJICogaW4gdGhlIGVuZCwgbWFrZSBhLCBiIGxhcmdlciB0byBoYXZl
IGhpZ2hlciBPREZDIFBMTAorCSAqIG91dHB1dCBmcmVxdWVuY3kgYWNjdXJhY3kKKwkgKi8KKwl3
aGlsZSAoKCphIDwgTUFYX1VOU0lHTkVEXzI0QklUKSAmJiAoKmIgPCBNQVhfVU5TSUdORURfMjRC
SVQpKSB7CisJCSphIDw8PSAxOworCQkqYiA8PD0gMTsKKwl9CisKKwkqYSA+Pj0gMTsKKwkqYiA+
Pj0gMTsKK30KKworc3RhdGljIGludCBhbng3NjI1X2NhbGN1bGF0ZV9tX24odTMyIHBpeGVsY2xv
Y2ssCisJCQkJIHVuc2lnbmVkIGxvbmcgKm0sCisJCQkJIHVuc2lnbmVkIGxvbmcgKm4sCisJCQkJ
IHU4ICpwb3N0X2RpdmlkZXIpCit7CisJaWYgKHBpeGVsY2xvY2sgPiBQTExfT1VUX0ZSRVFfQUJT
X01BWCAvIFBPU1RfRElWSURFUl9NSU4pIHsKKwkJLyogcGl4ZWwgY2xvY2sgZnJlcXVlbmN5IGlz
IHRvbyBoaWdoICovCisJCURSTV9FUlJPUigicGl4ZWxjbG9jayB0b28gaGlnaCwgYWN0KCVkKSwg
bWF4aW11bSglbHUpXG4iLAorCQkJICBwaXhlbGNsb2NrLAorCQkJICBQTExfT1VUX0ZSRVFfQUJT
X01BWCAvIFBPU1RfRElWSURFUl9NSU4pOworCQlyZXR1cm4gLUVJTlZBTDsKKwl9CisKKwlpZiAo
cGl4ZWxjbG9jayA8IFBMTF9PVVRfRlJFUV9BQlNfTUlOIC8gUE9TVF9ESVZJREVSX01BWCkgewor
CQkvKiBwaXhlbCBjbG9jayBmcmVxdWVuY3kgaXMgdG9vIGxvdyAqLworCQlEUk1fRVJST1IoInBp
eGVsY2xvY2sgdG9vIGxvdywgYWN0KCVkKSwgbWF4aW11bSglbHUpXG4iLAorCQkJICBwaXhlbGNs
b2NrLAorCQkJICBQTExfT1VUX0ZSRVFfQUJTX01JTiAvIFBPU1RfRElWSURFUl9NQVgpOworCQly
ZXR1cm4gLUVJTlZBTDsKKwl9CisKKwlmb3IgKCpwb3N0X2RpdmlkZXIgPSAxOworCQlwaXhlbGNs
b2NrIDwgKFBMTF9PVVRfRlJFUV9NSU4gLyAoKnBvc3RfZGl2aWRlcikpOykKKwkJKnBvc3RfZGl2
aWRlciArPSAxOworCisJaWYgKCpwb3N0X2RpdmlkZXIgPiBQT1NUX0RJVklERVJfTUFYKSB7CisJ
CWZvciAoKnBvc3RfZGl2aWRlciA9IDE7CisJCQkocGl4ZWxjbG9jayA8CisJCQkgKFBMTF9PVVRf
RlJFUV9BQlNfTUlOIC8gKCpwb3N0X2RpdmlkZXIpKSk7KQorCQkJKnBvc3RfZGl2aWRlciArPSAx
OworCisJCWlmICgqcG9zdF9kaXZpZGVyID4gUE9TVF9ESVZJREVSX01BWCkgeworCQkJRFJNX0VS
Uk9SKCJjYW5ub3QgZmluZCBwcm9wZXJ0eSBwb3N0X2RpdmlkZXIoJWQpXG4iLAorCQkJCSAgKnBv
c3RfZGl2aWRlcik7CisJCQlyZXR1cm4gLUVET007CisJCX0KKwl9CisKKwkvKiBwYXRjaCB0byBp
bXByb3ZlIHRoZSBhY2N1cmFjeSAqLworCWlmICgqcG9zdF9kaXZpZGVyID09IDcpIHsKKwkJLyog
MjcsMDAwLDAwMCBpcyBub3QgZGl2aXNpYmxlIGJ5IDcgKi8KKwkJKnBvc3RfZGl2aWRlciA9IDg7
CisJfSBlbHNlIGlmICgqcG9zdF9kaXZpZGVyID09IDExKSB7CisJCS8qIDI3LDAwMCwwMDAgaXMg
bm90IGRpdmlzaWJsZSBieSAxMSAqLworCQkqcG9zdF9kaXZpZGVyID0gMTI7CisJfSBlbHNlIGlm
ICgoKnBvc3RfZGl2aWRlciA9PSAxMykgfHwgKCpwb3N0X2RpdmlkZXIgPT0gMTQpKSB7CisJCS8q
MjcsMDAwLDAwMCBpcyBub3QgZGl2aXNpYmxlIGJ5IDEzIG9yIDE0Ki8KKwkJKnBvc3RfZGl2aWRl
ciA9IDE1OworCX0KKworCWlmIChwaXhlbGNsb2NrICogKCpwb3N0X2RpdmlkZXIpID4gUExMX09V
VF9GUkVRX0FCU19NQVgpIHsKKwkJRFJNX0VSUk9SKCJhY3QgY2xvY2soJXUpIGxhcmdlIHRoYW4g
bWF4aW11bSglbHUpXG4iLAorCQkJICBwaXhlbGNsb2NrICogKCpwb3N0X2RpdmlkZXIpLAorCQkJ
ICBQTExfT1VUX0ZSRVFfQUJTX01BWCk7CisJCXJldHVybiAtRURPTTsKKwl9CisKKwkqbSA9IHBp
eGVsY2xvY2s7CisJKm4gPSBYVEFMX0ZSUSAvICgqcG9zdF9kaXZpZGVyKTsKKworCWFueDc2MjVf
cmVkdWN0aW9uX29mX2FfZnJhY3Rpb24obSwgbik7CisKKwlyZXR1cm4gMDsKK30KKworc3RhdGlj
IGludCBhbng3NjI1X29kZmNfY29uZmlnKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCwKKwkJCSAg
ICAgICB1OCBwb3N0X2RpdmlkZXIpCit7CisJaW50IHJldDsKKworCS8qIGNvbmZpZyBpbnB1dCBy
ZWZlcmVuY2UgY2xvY2sgZnJlcXVlbmN5IDI3TUh6LzE5LjJNSHogKi8KKwlyZXQgPSBhbng3NjI1
X3dyaXRlX2FuZChjdHgsIGN0eC0+aTJjLnJ4X3AxX2NsaWVudCwgTUlQSV9ESUdJVEFMX1BMTF8x
NiwKKwkJCQl+KFJFRl9DTEtfMjcwMDBLSFogPDwgTUlQSV9GUkVGX0RfSU5EKSk7CisJcmV0IHw9
IGFueDc2MjVfd3JpdGVfb3IoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsIE1JUElfRElHSVRB
TF9QTExfMTYsCisJCQkJKFJFRl9DTEtfMjcwMDBLSFogPDwgTUlQSV9GUkVGX0RfSU5EKSk7CisJ
LyogcG9zdCBkaXZpZGVyICovCisJcmV0IHw9IGFueDc2MjVfd3JpdGVfYW5kKGN0eCwgY3R4LT5p
MmMucnhfcDFfY2xpZW50LAorCQkJCSBNSVBJX0RJR0lUQUxfUExMXzgsIDB4MGYpOworCXJldCB8
PSBhbng3NjI1X3dyaXRlX29yKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LCBNSVBJX0RJR0lU
QUxfUExMXzgsCisJCQkJcG9zdF9kaXZpZGVyIDw8IDQpOworCisJLyogYWRkIHBhdGNoIGZvciBN
SVMyLTEyNSAoNXBjcyBBTlg3NjI1IGZhaWwgQVRFIE1CSVNUIHRlc3QpICovCisJcmV0IHw9IGFu
eDc2MjVfd3JpdGVfYW5kKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LCBNSVBJX0RJR0lUQUxf
UExMXzcsCisJCQkJIH5NSVBJX1BMTF9WQ09fVFVORV9SRUdfVkFMKTsKKworCS8qIHJlc2V0IE9E
RkMgUExMICovCisJcmV0IHw9IGFueDc2MjVfd3JpdGVfYW5kKGN0eCwgY3R4LT5pMmMucnhfcDFf
Y2xpZW50LCBNSVBJX0RJR0lUQUxfUExMXzcsCisJCQkJIH5NSVBJX1BMTF9SRVNFVF9OKTsKKwly
ZXQgfD0gYW54NzYyNV93cml0ZV9vcihjdHgsIGN0eC0+aTJjLnJ4X3AxX2NsaWVudCwgTUlQSV9E
SUdJVEFMX1BMTF83LAorCQkJCU1JUElfUExMX1JFU0VUX04pOworCisJaWYgKHJldCA8IDApCisJ
CURSTV9FUlJPUigiSU8gZXJyb3IuXG4iKTsKKworCXJldHVybiByZXQ7Cit9CisKK3N0YXRpYyBp
bnQgYW54NzYyNV9kc2lfdmlkZW9fdGltaW5nX2NvbmZpZyhzdHJ1Y3QgYW54NzYyNV9kYXRhICpj
dHgpCit7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7CisJdW5zaWdu
ZWQgbG9uZyBtLCBuOworCXUxNiBodG90YWw7CisJaW50IHJldDsKKwl1OCBwb3N0X2RpdmlkZXIg
PSAwOworCisJcmV0ID0gYW54NzYyNV9jYWxjdWxhdGVfbV9uKGN0eC0+ZHQucGl4ZWxjbG9jay5t
aW4gKiAxMDAwLAorCQkJCSAgICAmbSwgJm4sICZwb3N0X2RpdmlkZXIpOworCisJaWYgKHJldCkg
eworCQlEUk1fRVJST1IoImNhbm5vdCBnZXQgcHJvcGVydHkgbSBuIHZhbHVlLlxuIik7CisJCXJl
dHVybiByZXQ7CisJfQorCisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiY29tcHV0ZSBNKCVs
dSksIE4oJWx1KSwgZGl2aWRlciglZCkuXG4iLAorCQkJICAgICBtLCBuLCBwb3N0X2RpdmlkZXIp
OworCisJLyogY29uZmlndXJlIHBpeGVsIGNsb2NrICovCisJcmV0ID0gYW54NzYyNV9yZWdfd3Jp
dGUoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsIFBJWEVMX0NMT0NLX0wsCisJCQkJKGN0eC0+
ZHQucGl4ZWxjbG9jay5taW4gLyAxMDAwKSAmIDB4RkYpOworCXJldCB8PSBhbng3NjI1X3JlZ193
cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwgUElYRUxfQ0xPQ0tfSCwKKwkJCQkgKGN0
eC0+ZHQucGl4ZWxjbG9jay5taW4gLyAxMDAwKSA+PiA4KTsKKwkvKiBsYW5lIGNvdW50ICovCisJ
cmV0IHw9IGFueDc2MjVfd3JpdGVfYW5kKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LAorCQkJ
TUlQSV9MQU5FX0NUUkxfMCwgMHhmYyk7CisJcmV0IHw9IGFueDc2MjVfd3JpdGVfb3IoY3R4LCBj
dHgtPmkyYy5yeF9wMV9jbGllbnQsCisJCQkJTUlQSV9MQU5FX0NUUkxfMCwgMyk7CisKKwkvKiBI
dG90YWwgKi8KKwlodG90YWwgPSBjdHgtPmR0LmhhY3RpdmUubWluICsgY3R4LT5kdC5oZnJvbnRf
cG9yY2gubWluICsKKwkJY3R4LT5kdC5oYmFja19wb3JjaC5taW4gKyBjdHgtPmR0LmhzeW5jX2xl
bi5taW47CisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDJfY2xp
ZW50LAorCQkJSE9SSVpPTlRBTF9UT1RBTF9QSVhFTFNfTCwgaHRvdGFsICYgMHhGRik7CisJcmV0
IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDJfY2xpZW50LAorCQkJSE9S
SVpPTlRBTF9UT1RBTF9QSVhFTFNfSCwgaHRvdGFsID4+IDgpOworCS8qIEhhY3RpdmUgKi8KKwly
ZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMl9jbGllbnQsCisJCQlI
T1JJWk9OVEFMX0FDVElWRV9QSVhFTFNfTCwgY3R4LT5kdC5oYWN0aXZlLm1pbiAmIDB4RkYpOwor
CXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AyX2NsaWVudCwKKwkJ
CUhPUklaT05UQUxfQUNUSVZFX1BJWEVMU19ILCBjdHgtPmR0LmhhY3RpdmUubWluID4+IDgpOwor
CS8qIEhGUCAqLworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3Ay
X2NsaWVudCwKKwkJCUhPUklaT05UQUxfRlJPTlRfUE9SQ0hfTCwgY3R4LT5kdC5oZnJvbnRfcG9y
Y2gubWluKTsKKwlyZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMl9j
bGllbnQsCisJCQlIT1JJWk9OVEFMX0ZST05UX1BPUkNIX0gsCisJCQljdHgtPmR0Lmhmcm9udF9w
b3JjaC5taW4gPj4gOCk7CisJLyogSFdTICovCisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0
eCwgY3R4LT5pMmMucnhfcDJfY2xpZW50LAorCQkJSE9SSVpPTlRBTF9TWU5DX1dJRFRIX0wsIGN0
eC0+ZHQuaHN5bmNfbGVuLm1pbik7CisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4
LT5pMmMucnhfcDJfY2xpZW50LAorCQkJSE9SSVpPTlRBTF9TWU5DX1dJRFRIX0gsIGN0eC0+ZHQu
aHN5bmNfbGVuLm1pbiA+PiA4KTsKKwkvKiBIQlAgKi8KKwlyZXQgfD0gYW54NzYyNV9yZWdfd3Jp
dGUoY3R4LCBjdHgtPmkyYy5yeF9wMl9jbGllbnQsCisJCQlIT1JJWk9OVEFMX0JBQ0tfUE9SQ0hf
TCwgY3R4LT5kdC5oYmFja19wb3JjaC5taW4pOworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShj
dHgsIGN0eC0+aTJjLnJ4X3AyX2NsaWVudCwKKwkJCUhPUklaT05UQUxfQkFDS19QT1JDSF9ILCBj
dHgtPmR0LmhiYWNrX3BvcmNoLm1pbiA+PiA4KTsKKwkvKiBWYWN0aXZlICovCisJcmV0IHw9IGFu
eDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDJfY2xpZW50LCBBQ1RJVkVfTElORVNf
TCwKKwkJCWN0eC0+ZHQudmFjdGl2ZS5taW4pOworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShj
dHgsIGN0eC0+aTJjLnJ4X3AyX2NsaWVudCwgQUNUSVZFX0xJTkVTX0gsCisJCQljdHgtPmR0LnZh
Y3RpdmUubWluID4+IDgpOworCS8qIFZGUCAqLworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShj
dHgsIGN0eC0+aTJjLnJ4X3AyX2NsaWVudCwKKwkJCVZFUlRJQ0FMX0ZST05UX1BPUkNILCBjdHgt
PmR0LnZmcm9udF9wb3JjaC5taW4pOworCS8qIFZXUyAqLworCXJldCB8PSBhbng3NjI1X3JlZ193
cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AyX2NsaWVudCwKKwkJCVZFUlRJQ0FMX1NZTkNfV0lEVEgs
IGN0eC0+ZHQudnN5bmNfbGVuLm1pbik7CisJLyogVkJQICovCisJcmV0IHw9IGFueDc2MjVfcmVn
X3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDJfY2xpZW50LAorCQkJVkVSVElDQUxfQkFDS19QT1JD
SCwgY3R4LT5kdC52YmFja19wb3JjaC5taW4pOworCS8qIE0gdmFsdWUgKi8KKwlyZXQgfD0gYW54
NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsCisJCQlNSVBJX1BMTF9N
X05VTV8yM18xNiwgKG0gPj4gMTYpICYgMHhmZik7CisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRl
KGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LAorCQkJTUlQSV9QTExfTV9OVU1fMTVfOCwgKG0g
Pj4gOCkgJiAweGZmKTsKKwlyZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5y
eF9wMV9jbGllbnQsCisJCQlNSVBJX1BMTF9NX05VTV83XzAsIChtICYgMHhmZikpOworCS8qIE4g
dmFsdWUgKi8KKwlyZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9j
bGllbnQsCisJCQlNSVBJX1BMTF9OX05VTV8yM18xNiwgKG4gPj4gMTYpICYgMHhmZik7CisJcmV0
IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LAorCQkJTUlQ
SV9QTExfTl9OVU1fMTVfOCwgKG4gPj4gOCkgJiAweGZmKTsKKwlyZXQgfD0gYW54NzYyNV9yZWdf
d3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsIE1JUElfUExMX05fTlVNXzdfMCwKKwkJ
CShuICYgMHhmZikpOworCS8qIGRpZmYgKi8KKwlyZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4
LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsCisJCQlNSVBJX0RJR0lUQUxfQURKXzEsIDB4MzcpOwor
CisJcmV0IHw9IGFueDc2MjVfb2RmY19jb25maWcoY3R4LCBwb3N0X2RpdmlkZXIgLSAxKTsKKwor
CWlmIChyZXQgPCAwKQorCQlEUk1fRVJST1IoIm1pcGkgZHNpIHNldHVwIElPIGVycm9yLlxuIik7
CisKKwlyZXR1cm4gcmV0OworfQorCitzdGF0aWMgaW50IGFueDc2MjVfc3dhcF9kc2lfbGFuZTMo
c3RydWN0IGFueDc2MjVfZGF0YSAqY3R4KQoreworCWludCB2YWw7CisKKwkvKiBzd2FwIE1JUEkt
RFNJIGRhdGEgbGFuZSAzIFAgYW5kIE4gKi8KKwl2YWwgPSBhbng3NjI1X3JlZ19yZWFkKGN0eCwg
Y3R4LT5pMmMucnhfcDFfY2xpZW50LCBNSVBJX1NXQVApOworCWlmICh2YWwgPCAwKSB7CisJCURS
TV9FUlJPUigiSU8gZXJyb3IgOiBhY2Nlc3MgTUlQSV9TV0FQLlxuIik7CisJCXJldHVybiAtRUlP
OworCX0KKworCXZhbCB8PSAoMSA8PCBNSVBJX1NXQVBfQ0gzKTsKKwlyZXR1cm4gYW54NzYyNV9y
ZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsIE1JUElfU1dBUCwgdmFsKTsKK30K
Kworc3RhdGljIGludCBhbng3NjI1X2FwaV9kc2lfY29uZmlnKHN0cnVjdCBhbng3NjI1X2RhdGEg
KmN0eCkKKworeworCWludCB2YWwsIHJldDsKKworCS8qIHN3YXAgTUlQSS1EU0kgZGF0YSBsYW5l
IDMgUCBhbmQgTiAqLworCXJldCA9IGFueDc2MjVfc3dhcF9kc2lfbGFuZTMoY3R4KTsKKwlpZiAo
cmV0IDwgMCkgeworCQlEUk1fRVJST1IoIklPIGVycm9yIDogc3dhcCBkc2kgbGFuZSAzIGZhaWxl
ZC5cbiIpOworCQlyZXR1cm4gcmV0OworCX0KKworCS8qIERTSSBjbG9jayBzZXR0aW5ncyAqLwor
CXZhbCA9ICgwIDw8IE1JUElfSFNfUFdEX0NMSykJCXwKKwkJKDAgPDwgTUlQSV9IU19SVF9DTEsp
CQl8CisJCSgwIDw8IE1JUElfUERfQ0xLKQkJfAorCQkoMSA8PCBNSVBJX0NMS19SVF9NQU5VQUxf
UERfRU4pCXwKKwkJKDEgPDwgTUlQSV9DTEtfSFNfTUFOVUFMX1BEX0VOKQl8CisJCSgwIDw8IE1J
UElfQ0xLX0RFVF9ERVRfQllQQVNTKQl8CisJCSgwIDw8IE1JUElfQ0xLX01JU1NfQ1RSTCkJfAor
CQkoMCA8PCBNSVBJX1BEX0xQVFhfQ0hfTUFOVUFMX1BEX0VOKTsKKwlyZXQgPSBhbng3NjI1X3Jl
Z193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AxX2NsaWVudCwKKwkJCQlNSVBJX1BIWV9DT05UUk9M
XzMsIHZhbCk7CisKKwkvKgorCSAqIERlY3JlYXNlZCBIUyBwcmVwYXJlIHRpbWluZyBkZWxheSBm
cm9tIDE2MG5zIHRvIDgwbnMgd29yayB3aXRoCisJICogICAgIGEpIERyYWdvbiBib2FyZCA4MTAg
c2VyaWVzIChRdWFsY29tbSBBUCkKKwkgKiAgICAgYikgTW92aW5nIFBpeGVsIERTSSBzb3VyY2Ug
KFBHM0EgcGF0dGVybiBnZW5lcmF0b3IgKworCSAqCVAzMzIgRC1QSFkgUHJvYmUpIGRlZmF1bHQg
RC1QSFkgdGltaW5nCisJICoJNW5zL3N0ZXAKKwkgKi8KKwlyZXQgfD0gYW54NzYyNV9yZWdfd3Jp
dGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsCisJCQkJIE1JUElfVElNRV9IU19QUlBSLCAw
eDEwKTsKKworCS8qIGVuYWJsZSBEU0kgbW9kZSovCisJcmV0IHw9IGFueDc2MjVfd3JpdGVfb3Io
Y3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsIE1JUElfRElHSVRBTF9QTExfMTgsCisJCQkJU0VM
RUNUX0RTSSA8PCBNSVBJX0RQSV9TRUxFQ1QpOworCisJcmV0IHw9IGFueDc2MjVfZHNpX3ZpZGVv
X3RpbWluZ19jb25maWcoY3R4KTsKKwlpZiAocmV0IDwgMCkgeworCQlEUk1fRVJST1IoImRzaSB2
aWRlbyB0aW1pbmcgY29uZmlnIGZhaWxlZFxuIik7CisJCXJldHVybiByZXQ7CisJfQorCisJLyog
dG9nZ2xlIG0sIG4gcmVhZHkgKi8KKwlyZXQgPSBhbng3NjI1X3dyaXRlX2FuZChjdHgsIGN0eC0+
aTJjLnJ4X3AxX2NsaWVudCwgTUlQSV9ESUdJVEFMX1BMTF82LAorCQkJCX4oTUlQSV9NX05VTV9S
RUFEWSB8IE1JUElfTl9OVU1fUkVBRFkpKTsKKwl1c2xlZXBfcmFuZ2UoMTAwMCwgMTEwMCk7CisJ
cmV0IHw9IGFueDc2MjVfd3JpdGVfb3IoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsIE1JUElf
RElHSVRBTF9QTExfNiwKKwkJCQlNSVBJX01fTlVNX1JFQURZIHwgTUlQSV9OX05VTV9SRUFEWSk7
CisKKwkvKiBjb25maWd1cmUgaW50ZWdlciBzdGFibGUgcmVnaXN0ZXIgKi8KKwlyZXQgfD0gYW54
NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsCisJCQkJIE1JUElfVklE
RU9fU1RBQkxFX0NOVCwgMHgwMik7CisJLyogcG93ZXIgb24gTUlQSSBSWCAqLworCXJldCB8PSBh
bng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AxX2NsaWVudCwKKwkJCQkgTUlQSV9M
QU5FX0NUUkxfMTAsIDB4MDApOworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+
aTJjLnJ4X3AxX2NsaWVudCwKKwkJCQkgTUlQSV9MQU5FX0NUUkxfMTAsIDB4ODApOworCisJaWYg
KHJldCA8IDApCisJCURSTV9FUlJPUigiSU8gZXJyb3IgOiBtaXBpIGRzaSBlbmFibGUgaW5pdCBm
YWlsZWQuXG4iKTsKKworCXJldHVybiByZXQ7Cit9CisKK3N0YXRpYyBpbnQgYW54NzYyNV9kc2lf
Y29uZmlnKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCkKK3sKKwlzdHJ1Y3QgZGV2aWNlICpkZXYg
PSAmY3R4LT5jbGllbnQtPmRldjsKKwlpbnQgcmV0OworCisJRFJNX0RFVl9ERUJVR19EUklWRVIo
ZGV2LCAiY29uZmlnIGRzaS5cbiIpOworCisJLyogRFNDIGRpc2FibGUgKi8KKwlyZXQgPSBhbng3
NjI1X3dyaXRlX2FuZChjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQlSX0RTQ19DVFJM
XzAsIH5EU0NfRU4pOworCisJcmV0IHw9IGFueDc2MjVfYXBpX2RzaV9jb25maWcoY3R4KTsKKwor
CWlmIChyZXQgPCAwKSB7CisJCURSTV9FUlJPUigiSU8gZXJyb3IgOiBhcGkgZHNpIGNvbmZpZyBl
cnJvci5cbiIpOworCQlyZXR1cm4gcmV0OworCX0KKworCS8qIHNldCBNSVBJIFJYIEVOICovCisJ
cmV0ID0gYW54NzYyNV93cml0ZV9vcihjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCSAg
ICAgICBBUF9BVl9TVEFUVVMsIEFQX01JUElfUlhfRU4pOworCS8qIGNsZWFyIG11dGUgZmxhZyAq
LworCXJldCB8PSBhbng3NjI1X3dyaXRlX2FuZChjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwK
KwkJCQkgQVBfQVZfU1RBVFVTLCAodTgpfkFQX01JUElfTVVURSk7CisJaWYgKHJldCA8IDApCisJ
CURSTV9FUlJPUigiSU8gZXJyb3IgOiBlbmFibGUgbWlwaSByeCBmYWlsZWQuXG4iKTsKKwllbHNl
CisJCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgInN1Y2Nlc3MgdG8gY29uZmlnIERTSVxuIik7
CisKKwlyZXR1cm4gcmV0OworfQorCitzdGF0aWMgaW50IGFueDc2MjVfYXBpX2RwaV9jb25maWco
c3RydWN0IGFueDc2MjVfZGF0YSAqY3R4KQoreworCXUxNiBmcmVxID0gY3R4LT5kdC5waXhlbGNs
b2NrLm1pbiAvIDEwMDA7CisJaW50IHJldDsKKworCS8qIGNvbmZpZ3VyZSBwaXhlbCBjbG9jayAq
LworCXJldCA9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LAor
CQkJCVBJWEVMX0NMT0NLX0wsIGZyZXEgJiAweEZGKTsKKwlyZXQgfD0gYW54NzYyNV9yZWdfd3Jp
dGUoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsCisJCQkJIFBJWEVMX0NMT0NLX0gsIChmcmVx
ID4+IDgpKTsKKworCS8qIHNldCBEUEkgbW9kZSAqLworCS8qIHNldCB0byBEUEkgUExMIG1vZHVs
ZSBzZWwgKi8KKwlyZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9j
bGllbnQsCisJCQkJIE1JUElfRElHSVRBTF9QTExfOSwgMHgyMCk7CisJLyogcG93ZXIgZG93biBN
SVBJICovCisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xp
ZW50LAorCQkJCSBNSVBJX0xBTkVfQ1RSTF8xMCwgMHgwOCk7CisJLyogZW5hYmxlIERQSSBtb2Rl
ICovCisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50
LAorCQkJCSBNSVBJX0RJR0lUQUxfUExMXzE4LCAweDFDKTsKKwkvKiBzZXQgZmlyc3QgZWRnZSAq
LworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnR4X3AyX2NsaWVudCwK
KwkJCQkgVklERU9fQ09OVFJPTF8wLCAweDA1KTsKKwlpZiAocmV0IDwgMCkKKwkJRFJNX0VSUk9S
KCJJTyBlcnJvciA6IGRwaSBwaHkgc2V0IGZhaWxlZC5cbiIpOworCisJcmV0dXJuIHJldDsKK30K
Kworc3RhdGljIGludCBhbng3NjI1X2RwaV9jb25maWcoc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4
KQoreworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZjdHgtPmNsaWVudC0+ZGV2OworCWludCByZXQ7
CisKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJjb25maWcgZHBpXG4iKTsKKworCS8qIERT
QyBkaXNhYmxlICovCisJcmV0ID0gYW54NzYyNV93cml0ZV9hbmQoY3R4LCBjdHgtPmkyYy5yeF9w
MF9jbGllbnQsCisJCQkJUl9EU0NfQ1RSTF8wLCB+RFNDX0VOKTsKKwlpZiAocmV0IDwgMCkgewor
CQlEUk1fRVJST1IoIklPIGVycm9yIDogZGlzYWJsZSBkc2MgZmFpbGVkLlxuIik7CisJCXJldHVy
biByZXQ7CisJfQorCisJcmV0ID0gYW54NzYyNV9jb25maWdfYml0X21hdHJpeChjdHgpOworCWlm
IChyZXQgPCAwKSB7CisJCURSTV9FUlJPUigiY29uZmlnIGJpdCBtYXRyaXggZmFpbGVkLlxuIik7
CisJCXJldHVybiByZXQ7CisJfQorCisJcmV0ID0gYW54NzYyNV9hcGlfZHBpX2NvbmZpZyhjdHgp
OworCWlmIChyZXQgPCAwKSB7CisJCURSTV9FUlJPUigibWlwaSBwaHkoZHBpKSBzZXR1cCBmYWls
ZWQuXG4iKTsKKwkJcmV0dXJuIHJldDsKKwl9CisKKwkvKiBzZXQgTUlQSSBSWCBFTiAqLworCXJl
dCA9IGFueDc2MjVfd3JpdGVfb3IoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsCisJCQkgICAg
ICAgQVBfQVZfU1RBVFVTLCBBUF9NSVBJX1JYX0VOKTsKKwkvKiBjbGVhciBtdXRlIGZsYWcgKi8K
KwlyZXQgfD0gYW54NzYyNV93cml0ZV9hbmQoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsCisJ
CQkJIEFQX0FWX1NUQVRVUywgKHU4KX5BUF9NSVBJX01VVEUpOworCWlmIChyZXQgPCAwKQorCQlE
Uk1fRVJST1IoIklPIGVycm9yIDogZW5hYmxlIG1pcGkgcnggZmFpbGVkLlxuIik7CisKKwlyZXR1
cm4gcmV0OworfQorCitzdGF0aWMgdm9pZCBhbng3NjI1X2RwX3N0YXJ0KHN0cnVjdCBhbng3NjI1
X2RhdGEgKmN0eCkKK3sKKwlpbnQgcmV0OworCisJaWYgKCFjdHgtPmRpc3BsYXlfdGltaW5nX3Zh
bGlkKSB7CisJCURSTV9FUlJPUigibWlwaSBkcm0gaGF2ZW4ndCBzZXQgZGlzcGxheSB0aW1pbmcg
eWV0LlxuIik7CisJCXJldHVybjsKKwl9CisKKwlhbng3NjI1X2NvbmZpZ19hdWRpb19pbnB1dChj
dHgpOworCisJaWYgKGN0eC0+cGRhdGEuZHNpX3N1cHBvcnRlZCkKKwkJcmV0ID0gYW54NzYyNV9k
c2lfY29uZmlnKGN0eCk7CisJZWxzZQorCQlyZXQgPSBhbng3NjI1X2RwaV9jb25maWcoY3R4KTsK
KworCWlmIChyZXQgPCAwKQorCQlEUk1fRVJST1IoIk1JUEkgcGh5IHNldHVwIGVycm9yLlxuIik7
Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfZHBfc3RvcChzdHJ1Y3QgYW54NzYyNV9kYXRhICpj
dHgpCit7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7CisJaW50IHJl
dDsKKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgInN0b3AgZHAgb3V0cHV0XG4iKTsKKwor
CS8qCisJICogdmlkZW8gZGlzYWJsZTogMHg3MjowOCBiaXQgNyA9IDA7CisJICogYXVkaW8gZGlz
YWJsZTogMHg3MDo4NyBiaXQgMCA9IDA7CisJICovCisJcmV0ID0gYW54NzYyNV93cml0ZV9hbmQo
Y3R4LCBjdHgtPmkyYy50eF9wMF9jbGllbnQsIDB4ODcsIDB4ZmUpOworCXJldCB8PSBhbng3NjI1
X3dyaXRlX2FuZChjdHgsIGN0eC0+aTJjLnR4X3AyX2NsaWVudCwgMHgwOCwgMHg3Zik7CisKKwly
ZXQgfD0gYW54NzYyNV92aWRlb19tdXRlX2NvbnRyb2woY3R4LCAxKTsKKwlpZiAocmV0IDwgMCkK
KwkJRFJNX0VSUk9SKCJJTyBlcnJvciA6IG11dGUgdmlkZW8gZmFpbGVkXG4iKTsKK30KKworc3Rh
dGljIGludCBzcF90eF9yc3RfYXV4KHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCkKK3sKKwlpbnQg
cmV0OworCisJcmV0ID0gYW54NzYyNV93cml0ZV9vcihjdHgsIGN0eC0+aTJjLnR4X3AyX2NsaWVu
dCwgUlNUX0NUUkwyLAorCQkJICAgICAgIEFVWF9SU1QpOworCXJldCB8PSBhbng3NjI1X3dyaXRl
X2FuZChjdHgsIGN0eC0+aTJjLnR4X3AyX2NsaWVudCwgUlNUX0NUUkwyLAorCQkJCSB+QVVYX1JT
VCk7CisJcmV0dXJuIHJldDsKK30KKworc3RhdGljIGludCBzcF90eF9hdXhfd3Ioc3RydWN0IGFu
eDc2MjVfZGF0YSAqY3R4LCB1OCBvZmZzZXQpCit7CisJaW50IHJldDsKKworCXJldCA9IGFueDc2
MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LAorCQkJCUFQX0FVWF9CVUZG
X1NUQVJULCBvZmZzZXQpOworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJj
LnJ4X3AwX2NsaWVudCwKKwkJCQkgQVBfQVVYX0NPTU1BTkQsIDB4MDQpOworCXJldCB8PSBhbng3
NjI1X3dyaXRlX29yKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LAorCQkJCUFQX0FVWF9DVFJM
X1NUQVRVUywgQVBfQVVYX0NUUkxfT1BfRU4pOworCXJldHVybiAocmV0IHwgd2FpdF9hdXhfb3Bf
ZmluaXNoKGN0eCkpOworfQorCitzdGF0aWMgaW50IHNwX3R4X2F1eF9yZChzdHJ1Y3QgYW54NzYy
NV9kYXRhICpjdHgsIHU4IGxlbl9jbWQpCit7CisJaW50IHJldDsKKworCXJldCA9IGFueDc2MjVf
cmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LAorCQkJCUFQX0FVWF9DT01NQU5E
LCBsZW5fY21kKTsKKwlyZXQgfD0gYW54NzYyNV93cml0ZV9vcihjdHgsIGN0eC0+aTJjLnJ4X3Aw
X2NsaWVudCwKKwkJCQlBUF9BVVhfQ1RSTF9TVEFUVVMsIEFQX0FVWF9DVFJMX09QX0VOKTsKKwly
ZXR1cm4gKHJldCB8IHdhaXRfYXV4X29wX2ZpbmlzaChjdHgpKTsKK30KKworc3RhdGljIGludCBz
cF90eF9nZXRfZWRpZF9ibG9jayhzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJaW50IGMg
PSAwOworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZjdHgtPmNsaWVudC0+ZGV2OworCisJc3BfdHhf
YXV4X3dyKGN0eCwgMHg3ZSk7CisJc3BfdHhfYXV4X3JkKGN0eCwgMHgwMSk7CisJYyA9IGFueDc2
MjVfcmVnX3JlYWQoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsIEFQX0FVWF9CVUZGX1NUQVJU
KTsKKwlpZiAoYyA8IDApIHsKKwkJRFJNX0VSUk9SKCJJTyBlcnJvciA6IGFjY2VzcyBBVVggQlVG
Ri5cbiIpOworCQlyZXR1cm4gLUVJTzsKKwl9CisKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYs
ICIgRURJRCBCbG9jayA9ICVkXG4iLCBjICsgMSk7CisKKwlpZiAoYyA+IE1BWF9FRElEX0JMT0NL
KQorCQljID0gMTsKKworCXJldHVybiBjOworfQorCitzdGF0aWMgaW50IGVkaWRfcmVhZChzdHJ1
Y3QgYW54NzYyNV9kYXRhICpjdHgsCisJCSAgICAgdTggb2Zmc2V0LCB1OCAqcGJsb2NrX2J1ZikK
K3sKKwlpbnQgcmV0LCBjbnQ7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5k
ZXY7CisKKwlmb3IgKGNudCA9IDA7IGNudCA8PSBFRElEX1RSWV9DTlQ7IGNudCsrKSB7CisJCXNw
X3R4X2F1eF93cihjdHgsIG9mZnNldCk7CisJCS8qIHNldCBJMkMgcmVhZCBjb20gMHgwMSBtb3Qg
PSAwIGFuZCByZWFkIDE2IGJ5dGVzICovCisJCXJldCA9IHNwX3R4X2F1eF9yZChjdHgsIDB4ZjEp
OworCisJCWlmIChyZXQpIHsKKwkJCXNwX3R4X3JzdF9hdXgoY3R4KTsKKwkJCURSTV9ERVZfREVC
VUdfRFJJVkVSKGRldiwgImVkaWQgcmVhZCBmYWlsZWQsIHJlc2V0IVxuIik7CisJCX0gZWxzZSB7
CisJCQlyZXQgPSBhbng3NjI1X3JlZ19ibG9ja19yZWFkKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xp
ZW50LAorCQkJCQkJICAgICBBUF9BVVhfQlVGRl9TVEFSVCwKKwkJCQkJCSAgICAgTUFYX0RQQ0Rf
QlVGRkVSX1NJWkUsCisJCQkJCQkgICAgIHBibG9ja19idWYpOworCQkJaWYgKHJldCA+IDApCisJ
CQkJYnJlYWs7CisJCX0KKwl9CisKKwlpZiAoY250ID4gRURJRF9UUllfQ05UKQorCQlyZXR1cm4g
LUVJTzsKKworCXJldHVybiAwOworfQorCitzdGF0aWMgaW50IHNlZ21lbnRzX2VkaWRfcmVhZChz
dHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgsCisJCQkgICAgICB1OCBzZWdtZW50LCB1OCAqYnVmLCB1
OCBvZmZzZXQpCit7CisJdTggY250OworCWludCByZXQ7CisJc3RydWN0IGRldmljZSAqZGV2ID0g
JmN0eC0+Y2xpZW50LT5kZXY7CisKKwkvKiB3cml0ZSBhZGRyZXNzIG9ubHkgKi8KKwlyZXQgPSBh
bng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQlBUF9BVVhf
QUREUl83XzAsIDB4MzApOworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJj
LnJ4X3AwX2NsaWVudCwKKwkJCQkgQVBfQVVYX0NPTU1BTkQsIDB4MDQpOworCXJldCB8PSBhbng3
NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkgQVBfQVVYX0NU
UkxfU1RBVFVTLAorCQkJCSBBUF9BVVhfQ1RSTF9BRERST05MWSB8IEFQX0FVWF9DVFJMX09QX0VO
KTsKKworCXJldCB8PSB3YWl0X2F1eF9vcF9maW5pc2goY3R4KTsKKwkvKiB3cml0ZSBzZWdtZW50
IGFkZHJlc3MgKi8KKwlyZXQgfD0gc3BfdHhfYXV4X3dyKGN0eCwgc2VnbWVudCk7CisJLyogZGF0
YSByZWFkICovCisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBf
Y2xpZW50LAorCQkJCSBBUF9BVVhfQUREUl83XzAsIDB4NTApOworCWlmIChyZXQpIHsKKwkJRFJN
X0VSUk9SKCJJTyBlcnJvciA6IGF1eCBpbml0aWFsIGZhaWxlZC5cbiIpOworCQlyZXR1cm4gcmV0
OworCX0KKworCWZvciAoY250ID0gMDsgY250IDw9IEVESURfVFJZX0NOVDsgY250KyspIHsKKwkJ
c3BfdHhfYXV4X3dyKGN0eCwgb2Zmc2V0KTsKKwkJLyogc2V0IEkyQyByZWFkIGNvbSAweDAxIG1v
dCA9IDAgYW5kIHJlYWQgMTYgYnl0ZXMgKi8KKwkJcmV0ID0gc3BfdHhfYXV4X3JkKGN0eCwgMHhm
MSk7CisKKwkJaWYgKHJldCkgeworCQkJcmV0ID0gc3BfdHhfcnN0X2F1eChjdHgpOworCQkJRFJN
X0RFVl9FUlJPUihkZXYsICJzZWdtZW50IHJlYWQgZmFpbGVkLCByZXNldCFcbiIpOworCQl9IGVs
c2UgeworCQkJcmV0ID0gYW54NzYyNV9yZWdfYmxvY2tfcmVhZChjdHgsIGN0eC0+aTJjLnJ4X3Aw
X2NsaWVudCwKKwkJCQkJCSAgICAgQVBfQVVYX0JVRkZfU1RBUlQsCisJCQkJCQkgICAgIE1BWF9E
UENEX0JVRkZFUl9TSVpFLCBidWYpOworCQkJaWYgKHJldCA+IDApCisJCQkJYnJlYWs7CisJCX0K
Kwl9CisKKwlpZiAoY250ID4gRURJRF9UUllfQ05UKQorCQlyZXR1cm4gLUVJTzsKKworCXJldHVy
biAwOworfQorCitzdGF0aWMgaW50IHNwX3R4X2VkaWRfcmVhZChzdHJ1Y3QgYW54NzYyNV9kYXRh
ICpjdHgsCisJCQkgICB1OCAqcGVkaWRfYmxvY2tzX2J1ZikKK3sKKwl1OCBvZmZzZXQsIGVkaWRf
cG9zOworCWludCBjb3VudCwgYmxvY2tzX251bTsKKwl1OCBwYmxvY2tfYnVmW01BWF9EUENEX0JV
RkZFUl9TSVpFXTsKKwl1OCBpLCBqOworCXU4IGdfZWRpZF9icmVhayA9IDA7CisJaW50IHJldDsK
KwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKworCS8qIGFkZHJlc3Mg
aW5pdGlhbCAqLworCXJldCA9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBf
Y2xpZW50LAorCQkJCUFQX0FVWF9BRERSXzdfMCwgMHg1MCk7CisJcmV0IHw9IGFueDc2MjVfcmVn
X3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LAorCQkJCSBBUF9BVVhfQUREUl8xNV84
LCAwKTsKKwlyZXQgfD0gYW54NzYyNV93cml0ZV9hbmQoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGll
bnQsCisJCQkJIEFQX0FVWF9BRERSXzE5XzE2LCAweGYwKTsKKwlpZiAocmV0IDwgMCkgeworCQlE
Uk1fRVJST1IoImFjY2VzcyBhdXggY2hhbm5lbCBJTyBlcnJvci5cbiIpOworCQlyZXR1cm4gLUVJ
TzsKKwl9CisKKwlibG9ja3NfbnVtID0gc3BfdHhfZ2V0X2VkaWRfYmxvY2soY3R4KTsKKwlpZiAo
YmxvY2tzX251bSA8IDApCisJCXJldHVybiBibG9ja3NfbnVtOworCisJY291bnQgPSAwOworCisJ
ZG8geworCQlzd2l0Y2ggKGNvdW50KSB7CisJCWNhc2UgMDoKKwkJY2FzZSAxOgorCQkJZm9yIChp
ID0gMDsgaSA8IDg7IGkrKykgeworCQkJCW9mZnNldCA9IChpICsgY291bnQgKiA4KSAqIE1BWF9E
UENEX0JVRkZFUl9TSVpFOworCQkJCWdfZWRpZF9icmVhayA9IGVkaWRfcmVhZChjdHgsIG9mZnNl
dCwKKwkJCQkJCQkgcGJsb2NrX2J1Zik7CisKKwkJCQlpZiAoZ19lZGlkX2JyZWFrKQorCQkJCQli
cmVhazsKKworCQkJCW1lbWNweSgmcGVkaWRfYmxvY2tzX2J1ZltvZmZzZXRdLAorCQkJCSAgICAg
ICBwYmxvY2tfYnVmLAorCQkJCSAgICAgICBNQVhfRFBDRF9CVUZGRVJfU0laRSk7CisJCQl9CisK
KwkJCWJyZWFrOworCQljYXNlIDI6CisJCQlvZmZzZXQgPSAweDAwOworCisJCQlmb3IgKGogPSAw
OyBqIDwgODsgaisrKSB7CisJCQkJZWRpZF9wb3MgPSAoaiArIGNvdW50ICogOCkgKgorCQkJCQlN
QVhfRFBDRF9CVUZGRVJfU0laRTsKKworCQkJCWlmIChnX2VkaWRfYnJlYWsgPT0gMSkKKwkJCQkJ
YnJlYWs7CisKKwkJCQlzZWdtZW50c19lZGlkX3JlYWQoY3R4LCBjb3VudCAvIDIsCisJCQkJCQkg
ICBwYmxvY2tfYnVmLCBvZmZzZXQpOworCQkJCW1lbWNweSgmcGVkaWRfYmxvY2tzX2J1ZltlZGlk
X3Bvc10sCisJCQkJICAgICAgIHBibG9ja19idWYsCisJCQkJICAgICAgIE1BWF9EUENEX0JVRkZF
Ul9TSVpFKTsKKwkJCQlvZmZzZXQgPSBvZmZzZXQgKyAweDEwOworCQkJfQorCisJCQlicmVhazsK
KwkJY2FzZSAzOgorCQkJb2Zmc2V0ID0gMHg4MDsKKworCQkJZm9yIChqID0gMDsgaiA8IDg7IGor
KykgeworCQkJCWVkaWRfcG9zID0gKGogKyBjb3VudCAqIDgpICoKKwkJCQkJTUFYX0RQQ0RfQlVG
RkVSX1NJWkU7CisJCQkJaWYgKGdfZWRpZF9icmVhayA9PSAxKQorCQkJCQlicmVhazsKKworCQkJ
CXNlZ21lbnRzX2VkaWRfcmVhZChjdHgsIGNvdW50IC8gMiwKKwkJCQkJCSAgIHBibG9ja19idWYs
IG9mZnNldCk7CisJCQkJbWVtY3B5KCZwZWRpZF9ibG9ja3NfYnVmW2VkaWRfcG9zXSwKKwkJCQkg
ICAgICAgcGJsb2NrX2J1ZiwKKwkJCQkgICAgICAgTUFYX0RQQ0RfQlVGRkVSX1NJWkUpOworCQkJ
CW9mZnNldCA9IG9mZnNldCArIDB4MTA7CisJCQl9CisKKwkJCWJyZWFrOworCQlkZWZhdWx0Ogor
CQkJYnJlYWs7CisJCX0KKworCQljb3VudCsrOworCisJfSB3aGlsZSAoYmxvY2tzX251bSA+PSBj
b3VudCk7CisKKwkvKiBjaGVjayBlZGlkIGRhdGEgKi8KKwlpZiAoIWRybV9lZGlkX2lzX3ZhbGlk
KChzdHJ1Y3QgZWRpZCAqKXBlZGlkX2Jsb2Nrc19idWYpKSB7CisJCURSTV9ERVZfRVJST1IoZGV2
LCAiV0FSTklORyEgZWRpZCBjaGVjayBmYWlsZWQhXG4iKTsKKwkJcmV0dXJuIC1FSU5WQUw7CisJ
fQorCisJLyogcmVzZXQgYXV4IGNoYW5uZWwgKi8KKwlzcF90eF9yc3RfYXV4KGN0eCk7CisKKwly
ZXR1cm4gKGJsb2Nrc19udW0gKyAxKTsKK30KKworc3RhdGljIHZvaWQgYW54NzYyNV9wb3dlcl9v
bihzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0
eC0+Y2xpZW50LT5kZXY7CisKKwlpZiAoIWN0eC0+cGRhdGEubG93X3Bvd2VyX21vZGUpIHsKKwkJ
RFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiQW54NzYyNSBub3QgbG93IHBvd2VyIG1vZGUhXG4i
KTsKKwkJcmV0dXJuOworCX0KKworCS8qIHBvd2VyIG9uIHBpbiBlbmFibGUgKi8KKwlncGlvZF9z
ZXRfdmFsdWUoY3R4LT5wZGF0YS5ncGlvX3Bfb24sIDEpOworCXVzbGVlcF9yYW5nZSgxMDAwMCwg
MTEwMDApOworCS8qIHBvd2VyIHJlc2V0IHBpbiBlbmFibGUgKi8KKwlncGlvZF9zZXRfdmFsdWUo
Y3R4LT5wZGF0YS5ncGlvX3Jlc2V0LCAxKTsKKwl1c2xlZXBfcmFuZ2UoMTAwMDAsIDExMDAwKTsK
KworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgIkFueDc2MjUgcG93ZXIgb24gIVxuIik7Cit9
CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfcG93ZXJfc3RhbmRieShzdHJ1Y3QgYW54NzYyNV9kYXRh
ICpjdHgpCit7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7CisKKwlp
ZiAoIWN0eC0+cGRhdGEubG93X3Bvd2VyX21vZGUpIHsKKwkJRFJNX0RFVl9ERUJVR19EUklWRVIo
ZGV2LCAiYW54NzYyNSBub3QgbG93IHBvd2VyIG1vZGUhXG4iKTsKKwkJcmV0dXJuOworCX0KKwor
CWdwaW9kX3NldF92YWx1ZShjdHgtPnBkYXRhLmdwaW9fcmVzZXQsIDApOworCXVzbGVlcF9yYW5n
ZSgxMDAwLCAxMTAwKTsKKwlncGlvZF9zZXRfdmFsdWUoY3R4LT5wZGF0YS5ncGlvX3Bfb24sIDAp
OworCXVzbGVlcF9yYW5nZSgxMDAwLCAxMTAwKTsKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYs
ICJhbng3NjI1IHBvd2VyIGRvd25cbiIpOworfQorCisvKiBiYXNpYyBjb25maWd1cmF0aW9ucyBv
ZiBBTlg3NjI1ICovCitzdGF0aWMgdm9pZCBhbng3NjI1X2NvbmZpZyhzdHJ1Y3QgYW54NzYyNV9k
YXRhICpjdHgpCit7CisJYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGll
bnQsCisJCQkgIFhUQUxfRlJRX1NFTCwgWFRBTF9GUlFfMjdNKTsKK30KKworc3RhdGljIHZvaWQg
YW54NzYyNV9kaXNhYmxlX3BkX3Byb3RvY29sKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCkKK3sK
KwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKwlpbnQgcmV0OworCisJ
LyogcmVzZXQgbWFpbiBvY20gKi8KKwlyZXQgPSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+
aTJjLnJ4X3AwX2NsaWVudCwgMHg4OCwgMHg0MCk7CisJLyogRGlzYWJsZSBQRCAqLworCXJldCB8
PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkgQVBf
QVZfU1RBVFVTLCBBUF9ESVNBQkxFX1BEKTsKKwkvKiByZWxlYXNlIG1haW4gb2NtICovCisJcmV0
IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LCAweDg4LCAw
eDAwKTsKKworCWlmIChyZXQgPCAwKQorCQlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJkaXNh
YmxlIFBEIGZlYXR1cmUgZmFpbGVkLlxuIik7CisJZWxzZQorCQlEUk1fREVWX0RFQlVHX0RSSVZF
UihkZXYsICJkaXNhYmxlIFBEIGZlYXR1cmUgc3VjY2VlZGVkLlxuIik7Cit9CisKK3N0YXRpYyB2
b2lkIGFueDc2MjVfcG93ZXJfb25faW5pdChzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJ
aW50IHJldHJ5X2NvdW50LCBpOworCWludCByZXQ7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0
eC0+Y2xpZW50LT5kZXY7CisKKwlmb3IgKHJldHJ5X2NvdW50ID0gMDsgcmV0cnlfY291bnQgPCAz
OyByZXRyeV9jb3VudCsrKSB7CisJCWFueDc2MjVfcG93ZXJfb24oY3R4KTsKKwkJYW54NzYyNV9j
b25maWcoY3R4KTsKKworCQlmb3IgKGkgPSAwOyBpIDwgT0NNX0xPQURJTkdfVElNRTsgaSsrKSB7
CisJCQkvKiBjaGVjayBpbnRlcmZhY2Ugd29ya2FibGUgKi8KKwkJCXJldCA9IGFueDc2MjVfcmVn
X3JlYWQoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsCisJCQkJCSAgICAgICBGTEFTSF9MT0FE
X1NUQSk7CisJCQlpZiAocmV0IDwgMCkgeworCQkJCURSTV9FUlJPUigiSU8gZXJyb3IgOiBhY2Nl
c3MgZmxhc2ggbG9hZC5cbiIpOworCQkJCXJldHVybjsKKwkJCX0KKwkJCWlmICgocmV0ICYgRkxB
U0hfTE9BRF9TVEFfQ0hLKSA9PSBGTEFTSF9MT0FEX1NUQV9DSEspIHsKKwkJCQlhbng3NjI1X2Rp
c2FibGVfcGRfcHJvdG9jb2woY3R4KTsKKwkJCQlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsCisJ
CQkJCQkgICAgICJGaXJtd2FyZSB2ZXIgJTAyeCUwMngsIiwKKwkJCQkJYW54NzYyNV9yZWdfcmVh
ZChjdHgsCisJCQkJCQkJIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkJCQkgT0NNX0ZXX1ZF
UlNJT04pLAorCQkJCQlhbng3NjI1X3JlZ19yZWFkKGN0eCwKKwkJCQkJCQkgY3R4LT5pMmMucnhf
cDBfY2xpZW50LAorCQkJCQkJCSBPQ01fRldfUkVWRVJTSU9OKSk7CisJCQkJRFJNX0RFVl9ERUJV
R19EUklWRVIoZGV2LCAiRHJpdmVyIHZlcnNpb24gJXNcbiIsCisJCQkJCQkgICAgIEFOWDc2MjVf
RFJWX1ZFUlNJT04pOworCisJCQkJcmV0dXJuOworCQkJfQorCQkJdXNsZWVwX3JhbmdlKDEwMDAs
IDExMDApOworCQl9CisJCWFueDc2MjVfcG93ZXJfc3RhbmRieShjdHgpOworCX0KK30KKworc3Rh
dGljIGludCBhbng3NjI1X2V4dGNvbl9ub3RpZmllcihzdHJ1Y3Qgbm90aWZpZXJfYmxvY2sgKm5i
LAorCQkJCSAgIHVuc2lnbmVkIGxvbmcgZXZlbnQsIHZvaWQgKnB0cikKK3sKKwlzdHJ1Y3QgYW54
NzYyNV9kYXRhICpjdHggPQorCQljb250YWluZXJfb2YobmIsIHN0cnVjdCBhbng3NjI1X2RhdGEs
IGV2ZW50X25iKTsKKworCXNjaGVkdWxlX3dvcmsoJmN0eC0+ZXh0Y29uX3dxKTsKKwlyZXR1cm4g
Tk9USUZZX0RPTkU7Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfY2hpcF9jb250cm9sKHN0cnVj
dCBhbng3NjI1X2RhdGEgKmN0eCwgaW50IHN0YXRlKQoreworCXN0cnVjdCBkZXZpY2UgKmRldiA9
ICZjdHgtPmNsaWVudC0+ZGV2OworCisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiYmVmb3Jl
IHNldCwgcG93ZXJfc3RhdGUoJWQpLlxuIiwKKwkJCSAgICAgYXRvbWljX3JlYWQoJmN0eC0+cG93
ZXJfc3RhdHVzKSk7CisKKwlpZiAoIWN0eC0+cGRhdGEubG93X3Bvd2VyX21vZGUpCisJCXJldHVy
bjsKKworCWlmIChzdGF0ZSkgeworCQlhdG9taWNfaW5jKCZjdHgtPnBvd2VyX3N0YXR1cyk7CisJ
CWlmIChhdG9taWNfcmVhZCgmY3R4LT5wb3dlcl9zdGF0dXMpID09IDEpCisJCQlhbng3NjI1X3Bv
d2VyX29uX2luaXQoY3R4KTsKKwl9IGVsc2UgeworCQlpZiAoYXRvbWljX3JlYWQoJmN0eC0+cG93
ZXJfc3RhdHVzKSkgeworCQkJYXRvbWljX2RlYygmY3R4LT5wb3dlcl9zdGF0dXMpOworCisJCQlp
ZiAoYXRvbWljX3JlYWQoJmN0eC0+cG93ZXJfc3RhdHVzKSA9PSAwKQorCQkJCWFueDc2MjVfcG93
ZXJfc3RhbmRieShjdHgpOworCQl9CisJfQorCisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAi
YWZ0ZXIgc2V0LCBwb3dlcl9zdGF0ZSglZCkuXG4iLAorCQkJICAgICBhdG9taWNfcmVhZCgmY3R4
LT5wb3dlcl9zdGF0dXMpKTsKK30KKworc3RhdGljIHZvaWQgYW54NzYyNV9leHRjb25fd29yayhz
dHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspCit7CisJc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4ID0K
KwkJY29udGFpbmVyX29mKHdvcmssIHN0cnVjdCBhbng3NjI1X2RhdGEsIGV4dGNvbl93cSk7CisJ
aW50IHN0YXRlID0gZXh0Y29uX2dldF9zdGF0ZShjdHgtPmV4dGNvbiwgRVhUQ09OX0RJU1BfRFAp
OworCisJbXV0ZXhfbG9jaygmY3R4LT5sb2NrKTsKKwlhbng3NjI1X2NoaXBfY29udHJvbChjdHgs
IHN0YXRlKTsKKwltdXRleF91bmxvY2soJmN0eC0+bG9jayk7Cit9CisKK3N0YXRpYyBpbnQgYW54
NzYyNV9leHRjb25fbm90aWZpZXJfaW5pdChzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJ
aW50IHJldDsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKworCWN0
eC0+ZXZlbnRfbmIubm90aWZpZXJfY2FsbCA9IGFueDc2MjVfZXh0Y29uX25vdGlmaWVyOworCUlO
SVRfV09SSygmY3R4LT5leHRjb25fd3EsIGFueDc2MjVfZXh0Y29uX3dvcmspOworCXJldCA9IGRl
dm1fZXh0Y29uX3JlZ2lzdGVyX25vdGlmaWVyKCZjdHgtPmNsaWVudC0+ZGV2LCBjdHgtPmV4dGNv
biwKKwkJCQkJICAgIEVYVENPTl9ESVNQX0RQLCAmY3R4LT5ldmVudF9uYik7CisJaWYgKHJldCkg
eworCQlEUk1fREVWX0VSUk9SKGRldiwgImZhaWxlZCB0byByZWdpc3RlciBub3RpZmllciBmb3Ig
RFAiKTsKKwkJcmV0dXJuIHJldDsKKwl9CisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyB2b2lkIGFu
eDc2MjVfaW5pdF9ncGlvKHN0cnVjdCBhbng3NjI1X2RhdGEgKnBsYXRmb3JtKQoreworCXN0cnVj
dCBkZXZpY2UgKmRldiA9ICZwbGF0Zm9ybS0+Y2xpZW50LT5kZXY7CisKKwlEUk1fREVWX0RFQlVH
X0RSSVZFUihkZXYsICJhbng3NjI1IGluaXQgZ3Bpb1xuIik7CisKKwkvKiBncGlvIGZvciBjaGlw
IHBvd2VyIGVuYWJsZSAqLworCXBsYXRmb3JtLT5wZGF0YS5ncGlvX3Bfb24gPQorCQlkZXZtX2dw
aW9kX2dldF9vcHRpb25hbChkZXYsICJlbmFibGUiLCBHUElPRF9PVVRfTE9XKTsKKwkvKiBncGlv
IGZvciBjaGlwIHJlc2V0ICovCisJcGxhdGZvcm0tPnBkYXRhLmdwaW9fcmVzZXQgPQorCQlkZXZt
X2dwaW9kX2dldF9vcHRpb25hbChkZXYsICJyZXNldCIsIEdQSU9EX09VVF9MT1cpOworCisJaWYg
KHBsYXRmb3JtLT5wZGF0YS5ncGlvX3Bfb24gJiYgcGxhdGZvcm0tPnBkYXRhLmdwaW9fcmVzZXQp
IHsKKwkJcGxhdGZvcm0tPnBkYXRhLmxvd19wb3dlcl9tb2RlID0gMTsKKwkJRFJNX0RFVl9ERUJV
R19EUklWRVIoZGV2LCAibG93IHBvd2VyIG1vZGUsIHBvbiAlZCwgcmVzZXQgJWQuXG4iLAorCQkJ
CSAgICAgZGVzY190b19ncGlvKHBsYXRmb3JtLT5wZGF0YS5ncGlvX3Bfb24pLAorCQkJCSAgICAg
ZGVzY190b19ncGlvKHBsYXRmb3JtLT5wZGF0YS5ncGlvX3Jlc2V0KSk7CisJfSBlbHNlIHsKKwkJ
cGxhdGZvcm0tPnBkYXRhLmxvd19wb3dlcl9tb2RlID0gMDsKKwkJRFJNX0RFVl9ERUJVR19EUklW
RVIoZGV2LCAibm90IGxvdyBwb3dlciBtb2RlLlxuIik7CisJfQorfQorCitzdGF0aWMgdm9pZCBh
bng3NjI1X3N0b3BfZHBfd29yayhzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJY3R4LT5o
cGRfc3RhdHVzID0gMDsKKwljdHgtPmhwZF9oaWdoX2NudCA9IDA7CisJY3R4LT5kaXNwbGF5X3Rp
bWluZ192YWxpZCA9IDA7CisKKwljdHgtPnNsaW1wb3J0X2VkaWRfcC5lZGlkX2Jsb2NrX251bSA9
IC0xOworCisJaWYgKGN0eC0+cGRhdGEubG93X3Bvd2VyX21vZGUgPT0gMCkKKwkJYW54NzYyNV9k
aXNhYmxlX3BkX3Byb3RvY29sKGN0eCk7Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfc3RhcnRf
ZHBfd29yayhzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJaW50IHJldDsKKwlzdHJ1Y3Qg
ZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKworCWlmIChjdHgtPmhwZF9oaWdoX2Nu
dCA+PSAyKSB7CisJCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImFueDc2MjUgZmlsdGVyIHVz
ZWxlc3MgSFBEXG4iKTsKKwkJcmV0dXJuOworCX0KKworCWN0eC0+aHBkX2hpZ2hfY250Kys7CisK
KwkvKiBub3Qgc3VwcG9ydCBIRENQICovCisJcmV0ID0gYW54NzYyNV93cml0ZV9hbmQoY3R4LCBj
dHgtPmkyYy5yeF9wMV9jbGllbnQsIDB4ZWUsIDB4OWYpOworCisJLyogdHJ5IGF1dGggZmxhZyAq
LworCXJldCB8PSBhbng3NjI1X3dyaXRlX29yKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LCAw
eGVjLCAweDEwKTsKKwkvKiBpbnRlcnJ1cHQgZm9yIERSTSAqLworCXJldCB8PSBhbng3NjI1X3dy
aXRlX29yKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LCAweGZmLCAweDAxKTsKKwlpZiAocmV0
IDwgMCkKKwkJcmV0dXJuOworCisJcmV0ID0gYW54NzYyNV9yZWdfcmVhZChjdHgsIGN0eC0+aTJj
LnJ4X3AxX2NsaWVudCwgMHg4Nik7CisJaWYgKHJldCA8IDApCisJCXJldHVybjsKKworCURSTV9E
RVZfREVCVUdfRFJJVkVSKGRldiwgIlNlY3VyZSBPQ00gdmVyc2lvbj0lMDJ4XG4iLCByZXQpOwor
fQorCitzdGF0aWMgaW50IGFueDc2MjVfcmVhZF9ocGRfc3RhdHVzX3AwKHN0cnVjdCBhbng3NjI1
X2RhdGEgKmN0eCkKK3sKKwlyZXR1cm4gYW54NzYyNV9yZWdfcmVhZChjdHgsIGN0eC0+aTJjLnJ4
X3AwX2NsaWVudCwgU1lTVEVNX1NUU1RVUyk7Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfaHBk
X3BvbGxpbmcoc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4KQoreworCWludCByZXQsIHZhbDsKKwlz
dHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKworCWlmIChhdG9taWNfcmVh
ZCgmY3R4LT5wb3dlcl9zdGF0dXMpICE9IDEpIHsKKwkJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2
LCAiTm8gbmVlZCB0byBwb2xpbmcgSFBEIHN0YXR1cy5cbiIpOworCQlyZXR1cm47CisJfQorCisJ
cmV0ID0gcmVhZHhfcG9sbF90aW1lb3V0KGFueDc2MjVfcmVhZF9ocGRfc3RhdHVzX3AwLAorCQkJ
CSBjdHgsIHZhbCwKKwkJCQkgKCh2YWwgJiBIUERfU1RBVFVTKSB8fCAodmFsIDwgMCkpLAorCQkJ
CSA1MDAwLAorCQkJCSA1MDAwICogMTAwKTsKKwlpZiAocmV0KSB7CisJCURSTV9ERVZfRVJST1Io
ZGV2LCAiSFBEIHBvbGxpbmcgdGltZW91dCFcbiIpOworCX0gZWxzZSB7CisJCURSTV9ERVZfREVC
VUdfRFJJVkVSKGRldiwgIkhQRCByYWlzZSB1cC5cbiIpOworCQlhbng3NjI1X3JlZ193cml0ZShj
dHgsIGN0eC0+aTJjLnRjcGNfY2xpZW50LAorCQkJCSAgSU5UUl9BTEVSVF8xLCAweEZGKTsKKwkJ
YW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsCisJCQkJICBJTlRF
UkZBQ0VfQ0hBTkdFX0lOVCwgMCk7CisJfQorCisJYW54NzYyNV9zdGFydF9kcF93b3JrKGN0eCk7
Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfZGlzY29ubmVjdF9jaGVjayhzdHJ1Y3QgYW54NzYy
NV9kYXRhICpjdHgpCit7CisJaWYgKGF0b21pY19yZWFkKCZjdHgtPnBvd2VyX3N0YXR1cykgPT0g
MCkKKwkJYW54NzYyNV9zdG9wX2RwX3dvcmsoY3R4KTsKK30KKworc3RhdGljIHZvaWQgYW54NzYy
NV9sb3dfcG93ZXJfbW9kZV9jaGVjayhzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgsCisJCQkJCSBp
bnQgc3RhdGUpCit7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7CisK
KwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJsb3cgcG93ZXIgbW9kZSBjaGVjaywgc3RhdGUo
JWQpLlxuIiwgc3RhdGUpOworCisJaWYgKGN0eC0+cGRhdGEubG93X3Bvd2VyX21vZGUpIHsKKwkJ
YW54NzYyNV9jaGlwX2NvbnRyb2woY3R4LCBzdGF0ZSk7CisJCWlmIChzdGF0ZSkKKwkJCWFueDc2
MjVfaHBkX3BvbGxpbmcoY3R4KTsKKwkJZWxzZQorCQkJYW54NzYyNV9kaXNjb25uZWN0X2NoZWNr
KGN0eCk7CisJfQorfQorCitzdGF0aWMgdm9pZCBkcF9ocGRfY2hhbmdlX2hhbmRsZXIoc3RydWN0
IGFueDc2MjVfZGF0YSAqY3R4LCBib29sIG9uKQoreworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZj
dHgtPmNsaWVudC0+ZGV2OworCisJLyogaHBkIGNoYW5nZWQgKi8KKwlEUk1fREVWX0RFQlVHX0RS
SVZFUihkZXYsICJkcF9ocGRfY2hhbmdlX2RlZmF1bHRfZnVuYzogJWRcbiIsCisJCQkgICAgICh1
MzIpb24pOworCisJaWYgKG9uID09IDApIHsKKwkJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAi
IEhQRCBsb3dcbiIpOworCQlhbng3NjI1X3N0b3BfZHBfd29yayhjdHgpOworCX0gZWxzZSB7CisJ
CURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgIiBIUEQgaGlnaFxuIik7CisJCWFueDc2MjVfc3Rh
cnRfZHBfd29yayhjdHgpOworCX0KKworCWN0eC0+aHBkX3N0YXR1cyA9IDE7Cit9CisKK3N0YXRp
YyBpbnQgYW54NzYyNV9ocGRfY2hhbmdlX2RldGVjdChzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgp
Cit7CisJaW50IGludHJfdmVjdG9yLCBzdGF0dXM7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0
eC0+Y2xpZW50LT5kZXY7CisKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJwb3dlcl9zdGF0
dXM9JWRcbiIsCisJCQkgICAgICh1MzIpYXRvbWljX3JlYWQoJmN0eC0+cG93ZXJfc3RhdHVzKSk7
CisKKwlzdGF0dXMgPSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnRjcGNfY2xpZW50
LAorCQkJCSAgIElOVFJfQUxFUlRfMSwgMHhGRik7CisJaWYgKHN0YXR1cyA8IDApIHsKKwkJRFJN
X0VSUk9SKCJJTyBlcnJvciA6IGNsZWFyIGFsZXJ0IHJlZ2lzdGVyLlxuIik7CisJCXJldHVybiBz
dGF0dXM7CisJfQorCisJaW50cl92ZWN0b3IgPSBhbng3NjI1X3JlZ19yZWFkKGN0eCwgY3R4LT5p
MmMucnhfcDBfY2xpZW50LAorCQkJCSAgICAgICBJTlRFUkZBQ0VfQ0hBTkdFX0lOVCk7CisJaWYg
KGludHJfdmVjdG9yIDwgMCkgeworCQlEUk1fRVJST1IoIklPIGVycm9yIDogYWNjZXNzIGludGVy
cnVwdCBjaGFuZ2UgcmVnaXN0ZXIuXG4iKTsKKwkJcmV0dXJuIGludHJfdmVjdG9yOworCX0KKwlE
Uk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICIweDdlOjB4NDQ9JXhcbiIsIGludHJfdmVjdG9yKTsK
KwlzdGF0dXMgPSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwK
KwkJCQkgICBJTlRFUkZBQ0VfQ0hBTkdFX0lOVCwKKwkJCQkgICBpbnRyX3ZlY3RvciAmICh+aW50
cl92ZWN0b3IpKTsKKwlpZiAoc3RhdHVzIDwgMCkgeworCQlEUk1fRVJST1IoIklPIGVycm9yIDog
Y2xlYXIgaW50ZXJydXB0IGNoYW5nZSByZWdpc3Rlci5cbiIpOworCQlyZXR1cm4gc3RhdHVzOwor
CX0KKworCWlmICghKGludHJfdmVjdG9yICYgSFBEX1NUQVRVU19DSEFOR0UpKQorCQlyZXR1cm4g
LUVOT0VOVDsKKworCXN0YXR1cyA9IGFueDc2MjVfcmVnX3JlYWQoY3R4LCBjdHgtPmkyYy5yeF9w
MF9jbGllbnQsCisJCQkJICBTWVNURU1fU1RTVFVTKTsKKwlpZiAoc3RhdHVzIDwgMCkgeworCQlE
Uk1fRVJST1IoIklPIGVycm9yIDogY2xlYXIgaW50ZXJydXB0IHN0YXR1cy5cbiIpOworCQlyZXR1
cm4gc3RhdHVzOworCX0KKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgIjB4N2U6MHg0NT0l
eFxuIiwgc3RhdHVzKTsKKwlkcF9ocGRfY2hhbmdlX2hhbmRsZXIoY3R4LCBzdGF0dXMgJiBIUERf
U1RBVFVTKTsKKworCXJldHVybiAwOworfQorCitzdGF0aWMgdm9pZCBhbng3NjI1X3dvcmtfZnVu
YyhzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspCit7CisJaW50IGV2ZW50OworCXN0cnVjdCBhbng3
NjI1X2RhdGEgKmN0eCA9IGNvbnRhaW5lcl9vZih3b3JrLAorCQkJCQkJc3RydWN0IGFueDc2MjVf
ZGF0YSwgd29yayk7CisKKwltdXRleF9sb2NrKCZjdHgtPmxvY2spOworCWV2ZW50ID0gYW54NzYy
NV9ocGRfY2hhbmdlX2RldGVjdChjdHgpOworCW11dGV4X3VubG9jaygmY3R4LT5sb2NrKTsKKwor
CWlmIChldmVudCA8IDApCisJCXJldHVybjsKKworCWlmIChjdHgtPmJyaWRnZV9hdHRhY2hlZCkK
KwkJZHJtX2hlbHBlcl9ocGRfaXJxX2V2ZW50KGN0eC0+Y29ubmVjdG9yLmRldik7Cit9CisKK3N0
YXRpYyBpcnFyZXR1cm5fdCBhbng3NjI1X2ludHJfaHBkX2lzcihpbnQgaXJxLCB2b2lkICpkYXRh
KQoreworCXN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCA9IChzdHJ1Y3QgYW54NzYyNV9kYXRhICop
ZGF0YTsKKworCWlmIChhdG9taWNfcmVhZCgmY3R4LT5wb3dlcl9zdGF0dXMpICE9IDEpCisJCXJl
dHVybiBJUlFfTk9ORTsKKworCXF1ZXVlX3dvcmsoY3R4LT53b3JrcXVldWUsICZjdHgtPndvcmsp
OworCisJcmV0dXJuIElSUV9IQU5ETEVEOworfQorCisjaWZkZWYgQ09ORklHX09GCitzdGF0aWMg
aW50IGFueDc2MjVfcGFyc2VfZHQoc3RydWN0IGRldmljZSAqZGV2LAorCQkJICAgIHN0cnVjdCBh
bng3NjI1X3BsYXRmb3JtX2RhdGEgKnBkYXRhKQoreworCXN0cnVjdCBkZXZpY2Vfbm9kZSAqbnAg
PSBkZXYtPm9mX25vZGU7CisJc3RydWN0IGRldmljZV9ub2RlICpwYW5lbF9ub2RlLCAqb3V0X2Vw
OworCisJb2ZfcHJvcGVydHlfcmVhZF91MzIoZGV2LT5vZl9ub2RlLCAicGFuZWxfZmxhZ3MiLAor
CQkJICAgICAmcGRhdGEtPnBhbmVsX2ZsYWdzKTsKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYs
ICJwYW5lbF9mbGFncyA6ICVkXG4iLCBwZGF0YS0+cGFuZWxfZmxhZ3MpOworCisJaWYgKHBkYXRh
LT5wYW5lbF9mbGFncyA9PSAxKQorCQlwZGF0YS0+aW50ZXJuYWxfcGFuZWwgPSAxOworCWVsc2Ug
aWYgKHBkYXRhLT5wYW5lbF9mbGFncyA9PSAyKQorCQlwZGF0YS0+ZXh0Y29uX3N1cHBvcnRlZCA9
IDE7CisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiJXMgc3VwcG9ydCBleHRjb24sICVzIGlu
dGVybmFsIHBhbmVsXG4iLAorCQkJICAgICBwZGF0YS0+ZXh0Y29uX3N1cHBvcnRlZCA/ICIiIDog
Im5vdCIsCisJCQkgICAgIHBkYXRhLT5pbnRlcm5hbF9wYW5lbCA/ICJoYXMiIDogIm5vIik7CisK
KwlwZGF0YS0+bm9kZS5taXBpX2RzaV9ob3N0X25vZGUgPSBvZl9ncmFwaF9nZXRfcmVtb3RlX25v
ZGUobnAsIDAsIDApOworCWlmIChwZGF0YS0+bm9kZS5taXBpX2RzaV9ob3N0X25vZGUpIHsKKwkJ
b2Zfbm9kZV9wdXQocGRhdGEtPm5vZGUubWlwaV9kc2lfaG9zdF9ub2RlKTsKKwkJcGRhdGEtPmRz
aV9zdXBwb3J0ZWQgPSAxOworCQlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJmb3VuZCBkc2kg
aG9zdCBub2RlLlxuIik7CisJfSBlbHNlIHsKKwkJcGRhdGEtPm5vZGUubWlwaV9kcGlfaG9zdF9u
b2RlID0KKwkJCW9mX2dyYXBoX2dldF9yZW1vdGVfbm9kZShucCwgMSwgMCk7CisKKwkJaWYgKHBk
YXRhLT5ub2RlLm1pcGlfZHBpX2hvc3Rfbm9kZSkgeworCQkJb2Zfbm9kZV9wdXQocGRhdGEtPm5v
ZGUubWlwaV9kcGlfaG9zdF9ub2RlKTsKKwkJCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImZv
dW5kIGRwaSBob3N0IG5vZGUuXG4iKTsKKwkJfQorCX0KKworCURSTV9ERVZfREVCVUdfRFJJVkVS
KGRldiwgImRzaV9zdXBwb3J0ZWQgOiAlZFxuIiwgcGRhdGEtPmRzaV9zdXBwb3J0ZWQpOworCisJ
cGRhdGEtPm5vZGUucGFuZWxfbm9kZSA9IG9mX2dyYXBoX2dldF9wb3J0X2J5X2lkKG5wLCAyKTsK
KwlpZiAocGRhdGEtPm5vZGUucGFuZWxfbm9kZSkgeworCQlvZl9ub2RlX3B1dChwZGF0YS0+bm9k
ZS5wYW5lbF9ub2RlKTsKKwkJb3V0X2VwID0gb2ZfZ2V0X2NoaWxkX2J5X25hbWUocGRhdGEtPm5v
ZGUucGFuZWxfbm9kZSwKKwkJCQkJICAgICAgImVuZHBvaW50Iik7CisJCWlmICghb3V0X2VwKSB7
CisJCQlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJjYW5ub3QgZ2V0IGVuZHBvaW50LlxuIik7
CisJCQlyZXR1cm4gLUVQUk9CRV9ERUZFUjsKKwkJfQorCisJCXBhbmVsX25vZGUgPSBvZl9ncmFw
aF9nZXRfcmVtb3RlX3BvcnRfcGFyZW50KG91dF9lcCk7CisJCW9mX25vZGVfcHV0KG91dF9lcCk7
CisKKwkJcGRhdGEtPnBhbmVsID0gb2ZfZHJtX2ZpbmRfcGFuZWwocGFuZWxfbm9kZSk7CisJCURS
TV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImdldCBwYW5lbCBub2RlLlxuIik7CisJCW9mX25vZGVf
cHV0KHBhbmVsX25vZGUpOworCQlpZiAoSVNfRVJSX09SX05VTEwocGRhdGEtPnBhbmVsKSkKKwkJ
CXJldHVybiAtRVBST0JFX0RFRkVSOworCX0gZWxzZSB7CisJCWlmIChwZGF0YS0+aW50ZXJuYWxf
cGFuZWwpIHsKKwkJCURSTV9FUlJPUigiZmFpbGVkIHRvIGdldCBpbnRlcm5hbCBwYW5lbC5cbiIp
OworCQkJcmV0dXJuIC1FUFJPQkVfREVGRVI7CisJCX0KKwl9CisKKwlyZXR1cm4gMDsKK30KKyNl
bHNlCitzdGF0aWMgaW50IGFueDc2MjVfcGFyc2VfZHQoc3RydWN0IGRldmljZSAqZGV2LAorCQkJ
ICAgIHN0cnVjdCBhbng3NjI1X3BsYXRmb3JtX2RhdGEgKnBkYXRhKQoreworCXJldHVybiAtRU5P
REVWOworfQorI2VuZGlmCisKK3N0YXRpYyBpbmxpbmUgc3RydWN0IGFueDc2MjVfZGF0YSAqY29u
bmVjdG9yX3RvX2FueDc2MjUoc3RydWN0IGRybV9jb25uZWN0b3IgKmMpCit7CisJcmV0dXJuIGNv
bnRhaW5lcl9vZihjLCBzdHJ1Y3QgYW54NzYyNV9kYXRhLCBjb25uZWN0b3IpOworfQorCitzdGF0
aWMgaW5saW5lIHN0cnVjdCBhbng3NjI1X2RhdGEgKmJyaWRnZV90b19hbng3NjI1KHN0cnVjdCBk
cm1fYnJpZGdlICpicmlkZ2UpCit7CisJcmV0dXJuIGNvbnRhaW5lcl9vZihicmlkZ2UsIHN0cnVj
dCBhbng3NjI1X2RhdGEsIGJyaWRnZSk7Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfcG9zdF9k
aXNhYmxlKHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UpCit7CisJc3RydWN0IGFueDc2MjVfZGF0
YSAqY3R4ID0gYnJpZGdlX3RvX2FueDc2MjUoYnJpZGdlKTsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYg
PSAmY3R4LT5jbGllbnQtPmRldjsKKwlpbnQgcmV0OworCisJRFJNX0RFVl9ERUJVR19EUklWRVIo
ZGV2LCAicG9zdCBkaXNhYmxlXG4iKTsKKworCWlmICghY3R4LT5wZGF0YS5wYW5lbCkKKwkJcmV0
dXJuOworCisJcmV0ID0gZHJtX3BhbmVsX3VucHJlcGFyZShjdHgtPnBkYXRhLnBhbmVsKTsKKwlp
ZiAocmV0KQorCQlEUk1fRVJST1IoImZhaWxlZCB0byB1bnByZXBhcmUgcGFuZWw6ICVkXG4iLCBy
ZXQpOworCWVsc2UKKwkJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiYmFja2xpZ2h0IHVucHJl
cGFyZWQuXG4iKTsKKworCWF0b21pY19zZXQoJmN0eC0+cGFuZWxfcG93ZXIsIDApOworfQorCitz
dGF0aWMgdm9pZCBhbng3NjI1X3ByZV9lbmFibGUoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSkK
K3sKKwlzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHggPSBicmlkZ2VfdG9fYW54NzYyNShicmlkZ2Up
OworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZjdHgtPmNsaWVudC0+ZGV2OworCWludCByZXQ7CisK
KwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJwcmUgZW5hYmxlXG4iKTsKKworCWlmICghY3R4
LT5wZGF0YS5wYW5lbCkKKwkJcmV0dXJuOworCisJcmV0ID0gZHJtX3BhbmVsX3ByZXBhcmUoY3R4
LT5wZGF0YS5wYW5lbCk7CisJaWYgKHJldCA8IDApCisJCURSTV9FUlJPUigiZmFpbGVkIHRvIHBy
ZXBhcmUgcGFuZWw6ICVkXG4iLCByZXQpOworCWVsc2UKKwkJRFJNX0RFVl9ERUJVR19EUklWRVIo
ZGV2LCAiYmFja2xpZ2h0IHByZXBhcmVkLlxuIik7CisJYXRvbWljX3NldCgmY3R4LT5wYW5lbF9w
b3dlciwgMSk7Cit9CisKK3N0YXRpYyBpbnQgYW54NzYyNV9nZXRfbW9kZXMoc3RydWN0IGRybV9j
b25uZWN0b3IgKmNvbm5lY3RvcikKK3sKKwlzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHggPSBjb25u
ZWN0b3JfdG9fYW54NzYyNShjb25uZWN0b3IpOworCWludCBlcnIsIG51bV9tb2RlcyA9IDA7CisJ
aW50IHR1cm5fb2ZmX2ZsYWcgPSAwOworCXN0cnVjdCBzX2VkaWRfZGF0YSAqcF9lZGlkID0gJmN0
eC0+c2xpbXBvcnRfZWRpZF9wOworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZjdHgtPmNsaWVudC0+
ZGV2OworCisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiZHJtIGdldCBtb2Rlc1xuIik7CisK
KwlpZiAoY3R4LT5zbGltcG9ydF9lZGlkX3AuZWRpZF9ibG9ja19udW0gPiAwKQorCQlnb3RvIG91
dDsKKworCW11dGV4X2xvY2soJmN0eC0+bG9jayk7CisKKwlpZiAoY3R4LT5wZGF0YS5wYW5lbCAm
JiBhdG9taWNfcmVhZCgmY3R4LT5wYW5lbF9wb3dlcikgPT0gMCkgeworCQl0dXJuX29mZl9mbGFn
ID0gMTsKKwkJYW54NzYyNV9wcmVfZW5hYmxlKCZjdHgtPmJyaWRnZSk7CisJfQorCisJYW54NzYy
NV9sb3dfcG93ZXJfbW9kZV9jaGVjayhjdHgsIDEpOworCisJcF9lZGlkLT5lZGlkX2Jsb2NrX251
bSA9IHNwX3R4X2VkaWRfcmVhZChjdHgsIHBfZWRpZC0+ZWRpZF9yYXdfZGF0YSk7CisKKwllcnIg
PSAtRUlPOworCWlmIChwX2VkaWQtPmVkaWRfYmxvY2tfbnVtIDwgMCkgeworCQlEUk1fRVJST1Io
IkZhaWxlZCB0byByZWFkIEVESUQuXG4iKTsKKwkJZ290byBmYWlsOworCX0KKworCWVyciA9IGRy
bV9jb25uZWN0b3JfdXBkYXRlX2VkaWRfcHJvcGVydHkoY29ubmVjdG9yLAorCQkJCQkJIChzdHJ1
Y3QgZWRpZCAqKQorCQkJCQkJICZwX2VkaWQtPmVkaWRfcmF3X2RhdGEpOworCisJaWYgKGVycikK
KwkJRFJNX0VSUk9SKCJGYWlsZWQgdG8gdXBkYXRlIEVESUQgcHJvcGVydHk6ICVkXG4iLCBlcnIp
OworCitmYWlsOgorCW11dGV4X3VubG9jaygmY3R4LT5sb2NrKTsKKwlhbng3NjI1X2xvd19wb3dl
cl9tb2RlX2NoZWNrKGN0eCwgMCk7CisJaWYgKGN0eC0+cGRhdGEucGFuZWwgJiYgdHVybl9vZmZf
ZmxhZyA9PSAxKQorCQlhbng3NjI1X3Bvc3RfZGlzYWJsZSgmY3R4LT5icmlkZ2UpOworCisJaWYg
KGVycikKKwkJcmV0dXJuIGVycjsKKworb3V0OgorCW51bV9tb2RlcyA9IGRybV9hZGRfZWRpZF9t
b2Rlcyhjb25uZWN0b3IsCisJCQkJICAgICAgIChzdHJ1Y3QgZWRpZCAqKSZwX2VkaWQtPmVkaWRf
cmF3X2RhdGEpOworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgIm51bV9tb2RlcyglZClcbiIs
IG51bV9tb2Rlcyk7CisKKwlyZXR1cm4gbnVtX21vZGVzOworfQorCitzdGF0aWMgZW51bSBkcm1f
bW9kZV9zdGF0dXMKK2FueDc2MjVfY29ubmVjdG9yX21vZGVfdmFsaWQoc3RydWN0IGRybV9jb25u
ZWN0b3IgKmNvbm5lY3RvciwKKwkJCSAgICAgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGUp
Cit7CisJc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4ID0gY29ubmVjdG9yX3RvX2FueDc2MjUoY29u
bmVjdG9yKTsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKworCURS
TV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImRybSBtb2RlcyB2YWxpZCB2ZXJpZnlcbiIpOworCisJ
aWYgKG1vZGUtPmNsb2NrID4gU1VQUE9SVF9QSVhFTF9DTE9DSykKKwkJcmV0dXJuIE1PREVfQ0xP
Q0tfSElHSDsKKworCXJldHVybiBNT0RFX09LOworfQorCitzdGF0aWMgc3RydWN0IGRybV9jb25u
ZWN0b3JfaGVscGVyX2Z1bmNzIGFueDc2MjVfY29ubmVjdG9yX2hlbHBlcl9mdW5jcyA9IHsKKwku
Z2V0X21vZGVzID0gYW54NzYyNV9nZXRfbW9kZXMsCisJLm1vZGVfdmFsaWQgPSBhbng3NjI1X2Nv
bm5lY3Rvcl9tb2RlX3ZhbGlkLAorfTsKKworc3RhdGljIGVudW0gZHJtX2Nvbm5lY3Rvcl9zdGF0
dXMgYW54NzYyNV9kZXRlY3Qoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciwKKwkJCQkJ
CWJvb2wgZm9yY2UpCit7CisJc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4ID0gY29ubmVjdG9yX3Rv
X2FueDc2MjUoY29ubmVjdG9yKTsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQt
PmRldjsKKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImRybSBkZXRlY3RcbiIpOworCisJ
aWYgKGN0eC0+cGRhdGEuaW50ZXJuYWxfcGFuZWwpCisJCXJldHVybiBjb25uZWN0b3Jfc3RhdHVz
X2Nvbm5lY3RlZDsKKworCWlmICghY3R4LT5ocGRfc3RhdHVzKQorCQlyZXR1cm4gY29ubmVjdG9y
X3N0YXR1c19kaXNjb25uZWN0ZWQ7CisKKwlyZXR1cm4gY29ubmVjdG9yX3N0YXR1c19jb25uZWN0
ZWQ7Cit9CisKK3N0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9mdW5jcyBhbng3NjI1
X2Nvbm5lY3Rvcl9mdW5jcyA9IHsKKwkuZmlsbF9tb2RlcyA9IGRybV9oZWxwZXJfcHJvYmVfc2lu
Z2xlX2Nvbm5lY3Rvcl9tb2RlcywKKwkuZGV0ZWN0ID0gYW54NzYyNV9kZXRlY3QsCisJLmRlc3Ry
b3kgPSBkcm1fY29ubmVjdG9yX2NsZWFudXAsCisJLnJlc2V0ID0gZHJtX2F0b21pY19oZWxwZXJf
Y29ubmVjdG9yX3Jlc2V0LAorCS5hdG9taWNfZHVwbGljYXRlX3N0YXRlID0gZHJtX2F0b21pY19o
ZWxwZXJfY29ubmVjdG9yX2R1cGxpY2F0ZV9zdGF0ZSwKKwkuYXRvbWljX2Rlc3Ryb3lfc3RhdGUg
PSBkcm1fYXRvbWljX2hlbHBlcl9jb25uZWN0b3JfZGVzdHJveV9zdGF0ZSwKK307CisKK3N0YXRp
YyBpbnQgYW54NzYyNV9hdHRhY2hfZHNpKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCkKK3sKKwlz
dHJ1Y3QgbWlwaV9kc2lfaG9zdCAqaG9zdDsKKwlzdHJ1Y3QgbWlwaV9kc2lfZGV2aWNlICpkc2k7
CisJc3RydWN0IGRldmljZV9ub2RlICptaXBpX2hvc3Rfbm9kZTsKKwlzdHJ1Y3QgZGV2aWNlICpk
ZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKwljb25zdCBzdHJ1Y3QgbWlwaV9kc2lfZGV2aWNlX2lu
Zm8gaW5mbyA9IHsKKwkJLnR5cGUgPSAiYW54NzYyNSIsCisJCS5jaGFubmVsID0gMCwKKwkJLm5v
ZGUgPSBOVUxMLAorCX07CisKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJhdHRhY2ggZHNp
XG4iKTsKKworCWlmIChjdHgtPnBkYXRhLmRzaV9zdXBwb3J0ZWQpCisJCW1pcGlfaG9zdF9ub2Rl
ID0gY3R4LT5wZGF0YS5ub2RlLm1pcGlfZHNpX2hvc3Rfbm9kZTsKKwllbHNlCisJCW1pcGlfaG9z
dF9ub2RlID0gY3R4LT5wZGF0YS5ub2RlLm1pcGlfZHBpX2hvc3Rfbm9kZTsKKworCWlmICghbWlw
aV9ob3N0X25vZGUpIHsKKwkJRFJNX0VSUk9SKCJkc2kgaG9zdCBpcyBub3QgY29uZmlndXJlZC5c
biIpOworCQlyZXR1cm4gLUVJTlZBTDsKKwl9CisKKwlob3N0ID0gb2ZfZmluZF9taXBpX2RzaV9o
b3N0X2J5X25vZGUobWlwaV9ob3N0X25vZGUpOworCWlmICghaG9zdCkgeworCQlEUk1fRVJST1Io
ImZhaWxlZCB0byBmaW5kIGRzaSBob3N0LlxuIik7CisJCXJldHVybiAtRUlOVkFMOworCX0KKwor
CWRzaSA9IG1pcGlfZHNpX2RldmljZV9yZWdpc3Rlcl9mdWxsKGhvc3QsICZpbmZvKTsKKwlpZiAo
SVNfRVJSKGRzaSkpIHsKKwkJRFJNX0VSUk9SKCJmYWlsZWQgdG8gY3JlYXRlIGRzaSBkZXZpY2Uu
XG4iKTsKKwkJcmV0dXJuIC1FSU5WQUw7CisJfQorCisJZHNpLT5sYW5lcyA9IDQ7CisJZHNpLT5m
b3JtYXQgPSBNSVBJX0RTSV9GTVRfUkdCODg4OworCWRzaS0+bW9kZV9mbGFncyA9IE1JUElfRFNJ
X01PREVfVklERU8JfAorCQlNSVBJX0RTSV9NT0RFX1ZJREVPX1NZTkNfUFVMU0UJfAorCQlNSVBJ
X0RTSV9NT0RFX0VPVF9QQUNLRVQJfAorCQlNSVBJX0RTSV9NT0RFX1ZJREVPX0hTRTsKKworCWlm
IChtaXBpX2RzaV9hdHRhY2goZHNpKSA8IDApIHsKKwkJRFJNX0VSUk9SKCJmYWlsZWQgdG8gYXR0
YWNoIGRzaSB0byBob3N0LlxuIik7CisJCW1pcGlfZHNpX2RldmljZV91bnJlZ2lzdGVyKGRzaSk7
CisJCXJldHVybiAtRUlOVkFMOworCX0KKworCWN0eC0+ZHNpID0gZHNpOworCisJRFJNX0RFVl9E
RUJVR19EUklWRVIoZGV2LCAiYXR0YWNoIGRzaSBzdWNjZWVkZWQuXG4iKTsKKworCXJldHVybiAw
OworfQorCitzdGF0aWMgdm9pZCBhbng3NjI1X2JyaWRnZV9kZXRhY2goc3RydWN0IGRybV9icmlk
Z2UgKmJyaWRnZSkKK3sKKwlzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHggPSBicmlkZ2VfdG9fYW54
NzYyNShicmlkZ2UpOworCisJaWYgKGN0eC0+ZHNpKSB7CisJCW1pcGlfZHNpX2RldGFjaChjdHgt
PmRzaSk7CisJCW1pcGlfZHNpX2RldmljZV91bnJlZ2lzdGVyKGN0eC0+ZHNpKTsKKwl9CisKKwlp
ZiAoY3R4LT5icmlkZ2VfYXR0YWNoZWQpCisJCWRybV9jb25uZWN0b3JfdW5yZWdpc3RlcigmY3R4
LT5jb25uZWN0b3IpOworfQorCitzdGF0aWMgaW50IGFueDc2MjVfYnJpZGdlX2F0dGFjaChzdHJ1
Y3QgZHJtX2JyaWRnZSAqYnJpZGdlKQoreworCXN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCA9IGJy
aWRnZV90b19hbng3NjI1KGJyaWRnZSk7CisJaW50IGVycjsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYg
PSAmY3R4LT5jbGllbnQtPmRldjsKKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImRybSBh
dHRhY2hcbiIpOworCWlmICghYnJpZGdlLT5lbmNvZGVyKSB7CisJCURSTV9FUlJPUigiUGFyZW50
IGVuY29kZXIgb2JqZWN0IG5vdCBmb3VuZCIpOworCQlyZXR1cm4gLUVOT0RFVjsKKwl9CisKKwll
cnIgPSBkcm1fY29ubmVjdG9yX2luaXQoYnJpZGdlLT5kZXYsICZjdHgtPmNvbm5lY3RvciwKKwkJ
CQkgJmFueDc2MjVfY29ubmVjdG9yX2Z1bmNzLAorCQkJCSBEUk1fTU9ERV9DT05ORUNUT1JfRGlz
cGxheVBvcnQpOworCWlmIChlcnIpIHsKKwkJRFJNX0VSUk9SKCJGYWlsZWQgdG8gaW5pdGlhbGl6
ZSBjb25uZWN0b3I6ICVkXG4iLCBlcnIpOworCQlyZXR1cm4gZXJyOworCX0KKworCWRybV9jb25u
ZWN0b3JfaGVscGVyX2FkZCgmY3R4LT5jb25uZWN0b3IsCisJCQkJICZhbng3NjI1X2Nvbm5lY3Rv
cl9oZWxwZXJfZnVuY3MpOworCisJZXJyID0gZHJtX2Nvbm5lY3Rvcl9yZWdpc3RlcigmY3R4LT5j
b25uZWN0b3IpOworCWlmIChlcnIpIHsKKwkJRFJNX0VSUk9SKCJGYWlsZWQgdG8gcmVnaXN0ZXIg
Y29ubmVjdG9yOiAlZFxuIiwgZXJyKTsKKwkJcmV0dXJuIGVycjsKKwl9CisKKwljdHgtPmNvbm5l
Y3Rvci5wb2xsZWQgPSBEUk1fQ09OTkVDVE9SX1BPTExfSFBEOworCisJZXJyID0gZHJtX2Nvbm5l
Y3Rvcl9hdHRhY2hfZW5jb2RlcigmY3R4LT5jb25uZWN0b3IsIGJyaWRnZS0+ZW5jb2Rlcik7CisJ
aWYgKGVycikgeworCQlEUk1fRVJST1IoIkZhaWxlZCB0byBsaW5rIHVwIGNvbm5lY3RvciB0byBl
bmNvZGVyOiAlZFxuIiwgZXJyKTsKKwkJZHJtX2Nvbm5lY3Rvcl91bnJlZ2lzdGVyKCZjdHgtPmNv
bm5lY3Rvcik7CisJCXJldHVybiBlcnI7CisJfQorCisJZXJyID0gYW54NzYyNV9hdHRhY2hfZHNp
KGN0eCk7CisJaWYgKGVycikgeworCQlEUk1fRVJST1IoIkZhaWxlZCB0byBhdHRhY2ggdG8gZHNp
IDogJWRcbiIsIGVycik7CisJCWRybV9jb25uZWN0b3JfdW5yZWdpc3RlcigmY3R4LT5jb25uZWN0
b3IpOworCQlyZXR1cm4gZXJyOworCX0KKworCWN0eC0+YnJpZGdlX2F0dGFjaGVkID0gMTsKKwor
CXJldHVybiAwOworfQorCitzdGF0aWMgZW51bSBkcm1fbW9kZV9zdGF0dXMKK2FueDc2MjVfYnJp
ZGdlX21vZGVfdmFsaWQoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSwKKwkJCSAgY29uc3Qgc3Ry
dWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGUpCit7CisJc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4
ID0gYnJpZGdlX3RvX2FueDc2MjUoYnJpZGdlKTsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4
LT5jbGllbnQtPmRldjsKKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImRybSBtb2RlIGNo
ZWNraW5nXG4iKTsKKworCS8qIE1heCAxMjAwcCBhdCA1LjQgR2h6LCBvbmUgbGFuZSwgcGl4ZWwg
Y2xvY2sgMzAwTSAqLworCWlmIChtb2RlLT5jbG9jayA+IFNVUFBPUlRfUElYRUxfQ0xPQ0spIHsK
KwkJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LAorCQkJCSAgICAgImRybSBtb2RlIGludmFsaWQs
IHBpeGVsY2xvY2sgdG9vIGhpZ2guXG4iKTsKKwkJcmV0dXJuIE1PREVfQ0xPQ0tfSElHSDsKKwl9
CisKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJkcm0gbW9kZSB2YWxpZC5cbiIpOworCisJ
cmV0dXJuIE1PREVfT0s7Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfYnJpZGdlX21vZGVfc2V0
KHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UsCisJCQkJICAgIGNvbnN0IHN0cnVjdCBkcm1fZGlz
cGxheV9tb2RlICpvbGRfbW9kZSwKKwkJCQkgICAgY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21v
ZGUgKm1vZGUpCit7CisJc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4ID0gYnJpZGdlX3RvX2FueDc2
MjUoYnJpZGdlKTsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKwor
CURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImRybSBtb2RlIHNldFxuIik7CisKKwltdXRleF9s
b2NrKCZjdHgtPmxvY2spOworCisJY3R4LT5kdC5waXhlbGNsb2NrLm1pbiA9IG1vZGUtPmNsb2Nr
OworCWN0eC0+ZHQuaGFjdGl2ZS5taW4gPSBtb2RlLT5oZGlzcGxheTsKKwljdHgtPmR0LmhzeW5j
X2xlbi5taW4gPSBtb2RlLT5oc3luY19lbmQgLSBtb2RlLT5oc3luY19zdGFydDsKKwljdHgtPmR0
Lmhmcm9udF9wb3JjaC5taW4gPSBtb2RlLT5oc3luY19zdGFydCAtIG1vZGUtPmhkaXNwbGF5Owor
CWN0eC0+ZHQuaGJhY2tfcG9yY2gubWluID0gbW9kZS0+aHRvdGFsIC0gbW9kZS0+aHN5bmNfZW5k
OworCWN0eC0+ZHQudmFjdGl2ZS5taW4gPSBtb2RlLT52ZGlzcGxheTsKKwljdHgtPmR0LnZzeW5j
X2xlbi5taW4gPSBtb2RlLT52c3luY19lbmQgLSBtb2RlLT52c3luY19zdGFydDsKKwljdHgtPmR0
LnZmcm9udF9wb3JjaC5taW4gPSBtb2RlLT52c3luY19zdGFydCAtIG1vZGUtPnZkaXNwbGF5Owor
CWN0eC0+ZHQudmJhY2tfcG9yY2gubWluID0gbW9kZS0+dnRvdGFsIC0gbW9kZS0+dnN5bmNfZW5k
OworCisJY3R4LT5kaXNwbGF5X3RpbWluZ192YWxpZCA9IDE7CisKKwlEUk1fREVWX0RFQlVHX0RS
SVZFUihkZXYsICJwaXhlbGNsb2NrKCVkKS5cbiIsIGN0eC0+ZHQucGl4ZWxjbG9jay5taW4pOwor
CURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImhhY3RpdmUoJWQpLCBoc3luYyglZCksIGhmcCgl
ZCksIGhicCglZClcbiIsCisJCQkgICAgIGN0eC0+ZHQuaGFjdGl2ZS5taW4sCisJCQkgICAgIGN0
eC0+ZHQuaHN5bmNfbGVuLm1pbiwKKwkJCSAgICAgY3R4LT5kdC5oZnJvbnRfcG9yY2gubWluLAor
CQkJICAgICBjdHgtPmR0LmhiYWNrX3BvcmNoLm1pbik7CisJRFJNX0RFVl9ERUJVR19EUklWRVIo
ZGV2LCAidmFjdGl2ZSglZCksIHZzeW5jKCVkKSwgdmZwKCVkKSwgdmJwKCVkKVxuIiwKKwkJCSAg
ICAgY3R4LT5kdC52YWN0aXZlLm1pbiwKKwkJCSAgICAgY3R4LT5kdC52c3luY19sZW4ubWluLAor
CQkJICAgICBjdHgtPmR0LnZmcm9udF9wb3JjaC5taW4sCisJCQkgICAgIGN0eC0+ZHQudmJhY2tf
cG9yY2gubWluKTsKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJoZGlzcGxheSglZCksaHN5
bmNfc3RhcnQoJWQpLlxuIiwKKwkJCSAgICAgbW9kZS0+aGRpc3BsYXksCisJCQkgICAgIG1vZGUt
PmhzeW5jX3N0YXJ0KTsKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJoc3luY19lbmQoJWQp
LGh0b3RhbCglZCkuXG4iLAorCQkJICAgICBtb2RlLT5oc3luY19lbmQsCisJCQkgICAgIG1vZGUt
Pmh0b3RhbCk7CisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAidmRpc3BsYXkoJWQpLHZzeW5j
X3N0YXJ0KCVkKS5cbiIsCisJCQkgICAgIG1vZGUtPnZkaXNwbGF5LAorCQkJICAgICBtb2RlLT52
c3luY19zdGFydCk7CisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAidnN5bmNfZW5kKCVkKSx2
dG90YWwoJWQpLlxuIiwKKwkJCSAgICAgbW9kZS0+dnN5bmNfZW5kLAorCQkJICAgICBtb2RlLT52
dG90YWwpOworCisJbXV0ZXhfdW5sb2NrKCZjdHgtPmxvY2spOworfQorCitzdGF0aWMgdm9pZCBh
bng3NjI1X2JyaWRnZV9lbmFibGUoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSkKK3sKKwlzdHJ1
Y3QgYW54NzYyNV9kYXRhICpjdHggPSBicmlkZ2VfdG9fYW54NzYyNShicmlkZ2UpOworCXN0cnVj
dCBkZXZpY2UgKmRldiA9ICZjdHgtPmNsaWVudC0+ZGV2OworCWludCByZXQ7CisKKwlEUk1fREVW
X0RFQlVHX0RSSVZFUihkZXYsICJkcm0gZW5hYmxlXG4iKTsKKworCWFueDc2MjVfbG93X3Bvd2Vy
X21vZGVfY2hlY2soY3R4LCAxKTsKKworCWlmIChXQVJOX09OKCFhdG9taWNfcmVhZCgmY3R4LT5w
b3dlcl9zdGF0dXMpKSkKKwkJcmV0dXJuOworCisJaWYgKGN0eC0+cGRhdGEucGFuZWwpIHsKKwkJ
cmV0ID0gZHJtX3BhbmVsX2VuYWJsZShjdHgtPnBkYXRhLnBhbmVsKTsKKwkJaWYgKHJldCA8IDAp
IHsKKwkJCURSTV9FUlJPUigiZmFpbGVkIHRvIGVuYWJsZSBwYW5lbDogJWQuXG4iLCByZXQpOwor
CQkJcmV0dXJuOworCQl9CisJfQorCisJbXV0ZXhfbG9jaygmY3R4LT5sb2NrKTsKKwlhbng3NjI1
X2RwX3N0YXJ0KGN0eCk7CisJbXV0ZXhfdW5sb2NrKCZjdHgtPmxvY2spOworfQorCitzdGF0aWMg
dm9pZCBhbng3NjI1X2JyaWRnZV9kaXNhYmxlKHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UpCit7
CisJc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4ID0gYnJpZGdlX3RvX2FueDc2MjUoYnJpZGdlKTsK
KwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKwlpbnQgcmV0OworCisJ
aWYgKFdBUk5fT04oIWF0b21pY19yZWFkKCZjdHgtPnBvd2VyX3N0YXR1cykpKQorCQlyZXR1cm47
CisKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJkcm0gZGlzYWJsZVxuIik7CisKKwlpZiAo
Y3R4LT5wZGF0YS5wYW5lbCkgeworCQlyZXQgPSBkcm1fcGFuZWxfZGlzYWJsZShjdHgtPnBkYXRh
LnBhbmVsKTsKKwkJaWYgKHJldCA8IDApCisJCQlEUk1fRVJST1IoImZhaWxlZCB0byBkaXNhYmxl
IHBhbmVsOiAlZC5cbiIsIHJldCk7CisJfQorCisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAi
ZHJtIGRpc2FibGVcbiIpOworCW11dGV4X2xvY2soJmN0eC0+bG9jayk7CisKKwlhbng3NjI1X2Rw
X3N0b3AoY3R4KTsKKworCWFueDc2MjVfbG93X3Bvd2VyX21vZGVfY2hlY2soY3R4LCAwKTsKKwor
CW11dGV4X3VubG9jaygmY3R4LT5sb2NrKTsKK30KKworc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1f
YnJpZGdlX2Z1bmNzIGFueDc2MjVfYnJpZGdlX2Z1bmNzID0geworCS5hdHRhY2ggPSBhbng3NjI1
X2JyaWRnZV9hdHRhY2gsCisJLmRldGFjaCA9IGFueDc2MjVfYnJpZGdlX2RldGFjaCwKKwkuZGlz
YWJsZSA9IGFueDc2MjVfYnJpZGdlX2Rpc2FibGUsCisJLnBvc3RfZGlzYWJsZSA9IGFueDc2MjVf
cG9zdF9kaXNhYmxlLAorCS5wcmVfZW5hYmxlID0gYW54NzYyNV9wcmVfZW5hYmxlLAorCS5tb2Rl
X3ZhbGlkID0gYW54NzYyNV9icmlkZ2VfbW9kZV92YWxpZCwKKwkubW9kZV9zZXQgPSBhbng3NjI1
X2JyaWRnZV9tb2RlX3NldCwKKwkuZW5hYmxlID0gYW54NzYyNV9icmlkZ2VfZW5hYmxlLAorfTsK
Kworc3RhdGljIGludCBhbng3NjI1X3JlZ2lzdGVyX2kyY19kdW1teV9jbGllbnRzKHN0cnVjdCBh
bng3NjI1X2RhdGEgKmN0eCwKKwkJCQkJICAgICAgc3RydWN0IGkyY19jbGllbnQgKmNsaWVudCkK
K3sKKwljdHgtPmkyYy50eF9wMF9jbGllbnQgPSBpMmNfbmV3X2R1bW15KGNsaWVudC0+YWRhcHRl
ciwKKwkJCQkJICAgICAgVFhfUDBfQUREUiA+PiAxKTsKKwlpZiAoIWN0eC0+aTJjLnR4X3AwX2Ns
aWVudCkKKwkJcmV0dXJuIC1FTk9NRU07CisKKwljdHgtPmkyYy50eF9wMV9jbGllbnQgPSBpMmNf
bmV3X2R1bW15KGNsaWVudC0+YWRhcHRlciwKKwkJCQkJICAgICAgVFhfUDFfQUREUiA+PiAxKTsK
KwlpZiAoIWN0eC0+aTJjLnR4X3AxX2NsaWVudCkKKwkJZ290byBmcmVlX3R4X3AwOworCisJY3R4
LT5pMmMudHhfcDJfY2xpZW50ID0gaTJjX25ld19kdW1teShjbGllbnQtPmFkYXB0ZXIsCisJCQkJ
CSAgICAgIFRYX1AyX0FERFIgPj4gMSk7CisJaWYgKCFjdHgtPmkyYy50eF9wMl9jbGllbnQpCisJ
CWdvdG8gZnJlZV90eF9wMTsKKworCWN0eC0+aTJjLnJ4X3AwX2NsaWVudCA9IGkyY19uZXdfZHVt
bXkoY2xpZW50LT5hZGFwdGVyLAorCQkJCQkgICAgICBSWF9QMF9BRERSID4+IDEpOworCWlmICgh
Y3R4LT5pMmMucnhfcDBfY2xpZW50KQorCQlnb3RvIGZyZWVfdHhfcDI7CisKKwljdHgtPmkyYy5y
eF9wMV9jbGllbnQgPSBpMmNfbmV3X2R1bW15KGNsaWVudC0+YWRhcHRlciwKKwkJCQkJICAgICAg
UlhfUDFfQUREUiA+PiAxKTsKKwlpZiAoIWN0eC0+aTJjLnJ4X3AxX2NsaWVudCkKKwkJZ290byBm
cmVlX3J4X3AwOworCisJY3R4LT5pMmMucnhfcDJfY2xpZW50ID0gaTJjX25ld19kdW1teShjbGll
bnQtPmFkYXB0ZXIsCisJCQkJCSAgICAgIFJYX1AyX0FERFIgPj4gMSk7CisJaWYgKCFjdHgtPmky
Yy5yeF9wMl9jbGllbnQpCisJCWdvdG8gZnJlZV9yeF9wMTsKKworCWN0eC0+aTJjLnRjcGNfY2xp
ZW50ID0gaTJjX25ld19kdW1teShjbGllbnQtPmFkYXB0ZXIsCisJCQkJCSAgICAgVENQQ19JTlRF
UkZBQ0VfQUREUiA+PiAxKTsKKwlpZiAoIWN0eC0+aTJjLnRjcGNfY2xpZW50KQorCQlnb3RvIGZy
ZWVfcnhfcDI7CisKKwlyZXR1cm4gMDsKKworZnJlZV9yeF9wMjoKKwlpMmNfdW5yZWdpc3Rlcl9k
ZXZpY2UoY3R4LT5pMmMucnhfcDJfY2xpZW50KTsKK2ZyZWVfcnhfcDE6CisJaTJjX3VucmVnaXN0
ZXJfZGV2aWNlKGN0eC0+aTJjLnJ4X3AxX2NsaWVudCk7CitmcmVlX3J4X3AwOgorCWkyY191bnJl
Z2lzdGVyX2RldmljZShjdHgtPmkyYy5yeF9wMF9jbGllbnQpOworZnJlZV90eF9wMjoKKwlpMmNf
dW5yZWdpc3Rlcl9kZXZpY2UoY3R4LT5pMmMudHhfcDJfY2xpZW50KTsKK2ZyZWVfdHhfcDE6CisJ
aTJjX3VucmVnaXN0ZXJfZGV2aWNlKGN0eC0+aTJjLnR4X3AxX2NsaWVudCk7CitmcmVlX3R4X3Aw
OgorCWkyY191bnJlZ2lzdGVyX2RldmljZShjdHgtPmkyYy50eF9wMF9jbGllbnQpOworCisJcmV0
dXJuIC1FTk9NRU07Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfdW5yZWdpc3Rlcl9pMmNfZHVt
bXlfY2xpZW50cyhzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJaTJjX3VucmVnaXN0ZXJf
ZGV2aWNlKGN0eC0+aTJjLnR4X3AwX2NsaWVudCk7CisJaTJjX3VucmVnaXN0ZXJfZGV2aWNlKGN0
eC0+aTJjLnR4X3AxX2NsaWVudCk7CisJaTJjX3VucmVnaXN0ZXJfZGV2aWNlKGN0eC0+aTJjLnR4
X3AyX2NsaWVudCk7CisJaTJjX3VucmVnaXN0ZXJfZGV2aWNlKGN0eC0+aTJjLnJ4X3AwX2NsaWVu
dCk7CisJaTJjX3VucmVnaXN0ZXJfZGV2aWNlKGN0eC0+aTJjLnJ4X3AxX2NsaWVudCk7CisJaTJj
X3VucmVnaXN0ZXJfZGV2aWNlKGN0eC0+aTJjLnJ4X3AyX2NsaWVudCk7CisJaTJjX3VucmVnaXN0
ZXJfZGV2aWNlKGN0eC0+aTJjLnRjcGNfY2xpZW50KTsKK30KKworc3RhdGljIGludCBhbng3NjI1
X2kyY19wcm9iZShzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50LAorCQkJICAgICBjb25zdCBzdHJ1
Y3QgaTJjX2RldmljZV9pZCAqaWQpCit7CisJc3RydWN0IGFueDc2MjVfZGF0YSAqcGxhdGZvcm07
CisJc3RydWN0IGFueDc2MjVfcGxhdGZvcm1fZGF0YSAqcGRhdGE7CisJaW50IHJldCA9IDA7CisJ
c3RydWN0IGRldmljZSAqZGV2ID0gJmNsaWVudC0+ZGV2OworCisJaWYgKCFpMmNfY2hlY2tfZnVu
Y3Rpb25hbGl0eShjbGllbnQtPmFkYXB0ZXIsCisJCQkJICAgICBJMkNfRlVOQ19TTUJVU19JMkNf
QkxPQ0spKSB7CisJCURSTV9ERVZfRVJST1IoZGV2LCAiYW54NzYyNSdzIGkyYyBidXMgZG9lc24n
dCBzdXBwb3J0XG4iKTsKKwkJcmV0dXJuIC1FTk9ERVY7CisJfQorCisJcGxhdGZvcm0gPSBremFs
bG9jKHNpemVvZigqcGxhdGZvcm0pLCBHRlBfS0VSTkVMKTsKKwlpZiAoIXBsYXRmb3JtKSB7CisJ
CURSTV9ERVZfRVJST1IoZGV2LCAiZmFpbGVkIHRvIGFsbG9jYXRlIGRyaXZlciBkYXRhXG4iKTsK
KwkJcmV0dXJuIC1FTk9NRU07CisJfQorCisJcGRhdGEgPSAmcGxhdGZvcm0tPnBkYXRhOworCisJ
cmV0ID0gYW54NzYyNV9wYXJzZV9kdChkZXYsIHBkYXRhKTsKKwlpZiAocmV0KSB7CisJCURSTV9E
RVZfRVJST1IoZGV2LCAiZmFpbGVkIHRvIHBhcnNlIGRldmljZXRyZWUuXG4iKTsKKwkJZ290byBm
cmVlX3BsYXRmb3JtOworCX0KKworCXBsYXRmb3JtLT5jbGllbnQgPSBjbGllbnQ7CisJaTJjX3Nl
dF9jbGllbnRkYXRhKGNsaWVudCwgcGxhdGZvcm0pOworCisJYW54NzYyNV9pbml0X2dwaW8ocGxh
dGZvcm0pOworCisJaWYgKHBsYXRmb3JtLT5wZGF0YS5leHRjb25fc3VwcG9ydGVkKSB7CisJCS8q
IGdldCBleHRjb24gZGV2aWNlIGZyb20gRFRTICovCisJCXJldCA9IC1FSU5WQUw7CisJCXBsYXRm
b3JtLT5leHRjb24gPSBleHRjb25fZ2V0X2VkZXZfYnlfcGhhbmRsZShkZXYsIDApOworCQlpZiAo
UFRSX0VSUihwbGF0Zm9ybS0+ZXh0Y29uKSA9PSAtRVBST0JFX0RFRkVSKQorCQkJZ290byBmcmVl
X3BsYXRmb3JtOworCisJCWlmIChJU19FUlIocGxhdGZvcm0tPmV4dGNvbikpIHsKKwkJCURSTV9E
RVZfRVJST1IoZGV2LAorCQkJCSAgICAgICJjYW4gbm90IGdldCBleHRjb24gZGV2aWNlISIpOwor
CQkJZ290byBmcmVlX3BsYXRmb3JtOworCQl9CisKKwkJcmV0ID0gYW54NzYyNV9leHRjb25fbm90
aWZpZXJfaW5pdChwbGF0Zm9ybSk7CisJCWlmIChyZXQpCisJCQlnb3RvIGZyZWVfcGxhdGZvcm07
CisJfQorCisJYXRvbWljX3NldCgmcGxhdGZvcm0tPnBvd2VyX3N0YXR1cywgMCk7CisKKwltdXRl
eF9pbml0KCZwbGF0Zm9ybS0+bG9jayk7CisKKwlwbGF0Zm9ybS0+cGRhdGEuaW50cF9pcnEgPSBj
bGllbnQtPmlycTsKKwlpZiAocGxhdGZvcm0tPnBkYXRhLmludHBfaXJxKSB7CisJCUlOSVRfV09S
SygmcGxhdGZvcm0tPndvcmssIGFueDc2MjVfd29ya19mdW5jKTsKKwkJcGxhdGZvcm0tPndvcmtx
dWV1ZSA9IGNyZWF0ZV93b3JrcXVldWUoImFueDc2MjVfd29yayIpOworCQlpZiAoIXBsYXRmb3Jt
LT53b3JrcXVldWUpIHsKKwkJCURSTV9ERVZfRVJST1IoZGV2LCAiZmFpbGVkIHRvIGNyZWF0ZSB3
b3JrIHF1ZXVlXG4iKTsKKwkJCXJldCA9IC1FTk9NRU07CisJCQlnb3RvIGZyZWVfcGxhdGZvcm07
CisJCX0KKworCQlyZXQgPSBkZXZtX3JlcXVlc3RfdGhyZWFkZWRfaXJxKGRldiwgcGxhdGZvcm0t
PnBkYXRhLmludHBfaXJxLAorCQkJCQkJTlVMTCwgYW54NzYyNV9pbnRyX2hwZF9pc3IsCisJCQkJ
CQlJUlFGX1RSSUdHRVJfRkFMTElORyB8CisJCQkJCQlJUlFGX09ORVNIT1QsCisJCQkJCQkiYW54
NzYyNS1pbnRwIiwgcGxhdGZvcm0pOworCQlpZiAocmV0KSB7CisJCQlEUk1fREVWX0VSUk9SKGRl
diwgImZhaWxlZCB0byByZXF1ZXN0IGlycVxuIik7CisJCQlnb3RvIGZyZWVfd3E7CisJCX0KKwl9
CisKKwlpZiAoYW54NzYyNV9yZWdpc3Rlcl9pMmNfZHVtbXlfY2xpZW50cyhwbGF0Zm9ybSwgY2xp
ZW50KSAhPSAwKSB7CisJCXJldCA9IC1FTk9NRU07CisJCURSTV9FUlJPUigiRmFpbGVkIHRvIHJl
c2VydmUgSTJDIGJ1cy5cbiIpOworCQlnb3RvIGZyZWVfd3E7CisJfQorCisJaWYgKHBsYXRmb3Jt
LT5wZGF0YS5sb3dfcG93ZXJfbW9kZSA9PSAwKSB7CisJCWFueDc2MjVfZGlzYWJsZV9wZF9wcm90
b2NvbChwbGF0Zm9ybSk7CisJCWF0b21pY19zZXQoJnBsYXRmb3JtLT5wb3dlcl9zdGF0dXMsIDEp
OworCX0KKworCS8qIGFkZCB3b3JrIGZ1bmN0aW9uICovCisJaWYgKHBsYXRmb3JtLT5wZGF0YS5p
bnRwX2lycSkKKwkJcXVldWVfd29yayhwbGF0Zm9ybS0+d29ya3F1ZXVlLCAmcGxhdGZvcm0tPndv
cmspOworCisJcGxhdGZvcm0tPmJyaWRnZS5mdW5jcyA9ICZhbng3NjI1X2JyaWRnZV9mdW5jczsK
KwlpZiAoSVNfRU5BQkxFRChDT05GSUdfT0YpKQorCQlwbGF0Zm9ybS0+YnJpZGdlLm9mX25vZGUg
PSBjbGllbnQtPmRldi5vZl9ub2RlOworCWRybV9icmlkZ2VfYWRkKCZwbGF0Zm9ybS0+YnJpZGdl
KTsKKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgInByb2JlIGRvbmVcbiIpOworCisJcmV0
dXJuIDA7CisKK2ZyZWVfd3E6CisJaWYgKHBsYXRmb3JtLT53b3JrcXVldWUpCisJCWRlc3Ryb3lf
d29ya3F1ZXVlKHBsYXRmb3JtLT53b3JrcXVldWUpOworCitmcmVlX3BsYXRmb3JtOgorCWtmcmVl
KHBsYXRmb3JtKTsKKworCXJldHVybiByZXQ7Cit9CisKK3N0YXRpYyBpbnQgYW54NzYyNV9pMmNf
cmVtb3ZlKHN0cnVjdCBpMmNfY2xpZW50ICpjbGllbnQpCit7CisJc3RydWN0IGFueDc2MjVfZGF0
YSAqcGxhdGZvcm0gPSBpMmNfZ2V0X2NsaWVudGRhdGEoY2xpZW50KTsKKworCWRybV9icmlkZ2Vf
cmVtb3ZlKCZwbGF0Zm9ybS0+YnJpZGdlKTsKKworCWlmIChwbGF0Zm9ybS0+cGRhdGEuaW50cF9p
cnEpCisJCWRlc3Ryb3lfd29ya3F1ZXVlKHBsYXRmb3JtLT53b3JrcXVldWUpOworCisJaWYgKHBs
YXRmb3JtLT5wZGF0YS5leHRjb25fc3VwcG9ydGVkKSB7CisJCWRldm1fZXh0Y29uX3VucmVnaXN0
ZXJfbm90aWZpZXIoJnBsYXRmb3JtLT5jbGllbnQtPmRldiwKKwkJCQkJCXBsYXRmb3JtLT5leHRj
b24sCisJCQkJCQlFWFRDT05fRElTUF9EUCwKKwkJCQkJCSZwbGF0Zm9ybS0+ZXZlbnRfbmIpOwor
CQlmbHVzaF93b3JrKCZwbGF0Zm9ybS0+ZXh0Y29uX3dxKTsKKwl9CisKKwlhbng3NjI1X3VucmVn
aXN0ZXJfaTJjX2R1bW15X2NsaWVudHMocGxhdGZvcm0pOworCisJa2ZyZWUocGxhdGZvcm0pOwor
CXJldHVybiAwOworfQorCitzdGF0aWMgY29uc3Qgc3RydWN0IGkyY19kZXZpY2VfaWQgYW54NzYy
NV9pZFtdID0geworCXsiYW54NzYyNSIsIDB9LAorCXt9Cit9OworCitNT0RVTEVfREVWSUNFX1RB
QkxFKGkyYywgYW54NzYyNV9pZCk7CisKKyNpZmRlZiBDT05GSUdfT0YKK3N0YXRpYyBjb25zdCBz
dHJ1Y3Qgb2ZfZGV2aWNlX2lkIGFueF9tYXRjaF90YWJsZVtdID0geworCXsuY29tcGF0aWJsZSA9
ICJhbmFsb2dpeCxhbng3NjI1Iix9LAorCXt9LAorfTsKKyNlbmRpZgorCitzdGF0aWMgc3RydWN0
IGkyY19kcml2ZXIgYW54NzYyNV9kcml2ZXIgPSB7CisJLmRyaXZlciA9IHsKKwkJLm5hbWUgPSAi
YW54NzYyNSIsCisjaWZkZWYgQ09ORklHX09GCisJCS5vZl9tYXRjaF90YWJsZSA9IGFueF9tYXRj
aF90YWJsZSwKKyNlbmRpZgorCX0sCisJLnByb2JlID0gYW54NzYyNV9pMmNfcHJvYmUsCisJLnJl
bW92ZSA9IGFueDc2MjVfaTJjX3JlbW92ZSwKKworCS5pZF90YWJsZSA9IGFueDc2MjVfaWQsCit9
OworCittb2R1bGVfaTJjX2RyaXZlcihhbng3NjI1X2RyaXZlcik7CisKK01PRFVMRV9ERVNDUklQ
VElPTigiTUlQSTJEUCBhbng3NjI1IGRyaXZlciIpOworTU9EVUxFX0FVVEhPUigiWGluIEppIDx4
amlAYW5hbG9naXhzZW1pLmNvbT4iKTsKK01PRFVMRV9MSUNFTlNFKCJHUEwgdjIiKTsKK01PRFVM
RV9WRVJTSU9OKEFOWDc2MjVfRFJWX1ZFUlNJT04pOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2JyaWRnZS9hbmFsb2dpeC9hbng3NjI1LmggYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2Fu
YWxvZ2l4L2FueDc2MjUuaApuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwLi5jODcx
YTZjCi0tLSAvZGV2L251bGwKKysrIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9h
bng3NjI1LmgKQEAgLTAsMCArMSw0MDYgQEAKKy8qIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBH
UEwtMi4wLW9ubHkgKi8KKy8qCisgKiBDb3B5cmlnaHQoYykgMjAxNiwgQW5hbG9naXggU2VtaWNv
bmR1Y3Rvci4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KKyAqCisgKi8KKworI2lmbmRlZiBfX0FOWDc2
MjVfSF9fCisjZGVmaW5lIF9fQU5YNzYyNV9IX18KKworI2lmbmRlZiBMT0dfVEFHCisjZGVmaW5l
IExPR19UQUcgImFueDc2MjVkcCIKKyNlbmRpZgorCisjZGVmaW5lIEFOWDc2MjVfRFJWX1ZFUlNJ
T04gIjAuMS4wNCIKKworLyogTG9hZGluZyBPQ00gcmUtdHJ5aW5nIHRpbWVzICovCisjZGVmaW5l
IE9DTV9MT0FESU5HX1RJTUUgMTAKKworLyoqKioqKioqKiAgQU5YNzYyNSBSZWdpc3RlciAgKioq
KioqKioqKi8KKyNkZWZpbmUgVFhfUDBfQUREUgkJCQkweDcwCisjZGVmaW5lIFRYX1AxX0FERFIJ
CQkJMHg3QQorI2RlZmluZSBUWF9QMl9BRERSCQkJCTB4NzIKKworI2RlZmluZSBSWF9QMF9BRERS
CQkJCTB4N2UKKyNkZWZpbmUgUlhfUDFfQUREUgkJCQkweDg0CisjZGVmaW5lIFJYX1AyX0FERFIJ
CQkJMHg1NAorCisjZGVmaW5lIFJTVkRfMDBfQUREUgkJCQkweDAwCisjZGVmaW5lIFJTVkRfRDFf
QUREUgkJCQkweEQxCisjZGVmaW5lIFJTVkRfNjBfQUREUgkJCQkweDYwCisjZGVmaW5lIFJTVkRf
MzlfQUREUgkJCQkweDM5CisjZGVmaW5lIFJTVkRfN0ZfQUREUgkJCQkweDdGCisKKyNkZWZpbmUg
VENQQ19JTlRFUkZBQ0VfQUREUgkJCTB4NTgKKworLyogYW54NzYyNSBjbG9jayBmcmVxdWVuY3kg
aW4gSHogKi8KKyNkZWZpbmUgWFRBTF9GUlEgICAgICAgICgyNyAqIDEwMDAwMDApCisKKyNkZWZp
bmUgIFBPU1RfRElWSURFUl9NSU4JMQorI2RlZmluZSAgUE9TVF9ESVZJREVSX01BWAkxNgorI2Rl
ZmluZSAgUExMX09VVF9GUkVRX01JTgk1MjAwMDAwMDBVTAorI2RlZmluZSAgUExMX09VVF9GUkVR
X01BWAk3MzAwMDAwMDBVTAorI2RlZmluZSAgUExMX09VVF9GUkVRX0FCU19NSU4JMzAwMDAwMDAw
VUwKKyNkZWZpbmUgIFBMTF9PVVRfRlJFUV9BQlNfTUFYCTgwMDAwMDAwMFVMCisjZGVmaW5lICBN
QVhfVU5TSUdORURfMjRCSVQJMTY3NzcyMTVVTAorCisvKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLworLyogUmVnaXN0ZXIgZGVm
aW5pdGlvbiBvZiBkZXZpY2UgYWRkcmVzcyAweDU4ICovCisKKyNkZWZpbmUgUFJPRFVDVF9JRF9M
IDB4MDIKKyNkZWZpbmUgUFJPRFVDVF9JRF9IIDB4MDMKKworI2RlZmluZSBJTlRSX0FMRVJUXzEg
IDB4Q0MKKyNkZWZpbmUgSU5UUl9TT0ZUV0FSRV9JTlQgQklUKDMpCisjZGVmaW5lIElOVFJfUkVD
RUlWRURfTVNHIEJJVCg1KQorCisjZGVmaW5lIFNZU1RFTV9TVFNUVVMgMHg0NQorI2RlZmluZSBJ
TlRFUkZBQ0VfQ0hBTkdFX0lOVCAweDQ0CisjZGVmaW5lIEhQRF9TVEFUVVNfQ0hBTkdFIDB4ODAK
KyNkZWZpbmUgSFBEX1NUQVRVUyAweDgwCisKKy8qKioqKioqKiBFTkQgb2YgSTJDIEFkZHJlc3Mg
MHg1OCAqKioqKioqKi8KKworLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKi8KKy8qIFJlZ2lzdGVyIGRlZmluaXRpb24gb2YgZGV2
aWNlIGFkZHJlc3MgMHg3MCAqLworI2RlZmluZSAgSTJDX0FERFJfNzBfRFBUWCAgICAgICAgICAg
ICAgMHg3MAorCisjZGVmaW5lIFNQX1RYX0xJTktfQldfU0VUX1JFRyAweEEwCisjZGVmaW5lIFNQ
X1RYX0xBTkVfQ09VTlRfU0VUX1JFRyAweEExCisKKyNkZWZpbmUgTV9WSURfMCAweEMwCisjZGVm
aW5lIE1fVklEXzEgMHhDMQorI2RlZmluZSBNX1ZJRF8yIDB4QzIKKyNkZWZpbmUgTl9WSURfMCAw
eEMzCisjZGVmaW5lIE5fVklEXzEgMHhDNAorI2RlZmluZSBOX1ZJRF8yIDB4QzUKKworLyoqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
Ki8KKy8qIFJlZ2lzdGVyIGRlZmluaXRpb24gb2YgZGV2aWNlIGFkZHJlc3MgMHg3MiAqLworI2Rl
ZmluZSBBVVhfUlNUCTB4MDQKKyNkZWZpbmUgUlNUX0NUUkwyIDB4MDcKKworI2RlZmluZSBTUF9U
WF9UT1RBTF9MSU5FX1NUQV9MIDB4MjQKKyNkZWZpbmUgU1BfVFhfVE9UQUxfTElORV9TVEFfSCAw
eDI1CisjZGVmaW5lIFNQX1RYX0FDVF9MSU5FX1NUQV9MIDB4MjYKKyNkZWZpbmUgU1BfVFhfQUNU
X0xJTkVfU1RBX0ggMHgyNworI2RlZmluZSBTUF9UWF9WX0ZfUE9SQ0hfU1RBIDB4MjgKKyNkZWZp
bmUgU1BfVFhfVl9TWU5DX1NUQSAweDI5CisjZGVmaW5lIFNQX1RYX1ZfQl9QT1JDSF9TVEEgMHgy
QQorI2RlZmluZSBTUF9UWF9UT1RBTF9QSVhFTF9TVEFfTCAweDJCCisjZGVmaW5lIFNQX1RYX1RP
VEFMX1BJWEVMX1NUQV9IIDB4MkMKKyNkZWZpbmUgU1BfVFhfQUNUX1BJWEVMX1NUQV9MIDB4MkQK
KyNkZWZpbmUgU1BfVFhfQUNUX1BJWEVMX1NUQV9IIDB4MkUKKyNkZWZpbmUgU1BfVFhfSF9GX1BP
UkNIX1NUQV9MIDB4MkYKKyNkZWZpbmUgU1BfVFhfSF9GX1BPUkNIX1NUQV9IIDB4MzAKKyNkZWZp
bmUgU1BfVFhfSF9TWU5DX1NUQV9MIDB4MzEKKyNkZWZpbmUgU1BfVFhfSF9TWU5DX1NUQV9IIDB4
MzIKKyNkZWZpbmUgU1BfVFhfSF9CX1BPUkNIX1NUQV9MIDB4MzMKKyNkZWZpbmUgU1BfVFhfSF9C
X1BPUkNIX1NUQV9IIDB4MzQKKworI2RlZmluZSBTUF9UWF9WSURfQ1RSTCAweDg0CisjZGVmaW5l
IFNQX1RYX0JQQ19NQVNLIDB4RTAKKyNkZWZpbmUgU1BfVFhfQlBDXzYgICAgMHgwMAorI2RlZmlu
ZSBTUF9UWF9CUENfOCAgICAweDIwCisjZGVmaW5lIFNQX1RYX0JQQ18xMCAgIDB4NDAKKyNkZWZp
bmUgU1BfVFhfQlBDXzEyICAgMHg2MAorCisjZGVmaW5lIFZJREVPX0JJVF9NQVRSSVhfMTIgMHg0
YworCisjZGVmaW5lIEFVRElPX0NIQU5ORUxfU1RBVFVTXzEgMHhkMAorI2RlZmluZSBBVURJT19D
SEFOTkVMX1NUQVRVU18yIDB4ZDEKKyNkZWZpbmUgQVVESU9fQ0hBTk5FTF9TVEFUVVNfMyAweGQy
CisjZGVmaW5lIEFVRElPX0NIQU5ORUxfU1RBVFVTXzQgMHhkMworI2RlZmluZSBBVURJT19DSEFO
TkVMX1NUQVRVU181IDB4ZDQKKyNkZWZpbmUgQVVESU9fQ0hBTk5FTF9TVEFUVVNfNiAweGQ1Cisj
ZGVmaW5lIFRETV9TTEFWRV9NT0RFIDB4MTAKKyNkZWZpbmUgSTJTX1NMQVZFX01PREUgMHgwOAor
CisjZGVmaW5lIEFVRElPX0NPTlRST0xfUkVHSVNURVIgMHhlNgorI2RlZmluZSBURE1fVElNSU5H
X01PREUgMHgwOAorCisjZGVmaW5lICBJMkNfQUREUl83Ml9EUFRYICAgICAgICAgICAgICAweDcy
CisKKyNkZWZpbmUgIFZJREVPX0NPTlRST0xfMCAgMHgwOAorCisjZGVmaW5lICBBQ1RJVkVfTElO
RVNfTCAgICAgICAgIDB4MTQKKyNkZWZpbmUgIEFDVElWRV9MSU5FU19IICAgICAgICAgMHgxNSAg
Lyogbm90ZTogYml0Wzc6Nl0gYXJlIHJlc2VydmVkICovCisjZGVmaW5lICBWRVJUSUNBTF9GUk9O
VF9QT1JDSCAgIDB4MTYKKyNkZWZpbmUgIFZFUlRJQ0FMX1NZTkNfV0lEVEggICAgMHgxNworI2Rl
ZmluZSAgVkVSVElDQUxfQkFDS19QT1JDSCAgICAweDE4CisKKyNkZWZpbmUgIEhPUklaT05UQUxf
VE9UQUxfUElYRUxTX0wgICAgMHgxOQorI2RlZmluZSAgSE9SSVpPTlRBTF9UT1RBTF9QSVhFTFNf
SCAgICAweDFBICAvKiBub3RlOiBiaXRbNzo2XSBhcmUgcmVzZXJ2ZWQgKi8KKyNkZWZpbmUgIEhP
UklaT05UQUxfQUNUSVZFX1BJWEVMU19MICAgMHgxQgorI2RlZmluZSAgSE9SSVpPTlRBTF9BQ1RJ
VkVfUElYRUxTX0ggICAweDFDICAvKiBub3RlOiBiaXRbNzo2XSBhcmUgcmVzZXJ2ZWQgKi8KKyNk
ZWZpbmUgIEhPUklaT05UQUxfRlJPTlRfUE9SQ0hfTCAgICAgMHgxRAorI2RlZmluZSAgSE9SSVpP
TlRBTF9GUk9OVF9QT1JDSF9IICAgICAweDFFICAvKiBub3RlOiBiaXRbNzo0XSBhcmUgcmVzZXJ2
ZWQgKi8KKyNkZWZpbmUgIEhPUklaT05UQUxfU1lOQ19XSURUSF9MICAgICAgMHgxRgorI2RlZmlu
ZSAgSE9SSVpPTlRBTF9TWU5DX1dJRFRIX0ggICAgICAweDIwICAvKiBub3RlOiBiaXRbNzo0XSBh
cmUgcmVzZXJ2ZWQgKi8KKyNkZWZpbmUgIEhPUklaT05UQUxfQkFDS19QT1JDSF9MICAgICAgMHgy
MQorI2RlZmluZSAgSE9SSVpPTlRBTF9CQUNLX1BPUkNIX0ggICAgICAweDIyICAvKiBub3RlOiBi
aXRbNzo0XSBhcmUgcmVzZXJ2ZWQgKi8KKworLyoqKioqKioqIEVORCBvZiBJMkMgQWRkcmVzcyAw
eDcyICoqKioqKioqKi8KKy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKiovCisvKiBSZWdpc3RlciBkZWZpbml0aW9uIG9mIGRldmlj
ZSBhZGRyZXNzIDB4N2UgKi8KKworI2RlZmluZSAgSTJDX0FERFJfN0VfRkxBU0hfQ09OVFJPTExF
UiAgMHg3RQorCisjZGVmaW5lIEZMQVNIX0xPQURfU1RBIDB4MDUKKyNkZWZpbmUgRkxBU0hfTE9B
RF9TVEFfQ0hLCUJJVCg3KQorCisjZGVmaW5lICBYVEFMX0ZSUV9TRUwgICAgMHgzRgorLyogYml0
IGZpZWxkIHBvc2l0aW9ucyAqLworI2RlZmluZSAgWFRBTF9GUlFfU0VMX1BPUyAgICA1CisvKiBi
aXQgZmllbGQgdmFsdWVzICovCisjZGVmaW5lICBYVEFMX0ZSUV8xOU0yICAgKDAgPDwgWFRBTF9G
UlFfU0VMX1BPUykKKyNkZWZpbmUgIFhUQUxfRlJRXzI3TSAgICAoNCA8PCBYVEFMX0ZSUV9TRUxf
UE9TKQorCisjZGVmaW5lICBSX0RTQ19DVFJMXzAgICAgMHg0MAorI2RlZmluZSAgUkVBRF9TVEFU
VVNfRU4gIDcKKyNkZWZpbmUgIENMS18xTUVHX1JCICAgICA2ICAvKiAxTUh6IGNsb2NrIHJlc2V0
OyAwPXJlc2V0LCAwPXJlc2V0IHJlbGVhc2UgKi8KKyNkZWZpbmUgIERTQ19CSVNUX0RPTkUgICAx
ICAvKiBiaXRbNToxXTogMT1EU0MgTUJJU1QgcGFzcyAqLworI2RlZmluZSAgRFNDX0VOICAgICAg
ICAgIDB4MDEgIC8qIDE9RFNDIGVuYWJsZWQsIDA9RFNDIGRpc2FibGVkICovCisKKyNkZWZpbmUg
T0NNX0ZXX1ZFUlNJT04gICAweDMxCisjZGVmaW5lIE9DTV9GV19SRVZFUlNJT04gMHgzMgorCisj
ZGVmaW5lIEFQX0FVWF9BRERSXzdfMCAgIDB4MTEKKyNkZWZpbmUgQVBfQVVYX0FERFJfMTVfOCAg
MHgxMgorI2RlZmluZSBBUF9BVVhfQUREUl8xOV8xNiAweDEzCisKKy8qIG5vdGU6IGJpdFswOjNd
IEFVWCBzdGF0dXMsIGJpdCA0IG9wX2VuLCBiaXQgNSBhZGRyZXNzIG9ubHkgKi8KKyNkZWZpbmUg
QVBfQVVYX0NUUkxfU1RBVFVTIDB4MTQKKyNkZWZpbmUgQVBfQVVYX0NUUkxfT1BfRU4gMHgxMAor
I2RlZmluZSBBUF9BVVhfQ1RSTF9BRERST05MWSAweDIwCisKKyNkZWZpbmUgQVBfQVVYX0JVRkZf
U1RBUlQgMHgxNQorI2RlZmluZSBQSVhFTF9DTE9DS19MIDB4MjUKKyNkZWZpbmUgUElYRUxfQ0xP
Q0tfSCAweDI2CisKKyNkZWZpbmUgQVBfQVVYX0NPTU1BTkQgMHgyNyAgLyogY29tK2xlbiAqLwor
LyogYml0IDAmMTogM0QgdmlkZW8gc3RydWN0dXJlICovCisvKiAweDAxOiBmcmFtZSBwYWNraW5n
LCAgMHgwMjpMaW5lIGFsdGVybmF0aXZlLCAweDAzOlNpZGUtYnktc2lkZShmdWxsKSAqLworI2Rl
ZmluZSBBUF9BVl9TVEFUVVMgMHgyOAorI2RlZmluZSBBUF9WSURFT19DSEcgIEJJVCgyKQorI2Rl
ZmluZSBBUF9BVURJT19DSEcgIEJJVCgzKQorI2RlZmluZSBBUF9NSVBJX01VVEUgIEJJVCg0KSAv
KiAxOk1JUEkgaW5wdXQgbXV0ZSwgMDogdW1tdXRlICovCisjZGVmaW5lIEFQX01JUElfUlhfRU4g
QklUKDUpIC8qIDE6IE1JUEkgUlggaW5wdXQgaW4gIDA6IG5vIFJYIGluICovCisjZGVmaW5lIEFQ
X0RJU0FCTEVfUEQgQklUKDYpCisjZGVmaW5lIEFQX0RJU0FCTEVfRElTUExBWSBCSVQoNykKKy8q
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKiovCisvKiBSZWdpc3RlciBkZWZpbml0aW9uIG9mIGRldmljZSBhZGRyZXNzIDB4ODQgKi8K
KyNkZWZpbmUgIE1JUElfUEhZX0NPTlRST0xfMyAgICAgICAgICAgIDB4MDMKKyNkZWZpbmUgIE1J
UElfSFNfUFdEX0NMSyAgICAgICAgICAgICAgIDcKKyNkZWZpbmUgIE1JUElfSFNfUlRfQ0xLICAg
ICAgICAgICAgICAgIDYKKyNkZWZpbmUgIE1JUElfUERfQ0xLICAgICAgICAgICAgICAgICAgIDUK
KyNkZWZpbmUgIE1JUElfQ0xLX1JUX01BTlVBTF9QRF9FTiAgICAgIDQKKyNkZWZpbmUgIE1JUElf
Q0xLX0hTX01BTlVBTF9QRF9FTiAgICAgIDMKKyNkZWZpbmUgIE1JUElfQ0xLX0RFVF9ERVRfQllQ
QVNTICAgICAgIDIKKyNkZWZpbmUgIE1JUElfQ0xLX01JU1NfQ1RSTCAgICAgICAgICAgIDEKKyNk
ZWZpbmUgIE1JUElfUERfTFBUWF9DSF9NQU5VQUxfUERfRU4gIDAKKworI2RlZmluZSAgTUlQSV9M
QU5FX0NUUkxfMAkJMHgwNQorI2RlZmluZSAgTUlQSV9USU1FX0hTX1BSUFIJCTB4MDgKKworLyog
QWZ0ZXIgTUlQSSBSWCBwcm90b2NvbCBsYXllciByZWNlaXZlZCB0aGlzIG1hbnkgdmlkZW8gZnJh
bWVzLCAqLworLyogcHJvdG9jb2wgbGF5ZXIgc3RhcnRzIHRvIHJlY29uc3RydWN0IHZpZGVvIHN0
cmVhbSBmcm9tIFBIWSAqLworI2RlZmluZSAgTUlQSV9WSURFT19TVEFCTEVfQ05UICAgICAgICAg
ICAweDBBCisKKyNkZWZpbmUgIE1JUElfTEFORV9DVFJMXzEwICAgICAgICAgICAgICAgMHgwRgor
I2RlZmluZSAgTUlQSV9ESUdJVEFMX0FESl8xICAgMHgxQgorCisjZGVmaW5lICBNSVBJX1BMTF9N
X05VTV8yM18xNiAgIDB4MUUKKyNkZWZpbmUgIE1JUElfUExMX01fTlVNXzE1XzggICAgMHgxRgor
I2RlZmluZSAgTUlQSV9QTExfTV9OVU1fN18wICAgICAweDIwCisjZGVmaW5lICBNSVBJX1BMTF9O
X05VTV8yM18xNiAgIDB4MjEKKyNkZWZpbmUgIE1JUElfUExMX05fTlVNXzE1XzggICAgMHgyMgor
I2RlZmluZSAgTUlQSV9QTExfTl9OVU1fN18wICAgICAweDIzCisKKyNkZWZpbmUgIE1JUElfRElH
SVRBTF9QTExfNiAgICAgMHgyQQorLyogYml0Wzc6Nl06IFZDTyBiYW5kIGNvbnRyb2wsIG9ubHkg
ZWZmZWN0aXZlICovCisvKiB3aGVuIE1JUElfUExMX0ZPUkNFX0JBTkRfRU4gKDB4ODQ6MHgyQls2
XSkgaXMgMSAqLworI2RlZmluZSAgTUlQSV9NX05VTV9SRUFEWSAgICAgICAgMHgxMAorI2RlZmlu
ZSAgTUlQSV9OX05VTV9SRUFEWSAgICAgICAgMHgwOAorI2RlZmluZSAgU1RBQkxFX0lOVEVHRVJf
Q05UX0VOICAgMHgwNAorI2RlZmluZSAgTUlQSV9QTExfVEVTVF9CSVQgICAgICAgMAorLyogYml0
WzE6MF06IHRlc3QgcG9pbnQgb3V0cHV0IHNlbGVjdCAtICovCisvKiAwMDogVkNPIHBvd2VyLCAw
MTogZHZkZF9wZHQsIDEwOiBkdmRkLCAxMTogdmNveCAqLworCisjZGVmaW5lICBNSVBJX0RJR0lU
QUxfUExMXzcgICAgICAweDJCCisjZGVmaW5lICBNSVBJX1BMTF9GT1JDRV9OX0VOICAgICA3Cisj
ZGVmaW5lICBNSVBJX1BMTF9GT1JDRV9CQU5EX0VOICA2CisKKyNkZWZpbmUgIE1JUElfUExMX1ZD
T19UVU5FX1JFRyAgIDQKKy8qIGJpdFs1OjRdOiBWQ08gbWV0YWwgY2FwYWNpdGFuY2UgLSAqLwor
LyogMDA6ICsyMCUgZmFzdCwgMDE6ICsxMCUgZmFzdCAoZGVmYXVsdCksIDEwOiB0eXBpY2FsLCAx
MTogLTEwJSBzbG93ICovCisjZGVmaW5lICBNSVBJX1BMTF9WQ09fVFVORV9SRUdfVkFMICAgMHgz
MAorCisjZGVmaW5lICBNSVBJX1BMTF9QTExfTERPX0JJVCAgICAyCisvKiBiaXRbMzoyXTogdmNv
X3YyaSBwb3dlciAtICovCisvKiAwMDogMS40MFYsIDAxOiAxLjQ1ViAoZGVmYXVsdCksIDEwOiAx
LjUwViwgMTE6IDEuNTVWICovCisjZGVmaW5lICBNSVBJX1BMTF9SRVNFVF9OICAgICAgICAweDAy
CisjZGVmaW5lICBNSVBJX0ZSUV9GT1JDRV9OREVUICAgICAwCisKKyNkZWZpbmUgIE1JUElfQUxF
UlRfQ0xSXzAgICAgICAgIDB4MkQKKyNkZWZpbmUgIEhTX2xpbmtfZXJyb3JfY2xlYXIgICAgIDcK
Ky8qIFRoaXMgYml0IGl0c2VsZiBpcyBTL0MsIGFuZCBpdCBjbGVhcnMgMHg4NDoweDMxWzddICov
CisKKyNkZWZpbmUgIE1JUElfQUxFUlRfT1VUXzAgICAgICAgIDB4MzEKKyNkZWZpbmUgIGNoZWNr
X3N1bV9lcnJfaHNfc3luYyAgIDcKKy8qIFRoaXMgYml0IGlzIGNsZWFyZWQgYnkgMHg4NDoweDJE
WzddICovCisKKyNkZWZpbmUgIE1JUElfRElHSVRBTF9QTExfOCAgICAweDMzCisjZGVmaW5lICBN
SVBJX1BPU1RfRElWX1ZBTCAgICAgNAorLyogbiBtZWFucyBkaXZpZGVkIGJ5IChuKzEpLCBuID0g
MH4xNSAqLworI2RlZmluZSAgTUlQSV9FTl9MT0NLX0ZSWiAgICAgIDMKKyNkZWZpbmUgIE1JUElf
RlJRX0NPVU5URVJfUlNUICAyCisjZGVmaW5lICBNSVBJX0ZSUV9TRVRfUkVHXzggICAgMQorLyog
Yml0IDAgaXMgcmVzZXJ2ZWQgKi8KKworI2RlZmluZSAgTUlQSV9ESUdJVEFMX1BMTF85ICAgIDB4
MzQKKworI2RlZmluZSAgTUlQSV9ESUdJVEFMX1BMTF8xNiAgIDB4M0IKKyNkZWZpbmUgIE1JUElf
RlJRX0ZSRUVaRV9OREVUICAgICAgICAgIDcKKyNkZWZpbmUgIE1JUElfRlJRX1JFR19TRVRfRU5B
QkxFICAgICAgIDYKKyNkZWZpbmUgIE1JUElfUkVHX0ZPUkNFX1NFTF9FTiAgICAgICAgIDUKKyNk
ZWZpbmUgIE1JUElfUkVHX1NFTF9ESVZfUkVHICAgICAgICAgIDQKKyNkZWZpbmUgIE1JUElfUkVH
X0ZPUkNFX1BSRV9ESVZfRU4gICAgIDMKKy8qIGJpdCAyIGlzIHJlc2VydmVkICovCisjZGVmaW5l
ICBNSVBJX0ZSRUZfRF9JTkQgICAgICAgICAgICAgICAxCisjZGVmaW5lICBSRUZfQ0xLXzI3MDAw
S0haICAgIDEKKyNkZWZpbmUgIFJFRl9DTEtfMTkyMDBLSFogICAgMAorI2RlZmluZSAgTUlQSV9S
RUdfUExMX1BMTF9URVNUX0VOQUJMRSAgMAorCisjZGVmaW5lICBNSVBJX0RJR0lUQUxfUExMXzE4
ICAweDNECisjZGVmaW5lICBGUlFfQ09VTlRfUkJfU0VMICAgICAgIDcKKyNkZWZpbmUgIFJFR19G
T1JDRV9QT1NUX0RJVl9FTiAgNgorI2RlZmluZSAgTUlQSV9EUElfU0VMRUNUICAgICAgICA1Cisj
ZGVmaW5lICBTRUxFQ1RfRFNJICAxCisjZGVmaW5lICBTRUxFQ1RfRFBJICAwCisjZGVmaW5lICBS
RUdfQkFVRF9ESVZfUkFUSU8gICAgIDAKKworI2RlZmluZSAgSF9CTEFOS19MICAgICAgICAgICAg
MHgzRQorLyogZm9yIERTQyBvbmx5ICovCisjZGVmaW5lICBIX0JMQU5LX0ggICAgICAgICAgICAw
eDNGCisvKiBmb3IgRFNDIG9ubHk7IG5vdGU6IGJpdFs3OjZdIGFyZSByZXNlcnZlZCAqLworI2Rl
ZmluZSAgTUlQSV9TV0FQICAweDRBCisjZGVmaW5lICBNSVBJX1NXQVBfQ0gwICAgIDcKKyNkZWZp
bmUgIE1JUElfU1dBUF9DSDEgICAgNgorI2RlZmluZSAgTUlQSV9TV0FQX0NIMiAgICA1CisjZGVm
aW5lICBNSVBJX1NXQVBfQ0gzICAgIDQKKyNkZWZpbmUgIE1JUElfU1dBUF9DTEsgICAgMworLyog
Yml0WzI6MF0gYXJlIHJlc2VydmVkICovCisKKy8qKioqKioqKiBFTkQgb2YgSTJDIEFkZHJlc3Mg
MHg4NCAqKioqKioqKiovCisKKy8qIERQQ0QgcmVncyAqLworI2RlZmluZSBEUENEX0RQQ0RfUkVW
ICAgICAgICAgICAgICAgICAgMHgwMAorI2RlZmluZSBEUENEX01BWF9MSU5LX1JBVEUgICAgICAg
ICAgICAgMHgwMQorI2RlZmluZSBEUENEX01BWF9MQU5FX0NPVU5UICAgICAgICAgICAgMHgwMgor
CisvKioqKioqKioqICBBTlg3NjI1IFJlZ2lzdGVyIEVuZCAgKioqKioqKioqKi8KKworLyoqKioq
KioqKioqKioqKioqICBEaXNwbGF5ICoqKioqKioqKioqKioqKioqLworZW51bSBhdWRpb19mcyB7
CisJQVVESU9fRlNfNDQxSyAgPSAweDAwLAorCUFVRElPX0ZTXzQ4SyAgID0gMHgwMiwKKwlBVURJ
T19GU18zMksgICA9IDB4MDMsCisJQVVESU9fRlNfODgySyAgPSAweDA4LAorCUFVRElPX0ZTXzk2
SyAgID0gMHgwYSwKKwlBVURJT19GU18xNzY0SyA9IDB4MGMsCisJQVVESU9fRlNfMTkySyAgPSAw
eDBlCit9OworCitlbnVtIGF1ZGlvX3dkX2xlbiB7CisJQVVESU9fV19MRU5fMTZfMjBNQVggPSAw
eDAyLAorCUFVRElPX1dfTEVOXzE4XzIwTUFYID0gMHgwNCwKKwlBVURJT19XX0xFTl8xN18yME1B
WCA9IDB4MGMsCisJQVVESU9fV19MRU5fMTlfMjBNQVggPSAweDA4LAorCUFVRElPX1dfTEVOXzIw
XzIwTUFYID0gMHgwYSwKKwlBVURJT19XX0xFTl8yMF8yNE1BWCA9IDB4MDMsCisJQVVESU9fV19M
RU5fMjJfMjRNQVggPSAweDA1LAorCUFVRElPX1dfTEVOXzIxXzI0TUFYID0gMHgwZCwKKwlBVURJ
T19XX0xFTl8yM18yNE1BWCA9IDB4MDksCisJQVVESU9fV19MRU5fMjRfMjRNQVggPSAweDBiCit9
OworCisjZGVmaW5lIEkyU19DSF8yCTB4MDEKKyNkZWZpbmUgVERNX0NIXzQJMHgwMworI2RlZmlu
ZSBURE1fQ0hfNgkweDA1CisjZGVmaW5lIFRETV9DSF84CTB4MDcKKworI2RlZmluZSBNQVhfRFBD
RF9CVUZGRVJfU0laRQkxNgorCisjZGVmaW5lIE9ORV9CTE9DS19TSVpFICAgICAgMTI4CisjZGVm
aW5lIEZPVVJfQkxPQ0tfU0laRSAgICAgKDEyOCAqIDQpCisKKyNkZWZpbmUgTUFYX0VESURfQkxP
Q0sJMworI2RlZmluZSBFRElEX1RSWV9DTlQJMworI2RlZmluZSBTVVBQT1JUX1BJWEVMX0NMT0NL
CTMwMDAwMAorCitzdHJ1Y3Qgc19lZGlkX2RhdGEgeworCWludCBlZGlkX2Jsb2NrX251bTsKKwl1
OCBlZGlkX3Jhd19kYXRhW0ZPVVJfQkxPQ0tfU0laRV07Cit9OworCisvKioqKioqKioqKioqKioq
KiogIERpc3BsYXkgRW5kICoqKioqKioqKioqKioqKioqLworCitzdHJ1Y3QgYW54NzYyNV9kZXZp
Y2Vfbm9kZSB7CisJc3RydWN0IGRldmljZV9ub2RlICptaXBpX2RzaV9ob3N0X25vZGU7CisJc3Ry
dWN0IGRldmljZV9ub2RlICptaXBpX2RwaV9ob3N0X25vZGU7CisJc3RydWN0IGRldmljZV9ub2Rl
ICpwYW5lbF9ub2RlOworfTsKKworc3RydWN0IGFueDc2MjVfcGxhdGZvcm1fZGF0YSB7CisJc3Ry
dWN0IGdwaW9fZGVzYyAqZ3Bpb19wX29uOworCXN0cnVjdCBncGlvX2Rlc2MgKmdwaW9fcmVzZXQ7
CisJc3RydWN0IGRybV9wYW5lbCAqcGFuZWw7CisJaW50IGludHBfaXJxOworCXUzMiBwYW5lbF9m
bGFnczsKKwl1MzIgbG93X3Bvd2VyX21vZGU7CisJdTMyIGRzaV9zdXBwb3J0ZWQ7CisJdTMyIGlu
dGVybmFsX3BhbmVsOworCXUzMiBleHRjb25fc3VwcG9ydGVkOworCXN0cnVjdCBhbng3NjI1X2Rl
dmljZV9ub2RlIG5vZGU7Cit9OworCitzdHJ1Y3QgYW54NzYyNV9pMmNfY2xpZW50IHsKKwlzdHJ1
Y3QgaTJjX2NsaWVudCAqdHhfcDBfY2xpZW50OworCXN0cnVjdCBpMmNfY2xpZW50ICp0eF9wMV9j
bGllbnQ7CisJc3RydWN0IGkyY19jbGllbnQgKnR4X3AyX2NsaWVudDsKKwlzdHJ1Y3QgaTJjX2Ns
aWVudCAqcnhfcDBfY2xpZW50OworCXN0cnVjdCBpMmNfY2xpZW50ICpyeF9wMV9jbGllbnQ7CisJ
c3RydWN0IGkyY19jbGllbnQgKnJ4X3AyX2NsaWVudDsKKwlzdHJ1Y3QgaTJjX2NsaWVudCAqdGNw
Y19jbGllbnQ7Cit9OworCitzdHJ1Y3QgYW54NzYyNV9kYXRhIHsKKwlzdHJ1Y3QgYW54NzYyNV9w
bGF0Zm9ybV9kYXRhIHBkYXRhOworCWF0b21pY190IHBvd2VyX3N0YXR1czsKKwlhdG9taWNfdCBw
YW5lbF9wb3dlcjsKKwlpbnQgaHBkX3N0YXR1czsKKwlpbnQgaHBkX2hpZ2hfY250OworCXN0cnVj
dCBpMmNfY2xpZW50ICpjbGllbnQ7CisJc3RydWN0IGFueDc2MjVfaTJjX2NsaWVudCBpMmM7CisJ
c3RydWN0IGkyY19jbGllbnQgKmxhc3RfY2xpZW50OworCXN0cnVjdCBzX2VkaWRfZGF0YSBzbGlt
cG9ydF9lZGlkX3A7CisJc3RydWN0IHdvcmtfc3RydWN0IHdvcms7CisJc3RydWN0IHdvcmtxdWV1
ZV9zdHJ1Y3QgKndvcmtxdWV1ZTsKKwkvKiBkcm0gYnJpZGdlIG11dGV4IGxvY2sgKi8KKwlzdHJ1
Y3QgbXV0ZXggbG9jazsKKwljaGFyIGVkaWRfYmxvY2s7CisJc3RydWN0IGRpc3BsYXlfdGltaW5n
IGR0OworCXU4IGRpc3BsYXlfdGltaW5nX3ZhbGlkOworCXN0cnVjdCBkcm1fYnJpZGdlIGJyaWRn
ZTsKKwl1OCBicmlkZ2VfYXR0YWNoZWQ7CisJc3RydWN0IGRybV9jb25uZWN0b3IgY29ubmVjdG9y
OworCXN0cnVjdCBtaXBpX2RzaV9kZXZpY2UgKmRzaTsKKwlzdHJ1Y3QgZHJtX2RwX2xpbmsgbGlu
azsKKwlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSB2aWRfaW5mbzsKKwlzdHJ1Y3Qgbm90aWZpZXJf
YmxvY2sgZXZlbnRfbmI7CisJc3RydWN0IGV4dGNvbl9kZXYgKmV4dGNvbjsKKwlzdHJ1Y3Qgd29y
a19zdHJ1Y3QgZXh0Y29uX3dxOworfTsKKworI2VuZGlmICAvKiBfX0FOWDc2MjVfSF9fICovCi0t
IAoyLjcuNAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18K
ZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0
dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
