Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id C85B02C876
	for <lists+dri-devel@lfdr.de>; Tue, 28 May 2019 16:13:29 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id BCAEA89E57;
	Tue, 28 May 2019 14:13:26 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from perceval.ideasonboard.com (perceval.ideasonboard.com
 [IPv6:2001:4b98:dc2:55:216:3eff:fef7:d647])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 9467589E57
 for <dri-devel@lists.freedesktop.org>; Tue, 28 May 2019 14:13:24 +0000 (UTC)
Received: from pendragon.ideasonboard.com (85-76-65-42-nat.elisa-mobile.fi
 [85.76.65.42])
 by perceval.ideasonboard.com (Postfix) with ESMTPSA id C82FE1024;
 Tue, 28 May 2019 16:13:20 +0200 (CEST)
From: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH v3 05/10] drm: rcar-du: lvds: Remove LVDS double-enable checks
Date: Tue, 28 May 2019 17:12:29 +0300
Message-Id: <20190528141234.15425-6-laurent.pinchart+renesas@ideasonboard.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190528141234.15425-1-laurent.pinchart+renesas@ideasonboard.com>
References: <20190528141234.15425-1-laurent.pinchart+renesas@ideasonboard.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=ideasonboard.com; s=mail; t=1559052802;
 bh=fafgqftOKmzV2T4S4j4FQqaAcD9jTsz46MYn7SAJp4k=;
 h=From:To:Cc:Subject:Date:In-Reply-To:References:From;
 b=pJgwZk/X1WXWZlevGZisYK4Msxj0Qq7sYJ26U0YpGPVQURyr9g+oo2+WVaJ9cccCT
 IJQZk/N8u+uU22iuqx/ZzlyzPPT0iDwlopVFfMoKbVgEAKR9BDNNjfr3+iPpKkYQkT
 rBh52JXcHqgJzgiI91zaK9lfFdF/zaVdx/gyIwFE=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-renesas-soc@vger.kernel.org, Jacopo Mondi <jacopo@jmondi.org>,
 Jacopo Mondi <jacopo+renesas@jmondi.org>,
 Kieran Bingham <kieran.bingham@ideasonboard.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIERSTSBjb3JlIGFuZCBEVSBkcml2ZXIgZ3VhcmFudGVlIHRoYXQgdGhlIExWRFMgYnJpZGdl
IHdpbGwgbm90IGJlCmRvdWJsZS1lbmFibGVkIG9yIGRvdWJsZS1kaXNhYmxlZC4gUmVtb3ZlIHRo
ZSBjb3JyZXNwb25kaW5nIHVubmVjZXNzYXJ5CmNoZWNrcy4KClNpZ25lZC1vZmYtYnk6IExhdXJl
bnQgUGluY2hhcnQgPGxhdXJlbnQucGluY2hhcnQrcmVuZXNhc0BpZGVhc29uYm9hcmQuY29tPgpS
ZXZpZXdlZC1ieTogSmFjb3BvIE1vbmRpIDxqYWNvcG9Aam1vbmRpLm9yZz4KVGVzdGVkLWJ5OiBK
YWNvcG8gTW9uZGkgPGphY29wbytyZW5lc2FzQGptb25kaS5vcmc+Ci0tLQogZHJpdmVycy9ncHUv
ZHJtL3JjYXItZHUvcmNhcl9sdmRzLmMgfCAxOSAtLS0tLS0tLS0tLS0tLS0tLS0tCiAxIGZpbGUg
Y2hhbmdlZCwgMTkgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3Jj
YXItZHUvcmNhcl9sdmRzLmMgYi9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2x2ZHMuYwpp
bmRleCA2MjBiNTFhYWIyOTEuLmEzMzFmMGMzMjE4NyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL3JjYXItZHUvcmNhcl9sdmRzLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNh
cl9sdmRzLmMKQEAgLTYzLDcgKzYzLDYgQEAgc3RydWN0IHJjYXJfbHZkcyB7CiAJCXN0cnVjdCBj
bGsgKmV4dGFsOwkJLyogRXh0ZXJuYWwgY2xvY2sgKi8KIAkJc3RydWN0IGNsayAqZG90Y2xraW5b
Ml07CS8qIEV4dGVybmFsIERVIGNsb2NrcyAqLwogCX0gY2xvY2tzOwotCWJvb2wgZW5hYmxlZDsK
IAogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlIGRpc3BsYXlfbW9kZTsKIAllbnVtIHJjYXJfbHZk
c19tb2RlIG1vZGU7CkBAIC0zNjgsMTUgKzM2NywxMiBAQCBpbnQgcmNhcl9sdmRzX2Nsa19lbmFi
bGUoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSwgdW5zaWduZWQgbG9uZyBmcmVxKQogCiAJZGV2
X2RiZyhsdmRzLT5kZXYsICJlbmFibGluZyBMVkRTIFBMTCwgZnJlcT0lbHVIelxuIiwgZnJlcSk7
CiAKLQlXQVJOX09OKGx2ZHMtPmVuYWJsZWQpOwotCiAJcmV0ID0gY2xrX3ByZXBhcmVfZW5hYmxl
KGx2ZHMtPmNsb2Nrcy5tb2QpOwogCWlmIChyZXQgPCAwKQogCQlyZXR1cm4gcmV0OwogCiAJX19y
Y2FyX2x2ZHNfcGxsX3NldHVwX2QzX2UzKGx2ZHMsIGZyZXEsIHRydWUpOwogCi0JbHZkcy0+ZW5h
YmxlZCA9IHRydWU7CiAJcmV0dXJuIDA7CiB9CiBFWFBPUlRfU1lNQk9MX0dQTChyY2FyX2x2ZHNf
Y2xrX2VuYWJsZSk7CkBAIC0zOTAsMTMgKzM4Niw5IEBAIHZvaWQgcmNhcl9sdmRzX2Nsa19kaXNh
YmxlKHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UpCiAKIAlkZXZfZGJnKGx2ZHMtPmRldiwgImRp
c2FibGluZyBMVkRTIFBMTFxuIik7CiAKLQlXQVJOX09OKCFsdmRzLT5lbmFibGVkKTsKLQogCXJj
YXJfbHZkc193cml0ZShsdmRzLCBMVkRQTExDUiwgMCk7CiAKIAljbGtfZGlzYWJsZV91bnByZXBh
cmUobHZkcy0+Y2xvY2tzLm1vZCk7Ci0KLQlsdmRzLT5lbmFibGVkID0gZmFsc2U7CiB9CiBFWFBP
UlRfU1lNQk9MX0dQTChyY2FyX2x2ZHNfY2xrX2Rpc2FibGUpOwogCkBAIC00MTcsOCArNDA5LDYg
QEAgc3RhdGljIHZvaWQgcmNhcl9sdmRzX2VuYWJsZShzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdl
KQogCXUzMiBsdmRjcjA7CiAJaW50IHJldDsKIAotCVdBUk5fT04obHZkcy0+ZW5hYmxlZCk7Ci0K
IAlyZXQgPSBjbGtfcHJlcGFyZV9lbmFibGUobHZkcy0+Y2xvY2tzLm1vZCk7CiAJaWYgKHJldCA8
IDApCiAJCXJldHVybjsKQEAgLTUwNywxNiArNDk3LDEyIEBAIHN0YXRpYyB2b2lkIHJjYXJfbHZk
c19lbmFibGUoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSkKIAkJZHJtX3BhbmVsX3ByZXBhcmUo
bHZkcy0+cGFuZWwpOwogCQlkcm1fcGFuZWxfZW5hYmxlKGx2ZHMtPnBhbmVsKTsKIAl9Ci0KLQls
dmRzLT5lbmFibGVkID0gdHJ1ZTsKIH0KIAogc3RhdGljIHZvaWQgcmNhcl9sdmRzX2Rpc2FibGUo
c3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSkKIHsKIAlzdHJ1Y3QgcmNhcl9sdmRzICpsdmRzID0g
YnJpZGdlX3RvX3JjYXJfbHZkcyhicmlkZ2UpOwogCi0JV0FSTl9PTighbHZkcy0+ZW5hYmxlZCk7
Ci0KIAlpZiAobHZkcy0+cGFuZWwpIHsKIAkJZHJtX3BhbmVsX2Rpc2FibGUobHZkcy0+cGFuZWwp
OwogCQlkcm1fcGFuZWxfdW5wcmVwYXJlKGx2ZHMtPnBhbmVsKTsKQEAgLTUyNyw4ICs1MTMsNiBA
QCBzdGF0aWMgdm9pZCByY2FyX2x2ZHNfZGlzYWJsZShzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdl
KQogCXJjYXJfbHZkc193cml0ZShsdmRzLCBMVkRQTExDUiwgMCk7CiAKIAljbGtfZGlzYWJsZV91
bnByZXBhcmUobHZkcy0+Y2xvY2tzLm1vZCk7Ci0KLQlsdmRzLT5lbmFibGVkID0gZmFsc2U7CiB9
CiAKIHN0YXRpYyBib29sIHJjYXJfbHZkc19tb2RlX2ZpeHVwKHN0cnVjdCBkcm1fYnJpZGdlICpi
cmlkZ2UsCkBAIC01OTIsOCArNTc2LDYgQEAgc3RhdGljIHZvaWQgcmNhcl9sdmRzX21vZGVfc2V0
KHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UsCiB7CiAJc3RydWN0IHJjYXJfbHZkcyAqbHZkcyA9
IGJyaWRnZV90b19yY2FyX2x2ZHMoYnJpZGdlKTsKIAotCVdBUk5fT04obHZkcy0+ZW5hYmxlZCk7
Ci0KIAlsdmRzLT5kaXNwbGF5X21vZGUgPSAqYWRqdXN0ZWRfbW9kZTsKIAogCXJjYXJfbHZkc19n
ZXRfbHZkc19tb2RlKGx2ZHMpOwpAQCAtNzkzLDcgKzc3NSw2IEBAIHN0YXRpYyBpbnQgcmNhcl9s
dmRzX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCiAKIAlsdmRzLT5kZXYgPSAm
cGRldi0+ZGV2OwogCWx2ZHMtPmluZm8gPSBvZl9kZXZpY2VfZ2V0X21hdGNoX2RhdGEoJnBkZXYt
PmRldik7Ci0JbHZkcy0+ZW5hYmxlZCA9IGZhbHNlOwogCiAJcmV0ID0gcmNhcl9sdmRzX3BhcnNl
X2R0KGx2ZHMpOwogCWlmIChyZXQgPCAwKQotLSAKUmVnYXJkcywKCkxhdXJlbnQgUGluY2hhcnQK
Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZl
bCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xp
c3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
