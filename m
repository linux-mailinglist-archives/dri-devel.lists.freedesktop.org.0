Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A5176EB293
	for <lists+dri-devel@lfdr.de>; Thu, 31 Oct 2019 15:26:36 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1DFB56EE9E;
	Thu, 31 Oct 2019 14:26:32 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from bhuna.collabora.co.uk (bhuna.collabora.co.uk
 [IPv6:2a00:1098:0:82:1000:25:2eeb:e3e3])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 4D2A06E0B7
 for <dri-devel@lists.freedesktop.org>; Thu, 31 Oct 2019 14:26:23 +0000 (UTC)
Received: from [127.0.0.1] (localhost [127.0.0.1])
 (Authenticated sender: aratiu) with ESMTPSA id D63D329087E
From: Adrian Ratiu <adrian.ratiu@collabora.com>
To: linux-arm-kernel@lists.infradead.org,
 linux-stm32@st-md-mailman.stormreply.com,
 linux-rockchip@lists.infradead.org
Subject: [PATCH 2/4] drm: bridge: dw_mipi_dsi: abstract register access using
 reg_fields
Date: Thu, 31 Oct 2019 16:26:31 +0200
Message-Id: <20191031142633.12460-3-adrian.ratiu@collabora.com>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20191031142633.12460-1-adrian.ratiu@collabora.com>
References: <20191031142633.12460-1-adrian.ratiu@collabora.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: kernel@collabora.com, linux-kernel@vger.kernel.org,
 dri-devel@lists.freedesktop.org,
 Boris Brezillon <boris.brezillon@collabora.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

UmVnaXN0ZXIgZXhpc3RlbmNlLCBhZGRyZXNzL29mZnNldHMsIGZpZWxkIGxheW91dHMsIHJlc2Vy
dmVkIGJpdHMgYW5kCnNvIG9uIGRpZmZlciBiZXR3ZWVuIE1JUEktRFNJIHZlcnNpb25zIGFuZCBi
ZXR3ZWVuIFNvQyB2ZW5kb3IgYm9hcmRzLgpEZXNwaXRlIHRoZXNlIGRpZmZlcmVuY2VzIHRoZSBo
dyBJUCBhbmQgcHJvdG9jb2xzIGFyZSBtb3N0bHkgdGhlIHNhbWUKc28gdGhlIGdlbmVyaWMgZHJp
dmVyIGNhbiBiZSBtYWRlIHRvIGNvbXBlbnNhdGUgdGhlc2UgZGlmZmVyZW5jZXMuCgpUaGUgZXhp
c3RpbmcgUm9ja2NoaXAgYW5kIFNUTSBkcml2ZXJzIGhhcmRjb2RlZCBhIGxvdCBvZiB0aGVpciBj
b21tb24KZGVmaW5pdGlvbnMgaW4gdGhlIGJyaWRnZSBjb2RlIGJlY2F1c2UgdGhleSdyZSBiYXNl
ZCBvbiBEU0kgdjEuMzAgYW5kCjEuMzEgd2hpY2ggYXJlIHJlbGF0aXZlbHkgY2xvc2UsIGJ1dCBp
biBvcmRlciB0byBzdXBwb3J0IG9sZGVyL2Z1dHVyZQp2ZXJzaW9ucyB3aXRoIG1vcmUgZGl2ZXJn
aW5nIGxheW91dHMgbGlrZSB0aGUgdjEuMDEgcHJlc2VudCBvbiBpbXg2LAp3ZSBhYnN0cmFjdCBz
b21lIG9mIHRoZSByZWdpc3RlciBhY2Nlc3NlcyB2aWEgdGhlIHJlZ21hcF9maWVsZCBBUElzLgoK
VGhpcyBlbmFibGVzIGVhY2ggcGxhdGZvcm0gZHJpdmVyIHRvIHN1cHBseSBpdHMgb3duIHNwZWNp
ZmljIHJlZ2lzdGVyCmxheW91dCBtYWtpbmcgdGhlIGNvbW1vbiBicmlkZ2UgZHJpdmVyIG1vcmUg
Z2VuZXJpYyBhcyB3ZWxsIGFzCnJlbW92aW5nIGEgbG90IG9mIHRoZSBiaXQtc2hpZnRpbmcgYW5k
IG1hc2tpbmcgYm9pbGVycGxhdGUgd2hpY2ggaXMKbm93IGhhbmRsZWQgYXV0b21hdGljYWxseSBi
eSB0aGUgcmVnbWFwIHN1YnN5c3RlbS4KCk5vdCBhbGwgcmVnaXN0ZXIgYWNjZXNzZXMgaGF2ZSBi
ZWVuIGNvbnZlcnRlZDogb25seSB0aGUgbWluaW11bQpkaWZmZXJlbmNlIGJldHdlZW4gdGhlIHZl
cnNpb25zIHN1cHBsaWVkIGJ5IHRoZSBjdXJyZW50IDMgcm9ja2NoaXAsCnN0bSBhbmQgaW14IGhv
c3QgY29udHJvbGxlciBjb3JlcywgbW9vcmUgY2FuIGJlIG1vdmVkIGluIHRoZSBmdXR1cmUKYXMg
bmVlZGVkLgoKU3VnZ2VzdGVkLWJ5OiBCb3JpcyBCcmV6aWxsb24gPGJvcmlzLmJyZXppbGxvbkBj
b2xsYWJvcmEuY29tPgpTaWduZWQtb2ZmLWJ5OiBBZHJpYW4gUmF0aXUgPGFkcmlhbi5yYXRpdUBj
b2xsYWJvcmEuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2Uvc3lub3BzeXMvZHctbWlw
aS1kc2kuYyB8IDQ3MCArKysrKysrKystLS0tLS0tLS0KIC4uLi9ncHUvZHJtL3JvY2tjaGlwL2R3
LW1pcGktZHNpLXJvY2tjaGlwLmMgICB8IDExOCArKysrKwogZHJpdmVycy9ncHUvZHJtL3N0bS9k
d19taXBpX2RzaS1zdG0uYyAgICAgICAgIHwgMTE2ICsrKysrCiBpbmNsdWRlL2RybS9icmlkZ2Uv
ZHdfbWlwaV9kc2kuaCAgICAgICAgICAgICAgfCAgNTggKysrCiA0IGZpbGVzIGNoYW5nZWQsIDUy
OSBpbnNlcnRpb25zKCspLCAyMzMgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2JyaWRnZS9zeW5vcHN5cy9kdy1taXBpLWRzaS5jIGIvZHJpdmVycy9ncHUvZHJtL2Jy
aWRnZS9zeW5vcHN5cy9kdy1taXBpLWRzaS5jCmluZGV4IDRlZjNlOTAzOGNjMi4uZjg4NjkwZDA0
NDk0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3N5bm9wc3lzL2R3LW1pcGkt
ZHNpLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9zeW5vcHN5cy9kdy1taXBpLWRzaS5j
CkBAIC00MywxMSArNDMsOCBAQAogI2RlZmluZSBUT19DTEtfRElWSVNJT04oZGl2KQkJKCgoZGl2
KSAmIDB4ZmYpIDw8IDgpCiAjZGVmaW5lIFRYX0VTQ19DTEtfRElWSVNJT04oZGl2KQkoKGRpdikg
JiAweGZmKQogCi0jZGVmaW5lIERTSV9EUElfVkNJRAkJCTB4MGMKICNkZWZpbmUgRFBJX1ZDSUQo
dmNpZCkJCQkoKHZjaWQpICYgMHgzKQogCi0jZGVmaW5lIERTSV9EUElfQ09MT1JfQ09ESU5HCQkw
eDEwCi0jZGVmaW5lIExPT1NFTFkxOF9FTgkJCUJJVCg4KQogI2RlZmluZSBEUElfQ09MT1JfQ09E
SU5HXzE2QklUXzEJMHgwCiAjZGVmaW5lIERQSV9DT0xPUl9DT0RJTkdfMTZCSVRfMgkweDEKICNk
ZWZpbmUgRFBJX0NPTE9SX0NPRElOR18xNkJJVF8zCTB4MgpAQCAtNTUsMTMgKzUyLDYgQEAKICNk
ZWZpbmUgRFBJX0NPTE9SX0NPRElOR18xOEJJVF8yCTB4NAogI2RlZmluZSBEUElfQ09MT1JfQ09E
SU5HXzI0QklUCQkweDUKIAotI2RlZmluZSBEU0lfRFBJX0NGR19QT0wJCQkweDE0Ci0jZGVmaW5l
IENPTE9STV9BQ1RJVkVfTE9XCQlCSVQoNCkKLSNkZWZpbmUgU0hVVERfQUNUSVZFX0xPVwkJQklU
KDMpCi0jZGVmaW5lIEhTWU5DX0FDVElWRV9MT1cJCUJJVCgyKQotI2RlZmluZSBWU1lOQ19BQ1RJ
VkVfTE9XCQlCSVQoMSkKLSNkZWZpbmUgREFUQUVOX0FDVElWRV9MT1cJCUJJVCgwKQotCiAjZGVm
aW5lIERTSV9EUElfTFBfQ01EX1RJTQkJMHgxOAogI2RlZmluZSBPVVRWQUNUX0xQQ01EX1RJTUUo
cCkJCSgoKHApICYgMHhmZikgPDwgMTYpCiAjZGVmaW5lIElOVkFDVF9MUENNRF9USU1FKHApCQko
KHApICYgMHhmZikKQEAgLTcxLDcgKzYxLDYgQEAKICNkZWZpbmUgRFNJX0RCSV9QQVJUSVRJT05J
TkdfRU4JCTB4MjQKICNkZWZpbmUgRFNJX0RCSV9DTURTSVpFCQkJMHgyOAogCi0jZGVmaW5lIERT
SV9QQ0tIRExfQ0ZHCQkJMHgyYwogI2RlZmluZSBDUkNfUlhfRU4JCQlCSVQoNCkKICNkZWZpbmUg
RUNDX1JYX0VOCQkJQklUKDMpCiAjZGVmaW5lIEJUQV9FTgkJCQlCSVQoMikKQEAgLTgxLDcwICs3
MCwxMyBAQAogI2RlZmluZSBEU0lfR0VOX1ZDSUQJCQkweDMwCiAKICNkZWZpbmUgRFNJX01PREVf
Q0ZHCQkJMHgzNAotI2RlZmluZSBFTkFCTEVfVklERU9fTU9ERQkJMAotI2RlZmluZSBFTkFCTEVf
Q01EX01PREUJCQlCSVQoMCkKIAotI2RlZmluZSBEU0lfVklEX01PREVfQ0ZHCQkweDM4Ci0jZGVm
aW5lIEVOQUJMRV9MT1dfUE9XRVIJCSgweDNmIDw8IDgpCi0jZGVmaW5lIEVOQUJMRV9MT1dfUE9X
RVJfTUFTSwkJKDB4M2YgPDwgOCkKKyNkZWZpbmUgRU5BQkxFX0xPV19QT1dFUgkJMHgzZgorCiAj
ZGVmaW5lIFZJRF9NT0RFX1RZUEVfTk9OX0JVUlNUX1NZTkNfUFVMU0VTCTB4MAogI2RlZmluZSBW
SURfTU9ERV9UWVBFX05PTl9CVVJTVF9TWU5DX0VWRU5UUwkweDEKICNkZWZpbmUgVklEX01PREVf
VFlQRV9CVVJTVAkJCTB4MgotI2RlZmluZSBWSURfTU9ERV9UWVBFX01BU0sJCQkweDMKLSNkZWZp
bmUgVklEX01PREVfVlBHX0VOQUJMRQkJQklUKDE2KQotI2RlZmluZSBWSURfTU9ERV9WUEdfSE9S
SVpPTlRBTAkJQklUKDI0KQotCi0jZGVmaW5lIERTSV9WSURfUEtUX1NJWkUJCTB4M2MKLSNkZWZp
bmUgVklEX1BLVF9TSVpFKHApCQkJKChwKSAmIDB4M2ZmZikKLQotI2RlZmluZSBEU0lfVklEX05V
TV9DSFVOS1MJCTB4NDAKLSNkZWZpbmUgVklEX05VTV9DSFVOS1MoYykJCSgoYykgJiAweDFmZmYp
Ci0KLSNkZWZpbmUgRFNJX1ZJRF9OVUxMX1NJWkUJCTB4NDQKLSNkZWZpbmUgVklEX05VTExfU0la
RShiKQkJKChiKSAmIDB4MWZmZikKLQotI2RlZmluZSBEU0lfVklEX0hTQV9USU1FCQkweDQ4Ci0j
ZGVmaW5lIERTSV9WSURfSEJQX1RJTUUJCTB4NGMKLSNkZWZpbmUgRFNJX1ZJRF9ITElORV9USU1F
CQkweDUwCi0jZGVmaW5lIERTSV9WSURfVlNBX0xJTkVTCQkweDU0Ci0jZGVmaW5lIERTSV9WSURf
VkJQX0xJTkVTCQkweDU4Ci0jZGVmaW5lIERTSV9WSURfVkZQX0xJTkVTCQkweDVjCi0jZGVmaW5l
IERTSV9WSURfVkFDVElWRV9MSU5FUwkJMHg2MAotI2RlZmluZSBEU0lfRURQSV9DTURfU0laRQkJ
MHg2NAotCi0jZGVmaW5lIERTSV9DTURfTU9ERV9DRkcJCTB4NjgKLSNkZWZpbmUgTUFYX1JEX1BL
VF9TSVpFX0xQCQlCSVQoMjQpCi0jZGVmaW5lIERDU19MV19UWF9MUAkJCUJJVCgxOSkKLSNkZWZp
bmUgRENTX1NSXzBQX1RYX0xQCQkJQklUKDE4KQotI2RlZmluZSBEQ1NfU1dfMVBfVFhfTFAJCQlC
SVQoMTcpCi0jZGVmaW5lIERDU19TV18wUF9UWF9MUAkJCUJJVCgxNikKLSNkZWZpbmUgR0VOX0xX
X1RYX0xQCQkJQklUKDE0KQotI2RlZmluZSBHRU5fU1JfMlBfVFhfTFAJCQlCSVQoMTMpCi0jZGVm
aW5lIEdFTl9TUl8xUF9UWF9MUAkJCUJJVCgxMikKLSNkZWZpbmUgR0VOX1NSXzBQX1RYX0xQCQkJ
QklUKDExKQotI2RlZmluZSBHRU5fU1dfMlBfVFhfTFAJCQlCSVQoMTApCi0jZGVmaW5lIEdFTl9T
V18xUF9UWF9MUAkJCUJJVCg5KQotI2RlZmluZSBHRU5fU1dfMFBfVFhfTFAJCQlCSVQoOCkKLSNk
ZWZpbmUgQUNLX1JRU1RfRU4JCQlCSVQoMSkKLSNkZWZpbmUgVEVBUl9GWF9FTgkJCUJJVCgwKQot
Ci0jZGVmaW5lIENNRF9NT0RFX0FMTF9MUAkJCShNQVhfUkRfUEtUX1NJWkVfTFAgfCBcCi0JCQkJ
CSBEQ1NfTFdfVFhfTFAgfCBcCi0JCQkJCSBEQ1NfU1JfMFBfVFhfTFAgfCBcCi0JCQkJCSBEQ1Nf
U1dfMVBfVFhfTFAgfCBcCi0JCQkJCSBEQ1NfU1dfMFBfVFhfTFAgfCBcCi0JCQkJCSBHRU5fTFdf
VFhfTFAgfCBcCi0JCQkJCSBHRU5fU1JfMlBfVFhfTFAgfCBcCi0JCQkJCSBHRU5fU1JfMVBfVFhf
TFAgfCBcCi0JCQkJCSBHRU5fU1JfMFBfVFhfTFAgfCBcCi0JCQkJCSBHRU5fU1dfMlBfVFhfTFAg
fCBcCi0JCQkJCSBHRU5fU1dfMVBfVFhfTFAgfCBcCi0JCQkJCSBHRU5fU1dfMFBfVFhfTFApCi0K
LSNkZWZpbmUgRFNJX0dFTl9IRFIJCQkweDZjCi0jZGVmaW5lIERTSV9HRU5fUExEX0RBVEEJCTB4
NzAKLQotI2RlZmluZSBEU0lfQ01EX1BLVF9TVEFUVVMJCTB4NzQKKwogI2RlZmluZSBHRU5fUkRf
Q01EX0JVU1kJCQlCSVQoNikKICNkZWZpbmUgR0VOX1BMRF9SX0ZVTEwJCQlCSVQoNSkKICNkZWZp
bmUgR0VOX1BMRF9SX0VNUFRZCQkJQklUKDQpCkBAIC0xNTMsNzIgKzg1LDE1IEBACiAjZGVmaW5l
IEdFTl9DTURfRlVMTAkJCUJJVCgxKQogI2RlZmluZSBHRU5fQ01EX0VNUFRZCQkJQklUKDApCiAK
LSNkZWZpbmUgRFNJX1RPX0NOVF9DRkcJCQkweDc4Ci0jZGVmaW5lIEhTVFhfVE9fQ05UKHApCQkJ
KCgocCkgJiAweGZmZmYpIDw8IDE2KQotI2RlZmluZSBMUFJYX1RPX0NOVChwKQkJCSgocCkgJiAw
eGZmZmYpCi0KICNkZWZpbmUgRFNJX0hTX1JEX1RPX0NOVAkJMHg3YwogI2RlZmluZSBEU0lfTFBf
UkRfVE9fQ05UCQkweDgwCiAjZGVmaW5lIERTSV9IU19XUl9UT19DTlQJCTB4ODQKICNkZWZpbmUg
RFNJX0xQX1dSX1RPX0NOVAkJMHg4OAotI2RlZmluZSBEU0lfQlRBX1RPX0NOVAkJCTB4OGMKIAot
I2RlZmluZSBEU0lfTFBDTEtfQ1RSTAkJCTB4OTQKICNkZWZpbmUgQVVUT19DTEtMQU5FX0NUUkwJ
CUJJVCgxKQotI2RlZmluZSBQSFlfVFhSRVFVRVNUQ0xLSFMJCUJJVCgwKQotCi0jZGVmaW5lIERT
SV9QSFlfVE1SX0xQQ0xLX0NGRwkJMHg5OAotI2RlZmluZSBQSFlfQ0xLSFMyTFBfVElNRShsYmNj
KQkJKCgobGJjYykgJiAweDNmZikgPDwgMTYpCi0jZGVmaW5lIFBIWV9DTEtMUDJIU19USU1FKGxi
Y2MpCQkoKGxiY2MpICYgMHgzZmYpCi0KLSNkZWZpbmUgRFNJX1BIWV9UTVJfQ0ZHCQkJMHg5Ywot
I2RlZmluZSBQSFlfSFMyTFBfVElNRShsYmNjKQkJKCgobGJjYykgJiAweGZmKSA8PCAyNCkKLSNk
ZWZpbmUgUEhZX0xQMkhTX1RJTUUobGJjYykJCSgoKGxiY2MpICYgMHhmZikgPDwgMTYpCi0jZGVm
aW5lIE1BWF9SRF9USU1FKGxiY2MpCQkoKGxiY2MpICYgMHg3ZmZmKQotI2RlZmluZSBQSFlfSFMy
TFBfVElNRV9WMTMxKGxiY2MpCSgoKGxiY2MpICYgMHgzZmYpIDw8IDE2KQotI2RlZmluZSBQSFlf
TFAySFNfVElNRV9WMTMxKGxiY2MpCSgobGJjYykgJiAweDNmZikKLQotI2RlZmluZSBEU0lfUEhZ
X1JTVFoJCQkweGEwCi0jZGVmaW5lIFBIWV9ESVNGT1JDRVBMTAkJCTAKLSNkZWZpbmUgUEhZX0VO
Rk9SQ0VQTEwJCQlCSVQoMykKLSNkZWZpbmUgUEhZX0RJU0FCTEVDTEsJCQkwCi0jZGVmaW5lIFBI
WV9FTkFCTEVDTEsJCQlCSVQoMikKLSNkZWZpbmUgUEhZX1JTVFoJCQkwCi0jZGVmaW5lIFBIWV9V
TlJTVFoJCQlCSVQoMSkKLSNkZWZpbmUgUEhZX1NIVVRET1dOWgkJCTAKLSNkZWZpbmUgUEhZX1VO
U0hVVERPV05aCQkJQklUKDApCi0KLSNkZWZpbmUgRFNJX1BIWV9JRl9DRkcJCQkweGE0Ci0jZGVm
aW5lIFBIWV9TVE9QX1dBSVRfVElNRShjeWNsZSkJKCgoY3ljbGUpICYgMHhmZikgPDwgOCkKLSNk
ZWZpbmUgTl9MQU5FUyhuKQkJCSgoKG4pIC0gMSkgJiAweDMpCi0KLSNkZWZpbmUgRFNJX1BIWV9V
TFBTX0NUUkwJCTB4YTgKLSNkZWZpbmUgRFNJX1BIWV9UWF9UUklHR0VSUwkJMHhhYwotCi0jZGVm
aW5lIERTSV9QSFlfU1RBVFVTCQkJMHhiMAogI2RlZmluZSBQSFlfU1RPUF9TVEFURV9DTEtfTEFO
RQkJQklUKDIpCiAjZGVmaW5lIFBIWV9MT0NLCQkJQklUKDApCiAKLSNkZWZpbmUgRFNJX1BIWV9U
U1RfQ1RSTDAJCTB4YjQKLSNkZWZpbmUgUEhZX1RFU1RDTEsJCQlCSVQoMSkKLSNkZWZpbmUgUEhZ
X1VOVEVTVENMSwkJCTAKLSNkZWZpbmUgUEhZX1RFU1RDTFIJCQlCSVQoMCkKLSNkZWZpbmUgUEhZ
X1VOVEVTVENMUgkJCTAKLQotI2RlZmluZSBEU0lfUEhZX1RTVF9DVFJMMQkJMHhiOAotI2RlZmlu
ZSBQSFlfVEVTVEVOCQkJQklUKDE2KQotI2RlZmluZSBQSFlfVU5URVNURU4JCQkwCi0jZGVmaW5l
IFBIWV9URVNURE9VVChuKQkJCSgoKG4pICYgMHhmZikgPDwgOCkKLSNkZWZpbmUgUEhZX1RFU1RE
SU4obikJCQkoKG4pICYgMHhmZikKLQotI2RlZmluZSBEU0lfSU5UX1NUMAkJCTB4YmMKLSNkZWZp
bmUgRFNJX0lOVF9TVDEJCQkweGMwCi0jZGVmaW5lIERTSV9JTlRfTVNLMAkJCTB4YzQKLSNkZWZp
bmUgRFNJX0lOVF9NU0sxCQkJMHhjOAotCi0jZGVmaW5lIERTSV9QSFlfVE1SX1JEX0NGRwkJMHhm
NAotI2RlZmluZSBNQVhfUkRfVElNRV9WMTMxKGxiY2MpCQkoKGxiY2MpICYgMHg3ZmZmKQotCiAj
ZGVmaW5lIFBIWV9TVEFUVVNfVElNRU9VVF9VUwkJMTAwMDAKICNkZWZpbmUgQ01EX1BLVF9TVEFU
VVNfVElNRU9VVF9VUwkyMDAwMAogCkBAIC0yMzYsNiArMTExLDcgQEAgc3RydWN0IGR3X21pcGlf
ZHNpIHsKIAl1MzIgbGFuZXM7CiAJdTMyIGZvcm1hdDsKIAl1bnNpZ25lZCBsb25nIG1vZGVfZmxh
Z3M7CisJdTMyIGh3X3ZlcnNpb247CiAKICNpZmRlZiBDT05GSUdfREVCVUdfRlMKIAlzdHJ1Y3Qg
ZGVudHJ5ICpkZWJ1Z2ZzOwpAQCAtMjQ4LDYgKzEyNCw1MyBAQCBzdHJ1Y3QgZHdfbWlwaV9kc2kg
ewogCXN0cnVjdCBkd19taXBpX2RzaSAqc2xhdmU7IC8qIGR1YWwtZHNpIHNsYXZlIHB0ciAqLwog
CiAJY29uc3Qgc3RydWN0IGR3X21pcGlfZHNpX3BsYXRfZGF0YSAqcGxhdF9kYXRhOworCisJc3Ry
dWN0IHJlZ21hcF9maWVsZAkqZmllbGRfZHBpXzE4bG9vc2VseV9lbjsKKwlzdHJ1Y3QgcmVnbWFw
X2ZpZWxkCSpmaWVsZF9kcGlfY29sb3JfY29kaW5nOworCXN0cnVjdCByZWdtYXBfZmllbGQJKmZp
ZWxkX2RwaV92aWQ7CisJc3RydWN0IHJlZ21hcF9maWVsZAkqZmllbGRfZHBpX3ZzeW5jX2FjdGl2
ZV9sb3c7CisJc3RydWN0IHJlZ21hcF9maWVsZAkqZmllbGRfZHBpX2hzeW5jX2FjdGl2ZV9sb3c7
CisJc3RydWN0IHJlZ21hcF9maWVsZAkqZmllbGRfY21kX21vZGVfYWNrX3Jxc3RfZW47CisJc3Ry
dWN0IHJlZ21hcF9maWVsZAkqZmllbGRfY21kX21vZGVfYWxsX2xwX2VuOworCXN0cnVjdCByZWdt
YXBfZmllbGQJKmZpZWxkX2NtZF9tb2RlX2VuOworCXN0cnVjdCByZWdtYXBfZmllbGQJKmZpZWxk
X2NtZF9wa3Rfc3RhdHVzOworCXN0cnVjdCByZWdtYXBfZmllbGQJKmZpZWxkX3ZpZF9tb2RlX2Vu
OworCXN0cnVjdCByZWdtYXBfZmllbGQJKmZpZWxkX3ZpZF9tb2RlX3R5cGU7CisJc3RydWN0IHJl
Z21hcF9maWVsZAkqZmllbGRfdmlkX21vZGVfbG93X3Bvd2VyOworCXN0cnVjdCByZWdtYXBfZmll
bGQJKmZpZWxkX3ZpZF9tb2RlX3ZwZ19lbjsKKwlzdHJ1Y3QgcmVnbWFwX2ZpZWxkCSpmaWVsZF92
aWRfbW9kZV92cGdfaG9yaXo7CisJc3RydWN0IHJlZ21hcF9maWVsZAkqZmllbGRfdmlkX3BrdF9z
aXplOworCXN0cnVjdCByZWdtYXBfZmllbGQJKmZpZWxkX3ZpZF9oc2FfdGltZTsKKwlzdHJ1Y3Qg
cmVnbWFwX2ZpZWxkCSpmaWVsZF92aWRfaGJwX3RpbWU7CisJc3RydWN0IHJlZ21hcF9maWVsZAkq
ZmllbGRfdmlkX2hsaW5lX3RpbWU7CisJc3RydWN0IHJlZ21hcF9maWVsZAkqZmllbGRfdmlkX3Zz
YV90aW1lOworCXN0cnVjdCByZWdtYXBfZmllbGQJKmZpZWxkX3ZpZF92YnBfdGltZTsKKwlzdHJ1
Y3QgcmVnbWFwX2ZpZWxkCSpmaWVsZF92aWRfdmZwX3RpbWU7CisJc3RydWN0IHJlZ21hcF9maWVs
ZAkqZmllbGRfdmlkX3ZhY3RpdmVfdGltZTsKKwlzdHJ1Y3QgcmVnbWFwX2ZpZWxkCSpmaWVsZF9w
aHlfdHhyZXF1ZXN0Y2xraHM7CisJc3RydWN0IHJlZ21hcF9maWVsZAkqZmllbGRfcGh5X2J0YV90
aW1lOworCXN0cnVjdCByZWdtYXBfZmllbGQJKmZpZWxkX3BoeV9tYXhfcmRfdGltZTsKKwlzdHJ1
Y3QgcmVnbWFwX2ZpZWxkCSpmaWVsZF9waHlfbHAyaHNfdGltZTsKKwlzdHJ1Y3QgcmVnbWFwX2Zp
ZWxkCSpmaWVsZF9waHlfaHMybHBfdGltZTsKKwlzdHJ1Y3QgcmVnbWFwX2ZpZWxkCSpmaWVsZF9w
aHlfY2xrbHAyaHNfdGltZTsKKwlzdHJ1Y3QgcmVnbWFwX2ZpZWxkCSpmaWVsZF9waHlfY2xraHMy
bHBfdGltZTsKKwlzdHJ1Y3QgcmVnbWFwX2ZpZWxkCSpmaWVsZF9waHlfdGVzdGNscjsKKwlzdHJ1
Y3QgcmVnbWFwX2ZpZWxkCSpmaWVsZF9waHlfdW5zaHV0ZG93bno7CisJc3RydWN0IHJlZ21hcF9m
aWVsZAkqZmllbGRfcGh5X3VucnN0ejsKKwlzdHJ1Y3QgcmVnbWFwX2ZpZWxkCSpmaWVsZF9waHlf
ZW5hYmxlY2xrOworCXN0cnVjdCByZWdtYXBfZmllbGQJKmZpZWxkX3BoeV9mb3JjZXBsbDsKKwlz
dHJ1Y3QgcmVnbWFwX2ZpZWxkCSpmaWVsZF9waHlfbmxhbmVzOworCXN0cnVjdCByZWdtYXBfZmll
bGQJKmZpZWxkX3BoeV9zdG9wX3dhaXRfdGltZTsKKwlzdHJ1Y3QgcmVnbWFwX2ZpZWxkCSpmaWVs
ZF9waHlfc3RhdHVzOworCXN0cnVjdCByZWdtYXBfZmllbGQJKmZpZWxkX3Bja2hkbF9jZmc7CisJ
c3RydWN0IHJlZ21hcF9maWVsZAkqZmllbGRfaHN0eF90aW1lb3V0X2NvdW50ZXI7CisJc3RydWN0
IHJlZ21hcF9maWVsZAkqZmllbGRfbHByeF90aW1lb3V0X2NvdW50ZXI7CisJc3RydWN0IHJlZ21h
cF9maWVsZAkqZmllbGRfaW50X3N0YXQwOworCXN0cnVjdCByZWdtYXBfZmllbGQJKmZpZWxkX2lu
dF9zdGF0MTsKKwlzdHJ1Y3QgcmVnbWFwX2ZpZWxkCSpmaWVsZF9pbnRfbWFzazA7CisJc3RydWN0
IHJlZ21hcF9maWVsZAkqZmllbGRfaW50X21hc2sxOworCXN0cnVjdCByZWdtYXBfZmllbGQJKmZp
ZWxkX2dlbl9oZHI7CisJc3RydWN0IHJlZ21hcF9maWVsZAkqZmllbGRfZ2VuX3BheWxvYWQ7CiB9
OwogCiAvKgpAQCAtMzQ5LDE2ICsyNzIsMTcgQEAgc3RhdGljIGludCBkd19taXBpX2RzaV9ob3N0
X2RldGFjaChzdHJ1Y3QgbWlwaV9kc2lfaG9zdCAqaG9zdCwKIHN0YXRpYyB2b2lkIGR3X21pcGlf
bWVzc2FnZV9jb25maWcoc3RydWN0IGR3X21pcGlfZHNpICpkc2ksCiAJCQkJICAgY29uc3Qgc3Ry
dWN0IG1pcGlfZHNpX21zZyAqbXNnKQogeworCWNvbnN0IHN0cnVjdCBkd19taXBpX2RzaV92YXJp
YW50ICp2YXJpYW50ID0gZHNpLT5wbGF0X2RhdGEtPnZhcmlhbnQ7CiAJYm9vbCBscG0gPSBtc2ct
PmZsYWdzICYgTUlQSV9EU0lfTVNHX1VTRV9MUE07Ci0JdTMyIHZhbCA9IDA7CiAKIAlpZiAobXNn
LT5mbGFncyAmIE1JUElfRFNJX01TR19SRVFfQUNLKQotCQl2YWwgfD0gQUNLX1JRU1RfRU47CisJ
CXJlZ21hcF9maWVsZF93cml0ZShkc2ktPmZpZWxkX2NtZF9tb2RlX2Fja19ycXN0X2VuLCAxKTsK
KwogCWlmIChscG0pCi0JCXZhbCB8PSBDTURfTU9ERV9BTExfTFA7CisJCXJlZ21hcF9maWVsZF93
cml0ZShkc2ktPmZpZWxkX2NtZF9tb2RlX2FsbF9scF9lbiwKKwkJCQkgICB2YXJpYW50LT52YWxf
Y21kX21vZGVfYWxsX2xwKTsKIAotCXJlZ21hcF93cml0ZShkc2ktPnJlZ3MsIERTSV9MUENMS19D
VFJMLCBscG0gPyAwIDogUEhZX1RYUkVRVUVTVENMS0hTKTsKLQlyZWdtYXBfd3JpdGUoZHNpLT5y
ZWdzLCBEU0lfQ01EX01PREVfQ0ZHLCB2YWwpOworCXJlZ21hcF9maWVsZF93cml0ZShkc2ktPmZp
ZWxkX3BoeV90eHJlcXVlc3RjbGtocywgbHBtID8gMCA6IDEpOwogfQogCiBzdGF0aWMgaW50IGR3
X21pcGlfZHNpX2dlbl9wa3RfaGRyX3dyaXRlKHN0cnVjdCBkd19taXBpX2RzaSAqZHNpLCB1MzIg
aGRyX3ZhbCkKQEAgLTM2NiwxOCArMjkwLDE4IEBAIHN0YXRpYyBpbnQgZHdfbWlwaV9kc2lfZ2Vu
X3BrdF9oZHJfd3JpdGUoc3RydWN0IGR3X21pcGlfZHNpICpkc2ksIHUzMiBoZHJfdmFsKQogCWlu
dCByZXQ7CiAJdTMyIHZhbCA9IDAsIG1hc2s7CiAKLQlyZXQgPSByZWdtYXBfcmVhZF9wb2xsX3Rp
bWVvdXQoZHNpLT5yZWdzLCBEU0lfQ01EX1BLVF9TVEFUVVMsCi0JCQkJICAgICAgIHZhbCwgISh2
YWwgJiBHRU5fQ01EX0ZVTEwpLCAxMDAwLAotCQkJCSAgICAgICBDTURfUEtUX1NUQVRVU19USU1F
T1VUX1VTKTsKKwlyZXQgPSByZWdtYXBfZmllbGRfcmVhZF9wb2xsX3RpbWVvdXQoZHNpLT5maWVs
ZF9jbWRfcGt0X3N0YXR1cywKKwkJCQkJICAgICB2YWwsICEodmFsICYgR0VOX0NNRF9GVUxMKSwK
KwkJCQkJICAgICAxMDAwLCBDTURfUEtUX1NUQVRVU19USU1FT1VUX1VTKTsKIAlpZiAocmV0KSB7
CiAJCWRldl9lcnIoZHNpLT5kZXYsICJmYWlsZWQgdG8gZ2V0IGF2YWlsYWJsZSBjb21tYW5kIEZJ
Rk9cbiIpOwogCQlyZXR1cm4gcmV0OwogCX0KIAotCXJlZ21hcF93cml0ZShkc2ktPnJlZ3MsIERT
SV9HRU5fSERSLCBoZHJfdmFsKTsKKwlyZWdtYXBfZmllbGRfd3JpdGUoZHNpLT5maWVsZF9nZW5f
aGRyLCBoZHJfdmFsKTsKIAogCW1hc2sgPSBHRU5fQ01EX0VNUFRZIHwgR0VOX1BMRF9XX0VNUFRZ
OwotCXJldCA9IHJlZ21hcF9yZWFkX3BvbGxfdGltZW91dChkc2ktPnJlZ3MsIERTSV9DTURfUEtU
X1NUQVRVUywKKwlyZXQgPSByZWdtYXBfZmllbGRfcmVhZF9wb2xsX3RpbWVvdXQoZHNpLT5maWVs
ZF9jbWRfcGt0X3N0YXR1cywKIAkJCQkgICAgICAgdmFsLCAodmFsICYgbWFzaykgPT0gbWFzaywK
IAkJCQkgICAgICAgMTAwMCwgQ01EX1BLVF9TVEFUVVNfVElNRU9VVF9VUyk7CiAJaWYgKHJldCkg
ewpAQCAtNDAwLDIwICszMjQsMjIgQEAgc3RhdGljIGludCBkd19taXBpX2RzaV93cml0ZShzdHJ1
Y3QgZHdfbWlwaV9kc2kgKmRzaSwKIAkJaWYgKGxlbiA8IHBsZF9kYXRhX2J5dGVzKSB7CiAJCQl3
b3JkID0gMDsKIAkJCW1lbWNweSgmd29yZCwgdHhfYnVmLCBsZW4pOwotCQkJcmVnbWFwX3dyaXRl
KGRzaS0+cmVncywgRFNJX0dFTl9QTERfREFUQSwKLQkJCQkgICAgIGxlMzJfdG9fY3B1KHdvcmQp
KTsKKwkJCXJlZ21hcF9maWVsZF93cml0ZShkc2ktPmZpZWxkX2dlbl9wYXlsb2FkLAorCQkJCQkg
ICBsZTMyX3RvX2NwdSh3b3JkKSk7CiAJCQlsZW4gPSAwOwogCQl9IGVsc2UgewogCQkJbWVtY3B5
KCZ3b3JkLCB0eF9idWYsIHBsZF9kYXRhX2J5dGVzKTsKLQkJCXJlZ21hcF93cml0ZShkc2ktPnJl
Z3MsIERTSV9HRU5fUExEX0RBVEEsCi0JCQkJICAgICBsZTMyX3RvX2NwdSh3b3JkKSk7CisJCQly
ZWdtYXBfZmllbGRfd3JpdGUoZHNpLT5maWVsZF9nZW5fcGF5bG9hZCwKKwkJCQkJICAgbGUzMl90
b19jcHUod29yZCkpOwogCQkJdHhfYnVmICs9IHBsZF9kYXRhX2J5dGVzOwogCQkJbGVuIC09IHBs
ZF9kYXRhX2J5dGVzOwogCQl9CiAKLQkJcmV0ID0gcmVnbWFwX3JlYWRfcG9sbF90aW1lb3V0KGRz
aS0+cmVncywgRFNJX0NNRF9QS1RfU1RBVFVTLAotCQkJCQkgICAgICAgdmFsLCAhKHZhbCAmIEdF
Tl9QTERfV19GVUxMKSwKLQkJCQkJICAgICAgIDEwMDAsIENNRF9QS1RfU1RBVFVTX1RJTUVPVVRf
VVMpOworCQlyZXQgPSByZWdtYXBfZmllbGRfcmVhZF9wb2xsX3RpbWVvdXQoZHNpLT5maWVsZF9j
bWRfcGt0X3N0YXR1cywKKwkJCQkJCSAgICAgdmFsLAorCQkJCQkJICAgICAhKHZhbCAmIEdFTl9Q
TERfV19GVUxMKSwKKwkJCQkJCSAgICAgMTAwMCwKKwkJCQkJCSAgICAgQ01EX1BLVF9TVEFUVVNf
VElNRU9VVF9VUyk7CiAJCWlmIChyZXQpIHsKIAkJCWRldl9lcnIoZHNpLT5kZXYsCiAJCQkJImZh
aWxlZCB0byBnZXQgYXZhaWxhYmxlIHdyaXRlIHBheWxvYWQgRklGT1xuIik7CkBAIC00MzQsOSAr
MzYwLDkgQEAgc3RhdGljIGludCBkd19taXBpX2RzaV9yZWFkKHN0cnVjdCBkd19taXBpX2RzaSAq
ZHNpLAogCXUzMiB2YWwgPSAwOwogCiAJLyogV2FpdCBlbmQgb2YgdGhlIHJlYWQgb3BlcmF0aW9u
ICovCi0JcmV0ID0gcmVnbWFwX3JlYWRfcG9sbF90aW1lb3V0KGRzaS0+cmVncywgRFNJX0NNRF9Q
S1RfU1RBVFVTLAotCQkJCSAgICAgICB2YWwsICEodmFsICYgR0VOX1JEX0NNRF9CVVNZKSwKLQkJ
CQkgICAgICAgMTAwMCwgQ01EX1BLVF9TVEFUVVNfVElNRU9VVF9VUyk7CisJcmV0ID0gcmVnbWFw
X2ZpZWxkX3JlYWRfcG9sbF90aW1lb3V0KGRzaS0+ZmllbGRfY21kX3BrdF9zdGF0dXMsCisJCQkJ
CSAgICAgdmFsLCAhKHZhbCAmIEdFTl9SRF9DTURfQlVTWSksCisJCQkJCSAgICAgMTAwMCwgQ01E
X1BLVF9TVEFUVVNfVElNRU9VVF9VUyk7CiAJaWYgKHJldCkgewogCQlkZXZfZXJyKGRzaS0+ZGV2
LCAiVGltZW91dCBkdXJpbmcgcmVhZCBvcGVyYXRpb25cbiIpOwogCQlyZXR1cm4gcmV0OwpAQCAt
NDQ0LDE1ICszNzAsMTcgQEAgc3RhdGljIGludCBkd19taXBpX2RzaV9yZWFkKHN0cnVjdCBkd19t
aXBpX2RzaSAqZHNpLAogCiAJZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7CiAJCS8qIFJl
YWQgZmlmbyBtdXN0IG5vdCBiZSBlbXB0eSBiZWZvcmUgYWxsIGJ5dGVzIGFyZSByZWFkICovCi0J
CXJldCA9IHJlZ21hcF9yZWFkX3BvbGxfdGltZW91dChkc2ktPnJlZ3MsIERTSV9DTURfUEtUX1NU
QVRVUywKLQkJCQkJICAgICAgIHZhbCwgISh2YWwgJiBHRU5fUExEX1JfRU1QVFkpLAotCQkJCQkg
ICAgICAgMTAwMCwgQ01EX1BLVF9TVEFUVVNfVElNRU9VVF9VUyk7CisJCXJldCA9IHJlZ21hcF9m
aWVsZF9yZWFkX3BvbGxfdGltZW91dChkc2ktPmZpZWxkX2NtZF9wa3Rfc3RhdHVzLAorCQkJCQkJ
ICAgICB2YWwsCisJCQkJCQkgICAgICEodmFsICYgR0VOX1BMRF9SX0VNUFRZKSwKKwkJCQkJCSAg
ICAgMTAwMCwKKwkJCQkJCSAgICAgQ01EX1BLVF9TVEFUVVNfVElNRU9VVF9VUyk7CiAJCWlmIChy
ZXQpIHsKIAkJCWRldl9lcnIoZHNpLT5kZXYsICJSZWFkIHBheWxvYWQgRklGTyBpcyBlbXB0eVxu
Iik7CiAJCQlyZXR1cm4gcmV0OwogCQl9CiAKLQkJcmVnbWFwX3JlYWQoZHNpLT5yZWdzLCBEU0lf
R0VOX1BMRF9EQVRBLCAmdmFsKTsKKwkJcmVnbWFwX2ZpZWxkX3JlYWQoZHNpLT5maWVsZF9nZW5f
cGF5bG9hZCwgJnZhbCk7CiAJCWZvciAoaiA9IDA7IGogPCA0ICYmIGogKyBpIDwgbGVuOyBqKysp
CiAJCQlidWZbaSArIGpdID0gdmFsID4+ICg4ICogaik7CiAJfQpAQCAtNTA2LDMwICs0MzQsMzAg
QEAgc3RhdGljIGNvbnN0IHN0cnVjdCBtaXBpX2RzaV9ob3N0X29wcyBkd19taXBpX2RzaV9ob3N0
X29wcyA9IHsKIAogc3RhdGljIHZvaWQgZHdfbWlwaV9kc2lfdmlkZW9fbW9kZV9jb25maWcoc3Ry
dWN0IGR3X21pcGlfZHNpICpkc2kpCiB7Ci0JdTMyIHZhbDsKLQogCS8qCiAJICogVE9ETyBkdyBk
cnYgaW1wcm92ZW1lbnRzCiAJICogZW5hYmxpbmcgbG93IHBvd2VyIGlzIHBhbmVsLWRlcGVuZGVu
dCwgd2Ugc2hvdWxkIHVzZSB0aGUKIAkgKiBwYW5lbCBjb25maWd1cmF0aW9uIGhlcmUuLi4KIAkg
Ki8KLQl2YWwgPSBFTkFCTEVfTE9XX1BPV0VSOworCXJlZ21hcF9maWVsZF93cml0ZShkc2ktPmZp
ZWxkX3ZpZF9tb2RlX2xvd19wb3dlciwgRU5BQkxFX0xPV19QT1dFUik7CiAKIAlpZiAoZHNpLT5t
b2RlX2ZsYWdzICYgTUlQSV9EU0lfTU9ERV9WSURFT19CVVJTVCkKLQkJdmFsIHw9IFZJRF9NT0RF
X1RZUEVfQlVSU1Q7CisJCXJlZ21hcF9maWVsZF93cml0ZShkc2ktPmZpZWxkX3ZpZF9tb2RlX3R5
cGUsCisJCQkJICAgVklEX01PREVfVFlQRV9CVVJTVCk7CiAJZWxzZSBpZiAoZHNpLT5tb2RlX2Zs
YWdzICYgTUlQSV9EU0lfTU9ERV9WSURFT19TWU5DX1BVTFNFKQotCQl2YWwgfD0gVklEX01PREVf
VFlQRV9OT05fQlVSU1RfU1lOQ19QVUxTRVM7CisJCXJlZ21hcF9maWVsZF93cml0ZShkc2ktPmZp
ZWxkX3ZpZF9tb2RlX3R5cGUsCisJCQkJICAgVklEX01PREVfVFlQRV9OT05fQlVSU1RfU1lOQ19Q
VUxTRVMpOwogCWVsc2UKLQkJdmFsIHw9IFZJRF9NT0RFX1RZUEVfTk9OX0JVUlNUX1NZTkNfRVZF
TlRTOworCQlyZWdtYXBfZmllbGRfd3JpdGUoZHNpLT5maWVsZF92aWRfbW9kZV90eXBlLAorCQkJ
CSAgIFZJRF9NT0RFX1RZUEVfTk9OX0JVUlNUX1NZTkNfRVZFTlRTKTsKIAogI2lmZGVmIENPTkZJ
R19ERUJVR19GUwogCWlmIChkc2ktPnZwZykgewotCQl2YWwgfD0gVklEX01PREVfVlBHX0VOQUJM
RTsKLQkJdmFsIHw9IGRzaS0+dnBnX2hvcml6b250YWwgPyBWSURfTU9ERV9WUEdfSE9SSVpPTlRB
TCA6IDA7CisJCXJlZ21hcF9maWVsZF93cml0ZShkc2ktPnJlZ3MsIGRzaS0+ZmllbGRfdmlkX21v
ZGVfdnBnX2VuLCAxKTsKKwkJcmVnbWFwX2ZpZWxkX3dyaXRlKGRzaS0+cmVncywgZHNpLT5maWVs
ZF92aWRfbW9kZV92cGdfaG9yaXosCisJCQkJICAgZHNpLT52cGdfaG9yaXpvbnRhbCA/IDEgOiAw
KTsKIAl9CiAjZW5kaWYgLyogQ09ORklHX0RFQlVHX0ZTICovCi0KLQlyZWdtYXBfd3JpdGUoZHNp
LT5yZWdzLCBEU0lfVklEX01PREVfQ0ZHLCB2YWwpOwogfQogCiBzdGF0aWMgdm9pZCBkd19taXBp
X2RzaV9zZXRfbW9kZShzdHJ1Y3QgZHdfbWlwaV9kc2kgKmRzaSwKQEAgLTUzOCwxMSArNDY2LDEz
IEBAIHN0YXRpYyB2b2lkIGR3X21pcGlfZHNpX3NldF9tb2RlKHN0cnVjdCBkd19taXBpX2RzaSAq
ZHNpLAogCXJlZ21hcF93cml0ZShkc2ktPnJlZ3MsIERTSV9QV1JfVVAsIFJFU0VUKTsKIAogCWlm
IChtb2RlX2ZsYWdzICYgTUlQSV9EU0lfTU9ERV9WSURFTykgewotCQlyZWdtYXBfd3JpdGUoZHNp
LT5yZWdzLCBEU0lfTU9ERV9DRkcsIEVOQUJMRV9WSURFT19NT0RFKTsKKwkJcmVnbWFwX2ZpZWxk
X3dyaXRlKGRzaS0+ZmllbGRfY21kX21vZGVfZW4sIDApOworCiAJCWR3X21pcGlfZHNpX3ZpZGVv
X21vZGVfY29uZmlnKGRzaSk7Ci0JCXJlZ21hcF93cml0ZShkc2ktPnJlZ3MsIERTSV9MUENMS19D
VFJMLCBQSFlfVFhSRVFVRVNUQ0xLSFMpOworCisJCXJlZ21hcF9maWVsZF93cml0ZShkc2ktPmZp
ZWxkX3BoeV90eHJlcXVlc3RjbGtocywgMSk7CiAJfSBlbHNlIHsKLQkJcmVnbWFwX3dyaXRlKGRz
aS0+cmVncywgRFNJX01PREVfQ0ZHLCBFTkFCTEVfQ01EX01PREUpOworCQlyZWdtYXBfZmllbGRf
d3JpdGUoZHNpLT5maWVsZF9jbWRfbW9kZV9lbiwgMSk7CiAJfQogCiAJcmVnbWFwX3dyaXRlKGRz
aS0+cmVncywgRFNJX1BXUl9VUCwgUE9XRVJVUCk7CkBAIC01NTEsNyArNDgxLDcgQEAgc3RhdGlj
IHZvaWQgZHdfbWlwaV9kc2lfc2V0X21vZGUoc3RydWN0IGR3X21pcGlfZHNpICpkc2ksCiBzdGF0
aWMgdm9pZCBkd19taXBpX2RzaV9kaXNhYmxlKHN0cnVjdCBkd19taXBpX2RzaSAqZHNpKQogewog
CXJlZ21hcF93cml0ZShkc2ktPnJlZ3MsIERTSV9QV1JfVVAsIFJFU0VUKTsKLQlyZWdtYXBfd3Jp
dGUoZHNpLT5yZWdzLCBEU0lfUEhZX1JTVFosIFBIWV9SU1RaKTsKKwlyZWdtYXBfZmllbGRfd3Jp
dGUoZHNpLT5maWVsZF9waHlfdW5yc3R6LCAwKTsKIH0KIAogc3RhdGljIHZvaWQgZHdfbWlwaV9k
c2lfaW5pdChzdHJ1Y3QgZHdfbWlwaV9kc2kgKmRzaSkKQEAgLTU4MCwxNCArNTEwLDE1IEBAIHN0
YXRpYyB2b2lkIGR3X21pcGlfZHNpX2luaXQoc3RydWN0IGR3X21pcGlfZHNpICpkc2kpCiBzdGF0
aWMgdm9pZCBkd19taXBpX2RzaV9kcGlfY29uZmlnKHN0cnVjdCBkd19taXBpX2RzaSAqZHNpLAog
CQkJCSAgIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlKQogewotCXUzMiB2YWwg
PSAwLCBjb2xvciA9IDA7CisJdTMyIGNvbG9yID0gMDsKIAogCXN3aXRjaCAoZHNpLT5mb3JtYXQp
IHsKIAljYXNlIE1JUElfRFNJX0ZNVF9SR0I4ODg6CiAJCWNvbG9yID0gRFBJX0NPTE9SX0NPRElO
R18yNEJJVDsKIAkJYnJlYWs7CiAJY2FzZSBNSVBJX0RTSV9GTVRfUkdCNjY2OgotCQljb2xvciA9
IERQSV9DT0xPUl9DT0RJTkdfMThCSVRfMiB8IExPT1NFTFkxOF9FTjsKKwkJY29sb3IgPSBEUElf
Q09MT1JfQ09ESU5HXzE4QklUXzI7CisJCXJlZ21hcF9maWVsZF93cml0ZShkc2ktPmZpZWxkX2Rw
aV8xOGxvb3NlbHlfZW4sIDEpOwogCQlicmVhazsKIAljYXNlIE1JUElfRFNJX0ZNVF9SR0I2NjZf
UEFDS0VEOgogCQljb2xvciA9IERQSV9DT0xPUl9DT0RJTkdfMThCSVRfMTsKQEAgLTU5NywxNCAr
NTI4LDE1IEBAIHN0YXRpYyB2b2lkIGR3X21pcGlfZHNpX2RwaV9jb25maWcoc3RydWN0IGR3X21p
cGlfZHNpICpkc2ksCiAJCWJyZWFrOwogCX0KIAotCWlmIChtb2RlLT5mbGFncyAmIERSTV9NT0RF
X0ZMQUdfTlZTWU5DKQotCQl2YWwgfD0gVlNZTkNfQUNUSVZFX0xPVzsKLQlpZiAobW9kZS0+Zmxh
Z3MgJiBEUk1fTU9ERV9GTEFHX05IU1lOQykKLQkJdmFsIHw9IEhTWU5DX0FDVElWRV9MT1c7CisJ
cmVnbWFwX2ZpZWxkX3dyaXRlKGRzaS0+ZmllbGRfZHBpX2NvbG9yX2NvZGluZywgY29sb3IpOwor
CisJaWYgKCEobW9kZS0+ZmxhZ3MgJiBEUk1fTU9ERV9GTEFHX05WU1lOQykpCisJCXJlZ21hcF9m
aWVsZF93cml0ZShkc2ktPmZpZWxkX2RwaV92c3luY19hY3RpdmVfbG93LCAxKTsKKwlpZiAoISht
b2RlLT5mbGFncyAmIERSTV9NT0RFX0ZMQUdfTkhTWU5DKSkKKwkJcmVnbWFwX2ZpZWxkX3dyaXRl
KGRzaS0+ZmllbGRfZHBpX2hzeW5jX2FjdGl2ZV9sb3csIDEpOworCisJcmVnbWFwX2ZpZWxkX3dy
aXRlKGRzaS0+ZmllbGRfZHBpX3ZpZCwgRFBJX1ZDSUQoZHNpLT5jaGFubmVsKSk7CiAKLQlyZWdt
YXBfd3JpdGUoZHNpLT5yZWdzLCBEU0lfRFBJX1ZDSUQsIERQSV9WQ0lEKGRzaS0+Y2hhbm5lbCkp
OwotCXJlZ21hcF93cml0ZShkc2ktPnJlZ3MsIERTSV9EUElfQ09MT1JfQ09ESU5HLCBjb2xvcik7
Ci0JcmVnbWFwX3dyaXRlKGRzaS0+cmVncywgRFNJX0RQSV9DRkdfUE9MLCB2YWwpOwogCS8qCiAJ
ICogVE9ETyBkdyBkcnYgaW1wcm92ZW1lbnRzCiAJICogbGFyZ2VzdCBwYWNrZXQgc2l6ZXMgZHVy
aW5nIGhmcCBvciBkdXJpbmcgdnNhL3ZwYi92ZnAKQEAgLTYxNyw3ICs1NDksOCBAQCBzdGF0aWMg
dm9pZCBkd19taXBpX2RzaV9kcGlfY29uZmlnKHN0cnVjdCBkd19taXBpX2RzaSAqZHNpLAogCiBz
dGF0aWMgdm9pZCBkd19taXBpX2RzaV9wYWNrZXRfaGFuZGxlcl9jb25maWcoc3RydWN0IGR3X21p
cGlfZHNpICpkc2kpCiB7Ci0JcmVnbWFwX3dyaXRlKGRzaS0+cmVncywgRFNJX1BDS0hETF9DRkcs
IENSQ19SWF9FTiB8IEVDQ19SWF9FTiB8IEJUQV9FTik7CisJcmVnbWFwX2ZpZWxkX3dyaXRlKGRz
aS0+ZmllbGRfcGNraGRsX2NmZywKKwkJCSAgIENSQ19SWF9FTiB8IEVDQ19SWF9FTiB8IEJUQV9F
Tik7CiB9CiAKIHN0YXRpYyB2b2lkIGR3X21pcGlfZHNpX3ZpZGVvX3BhY2tldF9jb25maWcoc3Ry
dWN0IGR3X21pcGlfZHNpICpkc2ksCkBAIC02MzAsMTEgKzU2Myw5IEBAIHN0YXRpYyB2b2lkIGR3
X21pcGlfZHNpX3ZpZGVvX3BhY2tldF9jb25maWcoc3RydWN0IGR3X21pcGlfZHNpICpkc2ksCiAJ
ICogRFNJX1ZOUENSLk5QU0laRS4uLiBlc3BlY2lhbGx5IGJlY2F1c2UgdGhpcyBkcml2ZXIgc3Vw
cG9ydHMKIAkgKiBub24tYnVyc3QgdmlkZW8gbW9kZXMsIHNlZSBkd19taXBpX2RzaV92aWRlb19t
b2RlX2NvbmZpZygpLi4uCiAJICovCi0KLQlyZWdtYXBfd3JpdGUoZHNpLT5yZWdzLCBEU0lfVklE
X1BLVF9TSVpFLAotCQkgICAgICAgZHdfbWlwaV9pc19kdWFsX21vZGUoZHNpKSA/Ci0JCQkJVklE
X1BLVF9TSVpFKG1vZGUtPmhkaXNwbGF5IC8gMikgOgotCQkJCVZJRF9QS1RfU0laRShtb2RlLT5o
ZGlzcGxheSkpOworCXJlZ21hcF9maWVsZF93cml0ZShkc2ktPmZpZWxkX3ZpZF9wa3Rfc2l6ZSwK
KwkJCSAgIGR3X21pcGlfaXNfZHVhbF9tb2RlKGRzaSkgPworCQkJCW1vZGUtPmhkaXNwbGF5IC8g
MiA6IG1vZGUtPmhkaXNwbGF5KTsKIH0KIAogc3RhdGljIHZvaWQgZHdfbWlwaV9kc2lfY29tbWFu
ZF9tb2RlX2NvbmZpZyhzdHJ1Y3QgZHdfbWlwaV9kc2kgKmRzaSkKQEAgLTY0NCwxNSArNTc1LDE3
IEBAIHN0YXRpYyB2b2lkIGR3X21pcGlfZHNpX2NvbW1hbmRfbW9kZV9jb25maWcoc3RydWN0IGR3
X21pcGlfZHNpICpkc2kpCiAJICogY29tcHV0ZSBoaWdoIHNwZWVkIHRyYW5zbWlzc2lvbiBjb3Vu
dGVyIHRpbWVvdXQgYWNjb3JkaW5nCiAJICogdG8gdGhlIHRpbWVvdXQgY2xvY2sgZGl2aXNpb24g
KFRPX0NMS19ESVZJU0lPTikgYW5kIGJ5dGUgbGFuZS4uLgogCSAqLwotCXJlZ21hcF93cml0ZShk
c2ktPnJlZ3MsIERTSV9UT19DTlRfQ0ZHLAotCQkgICAgIEhTVFhfVE9fQ05UKDEwMDApIHwgTFBS
WF9UT19DTlQoMTAwMCkpOworCXJlZ21hcF9maWVsZF93cml0ZShkc2ktPmZpZWxkX2hzdHhfdGlt
ZW91dF9jb3VudGVyLCAxMDAwKTsKKwlyZWdtYXBfZmllbGRfd3JpdGUoZHNpLT5maWVsZF9scHJ4
X3RpbWVvdXRfY291bnRlciwgMTAwMCk7CisKIAkvKgogCSAqIFRPRE8gZHcgZHJ2IGltcHJvdmVt
ZW50cwogCSAqIHRoZSBCdXMtVHVybi1Bcm91bmQgVGltZW91dCBDb3VudGVyIHNob3VsZCBiZSBj
b21wdXRlZAogCSAqIGFjY29yZGluZyB0byBieXRlIGxhbmUuLi4KIAkgKi8KLQlyZWdtYXBfd3Jp
dGUoZHNpLT5yZWdzLCBEU0lfQlRBX1RPX0NOVCwgMHhkMDApOwotCXJlZ21hcF93cml0ZShkc2kt
PnJlZ3MsIERTSV9NT0RFX0NGRywgRU5BQkxFX0NNRF9NT0RFKTsKKwlyZWdtYXBfZmllbGRfd3Jp
dGUoZHNpLT5maWVsZF9waHlfYnRhX3RpbWUsIDB4ZDAwKTsKKworCXJlZ21hcF9maWVsZF93cml0
ZShkc2ktPmZpZWxkX2NtZF9tb2RlX2VuLCAxKTsKIH0KIAogLyogR2V0IGxhbmUgYnl0ZSBjbG9j
ayBjeWNsZXMuICovCkBAIC02ODYsMTMgKzYxOSwxMyBAQCBzdGF0aWMgdm9pZCBkd19taXBpX2Rz
aV9saW5lX3RpbWVyX2NvbmZpZyhzdHJ1Y3QgZHdfbWlwaV9kc2kgKmRzaSwKIAkgKiBjb21wdXRh
dGlvbnMgYmVsb3cgbWF5IGJlIGltcHJvdmVkLi4uCiAJICovCiAJbGJjYyA9IGR3X21pcGlfZHNp
X2dldF9oY29tcG9uZW50X2xiY2MoZHNpLCBtb2RlLCBodG90YWwpOwotCXJlZ21hcF93cml0ZShk
c2ktPnJlZ3MsIERTSV9WSURfSExJTkVfVElNRSwgbGJjYyk7CisJcmVnbWFwX2ZpZWxkX3dyaXRl
KGRzaS0+ZmllbGRfdmlkX2hsaW5lX3RpbWUsIGxiY2MpOwogCiAJbGJjYyA9IGR3X21pcGlfZHNp
X2dldF9oY29tcG9uZW50X2xiY2MoZHNpLCBtb2RlLCBoc2EpOwotCXJlZ21hcF93cml0ZShkc2kt
PnJlZ3MsIERTSV9WSURfSFNBX1RJTUUsIGxiY2MpOworCXJlZ21hcF9maWVsZF93cml0ZShkc2kt
PmZpZWxkX3ZpZF9oc2FfdGltZSwgbGJjYyk7CiAKIAlsYmNjID0gZHdfbWlwaV9kc2lfZ2V0X2hj
b21wb25lbnRfbGJjYyhkc2ksIG1vZGUsIGhicCk7Ci0JcmVnbWFwX3dyaXRlKGRzaS0+cmVncywg
RFNJX1ZJRF9IQlBfVElNRSwgbGJjYyk7CisJcmVnbWFwX2ZpZWxkX3dyaXRlKGRzaS0+ZmllbGRf
dmlkX2hicF90aW1lLCBsYmNjKTsKIH0KIAogc3RhdGljIHZvaWQgZHdfbWlwaV9kc2lfdmVydGlj
YWxfdGltaW5nX2NvbmZpZyhzdHJ1Y3QgZHdfbWlwaV9kc2kgKmRzaSwKQEAgLTcwNSwxNiArNjM4
LDE0IEBAIHN0YXRpYyB2b2lkIGR3X21pcGlfZHNpX3ZlcnRpY2FsX3RpbWluZ19jb25maWcoc3Ry
dWN0IGR3X21pcGlfZHNpICpkc2ksCiAJdmZwID0gbW9kZS0+dnN5bmNfc3RhcnQgLSBtb2RlLT52
ZGlzcGxheTsKIAl2YnAgPSBtb2RlLT52dG90YWwgLSBtb2RlLT52c3luY19lbmQ7CiAKLQlyZWdt
YXBfd3JpdGUoZHNpLT5yZWdzLCBEU0lfVklEX1ZBQ1RJVkVfTElORVMsIHZhY3RpdmUpOwotCXJl
Z21hcF93cml0ZShkc2ktPnJlZ3MsIERTSV9WSURfVlNBX0xJTkVTLCB2c2EpOwotCXJlZ21hcF93
cml0ZShkc2ktPnJlZ3MsIERTSV9WSURfVkZQX0xJTkVTLCB2ZnApOwotCXJlZ21hcF93cml0ZShk
c2ktPnJlZ3MsIERTSV9WSURfVkJQX0xJTkVTLCB2YnApOworCXJlZ21hcF9maWVsZF93cml0ZShk
c2ktPmZpZWxkX3ZpZF92YWN0aXZlX3RpbWUsIHZhY3RpdmUpOworCXJlZ21hcF9maWVsZF93cml0
ZShkc2ktPmZpZWxkX3ZpZF92c2FfdGltZSwgdnNhKTsKKwlyZWdtYXBfZmllbGRfd3JpdGUoZHNp
LT5maWVsZF92aWRfdmZwX3RpbWUsIHZmcCk7CisJcmVnbWFwX2ZpZWxkX3dyaXRlKGRzaS0+Zmll
bGRfdmlkX3ZicF90aW1lLCB2YnApOwogfQogCiBzdGF0aWMgdm9pZCBkd19taXBpX2RzaV9kcGh5
X3RpbWluZ19jb25maWcoc3RydWN0IGR3X21pcGlfZHNpICpkc2kpCiB7Ci0JdTMyIGh3X3ZlcnNp
b247Ci0KIAkvKgogCSAqIFRPRE8gZHcgZHJ2IGltcHJvdmVtZW50cwogCSAqIGRhdGEgJiBjbG9j
ayBsYW5lIHRpbWVycyBzaG91bGQgYmUgY29tcHV0ZWQgYWNjb3JkaW5nIHRvIHBhbmVsCkBAIC03
MjIsMjUgKzY1MywxMiBAQCBzdGF0aWMgdm9pZCBkd19taXBpX2RzaV9kcGh5X3RpbWluZ19jb25m
aWcoc3RydWN0IGR3X21pcGlfZHNpICpkc2kpCiAJICogbm90ZTogRFNJX1BIWV9UTVJfQ0ZHLk1B
WF9SRF9USU1FIHNob3VsZCBiZSBpbiBsaW5lIHdpdGgKIAkgKiBEU0lfQ01EX01PREVfQ0ZHLk1B
WF9SRF9QS1RfU0laRV9MUCAoc2VlIENNRF9NT0RFX0FMTF9MUCkKIAkgKi8KKwlyZWdtYXBfZmll
bGRfd3JpdGUoZHNpLT5maWVsZF9waHlfbHAyaHNfdGltZSwgMHg0MCk7CisJcmVnbWFwX2ZpZWxk
X3dyaXRlKGRzaS0+ZmllbGRfcGh5X2hzMmxwX3RpbWUsIDB4NDApOwogCi0JcmVnbWFwX3JlYWQo
ZHNpLT5yZWdzLCBEU0lfVkVSU0lPTiwgJmh3X3ZlcnNpb24pOwotCWh3X3ZlcnNpb24gJj0gVkVS
U0lPTjsKLQotCWlmIChod192ZXJzaW9uID49IEhXVkVSXzEzMSkgewotCQlyZWdtYXBfd3JpdGUo
ZHNpLT5yZWdzLCBEU0lfUEhZX1RNUl9DRkcsCi0JCQkgICAgIFBIWV9IUzJMUF9USU1FX1YxMzEo
MHg0MCkgfAotCQkJICAgICBQSFlfTFAySFNfVElNRV9WMTMxKDB4NDApKTsKLQkJcmVnbWFwX3dy
aXRlKGRzaS0+cmVncywgRFNJX1BIWV9UTVJfUkRfQ0ZHLAotCQkJICAgICBNQVhfUkRfVElNRV9W
MTMxKDEwMDAwKSk7Ci0JfSBlbHNlIHsKLQkJcmVnbWFwX3dyaXRlKGRzaS0+cmVncywgRFNJX1BI
WV9UTVJfQ0ZHLAotCQkJICAgICBQSFlfSFMyTFBfVElNRSgweDQwKSB8Ci0JCQkgICAgIFBIWV9M
UDJIU19USU1FKDB4NDApIHwKLQkJCSAgICAgTUFYX1JEX1RJTUUoMTAwMDApKTsKLQl9Ci0KLQly
ZWdtYXBfd3JpdGUoZHNpLT5yZWdzLCBEU0lfUEhZX1RNUl9MUENMS19DRkcsCi0JCSAgICAgUEhZ
X0NMS0hTMkxQX1RJTUUoMHg0MCkgfCBQSFlfQ0xLTFAySFNfVElNRSgweDQwKSk7CisJcmVnbWFw
X2ZpZWxkX3dyaXRlKGRzaS0+ZmllbGRfcGh5X21heF9yZF90aW1lLCAxMDAwMCk7CisJcmVnbWFw
X2ZpZWxkX3dyaXRlKGRzaS0+ZmllbGRfcGh5X2Nsa2xwMmhzX3RpbWUsIDB4NDApOworCXJlZ21h
cF9maWVsZF93cml0ZShkc2ktPmZpZWxkX3BoeV9jbGtoczJscF90aW1lLCAweDQwKTsKIH0KIAog
c3RhdGljIHZvaWQgZHdfbWlwaV9kc2lfZHBoeV9pbnRlcmZhY2VfY29uZmlnKHN0cnVjdCBkd19t
aXBpX2RzaSAqZHNpKQpAQCAtNzUwLDE4ICs2NjgsMjIgQEAgc3RhdGljIHZvaWQgZHdfbWlwaV9k
c2lfZHBoeV9pbnRlcmZhY2VfY29uZmlnKHN0cnVjdCBkd19taXBpX2RzaSAqZHNpKQogCSAqIHN0
b3Agd2FpdCB0aW1lIHNob3VsZCBiZSB0aGUgbWF4aW11bSBiZXR3ZWVuIGhvc3QgZHNpCiAJICog
YW5kIHBhbmVsIHN0b3Agd2FpdCB0aW1lcwogCSAqLwotCXJlZ21hcF93cml0ZShkc2ktPnJlZ3Ms
IERTSV9QSFlfSUZfQ0ZHLAotCQkgICAgIFBIWV9TVE9QX1dBSVRfVElNRSgweDIwKSB8IE5fTEFO
RVMoZHNpLT5sYW5lcykpOworCXJlZ21hcF9maWVsZF93cml0ZShkc2ktPmZpZWxkX3BoeV9zdG9w
X3dhaXRfdGltZSwgMHgyMCk7CisJcmVnbWFwX2ZpZWxkX3dyaXRlKGRzaS0+ZmllbGRfcGh5X25s
YW5lcywgZHNpLT5sYW5lcyAtIDEpOwogfQogCiBzdGF0aWMgdm9pZCBkd19taXBpX2RzaV9kcGh5
X2luaXQoc3RydWN0IGR3X21pcGlfZHNpICpkc2kpCiB7CiAJLyogQ2xlYXIgUEhZIHN0YXRlICov
Ci0JcmVnbWFwX3dyaXRlKGRzaS0+cmVncywgRFNJX1BIWV9SU1RaLCBQSFlfRElTRk9SQ0VQTEwg
fCBQSFlfRElTQUJMRUNMSwotCQkgICAgIHwgUEhZX1JTVFogfCBQSFlfU0hVVERPV05aKTsKLQly
ZWdtYXBfd3JpdGUoZHNpLT5yZWdzLCBEU0lfUEhZX1RTVF9DVFJMMCwgUEhZX1VOVEVTVENMUik7
Ci0JcmVnbWFwX3dyaXRlKGRzaS0+cmVncywgRFNJX1BIWV9UU1RfQ1RSTDAsIFBIWV9URVNUQ0xS
KTsKLQlyZWdtYXBfd3JpdGUoZHNpLT5yZWdzLCBEU0lfUEhZX1RTVF9DVFJMMCwgUEhZX1VOVEVT
VENMUik7CisJcmVnbWFwX2ZpZWxkX3dyaXRlKGRzaS0+ZmllbGRfcGh5X2VuYWJsZWNsaywgMCk7
CisJcmVnbWFwX2ZpZWxkX3dyaXRlKGRzaS0+ZmllbGRfcGh5X3VucnN0eiwgMCk7CisJcmVnbWFw
X2ZpZWxkX3dyaXRlKGRzaS0+ZmllbGRfcGh5X3Vuc2h1dGRvd256LCAwKTsKKworCXJlZ21hcF9m
aWVsZF93cml0ZShkc2ktPmZpZWxkX3BoeV9mb3JjZXBsbCwgMCk7CisKKwlyZWdtYXBfZmllbGRf
d3JpdGUoZHNpLT5maWVsZF9waHlfdGVzdGNsciwgMCk7CisJcmVnbWFwX2ZpZWxkX3dyaXRlKGRz
aS0+ZmllbGRfcGh5X3Rlc3RjbHIsIDEpOworCXJlZ21hcF9maWVsZF93cml0ZShkc2ktPmZpZWxk
X3BoeV90ZXN0Y2xyLCAwKTsKIH0KIAogc3RhdGljIHZvaWQgZHdfbWlwaV9kc2lfZHBoeV9lbmFi
bGUoc3RydWN0IGR3X21pcGlfZHNpICpkc2kpCkBAIC03NjksMTggKzY5MSwyMSBAQCBzdGF0aWMg
dm9pZCBkd19taXBpX2RzaV9kcGh5X2VuYWJsZShzdHJ1Y3QgZHdfbWlwaV9kc2kgKmRzaSkKIAl1
MzIgdmFsID0gMDsKIAlpbnQgcmV0OwogCi0JcmVnbWFwX3dyaXRlKGRzaS0+cmVncywgRFNJX1BI
WV9SU1RaLCBQSFlfRU5GT1JDRVBMTCB8IFBIWV9FTkFCTEVDTEsgfAotCQkgICAgIFBIWV9VTlJT
VFogfCBQSFlfVU5TSFVURE9XTlopOworCXJlZ21hcF9maWVsZF93cml0ZShkc2ktPmZpZWxkX3Bo
eV9lbmFibGVjbGssIDEpOworCXJlZ21hcF9maWVsZF93cml0ZShkc2ktPmZpZWxkX3BoeV91bnJz
dHosIDEpOworCXJlZ21hcF9maWVsZF93cml0ZShkc2ktPmZpZWxkX3BoeV91bnNodXRkb3dueiwg
MSk7CisKKwlyZWdtYXBfZmllbGRfd3JpdGUoZHNpLT5maWVsZF9waHlfZm9yY2VwbGwsIDEpOwog
Ci0JcmV0ID0gcmVnbWFwX3JlYWRfcG9sbF90aW1lb3V0KGRzaS0+cmVncywgRFNJX1BIWV9TVEFU
VVMsCi0JCQkJICAgICAgIHZhbCwgdmFsICYgUEhZX0xPQ0ssCi0JCQkJICAgICAgIDEwMDAsIFBI
WV9TVEFUVVNfVElNRU9VVF9VUyk7CisJcmV0ID0gcmVnbWFwX2ZpZWxkX3JlYWRfcG9sbF90aW1l
b3V0KGRzaS0+ZmllbGRfcGh5X3N0YXR1cywKKwkJCQkJICAgICB2YWwsIHZhbCAmIFBIWV9MT0NL
LAorCQkJCQkgICAgIDEwMDAsIFBIWV9TVEFUVVNfVElNRU9VVF9VUyk7CiAJaWYgKHJldCkKIAkJ
RFJNX0RFQlVHX0RSSVZFUigiZmFpbGVkIHRvIHdhaXQgcGh5IGxvY2sgc3RhdGVcbiIpOwogCi0J
cmV0ID0gcmVnbWFwX3JlYWRfcG9sbF90aW1lb3V0KGRzaS0+cmVncywgRFNJX1BIWV9TVEFUVVMs
Ci0JCQkJICAgICAgIHZhbCwgdmFsICYgUEhZX1NUT1BfU1RBVEVfQ0xLX0xBTkUsIDEwMDAsCi0J
CQkJICAgICAgIFBIWV9TVEFUVVNfVElNRU9VVF9VUyk7CisJcmV0ID0gcmVnbWFwX2ZpZWxkX3Jl
YWRfcG9sbF90aW1lb3V0KGRzaS0+ZmllbGRfcGh5X3N0YXR1cywKKwkJCQkJICAgICB2YWwsIHZh
bCAmIFBIWV9TVE9QX1NUQVRFX0NMS19MQU5FLAorCQkJCQkgICAgIDEwMDAsIFBIWV9TVEFUVVNf
VElNRU9VVF9VUyk7CiAJaWYgKHJldCkKIAkJRFJNX0RFQlVHX0RSSVZFUigiZmFpbGVkIHRvIHdh
aXQgcGh5IGNsayBsYW5lIHN0b3Agc3RhdGVcbiIpOwogfQpAQCAtNzg5LDEwICs3MTQsMTAgQEAg
c3RhdGljIHZvaWQgZHdfbWlwaV9kc2lfY2xlYXJfZXJyKHN0cnVjdCBkd19taXBpX2RzaSAqZHNp
KQogewogCXUzMiB2YWw7CiAKLQlyZWdtYXBfcmVhZChkc2ktPnJlZ3MsIERTSV9JTlRfU1QwLCAm
dmFsKTsKLQlyZWdtYXBfcmVhZChkc2ktPnJlZ3MsIERTSV9JTlRfU1QxLCAmdmFsKTsKLQlyZWdt
YXBfd3JpdGUoZHNpLT5yZWdzLCBEU0lfSU5UX01TSzAsIDApOwotCXJlZ21hcF93cml0ZShkc2kt
PnJlZ3MsIERTSV9JTlRfTVNLMSwgMCk7CisJcmVnbWFwX2ZpZWxkX3JlYWQoZHNpLT5maWVsZF9p
bnRfc3RhdDAsICZ2YWwpOworCXJlZ21hcF9maWVsZF9yZWFkKGRzaS0+ZmllbGRfaW50X3N0YXQx
LCAmdmFsKTsKKwlyZWdtYXBfZmllbGRfd3JpdGUoZHNpLT5maWVsZF9pbnRfbWFzazAsIDApOwor
CXJlZ21hcF9maWVsZF93cml0ZShkc2ktPmZpZWxkX2ludF9tYXNrMSwgMCk7CiB9CiAKIHN0YXRp
YyB2b2lkIGR3X21pcGlfZHNpX2JyaWRnZV9wb3N0X2Rpc2FibGUoc3RydWN0IGRybV9icmlkZ2Ug
KmJyaWRnZSkKQEAgLTk3Nyw2ICs5MDIsODMgQEAgc3RhdGljIHZvaWQgZHdfbWlwaV9kc2lfZGVi
dWdmc19yZW1vdmUoc3RydWN0IGR3X21pcGlfZHNpICpkc2kpIHsgfQogCiAjZW5kaWYgLyogQ09O
RklHX0RFQlVHX0ZTICovCiAKK3N0YXRpYyB2b2lkIGR3X21pcGlfZHNpX2dldF9od192ZXJzaW9u
KHN0cnVjdCBkd19taXBpX2RzaSAqZHNpKQoreworCXJlZ21hcF9yZWFkKGRzaS0+cmVncywgRFNJ
X1ZFUlNJT04sICZkc2ktPmh3X3ZlcnNpb24pOworCWRzaS0+aHdfdmVyc2lvbiAmPSBWRVJTSU9O
OworCWlmICghZHNpLT5od192ZXJzaW9uKQorCQlkZXZfZXJyKGRzaS0+ZGV2LCAiRmFpbGVkIHRv
IHJlYWQgRFNJIGh3IHZlcnNpb24gcmVnaXN0ZXJcbiIpOworfQorCisjZGVmaW5lIElOSVRfRklF
TEQoZikgSU5JVF9GSUVMRF9DRkcoZmllbGRfIyNmLCBjZmdfIyNmKQorI2RlZmluZSBJTklUX0ZJ
RUxEX0NGRyhmLCBjb25mKQkJCQkJCVwKKwlkbyB7CQkJCQkJCQlcCisJCWRzaS0+ZiA9IGRldm1f
cmVnbWFwX2ZpZWxkX2FsbG9jKGRzaS0+ZGV2LCBkc2ktPnJlZ3MsCVwKKwkJCQkJCSB2YXJpYW50
LT5jb25mKTsJXAorCQlpZiAoSVNfRVJSKGRzaS0+ZikpCQkJCQlcCisJCQlkZXZfd2Fybihkc2kt
PmRldiwgIklnbm9yaW5nIHJlZ21hcCBmaWVsZCAiICNmICJcbiIpOyBcCisJfSB3aGlsZSAoMCkK
KworCitzdGF0aWMgdm9pZCBkd19taXBpX2RzaV9yZWdtYXBfZmllbGRzX2luaXQoc3RydWN0IGR3
X21pcGlfZHNpICpkc2kpCit7CisJY29uc3Qgc3RydWN0IGR3X21pcGlfZHNpX3ZhcmlhbnQgKnZh
cmlhbnQgPSBkc2ktPnBsYXRfZGF0YS0+dmFyaWFudDsKKworCUlOSVRfRklFTEQoZHBpXzE4bG9v
c2VseV9lbik7CisJSU5JVF9GSUVMRChkcGlfdmlkKTsKKwlJTklUX0ZJRUxEKGRwaV9jb2xvcl9j
b2RpbmcpOworCUlOSVRfRklFTEQoZHBpX3ZzeW5jX2FjdGl2ZV9sb3cpOworCUlOSVRfRklFTEQo
ZHBpX2hzeW5jX2FjdGl2ZV9sb3cpOworCUlOSVRfRklFTEQoY21kX21vZGVfYWNrX3Jxc3RfZW4p
OworCUlOSVRfRklFTEQoY21kX21vZGVfYWxsX2xwX2VuKTsKKwlJTklUX0ZJRUxEKGNtZF9tb2Rl
X2VuKTsKKwlJTklUX0ZJRUxEKGNtZF9wa3Rfc3RhdHVzKTsKKwlJTklUX0ZJRUxEKHZpZF9tb2Rl
X2VuKTsKKwlJTklUX0ZJRUxEKHZpZF9tb2RlX3R5cGUpOworCUlOSVRfRklFTEQodmlkX21vZGVf
bG93X3Bvd2VyKTsKKwlJTklUX0ZJRUxEKHZpZF9wa3Rfc2l6ZSk7CisJSU5JVF9GSUVMRCh2aWRf
aHNhX3RpbWUpOworCUlOSVRfRklFTEQodmlkX2hicF90aW1lKTsKKwlJTklUX0ZJRUxEKHZpZF9o
bGluZV90aW1lKTsKKwlJTklUX0ZJRUxEKHZpZF92c2FfdGltZSk7CisJSU5JVF9GSUVMRCh2aWRf
dmJwX3RpbWUpOworCUlOSVRfRklFTEQodmlkX3ZmcF90aW1lKTsKKwlJTklUX0ZJRUxEKHZpZF92
YWN0aXZlX3RpbWUpOworCUlOSVRfRklFTEQocGh5X3R4cmVxdWVzdGNsa2hzKTsKKwlJTklUX0ZJ
RUxEKHBoeV90ZXN0Y2xyKTsKKwlJTklUX0ZJRUxEKHBoeV91bnNodXRkb3dueik7CisJSU5JVF9G
SUVMRChwaHlfdW5yc3R6KTsKKwlJTklUX0ZJRUxEKHBoeV9lbmFibGVjbGspOworCUlOSVRfRklF
TEQocGh5X25sYW5lcyk7CisJSU5JVF9GSUVMRChwaHlfc3RvcF93YWl0X3RpbWUpOworCUlOSVRf
RklFTEQocGh5X3N0YXR1cyk7CisJSU5JVF9GSUVMRChwY2toZGxfY2ZnKTsKKwlJTklUX0ZJRUxE
KGhzdHhfdGltZW91dF9jb3VudGVyKTsKKwlJTklUX0ZJRUxEKGxwcnhfdGltZW91dF9jb3VudGVy
KTsKKwlJTklUX0ZJRUxEKGludF9zdGF0MCk7CisJSU5JVF9GSUVMRChpbnRfc3RhdDEpOworCUlO
SVRfRklFTEQoaW50X21hc2swKTsKKwlJTklUX0ZJRUxEKGludF9tYXNrMSk7CisJSU5JVF9GSUVM
RChnZW5faGRyKTsKKwlJTklUX0ZJRUxEKGdlbl9wYXlsb2FkKTsKKwlJTklUX0ZJRUxEKHBoeV9i
dGFfdGltZSk7CisJSU5JVF9GSUVMRCh2aWRfbW9kZV92cGdfZW4pOworCUlOSVRfRklFTEQodmlk
X21vZGVfdnBnX2hvcml6KTsKKwlJTklUX0ZJRUxEKHBoeV9jbGtscDJoc190aW1lKTsKKwlJTklU
X0ZJRUxEKHBoeV9jbGtoczJscF90aW1lKTsKKwlJTklUX0ZJRUxEKHBoeV9mb3JjZXBsbCk7CisK
KwlpZiAoZHNpLT5od192ZXJzaW9uID09IEhXVkVSXzEzMSkgeworCQlJTklUX0ZJRUxEX0NGRyhm
aWVsZF9waHlfbWF4X3JkX3RpbWUsIGNmZ19waHlfbWF4X3JkX3RpbWVfdjEzMSk7CisJCUlOSVRf
RklFTERfQ0ZHKGZpZWxkX3BoeV9scDJoc190aW1lLCBjZmdfcGh5X2xwMmhzX3RpbWVfdjEzMSk7
CisJCUlOSVRfRklFTERfQ0ZHKGZpZWxkX3BoeV9oczJscF90aW1lLCBjZmdfcGh5X2hzMmxwX3Rp
bWVfdjEzMSk7CisJfSBlbHNlIHsKKwkJSU5JVF9GSUVMRChwaHlfbWF4X3JkX3RpbWUpOworCQlJ
TklUX0ZJRUxEKHBoeV9scDJoc190aW1lKTsKKwkJSU5JVF9GSUVMRChwaHlfaHMybHBfdGltZSk7
CisJfQorfQorCiBzdGF0aWMgc3RydWN0IGR3X21pcGlfZHNpICoKIF9fZHdfbWlwaV9kc2lfcHJv
YmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldiwKIAkJICAgIGNvbnN0IHN0cnVjdCBkd19t
aXBpX2RzaV9wbGF0X2RhdGEgKnBsYXRfZGF0YSkKQEAgLTk5OSw4ICsxMDAxLDggQEAgX19kd19t
aXBpX2RzaV9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2LAogCX0KIAogCWRzaS0+
cmVncyA9IHBsYXRfZGF0YS0+cmVnczsKLQlpZiAoIWRzaS0+cmVncykgewotCQlEUk1fRVJST1Io
IkRTSSByZWdtYXAgbm90IHN1cHBsaWVkIGJ5IHBsYXRmb3JtIGRyaXZlclxuIik7CisJaWYgKCFk
c2ktPnJlZ3MgfHwgIXBsYXRfZGF0YS0+dmFyaWFudCkgeworCQlEUk1fRVJST1IoIkRTSSByZWdt
YXAgbm90IGNvbmZpZ3VyZWQgYnkgcGxhdGZvcm0gZHJpdmVyXG4iKTsKIAkJcmV0dXJuIEVSUl9Q
VFIoLUVOT0RFVik7CiAJfQogCkBAIC0xMDM5LDYgKzEwNDEsOCBAQCBfX2R3X21pcGlfZHNpX3By
b2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYsCiAJCWNsa19kaXNhYmxlX3VucHJlcGFy
ZShkc2ktPnBjbGspOwogCX0KIAorCWR3X21pcGlfZHNpX2dldF9od192ZXJzaW9uKGRzaSk7CisJ
ZHdfbWlwaV9kc2lfcmVnbWFwX2ZpZWxkc19pbml0KGRzaSk7CiAJZHdfbWlwaV9kc2lfZGVidWdm
c19pbml0KGRzaSk7CiAJcG1fcnVudGltZV9lbmFibGUoZGV2KTsKIApkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL3JvY2tjaGlwL2R3LW1pcGktZHNpLXJvY2tjaGlwLmMgYi9kcml2ZXJzL2dw
dS9kcm0vcm9ja2NoaXAvZHctbWlwaS1kc2ktcm9ja2NoaXAuYwppbmRleCAzYzMzZWQxZmE4MDUu
LjgwNmRiOWM2YzRiYyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JvY2tjaGlwL2R3LW1p
cGktZHNpLXJvY2tjaGlwLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3JvY2tjaGlwL2R3LW1pcGkt
ZHNpLXJvY2tjaGlwLmMKQEAgLTE2Niw2ICsxNjYsNzAgQEAKICNkZWZpbmUgUkszMzk5X1RYUlhf
RU5BQkxFQ0xLCQlCSVQoNikKICNkZWZpbmUgUkszMzk5X1RYUlhfQkFTRURJUgkJQklUKDUpCiAK
KyNkZWZpbmUgRFNJX0RQSV9WQ0lECQkJMHgwYworI2RlZmluZSBEU0lfRFBJX0NPTE9SX0NPRElO
RwkJMHgxMAorI2RlZmluZSBEU0lfRFBJX0NGR19QT0wJCQkweDE0CisjZGVmaW5lIERTSV9QQ0tI
RExfQ0ZHCQkJMHgyYworI2RlZmluZSBEU0lfQ01EX01PREVfQ0ZHCQkweDY4CisjZGVmaW5lIERT
SV9WSURfTU9ERV9DRkcJCTB4MzgKKyNkZWZpbmUgRFNJX01PREVfQ0ZHCQkJMHgzNAorI2RlZmlu
ZSBEU0lfVklEX1BLVF9TSVpFCQkweDNjCisjZGVmaW5lIERTSV9MUENMS19DVFJMCQkJMHg5NAor
I2RlZmluZSBEU0lfVE9fQ05UX0NGRwkJCTB4NzgKKyNkZWZpbmUgRFNJX1BIWV9JRl9DRkcJCQkw
eGE0CisjZGVmaW5lIERTSV9QSFlfVE1SX0NGRwkJCTB4OWMKKyNkZWZpbmUgRFNJX1BIWV9UTVJf
UkRfQ0ZHCQkweGY0CisjZGVmaW5lIERTSV9QSFlfVE1SX0xQQ0xLX0NGRwkJMHg5OAorI2RlZmlu
ZSBEU0lfUEhZX1JTVFoJCQkweGEwCisjZGVmaW5lIERTSV9QSFlfU1RBVFVTCQkJMHhiMAorI2Rl
ZmluZSBEU0lfUEhZX1RTVF9DVFJMMAkJMHhiNAorI2RlZmluZSBEU0lfR0VOX0hEUgkJCTB4NmMK
KyNkZWZpbmUgRFNJX0dFTl9QTERfREFUQQkJMHg3MAorI2RlZmluZSBEU0lfQ01EX1BLVF9TVEFU
VVMJCTB4NzQKKyNkZWZpbmUgRFNJX0JUQV9UT19DTlQJCQkweDhjCisjZGVmaW5lIERTSV9WSURf
TlVNX0NIVU5LUwkJMHg0MAorI2RlZmluZSBEU0lfVklEX05VTExfU0laRQkJMHg0NAorI2RlZmlu
ZSBEU0lfVklEX0hTQV9USU1FCQkweDQ4CisjZGVmaW5lIERTSV9WSURfSEJQX1RJTUUJCTB4NGMK
KyNkZWZpbmUgRFNJX1ZJRF9ITElORV9USU1FCQkweDUwCisjZGVmaW5lIERTSV9WSURfVlNBX0xJ
TkVTCQkweDU0CisjZGVmaW5lIERTSV9WSURfVkJQX0xJTkVTCQkweDU4CisjZGVmaW5lIERTSV9W
SURfVkZQX0xJTkVTCQkweDVjCisjZGVmaW5lIERTSV9WSURfVkFDVElWRV9MSU5FUwkJMHg2MAor
I2RlZmluZSBEU0lfRURQSV9DTURfU0laRQkJMHg2NAorCisjZGVmaW5lIE1BWF9SRF9QS1RfU0la
RV9MUAkJQklUKDI0KQorI2RlZmluZSBEQ1NfTFdfVFhfTFAJCQlCSVQoMTkpCisjZGVmaW5lIERD
U19TUl8wUF9UWF9MUAkJCUJJVCgxOCkKKyNkZWZpbmUgRENTX1NXXzFQX1RYX0xQCQkJQklUKDE3
KQorI2RlZmluZSBEQ1NfU1dfMFBfVFhfTFAJCQlCSVQoMTYpCisjZGVmaW5lIEdFTl9MV19UWF9M
UAkJCUJJVCgxNCkKKyNkZWZpbmUgR0VOX1NSXzJQX1RYX0xQCQkJQklUKDEzKQorI2RlZmluZSBH
RU5fU1JfMVBfVFhfTFAJCQlCSVQoMTIpCisjZGVmaW5lIEdFTl9TUl8wUF9UWF9MUAkJCUJJVCgx
MSkKKyNkZWZpbmUgR0VOX1NXXzJQX1RYX0xQCQkJQklUKDEwKQorI2RlZmluZSBHRU5fU1dfMVBf
VFhfTFAJCQlCSVQoOSkKKyNkZWZpbmUgR0VOX1NXXzBQX1RYX0xQCQkJQklUKDgpCisjZGVmaW5l
IFRFQVJfRlhfRU4JCQlCSVQoMCkKKworI2RlZmluZSBDTURfTU9ERV9BTExfTFAJCQkoTUFYX1JE
X1BLVF9TSVpFX0xQIHwgXAorCQkJCQkgRENTX0xXX1RYX0xQIHwgXAorCQkJCQkgRENTX1NSXzBQ
X1RYX0xQIHwgXAorCQkJCQkgRENTX1NXXzFQX1RYX0xQIHwgXAorCQkJCQkgRENTX1NXXzBQX1RY
X0xQIHwgXAorCQkJCQkgR0VOX0xXX1RYX0xQIHwgXAorCQkJCQkgR0VOX1NSXzJQX1RYX0xQIHwg
XAorCQkJCQkgR0VOX1NSXzFQX1RYX0xQIHwgXAorCQkJCQkgR0VOX1NSXzBQX1RYX0xQIHwgXAor
CQkJCQkgR0VOX1NXXzJQX1RYX0xQIHwgXAorCQkJCQkgR0VOX1NXXzFQX1RYX0xQIHwgXAorCQkJ
CQkgR0VOX1NXXzBQX1RYX0xQKQorCisjZGVmaW5lIERTSV9JTlRfU1QwCQkJMHhiYworI2RlZmlu
ZSBEU0lfSU5UX1NUMQkJCTB4YzAKKyNkZWZpbmUgRFNJX0lOVF9NU0swCQkJMHhjNAorI2RlZmlu
ZSBEU0lfSU5UX01TSzEJCQkweGM4CisKICNkZWZpbmUgSElXT1JEX1VQREFURSh2YWwsIG1hc2sp
CSh2YWwgfCAobWFzaykgPDwgMTYpCiAKICNkZWZpbmUgdG9fZHNpKG5tKQljb250YWluZXJfb2Yo
bm0sIHN0cnVjdCBkd19taXBpX2RzaV9yb2NrY2hpcCwgbm0pCkBAIC04OTYsNiArOTYwLDU5IEBA
IHN0YXRpYyBjb25zdCBzdHJ1Y3QgcmVnbWFwX2NvbmZpZyByb2NrY2hpcF9kc2lfcmVnbWFwX2Nv
bmZpZyA9IHsKIAkubmFtZSA9IERSSVZFUl9OQU1FLAogfTsKIAorc3RhdGljIHN0cnVjdCBkd19t
aXBpX2RzaV92YXJpYW50IGRlZmF1bHRfcmtfc3RtX2RzaV92YXJpYW50ID0geworCS5jZmdfZHBp
X2NvbG9yX2NvZGluZyA9CQlSRUdfRklFTEQoRFNJX0RQSV9DT0xPUl9DT0RJTkcsIDAsIDMpLAor
CS5jZmdfZHBpXzE4bG9vc2VseV9lbiA9CQlSRUdfRklFTEQoRFNJX0RQSV9DT0xPUl9DT0RJTkcs
IDgsIDgpLAorCS5jZmdfZHBpX3ZpZCA9CQkJUkVHX0ZJRUxEKERTSV9EUElfVkNJRCwgMCwgMiks
CisJLmNmZ19kcGlfdnN5bmNfYWN0aXZlX2xvdyA9CVJFR19GSUVMRChEU0lfRFBJX0NGR19QT0ws
IDEsIDEpLAorCS5jZmdfZHBpX2hzeW5jX2FjdGl2ZV9sb3cgPQlSRUdfRklFTEQoRFNJX0RQSV9D
RkdfUE9MLCAyLCAyKSwKKwkuY2ZnX2NtZF9tb2RlX2Fja19ycXN0X2VuID0JUkVHX0ZJRUxEKERT
SV9DTURfTU9ERV9DRkcsIDEsIDEpLAorCS5jZmdfY21kX21vZGVfYWxsX2xwX2VuID0JUkVHX0ZJ
RUxEKERTSV9DTURfTU9ERV9DRkcsIDgsIDI0KSwKKwkuY2ZnX2NtZF9tb2RlX2VuID0JCVJFR19G
SUVMRChEU0lfTU9ERV9DRkcsIDAsIDMxKSwKKwkuY2ZnX2NtZF9wa3Rfc3RhdHVzID0JCVJFR19G
SUVMRChEU0lfQ01EX1BLVF9TVEFUVVMsIDAsIDMxKSwKKwkuY2ZnX3ZpZF9tb2RlX2VuID0JCVJF
R19GSUVMRChEU0lfTU9ERV9DRkcsIDAsIDMxKSwKKwkuY2ZnX3ZpZF9tb2RlX3R5cGUgPQkJUkVH
X0ZJRUxEKERTSV9WSURfTU9ERV9DRkcsIDAsIDEpLAorCS5jZmdfdmlkX21vZGVfbG93X3Bvd2Vy
ID0JUkVHX0ZJRUxEKERTSV9WSURfTU9ERV9DRkcsIDgsIDEzKSwKKwkuY2ZnX3ZpZF9tb2RlX3Zw
Z19lbiA9CQlSRUdfRklFTEQoRFNJX1ZJRF9NT0RFX0NGRywgMTYsIDE2KSwKKwkuY2ZnX3ZpZF9t
b2RlX3ZwZ19ob3JpeiA9CVJFR19GSUVMRChEU0lfVklEX01PREVfQ0ZHLCAyNCwgMjQpLAorCS5j
ZmdfdmlkX3BrdF9zaXplID0JCVJFR19GSUVMRChEU0lfVklEX1BLVF9TSVpFLCAwLCAxMCksCisJ
LmNmZ192aWRfaHNhX3RpbWUgPQkJUkVHX0ZJRUxEKERTSV9WSURfSFNBX1RJTUUsIDAsIDMxKSwK
KwkuY2ZnX3ZpZF9oYnBfdGltZSA9CQlSRUdfRklFTEQoRFNJX1ZJRF9IQlBfVElNRSwgMCwgMzEp
LAorCS5jZmdfdmlkX2hsaW5lX3RpbWUgPQkJUkVHX0ZJRUxEKERTSV9WSURfSExJTkVfVElNRSwg
MCwgMzEpLAorCS5jZmdfdmlkX3ZzYV90aW1lID0JCVJFR19GSUVMRChEU0lfVklEX1ZTQV9MSU5F
UywgMCwgMzEpLAorCS5jZmdfdmlkX3ZicF90aW1lID0JCVJFR19GSUVMRChEU0lfVklEX1ZCUF9M
SU5FUywgMCwgMzEpLAorCS5jZmdfdmlkX3ZmcF90aW1lID0JCVJFR19GSUVMRChEU0lfVklEX1ZG
UF9MSU5FUywgMCwgMzEpLAorCS5jZmdfdmlkX3ZhY3RpdmVfdGltZSA9CQlSRUdfRklFTEQoRFNJ
X1ZJRF9WQUNUSVZFX0xJTkVTLCAwLCAzMSksCisJLmNmZ19waHlfdHhyZXF1ZXN0Y2xraHMgPQlS
RUdfRklFTEQoRFNJX0xQQ0xLX0NUUkwsIDAsIDApLAorCS5jZmdfcGh5X2J0YV90aW1lID0JCVJF
R19GSUVMRChEU0lfQlRBX1RPX0NOVCwgMCwgMzEpLAorCS5jZmdfcGh5X21heF9yZF90aW1lID0J
CVJFR19GSUVMRChEU0lfUEhZX1RNUl9DRkcsIDAsIDE1KSwKKwkuY2ZnX3BoeV9scDJoc190aW1l
ID0JCVJFR19GSUVMRChEU0lfUEhZX1RNUl9DRkcsIDE2LCAyMyksCisJLmNmZ19waHlfaHMybHBf
dGltZSA9CQlSRUdfRklFTEQoRFNJX1BIWV9UTVJfQ0ZHLCAyNCwgMzEpLAorCS5jZmdfcGh5X21h
eF9yZF90aW1lX3YxMzEgPQlSRUdfRklFTEQoRFNJX1BIWV9UTVJfUkRfQ0ZHLCAwLCAxNSksCisJ
LmNmZ19waHlfbHAyaHNfdGltZV92MTMxID0JUkVHX0ZJRUxEKERTSV9QSFlfVE1SX0NGRywgMCwg
MTUpLAorCS5jZmdfcGh5X2hzMmxwX3RpbWVfdjEzMSA9CVJFR19GSUVMRChEU0lfUEhZX1RNUl9D
RkcsIDE2LCAzMSksCisJLmNmZ19waHlfY2xrbHAyaHNfdGltZSA9CVJFR19GSUVMRChEU0lfUEhZ
X1RNUl9MUENMS19DRkcsIDAsIDE1KSwKKwkuY2ZnX3BoeV9jbGtoczJscF90aW1lID0JUkVHX0ZJ
RUxEKERTSV9QSFlfVE1SX0xQQ0xLX0NGRywgMTYsIDMxKSwKKwkuY2ZnX3BoeV90ZXN0Y2xyID0J
CVJFR19GSUVMRChEU0lfUEhZX1RTVF9DVFJMMCwgMCwgMCksCisJLmNmZ19waHlfdW5zaHV0ZG93
bnogPQkJUkVHX0ZJRUxEKERTSV9QSFlfUlNUWiwgMCwgMCksCisJLmNmZ19waHlfdW5yc3R6ID0J
CVJFR19GSUVMRChEU0lfUEhZX1JTVFosIDEsIDEpLAorCS5jZmdfcGh5X2VuYWJsZWNsayA9CQlS
RUdfRklFTEQoRFNJX1BIWV9SU1RaLCAyLCAyKSwKKwkuY2ZnX3BoeV9mb3JjZXBsbCA9CQlSRUdf
RklFTEQoRFNJX1BIWV9SU1RaLCAzLCAzKSwKKwkuY2ZnX3BoeV9ubGFuZXMgPQkJUkVHX0ZJRUxE
KERTSV9QSFlfSUZfQ0ZHLCAwLCAxKSwKKwkuY2ZnX3BoeV9zdG9wX3dhaXRfdGltZSA9CVJFR19G
SUVMRChEU0lfUEhZX0lGX0NGRywgOCwgMTUpLAorCS5jZmdfcGh5X3N0YXR1cyA9CQlSRUdfRklF
TEQoRFNJX1BIWV9TVEFUVVMsIDAsIDApLAorCS5jZmdfcGNraGRsX2NmZyA9CQlSRUdfRklFTEQo
RFNJX1BDS0hETF9DRkcsIDAsIDQpLAorCS5jZmdfaHN0eF90aW1lb3V0X2NvdW50ZXIgPQlSRUdf
RklFTEQoRFNJX1RPX0NOVF9DRkcsIDE2LCAzMSksCisJLmNmZ19scHJ4X3RpbWVvdXRfY291bnRl
ciA9CVJFR19GSUVMRChEU0lfVE9fQ05UX0NGRywgMCwgMTUpLAorCS5jZmdfaW50X3N0YXQwID0J
CVJFR19GSUVMRChEU0lfSU5UX1NUMCwgMCwgMzEpLAorCS5jZmdfaW50X3N0YXQxID0JCVJFR19G
SUVMRChEU0lfSU5UX1NUMSwgMCwgMzEpLAorCS5jZmdfaW50X21hc2swID0JCVJFR19GSUVMRChE
U0lfSU5UX01TSzAsIDAsIDMxKSwKKwkuY2ZnX2ludF9tYXNrMSA9CQlSRUdfRklFTEQoRFNJX0lO
VF9NU0sxLCAwLCAzMSksCisJLmNmZ19nZW5faGRyID0JCQlSRUdfRklFTEQoRFNJX0dFTl9IRFIs
IDAsIDMxKSwKKwkuY2ZnX2dlbl9wYXlsb2FkID0JCVJFR19GSUVMRChEU0lfR0VOX1BMRF9EQVRB
LCAwLCAzMSksCisJLnZhbF9jbWRfbW9kZV9hbGxfbHAgPQkJQ01EX01PREVfQUxMX0xQLAorfTsK
Kwogc3RhdGljIGludCBkd19taXBpX2RzaV9yb2NrY2hpcF9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1f
ZGV2aWNlICpwZGV2KQogewogCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZwZGV2LT5kZXY7CkBAIC05
NzUsNiArMTA5Miw3IEBAIHN0YXRpYyBpbnQgZHdfbWlwaV9kc2lfcm9ja2NoaXBfcHJvYmUoc3Ry
dWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKIAogCWRzaS0+ZGV2ID0gZGV2OwogCWRzaS0+cGRh
dGEucmVncyA9IGRzaS0+cmVnczsKKwlkc2ktPnBkYXRhLnZhcmlhbnQgPSAmZGVmYXVsdF9ya19z
dG1fZHNpX3ZhcmlhbnQ7CiAJZHNpLT5wZGF0YS5tYXhfZGF0YV9sYW5lcyA9IGRzaS0+Y2RhdGEt
Pm1heF9kYXRhX2xhbmVzOwogCWRzaS0+cGRhdGEucGh5X29wcyA9ICZkd19taXBpX2RzaV9yb2Nr
Y2hpcF9waHlfb3BzOwogCWRzaS0+cGRhdGEuaG9zdF9vcHMgPSAmZHdfbWlwaV9kc2lfcm9ja2No
aXBfaG9zdF9vcHM7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vc3RtL2R3X21pcGlfZHNp
LXN0bS5jIGIvZHJpdmVycy9ncHUvZHJtL3N0bS9kd19taXBpX2RzaS1zdG0uYwppbmRleCBjYzIz
MzI3MTM0N2IuLjU4NmYzNThhOWYyZSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3N0bS9k
d19taXBpX2RzaS1zdG0uYworKysgYi9kcml2ZXJzL2dwdS9kcm0vc3RtL2R3X21pcGlfZHNpLXN0
bS5jCkBAIC02MCw2ICs2MCw3MCBAQAogI2RlZmluZSBPREZfTUlOCQkxCiAjZGVmaW5lIE9ERl9N
QVgJCTgKIAorI2RlZmluZSBEU0lfRFBJX1ZDSUQJCQkweDBjCisjZGVmaW5lIERTSV9EUElfQ09M
T1JfQ09ESU5HCQkweDEwCisjZGVmaW5lIERTSV9EUElfQ0ZHX1BPTAkJCTB4MTQKKyNkZWZpbmUg
RFNJX1BDS0hETF9DRkcJCQkweDJjCisjZGVmaW5lIERTSV9DTURfTU9ERV9DRkcJCTB4NjgKKyNk
ZWZpbmUgRFNJX1ZJRF9NT0RFX0NGRwkJMHgzOAorI2RlZmluZSBEU0lfTU9ERV9DRkcJCQkweDM0
CisjZGVmaW5lIERTSV9WSURfUEtUX1NJWkUJCTB4M2MKKyNkZWZpbmUgRFNJX0xQQ0xLX0NUUkwJ
CQkweDk0CisjZGVmaW5lIERTSV9UT19DTlRfQ0ZHCQkJMHg3OAorI2RlZmluZSBEU0lfUEhZX0lG
X0NGRwkJCTB4YTQKKyNkZWZpbmUgRFNJX1BIWV9UTVJfQ0ZHCQkJMHg5YworI2RlZmluZSBEU0lf
UEhZX1RNUl9SRF9DRkcJCTB4ZjQKKyNkZWZpbmUgRFNJX1BIWV9UTVJfTFBDTEtfQ0ZHCQkweDk4
CisjZGVmaW5lIERTSV9QSFlfUlNUWgkJCTB4YTAKKyNkZWZpbmUgRFNJX1BIWV9TVEFUVVMJCQkw
eGIwCisjZGVmaW5lIERTSV9QSFlfVFNUX0NUUkwwCQkweGI0CisjZGVmaW5lIERTSV9HRU5fSERS
CQkJMHg2YworI2RlZmluZSBEU0lfR0VOX1BMRF9EQVRBCQkweDcwCisjZGVmaW5lIERTSV9DTURf
UEtUX1NUQVRVUwkJMHg3NAorI2RlZmluZSBEU0lfQlRBX1RPX0NOVAkJCTB4OGMKKyNkZWZpbmUg
RFNJX1ZJRF9OVU1fQ0hVTktTCQkweDQwCisjZGVmaW5lIERTSV9WSURfTlVMTF9TSVpFCQkweDQ0
CisjZGVmaW5lIERTSV9WSURfSFNBX1RJTUUJCTB4NDgKKyNkZWZpbmUgRFNJX1ZJRF9IQlBfVElN
RQkJMHg0YworI2RlZmluZSBEU0lfVklEX0hMSU5FX1RJTUUJCTB4NTAKKyNkZWZpbmUgRFNJX1ZJ
RF9WU0FfTElORVMJCTB4NTQKKyNkZWZpbmUgRFNJX1ZJRF9WQlBfTElORVMJCTB4NTgKKyNkZWZp
bmUgRFNJX1ZJRF9WRlBfTElORVMJCTB4NWMKKyNkZWZpbmUgRFNJX1ZJRF9WQUNUSVZFX0xJTkVT
CQkweDYwCisjZGVmaW5lIERTSV9FRFBJX0NNRF9TSVpFCQkweDY0CisKKyNkZWZpbmUgTUFYX1JE
X1BLVF9TSVpFX0xQCQlCSVQoMjQpCisjZGVmaW5lIERDU19MV19UWF9MUAkJCUJJVCgxOSkKKyNk
ZWZpbmUgRENTX1NSXzBQX1RYX0xQCQkJQklUKDE4KQorI2RlZmluZSBEQ1NfU1dfMVBfVFhfTFAJ
CQlCSVQoMTcpCisjZGVmaW5lIERDU19TV18wUF9UWF9MUAkJCUJJVCgxNikKKyNkZWZpbmUgR0VO
X0xXX1RYX0xQCQkJQklUKDE0KQorI2RlZmluZSBHRU5fU1JfMlBfVFhfTFAJCQlCSVQoMTMpCisj
ZGVmaW5lIEdFTl9TUl8xUF9UWF9MUAkJCUJJVCgxMikKKyNkZWZpbmUgR0VOX1NSXzBQX1RYX0xQ
CQkJQklUKDExKQorI2RlZmluZSBHRU5fU1dfMlBfVFhfTFAJCQlCSVQoMTApCisjZGVmaW5lIEdF
Tl9TV18xUF9UWF9MUAkJCUJJVCg5KQorI2RlZmluZSBHRU5fU1dfMFBfVFhfTFAJCQlCSVQoOCkK
KyNkZWZpbmUgVEVBUl9GWF9FTgkJCUJJVCgwKQorCisjZGVmaW5lIENNRF9NT0RFX0FMTF9MUAkJ
CShNQVhfUkRfUEtUX1NJWkVfTFAgfCBcCisJCQkJCSBEQ1NfTFdfVFhfTFAgfCBcCisJCQkJCSBE
Q1NfU1JfMFBfVFhfTFAgfCBcCisJCQkJCSBEQ1NfU1dfMVBfVFhfTFAgfCBcCisJCQkJCSBEQ1Nf
U1dfMFBfVFhfTFAgfCBcCisJCQkJCSBHRU5fTFdfVFhfTFAgfCBcCisJCQkJCSBHRU5fU1JfMlBf
VFhfTFAgfCBcCisJCQkJCSBHRU5fU1JfMVBfVFhfTFAgfCBcCisJCQkJCSBHRU5fU1JfMFBfVFhf
TFAgfCBcCisJCQkJCSBHRU5fU1dfMlBfVFhfTFAgfCBcCisJCQkJCSBHRU5fU1dfMVBfVFhfTFAg
fCBcCisJCQkJCSBHRU5fU1dfMFBfVFhfTFApCisKKyNkZWZpbmUgRFNJX0lOVF9TVDAJCQkweGJj
CisjZGVmaW5lIERTSV9JTlRfU1QxCQkJMHhjMAorI2RlZmluZSBEU0lfSU5UX01TSzAJCQkweGM0
CisjZGVmaW5lIERTSV9JTlRfTVNLMQkJCTB4YzgKKwogLyogZHNpIGNvbG9yIGZvcm1hdCBjb2Rp
bmcgYWNjb3JkaW5nIHRvIHRoZSBkYXRhc2hlZXQgKi8KIGVudW0gZHNpX2NvbG9yIHsKIAlEU0lf
UkdCNTY1X0NPTkYxLApAQCAtMzQwLDYgKzQwNCw1NyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IHJl
Z21hcF9jb25maWcgc3RtX2RzaV9yZWdtYXBfY29uZmlnID0gewogCS5uYW1lID0gRFJJVkVSX05B
TUUsCiB9OwogCitzdGF0aWMgc3RydWN0IGR3X21pcGlfZHNpX3ZhcmlhbnQgZGVmYXVsdF9ya19z
dG1fZHNpX3ZhcmlhbnQgPSB7CisJLmNmZ19kcGlfY29sb3JfY29kaW5nID0JCVJFR19GSUVMRChE
U0lfRFBJX0NPTE9SX0NPRElORywgMCwgMyksCisJLmNmZ19kcGlfMThsb29zZWx5X2VuID0JCVJF
R19GSUVMRChEU0lfRFBJX0NPTE9SX0NPRElORywgOCwgOCksCisJLmNmZ19kcGlfdmlkID0JCQlS
RUdfRklFTEQoRFNJX0RQSV9WQ0lELCAwLCAyKSwKKwkuY2ZnX2RwaV92c3luY19hY3RpdmVfbG93
ID0JUkVHX0ZJRUxEKERTSV9EUElfQ0ZHX1BPTCwgMSwgMSksCisJLmNmZ19kcGlfaHN5bmNfYWN0
aXZlX2xvdyA9CVJFR19GSUVMRChEU0lfRFBJX0NGR19QT0wsIDIsIDIpLAorCS5jZmdfY21kX21v
ZGVfYWNrX3Jxc3RfZW4gPQlSRUdfRklFTEQoRFNJX0NNRF9NT0RFX0NGRywgMSwgMSksCisJLmNm
Z19jbWRfbW9kZV9hbGxfbHBfZW4gPQlSRUdfRklFTEQoRFNJX0NNRF9NT0RFX0NGRywgOCwgMjQp
LAorCS5jZmdfY21kX21vZGVfZW4gPQkJUkVHX0ZJRUxEKERTSV9NT0RFX0NGRywgMCwgMzEpLAor
CS5jZmdfY21kX3BrdF9zdGF0dXMgPQkJUkVHX0ZJRUxEKERTSV9DTURfUEtUX1NUQVRVUywgMCwg
MzEpLAorCS5jZmdfdmlkX21vZGVfZW4gPQkJUkVHX0ZJRUxEKERTSV9NT0RFX0NGRywgMCwgMzEp
LAorCS5jZmdfdmlkX21vZGVfdHlwZSA9CQlSRUdfRklFTEQoRFNJX1ZJRF9NT0RFX0NGRywgMCwg
MSksCisJLmNmZ192aWRfbW9kZV9sb3dfcG93ZXIgPQlSRUdfRklFTEQoRFNJX1ZJRF9NT0RFX0NG
RywgOCwgMTMpLAorCS5jZmdfdmlkX3BrdF9zaXplID0JCVJFR19GSUVMRChEU0lfVklEX1BLVF9T
SVpFLCAwLCAxMCksCisJLmNmZ192aWRfaHNhX3RpbWUgPQkJUkVHX0ZJRUxEKERTSV9WSURfSFNB
X1RJTUUsIDAsIDMxKSwKKwkuY2ZnX3ZpZF9oYnBfdGltZSA9CQlSRUdfRklFTEQoRFNJX1ZJRF9I
QlBfVElNRSwgMCwgMzEpLAorCS5jZmdfdmlkX2hsaW5lX3RpbWUgPQkJUkVHX0ZJRUxEKERTSV9W
SURfSExJTkVfVElNRSwgMCwgMzEpLAorCS5jZmdfdmlkX3ZzYV90aW1lID0JCVJFR19GSUVMRChE
U0lfVklEX1ZTQV9MSU5FUywgMCwgMzEpLAorCS5jZmdfdmlkX3ZicF90aW1lID0JCVJFR19GSUVM
RChEU0lfVklEX1ZCUF9MSU5FUywgMCwgMzEpLAorCS5jZmdfdmlkX3ZmcF90aW1lID0JCVJFR19G
SUVMRChEU0lfVklEX1ZGUF9MSU5FUywgMCwgMzEpLAorCS5jZmdfdmlkX3ZhY3RpdmVfdGltZSA9
CQlSRUdfRklFTEQoRFNJX1ZJRF9WQUNUSVZFX0xJTkVTLCAwLCAzMSksCisJLmNmZ19waHlfdHhy
ZXF1ZXN0Y2xraHMgPQlSRUdfRklFTEQoRFNJX0xQQ0xLX0NUUkwsIDAsIDApLAorCS5jZmdfcGh5
X2J0YV90aW1lID0JCVJFR19GSUVMRChEU0lfQlRBX1RPX0NOVCwgMCwgMzEpLAorCS5jZmdfcGh5
X21heF9yZF90aW1lID0JCVJFR19GSUVMRChEU0lfUEhZX1RNUl9DRkcsIDAsIDE1KSwKKwkuY2Zn
X3BoeV9scDJoc190aW1lID0JCVJFR19GSUVMRChEU0lfUEhZX1RNUl9DRkcsIDE2LCAyMyksCisJ
LmNmZ19waHlfaHMybHBfdGltZSA9CQlSRUdfRklFTEQoRFNJX1BIWV9UTVJfQ0ZHLCAyNCwgMzEp
LAorCS5jZmdfcGh5X21heF9yZF90aW1lX3YxMzEgPQlSRUdfRklFTEQoRFNJX1BIWV9UTVJfUkRf
Q0ZHLCAwLCAxNSksCisJLmNmZ19waHlfbHAyaHNfdGltZV92MTMxID0JUkVHX0ZJRUxEKERTSV9Q
SFlfVE1SX0NGRywgMCwgMTUpLAorCS5jZmdfcGh5X2hzMmxwX3RpbWVfdjEzMSA9CVJFR19GSUVM
RChEU0lfUEhZX1RNUl9DRkcsIDE2LCAzMSksCisJLmNmZ19waHlfY2xrbHAyaHNfdGltZSA9CVJF
R19GSUVMRChEU0lfUEhZX1RNUl9MUENMS19DRkcsIDAsIDE1KSwKKwkuY2ZnX3BoeV9jbGtoczJs
cF90aW1lID0JUkVHX0ZJRUxEKERTSV9QSFlfVE1SX0xQQ0xLX0NGRywgMTYsIDMxKSwKKwkuY2Zn
X3BoeV90ZXN0Y2xyID0JCVJFR19GSUVMRChEU0lfUEhZX1RTVF9DVFJMMCwgMCwgMCksCisJLmNm
Z19waHlfdW5zaHV0ZG93bnogPQkJUkVHX0ZJRUxEKERTSV9QSFlfUlNUWiwgMCwgMCksCisJLmNm
Z19waHlfdW5yc3R6ID0JCVJFR19GSUVMRChEU0lfUEhZX1JTVFosIDEsIDEpLAorCS5jZmdfcGh5
X2VuYWJsZWNsayA9CQlSRUdfRklFTEQoRFNJX1BIWV9SU1RaLCAyLCAyKSwKKwkuY2ZnX3BoeV9m
b3JjZXBsbCA9CQlSRUdfRklFTEQoRFNJX1BIWV9SU1RaLCAzLCAzKSwKKwkuY2ZnX3BoeV9ubGFu
ZXMgPQkJUkVHX0ZJRUxEKERTSV9QSFlfSUZfQ0ZHLCAwLCAxKSwKKwkuY2ZnX3BoeV9zdG9wX3dh
aXRfdGltZSA9CVJFR19GSUVMRChEU0lfUEhZX0lGX0NGRywgOCwgMTUpLAorCS5jZmdfcGh5X3N0
YXR1cyA9CQlSRUdfRklFTEQoRFNJX1BIWV9TVEFUVVMsIDAsIDApLAorCS5jZmdfcGNraGRsX2Nm
ZyA9CQlSRUdfRklFTEQoRFNJX1BDS0hETF9DRkcsIDAsIDQpLAorCS5jZmdfaHN0eF90aW1lb3V0
X2NvdW50ZXIgPQlSRUdfRklFTEQoRFNJX1RPX0NOVF9DRkcsIDE2LCAzMSksCisJLmNmZ19scHJ4
X3RpbWVvdXRfY291bnRlciA9CVJFR19GSUVMRChEU0lfVE9fQ05UX0NGRywgMCwgMTUpLAorCS5j
ZmdfaW50X3N0YXQwID0JCVJFR19GSUVMRChEU0lfSU5UX1NUMCwgMCwgMzEpLAorCS5jZmdfaW50
X3N0YXQxID0JCVJFR19GSUVMRChEU0lfSU5UX1NUMSwgMCwgMzEpLAorCS5jZmdfaW50X21hc2sw
ID0JCVJFR19GSUVMRChEU0lfSU5UX01TSzAsIDAsIDMxKSwKKwkuY2ZnX2ludF9tYXNrMSA9CQlS
RUdfRklFTEQoRFNJX0lOVF9NU0sxLCAwLCAzMSksCisJLmNmZ19nZW5faGRyID0JCQlSRUdfRklF
TEQoRFNJX0dFTl9IRFIsIDAsIDMxKSwKKwkuY2ZnX2dlbl9wYXlsb2FkID0JCVJFR19GSUVMRChE
U0lfR0VOX1BMRF9EQVRBLCAwLCAzMSksCisJLnZhbF9jbWRfbW9kZV9hbGxfbHAgPQkJQ01EX01P
REVfQUxMX0xQLAorfTsKKwogc3RhdGljIGludCBkd19taXBpX2RzaV9zdG1fcHJvYmUoc3RydWN0
IHBsYXRmb3JtX2RldmljZSAqcGRldikKIHsKIAlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmcGRldi0+
ZGV2OwpAQCAtNDE3LDYgKzUzMiw3IEBAIHN0YXRpYyBpbnQgZHdfbWlwaV9kc2lfc3RtX3Byb2Jl
KHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCiAJfQogCiAJZHdfbWlwaV9kc2lfc3RtX3Bs
YXRfZGF0YS5yZWdzID0gZHNpLT5yZWdzOworCWR3X21pcGlfZHNpX3N0bV9wbGF0X2RhdGEudmFy
aWFudCA9ICZkZWZhdWx0X3JrX3N0bV9kc2lfdmFyaWFudDsKIAlkd19taXBpX2RzaV9zdG1fcGxh
dF9kYXRhLnByaXZfZGF0YSA9IGRzaTsKIAogCXBsYXRmb3JtX3NldF9kcnZkYXRhKHBkZXYsIGRz
aSk7CmRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS9icmlkZ2UvZHdfbWlwaV9kc2kuaCBiL2luY2x1
ZGUvZHJtL2JyaWRnZS9kd19taXBpX2RzaS5oCmluZGV4IGVjYzE4OTdlZmE2Mi4uNTdjZjQ2ZjE1
NzIwIDEwMDY0NAotLS0gYS9pbmNsdWRlL2RybS9icmlkZ2UvZHdfbWlwaV9kc2kuaAorKysgYi9p
bmNsdWRlL2RybS9icmlkZ2UvZHdfbWlwaV9kc2kuaApAQCAtMzYsOCArMzYsNjYgQEAgc3RydWN0
IGR3X21pcGlfZHNpX2hvc3Rfb3BzIHsKIAkJICAgICAgc3RydWN0IG1pcGlfZHNpX2RldmljZSAq
ZHNpKTsKIH07CiAKK3N0cnVjdCBkd19taXBpX2RzaV92YXJpYW50IHsKKwkvKiBSZWdtYXAgZmll
bGQgY29uZmlncyBmb3IgRFNJIGFkYXB0ZXIgKi8KKwlzdHJ1Y3QgcmVnX2ZpZWxkCWNmZ19kcGlf
MThsb29zZWx5X2VuOworCXN0cnVjdCByZWdfZmllbGQJY2ZnX2RwaV9jb2xvcl9jb2Rpbmc7CisJ
c3RydWN0IHJlZ19maWVsZAljZmdfZHBpX3ZpZDsKKwlzdHJ1Y3QgcmVnX2ZpZWxkCWNmZ19kcGlf
dnN5bmNfYWN0aXZlX2xvdzsKKwlzdHJ1Y3QgcmVnX2ZpZWxkCWNmZ19kcGlfaHN5bmNfYWN0aXZl
X2xvdzsKKwlzdHJ1Y3QgcmVnX2ZpZWxkCWNmZ19jbWRfbW9kZV9lbjsKKwlzdHJ1Y3QgcmVnX2Zp
ZWxkCWNmZ19jbWRfbW9kZV9hY2tfcnFzdF9lbjsKKwlzdHJ1Y3QgcmVnX2ZpZWxkCWNmZ19jbWRf
bW9kZV9hbGxfbHBfZW47CisJc3RydWN0IHJlZ19maWVsZAljZmdfY21kX3BrdF9zdGF0dXM7CisJ
c3RydWN0IHJlZ19maWVsZAljZmdfdmlkX21vZGVfZW47CisJc3RydWN0IHJlZ19maWVsZAljZmdf
dmlkX21vZGVfdHlwZTsKKwlzdHJ1Y3QgcmVnX2ZpZWxkCWNmZ192aWRfbW9kZV9sb3dfcG93ZXI7
CisJc3RydWN0IHJlZ19maWVsZAljZmdfdmlkX21vZGVfdnBnX2VuOworCXN0cnVjdCByZWdfZmll
bGQJY2ZnX3ZpZF9tb2RlX3ZwZ19ob3JpejsKKwlzdHJ1Y3QgcmVnX2ZpZWxkCWNmZ192aWRfcGt0
X3NpemU7CisJc3RydWN0IHJlZ19maWVsZAljZmdfdmlkX2hzYV90aW1lOworCXN0cnVjdCByZWdf
ZmllbGQJY2ZnX3ZpZF9oYnBfdGltZTsKKwlzdHJ1Y3QgcmVnX2ZpZWxkCWNmZ192aWRfaGxpbmVf
dGltZTsKKwlzdHJ1Y3QgcmVnX2ZpZWxkCWNmZ192aWRfdnNhX3RpbWU7CisJc3RydWN0IHJlZ19m
aWVsZAljZmdfdmlkX3ZicF90aW1lOworCXN0cnVjdCByZWdfZmllbGQJY2ZnX3ZpZF92ZnBfdGlt
ZTsKKwlzdHJ1Y3QgcmVnX2ZpZWxkCWNmZ192aWRfdmFjdGl2ZV90aW1lOworCXN0cnVjdCByZWdf
ZmllbGQJY2ZnX3BoeV90eHJlcXVlc3RjbGtoczsKKwlzdHJ1Y3QgcmVnX2ZpZWxkCWNmZ19waHlf
YnRhX3RpbWU7CisJc3RydWN0IHJlZ19maWVsZAljZmdfcGh5X21heF9yZF90aW1lOworCXN0cnVj
dCByZWdfZmllbGQJY2ZnX3BoeV9scDJoc190aW1lOworCXN0cnVjdCByZWdfZmllbGQJY2ZnX3Bo
eV9oczJscF90aW1lOworCXN0cnVjdCByZWdfZmllbGQJY2ZnX3BoeV9tYXhfcmRfdGltZV92MTMx
OworCXN0cnVjdCByZWdfZmllbGQJY2ZnX3BoeV9scDJoc190aW1lX3YxMzE7CisJc3RydWN0IHJl
Z19maWVsZAljZmdfcGh5X2hzMmxwX3RpbWVfdjEzMTsKKwlzdHJ1Y3QgcmVnX2ZpZWxkCWNmZ19w
aHlfY2xrbHAyaHNfdGltZTsKKwlzdHJ1Y3QgcmVnX2ZpZWxkCWNmZ19waHlfY2xraHMybHBfdGlt
ZTsKKwlzdHJ1Y3QgcmVnX2ZpZWxkCWNmZ19waHlfdGVzdGNscjsKKwlzdHJ1Y3QgcmVnX2ZpZWxk
CWNmZ19waHlfdW5zaHV0ZG93bno7CisJc3RydWN0IHJlZ19maWVsZAljZmdfcGh5X3VucnN0ejsK
KwlzdHJ1Y3QgcmVnX2ZpZWxkCWNmZ19waHlfZW5hYmxlY2xrOworCXN0cnVjdCByZWdfZmllbGQJ
Y2ZnX3BoeV9mb3JjZXBsbDsKKwlzdHJ1Y3QgcmVnX2ZpZWxkCWNmZ19waHlfbmxhbmVzOworCXN0
cnVjdCByZWdfZmllbGQJY2ZnX3BoeV9zdG9wX3dhaXRfdGltZTsKKwlzdHJ1Y3QgcmVnX2ZpZWxk
CWNmZ19waHlfc3RhdHVzOworCXN0cnVjdCByZWdfZmllbGQJY2ZnX3Bja2hkbF9jZmc7CisJc3Ry
dWN0IHJlZ19maWVsZAljZmdfaHN0eF90aW1lb3V0X2NvdW50ZXI7CisJc3RydWN0IHJlZ19maWVs
ZAljZmdfbHByeF90aW1lb3V0X2NvdW50ZXI7CisJc3RydWN0IHJlZ19maWVsZAljZmdfaW50X3N0
YXQwOworCXN0cnVjdCByZWdfZmllbGQJY2ZnX2ludF9zdGF0MTsKKwlzdHJ1Y3QgcmVnX2ZpZWxk
CWNmZ19pbnRfbWFzazA7CisJc3RydWN0IHJlZ19maWVsZAljZmdfaW50X21hc2sxOworCXN0cnVj
dCByZWdfZmllbGQJY2ZnX2dlbl9oZHI7CisJc3RydWN0IHJlZ19maWVsZAljZmdfZ2VuX3BheWxv
YWQ7CisKKwkvKiB2YWx1ZXMgdG8gd3JpdGUgdG8gcmVnaXN0ZXJzICovCisJdTMyIHZhbF9jbWRf
bW9kZV9hbGxfbHA7Cit9OworCiBzdHJ1Y3QgZHdfbWlwaV9kc2lfcGxhdF9kYXRhIHsKIAlzdHJ1
Y3QgcmVnbWFwICpyZWdzOworCXN0cnVjdCBkd19taXBpX2RzaV92YXJpYW50ICp2YXJpYW50Owor
CiAJdW5zaWduZWQgaW50IG1heF9kYXRhX2xhbmVzOwogCiAJZW51bSBkcm1fbW9kZV9zdGF0dXMg
KCptb2RlX3ZhbGlkKSh2b2lkICpwcml2X2RhdGEsCi0tIAoyLjIzLjAKCl9fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QK
ZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9w
Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
