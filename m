Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 9C3B195343
	for <lists+dri-devel@lfdr.de>; Tue, 20 Aug 2019 03:19:51 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AD6E46E592;
	Tue, 20 Aug 2019 01:19:44 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from perceval.ideasonboard.com (perceval.ideasonboard.com
 [213.167.242.64])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A63386E580
 for <dri-devel@lists.freedesktop.org>; Tue, 20 Aug 2019 01:18:14 +0000 (UTC)
Received: from pendragon.bb.dnainternet.fi
 (dfj612yhrgyx302h3jwwy-3.rev.dnainternet.fi
 [IPv6:2001:14ba:21f5:5b00:ce28:277f:58d7:3ca4])
 by perceval.ideasonboard.com (Postfix) with ESMTPSA id 9AE5F1176;
 Tue, 20 Aug 2019 03:18:06 +0200 (CEST)
From: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH v2 48/50] drm/omap: dss: Remove unused omap_dss_device
 operations
Date: Tue, 20 Aug 2019 04:17:19 +0300
Message-Id: <20190820011721.30136-49-laurent.pinchart@ideasonboard.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190820011721.30136-1-laurent.pinchart@ideasonboard.com>
References: <20190820011721.30136-1-laurent.pinchart@ideasonboard.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=ideasonboard.com; s=mail; t=1566263887;
 bh=/c75JcbF7i4ygDukx+6DWc9eDuuSx9PMnPQNOIuT1xg=;
 h=From:To:Cc:Subject:Date:In-Reply-To:References:From;
 b=AoYtHB09JQrIsYL6EdX8zlZ+fU4BAPAhCCEQCk1gM/pBtOo3WVOXgyje/U4SaSyPZ
 PcYPgwh2N4xDXZBELsbs2e+QMuSG5igBM5H+8Bv89Torve2oHpanKhCCcykT8CS1pG
 DL0IIQ4bzEPD0l9dBt3jwoA95LLbS+v8FBte/BXE=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Maxime Ripard <maxime.ripard@bootlin.com>,
 Tomi Valkeinen <tomi.valkeinen@ti.com>, Sean Paul <sean@poorly.run>,
 Sebastian Reichel <sebastian.reichel@collabora.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIG9tYXBfZHNzX2RldmljZSAucHJlX2VuYWJsZSgpLCAucG9zdF9kaXNhYmxlKCkgYW5kIC5z
ZXRfdGltaW5ncygpCmFyZSBub3QgdXNlZCBhbnltb3JlLiBSZW1vdmUgdGhlbS4KClNpZ25lZC1v
ZmYtYnk6IExhdXJlbnQgUGluY2hhcnQgPGxhdXJlbnQucGluY2hhcnRAaWRlYXNvbmJvYXJkLmNv
bT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vb21hcGRybS9kc3MvYmFzZS5jICAgICB8IDI2IC0tLS0t
LS0tLS0tLS0tLQogZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vZHNzL29tYXBkc3MuaCAgfCAgNiAt
LS0tCiBkcml2ZXJzL2dwdS9kcm0vb21hcGRybS9vbWFwX2VuY29kZXIuYyB8IDQ0ICsrKy0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tCiAzIGZpbGVzIGNoYW5nZWQsIDUgaW5zZXJ0aW9ucygrKSwgNzEg
ZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vZHNzL2Jh
c2UuYyBiL2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL2Rzcy9iYXNlLmMKaW5kZXggMzg5ZTJjMWI0
OTA5Li45MmE5NDczYmQ5YjIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL2Rz
cy9iYXNlLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vZHNzL2Jhc2UuYwpAQCAtMjM0
LDE4ICsyMzQsNiBAQCB2b2lkIG9tYXBkc3NfZGV2aWNlX2Rpc2Nvbm5lY3Qoc3RydWN0IG9tYXBf
ZHNzX2RldmljZSAqc3JjLAogfQogRVhQT1JUX1NZTUJPTF9HUEwob21hcGRzc19kZXZpY2VfZGlz
Y29ubmVjdCk7CiAKLXZvaWQgb21hcGRzc19kZXZpY2VfcHJlX2VuYWJsZShzdHJ1Y3Qgb21hcF9k
c3NfZGV2aWNlICpkc3NkZXYpCi17Ci0JaWYgKCFkc3NkZXYpCi0JCXJldHVybjsKLQotCW9tYXBk
c3NfZGV2aWNlX3ByZV9lbmFibGUoZHNzZGV2LT5uZXh0KTsKLQotCWlmIChkc3NkZXYtPm9wcyAm
JiBkc3NkZXYtPm9wcy0+cHJlX2VuYWJsZSkKLQkJZHNzZGV2LT5vcHMtPnByZV9lbmFibGUoZHNz
ZGV2KTsKLX0KLUVYUE9SVF9TWU1CT0xfR1BMKG9tYXBkc3NfZGV2aWNlX3ByZV9lbmFibGUpOwot
CiB2b2lkIG9tYXBkc3NfZGV2aWNlX2VuYWJsZShzdHJ1Y3Qgb21hcF9kc3NfZGV2aWNlICpkc3Nk
ZXYpCiB7CiAJaWYgKCFkc3NkZXYpCkBAIC0yNzIsMjAgKzI2MCw2IEBAIHZvaWQgb21hcGRzc19k
ZXZpY2VfZGlzYWJsZShzdHJ1Y3Qgb21hcF9kc3NfZGV2aWNlICpkc3NkZXYpCiB9CiBFWFBPUlRf
U1lNQk9MX0dQTChvbWFwZHNzX2RldmljZV9kaXNhYmxlKTsKIAotdm9pZCBvbWFwZHNzX2Rldmlj
ZV9wb3N0X2Rpc2FibGUoc3RydWN0IG9tYXBfZHNzX2RldmljZSAqZHNzZGV2KQotewotCWlmICgh
ZHNzZGV2KQotCQlyZXR1cm47Ci0KLQlpZiAoZHNzZGV2LT5vcHMgJiYgZHNzZGV2LT5vcHMtPnBv
c3RfZGlzYWJsZSkKLQkJZHNzZGV2LT5vcHMtPnBvc3RfZGlzYWJsZShkc3NkZXYpOwotCi0Jb21h
cGRzc19kZXZpY2VfcG9zdF9kaXNhYmxlKGRzc2Rldi0+bmV4dCk7Ci0KLQlkc3NkZXYtPnN0YXRl
ID0gT01BUF9EU1NfRElTUExBWV9ESVNBQkxFRDsKLX0KLUVYUE9SVF9TWU1CT0xfR1BMKG9tYXBk
c3NfZGV2aWNlX3Bvc3RfZGlzYWJsZSk7Ci0KIHVuc2lnbmVkIGludCBvbWFwZHNzX2RldmljZV9j
b25uZWN0b3JfdHlwZShlbnVtIG9tYXBfZGlzcGxheV90eXBlIHR5cGUpCiB7CiAJc3dpdGNoICh0
eXBlKSB7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vb21hcGRybS9kc3Mvb21hcGRzcy5o
IGIvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vZHNzL29tYXBkc3MuaAppbmRleCBjYjc5ZTA1Yzkw
MmQuLmU3NDE4YTc0ZjcyMiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vZHNz
L29tYXBkc3MuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vb21hcGRybS9kc3Mvb21hcGRzcy5oCkBA
IC0zNDIsMTUgKzM0MiwxMSBAQCBzdHJ1Y3Qgb21hcF9kc3NfZGV2aWNlX29wcyB7CiAJdm9pZCAo
KmRpc2Nvbm5lY3QpKHN0cnVjdCBvbWFwX2Rzc19kZXZpY2UgKmRzc2RldiwKIAkJCXN0cnVjdCBv
bWFwX2Rzc19kZXZpY2UgKmRzdCk7CiAKLQl2b2lkICgqcHJlX2VuYWJsZSkoc3RydWN0IG9tYXBf
ZHNzX2RldmljZSAqZHNzZGV2KTsKIAl2b2lkICgqZW5hYmxlKShzdHJ1Y3Qgb21hcF9kc3NfZGV2
aWNlICpkc3NkZXYpOwogCXZvaWQgKCpkaXNhYmxlKShzdHJ1Y3Qgb21hcF9kc3NfZGV2aWNlICpk
c3NkZXYpOwotCXZvaWQgKCpwb3N0X2Rpc2FibGUpKHN0cnVjdCBvbWFwX2Rzc19kZXZpY2UgKmRz
c2Rldik7CiAKIAlpbnQgKCpjaGVja190aW1pbmdzKShzdHJ1Y3Qgb21hcF9kc3NfZGV2aWNlICpk
c3NkZXYsCiAJCQkgICAgIHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlKTsKLQl2b2lkICgq
c2V0X3RpbWluZ3MpKHN0cnVjdCBvbWFwX2Rzc19kZXZpY2UgKmRzc2RldiwKLQkJCSAgICBjb25z
dCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZSk7CiAKIAlpbnQgKCpnZXRfbW9kZXMpKHN0
cnVjdCBvbWFwX2Rzc19kZXZpY2UgKmRzc2RldiwKIAkJCSBzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAq
Y29ubmVjdG9yKTsKQEAgLTQ1MCwxMCArNDQ2LDggQEAgaW50IG9tYXBkc3NfZGV2aWNlX2Nvbm5l
Y3Qoc3RydWN0IGRzc19kZXZpY2UgKmRzcywKIAkJCSAgIHN0cnVjdCBvbWFwX2Rzc19kZXZpY2Ug
KmRzdCk7CiB2b2lkIG9tYXBkc3NfZGV2aWNlX2Rpc2Nvbm5lY3Qoc3RydWN0IG9tYXBfZHNzX2Rl
dmljZSAqc3JjLAogCQkJICAgICAgIHN0cnVjdCBvbWFwX2Rzc19kZXZpY2UgKmRzdCk7Ci12b2lk
IG9tYXBkc3NfZGV2aWNlX3ByZV9lbmFibGUoc3RydWN0IG9tYXBfZHNzX2RldmljZSAqZHNzZGV2
KTsKIHZvaWQgb21hcGRzc19kZXZpY2VfZW5hYmxlKHN0cnVjdCBvbWFwX2Rzc19kZXZpY2UgKmRz
c2Rldik7CiB2b2lkIG9tYXBkc3NfZGV2aWNlX2Rpc2FibGUoc3RydWN0IG9tYXBfZHNzX2Rldmlj
ZSAqZHNzZGV2KTsKLXZvaWQgb21hcGRzc19kZXZpY2VfcG9zdF9kaXNhYmxlKHN0cnVjdCBvbWFw
X2Rzc19kZXZpY2UgKmRzc2Rldik7CiB1bnNpZ25lZCBpbnQgb21hcGRzc19kZXZpY2VfY29ubmVj
dG9yX3R5cGUoZW51bSBvbWFwX2Rpc3BsYXlfdHlwZSB0eXBlKTsKIAogaW50IG9tYXBfZHNzX2dl
dF9udW1fb3ZlcmxheV9tYW5hZ2Vycyh2b2lkKTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9vbWFwZHJtL29tYXBfZW5jb2Rlci5jIGIvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vb21hcF9l
bmNvZGVyLmMKaW5kZXggMTU0NWQzMGYyNmUwLi44M2FiNWJiODk3YzQgMTAwNjQ0Ci0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9vbWFwZHJtL29tYXBfZW5jb2Rlci5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9vbWFwZHJtL29tYXBfZW5jb2Rlci5jCkBAIC0xMTEsMTMgKzExMSw4IEBAIHN0YXRpYyB2b2lk
IG9tYXBfZW5jb2Rlcl9tb2RlX3NldChzdHJ1Y3QgZHJtX2VuY29kZXIgKmVuY29kZXIsCiAJYnVz
X2ZsYWdzID0gY29ubmVjdG9yLT5kaXNwbGF5X2luZm8uYnVzX2ZsYWdzOwogCW9tYXBfZW5jb2Rl
cl91cGRhdGVfdmlkZW9tb2RlX2ZsYWdzKCZ2bSwgYnVzX2ZsYWdzKTsKIAotCS8qIFNldCB0aW1p
bmdzIGZvciBhbGwgZGV2aWNlcyBpbiB0aGUgZGlzcGxheSBwaXBlbGluZS4gKi8KKwkvKiBTZXQg
dGltaW5ncyBmb3IgdGhlIGRzcyBtYW5hZ2VyLiAqLwogCWRzc19tZ3Jfc2V0X3RpbWluZ3Mob3V0
cHV0LCAmdm0pOwotCi0JZm9yIChkc3NkZXYgPSBvdXRwdXQ7IGRzc2RldjsgZHNzZGV2ID0gZHNz
ZGV2LT5uZXh0KSB7Ci0JCWlmIChkc3NkZXYtPm9wcyAmJiBkc3NkZXYtPm9wcy0+c2V0X3RpbWlu
Z3MpCi0JCQlkc3NkZXYtPm9wcy0+c2V0X3RpbWluZ3MoZHNzZGV2LCBhZGp1c3RlZF9tb2RlKTsK
LQl9CiB9CiAKIHN0YXRpYyB2b2lkIG9tYXBfZW5jb2Rlcl9kaXNhYmxlKHN0cnVjdCBkcm1fZW5j
b2RlciAqZW5jb2RlcikKQEAgLTEzMCwyNiArMTI1LDEwIEBAIHN0YXRpYyB2b2lkIG9tYXBfZW5j
b2Rlcl9kaXNhYmxlKHN0cnVjdCBkcm1fZW5jb2RlciAqZW5jb2RlcikKIAogCS8qCiAJICogRGlz
YWJsZSB0aGUgY2hhaW4gb2YgZXh0ZXJuYWwgZGV2aWNlcywgc3RhcnRpbmcgYXQgdGhlIG9uZSBh
dCB0aGUKLQkgKiBpbnRlcm5hbCBlbmNvZGVyJ3Mgb3V0cHV0LgorCSAqIGludGVybmFsIGVuY29k
ZXIncyBvdXRwdXQuIFRoaXMgaXMgdXNlZCBmb3IgRFNJIG91dHB1dHMgb25seSwgYXMKKwkgKiBk
c3NkZXYtPm5leHQgaXMgTlVMTCBmb3IgYWxsIG90aGVyIG91dHB1dHMuCiAJICovCiAJb21hcGRz
c19kZXZpY2VfZGlzYWJsZShkc3NkZXYtPm5leHQpOwotCi0JLyoKLQkgKiBEaXNhYmxlIHRoZSBp
bnRlcm5hbCBlbmNvZGVyLiBUaGlzIHdpbGwgZGlzYWJsZSB0aGUgRFNTIG91dHB1dC4gVGhlCi0J
ICogRFNJIGlzIHRyZWF0ZWQgYXMgYW4gZXhjZXB0aW9uIGFzIERTSSBwaXBlbGluZXMgc3RpbGwg
dXNlIHRoZSBsZWdhY3kKLQkgKiBmbG93IHdoZXJlIHRoZSBwaXBlbGluZSBvdXRwdXQgY29udHJv
bHMgdGhlIGVuY29kZXIuCi0JICovCi0JaWYgKGRzc2Rldi0+dHlwZSAhPSBPTUFQX0RJU1BMQVlf
VFlQRV9EU0kpIHsKLQkJaWYgKGRzc2Rldi0+b3BzICYmIGRzc2Rldi0+b3BzLT5kaXNhYmxlKQot
CQkJZHNzZGV2LT5vcHMtPmRpc2FibGUoZHNzZGV2KTsKLQkJZHNzZGV2LT5zdGF0ZSA9IE9NQVBf
RFNTX0RJU1BMQVlfRElTQUJMRUQ7Ci0JfQotCi0JLyoKLQkgKiBQZXJmb3JtIHRoZSBwb3N0LWRp
c2FibGUgb3BlcmF0aW9ucyBvbiB0aGUgY2hhaW4gb2YgZXh0ZXJuYWwgZGV2aWNlcwotCSAqIHRv
IGNvbXBsZXRlIHRoZSBkaXNwbGF5IHBpcGVsaW5lIGRpc2FibGUuCi0JICovCi0Jb21hcGRzc19k
ZXZpY2VfcG9zdF9kaXNhYmxlKGRzc2Rldi0+bmV4dCk7CiB9CiAKIHN0YXRpYyB2b2lkIG9tYXBf
ZW5jb2Rlcl9lbmFibGUoc3RydWN0IGRybV9lbmNvZGVyICplbmNvZGVyKQpAQCAtMTYwLDIzICsx
MzksMTAgQEAgc3RhdGljIHZvaWQgb21hcF9lbmNvZGVyX2VuYWJsZShzdHJ1Y3QgZHJtX2VuY29k
ZXIgKmVuY29kZXIpCiAKIAlkZXZfZGJnKGRldi0+ZGV2LCAiZW5hYmxlKCVzKVxuIiwgZHNzZGV2
LT5uYW1lKTsKIAotCS8qIFByZXBhcmUgdGhlIGNoYWluIG9mIGV4dGVybmFsIGRldmljZXMgZm9y
IHBpcGVsaW5lIGVuYWJsZS4gKi8KLQlvbWFwZHNzX2RldmljZV9wcmVfZW5hYmxlKGRzc2Rldi0+
bmV4dCk7Ci0KLQkvKgotCSAqIEVuYWJsZSB0aGUgaW50ZXJuYWwgZW5jb2Rlci4gVGhpcyB3aWxs
IGVuYWJsZSB0aGUgRFNTIG91dHB1dC4gVGhlCi0JICogRFNJIGlzIHRyZWF0ZWQgYXMgYW4gZXhj
ZXB0aW9uIGFzIERTSSBwaXBlbGluZXMgc3RpbGwgdXNlIHRoZSBsZWdhY3kKLQkgKiBmbG93IHdo
ZXJlIHRoZSBwaXBlbGluZSBvdXRwdXQgY29udHJvbHMgdGhlIGVuY29kZXIuCi0JICovCi0JaWYg
KGRzc2Rldi0+dHlwZSAhPSBPTUFQX0RJU1BMQVlfVFlQRV9EU0kpIHsKLQkJaWYgKGRzc2Rldi0+
b3BzICYmIGRzc2Rldi0+b3BzLT5lbmFibGUpCi0JCQlkc3NkZXYtPm9wcy0+ZW5hYmxlKGRzc2Rl
dik7Ci0JCWRzc2Rldi0+c3RhdGUgPSBPTUFQX0RTU19ESVNQTEFZX0FDVElWRTsKLQl9Ci0KIAkv
KgogCSAqIEVuYWJsZSB0aGUgY2hhaW4gb2YgZXh0ZXJuYWwgZGV2aWNlcywgc3RhcnRpbmcgYXQg
dGhlIG9uZSBhdCB0aGUKLQkgKiBpbnRlcm5hbCBlbmNvZGVyJ3Mgb3V0cHV0LgorCSAqIGludGVy
bmFsIGVuY29kZXIncyBvdXRwdXQuIFRoaXMgaXMgdXNlZCBmb3IgRFNJIG91dHB1dHMgb25seSwg
YXMKKwkgKiBkc3NkZXYtPm5leHQgaXMgTlVMTCBmb3IgYWxsIG90aGVyIG91dHB1dHMuCiAJICov
CiAJb21hcGRzc19kZXZpY2VfZW5hYmxlKGRzc2Rldi0+bmV4dCk7CiB9Ci0tIApSZWdhcmRzLAoK
TGF1cmVudCBQaW5jaGFydAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0
b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJp
LWRldmVs
