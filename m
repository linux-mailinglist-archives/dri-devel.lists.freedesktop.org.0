Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id D4E756BC07
	for <lists+dri-devel@lfdr.de>; Wed, 17 Jul 2019 13:58:51 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B12A56E14A;
	Wed, 17 Jul 2019 11:58:45 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from smtp.domeneshop.no (smtp.domeneshop.no
 [IPv6:2a01:5b40:0:3005::1])
 by gabe.freedesktop.org (Postfix) with ESMTPS id F17336E122
 for <dri-devel@lists.freedesktop.org>; Wed, 17 Jul 2019 11:58:32 +0000 (UTC)
Received: from 211.81-166-168.customer.lyse.net ([81.166.168.211]:54758
 helo=localhost.localdomain)
 by smtp.domeneshop.no with esmtpsa (TLS1.2:ECDHE_RSA_AES_128_CBC_SHA1:128)
 (Exim 4.84_2) (envelope-from <noralf@tronnes.org>)
 id 1hniZr-0007Eh-5P; Wed, 17 Jul 2019 13:58:31 +0200
From: =?UTF-8?q?Noralf=20Tr=C3=B8nnes?= <noralf@tronnes.org>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH 09/10] drm/tinydrm/mipi-dbi: Add mipi_dbi_init_with_formats()
Date: Wed, 17 Jul 2019 13:58:16 +0200
Message-Id: <20190717115817.30110-10-noralf@tronnes.org>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190717115817.30110-1-noralf@tronnes.org>
References: <20190717115817.30110-1-noralf@tronnes.org>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt;
 c=relaxed/relaxed; d=tronnes.org; s=ds201810; 
 h=Content-Transfer-Encoding:Content-Type:MIME-Version:References:In-Reply-To:Message-Id:Date:Subject:Cc:To:From;
 bh=/IaEIPFKRztmwntRmazmEkevJo1sRSgEWUNzZZcINOM=; 
 b=q1NF6PK891RvPyXzrZbXf6ZnVYqjfPJkLzKJ3wRbjJnkGjnBpSV7oMmWQnDvkg2xEm96yScCHUmhO8W8qgshMCO68nvz06culfmKPhSqk/m59TxbGQ0a1LHViVmLQQ3XghUWOUEewFnKnpx8Os0dKDYNeR+f4ES3XZEgTzDK0w+Ew7X5CsTwiUsU6vl+OudqZMvx8/YDoHBwSYHkybtTuqsttDrKV73Kh6iMcp+DovlR2YkpIPgz+U6xiGXHKxwu0RSrgOcDCXS5KgYJBt+D9PYNWnfFfPo/gSdiiIFug0++5k3X54bF+NbQuLmtMYqdD/9KggmF/EzDdC0Y0Wu1zA==;
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: david@lechnology.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIE1JUEkgREJJIHN0YW5kYXJkIHN1cHBvcnQgbW9yZSBwaXhlbCBmb3JtYXRzIHRoYW4gd2hh
dCB0aGlzIGhlbHBlcgpzdXBwb3J0cy4gQWRkIGFuIGluaXQgZnVuY3Rpb24gdGhhdCBsZXRzIHRo
ZSBkcml2ZXIgdXNlIGRpZmZlcmVudApmb3JtYXQocykuIFRoaXMgYXZvaWRzIG9wZW4gY29kaW5n
IG1pcGlfZGJpX2luaXQoKSBpbiBzdDc1ODYuCgpzdDc1ODYgc2V0cyBwcmVmZXJyZWRfZGVwdGgg
YnV0IHRoaXMgaXMgbm90IG5lY2Vzc2FyeSBzaW5jZSBpdCBvbmx5CnN1cHBvcnRzIG9uZSBmb3Jt
YXQuCgpDYzogRGF2aWQgTGVjaG5lciA8ZGF2aWRAbGVjaG5vbG9neS5jb20+ClNpZ25lZC1vZmYt
Ynk6IE5vcmFsZiBUcsO4bm5lcyA8bm9yYWxmQHRyb25uZXMub3JnPgotLS0KIGRyaXZlcnMvZ3B1
L2RybS90aW55ZHJtL21pcGktZGJpLmMgfCA5MSArKysrKysrKysrKysrKysrKysrKystLS0tLS0t
LS0KIGRyaXZlcnMvZ3B1L2RybS90aW55ZHJtL3N0NzU4Ni5jICAgfCAzMiArKy0tLS0tLS0tLQog
aW5jbHVkZS9kcm0vdGlueWRybS9taXBpLWRiaS5oICAgICB8ICA1ICsrCiAzIGZpbGVzIGNoYW5n
ZWQsIDc0IGluc2VydGlvbnMoKyksIDU0IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS90aW55ZHJtL21pcGktZGJpLmMgYi9kcml2ZXJzL2dwdS9kcm0vdGlueWRybS9t
aXBpLWRiaS5jCmluZGV4IDczZGIyODdlNWM1Mi4uYTI2NGMwYmI3NGIwIDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vdGlueWRybS9taXBpLWRiaS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS90
aW55ZHJtL21pcGktZGJpLmMKQEAgLTQxMSw2ICs0MTEsNjUgQEAgc3RhdGljIGNvbnN0IHVpbnQz
Ml90IG1pcGlfZGJpX2Zvcm1hdHNbXSA9IHsKIAlEUk1fRk9STUFUX1hSR0I4ODg4LAogfTsKIAor
LyoqCisgKiBtaXBpX2RiaV9pbml0X3dpdGhfZm9ybWF0cyAtIE1JUEkgREJJIGluaXRpYWxpemF0
aW9uIHdpdGggY3VzdG9tIGZvcm1hdHMKKyAqIEBtaXBpOiAmbWlwaV9kYmkgc3RydWN0dXJlIHRv
IGluaXRpYWxpemUKKyAqIEBmdW5jczogRGlzcGxheSBwaXBlIGZ1bmN0aW9ucworICogQGZvcm1h
dHM6IEFycmF5IG9mIHN1cHBvcnRlZCBmb3JtYXRzIChEUk1fRk9STUFUXF9cKikuCisgKiBAZm9y
bWF0X2NvdW50OiBOdW1iZXIgb2YgZWxlbWVudHMgaW4gQGZvcm1hdHMKKyAqIEBtb2RlOiBEaXNw
bGF5IG1vZGUKKyAqIEByb3RhdGlvbjogSW5pdGlhbCByb3RhdGlvbiBpbiBkZWdyZWVzIENvdW50
ZXIgQ2xvY2sgV2lzZQorICogQHR4X2J1Zl9zaXplOiBBbGxvY2F0ZSBhIHRyYW5zbWl0IGJ1ZmZl
ciBvZiB0aGlzIHNpemUuCisgKgorICogVGhpcyBmdW5jdGlvbiBzZXRzIHVwIGEgJmRybV9zaW1w
bGVfZGlzcGxheV9waXBlIHdpdGggYSAmZHJtX2Nvbm5lY3RvciB0aGF0CisgKiBoYXMgb25lIGZp
eGVkICZkcm1fZGlzcGxheV9tb2RlIHdoaWNoIGlzIHJvdGF0ZWQgYWNjb3JkaW5nIHRvIEByb3Rh
dGlvbi4KKyAqIFRoaXMgbW9kZSBpcyB1c2VkIHRvIHNldCB0aGUgbW9kZSBjb25maWcgbWluL21h
eCB3aWR0aC9oZWlnaHQgcHJvcGVydGllcy4KKyAqCisgKiBVc2UgbWlwaV9kYmlfaW5pdCgpIGlm
IHlvdSBkb24ndCBuZWVkIGN1c3RvbSBmb3JtYXRzLgorICoKKyAqIE5vdGU6CisgKiBTb21lIG9m
IHRoZSBoZWxwZXIgZnVuY3Rpb25zIGV4cGVjdHMgUkdCNTY1IHRvIGJlIHRoZSBkZWZhdWx0IGZv
cm1hdCBhbmQgdGhlCisgKiB0cmFuc21pdCBidWZmZXIgc2l6ZWQgdG8gZml0IHRoYXQuCisgKgor
ICogUmV0dXJuczoKKyAqIFplcm8gb24gc3VjY2VzcywgbmVnYXRpdmUgZXJyb3IgY29kZSBvbiBm
YWlsdXJlLgorICovCitpbnQgbWlwaV9kYmlfaW5pdF93aXRoX2Zvcm1hdHMoc3RydWN0IG1pcGlf
ZGJpICptaXBpLAorCQkJICAgICAgIGNvbnN0IHN0cnVjdCBkcm1fc2ltcGxlX2Rpc3BsYXlfcGlw
ZV9mdW5jcyAqZnVuY3MsCisJCQkgICAgICAgY29uc3QgdWludDMyX3QgKmZvcm1hdHMsIHVuc2ln
bmVkIGludCBmb3JtYXRfY291bnQsCisJCQkgICAgICAgY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5
X21vZGUgKm1vZGUsCisJCQkgICAgICAgdW5zaWduZWQgaW50IHJvdGF0aW9uLCBzaXplX3QgdHhf
YnVmX3NpemUpCit7CisJc3RydWN0IGRybV9kZXZpY2UgKmRybSA9ICZtaXBpLT5kcm07CisJaW50
IHJldDsKKworCWlmICghbWlwaS0+Y29tbWFuZCkKKwkJcmV0dXJuIC1FSU5WQUw7CisKKwltdXRl
eF9pbml0KCZtaXBpLT5jbWRsb2NrKTsKKworCW1pcGktPnR4X2J1ZiA9IGRldm1fa21hbGxvYyhk
cm0tPmRldiwgdHhfYnVmX3NpemUsIEdGUF9LRVJORUwpOworCWlmICghbWlwaS0+dHhfYnVmKQor
CQlyZXR1cm4gLUVOT01FTTsKKworCXJldCA9IHRpbnlkcm1fZGlzcGxheV9waXBlX2luaXQoZHJt
LCAmbWlwaS0+cGlwZSwgZnVuY3MsCisJCQkJCURSTV9NT0RFX0NPTk5FQ1RPUl9TUEksCisJCQkJ
CWZvcm1hdHMsIGZvcm1hdF9jb3VudCwgbW9kZSwKKwkJCQkJcm90YXRpb24pOworCWlmIChyZXQp
CisJCXJldHVybiByZXQ7CisKKwlkcm1fcGxhbmVfZW5hYmxlX2ZiX2RhbWFnZV9jbGlwcygmbWlw
aS0+cGlwZS5wbGFuZSk7CisKKwlkcm0tPm1vZGVfY29uZmlnLmZ1bmNzID0gJm1pcGlfZGJpX21v
ZGVfY29uZmlnX2Z1bmNzOworCW1pcGktPnJvdGF0aW9uID0gcm90YXRpb247CisKKwlEUk1fREVC
VUdfS01TKCJyb3RhdGlvbiA9ICV1XG4iLCByb3RhdGlvbik7CisKKwlyZXR1cm4gMDsKK30KK0VY
UE9SVF9TWU1CT0wobWlwaV9kYmlfaW5pdF93aXRoX2Zvcm1hdHMpOworCiAvKioKICAqIG1pcGlf
ZGJpX2luaXQgLSBNSVBJIERCSSBpbml0aWFsaXphdGlvbgogICogQG1pcGk6ICZtaXBpX2RiaSBz
dHJ1Y3R1cmUgdG8gaW5pdGlhbGl6ZQpAQCAtNDMzLDM2ICs0OTIsMTIgQEAgaW50IG1pcGlfZGJp
X2luaXQoc3RydWN0IG1pcGlfZGJpICptaXBpLAogCQkgIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxh
eV9tb2RlICptb2RlLCB1bnNpZ25lZCBpbnQgcm90YXRpb24pCiB7CiAJc2l6ZV90IGJ1ZnNpemUg
PSBtb2RlLT52ZGlzcGxheSAqIG1vZGUtPmhkaXNwbGF5ICogc2l6ZW9mKHUxNik7Ci0Jc3RydWN0
IGRybV9kZXZpY2UgKmRybSA9ICZtaXBpLT5kcm07Ci0JaW50IHJldDsKIAotCWlmICghbWlwaS0+
Y29tbWFuZCkKLQkJcmV0dXJuIC1FSU5WQUw7CisJbWlwaS0+ZHJtLm1vZGVfY29uZmlnLnByZWZl
cnJlZF9kZXB0aCA9IDE2OwogCi0JbXV0ZXhfaW5pdCgmbWlwaS0+Y21kbG9jayk7Ci0KLQltaXBp
LT50eF9idWYgPSBkZXZtX2ttYWxsb2MoZHJtLT5kZXYsIGJ1ZnNpemUsIEdGUF9LRVJORUwpOwot
CWlmICghbWlwaS0+dHhfYnVmKQotCQlyZXR1cm4gLUVOT01FTTsKLQotCXJldCA9IHRpbnlkcm1f
ZGlzcGxheV9waXBlX2luaXQoZHJtLCAmbWlwaS0+cGlwZSwgZnVuY3MsCi0JCQkJCURSTV9NT0RF
X0NPTk5FQ1RPUl9TUEksCi0JCQkJCW1pcGlfZGJpX2Zvcm1hdHMsCi0JCQkJCUFSUkFZX1NJWkUo
bWlwaV9kYmlfZm9ybWF0cyksIG1vZGUsCi0JCQkJCXJvdGF0aW9uKTsKLQlpZiAocmV0KQotCQly
ZXR1cm4gcmV0OwotCi0JZHJtX3BsYW5lX2VuYWJsZV9mYl9kYW1hZ2VfY2xpcHMoJm1pcGktPnBp
cGUucGxhbmUpOwotCi0JZHJtLT5tb2RlX2NvbmZpZy5mdW5jcyA9ICZtaXBpX2RiaV9tb2RlX2Nv
bmZpZ19mdW5jczsKLQlkcm0tPm1vZGVfY29uZmlnLnByZWZlcnJlZF9kZXB0aCA9IDE2OwotCW1p
cGktPnJvdGF0aW9uID0gcm90YXRpb247Ci0KLQlEUk1fREVCVUdfS01TKCJwcmVmZXJyZWRfZGVw
dGg9JXUsIHJvdGF0aW9uID0gJXVcbiIsCi0JCSAgICAgIGRybS0+bW9kZV9jb25maWcucHJlZmVy
cmVkX2RlcHRoLCByb3RhdGlvbik7Ci0KLQlyZXR1cm4gMDsKKwlyZXR1cm4gbWlwaV9kYmlfaW5p
dF93aXRoX2Zvcm1hdHMobWlwaSwgZnVuY3MsIG1pcGlfZGJpX2Zvcm1hdHMsCisJCQkJCSAgQVJS
QVlfU0laRShtaXBpX2RiaV9mb3JtYXRzKSwgbW9kZSwKKwkJCQkJICByb3RhdGlvbiwgYnVmc2l6
ZSk7CiB9CiBFWFBPUlRfU1lNQk9MKG1pcGlfZGJpX2luaXQpOwogCmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vdGlueWRybS9zdDc1ODYuYyBiL2RyaXZlcnMvZ3B1L2RybS90aW55ZHJtL3N0
NzU4Ni5jCmluZGV4IDdhZTM5MDA0YWE4OC4uNjUwY2E4ZDQ3MzJlIDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vdGlueWRybS9zdDc1ODYuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vdGlueWRy
bS9zdDc1ODYuYwpAQCAtMjQsNyArMjQsNiBAQAogI2luY2x1ZGUgPGRybS9kcm1fcmVjdC5oPgog
I2luY2x1ZGUgPGRybS9kcm1fdmJsYW5rLmg+CiAjaW5jbHVkZSA8ZHJtL3Rpbnlkcm0vbWlwaS1k
YmkuaD4KLSNpbmNsdWRlIDxkcm0vdGlueWRybS90aW55ZHJtLWhlbHBlcnMuaD4KIAogLyogY29u
dHJvbGxlci1zcGVjaWZpYyBjb21tYW5kcyAqLwogI2RlZmluZSBTVDc1ODZfRElTUF9NT0RFX0dS
QVkJMHgzOApAQCAtMjgzLDEyICsyODIsNiBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9zaW1w
bGVfZGlzcGxheV9waXBlX2Z1bmNzIHN0NzU4Nl9waXBlX2Z1bmNzID0gewogCS5wcmVwYXJlX2Zi
CT0gZHJtX2dlbV9mYl9zaW1wbGVfZGlzcGxheV9waXBlX3ByZXBhcmVfZmIsCiB9OwogCi1zdGF0
aWMgY29uc3Qgc3RydWN0IGRybV9tb2RlX2NvbmZpZ19mdW5jcyBzdDc1ODZfbW9kZV9jb25maWdf
ZnVuY3MgPSB7Ci0JLmZiX2NyZWF0ZSA9IGRybV9nZW1fZmJfY3JlYXRlX3dpdGhfZGlydHksCi0J
LmF0b21pY19jaGVjayA9IGRybV9hdG9taWNfaGVscGVyX2NoZWNrLAotCS5hdG9taWNfY29tbWl0
ID0gZHJtX2F0b21pY19oZWxwZXJfY29tbWl0LAotfTsKLQogc3RhdGljIGNvbnN0IHN0cnVjdCBk
cm1fZGlzcGxheV9tb2RlIHN0NzU4Nl9tb2RlID0gewogCURSTV9TSU1QTEVfTU9ERSgxNzgsIDEy
OCwgMzcsIDI3KSwKIH07CkBAIC0zNDIsMTUgKzMzNSw4IEBAIHN0YXRpYyBpbnQgc3Q3NTg2X3By
b2JlKHN0cnVjdCBzcGlfZGV2aWNlICpzcGkpCiAJfQogCiAJZHJtX21vZGVfY29uZmlnX2luaXQo
ZHJtKTsKLQlkcm0tPm1vZGVfY29uZmlnLnByZWZlcnJlZF9kZXB0aCA9IDMyOwotCWRybS0+bW9k
ZV9jb25maWcuZnVuY3MgPSAmc3Q3NTg2X21vZGVfY29uZmlnX2Z1bmNzOwotCi0JbXV0ZXhfaW5p
dCgmbWlwaS0+Y21kbG9jayk7CiAKIAlidWZzaXplID0gKHN0NzU4Nl9tb2RlLnZkaXNwbGF5ICsg
MikgLyAzICogc3Q3NTg2X21vZGUuaGRpc3BsYXk7Ci0JbWlwaS0+dHhfYnVmID0gZGV2bV9rbWFs
bG9jKGRldiwgYnVmc2l6ZSwgR0ZQX0tFUk5FTCk7Ci0JaWYgKCFtaXBpLT50eF9idWYpCi0JCXJl
dHVybiAtRU5PTUVNOwogCiAJbWlwaS0+cmVzZXQgPSBkZXZtX2dwaW9kX2dldChkZXYsICJyZXNl
dCIsIEdQSU9EX09VVF9ISUdIKTsKIAlpZiAoSVNfRVJSKG1pcGktPnJlc2V0KSkgewpAQCAtMzc0
LDYgKzM2MCwxMiBAQCBzdGF0aWMgaW50IHN0NzU4Nl9wcm9iZShzdHJ1Y3Qgc3BpX2RldmljZSAq
c3BpKQogCS8qIENhbm5vdCByZWFkIGZyb20gdGhpcyBjb250cm9sbGVyIHZpYSBTUEkgKi8KIAlt
aXBpLT5yZWFkX2NvbW1hbmRzID0gTlVMTDsKIAorCXJldCA9IG1pcGlfZGJpX2luaXRfd2l0aF9m
b3JtYXRzKG1pcGksICZzdDc1ODZfcGlwZV9mdW5jcywKKwkJCQkJIHN0NzU4Nl9mb3JtYXRzLCBB
UlJBWV9TSVpFKHN0NzU4Nl9mb3JtYXRzKSwKKwkJCQkJICZzdDc1ODZfbW9kZSwgcm90YXRpb24s
IGJ1ZnNpemUpOworCWlmIChyZXQpCisJCXJldHVybiByZXQ7CisKIAkvKgogCSAqIHdlIGFyZSB1
c2luZyA4LWJpdCBkYXRhLCBzbyB3ZSBhcmUgbm90IGFjdHVhbGx5IHN3YXBwaW5nIGFueXRoaW5n
LAogCSAqIGJ1dCBzZXR0aW5nIG1pcGktPnN3YXBfYnl0ZXMgbWFrZXMgbWlwaV9kYmlfdHlwZWMz
X2NvbW1hbmQoKSBkbyB0aGUKQEAgLTM4MywxNSArMzc1LDYgQEAgc3RhdGljIGludCBzdDc1ODZf
cHJvYmUoc3RydWN0IHNwaV9kZXZpY2UgKnNwaSkKIAkgKi8KIAltaXBpLT5zd2FwX2J5dGVzID0g
dHJ1ZTsKIAotCXJldCA9IHRpbnlkcm1fZGlzcGxheV9waXBlX2luaXQoZHJtLCAmbWlwaS0+cGlw
ZSwgJnN0NzU4Nl9waXBlX2Z1bmNzLAotCQkJCQlEUk1fTU9ERV9DT05ORUNUT1JfU1BJLAotCQkJ
CQlzdDc1ODZfZm9ybWF0cywgQVJSQVlfU0laRShzdDc1ODZfZm9ybWF0cyksCi0JCQkJCSZzdDc1
ODZfbW9kZSwgcm90YXRpb24pOwotCWlmIChyZXQpCi0JCXJldHVybiByZXQ7Ci0KLQlkcm1fcGxh
bmVfZW5hYmxlX2ZiX2RhbWFnZV9jbGlwcygmbWlwaS0+cGlwZS5wbGFuZSk7Ci0KIAlkcm1fbW9k
ZV9jb25maWdfcmVzZXQoZHJtKTsKIAogCXJldCA9IGRybV9kZXZfcmVnaXN0ZXIoZHJtLCAwKTsK
QEAgLTQwMCw5ICszODMsNiBAQCBzdGF0aWMgaW50IHN0NzU4Nl9wcm9iZShzdHJ1Y3Qgc3BpX2Rl
dmljZSAqc3BpKQogCiAJc3BpX3NldF9kcnZkYXRhKHNwaSwgZHJtKTsKIAotCURSTV9ERUJVR19L
TVMoInByZWZlcnJlZF9kZXB0aD0ldSwgcm90YXRpb24gPSAldVxuIiwKLQkJICAgICAgZHJtLT5t
b2RlX2NvbmZpZy5wcmVmZXJyZWRfZGVwdGgsIHJvdGF0aW9uKTsKLQogCWRybV9mYmRldl9nZW5l
cmljX3NldHVwKGRybSwgMCk7CiAKIAlyZXR1cm4gMDsKZGlmZiAtLWdpdCBhL2luY2x1ZGUvZHJt
L3Rpbnlkcm0vbWlwaS1kYmkuaCBiL2luY2x1ZGUvZHJtL3Rpbnlkcm0vbWlwaS1kYmkuaAppbmRl
eCA1NzZlOWE3MzQ5YWIuLjJmMDExOWUyYzQ3ZSAxMDA2NDQKLS0tIGEvaW5jbHVkZS9kcm0vdGlu
eWRybS9taXBpLWRiaS5oCisrKyBiL2luY2x1ZGUvZHJtL3Rpbnlkcm0vbWlwaS1kYmkuaApAQCAt
NjcsNiArNjcsMTEgQEAgc3RhdGljIGlubGluZSBzdHJ1Y3QgbWlwaV9kYmkgKmRybV90b19taXBp
X2RiaShzdHJ1Y3QgZHJtX2RldmljZSAqZHJtKQogCXJldHVybiBjb250YWluZXJfb2YoZHJtLCBz
dHJ1Y3QgbWlwaV9kYmksIGRybSk7CiB9CiAKK2ludCBtaXBpX2RiaV9pbml0X3dpdGhfZm9ybWF0
cyhzdHJ1Y3QgbWlwaV9kYmkgKm1pcGksCisJCQkgICAgICAgY29uc3Qgc3RydWN0IGRybV9zaW1w
bGVfZGlzcGxheV9waXBlX2Z1bmNzICpmdW5jcywKKwkJCSAgICAgICBjb25zdCB1aW50MzJfdCAq
Zm9ybWF0cywgdW5zaWduZWQgaW50IGZvcm1hdF9jb3VudCwKKwkJCSAgICAgICBjb25zdCBzdHJ1
Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZSwKKwkJCSAgICAgICB1bnNpZ25lZCBpbnQgcm90YXRp
b24sIHNpemVfdCB0eF9idWZfc2l6ZSk7CiBpbnQgbWlwaV9kYmlfaW5pdChzdHJ1Y3QgbWlwaV9k
YmkgKm1pcGksCiAJCSAgY29uc3Qgc3RydWN0IGRybV9zaW1wbGVfZGlzcGxheV9waXBlX2Z1bmNz
ICpmdW5jcywKIAkJICBjb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZSwgdW5zaWdu
ZWQgaW50IHJvdGF0aW9uKTsKLS0gCjIuMjAuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vZHJpLWRldmVs
