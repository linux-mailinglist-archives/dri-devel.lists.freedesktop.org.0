Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 6B4E0BD0DE
	for <lists+dri-devel@lfdr.de>; Tue, 24 Sep 2019 19:46:07 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C25146EAD2;
	Tue, 24 Sep 2019 17:46:04 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wm1-x343.google.com (mail-wm1-x343.google.com
 [IPv6:2a00:1450:4864:20::343])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 225F66EAD0;
 Tue, 24 Sep 2019 17:46:03 +0000 (UTC)
Received: by mail-wm1-x343.google.com with SMTP id 7so1142446wme.1;
 Tue, 24 Sep 2019 10:46:03 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=nXgvygU7DyOPF6B+1/zAOpv/nIRBjA/YZmmHmC6M4vY=;
 b=qV7bzZbhmWrFtMChZ/F2b8CsSQbTJQg2FOjHLXEMcMpF4aA3cf/jqE+u+xnrk1PDJd
 VCmOfAd8n1hNdcuby33vrvGJNdhh7Txp/IRh8bbh78nvZhIdLrtiHff4FIbEebWPP0yZ
 xKn3QoGip0OBQTGy1LBh0m0UYBkvmHTURNUskXNabHnvluu3DOAd6zXjeXbjRwmBmG9z
 m61KudiI3UBeE84Cg1Epj+GSYbNjmQYNlDQVkImgXPz9rNVrUulGlh3FIGOht1MhAoNP
 wWzpJlHAnCDrTzCs/HrZonZ89B7GBPREBPaPPSApEPwJe4PI9KV1s5krs5x8P0i1TQ+C
 vdaQ==
X-Gm-Message-State: APjAAAW3m1cddTqMNkl8DruOj8T1lkVxKrJG0z1+T0HV+nAZjbC+pYxf
 g5moxUStaammVwKuKqM2SnhM56UjG4rZEa90vZE=
X-Google-Smtp-Source: APXvYqyWDNMfT3aUjf6Hp3jEhHuRr44j2aL12VQdw/xzHb80qkRHHwlGuI/OMpmqPGycZtSdrmCi+zpNgqXTdsvsfdE=
X-Received: by 2002:a1c:1a45:: with SMTP id a66mr1405944wma.102.1569347161539; 
 Tue, 24 Sep 2019 10:46:01 -0700 (PDT)
MIME-Version: 1.0
References: <cover.1569329774.git.jani.nikula@intel.com>
 <4829bf92dd2a5630ebdf22682517de1f89b81ad0.1569329774.git.jani.nikula@intel.com>
In-Reply-To: <4829bf92dd2a5630ebdf22682517de1f89b81ad0.1569329774.git.jani.nikula@intel.com>
From: Alex Deucher <alexdeucher@gmail.com>
Date: Tue, 24 Sep 2019 13:45:49 -0400
Message-ID: <CADnq5_PrzZ62V+D843338kU5da3gDSvkRB35GaUHBvf_HTYoZg@mail.gmail.com>
Subject: Re: [PATCH v2 2/9] drm/print: add drm_debug_enabled()
To: Jani Nikula <jani.nikula@intel.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=nXgvygU7DyOPF6B+1/zAOpv/nIRBjA/YZmmHmC6M4vY=;
 b=kHM0pR65i0ZkNt57Vy7QaABda58dcGSRbQtl5yPfmFKcBjai2CThev5qifLNx0nj1H
 oDpyawQFf9exEaYVmfS5pgueH3hxkXStlbl9rvHcyXck510IZtVr/+RvdLNXWqYmgiuH
 3/N/zdqprDklTG6TveuRnzueF2MzUHRodbcndwhemufLb2BP19V+1GrfFVojZsO5iPvz
 F2CbMbbqj6o409OylQc8TqOMuuNjtd1RUM4PPZy+GfH0fFuPGeu8DVq/PsWXk4sXXWen
 mAi7o8cIWuYTGR6iXxW5hFTFC1M7LXV5uQ8DEfq4AYaSukPraqRe2yyN4W7Gy6wxVurD
 KG2Q==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Intel Graphics Development <intel-gfx@lists.freedesktop.org>,
 Maling list - DRI developers <dri-devel@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVHVlLCBTZXAgMjQsIDIwMTkgYXQgODo1OSBBTSBKYW5pIE5pa3VsYSA8amFuaS5uaWt1bGFA
aW50ZWwuY29tPiB3cm90ZToKPgo+IEFkZCBoZWxwZXIgdG8gY2hlY2sgaWYgYSBkcm0gZGVidWcg
Y2F0ZWdvcnkgaXMgZW5hYmxlZC4gQ29udmVydCBkcm0gY29yZQo+IHRvIHVzZSBpdC4gTm8gZnVu
Y3Rpb25hbCBjaGFuZ2VzLgo+Cj4gdjI6IE1vdmUgdW5saWtlbHkoKSB0byBkcm1fZGVidWdfZW5h
YmxlZCgpIChFcmljKQo+Cj4gU2lnbmVkLW9mZi1ieTogSmFuaSBOaWt1bGEgPGphbmkubmlrdWxh
QGludGVsLmNvbT4KCkFja2VkLWJ5OiBBbGV4IERldWNoZXIgPGFsZXhhbmRlci5kZXVjaGVyQGFt
ZC5jb20+Cgo+IC0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vZHJtX2F0b21pY191YXBpLmMgICAgIHwg
MiArLQo+ICBkcml2ZXJzL2dwdS9kcm0vZHJtX2RwX21zdF90b3BvbG9neS5jIHwgNiArKystLS0K
PiAgZHJpdmVycy9ncHUvZHJtL2RybV9lZGlkLmMgICAgICAgICAgICB8IDIgKy0KPiAgZHJpdmVy
cy9ncHUvZHJtL2RybV9lZGlkX2xvYWQuYyAgICAgICB8IDIgKy0KPiAgZHJpdmVycy9ncHUvZHJt
L2RybV9taXBpX2RiaS5jICAgICAgICB8IDQgKystLQo+ICBkcml2ZXJzL2dwdS9kcm0vZHJtX3By
aW50LmMgICAgICAgICAgIHwgNCArKy0tCj4gIGRyaXZlcnMvZ3B1L2RybS9kcm1fdmJsYW5rLmMg
ICAgICAgICAgfCA2ICsrKy0tLQo+ICBpbmNsdWRlL2RybS9kcm1fcHJpbnQuaCAgICAgICAgICAg
ICAgIHwgNSArKysrKwo+ICA4IGZpbGVzIGNoYW5nZWQsIDE4IGluc2VydGlvbnMoKyksIDEzIGRl
bGV0aW9ucygtKQo+Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fYXRvbWljX3Vh
cGkuYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fYXRvbWljX3VhcGkuYwo+IGluZGV4IDdhMjZiZmI1
MzI5Yy4uMGQ0NjZkM2IwODA5IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fYXRv
bWljX3VhcGkuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fYXRvbWljX3VhcGkuYwo+IEBA
IC0xNDA1LDcgKzE0MDUsNyBAQCBpbnQgZHJtX21vZGVfYXRvbWljX2lvY3RsKHN0cnVjdCBkcm1f
ZGV2aWNlICpkZXYsCj4gICAgICAgICB9IGVsc2UgaWYgKGFyZy0+ZmxhZ3MgJiBEUk1fTU9ERV9B
VE9NSUNfTk9OQkxPQ0spIHsKPiAgICAgICAgICAgICAgICAgcmV0ID0gZHJtX2F0b21pY19ub25i
bG9ja2luZ19jb21taXQoc3RhdGUpOwo+ICAgICAgICAgfSBlbHNlIHsKPiAtICAgICAgICAgICAg
ICAgaWYgKHVubGlrZWx5KGRybV9kZWJ1ZyAmIERSTV9VVF9TVEFURSkpCj4gKyAgICAgICAgICAg
ICAgIGlmIChkcm1fZGVidWdfZW5hYmxlZChEUk1fVVRfU1RBVEUpKQo+ICAgICAgICAgICAgICAg
ICAgICAgICAgIGRybV9hdG9taWNfcHJpbnRfc3RhdGUoc3RhdGUpOwo+Cj4gICAgICAgICAgICAg
ICAgIHJldCA9IGRybV9hdG9taWNfY29tbWl0KHN0YXRlKTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2RybV9kcF9tc3RfdG9wb2xvZ3kuYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fZHBf
bXN0X3RvcG9sb2d5LmMKPiBpbmRleCA5NzIxNjA5OWE3MTguLjViNDFkYzE2NzgxNiAxMDA2NDQK
PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vZHJtX2RwX21zdF90b3BvbG9neS5jCj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL2RybV9kcF9tc3RfdG9wb2xvZ3kuYwo+IEBAIC0xMTgwLDcgKzExODAsNyBA
QCBzdGF0aWMgaW50IGRybV9kcF9tc3Rfd2FpdF90eF9yZXBseShzdHJ1Y3QgZHJtX2RwX21zdF9i
cmFuY2ggKm1zdGIsCj4gICAgICAgICAgICAgICAgIH0KPiAgICAgICAgIH0KPiAgb3V0Ogo+IC0g
ICAgICAgaWYgKHVubGlrZWx5KHJldCA9PSAtRUlPICYmIGRybV9kZWJ1ZyAmIERSTV9VVF9EUCkp
IHsKPiArICAgICAgIGlmIChyZXQgPT0gLUVJTyAmJiBkcm1fZGVidWdfZW5hYmxlZChEUk1fVVRf
RFApKSB7Cj4gICAgICAgICAgICAgICAgIHN0cnVjdCBkcm1fcHJpbnRlciBwID0gZHJtX2RlYnVn
X3ByaW50ZXIoREJHX1BSRUZJWCk7Cj4KPiAgICAgICAgICAgICAgICAgZHJtX2RwX21zdF9kdW1w
X3NpZGViYW5kX21zZ190eCgmcCwgdHhtc2cpOwo+IEBAIC0yMzIxLDcgKzIzMjEsNyBAQCBzdGF0
aWMgaW50IHByb2Nlc3Nfc2luZ2xlX3R4X3Fsb2NrKHN0cnVjdCBkcm1fZHBfbXN0X3RvcG9sb2d5
X21nciAqbWdyLAo+ICAgICAgICAgaWR4ICs9IHRvc2VuZCArIDE7Cj4KPiAgICAgICAgIHJldCA9
IGRybV9kcF9zZW5kX3NpZGViYW5kX21zZyhtZ3IsIHVwLCBjaHVuaywgaWR4KTsKPiAtICAgICAg
IGlmICh1bmxpa2VseShyZXQgJiYgZHJtX2RlYnVnICYgRFJNX1VUX0RQKSkgewo+ICsgICAgICAg
aWYgKHJldCAmJiBkcm1fZGVidWdfZW5hYmxlZChEUk1fVVRfRFApKSB7Cj4gICAgICAgICAgICAg
ICAgIHN0cnVjdCBkcm1fcHJpbnRlciBwID0gZHJtX2RlYnVnX3ByaW50ZXIoREJHX1BSRUZJWCk7
Cj4KPiAgICAgICAgICAgICAgICAgZHJtX3ByaW50ZigmcCwgInNpZGViYW5kIG1zZyBmYWlsZWQg
dG8gc2VuZFxuIik7Cj4gQEAgLTIzODgsNyArMjM4OCw3IEBAIHN0YXRpYyB2b2lkIGRybV9kcF9x
dWV1ZV9kb3duX3R4KHN0cnVjdCBkcm1fZHBfbXN0X3RvcG9sb2d5X21nciAqbWdyLAo+ICAgICAg
ICAgbXV0ZXhfbG9jaygmbWdyLT5xbG9jayk7Cj4gICAgICAgICBsaXN0X2FkZF90YWlsKCZ0eG1z
Zy0+bmV4dCwgJm1nci0+dHhfbXNnX2Rvd25xKTsKPgo+IC0gICAgICAgaWYgKHVubGlrZWx5KGRy
bV9kZWJ1ZyAmIERSTV9VVF9EUCkpIHsKPiArICAgICAgIGlmIChkcm1fZGVidWdfZW5hYmxlZChE
Uk1fVVRfRFApKSB7Cj4gICAgICAgICAgICAgICAgIHN0cnVjdCBkcm1fcHJpbnRlciBwID0gZHJt
X2RlYnVnX3ByaW50ZXIoREJHX1BSRUZJWCk7Cj4KPiAgICAgICAgICAgICAgICAgZHJtX2RwX21z
dF9kdW1wX3NpZGViYW5kX21zZ190eCgmcCwgdHhtc2cpOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vZHJtX2VkaWQuYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fZWRpZC5jCj4gaW5kZXgg
M2M5NzAzYjA4NDkxLi4wNTUyMTc1MzEzY2IgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2RybV9lZGlkLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2VkaWQuYwo+IEBAIC0xNjUx
LDcgKzE2NTEsNyBAQCBzdGF0aWMgdm9pZCBjb25uZWN0b3JfYmFkX2VkaWQoc3RydWN0IGRybV9j
b25uZWN0b3IgKmNvbm5lY3RvciwKPiAgewo+ICAgICAgICAgaW50IGk7Cj4KPiAtICAgICAgIGlm
IChjb25uZWN0b3ItPmJhZF9lZGlkX2NvdW50ZXIrKyAmJiAhKGRybV9kZWJ1ZyAmIERSTV9VVF9L
TVMpKQo+ICsgICAgICAgaWYgKGNvbm5lY3Rvci0+YmFkX2VkaWRfY291bnRlcisrICYmICFkcm1f
ZGVidWdfZW5hYmxlZChEUk1fVVRfS01TKSkKPiAgICAgICAgICAgICAgICAgcmV0dXJuOwo+Cj4g
ICAgICAgICBkZXZfd2Fybihjb25uZWN0b3ItPmRldi0+ZGV2LAo+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vZHJtX2VkaWRfbG9hZC5jIGIvZHJpdmVycy9ncHUvZHJtL2RybV9lZGlkX2xv
YWQuYwo+IGluZGV4IGQzOGIzYjI1NTkyNi4uMzdkOGJhM2RkYjQ2IDEwMDY0NAo+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9kcm1fZWRpZF9sb2FkLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vZHJt
X2VkaWRfbG9hZC5jCj4gQEAgLTE3NSw3ICsxNzUsNyBAQCBzdGF0aWMgdm9pZCAqZWRpZF9sb2Fk
KHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IsIGNvbnN0IGNoYXIgKm5hbWUsCj4gICAg
ICAgICB1OCAqZWRpZDsKPiAgICAgICAgIGludCBmd3NpemUsIGJ1aWx0aW47Cj4gICAgICAgICBp
bnQgaSwgdmFsaWRfZXh0ZW5zaW9ucyA9IDA7Cj4gLSAgICAgICBib29sIHByaW50X2JhZF9lZGlk
ID0gIWNvbm5lY3Rvci0+YmFkX2VkaWRfY291bnRlciB8fCAoZHJtX2RlYnVnICYgRFJNX1VUX0tN
Uyk7Cj4gKyAgICAgICBib29sIHByaW50X2JhZF9lZGlkID0gIWNvbm5lY3Rvci0+YmFkX2VkaWRf
Y291bnRlciB8fCBkcm1fZGVidWdfZW5hYmxlZChEUk1fVVRfS01TKTsKPgo+ICAgICAgICAgYnVp
bHRpbiA9IG1hdGNoX3N0cmluZyhnZW5lcmljX2VkaWRfbmFtZSwgR0VORVJJQ19FRElEUywgbmFt
ZSk7Cj4gICAgICAgICBpZiAoYnVpbHRpbiA+PSAwKSB7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9kcm1fbWlwaV9kYmkuYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fbWlwaV9kYmkuYwo+
IGluZGV4IGY4MTU0MzE2YTNiMC4uY2NmYjViMzNjNWUzIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9kcm1fbWlwaV9kYmkuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fbWlwaV9k
YmkuYwo+IEBAIC03ODMsNyArNzgzLDcgQEAgc3RhdGljIGludCBtaXBpX2RiaV9zcGkxZV90cmFu
c2ZlcihzdHJ1Y3QgbWlwaV9kYmkgKmRiaSwgaW50IGRjLAo+ICAgICAgICAgaW50IGksIHJldDsK
PiAgICAgICAgIHU4ICpkc3Q7Cj4KPiAtICAgICAgIGlmIChkcm1fZGVidWcgJiBEUk1fVVRfRFJJ
VkVSKQo+ICsgICAgICAgaWYgKGRybV9kZWJ1Z19lbmFibGVkKERSTV9VVF9EUklWRVIpKQo+ICAg
ICAgICAgICAgICAgICBwcl9kZWJ1ZygiW2RybTolc10gZGM9JWQsIG1heF9jaHVuaz0lenUsIHRy
YW5zZmVyczpcbiIsCj4gICAgICAgICAgICAgICAgICAgICAgICAgIF9fZnVuY19fLCBkYywgbWF4
X2NodW5rKTsKPgo+IEBAIC05MDcsNyArOTA3LDcgQEAgc3RhdGljIGludCBtaXBpX2RiaV9zcGkx
X3RyYW5zZmVyKHN0cnVjdCBtaXBpX2RiaSAqZGJpLCBpbnQgZGMsCj4gICAgICAgICBtYXhfY2h1
bmsgPSBkYmktPnR4X2J1ZjlfbGVuOwo+ICAgICAgICAgZHN0MTYgPSBkYmktPnR4X2J1Zjk7Cj4K
PiAtICAgICAgIGlmIChkcm1fZGVidWcgJiBEUk1fVVRfRFJJVkVSKQo+ICsgICAgICAgaWYgKGRy
bV9kZWJ1Z19lbmFibGVkKERSTV9VVF9EUklWRVIpKQo+ICAgICAgICAgICAgICAgICBwcl9kZWJ1
ZygiW2RybTolc10gZGM9JWQsIG1heF9jaHVuaz0lenUsIHRyYW5zZmVyczpcbiIsCj4gICAgICAg
ICAgICAgICAgICAgICAgICAgIF9fZnVuY19fLCBkYywgbWF4X2NodW5rKTsKPgo+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vZHJtX3ByaW50LmMgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX3By
aW50LmMKPiBpbmRleCBjOWI1NzAxMmQ0MTIuLmE3Yzg5ZWM1ZmYyNiAxMDA2NDQKPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vZHJtX3ByaW50LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX3By
aW50LmMKPiBAQCAtMjY0LDcgKzI2NCw3IEBAIHZvaWQgZHJtX2Rldl9kYmcoY29uc3Qgc3RydWN0
IGRldmljZSAqZGV2LCB1bnNpZ25lZCBpbnQgY2F0ZWdvcnksCj4gICAgICAgICBzdHJ1Y3QgdmFf
Zm9ybWF0IHZhZjsKPiAgICAgICAgIHZhX2xpc3QgYXJnczsKPgo+IC0gICAgICAgaWYgKCEoZHJt
X2RlYnVnICYgY2F0ZWdvcnkpKQo+ICsgICAgICAgaWYgKCFkcm1fZGVidWdfZW5hYmxlZChjYXRl
Z29yeSkpCj4gICAgICAgICAgICAgICAgIHJldHVybjsKPgo+ICAgICAgICAgdmFfc3RhcnQoYXJn
cywgZm9ybWF0KTsKPiBAQCAtMjg3LDcgKzI4Nyw3IEBAIHZvaWQgZHJtX2RiZyh1bnNpZ25lZCBp
bnQgY2F0ZWdvcnksIGNvbnN0IGNoYXIgKmZvcm1hdCwgLi4uKQo+ICAgICAgICAgc3RydWN0IHZh
X2Zvcm1hdCB2YWY7Cj4gICAgICAgICB2YV9saXN0IGFyZ3M7Cj4KPiAtICAgICAgIGlmICghKGRy
bV9kZWJ1ZyAmIGNhdGVnb3J5KSkKPiArICAgICAgIGlmICghZHJtX2RlYnVnX2VuYWJsZWQoY2F0
ZWdvcnkpKQo+ICAgICAgICAgICAgICAgICByZXR1cm47Cj4KPiAgICAgICAgIHZhX3N0YXJ0KGFy
Z3MsIGZvcm1hdCk7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fdmJsYW5rLmMg
Yi9kcml2ZXJzL2dwdS9kcm0vZHJtX3ZibGFuay5jCj4gaW5kZXggOWM2ODk5NzU4YmM5Li40Zjc5
NjJiNjQyN2IgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2RybV92YmxhbmsuYwo+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fdmJsYW5rLmMKPiBAQCAtMzMyLDcgKzMzMiw3IEBAIHU2
NCBkcm1fY3J0Y19hY2N1cmF0ZV92YmxhbmtfY291bnQoc3RydWN0IGRybV9jcnRjICpjcnRjKQo+
ICAgICAgICAgdTY0IHZibGFuazsKPiAgICAgICAgIHVuc2lnbmVkIGxvbmcgZmxhZ3M7Cj4KPiAt
ICAgICAgIFdBUk5fT05DRShkcm1fZGVidWcgJiBEUk1fVVRfVkJMICYmICFkZXYtPmRyaXZlci0+
Z2V0X3ZibGFua190aW1lc3RhbXAsCj4gKyAgICAgICBXQVJOX09OQ0UoZHJtX2RlYnVnX2VuYWJs
ZWQoRFJNX1VUX1ZCTCkgJiYgIWRldi0+ZHJpdmVyLT5nZXRfdmJsYW5rX3RpbWVzdGFtcCwKPiAg
ICAgICAgICAgICAgICAgICAiVGhpcyBmdW5jdGlvbiByZXF1aXJlcyBzdXBwb3J0IGZvciBhY2N1
cmF0ZSB2YmxhbmsgdGltZXN0YW1wcy4iKTsKPgo+ICAgICAgICAgc3Bpbl9sb2NrX2lycXNhdmUo
JmRldi0+dmJsYW5rX3RpbWVfbG9jaywgZmxhZ3MpOwo+IEBAIC03MDYsNyArNzA2LDcgQEAgYm9v
bCBkcm1fY2FsY192Ymx0aW1lc3RhbXBfZnJvbV9zY2Fub3V0cG9zKHN0cnVjdCBkcm1fZGV2aWNl
ICpkZXYsCj4gICAgICAgICAgKi8KPiAgICAgICAgICp2YmxhbmtfdGltZSA9IGt0aW1lX3N1Yl9u
cyhldGltZSwgZGVsdGFfbnMpOwo+Cj4gLSAgICAgICBpZiAoKGRybV9kZWJ1ZyAmIERSTV9VVF9W
QkwpID09IDApCj4gKyAgICAgICBpZiAoIWRybV9kZWJ1Z19lbmFibGVkKERSTV9VVF9WQkwpKQo+
ICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKPgo+ICAgICAgICAgdHNfZXRpbWUgPSBrdGlt
ZV90b190aW1lc3BlYzY0KGV0aW1lKTsKPiBAQCAtMTM1Miw3ICsxMzUyLDcgQEAgdm9pZCBkcm1f
dmJsYW5rX3Jlc3RvcmUoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgdW5zaWduZWQgaW50IHBpcGUp
Cj4gICAgICAgICBhc3NlcnRfc3Bpbl9sb2NrZWQoJmRldi0+dmJsYW5rX3RpbWVfbG9jayk7Cj4K
PiAgICAgICAgIHZibGFuayA9ICZkZXYtPnZibGFua1twaXBlXTsKPiAtICAgICAgIFdBUk5fT05D
RSgoZHJtX2RlYnVnICYgRFJNX1VUX1ZCTCkgJiYgIXZibGFuay0+ZnJhbWVkdXJfbnMsCj4gKyAg
ICAgICBXQVJOX09OQ0UoZHJtX2RlYnVnX2VuYWJsZWQoRFJNX1VUX1ZCTCkgJiYgIXZibGFuay0+
ZnJhbWVkdXJfbnMsCj4gICAgICAgICAgICAgICAgICAgIkNhbm5vdCBjb21wdXRlIG1pc3NlZCB2
YmxhbmtzIHdpdGhvdXQgZnJhbWUgZHVyYXRpb25cbiIpOwo+ICAgICAgICAgZnJhbWVkdXJfbnMg
PSB2YmxhbmstPmZyYW1lZHVyX25zOwo+Cj4gZGlmZiAtLWdpdCBhL2luY2x1ZGUvZHJtL2RybV9w
cmludC5oIGIvaW5jbHVkZS9kcm0vZHJtX3ByaW50LmgKPiBpbmRleCBlNWM0MjFhYmNlNDguLjQ2
MThlOTBjZDEyNCAxMDA2NDQKPiAtLS0gYS9pbmNsdWRlL2RybS9kcm1fcHJpbnQuaAo+ICsrKyBi
L2luY2x1ZGUvZHJtL2RybV9wcmludC5oCj4gQEAgLTI5NCw2ICsyOTQsMTEgQEAgc3RhdGljIGlu
bGluZSBzdHJ1Y3QgZHJtX3ByaW50ZXIgZHJtX2Vycl9wcmludGVyKGNvbnN0IGNoYXIgKnByZWZp
eCkKPiAgI2RlZmluZSBEUk1fVVRfTEVBU0UgICAgICAgICAgIDB4ODAKPiAgI2RlZmluZSBEUk1f
VVRfRFAgICAgICAgICAgICAgIDB4MTAwCj4KPiArc3RhdGljIGlubGluZSBib29sIGRybV9kZWJ1
Z19lbmFibGVkKHVuc2lnbmVkIGludCBjYXRlZ29yeSkKPiArewo+ICsgICAgICAgcmV0dXJuIHVu
bGlrZWx5KGRybV9kZWJ1ZyAmIGNhdGVnb3J5KTsKPiArfQo+ICsKPiAgX19wcmludGYoMywgNCkK
PiAgdm9pZCBkcm1fZGV2X3ByaW50ayhjb25zdCBzdHJ1Y3QgZGV2aWNlICpkZXYsIGNvbnN0IGNo
YXIgKmxldmVsLAo+ICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhciAqZm9ybWF0LCAuLi4p
Owo+IC0tCj4gMi4yMC4xCj4KPiBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fXwo+IGRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKPiBkcmktZGV2ZWxAbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnCj4gaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0
aW5mby9kcmktZGV2ZWwKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Au
b3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRl
dmVs
