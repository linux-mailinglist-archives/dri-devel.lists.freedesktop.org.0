Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id F21EA1170E
	for <lists+dri-devel@lfdr.de>; Thu,  2 May 2019 12:19:57 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 104EB893A3;
	Thu,  2 May 2019 10:19:56 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wr1-x442.google.com (mail-wr1-x442.google.com
 [IPv6:2a00:1450:4864:20::442])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 361FE8938F
 for <dri-devel@lists.freedesktop.org>; Thu,  2 May 2019 10:19:54 +0000 (UTC)
Received: by mail-wr1-x442.google.com with SMTP id f7so2582158wrs.2
 for <dri-devel@lists.freedesktop.org>; Thu, 02 May 2019 03:19:54 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:subject:to:cc:references:from:message-id:date
 :user-agent:mime-version:in-reply-to:content-language
 :content-transfer-encoding;
 bh=1bEgHj4Gb0Tk23WosQcMZIVF8WSF1bhnwj2JIcCDbKA=;
 b=rRU6Hd80oHhrLUntMEhrx7m5V9MKY8Rwt5jeWqbvpSssoMx2pRxc5WFREZROEKoGwu
 jnpftu9mVqR9v0L+nmvO8JULI12DqFZ6XQ4cwOmRa20kUxiZBLSuhVQ8NAQ0Vf5gX3Kc
 9BOZYtGvJWlTYhDfl7p4O8CzzoKx1PLRAJEQC1W0DAqDV7qZ8lDk3c5IyjE2Sz+C+Ojz
 Uqpr0eWFk9/qBmkCoVd4oVR5lpea2+BOHTioRaz2N5x8sRoqBtcwUUqk71/9KpI6MklF
 x08/HGcS0NaEKLSsqGwDoR2UmBevg3E8zhNfeCjuWYYMxlOL16ir2rgyv+zgUGD1Uyan
 72qg==
X-Gm-Message-State: APjAAAUGptqwcUws3tn35tDWjS7lcGlbRchyQjiOihbf7pDaupGl6QpA
 a5oUudSMhcxBbPEFx4oqMgx29Q==
X-Google-Smtp-Source: APXvYqzU1qo4jQnlC5zdY/3S8Pws6rQTr32rfBMKmOUGKDUaw5cUYg8dkE6KTdOfeUwVTIIPHolREQ==
X-Received: by 2002:adf:edc8:: with SMTP id v8mr2251339wro.206.1556792392779; 
 Thu, 02 May 2019 03:19:52 -0700 (PDT)
Received: from holly.lan (static-84-9-17-116.vodafonexdsl.co.uk. [84.9.17.116])
 by smtp.googlemail.com with ESMTPSA id z4sm10174683wmk.5.2019.05.02.03.19.51
 (version=TLS1_3 cipher=AEAD-AES128-GCM-SHA256 bits=128/128);
 Thu, 02 May 2019 03:19:51 -0700 (PDT)
Subject: Re: [PATCH v6 3/3] backlight: lm3630a: add firmware node support
To: Brian Masney <masneyb@onstation.org>, lee.jones@linaro.org,
 jingoohan1@gmail.com, robh+dt@kernel.org
References: <20190424092505.6578-1-masneyb@onstation.org>
 <20190424092505.6578-4-masneyb@onstation.org>
From: Daniel Thompson <daniel.thompson@linaro.org>
Message-ID: <3d8a2f9e-bd41-7713-5ad4-05a0d71e8fb1@linaro.org>
Date: Thu, 2 May 2019 11:19:50 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.6.1
MIME-Version: 1.0
In-Reply-To: <20190424092505.6578-4-masneyb@onstation.org>
Content-Language: en-US
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=linaro.org; s=google;
 h=subject:to:cc:references:from:message-id:date:user-agent
 :mime-version:in-reply-to:content-language:content-transfer-encoding;
 bh=1bEgHj4Gb0Tk23WosQcMZIVF8WSF1bhnwj2JIcCDbKA=;
 b=Wnlny8NyYMphdkafjynA/aRFrhuFTHBSYdUde99T9rffaY/iGg8eFoi8JDJ9P9kOu8
 fFlqhLFt4GSabtaMBDx/Pgs6bxapQgGiJ6Ii/dzNZXeevUg17tW4uCPBGAEQ/6yrVMgr
 C0W+w5ocA+KsE1+EawmZmlv55eb3E+guDIXrNYy1xDlxVtE5R2ptPTHHasTd6xAxpeCm
 nd+eXBoOHwu9rDuiaY5J4otKWnH0tSWdL6zLS9/lqpWFlrkqtRQEZEqrQgJhjbfkdWcW
 m+qnK2gG7RcQW6FBVf+05lSJhWRuA583+7oTTGhoLFfjLFOLsp0GqQnY1vQfIc0PHru7
 u4Dg==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: mark.rutland@arm.com, devicetree@vger.kernel.org,
 linux-fbdev@vger.kernel.org, jonathan@marek.ca, b.zolnierkie@samsung.com,
 linux-kernel@vger.kernel.org, dri-devel@lists.freedesktop.org,
 jacek.anaszewski@gmail.com, pavel@ucw.cz,
 Daniel Thompson <daniel@redfelineninja.org.uk>, linux-leds@vger.kernel.org,
 dmurphy@ti.com
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gMjQvMDQvMjAxOSAxMDoyNSwgQnJpYW4gTWFzbmV5IHdyb3RlOgo+IEFkZCBmd25vZGUgc3Vw
cG9ydCB0byB0aGUgbG0zNjMwYSBkcml2ZXIgYW5kIG9wdGlvbmFsbHkgYWxsb3cKPiBjb25maWd1
cmluZyB0aGUgbGFiZWwsIGRlZmF1bHQgYnJpZ2h0bmVzcyBsZXZlbCwgYW5kIG1heGltdW0gYnJp
Z2h0bmVzcwo+IGxldmVsLiBUaGUgdHdvIG91dHB1dHMgY2FuIGJlIGNvbnRyb2xsZWQgYnkgYmFu
ayBBIGFuZCBCIGluZGVwZW5kZW50bHkKPiBvciBiYW5rIEEgY2FuIGNvbnRyb2wgYm90aCBvdXRw
dXRzLgo+IAo+IElmIHRoZSBwbGF0Zm9ybSBkYXRhIHdhcyBub3QgY29uZmlndXJlZCwgdGhlbiB0
aGUgZHJpdmVyIGRlZmF1bHRzIHRvCj4gZW5hYmxpbmcgYm90aCBiYW5rcy4gVGhpcyBwYXRjaCBj
aGFuZ2VzIHRoZSBkZWZhdWx0IHZhbHVlIHRvIGRpc2FibGUKPiBib3RoIGJhbmtzIGJlZm9yZSBw
YXJzaW5nIHRoZSBmaXJtd2FyZSBub2RlIHNvIHRoYXQganVzdCBhIHNpbmdsZSBiYW5rCj4gY2Fu
IGJlIGVuYWJsZWQgaWYgZGVzaXJlZC4gVGhlcmUgYXJlIG5vIGluLXRyZWUgdXNlcnMgb2YgdGhp
cyBkcml2ZXIuCgpJbiB0aGF0IGNhc2UgZ2l2ZW4gSSdkIGNlcnRhaW5seSBlbnRlcnRhaW4gcGF0
Y2hlcyB0aGF0IG1vdmUgdGhlIGNvbmZpZyAKc3RydWN0dXJlcyBvdXQgb2YgaW5jbHVkZS9saW51
eC9wbGF0Zm9ybV9kYXRhIGFuZCBzYXkgdGhlIGRyaXZlciAKcmVxdWlyZXMgYSBwcm9wZXIgZW50
cnkgaW4gdGhlIGhhcmR3YXJlIGRlc2NyaXB0aW9uISBOb3QgYSByZXF1aXJlbWVudCAKdGhvdWdo
LgoKPiAKPiBEcml2ZXIgd2FzIHRlc3RlZCBvbiBhIExHIE5leHVzIDUgKGhhbW1lcmhlYWQpIHBo
b25lLgo+IAo+IFNpZ25lZC1vZmYtYnk6IEJyaWFuIE1hc25leSA8bWFzbmV5YkBvbnN0YXRpb24u
b3JnPgo+IFJldmlld2VkLWJ5OiBEYW4gTXVycGh5IDxkbXVycGh5QHRpLmNvbT4KPiBBY2tlZC1i
eTogUGF2ZWwgTWFjaGVrIDxwYXZlbEB1Y3cuY3o+CgpBY2tlZC1ieTogRGFuaWVsIFRob21wc29u
IDxkYW5pZWwudGhvbXBzb25AbGluYXJvLm9yZz4KCgo+IC0tLQo+IENoYW5nZXMgc2luY2UgdjUK
PiAtIE5vbmUKPiAKPiBDaGFuZ2VzIHNpbmNlIHY0Cj4gLSBBZGRlZCBuZXcgZnVuY3Rpb24gbG0z
NjMwYV9wYXJzZV9iYW5rKCkKPiAtIFJlbmFtZWQgc2VlbiB2YXJpYWJsZSB0byBzZWVuX2xlZF9z
b3VyY2VzCj4gLSBVc2UgdGhlIGJpdG1hc2sgcmV0dXJuZWQgZnJvbSBsbTM2MzBhX3BhcnNlX2xl
ZF9zb3VyY2VzKCkgdG8gY29tcGFyZQo+ICAgIGFnYWluc3QgdGhlIHNlZW5fbGVkX3NvdXJjZXMg
cmF0aGVyIHRoYW4ganVzdCB0aGUgY29udHJvbCBiYW5rLiBUaGlzCj4gICAgZWxpbWluYXRlZCBh
bm90aGVyIGlmIHN0YXRlbWVudCB0aGF0IHdhcyBwcmV2aW91c2x5IHByZXNlbnQgdGhhdAo+ICAg
IGNoZWNrZWQgdG8gc2VlIGlmIGNvbnRyb2wgYmFuayBBIHNob3VsZCBjb250cm9sIGJvdGggc2lu
a3MuCj4gLSAjZGVmaW5lIExNMzYzMEFfQkFOS18wLCBMTTM2MzBBX0JBTktfMSwgTE0zNjMwQV9T
SU5LXzAsCj4gICAgTE0zNjMwQV9TSU5LXzEsIGFuZCBMTTM2MzBBX05VTV9TSU5LUyBhbmQgdXNl
IHdoZXJlIGFwcHJvcHJpYXRlLgo+IC0gQ2hhbmdlZCBhbGwgb2NjdXJhbmNlcyBvZgo+ICAgICdp
ZiAoYmFuayA9PSAwKSB7IEJBTktfQV9XT1JLIH0gZWxzZSB7IEJBTktfQl9XT1JLIH0nIHRvCj4g
ICAgJ2lmIChiYW5rKSB7IEJBTktfQl9XT1JLIH0gZWxzZSB7IEJBTktfQV9XT1JLIH0nCj4gLSBE
cm9wcGVkIHVubmVjZXNzYXJ5ICdyZXQgPSAwJyBmcm9tIGxtMzYzMGFfcGFyc2VfbGVkX3NvdXJj
ZXMoKS4KPiAtIENoYW5nZWQgJ2lmIChyZXQgPCAwKScgdG8gJ2lmIChyZXQpJyBpbiBsbTM2MzBh
X3BhcnNlX25vZGUoKS4KPiAtIERyb3BwZWQga2VybmVsZG9jIGZyb20gbG0zNjMwYV9wYXJzZV9s
ZWRfc291cmNlcygpLgo+IAo+IENoYW5nZXMgc2luY2UgdjMKPiAtIEFkZCBzdXBwb3J0IGZvciBs
YWJlbAo+IC0gQ2hhbmdlZCBsbTM2MzBhX3BhcnNlX25vZGUoKSB0byByZXR1cm4gLUVOT0RFViBp
ZiBubyBub2RlcyB3ZXJlIGZvdW5kCj4gLSBSZW1vdmUgTE0zNjMwQV9MRUR7QSxCfV9ESVNBQkxF
Cj4gLSBBZGQgdHdvIGFkZGl0aW9uYWwgbmV3bGluZXMgZm9yIGNvZGUgcmVhZGFiaWxpdHkKPiAt
IFJlbW92ZSBleHRyYSBuZXdsaW5lCj4gCj4gQ2hhbmdlcyBzaW5jZSB2Mgo+IC0gU2VwYXJhdGVk
IG91dCBjb250cm9sIGJhbmtzIGFuZCBvdXRwdXRzIHZpYSB0aGUgcmVnIGFuZCBsZWQtc291cmNl
cwo+ICAgIHByb3BlcnRpZXMuCj4gLSBVc2UgZndub2RlIGluc3RlYWQgb2Ygb2YgQVBJCj4gLSBE
aXNhYmxlIGJvdGggYmFua3MgYnkgZGVmYXVsdCBiZWZvcmUgY2FsbGluZyBsbTM2MzBhX3BhcnNl
X25vZGUoKQo+IC0gQWRkIGxvdHMgb2YgZXJyb3IgaGFuZGxpbmcKPiAtIENoZWNrIGZvciBkdXBs
aWNhdGUgc291cmNlIC8gYmFuayBkZWZpbml0aW9ucwo+IC0gUmVtb3ZlIGV4dHJhIDsKPiAtIE1h
a2UgcHJvYmUoKSBtZXRob2QgZmFpbCBpZiBmd25vZGUgcGFyc2luZyBmYWlscy4KPiAKPiAgIGRy
aXZlcnMvdmlkZW8vYmFja2xpZ2h0L2xtMzYzMGFfYmwuYyAgICAgfCAxNDkgKysrKysrKysrKysr
KysrKysrKysrKy0KPiAgIGluY2x1ZGUvbGludXgvcGxhdGZvcm1fZGF0YS9sbTM2MzBhX2JsLmgg
fCAgIDQgKwo+ICAgMiBmaWxlcyBjaGFuZ2VkLCAxNDggaW5zZXJ0aW9ucygrKSwgNSBkZWxldGlv
bnMoLSkKPiAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy92aWRlby9iYWNrbGlnaHQvbG0zNjMwYV9i
bC5jIGIvZHJpdmVycy92aWRlby9iYWNrbGlnaHQvbG0zNjMwYV9ibC5jCj4gaW5kZXggZWYyNTUz
ZjQ1MmNhLi43NWQ5OTY0OTBjZjAgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy92aWRlby9iYWNrbGln
aHQvbG0zNjMwYV9ibC5jCj4gKysrIGIvZHJpdmVycy92aWRlby9iYWNrbGlnaHQvbG0zNjMwYV9i
bC5jCj4gQEAgLTM1LDYgKzM1LDE0IEBACj4gICAjZGVmaW5lIFJFR19NQVgJCTB4NTAKPiAgIAo+
ICAgI2RlZmluZSBJTlRfREVCT1VOQ0VfTVNFQwkxMAo+ICsKPiArI2RlZmluZSBMTTM2MzBBX0JB
TktfMAkJMAo+ICsjZGVmaW5lIExNMzYzMEFfQkFOS18xCQkxCj4gKwo+ICsjZGVmaW5lIExNMzYz
MEFfTlVNX1NJTktTCTIKPiArI2RlZmluZSBMTTM2MzBBX1NJTktfMAkJMAo+ICsjZGVmaW5lIExN
MzYzMEFfU0lOS18xCQkxCj4gKwo+ICAgc3RydWN0IGxtMzYzMGFfY2hpcCB7Cj4gICAJc3RydWN0
IGRldmljZSAqZGV2Owo+ICAgCXN0cnVjdCBkZWxheWVkX3dvcmsgd29yazsKPiBAQCAtMzI5LDE1
ICszMzcsMTcgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBiYWNrbGlnaHRfb3BzIGxtMzYzMGFfYmFu
a19iX29wcyA9IHsKPiAgIAo+ICAgc3RhdGljIGludCBsbTM2MzBhX2JhY2tsaWdodF9yZWdpc3Rl
cihzdHJ1Y3QgbG0zNjMwYV9jaGlwICpwY2hpcCkKPiAgIHsKPiAtCXN0cnVjdCBiYWNrbGlnaHRf
cHJvcGVydGllcyBwcm9wczsKPiAgIAlzdHJ1Y3QgbG0zNjMwYV9wbGF0Zm9ybV9kYXRhICpwZGF0
YSA9IHBjaGlwLT5wZGF0YTsKPiArCXN0cnVjdCBiYWNrbGlnaHRfcHJvcGVydGllcyBwcm9wczsK
PiArCWNvbnN0IGNoYXIgKmxhYmVsOwo+ICAgCj4gICAJcHJvcHMudHlwZSA9IEJBQ0tMSUdIVF9S
QVc7Cj4gICAJaWYgKHBkYXRhLT5sZWRhX2N0cmwgIT0gTE0zNjMwQV9MRURBX0RJU0FCTEUpIHsK
PiAgIAkJcHJvcHMuYnJpZ2h0bmVzcyA9IHBkYXRhLT5sZWRhX2luaXRfYnJ0Owo+ICAgCQlwcm9w
cy5tYXhfYnJpZ2h0bmVzcyA9IHBkYXRhLT5sZWRhX21heF9icnQ7Cj4gKwkJbGFiZWwgPSBwZGF0
YS0+bGVkYV9sYWJlbCA/IHBkYXRhLT5sZWRhX2xhYmVsIDogImxtMzYzMGFfbGVkYSI7Cj4gICAJ
CXBjaGlwLT5ibGVkYSA9Cj4gLQkJICAgIGRldm1fYmFja2xpZ2h0X2RldmljZV9yZWdpc3Rlcihw
Y2hpcC0+ZGV2LCAibG0zNjMwYV9sZWRhIiwKPiArCQkgICAgZGV2bV9iYWNrbGlnaHRfZGV2aWNl
X3JlZ2lzdGVyKHBjaGlwLT5kZXYsIGxhYmVsLAo+ICAgCQkJCQkJICAgcGNoaXAtPmRldiwgcGNo
aXAsCj4gICAJCQkJCQkgICAmbG0zNjMwYV9iYW5rX2Ffb3BzLCAmcHJvcHMpOwo+ICAgCQlpZiAo
SVNfRVJSKHBjaGlwLT5ibGVkYSkpCj4gQEAgLTM0OCw4ICszNTgsOSBAQCBzdGF0aWMgaW50IGxt
MzYzMGFfYmFja2xpZ2h0X3JlZ2lzdGVyKHN0cnVjdCBsbTM2MzBhX2NoaXAgKnBjaGlwKQo+ICAg
CSAgICAocGRhdGEtPmxlZGJfY3RybCAhPSBMTTM2MzBBX0xFREJfT05fQSkpIHsKPiAgIAkJcHJv
cHMuYnJpZ2h0bmVzcyA9IHBkYXRhLT5sZWRiX2luaXRfYnJ0Owo+ICAgCQlwcm9wcy5tYXhfYnJp
Z2h0bmVzcyA9IHBkYXRhLT5sZWRiX21heF9icnQ7Cj4gKwkJbGFiZWwgPSBwZGF0YS0+bGVkYl9s
YWJlbCA/IHBkYXRhLT5sZWRiX2xhYmVsIDogImxtMzYzMGFfbGVkYiI7Cj4gICAJCXBjaGlwLT5i
bGVkYiA9Cj4gLQkJICAgIGRldm1fYmFja2xpZ2h0X2RldmljZV9yZWdpc3RlcihwY2hpcC0+ZGV2
LCAibG0zNjMwYV9sZWRiIiwKPiArCQkgICAgZGV2bV9iYWNrbGlnaHRfZGV2aWNlX3JlZ2lzdGVy
KHBjaGlwLT5kZXYsIGxhYmVsLAo+ICAgCQkJCQkJICAgcGNoaXAtPmRldiwgcGNoaXAsCj4gICAJ
CQkJCQkgICAmbG0zNjMwYV9iYW5rX2Jfb3BzLCAmcHJvcHMpOwo+ICAgCQlpZiAoSVNfRVJSKHBj
aGlwLT5ibGVkYikpCj4gQEAgLTM2NCw2ICszNzUsMTIzIEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3Qg
cmVnbWFwX2NvbmZpZyBsbTM2MzBhX3JlZ21hcCA9IHsKPiAgIAkubWF4X3JlZ2lzdGVyID0gUkVH
X01BWCwKPiAgIH07Cj4gICAKPiArc3RhdGljIGludCBsbTM2MzBhX3BhcnNlX2xlZF9zb3VyY2Vz
KHN0cnVjdCBmd25vZGVfaGFuZGxlICpub2RlLAo+ICsJCQkJICAgICBpbnQgZGVmYXVsdF9sZWRf
c291cmNlcykKPiArewo+ICsJdTMyIHNvdXJjZXNbTE0zNjMwQV9OVU1fU0lOS1NdOwo+ICsJaW50
IHJldCwgbnVtX3NvdXJjZXMsIGk7Cj4gKwo+ICsJbnVtX3NvdXJjZXMgPSBmd25vZGVfcHJvcGVy
dHlfcmVhZF91MzJfYXJyYXkobm9kZSwgImxlZC1zb3VyY2VzIiwgTlVMTCwKPiArCQkJCQkJICAg
ICAwKTsKPiArCWlmIChudW1fc291cmNlcyA8IDApCj4gKwkJcmV0dXJuIGRlZmF1bHRfbGVkX3Nv
dXJjZXM7Cj4gKwllbHNlIGlmIChudW1fc291cmNlcyA+IEFSUkFZX1NJWkUoc291cmNlcykpCj4g
KwkJcmV0dXJuIC1FSU5WQUw7Cj4gKwo+ICsJcmV0ID0gZndub2RlX3Byb3BlcnR5X3JlYWRfdTMy
X2FycmF5KG5vZGUsICJsZWQtc291cmNlcyIsIHNvdXJjZXMsCj4gKwkJCQkJICAgICBudW1fc291
cmNlcyk7Cj4gKwlpZiAocmV0KQo+ICsJCXJldHVybiByZXQ7Cj4gKwo+ICsJZm9yIChpID0gMDsg
aSA8IG51bV9zb3VyY2VzOyBpKyspIHsKPiArCQlpZiAoc291cmNlc1tpXSA8IExNMzYzMEFfU0lO
S18wIHx8IHNvdXJjZXNbaV0gPiBMTTM2MzBBX1NJTktfMSkKPiArCQkJcmV0dXJuIC1FSU5WQUw7
Cj4gKwo+ICsJCXJldCB8PSBCSVQoc291cmNlc1tpXSk7Cj4gKwl9Cj4gKwo+ICsJcmV0dXJuIHJl
dDsKPiArfQo+ICsKPiArc3RhdGljIGludCBsbTM2MzBhX3BhcnNlX2Jhbmsoc3RydWN0IGxtMzYz
MGFfcGxhdGZvcm1fZGF0YSAqcGRhdGEsCj4gKwkJCSAgICAgIHN0cnVjdCBmd25vZGVfaGFuZGxl
ICpub2RlLCBpbnQgKnNlZW5fbGVkX3NvdXJjZXMpCj4gK3sKPiArCWludCBsZWRfc291cmNlcywg
cmV0Owo+ICsJY29uc3QgY2hhciAqbGFiZWw7Cj4gKwl1MzIgYmFuaywgdmFsOwo+ICsJYm9vbCBs
aW5lYXI7Cj4gKwo+ICsJcmV0ID0gZndub2RlX3Byb3BlcnR5X3JlYWRfdTMyKG5vZGUsICJyZWci
LCAmYmFuayk7Cj4gKwlpZiAocmV0KQo+ICsJCXJldHVybiByZXQ7Cj4gKwo+ICsJaWYgKGJhbmsg
PCBMTTM2MzBBX0JBTktfMCB8fCBiYW5rID4gTE0zNjMwQV9CQU5LXzEpCj4gKwkJcmV0dXJuIC1F
SU5WQUw7Cj4gKwo+ICsJbGVkX3NvdXJjZXMgPSBsbTM2MzBhX3BhcnNlX2xlZF9zb3VyY2VzKG5v
ZGUsIEJJVChiYW5rKSk7Cj4gKwlpZiAobGVkX3NvdXJjZXMgPCAwKQo+ICsJCXJldHVybiBsZWRf
c291cmNlczsKPiArCj4gKwlpZiAoKnNlZW5fbGVkX3NvdXJjZXMgJiBsZWRfc291cmNlcykKPiAr
CQlyZXR1cm4gLUVJTlZBTDsKPiArCj4gKwkqc2Vlbl9sZWRfc291cmNlcyB8PSBsZWRfc291cmNl
czsKPiArCj4gKwlsaW5lYXIgPSBmd25vZGVfcHJvcGVydHlfcmVhZF9ib29sKG5vZGUsCj4gKwkJ
CQkJICAgInRpLGxpbmVhci1tYXBwaW5nLW1vZGUiKTsKPiArCWlmIChiYW5rKSB7Cj4gKwkJaWYg
KGxlZF9zb3VyY2VzICYgQklUKExNMzYzMEFfU0lOS18wKSB8fAo+ICsJCSAgICAhKGxlZF9zb3Vy
Y2VzICYgQklUKExNMzYzMEFfU0lOS18xKSkpCj4gKwkJCXJldHVybiAtRUlOVkFMOwo+ICsKPiAr
CQlwZGF0YS0+bGVkYl9jdHJsID0gbGluZWFyID8KPiArCQkJTE0zNjMwQV9MRURCX0VOQUJMRV9M
SU5FQVIgOgo+ICsJCQlMTTM2MzBBX0xFREJfRU5BQkxFOwo+ICsJfSBlbHNlIHsKPiArCQlpZiAo
IShsZWRfc291cmNlcyAmIEJJVChMTTM2MzBBX1NJTktfMCkpKQo+ICsJCQlyZXR1cm4gLUVJTlZB
TDsKPiArCj4gKwkJcGRhdGEtPmxlZGFfY3RybCA9IGxpbmVhciA/Cj4gKwkJCUxNMzYzMEFfTEVE
QV9FTkFCTEVfTElORUFSIDoKPiArCQkJTE0zNjMwQV9MRURBX0VOQUJMRTsKPiArCj4gKwkJaWYg
KGxlZF9zb3VyY2VzICYgQklUKExNMzYzMEFfU0lOS18xKSkKPiArCQkJcGRhdGEtPmxlZGJfY3Ry
bCA9IExNMzYzMEFfTEVEQl9PTl9BOwo+ICsJfQo+ICsKPiArCXJldCA9IGZ3bm9kZV9wcm9wZXJ0
eV9yZWFkX3N0cmluZyhub2RlLCAibGFiZWwiLCAmbGFiZWwpOwo+ICsJaWYgKCFyZXQpIHsKPiAr
CQlpZiAoYmFuaykKPiArCQkJcGRhdGEtPmxlZGJfbGFiZWwgPSBsYWJlbDsKPiArCQllbHNlCj4g
KwkJCXBkYXRhLT5sZWRhX2xhYmVsID0gbGFiZWw7Cj4gKwl9Cj4gKwo+ICsJcmV0ID0gZndub2Rl
X3Byb3BlcnR5X3JlYWRfdTMyKG5vZGUsICJkZWZhdWx0LWJyaWdodG5lc3MiLAo+ICsJCQkJICAg
ICAgICZ2YWwpOwo+ICsJaWYgKCFyZXQpIHsKPiArCQlpZiAoYmFuaykKPiArCQkJcGRhdGEtPmxl
ZGJfaW5pdF9icnQgPSB2YWw7Cj4gKwkJZWxzZQo+ICsJCQlwZGF0YS0+bGVkYV9pbml0X2JydCA9
IHZhbDsKPiArCX0KPiArCj4gKwlyZXQgPSBmd25vZGVfcHJvcGVydHlfcmVhZF91MzIobm9kZSwg
Im1heC1icmlnaHRuZXNzIiwgJnZhbCk7Cj4gKwlpZiAoIXJldCkgewo+ICsJCWlmIChiYW5rKQo+
ICsJCQlwZGF0YS0+bGVkYl9tYXhfYnJ0ID0gdmFsOwo+ICsJCWVsc2UKPiArCQkJcGRhdGEtPmxl
ZGFfbWF4X2JydCA9IHZhbDsKPiArCX0KPiArCj4gKwlyZXR1cm4gMDsKPiArfQo+ICsKPiArc3Rh
dGljIGludCBsbTM2MzBhX3BhcnNlX25vZGUoc3RydWN0IGxtMzYzMGFfY2hpcCAqcGNoaXAsCj4g
KwkJCSAgICAgIHN0cnVjdCBsbTM2MzBhX3BsYXRmb3JtX2RhdGEgKnBkYXRhKQo+ICt7Cj4gKwlp
bnQgcmV0ID0gLUVOT0RFViwgc2Vlbl9sZWRfc291cmNlcyA9IDA7Cj4gKwlzdHJ1Y3QgZndub2Rl
X2hhbmRsZSAqbm9kZTsKPiArCj4gKwlkZXZpY2VfZm9yX2VhY2hfY2hpbGRfbm9kZShwY2hpcC0+
ZGV2LCBub2RlKSB7Cj4gKwkJcmV0ID0gbG0zNjMwYV9wYXJzZV9iYW5rKHBkYXRhLCBub2RlLCAm
c2Vlbl9sZWRfc291cmNlcyk7Cj4gKwkJaWYgKHJldCkKPiArCQkJcmV0dXJuIHJldDsKPiArCX0K
PiArCj4gKwlyZXR1cm4gcmV0Owo+ICt9Cj4gKwo+ICAgc3RhdGljIGludCBsbTM2MzBhX3Byb2Jl
KHN0cnVjdCBpMmNfY2xpZW50ICpjbGllbnQsCj4gICAJCQkgY29uc3Qgc3RydWN0IGkyY19kZXZp
Y2VfaWQgKmlkKQo+ICAgewo+IEBAIC0zOTYsMTMgKzUyNCwxOCBAQCBzdGF0aWMgaW50IGxtMzYz
MGFfcHJvYmUoc3RydWN0IGkyY19jbGllbnQgKmNsaWVudCwKPiAgIAkJCQkgICAgIEdGUF9LRVJO
RUwpOwo+ICAgCQlpZiAocGRhdGEgPT0gTlVMTCkKPiAgIAkJCXJldHVybiAtRU5PTUVNOwo+ICsK
PiAgIAkJLyogZGVmYXVsdCB2YWx1ZXMgKi8KPiAtCQlwZGF0YS0+bGVkYV9jdHJsID0gTE0zNjMw
QV9MRURBX0VOQUJMRTsKPiAtCQlwZGF0YS0+bGVkYl9jdHJsID0gTE0zNjMwQV9MRURCX0VOQUJM
RTsKPiAgIAkJcGRhdGEtPmxlZGFfbWF4X2JydCA9IExNMzYzMEFfTUFYX0JSSUdIVE5FU1M7Cj4g
ICAJCXBkYXRhLT5sZWRiX21heF9icnQgPSBMTTM2MzBBX01BWF9CUklHSFRORVNTOwo+ICAgCQlw
ZGF0YS0+bGVkYV9pbml0X2JydCA9IExNMzYzMEFfTUFYX0JSSUdIVE5FU1M7Cj4gICAJCXBkYXRh
LT5sZWRiX2luaXRfYnJ0ID0gTE0zNjMwQV9NQVhfQlJJR0hUTkVTUzsKPiArCj4gKwkJcnZhbCA9
IGxtMzYzMGFfcGFyc2Vfbm9kZShwY2hpcCwgcGRhdGEpOwo+ICsJCWlmIChydmFsKSB7Cj4gKwkJ
CWRldl9lcnIoJmNsaWVudC0+ZGV2LCAiZmFpbCA6IHBhcnNlIG5vZGVcbiIpOwo+ICsJCQlyZXR1
cm4gcnZhbDsKPiArCQl9Cj4gICAJfQo+ICAgCXBjaGlwLT5wZGF0YSA9IHBkYXRhOwo+ICAgCj4g
QEAgLTQ3MCwxMSArNjAzLDE3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgaTJjX2RldmljZV9pZCBs
bTM2MzBhX2lkW10gPSB7Cj4gICAJe30KPiAgIH07Cj4gICAKPiArc3RhdGljIGNvbnN0IHN0cnVj
dCBvZl9kZXZpY2VfaWQgbG0zNjMwYV9tYXRjaF90YWJsZVtdID0gewo+ICsJeyAuY29tcGF0aWJs
ZSA9ICJ0aSxsbTM2MzBhIiwgfSwKPiArCXsgfSwKPiArfTsKPiArCj4gICBNT0RVTEVfREVWSUNF
X1RBQkxFKGkyYywgbG0zNjMwYV9pZCk7Cj4gICAKPiAgIHN0YXRpYyBzdHJ1Y3QgaTJjX2RyaXZl
ciBsbTM2MzBhX2kyY19kcml2ZXIgPSB7Cj4gICAJLmRyaXZlciA9IHsKPiAgIAkJICAgLm5hbWUg
PSBMTTM2MzBBX05BTUUsCj4gKwkJICAgLm9mX21hdGNoX3RhYmxlID0gbG0zNjMwYV9tYXRjaF90
YWJsZSwKPiAgIAkJICAgfSwKPiAgIAkucHJvYmUgPSBsbTM2MzBhX3Byb2JlLAo+ICAgCS5yZW1v
dmUgPSBsbTM2MzBhX3JlbW92ZSwKPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9saW51eC9wbGF0Zm9y
bV9kYXRhL2xtMzYzMGFfYmwuaCBiL2luY2x1ZGUvbGludXgvcGxhdGZvcm1fZGF0YS9sbTM2MzBh
X2JsLmgKPiBpbmRleCA3NTM4ZTM4ZTI3MGIuLjc2MmU2ODk1NmYzMSAxMDA2NDQKPiAtLS0gYS9p
bmNsdWRlL2xpbnV4L3BsYXRmb3JtX2RhdGEvbG0zNjMwYV9ibC5oCj4gKysrIGIvaW5jbHVkZS9s
aW51eC9wbGF0Zm9ybV9kYXRhL2xtMzYzMGFfYmwuaAo+IEBAIC0zOCw5ICszOCwxMSBAQCBlbnVt
IGxtMzYzMGFfbGVkYl9jdHJsIHsKPiAgIAo+ICAgI2RlZmluZSBMTTM2MzBBX01BWF9CUklHSFRO
RVNTIDI1NQo+ICAgLyoKPiArICpAbGVkYV9sYWJlbCAgICA6IG9wdGlvbmFsIGxlZCBhIGxhYmVs
Lgo+ICAgICpAbGVkYV9pbml0X2JydCA6IGxlZCBhIGluaXQgYnJpZ2h0bmVzcy4gNH4yNTUKPiAg
ICAqQGxlZGFfbWF4X2JydCAgOiBsZWQgYSBtYXggYnJpZ2h0bmVzcy4gIDR+MjU1Cj4gICAgKkBs
ZWRhX2N0cmwgICAgIDogbGVkIGEgZGlzYWJsZSwgZW5hYmxlIGxpbmVhciwgZW5hYmxlIGV4cG9u
ZW50aWFsCj4gKyAqQGxlZGJfbGFiZWwgICAgOiBvcHRpb25hbCBsZWQgYiBsYWJlbC4KPiAgICAq
QGxlZGJfaW5pdF9icnQgOiBsZWQgYiBpbml0IGJyaWdodG5lc3MuIDR+MjU1Cj4gICAgKkBsZWRi
X21heF9icnQgIDogbGVkIGIgbWF4IGJyaWdodG5lc3MuICA0fjI1NQo+ICAgICpAbGVkYl9jdHJs
ICAgICA6IGxlZCBiIGRpc2FibGUsIGVuYWJsZSBsaW5lYXIsIGVuYWJsZSBleHBvbmVudGlhbAo+
IEBAIC01MCwxMCArNTIsMTIgQEAgZW51bSBsbTM2MzBhX2xlZGJfY3RybCB7Cj4gICBzdHJ1Y3Qg
bG0zNjMwYV9wbGF0Zm9ybV9kYXRhIHsKPiAgIAo+ICAgCS8qIGxlZCBhIGNvbmZpZy4gICovCj4g
Kwljb25zdCBjaGFyICpsZWRhX2xhYmVsOwo+ICAgCWludCBsZWRhX2luaXRfYnJ0Owo+ICAgCWlu
dCBsZWRhX21heF9icnQ7Cj4gICAJZW51bSBsbTM2MzBhX2xlZGFfY3RybCBsZWRhX2N0cmw7Cj4g
ICAJLyogbGVkIGIgY29uZmlnLiAqLwo+ICsJY29uc3QgY2hhciAqbGVkYl9sYWJlbDsKPiAgIAlp
bnQgbGVkYl9pbml0X2JydDsKPiAgIAlpbnQgbGVkYl9tYXhfYnJ0Owo+ICAgCWVudW0gbG0zNjMw
YV9sZWRiX2N0cmwgbGVkYl9jdHJsOwo+IAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlz
dGluZm8vZHJpLWRldmVs
