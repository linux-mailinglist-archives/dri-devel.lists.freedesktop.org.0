Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 608D111ED71
	for <lists+dri-devel@lfdr.de>; Fri, 13 Dec 2019 23:07:49 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A2A3F6EDE6;
	Fri, 13 Dec 2019 22:07:33 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga01.intel.com (mga01.intel.com [192.55.52.88])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 05FB46EDE8;
 Fri, 13 Dec 2019 22:07:31 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga006.jf.intel.com ([10.7.209.51])
 by fmsmga101.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 13 Dec 2019 14:07:30 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.69,311,1571727600"; d="scan'208";a="216558900"
Received: from nvishwa1-desk.sc.intel.com ([10.3.160.185])
 by orsmga006.jf.intel.com with ESMTP; 13 Dec 2019 14:07:30 -0800
From: Niranjana Vishwanathapura <niranjana.vishwanathapura@intel.com>
To: intel-gfx@lists.freedesktop.org
Subject: [RFC v2 05/12] drm/i915/svm: Page table mirroring support
Date: Fri, 13 Dec 2019 13:56:07 -0800
Message-Id: <20191213215614.24558-6-niranjana.vishwanathapura@intel.com>
X-Mailer: git-send-email 2.21.0.rc0.32.g243a4c7e27
In-Reply-To: <20191213215614.24558-1-niranjana.vishwanathapura@intel.com>
References: <20191213215614.24558-1-niranjana.vishwanathapura@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: kenneth.w.graunke@intel.com, sanjay.k.kumar@intel.com,
 sudeep.dutt@intel.com, dri-devel@lists.freedesktop.org,
 jason.ekstrand@intel.com, dave.hansen@intel.com, jglisse@redhat.com,
 jon.bloomfield@intel.com, daniel.vetter@intel.com, dan.j.williams@intel.com,
 ira.weiny@intel.com, jgg@mellanox.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VXNlIEhNTSBwYWdlIHRhYmxlIG1pcnJvcmluZyBzdXBwb3J0IHRvIGJ1aWxkIGRldmljZSBwYWdl
IHRhYmxlLgpJbXBsZW1lbnQgdGhlIGJpbmQgaW9jdGwgYW5kIGJpbmQgdGhlIHByb2Nlc3MgYWRk
cmVzcyByYW5nZSBpbiB0aGUKc3BlY2lmaWVkIGNvbnRleHQncyBwcGd0dC4KSGFuZGxlIGludmFs
aWRhdGlvbiBub3RpZmljYXRpb25zIGJ5IHVuYmluZGluZyB0aGUgYWRkcmVzcyByYW5nZS4KCkNj
OiBKb29uYXMgTGFodGluZW4gPGpvb25hcy5sYWh0aW5lbkBsaW51eC5pbnRlbC5jb20+CkNjOiBK
b24gQmxvb21maWVsZCA8am9uLmJsb29tZmllbGRAaW50ZWwuY29tPgpDYzogRGFuaWVsIFZldHRl
ciA8ZGFuaWVsLnZldHRlckBpbnRlbC5jb20+CkNjOiBTdWRlZXAgRHV0dCA8c3VkZWVwLmR1dHRA
aW50ZWwuY29tPgpTaWduZWQtb2ZmLWJ5OiBOaXJhbmphbmEgVmlzaHdhbmF0aGFwdXJhIDxuaXJh
bmphbmEudmlzaHdhbmF0aGFwdXJhQGludGVsLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkx
NS9LY29uZmlnICAgICAgICB8ICAgMyArCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9NYWtlZmlsZSAg
ICAgICB8ICAgMyArLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYyAgICAgfCAgIDUg
KwogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZ3R0LmMgfCAgIDUgKwogZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9nZW1fZ3R0LmggfCAgIDQgKwogZHJpdmVycy9ncHUvZHJtL2k5MTUv
aTkxNV9zdm0uYyAgICAgfCAzMjQgKysrKysrKysrKysrKysrKysrKysrKysrKysrKwogZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaTkxNV9zdm0uaCAgICAgfCAgNTAgKysrKysKIGluY2x1ZGUvdWFwaS9k
cm0vaTkxNV9kcm0uaCAgICAgICAgIHwgICA5ICstCiA4IGZpbGVzIGNoYW5nZWQsIDQwMSBpbnNl
cnRpb25zKCspLCAyIGRlbGV0aW9ucygtKQogY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfc3ZtLmMKIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X3N2bS5oCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvS2NvbmZp
ZyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L0tjb25maWcKaW5kZXggYzJlNDg3MTBlZWM4Li42ODll
NTdmZTM5NzMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L0tjb25maWcKKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvS2NvbmZpZwpAQCAtMTQxLDYgKzE0MSw5IEBAIGNvbmZpZyBE
Uk1fSTkxNV9TVk0KIAlib29sICJFbmFibGUgU2hhcmVkIFZpcnR1YWwgTWVtb3J5IHN1cHBvcnQg
aW4gaTkxNSIKIAlkZXBlbmRzIG9uIFNUQUdJTkcKIAlkZXBlbmRzIG9uIERSTV9JOTE1CisJZGVw
ZW5kcyBvbiBNTVUKKwlzZWxlY3QgSE1NX01JUlJPUgorCXNlbGVjdCBNTVVfTk9USUZJRVIKIAlk
ZWZhdWx0IG4KIAloZWxwCiAJICBDaG9vc2UgdGhpcyBvcHRpb24gaWYgeW91IHdhbnQgU2hhcmVk
IFZpcnR1YWwgTWVtb3J5IChTVk0pCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9N
YWtlZmlsZSBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L01ha2VmaWxlCmluZGV4IDc1ZmU0NTYzMzc3
OS4uN2Q0Y2Q5ZWVmZDEyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9NYWtlZmls
ZQorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9NYWtlZmlsZQpAQCAtMTU0LDcgKzE1NCw4IEBA
IGk5MTUteSArPSBcCiAJICBpbnRlbF93b3BjbS5vCiAKICMgU1ZNIGNvZGUKLWk5MTUtJChDT05G
SUdfRFJNX0k5MTVfU1ZNKSArPSBnZW0vaTkxNV9nZW1fc3ZtLm8KK2k5MTUtJChDT05GSUdfRFJN
X0k5MTVfU1ZNKSArPSBnZW0vaTkxNV9nZW1fc3ZtLm8gXAorCQkJICAgICAgIGk5MTVfc3ZtLm8K
IAogIyBnZW5lcmFsLXB1cnBvc2UgbWljcm9jb250cm9sbGVyIChHdUMpIHN1cHBvcnQKIG9iai15
ICs9IGd0L3VjLwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmMKaW5kZXggZDQ1MmVhOGU0MGIzLi44NjZk
M2NiYjFlZGYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmMKKysr
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYwpAQCAtNjIsNiArNjIsNyBAQAogI2lu
Y2x1ZGUgImdlbS9pOTE1X2dlbV9jb250ZXh0LmgiCiAjaW5jbHVkZSAiZ2VtL2k5MTVfZ2VtX2lv
Y3Rscy5oIgogI2luY2x1ZGUgImdlbS9pOTE1X2dlbV9tbWFuLmgiCisjaW5jbHVkZSAiZ2VtL2k5
MTVfZ2VtX3N2bS5oIgogI2luY2x1ZGUgImd0L2ludGVsX2d0LmgiCiAjaW5jbHVkZSAiZ3QvaW50
ZWxfZ3RfcG0uaCIKICNpbmNsdWRlICJndC9pbnRlbF9yYzYuaCIKQEAgLTczLDYgKzc0LDcgQEAK
ICNpbmNsdWRlICJpOTE1X3BlcmYuaCIKICNpbmNsdWRlICJpOTE1X3F1ZXJ5LmgiCiAjaW5jbHVk
ZSAiaTkxNV9zdXNwZW5kLmgiCisjaW5jbHVkZSAiaTkxNV9zdm0uaCIKICNpbmNsdWRlICJpOTE1
X3N3aXRjaGVyb28uaCIKICNpbmNsdWRlICJpOTE1X3N5c2ZzLmgiCiAjaW5jbHVkZSAiaTkxNV90
cmFjZS5oIgpAQCAtMjY5NCw2ICsyNjk2LDkgQEAgc3RhdGljIGludCBpOTE1X2dlbV92bV9iaW5k
X2lvY3RsKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHZvaWQgKmRhdGEsCiAJc3dpdGNoIChhcmdz
LT50eXBlKSB7CiAJY2FzZSBJOTE1X0dFTV9WTV9CSU5EX1NWTV9PQko6CiAJCXJldCA9IGk5MTVf
Z2VtX3ZtX2JpbmRfc3ZtX29iaih2bSwgYXJncywgZmlsZSk7CisJCWJyZWFrOworCWNhc2UgSTkx
NV9HRU1fVk1fQklORF9TVk1fQlVGRkVSOgorCQlyZXQgPSBpOTE1X2dlbV92bV9iaW5kX3N2bV9i
dWZmZXIodm0sIGFyZ3MpOwogCX0KIAogCWk5MTVfdm1fcHV0KHZtKTsKZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtX2d0dC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aTkxNV9nZW1fZ3R0LmMKaW5kZXggNjY1N2ZmNDFkYzNmLi4xOTI2NzRmMDNlNGUgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtX2d0dC5jCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfZ2VtX2d0dC5jCkBAIC00Miw2ICs0Miw3IEBACiAKICNpbmNsdWRlICJp
OTE1X2Rydi5oIgogI2luY2x1ZGUgImk5MTVfc2NhdHRlcmxpc3QuaCIKKyNpbmNsdWRlICJpOTE1
X3N2bS5oIgogI2luY2x1ZGUgImk5MTVfdHJhY2UuaCIKICNpbmNsdWRlICJpOTE1X3ZncHUuaCIK
IApAQCAtNTYyLDYgKzU2Myw3IEBAIHN0YXRpYyB2b2lkIGk5MTVfYWRkcmVzc19zcGFjZV9maW5p
KHN0cnVjdCBpOTE1X2FkZHJlc3Nfc3BhY2UgKnZtKQogCWRybV9tbV90YWtlZG93bigmdm0tPm1t
KTsKIAogCW11dGV4X2Rlc3Ryb3koJnZtLT5tdXRleCk7CisJbXV0ZXhfZGVzdHJveSgmdm0tPnN2
bV9tdXRleCk7CiB9CiAKIHZvaWQgX19pOTE1X3ZtX2Nsb3NlKHN0cnVjdCBpOTE1X2FkZHJlc3Nf
c3BhY2UgKnZtKQpAQCAtNTkxLDYgKzU5Myw3IEBAIHN0YXRpYyB2b2lkIF9faTkxNV92bV9yZWxl
YXNlKHN0cnVjdCB3b3JrX3N0cnVjdCAqd29yaykKIAlzdHJ1Y3QgaTkxNV9hZGRyZXNzX3NwYWNl
ICp2bSA9CiAJCWNvbnRhaW5lcl9vZih3b3JrLCBzdHJ1Y3QgaTkxNV9hZGRyZXNzX3NwYWNlLCBy
Y3Uud29yayk7CiAKKwlpOTE1X3N2bV91bmJpbmRfbW0odm0pOwogCXZtLT5jbGVhbnVwKHZtKTsK
IAlpOTE1X2FkZHJlc3Nfc3BhY2VfZmluaSh2bSk7CiAKQEAgLTYyMCw2ICs2MjMsNyBAQCBzdGF0
aWMgdm9pZCBpOTE1X2FkZHJlc3Nfc3BhY2VfaW5pdChzdHJ1Y3QgaTkxNV9hZGRyZXNzX3NwYWNl
ICp2bSwgaW50IHN1YmNsYXNzKQogCSAqIGF0dGVtcHQgaG9sZGluZyB0aGUgbG9jayBpcyBpbW1l
ZGlhdGVseSByZXBvcnRlZCBieSBsb2NrZGVwLgogCSAqLwogCW11dGV4X2luaXQoJnZtLT5tdXRl
eCk7CisJbXV0ZXhfaW5pdCgmdm0tPnN2bV9tdXRleCk7CiAJbG9ja2RlcF9zZXRfc3ViY2xhc3Mo
JnZtLT5tdXRleCwgc3ViY2xhc3MpOwogCWk5MTVfZ2VtX3Nocmlua2VyX3RhaW50c19tdXRleCh2
bS0+aTkxNSwgJnZtLT5tdXRleCk7CiAKQEAgLTYzMSw2ICs2MzUsNyBAQCBzdGF0aWMgdm9pZCBp
OTE1X2FkZHJlc3Nfc3BhY2VfaW5pdChzdHJ1Y3QgaTkxNV9hZGRyZXNzX3NwYWNlICp2bSwgaW50
IHN1YmNsYXNzKQogCiAJSU5JVF9MSVNUX0hFQUQoJnZtLT5ib3VuZF9saXN0KTsKIAlJTklUX0xJ
U1RfSEVBRCgmdm0tPnN2bV9saXN0KTsKKwlSQ1VfSU5JVF9QT0lOVEVSKHZtLT5zdm0sIE5VTEwp
OwogfQogCiBzdGF0aWMgaW50IF9fc2V0dXBfcGFnZV9kbWEoc3RydWN0IGk5MTVfYWRkcmVzc19z
cGFjZSAqdm0sCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbV9ndHQu
aCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtX2d0dC5oCmluZGV4IDhhOGEzMTRlMTI5
NS4uZTA2ZTY0NDdlMGQ3IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dl
bV9ndHQuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbV9ndHQuaApAQCAtMjkz
LDYgKzI5Myw4IEBAIHN0cnVjdCBpOTE1X3N2bV9vYmogewogCXU2NCBvZmZzZXQ7CiB9OwogCitz
dHJ1Y3QgaTkxNV9zdm07CisKIHN0cnVjdCBpOTE1X2FkZHJlc3Nfc3BhY2UgewogCXN0cnVjdCBr
cmVmIHJlZjsKIAlzdHJ1Y3QgcmN1X3dvcmsgcmN1OwpAQCAtMzQyLDYgKzM0NCw4IEBAIHN0cnVj
dCBpOTE1X2FkZHJlc3Nfc3BhY2UgewogCSAqLwogCXN0cnVjdCBsaXN0X2hlYWQgc3ZtX2xpc3Q7
CiAJdW5zaWduZWQgaW50IHN2bV9jb3VudDsKKwlzdHJ1Y3QgaTkxNV9zdm0gKnN2bTsKKwlzdHJ1
Y3QgbXV0ZXggc3ZtX211dGV4OyAvKiBwcm90ZWN0cyBzdm0gZW5hYmxpbmcgKi8KIAogCXN0cnVj
dCBwYWdlc3Rhc2ggZnJlZV9wYWdlczsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvaTkxNV9zdm0uYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfc3ZtLmMKbmV3IGZpbGUg
bW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAwLi41OTQxYmU1YjU4MDMKLS0tIC9kZXYvbnVs
bAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3N2bS5jCkBAIC0wLDAgKzEsMzI0IEBA
CisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUCisvKgorICogQ29weXJpZ2h0IMKpIDIw
MTkgSW50ZWwgQ29ycG9yYXRpb24KKyAqLworCisjaW5jbHVkZSA8bGludXgvbW1fdHlwZXMuaD4K
KyNpbmNsdWRlIDxsaW51eC9zY2hlZC9tbS5oPgorCisjaW5jbHVkZSAiaTkxNV9zdm0uaCIKKyNp
bmNsdWRlICJpbnRlbF9tZW1vcnlfcmVnaW9uLmgiCisjaW5jbHVkZSAiZ2VtL2k5MTVfZ2VtX2Nv
bnRleHQuaCIKKworc3RydWN0IHN2bV9ub3RpZmllciB7CisJc3RydWN0IG1tdV9pbnRlcnZhbF9u
b3RpZmllciBub3RpZmllcjsKKwlzdHJ1Y3QgaTkxNV9zdm0gKnN2bTsKK307CisKK3N0YXRpYyBj
b25zdCB1NjQgaTkxNV9yYW5nZV9mbGFnc1tITU1fUEZOX0ZMQUdfTUFYXSA9IHsKKwlbSE1NX1BG
Tl9WQUxJRF0gICAgICAgICAgPSAoMSA8PCAwKSwgLyogSE1NX1BGTl9WQUxJRCAqLworCVtITU1f
UEZOX1dSSVRFXSAgICAgICAgICA9ICgxIDw8IDEpLCAvKiBITU1fUEZOX1dSSVRFICovCisJW0hN
TV9QRk5fREVWSUNFX1BSSVZBVEVdID0gKDEgPDwgMikgLyogSE1NX1BGTl9ERVZJQ0VfUFJJVkFU
RSAqLworfTsKKworc3RhdGljIGNvbnN0IHU2NCBpOTE1X3JhbmdlX3ZhbHVlc1tITU1fUEZOX1ZB
TFVFX01BWF0gPSB7CisJW0hNTV9QRk5fRVJST1JdICAgPSAweGZmZmZmZmZmZmZmZmZmZmVVTCwg
LyogSE1NX1BGTl9FUlJPUiAqLworCVtITU1fUEZOX05PTkVdICAgID0gMCwgLyogSE1NX1BGTl9O
T05FICovCisJW0hNTV9QRk5fU1BFQ0lBTF0gPSAweGZmZmZmZmZmZmZmZmZmZmNVTCAvKiBITU1f
UEZOX1NQRUNJQUwgKi8KK307CisKK3N0YXRpYyBzdHJ1Y3QgaTkxNV9zdm0gKnZtX2dldF9zdm0o
c3RydWN0IGk5MTVfYWRkcmVzc19zcGFjZSAqdm0pCit7CisJc3RydWN0IGk5MTVfc3ZtICpzdm0g
PSB2bS0+c3ZtOworCisJbXV0ZXhfbG9jaygmdm0tPnN2bV9tdXRleCk7CisJaWYgKHN2bSAmJiAh
a3JlZl9nZXRfdW5sZXNzX3plcm8oJnN2bS0+cmVmKSkKKwkJc3ZtID0gTlVMTDsKKworCW11dGV4
X3VubG9jaygmdm0tPnN2bV9tdXRleCk7CisJcmV0dXJuIHN2bTsKK30KKworc3RhdGljIHZvaWQg
cmVsZWFzZV9zdm0oc3RydWN0IGtyZWYgKnJlZikKK3sKKwlzdHJ1Y3QgaTkxNV9zdm0gKnN2bSA9
IGNvbnRhaW5lcl9vZihyZWYsIHR5cGVvZigqc3ZtKSwgcmVmKTsKKwlzdHJ1Y3QgaTkxNV9hZGRy
ZXNzX3NwYWNlICp2bSA9IHN2bS0+dm07CisKKwltbXVfbm90aWZpZXJfdW5yZWdpc3Rlcigmc3Zt
LT5ub3RpZmllciwgc3ZtLT5ub3RpZmllci5tbSk7CisJbXV0ZXhfZGVzdHJveSgmc3ZtLT5tdXRl
eCk7CisJdm0tPnN2bSA9IE5VTEw7CisJa2ZyZWUoc3ZtKTsKK30KKworc3RhdGljIHZvaWQgdm1f
cHV0X3N2bShzdHJ1Y3QgaTkxNV9hZGRyZXNzX3NwYWNlICp2bSkKK3sKKwltdXRleF9sb2NrKCZ2
bS0+c3ZtX211dGV4KTsKKwlpZiAodm0tPnN2bSkKKwkJa3JlZl9wdXQoJnZtLT5zdm0tPnJlZiwg
cmVsZWFzZV9zdm0pOworCW11dGV4X3VubG9jaygmdm0tPnN2bV9tdXRleCk7Cit9CisKK3N0YXRp
YyB1MzIgaTkxNV9zdm1fYnVpbGRfc2coc3RydWN0IGk5MTVfYWRkcmVzc19zcGFjZSAqdm0sCisJ
CQkgICAgIHN0cnVjdCBobW1fcmFuZ2UgKnJhbmdlLAorCQkJICAgICBzdHJ1Y3Qgc2dfdGFibGUg
KnN0KQoreworCXN0cnVjdCBzY2F0dGVybGlzdCAqc2c7CisJdTMyIHNnX3BhZ2Vfc2l6ZXMgPSAw
OworCXU2NCBpLCBucGFnZXM7CisKKwlzZyA9IE5VTEw7CisJc3QtPm5lbnRzID0gMDsKKwlucGFn
ZXMgPSAocmFuZ2UtPmVuZCAtIHJhbmdlLT5zdGFydCkgLyBQQUdFX1NJWkU7CisKKwkvKgorCSAq
IE5vIG5lZWQgdG8gZG1hIG1hcCB0aGUgaG9zdCBwYWdlcyBhbmQgbGF0ZXIgdW5tYXAgaXQsIGFz
CisJICogR1BVIGlzIG5vdCBhbGxvd2VkIHRvIGFjY2VzcyBpdCB3aXRoIFNWTS4KKwkgKiBYWFg6
IE5lZWQgdG8gZG1hIG1hcCBob3N0IHBhZ2VzIGZvciBpbnRlZ3JhdGVkIGdyYXBoaWNzIHdoaWxl
CisJICogZXh0ZW5kaW5nIFNWTSBzdXBwb3J0IHRoZXJlLgorCSAqLworCWZvciAoaSA9IDA7IGkg
PCBucGFnZXM7IGkrKykgeworCQl1NjQgYWRkciA9IHJhbmdlLT5wZm5zW2ldICYgfigoMVVMIDw8
IHJhbmdlLT5wZm5fc2hpZnQpIC0gMSk7CisKKwkJaWYgKHNnICYmIChhZGRyID09IChzZ19kbWFf
YWRkcmVzcyhzZykgKyBzZy0+bGVuZ3RoKSkpIHsKKwkJCXNnLT5sZW5ndGggKz0gUEFHRV9TSVpF
OworCQkJc2dfZG1hX2xlbihzZykgKz0gUEFHRV9TSVpFOworCQkJY29udGludWU7CisJCX0KKwor
CQlpZiAoc2cpCisJCQlzZ19wYWdlX3NpemVzIHw9IHNnLT5sZW5ndGg7CisKKwkJc2cgPSAgc2cg
PyBfX3NnX25leHQoc2cpIDogc3QtPnNnbDsKKwkJc2dfZG1hX2FkZHJlc3Moc2cpID0gYWRkcjsK
KwkJc2dfZG1hX2xlbihzZykgPSBQQUdFX1NJWkU7CisJCXNnLT5sZW5ndGggPSBQQUdFX1NJWkU7
CisJCXN0LT5uZW50cysrOworCX0KKworCXNnX3BhZ2Vfc2l6ZXMgfD0gc2ctPmxlbmd0aDsKKwlz
Z19tYXJrX2VuZChzZyk7CisJcmV0dXJuIHNnX3BhZ2Vfc2l6ZXM7Cit9CisKK3N0YXRpYyBib29s
IGk5MTVfc3ZtX3JhbmdlX2ludmFsaWRhdGUoc3RydWN0IG1tdV9pbnRlcnZhbF9ub3RpZmllciAq
bW5pLAorCQkJCSAgICAgIGNvbnN0IHN0cnVjdCBtbXVfbm90aWZpZXJfcmFuZ2UgKnJhbmdlLAor
CQkJCSAgICAgIHVuc2lnbmVkIGxvbmcgY3VyX3NlcSkKK3sKKwlzdHJ1Y3Qgc3ZtX25vdGlmaWVy
ICpzbiA9CisJCWNvbnRhaW5lcl9vZihtbmksIHN0cnVjdCBzdm1fbm90aWZpZXIsIG5vdGlmaWVy
KTsKKworCS8qCisJICogc2VyaWFsaXplcyB0aGUgdXBkYXRlIHRvIG1uaS0+aW52YWxpZGF0ZV9z
ZXEgZG9uZSBieSBjYWxsZXIgYW5kCisJICogcHJldmVudHMgaW52YWxpZGF0aW9uIG9mIHRoZSBQ
VEUgZnJvbSBwcm9ncmVzc2luZyB3aGlsZSBIVyBpcyBiZWluZworCSAqIHByb2dyYW1tZWQuIFRo
aXMgaXMgdmVyeSBoYWNreSBhbmQgb25seSB3b3JrcyBiZWNhdXNlIHRoZSBub3JtYWwKKwkgKiBu
b3RpZmllciB0aGF0IGRvZXMgaW52YWxpZGF0aW9uIGlzIGFsd2F5cyBjYWxsZWQgYWZ0ZXIgdGhl
IHJhbmdlCisJICogbm90aWZpZXIuCisJICovCisJaWYgKG1tdV9ub3RpZmllcl9yYW5nZV9ibG9j
a2FibGUocmFuZ2UpKQorCQltdXRleF9sb2NrKCZzbi0+c3ZtLT5tdXRleCk7CisJZWxzZSBpZiAo
IW11dGV4X3RyeWxvY2soJnNuLT5zdm0tPm11dGV4KSkKKwkJcmV0dXJuIGZhbHNlOworCW1tdV9p
bnRlcnZhbF9zZXRfc2VxKG1uaSwgY3VyX3NlcSk7CisJbXV0ZXhfdW5sb2NrKCZzbi0+c3ZtLT5t
dXRleCk7CisJcmV0dXJuIHRydWU7Cit9CisKK3N0YXRpYyBjb25zdCBzdHJ1Y3QgbW11X2ludGVy
dmFsX25vdGlmaWVyX29wcyBpOTE1X3N2bV9tbmlfb3BzID0geworCS5pbnZhbGlkYXRlID0gaTkx
NV9zdm1fcmFuZ2VfaW52YWxpZGF0ZSwKK307CisKK3N0YXRpYyBpbnQgaTkxNV9yYW5nZV9mYXVs
dChzdHJ1Y3Qgc3ZtX25vdGlmaWVyICpzbiwKKwkJCSAgICBzdHJ1Y3QgZHJtX2k5MTVfZ2VtX3Zt
X2JpbmQgKmFyZ3MsCisJCQkgICAgc3RydWN0IHNnX3RhYmxlICpzdCwgdTY0ICpwZm5zKQorewor
CXVuc2lnbmVkIGxvbmcgdGltZW91dCA9CisJCWppZmZpZXMgKyBtc2Vjc190b19qaWZmaWVzKEhN
TV9SQU5HRV9ERUZBVUxUX1RJTUVPVVQpOworCS8qIEhhdmUgSE1NIGZhdWx0IHBhZ2VzIHdpdGhp
biB0aGUgZmF1bHQgd2luZG93IHRvIHRoZSBHUFUuICovCisJc3RydWN0IGhtbV9yYW5nZSByYW5n
ZSA9IHsKKwkJLm5vdGlmaWVyID0gJnNuLT5ub3RpZmllciwKKwkJLnN0YXJ0ID0gc24tPm5vdGlm
aWVyLmludGVydmFsX3RyZWUuc3RhcnQsCisJCS5lbmQgPSBzbi0+bm90aWZpZXIuaW50ZXJ2YWxf
dHJlZS5sYXN0ICsgMSwKKwkJLnBmbnMgPSBwZm5zLAorCQkucGZuX3NoaWZ0ID0gUEFHRV9TSElG
VCwKKwkJLmZsYWdzID0gaTkxNV9yYW5nZV9mbGFncywKKwkJLnZhbHVlcyA9IGk5MTVfcmFuZ2Vf
dmFsdWVzLAorCQkuZGVmYXVsdF9mbGFncyA9IChyYW5nZS5mbGFnc1tITU1fUEZOX1ZBTElEXSB8
CisJCQkJICAoKGFyZ3MtPmZsYWdzICYgSTkxNV9HRU1fVk1fQklORF9SRUFET05MWSkgPworCQkJ
CSAgIDAgOiByYW5nZS5mbGFnc1tITU1fUEZOX1dSSVRFXSkpLAorCQkucGZuX2ZsYWdzX21hc2sg
PSAwLAorCisJfTsKKwlzdHJ1Y3QgaTkxNV9zdm0gKnN2bSA9IHNuLT5zdm07CisJc3RydWN0IG1t
X3N0cnVjdCAqbW0gPSBzbi0+bm90aWZpZXIubW07CisJc3RydWN0IGk5MTVfYWRkcmVzc19zcGFj
ZSAqdm0gPSBzdm0tPnZtOworCXUzMiBzZ19wYWdlX3NpemVzOworCXU2NCBmbGFnczsKKwlsb25n
IHJldDsKKworCXdoaWxlICh0cnVlKSB7CisJCWlmICh0aW1lX2FmdGVyKGppZmZpZXMsIHRpbWVv
dXQpKQorCQkJcmV0dXJuIC1FQlVTWTsKKworCQlyYW5nZS5ub3RpZmllcl9zZXEgPSBtbXVfaW50
ZXJ2YWxfcmVhZF9iZWdpbihyYW5nZS5ub3RpZmllcik7CisJCWRvd25fcmVhZCgmbW0tPm1tYXBf
c2VtKTsKKwkJcmV0ID0gaG1tX3JhbmdlX2ZhdWx0KCZyYW5nZSwgMCk7CisJCXVwX3JlYWQoJm1t
LT5tbWFwX3NlbSk7CisJCWlmIChyZXQgPD0gMCkgeworCQkJaWYgKHJldCA9PSAwIHx8IHJldCA9
PSAtRUJVU1kpCisJCQkJY29udGludWU7CisJCQlyZXR1cm4gcmV0OworCQl9CisKKwkJc2dfcGFn
ZV9zaXplcyA9IGk5MTVfc3ZtX2J1aWxkX3NnKHZtLCAmcmFuZ2UsIHN0KTsKKworCQltdXRleF9s
b2NrKCZzdm0tPm11dGV4KTsKKwkJaWYgKG1tdV9pbnRlcnZhbF9yZWFkX3JldHJ5KHJhbmdlLm5v
dGlmaWVyLAorCQkJCQkgICAgcmFuZ2Uubm90aWZpZXJfc2VxKSkgeworCQkJbXV0ZXhfdW5sb2Nr
KCZzdm0tPm11dGV4KTsKKwkJCWNvbnRpbnVlOworCQl9CisJCWJyZWFrOworCX0KKworCWZsYWdz
ID0gKGFyZ3MtPmZsYWdzICYgSTkxNV9HRU1fVk1fQklORF9SRUFET05MWSkgPworCQlJOTE1X0dU
VF9TVk1fUkVBRE9OTFkgOiAwOworCXJldCA9IHN2bV9iaW5kX2FkZHJfY29tbWl0KHZtLCBhcmdz
LT5zdGFydCwgYXJncy0+bGVuZ3RoLAorCQkJCSAgIGZsYWdzLCBzdCwgc2dfcGFnZV9zaXplcyk7
CisJbXV0ZXhfdW5sb2NrKCZzdm0tPm11dGV4KTsKKworCXJldHVybiByZXQ7Cit9CisKK3N0YXRp
YyB2b2lkIGk5MTVfZ2VtX3ZtX3VuYmluZF9zdm1fYnVmZmVyKHN0cnVjdCBpOTE1X2FkZHJlc3Nf
c3BhY2UgKnZtLAorCQkJCQkgIHU2NCBzdGFydCwgdTY0IGxlbmd0aCkKK3sKKwlzdHJ1Y3QgaTkx
NV9zdm0gKnN2bSA9IHZtLT5zdm07CisKKwltdXRleF9sb2NrKCZzdm0tPm11dGV4KTsKKwkvKiBG
SVhNRTogTmVlZCB0byBmbHVzaCB0aGUgVExCICovCisJc3ZtX3VuYmluZF9hZGRyKHZtLCBzdGFy
dCwgbGVuZ3RoKTsKKwltdXRleF91bmxvY2soJnN2bS0+bXV0ZXgpOworfQorCitpbnQgaTkxNV9n
ZW1fdm1fYmluZF9zdm1fYnVmZmVyKHN0cnVjdCBpOTE1X2FkZHJlc3Nfc3BhY2UgKnZtLAorCQkJ
CXN0cnVjdCBkcm1faTkxNV9nZW1fdm1fYmluZCAqYXJncykKK3sKKwlzdHJ1Y3Qgc3ZtX25vdGlm
aWVyIHNuOworCXN0cnVjdCBpOTE1X3N2bSAqc3ZtOworCXN0cnVjdCBtbV9zdHJ1Y3QgKm1tOwor
CXN0cnVjdCBzZ190YWJsZSBzdDsKKwl1NjQgbnBhZ2VzLCAqcGZuczsKKwlpbnQgcmV0ID0gMDsK
KworCXN2bSA9IHZtX2dldF9zdm0odm0pOworCWlmICghc3ZtKQorCQlyZXR1cm4gLUVJTlZBTDsK
KworCW1tID0gc3ZtLT5ub3RpZmllci5tbTsKKwlpZiAobW0gIT0gY3VycmVudC0+bW0pIHsKKwkJ
cmV0ID0gLUVQRVJNOworCQlnb3RvIGJpbmRfZG9uZTsKKwl9CisKKwlhcmdzLT5sZW5ndGggKz0g
KGFyZ3MtPnN0YXJ0ICYgflBBR0VfTUFTSyk7CisJYXJncy0+c3RhcnQgJj0gUEFHRV9NQVNLOwor
CURSTV9ERUJVR19EUklWRVIoIiVzaW5nIHN0YXJ0IDB4JWxseCBsZW5ndGggMHglbGx4IHZtX2lk
IDB4JXhcbiIsCisJCQkgKGFyZ3MtPmZsYWdzICYgSTkxNV9HRU1fVk1fQklORF9VTkJJTkQpID8K
KwkJCSAiVW5iaW5kIiA6ICJCaW5kIiwgYXJncy0+c3RhcnQsIGFyZ3MtPmxlbmd0aCwKKwkJCSBh
cmdzLT52bV9pZCk7CisJaWYgKGFyZ3MtPmZsYWdzICYgSTkxNV9HRU1fVk1fQklORF9VTkJJTkQp
IHsKKwkJaTkxNV9nZW1fdm1fdW5iaW5kX3N2bV9idWZmZXIodm0sIGFyZ3MtPnN0YXJ0LCBhcmdz
LT5sZW5ndGgpOworCQlnb3RvIGJpbmRfZG9uZTsKKwl9CisKKwlucGFnZXMgPSBhcmdzLT5sZW5n
dGggLyBQQUdFX1NJWkU7CisJaWYgKHVubGlrZWx5KHNnX2FsbG9jX3RhYmxlKCZzdCwgbnBhZ2Vz
LCBHRlBfS0VSTkVMKSkpIHsKKwkJcmV0ID0gLUVOT01FTTsKKwkJZ290byBiaW5kX2RvbmU7CisJ
fQorCisJcGZucyA9IGt2bWFsbG9jX2FycmF5KG5wYWdlcywgc2l6ZW9mKHVpbnQ2NF90KSwgR0ZQ
X0tFUk5FTCk7CisJaWYgKHVubGlrZWx5KCFwZm5zKSkgeworCQlyZXQgPSAtRU5PTUVNOworCQln
b3RvIHJhbmdlX2RvbmU7CisJfQorCisJcmV0ID0gc3ZtX2JpbmRfYWRkcl9wcmVwYXJlKHZtLCBh
cmdzLT5zdGFydCwgYXJncy0+bGVuZ3RoKTsKKwlpZiAodW5saWtlbHkocmV0KSkKKwkJZ290byBw
cmVwYXJlX2RvbmU7CisKKwlzbi5zdm0gPSBzdm07CisJcmV0ID0gbW11X2ludGVydmFsX25vdGlm
aWVyX2luc2VydCgmc24ubm90aWZpZXIsIG1tLAorCQkJCQkgICBhcmdzLT5zdGFydCwgYXJncy0+
bGVuZ3RoLAorCQkJCQkgICAmaTkxNV9zdm1fbW5pX29wcyk7CisJaWYgKCFyZXQpIHsKKwkJcmV0
ID0gaTkxNV9yYW5nZV9mYXVsdCgmc24sIGFyZ3MsICZzdCwgcGZucyk7CisJCW1tdV9pbnRlcnZh
bF9ub3RpZmllcl9yZW1vdmUoJnNuLm5vdGlmaWVyKTsKKwl9CisKKwlpZiAodW5saWtlbHkocmV0
KSkKKwkJaTkxNV9nZW1fdm1fdW5iaW5kX3N2bV9idWZmZXIodm0sIGFyZ3MtPnN0YXJ0LCBhcmdz
LT5sZW5ndGgpOworcHJlcGFyZV9kb25lOgorCWt2ZnJlZShwZm5zKTsKK3JhbmdlX2RvbmU6CisJ
c2dfZnJlZV90YWJsZSgmc3QpOworYmluZF9kb25lOgorCXZtX3B1dF9zdm0odm0pOworCXJldHVy
biByZXQ7Cit9CisKK3N0YXRpYyBpbnQKK2k5MTVfc3ZtX2ludmFsaWRhdGVfcmFuZ2Vfc3RhcnQo
c3RydWN0IG1tdV9ub3RpZmllciAqbW4sCisJCQkJY29uc3Qgc3RydWN0IG1tdV9ub3RpZmllcl9y
YW5nZSAqdXBkYXRlKQoreworCXN0cnVjdCBpOTE1X3N2bSAqc3ZtID0gY29udGFpbmVyX29mKG1u
LCBzdHJ1Y3QgaTkxNV9zdm0sIG5vdGlmaWVyKTsKKwl1bnNpZ25lZCBsb25nIGxlbmd0aCA9IHVw
ZGF0ZS0+ZW5kIC0gdXBkYXRlLT5zdGFydDsKKworCURSTV9ERUJVR19EUklWRVIoInN0YXJ0IDB4
JWx4IGxlbmd0aCAweCVseFxuIiwgdXBkYXRlLT5zdGFydCwgbGVuZ3RoKTsKKwlpZiAoIW1tdV9u
b3RpZmllcl9yYW5nZV9ibG9ja2FibGUodXBkYXRlKSkKKwkJcmV0dXJuIC1FQUdBSU47CisKKwlp
OTE1X2dlbV92bV91bmJpbmRfc3ZtX2J1ZmZlcihzdm0tPnZtLCB1cGRhdGUtPnN0YXJ0LCBsZW5n
dGgpOworCXJldHVybiAwOworfQorCitzdGF0aWMgY29uc3Qgc3RydWN0IG1tdV9ub3RpZmllcl9v
cHMgaTkxNV9tbl9vcHMgPSB7CisJLmludmFsaWRhdGVfcmFuZ2Vfc3RhcnQgPSBpOTE1X3N2bV9p
bnZhbGlkYXRlX3JhbmdlX3N0YXJ0LAorfTsKKwordm9pZCBpOTE1X3N2bV91bmJpbmRfbW0oc3Ry
dWN0IGk5MTVfYWRkcmVzc19zcGFjZSAqdm0pCit7CisJdm1fcHV0X3N2bSh2bSk7Cit9CisKK2lu
dCBpOTE1X3N2bV9iaW5kX21tKHN0cnVjdCBpOTE1X2FkZHJlc3Nfc3BhY2UgKnZtKQoreworCXN0
cnVjdCBtbV9zdHJ1Y3QgKm1tID0gY3VycmVudC0+bW07CisJc3RydWN0IGk5MTVfc3ZtICpzdm07
CisJaW50IHJldCA9IDA7CisKKwlkb3duX3dyaXRlKCZtbS0+bW1hcF9zZW0pOworCW11dGV4X2xv
Y2soJnZtLT5zdm1fbXV0ZXgpOworCWlmICh2bS0+c3ZtKQorCQlnb3RvIGJpbmRfb3V0OworCisJ
c3ZtID0ga3phbGxvYyhzaXplb2YoKnN2bSksIEdGUF9LRVJORUwpOworCWlmICghc3ZtKSB7CisJ
CXJldCA9IC1FTk9NRU07CisJCWdvdG8gYmluZF9vdXQ7CisJfQorCW11dGV4X2luaXQoJnN2bS0+
bXV0ZXgpOworCWtyZWZfaW5pdCgmc3ZtLT5yZWYpOworCXN2bS0+dm0gPSB2bTsKKworCXN2bS0+
bm90aWZpZXIub3BzID0gJmk5MTVfbW5fb3BzOworCXJldCA9IF9fbW11X25vdGlmaWVyX3JlZ2lz
dGVyKCZzdm0tPm5vdGlmaWVyLCBtbSk7CisJaWYgKHJldCkKKwkJZ290byBiaW5kX291dDsKKwor
CXZtLT5zdm0gPSBzdm07CitiaW5kX291dDoKKwltdXRleF91bmxvY2soJnZtLT5zdm1fbXV0ZXgp
OworCXVwX3dyaXRlKCZtbS0+bW1hcF9zZW0pOworCXJldHVybiByZXQ7Cit9CmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3N2bS5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aTkxNV9zdm0uaApuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwMDAwMDAuLmE5MWU2
YTYzN2YxMAotLS0gL2Rldi9udWxsCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfc3Zt
LmgKQEAgLTAsMCArMSw1MCBAQAorLyogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVCAqLwor
LyoKKyAqIENvcHlyaWdodCDCqSAyMDE5IEludGVsIENvcnBvcmF0aW9uCisgKi8KKworI2lmbmRl
ZiBfX0k5MTVfU1ZNX0gKKyNkZWZpbmUgX19JOTE1X1NWTV9ICisKKyNpbmNsdWRlIDxsaW51eC9o
bW0uaD4KKworI2luY2x1ZGUgImk5MTVfZHJ2LmgiCisKKyNpZiBkZWZpbmVkKENPTkZJR19EUk1f
STkxNV9TVk0pCitzdHJ1Y3QgaTkxNV9zdm0geworCS8qIGk5MTUgYWRkcmVzcyBzcGFjZSAqLwor
CXN0cnVjdCBpOTE1X2FkZHJlc3Nfc3BhY2UgKnZtOworCisJc3RydWN0IG1tdV9ub3RpZmllciBu
b3RpZmllcjsKKwlzdHJ1Y3QgbXV0ZXggbXV0ZXg7IC8qIHByb3RlY3RzIHN2bSBvcGVyYXRpb25z
ICovCisJLyoKKwkgKiBYWFg6IFByb2JhYmx5IGp1c3QgbWFrZSB1c2Ugb2YgbW11X25vdGlmaWVy
J3MgcmVmZXJlbmNlCisJICogY291bnRpbmcgKGdldC9wdXQpIGluc3RlYWQgb2Ygb3VyIG93bi4K
KwkgKi8KKwlzdHJ1Y3Qga3JlZiByZWY7Cit9OworCitpbnQgaTkxNV9nZW1fdm1fYmluZF9zdm1f
YnVmZmVyKHN0cnVjdCBpOTE1X2FkZHJlc3Nfc3BhY2UgKnZtLAorCQkJCXN0cnVjdCBkcm1faTkx
NV9nZW1fdm1fYmluZCAqYXJncyk7Cit2b2lkIGk5MTVfc3ZtX3VuYmluZF9tbShzdHJ1Y3QgaTkx
NV9hZGRyZXNzX3NwYWNlICp2bSk7CitpbnQgaTkxNV9zdm1fYmluZF9tbShzdHJ1Y3QgaTkxNV9h
ZGRyZXNzX3NwYWNlICp2bSk7CitzdGF0aWMgaW5saW5lIGJvb2wgaTkxNV92bV9pc19zdm1fZW5h
YmxlZChzdHJ1Y3QgaTkxNV9hZGRyZXNzX3NwYWNlICp2bSkKK3sKKwlyZXR1cm4gdm0tPnN2bTsK
K30KKworI2Vsc2UKKworc3RydWN0IGk5MTVfc3ZtIHsgfTsKK3N0YXRpYyBpbmxpbmUgaW50IGk5
MTVfZ2VtX3ZtX2JpbmRfc3ZtX2J1ZmZlcihzdHJ1Y3QgaTkxNV9hZGRyZXNzX3NwYWNlICp2bSwK
KwkJCQkJICAgICAgc3RydWN0IGRybV9pOTE1X2dlbV92bV9iaW5kICphcmdzKQoreyByZXR1cm4g
LUVOT1RTVVBQOyB9CitzdGF0aWMgaW5saW5lIHZvaWQgaTkxNV9zdm1fdW5iaW5kX21tKHN0cnVj
dCBpOTE1X2FkZHJlc3Nfc3BhY2UgKnZtKSB7IH0KK3N0YXRpYyBpbmxpbmUgaW50IGk5MTVfc3Zt
X2JpbmRfbW0oc3RydWN0IGk5MTVfYWRkcmVzc19zcGFjZSAqdm0pCit7IHJldHVybiAtRU5PVFNV
UFA7IH0KK3N0YXRpYyBpbmxpbmUgYm9vbCBpOTE1X3ZtX2lzX3N2bV9lbmFibGVkKHN0cnVjdCBp
OTE1X2FkZHJlc3Nfc3BhY2UgKnZtKQoreyByZXR1cm4gZmFsc2U7IH0KKworI2VuZGlmCisKKyNl
bmRpZiAvKiBfX0k5MTVfU1ZNX0ggKi8KZGlmZiAtLWdpdCBhL2luY2x1ZGUvdWFwaS9kcm0vaTkx
NV9kcm0uaCBiL2luY2x1ZGUvdWFwaS9kcm0vaTkxNV9kcm0uaAppbmRleCBlMTBkN2JmMmNmOWYu
LjMxNjQwNDU0NDZkOCAxMDA2NDQKLS0tIGEvaW5jbHVkZS91YXBpL2RybS9pOTE1X2RybS5oCisr
KyBiL2luY2x1ZGUvdWFwaS9kcm0vaTkxNV9kcm0uaApAQCAtMjMwNSwxNSArMjMwNSwyMiBAQCBz
dHJ1Y3QgZHJtX2k5MTVfcXVlcnlfcGVyZl9jb25maWcgewogLyoqCiAgKiBzdHJ1Y3QgZHJtX2k5
MTVfZ2VtX3ZtX2JpbmQKICAqCi0gKiBCaW5kIGFuIG9iamVjdCBpbiBhIHZtJ3MgcGFnZSB0YWJs
ZS4KKyAqIEJpbmQgYW4gb2JqZWN0L2J1ZmZlciBpbiBhIHZtJ3MgcGFnZSB0YWJsZS4KICAqLwog
c3RydWN0IGRybV9pOTE1X2dlbV92bV9iaW5kIHsKIAkvKiogVkEgc3RhcnQgdG8gYmluZCAqKi8K
IAlfX3U2NCBzdGFydDsKIAorCS8qKgorCSAqIFZBIGxlbmd0aCB0byBbdW5dYmluZAorCSAqIGxl
bmd0aCBvbmx5IHJlcXVpcmVkIHdoaWxlIGJpbmRpbmcgYnVmZmVycy4KKwkgKi8KKwlfX3U2NCBs
ZW5ndGg7CisKIAkvKiogVHlwZSBvZiBtZW1vcnkgdG8gW3VuXWJpbmQgKiovCiAJX191MzIgdHlw
ZTsKICNkZWZpbmUgSTkxNV9HRU1fVk1fQklORF9TVk1fT0JKICAgICAgMAorI2RlZmluZSBJOTE1
X0dFTV9WTV9CSU5EX1NWTV9CVUZGRVIgICAxCiAKIAkvKiogT2JqZWN0IGhhbmRsZSB0byBbdW5d
YmluZCBmb3IgSTkxNV9HRU1fVk1fQklORF9TVk1fT0JKIHR5cGUgKiovCiAJX191MzIgaGFuZGxl
OwotLSAKMi4yMS4wLnJjMC4zMi5nMjQzYTRjN2UyNwoKX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxA
bGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxt
YW4vbGlzdGluZm8vZHJpLWRldmVsCg==
