Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 2AEB896CC2
	for <lists+dri-devel@lfdr.de>; Wed, 21 Aug 2019 01:07:18 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 65F616E8CB;
	Tue, 20 Aug 2019 23:07:06 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-pf1-x444.google.com (mail-pf1-x444.google.com
 [IPv6:2607:f8b0:4864:20::444])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7DFA56E8C3
 for <dri-devel@lists.freedesktop.org>; Tue, 20 Aug 2019 23:06:54 +0000 (UTC)
Received: by mail-pf1-x444.google.com with SMTP id 129so95322pfa.4
 for <dri-devel@lists.freedesktop.org>; Tue, 20 Aug 2019 16:06:54 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references;
 bh=9wPcbIoBPT/8L74pQuiXRIt1kMA2rrNdraftIyGCKRU=;
 b=qYBvloJIhQhuJ8GKZkPNrCTR7AuLdn6i1FigQfUW+fAZpV82cu7djUeQlfOfkNTq/O
 9wFK76lErX+wnH3/S7aqIKwC3OlFpDGK8W3HFLQO1ih4WspbMCZLH24zIxxxPPDRpGta
 YMYZha2TiC6FuOtfnlOoe5LfxJKe9jeW6SmGeYUhvcwRylN9yiIMek8uTUCdnh5JxfSr
 ZFWYnsAlEfDLoW4O3iPnea6L0Ut/U/08mhXNd4mn5tjKvVtHmeArSSE7nUf2G3XWRBOo
 wrXqdW/AXwr2ilpRchmgErpJ7ZnaIza5sORIM2O4aTQzH5XLNnAcCeKTSWzrLJZQIVlP
 NjVA==
X-Gm-Message-State: APjAAAXTFz4bWyNrAl56ZjGpUvt0RCcu4VGhKhEuTVJ86tPsQIIluQCG
 jHVSHXaNgtJYoDMPB0IMi1RDQw==
X-Google-Smtp-Source: APXvYqwA2vG86Xa3XTeAfvmUNiasYaGiBQjfDhnTGPdGcYyITx4aN+Pjv6qz3iMqskAQpDZRDQcpYQ==
X-Received: by 2002:a17:90a:6581:: with SMTP id
 k1mr2350909pjj.47.1566342413486; 
 Tue, 20 Aug 2019 16:06:53 -0700 (PDT)
Received: from localhost.localdomain ([2601:1c2:680:1319:692:26ff:feda:3a81])
 by smtp.gmail.com with ESMTPSA id
 q4sm27564747pff.183.2019.08.20.16.06.51
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Tue, 20 Aug 2019 16:06:52 -0700 (PDT)
From: John Stultz <john.stultz@linaro.org>
To: lkml <linux-kernel@vger.kernel.org>
Subject: [PATCH v5 16/25] drm: kirin: Move plane number and primay plane in
 driver data
Date: Tue, 20 Aug 2019 23:06:17 +0000
Message-Id: <20190820230626.23253-17-john.stultz@linaro.org>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20190820230626.23253-1-john.stultz@linaro.org>
References: <20190820230626.23253-1-john.stultz@linaro.org>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=linaro.org; s=google;
 h=from:to:cc:subject:date:message-id:in-reply-to:references;
 bh=9wPcbIoBPT/8L74pQuiXRIt1kMA2rrNdraftIyGCKRU=;
 b=YIPSVYupeR5GBL+4iP8KgubrHAAyoTX6x00LkJOHx1jvD0oh7M/xQwqeVwTMOWIXSl
 dZcTZfD+t1RJWSjCmcaq32LJsCbNAz/AqoyzNmpk+vyQiRgfQkMZNLDg2cuk5CE06kYu
 gYaP/UrYI8prOQAmd6gyd4g9yr2xhR+zAdWTUb9nVzmOmDJ0LkolQ+a5a/HMfu2ZK4le
 LLbj8fT2Fqx18tTcdS7M6kKWkE0+PH7N5+7UP7ckP0124Fwr2yfo3HnUIcxcSbkCAxo0
 /ZdKrXBTUkj5c01ATSf05PQAQ4u3sZbsirGuxw3zR8kDDFrChpxxLeJflZz9FcGzERAy
 yFrQ==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Xu YiPing <xuyiping@hisilicon.com>, David Airlie <airlied@linux.ie>,
 dri-devel <dri-devel@lists.freedesktop.org>,
 Xinliang Liu <z.liuxinliang@hisilicon.com>,
 Rongrong Zou <zourongrong@gmail.com>, Sam Ravnborg <sam@ravnborg.org>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogWHUgWWlQaW5nIDx4dXlpcGluZ0BoaXNpbGljb24uY29tPgoKQXMgcGFydCBvZiByZWZh
Y3RvcmluZyB0aGUga2lyaW4gZHJpdmVyIHRvIGJldHRlciBzdXBwb3J0CmRpZmZlcmVudCBoYXJk
d2FyZSByZXZpc2lvbnMsIHRoaXMgcGF0Y2ggbW92ZXMgdGhlIG51bWJlciBvZgpwbGFuZXMgYW5k
IHRoZSBwcmltYXJ5IHBsYW5lIHZhbHVlIHRvIHRoZSBraXJpbl9kcm1fZGF0YQpzdHJ1Y3R1cmUK
ClRoaXMgd2lsbCBtYWtlIGl0IGVhc2llciB0byBhZGQgc3VwcG9ydCBmb3IgbmV3IGRldmljZXMK
dmlhIGEgbmV3IGtpcmluX2RybV9kYXRhIHN0cnVjdHVyZS4KCkNjOiBSb25ncm9uZyBab3UgPHpv
dXJvbmdyb25nQGdtYWlsLmNvbT4KQ2M6IFhpbmxpYW5nIExpdSA8ei5saXV4aW5saWFuZ0BoaXNp
bGljb24uY29tPgpDYzogRGF2aWQgQWlybGllIDxhaXJsaWVkQGxpbnV4LmllPgpDYzogRGFuaWVs
IFZldHRlciA8ZGFuaWVsQGZmd2xsLmNoPgpDYzogZHJpLWRldmVsIDxkcmktZGV2ZWxAbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnPgpDYzogU2FtIFJhdm5ib3JnIDxzYW1AcmF2bmJvcmcub3JnPgpBY2tl
ZC1ieTogWGlubGlhbmcgTGl1IDx6LmxpdXhpbmxpYW5nQGhpc2lsaWNvbi5jb20+ClJldmlld2Vk
LWJ5OiBTYW0gUmF2bmJvcmcgPHNhbUByYXZuYm9yZy5vcmc+ClNpZ25lZC1vZmYtYnk6IFh1IFlp
UGluZyA8eHV5aXBpbmdAaGlzaWxpY29uLmNvbT4KU2lnbmVkLW9mZi1ieTogSm9obiBTdHVsdHog
PGpvaG4uc3R1bHR6QGxpbmFyby5vcmc+Ci0tLQp2NTogY2hlY2twYXRjaCAtLXN0cmljdCB3aGl0
ZXNwYWNlIGZpeHVwcyBub3RpY2VkIGJ5IFNhbQotLS0KIC4uLi9ncHUvZHJtL2hpc2lsaWNvbi9r
aXJpbi9raXJpbl9kcm1fYWRlLmMgICB8IDIxICsrKysrKysrKysrKy0tLS0tLS0KIC4uLi9ncHUv
ZHJtL2hpc2lsaWNvbi9raXJpbi9raXJpbl9kcm1fZHJ2LmggICB8ICAyICsrCiAyIGZpbGVzIGNo
YW5nZWQsIDE1IGluc2VydGlvbnMoKyksIDggZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2hpc2lsaWNvbi9raXJpbi9raXJpbl9kcm1fYWRlLmMgYi9kcml2ZXJzL2dw
dS9kcm0vaGlzaWxpY29uL2tpcmluL2tpcmluX2RybV9hZGUuYwppbmRleCA5NGQ3NGM0NjdhODEu
LmE3NGIyNjIzZGJiYiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2hpc2lsaWNvbi9raXJp
bi9raXJpbl9kcm1fYWRlLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2hpc2lsaWNvbi9raXJpbi9r
aXJpbl9kcm1fYWRlLmMKQEAgLTM1LDcgKzM1LDYgQEAKICNpbmNsdWRlICJraXJpbl9kcm1fZHJ2
LmgiCiAjaW5jbHVkZSAia2lyaW5fYWRlX3JlZy5oIgogCi0jZGVmaW5lIFBSSU1BUllfQ0gJQURF
X0NIMSAvKiBwcmltYXJ5IHBsYW5lICovCiAjZGVmaW5lIE9VVF9PVkxZCUFERV9PVkxZMiAvKiBv
dXRwdXQgb3ZlcmxheSBjb21wb3NpdG9yICovCiAjZGVmaW5lIEFERV9ERUJVRwkxCiAKQEAgLTk5
MSw3ICs5OTAsNyBAQCBzdGF0aWMgaW50IGFkZV9kcm1faW5pdChzdHJ1Y3QgcGxhdGZvcm1fZGV2
aWNlICpwZGV2KQogCXN0cnVjdCBraXJpbl9wbGFuZSAqa3BsYW5lOwogCWVudW0gZHJtX3BsYW5l
X3R5cGUgdHlwZTsKIAlpbnQgcmV0OwotCWludCBpOworCXUzMiBjaDsKIAogCWFkZSA9IGRldm1f
a3phbGxvYyhkZXYtPmRldiwgc2l6ZW9mKCphZGUpLCBHRlBfS0VSTkVMKTsKIAlpZiAoIWFkZSkg
ewpAQCAtMTAxNSwxMiArMTAxNCwxNSBAQCBzdGF0aWMgaW50IGFkZV9kcm1faW5pdChzdHJ1Y3Qg
cGxhdGZvcm1fZGV2aWNlICpwZGV2KQogCSAqIFRPRE86IE5vdyBvbmx5IHN1cHBvcnQgcHJpbWFy
eSBwbGFuZSwgb3ZlcmxheSBwbGFuZXMKIAkgKiBuZWVkIHRvIGRvLgogCSAqLwotCWZvciAoaSA9
IDA7IGkgPCBBREVfQ0hfTlVNOyBpKyspIHsKLQkJa3BsYW5lID0gJmFkZS0+cGxhbmVzW2ldOwot
CQlrcGxhbmUtPmNoID0gaTsKKwlmb3IgKGNoID0gMDsgY2ggPCBhZGVfZHJpdmVyX2RhdGEubnVt
X3BsYW5lczsgY2grKykgeworCQlrcGxhbmUgPSAmYWRlLT5wbGFuZXNbY2hdOworCQlrcGxhbmUt
PmNoID0gY2g7CiAJCWtwbGFuZS0+aHdfY3R4ID0gY3R4OwotCQl0eXBlID0gaSA9PSBQUklNQVJZ
X0NIID8gRFJNX1BMQU5FX1RZUEVfUFJJTUFSWSA6Ci0JCQlEUk1fUExBTkVfVFlQRV9PVkVSTEFZ
OworCisJCWlmIChjaCA9PSBhZGVfZHJpdmVyX2RhdGEucHJpbV9wbGFuZSkKKwkJCXR5cGUgPSBE
Uk1fUExBTkVfVFlQRV9QUklNQVJZOworCQllbHNlCisJCQl0eXBlID0gRFJNX1BMQU5FX1RZUEVf
T1ZFUkxBWTsKIAogCQlyZXQgPSBhZGVfcGxhbmVfaW5pdChkZXYsIGtwbGFuZSwgdHlwZSk7CiAJ
CWlmIChyZXQpCkBAIC0xMDI4LDcgKzEwMzAsOCBAQCBzdGF0aWMgaW50IGFkZV9kcm1faW5pdChz
dHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQogCX0KIAogCS8qIGNydGMgaW5pdCAqLwotCXJl
dCA9IGFkZV9jcnRjX2luaXQoZGV2LCAma2NydGMtPmJhc2UsICZhZGUtPnBsYW5lc1tQUklNQVJZ
X0NIXS5iYXNlKTsKKwlyZXQgPSBhZGVfY3J0Y19pbml0KGRldiwgJmtjcnRjLT5iYXNlLAorCQkJ
ICAgICZhZGUtPnBsYW5lc1thZGVfZHJpdmVyX2RhdGEucHJpbV9wbGFuZV0uYmFzZSk7CiAJaWYg
KHJldCkKIAkJcmV0dXJuIHJldDsKIApAQCAtMTA0Nyw2ICsxMDUwLDggQEAgc3RhdGljIGNvbnN0
IHN0cnVjdCBkcm1fbW9kZV9jb25maWdfZnVuY3MgYWRlX21vZGVfY29uZmlnX2Z1bmNzID0gewog
fTsKIAogc3RydWN0IGtpcmluX2RybV9kYXRhIGFkZV9kcml2ZXJfZGF0YSA9IHsKKwkubnVtX3Bs
YW5lcyA9IEFERV9DSF9OVU0sCisJLnByaW1fcGxhbmUgPSBBREVfQ0gxLAogCS5jaGFubmVsX2Zv
cm1hdHMgPSBjaGFubmVsX2Zvcm1hdHMsCiAJLmNoYW5uZWxfZm9ybWF0c19jbnQgPSBBUlJBWV9T
SVpFKGNoYW5uZWxfZm9ybWF0cyksCiAJLmNydGNfaGVscGVyX2Z1bmNzID0gJmFkZV9jcnRjX2hl
bHBlcl9mdW5jcywKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9oaXNpbGljb24va2lyaW4v
a2lyaW5fZHJtX2Rydi5oIGIvZHJpdmVycy9ncHUvZHJtL2hpc2lsaWNvbi9raXJpbi9raXJpbl9k
cm1fZHJ2LmgKaW5kZXggY2U5ZGRjY2M2N2E4Li4yYjY2MGRmNjAyOTMgMTAwNjQ0Ci0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9oaXNpbGljb24va2lyaW4va2lyaW5fZHJtX2Rydi5oCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9oaXNpbGljb24va2lyaW4va2lyaW5fZHJtX2Rydi5oCkBAIC0zNyw2ICszNyw4
IEBAIHN0cnVjdCBraXJpbl9wbGFuZSB7CiBzdHJ1Y3Qga2lyaW5fZHJtX2RhdGEgewogCWNvbnN0
IHUzMiAqY2hhbm5lbF9mb3JtYXRzOwogCXUzMiBjaGFubmVsX2Zvcm1hdHNfY250OworCXUzMiBu
dW1fcGxhbmVzOworCXUzMiBwcmltX3BsYW5lOwogCiAJY29uc3Qgc3RydWN0IGRybV9jcnRjX2hl
bHBlcl9mdW5jcyAqY3J0Y19oZWxwZXJfZnVuY3M7CiAJY29uc3Qgc3RydWN0IGRybV9jcnRjX2Z1
bmNzICpjcnRjX2Z1bmNzOwotLSAKMi4xNy4xCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0
cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9s
aXN0aW5mby9kcmktZGV2ZWw=
