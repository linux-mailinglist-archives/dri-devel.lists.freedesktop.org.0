Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id A42F2100298
	for <lists+dri-devel@lfdr.de>; Mon, 18 Nov 2019 11:36:37 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id ED9F16E3EE;
	Mon, 18 Nov 2019 10:36:05 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wm1-x344.google.com (mail-wm1-x344.google.com
 [IPv6:2a00:1450:4864:20::344])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 5573D6E07B
 for <dri-devel@lists.freedesktop.org>; Mon, 18 Nov 2019 10:35:58 +0000 (UTC)
Received: by mail-wm1-x344.google.com with SMTP id l17so16752689wmh.0
 for <dri-devel@lists.freedesktop.org>; Mon, 18 Nov 2019 02:35:58 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=3U7cLwSgbZNJZGXvMba11nZHa9be8EKkAKU9BRa/sPk=;
 b=mJKoMRK1fIS9yjlpsGZBljB+JUsBiVBWOINe8PjTcR9z3PtKWhqE9U8/bfSZTPBfu5
 GbEue+N9RTinLczBTWVC+g9cYIljHygpR9E9EIZ9OVt6NiVvgBBrfR2n4s1bouTkVUvY
 GLqY9c9oRGsQ4skIBXUxroi9RWGt5aHiADdgC4divWA/kIceakirx/ivbxruZXLkRmEj
 L9FeCdS6OSiPGv2QwYHiasfXzCe8IJrqtasY4KShF2Rd530dOURRq7vtNWt2TQSqd9rI
 SEDquQhH3oTekHkGIbSfyT5SEoBmKTEpF0wjwHfEUrsxT64nepT9h/DwAgNPJNJcTX9w
 JcVA==
X-Gm-Message-State: APjAAAWVVA4fxHzsli0hDfjTkLs+rl2DslfcCnMrBaNyeZRs6xrv1t4b
 BGQssgyGLJtQl6SoGLYFa7YDW1FKQHU=
X-Google-Smtp-Source: APXvYqwaoBDpOQ9gC9LV0CLvIPoV5W1A6YdWKrCV0jvN9JZ7wEmDlR4Z3b4cMrPGgKZmeHxi6+VAKA==
X-Received: by 2002:a7b:ce90:: with SMTP id q16mr27877582wmj.172.1574073356634; 
 Mon, 18 Nov 2019 02:35:56 -0800 (PST)
Received: from phenom.ffwll.local (212-51-149-96.fiber7.init7.net.
 [212.51.149.96])
 by smtp.gmail.com with ESMTPSA id j2sm22749200wrt.61.2019.11.18.02.35.55
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Mon, 18 Nov 2019 02:35:55 -0800 (PST)
From: Daniel Vetter <daniel.vetter@ffwll.ch>
To: DRI Development <dri-devel@lists.freedesktop.org>
Subject: [PATCH 11/15] media/videobuf2: Drop dma_buf->k(un)map support
Date: Mon, 18 Nov 2019 11:35:32 +0100
Message-Id: <20191118103536.17675-12-daniel.vetter@ffwll.ch>
X-Mailer: git-send-email 2.24.0
In-Reply-To: <20191118103536.17675-1-daniel.vetter@ffwll.ch>
References: <20191118103536.17675-1-daniel.vetter@ffwll.ch>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=3U7cLwSgbZNJZGXvMba11nZHa9be8EKkAKU9BRa/sPk=;
 b=HXs1Q/93DL/Rpcsd/IUXh17iFjWaBaIeTBBR9O3Y9WA7G3rHrZWBMuxc9CpliewefF
 UiWUgs27rvwtjWJxwOOZnSDS4NwU8M6fOHTuItlnv5Gix7R7i2Sd+emDeeFyfRSKSmou
 eWSRqHdVwJj8fmWhs3Oo95gjZKxYreyAtEsPY=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Pawel Osciak <pawel@osciak.com>, Daniel Vetter <daniel.vetter@ffwll.ch>,
 Intel Graphics Development <intel-gfx@lists.freedesktop.org>,
 Tomasz Figa <tfiga@chromium.org>, Kyungmin Park <kyungmin.park@samsung.com>,
 Daniel Vetter <daniel.vetter@intel.com>, linux-media@vger.kernel.org,
 Marek Szyprowski <m.szyprowski@samsung.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Tm8gaW4tdHJlZSB1c2VycyBsZWZ0LgoKU2lnbmVkLW9mZi1ieTogRGFuaWVsIFZldHRlciA8ZGFu
aWVsLnZldHRlckBpbnRlbC5jb20+CkNjOiBQYXdlbCBPc2NpYWsgPHBhd2VsQG9zY2lhay5jb20+
CkNjOiBNYXJlayBTenlwcm93c2tpIDxtLnN6eXByb3dza2lAc2Ftc3VuZy5jb20+CkNjOiBLeXVu
Z21pbiBQYXJrIDxreXVuZ21pbi5wYXJrQHNhbXN1bmcuY29tPgpDYzogVG9tYXN6IEZpZ2EgPHRm
aWdhQGNocm9taXVtLm9yZz4KQ2M6IGxpbnV4LW1lZGlhQHZnZXIua2VybmVsLm9yZwotLQpBY2sg
Zm9yIG1lcmdpbmcgdGhpcyB0aHJvdWdoIGRybSB0cmVlcyB2ZXJ5IG11Y2ggYXBwcmVjaWF0ZWQu
Ci1EYW5pZWwKLS0tCiBkcml2ZXJzL21lZGlhL2NvbW1vbi92aWRlb2J1ZjIvdmlkZW9idWYyLWRt
YS1jb250aWcuYyB8IDggLS0tLS0tLS0KIGRyaXZlcnMvbWVkaWEvY29tbW9uL3ZpZGVvYnVmMi92
aWRlb2J1ZjItZG1hLXNnLmMgICAgIHwgOCAtLS0tLS0tLQogZHJpdmVycy9tZWRpYS9jb21tb24v
dmlkZW9idWYyL3ZpZGVvYnVmMi12bWFsbG9jLmMgICAgfCA4IC0tLS0tLS0tCiAzIGZpbGVzIGNo
YW5nZWQsIDI0IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvbWVkaWEvY29tbW9u
L3ZpZGVvYnVmMi92aWRlb2J1ZjItZG1hLWNvbnRpZy5jIGIvZHJpdmVycy9tZWRpYS9jb21tb24v
dmlkZW9idWYyL3ZpZGVvYnVmMi1kbWEtY29udGlnLmMKaW5kZXggNDRjZDBlNTMwYmJkLi5kMGM5
ZGZmZTQ5ZTUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvbWVkaWEvY29tbW9uL3ZpZGVvYnVmMi92aWRl
b2J1ZjItZG1hLWNvbnRpZy5jCisrKyBiL2RyaXZlcnMvbWVkaWEvY29tbW9uL3ZpZGVvYnVmMi92
aWRlb2J1ZjItZG1hLWNvbnRpZy5jCkBAIC0zMzUsMTMgKzMzNSw2IEBAIHN0YXRpYyB2b2lkIHZi
Ml9kY19kbWFidWZfb3BzX3JlbGVhc2Uoc3RydWN0IGRtYV9idWYgKmRidWYpCiAJdmIyX2RjX3B1
dChkYnVmLT5wcml2KTsKIH0KIAotc3RhdGljIHZvaWQgKnZiMl9kY19kbWFidWZfb3BzX2ttYXAo
c3RydWN0IGRtYV9idWYgKmRidWYsIHVuc2lnbmVkIGxvbmcgcGdudW0pCi17Ci0Jc3RydWN0IHZi
Ml9kY19idWYgKmJ1ZiA9IGRidWYtPnByaXY7Ci0KLQlyZXR1cm4gYnVmLT52YWRkciA/IGJ1Zi0+
dmFkZHIgKyBwZ251bSAqIFBBR0VfU0laRSA6IE5VTEw7Ci19Ci0KIHN0YXRpYyB2b2lkICp2YjJf
ZGNfZG1hYnVmX29wc192bWFwKHN0cnVjdCBkbWFfYnVmICpkYnVmKQogewogCXN0cnVjdCB2YjJf
ZGNfYnVmICpidWYgPSBkYnVmLT5wcml2OwpAQCAtMzYwLDcgKzM1Myw2IEBAIHN0YXRpYyBjb25z
dCBzdHJ1Y3QgZG1hX2J1Zl9vcHMgdmIyX2RjX2RtYWJ1Zl9vcHMgPSB7CiAJLmRldGFjaCA9IHZi
Ml9kY19kbWFidWZfb3BzX2RldGFjaCwKIAkubWFwX2RtYV9idWYgPSB2YjJfZGNfZG1hYnVmX29w
c19tYXAsCiAJLnVubWFwX2RtYV9idWYgPSB2YjJfZGNfZG1hYnVmX29wc191bm1hcCwKLQkubWFw
ID0gdmIyX2RjX2RtYWJ1Zl9vcHNfa21hcCwKIAkudm1hcCA9IHZiMl9kY19kbWFidWZfb3BzX3Zt
YXAsCiAJLm1tYXAgPSB2YjJfZGNfZG1hYnVmX29wc19tbWFwLAogCS5yZWxlYXNlID0gdmIyX2Rj
X2RtYWJ1Zl9vcHNfcmVsZWFzZSwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvbWVkaWEvY29tbW9uL3Zp
ZGVvYnVmMi92aWRlb2J1ZjItZG1hLXNnLmMgYi9kcml2ZXJzL21lZGlhL2NvbW1vbi92aWRlb2J1
ZjIvdmlkZW9idWYyLWRtYS1zZy5jCmluZGV4IGVkNzA2YjJhMjYzYy4uNmRiNjBlOWQ1MTgzIDEw
MDY0NAotLS0gYS9kcml2ZXJzL21lZGlhL2NvbW1vbi92aWRlb2J1ZjIvdmlkZW9idWYyLWRtYS1z
Zy5jCisrKyBiL2RyaXZlcnMvbWVkaWEvY29tbW9uL3ZpZGVvYnVmMi92aWRlb2J1ZjItZG1hLXNn
LmMKQEAgLTQ3MCwxMyArNDcwLDYgQEAgc3RhdGljIHZvaWQgdmIyX2RtYV9zZ19kbWFidWZfb3Bz
X3JlbGVhc2Uoc3RydWN0IGRtYV9idWYgKmRidWYpCiAJdmIyX2RtYV9zZ19wdXQoZGJ1Zi0+cHJp
dik7CiB9CiAKLXN0YXRpYyB2b2lkICp2YjJfZG1hX3NnX2RtYWJ1Zl9vcHNfa21hcChzdHJ1Y3Qg
ZG1hX2J1ZiAqZGJ1ZiwgdW5zaWduZWQgbG9uZyBwZ251bSkKLXsKLQlzdHJ1Y3QgdmIyX2RtYV9z
Z19idWYgKmJ1ZiA9IGRidWYtPnByaXY7Ci0KLQlyZXR1cm4gYnVmLT52YWRkciA/IGJ1Zi0+dmFk
ZHIgKyBwZ251bSAqIFBBR0VfU0laRSA6IE5VTEw7Ci19Ci0KIHN0YXRpYyB2b2lkICp2YjJfZG1h
X3NnX2RtYWJ1Zl9vcHNfdm1hcChzdHJ1Y3QgZG1hX2J1ZiAqZGJ1ZikKIHsKIAlzdHJ1Y3QgdmIy
X2RtYV9zZ19idWYgKmJ1ZiA9IGRidWYtPnByaXY7CkBAIC00OTUsNyArNDg4LDYgQEAgc3RhdGlj
IGNvbnN0IHN0cnVjdCBkbWFfYnVmX29wcyB2YjJfZG1hX3NnX2RtYWJ1Zl9vcHMgPSB7CiAJLmRl
dGFjaCA9IHZiMl9kbWFfc2dfZG1hYnVmX29wc19kZXRhY2gsCiAJLm1hcF9kbWFfYnVmID0gdmIy
X2RtYV9zZ19kbWFidWZfb3BzX21hcCwKIAkudW5tYXBfZG1hX2J1ZiA9IHZiMl9kbWFfc2dfZG1h
YnVmX29wc191bm1hcCwKLQkubWFwID0gdmIyX2RtYV9zZ19kbWFidWZfb3BzX2ttYXAsCiAJLnZt
YXAgPSB2YjJfZG1hX3NnX2RtYWJ1Zl9vcHNfdm1hcCwKIAkubW1hcCA9IHZiMl9kbWFfc2dfZG1h
YnVmX29wc19tbWFwLAogCS5yZWxlYXNlID0gdmIyX2RtYV9zZ19kbWFidWZfb3BzX3JlbGVhc2Us
CmRpZmYgLS1naXQgYS9kcml2ZXJzL21lZGlhL2NvbW1vbi92aWRlb2J1ZjIvdmlkZW9idWYyLXZt
YWxsb2MuYyBiL2RyaXZlcnMvbWVkaWEvY29tbW9uL3ZpZGVvYnVmMi92aWRlb2J1ZjItdm1hbGxv
Yy5jCmluZGV4IDA0ZDUxY2E2MzIyMy4uNGQ1YWYzNTJlMjQ5IDEwMDY0NAotLS0gYS9kcml2ZXJz
L21lZGlhL2NvbW1vbi92aWRlb2J1ZjIvdmlkZW9idWYyLXZtYWxsb2MuYworKysgYi9kcml2ZXJz
L21lZGlhL2NvbW1vbi92aWRlb2J1ZjIvdmlkZW9idWYyLXZtYWxsb2MuYwpAQCAtMzE5LDEzICsz
MTksNiBAQCBzdGF0aWMgdm9pZCB2YjJfdm1hbGxvY19kbWFidWZfb3BzX3JlbGVhc2Uoc3RydWN0
IGRtYV9idWYgKmRidWYpCiAJdmIyX3ZtYWxsb2NfcHV0KGRidWYtPnByaXYpOwogfQogCi1zdGF0
aWMgdm9pZCAqdmIyX3ZtYWxsb2NfZG1hYnVmX29wc19rbWFwKHN0cnVjdCBkbWFfYnVmICpkYnVm
LCB1bnNpZ25lZCBsb25nIHBnbnVtKQotewotCXN0cnVjdCB2YjJfdm1hbGxvY19idWYgKmJ1ZiA9
IGRidWYtPnByaXY7Ci0KLQlyZXR1cm4gYnVmLT52YWRkciArIHBnbnVtICogUEFHRV9TSVpFOwot
fQotCiBzdGF0aWMgdm9pZCAqdmIyX3ZtYWxsb2NfZG1hYnVmX29wc192bWFwKHN0cnVjdCBkbWFf
YnVmICpkYnVmKQogewogCXN0cnVjdCB2YjJfdm1hbGxvY19idWYgKmJ1ZiA9IGRidWYtPnByaXY7
CkBAIC0zNDQsNyArMzM3LDYgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBkbWFfYnVmX29wcyB2YjJf
dm1hbGxvY19kbWFidWZfb3BzID0gewogCS5kZXRhY2ggPSB2YjJfdm1hbGxvY19kbWFidWZfb3Bz
X2RldGFjaCwKIAkubWFwX2RtYV9idWYgPSB2YjJfdm1hbGxvY19kbWFidWZfb3BzX21hcCwKIAku
dW5tYXBfZG1hX2J1ZiA9IHZiMl92bWFsbG9jX2RtYWJ1Zl9vcHNfdW5tYXAsCi0JLm1hcCA9IHZi
Ml92bWFsbG9jX2RtYWJ1Zl9vcHNfa21hcCwKIAkudm1hcCA9IHZiMl92bWFsbG9jX2RtYWJ1Zl9v
cHNfdm1hcCwKIAkubW1hcCA9IHZiMl92bWFsbG9jX2RtYWJ1Zl9vcHNfbW1hcCwKIAkucmVsZWFz
ZSA9IHZiMl92bWFsbG9jX2RtYWJ1Zl9vcHNfcmVsZWFzZSwKLS0gCjIuMjQuMAoKX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcg
bGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRl
c2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
