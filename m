Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 96E2B9988A
	for <lists+dri-devel@lfdr.de>; Thu, 22 Aug 2019 17:52:18 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 46D5B6E51C;
	Thu, 22 Aug 2019 15:52:15 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wm1-x342.google.com (mail-wm1-x342.google.com
 [IPv6:2a00:1450:4864:20::342])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E7F056E51C
 for <dri-devel@lists.freedesktop.org>; Thu, 22 Aug 2019 15:52:13 +0000 (UTC)
Received: by mail-wm1-x342.google.com with SMTP id e8so7385896wme.1
 for <dri-devel@lists.freedesktop.org>; Thu, 22 Aug 2019 08:52:13 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:subject:to:cc:references:from:openpgp:autocrypt
 :organization:message-id:date:user-agent:mime-version:in-reply-to
 :content-language:content-transfer-encoding;
 bh=e+HWkLnutzVYEKEusU+dAu/E7XhW47xXkduInHWGa84=;
 b=Tfyt8nB3G2/bDX3k5WTOkFBdd5nJD1gxhpnPbjNfnMnVVmgmWaz8+wTayn/xd4S4eH
 0PGRR6qDNSf+syNQ/M8pVVQjIzEDsdNsV9NJRCpcy7ZHIbmbtzd61y393JeiiYmpr4qS
 sO8tuY6jQtNJYRe4uoYgwjHkq2Hnm7EsqWJpuVA9dpP3LWU/5wEe/yN8Tq17OHUHxnyv
 +8oCIUBW3V9lCyNVUmU44+yolhidH7kOlJNcc4GrFHDB3WR4VYL6vyqRt+j+JFxtCQya
 YHl+s+pHc8i8zWvKy5DSwBk6JgtW4YBVCLTBRy29a06XqP73d8nn0vupy7brVEKo1wMG
 Iyrg==
X-Gm-Message-State: APjAAAV1+lHjqgD4zGY2ILezuconDIDRGQQLx9kRVWYzXTAjBLP/fIz0
 A6iaLAtRuZ41yBnmsxI2WdHa0WjuD970gg==
X-Google-Smtp-Source: APXvYqyjc3exTWGd/PvEO1YL9KcSBg5Kcyjx4iHUCVf4AUBQPkP0ugdHMq66ImQLA1QCZbfR7hUbpg==
X-Received: by 2002:a1c:ca0c:: with SMTP id a12mr7050881wmg.71.1566489132157; 
 Thu, 22 Aug 2019 08:52:12 -0700 (PDT)
Received: from [192.168.1.62] (176-150-251-154.abo.bbox.fr. [176.150.251.154])
 by smtp.gmail.com with ESMTPSA id
 f24sm2835377wmc.25.2019.08.22.08.52.11
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Thu, 22 Aug 2019 08:52:11 -0700 (PDT)
Subject: Re: [PATCH v2] drm: meson: use match data to detect vpu compatibility
To: Julien Masson <jmasson@baylibre.com>, Kevin Hilman <khilman@baylibre.com>
References: <87imqpz21w.fsf@masson.i-did-not-set--mail-host-address--so-tickle-me>
From: Neil Armstrong <narmstrong@baylibre.com>
Openpgp: preference=signencrypt
Autocrypt: addr=narmstrong@baylibre.com; prefer-encrypt=mutual; keydata=
 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
 ZaTUOEkgIor5losDrePdPgE=
Organization: Baylibre
Message-ID: <4551d50f-19e5-68f8-68a7-a43d591a0b2f@baylibre.com>
Date: Thu, 22 Aug 2019 17:52:10 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <87imqpz21w.fsf@masson.i-did-not-set--mail-host-address--so-tickle-me>
Content-Language: en-US
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=baylibre-com.20150623.gappssmtp.com; s=20150623;
 h=subject:to:cc:references:from:openpgp:autocrypt:organization
 :message-id:date:user-agent:mime-version:in-reply-to
 :content-language:content-transfer-encoding;
 bh=e+HWkLnutzVYEKEusU+dAu/E7XhW47xXkduInHWGa84=;
 b=qKrFjG5zt9PaE08/AwWG39SZgldWszn97hxZRQHSdceNBda9FSQpaco//QfK5tzIM+
 QsglPuVXM0zTU9radD0pJEkWpqullf965FwyvUG7hUTogJf8ceanONKvQYSb48Dld5/t
 RmGMWUDOaTT2RneBo7ISjzO1qal1I6gA7xd0w25w/cQ0NrRJ0VvlY10ft7+q61vQElvq
 VhX6//EL1pRmXxaZLdzn+Jgc2QC8q4GZvK9JHSvCLlUcNroZTJpRjtMyEB2SD40gfyDw
 HLu/JhGsS+SJQ1HakPSaH72JYRgzAHP5G+3h/D97lwBUlsI3axeF8Z8AZh2UGb89xzcJ
 0Olw==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-amlogic@lists.infradead.org, dri-devel@lists.freedesktop.org,
 linux-arm-kernel@lists.infradead.org, linux-kernel@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgSnVsaWVuLAoKT24gMjIvMDgvMjAxOSAxNjo0MywgSnVsaWVuIE1hc3NvbiB3cm90ZToKPiBU
aGlzIHBhdGNoIGludHJvZHVjZSBuZXcgZW51bSB3aGljaCBjb250YWlucyBhbGwgVlBVIGZhbWls
eSAoR1hCQiwKPiBHWEwsIEdYTSBhbmQgRzEyQSkuCj4gVGhpcyBlbnVtIGlzIHVzZWQgdG8gZGV0
ZWN0IHRoZSBWUFUgY29tcGF0aWJsZSB3aXRoIHRoZSBkZXZpY2UuCj4gCj4gV2Ugb25seSBuZWVk
IHRvIHNldCAuZGF0YSB0byB0aGUgY29ycmVzcG9uZGluZyBlbnVtIGluIHRoZSBkZXZpY2UKPiB0
YWJsZSwgbm8gbmVlZCB0byBjaGVjayAuY29tcGF0aWJsZSBzdHJpbmcgYW55bW9yZS4KPiAKPiBT
aWduZWQtb2ZmLWJ5OiBKdWxpZW4gTWFzc29uIDxqbWFzc29uQGJheWxpYnJlLmNvbT4KPiAtLS0K
PiAKPiBDaGFuZ2VzIHNpbmNlIHYxIGF0IFsxXToKPiAtIFNldCAuZGF0YSBmaWVsZCBpbiBzdHJ1
Y3QgZHRfbWF0Y2ggaW5zdGVhZCBvZiBjb25uZWN0b3JzX21hdGNoCj4gLSBBZGQgY29tcGF0IGlu
IHN0cnVjdCBtZXNvbl9kcm0gYW5kIHNldCBpdCB0aGUgY29ycmVzcG9uZGluZyBmYW1pbHkgYXQg
cHJvYmUKPiAtIENoZWNrIGRpcmVjdGx5IGNvbXBhdCBpbiBtZXNvbl92cHVfaXNfY29tcGF0aWJs
ZQo+IAo+IFsxXSBodHRwczovL3BhdGNod29yay5rZXJuZWwub3JnL3BhdGNoLzExMTA4ODU1Lwo+
IAo+ICBkcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fY3J0Yy5jICAgICAgfCAgMiArLQo+ICBk
cml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fZHJ2LmMgICAgICAgfCAxNCArKysrLS0KPiAgZHJp
dmVycy9ncHUvZHJtL21lc29uL21lc29uX2Rydi5oICAgICAgIHwgMTMgKysrKy0KPiAgZHJpdmVy
cy9ncHUvZHJtL21lc29uL21lc29uX2R3X2hkbWkuYyAgIHwgIDIgKy0KPiAgZHJpdmVycy9ncHUv
ZHJtL21lc29uL21lc29uX292ZXJsYXkuYyAgIHwgIDIgKy0KPiAgZHJpdmVycy9ncHUvZHJtL21l
c29uL21lc29uX3BsYW5lLmMgICAgIHwgMTAgKystLQo+ICBkcml2ZXJzL2dwdS9kcm0vbWVzb24v
bWVzb25fdmNsay5jICAgICAgfCA2NCArKysrKysrKysrKystLS0tLS0tLS0tLS0tCj4gIGRyaXZl
cnMvZ3B1L2RybS9tZXNvbi9tZXNvbl92ZW5jLmMgICAgICB8ICAyICstCj4gIGRyaXZlcnMvZ3B1
L2RybS9tZXNvbi9tZXNvbl92ZW5jX2N2YnMuYyB8IDEwICsrLS0KPiAgZHJpdmVycy9ncHUvZHJt
L21lc29uL21lc29uX3ZpdS5jICAgICAgIHwgMTAgKystLQo+ICBkcml2ZXJzL2dwdS9kcm0vbWVz
b24vbWVzb25fdnBwLmMgICAgICAgfCAxMCArKy0tCj4gIDExIGZpbGVzIGNoYW5nZWQsIDc3IGlu
c2VydGlvbnMoKyksIDYyIGRlbGV0aW9ucygtKQoKVGVzdGVkLWJ5OiBOZWlsIEFybXN0cm9uZyA8
bmFybXN0cm9uZ0BiYXlsaWJyZS5jb20+CgpvbiBTRUk1MTAgKEcxMkEpLCBWSU0yIChHWE0pIGFu
ZCBMaWJyZXRlY2gtQUMgKEdYTCkKCmFuZAoKQWNrZWQtYnk6IE5laWwgQXJtc3Ryb25nIDxuYXJt
c3Ryb25nQGJheWxpYnJlLmNvbT4KCkFwcGx5aW5nIHRvIGRybS1taXNjLW5leHQKCk5laWwKCj4g
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNvbl9jcnRjLmMgYi9kcml2
ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fY3J0Yy5jCj4gaW5kZXggYmJhMjUzMjVhYTljLi41N2Fl
MWMxM2QxZTYgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29uX2NydGMu
Ywo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNvbl9jcnRjLmMKPiBAQCAtNTc1LDcg
KzU3NSw3IEBAIGludCBtZXNvbl9jcnRjX2NyZWF0ZShzdHJ1Y3QgbWVzb25fZHJtICpwcml2KQo+
ICAJCXJldHVybiByZXQ7Cj4gIAl9Cj4gIAo+IC0JaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxl
KHByaXYsICJhbWxvZ2ljLG1lc29uLWcxMmEtdnB1IikpIHsKPiArCWlmIChtZXNvbl92cHVfaXNf
Y29tcGF0aWJsZShwcml2LCBWUFVfQ09NUEFUSUJMRV9HMTJBKSkgewo+ICAJCW1lc29uX2NydGMt
PmVuYWJsZV9vc2QxID0gbWVzb25fZzEyYV9jcnRjX2VuYWJsZV9vc2QxOwo+ICAJCW1lc29uX2Ny
dGMtPmVuYWJsZV92ZDEgPSBtZXNvbl9nMTJhX2NydGNfZW5hYmxlX3ZkMTsKPiAgCQltZXNvbl9j
cnRjLT52aXVfb2Zmc2V0ID0gTUVTT05fRzEyQV9WSVVfT0ZGU0VUOwo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fZHJ2LmMgYi9kcml2ZXJzL2dwdS9kcm0vbWVzb24v
bWVzb25fZHJ2LmMKPiBpbmRleCBhZTAxNjYxODE2MDYuLmEyNGY4ZGVjNWFkYyAxMDA2NDQKPiAt
LS0gYS9kcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fZHJ2LmMKPiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vbWVzb24vbWVzb25fZHJ2LmMKPiBAQCAtMjA5LDYgKzIwOSw4IEBAIHN0YXRpYyBpbnQg
bWVzb25fZHJ2X2JpbmRfbWFzdGVyKHN0cnVjdCBkZXZpY2UgKmRldiwgYm9vbCBoYXNfY29tcG9u
ZW50cykKPiAgCXByaXYtPmRybSA9IGRybTsKPiAgCXByaXYtPmRldiA9IGRldjsKPiAgCj4gKwlw
cml2LT5jb21wYXQgPSAoZW51bSB2cHVfY29tcGF0aWJsZSlvZl9kZXZpY2VfZ2V0X21hdGNoX2Rh
dGEocHJpdi0+ZGV2KTsKPiArCj4gIAlyZXMgPSBwbGF0Zm9ybV9nZXRfcmVzb3VyY2VfYnluYW1l
KHBkZXYsIElPUkVTT1VSQ0VfTUVNLCAidnB1Iik7Cj4gIAlyZWdzID0gZGV2bV9pb3JlbWFwX3Jl
c291cmNlKGRldiwgcmVzKTsKPiAgCWlmIChJU19FUlIocmVncykpIHsKPiBAQCAtNDUzLDEwICs0
NTUsMTQgQEAgc3RhdGljIGludCBtZXNvbl9kcnZfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2Rldmlj
ZSAqcGRldikKPiAgfTsKPiAgCj4gIHN0YXRpYyBjb25zdCBzdHJ1Y3Qgb2ZfZGV2aWNlX2lkIGR0
X21hdGNoW10gPSB7Cj4gLQl7IC5jb21wYXRpYmxlID0gImFtbG9naWMsbWVzb24tZ3hiYi12cHUi
IH0sCj4gLQl7IC5jb21wYXRpYmxlID0gImFtbG9naWMsbWVzb24tZ3hsLXZwdSIgfSwKPiAtCXsg
LmNvbXBhdGlibGUgPSAiYW1sb2dpYyxtZXNvbi1neG0tdnB1IiB9LAo+IC0JeyAuY29tcGF0aWJs
ZSA9ICJhbWxvZ2ljLG1lc29uLWcxMmEtdnB1IiB9LAo+ICsJeyAuY29tcGF0aWJsZSA9ICJhbWxv
Z2ljLG1lc29uLWd4YmItdnB1IiwKPiArCSAgLmRhdGEgICAgICAgPSAodm9pZCAqKVZQVV9DT01Q
QVRJQkxFX0dYQkIgfSwKPiArCXsgLmNvbXBhdGlibGUgPSAiYW1sb2dpYyxtZXNvbi1neGwtdnB1
IiwKPiArCSAgLmRhdGEgICAgICAgPSAodm9pZCAqKVZQVV9DT01QQVRJQkxFX0dYTCB9LAo+ICsJ
eyAuY29tcGF0aWJsZSA9ICJhbWxvZ2ljLG1lc29uLWd4bS12cHUiLAo+ICsJICAuZGF0YSAgICAg
ICA9ICh2b2lkICopVlBVX0NPTVBBVElCTEVfR1hNIH0sCj4gKwl7IC5jb21wYXRpYmxlID0gImFt
bG9naWMsbWVzb24tZzEyYS12cHUiLAo+ICsJICAuZGF0YSAgICAgICA9ICh2b2lkICopVlBVX0NP
TVBBVElCTEVfRzEyQSB9LAo+ICAJe30KPiAgfTsKPiAgTU9EVUxFX0RFVklDRV9UQUJMRShvZiwg
ZHRfbWF0Y2gpOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fZHJ2
LmggYi9kcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fZHJ2LmgKPiBpbmRleCBjOWFhZWMxYTg0
NmUuLjgyMGQwN2JkZDQyYSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVz
b25fZHJ2LmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fZHJ2LmgKPiBAQCAt
OSw2ICs5LDcgQEAKPiAgCj4gICNpbmNsdWRlIDxsaW51eC9kZXZpY2UuaD4KPiAgI2luY2x1ZGUg
PGxpbnV4L29mLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9vZl9kZXZpY2UuaD4KPiAgI2luY2x1ZGUg
PGxpbnV4L3JlZ21hcC5oPgo+ICAKPiAgc3RydWN0IGRybV9jcnRjOwo+IEBAIC0xNiw4ICsxNywx
NiBAQCBzdHJ1Y3QgZHJtX2RldmljZTsKPiAgc3RydWN0IGRybV9wbGFuZTsKPiAgc3RydWN0IG1l
c29uX2RybTsKPiAgCj4gK2VudW0gdnB1X2NvbXBhdGlibGUgewo+ICsJVlBVX0NPTVBBVElCTEVf
R1hCQiA9IDAsCj4gKwlWUFVfQ09NUEFUSUJMRV9HWEwgID0gMSwKPiArCVZQVV9DT01QQVRJQkxF
X0dYTSAgPSAyLAo+ICsJVlBVX0NPTVBBVElCTEVfRzEyQSA9IDMsCj4gK307Cj4gKwo+ICBzdHJ1
Y3QgbWVzb25fZHJtIHsKPiAgCXN0cnVjdCBkZXZpY2UgKmRldjsKPiArCWVudW0gdnB1X2NvbXBh
dGlibGUgY29tcGF0Owo+ICAJdm9pZCBfX2lvbWVtICppb19iYXNlOwo+ICAJc3RydWN0IHJlZ21h
cCAqaGhpOwo+ICAJaW50IHZzeW5jX2lycTsKPiBAQCAtMTE2LDkgKzEyNSw5IEBAIHN0cnVjdCBt
ZXNvbl9kcm0gewo+ICB9Owo+ICAKPiAgc3RhdGljIGlubGluZSBpbnQgbWVzb25fdnB1X2lzX2Nv
bXBhdGlibGUoc3RydWN0IG1lc29uX2RybSAqcHJpdiwKPiAtCQkJCQkgIGNvbnN0IGNoYXIgKmNv
bXBhdCkKPiArCQkJCQkgIGVudW0gdnB1X2NvbXBhdGlibGUgZmFtaWx5KQo+ICB7Cj4gLQlyZXR1
cm4gb2ZfZGV2aWNlX2lzX2NvbXBhdGlibGUocHJpdi0+ZGV2LT5vZl9ub2RlLCBjb21wYXQpOwo+
ICsJcmV0dXJuIHByaXYtPmNvbXBhdCA9PSBmYW1pbHk7Cj4gIH0KPiAgCj4gICNlbmRpZiAvKiBf
X01FU09OX0RSVl9IICovCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNv
bl9kd19oZG1pLmMgYi9kcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fZHdfaGRtaS5jCj4gaW5k
ZXggZjg5M2ViZDBiNzk5Li42OGJiZDk4NzE0N2IgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL21lc29uL21lc29uX2R3X2hkbWkuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9t
ZXNvbl9kd19oZG1pLmMKPiBAQCAtOTM3LDcgKzkzNyw3IEBAIHN0YXRpYyBpbnQgbWVzb25fZHdf
aGRtaV9iaW5kKHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGRldmljZSAqbWFzdGVyLAo+ICAJ
cmVzZXRfY29udHJvbF9yZXNldChtZXNvbl9kd19oZG1pLT5oZG1pdHhfcGh5KTsKPiAgCj4gIAkv
KiBFbmFibGUgQVBCMyBmYWlsIG9uIGVycm9yICovCj4gLQlpZiAoIW1lc29uX3ZwdV9pc19jb21w
YXRpYmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWcxMmEtdnB1IikpIHsKPiArCWlmICghbWVzb25f
dnB1X2lzX2NvbXBhdGlibGUocHJpdiwgVlBVX0NPTVBBVElCTEVfRzEyQSkpIHsKPiAgCQl3cml0
ZWxfYml0c19yZWxheGVkKEJJVCgxNSksIEJJVCgxNSksCj4gIAkJCQkgICAgbWVzb25fZHdfaGRt
aS0+aGRtaXR4ICsgSERNSVRYX1RPUF9DVFJMX1JFRyk7Cj4gIAkJd3JpdGVsX2JpdHNfcmVsYXhl
ZChCSVQoMTUpLCBCSVQoMTUpLAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbWVzb24v
bWVzb25fb3ZlcmxheS5jIGIvZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29uX292ZXJsYXkuYwo+
IGluZGV4IDVhYTlkY2I0YjM1ZS4uMjQ2OGIwMjEyZDUyIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9tZXNvbi9tZXNvbl9vdmVybGF5LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vbWVz
b24vbWVzb25fb3ZlcmxheS5jCj4gQEAgLTUxMyw3ICs1MTMsNyBAQCBzdGF0aWMgdm9pZCBtZXNv
bl9vdmVybGF5X2F0b21pY19kaXNhYmxlKHN0cnVjdCBkcm1fcGxhbmUgKnBsYW5lLAo+ICAJcHJp
di0+dml1LnZkMV9lbmFibGVkID0gZmFsc2U7Cj4gIAo+ICAJLyogRGlzYWJsZSBWRDEgKi8KPiAt
CWlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCAiYW1sb2dpYyxtZXNvbi1nMTJhLXZw
dSIpKSB7Cj4gKwlpZiAobWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgVlBVX0NPTVBBVElC
TEVfRzEyQSkpIHsKPiAgCQl3cml0ZWxfcmVsYXhlZCgwLCBwcml2LT5pb19iYXNlICsgX1JFRyhW
RDFfQkxFTkRfU1JDX0NUUkwpKTsKPiAgCQl3cml0ZWxfcmVsYXhlZCgwLCBwcml2LT5pb19iYXNl
ICsgX1JFRyhWRDJfQkxFTkRfU1JDX0NUUkwpKTsKPiAgCQl3cml0ZWxfcmVsYXhlZCgwLCBwcml2
LT5pb19iYXNlICsgX1JFRyhWRDFfSUYwX0dFTl9SRUcgKyAweDE3YjApKTsKPiBkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29uX3BsYW5lLmMgYi9kcml2ZXJzL2dwdS9kcm0v
bWVzb24vbWVzb25fcGxhbmUuYwo+IGluZGV4IGI5ZTFlMTE3ZmI4NS4uZWQ1NDMyMjdiMDBkIDEw
MDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNvbl9wbGFuZS5jCj4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29uX3BsYW5lLmMKPiBAQCAtMTM4LDcgKzEzOCw3IEBA
IHN0YXRpYyB2b2lkIG1lc29uX3BsYW5lX2F0b21pY191cGRhdGUoc3RydWN0IGRybV9wbGFuZSAq
cGxhbmUsCj4gIAkJCQkgICAgICBPU0RfRU5ESUFOTkVTU19MRSk7Cj4gIAo+ICAJLyogT24gR1hC
QiwgVXNlIHRoZSBvbGQgbm9uLUhEUiBSR0IyWVVWIGNvbnZlcnRlciAqLwo+IC0JaWYgKG1lc29u
X3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWd4YmItdnB1IikpCj4gKwlp
ZiAobWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgVlBVX0NPTVBBVElCTEVfR1hCQikpCj4g
IAkJcHJpdi0+dml1Lm9zZDFfYmxrMF9jZmdbMF0gfD0gT1NEX09VVFBVVF9DT0xPUl9SR0I7Cj4g
IAo+ICAJc3dpdGNoIChmYi0+Zm9ybWF0LT5mb3JtYXQpIHsKPiBAQCAtMjkyLDcgKzI5Miw3IEBA
IHN0YXRpYyB2b2lkIG1lc29uX3BsYW5lX2F0b21pY191cGRhdGUoc3RydWN0IGRybV9wbGFuZSAq
cGxhbmUsCj4gIAlwcml2LT52aXUub3NkMV9ibGswX2NmZ1szXSA9ICgoZGVzdC54MiAtIDEpIDw8
IDE2KSB8IGRlc3QueDE7Cj4gIAlwcml2LT52aXUub3NkMV9ibGswX2NmZ1s0XSA9ICgoZGVzdC55
MiAtIDEpIDw8IDE2KSB8IGRlc3QueTE7Cj4gIAo+IC0JaWYgKG1lc29uX3ZwdV9pc19jb21wYXRp
YmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWcxMmEtdnB1IikpIHsKPiArCWlmIChtZXNvbl92cHVf
aXNfY29tcGF0aWJsZShwcml2LCBWUFVfQ09NUEFUSUJMRV9HMTJBKSkgewo+ICAJCXByaXYtPnZp
dS5vc2RfYmxlbmRfZGluMF9zY29wZV9oID0gKChkZXN0LngyIC0gMSkgPDwgMTYpIHwgZGVzdC54
MTsKPiAgCQlwcml2LT52aXUub3NkX2JsZW5kX2RpbjBfc2NvcGVfdiA9ICgoZGVzdC55MiAtIDEp
IDw8IDE2KSB8IGRlc3QueTE7Cj4gIAkJcHJpdi0+dml1Lm9zYl9ibGVuZDBfc2l6ZSA9IGRzdF9o
IDw8IDE2IHwgZHN0X3c7Cj4gQEAgLTMwOCw4ICszMDgsOCBAQCBzdGF0aWMgdm9pZCBtZXNvbl9w
bGFuZV9hdG9taWNfdXBkYXRlKHN0cnVjdCBkcm1fcGxhbmUgKnBsYW5lLAo+ICAKPiAgCWlmICgh
bWVzb25fcGxhbmUtPmVuYWJsZWQpIHsKPiAgCQkvKiBSZXNldCBPU0QxIGJlZm9yZSBlbmFibGlu
ZyBpdCBvbiBHWEwrIFNvQ3MgKi8KPiAtCQlpZiAobWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJp
diwgImFtbG9naWMsbWVzb24tZ3htLXZwdSIpIHx8Cj4gLQkJICAgIG1lc29uX3ZwdV9pc19jb21w
YXRpYmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWd4bC12cHUiKSkKPiArCQlpZiAobWVzb25fdnB1
X2lzX2NvbXBhdGlibGUocHJpdiwgVlBVX0NPTVBBVElCTEVfR1hNKSB8fAo+ICsJCSAgICBtZXNv
bl92cHVfaXNfY29tcGF0aWJsZShwcml2LCBWUFVfQ09NUEFUSUJMRV9HWEwpKQo+ICAJCQltZXNv
bl92aXVfb3NkMV9yZXNldChwcml2KTsKPiAgCj4gIAkJbWVzb25fcGxhbmUtPmVuYWJsZWQgPSB0
cnVlOwo+IEBAIC0zMjcsNyArMzI3LDcgQEAgc3RhdGljIHZvaWQgbWVzb25fcGxhbmVfYXRvbWlj
X2Rpc2FibGUoc3RydWN0IGRybV9wbGFuZSAqcGxhbmUsCj4gIAlzdHJ1Y3QgbWVzb25fZHJtICpw
cml2ID0gbWVzb25fcGxhbmUtPnByaXY7Cj4gIAo+ICAJLyogRGlzYWJsZSBPU0QxICovCj4gLQlp
ZiAobWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgImFtbG9naWMsbWVzb24tZzEyYS12cHUi
KSkKPiArCWlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCBWUFVfQ09NUEFUSUJMRV9H
MTJBKSkKPiAgCQl3cml0ZWxfYml0c19yZWxheGVkKFZJVV9PU0QxX1BPU1RCTERfU1JDX09TRDEs
IDAsCj4gIAkJCQkgICAgcHJpdi0+aW9fYmFzZSArIF9SRUcoT1NEMV9CTEVORF9TUkNfQ1RSTCkp
Owo+ICAJZWxzZQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fdmNs
ay5jIGIvZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29uX3ZjbGsuYwo+IGluZGV4IDg2OTIzMWM5
MzYxNy4uYWM0OTFhNzgxOTUyIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9t
ZXNvbl92Y2xrLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fdmNsay5jCj4g
QEAgLTI0Miw3ICsyNDIsNyBAQCBzdGF0aWMgdm9pZCBtZXNvbl92ZW5jaV9jdmJzX2Nsb2NrX2Nv
bmZpZyhzdHJ1Y3QgbWVzb25fZHJtICpwcml2KQo+ICAJdW5zaWduZWQgaW50IHZhbDsKPiAgCj4g
IAkvKiBTZXR1cCBQTEwgdG8gb3V0cHV0IDEuNDg1R0h6ICovCj4gLQlpZiAobWVzb25fdnB1X2lz
X2NvbXBhdGlibGUocHJpdiwgImFtbG9naWMsbWVzb24tZ3hiYi12cHUiKSkgewo+ICsJaWYgKG1l
c29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsIFZQVV9DT01QQVRJQkxFX0dYQkIpKSB7Cj4gIAkJ
cmVnbWFwX3dyaXRlKHByaXYtPmhoaSwgSEhJX0hETUlfUExMX0NOVEwsIDB4NTgwMDAyM2QpOwo+
ICAJCXJlZ21hcF93cml0ZShwcml2LT5oaGksIEhISV9IRE1JX1BMTF9DTlRMMiwgMHgwMDQwNGUw
MCk7Cj4gIAkJcmVnbWFwX3dyaXRlKHByaXYtPmhoaSwgSEhJX0hETUlfUExMX0NOVEwzLCAweDBk
NWM1MDkxKTsKPiBAQCAtMjU0LDggKzI1NCw4IEBAIHN0YXRpYyB2b2lkIG1lc29uX3ZlbmNpX2N2
YnNfY2xvY2tfY29uZmlnKHN0cnVjdCBtZXNvbl9kcm0gKnByaXYpCj4gIAkJLyogUG9sbCBmb3Ig
bG9jayBiaXQgKi8KPiAgCQlyZWdtYXBfcmVhZF9wb2xsX3RpbWVvdXQocHJpdi0+aGhpLCBISElf
SERNSV9QTExfQ05UTCwgdmFsLAo+ICAJCQkJCSAodmFsICYgSERNSV9QTExfTE9DSyksIDEwLCAw
KTsKPiAtCX0gZWxzZSBpZiAobWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgImFtbG9naWMs
bWVzb24tZ3htLXZwdSIpIHx8Cj4gLQkJICAgbWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwg
ImFtbG9naWMsbWVzb24tZ3hsLXZwdSIpKSB7Cj4gKwl9IGVsc2UgaWYgKG1lc29uX3ZwdV9pc19j
b21wYXRpYmxlKHByaXYsIFZQVV9DT01QQVRJQkxFX0dYTSkgfHwKPiArCQkgICBtZXNvbl92cHVf
aXNfY29tcGF0aWJsZShwcml2LCBWUFVfQ09NUEFUSUJMRV9HWEwpKSB7Cj4gIAkJcmVnbWFwX3dy
aXRlKHByaXYtPmhoaSwgSEhJX0hETUlfUExMX0NOVEwsIDB4NDAwMDAyN2IpOwo+ICAJCXJlZ21h
cF93cml0ZShwcml2LT5oaGksIEhISV9IRE1JX1BMTF9DTlRMMiwgMHg4MDBjYjMwMCk7Cj4gIAkJ
cmVnbWFwX3dyaXRlKHByaXYtPmhoaSwgSEhJX0hETUlfUExMX0NOVEwzLCAweGE2MjEyODQ0KTsK
PiBAQCAtMjcyLDcgKzI3Miw3IEBAIHN0YXRpYyB2b2lkIG1lc29uX3ZlbmNpX2N2YnNfY2xvY2tf
Y29uZmlnKHN0cnVjdCBtZXNvbl9kcm0gKnByaXYpCj4gIAkJLyogUG9sbCBmb3IgbG9jayBiaXQg
Ki8KPiAgCQlyZWdtYXBfcmVhZF9wb2xsX3RpbWVvdXQocHJpdi0+aGhpLCBISElfSERNSV9QTExf
Q05UTCwgdmFsLAo+ICAJCQkJCSAodmFsICYgSERNSV9QTExfTE9DSyksIDEwLCAwKTsKPiAtCX0g
ZWxzZSBpZiAobWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgImFtbG9naWMsbWVzb24tZzEy
YS12cHUiKSkgewo+ICsJfSBlbHNlIGlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCBW
UFVfQ09NUEFUSUJMRV9HMTJBKSkgewo+ICAJCXJlZ21hcF93cml0ZShwcml2LT5oaGksIEhISV9I
RE1JX1BMTF9DTlRMLCAweDFhMDUwNGY3KTsKPiAgCQlyZWdtYXBfd3JpdGUocHJpdi0+aGhpLCBI
SElfSERNSV9QTExfQ05UTDIsIDB4MDAwMTAwMDApOwo+ICAJCXJlZ21hcF93cml0ZShwcml2LT5o
aGksIEhISV9IRE1JX1BMTF9DTlRMMywgMHgwMDAwMDAwMCk7Cj4gQEAgLTMwMCw3ICszMDAsNyBA
QCBzdGF0aWMgdm9pZCBtZXNvbl92ZW5jaV9jdmJzX2Nsb2NrX2NvbmZpZyhzdHJ1Y3QgbWVzb25f
ZHJtICpwcml2KQo+ICAJCQkJVkNMSzJfRElWX01BU0ssICg1NSAtIDEpKTsKPiAgCj4gIAkvKiBz
ZWxlY3QgdmlkX3BsbCBmb3IgdmNsazIgKi8KPiAtCWlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJs
ZShwcml2LCAiYW1sb2dpYyxtZXNvbi1nMTJhLXZwdSIpKQo+ICsJaWYgKG1lc29uX3ZwdV9pc19j
b21wYXRpYmxlKHByaXYsIFZQVV9DT01QQVRJQkxFX0cxMkEpKQo+ICAJCXJlZ21hcF91cGRhdGVf
Yml0cyhwcml2LT5oaGksIEhISV9WSUlEX0NMS19DTlRMLAo+ICAJCQkJCVZDTEsyX1NFTF9NQVNL
LCAoMCA8PCBWQ0xLMl9TRUxfU0hJRlQpKTsKPiAgCWVsc2UKPiBAQCAtNDU1LDcgKzQ1NSw3IEBA
IHZvaWQgbWVzb25faGRtaV9wbGxfc2V0X3BhcmFtcyhzdHJ1Y3QgbWVzb25fZHJtICpwcml2LCB1
bnNpZ25lZCBpbnQgbSwKPiAgewo+ICAJdW5zaWduZWQgaW50IHZhbDsKPiAgCj4gLQlpZiAobWVz
b25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgImFtbG9naWMsbWVzb24tZ3hiYi12cHUiKSkgewo+
ICsJaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsIFZQVV9DT01QQVRJQkxFX0dYQkIp
KSB7Cj4gIAkJcmVnbWFwX3dyaXRlKHByaXYtPmhoaSwgSEhJX0hETUlfUExMX0NOVEwsIDB4NTgw
MDAyMDAgfCBtKTsKPiAgCQlpZiAoZnJhYykKPiAgCQkJcmVnbWFwX3dyaXRlKHByaXYtPmhoaSwg
SEhJX0hETUlfUExMX0NOVEwyLAo+IEBAIC00NzUsOCArNDc1LDggQEAgdm9pZCBtZXNvbl9oZG1p
X3BsbF9zZXRfcGFyYW1zKHN0cnVjdCBtZXNvbl9kcm0gKnByaXYsIHVuc2lnbmVkIGludCBtLAo+
ICAJCS8qIFBvbGwgZm9yIGxvY2sgYml0ICovCj4gIAkJcmVnbWFwX3JlYWRfcG9sbF90aW1lb3V0
KHByaXYtPmhoaSwgSEhJX0hETUlfUExMX0NOVEwsCj4gIAkJCQkJIHZhbCwgKHZhbCAmIEhETUlf
UExMX0xPQ0spLCAxMCwgMCk7Cj4gLQl9IGVsc2UgaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxl
KHByaXYsICJhbWxvZ2ljLG1lc29uLWd4bS12cHUiKSB8fAo+IC0JCSAgIG1lc29uX3ZwdV9pc19j
b21wYXRpYmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWd4bC12cHUiKSkgewo+ICsJfSBlbHNlIGlm
IChtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCBWUFVfQ09NUEFUSUJMRV9HWE0pIHx8Cj4g
KwkJICAgbWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgVlBVX0NPTVBBVElCTEVfR1hMKSkg
ewo+ICAJCXJlZ21hcF93cml0ZShwcml2LT5oaGksIEhISV9IRE1JX1BMTF9DTlRMLCAweDQwMDAw
MjAwIHwgbSk7Cj4gIAkJcmVnbWFwX3dyaXRlKHByaXYtPmhoaSwgSEhJX0hETUlfUExMX0NOVEwy
LCAweDgwMGNiMDAwIHwgZnJhYyk7Cj4gIAkJcmVnbWFwX3dyaXRlKHByaXYtPmhoaSwgSEhJX0hE
TUlfUExMX0NOVEwzLCAweDg2MGYzMGM0KTsKPiBAQCAtNDkzLDcgKzQ5Myw3IEBAIHZvaWQgbWVz
b25faGRtaV9wbGxfc2V0X3BhcmFtcyhzdHJ1Y3QgbWVzb25fZHJtICpwcml2LCB1bnNpZ25lZCBp
bnQgbSwKPiAgCQkvKiBQb2xsIGZvciBsb2NrIGJpdCAqLwo+ICAJCXJlZ21hcF9yZWFkX3BvbGxf
dGltZW91dChwcml2LT5oaGksIEhISV9IRE1JX1BMTF9DTlRMLCB2YWwsCj4gIAkJCQkodmFsICYg
SERNSV9QTExfTE9DSyksIDEwLCAwKTsKPiAtCX0gZWxzZSBpZiAobWVzb25fdnB1X2lzX2NvbXBh
dGlibGUocHJpdiwgImFtbG9naWMsbWVzb24tZzEyYS12cHUiKSkgewo+ICsJfSBlbHNlIGlmICht
ZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCBWUFVfQ09NUEFUSUJMRV9HMTJBKSkgewo+ICAJ
CXJlZ21hcF93cml0ZShwcml2LT5oaGksIEhISV9IRE1JX1BMTF9DTlRMLCAweDBiM2EwNDAwIHwg
bSk7Cj4gIAo+ICAJCS8qIEVuYWJsZSBhbmQgcmVzZXQgKi8KPiBAQCAtNTQ1LDM2ICs1NDUsMzYg
QEAgdm9pZCBtZXNvbl9oZG1pX3BsbF9zZXRfcGFyYW1zKHN0cnVjdCBtZXNvbl9kcm0gKnByaXYs
IHVuc2lnbmVkIGludCBtLAo+ICAJCX0gd2hpbGUoMSk7Cj4gIAl9Cj4gIAo+IC0JaWYgKG1lc29u
X3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWd4YmItdnB1IikpCj4gKwlp
ZiAobWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgVlBVX0NPTVBBVElCTEVfR1hCQikpCj4g
IAkJcmVnbWFwX3VwZGF0ZV9iaXRzKHByaXYtPmhoaSwgSEhJX0hETUlfUExMX0NOVEwyLAo+ICAJ
CQkJMyA8PCAxNiwgcGxsX29kX3RvX3JlZyhvZDEpIDw8IDE2KTsKPiAtCWVsc2UgaWYgKG1lc29u
X3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWd4bS12cHUiKSB8fAo+IC0J
CSBtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCAiYW1sb2dpYyxtZXNvbi1neGwtdnB1Iikp
Cj4gKwllbHNlIGlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCBWUFVfQ09NUEFUSUJM
RV9HWE0pIHx8Cj4gKwkJIG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsIFZQVV9DT01QQVRJ
QkxFX0dYTCkpCj4gIAkJcmVnbWFwX3VwZGF0ZV9iaXRzKHByaXYtPmhoaSwgSEhJX0hETUlfUExM
X0NOVEwzLAo+ICAJCQkJMyA8PCAyMSwgcGxsX29kX3RvX3JlZyhvZDEpIDw8IDIxKTsKPiAtCWVs
c2UgaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWcxMmEt
dnB1IikpCj4gKwllbHNlIGlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCBWUFVfQ09N
UEFUSUJMRV9HMTJBKSkKPiAgCQlyZWdtYXBfdXBkYXRlX2JpdHMocHJpdi0+aGhpLCBISElfSERN
SV9QTExfQ05UTCwKPiAgCQkJCTMgPDwgMTYsIHBsbF9vZF90b19yZWcob2QxKSA8PCAxNik7Cj4g
IAo+IC0JaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWd4
YmItdnB1IikpCj4gKwlpZiAobWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgVlBVX0NPTVBB
VElCTEVfR1hCQikpCj4gIAkJcmVnbWFwX3VwZGF0ZV9iaXRzKHByaXYtPmhoaSwgSEhJX0hETUlf
UExMX0NOVEwyLAo+ICAJCQkJMyA8PCAyMiwgcGxsX29kX3RvX3JlZyhvZDIpIDw8IDIyKTsKPiAt
CWVsc2UgaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWd4
bS12cHUiKSB8fAo+IC0JCSBtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCAiYW1sb2dpYyxt
ZXNvbi1neGwtdnB1IikpCj4gKwllbHNlIGlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2
LCBWUFVfQ09NUEFUSUJMRV9HWE0pIHx8Cj4gKwkJIG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHBy
aXYsIFZQVV9DT01QQVRJQkxFX0dYTCkpCj4gIAkJcmVnbWFwX3VwZGF0ZV9iaXRzKHByaXYtPmho
aSwgSEhJX0hETUlfUExMX0NOVEwzLAo+ICAJCQkJMyA8PCAyMywgcGxsX29kX3RvX3JlZyhvZDIp
IDw8IDIzKTsKPiAtCWVsc2UgaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxv
Z2ljLG1lc29uLWcxMmEtdnB1IikpCj4gKwllbHNlIGlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJs
ZShwcml2LCBWUFVfQ09NUEFUSUJMRV9HMTJBKSkKPiAgCQlyZWdtYXBfdXBkYXRlX2JpdHMocHJp
di0+aGhpLCBISElfSERNSV9QTExfQ05UTCwKPiAgCQkJCTMgPDwgMTgsIHBsbF9vZF90b19yZWco
b2QyKSA8PCAxOCk7Cj4gIAo+IC0JaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJh
bWxvZ2ljLG1lc29uLWd4YmItdnB1IikpCj4gKwlpZiAobWVzb25fdnB1X2lzX2NvbXBhdGlibGUo
cHJpdiwgVlBVX0NPTVBBVElCTEVfR1hCQikpCj4gIAkJcmVnbWFwX3VwZGF0ZV9iaXRzKHByaXYt
PmhoaSwgSEhJX0hETUlfUExMX0NOVEwyLAo+ICAJCQkJMyA8PCAxOCwgcGxsX29kX3RvX3JlZyhv
ZDMpIDw8IDE4KTsKPiAtCWVsc2UgaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJh
bWxvZ2ljLG1lc29uLWd4bS12cHUiKSB8fAo+IC0JCSBtZXNvbl92cHVfaXNfY29tcGF0aWJsZShw
cml2LCAiYW1sb2dpYyxtZXNvbi1neGwtdnB1IikpCj4gKwllbHNlIGlmIChtZXNvbl92cHVfaXNf
Y29tcGF0aWJsZShwcml2LCBWUFVfQ09NUEFUSUJMRV9HWE0pIHx8Cj4gKwkJIG1lc29uX3ZwdV9p
c19jb21wYXRpYmxlKHByaXYsIFZQVV9DT01QQVRJQkxFX0dYTCkpCj4gIAkJcmVnbWFwX3VwZGF0
ZV9iaXRzKHByaXYtPmhoaSwgSEhJX0hETUlfUExMX0NOVEwzLAo+ICAJCQkJMyA8PCAxOSwgcGxs
X29kX3RvX3JlZyhvZDMpIDw8IDE5KTsKPiAtCWVsc2UgaWYgKG1lc29uX3ZwdV9pc19jb21wYXRp
YmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWcxMmEtdnB1IikpCj4gKwllbHNlIGlmIChtZXNvbl92
cHVfaXNfY29tcGF0aWJsZShwcml2LCBWUFVfQ09NUEFUSUJMRV9HMTJBKSkKPiAgCQlyZWdtYXBf
dXBkYXRlX2JpdHMocHJpdi0+aGhpLCBISElfSERNSV9QTExfQ05UTCwKPiAgCQkJCTMgPDwgMjAs
IHBsbF9vZF90b19yZWcob2QzKSA8PCAyMCk7Cj4gIH0KPiBAQCAtNTg1LDcgKzU4NSw3IEBAIHN0
YXRpYyB1bnNpZ25lZCBpbnQgbWVzb25faGRtaV9wbGxfZ2V0X20oc3RydWN0IG1lc29uX2RybSAq
cHJpdiwKPiAgCQkJCQkgdW5zaWduZWQgaW50IHBsbF9mcmVxKQo+ICB7Cj4gIAkvKiBUaGUgR1hC
QiBQTEwgaGFzIGEgLzIgcHJlLW11bHRpcGxpZXIgKi8KPiAtCWlmIChtZXNvbl92cHVfaXNfY29t
cGF0aWJsZShwcml2LCAiYW1sb2dpYyxtZXNvbi1neGJiLXZwdSIpKQo+ICsJaWYgKG1lc29uX3Zw
dV9pc19jb21wYXRpYmxlKHByaXYsIFZQVV9DT01QQVRJQkxFX0dYQkIpKQo+ICAJCXBsbF9mcmVx
IC89IDI7Cj4gIAo+ICAJcmV0dXJuIHBsbF9mcmVxIC8gWFRBTF9GUkVROwo+IEBAIC02MDUsMTIg
KzYwNSwxMiBAQCBzdGF0aWMgdW5zaWduZWQgaW50IG1lc29uX2hkbWlfcGxsX2dldF9mcmFjKHN0
cnVjdCBtZXNvbl9kcm0gKnByaXYsCj4gIAl1bnNpZ25lZCBpbnQgZnJhYzsKPiAgCj4gIAkvKiBU
aGUgR1hCQiBQTEwgaGFzIGEgLzIgcHJlLW11bHRpcGxpZXIgYW5kIGEgbGFyZ2VyIEZSQUMgd2lk
dGggKi8KPiAtCWlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCAiYW1sb2dpYyxtZXNv
bi1neGJiLXZwdSIpKSB7Cj4gKwlpZiAobWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgVlBV
X0NPTVBBVElCTEVfR1hCQikpIHsKPiAgCQlmcmFjX21heCA9IEhETUlfRlJBQ19NQVhfR1hCQjsK
PiAgCQlwYXJlbnRfZnJlcSAqPSAyOwo+ICAJfQo+ICAKPiAtCWlmIChtZXNvbl92cHVfaXNfY29t
cGF0aWJsZShwcml2LCAiYW1sb2dpYyxtZXNvbi1nMTJhLXZwdSIpKQo+ICsJaWYgKG1lc29uX3Zw
dV9pc19jb21wYXRpYmxlKHByaXYsIFZQVV9DT01QQVRJQkxFX0cxMkEpKQo+ICAJCWZyYWNfbWF4
ID0gSERNSV9GUkFDX01BWF9HMTJBOwo+ICAKPiAgCS8qIFdlIGNhbiBoYXZlIGEgcGVyZmVjdCBt
YXRjaCAhKi8KPiBAQCAtNjMxLDE1ICs2MzEsMTUgQEAgc3RhdGljIGJvb2wgbWVzb25faGRtaV9w
bGxfdmFsaWRhdGVfcGFyYW1zKHN0cnVjdCBtZXNvbl9kcm0gKnByaXYsCj4gIAkJCQkJICAgdW5z
aWduZWQgaW50IG0sCj4gIAkJCQkJICAgdW5zaWduZWQgaW50IGZyYWMpCj4gIHsKPiAtCWlmICht
ZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCAiYW1sb2dpYyxtZXNvbi1neGJiLXZwdSIpKSB7
Cj4gKwlpZiAobWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgVlBVX0NPTVBBVElCTEVfR1hC
QikpIHsKPiAgCQkvKiBFbXBpcmljIHN1cHBvcnRlZCBtaW4vbWF4IGRpdmlkZXJzICovCj4gIAkJ
aWYgKG0gPCA1MyB8fCBtID4gMTIzKQo+ICAJCQlyZXR1cm4gZmFsc2U7Cj4gIAkJaWYgKGZyYWMg
Pj0gSERNSV9GUkFDX01BWF9HWEJCKQo+ICAJCQlyZXR1cm4gZmFsc2U7Cj4gLQl9IGVsc2UgaWYg
KG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWd4bS12cHUiKSB8
fAo+IC0JCSAgIG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWd4
bC12cHUiKSB8fAo+IC0JCSAgIG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2lj
LG1lc29uLWcxMmEtdnB1IikpIHsKPiArCX0gZWxzZSBpZiAobWVzb25fdnB1X2lzX2NvbXBhdGli
bGUocHJpdiwgVlBVX0NPTVBBVElCTEVfR1hNKSB8fAo+ICsJCSAgIG1lc29uX3ZwdV9pc19jb21w
YXRpYmxlKHByaXYsIFZQVV9DT01QQVRJQkxFX0dYTCkgfHwKPiArCQkgICBtZXNvbl92cHVfaXNf
Y29tcGF0aWJsZShwcml2LCBWUFVfQ09NUEFUSUJMRV9HMTJBKSkgewo+ICAJCS8qIEVtcGlyaWMg
c3VwcG9ydGVkIG1pbi9tYXggZGl2aWRlcnMgKi8KPiAgCQlpZiAobSA8IDEwNiB8fCBtID4gMjQ3
KQo+ICAJCQlyZXR1cm4gZmFsc2U7Cj4gQEAgLTc1OSw3ICs3NTksNyBAQCBzdGF0aWMgdm9pZCBt
ZXNvbl92Y2xrX3NldChzdHJ1Y3QgbWVzb25fZHJtICpwcml2LCB1bnNpZ25lZCBpbnQgcGxsX2Jh
c2VfZnJlcSwKPiAgCS8qIFNldCBIRE1JIFBMTCByYXRlICovCj4gIAlpZiAoIW9kMSAmJiAhb2Qy
ICYmICFvZDMpIHsKPiAgCQltZXNvbl9oZG1pX3BsbF9nZW5lcmljX3NldChwcml2LCBwbGxfYmFz
ZV9mcmVxKTsKPiAtCX0gZWxzZSBpZiAobWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgImFt
bG9naWMsbWVzb24tZ3hiYi12cHUiKSkgewo+ICsJfSBlbHNlIGlmIChtZXNvbl92cHVfaXNfY29t
cGF0aWJsZShwcml2LCBWUFVfQ09NUEFUSUJMRV9HWEJCKSkgewo+ICAJCXN3aXRjaCAocGxsX2Jh
c2VfZnJlcSkgewo+ICAJCWNhc2UgMjk3MDAwMDoKPiAgCQkJbSA9IDB4M2Q7Cj4gQEAgLTc3Niw4
ICs3NzYsOCBAQCBzdGF0aWMgdm9pZCBtZXNvbl92Y2xrX3NldChzdHJ1Y3QgbWVzb25fZHJtICpw
cml2LCB1bnNpZ25lZCBpbnQgcGxsX2Jhc2VfZnJlcSwKPiAgCQl9Cj4gIAo+ICAJCW1lc29uX2hk
bWlfcGxsX3NldF9wYXJhbXMocHJpdiwgbSwgZnJhYywgb2QxLCBvZDIsIG9kMyk7Cj4gLQl9IGVs
c2UgaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWd4bS12
cHUiKSB8fAo+IC0JCSAgIG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2ljLG1l
c29uLWd4bC12cHUiKSkgewo+ICsJfSBlbHNlIGlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJsZShw
cml2LCBWUFVfQ09NUEFUSUJMRV9HWE0pIHx8Cj4gKwkJICAgbWVzb25fdnB1X2lzX2NvbXBhdGli
bGUocHJpdiwgVlBVX0NPTVBBVElCTEVfR1hMKSkgewo+ICAJCXN3aXRjaCAocGxsX2Jhc2VfZnJl
cSkgewo+ICAJCWNhc2UgMjk3MDAwMDoKPiAgCQkJbSA9IDB4N2I7Cj4gQEAgLTc5NCw3ICs3OTQs
NyBAQCBzdGF0aWMgdm9pZCBtZXNvbl92Y2xrX3NldChzdHJ1Y3QgbWVzb25fZHJtICpwcml2LCB1
bnNpZ25lZCBpbnQgcGxsX2Jhc2VfZnJlcSwKPiAgCQl9Cj4gIAo+ICAJCW1lc29uX2hkbWlfcGxs
X3NldF9wYXJhbXMocHJpdiwgbSwgZnJhYywgb2QxLCBvZDIsIG9kMyk7Cj4gLQl9IGVsc2UgaWYg
KG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWcxMmEtdnB1Iikp
IHsKPiArCX0gZWxzZSBpZiAobWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgVlBVX0NPTVBB
VElCTEVfRzEyQSkpIHsKPiAgCQlzd2l0Y2ggKHBsbF9iYXNlX2ZyZXEpIHsKPiAgCQljYXNlIDI5
NzAwMDA6Cj4gIAkJCW0gPSAweDdiOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbWVz
b24vbWVzb25fdmVuYy5jIGIvZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29uX3ZlbmMuYwo+IGlu
ZGV4IDY3OWQyMjc0NTMxYy4uNGVmZDc4NjRkNWJmIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9tZXNvbi9tZXNvbl92ZW5jLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVz
b25fdmVuYy5jCj4gQEAgLTE3NTksNyArMTc1OSw3IEBAIHZvaWQgbWVzb25fdmVuY19kaXNhYmxl
X3ZzeW5jKHN0cnVjdCBtZXNvbl9kcm0gKnByaXYpCj4gIHZvaWQgbWVzb25fdmVuY19pbml0KHN0
cnVjdCBtZXNvbl9kcm0gKnByaXYpCj4gIHsKPiAgCS8qIERpc2FibGUgQ1ZCUyBWREFDICovCj4g
LQlpZiAobWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgImFtbG9naWMsbWVzb24tZzEyYS12
cHUiKSkgewo+ICsJaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsIFZQVV9DT01QQVRJ
QkxFX0cxMkEpKSB7Cj4gIAkJcmVnbWFwX3dyaXRlKHByaXYtPmhoaSwgSEhJX1ZEQUNfQ05UTDBf
RzEyQSwgMCk7Cj4gIAkJcmVnbWFwX3dyaXRlKHByaXYtPmhoaSwgSEhJX1ZEQUNfQ05UTDFfRzEy
QSwgOCk7Cj4gIAl9IGVsc2Ugewo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbWVzb24v
bWVzb25fdmVuY19jdmJzLmMgYi9kcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fdmVuY19jdmJz
LmMKPiBpbmRleCA2ZGMxMzBhMjQwNzAuLjlhYjI3YWVjZmNmMyAxMDA2NDQKPiAtLS0gYS9kcml2
ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fdmVuY19jdmJzLmMKPiArKysgYi9kcml2ZXJzL2dwdS9k
cm0vbWVzb24vbWVzb25fdmVuY19jdmJzLmMKPiBAQCAtMTU1LDcgKzE1NSw3IEBAIHN0YXRpYyB2
b2lkIG1lc29uX3ZlbmNfY3Zic19lbmNvZGVyX2Rpc2FibGUoc3RydWN0IGRybV9lbmNvZGVyICpl
bmNvZGVyKQo+ICAJc3RydWN0IG1lc29uX2RybSAqcHJpdiA9IG1lc29uX3ZlbmNfY3Zicy0+cHJp
djsKPiAgCj4gIAkvKiBEaXNhYmxlIENWQlMgVkRBQyAqLwo+IC0JaWYgKG1lc29uX3ZwdV9pc19j
b21wYXRpYmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWcxMmEtdnB1IikpIHsKPiArCWlmIChtZXNv
bl92cHVfaXNfY29tcGF0aWJsZShwcml2LCBWUFVfQ09NUEFUSUJMRV9HMTJBKSkgewo+ICAJCXJl
Z21hcF93cml0ZShwcml2LT5oaGksIEhISV9WREFDX0NOVEwwX0cxMkEsIDApOwo+ICAJCXJlZ21h
cF93cml0ZShwcml2LT5oaGksIEhISV9WREFDX0NOVEwxX0cxMkEsIDApOwo+ICAJfSBlbHNlIHsK
PiBAQCAtMTc0LDE0ICsxNzQsMTQgQEAgc3RhdGljIHZvaWQgbWVzb25fdmVuY19jdmJzX2VuY29k
ZXJfZW5hYmxlKHN0cnVjdCBkcm1fZW5jb2RlciAqZW5jb2RlcikKPiAgCXdyaXRlbF9iaXRzX3Jl
bGF4ZWQoVkVOQ19WREFDX1NFTF9BVFZfRE1ELCAwLAo+ICAJCQkgICAgcHJpdi0+aW9fYmFzZSAr
IF9SRUcoVkVOQ19WREFDX0RBQ1NFTDApKTsKPiAgCj4gLQlpZiAobWVzb25fdnB1X2lzX2NvbXBh
dGlibGUocHJpdiwgImFtbG9naWMsbWVzb24tZ3hiYi12cHUiKSkgewo+ICsJaWYgKG1lc29uX3Zw
dV9pc19jb21wYXRpYmxlKHByaXYsIFZQVV9DT01QQVRJQkxFX0dYQkIpKSB7Cj4gIAkJcmVnbWFw
X3dyaXRlKHByaXYtPmhoaSwgSEhJX1ZEQUNfQ05UTDAsIDEpOwo+ICAJCXJlZ21hcF93cml0ZShw
cml2LT5oaGksIEhISV9WREFDX0NOVEwxLCAwKTsKPiAtCX0gZWxzZSBpZiAobWVzb25fdnB1X2lz
X2NvbXBhdGlibGUocHJpdiwgImFtbG9naWMsbWVzb24tZ3htLXZwdSIpIHx8Cj4gLQkJIG1lc29u
X3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWd4bC12cHUiKSkgewo+ICsJ
fSBlbHNlIGlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCBWUFVfQ09NUEFUSUJMRV9H
WE0pIHx8Cj4gKwkJIG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsIFZQVV9DT01QQVRJQkxF
X0dYTCkpIHsKPiAgCQlyZWdtYXBfd3JpdGUocHJpdi0+aGhpLCBISElfVkRBQ19DTlRMMCwgMHhm
MDAwMSk7Cj4gIAkJcmVnbWFwX3dyaXRlKHByaXYtPmhoaSwgSEhJX1ZEQUNfQ05UTDEsIDApOwo+
IC0JfSBlbHNlIGlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCAiYW1sb2dpYyxtZXNv
bi1nMTJhLXZwdSIpKSB7Cj4gKwl9IGVsc2UgaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHBy
aXYsIFZQVV9DT01QQVRJQkxFX0cxMkEpKSB7Cj4gIAkJcmVnbWFwX3dyaXRlKHByaXYtPmhoaSwg
SEhJX1ZEQUNfQ05UTDBfRzEyQSwgMHg5MDYwMDEpOwo+ICAJCXJlZ21hcF93cml0ZShwcml2LT5o
aGksIEhISV9WREFDX0NOVEwxX0cxMkEsIDApOwo+ICAJfQo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vbWVzb24vbWVzb25fdml1LmMgYi9kcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25f
dml1LmMKPiBpbmRleCBlNzBjZDU1ZDU2YzkuLjY4Y2YyYzJlY2E1ZiAxMDA2NDQKPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fdml1LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
bWVzb24vbWVzb25fdml1LmMKPiBAQCAtMzUzLDEwICszNTMsMTAgQEAgdm9pZCBtZXNvbl92aXVf
aW5pdChzdHJ1Y3QgbWVzb25fZHJtICpwcml2KQo+ICAJCQkgICAgcHJpdi0+aW9fYmFzZSArIF9S
RUcoVklVX09TRDJfQ1RSTF9TVEFUKSk7Cj4gIAo+ICAJLyogT24gR1hML0dYTSwgVXNlIHRoZSAx
MGJpdCBIRFIgY29udmVyc2lvbiBtYXRyaXggKi8KPiAtCWlmIChtZXNvbl92cHVfaXNfY29tcGF0
aWJsZShwcml2LCAiYW1sb2dpYyxtZXNvbi1neG0tdnB1IikgfHwKPiAtCSAgICBtZXNvbl92cHVf
aXNfY29tcGF0aWJsZShwcml2LCAiYW1sb2dpYyxtZXNvbi1neGwtdnB1IikpCj4gKwlpZiAobWVz
b25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgVlBVX0NPTVBBVElCTEVfR1hNKSB8fAo+ICsJICAg
IG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsIFZQVV9DT01QQVRJQkxFX0dYTCkpCj4gIAkJ
bWVzb25fdml1X2xvYWRfbWF0cml4KHByaXYpOwo+IC0JZWxzZSBpZiAobWVzb25fdnB1X2lzX2Nv
bXBhdGlibGUocHJpdiwgImFtbG9naWMsbWVzb24tZzEyYS12cHUiKSkKPiArCWVsc2UgaWYgKG1l
c29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsIFZQVV9DT01QQVRJQkxFX0cxMkEpKQo+ICAJCW1l
c29uX3ZpdV9zZXRfZzEyYV9vc2QxX21hdHJpeChwcml2LCBSR0I3MDlfdG9fWVVWNzA5bF9jb2Vm
ZiwKPiAgCQkJCQkgICAgICAgdHJ1ZSk7Cj4gIAo+IEBAIC0zNjcsNyArMzY3LDcgQEAgdm9pZCBt
ZXNvbl92aXVfaW5pdChzdHJ1Y3QgbWVzb25fZHJtICpwcml2KQo+ICAJCVZJVV9PU0RfV09SRFNf
UEVSX0JVUlNUKDQpIHwgLyogNCB3b3JkcyBpbiAxIGJ1cnN0ICovCj4gIAkJVklVX09TRF9GSUZP
X0xJTUlUUygyKTsgICAgICAvKiBmaWZvX2xpbTogMioxNj0zMiAqLwo+ICAKPiAtCWlmIChtZXNv
bl92cHVfaXNfY29tcGF0aWJsZShwcml2LCAiYW1sb2dpYyxtZXNvbi1nMTJhLXZwdSIpKQo+ICsJ
aWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsIFZQVV9DT01QQVRJQkxFX0cxMkEpKQo+
ICAJCXJlZyB8PSBtZXNvbl92aXVfb3NkX2J1cnN0X2xlbmd0aF9yZWcoMzIpOwo+ICAJZWxzZQo+
ICAJCXJlZyB8PSBtZXNvbl92aXVfb3NkX2J1cnN0X2xlbmd0aF9yZWcoNjQpOwo+IEBAIC0zOTQs
NyArMzk0LDcgQEAgdm9pZCBtZXNvbl92aXVfaW5pdChzdHJ1Y3QgbWVzb25fZHJtICpwcml2KQo+
ICAJd3JpdGVsX3JlbGF4ZWQoMHgwMEZGMDBDMCwKPiAgCQkJcHJpdi0+aW9fYmFzZSArIF9SRUco
VkQyX0lGMF9MVU1BX0ZJRk9fU0laRSkpOwo+ICAKPiAtCWlmIChtZXNvbl92cHVfaXNfY29tcGF0
aWJsZShwcml2LCAiYW1sb2dpYyxtZXNvbi1nMTJhLXZwdSIpKSB7Cj4gKwlpZiAobWVzb25fdnB1
X2lzX2NvbXBhdGlibGUocHJpdiwgVlBVX0NPTVBBVElCTEVfRzEyQSkpIHsKPiAgCQl3cml0ZWxf
cmVsYXhlZChWSVVfT1NEX0JMRU5EX1JFT1JERVIoMCwgMSkgfAo+ICAJCQkgICAgICAgVklVX09T
RF9CTEVORF9SRU9SREVSKDEsIDApIHwKPiAgCQkJICAgICAgIFZJVV9PU0RfQkxFTkRfUkVPUkRF
UigyLCAwKSB8Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNvbl92cHAu
YyBiL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNvbl92cHAuYwo+IGluZGV4IDE0MjlmM2JlNjAy
OC4uMTU0ODM3Njg4YWIwIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNv
bl92cHAuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNvbl92cHAuYwo+IEBAIC05
MSwyMCArOTEsMjAgQEAgc3RhdGljIHZvaWQgbWVzb25fdnBwX3dyaXRlX3ZkX3NjYWxpbmdfZmls
dGVyX2NvZWZzKHN0cnVjdCBtZXNvbl9kcm0gKnByaXYsCj4gIHZvaWQgbWVzb25fdnBwX2luaXQo
c3RydWN0IG1lc29uX2RybSAqcHJpdikKPiAgewo+ICAJLyogc2V0IGR1bW15IGRhdGEgZGVmYXVs
dCBZVVYgYmxhY2sgKi8KPiAtCWlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCAiYW1s
b2dpYyxtZXNvbi1neGwtdnB1IikpCj4gKwlpZiAobWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJp
diwgVlBVX0NPTVBBVElCTEVfR1hMKSkKPiAgCQl3cml0ZWxfcmVsYXhlZCgweDEwODA4MCwgcHJp
di0+aW9fYmFzZSArIF9SRUcoVlBQX0RVTU1ZX0RBVEExKSk7Cj4gLQllbHNlIGlmIChtZXNvbl92
cHVfaXNfY29tcGF0aWJsZShwcml2LCAiYW1sb2dpYyxtZXNvbi1neG0tdnB1IikpIHsKPiArCWVs
c2UgaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsIFZQVV9DT01QQVRJQkxFX0dYTSkp
IHsKPiAgCQl3cml0ZWxfYml0c19yZWxheGVkKDB4ZmYgPDwgMTYsIDB4ZmYgPDwgMTYsCj4gIAkJ
CQkgICAgcHJpdi0+aW9fYmFzZSArIF9SRUcoVklVX01JU0NfQ1RSTDEpKTsKPiAgCQl3cml0ZWxf
cmVsYXhlZChWUFBfUFBTX0RVTU1ZX0RBVEFfTU9ERSwKPiAgCQkJICAgICAgIHByaXYtPmlvX2Jh
c2UgKyBfUkVHKFZQUF9ET0xCWV9DVFJMKSk7Cj4gIAkJd3JpdGVsX3JlbGF4ZWQoMHgxMDIwMDgw
LAo+ICAJCQkJcHJpdi0+aW9fYmFzZSArIF9SRUcoVlBQX0RVTU1ZX0RBVEExKSk7Cj4gLQl9IGVs
c2UgaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWcxMmEt
dnB1IikpCj4gKwl9IGVsc2UgaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsIFZQVV9D
T01QQVRJQkxFX0cxMkEpKQo+ICAJCXdyaXRlbF9yZWxheGVkKDB4ZiwgcHJpdi0+aW9fYmFzZSAr
IF9SRUcoRE9MQllfUEFUSF9DVFJMKSk7Cj4gIAo+ICAJLyogSW5pdGlhbGl6ZSB2cHUgZmlmbyBj
b250cm9sIHJlZ2lzdGVycyAqLwo+IC0JaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYs
ICJhbWxvZ2ljLG1lc29uLWcxMmEtdnB1IikpCj4gKwlpZiAobWVzb25fdnB1X2lzX2NvbXBhdGli
bGUocHJpdiwgVlBVX0NPTVBBVElCTEVfRzEyQSkpCj4gIAkJd3JpdGVsX3JlbGF4ZWQoVlBQX09G
SUZPX1NJWkVfREVGQVVMVCwKPiAgCQkJICAgICAgIHByaXYtPmlvX2Jhc2UgKyBfUkVHKFZQUF9P
RklGT19TSVpFKSk7Cj4gIAllbHNlCj4gQEAgLTExMyw3ICsxMTMsNyBAQCB2b2lkIG1lc29uX3Zw
cF9pbml0KHN0cnVjdCBtZXNvbl9kcm0gKnByaXYpCj4gIAl3cml0ZWxfcmVsYXhlZChWUFBfUE9T
VEJMRU5EX0hPTERfTElORVMoNCkgfCBWUFBfUFJFQkxFTkRfSE9MRF9MSU5FUyg0KSwKPiAgCQkg
ICAgICAgcHJpdi0+aW9fYmFzZSArIF9SRUcoVlBQX0hPTERfTElORVMpKTsKPiAgCj4gLQlpZiAo
IW1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWcxMmEtdnB1Iikp
IHsKPiArCWlmICghbWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgVlBVX0NPTVBBVElCTEVf
RzEyQSkpIHsKPiAgCQkvKiBUdXJuIG9mZiBwcmVibGVuZCAqLwo+ICAJCXdyaXRlbF9iaXRzX3Jl
bGF4ZWQoVlBQX1BSRUJMRU5EX0VOQUJMRSwgMCwKPiAgCQkJCSAgICBwcml2LT5pb19iYXNlICsg
X1JFRyhWUFBfTUlTQykpOwo+IAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRl
c2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8v
ZHJpLWRldmVs
