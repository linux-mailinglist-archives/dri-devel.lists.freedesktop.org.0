Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id D080BD1225
	for <lists+dri-devel@lfdr.de>; Wed,  9 Oct 2019 17:11:02 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7ACDD6E9DA;
	Wed,  9 Oct 2019 15:11:00 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail1.protonmail.ch (mail1.protonmail.ch [185.70.40.18])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 941FB6E9DA
 for <dri-devel@lists.freedesktop.org>; Wed,  9 Oct 2019 15:10:59 +0000 (UTC)
Date: Wed, 09 Oct 2019 15:10:49 +0000
To: dri-devel@lists.freedesktop.org
From: Simon Ser <contact@emersion.fr>
Subject: [PATCH v6] drm: two planes with the same zpos have undefined ordering
Message-ID: <T5nHrvXH0GKOp6ONaFHk-j2cwEb4_4C_sBz9rNw8mmPACuut-DQqC74HMAFKZH3_Q15E8a3YnmKCxap-djKA71VVZv_T-tFxaB0he13O7yA=@emersion.fr>
Feedback-ID: FsVprHBOgyvh0T8bxcZ0CmvJCosWkwVUg658e_lOUQMnA9qynD8O1lGeniuBDfPSkDAUuhiKfOIXUZBfarMyvA==:Ext:ProtonMail
MIME-Version: 1.0
X-Spam-Status: No, score=-1.2 required=7.0 tests=ALL_TRUSTED,DKIM_SIGNED,
 DKIM_VALID,DKIM_VALID_AU,DKIM_VALID_EF autolearn=ham
 autolearn_force=no version=3.4.2
X-Spam-Checker-Version: SpamAssassin 3.4.2 (2018-09-13) on mail.protonmail.ch
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=emersion.fr; s=protonmail; t=1570633856;
 bh=RVhUnON0maTZR4mXwZLyMBuhNu8/4PsSnWG2JPc4A9I=;
 h=Date:To:From:Cc:Reply-To:Subject:Feedback-ID:From;
 b=G69YO0DyokhYny+WIHkIOzxBqoGHSAgHIu4cx0xc/dv1lZQnphDC0c+HdGVSa4vCS
 DiQXTLVRFZKL4WhFyWe3EqsNB+01/2nOYNuJ8f8Eq4rPwfV81c/7OlyToMBgqvo/ug
 XGN/vesk9PdZSRY2ZEusonnvUsardCmob4KNUelM=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Reply-To: Simon Ser <contact@emersion.fr>
Cc: Daniel Vetter <daniel.vetter@ffwll.ch>,
 James Qian Wang <james.qian.wang@arm.com>,
 Marius Vlad <marius.vlad@collabora.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Q3VycmVudGx5IHRoZSBwcm9wZXJ0eSBkb2NzIGRvbid0IHNwZWNpZnkgd2hldGhlciBpdCdzIG9r
YXkgZm9yIHR3byBwbGFuZXMgdG8KaGF2ZSB0aGUgc2FtZSB6cG9zIHZhbHVlIGFuZCB3aGF0IHVz
ZXItc3BhY2Ugc2hvdWxkIGV4cGVjdCBpbiB0aGlzIGNhc2UuCgpUaGUgdW5zcG9rZW4sIGxlZ2Fj
eSBydWxlIHVzZWQgaW4gdGhlIHBhc3Qgd2FzIHRvIG1ha2UgdXNlci1zcGFjZSBmaWd1cmUKb3V0
IHRoZSB6cG9zIGZyb20gb2JqZWN0IElEcy4gSG93ZXZlciBzb21lIGRyaXZlcnMgYnJlYWsgdGhp
cyBydWxlLAp0aGF0J3Mgd2h5IHRoZSBvcmRlcmluZyBpcyBkb2N1bWVudGVkIGFzIHVuc3BlY2lm
aWVkIGluIGNhc2UgdGhlIHpwb3MKcHJvcGVydHkgaXMgbWlzc2luZy4gVXNlci1zcGFjZSBzaG91
bGQgcmVseSBvbiB0aGUgenBvcyBwcm9wZXJ0eSBvbmx5LgoKVGhlcmUgYXJlIHNvbWUgY2FzZXMg
aW4gd2hpY2ggdXNlci1zcGFjZSBtaWdodCByZWFkIGlkZW50aWNhbCB6cG9zCnZhbHVlcyBmb3Ig
ZGlmZmVyZW50IHBsYW5lcy4KCkZvciBpbnN0YW5jZSwgaW4gY2FzZSB0aGUgcHJvcGVydHkgaXMg
bXV0YWJsZSwgdXNlci1zcGFjZSBtaWdodCBzZXQgdHdvCnBsYW5lcycgenBvcyB0byB0aGUgc2Ft
ZSB2YWx1ZS4gVGhpcyBpcyBuZWNlc3NhcnkgdG8gc3VwcG9ydCB1c2VyLXNwYWNlCnVzaW5nIHRo
ZSBsZWdhY3kgRFJNIEFQSSB3aGVyZSBhdG9taWMgY29tbWl0cyBhcmUgbm90IHBvc3NpYmxlOgp1
c2VyLXNwYWNlIG5lZWRzIHRvIHVwZGF0ZSB0aGUgcGxhbmVzJyB6cG9zIG9uZSBieSBvbmUuCgpC
ZWNhdXNlIG9mIHRoaXMsIHVzZXItc3BhY2Ugc2hvdWxkIGhhbmRsZSBtdWx0aXBsZSBwbGFuZXMg
d2l0aCB0aGUgc2FtZQp6cG9zLgoKV2hpbGUgYXQgaXQsIHJlbW92ZSB0aGUgYXNzdW1wdGlvbiB0
aGF0IHpwb3MgaXMgb25seSBmb3Igb3ZlcmxheSBwbGFuZXMuCgpBZGRpdGlvbmFsbHksIHVwZGF0
ZSB0aGUgZHJtX3BsYW5lX3N0YXRlLnpwb3MgZG9jcyB0byBjbGFyaWZ5IHRoYXQgenBvcwpkaXNh
bWJpZ3VhdGlvbiB2aWEgcGxhbmUgb2JqZWN0IElEcyBpcyBhIHJlY29tbWVuZGF0aW9uIGZvciBk
cml2ZXJzLCBub3QKc29tZXRoaW5nIHVzZXItc3BhY2UgY2FuIHJlbHkgb24uIEluIG90aGVyIHdv
cmRzLCB3aGVuIHVzZXItc3BhY2Ugc2V0cwp0aGUgc2FtZSB6cG9zIG9uIHR3byBwbGFuZXMsIGRy
aXZlcnMgc2hvdWxkIHJlbHkgb24gdGhlIHBsYW5lIG9iamVjdCBJRC4KCnYyOiBjbGFyaWZ5IGRy
bV9wbGFuZV9zdGF0ZS56cG9zIGRvY3MgKERhbmllbCkKCnYzOiB6cG9zIGlzIGZvciBhbGwgcGxh
bmVzIChNYXJpdXMsIERhbmllbCkKCnY0OiBjb21wbGV0ZWx5IHJld29yZCB0aGUgZHJtX3BsYW5l
X3N0YXRlLnpwb3MgZG9jcyB0byBtYWtlIGl0IGNsZWFyIHRoZQpyZWNvbW1lbmRhdGlvbiB0byB1
c2UgcGxhbmUgSURzIGlzIGZvciBkcml2ZXJzIGluIGNhc2UgdXNlci1zcGFjZSB1c2VzCmR1cGxp
Y2F0ZSB6cG9zIHZhbHVlcyAoUGVra2EpCgp2NTogcmV3b3JkIGNvbW1pdCBtZXNzYWdlIChQZWtr
YSwgSmFtZXMpCgp2NjogcmVtb3ZlIG1lbnRpb24gb2YgQXJtIEdQVXMgaGF2aW5nIHBsYW5lcyB3
aGljaCBjYW4ndCBvdmVybGFwLApiZWNhdXNlIHRoaXMgaXNuJ3QgdUFQSSB5ZXQgKERhbmllbCkK
ClNpZ25lZC1vZmYtYnk6IFNpbW9uIFNlciA8Y29udGFjdEBlbWVyc2lvbi5mcj4KUmV2aWV3ZWQt
Ynk6IFBla2thIFBhYWxhbmVuIDxwcGFhbGFuZW5AZ21haWwuY29tPgpDYzogTWFyaXVzIFZsYWQg
PG1hcml1cy52bGFkQGNvbGxhYm9yYS5jb20+CkNjOiBEYW5pZWwgVmV0dGVyIDxkYW5pZWwudmV0
dGVyQGZmd2xsLmNoPgpDYzogSmFtZXMgUWlhbiBXYW5nIDxqYW1lcy5xaWFuLndhbmdAYXJtLmNv
bT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vZHJtX2JsZW5kLmMgfCA4ICsrKystLS0tCiBpbmNsdWRl
L2RybS9kcm1fcGxhbmUuaCAgICAgfCA5ICsrKysrLS0tLQogMiBmaWxlcyBjaGFuZ2VkLCA5IGlu
c2VydGlvbnMoKyksIDggZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2RybV9ibGVuZC5jIGIvZHJpdmVycy9ncHUvZHJtL2RybV9ibGVuZC5jCmluZGV4IGQwMjcwOWRk
MmQ0YS4uMTIxNDgxZjZhYTcxIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vZHJtX2JsZW5k
LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2RybV9ibGVuZC5jCkBAIC0xMzIsMTAgKzEzMiwxMCBA
QAogICoJcGxhbmVzLiBXaXRob3V0IHRoaXMgcHJvcGVydHkgdGhlIHByaW1hcnkgcGxhbmUgaXMg
YWx3YXlzIGJlbG93IHRoZSBjdXJzb3IKICAqCXBsYW5lLCBhbmQgb3JkZXJpbmcgYmV0d2VlbiBh
bGwgb3RoZXIgcGxhbmVzIGlzIHVuZGVmaW5lZC4gVGhlIHBvc2l0aXZlCiAgKglaIGF4aXMgcG9p
bnRzIHRvd2FyZHMgdGhlIHVzZXIsIGkuZS4gcGxhbmVzIHdpdGggbG93ZXIgWiBwb3NpdGlvbiB2
YWx1ZXMKLSAqCWFyZSB1bmRlcm5lYXRoIHBsYW5lcyB3aXRoIGhpZ2hlciBaIHBvc2l0aW9uIHZh
bHVlcy4gTm90ZSB0aGF0IHRoZSBaCi0gKglwb3NpdGlvbiB2YWx1ZSBjYW4gYWxzbyBiZSBpbW11
dGFibGUsIHRvIGluZm9ybSB1c2Vyc3BhY2UgYWJvdXQgdGhlCi0gKgloYXJkLWNvZGVkIHN0YWNr
aW5nIG9mIG92ZXJsYXkgcGxhbmVzLCBzZWUKLSAqCWRybV9wbGFuZV9jcmVhdGVfenBvc19pbW11
dGFibGVfcHJvcGVydHkoKS4KKyAqCWFyZSB1bmRlcm5lYXRoIHBsYW5lcyB3aXRoIGhpZ2hlciBa
IHBvc2l0aW9uIHZhbHVlcy4gVHdvIHBsYW5lcyB3aXRoIHRoZQorICoJc2FtZSBaIHBvc2l0aW9u
IHZhbHVlIGhhdmUgdW5kZWZpbmVkIG9yZGVyaW5nLiBOb3RlIHRoYXQgdGhlIFogcG9zaXRpb24K
KyAqCXZhbHVlIGNhbiBhbHNvIGJlIGltbXV0YWJsZSwgdG8gaW5mb3JtIHVzZXJzcGFjZSBhYm91
dCB0aGUgaGFyZC1jb2RlZAorICoJc3RhY2tpbmcgb2YgcGxhbmVzLCBzZWUgZHJtX3BsYW5lX2Ny
ZWF0ZV96cG9zX2ltbXV0YWJsZV9wcm9wZXJ0eSgpLgogICoKICAqIHBpeGVsIGJsZW5kIG1vZGU6
CiAgKglQaXhlbCBibGVuZCBtb2RlIGlzIHNldCB1cCB3aXRoIGRybV9wbGFuZV9jcmVhdGVfYmxl
bmRfbW9kZV9wcm9wZXJ0eSgpLgpkaWZmIC0tZ2l0IGEvaW5jbHVkZS9kcm0vZHJtX3BsYW5lLmgg
Yi9pbmNsdWRlL2RybS9kcm1fcGxhbmUuaAppbmRleCBjZDU5MDNhZDMzZjcuLjMyODc3MzY5MDg1
MSAxMDA2NDQKLS0tIGEvaW5jbHVkZS9kcm0vZHJtX3BsYW5lLmgKKysrIGIvaW5jbHVkZS9kcm0v
ZHJtX3BsYW5lLmgKQEAgLTE0MCwxMCArMTQwLDExIEBAIHN0cnVjdCBkcm1fcGxhbmVfc3RhdGUg
ewogCSAqIEB6cG9zOgogCSAqIFByaW9yaXR5IG9mIHRoZSBnaXZlbiBwbGFuZSBvbiBjcnRjIChv
cHRpb25hbCkuCiAJICoKLQkgKiBOb3RlIHRoYXQgbXVsdGlwbGUgYWN0aXZlIHBsYW5lcyBvbiB0
aGUgc2FtZSBjcnRjIGNhbiBoYXZlIGFuCi0JICogaWRlbnRpY2FsIHpwb3MgdmFsdWUuIFRoZSBy
dWxlIHRvIHNvbHZpbmcgdGhlIGNvbmZsaWN0IGlzIHRvIGNvbXBhcmUKLQkgKiB0aGUgcGxhbmUg
b2JqZWN0IElEczsgdGhlIHBsYW5lIHdpdGggYSBoaWdoZXIgSUQgbXVzdCBiZSBzdGFja2VkIG9u
Ci0JICogdG9wIG9mIGEgcGxhbmUgd2l0aCBhIGxvd2VyIElELgorCSAqIFVzZXItc3BhY2UgbWF5
IHNldCBtdXRhYmxlIHpwb3MgcHJvcGVydGllcyBzbyB0aGF0IG11bHRpcGxlIGFjdGl2ZQorCSAq
IHBsYW5lcyBvbiB0aGUgc2FtZSBDUlRDIGhhdmUgaWRlbnRpY2FsIHpwb3MgdmFsdWVzLiBUaGlz
IGlzIGEKKwkgKiB1c2VyLXNwYWNlIGJ1ZywgYnV0IGRyaXZlcnMgY2FuIHNvbHZlIHRoZSBjb25m
bGljdCBieSBjb21wYXJpbmcgdGhlCisJICogcGxhbmUgb2JqZWN0IElEczsgdGhlIHBsYW5lIHdp
dGggYSBoaWdoZXIgSUQgaXMgc3RhY2tlZCBvbiB0b3Agb2YgYQorCSAqIHBsYW5lIHdpdGggYSBs
b3dlciBJRC4KIAkgKgogCSAqIFNlZSBkcm1fcGxhbmVfY3JlYXRlX3pwb3NfcHJvcGVydHkoKSBh
bmQKIAkgKiBkcm1fcGxhbmVfY3JlYXRlX3pwb3NfaW1tdXRhYmxlX3Byb3BlcnR5KCkgZm9yIG1v
cmUgZGV0YWlscy4KLS0KMi4yMy4wCgoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGlu
Zm8vZHJpLWRldmVs
