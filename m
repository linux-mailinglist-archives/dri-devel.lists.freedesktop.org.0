Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 156FB49799
	for <lists+dri-devel@lfdr.de>; Tue, 18 Jun 2019 04:45:14 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C97E16E0D1;
	Tue, 18 Jun 2019 02:45:11 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-qt1-x843.google.com (mail-qt1-x843.google.com
 [IPv6:2607:f8b0:4864:20::843])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8D9776E0D1
 for <dri-devel@lists.freedesktop.org>; Tue, 18 Jun 2019 02:45:10 +0000 (UTC)
Received: by mail-qt1-x843.google.com with SMTP id x2so13517575qtr.0
 for <dri-devel@lists.freedesktop.org>; Mon, 17 Jun 2019 19:45:10 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:date:from:to:cc:subject:message-id:references
 :mime-version:content-disposition:in-reply-to:user-agent;
 bh=Dz+adBAPcE8qvI07dIqlmwVAtO9T/l0uCjfq3X+Fk/0=;
 b=BnqfOuFwrzWsBAcxpSrvY1bbHayrmNXh/Et+EXGS/qn1d/2kxFDPpNnRVbza/3+hiP
 LNy0zFKnjH7EIAMpnxReAQ2Ep/MjqZ9thr/VfUXmaQV/n7U+PeE6FjbBWpdMCHPRoXUE
 easZc1rKe0GUeAsb56iKSz82AoWavSNPIq/uVYKnTrYhD9Gh3NCAUm3eca7AExOwGiG2
 DGUdK0DtS85kV1OHbY7renahFE3O11YfSNG8NtEywYDNj3Wq/gC0dnSP461CWQcXJoUN
 rPYCkSIb97vfjnYYAtPkJ+BVdZXo1ynN7XCLmxhX5GTcyhcIb/AhZoZ5Z8H43k1pa3eF
 Wkag==
X-Gm-Message-State: APjAAAWwWDhvG5CLmyo+J4xWCevyMV8/LkvZ0UBUYs4T8ZecknLmnDjw
 P0+OSEHfgo5mneugwclh1Jc=
X-Google-Smtp-Source: APXvYqzmE+SzilO07+hRB3nGbI8Xd8fV9brHpP1GekfSwiVKCc/8Z3fUrjCU/xxXQkeq3u3A+VAEuA==
X-Received: by 2002:ad4:5426:: with SMTP id g6mr24791223qvt.132.1560825909669; 
 Mon, 17 Jun 2019 19:45:09 -0700 (PDT)
Received: from smtp.gmail.com ([187.121.151.146])
 by smtp.gmail.com with ESMTPSA id f68sm8133745qtb.83.2019.06.17.19.45.06
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Mon, 17 Jun 2019 19:45:09 -0700 (PDT)
Date: Mon, 17 Jun 2019 23:45:04 -0300
From: Rodrigo Siqueira <rodrigosiqueiramelo@gmail.com>
To: Brian Starkey <brian.starkey@arm.com>,
 Liviu Dudau <liviu.dudau@arm.com>, Daniel Vetter <daniel@ffwll.ch>,
 Haneen Mohammed <hamohammed.sa@gmail.com>, Simon Ser <contact@emersion.fr>
Subject: [PATCH V2 3/5] drm/vkms: Rename vkms_crc_data to vkms_data
Message-ID: <0de57ac2d1eedf412d579796a2efedab26af7bf0.1560820888.git.rodrigosiqueiramelo@gmail.com>
References: <cover.1560820888.git.rodrigosiqueiramelo@gmail.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <cover.1560820888.git.rodrigosiqueiramelo@gmail.com>
User-Agent: NeoMutt/20180716
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=date:from:to:cc:subject:message-id:references:mime-version
 :content-disposition:in-reply-to:user-agent;
 bh=Dz+adBAPcE8qvI07dIqlmwVAtO9T/l0uCjfq3X+Fk/0=;
 b=X91k3au1269cF7ErYx0NeCBvM6Ah0m0bDU7zwKjf9avUFYCLESFuLlk50/D/RXeMrq
 /2JqZMG6vphcLLXpmpj7NL/cqGdkqb7iW2BegoVcKGGBxeKZOJ2pLa4JyEQ4H6hjgvAS
 cWsSgShoCGCRcVYm427tx+zNjoUEmqLGNSd3f47ki00cNIFvKAWXIVT+2sh3PNYFh2et
 +PMWhmS9gW5l9hhQVWyysSWGBAUBxlrWv6babpojIUT2dcJeG1lsuTiPtmZ/zX0tH0yy
 2K73o0BPF08IiR5PgonZfbavnNvLw7lwvbqe0RWKbLEw21tt6mO2fyIv/jguuwBxWGNf
 2jwg==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-kernel@vger.kernel.org, dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

UmVuYW1lIHRoZSBzdHJ1Y3Qgdmttc19jcmNfZGF0YSB0byB2a21zX2RhdGEgYW5kIGFsc28gcmVt
b3ZlIHRoZSBDUkMKcHJlZml4IGZyb20gdmFyaWFibGVzIHRoYXQgdXNlIHRoaXMgc3RydWN0LgoK
U2lnbmVkLW9mZi1ieTogUm9kcmlnbyBTaXF1ZWlyYSA8cm9kcmlnb3NpcXVlaXJhbWVsb0BnbWFp
bC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL3ZrbXMvdmttc19jb21wb3Nlci5jIHwgIDggKysr
LS0tLQogZHJpdmVycy9ncHUvZHJtL3ZrbXMvdmttc19jb21wb3Nlci5oIHwgIDggKysrLS0tLQog
ZHJpdmVycy9ncHUvZHJtL3ZrbXMvdmttc19jcmMuYyAgICAgIHwgMTQgKysrKystLS0tLS0KIGRy
aXZlcnMvZ3B1L2RybS92a21zL3ZrbXNfZHJ2LmggICAgICB8ICA2ICsrLS0tCiBkcml2ZXJzL2dw
dS9kcm0vdmttcy92a21zX3BsYW5lLmMgICAgfCAzNiArKysrKysrKysrKysrKy0tLS0tLS0tLS0t
LS0tCiA1IGZpbGVzIGNoYW5nZWQsIDM2IGluc2VydGlvbnMoKyksIDM2IGRlbGV0aW9ucygtKQoK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS92a21zL3ZrbXNfY29tcG9zZXIuYyBiL2RyaXZl
cnMvZ3B1L2RybS92a21zL3ZrbXNfY29tcG9zZXIuYwppbmRleCAzZDdjNWUzMTZkNmUuLmM2MzZk
YzY3MjQzMCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3ZrbXMvdmttc19jb21wb3Nlci5j
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS92a21zL3ZrbXNfY29tcG9zZXIuYwpAQCAtMTksOCArMTks
OCBAQAogICogVG9kbzogVXNlIHRoZSBhbHBoYSB2YWx1ZSB0byBibGVuZCB2YWRkcl9zcmMgd2l0
aCB2YWRkcl9kc3QKICAqCSBpbnN0ZWFkIG9mIG92ZXJ3cml0aW5nIGl0LgogICovCi12b2lkIGJs
ZW5kKHZvaWQgKnZhZGRyX2RzdCwgdm9pZCAqdmFkZHJfc3JjLCBzdHJ1Y3Qgdmttc19jcmNfZGF0
YSAqZGVzdCwKLQkgICBzdHJ1Y3Qgdmttc19jcmNfZGF0YSAqc3JjKQordm9pZCBibGVuZCh2b2lk
ICp2YWRkcl9kc3QsIHZvaWQgKnZhZGRyX3NyYywgc3RydWN0IHZrbXNfZGF0YSAqZGVzdCwKKwkg
ICBzdHJ1Y3Qgdmttc19kYXRhICpzcmMpCiB7CiAJaW50IGksIGosIGpfZHN0LCBpX2RzdDsKIAlp
bnQgb2Zmc2V0X3NyYywgb2Zmc2V0X2RzdDsKQEAgLTUyLDggKzUyLDggQEAgdm9pZCBibGVuZCh2
b2lkICp2YWRkcl9kc3QsIHZvaWQgKnZhZGRyX3NyYywgc3RydWN0IHZrbXNfY3JjX2RhdGEgKmRl
c3QsCiAJfQogfQogCi12b2lkIGNvbXBvc2VfY3Vyc29yKHN0cnVjdCB2a21zX2NyY19kYXRhICpj
dXJzb3IsCi0JCSAgICBzdHJ1Y3Qgdmttc19jcmNfZGF0YSAqcHJpbWFyeSwgdm9pZCAqdmFkZHJf
b3V0KQordm9pZCBjb21wb3NlX2N1cnNvcihzdHJ1Y3Qgdmttc19kYXRhICpjdXJzb3IsIHN0cnVj
dCB2a21zX2RhdGEgKnByaW1hcnksCisJCSAgICB2b2lkICp2YWRkcl9vdXQpCiB7CiAJc3RydWN0
IGRybV9nZW1fb2JqZWN0ICpjdXJzb3Jfb2JqOwogCXN0cnVjdCB2a21zX2dlbV9vYmplY3QgKmN1
cnNvcl92a21zX29iajsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS92a21zL3ZrbXNfY29t
cG9zZXIuaCBiL2RyaXZlcnMvZ3B1L2RybS92a21zL3ZrbXNfY29tcG9zZXIuaAppbmRleCA1M2Zk
ZWUxN2E2MzIuLjkzODQyYjRiMmVlZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3ZrbXMv
dmttc19jb21wb3Nlci5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS92a21zL3ZrbXNfY29tcG9zZXIu
aApAQCAtMywxMCArMywxMCBAQAogI2lmbmRlZiBfVktNU19DT01QT1NFUl9IXwogI2RlZmluZSBf
VktNU19DT01QT1NFUl9IXwogCi12b2lkIGJsZW5kKHZvaWQgKnZhZGRyX2RzdCwgdm9pZCAqdmFk
ZHJfc3JjLCBzdHJ1Y3Qgdmttc19jcmNfZGF0YSAqZGVzdCwKLQkgICBzdHJ1Y3Qgdmttc19jcmNf
ZGF0YSAqc3JjKTsKK3ZvaWQgYmxlbmQodm9pZCAqdmFkZHJfZHN0LCB2b2lkICp2YWRkcl9zcmMs
IHN0cnVjdCB2a21zX2RhdGEgKmRlc3QsCisJICAgc3RydWN0IHZrbXNfZGF0YSAqc3JjKTsKIAot
dm9pZCBjb21wb3NlX2N1cnNvcihzdHJ1Y3Qgdmttc19jcmNfZGF0YSAqY3Vyc29yLAotCQkgICAg
c3RydWN0IHZrbXNfY3JjX2RhdGEgKnByaW1hcnksIHZvaWQgKnZhZGRyX291dCk7Cit2b2lkIGNv
bXBvc2VfY3Vyc29yKHN0cnVjdCB2a21zX2RhdGEgKmN1cnNvciwgc3RydWN0IHZrbXNfZGF0YSAq
cHJpbWFyeSwKKwkJICAgIHZvaWQgKnZhZGRyX291dCk7CiAKICNlbmRpZiAvKiBfVktNU19DT01Q
T1NFUl9IXyAqLwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3ZrbXMvdmttc19jcmMuYyBi
L2RyaXZlcnMvZ3B1L2RybS92a21zL3ZrbXNfY3JjLmMKaW5kZXggOGIyMTU2Nzc1ODFmLi42OWQw
ZGVjZjE0YWYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS92a21zL3ZrbXNfY3JjLmMKKysr
IGIvZHJpdmVycy9ncHUvZHJtL3ZrbXMvdmttc19jcmMuYwpAQCAtMTYsNyArMTYsNyBAQAogICog
cmV0dXJucyBDUkMgdmFsdWUgY29tcHV0ZWQgdXNpbmcgY3JjMzIgb24gdGhlIHZpc2libGUgcG9y
dGlvbiBvZgogICogdGhlIGZpbmFsIGZyYW1lYnVmZmVyIGF0IHZhZGRyX291dAogICovCi1zdGF0
aWMgdWludDMyX3QgY29tcHV0ZV9jcmModm9pZCAqdmFkZHJfb3V0LCBzdHJ1Y3Qgdmttc19jcmNf
ZGF0YSAqY3JjX291dCkKK3N0YXRpYyB1aW50MzJfdCBjb21wdXRlX2NyYyh2b2lkICp2YWRkcl9v
dXQsIHN0cnVjdCB2a21zX2RhdGEgKmNyY19vdXQpCiB7CiAJaW50IGksIGosIHNyY19vZmZzZXQ7
CiAJaW50IHhfc3JjID0gY3JjX291dC0+c3JjLngxID4+IDE2OwpAQCAtNDAsOCArNDAsOCBAQCBz
dGF0aWMgdWludDMyX3QgY29tcHV0ZV9jcmModm9pZCAqdmFkZHJfb3V0LCBzdHJ1Y3Qgdmttc19j
cmNfZGF0YSAqY3JjX291dCkKIAlyZXR1cm4gY3JjOwogfQogCi1zdGF0aWMgdWludDMyX3QgX3Zr
bXNfZ2V0X2NyYyhzdHJ1Y3Qgdmttc19jcmNfZGF0YSAqcHJpbWFyeV9jcmMsCi0JCQkgICAgICBz
dHJ1Y3Qgdmttc19jcmNfZGF0YSAqY3Vyc29yX2NyYykKK3N0YXRpYyB1aW50MzJfdCBfdmttc19n
ZXRfY3JjKHN0cnVjdCB2a21zX2RhdGEgKnByaW1hcnlfY3JjLAorCQkJICAgICAgc3RydWN0IHZr
bXNfZGF0YSAqY3Vyc29yX2NyYykKIHsKIAlzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpmYiA9ICZw
cmltYXJ5X2NyYy0+ZmI7CiAJc3RydWN0IGRybV9nZW1fb2JqZWN0ICpnZW1fb2JqID0gZHJtX2dl
bV9mYl9nZXRfb2JqKGZiLCAwKTsKQEAgLTg3LDggKzg3LDggQEAgdm9pZCB2a21zX2NyY193b3Jr
X2hhbmRsZShzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspCiAJCQkJCQljcmNfd29yayk7CiAJc3Ry
dWN0IGRybV9jcnRjICpjcnRjID0gY3J0Y19zdGF0ZS0+YmFzZS5jcnRjOwogCXN0cnVjdCB2a21z
X291dHB1dCAqb3V0ID0gZHJtX2NydGNfdG9fdmttc19vdXRwdXQoY3J0Yyk7Ci0Jc3RydWN0IHZr
bXNfY3JjX2RhdGEgKnByaW1hcnlfY3JjID0gTlVMTDsKLQlzdHJ1Y3Qgdmttc19jcmNfZGF0YSAq
Y3Vyc29yX2NyYyA9IE5VTEw7CisJc3RydWN0IHZrbXNfZGF0YSAqcHJpbWFyeV9jcmMgPSBOVUxM
OworCXN0cnVjdCB2a21zX2RhdGEgKmN1cnNvcl9jcmMgPSBOVUxMOwogCXUzMiBjcmMzMiA9IDA7
CiAJdTY0IGZyYW1lX3N0YXJ0LCBmcmFtZV9lbmQ7CiAJYm9vbCBjcmNfcGVuZGluZzsKQEAgLTEx
MCwxMCArMTEwLDEwIEBAIHZvaWQgdmttc19jcmNfd29ya19oYW5kbGUoc3RydWN0IHdvcmtfc3Ry
dWN0ICp3b3JrKQogCQlyZXR1cm47CiAKIAlpZiAoY3J0Y19zdGF0ZS0+bnVtX2FjdGl2ZV9wbGFu
ZXMgPj0gMSkKLQkJcHJpbWFyeV9jcmMgPSBjcnRjX3N0YXRlLT5hY3RpdmVfcGxhbmVzWzBdLT5j
cmNfZGF0YTsKKwkJcHJpbWFyeV9jcmMgPSBjcnRjX3N0YXRlLT5hY3RpdmVfcGxhbmVzWzBdLT5k
YXRhOwogCiAJaWYgKGNydGNfc3RhdGUtPm51bV9hY3RpdmVfcGxhbmVzID09IDIpCi0JCWN1cnNv
cl9jcmMgPSBjcnRjX3N0YXRlLT5hY3RpdmVfcGxhbmVzWzFdLT5jcmNfZGF0YTsKKwkJY3Vyc29y
X2NyYyA9IGNydGNfc3RhdGUtPmFjdGl2ZV9wbGFuZXNbMV0tPmRhdGE7CiAKIAlpZiAocHJpbWFy
eV9jcmMpCiAJCWNyYzMyID0gX3ZrbXNfZ2V0X2NyYyhwcmltYXJ5X2NyYywgY3Vyc29yX2NyYyk7
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdmttcy92a21zX2Rydi5oIGIvZHJpdmVycy9n
cHUvZHJtL3ZrbXMvdmttc19kcnYuaAppbmRleCBhODg3YzA1ZmY3MGUuLjhkNjI4ZDE4MTA1ZSAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3ZrbXMvdmttc19kcnYuaAorKysgYi9kcml2ZXJz
L2dwdS9kcm0vdmttcy92a21zX2Rydi5oCkBAIC0yMCw3ICsyMCw3IEBACiAKIGV4dGVybiBib29s
IGVuYWJsZV9jdXJzb3I7CiAKLXN0cnVjdCB2a21zX2NyY19kYXRhIHsKK3N0cnVjdCB2a21zX2Rh
dGEgewogCXN0cnVjdCBkcm1fZnJhbWVidWZmZXIgZmI7CiAJc3RydWN0IGRybV9yZWN0IHNyYywg
ZHN0OwogCXVuc2lnbmVkIGludCBvZmZzZXQ7CkBAIC0zMSwxMSArMzEsMTEgQEAgc3RydWN0IHZr
bXNfY3JjX2RhdGEgewogLyoqCiAgKiB2a21zX3BsYW5lX3N0YXRlIC0gRHJpdmVyIHNwZWNpZmlj
IHBsYW5lIHN0YXRlCiAgKiBAYmFzZTogYmFzZSBwbGFuZSBzdGF0ZQotICogQGNyY19kYXRhOiBk
YXRhIHJlcXVpcmVkIGZvciBDUkMgY29tcHV0YXRpb24KKyAqIEBkYXRhOiBkYXRhIHJlcXVpcmVk
IGZvciBjb21wb3NlIGNvbXB1dGF0aW9uCiAgKi8KIHN0cnVjdCB2a21zX3BsYW5lX3N0YXRlIHsK
IAlzdHJ1Y3QgZHJtX3BsYW5lX3N0YXRlIGJhc2U7Ci0Jc3RydWN0IHZrbXNfY3JjX2RhdGEgKmNy
Y19kYXRhOworCXN0cnVjdCB2a21zX2RhdGEgKmRhdGE7CiB9OwogCiAvKioKZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS92a21zL3ZrbXNfcGxhbmUuYyBiL2RyaXZlcnMvZ3B1L2RybS92a21z
L3ZrbXNfcGxhbmUuYwppbmRleCAwZmNlYjYyNTg0MjIuLjhjZjQwMjk3Y2Y1NiAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL3ZrbXMvdmttc19wbGFuZS5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS92a21zL3ZrbXNfcGxhbmUuYwpAQCAtMTgsMjAgKzE4LDIwIEBAIHN0YXRpYyBzdHJ1Y3QgZHJt
X3BsYW5lX3N0YXRlICoKIHZrbXNfcGxhbmVfZHVwbGljYXRlX3N0YXRlKHN0cnVjdCBkcm1fcGxh
bmUgKnBsYW5lKQogewogCXN0cnVjdCB2a21zX3BsYW5lX3N0YXRlICp2a21zX3N0YXRlOwotCXN0
cnVjdCB2a21zX2NyY19kYXRhICpjcmNfZGF0YTsKKwlzdHJ1Y3Qgdmttc19kYXRhICpkYXRhOwog
CiAJdmttc19zdGF0ZSA9IGt6YWxsb2Moc2l6ZW9mKCp2a21zX3N0YXRlKSwgR0ZQX0tFUk5FTCk7
CiAJaWYgKCF2a21zX3N0YXRlKQogCQlyZXR1cm4gTlVMTDsKIAotCWNyY19kYXRhID0ga3phbGxv
YyhzaXplb2YoKmNyY19kYXRhKSwgR0ZQX0tFUk5FTCk7Ci0JaWYgKCFjcmNfZGF0YSkgewotCQlE
Uk1fREVCVUdfS01TKCJDb3VsZG4ndCBhbGxvY2F0ZSBjcmNfZGF0YVxuIik7CisJZGF0YSA9IGt6
YWxsb2Moc2l6ZW9mKCpkYXRhKSwgR0ZQX0tFUk5FTCk7CisJaWYgKCFkYXRhKSB7CisJCURSTV9E
RUJVR19LTVMoIkNvdWxkbid0IGFsbG9jYXRlIHZrbXNfZGF0YVxuIik7CiAJCWtmcmVlKHZrbXNf
c3RhdGUpOwogCQlyZXR1cm4gTlVMTDsKIAl9CiAKLQl2a21zX3N0YXRlLT5jcmNfZGF0YSA9IGNy
Y19kYXRhOworCXZrbXNfc3RhdGUtPmRhdGEgPSBkYXRhOwogCiAJX19kcm1fYXRvbWljX2hlbHBl
cl9wbGFuZV9kdXBsaWNhdGVfc3RhdGUocGxhbmUsCiAJCQkJCQkgICZ2a21zX3N0YXRlLT5iYXNl
KTsKQEAgLTQ5LDEyICs0OSwxMiBAQCBzdGF0aWMgdm9pZCB2a21zX3BsYW5lX2Rlc3Ryb3lfc3Rh
dGUoc3RydWN0IGRybV9wbGFuZSAqcGxhbmUsCiAJCS8qIGRyb3BwaW5nIHRoZSByZWZlcmVuY2Ug
d2UgYWNxdWlyZWQgaW4KIAkJICogdmttc19wcmltYXJ5X3BsYW5lX3VwZGF0ZSgpCiAJCSAqLwot
CQlpZiAoZHJtX2ZyYW1lYnVmZmVyX3JlYWRfcmVmY291bnQoJnZrbXNfc3RhdGUtPmNyY19kYXRh
LT5mYikpCi0JCQlkcm1fZnJhbWVidWZmZXJfcHV0KCZ2a21zX3N0YXRlLT5jcmNfZGF0YS0+ZmIp
OworCQlpZiAoZHJtX2ZyYW1lYnVmZmVyX3JlYWRfcmVmY291bnQoJnZrbXNfc3RhdGUtPmRhdGEt
PmZiKSkKKwkJCWRybV9mcmFtZWJ1ZmZlcl9wdXQoJnZrbXNfc3RhdGUtPmRhdGEtPmZiKTsKIAl9
CiAKLQlrZnJlZSh2a21zX3N0YXRlLT5jcmNfZGF0YSk7Ci0Jdmttc19zdGF0ZS0+Y3JjX2RhdGEg
PSBOVUxMOworCWtmcmVlKHZrbXNfc3RhdGUtPmRhdGEpOworCXZrbXNfc3RhdGUtPmRhdGEgPSBO
VUxMOwogCiAJX19kcm1fYXRvbWljX2hlbHBlcl9wbGFuZV9kZXN0cm95X3N0YXRlKG9sZF9zdGF0
ZSk7CiAJa2ZyZWUodmttc19zdGF0ZSk7CkBAIC05MSwyMSArOTEsMjEgQEAgc3RhdGljIHZvaWQg
dmttc19wbGFuZV9hdG9taWNfdXBkYXRlKHN0cnVjdCBkcm1fcGxhbmUgKnBsYW5lLAogewogCXN0
cnVjdCB2a21zX3BsYW5lX3N0YXRlICp2a21zX3BsYW5lX3N0YXRlOwogCXN0cnVjdCBkcm1fZnJh
bWVidWZmZXIgKmZiID0gcGxhbmUtPnN0YXRlLT5mYjsKLQlzdHJ1Y3Qgdmttc19jcmNfZGF0YSAq
Y3JjX2RhdGE7CisJc3RydWN0IHZrbXNfZGF0YSAqZGF0YTsKIAogCWlmICghcGxhbmUtPnN0YXRl
LT5jcnRjIHx8ICFmYikKIAkJcmV0dXJuOwogCiAJdmttc19wbGFuZV9zdGF0ZSA9IHRvX3ZrbXNf
cGxhbmVfc3RhdGUocGxhbmUtPnN0YXRlKTsKIAotCWNyY19kYXRhID0gdmttc19wbGFuZV9zdGF0
ZS0+Y3JjX2RhdGE7Ci0JbWVtY3B5KCZjcmNfZGF0YS0+c3JjLCAmcGxhbmUtPnN0YXRlLT5zcmMs
IHNpemVvZihzdHJ1Y3QgZHJtX3JlY3QpKTsKLQltZW1jcHkoJmNyY19kYXRhLT5kc3QsICZwbGFu
ZS0+c3RhdGUtPmRzdCwgc2l6ZW9mKHN0cnVjdCBkcm1fcmVjdCkpOwotCW1lbWNweSgmY3JjX2Rh
dGEtPmZiLCBmYiwgc2l6ZW9mKHN0cnVjdCBkcm1fZnJhbWVidWZmZXIpKTsKLQlkcm1fZnJhbWVi
dWZmZXJfZ2V0KCZjcmNfZGF0YS0+ZmIpOwotCWNyY19kYXRhLT5vZmZzZXQgPSBmYi0+b2Zmc2V0
c1swXTsKLQljcmNfZGF0YS0+cGl0Y2ggPSBmYi0+cGl0Y2hlc1swXTsKLQljcmNfZGF0YS0+Y3Bw
ID0gZmItPmZvcm1hdC0+Y3BwWzBdOworCWRhdGEgPSB2a21zX3BsYW5lX3N0YXRlLT5kYXRhOwor
CW1lbWNweSgmZGF0YS0+c3JjLCAmcGxhbmUtPnN0YXRlLT5zcmMsIHNpemVvZihzdHJ1Y3QgZHJt
X3JlY3QpKTsKKwltZW1jcHkoJmRhdGEtPmRzdCwgJnBsYW5lLT5zdGF0ZS0+ZHN0LCBzaXplb2Yo
c3RydWN0IGRybV9yZWN0KSk7CisJbWVtY3B5KCZkYXRhLT5mYiwgZmIsIHNpemVvZihzdHJ1Y3Qg
ZHJtX2ZyYW1lYnVmZmVyKSk7CisJZHJtX2ZyYW1lYnVmZmVyX2dldCgmZGF0YS0+ZmIpOworCWRh
dGEtPm9mZnNldCA9IGZiLT5vZmZzZXRzWzBdOworCWRhdGEtPnBpdGNoID0gZmItPnBpdGNoZXNb
MF07CisJZGF0YS0+Y3BwID0gZmItPmZvcm1hdC0+Y3BwWzBdOwogfQogCiBzdGF0aWMgaW50IHZr
bXNfcGxhbmVfYXRvbWljX2NoZWNrKHN0cnVjdCBkcm1fcGxhbmUgKnBsYW5lLAotLSAKMi4yMS4w
Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZl
bCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xp
c3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
