Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 35B542450FD
	for <lists+dri-devel@lfdr.de>; Sat, 15 Aug 2020 14:54:37 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A288C6E37C;
	Sat, 15 Aug 2020 12:54:28 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-lj1-x244.google.com (mail-lj1-x244.google.com
 [IPv6:2a00:1450:4864:20::244])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 5D56F6E102
 for <dri-devel@lists.freedesktop.org>; Sat, 15 Aug 2020 12:54:25 +0000 (UTC)
Received: by mail-lj1-x244.google.com with SMTP id m22so12661562ljj.5
 for <dri-devel@lists.freedesktop.org>; Sat, 15 Aug 2020 05:54:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=sender:from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=D70qOi84cYKFNd6fiun2/0+RhM6gsyw8CYGZ39imlYs=;
 b=Cg9rxrU031qJ1B+A0MWP40OIe5tJdXZPdA2GYi/wXm/FKquuEVGvMiujZA9+D1jGxa
 69ba5uJh3rP8dHXT7YshGPK50+LaYtPq7lIuMWVjMSS4epx/F/Hx8pZHOJakpuNWZYOU
 a60+2NSVHukpohVTN06XDTKiE273T4SpUp9VduPWoSaGNsiHc24TB5eyeWLhOVI67CDz
 oqraZH3pIb0DqItqFxOgDUxznW/qYswGbN9STpNM+9p7M5q0IK/9BMX8Ph4dQDnuVDzL
 6YcUuvxQauCjFwk6BdMGhWyRj9RTYIoThpzyJ62C25b/k/Pt8iE2E9l2Esd/9V0nLxg3
 7rig==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:sender:from:to:cc:subject:date:message-id
 :in-reply-to:references:mime-version:content-transfer-encoding;
 bh=D70qOi84cYKFNd6fiun2/0+RhM6gsyw8CYGZ39imlYs=;
 b=V5T/stCDoshWJuoD6D+85O80CnzIJvCgC6KY0R2ap/RZQ45sqDp1niLZ0ywlMQyTuT
 /nZTAoWiKK9wJTVpDfadJpB6JIwaoVLkhH/SaV39ehc41+f2NBwRbZkcJ+a9XdZ6Ct33
 k1KPRoGeFqn555NUyC3aIs8FvysJqapS1vPonkNz604rrtt1PpdJ3Qnjja7T5tWsvKEf
 SvStvev30Ryx+DJxup0RVEQMU2wLZ596xMG64JwnChlNGtm3/DFU8dbQhqHJdpMd0JMS
 42eXLPlD3bKSCJ8YUChDvQ45LDE5fnpDABzwOv9N/O/e1nuCozcImweh3Vha9/oEz+wb
 kblQ==
X-Gm-Message-State: AOAM532zER/vXYUrUrBAfGRg1FlOYIztcNZ+xhD2wLd0xqsndcblm2x3
 x3+TDTfpj6cOgdTb3+wFhrIw46p6yugjQQ==
X-Google-Smtp-Source: ABdhPJyZLix8KvJDhKjPVPzRrCIL/C4JNkZ8SsepbHF458AciNtzgP5wy0Jvc1Z3QmLDtDmiVVQHEQ==
X-Received: by 2002:a2e:9990:: with SMTP id w16mr3116572lji.156.1597496063599; 
 Sat, 15 Aug 2020 05:54:23 -0700 (PDT)
Received: from saturn.lan ([2a00:fd00:805f:db00:402:93d8:3e64:6121])
 by smtp.gmail.com with ESMTPSA id e29sm2396322ljp.136.2020.08.15.05.54.22
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Sat, 15 Aug 2020 05:54:23 -0700 (PDT)
From: Sam Ravnborg <sam@ravnborg.org>
To: dri-devel@lists.freedesktop.org, Thierry Reding <thierry.reding@gmail.com>
Subject: [PATCH v1 3/5] drm/panel: raydium: Use dev_ based logging
Date: Sat, 15 Aug 2020 14:54:04 +0200
Message-Id: <20200815125406.1153224-4-sam@ravnborg.org>
X-Mailer: git-send-email 2.25.1
In-Reply-To: <20200815125406.1153224-1-sam@ravnborg.org>
References: <20200815125406.1153224-1-sam@ravnborg.org>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Laurent Pinchart <laurent.pinchart@ideasonboard.com>,
 David Airlie <airlied@linux.ie>,
 =?UTF-8?q?Guido=20G=C3=BCnther?= <agx@sigxcpu.org>,
 Jerry Han <hanxu5@huaqin.corp-partner.google.com>,
 Jani Nikula <jani.nikula@intel.com>, Jagan Teki <jagan@amarulasolutions.com>,
 Robert Chiras <robert.chiras@nxp.com>, Sam Ravnborg <sam@ravnborg.org>,
 Icenowy Zheng <icenowy@aosc.io>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

U3RhbmRhcmRpemUgb24gdGhlIGRldl8gYmFzZWQgbG9nZ2luZyBhbmQgZHJvcCB0aGUgaW5jbHVk
ZSBvZiBkcm1fcHJpbnQuaC4KRml4IGEgZmV3IGNhc2VzIHdoZXJlICJ4QCIgd2FzIHVzZWQgd2hl
biBwcmludGluZyB0aGUgbW9kZS4KClNpZ25lZC1vZmYtYnk6IFNhbSBSYXZuYm9yZyA8c2FtQHJh
dm5ib3JnLm9yZz4KQ2M6IFJvYmVydCBDaGlyYXMgPHJvYmVydC5jaGlyYXNAbnhwLmNvbT4KQ2M6
IFRoaWVycnkgUmVkaW5nIDx0aGllcnJ5LnJlZGluZ0BnbWFpbC5jb20+CkNjOiBTYW0gUmF2bmJv
cmcgPHNhbUByYXZuYm9yZy5vcmc+CkNjOiBHdWlkbyBHw7xudGhlciA8YWd4QHNpZ3hjcHUub3Jn
PgpDYzogTGludXMgV2FsbGVpaiA8bGludXMud2FsbGVpakBsaW5hcm8ub3JnPgpDYzogTGF1cmVu
dCBQaW5jaGFydCA8bGF1cmVudC5waW5jaGFydEBpZGVhc29uYm9hcmQuY29tPgotLS0KIGRyaXZl
cnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yYXlkaXVtLXJtNjcxOTEuYyB8IDMzICsrKysrKysrKy0t
LS0tLS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yYXlkaXVtLXJtNjgyMDAuYyB8
IDE4ICsrKysrLS0tLS0KIDIgZmlsZXMgY2hhbmdlZCwgMjMgaW5zZXJ0aW9ucygrKSwgMjggZGVs
ZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJheWRp
dW0tcm02NzE5MS5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJheWRpdW0tcm02NzE5
MS5jCmluZGV4IDJlZjMyMjU4MjEzMy4uMjNiNjIwODFlOTUxIDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vcGFuZWwvcGFuZWwtcmF5ZGl1bS1ybTY3MTkxLmMKKysrIGIvZHJpdmVycy9ncHUv
ZHJtL3BhbmVsL3BhbmVsLXJheWRpdW0tcm02NzE5MS5jCkBAIC0xOSw3ICsxOSw2IEBACiAjaW5j
bHVkZSA8ZHJtL2RybV9jcnRjLmg+CiAjaW5jbHVkZSA8ZHJtL2RybV9taXBpX2RzaS5oPgogI2lu
Y2x1ZGUgPGRybS9kcm1fcGFuZWwuaD4KLSNpbmNsdWRlIDxkcm0vZHJtX3ByaW50Lmg+CiAKIC8q
IFBhbmVsIHNwZWNpZmljIGNvbG9yLWZvcm1hdCBiaXRzICovCiAjZGVmaW5lIENPTF9GTVRfMTZC
UFAgMHg1NQpAQCAtMzI5LDcgKzMyOCw3IEBAIHN0YXRpYyBpbnQgcmFkX3BhbmVsX2VuYWJsZShz
dHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKIAogCXJldCA9IHJhZF9wYW5lbF9wdXNoX2NtZF9saXN0
KGRzaSk7CiAJaWYgKHJldCA8IDApIHsKLQkJRFJNX0RFVl9FUlJPUihkZXYsICJGYWlsZWQgdG8g
c2VuZCBNQ1MgKCVkKVxuIiwgcmV0KTsKKwkJZGV2X2VycihkZXYsICJGYWlsZWQgdG8gc2VuZCBN
Q1MgKCVkKVxuIiwgcmV0KTsKIAkJZ290byBmYWlsOwogCX0KIApAQCAtMzQxLDcgKzM0MCw3IEBA
IHN0YXRpYyBpbnQgcmFkX3BhbmVsX2VuYWJsZShzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKIAkv
KiBTb2Z0d2FyZSByZXNldCAqLwogCXJldCA9IG1pcGlfZHNpX2Rjc19zb2Z0X3Jlc2V0KGRzaSk7
CiAJaWYgKHJldCA8IDApIHsKLQkJRFJNX0RFVl9FUlJPUihkZXYsICJGYWlsZWQgdG8gZG8gU29m
dHdhcmUgUmVzZXQgKCVkKVxuIiwgcmV0KTsKKwkJZGV2X2VycihkZXYsICJGYWlsZWQgdG8gZG8g
U29mdHdhcmUgUmVzZXQgKCVkKVxuIiwgcmV0KTsKIAkJZ290byBmYWlsOwogCX0KIApAQCAtMzUw
LDMzICszNDksMzIgQEAgc3RhdGljIGludCByYWRfcGFuZWxfZW5hYmxlKHN0cnVjdCBkcm1fcGFu
ZWwgKnBhbmVsKQogCS8qIFNldCBEU0kgbW9kZSAqLwogCXJldCA9IG1pcGlfZHNpX2dlbmVyaWNf
d3JpdGUoZHNpLCAodThbXSl7IDB4QzIsIDB4MEIgfSwgMik7CiAJaWYgKHJldCA8IDApIHsKLQkJ
RFJNX0RFVl9FUlJPUihkZXYsICJGYWlsZWQgdG8gc2V0IERTSSBtb2RlICglZClcbiIsIHJldCk7
CisJCWRldl9lcnIoZGV2LCAiRmFpbGVkIHRvIHNldCBEU0kgbW9kZSAoJWQpXG4iLCByZXQpOwog
CQlnb3RvIGZhaWw7CiAJfQogCS8qIFNldCB0ZWFyIE9OICovCiAJcmV0ID0gbWlwaV9kc2lfZGNz
X3NldF90ZWFyX29uKGRzaSwgTUlQSV9EU0lfRENTX1RFQVJfTU9ERV9WQkxBTkspOwogCWlmIChy
ZXQgPCAwKSB7Ci0JCURSTV9ERVZfRVJST1IoZGV2LCAiRmFpbGVkIHRvIHNldCB0ZWFyIE9OICgl
ZClcbiIsIHJldCk7CisJCWRldl9lcnIoZGV2LCAiRmFpbGVkIHRvIHNldCB0ZWFyIE9OICglZClc
biIsIHJldCk7CiAJCWdvdG8gZmFpbDsKIAl9CiAJLyogU2V0IHRlYXIgc2NhbmxpbmUgKi8KIAly
ZXQgPSBtaXBpX2RzaV9kY3Nfc2V0X3RlYXJfc2NhbmxpbmUoZHNpLCAweDM4MCk7CiAJaWYgKHJl
dCA8IDApIHsKLQkJRFJNX0RFVl9FUlJPUihkZXYsICJGYWlsZWQgdG8gc2V0IHRlYXIgc2Nhbmxp
bmUgKCVkKVxuIiwgcmV0KTsKKwkJZGV2X2VycihkZXYsICJGYWlsZWQgdG8gc2V0IHRlYXIgc2Nh
bmxpbmUgKCVkKVxuIiwgcmV0KTsKIAkJZ290byBmYWlsOwogCX0KIAkvKiBTZXQgcGl4ZWwgZm9y
bWF0ICovCiAJcmV0ID0gbWlwaV9kc2lfZGNzX3NldF9waXhlbF9mb3JtYXQoZHNpLCBjb2xvcl9m
b3JtYXQpOwotCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgIkludGVyZmFjZSBjb2xvciBmb3Jt
YXQgc2V0IHRvIDB4JXhcbiIsCi0JCQkgICAgIGNvbG9yX2Zvcm1hdCk7CisJZGV2X2RiZyhkZXYs
ICJJbnRlcmZhY2UgY29sb3IgZm9ybWF0IHNldCB0byAweCV4XG4iLCBjb2xvcl9mb3JtYXQpOwog
CWlmIChyZXQgPCAwKSB7Ci0JCURSTV9ERVZfRVJST1IoZGV2LCAiRmFpbGVkIHRvIHNldCBwaXhl
bCBmb3JtYXQgKCVkKVxuIiwgcmV0KTsKKwkJZGV2X2VycihkZXYsICJGYWlsZWQgdG8gc2V0IHBp
eGVsIGZvcm1hdCAoJWQpXG4iLCByZXQpOwogCQlnb3RvIGZhaWw7CiAJfQogCS8qIEV4aXQgc2xl
ZXAgbW9kZSAqLwogCXJldCA9IG1pcGlfZHNpX2Rjc19leGl0X3NsZWVwX21vZGUoZHNpKTsKIAlp
ZiAocmV0IDwgMCkgewotCQlEUk1fREVWX0VSUk9SKGRldiwgIkZhaWxlZCB0byBleGl0IHNsZWVw
IG1vZGUgKCVkKVxuIiwgcmV0KTsKKwkJZGV2X2VycihkZXYsICJGYWlsZWQgdG8gZXhpdCBzbGVl
cCBtb2RlICglZClcbiIsIHJldCk7CiAJCWdvdG8gZmFpbDsKIAl9CiAKQEAgLTM4NCw3ICszODIs
NyBAQCBzdGF0aWMgaW50IHJhZF9wYW5lbF9lbmFibGUoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwp
CiAKIAlyZXQgPSBtaXBpX2RzaV9kY3Nfc2V0X2Rpc3BsYXlfb24oZHNpKTsKIAlpZiAocmV0IDwg
MCkgewotCQlEUk1fREVWX0VSUk9SKGRldiwgIkZhaWxlZCB0byBzZXQgZGlzcGxheSBPTiAoJWQp
XG4iLCByZXQpOworCQlkZXZfZXJyKGRldiwgIkZhaWxlZCB0byBzZXQgZGlzcGxheSBPTiAoJWQp
XG4iLCByZXQpOwogCQlnb3RvIGZhaWw7CiAJfQogCkBAIC00MTgsNyArNDE2LDcgQEAgc3RhdGlj
IGludCByYWRfcGFuZWxfZGlzYWJsZShzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKIAogCXJldCA9
IG1pcGlfZHNpX2Rjc19zZXRfZGlzcGxheV9vZmYoZHNpKTsKIAlpZiAocmV0IDwgMCkgewotCQlE
Uk1fREVWX0VSUk9SKGRldiwgIkZhaWxlZCB0byBzZXQgZGlzcGxheSBPRkYgKCVkKVxuIiwgcmV0
KTsKKwkJZGV2X2VycihkZXYsICJGYWlsZWQgdG8gc2V0IGRpc3BsYXkgT0ZGICglZClcbiIsIHJl
dCk7CiAJCXJldHVybiByZXQ7CiAJfQogCkBAIC00MjYsNyArNDI0LDcgQEAgc3RhdGljIGludCBy
YWRfcGFuZWxfZGlzYWJsZShzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKIAogCXJldCA9IG1pcGlf
ZHNpX2Rjc19lbnRlcl9zbGVlcF9tb2RlKGRzaSk7CiAJaWYgKHJldCA8IDApIHsKLQkJRFJNX0RF
Vl9FUlJPUihkZXYsICJGYWlsZWQgdG8gZW50ZXIgc2xlZXAgbW9kZSAoJWQpXG4iLCByZXQpOwor
CQlkZXZfZXJyKGRldiwgIkZhaWxlZCB0byBlbnRlciBzbGVlcCBtb2RlICglZClcbiIsIHJldCk7
CiAJCXJldHVybiByZXQ7CiAJfQogCkBAIC00NDIsOSArNDQwLDkgQEAgc3RhdGljIGludCByYWRf
cGFuZWxfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsLAogCiAJbW9kZSA9IGRybV9t
b2RlX2R1cGxpY2F0ZShjb25uZWN0b3ItPmRldiwgJmRlZmF1bHRfbW9kZSk7CiAJaWYgKCFtb2Rl
KSB7Ci0JCURSTV9ERVZfRVJST1IocGFuZWwtPmRldiwgImZhaWxlZCB0byBhZGQgbW9kZSAldXgl
dXhAJXVcbiIsCi0JCQkgICAgICBkZWZhdWx0X21vZGUuaGRpc3BsYXksIGRlZmF1bHRfbW9kZS52
ZGlzcGxheSwKLQkJCSAgICAgIGRybV9tb2RlX3ZyZWZyZXNoKCZkZWZhdWx0X21vZGUpKTsKKwkJ
ZGV2X2VycihwYW5lbC0+ZGV2LCAiZmFpbGVkIHRvIGFkZCBtb2RlICV1eCV1QCV1XG4iLAorCQkJ
ZGVmYXVsdF9tb2RlLmhkaXNwbGF5LCBkZWZhdWx0X21vZGUudmRpc3BsYXksCisJCQlkcm1fbW9k
ZV92cmVmcmVzaCgmZGVmYXVsdF9tb2RlKSk7CiAJCXJldHVybiAtRU5PTUVNOwogCX0KIApAQCAt
NjI2LDggKzYyNCw3IEBAIHN0YXRpYyBpbnQgcmFkX3BhbmVsX3JlbW92ZShzdHJ1Y3QgbWlwaV9k
c2lfZGV2aWNlICpkc2kpCiAKIAlyZXQgPSBtaXBpX2RzaV9kZXRhY2goZHNpKTsKIAlpZiAocmV0
KQotCQlEUk1fREVWX0VSUk9SKGRldiwgIkZhaWxlZCB0byBkZXRhY2ggZnJvbSBob3N0ICglZClc
biIsCi0JCQkgICAgICByZXQpOworCQlkZXZfZXJyKGRldiwgIkZhaWxlZCB0byBkZXRhY2ggZnJv
bSBob3N0ICglZClcbiIsIHJldCk7CiAKIAlkcm1fcGFuZWxfcmVtb3ZlKCZyYWQtPnBhbmVsKTsK
IApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJheWRpdW0tcm02ODIw
MC5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJheWRpdW0tcm02ODIwMC5jCmluZGV4
IDgxYWU4YmU2MmQxNS4uZjkwOGVlYWZiMWFmIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
cGFuZWwvcGFuZWwtcmF5ZGl1bS1ybTY4MjAwLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVs
L3BhbmVsLXJheWRpdW0tcm02ODIwMC5jCkBAIC0xNyw3ICsxNyw2IEBACiAjaW5jbHVkZSA8ZHJt
L2RybV9taXBpX2RzaS5oPgogI2luY2x1ZGUgPGRybS9kcm1fbW9kZXMuaD4KICNpbmNsdWRlIDxk
cm0vZHJtX3BhbmVsLmg+Ci0jaW5jbHVkZSA8ZHJtL2RybV9wcmludC5oPgogCiAvKioqIE1hbnVm
YWN0dXJlciBDb21tYW5kIFNldCAqKiovCiAjZGVmaW5lIE1DU19DTURfTU9ERV9TVwkJMHhGRSAv
KiBDTUQgTW9kZSBTd2l0Y2ggKi8KQEAgLTExMCw4ICsxMDksNyBAQCBzdGF0aWMgdm9pZCBybTY4
MjAwX2Rjc193cml0ZV9idWYoc3RydWN0IHJtNjgyMDAgKmN0eCwgY29uc3Qgdm9pZCAqZGF0YSwK
IAogCWVyciA9IG1pcGlfZHNpX2Rjc193cml0ZV9idWZmZXIoZHNpLCBkYXRhLCBsZW4pOwogCWlm
IChlcnIgPCAwKQotCQlEUk1fRVJST1JfUkFURUxJTUlURUQoIk1JUEkgRFNJIERDUyB3cml0ZSBi
dWZmZXIgZmFpbGVkOiAlZFxuIiwKLQkJCQkgICAgICBlcnIpOworCQlkZXZfZXJyX3JhdGVsaW1p
dGVkKGN0eC0+ZGV2LCAiTUlQSSBEU0kgRENTIHdyaXRlIGJ1ZmZlciBmYWlsZWQ6ICVkXG4iLCBl
cnIpOwogfQogCiBzdGF0aWMgdm9pZCBybTY4MjAwX2Rjc193cml0ZV9jbWQoc3RydWN0IHJtNjgy
MDAgKmN0eCwgdTggY21kLCB1OCB2YWx1ZSkKQEAgLTEyMSw3ICsxMTksNyBAQCBzdGF0aWMgdm9p
ZCBybTY4MjAwX2Rjc193cml0ZV9jbWQoc3RydWN0IHJtNjgyMDAgKmN0eCwgdTggY21kLCB1OCB2
YWx1ZSkKIAogCWVyciA9IG1pcGlfZHNpX2Rjc193cml0ZShkc2ksIGNtZCwgJnZhbHVlLCAxKTsK
IAlpZiAoZXJyIDwgMCkKLQkJRFJNX0VSUk9SX1JBVEVMSU1JVEVEKCJNSVBJIERTSSBEQ1Mgd3Jp
dGUgZmFpbGVkOiAlZFxuIiwgZXJyKTsKKwkJZGV2X2Vycl9yYXRlbGltaXRlZChjdHgtPmRldiwg
Ik1JUEkgRFNJIERDUyB3cml0ZSBmYWlsZWQ6ICVkXG4iLCBlcnIpOwogfQogCiAjZGVmaW5lIGRj
c193cml0ZV9zZXEoY3R4LCBzZXEuLi4pCQkJCVwKQEAgLTI1NiwxMSArMjU0LDExIEBAIHN0YXRp
YyBpbnQgcm02ODIwMF91bnByZXBhcmUoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCiAKIAlyZXQg
PSBtaXBpX2RzaV9kY3Nfc2V0X2Rpc3BsYXlfb2ZmKGRzaSk7CiAJaWYgKHJldCkKLQkJRFJNX1dB
Uk4oImZhaWxlZCB0byBzZXQgZGlzcGxheSBvZmY6ICVkXG4iLCByZXQpOworCQlkZXZfd2Fybihw
YW5lbC0+ZGV2LCAiZmFpbGVkIHRvIHNldCBkaXNwbGF5IG9mZjogJWRcbiIsIHJldCk7CiAKIAly
ZXQgPSBtaXBpX2RzaV9kY3NfZW50ZXJfc2xlZXBfbW9kZShkc2kpOwogCWlmIChyZXQpCi0JCURS
TV9XQVJOKCJmYWlsZWQgdG8gZW50ZXIgc2xlZXAgbW9kZTogJWRcbiIsIHJldCk7CisJCWRldl93
YXJuKHBhbmVsLT5kZXYsICJmYWlsZWQgdG8gZW50ZXIgc2xlZXAgbW9kZTogJWRcbiIsIHJldCk7
CiAKIAltc2xlZXAoMTIwKTsKIApAQCAtMjg3LDcgKzI4NSw3IEBAIHN0YXRpYyBpbnQgcm02ODIw
MF9wcmVwYXJlKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQogCiAJcmV0ID0gcmVndWxhdG9yX2Vu
YWJsZShjdHgtPnN1cHBseSk7CiAJaWYgKHJldCA8IDApIHsKLQkJRFJNX0VSUk9SKCJmYWlsZWQg
dG8gZW5hYmxlIHN1cHBseTogJWRcbiIsIHJldCk7CisJCWRldl9lcnIoY3R4LT5kZXYsICJmYWls
ZWQgdG8gZW5hYmxlIHN1cHBseTogJWRcbiIsIHJldCk7CiAJCXJldHVybiByZXQ7CiAJfQogCkBA
IC0zMzYsOSArMzM0LDkgQEAgc3RhdGljIGludCBybTY4MjAwX2dldF9tb2RlcyhzdHJ1Y3QgZHJt
X3BhbmVsICpwYW5lbCwKIAogCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUoY29ubmVjdG9yLT5k
ZXYsICZkZWZhdWx0X21vZGUpOwogCWlmICghbW9kZSkgewotCQlEUk1fRVJST1IoImZhaWxlZCB0
byBhZGQgbW9kZSAldXgldXhAJXVcbiIsCi0JCQkgIGRlZmF1bHRfbW9kZS5oZGlzcGxheSwgZGVm
YXVsdF9tb2RlLnZkaXNwbGF5LAotCQkJICBkcm1fbW9kZV92cmVmcmVzaCgmZGVmYXVsdF9tb2Rl
KSk7CisJCWRldl9lcnIocGFuZWwtPmRldiwgImZhaWxlZCB0byBhZGQgbW9kZSAldXgldUAldVxu
IiwKKwkJCWRlZmF1bHRfbW9kZS5oZGlzcGxheSwgZGVmYXVsdF9tb2RlLnZkaXNwbGF5LAorCQkJ
ZHJtX21vZGVfdnJlZnJlc2goJmRlZmF1bHRfbW9kZSkpOwogCQlyZXR1cm4gLUVOT01FTTsKIAl9
CiAKLS0gCjIuMjUuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Au
b3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRl
dmVsCg==
