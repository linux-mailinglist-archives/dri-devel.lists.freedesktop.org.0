Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 66F09206A7
	for <lists+dri-devel@lfdr.de>; Thu, 16 May 2019 14:07:53 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 356178940F;
	Thu, 16 May 2019 12:07:49 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ot1-x341.google.com (mail-ot1-x341.google.com
 [IPv6:2607:f8b0:4864:20::341])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 4E064893D5
 for <dri-devel@lists.freedesktop.org>; Thu, 16 May 2019 12:07:47 +0000 (UTC)
Received: by mail-ot1-x341.google.com with SMTP id i8so3136505oth.10
 for <dri-devel@lists.freedesktop.org>; Thu, 16 May 2019 05:07:47 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=chWuWhxCu84wqF3PCIIbp41JGY5cAhGUqrF6XPXP8h8=;
 b=L4dQeH2yiy3D/sJszSGcsd79mJmlTNOLowFcmEr1d9R5aVtnpk0gA7udS0EpBb+5Im
 zkAZcWbQ65aAGp0Da1iUyjbHC67u9hfqP+INEcxWaceaQNpHXENzlzhz+0pMteUmmyGi
 wBCf+QjB71FcTpgE05CKn78BMRQVAxZBdTVtf2BTpIbO25R9rT0HI8j+0PSSTB/ECTiR
 0iIbZHb0WJrdtrdaYSRQih84PfvN8zMzNcnFhJPhw2U45DRJ2H1lAZGYA29Zqpj+trTP
 fGov/yocsW1JHP1mdlataEK1BNPG7FeS4BAU94use8ytX7d787+X7ezg80+jE+E5AqMS
 DNAA==
X-Gm-Message-State: APjAAAUZKsA9x+rUpTYRRmfH3KP+cUHtGezs/LtDwifeFyQRvVeEh6vC
 ipyvWe3jq7MP8G1QDSfmbTG2WiIaXfj7p67W4BUrxA==
X-Google-Smtp-Source: APXvYqyHt7SBsXu0c0RLc1JoJRtn0W5K5ux7IsVSDBY9Z1mGHGaURpEk25PbovpeXxX+zx6947nWVSE2BuiSeOha9u4=
X-Received: by 2002:a9d:5a02:: with SMTP id v2mr29523791oth.70.1558008466377; 
 Thu, 16 May 2019 05:07:46 -0700 (PDT)
MIME-Version: 1.0
References: <20190502194956.218441-1-sean@poorly.run>
 <20190502194956.218441-5-sean@poorly.run>
 <20190511191202.GL13043@pendragon.ideasonboard.com>
 <20190513144747.GR17751@phenom.ffwll.local>
 <20190516120221.GI14820@pendragon.ideasonboard.com>
In-Reply-To: <20190516120221.GI14820@pendragon.ideasonboard.com>
From: Daniel Vetter <daniel@ffwll.ch>
Date: Thu, 16 May 2019 14:07:34 +0200
Message-ID: <CAKMK7uG_TmzZBgVkJ+j9C53KRp1OgswYuxpFV77+eU6BPWwGgw@mail.gmail.com>
Subject: Re: [PATCH v3 04/10] drm: Convert connector_helper_funcs->atomic_check
 to accept drm_atomic_state
To: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=chWuWhxCu84wqF3PCIIbp41JGY5cAhGUqrF6XPXP8h8=;
 b=Hc2VV3CItKDKYQtGVpsdk7OgP1YClvZ2ZimBGU8wRAq2TqZ1+kKStCy+CFM1cAhroZ
 79Tnt26H3cg09r9rSGtarNGyMOZON/xNxyUPr2NgMAILuSdpz/8h2ed0Xo34XquLyowK
 KRuOyD6ZkiknuBs5JCyFpfVSJQJKn7VjPBoKo=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Maxime Ripard <maxime.ripard@bootlin.com>,
 Nouveau Dev <nouveau@lists.freedesktop.org>, David Airlie <airlied@linux.ie>,
 Linux Kernel Mailing List <linux-kernel@vger.kernel.org>,
 "open list:DRM DRIVERS FOR RENESAS" <linux-renesas-soc@vger.kernel.org>,
 Kieran Bingham <kieran.bingham+renesas@ideasonboard.com>,
 Sean Paul <seanpaul@chromium.org>, dri-devel <dri-devel@lists.freedesktop.org>,
 Rodrigo Vivi <rodrigo.vivi@intel.com>, Sean Paul <sean@poorly.run>,
 intel-gfx <intel-gfx@lists.freedesktop.org>, Ben Skeggs <bskeggs@redhat.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVGh1LCBNYXkgMTYsIDIwMTkgYXQgMjowMiBQTSBMYXVyZW50IFBpbmNoYXJ0CjxsYXVyZW50
LnBpbmNoYXJ0QGlkZWFzb25ib2FyZC5jb20+IHdyb3RlOgo+Cj4gSGkgRGFuaWVsLAo+Cj4gT24g
TW9uLCBNYXkgMTMsIDIwMTkgYXQgMDQ6NDc6NDdQTSArMDIwMCwgRGFuaWVsIFZldHRlciB3cm90
ZToKPiA+IE9uIFNhdCwgTWF5IDExLCAyMDE5IGF0IDEwOjEyOjAyUE0gKzAzMDAsIExhdXJlbnQg
UGluY2hhcnQgd3JvdGU6Cj4gPiA+IE9uIFRodSwgTWF5IDAyLCAyMDE5IGF0IDAzOjQ5OjQ2UE0g
LTA0MDAsIFNlYW4gUGF1bCB3cm90ZToKPiA+ID4+IEZyb206IFNlYW4gUGF1bCA8c2VhbnBhdWxA
Y2hyb21pdW0ub3JnPgo+ID4gPj4KPiA+ID4+IEV2ZXJ5b25lIHdobyBpbXBsZW1lbnRzIGNvbm5l
Y3Rvcl9oZWxwZXJfZnVuY3MtPmF0b21pY19jaGVjayByZWFjaGVzCj4gPiA+PiBpbnRvIHRoZSBj
b25uZWN0b3Igc3RhdGUgdG8gZ2V0IHRoZSBhdG9taWMgc3RhdGUuIEluc3RlYWQgb2YgY29udGlu
dWluZwo+ID4gPj4gdGhpcyBwYXR0ZXJuLCBjaGFuZ2UgdGhlIGNhbGxiYWNrIHNpZ25hdHVyZSB0
byBqdXN0IGdpdmUgYXRvbWljIHN0YXRlCj4gPiA+PiBhbmQgbGV0IHRoZSBkcml2ZXIgZGV0ZXJt
aW5lIHdoYXQgaXQgZG9lcyBhbmQgZG9lcyBub3QgbmVlZCBmcm9tIGl0Lgo+ID4gPj4KPiA+ID4+
IEV2ZW50dWFsbHkgYWxsIGF0b21pYyBmdW5jdGlvbnMgc2hvdWxkIGRvIHRoaXMsIGJ1dCB0aGF0
J3MganVzdCB0b28gbXVjaAo+ID4gPj4gYnVzeSB3b3JrIGZvciBtZS4KPiA+ID4KPiA+ID4gR2l2
ZW4gdGhhdCBkcml2ZXJzIGFsc28gYWNjZXNzIHRoZSBjb25uZWN0b3Igc3RhdGUsIGlzbid0IHRo
aXMgc2xpZ2h0bHkKPiA+ID4gbW9yZSBpbmVmZmljaWVudCA/Cj4gPgo+ID4gSXQncyBhdG9taWMg
Y29kZSwgd2UncmUgdHJ5aW5nIHRvIG9wdGltaXplIGZvciBjbGVhbiBjb2RlIGF0IHRoZSBleHBl
bnNlCj4gPiBvZiBhIGJpdCBvZiBydW50aW1lIG92ZXJoZWFkIGR1ZSB0byBtb3JlIHBvaW50ZXIg
Y2hhc2luZy4gQW5kIEkgYWdyZWUgd2l0aAo+ID4gdGhlIGdlbmVyYWwgcHVzaCwgdGhlIHBpbGUg
b2Ygb2xkL25ld19zdGF0ZSBwb2ludGVycyBvZiB2YXJpb3VzIG9iamVjdHMKPiA+IHdlJ3JlIHBh
c3NpbmcgYXJvdW5kIGlzIGNvbmZ1c2luZy4gUGFzc2luZyB0aGUgb3ZlcmFsbCBkcm1fYXRvbWlj
X3N0YXRlCj4gPiBzZWVtcyBtdWNoIG1vcmUgcmVhc29uYWJsZSwgYW5kIHdpdGggdGhhdCB3ZSBj
YW4gZ2V0IGV2ZXJ5dGhpbmcgZWxzZS4gUGx1cwo+ID4gaXQncyBtdWNoIG1vcmUgb2J2aW91cyB3
aGV0aGVyIHlvdSBoYXZlIHRoZSBvbGQvbmV3IHN0YXRlIChzaW5jZSB0aGF0J3MKPiA+IGV4cGxp
Y2l0IHdoZW4geW91IGxvb2sgaXQgdXAgZnJvbSB0aGUgZHJtX2F0b21pY19zdGF0ZSkuCj4KPiBZ
ZXMsIEkgYWdyZWUgaXQncyBjbGVhbmVyLiBJIGp1c3QgaG9wZSB0aGUgYXRvbWljIHN0YXRlIHRy
YWNraW5nIGNvc3QKPiBjYW4gYmUga2VwdCB1bmRlciBjb250cm9sIDotKQo+Cj4gQnkgdGhlIHdh
eSwgdGhpcyBpcyBsaWtlbHkgbm90IGdvaW5nIHRvIGhhcHBlbiBhcyBpdCB3b3VsZCBiZSB3YXkg
dG9vCj4gaW50cnVzaXZlLCBidXQgaXQgd291bGQgYmUgbmljZSB0byByZW5hbWUgZHJtX2F0b21p
Y19zdGF0ZSB0bwo+IGRybV9hdG9taWNfdHJhbnNhY3Rpb24gKG9yIHNvbWV0aGluZyBzaW1pbGFy
KS4gSXQgZG9lc24ndCBtb2RlbCBhIHN0YXRlLAo+IGJ1dCBhIGNoYW5nZSBiZXR3ZWVuIGFuIG9s
ZCBzdGF0ZSB0byBhIG5ldyBzdGF0ZS4gVGhpcyBjb25mdXNlZCBtZSBpbgo+IHRoZSBwYXN0LCBh
bmQgSSdtIHN1cmUgaXQgY2FuIHN0aWxsIGJlIGNvbmZ1c2luZyB0byBuZXdjb21lcnMuCgpXaHkg
YXJlIHlvdSB0aGUgZmlyc3QgdG8gc3VnZ2VzdCB0aGlzLCB0aGlzIGlzIGF3ZXNvbWUhCmRybV9h
dG9taWNfc3RhdGUgaXMgaW5kZWVkIG5vdCBhIHN0YXRlLCBidXQgYSB0cmFuc2FjdGlvbiByZXBy
ZXNlbnRpbmcKaG93IHdlIGdvIGZyb20gdGhlIG9sZCB0byB0aGUgbmV3IHN0YXRlLgoKSSB0aGlu
ayB0aGlzIGlzIGF3ZXNvbWUgZW5vdWdoIHRoYXQgd2Ugc2hvdWxkIGFjdHVhbGx5IHRyeSB0byBt
YWtlIGl0CmhhcHBlbi4gVHJlZS13aWRlIGNvY2NpICsgYnJpYmluZyBEYXZlIG9uIFN0LiBQYXRy
aWNrJ3MgZGF5IHdpdGggbG90cwpvZiBiZWVyIG1pZ2h0IGJlIGVub3VnaCA6LSkKLURhbmllbAoK
PiA+IElmIHdlIGV2ZXIgc2VlIHRoaXMgc2hvdyB1cCBpbiBwcm9maWxlLCBhbmQgaXQgc3RhcnRz
IG1hdHRlcmluZywgZmlyc3QKPiA+IHRoaW5nIHdlIG5lZWQgaXMgYSBoYXNodGFibGUgSSB0aGlu
ayAoYXRtIGl0J3MgbGlzdCB3YWxraW5nLCB3aGljaCBpcyBqdXN0Cj4gPiB0ZXJyaWJsZSkuIEJ1
dCB0aHVzIGZhciBubyBvbmUgY2FyZXMuCj4gPgo+ID4gPj4gQ2hhbmdlcyBpbiB2MzoKPiA+ID4+
IC0gQWRkZWQgdG8gdGhlIHNldAo+ID4gPj4KPiA+ID4+IENjOiBEYW5pZWwgVmV0dGVyIDxkYW5p
ZWxAZmZ3bGwuY2g+Cj4gPiA+PiBDYzogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxp
bnV4LmludGVsLmNvbT4KPiA+ID4+IENjOiBKYW5pIE5pa3VsYSA8amFuaS5uaWt1bGFAbGludXgu
aW50ZWwuY29tPgo+ID4gPj4gQ2M6IEpvb25hcyBMYWh0aW5lbiA8am9vbmFzLmxhaHRpbmVuQGxp
bnV4LmludGVsLmNvbT4KPiA+ID4+IENjOiBSb2RyaWdvIFZpdmkgPHJvZHJpZ28udml2aUBpbnRl
bC5jb20+Cj4gPiA+PiBDYzogQmVuIFNrZWdncyA8YnNrZWdnc0ByZWRoYXQuY29tPgo+ID4gPj4g
Q2M6IExhdXJlbnQgUGluY2hhcnQgPGxhdXJlbnQucGluY2hhcnRAaWRlYXNvbmJvYXJkLmNvbT4K
PiA+ID4+IENjOiBLaWVyYW4gQmluZ2hhbSA8a2llcmFuLmJpbmdoYW0rcmVuZXNhc0BpZGVhc29u
Ym9hcmQuY29tPgo+ID4gPj4gQ2M6IEVyaWMgQW5ob2x0IDxlcmljQGFuaG9sdC5uZXQ+Cj4gPiA+
PiBTaWduZWQtb2ZmLWJ5OiBTZWFuIFBhdWwgPHNlYW5wYXVsQGNocm9taXVtLm9yZz4KPiA+ID4+
IC0tLQo+ID4gPj4gIGRyaXZlcnMvZ3B1L2RybS9kcm1fYXRvbWljX2hlbHBlci5jICAgICAgfCAg
NCArKy0tCj4gPiA+PiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfYXRvbWljLmMgICAgICB8
ICA4ICsrKysrLS0tCj4gPiA+PiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZHBfbXN0LmMg
ICAgICB8ICA3ICsrKystLS0KPiA+ID4+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kcnYu
aCAgICAgICAgIHwgIDIgKy0KPiA+ID4+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9zZHZv
LmMgICAgICAgIHwgIDkgKysrKystLS0tCj4gPiA+PiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50
ZWxfdHYuYyAgICAgICAgICB8ICA4ICsrKysrLS0tCj4gPiA+PiAgZHJpdmVycy9ncHUvZHJtL25v
dXZlYXUvZGlzcG52NTAvZGlzcC5jICB8ICA1ICsrKy0tCj4gPiA+PiAgZHJpdmVycy9ncHUvZHJt
L3JjYXItZHUvcmNhcl9sdmRzLmMgICAgICB8IDEyICsrKysrKystLS0tLQo+ID4gPj4gIGRyaXZl
cnMvZ3B1L2RybS92YzQvdmM0X3R4cC5jICAgICAgICAgICAgfCAgNyArKysrLS0tCj4gPiA+PiAg
aW5jbHVkZS9kcm0vZHJtX21vZGVzZXRfaGVscGVyX3Z0YWJsZXMuaCB8ICAyICstCj4gPiA+PiAg
MTAgZmlsZXMgY2hhbmdlZCwgMzcgaW5zZXJ0aW9ucygrKSwgMjcgZGVsZXRpb25zKC0pCj4gPiA+
Pgo+ID4gPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fYXRvbWljX2hlbHBlci5j
IGIvZHJpdmVycy9ncHUvZHJtL2RybV9hdG9taWNfaGVscGVyLmMKPiA+ID4+IGluZGV4IDlkOWU0
NzI3NjgzOS4uZmE1YTM2NzUwN2MxIDEwMDY0NAo+ID4gPj4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2RybV9hdG9taWNfaGVscGVyLmMKPiA+ID4+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fYXRv
bWljX2hlbHBlci5jCj4gPiA+PiBAQCAtNjgzLDcgKzY4Myw3IEBAIGRybV9hdG9taWNfaGVscGVy
X2NoZWNrX21vZGVzZXQoc3RydWN0IGRybV9kZXZpY2UgKmRldiwKPiA+ID4+ICAgICAgICAgICAg
fQo+ID4gPj4KPiA+ID4+ICAgICAgICAgICAgaWYgKGZ1bmNzLT5hdG9taWNfY2hlY2spCj4gPiA+
PiAtICAgICAgICAgICAgICAgICAgcmV0ID0gZnVuY3MtPmF0b21pY19jaGVjayhjb25uZWN0b3Is
IG5ld19jb25uZWN0b3Jfc3RhdGUpOwo+ID4gPj4gKyAgICAgICAgICAgICAgICAgIHJldCA9IGZ1
bmNzLT5hdG9taWNfY2hlY2soY29ubmVjdG9yLCBzdGF0ZSk7Cj4gPiA+PiAgICAgICAgICAgIGlm
IChyZXQpCj4gPiA+PiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiA+ID4+Cj4gPiA+
PiBAQCAtNzI1LDcgKzcyNSw3IEBAIGRybV9hdG9taWNfaGVscGVyX2NoZWNrX21vZGVzZXQoc3Ry
dWN0IGRybV9kZXZpY2UgKmRldiwKPiA+ID4+ICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsK
PiA+ID4+Cj4gPiA+PiAgICAgICAgICAgIGlmIChmdW5jcy0+YXRvbWljX2NoZWNrKQo+ID4gPj4g
LSAgICAgICAgICAgICAgICAgIHJldCA9IGZ1bmNzLT5hdG9taWNfY2hlY2soY29ubmVjdG9yLCBu
ZXdfY29ubmVjdG9yX3N0YXRlKTsKPiA+ID4+ICsgICAgICAgICAgICAgICAgICByZXQgPSBmdW5j
cy0+YXRvbWljX2NoZWNrKGNvbm5lY3Rvciwgc3RhdGUpOwo+ID4gPj4gICAgICAgICAgICBpZiAo
cmV0KQo+ID4gPj4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4gPiA+PiAgICB9Cj4g
PiA+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfYXRvbWljLmMgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9hdG9taWMuYwo+ID4gPj4gaW5kZXggYjg0NGU4ODQw
YzZmLi5lOGE1YjgyZTkyNDIgMTAwNjQ0Cj4gPiA+PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9pbnRlbF9hdG9taWMuYwo+ID4gPj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxf
YXRvbWljLmMKPiA+ID4+IEBAIC0xMDMsMTIgKzEwMywxNCBAQCBpbnQgaW50ZWxfZGlnaXRhbF9j
b25uZWN0b3JfYXRvbWljX3NldF9wcm9wZXJ0eShzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVj
dG9yLAo+ID4gPj4gIH0KPiA+ID4+Cj4gPiA+PiAgaW50IGludGVsX2RpZ2l0YWxfY29ubmVjdG9y
X2F0b21pY19jaGVjayhzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubiwKPiA+ID4+IC0gICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkcm1fY29ubmVjdG9yX3N0YXRlICpu
ZXdfc3RhdGUpCj4gPiA+PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1
Y3QgZHJtX2F0b21pY19zdGF0ZSAqc3RhdGUpCj4gPiA+PiAgewo+ID4gPj4gKyAgc3RydWN0IGRy
bV9jb25uZWN0b3Jfc3RhdGUgKm5ld19zdGF0ZSA9Cj4gPiA+PiArICAgICAgICAgIGRybV9hdG9t
aWNfZ2V0X25ld19jb25uZWN0b3Jfc3RhdGUoc3RhdGUsIGNvbm4pOwo+ID4gPj4gICAgc3RydWN0
IGludGVsX2RpZ2l0YWxfY29ubmVjdG9yX3N0YXRlICpuZXdfY29ubl9zdGF0ZSA9Cj4gPiA+PiAg
ICAgICAgICAgIHRvX2ludGVsX2RpZ2l0YWxfY29ubmVjdG9yX3N0YXRlKG5ld19zdGF0ZSk7Cj4g
PiA+PiAgICBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9zdGF0ZSAqb2xkX3N0YXRlID0KPiA+ID4+IC0g
ICAgICAgICAgZHJtX2F0b21pY19nZXRfb2xkX2Nvbm5lY3Rvcl9zdGF0ZShuZXdfc3RhdGUtPnN0
YXRlLCBjb25uKTsKPiA+ID4+ICsgICAgICAgICAgZHJtX2F0b21pY19nZXRfb2xkX2Nvbm5lY3Rv
cl9zdGF0ZShzdGF0ZSwgY29ubik7Cj4gPiA+PiAgICBzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9jb25u
ZWN0b3Jfc3RhdGUgKm9sZF9jb25uX3N0YXRlID0KPiA+ID4+ICAgICAgICAgICAgdG9faW50ZWxf
ZGlnaXRhbF9jb25uZWN0b3Jfc3RhdGUob2xkX3N0YXRlKTsKPiA+ID4+ICAgIHN0cnVjdCBkcm1f
Y3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZTsKPiA+ID4+IEBAIC0xMTgsNyArMTIwLDcgQEAgaW50IGlu
dGVsX2RpZ2l0YWxfY29ubmVjdG9yX2F0b21pY19jaGVjayhzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAq
Y29ubiwKPiA+ID4+ICAgIGlmICghbmV3X3N0YXRlLT5jcnRjKQo+ID4gPj4gICAgICAgICAgICBy
ZXR1cm4gMDsKPiA+ID4+Cj4gPiA+PiAtICBjcnRjX3N0YXRlID0gZHJtX2F0b21pY19nZXRfbmV3
X2NydGNfc3RhdGUobmV3X3N0YXRlLT5zdGF0ZSwgbmV3X3N0YXRlLT5jcnRjKTsKPiA+ID4+ICsg
IGNydGNfc3RhdGUgPSBkcm1fYXRvbWljX2dldF9uZXdfY3J0Y19zdGF0ZShzdGF0ZSwgbmV3X3N0
YXRlLT5jcnRjKTsKPiA+ID4+Cj4gPiA+PiAgICAvKgo+ID4gPj4gICAgICogVGhlc2UgcHJvcGVy
dGllcyBhcmUgaGFuZGxlZCBieSBmYXN0c2V0LCBhbmQgbWlnaHQgbm90IGVuZAo+ID4gPj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2RwX21zdC5jIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaW50ZWxfZHBfbXN0LmMKPiA+ID4+IGluZGV4IDE5ZDgxY2VmMmFiNi4uODlj
ZmVjMTI4YmEwIDEwMDY0NAo+ID4gPj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxf
ZHBfbXN0LmMKPiA+ID4+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2RwX21zdC5j
Cj4gPiA+PiBAQCAtMTQzLDkgKzE0MywxMCBAQCBzdGF0aWMgaW50IGludGVsX2RwX21zdF9jb21w
dXRlX2NvbmZpZyhzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKPiA+ID4+Cj4gPiA+PiAg
c3RhdGljIGludAo+ID4gPj4gIGludGVsX2RwX21zdF9hdG9taWNfY2hlY2soc3RydWN0IGRybV9j
b25uZWN0b3IgKmNvbm5lY3RvciwKPiA+ID4+IC0gICAgICAgICAgICAgICAgICAgIHN0cnVjdCBk
cm1fY29ubmVjdG9yX3N0YXRlICpuZXdfY29ubl9zdGF0ZSkKPiA+ID4+ICsgICAgICAgICAgICAg
ICAgICAgIHN0cnVjdCBkcm1fYXRvbWljX3N0YXRlICpzdGF0ZSkKPiA+ID4+ICB7Cj4gPiA+PiAt
ICBzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqc3RhdGUgPSBuZXdfY29ubl9zdGF0ZS0+c3RhdGU7
Cj4gPiA+PiArICBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9zdGF0ZSAqbmV3X2Nvbm5fc3RhdGUgPQo+
ID4gPj4gKyAgICAgICAgICBkcm1fYXRvbWljX2dldF9uZXdfY29ubmVjdG9yX3N0YXRlKHN0YXRl
LCBjb25uZWN0b3IpOwo+ID4gPj4gICAgc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKm9sZF9j
b25uX3N0YXRlID0KPiA+ID4+ICAgICAgICAgICAgZHJtX2F0b21pY19nZXRfb2xkX2Nvbm5lY3Rv
cl9zdGF0ZShzdGF0ZSwgY29ubmVjdG9yKTsKPiA+ID4+ICAgIHN0cnVjdCBpbnRlbF9jb25uZWN0
b3IgKmludGVsX2Nvbm5lY3RvciA9Cj4gPiA+PiBAQCAtMTU1LDcgKzE1Niw3IEBAIGludGVsX2Rw
X21zdF9hdG9taWNfY2hlY2soc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciwKPiA+ID4+
ICAgIHN0cnVjdCBkcm1fZHBfbXN0X3RvcG9sb2d5X21nciAqbWdyOwo+ID4gPj4gICAgaW50IHJl
dDsKPiA+ID4+Cj4gPiA+PiAtICByZXQgPSBpbnRlbF9kaWdpdGFsX2Nvbm5lY3Rvcl9hdG9taWNf
Y2hlY2soY29ubmVjdG9yLCBuZXdfY29ubl9zdGF0ZSk7Cj4gPiA+PiArICByZXQgPSBpbnRlbF9k
aWdpdGFsX2Nvbm5lY3Rvcl9hdG9taWNfY2hlY2soY29ubmVjdG9yLCBzdGF0ZSk7Cj4gPiA+PiAg
ICBpZiAocmV0KQo+ID4gPj4gICAgICAgICAgICByZXR1cm4gcmV0Owo+ID4gPj4KPiA+ID4+IGRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kcnYuaCBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2ludGVsX2Rydi5oCj4gPiA+PiBpbmRleCBmOGM3YjI5MWZkYzMuLjg4NTcxYjhl
OGQ2MiAxMDA2NDQKPiA+ID4+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2Rydi5o
Cj4gPiA+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kcnYuaAo+ID4gPj4gQEAg
LTI0ODEsNyArMjQ4MSw3IEBAIGludCBpbnRlbF9kaWdpdGFsX2Nvbm5lY3Rvcl9hdG9taWNfc2V0
X3Byb3BlcnR5KHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IsCj4gPiA+PiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGRybV9wcm9wZXJ0eSAq
cHJvcGVydHksCj4gPiA+PiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgdTY0IHZhbCk7Cj4gPiA+PiAgaW50IGludGVsX2RpZ2l0YWxfY29ubmVjdG9yX2F0b21pY19j
aGVjayhzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubiwKPiA+ID4+IC0gICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkcm1fY29ubmVjdG9yX3N0YXRlICpuZXdfc3RhdGUp
Owo+ID4gPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGRybV9h
dG9taWNfc3RhdGUgKnN0YXRlKTsKPiA+ID4+ICBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9zdGF0ZSAq
Cj4gPiA+PiAgaW50ZWxfZGlnaXRhbF9jb25uZWN0b3JfZHVwbGljYXRlX3N0YXRlKHN0cnVjdCBk
cm1fY29ubmVjdG9yICpjb25uZWN0b3IpOwo+ID4gPj4KPiA+ID4+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9zZHZvLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRl
bF9zZHZvLmMKPiA+ID4+IGluZGV4IDY4ZjQ5NzQ5M2Q0My4uNzJlYTE2NGI5NzFjIDEwMDY0NAo+
ID4gPj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfc2R2by5jCj4gPiA+PiArKysg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9zZHZvLmMKPiA+ID4+IEBAIC0yMzQyLDkgKzIz
NDIsMTAgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fY29ubmVjdG9yX2Z1bmNzIGludGVsX3Nk
dm9fY29ubmVjdG9yX2Z1bmNzID0gewo+ID4gPj4gIH07Cj4gPiA+Pgo+ID4gPj4gIHN0YXRpYyBp
bnQgaW50ZWxfc2R2b19hdG9taWNfY2hlY2soc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm4sCj4g
PiA+PiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9z
dGF0ZSAqbmV3X2Nvbm5fc3RhdGUpCj4gPiA+PiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqc3RhdGUpCj4gPiA+PiAgewo+ID4gPj4gLSAgc3Ry
dWN0IGRybV9hdG9taWNfc3RhdGUgKnN0YXRlID0gbmV3X2Nvbm5fc3RhdGUtPnN0YXRlOwo+ID4g
Pj4gKyAgc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKm5ld19jb25uX3N0YXRlID0KPiA+ID4+
ICsgICAgICAgICAgZHJtX2F0b21pY19nZXRfbmV3X2Nvbm5lY3Rvcl9zdGF0ZShzdGF0ZSwgY29u
bik7Cj4gPiA+PiAgICBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9zdGF0ZSAqb2xkX2Nvbm5fc3RhdGUg
PQo+ID4gPj4gICAgICAgICAgICBkcm1fYXRvbWljX2dldF9vbGRfY29ubmVjdG9yX3N0YXRlKHN0
YXRlLCBjb25uKTsKPiA+ID4+ICAgIHN0cnVjdCBpbnRlbF9zZHZvX2Nvbm5lY3Rvcl9zdGF0ZSAq
b2xkX3N0YXRlID0KPiA+ID4+IEBAIC0yMzU2LDEzICsyMzU3LDEzIEBAIHN0YXRpYyBpbnQgaW50
ZWxfc2R2b19hdG9taWNfY2hlY2soc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm4sCj4gPiA+PiAg
ICAgICAgKG1lbWNtcCgmb2xkX3N0YXRlLT50diwgJm5ld19zdGF0ZS0+dHYsIHNpemVvZihvbGRf
c3RhdGUtPnR2KSkgfHwKPiA+ID4+ICAgICAgICAgbWVtY21wKCZvbGRfY29ubl9zdGF0ZS0+dHYs
ICZuZXdfY29ubl9zdGF0ZS0+dHYsIHNpemVvZihvbGRfY29ubl9zdGF0ZS0+dHYpKSkpIHsKPiA+
ID4+ICAgICAgICAgICAgc3RydWN0IGRybV9jcnRjX3N0YXRlICpjcnRjX3N0YXRlID0KPiA+ID4+
IC0gICAgICAgICAgICAgICAgICBkcm1fYXRvbWljX2dldF9uZXdfY3J0Y19zdGF0ZShuZXdfY29u
bl9zdGF0ZS0+c3RhdGUsCj4gPiA+PiArICAgICAgICAgICAgICAgICAgZHJtX2F0b21pY19nZXRf
bmV3X2NydGNfc3RhdGUoc3RhdGUsCj4gPiA+PiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgbmV3X2Nvbm5fc3RhdGUtPmNydGMpOwo+ID4gPj4KPiA+ID4+
ICAgICAgICAgICAgY3J0Y19zdGF0ZS0+Y29ubmVjdG9yc19jaGFuZ2VkID0gdHJ1ZTsKPiA+ID4+
ICAgIH0KPiA+ID4+Cj4gPiA+PiAtICByZXR1cm4gaW50ZWxfZGlnaXRhbF9jb25uZWN0b3JfYXRv
bWljX2NoZWNrKGNvbm4sIG5ld19jb25uX3N0YXRlKTsKPiA+ID4+ICsgIHJldHVybiBpbnRlbF9k
aWdpdGFsX2Nvbm5lY3Rvcl9hdG9taWNfY2hlY2soY29ubiwgc3RhdGUpOwo+ID4gPj4gIH0KPiA+
ID4+Cj4gPiA+PiAgc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fY29ubmVjdG9yX2hlbHBlcl9mdW5j
cyBpbnRlbF9zZHZvX2Nvbm5lY3Rvcl9oZWxwZXJfZnVuY3MgPSB7Cj4gPiA+PiBkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfdHYuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2ludGVsX3R2LmMKPiA+ID4+IGluZGV4IDM5MjRjNDk0NGUxZi4uYTQxYzViNDY3YzE0IDEwMDY0
NAo+ID4gPj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfdHYuYwo+ID4gPj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfdHYuYwo+ID4gPj4gQEAgLTE4MTcsMTYgKzE4
MTcsMTggQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fY29ubmVjdG9yX2Z1bmNzIGludGVsX3R2
X2Nvbm5lY3Rvcl9mdW5jcyA9IHsKPiA+ID4+ICB9Owo+ID4gPj4KPiA+ID4+ICBzdGF0aWMgaW50
IGludGVsX3R2X2F0b21pY19jaGVjayhzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yLAo+
ID4gPj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkcm1fY29ubmVjdG9yX3N0
YXRlICpuZXdfc3RhdGUpCj4gPiA+PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0
IGRybV9hdG9taWNfc3RhdGUgKnN0YXRlKQo+ID4gPj4gIHsKPiA+ID4+ICsgIHN0cnVjdCBkcm1f
Y29ubmVjdG9yX3N0YXRlICpuZXdfc3RhdGU7Cj4gPiA+PiAgICBzdHJ1Y3QgZHJtX2NydGNfc3Rh
dGUgKm5ld19jcnRjX3N0YXRlOwo+ID4gPj4gICAgc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUg
Km9sZF9zdGF0ZTsKPiA+ID4+Cj4gPiA+PiArICBuZXdfc3RhdGUgPSBkcm1fYXRvbWljX2dldF9u
ZXdfY29ubmVjdG9yX3N0YXRlKHN0YXRlLCBjb25uZWN0b3IpOwo+ID4gPj4gICAgaWYgKCFuZXdf
c3RhdGUtPmNydGMpCj4gPiA+PiAgICAgICAgICAgIHJldHVybiAwOwo+ID4gPj4KPiA+ID4+IC0g
IG9sZF9zdGF0ZSA9IGRybV9hdG9taWNfZ2V0X29sZF9jb25uZWN0b3Jfc3RhdGUobmV3X3N0YXRl
LT5zdGF0ZSwgY29ubmVjdG9yKTsKPiA+ID4+IC0gIG5ld19jcnRjX3N0YXRlID0gZHJtX2F0b21p
Y19nZXRfbmV3X2NydGNfc3RhdGUobmV3X3N0YXRlLT5zdGF0ZSwgbmV3X3N0YXRlLT5jcnRjKTsK
PiA+ID4+ICsgIG9sZF9zdGF0ZSA9IGRybV9hdG9taWNfZ2V0X29sZF9jb25uZWN0b3Jfc3RhdGUo
c3RhdGUsIGNvbm5lY3Rvcik7Cj4gPiA+PiArICBuZXdfY3J0Y19zdGF0ZSA9IGRybV9hdG9taWNf
Z2V0X25ld19jcnRjX3N0YXRlKHN0YXRlLCBuZXdfc3RhdGUtPmNydGMpOwo+ID4gPj4KPiA+ID4+
ICAgIGlmIChvbGRfc3RhdGUtPnR2Lm1vZGUgIT0gbmV3X3N0YXRlLT50di5tb2RlIHx8Cj4gPiA+
PiAgICAgICAgb2xkX3N0YXRlLT50di5tYXJnaW5zLmxlZnQgIT0gbmV3X3N0YXRlLT50di5tYXJn
aW5zLmxlZnQgfHwKPiA+ID4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9k
aXNwbnY1MC9kaXNwLmMgYi9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9kaXNwbnY1MC9kaXNwLmMK
PiA+ID4+IGluZGV4IDRiMTY1MGY1MTk1NS4uN2JhMzczZjQ5M2IyIDEwMDY0NAo+ID4gPj4gLS0t
IGEvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvZGlzcG52NTAvZGlzcC5jCj4gPiA+PiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vbm91dmVhdS9kaXNwbnY1MC9kaXNwLmMKPiA+ID4+IEBAIC05NDgsMTEg
Kzk0OCwxMiBAQCBudjUwX21zdGNfZ2V0X21vZGVzKHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25u
ZWN0b3IpCj4gPiA+Pgo+ID4gPj4gIHN0YXRpYyBpbnQKPiA+ID4+ICBudjUwX21zdGNfYXRvbWlj
X2NoZWNrKHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IsCj4gPiA+PiAtICAgICAgICAg
ICAgICAgICBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9zdGF0ZSAqbmV3X2Nvbm5fc3RhdGUpCj4gPiA+
PiArICAgICAgICAgICAgICAgICBzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqc3RhdGUpCj4gPiA+
PiAgewo+ID4gPj4gLSAgc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnN0YXRlID0gbmV3X2Nvbm5f
c3RhdGUtPnN0YXRlOwo+ID4gPj4gICAgc3RydWN0IG52NTBfbXN0YyAqbXN0YyA9IG52NTBfbXN0
Yyhjb25uZWN0b3IpOwo+ID4gPj4gICAgc3RydWN0IGRybV9kcF9tc3RfdG9wb2xvZ3lfbWdyICpt
Z3IgPSAmbXN0Yy0+bXN0bS0+bWdyOwo+ID4gPj4gKyAgc3RydWN0IGRybV9jb25uZWN0b3Jfc3Rh
dGUgKm5ld19jb25uX3N0YXRlID0KPiA+ID4+ICsgICAgICAgICAgZHJtX2F0b21pY19nZXRfbmV3
X2Nvbm5lY3Rvcl9zdGF0ZShzdGF0ZSwgY29ubmVjdG9yKTsKPiA+ID4+ICAgIHN0cnVjdCBkcm1f
Y29ubmVjdG9yX3N0YXRlICpvbGRfY29ubl9zdGF0ZSA9Cj4gPiA+PiAgICAgICAgICAgIGRybV9h
dG9taWNfZ2V0X29sZF9jb25uZWN0b3Jfc3RhdGUoc3RhdGUsIGNvbm5lY3Rvcik7Cj4gPiA+PiAg
ICBzdHJ1Y3QgZHJtX2NydGNfc3RhdGUgKmNydGNfc3RhdGU7Cj4gPiA+PiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9sdmRzLmMgYi9kcml2ZXJzL2dwdS9kcm0vcmNh
ci1kdS9yY2FyX2x2ZHMuYwo+ID4gPj4gaW5kZXggNjIwYjUxYWFiMjkxLi41YjgxYmEyYTdmMjcg
MTAwNjQ0Cj4gPiA+PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2x2ZHMuYwo+
ID4gPj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9sdmRzLmMKPiA+ID4+IEBA
IC05MiwxMyArOTIsMTUgQEAgc3RhdGljIGludCByY2FyX2x2ZHNfY29ubmVjdG9yX2dldF9tb2Rl
cyhzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQo+ID4gPj4gIH0KPiA+ID4+Cj4gPiA+
PiAgc3RhdGljIGludCByY2FyX2x2ZHNfY29ubmVjdG9yX2F0b21pY19jaGVjayhzdHJ1Y3QgZHJt
X2Nvbm5lY3RvciAqY29ubmVjdG9yLAo+ID4gPj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKnN0YXRlKQo+ID4gPj4gKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGRybV9hdG9taWNfc3Rh
dGUgKnN0YXRlKQo+ID4gPj4gIHsKPiA+ID4+ICAgIHN0cnVjdCByY2FyX2x2ZHMgKmx2ZHMgPSBj
b25uZWN0b3JfdG9fcmNhcl9sdmRzKGNvbm5lY3Rvcik7Cj4gPiA+PiAgICBjb25zdCBzdHJ1Y3Qg
ZHJtX2Rpc3BsYXlfbW9kZSAqcGFuZWxfbW9kZTsKPiA+ID4+ICsgIHN0cnVjdCBkcm1fY29ubmVj
dG9yX3N0YXRlICpjb25uX3N0YXRlOwo+ID4gPj4gICAgc3RydWN0IGRybV9jcnRjX3N0YXRlICpj
cnRjX3N0YXRlOwo+ID4gPj4KPiA+ID4+IC0gIGlmICghc3RhdGUtPmNydGMpCj4gPiA+PiArICBj
b25uX3N0YXRlID0gZHJtX2F0b21pY19nZXRfbmV3X2Nvbm5lY3Rvcl9zdGF0ZShzdGF0ZSwgY29u
bmVjdG9yKTsKPiA+ID4+ICsgIGlmICghY29ubl9zdGF0ZS0+Y3J0YykKPiA+ID4+ICAgICAgICAg
ICAgcmV0dXJuIDA7Cj4gPiA+Pgo+ID4gPj4gICAgaWYgKGxpc3RfZW1wdHkoJmNvbm5lY3Rvci0+
bW9kZXMpKSB7Cj4gPiA+PiBAQCAtMTEwLDkgKzExMiw5IEBAIHN0YXRpYyBpbnQgcmNhcl9sdmRz
X2Nvbm5lY3Rvcl9hdG9taWNfY2hlY2soc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciwK
PiA+ID4+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkcm1fZGlzcGxh
eV9tb2RlLCBoZWFkKTsKPiA+ID4+Cj4gPiA+PiAgICAvKiBXZSdyZSBub3QgYWxsb3dlZCB0byBt
b2RpZnkgdGhlIHJlc29sdXRpb24uICovCj4gPiA+PiAtICBjcnRjX3N0YXRlID0gZHJtX2F0b21p
Y19nZXRfY3J0Y19zdGF0ZShzdGF0ZS0+c3RhdGUsIHN0YXRlLT5jcnRjKTsKPiA+ID4+IC0gIGlm
IChJU19FUlIoY3J0Y19zdGF0ZSkpCj4gPiA+PiAtICAgICAgICAgIHJldHVybiBQVFJfRVJSKGNy
dGNfc3RhdGUpOwo+ID4gPj4gKyAgY3J0Y19zdGF0ZSA9IGRybV9hdG9taWNfZ2V0X2NydGNfc3Rh
dGUoc3RhdGUsIGNvbm5fc3RhdGUtPmNydGMpOwo+ID4gPj4gKyAgaWYgKCFjcnRjX3N0YXRlKQo+
ID4gPj4gKyAgICAgICAgICByZXR1cm4gLUVJTlZBTDsKPiA+ID4+Cj4gPiA+PiAgICBpZiAoY3J0
Y19zdGF0ZS0+bW9kZS5oZGlzcGxheSAhPSBwYW5lbF9tb2RlLT5oZGlzcGxheSB8fAo+ID4gPj4g
ICAgICAgIGNydGNfc3RhdGUtPm1vZGUudmRpc3BsYXkgIT0gcGFuZWxfbW9kZS0+dmRpc3BsYXkp
Cj4gPiA+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3ZjNC92YzRfdHhwLmMgYi9kcml2
ZXJzL2dwdS9kcm0vdmM0L3ZjNF90eHAuYwo+ID4gPj4gaW5kZXggYzhiODlhNzhmOWY0Li45NmY5
MWMxYjRiNmUgMTAwNjQ0Cj4gPiA+PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vdmM0L3ZjNF90eHAu
Ywo+ID4gPj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3ZjNC92YzRfdHhwLmMKPiA+ID4+IEBAIC0y
MjEsMTcgKzIyMSwxOCBAQCBzdGF0aWMgY29uc3QgdTMyIHR4cF9mbXRzW10gPSB7Cj4gPiA+PiAg
fTsKPiA+ID4+Cj4gPiA+PiAgc3RhdGljIGludCB2YzRfdHhwX2Nvbm5lY3Rvcl9hdG9taWNfY2hl
Y2soc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm4sCj4gPiA+PiAtICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHN0cnVjdCBkcm1fY29ubmVjdG9yX3N0YXRlICpjb25uX3N0YXRlKQo+
ID4gPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkcm1fYXRv
bWljX3N0YXRlICpzdGF0ZSkKPiA+ID4+ICB7Cj4gPiA+PiArICBzdHJ1Y3QgZHJtX2Nvbm5lY3Rv
cl9zdGF0ZSAqY29ubl9zdGF0ZTsKPiA+ID4+ICAgIHN0cnVjdCBkcm1fY3J0Y19zdGF0ZSAqY3J0
Y19zdGF0ZTsKPiA+ID4+ICAgIHN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZiOwo+ID4gPj4gICAg
aW50IGk7Cj4gPiA+Pgo+ID4gPj4gKyAgY29ubl9zdGF0ZSA9IGRybV9hdG9taWNfZ2V0X25ld19j
b25uZWN0b3Jfc3RhdGUoc3RhdGUsIGNvbm4pOwo+ID4gPj4gICAgaWYgKCFjb25uX3N0YXRlLT53
cml0ZWJhY2tfam9iIHx8ICFjb25uX3N0YXRlLT53cml0ZWJhY2tfam9iLT5mYikKPiA+ID4+ICAg
ICAgICAgICAgcmV0dXJuIDA7Cj4gPiA+Pgo+ID4gPj4gLSAgY3J0Y19zdGF0ZSA9IGRybV9hdG9t
aWNfZ2V0X25ld19jcnRjX3N0YXRlKGNvbm5fc3RhdGUtPnN0YXRlLAo+ID4gPj4gLSAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5fc3RhdGUtPmNydGMpOwo+
ID4gPj4gKyAgY3J0Y19zdGF0ZSA9IGRybV9hdG9taWNfZ2V0X25ld19jcnRjX3N0YXRlKHN0YXRl
LCBjb25uX3N0YXRlLT5jcnRjKTsKPiA+ID4+Cj4gPiA+PiAgICBmYiA9IGNvbm5fc3RhdGUtPndy
aXRlYmFja19qb2ItPmZiOwo+ID4gPj4gICAgaWYgKGZiLT53aWR0aCAhPSBjcnRjX3N0YXRlLT5t
b2RlLmhkaXNwbGF5IHx8Cj4gPiA+PiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9kcm0vZHJtX21vZGVz
ZXRfaGVscGVyX3Z0YWJsZXMuaCBiL2luY2x1ZGUvZHJtL2RybV9tb2Rlc2V0X2hlbHBlcl92dGFi
bGVzLmgKPiA+ID4+IGluZGV4IGRlNTdmYjQwY2I2ZS4uYWRjOGI3Y2Y2NGI1IDEwMDY0NAo+ID4g
Pj4gLS0tIGEvaW5jbHVkZS9kcm0vZHJtX21vZGVzZXRfaGVscGVyX3Z0YWJsZXMuaAo+ID4gPj4g
KysrIGIvaW5jbHVkZS9kcm0vZHJtX21vZGVzZXRfaGVscGVyX3Z0YWJsZXMuaAo+ID4gPj4gQEAg
LTEwMjAsNyArMTAyMCw3IEBAIHN0cnVjdCBkcm1fY29ubmVjdG9yX2hlbHBlcl9mdW5jcyB7Cj4g
PiA+PiAgICAgKiBkZWFkbG9jay4KPiA+ID4+ICAgICAqLwo+ID4gPj4gICAgaW50ICgqYXRvbWlj
X2NoZWNrKShzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yLAo+ID4gPj4gLSAgICAgICAg
ICAgICAgICAgICAgICBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9zdGF0ZSAqc3RhdGUpOwo+ID4gPj4g
KyAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqc3RhdGUpOwo+
ID4gPj4KPiA+ID4+ICAgIC8qKgo+ID4gPj4gICAgICogQGF0b21pY19jb21taXQ6Cj4KPiAtLQo+
IFJlZ2FyZHMsCj4KPiBMYXVyZW50IFBpbmNoYXJ0Cj4gX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX18KPiBkcmktZGV2ZWwgbWFpbGluZyBsaXN0Cj4gZHJpLWRl
dmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwo+IGh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
L21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVsCgoKCi0tIApEYW5pZWwgVmV0dGVyClNvZnR3YXJl
IEVuZ2luZWVyLCBJbnRlbCBDb3Jwb3JhdGlvbgorNDEgKDApIDc5IDM2NSA1NyA0OCAtIGh0dHA6
Ly9ibG9nLmZmd2xsLmNoCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9w
Lm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1k
ZXZlbA==
