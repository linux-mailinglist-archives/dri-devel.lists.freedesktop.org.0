Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id A471D2129BA
	for <lists+dri-devel@lfdr.de>; Thu,  2 Jul 2020 18:38:08 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AB1D489244;
	Thu,  2 Jul 2020 16:38:04 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mailout1.w1.samsung.com (mailout1.w1.samsung.com
 [210.118.77.11])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 453ED6EB2C
 for <dri-devel@lists.freedesktop.org>; Thu,  2 Jul 2020 16:38:03 +0000 (UTC)
Received: from eucas1p2.samsung.com (unknown [182.198.249.207])
 by mailout1.w1.samsung.com (KnoxPortal) with ESMTP id
 20200702163801euoutp016300141772039746a14b521544a9827f~d-N-2FTi31548715487euoutp01A
 for <dri-devel@lists.freedesktop.org>; Thu,  2 Jul 2020 16:38:01 +0000 (GMT)
DKIM-Filter: OpenDKIM Filter v2.11.0 mailout1.w1.samsung.com
 20200702163801euoutp016300141772039746a14b521544a9827f~d-N-2FTi31548715487euoutp01A
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=samsung.com;
 s=mail20170921; t=1593707882;
 bh=Feeuv3ADxxV5/AS/i7SVntFIv2q04hag2N4d6shCwSE=;
 h=From:To:Cc:Subject:Date:In-Reply-To:References:From;
 b=EMPCHfAMk1qSGZoDJ0a17W12erRg3ys7UvWYElSWhV+8s0MJWd9WJpYmcxK8Qw22S
 cbEYjHUufVm8dvUksc/qQn6UpGS7txkM/z7YDo5RpvAe9n8lFGyzY3W/5yHD6I3zNx
 ari7CMI/VwEeBbQf1zh1+jxrn+4gWsSiVceZViJk=
Received: from eusmges2new.samsung.com (unknown [203.254.199.244]) by
 eucas1p2.samsung.com (KnoxPortal) with ESMTP id
 20200702163801eucas1p263c969961c1793d3101da93cca535994~d-N-azbaY2216322163eucas1p21;
 Thu,  2 Jul 2020 16:38:01 +0000 (GMT)
Received: from eucas1p2.samsung.com ( [182.198.249.207]) by
 eusmges2new.samsung.com (EUCPMTA) with SMTP id 20.99.05997.96D0EFE5; Thu,  2
 Jul 2020 17:38:01 +0100 (BST)
Received: from eusmtrp1.samsung.com (unknown [182.198.249.138]) by
 eucas1p1.samsung.com (KnoxPortal) with ESMTPA id
 20200702163801eucas1p12db276c7ac9e244e93e4b2f3d33ba729~d-N-HuFjj0769307693eucas1p17;
 Thu,  2 Jul 2020 16:38:01 +0000 (GMT)
Received: from eusmgms2.samsung.com (unknown [182.198.249.180]) by
 eusmtrp1.samsung.com (KnoxPortal) with ESMTP id
 20200702163801eusmtrp12baf4f452fcd944228d15fe0fa459688~d-N-HBNMV1333013330eusmtrp1K;
 Thu,  2 Jul 2020 16:38:01 +0000 (GMT)
X-AuditID: cbfec7f4-677ff7000000176d-c2-5efe0d695ba2
Received: from eusmtip2.samsung.com ( [203.254.199.222]) by
 eusmgms2.samsung.com (EUCPMTA) with SMTP id E0.0A.06017.96D0EFE5; Thu,  2
 Jul 2020 17:38:01 +0100 (BST)
Received: from AMDC3061.digital.local (unknown [106.120.51.75]) by
 eusmtip2.samsung.com (KnoxPortal) with ESMTPA id
 20200702163800eusmtip2d6bcf626c5987c5f2f1903612b6fe6e5~d-N_ZE9_S2767227672eusmtip2Z;
 Thu,  2 Jul 2020 16:38:00 +0000 (GMT)
From: Sylwester Nawrocki <s.nawrocki@samsung.com>
To: georgi.djakov@linaro.org, cw00.choi@samsung.com, krzk@kernel.org
Subject: [PATCH RFC v6 6/6] drm: exynos: mixer: Add interconnect support
Date: Thu,  2 Jul 2020 18:37:24 +0200
Message-Id: <20200702163724.2218-7-s.nawrocki@samsung.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20200702163724.2218-1-s.nawrocki@samsung.com>
MIME-Version: 1.0
X-Brightmail-Tracker: H4sIAAAAAAAAA02SazCUYRTH59n3sku9ei2TJxplp4tqcklTTy1dzdgvzZRPaaJW3kFYZte1
 UoxsrMusNSIVkplYY7BpxyXK2mwyGMOIbGO0yijGFPuBsmW9Kt9+5zn/c/7nnHl4GH+IcOZF
 SuIZqUQcLSBtcW330sDBSMoS4mVcckUTZZkANZbUE+j94jSByvX9BBo2z5OouF1DItWEEkcD
 Aw1cpDGNEGio9RGJFvL0AJUMdHBQnf4jF42nV5Mos13PRV2z9whUUjhDnrIXadTZpMg48pIU
 TeQYOKLnVXdE+U1qIFrQuJ4nL9n6hjHRkYmM1PPEVdsI+aiajEsLSG7RqLA00HdMAWx4kD4M
 89T9uJX5dDWAveZEBbBd5UUALcYSnA0WAFRXKjAF4K1VVFVcZN+fAfjOWEf+q+j7VMC1tiJp
 b5j3Jh9Y2ZH2h/LPZWudMDoLg9pmFWZNONAiaDLNcayM07thVW0jYWWKPg6nnjQAdr4dsLbh
 9ZqzDS2EXQsUK7GHPQ+m1sbGViUZLx5i1v6QNnPhB1UPztb6Q5W+c50d4FdDE5fl7bC3MBdn
 CzIAzG0b57KBEsAJQ8W6sxAa+5dJqzNG74P1rZ7s82k49uMxyZ7CDo7O2bND2EGVtnj9QhTM
 kvNZ9S74U13MYdkZ5kz9xlmJCH6fFCqBW+mGbUo3bFP637YCYGrgxCTIYsIZ2SEJk+QhE8fI
 EiThHtdiYzRg9av1WgyLzaD1V6gO0Dwg2EwpDSshfEKcKEuJ0QHIwwSO1Jm+3hA+FSZOucFI
 Y69IE6IZmQ648HCBE+VTORPMp8PF8UwUw8Qx0r9ZDs/GOQ0cnf9WKvDKNqcPC5sKNmUuT98f
 s7hriWrFF2XQub17UvPanEZMSpeip4F3J30OhFkCfXvCsNTL7u6DJ7MkrXMd8u4VarZx66BH
 0M7bRR1yc9OW6yl9ocIjDimhLbfUgUTwYJLRLcrLr+ZtS/KFbQHlIzU6Z5Pfzc6GhKCCs7mv
 ggW4LELsvR+TysR/ADJHsF5mAwAA
X-Brightmail-Tracker: H4sIAAAAAAAAA+NgFrrGIsWRmVeSWpSXmKPExsVy+t/xe7qZvP/iDD5MYbe4P6+V0WLjjPWs
 Fte/PGe1mH/kHKvFla/v2Sym793EZjHp/gQWi/PnN7BbbHp8jdXi8q45bBafe48wWsw4v4/J
 Yu2Ru+wWtxtXsFm07j3CbnH4TTurxYzJL9kcBD02repk87hzbQ+bx/3u40wem5fUe/RtWcXo
 8XmTXABblJ5NUX5pSapCRn5xia1StKGFkZ6hpYWekYmlnqGxeayVkamSvp1NSmpOZllqkb5d
 gl5G241VbAUN7hU7N01ibmA8a9nFyMEhIWAisWRBRBcjF4eQwFJGie2357FCxKUk5rcodTFy
 ApnCEn+udbFB1HxilPh5bCM7SIJNwFCi92gfI4gtIuAhcap1LSuIzSwwg1ni9CxTEFsYKP74
 8VsmEJtFQFViyeqNYDW8AlYSTxZuYIRYIC+xesMBZpC9nALWEoc/84KEhYBKjvUvYIcoF5Q4
 OfMJC0gJs4C6xPp5QhCb5CWat85mnsAoOAtJ1SyEqllIqhYwMq9iFEktLc5Nzy020itOzC0u
 zUvXS87P3cQIjNNtx35u2cHY9S74EKMAB6MSD++E43/jhFgTy4orcw8xSnAwK4nwOp09HSfE
 m5JYWZValB9fVJqTWnyI0RTos4nMUqLJ+cAUklcSb2hqaG5haWhubG5sZqEkztshcDBGSCA9
 sSQ1OzW1ILUIpo+Jg1OqgTFAW/TG8QulvWdjzR4Le3wOkfi3rPCV4OKrPzQW1HHcmBwz75La
 4inFQhOrzsSweWcaf8q/cXPPxJm9z/8UsPWXT+Fbk9qT5DSbT4ZLcMJK9uWzjk2oFbF7u3Si
 8aarDMZcq6Umqx4uzJ9lLH6E9cn37beUReecfe0mrXJRdScXR8iUg009Bf5KLMUZiYZazEXF
 iQCw9jSz6QIAAA==
X-CMS-MailID: 20200702163801eucas1p12db276c7ac9e244e93e4b2f3d33ba729
X-Msg-Generator: CA
X-RootMTR: 20200702163801eucas1p12db276c7ac9e244e93e4b2f3d33ba729
X-EPHeader: CA
CMS-TYPE: 201P
X-CMS-RootMailID: 20200702163801eucas1p12db276c7ac9e244e93e4b2f3d33ba729
References: <20200702163724.2218-1-s.nawrocki@samsung.com>
 <CGME20200702163801eucas1p12db276c7ac9e244e93e4b2f3d33ba729@eucas1p1.samsung.com>
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: devicetree@vger.kernel.org, linux-samsung-soc@vger.kernel.org,
 b.zolnierkie@samsung.com, linux-pm@vger.kernel.org, sw0312.kim@samsung.com,
 a.swigon@samsung.com, robh+dt@kernel.org, linux-kernel@vger.kernel.org,
 myungjoo.ham@samsung.com, dri-devel@lists.freedesktop.org,
 s.nawrocki@samsung.com, linux-arm-kernel@lists.infradead.org,
 m.szyprowski@samsung.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhpcyBwYXRjaCBhZGRzIGludGVyY29ubmVjdCBzdXBwb3J0IHRvIGV4eW5vcy1taXhlci4gVGhl
IG1peGVyIHdvcmtzCnRoZSBzYW1lIGFzIGJlZm9yZSB3aGVuIENPTkZJR19JTlRFUkNPTk5FQ1Qg
aXMgJ24nLgoKRm9yIHByb3BlciBvcGVyYXRpb24gb2YgdGhlIHZpZGVvIG1peGVyIGJsb2NrIHdl
IG5lZWQgdG8gZW5zdXJlIHRoZQppbnRlcmNvbm5lY3QgYnVzc2VzIGxpa2UgRE1DIG9yIExFRlRC
VVMgcHJvdmlkZSBlbm91Z2ggYmFuZHdpZHRoIHNvCmFzIHRvIGF2b2lkIERNQSBidWZmZXIgdW5k
ZXJydW5zIGluIHRoZSBtaXhlciBibG9jay4gSS5lIHdlIG5lZWQgdG8KcHJldmVudCB0aG9zZSBi
dXNzZXMgZnJvbSBvcGVyYXRpbmcgaW4gbG93IHBlcmZvbWFuY2UgT1BQcyB3aGVuCnRoZSBtaXhl
ciBpcyBydW5uaW5nLgpJbiB0aGlzIHBhdGNoIHRoZSBidXMgYmFuZHdpZHRoIHJlcXVlc3QgaXMg
ZG9uZSB0aHJvdWdoIHRoZSBpbnRlcmNvbm5lY3QKQVBJLCB0aGUgYmFuZHdpZHRoIHZhbHVlIGlz
IGNhbGN1bGF0ZWQgZnJvbSBzZWxlY3RlZCBEUk0gbW9kZSwgaS5lLgp2aWRlbyBwbGFuZSB3aWR0
aCwgaGVpZ2h0LCByZWZyZXNoIHJhdGUgYW5kIHBpeGVsIGZvcm1hdC4KClRoZSBiYW5kd2lkdGgg
c2V0dGluZyBpcyBzeW5jaHJvbml6ZWQgd2l0aCBWU1lOQyB3aGVuIHdlIGFyZSBzd2l0Y2hpbmcK
dG8gbG93ZXIgYmFuZHdpZHRoLiBUaGlzIGlzIHJlcXVpcmVkIHRvIGVuc3VyZSBlbm91Z2ggYmFu
ZHdpZHRoIGZvcgp0aGUgZGV2aWNlIHNpbmNlIG5ldyBzZXR0aW5ncyBhcmUgbm9ybWFsbHkgYmVp
bmcgYXBwbGllZCBpbiB0aGUgaGFyZHdhcmUKc3luY2hyb25vdXNseSB3aXRoIFZTWU5DLgoKQ28t
ZGV2ZWxvcGVkLWJ5OiBBcnR1ciDFmndpZ2/FhCA8YS5zd2lnb25Ac2Ftc3VuZy5jb20+ClNpZ25l
ZC1vZmYtYnk6IE1hcmVrIFN6eXByb3dza2kgPG0uc3p5cHJvd3NraUBzYW1zdW5nLmNvbT4KU2ln
bmVkLW9mZi1ieTogU3lsd2VzdGVyIE5hd3JvY2tpIDxzLm5hd3JvY2tpQHNhbXN1bmcuY29tPgot
LS0KQ2hhbmdlcyBmb3IgdjY6CiAtIHRoZSBpY2Nfc2V0X2J3KCkgY2FsbCBpcyBub3cgb25seSBk
b25lIHdoZW4gY2FsY3VsYXRlZCB2YWx1ZSBmb3IKICAgYSBjcnRjIGNoYW5nZXMsIHRoaXMgYXZv
aWRzIHVubmVjZXNzYXJ5IGNhbGxzIHBlciBlYWNoIHZpZGVvIGZyYW1lCiAtIGFkZGVkIHN5bmNo
cm9uaXphdGlvbiBvZiB0aGUgaW50ZXJjb25uZWN0IGJhbmR3aWR0aCBzZXR0aW5nIHdpdGgKICAg
dGhlIG1peGVyIFZTWU5DIGluIG9yZGVyIHRvIGF2b2lkIGJ1ZmZlciB1bmRlcmZsb3cgd2hlbiB3
ZSBsb3dlcgogICB0aGUgaW50ZXJjb25uZWN0IGJhbmR3aWR0aCB3aGVuIHRoZSBoYXJkd2FyZSBz
dGlsbCBvcGVyYXRlcyB3aXRoCiAgIHByZXZpb3VzIG1vZGUgc2V0dGluZ3MgdGhhdCByZXF1aXJl
IGhpZ2hlciBiYW5kd2lkdGguIFRoaXMgZml4ZWQKICAgSU9NTVUgZmF1bHRzIG9ic2VydmVkIGUu
Zy4gZHVyaW5nIHN3aXRjaGluZyBmcm9tIHR3byBwbGFuZXMgdG8KICAgYSBzaW5nbGUgcGxhbmUg
b3BlcmF0aW9uLgoKQ2hhbmdlcyBmb3IgdjU6CiAtIHJlbmFtZWQgc29jX3BhdGggdmFyaWFibGUg
dG8gaWNjX3BhdGgKLS0tCiBkcml2ZXJzL2dwdS9kcm0vZXh5bm9zL2V4eW5vc19taXhlci5jIHwg
MTUwICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrLS0KIDEgZmlsZSBjaGFuZ2VkLCAx
NDIgaW5zZXJ0aW9ucygrKSwgOCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vZXh5bm9zL2V4eW5vc19taXhlci5jIGIvZHJpdmVycy9ncHUvZHJtL2V4eW5vcy9leHlu
b3NfbWl4ZXIuYwppbmRleCBjN2UyZTJlLi5mN2JhYmY4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vZXh5bm9zL2V4eW5vc19taXhlci5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9leHlub3Mv
ZXh5bm9zX21peGVyLmMKQEAgLTEzLDYgKzEzLDcgQEAKICNpbmNsdWRlIDxsaW51eC9jb21wb25l
bnQuaD4KICNpbmNsdWRlIDxsaW51eC9kZWxheS5oPgogI2luY2x1ZGUgPGxpbnV4L2kyYy5oPgor
I2luY2x1ZGUgPGxpbnV4L2ludGVyY29ubmVjdC5oPgogI2luY2x1ZGUgPGxpbnV4L2ludGVycnVw
dC5oPgogI2luY2x1ZGUgPGxpbnV4L2lycS5oPgogI2luY2x1ZGUgPGxpbnV4L2tlcm5lbC5oPgpA
QCAtNzMsNiArNzQsNyBAQCBlbnVtIG1peGVyX2ZsYWdfYml0cyB7CiAJTVhSX0JJVF9JTlRFUkxB
Q0UsCiAJTVhSX0JJVF9WUF9FTkFCTEVELAogCU1YUl9CSVRfSEFTX1NDTEssCisJTVhSX0JJVF9S
RVFVRVNUX0JXLAogfTsKIAogc3RhdGljIGNvbnN0IHVpbnQzMl90IG1peGVyX2Zvcm1hdHNbXSA9
IHsKQEAgLTk5LDYgKzEwMSwxMyBAQCBzdHJ1Y3QgbWl4ZXJfY29udGV4dCB7CiAJc3RydWN0IGV4
eW5vc19kcm1fcGxhbmUJcGxhbmVzW01JWEVSX1dJTl9OUl07CiAJdW5zaWduZWQgbG9uZwkJZmxh
Z3M7CiAKKwlzdHJ1Y3QgaWNjX3BhdGgJCSppY2NfcGF0aDsKKwkvKiBtZW1vcnkgYmFuZHdpZHRo
IG9uIHRoZSBpbnRlcmNvbm5lY3QgYnVzIGluIEIvcyAqLworCXVuc2lnbmVkIGxvbmcJCWljY19i
YW5kd2lkdGg7CisJLyogbXV0ZXggcHJvdGVjdGluZyBAaWNjX2JhbmR3aWR0aCBhbmQgc2VyaWFs
aXppbmcgYWNjZXNzIHRvIEBpY2NfcGF0aCAqLworCXN0cnVjdCBtdXRleCAJCWljY19sb2NrOwor
CXN0cnVjdCB3b3JrX3N0cnVjdAl3b3JrOworCiAJaW50CQkJaXJxOwogCXZvaWQgX19pb21lbQkJ
Km1peGVyX3JlZ3M7CiAJdm9pZCBfX2lvbWVtCQkqdnBfcmVnczsKQEAgLTc1NCw2ICs3NjMsOSBA
QCBzdGF0aWMgaXJxcmV0dXJuX3QgbWl4ZXJfaXJxX2hhbmRsZXIoaW50IGlycSwgdm9pZCAqYXJn
KQogCQl2YWwgfD0gTVhSX0lOVF9DTEVBUl9WU1lOQzsKIAkJdmFsICY9IH5NWFJfSU5UX1NUQVRV
U19WU1lOQzsKIAorCQlpZiAodGVzdF9hbmRfY2xlYXJfYml0KE1YUl9CSVRfUkVRVUVTVF9CVywg
JmN0eC0+ZmxhZ3MpKQorCQkJc2NoZWR1bGVfd29yaygmY3R4LT53b3JrKTsKKwogCQkvKiBpbnRl
cmxhY2Ugc2NhbiBuZWVkIHRvIGNoZWNrIHNoYWRvdyByZWdpc3RlciAqLwogCQlpZiAodGVzdF9i
aXQoTVhSX0JJVF9JTlRFUkxBQ0UsICZjdHgtPmZsYWdzKQogCQkgICAgJiYgIW1peGVyX2lzX3N5
bmNlZChjdHgpKQpAQCAtOTM0LDYgKzk0Niw3OCBAQCBzdGF0aWMgdm9pZCBtaXhlcl9kaXNhYmxl
X3ZibGFuayhzdHJ1Y3QgZXh5bm9zX2RybV9jcnRjICpjcnRjKQogCW1peGVyX3JlZ193cml0ZW1h
c2sobWl4ZXJfY3R4LCBNWFJfSU5UX0VOLCAwLCBNWFJfSU5UX0VOX1ZTWU5DKTsKIH0KIAorLyoq
CisgKiBtaXhlcl9nZXRfbWVtb3J5X2JhbmR3aWR0aCAtIGNhbGN1bGF0ZSBtZW1vcnkgYmFuZHdp
ZHRoIGZvciBjdXJyZW50IGNydGMgbW9kZQorICogQGNydGM6IGEgY3J0YyB3aXRoIERSTSBtb2Rl
IHRvIGNhbGN1bGF0ZSB0aGUgYmFuZHdpZHRoIGZvcgorICoKKyAqIFJldHVybjogbWVtb3J5IGJh
bmR3aWR0aCBpbiBCL3MKKyAqCisgKiBUaGlzIGZ1bmN0aW9uIHJldHVybnMgbWVtb3J5IGJhbmR3
aWR0aCBjYWxjdWxhdGVkIGFzIGEgc3VtIG9mIGFtb3VudCBvZiBkYXRhCisgKiBwZXIgc2Vjb25k
IGZvciBlYWNoIHBsYW5lLiBUaGUgY2FsY3VsYXRpb24gaXMgYmFzZWQgb24gbWF4aW11bSBwb3Nz
aWJsZSBwaXhlbAorICogcmVzb2x1dGlvbiBmb3IgYSBwbGFuZSBzbyBhcyB0byBhdm9pZCBkaWZm
ZXJlbnQgYmFuZHdpZHRoIHJlcXVlc3QgcGVyIGVhY2gKKyAqIHZpZGVvIGZyYW1lLiBUaGUgZm9y
bXVsYSB1c2VkIGZvciBjYWxjdWxhdGlvbiBmb3IgZWFjaCBwbGFuZSBpczoKKyAqCisgKiBidyA9
IHdpZHRoICogaGVpZ2h0ICogZnJhbWVfcmF0ZSAvIGludGVybGFjZSAvIChob3Jfc3VicyAqIHZl
cnRfc3VicykKKyAqCisgKiB3aGVyZToKKyAqICAtIHdpZHRoLCBoZWlnaHQgLSAoRFJNIG1vZGUp
IHZpZGVvIGZyYW1lIHdpZHRoIGFuZCBoZWlnaHQgaW4gcGl4ZWxzLAorICogIC0gZnJhbWVfcmF0
ZSAtIERSTSBtb2RlIGZyYW1lIHJlZnJlc2ggcmF0ZSwKKyAqICAtIGludGVybGFjZTogMSAtIGlu
IGNhc2Ugb2YgcHJvZ3Jlc3NpdmUgYW5kIDIgaW4gY2FzZSBvZiBpbnRlcmxhY2VkIHZpZGVvLAor
ICogIC0gaG9yX3N1YnMsIHZlcnRfc3VicyAtIGFjY29yZGluZ2x5IGhvcml6b250YWwgYW5kIHZl
cnRpY2FsIHBpeGVsCisgKiAgICBzdWJzYW1wbGluZyBmb3IgYSBwbGFuZS4KKyAqLworc3RhdGlj
IHVuc2lnbmVkIGludCBtaXhlcl9nZXRfbWVtb3J5X2JhbmR3aWR0aChzdHJ1Y3QgZXh5bm9zX2Ry
bV9jcnRjICpjcnRjKQoreworCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlID0gJmNydGMt
PmJhc2Uuc3RhdGUtPmFkanVzdGVkX21vZGU7CisJc3RydWN0IG1peGVyX2NvbnRleHQgKmN0eCA9
IGNydGMtPmN0eDsKKwl1bnNpZ25lZCBsb25nIGJ3LCBiYW5kd2lkdGggPSAwOworCWludCBpLCBq
LCBzdWI7CisKKwlmb3IgKGkgPSAwOyBpIDwgTUlYRVJfV0lOX05SOyBpKyspIHsKKwkJc3RydWN0
IGRybV9wbGFuZSAqcGxhbmUgPSAmY3R4LT5wbGFuZXNbaV0uYmFzZTsKKwkJY29uc3Qgc3RydWN0
IGRybV9mb3JtYXRfaW5mbyAqZm9ybWF0OworCisJCWlmIChwbGFuZS0+c3RhdGUgJiYgcGxhbmUt
PnN0YXRlLT5jcnRjICYmIHBsYW5lLT5zdGF0ZS0+ZmIpIHsKKwkJCWZvcm1hdCA9IHBsYW5lLT5z
dGF0ZS0+ZmItPmZvcm1hdDsKKwkJCWJ3ID0gbW9kZS0+aGRpc3BsYXkgKiBtb2RlLT52ZGlzcGxh
eSAqCisJCQkJCQkJZHJtX21vZGVfdnJlZnJlc2gobW9kZSk7CisJCQlpZiAobW9kZS0+ZmxhZ3Mg
JiBEUk1fTU9ERV9GTEFHX0lOVEVSTEFDRSkKKwkJCQlidyAvPSAyOworCQkJZm9yIChqID0gMDsg
aiA8IGZvcm1hdC0+bnVtX3BsYW5lczsgaisrKSB7CisJCQkJc3ViID0gaiA/IChmb3JtYXQtPnZz
dWIgKiBmb3JtYXQtPmhzdWIpIDogMTsKKwkJCQliYW5kd2lkdGggKz0gZm9ybWF0LT5jcHBbal0g
KiBidyAvIHN1YjsKKwkJCX0KKwkJfQorCX0KKworCXJldHVybiBiYW5kd2lkdGg7Cit9CisKK3N0
YXRpYyB2b2lkIG1peGVyX3NldF9pY2NfYmFuZHdpZHRoKHN0cnVjdCBtaXhlcl9jb250ZXh0ICpj
dHgpCit7CisJdW5zaWduZWQgbG9uZyBiYW5kd2lkdGg7CisJdTMyIGF2Z19idywgcGVha19idzsK
KworCW11dGV4X2xvY2soJmN0eC0+aWNjX2xvY2spOworCisJLyogYWRkIDIwJSBzYWZldHkgbWFy
Z2luICovCisJYmFuZHdpZHRoID0gY3R4LT5pY2NfYmFuZHdpZHRoIC8gNCAqIDU7CisKKwlhdmdf
YncgPSBwZWFrX2J3ID0gQnBzX3RvX2ljYyhiYW5kd2lkdGgpOworCWljY19zZXRfYncoY3R4LT5p
Y2NfcGF0aCwgYXZnX2J3LCBwZWFrX2J3KTsKKworCW11dGV4X3VubG9jaygmY3R4LT5pY2NfbG9j
ayk7CisKKwlkZXZfZGJnKGN0eC0+ZGV2LCAic2FmZSBiYW5kd2lkdGggJWx1IEJwc1xuIiwgYmFu
ZHdpZHRoKTsKK30KKworc3RhdGljIHZvaWQgbWl4ZXJfaWNjX3JlcXVlc3RfZm4oc3RydWN0IHdv
cmtfc3RydWN0ICp3b3JrKQoreworCXN0cnVjdCBtaXhlcl9jb250ZXh0ICpjdHggPSBjb250YWlu
ZXJfb2Yod29yaywgc3RydWN0IG1peGVyX2NvbnRleHQsCisJCQkJCQkgd29yayk7CisJbWl4ZXJf
c2V0X2ljY19iYW5kd2lkdGgoY3R4KTsKK30KKwogc3RhdGljIHZvaWQgbWl4ZXJfYXRvbWljX2Jl
Z2luKHN0cnVjdCBleHlub3NfZHJtX2NydGMgKmNydGMpCiB7CiAJc3RydWN0IG1peGVyX2NvbnRl
eHQgKmN0eCA9IGNydGMtPmN0eDsKQEAgLTk4MCwxMiArMTA2NCwzNCBAQCBzdGF0aWMgdm9pZCBt
aXhlcl9kaXNhYmxlX3BsYW5lKHN0cnVjdCBleHlub3NfZHJtX2NydGMgKmNydGMsCiAKIHN0YXRp
YyB2b2lkIG1peGVyX2F0b21pY19mbHVzaChzdHJ1Y3QgZXh5bm9zX2RybV9jcnRjICpjcnRjKQog
ewotCXN0cnVjdCBtaXhlcl9jb250ZXh0ICptaXhlcl9jdHggPSBjcnRjLT5jdHg7CisJc3RydWN0
IG1peGVyX2NvbnRleHQgKmN0eCA9IGNydGMtPmN0eDsKKwlpbnQgYncsIHByZXZfYnc7CiAKLQlp
ZiAoIXRlc3RfYml0KE1YUl9CSVRfUE9XRVJFRCwgJm1peGVyX2N0eC0+ZmxhZ3MpKQorCWlmICgh
dGVzdF9iaXQoTVhSX0JJVF9QT1dFUkVELCAmY3R4LT5mbGFncykpCiAJCXJldHVybjsKIAotCW1p
eGVyX2VuYWJsZV9zeW5jKG1peGVyX2N0eCk7CisJLyoKKwkgKiBSZXF1ZXN0IG5lY2Vzc2FyeSBi
YW5kd2lkdGggb24gdGhlIGludGVyY29ubmVjdHMuIElmIG5ldworCSAqIGJhbmR3aWR0aCBpcyBn
cmVhdGVyIHRoYW4gY3VycmVudCB2YWx1ZSBzZXQgdGhlIG5ldyB2YWx1ZQorCSAqIGltbWVkaWF0
ZWx5LiBPdGhlcndpc2UgcmVxdWVzdCBsb3dlciBiYW5kd2lkdGggb25seSBhZnRlcgorCSAqIFZT
WU5DLCBhZnRlciB0aGUgSFcgaGFzIGFjdHVhbGx5IHN3aXRjaGVkIHRvIG5ldyB2aWRlbworCSAq
IGZyYW1lIHNldHRpbmdzLgorCSAqLworCWlmIChjdHgtPmljY19wYXRoKSB7CisJCWJ3ID0gbWl4
ZXJfZ2V0X21lbW9yeV9iYW5kd2lkdGgoY3J0Yyk7CisKKwkJbXV0ZXhfbG9jaygmY3R4LT5pY2Nf
bG9jayk7CisJCXByZXZfYncgPSBjdHgtPmljY19iYW5kd2lkdGg7CisJCWN0eC0+aWNjX2JhbmR3
aWR0aCA9IGJ3OworCQltdXRleF91bmxvY2soJmN0eC0+aWNjX2xvY2spOworCisJCWlmIChidyA+
IHByZXZfYncpCisJCQltaXhlcl9zZXRfaWNjX2JhbmR3aWR0aChjdHgpOworCQllbHNlIGlmIChi
dyA8IHByZXZfYncpCisJCQlzZXRfYml0KE1YUl9CSVRfUkVRVUVTVF9CVywgJmN0eC0+ZmxhZ3Mp
OworCX0KKworCW1peGVyX2VuYWJsZV9zeW5jKGN0eCk7CiAJZXh5bm9zX2NydGNfaGFuZGxlX2V2
ZW50KGNydGMpOwogfQogCkBAIC0xMDM2LDYgKzExNDIsMTAgQEAgc3RhdGljIHZvaWQgbWl4ZXJf
YXRvbWljX2Rpc2FibGUoc3RydWN0IGV4eW5vc19kcm1fY3J0YyAqY3J0YykKIAogCXBtX3J1bnRp
bWVfcHV0KGN0eC0+ZGV2KTsKIAorCWNhbmNlbF93b3JrX3N5bmMoJmN0eC0+d29yayk7CisJY3R4
LT5pY2NfYmFuZHdpZHRoID0gMDsKKwltaXhlcl9zZXRfaWNjX2JhbmR3aWR0aChjdHgpOworCiAJ
Y2xlYXJfYml0KE1YUl9CSVRfUE9XRVJFRCwgJmN0eC0+ZmxhZ3MpOwogfQogCkBAIC0xMjEwLDYg
KzEzMjAsNyBAQCBzdGF0aWMgdm9pZCBtaXhlcl91bmJpbmQoc3RydWN0IGRldmljZSAqZGV2LCBz
dHJ1Y3QgZGV2aWNlICptYXN0ZXIsIHZvaWQgKmRhdGEpCiB7CiAJc3RydWN0IG1peGVyX2NvbnRl
eHQgKmN0eCA9IGRldl9nZXRfZHJ2ZGF0YShkZXYpOwogCisJY2FuY2VsX3dvcmtfc3luYygmY3R4
LT53b3JrKTsKIAltaXhlcl9jdHhfcmVtb3ZlKGN0eCk7CiB9CiAKQEAgLTEyMjMsMTkgKzEzMzQs
MzMgQEAgc3RhdGljIGludCBtaXhlcl9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2
KQogCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZwZGV2LT5kZXY7CiAJY29uc3Qgc3RydWN0IG1peGVy
X2Rydl9kYXRhICpkcnY7CiAJc3RydWN0IG1peGVyX2NvbnRleHQgKmN0eDsKKwlzdHJ1Y3QgaWNj
X3BhdGggKnBhdGg7CiAJaW50IHJldDsKIAorCS8qCisJICogUmV0dXJucyBOVUxMIGlmIENPTkZJ
R19JTlRFUkNPTk5FQ1QgaXMgZGlzYWJsZWQuCisJICogTWF5IHJldHVybiBFUlJfUFRSKC1FUFJP
QkVfREVGRVIpLgorCSAqLworCXBhdGggPSBvZl9pY2NfZ2V0KGRldiwgTlVMTCk7CisJaWYgKElT
X0VSUihwYXRoKSkKKwkJcmV0dXJuIFBUUl9FUlIocGF0aCk7CisKIAljdHggPSBkZXZtX2t6YWxs
b2MoJnBkZXYtPmRldiwgc2l6ZW9mKCpjdHgpLCBHRlBfS0VSTkVMKTsKIAlpZiAoIWN0eCkgewog
CQlEUk1fREVWX0VSUk9SKGRldiwgImZhaWxlZCB0byBhbGxvYyBtaXhlciBjb250ZXh0LlxuIik7
Ci0JCXJldHVybiAtRU5PTUVNOworCQlyZXQgPSAtRU5PTUVNOworCQlnb3RvIGVycjsKIAl9CiAK
IAlkcnYgPSBvZl9kZXZpY2VfZ2V0X21hdGNoX2RhdGEoZGV2KTsKIAorCUlOSVRfV09SSygmY3R4
LT53b3JrLCBtaXhlcl9pY2NfcmVxdWVzdF9mbik7CisJbXV0ZXhfaW5pdCgmY3R4LT5pY2NfbG9j
ayk7CisKIAljdHgtPnBkZXYgPSBwZGV2OwogCWN0eC0+ZGV2ID0gZGV2OwogCWN0eC0+bXhyX3Zl
ciA9IGRydi0+dmVyc2lvbjsKKwljdHgtPmljY19wYXRoID0gcGF0aDsKIAogCWlmIChkcnYtPmlz
X3ZwX2VuYWJsZWQpCiAJCV9fc2V0X2JpdChNWFJfQklUX1ZQX0VOQUJMRUQsICZjdHgtPmZsYWdz
KTsKQEAgLTEyNDcsMTcgKzEzNzIsMjYgQEAgc3RhdGljIGludCBtaXhlcl9wcm9iZShzdHJ1Y3Qg
cGxhdGZvcm1fZGV2aWNlICpwZGV2KQogCXBtX3J1bnRpbWVfZW5hYmxlKGRldik7CiAKIAlyZXQg
PSBjb21wb25lbnRfYWRkKCZwZGV2LT5kZXYsICZtaXhlcl9jb21wb25lbnRfb3BzKTsKLQlpZiAo
cmV0KQorCWlmIChyZXQpIHsKIAkJcG1fcnVudGltZV9kaXNhYmxlKGRldik7Ci0KKwkJZ290byBl
cnI7CisJfQorCXJldHVybiAwOworZXJyOgorCWljY19wdXQocGF0aCk7CiAJcmV0dXJuIHJldDsK
IH0KIAogc3RhdGljIGludCBtaXhlcl9yZW1vdmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRl
dikKIHsKLQlwbV9ydW50aW1lX2Rpc2FibGUoJnBkZXYtPmRldik7CisJc3RydWN0IGRldmljZSAq
ZGV2ID0gJnBkZXYtPmRldjsKKwlzdHJ1Y3QgbWl4ZXJfY29udGV4dCAqY3R4ID0gZGV2X2dldF9k
cnZkYXRhKGRldik7CisKKwlwbV9ydW50aW1lX2Rpc2FibGUoZGV2KTsKKworCWNvbXBvbmVudF9k
ZWwoZGV2LCAmbWl4ZXJfY29tcG9uZW50X29wcyk7CiAKLQljb21wb25lbnRfZGVsKCZwZGV2LT5k
ZXYsICZtaXhlcl9jb21wb25lbnRfb3BzKTsKKwlpY2NfcHV0KGN0eC0+aWNjX3BhdGgpOwogCiAJ
cmV0dXJuIDA7CiB9Ci0tIAoyLjcuNAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGlu
Zm8vZHJpLWRldmVsCg==
