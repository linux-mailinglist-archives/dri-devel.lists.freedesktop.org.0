Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id D4FDBF918
	for <lists+dri-devel@lfdr.de>; Tue, 30 Apr 2019 14:40:21 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 6AEA889121;
	Tue, 30 Apr 2019 12:40:19 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wm1-x342.google.com (mail-wm1-x342.google.com
 [IPv6:2a00:1450:4864:20::342])
 by gabe.freedesktop.org (Postfix) with ESMTPS id AD38A89121
 for <dri-devel@lists.freedesktop.org>; Tue, 30 Apr 2019 12:40:17 +0000 (UTC)
Received: by mail-wm1-x342.google.com with SMTP id y197so3689860wmd.0
 for <dri-devel@lists.freedesktop.org>; Tue, 30 Apr 2019 05:40:17 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:reply-to:subject:to:cc:references:from
 :message-id:date:user-agent:mime-version:in-reply-to
 :content-transfer-encoding:content-language;
 bh=M/X7hGM2aUHvcIOvLUOEqBMSsHTupg3ILvheJ2LdR64=;
 b=V9uiT7cZK3+CO7QehtFKxExJvZNbonv6448L2qSfBsqYB7HwwACnemvHEsOp3Kr0yU
 YJEWfi8Ekw8AtOn/Gaf58MO7N33mjP8uAHB5cM9nDqtySQF9H+KnVNtNl5+5v9jHmdE/
 TMPkkVT+avfY8hwcQ/LnTeAhECnJGjwc6TgRHehv4oMjjMi/k+pMYt8C1t2lSpvn6+BC
 TcOBJAivFtY3Doqfgqp6iD+EEvsqYkD4ky2yudyijH4V9v89MkepuVGf9SRfjV0tSjfp
 G6JaWqcafe2hGHXYVUHCSKyTh6c0Kd1SkQZiPGBIeJxDpBtJbPnAwsZSz8BlnU6lxLTP
 r4TQ==
X-Gm-Message-State: APjAAAVyXmwCy+glfAM+UGk7AZemUnAE8lu6DV6QRveUosNqm0MaWWoK
 Z54WVA6Stw90rAxVDjWade4uv+AV
X-Google-Smtp-Source: APXvYqzDToGrP3YcmH10jI/c+QHRJZ1KkcEPwoj/VY4D2HkH+SsMV4ukcR5evYTVRaHeYQzkUe2fwQ==
X-Received: by 2002:a1c:c8:: with SMTP id 191mr2973319wma.44.1556628016092;
 Tue, 30 Apr 2019 05:40:16 -0700 (PDT)
Received: from ?IPv6:2a02:908:1252:fb60:be8a:bd56:1f94:86e7?
 ([2a02:908:1252:fb60:be8a:bd56:1f94:86e7])
 by smtp.gmail.com with ESMTPSA id s132sm3389843wms.10.2019.04.30.05.40.14
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Tue, 30 Apr 2019 05:40:14 -0700 (PDT)
Subject: Re: [PATCH 01/12] dma-buf: add struct dma_buf_attach_info
To: Daniel Vetter <daniel@ffwll.ch>
References: <20190426123638.40221-1-christian.koenig@amd.com>
 <20190429082400.GK3271@phenom.ffwll.local>
From: =?UTF-8?Q?Christian_K=c3=b6nig?= <ckoenig.leichtzumerken@gmail.com>
Message-ID: <b318b1a1-45f3-8aa0-23fa-9fa3d1e84f46@gmail.com>
Date: Tue, 30 Apr 2019 14:40:13 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.6.1
MIME-Version: 1.0
In-Reply-To: <20190429082400.GK3271@phenom.ffwll.local>
Content-Language: en-US
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=reply-to:subject:to:cc:references:from:message-id:date:user-agent
 :mime-version:in-reply-to:content-transfer-encoding:content-language;
 bh=M/X7hGM2aUHvcIOvLUOEqBMSsHTupg3ILvheJ2LdR64=;
 b=JqBiZRLWElNMi0O0wb+1FP68T0XTfw60yHqXMcmISNyX4HqsogOdvVZIdTCepo+3Jz
 hKmWeHcrXJwl7q/EuqlDrFMNKqXblF7Bo9HAjGjyucHSFIv1fFr8ZsJWlwVQ0JOGb0JK
 mv94V5nDRMl1WpJxLSI1OYizTqcpetIsuXufVNE2m2aPaSpnalULojGL+h8AKKpysNjp
 HeQoU3hQyONZjB3MAaJz5BrkwcPNGxDq1FKZUqviAS+kMMMdaeLuCJcS18alWIs0wy59
 HkvN1eSZodJWKEFKoG/PsPkkveWhJR3uOL99hm8ObBgBoRHxuSGZpA+cZp2VaseHEx+o
 Tjkw==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Reply-To: christian.koenig@amd.com
Cc: dri-devel@lists.freedesktop.org
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QW0gMjkuMDQuMTkgdW0gMTA6MjQgc2NocmllYiBEYW5pZWwgVmV0dGVyOgo+IE9uIEZyaSwgQXBy
IDI2LCAyMDE5IGF0IDAyOjM2OjI3UE0gKzAyMDAsIENocmlzdGlhbiBLw7ZuaWcgd3JvdGU6Cj4+
IEFkZCBhIHN0cnVjdHVyZSBmb3IgdGhlIHBhcmFtZXRlcnMgb2YgZG1hX2J1Zl9hdHRhY2gsIHRo
aXMgbWFrZXMgaXQgbXVjaCBlYXNpZXIKPj4gdG8gYWRkIG5ldyBwYXJhbWV0ZXJzIGxhdGVyIG9u
Lgo+Pgo+PiBTaWduZWQtb2ZmLWJ5OiBDaHJpc3RpYW4gS8O2bmlnIDxjaHJpc3RpYW4ua29lbmln
QGFtZC5jb20+Cj4+IC0tLQo+PiAgIGRyaXZlcnMvZG1hLWJ1Zi9kbWEtYnVmLmMgICAgICAgICAg
ICAgICAgICAgICAgIHwgMTMgKysrKysrKy0tLS0tLQo+PiAgIGRyaXZlcnMvZ3B1L2RybS9hcm1h
ZGEvYXJtYWRhX2dlbS5jICAgICAgICAgICAgIHwgIDYgKysrKystCj4+ICAgZHJpdmVycy9ncHUv
ZHJtL2RybV9wcmltZS5jICAgICAgICAgICAgICAgICAgICAgfCAgNiArKysrKy0KPj4gICBkcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbV9kbWFidWYuYyAgICAgICAgICB8ICA2ICsrKysrLQo+
IG9tYXBkcm0gc2VlbXMgdG8gYmUgbWlzc2luZy4KPgo+PiAgIGRyaXZlcnMvZ3B1L2RybS90ZWdy
YS9nZW0uYyAgICAgICAgICAgICAgICAgICAgIHwgIDYgKysrKystCj4+ICAgZHJpdmVycy9ncHUv
ZHJtL3VkbC91ZGxfZG1hYnVmLmMgICAgICAgICAgICAgICAgfCAgNiArKysrKy0KPj4gICAuLi4v
Y29tbW9uL3ZpZGVvYnVmMi92aWRlb2J1ZjItZG1hLWNvbnRpZy5jICAgICB8ICA2ICsrKysrLQo+
PiAgIC4uLi9tZWRpYS9jb21tb24vdmlkZW9idWYyL3ZpZGVvYnVmMi1kbWEtc2cuYyAgIHwgIDYg
KysrKystCj4gdmlkZW9idWYyLWRtYS1zZyBzZWVtcyB0byBiZSBtaXNzaW5nLgo+Cj4+ICAgZHJp
dmVycy9zdGFnaW5nL21lZGlhL3RlZ3JhLXZkZS90ZWdyYS12ZGUuYyAgICAgfCAgNiArKysrKy0K
PiBmYXN0cnBjIGFuZCBnbnRkZXYtZG1hYnVmIGFsc28gbWlzc2luZy4KPgo+IEkgZ3Vlc3MgYWxs
IGp1c3QgcmViYXNlIGZhbGxvdXQuIFdpdGggdGhvc2UgYWxsIGNvbXBpbGluZzoKPgo+IFJldmll
d2VkLWJ5OiBEYW5pZWwgVmV0dGVyIDxkYW5pZWwudmV0dGVyQGZmd2xsLmNoPgoKVGhhbmtzLgoK
Pgo+IFdvdWxkIGFsc28gYmUgZ29vZCB0byBjYzogZXZlcnlvbmUgb24gdGhlIG5leHQgcm91bmQg
cGVyCj4gZ2V0X21haW50ZWluZXJzLnBsIGZvciB0aGlzIHBhdGNoLgoKQWxsIGZpeGVkIGFuZCBz
ZW5kIG91dCwgbGV0J3Mgc2VlIGlmIEkgZ2V0IGFueSByZXNwb25zZS4KCkNocmlzdGlhbi4KCj4g
LURhbmllbAo+Cj4KPj4gICBpbmNsdWRlL2xpbnV4L2RtYS1idWYuaCAgICAgICAgICAgICAgICAg
ICAgICAgICB8IDE3ICsrKysrKysrKysrKysrKy0tCj4+ICAgMTAgZmlsZXMgY2hhbmdlZCwgNjIg
aW5zZXJ0aW9ucygrKSwgMTYgZGVsZXRpb25zKC0pCj4+Cj4+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2RtYS1idWYvZG1hLWJ1Zi5jIGIvZHJpdmVycy9kbWEtYnVmL2RtYS1idWYuYwo+PiBpbmRleCA3
Yzg1ODAyMGQxNGIuLjUwYjRjNmFmMDRjNyAxMDA2NDQKPj4gLS0tIGEvZHJpdmVycy9kbWEtYnVm
L2RtYS1idWYuYwo+PiArKysgYi9kcml2ZXJzL2RtYS1idWYvZG1hLWJ1Zi5jCj4+IEBAIC01MzIs
OCArNTMyLDkgQEAgRVhQT1JUX1NZTUJPTF9HUEwoZG1hX2J1Zl9wdXQpOwo+PiAgIC8qKgo+PiAg
ICAqIGRtYV9idWZfYXR0YWNoIC0gQWRkIHRoZSBkZXZpY2UgdG8gZG1hX2J1ZidzIGF0dGFjaG1l
bnRzIGxpc3Q7IG9wdGlvbmFsbHksCj4+ICAgICogY2FsbHMgYXR0YWNoKCkgb2YgZG1hX2J1Zl9v
cHMgdG8gYWxsb3cgZGV2aWNlLXNwZWNpZmljIGF0dGFjaCBmdW5jdGlvbmFsaXR5Cj4+IC0gKiBA
ZG1hYnVmOglbaW5dCWJ1ZmZlciB0byBhdHRhY2ggZGV2aWNlIHRvLgo+PiAtICogQGRldjoJW2lu
XQlkZXZpY2UgdG8gYmUgYXR0YWNoZWQuCj4+ICsgKiBAaW5mbzoJW2luXQlob2xkcyBhbGwgdGhl
IGF0dGFjaCByZWxhdGVkIGluZm9ybWF0aW9uIHByb3ZpZGVkCj4+ICsgKgkJCWJ5IHRoZSBpbXBv
cnRlci4gc2VlICZzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2hfaW5mbwo+PiArICoJCQlmb3IgZnVydGhl
ciBkZXRhaWxzLgo+PiAgICAqCj4+ICAgICogUmV0dXJucyBzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2ht
ZW50IHBvaW50ZXIgZm9yIHRoaXMgYXR0YWNobWVudC4gQXR0YWNobWVudHMKPj4gICAgKiBtdXN0
IGJlIGNsZWFuZWQgdXAgYnkgY2FsbGluZyBkbWFfYnVmX2RldGFjaCgpLgo+PiBAQCAtNTQ3LDIw
ICs1NDgsMjAgQEAgRVhQT1JUX1NZTUJPTF9HUEwoZG1hX2J1Zl9wdXQpOwo+PiAgICAqIGFjY2Vz
c2libGUgdG8gQGRldiwgYW5kIGNhbm5vdCBiZSBtb3ZlZCB0byBhIG1vcmUgc3VpdGFibGUgcGxh
Y2UuIFRoaXMgaXMKPj4gICAgKiBpbmRpY2F0ZWQgd2l0aCB0aGUgZXJyb3IgY29kZSAtRUJVU1ku
Cj4+ICAgICovCj4+IC1zdHJ1Y3QgZG1hX2J1Zl9hdHRhY2htZW50ICpkbWFfYnVmX2F0dGFjaChz
dHJ1Y3QgZG1hX2J1ZiAqZG1hYnVmLAo+PiAtCQkJCQkgIHN0cnVjdCBkZXZpY2UgKmRldikKPj4g
K3N0cnVjdCBkbWFfYnVmX2F0dGFjaG1lbnQgKmRtYV9idWZfYXR0YWNoKGNvbnN0IHN0cnVjdCBk
bWFfYnVmX2F0dGFjaF9pbmZvICppbmZvKQo+PiAgIHsKPj4gKwlzdHJ1Y3QgZG1hX2J1ZiAqZG1h
YnVmID0gaW5mby0+ZG1hYnVmOwo+PiAgIAlzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2htZW50ICphdHRh
Y2g7Cj4+ICAgCWludCByZXQ7Cj4+ICAgCj4+IC0JaWYgKFdBUk5fT04oIWRtYWJ1ZiB8fCAhZGV2
KSkKPj4gKwlpZiAoV0FSTl9PTighZG1hYnVmIHx8ICFpbmZvLT5kZXYpKQo+PiAgIAkJcmV0dXJu
IEVSUl9QVFIoLUVJTlZBTCk7Cj4+ICAgCj4+ICAgCWF0dGFjaCA9IGt6YWxsb2Moc2l6ZW9mKCph
dHRhY2gpLCBHRlBfS0VSTkVMKTsKPj4gICAJaWYgKCFhdHRhY2gpCj4+ICAgCQlyZXR1cm4gRVJS
X1BUUigtRU5PTUVNKTsKPj4gICAKPj4gLQlhdHRhY2gtPmRldiA9IGRldjsKPj4gKwlhdHRhY2gt
PmRldiA9IGluZm8tPmRldjsKPj4gICAJYXR0YWNoLT5kbWFidWYgPSBkbWFidWY7Cj4+ICAgCj4+
ICAgCW11dGV4X2xvY2soJmRtYWJ1Zi0+bG9jayk7Cj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vYXJtYWRhL2FybWFkYV9nZW0uYyBiL2RyaXZlcnMvZ3B1L2RybS9hcm1hZGEvYXJtYWRh
X2dlbS5jCj4+IGluZGV4IDY0MmQwZTcwZDBmOC4uMTljNDc4MjEwMzJmIDEwMDY0NAo+PiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vYXJtYWRhL2FybWFkYV9nZW0uYwo+PiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vYXJtYWRhL2FybWFkYV9nZW0uYwo+PiBAQCAtNTAxLDYgKzUwMSwxMCBAQCBhcm1hZGFf
Z2VtX3ByaW1lX2V4cG9ydChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCBzdHJ1Y3QgZHJtX2dlbV9v
YmplY3QgKm9iaiwKPj4gICBzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKgo+PiAgIGFybWFkYV9nZW1f
cHJpbWVfaW1wb3J0KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHN0cnVjdCBkbWFfYnVmICpidWYp
Cj4+ICAgewo+PiArCXN0cnVjdCBkbWFfYnVmX2F0dGFjaF9pbmZvIGF0dGFjaF9pbmZvID0gewo+
PiArCQkuZGV2ID0gZGV2LT5kZXYsCj4+ICsJCS5kbWFidWYgPSBidWYKPj4gKwl9Owo+PiAgIAlz
dHJ1Y3QgZG1hX2J1Zl9hdHRhY2htZW50ICphdHRhY2g7Cj4+ICAgCXN0cnVjdCBhcm1hZGFfZ2Vt
X29iamVjdCAqZG9iajsKPj4gICAKPj4gQEAgLTUxNiw3ICs1MjAsNyBAQCBhcm1hZGFfZ2VtX3By
aW1lX2ltcG9ydChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCBzdHJ1Y3QgZG1hX2J1ZiAqYnVmKQo+
PiAgIAkJfQo+PiAgIAl9Cj4+ICAgCj4+IC0JYXR0YWNoID0gZG1hX2J1Zl9hdHRhY2goYnVmLCBk
ZXYtPmRldik7Cj4+ICsJYXR0YWNoID0gZG1hX2J1Zl9hdHRhY2goJmF0dGFjaF9pbmZvKTsKPj4g
ICAJaWYgKElTX0VSUihhdHRhY2gpKQo+PiAgIAkJcmV0dXJuIEVSUl9DQVNUKGF0dGFjaCk7Cj4+
ICAgCj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vZHJtX3ByaW1lLmMgYi9kcml2ZXJz
L2dwdS9kcm0vZHJtX3ByaW1lLmMKPj4gaW5kZXggMjMxZTNmNmQ1ZjQxLi4xZmFkZjVkNWVkMzMg
MTAwNjQ0Cj4+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fcHJpbWUuYwo+PiArKysgYi9kcml2
ZXJzL2dwdS9kcm0vZHJtX3ByaW1lLmMKPj4gQEAgLTcwOSw2ICs3MDksMTAgQEAgc3RydWN0IGRy
bV9nZW1fb2JqZWN0ICpkcm1fZ2VtX3ByaW1lX2ltcG9ydF9kZXYoc3RydWN0IGRybV9kZXZpY2Ug
KmRldiwKPj4gICAJCQkJCSAgICBzdHJ1Y3QgZG1hX2J1ZiAqZG1hX2J1ZiwKPj4gICAJCQkJCSAg
ICBzdHJ1Y3QgZGV2aWNlICphdHRhY2hfZGV2KQo+PiAgIHsKPj4gKwlzdHJ1Y3QgZG1hX2J1Zl9h
dHRhY2hfaW5mbyBhdHRhY2hfaW5mbyA9IHsKPj4gKwkJLmRldiA9IGF0dGFjaF9kZXYsCj4+ICsJ
CS5kbWFidWYgPSBkbWFfYnVmCj4+ICsJfTsKPj4gICAJc3RydWN0IGRtYV9idWZfYXR0YWNobWVu
dCAqYXR0YWNoOwo+PiAgIAlzdHJ1Y3Qgc2dfdGFibGUgKnNndDsKPj4gICAJc3RydWN0IGRybV9n
ZW1fb2JqZWN0ICpvYmo7Cj4+IEBAIC03MjksNyArNzMzLDcgQEAgc3RydWN0IGRybV9nZW1fb2Jq
ZWN0ICpkcm1fZ2VtX3ByaW1lX2ltcG9ydF9kZXYoc3RydWN0IGRybV9kZXZpY2UgKmRldiwKPj4g
ICAJaWYgKCFkZXYtPmRyaXZlci0+Z2VtX3ByaW1lX2ltcG9ydF9zZ190YWJsZSkKPj4gICAJCXJl
dHVybiBFUlJfUFRSKC1FSU5WQUwpOwo+PiAgIAo+PiAtCWF0dGFjaCA9IGRtYV9idWZfYXR0YWNo
KGRtYV9idWYsIGF0dGFjaF9kZXYpOwo+PiArCWF0dGFjaCA9IGRtYV9idWZfYXR0YWNoKCZhdHRh
Y2hfaW5mbyk7Cj4+ICAgCWlmIChJU19FUlIoYXR0YWNoKSkKPj4gICAJCXJldHVybiBFUlJfQ0FT
VChhdHRhY2gpOwo+PiAgIAo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9nZW1fZG1hYnVmLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbV9kbWFidWYuYwo+
PiBpbmRleCA4MmUyY2ExN2E0NDEuLmFhN2Y2ODViZDZjYSAxMDA2NDQKPj4gLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZG1hYnVmLmMKPj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9nZW1fZG1hYnVmLmMKPj4gQEAgLTI3Nyw2ICsyNzcsMTAgQEAgc3RhdGljIGNv
bnN0IHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0X29wcyBpOTE1X2dlbV9vYmplY3RfZG1hYnVm
X29wcyA9IHsKPj4gICBzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKmk5MTVfZ2VtX3ByaW1lX2ltcG9y
dChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LAo+PiAgIAkJCQkJICAgICBzdHJ1Y3QgZG1hX2J1ZiAq
ZG1hX2J1ZikKPj4gICB7Cj4+ICsJc3RydWN0IGRtYV9idWZfYXR0YWNoX2luZm8gYXR0YWNoX2lu
Zm8gPSB7Cj4+ICsJCS5kZXYgPSBkZXYtPmRldiwKPj4gKwkJLmRtYWJ1ZiA9IGRtYV9idWYKPj4g
Kwl9Owo+PiAgIAlzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2htZW50ICphdHRhY2g7Cj4+ICAgCXN0cnVj
dCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmo7Cj4+ICAgCWludCByZXQ7Cj4+IEBAIC0yOTUsNyAr
Mjk5LDcgQEAgc3RydWN0IGRybV9nZW1fb2JqZWN0ICppOTE1X2dlbV9wcmltZV9pbXBvcnQoc3Ry
dWN0IGRybV9kZXZpY2UgKmRldiwKPj4gICAJfQo+PiAgIAo+PiAgIAkvKiBuZWVkIHRvIGF0dGFj
aCAqLwo+PiAtCWF0dGFjaCA9IGRtYV9idWZfYXR0YWNoKGRtYV9idWYsIGRldi0+ZGV2KTsKPj4g
KwlhdHRhY2ggPSBkbWFfYnVmX2F0dGFjaCgmYXR0YWNoX2luZm8pOwo+PiAgIAlpZiAoSVNfRVJS
KGF0dGFjaCkpCj4+ICAgCQlyZXR1cm4gRVJSX0NBU1QoYXR0YWNoKTsKPj4gICAKPj4gZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS90ZWdyYS9nZW0uYyBiL2RyaXZlcnMvZ3B1L2RybS90ZWdy
YS9nZW0uYwo+PiBpbmRleCA0ZjgwMTAwZmY1ZjMuLjhlNmI2Yzg3OWFkZCAxMDA2NDQKPj4gLS0t
IGEvZHJpdmVycy9ncHUvZHJtL3RlZ3JhL2dlbS5jCj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS90
ZWdyYS9nZW0uYwo+PiBAQCAtMzMyLDYgKzMzMiwxMCBAQCBzdHJ1Y3QgdGVncmFfYm8gKnRlZ3Jh
X2JvX2NyZWF0ZV93aXRoX2hhbmRsZShzdHJ1Y3QgZHJtX2ZpbGUgKmZpbGUsCj4+ICAgc3RhdGlj
IHN0cnVjdCB0ZWdyYV9ibyAqdGVncmFfYm9faW1wb3J0KHN0cnVjdCBkcm1fZGV2aWNlICpkcm0s
Cj4+ICAgCQkJCQlzdHJ1Y3QgZG1hX2J1ZiAqYnVmKQo+PiAgIHsKPj4gKwlzdHJ1Y3QgZG1hX2J1
Zl9hdHRhY2hfaW5mbyBhdHRhY2hfaW5mbyA9IHsKPj4gKwkJLmRldiA9IGRybS0+ZGV2LAo+PiAr
CQkuZG1hYnVmID0gYnVmCj4+ICsJfTsKPj4gICAJc3RydWN0IHRlZ3JhX2RybSAqdGVncmEgPSBk
cm0tPmRldl9wcml2YXRlOwo+PiAgIAlzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2htZW50ICphdHRhY2g7
Cj4+ICAgCXN0cnVjdCB0ZWdyYV9ibyAqYm87Cj4+IEBAIC0zNDEsNyArMzQ1LDcgQEAgc3RhdGlj
IHN0cnVjdCB0ZWdyYV9ibyAqdGVncmFfYm9faW1wb3J0KHN0cnVjdCBkcm1fZGV2aWNlICpkcm0s
Cj4+ICAgCWlmIChJU19FUlIoYm8pKQo+PiAgIAkJcmV0dXJuIGJvOwo+PiAgIAo+PiAtCWF0dGFj
aCA9IGRtYV9idWZfYXR0YWNoKGJ1ZiwgZHJtLT5kZXYpOwo+PiArCWF0dGFjaCA9IGRtYV9idWZf
YXR0YWNoKCZhdHRhY2hfaW5mbyk7Cj4+ICAgCWlmIChJU19FUlIoYXR0YWNoKSkgewo+PiAgIAkJ
ZXJyID0gUFRSX0VSUihhdHRhY2gpOwo+PiAgIAkJZ290byBmcmVlOwo+PiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL3VkbC91ZGxfZG1hYnVmLmMgYi9kcml2ZXJzL2dwdS9kcm0vdWRsL3Vk
bF9kbWFidWYuYwo+PiBpbmRleCA1NTZmNjI2NjJhYTkuLjg2YjkyOGY5NzQyZiAxMDA2NDQKPj4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL3VkbC91ZGxfZG1hYnVmLmMKPj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL3VkbC91ZGxfZG1hYnVmLmMKPj4gQEAgLTIyNiw2ICsyMjYsMTAgQEAgc3RhdGljIGlu
dCB1ZGxfcHJpbWVfY3JlYXRlKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCj4+ICAgc3RydWN0IGRy
bV9nZW1fb2JqZWN0ICp1ZGxfZ2VtX3ByaW1lX2ltcG9ydChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2
LAo+PiAgIAkJCQlzdHJ1Y3QgZG1hX2J1ZiAqZG1hX2J1ZikKPj4gICB7Cj4+ICsJc3RydWN0IGRt
YV9idWZfYXR0YWNoX2luZm8gYXR0YWNoX2luZm8gPSB7Cj4+ICsJCS5kZXYgPSBkZXYtPmRldiwK
Pj4gKwkJLmRtYWJ1ZiA9IGRtYV9idWYKPj4gKwl9Owo+PiAgIAlzdHJ1Y3QgZG1hX2J1Zl9hdHRh
Y2htZW50ICphdHRhY2g7Cj4+ICAgCXN0cnVjdCBzZ190YWJsZSAqc2c7Cj4+ICAgCXN0cnVjdCB1
ZGxfZ2VtX29iamVjdCAqdW9iajsKPj4gQEAgLTIzMyw3ICsyMzcsNyBAQCBzdHJ1Y3QgZHJtX2dl
bV9vYmplY3QgKnVkbF9nZW1fcHJpbWVfaW1wb3J0KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCj4+
ICAgCj4+ICAgCS8qIG5lZWQgdG8gYXR0YWNoICovCj4+ICAgCWdldF9kZXZpY2UoZGV2LT5kZXYp
Owo+PiAtCWF0dGFjaCA9IGRtYV9idWZfYXR0YWNoKGRtYV9idWYsIGRldi0+ZGV2KTsKPj4gKwlh
dHRhY2ggPSBkbWFfYnVmX2F0dGFjaCgmYXR0YWNoX2luZm8pOwo+PiAgIAlpZiAoSVNfRVJSKGF0
dGFjaCkpIHsKPj4gICAJCXB1dF9kZXZpY2UoZGV2LT5kZXYpOwo+PiAgIAkJcmV0dXJuIEVSUl9D
QVNUKGF0dGFjaCk7Cj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL21lZGlhL2NvbW1vbi92aWRlb2J1
ZjIvdmlkZW9idWYyLWRtYS1jb250aWcuYyBiL2RyaXZlcnMvbWVkaWEvY29tbW9uL3ZpZGVvYnVm
Mi92aWRlb2J1ZjItZG1hLWNvbnRpZy5jCj4+IGluZGV4IGFmZjBhYjdiZjgzZC4uMWYyNjg3YjVl
YjBlIDEwMDY0NAo+PiAtLS0gYS9kcml2ZXJzL21lZGlhL2NvbW1vbi92aWRlb2J1ZjIvdmlkZW9i
dWYyLWRtYS1jb250aWcuYwo+PiArKysgYi9kcml2ZXJzL21lZGlhL2NvbW1vbi92aWRlb2J1ZjIv
dmlkZW9idWYyLWRtYS1jb250aWcuYwo+PiBAQCAtNjc2LDYgKzY3NiwxMCBAQCBzdGF0aWMgdm9p
ZCB2YjJfZGNfZGV0YWNoX2RtYWJ1Zih2b2lkICptZW1fcHJpdikKPj4gICBzdGF0aWMgdm9pZCAq
dmIyX2RjX2F0dGFjaF9kbWFidWYoc3RydWN0IGRldmljZSAqZGV2LCBzdHJ1Y3QgZG1hX2J1ZiAq
ZGJ1ZiwKPj4gICAJdW5zaWduZWQgbG9uZyBzaXplLCBlbnVtIGRtYV9kYXRhX2RpcmVjdGlvbiBk
bWFfZGlyKQo+PiAgIHsKPj4gKwlzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2hfaW5mbyBhdHRhY2hfaW5m
byA9IHsKPj4gKwkJLmRldiA9IGRldiwKPj4gKwkJLmRtYWJ1ZiA9IGRidWYKPj4gKwl9Owo+PiAg
IAlzdHJ1Y3QgdmIyX2RjX2J1ZiAqYnVmOwo+PiAgIAlzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2htZW50
ICpkYmE7Cj4+ICAgCj4+IEBAIC02OTEsNyArNjk1LDcgQEAgc3RhdGljIHZvaWQgKnZiMl9kY19h
dHRhY2hfZG1hYnVmKHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGRtYV9idWYgKmRidWYsCj4+
ICAgCj4+ICAgCWJ1Zi0+ZGV2ID0gZGV2Owo+PiAgIAkvKiBjcmVhdGUgYXR0YWNobWVudCBmb3Ig
dGhlIGRtYWJ1ZiB3aXRoIHRoZSB1c2VyIGRldmljZSAqLwo+PiAtCWRiYSA9IGRtYV9idWZfYXR0
YWNoKGRidWYsIGJ1Zi0+ZGV2KTsKPj4gKwlkYmEgPSBkbWFfYnVmX2F0dGFjaCgmYXR0YWNoX2lu
Zm8pOwo+PiAgIAlpZiAoSVNfRVJSKGRiYSkpIHsKPj4gICAJCXByX2VycigiZmFpbGVkIHRvIGF0
dGFjaCBkbWFidWZcbiIpOwo+PiAgIAkJa2ZyZWUoYnVmKTsKPj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvbWVkaWEvY29tbW9uL3ZpZGVvYnVmMi92aWRlb2J1ZjItZG1hLXNnLmMgYi9kcml2ZXJzL21l
ZGlhL2NvbW1vbi92aWRlb2J1ZjIvdmlkZW9idWYyLWRtYS1zZy5jCj4+IGluZGV4IDAxNWU3Mzcw
OTVjZC4uY2JkNjI2ZDIzOTNhIDEwMDY0NAo+PiAtLS0gYS9kcml2ZXJzL21lZGlhL2NvbW1vbi92
aWRlb2J1ZjIvdmlkZW9idWYyLWRtYS1zZy5jCj4+ICsrKyBiL2RyaXZlcnMvbWVkaWEvY29tbW9u
L3ZpZGVvYnVmMi92aWRlb2J1ZjItZG1hLXNnLmMKPj4gQEAgLTYwOCw2ICs2MDgsMTAgQEAgc3Rh
dGljIHZvaWQgdmIyX2RtYV9zZ19kZXRhY2hfZG1hYnVmKHZvaWQgKm1lbV9wcml2KQo+PiAgIHN0
YXRpYyB2b2lkICp2YjJfZG1hX3NnX2F0dGFjaF9kbWFidWYoc3RydWN0IGRldmljZSAqZGV2LCBz
dHJ1Y3QgZG1hX2J1ZiAqZGJ1ZiwKPj4gICAJdW5zaWduZWQgbG9uZyBzaXplLCBlbnVtIGRtYV9k
YXRhX2RpcmVjdGlvbiBkbWFfZGlyKQo+PiAgIHsKPj4gKwlzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2hf
aW5mbyBhdHRhY2hfaW5mbyA9IHsKPj4gKwkJLmRldiA9IGRldiwKPj4gKwkJLmRtYWJ1ZiA9IGRi
dWYKPj4gKwl9Owo+PiAgIAlzdHJ1Y3QgdmIyX2RtYV9zZ19idWYgKmJ1ZjsKPj4gICAJc3RydWN0
IGRtYV9idWZfYXR0YWNobWVudCAqZGJhOwo+PiAgIAo+PiBAQCAtNjIzLDcgKzYyNyw3IEBAIHN0
YXRpYyB2b2lkICp2YjJfZG1hX3NnX2F0dGFjaF9kbWFidWYoc3RydWN0IGRldmljZSAqZGV2LCBz
dHJ1Y3QgZG1hX2J1ZiAqZGJ1ZiwKPj4gICAKPj4gICAJYnVmLT5kZXYgPSBkZXY7Cj4+ICAgCS8q
IGNyZWF0ZSBhdHRhY2htZW50IGZvciB0aGUgZG1hYnVmIHdpdGggdGhlIHVzZXIgZGV2aWNlICov
Cj4+IC0JZGJhID0gZG1hX2J1Zl9hdHRhY2goZGJ1ZiwgYnVmLT5kZXYpOwo+PiArCWRiYSA9IGRt
YV9idWZfYXR0YWNoKCZhdHRhY2hfaW5mbyk7Cj4+ICAgCWlmIChJU19FUlIoZGJhKSkgewo+PiAg
IAkJcHJfZXJyKCJmYWlsZWQgdG8gYXR0YWNoIGRtYWJ1ZlxuIik7Cj4+ICAgCQlrZnJlZShidWYp
Owo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9zdGFnaW5nL21lZGlhL3RlZ3JhLXZkZS90ZWdyYS12
ZGUuYyBiL2RyaXZlcnMvc3RhZ2luZy9tZWRpYS90ZWdyYS12ZGUvdGVncmEtdmRlLmMKPj4gaW5k
ZXggYWE2YzZiYmE5NjFlLi41YTEwYzFmYWNjMjcgMTAwNjQ0Cj4+IC0tLSBhL2RyaXZlcnMvc3Rh
Z2luZy9tZWRpYS90ZWdyYS12ZGUvdGVncmEtdmRlLmMKPj4gKysrIGIvZHJpdmVycy9zdGFnaW5n
L21lZGlhL3RlZ3JhLXZkZS90ZWdyYS12ZGUuYwo+PiBAQCAtNTY4LDYgKzU2OCwxMCBAQCBzdGF0
aWMgaW50IHRlZ3JhX3ZkZV9hdHRhY2hfZG1hYnVmKHN0cnVjdCBkZXZpY2UgKmRldiwKPj4gICAJ
CQkJICAgc2l6ZV90ICpzaXplLAo+PiAgIAkJCQkgICBlbnVtIGRtYV9kYXRhX2RpcmVjdGlvbiBk
bWFfZGlyKQo+PiAgIHsKPj4gKwlzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2hfaW5mbyBhdHRhY2hfaW5m
byA9IHsKPj4gKwkJLmRldiA9IGRldiwKPj4gKwkJLmRtYWJ1ZiA9IGRtYWJ1Zgo+PiArCX07Cj4+
ICAgCXN0cnVjdCBkbWFfYnVmX2F0dGFjaG1lbnQgKmF0dGFjaG1lbnQ7Cj4+ICAgCXN0cnVjdCBk
bWFfYnVmICpkbWFidWY7Cj4+ICAgCXN0cnVjdCBzZ190YWJsZSAqc2d0Owo+PiBAQCAtNTkxLDcg
KzU5NSw3IEBAIHN0YXRpYyBpbnQgdGVncmFfdmRlX2F0dGFjaF9kbWFidWYoc3RydWN0IGRldmlj
ZSAqZGV2LAo+PiAgIAkJcmV0dXJuIC1FSU5WQUw7Cj4+ICAgCX0KPj4gICAKPj4gLQlhdHRhY2ht
ZW50ID0gZG1hX2J1Zl9hdHRhY2goZG1hYnVmLCBkZXYpOwo+PiArCWF0dGFjaG1lbnQgPSBkbWFf
YnVmX2F0dGFjaCgmYXR0YWNoX2luZm8pOwo+PiAgIAlpZiAoSVNfRVJSKGF0dGFjaG1lbnQpKSB7
Cj4+ICAgCQlkZXZfZXJyKGRldiwgIkZhaWxlZCB0byBhdHRhY2ggZG1hYnVmXG4iKTsKPj4gICAJ
CWVyciA9IFBUUl9FUlIoYXR0YWNobWVudCk7Cj4+IGRpZmYgLS1naXQgYS9pbmNsdWRlL2xpbnV4
L2RtYS1idWYuaCBiL2luY2x1ZGUvbGludXgvZG1hLWJ1Zi5oCj4+IGluZGV4IDU4NzI1Zjg5MGI1
Yi4uMmMzMTJkZmQzMWExIDEwMDY0NAo+PiAtLS0gYS9pbmNsdWRlL2xpbnV4L2RtYS1idWYuaAo+
PiArKysgYi9pbmNsdWRlL2xpbnV4L2RtYS1idWYuaAo+PiBAQCAtMzU5LDYgKzM1OSwxOSBAQCBz
dHJ1Y3QgZG1hX2J1Zl9leHBvcnRfaW5mbyB7Cj4+ICAgCXN0cnVjdCBkbWFfYnVmX2V4cG9ydF9p
bmZvIG5hbWUgPSB7IC5leHBfbmFtZSA9IEtCVUlMRF9NT0ROQU1FLCBcCj4+ICAgCQkJCQkgLm93
bmVyID0gVEhJU19NT0RVTEUgfQo+PiAgIAo+PiArLyoqCj4+ICsgKiBzdHJ1Y3QgZG1hX2J1Zl9h
dHRhY2hfaW5mbyAtIGhvbGRzIGluZm9ybWF0aW9uIG5lZWRlZCB0byBhdHRhY2ggdG8gYSBkbWFf
YnVmCj4+ICsgKiBAZG1hYnVmOgl0aGUgZXhwb3J0ZWQgZG1hX2J1Zgo+PiArICogQGRldjoJdGhl
IGRldmljZSB3aGljaCB3YW50cyB0byBpbXBvcnQgdGhlIGF0dGFjaG1lbnQKPj4gKyAqCj4+ICsg
KiBUaGlzIHN0cnVjdHVyZSBob2xkcyB0aGUgaW5mb3JtYXRpb24gcmVxdWlyZWQgdG8gYXR0YWNo
IHRvIGEgYnVmZmVyLiBVc2VkCj4+ICsgKiB3aXRoIGRtYV9idWZfYXR0YWNoKCkgb25seS4KPj4g
KyAqLwo+PiArc3RydWN0IGRtYV9idWZfYXR0YWNoX2luZm8gewo+PiArCXN0cnVjdCBkbWFfYnVm
ICpkbWFidWY7Cj4+ICsJc3RydWN0IGRldmljZSAqZGV2Owo+PiArfTsKPj4gKwo+PiAgIC8qKgo+
PiAgICAqIGdldF9kbWFfYnVmIC0gY29udmVuaWVuY2Ugd3JhcHBlciBmb3IgZ2V0X2ZpbGUuCj4+
ICAgICogQGRtYWJ1ZjoJW2luXQlwb2ludGVyIHRvIGRtYV9idWYKPj4gQEAgLTM3Myw4ICszODYs
OCBAQCBzdGF0aWMgaW5saW5lIHZvaWQgZ2V0X2RtYV9idWYoc3RydWN0IGRtYV9idWYgKmRtYWJ1
ZikKPj4gICAJZ2V0X2ZpbGUoZG1hYnVmLT5maWxlKTsKPj4gICB9Cj4+ICAgCj4+IC1zdHJ1Y3Qg
ZG1hX2J1Zl9hdHRhY2htZW50ICpkbWFfYnVmX2F0dGFjaChzdHJ1Y3QgZG1hX2J1ZiAqZG1hYnVm
LAo+PiAtCQkJCQkJCXN0cnVjdCBkZXZpY2UgKmRldik7Cj4+ICtzdHJ1Y3QgZG1hX2J1Zl9hdHRh
Y2htZW50ICoKPj4gK2RtYV9idWZfYXR0YWNoKGNvbnN0IHN0cnVjdCBkbWFfYnVmX2F0dGFjaF9p
bmZvICppbmZvKTsKPj4gICB2b2lkIGRtYV9idWZfZGV0YWNoKHN0cnVjdCBkbWFfYnVmICpkbWFi
dWYsCj4+ICAgCQkJCXN0cnVjdCBkbWFfYnVmX2F0dGFjaG1lbnQgKmRtYWJ1Zl9hdHRhY2gpOwo+
PiAgIAo+PiAtLSAKPj4gMi4xNy4xCj4+Cj4+IF9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fCj4+IGRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKPj4gZHJpLWRldmVs
QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwo+PiBodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9t
YWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlz
dGluZm8vZHJpLWRldmVs
