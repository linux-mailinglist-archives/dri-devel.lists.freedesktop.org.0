Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 5C547BD53C
	for <lists+dri-devel@lfdr.de>; Wed, 25 Sep 2019 01:06:40 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 2679489B00;
	Tue, 24 Sep 2019 23:06:37 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A1C3089B00;
 Tue, 24 Sep 2019 23:06:36 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx08.intmail.prod.int.phx2.redhat.com
 [10.5.11.23])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id B2DD9F11CD;
 Tue, 24 Sep 2019 23:06:35 +0000 (UTC)
Received: from x1.home (ovpn-118-102.phx2.redhat.com [10.3.118.102])
 by smtp.corp.redhat.com (Postfix) with ESMTP id 0B77C19C7F;
 Tue, 24 Sep 2019 23:06:27 +0000 (UTC)
Date: Tue, 24 Sep 2019 17:06:27 -0600
From: Alex Williamson <alex.williamson@redhat.com>
To: Jason Wang <jasowang@redhat.com>
Subject: Re: [PATCH V2 2/8] mdev: class id support
Message-ID: <20190924170627.083f9f1b@x1.home>
In-Reply-To: <20190924135332.14160-3-jasowang@redhat.com>
References: <20190924135332.14160-1-jasowang@redhat.com>
 <20190924135332.14160-3-jasowang@redhat.com>
Organization: Red Hat
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.84 on 10.5.11.23
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.39]); Tue, 24 Sep 2019 23:06:36 +0000 (UTC)
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: christophe.de.dinechin@gmail.com, kvm@vger.kernel.org, mst@redhat.com,
 airlied@linux.ie, heiko.carstens@de.ibm.com, kevin.tian@intel.com,
 dri-devel@lists.freedesktop.org, virtualization@lists.linux-foundation.org,
 kwankhede@nvidia.com, rob.miller@broadcom.com, linux-s390@vger.kernel.org,
 sebott@linux.ibm.com, lulu@redhat.com, eperezma@redhat.com,
 pasic@linux.ibm.com, borntraeger@de.ibm.com, haotian.wang@sifive.com,
 cunming.liang@intel.com, zhi.a.wang@intel.com, farman@linux.ibm.com,
 idos@mellanox.com, gor@linux.ibm.com, intel-gfx@lists.freedesktop.org,
 rodrigo.vivi@intel.com, xiao.w.wang@intel.com, freude@linux.ibm.com,
 parav@mellanox.com, zhihong.wang@intel.com,
 intel-gvt-dev@lists.freedesktop.org, akrowiak@linux.ibm.com,
 oberpar@linux.ibm.com, tiwei.bie@intel.com, netdev@vger.kernel.org,
 cohuck@redhat.com, linux-kernel@vger.kernel.org, maxime.coquelin@redhat.com,
 lingshan.zhu@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVHVlLCAyNCBTZXAgMjAxOSAyMTo1MzoyNiArMDgwMApKYXNvbiBXYW5nIDxqYXNvd2FuZ0By
ZWRoYXQuY29tPiB3cm90ZToKCj4gTWRldiBidXMgb25seSBzdXBwb3J0cyB2ZmlvIGRyaXZlciBy
aWdodCBub3csIHNvIGl0IGRvZXNuJ3QgaW1wbGVtZW50Cj4gbWF0Y2ggbWV0aG9kLiBCdXQgaW4g
dGhlIGZ1dHVyZSwgd2UgbWF5IGFkZCBkcml2ZXJzIG90aGVyIHRoYW4gdmZpbywKPiB0aGUgZmly
c3QgZHJpdmVyIGNvdWxkIGJlIHZpcnRpby1tZGV2LiBUaGlzIG1lYW5zIHdlIG5lZWQgdG8gYWRk
Cj4gZGV2aWNlIGNsYXNzIGlkIHN1cHBvcnQgaW4gYnVzIG1hdGNoIG1ldGhvZCB0byBwYWlyIHRo
ZSBtZGV2IGRldmljZQo+IGFuZCBtZGV2IGRyaXZlciBjb3JyZWN0bHkuCj4gCj4gU28gdGhpcyBw
YXRjaCBhZGRzIGlkX3RhYmxlIHRvIG1kZXZfZHJpdmVyIGFuZCBjbGFzc19pZCBmb3IgbWRldgo+
IHBhcmVudCB3aXRoIHRoZSBtYXRjaCBtZXRob2QgZm9yIG1kZXYgYnVzLgoKRGVzY3JpcHRpb24g
bmVlZHMgdG8gYmUgcmV2aXNlZCBmcm9tIHYxLCBjbGFzc19pZCBpcyBubyBsb25nZXIgb24gdGhl
CnBhcmVudC4KCj4gU2lnbmVkLW9mZi1ieTogSmFzb24gV2FuZyA8amFzb3dhbmdAcmVkaGF0LmNv
bT4KPiAtLS0KPiAgRG9jdW1lbnRhdGlvbi9kcml2ZXItYXBpL3ZmaW8tbWVkaWF0ZWQtZGV2aWNl
LnJzdCB8ICAzICsrKwo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndnQva3ZtZ3QuYyAgICAgICAg
ICAgICAgICAgIHwgIDEgKwo+ICBkcml2ZXJzL3MzOTAvY2lvL3ZmaW9fY2N3X29wcy5jICAgICAg
ICAgICAgICAgICAgIHwgIDEgKwo+ICBkcml2ZXJzL3MzOTAvY3J5cHRvL3ZmaW9fYXBfb3BzLmMg
ICAgICAgICAgICAgICAgIHwgIDEgKwo+ICBkcml2ZXJzL3ZmaW8vbWRldi9tZGV2X2NvcmUuYyAg
ICAgICAgICAgICAgICAgICAgIHwgIDcgKysrKysrKwo+ICBkcml2ZXJzL3ZmaW8vbWRldi9tZGV2
X2RyaXZlci5jICAgICAgICAgICAgICAgICAgIHwgMTQgKysrKysrKysrKysrKysKPiAgZHJpdmVy
cy92ZmlvL21kZXYvbWRldl9wcml2YXRlLmggICAgICAgICAgICAgICAgICB8ICAxICsKPiAgZHJp
dmVycy92ZmlvL21kZXYvdmZpb19tZGV2LmMgICAgICAgICAgICAgICAgICAgICB8ICA2ICsrKysr
Kwo+ICBpbmNsdWRlL2xpbnV4L21kZXYuaCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwg
IDggKysrKysrKysKPiAgaW5jbHVkZS9saW51eC9tb2RfZGV2aWNldGFibGUuaCAgICAgICAgICAg
ICAgICAgICB8ICA4ICsrKysrKysrCj4gIHNhbXBsZXMvdmZpby1tZGV2L21ib2Nocy5jICAgICAg
ICAgICAgICAgICAgICAgICAgfCAgMSArCj4gIHNhbXBsZXMvdmZpby1tZGV2L21kcHkuYyAgICAg
ICAgICAgICAgICAgICAgICAgICAgfCAgMSArCj4gIHNhbXBsZXMvdmZpby1tZGV2L210dHkuYyAg
ICAgICAgICAgICAgICAgICAgICAgICAgfCAgMSArCj4gIDEzIGZpbGVzIGNoYW5nZWQsIDUzIGlu
c2VydGlvbnMoKykKPiAKPiBkaWZmIC0tZ2l0IGEvRG9jdW1lbnRhdGlvbi9kcml2ZXItYXBpL3Zm
aW8tbWVkaWF0ZWQtZGV2aWNlLnJzdCBiL0RvY3VtZW50YXRpb24vZHJpdmVyLWFwaS92ZmlvLW1l
ZGlhdGVkLWRldmljZS5yc3QKPiBpbmRleCAyNWViN2Q1YjgzNGIuLmE1YmRjNjBkNjJhMSAxMDA2
NDQKPiAtLS0gYS9Eb2N1bWVudGF0aW9uL2RyaXZlci1hcGkvdmZpby1tZWRpYXRlZC1kZXZpY2Uu
cnN0Cj4gKysrIGIvRG9jdW1lbnRhdGlvbi9kcml2ZXItYXBpL3ZmaW8tbWVkaWF0ZWQtZGV2aWNl
LnJzdAo+IEBAIC0xMDIsMTIgKzEwMiwxNCBAQCBzdHJ1Y3R1cmUgdG8gcmVwcmVzZW50IGEgbWVk
aWF0ZWQgZGV2aWNlJ3MgZHJpdmVyOjoKPiAgICAgICAgKiBAcHJvYmU6IGNhbGxlZCB3aGVuIG5l
dyBkZXZpY2UgY3JlYXRlZAo+ICAgICAgICAqIEByZW1vdmU6IGNhbGxlZCB3aGVuIGRldmljZSBy
ZW1vdmVkCj4gICAgICAgICogQGRyaXZlcjogZGV2aWNlIGRyaXZlciBzdHJ1Y3R1cmUKPiArICAg
ICAgKiBAaWRfdGFibGU6IHRoZSBpZHMgc2VydmljZWQgYnkgdGhpcyBkcml2ZXIKPiAgICAgICAg
Ki8KPiAgICAgICBzdHJ1Y3QgbWRldl9kcml2ZXIgewo+ICAJICAgICBjb25zdCBjaGFyICpuYW1l
Owo+ICAJICAgICBpbnQgICgqcHJvYmUpICAoc3RydWN0IGRldmljZSAqZGV2KTsKPiAgCSAgICAg
dm9pZCAoKnJlbW92ZSkgKHN0cnVjdCBkZXZpY2UgKmRldik7Cj4gIAkgICAgIHN0cnVjdCBkZXZp
Y2VfZHJpdmVyICAgIGRyaXZlcjsKPiArCSAgICAgY29uc3Qgc3RydWN0IG1kZXZfY2xhc3NfaWQg
KmlkX3RhYmxlOwo+ICAgICAgIH07Cj4gIAo+ICBBIG1lZGlhdGVkIGJ1cyBkcml2ZXIgZm9yIG1k
ZXYgc2hvdWxkIHVzZSB0aGlzIHN0cnVjdHVyZSBpbiB0aGUgZnVuY3Rpb24gY2FsbHMKPiBAQCAt
MTY1LDYgKzE2Nyw3IEBAIHJlZ2lzdGVyIGl0c2VsZiB3aXRoIHRoZSBtZGV2IGNvcmUgZHJpdmVy
OjoKPiAgCWV4dGVybiBpbnQgIG1kZXZfcmVnaXN0ZXJfZGV2aWNlKHN0cnVjdCBkZXZpY2UgKmRl
diwKPiAgCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cnVjdCBtZGV2
X3BhcmVudF9vcHMgKm9wcyk7Cj4gIAo+ICsKPiAgSG93ZXZlciwgdGhlIG1kZXZfcGFyZW50X29w
cyBzdHJ1Y3R1cmUgaXMgbm90IHJlcXVpcmVkIGluIHRoZSBmdW5jdGlvbiBjYWxsCj4gIHRoYXQg
YSBkcml2ZXIgc2hvdWxkIHVzZSB0byB1bnJlZ2lzdGVyIGl0c2VsZiB3aXRoIHRoZSBtZGV2IGNv
cmUgZHJpdmVyOjoKClVuaW50ZW5kZWQgZXh0cmEgbGluZT8gIERvZXNuJ3Qgc2VlbSB0byBtYXRj
aCBzdXJyb3VuZGluZyBmb3JtYXR0aW5nLgoKQ2FsbGluZyBtZGV2X3NldF9jbGFzc19pZCgpIGFz
IHBhcnQgb2YgY3JlYXRlIHNlZW1zIHJlbGF0aXZlbHkKZnVuZGFtZW50YWwgdG8gdGhlIHZlbmRv
ciBkcml2ZXIgd2l0aCB0aGlzIGNoYW5nZSwgaXQgc2hvdWxkIGJlIGFkZGVkCnRvIHRoZSBkb2N1
bWVudGF0aW9uLgoKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Z0L2t2bWd0
LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndnQva3ZtZ3QuYwo+IGluZGV4IDIzYWEzZTUwY2Jm
OC4uZjc5MzI1MmEzZDJhIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d2dC9r
dm1ndC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Z0L2t2bWd0LmMKPiBAQCAtNjc4
LDYgKzY3OCw3IEBAIHN0YXRpYyBpbnQgaW50ZWxfdmdwdV9jcmVhdGUoc3RydWN0IGtvYmplY3Qg
KmtvYmosIHN0cnVjdCBtZGV2X2RldmljZSAqbWRldikKPiAgCQkgICAgIGRldl9uYW1lKG1kZXZf
ZGV2KG1kZXYpKSk7Cj4gIAlyZXQgPSAwOwo+ICAKPiArCW1kZXZfc2V0X2NsYXNzX2lkKG1kZXYs
IE1ERVZfSURfVkZJTyk7Cj4gIG91dDoKPiAgCXJldHVybiByZXQ7Cj4gIH0KPiBkaWZmIC0tZ2l0
IGEvZHJpdmVycy9zMzkwL2Npby92ZmlvX2Njd19vcHMuYyBiL2RyaXZlcnMvczM5MC9jaW8vdmZp
b19jY3dfb3BzLmMKPiBpbmRleCBmMGQ3MWFiNzdjNTAuLmQyNThlZjFmZWRiOSAxMDA2NDQKPiAt
LS0gYS9kcml2ZXJzL3MzOTAvY2lvL3ZmaW9fY2N3X29wcy5jCj4gKysrIGIvZHJpdmVycy9zMzkw
L2Npby92ZmlvX2Njd19vcHMuYwo+IEBAIC0xMjksNiArMTI5LDcgQEAgc3RhdGljIGludCB2Zmlv
X2Njd19tZGV2X2NyZWF0ZShzdHJ1Y3Qga29iamVjdCAqa29iaiwgc3RydWN0IG1kZXZfZGV2aWNl
ICptZGV2KQo+ICAJCQkgICBwcml2YXRlLT5zY2gtPnNjaGlkLnNzaWQsCj4gIAkJCSAgIHByaXZh
dGUtPnNjaC0+c2NoaWQuc2NoX25vKTsKPiAgCj4gKwltZGV2X3NldF9jbGFzc19pZChtZGV2LCBN
REVWX0lEX1ZGSU8pOwo+ICAJcmV0dXJuIDA7Cj4gIH0KPiAgCj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvczM5MC9jcnlwdG8vdmZpb19hcF9vcHMuYyBiL2RyaXZlcnMvczM5MC9jcnlwdG8vdmZpb19h
cF9vcHMuYwo+IGluZGV4IDVjMGY1M2M2ZGRlNy4uMmNmZDk2MTEyYWEwIDEwMDY0NAo+IC0tLSBh
L2RyaXZlcnMvczM5MC9jcnlwdG8vdmZpb19hcF9vcHMuYwo+ICsrKyBiL2RyaXZlcnMvczM5MC9j
cnlwdG8vdmZpb19hcF9vcHMuYwo+IEBAIC0zNDMsNiArMzQzLDcgQEAgc3RhdGljIGludCB2Zmlv
X2FwX21kZXZfY3JlYXRlKHN0cnVjdCBrb2JqZWN0ICprb2JqLCBzdHJ1Y3QgbWRldl9kZXZpY2Ug
Km1kZXYpCj4gIAlsaXN0X2FkZCgmbWF0cml4X21kZXYtPm5vZGUsICZtYXRyaXhfZGV2LT5tZGV2
X2xpc3QpOwo+ICAJbXV0ZXhfdW5sb2NrKCZtYXRyaXhfZGV2LT5sb2NrKTsKPiAgCj4gKwltZGV2
X3NldF9jbGFzc19pZChtZGV2LCBNREVWX0lEX1ZGSU8pOwo+ICAJcmV0dXJuIDA7Cj4gIH0KPiAg
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmZpby9tZGV2L21kZXZfY29yZS5jIGIvZHJpdmVycy92
ZmlvL21kZXYvbWRldl9jb3JlLmMKPiBpbmRleCBiNTU4ZDRjZmQwODIuLjg3NjRjZjRhMjc2ZCAx
MDA2NDQKPiAtLS0gYS9kcml2ZXJzL3ZmaW8vbWRldi9tZGV2X2NvcmUuYwo+ICsrKyBiL2RyaXZl
cnMvdmZpby9tZGV2L21kZXZfY29yZS5jCj4gQEAgLTQ1LDYgKzQ1LDEyIEBAIHZvaWQgbWRldl9z
ZXRfZHJ2ZGF0YShzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYsIHZvaWQgKmRhdGEpCj4gIH0KPiAg
RVhQT1JUX1NZTUJPTChtZGV2X3NldF9kcnZkYXRhKTsKPiAgCj4gK3ZvaWQgbWRldl9zZXRfY2xh
c3NfaWQoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2LCB1MTYgaWQpCj4gK3sKPiArCW1kZXYtPmNs
YXNzX2lkID0gaWQ7Cj4gK30KPiArRVhQT1JUX1NZTUJPTChtZGV2X3NldF9jbGFzc19pZCk7Cj4g
Kwo+ICBzdHJ1Y3QgZGV2aWNlICptZGV2X2RldihzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYpCj4g
IHsKPiAgCXJldHVybiAmbWRldi0+ZGV2Owo+IEBAIC0xMzUsNiArMTQxLDcgQEAgc3RhdGljIGlu
dCBtZGV2X2RldmljZV9yZW1vdmVfY2Ioc3RydWN0IGRldmljZSAqZGV2LCB2b2lkICpkYXRhKQo+
ICAgKiBtZGV2X3JlZ2lzdGVyX2RldmljZSA6IFJlZ2lzdGVyIGEgZGV2aWNlCj4gICAqIEBkZXY6
IGRldmljZSBzdHJ1Y3R1cmUgcmVwcmVzZW50aW5nIHBhcmVudCBkZXZpY2UuCj4gICAqIEBvcHM6
IFBhcmVudCBkZXZpY2Ugb3BlcmF0aW9uIHN0cnVjdHVyZSB0byBiZSByZWdpc3RlcmVkLgo+ICsg
KiBAaWQ6IGRldmljZSBpZC4KPiAgICoKPiAgICogQWRkIGRldmljZSB0byBsaXN0IG9mIHJlZ2lz
dGVyZWQgcGFyZW50IGRldmljZXMuCj4gICAqIFJldHVybnMgYSBuZWdhdGl2ZSB2YWx1ZSBvbiBl
cnJvciwgb3RoZXJ3aXNlIDAuCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmZpby9tZGV2L21kZXZf
ZHJpdmVyLmMgYi9kcml2ZXJzL3ZmaW8vbWRldi9tZGV2X2RyaXZlci5jCj4gaW5kZXggMGQzMjIz
YWVlMjBiLi5iN2M0MGNlODZlZTMgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy92ZmlvL21kZXYvbWRl
dl9kcml2ZXIuYwo+ICsrKyBiL2RyaXZlcnMvdmZpby9tZGV2L21kZXZfZHJpdmVyLmMKPiBAQCAt
NjksOCArNjksMjIgQEAgc3RhdGljIGludCBtZGV2X3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYp
Cj4gIAlyZXR1cm4gMDsKPiAgfQo+ICAKPiArc3RhdGljIGludCBtZGV2X21hdGNoKHN0cnVjdCBk
ZXZpY2UgKmRldiwgc3RydWN0IGRldmljZV9kcml2ZXIgKmRydikKPiArewo+ICsJdW5zaWduZWQg
aW50IGk7Cj4gKwlzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYgPSB0b19tZGV2X2RldmljZShkZXYp
Owo+ICsJc3RydWN0IG1kZXZfZHJpdmVyICptZHJ2ID0gdG9fbWRldl9kcml2ZXIoZHJ2KTsKPiAr
CWNvbnN0IHN0cnVjdCBtZGV2X2NsYXNzX2lkICppZHMgPSBtZHJ2LT5pZF90YWJsZTsKPiArCj4g
Kwlmb3IgKGkgPSAwOyBpZHNbaV0uaWQ7IGkrKykKPiArCQlpZiAoaWRzW2ldLmlkID09IG1kZXYt
PmNsYXNzX2lkKQoKV2l0aCB0aGUgcHJvcG9zZWQgQVBJIGhlcmUsIG1kZXYtPmNsYXNzX2lkIGNh
biBiZSBOVUxMLCBkbyB3ZSBhbGxvdwpkZXZpY2VzIHRvIGV4aXN0IGluIHRoYXQgc3RhdGUgb3Ig
c2hvdWxkIG1kZXZfZGV2aWNlX2NyZWF0ZSgpIGdlbmVyYXRlCmFuIGVycm9yIGlmIHRoZSAuY3Jl
YXRlKCkgY2FsbGJhY2sgZG9lc24ndCByZWdpc3RlciBhIHR5cGU/ICBPciBhCndhcm5fb25jZSBh
bmQgYXNzdW1lIE1ERVZfSURfVkZJTz8gIFRoZSBsYXR0ZXIgc2VlbXMgcHJldHR5IHNrZXRjaHkK
d2hlbiB3ZSBnZXQgdG8gcGF0Y2ggNS84LiAgVGhhbmtzLAoKQWxleAoKPiArCQkJcmV0dXJuIDE7
Cj4gKwlyZXR1cm4gMDsKPiArfQo+ICsKPiAgc3RydWN0IGJ1c190eXBlIG1kZXZfYnVzX3R5cGUg
PSB7Cj4gIAkubmFtZQkJPSAibWRldiIsCj4gKwkubWF0Y2gJCT0gbWRldl9tYXRjaCwKPiAgCS5w
cm9iZQkJPSBtZGV2X3Byb2JlLAo+ICAJLnJlbW92ZQkJPSBtZGV2X3JlbW92ZSwKPiAgfTsKPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy92ZmlvL21kZXYvbWRldl9wcml2YXRlLmggYi9kcml2ZXJzL3Zm
aW8vbWRldi9tZGV2X3ByaXZhdGUuaAo+IGluZGV4IDdkOTIyOTUwY2FhZi4uYzY1ZjQzNmMxODY5
IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvdmZpby9tZGV2L21kZXZfcHJpdmF0ZS5oCj4gKysrIGIv
ZHJpdmVycy92ZmlvL21kZXYvbWRldl9wcml2YXRlLmgKPiBAQCAtMzMsNiArMzMsNyBAQCBzdHJ1
Y3QgbWRldl9kZXZpY2Ugewo+ICAJc3RydWN0IGtvYmplY3QgKnR5cGVfa29iajsKPiAgCXN0cnVj
dCBkZXZpY2UgKmlvbW11X2RldmljZTsKPiAgCWJvb2wgYWN0aXZlOwo+ICsJdTE2IGNsYXNzX2lk
Owo+ICB9Owo+ICAKPiAgI2RlZmluZSB0b19tZGV2X2RldmljZShkZXYpCWNvbnRhaW5lcl9vZihk
ZXYsIHN0cnVjdCBtZGV2X2RldmljZSwgZGV2KQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3ZmaW8v
bWRldi92ZmlvX21kZXYuYyBiL2RyaXZlcnMvdmZpby9tZGV2L3ZmaW9fbWRldi5jCj4gaW5kZXgg
MzA5NjRhNGUwYTI4Li5mZDJhNGQ5YTNmMjYgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy92ZmlvL21k
ZXYvdmZpb19tZGV2LmMKPiArKysgYi9kcml2ZXJzL3ZmaW8vbWRldi92ZmlvX21kZXYuYwo+IEBA
IC0xMjAsMTAgKzEyMCwxNiBAQCBzdGF0aWMgdm9pZCB2ZmlvX21kZXZfcmVtb3ZlKHN0cnVjdCBk
ZXZpY2UgKmRldikKPiAgCXZmaW9fZGVsX2dyb3VwX2RldihkZXYpOwo+ICB9Cj4gIAo+ICtzdGF0
aWMgc3RydWN0IG1kZXZfY2xhc3NfaWQgaWRfdGFibGVbXSA9IHsKPiArCXsgTURFVl9JRF9WRklP
IH0sCj4gKwl7IDAgfSwKPiArfTsKPiArCj4gIHN0YXRpYyBzdHJ1Y3QgbWRldl9kcml2ZXIgdmZp
b19tZGV2X2RyaXZlciA9IHsKPiAgCS5uYW1lCT0gInZmaW9fbWRldiIsCj4gIAkucHJvYmUJPSB2
ZmlvX21kZXZfcHJvYmUsCj4gIAkucmVtb3ZlCT0gdmZpb19tZGV2X3JlbW92ZSwKPiArCS5pZF90
YWJsZSA9IGlkX3RhYmxlLAo+ICB9Owo+ICAKPiAgc3RhdGljIGludCBfX2luaXQgdmZpb19tZGV2
X2luaXQodm9pZCkKPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9saW51eC9tZGV2LmggYi9pbmNsdWRl
L2xpbnV4L21kZXYuaAo+IGluZGV4IDBjZTMwY2E3OGRiMC4uMzk3NDY1MGMwNzRmIDEwMDY0NAo+
IC0tLSBhL2luY2x1ZGUvbGludXgvbWRldi5oCj4gKysrIGIvaW5jbHVkZS9saW51eC9tZGV2LmgK
PiBAQCAtMTE4LDYgKzExOCw3IEBAIHN0cnVjdCBtZGV2X3R5cGVfYXR0cmlidXRlIG1kZXZfdHlw
ZV9hdHRyXyMjX25hbWUgPQkJXAo+ICAgKiBAcHJvYmU6IGNhbGxlZCB3aGVuIG5ldyBkZXZpY2Ug
Y3JlYXRlZAo+ICAgKiBAcmVtb3ZlOiBjYWxsZWQgd2hlbiBkZXZpY2UgcmVtb3ZlZAo+ICAgKiBA
ZHJpdmVyOiBkZXZpY2UgZHJpdmVyIHN0cnVjdHVyZQo+ICsgKiBAaWRfdGFibGU6IHRoZSBpZHMg
c2VydmljZWQgYnkgdGhpcyBkcml2ZXIuCj4gICAqCj4gICAqKi8KPiAgc3RydWN0IG1kZXZfZHJp
dmVyIHsKPiBAQCAtMTI1LDEyICsxMjYsMTQgQEAgc3RydWN0IG1kZXZfZHJpdmVyIHsKPiAgCWlu
dCAgKCpwcm9iZSkoc3RydWN0IGRldmljZSAqZGV2KTsKPiAgCXZvaWQgKCpyZW1vdmUpKHN0cnVj
dCBkZXZpY2UgKmRldik7Cj4gIAlzdHJ1Y3QgZGV2aWNlX2RyaXZlciBkcml2ZXI7Cj4gKwljb25z
dCBzdHJ1Y3QgbWRldl9jbGFzc19pZCAqaWRfdGFibGU7Cj4gIH07Cj4gIAo+ICAjZGVmaW5lIHRv
X21kZXZfZHJpdmVyKGRydikJY29udGFpbmVyX29mKGRydiwgc3RydWN0IG1kZXZfZHJpdmVyLCBk
cml2ZXIpCj4gIAo+ICB2b2lkICptZGV2X2dldF9kcnZkYXRhKHN0cnVjdCBtZGV2X2RldmljZSAq
bWRldik7Cj4gIHZvaWQgbWRldl9zZXRfZHJ2ZGF0YShzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYs
IHZvaWQgKmRhdGEpOwo+ICt2b2lkIG1kZXZfc2V0X2NsYXNzX2lkKHN0cnVjdCBtZGV2X2Rldmlj
ZSAqbWRldiwgdTE2IGlkKTsKPiAgY29uc3QgZ3VpZF90ICptZGV2X3V1aWQoc3RydWN0IG1kZXZf
ZGV2aWNlICptZGV2KTsKPiAgCj4gIGV4dGVybiBzdHJ1Y3QgYnVzX3R5cGUgbWRldl9idXNfdHlw
ZTsKPiBAQCAtMTQ1LDQgKzE0OCw5IEBAIHN0cnVjdCBkZXZpY2UgKm1kZXZfcGFyZW50X2Rldihz
dHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYpOwo+ICBzdHJ1Y3QgZGV2aWNlICptZGV2X2RldihzdHJ1
Y3QgbWRldl9kZXZpY2UgKm1kZXYpOwo+ICBzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXZfZnJvbV9k
ZXYoc3RydWN0IGRldmljZSAqZGV2KTsKPiAgCj4gK2VudW0gewo+ICsJTURFVl9JRF9WRklPID0g
MSwKPiArCS8qIE5ldyBlbnRyaWVzIG11c3QgYmUgYWRkZWQgaGVyZSAqLwo+ICt9Owo+ICsKPiAg
I2VuZGlmIC8qIE1ERVZfSCAqLwo+IGRpZmYgLS1naXQgYS9pbmNsdWRlL2xpbnV4L21vZF9kZXZp
Y2V0YWJsZS5oIGIvaW5jbHVkZS9saW51eC9tb2RfZGV2aWNldGFibGUuaAo+IGluZGV4IDU3MTRm
ZDM1YTgzYy4uZjMyYzZlNDRmYjFhIDEwMDY0NAo+IC0tLSBhL2luY2x1ZGUvbGludXgvbW9kX2Rl
dmljZXRhYmxlLmgKPiArKysgYi9pbmNsdWRlL2xpbnV4L21vZF9kZXZpY2V0YWJsZS5oCj4gQEAg
LTgyMSw0ICs4MjEsMTIgQEAgc3RydWN0IHdtaV9kZXZpY2VfaWQgewo+ICAJY29uc3Qgdm9pZCAq
Y29udGV4dDsKPiAgfTsKPiAgCj4gKy8qKgo+ICsgKiBzdHJ1Y3QgbWRldl9jbGFzc19pZCAtIE1E
RVYgZGV2aWNlIGNsYXNzIGlkZW50aWZpZXIKPiArICogQGlkOiBVc2VkIHRvIGlkZW50aWZ5IGEg
c3BlY2lmaWMgY2xhc3Mgb2YgZGV2aWNlLCBlLmcgdmZpby1tZGV2IGRldmljZS4KPiArICovCj4g
K3N0cnVjdCBtZGV2X2NsYXNzX2lkIHsKPiArCV9fdTE2IGlkOwo+ICt9Owo+ICsKPiAgI2VuZGlm
IC8qIExJTlVYX01PRF9ERVZJQ0VUQUJMRV9IICovCj4gZGlmZiAtLWdpdCBhL3NhbXBsZXMvdmZp
by1tZGV2L21ib2Nocy5jIGIvc2FtcGxlcy92ZmlvLW1kZXYvbWJvY2hzLmMKPiBpbmRleCBhYzVj
OGMxN2IxZmYuLjhhODU4M2M4OTJiMiAxMDA2NDQKPiAtLS0gYS9zYW1wbGVzL3ZmaW8tbWRldi9t
Ym9jaHMuYwo+ICsrKyBiL3NhbXBsZXMvdmZpby1tZGV2L21ib2Nocy5jCj4gQEAgLTU2MSw2ICs1
NjEsNyBAQCBzdGF0aWMgaW50IG1ib2Noc19jcmVhdGUoc3RydWN0IGtvYmplY3QgKmtvYmosIHN0
cnVjdCBtZGV2X2RldmljZSAqbWRldikKPiAgCW1ib2Noc19yZXNldChtZGV2KTsKPiAgCj4gIAlt
Ym9jaHNfdXNlZF9tYnl0ZXMgKz0gdHlwZS0+bWJ5dGVzOwo+ICsJbWRldl9zZXRfY2xhc3NfaWQo
bWRldiwgTURFVl9JRF9WRklPKTsKPiAgCXJldHVybiAwOwo+ICAKPiAgZXJyX21lbToKPiBkaWZm
IC0tZ2l0IGEvc2FtcGxlcy92ZmlvLW1kZXYvbWRweS5jIGIvc2FtcGxlcy92ZmlvLW1kZXYvbWRw
eS5jCj4gaW5kZXggY2M4NmJmNjU2NmU0Li44OGQ3ZTc2ZjM4MzYgMTAwNjQ0Cj4gLS0tIGEvc2Ft
cGxlcy92ZmlvLW1kZXYvbWRweS5jCj4gKysrIGIvc2FtcGxlcy92ZmlvLW1kZXYvbWRweS5jCj4g
QEAgLTI2OSw2ICsyNjksNyBAQCBzdGF0aWMgaW50IG1kcHlfY3JlYXRlKHN0cnVjdCBrb2JqZWN0
ICprb2JqLCBzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYpCj4gIAltZHB5X3Jlc2V0KG1kZXYpOwo+
ICAKPiAgCW1kcHlfY291bnQrKzsKPiArCW1kZXZfc2V0X2NsYXNzX2lkKG1kZXYsIE1ERVZfSURf
VkZJTyk7Cj4gIAlyZXR1cm4gMDsKPiAgfQo+ICAKPiBkaWZmIC0tZ2l0IGEvc2FtcGxlcy92Zmlv
LW1kZXYvbXR0eS5jIGIvc2FtcGxlcy92ZmlvLW1kZXYvbXR0eS5jCj4gaW5kZXggOTJlNzcwYTA2
ZWEyLi40ZTA3MzUxNDNiNjkgMTAwNjQ0Cj4gLS0tIGEvc2FtcGxlcy92ZmlvLW1kZXYvbXR0eS5j
Cj4gKysrIGIvc2FtcGxlcy92ZmlvLW1kZXYvbXR0eS5jCj4gQEAgLTc3MCw2ICs3NzAsNyBAQCBz
dGF0aWMgaW50IG10dHlfY3JlYXRlKHN0cnVjdCBrb2JqZWN0ICprb2JqLCBzdHJ1Y3QgbWRldl9k
ZXZpY2UgKm1kZXYpCj4gIAlsaXN0X2FkZCgmbWRldl9zdGF0ZS0+bmV4dCwgJm1kZXZfZGV2aWNl
c19saXN0KTsKPiAgCW11dGV4X3VubG9jaygmbWRldl9saXN0X2xvY2spOwo+ICAKPiArCW1kZXZf
c2V0X2NsYXNzX2lkKG1kZXYsIE1ERVZfSURfVkZJTyk7Cj4gIAlyZXR1cm4gMDsKPiAgfQo+ICAK
Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZl
bCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xp
c3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
