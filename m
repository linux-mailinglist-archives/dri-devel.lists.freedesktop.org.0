Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id E9DDB325C0
	for <lists+dri-devel@lfdr.de>; Mon,  3 Jun 2019 02:40:47 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3908D896C7;
	Mon,  3 Jun 2019 00:40:36 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-qt1-x842.google.com (mail-qt1-x842.google.com
 [IPv6:2607:f8b0:4864:20::842])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E68F689191
 for <dri-devel@lists.freedesktop.org>; Mon,  3 Jun 2019 00:40:33 +0000 (UTC)
Received: by mail-qt1-x842.google.com with SMTP id z19so7474399qtz.13
 for <dri-devel@lists.freedesktop.org>; Sun, 02 Jun 2019 17:40:33 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:sender:from:to:cc:subject:date:message-id
 :in-reply-to:references:mime-version:content-transfer-encoding;
 bh=nWm8E/BeSenKr1NgV4JwOOHvVRgb/u/ID6zKIMb2uag=;
 b=SS3+odtz1UahicDZHL/6CIX2wYrqbRoMgNkUG1mh405QUdy7074hPXajY1Oh9Pzhr0
 p+qNhmEjFhcoCICqqk+sZWF4X/vtKT1Tf0MVm1qAnx/Yc1kCl/95AosNaQoMXrq3m/16
 Ne+GVv7m8Ky0gaLmEKDaDnBxtk7KuSAS6wtTy1sYIhQEuR0FAMmWspwv73iNx/e9l6W2
 PDHRfEVdRziFaKGZX8AQgLGOpaxp7NLXOXMF6v+EWhC68DC8TLBctkN0KY0tRdJ3idiv
 VxhzfvMiItEp+czIoBxIflGbwEmdZL+1hIyr5Pms3f/nnviIjpcW15wjaUuxln/V6B6h
 e85w==
X-Gm-Message-State: APjAAAUygIpHjimpjSrimNtCZT6dLa/WuC3q2aYvx+r30cpemGQmtrhd
 DZWHQgImnYUcwQSA4TTxbh4ikdMqOtI=
X-Google-Smtp-Source: APXvYqzVcPkreytfev99vJXBJaU+m4i77zt2TcYHlWg1tCAbIergR34KDSHBHlA2jZxVGpZbIq2tBw==
X-Received: by 2002:a0c:8c0c:: with SMTP id n12mr19771929qvb.43.1559522432753; 
 Sun, 02 Jun 2019 17:40:32 -0700 (PDT)
Received: from athos.fios-router.home
 (pool-173-68-20-215.nycmny.fios.verizon.net. [173.68.20.215])
 by smtp.gmail.com with ESMTPSA id t8sm1432609qtc.80.2019.06.02.17.40.31
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Sun, 02 Jun 2019 17:40:32 -0700 (PDT)
From: Ilia Mirkin <imirkin@alum.mit.edu>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH libdrm 08/10] modetest: add C8 support to generate SMPTE
 pattern
Date: Sun,  2 Jun 2019 20:40:16 -0400
Message-Id: <20190603004017.7114-9-imirkin@alum.mit.edu>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190603004017.7114-1-imirkin@alum.mit.edu>
References: <20190603004017.7114-1-imirkin@alum.mit.edu>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=sender:from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=nWm8E/BeSenKr1NgV4JwOOHvVRgb/u/ID6zKIMb2uag=;
 b=D8HuW5p2+FSRqok2u2gxvkrfiIiPfEkkRXG7AkcEo6uHts1pueqGrTJErADlOUqJRg
 CYQWVvrP31lm+eHHLS/nvbAt0HCNZrJq67fGG+8rarPkcrbJ7I9G3BpPpCqNejuJjYyp
 ntGe7y8iWSLIi+gHIAUWSjGfEy1JNhSLKDRMcF7HI6trPPrrLwRypjTDvrQrCCcbtKf3
 Jp4tl0gZ/LBQLrwJ2BzS56dxSkC0xCNa9V9qoTdXY9lVX2NQbwiEV/DjGFtbrd2sPQ8R
 otdEN8pEhpEPIya7WmtY4hvfPOosx67A36xxOulZ0TYaVPnDdkn8qq2aU4TtWu9nXVAo
 EpCw==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhpcyBpbmNsdWRlcyBsb2dpYyB0byBjb25maWd1cmUgdGhlIExVVCBhY2NvcmRpbmdseS4KClNp
Z25lZC1vZmYtYnk6IElsaWEgTWlya2luIDxpbWlya2luQGFsdW0ubWl0LmVkdT4KLS0tCiB0ZXN0
cy9tb2RldGVzdC9idWZmZXJzLmMgIHwgIDIgKysKIHRlc3RzL21vZGV0ZXN0L21vZGV0ZXN0LmMg
fCA0NyArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrLS0tLS0KIDIgZmlsZXMgY2hh
bmdlZCwgNDQgaW5zZXJ0aW9ucygrKSwgNSBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS90ZXN0
cy9tb2RldGVzdC9idWZmZXJzLmMgYi90ZXN0cy9tb2RldGVzdC9idWZmZXJzLmMKaW5kZXggOWI2
MzVjMGMuLjVlYzRlYzhlIDEwMDY0NAotLS0gYS90ZXN0cy9tb2RldGVzdC9idWZmZXJzLmMKKysr
IGIvdGVzdHMvbW9kZXRlc3QvYnVmZmVycy5jCkBAIC0xMzUsNiArMTM1LDcgQEAgYm9fY3JlYXRl
KGludCBmZCwgdW5zaWduZWQgaW50IGZvcm1hdCwKIAlpbnQgcmV0OwogCiAJc3dpdGNoIChmb3Jt
YXQpIHsKKwljYXNlIERSTV9GT1JNQVRfQzg6CiAJY2FzZSBEUk1fRk9STUFUX05WMTI6CiAJY2Fz
ZSBEUk1fRk9STUFUX05WMjE6CiAJY2FzZSBEUk1fRk9STUFUX05WMTY6CkBAIC0yNzUsNiArMjc2
LDcgQEAgYm9fY3JlYXRlKGludCBmZCwgdW5zaWduZWQgaW50IGZvcm1hdCwKIAkJcGxhbmVzWzJd
ID0gdmlydHVhbCArIG9mZnNldHNbMl07CiAJCWJyZWFrOwogCisJY2FzZSBEUk1fRk9STUFUX0M4
OgogCWNhc2UgRFJNX0ZPUk1BVF9BUkdCNDQ0NDoKIAljYXNlIERSTV9GT1JNQVRfWFJHQjQ0NDQ6
CiAJY2FzZSBEUk1fRk9STUFUX0FCR1I0NDQ0OgpkaWZmIC0tZ2l0IGEvdGVzdHMvbW9kZXRlc3Qv
bW9kZXRlc3QuYyBiL3Rlc3RzL21vZGV0ZXN0L21vZGV0ZXN0LmMKaW5kZXggNzFkZGM4NjEuLjdi
YjIxZDE3IDEwMDY0NAotLS0gYS90ZXN0cy9tb2RldGVzdC9tb2RldGVzdC5jCisrKyBiL3Rlc3Rz
L21vZGV0ZXN0L21vZGV0ZXN0LmMKQEAgLTEwODksNiArMTA4OSw0MiBAQCBzdGF0aWMgYm9vbCBh
ZGRfcHJvcGVydHlfb3B0aW9uYWwoc3RydWN0IGRldmljZSAqZGV2LCB1aW50MzJfdCBvYmpfaWQs
CiAJcmV0dXJuIHNldF9wcm9wZXJ0eShkZXYsICZwKTsKIH0KIAorc3RhdGljIHZvaWQgc2V0X2dh
bW1hKHN0cnVjdCBkZXZpY2UgKmRldiwgdW5zaWduZWQgY3J0Y19pZCwgdW5zaWduZWQgZm91cmNj
KQoreworCXVuc2lnbmVkIGJsb2JfaWQgPSAwOworCS8qIFRPRE86IHN1cHBvcnQgMTAyNC1zaXpl
ZCBMVVRzLCB3aGVuIHRoZSB1c2UtY2FzZSBhcmlzZXMgKi8KKwlzdHJ1Y3QgZHJtX2NvbG9yX2x1
dCBnYW1tYV9sdXRbMjU2XTsKKwlpbnQgaSwgcmV0OworCisJaWYgKGZvdXJjYyA9PSBEUk1fRk9S
TUFUX0M4KSB7CisJCS8qIFRPRE86IEFkZCBDOCBzdXBwb3J0IGZvciBtb3JlIHBhdHRlcm5zICov
CisJCXV0aWxfc21wdGVfYzhfZ2FtbWEoMjU2LCBnYW1tYV9sdXQpOworCQlkcm1Nb2RlQ3JlYXRl
UHJvcGVydHlCbG9iKGRldi0+ZmQsIGdhbW1hX2x1dCwgc2l6ZW9mKGdhbW1hX2x1dCksICZibG9i
X2lkKTsKKwl9IGVsc2UgeworCQlmb3IgKGkgPSAwOyBpIDwgMjU2OyBpKyspIHsKKwkJCWdhbW1h
X2x1dFtpXS5yZWQgPQorCQkJZ2FtbWFfbHV0W2ldLmdyZWVuID0KKwkJCWdhbW1hX2x1dFtpXS5i
bHVlID0gaSA8PCA4OworCQl9CisJfQorCisJYWRkX3Byb3BlcnR5X29wdGlvbmFsKGRldiwgY3J0
Y19pZCwgIkRFR0FNTUFfTFVUIiwgMCk7CisJYWRkX3Byb3BlcnR5X29wdGlvbmFsKGRldiwgY3J0
Y19pZCwgIkNUTSIsIDApOworCWlmICghYWRkX3Byb3BlcnR5X29wdGlvbmFsKGRldiwgY3J0Y19p
ZCwgIkdBTU1BX0xVVCIsIGJsb2JfaWQpKSB7CisJCXVpbnQxNl90IHJbMjU2XSwgZ1syNTZdLCBi
WzI1Nl07CisKKwkJZm9yIChpID0gMDsgaSA8IDI1NjsgaSsrKSB7CisJCQlyW2ldID0gZ2FtbWFf
bHV0W2ldLnJlZDsKKwkJCWdbaV0gPSBnYW1tYV9sdXRbaV0uZ3JlZW47CisJCQliW2ldID0gZ2Ft
bWFfbHV0W2ldLmJsdWU7CisJCX0KKworCQlyZXQgPSBkcm1Nb2RlQ3J0Y1NldEdhbW1hKGRldi0+
ZmQsIGNydGNfaWQsIDI1NiwgciwgZywgYik7CisJCWlmIChyZXQpCisJCQlmcHJpbnRmKHN0ZGVy
ciwgImZhaWxlZCB0byBzZXQgZ2FtbWE6ICVzXG4iLCBzdHJlcnJvcihlcnJubykpOworCX0KK30K
Kwogc3RhdGljIGludCBhdG9taWNfc2V0X3BsYW5lKHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0
IHBsYW5lX2FyZyAqcCwKIAkJCQkJCQlpbnQgcGF0dGVybiwgYm9vbCB1cGRhdGUpCiB7CkBAIC0x
MjcwLDYgKzEzMDYsOCBAQCBzdGF0aWMgdm9pZCBhdG9taWNfc2V0X3BsYW5lcyhzdHJ1Y3QgZGV2
aWNlICpkZXYsIHN0cnVjdCBwbGFuZV9hcmcgKnAsCiAJZm9yIChpID0gMDsgaSA8IGNvdW50OyBp
KyspIHsKIAkJaWYgKGkgPiAwKQogCQkJcGF0dGVybiA9IFVUSUxfUEFUVEVSTl9USUxFUzsKKwkJ
ZWxzZQorCQkJc2V0X2dhbW1hKGRldiwgcFtpXS5jcnRjX2lkLCBwW2ldLmZvdXJjYyk7CiAKIAkJ
aWYgKGF0b21pY19zZXRfcGxhbmUoZGV2LCAmcFtpXSwgcGF0dGVybiwgdXBkYXRlKSkKIAkJCXJl
dHVybjsKQEAgLTE0NTQsNiArMTQ5Miw4IEBAIHN0YXRpYyB2b2lkIHNldF9tb2RlKHN0cnVjdCBk
ZXZpY2UgKmRldiwgc3RydWN0IHBpcGVfYXJnICpwaXBlcywgdW5zaWduZWQgaW50IGNvCiAJCQlm
cHJpbnRmKHN0ZGVyciwgImZhaWxlZCB0byBzZXQgbW9kZTogJXNcbiIsIHN0cmVycm9yKGVycm5v
KSk7CiAJCQlyZXR1cm47CiAJCX0KKworCQlzZXRfZ2FtbWEoZGV2LCBwaXBlLT5jcnRjLT5jcnRj
LT5jcnRjX2lkLCBwaXBlLT5mb3VyY2MpOwogCX0KIH0KIApAQCAtMTcyOCwxMSArMTc2OCw4IEBA
IHN0YXRpYyBpbnQgcGFyc2VfcGxhbmUoc3RydWN0IHBsYW5lX2FyZyAqcGxhbmUsIGNvbnN0IGNo
YXIgKnApCiAJfQogCiAJaWYgKCplbmQgPT0gJ0AnKSB7Ci0JCXAgPSBlbmQgKyAxOwotCQlpZiAo
c3RybGVuKHApICE9IDQpCi0JCQlyZXR1cm4gLUVJTlZBTDsKLQotCQlzdHJjcHkocGxhbmUtPmZv
cm1hdF9zdHIsIHApOworCQlzdHJuY3B5KHBsYW5lLT5mb3JtYXRfc3RyLCBlbmQgKyAxLCA0KTsK
KwkJcGxhbmUtPmZvcm1hdF9zdHJbNF0gPSAnXDAnOwogCX0gZWxzZSB7CiAJCXN0cmNweShwbGFu
ZS0+Zm9ybWF0X3N0ciwgIlhSMjQiKTsKIAl9Ci0tIAoyLjIxLjAKCl9fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJp
LWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9y
Zy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
