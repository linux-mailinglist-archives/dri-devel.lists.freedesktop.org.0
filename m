Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 7FC302C59B2
	for <lists+dri-devel@lfdr.de>; Thu, 26 Nov 2020 18:01:39 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C37856E95D;
	Thu, 26 Nov 2020 17:01:32 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from metis.ext.pengutronix.de (metis.ext.pengutronix.de
 [IPv6:2001:67c:670:201:290:27ff:fe1d:cc33])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 63E6C6E958
 for <dri-devel@lists.freedesktop.org>; Thu, 26 Nov 2020 17:01:31 +0000 (UTC)
Received: from pty.hi.pengutronix.de ([2001:67c:670:100:1d::c5])
 by metis.ext.pengutronix.de with esmtps
 (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256) (Exim 4.92)
 (envelope-from <ukl@pengutronix.de>)
 id 1kiKcr-0001Kk-AC; Thu, 26 Nov 2020 18:00:09 +0100
Received: from ukl by pty.hi.pengutronix.de with local (Exim 4.89)
 (envelope-from <ukl@pengutronix.de>)
 id 1kiKch-0002s0-J8; Thu, 26 Nov 2020 17:59:59 +0100
From: =?UTF-8?q?Uwe=20Kleine-K=C3=B6nig?= <u.kleine-koenig@pengutronix.de>
To: Geoff Levand <geoff@infradead.org>, Jaroslav Kysela <perex@perex.cz>,
 Takashi Iwai <tiwai@suse.com>, Michael Ellerman <mpe@ellerman.id.au>,
 Jens Axboe <axboe@kernel.dk>, Jim Paris <jim@jtan.com>,
 Arnd Bergmann <arnd@arndb.de>,
 Greg Kroah-Hartman <gregkh@linuxfoundation.org>,
 "David S. Miller" <davem@davemloft.net>, Jakub Kicinski <kuba@kernel.org>,
 "James E.J. Bottomley" <jejb@linux.ibm.com>,
 "Martin K. Petersen" <martin.petersen@oracle.com>,
 Alan Stern <stern@rowland.harvard.edu>,
 Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>
Subject: [PATCH 2/2] powerpc/ps3: make system bus's remove and shutdown
 callbacks return void
Date: Thu, 26 Nov 2020 17:59:50 +0100
Message-Id: <20201126165950.2554997-2-u.kleine-koenig@pengutronix.de>
X-Mailer: git-send-email 2.29.2
In-Reply-To: <20201126165950.2554997-1-u.kleine-koenig@pengutronix.de>
References: <20201126165950.2554997-1-u.kleine-koenig@pengutronix.de>
MIME-Version: 1.0
X-SA-Exim-Connect-IP: 2001:67c:670:100:1d::c5
X-SA-Exim-Mail-From: ukl@pengutronix.de
X-SA-Exim-Scanned: No (on metis.ext.pengutronix.de);
 SAEximRunCond expanded to false
X-PTX-Original-Recipient: dri-devel@lists.freedesktop.org
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: alsa-devel@alsa-project.org, linux-scsi@vger.kernel.org,
 linux-usb@vger.kernel.org, linux-fbdev@vger.kernel.org,
 dri-devel@lists.freedesktop.org, linux-block@vger.kernel.org,
 Paul Mackerras <paulus@samba.org>, netdev@vger.kernel.org,
 linuxppc-dev@lists.ozlabs.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIGRyaXZlciBjb3JlIGlnbm9yZXMgdGhlIHJldHVybiB2YWx1ZSBvZiBzdHJ1Y3QgZGV2aWNl
X2RyaXZlcjo6cmVtb3ZlCmJlY2F1c2UgdGhlcmUgaXMgb25seSBsaXR0bGUgdGhhdCBjYW4gYmUg
ZG9uZS4gRm9yIHRoZSBzaHV0ZG93biBjYWxsYmFjawppdCdzIHBzM19zeXN0ZW1fYnVzX3NodXRk
b3duKCkgd2hpY2ggaWdub3JlcyB0aGUgcmV0dXJuIHZhbHVlLgoKVG8gc2ltcGxpZnkgdGhlIHF1
ZXN0IHRvIG1ha2Ugc3RydWN0IGRldmljZV9kcml2ZXI6OnJlbW92ZSByZXR1cm4gdm9pZCwKbGV0
IHN0cnVjdCBwczNfc3lzdGVtX2J1c19kcml2ZXI6OnJlbW92ZSByZXR1cm4gdm9pZCwgdG9vLiBB
bGwgdXNlcnMKYWxyZWFkeSB1bmNvbmRpdGlvbmFsbHkgcmV0dXJuIDAsIHRoaXMgY29tbWl0IG1h
a2VzIGl0IG9idmlvdXMgdGhhdApyZXR1cm5pbmcgYW4gZXJyb3IgY29kZSBpcyBhIGJhZCBpZGVh
IGFuZCBlbnN1cmVzIGZ1dHVyZSB1c2VycyBiZWhhdmUKYWNjb3JkaW5nbHkuCgpTaWduZWQtb2Zm
LWJ5OiBVd2UgS2xlaW5lLUvDtm5pZyA8dS5rbGVpbmUta29lbmlnQHBlbmd1dHJvbml4LmRlPgot
LS0KIGFyY2gvcG93ZXJwYy9pbmNsdWRlL2FzbS9wczMuaCAgICAgICAgICAgICAgIHwgIDQgKyst
LQogYXJjaC9wb3dlcnBjL3BsYXRmb3Jtcy9wczMvc3lzdGVtLWJ1cy5jICAgICAgfCAgNSArKy0t
LQogZHJpdmVycy9ibG9jay9wczNkaXNrLmMgICAgICAgICAgICAgICAgICAgICAgfCAgMyArLS0K
IGRyaXZlcnMvYmxvY2svcHMzdnJhbS5jICAgICAgICAgICAgICAgICAgICAgIHwgIDMgKy0tCiBk
cml2ZXJzL2NoYXIvcHMzZmxhc2guYyAgICAgICAgICAgICAgICAgICAgICB8ICAzICstLQogZHJp
dmVycy9uZXQvZXRoZXJuZXQvdG9zaGliYS9wczNfZ2VsaWNfbmV0LmMgfCAgMyArLS0KIGRyaXZl
cnMvcHMzL3BzMy1scG0uYyAgICAgICAgICAgICAgICAgICAgICAgIHwgIDMgKy0tCiBkcml2ZXJz
L3BzMy9wczMtdnVhcnQuYyAgICAgICAgICAgICAgICAgICAgICB8IDEwICsrKystLS0tLS0KIGRy
aXZlcnMvc2NzaS9wczNyb20uYyAgICAgICAgICAgICAgICAgICAgICAgIHwgIDMgKy0tCiBkcml2
ZXJzL3VzYi9ob3N0L2VoY2ktcHMzLmMgICAgICAgICAgICAgICAgICB8ICA0ICstLS0KIGRyaXZl
cnMvdXNiL2hvc3Qvb2hjaS1wczMuYyAgICAgICAgICAgICAgICAgIHwgIDQgKy0tLQogZHJpdmVy
cy92aWRlby9mYmRldi9wczNmYi5jICAgICAgICAgICAgICAgICAgfCAgNCArLS0tCiBzb3VuZC9w
cGMvc25kX3BzMy5jICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAzICstLQogMTMgZmlsZXMg
Y2hhbmdlZCwgMTggaW5zZXJ0aW9ucygrKSwgMzQgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEv
YXJjaC9wb3dlcnBjL2luY2x1ZGUvYXNtL3BzMy5oIGIvYXJjaC9wb3dlcnBjL2luY2x1ZGUvYXNt
L3BzMy5oCmluZGV4IGNiODllNGJmNTVjZS4uZTY0NmM3ZjIxOGJjIDEwMDY0NAotLS0gYS9hcmNo
L3Bvd2VycGMvaW5jbHVkZS9hc20vcHMzLmgKKysrIGIvYXJjaC9wb3dlcnBjL2luY2x1ZGUvYXNt
L3BzMy5oCkBAIC0zNzgsOCArMzc4LDggQEAgc3RydWN0IHBzM19zeXN0ZW1fYnVzX2RyaXZlciB7
CiAJZW51bSBwczNfbWF0Y2hfc3ViX2lkIG1hdGNoX3N1Yl9pZDsKIAlzdHJ1Y3QgZGV2aWNlX2Ry
aXZlciBjb3JlOwogCWludCAoKnByb2JlKShzdHJ1Y3QgcHMzX3N5c3RlbV9idXNfZGV2aWNlICop
OwotCWludCAoKnJlbW92ZSkoc3RydWN0IHBzM19zeXN0ZW1fYnVzX2RldmljZSAqKTsKLQlpbnQg
KCpzaHV0ZG93bikoc3RydWN0IHBzM19zeXN0ZW1fYnVzX2RldmljZSAqKTsKKwl2b2lkICgqcmVt
b3ZlKShzdHJ1Y3QgcHMzX3N5c3RlbV9idXNfZGV2aWNlICopOworCXZvaWQgKCpzaHV0ZG93biko
c3RydWN0IHBzM19zeXN0ZW1fYnVzX2RldmljZSAqKTsKIC8qCWludCAoKnN1c3BlbmQpKHN0cnVj
dCBwczNfc3lzdGVtX2J1c19kZXZpY2UgKiwgcG1fbWVzc2FnZV90KTsgKi8KIC8qCWludCAoKnJl
c3VtZSkoc3RydWN0IHBzM19zeXN0ZW1fYnVzX2RldmljZSAqKTsgKi8KIH07CmRpZmYgLS1naXQg
YS9hcmNoL3Bvd2VycGMvcGxhdGZvcm1zL3BzMy9zeXN0ZW0tYnVzLmMgYi9hcmNoL3Bvd2VycGMv
cGxhdGZvcm1zL3BzMy9zeXN0ZW0tYnVzLmMKaW5kZXggYzYyYWFhMjlhOWQ1Li5iNDMxZjQxYzZj
YjUgMTAwNjQ0Ci0tLSBhL2FyY2gvcG93ZXJwYy9wbGF0Zm9ybXMvcHMzL3N5c3RlbS1idXMuYwor
KysgYi9hcmNoL3Bvd2VycGMvcGxhdGZvcm1zL3BzMy9zeXN0ZW0tYnVzLmMKQEAgLTM4Miw3ICsz
ODIsNiBAQCBzdGF0aWMgaW50IHBzM19zeXN0ZW1fYnVzX3Byb2JlKHN0cnVjdCBkZXZpY2UgKl9k
ZXYpCiAKIHN0YXRpYyBpbnQgcHMzX3N5c3RlbV9idXNfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKl9k
ZXYpCiB7Ci0JaW50IHJlc3VsdCA9IDA7CiAJc3RydWN0IHBzM19zeXN0ZW1fYnVzX2RldmljZSAq
ZGV2ID0gcHMzX2Rldl90b19zeXN0ZW1fYnVzX2RldihfZGV2KTsKIAlzdHJ1Y3QgcHMzX3N5c3Rl
bV9idXNfZHJpdmVyICpkcnY7CiAKQEAgLTM5MywxMyArMzkyLDEzIEBAIHN0YXRpYyBpbnQgcHMz
X3N5c3RlbV9idXNfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKl9kZXYpCiAJQlVHX09OKCFkcnYpOwog
CiAJaWYgKGRydi0+cmVtb3ZlKQotCQlyZXN1bHQgPSBkcnYtPnJlbW92ZShkZXYpOworCQlkcnYt
PnJlbW92ZShkZXYpOwogCWVsc2UKIAkJZGV2X2RiZygmZGV2LT5jb3JlLCAiJXM6JWQgJXM6IG5v
IHJlbW92ZSBtZXRob2RcbiIsCiAJCQlfX2Z1bmNfXywgX19MSU5FX18sIGRydi0+Y29yZS5uYW1l
KTsKIAogCXByX2RlYnVnKCIgPC0gJXM6JWQ6ICVzXG4iLCBfX2Z1bmNfXywgX19MSU5FX18sIGRl
dl9uYW1lKCZkZXYtPmNvcmUpKTsKLQlyZXR1cm4gcmVzdWx0OworCXJldHVybiAwOwogfQogCiBz
dGF0aWMgdm9pZCBwczNfc3lzdGVtX2J1c19zaHV0ZG93bihzdHJ1Y3QgZGV2aWNlICpfZGV2KQpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ibG9jay9wczNkaXNrLmMgYi9kcml2ZXJzL2Jsb2NrL3BzM2Rp
c2suYwppbmRleCA3YjU1ODExYzJhODEuLmJhM2VjZTU2Y2JiMyAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ibG9jay9wczNkaXNrLmMKKysrIGIvZHJpdmVycy9ibG9jay9wczNkaXNrLmMKQEAgLTUwNyw3
ICs1MDcsNyBAQCBzdGF0aWMgaW50IHBzM2Rpc2tfcHJvYmUoc3RydWN0IHBzM19zeXN0ZW1fYnVz
X2RldmljZSAqX2RldikKIAlyZXR1cm4gZXJyb3I7CiB9CiAKLXN0YXRpYyBpbnQgcHMzZGlza19y
ZW1vdmUoc3RydWN0IHBzM19zeXN0ZW1fYnVzX2RldmljZSAqX2RldikKK3N0YXRpYyB2b2lkIHBz
M2Rpc2tfcmVtb3ZlKHN0cnVjdCBwczNfc3lzdGVtX2J1c19kZXZpY2UgKl9kZXYpCiB7CiAJc3Ry
dWN0IHBzM19zdG9yYWdlX2RldmljZSAqZGV2ID0gdG9fcHMzX3N0b3JhZ2VfZGV2aWNlKCZfZGV2
LT5jb3JlKTsKIAlzdHJ1Y3QgcHMzZGlza19wcml2YXRlICpwcml2ID0gcHMzX3N5c3RlbV9idXNf
Z2V0X2RydmRhdGEoJmRldi0+c2JkKTsKQEAgLTUyNiw3ICs1MjYsNiBAQCBzdGF0aWMgaW50IHBz
M2Rpc2tfcmVtb3ZlKHN0cnVjdCBwczNfc3lzdGVtX2J1c19kZXZpY2UgKl9kZXYpCiAJa2ZyZWUo
ZGV2LT5ib3VuY2VfYnVmKTsKIAlrZnJlZShwcml2KTsKIAlwczNfc3lzdGVtX2J1c19zZXRfZHJ2
ZGF0YShfZGV2LCBOVUxMKTsKLQlyZXR1cm4gMDsKIH0KIAogc3RhdGljIHN0cnVjdCBwczNfc3lz
dGVtX2J1c19kcml2ZXIgcHMzZGlzayA9IHsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvYmxvY2svcHMz
dnJhbS5jIGIvZHJpdmVycy9ibG9jay9wczN2cmFtLmMKaW5kZXggMTA4ODc5OGM4ZGQwLi5iNzFk
MjgzNzJlZjMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvYmxvY2svcHMzdnJhbS5jCisrKyBiL2RyaXZl
cnMvYmxvY2svcHMzdnJhbS5jCkBAIC03OTcsNyArNzk3LDcgQEAgc3RhdGljIGludCBwczN2cmFt
X3Byb2JlKHN0cnVjdCBwczNfc3lzdGVtX2J1c19kZXZpY2UgKmRldikKIAlyZXR1cm4gZXJyb3I7
CiB9CiAKLXN0YXRpYyBpbnQgcHMzdnJhbV9yZW1vdmUoc3RydWN0IHBzM19zeXN0ZW1fYnVzX2Rl
dmljZSAqZGV2KQorc3RhdGljIHZvaWQgcHMzdnJhbV9yZW1vdmUoc3RydWN0IHBzM19zeXN0ZW1f
YnVzX2RldmljZSAqZGV2KQogewogCXN0cnVjdCBwczN2cmFtX3ByaXYgKnByaXYgPSBwczNfc3lz
dGVtX2J1c19nZXRfZHJ2ZGF0YShkZXYpOwogCkBAIC04MTcsNyArODE3LDYgQEAgc3RhdGljIGlu
dCBwczN2cmFtX3JlbW92ZShzdHJ1Y3QgcHMzX3N5c3RlbV9idXNfZGV2aWNlICpkZXYpCiAJZnJl
ZV9wYWdlcygodW5zaWduZWQgbG9uZykgcHJpdi0+eGRyX2J1ZiwgZ2V0X29yZGVyKFhEUl9CVUZf
U0laRSkpOwogCWtmcmVlKHByaXYpOwogCXBzM19zeXN0ZW1fYnVzX3NldF9kcnZkYXRhKGRldiwg
TlVMTCk7Ci0JcmV0dXJuIDA7CiB9CiAKIHN0YXRpYyBzdHJ1Y3QgcHMzX3N5c3RlbV9idXNfZHJp
dmVyIHBzM3ZyYW0gPSB7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2NoYXIvcHMzZmxhc2guYyBiL2Ry
aXZlcnMvY2hhci9wczNmbGFzaC5jCmluZGV4IDFhMDdmZWUzM2Y2Ni4uMjM4NzFjZGU0MWZiIDEw
MDY0NAotLS0gYS9kcml2ZXJzL2NoYXIvcHMzZmxhc2guYworKysgYi9kcml2ZXJzL2NoYXIvcHMz
Zmxhc2guYwpAQCAtNDAzLDcgKzQwMyw3IEBAIHN0YXRpYyBpbnQgcHMzZmxhc2hfcHJvYmUoc3Ry
dWN0IHBzM19zeXN0ZW1fYnVzX2RldmljZSAqX2RldikKIAlyZXR1cm4gZXJyb3I7CiB9CiAKLXN0
YXRpYyBpbnQgcHMzZmxhc2hfcmVtb3ZlKHN0cnVjdCBwczNfc3lzdGVtX2J1c19kZXZpY2UgKl9k
ZXYpCitzdGF0aWMgdm9pZCBwczNmbGFzaF9yZW1vdmUoc3RydWN0IHBzM19zeXN0ZW1fYnVzX2Rl
dmljZSAqX2RldikKIHsKIAlzdHJ1Y3QgcHMzX3N0b3JhZ2VfZGV2aWNlICpkZXYgPSB0b19wczNf
c3RvcmFnZV9kZXZpY2UoJl9kZXYtPmNvcmUpOwogCkBAIC00MTMsNyArNDEzLDYgQEAgc3RhdGlj
IGludCBwczNmbGFzaF9yZW1vdmUoc3RydWN0IHBzM19zeXN0ZW1fYnVzX2RldmljZSAqX2RldikK
IAlrZnJlZShwczNfc3lzdGVtX2J1c19nZXRfZHJ2ZGF0YSgmZGV2LT5zYmQpKTsKIAlwczNfc3lz
dGVtX2J1c19zZXRfZHJ2ZGF0YSgmZGV2LT5zYmQsIE5VTEwpOwogCXBzM2ZsYXNoX2RldiA9IE5V
TEw7Ci0JcmV0dXJuIDA7CiB9CiAKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9uZXQvZXRoZXJuZXQv
dG9zaGliYS9wczNfZ2VsaWNfbmV0LmMgYi9kcml2ZXJzL25ldC9ldGhlcm5ldC90b3NoaWJhL3Bz
M19nZWxpY19uZXQuYwppbmRleCBkOWE1NzIyZjU2MWIuLjNkMWZjOGQyY2E2NiAxMDA2NDQKLS0t
IGEvZHJpdmVycy9uZXQvZXRoZXJuZXQvdG9zaGliYS9wczNfZ2VsaWNfbmV0LmMKKysrIGIvZHJp
dmVycy9uZXQvZXRoZXJuZXQvdG9zaGliYS9wczNfZ2VsaWNfbmV0LmMKQEAgLTE3OTEsNyArMTc5
MSw3IEBAIHN0YXRpYyBpbnQgcHMzX2dlbGljX2RyaXZlcl9wcm9iZShzdHJ1Y3QgcHMzX3N5c3Rl
bV9idXNfZGV2aWNlICpkZXYpCiAgKiBwczNfZ2VsaWNfZHJpdmVyX3JlbW92ZSAtIHJlbW92ZSBh
IGRldmljZSBmcm9tIHRoZSBjb250cm9sIG9mIHRoaXMgZHJpdmVyCiAgKi8KIAotc3RhdGljIGlu
dCBwczNfZ2VsaWNfZHJpdmVyX3JlbW92ZShzdHJ1Y3QgcHMzX3N5c3RlbV9idXNfZGV2aWNlICpk
ZXYpCitzdGF0aWMgdm9pZCBwczNfZ2VsaWNfZHJpdmVyX3JlbW92ZShzdHJ1Y3QgcHMzX3N5c3Rl
bV9idXNfZGV2aWNlICpkZXYpCiB7CiAJc3RydWN0IGdlbGljX2NhcmQgKmNhcmQgPSBwczNfc3lz
dGVtX2J1c19nZXRfZHJ2ZGF0YShkZXYpOwogCXN0cnVjdCBuZXRfZGV2aWNlICpuZXRkZXYwOwpA
QCAtMTg0MCw3ICsxODQwLDYgQEAgc3RhdGljIGludCBwczNfZ2VsaWNfZHJpdmVyX3JlbW92ZShz
dHJ1Y3QgcHMzX3N5c3RlbV9idXNfZGV2aWNlICpkZXYpCiAJcHMzX2Nsb3NlX2h2X2RldmljZShk
ZXYpOwogCiAJcHJfZGVidWcoIiVzOiBkb25lXG4iLCBfX2Z1bmNfXyk7Ci0JcmV0dXJuIDA7CiB9
CiAKIHN0YXRpYyBzdHJ1Y3QgcHMzX3N5c3RlbV9idXNfZHJpdmVyIHBzM19nZWxpY19kcml2ZXIg
PSB7CmRpZmYgLS1naXQgYS9kcml2ZXJzL3BzMy9wczMtbHBtLmMgYi9kcml2ZXJzL3BzMy9wczMt
bHBtLmMKaW5kZXggZTU0YWEyZDgyZjUwLi42NTUxMmI2Y2M2ZmQgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvcHMzL3BzMy1scG0uYworKysgYi9kcml2ZXJzL3BzMy9wczMtbHBtLmMKQEAgLTExOTYsNyAr
MTE5Niw3IEBAIHN0YXRpYyBpbnQgcHMzX2xwbV9wcm9iZShzdHJ1Y3QgcHMzX3N5c3RlbV9idXNf
ZGV2aWNlICpkZXYpCiAJcmV0dXJuIDA7CiB9CiAKLXN0YXRpYyBpbnQgcHMzX2xwbV9yZW1vdmUo
c3RydWN0IHBzM19zeXN0ZW1fYnVzX2RldmljZSAqZGV2KQorc3RhdGljIHZvaWQgcHMzX2xwbV9y
ZW1vdmUoc3RydWN0IHBzM19zeXN0ZW1fYnVzX2RldmljZSAqZGV2KQogewogCWRldl9kYmcoJmRl
di0+Y29yZSwgIiAtPiAlczoldTpcbiIsIF9fZnVuY19fLCBfX0xJTkVfXyk7CiAKQEAgLTEyMDYs
NyArMTIwNiw2IEBAIHN0YXRpYyBpbnQgcHMzX2xwbV9yZW1vdmUoc3RydWN0IHBzM19zeXN0ZW1f
YnVzX2RldmljZSAqZGV2KQogCWxwbV9wcml2ID0gTlVMTDsKIAogCWRldl9pbmZvKCZkZXYtPmNv
cmUsICIgPC0gJXM6JXU6XG4iLCBfX2Z1bmNfXywgX19MSU5FX18pOwotCXJldHVybiAwOwogfQog
CiBzdGF0aWMgc3RydWN0IHBzM19zeXN0ZW1fYnVzX2RyaXZlciBwczNfbHBtX2RyaXZlciA9IHsK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvcHMzL3BzMy12dWFydC5jIGIvZHJpdmVycy9wczMvcHMzLXZ1
YXJ0LmMKaW5kZXggNGVkMTMxZWFmZjUxLi5lMzRhZTZhNDQyYzcgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvcHMzL3BzMy12dWFydC5jCisrKyBiL2RyaXZlcnMvcHMzL3BzMy12dWFydC5jCkBAIC0xMTAy
LDcgKzExMDIsNyBAQCBzdGF0aWMgaW50IHBzM192dWFydF9jbGVhbnVwKHN0cnVjdCBwczNfc3lz
dGVtX2J1c19kZXZpY2UgKmRldikKICAqIGRldmljZSBjYW4gbm8gbG9uZ2VyIGJlIHVzZWQuCiAg
Ki8KIAotc3RhdGljIGludCBwczNfdnVhcnRfcmVtb3ZlKHN0cnVjdCBwczNfc3lzdGVtX2J1c19k
ZXZpY2UgKmRldikKK3N0YXRpYyB2b2lkIHBzM192dWFydF9yZW1vdmUoc3RydWN0IHBzM19zeXN0
ZW1fYnVzX2RldmljZSAqZGV2KQogewogCXN0cnVjdCBwczNfdnVhcnRfcG9ydF9wcml2ICpwcml2
ID0gdG9fcG9ydF9wcml2KGRldik7CiAJc3RydWN0IHBzM192dWFydF9wb3J0X2RyaXZlciAqZHJ2
OwpAQCAtMTExOCw3ICsxMTE4LDcgQEAgc3RhdGljIGludCBwczNfdnVhcnRfcmVtb3ZlKHN0cnVj
dCBwczNfc3lzdGVtX2J1c19kZXZpY2UgKmRldikKIAkJZGV2X2RiZygmZGV2LT5jb3JlLCAiJXM6
JWQ6IG5vIGRyaXZlciBib3VuZFxuIiwgX19mdW5jX18sCiAJCQlfX0xJTkVfXyk7CiAJCW11dGV4
X3VubG9jaygmdnVhcnRfYnVzX3ByaXYucHJvYmVfbXV0ZXgpOwotCQlyZXR1cm4gMDsKKwkJcmV0
dXJuOwogCX0KIAogCWRydiA9IHBzM19zeXN0ZW1fYnVzX2Rldl90b192dWFydF9kcnYoZGV2KTsK
QEAgLTExNDEsNyArMTE0MSw2IEBAIHN0YXRpYyBpbnQgcHMzX3Z1YXJ0X3JlbW92ZShzdHJ1Y3Qg
cHMzX3N5c3RlbV9idXNfZGV2aWNlICpkZXYpCiAKIAlkZXZfZGJnKCZkZXYtPmNvcmUsICIgPC0g
JXM6JWRcbiIsIF9fZnVuY19fLCBfX0xJTkVfXyk7CiAJbXV0ZXhfdW5sb2NrKCZ2dWFydF9idXNf
cHJpdi5wcm9iZV9tdXRleCk7Ci0JcmV0dXJuIDA7CiB9CiAKIC8qKgpAQCAtMTE1NCw3ICsxMTUz
LDcgQEAgc3RhdGljIGludCBwczNfdnVhcnRfcmVtb3ZlKHN0cnVjdCBwczNfc3lzdGVtX2J1c19k
ZXZpY2UgKmRldikKICAqIHNlcXVlbmNlLgogICovCiAKLXN0YXRpYyBpbnQgcHMzX3Z1YXJ0X3No
dXRkb3duKHN0cnVjdCBwczNfc3lzdGVtX2J1c19kZXZpY2UgKmRldikKK3N0YXRpYyB2b2lkIHBz
M192dWFydF9zaHV0ZG93bihzdHJ1Y3QgcHMzX3N5c3RlbV9idXNfZGV2aWNlICpkZXYpCiB7CiAJ
c3RydWN0IHBzM192dWFydF9wb3J0X2RyaXZlciAqZHJ2OwogCkBAIC0xMTY5LDcgKzExNjgsNyBA
QCBzdGF0aWMgaW50IHBzM192dWFydF9zaHV0ZG93bihzdHJ1Y3QgcHMzX3N5c3RlbV9idXNfZGV2
aWNlICpkZXYpCiAJCWRldl9kYmcoJmRldi0+Y29yZSwgIiVzOiVkOiBubyBkcml2ZXIgYm91bmRc
biIsIF9fZnVuY19fLAogCQkJX19MSU5FX18pOwogCQltdXRleF91bmxvY2soJnZ1YXJ0X2J1c19w
cml2LnByb2JlX211dGV4KTsKLQkJcmV0dXJuIDA7CisJCXJldHVybjsKIAl9CiAKIAlkcnYgPSBw
czNfc3lzdGVtX2J1c19kZXZfdG9fdnVhcnRfZHJ2KGRldik7CkBAIC0xMTkzLDcgKzExOTIsNiBA
QCBzdGF0aWMgaW50IHBzM192dWFydF9zaHV0ZG93bihzdHJ1Y3QgcHMzX3N5c3RlbV9idXNfZGV2
aWNlICpkZXYpCiAJZGV2X2RiZygmZGV2LT5jb3JlLCAiIDwtICVzOiVkXG4iLCBfX2Z1bmNfXywg
X19MSU5FX18pOwogCiAJbXV0ZXhfdW5sb2NrKCZ2dWFydF9idXNfcHJpdi5wcm9iZV9tdXRleCk7
Ci0JcmV0dXJuIDA7CiB9CiAKIHN0YXRpYyBpbnQgX19pbml0IHBzM192dWFydF9idXNfaW5pdCh2
b2lkKQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9zY3NpL3BzM3JvbS5jIGIvZHJpdmVycy9zY3NpL3Bz
M3JvbS5jCmluZGV4IGY3NWMwYjVjZDU4Ny4uY2NiNTc3MWYxY2I3IDEwMDY0NAotLS0gYS9kcml2
ZXJzL3Njc2kvcHMzcm9tLmMKKysrIGIvZHJpdmVycy9zY3NpL3BzM3JvbS5jCkBAIC00MDIsNyAr
NDAyLDcgQEAgc3RhdGljIGludCBwczNyb21fcHJvYmUoc3RydWN0IHBzM19zeXN0ZW1fYnVzX2Rl
dmljZSAqX2RldikKIAlyZXR1cm4gZXJyb3I7CiB9CiAKLXN0YXRpYyBpbnQgcHMzcm9tX3JlbW92
ZShzdHJ1Y3QgcHMzX3N5c3RlbV9idXNfZGV2aWNlICpfZGV2KQorc3RhdGljIHZvaWQgcHMzcm9t
X3JlbW92ZShzdHJ1Y3QgcHMzX3N5c3RlbV9idXNfZGV2aWNlICpfZGV2KQogewogCXN0cnVjdCBw
czNfc3RvcmFnZV9kZXZpY2UgKmRldiA9IHRvX3BzM19zdG9yYWdlX2RldmljZSgmX2Rldi0+Y29y
ZSk7CiAJc3RydWN0IFNjc2lfSG9zdCAqaG9zdCA9IHBzM19zeXN0ZW1fYnVzX2dldF9kcnZkYXRh
KCZkZXYtPnNiZCk7CkBAIC00MTIsNyArNDEyLDYgQEAgc3RhdGljIGludCBwczNyb21fcmVtb3Zl
KHN0cnVjdCBwczNfc3lzdGVtX2J1c19kZXZpY2UgKl9kZXYpCiAJc2NzaV9ob3N0X3B1dChob3N0
KTsKIAlwczNfc3lzdGVtX2J1c19zZXRfZHJ2ZGF0YSgmZGV2LT5zYmQsIE5VTEwpOwogCWtmcmVl
KGRldi0+Ym91bmNlX2J1Zik7Ci0JcmV0dXJuIDA7CiB9CiAKIHN0YXRpYyBzdHJ1Y3QgcHMzX3N5
c3RlbV9idXNfZHJpdmVyIHBzM3JvbSA9IHsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvdXNiL2hvc3Qv
ZWhjaS1wczMuYyBiL2RyaXZlcnMvdXNiL2hvc3QvZWhjaS1wczMuYwppbmRleCBmYjUyMTMzYzM1
NTcuLjk4NTY4YjA0NmExYSAxMDA2NDQKLS0tIGEvZHJpdmVycy91c2IvaG9zdC9laGNpLXBzMy5j
CisrKyBiL2RyaXZlcnMvdXNiL2hvc3QvZWhjaS1wczMuYwpAQCAtMjAwLDcgKzIwMCw3IEBAIHN0
YXRpYyBpbnQgcHMzX2VoY2lfcHJvYmUoc3RydWN0IHBzM19zeXN0ZW1fYnVzX2RldmljZSAqZGV2
KQogCXJldHVybiByZXN1bHQ7CiB9CiAKLXN0YXRpYyBpbnQgcHMzX2VoY2lfcmVtb3ZlKHN0cnVj
dCBwczNfc3lzdGVtX2J1c19kZXZpY2UgKmRldikKK3N0YXRpYyB2b2lkIHBzM19laGNpX3JlbW92
ZShzdHJ1Y3QgcHMzX3N5c3RlbV9idXNfZGV2aWNlICpkZXYpCiB7CiAJdW5zaWduZWQgaW50IHRt
cDsKIAlzdHJ1Y3QgdXNiX2hjZCAqaGNkID0gcHMzX3N5c3RlbV9idXNfZ2V0X2RydmRhdGEoZGV2
KTsKQEAgLTIyNyw4ICsyMjcsNiBAQCBzdGF0aWMgaW50IHBzM19laGNpX3JlbW92ZShzdHJ1Y3Qg
cHMzX3N5c3RlbV9idXNfZGV2aWNlICpkZXYpCiAKIAlwczNfZG1hX3JlZ2lvbl9mcmVlKGRldi0+
ZF9yZWdpb24pOwogCXBzM19jbG9zZV9odl9kZXZpY2UoZGV2KTsKLQotCXJldHVybiAwOwogfQog
CiBzdGF0aWMgaW50IF9faW5pdCBwczNfZWhjaV9kcml2ZXJfcmVnaXN0ZXIoc3RydWN0IHBzM19z
eXN0ZW1fYnVzX2RyaXZlciAqZHJ2KQpkaWZmIC0tZ2l0IGEvZHJpdmVycy91c2IvaG9zdC9vaGNp
LXBzMy5jIGIvZHJpdmVycy91c2IvaG9zdC9vaGNpLXBzMy5jCmluZGV4IGY3N2NkNmFmMGNjZi4u
NGY1YWY5MjljM2U0IDEwMDY0NAotLS0gYS9kcml2ZXJzL3VzYi9ob3N0L29oY2ktcHMzLmMKKysr
IGIvZHJpdmVycy91c2IvaG9zdC9vaGNpLXBzMy5jCkBAIC0xODQsNyArMTg0LDcgQEAgc3RhdGlj
IGludCBwczNfb2hjaV9wcm9iZShzdHJ1Y3QgcHMzX3N5c3RlbV9idXNfZGV2aWNlICpkZXYpCiAJ
cmV0dXJuIHJlc3VsdDsKIH0KIAotc3RhdGljIGludCBwczNfb2hjaV9yZW1vdmUoc3RydWN0IHBz
M19zeXN0ZW1fYnVzX2RldmljZSAqZGV2KQorc3RhdGljIHZvaWQgcHMzX29oY2lfcmVtb3ZlKHN0
cnVjdCBwczNfc3lzdGVtX2J1c19kZXZpY2UgKmRldikKIHsKIAl1bnNpZ25lZCBpbnQgdG1wOwog
CXN0cnVjdCB1c2JfaGNkICpoY2QgPSBwczNfc3lzdGVtX2J1c19nZXRfZHJ2ZGF0YShkZXYpOwpA
QCAtMjEyLDggKzIxMiw2IEBAIHN0YXRpYyBpbnQgcHMzX29oY2lfcmVtb3ZlKHN0cnVjdCBwczNf
c3lzdGVtX2J1c19kZXZpY2UgKmRldikKIAogCXBzM19kbWFfcmVnaW9uX2ZyZWUoZGV2LT5kX3Jl
Z2lvbik7CiAJcHMzX2Nsb3NlX2h2X2RldmljZShkZXYpOwotCi0JcmV0dXJuIDA7CiB9CiAKIHN0
YXRpYyBpbnQgX19pbml0IHBzM19vaGNpX2RyaXZlcl9yZWdpc3RlcihzdHJ1Y3QgcHMzX3N5c3Rl
bV9idXNfZHJpdmVyICpkcnYpCmRpZmYgLS1naXQgYS9kcml2ZXJzL3ZpZGVvL2ZiZGV2L3BzM2Zi
LmMgYi9kcml2ZXJzL3ZpZGVvL2ZiZGV2L3BzM2ZiLmMKaW5kZXggMjAzYzI1NGY4ZjZjLi4yZmUw
OGI2N2VkYTcgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvdmlkZW8vZmJkZXYvcHMzZmIuYworKysgYi9k
cml2ZXJzL3ZpZGVvL2ZiZGV2L3BzM2ZiLmMKQEAgLTEyMDgsNyArMTIwOCw3IEBAIHN0YXRpYyBp
bnQgcHMzZmJfcHJvYmUoc3RydWN0IHBzM19zeXN0ZW1fYnVzX2RldmljZSAqZGV2KQogCXJldHVy
biByZXR2YWw7CiB9CiAKLXN0YXRpYyBpbnQgcHMzZmJfc2h1dGRvd24oc3RydWN0IHBzM19zeXN0
ZW1fYnVzX2RldmljZSAqZGV2KQorc3RhdGljIHZvaWQgcHMzZmJfc2h1dGRvd24oc3RydWN0IHBz
M19zeXN0ZW1fYnVzX2RldmljZSAqZGV2KQogewogCXN0cnVjdCBmYl9pbmZvICppbmZvID0gcHMz
X3N5c3RlbV9idXNfZ2V0X2RydmRhdGEoZGV2KTsKIAl1NjQgeGRyX2xwYXIgPSBwczNfbW1fcGh5
c190b19scGFyKF9fcGEocHMzZmJfdmlkZW9tZW1vcnkuYWRkcmVzcykpOwpAQCAtMTI0MSw4ICsx
MjQxLDYgQEAgc3RhdGljIGludCBwczNmYl9zaHV0ZG93bihzdHJ1Y3QgcHMzX3N5c3RlbV9idXNf
ZGV2aWNlICpkZXYpCiAJbHYxX2dwdV9tZW1vcnlfZnJlZShwczNmYi5tZW1vcnlfaGFuZGxlKTsK
IAlwczNfY2xvc2VfaHZfZGV2aWNlKGRldik7CiAJZGV2X2RiZygmZGV2LT5jb3JlLCAiIDwtICVz
OiVkXG4iLCBfX2Z1bmNfXywgX19MSU5FX18pOwotCi0JcmV0dXJuIDA7CiB9CiAKIHN0YXRpYyBz
dHJ1Y3QgcHMzX3N5c3RlbV9idXNfZHJpdmVyIHBzM2ZiX2RyaXZlciA9IHsKZGlmZiAtLWdpdCBh
L3NvdW5kL3BwYy9zbmRfcHMzLmMgYi9zb3VuZC9wcGMvc25kX3BzMy5jCmluZGV4IDZhYjc5NmE1
ZDkzNi4uOGU0NGZhNWQ0ZGM3IDEwMDY0NAotLS0gYS9zb3VuZC9wcGMvc25kX3BzMy5jCisrKyBi
L3NvdW5kL3BwYy9zbmRfcHMzLmMKQEAgLTEwNDksNyArMTA0OSw3IEBAIHN0YXRpYyBpbnQgc25k
X3BzM19kcml2ZXJfcHJvYmUoc3RydWN0IHBzM19zeXN0ZW1fYnVzX2RldmljZSAqZGV2KQogfTsg
Lyogc25kX3BzM19wcm9iZSAqLwogCiAvKiBjYWxsZWQgd2hlbiBtb2R1bGUgcmVtb3ZhbCAqLwot
c3RhdGljIGludCBzbmRfcHMzX2RyaXZlcl9yZW1vdmUoc3RydWN0IHBzM19zeXN0ZW1fYnVzX2Rl
dmljZSAqZGV2KQorc3RhdGljIHZvaWQgc25kX3BzM19kcml2ZXJfcmVtb3ZlKHN0cnVjdCBwczNf
c3lzdGVtX2J1c19kZXZpY2UgKmRldikKIHsKIAlpbnQgcmV0OwogCXByX2luZm8oIiVzOnN0YXJ0
IGlkPSVkXG4iLCBfX2Z1bmNfXywgIGRldi0+bWF0Y2hfaWQpOwpAQCAtMTA3NSw3ICsxMDc1LDYg
QEAgc3RhdGljIGludCBzbmRfcHMzX2RyaXZlcl9yZW1vdmUoc3RydWN0IHBzM19zeXN0ZW1fYnVz
X2RldmljZSAqZGV2KQogCWx2MV9ncHVfZGV2aWNlX3VubWFwKDIpOwogCXBzM19jbG9zZV9odl9k
ZXZpY2UoZGV2KTsKIAlwcl9pbmZvKCIlczplbmQgaWQ9JWRcbiIsIF9fZnVuY19fLCBkZXYtPm1h
dGNoX2lkKTsKLQlyZXR1cm4gMDsKIH0gLyogc25kX3BzM19yZW1vdmUgKi8KIAogc3RhdGljIHN0
cnVjdCBwczNfc3lzdGVtX2J1c19kcml2ZXIgc25kX3BzM19idXNfZHJpdmVyX2luZm8gPSB7Ci0t
IAoyLjI5LjIKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
CmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpo
dHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbAo=
