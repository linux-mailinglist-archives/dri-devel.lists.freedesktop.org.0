Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 55CD9F8A43
	for <lists+dri-devel@lfdr.de>; Tue, 12 Nov 2019 09:14:05 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AECA06EA77;
	Tue, 12 Nov 2019 08:13:40 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from NAM01-SN1-obe.outbound.protection.outlook.com
 (mail-eopbgr820100.outbound.protection.outlook.com [40.107.82.100])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C3C2A6E79A
 for <dri-devel@lists.freedesktop.org>; Tue, 12 Nov 2019 06:34:40 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=D6xvr6FuUMDRIjSTIJ62gAcSj+A6JQb0kaiTtYKa9CVtXQcW5ZPj2S60uFI95SjMOGoUTxBOxW2Zlqhbv4ELEec65nRyQX/fbSSk2MQDGpOz3N0ARc20JpZOU2S3cFMmU7Sek2COyaluEO9AXedfTPzgcXtv44e0xKbtkhm4Ga8YwB9H7wmo+gyuxWBUFJQp3+byk+spDBYGfjJd7pVpeyrIuVV1FW+Qq8LT1f1nDBskm9miCBdX8ivuILAhneD2dHsLTSbtvBouEZlZP8071zYtZX6Tc+KK6fCpUsN5F2k1KfPrylEvsQn9kAlvFVp/jAEmkTWlhR8ZQ9E1yX/TBA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=ZLuUVaLv7LDcJj2x2UXLB0KOnpurjlVzXbleErQs1DA=;
 b=hOt4qk0am3Lq1Mdj5bHhVSt1S/cQP0ZAgABies9EvTrEkvFmb89V5pK0V6w6/kdcBYvYq7vdv5OL6evM6HYlaF6E+jsfwvN4kiJiyq5qAdOWGnpNFstO0sqcDNITErp3Xs0HJkSZTZNwfQMfO3GRuXn7uvCg5tzW/YLcB2ins+Bj7VuWg3dHUq3rOzmKuXgo7nJEv0qSXPmprUqv6fTIYgfURwRDhHUrvmvnCy3pNtjs7Eq+/0PcD/+0MQnnzfoDP7eOoycX+EOL0Wuq7aqPRbeChgBdheUDWk9EJQ9pnNlKqQ20Cqtc0ccfP3O6h/eVEBj+/F8rU2zy5qgFAXHvUA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=analogixsemi.com; dmarc=pass action=none
 header.from=analogixsemi.com; dkim=pass header.d=analogixsemi.com; arc=none
Received: from SN6PR04MB4543.namprd04.prod.outlook.com (52.135.120.29) by
 SN6PR04MB4288.namprd04.prod.outlook.com (52.135.72.20) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2430.20; Tue, 12 Nov 2019 06:34:29 +0000
Received: from SN6PR04MB4543.namprd04.prod.outlook.com
 ([fe80::859:2d31:1f00:fa16]) by SN6PR04MB4543.namprd04.prod.outlook.com
 ([fe80::859:2d31:1f00:fa16%5]) with mapi id 15.20.2430.027; Tue, 12 Nov 2019
 06:34:29 +0000
From: Xin Ji <xji@analogixsemi.com>
To: "devel@driverdev.osuosl.org" <devel@driverdev.osuosl.org>, Laurent
 Pinchart <laurent.pinchart@ideasonboard.com>, Andrzej Hajda
 <a.hajda@samsung.com>
Subject: [PATCH v5 2/2] drm/bridge: anx7625: Add anx7625 MIPI DSI/DPI to DP
 bridge driver
Thread-Topic: [PATCH v5 2/2] drm/bridge: anx7625: Add anx7625 MIPI DSI/DPI to
 DP bridge driver
Thread-Index: AQHVmSM8P/XgSIvH30W+Inp+6338qA==
Date: Tue, 12 Nov 2019 06:34:28 +0000
Message-ID: <6596e3e7a802e80079525a94b66577ca3ff9281d.1573540100.git.xji@analogixsemi.com>
References: <cover.1573540100.git.xji@analogixsemi.com>
In-Reply-To: <cover.1573540100.git.xji@analogixsemi.com>
Accept-Language: zh-CN, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: HK0P153CA0034.APCP153.PROD.OUTLOOK.COM
 (2603:1096:203:17::22) To SN6PR04MB4543.namprd04.prod.outlook.com
 (2603:10b6:805:a8::29)
x-ms-exchange-messagesentrepresentingtype: 1
x-originating-ip: [114.247.245.252]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 22a29e9b-d54e-4996-a1b7-08d7673a5e53
x-ms-traffictypediagnostic: SN6PR04MB4288:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <SN6PR04MB42886F36B52FC9346A64CBF1C7770@SN6PR04MB4288.namprd04.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:4941;
x-forefront-prvs: 021975AE46
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10019020)(366004)(39840400004)(346002)(376002)(396003)(136003)(189003)(199004)(66066001)(26005)(4326008)(6506007)(6512007)(102836004)(6436002)(386003)(561924002)(2906002)(6486002)(30864003)(486006)(476003)(446003)(11346002)(2616005)(52116002)(76176011)(186003)(107886003)(118296001)(66446008)(64756008)(66556008)(66476007)(66946007)(86362001)(5024004)(14444005)(256004)(8936002)(99286004)(71200400001)(3846002)(71190400001)(25786009)(110136005)(7416002)(54906003)(5660300002)(2501003)(36756003)(81156014)(81166006)(478600001)(8676002)(305945005)(316002)(7736002)(6116002)(14454004)(579004)(559001)(569006);
 DIR:OUT; SFP:1102; SCL:1; SRVR:SN6PR04MB4288;
 H:SN6PR04MB4543.namprd04.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: analogixsemi.com does not
 designate permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: oQDTMK/DZlQw2KBrJKqpQA2z8S3B7ZWTUBT/KBa7F/ZEDI3CZv6l7RXxJQpxNejvAB14RW04euuQy0Ihln77dA7lD9ot1tdZkal5Aj3KViou2cGM6eh8A0zFYDD7Hnt52MxkOADlXOcE708G1h0efDyJA/3acOGJ0shqc08RQmHu17/fgHVFUXCNnKiD4K1GagqinPRmDTvq5ooAoteUFnWkveJcFod1M0M/52NhnI3jUvMqy2ShBDn9pYLsOAIwjUUvb72GFdP7HnP1Yf3QBgzokD2tmSOkZbmb6GTIqGRV+OHFwmznQMsYDfWgu8kkBUksIXDSOc6P34g+UT/dQtCFwV0IfgSae0VKU56KIyHHV+isZkZUPqCDWXOxU+jWU5UMKMvIN/KWLH9IFnRD3GGSBVp42s/ib8RPigLsKjp4ZaJa5wj0POzSnf0hEWtk
Content-ID: <7017DAEE829F3940AD9AE877656D947E@namprd04.prod.outlook.com>
MIME-Version: 1.0
X-OriginatorOrg: analogixsemi.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 22a29e9b-d54e-4996-a1b7-08d7673a5e53
X-MS-Exchange-CrossTenant-originalarrivaltime: 12 Nov 2019 06:34:29.0064 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: b099b0b4-f26c-4cf5-9a0f-d5be9acab205
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: qiq/h0TspfY3aqP5WyAvtMDSohXUyVOTq4LVhTchYjRXeN0/bKsgFEukSjHXnXLAMA5eQJryJDgJVVujMdysgg==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: SN6PR04MB4288
X-Mailman-Approved-At: Tue, 12 Nov 2019 08:13:33 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=Analogixsemi.onmicrosoft.com; s=selector2-Analogixsemi-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=ZLuUVaLv7LDcJj2x2UXLB0KOnpurjlVzXbleErQs1DA=;
 b=iD4v5BTsje+rkCPu0Y40r94Ohi0Rsl0V1ZAlOnVoBimTO/aP17a2daL5jyLXGiJRiCGuY+Zskh4eW3TD5lLe7GCYgTgCyq3cntHrJ9bSN8cIKpH7HNSq61mNIGRCWjPIYPBoHStceZzVihFPozfT2Qpl2gahsmkSEQLkemKMI6w=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=xji@analogixsemi.com; 
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Jernej Skrabec <jernej.skrabec@siol.net>,
 Nicolas Boichat <drinkcat@chromium.org>, Pi-Hsun Shih <pihsun@chromium.org>,
 Jonas Karlman <jonas@kwiboo.se>, David Airlie <airlied@linux.ie>,
 Neil Armstrong <narmstrong@baylibre.com>,
 "linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>,
 "dri-devel@lists.freedesktop.org" <dri-devel@lists.freedesktop.org>,
 Sheng Pan <span@analogixsemi.com>, Dan Carpenter <dan.carpenter@oracle.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIEFOWDc2MjUgaXMgYW4gdWx0cmEtbG93IHBvd2VyIDRLIE1vYmlsZSBIRCBUcmFuc21pdHRl
ciBkZXNpZ25lZApmb3IgcG9ydGFibGUgZGV2aWNlLiBJdCBjb252ZXJ0cyBNSVBJIERTSS9EUEkg
dG8gRGlzcGxheVBvcnQgMS4zIDRLLgoKVGhlIEFOWDc2MjUgY2FuIHN1cHBvcnQgYm90aCBVU0Ig
VHlwZS1DIFBEIGZlYXR1cmUgYW5kIE1JUEkgRFNJL0RQSQp0byBEUCBmZWF0dXJlLiBUaGlzIGRy
aXZlciBvbmx5IGVuYWJsZWQgTUlQSSBEU0kvRFBJIHRvIERQIGZlYXR1cmUuCgpTaWduZWQtb2Zm
LWJ5OiBYaW4gSmkgPHhqaUBhbmFsb2dpeHNlbWkuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9i
cmlkZ2UvTWFrZWZpbGUgICAgICAgICAgIHwgICAgMiArLQogZHJpdmVycy9ncHUvZHJtL2JyaWRn
ZS9hbmFsb2dpeC9LY29uZmlnICAgfCAgICA2ICsKIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5h
bG9naXgvTWFrZWZpbGUgIHwgICAgMSArCiBkcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4
L2FueDc2MjUuYyB8IDIwNDQgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysKIGRyaXZlcnMv
Z3B1L2RybS9icmlkZ2UvYW5hbG9naXgvYW54NzYyNS5oIHwgIDQwNiArKysrKysKIDUgZmlsZXMg
Y2hhbmdlZCwgMjQ1OCBpbnNlcnRpb25zKCspLCAxIGRlbGV0aW9uKC0pCiBjcmVhdGUgbW9kZSAx
MDA2NDQgZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9hbng3NjI1LmMKIGNyZWF0ZSBt
b2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FueDc2MjUuaAoKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvTWFrZWZpbGUgYi9kcml2ZXJzL2dwdS9k
cm0vYnJpZGdlL01ha2VmaWxlCmluZGV4IDQ5MzRmY2YuLmJjZDM4OGEgMTAwNjQ0Ci0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9icmlkZ2UvTWFrZWZpbGUKKysrIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRn
ZS9NYWtlZmlsZQpAQCAtMTIsOCArMTIsOCBAQCBvYmotJChDT05GSUdfRFJNX1NJSTkyMzQpICs9
IHNpaTkyMzQubwogb2JqLSQoQ09ORklHX0RSTV9USElORV9USEM2M0xWRDEwMjQpICs9IHRoYzYz
bHZkMTAyNC5vCiBvYmotJChDT05GSUdfRFJNX1RPU0hJQkFfVEMzNTg3NjQpICs9IHRjMzU4NzY0
Lm8KIG9iai0kKENPTkZJR19EUk1fVE9TSElCQV9UQzM1ODc2NykgKz0gdGMzNTg3Njcubwotb2Jq
LSQoQ09ORklHX0RSTV9BTkFMT0dJWF9EUCkgKz0gYW5hbG9naXgvCiBvYmotJChDT05GSUdfRFJN
X0kyQ19BRFY3NTExKSArPSBhZHY3NTExLwogb2JqLSQoQ09ORklHX0RSTV9USV9TTjY1RFNJODYp
ICs9IHRpLXNuNjVkc2k4Ni5vCiBvYmotJChDT05GSUdfRFJNX1RJX1RGUDQxMCkgKz0gdGktdGZw
NDEwLm8KK29iai15ICs9IGFuYWxvZ2l4Lwogb2JqLXkgKz0gc3lub3BzeXMvCmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L0tjb25maWcgYi9kcml2ZXJzL2dwdS9k
cm0vYnJpZGdlL2FuYWxvZ2l4L0tjb25maWcKaW5kZXggZTkzMGZmOS4uYjJmMTI3ZSAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9LY29uZmlnCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9naXgvS2NvbmZpZwpAQCAtMiwzICsyLDkgQEAKIGNvbmZp
ZyBEUk1fQU5BTE9HSVhfRFAKIAl0cmlzdGF0ZQogCWRlcGVuZHMgb24gRFJNCisKK2NvbmZpZyBB
TkFMT0dJWF9BTlg3NjI1CisJdHJpc3RhdGUgIkFuYWxvZ2l4IE1JUEkgdG8gRFAgaW50ZXJmYWNl
IHN1cHBvcnQiCisJaGVscAorCQlBTlg3NjI1IGlzIGFuIHVsdHJhLWxvdyBwb3dlciA0SyBtb2Jp
bGUgSEQgdHJhbnNtaXR0ZXIgZGVzaWduZWQKKwkJZm9yIHBvcnRhYmxlIGRldmljZXMuIEl0IGNv
bnZlcnRzIE1JUEkvRFBJIHRvIERpc3BsYXlQb3J0MS4zIDRLLgpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9NYWtlZmlsZSBiL2RyaXZlcnMvZ3B1L2RybS9icmlk
Z2UvYW5hbG9naXgvTWFrZWZpbGUKaW5kZXggZmRiZjNmZC4uOGE1Mjg2NyAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9NYWtlZmlsZQorKysgYi9kcml2ZXJzL2dw
dS9kcm0vYnJpZGdlL2FuYWxvZ2l4L01ha2VmaWxlCkBAIC0xLDMgKzEsNCBAQAogIyBTUERYLUxp
Y2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vbmx5CitvYmotJChDT05GSUdfQU5BTE9HSVhfQU5Y
NzYyNSkgKz0gYW54NzYyNS5vCiBhbmFsb2dpeF9kcC1vYmpzIDo9IGFuYWxvZ2l4X2RwX2NvcmUu
byBhbmFsb2dpeF9kcF9yZWcubwogb2JqLSQoQ09ORklHX0RSTV9BTkFMT0dJWF9EUCkgKz0gYW5h
bG9naXhfZHAubwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9h
bng3NjI1LmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FueDc2MjUuYwpuZXcg
ZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwLi42YWMxZTAyCi0tLSAvZGV2L251bGwKKysr
IGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9hbng3NjI1LmMKQEAgLTAsMCArMSwy
MDQ0IEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vbmx5CisvKgorICog
Q29weXJpZ2h0KGMpIDIwMTYsIEFuYWxvZ2l4IFNlbWljb25kdWN0b3IuIEFsbCByaWdodHMgcmVz
ZXJ2ZWQuCisgKgorICovCisjaW5jbHVkZSA8bGludXgvZXh0Y29uLmg+CisjaW5jbHVkZSA8bGlu
dXgvZ2NkLmg+CisjaW5jbHVkZSA8bGludXgvZ3Bpby9jb25zdW1lci5oPgorI2luY2x1ZGUgPGxp
bnV4L2kyYy5oPgorI2luY2x1ZGUgPGxpbnV4L2ludGVycnVwdC5oPgorI2luY2x1ZGUgPGxpbnV4
L2lvcG9sbC5oPgorI2luY2x1ZGUgPGxpbnV4L2tlcm5lbC5oPgorI2luY2x1ZGUgPGxpbnV4L21v
ZHVsZS5oPgorI2luY2x1ZGUgPGxpbnV4L211dGV4Lmg+CisjaW5jbHVkZSA8bGludXgvc2xhYi5o
PgorI2luY2x1ZGUgPGxpbnV4L3R5cGVzLmg+CisjaW5jbHVkZSA8bGludXgvd29ya3F1ZXVlLmg+
CisKKyNpbmNsdWRlIDxsaW51eC9vZl9ncGlvLmg+CisjaW5jbHVkZSA8bGludXgvb2ZfZ3JhcGgu
aD4KKyNpbmNsdWRlIDxsaW51eC9vZl9wbGF0Zm9ybS5oPgorCisjaW5jbHVkZSA8ZHJtL2RybV9h
dG9taWNfaGVscGVyLmg+CisjaW5jbHVkZSA8ZHJtL2RybV9icmlkZ2UuaD4KKyNpbmNsdWRlIDxk
cm0vZHJtX2NydGNfaGVscGVyLmg+CisjaW5jbHVkZSA8ZHJtL2RybV9kcF9oZWxwZXIuaD4KKyNp
bmNsdWRlIDxkcm0vZHJtX2VkaWQuaD4KKyNpbmNsdWRlIDxkcm0vZHJtX21pcGlfZHNpLmg+Cisj
aW5jbHVkZSA8ZHJtL2RybV9wYW5lbC5oPgorI2luY2x1ZGUgPGRybS9kcm1fcHJpbnQuaD4KKyNp
bmNsdWRlIDxkcm0vZHJtX3Byb2JlX2hlbHBlci5oPgorCisjaW5jbHVkZSA8dmlkZW8vZGlzcGxh
eV90aW1pbmcuaD4KKworI2luY2x1ZGUgImFueDc2MjUuaCIKKworLyoKKyAqIHRoZXJlIGlzIGEg
c3luYyBpc3N1ZSB3aGlsZSBhY2Nlc3MgSTJDIHJlZ2lzdGVyIGJldHdlZW4gQVAoQ1BVKSBhbmQK
KyAqIGludGVybmFsIGZpcm13YXJlKE9DTSksIHRvIGF2b2lkIHRoZSByYWNlIGNvbmRpdGlvbiwg
QVAgc2hvdWxkIGFjY2VzcworICogdGhlIHJlc2VydmVkIHNsYXZlIGFkZHJlc3MgYmVmb3JlIHNs
YXZlIGFkZHJlc3Mgb2NjdXJzIGNoYW5nZXMuCisgKi8KK3N0YXRpYyBpbnQgaTJjX2FjY2Vzc193
b3JrYXJvdW5kKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCwKKwkJCQkgc3RydWN0IGkyY19jbGll
bnQgKmNsaWVudCkKK3sKKwl1OCBvZmZzZXQ7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmNsaWVu
dC0+ZGV2OworCWludCByZXQ7CisKKwlpZiAoY2xpZW50ID09IGN0eC0+bGFzdF9jbGllbnQpCisJ
CXJldHVybiAwOworCisJY3R4LT5sYXN0X2NsaWVudCA9IGNsaWVudDsKKworCWlmIChjbGllbnQg
PT0gY3R4LT5pMmMudGNwY19jbGllbnQpCisJCW9mZnNldCA9IFJTVkRfMDBfQUREUjsKKwllbHNl
IGlmIChjbGllbnQgPT0gY3R4LT5pMmMudHhfcDBfY2xpZW50KQorCQlvZmZzZXQgPSBSU1ZEX0Qx
X0FERFI7CisJZWxzZSBpZiAoY2xpZW50ID09IGN0eC0+aTJjLnR4X3AxX2NsaWVudCkKKwkJb2Zm
c2V0ID0gUlNWRF82MF9BRERSOworCWVsc2UgaWYgKGNsaWVudCA9PSBjdHgtPmkyYy5yeF9wMF9j
bGllbnQpCisJCW9mZnNldCA9IFJTVkRfMzlfQUREUjsKKwllbHNlIGlmIChjbGllbnQgPT0gY3R4
LT5pMmMucnhfcDFfY2xpZW50KQorCQlvZmZzZXQgPSBSU1ZEXzdGX0FERFI7CisJZWxzZQorCQlv
ZmZzZXQgPSBSU1ZEXzAwX0FERFI7CisKKwlyZXQgPSBpMmNfc21idXNfd3JpdGVfYnl0ZV9kYXRh
KGNsaWVudCwgb2Zmc2V0LCAweDAwKTsKKwlpZiAocmV0IDwgMCkKKwkJRFJNX0RFVl9FUlJPUihk
ZXYsCisJCQkgICAgICAiZmFpbGVkIHRvIGFjY2VzcyBpMmMgaWQ9JXhcbjoleCIsCisJCQkgICAg
ICBjbGllbnQtPmFkZHIsIG9mZnNldCk7CisKKwlyZXR1cm4gcmV0OworfQorCitzdGF0aWMgaW50
IGFueDc2MjVfcmVnX3JlYWQoc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4LAorCQkJICAgIHN0cnVj
dCBpMmNfY2xpZW50ICpjbGllbnQsIHU4IHJlZ19hZGRyKQoreworCWludCByZXQ7CisJc3RydWN0
IGRldmljZSAqZGV2ID0gJmNsaWVudC0+ZGV2OworCisJaTJjX2FjY2Vzc193b3JrYXJvdW5kKGN0
eCwgY2xpZW50KTsKKworCXJldCA9IGkyY19zbWJ1c19yZWFkX2J5dGVfZGF0YShjbGllbnQsIHJl
Z19hZGRyKTsKKwlpZiAocmV0IDwgMCkKKwkJRFJNX0RFVl9FUlJPUihkZXYsICJyZWFkIGkyYyBm
YWlsZWQgaWQ9JXg6JXhcbiIsCisJCQkgICAgICBjbGllbnQtPmFkZHIsIHJlZ19hZGRyKTsKKwor
CXJldHVybiByZXQ7Cit9CisKK3N0YXRpYyBpbnQgYW54NzYyNV9yZWdfYmxvY2tfcmVhZChzdHJ1
Y3QgYW54NzYyNV9kYXRhICpjdHgsCisJCQkJICBzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50LAor
CQkJCSAgdTggcmVnX2FkZHIsIHU4IGxlbiwgdTggKmJ1ZikKK3sKKwlpbnQgcmV0OworCXN0cnVj
dCBkZXZpY2UgKmRldiA9ICZjbGllbnQtPmRldjsKKworCWkyY19hY2Nlc3Nfd29ya2Fyb3VuZChj
dHgsIGNsaWVudCk7CisKKwlyZXQgPSBpMmNfc21idXNfcmVhZF9pMmNfYmxvY2tfZGF0YShjbGll
bnQsIHJlZ19hZGRyLCBsZW4sIGJ1Zik7CisJaWYgKHJldCA8IDApCisJCURSTV9ERVZfRVJST1Io
ZGV2LCAicmVhZCBpMmMgYmxvY2sgZmFpbGVkIGlkPSV4OiV4XG4iLAorCQkJICAgICAgY2xpZW50
LT5hZGRyLCByZWdfYWRkcik7CisKKwlyZXR1cm4gcmV0OworfQorCitzdGF0aWMgaW50IGFueDc2
MjVfcmVnX3dyaXRlKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCwKKwkJCSAgICAgc3RydWN0IGky
Y19jbGllbnQgKmNsaWVudCwKKwkJCSAgICAgdTggcmVnX2FkZHIsIHU4IHJlZ192YWwpCit7CisJ
aW50IHJldDsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY2xpZW50LT5kZXY7CisKKwlpMmNfYWNj
ZXNzX3dvcmthcm91bmQoY3R4LCBjbGllbnQpOworCisJcmV0ID0gaTJjX3NtYnVzX3dyaXRlX2J5
dGVfZGF0YShjbGllbnQsIHJlZ19hZGRyLCByZWdfdmFsKTsKKworCWlmIChyZXQgPCAwKQorCQlE
Uk1fREVWX0VSUk9SKGRldiwgImZhaWxlZCB0byB3cml0ZSBpMmMgaWQ9JXhcbjoleCIsCisJCQkg
ICAgICBjbGllbnQtPmFkZHIsIHJlZ19hZGRyKTsKKworCXJldHVybiByZXQ7Cit9CisKK3N0YXRp
YyBpbnQgYW54NzYyNV93cml0ZV9vcihzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgsCisJCQkgICAg
c3RydWN0IGkyY19jbGllbnQgKmNsaWVudCwKKwkJCSAgICB1OCBvZmZzZXQsIHU4IG1hc2spCit7
CisJaW50IHZhbDsKKworCXZhbCA9IGFueDc2MjVfcmVnX3JlYWQoY3R4LCBjbGllbnQsIG9mZnNl
dCk7CisJaWYgKHZhbCA8IDApCisJCXJldHVybiB2YWw7CisKKwlyZXR1cm4gYW54NzYyNV9yZWdf
d3JpdGUoY3R4LCBjbGllbnQsIG9mZnNldCwgKHZhbCB8IChtYXNrKSkpOworfQorCitzdGF0aWMg
aW50IGFueDc2MjVfd3JpdGVfYW5kKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCwKKwkJCSAgICAg
c3RydWN0IGkyY19jbGllbnQgKmNsaWVudCwKKwkJCSAgICAgdTggb2Zmc2V0LCB1OCBtYXNrKQor
eworCWludCB2YWw7CisKKwl2YWwgPSBhbng3NjI1X3JlZ19yZWFkKGN0eCwgY2xpZW50LCBvZmZz
ZXQpOworCWlmICh2YWwgPCAwKQorCQlyZXR1cm4gdmFsOworCisJcmV0dXJuIGFueDc2MjVfcmVn
X3dyaXRlKGN0eCwgY2xpZW50LCBvZmZzZXQsICh2YWwgJiAobWFzaykpKTsKK30KKworc3RhdGlj
IGludCBhbng3NjI1X3dyaXRlX2FuZF9vcihzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgsCisJCQkJ
c3RydWN0IGkyY19jbGllbnQgKmNsaWVudCwKKwkJCQl1OCBvZmZzZXQsIHU4IGFuZF9tYXNrLCB1
OCBvcl9tYXNrKQoreworCWludCB2YWw7CisKKwl2YWwgPSBhbng3NjI1X3JlZ19yZWFkKGN0eCwg
Y2xpZW50LCBvZmZzZXQpOworCWlmICh2YWwgPCAwKQorCQlyZXR1cm4gdmFsOworCisJcmV0dXJu
IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY2xpZW50LAorCQkJCSBvZmZzZXQsICh2YWwgJiBhbmRf
bWFzaykgfCAob3JfbWFzaykpOworfQorCitzdGF0aWMgaW50IGFueDc2MjVfY29uZmlnX2JpdF9t
YXRyaXgoc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4KQoreworCWludCBpLCByZXQ7CisKKwlyZXQg
PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnR4X3AyX2NsaWVudCwKKwkJCQlBVURJ
T19DT05UUk9MX1JFR0lTVEVSLCAweDgwKTsKKwlmb3IgKGkgPSAwOyBpIDwgMTM7IGkrKykKKwkJ
cmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMudHhfcDJfY2xpZW50LAorCQkJ
CQkgVklERU9fQklUX01BVFJJWF8xMiArIGksCisJCQkJCSAweDE4ICsgaSk7CisKKwlyZXR1cm4g
cmV0OworfQorCitzdGF0aWMgaW50IGFueDc2MjVfcmVhZF9jdHJsX3N0YXR1c19wMChzdHJ1Y3Qg
YW54NzYyNV9kYXRhICpjdHgpCit7CisJcmV0dXJuIGFueDc2MjVfcmVnX3JlYWQoY3R4LCBjdHgt
PmkyYy5yeF9wMF9jbGllbnQsIEFQX0FVWF9DVFJMX1NUQVRVUyk7Cit9CisKK3N0YXRpYyBpbnQg
d2FpdF9hdXhfb3BfZmluaXNoKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCkKK3sKKwlpbnQgdmFs
OworCWludCByZXQ7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7CisK
KwlyZXQgPSByZWFkeF9wb2xsX3RpbWVvdXQoYW54NzYyNV9yZWFkX2N0cmxfc3RhdHVzX3AwLAor
CQkJCSBjdHgsIHZhbCwKKwkJCQkgKCEodmFsICYgQVBfQVVYX0NUUkxfT1BfRU4pIHx8ICh2YWwg
PCAwKSksCisJCQkJIDIwMDAsCisJCQkJIDIwMDAgKiAxNTApOworCWlmIChyZXQpIHsKKwkJRFJN
X0RFVl9FUlJPUihkZXYsICJhdXggb3BlcmF0aW9uIGZhaWxlZCFcbiIpOworCQlyZXR1cm4gLUVJ
TzsKKwl9CisKKwl2YWwgPSBhbng3NjI1X3JlZ19yZWFkKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xp
ZW50LAorCQkJICAgICAgIEFQX0FVWF9DVFJMX1NUQVRVUyk7CisJaWYgKHZhbCA8IDAgfHwgKHZh
bCAmIDB4MEYpKSB7CisJCURSTV9ERVZfRVJST1IoZGV2LCAiYXV4IHN0YXR1cyAlMDJ4XG4iLCB2
YWwpOworCQl2YWwgPSAtRUlPOworCX0KKworCXJldHVybiB2YWw7Cit9CisKK3N0YXRpYyBpbnQg
YW54NzYyNV92aWRlb19tdXRlX2NvbnRyb2woc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4LAorCQkJ
CSAgICAgIHU4IHN0YXR1cykKK3sKKwlpbnQgcmV0OworCisJaWYgKHN0YXR1cykgeyAvKiBtdXRl
IG9uICovCisJCS8qIHNldCBtdXRlIGZsYWcgKi8KKwkJcmV0ID0gYW54NzYyNV93cml0ZV9vcihj
dHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkgICAgICAgQVBfQVZfU1RBVFVTLCBBUF9N
SVBJX01VVEUpOworCQkvKiBjbGVhciBtaXBpIFJYIGVuICovCisJCXJldCB8PSBhbng3NjI1X3dy
aXRlX2FuZChjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkJIEFQX0FWX1NUQVRVUywg
KHU4KX5BUF9NSVBJX1JYX0VOKTsKKwl9IGVsc2UgeyAvKiBtdXRlIG9mZiAqLworCQkvKiBjbGVh
ciBtdXRlIGZsYWcgKi8KKwkJcmV0ID0gYW54NzYyNV93cml0ZV9hbmQoY3R4LCBjdHgtPmkyYy5y
eF9wMF9jbGllbnQsCisJCQkJCUFQX0FWX1NUQVRVUywgKHU4KX5BUF9NSVBJX01VVEUpOworCQkv
KiBzZXQgTUlQSSBSWCBFTiAqLworCQlyZXQgfD0gYW54NzYyNV93cml0ZV9vcihjdHgsIGN0eC0+
aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkJQVBfQVZfU1RBVFVTLCBBUF9NSVBJX1JYX0VOKTsKKwl9
CisKKwlyZXR1cm4gcmV0OworfQorCitzdGF0aWMgaW50IGFueDc2MjVfY29uZmlnX2F1ZGlvX2lu
cHV0KHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCkKK3sKKwlpbnQgcmV0OworCisJLyogY2hhbm5l
bCBudW0gKi8KKwlyZXQgPSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnR4X3AyX2Ns
aWVudCwKKwkJCQlBVURJT19DSEFOTkVMX1NUQVRVU182LCBJMlNfQ0hfMiA8PCA1KTsKKwkvKiBs
YXlvdXQgKi8KKwkvKiBhcyBJMlMgY2hhbm5lbCBpcyAyLCBubyBuZWVkIHRvIHNldCBsYXlvdXQg
Ki8KKworCS8qIEZTICovCisJcmV0IHw9IGFueDc2MjVfd3JpdGVfYW5kX29yKGN0eCwgY3R4LT5p
MmMudHhfcDJfY2xpZW50LAorCQkJCSAgICBBVURJT19DSEFOTkVMX1NUQVRVU180LAorCQkJCSAg
ICAweGYwLCBBVURJT19GU180OEspOworCS8qIHdvcmQgbGVuZ3RoICovCisJcmV0IHw9IGFueDc2
MjVfd3JpdGVfYW5kX29yKGN0eCwgY3R4LT5pMmMudHhfcDJfY2xpZW50LAorCQkJCSAgICBBVURJ
T19DSEFOTkVMX1NUQVRVU181LAorCQkJCSAgICAweGYwLCBBVURJT19XX0xFTl8yNF8yNE1BWCk7
CisJLyogSTJTICovCisJcmV0IHw9IGFueDc2MjVfd3JpdGVfb3IoY3R4LCBjdHgtPmkyYy50eF9w
Ml9jbGllbnQsCisJCQkJQVVESU9fQ0hBTk5FTF9TVEFUVVNfNiwgSTJTX1NMQVZFX01PREUpOwor
CXJldCB8PSBhbng3NjI1X3dyaXRlX2FuZChjdHgsIGN0eC0+aTJjLnR4X3AyX2NsaWVudCwKKwkJ
CQkgQVVESU9fQ09OVFJPTF9SRUdJU1RFUiwgflRETV9USU1JTkdfTU9ERSk7CisJLyogYXVkaW8g
Y2hhbmdlIGZsYWcgKi8KKwlyZXQgfD0gYW54NzYyNV93cml0ZV9vcihjdHgsIGN0eC0+aTJjLnJ4
X3AwX2NsaWVudCwKKwkJCQlBUF9BVl9TVEFUVVMsIEFQX0FVRElPX0NIRyk7CisKKwlpZiAocmV0
IDwgMCkKKwkJRFJNX0VSUk9SKCJmYWlsZWQgdG8gY29uZmlnIGF1ZGlvLlxuIik7CisKKwlyZXR1
cm4gcmV0OworfQorCisvKiByZWR1Y3Rpb24gb2YgZnJhY3Rpb24gYS9iICovCitzdGF0aWMgdm9p
ZCBhbng3NjI1X3JlZHVjdGlvbl9vZl9hX2ZyYWN0aW9uKHVuc2lnbmVkIGxvbmcgKmEsIHVuc2ln
bmVkIGxvbmcgKmIpCit7CisJdW5zaWduZWQgbG9uZyBnY2RfbnVtOworCXVuc2lnbmVkIGxvbmcg
dG1wX2EsIHRtcF9iOworCXUzMiBpID0gMTsKKworCWdjZF9udW0gPSBnY2QoKmEsICpiKTsKKwkq
YSAvPSBnY2RfbnVtOworCSpiIC89IGdjZF9udW07CisKKwl0bXBfYSA9ICphOworCXRtcF9iID0g
KmI7CisKKwl3aGlsZSAoKCphID4gTUFYX1VOU0lHTkVEXzI0QklUKSB8fCAoKmIgPiBNQVhfVU5T
SUdORURfMjRCSVQpKSB7CisJCWkrKzsKKwkJKmEgPSB0bXBfYSAvIGk7CisJCSpiID0gdG1wX2Ig
LyBpOworCX0KKworCS8qCisJICogaW4gdGhlIGVuZCwgbWFrZSBhLCBiIGxhcmdlciB0byBoYXZl
IGhpZ2hlciBPREZDIFBMTAorCSAqIG91dHB1dCBmcmVxdWVuY3kgYWNjdXJhY3kKKwkgKi8KKwl3
aGlsZSAoKCphIDwgTUFYX1VOU0lHTkVEXzI0QklUKSAmJiAoKmIgPCBNQVhfVU5TSUdORURfMjRC
SVQpKSB7CisJCSphIDw8PSAxOworCQkqYiA8PD0gMTsKKwl9CisKKwkqYSA+Pj0gMTsKKwkqYiA+
Pj0gMTsKK30KKworc3RhdGljIGludCBhbng3NjI1X2NhbGN1bGF0ZV9tX24odTMyIHBpeGVsY2xv
Y2ssCisJCQkJIHVuc2lnbmVkIGxvbmcgKm0sCisJCQkJIHVuc2lnbmVkIGxvbmcgKm4sCisJCQkJ
IHU4ICpwb3N0X2RpdmlkZXIpCit7CisJaWYgKHBpeGVsY2xvY2sgPiBQTExfT1VUX0ZSRVFfQUJT
X01BWCAvIFBPU1RfRElWSURFUl9NSU4pIHsKKwkJLyogcGl4ZWwgY2xvY2sgZnJlcXVlbmN5IGlz
IHRvbyBoaWdoICovCisJCURSTV9FUlJPUigicGl4ZWxjbG9jayB0b28gaGlnaCwgYWN0KCVkKSwg
bWF4aW11bSglbHUpXG4iLAorCQkJICBwaXhlbGNsb2NrLAorCQkJICBQTExfT1VUX0ZSRVFfQUJT
X01BWCAvIFBPU1RfRElWSURFUl9NSU4pOworCQlyZXR1cm4gLUVJTlZBTDsKKwl9CisKKwlpZiAo
cGl4ZWxjbG9jayA8IFBMTF9PVVRfRlJFUV9BQlNfTUlOIC8gUE9TVF9ESVZJREVSX01BWCkgewor
CQkvKiBwaXhlbCBjbG9jayBmcmVxdWVuY3kgaXMgdG9vIGxvdyAqLworCQlEUk1fRVJST1IoInBp
eGVsY2xvY2sgdG9vIGxvdywgYWN0KCVkKSwgbWF4aW11bSglbHUpXG4iLAorCQkJICBwaXhlbGNs
b2NrLAorCQkJICBQTExfT1VUX0ZSRVFfQUJTX01JTiAvIFBPU1RfRElWSURFUl9NQVgpOworCQly
ZXR1cm4gLUVJTlZBTDsKKwl9CisKKwlmb3IgKCpwb3N0X2RpdmlkZXIgPSAxOworCQlwaXhlbGNs
b2NrIDwgKFBMTF9PVVRfRlJFUV9NSU4gLyAoKnBvc3RfZGl2aWRlcikpOykKKwkJKnBvc3RfZGl2
aWRlciArPSAxOworCisJaWYgKCpwb3N0X2RpdmlkZXIgPiBQT1NUX0RJVklERVJfTUFYKSB7CisJ
CWZvciAoKnBvc3RfZGl2aWRlciA9IDE7CisJCQkocGl4ZWxjbG9jayA8CisJCQkgKFBMTF9PVVRf
RlJFUV9BQlNfTUlOIC8gKCpwb3N0X2RpdmlkZXIpKSk7KQorCQkJKnBvc3RfZGl2aWRlciArPSAx
OworCisJCWlmICgqcG9zdF9kaXZpZGVyID4gUE9TVF9ESVZJREVSX01BWCkgeworCQkJRFJNX0VS
Uk9SKCJjYW5ub3QgZmluZCBwcm9wZXJ0eSBwb3N0X2RpdmlkZXIoJWQpXG4iLAorCQkJCSAgKnBv
c3RfZGl2aWRlcik7CisJCQlyZXR1cm4gLUVET007CisJCX0KKwl9CisKKwkvKiBwYXRjaCB0byBp
bXByb3ZlIHRoZSBhY2N1cmFjeSAqLworCWlmICgqcG9zdF9kaXZpZGVyID09IDcpIHsKKwkJLyog
MjcsMDAwLDAwMCBpcyBub3QgZGl2aXNpYmxlIGJ5IDcgKi8KKwkJKnBvc3RfZGl2aWRlciA9IDg7
CisJfSBlbHNlIGlmICgqcG9zdF9kaXZpZGVyID09IDExKSB7CisJCS8qIDI3LDAwMCwwMDAgaXMg
bm90IGRpdmlzaWJsZSBieSAxMSAqLworCQkqcG9zdF9kaXZpZGVyID0gMTI7CisJfSBlbHNlIGlm
ICgoKnBvc3RfZGl2aWRlciA9PSAxMykgfHwgKCpwb3N0X2RpdmlkZXIgPT0gMTQpKSB7CisJCS8q
MjcsMDAwLDAwMCBpcyBub3QgZGl2aXNpYmxlIGJ5IDEzIG9yIDE0Ki8KKwkJKnBvc3RfZGl2aWRl
ciA9IDE1OworCX0KKworCWlmIChwaXhlbGNsb2NrICogKCpwb3N0X2RpdmlkZXIpID4gUExMX09V
VF9GUkVRX0FCU19NQVgpIHsKKwkJRFJNX0VSUk9SKCJhY3QgY2xvY2soJXUpIGxhcmdlIHRoYW4g
bWF4aW11bSglbHUpXG4iLAorCQkJICBwaXhlbGNsb2NrICogKCpwb3N0X2RpdmlkZXIpLAorCQkJ
ICBQTExfT1VUX0ZSRVFfQUJTX01BWCk7CisJCXJldHVybiAtRURPTTsKKwl9CisKKwkqbSA9IHBp
eGVsY2xvY2s7CisJKm4gPSBYVEFMX0ZSUSAvICgqcG9zdF9kaXZpZGVyKTsKKworCWFueDc2MjVf
cmVkdWN0aW9uX29mX2FfZnJhY3Rpb24obSwgbik7CisKKwlyZXR1cm4gMDsKK30KKworc3RhdGlj
IGludCBhbng3NjI1X29kZmNfY29uZmlnKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCwKKwkJCSAg
ICAgICB1OCBwb3N0X2RpdmlkZXIpCit7CisJaW50IHJldDsKKworCS8qIGNvbmZpZyBpbnB1dCBy
ZWZlcmVuY2UgY2xvY2sgZnJlcXVlbmN5IDI3TUh6LzE5LjJNSHogKi8KKwlyZXQgPSBhbng3NjI1
X3dyaXRlX2FuZChjdHgsIGN0eC0+aTJjLnJ4X3AxX2NsaWVudCwgTUlQSV9ESUdJVEFMX1BMTF8x
NiwKKwkJCQl+KFJFRl9DTEtfMjcwMDBLSFogPDwgTUlQSV9GUkVGX0RfSU5EKSk7CisJcmV0IHw9
IGFueDc2MjVfd3JpdGVfb3IoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsIE1JUElfRElHSVRB
TF9QTExfMTYsCisJCQkJKFJFRl9DTEtfMjcwMDBLSFogPDwgTUlQSV9GUkVGX0RfSU5EKSk7CisJ
LyogcG9zdCBkaXZpZGVyICovCisJcmV0IHw9IGFueDc2MjVfd3JpdGVfYW5kKGN0eCwgY3R4LT5p
MmMucnhfcDFfY2xpZW50LAorCQkJCSBNSVBJX0RJR0lUQUxfUExMXzgsIDB4MGYpOworCXJldCB8
PSBhbng3NjI1X3dyaXRlX29yKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LCBNSVBJX0RJR0lU
QUxfUExMXzgsCisJCQkJcG9zdF9kaXZpZGVyIDw8IDQpOworCisJLyogYWRkIHBhdGNoIGZvciBN
SVMyLTEyNSAoNXBjcyBBTlg3NjI1IGZhaWwgQVRFIE1CSVNUIHRlc3QpICovCisJcmV0IHw9IGFu
eDc2MjVfd3JpdGVfYW5kKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LCBNSVBJX0RJR0lUQUxf
UExMXzcsCisJCQkJIH5NSVBJX1BMTF9WQ09fVFVORV9SRUdfVkFMKTsKKworCS8qIHJlc2V0IE9E
RkMgUExMICovCisJcmV0IHw9IGFueDc2MjVfd3JpdGVfYW5kKGN0eCwgY3R4LT5pMmMucnhfcDFf
Y2xpZW50LCBNSVBJX0RJR0lUQUxfUExMXzcsCisJCQkJIH5NSVBJX1BMTF9SRVNFVF9OKTsKKwly
ZXQgfD0gYW54NzYyNV93cml0ZV9vcihjdHgsIGN0eC0+aTJjLnJ4X3AxX2NsaWVudCwgTUlQSV9E
SUdJVEFMX1BMTF83LAorCQkJCU1JUElfUExMX1JFU0VUX04pOworCisJaWYgKHJldCA8IDApCisJ
CURSTV9FUlJPUigiSU8gZXJyb3IuXG4iKTsKKworCXJldHVybiByZXQ7Cit9CisKK3N0YXRpYyBp
bnQgYW54NzYyNV9kc2lfdmlkZW9fdGltaW5nX2NvbmZpZyhzdHJ1Y3QgYW54NzYyNV9kYXRhICpj
dHgpCit7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7CisJdW5zaWdu
ZWQgbG9uZyBtLCBuOworCXUxNiBodG90YWw7CisJaW50IHJldDsKKwl1OCBwb3N0X2RpdmlkZXIg
PSAwOworCisJcmV0ID0gYW54NzYyNV9jYWxjdWxhdGVfbV9uKGN0eC0+ZHQucGl4ZWxjbG9jay5t
aW4gKiAxMDAwLAorCQkJCSAgICAmbSwgJm4sICZwb3N0X2RpdmlkZXIpOworCisJaWYgKHJldCkg
eworCQlEUk1fRVJST1IoImNhbm5vdCBnZXQgcHJvcGVydHkgbSBuIHZhbHVlLlxuIik7CisJCXJl
dHVybiByZXQ7CisJfQorCisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiY29tcHV0ZSBNKCVs
dSksIE4oJWx1KSwgZGl2aWRlciglZCkuXG4iLAorCQkJICAgICBtLCBuLCBwb3N0X2RpdmlkZXIp
OworCisJLyogY29uZmlndXJlIHBpeGVsIGNsb2NrICovCisJcmV0ID0gYW54NzYyNV9yZWdfd3Jp
dGUoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsIFBJWEVMX0NMT0NLX0wsCisJCQkJKGN0eC0+
ZHQucGl4ZWxjbG9jay5taW4gLyAxMDAwKSAmIDB4RkYpOworCXJldCB8PSBhbng3NjI1X3JlZ193
cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwgUElYRUxfQ0xPQ0tfSCwKKwkJCQkgKGN0
eC0+ZHQucGl4ZWxjbG9jay5taW4gLyAxMDAwKSA+PiA4KTsKKwkvKiBsYW5lIGNvdW50ICovCisJ
cmV0IHw9IGFueDc2MjVfd3JpdGVfYW5kKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LAorCQkJ
TUlQSV9MQU5FX0NUUkxfMCwgMHhmYyk7CisJcmV0IHw9IGFueDc2MjVfd3JpdGVfb3IoY3R4LCBj
dHgtPmkyYy5yeF9wMV9jbGllbnQsCisJCQkJTUlQSV9MQU5FX0NUUkxfMCwgMyk7CisKKwkvKiBI
dG90YWwgKi8KKwlodG90YWwgPSBjdHgtPmR0LmhhY3RpdmUubWluICsgY3R4LT5kdC5oZnJvbnRf
cG9yY2gubWluICsKKwkJY3R4LT5kdC5oYmFja19wb3JjaC5taW4gKyBjdHgtPmR0LmhzeW5jX2xl
bi5taW47CisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDJfY2xp
ZW50LAorCQkJSE9SSVpPTlRBTF9UT1RBTF9QSVhFTFNfTCwgaHRvdGFsICYgMHhGRik7CisJcmV0
IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDJfY2xpZW50LAorCQkJSE9S
SVpPTlRBTF9UT1RBTF9QSVhFTFNfSCwgaHRvdGFsID4+IDgpOworCS8qIEhhY3RpdmUgKi8KKwly
ZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMl9jbGllbnQsCisJCQlI
T1JJWk9OVEFMX0FDVElWRV9QSVhFTFNfTCwgY3R4LT5kdC5oYWN0aXZlLm1pbiAmIDB4RkYpOwor
CXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AyX2NsaWVudCwKKwkJ
CUhPUklaT05UQUxfQUNUSVZFX1BJWEVMU19ILCBjdHgtPmR0LmhhY3RpdmUubWluID4+IDgpOwor
CS8qIEhGUCAqLworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3Ay
X2NsaWVudCwKKwkJCUhPUklaT05UQUxfRlJPTlRfUE9SQ0hfTCwgY3R4LT5kdC5oZnJvbnRfcG9y
Y2gubWluKTsKKwlyZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMl9j
bGllbnQsCisJCQlIT1JJWk9OVEFMX0ZST05UX1BPUkNIX0gsCisJCQljdHgtPmR0Lmhmcm9udF9w
b3JjaC5taW4gPj4gOCk7CisJLyogSFdTICovCisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0
eCwgY3R4LT5pMmMucnhfcDJfY2xpZW50LAorCQkJSE9SSVpPTlRBTF9TWU5DX1dJRFRIX0wsIGN0
eC0+ZHQuaHN5bmNfbGVuLm1pbik7CisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4
LT5pMmMucnhfcDJfY2xpZW50LAorCQkJSE9SSVpPTlRBTF9TWU5DX1dJRFRIX0gsIGN0eC0+ZHQu
aHN5bmNfbGVuLm1pbiA+PiA4KTsKKwkvKiBIQlAgKi8KKwlyZXQgfD0gYW54NzYyNV9yZWdfd3Jp
dGUoY3R4LCBjdHgtPmkyYy5yeF9wMl9jbGllbnQsCisJCQlIT1JJWk9OVEFMX0JBQ0tfUE9SQ0hf
TCwgY3R4LT5kdC5oYmFja19wb3JjaC5taW4pOworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShj
dHgsIGN0eC0+aTJjLnJ4X3AyX2NsaWVudCwKKwkJCUhPUklaT05UQUxfQkFDS19QT1JDSF9ILCBj
dHgtPmR0LmhiYWNrX3BvcmNoLm1pbiA+PiA4KTsKKwkvKiBWYWN0aXZlICovCisJcmV0IHw9IGFu
eDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDJfY2xpZW50LCBBQ1RJVkVfTElORVNf
TCwKKwkJCWN0eC0+ZHQudmFjdGl2ZS5taW4pOworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShj
dHgsIGN0eC0+aTJjLnJ4X3AyX2NsaWVudCwgQUNUSVZFX0xJTkVTX0gsCisJCQljdHgtPmR0LnZh
Y3RpdmUubWluID4+IDgpOworCS8qIFZGUCAqLworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShj
dHgsIGN0eC0+aTJjLnJ4X3AyX2NsaWVudCwKKwkJCVZFUlRJQ0FMX0ZST05UX1BPUkNILCBjdHgt
PmR0LnZmcm9udF9wb3JjaC5taW4pOworCS8qIFZXUyAqLworCXJldCB8PSBhbng3NjI1X3JlZ193
cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AyX2NsaWVudCwKKwkJCVZFUlRJQ0FMX1NZTkNfV0lEVEgs
IGN0eC0+ZHQudnN5bmNfbGVuLm1pbik7CisJLyogVkJQICovCisJcmV0IHw9IGFueDc2MjVfcmVn
X3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDJfY2xpZW50LAorCQkJVkVSVElDQUxfQkFDS19QT1JD
SCwgY3R4LT5kdC52YmFja19wb3JjaC5taW4pOworCS8qIE0gdmFsdWUgKi8KKwlyZXQgfD0gYW54
NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsCisJCQlNSVBJX1BMTF9N
X05VTV8yM18xNiwgKG0gPj4gMTYpICYgMHhmZik7CisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRl
KGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LAorCQkJTUlQSV9QTExfTV9OVU1fMTVfOCwgKG0g
Pj4gOCkgJiAweGZmKTsKKwlyZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5y
eF9wMV9jbGllbnQsCisJCQlNSVBJX1BMTF9NX05VTV83XzAsIChtICYgMHhmZikpOworCS8qIE4g
dmFsdWUgKi8KKwlyZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9j
bGllbnQsCisJCQlNSVBJX1BMTF9OX05VTV8yM18xNiwgKG4gPj4gMTYpICYgMHhmZik7CisJcmV0
IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LAorCQkJTUlQ
SV9QTExfTl9OVU1fMTVfOCwgKG4gPj4gOCkgJiAweGZmKTsKKwlyZXQgfD0gYW54NzYyNV9yZWdf
d3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsIE1JUElfUExMX05fTlVNXzdfMCwKKwkJ
CShuICYgMHhmZikpOworCS8qIGRpZmYgKi8KKwlyZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4
LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsCisJCQlNSVBJX0RJR0lUQUxfQURKXzEsIDB4MzcpOwor
CisJcmV0IHw9IGFueDc2MjVfb2RmY19jb25maWcoY3R4LCBwb3N0X2RpdmlkZXIgLSAxKTsKKwor
CWlmIChyZXQgPCAwKQorCQlEUk1fRVJST1IoIm1pcGkgZHNpIHNldHVwIElPIGVycm9yLlxuIik7
CisKKwlyZXR1cm4gcmV0OworfQorCitzdGF0aWMgaW50IGFueDc2MjVfc3dhcF9kc2lfbGFuZTMo
c3RydWN0IGFueDc2MjVfZGF0YSAqY3R4KQoreworCWludCB2YWw7CisKKwkvKiBzd2FwIE1JUEkt
RFNJIGRhdGEgbGFuZSAzIFAgYW5kIE4gKi8KKwl2YWwgPSBhbng3NjI1X3JlZ19yZWFkKGN0eCwg
Y3R4LT5pMmMucnhfcDFfY2xpZW50LCBNSVBJX1NXQVApOworCWlmICh2YWwgPCAwKSB7CisJCURS
TV9FUlJPUigiSU8gZXJyb3IgOiBhY2Nlc3MgTUlQSV9TV0FQLlxuIik7CisJCXJldHVybiAtRUlP
OworCX0KKworCXZhbCB8PSAoMSA8PCBNSVBJX1NXQVBfQ0gzKTsKKwlyZXR1cm4gYW54NzYyNV9y
ZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsIE1JUElfU1dBUCwgdmFsKTsKK30K
Kworc3RhdGljIGludCBhbng3NjI1X2FwaV9kc2lfY29uZmlnKHN0cnVjdCBhbng3NjI1X2RhdGEg
KmN0eCkKKworeworCWludCB2YWwsIHJldDsKKworCS8qIHN3YXAgTUlQSS1EU0kgZGF0YSBsYW5l
IDMgUCBhbmQgTiAqLworCXJldCA9IGFueDc2MjVfc3dhcF9kc2lfbGFuZTMoY3R4KTsKKwlpZiAo
cmV0IDwgMCkgeworCQlEUk1fRVJST1IoIklPIGVycm9yIDogc3dhcCBkc2kgbGFuZSAzIGZhaWxl
ZC5cbiIpOworCQlyZXR1cm4gcmV0OworCX0KKworCS8qIERTSSBjbG9jayBzZXR0aW5ncyAqLwor
CXZhbCA9ICgwIDw8IE1JUElfSFNfUFdEX0NMSykJCXwKKwkJKDAgPDwgTUlQSV9IU19SVF9DTEsp
CQl8CisJCSgwIDw8IE1JUElfUERfQ0xLKQkJfAorCQkoMSA8PCBNSVBJX0NMS19SVF9NQU5VQUxf
UERfRU4pCXwKKwkJKDEgPDwgTUlQSV9DTEtfSFNfTUFOVUFMX1BEX0VOKQl8CisJCSgwIDw8IE1J
UElfQ0xLX0RFVF9ERVRfQllQQVNTKQl8CisJCSgwIDw8IE1JUElfQ0xLX01JU1NfQ1RSTCkJfAor
CQkoMCA8PCBNSVBJX1BEX0xQVFhfQ0hfTUFOVUFMX1BEX0VOKTsKKwlyZXQgPSBhbng3NjI1X3Jl
Z193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AxX2NsaWVudCwKKwkJCQlNSVBJX1BIWV9DT05UUk9M
XzMsIHZhbCk7CisKKwkvKgorCSAqIERlY3JlYXNlZCBIUyBwcmVwYXJlIHRpbWluZyBkZWxheSBm
cm9tIDE2MG5zIHRvIDgwbnMgd29yayB3aXRoCisJICogICAgIGEpIERyYWdvbiBib2FyZCA4MTAg
c2VyaWVzIChRdWFsY29tbSBBUCkKKwkgKiAgICAgYikgTW92aW5nIFBpeGVsIERTSSBzb3VyY2Ug
KFBHM0EgcGF0dGVybiBnZW5lcmF0b3IgKworCSAqCVAzMzIgRC1QSFkgUHJvYmUpIGRlZmF1bHQg
RC1QSFkgdGltaW5nCisJICoJNW5zL3N0ZXAKKwkgKi8KKwlyZXQgfD0gYW54NzYyNV9yZWdfd3Jp
dGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsCisJCQkJIE1JUElfVElNRV9IU19QUlBSLCAw
eDEwKTsKKworCS8qIGVuYWJsZSBEU0kgbW9kZSovCisJcmV0IHw9IGFueDc2MjVfd3JpdGVfb3Io
Y3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsIE1JUElfRElHSVRBTF9QTExfMTgsCisJCQkJU0VM
RUNUX0RTSSA8PCBNSVBJX0RQSV9TRUxFQ1QpOworCisJcmV0IHw9IGFueDc2MjVfZHNpX3ZpZGVv
X3RpbWluZ19jb25maWcoY3R4KTsKKwlpZiAocmV0IDwgMCkgeworCQlEUk1fRVJST1IoImRzaSB2
aWRlbyB0aW1pbmcgY29uZmlnIGZhaWxlZFxuIik7CisJCXJldHVybiByZXQ7CisJfQorCisJLyog
dG9nZ2xlIG0sIG4gcmVhZHkgKi8KKwlyZXQgPSBhbng3NjI1X3dyaXRlX2FuZChjdHgsIGN0eC0+
aTJjLnJ4X3AxX2NsaWVudCwgTUlQSV9ESUdJVEFMX1BMTF82LAorCQkJCX4oTUlQSV9NX05VTV9S
RUFEWSB8IE1JUElfTl9OVU1fUkVBRFkpKTsKKwl1c2xlZXBfcmFuZ2UoMTAwMCwgMTEwMCk7CisJ
cmV0IHw9IGFueDc2MjVfd3JpdGVfb3IoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsIE1JUElf
RElHSVRBTF9QTExfNiwKKwkJCQlNSVBJX01fTlVNX1JFQURZIHwgTUlQSV9OX05VTV9SRUFEWSk7
CisKKwkvKiBjb25maWd1cmUgaW50ZWdlciBzdGFibGUgcmVnaXN0ZXIgKi8KKwlyZXQgfD0gYW54
NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsCisJCQkJIE1JUElfVklE
RU9fU1RBQkxFX0NOVCwgMHgwMik7CisJLyogcG93ZXIgb24gTUlQSSBSWCAqLworCXJldCB8PSBh
bng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AxX2NsaWVudCwKKwkJCQkgTUlQSV9M
QU5FX0NUUkxfMTAsIDB4MDApOworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+
aTJjLnJ4X3AxX2NsaWVudCwKKwkJCQkgTUlQSV9MQU5FX0NUUkxfMTAsIDB4ODApOworCisJaWYg
KHJldCA8IDApCisJCURSTV9FUlJPUigiSU8gZXJyb3IgOiBtaXBpIGRzaSBlbmFibGUgaW5pdCBm
YWlsZWQuXG4iKTsKKworCXJldHVybiByZXQ7Cit9CisKK3N0YXRpYyBpbnQgYW54NzYyNV9kc2lf
Y29uZmlnKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCkKK3sKKwlzdHJ1Y3QgZGV2aWNlICpkZXYg
PSAmY3R4LT5jbGllbnQtPmRldjsKKwlpbnQgcmV0OworCisJRFJNX0RFVl9ERUJVR19EUklWRVIo
ZGV2LCAiY29uZmlnIGRzaS5cbiIpOworCisJLyogRFNDIGRpc2FibGUgKi8KKwlyZXQgPSBhbng3
NjI1X3dyaXRlX2FuZChjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQlSX0RTQ19DVFJM
XzAsIH5EU0NfRU4pOworCisJcmV0IHw9IGFueDc2MjVfYXBpX2RzaV9jb25maWcoY3R4KTsKKwor
CWlmIChyZXQgPCAwKSB7CisJCURSTV9FUlJPUigiSU8gZXJyb3IgOiBhcGkgZHNpIGNvbmZpZyBl
cnJvci5cbiIpOworCQlyZXR1cm4gcmV0OworCX0KKworCS8qIHNldCBNSVBJIFJYIEVOICovCisJ
cmV0ID0gYW54NzYyNV93cml0ZV9vcihjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCSAg
ICAgICBBUF9BVl9TVEFUVVMsIEFQX01JUElfUlhfRU4pOworCS8qIGNsZWFyIG11dGUgZmxhZyAq
LworCXJldCB8PSBhbng3NjI1X3dyaXRlX2FuZChjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwK
KwkJCQkgQVBfQVZfU1RBVFVTLCAodTgpfkFQX01JUElfTVVURSk7CisJaWYgKHJldCA8IDApCisJ
CURSTV9FUlJPUigiSU8gZXJyb3IgOiBlbmFibGUgbWlwaSByeCBmYWlsZWQuXG4iKTsKKwllbHNl
CisJCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgInN1Y2Nlc3MgdG8gY29uZmlnIERTSVxuIik7
CisKKwlyZXR1cm4gcmV0OworfQorCitzdGF0aWMgaW50IGFueDc2MjVfYXBpX2RwaV9jb25maWco
c3RydWN0IGFueDc2MjVfZGF0YSAqY3R4KQoreworCXUxNiBmcmVxID0gY3R4LT5kdC5waXhlbGNs
b2NrLm1pbiAvIDEwMDA7CisJaW50IHJldDsKKworCS8qIGNvbmZpZ3VyZSBwaXhlbCBjbG9jayAq
LworCXJldCA9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LAor
CQkJCVBJWEVMX0NMT0NLX0wsIGZyZXEgJiAweEZGKTsKKwlyZXQgfD0gYW54NzYyNV9yZWdfd3Jp
dGUoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsCisJCQkJIFBJWEVMX0NMT0NLX0gsIChmcmVx
ID4+IDgpKTsKKworCS8qIHNldCBEUEkgbW9kZSAqLworCS8qIHNldCB0byBEUEkgUExMIG1vZHVs
ZSBzZWwgKi8KKwlyZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9j
bGllbnQsCisJCQkJIE1JUElfRElHSVRBTF9QTExfOSwgMHgyMCk7CisJLyogcG93ZXIgZG93biBN
SVBJICovCisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xp
ZW50LAorCQkJCSBNSVBJX0xBTkVfQ1RSTF8xMCwgMHgwOCk7CisJLyogZW5hYmxlIERQSSBtb2Rl
ICovCisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50
LAorCQkJCSBNSVBJX0RJR0lUQUxfUExMXzE4LCAweDFDKTsKKwkvKiBzZXQgZmlyc3QgZWRnZSAq
LworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnR4X3AyX2NsaWVudCwK
KwkJCQkgVklERU9fQ09OVFJPTF8wLCAweDA1KTsKKwlpZiAocmV0IDwgMCkKKwkJRFJNX0VSUk9S
KCJJTyBlcnJvciA6IGRwaSBwaHkgc2V0IGZhaWxlZC5cbiIpOworCisJcmV0dXJuIHJldDsKK30K
Kworc3RhdGljIGludCBhbng3NjI1X2RwaV9jb25maWcoc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4
KQoreworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZjdHgtPmNsaWVudC0+ZGV2OworCWludCByZXQ7
CisKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJjb25maWcgZHBpXG4iKTsKKworCS8qIERT
QyBkaXNhYmxlICovCisJcmV0ID0gYW54NzYyNV93cml0ZV9hbmQoY3R4LCBjdHgtPmkyYy5yeF9w
MF9jbGllbnQsCisJCQkJUl9EU0NfQ1RSTF8wLCB+RFNDX0VOKTsKKwlpZiAocmV0IDwgMCkgewor
CQlEUk1fRVJST1IoIklPIGVycm9yIDogZGlzYWJsZSBkc2MgZmFpbGVkLlxuIik7CisJCXJldHVy
biByZXQ7CisJfQorCisJcmV0ID0gYW54NzYyNV9jb25maWdfYml0X21hdHJpeChjdHgpOworCWlm
IChyZXQgPCAwKSB7CisJCURSTV9FUlJPUigiY29uZmlnIGJpdCBtYXRyaXggZmFpbGVkLlxuIik7
CisJCXJldHVybiByZXQ7CisJfQorCisJcmV0ID0gYW54NzYyNV9hcGlfZHBpX2NvbmZpZyhjdHgp
OworCWlmIChyZXQgPCAwKSB7CisJCURSTV9FUlJPUigibWlwaSBwaHkoZHBpKSBzZXR1cCBmYWls
ZWQuXG4iKTsKKwkJcmV0dXJuIHJldDsKKwl9CisKKwkvKiBzZXQgTUlQSSBSWCBFTiAqLworCXJl
dCA9IGFueDc2MjVfd3JpdGVfb3IoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsCisJCQkgICAg
ICAgQVBfQVZfU1RBVFVTLCBBUF9NSVBJX1JYX0VOKTsKKwkvKiBjbGVhciBtdXRlIGZsYWcgKi8K
KwlyZXQgfD0gYW54NzYyNV93cml0ZV9hbmQoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsCisJ
CQkJIEFQX0FWX1NUQVRVUywgKHU4KX5BUF9NSVBJX01VVEUpOworCWlmIChyZXQgPCAwKQorCQlE
Uk1fRVJST1IoIklPIGVycm9yIDogZW5hYmxlIG1pcGkgcnggZmFpbGVkLlxuIik7CisKKwlyZXR1
cm4gcmV0OworfQorCitzdGF0aWMgdm9pZCBhbng3NjI1X2RwX3N0YXJ0KHN0cnVjdCBhbng3NjI1
X2RhdGEgKmN0eCkKK3sKKwlpbnQgcmV0OworCisJaWYgKCFjdHgtPmRpc3BsYXlfdGltaW5nX3Zh
bGlkKSB7CisJCURSTV9FUlJPUigibWlwaSBkcm0gaGF2ZW4ndCBzZXQgZGlzcGxheSB0aW1pbmcg
eWV0LlxuIik7CisJCXJldHVybjsKKwl9CisKKwlhbng3NjI1X2NvbmZpZ19hdWRpb19pbnB1dChj
dHgpOworCisJaWYgKGN0eC0+cGRhdGEuZHNpX3N1cHBvcnRlZCkKKwkJcmV0ID0gYW54NzYyNV9k
c2lfY29uZmlnKGN0eCk7CisJZWxzZQorCQlyZXQgPSBhbng3NjI1X2RwaV9jb25maWcoY3R4KTsK
KworCWlmIChyZXQgPCAwKQorCQlEUk1fRVJST1IoIk1JUEkgcGh5IHNldHVwIGVycm9yLlxuIik7
Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfZHBfc3RvcChzdHJ1Y3QgYW54NzYyNV9kYXRhICpj
dHgpCit7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7CisJaW50IHJl
dDsKKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgInN0b3AgZHAgb3V0cHV0XG4iKTsKKwor
CS8qCisJICogdmlkZW8gZGlzYWJsZTogMHg3MjowOCBiaXQgNyA9IDA7CisJICogYXVkaW8gZGlz
YWJsZTogMHg3MDo4NyBiaXQgMCA9IDA7CisJICovCisJcmV0ID0gYW54NzYyNV93cml0ZV9hbmQo
Y3R4LCBjdHgtPmkyYy50eF9wMF9jbGllbnQsIDB4ODcsIDB4ZmUpOworCXJldCB8PSBhbng3NjI1
X3dyaXRlX2FuZChjdHgsIGN0eC0+aTJjLnR4X3AyX2NsaWVudCwgMHgwOCwgMHg3Zik7CisKKwly
ZXQgfD0gYW54NzYyNV92aWRlb19tdXRlX2NvbnRyb2woY3R4LCAxKTsKKwlpZiAocmV0IDwgMCkK
KwkJRFJNX0VSUk9SKCJJTyBlcnJvciA6IG11dGUgdmlkZW8gZmFpbGVkXG4iKTsKK30KKworc3Rh
dGljIGludCBzcF90eF9yc3RfYXV4KHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCkKK3sKKwlpbnQg
cmV0OworCisJcmV0ID0gYW54NzYyNV93cml0ZV9vcihjdHgsIGN0eC0+aTJjLnR4X3AyX2NsaWVu
dCwgUlNUX0NUUkwyLAorCQkJICAgICAgIEFVWF9SU1QpOworCXJldCB8PSBhbng3NjI1X3dyaXRl
X2FuZChjdHgsIGN0eC0+aTJjLnR4X3AyX2NsaWVudCwgUlNUX0NUUkwyLAorCQkJCSB+QVVYX1JT
VCk7CisJcmV0dXJuIHJldDsKK30KKworc3RhdGljIGludCBzcF90eF9hdXhfd3Ioc3RydWN0IGFu
eDc2MjVfZGF0YSAqY3R4LCB1OCBvZmZzZXQpCit7CisJaW50IHJldDsKKworCXJldCA9IGFueDc2
MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LAorCQkJCUFQX0FVWF9CVUZG
X1NUQVJULCBvZmZzZXQpOworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJj
LnJ4X3AwX2NsaWVudCwKKwkJCQkgQVBfQVVYX0NPTU1BTkQsIDB4MDQpOworCXJldCB8PSBhbng3
NjI1X3dyaXRlX29yKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LAorCQkJCUFQX0FVWF9DVFJM
X1NUQVRVUywgQVBfQVVYX0NUUkxfT1BfRU4pOworCXJldHVybiAocmV0IHwgd2FpdF9hdXhfb3Bf
ZmluaXNoKGN0eCkpOworfQorCitzdGF0aWMgaW50IHNwX3R4X2F1eF9yZChzdHJ1Y3QgYW54NzYy
NV9kYXRhICpjdHgsIHU4IGxlbl9jbWQpCit7CisJaW50IHJldDsKKworCXJldCA9IGFueDc2MjVf
cmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LAorCQkJCUFQX0FVWF9DT01NQU5E
LCBsZW5fY21kKTsKKwlyZXQgfD0gYW54NzYyNV93cml0ZV9vcihjdHgsIGN0eC0+aTJjLnJ4X3Aw
X2NsaWVudCwKKwkJCQlBUF9BVVhfQ1RSTF9TVEFUVVMsIEFQX0FVWF9DVFJMX09QX0VOKTsKKwly
ZXR1cm4gKHJldCB8IHdhaXRfYXV4X29wX2ZpbmlzaChjdHgpKTsKK30KKworc3RhdGljIGludCBz
cF90eF9nZXRfZWRpZF9ibG9jayhzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJaW50IGMg
PSAwOworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZjdHgtPmNsaWVudC0+ZGV2OworCisJc3BfdHhf
YXV4X3dyKGN0eCwgMHg3ZSk7CisJc3BfdHhfYXV4X3JkKGN0eCwgMHgwMSk7CisJYyA9IGFueDc2
MjVfcmVnX3JlYWQoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsIEFQX0FVWF9CVUZGX1NUQVJU
KTsKKwlpZiAoYyA8IDApIHsKKwkJRFJNX0VSUk9SKCJJTyBlcnJvciA6IGFjY2VzcyBBVVggQlVG
Ri5cbiIpOworCQlyZXR1cm4gLUVJTzsKKwl9CisKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYs
ICIgRURJRCBCbG9jayA9ICVkXG4iLCBjICsgMSk7CisKKwlpZiAoYyA+IE1BWF9FRElEX0JMT0NL
KQorCQljID0gMTsKKworCXJldHVybiBjOworfQorCitzdGF0aWMgaW50IGVkaWRfcmVhZChzdHJ1
Y3QgYW54NzYyNV9kYXRhICpjdHgsCisJCSAgICAgdTggb2Zmc2V0LCB1OCAqcGJsb2NrX2J1ZikK
K3sKKwlpbnQgcmV0LCBjbnQ7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5k
ZXY7CisKKwlmb3IgKGNudCA9IDA7IGNudCA8PSBFRElEX1RSWV9DTlQ7IGNudCsrKSB7CisJCXNw
X3R4X2F1eF93cihjdHgsIG9mZnNldCk7CisJCS8qIHNldCBJMkMgcmVhZCBjb20gMHgwMSBtb3Qg
PSAwIGFuZCByZWFkIDE2IGJ5dGVzICovCisJCXJldCA9IHNwX3R4X2F1eF9yZChjdHgsIDB4ZjEp
OworCisJCWlmIChyZXQpIHsKKwkJCXNwX3R4X3JzdF9hdXgoY3R4KTsKKwkJCURSTV9ERVZfREVC
VUdfRFJJVkVSKGRldiwgImVkaWQgcmVhZCBmYWlsZWQsIHJlc2V0IVxuIik7CisJCX0gZWxzZSB7
CisJCQlyZXQgPSBhbng3NjI1X3JlZ19ibG9ja19yZWFkKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xp
ZW50LAorCQkJCQkJICAgICBBUF9BVVhfQlVGRl9TVEFSVCwKKwkJCQkJCSAgICAgTUFYX0RQQ0Rf
QlVGRkVSX1NJWkUsCisJCQkJCQkgICAgIHBibG9ja19idWYpOworCQkJaWYgKHJldCA+IDApCisJ
CQkJYnJlYWs7CisJCX0KKwl9CisKKwlpZiAoY250ID4gRURJRF9UUllfQ05UKQorCQlyZXR1cm4g
LUVJTzsKKworCXJldHVybiAwOworfQorCitzdGF0aWMgaW50IHNlZ21lbnRzX2VkaWRfcmVhZChz
dHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgsCisJCQkgICAgICB1OCBzZWdtZW50LCB1OCAqYnVmLCB1
OCBvZmZzZXQpCit7CisJdTggY250OworCWludCByZXQ7CisJc3RydWN0IGRldmljZSAqZGV2ID0g
JmN0eC0+Y2xpZW50LT5kZXY7CisKKwkvKiB3cml0ZSBhZGRyZXNzIG9ubHkgKi8KKwlyZXQgPSBh
bng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQlBUF9BVVhf
QUREUl83XzAsIDB4MzApOworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJj
LnJ4X3AwX2NsaWVudCwKKwkJCQkgQVBfQVVYX0NPTU1BTkQsIDB4MDQpOworCXJldCB8PSBhbng3
NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkgQVBfQVVYX0NU
UkxfU1RBVFVTLAorCQkJCSBBUF9BVVhfQ1RSTF9BRERST05MWSB8IEFQX0FVWF9DVFJMX09QX0VO
KTsKKworCXJldCB8PSB3YWl0X2F1eF9vcF9maW5pc2goY3R4KTsKKwkvKiB3cml0ZSBzZWdtZW50
IGFkZHJlc3MgKi8KKwlyZXQgfD0gc3BfdHhfYXV4X3dyKGN0eCwgc2VnbWVudCk7CisJLyogZGF0
YSByZWFkICovCisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBf
Y2xpZW50LAorCQkJCSBBUF9BVVhfQUREUl83XzAsIDB4NTApOworCWlmIChyZXQpIHsKKwkJRFJN
X0VSUk9SKCJJTyBlcnJvciA6IGF1eCBpbml0aWFsIGZhaWxlZC5cbiIpOworCQlyZXR1cm4gcmV0
OworCX0KKworCWZvciAoY250ID0gMDsgY250IDw9IEVESURfVFJZX0NOVDsgY250KyspIHsKKwkJ
c3BfdHhfYXV4X3dyKGN0eCwgb2Zmc2V0KTsKKwkJLyogc2V0IEkyQyByZWFkIGNvbSAweDAxIG1v
dCA9IDAgYW5kIHJlYWQgMTYgYnl0ZXMgKi8KKwkJcmV0ID0gc3BfdHhfYXV4X3JkKGN0eCwgMHhm
MSk7CisKKwkJaWYgKHJldCkgeworCQkJcmV0ID0gc3BfdHhfcnN0X2F1eChjdHgpOworCQkJRFJN
X0RFVl9FUlJPUihkZXYsICJzZWdtZW50IHJlYWQgZmFpbGVkLCByZXNldCFcbiIpOworCQl9IGVs
c2UgeworCQkJcmV0ID0gYW54NzYyNV9yZWdfYmxvY2tfcmVhZChjdHgsIGN0eC0+aTJjLnJ4X3Aw
X2NsaWVudCwKKwkJCQkJCSAgICAgQVBfQVVYX0JVRkZfU1RBUlQsCisJCQkJCQkgICAgIE1BWF9E
UENEX0JVRkZFUl9TSVpFLCBidWYpOworCQkJaWYgKHJldCA+IDApCisJCQkJYnJlYWs7CisJCX0K
Kwl9CisKKwlpZiAoY250ID4gRURJRF9UUllfQ05UKQorCQlyZXR1cm4gLUVJTzsKKworCXJldHVy
biAwOworfQorCitzdGF0aWMgaW50IHNwX3R4X2VkaWRfcmVhZChzdHJ1Y3QgYW54NzYyNV9kYXRh
ICpjdHgsCisJCQkgICB1OCAqcGVkaWRfYmxvY2tzX2J1ZikKK3sKKwl1OCBvZmZzZXQsIGVkaWRf
cG9zOworCWludCBjb3VudCwgYmxvY2tzX251bTsKKwl1OCBwYmxvY2tfYnVmW01BWF9EUENEX0JV
RkZFUl9TSVpFXTsKKwl1OCBpLCBqOworCXU4IGdfZWRpZF9icmVhayA9IDA7CisJaW50IHJldDsK
KwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKworCS8qIGFkZHJlc3Mg
aW5pdGlhbCAqLworCXJldCA9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBf
Y2xpZW50LAorCQkJCUFQX0FVWF9BRERSXzdfMCwgMHg1MCk7CisJcmV0IHw9IGFueDc2MjVfcmVn
X3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LAorCQkJCSBBUF9BVVhfQUREUl8xNV84
LCAwKTsKKwlyZXQgfD0gYW54NzYyNV93cml0ZV9hbmQoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGll
bnQsCisJCQkJIEFQX0FVWF9BRERSXzE5XzE2LCAweGYwKTsKKwlpZiAocmV0IDwgMCkgeworCQlE
Uk1fRVJST1IoImFjY2VzcyBhdXggY2hhbm5lbCBJTyBlcnJvci5cbiIpOworCQlyZXR1cm4gLUVJ
TzsKKwl9CisKKwlibG9ja3NfbnVtID0gc3BfdHhfZ2V0X2VkaWRfYmxvY2soY3R4KTsKKwlpZiAo
YmxvY2tzX251bSA8IDApCisJCXJldHVybiBibG9ja3NfbnVtOworCisJY291bnQgPSAwOworCisJ
ZG8geworCQlzd2l0Y2ggKGNvdW50KSB7CisJCWNhc2UgMDoKKwkJY2FzZSAxOgorCQkJZm9yIChp
ID0gMDsgaSA8IDg7IGkrKykgeworCQkJCW9mZnNldCA9IChpICsgY291bnQgKiA4KSAqIE1BWF9E
UENEX0JVRkZFUl9TSVpFOworCQkJCWdfZWRpZF9icmVhayA9IGVkaWRfcmVhZChjdHgsIG9mZnNl
dCwKKwkJCQkJCQkgcGJsb2NrX2J1Zik7CisKKwkJCQlpZiAoZ19lZGlkX2JyZWFrKQorCQkJCQli
cmVhazsKKworCQkJCW1lbWNweSgmcGVkaWRfYmxvY2tzX2J1ZltvZmZzZXRdLAorCQkJCSAgICAg
ICBwYmxvY2tfYnVmLAorCQkJCSAgICAgICBNQVhfRFBDRF9CVUZGRVJfU0laRSk7CisJCQl9CisK
KwkJCWJyZWFrOworCQljYXNlIDI6CisJCQlvZmZzZXQgPSAweDAwOworCisJCQlmb3IgKGogPSAw
OyBqIDwgODsgaisrKSB7CisJCQkJZWRpZF9wb3MgPSAoaiArIGNvdW50ICogOCkgKgorCQkJCQlN
QVhfRFBDRF9CVUZGRVJfU0laRTsKKworCQkJCWlmIChnX2VkaWRfYnJlYWsgPT0gMSkKKwkJCQkJ
YnJlYWs7CisKKwkJCQlzZWdtZW50c19lZGlkX3JlYWQoY3R4LCBjb3VudCAvIDIsCisJCQkJCQkg
ICBwYmxvY2tfYnVmLCBvZmZzZXQpOworCQkJCW1lbWNweSgmcGVkaWRfYmxvY2tzX2J1ZltlZGlk
X3Bvc10sCisJCQkJICAgICAgIHBibG9ja19idWYsCisJCQkJICAgICAgIE1BWF9EUENEX0JVRkZF
Ul9TSVpFKTsKKwkJCQlvZmZzZXQgPSBvZmZzZXQgKyAweDEwOworCQkJfQorCisJCQlicmVhazsK
KwkJY2FzZSAzOgorCQkJb2Zmc2V0ID0gMHg4MDsKKworCQkJZm9yIChqID0gMDsgaiA8IDg7IGor
KykgeworCQkJCWVkaWRfcG9zID0gKGogKyBjb3VudCAqIDgpICoKKwkJCQkJTUFYX0RQQ0RfQlVG
RkVSX1NJWkU7CisJCQkJaWYgKGdfZWRpZF9icmVhayA9PSAxKQorCQkJCQlicmVhazsKKworCQkJ
CXNlZ21lbnRzX2VkaWRfcmVhZChjdHgsIGNvdW50IC8gMiwKKwkJCQkJCSAgIHBibG9ja19idWYs
IG9mZnNldCk7CisJCQkJbWVtY3B5KCZwZWRpZF9ibG9ja3NfYnVmW2VkaWRfcG9zXSwKKwkJCQkg
ICAgICAgcGJsb2NrX2J1ZiwKKwkJCQkgICAgICAgTUFYX0RQQ0RfQlVGRkVSX1NJWkUpOworCQkJ
CW9mZnNldCA9IG9mZnNldCArIDB4MTA7CisJCQl9CisKKwkJCWJyZWFrOworCQlkZWZhdWx0Ogor
CQkJYnJlYWs7CisJCX0KKworCQljb3VudCsrOworCisJfSB3aGlsZSAoYmxvY2tzX251bSA+PSBj
b3VudCk7CisKKwkvKiBjaGVjayBlZGlkIGRhdGEgKi8KKwlpZiAoIWRybV9lZGlkX2lzX3ZhbGlk
KChzdHJ1Y3QgZWRpZCAqKXBlZGlkX2Jsb2Nrc19idWYpKSB7CisJCURSTV9ERVZfRVJST1IoZGV2
LCAiV0FSTklORyEgZWRpZCBjaGVjayBmYWlsZWQhXG4iKTsKKwkJcmV0dXJuIC1FSU5WQUw7CisJ
fQorCisJLyogcmVzZXQgYXV4IGNoYW5uZWwgKi8KKwlzcF90eF9yc3RfYXV4KGN0eCk7CisKKwly
ZXR1cm4gKGJsb2Nrc19udW0gKyAxKTsKK30KKworc3RhdGljIHZvaWQgYW54NzYyNV9wb3dlcl9v
bihzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0
eC0+Y2xpZW50LT5kZXY7CisKKwlpZiAoIWN0eC0+cGRhdGEubG93X3Bvd2VyX21vZGUpIHsKKwkJ
RFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiQW54NzYyNSBub3QgbG93IHBvd2VyIG1vZGUhXG4i
KTsKKwkJcmV0dXJuOworCX0KKworCS8qIHBvd2VyIG9uIHBpbiBlbmFibGUgKi8KKwlncGlvZF9z
ZXRfdmFsdWUoY3R4LT5wZGF0YS5ncGlvX3Bfb24sIDEpOworCXVzbGVlcF9yYW5nZSgxMDAwMCwg
MTEwMDApOworCS8qIHBvd2VyIHJlc2V0IHBpbiBlbmFibGUgKi8KKwlncGlvZF9zZXRfdmFsdWUo
Y3R4LT5wZGF0YS5ncGlvX3Jlc2V0LCAxKTsKKwl1c2xlZXBfcmFuZ2UoMTAwMDAsIDExMDAwKTsK
KworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgIkFueDc2MjUgcG93ZXIgb24gIVxuIik7Cit9
CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfcG93ZXJfc3RhbmRieShzdHJ1Y3QgYW54NzYyNV9kYXRh
ICpjdHgpCit7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7CisKKwlp
ZiAoIWN0eC0+cGRhdGEubG93X3Bvd2VyX21vZGUpIHsKKwkJRFJNX0RFVl9ERUJVR19EUklWRVIo
ZGV2LCAiYW54NzYyNSBub3QgbG93IHBvd2VyIG1vZGUhXG4iKTsKKwkJcmV0dXJuOworCX0KKwor
CWdwaW9kX3NldF92YWx1ZShjdHgtPnBkYXRhLmdwaW9fcmVzZXQsIDApOworCXVzbGVlcF9yYW5n
ZSgxMDAwLCAxMTAwKTsKKwlncGlvZF9zZXRfdmFsdWUoY3R4LT5wZGF0YS5ncGlvX3Bfb24sIDAp
OworCXVzbGVlcF9yYW5nZSgxMDAwLCAxMTAwKTsKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYs
ICJhbng3NjI1IHBvd2VyIGRvd25cbiIpOworfQorCisvKiBiYXNpYyBjb25maWd1cmF0aW9ucyBv
ZiBBTlg3NjI1ICovCitzdGF0aWMgdm9pZCBhbng3NjI1X2NvbmZpZyhzdHJ1Y3QgYW54NzYyNV9k
YXRhICpjdHgpCit7CisJYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGll
bnQsCisJCQkgIFhUQUxfRlJRX1NFTCwgWFRBTF9GUlFfMjdNKTsKK30KKworc3RhdGljIHZvaWQg
YW54NzYyNV9kaXNhYmxlX3BkX3Byb3RvY29sKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCkKK3sK
KwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKwlpbnQgcmV0OworCisJ
LyogcmVzZXQgbWFpbiBvY20gKi8KKwlyZXQgPSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+
aTJjLnJ4X3AwX2NsaWVudCwgMHg4OCwgMHg0MCk7CisJLyogRGlzYWJsZSBQRCAqLworCXJldCB8
PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkgQVBf
QVZfU1RBVFVTLCBBUF9ESVNBQkxFX1BEKTsKKwkvKiByZWxlYXNlIG1haW4gb2NtICovCisJcmV0
IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LCAweDg4LCAw
eDAwKTsKKworCWlmIChyZXQgPCAwKQorCQlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJkaXNh
YmxlIFBEIGZlYXR1cmUgZmFpbGVkLlxuIik7CisJZWxzZQorCQlEUk1fREVWX0RFQlVHX0RSSVZF
UihkZXYsICJkaXNhYmxlIFBEIGZlYXR1cmUgc3VjY2VlZGVkLlxuIik7Cit9CisKK3N0YXRpYyB2
b2lkIGFueDc2MjVfcG93ZXJfb25faW5pdChzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJ
aW50IHJldHJ5X2NvdW50LCBpOworCWludCByZXQ7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0
eC0+Y2xpZW50LT5kZXY7CisKKwlmb3IgKHJldHJ5X2NvdW50ID0gMDsgcmV0cnlfY291bnQgPCAz
OyByZXRyeV9jb3VudCsrKSB7CisJCWFueDc2MjVfcG93ZXJfb24oY3R4KTsKKwkJYW54NzYyNV9j
b25maWcoY3R4KTsKKworCQlmb3IgKGkgPSAwOyBpIDwgT0NNX0xPQURJTkdfVElNRTsgaSsrKSB7
CisJCQkvKiBjaGVjayBpbnRlcmZhY2Ugd29ya2FibGUgKi8KKwkJCXJldCA9IGFueDc2MjVfcmVn
X3JlYWQoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsCisJCQkJCSAgICAgICBGTEFTSF9MT0FE
X1NUQSk7CisJCQlpZiAocmV0IDwgMCkgeworCQkJCURSTV9FUlJPUigiSU8gZXJyb3IgOiBhY2Nl
c3MgZmxhc2ggbG9hZC5cbiIpOworCQkJCXJldHVybjsKKwkJCX0KKwkJCWlmICgocmV0ICYgRkxB
U0hfTE9BRF9TVEFfQ0hLKSA9PSBGTEFTSF9MT0FEX1NUQV9DSEspIHsKKwkJCQlhbng3NjI1X2Rp
c2FibGVfcGRfcHJvdG9jb2woY3R4KTsKKwkJCQlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsCisJ
CQkJCQkgICAgICJGaXJtd2FyZSB2ZXIgJTAyeCUwMngsIiwKKwkJCQkJYW54NzYyNV9yZWdfcmVh
ZChjdHgsCisJCQkJCQkJIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkJCQkgT0NNX0ZXX1ZF
UlNJT04pLAorCQkJCQlhbng3NjI1X3JlZ19yZWFkKGN0eCwKKwkJCQkJCQkgY3R4LT5pMmMucnhf
cDBfY2xpZW50LAorCQkJCQkJCSBPQ01fRldfUkVWRVJTSU9OKSk7CisJCQkJRFJNX0RFVl9ERUJV
R19EUklWRVIoZGV2LCAiRHJpdmVyIHZlcnNpb24gJXNcbiIsCisJCQkJCQkgICAgIEFOWDc2MjVf
RFJWX1ZFUlNJT04pOworCisJCQkJcmV0dXJuOworCQkJfQorCQkJdXNsZWVwX3JhbmdlKDEwMDAs
IDExMDApOworCQl9CisJCWFueDc2MjVfcG93ZXJfc3RhbmRieShjdHgpOworCX0KK30KKworc3Rh
dGljIGludCBhbng3NjI1X2V4dGNvbl9ub3RpZmllcihzdHJ1Y3Qgbm90aWZpZXJfYmxvY2sgKm5i
LAorCQkJCSAgIHVuc2lnbmVkIGxvbmcgZXZlbnQsIHZvaWQgKnB0cikKK3sKKwlzdHJ1Y3QgYW54
NzYyNV9kYXRhICpjdHggPQorCQljb250YWluZXJfb2YobmIsIHN0cnVjdCBhbng3NjI1X2RhdGEs
IGV2ZW50X25iKTsKKworCXNjaGVkdWxlX3dvcmsoJmN0eC0+ZXh0Y29uX3dxKTsKKwlyZXR1cm4g
Tk9USUZZX0RPTkU7Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfY2hpcF9jb250cm9sKHN0cnVj
dCBhbng3NjI1X2RhdGEgKmN0eCwgaW50IHN0YXRlKQoreworCXN0cnVjdCBkZXZpY2UgKmRldiA9
ICZjdHgtPmNsaWVudC0+ZGV2OworCisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiYmVmb3Jl
IHNldCwgcG93ZXJfc3RhdGUoJWQpLlxuIiwKKwkJCSAgICAgYXRvbWljX3JlYWQoJmN0eC0+cG93
ZXJfc3RhdHVzKSk7CisKKwlpZiAoIWN0eC0+cGRhdGEubG93X3Bvd2VyX21vZGUpCisJCXJldHVy
bjsKKworCWlmIChzdGF0ZSkgeworCQlhdG9taWNfaW5jKCZjdHgtPnBvd2VyX3N0YXR1cyk7CisJ
CWlmIChhdG9taWNfcmVhZCgmY3R4LT5wb3dlcl9zdGF0dXMpID09IDEpCisJCQlhbng3NjI1X3Bv
d2VyX29uX2luaXQoY3R4KTsKKwl9IGVsc2UgeworCQlpZiAoYXRvbWljX3JlYWQoJmN0eC0+cG93
ZXJfc3RhdHVzKSkgeworCQkJYXRvbWljX2RlYygmY3R4LT5wb3dlcl9zdGF0dXMpOworCisJCQlp
ZiAoYXRvbWljX3JlYWQoJmN0eC0+cG93ZXJfc3RhdHVzKSA9PSAwKQorCQkJCWFueDc2MjVfcG93
ZXJfc3RhbmRieShjdHgpOworCQl9CisJfQorCisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAi
YWZ0ZXIgc2V0LCBwb3dlcl9zdGF0ZSglZCkuXG4iLAorCQkJICAgICBhdG9taWNfcmVhZCgmY3R4
LT5wb3dlcl9zdGF0dXMpKTsKK30KKworc3RhdGljIHZvaWQgYW54NzYyNV9leHRjb25fd29yayhz
dHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspCit7CisJc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4ID0K
KwkJY29udGFpbmVyX29mKHdvcmssIHN0cnVjdCBhbng3NjI1X2RhdGEsIGV4dGNvbl93cSk7CisJ
aW50IHN0YXRlID0gZXh0Y29uX2dldF9zdGF0ZShjdHgtPmV4dGNvbiwgRVhUQ09OX0RJU1BfRFAp
OworCisJbXV0ZXhfbG9jaygmY3R4LT5sb2NrKTsKKwlhbng3NjI1X2NoaXBfY29udHJvbChjdHgs
IHN0YXRlKTsKKwltdXRleF91bmxvY2soJmN0eC0+bG9jayk7Cit9CisKK3N0YXRpYyBpbnQgYW54
NzYyNV9leHRjb25fbm90aWZpZXJfaW5pdChzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJ
aW50IHJldDsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKworCWN0
eC0+ZXZlbnRfbmIubm90aWZpZXJfY2FsbCA9IGFueDc2MjVfZXh0Y29uX25vdGlmaWVyOworCUlO
SVRfV09SSygmY3R4LT5leHRjb25fd3EsIGFueDc2MjVfZXh0Y29uX3dvcmspOworCXJldCA9IGRl
dm1fZXh0Y29uX3JlZ2lzdGVyX25vdGlmaWVyKCZjdHgtPmNsaWVudC0+ZGV2LCBjdHgtPmV4dGNv
biwKKwkJCQkJICAgIEVYVENPTl9ESVNQX0RQLCAmY3R4LT5ldmVudF9uYik7CisJaWYgKHJldCkg
eworCQlEUk1fREVWX0VSUk9SKGRldiwgImZhaWxlZCB0byByZWdpc3RlciBub3RpZmllciBmb3Ig
RFAiKTsKKwkJcmV0dXJuIHJldDsKKwl9CisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyB2b2lkIGFu
eDc2MjVfaW5pdF9ncGlvKHN0cnVjdCBhbng3NjI1X2RhdGEgKnBsYXRmb3JtKQoreworCXN0cnVj
dCBkZXZpY2UgKmRldiA9ICZwbGF0Zm9ybS0+Y2xpZW50LT5kZXY7CisKKwlEUk1fREVWX0RFQlVH
X0RSSVZFUihkZXYsICJhbng3NjI1IGluaXQgZ3Bpb1xuIik7CisKKwkvKiBncGlvIGZvciBjaGlw
IHBvd2VyIGVuYWJsZSAqLworCXBsYXRmb3JtLT5wZGF0YS5ncGlvX3Bfb24gPQorCQlkZXZtX2dw
aW9kX2dldF9vcHRpb25hbChkZXYsICJlbmFibGUiLCBHUElPRF9PVVRfTE9XKTsKKwkvKiBncGlv
IGZvciBjaGlwIHJlc2V0ICovCisJcGxhdGZvcm0tPnBkYXRhLmdwaW9fcmVzZXQgPQorCQlkZXZt
X2dwaW9kX2dldF9vcHRpb25hbChkZXYsICJyZXNldCIsIEdQSU9EX09VVF9MT1cpOworCisJaWYg
KHBsYXRmb3JtLT5wZGF0YS5ncGlvX3Bfb24gJiYgcGxhdGZvcm0tPnBkYXRhLmdwaW9fcmVzZXQp
IHsKKwkJcGxhdGZvcm0tPnBkYXRhLmxvd19wb3dlcl9tb2RlID0gMTsKKwkJRFJNX0RFVl9ERUJV
R19EUklWRVIoZGV2LCAibG93IHBvd2VyIG1vZGUsIHBvbiAlZCwgcmVzZXQgJWQuXG4iLAorCQkJ
CSAgICAgZGVzY190b19ncGlvKHBsYXRmb3JtLT5wZGF0YS5ncGlvX3Bfb24pLAorCQkJCSAgICAg
ZGVzY190b19ncGlvKHBsYXRmb3JtLT5wZGF0YS5ncGlvX3Jlc2V0KSk7CisJfSBlbHNlIHsKKwkJ
cGxhdGZvcm0tPnBkYXRhLmxvd19wb3dlcl9tb2RlID0gMDsKKwkJRFJNX0RFVl9ERUJVR19EUklW
RVIoZGV2LCAibm90IGxvdyBwb3dlciBtb2RlLlxuIik7CisJfQorfQorCitzdGF0aWMgdm9pZCBh
bng3NjI1X3N0b3BfZHBfd29yayhzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJY3R4LT5o
cGRfc3RhdHVzID0gMDsKKwljdHgtPmhwZF9oaWdoX2NudCA9IDA7CisJY3R4LT5kaXNwbGF5X3Rp
bWluZ192YWxpZCA9IDA7CisKKwljdHgtPnNsaW1wb3J0X2VkaWRfcC5lZGlkX2Jsb2NrX251bSA9
IC0xOworCisJaWYgKGN0eC0+cGRhdGEubG93X3Bvd2VyX21vZGUgPT0gMCkKKwkJYW54NzYyNV9k
aXNhYmxlX3BkX3Byb3RvY29sKGN0eCk7Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfc3RhcnRf
ZHBfd29yayhzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJaW50IHJldDsKKwlzdHJ1Y3Qg
ZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKworCWlmIChjdHgtPmhwZF9oaWdoX2Nu
dCA+PSAyKSB7CisJCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImFueDc2MjUgZmlsdGVyIHVz
ZWxlc3MgSFBEXG4iKTsKKwkJcmV0dXJuOworCX0KKworCWN0eC0+aHBkX2hpZ2hfY250Kys7CisK
KwkvKiBub3Qgc3VwcG9ydCBIRENQICovCisJcmV0ID0gYW54NzYyNV93cml0ZV9hbmQoY3R4LCBj
dHgtPmkyYy5yeF9wMV9jbGllbnQsIDB4ZWUsIDB4OWYpOworCisJLyogdHJ5IGF1dGggZmxhZyAq
LworCXJldCB8PSBhbng3NjI1X3dyaXRlX29yKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LCAw
eGVjLCAweDEwKTsKKwkvKiBpbnRlcnJ1cHQgZm9yIERSTSAqLworCXJldCB8PSBhbng3NjI1X3dy
aXRlX29yKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LCAweGZmLCAweDAxKTsKKwlpZiAocmV0
IDwgMCkKKwkJcmV0dXJuOworCisJcmV0ID0gYW54NzYyNV9yZWdfcmVhZChjdHgsIGN0eC0+aTJj
LnJ4X3AxX2NsaWVudCwgMHg4Nik7CisJaWYgKHJldCA8IDApCisJCXJldHVybjsKKworCURSTV9E
RVZfREVCVUdfRFJJVkVSKGRldiwgIlNlY3VyZSBPQ00gdmVyc2lvbj0lMDJ4XG4iLCByZXQpOwor
fQorCitzdGF0aWMgaW50IGFueDc2MjVfcmVhZF9ocGRfc3RhdHVzX3AwKHN0cnVjdCBhbng3NjI1
X2RhdGEgKmN0eCkKK3sKKwlyZXR1cm4gYW54NzYyNV9yZWdfcmVhZChjdHgsIGN0eC0+aTJjLnJ4
X3AwX2NsaWVudCwgU1lTVEVNX1NUU1RVUyk7Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfaHBk
X3BvbGxpbmcoc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4KQoreworCWludCByZXQsIHZhbDsKKwlz
dHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKworCWlmIChhdG9taWNfcmVh
ZCgmY3R4LT5wb3dlcl9zdGF0dXMpICE9IDEpIHsKKwkJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2
LCAiTm8gbmVlZCB0byBwb2xpbmcgSFBEIHN0YXR1cy5cbiIpOworCQlyZXR1cm47CisJfQorCisJ
cmV0ID0gcmVhZHhfcG9sbF90aW1lb3V0KGFueDc2MjVfcmVhZF9ocGRfc3RhdHVzX3AwLAorCQkJ
CSBjdHgsIHZhbCwKKwkJCQkgKCh2YWwgJiBIUERfU1RBVFVTKSB8fCAodmFsIDwgMCkpLAorCQkJ
CSA1MDAwLAorCQkJCSA1MDAwICogMTAwKTsKKwlpZiAocmV0KSB7CisJCURSTV9ERVZfRVJST1Io
ZGV2LCAiSFBEIHBvbGxpbmcgdGltZW91dCFcbiIpOworCX0gZWxzZSB7CisJCURSTV9ERVZfREVC
VUdfRFJJVkVSKGRldiwgIkhQRCByYWlzZSB1cC5cbiIpOworCQlhbng3NjI1X3JlZ193cml0ZShj
dHgsIGN0eC0+aTJjLnRjcGNfY2xpZW50LAorCQkJCSAgSU5UUl9BTEVSVF8xLCAweEZGKTsKKwkJ
YW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsCisJCQkJICBJTlRF
UkZBQ0VfQ0hBTkdFX0lOVCwgMCk7CisJfQorCisJYW54NzYyNV9zdGFydF9kcF93b3JrKGN0eCk7
Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfZGlzY29ubmVjdF9jaGVjayhzdHJ1Y3QgYW54NzYy
NV9kYXRhICpjdHgpCit7CisJaWYgKGF0b21pY19yZWFkKCZjdHgtPnBvd2VyX3N0YXR1cykgPT0g
MCkKKwkJYW54NzYyNV9zdG9wX2RwX3dvcmsoY3R4KTsKK30KKworc3RhdGljIHZvaWQgYW54NzYy
NV9sb3dfcG93ZXJfbW9kZV9jaGVjayhzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgsCisJCQkJCSBp
bnQgc3RhdGUpCit7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7CisK
KwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJsb3cgcG93ZXIgbW9kZSBjaGVjaywgc3RhdGUo
JWQpLlxuIiwgc3RhdGUpOworCisJaWYgKGN0eC0+cGRhdGEubG93X3Bvd2VyX21vZGUpIHsKKwkJ
YW54NzYyNV9jaGlwX2NvbnRyb2woY3R4LCBzdGF0ZSk7CisJCWlmIChzdGF0ZSkKKwkJCWFueDc2
MjVfaHBkX3BvbGxpbmcoY3R4KTsKKwkJZWxzZQorCQkJYW54NzYyNV9kaXNjb25uZWN0X2NoZWNr
KGN0eCk7CisJfQorfQorCitzdGF0aWMgdm9pZCBkcF9ocGRfY2hhbmdlX2hhbmRsZXIoc3RydWN0
IGFueDc2MjVfZGF0YSAqY3R4LCBib29sIG9uKQoreworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZj
dHgtPmNsaWVudC0+ZGV2OworCisJLyogaHBkIGNoYW5nZWQgKi8KKwlEUk1fREVWX0RFQlVHX0RS
SVZFUihkZXYsICJkcF9ocGRfY2hhbmdlX2RlZmF1bHRfZnVuYzogJWRcbiIsCisJCQkgICAgICh1
MzIpb24pOworCisJaWYgKG9uID09IDApIHsKKwkJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAi
IEhQRCBsb3dcbiIpOworCQlhbng3NjI1X3N0b3BfZHBfd29yayhjdHgpOworCX0gZWxzZSB7CisJ
CURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgIiBIUEQgaGlnaFxuIik7CisJCWFueDc2MjVfc3Rh
cnRfZHBfd29yayhjdHgpOworCX0KKworCWN0eC0+aHBkX3N0YXR1cyA9IDE7Cit9CisKK3N0YXRp
YyBpbnQgYW54NzYyNV9ocGRfY2hhbmdlX2RldGVjdChzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgp
Cit7CisJaW50IGludHJfdmVjdG9yLCBzdGF0dXM7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0
eC0+Y2xpZW50LT5kZXY7CisKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJwb3dlcl9zdGF0
dXM9JWRcbiIsCisJCQkgICAgICh1MzIpYXRvbWljX3JlYWQoJmN0eC0+cG93ZXJfc3RhdHVzKSk7
CisKKwlzdGF0dXMgPSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnRjcGNfY2xpZW50
LAorCQkJCSAgIElOVFJfQUxFUlRfMSwgMHhGRik7CisJaWYgKHN0YXR1cyA8IDApIHsKKwkJRFJN
X0VSUk9SKCJJTyBlcnJvciA6IGNsZWFyIGFsZXJ0IHJlZ2lzdGVyLlxuIik7CisJCXJldHVybiBz
dGF0dXM7CisJfQorCisJaW50cl92ZWN0b3IgPSBhbng3NjI1X3JlZ19yZWFkKGN0eCwgY3R4LT5p
MmMucnhfcDBfY2xpZW50LAorCQkJCSAgICAgICBJTlRFUkZBQ0VfQ0hBTkdFX0lOVCk7CisJaWYg
KGludHJfdmVjdG9yIDwgMCkgeworCQlEUk1fRVJST1IoIklPIGVycm9yIDogYWNjZXNzIGludGVy
cnVwdCBjaGFuZ2UgcmVnaXN0ZXIuXG4iKTsKKwkJcmV0dXJuIGludHJfdmVjdG9yOworCX0KKwlE
Uk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICIweDdlOjB4NDQ9JXhcbiIsIGludHJfdmVjdG9yKTsK
KwlzdGF0dXMgPSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwK
KwkJCQkgICBJTlRFUkZBQ0VfQ0hBTkdFX0lOVCwKKwkJCQkgICBpbnRyX3ZlY3RvciAmICh+aW50
cl92ZWN0b3IpKTsKKwlpZiAoc3RhdHVzIDwgMCkgeworCQlEUk1fRVJST1IoIklPIGVycm9yIDog
Y2xlYXIgaW50ZXJydXB0IGNoYW5nZSByZWdpc3Rlci5cbiIpOworCQlyZXR1cm4gc3RhdHVzOwor
CX0KKworCWlmICghKGludHJfdmVjdG9yICYgSFBEX1NUQVRVU19DSEFOR0UpKQorCQlyZXR1cm4g
LUVOT0VOVDsKKworCXN0YXR1cyA9IGFueDc2MjVfcmVnX3JlYWQoY3R4LCBjdHgtPmkyYy5yeF9w
MF9jbGllbnQsCisJCQkJICBTWVNURU1fU1RTVFVTKTsKKwlpZiAoc3RhdHVzIDwgMCkgeworCQlE
Uk1fRVJST1IoIklPIGVycm9yIDogY2xlYXIgaW50ZXJydXB0IHN0YXR1cy5cbiIpOworCQlyZXR1
cm4gc3RhdHVzOworCX0KKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgIjB4N2U6MHg0NT0l
eFxuIiwgc3RhdHVzKTsKKwlkcF9ocGRfY2hhbmdlX2hhbmRsZXIoY3R4LCBzdGF0dXMgJiBIUERf
U1RBVFVTKTsKKworCXJldHVybiAwOworfQorCitzdGF0aWMgdm9pZCBhbng3NjI1X3dvcmtfZnVu
YyhzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspCit7CisJaW50IGV2ZW50OworCXN0cnVjdCBhbng3
NjI1X2RhdGEgKmN0eCA9IGNvbnRhaW5lcl9vZih3b3JrLAorCQkJCQkJc3RydWN0IGFueDc2MjVf
ZGF0YSwgd29yayk7CisKKwltdXRleF9sb2NrKCZjdHgtPmxvY2spOworCWV2ZW50ID0gYW54NzYy
NV9ocGRfY2hhbmdlX2RldGVjdChjdHgpOworCW11dGV4X3VubG9jaygmY3R4LT5sb2NrKTsKKwor
CWlmIChldmVudCA8IDApCisJCXJldHVybjsKKworCWlmIChjdHgtPmJyaWRnZV9hdHRhY2hlZCkK
KwkJZHJtX2hlbHBlcl9ocGRfaXJxX2V2ZW50KGN0eC0+Y29ubmVjdG9yLmRldik7Cit9CisKK3N0
YXRpYyBpcnFyZXR1cm5fdCBhbng3NjI1X2ludHJfaHBkX2lzcihpbnQgaXJxLCB2b2lkICpkYXRh
KQoreworCXN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCA9IChzdHJ1Y3QgYW54NzYyNV9kYXRhICop
ZGF0YTsKKworCWlmIChhdG9taWNfcmVhZCgmY3R4LT5wb3dlcl9zdGF0dXMpICE9IDEpCisJCXJl
dHVybiBJUlFfTk9ORTsKKworCXF1ZXVlX3dvcmsoY3R4LT53b3JrcXVldWUsICZjdHgtPndvcmsp
OworCisJcmV0dXJuIElSUV9IQU5ETEVEOworfQorCisjaWZkZWYgQ09ORklHX09GCitzdGF0aWMg
aW50IGFueDc2MjVfcGFyc2VfZHQoc3RydWN0IGRldmljZSAqZGV2LAorCQkJICAgIHN0cnVjdCBh
bng3NjI1X3BsYXRmb3JtX2RhdGEgKnBkYXRhKQoreworCXN0cnVjdCBkZXZpY2Vfbm9kZSAqbnAg
PSBkZXYtPm9mX25vZGU7CisJc3RydWN0IGRldmljZV9ub2RlICpwYW5lbF9ub2RlLCAqb3V0X2Vw
OworCisJb2ZfcHJvcGVydHlfcmVhZF91MzIoZGV2LT5vZl9ub2RlLCAicGFuZWxfZmxhZ3MiLAor
CQkJICAgICAmcGRhdGEtPnBhbmVsX2ZsYWdzKTsKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYs
ICJwYW5lbF9mbGFncyA6ICVkXG4iLCBwZGF0YS0+cGFuZWxfZmxhZ3MpOworCisJaWYgKHBkYXRh
LT5wYW5lbF9mbGFncyA9PSAxKQorCQlwZGF0YS0+aW50ZXJuYWxfcGFuZWwgPSAxOworCWVsc2Ug
aWYgKHBkYXRhLT5wYW5lbF9mbGFncyA9PSAyKQorCQlwZGF0YS0+ZXh0Y29uX3N1cHBvcnRlZCA9
IDE7CisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiJXMgc3VwcG9ydCBleHRjb24sICVzIGlu
dGVybmFsIHBhbmVsXG4iLAorCQkJICAgICBwZGF0YS0+ZXh0Y29uX3N1cHBvcnRlZCA/ICIiIDog
Im5vdCIsCisJCQkgICAgIHBkYXRhLT5pbnRlcm5hbF9wYW5lbCA/ICJoYXMiIDogIm5vIik7CisK
KwlwZGF0YS0+bm9kZS5taXBpX2RzaV9ob3N0X25vZGUgPSBvZl9ncmFwaF9nZXRfcmVtb3RlX25v
ZGUobnAsIDAsIDApOworCWlmIChwZGF0YS0+bm9kZS5taXBpX2RzaV9ob3N0X25vZGUpIHsKKwkJ
b2Zfbm9kZV9wdXQocGRhdGEtPm5vZGUubWlwaV9kc2lfaG9zdF9ub2RlKTsKKwkJcGRhdGEtPmRz
aV9zdXBwb3J0ZWQgPSAxOworCQlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJmb3VuZCBkc2kg
aG9zdCBub2RlLlxuIik7CisJfSBlbHNlIHsKKwkJcGRhdGEtPm5vZGUubWlwaV9kcGlfaG9zdF9u
b2RlID0KKwkJCW9mX2dyYXBoX2dldF9yZW1vdGVfbm9kZShucCwgMSwgMCk7CisKKwkJaWYgKHBk
YXRhLT5ub2RlLm1pcGlfZHBpX2hvc3Rfbm9kZSkgeworCQkJb2Zfbm9kZV9wdXQocGRhdGEtPm5v
ZGUubWlwaV9kcGlfaG9zdF9ub2RlKTsKKwkJCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImZv
dW5kIGRwaSBob3N0IG5vZGUuXG4iKTsKKwkJfQorCX0KKworCURSTV9ERVZfREVCVUdfRFJJVkVS
KGRldiwgImRzaV9zdXBwb3J0ZWQgOiAlZFxuIiwgcGRhdGEtPmRzaV9zdXBwb3J0ZWQpOworCisJ
cGRhdGEtPm5vZGUucGFuZWxfbm9kZSA9IG9mX2dyYXBoX2dldF9wb3J0X2J5X2lkKG5wLCAyKTsK
KwlpZiAocGRhdGEtPm5vZGUucGFuZWxfbm9kZSkgeworCQlvZl9ub2RlX3B1dChwZGF0YS0+bm9k
ZS5wYW5lbF9ub2RlKTsKKwkJb3V0X2VwID0gb2ZfZ2V0X2NoaWxkX2J5X25hbWUocGRhdGEtPm5v
ZGUucGFuZWxfbm9kZSwKKwkJCQkJICAgICAgImVuZHBvaW50Iik7CisJCWlmICghb3V0X2VwKSB7
CisJCQlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJjYW5ub3QgZ2V0IGVuZHBvaW50LlxuIik7
CisJCQlyZXR1cm4gLUVQUk9CRV9ERUZFUjsKKwkJfQorCisJCXBhbmVsX25vZGUgPSBvZl9ncmFw
aF9nZXRfcmVtb3RlX3BvcnRfcGFyZW50KG91dF9lcCk7CisJCW9mX25vZGVfcHV0KG91dF9lcCk7
CisKKwkJcGRhdGEtPnBhbmVsID0gb2ZfZHJtX2ZpbmRfcGFuZWwocGFuZWxfbm9kZSk7CisJCURS
TV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImdldCBwYW5lbCBub2RlLlxuIik7CisJCW9mX25vZGVf
cHV0KHBhbmVsX25vZGUpOworCQlpZiAoSVNfRVJSX09SX05VTEwocGRhdGEtPnBhbmVsKSkKKwkJ
CXJldHVybiAtRVBST0JFX0RFRkVSOworCX0gZWxzZSB7CisJCWlmIChwZGF0YS0+aW50ZXJuYWxf
cGFuZWwpIHsKKwkJCURSTV9FUlJPUigiZmFpbGVkIHRvIGdldCBpbnRlcm5hbCBwYW5lbC5cbiIp
OworCQkJcmV0dXJuIC1FUFJPQkVfREVGRVI7CisJCX0KKwl9CisKKwlyZXR1cm4gMDsKK30KKyNl
bHNlCitzdGF0aWMgaW50IGFueDc2MjVfcGFyc2VfZHQoc3RydWN0IGRldmljZSAqZGV2LAorCQkJ
ICAgIHN0cnVjdCBhbng3NjI1X3BsYXRmb3JtX2RhdGEgKnBkYXRhKQoreworCXJldHVybiAtRU5P
REVWOworfQorI2VuZGlmCisKK3N0YXRpYyBpbmxpbmUgc3RydWN0IGFueDc2MjVfZGF0YSAqY29u
bmVjdG9yX3RvX2FueDc2MjUoc3RydWN0IGRybV9jb25uZWN0b3IgKmMpCit7CisJcmV0dXJuIGNv
bnRhaW5lcl9vZihjLCBzdHJ1Y3QgYW54NzYyNV9kYXRhLCBjb25uZWN0b3IpOworfQorCitzdGF0
aWMgaW5saW5lIHN0cnVjdCBhbng3NjI1X2RhdGEgKmJyaWRnZV90b19hbng3NjI1KHN0cnVjdCBk
cm1fYnJpZGdlICpicmlkZ2UpCit7CisJcmV0dXJuIGNvbnRhaW5lcl9vZihicmlkZ2UsIHN0cnVj
dCBhbng3NjI1X2RhdGEsIGJyaWRnZSk7Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfcG9zdF9k
aXNhYmxlKHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UpCit7CisJc3RydWN0IGFueDc2MjVfZGF0
YSAqY3R4ID0gYnJpZGdlX3RvX2FueDc2MjUoYnJpZGdlKTsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYg
PSAmY3R4LT5jbGllbnQtPmRldjsKKwlpbnQgcmV0OworCisJRFJNX0RFVl9ERUJVR19EUklWRVIo
ZGV2LCAicG9zdCBkaXNhYmxlXG4iKTsKKworCWlmICghY3R4LT5wZGF0YS5wYW5lbCkKKwkJcmV0
dXJuOworCisJcmV0ID0gZHJtX3BhbmVsX3VucHJlcGFyZShjdHgtPnBkYXRhLnBhbmVsKTsKKwlp
ZiAocmV0KQorCQlEUk1fRVJST1IoImZhaWxlZCB0byB1bnByZXBhcmUgcGFuZWw6ICVkXG4iLCBy
ZXQpOworCWVsc2UKKwkJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiYmFja2xpZ2h0IHVucHJl
cGFyZWQuXG4iKTsKKworCWF0b21pY19zZXQoJmN0eC0+cGFuZWxfcG93ZXIsIDApOworfQorCitz
dGF0aWMgdm9pZCBhbng3NjI1X3ByZV9lbmFibGUoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSkK
K3sKKwlzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHggPSBicmlkZ2VfdG9fYW54NzYyNShicmlkZ2Up
OworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZjdHgtPmNsaWVudC0+ZGV2OworCWludCByZXQ7CisK
KwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJwcmUgZW5hYmxlXG4iKTsKKworCWlmICghY3R4
LT5wZGF0YS5wYW5lbCkKKwkJcmV0dXJuOworCisJcmV0ID0gZHJtX3BhbmVsX3ByZXBhcmUoY3R4
LT5wZGF0YS5wYW5lbCk7CisJaWYgKHJldCA8IDApCisJCURSTV9FUlJPUigiZmFpbGVkIHRvIHBy
ZXBhcmUgcGFuZWw6ICVkXG4iLCByZXQpOworCWVsc2UKKwkJRFJNX0RFVl9ERUJVR19EUklWRVIo
ZGV2LCAiYmFja2xpZ2h0IHByZXBhcmVkLlxuIik7CisJYXRvbWljX3NldCgmY3R4LT5wYW5lbF9w
b3dlciwgMSk7Cit9CisKK3N0YXRpYyBpbnQgYW54NzYyNV9nZXRfbW9kZXMoc3RydWN0IGRybV9j
b25uZWN0b3IgKmNvbm5lY3RvcikKK3sKKwlzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHggPSBjb25u
ZWN0b3JfdG9fYW54NzYyNShjb25uZWN0b3IpOworCWludCBlcnIsIG51bV9tb2RlcyA9IDA7CisJ
aW50IHR1cm5fb2ZmX2ZsYWcgPSAwOworCXN0cnVjdCBzX2VkaWRfZGF0YSAqcF9lZGlkID0gJmN0
eC0+c2xpbXBvcnRfZWRpZF9wOworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZjdHgtPmNsaWVudC0+
ZGV2OworCisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiZHJtIGdldCBtb2Rlc1xuIik7CisK
KwlpZiAoY3R4LT5zbGltcG9ydF9lZGlkX3AuZWRpZF9ibG9ja19udW0gPiAwKQorCQlnb3RvIG91
dDsKKworCW11dGV4X2xvY2soJmN0eC0+bG9jayk7CisKKwlpZiAoY3R4LT5wZGF0YS5wYW5lbCAm
JiBhdG9taWNfcmVhZCgmY3R4LT5wYW5lbF9wb3dlcikgPT0gMCkgeworCQl0dXJuX29mZl9mbGFn
ID0gMTsKKwkJYW54NzYyNV9wcmVfZW5hYmxlKCZjdHgtPmJyaWRnZSk7CisJfQorCisJYW54NzYy
NV9sb3dfcG93ZXJfbW9kZV9jaGVjayhjdHgsIDEpOworCisJcF9lZGlkLT5lZGlkX2Jsb2NrX251
bSA9IHNwX3R4X2VkaWRfcmVhZChjdHgsIHBfZWRpZC0+ZWRpZF9yYXdfZGF0YSk7CisKKwllcnIg
PSAtRUlPOworCWlmIChwX2VkaWQtPmVkaWRfYmxvY2tfbnVtIDwgMCkgeworCQlEUk1fRVJST1Io
IkZhaWxlZCB0byByZWFkIEVESUQuXG4iKTsKKwkJZ290byBmYWlsOworCX0KKworCWVyciA9IGRy
bV9jb25uZWN0b3JfdXBkYXRlX2VkaWRfcHJvcGVydHkoY29ubmVjdG9yLAorCQkJCQkJIChzdHJ1
Y3QgZWRpZCAqKQorCQkJCQkJICZwX2VkaWQtPmVkaWRfcmF3X2RhdGEpOworCisJaWYgKGVycikK
KwkJRFJNX0VSUk9SKCJGYWlsZWQgdG8gdXBkYXRlIEVESUQgcHJvcGVydHk6ICVkXG4iLCBlcnIp
OworCitmYWlsOgorCW11dGV4X3VubG9jaygmY3R4LT5sb2NrKTsKKwlhbng3NjI1X2xvd19wb3dl
cl9tb2RlX2NoZWNrKGN0eCwgMCk7CisJaWYgKGN0eC0+cGRhdGEucGFuZWwgJiYgdHVybl9vZmZf
ZmxhZyA9PSAxKQorCQlhbng3NjI1X3Bvc3RfZGlzYWJsZSgmY3R4LT5icmlkZ2UpOworCisJaWYg
KGVycikKKwkJcmV0dXJuIGVycjsKKworb3V0OgorCW51bV9tb2RlcyA9IGRybV9hZGRfZWRpZF9t
b2Rlcyhjb25uZWN0b3IsCisJCQkJICAgICAgIChzdHJ1Y3QgZWRpZCAqKSZwX2VkaWQtPmVkaWRf
cmF3X2RhdGEpOworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgIm51bV9tb2RlcyglZClcbiIs
IG51bV9tb2Rlcyk7CisKKwlyZXR1cm4gbnVtX21vZGVzOworfQorCitzdGF0aWMgZW51bSBkcm1f
bW9kZV9zdGF0dXMKK2FueDc2MjVfY29ubmVjdG9yX21vZGVfdmFsaWQoc3RydWN0IGRybV9jb25u
ZWN0b3IgKmNvbm5lY3RvciwKKwkJCSAgICAgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGUp
Cit7CisJc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4ID0gY29ubmVjdG9yX3RvX2FueDc2MjUoY29u
bmVjdG9yKTsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKworCURS
TV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImRybSBtb2RlcyB2YWxpZCB2ZXJpZnlcbiIpOworCisJ
aWYgKG1vZGUtPmNsb2NrID4gU1VQUE9SVF9QSVhFTF9DTE9DSykKKwkJcmV0dXJuIE1PREVfQ0xP
Q0tfSElHSDsKKworCXJldHVybiBNT0RFX09LOworfQorCitzdGF0aWMgc3RydWN0IGRybV9jb25u
ZWN0b3JfaGVscGVyX2Z1bmNzIGFueDc2MjVfY29ubmVjdG9yX2hlbHBlcl9mdW5jcyA9IHsKKwku
Z2V0X21vZGVzID0gYW54NzYyNV9nZXRfbW9kZXMsCisJLm1vZGVfdmFsaWQgPSBhbng3NjI1X2Nv
bm5lY3Rvcl9tb2RlX3ZhbGlkLAorfTsKKworc3RhdGljIGVudW0gZHJtX2Nvbm5lY3Rvcl9zdGF0
dXMgYW54NzYyNV9kZXRlY3Qoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciwKKwkJCQkJ
CWJvb2wgZm9yY2UpCit7CisJc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4ID0gY29ubmVjdG9yX3Rv
X2FueDc2MjUoY29ubmVjdG9yKTsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQt
PmRldjsKKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImRybSBkZXRlY3RcbiIpOworCisJ
aWYgKGN0eC0+cGRhdGEuaW50ZXJuYWxfcGFuZWwpCisJCXJldHVybiBjb25uZWN0b3Jfc3RhdHVz
X2Nvbm5lY3RlZDsKKworCWlmICghY3R4LT5ocGRfc3RhdHVzKQorCQlyZXR1cm4gY29ubmVjdG9y
X3N0YXR1c19kaXNjb25uZWN0ZWQ7CisKKwlyZXR1cm4gY29ubmVjdG9yX3N0YXR1c19jb25uZWN0
ZWQ7Cit9CisKK3N0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9mdW5jcyBhbng3NjI1
X2Nvbm5lY3Rvcl9mdW5jcyA9IHsKKwkuZmlsbF9tb2RlcyA9IGRybV9oZWxwZXJfcHJvYmVfc2lu
Z2xlX2Nvbm5lY3Rvcl9tb2RlcywKKwkuZGV0ZWN0ID0gYW54NzYyNV9kZXRlY3QsCisJLmRlc3Ry
b3kgPSBkcm1fY29ubmVjdG9yX2NsZWFudXAsCisJLnJlc2V0ID0gZHJtX2F0b21pY19oZWxwZXJf
Y29ubmVjdG9yX3Jlc2V0LAorCS5hdG9taWNfZHVwbGljYXRlX3N0YXRlID0gZHJtX2F0b21pY19o
ZWxwZXJfY29ubmVjdG9yX2R1cGxpY2F0ZV9zdGF0ZSwKKwkuYXRvbWljX2Rlc3Ryb3lfc3RhdGUg
PSBkcm1fYXRvbWljX2hlbHBlcl9jb25uZWN0b3JfZGVzdHJveV9zdGF0ZSwKK307CisKK3N0YXRp
YyBpbnQgYW54NzYyNV9hdHRhY2hfZHNpKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCkKK3sKKwlz
dHJ1Y3QgbWlwaV9kc2lfaG9zdCAqaG9zdDsKKwlzdHJ1Y3QgbWlwaV9kc2lfZGV2aWNlICpkc2k7
CisJc3RydWN0IGRldmljZV9ub2RlICptaXBpX2hvc3Rfbm9kZTsKKwlzdHJ1Y3QgZGV2aWNlICpk
ZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKwljb25zdCBzdHJ1Y3QgbWlwaV9kc2lfZGV2aWNlX2lu
Zm8gaW5mbyA9IHsKKwkJLnR5cGUgPSAiYW54NzYyNSIsCisJCS5jaGFubmVsID0gMCwKKwkJLm5v
ZGUgPSBOVUxMLAorCX07CisKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJhdHRhY2ggZHNp
XG4iKTsKKworCWlmIChjdHgtPnBkYXRhLmRzaV9zdXBwb3J0ZWQpCisJCW1pcGlfaG9zdF9ub2Rl
ID0gY3R4LT5wZGF0YS5ub2RlLm1pcGlfZHNpX2hvc3Rfbm9kZTsKKwllbHNlCisJCW1pcGlfaG9z
dF9ub2RlID0gY3R4LT5wZGF0YS5ub2RlLm1pcGlfZHBpX2hvc3Rfbm9kZTsKKworCWlmICghbWlw
aV9ob3N0X25vZGUpIHsKKwkJRFJNX0VSUk9SKCJkc2kgaG9zdCBpcyBub3QgY29uZmlndXJlZC5c
biIpOworCQlyZXR1cm4gLUVJTlZBTDsKKwl9CisKKwlob3N0ID0gb2ZfZmluZF9taXBpX2RzaV9o
b3N0X2J5X25vZGUobWlwaV9ob3N0X25vZGUpOworCWlmICghaG9zdCkgeworCQlEUk1fRVJST1Io
ImZhaWxlZCB0byBmaW5kIGRzaSBob3N0LlxuIik7CisJCXJldHVybiAtRUlOVkFMOworCX0KKwor
CWRzaSA9IG1pcGlfZHNpX2RldmljZV9yZWdpc3Rlcl9mdWxsKGhvc3QsICZpbmZvKTsKKwlpZiAo
SVNfRVJSKGRzaSkpIHsKKwkJRFJNX0VSUk9SKCJmYWlsZWQgdG8gY3JlYXRlIGRzaSBkZXZpY2Uu
XG4iKTsKKwkJcmV0dXJuIC1FSU5WQUw7CisJfQorCisJZHNpLT5sYW5lcyA9IDQ7CisJZHNpLT5m
b3JtYXQgPSBNSVBJX0RTSV9GTVRfUkdCODg4OworCWRzaS0+bW9kZV9mbGFncyA9IE1JUElfRFNJ
X01PREVfVklERU8JfAorCQlNSVBJX0RTSV9NT0RFX1ZJREVPX1NZTkNfUFVMU0UJfAorCQlNSVBJ
X0RTSV9NT0RFX0VPVF9QQUNLRVQJfAorCQlNSVBJX0RTSV9NT0RFX1ZJREVPX0hTRTsKKworCWlm
IChtaXBpX2RzaV9hdHRhY2goZHNpKSA8IDApIHsKKwkJRFJNX0VSUk9SKCJmYWlsZWQgdG8gYXR0
YWNoIGRzaSB0byBob3N0LlxuIik7CisJCW1pcGlfZHNpX2RldmljZV91bnJlZ2lzdGVyKGRzaSk7
CisJCXJldHVybiAtRUlOVkFMOworCX0KKworCWN0eC0+ZHNpID0gZHNpOworCisJRFJNX0RFVl9E
RUJVR19EUklWRVIoZGV2LCAiYXR0YWNoIGRzaSBzdWNjZWVkZWQuXG4iKTsKKworCXJldHVybiAw
OworfQorCitzdGF0aWMgdm9pZCBhbng3NjI1X2JyaWRnZV9kZXRhY2goc3RydWN0IGRybV9icmlk
Z2UgKmJyaWRnZSkKK3sKKwlzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHggPSBicmlkZ2VfdG9fYW54
NzYyNShicmlkZ2UpOworCisJaWYgKGN0eC0+ZHNpKSB7CisJCW1pcGlfZHNpX2RldGFjaChjdHgt
PmRzaSk7CisJCW1pcGlfZHNpX2RldmljZV91bnJlZ2lzdGVyKGN0eC0+ZHNpKTsKKwl9CisKKwlp
ZiAoY3R4LT5icmlkZ2VfYXR0YWNoZWQpCisJCWRybV9jb25uZWN0b3JfdW5yZWdpc3RlcigmY3R4
LT5jb25uZWN0b3IpOworfQorCitzdGF0aWMgaW50IGFueDc2MjVfYnJpZGdlX2F0dGFjaChzdHJ1
Y3QgZHJtX2JyaWRnZSAqYnJpZGdlKQoreworCXN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCA9IGJy
aWRnZV90b19hbng3NjI1KGJyaWRnZSk7CisJaW50IGVycjsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYg
PSAmY3R4LT5jbGllbnQtPmRldjsKKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImRybSBh
dHRhY2hcbiIpOworCWlmICghYnJpZGdlLT5lbmNvZGVyKSB7CisJCURSTV9FUlJPUigiUGFyZW50
IGVuY29kZXIgb2JqZWN0IG5vdCBmb3VuZCIpOworCQlyZXR1cm4gLUVOT0RFVjsKKwl9CisKKwll
cnIgPSBkcm1fY29ubmVjdG9yX2luaXQoYnJpZGdlLT5kZXYsICZjdHgtPmNvbm5lY3RvciwKKwkJ
CQkgJmFueDc2MjVfY29ubmVjdG9yX2Z1bmNzLAorCQkJCSAgY3R4LT5wZGF0YS5pbnRlcm5hbF9w
YW5lbCA/CisJCQkJCURSTV9NT0RFX0NPTk5FQ1RPUl9lRFAgOgorCQkJCQlEUk1fTU9ERV9DT05O
RUNUT1JfRGlzcGxheVBvcnQpOworCWlmIChlcnIpIHsKKwkJRFJNX0VSUk9SKCJGYWlsZWQgdG8g
aW5pdGlhbGl6ZSBjb25uZWN0b3I6ICVkXG4iLCBlcnIpOworCQlyZXR1cm4gZXJyOworCX0KKwor
CWRybV9jb25uZWN0b3JfaGVscGVyX2FkZCgmY3R4LT5jb25uZWN0b3IsCisJCQkJICZhbng3NjI1
X2Nvbm5lY3Rvcl9oZWxwZXJfZnVuY3MpOworCisJZXJyID0gZHJtX2Nvbm5lY3Rvcl9yZWdpc3Rl
cigmY3R4LT5jb25uZWN0b3IpOworCWlmIChlcnIpIHsKKwkJRFJNX0VSUk9SKCJGYWlsZWQgdG8g
cmVnaXN0ZXIgY29ubmVjdG9yOiAlZFxuIiwgZXJyKTsKKwkJcmV0dXJuIGVycjsKKwl9CisKKwlj
dHgtPmNvbm5lY3Rvci5wb2xsZWQgPSBEUk1fQ09OTkVDVE9SX1BPTExfSFBEOworCisJZXJyID0g
ZHJtX2Nvbm5lY3Rvcl9hdHRhY2hfZW5jb2RlcigmY3R4LT5jb25uZWN0b3IsIGJyaWRnZS0+ZW5j
b2Rlcik7CisJaWYgKGVycikgeworCQlEUk1fRVJST1IoIkZhaWxlZCB0byBsaW5rIHVwIGNvbm5l
Y3RvciB0byBlbmNvZGVyOiAlZFxuIiwgZXJyKTsKKwkJZHJtX2Nvbm5lY3Rvcl91bnJlZ2lzdGVy
KCZjdHgtPmNvbm5lY3Rvcik7CisJCXJldHVybiBlcnI7CisJfQorCisJZXJyID0gYW54NzYyNV9h
dHRhY2hfZHNpKGN0eCk7CisJaWYgKGVycikgeworCQlEUk1fRVJST1IoIkZhaWxlZCB0byBhdHRh
Y2ggdG8gZHNpIDogJWRcbiIsIGVycik7CisJCWRybV9jb25uZWN0b3JfdW5yZWdpc3RlcigmY3R4
LT5jb25uZWN0b3IpOworCQlyZXR1cm4gZXJyOworCX0KKworCWN0eC0+YnJpZGdlX2F0dGFjaGVk
ID0gMTsKKworCXJldHVybiAwOworfQorCitzdGF0aWMgZW51bSBkcm1fbW9kZV9zdGF0dXMKK2Fu
eDc2MjVfYnJpZGdlX21vZGVfdmFsaWQoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSwKKwkJCSAg
Y29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGUpCit7CisJc3RydWN0IGFueDc2MjVf
ZGF0YSAqY3R4ID0gYnJpZGdlX3RvX2FueDc2MjUoYnJpZGdlKTsKKwlzdHJ1Y3QgZGV2aWNlICpk
ZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImRy
bSBtb2RlIGNoZWNraW5nXG4iKTsKKworCS8qIE1heCAxMjAwcCBhdCA1LjQgR2h6LCBvbmUgbGFu
ZSwgcGl4ZWwgY2xvY2sgMzAwTSAqLworCWlmIChtb2RlLT5jbG9jayA+IFNVUFBPUlRfUElYRUxf
Q0xPQ0spIHsKKwkJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LAorCQkJCSAgICAgImRybSBtb2Rl
IGludmFsaWQsIHBpeGVsY2xvY2sgdG9vIGhpZ2guXG4iKTsKKwkJcmV0dXJuIE1PREVfQ0xPQ0tf
SElHSDsKKwl9CisKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJkcm0gbW9kZSB2YWxpZC5c
biIpOworCisJcmV0dXJuIE1PREVfT0s7Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfYnJpZGdl
X21vZGVfc2V0KHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UsCisJCQkJICAgIGNvbnN0IHN0cnVj
dCBkcm1fZGlzcGxheV9tb2RlICpvbGRfbW9kZSwKKwkJCQkgICAgY29uc3Qgc3RydWN0IGRybV9k
aXNwbGF5X21vZGUgKm1vZGUpCit7CisJc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4ID0gYnJpZGdl
X3RvX2FueDc2MjUoYnJpZGdlKTsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQt
PmRldjsKKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImRybSBtb2RlIHNldFxuIik7CisK
KwltdXRleF9sb2NrKCZjdHgtPmxvY2spOworCisJY3R4LT5kdC5waXhlbGNsb2NrLm1pbiA9IG1v
ZGUtPmNsb2NrOworCWN0eC0+ZHQuaGFjdGl2ZS5taW4gPSBtb2RlLT5oZGlzcGxheTsKKwljdHgt
PmR0LmhzeW5jX2xlbi5taW4gPSBtb2RlLT5oc3luY19lbmQgLSBtb2RlLT5oc3luY19zdGFydDsK
KwljdHgtPmR0Lmhmcm9udF9wb3JjaC5taW4gPSBtb2RlLT5oc3luY19zdGFydCAtIG1vZGUtPmhk
aXNwbGF5OworCWN0eC0+ZHQuaGJhY2tfcG9yY2gubWluID0gbW9kZS0+aHRvdGFsIC0gbW9kZS0+
aHN5bmNfZW5kOworCWN0eC0+ZHQudmFjdGl2ZS5taW4gPSBtb2RlLT52ZGlzcGxheTsKKwljdHgt
PmR0LnZzeW5jX2xlbi5taW4gPSBtb2RlLT52c3luY19lbmQgLSBtb2RlLT52c3luY19zdGFydDsK
KwljdHgtPmR0LnZmcm9udF9wb3JjaC5taW4gPSBtb2RlLT52c3luY19zdGFydCAtIG1vZGUtPnZk
aXNwbGF5OworCWN0eC0+ZHQudmJhY2tfcG9yY2gubWluID0gbW9kZS0+dnRvdGFsIC0gbW9kZS0+
dnN5bmNfZW5kOworCisJY3R4LT5kaXNwbGF5X3RpbWluZ192YWxpZCA9IDE7CisKKwlEUk1fREVW
X0RFQlVHX0RSSVZFUihkZXYsICJwaXhlbGNsb2NrKCVkKS5cbiIsIGN0eC0+ZHQucGl4ZWxjbG9j
ay5taW4pOworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImhhY3RpdmUoJWQpLCBoc3luYygl
ZCksIGhmcCglZCksIGhicCglZClcbiIsCisJCQkgICAgIGN0eC0+ZHQuaGFjdGl2ZS5taW4sCisJ
CQkgICAgIGN0eC0+ZHQuaHN5bmNfbGVuLm1pbiwKKwkJCSAgICAgY3R4LT5kdC5oZnJvbnRfcG9y
Y2gubWluLAorCQkJICAgICBjdHgtPmR0LmhiYWNrX3BvcmNoLm1pbik7CisJRFJNX0RFVl9ERUJV
R19EUklWRVIoZGV2LCAidmFjdGl2ZSglZCksIHZzeW5jKCVkKSwgdmZwKCVkKSwgdmJwKCVkKVxu
IiwKKwkJCSAgICAgY3R4LT5kdC52YWN0aXZlLm1pbiwKKwkJCSAgICAgY3R4LT5kdC52c3luY19s
ZW4ubWluLAorCQkJICAgICBjdHgtPmR0LnZmcm9udF9wb3JjaC5taW4sCisJCQkgICAgIGN0eC0+
ZHQudmJhY2tfcG9yY2gubWluKTsKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJoZGlzcGxh
eSglZCksaHN5bmNfc3RhcnQoJWQpLlxuIiwKKwkJCSAgICAgbW9kZS0+aGRpc3BsYXksCisJCQkg
ICAgIG1vZGUtPmhzeW5jX3N0YXJ0KTsKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJoc3lu
Y19lbmQoJWQpLGh0b3RhbCglZCkuXG4iLAorCQkJICAgICBtb2RlLT5oc3luY19lbmQsCisJCQkg
ICAgIG1vZGUtPmh0b3RhbCk7CisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAidmRpc3BsYXko
JWQpLHZzeW5jX3N0YXJ0KCVkKS5cbiIsCisJCQkgICAgIG1vZGUtPnZkaXNwbGF5LAorCQkJICAg
ICBtb2RlLT52c3luY19zdGFydCk7CisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAidnN5bmNf
ZW5kKCVkKSx2dG90YWwoJWQpLlxuIiwKKwkJCSAgICAgbW9kZS0+dnN5bmNfZW5kLAorCQkJICAg
ICBtb2RlLT52dG90YWwpOworCisJbXV0ZXhfdW5sb2NrKCZjdHgtPmxvY2spOworfQorCitzdGF0
aWMgdm9pZCBhbng3NjI1X2JyaWRnZV9lbmFibGUoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSkK
K3sKKwlzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHggPSBicmlkZ2VfdG9fYW54NzYyNShicmlkZ2Up
OworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZjdHgtPmNsaWVudC0+ZGV2OworCWludCByZXQ7CisK
KwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJkcm0gZW5hYmxlXG4iKTsKKworCWFueDc2MjVf
bG93X3Bvd2VyX21vZGVfY2hlY2soY3R4LCAxKTsKKworCWlmIChXQVJOX09OKCFhdG9taWNfcmVh
ZCgmY3R4LT5wb3dlcl9zdGF0dXMpKSkKKwkJcmV0dXJuOworCisJaWYgKGN0eC0+cGRhdGEucGFu
ZWwpIHsKKwkJcmV0ID0gZHJtX3BhbmVsX2VuYWJsZShjdHgtPnBkYXRhLnBhbmVsKTsKKwkJaWYg
KHJldCA8IDApIHsKKwkJCURSTV9FUlJPUigiZmFpbGVkIHRvIGVuYWJsZSBwYW5lbDogJWQuXG4i
LCByZXQpOworCQkJcmV0dXJuOworCQl9CisJfQorCisJbXV0ZXhfbG9jaygmY3R4LT5sb2NrKTsK
Kwlhbng3NjI1X2RwX3N0YXJ0KGN0eCk7CisJbXV0ZXhfdW5sb2NrKCZjdHgtPmxvY2spOworfQor
CitzdGF0aWMgdm9pZCBhbng3NjI1X2JyaWRnZV9kaXNhYmxlKHN0cnVjdCBkcm1fYnJpZGdlICpi
cmlkZ2UpCit7CisJc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4ID0gYnJpZGdlX3RvX2FueDc2MjUo
YnJpZGdlKTsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKwlpbnQg
cmV0OworCisJaWYgKFdBUk5fT04oIWF0b21pY19yZWFkKCZjdHgtPnBvd2VyX3N0YXR1cykpKQor
CQlyZXR1cm47CisKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJkcm0gZGlzYWJsZVxuIik7
CisKKwlpZiAoY3R4LT5wZGF0YS5wYW5lbCkgeworCQlyZXQgPSBkcm1fcGFuZWxfZGlzYWJsZShj
dHgtPnBkYXRhLnBhbmVsKTsKKwkJaWYgKHJldCA8IDApCisJCQlEUk1fRVJST1IoImZhaWxlZCB0
byBkaXNhYmxlIHBhbmVsOiAlZC5cbiIsIHJldCk7CisJfQorCisJRFJNX0RFVl9ERUJVR19EUklW
RVIoZGV2LCAiZHJtIGRpc2FibGVcbiIpOworCW11dGV4X2xvY2soJmN0eC0+bG9jayk7CisKKwlh
bng3NjI1X2RwX3N0b3AoY3R4KTsKKworCWFueDc2MjVfbG93X3Bvd2VyX21vZGVfY2hlY2soY3R4
LCAwKTsKKworCW11dGV4X3VubG9jaygmY3R4LT5sb2NrKTsKK30KKworc3RhdGljIGNvbnN0IHN0
cnVjdCBkcm1fYnJpZGdlX2Z1bmNzIGFueDc2MjVfYnJpZGdlX2Z1bmNzID0geworCS5hdHRhY2gg
PSBhbng3NjI1X2JyaWRnZV9hdHRhY2gsCisJLmRldGFjaCA9IGFueDc2MjVfYnJpZGdlX2RldGFj
aCwKKwkuZGlzYWJsZSA9IGFueDc2MjVfYnJpZGdlX2Rpc2FibGUsCisJLnBvc3RfZGlzYWJsZSA9
IGFueDc2MjVfcG9zdF9kaXNhYmxlLAorCS5wcmVfZW5hYmxlID0gYW54NzYyNV9wcmVfZW5hYmxl
LAorCS5tb2RlX3ZhbGlkID0gYW54NzYyNV9icmlkZ2VfbW9kZV92YWxpZCwKKwkubW9kZV9zZXQg
PSBhbng3NjI1X2JyaWRnZV9tb2RlX3NldCwKKwkuZW5hYmxlID0gYW54NzYyNV9icmlkZ2VfZW5h
YmxlLAorfTsKKworc3RhdGljIGludCBhbng3NjI1X3JlZ2lzdGVyX2kyY19kdW1teV9jbGllbnRz
KHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCwKKwkJCQkJICAgICAgc3RydWN0IGkyY19jbGllbnQg
KmNsaWVudCkKK3sKKwljdHgtPmkyYy50eF9wMF9jbGllbnQgPSBpMmNfbmV3X2R1bW15KGNsaWVu
dC0+YWRhcHRlciwKKwkJCQkJICAgICAgVFhfUDBfQUREUiA+PiAxKTsKKwlpZiAoIWN0eC0+aTJj
LnR4X3AwX2NsaWVudCkKKwkJcmV0dXJuIC1FTk9NRU07CisKKwljdHgtPmkyYy50eF9wMV9jbGll
bnQgPSBpMmNfbmV3X2R1bW15KGNsaWVudC0+YWRhcHRlciwKKwkJCQkJICAgICAgVFhfUDFfQURE
UiA+PiAxKTsKKwlpZiAoIWN0eC0+aTJjLnR4X3AxX2NsaWVudCkKKwkJZ290byBmcmVlX3R4X3Aw
OworCisJY3R4LT5pMmMudHhfcDJfY2xpZW50ID0gaTJjX25ld19kdW1teShjbGllbnQtPmFkYXB0
ZXIsCisJCQkJCSAgICAgIFRYX1AyX0FERFIgPj4gMSk7CisJaWYgKCFjdHgtPmkyYy50eF9wMl9j
bGllbnQpCisJCWdvdG8gZnJlZV90eF9wMTsKKworCWN0eC0+aTJjLnJ4X3AwX2NsaWVudCA9IGky
Y19uZXdfZHVtbXkoY2xpZW50LT5hZGFwdGVyLAorCQkJCQkgICAgICBSWF9QMF9BRERSID4+IDEp
OworCWlmICghY3R4LT5pMmMucnhfcDBfY2xpZW50KQorCQlnb3RvIGZyZWVfdHhfcDI7CisKKwlj
dHgtPmkyYy5yeF9wMV9jbGllbnQgPSBpMmNfbmV3X2R1bW15KGNsaWVudC0+YWRhcHRlciwKKwkJ
CQkJICAgICAgUlhfUDFfQUREUiA+PiAxKTsKKwlpZiAoIWN0eC0+aTJjLnJ4X3AxX2NsaWVudCkK
KwkJZ290byBmcmVlX3J4X3AwOworCisJY3R4LT5pMmMucnhfcDJfY2xpZW50ID0gaTJjX25ld19k
dW1teShjbGllbnQtPmFkYXB0ZXIsCisJCQkJCSAgICAgIFJYX1AyX0FERFIgPj4gMSk7CisJaWYg
KCFjdHgtPmkyYy5yeF9wMl9jbGllbnQpCisJCWdvdG8gZnJlZV9yeF9wMTsKKworCWN0eC0+aTJj
LnRjcGNfY2xpZW50ID0gaTJjX25ld19kdW1teShjbGllbnQtPmFkYXB0ZXIsCisJCQkJCSAgICAg
VENQQ19JTlRFUkZBQ0VfQUREUiA+PiAxKTsKKwlpZiAoIWN0eC0+aTJjLnRjcGNfY2xpZW50KQor
CQlnb3RvIGZyZWVfcnhfcDI7CisKKwlyZXR1cm4gMDsKKworZnJlZV9yeF9wMjoKKwlpMmNfdW5y
ZWdpc3Rlcl9kZXZpY2UoY3R4LT5pMmMucnhfcDJfY2xpZW50KTsKK2ZyZWVfcnhfcDE6CisJaTJj
X3VucmVnaXN0ZXJfZGV2aWNlKGN0eC0+aTJjLnJ4X3AxX2NsaWVudCk7CitmcmVlX3J4X3AwOgor
CWkyY191bnJlZ2lzdGVyX2RldmljZShjdHgtPmkyYy5yeF9wMF9jbGllbnQpOworZnJlZV90eF9w
MjoKKwlpMmNfdW5yZWdpc3Rlcl9kZXZpY2UoY3R4LT5pMmMudHhfcDJfY2xpZW50KTsKK2ZyZWVf
dHhfcDE6CisJaTJjX3VucmVnaXN0ZXJfZGV2aWNlKGN0eC0+aTJjLnR4X3AxX2NsaWVudCk7Citm
cmVlX3R4X3AwOgorCWkyY191bnJlZ2lzdGVyX2RldmljZShjdHgtPmkyYy50eF9wMF9jbGllbnQp
OworCisJcmV0dXJuIC1FTk9NRU07Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfdW5yZWdpc3Rl
cl9pMmNfZHVtbXlfY2xpZW50cyhzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJaTJjX3Vu
cmVnaXN0ZXJfZGV2aWNlKGN0eC0+aTJjLnR4X3AwX2NsaWVudCk7CisJaTJjX3VucmVnaXN0ZXJf
ZGV2aWNlKGN0eC0+aTJjLnR4X3AxX2NsaWVudCk7CisJaTJjX3VucmVnaXN0ZXJfZGV2aWNlKGN0
eC0+aTJjLnR4X3AyX2NsaWVudCk7CisJaTJjX3VucmVnaXN0ZXJfZGV2aWNlKGN0eC0+aTJjLnJ4
X3AwX2NsaWVudCk7CisJaTJjX3VucmVnaXN0ZXJfZGV2aWNlKGN0eC0+aTJjLnJ4X3AxX2NsaWVu
dCk7CisJaTJjX3VucmVnaXN0ZXJfZGV2aWNlKGN0eC0+aTJjLnJ4X3AyX2NsaWVudCk7CisJaTJj
X3VucmVnaXN0ZXJfZGV2aWNlKGN0eC0+aTJjLnRjcGNfY2xpZW50KTsKK30KKworc3RhdGljIGlu
dCBhbng3NjI1X2kyY19wcm9iZShzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50LAorCQkJICAgICBj
b25zdCBzdHJ1Y3QgaTJjX2RldmljZV9pZCAqaWQpCit7CisJc3RydWN0IGFueDc2MjVfZGF0YSAq
cGxhdGZvcm07CisJc3RydWN0IGFueDc2MjVfcGxhdGZvcm1fZGF0YSAqcGRhdGE7CisJaW50IHJl
dCA9IDA7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmNsaWVudC0+ZGV2OworCisJaWYgKCFpMmNf
Y2hlY2tfZnVuY3Rpb25hbGl0eShjbGllbnQtPmFkYXB0ZXIsCisJCQkJICAgICBJMkNfRlVOQ19T
TUJVU19JMkNfQkxPQ0spKSB7CisJCURSTV9ERVZfRVJST1IoZGV2LCAiYW54NzYyNSdzIGkyYyBi
dXMgZG9lc24ndCBzdXBwb3J0XG4iKTsKKwkJcmV0dXJuIC1FTk9ERVY7CisJfQorCisJcGxhdGZv
cm0gPSBremFsbG9jKHNpemVvZigqcGxhdGZvcm0pLCBHRlBfS0VSTkVMKTsKKwlpZiAoIXBsYXRm
b3JtKSB7CisJCURSTV9ERVZfRVJST1IoZGV2LCAiZmFpbGVkIHRvIGFsbG9jYXRlIGRyaXZlciBk
YXRhXG4iKTsKKwkJcmV0dXJuIC1FTk9NRU07CisJfQorCisJcGRhdGEgPSAmcGxhdGZvcm0tPnBk
YXRhOworCisJcmV0ID0gYW54NzYyNV9wYXJzZV9kdChkZXYsIHBkYXRhKTsKKwlpZiAocmV0KSB7
CisJCURSTV9ERVZfRVJST1IoZGV2LCAiZmFpbGVkIHRvIHBhcnNlIGRldmljZXRyZWUuXG4iKTsK
KwkJZ290byBmcmVlX3BsYXRmb3JtOworCX0KKworCXBsYXRmb3JtLT5jbGllbnQgPSBjbGllbnQ7
CisJaTJjX3NldF9jbGllbnRkYXRhKGNsaWVudCwgcGxhdGZvcm0pOworCisJYW54NzYyNV9pbml0
X2dwaW8ocGxhdGZvcm0pOworCisJaWYgKHBsYXRmb3JtLT5wZGF0YS5leHRjb25fc3VwcG9ydGVk
KSB7CisJCS8qIGdldCBleHRjb24gZGV2aWNlIGZyb20gRFRTICovCisJCXJldCA9IC1FSU5WQUw7
CisJCXBsYXRmb3JtLT5leHRjb24gPSBleHRjb25fZ2V0X2VkZXZfYnlfcGhhbmRsZShkZXYsIDAp
OworCQlpZiAoUFRSX0VSUihwbGF0Zm9ybS0+ZXh0Y29uKSA9PSAtRVBST0JFX0RFRkVSKQorCQkJ
Z290byBmcmVlX3BsYXRmb3JtOworCisJCWlmIChJU19FUlIocGxhdGZvcm0tPmV4dGNvbikpIHsK
KwkJCURSTV9ERVZfRVJST1IoZGV2LAorCQkJCSAgICAgICJjYW4gbm90IGdldCBleHRjb24gZGV2
aWNlISIpOworCQkJZ290byBmcmVlX3BsYXRmb3JtOworCQl9CisKKwkJcmV0ID0gYW54NzYyNV9l
eHRjb25fbm90aWZpZXJfaW5pdChwbGF0Zm9ybSk7CisJCWlmIChyZXQpCisJCQlnb3RvIGZyZWVf
cGxhdGZvcm07CisJfQorCisJYXRvbWljX3NldCgmcGxhdGZvcm0tPnBvd2VyX3N0YXR1cywgMCk7
CisKKwltdXRleF9pbml0KCZwbGF0Zm9ybS0+bG9jayk7CisKKwlwbGF0Zm9ybS0+cGRhdGEuaW50
cF9pcnEgPSBjbGllbnQtPmlycTsKKwlpZiAocGxhdGZvcm0tPnBkYXRhLmludHBfaXJxKSB7CisJ
CUlOSVRfV09SSygmcGxhdGZvcm0tPndvcmssIGFueDc2MjVfd29ya19mdW5jKTsKKwkJcGxhdGZv
cm0tPndvcmtxdWV1ZSA9IGNyZWF0ZV93b3JrcXVldWUoImFueDc2MjVfd29yayIpOworCQlpZiAo
IXBsYXRmb3JtLT53b3JrcXVldWUpIHsKKwkJCURSTV9ERVZfRVJST1IoZGV2LCAiZmFpbGVkIHRv
IGNyZWF0ZSB3b3JrIHF1ZXVlXG4iKTsKKwkJCXJldCA9IC1FTk9NRU07CisJCQlnb3RvIGZyZWVf
cGxhdGZvcm07CisJCX0KKworCQlyZXQgPSBkZXZtX3JlcXVlc3RfdGhyZWFkZWRfaXJxKGRldiwg
cGxhdGZvcm0tPnBkYXRhLmludHBfaXJxLAorCQkJCQkJTlVMTCwgYW54NzYyNV9pbnRyX2hwZF9p
c3IsCisJCQkJCQlJUlFGX1RSSUdHRVJfRkFMTElORyB8CisJCQkJCQlJUlFGX09ORVNIT1QsCisJ
CQkJCQkiYW54NzYyNS1pbnRwIiwgcGxhdGZvcm0pOworCQlpZiAocmV0KSB7CisJCQlEUk1fREVW
X0VSUk9SKGRldiwgImZhaWxlZCB0byByZXF1ZXN0IGlycVxuIik7CisJCQlnb3RvIGZyZWVfd3E7
CisJCX0KKwl9CisKKwlpZiAoYW54NzYyNV9yZWdpc3Rlcl9pMmNfZHVtbXlfY2xpZW50cyhwbGF0
Zm9ybSwgY2xpZW50KSAhPSAwKSB7CisJCXJldCA9IC1FTk9NRU07CisJCURSTV9FUlJPUigiRmFp
bGVkIHRvIHJlc2VydmUgSTJDIGJ1cy5cbiIpOworCQlnb3RvIGZyZWVfd3E7CisJfQorCisJaWYg
KHBsYXRmb3JtLT5wZGF0YS5sb3dfcG93ZXJfbW9kZSA9PSAwKSB7CisJCWFueDc2MjVfZGlzYWJs
ZV9wZF9wcm90b2NvbChwbGF0Zm9ybSk7CisJCWF0b21pY19zZXQoJnBsYXRmb3JtLT5wb3dlcl9z
dGF0dXMsIDEpOworCX0KKworCS8qIGFkZCB3b3JrIGZ1bmN0aW9uICovCisJaWYgKHBsYXRmb3Jt
LT5wZGF0YS5pbnRwX2lycSkKKwkJcXVldWVfd29yayhwbGF0Zm9ybS0+d29ya3F1ZXVlLCAmcGxh
dGZvcm0tPndvcmspOworCisJcGxhdGZvcm0tPmJyaWRnZS5mdW5jcyA9ICZhbng3NjI1X2JyaWRn
ZV9mdW5jczsKKwlpZiAoSVNfRU5BQkxFRChDT05GSUdfT0YpKQorCQlwbGF0Zm9ybS0+YnJpZGdl
Lm9mX25vZGUgPSBjbGllbnQtPmRldi5vZl9ub2RlOworCWRybV9icmlkZ2VfYWRkKCZwbGF0Zm9y
bS0+YnJpZGdlKTsKKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgInByb2JlIGRvbmVcbiIp
OworCisJcmV0dXJuIDA7CisKK2ZyZWVfd3E6CisJaWYgKHBsYXRmb3JtLT53b3JrcXVldWUpCisJ
CWRlc3Ryb3lfd29ya3F1ZXVlKHBsYXRmb3JtLT53b3JrcXVldWUpOworCitmcmVlX3BsYXRmb3Jt
OgorCWtmcmVlKHBsYXRmb3JtKTsKKworCXJldHVybiByZXQ7Cit9CisKK3N0YXRpYyBpbnQgYW54
NzYyNV9pMmNfcmVtb3ZlKHN0cnVjdCBpMmNfY2xpZW50ICpjbGllbnQpCit7CisJc3RydWN0IGFu
eDc2MjVfZGF0YSAqcGxhdGZvcm0gPSBpMmNfZ2V0X2NsaWVudGRhdGEoY2xpZW50KTsKKworCWRy
bV9icmlkZ2VfcmVtb3ZlKCZwbGF0Zm9ybS0+YnJpZGdlKTsKKworCWlmIChwbGF0Zm9ybS0+cGRh
dGEuaW50cF9pcnEpCisJCWRlc3Ryb3lfd29ya3F1ZXVlKHBsYXRmb3JtLT53b3JrcXVldWUpOwor
CisJaWYgKHBsYXRmb3JtLT5wZGF0YS5leHRjb25fc3VwcG9ydGVkKSB7CisJCWRldm1fZXh0Y29u
X3VucmVnaXN0ZXJfbm90aWZpZXIoJnBsYXRmb3JtLT5jbGllbnQtPmRldiwKKwkJCQkJCXBsYXRm
b3JtLT5leHRjb24sCisJCQkJCQlFWFRDT05fRElTUF9EUCwKKwkJCQkJCSZwbGF0Zm9ybS0+ZXZl
bnRfbmIpOworCQlmbHVzaF93b3JrKCZwbGF0Zm9ybS0+ZXh0Y29uX3dxKTsKKwl9CisKKwlhbng3
NjI1X3VucmVnaXN0ZXJfaTJjX2R1bW15X2NsaWVudHMocGxhdGZvcm0pOworCisJa2ZyZWUocGxh
dGZvcm0pOworCXJldHVybiAwOworfQorCitzdGF0aWMgY29uc3Qgc3RydWN0IGkyY19kZXZpY2Vf
aWQgYW54NzYyNV9pZFtdID0geworCXsiYW54NzYyNSIsIDB9LAorCXt9Cit9OworCitNT0RVTEVf
REVWSUNFX1RBQkxFKGkyYywgYW54NzYyNV9pZCk7CisKKyNpZmRlZiBDT05GSUdfT0YKK3N0YXRp
YyBjb25zdCBzdHJ1Y3Qgb2ZfZGV2aWNlX2lkIGFueF9tYXRjaF90YWJsZVtdID0geworCXsuY29t
cGF0aWJsZSA9ICJhbmFsb2dpeCxhbng3NjI1Iix9LAorCXt9LAorfTsKKyNlbmRpZgorCitzdGF0
aWMgc3RydWN0IGkyY19kcml2ZXIgYW54NzYyNV9kcml2ZXIgPSB7CisJLmRyaXZlciA9IHsKKwkJ
Lm5hbWUgPSAiYW54NzYyNSIsCisjaWZkZWYgQ09ORklHX09GCisJCS5vZl9tYXRjaF90YWJsZSA9
IGFueF9tYXRjaF90YWJsZSwKKyNlbmRpZgorCX0sCisJLnByb2JlID0gYW54NzYyNV9pMmNfcHJv
YmUsCisJLnJlbW92ZSA9IGFueDc2MjVfaTJjX3JlbW92ZSwKKworCS5pZF90YWJsZSA9IGFueDc2
MjVfaWQsCit9OworCittb2R1bGVfaTJjX2RyaXZlcihhbng3NjI1X2RyaXZlcik7CisKK01PRFVM
RV9ERVNDUklQVElPTigiTUlQSTJEUCBhbng3NjI1IGRyaXZlciIpOworTU9EVUxFX0FVVEhPUigi
WGluIEppIDx4amlAYW5hbG9naXhzZW1pLmNvbT4iKTsKK01PRFVMRV9MSUNFTlNFKCJHUEwgdjIi
KTsKK01PRFVMRV9WRVJTSU9OKEFOWDc2MjVfRFJWX1ZFUlNJT04pOwpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9hbng3NjI1LmggYi9kcml2ZXJzL2dwdS9kcm0v
YnJpZGdlL2FuYWxvZ2l4L2FueDc2MjUuaApuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAw
MDAwLi5jODcxYTZjCi0tLSAvZGV2L251bGwKKysrIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9h
bmFsb2dpeC9hbng3NjI1LmgKQEAgLTAsMCArMSw0MDYgQEAKKy8qIFNQRFgtTGljZW5zZS1JZGVu
dGlmaWVyOiBHUEwtMi4wLW9ubHkgKi8KKy8qCisgKiBDb3B5cmlnaHQoYykgMjAxNiwgQW5hbG9n
aXggU2VtaWNvbmR1Y3Rvci4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KKyAqCisgKi8KKworI2lmbmRl
ZiBfX0FOWDc2MjVfSF9fCisjZGVmaW5lIF9fQU5YNzYyNV9IX18KKworI2lmbmRlZiBMT0dfVEFH
CisjZGVmaW5lIExPR19UQUcgImFueDc2MjVkcCIKKyNlbmRpZgorCisjZGVmaW5lIEFOWDc2MjVf
RFJWX1ZFUlNJT04gIjAuMS4wNCIKKworLyogTG9hZGluZyBPQ00gcmUtdHJ5aW5nIHRpbWVzICov
CisjZGVmaW5lIE9DTV9MT0FESU5HX1RJTUUgMTAKKworLyoqKioqKioqKiAgQU5YNzYyNSBSZWdp
c3RlciAgKioqKioqKioqKi8KKyNkZWZpbmUgVFhfUDBfQUREUgkJCQkweDcwCisjZGVmaW5lIFRY
X1AxX0FERFIJCQkJMHg3QQorI2RlZmluZSBUWF9QMl9BRERSCQkJCTB4NzIKKworI2RlZmluZSBS
WF9QMF9BRERSCQkJCTB4N2UKKyNkZWZpbmUgUlhfUDFfQUREUgkJCQkweDg0CisjZGVmaW5lIFJY
X1AyX0FERFIJCQkJMHg1NAorCisjZGVmaW5lIFJTVkRfMDBfQUREUgkJCQkweDAwCisjZGVmaW5l
IFJTVkRfRDFfQUREUgkJCQkweEQxCisjZGVmaW5lIFJTVkRfNjBfQUREUgkJCQkweDYwCisjZGVm
aW5lIFJTVkRfMzlfQUREUgkJCQkweDM5CisjZGVmaW5lIFJTVkRfN0ZfQUREUgkJCQkweDdGCisK
KyNkZWZpbmUgVENQQ19JTlRFUkZBQ0VfQUREUgkJCTB4NTgKKworLyogYW54NzYyNSBjbG9jayBm
cmVxdWVuY3kgaW4gSHogKi8KKyNkZWZpbmUgWFRBTF9GUlEgICAgICAgICgyNyAqIDEwMDAwMDAp
CisKKyNkZWZpbmUgIFBPU1RfRElWSURFUl9NSU4JMQorI2RlZmluZSAgUE9TVF9ESVZJREVSX01B
WAkxNgorI2RlZmluZSAgUExMX09VVF9GUkVRX01JTgk1MjAwMDAwMDBVTAorI2RlZmluZSAgUExM
X09VVF9GUkVRX01BWAk3MzAwMDAwMDBVTAorI2RlZmluZSAgUExMX09VVF9GUkVRX0FCU19NSU4J
MzAwMDAwMDAwVUwKKyNkZWZpbmUgIFBMTF9PVVRfRlJFUV9BQlNfTUFYCTgwMDAwMDAwMFVMCisj
ZGVmaW5lICBNQVhfVU5TSUdORURfMjRCSVQJMTY3NzcyMTVVTAorCisvKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLworLyogUmVn
aXN0ZXIgZGVmaW5pdGlvbiBvZiBkZXZpY2UgYWRkcmVzcyAweDU4ICovCisKKyNkZWZpbmUgUFJP
RFVDVF9JRF9MIDB4MDIKKyNkZWZpbmUgUFJPRFVDVF9JRF9IIDB4MDMKKworI2RlZmluZSBJTlRS
X0FMRVJUXzEgIDB4Q0MKKyNkZWZpbmUgSU5UUl9TT0ZUV0FSRV9JTlQgQklUKDMpCisjZGVmaW5l
IElOVFJfUkVDRUlWRURfTVNHIEJJVCg1KQorCisjZGVmaW5lIFNZU1RFTV9TVFNUVVMgMHg0NQor
I2RlZmluZSBJTlRFUkZBQ0VfQ0hBTkdFX0lOVCAweDQ0CisjZGVmaW5lIEhQRF9TVEFUVVNfQ0hB
TkdFIDB4ODAKKyNkZWZpbmUgSFBEX1NUQVRVUyAweDgwCisKKy8qKioqKioqKiBFTkQgb2YgSTJD
IEFkZHJlc3MgMHg1OCAqKioqKioqKi8KKworLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KKy8qIFJlZ2lzdGVyIGRlZmluaXRp
b24gb2YgZGV2aWNlIGFkZHJlc3MgMHg3MCAqLworI2RlZmluZSAgSTJDX0FERFJfNzBfRFBUWCAg
ICAgICAgICAgICAgMHg3MAorCisjZGVmaW5lIFNQX1RYX0xJTktfQldfU0VUX1JFRyAweEEwCisj
ZGVmaW5lIFNQX1RYX0xBTkVfQ09VTlRfU0VUX1JFRyAweEExCisKKyNkZWZpbmUgTV9WSURfMCAw
eEMwCisjZGVmaW5lIE1fVklEXzEgMHhDMQorI2RlZmluZSBNX1ZJRF8yIDB4QzIKKyNkZWZpbmUg
Tl9WSURfMCAweEMzCisjZGVmaW5lIE5fVklEXzEgMHhDNAorI2RlZmluZSBOX1ZJRF8yIDB4QzUK
KworLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKi8KKy8qIFJlZ2lzdGVyIGRlZmluaXRpb24gb2YgZGV2aWNlIGFkZHJlc3MgMHg3
MiAqLworI2RlZmluZSBBVVhfUlNUCTB4MDQKKyNkZWZpbmUgUlNUX0NUUkwyIDB4MDcKKworI2Rl
ZmluZSBTUF9UWF9UT1RBTF9MSU5FX1NUQV9MIDB4MjQKKyNkZWZpbmUgU1BfVFhfVE9UQUxfTElO
RV9TVEFfSCAweDI1CisjZGVmaW5lIFNQX1RYX0FDVF9MSU5FX1NUQV9MIDB4MjYKKyNkZWZpbmUg
U1BfVFhfQUNUX0xJTkVfU1RBX0ggMHgyNworI2RlZmluZSBTUF9UWF9WX0ZfUE9SQ0hfU1RBIDB4
MjgKKyNkZWZpbmUgU1BfVFhfVl9TWU5DX1NUQSAweDI5CisjZGVmaW5lIFNQX1RYX1ZfQl9QT1JD
SF9TVEEgMHgyQQorI2RlZmluZSBTUF9UWF9UT1RBTF9QSVhFTF9TVEFfTCAweDJCCisjZGVmaW5l
IFNQX1RYX1RPVEFMX1BJWEVMX1NUQV9IIDB4MkMKKyNkZWZpbmUgU1BfVFhfQUNUX1BJWEVMX1NU
QV9MIDB4MkQKKyNkZWZpbmUgU1BfVFhfQUNUX1BJWEVMX1NUQV9IIDB4MkUKKyNkZWZpbmUgU1Bf
VFhfSF9GX1BPUkNIX1NUQV9MIDB4MkYKKyNkZWZpbmUgU1BfVFhfSF9GX1BPUkNIX1NUQV9IIDB4
MzAKKyNkZWZpbmUgU1BfVFhfSF9TWU5DX1NUQV9MIDB4MzEKKyNkZWZpbmUgU1BfVFhfSF9TWU5D
X1NUQV9IIDB4MzIKKyNkZWZpbmUgU1BfVFhfSF9CX1BPUkNIX1NUQV9MIDB4MzMKKyNkZWZpbmUg
U1BfVFhfSF9CX1BPUkNIX1NUQV9IIDB4MzQKKworI2RlZmluZSBTUF9UWF9WSURfQ1RSTCAweDg0
CisjZGVmaW5lIFNQX1RYX0JQQ19NQVNLIDB4RTAKKyNkZWZpbmUgU1BfVFhfQlBDXzYgICAgMHgw
MAorI2RlZmluZSBTUF9UWF9CUENfOCAgICAweDIwCisjZGVmaW5lIFNQX1RYX0JQQ18xMCAgIDB4
NDAKKyNkZWZpbmUgU1BfVFhfQlBDXzEyICAgMHg2MAorCisjZGVmaW5lIFZJREVPX0JJVF9NQVRS
SVhfMTIgMHg0YworCisjZGVmaW5lIEFVRElPX0NIQU5ORUxfU1RBVFVTXzEgMHhkMAorI2RlZmlu
ZSBBVURJT19DSEFOTkVMX1NUQVRVU18yIDB4ZDEKKyNkZWZpbmUgQVVESU9fQ0hBTk5FTF9TVEFU
VVNfMyAweGQyCisjZGVmaW5lIEFVRElPX0NIQU5ORUxfU1RBVFVTXzQgMHhkMworI2RlZmluZSBB
VURJT19DSEFOTkVMX1NUQVRVU181IDB4ZDQKKyNkZWZpbmUgQVVESU9fQ0hBTk5FTF9TVEFUVVNf
NiAweGQ1CisjZGVmaW5lIFRETV9TTEFWRV9NT0RFIDB4MTAKKyNkZWZpbmUgSTJTX1NMQVZFX01P
REUgMHgwOAorCisjZGVmaW5lIEFVRElPX0NPTlRST0xfUkVHSVNURVIgMHhlNgorI2RlZmluZSBU
RE1fVElNSU5HX01PREUgMHgwOAorCisjZGVmaW5lICBJMkNfQUREUl83Ml9EUFRYICAgICAgICAg
ICAgICAweDcyCisKKyNkZWZpbmUgIFZJREVPX0NPTlRST0xfMCAgMHgwOAorCisjZGVmaW5lICBB
Q1RJVkVfTElORVNfTCAgICAgICAgIDB4MTQKKyNkZWZpbmUgIEFDVElWRV9MSU5FU19IICAgICAg
ICAgMHgxNSAgLyogbm90ZTogYml0Wzc6Nl0gYXJlIHJlc2VydmVkICovCisjZGVmaW5lICBWRVJU
SUNBTF9GUk9OVF9QT1JDSCAgIDB4MTYKKyNkZWZpbmUgIFZFUlRJQ0FMX1NZTkNfV0lEVEggICAg
MHgxNworI2RlZmluZSAgVkVSVElDQUxfQkFDS19QT1JDSCAgICAweDE4CisKKyNkZWZpbmUgIEhP
UklaT05UQUxfVE9UQUxfUElYRUxTX0wgICAgMHgxOQorI2RlZmluZSAgSE9SSVpPTlRBTF9UT1RB
TF9QSVhFTFNfSCAgICAweDFBICAvKiBub3RlOiBiaXRbNzo2XSBhcmUgcmVzZXJ2ZWQgKi8KKyNk
ZWZpbmUgIEhPUklaT05UQUxfQUNUSVZFX1BJWEVMU19MICAgMHgxQgorI2RlZmluZSAgSE9SSVpP
TlRBTF9BQ1RJVkVfUElYRUxTX0ggICAweDFDICAvKiBub3RlOiBiaXRbNzo2XSBhcmUgcmVzZXJ2
ZWQgKi8KKyNkZWZpbmUgIEhPUklaT05UQUxfRlJPTlRfUE9SQ0hfTCAgICAgMHgxRAorI2RlZmlu
ZSAgSE9SSVpPTlRBTF9GUk9OVF9QT1JDSF9IICAgICAweDFFICAvKiBub3RlOiBiaXRbNzo0XSBh
cmUgcmVzZXJ2ZWQgKi8KKyNkZWZpbmUgIEhPUklaT05UQUxfU1lOQ19XSURUSF9MICAgICAgMHgx
RgorI2RlZmluZSAgSE9SSVpPTlRBTF9TWU5DX1dJRFRIX0ggICAgICAweDIwICAvKiBub3RlOiBi
aXRbNzo0XSBhcmUgcmVzZXJ2ZWQgKi8KKyNkZWZpbmUgIEhPUklaT05UQUxfQkFDS19QT1JDSF9M
ICAgICAgMHgyMQorI2RlZmluZSAgSE9SSVpPTlRBTF9CQUNLX1BPUkNIX0ggICAgICAweDIyICAv
KiBub3RlOiBiaXRbNzo0XSBhcmUgcmVzZXJ2ZWQgKi8KKworLyoqKioqKioqIEVORCBvZiBJMkMg
QWRkcmVzcyAweDcyICoqKioqKioqKi8KKy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCisvKiBSZWdpc3RlciBkZWZpbml0aW9u
IG9mIGRldmljZSBhZGRyZXNzIDB4N2UgKi8KKworI2RlZmluZSAgSTJDX0FERFJfN0VfRkxBU0hf
Q09OVFJPTExFUiAgMHg3RQorCisjZGVmaW5lIEZMQVNIX0xPQURfU1RBIDB4MDUKKyNkZWZpbmUg
RkxBU0hfTE9BRF9TVEFfQ0hLCUJJVCg3KQorCisjZGVmaW5lICBYVEFMX0ZSUV9TRUwgICAgMHgz
RgorLyogYml0IGZpZWxkIHBvc2l0aW9ucyAqLworI2RlZmluZSAgWFRBTF9GUlFfU0VMX1BPUyAg
ICA1CisvKiBiaXQgZmllbGQgdmFsdWVzICovCisjZGVmaW5lICBYVEFMX0ZSUV8xOU0yICAgKDAg
PDwgWFRBTF9GUlFfU0VMX1BPUykKKyNkZWZpbmUgIFhUQUxfRlJRXzI3TSAgICAoNCA8PCBYVEFM
X0ZSUV9TRUxfUE9TKQorCisjZGVmaW5lICBSX0RTQ19DVFJMXzAgICAgMHg0MAorI2RlZmluZSAg
UkVBRF9TVEFUVVNfRU4gIDcKKyNkZWZpbmUgIENMS18xTUVHX1JCICAgICA2ICAvKiAxTUh6IGNs
b2NrIHJlc2V0OyAwPXJlc2V0LCAwPXJlc2V0IHJlbGVhc2UgKi8KKyNkZWZpbmUgIERTQ19CSVNU
X0RPTkUgICAxICAvKiBiaXRbNToxXTogMT1EU0MgTUJJU1QgcGFzcyAqLworI2RlZmluZSAgRFND
X0VOICAgICAgICAgIDB4MDEgIC8qIDE9RFNDIGVuYWJsZWQsIDA9RFNDIGRpc2FibGVkICovCisK
KyNkZWZpbmUgT0NNX0ZXX1ZFUlNJT04gICAweDMxCisjZGVmaW5lIE9DTV9GV19SRVZFUlNJT04g
MHgzMgorCisjZGVmaW5lIEFQX0FVWF9BRERSXzdfMCAgIDB4MTEKKyNkZWZpbmUgQVBfQVVYX0FE
RFJfMTVfOCAgMHgxMgorI2RlZmluZSBBUF9BVVhfQUREUl8xOV8xNiAweDEzCisKKy8qIG5vdGU6
IGJpdFswOjNdIEFVWCBzdGF0dXMsIGJpdCA0IG9wX2VuLCBiaXQgNSBhZGRyZXNzIG9ubHkgKi8K
KyNkZWZpbmUgQVBfQVVYX0NUUkxfU1RBVFVTIDB4MTQKKyNkZWZpbmUgQVBfQVVYX0NUUkxfT1Bf
RU4gMHgxMAorI2RlZmluZSBBUF9BVVhfQ1RSTF9BRERST05MWSAweDIwCisKKyNkZWZpbmUgQVBf
QVVYX0JVRkZfU1RBUlQgMHgxNQorI2RlZmluZSBQSVhFTF9DTE9DS19MIDB4MjUKKyNkZWZpbmUg
UElYRUxfQ0xPQ0tfSCAweDI2CisKKyNkZWZpbmUgQVBfQVVYX0NPTU1BTkQgMHgyNyAgLyogY29t
K2xlbiAqLworLyogYml0IDAmMTogM0QgdmlkZW8gc3RydWN0dXJlICovCisvKiAweDAxOiBmcmFt
ZSBwYWNraW5nLCAgMHgwMjpMaW5lIGFsdGVybmF0aXZlLCAweDAzOlNpZGUtYnktc2lkZShmdWxs
KSAqLworI2RlZmluZSBBUF9BVl9TVEFUVVMgMHgyOAorI2RlZmluZSBBUF9WSURFT19DSEcgIEJJ
VCgyKQorI2RlZmluZSBBUF9BVURJT19DSEcgIEJJVCgzKQorI2RlZmluZSBBUF9NSVBJX01VVEUg
IEJJVCg0KSAvKiAxOk1JUEkgaW5wdXQgbXV0ZSwgMDogdW1tdXRlICovCisjZGVmaW5lIEFQX01J
UElfUlhfRU4gQklUKDUpIC8qIDE6IE1JUEkgUlggaW5wdXQgaW4gIDA6IG5vIFJYIGluICovCisj
ZGVmaW5lIEFQX0RJU0FCTEVfUEQgQklUKDYpCisjZGVmaW5lIEFQX0RJU0FCTEVfRElTUExBWSBC
SVQoNykKKy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKiovCisvKiBSZWdpc3RlciBkZWZpbml0aW9uIG9mIGRldmljZSBhZGRyZXNz
IDB4ODQgKi8KKyNkZWZpbmUgIE1JUElfUEhZX0NPTlRST0xfMyAgICAgICAgICAgIDB4MDMKKyNk
ZWZpbmUgIE1JUElfSFNfUFdEX0NMSyAgICAgICAgICAgICAgIDcKKyNkZWZpbmUgIE1JUElfSFNf
UlRfQ0xLICAgICAgICAgICAgICAgIDYKKyNkZWZpbmUgIE1JUElfUERfQ0xLICAgICAgICAgICAg
ICAgICAgIDUKKyNkZWZpbmUgIE1JUElfQ0xLX1JUX01BTlVBTF9QRF9FTiAgICAgIDQKKyNkZWZp
bmUgIE1JUElfQ0xLX0hTX01BTlVBTF9QRF9FTiAgICAgIDMKKyNkZWZpbmUgIE1JUElfQ0xLX0RF
VF9ERVRfQllQQVNTICAgICAgIDIKKyNkZWZpbmUgIE1JUElfQ0xLX01JU1NfQ1RSTCAgICAgICAg
ICAgIDEKKyNkZWZpbmUgIE1JUElfUERfTFBUWF9DSF9NQU5VQUxfUERfRU4gIDAKKworI2RlZmlu
ZSAgTUlQSV9MQU5FX0NUUkxfMAkJMHgwNQorI2RlZmluZSAgTUlQSV9USU1FX0hTX1BSUFIJCTB4
MDgKKworLyogQWZ0ZXIgTUlQSSBSWCBwcm90b2NvbCBsYXllciByZWNlaXZlZCB0aGlzIG1hbnkg
dmlkZW8gZnJhbWVzLCAqLworLyogcHJvdG9jb2wgbGF5ZXIgc3RhcnRzIHRvIHJlY29uc3RydWN0
IHZpZGVvIHN0cmVhbSBmcm9tIFBIWSAqLworI2RlZmluZSAgTUlQSV9WSURFT19TVEFCTEVfQ05U
ICAgICAgICAgICAweDBBCisKKyNkZWZpbmUgIE1JUElfTEFORV9DVFJMXzEwICAgICAgICAgICAg
ICAgMHgwRgorI2RlZmluZSAgTUlQSV9ESUdJVEFMX0FESl8xICAgMHgxQgorCisjZGVmaW5lICBN
SVBJX1BMTF9NX05VTV8yM18xNiAgIDB4MUUKKyNkZWZpbmUgIE1JUElfUExMX01fTlVNXzE1Xzgg
ICAgMHgxRgorI2RlZmluZSAgTUlQSV9QTExfTV9OVU1fN18wICAgICAweDIwCisjZGVmaW5lICBN
SVBJX1BMTF9OX05VTV8yM18xNiAgIDB4MjEKKyNkZWZpbmUgIE1JUElfUExMX05fTlVNXzE1Xzgg
ICAgMHgyMgorI2RlZmluZSAgTUlQSV9QTExfTl9OVU1fN18wICAgICAweDIzCisKKyNkZWZpbmUg
IE1JUElfRElHSVRBTF9QTExfNiAgICAgMHgyQQorLyogYml0Wzc6Nl06IFZDTyBiYW5kIGNvbnRy
b2wsIG9ubHkgZWZmZWN0aXZlICovCisvKiB3aGVuIE1JUElfUExMX0ZPUkNFX0JBTkRfRU4gKDB4
ODQ6MHgyQls2XSkgaXMgMSAqLworI2RlZmluZSAgTUlQSV9NX05VTV9SRUFEWSAgICAgICAgMHgx
MAorI2RlZmluZSAgTUlQSV9OX05VTV9SRUFEWSAgICAgICAgMHgwOAorI2RlZmluZSAgU1RBQkxF
X0lOVEVHRVJfQ05UX0VOICAgMHgwNAorI2RlZmluZSAgTUlQSV9QTExfVEVTVF9CSVQgICAgICAg
MAorLyogYml0WzE6MF06IHRlc3QgcG9pbnQgb3V0cHV0IHNlbGVjdCAtICovCisvKiAwMDogVkNP
IHBvd2VyLCAwMTogZHZkZF9wZHQsIDEwOiBkdmRkLCAxMTogdmNveCAqLworCisjZGVmaW5lICBN
SVBJX0RJR0lUQUxfUExMXzcgICAgICAweDJCCisjZGVmaW5lICBNSVBJX1BMTF9GT1JDRV9OX0VO
ICAgICA3CisjZGVmaW5lICBNSVBJX1BMTF9GT1JDRV9CQU5EX0VOICA2CisKKyNkZWZpbmUgIE1J
UElfUExMX1ZDT19UVU5FX1JFRyAgIDQKKy8qIGJpdFs1OjRdOiBWQ08gbWV0YWwgY2FwYWNpdGFu
Y2UgLSAqLworLyogMDA6ICsyMCUgZmFzdCwgMDE6ICsxMCUgZmFzdCAoZGVmYXVsdCksIDEwOiB0
eXBpY2FsLCAxMTogLTEwJSBzbG93ICovCisjZGVmaW5lICBNSVBJX1BMTF9WQ09fVFVORV9SRUdf
VkFMICAgMHgzMAorCisjZGVmaW5lICBNSVBJX1BMTF9QTExfTERPX0JJVCAgICAyCisvKiBiaXRb
MzoyXTogdmNvX3YyaSBwb3dlciAtICovCisvKiAwMDogMS40MFYsIDAxOiAxLjQ1ViAoZGVmYXVs
dCksIDEwOiAxLjUwViwgMTE6IDEuNTVWICovCisjZGVmaW5lICBNSVBJX1BMTF9SRVNFVF9OICAg
ICAgICAweDAyCisjZGVmaW5lICBNSVBJX0ZSUV9GT1JDRV9OREVUICAgICAwCisKKyNkZWZpbmUg
IE1JUElfQUxFUlRfQ0xSXzAgICAgICAgIDB4MkQKKyNkZWZpbmUgIEhTX2xpbmtfZXJyb3JfY2xl
YXIgICAgIDcKKy8qIFRoaXMgYml0IGl0c2VsZiBpcyBTL0MsIGFuZCBpdCBjbGVhcnMgMHg4NDow
eDMxWzddICovCisKKyNkZWZpbmUgIE1JUElfQUxFUlRfT1VUXzAgICAgICAgIDB4MzEKKyNkZWZp
bmUgIGNoZWNrX3N1bV9lcnJfaHNfc3luYyAgIDcKKy8qIFRoaXMgYml0IGlzIGNsZWFyZWQgYnkg
MHg4NDoweDJEWzddICovCisKKyNkZWZpbmUgIE1JUElfRElHSVRBTF9QTExfOCAgICAweDMzCisj
ZGVmaW5lICBNSVBJX1BPU1RfRElWX1ZBTCAgICAgNAorLyogbiBtZWFucyBkaXZpZGVkIGJ5IChu
KzEpLCBuID0gMH4xNSAqLworI2RlZmluZSAgTUlQSV9FTl9MT0NLX0ZSWiAgICAgIDMKKyNkZWZp
bmUgIE1JUElfRlJRX0NPVU5URVJfUlNUICAyCisjZGVmaW5lICBNSVBJX0ZSUV9TRVRfUkVHXzgg
ICAgMQorLyogYml0IDAgaXMgcmVzZXJ2ZWQgKi8KKworI2RlZmluZSAgTUlQSV9ESUdJVEFMX1BM
TF85ICAgIDB4MzQKKworI2RlZmluZSAgTUlQSV9ESUdJVEFMX1BMTF8xNiAgIDB4M0IKKyNkZWZp
bmUgIE1JUElfRlJRX0ZSRUVaRV9OREVUICAgICAgICAgIDcKKyNkZWZpbmUgIE1JUElfRlJRX1JF
R19TRVRfRU5BQkxFICAgICAgIDYKKyNkZWZpbmUgIE1JUElfUkVHX0ZPUkNFX1NFTF9FTiAgICAg
ICAgIDUKKyNkZWZpbmUgIE1JUElfUkVHX1NFTF9ESVZfUkVHICAgICAgICAgIDQKKyNkZWZpbmUg
IE1JUElfUkVHX0ZPUkNFX1BSRV9ESVZfRU4gICAgIDMKKy8qIGJpdCAyIGlzIHJlc2VydmVkICov
CisjZGVmaW5lICBNSVBJX0ZSRUZfRF9JTkQgICAgICAgICAgICAgICAxCisjZGVmaW5lICBSRUZf
Q0xLXzI3MDAwS0haICAgIDEKKyNkZWZpbmUgIFJFRl9DTEtfMTkyMDBLSFogICAgMAorI2RlZmlu
ZSAgTUlQSV9SRUdfUExMX1BMTF9URVNUX0VOQUJMRSAgMAorCisjZGVmaW5lICBNSVBJX0RJR0lU
QUxfUExMXzE4ICAweDNECisjZGVmaW5lICBGUlFfQ09VTlRfUkJfU0VMICAgICAgIDcKKyNkZWZp
bmUgIFJFR19GT1JDRV9QT1NUX0RJVl9FTiAgNgorI2RlZmluZSAgTUlQSV9EUElfU0VMRUNUICAg
ICAgICA1CisjZGVmaW5lICBTRUxFQ1RfRFNJICAxCisjZGVmaW5lICBTRUxFQ1RfRFBJICAwCisj
ZGVmaW5lICBSRUdfQkFVRF9ESVZfUkFUSU8gICAgIDAKKworI2RlZmluZSAgSF9CTEFOS19MICAg
ICAgICAgICAgMHgzRQorLyogZm9yIERTQyBvbmx5ICovCisjZGVmaW5lICBIX0JMQU5LX0ggICAg
ICAgICAgICAweDNGCisvKiBmb3IgRFNDIG9ubHk7IG5vdGU6IGJpdFs3OjZdIGFyZSByZXNlcnZl
ZCAqLworI2RlZmluZSAgTUlQSV9TV0FQICAweDRBCisjZGVmaW5lICBNSVBJX1NXQVBfQ0gwICAg
IDcKKyNkZWZpbmUgIE1JUElfU1dBUF9DSDEgICAgNgorI2RlZmluZSAgTUlQSV9TV0FQX0NIMiAg
ICA1CisjZGVmaW5lICBNSVBJX1NXQVBfQ0gzICAgIDQKKyNkZWZpbmUgIE1JUElfU1dBUF9DTEsg
ICAgMworLyogYml0WzI6MF0gYXJlIHJlc2VydmVkICovCisKKy8qKioqKioqKiBFTkQgb2YgSTJD
IEFkZHJlc3MgMHg4NCAqKioqKioqKiovCisKKy8qIERQQ0QgcmVncyAqLworI2RlZmluZSBEUENE
X0RQQ0RfUkVWICAgICAgICAgICAgICAgICAgMHgwMAorI2RlZmluZSBEUENEX01BWF9MSU5LX1JB
VEUgICAgICAgICAgICAgMHgwMQorI2RlZmluZSBEUENEX01BWF9MQU5FX0NPVU5UICAgICAgICAg
ICAgMHgwMgorCisvKioqKioqKioqICBBTlg3NjI1IFJlZ2lzdGVyIEVuZCAgKioqKioqKioqKi8K
KworLyoqKioqKioqKioqKioqKioqICBEaXNwbGF5ICoqKioqKioqKioqKioqKioqLworZW51bSBh
dWRpb19mcyB7CisJQVVESU9fRlNfNDQxSyAgPSAweDAwLAorCUFVRElPX0ZTXzQ4SyAgID0gMHgw
MiwKKwlBVURJT19GU18zMksgICA9IDB4MDMsCisJQVVESU9fRlNfODgySyAgPSAweDA4LAorCUFV
RElPX0ZTXzk2SyAgID0gMHgwYSwKKwlBVURJT19GU18xNzY0SyA9IDB4MGMsCisJQVVESU9fRlNf
MTkySyAgPSAweDBlCit9OworCitlbnVtIGF1ZGlvX3dkX2xlbiB7CisJQVVESU9fV19MRU5fMTZf
MjBNQVggPSAweDAyLAorCUFVRElPX1dfTEVOXzE4XzIwTUFYID0gMHgwNCwKKwlBVURJT19XX0xF
Tl8xN18yME1BWCA9IDB4MGMsCisJQVVESU9fV19MRU5fMTlfMjBNQVggPSAweDA4LAorCUFVRElP
X1dfTEVOXzIwXzIwTUFYID0gMHgwYSwKKwlBVURJT19XX0xFTl8yMF8yNE1BWCA9IDB4MDMsCisJ
QVVESU9fV19MRU5fMjJfMjRNQVggPSAweDA1LAorCUFVRElPX1dfTEVOXzIxXzI0TUFYID0gMHgw
ZCwKKwlBVURJT19XX0xFTl8yM18yNE1BWCA9IDB4MDksCisJQVVESU9fV19MRU5fMjRfMjRNQVgg
PSAweDBiCit9OworCisjZGVmaW5lIEkyU19DSF8yCTB4MDEKKyNkZWZpbmUgVERNX0NIXzQJMHgw
MworI2RlZmluZSBURE1fQ0hfNgkweDA1CisjZGVmaW5lIFRETV9DSF84CTB4MDcKKworI2RlZmlu
ZSBNQVhfRFBDRF9CVUZGRVJfU0laRQkxNgorCisjZGVmaW5lIE9ORV9CTE9DS19TSVpFICAgICAg
MTI4CisjZGVmaW5lIEZPVVJfQkxPQ0tfU0laRSAgICAgKDEyOCAqIDQpCisKKyNkZWZpbmUgTUFY
X0VESURfQkxPQ0sJMworI2RlZmluZSBFRElEX1RSWV9DTlQJMworI2RlZmluZSBTVVBQT1JUX1BJ
WEVMX0NMT0NLCTMwMDAwMAorCitzdHJ1Y3Qgc19lZGlkX2RhdGEgeworCWludCBlZGlkX2Jsb2Nr
X251bTsKKwl1OCBlZGlkX3Jhd19kYXRhW0ZPVVJfQkxPQ0tfU0laRV07Cit9OworCisvKioqKioq
KioqKioqKioqKiogIERpc3BsYXkgRW5kICoqKioqKioqKioqKioqKioqLworCitzdHJ1Y3QgYW54
NzYyNV9kZXZpY2Vfbm9kZSB7CisJc3RydWN0IGRldmljZV9ub2RlICptaXBpX2RzaV9ob3N0X25v
ZGU7CisJc3RydWN0IGRldmljZV9ub2RlICptaXBpX2RwaV9ob3N0X25vZGU7CisJc3RydWN0IGRl
dmljZV9ub2RlICpwYW5lbF9ub2RlOworfTsKKworc3RydWN0IGFueDc2MjVfcGxhdGZvcm1fZGF0
YSB7CisJc3RydWN0IGdwaW9fZGVzYyAqZ3Bpb19wX29uOworCXN0cnVjdCBncGlvX2Rlc2MgKmdw
aW9fcmVzZXQ7CisJc3RydWN0IGRybV9wYW5lbCAqcGFuZWw7CisJaW50IGludHBfaXJxOworCXUz
MiBwYW5lbF9mbGFnczsKKwl1MzIgbG93X3Bvd2VyX21vZGU7CisJdTMyIGRzaV9zdXBwb3J0ZWQ7
CisJdTMyIGludGVybmFsX3BhbmVsOworCXUzMiBleHRjb25fc3VwcG9ydGVkOworCXN0cnVjdCBh
bng3NjI1X2RldmljZV9ub2RlIG5vZGU7Cit9OworCitzdHJ1Y3QgYW54NzYyNV9pMmNfY2xpZW50
IHsKKwlzdHJ1Y3QgaTJjX2NsaWVudCAqdHhfcDBfY2xpZW50OworCXN0cnVjdCBpMmNfY2xpZW50
ICp0eF9wMV9jbGllbnQ7CisJc3RydWN0IGkyY19jbGllbnQgKnR4X3AyX2NsaWVudDsKKwlzdHJ1
Y3QgaTJjX2NsaWVudCAqcnhfcDBfY2xpZW50OworCXN0cnVjdCBpMmNfY2xpZW50ICpyeF9wMV9j
bGllbnQ7CisJc3RydWN0IGkyY19jbGllbnQgKnJ4X3AyX2NsaWVudDsKKwlzdHJ1Y3QgaTJjX2Ns
aWVudCAqdGNwY19jbGllbnQ7Cit9OworCitzdHJ1Y3QgYW54NzYyNV9kYXRhIHsKKwlzdHJ1Y3Qg
YW54NzYyNV9wbGF0Zm9ybV9kYXRhIHBkYXRhOworCWF0b21pY190IHBvd2VyX3N0YXR1czsKKwlh
dG9taWNfdCBwYW5lbF9wb3dlcjsKKwlpbnQgaHBkX3N0YXR1czsKKwlpbnQgaHBkX2hpZ2hfY250
OworCXN0cnVjdCBpMmNfY2xpZW50ICpjbGllbnQ7CisJc3RydWN0IGFueDc2MjVfaTJjX2NsaWVu
dCBpMmM7CisJc3RydWN0IGkyY19jbGllbnQgKmxhc3RfY2xpZW50OworCXN0cnVjdCBzX2VkaWRf
ZGF0YSBzbGltcG9ydF9lZGlkX3A7CisJc3RydWN0IHdvcmtfc3RydWN0IHdvcms7CisJc3RydWN0
IHdvcmtxdWV1ZV9zdHJ1Y3QgKndvcmtxdWV1ZTsKKwkvKiBkcm0gYnJpZGdlIG11dGV4IGxvY2sg
Ki8KKwlzdHJ1Y3QgbXV0ZXggbG9jazsKKwljaGFyIGVkaWRfYmxvY2s7CisJc3RydWN0IGRpc3Bs
YXlfdGltaW5nIGR0OworCXU4IGRpc3BsYXlfdGltaW5nX3ZhbGlkOworCXN0cnVjdCBkcm1fYnJp
ZGdlIGJyaWRnZTsKKwl1OCBicmlkZ2VfYXR0YWNoZWQ7CisJc3RydWN0IGRybV9jb25uZWN0b3Ig
Y29ubmVjdG9yOworCXN0cnVjdCBtaXBpX2RzaV9kZXZpY2UgKmRzaTsKKwlzdHJ1Y3QgZHJtX2Rw
X2xpbmsgbGluazsKKwlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSB2aWRfaW5mbzsKKwlzdHJ1Y3Qg
bm90aWZpZXJfYmxvY2sgZXZlbnRfbmI7CisJc3RydWN0IGV4dGNvbl9kZXYgKmV4dGNvbjsKKwlz
dHJ1Y3Qgd29ya19zdHJ1Y3QgZXh0Y29uX3dxOworfTsKKworI2VuZGlmICAvKiBfX0FOWDc2MjVf
SF9fICovCi0tIAoyLjcuNAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0
b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJp
LWRldmVs
