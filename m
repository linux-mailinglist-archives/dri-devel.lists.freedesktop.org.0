Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 41B762B427
	for <lists+dri-devel@lfdr.de>; Mon, 27 May 2019 14:04:59 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1F0D589C53;
	Mon, 27 May 2019 12:04:45 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from newverein.lst.de (verein.lst.de [213.95.11.211])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B0AB489C98
 for <dri-devel@lists.freedesktop.org>; Thu, 23 May 2019 06:54:18 +0000 (UTC)
Received: by newverein.lst.de (Postfix, from userid 2005)
 id 0734568BFE; Thu, 23 May 2019 08:53:56 +0200 (CEST)
From: Torsten Duwe <duwe@lst.de>
To: Maxime Ripard <maxime.ripard@bootlin.com>, Chen-Yu Tsai <wens@csie.org>,
 Rob Herring <robh+dt@kernel.org>, Mark Rutland <mark.rutland@arm.com>,
 Thierry Reding <thierry.reding@gmail.com>,
 David Airlie <airlied@linux.ie>, Daniel Vetter <daniel@ffwll.ch>,
 Andrzej Hajda <a.hajda@samsung.com>,
 Laurent Pinchart <Laurent.pinchart@ideasonboard.com>,
 Icenowy Zheng <icenowy@aosc.io>, Sean Paul <seanpaul@chromium.org>,
 Vasily Khoruzhick <anarsoul@gmail.com>, Harald Geyer <harald@ccbib.org>,
 Greg Kroah-Hartman <gregkh@linuxfoundation.org>,
 Thomas Gleixner <tglx@linutronix.de>
Subject: [PATCH 4/6] drm/bridge: Add Analogix anx6345 support
References: <20190523065013.2719D68B05@newverein.lst.de>
Message-Id: <20190523065356.0734568BFE@newverein.lst.de>
Date: Thu, 23 May 2019 08:53:56 +0200 (CEST)
X-Mailman-Approved-At: Mon, 27 May 2019 12:03:54 +0000
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: devicetree@vger.kernel.org, linux-arm-kernel@lists.infradead.org,
 dri-devel@lists.freedesktop.org, linux-kernel@vger.kernel.org
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogSWNlbm93eSBaaGVuZyA8aWNlbm93eUBhb3NjLmlvPgoKVGhlIEFOWDYzNDUgaXMgYW4g
dWx0cmEtbG93IHBvd2VyIERpc3BsYXlQb3dlci9lRFAgdHJhbnNtaXR0ZXIgZGVzaWduZWQKZm9y
IHBvcnRhYmxlIGRldmljZXMuIFRoaXMgZHJpdmVyIGFkZHMgaW5pdGlhbCBzdXBwb3J0IGZvciBS
R0IgdG8gZURQCm1vZGUsIHdpdGhvdXQgSFBEIGFuZCBpbnRlcnJ1cHRzLgoKVGhpcyBpcyBhIGNv
bmZpZ3VyYXRpb24gdXN1YWxseSBzZWVuIGluIGVEUCBhcHBsaWNhdGlvbnMuCgpTaWduZWQtb2Zm
LWJ5OiBJY2Vub3d5IFpoZW5nIDxpY2Vub3d5QGFvc2MuaW8+ClNpZ25lZC1vZmYtYnk6IFZhc2ls
eSBLaG9ydXpoaWNrIDxhbmFyc291bEBnbWFpbC5jb20+ClNpZ25lZC1vZmYtYnk6IFRvcnN0ZW4g
RHV3ZSA8ZHV3ZUBzdXNlLmRlPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9naXgv
S2NvbmZpZyAgICAgICAgICAgIHwgIDExICsKIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9n
aXgvTWFrZWZpbGUgICAgICAgICAgIHwgICAxICsKIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5h
bG9naXgvYW5hbG9naXgtYW54NjM0NS5jIHwgODA4ICsrKysrKysrKysrKysrKysrKysrKwogLi4u
L2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FuYWxvZ2l4LWkyYy1kcHR4LmMgICAgfCAgIDIgKy0K
IC4uLi9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9hbmFsb2dpeC1pMmMtZHB0eC5oICAgIHwgICA4
ICsKIC4uLi9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FuYWxvZ2l4LWkyYy10eGNvbW1vbi5oICAgIHwg
ICAzICsKIDYgZmlsZXMgY2hhbmdlZCwgODMyIGluc2VydGlvbnMoKyksIDEgZGVsZXRpb24oLSkK
IGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FuYWxv
Z2l4LWFueDYzNDUuYwoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9n
aXgvS2NvbmZpZyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9naXgvS2NvbmZpZwppbmRl
eCBlZDJkMDVjMTI1NDYuLjNjNmVjNTM1ZDM2MSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2JyaWRnZS9hbmFsb2dpeC9LY29uZmlnCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5h
bG9naXgvS2NvbmZpZwpAQCAtMSwzICsxLDE0IEBACiAjIFNQRFgtTGljZW5zZS1JZGVudGlmaWVy
OiBHUEwtMi4wLW9ubHkKK2NvbmZpZyBEUk1fQU5BTE9HSVhfQU5YNjM0NQorCXRyaXN0YXRlICJB
bmFsb2dpeCBBTlg2MzQ1IGJyaWRnZSIKKwlzZWxlY3QgRFJNX0FOQUxPR0lYX0RQX0kyQworCXNl
bGVjdCBEUk1fS01TX0hFTFBFUgorCXNlbGVjdCBSRUdNQVBfSTJDCisJaGVscAorCSAgQU5YNjM0
NSBpcyBhbiB1bHRyYS1sb3cgRnVsbC1IRCBEaXNwbGF5UG9ydC9lRFAKKwkgIHRyYW5zbWl0dGVy
IGRlc2lnbmVkIGZvciBwb3J0YWJsZSBkZXZpY2VzLiBUaGUKKwkgIEFOWDYzNDUgdHJhbnNmb3Jt
cyB0aGUgTFZUVEwgUkdCIG91dHB1dCBvZiBhbgorCSAgYXBwbGljYXRpb24gcHJvY2Vzc29yIHRv
IGVEUCBvciBEaXNwbGF5UG9ydC4KKwogY29uZmlnIERSTV9BTkFMT0dJWF9BTlg3OFhYCiAJdHJp
c3RhdGUgIkFuYWxvZ2l4IEFOWDc4WFggYnJpZGdlIgogCXNlbGVjdCBEUk1fQU5BTE9HSVhfRFBf
STJDCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L01ha2VmaWxl
IGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9NYWtlZmlsZQppbmRleCAyZDUyM2I2
NzQ4N2QuLjEyZmVkN2IwNGUxZSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9h
bmFsb2dpeC9NYWtlZmlsZQorKysgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L01h
a2VmaWxlCkBAIC0xLDYgKzEsNyBAQAogIyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIu
MC1vbmx5CiBhbmFsb2dpeF9kcC1vYmpzIDo9IGFuYWxvZ2l4X2RwX2NvcmUubyBhbmFsb2dpeF9k
cF9yZWcubwogYW5hbG9naXhfZHBfaTJjLW9ianMgOj0gYW5hbG9naXgtaTJjLWRwdHgubworb2Jq
LSQoQ09ORklHX0RSTV9BTkFMT0dJWF9BTlg2MzQ1KSArPSBhbmFsb2dpeC1hbng2MzQ1Lm8KIG9i
ai0kKENPTkZJR19EUk1fQU5BTE9HSVhfQU5YNzhYWCkgKz0gYW5hbG9naXgtYW54Nzh4eC5vCiBv
YmotJChDT05GSUdfRFJNX0FOQUxPR0lYX0RQKSArPSBhbmFsb2dpeF9kcC5vCiBvYmotJChDT05G
SUdfRFJNX0FOQUxPR0lYX0RQX0kyQykgKz0gYW5hbG9naXhfZHBfaTJjLm8KZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9naXgvYW5hbG9naXgtYW54NjM0NS5jIGIvZHJp
dmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9hbmFsb2dpeC1hbng2MzQ1LmMKbmV3IGZpbGUg
bW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAwLi4zNmYzOGE5ZjA0MmEKLS0tIC9kZXYvbnVs
bAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FuYWxvZ2l4LWFueDYzNDUu
YwpAQCAtMCwwICsxLDgxMCBAQAorLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAK
Ky8qCisgKiBDb3B5cmlnaHQoYykgSWNlbm93eSBaaGVuZyA8aWNlbm93eUBhb3NjLmlvPgorICog
QmFzZWQgb24gYW5hbG9naXgtYW54NjM0NS5jLCB3aGljaCBpczoKKyAqICAgQ29weXJpZ2h0KGMp
IDIwMTYsIEFuYWxvZ2l4IFNlbWljb25kdWN0b3IuCisgKi8KKyNpbmNsdWRlIDxsaW51eC9kZWxh
eS5oPgorI2luY2x1ZGUgPGxpbnV4L2Vyci5oPgorI2luY2x1ZGUgPGxpbnV4L2ludGVycnVwdC5o
PgorI2luY2x1ZGUgPGxpbnV4L2kyYy5oPgorI2luY2x1ZGUgPGxpbnV4L2tlcm5lbC5oPgorI2lu
Y2x1ZGUgPGxpbnV4L21vZHVsZS5oPgorI2luY2x1ZGUgPGxpbnV4L29mX3BsYXRmb3JtLmg+Cisj
aW5jbHVkZSA8bGludXgvcmVnbWFwLmg+CisjaW5jbHVkZSA8bGludXgvdHlwZXMuaD4KKyNpbmNs
dWRlIDxsaW51eC9ncGlvL2NvbnN1bWVyLmg+CisjaW5jbHVkZSA8bGludXgvcmVndWxhdG9yL2Nv
bnN1bWVyLmg+CisKKyNpbmNsdWRlIDxkcm0vZHJtX2F0b21pY19oZWxwZXIuaD4KKyNpbmNsdWRl
IDxkcm0vZHJtX3Byb2JlX2hlbHBlci5oPgorI2luY2x1ZGUgPGRybS9kcm1fY3J0Yy5oPgorI2lu
Y2x1ZGUgPGRybS9kcm1fY3J0Y19oZWxwZXIuaD4KKyNpbmNsdWRlIDxkcm0vZHJtX2RwX2hlbHBl
ci5oPgorI2luY2x1ZGUgPGRybS9kcm1fZWRpZC5oPgorI2luY2x1ZGUgPGRybS9kcm1fb2YuaD4K
KyNpbmNsdWRlIDxkcm0vZHJtX3ByaW50Lmg+CisjaW5jbHVkZSA8ZHJtL2RybV9wYW5lbC5oPgor
CisjaW5jbHVkZSAiYW5hbG9naXgtaTJjLWRwdHguaCIKKyNpbmNsdWRlICJhbmFsb2dpeC1pMmMt
dHhjb21tb24uaCIKKworI2RlZmluZSBJMkNfTlVNX0FERFJFU1NFUwkyCisjZGVmaW5lIEkyQ19J
RFhfRFBUWAkJMAorI2RlZmluZSBJMkNfSURYX1RYQ09NCQkxCisKKyNkZWZpbmUgUE9MTF9ERUxB
WQkJNTAwMDAgLyogdXMgKi8KKyNkZWZpbmUgUE9MTF9USU1FT1VUCQk1MDAwMDAwIC8qIHVzICov
CisKK3N0YXRpYyBjb25zdCB1OCBhbng2MzQ1X2kyY19hZGRyZXNzZXNbXSA9IHsKKwlbSTJDX0lE
WF9EUFRYXQk9IEFOQUxPR0lYX0kyQ19EUFRYLAorCVtJMkNfSURYX1RYQ09NXQk9IEFOQUxPR0lY
X0kyQ19UWENPTU1PTiwKK307CisKK3N0cnVjdCBhbng2MzQ1IHsKKwlzdHJ1Y3QgZHJtX2RwX2F1
eCBhdXg7CisJc3RydWN0IGRybV9icmlkZ2UgYnJpZGdlOworCXN0cnVjdCBpMmNfY2xpZW50ICpj
bGllbnQ7CisJc3RydWN0IGVkaWQgKmVkaWQ7CisJc3RydWN0IGRybV9jb25uZWN0b3IgY29ubmVj
dG9yOworCXN0cnVjdCBkcm1fZHBfbGluayBsaW5rOworCXN0cnVjdCBkcm1fcGFuZWwgKnBhbmVs
OworCXN0cnVjdCByZWd1bGF0b3IgKmR2ZGQxMjsKKwlzdHJ1Y3QgcmVndWxhdG9yICpkdmRkMjU7
CisJc3RydWN0IGdwaW9fZGVzYyAqZ3Bpb2RfcmVzZXQ7CisJc3RydWN0IG11dGV4IGxvY2s7CisK
KwkvKgorCSAqIEkyQyBTbGF2ZSBhZGRyZXNzZXMgb2YgQU5YNjM0NSBhcmUgbWFwcGVkIGFzIERQ
VFggYW5kIFNZUworCSAqLworCXN0cnVjdCBpMmNfY2xpZW50ICppMmNfY2xpZW50c1tJMkNfTlVN
X0FERFJFU1NFU107CisJc3RydWN0IHJlZ21hcCAqbWFwW0kyQ19OVU1fQUREUkVTU0VTXTsKKwor
CXUxNiBjaGlwaWQ7CisJdTggZHBjZFtEUF9SRUNFSVZFUl9DQVBfU0laRV07CisKKwlib29sIHBv
d2VyZWQ7Cit9OworCitzdGF0aWMgaW5saW5lIHN0cnVjdCBhbng2MzQ1ICpjb25uZWN0b3JfdG9f
YW54NjM0NShzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqYykKK3sKKwlyZXR1cm4gY29udGFpbmVyX29m
KGMsIHN0cnVjdCBhbng2MzQ1LCBjb25uZWN0b3IpOworfQorCitzdGF0aWMgaW5saW5lIHN0cnVj
dCBhbng2MzQ1ICpicmlkZ2VfdG9fYW54NjM0NShzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlKQor
eworCXJldHVybiBjb250YWluZXJfb2YoYnJpZGdlLCBzdHJ1Y3QgYW54NjM0NSwgYnJpZGdlKTsK
K30KKworc3RhdGljIGludCBhbng2MzQ1X3NldF9iaXRzKHN0cnVjdCByZWdtYXAgKm1hcCwgdTgg
cmVnLCB1OCBtYXNrKQoreworCXJldHVybiByZWdtYXBfdXBkYXRlX2JpdHMobWFwLCByZWcsIG1h
c2ssIG1hc2spOworfQorCitzdGF0aWMgaW50IGFueDYzNDVfY2xlYXJfYml0cyhzdHJ1Y3QgcmVn
bWFwICptYXAsIHU4IHJlZywgdTggbWFzaykKK3sKKwlyZXR1cm4gcmVnbWFwX3VwZGF0ZV9iaXRz
KG1hcCwgcmVnLCBtYXNrLCAwKTsKK30KKworc3RhdGljIHNzaXplX3QgYW54NjM0NV9hdXhfdHJh
bnNmZXIoc3RydWN0IGRybV9kcF9hdXggKmF1eCwKKwkJCQkgICAgc3RydWN0IGRybV9kcF9hdXhf
bXNnICptc2cpCit7CisJc3RydWN0IGFueDYzNDUgKmFueDYzNDUgPSBjb250YWluZXJfb2YoYXV4
LCBzdHJ1Y3QgYW54NjM0NSwgYXV4KTsKKworCXJldHVybiBhbnhfYXV4X3RyYW5zZmVyKGFueDYz
NDUtPm1hcFtJMkNfSURYX0RQVFhdLCBtc2cpOworfQorCitzdGF0aWMgaW50IGFueDYzNDVfZHBf
bGlua190cmFpbmluZyhzdHJ1Y3QgYW54NjM0NSAqYW54NjM0NSkKK3sKKwl1bnNpZ25lZCBpbnQg
dmFsdWU7CisJdTggZHBfYnc7CisJaW50IGVycjsKKworCWVyciA9IGFueDYzNDVfY2xlYXJfYml0
cyhhbng2MzQ1LT5tYXBbSTJDX0lEWF9UWENPTV0sCisJCQkJIFNQX1BPV0VSRE9XTl9DVFJMX1JF
RywKKwkJCQkgU1BfVE9UQUxfUEQpOworCWlmIChlcnIpCisJCXJldHVybiBlcnI7CisKKwllcnIg
PSBkcm1fZHBfZHBjZF9yZWFkYigmYW54NjM0NS0+YXV4LCBEUF9NQVhfTElOS19SQVRFLCAmZHBf
YncpOworCWlmIChlcnIgPCAwKQorCQlyZXR1cm4gZXJyOworCisJc3dpdGNoIChkcF9idykgewor
CWNhc2UgRFBfTElOS19CV18xXzYyOgorCWNhc2UgRFBfTElOS19CV18yXzc6CisJCWJyZWFrOwor
CisJZGVmYXVsdDoKKwkJRFJNX0RFQlVHX0tNUygiRFAgYmFuZHdpZHRoICglIzAyeCkgbm90IHN1
cHBvcnRlZFxuIiwgZHBfYncpOworCQlyZXR1cm4gLUVJTlZBTDsKKwl9CisKKwllcnIgPSBhbng2
MzQ1X3NldF9iaXRzKGFueDYzNDUtPm1hcFtJMkNfSURYX1RYQ09NXSwgU1BfVklEX0NUUkwxX1JF
RywKKwkJCSAgICAgICBTUF9WSURFT19NVVRFKTsKKwlpZiAoZXJyKQorCQlyZXR1cm4gZXJyOwor
CisJZXJyID0gYW54NjM0NV9jbGVhcl9iaXRzKGFueDYzNDUtPm1hcFtJMkNfSURYX1RYQ09NXSwK
KwkJCQkgU1BfVklEX0NUUkwxX1JFRywgU1BfVklERU9fRU4pOworCWlmIChlcnIpCisJCXJldHVy
biBlcnI7CisKKwkvKiBHZXQgRFBDRCBpbmZvICovCisJZXJyID0gZHJtX2RwX2RwY2RfcmVhZCgm
YW54NjM0NS0+YXV4LCBEUF9EUENEX1JFViwKKwkJCSAgICAgICAmYW54NjM0NS0+ZHBjZCwgRFBf
UkVDRUlWRVJfQ0FQX1NJWkUpOworCWlmIChlcnIgPCAwKSB7CisJCURSTV9FUlJPUigiRmFpbGVk
IHRvIHJlYWQgRFBDRDogJWRcbiIsIGVycik7CisJCXJldHVybiBlcnI7CisJfQorCisJLyogQ2xl
YXIgY2hhbm5lbCB4IFNFUkRFUyBwb3dlciBkb3duICovCisJZXJyID0gYW54NjM0NV9jbGVhcl9i
aXRzKGFueDYzNDUtPm1hcFtJMkNfSURYX0RQVFhdLAorCQkJCSBTUF9EUF9BTkFMT0dfUE9XRVJf
RE9XTl9SRUcsIFNQX0NIMF9QRCk7CisJaWYgKGVycikKKwkJcmV0dXJuIGVycjsKKworCS8qIENo
ZWNrIGxpbmsgY2FwYWJpbGl0aWVzICovCisJZXJyID0gZHJtX2RwX2xpbmtfcHJvYmUoJmFueDYz
NDUtPmF1eCwgJmFueDYzNDUtPmxpbmspOworCWlmIChlcnIgPCAwKSB7CisJCURSTV9FUlJPUigi
RmFpbGVkIHRvIHByb2JlIGxpbmsgY2FwYWJpbGl0aWVzOiAlZFxuIiwgZXJyKTsKKwkJcmV0dXJu
IGVycjsKKwl9CisKKwkvKiBQb3dlciB1cCB0aGUgc2luayAqLworCWVyciA9IGRybV9kcF9saW5r
X3Bvd2VyX3VwKCZhbng2MzQ1LT5hdXgsICZhbng2MzQ1LT5saW5rKTsKKwlpZiAoZXJyIDwgMCkg
eworCQlEUk1fRVJST1IoIkZhaWxlZCB0byBwb3dlciB1cCBEaXNwbGF5UG9ydCBsaW5rOiAlZFxu
IiwgZXJyKTsKKwkJcmV0dXJuIGVycjsKKwl9CisKKwkvKiBQb3NzaWJseSBlbmFibGUgZG93bnNw
cmVhZCBvbiB0aGUgc2luayAqLworCWVyciA9IHJlZ21hcF93cml0ZShhbng2MzQ1LT5tYXBbSTJD
X0lEWF9EUFRYXSwKKwkJCSAgIFNQX0RQX0RPV05TUFJFQURfQ1RSTDFfUkVHLCAwKTsKKwlpZiAo
ZXJyKQorCQlyZXR1cm4gZXJyOworCisJaWYgKGFueDYzNDUtPmRwY2RbRFBfTUFYX0RPV05TUFJF
QURdICYgRFBfTUFYX0RPV05TUFJFQURfMF81KSB7CisJCURSTV9ERUJVRygiRW5hYmxlIGRvd25z
cHJlYWQgb24gdGhlIHNpbmtcbiIpOworCQkvKiA0MDAwUFBNICovCisJCWVyciA9IHJlZ21hcF93
cml0ZShhbng2MzQ1LT5tYXBbSTJDX0lEWF9EUFRYXSwKKwkJCQkgICBTUF9EUF9ET1dOU1BSRUFE
X0NUUkwxX1JFRywgOCk7CisJCWlmIChlcnIpCisJCQlyZXR1cm4gZXJyOworCisJCWVyciA9IGRy
bV9kcF9kcGNkX3dyaXRlYigmYW54NjM0NS0+YXV4LCBEUF9ET1dOU1BSRUFEX0NUUkwsCisJCQkJ
CSBEUF9TUFJFQURfQU1QXzBfNSk7CisJCWlmIChlcnIgPCAwKQorCQkJcmV0dXJuIGVycjsKKwl9
IGVsc2UgeworCQllcnIgPSBkcm1fZHBfZHBjZF93cml0ZWIoJmFueDYzNDUtPmF1eCwgRFBfRE9X
TlNQUkVBRF9DVFJMLCAwKTsKKwkJaWYgKGVyciA8IDApCisJCQlyZXR1cm4gZXJyOworCX0KKwor
CS8qIFNldCB0aGUgbGFuZSBjb3VudCBhbmQgdGhlIGxpbmsgcmF0ZSBvbiB0aGUgc2luayAqLwor
CWlmIChkcm1fZHBfZW5oYW5jZWRfZnJhbWVfY2FwKGFueDYzNDUtPmRwY2QpKQorCQllcnIgPSBh
bng2MzQ1X3NldF9iaXRzKGFueDYzNDUtPm1hcFtJMkNfSURYX0RQVFhdLAorCQkJCSAgICAgICBT
UF9EUF9TWVNURU1fQ1RSTF9CQVNFICsgNCwKKwkJCQkgICAgICAgU1BfRU5IQU5DRURfTU9ERSk7
CisJZWxzZQorCQllcnIgPSBhbng2MzQ1X2NsZWFyX2JpdHMoYW54NjM0NS0+bWFwW0kyQ19JRFhf
RFBUWF0sCisJCQkJCSBTUF9EUF9TWVNURU1fQ1RSTF9CQVNFICsgNCwKKwkJCQkJIFNQX0VOSEFO
Q0VEX01PREUpOworCWlmIChlcnIpCisJCXJldHVybiBlcnI7CisKKwl2YWx1ZSA9IGRybV9kcF9s
aW5rX3JhdGVfdG9fYndfY29kZShhbng2MzQ1LT5saW5rLnJhdGUpOworCWVyciA9IHJlZ21hcF93
cml0ZShhbng2MzQ1LT5tYXBbSTJDX0lEWF9EUFRYXSwKKwkJCSAgIFNQX0RQX01BSU5fTElOS19C
V19TRVRfUkVHLCB2YWx1ZSk7CisJaWYgKGVycikKKwkJcmV0dXJuIGVycjsKKworCWVyciA9IHJl
Z21hcF93cml0ZShhbng2MzQ1LT5tYXBbSTJDX0lEWF9EUFRYXSwKKwkJCSAgIFNQX0RQX0xBTkVf
Q09VTlRfU0VUX1JFRywgYW54NjM0NS0+bGluay5udW1fbGFuZXMpOworCWlmIChlcnIpCisJCXJl
dHVybiBlcnI7CisKKwllcnIgPSBkcm1fZHBfbGlua19jb25maWd1cmUoJmFueDYzNDUtPmF1eCwg
JmFueDYzNDUtPmxpbmspOworCWlmIChlcnIgPCAwKSB7CisJCURSTV9FUlJPUigiRmFpbGVkIHRv
IGNvbmZpZ3VyZSBEaXNwbGF5UG9ydCBsaW5rOiAlZFxuIiwgZXJyKTsKKwkJcmV0dXJuIGVycjsK
Kwl9CisKKwkvKiBTdGFydCB0cmFpbmluZyBvbiB0aGUgc291cmNlICovCisJZXJyID0gcmVnbWFw
X3dyaXRlKGFueDYzNDUtPm1hcFtJMkNfSURYX0RQVFhdLCBTUF9EUF9MVF9DVFJMX1JFRywKKwkJ
CSAgIFNQX0xUX0VOKTsKKwlpZiAoZXJyKQorCQlyZXR1cm4gZXJyOworCisJZXJyID0gcmVnbWFw
X3JlYWRfcG9sbF90aW1lb3V0KGFueDYzNDUtPm1hcFtJMkNfSURYX0RQVFhdLAorCQkJCSAgICAg
ICBTUF9EUF9MVF9DVFJMX1JFRywKKwkJCQkgICAgICAgdmFsdWUsICEodmFsdWUgJiBTUF9EUF9M
VF9JTlBST0dSRVNTKSwKKwkJCQkgICAgICAgUE9MTF9ERUxBWSwgUE9MTF9USU1FT1VUKTsKKwlp
ZiAoZXJyKQorCQlyZXR1cm4gZXJyOworCisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyBpbnQgYW54
NjM0NV90eF9pbml0aWFsaXphdGlvbihzdHJ1Y3QgYW54NjM0NSAqYW54NjM0NSkKK3sKKwlpbnQg
ZXJyLCBpOworCisJLyogRklYTUU6IGhhcmRjb2RlIGNvbG9yIGRlcHRoIG5vdyAqLworCWVyciA9
IHJlZ21hcF93cml0ZShhbng2MzQ1LT5tYXBbSTJDX0lEWF9UWENPTV0sIFNQX1ZJRF9DVFJMMl9S
RUcsCisJCQkgICBTUF9JTl9CUENfNkJJVCA8PCBTUF9JTl9CUENfU0hJRlQpOworCWlmIChlcnIp
CisJCXJldHVybiBlcnI7CisKKwllcnIgPSByZWdtYXBfd3JpdGUoYW54NjM0NS0+bWFwW0kyQ19J
RFhfRFBUWF0sIFNQX0RQX1BMTF9DVFJMX1JFRywgMCk7CisJaWYgKGVycikKKwkJcmV0dXJuIGVy
cjsKKworCWVyciA9IHJlZ21hcF93cml0ZShhbng2MzQ1LT5tYXBbSTJDX0lEWF9UWENPTV0sCisJ
CQkgICBTUF9BTkFMT0dfREVCVUcxX1JFRywgMCk7CisJaWYgKGVycikKKwkJcmV0dXJuIGVycjsK
KworCWVyciA9IHJlZ21hcF93cml0ZShhbng2MzQ1LT5tYXBbSTJDX0lEWF9EUFRYXSwKKwkJCSAg
IFNQX0RQX0xJTktfREVCVUdfQ1RSTF9SRUcsCisJCQkgICBTUF9ORVdfUFJCUzcgfCBTUF9NX1ZJ
RF9ERUJVRyk7CisJaWYgKGVycikKKwkJcmV0dXJuIGVycjsKKworCWVyciA9IHJlZ21hcF93cml0
ZShhbng2MzQ1LT5tYXBbSTJDX0lEWF9EUFRYXSwKKwkJCSAgIFNQX0RQX0FOQUxPR19QT1dFUl9E
T1dOX1JFRywgMCk7CisJaWYgKGVycikKKwkJcmV0dXJuIGVycjsKKworCS8qIEZvcmNlIEhQRCAq
LworCWVyciA9IGFueDYzNDVfc2V0X2JpdHMoYW54NjM0NS0+bWFwW0kyQ19JRFhfRFBUWF0sCisJ
CQkgICAgICAgU1BfRFBfU1lTVEVNX0NUUkxfQkFTRSArIDMsCisJCQkgICAgICAgU1BfSFBEX0ZP
UkNFIHwgU1BfSFBEX0NUUkwpOworCWlmIChlcnIpCisJCXJldHVybiBlcnI7CisKKwlmb3IgKGkg
PSAwOyBpIDwgNDsgaSsrKSB7CisJCS8qIDQgbGFuZXMgKi8KKwkJZXJyID0gcmVnbWFwX3dyaXRl
KGFueDYzNDUtPm1hcFtJMkNfSURYX0RQVFhdLAorCQkJCSAgIFNQX0RQX0xBTkUwX0xUX0NUUkxf
UkVHICsgaSwgMCk7CisJCWlmIChlcnIpCisJCQlyZXR1cm4gZXJyOworCX0KKworCS8qIFJlc2V0
IEFVWCAqLworCWVyciA9IGFueDYzNDVfc2V0X2JpdHMoYW54NjM0NS0+bWFwW0kyQ19JRFhfVFhD
T01dLAorCQkJICAgICAgIFNQX1JFU0VUX0NUUkwyX1JFRywgU1BfQVVYX1JTVCk7CisJaWYgKGVy
cikKKwkJcmV0dXJuIGVycjsKKworCWVyciA9IGFueDYzNDVfY2xlYXJfYml0cyhhbng2MzQ1LT5t
YXBbSTJDX0lEWF9UWENPTV0sCisJCQkJIFNQX1JFU0VUX0NUUkwyX1JFRywgU1BfQVVYX1JTVCk7
CisJaWYgKGVycikKKwkJcmV0dXJuIGVycjsKKworCXJldHVybiAwOworfQorCitzdGF0aWMgdm9p
ZCBhbng2MzQ1X3Bvd2Vyb24oc3RydWN0IGFueDYzNDUgKmFueDYzNDUpCit7CisJaW50IGVycjsK
KworCS8qIEVuc3VyZSByZXNldCBpcyBhc3NlcnRlZCBiZWZvcmUgc3RhcnRpbmcgcG93ZXIgb24g
c2VxdWVuY2UgKi8KKwlncGlvZF9zZXRfdmFsdWVfY2Fuc2xlZXAoYW54NjM0NS0+Z3Bpb2RfcmVz
ZXQsIDEpOworCXVzbGVlcF9yYW5nZSgxMDAwLCAyMDAwKTsKKworCWVyciA9IHJlZ3VsYXRvcl9l
bmFibGUoYW54NjM0NS0+ZHZkZDEyKTsKKwlpZiAoZXJyKSB7CisJCURSTV9FUlJPUigiRmFpbGVk
IHRvIGVuYWJsZSBEVkREMTIgcmVndWxhdG9yOiAlZFxuIiwKKwkJCSAgZXJyKTsKKwkJcmV0dXJu
OworCX0KKworCS8qIFQxIC0gZGVsYXkgYmV0d2VlbiBWREQxMiBhbmQgVkREMjUgc2hvdWxkIGJl
IDAtMm1zICovCisJdXNsZWVwX3JhbmdlKDEwMDAsIDIwMDApOworCisJZXJyID0gcmVndWxhdG9y
X2VuYWJsZShhbng2MzQ1LT5kdmRkMjUpOworCWlmIChlcnIpIHsKKwkJRFJNX0VSUk9SKCJGYWls
ZWQgdG8gZW5hYmxlIERWREQyNSByZWd1bGF0b3I6ICVkXG4iLAorCQkJICBlcnIpOworCQlyZXR1
cm47CisJfQorCisJLyogVDIgLSBkZWxheSBiZXR3ZWVuIFJFU0VUTiBhbmQgYWxsIHBvd2VyIHJh
aWwgc3RhYmxlLAorCSAqIHNob3VsZCBiZSAyLTVtcworCSAqLworCXVzbGVlcF9yYW5nZSgyMDAw
LCA1MDAwKTsKKworCWdwaW9kX3NldF92YWx1ZV9jYW5zbGVlcChhbng2MzQ1LT5ncGlvZF9yZXNl
dCwgMCk7CisKKwkvKiBQb3dlciBvbiByZWdpc3RlcnMgbW9kdWxlICovCisJYW54NjM0NV9zZXRf
Yml0cyhhbng2MzQ1LT5tYXBbSTJDX0lEWF9UWENPTV0sIFNQX1BPV0VSRE9XTl9DVFJMX1JFRywK
KwkJCSBTUF9IRENQX1BEIHwgU1BfQVVESU9fUEQgfCBTUF9WSURFT19QRCB8IFNQX0xJTktfUEQp
OworCWFueDYzNDVfY2xlYXJfYml0cyhhbng2MzQ1LT5tYXBbSTJDX0lEWF9UWENPTV0sIFNQX1BP
V0VSRE9XTl9DVFJMX1JFRywKKwkJCSAgIFNQX1JFR0lTVEVSX1BEIHwgU1BfVE9UQUxfUEQpOwor
CisJaWYgKGFueDYzNDUtPnBhbmVsKQorCQlkcm1fcGFuZWxfcHJlcGFyZShhbng2MzQ1LT5wYW5l
bCk7CisKKwlhbng2MzQ1LT5wb3dlcmVkID0gdHJ1ZTsKK30KKworc3RhdGljIHZvaWQgYW54NjM0
NV9wb3dlcm9mZihzdHJ1Y3QgYW54NjM0NSAqYW54NjM0NSkKK3sKKwlpbnQgZXJyOworCisJZ3Bp
b2Rfc2V0X3ZhbHVlX2NhbnNsZWVwKGFueDYzNDUtPmdwaW9kX3Jlc2V0LCAxKTsKKwl1c2xlZXBf
cmFuZ2UoMTAwMCwgMjAwMCk7CisKKwlpZiAoYW54NjM0NS0+cGFuZWwpCisJCWRybV9wYW5lbF91
bnByZXBhcmUoYW54NjM0NS0+cGFuZWwpOworCisJZXJyID0gcmVndWxhdG9yX2Rpc2FibGUoYW54
NjM0NS0+ZHZkZDI1KTsKKwlpZiAoZXJyKSB7CisJCURSTV9FUlJPUigiRmFpbGVkIHRvIGRpc2Fi
bGUgRFZERDI1IHJlZ3VsYXRvcjogJWRcbiIsCisJCQkgIGVycik7CisJCXJldHVybjsKKwl9CisK
Kwl1c2xlZXBfcmFuZ2UoNTAwMCwgMTAwMDApOworCisJZXJyID0gcmVndWxhdG9yX2Rpc2FibGUo
YW54NjM0NS0+ZHZkZDEyKTsKKwlpZiAoZXJyKSB7CisJCURSTV9FUlJPUigiRmFpbGVkIHRvIGRp
c2FibGUgRFZERDEyIHJlZ3VsYXRvcjogJWRcbiIsCisJCQkgIGVycik7CisJCXJldHVybjsKKwl9
CisKKwl1c2xlZXBfcmFuZ2UoMTAwMCwgMjAwMCk7CisKKwlhbng2MzQ1LT5wb3dlcmVkID0gZmFs
c2U7Cit9CisKK3N0YXRpYyBpbnQgYW54NjM0NV9zdGFydChzdHJ1Y3QgYW54NjM0NSAqYW54NjM0
NSkKK3sKKwlpbnQgZXJyOworCisJaWYgKCFhbng2MzQ1LT5wb3dlcmVkKQorCQlhbng2MzQ1X3Bv
d2Vyb24oYW54NjM0NSk7CisKKwkvKiBQb3dlciBvbiBuZWVkZWQgbW9kdWxlcyAqLworCWVyciA9
IGFueDYzNDVfY2xlYXJfYml0cyhhbng2MzQ1LT5tYXBbSTJDX0lEWF9UWENPTV0sCisJCQkJU1Bf
UE9XRVJET1dOX0NUUkxfUkVHLAorCQkJCVNQX1ZJREVPX1BEIHwgU1BfTElOS19QRCk7CisKKwll
cnIgPSBhbng2MzQ1X3R4X2luaXRpYWxpemF0aW9uKGFueDYzNDUpOworCWlmIChlcnIpIHsKKwkJ
RFJNX0VSUk9SKCJGYWlsZWQgRGlzcGxheVBvcnQgdHJhbnNtaXR0ZXIgaW5pdGlhbGl6YXRpb246
ICVkXG4iLCBlcnIpOworCQlhbng2MzQ1X3Bvd2Vyb2ZmKGFueDYzNDUpOworCQlyZXR1cm4gZXJy
OworCX0KKworCWVyciA9IGFueDYzNDVfZHBfbGlua190cmFpbmluZyhhbng2MzQ1KTsKKwlpZiAo
ZXJyKSB7CisJCURSTV9FUlJPUigiRmFpbGVkIGxpbmsgdHJhaW5pbmc6ICVkXG4iLCBlcnIpOwor
CQlhbng2MzQ1X3Bvd2Vyb2ZmKGFueDYzNDUpOworCQlyZXR1cm4gZXJyOworCX0KKworCS8qCisJ
ICogVGhpcyBkZWxheSBzZWVtcyB0byBoZWxwIGtlZXAgdGhlIGhhcmR3YXJlIGluIGEgZ29vZCBz
dGF0ZS4gV2l0aG91dAorCSAqIGl0LCB0aGVyZSBhcmUgdGltZXMgd2hlcmUgaXQgZmFpbHMgc2ls
ZW50bHkuCisJICovCisJdXNsZWVwX3JhbmdlKDEwMDAwLCAxNTAwMCk7CisKKwlyZXR1cm4gMDsK
K30KKworc3RhdGljIGludCBhbng2MzQ1X2NvbmZpZ19kcF9vdXRwdXQoc3RydWN0IGFueDYzNDUg
KmFueDYzNDUpCit7CisJaW50IGVycjsKKworCWVyciA9IGFueDYzNDVfY2xlYXJfYml0cyhhbng2
MzQ1LT5tYXBbSTJDX0lEWF9UWENPTV0sIFNQX1ZJRF9DVFJMMV9SRUcsCisJCQkJIFNQX1ZJREVP
X01VVEUpOworCWlmIChlcnIpCisJCXJldHVybiBlcnI7CisKKwkvKiBFbmFibGUgRFAgb3V0cHV0
ICovCisJZXJyID0gYW54NjM0NV9zZXRfYml0cyhhbng2MzQ1LT5tYXBbSTJDX0lEWF9UWENPTV0s
IFNQX1ZJRF9DVFJMMV9SRUcsCisJCQkgICAgICAgU1BfVklERU9fRU4pOworCWlmIChlcnIpCisJ
CXJldHVybiBlcnI7CisKKwkvKiBGb3JjZSBzdHJlYW0gdmFsaWQgKi8KKwllcnIgPSBhbng2MzQ1
X3NldF9iaXRzKGFueDYzNDUtPm1hcFtJMkNfSURYX0RQVFhdLAorCQkJICAgICAgIFNQX0RQX1NZ
U1RFTV9DVFJMX0JBU0UgKyAzLAorCQkJICAgICAgIFNQX1NUUk1fRk9SQ0UgfCBTUF9TVFJNX0NU
UkwpOworCWlmIChlcnIpCisJCXJldHVybiBlcnI7CisKKwlyZXR1cm4gMDsKK30KKworc3RhdGlj
IGludCBhbng2MzQ1X2dldF9kb3duc3RyZWFtX2luZm8oc3RydWN0IGFueDYzNDUgKmFueDYzNDUp
Cit7CisJdTggdmFsdWU7CisJaW50IGVycjsKKworCWVyciA9IGRybV9kcF9kcGNkX3JlYWRiKCZh
bng2MzQ1LT5hdXgsIERQX1NJTktfQ09VTlQsICZ2YWx1ZSk7CisJaWYgKGVyciA8IDApIHsKKwkJ
RFJNX0VSUk9SKCJHZXQgc2luayBjb3VudCBmYWlsZWQgJWRcbiIsIGVycik7CisJCXJldHVybiBl
cnI7CisJfQorCisJaWYgKCFEUF9HRVRfU0lOS19DT1VOVCh2YWx1ZSkpIHsKKwkJRFJNX0VSUk9S
KCJEb3duc3RyZWFtIGRpc2Nvbm5lY3RlZFxuIik7CisJCXJldHVybiAtRUlPOworCX0KKworCXJl
dHVybiAwOworfQorCitzdGF0aWMgaW50IGFueDYzNDVfZ2V0X21vZGVzKHN0cnVjdCBkcm1fY29u
bmVjdG9yICpjb25uZWN0b3IpCit7CisJc3RydWN0IGFueDYzNDUgKmFueDYzNDUgPSBjb25uZWN0
b3JfdG9fYW54NjM0NShjb25uZWN0b3IpOworCWludCBlcnIsIG51bV9tb2RlcyA9IDA7CisJYm9v
bCBwb3dlcl9vZmYgPSBmYWxzZTsKKworCW11dGV4X2xvY2soJmFueDYzNDUtPmxvY2spOworCisJ
aWYgKCFhbng2MzQ1LT5lZGlkKSB7CisJCWlmICghYW54NjM0NS0+cG93ZXJlZCkgeworCQkJYW54
NjM0NV9wb3dlcm9uKGFueDYzNDUpOworCQkJcG93ZXJfb2ZmID0gdHJ1ZTsKKwkJfQorCisJCWVy
ciA9IGFueDYzNDVfZ2V0X2Rvd25zdHJlYW1faW5mbyhhbng2MzQ1KTsKKwkJaWYgKGVycikgewor
CQkJRFJNX0VSUk9SKCJGYWlsZWQgdG8gZ2V0IGRvd25zdHJlYW0gaW5mbzogJWRcbiIsIGVycik7
CisJCQlnb3RvIHVubG9jazsKKwkJfQorCisJCWFueDYzNDUtPmVkaWQgPSBkcm1fZ2V0X2VkaWQo
Y29ubmVjdG9yLCAmYW54NjM0NS0+YXV4LmRkYyk7CisJCWlmICghYW54NjM0NS0+ZWRpZCkKKwkJ
CURSTV9FUlJPUigiRmFpbGVkIHRvIHJlYWQgRURJRCBmcm9tIHBhbmVsXG4iKTsKKworCQllcnIg
PSBkcm1fY29ubmVjdG9yX3VwZGF0ZV9lZGlkX3Byb3BlcnR5KGNvbm5lY3RvciwKKwkJCQkJCQkg
YW54NjM0NS0+ZWRpZCk7CisJCWlmIChlcnIpIHsKKwkJCURSTV9FUlJPUigiRmFpbGVkIHRvIHVw
ZGF0ZSBFRElEIHByb3BlcnR5OiAlZFxuIiwgZXJyKTsKKwkJCWdvdG8gdW5sb2NrOworCQl9CisJ
fQorCisJbnVtX21vZGVzICs9IGRybV9hZGRfZWRpZF9tb2Rlcyhjb25uZWN0b3IsIGFueDYzNDUt
PmVkaWQpOworCit1bmxvY2s6CisJaWYgKHBvd2VyX29mZikKKwkJYW54NjM0NV9wb3dlcm9mZihh
bng2MzQ1KTsKKworCW11dGV4X3VubG9jaygmYW54NjM0NS0+bG9jayk7CisKKwlpZiAoIW51bV9t
b2RlcyAmJiBhbng2MzQ1LT5wYW5lbCkKKwkJbnVtX21vZGVzICs9IGRybV9wYW5lbF9nZXRfbW9k
ZXMoYW54NjM0NS0+cGFuZWwpOworCisJcmV0dXJuIG51bV9tb2RlczsKK30KKworc3RhdGljIGNv
bnN0IHN0cnVjdCBkcm1fY29ubmVjdG9yX2hlbHBlcl9mdW5jcyBhbng2MzQ1X2Nvbm5lY3Rvcl9o
ZWxwZXJfZnVuY3MgPSB7CisJLmdldF9tb2RlcyA9IGFueDYzNDVfZ2V0X21vZGVzLAorfTsKKwor
c3RhdGljIHZvaWQKK2FueDYzNDVfY29ubmVjdG9yX2Rlc3Ryb3koc3RydWN0IGRybV9jb25uZWN0
b3IgKmNvbm5lY3RvcikKK3sKKwlzdHJ1Y3QgYW54NjM0NSAqYW54NjM0NSA9IGNvbm5lY3Rvcl90
b19hbng2MzQ1KGNvbm5lY3Rvcik7CisKKwlpZiAoYW54NjM0NS0+cGFuZWwpCisJCWRybV9wYW5l
bF9kZXRhY2goYW54NjM0NS0+cGFuZWwpOworCWRybV9jb25uZWN0b3JfY2xlYW51cChjb25uZWN0
b3IpOworfQorCitzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9jb25uZWN0b3JfZnVuY3MgYW54NjM0
NV9jb25uZWN0b3JfZnVuY3MgPSB7CisJLmZpbGxfbW9kZXMgPSBkcm1faGVscGVyX3Byb2JlX3Np
bmdsZV9jb25uZWN0b3JfbW9kZXMsCisJLmRlc3Ryb3kgPSBhbng2MzQ1X2Nvbm5lY3Rvcl9kZXN0
cm95LAorCS5yZXNldCA9IGRybV9hdG9taWNfaGVscGVyX2Nvbm5lY3Rvcl9yZXNldCwKKwkuYXRv
bWljX2R1cGxpY2F0ZV9zdGF0ZSA9IGRybV9hdG9taWNfaGVscGVyX2Nvbm5lY3Rvcl9kdXBsaWNh
dGVfc3RhdGUsCisJLmF0b21pY19kZXN0cm95X3N0YXRlID0gZHJtX2F0b21pY19oZWxwZXJfY29u
bmVjdG9yX2Rlc3Ryb3lfc3RhdGUsCit9OworCitzdGF0aWMgaW50IGFueDYzNDVfYnJpZGdlX2F0
dGFjaChzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlKQoreworCXN0cnVjdCBhbng2MzQ1ICphbng2
MzQ1ID0gYnJpZGdlX3RvX2FueDYzNDUoYnJpZGdlKTsKKwlpbnQgZXJyOworCisJaWYgKCFicmlk
Z2UtPmVuY29kZXIpIHsKKwkJRFJNX0VSUk9SKCJQYXJlbnQgZW5jb2RlciBvYmplY3Qgbm90IGZv
dW5kIik7CisJCXJldHVybiAtRU5PREVWOworCX0KKworCS8qIFJlZ2lzdGVyIGF1eCBjaGFubmVs
ICovCisJYW54NjM0NS0+YXV4Lm5hbWUgPSAiRFAtQVVYIjsKKwlhbng2MzQ1LT5hdXguZGV2ID0g
JmFueDYzNDUtPmNsaWVudC0+ZGV2OworCWFueDYzNDUtPmF1eC50cmFuc2ZlciA9IGFueDYzNDVf
YXV4X3RyYW5zZmVyOworCisJZXJyID0gZHJtX2RwX2F1eF9yZWdpc3RlcigmYW54NjM0NS0+YXV4
KTsKKwlpZiAoZXJyIDwgMCkgeworCQlEUk1fRVJST1IoIkZhaWxlZCB0byByZWdpc3RlciBhdXgg
Y2hhbm5lbDogJWRcbiIsIGVycik7CisJCXJldHVybiBlcnI7CisJfQorCisJZXJyID0gZHJtX2Nv
bm5lY3Rvcl9pbml0KGJyaWRnZS0+ZGV2LCAmYW54NjM0NS0+Y29ubmVjdG9yLAorCQkJCSAmYW54
NjM0NV9jb25uZWN0b3JfZnVuY3MsCisJCQkJIERSTV9NT0RFX0NPTk5FQ1RPUl9lRFApOworCWlm
IChlcnIpIHsKKwkJRFJNX0VSUk9SKCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBjb25uZWN0b3I6ICVk
XG4iLCBlcnIpOworCQlyZXR1cm4gZXJyOworCX0KKworCWRybV9jb25uZWN0b3JfaGVscGVyX2Fk
ZCgmYW54NjM0NS0+Y29ubmVjdG9yLAorCQkJCSAmYW54NjM0NV9jb25uZWN0b3JfaGVscGVyX2Z1
bmNzKTsKKworCWVyciA9IGRybV9jb25uZWN0b3JfcmVnaXN0ZXIoJmFueDYzNDUtPmNvbm5lY3Rv
cik7CisJaWYgKGVycikgeworCQlEUk1fRVJST1IoIkZhaWxlZCB0byByZWdpc3RlciBjb25uZWN0
b3I6ICVkXG4iLCBlcnIpOworCQlyZXR1cm4gZXJyOworCX0KKworCWFueDYzNDUtPmNvbm5lY3Rv
ci5wb2xsZWQgPSBEUk1fQ09OTkVDVE9SX1BPTExfSFBEOworCisJZXJyID0gZHJtX2Nvbm5lY3Rv
cl9hdHRhY2hfZW5jb2RlcigmYW54NjM0NS0+Y29ubmVjdG9yLAorCQkJCQkgICBicmlkZ2UtPmVu
Y29kZXIpOworCWlmIChlcnIpIHsKKwkJRFJNX0VSUk9SKCJGYWlsZWQgdG8gbGluayB1cCBjb25u
ZWN0b3IgdG8gZW5jb2RlcjogJWRcbiIsIGVycik7CisJCXJldHVybiBlcnI7CisJfQorCisJaWYg
KGFueDYzNDUtPnBhbmVsKSB7CisJCWVyciA9IGRybV9wYW5lbF9hdHRhY2goYW54NjM0NS0+cGFu
ZWwsICZhbng2MzQ1LT5jb25uZWN0b3IpOworCQlpZiAoZXJyKSB7CisJCQlEUk1fRVJST1IoIkZh
aWxlZCB0byBhdHRhY2ggcGFuZWw6ICVkXG4iLCBlcnIpOworCQkJcmV0dXJuIGVycjsKKwkJfQor
CX0KKworCXJldHVybiAwOworfQorCitzdGF0aWMgZW51bSBkcm1fbW9kZV9zdGF0dXMKK2FueDYz
NDVfYnJpZGdlX21vZGVfdmFsaWQoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSwKKwkJCSAgY29u
c3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGUpCit7CisJaWYgKG1vZGUtPmZsYWdzICYg
RFJNX01PREVfRkxBR19JTlRFUkxBQ0UpCisJCXJldHVybiBNT0RFX05PX0lOVEVSTEFDRTsKKwor
CS8qIE1heCAxMjAwcCBhdCA1LjQgR2h6LCBvbmUgbGFuZSAqLworCWlmIChtb2RlLT5jbG9jayA+
IDE1NDAwMCkKKwkJcmV0dXJuIE1PREVfQ0xPQ0tfSElHSDsKKworCXJldHVybiBNT0RFX09LOwor
fQorCitzdGF0aWMgdm9pZCBhbng2MzQ1X2JyaWRnZV9kaXNhYmxlKHN0cnVjdCBkcm1fYnJpZGdl
ICpicmlkZ2UpCit7CisJc3RydWN0IGFueDYzNDUgKmFueDYzNDUgPSBicmlkZ2VfdG9fYW54NjM0
NShicmlkZ2UpOworCisJLyogUG93ZXIgb2ZmIGFsbCBtb2R1bGVzIGV4Y2VwdCBjb25maWd1cmF0
aW9uIHJlZ2lzdGVycyBhY2Nlc3MgKi8KKwlhbng2MzQ1X3NldF9iaXRzKGFueDYzNDUtPm1hcFtJ
MkNfSURYX1RYQ09NXSwgU1BfUE9XRVJET1dOX0NUUkxfUkVHLAorCQkJIFNQX0hEQ1BfUEQgfCBT
UF9BVURJT19QRCB8IFNQX1ZJREVPX1BEIHwgU1BfTElOS19QRCk7CisJaWYgKGFueDYzNDUtPnBh
bmVsKQorCQlkcm1fcGFuZWxfZGlzYWJsZShhbng2MzQ1LT5wYW5lbCk7CisKKwlpZiAoYW54NjM0
NS0+cG93ZXJlZCkKKwkJYW54NjM0NV9wb3dlcm9mZihhbng2MzQ1KTsKK30KKworc3RhdGljIHZv
aWQgYW54NjM0NV9icmlkZ2VfZW5hYmxlKHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UpCit7CisJ
c3RydWN0IGFueDYzNDUgKmFueDYzNDUgPSBicmlkZ2VfdG9fYW54NjM0NShicmlkZ2UpOworCWlu
dCBlcnI7CisKKwlpZiAoYW54NjM0NS0+cGFuZWwpCisJCWRybV9wYW5lbF9lbmFibGUoYW54NjM0
NS0+cGFuZWwpOworCisJZXJyID0gYW54NjM0NV9zdGFydChhbng2MzQ1KTsKKwlpZiAoZXJyKSB7
CisJCURSTV9FUlJPUigiRmFpbGVkIHRvIGluaXRpYWxpemU6ICVkXG4iLCBlcnIpOworCQlyZXR1
cm47CisJfQorCisJZXJyID0gYW54NjM0NV9jb25maWdfZHBfb3V0cHV0KGFueDYzNDUpOworCWlm
IChlcnIpCisJCURSTV9FUlJPUigiRmFpbGVkIHRvIGVuYWJsZSBEUCBvdXRwdXQ6ICVkXG4iLCBl
cnIpOworfQorCitzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9icmlkZ2VfZnVuY3MgYW54NjM0NV9i
cmlkZ2VfZnVuY3MgPSB7CisJLmF0dGFjaCA9IGFueDYzNDVfYnJpZGdlX2F0dGFjaCwKKwkubW9k
ZV92YWxpZCA9IGFueDYzNDVfYnJpZGdlX21vZGVfdmFsaWQsCisJLmRpc2FibGUgPSBhbng2MzQ1
X2JyaWRnZV9kaXNhYmxlLAorCS5lbmFibGUgPSBhbng2MzQ1X2JyaWRnZV9lbmFibGUsCit9Owor
CitzdGF0aWMgdm9pZCB1bnJlZ2lzdGVyX2kyY19kdW1teV9jbGllbnRzKHN0cnVjdCBhbng2MzQ1
ICphbng2MzQ1KQoreworCXVuc2lnbmVkIGludCBpOworCisJZm9yIChpID0gMTsgaSA8IEFSUkFZ
X1NJWkUoYW54NjM0NS0+aTJjX2NsaWVudHMpOyBpKyspCisJCWlmIChhbng2MzQ1LT5pMmNfY2xp
ZW50c1tpXSAmJgorCQkgICAgYW54NjM0NS0+aTJjX2NsaWVudHNbaV0tPmFkZHIgIT0gYW54NjM0
NS0+Y2xpZW50LT5hZGRyKQorCQkJaTJjX3VucmVnaXN0ZXJfZGV2aWNlKGFueDYzNDUtPmkyY19j
bGllbnRzW2ldKTsKK30KKworc3RhdGljIGNvbnN0IHN0cnVjdCByZWdtYXBfY29uZmlnIGFueDYz
NDVfcmVnbWFwX2NvbmZpZyA9IHsKKwkucmVnX2JpdHMgPSA4LAorCS52YWxfYml0cyA9IDgsCisJ
Lm1heF9yZWdpc3RlciA9IDB4ZmYsCisJLmNhY2hlX3R5cGUgPSBSRUdDQUNIRV9OT05FLAorfTsK
Kworc3RhdGljIGNvbnN0IHUxNiBhbng2MzQ1X2NoaXBpZF9saXN0W10gPSB7CisJMHg2MzQ1LAor
fTsKKworc3RhdGljIGludCBhbng2MzQ1X2kyY19wcm9iZShzdHJ1Y3QgaTJjX2NsaWVudCAqY2xp
ZW50LAorCQkJICAgICBjb25zdCBzdHJ1Y3QgaTJjX2RldmljZV9pZCAqaWQpCit7CisJc3RydWN0
IGFueDYzNDUgKmFueDYzNDU7CisJc3RydWN0IGRldmljZSAqZGV2OworCXVuc2lnbmVkIGludCBp
LCBpZGwsIGlkaCwgdmVyc2lvbjsKKwlib29sIGZvdW5kID0gZmFsc2U7CisJaW50IGVycjsKKwor
CWFueDYzNDUgPSBkZXZtX2t6YWxsb2MoJmNsaWVudC0+ZGV2LCBzaXplb2YoKmFueDYzNDUpLCBH
RlBfS0VSTkVMKTsKKwlpZiAoIWFueDYzNDUpCisJCXJldHVybiAtRU5PTUVNOworCisJbXV0ZXhf
aW5pdCgmYW54NjM0NS0+bG9jayk7CisKKwlhbng2MzQ1LT5icmlkZ2Uub2Zfbm9kZSA9IGNsaWVu
dC0+ZGV2Lm9mX25vZGU7CisKKwlhbng2MzQ1LT5jbGllbnQgPSBjbGllbnQ7CisJaTJjX3NldF9j
bGllbnRkYXRhKGNsaWVudCwgYW54NjM0NSk7CisKKwlkZXYgPSAmYW54NjM0NS0+Y2xpZW50LT5k
ZXY7CisKKwllcnIgPSBkcm1fb2ZfZmluZF9wYW5lbF9vcl9icmlkZ2UoY2xpZW50LT5kZXYub2Zf
bm9kZSwgMSwgMCwKKwkJCQkJICAmYW54NjM0NS0+cGFuZWwsIE5VTEwpOworCWlmIChlcnIgPT0g
LUVQUk9CRV9ERUZFUikKKwkJcmV0dXJuIGVycjsKKworCWlmIChlcnIpCisJCURSTV9ERUJVRygi
Tm8gcGFuZWwgZm91bmRcbiIpOworCisJLyogMS4yViBkaWdpdGFsIGNvcmUgcG93ZXIgcmVndWxh
dG9yICAqLworCWFueDYzNDUtPmR2ZGQxMiA9IGRldm1fcmVndWxhdG9yX2dldChkZXYsICJkdmRk
MTItc3VwcGx5Iik7CisJaWYgKElTX0VSUihhbng2MzQ1LT5kdmRkMTIpKSB7CisJCURSTV9FUlJP
UigiRFZERDEyIHJlZ3VsYXRvciBub3QgZm91bmRcbiIpOworCQlyZXR1cm4gUFRSX0VSUihhbng2
MzQ1LT5kdmRkMTIpOworCX0KKworCS8qIDIuNVYgZGlnaXRhbCBjb3JlIHBvd2VyIHJlZ3VsYXRv
ciAgKi8KKwlhbng2MzQ1LT5kdmRkMjUgPSBkZXZtX3JlZ3VsYXRvcl9nZXQoZGV2LCAiZHZkZDI1
LXN1cHBseSIpOworCWlmIChJU19FUlIoYW54NjM0NS0+ZHZkZDI1KSkgeworCQlEUk1fRVJST1Io
IkRWREQyNSByZWd1bGF0b3Igbm90IGZvdW5kXG4iKTsKKwkJcmV0dXJuIFBUUl9FUlIoYW54NjM0
NS0+ZHZkZDI1KTsKKwl9CisKKwkvKiBHUElPIGZvciBjaGlwIHJlc2V0ICovCisJYW54NjM0NS0+
Z3Bpb2RfcmVzZXQgPSBkZXZtX2dwaW9kX2dldChkZXYsICJyZXNldCIsIEdQSU9EX09VVF9MT1cp
OworCWlmIChJU19FUlIoYW54NjM0NS0+Z3Bpb2RfcmVzZXQpKSB7CisJCURSTV9FUlJPUigiUmVz
ZXQgZ3BpbyBub3QgZm91bmRcbiIpOworCQlyZXR1cm4gUFRSX0VSUihhbng2MzQ1LT5ncGlvZF9y
ZXNldCk7CisJfQorCisJLyogTWFwIHNsYXZlIGFkZHJlc3NlcyBvZiBBTlg2MzQ1ICovCisJZm9y
IChpID0gMDsgaSA8IEkyQ19OVU1fQUREUkVTU0VTOyBpKyspIHsKKwkJaWYgKGFueDYzNDVfaTJj
X2FkZHJlc3Nlc1tpXSA+PiAxICE9IGNsaWVudC0+YWRkcikKKwkJCWFueDYzNDUtPmkyY19jbGll
bnRzW2ldID0gaTJjX25ld19kdW1teShjbGllbnQtPmFkYXB0ZXIsCisJCQkJCQlhbng2MzQ1X2ky
Y19hZGRyZXNzZXNbaV0gPj4gMSk7CisJCWVsc2UKKwkJCWFueDYzNDUtPmkyY19jbGllbnRzW2ld
ID0gY2xpZW50OworCisJCWlmICghYW54NjM0NS0+aTJjX2NsaWVudHNbaV0pIHsKKwkJCWVyciA9
IC1FTk9NRU07CisJCQlEUk1fRVJST1IoIkZhaWxlZCB0byByZXNlcnZlIEkyQyBidXMgJTAyeFxu
IiwKKwkJCQkgIGFueDYzNDVfaTJjX2FkZHJlc3Nlc1tpXSk7CisJCQlnb3RvIGVycl91bnJlZ2lz
dGVyX2kyYzsKKwkJfQorCisJCWFueDYzNDUtPm1hcFtpXSA9IGRldm1fcmVnbWFwX2luaXRfaTJj
KGFueDYzNDUtPmkyY19jbGllbnRzW2ldLAorCQkJCQkJICAgICAgICZhbng2MzQ1X3JlZ21hcF9j
b25maWcpOworCQlpZiAoSVNfRVJSKGFueDYzNDUtPm1hcFtpXSkpIHsKKwkJCWVyciA9IFBUUl9F
UlIoYW54NjM0NS0+bWFwW2ldKTsKKwkJCURSTV9FUlJPUigiRmFpbGVkIHJlZ21hcCBpbml0aWFs
aXphdGlvbiAlMDJ4XG4iLAorCQkJCSAgYW54NjM0NV9pMmNfYWRkcmVzc2VzW2ldKTsKKwkJCWdv
dG8gZXJyX3VucmVnaXN0ZXJfaTJjOworCQl9CisJfQorCisJLyogTG9vayBmb3Igc3VwcG9ydGVk
IGNoaXAgSUQgKi8KKwlhbng2MzQ1X3Bvd2Vyb24oYW54NjM0NSk7CisKKwllcnIgPSByZWdtYXBf
cmVhZChhbng2MzQ1LT5tYXBbSTJDX0lEWF9UWENPTV0sIFNQX0RFVklDRV9JRExfUkVHLAorCQkJ
ICAmaWRsKTsKKwlpZiAoZXJyKQorCQlnb3RvIGVycl9wb3dlcm9mZjsKKworCWVyciA9IHJlZ21h
cF9yZWFkKGFueDYzNDUtPm1hcFtJMkNfSURYX1RYQ09NXSwgU1BfREVWSUNFX0lESF9SRUcsCisJ
CQkgICZpZGgpOworCWlmIChlcnIpCisJCWdvdG8gZXJyX3Bvd2Vyb2ZmOworCisJYW54NjM0NS0+
Y2hpcGlkID0gKHU4KWlkbCB8ICgodTgpaWRoIDw8IDgpOworCisJZXJyID0gcmVnbWFwX3JlYWQo
YW54NjM0NS0+bWFwW0kyQ19JRFhfVFhDT01dLCBTUF9ERVZJQ0VfVkVSU0lPTl9SRUcsCisJCQkg
ICZ2ZXJzaW9uKTsKKwlpZiAoZXJyKQorCQlnb3RvIGVycl9wb3dlcm9mZjsKKworCWZvciAoaSA9
IDA7IGkgPCBBUlJBWV9TSVpFKGFueDYzNDVfY2hpcGlkX2xpc3QpOyBpKyspIHsKKwkJaWYgKGFu
eDYzNDUtPmNoaXBpZCA9PSBhbng2MzQ1X2NoaXBpZF9saXN0W2ldKSB7CisJCQlEUk1fSU5GTygi
Rm91bmQgQU5YJXggKHZlci4gJWQpIGVEUCBUcmFuc21pdHRlclxuIiwKKwkJCQkgYW54NjM0NS0+
Y2hpcGlkLCB2ZXJzaW9uKTsKKwkJCWZvdW5kID0gdHJ1ZTsKKwkJCWJyZWFrOworCQl9CisJfQor
CisJaWYgKCFmb3VuZCkgeworCQlEUk1fRVJST1IoIkFOWCV4ICh2ZXIuICVkKSBub3Qgc3VwcG9y
dGVkIGJ5IHRoaXMgZHJpdmVyXG4iLAorCQkJICBhbng2MzQ1LT5jaGlwaWQsIHZlcnNpb24pOwor
CQllcnIgPSAtRU5PREVWOworCQlnb3RvIGVycl9wb3dlcm9mZjsKKwl9CisKKwlhbng2MzQ1LT5i
cmlkZ2UuZnVuY3MgPSAmYW54NjM0NV9icmlkZ2VfZnVuY3M7CisKKwlkcm1fYnJpZGdlX2FkZCgm
YW54NjM0NS0+YnJpZGdlKTsKKworCWFueDYzNDVfcG93ZXJvZmYoYW54NjM0NSk7CisKKwlyZXR1
cm4gMDsKKworZXJyX3Bvd2Vyb2ZmOgorCWFueDYzNDVfcG93ZXJvZmYoYW54NjM0NSk7CisKK2Vy
cl91bnJlZ2lzdGVyX2kyYzoKKwl1bnJlZ2lzdGVyX2kyY19kdW1teV9jbGllbnRzKGFueDYzNDUp
OworCXJldHVybiBlcnI7Cit9CisKK3N0YXRpYyBpbnQgYW54NjM0NV9pMmNfcmVtb3ZlKHN0cnVj
dCBpMmNfY2xpZW50ICpjbGllbnQpCit7CisJc3RydWN0IGFueDYzNDUgKmFueDYzNDUgPSBpMmNf
Z2V0X2NsaWVudGRhdGEoY2xpZW50KTsKKworCWRybV9icmlkZ2VfcmVtb3ZlKCZhbng2MzQ1LT5i
cmlkZ2UpOworCisJdW5yZWdpc3Rlcl9pMmNfZHVtbXlfY2xpZW50cyhhbng2MzQ1KTsKKworCWtm
cmVlKGFueDYzNDUtPmVkaWQpOworCisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyBjb25zdCBzdHJ1
Y3QgaTJjX2RldmljZV9pZCBhbng2MzQ1X2lkW10gPSB7CisJeyAiYW54NjM0NSIsIDAgfSwKKwl7
IC8qIHNlbnRpbmVsICovIH0KK307CitNT0RVTEVfREVWSUNFX1RBQkxFKGkyYywgYW54NjM0NV9p
ZCk7CisKK3N0YXRpYyBjb25zdCBzdHJ1Y3Qgb2ZfZGV2aWNlX2lkIGFueDYzNDVfbWF0Y2hfdGFi
bGVbXSA9IHsKKwl7IC5jb21wYXRpYmxlID0gImFuYWxvZ2l4LGFueDYzNDUiLCB9LAorCXsgLyog
c2VudGluZWwgKi8gfSwKK307CitNT0RVTEVfREVWSUNFX1RBQkxFKG9mLCBhbng2MzQ1X21hdGNo
X3RhYmxlKTsKKworc3RhdGljIHN0cnVjdCBpMmNfZHJpdmVyIGFueDYzNDVfZHJpdmVyID0gewor
CS5kcml2ZXIgPSB7CisJCSAgIC5uYW1lID0gImFueDYzNDUiLAorCQkgICAub2ZfbWF0Y2hfdGFi
bGUgPSBvZl9tYXRjaF9wdHIoYW54NjM0NV9tYXRjaF90YWJsZSksCisJCSAgfSwKKwkucHJvYmUg
PSBhbng2MzQ1X2kyY19wcm9iZSwKKwkucmVtb3ZlID0gYW54NjM0NV9pMmNfcmVtb3ZlLAorCS5p
ZF90YWJsZSA9IGFueDYzNDVfaWQsCit9OworbW9kdWxlX2kyY19kcml2ZXIoYW54NjM0NV9kcml2
ZXIpOworCitNT0RVTEVfREVTQ1JJUFRJT04oIkFOWDYzNDUgZURQIFRyYW5zbWl0dGVyIGRyaXZl
ciIpOworTU9EVUxFX0FVVEhPUigiSWNlbm93eSBaaGVuZyA8aWNlbm93eUBhb3NjLmlvPiIpOwor
TU9EVUxFX0xJQ0VOU0UoIkdQTCB2MiIpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2Jy
aWRnZS9hbmFsb2dpeC9hbmFsb2dpeC1pMmMtZHB0eC5jIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRn
ZS9hbmFsb2dpeC9hbmFsb2dpeC1pMmMtZHB0eC5jCmluZGV4IDljYjMwOTYyMDMyZS4uNTNiMGU3
M2Q2YTI0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FuYWxv
Z2l4LWkyYy1kcHR4LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9hbmFs
b2dpeC1pMmMtZHB0eC5jCkBAIC0xMTcsNyArMTE3LDcgQEAgc3NpemVfdCBhbnhfYXV4X3RyYW5z
ZmVyKHN0cnVjdCByZWdtYXAgKm1hcF9kcHR4LCBzdHJ1Y3QgZHJtX2RwX2F1eF9tc2cgKm1zZykK
IAllbHNlCS8qIEZvciBub24temVyby1zaXplZCBzZXQgdGhlIGxlbmd0aCBmaWVsZC4gKi8KIAkJ
Y3RybDEgfD0gKG1zZy0+c2l6ZSAtIDEpIDw8IFNQX0FVWF9MRU5HVEhfU0hJRlQ7CiAKLQlpZiAo
KG1zZy0+cmVxdWVzdCAmIERQX0FVWF9JMkNfUkVBRCkgPT0gMCkgeworCWlmICgobXNnLT5zaXpl
ID4gMCkgJiYgKChtc2ctPnJlcXVlc3QgJiBEUF9BVVhfSTJDX1JFQUQpID09IDApKSB7CiAJCS8q
IFdoZW4gV1JJVEUgfCBNT1Qgd3JpdGUgdmFsdWVzIHRvIGRhdGEgYnVmZmVyICovCiAJCWVyciA9
IHJlZ21hcF9idWxrX3dyaXRlKG1hcF9kcHR4LAogCQkJCQlTUF9EUF9CVUZfREFUQTBfUkVHLCBi
dWZmZXIsCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FuYWxv
Z2l4LWkyYy1kcHR4LmggYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FuYWxvZ2l4
LWkyYy1kcHR4LmgKaW5kZXggYzJjYTg1NDYxM2EwLi5iMjlhMGIzYmMyM2MgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9naXgvYW5hbG9naXgtaTJjLWRwdHguaAorKysg
Yi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FuYWxvZ2l4LWkyYy1kcHR4LmgKQEAg
LTc1LDcgKzc1LDExIEBACiAjZGVmaW5lIFNQX0NIQV9TVEEJCQlCSVQoMikKIC8qIEJpdHMgZm9y
IERQIFN5c3RlbSBDb250cm9sIFJlZ2lzdGVyIDMgKi8KICNkZWZpbmUgU1BfSFBEX1NUQVRVUwkJ
CUJJVCg2KQorI2RlZmluZSBTUF9IUERfRk9SQ0UJCQlCSVQoNSkKKyNkZWZpbmUgU1BfSFBEX0NU
UkwJCQlCSVQoNCkKICNkZWZpbmUgU1BfU1RSTV9WQUxJRAkJCUJJVCgyKQorI2RlZmluZSBTUF9T
VFJNX0ZPUkNFCQkJQklUKDEpCisjZGVmaW5lIFNQX1NUUk1fQ1RSTAkJCUJJVCgwKQogLyogQml0
cyBmb3IgRFAgU3lzdGVtIENvbnRyb2wgUmVnaXN0ZXIgNCAqLwogI2RlZmluZSBTUF9FTkhBTkNF
RF9NT0RFCQlCSVQoMykKIApAQCAtMTIwLDYgKzEyNCw5IEBACiAjZGVmaW5lIFNQX0xJTktfQldf
U0VUX01BU0sJCTB4MWYKICNkZWZpbmUgU1BfSU5JVElBTF9TTElNX01fQVVEX1NFTAlCSVQoNSkK
IAorLyogRFAgTGFuZSBDb3VudCBTZXR0aW5nIFJlZ2lzdGVyICovCisjZGVmaW5lIFNQX0RQX0xB
TkVfQ09VTlRfU0VUX1JFRwkweGExCisKIC8qIERQIFRyYWluaW5nIFBhdHRlcm4gU2V0IFJlZ2lz
dGVyICovCiAjZGVmaW5lIFNQX0RQX1RSQUlOSU5HX1BBVFRFUk5fU0VUX1JFRwkweGEyCiAKQEAg
LTEzMyw2ICsxNDAsNyBAQAogCiAvKiBEUCBMaW5rIFRyYWluaW5nIENvbnRyb2wgUmVnaXN0ZXIg
Ki8KICNkZWZpbmUgU1BfRFBfTFRfQ1RSTF9SRUcJCTB4YTgKKyNkZWZpbmUgU1BfRFBfTFRfSU5Q
Uk9HUkVTUwkJMHg4MAogI2RlZmluZSBTUF9MVF9FUlJPUl9UWVBFX01BU0sJCTB4NzAKICMgIGRl
ZmluZSBTUF9MVF9OT19FUlJPUgkJMHgwMAogIyAgZGVmaW5lIFNQX0xUX0FVWF9XUklURV9FUlJP
UgkJMHgwMQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9hbmFs
b2dpeC1pMmMtdHhjb21tb24uaCBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9naXgvYW5h
bG9naXgtaTJjLXR4Y29tbW9uLmgKaW5kZXggN2Q2ODM1NzNlOTcwLi40ODBjOThhMjI1YjEgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9naXgvYW5hbG9naXgtaTJjLXR4
Y29tbW9uLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9hbmFsb2dpeC1p
MmMtdHhjb21tb24uaApAQCAtMTgzLDYgKzE4Myw5IEBACiAjZGVmaW5lIFNQX1ZCSVQJCQkJQklU
KDEpCiAjZGVmaW5lIFNQX0FVRElPX0xBWU9VVAkJCUJJVCgwKQogCisvKiBBbmFsb2cgRGVidWcg
UmVnaXN0ZXIgMSAqLworI2RlZmluZSBTUF9BTkFMT0dfREVCVUcxX1JFRwkJMHhkYworCiAvKiBB
bmFsb2cgRGVidWcgUmVnaXN0ZXIgMiAqLwogI2RlZmluZSBTUF9BTkFMT0dfREVCVUcyX1JFRwkJ
MHhkZAogI2RlZmluZSBTUF9GT1JDRV9TV19PRkZfQllQQVNTCQkweDIwCi0tIAoyLjE2LjQKCl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBt
YWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3Rz
LmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
