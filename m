Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 7EE0710FAB
	for <lists+dri-devel@lfdr.de>; Thu,  2 May 2019 01:03:40 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 40818892BF;
	Wed,  1 May 2019 23:03:38 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-yw1-xc49.google.com (mail-yw1-xc49.google.com
 [IPv6:2607:f8b0:4864:20::c49])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0BD45892B8
 for <dri-devel@lists.freedesktop.org>; Wed,  1 May 2019 23:03:37 +0000 (UTC)
Received: by mail-yw1-xc49.google.com with SMTP id d71so1084711ywd.21
 for <dri-devel@lists.freedesktop.org>; Wed, 01 May 2019 16:03:37 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:date:in-reply-to:message-id:mime-version
 :references:subject:from:to:cc;
 bh=ZGugbd6ry3Wlf19Kn+GtsjZdXaG5gr13Xptu5ffd5W8=;
 b=Ds81xsJvm2WG5EuHygfgos83vKA8iSxCyu4t44DZAmMYLHgGI3S2Sne9QHCT4wr5VH
 vLWHWIjoKpMfXd4sX5kKRhlrDc7XDuQRQGWo9ePk9d7J3KqXuDMIvjpH1gAsZQ48LCK/
 JKGVVocAho1vvENQdtd9Go43+B3+ZXn3J+mM/7ficGK31MFZXpbo6KpxXlfdgW01xe+K
 +YMWWSiV7hNmBr4zi30/vO0wwVLJltvaplZds8kEMoK0IhhKnc5usrAkUB87bgsPxjRR
 rOYmtdPGkVLv2LjLs0Lr5HhWpN4CCGTNnKfz991Bh8daL8HNosov2bU5hizmnSlAhZro
 M6Nw==
X-Gm-Message-State: APjAAAXbLzWD38CZAjc6m2exjotmhAcltYZsKAW1XtTe58H2rep8RrMw
 myR7n3pupukyuTHYGNVW723ww+0Mev11IrugDwOJCw==
X-Google-Smtp-Source: APXvYqzD/aP88Rwq3+lV5P2sQiGmwwwxO51iSW+eD4GJ96LdaOvHlPNRalIRxFHPHpVX9suc+9bmSwJN9Hgpb+Y/smWI9w==
X-Received: by 2002:a25:c5c8:: with SMTP id v191mr422844ybe.52.1556751816142; 
 Wed, 01 May 2019 16:03:36 -0700 (PDT)
Date: Wed,  1 May 2019 16:01:14 -0700
In-Reply-To: <20190501230126.229218-1-brendanhiggins@google.com>
Message-Id: <20190501230126.229218-6-brendanhiggins@google.com>
Mime-Version: 1.0
References: <20190501230126.229218-1-brendanhiggins@google.com>
X-Mailer: git-send-email 2.21.0.593.g511ec345e18-goog
Subject: [PATCH v2 05/17] kunit: test: add the concept of expectations
From: Brendan Higgins <brendanhiggins@google.com>
To: frowand.list@gmail.com, gregkh@linuxfoundation.org, keescook@google.com, 
 kieran.bingham@ideasonboard.com, mcgrof@kernel.org, robh@kernel.org, 
 sboyd@kernel.org, shuah@kernel.org
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=google.com; s=20161025;
 h=date:in-reply-to:message-id:mime-version:references:subject:from:to
 :cc;
 bh=ZGugbd6ry3Wlf19Kn+GtsjZdXaG5gr13Xptu5ffd5W8=;
 b=Blt9AVsNLDcY4dzWPpbbUqOR70Z2yqiMu11f00krd3MJTxoBrHCbZjPNMOfmqUzUlm
 JoQ2gF3twFejCu7TtwthLPhkQmvI+pmE8VakV2hrGG+DX+VgXkE4LGd4TJZlvNeBsZ8B
 GMxgX6Umco53wrVpRiic4BgicoDXY0d3Fhu4T2YzAv7oure8ZU1hPeaq4XIBQw7DROUO
 olkHb0KzDgdTN2n5ayE9AwiKUiGoU7pREdZe80Rc3xCTp3+wMiQjQ0nMpA5mqHfrpEiD
 YDcZh1Anpr8hUvFaGu1+eabGEvECX8y0t7TQJTMyyJqzlSefENyhxfKn//0WzqSrfw7s
 eHCA==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: pmladek@suse.com, linux-doc@vger.kernel.org, amir73il@gmail.com,
 Brendan Higgins <brendanhiggins@google.com>, dri-devel@lists.freedesktop.org,
 Alexander.Levin@microsoft.com, linux-kselftest@vger.kernel.org,
 linux-nvdimm@lists.01.org, khilman@baylibre.com, knut.omang@oracle.com,
 wfg@linux.intel.com, joel@jms.id.au, rientjes@google.com, jdike@addtoit.com,
 dan.carpenter@oracle.com, devicetree@vger.kernel.org,
 linux-kbuild@vger.kernel.org, Tim.Bird@sony.com, linux-um@lists.infradead.org,
 rostedt@goodmis.org, julia.lawall@lip6.fr, dan.j.williams@intel.com,
 kunit-dev@googlegroups.com, richard@nod.at, linux-kernel@vger.kernel.org,
 mpe@ellerman.id.au, linux-fsdevel@vger.kernel.org, logang@deltatee.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QWRkIHN1cHBvcnQgZm9yIGV4cGVjdGF0aW9ucywgd2hpY2ggYWxsb3cgcHJvcGVydGllcyB0byBi
ZSBzcGVjaWZpZWQgYW5kCnRoZW4gdmVyaWZpZWQgaW4gdGVzdHMuCgpTaWduZWQtb2ZmLWJ5OiBC
cmVuZGFuIEhpZ2dpbnMgPGJyZW5kYW5oaWdnaW5zQGdvb2dsZS5jb20+Ci0tLQogaW5jbHVkZS9r
dW5pdC90ZXN0LmggfCA0MTkgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKwoga3VuaXQvdGVzdC5jICAgICAgICAgfCAgMzQgKysrKwogMiBmaWxlcyBjaGFuZ2VkLCA0
NTMgaW5zZXJ0aW9ucygrKQoKZGlmZiAtLWdpdCBhL2luY2x1ZGUva3VuaXQvdGVzdC5oIGIvaW5j
bHVkZS9rdW5pdC90ZXN0LmgKaW5kZXggNDY2OGU4YTYzNTk1NC4uZTQ0MTI3MDU2MWVjZSAxMDA2
NDQKLS0tIGEvaW5jbHVkZS9rdW5pdC90ZXN0LmgKKysrIGIvaW5jbHVkZS9rdW5pdC90ZXN0LmgK
QEAgLTI3Myw0ICsyNzMsNDIzIEBAIHZvaWQgX19wcmludGYoMywgNCkga3VuaXRfcHJpbnRrKGNv
bnN0IGNoYXIgKmxldmVsLAogI2RlZmluZSBrdW5pdF9lcnIodGVzdCwgZm10LCAuLi4pIFwKIAkJ
a3VuaXRfcHJpbnRrKEtFUk5fRVJSLCB0ZXN0LCBmbXQsICMjX19WQV9BUkdTX18pCiAKK3N0YXRp
YyBpbmxpbmUgc3RydWN0IGt1bml0X3N0cmVhbSAqa3VuaXRfZXhwZWN0X3N0YXJ0KHN0cnVjdCBr
dW5pdCAqdGVzdCwKKwkJCQkJCSAgICAgIGNvbnN0IGNoYXIgKmZpbGUsCisJCQkJCQkgICAgICBj
b25zdCBjaGFyICpsaW5lKQoreworCXN0cnVjdCBrdW5pdF9zdHJlYW0gKnN0cmVhbSA9IGt1bml0
X25ld19zdHJlYW0odGVzdCk7CisKKwlrdW5pdF9zdHJlYW1fYWRkKHN0cmVhbSwgIkVYUEVDVEFU
SU9OIEZBSUxFRCBhdCAlczolc1xuXHQiLCBmaWxlLCBsaW5lKTsKKworCXJldHVybiBzdHJlYW07
Cit9CisKK3N0YXRpYyBpbmxpbmUgdm9pZCBrdW5pdF9leHBlY3RfZW5kKHN0cnVjdCBrdW5pdCAq
dGVzdCwKKwkJCQkgICAgYm9vbCBzdWNjZXNzLAorCQkJCSAgICBzdHJ1Y3Qga3VuaXRfc3RyZWFt
ICpzdHJlYW0pCit7CisJaWYgKCFzdWNjZXNzKQorCQl0ZXN0LT5mYWlsKHRlc3QsIHN0cmVhbSk7
CisJZWxzZQorCQlrdW5pdF9zdHJlYW1fY2xlYXIoc3RyZWFtKTsKK30KKworI2RlZmluZSBLVU5J
VF9FWFBFQ1RfU1RBUlQodGVzdCkgXAorCQlrdW5pdF9leHBlY3Rfc3RhcnQodGVzdCwgX19GSUxF
X18sIF9fc3RyaW5naWZ5KF9fTElORV9fKSkKKworI2RlZmluZSBLVU5JVF9FWFBFQ1RfRU5EKHRl
c3QsIHN1Y2Nlc3MsIHN0cmVhbSkgXAorCQlrdW5pdF9leHBlY3RfZW5kKHRlc3QsIHN1Y2Nlc3Ms
IHN0cmVhbSkKKworI2RlZmluZSBLVU5JVF9FWFBFQ1RfTVNHKHRlc3QsIHN1Y2Nlc3MsIG1lc3Nh
Z2UsIGZtdCwgLi4uKSBkbyB7CQkgICAgICAgXAorCXN0cnVjdCBrdW5pdF9zdHJlYW0gKl9fc3Ry
ZWFtID0gS1VOSVRfRVhQRUNUX1NUQVJUKHRlc3QpOwkgICAgICAgXAorCQkJCQkJCQkJICAgICAg
IFwKKwlrdW5pdF9zdHJlYW1fYWRkKF9fc3RyZWFtLCBtZXNzYWdlKTsJCQkJICAgICAgIFwKKwlr
dW5pdF9zdHJlYW1fYWRkKF9fc3RyZWFtLCBmbXQsICMjX19WQV9BUkdTX18pOwkJCSAgICAgICBc
CisJS1VOSVRfRVhQRUNUX0VORCh0ZXN0LCBzdWNjZXNzLCBfX3N0cmVhbSk7CQkJICAgICAgIFwK
K30gd2hpbGUgKDApCisKKyNkZWZpbmUgS1VOSVRfRVhQRUNUKHRlc3QsIHN1Y2Nlc3MsIG1lc3Nh
Z2UpIGRvIHsJCQkgICAgICAgXAorCXN0cnVjdCBrdW5pdF9zdHJlYW0gKl9fc3RyZWFtID0gS1VO
SVRfRVhQRUNUX1NUQVJUKHRlc3QpOwkgICAgICAgXAorCQkJCQkJCQkJICAgICAgIFwKKwlrdW5p
dF9zdHJlYW1fYWRkKF9fc3RyZWFtLCBtZXNzYWdlKTsJCQkJICAgICAgIFwKKwlLVU5JVF9FWFBF
Q1RfRU5EKHRlc3QsIHN1Y2Nlc3MsIF9fc3RyZWFtKTsJCQkgICAgICAgXAorfSB3aGlsZSAoMCkK
KworLyoqCisgKiBLVU5JVF9TVUNDRUVEKCkgLSBBIG5vLW9wIGV4cGVjdGF0aW9uLiBPbmx5IGV4
aXN0cyBmb3IgY29kZSBjbGFyaXR5LgorICogQHRlc3Q6IFRoZSB0ZXN0IGNvbnRleHQgb2JqZWN0
LgorICoKKyAqIFRoZSBvcHBvc2l0ZSBvZiBLVU5JVF9GQUlMKCksIGl0IGlzIGFuIGV4cGVjdGF0
aW9uIHRoYXQgY2Fubm90IGZhaWwuIEluIG90aGVyCisgKiB3b3JkcywgaXQgZG9lcyBub3RoaW5n
IGFuZCBvbmx5IGV4aXN0cyBmb3IgY29kZSBjbGFyaXR5LiBTZWUKKyAqIEtVTklUX0VYUEVDVF9U
UlVFKCkgZm9yIG1vcmUgaW5mb3JtYXRpb24uCisgKi8KKyNkZWZpbmUgS1VOSVRfU1VDQ0VFRCh0
ZXN0KSBkbyB7fSB3aGlsZSAoMCkKKworLyoqCisgKiBLVU5JVF9GQUlMKCkgLSBBbHdheXMgY2F1
c2VzIGEgdGVzdCB0byBmYWlsIHdoZW4gZXZhbHVhdGVkLgorICogQHRlc3Q6IFRoZSB0ZXN0IGNv
bnRleHQgb2JqZWN0LgorICogQGZtdDogYW4gaW5mb3JtYXRpb25hbCBtZXNzYWdlIHRvIGJlIHBy
aW50ZWQgd2hlbiB0aGUgYXNzZXJ0aW9uIGlzIG1hZGUuCisgKiBALi4uOiBzdHJpbmcgZm9ybWF0
IGFyZ3VtZW50cy4KKyAqCisgKiBUaGUgb3Bwb3NpdGUgb2YgS1VOSVRfU1VDQ0VFRCgpLCBpdCBp
cyBhbiBleHBlY3RhdGlvbiB0aGF0IGFsd2F5cyBmYWlscy4gSW4KKyAqIG90aGVyIHdvcmRzLCBp
dCBhbHdheXMgcmVzdWx0cyBpbiBhIGZhaWxlZCBleHBlY3RhdGlvbiwgYW5kIGNvbnNlcXVlbnRs
eQorICogYWx3YXlzIGNhdXNlcyB0aGUgdGVzdCBjYXNlIHRvIGZhaWwgd2hlbiBldmFsdWF0ZWQu
IFNlZSBLVU5JVF9FWFBFQ1RfVFJVRSgpCisgKiBmb3IgbW9yZSBpbmZvcm1hdGlvbi4KKyAqLwor
I2RlZmluZSBLVU5JVF9GQUlMKHRlc3QsIGZtdCwgLi4uKSBkbyB7CQkJCQkgICAgICAgXAorCXN0
cnVjdCBrdW5pdF9zdHJlYW0gKl9fc3RyZWFtID0gS1VOSVRfRVhQRUNUX1NUQVJUKHRlc3QpOwkg
ICAgICAgXAorCQkJCQkJCQkJICAgICAgIFwKKwlrdW5pdF9zdHJlYW1fYWRkKF9fc3RyZWFtLCBm
bXQsICMjX19WQV9BUkdTX18pOwkJCSAgICAgICBcCisJS1VOSVRfRVhQRUNUX0VORCh0ZXN0LCBm
YWxzZSwgX19zdHJlYW0pOwkJCSAgICAgICBcCit9IHdoaWxlICgwKQorCisvKioKKyAqIEtVTklU
X0VYUEVDVF9UUlVFKCkgLSBDYXVzZXMgYSB0ZXN0IGZhaWx1cmUgd2hlbiB0aGUgZXhwcmVzc2lv
biBpcyBub3QgdHJ1ZS4KKyAqIEB0ZXN0OiBUaGUgdGVzdCBjb250ZXh0IG9iamVjdC4KKyAqIEBj
b25kaXRpb246IGFuIGFyYml0cmFyeSBib29sZWFuIGV4cHJlc3Npb24uIFRoZSB0ZXN0IGZhaWxz
IHdoZW4gdGhpcyBkb2VzCisgKiBub3QgZXZhbHVhdGUgdG8gdHJ1ZS4KKyAqCisgKiBUaGlzIGFu
ZCBleHBlY3RhdGlvbnMgb2YgdGhlIGZvcm0gYEtVTklUX0VYUEVDVF8qYCB3aWxsIGNhdXNlIHRo
ZSB0ZXN0IGNhc2UKKyAqIHRvIGZhaWwgd2hlbiB0aGUgc3BlY2lmaWVkIGNvbmRpdGlvbiBpcyBu
b3QgbWV0OyBob3dldmVyLCBpdCB3aWxsIG5vdCBwcmV2ZW50CisgKiB0aGUgdGVzdCBjYXNlIGZy
b20gY29udGludWluZyB0byBydW47IHRoaXMgaXMgb3RoZXJ3aXNlIGtub3duIGFzIGFuCisgKiAq
ZXhwZWN0YXRpb24gZmFpbHVyZSouCisgKi8KKyNkZWZpbmUgS1VOSVRfRVhQRUNUX1RSVUUodGVz
dCwgY29uZGl0aW9uKQkJCQkgICAgICAgXAorCQlLVU5JVF9FWFBFQ1QodGVzdCwgKGNvbmRpdGlv
biksCQkJCSAgICAgICBcCisJCSAgICAgICAiRXhwZWN0ZWQgIiAjY29uZGl0aW9uICIgaXMgdHJ1
ZSwgYnV0IGlzIGZhbHNlLlxuIikKKworI2RlZmluZSBLVU5JVF9FWFBFQ1RfVFJVRV9NU0codGVz
dCwgY29uZGl0aW9uLCBmbXQsIC4uLikJCSAgICAgICBcCisJCUtVTklUX0VYUEVDVF9NU0codGVz
dCwgKGNvbmRpdGlvbiksCQkJICAgICAgIFwKKwkJCQkiRXhwZWN0ZWQgIiAjY29uZGl0aW9uICIg
aXMgdHJ1ZSwgYnV0IGlzIGZhbHNlLlxuIixcCisJCQkJZm10LCAjI19fVkFfQVJHU19fKQorCisv
KioKKyAqIEtVTklUX0VYUEVDVF9GQUxTRSgpIC0gTWFrZXMgYSB0ZXN0IGZhaWx1cmUgd2hlbiB0
aGUgZXhwcmVzc2lvbiBpcyBub3QgZmFsc2UuCisgKiBAdGVzdDogVGhlIHRlc3QgY29udGV4dCBv
YmplY3QuCisgKiBAY29uZGl0aW9uOiBhbiBhcmJpdHJhcnkgYm9vbGVhbiBleHByZXNzaW9uLiBU
aGUgdGVzdCBmYWlscyB3aGVuIHRoaXMgZG9lcworICogbm90IGV2YWx1YXRlIHRvIGZhbHNlLgor
ICoKKyAqIFNldHMgYW4gZXhwZWN0YXRpb24gdGhhdCBAY29uZGl0aW9uIGV2YWx1YXRlcyB0byBm
YWxzZS4gU2VlCisgKiBLVU5JVF9FWFBFQ1RfVFJVRSgpIGZvciBtb3JlIGluZm9ybWF0aW9uLgor
ICovCisjZGVmaW5lIEtVTklUX0VYUEVDVF9GQUxTRSh0ZXN0LCBjb25kaXRpb24pCQkJCSAgICAg
ICBcCisJCUtVTklUX0VYUEVDVCh0ZXN0LCAhKGNvbmRpdGlvbiksCQkJICAgICAgIFwKKwkJICAg
ICAgICJFeHBlY3RlZCAiICNjb25kaXRpb24gIiBpcyBmYWxzZSwgYnV0IGlzIHRydWUuIikKKwor
I2RlZmluZSBLVU5JVF9FWFBFQ1RfRkFMU0VfTVNHKHRlc3QsIGNvbmRpdGlvbiwgZm10LCAuLi4p
CQkgICAgICAgXAorCQlLVU5JVF9FWFBFQ1RfTVNHKHRlc3QsICEoY29uZGl0aW9uKSwJCQkgICAg
ICAgXAorCQkJCSJFeHBlY3RlZCAiICNjb25kaXRpb24gIiBpcyBmYWxzZSwgYnV0IGlzIHRydWUu
XG4iLFwKKwkJCQlmbXQsICMjX19WQV9BUkdTX18pCisKK3ZvaWQga3VuaXRfZXhwZWN0X2JpbmFy
eV9tc2coc3RydWN0IGt1bml0ICp0ZXN0LAorCQkJICAgICBsb25nIGxvbmcgbGVmdCwgY29uc3Qg
Y2hhciAqbGVmdF9uYW1lLAorCQkJICAgICBsb25nIGxvbmcgcmlnaHQsIGNvbnN0IGNoYXIgKnJp
Z2h0X25hbWUsCisJCQkgICAgIGJvb2wgY29tcGFyZV9yZXN1bHQsCisJCQkgICAgIGNvbnN0IGNo
YXIgKmNvbXBhcmVfbmFtZSwKKwkJCSAgICAgY29uc3QgY2hhciAqZmlsZSwKKwkJCSAgICAgY29u
c3QgY2hhciAqbGluZSwKKwkJCSAgICAgY29uc3QgY2hhciAqZm10LCAuLi4pOworCitzdGF0aWMg
aW5saW5lIHZvaWQga3VuaXRfZXhwZWN0X2JpbmFyeShzdHJ1Y3Qga3VuaXQgKnRlc3QsCisJCQkJ
ICAgICAgIGxvbmcgbG9uZyBsZWZ0LCBjb25zdCBjaGFyICpsZWZ0X25hbWUsCisJCQkJICAgICAg
IGxvbmcgbG9uZyByaWdodCwgY29uc3QgY2hhciAqcmlnaHRfbmFtZSwKKwkJCQkgICAgICAgYm9v
bCBjb21wYXJlX3Jlc3VsdCwKKwkJCQkgICAgICAgY29uc3QgY2hhciAqY29tcGFyZV9uYW1lLAor
CQkJCSAgICAgICBjb25zdCBjaGFyICpmaWxlLAorCQkJCSAgICAgICBjb25zdCBjaGFyICpsaW5l
KQoreworCXN0cnVjdCBrdW5pdF9zdHJlYW0gKnN0cmVhbSA9IGt1bml0X2V4cGVjdF9zdGFydCh0
ZXN0LCBmaWxlLCBsaW5lKTsKKworCWt1bml0X3N0cmVhbV9hZGQoc3RyZWFtLAorCQkJICJFeHBl
Y3RlZCAlcyAlcyAlcywgYnV0XG4iLAorCQkJIGxlZnRfbmFtZSwgY29tcGFyZV9uYW1lLCByaWdo
dF9uYW1lKTsKKwlrdW5pdF9zdHJlYW1fYWRkKHN0cmVhbSwgIlx0XHQlcyA9PSAlbGxkXG4iLCBs
ZWZ0X25hbWUsIGxlZnQpOworCWt1bml0X3N0cmVhbV9hZGQoc3RyZWFtLCAiXHRcdCVzID09ICVs
bGRcbiIsIHJpZ2h0X25hbWUsIHJpZ2h0KTsKKworCWt1bml0X2V4cGVjdF9lbmQodGVzdCwgY29t
cGFyZV9yZXN1bHQsIHN0cmVhbSk7Cit9CisKKy8qCisgKiBBIGZhY3RvcnkgbWFjcm8gZm9yIGRl
ZmluaW5nIHRoZSBleHBlY3RhdGlvbnMgZm9yIHRoZSBiYXNpYyBjb21wYXJpc29ucworICogZGVm
aW5lZCBmb3IgdGhlIGJ1aWx0IGluIHR5cGVzLgorICoKKyAqIFVuZm9ydHVuYXRlbHksIHRoZXJl
IGlzIG5vIGNvbW1vbiB0eXBlIHRoYXQgYWxsIHR5cGVzIGNhbiBiZSBwcm9tb3RlZCB0byBmb3IK
KyAqIHdoaWNoIGFsbCB0aGUgYmluYXJ5IG9wZXJhdG9ycyBiZWhhdmUgdGhlIHNhbWUgd2F5IGFz
IGZvciB0aGUgYWN0dWFsIHR5cGVzCisgKiAoZm9yIGV4YW1wbGUsIHRoZXJlIGlzIG5vIHR5cGUg
dGhhdCBsb25nIGxvbmcgYW5kIHVuc2lnbmVkIGxvbmcgbG9uZyBjYW4KKyAqIGJvdGggYmUgY2Fz
dCB0byB3aGVyZSB0aGUgY29tcGFyaXNvbiByZXN1bHQgaXMgcHJlc2VydmVkIGZvciBhbGwgdmFs
dWVzKS4gU28KKyAqIHRoZSBiZXN0IHdlIGNhbiBkbyBpcyBkbyB0aGUgY29tcGFyaXNvbiBpbiB0
aGUgb3JpZ2luYWwgdHlwZXMgYW5kIHRoZW4gY29lcmNlCisgKiBldmVyeXRoaW5nIHRvIGxvbmcg
bG9uZyBmb3IgcHJpbnRpbmc7IHRoaXMgd2F5LCB0aGUgY29tcGFyaXNvbiBiZWhhdmVzCisgKiBj
b3JyZWN0bHkgYW5kIHRoZSBwcmludGVkIG91dCB2YWx1ZSB1c3VhbGx5IG1ha2VzIHNlbnNlIHdp
dGhvdXQKKyAqIGludGVycHJldGF0aW9uLCBidXQgY2FuIGFsd2F5cyBiZSBpbnRlcnByZXR0ZWQg
dG8gZmlndXJlIG91dCB0aGUgYWN0dWFsCisgKiB2YWx1ZS4KKyAqLworI2RlZmluZSBLVU5JVF9F
WFBFQ1RfQklOQVJZKHRlc3QsIGxlZnQsIGNvbmRpdGlvbiwgcmlnaHQpIGRvIHsJCSAgICAgICBc
CisJdHlwZW9mKGxlZnQpIF9fbGVmdCA9IChsZWZ0KTsJCQkJCSAgICAgICBcCisJdHlwZW9mKHJp
Z2h0KSBfX3JpZ2h0ID0gKHJpZ2h0KTsJCQkJICAgICAgIFwKKwlrdW5pdF9leHBlY3RfYmluYXJ5
KHRlc3QsCQkJCQkgICAgICAgXAorCQkJICAgIChsb25nIGxvbmcpIF9fbGVmdCwgI2xlZnQsCQkJ
ICAgICAgIFwKKwkJCSAgICAobG9uZyBsb25nKSBfX3JpZ2h0LCAjcmlnaHQsCQkgICAgICAgXAor
CQkJICAgIF9fbGVmdCBjb25kaXRpb24gX19yaWdodCwgI2NvbmRpdGlvbiwJICAgICAgIFwKKwkJ
CSAgICBfX0ZJTEVfXywgX19zdHJpbmdpZnkoX19MSU5FX18pKTsJCSAgICAgICBcCit9IHdoaWxl
ICgwKQorCisjZGVmaW5lIEtVTklUX0VYUEVDVF9CSU5BUllfTVNHKHRlc3QsIGxlZnQsIGNvbmRp
dGlvbiwgcmlnaHQsIGZtdCwgLi4uKSBkbyB7ICAgXAorCXR5cGVvZihsZWZ0KSBfX2xlZnQgPSAo
bGVmdCk7CQkJCQkgICAgICAgXAorCXR5cGVvZihyaWdodCkgX19yaWdodCA9IChyaWdodCk7CQkJ
CSAgICAgICBcCisJa3VuaXRfZXhwZWN0X2JpbmFyeV9tc2codGVzdCwJCQkJCSAgICAgICBcCisJ
CQkJKGxvbmcgbG9uZykgX19sZWZ0LCAjbGVmdCwJCSAgICAgICBcCisJCQkJKGxvbmcgbG9uZykg
X19yaWdodCwgI3JpZ2h0LAkJICAgICAgIFwKKwkJCQlfX2xlZnQgY29uZGl0aW9uIF9fcmlnaHQs
ICNjb25kaXRpb24sCSAgICAgICBcCisJCQkJX19GSUxFX18sIF9fc3RyaW5naWZ5KF9fTElORV9f
KSwJICAgICAgIFwKKwkJCQlmbXQsICMjX19WQV9BUkdTX18pOwkJCSAgICAgICBcCit9IHdoaWxl
ICgwKQorCisvKioKKyAqIEtVTklUX0VYUEVDVF9FUSgpIC0gU2V0cyBhbiBleHBlY3RhdGlvbiB0
aGF0IEBsZWZ0IGFuZCBAcmlnaHQgYXJlIGVxdWFsLgorICogQHRlc3Q6IFRoZSB0ZXN0IGNvbnRl
eHQgb2JqZWN0LgorICogQGxlZnQ6IGFuIGFyYml0cmFyeSBleHByZXNzaW9uIHRoYXQgZXZhbHVh
dGVzIHRvIGEgcHJpbWl0aXZlIEMgdHlwZS4KKyAqIEByaWdodDogYW4gYXJiaXRyYXJ5IGV4cHJl
c3Npb24gdGhhdCBldmFsdWF0ZXMgdG8gYSBwcmltaXRpdmUgQyB0eXBlLgorICoKKyAqIFNldHMg
YW4gZXhwZWN0YXRpb24gdGhhdCB0aGUgdmFsdWVzIHRoYXQgQGxlZnQgYW5kIEByaWdodCBldmFs
dWF0ZSB0byBhcmUKKyAqIGVxdWFsLiBUaGlzIGlzIHNlbWFudGljYWxseSBlcXVpdmFsZW50IHRv
CisgKiBLVU5JVF9FWFBFQ1RfVFJVRShAdGVzdCwgKEBsZWZ0KSA9PSAoQHJpZ2h0KSkuIFNlZSBL
VU5JVF9FWFBFQ1RfVFJVRSgpIGZvcgorICogbW9yZSBpbmZvcm1hdGlvbi4KKyAqLworI2RlZmlu
ZSBLVU5JVF9FWFBFQ1RfRVEodGVzdCwgbGVmdCwgcmlnaHQpIFwKKwkJS1VOSVRfRVhQRUNUX0JJ
TkFSWSh0ZXN0LCBsZWZ0LCA9PSwgcmlnaHQpCisKKyNkZWZpbmUgS1VOSVRfRVhQRUNUX0VRX01T
Ryh0ZXN0LCBsZWZ0LCByaWdodCwgZm10LCAuLi4pCQkgICAgICAgXAorCQlLVU5JVF9FWFBFQ1Rf
QklOQVJZX01TRyh0ZXN0LAkJCQkgICAgICAgXAorCQkJCQlsZWZ0LAkJCQkgICAgICAgXAorCQkJ
CQk9PSwJCQkJICAgICAgIFwKKwkJCQkJcmlnaHQsCQkJCSAgICAgICBcCisJCQkJCWZtdCwJCQkJ
ICAgICAgIFwKKwkJCQkJIyNfX1ZBX0FSR1NfXykKKworLyoqCisgKiBLVU5JVF9FWFBFQ1RfTkUo
KSAtIEFuIGV4cGVjdGF0aW9uIHRoYXQgQGxlZnQgYW5kIEByaWdodCBhcmUgbm90IGVxdWFsLgor
ICogQHRlc3Q6IFRoZSB0ZXN0IGNvbnRleHQgb2JqZWN0LgorICogQGxlZnQ6IGFuIGFyYml0cmFy
eSBleHByZXNzaW9uIHRoYXQgZXZhbHVhdGVzIHRvIGEgcHJpbWl0aXZlIEMgdHlwZS4KKyAqIEBy
aWdodDogYW4gYXJiaXRyYXJ5IGV4cHJlc3Npb24gdGhhdCBldmFsdWF0ZXMgdG8gYSBwcmltaXRp
dmUgQyB0eXBlLgorICoKKyAqIFNldHMgYW4gZXhwZWN0YXRpb24gdGhhdCB0aGUgdmFsdWVzIHRo
YXQgQGxlZnQgYW5kIEByaWdodCBldmFsdWF0ZSB0byBhcmUgbm90CisgKiBlcXVhbC4gVGhpcyBp
cyBzZW1hbnRpY2FsbHkgZXF1aXZhbGVudCB0bworICogS1VOSVRfRVhQRUNUX1RSVUUoQHRlc3Qs
IChAbGVmdCkgIT0gKEByaWdodCkpLiBTZWUgS1VOSVRfRVhQRUNUX1RSVUUoKSBmb3IKKyAqIG1v
cmUgaW5mb3JtYXRpb24uCisgKi8KKyNkZWZpbmUgS1VOSVRfRVhQRUNUX05FKHRlc3QsIGxlZnQs
IHJpZ2h0KSBcCisJCUtVTklUX0VYUEVDVF9CSU5BUlkodGVzdCwgbGVmdCwgIT0sIHJpZ2h0KQor
CisjZGVmaW5lIEtVTklUX0VYUEVDVF9ORV9NU0codGVzdCwgbGVmdCwgcmlnaHQsIGZtdCwgLi4u
KQkJICAgICAgIFwKKwkJS1VOSVRfRVhQRUNUX0JJTkFSWV9NU0codGVzdCwJCQkJICAgICAgIFwK
KwkJCQkJbGVmdCwJCQkJICAgICAgIFwKKwkJCQkJIT0sCQkJCSAgICAgICBcCisJCQkJCXJpZ2h0
LAkJCQkgICAgICAgXAorCQkJCQlmbXQsCQkJCSAgICAgICBcCisJCQkJCSMjX19WQV9BUkdTX18p
CisKKy8qKgorICogS1VOSVRfRVhQRUNUX0xUKCkgLSBBbiBleHBlY3RhdGlvbiB0aGF0IEBsZWZ0
IGlzIGxlc3MgdGhhbiBAcmlnaHQuCisgKiBAdGVzdDogVGhlIHRlc3QgY29udGV4dCBvYmplY3Qu
CisgKiBAbGVmdDogYW4gYXJiaXRyYXJ5IGV4cHJlc3Npb24gdGhhdCBldmFsdWF0ZXMgdG8gYSBw
cmltaXRpdmUgQyB0eXBlLgorICogQHJpZ2h0OiBhbiBhcmJpdHJhcnkgZXhwcmVzc2lvbiB0aGF0
IGV2YWx1YXRlcyB0byBhIHByaW1pdGl2ZSBDIHR5cGUuCisgKgorICogU2V0cyBhbiBleHBlY3Rh
dGlvbiB0aGF0IHRoZSB2YWx1ZSB0aGF0IEBsZWZ0IGV2YWx1YXRlcyB0byBpcyBsZXNzIHRoYW4g
dGhlCisgKiB2YWx1ZSB0aGF0IEByaWdodCBldmFsdWF0ZXMgdG8uIFRoaXMgaXMgc2VtYW50aWNh
bGx5IGVxdWl2YWxlbnQgdG8KKyAqIEtVTklUX0VYUEVDVF9UUlVFKEB0ZXN0LCAoQGxlZnQpIDwg
KEByaWdodCkpLiBTZWUgS1VOSVRfRVhQRUNUX1RSVUUoKSBmb3IKKyAqIG1vcmUgaW5mb3JtYXRp
b24uCisgKi8KKyNkZWZpbmUgS1VOSVRfRVhQRUNUX0xUKHRlc3QsIGxlZnQsIHJpZ2h0KSBcCisJ
CUtVTklUX0VYUEVDVF9CSU5BUlkodGVzdCwgbGVmdCwgPCwgcmlnaHQpCisKKyNkZWZpbmUgS1VO
SVRfRVhQRUNUX0xUX01TRyh0ZXN0LCBsZWZ0LCByaWdodCwgZm10LCAuLi4pCQkgICAgICAgXAor
CQlLVU5JVF9FWFBFQ1RfQklOQVJZX01TRyh0ZXN0LAkJCQkgICAgICAgXAorCQkJCQlsZWZ0LAkJ
CQkgICAgICAgXAorCQkJCQk8LAkJCQkgICAgICAgXAorCQkJCQlyaWdodCwJCQkJICAgICAgIFwK
KwkJCQkJZm10LAkJCQkgICAgICAgXAorCQkJCQkjI19fVkFfQVJHU19fKQorCisvKioKKyAqIEtV
TklUX0VYUEVDVF9MRSgpIC0gRXhwZWN0cyB0aGF0IEBsZWZ0IGlzIGxlc3MgdGhhbiBvciBlcXVh
bCB0byBAcmlnaHQuCisgKiBAdGVzdDogVGhlIHRlc3QgY29udGV4dCBvYmplY3QuCisgKiBAbGVm
dDogYW4gYXJiaXRyYXJ5IGV4cHJlc3Npb24gdGhhdCBldmFsdWF0ZXMgdG8gYSBwcmltaXRpdmUg
QyB0eXBlLgorICogQHJpZ2h0OiBhbiBhcmJpdHJhcnkgZXhwcmVzc2lvbiB0aGF0IGV2YWx1YXRl
cyB0byBhIHByaW1pdGl2ZSBDIHR5cGUuCisgKgorICogU2V0cyBhbiBleHBlY3RhdGlvbiB0aGF0
IHRoZSB2YWx1ZSB0aGF0IEBsZWZ0IGV2YWx1YXRlcyB0byBpcyBsZXNzIHRoYW4gb3IKKyAqIGVx
dWFsIHRvIHRoZSB2YWx1ZSB0aGF0IEByaWdodCBldmFsdWF0ZXMgdG8uIFNlbWFudGljYWxseSB0
aGlzIGlzIGVxdWl2YWxlbnQKKyAqIHRvIEtVTklUX0VYUEVDVF9UUlVFKEB0ZXN0LCAoQGxlZnQp
IDw9IChAcmlnaHQpKS4gU2VlIEtVTklUX0VYUEVDVF9UUlVFKCkgZm9yCisgKiBtb3JlIGluZm9y
bWF0aW9uLgorICovCisjZGVmaW5lIEtVTklUX0VYUEVDVF9MRSh0ZXN0LCBsZWZ0LCByaWdodCkg
XAorCQlLVU5JVF9FWFBFQ1RfQklOQVJZKHRlc3QsIGxlZnQsIDw9LCByaWdodCkKKworI2RlZmlu
ZSBLVU5JVF9FWFBFQ1RfTEVfTVNHKHRlc3QsIGxlZnQsIHJpZ2h0LCBmbXQsIC4uLikJCSAgICAg
ICBcCisJCUtVTklUX0VYUEVDVF9CSU5BUllfTVNHKHRlc3QsCQkJCSAgICAgICBcCisJCQkJCWxl
ZnQsCQkJCSAgICAgICBcCisJCQkJCTw9LAkJCQkgICAgICAgXAorCQkJCQlyaWdodCwJCQkJICAg
ICAgIFwKKwkJCQkJZm10LAkJCQkgICAgICAgXAorCQkJCQkjI19fVkFfQVJHU19fKQorCisvKioK
KyAqIEtVTklUX0VYUEVDVF9HVCgpIC0gQW4gZXhwZWN0YXRpb24gdGhhdCBAbGVmdCBpcyBncmVh
dGVyIHRoYW4gQHJpZ2h0LgorICogQHRlc3Q6IFRoZSB0ZXN0IGNvbnRleHQgb2JqZWN0LgorICog
QGxlZnQ6IGFuIGFyYml0cmFyeSBleHByZXNzaW9uIHRoYXQgZXZhbHVhdGVzIHRvIGEgcHJpbWl0
aXZlIEMgdHlwZS4KKyAqIEByaWdodDogYW4gYXJiaXRyYXJ5IGV4cHJlc3Npb24gdGhhdCBldmFs
dWF0ZXMgdG8gYSBwcmltaXRpdmUgQyB0eXBlLgorICoKKyAqIFNldHMgYW4gZXhwZWN0YXRpb24g
dGhhdCB0aGUgdmFsdWUgdGhhdCBAbGVmdCBldmFsdWF0ZXMgdG8gaXMgZ3JlYXRlciB0aGFuCisg
KiB0aGUgdmFsdWUgdGhhdCBAcmlnaHQgZXZhbHVhdGVzIHRvLiBUaGlzIGlzIHNlbWFudGljYWxs
eSBlcXVpdmFsZW50IHRvCisgKiBLVU5JVF9FWFBFQ1RfVFJVRShAdGVzdCwgKEBsZWZ0KSA+IChA
cmlnaHQpKS4gU2VlIEtVTklUX0VYUEVDVF9UUlVFKCkgZm9yCisgKiBtb3JlIGluZm9ybWF0aW9u
LgorICovCisjZGVmaW5lIEtVTklUX0VYUEVDVF9HVCh0ZXN0LCBsZWZ0LCByaWdodCkgXAorCQlL
VU5JVF9FWFBFQ1RfQklOQVJZKHRlc3QsIGxlZnQsID4sIHJpZ2h0KQorCisjZGVmaW5lIEtVTklU
X0VYUEVDVF9HVF9NU0codGVzdCwgbGVmdCwgcmlnaHQsIGZtdCwgLi4uKQkJICAgICAgIFwKKwkJ
S1VOSVRfRVhQRUNUX0JJTkFSWV9NU0codGVzdCwJCQkJICAgICAgIFwKKwkJCQkJbGVmdCwJCQkJ
ICAgICAgIFwKKwkJCQkJPiwJCQkJICAgICAgIFwKKwkJCQkJcmlnaHQsCQkJCSAgICAgICBcCisJ
CQkJCWZtdCwJCQkJICAgICAgIFwKKwkJCQkJIyNfX1ZBX0FSR1NfXykKKworLyoqCisgKiBLVU5J
VF9FWFBFQ1RfR0UoKSAtIEV4cGVjdHMgdGhhdCBAbGVmdCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1
YWwgdG8gQHJpZ2h0LgorICogQHRlc3Q6IFRoZSB0ZXN0IGNvbnRleHQgb2JqZWN0LgorICogQGxl
ZnQ6IGFuIGFyYml0cmFyeSBleHByZXNzaW9uIHRoYXQgZXZhbHVhdGVzIHRvIGEgcHJpbWl0aXZl
IEMgdHlwZS4KKyAqIEByaWdodDogYW4gYXJiaXRyYXJ5IGV4cHJlc3Npb24gdGhhdCBldmFsdWF0
ZXMgdG8gYSBwcmltaXRpdmUgQyB0eXBlLgorICoKKyAqIFNldHMgYW4gZXhwZWN0YXRpb24gdGhh
dCB0aGUgdmFsdWUgdGhhdCBAbGVmdCBldmFsdWF0ZXMgdG8gaXMgZ3JlYXRlciB0aGFuCisgKiB0
aGUgdmFsdWUgdGhhdCBAcmlnaHQgZXZhbHVhdGVzIHRvLiBUaGlzIGlzIHNlbWFudGljYWxseSBl
cXVpdmFsZW50IHRvCisgKiBLVU5JVF9FWFBFQ1RfVFJVRShAdGVzdCwgKEBsZWZ0KSA+PSAoQHJp
Z2h0KSkuIFNlZSBLVU5JVF9FWFBFQ1RfVFJVRSgpIGZvcgorICogbW9yZSBpbmZvcm1hdGlvbi4K
KyAqLworI2RlZmluZSBLVU5JVF9FWFBFQ1RfR0UodGVzdCwgbGVmdCwgcmlnaHQpIFwKKwkJS1VO
SVRfRVhQRUNUX0JJTkFSWSh0ZXN0LCBsZWZ0LCA+PSwgcmlnaHQpCisKKyNkZWZpbmUgS1VOSVRf
RVhQRUNUX0dFX01TRyh0ZXN0LCBsZWZ0LCByaWdodCwgZm10LCAuLi4pCQkgICAgICAgXAorCQlL
VU5JVF9FWFBFQ1RfQklOQVJZX01TRyh0ZXN0LAkJCQkgICAgICAgXAorCQkJCQlsZWZ0LAkJCQkg
ICAgICAgXAorCQkJCQk+PSwJCQkJICAgICAgIFwKKwkJCQkJcmlnaHQsCQkJCSAgICAgICBcCisJ
CQkJCWZtdCwJCQkJICAgICAgIFwKKwkJCQkJIyNfX1ZBX0FSR1NfXykKKworLyoqCisgKiBLVU5J
VF9FWFBFQ1RfU1RSRVEoKSAtIEV4cGVjdHMgdGhhdCBzdHJpbmdzIEBsZWZ0IGFuZCBAcmlnaHQg
YXJlIGVxdWFsLgorICogQHRlc3Q6IFRoZSB0ZXN0IGNvbnRleHQgb2JqZWN0LgorICogQGxlZnQ6
IGFuIGFyYml0cmFyeSBleHByZXNzaW9uIHRoYXQgZXZhbHVhdGVzIHRvIGEgbnVsbCB0ZXJtaW5h
dGVkIHN0cmluZy4KKyAqIEByaWdodDogYW4gYXJiaXRyYXJ5IGV4cHJlc3Npb24gdGhhdCBldmFs
dWF0ZXMgdG8gYSBudWxsIHRlcm1pbmF0ZWQgc3RyaW5nLgorICoKKyAqIFNldHMgYW4gZXhwZWN0
YXRpb24gdGhhdCB0aGUgdmFsdWVzIHRoYXQgQGxlZnQgYW5kIEByaWdodCBldmFsdWF0ZSB0byBh
cmUKKyAqIGVxdWFsLiBUaGlzIGlzIHNlbWFudGljYWxseSBlcXVpdmFsZW50IHRvCisgKiBLVU5J
VF9FWFBFQ1RfVFJVRShAdGVzdCwgIXN0cmNtcCgoQGxlZnQpLCAoQHJpZ2h0KSkpLiBTZWUgS1VO
SVRfRVhQRUNUX1RSVUUoKQorICogZm9yIG1vcmUgaW5mb3JtYXRpb24uCisgKi8KKyNkZWZpbmUg
S1VOSVRfRVhQRUNUX1NUUkVRKHRlc3QsIGxlZnQsIHJpZ2h0KSBkbyB7CQkJICAgICAgIFwKKwlz
dHJ1Y3Qga3VuaXRfc3RyZWFtICpfX3N0cmVhbSA9IEtVTklUX0VYUEVDVF9TVEFSVCh0ZXN0KTsJ
ICAgICAgIFwKKwl0eXBlb2YobGVmdCkgX19sZWZ0ID0gKGxlZnQpOwkJCQkJICAgICAgIFwKKwl0
eXBlb2YocmlnaHQpIF9fcmlnaHQgPSAocmlnaHQpOwkJCQkgICAgICAgXAorCQkJCQkJCQkJICAg
ICAgIFwKKwlrdW5pdF9zdHJlYW1fYWRkKF9fc3RyZWFtLCAiRXhwZWN0ZWQgIiAjbGVmdCAiID09
ICIgI3JpZ2h0ICIsIGJ1dFxuIik7IFwKKwlrdW5pdF9zdHJlYW1fYWRkKF9fc3RyZWFtLCAiXHRc
dCVzID09ICVzXG4iLCAjbGVmdCwgX19sZWZ0KTsJICAgICAgIFwKKwlrdW5pdF9zdHJlYW1fYWRk
KF9fc3RyZWFtLCAiXHRcdCVzID09ICVzXG4iLCAjcmlnaHQsIF9fcmlnaHQpOwkgICAgICAgXAor
CQkJCQkJCQkJICAgICAgIFwKKwlLVU5JVF9FWFBFQ1RfRU5EKHRlc3QsICFzdHJjbXAobGVmdCwg
cmlnaHQpLCBfX3N0cmVhbSk7CQkgICAgICAgXAorfSB3aGlsZSAoMCkKKworI2RlZmluZSBLVU5J
VF9FWFBFQ1RfU1RSRVFfTVNHKHRlc3QsIGxlZnQsIHJpZ2h0LCBmbXQsIC4uLikgZG8gewkgICAg
ICAgXAorCXN0cnVjdCBrdW5pdF9zdHJlYW0gKl9fc3RyZWFtID0gS1VOSVRfRVhQRUNUX1NUQVJU
KHRlc3QpOwkgICAgICAgXAorCXR5cGVvZihsZWZ0KSBfX2xlZnQgPSAobGVmdCk7CQkJCQkgICAg
ICAgXAorCXR5cGVvZihyaWdodCkgX19yaWdodCA9IChyaWdodCk7CQkJCSAgICAgICBcCisJCQkJ
CQkJCQkgICAgICAgXAorCWt1bml0X3N0cmVhbV9hZGQoX19zdHJlYW0sICJFeHBlY3RlZCAiICNs
ZWZ0ICIgPT0gIiAjcmlnaHQgIiwgYnV0XG4iKTsgXAorCWt1bml0X3N0cmVhbV9hZGQoX19zdHJl
YW0sICJcdFx0JXMgPT0gJXNcbiIsICNsZWZ0LCBfX2xlZnQpOwkgICAgICAgXAorCWt1bml0X3N0
cmVhbV9hZGQoX19zdHJlYW0sICJcdFx0JXMgPT0gJXNcbiIsICNyaWdodCwgX19yaWdodCk7CSAg
ICAgICBcCisJa3VuaXRfc3RyZWFtX2FkZChfX3N0cmVhbSwgZm10LCAjI19fVkFfQVJHU19fKTsJ
CQkgICAgICAgXAorCQkJCQkJCQkJICAgICAgIFwKKwlLVU5JVF9FWFBFQ1RfRU5EKHRlc3QsICFz
dHJjbXAobGVmdCwgcmlnaHQpLCBfX3N0cmVhbSk7CQkgICAgICAgXAorfSB3aGlsZSAoMCkKKwor
LyoqCisgKiBLVU5JVF9FWFBFQ1RfU1RSTkVRKCkgLSBFeHBlY3RzIHRoYXQgc3RyaW5ncyBAbGVm
dCBhbmQgQHJpZ2h0IGFyZSBub3QgZXF1YWwuCisgKiBAdGVzdDogVGhlIHRlc3QgY29udGV4dCBv
YmplY3QuCisgKiBAbGVmdDogYW4gYXJiaXRyYXJ5IGV4cHJlc3Npb24gdGhhdCBldmFsdWF0ZXMg
dG8gYSBudWxsIHRlcm1pbmF0ZWQgc3RyaW5nLgorICogQHJpZ2h0OiBhbiBhcmJpdHJhcnkgZXhw
cmVzc2lvbiB0aGF0IGV2YWx1YXRlcyB0byBhIG51bGwgdGVybWluYXRlZCBzdHJpbmcuCisgKgor
ICogU2V0cyBhbiBleHBlY3RhdGlvbiB0aGF0IHRoZSB2YWx1ZXMgdGhhdCBAbGVmdCBhbmQgQHJp
Z2h0IGV2YWx1YXRlIHRvIGFyZQorICogbm90IGVxdWFsLiBUaGlzIGlzIHNlbWFudGljYWxseSBl
cXVpdmFsZW50IHRvCisgKiBLVU5JVF9FWFBFQ1RfVFJVRShAdGVzdCwgc3RyY21wKChAbGVmdCks
IChAcmlnaHQpKSkuIFNlZSBLVU5JVF9FWFBFQ1RfVFJVRSgpCisgKiBmb3IgbW9yZSBpbmZvcm1h
dGlvbi4KKyAqLworI2RlZmluZSBLVU5JVF9FWFBFQ1RfU1RSTkVRKHRlc3QsIGxlZnQsIHJpZ2h0
KSBkbyB7CQkJICAgICAgIFwKKwlzdHJ1Y3Qga3VuaXRfc3RyZWFtICpfX3N0cmVhbSA9IEtVTklU
X0VYUEVDVF9TVEFSVCh0ZXN0KTsJICAgICAgIFwKKwl0eXBlb2YobGVmdCkgX19sZWZ0ID0gKGxl
ZnQpOwkJCQkJICAgICAgIFwKKwl0eXBlb2YocmlnaHQpIF9fcmlnaHQgPSAocmlnaHQpOwkJCQkg
ICAgICAgXAorCQkJCQkJCQkJICAgICAgIFwKKwlrdW5pdF9zdHJlYW1fYWRkKF9fc3RyZWFtLCAi
RXhwZWN0ZWQgIiAjbGVmdCAiICE9ICIgI3JpZ2h0ICIsIGJ1dFxuIik7IFwKKwlrdW5pdF9zdHJl
YW1fYWRkKF9fc3RyZWFtLCAiXHRcdCVzID09ICVzXG4iLCAjbGVmdCwgX19sZWZ0KTsJICAgICAg
IFwKKwlrdW5pdF9zdHJlYW1fYWRkKF9fc3RyZWFtLCAiXHRcdCVzID09ICVzXG4iLCAjcmlnaHQs
IF9fcmlnaHQpOwkgICAgICAgXAorCQkJCQkJCQkJICAgICAgIFwKKwlLVU5JVF9FWFBFQ1RfRU5E
KHRlc3QsIHN0cmNtcChsZWZ0LCByaWdodCksIF9fc3RyZWFtKTsJCSAgICAgICBcCit9IHdoaWxl
ICgwKQorCisjZGVmaW5lIEtVTklUX0VYUEVDVF9TVFJORVFfTVNHKHRlc3QsIGxlZnQsIHJpZ2h0
LCBmbXQsIC4uLikgZG8gewkgICAgICAgXAorCXN0cnVjdCBrdW5pdF9zdHJlYW0gKl9fc3RyZWFt
ID0gS1VOSVRfRVhQRUNUX1NUQVJUKHRlc3QpOwkgICAgICAgXAorCXR5cGVvZihsZWZ0KSBfX2xl
ZnQgPSAobGVmdCk7CQkJCQkgICAgICAgXAorCXR5cGVvZihyaWdodCkgX19yaWdodCA9IChyaWdo
dCk7CQkJCSAgICAgICBcCisJCQkJCQkJCQkgICAgICAgXAorCWt1bml0X3N0cmVhbV9hZGQoX19z
dHJlYW0sICJFeHBlY3RlZCAiICNsZWZ0ICIgIT0gIiAjcmlnaHQgIiwgYnV0XG4iKTsgXAorCWt1
bml0X3N0cmVhbV9hZGQoX19zdHJlYW0sICJcdFx0JXMgPT0gJXNcbiIsICNsZWZ0LCBfX2xlZnQp
OwkgICAgICAgXAorCWt1bml0X3N0cmVhbV9hZGQoX19zdHJlYW0sICJcdFx0JXMgPT0gJXNcbiIs
ICNyaWdodCwgX19yaWdodCk7CSAgICAgICBcCisJa3VuaXRfc3RyZWFtX2FkZChfX3N0cmVhbSwg
Zm10LCAjI19fVkFfQVJHU19fKTsJCQkgICAgICAgXAorCQkJCQkJCQkJICAgICAgIFwKKwlLVU5J
VF9FWFBFQ1RfRU5EKHRlc3QsIHN0cmNtcChsZWZ0LCByaWdodCksIF9fc3RyZWFtKTsJCSAgICAg
ICBcCit9IHdoaWxlICgwKQorCisvKioKKyAqIEtVTklUX0VYUEVDVF9OT1RfRVJSX09SX05VTEwo
KSAtIEV4cGVjdHMgdGhhdCBAcHRyIGlzIG5vdCBudWxsIGFuZCBub3QgZXJyLgorICogQHRlc3Q6
IFRoZSB0ZXN0IGNvbnRleHQgb2JqZWN0LgorICogQHB0cjogYW4gYXJiaXRyYXJ5IHBvaW50ZXIu
CisgKgorICogU2V0cyBhbiBleHBlY3RhdGlvbiB0aGF0IHRoZSB2YWx1ZSB0aGF0IEBwdHIgZXZh
bHVhdGVzIHRvIGlzIG5vdCBudWxsIGFuZCBub3QKKyAqIGFuIGVycm5vIHN0b3JlZCBpbiBhIHBv
aW50ZXIuIFRoaXMgaXMgc2VtYW50aWNhbGx5IGVxdWl2YWxlbnQgdG8KKyAqIEtVTklUX0VYUEVD
VF9UUlVFKEB0ZXN0LCAhSVNfRVJSX09SX05VTEwoQHB0cikpLiBTZWUgS1VOSVRfRVhQRUNUX1RS
VUUoKSBmb3IKKyAqIG1vcmUgaW5mb3JtYXRpb24uCisgKi8KKyNkZWZpbmUgS1VOSVRfRVhQRUNU
X05PVF9FUlJfT1JfTlVMTCh0ZXN0LCBwdHIpIGRvIHsJCQkgICAgICAgXAorCXN0cnVjdCBrdW5p
dF9zdHJlYW0gKl9fc3RyZWFtID0gS1VOSVRfRVhQRUNUX1NUQVJUKHRlc3QpOwkgICAgICAgXAor
CXR5cGVvZihwdHIpIF9fcHRyID0gKHB0cik7CQkJCQkgICAgICAgXAorCQkJCQkJCQkJICAgICAg
IFwKKwlpZiAoIV9fcHRyKQkJCQkJCQkgICAgICAgXAorCQlrdW5pdF9zdHJlYW1fYWRkKF9fc3Ry
ZWFtLAkJCQkgICAgICAgXAorCQkJICAgICAgIkV4cGVjdGVkICIgI3B0ciAiIGlzIG5vdCBudWxs
LCBidXQgaXMuIik7ICAgICAgIFwKKwlpZiAoSVNfRVJSKF9fcHRyKSkJCQkJCQkgICAgICAgXAor
CQlrdW5pdF9zdHJlYW1fYWRkKF9fc3RyZWFtLAkJCQkgICAgICAgXAorCQkJICAgICAgIkV4cGVj
dGVkICIgI3B0ciAiIGlzIG5vdCBlcnJvciwgYnV0IGlzOiAlbGQiLCAgIFwKKwkJCSAgICAgIFBU
Ul9FUlIoX19wdHIpKTsJCQkJICAgICAgIFwKKwkJCQkJCQkJCSAgICAgICBcCisJS1VOSVRfRVhQ
RUNUX0VORCh0ZXN0LCAhSVNfRVJSX09SX05VTEwoX19wdHIpLCBfX3N0cmVhbSk7CSAgICAgICBc
Cit9IHdoaWxlICgwKQorCisjZGVmaW5lIEtVTklUX0VYUEVDVF9OT1RfRVJSX09SX05VTExfTVNH
KHRlc3QsIHB0ciwgZm10LCAuLi4pIGRvIHsJICAgICAgIFwKKwlzdHJ1Y3Qga3VuaXRfc3RyZWFt
ICpfX3N0cmVhbSA9IEtVTklUX0VYUEVDVF9TVEFSVCh0ZXN0KTsJICAgICAgIFwKKwl0eXBlb2Yo
cHRyKSBfX3B0ciA9IChwdHIpOwkJCQkJICAgICAgIFwKKwkJCQkJCQkJCSAgICAgICBcCisJaWYg
KCFfX3B0cikgewkJCQkJCQkgICAgICAgXAorCQlrdW5pdF9zdHJlYW1fYWRkKF9fc3RyZWFtLAkJ
CQkgICAgICAgXAorCQkJICAgICAgIkV4cGVjdGVkICIgI3B0ciAiIGlzIG5vdCBudWxsLCBidXQg
aXMuIik7ICAgICAgIFwKKwkJa3VuaXRfc3RyZWFtX2FkZChfX3N0cmVhbSwgZm10LCAjI19fVkFf
QVJHU19fKTsJCSAgICAgICBcCisJfQkJCQkJCQkJICAgICAgIFwKKwlpZiAoSVNfRVJSKF9fcHRy
KSkgewkJCQkJCSAgICAgICBcCisJCWt1bml0X3N0cmVhbV9hZGQoX19zdHJlYW0sCQkJCSAgICAg
ICBcCisJCQkgICAgICAiRXhwZWN0ZWQgIiAjcHRyICIgaXMgbm90IGVycm9yLCBidXQgaXM6ICVs
ZCIsICAgXAorCQkJICAgICAgUFRSX0VSUihfX3B0cikpOwkJCQkgICAgICAgXAorCQkJCQkJCQkJ
ICAgICAgIFwKKwkJa3VuaXRfc3RyZWFtX2FkZChfX3N0cmVhbSwgZm10LCAjI19fVkFfQVJHU19f
KTsJCSAgICAgICBcCisJfQkJCQkJCQkJICAgICAgIFwKKwlLVU5JVF9FWFBFQ1RfRU5EKHRlc3Qs
ICFJU19FUlJfT1JfTlVMTChfX3B0ciksIF9fc3RyZWFtKTsJICAgICAgIFwKK30gd2hpbGUgKDAp
CisKICNlbmRpZiAvKiBfS1VOSVRfVEVTVF9IICovCmRpZmYgLS1naXQgYS9rdW5pdC90ZXN0LmMg
Yi9rdW5pdC90ZXN0LmMKaW5kZXggZjc1NzViMTI3ZTJkZi4uMDFlODJjMThiMmZhNiAxMDA2NDQK
LS0tIGEva3VuaXQvdGVzdC5jCisrKyBiL2t1bml0L3Rlc3QuYwpAQCAtMjY5LDMgKzI2OSwzNyBA
QCB2b2lkIGt1bml0X3ByaW50ayhjb25zdCBjaGFyICpsZXZlbCwKIAogCXZhX2VuZChhcmdzKTsK
IH0KKwordm9pZCBrdW5pdF9leHBlY3RfYmluYXJ5X21zZyhzdHJ1Y3Qga3VuaXQgKnRlc3QsCisJ
CQkgICAgIGxvbmcgbG9uZyBsZWZ0LCBjb25zdCBjaGFyICpsZWZ0X25hbWUsCisJCQkgICAgIGxv
bmcgbG9uZyByaWdodCwgY29uc3QgY2hhciAqcmlnaHRfbmFtZSwKKwkJCSAgICAgYm9vbCBjb21w
YXJlX3Jlc3VsdCwKKwkJCSAgICAgY29uc3QgY2hhciAqY29tcGFyZV9uYW1lLAorCQkJICAgICBj
b25zdCBjaGFyICpmaWxlLAorCQkJICAgICBjb25zdCBjaGFyICpsaW5lLAorCQkJICAgICBjb25z
dCBjaGFyICpmbXQsIC4uLikKK3sKKwlzdHJ1Y3Qga3VuaXRfc3RyZWFtICpzdHJlYW0gPSBrdW5p
dF9leHBlY3Rfc3RhcnQodGVzdCwgZmlsZSwgbGluZSk7CisJc3RydWN0IHZhX2Zvcm1hdCB2YWY7
CisJdmFfbGlzdCBhcmdzOworCisJa3VuaXRfc3RyZWFtX2FkZChzdHJlYW0sCisJCQkgIkV4cGVj
dGVkICVzICVzICVzLCBidXRcbiIsCisJCQkgbGVmdF9uYW1lLCBjb21wYXJlX25hbWUsIHJpZ2h0
X25hbWUpOworCWt1bml0X3N0cmVhbV9hZGQoc3RyZWFtLCAiXHRcdCVzID09ICVsbGRcbiIsIGxl
ZnRfbmFtZSwgbGVmdCk7CisJa3VuaXRfc3RyZWFtX2FkZChzdHJlYW0sICJcdFx0JXMgPT0gJWxs
ZCIsIHJpZ2h0X25hbWUsIHJpZ2h0KTsKKworCWlmIChmbXQpIHsKKwkJdmFfc3RhcnQoYXJncywg
Zm10KTsKKworCQl2YWYuZm10ID0gZm10OworCQl2YWYudmEgPSAmYXJnczsKKworCQlrdW5pdF9z
dHJlYW1fYWRkKHN0cmVhbSwgIlxuJXBWIiwgJnZhZik7CisKKwkJdmFfZW5kKGFyZ3MpOworCX0K
KworCWt1bml0X2V4cGVjdF9lbmQodGVzdCwgY29tcGFyZV9yZXN1bHQsIHN0cmVhbSk7Cit9CisK
LS0gCjIuMjEuMC41OTMuZzUxMWVjMzQ1ZTE4LWdvb2cKCl9fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVs
QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWls
bWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
