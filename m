Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 4711299751
	for <lists+dri-devel@lfdr.de>; Thu, 22 Aug 2019 16:51:14 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 2C8476EB72;
	Thu, 22 Aug 2019 14:51:12 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wr1-x444.google.com (mail-wr1-x444.google.com
 [IPv6:2a00:1450:4864:20::444])
 by gabe.freedesktop.org (Postfix) with ESMTPS id EADC06EB72
 for <dri-devel@lists.freedesktop.org>; Thu, 22 Aug 2019 14:51:10 +0000 (UTC)
Received: by mail-wr1-x444.google.com with SMTP id b16so5696830wrq.9
 for <dri-devel@lists.freedesktop.org>; Thu, 22 Aug 2019 07:51:10 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:mime-version;
 bh=sYSjczNoWV4Mbf20f0Pp5NFOmBBGR+NvPe+/PPVxINE=;
 b=hJNYE2lkIG3jUrQBwRjwa8y8Trd8PIaU5p6M2WCbV2tEPZ7zTZg3LgFszoXx4gh1Aa
 DhO6PfZKsvWkHRsV9IZjP7YoaSC1iUMuVWx/Jw4gX0/pnC0D1/tIRWQwTGiFlzuJsa5e
 2sr3O/thFWC4tWIl+YuMPwHCoRNjw9U6Ss+G4s2nlcSc5hWTU/uxylbXircXPeyoFcog
 90kBwUUCYCr3BjEpyFrhlpPWyO6DvHcuKEEdB8vrJZ7LNVzlggQfZbz2Ivumg9vPqluc
 TWR63DnCrSgd/PVOm+/CtrvRhLHTvxilS8MZb0abP0TPf5/wQlSOnA5d4bUp7owkFlhg
 kkgw==
X-Gm-Message-State: APjAAAXnR+Ojy/Vydw8kCTWxHdC92lGJZKvYDmiT2GWOVTwmeTryS1Lc
 fkR4GYhDnpW3zvJu+9CIeh2jbQ==
X-Google-Smtp-Source: APXvYqzfTSjzLbwuKNUtY6v78FW/2ctxQrhw2Xqenw07uOFUOEtzK1fNH1HxLz4090MZ9K7pud98lA==
X-Received: by 2002:adf:e790:: with SMTP id n16mr23152174wrm.120.1566485469256; 
 Thu, 22 Aug 2019 07:51:09 -0700 (PDT)
Received: from localhost (lmontsouris-657-1-212-31.w90-63.abo.wanadoo.fr.
 [90.63.244.31])
 by smtp.gmail.com with ESMTPSA id q20sm80019022wrc.79.2019.08.22.07.51.07
 (version=TLS1_2 cipher=ECDHE-RSA-CHACHA20-POLY1305 bits=256/256);
 Thu, 22 Aug 2019 07:51:08 -0700 (PDT)
From: Julien Masson <jmasson@baylibre.com>
To: Kevin Hilman <khilman@baylibre.com>,
 Neil Armstrong <narmstrong@baylibre.com>
Subject: [PATCH v2] drm: meson: use match data to detect vpu compatibility
Date: Thu, 22 Aug 2019 16:43:41 +0200
Message-ID: <87imqpz21w.fsf@masson.i-did-not-set--mail-host-address--so-tickle-me>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=baylibre-com.20150623.gappssmtp.com; s=20150623;
 h=from:to:cc:subject:date:message-id:mime-version;
 bh=sYSjczNoWV4Mbf20f0Pp5NFOmBBGR+NvPe+/PPVxINE=;
 b=ibQY2iElk9UjP6L8xWp52IT4HHaO+PIv2+D77xEEJ+E5aUHwFRrhZyYCtKmyTm8hjQ
 qko+DRBY8tEzSL0E0DdXWoAoT35+PEtZdGmmuY2jfMtVcJca2riPKYY61NeJWgMVUg8J
 0W7nsxza06eOTdp7t2wPdqeNUoZhf9Qzxj0fmFNCsyeBR3+4B4xzqfOZJEBhZusEVAsz
 5PZsyf13wjfQbAsY20QCyEeFJkxLV7zYtGcGiUMknLZDajeafNi0gIDnzh3Lnc0Tl8/A
 rVNq68Gi3TicNG+Up9Zsfidz7WA4VUeOLwuF1eI9Vz5YMuSvqcILfXHFY+FnQIeGA5OQ
 pQKA==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Julien Masson <jmasson@baylibre.com>, linux-amlogic@lists.infradead.org,
 dri-devel@lists.freedesktop.org, linux-arm-kernel@lists.infradead.org,
 linux-kernel@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhpcyBwYXRjaCBpbnRyb2R1Y2UgbmV3IGVudW0gd2hpY2ggY29udGFpbnMgYWxsIFZQVSBmYW1p
bHkgKEdYQkIsCkdYTCwgR1hNIGFuZCBHMTJBKS4KVGhpcyBlbnVtIGlzIHVzZWQgdG8gZGV0ZWN0
IHRoZSBWUFUgY29tcGF0aWJsZSB3aXRoIHRoZSBkZXZpY2UuCgpXZSBvbmx5IG5lZWQgdG8gc2V0
IC5kYXRhIHRvIHRoZSBjb3JyZXNwb25kaW5nIGVudW0gaW4gdGhlIGRldmljZQp0YWJsZSwgbm8g
bmVlZCB0byBjaGVjayAuY29tcGF0aWJsZSBzdHJpbmcgYW55bW9yZS4KClNpZ25lZC1vZmYtYnk6
IEp1bGllbiBNYXNzb24gPGptYXNzb25AYmF5bGlicmUuY29tPgotLS0KCkNoYW5nZXMgc2luY2Ug
djEgYXQgWzFdOgotIFNldCAuZGF0YSBmaWVsZCBpbiBzdHJ1Y3QgZHRfbWF0Y2ggaW5zdGVhZCBv
ZiBjb25uZWN0b3JzX21hdGNoCi0gQWRkIGNvbXBhdCBpbiBzdHJ1Y3QgbWVzb25fZHJtIGFuZCBz
ZXQgaXQgdGhlIGNvcnJlc3BvbmRpbmcgZmFtaWx5IGF0IHByb2JlCi0gQ2hlY2sgZGlyZWN0bHkg
Y29tcGF0IGluIG1lc29uX3ZwdV9pc19jb21wYXRpYmxlCgpbMV0gaHR0cHM6Ly9wYXRjaHdvcmsu
a2VybmVsLm9yZy9wYXRjaC8xMTEwODg1NS8KCiBkcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25f
Y3J0Yy5jICAgICAgfCAgMiArLQogZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29uX2Rydi5jICAg
ICAgIHwgMTQgKysrKy0tCiBkcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fZHJ2LmggICAgICAg
fCAxMyArKysrLQogZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29uX2R3X2hkbWkuYyAgIHwgIDIg
Ky0KIGRyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNvbl9vdmVybGF5LmMgICB8ICAyICstCiBkcml2
ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fcGxhbmUuYyAgICAgfCAxMCArKy0tCiBkcml2ZXJzL2dw
dS9kcm0vbWVzb24vbWVzb25fdmNsay5jICAgICAgfCA2NCArKysrKysrKysrKystLS0tLS0tLS0t
LS0tCiBkcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fdmVuYy5jICAgICAgfCAgMiArLQogZHJp
dmVycy9ncHUvZHJtL21lc29uL21lc29uX3ZlbmNfY3Zicy5jIHwgMTAgKystLQogZHJpdmVycy9n
cHUvZHJtL21lc29uL21lc29uX3ZpdS5jICAgICAgIHwgMTAgKystLQogZHJpdmVycy9ncHUvZHJt
L21lc29uL21lc29uX3ZwcC5jICAgICAgIHwgMTAgKystLQogMTEgZmlsZXMgY2hhbmdlZCwgNzcg
aW5zZXJ0aW9ucygrKSwgNjIgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL21lc29uL21lc29uX2NydGMuYyBiL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNvbl9jcnRj
LmMKaW5kZXggYmJhMjUzMjVhYTljLi41N2FlMWMxM2QxZTYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9tZXNvbi9tZXNvbl9jcnRjLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL21lc29uL21l
c29uX2NydGMuYwpAQCAtNTc1LDcgKzU3NSw3IEBAIGludCBtZXNvbl9jcnRjX2NyZWF0ZShzdHJ1
Y3QgbWVzb25fZHJtICpwcml2KQogCQlyZXR1cm4gcmV0OwogCX0KIAotCWlmIChtZXNvbl92cHVf
aXNfY29tcGF0aWJsZShwcml2LCAiYW1sb2dpYyxtZXNvbi1nMTJhLXZwdSIpKSB7CisJaWYgKG1l
c29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsIFZQVV9DT01QQVRJQkxFX0cxMkEpKSB7CiAJCW1l
c29uX2NydGMtPmVuYWJsZV9vc2QxID0gbWVzb25fZzEyYV9jcnRjX2VuYWJsZV9vc2QxOwogCQlt
ZXNvbl9jcnRjLT5lbmFibGVfdmQxID0gbWVzb25fZzEyYV9jcnRjX2VuYWJsZV92ZDE7CiAJCW1l
c29uX2NydGMtPnZpdV9vZmZzZXQgPSBNRVNPTl9HMTJBX1ZJVV9PRkZTRVQ7CmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fZHJ2LmMgYi9kcml2ZXJzL2dwdS9kcm0vbWVz
b24vbWVzb25fZHJ2LmMKaW5kZXggYWUwMTY2MTgxNjA2Li5hMjRmOGRlYzVhZGMgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNvbl9kcnYuYworKysgYi9kcml2ZXJzL2dwdS9k
cm0vbWVzb24vbWVzb25fZHJ2LmMKQEAgLTIwOSw2ICsyMDksOCBAQCBzdGF0aWMgaW50IG1lc29u
X2Rydl9iaW5kX21hc3RlcihzdHJ1Y3QgZGV2aWNlICpkZXYsIGJvb2wgaGFzX2NvbXBvbmVudHMp
CiAJcHJpdi0+ZHJtID0gZHJtOwogCXByaXYtPmRldiA9IGRldjsKIAorCXByaXYtPmNvbXBhdCA9
IChlbnVtIHZwdV9jb21wYXRpYmxlKW9mX2RldmljZV9nZXRfbWF0Y2hfZGF0YShwcml2LT5kZXYp
OworCiAJcmVzID0gcGxhdGZvcm1fZ2V0X3Jlc291cmNlX2J5bmFtZShwZGV2LCBJT1JFU09VUkNF
X01FTSwgInZwdSIpOwogCXJlZ3MgPSBkZXZtX2lvcmVtYXBfcmVzb3VyY2UoZGV2LCByZXMpOwog
CWlmIChJU19FUlIocmVncykpIHsKQEAgLTQ1MywxMCArNDU1LDE0IEBAIHN0YXRpYyBpbnQgbWVz
b25fZHJ2X3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCiB9OwogCiBzdGF0aWMg
Y29uc3Qgc3RydWN0IG9mX2RldmljZV9pZCBkdF9tYXRjaFtdID0gewotCXsgLmNvbXBhdGlibGUg
PSAiYW1sb2dpYyxtZXNvbi1neGJiLXZwdSIgfSwKLQl7IC5jb21wYXRpYmxlID0gImFtbG9naWMs
bWVzb24tZ3hsLXZwdSIgfSwKLQl7IC5jb21wYXRpYmxlID0gImFtbG9naWMsbWVzb24tZ3htLXZw
dSIgfSwKLQl7IC5jb21wYXRpYmxlID0gImFtbG9naWMsbWVzb24tZzEyYS12cHUiIH0sCisJeyAu
Y29tcGF0aWJsZSA9ICJhbWxvZ2ljLG1lc29uLWd4YmItdnB1IiwKKwkgIC5kYXRhICAgICAgID0g
KHZvaWQgKilWUFVfQ09NUEFUSUJMRV9HWEJCIH0sCisJeyAuY29tcGF0aWJsZSA9ICJhbWxvZ2lj
LG1lc29uLWd4bC12cHUiLAorCSAgLmRhdGEgICAgICAgPSAodm9pZCAqKVZQVV9DT01QQVRJQkxF
X0dYTCB9LAorCXsgLmNvbXBhdGlibGUgPSAiYW1sb2dpYyxtZXNvbi1neG0tdnB1IiwKKwkgIC5k
YXRhICAgICAgID0gKHZvaWQgKilWUFVfQ09NUEFUSUJMRV9HWE0gfSwKKwl7IC5jb21wYXRpYmxl
ID0gImFtbG9naWMsbWVzb24tZzEyYS12cHUiLAorCSAgLmRhdGEgICAgICAgPSAodm9pZCAqKVZQ
VV9DT01QQVRJQkxFX0cxMkEgfSwKIAl7fQogfTsKIE1PRFVMRV9ERVZJQ0VfVEFCTEUob2YsIGR0
X21hdGNoKTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNvbl9kcnYuaCBi
L2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNvbl9kcnYuaAppbmRleCBjOWFhZWMxYTg0NmUuLjgy
MGQwN2JkZDQyYSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29uX2Rydi5o
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNvbl9kcnYuaApAQCAtOSw2ICs5LDcgQEAK
IAogI2luY2x1ZGUgPGxpbnV4L2RldmljZS5oPgogI2luY2x1ZGUgPGxpbnV4L29mLmg+CisjaW5j
bHVkZSA8bGludXgvb2ZfZGV2aWNlLmg+CiAjaW5jbHVkZSA8bGludXgvcmVnbWFwLmg+CiAKIHN0
cnVjdCBkcm1fY3J0YzsKQEAgLTE2LDggKzE3LDE2IEBAIHN0cnVjdCBkcm1fZGV2aWNlOwogc3Ry
dWN0IGRybV9wbGFuZTsKIHN0cnVjdCBtZXNvbl9kcm07CiAKK2VudW0gdnB1X2NvbXBhdGlibGUg
eworCVZQVV9DT01QQVRJQkxFX0dYQkIgPSAwLAorCVZQVV9DT01QQVRJQkxFX0dYTCAgPSAxLAor
CVZQVV9DT01QQVRJQkxFX0dYTSAgPSAyLAorCVZQVV9DT01QQVRJQkxFX0cxMkEgPSAzLAorfTsK
Kwogc3RydWN0IG1lc29uX2RybSB7CiAJc3RydWN0IGRldmljZSAqZGV2OworCWVudW0gdnB1X2Nv
bXBhdGlibGUgY29tcGF0OwogCXZvaWQgX19pb21lbSAqaW9fYmFzZTsKIAlzdHJ1Y3QgcmVnbWFw
ICpoaGk7CiAJaW50IHZzeW5jX2lycTsKQEAgLTExNiw5ICsxMjUsOSBAQCBzdHJ1Y3QgbWVzb25f
ZHJtIHsKIH07CiAKIHN0YXRpYyBpbmxpbmUgaW50IG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHN0
cnVjdCBtZXNvbl9kcm0gKnByaXYsCi0JCQkJCSAgY29uc3QgY2hhciAqY29tcGF0KQorCQkJCQkg
IGVudW0gdnB1X2NvbXBhdGlibGUgZmFtaWx5KQogewotCXJldHVybiBvZl9kZXZpY2VfaXNfY29t
cGF0aWJsZShwcml2LT5kZXYtPm9mX25vZGUsIGNvbXBhdCk7CisJcmV0dXJuIHByaXYtPmNvbXBh
dCA9PSBmYW1pbHk7CiB9CiAKICNlbmRpZiAvKiBfX01FU09OX0RSVl9IICovCmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fZHdfaGRtaS5jIGIvZHJpdmVycy9ncHUvZHJt
L21lc29uL21lc29uX2R3X2hkbWkuYwppbmRleCBmODkzZWJkMGI3OTkuLjY4YmJkOTg3MTQ3YiAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29uX2R3X2hkbWkuYworKysgYi9k
cml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fZHdfaGRtaS5jCkBAIC05MzcsNyArOTM3LDcgQEAg
c3RhdGljIGludCBtZXNvbl9kd19oZG1pX2JpbmQoc3RydWN0IGRldmljZSAqZGV2LCBzdHJ1Y3Qg
ZGV2aWNlICptYXN0ZXIsCiAJcmVzZXRfY29udHJvbF9yZXNldChtZXNvbl9kd19oZG1pLT5oZG1p
dHhfcGh5KTsKIAogCS8qIEVuYWJsZSBBUEIzIGZhaWwgb24gZXJyb3IgKi8KLQlpZiAoIW1lc29u
X3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWcxMmEtdnB1IikpIHsKKwlp
ZiAoIW1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsIFZQVV9DT01QQVRJQkxFX0cxMkEpKSB7
CiAJCXdyaXRlbF9iaXRzX3JlbGF4ZWQoQklUKDE1KSwgQklUKDE1KSwKIAkJCQkgICAgbWVzb25f
ZHdfaGRtaS0+aGRtaXR4ICsgSERNSVRYX1RPUF9DVFJMX1JFRyk7CiAJCXdyaXRlbF9iaXRzX3Jl
bGF4ZWQoQklUKDE1KSwgQklUKDE1KSwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tZXNv
bi9tZXNvbl9vdmVybGF5LmMgYi9kcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fb3ZlcmxheS5j
CmluZGV4IDVhYTlkY2I0YjM1ZS4uMjQ2OGIwMjEyZDUyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vbWVzb24vbWVzb25fb3ZlcmxheS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9t
ZXNvbl9vdmVybGF5LmMKQEAgLTUxMyw3ICs1MTMsNyBAQCBzdGF0aWMgdm9pZCBtZXNvbl9vdmVy
bGF5X2F0b21pY19kaXNhYmxlKHN0cnVjdCBkcm1fcGxhbmUgKnBsYW5lLAogCXByaXYtPnZpdS52
ZDFfZW5hYmxlZCA9IGZhbHNlOwogCiAJLyogRGlzYWJsZSBWRDEgKi8KLQlpZiAobWVzb25fdnB1
X2lzX2NvbXBhdGlibGUocHJpdiwgImFtbG9naWMsbWVzb24tZzEyYS12cHUiKSkgeworCWlmICht
ZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCBWUFVfQ09NUEFUSUJMRV9HMTJBKSkgewogCQl3
cml0ZWxfcmVsYXhlZCgwLCBwcml2LT5pb19iYXNlICsgX1JFRyhWRDFfQkxFTkRfU1JDX0NUUkwp
KTsKIAkJd3JpdGVsX3JlbGF4ZWQoMCwgcHJpdi0+aW9fYmFzZSArIF9SRUcoVkQyX0JMRU5EX1NS
Q19DVFJMKSk7CiAJCXdyaXRlbF9yZWxheGVkKDAsIHByaXYtPmlvX2Jhc2UgKyBfUkVHKFZEMV9J
RjBfR0VOX1JFRyArIDB4MTdiMCkpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL21lc29u
L21lc29uX3BsYW5lLmMgYi9kcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fcGxhbmUuYwppbmRl
eCBiOWUxZTExN2ZiODUuLmVkNTQzMjI3YjAwZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L21lc29uL21lc29uX3BsYW5lLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29uX3Bs
YW5lLmMKQEAgLTEzOCw3ICsxMzgsNyBAQCBzdGF0aWMgdm9pZCBtZXNvbl9wbGFuZV9hdG9taWNf
dXBkYXRlKHN0cnVjdCBkcm1fcGxhbmUgKnBsYW5lLAogCQkJCSAgICAgIE9TRF9FTkRJQU5ORVNT
X0xFKTsKIAogCS8qIE9uIEdYQkIsIFVzZSB0aGUgb2xkIG5vbi1IRFIgUkdCMllVViBjb252ZXJ0
ZXIgKi8KLQlpZiAobWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgImFtbG9naWMsbWVzb24t
Z3hiYi12cHUiKSkKKwlpZiAobWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgVlBVX0NPTVBB
VElCTEVfR1hCQikpCiAJCXByaXYtPnZpdS5vc2QxX2JsazBfY2ZnWzBdIHw9IE9TRF9PVVRQVVRf
Q09MT1JfUkdCOwogCiAJc3dpdGNoIChmYi0+Zm9ybWF0LT5mb3JtYXQpIHsKQEAgLTI5Miw3ICsy
OTIsNyBAQCBzdGF0aWMgdm9pZCBtZXNvbl9wbGFuZV9hdG9taWNfdXBkYXRlKHN0cnVjdCBkcm1f
cGxhbmUgKnBsYW5lLAogCXByaXYtPnZpdS5vc2QxX2JsazBfY2ZnWzNdID0gKChkZXN0LngyIC0g
MSkgPDwgMTYpIHwgZGVzdC54MTsKIAlwcml2LT52aXUub3NkMV9ibGswX2NmZ1s0XSA9ICgoZGVz
dC55MiAtIDEpIDw8IDE2KSB8IGRlc3QueTE7CiAKLQlpZiAobWVzb25fdnB1X2lzX2NvbXBhdGli
bGUocHJpdiwgImFtbG9naWMsbWVzb24tZzEyYS12cHUiKSkgeworCWlmIChtZXNvbl92cHVfaXNf
Y29tcGF0aWJsZShwcml2LCBWUFVfQ09NUEFUSUJMRV9HMTJBKSkgewogCQlwcml2LT52aXUub3Nk
X2JsZW5kX2RpbjBfc2NvcGVfaCA9ICgoZGVzdC54MiAtIDEpIDw8IDE2KSB8IGRlc3QueDE7CiAJ
CXByaXYtPnZpdS5vc2RfYmxlbmRfZGluMF9zY29wZV92ID0gKChkZXN0LnkyIC0gMSkgPDwgMTYp
IHwgZGVzdC55MTsKIAkJcHJpdi0+dml1Lm9zYl9ibGVuZDBfc2l6ZSA9IGRzdF9oIDw8IDE2IHwg
ZHN0X3c7CkBAIC0zMDgsOCArMzA4LDggQEAgc3RhdGljIHZvaWQgbWVzb25fcGxhbmVfYXRvbWlj
X3VwZGF0ZShzdHJ1Y3QgZHJtX3BsYW5lICpwbGFuZSwKIAogCWlmICghbWVzb25fcGxhbmUtPmVu
YWJsZWQpIHsKIAkJLyogUmVzZXQgT1NEMSBiZWZvcmUgZW5hYmxpbmcgaXQgb24gR1hMKyBTb0Nz
ICovCi0JCWlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCAiYW1sb2dpYyxtZXNvbi1n
eG0tdnB1IikgfHwKLQkJICAgIG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2lj
LG1lc29uLWd4bC12cHUiKSkKKwkJaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsIFZQ
VV9DT01QQVRJQkxFX0dYTSkgfHwKKwkJICAgIG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYs
IFZQVV9DT01QQVRJQkxFX0dYTCkpCiAJCQltZXNvbl92aXVfb3NkMV9yZXNldChwcml2KTsKIAog
CQltZXNvbl9wbGFuZS0+ZW5hYmxlZCA9IHRydWU7CkBAIC0zMjcsNyArMzI3LDcgQEAgc3RhdGlj
IHZvaWQgbWVzb25fcGxhbmVfYXRvbWljX2Rpc2FibGUoc3RydWN0IGRybV9wbGFuZSAqcGxhbmUs
CiAJc3RydWN0IG1lc29uX2RybSAqcHJpdiA9IG1lc29uX3BsYW5lLT5wcml2OwogCiAJLyogRGlz
YWJsZSBPU0QxICovCi0JaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2lj
LG1lc29uLWcxMmEtdnB1IikpCisJaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsIFZQ
VV9DT01QQVRJQkxFX0cxMkEpKQogCQl3cml0ZWxfYml0c19yZWxheGVkKFZJVV9PU0QxX1BPU1RC
TERfU1JDX09TRDEsIDAsCiAJCQkJICAgIHByaXYtPmlvX2Jhc2UgKyBfUkVHKE9TRDFfQkxFTkRf
U1JDX0NUUkwpKTsKIAllbHNlCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVz
b25fdmNsay5jIGIvZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29uX3ZjbGsuYwppbmRleCA4Njky
MzFjOTM2MTcuLmFjNDkxYTc4MTk1MiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL21lc29u
L21lc29uX3ZjbGsuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fdmNsay5jCkBA
IC0yNDIsNyArMjQyLDcgQEAgc3RhdGljIHZvaWQgbWVzb25fdmVuY2lfY3Zic19jbG9ja19jb25m
aWcoc3RydWN0IG1lc29uX2RybSAqcHJpdikKIAl1bnNpZ25lZCBpbnQgdmFsOwogCiAJLyogU2V0
dXAgUExMIHRvIG91dHB1dCAxLjQ4NUdIeiAqLwotCWlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJs
ZShwcml2LCAiYW1sb2dpYyxtZXNvbi1neGJiLXZwdSIpKSB7CisJaWYgKG1lc29uX3ZwdV9pc19j
b21wYXRpYmxlKHByaXYsIFZQVV9DT01QQVRJQkxFX0dYQkIpKSB7CiAJCXJlZ21hcF93cml0ZShw
cml2LT5oaGksIEhISV9IRE1JX1BMTF9DTlRMLCAweDU4MDAwMjNkKTsKIAkJcmVnbWFwX3dyaXRl
KHByaXYtPmhoaSwgSEhJX0hETUlfUExMX0NOVEwyLCAweDAwNDA0ZTAwKTsKIAkJcmVnbWFwX3dy
aXRlKHByaXYtPmhoaSwgSEhJX0hETUlfUExMX0NOVEwzLCAweDBkNWM1MDkxKTsKQEAgLTI1NCw4
ICsyNTQsOCBAQCBzdGF0aWMgdm9pZCBtZXNvbl92ZW5jaV9jdmJzX2Nsb2NrX2NvbmZpZyhzdHJ1
Y3QgbWVzb25fZHJtICpwcml2KQogCQkvKiBQb2xsIGZvciBsb2NrIGJpdCAqLwogCQlyZWdtYXBf
cmVhZF9wb2xsX3RpbWVvdXQocHJpdi0+aGhpLCBISElfSERNSV9QTExfQ05UTCwgdmFsLAogCQkJ
CQkgKHZhbCAmIEhETUlfUExMX0xPQ0spLCAxMCwgMCk7Ci0JfSBlbHNlIGlmIChtZXNvbl92cHVf
aXNfY29tcGF0aWJsZShwcml2LCAiYW1sb2dpYyxtZXNvbi1neG0tdnB1IikgfHwKLQkJICAgbWVz
b25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgImFtbG9naWMsbWVzb24tZ3hsLXZwdSIpKSB7CisJ
fSBlbHNlIGlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCBWUFVfQ09NUEFUSUJMRV9H
WE0pIHx8CisJCSAgIG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsIFZQVV9DT01QQVRJQkxF
X0dYTCkpIHsKIAkJcmVnbWFwX3dyaXRlKHByaXYtPmhoaSwgSEhJX0hETUlfUExMX0NOVEwsIDB4
NDAwMDAyN2IpOwogCQlyZWdtYXBfd3JpdGUocHJpdi0+aGhpLCBISElfSERNSV9QTExfQ05UTDIs
IDB4ODAwY2IzMDApOwogCQlyZWdtYXBfd3JpdGUocHJpdi0+aGhpLCBISElfSERNSV9QTExfQ05U
TDMsIDB4YTYyMTI4NDQpOwpAQCAtMjcyLDcgKzI3Miw3IEBAIHN0YXRpYyB2b2lkIG1lc29uX3Zl
bmNpX2N2YnNfY2xvY2tfY29uZmlnKHN0cnVjdCBtZXNvbl9kcm0gKnByaXYpCiAJCS8qIFBvbGwg
Zm9yIGxvY2sgYml0ICovCiAJCXJlZ21hcF9yZWFkX3BvbGxfdGltZW91dChwcml2LT5oaGksIEhI
SV9IRE1JX1BMTF9DTlRMLCB2YWwsCiAJCQkJCSAodmFsICYgSERNSV9QTExfTE9DSyksIDEwLCAw
KTsKLQl9IGVsc2UgaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2ljLG1l
c29uLWcxMmEtdnB1IikpIHsKKwl9IGVsc2UgaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHBy
aXYsIFZQVV9DT01QQVRJQkxFX0cxMkEpKSB7CiAJCXJlZ21hcF93cml0ZShwcml2LT5oaGksIEhI
SV9IRE1JX1BMTF9DTlRMLCAweDFhMDUwNGY3KTsKIAkJcmVnbWFwX3dyaXRlKHByaXYtPmhoaSwg
SEhJX0hETUlfUExMX0NOVEwyLCAweDAwMDEwMDAwKTsKIAkJcmVnbWFwX3dyaXRlKHByaXYtPmho
aSwgSEhJX0hETUlfUExMX0NOVEwzLCAweDAwMDAwMDAwKTsKQEAgLTMwMCw3ICszMDAsNyBAQCBz
dGF0aWMgdm9pZCBtZXNvbl92ZW5jaV9jdmJzX2Nsb2NrX2NvbmZpZyhzdHJ1Y3QgbWVzb25fZHJt
ICpwcml2KQogCQkJCVZDTEsyX0RJVl9NQVNLLCAoNTUgLSAxKSk7CiAKIAkvKiBzZWxlY3Qgdmlk
X3BsbCBmb3IgdmNsazIgKi8KLQlpZiAobWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgImFt
bG9naWMsbWVzb24tZzEyYS12cHUiKSkKKwlpZiAobWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJp
diwgVlBVX0NPTVBBVElCTEVfRzEyQSkpCiAJCXJlZ21hcF91cGRhdGVfYml0cyhwcml2LT5oaGks
IEhISV9WSUlEX0NMS19DTlRMLAogCQkJCQlWQ0xLMl9TRUxfTUFTSywgKDAgPDwgVkNMSzJfU0VM
X1NISUZUKSk7CiAJZWxzZQpAQCAtNDU1LDcgKzQ1NSw3IEBAIHZvaWQgbWVzb25faGRtaV9wbGxf
c2V0X3BhcmFtcyhzdHJ1Y3QgbWVzb25fZHJtICpwcml2LCB1bnNpZ25lZCBpbnQgbSwKIHsKIAl1
bnNpZ25lZCBpbnQgdmFsOwogCi0JaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJh
bWxvZ2ljLG1lc29uLWd4YmItdnB1IikpIHsKKwlpZiAobWVzb25fdnB1X2lzX2NvbXBhdGlibGUo
cHJpdiwgVlBVX0NPTVBBVElCTEVfR1hCQikpIHsKIAkJcmVnbWFwX3dyaXRlKHByaXYtPmhoaSwg
SEhJX0hETUlfUExMX0NOVEwsIDB4NTgwMDAyMDAgfCBtKTsKIAkJaWYgKGZyYWMpCiAJCQlyZWdt
YXBfd3JpdGUocHJpdi0+aGhpLCBISElfSERNSV9QTExfQ05UTDIsCkBAIC00NzUsOCArNDc1LDgg
QEAgdm9pZCBtZXNvbl9oZG1pX3BsbF9zZXRfcGFyYW1zKHN0cnVjdCBtZXNvbl9kcm0gKnByaXYs
IHVuc2lnbmVkIGludCBtLAogCQkvKiBQb2xsIGZvciBsb2NrIGJpdCAqLwogCQlyZWdtYXBfcmVh
ZF9wb2xsX3RpbWVvdXQocHJpdi0+aGhpLCBISElfSERNSV9QTExfQ05UTCwKIAkJCQkJIHZhbCwg
KHZhbCAmIEhETUlfUExMX0xPQ0spLCAxMCwgMCk7Ci0JfSBlbHNlIGlmIChtZXNvbl92cHVfaXNf
Y29tcGF0aWJsZShwcml2LCAiYW1sb2dpYyxtZXNvbi1neG0tdnB1IikgfHwKLQkJICAgbWVzb25f
dnB1X2lzX2NvbXBhdGlibGUocHJpdiwgImFtbG9naWMsbWVzb24tZ3hsLXZwdSIpKSB7CisJfSBl
bHNlIGlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCBWUFVfQ09NUEFUSUJMRV9HWE0p
IHx8CisJCSAgIG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsIFZQVV9DT01QQVRJQkxFX0dY
TCkpIHsKIAkJcmVnbWFwX3dyaXRlKHByaXYtPmhoaSwgSEhJX0hETUlfUExMX0NOVEwsIDB4NDAw
MDAyMDAgfCBtKTsKIAkJcmVnbWFwX3dyaXRlKHByaXYtPmhoaSwgSEhJX0hETUlfUExMX0NOVEwy
LCAweDgwMGNiMDAwIHwgZnJhYyk7CiAJCXJlZ21hcF93cml0ZShwcml2LT5oaGksIEhISV9IRE1J
X1BMTF9DTlRMMywgMHg4NjBmMzBjNCk7CkBAIC00OTMsNyArNDkzLDcgQEAgdm9pZCBtZXNvbl9o
ZG1pX3BsbF9zZXRfcGFyYW1zKHN0cnVjdCBtZXNvbl9kcm0gKnByaXYsIHVuc2lnbmVkIGludCBt
LAogCQkvKiBQb2xsIGZvciBsb2NrIGJpdCAqLwogCQlyZWdtYXBfcmVhZF9wb2xsX3RpbWVvdXQo
cHJpdi0+aGhpLCBISElfSERNSV9QTExfQ05UTCwgdmFsLAogCQkJCSh2YWwgJiBIRE1JX1BMTF9M
T0NLKSwgMTAsIDApOwotCX0gZWxzZSBpZiAobWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwg
ImFtbG9naWMsbWVzb24tZzEyYS12cHUiKSkgeworCX0gZWxzZSBpZiAobWVzb25fdnB1X2lzX2Nv
bXBhdGlibGUocHJpdiwgVlBVX0NPTVBBVElCTEVfRzEyQSkpIHsKIAkJcmVnbWFwX3dyaXRlKHBy
aXYtPmhoaSwgSEhJX0hETUlfUExMX0NOVEwsIDB4MGIzYTA0MDAgfCBtKTsKIAogCQkvKiBFbmFi
bGUgYW5kIHJlc2V0ICovCkBAIC01NDUsMzYgKzU0NSwzNiBAQCB2b2lkIG1lc29uX2hkbWlfcGxs
X3NldF9wYXJhbXMoc3RydWN0IG1lc29uX2RybSAqcHJpdiwgdW5zaWduZWQgaW50IG0sCiAJCX0g
d2hpbGUoMSk7CiAJfQogCi0JaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxv
Z2ljLG1lc29uLWd4YmItdnB1IikpCisJaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYs
IFZQVV9DT01QQVRJQkxFX0dYQkIpKQogCQlyZWdtYXBfdXBkYXRlX2JpdHMocHJpdi0+aGhpLCBI
SElfSERNSV9QTExfQ05UTDIsCiAJCQkJMyA8PCAxNiwgcGxsX29kX3RvX3JlZyhvZDEpIDw8IDE2
KTsKLQllbHNlIGlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCAiYW1sb2dpYyxtZXNv
bi1neG0tdnB1IikgfHwKLQkJIG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2lj
LG1lc29uLWd4bC12cHUiKSkKKwllbHNlIGlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2
LCBWUFVfQ09NUEFUSUJMRV9HWE0pIHx8CisJCSBtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2
LCBWUFVfQ09NUEFUSUJMRV9HWEwpKQogCQlyZWdtYXBfdXBkYXRlX2JpdHMocHJpdi0+aGhpLCBI
SElfSERNSV9QTExfQ05UTDMsCiAJCQkJMyA8PCAyMSwgcGxsX29kX3RvX3JlZyhvZDEpIDw8IDIx
KTsKLQllbHNlIGlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCAiYW1sb2dpYyxtZXNv
bi1nMTJhLXZwdSIpKQorCWVsc2UgaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsIFZQ
VV9DT01QQVRJQkxFX0cxMkEpKQogCQlyZWdtYXBfdXBkYXRlX2JpdHMocHJpdi0+aGhpLCBISElf
SERNSV9QTExfQ05UTCwKIAkJCQkzIDw8IDE2LCBwbGxfb2RfdG9fcmVnKG9kMSkgPDwgMTYpOwog
Ci0JaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWd4YmIt
dnB1IikpCisJaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsIFZQVV9DT01QQVRJQkxF
X0dYQkIpKQogCQlyZWdtYXBfdXBkYXRlX2JpdHMocHJpdi0+aGhpLCBISElfSERNSV9QTExfQ05U
TDIsCiAJCQkJMyA8PCAyMiwgcGxsX29kX3RvX3JlZyhvZDIpIDw8IDIyKTsKLQllbHNlIGlmICht
ZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCAiYW1sb2dpYyxtZXNvbi1neG0tdnB1IikgfHwK
LQkJIG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWd4bC12cHUi
KSkKKwllbHNlIGlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCBWUFVfQ09NUEFUSUJM
RV9HWE0pIHx8CisJCSBtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCBWUFVfQ09NUEFUSUJM
RV9HWEwpKQogCQlyZWdtYXBfdXBkYXRlX2JpdHMocHJpdi0+aGhpLCBISElfSERNSV9QTExfQ05U
TDMsCiAJCQkJMyA8PCAyMywgcGxsX29kX3RvX3JlZyhvZDIpIDw8IDIzKTsKLQllbHNlIGlmICht
ZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCAiYW1sb2dpYyxtZXNvbi1nMTJhLXZwdSIpKQor
CWVsc2UgaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsIFZQVV9DT01QQVRJQkxFX0cx
MkEpKQogCQlyZWdtYXBfdXBkYXRlX2JpdHMocHJpdi0+aGhpLCBISElfSERNSV9QTExfQ05UTCwK
IAkJCQkzIDw8IDE4LCBwbGxfb2RfdG9fcmVnKG9kMikgPDwgMTgpOwogCi0JaWYgKG1lc29uX3Zw
dV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWd4YmItdnB1IikpCisJaWYgKG1l
c29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsIFZQVV9DT01QQVRJQkxFX0dYQkIpKQogCQlyZWdt
YXBfdXBkYXRlX2JpdHMocHJpdi0+aGhpLCBISElfSERNSV9QTExfQ05UTDIsCiAJCQkJMyA8PCAx
OCwgcGxsX29kX3RvX3JlZyhvZDMpIDw8IDE4KTsKLQllbHNlIGlmIChtZXNvbl92cHVfaXNfY29t
cGF0aWJsZShwcml2LCAiYW1sb2dpYyxtZXNvbi1neG0tdnB1IikgfHwKLQkJIG1lc29uX3ZwdV9p
c19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWd4bC12cHUiKSkKKwllbHNlIGlmICht
ZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCBWUFVfQ09NUEFUSUJMRV9HWE0pIHx8CisJCSBt
ZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCBWUFVfQ09NUEFUSUJMRV9HWEwpKQogCQlyZWdt
YXBfdXBkYXRlX2JpdHMocHJpdi0+aGhpLCBISElfSERNSV9QTExfQ05UTDMsCiAJCQkJMyA8PCAx
OSwgcGxsX29kX3RvX3JlZyhvZDMpIDw8IDE5KTsKLQllbHNlIGlmIChtZXNvbl92cHVfaXNfY29t
cGF0aWJsZShwcml2LCAiYW1sb2dpYyxtZXNvbi1nMTJhLXZwdSIpKQorCWVsc2UgaWYgKG1lc29u
X3ZwdV9pc19jb21wYXRpYmxlKHByaXYsIFZQVV9DT01QQVRJQkxFX0cxMkEpKQogCQlyZWdtYXBf
dXBkYXRlX2JpdHMocHJpdi0+aGhpLCBISElfSERNSV9QTExfQ05UTCwKIAkJCQkzIDw8IDIwLCBw
bGxfb2RfdG9fcmVnKG9kMykgPDwgMjApOwogfQpAQCAtNTg1LDcgKzU4NSw3IEBAIHN0YXRpYyB1
bnNpZ25lZCBpbnQgbWVzb25faGRtaV9wbGxfZ2V0X20oc3RydWN0IG1lc29uX2RybSAqcHJpdiwK
IAkJCQkJIHVuc2lnbmVkIGludCBwbGxfZnJlcSkKIHsKIAkvKiBUaGUgR1hCQiBQTEwgaGFzIGEg
LzIgcHJlLW11bHRpcGxpZXIgKi8KLQlpZiAobWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwg
ImFtbG9naWMsbWVzb24tZ3hiYi12cHUiKSkKKwlpZiAobWVzb25fdnB1X2lzX2NvbXBhdGlibGUo
cHJpdiwgVlBVX0NPTVBBVElCTEVfR1hCQikpCiAJCXBsbF9mcmVxIC89IDI7CiAKIAlyZXR1cm4g
cGxsX2ZyZXEgLyBYVEFMX0ZSRVE7CkBAIC02MDUsMTIgKzYwNSwxMiBAQCBzdGF0aWMgdW5zaWdu
ZWQgaW50IG1lc29uX2hkbWlfcGxsX2dldF9mcmFjKHN0cnVjdCBtZXNvbl9kcm0gKnByaXYsCiAJ
dW5zaWduZWQgaW50IGZyYWM7CiAKIAkvKiBUaGUgR1hCQiBQTEwgaGFzIGEgLzIgcHJlLW11bHRp
cGxpZXIgYW5kIGEgbGFyZ2VyIEZSQUMgd2lkdGggKi8KLQlpZiAobWVzb25fdnB1X2lzX2NvbXBh
dGlibGUocHJpdiwgImFtbG9naWMsbWVzb24tZ3hiYi12cHUiKSkgeworCWlmIChtZXNvbl92cHVf
aXNfY29tcGF0aWJsZShwcml2LCBWUFVfQ09NUEFUSUJMRV9HWEJCKSkgewogCQlmcmFjX21heCA9
IEhETUlfRlJBQ19NQVhfR1hCQjsKIAkJcGFyZW50X2ZyZXEgKj0gMjsKIAl9CiAKLQlpZiAobWVz
b25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgImFtbG9naWMsbWVzb24tZzEyYS12cHUiKSkKKwlp
ZiAobWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgVlBVX0NPTVBBVElCTEVfRzEyQSkpCiAJ
CWZyYWNfbWF4ID0gSERNSV9GUkFDX01BWF9HMTJBOwogCiAJLyogV2UgY2FuIGhhdmUgYSBwZXJm
ZWN0IG1hdGNoICEqLwpAQCAtNjMxLDE1ICs2MzEsMTUgQEAgc3RhdGljIGJvb2wgbWVzb25faGRt
aV9wbGxfdmFsaWRhdGVfcGFyYW1zKHN0cnVjdCBtZXNvbl9kcm0gKnByaXYsCiAJCQkJCSAgIHVu
c2lnbmVkIGludCBtLAogCQkJCQkgICB1bnNpZ25lZCBpbnQgZnJhYykKIHsKLQlpZiAobWVzb25f
dnB1X2lzX2NvbXBhdGlibGUocHJpdiwgImFtbG9naWMsbWVzb24tZ3hiYi12cHUiKSkgeworCWlm
IChtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCBWUFVfQ09NUEFUSUJMRV9HWEJCKSkgewog
CQkvKiBFbXBpcmljIHN1cHBvcnRlZCBtaW4vbWF4IGRpdmlkZXJzICovCiAJCWlmIChtIDwgNTMg
fHwgbSA+IDEyMykKIAkJCXJldHVybiBmYWxzZTsKIAkJaWYgKGZyYWMgPj0gSERNSV9GUkFDX01B
WF9HWEJCKQogCQkJcmV0dXJuIGZhbHNlOwotCX0gZWxzZSBpZiAobWVzb25fdnB1X2lzX2NvbXBh
dGlibGUocHJpdiwgImFtbG9naWMsbWVzb24tZ3htLXZwdSIpIHx8Ci0JCSAgIG1lc29uX3ZwdV9p
c19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWd4bC12cHUiKSB8fAotCQkgICBtZXNv
bl92cHVfaXNfY29tcGF0aWJsZShwcml2LCAiYW1sb2dpYyxtZXNvbi1nMTJhLXZwdSIpKSB7CisJ
fSBlbHNlIGlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCBWUFVfQ09NUEFUSUJMRV9H
WE0pIHx8CisJCSAgIG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsIFZQVV9DT01QQVRJQkxF
X0dYTCkgfHwKKwkJICAgbWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgVlBVX0NPTVBBVElC
TEVfRzEyQSkpIHsKIAkJLyogRW1waXJpYyBzdXBwb3J0ZWQgbWluL21heCBkaXZpZGVycyAqLwog
CQlpZiAobSA8IDEwNiB8fCBtID4gMjQ3KQogCQkJcmV0dXJuIGZhbHNlOwpAQCAtNzU5LDcgKzc1
OSw3IEBAIHN0YXRpYyB2b2lkIG1lc29uX3ZjbGtfc2V0KHN0cnVjdCBtZXNvbl9kcm0gKnByaXYs
IHVuc2lnbmVkIGludCBwbGxfYmFzZV9mcmVxLAogCS8qIFNldCBIRE1JIFBMTCByYXRlICovCiAJ
aWYgKCFvZDEgJiYgIW9kMiAmJiAhb2QzKSB7CiAJCW1lc29uX2hkbWlfcGxsX2dlbmVyaWNfc2V0
KHByaXYsIHBsbF9iYXNlX2ZyZXEpOwotCX0gZWxzZSBpZiAobWVzb25fdnB1X2lzX2NvbXBhdGli
bGUocHJpdiwgImFtbG9naWMsbWVzb24tZ3hiYi12cHUiKSkgeworCX0gZWxzZSBpZiAobWVzb25f
dnB1X2lzX2NvbXBhdGlibGUocHJpdiwgVlBVX0NPTVBBVElCTEVfR1hCQikpIHsKIAkJc3dpdGNo
IChwbGxfYmFzZV9mcmVxKSB7CiAJCWNhc2UgMjk3MDAwMDoKIAkJCW0gPSAweDNkOwpAQCAtNzc2
LDggKzc3Niw4IEBAIHN0YXRpYyB2b2lkIG1lc29uX3ZjbGtfc2V0KHN0cnVjdCBtZXNvbl9kcm0g
KnByaXYsIHVuc2lnbmVkIGludCBwbGxfYmFzZV9mcmVxLAogCQl9CiAKIAkJbWVzb25faGRtaV9w
bGxfc2V0X3BhcmFtcyhwcml2LCBtLCBmcmFjLCBvZDEsIG9kMiwgb2QzKTsKLQl9IGVsc2UgaWYg
KG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWd4bS12cHUiKSB8
fAotCQkgICBtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCAiYW1sb2dpYyxtZXNvbi1neGwt
dnB1IikpIHsKKwl9IGVsc2UgaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsIFZQVV9D
T01QQVRJQkxFX0dYTSkgfHwKKwkJICAgbWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgVlBV
X0NPTVBBVElCTEVfR1hMKSkgewogCQlzd2l0Y2ggKHBsbF9iYXNlX2ZyZXEpIHsKIAkJY2FzZSAy
OTcwMDAwOgogCQkJbSA9IDB4N2I7CkBAIC03OTQsNyArNzk0LDcgQEAgc3RhdGljIHZvaWQgbWVz
b25fdmNsa19zZXQoc3RydWN0IG1lc29uX2RybSAqcHJpdiwgdW5zaWduZWQgaW50IHBsbF9iYXNl
X2ZyZXEsCiAJCX0KIAogCQltZXNvbl9oZG1pX3BsbF9zZXRfcGFyYW1zKHByaXYsIG0sIGZyYWMs
IG9kMSwgb2QyLCBvZDMpOwotCX0gZWxzZSBpZiAobWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJp
diwgImFtbG9naWMsbWVzb24tZzEyYS12cHUiKSkgeworCX0gZWxzZSBpZiAobWVzb25fdnB1X2lz
X2NvbXBhdGlibGUocHJpdiwgVlBVX0NPTVBBVElCTEVfRzEyQSkpIHsKIAkJc3dpdGNoIChwbGxf
YmFzZV9mcmVxKSB7CiAJCWNhc2UgMjk3MDAwMDoKIAkJCW0gPSAweDdiOwpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29uX3ZlbmMuYyBiL2RyaXZlcnMvZ3B1L2RybS9tZXNv
bi9tZXNvbl92ZW5jLmMKaW5kZXggNjc5ZDIyNzQ1MzFjLi40ZWZkNzg2NGQ1YmYgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNvbl92ZW5jLmMKKysrIGIvZHJpdmVycy9ncHUv
ZHJtL21lc29uL21lc29uX3ZlbmMuYwpAQCAtMTc1OSw3ICsxNzU5LDcgQEAgdm9pZCBtZXNvbl92
ZW5jX2Rpc2FibGVfdnN5bmMoc3RydWN0IG1lc29uX2RybSAqcHJpdikKIHZvaWQgbWVzb25fdmVu
Y19pbml0KHN0cnVjdCBtZXNvbl9kcm0gKnByaXYpCiB7CiAJLyogRGlzYWJsZSBDVkJTIFZEQUMg
Ki8KLQlpZiAobWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgImFtbG9naWMsbWVzb24tZzEy
YS12cHUiKSkgeworCWlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCBWUFVfQ09NUEFU
SUJMRV9HMTJBKSkgewogCQlyZWdtYXBfd3JpdGUocHJpdi0+aGhpLCBISElfVkRBQ19DTlRMMF9H
MTJBLCAwKTsKIAkJcmVnbWFwX3dyaXRlKHByaXYtPmhoaSwgSEhJX1ZEQUNfQ05UTDFfRzEyQSwg
OCk7CiAJfSBlbHNlIHsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNvbl92
ZW5jX2N2YnMuYyBiL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNvbl92ZW5jX2N2YnMuYwppbmRl
eCA2ZGMxMzBhMjQwNzAuLjlhYjI3YWVjZmNmMyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L21lc29uL21lc29uX3ZlbmNfY3Zicy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNv
bl92ZW5jX2N2YnMuYwpAQCAtMTU1LDcgKzE1NSw3IEBAIHN0YXRpYyB2b2lkIG1lc29uX3ZlbmNf
Y3Zic19lbmNvZGVyX2Rpc2FibGUoc3RydWN0IGRybV9lbmNvZGVyICplbmNvZGVyKQogCXN0cnVj
dCBtZXNvbl9kcm0gKnByaXYgPSBtZXNvbl92ZW5jX2N2YnMtPnByaXY7CiAKIAkvKiBEaXNhYmxl
IENWQlMgVkRBQyAqLwotCWlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCAiYW1sb2dp
YyxtZXNvbi1nMTJhLXZwdSIpKSB7CisJaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYs
IFZQVV9DT01QQVRJQkxFX0cxMkEpKSB7CiAJCXJlZ21hcF93cml0ZShwcml2LT5oaGksIEhISV9W
REFDX0NOVEwwX0cxMkEsIDApOwogCQlyZWdtYXBfd3JpdGUocHJpdi0+aGhpLCBISElfVkRBQ19D
TlRMMV9HMTJBLCAwKTsKIAl9IGVsc2UgewpAQCAtMTc0LDE0ICsxNzQsMTQgQEAgc3RhdGljIHZv
aWQgbWVzb25fdmVuY19jdmJzX2VuY29kZXJfZW5hYmxlKHN0cnVjdCBkcm1fZW5jb2RlciAqZW5j
b2RlcikKIAl3cml0ZWxfYml0c19yZWxheGVkKFZFTkNfVkRBQ19TRUxfQVRWX0RNRCwgMCwKIAkJ
CSAgICBwcml2LT5pb19iYXNlICsgX1JFRyhWRU5DX1ZEQUNfREFDU0VMMCkpOwogCi0JaWYgKG1l
c29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWd4YmItdnB1IikpIHsK
KwlpZiAobWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgVlBVX0NPTVBBVElCTEVfR1hCQikp
IHsKIAkJcmVnbWFwX3dyaXRlKHByaXYtPmhoaSwgSEhJX1ZEQUNfQ05UTDAsIDEpOwogCQlyZWdt
YXBfd3JpdGUocHJpdi0+aGhpLCBISElfVkRBQ19DTlRMMSwgMCk7Ci0JfSBlbHNlIGlmIChtZXNv
bl92cHVfaXNfY29tcGF0aWJsZShwcml2LCAiYW1sb2dpYyxtZXNvbi1neG0tdnB1IikgfHwKLQkJ
IG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWd4bC12cHUiKSkg
eworCX0gZWxzZSBpZiAobWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgVlBVX0NPTVBBVElC
TEVfR1hNKSB8fAorCQkgbWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgVlBVX0NPTVBBVElC
TEVfR1hMKSkgewogCQlyZWdtYXBfd3JpdGUocHJpdi0+aGhpLCBISElfVkRBQ19DTlRMMCwgMHhm
MDAwMSk7CiAJCXJlZ21hcF93cml0ZShwcml2LT5oaGksIEhISV9WREFDX0NOVEwxLCAwKTsKLQl9
IGVsc2UgaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWcx
MmEtdnB1IikpIHsKKwl9IGVsc2UgaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsIFZQ
VV9DT01QQVRJQkxFX0cxMkEpKSB7CiAJCXJlZ21hcF93cml0ZShwcml2LT5oaGksIEhISV9WREFD
X0NOVEwwX0cxMkEsIDB4OTA2MDAxKTsKIAkJcmVnbWFwX3dyaXRlKHByaXYtPmhoaSwgSEhJX1ZE
QUNfQ05UTDFfRzEyQSwgMCk7CiAJfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL21lc29u
L21lc29uX3ZpdS5jIGIvZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29uX3ZpdS5jCmluZGV4IGU3
MGNkNTVkNTZjOS4uNjhjZjJjMmVjYTVmIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vbWVz
b24vbWVzb25fdml1LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29uX3ZpdS5jCkBA
IC0zNTMsMTAgKzM1MywxMCBAQCB2b2lkIG1lc29uX3ZpdV9pbml0KHN0cnVjdCBtZXNvbl9kcm0g
KnByaXYpCiAJCQkgICAgcHJpdi0+aW9fYmFzZSArIF9SRUcoVklVX09TRDJfQ1RSTF9TVEFUKSk7
CiAKIAkvKiBPbiBHWEwvR1hNLCBVc2UgdGhlIDEwYml0IEhEUiBjb252ZXJzaW9uIG1hdHJpeCAq
LwotCWlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCAiYW1sb2dpYyxtZXNvbi1neG0t
dnB1IikgfHwKLQkgICAgbWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgImFtbG9naWMsbWVz
b24tZ3hsLXZwdSIpKQorCWlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCBWUFVfQ09N
UEFUSUJMRV9HWE0pIHx8CisJICAgIG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsIFZQVV9D
T01QQVRJQkxFX0dYTCkpCiAJCW1lc29uX3ZpdV9sb2FkX21hdHJpeChwcml2KTsKLQllbHNlIGlm
IChtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCAiYW1sb2dpYyxtZXNvbi1nMTJhLXZwdSIp
KQorCWVsc2UgaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsIFZQVV9DT01QQVRJQkxF
X0cxMkEpKQogCQltZXNvbl92aXVfc2V0X2cxMmFfb3NkMV9tYXRyaXgocHJpdiwgUkdCNzA5X3Rv
X1lVVjcwOWxfY29lZmYsCiAJCQkJCSAgICAgICB0cnVlKTsKIApAQCAtMzY3LDcgKzM2Nyw3IEBA
IHZvaWQgbWVzb25fdml1X2luaXQoc3RydWN0IG1lc29uX2RybSAqcHJpdikKIAkJVklVX09TRF9X
T1JEU19QRVJfQlVSU1QoNCkgfCAvKiA0IHdvcmRzIGluIDEgYnVyc3QgKi8KIAkJVklVX09TRF9G
SUZPX0xJTUlUUygyKTsgICAgICAvKiBmaWZvX2xpbTogMioxNj0zMiAqLwogCi0JaWYgKG1lc29u
X3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2ljLG1lc29uLWcxMmEtdnB1IikpCisJaWYg
KG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsIFZQVV9DT01QQVRJQkxFX0cxMkEpKQogCQly
ZWcgfD0gbWVzb25fdml1X29zZF9idXJzdF9sZW5ndGhfcmVnKDMyKTsKIAllbHNlCiAJCXJlZyB8
PSBtZXNvbl92aXVfb3NkX2J1cnN0X2xlbmd0aF9yZWcoNjQpOwpAQCAtMzk0LDcgKzM5NCw3IEBA
IHZvaWQgbWVzb25fdml1X2luaXQoc3RydWN0IG1lc29uX2RybSAqcHJpdikKIAl3cml0ZWxfcmVs
YXhlZCgweDAwRkYwMEMwLAogCQkJcHJpdi0+aW9fYmFzZSArIF9SRUcoVkQyX0lGMF9MVU1BX0ZJ
Rk9fU0laRSkpOwogCi0JaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsICJhbWxvZ2lj
LG1lc29uLWcxMmEtdnB1IikpIHsKKwlpZiAobWVzb25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwg
VlBVX0NPTVBBVElCTEVfRzEyQSkpIHsKIAkJd3JpdGVsX3JlbGF4ZWQoVklVX09TRF9CTEVORF9S
RU9SREVSKDAsIDEpIHwKIAkJCSAgICAgICBWSVVfT1NEX0JMRU5EX1JFT1JERVIoMSwgMCkgfAog
CQkJICAgICAgIFZJVV9PU0RfQkxFTkRfUkVPUkRFUigyLCAwKSB8CmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fdnBwLmMgYi9kcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVz
b25fdnBwLmMKaW5kZXggMTQyOWYzYmU2MDI4Li4xNTQ4Mzc2ODhhYjAgMTAwNjQ0Ci0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNvbl92cHAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vbWVz
b24vbWVzb25fdnBwLmMKQEAgLTkxLDIwICs5MSwyMCBAQCBzdGF0aWMgdm9pZCBtZXNvbl92cHBf
d3JpdGVfdmRfc2NhbGluZ19maWx0ZXJfY29lZnMoc3RydWN0IG1lc29uX2RybSAqcHJpdiwKIHZv
aWQgbWVzb25fdnBwX2luaXQoc3RydWN0IG1lc29uX2RybSAqcHJpdikKIHsKIAkvKiBzZXQgZHVt
bXkgZGF0YSBkZWZhdWx0IFlVViBibGFjayAqLwotCWlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJs
ZShwcml2LCAiYW1sb2dpYyxtZXNvbi1neGwtdnB1IikpCisJaWYgKG1lc29uX3ZwdV9pc19jb21w
YXRpYmxlKHByaXYsIFZQVV9DT01QQVRJQkxFX0dYTCkpCiAJCXdyaXRlbF9yZWxheGVkKDB4MTA4
MDgwLCBwcml2LT5pb19iYXNlICsgX1JFRyhWUFBfRFVNTVlfREFUQTEpKTsKLQllbHNlIGlmICht
ZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCAiYW1sb2dpYyxtZXNvbi1neG0tdnB1IikpIHsK
KwllbHNlIGlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCBWUFVfQ09NUEFUSUJMRV9H
WE0pKSB7CiAJCXdyaXRlbF9iaXRzX3JlbGF4ZWQoMHhmZiA8PCAxNiwgMHhmZiA8PCAxNiwKIAkJ
CQkgICAgcHJpdi0+aW9fYmFzZSArIF9SRUcoVklVX01JU0NfQ1RSTDEpKTsKIAkJd3JpdGVsX3Jl
bGF4ZWQoVlBQX1BQU19EVU1NWV9EQVRBX01PREUsCiAJCQkgICAgICAgcHJpdi0+aW9fYmFzZSAr
IF9SRUcoVlBQX0RPTEJZX0NUUkwpKTsKIAkJd3JpdGVsX3JlbGF4ZWQoMHgxMDIwMDgwLAogCQkJ
CXByaXYtPmlvX2Jhc2UgKyBfUkVHKFZQUF9EVU1NWV9EQVRBMSkpOwotCX0gZWxzZSBpZiAobWVz
b25fdnB1X2lzX2NvbXBhdGlibGUocHJpdiwgImFtbG9naWMsbWVzb24tZzEyYS12cHUiKSkKKwl9
IGVsc2UgaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsIFZQVV9DT01QQVRJQkxFX0cx
MkEpKQogCQl3cml0ZWxfcmVsYXhlZCgweGYsIHByaXYtPmlvX2Jhc2UgKyBfUkVHKERPTEJZX1BB
VEhfQ1RSTCkpOwogCiAJLyogSW5pdGlhbGl6ZSB2cHUgZmlmbyBjb250cm9sIHJlZ2lzdGVycyAq
LwotCWlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCAiYW1sb2dpYyxtZXNvbi1nMTJh
LXZwdSIpKQorCWlmIChtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCBWUFVfQ09NUEFUSUJM
RV9HMTJBKSkKIAkJd3JpdGVsX3JlbGF4ZWQoVlBQX09GSUZPX1NJWkVfREVGQVVMVCwKIAkJCSAg
ICAgICBwcml2LT5pb19iYXNlICsgX1JFRyhWUFBfT0ZJRk9fU0laRSkpOwogCWVsc2UKQEAgLTEx
Myw3ICsxMTMsNyBAQCB2b2lkIG1lc29uX3ZwcF9pbml0KHN0cnVjdCBtZXNvbl9kcm0gKnByaXYp
CiAJd3JpdGVsX3JlbGF4ZWQoVlBQX1BPU1RCTEVORF9IT0xEX0xJTkVTKDQpIHwgVlBQX1BSRUJM
RU5EX0hPTERfTElORVMoNCksCiAJCSAgICAgICBwcml2LT5pb19iYXNlICsgX1JFRyhWUFBfSE9M
RF9MSU5FUykpOwogCi0JaWYgKCFtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2LCAiYW1sb2dp
YyxtZXNvbi1nMTJhLXZwdSIpKSB7CisJaWYgKCFtZXNvbl92cHVfaXNfY29tcGF0aWJsZShwcml2
LCBWUFVfQ09NUEFUSUJMRV9HMTJBKSkgewogCQkvKiBUdXJuIG9mZiBwcmVibGVuZCAqLwogCQl3
cml0ZWxfYml0c19yZWxheGVkKFZQUF9QUkVCTEVORF9FTkFCTEUsIDAsCiAJCQkJICAgIHByaXYt
PmlvX2Jhc2UgKyBfUkVHKFZQUF9NSVNDKSk7Ci0tIAoyLjE3LjEKCl9fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJp
LWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9y
Zy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
