Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 481642C251
	for <lists+dri-devel@lfdr.de>; Tue, 28 May 2019 11:04:39 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 521106E0F9;
	Tue, 28 May 2019 09:03:55 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ed1-x542.google.com (mail-ed1-x542.google.com
 [IPv6:2a00:1450:4864:20::542])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2F10089FD9
 for <dri-devel@lists.freedesktop.org>; Tue, 28 May 2019 09:03:49 +0000 (UTC)
Received: by mail-ed1-x542.google.com with SMTP id p27so30688027eda.1
 for <dri-devel@lists.freedesktop.org>; Tue, 28 May 2019 02:03:49 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=cTKR1bWS92y6jx6235i5jk8TVLc5SUi6voiWrgnxv1k=;
 b=S/VeBOXGgn2r/FpqP4dpsO/AcRFf9ncM3BYpjQca7dl1uWJPvcSXyl0zjIcIJzFtU2
 ybNCG9rNs0xGJQ8M1naB1HUVbhc2ZUwD4eC0FU6IX4HeAtQzL42FLSsc1DCzoArrFBks
 fDcL+a/BMGVZei4w89BGxAEhv9neaEiB3OeihOfNJAAG0YIzA+hZXcyO/MxZoBVA+wt1
 yed72fVDpMO2lJ0Hd0uDdnYxMWGVsTG+JULkTYu43lRP5MFw20yUTmZRb/yohBV0km/4
 zjQ9B0gndZhxJpmYD1XYhX17+4342wDgR3JF6Raw2tpX6MtthkCvgThW8NukTMMsuhws
 7YGQ==
X-Gm-Message-State: APjAAAWxVCMbZdqvQOEfL/6zRFzm3jqcwR3xDoJmtINjCg+2WMHRgf9N
 jQJVMFoOaTlnNvH1v/RnfFN5iA==
X-Google-Smtp-Source: APXvYqw0UlMJtntWrCQdXZs42SphN4v03iode4I9FwSIGIRrtr2+bmQmVcbINRSwPmSdFt+oMljvkg==
X-Received: by 2002:aa7:dd03:: with SMTP id i3mr90707826edv.93.1559034226420; 
 Tue, 28 May 2019 02:03:46 -0700 (PDT)
Received: from phenom.ffwll.local ([2a02:168:569e:0:3106:d637:d723:e855])
 by smtp.gmail.com with ESMTPSA id x49sm4072656edm.25.2019.05.28.02.03.44
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Tue, 28 May 2019 02:03:45 -0700 (PDT)
From: Daniel Vetter <daniel.vetter@ffwll.ch>
To: LKML <linux-kernel@vger.kernel.org>
Subject: [PATCH 24/33] Revert "backlight/fbcon: Add FB_EVENT_CONBLANK"
Date: Tue, 28 May 2019 11:02:55 +0200
Message-Id: <20190528090304.9388-25-daniel.vetter@ffwll.ch>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190528090304.9388-1-daniel.vetter@ffwll.ch>
References: <20190528090304.9388-1-daniel.vetter@ffwll.ch>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=cTKR1bWS92y6jx6235i5jk8TVLc5SUi6voiWrgnxv1k=;
 b=OHI09ErVKCCmMw4Q30PsUkK6DLxfVjZA/v6bgqkrsxPD+SkwEMnDS4vf/ltiyIINaj
 Ztss2ZLiyE5rSM5QHY5CO2EJUbNv2J8wR3rHcRdLG5/VJS4lIsTYR6xFu9TJvBrksi6M
 Bj3zaD4xeBsKjtCVcB/MjLtt13R0cup4wCy24=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Daniel Thompson <daniel.thompson@linaro.org>,
 Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>,
 Daniel Vetter <daniel.vetter@ffwll.ch>,
 Intel Graphics Development <intel-gfx@lists.freedesktop.org>,
 linux-fbdev@vger.kernel.org, DRI Development <dri-devel@lists.freedesktop.org>,
 Yisheng Xie <ysxie@foxmail.com>, Hans de Goede <hdegoede@redhat.com>,
 Richard Purdie <rpurdie@rpsys.net>, Jingoo Han <jingoohan1@gmail.com>,
 Daniel Vetter <daniel.vetter@intel.com>, Lee Jones <lee.jones@linaro.org>,
 Sam Ravnborg <sam@ravnborg.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhpcyByZXZlcnRzIGNvbW1pdCA5OTRlZmFjZGY5YTA4N2I1MmY3MWU2MjBiNThkZmE1MjZiMGNm
OTI4LgoKVGhlIGp1c3RpZmljYXRpb24gaXMgdGhhdCBpZiBodyBibGFua2luZyBmYWlscyAoaS5l
LiBmYm9wcy0+ZmJfYmxhbmspCmZhaWxzLCB0aGVuIHdlIHN0aWxsIHdhbnQgdG8gc2h1dCBkb3du
IHRoZSBiYWNrbGlnaHQuIFdoaWNoIGlzIGV4YWN0bHkKX25vdF8gd2hhdCBmYl9ibGFuaygpIGRv
ZXMgYW5kIHNvIHJhdGhlciBpbmNvbnNpc3RlbnQgaWYgd2UgZW5kIHVwCndpdGggZGlmZmVyZW50
IGJlaGF2aW91ciBiZXR3ZWVuIGZiY29uIGFuZCBkaXJlY3QgZmJkZXYgdXNhZ2UuIEdpdmVuCnRo
YXQgdGhlIGVudGlyZSBub3RpZmllciBtYXplIGlzIGdldHRpbmcgaW4gdGhlIHdheSBhbnl3YXkg
SSBmaWd1cmVkCml0J3Mgc2ltcGxlc3QgdG8gcmV2ZXJ0IHRoaXMgbm90IHdlbGwganVzdGlmaWVk
IGNvbW1pdC4KCnYyOiBBZGQgc3RhdGljIGlubGluZSB0byB0aGUgZHVtbXkgdmVyc2lvbi4KCkNj
OiBSaWNoYXJkIFB1cmRpZSA8cnB1cmRpZUBycHN5cy5uZXQ+ClNpZ25lZC1vZmYtYnk6IERhbmll
bCBWZXR0ZXIgPGRhbmllbC52ZXR0ZXJAaW50ZWwuY29tPgpSZXZpZXdlZC1ieTogU2FtIFJhdm5i
b3JnIDxzYW1AcmF2bmJvcmcub3JnPgpSZXZpZXdlZC1ieTogTWFhcnRlbiBMYW5raG9yc3QgPG1h
YXJ0ZW4ubGFua2hvcnN0QGxpbnV4LmludGVsLmNvbT4KQ2M6IExlZSBKb25lcyA8bGVlLmpvbmVz
QGxpbmFyby5vcmc+CkNjOiBEYW5pZWwgVGhvbXBzb24gPGRhbmllbC50aG9tcHNvbkBsaW5hcm8u
b3JnPgpDYzogSmluZ29vIEhhbiA8amluZ29vaGFuMUBnbWFpbC5jb20+CkNjOiBCYXJ0bG9taWVq
IFpvbG5pZXJraWV3aWN6IDxiLnpvbG5pZXJraWVAc2Ftc3VuZy5jb20+CkNjOiBEYW5pZWwgVmV0
dGVyIDxkYW5pZWwudmV0dGVyQGZmd2xsLmNoPgpDYzogSGFucyBkZSBHb2VkZSA8aGRlZ29lZGVA
cmVkaGF0LmNvbT4KQ2M6IFlpc2hlbmcgWGllIDx5c3hpZUBmb3htYWlsLmNvbT4KQ2M6IGxpbnV4
LWZiZGV2QHZnZXIua2VybmVsLm9yZwotLS0KIGRyaXZlcnMvdmlkZW8vYmFja2xpZ2h0L2JhY2ts
aWdodC5jIHwgIDIgKy0KIGRyaXZlcnMvdmlkZW8vZmJkZXYvY29yZS9mYmNvbi5jICAgIHwgMTQg
Ky0tLS0tLS0tLS0tLS0KIGRyaXZlcnMvdmlkZW8vZmJkZXYvY29yZS9mYm1lbS5jICAgIHwgIDEg
KwogaW5jbHVkZS9saW51eC9mYi5oICAgICAgICAgICAgICAgICAgfCAgNCArLS0tCiBpbmNsdWRl
L2xpbnV4L2ZiY29uLmggICAgICAgICAgICAgICB8ICAyICsrCiA1IGZpbGVzIGNoYW5nZWQsIDYg
aW5zZXJ0aW9ucygrKSwgMTcgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy92aWRl
by9iYWNrbGlnaHQvYmFja2xpZ2h0LmMgYi9kcml2ZXJzL3ZpZGVvL2JhY2tsaWdodC9iYWNrbGln
aHQuYwppbmRleCAxZWY4YjZmZDYyYWMuLjVkYzA3MTA2YTU5ZSAxMDA2NDQKLS0tIGEvZHJpdmVy
cy92aWRlby9iYWNrbGlnaHQvYmFja2xpZ2h0LmMKKysrIGIvZHJpdmVycy92aWRlby9iYWNrbGln
aHQvYmFja2xpZ2h0LmMKQEAgLTQ3LDcgKzQ3LDcgQEAgc3RhdGljIGludCBmYl9ub3RpZmllcl9j
YWxsYmFjayhzdHJ1Y3Qgbm90aWZpZXJfYmxvY2sgKnNlbGYsCiAJaW50IGZiX2JsYW5rID0gMDsK
IAogCS8qIElmIHdlIGFyZW4ndCBpbnRlcmVzdGVkIGluIHRoaXMgZXZlbnQsIHNraXAgaXQgaW1t
ZWRpYXRlbHkgLi4uICovCi0JaWYgKGV2ZW50ICE9IEZCX0VWRU5UX0JMQU5LICYmIGV2ZW50ICE9
IEZCX0VWRU5UX0NPTkJMQU5LKQorCWlmIChldmVudCAhPSBGQl9FVkVOVF9CTEFOSykKIAkJcmV0
dXJuIDA7CiAKIAliZCA9IGNvbnRhaW5lcl9vZihzZWxmLCBzdHJ1Y3QgYmFja2xpZ2h0X2Rldmlj
ZSwgZmJfbm90aWYpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy92aWRlby9mYmRldi9jb3JlL2ZiY29u
LmMgYi9kcml2ZXJzL3ZpZGVvL2ZiZGV2L2NvcmUvZmJjb24uYwppbmRleCBlZjY5YmQ0YWQzNDMu
LmE0NjE3MDY3ZmYyNCAxMDA2NDQKLS0tIGEvZHJpdmVycy92aWRlby9mYmRldi9jb3JlL2ZiY29u
LmMKKysrIGIvZHJpdmVycy92aWRlby9mYmRldi9jb3JlL2ZiY29uLmMKQEAgLTIzNTAsOCArMjM1
MCw2IEBAIHN0YXRpYyBpbnQgZmJjb25fc3dpdGNoKHN0cnVjdCB2Y19kYXRhICp2YykKIHN0YXRp
YyB2b2lkIGZiY29uX2dlbmVyaWNfYmxhbmsoc3RydWN0IHZjX2RhdGEgKnZjLCBzdHJ1Y3QgZmJf
aW5mbyAqaW5mbywKIAkJCQlpbnQgYmxhbmspCiB7Ci0Jc3RydWN0IGZiX2V2ZW50IGV2ZW50Owot
CiAJaWYgKGJsYW5rKSB7CiAJCXVuc2lnbmVkIHNob3J0IGNoYXJtYXNrID0gdmMtPnZjX2hpX2Zv
bnRfbWFzayA/CiAJCQkweDFmZiA6IDB4ZmY7CkBAIC0yMzYyLDEzICsyMzYwLDYgQEAgc3RhdGlj
IHZvaWQgZmJjb25fZ2VuZXJpY19ibGFuayhzdHJ1Y3QgdmNfZGF0YSAqdmMsIHN0cnVjdCBmYl9p
bmZvICppbmZvLAogCQlmYmNvbl9jbGVhcih2YywgMCwgMCwgdmMtPnZjX3Jvd3MsIHZjLT52Y19j
b2xzKTsKIAkJdmMtPnZjX3ZpZGVvX2VyYXNlX2NoYXIgPSBvbGRjOwogCX0KLQotCi0JbG9ja19m
Yl9pbmZvKGluZm8pOwotCWV2ZW50LmluZm8gPSBpbmZvOwotCWV2ZW50LmRhdGEgPSAmYmxhbms7
Ci0JZmJfbm90aWZpZXJfY2FsbF9jaGFpbihGQl9FVkVOVF9DT05CTEFOSywgJmV2ZW50KTsKLQl1
bmxvY2tfZmJfaW5mbyhpbmZvKTsKIH0KIAogc3RhdGljIGludCBmYmNvbl9ibGFuayhzdHJ1Y3Qg
dmNfZGF0YSAqdmMsIGludCBibGFuaywgaW50IG1vZGVfc3dpdGNoKQpAQCAtMzI0MCw3ICszMjMx
LDcgQEAgaW50IGZiY29uX2ZiX3JlZ2lzdGVyZWQoc3RydWN0IGZiX2luZm8gKmluZm8pCiAJcmV0
dXJuIHJldDsKIH0KIAotc3RhdGljIHZvaWQgZmJjb25fZmJfYmxhbmtlZChzdHJ1Y3QgZmJfaW5m
byAqaW5mbywgaW50IGJsYW5rKQordm9pZCBmYmNvbl9mYl9ibGFua2VkKHN0cnVjdCBmYl9pbmZv
ICppbmZvLCBpbnQgYmxhbmspCiB7CiAJc3RydWN0IGZiY29uX29wcyAqb3BzID0gaW5mby0+ZmJj
b25fcGFyOwogCXN0cnVjdCB2Y19kYXRhICp2YzsKQEAgLTMzNDQsOSArMzMzNSw2IEBAIHN0YXRp
YyBpbnQgZmJjb25fZXZlbnRfbm90aWZ5KHN0cnVjdCBub3RpZmllcl9ibG9jayAqc2VsZiwKIAkJ
Y29uMmZiID0gZXZlbnQtPmRhdGE7CiAJCWNvbjJmYi0+ZnJhbWVidWZmZXIgPSBjb24yZmJfbWFw
W2NvbjJmYi0+Y29uc29sZSAtIDFdOwogCQlicmVhazsKLQljYXNlIEZCX0VWRU5UX0JMQU5LOgot
CQlmYmNvbl9mYl9ibGFua2VkKGluZm8sICooaW50ICopZXZlbnQtPmRhdGEpOwotCQlicmVhazsK
IAljYXNlIEZCX0VWRU5UX1JFTUFQX0FMTF9DT05TT0xFOgogCQlpZHggPSBpbmZvLT5ub2RlOwog
CQlmYmNvbl9yZW1hcF9hbGwoaWR4KTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmlkZW8vZmJkZXYv
Y29yZS9mYm1lbS5jIGIvZHJpdmVycy92aWRlby9mYmRldi9jb3JlL2ZibWVtLmMKaW5kZXggZGRj
MGMxNmI4YmJmLi45MzY2ZmJlOTlhNTggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvdmlkZW8vZmJkZXYv
Y29yZS9mYm1lbS5jCisrKyBiL2RyaXZlcnMvdmlkZW8vZmJkZXYvY29yZS9mYm1lbS5jCkBAIC0x
MDY4LDYgKzEwNjgsNyBAQCBmYl9ibGFuayhzdHJ1Y3QgZmJfaW5mbyAqaW5mbywgaW50IGJsYW5r
KQogCWV2ZW50LmRhdGEgPSAmYmxhbms7CiAKIAllYXJseV9yZXQgPSBmYl9ub3RpZmllcl9jYWxs
X2NoYWluKEZCX0VBUkxZX0VWRU5UX0JMQU5LLCAmZXZlbnQpOworCWZiY29uX2ZiX2JsYW5rZWQo
aW5mbywgYmxhbmspOwogCiAJaWYgKGluZm8tPmZib3BzLT5mYl9ibGFuaykKICAJCXJldCA9IGlu
Zm8tPmZib3BzLT5mYl9ibGFuayhibGFuaywgaW5mbyk7CmRpZmYgLS1naXQgYS9pbmNsdWRlL2xp
bnV4L2ZiLmggYi9pbmNsdWRlL2xpbnV4L2ZiLmgKaW5kZXggMGQ4NmFhMzFiZjhkLi4xZTY2ZmFj
MzEyNGYgMTAwNjQ0Ci0tLSBhL2luY2x1ZGUvbGludXgvZmIuaAorKysgYi9pbmNsdWRlL2xpbnV4
L2ZiLmgKQEAgLTEzNywxMiArMTM3LDEwIEBAIHN0cnVjdCBmYl9jdXJzb3JfdXNlciB7CiAjZGVm
aW5lIEZCX0VWRU5UX0dFVF9DT05TT0xFX01BUCAgICAgICAgMHgwNwogLyogICAgICBDT05TT0xF
LVNQRUNJRklDOiBzZXQgY29uc29sZSB0byBmcmFtZWJ1ZmZlciBtYXBwaW5nICovCiAjZGVmaW5l
IEZCX0VWRU5UX1NFVF9DT05TT0xFX01BUCAgICAgICAgMHgwOAotLyogICAgICBBIGhhcmR3YXJl
IGRpc3BsYXkgYmxhbmsgY2hhbmdlIG9jY3VycmVkICovCisvKiAgICAgIEEgZGlzcGxheSBibGFu
ayBpcyByZXF1ZXN0ZWQgICAgICAgKi8KICNkZWZpbmUgRkJfRVZFTlRfQkxBTksgICAgICAgICAg
ICAgICAgICAweDA5CiAvKiAgICAgIFByaXZhdGUgbW9kZWxpc3QgaXMgdG8gYmUgcmVwbGFjZWQg
Ki8KICNkZWZpbmUgRkJfRVZFTlRfTU9ERV9DSEFOR0VfQUxMCTB4MEIKLS8qCUEgc29mdHdhcmUg
ZGlzcGxheSBibGFuayBjaGFuZ2Ugb2NjdXJyZWQgKi8KLSNkZWZpbmUgRkJfRVZFTlRfQ09OQkxB
TksgICAgICAgICAgICAgICAweDBDCiAvKiAgICAgIENPTlNPTEUtU1BFQ0lGSUM6IHJlbWFwIGFs
bCBjb25zb2xlcyB0byBuZXcgZmIgLSBmb3IgdmdhX3N3aXRjaGVyb28gKi8KICNkZWZpbmUgRkJf
RVZFTlRfUkVNQVBfQUxMX0NPTlNPTEUgICAgICAweDBGCiAvKiAgICAgIEEgaGFyZHdhcmUgZGlz
cGxheSBibGFuayBlYXJseSBjaGFuZ2Ugb2NjdXJyZWQgKi8KZGlmZiAtLWdpdCBhL2luY2x1ZGUv
bGludXgvZmJjb24uaCBiL2luY2x1ZGUvbGludXgvZmJjb24uaAppbmRleCAzMDVlNGYyZWRkYWMu
LmQ2N2Q3ZWM1MWVmOSAxMDA2NDQKLS0tIGEvaW5jbHVkZS9saW51eC9mYmNvbi5oCisrKyBiL2lu
Y2x1ZGUvbGludXgvZmJjb24uaApAQCAtMTQsNiArMTQsNyBAQCBpbnQgZmJjb25fbW9kZV9kZWxl
dGVkKHN0cnVjdCBmYl9pbmZvICppbmZvLAogdm9pZCBmYmNvbl9uZXdfbW9kZWxpc3Qoc3RydWN0
IGZiX2luZm8gKmluZm8pOwogdm9pZCBmYmNvbl9nZXRfcmVxdWlyZW1lbnQoc3RydWN0IGZiX2lu
Zm8gKmluZm8sCiAJCQkgICBzdHJ1Y3QgZmJfYmxpdF9jYXBzICpjYXBzKTsKK3ZvaWQgZmJjb25f
ZmJfYmxhbmtlZChzdHJ1Y3QgZmJfaW5mbyAqaW5mbywgaW50IGJsYW5rKTsKICNlbHNlCiBzdGF0
aWMgaW5saW5lIHZvaWQgZmJfY29uc29sZV9pbml0KHZvaWQpIHt9CiBzdGF0aWMgaW5saW5lIHZv
aWQgZmJfY29uc29sZV9leGl0KHZvaWQpIHt9CkBAIC0yNyw2ICsyOCw3IEBAIHN0YXRpYyBpbmxp
bmUgaW50IGZiY29uX21vZGVfZGVsZXRlZChzdHJ1Y3QgZmJfaW5mbyAqaW5mbywKIHN0YXRpYyBp
bmxpbmUgdm9pZCBmYmNvbl9uZXdfbW9kZWxpc3Qoc3RydWN0IGZiX2luZm8gKmluZm8pIHt9CiBz
dGF0aWMgaW5saW5lIHZvaWQgZmJjb25fZ2V0X3JlcXVpcmVtZW50KHN0cnVjdCBmYl9pbmZvICpp
bmZvLAogCQkJCQkgc3RydWN0IGZiX2JsaXRfY2FwcyAqY2Fwcykge30KK3N0YXRpYyBpbmxpbmUg
dm9pZCBmYmNvbl9mYl9ibGFua2VkKHN0cnVjdCBmYl9pbmZvICppbmZvLCBpbnQgYmxhbmspIHt9
CiAjZW5kaWYKIAogI2VuZGlmIC8qIF9MSU5VWF9GQkNPTl9IICovCi0tIAoyLjIwLjEKCl9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWls
aW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZy
ZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
