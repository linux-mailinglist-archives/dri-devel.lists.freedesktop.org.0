Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id E602FAE6CE
	for <lists+dri-devel@lfdr.de>; Tue, 10 Sep 2019 11:24:47 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 5B72088DAE;
	Tue, 10 Sep 2019 09:24:38 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wr1-x42d.google.com (mail-wr1-x42d.google.com
 [IPv6:2a00:1450:4864:20::42d])
 by gabe.freedesktop.org (Postfix) with ESMTPS id DE66A6E879;
 Tue, 10 Sep 2019 09:24:36 +0000 (UTC)
Received: by mail-wr1-x42d.google.com with SMTP id k6so6492218wrn.11;
 Tue, 10 Sep 2019 02:24:36 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=CDBZNBMxdhgNZpHXVRT+geV4E0C1WWBH1mLRS6jzqxM=;
 b=PRD9YQibCPNOWnYVZaTAN962ha+D1jsVSuy1Vv5G4giQlGo55XhcudoMKsQ6xHM+iS
 4TYMdiZX6EmyAFUpurckU2LznQdJYGV6kr3iYoiaEYSvt7zKebCUN1ednfhdZTaP7XN9
 wwc4Rb0eDnqQSnOD6e7zDfYjjuOaQg+/f5Rg29G+WHAbryQbutUkn0oSZR5S8mLEO6B4
 UobyrhdaL24CuCKeX/+YieqTNBLHQKYG3I2BhYFbGpMrNvokVFiSwjIoY8+GIt67R4v9
 qT5XVR8VQjOVGzhlKa9Rmu23KQTqvmrbfQNEGrjf7aKkrPxLiksoCbXnwncExcw+YHpL
 Wu1A==
X-Gm-Message-State: APjAAAVRNMZDREJNWS1awTm5VPeBgP5rc36WQLfnbwqDoiuvpt12yuFz
 WuynYhR3BQUiQAGjgAYvBCtww7v1
X-Google-Smtp-Source: APXvYqxWzyffu4FlQr0R2iv/z5NEhCTiYW9b2kipZe8ora+mSYzu+VYGLudToxPUem9ihO9RDqs7Pw==
X-Received: by 2002:adf:83c5:: with SMTP id 63mr23062675wre.86.1568107475344; 
 Tue, 10 Sep 2019 02:24:35 -0700 (PDT)
Received: from abel.fritz.box ([2a02:908:1252:fb60:1cd:7d57:6942:ab1b])
 by smtp.gmail.com with ESMTPSA id e12sm6107036wrw.37.2019.09.10.02.24.34
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Tue, 10 Sep 2019 02:24:34 -0700 (PDT)
From: "=?UTF-8?q?Christian=20K=C3=B6nig?=" <ckoenig.leichtzumerken@gmail.com>
X-Google-Original-From: =?UTF-8?q?Christian=20K=C3=B6nig?=
 <christian.koenig@amd.com>
To: amd-gfx@lists.freedesktop.org
Subject: [PATCH 4/9] drm/amdgpu: allow direct submission of PDE updates v2
Date: Tue, 10 Sep 2019 11:24:26 +0200
Message-Id: <20190910092431.37471-4-christian.koenig@amd.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20190910092431.37471-1-christian.koenig@amd.com>
References: <20190910092431.37471-1-christian.koenig@amd.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=CDBZNBMxdhgNZpHXVRT+geV4E0C1WWBH1mLRS6jzqxM=;
 b=mfWN0ZOPPFaxy5DNxBKbUpkI75mEh2nLxe/6KKLclTSt92RxKaOEOpJn2yPUF5vm07
 L8WB4aO7w5dBJGABjbjItOCbKkP4F1bLnupwOVIfzEGKIACDYjqIfLjRRMonPDA7PvTd
 rEV9kVXEIb8YN/xyn/9HOETQA3kymun8qSrI6Fo+AdINjlHYL5eDtSPT7oJXZaPytZRH
 TQP1C/3Rcc0yIsFpM+lRh+ZHKnGgeNnIixbSLrnZqpKFWQLc7H6mqlCo7NKZ39ogBYAS
 N3d3r7xo6uVfQJ9BfVXLdU4EPRXIT1bO/gnyGEWjRaIXXaoa/8w4HzvUuT1qWYXPXYNK
 Vdvg==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Rm9yIGhhbmRsaW5nIFBERSB1cGRhdGVzIGRpcmVjdGx5IGluIHRoZSBmYXVsdCBoYW5kbGVyLgoK
djI6IGZpeCB0eXBvIGluIGNvbW1lbnQKClNpZ25lZC1vZmYtYnk6IENocmlzdGlhbiBLw7ZuaWcg
PGNocmlzdGlhbi5rb2VuaWdAYW1kLmNvbT4KUmV2aWV3ZWQtYnk6IEZlbGl4IEt1ZWhsaW5nIDxG
ZWxpeC5LdWVobGluZ0BhbWQuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdV9hbWRrZmRfZ3B1dm0uYyB8IDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdV9jcy5jICAgICAgICAgICB8IDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdV9nZW0uYyAgICAgICAgICB8IDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdV92bS5jICAgICAgICAgICB8IDggKysrKystLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L2FtZGdwdV92bS5oICAgICAgICAgICB8IDQgKystLQogNSBmaWxlcyBjaGFuZ2VkLCAxMCBp
bnNlcnRpb25zKCspLCA4IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmRfZ3B1dm0uYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2FtZGdwdV9hbWRrZmRfZ3B1dm0uYwppbmRleCBkOTBiNjQ3OTg1ZDcuLjUxZmY4OWNi
MmYxNiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtm
ZF9ncHV2bS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmRf
Z3B1dm0uYwpAQCAtMzQzLDcgKzM0Myw3IEBAIHN0YXRpYyBpbnQgdm1fdXBkYXRlX3BkcyhzdHJ1
Y3QgYW1kZ3B1X3ZtICp2bSwgc3RydWN0IGFtZGdwdV9zeW5jICpzeW5jKQogCXN0cnVjdCBhbWRn
cHVfZGV2aWNlICphZGV2ID0gYW1kZ3B1X3R0bV9hZGV2KHBkLT50Ym8uYmRldik7CiAJaW50IHJl
dDsKIAotCXJldCA9IGFtZGdwdV92bV91cGRhdGVfZGlyZWN0b3JpZXMoYWRldiwgdm0pOworCXJl
dCA9IGFtZGdwdV92bV91cGRhdGVfcGRlcyhhZGV2LCB2bSwgZmFsc2UpOwogCWlmIChyZXQpCiAJ
CXJldHVybiByZXQ7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdV9jcy5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2NzLmMKaW5kZXgg
NTFmM2RiMDhiOGViLi5iZDZiODg4Mjc0NDcgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2FtZGdwdV9jcy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdV9jcy5jCkBAIC04NDUsNyArODQ1LDcgQEAgc3RhdGljIGludCBhbWRncHVfY3Nfdm1faGFu
ZGxpbmcoc3RydWN0IGFtZGdwdV9jc19wYXJzZXIgKnApCiAJaWYgKHIpCiAJCXJldHVybiByOwog
Ci0JciA9IGFtZGdwdV92bV91cGRhdGVfZGlyZWN0b3JpZXMoYWRldiwgdm0pOworCXIgPSBhbWRn
cHVfdm1fdXBkYXRlX3BkZXMoYWRldiwgdm0sIGZhbHNlKTsKIAlpZiAocikKIAkJcmV0dXJuIHI7
CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nZW0uYyBi
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nZW0uYwppbmRleCAyMmVhYjc0ZDk5
OTguLmQ0NzI1Zjk4NjQzZSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
YW1kZ3B1X2dlbS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nZW0u
YwpAQCAtNTIxLDcgKzUyMSw3IEBAIHN0YXRpYyB2b2lkIGFtZGdwdV9nZW1fdmFfdXBkYXRlX3Zt
KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LAogCQkJZ290byBlcnJvcjsKIAl9CiAKLQlyID0g
YW1kZ3B1X3ZtX3VwZGF0ZV9kaXJlY3RvcmllcyhhZGV2LCB2bSk7CisJciA9IGFtZGdwdV92bV91
cGRhdGVfcGRlcyhhZGV2LCB2bSwgZmFsc2UpOwogCiBlcnJvcjoKIAlpZiAociAmJiByICE9IC1F
UkVTVEFSVFNZUykKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdw
dV92bS5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtLmMKaW5kZXggOGE5
YmE2NmM4MzgzLi5mZmY1NTNhNTkxYjYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2FtZGdwdV92bS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdw
dV92bS5jCkBAIC0xMjI3LDE4ICsxMjI3LDE5IEBAIHN0YXRpYyB2b2lkIGFtZGdwdV92bV9pbnZh
bGlkYXRlX3BkcyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKIH0KIAogLyoKLSAqIGFtZGdw
dV92bV91cGRhdGVfZGlyZWN0b3JpZXMgLSBtYWtlIHN1cmUgdGhhdCBhbGwgZGlyZWN0b3JpZXMg
YXJlIHZhbGlkCisgKiBhbWRncHVfdm1fdXBkYXRlX3BkZXMgLSBtYWtlIHN1cmUgdGhhdCBhbGwg
ZGlyZWN0b3JpZXMgYXJlIHZhbGlkCiAgKgogICogQGFkZXY6IGFtZGdwdV9kZXZpY2UgcG9pbnRl
cgogICogQHZtOiByZXF1ZXN0ZWQgdm0KKyAqIEBkaXJlY3Q6IHN1Ym1pdCBkaXJlY3RseSB0byB0
aGUgcGFnaW5nIHF1ZXVlCiAgKgogICogTWFrZXMgc3VyZSBhbGwgZGlyZWN0b3JpZXMgYXJlIHVw
IHRvIGRhdGUuCiAgKgogICogUmV0dXJuczoKICAqIDAgZm9yIHN1Y2Nlc3MsIGVycm9yIGZvciBm
YWlsdXJlLgogICovCi1pbnQgYW1kZ3B1X3ZtX3VwZGF0ZV9kaXJlY3RvcmllcyhzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldiwKLQkJCQkgc3RydWN0IGFtZGdwdV92bSAqdm0pCitpbnQgYW1kZ3B1
X3ZtX3VwZGF0ZV9wZGVzKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LAorCQkJICBzdHJ1Y3Qg
YW1kZ3B1X3ZtICp2bSwgYm9vbCBkaXJlY3QpCiB7CiAJc3RydWN0IGFtZGdwdV92bV91cGRhdGVf
cGFyYW1zIHBhcmFtczsKIAlpbnQgcjsKQEAgLTEyNDksNiArMTI1MCw3IEBAIGludCBhbWRncHVf
dm1fdXBkYXRlX2RpcmVjdG9yaWVzKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LAogCW1lbXNl
dCgmcGFyYW1zLCAwLCBzaXplb2YocGFyYW1zKSk7CiAJcGFyYW1zLmFkZXYgPSBhZGV2OwogCXBh
cmFtcy52bSA9IHZtOworCXBhcmFtcy5kaXJlY3QgPSBkaXJlY3Q7CiAKIAlyID0gdm0tPnVwZGF0
ZV9mdW5jcy0+cHJlcGFyZSgmcGFyYW1zLCBBTURHUFVfRkVOQ0VfT1dORVJfVk0sIE5VTEwpOwog
CWlmIChyKQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3Zt
LmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdm0uaAppbmRleCA1NGRjZDBi
Y2NlMWEuLjBhOTdkYzgzOWYzYiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X3ZtLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3Zt
LmgKQEAgLTM2Niw4ICszNjYsOCBAQCBpbnQgYW1kZ3B1X3ZtX3ZhbGlkYXRlX3B0X2JvcyhzdHJ1
Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgc3RydWN0IGFtZGdwdV92bSAqdm0sCiAJCQkgICAgICBp
bnQgKCpjYWxsYmFjaykodm9pZCAqcCwgc3RydWN0IGFtZGdwdV9ibyAqYm8pLAogCQkJICAgICAg
dm9pZCAqcGFyYW0pOwogaW50IGFtZGdwdV92bV9mbHVzaChzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJp
bmcsIHN0cnVjdCBhbWRncHVfam9iICpqb2IsIGJvb2wgbmVlZF9waXBlX3N5bmMpOwotaW50IGFt
ZGdwdV92bV91cGRhdGVfZGlyZWN0b3JpZXMoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCi0J
CQkJIHN0cnVjdCBhbWRncHVfdm0gKnZtKTsKK2ludCBhbWRncHVfdm1fdXBkYXRlX3BkZXMoc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCisJCQkgIHN0cnVjdCBhbWRncHVfdm0gKnZtLCBib29s
IGRpcmVjdCk7CiBpbnQgYW1kZ3B1X3ZtX2NsZWFyX2ZyZWVkKHN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2LAogCQkJICBzdHJ1Y3QgYW1kZ3B1X3ZtICp2bSwKIAkJCSAgc3RydWN0IGRtYV9mZW5j
ZSAqKmZlbmNlKTsKLS0gCjIuMTcuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGlu
Zm8vZHJpLWRldmVs
