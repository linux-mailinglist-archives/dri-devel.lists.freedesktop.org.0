Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 68131F03D6
	for <lists+dri-devel@lfdr.de>; Tue,  5 Nov 2019 18:09:17 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 52E9B6EAD7;
	Tue,  5 Nov 2019 17:09:15 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mx1.suse.de (mx2.suse.de [195.135.220.15])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 5C1116EAD7
 for <dri-devel@lists.freedesktop.org>; Tue,  5 Nov 2019 17:09:13 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id AC071B2E4;
 Tue,  5 Nov 2019 17:09:11 +0000 (UTC)
Date: Tue, 05 Nov 2019 18:09:11 +0100
Message-ID: <s5ha79atfm0.wl-tiwai@suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: Russell King - ARM Linux admin <linux@armlinux.org.uk>
Subject: Re: Incorrect buffer handling in dw-hdmi bridge audio
In-Reply-To: <20191105170203.GR25745@shell.armlinux.org.uk>
References: <s5heeymbvva.wl-tiwai@suse.de>
 <6ad19121-c0e3-d278-2943-ff93ef80353b@baylibre.com>
 <20191105160215.GQ25745@shell.armlinux.org.uk>
 <s5hh83ith93.wl-tiwai@suse.de> <s5heeymtgr9.wl-tiwai@suse.de>
 <20191105170203.GR25745@shell.armlinux.org.uk>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 Emacs/25.3
 (x86_64-suse-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Jernej Skrabec <jernej.skrabec@siol.net>, Jonas Karlman <jonas@kwiboo.se>,
 Neil Armstrong <narmstrong@baylibre.com>, alsa-devel@alsa-project.org,
 dri-devel@lists.freedesktop.org,
 Laurent Pinchart <Laurent.pinchart@ideasonboard.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVHVlLCAwNSBOb3YgMjAxOSAxODowMjowMyArMDEwMCwKUnVzc2VsbCBLaW5nIC0gQVJNIExp
bnV4IGFkbWluIHdyb3RlOgo+IAo+IE9uIFR1ZSwgTm92IDA1LCAyMDE5IGF0IDA1OjQ0OjI2UE0g
KzAxMDAsIFRha2FzaGkgSXdhaSB3cm90ZToKPiA+IE9uIFR1ZSwgMDUgTm92IDIwMTkgMTc6MzM6
NDQgKzAxMDAsCj4gPiBUYWthc2hpIEl3YWkgd3JvdGU6Cj4gPiA+IAo+ID4gPiBPbiBUdWUsIDA1
IE5vdiAyMDE5IDE3OjAyOjE1ICswMTAwLAo+ID4gPiBSdXNzZWxsIEtpbmcgLSBBUk0gTGludXgg
YWRtaW4gd3JvdGU6Cj4gPiA+ID4gCj4gPiA+ID4gT24gVHVlLCBOb3YgMDUsIDIwMTkgYXQgMDk6
MDc6NDNBTSArMDEwMCwgTmVpbCBBcm1zdHJvbmcgd3JvdGU6Cj4gPiA+ID4gPiBIaSwKPiA+ID4g
PiA+IAo+ID4gPiA+ID4gT24gMDUvMTEvMjAxOSAwODo1NSwgVGFrYXNoaSBJd2FpIHdyb3RlOgo+
ID4gPiA+ID4gPiBIaSwKPiA+ID4gPiA+ID4gCj4gPiA+ID4gPiA+IHdoaWxlIHJlY2VudGx5IHdv
cmtpbmcgb24gdGhlIEFMU0EgbWVtb3J5IGFsbG9jYXRvciBBUEkgY2xlYW51cCwgSQo+ID4gPiA+
ID4gPiBub3RpY2VkIHRoYXQgZHctaGRtaSBicmlkZ2UgZHJpdmVyIHNlZW1zIGRvaW5nIHdlaXJk
IGFib3V0IHRoZSBidWZmZXIKPiA+ID4gPiA+ID4gbWFuYWdlbWVudC4gIEl0IHByZS1hbGxvY2F0
ZXMgdGhlIHVzdWFsIGRldmljZSBidWZmZXJzIGZ1bGx5IGF0IHRoZQo+ID4gPiA+ID4gPiBwcm9i
ZSB0aW1lLCB3aGlsZSBlYWNoIHN0cmVhbSBhbGxvY2F0ZXMgdGhlIGJ1ZmZlciB2aWEgdGhlIHZt
YWxsb2MKPiA+ID4gPiA+ID4gaGVscGVycyBhbmQgcmVwbGFjZXMgd2l0aCBpdCBhdCBlYWNoIG9w
ZW4uCj4gPiA+ID4gPiA+IAo+ID4gPiA+ID4gPiBJIGd1ZXNzIGl0J3Mgbm8gZXhwZWN0ZWQgYmVo
YXZpb3I/ICBJdCdzIGJhc2ljYWxseSBhIGZ1bGwgd2FzdGUgb2YKPiA+ID4gPiA+ID4gcmVzb3Vy
Y2VzLCBhbmQgdGhlIHZtYWxsb2MgYnVmZmVyIGlzbid0IGd1YXJhbnRlZWQgdG8gd29yayB3ZWxs
IGZvcgo+ID4gPiA+ID4gPiBtbWFwIG9uIGV2ZXJ5IGFyY2hpdGVjdHVyZS4KPiA+ID4gPiA+ID4g
Cj4gPiA+ID4gPiA+IEJlbG93IGlzIHRoZSBwYXRjaCB0byBhZGRyZXNzIGl0LiAgQ2FuIGFueW9u
ZSBjaGVjayB3aGV0aGVyIHRoaXMgc3RpbGwKPiA+ID4gPiA+ID4gd29ya3M/Cj4gPiA+ID4gPiAK
PiA+ID4gPiA+IEkgZG9uJ3QgaGF2ZSB0aGUgc2V0dXAgdG8gY2hlY2ssIGJ1dCB0aGlzIGhhcyBi
ZWVuIHB1c2hlZCBieSBSdXNzZWxsIEkgQWRkZWQgaW4gQ0MuCj4gPiA+ID4gPiAKPiA+ID4gPiA+
IEkgYWxzbyBhZGRlZCB0aGUgaW14IG1haW50YWluZXIgc2luY2UgaXQncyAoQUZBSUspIG9ubHkg
dXNlZCBvbiBpTVggU29Dcy4KPiA+ID4gPiA+IAo+ID4gPiA+ID4gTmVpbAo+ID4gPiA+ID4gCj4g
PiA+ID4gPiA+IAo+ID4gPiA+ID4gPiBTaW5jZSBJIGhhdmUgYSBjbGVhbnVwIHNlcmllcyBhbmQg
dGhpcyBpcyBpbnZvbHZlZCwgSSdkIGxpa2UgdG8gdGFrZQo+ID4gPiA+ID4gPiB0aGUgZml4IHRo
cm91Z2ggbXkgdHJlZSBvbmNlIGFmdGVyIGl0J3MgY29uZmlybWVkIChhbmQgZ2V0IEFDSyBpZgo+
ID4gPiA+ID4gPiBwb3NzaWJsZSkuCj4gPiA+ID4gPiA+IAo+ID4gPiA+ID4gPiAKPiA+ID4gPiA+
ID4gVGhhbmtzIQo+ID4gPiA+ID4gPiAKPiA+ID4gPiA+ID4gVGFrYXNoaQo+ID4gPiA+ID4gPiAK
PiA+ID4gPiA+ID4gLS0gODwgLS0KPiA+ID4gPiA+ID4gRnJvbTogVGFrYXNoaSBJd2FpIDx0aXdh
aUBzdXNlLmRlPgo+ID4gPiA+ID4gPiBTdWJqZWN0OiBbUEFUQ0hdIGRybS9icmlkZ2U6IGR3LWhk
bWk6IEZpeCB0aGUgaW5jb3JyZWN0IGJ1ZmZlciBhbGxvY2F0aW9ucwo+ID4gPiA+ID4gPiAKPiA+
ID4gPiA+ID4gVGhlIGRyaXZlciBzZXRzIHVwIHRoZSBidWZmZXIgcHJlYWxsb2NhdGlvbiB3aXRo
IFNORFJWX0RNQV9UWVBFX0RFViwKPiA+ID4gPiA+ID4gd2hpbGUgaXQgcmUtYWxsb2NhdGVzIGFu
ZCByZWxlYXNlcyB2bWFsbG9jIHBhZ2VzLiAgVGhpcyBpcyBub3Qgb25seSBhCj4gPiA+ID4gPiA+
IGxvdCBvZiB3YXN0ZSByZXNvdXJjZXMgYnV0IGFsc28gY2F1c2VzIHRoZSBtbWFwIG1hbGZ1bmN0
aW9uLgo+ID4gPiA+ID4gPiAKPiA+ID4gPiA+ID4gQ2hhbmdlIC8gZHJvcCB0aGUgdm1hbGxvYy1y
ZWxhdGVkIGNvZGUgYW5kIHVzZSB0aGUgc3RhbmRhcmQgYnVmZmVyCj4gPiA+ID4gPiA+IGFsbG9j
YXRpb24gLyByZWxlYXNlIGNvZGUgaW5zdGVhZC4KPiA+ID4gPiAKPiA+ID4gPiBJIHRoaW5rIGdl
dHRpbmcgcmlkIG9mIHRoZSB2bWFsbG9jIGNvZGUgaGVyZSBpcyBhIG1pc3Rha2UgLSBJIHNlZW0g
dG8KPiA+ID4gPiByZW1lbWJlciB1c2luZyB0aGUgc3RhbmRhcmQgYnVmZmVyIGFsbG9jYXRpb24g
Y2F1c2VzIGZhaWx1cmVzLCBkdWUgdG8KPiA+ID4gPiBtZW1vcnkgZnJhZ21lbnRhdGlvbi4gIFNp
bmNlIHRoZSBoYXJkd2FyZSBpcyBsaW1pdGVkIHRvIERNQSBmcm9tIGF0Cj4gPiA+ID4gbW9zdCBv
bmUgcGFnZSwgdGhlcmUgaXMgbm8gcmVhc29uIGZvciB0aGlzIGRyaXZlciB0byByZXF1aXJlIGNv
bnRpZ3VvdXMKPiA+ID4gPiBwYWdlcywgaGVuY2Ugd2h5IGl0J3MgdXNpbmcgLSBhbmQgc2hvdWxk
IHVzZSAtIHZtYWxsb2MgcGFnZXMuICB2bWFsbG9jCj4gPiA+ID4gaXMgd2F5IGtpbmRlciB0byB0
aGUgTU0gc3Vic3lzdGVtIHRoYW4gdHJ5aW5nIHRvIHJlcXVlc3QgbGFyZ2Ugb3JkZXIKPiA+ID4g
PiBjb250aWd1b3VzIHBhZ2VzLgo+ID4gPiA+IAo+ID4gPiA+IFNvLCBOQUsgb24gdGhpcyBwYXRj
aC4KPiA+ID4gCj4gPiA+IE9LLCB0aGVuIHdlIHNob3VsZCBkbyBvdGhlciB3YXkgcm91bmQsIHJh
dGhlciBkcm9wIHRoZSBidWZmZXIKPiA+ID4gcHJlYWxsb2NhdGlvbiBpbnN0ZWFkLiAgQ3VycmVu
dGx5IHZtYWxsb2MgYnVmZmVyIGlzIGFsd2F5cyBhbGxvY2F0ZWQKPiA+ID4gYXQgZWFjaCBvcGVu
IGFuZCBvdmVycmlkZXMgdGhlIHByZWFsbG9jYXRlZCBidWZmZXIsIHNvIHRoZSB3aG9sZSA2NGsK
PiA+ID4gYW5kIG1vcmUgYXJlIHdhc3RlZCBmb3Igbm8gdXNlLgo+ID4gPiAKPiA+ID4gKEJUVywg
dGhlIGN1cnJlbnQgY29kZSBoYXMgdGhpcyBzbmlwcGV0Ogo+ID4gPiAKPiA+ID4gCS8qIExpbWl0
IHRoZSBidWZmZXIgc2l6ZSB0byB0aGUgc2l6ZSBvZiB0aGUgcHJlYWxsb2NhdGVkIGJ1ZmZlciAq
Lwo+ID4gPiAJcmV0ID0gc25kX3BjbV9od19jb25zdHJhaW50X21pbm1heChydW50aW1lLAo+ID4g
PiAJCQkJCSAgIFNORFJWX1BDTV9IV19QQVJBTV9CVUZGRVJfU0laRSwKPiA+ID4gCQkJCQkgICAw
LCBzdWJzdHJlYW0tPmRtYV9idWZmZXIuYnl0ZXMpOwo+ID4gPiAKPiA+ID4gLi4uIGFuZCB0aGlz
IHdvdWxkIGhhdmUgdG8gbGltaXQgdGhlIGJ1ZmZlciBzaXplIG9ubHkgdG8gdGhlCj4gPiA+IHBy
ZWFsbG9jYXRlZCBzaXplIC0tIHdoaWNoIGVzc2VudGlhbGx5IG1ha2VzIHRoZSBhcmd1bWVudCBh
Ym92ZQo+ID4gPiBpbnZhbGlkLiAgSG93ZXZlciwgdGhpcyBjaGVjayBsb29rcyBhY3R1YWxseSBi
b2d1cywgdGhlIGNvbnN0cmFpbnQKPiA+ID4gcGFyYW1ldGVyIHNob3VsZCBiZSBTTkRSVl9QQ01f
SFdfUEFSQU1fQlVGRkVSX0JZVEVTLCBub3QgX1NJWkUuICBJdAo+ID4gPiBtaWdodCBiZSB0aGUg
cmVhc29uIGl0IHdvcmtlZCBzb21laG93Li4uKQo+ID4gPiAKPiA+ID4gU28gYmVsb3cgaXMgdGhl
IHJldmlzZWQgcGF0Y2guICBDb3VsZCB5b3UgZ3V5cyBjaGVjayBpdCBhZ2Fpbj8KPiA+ID4gCj4g
PiA+IFRoZXJlIEkgY29waWVkIHRoZSBjb21tZW50IGFzIGlzLCBhbHRob3VnaCB0aGUgNTEyayBt
ZW50aW9uZWQgdGhlcmUKPiA+ID4gbG9va3MgaW5jb25zaXN0ZW50IHdpdGggdGhlIGFjdHVhbCBj
b2RlLiAgU2hvdWxkIGl0IGJlIDFNPwo+ID4gCj4gPiAuLi4gYW5kIHJlYWRpbmcgdGhlIHBhdGNo
IGFnYWluLCBJIGZvdW5kIHRoYXQgdGhlIGh3IGNvbnN0cmFpbnQgY2FsbAo+ID4gY2FuIGJlIGRy
b3BwZWQgYXMgd2VsbC4gIFRoZSBkd19oZG1pX2h3IGRlZmluaXRpb24gYWxyZWFkeSBjb250YWlu
cwo+ID4gdGhlIG1heCBidWZmZXIgc2l6ZS4KPiA+IAo+ID4gQmVsb3cgaXMgdGhlIHJlLXJldmlz
ZWQgcGF0Y2guICBQbGVhc2UgY2hlY2sgaXQuCj4gCj4gSSB3YXMgc2xpZ2h0bHkgd3JvbmcgLSBz
b3JyeS4gIEl0J3MgYmVlbiBhIGxvbmcgdGltZSBzaW5jZSBJIGxvb2tlZCBhdAo+IHRoaXMgZHJp
dmVyLCBvciBldmVuIHVzZWQgaXQgLSBidXQgaXQgaXMgdGhlIG9ubHkgZHJpdmVyIHRoYXQgc3Vw
cG9ydHMKPiBIRE1JIGF1ZGlvIG9uIGlNWDYgcGxhdGZvcm1zLCBzbyBJIGd1ZXNzIHRoZXJlIGFy
ZSBsb3RzIG9mIHVzZXJzIG91dAo+IHRoZXJlLi4uIG9yIG1heWJlIG5vdCBpZiBub25lIG9mIHRo
ZW0gdXNlIG1haW5saW5lIGtlcm5lbHMuCj4gCj4gVGhlIGhhcmR3YXJlIGlzIGNhcGFibGUgb2Yg
cmVhZGluZyBhY3Jvc3MgYSBwYWdlLiAgSG93ZXZlciwgdGhlIGhhcmR3YXJlCj4gaXMgX25vdF8g
Y2FwYWJsZSBvZiByZWFkaW5nIGFueSBkYXRhIHRoYXQgaXMgZm9ybWF0dGVkIGFzIEFMU0EgQVBJ
cwo+IGFsbG93IGl0IHRvIGJlLiAgVGhlIGRyaXZlciBoYXMgdG8gcmVmb3JtYXQgdGhlIEFMU0Eg
c3VwcGxpZWQgc291bmQKPiBidWZmZXJzIHRvIHRoZSBsYXlvdXQgdGhlIGhhcmR3YXJlIHJlcXVp
cmVzLgo+IAo+IFRvIGRvIHRoaXMsIHdlIGhhdmUgdHdvIGRpZmZlcmVudCBidWZmZXJzOgo+IAo+
IC0gVGhlIHN1YnN0cmVhbSBidWZmZXIgaXMgdGhlIGJ1ZmZlciB3aGljaCB0aGUgaGFyZHdhcmUg
cmVhZHMgZnJvbS4KPiAtIFRoZSBydW50aW1lIGJ1ZmZlciBpcyB0aGUgYnVmZmVyIHdoaWNoIEFM
U0EgdXNlcy4KPiAKPiBUaGUgY2FsbCB0byBzbmRfcGNtX2xpYl9wcmVhbGxvY2F0ZV9wYWdlc19m
b3JfYWxsKCkgYWxsb2NhdGVzIHRoZQo+IGhhcmR3YXJlIGJ1ZmZlciwgd2hpY2ggaXMgYSBzaW5n
bGUgY29udGlndW91cyBidWZmZXIgb2YgZml4ZWQgc2l6ZS4KPiAKPiBUaGUgdXNlciBidWZmZXIg
aXMgYWxsb2NhdGVkIHdpdGggc25kX3BjbV9saWJfYWxsb2Nfdm1hbGxvY19idWZmZXIoKS4KPiAK
PiBIZW5jZSwgdGhlIGRyaXZlciBtYWtlcyB1c2Ugb2YgYm90aC4gIFlvdSBjYW4ndCBnZXQgcmlk
IG9mIGVpdGhlcgo+IG9mIHRoZW0uCgpBaCwgdGhhbmtzLCBpdCBtYWtlcyBzZW5zZSBhbmQgZW5s
aWdodGVucyBtZSEKCk9LLCBzbyB3ZSBuZWVkIHRvIGtlZXAgYm90aCBidWZmZXJzLiAgQnV0IHRo
ZSB0eXBvIG9mIGh3IGNvbnN0cmFpbnQKcGFyYW1ldGVyIHNob3VsZCBiZSBzdGlsbCBjb3JyZWN0
ZWQsIGJ1dCBpdCdzIGEgbWlub3IgaXNzdWUuCgpJdCdzIGEgcGl0eSB0aGF0IHRoaXMgZHJpdmVy
IHdpbGwgYmUgdGhlIG9ubHkgb25lIHdobyBzdGlsbCBuZWVkcyB0aGUKZXhwbGljaXQgY2FsbHMg
b2Ygc25kX3BjbV9saWJfKnZtYWxsb2MqKCkgaGVscGVycyBhZnRlciBteSBjbGVhbnVwCnNlcmll
cy4gIEkgbWlnaHQgY29tZSB1cCB3aXRoIGFub3RoZXIgY2xlYW51cCwgYnV0IHRoZW4gbGV0J3Mg
a2VlcCB0aGUKYnVmZmVyIHN0dWZmIGFzIGlzLgoKClRha2FzaGkKX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmkt
ZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
L21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
