Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 3F2113894C
	for <lists+dri-devel@lfdr.de>; Fri,  7 Jun 2019 13:45:17 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 82E5E89D7B;
	Fri,  7 Jun 2019 11:45:14 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from perceval.ideasonboard.com (perceval.ideasonboard.com
 [IPv6:2001:4b98:dc2:55:216:3eff:fef7:d647])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 589E389D7C
 for <dri-devel@lists.freedesktop.org>; Fri,  7 Jun 2019 11:45:13 +0000 (UTC)
Received: from pendragon.ideasonboard.com (unknown
 [IPv6:2a02:a03f:44f0:8500:ca05:8177:199c:fed4])
 by perceval.ideasonboard.com (Postfix) with ESMTPSA id 8FDC0B91;
 Fri,  7 Jun 2019 13:45:11 +0200 (CEST)
Date: Fri, 7 Jun 2019 14:44:57 +0300
From: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
To: Jacopo Mondi <jacopo+renesas@jmondi.org>
Subject: Re: [PATCH 14/20] drm: rcar-du: Add support for CMM
Message-ID: <20190607114457.GA26791@pendragon.ideasonboard.com>
References: <20190606142220.1392-1-jacopo+renesas@jmondi.org>
 <20190606142220.1392-15-jacopo+renesas@jmondi.org>
 <20190607113540.GB7593@pendragon.ideasonboard.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190607113540.GB7593@pendragon.ideasonboard.com>
User-Agent: Mutt/1.10.1 (2018-07-13)
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=ideasonboard.com; s=mail; t=1559907911;
 bh=aJU7/C0WfVpA2Tr2qYgl6tG3xSeNg0/AMq4OmP9g5X8=;
 h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
 b=cHDNYkbgb1Og4ywuZSbxkZSM9VDjO2QQXFVEHLliKBALR79IkmqFzi9ufhZWVfOZp
 N/M73C2HSTIzQMcro09yz39s4yxI5FbaiAvTsQVuNm1B2lKu0HIto7wWjzjintmYAZ
 RFudPZMs0kriVQ3Cx29Nyta94c3d7lOX4Ek6JY98=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: muroya@ksk.co.jp, VenkataRajesh.Kalakodima@in.bosch.com, airlied@linux.ie,
 koji.matsuoka.xm@renesas.com, dri-devel@lists.freedesktop.org,
 linux-kernel@vger.kernel.org, linux-renesas-soc@vger.kernel.org,
 kieran.bingham+renesas@ideasonboard.com,
 Harsha.ManjulaMallikarjun@in.bosch.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgSmFjb3BvLAoKT24gRnJpLCBKdW4gMDcsIDIwMTkgYXQgMDI6MzU6NDBQTSArMDMwMCwgTGF1
cmVudCBQaW5jaGFydCB3cm90ZToKPiBIaSBKYWNvcG8sCj4gCj4gVGhhbmsgeW91IGZvciB0aGUg
cGF0Y2guCj4gCj4gT24gVGh1LCBKdW4gMDYsIDIwMTkgYXQgMDQ6MjI6MTRQTSArMDIwMCwgSmFj
b3BvIE1vbmRpIHdyb3RlOgo+ID4gQWRkIGEgZHJpdmVyIGZvciB0aGUgUi1DYXIgRGlzcGxheSBV
bml0IENvbG9yIENvcnJlY3Rpb24gTW9kdWxlLgo+ID4gCj4gPiBFYWNoIERVIG91dHB1dCBjaGFu
bmVsIGlzIHByb3ZpZGVkIHdpdGggYSBDTU0gdW5pdCB0byBwZXJmb3JtIGltYWdlCj4gPiBlbmhh
bmNlbWVudCBhbmQgY29sb3IgY29ycmVjdGlvbi4KPiAKPiBJIHdvdWxkIHNheSAiT24gbW9zdCBH
ZW4zIFNvQ3MsIGVhY2ggRFUgLi4uIiBhcyBWMyogU29DcyBoYXZlIG5vIENNTS4KPiAKPiA+IAo+
ID4gQWRkIHN1cHBvcnQgZm9yIENNTSB0aHJvdWdoIGEgZHJpdmVyIHRoYXQgc3VwcG9ydHMgY29u
ZmlndXJhdGlvbiBvZgo+ID4gdGhlIDEtZGltZW5zaW9uYWwgTFVUIHRhYmxlLiBNb3JlIGFkdmFu
Y2VkIENNTSBmZWF0dXJlIGNvdWxkIGJlCj4gPiBpbXBsZW1lbnRlZCBvbiB0b3Agb2YgdGhpcyBi
YXNpYyBvbmUuCj4gCj4gcy9jb3VsZCBiZS93aWxsIGJlLyA/IDotKQo+IAo+ID4gCj4gPiBTaWdu
ZWQtb2ZmLWJ5OiBKYWNvcG8gTW9uZGkgPGphY29wbytyZW5lc2FzQGptb25kaS5vcmc+Cj4gPiAt
LS0KPiA+ICBkcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9LY29uZmlnICAgIHwgICA3ICsKPiA+ICBk
cml2ZXJzL2dwdS9kcm0vcmNhci1kdS9NYWtlZmlsZSAgIHwgICAxICsKPiA+ICBkcml2ZXJzL2dw
dS9kcm0vcmNhci1kdS9yY2FyX2NtbS5jIHwgMTk3ICsrKysrKysrKysrKysrKysrKysrKysrKysr
KysrCj4gPiAgZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9jbW0uaCB8ICAzOCArKysrKysK
PiA+ICA0IGZpbGVzIGNoYW5nZWQsIDI0MyBpbnNlcnRpb25zKCspCj4gPiAgY3JlYXRlIG1vZGUg
MTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfY21tLmMKPiA+ICBjcmVhdGUgbW9k
ZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9jbW0uaAo+ID4gCj4gPiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvS2NvbmZpZyBiL2RyaXZlcnMvZ3B1L2Ry
bS9yY2FyLWR1L0tjb25maWcKPiA+IGluZGV4IDE1Mjk4NDllMjE3ZS4uNTM5ZDIzMjc5MGQxIDEw
MDY0NAo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvS2NvbmZpZwo+ID4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvS2NvbmZpZwo+ID4gQEAgLTEzLDYgKzEzLDEzIEBAIGNv
bmZpZyBEUk1fUkNBUl9EVQo+ID4gIAkgIENob29zZSB0aGlzIG9wdGlvbiBpZiB5b3UgaGF2ZSBh
biBSLUNhciBjaGlwc2V0Lgo+ID4gIAkgIElmIE0gaXMgc2VsZWN0ZWQgdGhlIG1vZHVsZSB3aWxs
IGJlIGNhbGxlZCByY2FyLWR1LWRybS4KPiA+ICAKPiA+ICtjb25maWcgRFJNX1JDQVJfQ01NCj4g
PiArCWJvb2wgIlItQ2FyIERVIENvbG9yIE1hbmFnZW1lbnQgTW9kdWxlIChDTU0pIFN1cHBvcnQi
Cj4gPiArCWRlcGVuZHMgb24gRFJNICYmIE9GCj4gPiArCWRlcGVuZHMgb24gRFJNX1JDQVJfRFUK
PiA+ICsJaGVscAo+ID4gKwkgIEVuYWJsZSBzdXBwb3J0IGZvciBSLUNhciBDb2xvciBNYW5hZ2Vt
ZW50IE1vZHVsZSAoQ01NKS4KPiA+ICsKPiA+ICBjb25maWcgRFJNX1JDQVJfRFdfSERNSQo+ID4g
IAl0cmlzdGF0ZSAiUi1DYXIgRFUgR2VuMyBIRE1JIEVuY29kZXIgU3VwcG9ydCIKPiA+ICAJZGVw
ZW5kcyBvbiBEUk0gJiYgT0YKPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcmNhci1k
dS9NYWtlZmlsZSBiL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L01ha2VmaWxlCj4gPiBpbmRleCA2
YzJlZDljNDY0NjcuLjRkMTE4N2NjYzNlNSAxMDA2NDQKPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9yY2FyLWR1L01ha2VmaWxlCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9NYWtl
ZmlsZQo+ID4gQEAgLTE1LDYgKzE1LDcgQEAgcmNhci1kdS1kcm0tJChDT05GSUdfRFJNX1JDQVJf
TFZEUykJKz0gcmNhcl9kdV9vZi5vIFwKPiA+ICByY2FyLWR1LWRybS0kKENPTkZJR19EUk1fUkNB
Ul9WU1ApCSs9IHJjYXJfZHVfdnNwLm8KPiA+ICByY2FyLWR1LWRybS0kKENPTkZJR19EUk1fUkNB
Ul9XUklURUJBQ0spICs9IHJjYXJfZHVfd3JpdGViYWNrLm8KPiA+ICAKPiA+ICtvYmotJChDT05G
SUdfRFJNX1JDQVJfQ01NKQkJKz0gcmNhcl9jbW0ubwo+ID4gIG9iai0kKENPTkZJR19EUk1fUkNB
Ul9EVSkJCSs9IHJjYXItZHUtZHJtLm8KPiA+ICBvYmotJChDT05GSUdfRFJNX1JDQVJfRFdfSERN
SSkJCSs9IHJjYXJfZHdfaGRtaS5vCj4gPiAgb2JqLSQoQ09ORklHX0RSTV9SQ0FSX0xWRFMpCQkr
PSByY2FyX2x2ZHMubwo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3Jj
YXJfY21tLmMgYi9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2NtbS5jCj4gPiBuZXcgZmls
ZSBtb2RlIDEwMDY0NAo+ID4gaW5kZXggMDAwMDAwMDAwMDAwLi41ZDlkOTE3YjkxZjQKPiA+IC0t
LSAvZGV2L251bGwKPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfY21tLmMK
PiA+IEBAIC0wLDAgKzEsMTk3IEBACj4gPiArLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQ
TC0yLjAKPiA+ICsvKgo+ID4gKyAqIHJjYXJfY21tLmMgLS0gUi1DYXIgRGlzcGxheSBVbml0IENv
bG9yIE1hbmFnZW1lbnQgTW9kdWxlCj4gPiArICoKPiA+ICsgKiBDb3B5cmlnaHQgKEMpIDIwMTkg
SmFjb3BvIE1vbmRpIDxqYWNvcG8rcmVuZXNhc0BqbW9uZGkub3JnPgo+ID4gKyAqLwo+ID4gKwo+
ID4gKyNpbmNsdWRlIDxsaW51eC9jbGsuaD4KPiA+ICsjaW5jbHVkZSA8bGludXgvaW8uaD4KPiA+
ICsjaW5jbHVkZSA8bGludXgvbW9kdWxlLmg+Cj4gPiArI2luY2x1ZGUgPGxpbnV4L29mLmg+Cj4g
PiArI2luY2x1ZGUgPGxpbnV4L3BsYXRmb3JtX2RldmljZS5oPgo+ID4gKwo+ID4gKyNpbmNsdWRl
IDxkcm0vZHJtX2F0b21pYy5oPgo+ID4gKwo+ID4gKyNpbmNsdWRlICJyY2FyX2NtbS5oIgo+ID4g
Kwo+ID4gKyNkZWZpbmUgQ00yX0xVVF9DVFJMCQkweDAwCj4gCj4gSSB3b3VsZCB3cml0ZSBhbGwg
cmVnaXN0ZXIgYWRkcmVzc2VzIHdpdGggMyAob3IgNCkgZGlnaXRzLgo+IAo+ID4gKyNkZWZpbmUg
Q00yX0xVVF9DVFJMX0VOCQlCSVQoMCkKPiA+ICsjZGVmaW5lIENNMl9MVVRfVEJMQQkJMHg2MDAK
PiAKPiBJIHdvdWxkIGRlZmluZSB0aGlzIGFzCj4gCj4gI2RlZmluZSBDTTJfTFVUX1RCTEEobikJ
CSgweDYwMCArIChuKSAqIDQpCj4gCj4gPiArCj4gPiArc3RydWN0IHJjYXJfY21tIHsKPiA+ICsJ
c3RydWN0IGNsayAqY2xrOwo+ID4gKwl2b2lkIF9faW9tZW0gKmJhc2U7Cj4gPiArCWJvb2wgZW5h
YmxlZDsKPiA+ICsKPiA+ICsJLyogTFVUIHRhYmxlIHNjcmF0Y2ggYnVmZmVyLiAqLwo+ID4gKwlz
dHJ1Y3Qgewo+ID4gKwkJYm9vbCByZXN0b3JlOwo+ID4gKwkJdW5zaWduZWQgaW50IHNpemU7Cj4g
PiArCQl1aW50MzJfdCB0YWJsZVtDTU1fR0FNTUFfTFVUX1NJWkVdOwo+ID4gKwl9IGx1dDsKPiA+
ICt9Owo+ID4gKwo+ID4gK3N0YXRpYyBpbmxpbmUgaW50IHJjYXJfY21tX3JlYWQoc3RydWN0IHJj
YXJfY21tICpyY21tLCB1MzIgcmVnKQo+ID4gK3sKPiA+ICsJcmV0dXJuIGlvcmVhZDMyKHJjbW0t
PmJhc2UgKyByZWcpOwo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgaW5saW5lIHZvaWQgcmNhcl9j
bW1fd3JpdGUoc3RydWN0IHJjYXJfY21tICpyY21tLCB1MzIgcmVnLCB1MzIgZGF0YSkKPiA+ICt7
Cj4gPiArCWlvd3JpdGUzMihkYXRhLCByY21tLT5iYXNlICsgcmVnKTsKPiA+ICt9Cj4gPiArCj4g
PiAraW50IHJjYXJfY21tX3NldHVwKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYsIHN0cnVj
dCByY2FyX2NtbV9jb25maWcgKmNvbmZpZykKPiAKPiBQbGVhc2UgZG9jdW1lbnQgdGhlIGZ1bmN0
aW9ucyBleHBvc2VkIHRvIHRoZSBEVSBkcml2ZXIuIEl0J3MgaGFyZCB0bwo+IHVuZGVyc3RhbmQg
dGhlIHNldHVwIHZzLiBlbmFibGUvZGlzYWJsZSBzcGxpdCBieSBqdXN0IHJlYWRpbmcgdGhpcwo+
IGRyaXZlci4KPiAKPiA+ICt7Cj4gPiArCXN0cnVjdCByY2FyX2NtbSAqcmNtbSA9IHBsYXRmb3Jt
X2dldF9kcnZkYXRhKHBkZXYpOwo+ID4gKwl1bnNpZ25lZCBpbnQgaTsKPiA+ICsKPiA+ICsJaWYg
KGNvbmZpZy0+bHV0LnNpemUgPiBDTU1fR0FNTUFfTFVUX1NJWkUpCj4gPiArCQlyZXR1cm4gLUVJ
TlZBTDsKPiA+ICsKPiA+ICsJLyoKPiA+ICsJICogQXMgY21tX3NldHVwIGlzIGNhbGxlZCBieSBh
dG9taWMgY29tbWl0IHRhaWwgaGVscGVyLCBpdCBtaWdodCBiZQo+ID4gKwkgKiBjYWxsZWQgYmVm
b3JlIHRoZSBlbmFibGluZyB0aGUgQ1JUQyAod2hpY2ggY2FsbHMgY21tX2VuYWJsZSgpKS4KPiA+
ICsJICoKPiA+ICsJICogU3RvcmUgdGhlIExVVCB0YWJsZSBlbnRyaWVzIGluIHRoZSBzY3JhdGNo
IGJ1ZmZlciB0byBiZSBsYXRlcgo+ID4gKwkgKiBwcm9ncmFtbWVkIGF0IGVuYWJsZSB0aW1lLgo+
ID4gKwkgKi8KPiA+ICsJaWYgKCFyY21tLT5lbmFibGVkKSB7Cj4gPiArCQlpZiAoIWNvbmZpZy0+
bHV0LmVuYWJsZSkKPiA+ICsJCQlyZXR1cm4gMDsKPiA+ICsKPiA+ICsJCWZvciAoaSA9IDA7IGkg
PCBjb25maWctPmx1dC5zaXplOyArK2kpIHsKPiA+ICsJCQlzdHJ1Y3QgZHJtX2NvbG9yX2x1dCAq
bHV0ID0gJmNvbmZpZy0+bHV0LnRhYmxlW2ldOwo+ID4gKwo+ID4gKwkJCXJjbW0tPmx1dC50YWJs
ZVtpXSA9IChsdXQtPnJlZCAmIDB4ZmYpIDw8IDE2IHwKPiA+ICsJCQkJCSAgICAgKGx1dC0+Z3Jl
ZW4gJiAweGZmKSA8PCA4IHwKPiA+ICsJCQkJCSAgICAgKGx1dC0+Ymx1ZSAmIDB4ZmYpOwo+ID4g
KwkJfQo+ID4gKwo+ID4gKwkJcmNtbS0+bHV0LnJlc3RvcmUgPSB0cnVlOwo+ID4gKwkJcmNtbS0+
bHV0LnNpemUgPSBjb25maWctPmx1dC5zaXplOwo+ID4gKwo+ID4gKwkJcmV0dXJuIDA7Cj4gPiAr
CX0KPiA+ICsKPiA+ICsJaWYgKHJjYXJfY21tX3JlYWQocmNtbSwgQ00yX0xVVF9DVFJMKSAmIENN
Ml9MVVRfQ1RSTF9FTiAmJgo+ID4gKwkgICAgIWNvbmZpZy0+bHV0LmVuYWJsZSkgewo+ID4gKwkJ
cmNhcl9jbW1fd3JpdGUocmNtbSwgQ00yX0xVVF9DVFJMLCAwKTsKPiA+ICsJCXJldHVybiAwOwo+
ID4gKwl9Cj4gPiArCj4gPiArCS8qIEVuYWJsZSBMVVQgYW5kIHByb2dyYW0gdGhlIG5ldyBnYW1t
YSB0YWJsZSB2YWx1ZXMuICovCj4gPiArCXJjYXJfY21tX3dyaXRlKHJjbW0sIENNMl9MVVRfQ1RS
TCwgQ00yX0xVVF9DVFJMX0VOKTsKPiAKPiBTaG91bGRuJ3QgeW91IHdyaXRlIHRoZSBMVVQgY29u
dGVudHMgYmVmb3JlIGVuYWJsaW5nIGl0IChzYW1lIGJlbG93KSA/Cj4gCj4gPiArCWZvciAoaSA9
IDA7IGkgPCBjb25maWctPmx1dC5zaXplOyArK2kpIHsKPiA+ICsJCXN0cnVjdCBkcm1fY29sb3Jf
bHV0ICpsdXQgPSAmY29uZmlnLT5sdXQudGFibGVbaV07Cj4gPiArCQl1MzIgdmFsID0gKGx1dC0+
cmVkICYgMHhmZikgPDwgMTYgfCAobHV0LT5ncmVlbiAmIDB4ZmYpIDw8IDggfAo+ID4gKwkJCSAg
KGx1dC0+Ymx1ZSAmIDB4ZmYpOwo+IAo+IERvIHlvdSBuZWVkIHRvIHJlY29tcHV0ZSB0aGUgdmFs
dWUsIGNhbid0IHlvdSB1c2UgcmNtbS0+bHV0LnRhYmxlID8KPiAKPiA+ICsKPiA+ICsJCXJjYXJf
Y21tX3dyaXRlKHJjbW0sIENNMl9MVVRfVEJMQSArIGkgKiA0LCB2YWwpOwo+ID4gKwl9Cj4gPiAr
Cj4gPiArCXJldHVybiAwOwo+ID4gK30KPiAKPiBZb3UgbmVlZCB0byBleHBvcnQgdGhpcyBhbmQg
dGhlIG5leHQgdHdvIGZ1bmN0aW9ucy4KPiAKPiA+ICsKPiA+ICtpbnQgcmNhcl9jbW1fZW5hYmxl
KHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCj4gPiArewo+ID4gKwlzdHJ1Y3QgcmNhcl9j
bW0gKnJjbW0gPSBwbGF0Zm9ybV9nZXRfZHJ2ZGF0YShwZGV2KTsKPiA+ICsJdW5zaWduZWQgaW50
IGk7Cj4gPiArCWludCByZXQ7Cj4gPiArCj4gPiArCWlmIChyY21tLT5lbmFibGVkKQo+ID4gKwkJ
cmV0dXJuIDA7Cj4gCj4gQ2FuIHRoaXMgaGFwcGVuIHdpdGhvdXQgYSBidWcgaW4gdGhlIGNhbGxl
ciA/IElmIGl0IGNhbiwgYW5kIGFzc3VtaW5nCj4gdGhlIGNhbGxlciBiYWxhbmNlcyB0aGUgZW5h
YmxlIGFuZCBkaXNhYmxlIGNhbGxzLCB5b3Ugd2lsbCBoYXZlCj4gdW5iYWxhbmNlZCBjbGtfcHJl
cGFyZV9lbmFibGUoKSBhbmQgY2xrX2Rpc2FibGVfdW5wcmVwYXJlKCkgY2FsbHMuCj4gCj4gPiAr
Cj4gPiArCXJldCA9IGNsa19wcmVwYXJlX2VuYWJsZShyY21tLT5jbGspOwo+ID4gKwlpZiAocmV0
KQo+ID4gKwkJcmV0dXJuIHJldDsKPiAKPiBDb3VsZCB5b3UgdXNlIHBtX3J1bnRpbWVfZ2V0X3N5
bmMoKSBpbnN0ZWFkID8KPiAKPiA+ICsKPiA+ICsJLyogQXBwbHkgdGhlIExVVCB0YWJsZSB2YWx1
ZXMgc2F2ZWQgYXQgY21tX3NldHVwIHRpbWUuICovCj4gPiArCWlmIChyY21tLT5sdXQucmVzdG9y
ZSkgewo+ID4gKwkJcmNhcl9jbW1fd3JpdGUocmNtbSwgQ00yX0xVVF9DVFJMLCBDTTJfTFVUX0NU
UkxfRU4pOwo+ID4gKwkJZm9yIChpID0gMDsgaSA8IHJjbW0tPmx1dC5zaXplOyArK2kpCj4gPiAr
CQkJcmNhcl9jbW1fd3JpdGUocmNtbSwgQ00yX0xVVF9UQkxBICsgaSAqIDQsCj4gPiArCQkJCSAg
ICAgICByY21tLT5sdXQudGFibGVbaV0pOwo+ID4gKwo+ID4gKwkJcmNtbS0+bHV0LnJlc3RvcmUg
PSBmYWxzZTsKPiA+ICsJCXJjbW0tPmx1dC5zaXplID0gMDsKPiA+ICsJfQo+ID4gKwo+ID4gKwly
Y21tLT5lbmFibGVkID0gdHJ1ZTsKPiA+ICsKPiA+ICsJcmV0dXJuIDA7Cj4gPiArfQo+ID4gKwo+
ID4gK3ZvaWQgcmNhcl9jbW1fZGlzYWJsZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQo+
ID4gK3sKPiA+ICsJc3RydWN0IHJjYXJfY21tICpyY21tID0gcGxhdGZvcm1fZ2V0X2RydmRhdGEo
cGRldik7Cj4gPiArCj4gPiArCXJjYXJfY21tX3dyaXRlKHJjbW0sIENNMl9MVVRfQ1RSTCwgMCk7
Cj4gPiArCj4gPiArCWNsa19kaXNhYmxlX3VucHJlcGFyZShyY21tLT5jbGspOwo+ID4gKwo+ID4g
KwlyY21tLT5sdXQucmVzdG9yZSA9IGZhbHNlOwo+ID4gKwlyY21tLT5sdXQuc2l6ZSA9IDA7Cj4g
PiArCXJjbW0tPmVuYWJsZWQgPSBmYWxzZTsKPiA+ICt9Cj4gPiArCj4gPiArc3RhdGljIGludCBy
Y2FyX2NtbV9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQo+ID4gK3sKPiA+ICsJ
c3RydWN0IHJjYXJfY21tICpyY21tOwo+ID4gKwlzdHJ1Y3QgcmVzb3VyY2UgKnJlczsKPiA+ICsJ
cmVzb3VyY2Vfc2l6ZV90IHNpemU7Cj4gPiArCj4gPiArCXJjbW0gPSBkZXZtX2t6YWxsb2MoJnBk
ZXYtPmRldiwgc2l6ZW9mKCpyY21tKSwgR0ZQX0tFUk5FTCk7Cj4gPiArCWlmICghcmNtbSkKPiA+
ICsJCXJldHVybiAtRU5PTUVNOwo+ID4gKwo+ID4gKwlwbGF0Zm9ybV9zZXRfZHJ2ZGF0YShwZGV2
LCByY21tKTsKPiA+ICsKPiA+ICsJcmVzID0gcGxhdGZvcm1fZ2V0X3Jlc291cmNlKHBkZXYsIElP
UkVTT1VSQ0VfTUVNLCAwKTsKPiA+ICsJc2l6ZSA9IHJlc291cmNlX3NpemUocmVzKTsKPiA+ICsJ
aWYgKCFkZXZtX3JlcXVlc3RfbWVtX3JlZ2lvbigmcGRldi0+ZGV2LCByZXMtPnN0YXJ0LCBzaXpl
LAo+ID4gKwkJCQkgICAgIGRldl9uYW1lKCZwZGV2LT5kZXYpKSkgewo+ID4gKwkJZGV2X2Vycigm
cGRldi0+ZGV2LAo+ID4gKwkJCSJjYW4ndCByZXF1ZXN0IHJlZ2lvbiBmb3IgcmVzb3VyY2UgJXBS
XG4iLCByZXMpOwo+ID4gKwkJcmV0dXJuIC1FQlVTWTsKPiA+ICsJfQo+ID4gKwo+ID4gKwlyY21t
LT5iYXNlID0gZGV2bV9pb3JlbWFwX25vY2FjaGUoJnBkZXYtPmRldiwgcmVzLT5zdGFydCwgc2l6
ZSk7Cj4gPiArCWlmIChJU19FUlIocmNtbS0+YmFzZSkpCj4gPiArCQlyZXR1cm4gUFRSX0VSUihy
Y21tLT5iYXNlKTsKPiAKPiBBbnl0aGluZyB3cm9uZyB3aXRoIGRldm1faW9yZW1hcF9yZXNvdXJj
ZSgpID8KPiAKPiA+ICsKPiA+ICsJcmNtbS0+Y2xrID0gZGV2bV9jbGtfZ2V0KCZwZGV2LT5kZXYs
IE5VTEwpOwo+ID4gKwlpZiAoSVNfRVJSKHJjbW0tPmNsaykpIHsKPiA+ICsJCWRldl9lcnIoJnBk
ZXYtPmRldiwgIkZhaWxlZCB0byBnZXQgQ01NIGNsb2NrIik7Cj4gPiArCQlyZXR1cm4gUFRSX0VS
UihyY21tLT5jbGspOwo+ID4gKwl9Cj4gPiArCj4gPiArCXJjbW0tPmx1dC5yZXN0b3JlID0gZmFs
c2U7Cj4gPiArCXJjbW0tPmx1dC5zaXplID0gMDsKPiA+ICsJcmNtbS0+ZW5hYmxlZCA9IGZhbHNl
Owo+IAo+IEFzIHlvdSBhbGxvY2F0ZSBtZW1vcnkgd2l0aCBremFsbG9jKCkgeW91IGNvdWxkIHNr
aXAgdGhpcy4KPiAKPiA+ICsKPiA+ICsJcmV0dXJuIDA7Cj4gPiArfQo+ID4gKwo+ID4gK3N0YXRp
YyBjb25zdCBzdHJ1Y3Qgb2ZfZGV2aWNlX2lkIHJjYXJfY21tX29mX3RhYmxlW10gPSB7Cj4gPiAr
CXsgLmNvbXBhdGlibGUgPSAicmVuZXNhcyxjbW0tZ2VuMyIgfSwKPiA+ICsJeyAuY29tcGF0aWJs
ZSA9ICJyZW5lc2FzLGNtbS1nZW4yIiB9LAo+ID4gKwl7IH0sCj4gPiArfTsKPiA+ICsKPiA+ICtN
T0RVTEVfREVWSUNFX1RBQkxFKG9mLCByY2FyX2NtbV9vZl90YWJsZSk7Cj4gPiArCj4gPiArc3Rh
dGljIHN0cnVjdCBwbGF0Zm9ybV9kcml2ZXIgcmNhcl9jbW1fcGxhdGZvcm1fZHJpdmVyID0gewo+
ID4gKwkucHJvYmUJCT0gcmNhcl9jbW1fcHJvYmUsCj4gPiArCS5kcml2ZXIJCT0gewo+ID4gKwkJ
Lm5hbWUJPSAicmNhci1jbW0iLAo+ID4gKwkJLm9mX21hdGNoX3RhYmxlID0gcmNhcl9jbW1fb2Zf
dGFibGUsCj4gPiArCX0sCj4gCj4gTm8gbmVlZCBmb3Igc3VzcGVuZC9yZXN1bWUgc3VwcG9ydCA/
IFRoZSBEVSBkcml2ZXIgc2hvdWxkIGRpc2FibGUvZW5hYmxlCj4gdGhlIENNTSBpbiBpdHMgc3Vz
cGVuZC9yZXN1bWUgcGF0aHMsIHNvIHRoaXMgc2hvdWxkIGJlIGZpbmUsIGJ1dCB3b24ndAo+IHRo
ZSBMVVQgY29udGVudHMgYmUgbG9zdCBhbmQgbmVlZCB0byBiZSByZXN0b3JlZCA/Cj4gCj4gPiAr
fTsKPiA+ICsKPiA+ICttb2R1bGVfcGxhdGZvcm1fZHJpdmVyKHJjYXJfY21tX3BsYXRmb3JtX2Ry
aXZlcik7Cj4gPiArCj4gPiArTU9EVUxFX0FVVEhPUigiSmFjb3BvIE1vbmRpIDxqYWNvcG8rcmVu
ZXNhc0BqbW9uZGkub3JnIik7Cj4gCj4gTWlzc2luZyA+Lgo+IAo+ID4gK01PRFVMRV9ERVNDUklQ
VElPTigiUmVuZXNhcyBSLUNhciBDTU0gRHJpdmVyIik7Cj4gPiArTU9EVUxFX0xJQ0VOU0UoIkdQ
TCB2MiIpOwo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfY21t
LmggYi9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2NtbS5oCj4gPiBuZXcgZmlsZSBtb2Rl
IDEwMDY0NAo+ID4gaW5kZXggMDAwMDAwMDAwMDAwLi5kYTYxYTE0NWRjNWMKPiA+IC0tLSAvZGV2
L251bGwKPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfY21tLmgKPiA+IEBA
IC0wLDAgKzEsMzggQEAKPiA+ICsvKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMCsg
Ki8KPiAKPiBUaGUgLmMgYW5kIC5oIGZpbGUgbGljZW5zZXMgZG9uJ3QgbWF0Y2guCj4gCj4gPiAr
LyoKPiA+ICsgKiByY2FyX2NtbS5oIC0tIFItQ2FyIERpc3BsYXkgVW5pdCBDb2xvciBNYW5hZ2Vt
ZW50IE1vZHVsZQo+ID4gKyAqCj4gPiArICogQ29weXJpZ2h0IChDKSAyMDE5IEphY29wbyBNb25k
aSA8amFjb3BvK3JlbmVzYXNAam1vbmRpLm9yZz4KPiA+ICsgKi8KPiA+ICsKPiA+ICsjaWZuZGVm
IF9fUkNBUl9DTU1fSF9fCj4gPiArI2RlZmluZSBfX1JDQVJfQ01NX0hfXwo+ID4gKwo+ID4gKyNp
bmNsdWRlIDxsaW51eC9wbGF0Zm9ybV9kZXZpY2UuaD4KPiAKPiBZb3UgY2FuIGZvcndhcmQtZGVj
bGFyZSBzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlIGluc3RlYWQuCj4gCj4gPiArCj4gPiArI2RlZmlu
ZSBDTU1fR0FNTUFfTFVUX1NJWkUJCTI1Ngo+ID4gKwo+ID4gK3N0cnVjdCBkcm1fY29sb3JfbHV0
Owo+ID4gKwo+ID4gKy8qKgo+ID4gKyAqIHN0cnVjdCByY2FyX2NtbV9jb25maWcgLSBDTU0gY29u
ZmlndXJhdGlvbgo+ID4gKyAqCj4gPiArICogQGx1dDoJMUQtTFVUIGNvbmZpZ3VyYXRpb24KPiA+
ICsgKiBAbHV0LmVuYWJsZToJMUQtTFVUIGVuYWJsZSBmbGFnCj4gPiArICogQGx1dC50YWJsZToJ
MUQtTFVUIHRhYmxlIGVudHJpZXMuCj4gPiArICogQGx1dC5zaXplCTFELUxVVCBudW1iZXIgb2Yg
ZW50cmllcy4gTWF4IGlzIDI1Ngo+IAo+IFRoZSBsYXN0IGxpbmUgaXMgbWlzc2luZyBhIGNvbG9u
Lgo+IAo+ID4gKyAqLwo+ID4gK3N0cnVjdCByY2FyX2NtbV9jb25maWcgewo+ID4gKwlzdHJ1Y3Qg
ewo+ID4gKwkJYm9vbCBlbmFibGU7Cj4gPiArCQlzdHJ1Y3QgZHJtX2NvbG9yX2x1dCAqdGFibGU7
Cj4gPiArCQl1bnNpZ25lZCBpbnQgc2l6ZTsKPiA+ICsJfSBsdXQ7Cj4gPiArfTsKPiA+ICsKPiA+
ICtpbnQgcmNhcl9jbW1fZW5hYmxlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKik7Cj4gCj4gQXMg
dGhlIE9GIEFQSSBsb29rcyB1cCBhIHN0cnVjdCBkZXZpY2UgZnJvbSBhIGRldmljZV9ub2RlLCBz
aG91bGQgd2UgdXNlCj4gc3RydWN0IGRldmljZSBoZXJlID8KCk15IGJhZCwgdGhlIEFQSSBhY3R1
YWxseSByZXR1cm5zIGEgc3RydWN0IHBsYXRmb3JtX2RldmljZS4gSSB3b3VsZCBzdGlsbApwcmVm
ZXIgdXNpbmcgc3RydWN0IGRldmljZSwgYnV0IGl0IHRoZW4gYmVjb21lcyBtb3JlIG9mIGEgcGVy
c29uYWwKcHJlZmVyZW5jZS4KCj4gPiArdm9pZCByY2FyX2NtbV9kaXNhYmxlKHN0cnVjdCBwbGF0
Zm9ybV9kZXZpY2UgKik7Cj4gCj4gSSBmaW5kIGhlYWRlcnMgbW9yZSByZWFkYWJsZSB3aGVuIGZ1
bmN0aW9uIGFyZ3VtZW50cyBhcmUgbmFtZWQuIEluIHRoaXMKPiBjYXNlIHRoZSB0eXBlcyBwcm9i
YWJseSBwcm92aWRlIGVub3VnaCBpbmZvcm1hdGlvbiwgYnV0IGdvb2QgbHVjayB0cnlpbmcKPiB0
byByZWFkIGEgZnVuY3Rpb24gc3VjaCBhcwo+IAo+IGludCBmb28oaW50LCBpbnQsIGJvb2wpOwo+
IAo+ID4gKwo+ID4gK2ludCByY2FyX2NtbV9zZXR1cChzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICos
IHN0cnVjdCByY2FyX2NtbV9jb25maWcgKik7Cj4gCj4gQ2FuIHRoZSBzZWNvbmQgYXJndW1lbnQg
YmUgY29uc3QgPwo+IAo+ID4gKwo+ID4gKyNlbmRpZiAvKiBfX1JDQVJfQ01NX0hfXyAqLwoKLS0g
ClJlZ2FyZHMsCgpMYXVyZW50IFBpbmNoYXJ0Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3Rz
LmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xp
c3RpbmZvL2RyaS1kZXZlbA==
