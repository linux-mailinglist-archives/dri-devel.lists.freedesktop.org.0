Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 1739D9E879
	for <lists+dri-devel@lfdr.de>; Tue, 27 Aug 2019 14:57:29 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E209F89A5C;
	Tue, 27 Aug 2019 12:57:26 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wm1-x343.google.com (mail-wm1-x343.google.com
 [IPv6:2a00:1450:4864:20::343])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 4936289A5C
 for <dri-devel@lists.freedesktop.org>; Tue, 27 Aug 2019 12:57:25 +0000 (UTC)
Received: by mail-wm1-x343.google.com with SMTP id c5so2909931wmb.5
 for <dri-devel@lists.freedesktop.org>; Tue, 27 Aug 2019 05:57:25 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=yrQ737EsFALal4da3FBNcSSKLeZlRn+1IFouNnito58=;
 b=j3oxcB3rvotWpP4dDpG1gOkAUOCI9JM5O7xvOMTInr3Gb/AkmXt5hN72AN2b0fkAfV
 mjPv9Ng0RxmzY7ZmiVCmrWkCzxBMDrvNlT58bRJLiiZP2suIOKTncGH8hAAeO5NKD6nT
 Cf0Xdq8VHJMKGIJyOlLlyXK16Boc/bR1Z02J4LpjpJ5KeB6V1LMoAuStxcahjPss142t
 RisGtfLSIn9PLUPDzknlSpowb4VnDMsDWHRjGsEAZA0Y272jQqz0lKyfJfFWaIiRlMwJ
 K/MMTJd5dfdwwb+Nznfl9wFw+JnJE+BW3cSoh5hWNyD3f0NfkklZuxj4BVePYBHMa8xR
 3TCA==
X-Gm-Message-State: APjAAAUJ97swn/bjaJB/RIKl7YAnqID5epMuTmdCLAB/sXnwnlB+m6PL
 NIVSrX2x8WM7c4m/s01nlUYyzMk5vIbBDdFreMg=
X-Google-Smtp-Source: APXvYqxEAv0v5zmxncQAMrP5QCoUIscFZPV10GrvemCUjwpHJ6I0qGbmr1sJpd5FwuXmHkiV4DEvkQUCNS2h1SH+M8Q=
X-Received: by 2002:a05:600c:352:: with SMTP id
 u18mr28306928wmd.141.1566910643788; 
 Tue, 27 Aug 2019 05:57:23 -0700 (PDT)
MIME-Version: 1.0
References: <20190722143815.7339-1-tiwai@suse.de>
 <20190722143815.7339-2-tiwai@suse.de>
In-Reply-To: <20190722143815.7339-2-tiwai@suse.de>
From: Alex Deucher <alexdeucher@gmail.com>
Date: Tue, 27 Aug 2019 08:57:11 -0400
Message-ID: <CADnq5_NXN4177B3Vb4sw7QE_YEDPcPkmBr3mTYggE9iqP=re9A@mail.gmail.com>
Subject: Re: [PATCH 1/2] drm/radeon: Add HD-audio component notifier support
To: Takashi Iwai <tiwai@suse.de>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=yrQ737EsFALal4da3FBNcSSKLeZlRn+1IFouNnito58=;
 b=dsTXGGfI2vxzuAsCi5UsO0hskBQ64uISES0lDL1WqCCQuwNcrIPjJ0IQk0WPL3gg7x
 V7z5zPfRUacs9mqj+3S7pic80NFLsb/++m+6LQOG/mmRlpOA0uDxjzH0orA1zureUpTs
 fkrnl+h7At6ZSLW8E/08TKcEjtXOEzfdIjQKv4sH9wxpj6DNdPKmmsCZkjUPEvGNzvTm
 6JYET11XjhfhCiGmcl0vmTlO5OqNg3iAORwEc44I94ho0A80HBq3Oakc3fRk8BpX5SYh
 OlpzRfXrg0xe68wZi0rlROxmpk5sRei4Vx6XCNGYMDj6l88mhfY70P6Zas2C/lwS2V3P
 Xxaw==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Maxime Ripard <maxime.ripard@bootlin.com>,
 Maling list - DRI developers <dri-devel@lists.freedesktop.org>,
 Ben Skeggs <bskeggs@redhat.com>, Alex Deucher <alexander.deucher@amd.com>,
 Sean Paul <sean@poorly.run>,
 =?UTF-8?Q?Christian_K=C3=B6nig?= <christian.koenig@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gTW9uLCBKdWwgMjIsIDIwMTkgYXQgMTA6MzggQU0gVGFrYXNoaSBJd2FpIDx0aXdhaUBzdXNl
LmRlPiB3cm90ZToKPgo+IFRoaXMgcGF0Y2ggYWRkcyB0aGUgc3VwcG9ydCBmb3IgdGhlIG5vdGlm
aWNhdGlvbiBvZiBIRC1hdWRpbyBob3RwbHVnCj4gdmlhIHRoZSBhbHJlYWR5IGV4aXN0aW5nIGRy
bV9hdWRpb19jb21wb25lbnQgZnJhbWV3b3JrIHRvIHJhZGVvbgo+IGRyaXZlci4gIFRoaXMgYWxs
b3dzIHVzIG1vcmUgcmVsaWFibGUgaG90cGx1ZyBub3RpZmljYXRpb24gYW5kIEVMRAo+IHRyYW5z
ZmVyIHdpdGhvdXQgYWNjZXNzaW5nIEhELWF1ZGlvIGJ1czsgaXQncyBtb3JlIGVmZmljaWVudCwg
YW5kIG1vcmUKPiBpbXBvcnRhbnRseSwgaXQgd29ya3Mgd2l0aG91dCB3YWtpbmcgdXAgdGhlIHJ1
bnRpbWUgUE0uCj4KPiBUaGUgaW1wbGVtZW50YXRpb24gaXMgcmF0aGVyIHNpbXBsaXN0aWM6IHJh
ZGVvbiBkcml2ZXIgcHJvdmlkZXMgdGhlCj4gZ2V0X2VsZCBvcHMgZm9yIEhELWF1ZGlvLCBhbmQg
aXQgbm90aWZpZXMgdGhlIGF1ZGlvIGhvdHBsdWcgdmlhCj4gcGluX2VsZF9ub3RpZnkgY2FsbGJh
Y2sgdXBvbiBlYWNoIHJhZGVvbl9hdWRpb19lbmFibGUoKSBjYWxsLgo+IFRoZSBwaW4tPmlkIGlz
IHJlZmVycmVkIGFzIHRoZSBwb3J0IG51bWJlciBwYXNzZWQgdG8gdGhlIG5vdGlmaWVyCj4gY2Fs
bGJhY2ssIGFuZCB0aGUgY29ycmVzcG9uZGluZyBjb25uZWN0b3IgaXMgbG9va2VkIHRocm91Z2gg
dGhlCj4gZW5jb2RlciBsaXN0IGluIHRoZSBnZXRfZWxkIGNhbGxiYWNrIGluIHR1cm4uCj4KPiBU
aGUgYmluZCBhbmQgdW5iaW5kIGNhbGxiYWNrcyBoYW5kbGUgdGhlIGRldmljZS1saW5rIHNvIHRo
YXQgaXQKPiBhc3N1cmVzIHRoZSBQTSBjYWxsIG9yZGVyLgo+Cj4gQWNrZWQtYnk6IEppbSBRdSA8
SmltLlF1QGFtZC5jb20+Cj4gU2lnbmVkLW9mZi1ieTogVGFrYXNoaSBJd2FpIDx0aXdhaUBzdXNl
LmRlPgoKQWNrZWQtYnk6IEFsZXggRGV1Y2hlciA8YWxleGFuZGVyLmRldWNoZXJAYW1kLmNvbT4K
Cj4gLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9LY29uZmlnICAgICAgICAgICAgICAgfCAgMSArCj4g
IGRyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFkZW9uLmggICAgICAgfCAgMyArKwo+ICBkcml2ZXJz
L2dwdS9kcm0vcmFkZW9uL3JhZGVvbl9hdWRpby5jIHwgOTIgKysrKysrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysKPiAgMyBmaWxlcyBjaGFuZ2VkLCA5NiBpbnNlcnRpb25zKCspCj4KPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL0tjb25maWcgYi9kcml2ZXJzL2dwdS9kcm0vS2Nv
bmZpZwo+IGluZGV4IDFkODAyMjI1ODdhZC4uOGI0NGNjNDU4ODMwIDEwMDY0NAo+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9LY29uZmlnCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL0tjb25maWcKPiBA
QCAtMjA5LDYgKzIwOSw3IEBAIGNvbmZpZyBEUk1fUkFERU9OCj4gICAgICAgICBzZWxlY3QgSFdN
T04KPiAgICAgICAgIHNlbGVjdCBCQUNLTElHSFRfQ0xBU1NfREVWSUNFCj4gICAgICAgICBzZWxl
Y3QgSU5URVJWQUxfVFJFRQo+ICsgICAgICAgc2VsZWN0IFNORF9IREFfQ09NUE9ORU5UIGlmIFNO
RF9IREFfQ09SRQo+ICAgICAgICAgaGVscAo+ICAgICAgICAgICBDaG9vc2UgdGhpcyBvcHRpb24g
aWYgeW91IGhhdmUgYW4gQVRJIFJhZGVvbiBncmFwaGljcyBjYXJkLiAgVGhlcmUKPiAgICAgICAg
ICAgYXJlIGJvdGggUENJIGFuZCBBR1AgdmVyc2lvbnMuICBZb3UgZG9uJ3QgbmVlZCB0byBjaG9v
c2UgdGhpcyB0bwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbi5o
IGIvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb24uaAo+IGluZGV4IDMyODA4ZTUwYmUxMi4u
Mjk3MzI4NGI3OTYxIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFkZW9u
LmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbi5oCj4gQEAgLTc1LDYgKzc1
LDcgQEAKPiAgI2luY2x1ZGUgPGRybS90dG0vdHRtX2V4ZWNidWZfdXRpbC5oPgo+Cj4gICNpbmNs
dWRlIDxkcm0vZHJtX2dlbS5oPgo+ICsjaW5jbHVkZSA8ZHJtL2RybV9hdWRpb19jb21wb25lbnQu
aD4KPgo+ICAjaW5jbHVkZSAicmFkZW9uX2ZhbWlseS5oIgo+ICAjaW5jbHVkZSAicmFkZW9uX21v
ZGUuaCIKPiBAQCAtMTc2MSw2ICsxNzYyLDggQEAgc3RydWN0IHI2MDBfYXVkaW8gewo+ICAgICAg
ICAgc3RydWN0IHJhZGVvbl9hdWRpb19mdW5jcyAqaGRtaV9mdW5jczsKPiAgICAgICAgIHN0cnVj
dCByYWRlb25fYXVkaW9fZnVuY3MgKmRwX2Z1bmNzOwo+ICAgICAgICAgc3RydWN0IHJhZGVvbl9h
dWRpb19iYXNpY19mdW5jcyAqZnVuY3M7Cj4gKyAgICAgICBzdHJ1Y3QgZHJtX2F1ZGlvX2NvbXBv
bmVudCAqY29tcG9uZW50Owo+ICsgICAgICAgYm9vbCBjb21wb25lbnRfcmVnaXN0ZXJlZDsKPiAg
fTsKPgo+ICAvKgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl9h
dWRpby5jIGIvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fYXVkaW8uYwo+IGluZGV4IGI5
YWVhNTc3NmQzZC4uOTc2NTAyZTMxYzQzIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9y
YWRlb24vcmFkZW9uX2F1ZGlvLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVv
bl9hdWRpby5jCj4gQEAgLTIzLDYgKzIzLDcgQEAKPiAgICovCj4KPiAgI2luY2x1ZGUgPGxpbnV4
L2djZC5oPgo+ICsjaW5jbHVkZSA8bGludXgvY29tcG9uZW50Lmg+Cj4KPiAgI2luY2x1ZGUgPGRy
bS9kcm1fY3J0Yy5oPgo+ICAjaW5jbHVkZSAicmFkZW9uLmgiCj4gQEAgLTI0Miw2ICsyNDMsMTQg
QEAgc3RhdGljIHN0cnVjdCByYWRlb25fYXVkaW9fZnVuY3MgZGNlNl9kcF9mdW5jcyA9IHsKPiAg
ICAgICAgIC5kcG1zID0gZXZlcmdyZWVuX2RwX2VuYWJsZSwKPiAgfTsKPgo+ICtzdGF0aWMgdm9p
ZCByYWRlb25fYXVkaW9fY29tcG9uZW50X25vdGlmeShzdHJ1Y3QgZHJtX2F1ZGlvX2NvbXBvbmVu
dCAqYWNvbXAsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50
IHBvcnQpCj4gK3sKPiArICAgICAgIGlmIChhY29tcCAmJiBhY29tcC0+YXVkaW9fb3BzICYmIGFj
b21wLT5hdWRpb19vcHMtPnBpbl9lbGRfbm90aWZ5KQo+ICsgICAgICAgICAgICAgICBhY29tcC0+
YXVkaW9fb3BzLT5waW5fZWxkX25vdGlmeShhY29tcC0+YXVkaW9fb3BzLT5hdWRpb19wdHIsCj4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcnQsIC0x
KTsKPiArfQo+ICsKPiAgc3RhdGljIHZvaWQgcmFkZW9uX2F1ZGlvX2VuYWJsZShzdHJ1Y3QgcmFk
ZW9uX2RldmljZSAqcmRldiwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVj
dCByNjAwX2F1ZGlvX3BpbiAqcGluLCB1OCBlbmFibGVfbWFzaykKPiAgewo+IEBAIC0yNjksNiAr
Mjc4LDggQEAgc3RhdGljIHZvaWQgcmFkZW9uX2F1ZGlvX2VuYWJsZShzdHJ1Y3QgcmFkZW9uX2Rl
dmljZSAqcmRldiwKPgo+ICAgICAgICAgaWYgKHJkZXYtPmF1ZGlvLmZ1bmNzLT5lbmFibGUpCj4g
ICAgICAgICAgICAgICAgIHJkZXYtPmF1ZGlvLmZ1bmNzLT5lbmFibGUocmRldiwgcGluLCBlbmFi
bGVfbWFzayk7Cj4gKwo+ICsgICAgICAgcmFkZW9uX2F1ZGlvX2NvbXBvbmVudF9ub3RpZnkocmRl
di0+YXVkaW8uY29tcG9uZW50LCBwaW4tPmlkKTsKPiAgfQo+Cj4gIHN0YXRpYyB2b2lkIHJhZGVv
bl9hdWRpb19pbnRlcmZhY2VfaW5pdChzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldikKPiBAQCAt
MjkyLDYgKzMwMyw3OSBAQCBzdGF0aWMgdm9pZCByYWRlb25fYXVkaW9faW50ZXJmYWNlX2luaXQo
c3RydWN0IHJhZGVvbl9kZXZpY2UgKnJkZXYpCj4gICAgICAgICB9Cj4gIH0KPgo+ICtzdGF0aWMg
aW50IHJhZGVvbl9hdWRpb19jb21wb25lbnRfZ2V0X2VsZChzdHJ1Y3QgZGV2aWNlICprZGV2LCBp
bnQgcG9ydCwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnQg
cGlwZSwgYm9vbCAqZW5hYmxlZCwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICB1bnNpZ25lZCBjaGFyICpidWYsIGludCBtYXhfYnl0ZXMpCj4gK3sKPiArICAgICAg
IHN0cnVjdCBkcm1fZGV2aWNlICpkZXYgPSBkZXZfZ2V0X2RydmRhdGEoa2Rldik7Cj4gKyAgICAg
ICBzdHJ1Y3QgZHJtX2VuY29kZXIgKmVuY29kZXI7Cj4gKyAgICAgICBzdHJ1Y3QgcmFkZW9uX2Vu
Y29kZXIgKnJhZGVvbl9lbmNvZGVyOwo+ICsgICAgICAgc3RydWN0IHJhZGVvbl9lbmNvZGVyX2F0
b21fZGlnICpkaWc7Cj4gKyAgICAgICBzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yOwo+
ICsgICAgICAgaW50IHJldCA9IDA7Cj4gKwo+ICsgICAgICAgKmVuYWJsZWQgPSBmYWxzZTsKPiAr
ICAgICAgIGxpc3RfZm9yX2VhY2hfZW50cnkoZW5jb2RlciwgJmRldi0+bW9kZV9jb25maWcuZW5j
b2Rlcl9saXN0LCBoZWFkKSB7Cj4gKyAgICAgICAgICAgICAgIGlmICghcmFkZW9uX2VuY29kZXJf
aXNfZGlnaXRhbChlbmNvZGVyKSkKPiArICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsK
PiArICAgICAgICAgICAgICAgcmFkZW9uX2VuY29kZXIgPSB0b19yYWRlb25fZW5jb2RlcihlbmNv
ZGVyKTsKPiArICAgICAgICAgICAgICAgZGlnID0gcmFkZW9uX2VuY29kZXItPmVuY19wcml2Owo+
ICsgICAgICAgICAgICAgICBpZiAoIWRpZy0+cGluIHx8IGRpZy0+cGluLT5pZCAhPSBwb3J0KQo+
ICsgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwo+ICsgICAgICAgICAgICAgICBjb25u
ZWN0b3IgPSByYWRlb25fZ2V0X2Nvbm5lY3Rvcl9mb3JfZW5jb2RlcihlbmNvZGVyKTsKPiArICAg
ICAgICAgICAgICAgaWYgKGNvbm5lY3Rvcikgewo+ICsgICAgICAgICAgICAgICAgICAgICAgICpl
bmFibGVkID0gdHJ1ZTsKPiArICAgICAgICAgICAgICAgICAgICAgICByZXQgPSBkcm1fZWxkX3Np
emUoY29ubmVjdG9yLT5lbGQpOwo+ICsgICAgICAgICAgICAgICAgICAgICAgIG1lbWNweShidWYs
IGNvbm5lY3Rvci0+ZWxkLCBtaW4obWF4X2J5dGVzLCByZXQpKTsKPiArICAgICAgICAgICAgICAg
ICAgICAgICBicmVhazsKPiArICAgICAgICAgICAgICAgfQo+ICsgICAgICAgfQo+ICsKPiArICAg
ICAgIHJldHVybiByZXQ7Cj4gK30KPiArCj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2F1ZGlv
X2NvbXBvbmVudF9vcHMgcmFkZW9uX2F1ZGlvX2NvbXBvbmVudF9vcHMgPSB7Cj4gKyAgICAgICAu
Z2V0X2VsZCA9IHJhZGVvbl9hdWRpb19jb21wb25lbnRfZ2V0X2VsZCwKPiArfTsKPiArCj4gK3N0
YXRpYyBpbnQgcmFkZW9uX2F1ZGlvX2NvbXBvbmVudF9iaW5kKHN0cnVjdCBkZXZpY2UgKmtkZXYs
Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGRldmljZSAq
aGRhX2tkZXYsIHZvaWQgKmRhdGEpCj4gK3sKPiArICAgICAgIHN0cnVjdCBkcm1fZGV2aWNlICpk
ZXYgPSBkZXZfZ2V0X2RydmRhdGEoa2Rldik7Cj4gKyAgICAgICBzdHJ1Y3QgcmFkZW9uX2Rldmlj
ZSAqcmRldiA9IGRldi0+ZGV2X3ByaXZhdGU7Cj4gKyAgICAgICBzdHJ1Y3QgZHJtX2F1ZGlvX2Nv
bXBvbmVudCAqYWNvbXAgPSBkYXRhOwo+ICsKPiArICAgICAgIGlmIChXQVJOX09OKCFkZXZpY2Vf
bGlua19hZGQoaGRhX2tkZXYsIGtkZXYsIERMX0ZMQUdfU1RBVEVMRVNTKSkpCj4gKyAgICAgICAg
ICAgICAgIHJldHVybiAtRU5PTUVNOwo+ICsKPiArICAgICAgIGRybV9tb2Rlc2V0X2xvY2tfYWxs
KGRldik7Cj4gKyAgICAgICBhY29tcC0+b3BzID0gJnJhZGVvbl9hdWRpb19jb21wb25lbnRfb3Bz
Owo+ICsgICAgICAgYWNvbXAtPmRldiA9IGtkZXY7Cj4gKyAgICAgICByZGV2LT5hdWRpby5jb21w
b25lbnQgPSBhY29tcDsKPiArICAgICAgIGRybV9tb2Rlc2V0X3VubG9ja19hbGwoZGV2KTsKPiAr
Cj4gKyAgICAgICByZXR1cm4gMDsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgcmFkZW9uX2F1ZGlv
X2NvbXBvbmVudF91bmJpbmQoc3RydWN0IGRldmljZSAqa2RldiwKPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgZGV2aWNlICpoZGFfa2Rldiwgdm9pZCAq
ZGF0YSkKPiArewo+ICsgICAgICAgc3RydWN0IGRybV9kZXZpY2UgKmRldiA9IGRldl9nZXRfZHJ2
ZGF0YShrZGV2KTsKPiArICAgICAgIHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2ID0gZGV2LT5k
ZXZfcHJpdmF0ZTsKPiArICAgICAgIHN0cnVjdCBkcm1fYXVkaW9fY29tcG9uZW50ICphY29tcCA9
IGRhdGE7Cj4gKwo+ICsgICAgICAgZHJtX21vZGVzZXRfbG9ja19hbGwoZGV2KTsKPiArICAgICAg
IHJkZXYtPmF1ZGlvLmNvbXBvbmVudCA9IE5VTEw7Cj4gKyAgICAgICBhY29tcC0+b3BzID0gTlVM
TDsKPiArICAgICAgIGFjb21wLT5kZXYgPSBOVUxMOwo+ICsgICAgICAgZHJtX21vZGVzZXRfdW5s
b2NrX2FsbChkZXYpOwo+ICt9Cj4gKwo+ICtzdGF0aWMgY29uc3Qgc3RydWN0IGNvbXBvbmVudF9v
cHMgcmFkZW9uX2F1ZGlvX2NvbXBvbmVudF9iaW5kX29wcyA9IHsKPiArICAgICAgIC5iaW5kICAg
PSByYWRlb25fYXVkaW9fY29tcG9uZW50X2JpbmQsCj4gKyAgICAgICAudW5iaW5kID0gcmFkZW9u
X2F1ZGlvX2NvbXBvbmVudF91bmJpbmQsCj4gK307Cj4gKwo+ICBzdGF0aWMgaW50IHJhZGVvbl9h
dWRpb19jaGlwc2V0X3N1cHBvcnRlZChzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldikKPiAgewo+
ICAgICAgICAgcmV0dXJuIEFTSUNfSVNfRENFMihyZGV2KSAmJiAhQVNJQ19JU19OT0RDRShyZGV2
KTsKPiBAQCAtMzM4LDYgKzQyMiw5IEBAIGludCByYWRlb25fYXVkaW9faW5pdChzdHJ1Y3QgcmFk
ZW9uX2RldmljZSAqcmRldikKPiAgICAgICAgIGZvciAoaSA9IDA7IGkgPCByZGV2LT5hdWRpby5u
dW1fcGluczsgaSsrKQo+ICAgICAgICAgICAgICAgICByYWRlb25fYXVkaW9fZW5hYmxlKHJkZXYs
ICZyZGV2LT5hdWRpby5waW5baV0sIDApOwo+Cj4gKyAgICAgICBpZiAoIWNvbXBvbmVudF9hZGQo
cmRldi0+ZGV2LCAmcmFkZW9uX2F1ZGlvX2NvbXBvbmVudF9iaW5kX29wcykpCj4gKyAgICAgICAg
ICAgICAgIHJkZXYtPmF1ZGlvLmNvbXBvbmVudF9yZWdpc3RlcmVkID0gdHJ1ZTsKPiArCj4gICAg
ICAgICByZXR1cm4gMDsKPiAgfQo+Cj4gQEAgLTQ5MCw2ICs1NzcsMTEgQEAgdm9pZCByYWRlb25f
YXVkaW9fZmluaShzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldikKPiAgICAgICAgICAgICAgICAg
cmFkZW9uX2F1ZGlvX2VuYWJsZShyZGV2LCAmcmRldi0+YXVkaW8ucGluW2ldLCAwKTsKPgo+ICAg
ICAgICAgcmRldi0+YXVkaW8uZW5hYmxlZCA9IGZhbHNlOwo+ICsKPiArICAgICAgIGlmIChyZGV2
LT5hdWRpby5jb21wb25lbnRfcmVnaXN0ZXJlZCkgewo+ICsgICAgICAgICAgICAgICBjb21wb25l
bnRfZGVsKHJkZXYtPmRldiwgJnJhZGVvbl9hdWRpb19jb21wb25lbnRfYmluZF9vcHMpOwo+ICsg
ICAgICAgICAgICAgICByZGV2LT5hdWRpby5jb21wb25lbnRfcmVnaXN0ZXJlZCA9IGZhbHNlOwo+
ICsgICAgICAgfQo+ICB9Cj4KPiAgc3RhdGljIHZvaWQgcmFkZW9uX2F1ZGlvX3NldF9kdG8oc3Ry
dWN0IGRybV9lbmNvZGVyICplbmNvZGVyLCB1bnNpZ25lZCBpbnQgY2xvY2spCj4gLS0KPiAyLjE2
LjQKPgo+IF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCj4g
ZHJpLWRldmVsIG1haWxpbmcgbGlzdAo+IGRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcK
PiBodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZl
bApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2
ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9s
aXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
