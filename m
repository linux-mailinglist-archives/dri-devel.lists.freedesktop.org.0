Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 8A13971281
	for <lists+dri-devel@lfdr.de>; Tue, 23 Jul 2019 09:15:30 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B09A889306;
	Tue, 23 Jul 2019 07:14:21 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from rosenzweig.io (rosenzweig.io [107.170.207.86])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D55AD893ED
 for <dri-devel@lists.freedesktop.org>; Mon, 22 Jul 2019 14:14:34 +0000 (UTC)
Received: by rosenzweig.io (Postfix, from userid 1000)
 id 8600160167; Mon, 22 Jul 2019 07:08:27 -0700 (PDT)
Date: Mon, 22 Jul 2019 07:08:27 -0700
From: Alyssa Rosenzweig <alyssa@rosenzweig.io>
To: Rob Herring <robh@kernel.org>
Subject: Re: [PATCH 3/5] drm/panfrost: Add a no execute flag for BO allocations
Message-ID: <20190722140827.GC2156@rosenzweig.io>
References: <20190717183352.22519-1-robh@kernel.org>
 <20190717183352.22519-3-robh@kernel.org>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190717183352.22519-3-robh@kernel.org>
User-Agent: Mutt/1.10.1 (2018-07-13)
X-Mailman-Approved-At: Tue, 23 Jul 2019 07:14:10 +0000
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Boris Brezillon <boris.brezillon@collabora.com>,
 Robin Murphy <robin.murphy@arm.com>, Tomeu Vizoso <tomeu.vizoso@collabora.com>,
 dri-devel@lists.freedesktop.org, Steven Price <steven.price@arm.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhpcyBwYXRjaCBpczoKCglBY2tlZC1ieTogQWx5c3NhIFJvc2VuendlaWcgPGFseXNzYS5yb3Nl
bnp3ZWlnQGNvbGxhYm9yYS5jb20+CgpPbiBXZWQsIEp1bCAxNywgMjAxOSBhdCAxMjozMzo1MFBN
IC0wNjAwLCBSb2IgSGVycmluZyB3cm90ZToKPiBFeGVjdXRhYmxlIGJ1ZmZlcnMgaGF2ZSBhbiBh
bGlnbm1lbnQgcmVzdHJpY3Rpb24gdGhhdCB0aGV5IGNhbid0IGNyb3NzCj4gMTZNQiBib3VuZGFy
eSBhcyB0aGUgR1BVIHByb2dyYW0gY291bnRlciBpcyAyNC1iaXRzLiBUaGlzIHJlc3RyaWN0aW9u
IGlzCj4gY3VycmVudGx5IG5vdCBoYW5kbGVkIGFuZCB3ZSBqdXN0IGdldCBsdWNreS4gQXMgY3Vy
cmVudCB1c2Vyc3BhY2UKPiBhc3N1bWVzIGFsbCBCT3MgYXJlIGV4ZWN1dGFibGUsIHRoYXQgaGFz
IHRvIHJlbWFpbiB0aGUgZGVmYXVsdC4gU28gYWRkIGEKPiBuZXcgUEFORlJPU1RfQk9fTk9FWEVD
IGZsYWcgdG8gYWxsb3cgdXNlcnNwYWNlIHRvIGluZGljYXRlIHdoaWNoIEJPcyBhcmUKPiBub3Qg
ZXhlY3V0YWJsZS4KPiAKPiBUaGVyZSBpcyBhbHNvIGEgcmVzdHJpY3Rpb24gdGhhdCBleGVjdXRh
YmxlIGJ1ZmZlcnMgY2Fubm90IHN0YXJ0IG9yIGVuZAo+IG9uIGEgNEdCIGJvdW5kYXJ5LiBUaGlz
IGlzIG1vc3RseSBhdm9pZGVkIGFzIHRoZXJlIGlzIG9ubHkgNEdCIG9mIHNwYWNlCj4gY3VycmVu
dGx5IGFuZCB0aGUgYmVnaW5uaW5nIGlzIGFscmVhZHkgYmxvY2tlZCBvdXQgZm9yIE5VTEwgcHRy
Cj4gZGV0ZWN0aW9uLiBBZGQgc3VwcG9ydCB0byBoYW5kbGUgdGhpcyByZXN0cmljdGlvbiBmdWxs
eSByZWdhcmRsZXNzIG9mCj4gdGhlIGN1cnJlbnQgY29uc3RyYWludHMuCj4gCj4gRm9yIGV4aXN0
aW5nIHVzZXJzcGFjZSwgYWxsIGNyZWF0ZWQgQk9zIHJlbWFpbiBleGVjdXRhYmxlLCBidXQgdGhl
IEdQVQo+IFZBIGFsaWdubWVudCB3aWxsIGJlIGluY3JlYXNlZCB0byB0aGUgc2l6ZSBvZiB0aGUg
Qk8uIFRoaXMgc2hvdWxkbid0Cj4gbWF0dGVyIGFzIHRoZXJlIGlzIHBsZW50eSBvZiBHUFUgVkEg
c3BhY2UuCj4gCj4gQ2M6IFRvbWV1IFZpem9zbyA8dG9tZXUudml6b3NvQGNvbGxhYm9yYS5jb20+
Cj4gQ2M6IEJvcmlzIEJyZXppbGxvbiA8Ym9yaXMuYnJlemlsbG9uQGNvbGxhYm9yYS5jb20+Cj4g
Q2M6IFJvYmluIE11cnBoeSA8cm9iaW4ubXVycGh5QGFybS5jb20+Cj4gQ2M6IFN0ZXZlbiBQcmlj
ZSA8c3RldmVuLnByaWNlQGFybS5jb20+Cj4gQ2M6IEFseXNzYSBSb3Nlbnp3ZWlnIDxhbHlzc2FA
cm9zZW56d2VpZy5pbz4KPiBTaWduZWQtb2ZmLWJ5OiBSb2IgSGVycmluZyA8cm9iaEBrZXJuZWwu
b3JnPgo+IC0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vcGFuZnJvc3QvcGFuZnJvc3RfZHJ2LmMgfCAy
MCArKysrKysrKysrKysrKysrKysrLQo+ICBkcml2ZXJzL2dwdS9kcm0vcGFuZnJvc3QvcGFuZnJv
c3RfZ2VtLmMgfCAxOCArKysrKysrKysrKysrKysrLS0KPiAgZHJpdmVycy9ncHUvZHJtL3BhbmZy
b3N0L3BhbmZyb3N0X2dlbS5oIHwgIDMgKystCj4gIGRyaXZlcnMvZ3B1L2RybS9wYW5mcm9zdC9w
YW5mcm9zdF9tbXUuYyB8ICAzICsrKwo+ICBpbmNsdWRlL3VhcGkvZHJtL3BhbmZyb3N0X2RybS5o
ICAgICAgICAgfCAgMiArKwo+ICA1IGZpbGVzIGNoYW5nZWQsIDQyIGluc2VydGlvbnMoKyksIDQg
ZGVsZXRpb25zKC0pCj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5mcm9zdC9w
YW5mcm9zdF9kcnYuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5mcm9zdC9wYW5mcm9zdF9kcnYuYwo+
IGluZGV4IGQzNTRiOTI5NjRkNS4uYjkxZTk5MWJjNmEzIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9wYW5mcm9zdC9wYW5mcm9zdF9kcnYuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9w
YW5mcm9zdC9wYW5mcm9zdF9kcnYuYwo+IEBAIC00OSw3ICs0OSw4IEBAIHN0YXRpYyBpbnQgcGFu
ZnJvc3RfaW9jdGxfY3JlYXRlX2JvKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHZvaWQgKmRhdGEs
Cj4gIAlzdHJ1Y3QgcGFuZnJvc3RfZ2VtX29iamVjdCAqYm87Cj4gIAlzdHJ1Y3QgZHJtX3BhbmZy
b3N0X2NyZWF0ZV9ibyAqYXJncyA9IGRhdGE7Cj4gIAo+IC0JaWYgKCFhcmdzLT5zaXplIHx8IGFy
Z3MtPmZsYWdzIHx8IGFyZ3MtPnBhZCkKPiArCWlmICghYXJncy0+c2l6ZSB8fCBhcmdzLT5wYWQg
fHwKPiArCSAgICAoYXJncy0+ZmxhZ3MgJiB+UEFORlJPU1RfQk9fTk9FWEVDKSkKPiAgCQlyZXR1
cm4gLUVJTlZBTDsKPiAgCj4gIAlibyA9IHBhbmZyb3N0X2dlbV9jcmVhdGVfd2l0aF9oYW5kbGUo
ZmlsZSwgZGV2LCBhcmdzLT5zaXplLCBhcmdzLT5mbGFncywKPiBAQCAtMzY3LDYgKzM2OCwyMiBA
QCBzdGF0aWMgc3RydWN0IGRybV9kcml2ZXIgcGFuZnJvc3RfZHJtX2RyaXZlciA9IHsKPiAgCS5n
ZW1fcHJpbWVfbW1hcAkJPSBkcm1fZ2VtX3ByaW1lX21tYXAsCj4gIH07Cj4gIAo+ICsjZGVmaW5l
IFBGTl80R19NQVNLICAgICgoU1pfNEcgLSAxKSA+PiBQQUdFX1NISUZUKQo+ICsKPiArc3RhdGlj
IHZvaWQgcGFuZnJvc3RfZHJtX21tX2NvbG9yX2FkanVzdChjb25zdCBzdHJ1Y3QgZHJtX21tX25v
ZGUgKm5vZGUsCj4gKwkJCQkJIHVuc2lnbmVkIGxvbmcgY29sb3IsCj4gKwkJCQkJIHU2NCAqc3Rh
cnQsIHU2NCAqZW5kKQo+ICt7Cj4gKwkvKiBFeGVjdXRhYmxlIGJ1ZmZlcnMgY2FuJ3Qgc3RhcnQg
b3IgZW5kIG9uIGEgNEdCIGJvdW5kYXJ5ICovCj4gKwlpZiAoIWNvbG9yKSB7Cj4gKwkJaWYgKCgq
c3RhcnQgJiBQRk5fNEdfTUFTSykgPT0gMCkKPiArCQkJKCpzdGFydCkrKzsKPiArCj4gKwkJaWYg
KCgqZW5kICYgUEZOXzRHX01BU0spID09IDApCj4gKwkJCSgqZW5kKS0tOwo+ICsJfQo+ICt9Cj4g
Kwo+ICBzdGF0aWMgaW50IHBhbmZyb3N0X3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBk
ZXYpCj4gIHsKPiAgCXN0cnVjdCBwYW5mcm9zdF9kZXZpY2UgKnBmZGV2Owo+IEBAIC0zOTQsNiAr
NDExLDcgQEAgc3RhdGljIGludCBwYW5mcm9zdF9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNl
ICpwZGV2KQo+ICAKPiAgCS8qIDRHIGVub3VnaCBmb3Igbm93LiBjYW4gYmUgNDgtYml0ICovCj4g
IAlkcm1fbW1faW5pdCgmcGZkZXYtPm1tLCBTWl8zMk0gPj4gUEFHRV9TSElGVCwgKFNaXzRHIC0g
U1pfMzJNKSA+PiBQQUdFX1NISUZUKTsKPiArCXBmZGV2LT5tbS5jb2xvcl9hZGp1c3QgPSBwYW5m
cm9zdF9kcm1fbW1fY29sb3JfYWRqdXN0Owo+ICAKPiAgCXBtX3J1bnRpbWVfdXNlX2F1dG9zdXNw
ZW5kKHBmZGV2LT5kZXYpOwo+ICAJcG1fcnVudGltZV9zZXRfYXV0b3N1c3BlbmRfZGVsYXkocGZk
ZXYtPmRldiwgNTApOyAvKiB+MyBmcmFtZXMgKi8KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL3BhbmZyb3N0L3BhbmZyb3N0X2dlbS5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmZyb3N0L3Bh
bmZyb3N0X2dlbS5jCj4gaW5kZXggZGY3MGRjZjNjYjJmLi4zN2ZmZWM4MzkxZGEgMTAwNjQ0Cj4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmZyb3N0L3BhbmZyb3N0X2dlbS5jCj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL3BhbmZyb3N0L3BhbmZyb3N0X2dlbS5jCj4gQEAgLTY2LDExICs2NiwyMyBA
QCBzdGF0aWMgaW50IHBhbmZyb3N0X2dlbV9tYXAoc3RydWN0IHBhbmZyb3N0X2RldmljZSAqcGZk
ZXYsIHN0cnVjdCBwYW5mcm9zdF9nZW1fbwo+ICB7Cj4gIAlpbnQgcmV0Owo+ICAJc2l6ZV90IHNp
emUgPSBiby0+YmFzZS5iYXNlLnNpemU7Cj4gLQl1NjQgYWxpZ24gPSBzaXplID49IFNaXzJNID8g
U1pfMk0gPj4gUEFHRV9TSElGVCA6IDA7Cj4gKwl1NjQgYWxpZ247Cj4gKwo+ICsJLyoKPiArCSAq
IEV4ZWN1dGFibGUgYnVmZmVycyBjYW5ub3QgY3Jvc3MgYSAxNk1CIGJvdW5kYXJ5IGFzIHRoZSBw
cm9ncmFtCj4gKwkgKiBjb3VudGVyIGlzIDI0LWJpdHMuIFdlIGFzc3VtZSBleGVjdXRhYmxlIGJ1
ZmZlcnMgd2lsbCBiZSBsZXNzIHRoYW4KPiArCSAqIDE2TUIgYW5kIGFsaWduaW5nIGV4ZWN1dGFi
bGUgYnVmZmVycyB0byB0aGVpciBzaXplIHdpbGwgYXZvaWQKPiArCSAqIGNyb3NzaW5nIGEgMTZN
QiBib3VuZGFyeS4KPiArCSAqLwo+ICsJaWYgKCFiby0+bm9leGVjKQo+ICsJCWFsaWduID0gc2l6
ZSA+PiBQQUdFX1NISUZUOwo+ICsJZWxzZQo+ICsJCWFsaWduID0gc2l6ZSA+PSBTWl8yTSA/IFNa
XzJNID4+IFBBR0VfU0hJRlQgOiAwOwo+ICAKPiAgCXNwaW5fbG9jaygmcGZkZXYtPm1tX2xvY2sp
Owo+ICAJcmV0ID0gZHJtX21tX2luc2VydF9ub2RlX2dlbmVyaWMoJnBmZGV2LT5tbSwgJmJvLT5u
b2RlLAo+IC0JCQkJCSBzaXplID4+IFBBR0VfU0hJRlQsIGFsaWduLCAwLCAwKTsKPiArCQkJCQkg
c2l6ZSA+PiBQQUdFX1NISUZULCBhbGlnbiwKPiArCQkJCQkgYm8tPm5vZXhlYywgMCk7Cj4gIAlz
cGluX3VubG9jaygmcGZkZXYtPm1tX2xvY2spOwo+ICAJaWYgKHJldCkKPiAgCQlyZXR1cm4gcmV0
Owo+IEBAIC05Niw2ICsxMDgsNyBAQCBwYW5mcm9zdF9nZW1fY3JlYXRlX3dpdGhfaGFuZGxlKHN0
cnVjdCBkcm1fZmlsZSAqZmlsZV9wcml2LAo+ICAJCXJldHVybiBFUlJfQ0FTVChzaG1lbSk7Cj4g
IAo+ICAJYm8gPSB0b19wYW5mcm9zdF9ibygmc2htZW0tPmJhc2UpOwo+ICsJYm8tPm5vZXhlYyA9
ICEhKGZsYWdzICYgUEFORlJPU1RfQk9fTk9FWEVDKTsKPiAgCj4gIAlyZXQgPSBwYW5mcm9zdF9n
ZW1fbWFwKHBmZGV2LCBibyk7Cj4gIAlpZiAocmV0KQo+IEBAIC0xMjMsNiArMTM2LDcgQEAgcGFu
ZnJvc3RfZ2VtX3ByaW1lX2ltcG9ydF9zZ190YWJsZShzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LAo+
ICAJCXJldHVybiBFUlJfQ0FTVChvYmopOwo+ICAKPiAgCXBvYmogPSB0b19wYW5mcm9zdF9ibyhv
YmopOwo+ICsJcG9iai0+bm9leGVjID0gdHJ1ZTsKPiAgCj4gIAlyZXQgPSBwYW5mcm9zdF9nZW1f
bWFwKHBmZGV2LCBwb2JqKTsKPiAgCWlmIChyZXQpCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9wYW5mcm9zdC9wYW5mcm9zdF9nZW0uaCBiL2RyaXZlcnMvZ3B1L2RybS9wYW5mcm9zdC9w
YW5mcm9zdF9nZW0uaAo+IGluZGV4IGNlMDY1MjcwNzIwYi4uMTMyZjAyMzk5YjdiIDEwMDY0NAo+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5mcm9zdC9wYW5mcm9zdF9nZW0uaAo+ICsrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9wYW5mcm9zdC9wYW5mcm9zdF9nZW0uaAo+IEBAIC0xMSw3ICsxMSw4IEBA
IHN0cnVjdCBwYW5mcm9zdF9nZW1fb2JqZWN0IHsKPiAgCXN0cnVjdCBkcm1fZ2VtX3NobWVtX29i
amVjdCBiYXNlOwo+ICAKPiAgCXN0cnVjdCBkcm1fbW1fbm9kZSBub2RlOwo+IC0JYm9vbCBpc19t
YXBwZWQ7Cj4gKwlib29sIGlzX21hcHBlZAkJOjE7Cj4gKwlib29sIG5vZXhlYwkJOjE7Cj4gIH07
Cj4gIAo+ICBzdGF0aWMgaW5saW5lCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5m
cm9zdC9wYW5mcm9zdF9tbXUuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5mcm9zdC9wYW5mcm9zdF9t
bXUuYwo+IGluZGV4IDUzODNiODM3ZjA0Yi4uZDE4NDg0YTA3YmZhIDEwMDY0NAo+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9wYW5mcm9zdC9wYW5mcm9zdF9tbXUuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1
L2RybS9wYW5mcm9zdC9wYW5mcm9zdF9tbXUuYwo+IEBAIC0yMTIsNiArMjEyLDkgQEAgaW50IHBh
bmZyb3N0X21tdV9tYXAoc3RydWN0IHBhbmZyb3N0X2dlbV9vYmplY3QgKmJvKQo+ICAJaWYgKFdB
Uk5fT04oYm8tPmlzX21hcHBlZCkpCj4gIAkJcmV0dXJuIDA7Cj4gIAo+ICsJaWYgKGJvLT5ub2V4
ZWMpCj4gKwkJcHJvdCB8PSBJT01NVV9OT0VYRUM7Cj4gKwo+ICAJc2d0ID0gZHJtX2dlbV9zaG1l
bV9nZXRfcGFnZXNfc2d0KG9iaik7Cj4gIAlpZiAoV0FSTl9PTihJU19FUlIoc2d0KSkpCj4gIAkJ
cmV0dXJuIFBUUl9FUlIoc2d0KTsKPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS91YXBpL2RybS9wYW5m
cm9zdF9kcm0uaCBiL2luY2x1ZGUvdWFwaS9kcm0vcGFuZnJvc3RfZHJtLmgKPiBpbmRleCBiNWQz
NzA2Mzg4NDYuLjE3ZmI1ZDIwMGY3YSAxMDA2NDQKPiAtLS0gYS9pbmNsdWRlL3VhcGkvZHJtL3Bh
bmZyb3N0X2RybS5oCj4gKysrIGIvaW5jbHVkZS91YXBpL2RybS9wYW5mcm9zdF9kcm0uaAo+IEBA
IC04Miw2ICs4Miw4IEBAIHN0cnVjdCBkcm1fcGFuZnJvc3Rfd2FpdF9ibyB7Cj4gIAlfX3M2NCB0
aW1lb3V0X25zOwkvKiBhYnNvbHV0ZSAqLwo+ICB9Owo+ICAKPiArI2RlZmluZSBQQU5GUk9TVF9C
T19OT0VYRUMJMQo+ICsKPiAgLyoqCj4gICAqIHN0cnVjdCBkcm1fcGFuZnJvc3RfY3JlYXRlX2Jv
IC0gaW9jdGwgYXJndW1lbnQgZm9yIGNyZWF0aW5nIFBhbmZyb3N0IEJPcy4KPiAgICoKPiAtLSAK
PiAyLjIwLjEKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18K
ZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0
dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
