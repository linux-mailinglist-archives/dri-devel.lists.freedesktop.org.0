Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id EF59C498D9
	for <lists+dri-devel@lfdr.de>; Tue, 18 Jun 2019 08:25:21 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B46F96E0E2;
	Tue, 18 Jun 2019 06:25:15 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from pio-pvt-msa2.bahnhof.se (pio-pvt-msa2.bahnhof.se [79.136.2.41])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 635CD6E0DA
 for <dri-devel@lists.freedesktop.org>; Tue, 18 Jun 2019 06:25:13 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by pio-pvt-msa2.bahnhof.se (Postfix) with ESMTP id F214B3F5C8;
 Tue, 18 Jun 2019 08:25:11 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at bahnhof.se
X-Spam-Flag: NO
X-Spam-Score: -3.099
X-Spam-Level: 
X-Spam-Status: No, score=-3.099 tagged_above=-999 required=6.31
 tests=[ALL_TRUSTED=-1, BAYES_00=-1.9, DKIM_SIGNED=0.1,
 DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1, DKIM_VALID_EF=-0.1,
 URIBL_BLOCKED=0.001] autolearn=ham autolearn_force=no
Received: from pio-pvt-msa2.bahnhof.se ([127.0.0.1])
 by localhost (pio-pvt-msa2.bahnhof.se [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id h_Cy6vP8Y8xH; Tue, 18 Jun 2019 08:24:57 +0200 (CEST)
Received: from mail1.shipmail.org (h-205-35.A357.priv.bahnhof.se
 [155.4.205.35]) (Authenticated sender: mb878879)
 by pio-pvt-msa2.bahnhof.se (Postfix) with ESMTPA id 73EFA3F54C;
 Tue, 18 Jun 2019 08:24:57 +0200 (CEST)
Received: from localhost.localdomain.localdomain
 (h-205-35.A357.priv.bahnhof.se [155.4.205.35])
 by mail1.shipmail.org (Postfix) with ESMTPSA id E7065360193;
 Tue, 18 Jun 2019 08:24:56 +0200 (CEST)
From: =?UTF-8?q?Thomas=20Hellstr=C3=B6m=20=28VMware=29?= <thomas@shipmail.org>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH 1/4] drm/vmwgfx: Assign eviction priorities to resources
Date: Tue, 18 Jun 2019 08:24:39 +0200
Message-Id: <20190618062442.14647-1-thomas@shipmail.org>
X-Mailer: git-send-email 2.20.1
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
 d=shipmail.org; s=mail; 
 t=1560839097; bh=5KUurhPEpbb1q2InFrNyrtX4R3S5z11kbVtVF0QMLvg=;
 h=From:To:Cc:Subject:Date:From;
 b=nGvoGx+pJbXj31na53GCCRjOG4A7kgVbF5EnV8/5JX44rDlziUkygJ/UTzujcioBi
 qwhoIk1UEjWhWnmX1tUrZmU77jP48o5uHkV0q9CaRij2qNe65WInzVNaD2xlJ5jJFp
 rTWVUtF/aG+TD4JIfyCc/XpNNkUvqtQY05ixfMFU=
X-Mailman-Original-Authentication-Results: pio-pvt-msa2.bahnhof.se;
 dkim=pass (1024-bit key;
 unprotected) header.d=shipmail.org header.i=@shipmail.org header.b=nGvoGx+p; 
 dkim-atps=neutral
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: pv-drivers@vmware.com, Thomas Hellstrom <thellstrom@vmware.com>,
 Deepak Rawat <drawat@vmware.com>, linux-graphics-maintainer@vmware.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogVGhvbWFzIEhlbGxzdHJvbSA8dGhlbGxzdHJvbUB2bXdhcmUuY29tPgoKVFRNIHByb3Zp
ZGVzIGEgbWVhbnMgdG8gYXNzaWduIGV2aWN0aW9uIHByaW9yaXRpZXMgdG8gYnVmZmVyIG9iamVj
dC4gVGhpcwptZWFucyB0aGF0IGFsbCBidWZmZXIgb2JqZWN0cyB3aXRoIGEgbG93ZXIgcHJpb3Jp
dHkgd2lsbCBiZSBldmljdGVkIGZpcnN0Cm9uIG1lbW9yeSBwcmVzc3VyZS4KVXNlIHRoaXMgdG8g
bWFrZSBzdXJlIHN1cmZhY2VzIGFuZCBpbiBwYXJ0aWN1bGFyIG5vbi1kaXJ0eSBzdXJmYWNlcyBh
cmUKZXZpY3RlZCBmaXJzdC4gRXZpY3RpbmcgaW4gcGFydGljdWxhciBzaGFkZXJzLCBjb3RhYmxl
cyBhbmQgY29udGV4dHMgaW1wbHkKYSBzaWduaWZpY2FudCBwZXJmb3JtYW5jZSBoaXQgb24gdm13
Z2Z4LCBzbyBtYWtlIHN1cmUgdGhlc2UgcmVzb3VyY2VzIGFyZQpldmljdGVkIGxhc3QuClNvbWUg
YnVmZmVyIG9iamVjdHMgYXJlIHN1Yi1hbGxvY2F0ZWQgaW4gdXNlci1zcGFjZSB3aGljaCBtZWFu
cyB3ZSBjYW4gaGF2ZQptYW55IHJlc291cmNlcyBhdHRhY2hlZCB0byBhIHNpbmdsZSBidWZmZXIg
b2JqZWN0IG9yIHJlc291cmNlLiBJbiB0aGF0IGNhc2UKdGhlIGJ1ZmZlciBvYmplY3QgaXMgZ2l2
ZW4gdGhlIGhpZ2hlc3QgcHJpb3JpdHkgb2YgdGhlIGF0dGFjaGVkIHJlc291cmNlcy4KClNpZ25l
ZC1vZmYtYnk6IFRob21hcyBIZWxsc3Ryb20gPHRoZWxsc3Ryb21Adm13YXJlLmNvbT4KUmV2aWV3
ZWQtYnk6IERlZXBhayBSYXdhdCA8ZHJhd2F0QHZtd2FyZS5jb20+Ci0tLQogZHJpdmVycy9ncHUv
ZHJtL3Ztd2dmeC92bXdnZnhfYm8uYyAgICAgICAgICAgIHwgIDIgKwogZHJpdmVycy9ncHUvZHJt
L3Ztd2dmeC92bXdnZnhfY29udGV4dC5jICAgICAgIHwgIDQgKysKIGRyaXZlcnMvZ3B1L2RybS92
bXdnZngvdm13Z2Z4X2NvdGFibGUuYyAgICAgICB8IDEzICsrLS0KIGRyaXZlcnMvZ3B1L2RybS92
bXdnZngvdm13Z2Z4X2Rydi5oICAgICAgICAgICB8IDcyICsrKysrKysrKysrKysrKysrKysKIGRy
aXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X3Jlc291cmNlLmMgICAgICB8IDU2ICsrKysrKysr
KysrLS0tLQogZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfcmVzb3VyY2VfcHJpdi5oIHwg
IDIgKwogZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfc2hhZGVyLmMgICAgICAgIHwgIDgg
KystCiBkcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9zdXJmYWNlLmMgICAgICAgfCAgNCAr
KwogOCBmaWxlcyBjaGFuZ2VkLCAxNDEgaW5zZXJ0aW9ucygrKSwgMjAgZGVsZXRpb25zKC0pCgpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfYm8uYyBiL2RyaXZlcnMv
Z3B1L2RybS92bXdnZngvdm13Z2Z4X2JvLmMKaW5kZXggNWQ1YzJiY2UwMWYzLi5jMDgyOWQ1MGVl
Y2MgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2JvLmMKKysrIGIv
ZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfYm8uYwpAQCAtNTEwLDYgKzUxMCw4IEBAIGlu
dCB2bXdfYm9faW5pdChzdHJ1Y3Qgdm13X3ByaXZhdGUgKmRldl9wcml2LAogCiAJYWNjX3NpemUg
PSB2bXdfYm9fYWNjX3NpemUoZGV2X3ByaXYsIHNpemUsIHVzZXIpOwogCW1lbXNldCh2bXdfYm8s
IDAsIHNpemVvZigqdm13X2JvKSk7CisJQlVJTERfQlVHX09OKFRUTV9NQVhfQk9fUFJJT1JJVFkg
PD0gMyk7CisJdm13X2JvLT5iYXNlLnByaW9yaXR5ID0gMzsKIAogCUlOSVRfTElTVF9IRUFEKCZ2
bXdfYm8tPnJlc19saXN0KTsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92
bXdnZnhfY29udGV4dC5jIGIvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfY29udGV4dC5j
CmluZGV4IDYzZjExMTA2OGE0NC4uYTU2YzlkODAyMzgyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vdm13Z2Z4L3Ztd2dmeF9jb250ZXh0LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3Ztd2dm
eC92bXdnZnhfY29udGV4dC5jCkBAIC04OCw2ICs4OCw4IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3Qg
dm13X3Jlc19mdW5jIHZtd19nYl9jb250ZXh0X2Z1bmMgPSB7CiAJLnJlc190eXBlID0gdm13X3Jl
c19jb250ZXh0LAogCS5uZWVkc19iYWNrdXAgPSB0cnVlLAogCS5tYXlfZXZpY3QgPSB0cnVlLAor
CS5wcmlvID0gMywKKwkuZGlydHlfcHJpbyA9IDMsCiAJLnR5cGVfbmFtZSA9ICJndWVzdCBiYWNr
ZWQgY29udGV4dHMiLAogCS5iYWNrdXBfcGxhY2VtZW50ID0gJnZtd19tb2JfcGxhY2VtZW50LAog
CS5jcmVhdGUgPSB2bXdfZ2JfY29udGV4dF9jcmVhdGUsCkBAIC0xMDAsNiArMTAyLDggQEAgc3Rh
dGljIGNvbnN0IHN0cnVjdCB2bXdfcmVzX2Z1bmMgdm13X2R4X2NvbnRleHRfZnVuYyA9IHsKIAku
cmVzX3R5cGUgPSB2bXdfcmVzX2R4X2NvbnRleHQsCiAJLm5lZWRzX2JhY2t1cCA9IHRydWUsCiAJ
Lm1heV9ldmljdCA9IHRydWUsCisJLnByaW8gPSAzLAorCS5kaXJ0eV9wcmlvID0gMywKIAkudHlw
ZV9uYW1lID0gImR4IGNvbnRleHRzIiwKIAkuYmFja3VwX3BsYWNlbWVudCA9ICZ2bXdfbW9iX3Bs
YWNlbWVudCwKIAkuY3JlYXRlID0gdm13X2R4X2NvbnRleHRfY3JlYXRlLApkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfY290YWJsZS5jIGIvZHJpdmVycy9ncHUvZHJt
L3Ztd2dmeC92bXdnZnhfY290YWJsZS5jCmluZGV4IGI0ZjZlMTIxN2M5ZC4uOGM2OTljYjI1NjVi
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9jb3RhYmxlLmMKKysr
IGIvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfY290YWJsZS5jCkBAIC0xMTYsNiArMTE2
LDggQEAgc3RhdGljIGNvbnN0IHN0cnVjdCB2bXdfcmVzX2Z1bmMgdm13X2NvdGFibGVfZnVuYyA9
IHsKIAkucmVzX3R5cGUgPSB2bXdfcmVzX2NvdGFibGUsCiAJLm5lZWRzX2JhY2t1cCA9IHRydWUs
CiAJLm1heV9ldmljdCA9IHRydWUsCisJLnByaW8gPSAzLAorCS5kaXJ0eV9wcmlvID0gMywKIAku
dHlwZV9uYW1lID0gImNvbnRleHQgZ3Vlc3QgYmFja2VkIG9iamVjdCB0YWJsZXMiLAogCS5iYWNr
dXBfcGxhY2VtZW50ID0gJnZtd19tb2JfcGxhY2VtZW50LAogCS5jcmVhdGUgPSB2bXdfY290YWJs
ZV9jcmVhdGUsCkBAIC0zMDcsNyArMzA5LDcgQEAgc3RhdGljIGludCB2bXdfY290YWJsZV91bmJp
bmQoc3RydWN0IHZtd19yZXNvdXJjZSAqcmVzLAogCXN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAq
Ym8gPSB2YWxfYnVmLT5ibzsKIAlzdHJ1Y3Qgdm13X2ZlbmNlX29iaiAqZmVuY2U7CiAKLQlpZiAo
bGlzdF9lbXB0eSgmcmVzLT5tb2JfaGVhZCkpCisJaWYgKCF2bXdfcmVzb3VyY2VfbW9iX2F0dGFj
aGVkKHJlcykpCiAJCXJldHVybiAwOwogCiAJV0FSTl9PTl9PTkNFKGJvLT5tZW0ubWVtX3R5cGUg
IT0gVk1XX1BMX01PQik7CkBAIC00NTMsNiArNDU1LDcgQEAgc3RhdGljIGludCB2bXdfY290YWJs
ZV9yZXNpemUoc3RydWN0IHZtd19yZXNvdXJjZSAqcmVzLCBzaXplX3QgbmV3X3NpemUpCiAJCWdv
dG8gb3V0X3dhaXQ7CiAJfQogCisJdm13X3Jlc291cmNlX21vYl9kZXRhY2gocmVzKTsKIAlyZXMt
PmJhY2t1cCA9IGJ1ZjsKIAlyZXMtPmJhY2t1cF9zaXplID0gbmV3X3NpemU7CiAJdmNvdGJsLT5z
aXplX3JlYWRfYmFjayA9IGN1cl9zaXplX3JlYWRfYmFjazsKQEAgLTQ2NywxMiArNDcwLDEyIEBA
IHN0YXRpYyBpbnQgdm13X2NvdGFibGVfcmVzaXplKHN0cnVjdCB2bXdfcmVzb3VyY2UgKnJlcywg
c2l6ZV90IG5ld19zaXplKQogCQlyZXMtPmJhY2t1cCA9IG9sZF9idWY7CiAJCXJlcy0+YmFja3Vw
X3NpemUgPSBvbGRfc2l6ZTsKIAkJdmNvdGJsLT5zaXplX3JlYWRfYmFjayA9IG9sZF9zaXplX3Jl
YWRfYmFjazsKKwkJdm13X3Jlc291cmNlX21vYl9hdHRhY2gocmVzKTsKIAkJZ290byBvdXRfd2Fp
dDsKIAl9CiAKKwl2bXdfcmVzb3VyY2VfbW9iX2F0dGFjaChyZXMpOwogCS8qIExldCBnbyBvZiB0
aGUgb2xkIG1vYi4gKi8KLQlsaXN0X2RlbCgmcmVzLT5tb2JfaGVhZCk7Ci0JbGlzdF9hZGRfdGFp
bCgmcmVzLT5tb2JfaGVhZCwgJmJ1Zi0+cmVzX2xpc3QpOwogCXZtd19ib191bnJlZmVyZW5jZSgm
b2xkX2J1Zik7CiAJcmVzLT5pZCA9IHZjb3RibC0+dHlwZTsKIApAQCAtNDk2LDcgKzQ5OSw3IEBA
IHN0YXRpYyBpbnQgdm13X2NvdGFibGVfcmVzaXplKHN0cnVjdCB2bXdfcmVzb3VyY2UgKnJlcywg
c2l6ZV90IG5ld19zaXplKQogICogaXMgY2FsbGVkIGJlZm9yZSBiaW5kKCkgaW4gdGhlIHZhbGlk
YXRpb24gc2VxdWVuY2UgaXMgaW5zdGVhZCB1c2VkIGZvciB0d28KICAqIHRoaW5ncy4KICAqIDEp
IFVuc2NydWIgdGhlIGNvdGFibGUgaWYgaXQgaXMgc2NydWJiZWQgYW5kIHN0aWxsIGF0dGFjaGVk
IHRvIGEgYmFja3VwCi0gKiAgICBidWZmZXIsIHRoYXQgaXMsIGlmIEByZXMtPm1vYl9oZWFkIGlz
IG5vbi1lbXB0eS4KKyAqICAgIGJ1ZmZlci4KICAqIDIpIFJlc2l6ZSB0aGUgY290YWJsZSBpZiBu
ZWVkZWQuCiAgKi8KIHN0YXRpYyBpbnQgdm13X2NvdGFibGVfY3JlYXRlKHN0cnVjdCB2bXdfcmVz
b3VyY2UgKnJlcykKQEAgLTUxMiw3ICs1MTUsNyBAQCBzdGF0aWMgaW50IHZtd19jb3RhYmxlX2Ny
ZWF0ZShzdHJ1Y3Qgdm13X3Jlc291cmNlICpyZXMpCiAJCW5ld19zaXplICo9IDI7CiAKIAlpZiAo
bGlrZWx5KG5ld19zaXplIDw9IHJlcy0+YmFja3VwX3NpemUpKSB7Ci0JCWlmICh2Y290YmwtPnNj
cnViYmVkICYmICFsaXN0X2VtcHR5KCZyZXMtPm1vYl9oZWFkKSkgeworCQlpZiAodmNvdGJsLT5z
Y3J1YmJlZCAmJiB2bXdfcmVzb3VyY2VfbW9iX2F0dGFjaGVkKHJlcykpIHsKIAkJCXJldCA9IHZt
d19jb3RhYmxlX3Vuc2NydWIocmVzKTsKIAkJCWlmIChyZXQpCiAJCQkJcmV0dXJuIHJldDsKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2Rydi5oIGIvZHJpdmVycy9n
cHUvZHJtL3Ztd2dmeC92bXdnZnhfZHJ2LmgKaW5kZXggMzY2ZGNmYzFmOWJiLi43YzkzNWM3MmQz
NjggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2Rydi5oCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2Rydi5oCkBAIC04Niw2ICs4NiwxNSBAQCBz
dHJ1Y3Qgdm13X2Zwcml2IHsKIAlib29sIGdiX2F3YXJlOyAvKiB1c2VyLXNwYWNlIGlzIGd1ZXN0
LWJhY2tlZCBhd2FyZSAqLwogfTsKIAorLyoqCisgKiBzdHJ1Y3Qgdm13X2J1ZmZlcl9vYmplY3Qg
LSBUVE0gYnVmZmVyIG9iamVjdCB3aXRoIHZtd2dmeCBhZGRpdGlvbnMKKyAqIEBiYXNlOiBUaGUg
VFRNIGJ1ZmZlciBvYmplY3QKKyAqIEByZXNfbGlzdDogTGlzdCBvZiByZXNvdXJjZXMgdXNpbmcg
dGhpcyBidWZmZXIgb2JqZWN0IGFzIGEgYmFja2luZyBNT0IKKyAqIEBwaW5fY291bnQ6IHBpbiBk
ZXB0aAorICogQGR4X3F1ZXJ5X2N0eDogRFggY29udGV4dCBpZiB0aGlzIGJ1ZmZlciBvYmplY3Qg
aXMgdXNlZCBhcyBhIERYIHF1ZXJ5IE1PQgorICogQG1hcDogS21hcCBvYmplY3QgZm9yIHNlbWkt
cGVyc2lzdGVudCBtYXBwaW5ncworICogQHJlc19wcmlvczogRXZpY3Rpb24gcHJpb3JpdHkgY291
bnRzIGZvciBhdHRhY2hlZCByZXNvdXJjZXMKKyAqLwogc3RydWN0IHZtd19idWZmZXJfb2JqZWN0
IHsKIAlzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgYmFzZTsKIAlzdHJ1Y3QgbGlzdF9oZWFkIHJl
c19saXN0OwpAQCAtOTQsNiArMTAzLDcgQEAgc3RydWN0IHZtd19idWZmZXJfb2JqZWN0IHsKIAlz
dHJ1Y3Qgdm13X3Jlc291cmNlICpkeF9xdWVyeV9jdHg7CiAJLyogUHJvdGVjdGVkIGJ5IHJlc2Vy
dmF0aW9uICovCiAJc3RydWN0IHR0bV9ib19rbWFwX29iaiBtYXA7CisJdTMyIHJlc19wcmlvc1tU
VE1fTUFYX0JPX1BSSU9SSVRZXTsKIH07CiAKIC8qKgpAQCAtMTQ1LDYgKzE1NSw3IEBAIHN0cnVj
dCB2bXdfcmVzb3VyY2UgewogCXN0cnVjdCBrcmVmIGtyZWY7CiAJc3RydWN0IHZtd19wcml2YXRl
ICpkZXZfcHJpdjsKIAlpbnQgaWQ7CisJdTMyIHVzZWRfcHJpbzsKIAl1bnNpZ25lZCBsb25nIGJh
Y2t1cF9zaXplOwogCWJvb2wgcmVzX2RpcnR5OwogCWJvb2wgYmFja3VwX2RpcnR5OwpAQCAtNzA5
LDYgKzcyMCwxOSBAQCBleHRlcm4gdm9pZCB2bXdfcXVlcnlfbW92ZV9ub3RpZnkoc3RydWN0IHR0
bV9idWZmZXJfb2JqZWN0ICpibywKIGV4dGVybiBpbnQgdm13X3F1ZXJ5X3JlYWRiYWNrX2FsbChz
dHJ1Y3Qgdm13X2J1ZmZlcl9vYmplY3QgKmR4X3F1ZXJ5X21vYik7CiBleHRlcm4gdm9pZCB2bXdf
cmVzb3VyY2VfZXZpY3RfYWxsKHN0cnVjdCB2bXdfcHJpdmF0ZSAqZGV2X3ByaXYpOwogZXh0ZXJu
IHZvaWQgdm13X3Jlc291cmNlX3VuYmluZF9saXN0KHN0cnVjdCB2bXdfYnVmZmVyX29iamVjdCAq
dmJvKTsKK3ZvaWQgdm13X3Jlc291cmNlX21vYl9hdHRhY2goc3RydWN0IHZtd19yZXNvdXJjZSAq
cmVzKTsKK3ZvaWQgdm13X3Jlc291cmNlX21vYl9kZXRhY2goc3RydWN0IHZtd19yZXNvdXJjZSAq
cmVzKTsKKworLyoqCisgKiB2bXdfcmVzb3VyY2VfbW9iX2F0dGFjaGVkIC0gV2hldGhlciBhIHJl
c291cmNlIGN1cnJlbnRseSBoYXMgYSBtb2IgYXR0YWNoZWQKKyAqIEByZXM6IFRoZSByZXNvdXJj
ZQorICoKKyAqIFJldHVybjogdHJ1ZSBpZiB0aGUgcmVzb3VyY2UgaGFzIGEgbW9iIGF0dGFjaGVk
LCBmYWxzZSBvdGhlcndpc2UuCisgKi8KK3N0YXRpYyBpbmxpbmUgYm9vbCB2bXdfcmVzb3VyY2Vf
bW9iX2F0dGFjaGVkKGNvbnN0IHN0cnVjdCB2bXdfcmVzb3VyY2UgKnJlcykKK3sKKwlyZXR1cm4g
IWxpc3RfZW1wdHkoJnJlcy0+bW9iX2hlYWQpOworfQogCiAvKioKICAqIHZtd191c2VyX3Jlc291
cmNlX25vcmVmX3JlbGVhc2UgLSByZWxlYXNlIGEgdXNlciByZXNvdXJjZSBwb2ludGVyIGxvb2tl
ZCB1cApAQCAtNzg3LDYgKzgxMSw1NCBAQCBzdGF0aWMgaW5saW5lIHZvaWQgdm13X3VzZXJfYm9f
bm9yZWZfcmVsZWFzZSh2b2lkKQogCXR0bV9iYXNlX29iamVjdF9ub3JlZl9yZWxlYXNlKCk7CiB9
CiAKKy8qKgorICogdm13X2JvX2FkanVzdF9wcmlvIC0gQWRqdXN0IHRoZSBidWZmZXIgb2JqZWN0
IGV2aWN0aW9uIHByaW9yaXR5CisgKiBhY2NvcmRpbmcgdG8gYXR0YWNoZWQgcmVzb3VyY2VzCisg
KiBAdmJvOiBUaGUgc3RydWN0IHZtd19idWZmZXJfb2JqZWN0CisgKi8KK3N0YXRpYyBpbmxpbmUg
dm9pZCB2bXdfYm9fcHJpb19hZGp1c3Qoc3RydWN0IHZtd19idWZmZXJfb2JqZWN0ICp2Ym8pCit7
CisJaW50IGkgPSBBUlJBWV9TSVpFKHZiby0+cmVzX3ByaW9zKTsKKworCXdoaWxlIChpLS0pIHsK
KwkJaWYgKHZiby0+cmVzX3ByaW9zW2ldKSB7CisJCQl2Ym8tPmJhc2UucHJpb3JpdHkgPSBpOwor
CQkJcmV0dXJuOworCQl9CisJfQorCisJdmJvLT5iYXNlLnByaW9yaXR5ID0gMzsKK30KKworLyoq
CisgKiB2bXdfYm9fcHJpb19hZGQgLSBOb3RpZnkgYSBidWZmZXIgb2JqZWN0IG9mIGEgbmV3bHkg
YXR0YWNoZWQgcmVzb3VyY2UKKyAqIGV2aWN0aW9uIHByaW9yaXR5CisgKiBAdmJvOiBUaGUgc3Ry
dWN0IHZtd19idWZmZXJfb2JqZWN0CisgKiBAcHJpbzogVGhlIHJlc291cmNlIHByaW9yaXR5Cisg
KgorICogQWZ0ZXIgYmVpbmcgbm90aWZpZWQsIHRoZSBjb2RlIGFzc2lnbnMgdGhlIGhpZ2hlc3Qg
cmVzb3VyY2UgZXZpY3Rpb24gcHJpb3JpdHkKKyAqIHRvIHRoZSBiYWNraW5nIGJ1ZmZlciBvYmpl
Y3QgKG1vYikuCisgKi8KK3N0YXRpYyBpbmxpbmUgdm9pZCB2bXdfYm9fcHJpb19hZGQoc3RydWN0
IHZtd19idWZmZXJfb2JqZWN0ICp2Ym8sIGludCBwcmlvKQoreworCWlmICh2Ym8tPnJlc19wcmlv
c1twcmlvXSsrID09IDApCisJCXZtd19ib19wcmlvX2FkanVzdCh2Ym8pOworfQorCisvKioKKyAq
IHZtd19ib19wcmlvX2RlbCAtIE5vdGlmeSBhIGJ1ZmZlciBvYmplY3Qgb2YgYSByZXNvdXJjZSB3
aXRoIGEgY2VydGFpbgorICogcHJpb3JpdHkgYmVpbmcgcmVtb3ZlZAorICogQHZibzogVGhlIHN0
cnVjdCB2bXdfYnVmZmVyX29iamVjdAorICogQHByaW86IFRoZSByZXNvdXJjZSBwcmlvcml0eQor
ICoKKyAqIEFmdGVyIGJlaW5nIG5vdGlmaWVkLCB0aGUgY29kZSBhc3NpZ25zIHRoZSBoaWdoZXN0
IHJlc291cmNlIGV2aWN0aW9uIHByaW9yaXR5CisgKiB0byB0aGUgYmFja2luZyBidWZmZXIgb2Jq
ZWN0IChtb2IpLgorICovCitzdGF0aWMgaW5saW5lIHZvaWQgdm13X2JvX3ByaW9fZGVsKHN0cnVj
dCB2bXdfYnVmZmVyX29iamVjdCAqdmJvLCBpbnQgcHJpbykKK3sKKwlpZiAoLS12Ym8tPnJlc19w
cmlvc1twcmlvXSA9PSAwKQorCQl2bXdfYm9fcHJpb19hZGp1c3QodmJvKTsKK30KIAogLyoqCiAg
KiBNaXNjIElvY3RsIGZ1bmN0aW9uYWxpdHkgLSB2bXdnZnhfaW9jdGwuYwpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfcmVzb3VyY2UuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS92bXdnZngvdm13Z2Z4X3Jlc291cmNlLmMKaW5kZXggMWQzOGE4YjJmMmVjLi5iZTdkNDE0OWEx
MjkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X3Jlc291cmNlLmMK
KysrIGIvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfcmVzb3VyY2UuYwpAQCAtMzQsNiAr
MzQsMzcgQEAKIAogI2RlZmluZSBWTVdfUkVTX0VWSUNUX0VSUl9DT1VOVCAxMAogCisvKioKKyAq
IHZtd19yZXNvdXJjZV9tb2JfYXR0YWNoIC0gTWFyayBhIHJlc291cmNlIGFzIGF0dGFjaGVkIHRv
IGl0cyBiYWNraW5nIG1vYgorICogQHJlczogVGhlIHJlc291cmNlCisgKi8KK3ZvaWQgdm13X3Jl
c291cmNlX21vYl9hdHRhY2goc3RydWN0IHZtd19yZXNvdXJjZSAqcmVzKQoreworCXN0cnVjdCB2
bXdfYnVmZmVyX29iamVjdCAqYmFja3VwID0gcmVzLT5iYWNrdXA7CisKKwlsb2NrZGVwX2Fzc2Vy
dF9oZWxkKCZiYWNrdXAtPmJhc2UucmVzdi0+bG9jay5iYXNlKTsKKwlyZXMtPnVzZWRfcHJpbyA9
IChyZXMtPnJlc19kaXJ0eSkgPyByZXMtPmZ1bmMtPmRpcnR5X3ByaW8gOgorCQlyZXMtPmZ1bmMt
PnByaW87CisJbGlzdF9hZGRfdGFpbCgmcmVzLT5tb2JfaGVhZCwgJmJhY2t1cC0+cmVzX2xpc3Qp
OworCXZtd19ib19wcmlvX2FkZChiYWNrdXAsIHJlcy0+dXNlZF9wcmlvKTsKK30KKworLyoqCisg
KiB2bXdfcmVzb3VyY2VfbW9iX2RldGFjaCAtIE1hcmsgYSByZXNvdXJjZSBhcyBkZXRhY2hlZCBm
cm9tIGl0cyBiYWNraW5nIG1vYgorICogQHJlczogVGhlIHJlc291cmNlCisgKi8KK3ZvaWQgdm13
X3Jlc291cmNlX21vYl9kZXRhY2goc3RydWN0IHZtd19yZXNvdXJjZSAqcmVzKQoreworCXN0cnVj
dCB2bXdfYnVmZmVyX29iamVjdCAqYmFja3VwID0gcmVzLT5iYWNrdXA7CisKKwlsb2NrZGVwX2Fz
c2VydF9oZWxkKCZiYWNrdXAtPmJhc2UucmVzdi0+bG9jay5iYXNlKTsKKwlpZiAodm13X3Jlc291
cmNlX21vYl9hdHRhY2hlZChyZXMpKSB7CisJCWxpc3RfZGVsX2luaXQoJnJlcy0+bW9iX2hlYWQp
OworCQl2bXdfYm9fcHJpb19kZWwoYmFja3VwLCByZXMtPnVzZWRfcHJpbyk7CisJfQorfQorCisK
IHN0cnVjdCB2bXdfcmVzb3VyY2UgKnZtd19yZXNvdXJjZV9yZWZlcmVuY2Uoc3RydWN0IHZtd19y
ZXNvdXJjZSAqcmVzKQogewogCWtyZWZfZ2V0KCZyZXMtPmtyZWYpOwpAQCAtODAsNyArMTExLDcg
QEAgc3RhdGljIHZvaWQgdm13X3Jlc291cmNlX3JlbGVhc2Uoc3RydWN0IGtyZWYgKmtyZWYpCiAJ
CXN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8gPSAmcmVzLT5iYWNrdXAtPmJhc2U7CiAKIAkJ
dHRtX2JvX3Jlc2VydmUoYm8sIGZhbHNlLCBmYWxzZSwgTlVMTCk7Ci0JCWlmICghbGlzdF9lbXB0
eSgmcmVzLT5tb2JfaGVhZCkgJiYKKwkJaWYgKHZtd19yZXNvdXJjZV9tb2JfYXR0YWNoZWQocmVz
KSAmJgogCQkgICAgcmVzLT5mdW5jLT51bmJpbmQgIT0gTlVMTCkgewogCQkJc3RydWN0IHR0bV92
YWxpZGF0ZV9idWZmZXIgdmFsX2J1ZjsKIApAQCAtODksNyArMTIwLDcgQEAgc3RhdGljIHZvaWQg
dm13X3Jlc291cmNlX3JlbGVhc2Uoc3RydWN0IGtyZWYgKmtyZWYpCiAJCQlyZXMtPmZ1bmMtPnVu
YmluZChyZXMsIGZhbHNlLCAmdmFsX2J1Zik7CiAJCX0KIAkJcmVzLT5iYWNrdXBfZGlydHkgPSBm
YWxzZTsKLQkJbGlzdF9kZWxfaW5pdCgmcmVzLT5tb2JfaGVhZCk7CisJCXZtd19yZXNvdXJjZV9t
b2JfZGV0YWNoKHJlcyk7CiAJCXR0bV9ib191bnJlc2VydmUoYm8pOwogCQl2bXdfYm9fdW5yZWZl
cmVuY2UoJnJlcy0+YmFja3VwKTsKIAl9CkBAIC0xNzksNiArMjEwLDcgQEAgaW50IHZtd19yZXNv
dXJjZV9pbml0KHN0cnVjdCB2bXdfcHJpdmF0ZSAqZGV2X3ByaXYsIHN0cnVjdCB2bXdfcmVzb3Vy
Y2UgKnJlcywKIAlyZXMtPmJhY2t1cF9vZmZzZXQgPSAwOwogCXJlcy0+YmFja3VwX2RpcnR5ID0g
ZmFsc2U7CiAJcmVzLT5yZXNfZGlydHkgPSBmYWxzZTsKKwlyZXMtPnVzZWRfcHJpbyA9IDM7CiAJ
aWYgKGRlbGF5X2lkKQogCQlyZXR1cm4gMDsKIAllbHNlCkBAIC0zNTUsMTQgKzM4NywxNCBAQCBz
dGF0aWMgaW50IHZtd19yZXNvdXJjZV9kb192YWxpZGF0ZShzdHJ1Y3Qgdm13X3Jlc291cmNlICpy
ZXMsCiAJfQogCiAJaWYgKGZ1bmMtPmJpbmQgJiYKLQkgICAgKChmdW5jLT5uZWVkc19iYWNrdXAg
JiYgbGlzdF9lbXB0eSgmcmVzLT5tb2JfaGVhZCkgJiYKKwkgICAgKChmdW5jLT5uZWVkc19iYWNr
dXAgJiYgIXZtd19yZXNvdXJjZV9tb2JfYXR0YWNoZWQocmVzKSAmJgogCSAgICAgIHZhbF9idWYt
PmJvICE9IE5VTEwpIHx8CiAJICAgICAoIWZ1bmMtPm5lZWRzX2JhY2t1cCAmJiB2YWxfYnVmLT5i
byAhPSBOVUxMKSkpIHsKIAkJcmV0ID0gZnVuYy0+YmluZChyZXMsIHZhbF9idWYpOwogCQlpZiAo
dW5saWtlbHkocmV0ICE9IDApKQogCQkJZ290byBvdXRfYmluZF9mYWlsZWQ7CiAJCWlmIChmdW5j
LT5uZWVkc19iYWNrdXApCi0JCQlsaXN0X2FkZF90YWlsKCZyZXMtPm1vYl9oZWFkLCAmcmVzLT5i
YWNrdXAtPnJlc19saXN0KTsKKwkJCXZtd19yZXNvdXJjZV9tb2JfYXR0YWNoKHJlcyk7CiAJfQog
CiAJcmV0dXJuIDA7CkBAIC00MDIsMTUgKzQzNCwxMyBAQCB2b2lkIHZtd19yZXNvdXJjZV91bnJl
c2VydmUoc3RydWN0IHZtd19yZXNvdXJjZSAqcmVzLAogCiAJaWYgKHN3aXRjaF9iYWNrdXAgJiYg
bmV3X2JhY2t1cCAhPSByZXMtPmJhY2t1cCkgewogCQlpZiAocmVzLT5iYWNrdXApIHsKLQkJCWxv
Y2tkZXBfYXNzZXJ0X2hlbGQoJnJlcy0+YmFja3VwLT5iYXNlLnJlc3YtPmxvY2suYmFzZSk7Ci0J
CQlsaXN0X2RlbF9pbml0KCZyZXMtPm1vYl9oZWFkKTsKKwkJCXZtd19yZXNvdXJjZV9tb2JfZGV0
YWNoKHJlcyk7CiAJCQl2bXdfYm9fdW5yZWZlcmVuY2UoJnJlcy0+YmFja3VwKTsKIAkJfQogCiAJ
CWlmIChuZXdfYmFja3VwKSB7CiAJCQlyZXMtPmJhY2t1cCA9IHZtd19ib19yZWZlcmVuY2UobmV3
X2JhY2t1cCk7Ci0JCQlsb2NrZGVwX2Fzc2VydF9oZWxkKCZuZXdfYmFja3VwLT5iYXNlLnJlc3Yt
PmxvY2suYmFzZSk7Ci0JCQlsaXN0X2FkZF90YWlsKCZyZXMtPm1vYl9oZWFkLCAmbmV3X2JhY2t1
cC0+cmVzX2xpc3QpOworCQkJdm13X3Jlc291cmNlX21vYl9hdHRhY2gocmVzKTsKIAkJfSBlbHNl
IHsKIAkJCXJlcy0+YmFja3VwID0gTlVMTDsKIAkJfQpAQCAtNDY5LDcgKzQ5OSw3IEBAIHZtd19y
ZXNvdXJjZV9jaGVja19idWZmZXIoc3RydWN0IHd3X2FjcXVpcmVfY3R4ICp0aWNrZXQsCiAJaWYg
KHVubGlrZWx5KHJldCAhPSAwKSkKIAkJZ290byBvdXRfbm9fcmVzZXJ2ZTsKIAotCWlmIChyZXMt
PmZ1bmMtPm5lZWRzX2JhY2t1cCAmJiBsaXN0X2VtcHR5KCZyZXMtPm1vYl9oZWFkKSkKKwlpZiAo
cmVzLT5mdW5jLT5uZWVkc19iYWNrdXAgJiYgIXZtd19yZXNvdXJjZV9tb2JfYXR0YWNoZWQocmVz
KSkKIAkJcmV0dXJuIDA7CiAKIAliYWNrdXBfZGlydHkgPSByZXMtPmJhY2t1cF9kaXJ0eTsKQEAg
LTU3NCwxMSArNjA0LDExIEBAIHN0YXRpYyBpbnQgdm13X3Jlc291cmNlX2RvX2V2aWN0KHN0cnVj
dCB3d19hY3F1aXJlX2N0eCAqdGlja2V0LAogCQlyZXR1cm4gcmV0OwogCiAJaWYgKHVubGlrZWx5
KGZ1bmMtPnVuYmluZCAhPSBOVUxMICYmCi0JCSAgICAgKCFmdW5jLT5uZWVkc19iYWNrdXAgfHwg
IWxpc3RfZW1wdHkoJnJlcy0+bW9iX2hlYWQpKSkpIHsKKwkJICAgICAoIWZ1bmMtPm5lZWRzX2Jh
Y2t1cCB8fCB2bXdfcmVzb3VyY2VfbW9iX2F0dGFjaGVkKHJlcykpKSkgewogCQlyZXQgPSBmdW5j
LT51bmJpbmQocmVzLCByZXMtPnJlc19kaXJ0eSwgJnZhbF9idWYpOwogCQlpZiAodW5saWtlbHko
cmV0ICE9IDApKQogCQkJZ290byBvdXRfbm9fdW5iaW5kOwotCQlsaXN0X2RlbF9pbml0KCZyZXMt
Pm1vYl9oZWFkKTsKKwkJdm13X3Jlc291cmNlX21vYl9kZXRhY2gocmVzKTsKIAl9CiAJcmV0ID0g
ZnVuYy0+ZGVzdHJveShyZXMpOwogCXJlcy0+YmFja3VwX2RpcnR5ID0gdHJ1ZTsKQEAgLTY2MCw3
ICs2OTAsNyBAQCBpbnQgdm13X3Jlc291cmNlX3ZhbGlkYXRlKHN0cnVjdCB2bXdfcmVzb3VyY2Ug
KnJlcywgYm9vbCBpbnRyKQogCWlmICh1bmxpa2VseShyZXQgIT0gMCkpCiAJCWdvdG8gb3V0X25v
X3ZhbGlkYXRlOwogCWVsc2UgaWYgKCFyZXMtPmZ1bmMtPm5lZWRzX2JhY2t1cCAmJiByZXMtPmJh
Y2t1cCkgewotCQlsaXN0X2RlbF9pbml0KCZyZXMtPm1vYl9oZWFkKTsKKwkJV0FSTl9PTl9PTkNF
KHZtd19yZXNvdXJjZV9tb2JfYXR0YWNoZWQocmVzKSk7CiAJCXZtd19ib191bnJlZmVyZW5jZSgm
cmVzLT5iYWNrdXApOwogCX0KIApAQCAtNjk5LDcgKzcyOSw3IEBAIHZvaWQgdm13X3Jlc291cmNl
X3VuYmluZF9saXN0KHN0cnVjdCB2bXdfYnVmZmVyX29iamVjdCAqdmJvKQogCQkodm9pZCkgcmVz
LT5mdW5jLT51bmJpbmQocmVzLCByZXMtPnJlc19kaXJ0eSwgJnZhbF9idWYpOwogCQlyZXMtPmJh
Y2t1cF9kaXJ0eSA9IHRydWU7CiAJCXJlcy0+cmVzX2RpcnR5ID0gZmFsc2U7Ci0JCWxpc3RfZGVs
X2luaXQoJnJlcy0+bW9iX2hlYWQpOworCQl2bXdfcmVzb3VyY2VfbW9iX2RldGFjaChyZXMpOwog
CX0KIAogCSh2b2lkKSB0dG1fYm9fd2FpdCgmdmJvLT5iYXNlLCBmYWxzZSwgZmFsc2UpOwpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfcmVzb3VyY2VfcHJpdi5oIGIv
ZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfcmVzb3VyY2VfcHJpdi5oCmluZGV4IDdlMTll
YmEwYjBiOC4uOTg0ZTU4OGM2MmNhIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4
L3Ztd2dmeF9yZXNvdXJjZV9wcml2LmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdn
ZnhfcmVzb3VyY2VfcHJpdi5oCkBAIC03OCw2ICs3OCw4IEBAIHN0cnVjdCB2bXdfcmVzX2Z1bmMg
ewogCWNvbnN0IGNoYXIgKnR5cGVfbmFtZTsKIAlzdHJ1Y3QgdHRtX3BsYWNlbWVudCAqYmFja3Vw
X3BsYWNlbWVudDsKIAlib29sIG1heV9ldmljdDsKKwl1MzIgcHJpbzsKKwl1MzIgZGlydHlfcHJp
bzsKIAogCWludCAoKmNyZWF0ZSkgKHN0cnVjdCB2bXdfcmVzb3VyY2UgKnJlcyk7CiAJaW50ICgq
ZGVzdHJveSkgKHN0cnVjdCB2bXdfcmVzb3VyY2UgKnJlcyk7CmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9zaGFkZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS92bXdnZngv
dm13Z2Z4X3NoYWRlci5jCmluZGV4IGQzMTBkMjFmMGQ1NC4uZTEzOWZkZmQxNjM1IDEwMDY0NAot
LS0gYS9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9zaGFkZXIuYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9zaGFkZXIuYwpAQCAtOTUsNiArOTUsOCBAQCBzdGF0aWMg
Y29uc3Qgc3RydWN0IHZtd19yZXNfZnVuYyB2bXdfZ2Jfc2hhZGVyX2Z1bmMgPSB7CiAJLnJlc190
eXBlID0gdm13X3Jlc19zaGFkZXIsCiAJLm5lZWRzX2JhY2t1cCA9IHRydWUsCiAJLm1heV9ldmlj
dCA9IHRydWUsCisJLnByaW8gPSAzLAorCS5kaXJ0eV9wcmlvID0gMywKIAkudHlwZV9uYW1lID0g
Imd1ZXN0IGJhY2tlZCBzaGFkZXJzIiwKIAkuYmFja3VwX3BsYWNlbWVudCA9ICZ2bXdfbW9iX3Bs
YWNlbWVudCwKIAkuY3JlYXRlID0gdm13X2diX3NoYWRlcl9jcmVhdGUsCkBAIC0xMDYsNyArMTA4
LDkgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCB2bXdfcmVzX2Z1bmMgdm13X2diX3NoYWRlcl9mdW5j
ID0gewogc3RhdGljIGNvbnN0IHN0cnVjdCB2bXdfcmVzX2Z1bmMgdm13X2R4X3NoYWRlcl9mdW5j
ID0gewogCS5yZXNfdHlwZSA9IHZtd19yZXNfc2hhZGVyLAogCS5uZWVkc19iYWNrdXAgPSB0cnVl
LAotCS5tYXlfZXZpY3QgPSBmYWxzZSwKKwkubWF5X2V2aWN0ID0gdHJ1ZSwKKwkucHJpbyA9IDMs
CisJLmRpcnR5X3ByaW8gPSAzLAogCS50eXBlX25hbWUgPSAiZHggc2hhZGVycyIsCiAJLmJhY2t1
cF9wbGFjZW1lbnQgPSAmdm13X21vYl9wbGFjZW1lbnQsCiAJLmNyZWF0ZSA9IHZtd19keF9zaGFk
ZXJfY3JlYXRlLApAQCAtNDIzLDcgKzQyNyw3IEBAIHN0YXRpYyBpbnQgdm13X2R4X3NoYWRlcl9j
cmVhdGUoc3RydWN0IHZtd19yZXNvdXJjZSAqcmVzKQogCiAJV0FSTl9PTl9PTkNFKCFzaGFkZXIt
PmNvbW1pdHRlZCk7CiAKLQlpZiAoIWxpc3RfZW1wdHkoJnJlcy0+bW9iX2hlYWQpKSB7CisJaWYg
KHZtd19yZXNvdXJjZV9tb2JfYXR0YWNoZWQocmVzKSkgewogCQltdXRleF9sb2NrKCZkZXZfcHJp
di0+YmluZGluZ19tdXRleCk7CiAJCXJldCA9IHZtd19keF9zaGFkZXJfdW5zY3J1YihyZXMpOwog
CQltdXRleF91bmxvY2soJmRldl9wcml2LT5iaW5kaW5nX211dGV4KTsKZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X3N1cmZhY2UuYyBiL2RyaXZlcnMvZ3B1L2RybS92
bXdnZngvdm13Z2Z4X3N1cmZhY2UuYwppbmRleCAyMTk0NzE5MDNiYzEuLmM0MGQ0NGY0ZDlhZiAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfc3VyZmFjZS5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X3N1cmZhY2UuYwpAQCAtMTEyLDYgKzExMiw4
IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3Qgdm13X3Jlc19mdW5jIHZtd19sZWdhY3lfc3VyZmFjZV9m
dW5jID0gewogCS5yZXNfdHlwZSA9IHZtd19yZXNfc3VyZmFjZSwKIAkubmVlZHNfYmFja3VwID0g
ZmFsc2UsCiAJLm1heV9ldmljdCA9IHRydWUsCisJLnByaW8gPSAxLAorCS5kaXJ0eV9wcmlvID0g
MSwKIAkudHlwZV9uYW1lID0gImxlZ2FjeSBzdXJmYWNlcyIsCiAJLmJhY2t1cF9wbGFjZW1lbnQg
PSAmdm13X3NyZl9wbGFjZW1lbnQsCiAJLmNyZWF0ZSA9ICZ2bXdfbGVnYWN5X3NyZl9jcmVhdGUs
CkBAIC0xMjQsNiArMTI2LDggQEAgc3RhdGljIGNvbnN0IHN0cnVjdCB2bXdfcmVzX2Z1bmMgdm13
X2diX3N1cmZhY2VfZnVuYyA9IHsKIAkucmVzX3R5cGUgPSB2bXdfcmVzX3N1cmZhY2UsCiAJLm5l
ZWRzX2JhY2t1cCA9IHRydWUsCiAJLm1heV9ldmljdCA9IHRydWUsCisJLnByaW8gPSAxLAorCS5k
aXJ0eV9wcmlvID0gMiwKIAkudHlwZV9uYW1lID0gImd1ZXN0IGJhY2tlZCBzdXJmYWNlcyIsCiAJ
LmJhY2t1cF9wbGFjZW1lbnQgPSAmdm13X21vYl9wbGFjZW1lbnQsCiAJLmNyZWF0ZSA9IHZtd19n
Yl9zdXJmYWNlX2NyZWF0ZSwKLS0gCjIuMjAuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vZHJpLWRldmVs
