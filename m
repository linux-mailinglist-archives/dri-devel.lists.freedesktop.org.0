Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 88B1122667
	for <lists+dri-devel@lfdr.de>; Sun, 19 May 2019 11:26:06 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 9EFEB89220;
	Sun, 19 May 2019 09:25:59 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mailgw02.mediatek.com (unknown [1.203.163.81])
 by gabe.freedesktop.org (Postfix) with ESMTP id A1ACC89174
 for <dri-devel@lists.freedesktop.org>; Sun, 19 May 2019 09:25:54 +0000 (UTC)
X-UUID: b218b39da5414be58c93a3ed3d322554-20190519
X-UUID: b218b39da5414be58c93a3ed3d322554-20190519
Received: from mtkcas32.mediatek.inc [(172.27.4.253)] by mailgw02.mediatek.com
 (envelope-from <jitao.shi@mediatek.com>)
 (mailgw01.mediatek.com ESMTP with TLS)
 with ESMTP id 1759380875; Sun, 19 May 2019 17:25:50 +0800
Received: from MTKCAS36.mediatek.inc (172.27.4.186) by MTKMBS33N2.mediatek.inc
 (172.27.4.76) with Microsoft SMTP Server (TLS) id 15.0.1395.4;
 Sun, 19 May 2019 17:25:49 +0800
Received: from mszsdclx1018.gcn.mediatek.inc (172.27.4.253) by
 MTKCAS36.mediatek.inc (172.27.4.170) with Microsoft SMTP Server id
 15.0.1395.4 via Frontend Transport; Sun, 19 May 2019 17:25:47 +0800
From: Jitao Shi <jitao.shi@mediatek.com>
To: Rob Herring <robh+dt@kernel.org>, Pawel Moll <pawel.moll@arm.com>, Mark
 Rutland <mark.rutland@arm.com>, Ian Campbell <ijc+devicetree@hellion.org.uk>, 
 Kumar Gala <galak@codeaurora.org>, <linux-pwm@vger.kernel.org>, David Airlie
 <airlied@linux.ie>, Matthias Brugger <matthias.bgg@gmail.com>
Subject: [v3 6/7] drm/mediatek: change the dsi phytiming calculate method
Date: Sun, 19 May 2019 17:25:36 +0800
Message-ID: <20190519092537.69053-7-jitao.shi@mediatek.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190519092537.69053-1-jitao.shi@mediatek.com>
References: <20190519092537.69053-1-jitao.shi@mediatek.com>
MIME-Version: 1.0
X-MTK: N
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: stonea168@163.com, dri-devel@lists.freedesktop.org,
 Andy Yan <andy.yan@rock-chips.com>, Ajay Kumar <ajaykumar.rs@samsung.com>,
 Vincent Palatin <vpalatin@chromium.org>, cawa.cheng@mediatek.com,
 Russell King <rmk+kernel@arm.linux.org.uk>,
 Thierry Reding <treding@nvidia.com>, devicetree@vger.kernel.org,
 Jitao Shi <jitao.shi@mediatek.com>, linux-mediatek@lists.infradead.org,
 yingjoe.chen@mediatek.com, eddie.huang@mediatek.com,
 linux-arm-kernel@lists.infradead.org, Rahul Sharma <rahul.sharma@samsung.com>,
 srv_heupstream@mediatek.com, linux-kernel@vger.kernel.org,
 Sascha Hauer <kernel@pengutronix.de>, Sean Paul <seanpaul@chromium.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Q2hhbmdlIHRoZSBtZXRob2Qgb2YgZnJhbWUgcmF0ZSBjYWxjIHdoaWNoIGNhbiBnZXQgbW9yZSBh
Y2N1cmF0ZQpmcmFtZSByYXRlLgoKZGF0YSByYXRlID0gcGl4ZWxfY2xvY2sgKiBiaXRfcGVyX3Bp
eGVsIC8gbGFuZXMKQWRqdXN0IGhmcF93YyB0byBhZGFwdCB0aGUgYWRkaXRpb25hbCBwaHlfZGF0
YQoKaWYgTUlQSV9EU0lfTU9ERV9WSURFT19CVVJTVAoJaGZwX3djID0gaGZwICogYnBwIC0gZGF0
YV9waHlfY3ljbGVzICogbGFuZXMgLSAxMiAtIDY7CmVsc2UKCWhmcF93YyA9IGhmcCAqIGJwcCAt
IGRhdGFfcGh5X2N5Y2xlcyAqIGxhbmVzIC0gMTI7CgpOb3RlOgovLygyOiAxIGZvciBzeW5jLCAx
IGZvciBwaHkgaWRsZSkKZGF0YV9waHlfY3ljbGVzID0gVF9oc19leGl0ICsgVF9scHggKyBUX2hz
X3ByZXBhcmUgKyBUX2hzX3plcm8gKyAyOwoKYnBwOiBiaXQgcGVyIHBpeGVsCgpTaWduZWQtb2Zm
LWJ5OiBKaXRhbyBTaGkgPGppdGFvLnNoaUBtZWRpYXRlay5jb20+Ci0tLQogZHJpdmVycy9ncHUv
ZHJtL21lZGlhdGVrL210a19kc2kuYyB8IDExOSArKysrKysrKysrKysrKysrKysrKystLS0tLS0t
LQogMSBmaWxlIGNoYW5nZWQsIDg2IGluc2VydGlvbnMoKyksIDMzIGRlbGV0aW9ucygtKQoKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfZHNpLmMgYi9kcml2ZXJzL2dw
dS9kcm0vbWVkaWF0ZWsvbXRrX2RzaS5jCmluZGV4IDExNjVmZjk0NDg4OS4uM2Y1MWIyMDAwYzY4
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vbWVkaWF0ZWsvbXRrX2RzaS5jCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfZHNpLmMKQEAgLTE1OCw2ICsxNTgsMjUgQEAKIAko
dHlwZSA9PSBNSVBJX0RTSV9HRU5FUklDX1JFQURfUkVRVUVTVF8yX1BBUkFNKSB8fCBcCiAJKHR5
cGUgPT0gTUlQSV9EU0lfRENTX1JFQUQpKQogCitzdHJ1Y3QgbXRrX3BoeV90aW1pbmcgeworCXUz
MiBscHg7CisJdTMyIGRhX2hzX3ByZXBhcmU7CisJdTMyIGRhX2hzX3plcm87CisJdTMyIGRhX2hz
X3RyYWlsOworCisJdTMyIHRhX2dvOworCXUzMiB0YV9zdXJlOworCXUzMiB0YV9nZXQ7CisJdTMy
IGRhX2hzX2V4aXQ7CisKKwl1MzIgY2xrX2hzX3plcm87CisJdTMyIGNsa19oc190cmFpbDsKKwor
CXUzMiBjbGtfaHNfcHJlcGFyZTsKKwl1MzIgY2xrX2hzX3Bvc3Q7CisJdTMyIGNsa19oc19leGl0
OworfTsKKwogc3RydWN0IHBoeTsKIAogc3RydWN0IG10a19kc2lfZHJpdmVyX2RhdGEgewpAQCAt
MTgyLDEyICsyMDEsMTMgQEAgc3RydWN0IG10a19kc2kgewogCXN0cnVjdCBjbGsgKmRpZ2l0YWxf
Y2xrOwogCXN0cnVjdCBjbGsgKmhzX2NsazsKIAotCXUzMiBkYXRhX3JhdGU7CisJdTY0IGRhdGFf
cmF0ZTsKIAogCXVuc2lnbmVkIGxvbmcgbW9kZV9mbGFnczsKIAllbnVtIG1pcGlfZHNpX3BpeGVs
X2Zvcm1hdCBmb3JtYXQ7CiAJdW5zaWduZWQgaW50IGxhbmVzOwogCXN0cnVjdCB2aWRlb21vZGUg
dm07CisJc3RydWN0IG10a19waHlfdGltaW5nIHBoeV90aW1pbmc7CiAJaW50IHJlZmNvdW50Owog
CWJvb2wgZW5hYmxlZDsKIAl1MzIgaXJxX2RhdGE7CkBAIC0yMjEsMTcgKzI0MSwzOSBAQCBzdGF0
aWMgdm9pZCBtdGtfZHNpX3BoeV90aW1jb25maWcoc3RydWN0IG10a19kc2kgKmRzaSkKIHsKIAl1
MzIgdGltY29uMCwgdGltY29uMSwgdGltY29uMiwgdGltY29uMzsKIAl1MzIgdWksIGN5Y2xlX3Rp
bWU7CisJc3RydWN0IG10a19waHlfdGltaW5nICp0aW1pbmcgPSAmZHNpLT5waHlfdGltaW5nOwor
CisJdWkgPSAxMDAwMDAwMDAwIC8gZHNpLT5kYXRhX3JhdGU7CisJY3ljbGVfdGltZSA9IDgwMDAw
MDAwMDAgLyBkc2ktPmRhdGFfcmF0ZTsKKworCXRpbWluZy0+bHB4ID0gTlNfVE9fQ1lDTEUoNjAs
IGN5Y2xlX3RpbWUpOworCXRpbWluZy0+ZGFfaHNfcHJlcGFyZSA9IE5TX1RPX0NZQ0xFKCg0MCAr
IDUgKiB1aSksIGN5Y2xlX3RpbWUpOworCXRpbWluZy0+ZGFfaHNfemVybyA9IE5TX1RPX0NZQ0xF
KCgxMTAgKyA2ICogdWkpLCBjeWNsZV90aW1lKTsKKwl0aW1pbmctPmRhX2hzX3RyYWlsID0gTlNf
VE9fQ1lDTEUoKCgweDQgKiB1aSkgKyA4MCksIGN5Y2xlX3RpbWUpOworCisJaWYgKHRpbWluZy0+
ZGFfaHNfemVybyA+IHRpbWluZy0+ZGFfaHNfcHJlcGFyZSkKKwkJdGltaW5nLT5kYV9oc196ZXJv
IC09IHRpbWluZy0+ZGFfaHNfcHJlcGFyZTsKKworCXRpbWluZy0+dGFfZ28gPSA0ICogdGltaW5n
LT5scHg7CisJdGltaW5nLT50YV9zdXJlID0gMyAqIHRpbWluZy0+bHB4IC8gMjsKKwl0aW1pbmct
PnRhX2dldCA9IDUgKiB0aW1pbmctPmxweDsKKwl0aW1pbmctPmRhX2hzX2V4aXQgPSAyICogdGlt
aW5nLT5scHg7CisKKwl0aW1pbmctPmNsa19oc196ZXJvID0gTlNfVE9fQ1lDTEUoMHgxNTAsIGN5
Y2xlX3RpbWUpOworCXRpbWluZy0+Y2xrX2hzX3RyYWlsID0gTlNfVE9fQ1lDTEUoMHg2NCwgY3lj
bGVfdGltZSkgKyAweGE7CiAKLQl1aSA9IDEwMDAgLyBkc2ktPmRhdGFfcmF0ZSArIDB4MDE7Ci0J
Y3ljbGVfdGltZSA9IDgwMDAgLyBkc2ktPmRhdGFfcmF0ZSArIDB4MDE7CisJdGltaW5nLT5jbGtf
aHNfcHJlcGFyZSA9IE5TX1RPX0NZQ0xFKDB4NDAsIGN5Y2xlX3RpbWUpOworCXRpbWluZy0+Y2xr
X2hzX3Bvc3QgPSBOU19UT19DWUNMRSg4MCArIDUyICogdWksIGN5Y2xlX3RpbWUpOworCXRpbWlu
Zy0+Y2xrX2hzX2V4aXQgPSAyICogdGltaW5nLT5scHg7CiAKLQl0aW1jb24wID0gVF9MUFggfCBU
X0hTX1BSRVAgPDwgOCB8IFRfSFNfWkVSTyA8PCAxNiB8IFRfSFNfVFJBSUwgPDwgMjQ7Ci0JdGlt
Y29uMSA9IDQgKiBUX0xQWCB8ICgzICogVF9MUFggLyAyKSA8PCA4IHwgNSAqIFRfTFBYIDw8IDE2
IHwKLQkJICBUX0hTX0VYSVQgPDwgMjQ7Ci0JdGltY29uMiA9ICgoTlNfVE9fQ1lDTEUoMHg2NCwg
Y3ljbGVfdGltZSkgKyAweGEpIDw8IDI0KSB8Ci0JCSAgKE5TX1RPX0NZQ0xFKDB4MTUwLCBjeWNs
ZV90aW1lKSA8PCAxNik7Ci0JdGltY29uMyA9IE5TX1RPX0NZQ0xFKDB4NDAsIGN5Y2xlX3RpbWUp
IHwgKDIgKiBUX0xQWCkgPDwgMTYgfAotCQkgIE5TX1RPX0NZQ0xFKDgwICsgNTIgKiB1aSwgY3lj
bGVfdGltZSkgPDwgODsKKwl0aW1jb24wID0gdGltaW5nLT5scHggfCB0aW1pbmctPmRhX2hzX3By
ZXBhcmUgPDwgOCB8CisJCSAgdGltaW5nLT5kYV9oc196ZXJvIDw8IDE2IHwgdGltaW5nLT5kYV9o
c190cmFpbCA8PCAyNDsKKwl0aW1jb24xID0gdGltaW5nLT50YV9nbyB8IHRpbWluZy0+dGFfc3Vy
ZSA8PCA4IHwKKwkJICB0aW1pbmctPnRhX2dldCA8PCAxNiB8IHRpbWluZy0+ZGFfaHNfZXhpdCA8
PCAyNDsKKwl0aW1jb24yID0gMSA8PCA4IHwgdGltaW5nLT5jbGtfaHNfemVybyA8PCAxNiB8CisJ
CSAgdGltaW5nLT5jbGtfaHNfdHJhaWwgPDwgMjQ7CisJdGltY29uMyA9IHRpbWluZy0+Y2xrX2hz
X3ByZXBhcmUgfCB0aW1pbmctPmNsa19oc19wb3N0IDw8IDggfAorCQkgIHRpbWluZy0+Y2xrX2hz
X2V4aXQgPDwgMTY7CiAKIAl3cml0ZWwodGltY29uMCwgZHNpLT5yZWdzICsgRFNJX1BIWV9USU1F
Q09OMCk7CiAJd3JpdGVsKHRpbWNvbjEsIGRzaS0+cmVncyArIERTSV9QSFlfVElNRUNPTjEpOwpA
QCAtNDE4LDcgKzQ2MCw4IEBAIHN0YXRpYyB2b2lkIG10a19kc2lfY29uZmlnX3Zkb190aW1pbmco
c3RydWN0IG10a19kc2kgKmRzaSkKIAl1MzIgaG9yaXpvbnRhbF9zeW5jX2FjdGl2ZV9ieXRlOwog
CXUzMiBob3Jpem9udGFsX2JhY2twb3JjaF9ieXRlOwogCXUzMiBob3Jpem9udGFsX2Zyb250cG9y
Y2hfYnl0ZTsKLQl1MzIgZHNpX3RtcF9idWZfYnBwOworCXUzMiBkc2lfdG1wX2J1Zl9icHAsIGRh
dGFfcGh5X2N5Y2xlczsKKwlzdHJ1Y3QgbXRrX3BoeV90aW1pbmcgKnRpbWluZyA9ICZkc2ktPnBo
eV90aW1pbmc7CiAKIAlzdHJ1Y3QgdmlkZW9tb2RlICp2bSA9ICZkc2ktPnZtOwogCkBAIC00MzMs
NyArNDc2LDggQEAgc3RhdGljIHZvaWQgbXRrX2RzaV9jb25maWdfdmRvX3RpbWluZyhzdHJ1Y3Qg
bXRrX2RzaSAqZHNpKQogCXdyaXRlbCh2bS0+dmFjdGl2ZSwgZHNpLT5yZWdzICsgRFNJX1ZBQ1Rf
TkwpOwogCiAJaWYgKGRzaS0+ZHJpdmVyX2RhdGEtPmhhc19zaXplX2N0bCkKLQkJd3JpdGVsKHZt
LT52YWN0aXZlIDw8IDE2IHwgdm0tPmhhY3RpdmUsIGRzaS0+cmVncyArIERTSV9TSVpFX0NPTik7
CisJCXdyaXRlbCh2bS0+dmFjdGl2ZSA8PCAxNiB8IHZtLT5oYWN0aXZlLAorCQkgICAgICAgZHNp
LT5yZWdzICsgRFNJX1NJWkVfQ09OKTsKIAogCWhvcml6b250YWxfc3luY19hY3RpdmVfYnl0ZSA9
ICh2bS0+aHN5bmNfbGVuICogZHNpX3RtcF9idWZfYnBwIC0gMTApOwogCkBAIC00NDQsNyArNDg4
LDM0IEBAIHN0YXRpYyB2b2lkIG10a19kc2lfY29uZmlnX3Zkb190aW1pbmcoc3RydWN0IG10a19k
c2kgKmRzaSkKIAkJaG9yaXpvbnRhbF9iYWNrcG9yY2hfYnl0ZSA9ICgodm0tPmhiYWNrX3BvcmNo
ICsgdm0tPmhzeW5jX2xlbikgKgogCQkJZHNpX3RtcF9idWZfYnBwIC0gMTApOwogCi0JaG9yaXpv
bnRhbF9mcm9udHBvcmNoX2J5dGUgPSAodm0tPmhmcm9udF9wb3JjaCAqIGRzaV90bXBfYnVmX2Jw
cCAtIDEyKTsKKwlkYXRhX3BoeV9jeWNsZXMgPSB0aW1pbmctPmxweCArIHRpbWluZy0+ZGFfaHNf
cHJlcGFyZSArCisJCQkJICB0aW1pbmctPmRhX2hzX3plcm8gKyB0aW1pbmctPmRhX2hzX2V4aXQg
KyAyOworCisJaWYgKGRzaS0+bW9kZV9mbGFncyAmIE1JUElfRFNJX01PREVfVklERU9fQlVSU1Qp
IHsKKwkJaWYgKHZtLT5oZnJvbnRfcG9yY2ggKiBkc2lfdG1wX2J1Zl9icHAgPgorCQkgICAgZGF0
YV9waHlfY3ljbGVzICogZHNpLT5sYW5lcyArIDE4KSB7CisJCQlob3Jpem9udGFsX2Zyb250cG9y
Y2hfYnl0ZSA9IHZtLT5oZnJvbnRfcG9yY2ggKgorCQkJCQkJICAgICBkc2lfdG1wX2J1Zl9icHAg
LQorCQkJCQkJICAgICBkYXRhX3BoeV9jeWNsZXMgKgorCQkJCQkJICAgICBkc2ktPmxhbmVzIC0g
MTg7CisJCX0gZWxzZSB7CisJCQlEUk1fV0FSTigiSEZQIGxlc3MgdGhhbiBkLXBoeSwgRlBTIHdp
bGwgdW5kZXIgNjBIelxuIik7CisJCQlob3Jpem9udGFsX2Zyb250cG9yY2hfYnl0ZSA9IHZtLT5o
ZnJvbnRfcG9yY2ggKgorCQkJCQkJICAgICBkc2lfdG1wX2J1Zl9icHA7CisJCX0KKwl9IGVsc2Ug
eworCQlpZiAodm0tPmhmcm9udF9wb3JjaCAqIGRzaV90bXBfYnVmX2JwcCA+CisJCSAgICBkYXRh
X3BoeV9jeWNsZXMgKiBkc2ktPmxhbmVzICsgMTIpIHsKKwkJCWhvcml6b250YWxfZnJvbnRwb3Jj
aF9ieXRlID0gdm0tPmhmcm9udF9wb3JjaCAqCisJCQkJCQkgICAgIGRzaV90bXBfYnVmX2JwcCAt
CisJCQkJCQkgICAgIGRhdGFfcGh5X2N5Y2xlcyAqCisJCQkJCQkgICAgIGRzaS0+bGFuZXMgLSAx
MjsKKwkJfSBlbHNlIHsKKwkJCURSTV9XQVJOKCJIRlAgbGVzcyB0aGFuIGQtcGh5LCBGUFMgd2ls
bCB1bmRlciA2MEh6XG4iKTsKKwkJCWhvcml6b250YWxfZnJvbnRwb3JjaF9ieXRlID0gdm0tPmhm
cm9udF9wb3JjaCAqCisJCQkJCQkgICAgIGRzaV90bXBfYnVmX2JwcDsKKwkJfQorCX0KIAogCXdy
aXRlbChob3Jpem9udGFsX3N5bmNfYWN0aXZlX2J5dGUsIGRzaS0+cmVncyArIERTSV9IU0FfV0Mp
OwogCXdyaXRlbChob3Jpem9udGFsX2JhY2twb3JjaF9ieXRlLCBkc2ktPnJlZ3MgKyBEU0lfSEJQ
X1dDKTsKQEAgLTU0NCw4ICs2MTUsNyBAQCBzdGF0aWMgaW50IG10a19kc2lfcG93ZXJvbihzdHJ1
Y3QgbXRrX2RzaSAqZHNpKQogewogCXN0cnVjdCBkZXZpY2UgKmRldiA9IGRzaS0+ZGV2OwogCWlu
dCByZXQ7Ci0JdTY0IHBpeGVsX2Nsb2NrLCB0b3RhbF9iaXRzOwotCXUzMiBodG90YWwsIGh0b3Rh
bF9iaXRzLCBiaXRfcGVyX3BpeGVsLCBvdmVyaGVhZF9jeWNsZXMsIG92ZXJoZWFkX2JpdHM7CisJ
dTMyIGJpdF9wZXJfcGl4ZWw7CiAKIAlpZiAoKytkc2ktPnJlZmNvdW50ICE9IDEpCiAJCXJldHVy
biAwOwpAQCAtNTY0LDI0ICs2MzQsNyBAQCBzdGF0aWMgaW50IG10a19kc2lfcG93ZXJvbihzdHJ1
Y3QgbXRrX2RzaSAqZHNpKQogCQlicmVhazsKIAl9CiAKLQkvKioKLQkgKiBodG90YWxfdGltZSA9
IGh0b3RhbCAqIGJ5dGVfcGVyX3BpeGVsIC8gbnVtX2xhbmVzCi0JICogb3ZlcmhlYWRfdGltZSA9
IGxweCArIGhzX3ByZXBhcmUgKyBoc196ZXJvICsgaHNfdHJhaWwgKyBoc19leGl0Ci0JICogbWlw
aV9yYXRpbyA9IChodG90YWxfdGltZSArIG92ZXJoZWFkX3RpbWUpIC8gaHRvdGFsX3RpbWUKLQkg
KiBkYXRhX3JhdGUgPSBwaXhlbF9jbG9jayAqIGJpdF9wZXJfcGl4ZWwgKiBtaXBpX3JhdGlvIC8g
bnVtX2xhbmVzOwotCSAqLwotCXBpeGVsX2Nsb2NrID0gZHNpLT52bS5waXhlbGNsb2NrOwotCWh0
b3RhbCA9IGRzaS0+dm0uaGFjdGl2ZSArIGRzaS0+dm0uaGJhY2tfcG9yY2ggKyBkc2ktPnZtLmhm
cm9udF9wb3JjaCArCi0JCQlkc2ktPnZtLmhzeW5jX2xlbjsKLQlodG90YWxfYml0cyA9IGh0b3Rh
bCAqIGJpdF9wZXJfcGl4ZWw7Ci0KLQlvdmVyaGVhZF9jeWNsZXMgPSBUX0xQWCArIFRfSFNfUFJF
UCArIFRfSFNfWkVSTyArIFRfSFNfVFJBSUwgKwotCQkJVF9IU19FWElUOwotCW92ZXJoZWFkX2Jp
dHMgPSBvdmVyaGVhZF9jeWNsZXMgKiBkc2ktPmxhbmVzICogODsKLQl0b3RhbF9iaXRzID0gaHRv
dGFsX2JpdHMgKyBvdmVyaGVhZF9iaXRzOwotCi0JZHNpLT5kYXRhX3JhdGUgPSBESVZfUk9VTkRf
VVBfVUxMKHBpeGVsX2Nsb2NrICogdG90YWxfYml0cywKLQkJCQkJICBodG90YWwgKiBkc2ktPmxh
bmVzKTsKKwlkc2ktPmRhdGFfcmF0ZSA9IGRzaS0+dm0ucGl4ZWxjbG9jayAqIGJpdF9wZXJfcGl4
ZWwgLyBkc2ktPmxhbmVzOwogCiAJcmV0ID0gY2xrX3NldF9yYXRlKGRzaS0+aHNfY2xrLCBkc2kt
PmRhdGFfcmF0ZSk7CiAJaWYgKHJldCA8IDApIHsKLS0gCjIuMjEuMAoKX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApk
cmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Au
b3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
