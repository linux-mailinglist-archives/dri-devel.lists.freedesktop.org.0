Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id BE9395F393
	for <lists+dri-devel@lfdr.de>; Thu,  4 Jul 2019 09:26:20 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 256F46E2A8;
	Thu,  4 Jul 2019 07:25:20 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-pf1-x442.google.com (mail-pf1-x442.google.com
 [IPv6:2607:f8b0:4864:20::442])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E7B876E243;
 Thu,  4 Jul 2019 02:35:54 +0000 (UTC)
Received: by mail-pf1-x442.google.com with SMTP id r7so2190934pfl.3;
 Wed, 03 Jul 2019 19:35:54 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id;
 bh=ojn+49ftq+z8784/6AsfYPnFGWstJKNc22LY9JyUdlw=;
 b=d5P/dDH2EKZfeLzRt+Ri/RZ0NFJSrvJTSdCQmcCaxw0QuVWEa2t9S++ySyEcCJd03V
 6AYXiN8k6aOGDRX2QMffpLd4FeRQy59Rf7qZD4oej0o/4Xj+uCqCSMHFRTTRZcOtceow
 ouWYj6HFV3r5uH520IOv+xGcS2cUhG2GCcU+6BS4FylDfNIad6dVaOZPbgs0jysEPBOK
 CbDBFtHfsj13JZDpapNfUHHHuudLNHU+HVA6OOrobWt/UBZ1ZDrAaZypAOt6BNvMAPmv
 HUoHjEsoq4wzpVYw2VB3UVduuDu/vbk/KJZCCHDND5oGNbFXOHFY32QsenrxsGC4ZMw/
 vATA==
X-Gm-Message-State: APjAAAWeG9CZ/3Q+Icu6k4T0WRDgTPKfIw6r4jssNy/EgqsqkLWVwx7l
 b860CZ1NHp7KdzJQEDuWiBvHGNocoM4=
X-Google-Smtp-Source: APXvYqzqvMWWHQM4sVeiCp9PcZJA0Ws8ePP+f3aZv97bhjphSnssU+dDzXMDMfH8Jnk46WlMAOTb4A==
X-Received: by 2002:a65:5689:: with SMTP id v9mr37803658pgs.293.1562207754394; 
 Wed, 03 Jul 2019 19:35:54 -0700 (PDT)
Received: from hfq-skylake.ipads-lab.se.sjtu.edu.cn ([202.120.40.82])
 by smtp.googlemail.com with ESMTPSA id s66sm5290767pgs.39.2019.07.03.19.35.51
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Wed, 03 Jul 2019 19:35:54 -0700 (PDT)
From: Fuqian Huang <huangfq.daxian@gmail.com>
To: 
Subject: [Patch v2 02/10] drm/msm: using dev_get_drvdata directly
Date: Thu,  4 Jul 2019 10:35:46 +0800
Message-Id: <20190704023546.4503-1-huangfq.daxian@gmail.com>
X-Mailer: git-send-email 2.11.0
X-Mailman-Approved-At: Thu, 04 Jul 2019 07:25:13 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id;
 bh=ojn+49ftq+z8784/6AsfYPnFGWstJKNc22LY9JyUdlw=;
 b=FxhQ1cdUpPS8yct2DSlYrMBDcU04+80klCz0EsXxr2SJy/bXip/j5g5YW3RezoBXiH
 6weMuHwDmJ52nHplt/mTdbYvqdzAtFr8UVX8bhRDlc+DZ+j5dxSEkzD/VdbatURStpcW
 fF6Jv3Ef+/zuYJZyDBuSBB+jKdMSVsTrhAL5eHpHbcvpmi9BVJiy0XVUBA/UXnUpS6rm
 /m2yW00jiu9cNGogxOeMKsoYRrUhCG6A8oU9KhZvlRwsBhrjo6oWeQx1LJUZjYVTZTeo
 oePhEQ9aOM4uVrR5VQXdi5B8biVyS7yB+hnKD5UkmpltXWz2Z23SL6IO9agQmQ9mIXsN
 bCwQ==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: freedreno@lists.freedesktop.org, David Airlie <airlied@linux.ie>,
 linux-arm-msm@vger.kernel.org, linux-kernel@vger.kernel.org,
 dri-devel@lists.freedesktop.org, Fuqian Huang <huangfq.daxian@gmail.com>,
 Sean Paul <sean@poorly.run>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

U2V2ZXJhbCBkcml2ZXJzIGNhc3QgYSBzdHJ1Y3QgZGV2aWNlIHBvaW50ZXIgdG8gYSBzdHJ1Y3QK
cGxhdGZvcm1fZGV2aWNlIHBvaW50ZXIgb25seSB0byB0aGVuIGNhbGwgcGxhdGZvcm1fZ2V0X2Ry
dmRhdGEoKS4KVG8gaW1wcm92ZSByZWFkYWJpbGl0eSwgdGhlc2UgY29uc3RydWN0cyBjYW4gYmUg
c2ltcGxpZmllZApieSB1c2luZyBkZXZfZ2V0X2RydmRhdGEoKSBkaXJlY3RseS4KClNpZ25lZC1v
ZmYtYnk6IEZ1cWlhbiBIdWFuZyA8aHVhbmdmcS5kYXhpYW5AZ21haWwuY29tPgotLS0KQ2hhbmdl
cyBpbiB2MjoKICAtIE1ha2UgdGhlIGNvbW1pdCBtZXNzYWdlIG1vcmUgY2xlYXJseS4KCiBkcml2
ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hZHJlbm9fZGV2aWNlLmMgfCAgNiArKy0tLS0KIGRyaXZl
cnMvZ3B1L2RybS9tc20vZGlzcC9kcHUxL2RwdV9rbXMuYyAgICB8IDEzICsrKysrLS0tLS0tLS0K
IGRyaXZlcnMvZ3B1L2RybS9tc20vZGlzcC9tZHA1L21kcDVfa21zLmMgICB8ICA2ICsrLS0tLQog
ZHJpdmVycy9ncHUvZHJtL21zbS9kc2kvZHNpX2hvc3QuYyAgICAgICAgIHwgIDYgKystLS0tCiBk
cml2ZXJzL2dwdS9kcm0vbXNtL21zbV9kcnYuYyAgICAgICAgICAgICAgfCAgMyArLS0KIGRyaXZl
cnMvZ3B1L2RybS9tc20vbXNtX2dwdS5jICAgICAgICAgICAgICB8ICA2ICsrKy0tLQogNiBmaWxl
cyBjaGFuZ2VkLCAxNSBpbnNlcnRpb25zKCspLCAyNSBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hZHJlbm9fZGV2aWNlLmMgYi9kcml2ZXJzL2dw
dS9kcm0vbXNtL2FkcmVuby9hZHJlbm9fZGV2aWNlLmMKaW5kZXggYjNkZWIzNDZhNDJiLi5mYWZk
MDBkMjU3NGEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2FkcmVub19k
ZXZpY2UuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hZHJlbm9fZGV2aWNlLmMK
QEAgLTQwMywxNiArNDAzLDE0IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3Qgb2ZfZGV2aWNlX2lkIGR0
X21hdGNoW10gPSB7CiAjaWZkZWYgQ09ORklHX1BNCiBzdGF0aWMgaW50IGFkcmVub19yZXN1bWUo
c3RydWN0IGRldmljZSAqZGV2KQogewotCXN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYgPSB0
b19wbGF0Zm9ybV9kZXZpY2UoZGV2KTsKLQlzdHJ1Y3QgbXNtX2dwdSAqZ3B1ID0gcGxhdGZvcm1f
Z2V0X2RydmRhdGEocGRldik7CisJc3RydWN0IG1zbV9ncHUgKmdwdSA9IGRldl9nZXRfZHJ2ZGF0
YShkZXYpOwogCiAJcmV0dXJuIGdwdS0+ZnVuY3MtPnBtX3Jlc3VtZShncHUpOwogfQogCiBzdGF0
aWMgaW50IGFkcmVub19zdXNwZW5kKHN0cnVjdCBkZXZpY2UgKmRldikKIHsKLQlzdHJ1Y3QgcGxh
dGZvcm1fZGV2aWNlICpwZGV2ID0gdG9fcGxhdGZvcm1fZGV2aWNlKGRldik7Ci0Jc3RydWN0IG1z
bV9ncHUgKmdwdSA9IHBsYXRmb3JtX2dldF9kcnZkYXRhKHBkZXYpOworCXN0cnVjdCBtc21fZ3B1
ICpncHUgPSBkZXZfZ2V0X2RydmRhdGEoZGV2KTsKIAogCXJldHVybiBncHUtPmZ1bmNzLT5wbV9z
dXNwZW5kKGdwdSk7CiB9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbXNtL2Rpc3AvZHB1
MS9kcHVfa21zLmMgYi9kcml2ZXJzL2dwdS9kcm0vbXNtL2Rpc3AvZHB1MS9kcHVfa21zLmMKaW5k
ZXggYWU4ODVlNWRkMDdkLi42YzZmOGNhOTM4MGYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9tc20vZGlzcC9kcHUxL2RwdV9rbXMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vbXNtL2Rpc3Av
ZHB1MS9kcHVfa21zLmMKQEAgLTEwMjUsMTYgKzEwMjUsMTUgQEAgc3RhdGljIGludCBkcHVfYmlu
ZChzdHJ1Y3QgZGV2aWNlICpkZXYsIHN0cnVjdCBkZXZpY2UgKm1hc3Rlciwgdm9pZCAqZGF0YSkK
IAogc3RhdGljIHZvaWQgZHB1X3VuYmluZChzdHJ1Y3QgZGV2aWNlICpkZXYsIHN0cnVjdCBkZXZp
Y2UgKm1hc3Rlciwgdm9pZCAqZGF0YSkKIHsKLQlzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2
ID0gdG9fcGxhdGZvcm1fZGV2aWNlKGRldik7Ci0Jc3RydWN0IGRwdV9rbXMgKmRwdV9rbXMgPSBw
bGF0Zm9ybV9nZXRfZHJ2ZGF0YShwZGV2KTsKKwlzdHJ1Y3QgZHB1X2ttcyAqZHB1X2ttcyA9IGRl
dl9nZXRfZHJ2ZGF0YShkZXYpOwogCXN0cnVjdCBkc3NfbW9kdWxlX3Bvd2VyICptcCA9ICZkcHVf
a21zLT5tcDsKIAogCW1zbV9kc3NfcHV0X2NsayhtcC0+Y2xrX2NvbmZpZywgbXAtPm51bV9jbGsp
OwotCWRldm1fa2ZyZWUoJnBkZXYtPmRldiwgbXAtPmNsa19jb25maWcpOworCWRldm1fa2ZyZWUo
ZGV2LCBtcC0+Y2xrX2NvbmZpZyk7CiAJbXAtPm51bV9jbGsgPSAwOwogCiAJaWYgKGRwdV9rbXMt
PnJwbV9lbmFibGVkKQotCQlwbV9ydW50aW1lX2Rpc2FibGUoJnBkZXYtPmRldik7CisJCXBtX3J1
bnRpbWVfZGlzYWJsZShkZXYpOwogfQogCiBzdGF0aWMgY29uc3Qgc3RydWN0IGNvbXBvbmVudF9v
cHMgZHB1X29wcyA9IHsKQEAgLTEwNTYsOCArMTA1NSw3IEBAIHN0YXRpYyBpbnQgZHB1X2Rldl9y
ZW1vdmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKIHN0YXRpYyBpbnQgX19tYXliZV91
bnVzZWQgZHB1X3J1bnRpbWVfc3VzcGVuZChzdHJ1Y3QgZGV2aWNlICpkZXYpCiB7CiAJaW50IHJj
ID0gLTE7Ci0Jc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldiA9IHRvX3BsYXRmb3JtX2Rldmlj
ZShkZXYpOwotCXN0cnVjdCBkcHVfa21zICpkcHVfa21zID0gcGxhdGZvcm1fZ2V0X2RydmRhdGEo
cGRldik7CisJc3RydWN0IGRwdV9rbXMgKmRwdV9rbXMgPSBkZXZfZ2V0X2RydmRhdGEoZGV2KTsK
IAlzdHJ1Y3QgZHJtX2RldmljZSAqZGRldjsKIAlzdHJ1Y3QgZHNzX21vZHVsZV9wb3dlciAqbXAg
PSAmZHB1X2ttcy0+bXA7CiAKQEAgLTEwNzcsOCArMTA3NSw3IEBAIHN0YXRpYyBpbnQgX19tYXli
ZV91bnVzZWQgZHB1X3J1bnRpbWVfc3VzcGVuZChzdHJ1Y3QgZGV2aWNlICpkZXYpCiBzdGF0aWMg
aW50IF9fbWF5YmVfdW51c2VkIGRwdV9ydW50aW1lX3Jlc3VtZShzdHJ1Y3QgZGV2aWNlICpkZXYp
CiB7CiAJaW50IHJjID0gLTE7Ci0Jc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldiA9IHRvX3Bs
YXRmb3JtX2RldmljZShkZXYpOwotCXN0cnVjdCBkcHVfa21zICpkcHVfa21zID0gcGxhdGZvcm1f
Z2V0X2RydmRhdGEocGRldik7CisJc3RydWN0IGRwdV9rbXMgKmRwdV9rbXMgPSBkZXZfZ2V0X2Ry
dmRhdGEoZGV2KTsKIAlzdHJ1Y3QgZHJtX2VuY29kZXIgKmVuY29kZXI7CiAJc3RydWN0IGRybV9k
ZXZpY2UgKmRkZXY7CiAJc3RydWN0IGRzc19tb2R1bGVfcG93ZXIgKm1wID0gJmRwdV9rbXMtPm1w
OwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL21zbS9kaXNwL21kcDUvbWRwNV9rbXMuYyBi
L2RyaXZlcnMvZ3B1L2RybS9tc20vZGlzcC9tZHA1L21kcDVfa21zLmMKaW5kZXggOTAxMDA5ZTFm
MjE5Li4yNWQxZWJiMzJlNzMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9tc20vZGlzcC9t
ZHA1L21kcDVfa21zLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL21zbS9kaXNwL21kcDUvbWRwNV9r
bXMuYwpAQCAtMTA1Miw4ICsxMDUyLDcgQEAgc3RhdGljIGludCBtZHA1X2Rldl9yZW1vdmUoc3Ry
dWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKIAogc3RhdGljIF9fbWF5YmVfdW51c2VkIGludCBt
ZHA1X3J1bnRpbWVfc3VzcGVuZChzdHJ1Y3QgZGV2aWNlICpkZXYpCiB7Ci0Jc3RydWN0IHBsYXRm
b3JtX2RldmljZSAqcGRldiA9IHRvX3BsYXRmb3JtX2RldmljZShkZXYpOwotCXN0cnVjdCBtZHA1
X2ttcyAqbWRwNV9rbXMgPSBwbGF0Zm9ybV9nZXRfZHJ2ZGF0YShwZGV2KTsKKwlzdHJ1Y3QgbWRw
NV9rbXMgKm1kcDVfa21zID0gZGV2X2dldF9kcnZkYXRhKGRldik7CiAKIAlEQkcoIiIpOwogCkBA
IC0xMDYyLDggKzEwNjEsNyBAQCBzdGF0aWMgX19tYXliZV91bnVzZWQgaW50IG1kcDVfcnVudGlt
ZV9zdXNwZW5kKHN0cnVjdCBkZXZpY2UgKmRldikKIAogc3RhdGljIF9fbWF5YmVfdW51c2VkIGlu
dCBtZHA1X3J1bnRpbWVfcmVzdW1lKHN0cnVjdCBkZXZpY2UgKmRldikKIHsKLQlzdHJ1Y3QgcGxh
dGZvcm1fZGV2aWNlICpwZGV2ID0gdG9fcGxhdGZvcm1fZGV2aWNlKGRldik7Ci0Jc3RydWN0IG1k
cDVfa21zICptZHA1X2ttcyA9IHBsYXRmb3JtX2dldF9kcnZkYXRhKHBkZXYpOworCXN0cnVjdCBt
ZHA1X2ttcyAqbWRwNV9rbXMgPSBkZXZfZ2V0X2RydmRhdGEoZGV2KTsKIAogCURCRygiIik7CiAK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tc20vZHNpL2RzaV9ob3N0LmMgYi9kcml2ZXJz
L2dwdS9kcm0vbXNtL2RzaS9kc2lfaG9zdC5jCmluZGV4IGRiZjQ5MDE3NmMyYy4uODgyZjEzNzI1
ODE5IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vbXNtL2RzaS9kc2lfaG9zdC5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9tc20vZHNpL2RzaV9ob3N0LmMKQEAgLTQ3Nyw4ICs0NzcsNyBAQCBz
dGF0aWMgdm9pZCBkc2lfYnVzX2Nsa19kaXNhYmxlKHN0cnVjdCBtc21fZHNpX2hvc3QgKm1zbV9o
b3N0KQogCiBpbnQgbXNtX2RzaV9ydW50aW1lX3N1c3BlbmQoc3RydWN0IGRldmljZSAqZGV2KQog
ewotCXN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYgPSB0b19wbGF0Zm9ybV9kZXZpY2UoZGV2
KTsKLQlzdHJ1Y3QgbXNtX2RzaSAqbXNtX2RzaSA9IHBsYXRmb3JtX2dldF9kcnZkYXRhKHBkZXYp
OworCXN0cnVjdCBtc21fZHNpICptc21fZHNpID0gZGV2X2dldF9kcnZkYXRhKGRldik7CiAJc3Ry
dWN0IG1pcGlfZHNpX2hvc3QgKmhvc3QgPSBtc21fZHNpLT5ob3N0OwogCXN0cnVjdCBtc21fZHNp
X2hvc3QgKm1zbV9ob3N0ID0gdG9fbXNtX2RzaV9ob3N0KGhvc3QpOwogCkBAIC00OTIsOCArNDkx
LDcgQEAgaW50IG1zbV9kc2lfcnVudGltZV9zdXNwZW5kKHN0cnVjdCBkZXZpY2UgKmRldikKIAog
aW50IG1zbV9kc2lfcnVudGltZV9yZXN1bWUoc3RydWN0IGRldmljZSAqZGV2KQogewotCXN0cnVj
dCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYgPSB0b19wbGF0Zm9ybV9kZXZpY2UoZGV2KTsKLQlzdHJ1
Y3QgbXNtX2RzaSAqbXNtX2RzaSA9IHBsYXRmb3JtX2dldF9kcnZkYXRhKHBkZXYpOworCXN0cnVj
dCBtc21fZHNpICptc21fZHNpID0gZGV2X2dldF9kcnZkYXRhKGRldik7CiAJc3RydWN0IG1pcGlf
ZHNpX2hvc3QgKmhvc3QgPSBtc21fZHNpLT5ob3N0OwogCXN0cnVjdCBtc21fZHNpX2hvc3QgKm1z
bV9ob3N0ID0gdG9fbXNtX2RzaV9ob3N0KGhvc3QpOwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vbXNtL21zbV9kcnYuYyBiL2RyaXZlcnMvZ3B1L2RybS9tc20vbXNtX2Rydi5jCmluZGV4
IGYzOGQ3MzY3YmQzYi4uMGQ5ZTQ2NTYxNjA5IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
bXNtL21zbV9kcnYuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vbXNtL21zbV9kcnYuYwpAQCAtMjQx
LDggKzI0MSw3IEBAIHN0YXRpYyBpbnQgdmJsYW5rX2N0cmxfcXVldWVfd29yayhzdHJ1Y3QgbXNt
X2RybV9wcml2YXRlICpwcml2LAogCiBzdGF0aWMgaW50IG1zbV9kcm1fdW5pbml0KHN0cnVjdCBk
ZXZpY2UgKmRldikKIHsKLQlzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2ID0gdG9fcGxhdGZv
cm1fZGV2aWNlKGRldik7Ci0Jc3RydWN0IGRybV9kZXZpY2UgKmRkZXYgPSBwbGF0Zm9ybV9nZXRf
ZHJ2ZGF0YShwZGV2KTsKKwlzdHJ1Y3QgZHJtX2RldmljZSAqZGRldiA9IGRldl9nZXRfZHJ2ZGF0
YShkZXYpOwogCXN0cnVjdCBtc21fZHJtX3ByaXZhdGUgKnByaXYgPSBkZGV2LT5kZXZfcHJpdmF0
ZTsKIAlzdHJ1Y3QgbXNtX2ttcyAqa21zID0gcHJpdi0+a21zOwogCXN0cnVjdCBtc21fbWRzcyAq
bWRzcyA9IHByaXYtPm1kc3M7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbXNtL21zbV9n
cHUuYyBiL2RyaXZlcnMvZ3B1L2RybS9tc20vbXNtX2dwdS5jCmluZGV4IGIyYTg0MTFjMmQ4NC4u
ZWJiYzZkZmYyY2RlIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vbXNtL21zbV9ncHUuYwor
KysgYi9kcml2ZXJzL2dwdS9kcm0vbXNtL21zbV9ncHUuYwpAQCAtMjQsNyArMjQsNyBAQAogc3Rh
dGljIGludCBtc21fZGV2ZnJlcV90YXJnZXQoc3RydWN0IGRldmljZSAqZGV2LCB1bnNpZ25lZCBs
b25nICpmcmVxLAogCQl1MzIgZmxhZ3MpCiB7Ci0Jc3RydWN0IG1zbV9ncHUgKmdwdSA9IHBsYXRm
b3JtX2dldF9kcnZkYXRhKHRvX3BsYXRmb3JtX2RldmljZShkZXYpKTsKKwlzdHJ1Y3QgbXNtX2dw
dSAqZ3B1ID0gZGV2X2dldF9kcnZkYXRhKGRldik7CiAJc3RydWN0IGRldl9wbV9vcHAgKm9wcDsK
IAogCW9wcCA9IGRldmZyZXFfcmVjb21tZW5kZWRfb3BwKGRldiwgZnJlcSwgZmxhZ3MpOwpAQCAt
NDUsNyArNDUsNyBAQCBzdGF0aWMgaW50IG1zbV9kZXZmcmVxX3RhcmdldChzdHJ1Y3QgZGV2aWNl
ICpkZXYsIHVuc2lnbmVkIGxvbmcgKmZyZXEsCiBzdGF0aWMgaW50IG1zbV9kZXZmcmVxX2dldF9k
ZXZfc3RhdHVzKHN0cnVjdCBkZXZpY2UgKmRldiwKIAkJc3RydWN0IGRldmZyZXFfZGV2X3N0YXR1
cyAqc3RhdHVzKQogewotCXN0cnVjdCBtc21fZ3B1ICpncHUgPSBwbGF0Zm9ybV9nZXRfZHJ2ZGF0
YSh0b19wbGF0Zm9ybV9kZXZpY2UoZGV2KSk7CisJc3RydWN0IG1zbV9ncHUgKmdwdSA9IGRldl9n
ZXRfZHJ2ZGF0YShkZXYpOwogCWt0aW1lX3QgdGltZTsKIAogCWlmIChncHUtPmZ1bmNzLT5ncHVf
Z2V0X2ZyZXEpCkBAIC02NCw3ICs2NCw3IEBAIHN0YXRpYyBpbnQgbXNtX2RldmZyZXFfZ2V0X2Rl
dl9zdGF0dXMoc3RydWN0IGRldmljZSAqZGV2LAogCiBzdGF0aWMgaW50IG1zbV9kZXZmcmVxX2dl
dF9jdXJfZnJlcShzdHJ1Y3QgZGV2aWNlICpkZXYsIHVuc2lnbmVkIGxvbmcgKmZyZXEpCiB7Ci0J
c3RydWN0IG1zbV9ncHUgKmdwdSA9IHBsYXRmb3JtX2dldF9kcnZkYXRhKHRvX3BsYXRmb3JtX2Rl
dmljZShkZXYpKTsKKwlzdHJ1Y3QgbXNtX2dwdSAqZ3B1ID0gZGV2X2dldF9kcnZkYXRhKGRldik7
CiAKIAlpZiAoZ3B1LT5mdW5jcy0+Z3B1X2dldF9mcmVxKQogCQkqZnJlcSA9IGdwdS0+ZnVuY3Mt
PmdwdV9nZXRfZnJlcShncHUpOwotLSAKMi4xMS4wCgpfX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBs
aXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1h
bi9saXN0aW5mby9kcmktZGV2ZWw=
