Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 4F4B710FB54
	for <lists+dri-devel@lfdr.de>; Tue,  3 Dec 2019 11:04:22 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id DE0506E456;
	Tue,  3 Dec 2019 10:04:13 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mx1.suse.de (mx2.suse.de [195.135.220.15])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 750C56E451
 for <dri-devel@lists.freedesktop.org>; Tue,  3 Dec 2019 10:04:11 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id 78541B170;
 Tue,  3 Dec 2019 10:04:09 +0000 (UTC)
From: Thomas Zimmermann <tzimmermann@suse.de>
To: maarten.lankhorst@linux.intel.com, airlied@linux.ie, daniel@ffwll.ch,
 alexander.deucher@amd.com, christian.koenig@amd.com, David1.Zhou@amd.com,
 kraxel@redhat.com, sam@ravnborg.org, laurent.pinchart@ideasonboard.com,
 chris@chris-wilson.co.uk, emil.velikov@collabora.com,
 dan.carpenter@oracle.com
Subject: [PATCH 01/12] drm/pci: Only build drm_pci.c if CONFIG_PCI is set
Date: Tue,  3 Dec 2019 11:03:55 +0100
Message-Id: <20191203100406.9674-2-tzimmermann@suse.de>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20191203100406.9674-1-tzimmermann@suse.de>
References: <20191203100406.9674-1-tzimmermann@suse.de>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Thomas Zimmermann <tzimmermann@suse.de>, dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Tm9uLVBDSSBzeXN0ZW1zIHNob3VsZCBub3QgYnVpbGQgUENJIGhlbHBlcnMuIFNldCB1cCBzb3Vy
Y2UgY29kZSwgaGVhZGVyCmZpbGUgYW5kIE1ha2VmaWxlIGFjY29yZGluZ2x5LgoKU2lnbmVkLW9m
Zi1ieTogVGhvbWFzIFppbW1lcm1hbm4gPHR6aW1tZXJtYW5uQHN1c2UuZGU+Ci0tLQogZHJpdmVy
cy9ncHUvZHJtL01ha2VmaWxlICAgICAgIHwgIDMgKystCiBkcml2ZXJzL2dwdS9kcm0vZHJtX2lu
dGVybmFsLmggfCAyMiArKysrKysrKysrKysrKysrKysrKysrCiBkcml2ZXJzL2dwdS9kcm0vZHJt
X3BjaS5jICAgICAgfCAxMyAtLS0tLS0tLS0tLS0tCiBpbmNsdWRlL2RybS9kcm1fcGNpLmggICAg
ICAgICAgfCAzNCArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrLS0tCiA0IGZpbGVzIGNo
YW5nZWQsIDU1IGluc2VydGlvbnMoKyksIDE3IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9NYWtlZmlsZSBiL2RyaXZlcnMvZ3B1L2RybS9NYWtlZmlsZQppbmRleCBk
OWJjYzlmMmEwYTQuLjY0OTMwODhhMGZkZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL01h
a2VmaWxlCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9NYWtlZmlsZQpAQCAtNSw3ICs1LDcgQEAKIAog
ZHJtLXkgICAgICAgOj0JZHJtX2F1dGgubyBkcm1fY2FjaGUubyBcCiAJCWRybV9maWxlLm8gZHJt
X2dlbS5vIGRybV9pb2N0bC5vIGRybV9pcnEubyBcCi0JCWRybV9tZW1vcnkubyBkcm1fZHJ2Lm8g
ZHJtX3BjaS5vIFwKKwkJZHJtX21lbW9yeS5vIGRybV9kcnYubyBcCiAJCWRybV9zeXNmcy5vIGRy
bV9oYXNodGFiLm8gZHJtX21tLm8gXAogCQlkcm1fY3J0Yy5vIGRybV9mb3VyY2MubyBkcm1fbW9k
ZXMubyBkcm1fZWRpZC5vIFwKIAkJZHJtX2VuY29kZXJfc2xhdmUubyBcCkBAIC0yOCw2ICsyOCw3
IEBAIGRybS0kKENPTkZJR19EUk1fR0VNX1NITUVNX0hFTFBFUikgKz0gZHJtX2dlbV9zaG1lbV9o
ZWxwZXIubwogZHJtLSQoQ09ORklHX0RSTV9QQU5FTCkgKz0gZHJtX3BhbmVsLm8KIGRybS0kKENP
TkZJR19PRikgKz0gZHJtX29mLm8KIGRybS0kKENPTkZJR19BR1ApICs9IGRybV9hZ3BzdXBwb3J0
Lm8KK2RybS0kKENPTkZJR19QQ0kpICs9IGRybV9wY2kubwogZHJtLSQoQ09ORklHX0RFQlVHX0ZT
KSArPSBkcm1fZGVidWdmcy5vIGRybV9kZWJ1Z2ZzX2NyYy5vCiBkcm0tJChDT05GSUdfRFJNX0xP
QURfRURJRF9GSVJNV0FSRSkgKz0gZHJtX2VkaWRfbG9hZC5vCiAKZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9kcm1faW50ZXJuYWwuaCBiL2RyaXZlcnMvZ3B1L2RybS9kcm1faW50ZXJuYWwu
aAppbmRleCA1MWEyMDU1YzhmMTguLjY5MzdiZjkyM2YwNSAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2RybV9pbnRlcm5hbC5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1faW50ZXJuYWwu
aApAQCAtNDUsMTIgKzQ1LDM0IEBAIHN0cnVjdCBkcm1fZmlsZSAqZHJtX2ZpbGVfYWxsb2Moc3Ry
dWN0IGRybV9taW5vciAqbWlub3IpOwogdm9pZCBkcm1fZmlsZV9mcmVlKHN0cnVjdCBkcm1fZmls
ZSAqZmlsZSk7CiB2b2lkIGRybV9sYXN0Y2xvc2Uoc3RydWN0IGRybV9kZXZpY2UgKmRldik7CiAK
KyNpZmRlZiBDT05GSUdfUENJCisKIC8qIGRybV9wY2kuYyAqLwogaW50IGRybV9pcnFfYnlfYnVz
aWQoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgdm9pZCAqZGF0YSwKIAkJICAgICBzdHJ1Y3QgZHJt
X2ZpbGUgKmZpbGVfcHJpdik7CiB2b2lkIGRybV9wY2lfYWdwX2Rlc3Ryb3koc3RydWN0IGRybV9k
ZXZpY2UgKmRldik7CiBpbnQgZHJtX3BjaV9zZXRfYnVzaWQoc3RydWN0IGRybV9kZXZpY2UgKmRl
diwgc3RydWN0IGRybV9tYXN0ZXIgKm1hc3Rlcik7CiAKKyNlbHNlCisKK3N0YXRpYyBpbmxpbmUg
aW50IGRybV9pcnFfYnlfYnVzaWQoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgdm9pZCAqZGF0YSwK
KwkJCQkgICBzdHJ1Y3QgZHJtX2ZpbGUgKmZpbGVfcHJpdikKK3sKKwlyZXR1cm4gLUVJTlZBTDsK
K30KKworc3RhdGljIGlubGluZSB2b2lkIGRybV9wY2lfYWdwX2Rlc3Ryb3koc3RydWN0IGRybV9k
ZXZpY2UgKmRldikKK3sKK30KKworc3RhdGljIGlubGluZSBpbnQgZHJtX3BjaV9zZXRfYnVzaWQo
c3RydWN0IGRybV9kZXZpY2UgKmRldiwKKwkJCQkgICAgc3RydWN0IGRybV9tYXN0ZXIgKm1hc3Rl
cikKK3sKKwlyZXR1cm4gLUVJTlZBTDsKK30KKworI2VuZGlmCisKIC8qIGRybV9wcmltZS5jICov
CiBpbnQgZHJtX3ByaW1lX2hhbmRsZV90b19mZF9pb2N0bChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2
LCB2b2lkICpkYXRhLAogCQkJCSBzdHJ1Y3QgZHJtX2ZpbGUgKmZpbGVfcHJpdik7CmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vZHJtX3BjaS5jIGIvZHJpdmVycy9ncHUvZHJtL2RybV9wY2ku
YwppbmRleCBhODZhM2FiMjc3MWMuLjQwYTIwMTVhYmM3NyAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2RybV9wY2kuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX3BjaS5jCkBAIC0xMjUs
OCArMTI1LDYgQEAgdm9pZCBkcm1fcGNpX2ZyZWUoc3RydWN0IGRybV9kZXZpY2UgKiBkZXYsIGRy
bV9kbWFfaGFuZGxlX3QgKiBkbWFoKQogCiBFWFBPUlRfU1lNQk9MKGRybV9wY2lfZnJlZSk7CiAK
LSNpZmRlZiBDT05GSUdfUENJCi0KIHN0YXRpYyBpbnQgZHJtX2dldF9wY2lfZG9tYWluKHN0cnVj
dCBkcm1fZGV2aWNlICpkZXYpCiB7CiAjaWZuZGVmIF9fYWxwaGFfXwpAQCAtMzMxLDE3ICszMjks
NiBAQCBpbnQgZHJtX2xlZ2FjeV9wY2lfaW5pdChzdHJ1Y3QgZHJtX2RyaXZlciAqZHJpdmVyLCBz
dHJ1Y3QgcGNpX2RyaXZlciAqcGRyaXZlcikKIH0KIEVYUE9SVF9TWU1CT0woZHJtX2xlZ2FjeV9w
Y2lfaW5pdCk7CiAKLSNlbHNlCi0KLXZvaWQgZHJtX3BjaV9hZ3BfZGVzdHJveShzdHJ1Y3QgZHJt
X2RldmljZSAqZGV2KSB7fQotCi1pbnQgZHJtX2lycV9ieV9idXNpZChzdHJ1Y3QgZHJtX2Rldmlj
ZSAqZGV2LCB2b2lkICpkYXRhLAotCQkgICAgIHN0cnVjdCBkcm1fZmlsZSAqZmlsZV9wcml2KQot
ewotCXJldHVybiAtRUlOVkFMOwotfQotI2VuZGlmCi0KIC8qKgogICogZHJtX2xlZ2FjeV9wY2lf
ZXhpdCAtIHVucmVnaXN0ZXIgc2hhZG93LWF0dGFjaCBsZWdhY3kgRFJNIGRyaXZlcgogICogQGRy
aXZlcjogRFJNIGRldmljZSBkcml2ZXIKZGlmZiAtLWdpdCBhL2luY2x1ZGUvZHJtL2RybV9wY2ku
aCBiL2luY2x1ZGUvZHJtL2RybV9wY2kuaAppbmRleCA4MTgxZTllN2NmMWQuLjAyOTM1MmY4YzU4
MyAxMDA2NDQKLS0tIGEvaW5jbHVkZS9kcm0vZHJtX3BjaS5oCisrKyBiL2luY2x1ZGUvZHJtL2Ry
bV9wY2kuaApAQCAtMzgsMjQgKzM4LDUyIEBAIHN0cnVjdCBkcm1fZG1hX2hhbmRsZTsKIHN0cnVj
dCBkcm1fZGV2aWNlOwogc3RydWN0IGRybV9kcml2ZXI7CiBzdHJ1Y3QgZHJtX21hc3RlcjsKK3N0
cnVjdCBwY2lfZGV2aWNlOworCisjaWZkZWYgQ09ORklHX1BDSQogCiBzdHJ1Y3QgZHJtX2RtYV9o
YW5kbGUgKmRybV9wY2lfYWxsb2Moc3RydWN0IGRybV9kZXZpY2UgKmRldiwgc2l6ZV90IHNpemUs
CiAJCQkJICAgICBzaXplX3QgYWxpZ24pOwogdm9pZCBkcm1fcGNpX2ZyZWUoc3RydWN0IGRybV9k
ZXZpY2UgKmRldiwgc3RydWN0IGRybV9kbWFfaGFuZGxlICogZG1haCk7CiAKLWludCBkcm1fbGVn
YWN5X3BjaV9pbml0KHN0cnVjdCBkcm1fZHJpdmVyICpkcml2ZXIsIHN0cnVjdCBwY2lfZHJpdmVy
ICpwZHJpdmVyKTsKLXZvaWQgZHJtX2xlZ2FjeV9wY2lfZXhpdChzdHJ1Y3QgZHJtX2RyaXZlciAq
ZHJpdmVyLCBzdHJ1Y3QgcGNpX2RyaXZlciAqcGRyaXZlcik7Ci0jaWZkZWYgQ09ORklHX1BDSQog
aW50IGRybV9nZXRfcGNpX2RldihzdHJ1Y3QgcGNpX2RldiAqcGRldiwKIAkJICAgIGNvbnN0IHN0
cnVjdCBwY2lfZGV2aWNlX2lkICplbnQsCiAJCSAgICBzdHJ1Y3QgZHJtX2RyaXZlciAqZHJpdmVy
KTsKKworaW50IGRybV9sZWdhY3lfcGNpX2luaXQoc3RydWN0IGRybV9kcml2ZXIgKmRyaXZlciwg
c3RydWN0IHBjaV9kcml2ZXIgKnBkcml2ZXIpOwordm9pZCBkcm1fbGVnYWN5X3BjaV9leGl0KHN0
cnVjdCBkcm1fZHJpdmVyICpkcml2ZXIsIHN0cnVjdCBwY2lfZHJpdmVyICpwZHJpdmVyKTsKKwog
I2Vsc2UKKworc3RhdGljIGlubGluZSBzdHJ1Y3QgZHJtX2RtYV9oYW5kbGUgKmRybV9wY2lfYWxs
b2Moc3RydWN0IGRybV9kZXZpY2UgKmRldiwKKwkJCQkJCSAgIHNpemVfdCBzaXplLCBzaXplX3Qg
YWxpZ24pCit7CisJcmV0dXJuIE5VTEw7Cit9CisKK3N0YXRpYyBpbmxpbmUgdm9pZCBkcm1fcGNp
X2ZyZWUoc3RydWN0IGRybV9kZXZpY2UgKmRldiwKKwkJCQlzdHJ1Y3QgZHJtX2RtYV9oYW5kbGUg
KmRtYWgpCit7Cit9CisKIHN0YXRpYyBpbmxpbmUgaW50IGRybV9nZXRfcGNpX2RldihzdHJ1Y3Qg
cGNpX2RldiAqcGRldiwKIAkJCQkgIGNvbnN0IHN0cnVjdCBwY2lfZGV2aWNlX2lkICplbnQsCiAJ
CQkJICBzdHJ1Y3QgZHJtX2RyaXZlciAqZHJpdmVyKQogewogCXJldHVybiAtRU5PU1lTOwogfQor
CitzdGF0aWMgaW5saW5lIGludCBkcm1fbGVnYWN5X3BjaV9pbml0KHN0cnVjdCBkcm1fZHJpdmVy
ICpkcml2ZXIsCisJCQkJICAgICAgc3RydWN0IHBjaV9kcml2ZXIgKnBkcml2ZXIpCit7CisJcmV0
dXJuIC1FSU5WQUw7Cit9CisKK3N0YXRpYyBpbmxpbmUgdm9pZCBkcm1fbGVnYWN5X3BjaV9leGl0
KHN0cnVjdCBkcm1fZHJpdmVyICpkcml2ZXIsCisJCQkJICAgICAgIHN0cnVjdCBwY2lfZHJpdmVy
ICpwZHJpdmVyKQoreworfQorCiAjZW5kaWYKIAogI2VuZGlmIC8qIF9EUk1fUENJX0hfICovCi0t
IAoyLjIzLjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
CmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpo
dHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
