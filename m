Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id ED0642B6A56
	for <lists+dri-devel@lfdr.de>; Tue, 17 Nov 2020 17:33:55 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 89FC86E045;
	Tue, 17 Nov 2020 16:33:50 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-lf1-x144.google.com (mail-lf1-x144.google.com
 [IPv6:2a00:1450:4864:20::144])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A38F16E03F
 for <dri-devel@lists.freedesktop.org>; Tue, 17 Nov 2020 16:33:44 +0000 (UTC)
Received: by mail-lf1-x144.google.com with SMTP id z21so30953848lfe.12
 for <dri-devel@lists.freedesktop.org>; Tue, 17 Nov 2020 08:33:44 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:subject:date:message-id:in-reply-to:references:mime-version
 :content-transfer-encoding;
 bh=yHenESt0YCXt7Dke2MvZKSdiLhMjPYH5mUI6oiXVzEs=;
 b=bUN349d3QGzxFTSVnRDxbj4W8yhvD5cxoR8bQmdamvmTKc3ROxHva2XPyGfxcUcF35
 hZ/umZO+iSVVu1lbuOrKFvl2/czmy/woGshVOgwJZmLmNjcLiefnQGigXpVT2ZTQ+lXf
 7gtsWQTQTA0H1zYOhZE85BYhVaIKx9FsHtThuLJvLGn846OCPv/4obIW1YIjq58wko0X
 0aB3Da3hRVeOiNgjfys5zKDzRfnQE+KJKVRQVQ2gv2/oMTgSO3KE41UDdyNmoTrGK1i8
 LdAZRYXqSYzc+pA5nTPXUNyHII6XAocp0f+Tb+QV7XR98jUd7YihITHBZWPsgHWVai35
 ubXw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=yHenESt0YCXt7Dke2MvZKSdiLhMjPYH5mUI6oiXVzEs=;
 b=a2U4uyL8DKKuYOHOesTgS+jE3Kn5/DM86dZ2pAPQJLduNy5zR4kweyHtfZBcRZm3Hu
 8sL3ogfsQtUZO78DtG4/5TDdy1Rbp/O7Dse/szMLnHd7XgArHFDJrIojTmXEVfQ6P1w4
 Q4PmAgMtnNLHRwjiDDYCSTC4BtQN1tMgBh1ITs9RO6K5kOeRNiwS2aLNc3z8TSM+BCpc
 RT1aMyOW+iU1fgqxG0i2GuSdOeD1tcZZaoGvG7eQ9Ku+SJNdhLqHSXpEh0Loxk0o2Cf1
 pp84KnaosWuK/5jKXv+R7zFmiJ6MF1Yn3WmJcj5znBN0J0EbfzmKbXXYiiDr6B1lIRWp
 bmAw==
X-Gm-Message-State: AOAM5300biHjALTmqzjswwhYxyprtkZr/hg4oJvdZkYxnU2i2dTn4iiK
 PzW5fu5cdI4CQQSLnMPiVepHvkVOhDw=
X-Google-Smtp-Source: ABdhPJy0cSzD2RVcvXDxxYOokr1If7g+QKAaPpoRnrocuABRrnkDnSO6BKEaucT2VyliCjwY3ztTEA==
X-Received: by 2002:a17:906:b01:: with SMTP id
 u1mr20742472ejg.427.1605630821710; 
 Tue, 17 Nov 2020 08:33:41 -0800 (PST)
Received: from abel.fritz.box ([2a02:908:1252:fb60:dd48:f15c:7bed:4c52])
 by smtp.gmail.com with ESMTPSA id dn16sm12225351edb.19.2020.11.17.08.33.40
 for <dri-devel@lists.freedesktop.org>
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Tue, 17 Nov 2020 08:33:41 -0800 (PST)
From: "=?UTF-8?q?Christian=20K=C3=B6nig?=" <ckoenig.leichtzumerken@gmail.com>
X-Google-Original-From: =?UTF-8?q?Christian=20K=C3=B6nig?=
 <christian.koenig@amd.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH 3/4] drm/ttm: add a debugfs file for the global page pools
Date: Tue, 17 Nov 2020 17:33:37 +0100
Message-Id: <20201117163338.1784-3-christian.koenig@amd.com>
X-Mailer: git-send-email 2.25.1
In-Reply-To: <20201117163338.1784-1-christian.koenig@amd.com>
References: <20201117163338.1784-1-christian.koenig@amd.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SW5zdGVhZCBvZiBwcmludGluZyB0aGlzIG9uIHRoZSBwZXIgZGV2aWNlIHBvb2wuCgpTaWduZWQt
b2ZmLWJ5OiBDaHJpc3RpYW4gS8O2bmlnIDxjaHJpc3RpYW4ua29lbmlnQGFtZC5jb20+Ci0tLQog
ZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fcG9vbC5jIHwgNzAgKysrKysrKysrKysrKysrKysrKysr
KysrLS0tLS0tLS0tLQogMSBmaWxlIGNoYW5nZWQsIDUwIGluc2VydGlvbnMoKyksIDIwIGRlbGV0
aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX3Bvb2wuYyBiL2Ry
aXZlcnMvZ3B1L2RybS90dG0vdHRtX3Bvb2wuYwppbmRleCAyNGFlN2MyM2NmZDAuLjVkYWY4MTI1
NTFlZSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fcG9vbC5jCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS90dG0vdHRtX3Bvb2wuYwpAQCAtNDIsNiArNDIsOCBAQAogI2luY2x1ZGUg
PGRybS90dG0vdHRtX2JvX2RyaXZlci5oPgogI2luY2x1ZGUgPGRybS90dG0vdHRtX3R0Lmg+CiAK
KyNpbmNsdWRlICJ0dG1fbW9kdWxlLmgiCisKIC8qKgogICogc3RydWN0IHR0bV9wb29sX2RtYSAt
IEhlbHBlciBvYmplY3QgZm9yIGNvaGVyZW50IERNQSBtYXBwaW5ncwogICoKQEAgLTUzMyw2ICs1
MzUsMTcgQEAgRVhQT1JUX1NZTUJPTCh0dG1fcG9vbF9maW5pKTsKIAogI2lmZGVmIENPTkZJR19E
RUJVR19GUwogCisvKiBQcmludCBhIG5pY2UgaGVhZGVyIGZvciB0aGUgb3JkZXIgKi8KK3N0YXRp
YyB2b2lkIHR0bV9wb29sX2RlYnVnZnNfaGVhZGVyKHN0cnVjdCBzZXFfZmlsZSAqbSkKK3sKKwl1
bnNpZ25lZCBpbnQgaTsKKworCXNlcV9wdXRzKG0sICJcdCAiKTsKKwlmb3IgKGkgPSAwOyBpIDwg
TUFYX09SREVSOyArK2kpCisJCXNlcV9wcmludGYobSwgIiAtLS0lMnUtLS0iLCBpKTsKKwlzZXFf
cHV0cyhtLCAiXG4iKTsKK30KKwogLyogRHVtcCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZGlmZmVy
ZW50IHBvb2wgdHlwZXMgKi8KIHN0YXRpYyB2b2lkIHR0bV9wb29sX2RlYnVnZnNfb3JkZXJzKHN0
cnVjdCB0dG1fcG9vbF90eXBlICpwdCwKIAkJCQkgICAgc3RydWN0IHNlcV9maWxlICptKQpAQCAt
NTQ0LDYgKzU1NywzNSBAQCBzdGF0aWMgdm9pZCB0dG1fcG9vbF9kZWJ1Z2ZzX29yZGVycyhzdHJ1
Y3QgdHRtX3Bvb2xfdHlwZSAqcHQsCiAJc2VxX3B1dHMobSwgIlxuIik7CiB9CiAKKy8qIER1bXAg
dGhlIHRvdGFsIGFtb3VudCBvZiBhbGxvY2F0ZWQgcGFnZXMgKi8KK3N0YXRpYyB2b2lkIHR0bV9w
b29sX2RlYnVnZnNfZm9vdGVyKHN0cnVjdCBzZXFfZmlsZSAqbSkKK3sKKwlzZXFfcHJpbnRmKG0s
ICJcbnRvdGFsXHQ6ICU4bHUgb2YgJThsdVxuIiwKKwkJICAgYXRvbWljX2xvbmdfcmVhZCgmYWxs
b2NhdGVkX3BhZ2VzKSwgcGFnZV9wb29sX3NpemUpOworfQorCisvKiBEdW1wIHRoZSBpbmZvcm1h
dGlvbiBmb3IgdGhlIGdsb2JhbCBwb29scyAqLworc3RhdGljIGludCB0dG1fcG9vbF9kZWJ1Z2Zz
X2dsb2JhbHNfc2hvdyhzdHJ1Y3Qgc2VxX2ZpbGUgKm0sIHZvaWQgKmRhdGEpCit7CisJdHRtX3Bv
b2xfZGVidWdmc19oZWFkZXIobSk7CisKKwlzcGluX2xvY2soJnNocmlua2VyX2xvY2spOworCXNl
cV9wdXRzKG0sICJ3Y1x0OiIpOworCXR0bV9wb29sX2RlYnVnZnNfb3JkZXJzKGdsb2JhbF93cml0
ZV9jb21iaW5lZCwgbSk7CisJc2VxX3B1dHMobSwgInVjXHQ6Iik7CisJdHRtX3Bvb2xfZGVidWdm
c19vcmRlcnMoZ2xvYmFsX3VuY2FjaGVkLCBtKTsKKwlzZXFfcHV0cyhtLCAid2MgMzJcdDoiKTsK
Kwl0dG1fcG9vbF9kZWJ1Z2ZzX29yZGVycyhnbG9iYWxfZG1hMzJfd3JpdGVfY29tYmluZWQsIG0p
OworCXNlcV9wdXRzKG0sICJ1YyAzMlx0OiIpOworCXR0bV9wb29sX2RlYnVnZnNfb3JkZXJzKGds
b2JhbF9kbWEzMl91bmNhY2hlZCwgbSk7CisJc3Bpbl91bmxvY2soJnNocmlua2VyX2xvY2spOwor
CisJdHRtX3Bvb2xfZGVidWdmc19mb290ZXIobSk7CisKKwlyZXR1cm4gMDsKK30KK0RFRklORV9T
SE9XX0FUVFJJQlVURSh0dG1fcG9vbF9kZWJ1Z2ZzX2dsb2JhbHMpOworCiAvKioKICAqIHR0bV9w
b29sX2RlYnVnZnMgLSBEZWJ1Z2ZzIGR1bXAgZnVuY3Rpb24gZm9yIGEgcG9vbAogICoKQEAgLTU1
NiwyMyArNTk4LDkgQEAgaW50IHR0bV9wb29sX2RlYnVnZnMoc3RydWN0IHR0bV9wb29sICpwb29s
LCBzdHJ1Y3Qgc2VxX2ZpbGUgKm0pCiB7CiAJdW5zaWduZWQgaW50IGk7CiAKLQlzcGluX2xvY2so
JnNocmlua2VyX2xvY2spOwotCi0Jc2VxX3B1dHMobSwgIlx0ICIpOwotCWZvciAoaSA9IDA7IGkg
PCBNQVhfT1JERVI7ICsraSkKLQkJc2VxX3ByaW50ZihtLCAiIC0tLSUydS0tLSIsIGkpOwotCXNl
cV9wdXRzKG0sICJcbiIpOwotCi0Jc2VxX3B1dHMobSwgIndjXHQ6Iik7Ci0JdHRtX3Bvb2xfZGVi
dWdmc19vcmRlcnMoZ2xvYmFsX3dyaXRlX2NvbWJpbmVkLCBtKTsKLQlzZXFfcHV0cyhtLCAidWNc
dDoiKTsKLQl0dG1fcG9vbF9kZWJ1Z2ZzX29yZGVycyhnbG9iYWxfdW5jYWNoZWQsIG0pOwotCi0J
c2VxX3B1dHMobSwgIndjIDMyXHQ6Iik7Ci0JdHRtX3Bvb2xfZGVidWdmc19vcmRlcnMoZ2xvYmFs
X2RtYTMyX3dyaXRlX2NvbWJpbmVkLCBtKTsKLQlzZXFfcHV0cyhtLCAidWMgMzJcdDoiKTsKLQl0
dG1fcG9vbF9kZWJ1Z2ZzX29yZGVycyhnbG9iYWxfZG1hMzJfdW5jYWNoZWQsIG0pOworCXR0bV9w
b29sX2RlYnVnZnNfaGVhZGVyKG0pOwogCisJc3Bpbl9sb2NrKCZzaHJpbmtlcl9sb2NrKTsKIAlm
b3IgKGkgPSAwOyBpIDwgVFRNX05VTV9DQUNISU5HX1RZUEVTOyArK2kpIHsKIAkJc2VxX3B1dHMo
bSwgIkRNQSAiKTsKIAkJc3dpdGNoIChpKSB7CkBAIC01ODgsMTIgKzYxNiw5IEBAIGludCB0dG1f
cG9vbF9kZWJ1Z2ZzKHN0cnVjdCB0dG1fcG9vbCAqcG9vbCwgc3RydWN0IHNlcV9maWxlICptKQog
CQl9CiAJCXR0bV9wb29sX2RlYnVnZnNfb3JkZXJzKHBvb2wtPmNhY2hpbmdbaV0ub3JkZXJzLCBt
KTsKIAl9Ci0KLQlzZXFfcHJpbnRmKG0sICJcbnRvdGFsXHQ6ICU4bHUgb2YgJThsdVxuIiwKLQkJ
ICAgYXRvbWljX2xvbmdfcmVhZCgmYWxsb2NhdGVkX3BhZ2VzKSwgcGFnZV9wb29sX3NpemUpOwot
CiAJc3Bpbl91bmxvY2soJnNocmlua2VyX2xvY2spOwogCisJdHRtX3Bvb2xfZGVidWdmc19mb290
ZXIobSk7CiAJcmV0dXJuIDA7CiB9CiBFWFBPUlRfU1lNQk9MKHR0bV9wb29sX2RlYnVnZnMpOwpA
QCAtNjUwLDYgKzY3NSwxMSBAQCBpbnQgdHRtX3Bvb2xfbWdyX2luaXQodW5zaWduZWQgbG9uZyBu
dW1fcGFnZXMpCiAJCQkJICAgdHRtX3VuY2FjaGVkLCBpKTsKIAl9CiAKKyNpZmRlZiBDT05GSUdf
REVCVUdfRlMKKwlkZWJ1Z2ZzX2NyZWF0ZV9maWxlKCJwYWdlX3Bvb2wiLCAwNDQ0LCB0dG1fZGVi
dWdmc19yb290LCBOVUxMLAorCQkJICAgICZ0dG1fcG9vbF9kZWJ1Z2ZzX2dsb2JhbHNfZm9wcyk7
CisjZW5kaWYKKwogCW1tX3Nocmlua2VyLmNvdW50X29iamVjdHMgPSB0dG1fcG9vbF9zaHJpbmtl
cl9jb3VudDsKIAltbV9zaHJpbmtlci5zY2FuX29iamVjdHMgPSB0dG1fcG9vbF9zaHJpbmtlcl9z
Y2FuOwogCW1tX3Nocmlua2VyLnNlZWtzID0gMTsKLS0gCjIuMjUuMQoKX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApk
cmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Au
b3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVsCg==
