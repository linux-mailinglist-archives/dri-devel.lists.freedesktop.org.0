Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 2A385371CF
	for <lists+dri-devel@lfdr.de>; Thu,  6 Jun 2019 12:34:10 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C28A189226;
	Thu,  6 Jun 2019 10:34:06 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mailout1.w1.samsung.com (mailout1.w1.samsung.com
 [210.118.77.11])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 33E9A89226
 for <dri-devel@lists.freedesktop.org>; Thu,  6 Jun 2019 10:34:05 +0000 (UTC)
Received: from eucas1p2.samsung.com (unknown [182.198.249.207])
 by mailout1.w1.samsung.com (KnoxPortal) with ESMTP id
 20190606103403euoutp01dd2cb12c4aee2232f19b328bb8dbba86~llYTZxbUx2128421284euoutp01K
 for <dri-devel@lists.freedesktop.org>; Thu,  6 Jun 2019 10:34:03 +0000 (GMT)
DKIM-Filter: OpenDKIM Filter v2.11.0 mailout1.w1.samsung.com
 20190606103403euoutp01dd2cb12c4aee2232f19b328bb8dbba86~llYTZxbUx2128421284euoutp01K
Received: from eusmges1new.samsung.com (unknown [203.254.199.242]) by
 eucas1p2.samsung.com (KnoxPortal) with ESMTP id
 20190606103403eucas1p2105e6d63465e69885e58073ac03414d2~llYS06txI2040320403eucas1p2I;
 Thu,  6 Jun 2019 10:34:03 +0000 (GMT)
Received: from eucas1p2.samsung.com ( [182.198.249.207]) by
 eusmges1new.samsung.com (EUCPMTA) with SMTP id 58.85.04298.A1CE8FC5; Thu,  6
 Jun 2019 11:34:02 +0100 (BST)
Received: from eusmtrp1.samsung.com (unknown [182.198.249.138]) by
 eucas1p1.samsung.com (KnoxPortal) with ESMTPA id
 20190606103402eucas1p1f7f0cbe27a3ec848d2c9589dafa43171~llYR5SGdg3162431624eucas1p1x;
 Thu,  6 Jun 2019 10:34:02 +0000 (GMT)
Received: from eusmgms2.samsung.com (unknown [182.198.249.180]) by
 eusmtrp1.samsung.com (KnoxPortal) with ESMTP id
 20190606103402eusmtrp173992f04b1fccbe318a6d6533a942ae2~llYR4r1Pv1163411634eusmtrp1V;
 Thu,  6 Jun 2019 10:34:02 +0000 (GMT)
X-AuditID: cbfec7f2-f2dff700000010ca-e7-5cf8ec1ae0ef
Received: from eusmtip2.samsung.com ( [203.254.199.222]) by
 eusmgms2.samsung.com (EUCPMTA) with SMTP id 3E.56.04140.A1CE8FC5; Thu,  6
 Jun 2019 11:34:02 +0100 (BST)
Received: from [106.120.51.74] (unknown [106.120.51.74]) by
 eusmtip2.samsung.com (KnoxPortal) with ESMTPA id
 20190606103401eusmtip2148dba44c6397b58fa4a3a815dff9bba~llYQ2jyMn1703017030eusmtip2O;
 Thu,  6 Jun 2019 10:34:00 +0000 (GMT)
Subject: Re: [PATCH v3 05/15] drm/bridge: tc358767: Drop custom
 tc_write()/tc_read() accessors
To: Andrey Smirnov <andrew.smirnov@gmail.com>, dri-devel@lists.freedesktop.org
From: Andrzej Hajda <a.hajda@samsung.com>
Message-ID: <9f847830-7bc6-c377-5cd7-b3cff783cbb3@samsung.com>
Date: Thu, 6 Jun 2019 12:33:56 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.6.1
MIME-Version: 1.0
In-Reply-To: <20190605070507.11417-6-andrew.smirnov@gmail.com>
Content-Language: en-US
X-Brightmail-Tracker: H4sIAAAAAAAAA01SbUhTYRjtvR/zzpreprUHk6IRRpJToeJSGRVRF3+E+SOitFx5Mz+2yZbm
 R5DMkJnVrNByq9RKkiI0dX7MopzkFPFzGiotjawoUkmdLsvKeSf57zzvOc9zzoGXwsW9pB8V
 rzzPqZXyJKnAk6ht+dkV5PfdGRViLtvOZOvCGK0li2S0ujGScfY1E0zTCyvG9DkmBMzIvUGM
 yb3xyIOxme8KGPv7VoKpKB4S7F3J2q5fw9iRgr8Y22Cwe7BGXRHJDudZMVY/H8JaB+owdqpq
 PdtZ0IFFCI977o7lkuJTOXXwnhjPc+NTVix51IzSsg0tWBaq06MrSEgBvQ0mCsvxK8iTEtPl
 CIqr7xP8MI2g0V7oZqYQDNlLPZZWOrW1JE88RjDe2ugexhDk9mcvHvahY+Cro0fgwr50BExq
 GwQuEU47MHjdewNzEQJ6C8xXDy6KRPQeqJwpWTCnKILeBB+/kK7nNfQxGG6pJHnJamgrGiVc
 WLggN9pHFr1wegNkm4w4jyUwNFqMubyA/uEBjbZpjI99ACby29wVfOCbtcaN/aH91lWCx5dg
 uPwyzi/rEJgqG3Ce2AXN1h7SFQ5fCF1hDnZBoPdBf1cCD71gYGw1H8ELbtbexvlnEehyxPyN
 jTDcYXLfk0BZt0OQj6SGZcUMy8oYlpUx/LctQcQTJOFSNIo4ThOq5C7INHKFJkUZJzujUlSh
 hZ/W/sc6WY8cvactiKaQdJUIns9GiUl5qiZdYUFA4VJfUWq3M0osipWnZ3Bq1Sl1ShKnsaB1
 FCGViDJXjJwQ03Hy81wixyVz6iUWo4R+WUgym8hEmhr943Z81h0JDM57kaHXBs3og+4c3PoB
 M3qrkt94yfJtn8Iffr78IKdk4PfLX++iQVGBRdZXVdefvcCE/UkyZorn0sIOvQ14drI5VLZf
 OL7Z5OhZ29W0f2fpUelsUZbkWo0K8gIm38zFhytfhXvZvKP9hbd3OA8zF58mSAnNOXloIK7W
 yP8B9/nFJmUDAAA=
X-Brightmail-Tracker: H4sIAAAAAAAAA+NgFnrKIsWRmVeSWpSXmKPExsVy+t/xe7pSb37EGOw+wmLR3GFr0XSogdWi
 qeMtq8WPK4dZLA7uOc5kceXrezaLB3NvMll0TlzCbnF51xw2i7v3TrBYrJ9/i82B2+NyXy+T
 x4Op/5k8ds66y+4xu2Mmq8f97uNMHv1/DTyO39jO5PF5k5zHualnmQI4o/RsivJLS1IVMvKL
 S2yVog0tjPQMLS30jEws9QyNzWOtjEyV9O1sUlJzMstSi/TtEvQy3n0+zlTwZBdjRfOsY0wN
 jNv7GbsYOTkkBEwkzjVtY+1i5OIQEljKKPH0wD0miIS4xO75b5khbGGJP9e62CCKXjNKfDqx
 mA0kISyQIPHy60UwW0TAT6Jr3gEmkCJmge9MEhOX72UBSQgJHGWUeNwYAmKzCWhK/N18E6yB
 V8BOYsO3BUA1HBwsAioSj5+zgoRFBSIkzrxfwQJRIihxcuYTMJsTqHz23QdgVzMLqEv8mXeJ
 GcKWl2jeOhvKFpe49WQ+0wRGoVlI2mchaZmFpGUWkpYFjCyrGEVSS4tz03OLjfSKE3OLS/PS
 9ZLzczcxAqN427GfW3Ywdr0LPsQowMGoxMMrsfF7jBBrYllxZe4hRgkOZiUR3rILP2KEeFMS
 K6tSi/Lji0pzUosPMZoC/TaRWUo0OR+YYPJK4g1NDc0tLA3Njc2NzSyUxHk7BA7GCAmkJ5ak
 ZqemFqQWwfQxcXBKNTCyLOC9mtrjN+H0yx1/lgtd/rDqevrV7Txf450upt95WG7CtfWg5Y8p
 ubzpLpmGuo320rIvb+99xjRl1+dPu9bGNmfNXx2zoZTzbczJHrkLWx0SA+Z/aTWJnqq7bN3E
 4zxP6rYr2p6P/zP5x6vgbVMOxXJN+TK5Iy9P4pKhP1vM1RMecuk9K7yClViKMxINtZiLihMB
 pSVcRfgCAAA=
X-CMS-MailID: 20190606103402eucas1p1f7f0cbe27a3ec848d2c9589dafa43171
X-Msg-Generator: CA
X-RootMTR: 20190605070532epcas2p2154c96c417cca1c1fc3c149c66447560
X-EPHeader: CA
CMS-TYPE: 201P
X-CMS-RootMailID: 20190605070532epcas2p2154c96c417cca1c1fc3c149c66447560
References: <20190605070507.11417-1-andrew.smirnov@gmail.com>
 <CGME20190605070532epcas2p2154c96c417cca1c1fc3c149c66447560@epcas2p2.samsung.com>
 <20190605070507.11417-6-andrew.smirnov@gmail.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=samsung.com; 
 s=mail20170921; t=1559817243;
 bh=8hyDbT+pBQKVY9kyqtb9LRUX+7hkEets4cDL1V/PA/w=;
 h=Subject:To:Cc:From:Date:In-Reply-To:References:From;
 b=Am2F6jyn8n3bTkiLleF7hQHYtPNXR73lXe/Lh1W6o+mGNy2Q/sds5EthCHiG7Sl9X
 DiDxPv1vZ+afDdTzNf9qgpLoP4EGBuolXATY27pX8V8FG9J+7lsmYckTuQMXwRpQ/y
 xt0JlJ0l7+PvVaKUEGupDiL7g5yWOuWrA2gW/krc=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Cory Tusar <cory.tusar@zii.aero>, Archit Taneja <architt@codeaurora.org>,
 Andrey Gusakov <andrey.gusakov@cogentembedded.com>,
 linux-kernel@vger.kernel.org, Tomi Valkeinen <tomi.valkeinen@ti.com>,
 Laurent Pinchart <Laurent.pinchart@ideasonboard.com>,
 Chris Healy <cphealy@gmail.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gMDUuMDYuMjAxOSAwOTowNCwgQW5kcmV5IFNtaXJub3Ygd3JvdGU6Cj4gQSB2ZXJ5IHVuZm9y
dHVuYXRlIGFzcGVjdCBvZiB0Y193cml0ZSgpL3RjX3JlYWQoKSBtYWNybyBoZWxwZXJzIGlzCj4g
dGhhdCB0aGV5IGNhcHR1cmUgcXVpdGUgYSBiaXQgb2YgY29udGV4dCBhcm91bmQgdGhlbSBhbmQg
dGh1cyByZXF1aXJlCj4gdGhlIGNhbGxlciB0byBoYXZlIG1hZ2ljIHZhcmlhYmxlcyAncmV0JyBh
bmQgJ3RjJyBhcyB3ZWxsIGFzIGxhYmVsCj4gJ2VycicuIFRoYXQgbWFrZXMgYSBudW1iZXIgb2Yg
Y29kZSBwYXRocyByYXRoZXIgY291bnRlcmludHVpdGl2ZSBhbmQKPiBzb21ld2hhdCBjbHVua3ks
IGZvciBleGFtcGxlIHRjX3N0cmVhbV9jbG9ja19jYWxjKCkgZW5kcyB1cCBiZWluZyBsaWtlCj4g
dGhpczoKPgo+IAlpbnQgcmV0Owo+Cj4gCXRjX3dyaXRlKERQMF9WSURNTkdFTjEsIDMyNzY4KTsK
Pgo+IAlyZXR1cm4gMDsKPiBlcnI6Cj4gCXJldHVybiByZXQ7Cj4KPiB3aGljaCBpcyByYXRoZXIg
c3VycHJpc2luZyB3aGVuIHlvdSByZWFkIHRoZSBjb2RlIGZvciB0aGUgZmlyc3QKPiB0aW1lLiBT
aW5jZSB0aG9zZSBoZWxwZXJzIGFyZ3VhYmx5IGFyZW4ndCByZWFsbHkgc2F2aW5nIHRoYXQgbXVj
aCBjb2RlCj4gYW5kIHRoZXJlJ3Mgbm8gd2F5IG9mIGZpeGluZyB0aGVtIHdpdGhvdXQgbWFraW5n
IHRoZW0gdG9vIHZlcmJvc2UgdG8KPiBiZSB3b3J0aCBpdCBjaGFuZ2UgdGhlIGRyaXZlciBjb2Rl
IHRvIG5vdCB1c2UgdGhlbSBhdCBhbGwuCgoKT24gdGhlIG90aGVyIHNpZGUsIGVycm9yIGNoZWNr
aW5nIGFmdGVyIGV2ZXJ5IHJlZ2lzdHJ5IGFjY2VzcyBpcyB2ZXJ5CmFubm95aW5nIGFuZCBzaWdu
aWZpY2FudGx5IGF1Z21lbnRzIHRoZSBjb2RlLCBtYWtlcyBpdCByZWR1bmRhbnQgYW5kCmxlc3Mg
cmVhZGFibGUuIFRvIGF2b2lkIGl0IG9uZSBjYW4gY2FjaGUgZXJyb3Igc3RhdGUsIGFuZCBkbyBu
b3QgcGVyZm9ybQpyZWFsIHdvcmsgdW50aWwgdGhlIGVycm9yIGlzIGNsZWFyLiBGb3IgZXhhbXBs
ZSB3aXRoIGZvbGxvd2luZyBhY2Nlc3NvcjoKCnZvaWQgdGNfd3JpdGUoc3RydWN0IHRjX2RhdGEg
KnRjLCB1MzIgcmVnLCB1MzIgdmFsKXsKCsKgwqDCoCBpbnQgcmV0OwoKwqDCoMKgIGlmICh0Yy0+
ZXJyb3IpIC8vVGhpcyBjaGVjayBpcyBJTVBPUlRBTlQKCsKgwqDCoCDCoMKgwqAgcmV0dXJuOwoK
wqDCoMKgIHJldCA9cmVnbWFwX3dyaXRlKC4uLik7CgrCoMKgwqAgaWYgKHJldCA+PSAwKQoKwqDC
oMKgIMKgwqDCoCByZXR1cm47CgrCoMKgwqAgdGMtPmVycm9yID0gcmV0OwoKwqDCoMKgIGRldl9l
cnIodGMtPmRldiwgIkVycm9yIHdyaXRpbmcgcmVnaXN0ZXIgJSN4XG4iLCByZWcpOwoKfQoKWW91
IGNhbiBzYWZlbHkgd3JpdGUgY29kZSBsaWtlOgoKwqDCoMKgIHRjX3dyaXRlKHRjLCBEUF9QSFlf
Q1RSTCwgQkdSRU4gfCBQV1JfU1dfRU4gfCBQSFlfQTBfRU4pOwoKwqDCoMKgIHRjX3dyaXRlKHRj
LCBEUDBfUExMQ1RSTCwgUExMVVBEQVRFIHwgUExMRU4pOwoKwqDCoMKgIHRjX3dyaXRlKHRjLCBE
UDFfUExMQ1RSTCwgUExMVVBEQVRFIHwgUExMRU4pOwoKwqDCoMKgIGlmICh0Yy0+ZXJyb3IpIHsK
CsKgwqDCoCDCoMKgwqAgdGMtPmVycm9yID0gMDsKCsKgwqDCoCDCoMKgwqAgZ290byBlcnI7CgrC
oMKgwqAgfQoKVGhpcyBpcyBvZiBjb3Vyc2UgbG9vc2Ugc3VnZ2VzdGlvbi4KCkFueXdheToKClJl
dmlld2VkLWJ5OiBBbmRyemVqIEhhamRhIDxhLmhhamRhQHNhbXN1bmcuY29tPgoKwqAtLQpSZWdh
cmRzCkFuZHJ6ZWoKCgoKPgo+IFNpZ25lZC1vZmYtYnk6IEFuZHJleSBTbWlybm92IDxhbmRyZXcu
c21pcm5vdkBnbWFpbC5jb20+Cj4gQ2M6IEFyY2hpdCBUYW5lamEgPGFyY2hpdHRAY29kZWF1cm9y
YS5vcmc+Cj4gQ2M6IEFuZHJ6ZWogSGFqZGEgPGEuaGFqZGFAc2Ftc3VuZy5jb20+Cj4gQ2M6IExh
dXJlbnQgUGluY2hhcnQgPExhdXJlbnQucGluY2hhcnRAaWRlYXNvbmJvYXJkLmNvbT4KPiBDYzog
VG9taSBWYWxrZWluZW4gPHRvbWkudmFsa2VpbmVuQHRpLmNvbT4KPiBDYzogQW5kcmV5IEd1c2Fr
b3YgPGFuZHJleS5ndXNha292QGNvZ2VudGVtYmVkZGVkLmNvbT4KPiBDYzogUGhpbGlwcCBaYWJl
bCA8cC56YWJlbEBwZW5ndXRyb25peC5kZT4KPiBDYzogQ29yeSBUdXNhciA8Y29yeS50dXNhckB6
aWkuYWVybz4KPiBDYzogQ2hyaXMgSGVhbHkgPGNwaGVhbHlAZ21haWwuY29tPgo+IENjOiBMdWNh
cyBTdGFjaCA8bC5zdGFjaEBwZW5ndXRyb25peC5kZT4KPiBDYzogZHJpLWRldmVsQGxpc3RzLmZy
ZWVkZXNrdG9wLm9yZwo+IENjOiBsaW51eC1rZXJuZWxAdmdlci5rZXJuZWwub3JnCj4gLS0tCj4g
IGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvdGMzNTg3NjcuYyB8IDM4MSArKysrKysrKysrKysrKysr
KystLS0tLS0tLS0tLS0KPiAgMSBmaWxlIGNoYW5nZWQsIDIyOSBpbnNlcnRpb25zKCspLCAxNTIg
ZGVsZXRpb25zKC0pCj4KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS90YzM1
ODc2Ny5jIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS90YzM1ODc2Ny5jCj4gaW5kZXggYzBmYzY4
NmNlNWVjLi5lMTk3Y2UwZmIxNjYgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2JyaWRn
ZS90YzM1ODc2Ny5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS90YzM1ODc2Ny5jCj4g
QEAgLTI4MCwyMCArMjgwLDYgQEAgc3RhdGljIGlubGluZSBzdHJ1Y3QgdGNfZGF0YSAqY29ubmVj
dG9yX3RvX3RjKHN0cnVjdCBkcm1fY29ubmVjdG9yICpjKQo+ICAJcmV0dXJuIGNvbnRhaW5lcl9v
ZihjLCBzdHJ1Y3QgdGNfZGF0YSwgY29ubmVjdG9yKTsKPiAgfQo+ICAKPiAtLyogU2ltcGxlIG1h
Y3JvcyB0byBhdm9pZCByZXBlYXRlZCBlcnJvciBjaGVja3MgKi8KPiAtI2RlZmluZSB0Y193cml0
ZShyZWcsIHZhcikJCQkJCVwKPiAtCWRvIHsJCQkJCQkJXAo+IC0JCXJldCA9IHJlZ21hcF93cml0
ZSh0Yy0+cmVnbWFwLCByZWcsIHZhcik7CVwKPiAtCQlpZiAocmV0KQkJCQkJXAo+IC0JCQlnb3Rv
IGVycjsJCQkJXAo+IC0JfSB3aGlsZSAoMCkKPiAtI2RlZmluZSB0Y19yZWFkKHJlZywgdmFyKQkJ
CQkJXAo+IC0JZG8gewkJCQkJCQlcCj4gLQkJcmV0ID0gcmVnbWFwX3JlYWQodGMtPnJlZ21hcCwg
cmVnLCB2YXIpOwlcCj4gLQkJaWYgKHJldCkJCQkJCVwKPiAtCQkJZ290byBlcnI7CQkJCVwKPiAt
CX0gd2hpbGUgKDApCj4gLQo+ICBzdGF0aWMgaW5saW5lIGludCB0Y19wb2xsX3RpbWVvdXQoc3Ry
dWN0IHRjX2RhdGEgKnRjLCB1bnNpZ25lZCBpbnQgYWRkciwKPiAgCQkJCSAgdW5zaWduZWQgaW50
IGNvbmRfbWFzaywKPiAgCQkJCSAgdW5zaWduZWQgaW50IGNvbmRfdmFsdWUsCj4gQEAgLTM1MSw3
ICszMzcsNyBAQCBzdGF0aWMgc3NpemVfdCB0Y19hdXhfdHJhbnNmZXIoc3RydWN0IGRybV9kcF9h
dXggKmF1eCwKPiAgCj4gIAlyZXQgPSB0Y19hdXhfd2FpdF9idXN5KHRjLCAxMDApOwo+ICAJaWYg
KHJldCkKPiAtCQlnb3RvIGVycjsKPiArCQlyZXR1cm4gcmV0Owo+ICAKPiAgCWlmIChyZXF1ZXN0
ID09IERQX0FVWF9JMkNfV1JJVEUgfHwgcmVxdWVzdCA9PSBEUF9BVVhfTkFUSVZFX1dSSVRFKSB7
Cj4gIAkJLyogU3RvcmUgZGF0YSAqLwo+IEBAIC0zNjIsNyArMzQ4LDExIEBAIHN0YXRpYyBzc2l6
ZV90IHRjX2F1eF90cmFuc2ZlcihzdHJ1Y3QgZHJtX2RwX2F1eCAqYXV4LAo+ICAJCQkJdG1wID0g
KHRtcCA8PCA4KSB8IGJ1ZltpXTsKPiAgCQkJaSsrOwo+ICAJCQlpZiAoKChpICUgNCkgPT0gMCkg
fHwgKGkgPT0gc2l6ZSkpIHsKPiAtCQkJCXRjX3dyaXRlKERQMF9BVVhXREFUQSgoaSAtIDEpID4+
IDIpLCB0bXApOwo+ICsJCQkJcmV0ID0gcmVnbWFwX3dyaXRlKHRjLT5yZWdtYXAsCj4gKwkJCQkJ
CSAgIERQMF9BVVhXREFUQSgoaSAtIDEpID4+IDIpLAo+ICsJCQkJCQkgICB0bXApOwo+ICsJCQkJ
aWYgKHJldCkKPiArCQkJCQlyZXR1cm4gcmV0Owo+ICAJCQkJdG1wID0gMDsKPiAgCQkJfQo+ICAJ
CX0KPiBAQCAtMzcyLDIzICszNjIsMzIgQEAgc3RhdGljIHNzaXplX3QgdGNfYXV4X3RyYW5zZmVy
KHN0cnVjdCBkcm1fZHBfYXV4ICphdXgsCj4gIAl9Cj4gIAo+ICAJLyogU3RvcmUgYWRkcmVzcyAq
Lwo+IC0JdGNfd3JpdGUoRFAwX0FVWEFERFIsIG1zZy0+YWRkcmVzcyk7Cj4gKwlyZXQgPSByZWdt
YXBfd3JpdGUodGMtPnJlZ21hcCwgRFAwX0FVWEFERFIsIG1zZy0+YWRkcmVzcyk7Cj4gKwlpZiAo
cmV0KQo+ICsJCXJldHVybiByZXQ7Cj4gIAkvKiBTdGFydCB0cmFuc2ZlciAqLwo+IC0JdGNfd3Jp
dGUoRFAwX0FVWENGRzAsICgoc2l6ZSAtIDEpIDw8IDgpIHwgcmVxdWVzdCk7Cj4gKwlyZXQgPSBy
ZWdtYXBfd3JpdGUodGMtPnJlZ21hcCwgRFAwX0FVWENGRzAsCj4gKwkJCSAgICgoc2l6ZSAtIDEp
IDw8IDgpIHwgcmVxdWVzdCk7Cj4gKwlpZiAocmV0KQo+ICsJCXJldHVybiByZXQ7Cj4gIAo+ICAJ
cmV0ID0gdGNfYXV4X3dhaXRfYnVzeSh0YywgMTAwKTsKPiAgCWlmIChyZXQpCj4gLQkJZ290byBl
cnI7Cj4gKwkJcmV0dXJuIHJldDsKPiAgCj4gIAlyZXQgPSB0Y19hdXhfZ2V0X3N0YXR1cyh0Yywg
Jm1zZy0+cmVwbHkpOwo+ICAJaWYgKHJldCkKPiAtCQlnb3RvIGVycjsKPiArCQlyZXR1cm4gcmV0
Owo+ICAKPiAgCWlmIChyZXF1ZXN0ID09IERQX0FVWF9JMkNfUkVBRCB8fCByZXF1ZXN0ID09IERQ
X0FVWF9OQVRJVkVfUkVBRCkgewo+ICAJCS8qIFJlYWQgZGF0YSAqLwo+ICAJCXdoaWxlIChpIDwg
c2l6ZSkgewo+IC0JCQlpZiAoKGkgJSA0KSA9PSAwKQo+IC0JCQkJdGNfcmVhZChEUDBfQVVYUkRB
VEEoaSA+PiAyKSwgJnRtcCk7Cj4gKwkJCWlmICgoaSAlIDQpID09IDApIHsKPiArCQkJCXJldCA9
IHJlZ21hcF9yZWFkKHRjLT5yZWdtYXAsCj4gKwkJCQkJCSAgRFAwX0FVWFJEQVRBKGkgPj4gMiks
ICZ0bXApOwo+ICsJCQkJaWYgKHJldCkKPiArCQkJCQlyZXR1cm4gcmV0Owo+ICsJCQl9Cj4gIAkJ
CWJ1ZltpXSA9IHRtcCAmIDB4ZmY7Cj4gIAkJCXRtcCA9IHRtcCA+PiA4Owo+ICAJCQlpKys7Cj4g
QEAgLTM5Niw4ICszOTUsNiBAQCBzdGF0aWMgc3NpemVfdCB0Y19hdXhfdHJhbnNmZXIoc3RydWN0
IGRybV9kcF9hdXggKmF1eCwKPiAgCX0KPiAgCj4gIAlyZXR1cm4gc2l6ZTsKPiAtZXJyOgo+IC0J
cmV0dXJuIHJldDsKPiAgfQo+ICAKPiAgc3RhdGljIGNvbnN0IGNoYXIgKiBjb25zdCB0cmFpbmlu
Z19wYXR0ZXJuMV9lcnJvcnNbXSA9IHsKPiBAQCAtNDU0LDYgKzQ1MSw3IEBAIHN0YXRpYyBpbnQg
dGNfcHhsX3BsbF9lbihzdHJ1Y3QgdGNfZGF0YSAqdGMsIHUzMiByZWZjbGssIHUzMiBwaXhlbGNs
b2NrKQo+ICAJaW50IGV4dF9kaXZbXSA9IHsxLCAyLCAzLCA1LCA3fTsKPiAgCWludCBiZXN0X3Bp
eGVsY2xvY2sgPSAwOwo+ICAJaW50IHZjb19oaSA9IDA7Cj4gKwl1MzIgcHhsX3BsbHBhcmFtOwo+
ICAKPiAgCWRldl9kYmcodGMtPmRldiwgIlBMTDogcmVxdWVzdGVkICVkIHBpeGVsY2xvY2ssIHJl
ZiAlZFxuIiwgcGl4ZWxjbG9jaywKPiAgCQlyZWZjbGspOwo+IEBAIC01MjMsMjQgKzUyMSwyOSBA
QCBzdGF0aWMgaW50IHRjX3B4bF9wbGxfZW4oc3RydWN0IHRjX2RhdGEgKnRjLCB1MzIgcmVmY2xr
LCB1MzIgcGl4ZWxjbG9jaykKPiAgCQliZXN0X211bCA9IDA7Cj4gIAo+ICAJLyogUG93ZXIgdXAg
UExMIGFuZCBzd2l0Y2ggdG8gYnlwYXNzICovCj4gLQl0Y193cml0ZShQWExfUExMQ1RSTCwgUExM
QllQIHwgUExMRU4pOwo+ICsJcmV0ID0gcmVnbWFwX3dyaXRlKHRjLT5yZWdtYXAsIFBYTF9QTExD
VFJMLCBQTExCWVAgfCBQTExFTik7Cj4gKwlpZiAocmV0KQo+ICsJCXJldHVybiByZXQ7Cj4gKwo+
ICsJcHhsX3BsbHBhcmFtICA9IHZjb19oaSA8PCAyNDsgLyogRm9yIFBMTCBWQ08gPj0gMzAwIE1I
eiA9IDEgKi8KPiArCXB4bF9wbGxwYXJhbSB8PSBleHRfZGl2W2Jlc3RfcHJlXSA8PCAyMDsgLyog
RXh0ZXJuYWwgUHJlLWRpdmlkZXIgKi8KPiArCXB4bF9wbGxwYXJhbSB8PSBleHRfZGl2W2Jlc3Rf
cG9zdF0gPDwgMTY7IC8qIEV4dGVybmFsIFBvc3QtZGl2aWRlciAqLwo+ICsJcHhsX3BsbHBhcmFt
IHw9IElOX1NFTF9SRUZDTEs7IC8qIFVzZSBSZWZDbGsgYXMgUExMIGlucHV0ICovCj4gKwlweGxf
cGxscGFyYW0gfD0gYmVzdF9kaXYgPDwgODsgLyogRGl2aWRlciBmb3IgUExMIFJlZkNsayAqLwo+
ICsJcHhsX3BsbHBhcmFtIHw9IGJlc3RfbXVsOyAvKiBNdWx0aXBsaWVyIGZvciBQTEwgKi8KPiAg
Cj4gLQl0Y193cml0ZShQWExfUExMUEFSQU0sCj4gLQkJICh2Y29faGkgPDwgMjQpIHwJCS8qIEZv
ciBQTEwgVkNPID49IDMwMCBNSHogPSAxICovCj4gLQkJIChleHRfZGl2W2Jlc3RfcHJlXSA8PCAy
MCkgfAkvKiBFeHRlcm5hbCBQcmUtZGl2aWRlciAqLwo+IC0JCSAoZXh0X2RpdltiZXN0X3Bvc3Rd
IDw8IDE2KSB8CS8qIEV4dGVybmFsIFBvc3QtZGl2aWRlciAqLwo+IC0JCSBJTl9TRUxfUkVGQ0xL
IHwJCS8qIFVzZSBSZWZDbGsgYXMgUExMIGlucHV0ICovCj4gLQkJIChiZXN0X2RpdiA8PCA4KSB8
CQkvKiBEaXZpZGVyIGZvciBQTEwgUmVmQ2xrICovCj4gLQkJIChiZXN0X211bCA8PCAwKSk7CQkv
KiBNdWx0aXBsaWVyIGZvciBQTEwgKi8KPiArCXJldCA9IHJlZ21hcF93cml0ZSh0Yy0+cmVnbWFw
LCBQWExfUExMUEFSQU0sIHB4bF9wbGxwYXJhbSk7Cj4gKwlpZiAocmV0KQo+ICsJCXJldHVybiBy
ZXQ7Cj4gIAo+ICAJLyogRm9yY2UgUExMIHBhcmFtZXRlciB1cGRhdGUgYW5kIGRpc2FibGUgYnlw
YXNzICovCj4gLQl0Y193cml0ZShQWExfUExMQ1RSTCwgUExMVVBEQVRFIHwgUExMRU4pOwo+ICsJ
cmV0ID0gcmVnbWFwX3dyaXRlKHRjLT5yZWdtYXAsIFBYTF9QTExDVFJMLCBQTExVUERBVEUgfCBQ
TExFTik7Cj4gKwlpZiAocmV0KQo+ICsJCXJldHVybiByZXQ7Cj4gIAo+ICAJdGNfd2FpdF9wbGxf
bG9jayh0Yyk7Cj4gIAo+ICAJcmV0dXJuIDA7Cj4gLWVycjoKPiAtCXJldHVybiByZXQ7Cj4gIH0K
PiAgCj4gIHN0YXRpYyBpbnQgdGNfcHhsX3BsbF9kaXMoc3RydWN0IHRjX2RhdGEgKnRjKQo+IEBA
IC01NTEsNyArNTU0LDYgQEAgc3RhdGljIGludCB0Y19weGxfcGxsX2RpcyhzdHJ1Y3QgdGNfZGF0
YSAqdGMpCj4gIAo+ICBzdGF0aWMgaW50IHRjX3N0cmVhbV9jbG9ja19jYWxjKHN0cnVjdCB0Y19k
YXRhICp0YykKPiAgewo+IC0JaW50IHJldDsKPiAgCS8qCj4gIAkgKiBJZiB0aGUgU3RyZWFtIGNs
b2NrIGFuZCBMaW5rIFN5bWJvbCBjbG9jayBhcmUKPiAgCSAqIGFzeW5jaHJvbm91cyB3aXRoIGVh
Y2ggb3RoZXIsIHRoZSB2YWx1ZSBvZiBNIGNoYW5nZXMgb3Zlcgo+IEBAIC01NjcsMTYgKzU2OSwx
MyBAQCBzdGF0aWMgaW50IHRjX3N0cmVhbV9jbG9ja19jYWxjKHN0cnVjdCB0Y19kYXRhICp0YykK
PiAgCSAqIE0vTiA9IGZfU1RSTUNMSyAvIGZfTFNDTEsKPiAgCSAqCj4gIAkgKi8KPiAtCXRjX3dy
aXRlKERQMF9WSURNTkdFTjEsIDMyNzY4KTsKPiAtCj4gLQlyZXR1cm4gMDsKPiAtZXJyOgo+IC0J
cmV0dXJuIHJldDsKPiArCXJldHVybiByZWdtYXBfd3JpdGUodGMtPnJlZ21hcCwgRFAwX1ZJRE1O
R0VOMSwgMzI3NjgpOwo+ICB9Cj4gIAo+ICBzdGF0aWMgaW50IHRjX2F1eF9saW5rX3NldHVwKHN0
cnVjdCB0Y19kYXRhICp0YykKPiAgewo+ICAJdW5zaWduZWQgbG9uZyByYXRlOwo+ICsJdTMyIGRw
MF9hdXhjZmcxOwo+ICAJdTMyIHZhbHVlOwo+ICAJaW50IHJldDsKPiAgCj4gQEAgLTYwMSwxOCAr
NjAwLDI1IEBAIHN0YXRpYyBpbnQgdGNfYXV4X2xpbmtfc2V0dXAoc3RydWN0IHRjX2RhdGEgKnRj
KQo+ICAKPiAgCS8qIFNldHVwIERQLVBIWSAvIFBMTCAqLwo+ICAJdmFsdWUgfD0gU1lTQ0xLX1NF
TF9MU0NMSyB8IExTQ0xLX0RJVl8yOwo+IC0JdGNfd3JpdGUoU1lTX1BMTFBBUkFNLCB2YWx1ZSk7
Cj4gLQo+IC0JdGNfd3JpdGUoRFBfUEhZX0NUUkwsIEJHUkVOIHwgUFdSX1NXX0VOIHwgUEhZX0Ew
X0VOKTsKPiArCXJldCA9IHJlZ21hcF93cml0ZSh0Yy0+cmVnbWFwLCBTWVNfUExMUEFSQU0sIHZh
bHVlKTsKPiArCWlmIChyZXQpCj4gKwkJZ290byBlcnI7Cj4gIAo+ICsJcmV0ID0gcmVnbWFwX3dy
aXRlKHRjLT5yZWdtYXAsIERQX1BIWV9DVFJMLCBCR1JFTiB8IFBXUl9TV19FTiB8IFBIWV9BMF9F
Tik7Cj4gKwlpZiAocmV0KQo+ICsJCWdvdG8gZXJyOwo+ICAJLyoKPiAgCSAqIEluaXRpYWxseSBQ
TExzIGFyZSBpbiBieXBhc3MuIEZvcmNlIFBMTCBwYXJhbWV0ZXIgdXBkYXRlLAo+ICAJICogZGlz
YWJsZSBQTEwgYnlwYXNzLCBlbmFibGUgUExMCj4gIAkgKi8KPiAtCXRjX3dyaXRlKERQMF9QTExD
VFJMLCBQTExVUERBVEUgfCBQTExFTik7Cj4gKwlyZXQgPSByZWdtYXBfd3JpdGUodGMtPnJlZ21h
cCwgRFAwX1BMTENUUkwsIFBMTFVQREFURSB8IFBMTEVOKTsKPiArCWlmIChyZXQpCj4gKwkJZ290
byBlcnI7Cj4gIAl0Y193YWl0X3BsbF9sb2NrKHRjKTsKPiAgCj4gLQl0Y193cml0ZShEUDFfUExM
Q1RSTCwgUExMVVBEQVRFIHwgUExMRU4pOwo+ICsJcmV0ID0gcmVnbWFwX3dyaXRlKHRjLT5yZWdt
YXAsIERQMV9QTExDVFJMLCBQTExVUERBVEUgfCBQTExFTik7Cj4gKwlpZiAocmV0KQo+ICsJCWdv
dG8gZXJyOwo+ICAJdGNfd2FpdF9wbGxfbG9jayh0Yyk7Cj4gIAo+ICAJcmV0ID0gdGNfcG9sbF90
aW1lb3V0KHRjLCBEUF9QSFlfQ1RSTCwgUEhZX1JEWSwgUEhZX1JEWSwgMSwgMTAwMCk7Cj4gQEAg
LTYyNCw5ICs2MzAsMTMgQEAgc3RhdGljIGludCB0Y19hdXhfbGlua19zZXR1cChzdHJ1Y3QgdGNf
ZGF0YSAqdGMpCj4gIAl9Cj4gIAo+ICAJLyogU2V0dXAgQVVYIGxpbmsgKi8KPiAtCXRjX3dyaXRl
KERQMF9BVVhDRkcxLCBBVVhfUlhfRklMVEVSX0VOIHwKPiAtCQkgKDB4MDYgPDwgOCkgfAkvKiBB
dXggQml0IFBlcmlvZCBDYWxjdWxhdG9yIFRocmVzaG9sZCAqLwo+IC0JCSAoMHgzZiA8PCAwKSk7
CS8qIEF1eCBSZXNwb25zZSBUaW1lb3V0IFRpbWVyICovCj4gKwlkcDBfYXV4Y2ZnMSAgPSBBVVhf
UlhfRklMVEVSX0VOOwo+ICsJZHAwX2F1eGNmZzEgfD0gMHgwNiA8PCA4OyAvKiBBdXggQml0IFBl
cmlvZCBDYWxjdWxhdG9yIFRocmVzaG9sZCAqLwo+ICsJZHAwX2F1eGNmZzEgfD0gMHgzZiA8PCAw
OyAvKiBBdXggUmVzcG9uc2UgVGltZW91dCBUaW1lciAqLwo+ICsKPiArCXJldCA9IHJlZ21hcF93
cml0ZSh0Yy0+cmVnbWFwLCBEUDBfQVVYQ0ZHMSwgZHAwX2F1eGNmZzEpOwo+ICsJaWYgKHJldCkK
PiArCQlnb3RvIGVycjsKPiAgCj4gIAlyZXR1cm4gMDsKPiAgZXJyOgo+IEBAIC03MjcsNDggKzcz
Nyw3MyBAQCBzdGF0aWMgaW50IHRjX3NldF92aWRlb19tb2RlKHN0cnVjdCB0Y19kYXRhICp0YywK
PiAgCSAqIGFzc3VtZSB3ZSBkbyBub3QgbmVlZCBhbnkgZGVsYXkgd2hlbiBEUEkgaXMgYSBzb3Vy
Y2Ugb2YKPiAgCSAqIHN5bmMgc2lnbmFscwo+ICAJICovCj4gLQl0Y193cml0ZShWUENUUkwwLAo+
IC0JCSBGSUVMRF9QUkVQKFZTREVMQVksIDApIHwKPiAtCQkgT1BYTEZNVF9SR0I4ODggfCBGUk1T
WU5DX0RJU0FCTEVEIHwgTVNGX0RJU0FCTEVEKTsKPiAtCXRjX3dyaXRlKEhUSU0wMSwKPiAtCQkg
RklFTERfUFJFUChIQlBSLCBBTElHTihsZWZ0X21hcmdpbiwgMikpIHwKPiAtCQkgRklFTERfUFJF
UChIUFcsIEFMSUdOKGhzeW5jX2xlbiwgMikpKTsKPiAtCXRjX3dyaXRlKEhUSU0wMiwKPiAtCQkg
RklFTERfUFJFUChIRElTUFIsIEFMSUdOKG1vZGUtPmhkaXNwbGF5LCAyKSkgfAo+IC0JCSBGSUVM
RF9QUkVQKEhGUFIsIEFMSUdOKHJpZ2h0X21hcmdpbiwgMikpKTsKPiAtCXRjX3dyaXRlKFZUSU0w
MSwKPiAtCQkgRklFTERfUFJFUChWQlBSLCB1cHBlcl9tYXJnaW4pIHwKPiAtCQkgRklFTERfUFJF
UChWU1BSLCB2c3luY19sZW4pKTsKPiAtCXRjX3dyaXRlKFZUSU0wMiwKPiAtCQkgRklFTERfUFJF
UChWRlBSLCBsb3dlcl9tYXJnaW4pIHwKPiAtCQkgRklFTERfUFJFUChWRElTUFIsIG1vZGUtPnZk
aXNwbGF5KSk7Cj4gLQl0Y193cml0ZShWRlVFTjAsIFZGVUVOKTsJCS8qIHVwZGF0ZSBzZXR0aW5n
cyAqLwo+ICsJcmV0ID0gcmVnbWFwX3dyaXRlKHRjLT5yZWdtYXAsIFZQQ1RSTDAsCj4gKwkJCSAg
IEZJRUxEX1BSRVAoVlNERUxBWSwgMCkgfAo+ICsJCQkgICBPUFhMRk1UX1JHQjg4OCB8IEZSTVNZ
TkNfRElTQUJMRUQgfCBNU0ZfRElTQUJMRUQpOwo+ICsJaWYgKHJldCkKPiArCQlyZXR1cm4gcmV0
Owo+ICsKPiArCXJldCA9IHJlZ21hcF93cml0ZSh0Yy0+cmVnbWFwLCBIVElNMDEsCj4gKwkJCSAg
IEZJRUxEX1BSRVAoSEJQUiwgQUxJR04obGVmdF9tYXJnaW4sIDIpKSB8Cj4gKwkJCSAgIEZJRUxE
X1BSRVAoSFBXLCBBTElHTihoc3luY19sZW4sIDIpKSk7Cj4gKwlpZiAocmV0KQo+ICsJCXJldHVy
biByZXQ7Cj4gKwo+ICsJcmV0ID0gcmVnbWFwX3dyaXRlKHRjLT5yZWdtYXAsIEhUSU0wMiwKPiAr
CQkJICAgRklFTERfUFJFUChIRElTUFIsIEFMSUdOKG1vZGUtPmhkaXNwbGF5LCAyKSkgfAo+ICsJ
CQkgICBGSUVMRF9QUkVQKEhGUFIsIEFMSUdOKHJpZ2h0X21hcmdpbiwgMikpKTsKPiArCWlmIChy
ZXQpCj4gKwkJcmV0dXJuIHJldDsKPiArCj4gKwlyZXQgPSByZWdtYXBfd3JpdGUodGMtPnJlZ21h
cCwgVlRJTTAxLAo+ICsJCQkgICBGSUVMRF9QUkVQKFZCUFIsIHVwcGVyX21hcmdpbikgfAo+ICsJ
CQkgICBGSUVMRF9QUkVQKFZTUFIsIHZzeW5jX2xlbikpOwo+ICsJaWYgKHJldCkKPiArCQlyZXR1
cm4gcmV0Owo+ICsKPiArCXJldCA9IHJlZ21hcF93cml0ZSh0Yy0+cmVnbWFwLCBWVElNMDIsCj4g
KwkJCSAgIEZJRUxEX1BSRVAoVkZQUiwgbG93ZXJfbWFyZ2luKSB8Cj4gKwkJCSAgIEZJRUxEX1BS
RVAoVkRJU1BSLCBtb2RlLT52ZGlzcGxheSkpOwo+ICsJaWYgKHJldCkKPiArCQlyZXR1cm4gcmV0
Owo+ICsKPiArCXJldCA9IHJlZ21hcF93cml0ZSh0Yy0+cmVnbWFwLCBWRlVFTjAsIFZGVUVOKTsg
LyogdXBkYXRlIHNldHRpbmdzICovCj4gKwlpZiAocmV0KQo+ICsJCXJldHVybiByZXQ7Cj4gIAo+
ICAJLyogVGVzdCBwYXR0ZXJuIHNldHRpbmdzICovCj4gLQl0Y193cml0ZShUU1RDVEwsCj4gLQkJ
IEZJRUxEX1BSRVAoQ09MT1JfUiwgMTIwKSB8Cj4gLQkJIEZJRUxEX1BSRVAoQ09MT1JfRywgMjAp
IHwKPiAtCQkgRklFTERfUFJFUChDT0xPUl9CLCA5OSkgfAo+IC0JCSBFTkkyQ0ZJTFRFUiB8Cj4g
LQkJIEZJRUxEX1BSRVAoQ09MT1JfQkFSX01PREUsIENPTE9SX0JBUl9NT0RFX0JBUlMpKTsKPiAr
CXJldCA9IHJlZ21hcF93cml0ZSh0Yy0+cmVnbWFwLCBUU1RDVEwsCj4gKwkJCSAgIEZJRUxEX1BS
RVAoQ09MT1JfUiwgMTIwKSB8Cj4gKwkJCSAgIEZJRUxEX1BSRVAoQ09MT1JfRywgMjApIHwKPiAr
CQkJICAgRklFTERfUFJFUChDT0xPUl9CLCA5OSkgfAo+ICsJCQkgICBFTkkyQ0ZJTFRFUiB8Cj4g
KwkJCSAgIEZJRUxEX1BSRVAoQ09MT1JfQkFSX01PREUsIENPTE9SX0JBUl9NT0RFX0JBUlMpKTsK
PiArCWlmIChyZXQpCj4gKwkJcmV0dXJuIHJldDsKPiAgCj4gIAkvKiBEUCBNYWluIFN0cmVhbSBB
dHRyaWJ1dGVzICovCj4gIAl2aWRfc3luY19kbHkgPSBoc3luY19sZW4gKyBsZWZ0X21hcmdpbiAr
IG1vZGUtPmhkaXNwbGF5Owo+IC0JdGNfd3JpdGUoRFAwX1ZJRFNZTkNERUxBWSwKPiArCXJldCA9
IHJlZ21hcF93cml0ZSh0Yy0+cmVnbWFwLCBEUDBfVklEU1lOQ0RFTEFZLAo+ICAJCSBGSUVMRF9Q
UkVQKFRIUkVTSF9ETFksIG1heF90dV9zeW1ib2wpIHwKPiAgCQkgRklFTERfUFJFUChWSURfU1lO
Q19ETFksIHZpZF9zeW5jX2RseSkpOwo+ICAKPiAtCXRjX3dyaXRlKERQMF9UT1RBTFZBTCwKPiAt
CQkgRklFTERfUFJFUChIX1RPVEFMLCBtb2RlLT5odG90YWwpIHwKPiAtCQkgRklFTERfUFJFUChW
X1RPVEFMLCBtb2RlLT52dG90YWwpKTsKPiArCXJldCA9IHJlZ21hcF93cml0ZSh0Yy0+cmVnbWFw
LCBEUDBfVE9UQUxWQUwsCj4gKwkJCSAgIEZJRUxEX1BSRVAoSF9UT1RBTCwgbW9kZS0+aHRvdGFs
KSB8Cj4gKwkJCSAgIEZJRUxEX1BSRVAoVl9UT1RBTCwgbW9kZS0+dnRvdGFsKSk7Cj4gKwlpZiAo
cmV0KQo+ICsJCXJldHVybiByZXQ7Cj4gIAo+IC0JdGNfd3JpdGUoRFAwX1NUQVJUVkFMLAo+IC0J
CSBGSUVMRF9QUkVQKEhfU1RBUlQsIGxlZnRfbWFyZ2luICsgaHN5bmNfbGVuKSB8Cj4gLQkJIEZJ
RUxEX1BSRVAoVl9TVEFSVCwgdXBwZXJfbWFyZ2luICsgdnN5bmNfbGVuKSk7Cj4gKwlyZXQgPSBy
ZWdtYXBfd3JpdGUodGMtPnJlZ21hcCwgRFAwX1NUQVJUVkFMLAo+ICsJCQkgICBGSUVMRF9QUkVQ
KEhfU1RBUlQsIGxlZnRfbWFyZ2luICsgaHN5bmNfbGVuKSB8Cj4gKwkJCSAgIEZJRUxEX1BSRVAo
Vl9TVEFSVCwgdXBwZXJfbWFyZ2luICsgdnN5bmNfbGVuKSk7Cj4gKwlpZiAocmV0KQo+ICsJCXJl
dHVybiByZXQ7Cj4gIAo+IC0JdGNfd3JpdGUoRFAwX0FDVElWRVZBTCwKPiAtCQkgRklFTERfUFJF
UChWX0FDVCwgbW9kZS0+dmRpc3BsYXkpIHwKPiAtCQkgRklFTERfUFJFUChIX0FDVCwgbW9kZS0+
aGRpc3BsYXkpKTsKPiArCXJldCA9IHJlZ21hcF93cml0ZSh0Yy0+cmVnbWFwLCBEUDBfQUNUSVZF
VkFMLAo+ICsJCQkgICBGSUVMRF9QUkVQKFZfQUNULCBtb2RlLT52ZGlzcGxheSkgfAo+ICsJCQkg
ICBGSUVMRF9QUkVQKEhfQUNULCBtb2RlLT5oZGlzcGxheSkpOwo+ICsJaWYgKHJldCkKPiArCQly
ZXR1cm4gcmV0Owo+ICAKPiAgCWRwMF9zeW5jdmFsID0gRklFTERfUFJFUChWU19XSURUSCwgdnN5
bmNfbGVuKSB8Cj4gIAkJICAgICAgRklFTERfUFJFUChIU19XSURUSCwgaHN5bmNfbGVuKTsKPiBA
QCAtNzc5LDIxICs4MTQsMjUgQEAgc3RhdGljIGludCB0Y19zZXRfdmlkZW9fbW9kZShzdHJ1Y3Qg
dGNfZGF0YSAqdGMsCj4gIAlpZiAobW9kZS0+ZmxhZ3MgJiBEUk1fTU9ERV9GTEFHX05IU1lOQykK
PiAgCQlkcDBfc3luY3ZhbCB8PSBTWU5DVkFMX0hTX1BPTF9BQ1RJVkVfTE9XOwo+ICAKPiAtCXRj
X3dyaXRlKERQMF9TWU5DVkFMLCBkcDBfc3luY3ZhbCk7Cj4gKwlyZXQgPSByZWdtYXBfd3JpdGUo
dGMtPnJlZ21hcCwgRFAwX1NZTkNWQUwsIGRwMF9zeW5jdmFsKTsKPiArCWlmIChyZXQpCj4gKwkJ
cmV0dXJuIHJldDsKPiAgCj4gLQl0Y193cml0ZShEUElQWExGTVQsCj4gLQkJIFZTX1BPTF9BQ1RJ
VkVfTE9XIHwgSFNfUE9MX0FDVElWRV9MT1cgfAo+IC0JCSBERV9QT0xfQUNUSVZFX0hJR0ggfCBT
VUJfQ0ZHX1RZUEVfQ09ORklHMSB8Cj4gLQkJIERQSV9CUFBfUkdCODg4KTsKPiArCXJldCA9IHJl
Z21hcF93cml0ZSh0Yy0+cmVnbWFwLCBEUElQWExGTVQsCj4gKwkJCSAgIFZTX1BPTF9BQ1RJVkVf
TE9XIHwgSFNfUE9MX0FDVElWRV9MT1cgfAo+ICsJCQkgICBERV9QT0xfQUNUSVZFX0hJR0ggfCBT
VUJfQ0ZHX1RZUEVfQ09ORklHMSB8Cj4gKwkJCSAgIERQSV9CUFBfUkdCODg4KTsKPiArCWlmIChy
ZXQpCj4gKwkJcmV0dXJuIHJldDsKPiAgCj4gLQl0Y193cml0ZShEUDBfTUlTQywKPiAtCQkgRklF
TERfUFJFUChNQVhfVFVfU1lNQk9MLCBtYXhfdHVfc3ltYm9sKSB8Cj4gLQkJIEZJRUxEX1BSRVAo
VFVfU0laRSwgVFVfU0laRV9SRUNPTU1FTkRFRCkgfAo+IC0JCSBCUENfOCk7Cj4gKwlyZXQgPSBy
ZWdtYXBfd3JpdGUodGMtPnJlZ21hcCwgRFAwX01JU0MsCj4gKwkJCSAgIEZJRUxEX1BSRVAoTUFY
X1RVX1NZTUJPTCwgbWF4X3R1X3N5bWJvbCkgfAo+ICsJCQkgICBGSUVMRF9QUkVQKFRVX1NJWkUs
IFRVX1NJWkVfUkVDT01NRU5ERUQpIHwKPiArCQkJICAgQlBDXzgpOwo+ICsJaWYgKHJldCkKPiAr
CQlyZXR1cm4gcmV0Owo+ICAKPiAgCXJldHVybiAwOwo+IC1lcnI6Cj4gLQlyZXR1cm4gcmV0Owo+
ICB9Cj4gIAo+ICBzdGF0aWMgaW50IHRjX3dhaXRfbGlua190cmFpbmluZyhzdHJ1Y3QgdGNfZGF0
YSAqdGMpCj4gQEAgLTgwOCwxMSArODQ3LDExIEBAIHN0YXRpYyBpbnQgdGNfd2FpdF9saW5rX3Ry
YWluaW5nKHN0cnVjdCB0Y19kYXRhICp0YykKPiAgCQlyZXR1cm4gcmV0Owo+ICAJfQo+ICAKPiAt
CXRjX3JlYWQoRFAwX0xUU1RBVCwgJnZhbHVlKTsKPiArCXJldCA9IHJlZ21hcF9yZWFkKHRjLT5y
ZWdtYXAsIERQMF9MVFNUQVQsICZ2YWx1ZSk7Cj4gKwlpZiAocmV0KQo+ICsJCXJldHVybiByZXQ7
Cj4gIAo+ICAJcmV0dXJuICh2YWx1ZSA+PiA4KSAmIDB4NzsKPiAtZXJyOgo+IC0JcmV0dXJuIHJl
dDsKPiAgfQo+ICAKPiAgc3RhdGljIGludCB0Y19tYWluX2xpbmtfZW5hYmxlKHN0cnVjdCB0Y19k
YXRhICp0YykKPiBAQCAtODI3LDE1ICs4NjYsMjUgQEAgc3RhdGljIGludCB0Y19tYWluX2xpbmtf
ZW5hYmxlKHN0cnVjdCB0Y19kYXRhICp0YykKPiAgCj4gIAlkZXZfZGJnKHRjLT5kZXYsICJsaW5r
IGVuYWJsZVxuIik7Cj4gIAo+IC0JdGNfcmVhZChEUDBDVEwsICZ2YWx1ZSk7Cj4gLQlpZiAoV0FS
Tl9PTih2YWx1ZSAmIERQX0VOKSkKPiAtCQl0Y193cml0ZShEUDBDVEwsIDApOwo+ICsJcmV0ID0g
cmVnbWFwX3JlYWQodGMtPnJlZ21hcCwgRFAwQ1RMLCAmdmFsdWUpOwo+ICsJaWYgKHJldCkKPiAr
CQlyZXR1cm4gcmV0Owo+ICsKPiArCWlmIChXQVJOX09OKHZhbHVlICYgRFBfRU4pKSB7Cj4gKwkJ
cmV0ID0gcmVnbWFwX3dyaXRlKHRjLT5yZWdtYXAsIERQMENUTCwgMCk7Cj4gKwkJaWYgKHJldCkK
PiArCQkJcmV0dXJuIHJldDsKPiArCX0KPiAgCj4gLQl0Y193cml0ZShEUDBfU1JDQ1RSTCwgdGNf
c3JjY3RybCh0YykpOwo+ICsJcmV0ID0gcmVnbWFwX3dyaXRlKHRjLT5yZWdtYXAsIERQMF9TUkND
VFJMLCB0Y19zcmNjdHJsKHRjKSk7Cj4gKwlpZiAocmV0KQo+ICsJCXJldHVybiByZXQ7Cj4gIAkv
KiBTU0NHIGFuZCBCVzI3IG9uIERQMSBtdXN0IGJlIHNldCB0byB0aGUgc2FtZSBhcyBvbiBEUDAg
Ki8KPiAtCXRjX3dyaXRlKERQMV9TUkNDVFJMLAo+ICsJcmV0ID0gcmVnbWFwX3dyaXRlKHRjLT5y
ZWdtYXAsIERQMV9TUkNDVFJMLAo+ICAJCSAodGMtPmxpbmsuc3ByZWFkID8gRFAwX1NSQ0NUUkxf
U1NDRyA6IDApIHwKPiAgCQkgKCh0Yy0+bGluay5iYXNlLnJhdGUgIT0gMTYyMDAwKSA/IERQMF9T
UkNDVFJMX0JXMjcgOiAwKSk7Cj4gKwlpZiAocmV0KQo+ICsJCXJldHVybiByZXQ7Cj4gIAo+ICAJ
cmF0ZSA9IGNsa19nZXRfcmF0ZSh0Yy0+cmVmY2xrKTsKPiAgCXN3aXRjaCAocmF0ZSkgewo+IEBA
IC04NTUsMjcgKzkwNCwzNiBAQCBzdGF0aWMgaW50IHRjX21haW5fbGlua19lbmFibGUoc3RydWN0
IHRjX2RhdGEgKnRjKQo+ICAJCXJldHVybiAtRUlOVkFMOwo+ICAJfQo+ICAJdmFsdWUgfD0gU1lT
Q0xLX1NFTF9MU0NMSyB8IExTQ0xLX0RJVl8yOwo+IC0JdGNfd3JpdGUoU1lTX1BMTFBBUkFNLCB2
YWx1ZSk7Cj4gKwlyZXQgPSByZWdtYXBfd3JpdGUodGMtPnJlZ21hcCwgU1lTX1BMTFBBUkFNLCB2
YWx1ZSk7Cj4gKwlpZiAocmV0KQo+ICsJCXJldHVybiByZXQ7Cj4gIAo+ICAJLyogU2V0dXAgTWFp
biBMaW5rICovCj4gIAlkcF9waHlfY3RybCA9IEJHUkVOIHwgUFdSX1NXX0VOIHwgUEhZX0EwX0VO
IHwgUEhZX00wX0VOOwo+ICAJaWYgKHRjLT5saW5rLmJhc2UubnVtX2xhbmVzID09IDIpCj4gIAkJ
ZHBfcGh5X2N0cmwgfD0gUEhZXzJMQU5FOwo+IC0JdGNfd3JpdGUoRFBfUEhZX0NUUkwsIGRwX3Bo
eV9jdHJsKTsKPiArCj4gKwlyZXQgPSByZWdtYXBfd3JpdGUodGMtPnJlZ21hcCwgRFBfUEhZX0NU
UkwsIGRwX3BoeV9jdHJsKTsKPiArCWlmIChyZXQpCj4gKwkJcmV0dXJuIHJldDsKPiAgCj4gIAkv
KiBQTEwgc2V0dXAgKi8KPiAtCXRjX3dyaXRlKERQMF9QTExDVFJMLCBQTExVUERBVEUgfCBQTExF
Tik7Cj4gKwlyZXQgPSByZWdtYXBfd3JpdGUodGMtPnJlZ21hcCwgRFAwX1BMTENUUkwsIFBMTFVQ
REFURSB8IFBMTEVOKTsKPiArCWlmIChyZXQpCj4gKwkJcmV0dXJuIHJldDsKPiAgCXRjX3dhaXRf
cGxsX2xvY2sodGMpOwo+ICAKPiAtCXRjX3dyaXRlKERQMV9QTExDVFJMLCBQTExVUERBVEUgfCBQ
TExFTik7Cj4gKwlyZXQgPSByZWdtYXBfd3JpdGUodGMtPnJlZ21hcCwgRFAxX1BMTENUUkwsIFBM
TFVQREFURSB8IFBMTEVOKTsKPiArCWlmIChyZXQpCj4gKwkJcmV0dXJuIHJldDsKPiAgCXRjX3dh
aXRfcGxsX2xvY2sodGMpOwo+ICAKPiAgCS8qIFJlc2V0L0VuYWJsZSBNYWluIExpbmtzICovCj4g
IAlkcF9waHlfY3RybCB8PSBEUF9QSFlfUlNUIHwgUEhZX00xX1JTVCB8IFBIWV9NMF9SU1Q7Cj4g
LQl0Y193cml0ZShEUF9QSFlfQ1RSTCwgZHBfcGh5X2N0cmwpOwo+ICsJcmV0ID0gcmVnbWFwX3dy
aXRlKHRjLT5yZWdtYXAsIERQX1BIWV9DVFJMLCBkcF9waHlfY3RybCk7Cj4gIAl1c2xlZXBfcmFu
Z2UoMTAwLCAyMDApOwo+ICAJZHBfcGh5X2N0cmwgJj0gfihEUF9QSFlfUlNUIHwgUEhZX00xX1JT
VCB8IFBIWV9NMF9SU1QpOwo+IC0JdGNfd3JpdGUoRFBfUEhZX0NUUkwsIGRwX3BoeV9jdHJsKTsK
PiArCXJldCA9IHJlZ21hcF93cml0ZSh0Yy0+cmVnbWFwLCBEUF9QSFlfQ1RSTCwgZHBfcGh5X2N0
cmwpOwo+ICAKPiAgCXJldCA9IHRjX3BvbGxfdGltZW91dCh0YywgRFBfUEhZX0NUUkwsIFBIWV9S
RFksIFBIWV9SRFksIDEsIDEwMDApOwo+ICAJaWYgKHJldCkgewo+IEBAIC04ODcsNyArOTQ1LDcg
QEAgc3RhdGljIGludCB0Y19tYWluX2xpbmtfZW5hYmxlKHN0cnVjdCB0Y19kYXRhICp0YykKPiAg
CS8qIFNldCBtaXNjOiA4IGJpdHMgcGVyIGNvbG9yICovCj4gIAlyZXQgPSByZWdtYXBfdXBkYXRl
X2JpdHModGMtPnJlZ21hcCwgRFAwX01JU0MsIEJQQ184LCBCUENfOCk7Cj4gIAlpZiAocmV0KQo+
IC0JCWdvdG8gZXJyOwo+ICsJCXJldHVybiByZXQ7Cj4gIAo+ICAJLyoKPiAgCSAqIEFTU1IgbW9k
ZQo+IEBAIC05NDAsNTMgKzk5OCw3MSBAQCBzdGF0aWMgaW50IHRjX21haW5fbGlua19lbmFibGUo
c3RydWN0IHRjX2RhdGEgKnRjKQo+ICAJLyogQ2xvY2stUmVjb3ZlcnkgKi8KPiAgCj4gIAkvKiBT
ZXQgRFBDRCAweDEwMiBmb3IgVHJhaW5pbmcgUGF0dGVybiAxICovCj4gLQl0Y193cml0ZShEUDBf
U05LTFRDVFJMLCBEUF9MSU5LX1NDUkFNQkxJTkdfRElTQUJMRSB8Cj4gLQkJIERQX1RSQUlOSU5H
X1BBVFRFUk5fMSk7Cj4gKwlyZXQgPSByZWdtYXBfd3JpdGUodGMtPnJlZ21hcCwgRFAwX1NOS0xU
Q1RSTCwKPiArCQkJICAgRFBfTElOS19TQ1JBTUJMSU5HX0RJU0FCTEUgfAo+ICsJCQkgICBEUF9U
UkFJTklOR19QQVRURVJOXzEpOwo+ICsJaWYgKHJldCkKPiArCQlyZXR1cm4gcmV0Owo+ICAKPiAt
CXRjX3dyaXRlKERQMF9MVExPT1BDVFJMLAo+IC0JCSAoMTUgPDwgMjgpIHwJLyogRGVmZXIgSXRl
cmF0aW9uIENvdW50ICovCj4gLQkJICgxNSA8PCAyNCkgfAkvKiBMb29wIEl0ZXJhdGlvbiBDb3Vu
dCAqLwo+IC0JCSAoMHhkIDw8IDApKTsJLyogTG9vcCBUaW1lciBEZWxheSAqLwo+ICsJcmV0ID0g
cmVnbWFwX3dyaXRlKHRjLT5yZWdtYXAsIERQMF9MVExPT1BDVFJMLAo+ICsJCQkgICAoMTUgPDwg
MjgpIHwJLyogRGVmZXIgSXRlcmF0aW9uIENvdW50ICovCj4gKwkJCSAgICgxNSA8PCAyNCkgfAkv
KiBMb29wIEl0ZXJhdGlvbiBDb3VudCAqLwo+ICsJCQkgICAoMHhkIDw8IDApKTsJLyogTG9vcCBU
aW1lciBEZWxheSAqLwo+ICsJaWYgKHJldCkKPiArCQlyZXR1cm4gcmV0Owo+ICAKPiAtCXRjX3dy
aXRlKERQMF9TUkNDVFJMLCB0Y19zcmNjdHJsKHRjKSB8IERQMF9TUkNDVFJMX1NDUk1CTERJUyB8
Cj4gLQkJIERQMF9TUkNDVFJMX0FVVE9DT1JSRUNUIHwgRFAwX1NSQ0NUUkxfVFAxKTsKPiArCXJl
dCA9IHJlZ21hcF93cml0ZSh0Yy0+cmVnbWFwLCBEUDBfU1JDQ1RSTCwKPiArCQkJICAgdGNfc3Jj
Y3RybCh0YykgfCBEUDBfU1JDQ1RSTF9TQ1JNQkxESVMgfAo+ICsJCQkgICBEUDBfU1JDQ1RSTF9B
VVRPQ09SUkVDVCB8Cj4gKwkJCSAgIERQMF9TUkNDVFJMX1RQMSk7Cj4gKwlpZiAocmV0KQo+ICsJ
CXJldHVybiByZXQ7Cj4gIAo+ICAJLyogRW5hYmxlIERQMCB0byBzdGFydCBMaW5rIFRyYWluaW5n
ICovCj4gLQl0Y193cml0ZShEUDBDVEwsCj4gLQkJICgodGMtPmxpbmsuYmFzZS5jYXBhYmlsaXRp
ZXMgJiBEUF9MSU5LX0NBUF9FTkhBTkNFRF9GUkFNSU5HKSA/IEVGX0VOIDogMCkgfAo+IC0JCSBE
UF9FTik7Cj4gKwlyZXQgPSByZWdtYXBfd3JpdGUodGMtPnJlZ21hcCwgRFAwQ1RMLAo+ICsJCQkg
ICAoKHRjLT5saW5rLmJhc2UuY2FwYWJpbGl0aWVzICYKPiArCQkJICAgICBEUF9MSU5LX0NBUF9F
TkhBTkNFRF9GUkFNSU5HKSA/IEVGX0VOIDogMCkgfAo+ICsJCQkgICBEUF9FTik7Cj4gKwlpZiAo
cmV0KQo+ICsJCXJldHVybiByZXQ7Cj4gIAo+ICAJLyogd2FpdCAqLwo+ICsKPiAgCXJldCA9IHRj
X3dhaXRfbGlua190cmFpbmluZyh0Yyk7Cj4gIAlpZiAocmV0IDwgMCkKPiAtCQlnb3RvIGVycjsK
PiArCQlyZXR1cm4gcmV0Owo+ICAKPiAgCWlmIChyZXQpIHsKPiAgCQlkZXZfZXJyKHRjLT5kZXYs
ICJMaW5rIHRyYWluaW5nIHBoYXNlIDEgZmFpbGVkOiAlc1xuIiwKPiAgCQkJdHJhaW5pbmdfcGF0
dGVybjFfZXJyb3JzW3JldF0pOwo+IC0JCXJldCA9IC1FTk9ERVY7Cj4gLQkJZ290byBlcnI7Cj4g
KwkJcmV0dXJuIC1FTk9ERVY7Cj4gIAl9Cj4gIAo+ICAJLyogQ2hhbm5lbCBFcXVhbGl6YXRpb24g
Ki8KPiAgCj4gIAkvKiBTZXQgRFBDRCAweDEwMiBmb3IgVHJhaW5pbmcgUGF0dGVybiAyICovCj4g
LQl0Y193cml0ZShEUDBfU05LTFRDVFJMLCBEUF9MSU5LX1NDUkFNQkxJTkdfRElTQUJMRSB8Cj4g
LQkJIERQX1RSQUlOSU5HX1BBVFRFUk5fMik7Cj4gKwlyZXQgPSByZWdtYXBfd3JpdGUodGMtPnJl
Z21hcCwgRFAwX1NOS0xUQ1RSTCwKPiArCQkJICAgRFBfTElOS19TQ1JBTUJMSU5HX0RJU0FCTEUg
fAo+ICsJCQkgICBEUF9UUkFJTklOR19QQVRURVJOXzIpOwo+ICsJaWYgKHJldCkKPiArCQlyZXR1
cm4gcmV0Owo+ICAKPiAtCXRjX3dyaXRlKERQMF9TUkNDVFJMLCB0Y19zcmNjdHJsKHRjKSB8IERQ
MF9TUkNDVFJMX1NDUk1CTERJUyB8Cj4gLQkJIERQMF9TUkNDVFJMX0FVVE9DT1JSRUNUIHwgRFAw
X1NSQ0NUUkxfVFAyKTsKPiArCXJldCA9IHJlZ21hcF93cml0ZSh0Yy0+cmVnbWFwLCBEUDBfU1JD
Q1RSTCwKPiArCQkJICAgdGNfc3JjY3RybCh0YykgfCBEUDBfU1JDQ1RSTF9TQ1JNQkxESVMgfAo+
ICsJCQkgICBEUDBfU1JDQ1RSTF9BVVRPQ09SUkVDVCB8Cj4gKwkJCSAgIERQMF9TUkNDVFJMX1RQ
Mik7Cj4gKwlpZiAocmV0KQo+ICsJCXJldHVybiByZXQ7Cj4gIAo+ICAJLyogd2FpdCAqLwo+ICAJ
cmV0ID0gdGNfd2FpdF9saW5rX3RyYWluaW5nKHRjKTsKPiAgCWlmIChyZXQgPCAwKQo+IC0JCWdv
dG8gZXJyOwo+ICsJCXJldHVybiByZXQ7Cj4gIAo+ICAJaWYgKHJldCkgewo+ICAJCWRldl9lcnIo
dGMtPmRldiwgIkxpbmsgdHJhaW5pbmcgcGhhc2UgMiBmYWlsZWQ6ICVzXG4iLAo+ICAJCQl0cmFp
bmluZ19wYXR0ZXJuMl9lcnJvcnNbcmV0XSk7Cj4gLQkJcmV0ID0gLUVOT0RFVjsKPiAtCQlnb3Rv
IGVycjsKPiArCQlyZXR1cm4gLUVOT0RFVjsKPiAgCX0KPiAgCj4gIAkvKgo+IEBAIC05OTksNyAr
MTA3NSwxMCBAQCBzdGF0aWMgaW50IHRjX21haW5fbGlua19lbmFibGUoc3RydWN0IHRjX2RhdGEg
KnRjKQo+ICAJICovCj4gIAo+ICAJLyogQ2xlYXIgVHJhaW5pbmcgUGF0dGVybiwgc2V0IEF1dG9D
b3JyZWN0IE1vZGUgPSAxICovCj4gLQl0Y193cml0ZShEUDBfU1JDQ1RSTCwgdGNfc3JjY3RybCh0
YykgfCBEUDBfU1JDQ1RSTF9BVVRPQ09SUkVDVCk7Cj4gKwlyZXQgPSByZWdtYXBfd3JpdGUodGMt
PnJlZ21hcCwgRFAwX1NSQ0NUUkwsIHRjX3NyY2N0cmwodGMpIHwKPiArCQkJICAgRFAwX1NSQ0NU
UkxfQVVUT0NPUlJFQ1QpOwo+ICsJaWYgKHJldCkKPiArCQlyZXR1cm4gcmV0Owo+ICAKPiAgCS8q
IENsZWFyIERQQ0QgMHgxMDIgKi8KPiAgCS8qIE5vdGU6IENhbiBOb3QgdXNlIERQMF9TTktMVENU
UkwgKDB4MDZFNCkgc2hvcnQgY3V0ICovCj4gQEAgLTEwNDMsNyArMTEyMiw3IEBAIHN0YXRpYyBp
bnQgdGNfbWFpbl9saW5rX2VuYWJsZShzdHJ1Y3QgdGNfZGF0YSAqdGMpCj4gIAkJZGV2X2Vycihk
ZXYsICIweDAyMDUgU0lOS19TVEFUVVM6ICAgICAgICAgICAgICAgMHglMDJ4XG4iLCB0bXBbM10p
Owo+ICAJCWRldl9lcnIoZGV2LCAiMHgwMjA2IEFESlVTVF9SRVFVRVNUX0xBTkUwXzE6ICAgIDB4
JTAyeFxuIiwgdG1wWzRdKTsKPiAgCQlkZXZfZXJyKGRldiwgIjB4MDIwNyBBREpVU1RfUkVRVUVT
VF9MQU5FMl8zOiAgICAweCUwMnhcbiIsIHRtcFs1XSk7Cj4gLQkJZ290byBlcnI7Cj4gKwkJcmV0
dXJuIHJldDsKPiAgCX0KPiAgCj4gIAlyZXR1cm4gMDsKPiBAQCAtMTA1Miw3ICsxMTMxLDYgQEAg
c3RhdGljIGludCB0Y19tYWluX2xpbmtfZW5hYmxlKHN0cnVjdCB0Y19kYXRhICp0YykKPiAgCXJl
dHVybiByZXQ7Cj4gIGVycl9kcGNkX3dyaXRlOgo+ICAJZGV2X2Vycih0Yy0+ZGV2LCAiRmFpbGVk
IHRvIHdyaXRlIERQQ0Q6ICVkXG4iLCByZXQpOwo+IC1lcnI6Cj4gIAlyZXR1cm4gcmV0Owo+ICB9
Cj4gIAo+IEBAIC0xMDYyLDEyICsxMTQwLDExIEBAIHN0YXRpYyBpbnQgdGNfbWFpbl9saW5rX2Rp
c2FibGUoc3RydWN0IHRjX2RhdGEgKnRjKQo+ICAKPiAgCWRldl9kYmcodGMtPmRldiwgImxpbmsg
ZGlzYWJsZVxuIik7Cj4gIAo+IC0JdGNfd3JpdGUoRFAwX1NSQ0NUUkwsIDApOwo+IC0JdGNfd3Jp
dGUoRFAwQ1RMLCAwKTsKPiArCXJldCA9IHJlZ21hcF93cml0ZSh0Yy0+cmVnbWFwLCBEUDBfU1JD
Q1RSTCwgMCk7Cj4gKwlpZiAocmV0KQo+ICsJCXJldHVybiByZXQ7Cj4gIAo+IC0JcmV0dXJuIDA7
Cj4gLWVycjoKPiAtCXJldHVybiByZXQ7Cj4gKwlyZXR1cm4gcmVnbWFwX3dyaXRlKHRjLT5yZWdt
YXAsIERQMENUTCwgMCk7Cj4gIH0KPiAgCj4gIHN0YXRpYyBpbnQgdGNfc3RyZWFtX2VuYWJsZShz
dHJ1Y3QgdGNfZGF0YSAqdGMpCj4gQEAgLTEwODIsNyArMTE1OSw3IEBAIHN0YXRpYyBpbnQgdGNf
c3RyZWFtX2VuYWJsZShzdHJ1Y3QgdGNfZGF0YSAqdGMpCj4gIAkJcmV0ID0gdGNfcHhsX3BsbF9l
bih0YywgY2xrX2dldF9yYXRlKHRjLT5yZWZjbGspLAo+ICAJCQkJICAgIDEwMDAgKiB0Yy0+bW9k
ZS5jbG9jayk7Cj4gIAkJaWYgKHJldCkKPiAtCQkJZ290byBlcnI7Cj4gKwkJCXJldHVybiByZXQ7
Cj4gIAl9Cj4gIAo+ICAJcmV0ID0gdGNfc2V0X3ZpZGVvX21vZGUodGMsICZ0Yy0+bW9kZSk7Cj4g
QEAgLTEwOTcsNyArMTE3NCw5IEBAIHN0YXRpYyBpbnQgdGNfc3RyZWFtX2VuYWJsZShzdHJ1Y3Qg
dGNfZGF0YSAqdGMpCj4gIAl2YWx1ZSA9IFZJRF9NTl9HRU4gfCBEUF9FTjsKPiAgCWlmICh0Yy0+
bGluay5iYXNlLmNhcGFiaWxpdGllcyAmIERQX0xJTktfQ0FQX0VOSEFOQ0VEX0ZSQU1JTkcpCj4g
IAkJdmFsdWUgfD0gRUZfRU47Cj4gLQl0Y193cml0ZShEUDBDVEwsIHZhbHVlKTsKPiArCXJldCA9
IHJlZ21hcF93cml0ZSh0Yy0+cmVnbWFwLCBEUDBDVEwsIHZhbHVlKTsKPiArCWlmIChyZXQpCj4g
KwkJcmV0dXJuIHJldDsKPiAgCS8qCj4gIAkgKiBWSURfRU4gYXNzZXJ0aW9uIHNob3VsZCBiZSBk
ZWxheWVkIGJ5IGF0IGxlYXN0IE4gKiBMU0NMSwo+ICAJICogY3ljbGVzIGZyb20gdGhlIHRpbWUg
VklEX01OX0dFTiBpcyBlbmFibGVkIGluIG9yZGVyIHRvCj4gQEAgLTExMDcsMzYgKzExODYsMzUg
QEAgc3RhdGljIGludCB0Y19zdHJlYW1fZW5hYmxlKHN0cnVjdCB0Y19kYXRhICp0YykKPiAgCSAq
Lwo+ICAJdXNsZWVwX3JhbmdlKDUwMCwgMTAwMCk7Cj4gIAl2YWx1ZSB8PSBWSURfRU47Cj4gLQl0
Y193cml0ZShEUDBDVEwsIHZhbHVlKTsKPiArCXJldCA9IHJlZ21hcF93cml0ZSh0Yy0+cmVnbWFw
LCBEUDBDVEwsIHZhbHVlKTsKPiArCWlmIChyZXQpCj4gKwkJcmV0dXJuIHJldDsKPiAgCS8qIFNl
dCBpbnB1dCBpbnRlcmZhY2UgKi8KPiAgCXZhbHVlID0gRFAwX0FVRFNSQ19OT19JTlBVVDsKPiAg
CWlmICh0Y190ZXN0X3BhdHRlcm4pCj4gIAkJdmFsdWUgfD0gRFAwX1ZJRFNSQ19DT0xPUl9CQVI7
Cj4gIAllbHNlCj4gIAkJdmFsdWUgfD0gRFAwX1ZJRFNSQ19EUElfUlg7Cj4gLQl0Y193cml0ZShT
WVNDVFJMLCB2YWx1ZSk7Cj4gKwlyZXQgPSByZWdtYXBfd3JpdGUodGMtPnJlZ21hcCwgU1lTQ1RS
TCwgdmFsdWUpOwo+ICsJaWYgKHJldCkKPiArCQlyZXR1cm4gcmV0Owo+ICAKPiAgCXJldHVybiAw
Owo+IC1lcnI6Cj4gLQlyZXR1cm4gcmV0Owo+ICB9Cj4gIAo+ICBzdGF0aWMgaW50IHRjX3N0cmVh
bV9kaXNhYmxlKHN0cnVjdCB0Y19kYXRhICp0YykKPiAgewo+ICAJaW50IHJldDsKPiAtCXUzMiB2
YWw7Cj4gIAo+ICAJZGV2X2RiZyh0Yy0+ZGV2LCAiZGlzYWJsZSB2aWRlbyBzdHJlYW1cbiIpOwo+
ICAKPiAtCXRjX3JlYWQoRFAwQ1RMLCAmdmFsKTsKPiAtCXZhbCAmPSB+VklEX0VOOwo+IC0JdGNf
d3JpdGUoRFAwQ1RMLCB2YWwpOwo+ICsJcmV0ID0gcmVnbWFwX3VwZGF0ZV9iaXRzKHRjLT5yZWdt
YXAsIERQMENUTCwgVklEX0VOLCAwKTsKPiArCWlmIChyZXQpCj4gKwkJcmV0dXJuIHJldDsKPiAg
Cj4gIAl0Y19weGxfcGxsX2Rpcyh0Yyk7Cj4gIAo+ICAJcmV0dXJuIDA7Cj4gLWVycjoKPiAtCXJl
dHVybiByZXQ7Cj4gIH0KPiAgCj4gIHN0YXRpYyB2b2lkIHRjX2JyaWRnZV9wcmVfZW5hYmxlKHN0
cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UpCj4gQEAgLTEzMjgsNyArMTQwNiw5IEBAIHN0YXRpYyBl
bnVtIGRybV9jb25uZWN0b3Jfc3RhdHVzIHRjX2Nvbm5lY3Rvcl9kZXRlY3Qoc3RydWN0IGRybV9j
b25uZWN0b3IgKmNvbm5lCj4gIAkJCXJldHVybiBjb25uZWN0b3Jfc3RhdHVzX3Vua25vd247Cj4g
IAl9Cj4gIAo+IC0JdGNfcmVhZChHUElPSSwgJnZhbCk7Cj4gKwlyZXQgPSByZWdtYXBfcmVhZCh0
Yy0+cmVnbWFwLCBHUElPSSwgJnZhbCk7Cj4gKwlpZiAocmV0KQo+ICsJCXJldHVybiBjb25uZWN0
b3Jfc3RhdHVzX3Vua25vd247Cj4gIAo+ICAJY29ubiA9IHZhbCAmIEJJVCh0Yy0+aHBkX3Bpbik7
Cj4gIAo+IEBAIC0xMzM2LDkgKzE0MTYsNiBAQCBzdGF0aWMgZW51bSBkcm1fY29ubmVjdG9yX3N0
YXR1cyB0Y19jb25uZWN0b3JfZGV0ZWN0KHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZQo+ICAJ
CXJldHVybiBjb25uZWN0b3Jfc3RhdHVzX2Nvbm5lY3RlZDsKPiAgCWVsc2UKPiAgCQlyZXR1cm4g
Y29ubmVjdG9yX3N0YXR1c19kaXNjb25uZWN0ZWQ7Cj4gLQo+IC1lcnI6Cj4gLQlyZXR1cm4gY29u
bmVjdG9yX3N0YXR1c191bmtub3duOwo+ICB9Cj4gIAo+ICBzdGF0aWMgY29uc3Qgc3RydWN0IGRy
bV9jb25uZWN0b3JfZnVuY3MgdGNfY29ubmVjdG9yX2Z1bmNzID0gewoKCl9fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QK
ZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9w
Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
