Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 3C91417385
	for <lists+dri-devel@lfdr.de>; Wed,  8 May 2019 10:18:20 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 515E989700;
	Wed,  8 May 2019 08:18:10 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga05.intel.com (mga05.intel.com [192.55.52.43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 4895B8970E;
 Wed,  8 May 2019 08:18:09 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga001.fm.intel.com ([10.253.24.23])
 by fmsmga105.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 08 May 2019 01:18:09 -0700
X-ExtLoop1: 1
Received: from helsinki.fi.intel.com ([10.237.66.174])
 by fmsmga001.fm.intel.com with ESMTP; 08 May 2019 01:18:07 -0700
From: Gwan-gyeong Mun <gwan-gyeong.mun@intel.com>
To: intel-gfx@lists.freedesktop.org
Subject: [PATCH v6 5/6] drm/i915/dp: Change a link bandwidth computation for DP
Date: Wed,  8 May 2019 11:17:56 +0300
Message-Id: <20190508081757.28042-6-gwan-gyeong.mun@intel.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190508081757.28042-1-gwan-gyeong.mun@intel.com>
References: <20190508081757.28042-1-gwan-gyeong.mun@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RGF0YSBNL04gY2FsY3VsYXRpb25zIHdlcmUgYXNzdW1lZCBhIGJwcCBhcyBSR0IgZm9ybWF0LiBC
dXQgd2hlbiB3ZSBhcmUKdXNpbmcgWUNiQ3IgNDoyOjAgb3V0cHV0IGZvcm1hdCBvbiBEUCwgd2Ug
c2hvdWxkIGNoYW5nZSBicHAgY2FsY3VsYXRpb25zCmFzIFlDYkNyIDQ6MjowIGZvcm1hdC4gVGhl
IHBpcGVfYnBwIHZhbHVlIHdhcyBhc3N1bWVkIFJHQiBmb3JtYXQsCnRoZXJlZm9yZSwgaXQgd2Fz
IG11bHRpcGxpZWQgd2l0aCAzLiBCdXQgWUNiQ3IgNDoyOjAgcmVxdWlyZXMgYSBtdWx0aXBsaWVy
CnZhbHVlIHRvIDEuNS4KVGhlcmVmb3JlIHdlIG5lZWQgdG8gZGl2aWRlIHBpcGVfYnBwIHRvIDIg
d2hpbGUgRFAgb3V0cHV0IHVzZXMgWUNiQ3I0OjI6MApmb3JtYXQuCiAtIFJHQiBmb3JtYXQgYnBw
ID0gYnBjIHggMwogLSBZQ2JDciA0OjI6MCBmb3JtYXQgYnBwID0gYnBjIHggMS41CgpCdXQgTGlu
ayBNL04gdmFsdWVzIGFyZSBjYWxjdWxhdGVkIGFuZCBhcHBsaWVkIGJhc2VkIG9uIHRoZSBGdWxs
IENsb2NrIGZvcgpZQ2JDciA0OjI6MC4gQW5kIERQIFlDYkNyIDQ6MjowIGRvZXMgbm90IG5lZWQg
dG8gcGl4ZWwgY2xvY2sgZG91YmxlIGZvcgphIGRvdGNsb2NrIGNhbHVhdGlvbi4gT25seSBmb3Ig
SERNSSBZQ2JDciA0OjI6MCBuZWVkcyB0byBwaXhlbCBjbG9jayBkb3VibGUKZm9yIGEgZG90IGNs
b2NrIGNhbGN1bGF0aW9uLgoKQW5kIGl0IGFkZHMgbWlzc2VkIGJwYyB2YWx1ZXMgZm9yIGEgcHJv
Z3JhbW1pbmcgb2YgVlNDIEhlYWRlci4KSXQgb25seSBhZmZlY3RzIGRwIGFuZCBlZHAgcG9ydCB3
aGljaCB1c2UgWUNiQ3IgNDoyOjAgb3V0cHV0IGZvcm1hdC4KQW5kIGZvciBub3csIGl0IGRvZXMg
bm90IGNvbnNpZGVyIGEgdXNlIGNhc2Ugb2YgRFNDICsgWUNiQ3IgNDoyOjAuCgp2MjoKICBBZGRy
ZXNzZWQgcmV2aWV3IGNvbW1lbnRzIGZyb20gVmlsbGUuCiAgUmVtb3ZlIGEgY2hhbmdpbmcgb2Yg
cGlwZV9icHAgb24gaW50ZWxfZGRpX3NldF9waXBlX3NldHRpbmdzKCkuCiAgQmVjYXVzZSB0aGUg
cGlwZSBpcyBydW5uaW5nIGF0IHRoZSBmdWxsIGJwcCwga2VlcCBwaXBlX2JwcCBhcyBSR0IKICBl
dmVuIHRob3VnaCBZQ2JDciA0OjI6MCBvdXRwdXQgZm9ybWF0IGlzIHVzZWQuCiAgQWRkIGEgbGlu
ayBiYW5kd2lkdGggY29tcHV0YXRpb24gZm9yIFlDYkNyNDoyOjAgb3V0cHV0IGZvcm1hdC4KCnYz
OgogIEFkZHJlc3NlZCByZWl2ZXcgY29tbWVudHMgZnJvbSBWaWxsZS4KICBJbiBvcmRlciB0byBt
YWtlIGNvZGVzIHNpbXBsZSwgaXQgYWRkcyBhbmQgdXNlcyBpbnRlbF9kcF9vdXRwdXRfYnBwKCkK
ICBmdW5jdGlvbi4KCnY2OgogIExpbmsgTS9OIHZhbHVlcyBhcmUgY2FsY3VsYXRlZCBhbmQgYXBw
bGllZCBiYXNlZCBvbiB0aGUgRnVsbCBDbG9jayBmb3IKICBZQ2JDcjQyMC4gVGhlIEJpdCBwZXIg
UGl4ZWwgbmVlZHMgdG8gYmUgYWRqdXN0ZWQgZm9yIFlVVjQyMCBtb2RlIGFzIGl0CiAgcmVxdWly
ZXMgb25seSBoYWxmIG9mIHRoZSBSR0IgY2FzZS4KICAgIC0gTGluayBNL04gdmFsdWVzIGFyZSBj
YWxjdWxhdGVkIGFuZCBhcHBsaWVkIGJhc2VkIG9uIHRoZSBGdWxsIENsb2NrCiAgICAtIERhdGEg
TS9OIHZhbHVlcyBuZWVkcyB0byBiZSBjYWxjdWxhdGVkIGNvbnNpZGVyaW5nIHRoZSBkYXRhIGlz
IGhhbGYKICAgICAgZHVlIHRvIHN1YnNhbXBsaW5nCiAgUmVtb3ZlIGEgZG91Ymxpbmcgb2YgcGl4
ZWwgY2xvY2sgb24gYSBkb3QgY2xvY2sgY2FsY3VsYXRvciBmb3IKICBEUCBZQ2JDciA0OjI6MC4K
ICBSZWJhc2UgYW5kIHJlbW92ZSBhIGR1cGxpY2F0ZSBzZXR0aW5nIG9mIHZzY19zZHAuREIxNy4K
ICBBZGQgYSBzZXR0aW5nIG9mIGR5bmFtaWMgcmFuZ2UgYml0IHRvICB2c2Nfc2RwLkRCMTcuCiAg
Q2hhbmdlIENvbnRlbnQgVHlwZSBiaXQgdG8gIkdyYXBoaWNzIiBmcm9tICJOb3QgZGVmaW5lZCIu
CiAgQ2hhbmdlIGEgZGl2aWRpbmcgb2YgcGlwZV9icHAgdG8gbXVsaXBseWluZyB0byBjb25zdGFu
dCB2YWx1ZXMgb24gYQogIHN3aXRjaC1jYXNlIHN0YXRlbWVudC4KCkNjOiBWaWxsZSBTeXJqw6Rs
w6QgPHZpbGxlLnN5cmphbGFAbGludXguaW50ZWwuY29tPgpTaWduZWQtb2ZmLWJ5OiBHd2FuLWd5
ZW9uZyBNdW4gPGd3YW4tZ3llb25nLm11bkBpbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJt
L2k5MTUvaW50ZWxfZGRpLmMgfCAgMyArKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2Rw
LmMgIHwgNDIgKysrKysrKysrKysrKysrKysrKysrKysrKysrKystLS0KIDIgZmlsZXMgY2hhbmdl
ZCwgNDEgaW5zZXJ0aW9ucygrKSwgNCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pbnRlbF9kZGkuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2Rk
aS5jCmluZGV4IDQ0NDFjNWJhNzFmYi4uZTIyYTA4OThiOTU3IDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pbnRlbF9kZGkuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRl
bF9kZGkuYwpAQCAtMTQ1Nyw3ICsxNDU3LDggQEAgc3RhdGljIHZvaWQgZGRpX2RvdGNsb2NrX2dl
dChzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqcGlwZV9jb25maWcpCiAJZWxzZQogCQlkb3RjbG9j
ayA9IHBpcGVfY29uZmlnLT5wb3J0X2Nsb2NrOwogCi0JaWYgKHBpcGVfY29uZmlnLT5vdXRwdXRf
Zm9ybWF0ID09IElOVEVMX09VVFBVVF9GT1JNQVRfWUNCQ1I0MjApCisJaWYgKHBpcGVfY29uZmln
LT5vdXRwdXRfZm9ybWF0ID09IElOVEVMX09VVFBVVF9GT1JNQVRfWUNCQ1I0MjAgJiYKKwkgICAg
IWludGVsX2NydGNfaGFzX2RwX2VuY29kZXIocGlwZV9jb25maWcpKQogCQlkb3RjbG9jayAqPSAy
OwogCiAJaWYgKHBpcGVfY29uZmlnLT5waXhlbF9tdWx0aXBsaWVyKQpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZHAuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVs
X2RwLmMKaW5kZXggNzRhYWQ4ODMwYTgwLi5jNzVlMmJiZTYxMmEgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2ludGVsX2RwLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50
ZWxfZHAuYwpAQCAtMTg0Miw2ICsxODQyLDE5IEBAIGludGVsX2RwX2FkanVzdF9jb21wbGlhbmNl
X2NvbmZpZyhzdHJ1Y3QgaW50ZWxfZHAgKmludGVsX2RwLAogCX0KIH0KIAorc3RhdGljIGludCBp
bnRlbF9kcF9vdXRwdXRfYnBwKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0
YXRlLCBpbnQgYnBwKQoreworCS8qCisJICogYnBwIHZhbHVlIHdhcyBhc3N1bWVkIHRvIFJHQiBm
b3JtYXQuIEFuZCBZQ2JDciA0OjI6MCBvdXRwdXQKKwkgKiBmb3JtYXQgb2YgdGhlIG51bWJlciBv
ZiBieXRlcyBwZXIgcGl4ZWwgd2lsbCBiZSBoYWxmIHRoZSBudW1iZXIKKwkgKiBvZiBieXRlcyBv
ZiBSR0IgcGl4ZWwuCisJICovCisJaWYgKGNydGNfc3RhdGUtPm91dHB1dF9mb3JtYXQgPT0gSU5U
RUxfT1VUUFVUX0ZPUk1BVF9ZQ0JDUjQyMCkKKwkJYnBwIC89IDI7CisKKwlyZXR1cm4gYnBwOwor
fQorCiAvKiBPcHRpbWl6ZSBsaW5rIGNvbmZpZyBpbiBvcmRlcjogbWF4IGJwcCwgbWluIGNsb2Nr
LCBtaW4gbGFuZXMgKi8KIHN0YXRpYyBpbnQKIGludGVsX2RwX2NvbXB1dGVfbGlua19jb25maWdf
d2lkZShzdHJ1Y3QgaW50ZWxfZHAgKmludGVsX2RwLApAQCAtMjIxMiw3ICsyMjI1LDcgQEAgaW50
ZWxfZHBfY29tcHV0ZV9jb25maWcoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCiAJaWYg
KHBpcGVfY29uZmlnLT5kc2NfcGFyYW1zLmNvbXByZXNzaW9uX2VuYWJsZSkKIAkJb3V0cHV0X2Jw
cCA9IHBpcGVfY29uZmlnLT5kc2NfcGFyYW1zLmNvbXByZXNzZWRfYnBwOwogCWVsc2UKLQkJb3V0
cHV0X2JwcCA9IHBpcGVfY29uZmlnLT5waXBlX2JwcDsKKwkJb3V0cHV0X2JwcCA9IGludGVsX2Rw
X291dHB1dF9icHAocGlwZV9jb25maWcsIHBpcGVfY29uZmlnLT5waXBlX2JwcCk7CiAKIAlpbnRl
bF9saW5rX2NvbXB1dGVfbV9uKG91dHB1dF9icHAsCiAJCQkgICAgICAgcGlwZV9jb25maWctPmxh
bmVfY291bnQsCkBAIC00NDM5LDcgKzQ0NTIsMzAgQEAgaW50ZWxfcGl4ZWxfZW5jb2Rpbmdfc2V0
dXBfdnNjKHN0cnVjdCBpbnRlbF9kcCAqaW50ZWxfZHAsCiAJICogMDExYiA9IDEyYnBjLgogCSAq
IDEwMGIgPSAxNmJwYy4KIAkgKi8KLQl2c2Nfc2RwLkRCMTcgPSAweDE7CisJc3dpdGNoIChjcnRj
X3N0YXRlLT5waXBlX2JwcCkgeworCWNhc2UgMjQ6IC8qIDhicGMgKi8KKwkJdnNjX3NkcC5EQjE3
ID0gMHgxOworCQlicmVhazsKKwljYXNlIDMwOiAvKiAxMGJwYyAqLworCQl2c2Nfc2RwLkRCMTcg
PSAweDI7CisJCWJyZWFrOworCWNhc2UgMzY6IC8qIDEyYnBjICovCisJCXZzY19zZHAuREIxNyA9
IDB4MzsKKwkJYnJlYWs7CisJY2FzZSA0ODogLyogMTZicGMgKi8KKwkJdnNjX3NkcC5EQjE3ID0g
MHg0OworCQlicmVhazsKKwlkZWZhdWx0OgorCQlEUk1fREVCVUdfS01TKCJJbnZhbGlkIGJwcCB2
YWx1ZSAnJWQnXG4iLCBjcnRjX3N0YXRlLT5waXBlX2JwcCk7CisJCWJyZWFrOworCX0KKworCS8q
CisJICogRHluYW1pYyBSYW5nZSAoQml0IDcpCisJICogMCA9IFZFU0EgcmFuZ2UsIDEgPSBDVEEg
cmFuZ2UuCisJICogYWxsIFlDYkNyIGFyZSBhbHdheXMgbGltaXRlZCByYW5nZQorCSAqLworCXZz
Y19zZHAuREIxNyB8PSAweDgwOwogCiAJLyoKIAkgKiBDb250ZW50IFR5cGUgKEJpdHMgMjowKQpA
QCAtNDQ1Miw3ICs0NDg4LDcgQEAgaW50ZWxfcGl4ZWxfZW5jb2Rpbmdfc2V0dXBfdnNjKHN0cnVj
dCBpbnRlbF9kcCAqaW50ZWxfZHAsCiAJICogTm90ZTogU2VlIENUQS04NjEtRyBmb3IgdGhlIGRl
ZmluaXRpb24gYW5kIGV4cGVjdGVkCiAJICogcHJvY2Vzc2luZyBieSBhIHN0cmVhbSBzaW5rIGZv
ciB0aGUgYWJvdmUgY29udGVjdCB0eXBlcy4KIAkgKi8KLQl2c2Nfc2RwLkRCMTggPSAwOworCXZz
Y19zZHAuREIxOCA9IDB4MTsKIAogCWludGVsX2RpZ19wb3J0LT53cml0ZV9pbmZvZnJhbWUoJmlu
dGVsX2RpZ19wb3J0LT5iYXNlLAogCQkJY3J0Y19zdGF0ZSwgRFBfU0RQX1ZTQywgJnZzY19zZHAs
IHNpemVvZih2c2Nfc2RwKSk7Ci0tIAoyLjIxLjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxp
c3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFu
L2xpc3RpbmZvL2RyaS1kZXZlbA==
