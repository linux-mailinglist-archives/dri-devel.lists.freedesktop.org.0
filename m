Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A3FC4115C86
	for <lists+dri-devel@lfdr.de>; Sat,  7 Dec 2019 15:04:29 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 759706E184;
	Sat,  7 Dec 2019 14:04:27 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-lf1-x143.google.com (mail-lf1-x143.google.com
 [IPv6:2a00:1450:4864:20::143])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E612E6E184
 for <dri-devel@lists.freedesktop.org>; Sat,  7 Dec 2019 14:04:24 +0000 (UTC)
Received: by mail-lf1-x143.google.com with SMTP id n12so7423926lfe.3
 for <dri-devel@lists.freedesktop.org>; Sat, 07 Dec 2019 06:04:24 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:sender:from:to:cc:subject:date:message-id
 :in-reply-to:references:mime-version:content-transfer-encoding;
 bh=gR58eaxcFb3u7zE/4U+FDGi+VP78py5ZvZcYPjpTaLg=;
 b=XwCK4rDjs09/SffGuAp2ORdnXmvaMigD7+ElD8IZB/ezx8xjC9rwwDulS8ZtupeOW0
 Hqr5Cfsf1Y2eHOqnUqE9+fDYJqu4micdHFFBLf+42F5wgng/wYphwlNIaqORpf1czNxF
 5XrNfqohXKLqtTh5H/4irLLvNCoxK7tmNJttU3n7rDJozVUWvDm1FURgMo/RrLxh91fV
 8oMZg66LA8mslFFSzrDuJk6jcLjyWwn1Y9P3mqcryQXsT5NGFOUjNXeokGnTYC0INN0/
 fR9uQDrHfq9CW+kKlWu/qnUXbuGvAzEPhzEKPF7SRE+kghDEDeOyq4e6Ivc1U2hWdAGh
 nbWw==
X-Gm-Message-State: APjAAAVsjpLGJm9aIJxUNCG05BNRNNghbVws85DrPZbRqLe14PGN5Crf
 /QM8OGersxWumzq3u3ijvFXaBBrkxcqwSA==
X-Google-Smtp-Source: APXvYqxZY73th5LcErkHNXbzH/+aHgH0/rMHu4A2zTaRLwpzTcNza+wlKndhP+9CbNuVwMShjcPeYQ==
X-Received: by 2002:a19:f00d:: with SMTP id p13mr11187974lfc.37.1575727462835; 
 Sat, 07 Dec 2019 06:04:22 -0800 (PST)
Received: from saturn.lan (18.158-248-194.customer.lyse.net. [158.248.194.18])
 by smtp.gmail.com with ESMTPSA id
 w17sm5644188lfn.22.2019.12.07.06.04.21
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Sat, 07 Dec 2019 06:04:22 -0800 (PST)
From: Sam Ravnborg <sam@ravnborg.org>
To: dri-devel@lists.freedesktop.org, Thierry Reding <thierry.reding@gmail.com>,
 Laurent Pinchart <laurent.pinchart@ideasonboard.com>,
 Linus Walleij <linus.walleij@linaro.org>, Sam Ravnborg <sam@ravnborg.org>
Subject: [PATCH v2 07/25] drm/panel: drop drm_device from drm_panel
Date: Sat,  7 Dec 2019 15:03:35 +0100
Message-Id: <20191207140353.23967-8-sam@ravnborg.org>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20191207140353.23967-1-sam@ravnborg.org>
References: <20191207140353.23967-1-sam@ravnborg.org>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=sender:from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=gR58eaxcFb3u7zE/4U+FDGi+VP78py5ZvZcYPjpTaLg=;
 b=sllq2ePXGGvjQGN9sJ6Cexg0SaBMhcQyKWuGqbUKfu5i/AsW9wfqVSLH03+bAebhHA
 NGPvT4RTeDLTrm57YuqVu0LR4pz4GedOlER7XMq1kx/ag5KvZimKe/EuP+OSxsAICImH
 CiNp5PLXC3lCRPEe8QVI/hzLC3ik3IUhYuism86Iuv4eogkqHGZOFRQd5b0n5d+VPwLC
 Or2RM3/6xqC4DoWTpz7AaifnUNT8T0LVKWhydoH5tYv4IFQeULxB8gDH92a44WBzEIdF
 BlEDE6bCZuuqIUfVE3Jf3p2eBrafb+LGNp4jr3/6E398r87FMr1mlGO+dkkIxKdO7IsC
 2k6g==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Neil Armstrong <narmstrong@baylibre.com>, David Airlie <airlied@linux.ie>,
 =?UTF-8?q?Guido=20G=C3=BCnther?= <agx@sigxcpu.org>,
 Laurent Pinchart <Laurent.pinchart@ideasonboard.com>,
 linux-samsung-soc@vger.kernel.org, Stefan Mavrodiev <stefan@olimex.com>,
 linux-rockchip@lists.infradead.org, Tomi Valkeinen <tomi.valkeinen@ti.com>,
 Jagan Teki <jagan@amarulasolutions.com>, Robert Chiras <robert.chiras@nxp.com>,
 NXP Linux Team <linux-imx@nxp.com>, Jitao Shi <jitao.shi@mediatek.com>,
 Pengutronix Kernel Team <kernel@pengutronix.de>,
 linux-mediatek@lists.infradead.org, Abhinav Kumar <abhinavk@codeaurora.org>,
 linux-tegra@vger.kernel.org, Sean Paul <sean@poorly.run>,
 linux-arm-kernel@lists.infradead.org, Purism Kernel Team <kernel@puri.sm>,
 linux-renesas-soc@vger.kernel.org,
 Boris Brezillon <boris.brezillon@collabora.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIHBhbmVsIGRyaXZlcnMgdXNlZCBkcm1fcGFuZWwuZHJtIGZvciB0d28gcHVycG9zZXM6CjEp
IEFyZ3VtZW50IHRvIGRybV9tb2RlX2R1cGxpY2F0ZSgpCjIpIGRybS0+ZGV2IHdhcyB1c2VkIGlu
IGVycm9yIG1lc3NhZ2VzCgpUaGUgZmlyc3QgdXNhZ2UgaXMgcmVwbGFjZWQgd2l0aCBkcm1fY29u
bmVjdG9yLmRldgotIGRybV9jb25uZWN0b3IgaXMgYWxyZWFkeSBjb25uZWN0ZWQgdG8gYSBkcm1f
ZGV2aWNlCiAgYW5kIHdlIGhhdmUgYSB2YWxpZCBjb25uZWN0b3IKClRoZSBzZWNvbmQgdXNhZ2Ug
aXMgcmVwbGFjZWQgd2l0aCBkcm1fcGFuZWwuZGV2Ci0gdGhpcyBtYWtlcyBkcml2ZXJzIG1vcmUg
Y29uc2lzdGVudCBpbiB0aGVpciBkZXYgYXJndW1lbnQKICB1c2VkIGZvciBkZXZfZXJyKCkgYW5k
IGZyaWVuZHMKCldpdGggdGhlc2UgcmVwbGFjZW1lbnRzIHRoZXJlIGFyZSBubyBtb3JlIHVzZXMg
b2YgZHJtX3BhbmVsLmRybSwKc28gaXQgaXMgcmVtb3ZlZCBmcm9tIHN0cnVjdCBkcm1fcGFuZWwu
CldpdGggdGhpcyBjaGFuZ2UgZHJtX3BhbmVsX2F0dGFjaCgpIGFuZCBkcm1fcGFuZWxfZGV0YWNo
KCkKbm8gbG9uZ2VyIGhhdmUgYW55IHVzZSBhcyB0aGV5IGFyZSBlbXB0eSBmdW5jdGlvbnMuCgp2
MjoKICAtIGVkaXRvcmlhbCBjb3JyZWN0aW9uIGluIGNoYW5nZWxvZyAoTGF1cmVudCkKClNpZ25l
ZC1vZmYtYnk6IFNhbSBSYXZuYm9yZyA8c2FtQHJhdm5ib3JnLm9yZz4KUmV2aWV3ZWQtYnk6IExh
dXJlbnQgUGluY2hhcnQgPGxhdXJlbnQucGluY2hhcnRAaWRlYXNvbmJvYXJkLmNvbT4KUmV2aWV3
ZWQtYnk6IExpbnVzIFdhbGxlaWogPGxpbnVzLndhbGxlaWpAbGluYXJvLm9yZz4KQ2M6IFRoaWVy
cnkgUmVkaW5nIDx0aGllcnJ5LnJlZGluZ0BnbWFpbC5jb20+CkNjOiBMYXVyZW50IFBpbmNoYXJ0
IDxMYXVyZW50LnBpbmNoYXJ0QGlkZWFzb25ib2FyZC5jb20+CkNjOiBTYW0gUmF2bmJvcmcgPHNh
bUByYXZuYm9yZy5vcmc+CkNjOiBNYWFydGVuIExhbmtob3JzdCA8bWFhcnRlbi5sYW5raG9yc3RA
bGludXguaW50ZWwuY29tPgpDYzogTWF4aW1lIFJpcGFyZCA8bXJpcGFyZEBrZXJuZWwub3JnPgpD
YzogRGF2aWQgQWlybGllIDxhaXJsaWVkQGxpbnV4LmllPgpDYzogRGFuaWVsIFZldHRlciA8ZGFu
aWVsQGZmd2xsLmNoPgpDYzogTGludXMgV2FsbGVpaiA8bGludXMud2FsbGVpakBsaW5hcm8ub3Jn
PgpDYzogSmFnYW4gVGVraSA8amFnYW5AYW1hcnVsYXNvbHV0aW9ucy5jb20+CkNjOiBTdGVmYW4g
TWF2cm9kaWV2IDxzdGVmYW5Ab2xpbWV4LmNvbT4KQ2M6IFJvYmVydCBDaGlyYXMgPHJvYmVydC5j
aGlyYXNAbnhwLmNvbT4KQ2M6ICJHdWlkbyBHw7xudGhlciIgPGFneEBzaWd4Y3B1Lm9yZz4KQ2M6
IFB1cmlzbSBLZXJuZWwgVGVhbSA8a2VybmVsQHB1cmkuc20+Ci0tLQogZHJpdmVycy9ncHUvZHJt
L2RybV9wYW5lbC5jICAgICAgICAgICAgICAgICAgICAgICB8ICA2IC0tLS0tLQogZHJpdmVycy9n
cHUvZHJtL3BhbmVsL3BhbmVsLWFybS12ZXJzYXRpbGUuYyAgICAgICB8ICAyICstCiAuLi4vZ3B1
L2RybS9wYW5lbC9wYW5lbC1mZWl5YW5nLWZ5MDcwMjRkaTI2YTMwZC5jIHwgIDIgKy0KIGRyaXZl
cnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1pbGl0ZWstaWxpOTMyMi5jICAgICAgfCAxNSArKysrKysr
Ky0tLS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1pbGl0ZWstaWxpOTg4MWMuYyAg
ICAgfCAgMiArLQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWlubm9sdXgtcDA3OXpjYS5j
ICAgICB8ICA2ICsrKy0tLQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWpkaS1sdDA3MG1l
MDUwMDAuYyAgICB8ICAyICstCiAuLi4vZ3B1L2RybS9wYW5lbC9wYW5lbC1raW5nZGlzcGxheS1r
ZDA5N2QwNC5jICAgIHwgIDYgKysrLS0tCiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtbGct
bGIwMzVxMDIuYyAgICAgICAgIHwgIDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1s
Zy1sZzQ1NzMuYyAgICAgICAgICAgfCAgNCArKy0tCiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFu
ZWwtbHZkcy5jICAgICAgICAgICAgICAgIHwgIDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9w
YW5lbC1uZWMtbmw4MDQ4aGwxMS5jICAgICAgfCAgMiArLQogZHJpdmVycy9ncHUvZHJtL3BhbmVs
L3BhbmVsLW5vdmF0ZWstbnQzOTAxNi5jICAgICB8ICAyICstCiAuLi4vZ3B1L2RybS9wYW5lbC9w
YW5lbC1vbGltZXgtbGNkLW9saW51eGluby5jICAgIHwgIDUgKystLS0KIGRyaXZlcnMvZ3B1L2Ry
bS9wYW5lbC9wYW5lbC1vcmlzZXRlY2gtb3RtODAwOWEuYyAgfCAgMiArLQogLi4uL2dwdS9kcm0v
cGFuZWwvcGFuZWwtb3NkLW9zZDEwMXQyNTg3LTUzdHMuYyAgICB8ICA0ICsrLS0KIC4uLi9ncHUv
ZHJtL3BhbmVsL3BhbmVsLXBhbmFzb25pYy12dngxMGYwMzRuMDAuYyAgfCAgNCArKy0tCiAuLi4v
Z3B1L2RybS9wYW5lbC9wYW5lbC1yYXNwYmVycnlwaS10b3VjaHNjcmVlbi5jIHwgIDUgKystLS0K
IGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yYXlkaXVtLXJtNjcxOTEuYyAgICAgfCAgMiAr
LQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJheWRpdW0tcm02ODIwMC5jICAgICB8ICAy
ICstCiAuLi4vZ3B1L2RybS9wYW5lbC9wYW5lbC1yb2NrdGVjaC1qaDA1N24wMDkwMC5jICAgIHwg
IDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yb25iby1yYjA3MGQzMC5jICAgICAg
fCAgMiArLQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZkMTZkMC5jICAg
ICB8ICAyICstCiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ftc3VuZy1zNmUzaGEyLmMg
ICAgIHwgIDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZTYzajB4
MDMuYyAgfCAgMiArLQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZlNjNt
MC5jICAgICB8ICAyICstCiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Vpa28tNDN3dmYx
Zy5jICAgICAgIHwgIDkgKysrKy0tLS0tCiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2hh
cnAtbHExMDFyMXN4MDEuYyAgIHwgIDQgKystLQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVs
LXNoYXJwLWxzMDM3djdkdzAxLmMgICB8ICAyICstCiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFu
ZWwtc2hhcnAtbHMwNDN0MWxlMDEuYyAgIHwgIDQgKystLQogZHJpdmVycy9ncHUvZHJtL3BhbmVs
L3BhbmVsLXNpbXBsZS5jICAgICAgICAgICAgICB8IDE1ICsrKysrKy0tLS0tLS0tLQogZHJpdmVy
cy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNpdHJvbml4LXN0NzcwMS5jICAgICB8ICAyICstCiBkcml2
ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2l0cm9uaXgtc3Q3Nzg5di5jICAgIHwgIDQgKystLQog
ZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNvbnktYWN4NTY1YWttLmMgICAgICB8ICAyICst
CiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtdHBvLXRkMDI4dHRlYzEuYyAgICAgIHwgIDIg
Ky0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC10cG8tdGQwNDNtdGVhMS5jICAgICAgfCAg
MiArLQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXRwby10cGcxMTAuYyAgICAgICAgICB8
ICAyICstCiBpbmNsdWRlL2RybS9kcm1fcGFuZWwuaCAgICAgICAgICAgICAgICAgICAgICAgICAg
IHwgIDcgLS0tLS0tLQogMzggZmlsZXMgY2hhbmdlZCwgNjMgaW5zZXJ0aW9ucygrKSwgODEgZGVs
ZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2RybV9wYW5lbC5jIGIvZHJp
dmVycy9ncHUvZHJtL2RybV9wYW5lbC5jCmluZGV4IDNkYWViZjU2ZGM0NC4uOTkzZTQwYzBkNTgy
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vZHJtX3BhbmVsLmMKKysrIGIvZHJpdmVycy9n
cHUvZHJtL2RybV9wYW5lbC5jCkBAIC0xMTQsMTEgKzExNCw2IEBAIEVYUE9SVF9TWU1CT0woZHJt
X3BhbmVsX3JlbW92ZSk7CiAgKi8KIGludCBkcm1fcGFuZWxfYXR0YWNoKHN0cnVjdCBkcm1fcGFu
ZWwgKnBhbmVsLCBzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogewotCWlmIChwYW5l
bC0+ZHJtKQotCQlyZXR1cm4gLUVCVVNZOwotCi0JcGFuZWwtPmRybSA9IGNvbm5lY3Rvci0+ZGV2
OwotCiAJcmV0dXJuIDA7CiB9CiBFWFBPUlRfU1lNQk9MKGRybV9wYW5lbF9hdHRhY2gpOwpAQCAt
MTM1LDcgKzEzMCw2IEBAIEVYUE9SVF9TWU1CT0woZHJtX3BhbmVsX2F0dGFjaCk7CiAgKi8KIHZv
aWQgZHJtX3BhbmVsX2RldGFjaChzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKIHsKLQlwYW5lbC0+
ZHJtID0gTlVMTDsKIH0KIEVYUE9SVF9TWU1CT0woZHJtX3BhbmVsX2RldGFjaCk7CiAKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1hcm0tdmVyc2F0aWxlLmMgYi9kcml2
ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtYXJtLXZlcnNhdGlsZS5jCmluZGV4IDQxYWE5MWY2MDk3
OS4uNDE0NDRhNzNjOTgwIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwt
YXJtLXZlcnNhdGlsZS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1hcm0tdmVy
c2F0aWxlLmMKQEAgLTI3MCw3ICsyNzAsNyBAQCBzdGF0aWMgaW50IHZlcnNhdGlsZV9wYW5lbF9n
ZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCiAJY29ubmVjdG9yLT5kaXNwbGF5X2lu
Zm8uaGVpZ2h0X21tID0gdnBhbmVsLT5wYW5lbF90eXBlLT5oZWlnaHRfbW07CiAJY29ubmVjdG9y
LT5kaXNwbGF5X2luZm8uYnVzX2ZsYWdzID0gdnBhbmVsLT5wYW5lbF90eXBlLT5idXNfZmxhZ3M7
CiAKLQltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKHBhbmVsLT5kcm0sICZ2cGFuZWwtPnBhbmVs
X3R5cGUtPm1vZGUpOworCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUoY29ubmVjdG9yLT5kZXYs
ICZ2cGFuZWwtPnBhbmVsX3R5cGUtPm1vZGUpOwogCWRybV9tb2RlX3NldF9uYW1lKG1vZGUpOwog
CW1vZGUtPnR5cGUgPSBEUk1fTU9ERV9UWVBFX0RSSVZFUiB8IERSTV9NT0RFX1RZUEVfUFJFRkVS
UkVEOwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtZmVpeWFuZy1m
eTA3MDI0ZGkyNmEzMGQuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1mZWl5YW5nLWZ5
MDcwMjRkaTI2YTMwZC5jCmluZGV4IDM3ZDZiNzM5MDk1NC4uMDE1N2QxODQ0ZTNlIDEwMDY0NAot
LS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtZmVpeWFuZy1meTA3MDI0ZGkyNmEzMGQu
YworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtZmVpeWFuZy1meTA3MDI0ZGkyNmEz
MGQuYwpAQCAtMTY4LDcgKzE2OCw3IEBAIHN0YXRpYyBpbnQgZmVpeWFuZ19nZXRfbW9kZXMoc3Ry
dWN0IGRybV9wYW5lbCAqcGFuZWwsCiAJc3RydWN0IGZlaXlhbmcgKmN0eCA9IHBhbmVsX3RvX2Zl
aXlhbmcocGFuZWwpOwogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCi0JbW9kZSA9
IGRybV9tb2RlX2R1cGxpY2F0ZShwYW5lbC0+ZHJtLCAmZmVpeWFuZ19kZWZhdWx0X21vZGUpOwor
CW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUoY29ubmVjdG9yLT5kZXYsICZmZWl5YW5nX2RlZmF1
bHRfbW9kZSk7CiAJaWYgKCFtb2RlKSB7CiAJCURSTV9ERVZfRVJST1IoJmN0eC0+ZHNpLT5kZXYs
ICJmYWlsZWQgdG8gYWRkIG1vZGUgJXV4JXV4QCV1XG4iLAogCQkJICAgICAgZmVpeWFuZ19kZWZh
dWx0X21vZGUuaGRpc3BsYXksCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFu
ZWwtaWxpdGVrLWlsaTkzMjIuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1pbGl0ZWst
aWxpOTMyMi5jCmluZGV4IDdlNTA2MmIwN2FjOC4uZjM5NGQ1M2E3ZGE0IDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtaWxpdGVrLWlsaTkzMjIuYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vcGFuZWwvcGFuZWwtaWxpdGVrLWlsaTkzMjIuYwpAQCAtNjQ1LDYgKzY0NSw3IEBA
IHN0YXRpYyBpbnQgaWxpOTMyMl9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCiAJ
CQkgICAgIHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCiB7CiAJc3RydWN0IGlsaTkz
MjIgKmlsaSA9IHBhbmVsX3RvX2lsaTkzMjIocGFuZWwpOworCXN0cnVjdCBkcm1fZGV2aWNlICpk
cm0gPSBjb25uZWN0b3ItPmRldjsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAlz
dHJ1Y3QgZHJtX2Rpc3BsYXlfaW5mbyAqaW5mbzsKIApAQCAtNjYzLDI2ICs2NjQsMjYgQEAgc3Rh
dGljIGludCBpbGk5MzIyX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCwKIAogCXN3
aXRjaCAoaWxpLT5pbnB1dCkgewogCWNhc2UgSUxJOTMyMl9JTlBVVF9TUkdCX0RVTU1ZXzMyMFgy
NDA6Ci0JCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUocGFuZWwtPmRybSwgJnNyZ2JfMzIweDI0
MF9tb2RlKTsKKwkJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShkcm0sICZzcmdiXzMyMHgyNDBf
bW9kZSk7CiAJCWJyZWFrOwogCWNhc2UgSUxJOTMyMl9JTlBVVF9TUkdCX0RVTU1ZXzM2MFgyNDA6
Ci0JCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUocGFuZWwtPmRybSwgJnNyZ2JfMzYweDI0MF9t
b2RlKTsKKwkJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShkcm0sICZzcmdiXzM2MHgyNDBfbW9k
ZSk7CiAJCWJyZWFrOwogCWNhc2UgSUxJOTMyMl9JTlBVVF9QUkdCX1RIUk9VR0g6CiAJY2FzZSBJ
TEk5MzIyX0lOUFVUX1BSR0JfQUxJR05FRDoKLQkJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShw
YW5lbC0+ZHJtLCAmcHJnYl8zMjB4MjQwX21vZGUpOworCQltb2RlID0gZHJtX21vZGVfZHVwbGlj
YXRlKGRybSwgJnByZ2JfMzIweDI0MF9tb2RlKTsKIAkJYnJlYWs7CiAJY2FzZSBJTEk5MzIyX0lO
UFVUX1lVVl82NDBYMzIwX1lDQkNSOgotCQltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKHBhbmVs
LT5kcm0sICZ5dXZfNjQweDMyMF9tb2RlKTsKKwkJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShk
cm0sICZ5dXZfNjQweDMyMF9tb2RlKTsKIAkJYnJlYWs7CiAJY2FzZSBJTEk5MzIyX0lOUFVUX1lV
Vl83MjBYMzYwX1lDQkNSOgotCQltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKHBhbmVsLT5kcm0s
ICZ5dXZfNzIweDM2MF9tb2RlKTsKKwkJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShkcm0sICZ5
dXZfNzIweDM2MF9tb2RlKTsKIAkJYnJlYWs7CiAJY2FzZSBJTEk5MzIyX0lOUFVUX0lUVV9SX0JU
NjU2XzcyMFgzNjBfWUNCQ1I6Ci0JCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUocGFuZWwtPmRy
bSwgJml0dV9yX2J0XzY1Nl83MjBfbW9kZSk7CisJCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUo
ZHJtLCAmaXR1X3JfYnRfNjU2XzcyMF9tb2RlKTsKIAkJYnJlYWs7CiAJY2FzZSBJTEk5MzIyX0lO
UFVUX0lUVV9SX0JUNjU2XzY0MFgzMjBfWUNCQ1I6Ci0JCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNh
dGUocGFuZWwtPmRybSwgJml0dV9yX2J0XzY1Nl82NDBfbW9kZSk7CisJCW1vZGUgPSBkcm1fbW9k
ZV9kdXBsaWNhdGUoZHJtLCAmaXR1X3JfYnRfNjU2XzY0MF9tb2RlKTsKIAkJYnJlYWs7CiAJZGVm
YXVsdDoKIAkJbW9kZSA9IE5VTEw7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwv
cGFuZWwtaWxpdGVrLWlsaTk4ODFjLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtaWxp
dGVrLWlsaTk4ODFjLmMKaW5kZXggMWM2N2E2NjhkNmJmLi4zMWU1YTRlNjc3NTAgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1pbGl0ZWstaWxpOTg4MWMuYworKysgYi9k
cml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtaWxpdGVrLWlsaTk4ODFjLmMKQEAgLTM5Myw3ICsz
OTMsNyBAQCBzdGF0aWMgaW50IGlsaTk4ODFjX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpw
YW5lbCwKIAlzdHJ1Y3QgaWxpOTg4MWMgKmN0eCA9IHBhbmVsX3RvX2lsaTk4ODFjKHBhbmVsKTsK
IAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAotCW1vZGUgPSBkcm1fbW9kZV9kdXBs
aWNhdGUocGFuZWwtPmRybSwgJmJhbmFuYXBpX2RlZmF1bHRfbW9kZSk7CisJbW9kZSA9IGRybV9t
b2RlX2R1cGxpY2F0ZShjb25uZWN0b3ItPmRldiwgJmJhbmFuYXBpX2RlZmF1bHRfbW9kZSk7CiAJ
aWYgKCFtb2RlKSB7CiAJCWRldl9lcnIoJmN0eC0+ZHNpLT5kZXYsICJmYWlsZWQgdG8gYWRkIG1v
ZGUgJXV4JXV4QCV1XG4iLAogCQkJYmFuYW5hcGlfZGVmYXVsdF9tb2RlLmhkaXNwbGF5LApkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWlubm9sdXgtcDA3OXpjYS5jIGIv
ZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWlubm9sdXgtcDA3OXpjYS5jCmluZGV4IGZhY2Yx
YmFiMjUzMi4uYjlkZTM3YThhMGM1IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwv
cGFuZWwtaW5ub2x1eC1wMDc5emNhLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVs
LWlubm9sdXgtcDA3OXpjYS5jCkBAIC0yMTEsNyArMjExLDcgQEAgc3RhdGljIGludCBpbm5vbHV4
X3BhbmVsX2VuYWJsZShzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKIAogCXJldCA9IGJhY2tsaWdo
dF9lbmFibGUoaW5ub2x1eC0+YmFja2xpZ2h0KTsKIAlpZiAocmV0KSB7Ci0JCURSTV9ERVZfRVJS
T1IocGFuZWwtPmRybS0+ZGV2LAorCQlEUk1fREVWX0VSUk9SKHBhbmVsLT5kZXYsCiAJCQkgICAg
ICAiRmFpbGVkIHRvIGVuYWJsZSBiYWNrbGlnaHQgJWRcbiIsIHJldCk7CiAJCXJldHVybiByZXQ7
CiAJfQpAQCAtNDEwLDkgKzQxMCw5IEBAIHN0YXRpYyBpbnQgaW5ub2x1eF9wYW5lbF9nZXRfbW9k
ZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCiAJY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21v
ZGUgKm0gPSBpbm5vbHV4LT5kZXNjLT5tb2RlOwogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICpt
b2RlOwogCi0JbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShwYW5lbC0+ZHJtLCBtKTsKKwltb2Rl
ID0gZHJtX21vZGVfZHVwbGljYXRlKGNvbm5lY3Rvci0+ZGV2LCBtKTsKIAlpZiAoIW1vZGUpIHsK
LQkJRFJNX0RFVl9FUlJPUihwYW5lbC0+ZHJtLT5kZXYsICJmYWlsZWQgdG8gYWRkIG1vZGUgJXV4
JXV4QCV1XG4iLAorCQlEUk1fREVWX0VSUk9SKHBhbmVsLT5kZXYsICJmYWlsZWQgdG8gYWRkIG1v
ZGUgJXV4JXV4QCV1XG4iLAogCQkJICAgICAgbS0+aGRpc3BsYXksIG0tPnZkaXNwbGF5LCBtLT52
cmVmcmVzaCk7CiAJCXJldHVybiAtRU5PTUVNOwogCX0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9wYW5lbC9wYW5lbC1qZGktbHQwNzBtZTA1MDAwLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFu
ZWwvcGFuZWwtamRpLWx0MDcwbWUwNTAwMC5jCmluZGV4IGU2YjY1MGE2NGZkYi4uNGJmZDhjODc3
YzhlIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtamRpLWx0MDcwbWUw
NTAwMC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1qZGktbHQwNzBtZTA1MDAw
LmMKQEAgLTMwNyw3ICszMDcsNyBAQCBzdGF0aWMgaW50IGpkaV9wYW5lbF9nZXRfbW9kZXMoc3Ry
dWN0IGRybV9wYW5lbCAqcGFuZWwsCiAJc3RydWN0IGpkaV9wYW5lbCAqamRpID0gdG9famRpX3Bh
bmVsKHBhbmVsKTsKIAlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmamRpLT5kc2ktPmRldjsKIAotCW1v
ZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUocGFuZWwtPmRybSwgJmRlZmF1bHRfbW9kZSk7CisJbW9k
ZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShjb25uZWN0b3ItPmRldiwgJmRlZmF1bHRfbW9kZSk7CiAJ
aWYgKCFtb2RlKSB7CiAJCWRldl9lcnIoZGV2LCAiZmFpbGVkIHRvIGFkZCBtb2RlICV1eCV1eEAl
dVxuIiwKIAkJCWRlZmF1bHRfbW9kZS5oZGlzcGxheSwgZGVmYXVsdF9tb2RlLnZkaXNwbGF5LApk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWtpbmdkaXNwbGF5LWtkMDk3
ZDA0LmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwta2luZ2Rpc3BsYXkta2QwOTdkMDQu
YwppbmRleCBlNmY1M2Q1NmRhZjkuLjM1M2VlNmNhYTAxYyAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL3BhbmVsL3BhbmVsLWtpbmdkaXNwbGF5LWtkMDk3ZDA0LmMKKysrIGIvZHJpdmVycy9n
cHUvZHJtL3BhbmVsL3BhbmVsLWtpbmdkaXNwbGF5LWtkMDk3ZDA0LmMKQEAgLTMxMCw3ICszMTAs
NyBAQCBzdGF0aWMgaW50IGtpbmdkaXNwbGF5X3BhbmVsX2VuYWJsZShzdHJ1Y3QgZHJtX3BhbmVs
ICpwYW5lbCkKIAogCXJldCA9IGJhY2tsaWdodF9lbmFibGUoa2luZ2Rpc3BsYXktPmJhY2tsaWdo
dCk7CiAJaWYgKHJldCkgewotCQlEUk1fREVWX0VSUk9SKHBhbmVsLT5kcm0tPmRldiwKKwkJRFJN
X0RFVl9FUlJPUihwYW5lbC0+ZGV2LAogCQkJICAgICAgIkZhaWxlZCB0byBlbmFibGUgYmFja2xp
Z2h0ICVkXG4iLCByZXQpOwogCQlyZXR1cm4gcmV0OwogCX0KQEAgLTMzOCw5ICszMzgsOSBAQCBz
dGF0aWMgaW50IGtpbmdkaXNwbGF5X3BhbmVsX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpw
YW5lbCwKIHsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAotCW1vZGUgPSBkcm1f
bW9kZV9kdXBsaWNhdGUocGFuZWwtPmRybSwgJmRlZmF1bHRfbW9kZSk7CisJbW9kZSA9IGRybV9t
b2RlX2R1cGxpY2F0ZShjb25uZWN0b3ItPmRldiwgJmRlZmF1bHRfbW9kZSk7CiAJaWYgKCFtb2Rl
KSB7Ci0JCURSTV9ERVZfRVJST1IocGFuZWwtPmRybS0+ZGV2LCAiZmFpbGVkIHRvIGFkZCBtb2Rl
ICV1eCV1eEAldVxuIiwKKwkJRFJNX0RFVl9FUlJPUihwYW5lbC0+ZGV2LCAiZmFpbGVkIHRvIGFk
ZCBtb2RlICV1eCV1eEAldVxuIiwKIAkJCSAgICAgIGRlZmF1bHRfbW9kZS5oZGlzcGxheSwgZGVm
YXVsdF9tb2RlLnZkaXNwbGF5LAogCQkJICAgICAgZGVmYXVsdF9tb2RlLnZyZWZyZXNoKTsKIAkJ
cmV0dXJuIC1FTk9NRU07CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwt
bGctbGIwMzVxMDIuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1sZy1sYjAzNXEwMi5j
CmluZGV4IDdhM2JkNGQ4MGM3OS4uZTkwZWZlYWJhNGFkIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vcGFuZWwvcGFuZWwtbGctbGIwMzVxMDIuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFu
ZWwvcGFuZWwtbGctbGIwMzVxMDIuYwpAQCAtMTQ2LDcgKzE0Niw3IEBAIHN0YXRpYyBpbnQgbGIw
MzVxMDJfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsLAogewogCXN0cnVjdCBkcm1f
ZGlzcGxheV9tb2RlICptb2RlOwogCi0JbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShwYW5lbC0+
ZHJtLCAmbGIwMzVxMDJfbW9kZSk7CisJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShjb25uZWN0
b3ItPmRldiwgJmxiMDM1cTAyX21vZGUpOwogCWlmICghbW9kZSkKIAkJcmV0dXJuIC1FTk9NRU07
CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1sZy1sZzQ1NzMuYyBi
L2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1sZy1sZzQ1NzMuYwppbmRleCBmYzY1NzJiNGUy
ZjkuLjIwMjM1ZmYwYmJjNCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVs
LWxnLWxnNDU3My5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1sZy1sZzQ1NzMu
YwpAQCAtMjE0LDkgKzIxNCw5IEBAIHN0YXRpYyBpbnQgbGc0NTczX2dldF9tb2RlcyhzdHJ1Y3Qg
ZHJtX3BhbmVsICpwYW5lbCwKIHsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAot
CW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUocGFuZWwtPmRybSwgJmRlZmF1bHRfbW9kZSk7CisJ
bW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShjb25uZWN0b3ItPmRldiwgJmRlZmF1bHRfbW9kZSk7
CiAJaWYgKCFtb2RlKSB7Ci0JCWRldl9lcnIocGFuZWwtPmRybS0+ZGV2LCAiZmFpbGVkIHRvIGFk
ZCBtb2RlICV1eCV1eEAldVxuIiwKKwkJZGV2X2VycihwYW5lbC0+ZGV2LCAiZmFpbGVkIHRvIGFk
ZCBtb2RlICV1eCV1eEAldVxuIiwKIAkJCWRlZmF1bHRfbW9kZS5oZGlzcGxheSwgZGVmYXVsdF9t
b2RlLnZkaXNwbGF5LAogCQkJZGVmYXVsdF9tb2RlLnZyZWZyZXNoKTsKIAkJcmV0dXJuIC1FTk9N
RU07CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtbHZkcy5jIGIvZHJp
dmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWx2ZHMuYwppbmRleCBmNmQ1OGE2MGU1MTQuLjVlNDBi
Njc0YmIxNSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWx2ZHMuYwor
KysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtbHZkcy5jCkBAIC0xMTIsNyArMTEyLDcg
QEAgc3RhdGljIGludCBwYW5lbF9sdmRzX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5l
bCwKIAlzdHJ1Y3QgcGFuZWxfbHZkcyAqbHZkcyA9IHRvX3BhbmVsX2x2ZHMocGFuZWwpOwogCXN0
cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCi0JbW9kZSA9IGRybV9tb2RlX2NyZWF0ZShs
dmRzLT5wYW5lbC5kcm0pOworCW1vZGUgPSBkcm1fbW9kZV9jcmVhdGUoY29ubmVjdG9yLT5kZXYp
OwogCWlmICghbW9kZSkKIAkJcmV0dXJuIDA7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9wYW5lbC9wYW5lbC1uZWMtbmw4MDQ4aGwxMS5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3Bh
bmVsLW5lYy1ubDgwNDhobDExLmMKaW5kZXggYTZjY2RiMDlhYWNlLi5jNGY4M2Y2Mzg0ZTEgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1uZWMtbmw4MDQ4aGwxMS5jCisr
KyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1uZWMtbmw4MDQ4aGwxMS5jCkBAIC0xMjgs
NyArMTI4LDcgQEAgc3RhdGljIGludCBubDgwNDhfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwg
KnBhbmVsLAogewogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCi0JbW9kZSA9IGRy
bV9tb2RlX2R1cGxpY2F0ZShwYW5lbC0+ZHJtLCAmbmw4MDQ4X21vZGUpOworCW1vZGUgPSBkcm1f
bW9kZV9kdXBsaWNhdGUoY29ubmVjdG9yLT5kZXYsICZubDgwNDhfbW9kZSk7CiAJaWYgKCFtb2Rl
KQogCQlyZXR1cm4gLUVOT01FTTsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVs
L3BhbmVsLW5vdmF0ZWstbnQzOTAxNi5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW5v
dmF0ZWstbnQzOTAxNi5jCmluZGV4IDkxZWE0OWMwNTYxMS4uYTQ3MDgxMGY3ZGJlIDEwMDY0NAot
LS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtbm92YXRlay1udDM5MDE2LmMKKysrIGIv
ZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW5vdmF0ZWstbnQzOTAxNi5jCkBAIC0yMTMsNyAr
MjEzLDcgQEAgc3RhdGljIGludCBudDM5MDE2X2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpk
cm1fcGFuZWwsCiAJY29uc3Qgc3RydWN0IG50MzkwMTZfcGFuZWxfaW5mbyAqcGFuZWxfaW5mbyA9
IHBhbmVsLT5wYW5lbF9pbmZvOwogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCi0J
bW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShkcm1fcGFuZWwtPmRybSwgJnBhbmVsX2luZm8tPmRp
c3BsYXlfbW9kZSk7CisJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShjb25uZWN0b3ItPmRldiwg
JnBhbmVsX2luZm8tPmRpc3BsYXlfbW9kZSk7CiAJaWYgKCFtb2RlKQogCQlyZXR1cm4gLUVOT01F
TTsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW9saW1leC1sY2Qt
b2xpbnV4aW5vLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtb2xpbWV4LWxjZC1vbGlu
dXhpbm8uYwppbmRleCAyYjdlMGRmZWJjNWUuLmU1NTNlNTg0Mzk5YiAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW9saW1leC1sY2Qtb2xpbnV4aW5vLmMKKysrIGIvZHJp
dmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW9saW1leC1sY2Qtb2xpbnV4aW5vLmMKQEAgLTE0Niw3
ICsxNDYsNiBAQCBzdGF0aWMgaW50IGxjZF9vbGludXhpbm9fZ2V0X21vZGVzKHN0cnVjdCBkcm1f
cGFuZWwgKnBhbmVsLAogewogCXN0cnVjdCBsY2Rfb2xpbnV4aW5vICpsY2QgPSB0b19sY2Rfb2xp
bnV4aW5vKHBhbmVsKTsKIAlzdHJ1Y3QgbGNkX29saW51eGlub19pbmZvICpsY2RfaW5mbyA9ICZs
Y2QtPmVlcHJvbS5pbmZvOwotCXN0cnVjdCBkcm1fZGV2aWNlICpkcm0gPSBsY2QtPnBhbmVsLmRy
bTsKIAlzdHJ1Y3QgbGNkX29saW51eGlub19tb2RlICpsY2RfbW9kZTsKIAlzdHJ1Y3QgZHJtX2Rp
c3BsYXlfbW9kZSAqbW9kZTsKIAl1MzIgaSwgbnVtID0gMDsKQEAgLTE1NSw5ICsxNTQsOSBAQCBz
dGF0aWMgaW50IGxjZF9vbGludXhpbm9fZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVs
LAogCQlsY2RfbW9kZSA9IChzdHJ1Y3QgbGNkX29saW51eGlub19tb2RlICopCiAJCQkgICAmbGNk
LT5lZXByb20ucmVzZXJ2ZWRbaSAqIHNpemVvZigqbGNkX21vZGUpXTsKIAotCQltb2RlID0gZHJt
X21vZGVfY3JlYXRlKGRybSk7CisJCW1vZGUgPSBkcm1fbW9kZV9jcmVhdGUoY29ubmVjdG9yLT5k
ZXYpOwogCQlpZiAoIW1vZGUpIHsKLQkJCWRldl9lcnIoZHJtLT5kZXYsICJmYWlsZWQgdG8gYWRk
IG1vZGUgJXV4JXVAJXVcbiIsCisJCQlkZXZfZXJyKHBhbmVsLT5kZXYsICJmYWlsZWQgdG8gYWRk
IG1vZGUgJXV4JXVAJXVcbiIsCiAJCQkJbGNkX21vZGUtPmhhY3RpdmUsCiAJCQkJbGNkX21vZGUt
PnZhY3RpdmUsCiAJCQkJbGNkX21vZGUtPnJlZnJlc2gpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL3BhbmVsL3BhbmVsLW9yaXNldGVjaC1vdG04MDA5YS5jIGIvZHJpdmVycy9ncHUvZHJt
L3BhbmVsL3BhbmVsLW9yaXNldGVjaC1vdG04MDA5YS5jCmluZGV4IDRlMTYwNmM3OTA3Mi4uYmIw
Yzk5MjE3MWU4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtb3Jpc2V0
ZWNoLW90bTgwMDlhLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW9yaXNldGVj
aC1vdG04MDA5YS5jCkBAIC0zNTQsNyArMzU0LDcgQEAgc3RhdGljIGludCBvdG04MDA5YV9nZXRf
bW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCiB7CiAJc3RydWN0IGRybV9kaXNwbGF5X21v
ZGUgKm1vZGU7CiAKLQltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKHBhbmVsLT5kcm0sICZkZWZh
dWx0X21vZGUpOworCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUoY29ubmVjdG9yLT5kZXYsICZk
ZWZhdWx0X21vZGUpOwogCWlmICghbW9kZSkgewogCQlEUk1fRVJST1IoImZhaWxlZCB0byBhZGQg
bW9kZSAldXgldXhAJXVcbiIsCiAJCQkgIGRlZmF1bHRfbW9kZS5oZGlzcGxheSwgZGVmYXVsdF9t
b2RlLnZkaXNwbGF5LApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW9z
ZC1vc2QxMDF0MjU4Ny01M3RzLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtb3NkLW9z
ZDEwMXQyNTg3LTUzdHMuYwppbmRleCBiM2UwMTAyODhjMTAuLjI3MzRiNDgzNWRmYSAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW9zZC1vc2QxMDF0MjU4Ny01M3RzLmMK
KysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW9zZC1vc2QxMDF0MjU4Ny01M3RzLmMK
QEAgLTExOCw5ICsxMTgsOSBAQCBzdGF0aWMgaW50IG9zZDEwMXQyNTg3X3BhbmVsX2dldF9tb2Rl
cyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCwKIAlzdHJ1Y3Qgb3NkMTAxdDI1ODdfcGFuZWwgKm9z
ZDEwMXQyNTg3ID0gdGlfb3NkX3BhbmVsKHBhbmVsKTsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9k
ZSAqbW9kZTsKIAotCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUocGFuZWwtPmRybSwgb3NkMTAx
dDI1ODctPmRlZmF1bHRfbW9kZSk7CisJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShjb25uZWN0
b3ItPmRldiwgb3NkMTAxdDI1ODctPmRlZmF1bHRfbW9kZSk7CiAJaWYgKCFtb2RlKSB7Ci0JCWRl
dl9lcnIocGFuZWwtPmRybS0+ZGV2LCAiZmFpbGVkIHRvIGFkZCBtb2RlICV1eCV1eEAldVxuIiwK
KwkJZGV2X2VycihwYW5lbC0+ZGV2LCAiZmFpbGVkIHRvIGFkZCBtb2RlICV1eCV1eEAldVxuIiwK
IAkJCW9zZDEwMXQyNTg3LT5kZWZhdWx0X21vZGUtPmhkaXNwbGF5LAogCQkJb3NkMTAxdDI1ODct
PmRlZmF1bHRfbW9kZS0+dmRpc3BsYXksCiAJCQlvc2QxMDF0MjU4Ny0+ZGVmYXVsdF9tb2RlLT52
cmVmcmVzaCk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtcGFuYXNv
bmljLXZ2eDEwZjAzNG4wMC5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXBhbmFzb25p
Yy12dngxMGYwMzRuMDAuYwppbmRleCAxOWE2ZWI0NjM3YzguLjU3OWFjMGQ4NmVhNCAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXBhbmFzb25pYy12dngxMGYwMzRuMDAu
YworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtcGFuYXNvbmljLXZ2eDEwZjAzNG4w
MC5jCkBAIC0xNzEsOSArMTcxLDkgQEAgc3RhdGljIGludCB3dXhnYV9udF9wYW5lbF9nZXRfbW9k
ZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCiB7CiAJc3RydWN0IGRybV9kaXNwbGF5X21vZGUg
Km1vZGU7CiAKLQltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKHBhbmVsLT5kcm0sICZkZWZhdWx0
X21vZGUpOworCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUoY29ubmVjdG9yLT5kZXYsICZkZWZh
dWx0X21vZGUpOwogCWlmICghbW9kZSkgewotCQlkZXZfZXJyKHBhbmVsLT5kcm0tPmRldiwgImZh
aWxlZCB0byBhZGQgbW9kZSAldXgldXhAJXVcbiIsCisJCWRldl9lcnIocGFuZWwtPmRldiwgImZh
aWxlZCB0byBhZGQgbW9kZSAldXgldXhAJXVcbiIsCiAJCQkJZGVmYXVsdF9tb2RlLmhkaXNwbGF5
LCBkZWZhdWx0X21vZGUudmRpc3BsYXksCiAJCQkJZGVmYXVsdF9tb2RlLnZyZWZyZXNoKTsKIAkJ
cmV0dXJuIC1FTk9NRU07CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwt
cmFzcGJlcnJ5cGktdG91Y2hzY3JlZW4uYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1y
YXNwYmVycnlwaS10b3VjaHNjcmVlbi5jCmluZGV4IDBiOGNjMTk5YzhkMi4uOGYwNzhiN2RkODll
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtcmFzcGJlcnJ5cGktdG91
Y2hzY3JlZW4uYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtcmFzcGJlcnJ5cGkt
dG91Y2hzY3JlZW4uYwpAQCAtMzEyLDcgKzMxMiw2IEBAIHN0YXRpYyBpbnQgcnBpX3RvdWNoc2Ny
ZWVuX2VuYWJsZShzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKIHN0YXRpYyBpbnQgcnBpX3RvdWNo
c2NyZWVuX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCwKIAkJCQkgICAgIHN0cnVj
dCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCiB7Ci0Jc3RydWN0IGRybV9kZXZpY2UgKmRybSA9
IHBhbmVsLT5kcm07CiAJdW5zaWduZWQgaW50IGksIG51bSA9IDA7CiAJc3RhdGljIGNvbnN0IHUz
MiBidXNfZm9ybWF0ID0gTUVESUFfQlVTX0ZNVF9SR0I4ODhfMVgyNDsKIApAQCAtMzIwLDkgKzMx
OSw5IEBAIHN0YXRpYyBpbnQgcnBpX3RvdWNoc2NyZWVuX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3Bh
bmVsICpwYW5lbCwKIAkJY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm0gPSAmcnBpX3Rv
dWNoc2NyZWVuX21vZGVzW2ldOwogCQlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAot
CQltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKGRybSwgbSk7CisJCW1vZGUgPSBkcm1fbW9kZV9k
dXBsaWNhdGUoY29ubmVjdG9yLT5kZXYsIG0pOwogCQlpZiAoIW1vZGUpIHsKLQkJCWRldl9lcnIo
ZHJtLT5kZXYsICJmYWlsZWQgdG8gYWRkIG1vZGUgJXV4JXVAJXVcbiIsCisJCQlkZXZfZXJyKHBh
bmVsLT5kZXYsICJmYWlsZWQgdG8gYWRkIG1vZGUgJXV4JXVAJXVcbiIsCiAJCQkJbS0+aGRpc3Bs
YXksIG0tPnZkaXNwbGF5LCBtLT52cmVmcmVzaCk7CiAJCQljb250aW51ZTsKIAkJfQpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJheWRpdW0tcm02NzE5MS5jIGIvZHJp
dmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJheWRpdW0tcm02NzE5MS5jCmluZGV4IDEyM2JiNjhj
ZmNiNy4uMzEzNjM3ZDUzZDI4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFu
ZWwtcmF5ZGl1bS1ybTY3MTkxLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJh
eWRpdW0tcm02NzE5MS5jCkBAIC00NDEsNyArNDQxLDcgQEAgc3RhdGljIGludCByYWRfcGFuZWxf
Z2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsLAogewogCXN0cnVjdCBkcm1fZGlzcGxh
eV9tb2RlICptb2RlOwogCi0JbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShwYW5lbC0+ZHJtLCAm
ZGVmYXVsdF9tb2RlKTsKKwltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKGNvbm5lY3Rvci0+ZGV2
LCAmZGVmYXVsdF9tb2RlKTsKIAlpZiAoIW1vZGUpIHsKIAkJRFJNX0RFVl9FUlJPUihwYW5lbC0+
ZGV2LCAiZmFpbGVkIHRvIGFkZCBtb2RlICV1eCV1eEAldVxuIiwKIAkJCSAgICAgIGRlZmF1bHRf
bW9kZS5oZGlzcGxheSwgZGVmYXVsdF9tb2RlLnZkaXNwbGF5LApkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJheWRpdW0tcm02ODIwMC5jIGIvZHJpdmVycy9ncHUvZHJt
L3BhbmVsL3BhbmVsLXJheWRpdW0tcm02ODIwMC5jCmluZGV4IDY2ZmE5NzUzMDhlYy4uZDZhMDMz
MjhlNTk0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtcmF5ZGl1bS1y
bTY4MjAwLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJheWRpdW0tcm02ODIw
MC5jCkBAIC0zNDAsNyArMzQwLDcgQEAgc3RhdGljIGludCBybTY4MjAwX2dldF9tb2RlcyhzdHJ1
Y3QgZHJtX3BhbmVsICpwYW5lbCwKIHsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsK
IAotCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUocGFuZWwtPmRybSwgJmRlZmF1bHRfbW9kZSk7
CisJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShjb25uZWN0b3ItPmRldiwgJmRlZmF1bHRfbW9k
ZSk7CiAJaWYgKCFtb2RlKSB7CiAJCURSTV9FUlJPUigiZmFpbGVkIHRvIGFkZCBtb2RlICV1eCV1
eEAldVxuIiwKIAkJCSAgZGVmYXVsdF9tb2RlLmhkaXNwbGF5LCBkZWZhdWx0X21vZGUudmRpc3Bs
YXksCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtcm9ja3RlY2gtamgw
NTduMDA5MDAuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yb2NrdGVjaC1qaDA1N24w
MDkwMC5jCmluZGV4IGIyZDYxY2FiM2NhZC4uM2E0ZjFjMGZjZTg2IDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtcm9ja3RlY2gtamgwNTduMDA5MDAuYworKysgYi9kcml2
ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtcm9ja3RlY2gtamgwNTduMDA5MDAuYwpAQCAtMjM2LDcg
KzIzNiw3IEBAIHN0YXRpYyBpbnQgamgwNTduX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpw
YW5lbCwKIAlzdHJ1Y3QgamgwNTduICpjdHggPSBwYW5lbF90b19qaDA1N24ocGFuZWwpOwogCXN0
cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCi0JbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0
ZShwYW5lbC0+ZHJtLCAmZGVmYXVsdF9tb2RlKTsKKwltb2RlID0gZHJtX21vZGVfZHVwbGljYXRl
KGNvbm5lY3Rvci0+ZGV2LCAmZGVmYXVsdF9tb2RlKTsKIAlpZiAoIW1vZGUpIHsKIAkJRFJNX0RF
Vl9FUlJPUihjdHgtPmRldiwgIkZhaWxlZCB0byBhZGQgbW9kZSAldXgldUAldVxuIiwKIAkJCSAg
ICAgIGRlZmF1bHRfbW9kZS5oZGlzcGxheSwgZGVmYXVsdF9tb2RlLnZkaXNwbGF5LApkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJvbmJvLXJiMDcwZDMwLmMgYi9kcml2
ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtcm9uYm8tcmIwNzBkMzAuYwppbmRleCA1N2E0NjJjZTIy
MWUuLjc0NmEzYTIyMTEwMCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVs
LXJvbmJvLXJiMDcwZDMwLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJvbmJv
LXJiMDcwZDMwLmMKQEAgLTEyNyw3ICsxMjcsNyBAQCBzdGF0aWMgaW50IHJiMDcwZDMwX3BhbmVs
X2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCwKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlf
bW9kZSAqbW9kZTsKIAlzdGF0aWMgY29uc3QgdTMyIGJ1c19mb3JtYXQgPSBNRURJQV9CVVNfRk1U
X1JHQjg4OF8xWDI0OwogCi0JbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShwYW5lbC0+ZHJtLCAm
ZGVmYXVsdF9tb2RlKTsKKwltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKGNvbm5lY3Rvci0+ZGV2
LCAmZGVmYXVsdF9tb2RlKTsKIAlpZiAoIW1vZGUpIHsKIAkJRFJNX0RFVl9FUlJPUigmY3R4LT5k
c2ktPmRldiwKIAkJCSAgICAgICJGYWlsZWQgdG8gYWRkIG1vZGUgIiBEUk1fTU9ERV9GTVQgIlxu
IiwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZDE2
ZDAuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZDE2ZDAuYwppbmRl
eCA3MTkzOWFiNzU3YjEuLjIxNTAwNDNkY2Y2YiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L3BhbmVsL3BhbmVsLXNhbXN1bmctczZkMTZkMC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5l
bC9wYW5lbC1zYW1zdW5nLXM2ZDE2ZDAuYwpAQCAtMTQ4LDcgKzE0OCw3IEBAIHN0YXRpYyBpbnQg
czZkMTZkMF9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCiB7CiAJc3RydWN0IGRy
bV9kaXNwbGF5X21vZGUgKm1vZGU7CiAKLQltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKHBhbmVs
LT5kcm0sICZzYW1zdW5nX3M2ZDE2ZDBfbW9kZSk7CisJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0
ZShjb25uZWN0b3ItPmRldiwgJnNhbXN1bmdfczZkMTZkMF9tb2RlKTsKIAlpZiAoIW1vZGUpIHsK
IAkJRFJNX0VSUk9SKCJiYWQgbW9kZSBvciBmYWlsZWQgdG8gYWRkIG1vZGVcbiIpOwogCQlyZXR1
cm4gLUVJTlZBTDsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1z
dW5nLXM2ZTNoYTIuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZTNo
YTIuYwppbmRleCA4ZTAyMzZiYTYxNDUuLjM2ZWJkNWE0YWM3YiAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZlM2hhMi5jCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZTNoYTIuYwpAQCAtNjUxLDcgKzY1MSw3IEBAIHN0
YXRpYyBpbnQgczZlM2hhMl9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCiAJc3Ry
dWN0IHM2ZTNoYTIgKmN0eCA9IGNvbnRhaW5lcl9vZihwYW5lbCwgc3RydWN0IHM2ZTNoYTIsIHBh
bmVsKTsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAotCW1vZGUgPSBkcm1fbW9k
ZV9kdXBsaWNhdGUocGFuZWwtPmRybSwgY3R4LT5kZXNjLT5tb2RlKTsKKwltb2RlID0gZHJtX21v
ZGVfZHVwbGljYXRlKGNvbm5lY3Rvci0+ZGV2LCBjdHgtPmRlc2MtPm1vZGUpOwogCWlmICghbW9k
ZSkgewogCQlEUk1fRVJST1IoImZhaWxlZCB0byBhZGQgbW9kZSAldXgldXhAJXVcbiIsCiAJCQlj
dHgtPmRlc2MtPm1vZGUtPmhkaXNwbGF5LCBjdHgtPmRlc2MtPm1vZGUtPnZkaXNwbGF5LApkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZlNjNqMHgwMy5j
IGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZlNjNqMHgwMy5jCmluZGV4
IGM5MzlkNWJkZTRmMC4uYTM1NzBlMGE5MGE4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
cGFuZWwvcGFuZWwtc2Ftc3VuZy1zNmU2M2oweDAzLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3Bh
bmVsL3BhbmVsLXNhbXN1bmctczZlNjNqMHgwMy5jCkBAIC00MDUsNyArNDA1LDcgQEAgc3RhdGlj
IGludCBzNmU2M2oweDAzX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCwKIHsKIAlz
dHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAotCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNh
dGUocGFuZWwtPmRybSwgJmRlZmF1bHRfbW9kZSk7CisJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0
ZShjb25uZWN0b3ItPmRldiwgJmRlZmF1bHRfbW9kZSk7CiAJaWYgKCFtb2RlKSB7CiAJCURSTV9F
UlJPUigiZmFpbGVkIHRvIGFkZCBtb2RlICV1eCV1eEAldVxuIiwKIAkJCWRlZmF1bHRfbW9kZS5o
ZGlzcGxheSwgZGVmYXVsdF9tb2RlLnZkaXNwbGF5LApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZlNjNtMC5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVs
L3BhbmVsLXNhbXN1bmctczZlNjNtMC5jCmluZGV4IDFkMDk5MDkyZTc1NC4uYTVmNzZlYjRmYTI1
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ftc3VuZy1zNmU2M20w
LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZlNjNtMC5jCkBA
IC0zNjcsNyArMzY3LDcgQEAgc3RhdGljIGludCBzNmU2M20wX2dldF9tb2RlcyhzdHJ1Y3QgZHJt
X3BhbmVsICpwYW5lbCwKIHsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAotCW1v
ZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUocGFuZWwtPmRybSwgJmRlZmF1bHRfbW9kZSk7CisJbW9k
ZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShjb25uZWN0b3ItPmRldiwgJmRlZmF1bHRfbW9kZSk7CiAJ
aWYgKCFtb2RlKSB7CiAJCURSTV9FUlJPUigiZmFpbGVkIHRvIGFkZCBtb2RlICV1eCV1eEAldVxu
IiwKIAkJCSAgZGVmYXVsdF9tb2RlLmhkaXNwbGF5LCBkZWZhdWx0X21vZGUudmRpc3BsYXksCmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Vpa28tNDN3dmYxZy5jIGIv
ZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNlaWtvLTQzd3ZmMWcuYwppbmRleCBiODc4OTMw
YjE3ZTQuLjE4ZTc0NTEwNGFhZiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3Bh
bmVsLXNlaWtvLTQzd3ZmMWcuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Vp
a28tNDN3dmYxZy5jCkBAIC01OSw3ICs1OSw2IEBAIHN0YXRpYyBpbmxpbmUgc3RydWN0IHNlaWtv
X3BhbmVsICp0b19zZWlrb19wYW5lbChzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKIHN0YXRpYyBp
bnQgc2Vpa29fcGFuZWxfZ2V0X2ZpeGVkX21vZGVzKHN0cnVjdCBzZWlrb19wYW5lbCAqcGFuZWws
CiAJCQkJICAgICAgIHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCiB7Ci0Jc3RydWN0
IGRybV9kZXZpY2UgKmRybSA9IHBhbmVsLT5iYXNlLmRybTsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlf
bW9kZSAqbW9kZTsKIAl1bnNpZ25lZCBpbnQgaSwgbnVtID0gMDsKIApAQCAtNzEsOSArNzAsOSBA
QCBzdGF0aWMgaW50IHNlaWtvX3BhbmVsX2dldF9maXhlZF9tb2RlcyhzdHJ1Y3Qgc2Vpa29fcGFu
ZWwgKnBhbmVsLAogCQlzdHJ1Y3QgdmlkZW9tb2RlIHZtOwogCiAJCXZpZGVvbW9kZV9mcm9tX3Rp
bWluZyhkdCwgJnZtKTsKLQkJbW9kZSA9IGRybV9tb2RlX2NyZWF0ZShkcm0pOworCQltb2RlID0g
ZHJtX21vZGVfY3JlYXRlKGNvbm5lY3Rvci0+ZGV2KTsKIAkJaWYgKCFtb2RlKSB7Ci0JCQlkZXZf
ZXJyKGRybS0+ZGV2LCAiZmFpbGVkIHRvIGFkZCBtb2RlICV1eCV1XG4iLAorCQkJZGV2X2Vycihw
YW5lbC0+YmFzZS5kZXYsICJmYWlsZWQgdG8gYWRkIG1vZGUgJXV4JXVcbiIsCiAJCQkJZHQtPmhh
Y3RpdmUudHlwLCBkdC0+dmFjdGl2ZS50eXApOwogCQkJY29udGludWU7CiAJCX0KQEAgLTkyLDkg
KzkxLDkgQEAgc3RhdGljIGludCBzZWlrb19wYW5lbF9nZXRfZml4ZWRfbW9kZXMoc3RydWN0IHNl
aWtvX3BhbmVsICpwYW5lbCwKIAlmb3IgKGkgPSAwOyBpIDwgcGFuZWwtPmRlc2MtPm51bV9tb2Rl
czsgaSsrKSB7CiAJCWNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptID0gJnBhbmVsLT5k
ZXNjLT5tb2Rlc1tpXTsKIAotCQltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKGRybSwgbSk7CisJ
CW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUoY29ubmVjdG9yLT5kZXYsIG0pOwogCQlpZiAoIW1v
ZGUpIHsKLQkJCWRldl9lcnIoZHJtLT5kZXYsICJmYWlsZWQgdG8gYWRkIG1vZGUgJXV4JXVAJXVc
biIsCisJCQlkZXZfZXJyKHBhbmVsLT5iYXNlLmRldiwgImZhaWxlZCB0byBhZGQgbW9kZSAldXgl
dUAldVxuIiwKIAkJCQltLT5oZGlzcGxheSwgbS0+dmRpc3BsYXksIG0tPnZyZWZyZXNoKTsKIAkJ
CWNvbnRpbnVlOwogCQl9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwt
c2hhcnAtbHExMDFyMXN4MDEuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaGFycC1s
cTEwMXIxc3gwMS5jCmluZGV4IGU3OTdiNzAwNjYxYS4uMTdkNDA2ZjQ5YzNkIDEwMDY0NAotLS0g
YS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2hhcnAtbHExMDFyMXN4MDEuYworKysgYi9k
cml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2hhcnAtbHExMDFyMXN4MDEuYwpAQCAtMjgzLDkg
KzI4Myw5IEBAIHN0YXRpYyBpbnQgc2hhcnBfcGFuZWxfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFu
ZWwgKnBhbmVsLAogewogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCi0JbW9kZSA9
IGRybV9tb2RlX2R1cGxpY2F0ZShwYW5lbC0+ZHJtLCAmZGVmYXVsdF9tb2RlKTsKKwltb2RlID0g
ZHJtX21vZGVfZHVwbGljYXRlKGNvbm5lY3Rvci0+ZGV2LCAmZGVmYXVsdF9tb2RlKTsKIAlpZiAo
IW1vZGUpIHsKLQkJZGV2X2VycihwYW5lbC0+ZHJtLT5kZXYsICJmYWlsZWQgdG8gYWRkIG1vZGUg
JXV4JXV4QCV1XG4iLAorCQlkZXZfZXJyKHBhbmVsLT5kZXYsICJmYWlsZWQgdG8gYWRkIG1vZGUg
JXV4JXV4QCV1XG4iLAogCQkJZGVmYXVsdF9tb2RlLmhkaXNwbGF5LCBkZWZhdWx0X21vZGUudmRp
c3BsYXksCiAJCQlkZWZhdWx0X21vZGUudnJlZnJlc2gpOwogCQlyZXR1cm4gLUVOT01FTTsKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaGFycC1sczAzN3Y3ZHcwMS5j
IGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNoYXJwLWxzMDM3djdkdzAxLmMKaW5kZXgg
NzEwM2E5NDVmMGU4Li4xY2YzZjAyNDM1YzEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9w
YW5lbC9wYW5lbC1zaGFycC1sczAzN3Y3ZHcwMS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5l
bC9wYW5lbC1zaGFycC1sczAzN3Y3ZHcwMS5jCkBAIC0xMDUsNyArMTA1LDcgQEAgc3RhdGljIGlu
dCBsczAzN3Y3ZHcwMV9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCiB7CiAJc3Ry
dWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGU7CiAKLQltb2RlID0gZHJtX21vZGVfZHVwbGljYXRl
KHBhbmVsLT5kcm0sICZsczAzN3Y3ZHcwMV9tb2RlKTsKKwltb2RlID0gZHJtX21vZGVfZHVwbGlj
YXRlKGNvbm5lY3Rvci0+ZGV2LCAmbHMwMzd2N2R3MDFfbW9kZSk7CiAJaWYgKCFtb2RlKQogCQly
ZXR1cm4gLUVOT01FTTsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVs
LXNoYXJwLWxzMDQzdDFsZTAxLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2hhcnAt
bHMwNDN0MWxlMDEuYwppbmRleCA4NWFlNmNmZmRiZmIuLjc5OTVjZjVhOWZjNCAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNoYXJwLWxzMDQzdDFsZTAxLmMKKysrIGIv
ZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNoYXJwLWxzMDQzdDFsZTAxLmMKQEAgLTIxNSw5
ICsyMTUsOSBAQCBzdGF0aWMgaW50IHNoYXJwX250X3BhbmVsX2dldF9tb2RlcyhzdHJ1Y3QgZHJt
X3BhbmVsICpwYW5lbCwKIHsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAotCW1v
ZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUocGFuZWwtPmRybSwgJmRlZmF1bHRfbW9kZSk7CisJbW9k
ZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShjb25uZWN0b3ItPmRldiwgJmRlZmF1bHRfbW9kZSk7CiAJ
aWYgKCFtb2RlKSB7Ci0JCWRldl9lcnIocGFuZWwtPmRybS0+ZGV2LCAiZmFpbGVkIHRvIGFkZCBt
b2RlICV1eCV1eEAldVxuIiwKKwkJZGV2X2VycihwYW5lbC0+ZGV2LCAiZmFpbGVkIHRvIGFkZCBt
b2RlICV1eCV1eEAldVxuIiwKIAkJCQlkZWZhdWx0X21vZGUuaGRpc3BsYXksIGRlZmF1bHRfbW9k
ZS52ZGlzcGxheSwKIAkJCQlkZWZhdWx0X21vZGUudnJlZnJlc2gpOwogCQlyZXR1cm4gLUVOT01F
TTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaW1wbGUuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaW1wbGUuYwppbmRleCBkNjI5OWZlNmQyNzYuLmVj
NDQ5YzE4YmViYSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNpbXBs
ZS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaW1wbGUuYwpAQCAtMTIwLDcg
KzEyMCw2IEBAIHN0YXRpYyBpbmxpbmUgc3RydWN0IHBhbmVsX3NpbXBsZSAqdG9fcGFuZWxfc2lt
cGxlKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQogc3RhdGljIHVuc2lnbmVkIGludCBwYW5lbF9z
aW1wbGVfZ2V0X3RpbWluZ3NfbW9kZXMoc3RydWN0IHBhbmVsX3NpbXBsZSAqcGFuZWwsCiAJCQkJ
CQkgICBzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogewotCXN0cnVjdCBkcm1fZGV2
aWNlICpkcm0gPSBwYW5lbC0+YmFzZS5kcm07CiAJc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1v
ZGU7CiAJdW5zaWduZWQgaW50IGksIG51bSA9IDA7CiAKQEAgLTEyOSw5ICsxMjgsOSBAQCBzdGF0
aWMgdW5zaWduZWQgaW50IHBhbmVsX3NpbXBsZV9nZXRfdGltaW5nc19tb2RlcyhzdHJ1Y3QgcGFu
ZWxfc2ltcGxlICpwYW5lbCwKIAkJc3RydWN0IHZpZGVvbW9kZSB2bTsKIAogCQl2aWRlb21vZGVf
ZnJvbV90aW1pbmcoZHQsICZ2bSk7Ci0JCW1vZGUgPSBkcm1fbW9kZV9jcmVhdGUoZHJtKTsKKwkJ
bW9kZSA9IGRybV9tb2RlX2NyZWF0ZShjb25uZWN0b3ItPmRldik7CiAJCWlmICghbW9kZSkgewot
CQkJZGV2X2Vycihkcm0tPmRldiwgImZhaWxlZCB0byBhZGQgbW9kZSAldXgldVxuIiwKKwkJCWRl
dl9lcnIocGFuZWwtPmJhc2UuZGV2LCAiZmFpbGVkIHRvIGFkZCBtb2RlICV1eCV1XG4iLAogCQkJ
CWR0LT5oYWN0aXZlLnR5cCwgZHQtPnZhY3RpdmUudHlwKTsKIAkJCWNvbnRpbnVlOwogCQl9CkBA
IC0xNTMsMTYgKzE1MiwxNSBAQCBzdGF0aWMgdW5zaWduZWQgaW50IHBhbmVsX3NpbXBsZV9nZXRf
dGltaW5nc19tb2RlcyhzdHJ1Y3QgcGFuZWxfc2ltcGxlICpwYW5lbCwKIHN0YXRpYyB1bnNpZ25l
ZCBpbnQgcGFuZWxfc2ltcGxlX2dldF9kaXNwbGF5X21vZGVzKHN0cnVjdCBwYW5lbF9zaW1wbGUg
KnBhbmVsLAogCQkJCQkJICAgc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvcikKIHsKLQlz
dHJ1Y3QgZHJtX2RldmljZSAqZHJtID0gcGFuZWwtPmJhc2UuZHJtOwogCXN0cnVjdCBkcm1fZGlz
cGxheV9tb2RlICptb2RlOwogCXVuc2lnbmVkIGludCBpLCBudW0gPSAwOwogCiAJZm9yIChpID0g
MDsgaSA8IHBhbmVsLT5kZXNjLT5udW1fbW9kZXM7IGkrKykgewogCQljb25zdCBzdHJ1Y3QgZHJt
X2Rpc3BsYXlfbW9kZSAqbSA9ICZwYW5lbC0+ZGVzYy0+bW9kZXNbaV07CiAKLQkJbW9kZSA9IGRy
bV9tb2RlX2R1cGxpY2F0ZShkcm0sIG0pOworCQltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKGNv
bm5lY3Rvci0+ZGV2LCBtKTsKIAkJaWYgKCFtb2RlKSB7Ci0JCQlkZXZfZXJyKGRybS0+ZGV2LCAi
ZmFpbGVkIHRvIGFkZCBtb2RlICV1eCV1QCV1XG4iLAorCQkJZGV2X2VycihwYW5lbC0+YmFzZS5k
ZXYsICJmYWlsZWQgdG8gYWRkIG1vZGUgJXV4JXVAJXVcbiIsCiAJCQkJbS0+aGRpc3BsYXksIG0t
PnZkaXNwbGF5LCBtLT52cmVmcmVzaCk7CiAJCQljb250aW51ZTsKIAkJfQpAQCAtMTg0LDcgKzE4
Miw2IEBAIHN0YXRpYyB1bnNpZ25lZCBpbnQgcGFuZWxfc2ltcGxlX2dldF9kaXNwbGF5X21vZGVz
KHN0cnVjdCBwYW5lbF9zaW1wbGUgKnBhbmVsLAogc3RhdGljIGludCBwYW5lbF9zaW1wbGVfZ2V0
X25vbl9lZGlkX21vZGVzKHN0cnVjdCBwYW5lbF9zaW1wbGUgKnBhbmVsLAogCQkJCQkgICBzdHJ1
Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogewotCXN0cnVjdCBkcm1fZGV2aWNlICpkcm0g
PSBwYW5lbC0+YmFzZS5kcm07CiAJc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGU7CiAJYm9v
bCBoYXNfb3ZlcnJpZGUgPSBwYW5lbC0+b3ZlcnJpZGVfbW9kZS50eXBlOwogCXVuc2lnbmVkIGlu
dCBudW0gPSAwOwpAQCAtMTkzLDEyICsxOTAsMTIgQEAgc3RhdGljIGludCBwYW5lbF9zaW1wbGVf
Z2V0X25vbl9lZGlkX21vZGVzKHN0cnVjdCBwYW5lbF9zaW1wbGUgKnBhbmVsLAogCQlyZXR1cm4g
MDsKIAogCWlmIChoYXNfb3ZlcnJpZGUpIHsKLQkJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShk
cm0sICZwYW5lbC0+b3ZlcnJpZGVfbW9kZSk7CisJCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUo
Y29ubmVjdG9yLT5kZXYsICZwYW5lbC0+b3ZlcnJpZGVfbW9kZSk7CiAJCWlmIChtb2RlKSB7CiAJ
CQlkcm1fbW9kZV9wcm9iZWRfYWRkKGNvbm5lY3RvciwgbW9kZSk7CiAJCQludW0gPSAxOwogCQl9
IGVsc2UgewotCQkJZGV2X2Vycihkcm0tPmRldiwgImZhaWxlZCB0byBhZGQgb3ZlcnJpZGUgbW9k
ZVxuIik7CisJCQlkZXZfZXJyKHBhbmVsLT5iYXNlLmRldiwgImZhaWxlZCB0byBhZGQgb3ZlcnJp
ZGUgbW9kZVxuIik7CiAJCX0KIAl9CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5l
bC9wYW5lbC1zaXRyb25peC1zdDc3MDEuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1z
aXRyb25peC1zdDc3MDEuYwppbmRleCAzZWQzYjFkNmQ4MmQuLmMwOGE4NjVhMmE5MyAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNpdHJvbml4LXN0NzcwMS5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaXRyb25peC1zdDc3MDEuYwpAQCAtMjcxLDcg
KzI3MSw3IEBAIHN0YXRpYyBpbnQgc3Q3NzAxX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpw
YW5lbCwKIAljb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqZGVzY19tb2RlID0gc3Q3NzAx
LT5kZXNjLT5tb2RlOwogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCi0JbW9kZSA9
IGRybV9tb2RlX2R1cGxpY2F0ZShwYW5lbC0+ZHJtLCBkZXNjX21vZGUpOworCW1vZGUgPSBkcm1f
bW9kZV9kdXBsaWNhdGUoY29ubmVjdG9yLT5kZXYsIGRlc2NfbW9kZSk7CiAJaWYgKCFtb2RlKSB7
CiAJCURSTV9ERVZfRVJST1IoJnN0NzcwMS0+ZHNpLT5kZXYsCiAJCQkgICAgICAiZmFpbGVkIHRv
IGFkZCBtb2RlICV1eCV1eEAldVxuIiwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5l
bC9wYW5lbC1zaXRyb25peC1zdDc3ODl2LmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwt
c2l0cm9uaXgtc3Q3Nzg5di5jCmluZGV4IDgzNmIwMTMzMTUwNS4uZWJlZmUyZjRjMjZiIDEwMDY0
NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2l0cm9uaXgtc3Q3Nzg5di5jCisr
KyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaXRyb25peC1zdDc3ODl2LmMKQEAgLTE3
NSw5ICsxNzUsOSBAQCBzdGF0aWMgaW50IHN0Nzc4OXZfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFu
ZWwgKnBhbmVsLAogewogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCi0JbW9kZSA9
IGRybV9tb2RlX2R1cGxpY2F0ZShwYW5lbC0+ZHJtLCAmZGVmYXVsdF9tb2RlKTsKKwltb2RlID0g
ZHJtX21vZGVfZHVwbGljYXRlKGNvbm5lY3Rvci0+ZGV2LCAmZGVmYXVsdF9tb2RlKTsKIAlpZiAo
IW1vZGUpIHsKLQkJZGV2X2VycihwYW5lbC0+ZHJtLT5kZXYsICJmYWlsZWQgdG8gYWRkIG1vZGUg
JXV4JXV4QCV1XG4iLAorCQlkZXZfZXJyKHBhbmVsLT5kZXYsICJmYWlsZWQgdG8gYWRkIG1vZGUg
JXV4JXV4QCV1XG4iLAogCQkJZGVmYXVsdF9tb2RlLmhkaXNwbGF5LCBkZWZhdWx0X21vZGUudmRp
c3BsYXksCiAJCQlkZWZhdWx0X21vZGUudnJlZnJlc2gpOwogCQlyZXR1cm4gLUVOT01FTTsKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zb255LWFjeDU2NWFrbS5jIGIv
ZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNvbnktYWN4NTY1YWttLmMKaW5kZXggODQxZGM3
M2M0NDNkLi41YzRiNmY2ZTVjMmQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9w
YW5lbC1zb255LWFjeDU2NWFrbS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1z
b255LWFjeDU2NWFrbS5jCkBAIC01MjYsNyArNTI2LDcgQEAgc3RhdGljIGludCBhY3g1NjVha21f
Z2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsLAogewogCXN0cnVjdCBkcm1fZGlzcGxh
eV9tb2RlICptb2RlOwogCi0JbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShwYW5lbC0+ZHJtLCAm
YWN4NTY1YWttX21vZGUpOworCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUoY29ubmVjdG9yLT5k
ZXYsICZhY3g1NjVha21fbW9kZSk7CiAJaWYgKCFtb2RlKQogCQlyZXR1cm4gLUVOT01FTTsKIApk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXRwby10ZDAyOHR0ZWMxLmMg
Yi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtdHBvLXRkMDI4dHRlYzEuYwppbmRleCA1MjMw
MTc2YmQ4ZTYuLjM3MjUyNTkwYjU0MSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVs
L3BhbmVsLXRwby10ZDAyOHR0ZWMxLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVs
LXRwby10ZDAyOHR0ZWMxLmMKQEAgLTI5Miw3ICsyOTIsNyBAQCBzdGF0aWMgaW50IHRkMDI4dHRl
YzFfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsLAogewogCXN0cnVjdCBkcm1fZGlz
cGxheV9tb2RlICptb2RlOwogCi0JbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShwYW5lbC0+ZHJt
LCAmdGQwMjh0dGVjMV9tb2RlKTsKKwltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKGNvbm5lY3Rv
ci0+ZGV2LCAmdGQwMjh0dGVjMV9tb2RlKTsKIAlpZiAoIW1vZGUpCiAJCXJldHVybiAtRU5PTUVN
OwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtdHBvLXRkMDQzbXRl
YTEuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC10cG8tdGQwNDNtdGVhMS5jCmluZGV4
IDcxNmY4ZWQxY2M0NS4uNzVmMWYxZjFiNmRlIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
cGFuZWwvcGFuZWwtdHBvLXRkMDQzbXRlYTEuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwv
cGFuZWwtdHBvLXRkMDQzbXRlYTEuYwpAQCAtMzUxLDcgKzM1MSw3IEBAIHN0YXRpYyBpbnQgdGQw
NDNtdGVhMV9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCiB7CiAJc3RydWN0IGRy
bV9kaXNwbGF5X21vZGUgKm1vZGU7CiAKLQltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKHBhbmVs
LT5kcm0sICZ0ZDA0M210ZWExX21vZGUpOworCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUoY29u
bmVjdG9yLT5kZXYsICZ0ZDA0M210ZWExX21vZGUpOwogCWlmICghbW9kZSkKIAkJcmV0dXJuIC1F
Tk9NRU07CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC10cG8tdHBn
MTEwLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtdHBvLXRwZzExMC5jCmluZGV4IGU3
NGNkOWQ0MThjZi4uYmVlMjEzZWExYTQyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFu
ZWwvcGFuZWwtdHBvLXRwZzExMC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC10
cG8tdHBnMTEwLmMKQEAgLTM5NCw3ICszOTQsNyBAQCBzdGF0aWMgaW50IHRwZzExMF9nZXRfbW9k
ZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCiAJY29ubmVjdG9yLT5kaXNwbGF5X2luZm8uaGVp
Z2h0X21tID0gdHBnLT5oZWlnaHQ7CiAJY29ubmVjdG9yLT5kaXNwbGF5X2luZm8uYnVzX2ZsYWdz
ID0gdHBnLT5wYW5lbF9tb2RlLT5idXNfZmxhZ3M7CiAKLQltb2RlID0gZHJtX21vZGVfZHVwbGlj
YXRlKHBhbmVsLT5kcm0sICZ0cGctPnBhbmVsX21vZGUtPm1vZGUpOworCW1vZGUgPSBkcm1fbW9k
ZV9kdXBsaWNhdGUoY29ubmVjdG9yLT5kZXYsICZ0cGctPnBhbmVsX21vZGUtPm1vZGUpOwogCWRy
bV9tb2RlX3NldF9uYW1lKG1vZGUpOwogCW1vZGUtPnR5cGUgPSBEUk1fTU9ERV9UWVBFX0RSSVZF
UiB8IERSTV9NT0RFX1RZUEVfUFJFRkVSUkVEOwogCmRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS9k
cm1fcGFuZWwuaCBiL2luY2x1ZGUvZHJtL2RybV9wYW5lbC5oCmluZGV4IDVjNjJkZmU3M2M2OC4u
ZDIxNDJlNDE3MGM4IDEwMDY0NAotLS0gYS9pbmNsdWRlL2RybS9kcm1fcGFuZWwuaAorKysgYi9p
bmNsdWRlL2RybS9kcm1fcGFuZWwuaApAQCAtMTMyLDEzICsxMzIsNiBAQCBzdHJ1Y3QgZHJtX3Bh
bmVsX2Z1bmNzIHsKICAqIHN0cnVjdCBkcm1fcGFuZWwgLSBEUk0gcGFuZWwgb2JqZWN0CiAgKi8K
IHN0cnVjdCBkcm1fcGFuZWwgewotCS8qKgotCSAqIEBkcm06Ci0JICoKLQkgKiBEUk0gZGV2aWNl
IG93bmluZyB0aGUgcGFuZWwuCi0JICovCi0Jc3RydWN0IGRybV9kZXZpY2UgKmRybTsKLQogCS8q
KgogCSAqIEBkZXY6CiAJICoKLS0gCjIuMjAuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vZHJpLWRldmVs
