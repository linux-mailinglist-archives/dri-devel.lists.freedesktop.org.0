Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 2AA7EB0DE7
	for <lists+dri-devel@lfdr.de>; Thu, 12 Sep 2019 13:33:59 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id DDA406ECDC;
	Thu, 12 Sep 2019 11:33:54 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga06.intel.com (mga06.intel.com [134.134.136.31])
 by gabe.freedesktop.org (Postfix) with ESMTPS id F12E26ECD5;
 Thu, 12 Sep 2019 11:33:50 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga001.fm.intel.com ([10.253.24.23])
 by orsmga104.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 12 Sep 2019 04:33:50 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,495,1559545200"; d="scan'208";a="200725014"
Received: from helsinki.fi.intel.com ([10.237.66.162])
 by fmsmga001.fm.intel.com with ESMTP; 12 Sep 2019 04:33:48 -0700
From: Gwan-gyeong Mun <gwan-gyeong.mun@intel.com>
To: intel-gfx@lists.freedesktop.org
Subject: [PATCH v7 3/7] drm: Add DisplayPort colorspace property
Date: Thu, 12 Sep 2019 14:33:34 +0300
Message-Id: <20190912113338.30796-4-gwan-gyeong.mun@intel.com>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20190912113338.30796-1-gwan-gyeong.mun@intel.com>
References: <20190912113338.30796-1-gwan-gyeong.mun@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: dri-devel@lists.freedesktop.org, uma.shankar@intel.com,
 jani.saarinen@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QmVjYXVzZSBiZXR3ZWVuIEhETUkgYW5kIERQIGhhdmUgZGlmZmVyZW50IGNvbG9yc3BhY2VzLCBp
dCByZW5hbWVzCmRybV9tb2RlX2NyZWF0ZV9jb2xvcnNwYWNlX3Byb3BlcnR5KCkgZnVuY3Rpb24g
dG8KZHJtX21vZGVfY3JlYXRlX2hkbWlfY29sb3JzcGFjZV9wcm9wZXJ0eSgpIGZ1bmN0aW9uIGZv
ciBIRE1JIGNvbm5lY3Rvci4KQW5kIGl0IGFkZHMgZHJtX21vZGVfY3JlYXRlX2RwX2NvbG9yc3Bh
Y2VfcHJvcGVydHkoKSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcKb2YgRFAgY29sb3JzcGFjZSBwcm9w
ZXJ0eS4KSW4gb3JkZXIgdG8gYXBwbHkgY2hhbmdlZCBhbmQgYWRkZWQgZHJtIGFwaSwgaTkxNSBk
cml2ZXIgaGFzIGNoYW5uZ2VkLgoKdjM6IEFkZHJlc3NlZCByZXZpZXcgY29tbWVudHMgZnJvbSBW
aWxsZQogICAgLSBBZGQgbmV3IGNvbG9yaW1ldHJ5IG9wdGlvbnMgZm9yIERQIDEuNGEgc3BlYy4K
ICAgIC0gU2VwYXJhdGUgc2V0IG9mIGNvbG9yaW1ldHJ5IGVudW0gdmFsdWVzIGZvciBEUC4KdjQ6
IEFkZCBhZGRpdGlvbmFsIGNvbW1lbnRzIHRvIHN0cnVjdCBkcm1fcHJvcF9lbnVtX2xpc3QuCiAg
ICBQb2xpc2hpbmcgYW4gZW51bSBzdHJpbmcgb2Ygc3RydWN0IGRybV9wcm9wX2VudW1fbGlzdAp2
NTogQ2hhbmdlIGRlZmluaXRpb25zIG9mIERSTV9NT0RFX0NPTE9SSU1FVFJZcyB0byBmb2xsb3cg
SERNSSBwcmVmaXggYW5kCiAgICBEUCBhYmJyZXZpYXRpb25zLgogICAgQWRkIG1pc3NlZCB2YXJp
YWJsZXMgb24gZHBfY29sb3JzcGFjZXMuCiAgICBGaXggdHlwby4gW1VtYV0KdjY6IEFkZHJlc3Nl
ZCByZXZpZXcgY29tbWVudHMgZnJvbSBJbGlhIGFuZCBWaWxsZQogICAtIFNwbGl0IGRybV9tb2Rl
X2NyZWF0ZV9jb2xvcnNwYWNlX3Byb3BlcnR5KCkgdG8gRFAgYW5kIEhETUkgY29ubmVjdG9yLgp2
NzogRml4IHR5cG8gW0phbmkgU2FhcmluZW5dCiAgICBGaXggd2hpdGUgc3BhY2UuCgpTaWduZWQt
b2ZmLWJ5OiBHd2FuLWd5ZW9uZyBNdW4gPGd3YW4tZ3llb25nLm11bkBpbnRlbC5jb20+ClJldmll
d2VkLWJ5OiBVbWEgU2hhbmthciA8dW1hLnNoYW5rYXJAaW50ZWwuY29tPgotLS0KIGRyaXZlcnMv
Z3B1L2RybS9kcm1fY29ubmVjdG9yLmMgICAgICAgICAgICAgICB8IDExMCArKysrKysrKysrKysr
KystLS0KIC4uLi9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9jb25uZWN0b3IuYyAgICB8ICAy
MSArKystCiBpbmNsdWRlL2RybS9kcm1fY29ubmVjdG9yLmggICAgICAgICAgICAgICAgICAgfCAg
MTEgKy0KIDMgZmlsZXMgY2hhbmdlZCwgMTIxIGluc2VydGlvbnMoKyksIDIxIGRlbGV0aW9ucygt
KQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fY29ubmVjdG9yLmMgYi9kcml2ZXJz
L2dwdS9kcm0vZHJtX2Nvbm5lY3Rvci5jCmluZGV4IDRjNzY2NjI0YjIwZC4uNjU2ZjcyYzFiM2Q3
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vZHJtX2Nvbm5lY3Rvci5jCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9kcm1fY29ubmVjdG9yLmMKQEAgLTg4Miw2ICs4ODIsNDcgQEAgc3RhdGljIGNv
bnN0IHN0cnVjdCBkcm1fcHJvcF9lbnVtX2xpc3QgaGRtaV9jb2xvcnNwYWNlc1tdID0gewogCXsg
RFJNX01PREVfQ09MT1JJTUVUUllfRENJX1AzX1JHQl9USEVBVEVSLCAiRENJLVAzX1JHQl9UaGVh
dGVyIiB9LAogfTsKIAorLyoKKyAqIEFzIHBlciBEUCAxLjRhIHNwZWMsIDIuMi41LjcuNSBWU0Mg
U0RQIFBheWxvYWQgZm9yIFBpeGVsIEVuY29kaW5nL0NvbG9yaW1ldHJ5CisgKiBGb3JtYXQgVGFi
bGUgMi0xMjAKKyAqLworc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fcHJvcF9lbnVtX2xpc3QgZHBf
Y29sb3JzcGFjZXNbXSA9IHsKKwkvKiBGb3IgRGVmYXVsdCBjYXNlLCBkcml2ZXIgd2lsbCBzZXQg
dGhlIGNvbG9yc3BhY2UgKi8KKwl7IERSTV9NT0RFX0NPTE9SSU1FVFJZX0RFRkFVTFQsICJEZWZh
dWx0IiB9LAorCS8qIENvbG9yaW1ldHJ5IGJhc2VkIG9uIHNSR0IgKElFQyA2MTk2Ni0yLTEpICov
CisJeyBEUk1fTU9ERV9DT0xPUklNRVRSWV9DRUFfUkdCLCAiQ0VBX1JHQiIgfSwKKwl7IERSTV9N
T0RFX0NPTE9SSU1FVFJZX1JHQl9XSURFX0ZJWEVELCAiUkdCX1dpZGVfR2FtdXRfRml4ZWRfUG9p
bnQiIH0sCisJLyogQ29sb3JpbWV0cnkgYmFzZWQgb24gc2NSR0IgKElFQyA2MTk2Ni0yLTIpICov
CisJeyBEUk1fTU9ERV9DT0xPUklNRVRSWV9SR0JfV0lERV9GTE9BVCwgIlJHQl9XaWRlX0dhbXV0
X0Zsb2F0aW5nX1BvaW50IiB9LAorCS8qIENvbG9yaW1ldHJ5IGJhc2VkIG9uIElFQyA2MTk2Ni0y
LTUgKi8KKwl7IERSTV9NT0RFX0NPTE9SSU1FVFJZX09QUkdCLCAib3BSR0IiIH0sCisJLyogQ29s
b3JpbWV0cnkgYmFzZWQgb24gU01QVEUgUlAgNDMxLTIgKi8KKwl7IERSTV9NT0RFX0NPTE9SSU1F
VFJZX0RDSV9QM19SR0JfRDY1LCAiRENJLVAzX1JHQl9ENjUiIH0sCisJeyBEUk1fTU9ERV9DT0xP
UklNRVRSWV9SR0JfQ1VTVE9NX0NPTE9SX1BST0ZJTEUsICJSR0JfQ3VzdG9tX0NvbG9yX1Byb2Zp
bGUiIH0sCisJLyogQ29sb3JpbWV0cnkgYmFzZWQgb24gSVRVLVIgQlQuMjAyMCAqLworCXsgRFJN
X01PREVfQ09MT1JJTUVUUllfQlQyMDIwX1JHQiwgIkJUMjAyMF9SR0IiIH0sCisJeyBEUk1fTU9E
RV9DT0xPUklNRVRSWV9CVDYwMV9ZQ0MsICJCVDYwMV9ZQ0MiIH0sCisJeyBEUk1fTU9ERV9DT0xP
UklNRVRSWV9CVDcwOV9ZQ0MsICJCVDcwOV9ZQ0MiIH0sCisJLyogU3RhbmRhcmQgRGVmaW5pdGlv
biBDb2xvcmltZXRyeSBiYXNlZCBvbiBJRUMgNjE5NjYtMi00ICovCisJeyBEUk1fTU9ERV9DT0xP
UklNRVRSWV9YVllDQ182MDEsICJYVllDQ182MDEiIH0sCisJLyogSGlnaCBEZWZpbml0aW9uIENv
bG9yaW1ldHJ5IGJhc2VkIG9uIElFQyA2MTk2Ni0yLTQgKi8KKwl7IERSTV9NT0RFX0NPTE9SSU1F
VFJZX1hWWUNDXzcwOSwgIlhWWUNDXzcwOSIgfSwKKwkvKiBDb2xvcmltZXRyeSBiYXNlZCBvbiBJ
RUMgNjE5NjYtMi0xL0FtZW5kbWVudCAxICovCisJeyBEUk1fTU9ERV9DT0xPUklNRVRSWV9TWUND
XzYwMSwgIlNZQ0NfNjAxIiB9LAorCS8qIENvbG9yaW1ldHJ5IGJhc2VkIG9uIElFQyA2MTk2Ni0y
LTUgWzMzXSAqLworCXsgRFJNX01PREVfQ09MT1JJTUVUUllfT1BZQ0NfNjAxLCAib3BZQ0NfNjAx
IiB9LAorCS8qIENvbG9yaW1ldHJ5IGJhc2VkIG9uIElUVS1SIEJULjIwMjAgKi8KKwl7IERSTV9N
T0RFX0NPTE9SSU1FVFJZX0JUMjAyMF9DWUNDLCAiQlQyMDIwX0NZQ0MiIH0sCisJLyogQ29sb3Jp
bWV0cnkgYmFzZWQgb24gSVRVLVIgQlQuMjAyMCAqLworCXsgRFJNX01PREVfQ09MT1JJTUVUUllf
QlQyMDIwX1lDQywgIkJUMjAyMF9ZQ0MiIH0sCisJLyoKKwkgKiBDb2xvcmltZXRyeSBiYXNlZCBv
biBEaWdpdGFsIEltYWdpbmcgYW5kIENvbW11bmljYXRpb25zIGluIE1lZGljaW5lCisJICogKERJ
Q09NKSBQYXJ0IDE0OiBHcmF5c2NhbGUgU3RhbmRhcmQgRGlzcGxheSBGdW5jdGlvbgorCSAqLwor
CXsgRFJNX01PREVfQ09MT1JJTUVUUllfWV9PTkxZX0RJQ09NX1AxNF9HUkFZU0NBTEUsICJZX09O
TFlfRElDT01fUGFydF8xNF9HcmF5c2NhbGUiIH0sCisJeyBEUk1fTU9ERV9DT0xPUklNRVRSWV9S
QVdfQ1VTVE9NX0NPTE9SX1BST0ZJTEUsICJSYXdfQ3VzdG9tX0NvbG9yX1Byb2ZpbGUiIH0sCit9
OworCiAvKioKICAqIERPQzogc3RhbmRhcmQgY29ubmVjdG9yIHByb3BlcnRpZXMKICAqCkBAIC0x
Njc0LDcgKzE3MTUsNiBAQCBFWFBPUlRfU1lNQk9MKGRybV9tb2RlX2NyZWF0ZV9hc3BlY3RfcmF0
aW9fcHJvcGVydHkpOwogICogRE9DOiBzdGFuZGFyZCBjb25uZWN0b3IgcHJvcGVydGllcwogICoK
ICAqIENvbG9yc3BhY2U6Ci0gKiAgICAgZHJtX21vZGVfY3JlYXRlX2NvbG9yc3BhY2VfcHJvcGVy
dHkgLSBjcmVhdGUgY29sb3JzcGFjZSBwcm9wZXJ0eQogICogICAgIFRoaXMgcHJvcGVydHkgaGVs
cHMgc2VsZWN0IGEgc3VpdGFibGUgY29sb3JzcGFjZSBiYXNlZCBvbiB0aGUgc2luawogICogICAg
IGNhcGFiaWxpdHkuIE1vZGVybiBzaW5rIGRldmljZXMgc3VwcG9ydCB3aWRlciBnYW11dCBsaWtl
IEJUMjAyMC4KICAqICAgICBUaGlzIGhlbHBzIHN3aXRjaCB0byBCVDIwMjAgbW9kZSBpZiB0aGUg
QlQyMDIwIGVuY29kZWQgdmlkZW8gc3RyZWFtCkBAIC0xNjk0LDMyICsxNzM0LDY4IEBAIEVYUE9S
VF9TWU1CT0woZHJtX21vZGVfY3JlYXRlX2FzcGVjdF9yYXRpb19wcm9wZXJ0eSk7CiAgKiAgICAg
IC0gVGhpcyBwcm9wZXJ0eSBpcyBqdXN0IHRvIGluZm9ybSBzaW5rIHdoYXQgY29sb3JzcGFjZQog
ICogICAgICAgIHNvdXJjZSBpcyB0cnlpbmcgdG8gZHJpdmUuCiAgKgorICogQmVjYXVzZSBiZXR3
ZWVuIEhETUkgYW5kIERQIGhhdmUgZGlmZmVyZW50IGNvbG9yc3BhY2VzLAorICogZHJtX21vZGVf
Y3JlYXRlX2hkbWlfY29sb3JzcGFjZV9wcm9wZXJ0eSgpIGlzIHVzZWQgZm9yIEhETUkgY29ubmVj
dG9yIGFuZAorICogZHJtX21vZGVfY3JlYXRlX2RwX2NvbG9yc3BhY2VfcHJvcGVydHkoKSBpcyB1
c2VkIGZvciBEUCBjb25uZWN0b3IuCisgKi8KKworLyoqCisgKiBkcm1fbW9kZV9jcmVhdGVfaGRt
aV9jb2xvcnNwYWNlX3Byb3BlcnR5IC0gY3JlYXRlIGhkbWkgY29sb3JzcGFjZSBwcm9wZXJ0eQor
ICogQGNvbm5lY3RvcjogY29ubmVjdG9yIHRvIGNyZWF0ZSB0aGUgQ29sb3JzcGFjZSBwcm9wZXJ0
eSBvbi4KKyAqCiAgKiBDYWxsZWQgYnkgYSBkcml2ZXIgdGhlIGZpcnN0IHRpbWUgaXQncyBuZWVk
ZWQsIG11c3QgYmUgYXR0YWNoZWQgdG8gZGVzaXJlZAotICogY29ubmVjdG9ycy4KKyAqIEhETUkg
Y29ubmVjdG9ycy4KKyAqCisgKiBSZXR1cm5zOgorICogWmVybyBvbiBzdWNjZXNzLCBuZWdhdGl2
ZSBlcnJvbm8gb24gZmFpbHVyZS4KICAqLwotaW50IGRybV9tb2RlX2NyZWF0ZV9jb2xvcnNwYWNl
X3Byb3BlcnR5KHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCitpbnQgZHJtX21vZGVf
Y3JlYXRlX2hkbWlfY29sb3JzcGFjZV9wcm9wZXJ0eShzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29u
bmVjdG9yKQogewogCXN0cnVjdCBkcm1fZGV2aWNlICpkZXYgPSBjb25uZWN0b3ItPmRldjsKLQlz
dHJ1Y3QgZHJtX3Byb3BlcnR5ICpwcm9wOwogCi0JaWYgKGNvbm5lY3Rvci0+Y29ubmVjdG9yX3R5
cGUgPT0gRFJNX01PREVfQ09OTkVDVE9SX0hETUlBIHx8Ci0JICAgIGNvbm5lY3Rvci0+Y29ubmVj
dG9yX3R5cGUgPT0gRFJNX01PREVfQ09OTkVDVE9SX0hETUlCKSB7Ci0JCXByb3AgPSBkcm1fcHJv
cGVydHlfY3JlYXRlX2VudW0oZGV2LCBEUk1fTU9ERV9QUk9QX0VOVU0sCi0JCQkJCQkiQ29sb3Jz
cGFjZSIsCi0JCQkJCQloZG1pX2NvbG9yc3BhY2VzLAotCQkJCQkJQVJSQVlfU0laRShoZG1pX2Nv
bG9yc3BhY2VzKSk7Ci0JCWlmICghcHJvcCkKLQkJCXJldHVybiAtRU5PTUVNOwotCX0gZWxzZSB7
Ci0JCURSTV9ERUJVR19LTVMoIkNvbG9yc3BhY2UgcHJvcGVydHkgbm90IHN1cHBvcnRlZFxuIik7
CisJaWYgKGNvbm5lY3Rvci0+Y29sb3JzcGFjZV9wcm9wZXJ0eSkKIAkJcmV0dXJuIDA7Ci0JfQog
Ci0JY29ubmVjdG9yLT5jb2xvcnNwYWNlX3Byb3BlcnR5ID0gcHJvcDsKKwljb25uZWN0b3ItPmNv
bG9yc3BhY2VfcHJvcGVydHkgPQorCQlkcm1fcHJvcGVydHlfY3JlYXRlX2VudW0oZGV2LCBEUk1f
TU9ERV9QUk9QX0VOVU0sICJDb2xvcnNwYWNlIiwKKwkJCQkJIGhkbWlfY29sb3JzcGFjZXMsCisJ
CQkJCSBBUlJBWV9TSVpFKGhkbWlfY29sb3JzcGFjZXMpKTsKKworCWlmICghY29ubmVjdG9yLT5j
b2xvcnNwYWNlX3Byb3BlcnR5KQorCQlyZXR1cm4gLUVOT01FTTsKKworCXJldHVybiAwOworfQor
RVhQT1JUX1NZTUJPTChkcm1fbW9kZV9jcmVhdGVfaGRtaV9jb2xvcnNwYWNlX3Byb3BlcnR5KTsK
KworLyoqCisgKiBkcm1fbW9kZV9jcmVhdGVfZHBfY29sb3JzcGFjZV9wcm9wZXJ0eSAtIGNyZWF0
ZSBkcCBjb2xvcnNwYWNlIHByb3BlcnR5CisgKiBAY29ubmVjdG9yOiBjb25uZWN0b3IgdG8gY3Jl
YXRlIHRoZSBDb2xvcnNwYWNlIHByb3BlcnR5IG9uLgorICoKKyAqIENhbGxlZCBieSBhIGRyaXZl
ciB0aGUgZmlyc3QgdGltZSBpdCdzIG5lZWRlZCwgbXVzdCBiZSBhdHRhY2hlZCB0byBkZXNpcmVk
CisgKiBEUCBjb25uZWN0b3JzLgorICoKKyAqIFJldHVybnM6CisgKiBaZXJvIG9uIHN1Y2Nlc3Ms
IG5lZ2F0aXZlIGVycm9ubyBvbiBmYWlsdXJlLgorICovCitpbnQgZHJtX21vZGVfY3JlYXRlX2Rw
X2NvbG9yc3BhY2VfcHJvcGVydHkoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvcikKK3sK
KwlzdHJ1Y3QgZHJtX2RldmljZSAqZGV2ID0gY29ubmVjdG9yLT5kZXY7CisKKwlpZiAoY29ubmVj
dG9yLT5jb2xvcnNwYWNlX3Byb3BlcnR5KQorCQlyZXR1cm4gMDsKKworCWNvbm5lY3Rvci0+Y29s
b3JzcGFjZV9wcm9wZXJ0eSA9CisJCWRybV9wcm9wZXJ0eV9jcmVhdGVfZW51bShkZXYsIERSTV9N
T0RFX1BST1BfRU5VTSwgIkNvbG9yc3BhY2UiLAorCQkJCQkgZHBfY29sb3JzcGFjZXMsCisJCQkJ
CSBBUlJBWV9TSVpFKGRwX2NvbG9yc3BhY2VzKSk7CisKKwlpZiAoIWNvbm5lY3Rvci0+Y29sb3Jz
cGFjZV9wcm9wZXJ0eSkKKwkJcmV0dXJuIC1FTk9NRU07CiAKIAlyZXR1cm4gMDsKIH0KLUVYUE9S
VF9TWU1CT0woZHJtX21vZGVfY3JlYXRlX2NvbG9yc3BhY2VfcHJvcGVydHkpOworRVhQT1JUX1NZ
TUJPTChkcm1fbW9kZV9jcmVhdGVfZHBfY29sb3JzcGFjZV9wcm9wZXJ0eSk7CiAKIC8qKgogICog
ZHJtX21vZGVfY3JlYXRlX2NvbnRlbnRfdHlwZV9wcm9wZXJ0eSAtIGNyZWF0ZSBjb250ZW50IHR5
cGUgcHJvcGVydHkKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfY29ubmVjdG9yLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Nvbm5l
Y3Rvci5jCmluZGV4IDMwOGVjNjMyMDdlZS4uMTEzM2M0ZTk3YmI0IDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Nvbm5lY3Rvci5jCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfY29ubmVjdG9yLmMKQEAgLTI3Nyw3ICsyNzcsMjIg
QEAgaW50ZWxfYXR0YWNoX2FzcGVjdF9yYXRpb19wcm9wZXJ0eShzdHJ1Y3QgZHJtX2Nvbm5lY3Rv
ciAqY29ubmVjdG9yKQogdm9pZAogaW50ZWxfYXR0YWNoX2NvbG9yc3BhY2VfcHJvcGVydHkoc3Ry
dWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvcikKIHsKLQlpZiAoIWRybV9tb2RlX2NyZWF0ZV9j
b2xvcnNwYWNlX3Byb3BlcnR5KGNvbm5lY3RvcikpCi0JCWRybV9vYmplY3RfYXR0YWNoX3Byb3Bl
cnR5KCZjb25uZWN0b3ItPmJhc2UsCi0JCQkJCSAgIGNvbm5lY3Rvci0+Y29sb3JzcGFjZV9wcm9w
ZXJ0eSwgMCk7CisJc3dpdGNoIChjb25uZWN0b3ItPmNvbm5lY3Rvcl90eXBlKSB7CisJY2FzZSBE
Uk1fTU9ERV9DT05ORUNUT1JfSERNSUE6CisJY2FzZSBEUk1fTU9ERV9DT05ORUNUT1JfSERNSUI6
CisJCWlmIChkcm1fbW9kZV9jcmVhdGVfaGRtaV9jb2xvcnNwYWNlX3Byb3BlcnR5KGNvbm5lY3Rv
cikpCisJCQlyZXR1cm47CisJCWJyZWFrOworCWNhc2UgRFJNX01PREVfQ09OTkVDVE9SX0Rpc3Bs
YXlQb3J0OgorCWNhc2UgRFJNX01PREVfQ09OTkVDVE9SX2VEUDoKKwkJaWYgKGRybV9tb2RlX2Ny
ZWF0ZV9kcF9jb2xvcnNwYWNlX3Byb3BlcnR5KGNvbm5lY3RvcikpCisJCQlyZXR1cm47CisJCWJy
ZWFrOworCWRlZmF1bHQ6CisJCURSTV9ERUJVR19LTVMoIkNvbG9yc3BhY2UgcHJvcGVydHkgbm90
IHN1cHBvcnRlZFxuIik7CisJCXJldHVybjsKKwl9CisKKwlkcm1fb2JqZWN0X2F0dGFjaF9wcm9w
ZXJ0eSgmY29ubmVjdG9yLT5iYXNlLAorCQkJCSAgIGNvbm5lY3Rvci0+Y29sb3JzcGFjZV9wcm9w
ZXJ0eSwgMCk7CiB9CmRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS9kcm1fY29ubmVjdG9yLmggYi9p
bmNsdWRlL2RybS9kcm1fY29ubmVjdG9yLmgKaW5kZXggNjgxY2I1OTBmOTUyLi40OGVmZTkyZWZm
ZDcgMTAwNjQ0Ci0tLSBhL2luY2x1ZGUvZHJtL2RybV9jb25uZWN0b3IuaAorKysgYi9pbmNsdWRl
L2RybS9kcm1fY29ubmVjdG9yLmgKQEAgLTI4MSw2ICsyODEsMTQgQEAgZW51bSBkcm1fcGFuZWxf
b3JpZW50YXRpb24gewogLyogQWRkaXRpb25hbCBDb2xvcmltZXRyeSBleHRlbnNpb24gYWRkZWQg
YXMgcGFydCBvZiBDVEEgODYxLkcgKi8KICNkZWZpbmUgRFJNX01PREVfQ09MT1JJTUVUUllfRENJ
X1AzX1JHQl9ENjUJCTExCiAjZGVmaW5lIERSTV9NT0RFX0NPTE9SSU1FVFJZX0RDSV9QM19SR0Jf
VEhFQVRFUgkJMTIKKy8qIEFkZGl0aW9uYWwgQ29sb3JpbWV0cnkgT3B0aW9ucyBhZGRlZCBmb3Ig
RFAgMS40YSBWU0MgQ29sb3JpbWV0cnkgRm9ybWF0ICovCisjZGVmaW5lIERSTV9NT0RFX0NPTE9S
SU1FVFJZX0NFQV9SR0IJCQkxMworI2RlZmluZSBEUk1fTU9ERV9DT0xPUklNRVRSWV9SR0JfV0lE
RV9GSVhFRAkJMTQKKyNkZWZpbmUgRFJNX01PREVfQ09MT1JJTUVUUllfUkdCX1dJREVfRkxPQVQJ
CTE1CisjZGVmaW5lIERSTV9NT0RFX0NPTE9SSU1FVFJZX1JHQl9DVVNUT01fQ09MT1JfUFJPRklM
RQkxNgorI2RlZmluZSBEUk1fTU9ERV9DT0xPUklNRVRSWV9CVDYwMV9ZQ0MJCQkxNworI2RlZmlu
ZSBEUk1fTU9ERV9DT0xPUklNRVRSWV9ZX09OTFlfRElDT01fUDE0X0dSQVlTQ0FMRQkxOAorI2Rl
ZmluZSBEUk1fTU9ERV9DT0xPUklNRVRSWV9SQVdfQ1VTVE9NX0NPTE9SX1BST0ZJTEUJMTkKIAog
LyoqCiAgKiBlbnVtIGRybV9idXNfZmxhZ3MgLSBidXNfZmxhZ3MgaW5mbyBmb3IgJmRybV9kaXNw
bGF5X2luZm8KQEAgLTE1MjMsNyArMTUzMSw4IEBAIGludCBkcm1fY29ubmVjdG9yX2F0dGFjaF9z
Y2FsaW5nX21vZGVfcHJvcGVydHkoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciwKIGlu
dCBkcm1fY29ubmVjdG9yX2F0dGFjaF92cnJfY2FwYWJsZV9wcm9wZXJ0eSgKIAkJc3RydWN0IGRy
bV9jb25uZWN0b3IgKmNvbm5lY3Rvcik7CiBpbnQgZHJtX21vZGVfY3JlYXRlX2FzcGVjdF9yYXRp
b19wcm9wZXJ0eShzdHJ1Y3QgZHJtX2RldmljZSAqZGV2KTsKLWludCBkcm1fbW9kZV9jcmVhdGVf
Y29sb3JzcGFjZV9wcm9wZXJ0eShzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKTsKK2lu
dCBkcm1fbW9kZV9jcmVhdGVfaGRtaV9jb2xvcnNwYWNlX3Byb3BlcnR5KHN0cnVjdCBkcm1fY29u
bmVjdG9yICpjb25uZWN0b3IpOworaW50IGRybV9tb2RlX2NyZWF0ZV9kcF9jb2xvcnNwYWNlX3By
b3BlcnR5KHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpOwogaW50IGRybV9tb2RlX2Ny
ZWF0ZV9jb250ZW50X3R5cGVfcHJvcGVydHkoc3RydWN0IGRybV9kZXZpY2UgKmRldik7CiB2b2lk
IGRybV9oZG1pX2F2aV9pbmZvZnJhbWVfY29udGVudF90eXBlKHN0cnVjdCBoZG1pX2F2aV9pbmZv
ZnJhbWUgKmZyYW1lLAogCQkJCQkgY29uc3Qgc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKmNv
bm5fc3RhdGUpOwotLSAKMi4yMy4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVl
ZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5m
by9kcmktZGV2ZWw=
