Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 3D72B6B610
	for <lists+dri-devel@lfdr.de>; Wed, 17 Jul 2019 07:46:36 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 2C6506E22B;
	Wed, 17 Jul 2019 05:46:33 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mailgw02.mediatek.com (unknown [1.203.163.81])
 by gabe.freedesktop.org (Postfix) with ESMTP id 200986E235
 for <dri-devel@lists.freedesktop.org>; Wed, 17 Jul 2019 05:46:29 +0000 (UTC)
X-UUID: 2d54e589ad8f49499176b24b2f45f60c-20190717
X-UUID: 2d54e589ad8f49499176b24b2f45f60c-20190717
Received: from mtkcas36.mediatek.inc [(172.27.4.253)] by mailgw02.mediatek.com
 (envelope-from <ck.hu@mediatek.com>)
 (mailgw01.mediatek.com ESMTP with TLS)
 with ESMTP id 1618200263; Wed, 17 Jul 2019 13:46:27 +0800
Received: from mtkcas08.mediatek.inc (172.21.101.126) by
 MTKMBS31DR.mediatek.inc (172.27.6.102) with Microsoft SMTP Server (TLS) id
 15.0.1395.4; Wed, 17 Jul 2019 13:46:24 +0800
Received: from [172.21.77.4] (172.21.77.4) by mtkcas08.mediatek.inc
 (172.21.101.73) with Microsoft SMTP Server id 15.0.1395.4 via Frontend
 Transport; Wed, 17 Jul 2019 13:46:24 +0800
Message-ID: <1563342384.29169.17.camel@mtksdaap41>
Subject: Re: [PATCH v4, 13/33] drm/mediatek: add mmsys private data for ddp
 path config
From: CK Hu <ck.hu@mediatek.com>
To: <yongqiang.niu@mediatek.com>
Date: Wed, 17 Jul 2019 13:46:24 +0800
In-Reply-To: <1562625253-29254-14-git-send-email-yongqiang.niu@mediatek.com>
References: <1562625253-29254-1-git-send-email-yongqiang.niu@mediatek.com>
 <1562625253-29254-14-git-send-email-yongqiang.niu@mediatek.com>
X-Mailer: Evolution 3.10.4-0ubuntu2 
MIME-Version: 1.0
X-TM-SNTS-SMTP: CD108A1D498F834BBDB07C583BC6D74ECB33048701C53901EC83317A091C174A2000:8
X-MTK: N
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Mark Rutland <mark.rutland@arm.com>, devicetree@vger.kernel.org,
 David Airlie <airlied@linux.ie>, linux-kernel@vger.kernel.org,
 dri-devel@lists.freedesktop.org, Rob Herring <robh+dt@kernel.org>,
 linux-mediatek@lists.infradead.org, Matthias Brugger <matthias.bgg@gmail.com>,
 linux-arm-kernel@lists.infradead.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGksIFlvbmdxaWFuZzoKCk9uIFR1ZSwgMjAxOS0wNy0wOSBhdCAwNjozMyArMDgwMCwgeW9uZ3Fp
YW5nLm5pdUBtZWRpYXRlay5jb20gd3JvdGU6Cj4gRnJvbTogWW9uZ3FpYW5nIE5pdSA8eW9uZ3Fp
YW5nLm5pdUBtZWRpYXRlay5jb20+Cj4gCj4gVGhpcyBwYXRjaCBhZGQgbW1zeXMgcHJpdmF0ZSBk
YXRhIGZvciBkZHAgcGF0aCBjb25maWcKPiBhbGwgdGhlc2UgcmVnaXN0ZXIgb2Zmc2V0IGFuZCB2
YWx1ZSB3aWxsIGJlIGRpZmZlcmVudCBpbiBmdXR1cmUgU09DCj4gYWRkIHRoZXNlIGRlZmluZSBp
bnRvIG1tc3lzIHByaXZhdGUgZGF0YQo+IAl1MzIgb3ZsMF9tb3V0X2VuOwo+IAl1MzIgcmRtYTBf
c291dF9zZWxfaW47Cj4gCXUzMiByZG1hMF9zb3V0X2NvbG9yMDsKPiAJdTMyIHJkbWExX3NvdXRf
c2VsX2luOwo+IAl1MzIgcmRtYTFfc291dF9kcGkwOwo+IAl1MzIgcmRtYTFfc291dF9kc2kwOwo+
IAl1MzIgZHBpMF9zZWxfaW47Cj4gCXUzMiBkcGkwX3NlbF9pbl9yZG1hMTsKPiAJdTMyIGRzaTBf
c2VsX2luOwo+IAl1MzIgZHNpMF9zZWxfaW5fcmRtYTE7Cj4gCj4gU2lnbmVkLW9mZi1ieTogWW9u
Z3FpYW5nIE5pdSA8eW9uZ3FpYW5nLm5pdUBtZWRpYXRlay5jb20+Cj4gLS0tCj4gIGRyaXZlcnMv
Z3B1L2RybS9tZWRpYXRlay9tdGtfZHJtX2NydGMuYyB8ICA0ICsrCj4gIGRyaXZlcnMvZ3B1L2Ry
bS9tZWRpYXRlay9tdGtfZHJtX2RkcC5jICB8IDg5ICsrKysrKysrKysrKysrKysrKysrKysrKy0t
LS0tLS0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vbWVkaWF0ZWsvbXRrX2RybV9kZHAuaCAgfCAgNSAr
Kwo+ICBkcml2ZXJzL2dwdS9kcm0vbWVkaWF0ZWsvbXRrX2RybV9kcnYuYyAgfCAgMyArKwo+ICBk
cml2ZXJzL2dwdS9kcm0vbWVkaWF0ZWsvbXRrX2RybV9kcnYuaCAgfCAgMyArKwo+ICA1IGZpbGVz
IGNoYW5nZWQsIDc5IGluc2VydGlvbnMoKyksIDI1IGRlbGV0aW9ucygtKQo+IAo+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vbWVkaWF0ZWsvbXRrX2RybV9jcnRjLmMgYi9kcml2ZXJzL2dw
dS9kcm0vbWVkaWF0ZWsvbXRrX2RybV9jcnRjLmMKPiBpbmRleCBlNTIwYjU2Li41ZWFjMzc2IDEw
MDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfZHJtX2NydGMuYwo+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfZHJtX2NydGMuYwo+IEBAIC00OSw2ICs0
OSw3IEBAIHN0cnVjdCBtdGtfZHJtX2NydGMgewo+ICAJYm9vbAkJCQlwZW5kaW5nX3BsYW5lczsK
PiAgCj4gIAl2b2lkIF9faW9tZW0JCQkqY29uZmlnX3JlZ3M7Cj4gKwljb25zdCBzdHJ1Y3QgbXRr
X21tc3lzX3JlZ19kYXRhICptbXN5c19yZWdfZGF0YTsKPiAgCXN0cnVjdCBtdGtfZGlzcF9tdXRl
eAkJKm11dGV4Owo+ICAJdW5zaWduZWQgaW50CQkJZGRwX2NvbXBfbnI7Cj4gIAlzdHJ1Y3QgbXRr
X2RkcF9jb21wCQkqKmRkcF9jb21wOwo+IEBAIC0yNzAsNiArMjcxLDcgQEAgc3RhdGljIGludCBt
dGtfY3J0Y19kZHBfaHdfaW5pdChzdHJ1Y3QgbXRrX2RybV9jcnRjICptdGtfY3J0YykKPiAgCURS
TV9ERUJVR19EUklWRVIoIm1lZGlhdGVrX2RkcF9kZHBfcGF0aF9zZXR1cFxuIik7Cj4gIAlmb3Ig
KGkgPSAwOyBpIDwgbXRrX2NydGMtPmRkcF9jb21wX25yIC0gMTsgaSsrKSB7Cj4gIAkJbXRrX2Rk
cF9hZGRfY29tcF90b19wYXRoKG10a19jcnRjLT5jb25maWdfcmVncywKPiArCQkJCQkgbXRrX2Ny
dGMtPm1tc3lzX3JlZ19kYXRhLAo+ICAJCQkJCSBtdGtfY3J0Yy0+ZGRwX2NvbXBbaV0tPmlkLAo+
ICAJCQkJCSBtdGtfY3J0Yy0+ZGRwX2NvbXBbaSArIDFdLT5pZCk7Cj4gIAkJbXRrX2Rpc3BfbXV0
ZXhfYWRkX2NvbXAobXRrX2NydGMtPm11dGV4LAo+IEBAIC0zMTgsNiArMzIwLDcgQEAgc3RhdGlj
IHZvaWQgbXRrX2NydGNfZGRwX2h3X2Zpbmkoc3RydWN0IG10a19kcm1fY3J0YyAqbXRrX2NydGMp
Cj4gIAltdGtfZGlzcF9tdXRleF9kaXNhYmxlKG10a19jcnRjLT5tdXRleCk7Cj4gIAlmb3IgKGkg
PSAwOyBpIDwgbXRrX2NydGMtPmRkcF9jb21wX25yIC0gMTsgaSsrKSB7Cj4gIAkJbXRrX2RkcF9y
ZW1vdmVfY29tcF9mcm9tX3BhdGgobXRrX2NydGMtPmNvbmZpZ19yZWdzLAo+ICsJCQkJCSAgICAg
IG10a19jcnRjLT5tbXN5c19yZWdfZGF0YSwKPiAgCQkJCQkgICAgICBtdGtfY3J0Yy0+ZGRwX2Nv
bXBbaV0tPmlkLAo+ICAJCQkJCSAgICAgIG10a19jcnRjLT5kZHBfY29tcFtpICsgMV0tPmlkKTsK
PiAgCQltdGtfZGlzcF9tdXRleF9yZW1vdmVfY29tcChtdGtfY3J0Yy0+bXV0ZXgsCj4gQEAgLTU0
OSw2ICs1NTIsNyBAQCBpbnQgbXRrX2RybV9jcnRjX2NyZWF0ZShzdHJ1Y3QgZHJtX2RldmljZSAq
ZHJtX2RldiwKPiAgCQlyZXR1cm4gLUVOT01FTTsKPiAgCj4gIAltdGtfY3J0Yy0+Y29uZmlnX3Jl
Z3MgPSBwcml2LT5jb25maWdfcmVnczsKPiArCW10a19jcnRjLT5tbXN5c19yZWdfZGF0YSA9IHBy
aXYtPmRhdGEtPnJlZ19kYXRhOwo+ICAJbXRrX2NydGMtPmRkcF9jb21wX25yID0gcGF0aF9sZW47
Cj4gIAltdGtfY3J0Yy0+ZGRwX2NvbXAgPSBkZXZtX2ttYWxsb2NfYXJyYXkoZGV2LCBtdGtfY3J0
Yy0+ZGRwX2NvbXBfbnIsCj4gIAkJCQkJCXNpemVvZigqbXRrX2NydGMtPmRkcF9jb21wKSwKPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL21lZGlhdGVrL210a19kcm1fZGRwLmMgYi9kcml2
ZXJzL2dwdS9kcm0vbWVkaWF0ZWsvbXRrX2RybV9kZHAuYwo+IGluZGV4IDQ3YjNlMzUuLjc4MTlm
ZDMxIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfZHJtX2RkcC5j
Cj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL21lZGlhdGVrL210a19kcm1fZGRwLmMKPiBAQCAtMTc1
LDYgKzE3NSwxOSBAQCBzdHJ1Y3QgbXRrX2RkcCB7Cj4gIAljb25zdCBzdHJ1Y3QgbXRrX2RkcF9k
YXRhCSpkYXRhOwo+ICB9Owo+ICAKPiArc3RydWN0IG10a19tbXN5c19yZWdfZGF0YSB7Cj4gKwl1
MzIgb3ZsMF9tb3V0X2VuOwo+ICsJdTMyIHJkbWEwX3NvdXRfc2VsX2luOwo+ICsJdTMyIHJkbWEw
X3NvdXRfY29sb3IwOwo+ICsJdTMyIHJkbWExX3NvdXRfc2VsX2luOwo+ICsJdTMyIHJkbWExX3Nv
dXRfZHBpMDsKPiArCXUzMiByZG1hMV9zb3V0X2RzaTA7Cj4gKwl1MzIgZHBpMF9zZWxfaW47Cj4g
Kwl1MzIgZHBpMF9zZWxfaW5fcmRtYTE7Cj4gKwl1MzIgZHNpMF9zZWxfaW47Cj4gKwl1MzIgZHNp
MF9zZWxfaW5fcmRtYTE7Cj4gK307CgpyZG1hMF9zb3V0X3NlbF9pbiwgcmRtYTBfc291dF9jb2xv
cjAsIGFuZCByZG1hMV9zb3V0X2RzaTAgYXJlIG5vdCB1c2VkCmluIHRoaXMgcGF0Y2gsIHNvIHJl
bW92ZSBmcm9tIHRoaXMgcGF0Y2guCgo+ICsKPiAgc3RhdGljIGNvbnN0IHVuc2lnbmVkIGludCBt
dDI3MDFfbXV0ZXhfbW9kW0REUF9DT01QT05FTlRfSURfTUFYXSA9IHsKPiAgCVtERFBfQ09NUE9O
RU5UX0JMU10gPSBNVDI3MDFfTVVURVhfTU9EX0RJU1BfQkxTLAo+ICAJW0REUF9DT01QT05FTlRf
Q09MT1IwXSA9IE1UMjcwMV9NVVRFWF9NT0RfRElTUF9DT0xPUiwKPiBAQCAtMjUzLDE3ICsyNjYs
MzQgQEAgc3RydWN0IG10a19kZHAgewo+ICAJLm11dGV4X3NvZl9yZWcgPSBNVDI3MDFfRElTUF9N
VVRFWDBfU09GMCwKPiAgfTsKPiAgCj4gLXN0YXRpYyB1bnNpZ25lZCBpbnQgbXRrX2RkcF9tb3V0
X2VuKGVudW0gbXRrX2RkcF9jb21wX2lkIGN1ciwKPiArY29uc3Qgc3RydWN0IG10a19tbXN5c19y
ZWdfZGF0YSBtdDI3MDFfbW1zeXNfcmVnX2RhdGEgPSB7Cj4gKwkub3ZsMF9tb3V0X2VuID0gRElT
UF9SRUdfQ09ORklHX0RJU1BfT1ZMX01PVVRfRU4sCj4gKwkuZHNpMF9zZWxfaW4gPSBESVNQX1JF
R19DT05GSUdfRFNJX1NFTCwKPiArCS5kc2kwX3NlbF9pbl9yZG1hMSA9IERTSV9TRUxfSU5fUkRN
QSwKPiArfTsKPiArCj4gK2NvbnN0IHN0cnVjdCBtdGtfbW1zeXNfcmVnX2RhdGEgbXQ4MTczX21t
c3lzX3JlZ19kYXRhID0gewo+ICsJLm92bDBfbW91dF9lbiA9IERJU1BfUkVHX0NPTkZJR19ESVNQ
X09WTDBfTU9VVF9FTiwKPiArCS5yZG1hMV9zb3V0X3NlbF9pbiA9IERJU1BfUkVHX0NPTkZJR19E
SVNQX1JETUExX1NPVVRfRU4sCj4gKwkucmRtYTFfc291dF9kcGkwID0gUkRNQTFfU09VVF9EUEkw
LAo+ICsJLmRwaTBfc2VsX2luID0gRElTUF9SRUdfQ09ORklHX0RQSV9TRUxfSU4sCj4gKwkuZHBp
MF9zZWxfaW5fcmRtYTEgPSBEUEkwX1NFTF9JTl9SRE1BMSwKPiArCS5kc2kwX3NlbF9pbiA9IERJ
U1BfUkVHX0NPTkZJR19EU0lFX1NFTF9JTiwKPiArCS5kc2kwX3NlbF9pbl9yZG1hMSA9IERTSTBf
U0VMX0lOX1JETUExLAo+ICt9Owo+ICsKPiArc3RhdGljIHVuc2lnbmVkIGludCBtdGtfZGRwX21v
dXRfZW4oY29uc3Qgc3RydWN0IG10a19tbXN5c19yZWdfZGF0YSAqZGF0YSwKPiArCQkJCSAgICBl
bnVtIG10a19kZHBfY29tcF9pZCBjdXIsCj4gIAkJCQkgICAgZW51bSBtdGtfZGRwX2NvbXBfaWQg
bmV4dCwKPiAgCQkJCSAgICB1bnNpZ25lZCBpbnQgKmFkZHIpCj4gIHsKPiAgCXVuc2lnbmVkIGlu
dCB2YWx1ZTsKPiAgCj4gIAlpZiAoY3VyID09IEREUF9DT01QT05FTlRfT1ZMMCAmJiBuZXh0ID09
IEREUF9DT01QT05FTlRfQ09MT1IwKSB7Cj4gLQkJKmFkZHIgPSBESVNQX1JFR19DT05GSUdfRElT
UF9PVkwwX01PVVRfRU47Cj4gKwkJKmFkZHIgPSBkYXRhLT5vdmwwX21vdXRfZW47Cj4gIAkJdmFs
dWUgPSBPVkwwX01PVVRfRU5fQ09MT1IwOwo+ICAJfSBlbHNlIGlmIChjdXIgPT0gRERQX0NPTVBP
TkVOVF9PVkwwICYmIG5leHQgPT0gRERQX0NPTVBPTkVOVF9SRE1BMCkgewo+IC0JCSphZGRyID0g
RElTUF9SRUdfQ09ORklHX0RJU1BfT1ZMX01PVVRfRU47Cj4gKwkJKmFkZHIgPSBkYXRhLT5vdmww
X21vdXRfZW47Cj4gIAkJdmFsdWUgPSBPVkxfTU9VVF9FTl9SRE1BOwo+ICAJfSBlbHNlIGlmIChj
dXIgPT0gRERQX0NPTVBPTkVOVF9PRDAgJiYgbmV4dCA9PSBERFBfQ09NUE9ORU5UX1JETUEwKSB7
Cj4gIAkJKmFkZHIgPSBESVNQX1JFR19DT05GSUdfRElTUF9PRF9NT1VUX0VOOwo+IEBAIC0zMDUs
OCArMzM1LDggQEAgc3RhdGljIHVuc2lnbmVkIGludCBtdGtfZGRwX21vdXRfZW4oZW51bSBtdGtf
ZGRwX2NvbXBfaWQgY3VyLAo+ICAJCSphZGRyID0gRElTUF9SRUdfQ09ORklHX0RJU1BfUkRNQTFf
U09VVF9FTjsKPiAgCQl2YWx1ZSA9IFJETUExX1NPVVRfRFNJMzsKPiAgCX0gZWxzZSBpZiAoY3Vy
ID09IEREUF9DT01QT05FTlRfUkRNQTEgJiYgbmV4dCA9PSBERFBfQ09NUE9ORU5UX0RQSTApIHsK
PiAtCQkqYWRkciA9IERJU1BfUkVHX0NPTkZJR19ESVNQX1JETUExX1NPVVRfRU47Cj4gLQkJdmFs
dWUgPSBSRE1BMV9TT1VUX0RQSTA7Cj4gKwkJKmFkZHIgPSBkYXRhLT5yZG1hMV9zb3V0X3NlbF9p
bjsKPiArCQl2YWx1ZSA9IGRhdGEtPnJkbWExX3NvdXRfZHBpMDsKPiAgCX0gZWxzZSBpZiAoY3Vy
ID09IEREUF9DT01QT05FTlRfUkRNQTEgJiYgbmV4dCA9PSBERFBfQ09NUE9ORU5UX0RQSTEpIHsK
PiAgCQkqYWRkciA9IERJU1BfUkVHX0NPTkZJR19ESVNQX1JETUExX1NPVVRfRU47Cj4gIAkJdmFs
dWUgPSBSRE1BMV9TT1VUX0RQSTE7Cj4gQEAgLTMzMiw3ICszNjIsOCBAQCBzdGF0aWMgdW5zaWdu
ZWQgaW50IG10a19kZHBfbW91dF9lbihlbnVtIG10a19kZHBfY29tcF9pZCBjdXIsCj4gIAlyZXR1
cm4gdmFsdWU7Cj4gIH0KPiAgCj4gLXN0YXRpYyB1bnNpZ25lZCBpbnQgbXRrX2RkcF9zZWxfaW4o
ZW51bSBtdGtfZGRwX2NvbXBfaWQgY3VyLAo+ICtzdGF0aWMgdW5zaWduZWQgaW50IG10a19kZHBf
c2VsX2luKGNvbnN0IHN0cnVjdCBtdGtfbW1zeXNfcmVnX2RhdGEgKmRhdGEsCj4gKwkJCQkgICBl
bnVtIG10a19kZHBfY29tcF9pZCBjdXIsCj4gIAkJCQkgICBlbnVtIG10a19kZHBfY29tcF9pZCBu
ZXh0LAo+ICAJCQkJICAgdW5zaWduZWQgaW50ICphZGRyKQo+ICB7Cj4gQEAgLTM0MiwxNCArMzcz
LDE0IEBAIHN0YXRpYyB1bnNpZ25lZCBpbnQgbXRrX2RkcF9zZWxfaW4oZW51bSBtdGtfZGRwX2Nv
bXBfaWQgY3VyLAo+ICAJCSphZGRyID0gRElTUF9SRUdfQ09ORklHX0RJU1BfQ09MT1IwX1NFTF9J
TjsKPiAgCQl2YWx1ZSA9IENPTE9SMF9TRUxfSU5fT1ZMMDsKPiAgCX0gZWxzZSBpZiAoY3VyID09
IEREUF9DT01QT05FTlRfUkRNQTEgJiYgbmV4dCA9PSBERFBfQ09NUE9ORU5UX0RQSTApIHsKPiAt
CQkqYWRkciA9IERJU1BfUkVHX0NPTkZJR19EUElfU0VMX0lOOwo+IC0JCXZhbHVlID0gRFBJMF9T
RUxfSU5fUkRNQTE7Cj4gKwkJKmFkZHIgPSBkYXRhLT5kcGkwX3NlbF9pbjsKPiArCQl2YWx1ZSA9
IGRhdGEtPmRwaTBfc2VsX2luX3JkbWExOwo+ICAJfSBlbHNlIGlmIChjdXIgPT0gRERQX0NPTVBP
TkVOVF9SRE1BMSAmJiBuZXh0ID09IEREUF9DT01QT05FTlRfRFBJMSkgewo+ICAJCSphZGRyID0g
RElTUF9SRUdfQ09ORklHX0RQSV9TRUxfSU47Cj4gIAkJdmFsdWUgPSBEUEkxX1NFTF9JTl9SRE1B
MTsKPiAgCX0gZWxzZSBpZiAoY3VyID09IEREUF9DT01QT05FTlRfUkRNQTEgJiYgbmV4dCA9PSBE
RFBfQ09NUE9ORU5UX0RTSTApIHsKPiAtCQkqYWRkciA9IERJU1BfUkVHX0NPTkZJR19EU0lFX1NF
TF9JTjsKPiAtCQl2YWx1ZSA9IERTSTBfU0VMX0lOX1JETUExOwo+ICsJCSphZGRyID0gZGF0YS0+
ZHNpMF9zZWxfaW47Cj4gKwkJdmFsdWUgPSBkYXRhLT5kc2kwX3NlbF9pbl9yZG1hMTsKPiAgCX0g
ZWxzZSBpZiAoY3VyID09IEREUF9DT01QT05FTlRfUkRNQTEgJiYgbmV4dCA9PSBERFBfQ09NUE9O
RU5UX0RTSTEpIHsKPiAgCQkqYWRkciA9IERJU1BfUkVHX0NPTkZJR19EU0lPX1NFTF9JTjsKPiAg
CQl2YWx1ZSA9IERTSTFfU0VMX0lOX1JETUExOwo+IEBAIC0zOTAsMzcgKzQyMSw0NCBAQCBzdGF0
aWMgdW5zaWduZWQgaW50IG10a19kZHBfc2VsX2luKGVudW0gbXRrX2RkcF9jb21wX2lkIGN1ciwK
PiAgCXJldHVybiB2YWx1ZTsKPiAgfQo+ICAKPiAtc3RhdGljIHZvaWQgbXRrX2RkcF9zb3V0X3Nl
bCh2b2lkIF9faW9tZW0gKmNvbmZpZ19yZWdzLAo+IC0JCQkgICAgIGVudW0gbXRrX2RkcF9jb21w
X2lkIGN1ciwKPiAtCQkJICAgICBlbnVtIG10a19kZHBfY29tcF9pZCBuZXh0KQo+ICtzdGF0aWMg
dW5zaWduZWQgaW50IG10a19kZHBfc291dF9zZWwoY29uc3Qgc3RydWN0IG10a19tbXN5c19yZWdf
ZGF0YSAqZGF0YSwKPiArCQkJCSAgICAgZW51bSBtdGtfZGRwX2NvbXBfaWQgY3VyLAo+ICsJCQkJ
ICAgICBlbnVtIG10a19kZHBfY29tcF9pZCBuZXh0LAo+ICsJCQkJICAgICB1bnNpZ25lZCBpbnQg
KmFkZHIpCj4gIHsKPiArCXVuc2lnbmVkIGludCB2YWx1ZTsKPiArCj4gIAlpZiAoY3VyID09IERE
UF9DT01QT05FTlRfQkxTICYmIG5leHQgPT0gRERQX0NPTVBPTkVOVF9EU0kwKSB7Cj4gLQkJd3Jp
dGVsX3JlbGF4ZWQoQkxTX1RPX0RTSV9SRE1BMV9UT19EUEkxLAo+IC0JCQkgICAgICAgY29uZmln
X3JlZ3MgKyBESVNQX1JFR19DT05GSUdfT1VUX1NFTCk7Cj4gKwkJKmFkZHIgPSBESVNQX1JFR19D
T05GSUdfT1VUX1NFTDsKPiArCQl2YWx1ZSA9IEJMU19UT19EU0lfUkRNQTFfVE9fRFBJMTsKPiAg
CX0gZWxzZSBpZiAoY3VyID09IEREUF9DT01QT05FTlRfQkxTICYmIG5leHQgPT0gRERQX0NPTVBP
TkVOVF9EUEkwKSB7Cj4gLQkJd3JpdGVsX3JlbGF4ZWQoQkxTX1RPX0RQSV9SRE1BMV9UT19EU0ks
Cj4gLQkJCSAgICAgICBjb25maWdfcmVncyArIERJU1BfUkVHX0NPTkZJR19PVVRfU0VMKTsKPiAt
CX0gZWxzZSBpZiAoY3VyID09IEREUF9DT01QT05FTlRfUkRNQTEgJiYgbmV4dCA9PSBERFBfQ09N
UE9ORU5UX0RTSTApIHsKPiAtCQl3cml0ZWxfcmVsYXhlZChEU0lfU0VMX0lOX1JETUEsCj4gLQkJ
CSAgICAgICBjb25maWdfcmVncyArIERJU1BfUkVHX0NPTkZJR19EU0lfU0VMKTsKPiArCQkqYWRk
ciA9IERJU1BfUkVHX0NPTkZJR19PVVRfU0VMOwo+ICsJCXZhbHVlID0gQkxTX1RPX0RQSV9SRE1B
MV9UT19EU0k7Cj4gKwl9IGVsc2Ugewo+ICsJCXZhbHVlID0gMDsKPiAgCX0KPiArCj4gKwlyZXR1
cm4gdmFsdWU7Cj4gIH0KPiAgCj4gIHZvaWQgbXRrX2RkcF9hZGRfY29tcF90b19wYXRoKHZvaWQg
X19pb21lbSAqY29uZmlnX3JlZ3MsCj4gKwkJCSAgICAgIGNvbnN0IHN0cnVjdCBtdGtfbW1zeXNf
cmVnX2RhdGEgKnJlZ19kYXRhLAo+ICAJCQkgICAgICBlbnVtIG10a19kZHBfY29tcF9pZCBjdXIs
Cj4gIAkJCSAgICAgIGVudW0gbXRrX2RkcF9jb21wX2lkIG5leHQpCj4gIHsKPiAgCXVuc2lnbmVk
IGludCBhZGRyLCB2YWx1ZSwgcmVnOwo+ICAKPiAtCXZhbHVlID0gbXRrX2RkcF9tb3V0X2VuKGN1
ciwgbmV4dCwgJmFkZHIpOwo+ICsJdmFsdWUgPSBtdGtfZGRwX21vdXRfZW4ocmVnX2RhdGEsIGN1
ciwgbmV4dCwgJmFkZHIpOwo+ICAJaWYgKHZhbHVlKSB7Cj4gIAkJcmVnID0gcmVhZGxfcmVsYXhl
ZChjb25maWdfcmVncyArIGFkZHIpIHwgdmFsdWU7Cj4gIAkJd3JpdGVsX3JlbGF4ZWQocmVnLCBj
b25maWdfcmVncyArIGFkZHIpOwo+ICAJfQo+ICAKPiAtCW10a19kZHBfc291dF9zZWwoY29uZmln
X3JlZ3MsIGN1ciwgbmV4dCk7Cj4gKwl2YWx1ZSA9IG10a19kZHBfc291dF9zZWwocmVnX2RhdGEs
IGN1ciwgbmV4dCwgJmFkZHIpOwo+ICsJaWYgKHZhbHVlKQo+ICsJCXdyaXRlbF9yZWxheGVkKHZh
bHVlLCBjb25maWdfcmVncyArIGFkZHIpOwoKSSB0aGluayB0aGUgcmVnaXN0ZXIgY291bGQgYmUg
d3JpdHRlbiBpbnNpZGUgbXRrX2RkcF9zb3V0X3NlbCgpLCB3aHkgZG8KeW91IG1vdmUgb3V0IG9m
IHRoYXQgZnVuY3Rpb24/CgpSZWdhcmRzLApDSwoKPiAgCj4gLQl2YWx1ZSA9IG10a19kZHBfc2Vs
X2luKGN1ciwgbmV4dCwgJmFkZHIpOwo+ICsJdmFsdWUgPSBtdGtfZGRwX3NlbF9pbihyZWdfZGF0
YSwgY3VyLCBuZXh0LCAmYWRkcik7Cj4gIAlpZiAodmFsdWUpIHsKPiAgCQlyZWcgPSByZWFkbF9y
ZWxheGVkKGNvbmZpZ19yZWdzICsgYWRkcikgfCB2YWx1ZTsKPiAgCQl3cml0ZWxfcmVsYXhlZChy
ZWcsIGNvbmZpZ19yZWdzICsgYWRkcik7Cj4gQEAgLTQyOCwxOCArNDY2LDE5IEBAIHZvaWQgbXRr
X2RkcF9hZGRfY29tcF90b19wYXRoKHZvaWQgX19pb21lbSAqY29uZmlnX3JlZ3MsCj4gIH0KPiAg
Cj4gIHZvaWQgbXRrX2RkcF9yZW1vdmVfY29tcF9mcm9tX3BhdGgodm9pZCBfX2lvbWVtICpjb25m
aWdfcmVncywKPiArCQkJCSAgIGNvbnN0IHN0cnVjdCBtdGtfbW1zeXNfcmVnX2RhdGEgKnJlZ19k
YXRhLAo+ICAJCQkJICAgZW51bSBtdGtfZGRwX2NvbXBfaWQgY3VyLAo+ICAJCQkJICAgZW51bSBt
dGtfZGRwX2NvbXBfaWQgbmV4dCkKPiAgewo+ICAJdW5zaWduZWQgaW50IGFkZHIsIHZhbHVlLCBy
ZWc7Cj4gIAo+IC0JdmFsdWUgPSBtdGtfZGRwX21vdXRfZW4oY3VyLCBuZXh0LCAmYWRkcik7Cj4g
Kwl2YWx1ZSA9IG10a19kZHBfbW91dF9lbihyZWdfZGF0YSwgY3VyLCBuZXh0LCAmYWRkcik7Cj4g
IAlpZiAodmFsdWUpIHsKPiAgCQlyZWcgPSByZWFkbF9yZWxheGVkKGNvbmZpZ19yZWdzICsgYWRk
cikgJiB+dmFsdWU7Cj4gIAkJd3JpdGVsX3JlbGF4ZWQocmVnLCBjb25maWdfcmVncyArIGFkZHIp
Owo+ICAJfQo+ICAKPiAtCXZhbHVlID0gbXRrX2RkcF9zZWxfaW4oY3VyLCBuZXh0LCAmYWRkcik7
Cj4gKwl2YWx1ZSA9IG10a19kZHBfc2VsX2luKHJlZ19kYXRhLCBjdXIsIG5leHQsICZhZGRyKTsK
PiAgCWlmICh2YWx1ZSkgewo+ICAJCXJlZyA9IHJlYWRsX3JlbGF4ZWQoY29uZmlnX3JlZ3MgKyBh
ZGRyKSAmIH52YWx1ZTsKPiAgCQl3cml0ZWxfcmVsYXhlZChyZWcsIGNvbmZpZ19yZWdzICsgYWRk
cik7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfZHJtX2RkcC5o
IGIvZHJpdmVycy9ncHUvZHJtL21lZGlhdGVrL210a19kcm1fZGRwLmgKPiBpbmRleCBmOWE3OTkx
Li40M2RhYmI2IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfZHJt
X2RkcC5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL21lZGlhdGVrL210a19kcm1fZGRwLmgKPiBA
QCAtMTksMTEgKzE5LDE2IEBACj4gIHN0cnVjdCByZWdtYXA7Cj4gIHN0cnVjdCBkZXZpY2U7Cj4g
IHN0cnVjdCBtdGtfZGlzcF9tdXRleDsKPiArc3RydWN0IG10a19tbXN5c19yZWdfZGF0YTsKPiAg
Cj4gK2V4dGVybiBjb25zdCBzdHJ1Y3QgbXRrX21tc3lzX3JlZ19kYXRhIG10MjcwMV9tbXN5c19y
ZWdfZGF0YTsKPiArZXh0ZXJuIGNvbnN0IHN0cnVjdCBtdGtfbW1zeXNfcmVnX2RhdGEgbXQ4MTcz
X21tc3lzX3JlZ19kYXRhOwo+ICB2b2lkIG10a19kZHBfYWRkX2NvbXBfdG9fcGF0aCh2b2lkIF9f
aW9tZW0gKmNvbmZpZ19yZWdzLAo+ICsJCQkgICAgICBjb25zdCBzdHJ1Y3QgbXRrX21tc3lzX3Jl
Z19kYXRhICpyZWdfZGF0YSwKPiAgCQkJICAgICAgZW51bSBtdGtfZGRwX2NvbXBfaWQgY3VyLAo+
ICAJCQkgICAgICBlbnVtIG10a19kZHBfY29tcF9pZCBuZXh0KTsKPiAgdm9pZCBtdGtfZGRwX3Jl
bW92ZV9jb21wX2Zyb21fcGF0aCh2b2lkIF9faW9tZW0gKmNvbmZpZ19yZWdzLAo+ICsJCQkJICAg
Y29uc3Qgc3RydWN0IG10a19tbXN5c19yZWdfZGF0YSAqcmVnX2RhdGEsCj4gIAkJCQkgICBlbnVt
IG10a19kZHBfY29tcF9pZCBjdXIsCj4gIAkJCQkgICBlbnVtIG10a19kZHBfY29tcF9pZCBuZXh0
KTsKPiAgCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfZHJtX2Ry
di5jIGIvZHJpdmVycy9ncHUvZHJtL21lZGlhdGVrL210a19kcm1fZHJ2LmMKPiBpbmRleCA1N2Nl
NDcwLi41Zjk0MjU5IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtf
ZHJtX2Rydi5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL21lZGlhdGVrL210a19kcm1fZHJ2LmMK
PiBAQCAtMTk3LDYgKzE5Nyw3IEBAIHN0YXRpYyBpbnQgbXRrX2F0b21pY19jb21taXQoc3RydWN0
IGRybV9kZXZpY2UgKmRybSwKPiAgCS5tYWluX2xlbiA9IEFSUkFZX1NJWkUobXQyNzAxX210a19k
ZHBfbWFpbiksCj4gIAkuZXh0X3BhdGggPSBtdDI3MDFfbXRrX2RkcF9leHQsCj4gIAkuZXh0X2xl
biA9IEFSUkFZX1NJWkUobXQyNzAxX210a19kZHBfZXh0KSwKPiArCS5yZWdfZGF0YSA9ICZtdDI3
MDFfbW1zeXNfcmVnX2RhdGEsCj4gIAkuc2hhZG93X3JlZ2lzdGVyID0gdHJ1ZSwKPiAgfTsKPiAg
Cj4gQEAgLTIwNyw2ICsyMDgsNyBAQCBzdGF0aWMgaW50IG10a19hdG9taWNfY29tbWl0KHN0cnVj
dCBkcm1fZGV2aWNlICpkcm0sCj4gIAkuZXh0X2xlbiA9IEFSUkFZX1NJWkUobXQyNzEyX210a19k
ZHBfZXh0KSwKPiAgCS50aGlyZF9wYXRoID0gbXQyNzEyX210a19kZHBfdGhpcmQsCj4gIAkudGhp
cmRfbGVuID0gQVJSQVlfU0laRShtdDI3MTJfbXRrX2RkcF90aGlyZCksCj4gKwkucmVnX2RhdGEg
PSAmbXQ4MTczX21tc3lzX3JlZ19kYXRhLAo+ICB9Owo+ICAKPiAgc3RhdGljIGNvbnN0IHN0cnVj
dCBtdGtfbW1zeXNfZHJpdmVyX2RhdGEgbXQ4MTczX21tc3lzX2RyaXZlcl9kYXRhID0gewo+IEBA
IC0yMTQsNiArMjE2LDcgQEAgc3RhdGljIGludCBtdGtfYXRvbWljX2NvbW1pdChzdHJ1Y3QgZHJt
X2RldmljZSAqZHJtLAo+ICAJLm1haW5fbGVuID0gQVJSQVlfU0laRShtdDgxNzNfbXRrX2RkcF9t
YWluKSwKPiAgCS5leHRfcGF0aCA9IG10ODE3M19tdGtfZGRwX2V4dCwKPiAgCS5leHRfbGVuID0g
QVJSQVlfU0laRShtdDgxNzNfbXRrX2RkcF9leHQpLAo+ICsJLnJlZ19kYXRhID0gJm10ODE3M19t
bXN5c19yZWdfZGF0YSwKPiAgfTsKPiAgCj4gIHN0YXRpYyBpbnQgbXRrX2RybV9rbXNfaW5pdChz
dHJ1Y3QgZHJtX2RldmljZSAqZHJtKQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbWVk
aWF0ZWsvbXRrX2RybV9kcnYuaCBiL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfZHJtX2Ry
di5oCj4gaW5kZXggZWNjMDBjYS4uMWU2ZDc0YiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9k
cm0vbWVkaWF0ZWsvbXRrX2RybV9kcnYuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRl
ay9tdGtfZHJtX2Rydi5oCj4gQEAgLTE1LDYgKzE1LDcgQEAKPiAgI2RlZmluZSBNVEtfRFJNX0RS
Vl9ICj4gIAo+ICAjaW5jbHVkZSA8bGludXgvaW8uaD4KPiArI2luY2x1ZGUgIm10a19kcm1fZGRw
LmgiCj4gICNpbmNsdWRlICJtdGtfZHJtX2RkcF9jb21wLmgiCj4gIAo+ICAjZGVmaW5lIE1BWF9D
UlRDCTMKPiBAQCAtMzYsNiArMzcsOCBAQCBzdHJ1Y3QgbXRrX21tc3lzX2RyaXZlcl9kYXRhIHsK
PiAgCWNvbnN0IGVudW0gbXRrX2RkcF9jb21wX2lkICp0aGlyZF9wYXRoOwo+ICAJdW5zaWduZWQg
aW50IHRoaXJkX2xlbjsKPiAgCj4gKwljb25zdCBzdHJ1Y3QgbXRrX21tc3lzX3JlZ19kYXRhICpy
ZWdfZGF0YTsKPiArCj4gIAlib29sIHNoYWRvd19yZWdpc3RlcjsKPiAgfTsKPiAgCgoKX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxp
bmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
