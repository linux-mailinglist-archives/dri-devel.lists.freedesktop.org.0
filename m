Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 15B4FE06C6
	for <lists+dri-devel@lfdr.de>; Tue, 22 Oct 2019 16:52:21 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7585B6E837;
	Tue, 22 Oct 2019 14:52:18 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wm1-x341.google.com (mail-wm1-x341.google.com
 [IPv6:2a00:1450:4864:20::341])
 by gabe.freedesktop.org (Postfix) with ESMTPS id BEAC76E837
 for <dri-devel@lists.freedesktop.org>; Tue, 22 Oct 2019 14:52:16 +0000 (UTC)
Received: by mail-wm1-x341.google.com with SMTP id 6so3861393wmf.0
 for <dri-devel@lists.freedesktop.org>; Tue, 22 Oct 2019 07:52:16 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=acekxa3pyxr0Qfv9tu4htlRu5Q+Q4aBAVssbB5eW1JE=;
 b=eHLTkgMZ7qBXsa0IUIxWpuPhyIT2YBCTH1+BC6etDgpCTRLaK8xzEkEaI7VDMHaklj
 zotU17OiGt3MVrWXV2Z7DTF3VGQhvmHst5QMrAPDdbhfbLNVyVmenZm+L7+rnc7mk6J8
 UKJHP8E8T5qLfm0OO+Lwc+9yFRbozrqYP4lw2VdgEj8+PNmIeZvSbGVccihZNGYDuU3F
 hW4XZmCLJf4yQOx1J5/IFmubwVmJ5Wixzjh3SN4jOd6jCtkrEapfN1JNpXQW4Hb9tl6S
 eM3C7iS51e5piFUhpAO4/v7wFD8aAlu69uGuQUATFDv7Rshjxzrj2LP8666Xv+/++EWE
 HDaQ==
X-Gm-Message-State: APjAAAUWA3wveqmk0uha5T38lHEk6tqsVXbpvoeflgWzqr/Huh4FEk//
 dGY33+2Buu0hb/O/IAMmhXpoSdbk
X-Google-Smtp-Source: APXvYqwJ3zmxBLz11PjodpraSw+6wGIFxGQnx+aQp7mXaeZNtjrOmMDPEm4DSGGdbbRiCQp1wIbKLw==
X-Received: by 2002:a1c:3cc4:: with SMTP id j187mr50098wma.95.1571755935151;
 Tue, 22 Oct 2019 07:52:15 -0700 (PDT)
Received: from localhost (p2E5BE2CE.dip0.t-ipconnect.de. [46.91.226.206])
 by smtp.gmail.com with ESMTPSA id s21sm21879639wrb.31.2019.10.22.07.52.13
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Tue, 22 Oct 2019 07:52:13 -0700 (PDT)
From: Thierry Reding <thierry.reding@gmail.com>
To: Daniel Vetter <daniel@ffwll.ch>
Subject: [PATCH v4] drm/bridge: analogix-anx78xx: Avoid drm_dp_link helpers
Date: Tue, 22 Oct 2019 16:52:11 +0200
Message-Id: <20191022145211.2258525-1-thierry.reding@gmail.com>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20191022132906.GK11828@phenom.ffwll.local>
References: <20191022132906.GK11828@phenom.ffwll.local>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=acekxa3pyxr0Qfv9tu4htlRu5Q+Q4aBAVssbB5eW1JE=;
 b=r2J/30cLE8TzVe4p8uSAqFyU0L4Aap+UpqAvCwC8JHGA9WBIC+/HkDcxrDG2rbagI0
 eCNowyuWjsmI1C7iujb8M24t1ES2dJ5yEnNZQk+vq9pN+7i3e6qYEuBQ7Sgrh6wtEzWs
 p54b348jDoIS/0sw3MVbLpY6klgdNSQySONn51fJpuCklCwD59KpgPkpahpHR227QNtF
 vT0XpRdBv4HxEUQuFxIot2/+Sc7ERDYvBj+A4TXJ9OL9VHjKwaLDldawvO5SWKXAQGSY
 mz0THs4HnlVijEuk5XiMDz5/dXuBzLHOnGVltptOpHo4S+JgME+Csic6DBHLJ5Y4xjOy
 RoCA==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogVGhpZXJyeSBSZWRpbmcgPHRyZWRpbmdAbnZpZGlhLmNvbT4KCkR1cmluZyB0aGUgZGlz
Y3Vzc2lvbiBvZiBwYXRjaGVzIHRoYXQgZW5oYW5jZSB0aGUgZHJtX2RwX2xpbmsgaGVscGVycyBp
dAp3YXMgY29uY2x1ZGVkIHRoYXQgdGhlc2UgaGVscGVycyBhcmVuJ3QgdmVyeSB1c2VmdWwgdG8g
YmVnaW4gd2l0aC4gU3RhcnQKcHVzaGluZyB0aGUgZXF1aXZhbGVudCBjb2RlIGludG8gaW5kaXZp
ZHVhbCBkcml2ZXJzIHRvIHVsdGltYXRlbHkgcmVtb3ZlCnRoZW0uCgp2NDogdXNlIGJ1bGsgRFBD
RCB3cml0ZXMgaWYgcG9zc2libGUgKERhbmllbCBWZXR0ZXIpCgpTaWduZWQtb2ZmLWJ5OiBUaGll
cnJ5IFJlZGluZyA8dHJlZGluZ0BudmlkaWEuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9icmlk
Z2UvYW5hbG9naXgtYW54Nzh4eC5jIHwgNTYgKysrKysrKysrKysrKysrKy0tLS0tLS0KIDEgZmls
ZSBjaGFuZ2VkLCAzOSBpbnNlcnRpb25zKCspLCAxNyBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4LWFueDc4eHguYyBiL2RyaXZlcnMvZ3B1
L2RybS9icmlkZ2UvYW5hbG9naXgtYW54Nzh4eC5jCmluZGV4IDlkZGMxZjNjZjg0MS4uMjc0OTg5
Zjk2YTkxIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4LWFueDc4
eHguYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4LWFueDc4eHguYwpAQCAt
NzEsNyArNzEsNiBAQCBzdHJ1Y3QgYW54Nzh4eCB7CiAJc3RydWN0IGkyY19jbGllbnQgKmNsaWVu
dDsKIAlzdHJ1Y3QgZWRpZCAqZWRpZDsKIAlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciBjb25uZWN0b3I7
Ci0Jc3RydWN0IGRybV9kcF9saW5rIGxpbms7CiAJc3RydWN0IGFueDc4eHhfcGxhdGZvcm1fZGF0
YSBwZGF0YTsKIAlzdHJ1Y3QgbXV0ZXggbG9jazsKIApAQCAtNzQ4LDcgKzc0Nyw3IEBAIHN0YXRp
YyBpbnQgYW54Nzh4eF9pbml0X3BkYXRhKHN0cnVjdCBhbng3OHh4ICphbng3OHh4KQogCiBzdGF0
aWMgaW50IGFueDc4eHhfZHBfbGlua190cmFpbmluZyhzdHJ1Y3QgYW54Nzh4eCAqYW54Nzh4eCkK
IHsKLQl1OCBkcF9idywgdmFsdWU7CisJdTggZHBfYncsIGRwY2RbMl07CiAJaW50IGVycjsKIAog
CWVyciA9IHJlZ21hcF93cml0ZShhbng3OHh4LT5tYXBbSTJDX0lEWF9SWF9QMF0sIFNQX0hETUlf
TVVURV9DVFJMX1JFRywKQEAgLTgwMSwxOCArODAwLDM0IEBAIHN0YXRpYyBpbnQgYW54Nzh4eF9k
cF9saW5rX3RyYWluaW5nKHN0cnVjdCBhbng3OHh4ICphbng3OHh4KQogCWlmIChlcnIpCiAJCXJl
dHVybiBlcnI7CiAKLQkvKiBDaGVjayBsaW5rIGNhcGFiaWxpdGllcyAqLwotCWVyciA9IGRybV9k
cF9saW5rX3Byb2JlKCZhbng3OHh4LT5hdXgsICZhbng3OHh4LT5saW5rKTsKLQlpZiAoZXJyIDwg
MCkgewotCQlEUk1fRVJST1IoIkZhaWxlZCB0byBwcm9iZSBsaW5rIGNhcGFiaWxpdGllczogJWRc
biIsIGVycik7Ci0JCXJldHVybiBlcnI7Ci0JfQorCS8qCisJICogUG93ZXIgdXAgdGhlIHNpbmsg
KERQX1NFVF9QT1dFUiByZWdpc3RlciBpcyBvbmx5IGF2YWlsYWJsZSBvbiBEUENECisJICogdjEu
MSBhbmQgbGF0ZXIpLgorCSAqLworCWlmIChhbng3OHh4LT5kcGNkW0RQX0RQQ0RfUkVWXSA+PSAw
eDExKSB7CisJCWVyciA9IGRybV9kcF9kcGNkX3JlYWRiKCZhbng3OHh4LT5hdXgsIERQX1NFVF9Q
T1dFUiwgJmRwY2RbMF0pOworCQlpZiAoZXJyIDwgMCkgeworCQkJRFJNX0VSUk9SKCJGYWlsZWQg
dG8gcmVhZCBEUF9TRVRfUE9XRVIgcmVnaXN0ZXI6ICVkXG4iLAorCQkJCSAgZXJyKTsKKwkJCXJl
dHVybiBlcnI7CisJCX0KIAotCS8qIFBvd2VyIHVwIHRoZSBzaW5rICovCi0JZXJyID0gZHJtX2Rw
X2xpbmtfcG93ZXJfdXAoJmFueDc4eHgtPmF1eCwgJmFueDc4eHgtPmxpbmspOwotCWlmIChlcnIg
PCAwKSB7Ci0JCURSTV9FUlJPUigiRmFpbGVkIHRvIHBvd2VyIHVwIERpc3BsYXlQb3J0IGxpbms6
ICVkXG4iLCBlcnIpOwotCQlyZXR1cm4gZXJyOworCQlkcGNkWzBdICY9IH5EUF9TRVRfUE9XRVJf
TUFTSzsKKwkJZHBjZFswXSB8PSBEUF9TRVRfUE9XRVJfRDA7CisKKwkJZXJyID0gZHJtX2RwX2Rw
Y2Rfd3JpdGViKCZhbng3OHh4LT5hdXgsIERQX1NFVF9QT1dFUiwgZHBjZFswXSk7CisJCWlmIChl
cnIgPCAwKSB7CisJCQlEUk1fRVJST1IoIkZhaWxlZCB0byBwb3dlciB1cCBEaXNwbGF5UG9ydCBs
aW5rOiAlZFxuIiwKKwkJCQkgIGVycik7CisJCQlyZXR1cm4gZXJyOworCQl9CisKKwkJLyoKKwkJ
ICogQWNjb3JkaW5nIHRvIHRoZSBEUCAxLjEgc3BlY2lmaWNhdGlvbiwgYSAiU2luayBEZXZpY2Ug
bXVzdAorCQkgKiBleGl0IHRoZSBwb3dlciBzYXZpbmcgc3RhdGUgd2l0aGluIDEgbXMiIChTZWN0
aW9uIDIuNS4zLjEsCisJCSAqIFRhYmxlIDUtNTIsICJTaW5rIENvbnRyb2wgRmllbGQiIChyZWdp
c3RlciAweDYwMCkuCisJCSAqLworCQl1c2xlZXBfcmFuZ2UoMTAwMCwgMjAwMCk7CiAJfQogCiAJ
LyogUG9zc2libHkgZW5hYmxlIGRvd25zcHJlYWQgb24gdGhlIHNpbmsgKi8KQEAgLTg1MSwxNSAr
ODY2LDIyIEBAIHN0YXRpYyBpbnQgYW54Nzh4eF9kcF9saW5rX3RyYWluaW5nKHN0cnVjdCBhbng3
OHh4ICphbng3OHh4KQogCWlmIChlcnIpCiAJCXJldHVybiBlcnI7CiAKLQl2YWx1ZSA9IGRybV9k
cF9saW5rX3JhdGVfdG9fYndfY29kZShhbng3OHh4LT5saW5rLnJhdGUpOworCWRwY2RbMF0gPSBk
cm1fZHBfbWF4X2xpbmtfcmF0ZShhbng3OHh4LT5kcGNkKTsKKwlkcGNkWzBdID0gZHJtX2RwX2xp
bmtfcmF0ZV90b19id19jb2RlKGRwY2RbMF0pOwogCWVyciA9IHJlZ21hcF93cml0ZShhbng3OHh4
LT5tYXBbSTJDX0lEWF9UWF9QMF0sCi0JCQkgICBTUF9EUF9NQUlOX0xJTktfQldfU0VUX1JFRywg
dmFsdWUpOworCQkJICAgU1BfRFBfTUFJTl9MSU5LX0JXX1NFVF9SRUcsIGRwY2RbMF0pOwogCWlm
IChlcnIpCiAJCXJldHVybiBlcnI7CiAKLQllcnIgPSBkcm1fZHBfbGlua19jb25maWd1cmUoJmFu
eDc4eHgtPmF1eCwgJmFueDc4eHgtPmxpbmspOworCWRwY2RbMV0gPSBkcm1fZHBfbWF4X2xhbmVf
Y291bnQoYW54Nzh4eC0+ZHBjZCk7CisKKwlpZiAoZHJtX2RwX2VuaGFuY2VkX2ZyYW1lX2NhcChh
bng3OHh4LT5kcGNkKSkKKwkJZHBjZFsxXSB8PSBEUF9MQU5FX0NPVU5UX0VOSEFOQ0VEX0ZSQU1F
X0VOOworCisJZXJyID0gZHJtX2RwX2RwY2Rfd3JpdGUoJmFueDc4eHgtPmF1eCwgRFBfTElOS19C
V19TRVQsIGRwY2QsCisJCQkJc2l6ZW9mKGRwY2QpKTsKIAlpZiAoZXJyIDwgMCkgewotCQlEUk1f
RVJST1IoIkZhaWxlZCB0byBjb25maWd1cmUgRGlzcGxheVBvcnQgbGluazogJWRcbiIsIGVycik7
CisJCURSTV9FUlJPUigiRmFpbGVkIHRvIGNvbmZpZ3VyZSBsaW5rOiAlZFxuIiwgZXJyKTsKIAkJ
cmV0dXJuIGVycjsKIAl9CiAKLS0gCjIuMjMuMAoKX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vZHJpLWRldmVs
