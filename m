Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 8A13A8EFF8
	for <lists+dri-devel@lfdr.de>; Thu, 15 Aug 2019 18:00:50 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 18A9C6E437;
	Thu, 15 Aug 2019 16:00:47 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mx1.suse.de (mx2.suse.de [195.135.220.15])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 671036E42B;
 Thu, 15 Aug 2019 16:00:45 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id A4EFBAD7C;
 Thu, 15 Aug 2019 16:00:42 +0000 (UTC)
Date: Thu, 15 Aug 2019 18:00:41 +0200
From: Michal Hocko <mhocko@kernel.org>
To: Jason Gunthorpe <jgg@ziepe.ca>
Subject: Re: [PATCH 2/5] kernel.h: Add non_block_start/end()
Message-ID: <20190815155950.GN9477@dhcp22.suse.cz>
References: <20190814202027.18735-1-daniel.vetter@ffwll.ch>
 <20190814202027.18735-3-daniel.vetter@ffwll.ch>
 <20190814235805.GB11200@ziepe.ca>
 <20190815065829.GA7444@phenom.ffwll.local>
 <20190815122344.GA21596@ziepe.ca>
 <20190815132127.GI9477@dhcp22.suse.cz>
 <20190815141219.GF21596@ziepe.ca>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190815141219.GF21596@ziepe.ca>
User-Agent: Mutt/1.10.1 (2018-07-13)
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Feng Tang <feng.tang@intel.com>, Randy Dunlap <rdunlap@infradead.org>,
 Kees Cook <keescook@chromium.org>,
 Masahiro Yamada <yamada.masahiro@socionext.com>,
 Peter Zijlstra <peterz@infradead.org>,
 Intel Graphics Development <intel-gfx@lists.freedesktop.org>,
 Jann Horn <jannh@google.com>, LKML <linux-kernel@vger.kernel.org>,
 DRI Development <dri-devel@lists.freedesktop.org>, linux-mm@kvack.org,
 =?iso-8859-1?B?Suly9G1l?= Glisse <jglisse@redhat.com>,
 Ingo Molnar <mingo@redhat.com>, Thomas Gleixner <tglx@linutronix.de>,
 David Rientjes <rientjes@google.com>, Wei Wang <wvw@google.com>,
 Daniel Vetter <daniel.vetter@intel.com>,
 Andrew Morton <akpm@linux-foundation.org>,
 Andy Shevchenko <andriy.shevchenko@linux.intel.com>,
 Christian =?iso-8859-1?Q?K=F6nig?= <christian.koenig@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVGh1IDE1LTA4LTE5IDExOjEyOjE5LCBKYXNvbiBHdW50aG9ycGUgd3JvdGU6Cj4gT24gVGh1
LCBBdWcgMTUsIDIwMTkgYXQgMDM6MjE6MjdQTSArMDIwMCwgTWljaGFsIEhvY2tvIHdyb3RlOgo+
ID4gT24gVGh1IDE1LTA4LTE5IDA5OjIzOjQ0LCBKYXNvbiBHdW50aG9ycGUgd3JvdGU6Cj4gPiA+
IE9uIFRodSwgQXVnIDE1LCAyMDE5IGF0IDA4OjU4OjI5QU0gKzAyMDAsIERhbmllbCBWZXR0ZXIg
d3JvdGU6Cj4gPiA+ID4gT24gV2VkLCBBdWcgMTQsIDIwMTkgYXQgMDg6NTg6MDVQTSAtMDMwMCwg
SmFzb24gR3VudGhvcnBlIHdyb3RlOgo+ID4gPiA+ID4gT24gV2VkLCBBdWcgMTQsIDIwMTkgYXQg
MTA6MjA6MjRQTSArMDIwMCwgRGFuaWVsIFZldHRlciB3cm90ZToKPiA+ID4gPiA+ID4gSW4gc29t
ZSBzcGVjaWFsIGNhc2VzIHdlIG11c3Qgbm90IGJsb2NrLCBidXQgdGhlcmUncyBub3QgYQo+ID4g
PiA+ID4gPiBzcGlubG9jaywgcHJlZW1wdC1vZmYsIGlycXMtb2ZmIG9yIHNpbWlsYXIgY3JpdGlj
YWwgc2VjdGlvbiBhbHJlYWR5Cj4gPiA+ID4gPiA+IHRoYXQgYXJtcyB0aGUgbWlnaHRfc2xlZXAo
KSBkZWJ1ZyBjaGVja3MuIEFkZCBhIG5vbl9ibG9ja19zdGFydC9lbmQoKQo+ID4gPiA+ID4gPiBw
YWlyIHRvIGFubm90YXRlIHRoZXNlLgo+ID4gPiA+ID4gPiAKPiA+ID4gPiA+ID4gVGhpcyB3aWxs
IGJlIHVzZWQgaW4gdGhlIG9vbSBwYXRocyBvZiBtbXUtbm90aWZpZXJzLCB3aGVyZSBibG9ja2lu
ZyBpcwo+ID4gPiA+ID4gPiBub3QgYWxsb3dlZCB0byBtYWtlIHN1cmUgdGhlcmUncyBmb3J3YXJk
IHByb2dyZXNzLiBRdW90aW5nIE1pY2hhbDoKPiA+ID4gPiA+ID4gCj4gPiA+ID4gPiA+ICJUaGUg
bm90aWZpZXIgaXMgY2FsbGVkIGZyb20gcXVpdGUgYSByZXN0cmljdGVkIGNvbnRleHQgLSBvb21f
cmVhcGVyIC0KPiA+ID4gPiA+ID4gd2hpY2ggc2hvdWxkbid0IGRlcGVuZCBvbiBhbnkgbG9ja3Mg
b3Igc2xlZXBhYmxlIGNvbmRpdGlvbmFscy4gVGhlIGNvZGUKPiA+ID4gPiA+ID4gc2hvdWxkIGJl
IHN3aWZ0IGFzIHdlbGwgYnV0IHdlIG1vc3RseSBkbyBjYXJlIGFib3V0IGl0IHRvIG1ha2UgYSBm
b3J3YXJkCj4gPiA+ID4gPiA+IHByb2dyZXNzLiBDaGVja2luZyBmb3Igc2xlZXBhYmxlIGNvbnRl
eHQgaXMgdGhlIGJlc3QgdGhpbmcgd2UgY291bGQgY29tZQo+ID4gPiA+ID4gPiB1cCB3aXRoIHRo
YXQgd291bGQgZGVzY3JpYmUgdGhlc2UgZGVtYW5kcyBhdCBsZWFzdCBwYXJ0aWFsbHkuIgo+ID4g
PiA+ID4gCj4gPiA+ID4gPiBCdXQgdGhpcyBkZXNjcmliZXMgZnNfcmVjbGFpbV9hY3F1aXJlKCkg
LSBpcyB0aGVyZSBzb21lIHJlYXNvbiB3ZSBhcmUKPiA+ID4gPiA+IGNvbmZsYXRpbmcgZnNfcmVj
bGFpbSB3aXRoIG5vbi1zbGVlcGluZz8KPiA+ID4gPiAKPiA+ID4gPiBObyBpZGVhIHdoeSB5b3Ug
dGllIHRoaXMgaW50byBmc19yZWNsYWltLiBXZSBjYW4gZGVmaW5pdGx5IHNsZWVwIGluIHRoZXJl
LAo+ID4gPiA+IGFuZCBmb3IgZS5nLiBrc3dhcGQgKHdoaWNoIGFsc28gd3JhcHMgZXZlcnl0aGlu
ZyBpbiBmc19yZWNsYWltKSB3ZSdyZQo+ID4gPiA+IGV2ZW50IHN1cHBvc2VkIHRvIEkgdGhvdWdo
dC4gVG8gbWFrZSBzdXJlIHdlIGNhbiBnZXQgYXQgdGhlIGxhc3QgYml0IG9mCj4gPiA+ID4gbWVt
b3J5IGJ5IGZsdXNoaW5nIGFsbCB0aGUgcXVldWVzIGFuZCB3YWl0aW5nIGZvciBldmVyeXRoaW5n
IHRvIGJlIGNsZWFuZWQKPiA+ID4gPiBvdXQuCj4gPiA+IAo+ID4gPiBBRkFJSyB0aGUgcG9pbnQg
b2YgZnNfcmVjbGFpbSBpcyB0byBwcmV2ZW50ICJpbmRpcmVjdCBkZXBlbmRlbmN5IHVwb24KPiA+
ID4gdGhlIHBhZ2UgYWxsb2NhdG9yIiBpZSBhIGp1c3RpZmljYXRpb24gdGhhdCB3YXMgZ2l2ZW4g
dGhpcyAhYmxvY2thYmxlCj4gPiA+IHN0dWZmLgo+ID4gPiAKPiA+ID4gRm9yIGluc3RhbmNlOgo+
ID4gPiAKPiA+ID4gICBmc19yZWNsYWltX2FjcXVpcmUoKQo+ID4gPiAgIGttYWxsb2MoR0ZQX0tF
Uk5FTCkgPC0gbG9jayBkZXAgYXNzZXJ0aW9uCj4gPiA+IAo+ID4gPiBBbmQgZnVydGhlciwgTWlj
aGFsJ3MgY29uY2VybiBhYm91dCBpbmRpcmVjdG5lc3MgdGhyb3VnaCBsb2NrcyBpcyBhbHNvCj4g
PiA+IGhhbmRsZWQgYnkgbG9ja2RlcDoKPiA+ID4gCj4gPiA+ICAgICAgICBDUFUwICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgQ1BVMQo+ID4gPiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgbXV0ZXhfbG9jaygpCj4gPiA+ICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBrbWFsbG9jKEdGUF9LRVJORUwpCj4gPiA+ICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtdXRleF91bmxvY2soKQo+ID4gPiAgIGZzX3Jl
Y2xhaW1fYWNxdWlyZSgpCj4gPiA+ICAgbXV0ZXhfbG9jaygpIDwtIGxvY2sgZGVwIGFzc2VydGlv
bgo+ID4gPiAKPiA+ID4gSW4gb3RoZXIgd29yZHMsIHRvIHByZXZlbnQgcmVjdXJzaW9uIGludG8g
dGhlIHBhZ2UgYWxsb2NhdG9yIHlvdSB1c2UKPiA+ID4gZnNfcmVjbGFpbV9hY3F1aXJlKCksIGFu
ZCBsb2NrZGVwIHZlcmZpZXMgaXQgaW4gaXRzIHVzdWFsIHJvYnVzdCB3YXkuCj4gPiAKPiA+IGZz
X3JlY2xhaW1fYWNxdWlyZSBpcyBhYm91dCBGUy9JTyByZWN1cnNpb25zIElJVUMuIFdlIGFyZSB0
YWxraW5nIGFib3V0Cj4gPiBhbnkgIUdGUF9OT1dBSVQgYWxsb2NhdGlvbiBjb250ZXh0IGhlcmUg
YW5kIGFueSB7aW59ZGlyZWN0IGRlcGVuZGVuY3kgb24KPiA+IGl0LiAKPiAKPiBBRkFJSyAnR0ZQ
X05PV0FJVCcgaXMgY2hhcmFjdGVyaXplZCBieSB0aGUgbGFjayBvZiBfX0dGUF9GUyBhbmQKPiBf
X0dGUF9ESVJFQ1RfUkVDTEFJTS4uCj4KPiBUaGlzIG1hdGNoZXMgdGhlIGV4aXN0aW5nIHRlc3Qg
aW4gX19uZWVkX2ZzX3JlY2xhaW0oKSAtIHNvIGlmIHlvdSBhcmUKPiBPSyB3aXRoIEdGUF9OT0ZT
LCBha2EgX19HRlBfSU8gd2hpY2ggdHJpZ2dlcnMgdHJ5X3RvX2NvbXBhY3RfcGFnZXMoKSwKPiBh
bGxvY2F0aW9ucyBkdXJpbmcgT09NLCB0aGVuIEkgdGhpbmsgZnNfcmVjbGFpbSBhbHJlYWR5IG1h
dGNoZXMgd2hhdAo+IHlvdSBkZXNjcmliZWQ/CgpObyBHRlBfTk9GUyBpcyBlcXVhbGx5IGJhZC4g
UGxlYXNlIHJlYWQgbXkgb3RoZXIgZW1haWwgZXhwbGFpbmluZyB3aGF0CnRoZSBvb21fcmVhcGVy
IGFjdHVhbGx5IHJlcXVpcmVzLiBJbiBzaG9ydCBubyBibG9ja2luZyBvbiBkaXJlY3Qgb3IKaW5k
aXJlY3QgZGVwZW5kZWN5IG9uIG1lbW9yeSBhbGxvY2F0aW9uIHRoYXQgbWlnaHQgc2xlZXAuIElm
IHlvdSBjYW4KZXhwcmVzcyB0aGF0IGluIHRoZSBleGlzdGluZyBsb2NrZGVwIG1hY2hpbmVyeS4g
QWxsIGZpbmUuIEJ1dCB0aGVuCmNvbnNpZGVyIGRlcGxveW1lbnRzIHdoZXJlIGxvY2tkZXAgaXMg
bm8tbm8gYmVjYXVzZSBvZiB0aGUgb3ZlcmhlYWQuCgo+ID4gTm8sIG5vbi1ibG9ja2luZyBpcyBh
IHZlcnkgY29hcnNlIGFwcHJveGltYXRpb24gb2Ygd2hhdCB3ZSByZWFsbHkgbmVlZC4KPiA+IEJ1
dCBpdCBzaG91bGQgZ2l2ZSB1cyBldmVuIGEgc3Ryb25nZXIgY29uZGl0aW9uLiBFc3NlbnRpYWxs
eSBhbnkgc2xlZXAKPiA+IG90aGVyIHRoYW4gYSBwcmVlbXB0aW9uIHNob3VsZG4ndCBiZSBhbGxv
d2VkIGluIHRoYXQgY29udGV4dC4KPiAKPiBCdXQgaXQgaXMgYSBub25zZW5zZSBBUEkgdG8gZ2l2
ZSB0aGUgZHJpdmVyIGludmFsaWRhdGVfcmFuZ2Vfc3RhcnQsCj4gdGhlIGJsb2NraW5nIGFsdGVy
bmF0aXZlIHRvIHRoZSBub24tYmxvY2tpbmcgaW52YWxpZGF0ZV9yYW5nZSBhbmQgdGhlbgo+IGRl
bWFuZCBpdCB0byBiZSBub24tYmxvY2tpbmcuCj4gCj4gSW5zcGVjdGluZyB0aGUgY29kZSwgbm8g
ZHJpdmVycyBhcmUgYWN0dWFsbHkgYWJsZSB0byBwcm9ncmVzcyB0aGVpcgo+IHNpZGUgaW4gbm9u
LWJsb2NraW5nIG1vZGUuCj4gCj4gVGhlIGJlc3Qgd2UgZ290IHdhcyBkcml2ZXJzIHRlc3RlZCB0
aGUgVkEgcmFuZ2UgYW5kIHJldHVybmVkIHN1Y2Nlc3MKPiBpZiB0aGV5IGhhZCBubyBpbnRlcmVz
dC4gV2hpY2ggaXMgYSBiaWcgd2luIHRvIGJlIHN1cmUsIGJ1dCBpdCBsb29rcwo+IGxpa2UgZ2V0
dGluZyBhbnkgbW9yZSBpcyBub3QgcmVhbGx5IHBvc3NzaWJsZS4KCkFuZCB0aGF0IGlzIGFscmVh
ZHkgYSBncmVhdCB3aW4hIEJlY2F1c2UgbWFueSBub3RpZmllcnMgb25seSBkbyBjYXJlCmFib3V0
IHBhcnRpY3VsYXIgbWFwcGluZ3MuIFBsZWFzZSBub3RlIHRoYXQgYmFja2luZyBvZmYgdW5jb25k
aXRpb2FubGx5CndpbGwgc2ltcGx5IGNhdXNlIHRoYXQgdGhlIG9vbSByZWFwZXIgd2lsbCBoYXZl
IHRvIGJhY2sgb2ZmIG5vdCBkb2luZwphbnkgdGVhciBkb3duIGFueXRoaW5nLgoKPiBIb3dldmVy
LCB3ZSBjb3VsZCAocHJvYmFibHkgZXZlbiBzaG91bGQpIG1ha2UgdGhlIGRyaXZlcnMgZnNfcmVj
bGFpbQo+IHNhZmUuCj4gCj4gSWYgdGhhdCBpcyBlbm91Z2ggdG8gZ3VhcmFudGVlIHByb2dyZXNz
IG9mIE9PTSwgdGhlbiBsZXRzIGNvbnNpZGVyCj4gc29tZXRoaW5nIGxpa2UgdXNpbmcgY3VycmVu
dF9nZnBfY29udGV4dCgpIHRvIGZvcmNlIFBGX01FTUFMTE9DX05PRlMKPiBhbGxvY2F0aW9uIGJl
aGF2aW9yIG9uIHRoZSBkcml2ZXIgY2FsbGJhY2sgYW5kIGxvY2tkZXAgdG8gdHJ5IGFuZCBrZWVw
Cj4gcHVzaGluZyBvbiB0aGUgdGhlIGRlYnVnZ2luZywgYW5kIGRyb3BwaW5nICFibG9ja2luZy4K
CkhvdyBhcmUgeW91IGdvaW5nIHRvIGVuZm9yY2UgaW5kaXJlY3QgZGVwZW5kZW5jeT8gRS5nLiBh
IGxvY2sgdGhhdCBpcwphbHNvIHVzZWQgaW4gb3RoZXIgY29udGV4dCB3aGljaCBkZXBlbmQgb24g
c2xlZXBhYmxlIG1lbW9yeSBhbGxvY2F0aW9uCnRvIG1vdmUgZm9yd2FyZC4KClJlYWxseSwgdGhp
cyB3YXMgYWltZWQgdG8gZ2l2ZSBhIHZlcnkgc2ltcGxlIGRlYnVnZ2luZyBhaWQuIElmIGl0IGlz
CmNvbnNpZGVyZWQgdG8gYmUgc28gY29udHJvdmVyc2lhbCwgZXZlbiB0aG91Z2ggSSByZWFsbHkg
ZG8gbm90IHNlZSB3aHksCnRoZW4gbGV0J3MganVzdCBkcm9wIGl0IG9uIHRoZSBmbG9vci4KLS0g
Ck1pY2hhbCBIb2NrbwpTVVNFIExhYnMKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGlu
Zm8vZHJpLWRldmVs
