Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id A33EE2A132B
	for <lists+dri-devel@lfdr.de>; Sat, 31 Oct 2020 03:55:34 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7202C6E0CF;
	Sat, 31 Oct 2020 02:55:31 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from hqnvemgate25.nvidia.com (hqnvemgate25.nvidia.com
 [216.228.121.64])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 5896D6E0CF
 for <dri-devel@lists.freedesktop.org>; Sat, 31 Oct 2020 02:55:30 +0000 (UTC)
Received: from hqmail.nvidia.com (Not Verified[216.228.121.13]) by
 hqnvemgate25.nvidia.com (using TLS: TLSv1.2, AES256-SHA)
 id <B5f9cd2220000>; Fri, 30 Oct 2020 19:55:30 -0700
Received: from [10.2.58.85] (10.124.1.5) by HQMAIL107.nvidia.com
 (172.20.187.13) with Microsoft SMTP Server (TLS) id 15.0.1473.3; Sat, 31 Oct
 2020 02:55:18 +0000
Subject: Re: [PATCH v5 05/15] mm/frame-vector: Use FOLL_LONGTERM
To: Daniel Vetter <daniel.vetter@ffwll.ch>, DRI Development
 <dri-devel@lists.freedesktop.org>, LKML <linux-kernel@vger.kernel.org>
References: <20201030100815.2269-1-daniel.vetter@ffwll.ch>
 <20201030100815.2269-6-daniel.vetter@ffwll.ch>
From: John Hubbard <jhubbard@nvidia.com>
Message-ID: <446b2d5b-a1a1-a408-f884-f17a04b72c18@nvidia.com>
Date: Fri, 30 Oct 2020 19:55:17 -0700
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101
 Thunderbird/68.12.0
MIME-Version: 1.0
In-Reply-To: <20201030100815.2269-6-daniel.vetter@ffwll.ch>
Content-Language: en-US
X-Originating-IP: [10.124.1.5]
X-ClientProxiedBy: HQMAIL111.nvidia.com (172.20.187.18) To
 HQMAIL107.nvidia.com (172.20.187.13)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=nvidia.com; s=n1;
 t=1604112930; bh=kIbuOrZMF2YQAWfUPs6gkqYbyNybPPlpG1DHBddVTeI=;
 h=Subject:To:CC:References:From:Message-ID:Date:User-Agent:
 MIME-Version:In-Reply-To:Content-Type:Content-Language:
 Content-Transfer-Encoding:X-Originating-IP:X-ClientProxiedBy;
 b=AtOxaAfNPVF2Y8gZFgz8BlJTCY2WnS/ll/uZOpZY6ZM3sYeZDX0wsWzg9kbJTYbtL
 uIT7SI94Nu0DAKox4tjTnJcLN8XQH4afRazJUVETQXmRDSkforw/ZyajpCSjQdhakD
 V5TkHQG1hyUHjxO5/EziqQ5QU5HsvmsdLhy0c2pJ17Ik4sdOeRb9MDZW7AgVbI6HUp
 khbiVPlvAQBqPZreVxuJwdPBCd0dFyD9l044fmdbRBxITLNtDeDmPV0I8qXzaQGtcL
 05gwU5zD1T2KQ11VFOtz4tXHAh7iSeMGU/Zo8kgIrMlYShlD2P3PVWKbYJ1hjOt5Cc
 x4G0lu6VoJy1w==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-samsung-soc@vger.kernel.org, Jan Kara <jack@suse.cz>,
 Pawel Osciak <pawel@osciak.com>, kvm@vger.kernel.org,
 Jason Gunthorpe <jgg@ziepe.ca>, Mauro Carvalho Chehab <mchehab@kernel.org>,
 =?UTF-8?B?SsOpcsO0bWUgR2xpc3Nl?= <jglisse@redhat.com>,
 Tomasz Figa <tfiga@chromium.org>, linux-mm@kvack.org,
 Kyungmin Park <kyungmin.park@samsung.com>,
 Daniel Vetter <daniel.vetter@intel.com>,
 Andrew Morton <akpm@linux-foundation.org>,
 Marek Szyprowski <m.szyprowski@samsung.com>,
 Dan Williams <dan.j.williams@intel.com>, linux-arm-kernel@lists.infradead.org,
 linux-media@vger.kernel.org
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gMTAvMzAvMjAgMzowOCBBTSwgRGFuaWVsIFZldHRlciB3cm90ZToKPiBUaGlzIGlzIHVzZWQg
YnkgbWVkaWEvdmlkZWJ1ZjIgZm9yIHBlcnNpc3RlbnQgZG1hIG1hcHBpbmdzLCBub3QganVzdAo+
IGZvciBhIHNpbmdsZSBkbWEgb3BlcmF0aW9uIGFuZCB0aGVuIGZyZWVkIGFnYWluLCBzbyBuZWVk
cwo+IEZPTExfTE9OR1RFUk0uCj4gCj4gVW5mb3J0dW5hdGVseSBjdXJyZW50IHB1cF9sb2NrZWQg
ZG9lc24ndCBzdXBwb3J0IEZPTExfTE9OR1RFUk0gZHVlIHRvCj4gbG9ja2luZyBpc3N1ZXMuIFJl
d29yayB0aGUgY29kZSB0byBwdWxsIHRoZSBwdXAgcGF0aCBvdXQgZnJvbSB0aGUKPiBtbWFwX3Nl
bSBjcml0aWNhbCBzZWN0aW9uIGFzIHN1Z2dlc3RlZCBieSBKYXNvbi4KPiAKPiBCeSByZWx5aW5n
IGVudGlyZWx5IG9uIHRoZSB2bWEgY2hlY2tzIGluIHBpbl91c2VyX3BhZ2VzIGFuZCBmb2xsb3df
cGZuCgpUaGVyZSBhcmUgdm1hIGNoZWNrcyBpbiBwaW5fdXNlcl9wYWdlcygpLCBidXQgdGhpcyBw
YXRjaCBjaGFuZ2VzIHRoaW5ncwp0byBjYWxsIHBpbl91c2VyX3BhZ2VzX2Zhc3QoKS4gQW5kIHRo
YXQgZG9lcyBub3QgaGF2ZSB0aGUgdm1hIGNoZWNrcy4KTW9yZSBiZWxvdyBhYm91dCB0aGlzOgoK
PiAoZm9yIHZtX2ZsYWdzIGFuZCB2bWFfaXNfZnNkYXgpIHdlIGNhbiBhbHNvIHN0cmVhbWxpbmUg
dGhlIGNvZGUgYSBsb3QuCj4gCj4gU2lnbmVkLW9mZi1ieTogRGFuaWVsIFZldHRlciA8ZGFuaWVs
LnZldHRlckBpbnRlbC5jb20+Cj4gQ2M6IEphc29uIEd1bnRob3JwZSA8amdnQHppZXBlLmNhPgo+
IENjOiBQYXdlbCBPc2NpYWsgPHBhd2VsQG9zY2lhay5jb20+Cj4gQ2M6IE1hcmVrIFN6eXByb3dz
a2kgPG0uc3p5cHJvd3NraUBzYW1zdW5nLmNvbT4KPiBDYzogS3l1bmdtaW4gUGFyayA8a3l1bmdt
aW4ucGFya0BzYW1zdW5nLmNvbT4KPiBDYzogVG9tYXN6IEZpZ2EgPHRmaWdhQGNocm9taXVtLm9y
Zz4KPiBDYzogTWF1cm8gQ2FydmFsaG8gQ2hlaGFiIDxtY2hlaGFiQGtlcm5lbC5vcmc+Cj4gQ2M6
IEFuZHJldyBNb3J0b24gPGFrcG1AbGludXgtZm91bmRhdGlvbi5vcmc+Cj4gQ2M6IEpvaG4gSHVi
YmFyZCA8amh1YmJhcmRAbnZpZGlhLmNvbT4KPiBDYzogSsOpcsO0bWUgR2xpc3NlIDxqZ2xpc3Nl
QHJlZGhhdC5jb20+Cj4gQ2M6IEphbiBLYXJhIDxqYWNrQHN1c2UuY3o+Cj4gQ2M6IERhbiBXaWxs
aWFtcyA8ZGFuLmoud2lsbGlhbXNAaW50ZWwuY29tPgo+IENjOiBsaW51eC1tbUBrdmFjay5vcmcK
PiBDYzogbGludXgtYXJtLWtlcm5lbEBsaXN0cy5pbmZyYWRlYWQub3JnCj4gQ2M6IGxpbnV4LXNh
bXN1bmctc29jQHZnZXIua2VybmVsLm9yZwo+IENjOiBsaW51eC1tZWRpYUB2Z2VyLmtlcm5lbC5v
cmcKPiBTaWduZWQtb2ZmLWJ5OiBEYW5pZWwgVmV0dGVyIDxkYW5pZWwudmV0dGVyQGZmd2xsLmNo
Pgo+IC0tCj4gdjI6IFN0cmVhbWxpbmUgdGhlIGNvZGUgYW5kIGZ1cnRoZXIgc2ltcGxpZnkgdGhl
IGxvb3AgY2hlY2tzIChKYXNvbikKPiAKPiB2NTogUmV2aWV3IGZyb20gVG9tYXN6Ogo+IC0gZml4
IHBhZ2UgY291bnRpbmcgZm9yIHRoZSBmb2xsb3dfcGZuIGNhc2UgYnkgcmVzZXR0aW5nIHJldAo+
IC0gZHJvcCBndXBfZmxhZ3MgcGFyYW1hdGVyLCBub3cgdW51c2VkCj4gLS0tCj4gICAuLi4vbWVk
aWEvY29tbW9uL3ZpZGVvYnVmMi92aWRlb2J1ZjItbWVtb3BzLmMgfCAgMyArLQo+ICAgaW5jbHVk
ZS9saW51eC9tbS5oICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgIDIgKy0KPiAgIG1tL2Zy
YW1lX3ZlY3Rvci5jICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IDUzICsrKysrKy0tLS0t
LS0tLS0tLS0KPiAgIDMgZmlsZXMgY2hhbmdlZCwgMTkgaW5zZXJ0aW9ucygrKSwgMzkgZGVsZXRp
b25zKC0pCj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvbWVkaWEvY29tbW9uL3ZpZGVvYnVmMi92
aWRlb2J1ZjItbWVtb3BzLmMgYi9kcml2ZXJzL21lZGlhL2NvbW1vbi92aWRlb2J1ZjIvdmlkZW9i
dWYyLW1lbW9wcy5jCj4gaW5kZXggNmU5ZTA1MTUzZjRlLi45ZGQ2YzI3MTYyZjQgMTAwNjQ0Cj4g
LS0tIGEvZHJpdmVycy9tZWRpYS9jb21tb24vdmlkZW9idWYyL3ZpZGVvYnVmMi1tZW1vcHMuYwo+
ICsrKyBiL2RyaXZlcnMvbWVkaWEvY29tbW9uL3ZpZGVvYnVmMi92aWRlb2J1ZjItbWVtb3BzLmMK
PiBAQCAtNDAsNyArNDAsNiBAQCBzdHJ1Y3QgZnJhbWVfdmVjdG9yICp2YjJfY3JlYXRlX2ZyYW1l
dmVjKHVuc2lnbmVkIGxvbmcgc3RhcnQsCj4gICAJdW5zaWduZWQgbG9uZyBmaXJzdCwgbGFzdDsK
PiAgIAl1bnNpZ25lZCBsb25nIG5yOwo+ICAgCXN0cnVjdCBmcmFtZV92ZWN0b3IgKnZlYzsKPiAt
CXVuc2lnbmVkIGludCBmbGFncyA9IEZPTExfRk9SQ0UgfCBGT0xMX1dSSVRFOwo+ICAgCj4gICAJ
Zmlyc3QgPSBzdGFydCA+PiBQQUdFX1NISUZUOwo+ICAgCWxhc3QgPSAoc3RhcnQgKyBsZW5ndGgg
LSAxKSA+PiBQQUdFX1NISUZUOwo+IEBAIC00OCw3ICs0Nyw3IEBAIHN0cnVjdCBmcmFtZV92ZWN0
b3IgKnZiMl9jcmVhdGVfZnJhbWV2ZWModW5zaWduZWQgbG9uZyBzdGFydCwKPiAgIAl2ZWMgPSBm
cmFtZV92ZWN0b3JfY3JlYXRlKG5yKTsKPiAgIAlpZiAoIXZlYykKPiAgIAkJcmV0dXJuIEVSUl9Q
VFIoLUVOT01FTSk7Cj4gLQlyZXQgPSBnZXRfdmFkZHJfZnJhbWVzKHN0YXJ0ICYgUEFHRV9NQVNL
LCBuciwgZmxhZ3MsIHZlYyk7Cj4gKwlyZXQgPSBnZXRfdmFkZHJfZnJhbWVzKHN0YXJ0ICYgUEFH
RV9NQVNLLCBuciwgdmVjKTsKPiAgIAlpZiAocmV0IDwgMCkKPiAgIAkJZ290byBvdXRfZGVzdHJv
eTsKPiAgIAkvKiBXZSBhY2NlcHQgb25seSBjb21wbGV0ZSBzZXQgb2YgUEZOcyAqLwo+IGRpZmYg
LS1naXQgYS9pbmNsdWRlL2xpbnV4L21tLmggYi9pbmNsdWRlL2xpbnV4L21tLmgKPiBpbmRleCBl
ZjM2MGZlNzBhYWYuLmQ2YjhlMzBkY2UyZSAxMDA2NDQKPiAtLS0gYS9pbmNsdWRlL2xpbnV4L21t
LmgKPiArKysgYi9pbmNsdWRlL2xpbnV4L21tLmgKPiBAQCAtMTc2NSw3ICsxNzY1LDcgQEAgc3Ry
dWN0IGZyYW1lX3ZlY3RvciB7Cj4gICBzdHJ1Y3QgZnJhbWVfdmVjdG9yICpmcmFtZV92ZWN0b3Jf
Y3JlYXRlKHVuc2lnbmVkIGludCBucl9mcmFtZXMpOwo+ICAgdm9pZCBmcmFtZV92ZWN0b3JfZGVz
dHJveShzdHJ1Y3QgZnJhbWVfdmVjdG9yICp2ZWMpOwo+ICAgaW50IGdldF92YWRkcl9mcmFtZXMo
dW5zaWduZWQgbG9uZyBzdGFydCwgdW5zaWduZWQgaW50IG5yX3BmbnMsCj4gLQkJICAgICB1bnNp
Z25lZCBpbnQgZ3VwX2ZsYWdzLCBzdHJ1Y3QgZnJhbWVfdmVjdG9yICp2ZWMpOwo+ICsJCSAgICAg
c3RydWN0IGZyYW1lX3ZlY3RvciAqdmVjKTsKPiAgIHZvaWQgcHV0X3ZhZGRyX2ZyYW1lcyhzdHJ1
Y3QgZnJhbWVfdmVjdG9yICp2ZWMpOwo+ICAgaW50IGZyYW1lX3ZlY3Rvcl90b19wYWdlcyhzdHJ1
Y3QgZnJhbWVfdmVjdG9yICp2ZWMpOwo+ICAgdm9pZCBmcmFtZV92ZWN0b3JfdG9fcGZucyhzdHJ1
Y3QgZnJhbWVfdmVjdG9yICp2ZWMpOwo+IGRpZmYgLS1naXQgYS9tbS9mcmFtZV92ZWN0b3IuYyBi
L21tL2ZyYW1lX3ZlY3Rvci5jCj4gaW5kZXggMTBmODJkNTY0M2I2Li5mOGMzNGI4OTVjNzYgMTAw
NjQ0Cj4gLS0tIGEvbW0vZnJhbWVfdmVjdG9yLmMKPiArKysgYi9tbS9mcmFtZV92ZWN0b3IuYwo+
IEBAIC0zMiwxMyArMzIsMTIgQEAKPiAgICAqIFRoaXMgZnVuY3Rpb24gdGFrZXMgY2FyZSBvZiBn
cmFiYmluZyBtbWFwX2xvY2sgYXMgbmVjZXNzYXJ5Lgo+ICAgICovCj4gICBpbnQgZ2V0X3ZhZGRy
X2ZyYW1lcyh1bnNpZ25lZCBsb25nIHN0YXJ0LCB1bnNpZ25lZCBpbnQgbnJfZnJhbWVzLAo+IC0J
CSAgICAgdW5zaWduZWQgaW50IGd1cF9mbGFncywgc3RydWN0IGZyYW1lX3ZlY3RvciAqdmVjKQo+
ICsJCSAgICAgc3RydWN0IGZyYW1lX3ZlY3RvciAqdmVjKQo+ICAgewo+ICAgCXN0cnVjdCBtbV9z
dHJ1Y3QgKm1tID0gY3VycmVudC0+bW07Cj4gICAJc3RydWN0IHZtX2FyZWFfc3RydWN0ICp2bWE7
Cj4gICAJaW50IHJldCA9IDA7Cj4gICAJaW50IGVycjsKPiAtCWludCBsb2NrZWQ7Cj4gICAKPiAg
IAlpZiAobnJfZnJhbWVzID09IDApCj4gICAJCXJldHVybiAwOwo+IEBAIC00OCw0MCArNDcsMjYg
QEAgaW50IGdldF92YWRkcl9mcmFtZXModW5zaWduZWQgbG9uZyBzdGFydCwgdW5zaWduZWQgaW50
IG5yX2ZyYW1lcywKPiAgIAo+ICAgCXN0YXJ0ID0gdW50YWdnZWRfYWRkcihzdGFydCk7Cj4gICAK
PiAtCW1tYXBfcmVhZF9sb2NrKG1tKTsKPiAtCWxvY2tlZCA9IDE7Cj4gLQl2bWEgPSBmaW5kX3Zt
YV9pbnRlcnNlY3Rpb24obW0sIHN0YXJ0LCBzdGFydCArIDEpOwo+IC0JaWYgKCF2bWEpIHsKPiAt
CQlyZXQgPSAtRUZBVUxUOwo+IC0JCWdvdG8gb3V0Owo+IC0JfQo+IC0KPiAtCS8qCj4gLQkgKiBX
aGlsZSBnZXRfdmFkZHJfZnJhbWVzKCkgY291bGQgYmUgdXNlZCBmb3IgdHJhbnNpZW50IChrZXJu
ZWwKPiAtCSAqIGNvbnRyb2xsZWQgbGlmZXRpbWUpIHBpbm5pbmcgb2YgbWVtb3J5IHBhZ2VzIGFs
bCBjdXJyZW50Cj4gLQkgKiB1c2VycyBlc3RhYmxpc2ggbG9uZyB0ZXJtICh1c2Vyc3BhY2UgY29u
dHJvbGxlZCBsaWZldGltZSkKPiAtCSAqIHBhZ2UgcGlubmluZy4gVHJlYXQgZ2V0X3ZhZGRyX2Zy
YW1lcygpIGxpa2UKPiAtCSAqIGdldF91c2VyX3BhZ2VzX2xvbmd0ZXJtKCkgYW5kIGRpc2FsbG93
IGl0IGZvciBmaWxlc3lzdGVtLWRheAo+IC0JICogbWFwcGluZ3MuCj4gLQkgKi8KPiAtCWlmICh2
bWFfaXNfZnNkYXgodm1hKSkgewo+IC0JCXJldCA9IC1FT1BOT1RTVVBQOwo+IC0JCWdvdG8gb3V0
Owo+IC0JfQo+IC0KPiAtCWlmICghKHZtYS0+dm1fZmxhZ3MgJiAoVk1fSU8gfCBWTV9QRk5NQVAp
KSkgewoKQnkgcmVtb3ZpbmcgdGhpcyBjaGVjayBmcm9tIHRoaXMgbG9jYXRpb24sIGFuZCBjaGFu
Z2luZyBmcm9tCnBpbl91c2VyX3BhZ2VzX2xvY2tlZCgpIHRvIHBpbl91c2VyX3BhZ2VzX2Zhc3Qo
KSwgSSAqdGhpbmsqIHdlIGVuZCB1cApsb3NpbmcgdGhlIGNoZWNrIGVudGlyZWx5LiBJcyB0aGF0
IGludGVuZGVkPyBJZiBzbyBpdCBjb3VsZCB1c2UgYSBjb21tZW50CnNvbWV3aGVyZSB0byBleHBs
YWluIHdoeS4KCnRoYW5rcywKLS0gCkpvaG4gSHViYmFyZApOVklESUEKCj4gKwlyZXQgPSBwaW5f
dXNlcl9wYWdlc19mYXN0KHN0YXJ0LCBucl9mcmFtZXMsCj4gKwkJCQkgIEZPTExfRk9SQ0UgfCBG
T0xMX1dSSVRFIHwgRk9MTF9MT05HVEVSTSwKPiArCQkJCSAgKHN0cnVjdCBwYWdlICoqKSh2ZWMt
PnB0cnMpKTsKPiArCWlmIChyZXQgPiAwKSB7Cj4gICAJCXZlYy0+Z290X3JlZiA9IHRydWU7Cj4g
ICAJCXZlYy0+aXNfcGZucyA9IGZhbHNlOwo+IC0JCXJldCA9IHBpbl91c2VyX3BhZ2VzX2xvY2tl
ZChzdGFydCwgbnJfZnJhbWVzLAo+IC0JCQlndXBfZmxhZ3MsIChzdHJ1Y3QgcGFnZSAqKikodmVj
LT5wdHJzKSwgJmxvY2tlZCk7Cj4gLQkJZ290byBvdXQ7Cj4gKwkJZ290byBvdXRfdW5sb2NrZWQ7
Cj4gICAJfQo+ICAgCj4gKwltbWFwX3JlYWRfbG9jayhtbSk7Cj4gICAJdmVjLT5nb3RfcmVmID0g
ZmFsc2U7Cj4gICAJdmVjLT5pc19wZm5zID0gdHJ1ZTsKPiArCXJldCA9IDA7Cj4gICAJZG8gewo+
ICAgCQl1bnNpZ25lZCBsb25nICpudW1zID0gZnJhbWVfdmVjdG9yX3BmbnModmVjKTsKPiAgIAo+
ICsJCXZtYSA9IGZpbmRfdm1hX2ludGVyc2VjdGlvbihtbSwgc3RhcnQsIHN0YXJ0ICsgMSk7Cj4g
KwkJaWYgKCF2bWEpCj4gKwkJCWJyZWFrOwo+ICsKPiAgIAkJd2hpbGUgKHJldCA8IG5yX2ZyYW1l
cyAmJiBzdGFydCArIFBBR0VfU0laRSA8PSB2bWEtPnZtX2VuZCkgewo+ICAgCQkJZXJyID0gZm9s
bG93X3Bmbih2bWEsIHN0YXJ0LCAmbnVtc1tyZXRdKTsKPiAgIAkJCWlmIChlcnIpIHsKPiBAQCAt
OTIsMTcgKzc3LDEzIEBAIGludCBnZXRfdmFkZHJfZnJhbWVzKHVuc2lnbmVkIGxvbmcgc3RhcnQs
IHVuc2lnbmVkIGludCBucl9mcmFtZXMsCj4gICAJCQlzdGFydCArPSBQQUdFX1NJWkU7Cj4gICAJ
CQlyZXQrKzsKPiAgIAkJfQo+IC0JCS8qCj4gLQkJICogV2Ugc3RvcCBpZiB3ZSBoYXZlIGVub3Vn
aCBwYWdlcyBvciBpZiBWTUEgZG9lc24ndCBjb21wbGV0ZWx5Cj4gLQkJICogY292ZXIgdGhlIHRh
aWwgcGFnZS4KPiAtCQkgKi8KPiAtCQlpZiAocmV0ID49IG5yX2ZyYW1lcyB8fCBzdGFydCA8IHZt
YS0+dm1fZW5kKQo+ICsJCS8qIEJhaWwgb3V0IGlmIFZNQSBkb2Vzbid0IGNvbXBsZXRlbHkgY292
ZXIgdGhlIHRhaWwgcGFnZS4gKi8KPiArCQlpZiAoc3RhcnQgPCB2bWEtPnZtX2VuZCkKPiAgIAkJ
CWJyZWFrOwo+IC0JCXZtYSA9IGZpbmRfdm1hX2ludGVyc2VjdGlvbihtbSwgc3RhcnQsIHN0YXJ0
ICsgMSk7Cj4gLQl9IHdoaWxlICh2bWEgJiYgdm1hLT52bV9mbGFncyAmIChWTV9JTyB8IFZNX1BG
Tk1BUCkpOwo+ICsJfSB3aGlsZSAocmV0IDwgbnJfZnJhbWVzKTsKPiAgIG91dDoKPiAtCWlmIChs
b2NrZWQpCj4gLQkJbW1hcF9yZWFkX3VubG9jayhtbSk7Cj4gKwltbWFwX3JlYWRfdW5sb2NrKG1t
KTsKPiArb3V0X3VubG9ja2VkOgo+ICAgCWlmICghcmV0KQo+ICAgCQlyZXQgPSAtRUZBVUxUOwo+
ICAgCWlmIChyZXQgPiAwKQo+IAoKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVk
ZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZv
L2RyaS1kZXZlbAo=
