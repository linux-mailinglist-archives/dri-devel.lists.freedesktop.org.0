Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 175F33B2CE
	for <lists+dri-devel@lfdr.de>; Mon, 10 Jun 2019 12:16:09 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E0E4A89115;
	Mon, 10 Jun 2019 10:16:06 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from EUR04-VI1-obe.outbound.protection.outlook.com
 (mail-vi1eur04on0621.outbound.protection.outlook.com
 [IPv6:2a01:111:f400:fe0e::621])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0E2B489113
 for <dri-devel@lists.freedesktop.org>; Mon, 10 Jun 2019 10:16:05 +0000 (UTC)
Received: from VE1PR08MB5006.eurprd08.prod.outlook.com (10.255.159.31) by
 VE1PR08MB4975.eurprd08.prod.outlook.com (10.255.158.144) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1965.13; Mon, 10 Jun 2019 10:16:02 +0000
Received: from VE1PR08MB5006.eurprd08.prod.outlook.com
 ([fe80::206b:5cf6:97e:1358]) by VE1PR08MB5006.eurprd08.prod.outlook.com
 ([fe80::206b:5cf6:97e:1358%7]) with mapi id 15.20.1943.026; Mon, 10 Jun 2019
 10:16:02 +0000
From: "james qian wang (Arm Technology China)" <james.qian.wang@arm.com>
To: Liviu Dudau <Liviu.Dudau@arm.com>, "airlied@linux.ie" <airlied@linux.ie>, 
 Brian Starkey <Brian.Starkey@arm.com>, "maarten.lankhorst@linux.intel.com"
 <maarten.lankhorst@linux.intel.com>, "sean@poorly.run" <sean@poorly.run>
Subject: [PATCH v2 2/3] drm/komeda: Add split support for scaler
Thread-Topic: [PATCH v2 2/3] drm/komeda: Add split support for scaler
Thread-Index: AQHVH3WBCIICxZxkHUCQF7m/lIXHTw==
Date: Mon, 10 Jun 2019 10:16:02 +0000
Message-ID: <20190610101528.25942-3-james.qian.wang@arm.com>
References: <20190610101528.25942-1-james.qian.wang@arm.com>
In-Reply-To: <20190610101528.25942-1-james.qian.wang@arm.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [113.29.88.7]
x-clientproxiedby: HK2PR02CA0140.apcprd02.prod.outlook.com
 (2603:1096:202:16::24) To VE1PR08MB5006.eurprd08.prod.outlook.com
 (2603:10a6:803:113::31)
x-ms-exchange-messagesentrepresentingtype: 1
x-mailer: git-send-email 2.17.1
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 42f63615-4445-4048-4258-08d6ed8ca3e2
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(7168020)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:VE1PR08MB4975; 
x-ms-traffictypediagnostic: VE1PR08MB4975:
nodisclaimer: True
x-microsoft-antispam-prvs: <VE1PR08MB4975A7326139C8144CCF80B7B3130@VE1PR08MB4975.eurprd08.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:6790;
x-forefront-prvs: 0064B3273C
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(396003)(39860400002)(136003)(366004)(376002)(346002)(199004)(189003)(3846002)(8676002)(76176011)(81156014)(316002)(110136005)(103116003)(53936002)(186003)(26005)(81166006)(6436002)(71200400001)(55236004)(68736007)(2501003)(4326008)(66946007)(2906002)(478600001)(8936002)(99286004)(25786009)(50226002)(6512007)(66066001)(305945005)(6506007)(386003)(486006)(5660300002)(54906003)(2201001)(66476007)(66446008)(102836004)(66556008)(64756008)(6116002)(52116002)(11346002)(7736002)(476003)(446003)(6486002)(36756003)(2616005)(86362001)(14444005)(73956011)(256004)(1076003)(14454004)(71190400001)(21314003);
 DIR:OUT; SFP:1101; SCL:1; SRVR:VE1PR08MB4975;
 H:VE1PR08MB5006.eurprd08.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: arm.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: zOtWbdx4wnWkiENXFAdiED4vzpi3reDUC41RGtgB2Jo0p5n5dUcxXd/YJnwmbF7ZW1XG5OO9EkxjqQ0rWQbmxJ0wCCE49R94+/oJmVVfGttnahGUVh2iOUCcDczu7hou5nm1yJK6FYF39yQtoXTVLD169EcqXwwsqdS+w1sw+begGGyFkcQKFTignkrlyI9mynUvHMf+2DiXVanLn+A4JUvIrmApSLeywijhRYkkgUnvAjQ35FNMgoOeo5UoskTnbHjY0wQfLAenqlceaIJLyMsxPVLt0BIPDFETDJ2eeUrzTsD1hZKdfz33H8ZGWuSNJsgSiOhQ0jj7GYxNKg82upuv+Y+Rq5DSs9VA4eblBdQhuRUQdrZJHvPypauZzCtAutA0EOce7W6tRPOwoB4jh0XL9ZDDTlgj+mQWLsq2j4g=
MIME-Version: 1.0
X-OriginatorOrg: arm.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 42f63615-4445-4048-4258-08d6ed8ca3e2
X-MS-Exchange-CrossTenant-originalarrivaltime: 10 Jun 2019 10:16:02.3290 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: f34e5979-57d9-4aaa-ad4d-b122a662184d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: james.qian.wang@arm.com
X-MS-Exchange-Transport-CrossTenantHeadersStamped: VE1PR08MB4975
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=armh.onmicrosoft.com; 
 s=selector2-armh-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=q5aQqi466bQA+5ciQiKgwNwvpL1xRZypWvxUJUUW7f4=;
 b=JQKJIDwmfRZE5eIURd1A1gX+d1gJUCfATczr3fVioJ/RffhBTDRyZn5n7Wr4vwOJrfrzahszaeDrUkehlucCcbgKh/8cbnHs5mmhgvQKQjEtP0jZ1QNlEvUwwtmcRh1FV28zXMOpq6Ikvm27sEMc4sPYee23chCS6P0ySdUWbtU=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=james.qian.wang@arm.com; 
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: nd <nd@arm.com>, Ayan Halder <Ayan.Halder@arm.com>, "Oscar
 Zhang \(Arm Technology China\)" <Oscar.Zhang@arm.com>, "Tiannan Zhu \(Arm
 Technology China\)" <Tiannan.Zhu@arm.com>,
 "Jonathan Chai \(Arm Technology China\)" <Jonathan.Chai@arm.com>,
 "linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>,
 "dri-devel@lists.freedesktop.org" <dri-devel@lists.freedesktop.org>, "Julien
 Yin \(Arm Technology China\)" <Julien.Yin@arm.com>, "Channing Chen \(Arm
 Technology China\)" <Channing.Chen@arm.com>, "james qian wang \(Arm Technology
 China\)" <james.qian.wang@arm.com>,
 "Yiqi Kang \(Arm Technology China\)" <Yiqi.Kang@arm.com>,
 "thomas Sun \(Arm Technology China\)" <thomas.Sun@arm.com>,
 "Lowry Li \(Arm Technology China\)" <Lowry.Li@arm.com>,
 Ben Davis <Ben.Davis@arm.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VG8gYWNoaWV2ZSBzYW1lIGNhbGluZyBlZmZlY3QgY29tcGFyZSB3aXRoIG5vbmUgc3BsaXQsIHRo
ZSB0ZXhlbA0KY2FsY3VsYXRpb24gbmVlZCB0byB1c2UgdGhlIHNhbWUgc2NhbGluZyByYXRpbyBi
ZWZvcmUgc3BsaXQsIHNvIGFkZA0KInRvdGFsX3h4eCIgdG8gcGlwZWxpbmUgdG8gZGVzY3JpYmUg
dGhlIGhzaXplL3ZzaXplIGJlZm9yZSBzcGxpdC4NClVwZGF0ZSBwaXBlbGluZSBhbmQgZDcxX3Nj
YWxlcl91cGRhdGUgYWNjb3JkaW5nbHkuDQoNCnYyOiBSZWJhc2UgYW5kIGFkZHJlc3NlZCBMaXZp
dSdzIGNvbW1lbnRzDQoNClNpZ25lZC1vZmYtYnk6IEphbWVzIFFpYW4gV2FuZyAoQXJtIFRlY2hu
b2xvZ3kgQ2hpbmEpIDxqYW1lcy5xaWFuLndhbmdAYXJtLmNvbT4NCi0tLQ0KIC4uLi9hcm0vZGlz
cGxheS9rb21lZGEvZDcxL2Q3MV9jb21wb25lbnQuYyAgICB8IDQ3ICsrKysrKysrKysrKysrKysr
LS0NCiAuLi4vZHJtL2FybS9kaXNwbGF5L2tvbWVkYS9rb21lZGFfcGlwZWxpbmUuaCAgfCAxOSAr
KysrKystLQ0KIC4uLi9kaXNwbGF5L2tvbWVkYS9rb21lZGFfcGlwZWxpbmVfc3RhdGUuYyAgICB8
IDE4ICsrKysrKy0NCiAuLi4vZ3B1L2RybS9hcm0vZGlzcGxheS9rb21lZGEva29tZWRhX3BsYW5l
LmMgfCAxMSArKy0tLQ0KIC4uLi9hcm0vZGlzcGxheS9rb21lZGEva29tZWRhX3diX2Nvbm5lY3Rv
ci5jICB8ICAyICstDQogNSBmaWxlcyBjaGFuZ2VkLCA4MCBpbnNlcnRpb25zKCspLCAxNyBkZWxl
dGlvbnMoLSkNCg0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hcm0vZGlzcGxheS9rb21l
ZGEvZDcxL2Q3MV9jb21wb25lbnQuYyBiL2RyaXZlcnMvZ3B1L2RybS9hcm0vZGlzcGxheS9rb21l
ZGEvZDcxL2Q3MV9jb21wb25lbnQuYw0KaW5kZXggNzFmNThiZjFlODgwLi5jODNiOTViMzMxMzkg
MTAwNjQ0DQotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYXJtL2Rpc3BsYXkva29tZWRhL2Q3MS9kNzFf
Y29tcG9uZW50LmMNCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hcm0vZGlzcGxheS9rb21lZGEvZDcx
L2Q3MV9jb21wb25lbnQuYw0KQEAgLTY0MiwyMyArNjQyLDU4IEBAIHN0YXRpYyB2b2lkIGQ3MV9z
Y2FsZXJfdXBkYXRlKHN0cnVjdCBrb21lZGFfY29tcG9uZW50ICpjLA0KDQogCW1hbGlkcF93cml0
ZTMyKHJlZywgQkxLX0lOX1NJWkUsIEhWX1NJWkUoc3QtPmhzaXplX2luLCBzdC0+dnNpemVfaW4p
KTsNCiAJbWFsaWRwX3dyaXRlMzIocmVnLCBTQ19PVVRfU0laRSwgSFZfU0laRShzdC0+aHNpemVf
b3V0LCBzdC0+dnNpemVfb3V0KSk7DQorCW1hbGlkcF93cml0ZTMyKHJlZywgU0NfSF9DUk9QLCBI
Vl9DUk9QKHN0LT5sZWZ0X2Nyb3AsIHN0LT5yaWdodF9jcm9wKSk7DQorDQorCS8qIGZvciByaWdo
dCBwYXJ0LCBIVyBvbmx5IHNhbXBsZSB0aGUgdmFsaWQgcGl4ZWwgd2hpY2ggbWVhbnMgdGhlIHBp
eGVscw0KKwkgKiBpbiBsZWZ0X2Nyb3Agd2lsbCBiZSBqdW1wcGVkLCBhbmQgdGhlIGZpcnN0IHNh
bXBsZSBwaXhlbCBpczoNCisJICoNCisJICogZHN0X2EgPSBzdC0+dG90YWxfaHNpemVfb3V0IC0g
c3QtPmhzaXplX291dCArIHN0LT5sZWZ0X2Nyb3AgKyAwLjU7DQorCSAqDQorCSAqIFRoZW4gdGhl
IGNvcnJlc3BvbmRpbmcgdGV4ZWwgaW4gc3JjIGlzOg0KKwkgKg0KKwkgKiBoX2RlbHRhX3BoYXNl
ID0gc3QtPnRvdGFsX2hzaXplX2luIC8gc3QtPnRvdGFsX2hzaXplX291dDsNCisJICogc3JjX2Eg
PSBkc3RfQSAqIGhfZGVsdGFfcGhhc2U7DQorCSAqDQorCSAqIGFuZCBoX2luaXRfcGhhc2UgaXMg
c3JjX2EgZGVkdWN0IHRoZSByZWFsIHNvdXJjZSBzdGFydCBzcmNfUzsNCisJICoNCisJICogc3Jj
X1MgPSBzdC0+dG90YWxfaHNpemVfaW4gLSBzdC0+aHNpemVfaW47DQorCSAqIGhfaW5pdF9waGFz
ZSA9IHNyY19hIC0gc3JjX1M7DQorCSAqDQorCSAqIEFuZCBIVyBwcmVjaXNpb24gZm9yIHRoZSBp
bml0aWFsL2RlbHRhX3BoYXNlIGlzIDE2OjE2IGZpeGVkIHBvaW50LA0KKwkgKiB0aGUgZm9sbG93
aW5nIGlzIHRoZSBzaW1wbGlmaWVkIGZvcm11bGENCisJICovDQorCWlmIChzdC0+cmlnaHRfcGFy
dCkgew0KKwkJdTMyIGRzdF9hID0gc3QtPnRvdGFsX2hzaXplX291dCAtIHN0LT5oc2l6ZV9vdXQg
KyBzdC0+bGVmdF9jcm9wOw0KKw0KKwkJaWYgKHN0LT5lbl9pbWdfZW5oYW5jZW1lbnQpDQorCQkJ
ZHN0X2EgLT0gMTsNCisNCisJCWluaXRfcGggPSAoKHN0LT50b3RhbF9oc2l6ZV9pbiAqICgyICog
ZHN0X2EgKyAxKSAtDQorCQkJICAgIDIgKiBzdC0+dG90YWxfaHNpemVfb3V0ICogKHN0LT50b3Rh
bF9oc2l6ZV9pbiAtDQorCQkJICAgIHN0LT5oc2l6ZV9pbikpIDw8IDE1KSAvIHN0LT50b3RhbF9o
c2l6ZV9vdXQ7DQorCX0gZWxzZSB7DQorCQlpbml0X3BoID0gKHN0LT50b3RhbF9oc2l6ZV9pbiA8
PCAxNSkgLyBzdC0+dG90YWxfaHNpemVfb3V0Ow0KKwl9DQoNCi0JaW5pdF9waCA9IChzdC0+aHNp
emVfaW4gPDwgMTUpIC8gc3QtPmhzaXplX291dDsNCiAJbWFsaWRwX3dyaXRlMzIocmVnLCBTQ19I
X0lOSVRfUEgsIGluaXRfcGgpOw0KDQotCWRlbHRhX3BoID0gKHN0LT5oc2l6ZV9pbiA8PCAxNikg
LyBzdC0+aHNpemVfb3V0Ow0KKwlkZWx0YV9waCA9IChzdC0+dG90YWxfaHNpemVfaW4gPDwgMTYp
IC8gc3QtPnRvdGFsX2hzaXplX291dDsNCiAJbWFsaWRwX3dyaXRlMzIocmVnLCBTQ19IX0RFTFRB
X1BILCBkZWx0YV9waCk7DQoNCi0JaW5pdF9waCA9IChzdC0+dnNpemVfaW4gPDwgMTUpIC8gc3Qt
PnZzaXplX291dDsNCisJaW5pdF9waCA9IChzdC0+dG90YWxfdnNpemVfaW4gPDwgMTUpIC8gc3Qt
PnZzaXplX291dDsNCiAJbWFsaWRwX3dyaXRlMzIocmVnLCBTQ19WX0lOSVRfUEgsIGluaXRfcGgp
Ow0KDQotCWRlbHRhX3BoID0gKHN0LT52c2l6ZV9pbiA8PCAxNikgLyBzdC0+dnNpemVfb3V0Ow0K
KwlkZWx0YV9waCA9IChzdC0+dG90YWxfdnNpemVfaW4gPDwgMTYpIC8gc3QtPnZzaXplX291dDsN
CiAJbWFsaWRwX3dyaXRlMzIocmVnLCBTQ19WX0RFTFRBX1BILCBkZWx0YV9waCk7DQoNCiAJY3Ry
bCA9IDA7DQogCWN0cmwgfD0gc3QtPmVuX3NjYWxpbmcgPyBTQ19DVFJMX1NDTCA6IDA7DQogCWN0
cmwgfD0gc3QtPmVuX2FscGhhID8gU0NfQ1RSTF9BUCA6IDA7DQogCWN0cmwgfD0gc3QtPmVuX2lt
Z19lbmhhbmNlbWVudCA/IFNDX0NUUkxfSUVOSCA6IDA7DQorCS8qIElmIHdlIHVzZSB0aGUgaGFy
ZHdhcmUgc3BsaXR0ZXIgd2Ugc2hvdWxkbid0IHNldCBTQ19DVFJMX0xTICovDQorCWlmIChzdC0+
ZW5fc3BsaXQgJiYNCisJICAgIHN0YXRlLT5pbnB1dHNbMF0uY29tcG9uZW50LT5pZCAhPSBLT01F
REFfQ09NUE9ORU5UX1NQTElUVEVSKQ0KKwkJY3RybCB8PSBTQ19DVFJMX0xTOw0KDQogCW1hbGlk
cF93cml0ZTMyKHJlZywgQkxLX0NPTlRST0wsIGN0cmwpOw0KIAltYWxpZHBfd3JpdGUzMihyZWcs
IEJMS19JTlBVVF9JRDAsIHRvX2Q3MV9pbnB1dF9pZCgmc3RhdGUtPmlucHV0c1swXSkpOw0KQEAg
LTcxNiwxMCArNzUxLDEyIEBAIHN0YXRpYyBpbnQgZDcxX3NjYWxlcl9pbml0KHN0cnVjdCBkNzFf
ZGV2ICpkNzEsDQogCX0NCg0KIAlzY2FsZXIgPSB0b19zY2FsZXIoYyk7DQotCXNldF9yYW5nZSgm
c2NhbGVyLT5oc2l6ZSwgNCwgZDcxLT5tYXhfbGluZV9zaXplKTsNCisJc2V0X3JhbmdlKCZzY2Fs
ZXItPmhzaXplLCA0LCAyMDQ4KTsNCiAJc2V0X3JhbmdlKCZzY2FsZXItPnZzaXplLCA0LCA0MDk2
KTsNCiAJc2NhbGVyLT5tYXhfZG93bnNjYWxpbmcgPSA2Ow0KIAlzY2FsZXItPm1heF91cHNjYWxp
bmcgPSA2NDsNCisJc2NhbGVyLT5zY2FsaW5nX3NwbGl0X292ZXJsYXAgPSA4Ow0KKwlzY2FsZXIt
PmVuaF9zcGxpdF9vdmVybGFwID0gMTsNCg0KIAltYWxpZHBfd3JpdGUzMihjLT5yZWcsIEJMS19D
T05UUk9MLCAwKTsNCg0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hcm0vZGlzcGxheS9r
b21lZGEva29tZWRhX3BpcGVsaW5lLmggYi9kcml2ZXJzL2dwdS9kcm0vYXJtL2Rpc3BsYXkva29t
ZWRhL2tvbWVkYV9waXBlbGluZS5oDQppbmRleCAyMGU2ZjdhNzhkMTIuLjg1N2JlM2Y2NGIzMiAx
MDA2NDQNCi0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hcm0vZGlzcGxheS9rb21lZGEva29tZWRhX3Bp
cGVsaW5lLmgNCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hcm0vZGlzcGxheS9rb21lZGEva29tZWRh
X3BpcGVsaW5lLmgNCkBAIC0yNDcsMTUgKzI0NywyMiBAQCBzdHJ1Y3Qga29tZWRhX3NjYWxlciB7
DQogCXN0cnVjdCBtYWxpZHBfcmFuZ2UgaHNpemUsIHZzaXplOw0KIAl1MzIgbWF4X3Vwc2NhbGlu
ZzsNCiAJdTMyIG1heF9kb3duc2NhbGluZzsNCisJdTggc2NhbGluZ19zcGxpdF9vdmVybGFwOyAv
KiBzcGxpdCBvdmVybGFwIGZvciBzY2FsaW5nICovDQorCXU4IGVuaF9zcGxpdF9vdmVybGFwOyAv
KiBzcGxpdCBvdmVybGFwIGZvciBpbWFnZSBlbmhhbmNlbWVudCAqLw0KIH07DQoNCiBzdHJ1Y3Qg
a29tZWRhX3NjYWxlcl9zdGF0ZSB7DQogCXN0cnVjdCBrb21lZGFfY29tcG9uZW50X3N0YXRlIGJh
c2U7DQogCXUxNiBoc2l6ZV9pbiwgdnNpemVfaW47DQogCXUxNiBoc2l6ZV9vdXQsIHZzaXplX291
dDsNCisJdTE2IHRvdGFsX2hzaXplX2luLCB0b3RhbF92c2l6ZV9pbjsNCisJdTE2IHRvdGFsX2hz
aXplX291dDsgLyogdG90YWxfeHh4eCBhcmUgc2l6ZSBiZWZvcmUgc3BsaXQgKi8NCisJdTE2IGxl
ZnRfY3JvcCwgcmlnaHRfY3JvcDsNCiAJdTggZW5fc2NhbGluZyA6IDEsDQogCSAgIGVuX2FscGhh
IDogMSwgLyogZW5hYmxlIGFscGhhIHByb2Nlc3NpbmcgKi8NCi0JICAgZW5faW1nX2VuaGFuY2Vt
ZW50IDogMTsNCisJICAgZW5faW1nX2VuaGFuY2VtZW50IDogMSwNCisJICAgZW5fc3BsaXQgOiAx
LA0KKwkgICByaWdodF9wYXJ0IDogMTsgLyogcmlnaHQgcGFydCBvZiBzcGxpdCBpbWFnZSAqLw0K
IH07DQoNCiBzdHJ1Y3Qga29tZWRhX2NvbXBpeiB7DQpAQCAtMzIzLDExICszMzAsMTYgQEAgc3Ry
dWN0IGtvbWVkYV9kYXRhX2Zsb3dfY2ZnIHsNCiAJc3RydWN0IGtvbWVkYV9jb21wb25lbnRfb3V0
cHV0IGlucHV0Ow0KIAl1MTYgaW5feCwgaW5feSwgaW5fdywgaW5faDsNCiAJdTMyIG91dF94LCBv
dXRfeSwgb3V0X3csIG91dF9oOw0KKwl1MTYgdG90YWxfaW5faCwgdG90YWxfaW5fdzsNCisJdTE2
IHRvdGFsX291dF93Ow0KKwl1MTYgbGVmdF9jcm9wLCByaWdodF9jcm9wLCBvdmVybGFwOw0KIAl1
MzIgcm90Ow0KIAlpbnQgYmxlbmRpbmdfem9yZGVyOw0KIAl1OCBwaXhlbF9ibGVuZF9tb2RlLCBs
YXllcl9hbHBoYTsNCiAJdTggZW5fc2NhbGluZyA6IDEsDQotCSAgIGVuX2ltZ19lbmhhbmNlbWVu
dCA6IDE7DQorCSAgIGVuX2ltZ19lbmhhbmNlbWVudCA6IDEsDQorCSAgIGVuX3NwbGl0IDogMSwN
CisJICAgcmlnaHRfcGFydCA6IDE7IC8qIHJpZ2h0IHBhcnQgb2YgZGlzcGxheSBpbWFnZSBpZiBz
cGxpdCBlbmFibGVkICovDQogfTsNCg0KIHN0cnVjdCBrb21lZGFfcGlwZWxpbmVfZnVuY3Mgew0K
QEAgLTQ5Miw2ICs1MDQsNyBAQCB2b2lkIGtvbWVkYV9waXBlbGluZV9kaXNhYmxlKHN0cnVjdCBr
b21lZGFfcGlwZWxpbmUgKnBpcGUsDQogdm9pZCBrb21lZGFfcGlwZWxpbmVfdXBkYXRlKHN0cnVj
dCBrb21lZGFfcGlwZWxpbmUgKnBpcGUsDQogCQkJICAgIHN0cnVjdCBkcm1fYXRvbWljX3N0YXRl
ICpvbGRfc3RhdGUpOw0KDQotdm9pZCBrb21lZGFfY29tcGxldGVfZGF0YV9mbG93X2NmZyhzdHJ1
Y3Qga29tZWRhX2RhdGFfZmxvd19jZmcgKmRmbG93KTsNCit2b2lkIGtvbWVkYV9jb21wbGV0ZV9k
YXRhX2Zsb3dfY2ZnKHN0cnVjdCBrb21lZGFfZGF0YV9mbG93X2NmZyAqZGZsb3csDQorCQkJCSAg
IHN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZiKTsNCg0KICNlbmRpZiAvKiBfS09NRURBX1BJUEVM
SU5FX0hfKi8NCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYXJtL2Rpc3BsYXkva29tZWRh
L2tvbWVkYV9waXBlbGluZV9zdGF0ZS5jIGIvZHJpdmVycy9ncHUvZHJtL2FybS9kaXNwbGF5L2tv
bWVkYS9rb21lZGFfcGlwZWxpbmVfc3RhdGUuYw0KaW5kZXggN2ZiN2Y3MjVhNmRlLi43MTQ5NjFh
MGY5MWUgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYXJtL2Rpc3BsYXkva29tZWRhL2tv
bWVkYV9waXBlbGluZV9zdGF0ZS5jDQorKysgYi9kcml2ZXJzL2dwdS9kcm0vYXJtL2Rpc3BsYXkv
a29tZWRhL2tvbWVkYV9waXBlbGluZV9zdGF0ZS5jDQpAQCAtNTA3LDExICs1MDcsMTggQEAga29t
ZWRhX3NjYWxlcl92YWxpZGF0ZSh2b2lkICp1c2VyLA0KIAlzdC0+dnNpemVfaW4gPSBkZmxvdy0+
aW5faDsNCiAJc3QtPmhzaXplX291dCA9IGRmbG93LT5vdXRfdzsNCiAJc3QtPnZzaXplX291dCA9
IGRmbG93LT5vdXRfaDsNCisJc3QtPnJpZ2h0X2Nyb3AgPSBkZmxvdy0+cmlnaHRfY3JvcDsNCisJ
c3QtPmxlZnRfY3JvcCA9IGRmbG93LT5sZWZ0X2Nyb3A7DQorCXN0LT50b3RhbF92c2l6ZV9pbiA9
IGRmbG93LT50b3RhbF9pbl9oOw0KKwlzdC0+dG90YWxfaHNpemVfaW4gPSBkZmxvdy0+dG90YWxf
aW5fdzsNCisJc3QtPnRvdGFsX2hzaXplX291dCA9IGRmbG93LT50b3RhbF9vdXRfdzsNCg0KIAkv
KiBFbmFibGUgYWxwaGEgcHJvY2Vzc2luZyBpZiB0aGUgbmV4dCBzdGFnZSBuZWVkcyB0aGUgcGl4
ZWwgYWxwaGEgKi8NCiAJc3QtPmVuX2FscGhhID0gZGZsb3ctPnBpeGVsX2JsZW5kX21vZGUgIT0g
RFJNX01PREVfQkxFTkRfUElYRUxfTk9ORTsNCiAJc3QtPmVuX3NjYWxpbmcgPSBkZmxvdy0+ZW5f
c2NhbGluZzsNCiAJc3QtPmVuX2ltZ19lbmhhbmNlbWVudCA9IGRmbG93LT5lbl9pbWdfZW5oYW5j
ZW1lbnQ7DQorCXN0LT5lbl9zcGxpdCA9IGRmbG93LT5lbl9zcGxpdDsNCisJc3QtPnJpZ2h0X3Bh
cnQgPSBkZmxvdy0+cmlnaHRfcGFydDsNCg0KIAlrb21lZGFfY29tcG9uZW50X2FkZF9pbnB1dCgm
c3QtPmJhc2UsICZkZmxvdy0+aW5wdXQsIDApOw0KIAlrb21lZGFfY29tcG9uZW50X3NldF9vdXRw
dXQoJmRmbG93LT5pbnB1dCwgJnNjYWxlci0+YmFzZSwgMCk7DQpAQCAtNjY1LDExICs2NzIsMjAg
QEAga29tZWRhX3RpbWluZ19jdHJscl92YWxpZGF0ZShzdHJ1Y3Qga29tZWRhX3RpbWluZ19jdHJs
ciAqY3RybHIsDQogCXJldHVybiAwOw0KIH0NCg0KLXZvaWQga29tZWRhX2NvbXBsZXRlX2RhdGFf
Zmxvd19jZmcoc3RydWN0IGtvbWVkYV9kYXRhX2Zsb3dfY2ZnICpkZmxvdykNCit2b2lkIGtvbWVk
YV9jb21wbGV0ZV9kYXRhX2Zsb3dfY2ZnKHN0cnVjdCBrb21lZGFfZGF0YV9mbG93X2NmZyAqZGZs
b3csDQorCQkJCSAgIHN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZiKQ0KIHsNCiAJdTMyIHcgPSBk
Zmxvdy0+aW5fdzsNCiAJdTMyIGggPSBkZmxvdy0+aW5faDsNCg0KKwlkZmxvdy0+dG90YWxfaW5f
dyA9IGRmbG93LT5pbl93Ow0KKwlkZmxvdy0+dG90YWxfaW5faCA9IGRmbG93LT5pbl9oOw0KKwlk
Zmxvdy0+dG90YWxfb3V0X3cgPSBkZmxvdy0+b3V0X3c7DQorDQorCS8qIGlmIGZvcm1hdCBkb2Vz
bid0IGhhdmUgYWxwaGEsIGZpeCBibGVuZCBtb2RlIHRvIFBJWEVMX05PTkUgKi8NCisJaWYgKCFm
Yi0+Zm9ybWF0LT5oYXNfYWxwaGEpDQorCQlkZmxvdy0+cGl4ZWxfYmxlbmRfbW9kZSA9IERSTV9N
T0RFX0JMRU5EX1BJWEVMX05PTkU7DQorDQogCWlmIChkcm1fcm90YXRpb25fOTBfb3JfMjcwKGRm
bG93LT5yb3QpKQ0KIAkJc3dhcCh3LCBoKTsNCg0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9hcm0vZGlzcGxheS9rb21lZGEva29tZWRhX3BsYW5lLmMgYi9kcml2ZXJzL2dwdS9kcm0vYXJt
L2Rpc3BsYXkva29tZWRhL2tvbWVkYV9wbGFuZS5jDQppbmRleCBjMGUzODFjZWU1MjQuLjlkMjk4
MjAzNDViOSAxMDA2NDQNCi0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hcm0vZGlzcGxheS9rb21lZGEv
a29tZWRhX3BsYW5lLmMNCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hcm0vZGlzcGxheS9rb21lZGEv
a29tZWRhX3BsYW5lLmMNCkBAIC0yMywxMCArMjMsNyBAQCBrb21lZGFfcGxhbmVfaW5pdF9kYXRh
X2Zsb3coc3RydWN0IGRybV9wbGFuZV9zdGF0ZSAqc3QsDQogCW1lbXNldChkZmxvdywgMCwgc2l6
ZW9mKCpkZmxvdykpOw0KDQogCWRmbG93LT5ibGVuZGluZ196b3JkZXIgPSBzdC0+bm9ybWFsaXpl
ZF96cG9zOw0KLQ0KLQkvKiBpZiBmb3JtYXQgZG9lc24ndCBoYXZlIGFscGhhLCBmaXggYmxlbmQg
bW9kZSB0byBQSVhFTF9OT05FICovDQotCWRmbG93LT5waXhlbF9ibGVuZF9tb2RlID0gZmItPmZv
cm1hdC0+aGFzX2FscGhhID8NCi0JCQlzdC0+cGl4ZWxfYmxlbmRfbW9kZSA6IERSTV9NT0RFX0JM
RU5EX1BJWEVMX05PTkU7DQorCWRmbG93LT5waXhlbF9ibGVuZF9tb2RlID0gc3QtPnBpeGVsX2Js
ZW5kX21vZGU7DQogCWRmbG93LT5sYXllcl9hbHBoYSA9IHN0LT5hbHBoYSA+PiA4Ow0KDQogCWRm
bG93LT5vdXRfeCA9IHN0LT5jcnRjX3g7DQpAQCAtMzksOCArMzYsNiBAQCBrb21lZGFfcGxhbmVf
aW5pdF9kYXRhX2Zsb3coc3RydWN0IGRybV9wbGFuZV9zdGF0ZSAqc3QsDQogCWRmbG93LT5pbl93
ID0gc3QtPnNyY193ID4+IDE2Ow0KIAlkZmxvdy0+aW5faCA9IHN0LT5zcmNfaCA+PiAxNjsNCg0K
LQlkZmxvdy0+ZW5faW1nX2VuaGFuY2VtZW50ID0ga3BsYW5lX3N0LT5pbWdfZW5oYW5jZW1lbnQ7
DQotDQogCWRmbG93LT5yb3QgPSBkcm1fcm90YXRpb25fc2ltcGxpZnkoc3QtPnJvdGF0aW9uLCBj
YXBzLT5zdXBwb3J0ZWRfcm90cyk7DQogCWlmICghaGFzX2JpdHMoZGZsb3ctPnJvdCwgY2Fwcy0+
c3VwcG9ydGVkX3JvdHMpKSB7DQogCQlEUk1fREVCVUdfQVRPTUlDKCJyb3RhdGlvbigweCV4KSBp
c24ndCBzdXBwb3J0ZWQgYnkgJXMuXG4iLA0KQEAgLTUwLDcgKzQ1LDkgQEAga29tZWRhX3BsYW5l
X2luaXRfZGF0YV9mbG93KHN0cnVjdCBkcm1fcGxhbmVfc3RhdGUgKnN0LA0KIAkJcmV0dXJuIC1F
SU5WQUw7DQogCX0NCg0KLQlrb21lZGFfY29tcGxldGVfZGF0YV9mbG93X2NmZyhkZmxvdyk7DQor
CWRmbG93LT5lbl9pbWdfZW5oYW5jZW1lbnQgPSBrcGxhbmVfc3QtPmltZ19lbmhhbmNlbWVudDsN
CisNCisJa29tZWRhX2NvbXBsZXRlX2RhdGFfZmxvd19jZmcoZGZsb3csIGZiKTsNCg0KIAlyZXR1
cm4gMDsNCiB9DQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FybS9kaXNwbGF5L2tvbWVk
YS9rb21lZGFfd2JfY29ubmVjdG9yLmMgYi9kcml2ZXJzL2dwdS9kcm0vYXJtL2Rpc3BsYXkva29t
ZWRhL2tvbWVkYV93Yl9jb25uZWN0b3IuYw0KaW5kZXggZWVkNTIxMjE4ZWYzLi4yMDI5NTI5MTU3
MmYgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYXJtL2Rpc3BsYXkva29tZWRhL2tvbWVk
YV93Yl9jb25uZWN0b3IuYw0KKysrIGIvZHJpdmVycy9ncHUvZHJtL2FybS9kaXNwbGF5L2tvbWVk
YS9rb21lZGFfd2JfY29ubmVjdG9yLmMNCkBAIC0zMSw3ICszMSw3IEBAIGtvbWVkYV93Yl9pbml0
X2RhdGFfZmxvdyhzdHJ1Y3Qga29tZWRhX2xheWVyICp3Yl9sYXllciwNCiAJZGZsb3ctPnBpeGVs
X2JsZW5kX21vZGUgPSBEUk1fTU9ERV9CTEVORF9QSVhFTF9OT05FOw0KIAlkZmxvdy0+cm90ID0g
RFJNX01PREVfUk9UQVRFXzA7DQoNCi0Ja29tZWRhX2NvbXBsZXRlX2RhdGFfZmxvd19jZmcoZGZs
b3cpOw0KKwlrb21lZGFfY29tcGxldGVfZGF0YV9mbG93X2NmZyhkZmxvdywgZmIpOw0KDQogCXJl
dHVybiAwOw0KIH0NCi0tDQoyLjE3LjENCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZy
ZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3Rp
bmZvL2RyaS1kZXZlbA==
