Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id DAAB636E5A2
	for <lists+dri-devel@lfdr.de>; Thu, 29 Apr 2021 09:11:57 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C01946ED23;
	Thu, 29 Apr 2021 07:11:53 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ed1-x52e.google.com (mail-ed1-x52e.google.com
 [IPv6:2a00:1450:4864:20::52e])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 22EA06ED1A;
 Thu, 29 Apr 2021 07:11:52 +0000 (UTC)
Received: by mail-ed1-x52e.google.com with SMTP id q6so18006717edr.3;
 Thu, 29 Apr 2021 00:11:51 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=subject:to:cc:references:from:message-id:date:user-agent
 :mime-version:in-reply-to:content-transfer-encoding:content-language;
 bh=Jn5U6akZgJwNINcyqEMCuCOFUOlyC2zESuTYJ6gZC1w=;
 b=Q4OrK4sLYf+sr0G+AZAvx7m0ErUN8MRcuO3thGDiX/czkL7IeOvZd8D183xQwtOIwq
 Oy8ZPwEU2/l0kyAZ/Bdoreh48nG1gbw8wq1OLNwSZcGxZj+Ax//sMojbAXN652pzmfHw
 LrG38Rkt9JaS0MqQuL9Vaa5DTOEm3mj2AXzwvEySk1RNc0GUf13DsjuoR7jtlS2B+dOR
 al18/5IhRrVhSKWtUE0aIDzxMHJfbJxZjyRpVN53+UZg/VloxclQMNHmqfSX6HIsgSDZ
 pycwvCY7iPaY+0oco7fd/c7ZQR4E922COW3WTPgXhcw5E7CvhTRcb+kfKFZn1Eh1qOO7
 yp7A==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:subject:to:cc:references:from:message-id:date
 :user-agent:mime-version:in-reply-to:content-transfer-encoding
 :content-language;
 bh=Jn5U6akZgJwNINcyqEMCuCOFUOlyC2zESuTYJ6gZC1w=;
 b=Y57c3llo5GXtNzHbOBxFdOD+M6zrbLD71MsLQeJJPtk5e5CgmILvxCtOP+4rm+Pa50
 5G5BcVREjoDjpgglIpiAW0grDMUXxZv+mAsTnfQt71vHphoUoiPpt7KtrXVbc/IR5Hrm
 IHSwLi/0AVWHSo57aspVj5Nz51i9EZa+BG5NUEhrciRukPr2YYG7BXadXqt3Rwx5p3UG
 Ou8aKOh8r9UUssgvjuhMUvEMXdyPbvycbSiJNIW1vYtjnqe/b5rrbzcYbx9xY7lBXYEF
 zv/CEuEJ1vi1efuBu2gARHEqH4BAZ/j0fttOXEmB/vDcAN0tlBq7RM/lmOvk3AJfDhJo
 bDbg==
X-Gm-Message-State: AOAM532rNQOawu4gHq3IdJenZ4kutIUsh5RAHx05JE5msa6i0z33wehT
 E9xFw/1Pm4J8+fceIEwyShY=
X-Google-Smtp-Source: ABdhPJw5eFAOIuF2IpbkUdPLIJKycxsO/i6UIIE2NnOEmvL9oiwfdshnV6rFaK+WXZ8qXLDpKejzEA==
X-Received: by 2002:a05:6402:26c9:: with SMTP id
 x9mr16060534edd.322.1619680310691; 
 Thu, 29 Apr 2021 00:11:50 -0700 (PDT)
Received: from ?IPv6:2a02:908:1252:fb60:49f7:8b5a:d7ab:5e3e?
 ([2a02:908:1252:fb60:49f7:8b5a:d7ab:5e3e])
 by smtp.gmail.com with ESMTPSA id w19sm1610189edd.52.2021.04.29.00.11.49
 (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
 Thu, 29 Apr 2021 00:11:50 -0700 (PDT)
Subject: Re: [PATCH v5 09/27] dmr/amdgpu: Move some sysfs attrs creation to
 default_attr
To: Andrey Grodzovsky <andrey.grodzovsky@amd.com>,
 dri-devel@lists.freedesktop.org, amd-gfx@lists.freedesktop.org,
 linux-pci@vger.kernel.org, daniel.vetter@ffwll.ch, Harry.Wentland@amd.com
References: <20210428151207.1212258-1-andrey.grodzovsky@amd.com>
 <20210428151207.1212258-10-andrey.grodzovsky@amd.com>
From: =?UTF-8?Q?Christian_K=c3=b6nig?= <ckoenig.leichtzumerken@gmail.com>
Message-ID: <e8793ff7-5b80-1df1-46e4-3fba8172cdfc@gmail.com>
Date: Thu, 29 Apr 2021 09:11:49 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101
 Thunderbird/78.7.1
MIME-Version: 1.0
In-Reply-To: <20210428151207.1212258-10-andrey.grodzovsky@amd.com>
Content-Language: en-US
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Alexander.Deucher@amd.com, gregkh@linuxfoundation.org, helgaas@kernel.org,
 Felix.Kuehling@amd.com
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QW0gMjguMDQuMjEgdW0gMTc6MTEgc2NocmllYiBBbmRyZXkgR3JvZHpvdnNreToKPiBUaGlzIGFs
bG93cyB0byByZW1vdmUgZXhwbGljaXQgY3JlYXRpb24gYW5kIGRlc3RydWN0aW9uCj4gb2YgdGhv
c2UgYXR0cnMgYW5kIGJ5IHRoaXMgYXZvaWRzIHdhcm5pbmdzIG9uIGRldmljZQo+IGZpbmlsaXpp
bmcgcG9zdCBwaHlzaWNhbCBkZXZpY2UgZXh0cmFjdGlvbi4KPgo+IHY1OiBVc2UgbmV3bHkgYWRk
ZWQgcGNpX2RyaXZlci5kZXZfZ3JvdXBzIGRpcmVjdGx5Cj4KPiBTaWduZWQtb2ZmLWJ5OiBBbmRy
ZXkgR3JvZHpvdnNreSA8YW5kcmV5Lmdyb2R6b3Zza3lAYW1kLmNvbT4KCkxvb2tzIGxpa2UgYSBu
aWNlIGNsZWFudXAgdG8gbWUsIGJ1dCB0aGlzIGlzIGJleW9uZCBteSB1bmRlcnN0YW5kIG9mIHN5
c2ZzLgoKQWNrZWQtYnk6IENocmlzdGlhbiBLw7ZuaWcgPGNocmlzdGlhbi5rb2VuaWdAYW1kLmNv
bT4KCkNocmlzdGlhbi4KCj4gLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRn
cHVfYXRvbWJpb3MuYyB8IDE3ICsrKysrKy0tLS0tLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2FtZGdwdV9kcnYuYyAgICAgIHwgMTMgKysrKysrKysrKwo+ICAgZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2d0dF9tZ3IuYyAgfCAyNSArKysrKysrKy0tLS0tLS0tLS0t
LQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZyYW1fbWdyLmMgfCAxNCAr
KysrLS0tLS0tLQo+ICAgNCBmaWxlcyBjaGFuZ2VkLCAzNyBpbnNlcnRpb25zKCspLCAzMiBkZWxl
dGlvbnMoLSkKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRn
cHVfYXRvbWJpb3MuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hdG9tYmlv
cy5jCj4gaW5kZXggODZhZGQwZjRlYTRkLi4wMzQ2ZTEyNGFiOGMgMTAwNjQ0Cj4gLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2F0b21iaW9zLmMKPiArKysgYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYXRvbWJpb3MuYwo+IEBAIC0xOTUzLDYgKzE5NTMs
MTUgQEAgc3RhdGljIHNzaXplX3QgYW1kZ3B1X2F0b21iaW9zX2dldF92Ymlvc192ZXJzaW9uKHN0
cnVjdCBkZXZpY2UgKmRldiwKPiAgIHN0YXRpYyBERVZJQ0VfQVRUUih2Ymlvc192ZXJzaW9uLCAw
NDQ0LCBhbWRncHVfYXRvbWJpb3NfZ2V0X3ZiaW9zX3ZlcnNpb24sCj4gICAJCSAgIE5VTEwpOwo+
ICAgCj4gK3N0YXRpYyBzdHJ1Y3QgYXR0cmlidXRlICphbWRncHVfdmJpb3NfdmVyc2lvbl9hdHRy
c1tdID0gewo+ICsJJmRldl9hdHRyX3ZiaW9zX3ZlcnNpb24uYXR0ciwKPiArCU5VTEwKPiArfTsK
PiArCj4gK2NvbnN0IHN0cnVjdCBhdHRyaWJ1dGVfZ3JvdXAgYW1kZ3B1X3ZiaW9zX3ZlcnNpb25f
YXR0cl9ncm91cCA9IHsKPiArCS5hdHRycyA9IGFtZGdwdV92Ymlvc192ZXJzaW9uX2F0dHJzCj4g
K307Cj4gKwo+ICAgLyoqCj4gICAgKiBhbWRncHVfYXRvbWJpb3NfZmluaSAtIGZyZWUgdGhlIGRy
aXZlciBpbmZvIGFuZCBjYWxsYmFja3MgZm9yIGF0b21iaW9zCj4gICAgKgo+IEBAIC0xOTcyLDcg
KzE5ODEsNiBAQCB2b2lkIGFtZGdwdV9hdG9tYmlvc19maW5pKHN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2KQo+ICAgCWFkZXYtPm1vZGVfaW5mby5hdG9tX2NvbnRleHQgPSBOVUxMOwo+ICAgCWtm
cmVlKGFkZXYtPm1vZGVfaW5mby5hdG9tX2NhcmRfaW5mbyk7Cj4gICAJYWRldi0+bW9kZV9pbmZv
LmF0b21fY2FyZF9pbmZvID0gTlVMTDsKPiAtCWRldmljZV9yZW1vdmVfZmlsZShhZGV2LT5kZXYs
ICZkZXZfYXR0cl92Ymlvc192ZXJzaW9uKTsKPiAgIH0KPiAgIAo+ICAgLyoqCj4gQEAgLTE5ODks
NyArMTk5Nyw2IEBAIGludCBhbWRncHVfYXRvbWJpb3NfaW5pdChzdHJ1Y3QgYW1kZ3B1X2Rldmlj
ZSAqYWRldikKPiAgIHsKPiAgIAlzdHJ1Y3QgY2FyZF9pbmZvICphdG9tX2NhcmRfaW5mbyA9Cj4g
ICAJICAgIGt6YWxsb2Moc2l6ZW9mKHN0cnVjdCBjYXJkX2luZm8pLCBHRlBfS0VSTkVMKTsKPiAt
CWludCByZXQ7Cj4gICAKPiAgIAlpZiAoIWF0b21fY2FyZF9pbmZvKQo+ICAgCQlyZXR1cm4gLUVO
T01FTTsKPiBAQCAtMjAyNywxMiArMjAzNCw2IEBAIGludCBhbWRncHVfYXRvbWJpb3NfaW5pdChz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKPiAgIAkJYW1kZ3B1X2F0b21iaW9zX2FsbG9jYXRl
X2ZiX3NjcmF0Y2goYWRldik7Cj4gICAJfQo+ICAgCj4gLQlyZXQgPSBkZXZpY2VfY3JlYXRlX2Zp
bGUoYWRldi0+ZGV2LCAmZGV2X2F0dHJfdmJpb3NfdmVyc2lvbik7Cj4gLQlpZiAocmV0KSB7Cj4g
LQkJRFJNX0VSUk9SKCJGYWlsZWQgdG8gY3JlYXRlIGRldmljZSBmaWxlIGZvciBWQklPUyB2ZXJz
aW9uXG4iKTsKPiAtCQlyZXR1cm4gcmV0Owo+IC0JfQo+IC0KPiAgIAlyZXR1cm4gMDsKPiAgIH0K
PiAgIAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZHJ2
LmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZHJ2LmMKPiBpbmRleCA1NGNi
NWVlMmY1NjMuLmY3OTljNDBkN2U3MiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9hbWRncHVfZHJ2LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9h
bWRncHVfZHJ2LmMKPiBAQCAtMTYwNSw2ICsxNjA1LDE4IEBAIHN0YXRpYyBzdHJ1Y3QgcGNpX2Vy
cm9yX2hhbmRsZXJzIGFtZGdwdV9wY2lfZXJyX2hhbmRsZXIgPSB7Cj4gICAJLnJlc3VtZQkJPSBh
bWRncHVfcGNpX3Jlc3VtZSwKPiAgIH07Cj4gICAKPiArZXh0ZXJuIGNvbnN0IHN0cnVjdCBhdHRy
aWJ1dGVfZ3JvdXAgYW1kZ3B1X3ZyYW1fbWdyX2F0dHJfZ3JvdXA7Cj4gK2V4dGVybiBjb25zdCBz
dHJ1Y3QgYXR0cmlidXRlX2dyb3VwIGFtZGdwdV9ndHRfbWdyX2F0dHJfZ3JvdXA7Cj4gK2V4dGVy
biBjb25zdCBzdHJ1Y3QgYXR0cmlidXRlX2dyb3VwIGFtZGdwdV92Ymlvc192ZXJzaW9uX2F0dHJf
Z3JvdXA7Cj4gKwo+ICtzdGF0aWMgY29uc3Qgc3RydWN0IGF0dHJpYnV0ZV9ncm91cCAqYW1kZ3B1
X3N5c2ZzX2dyb3Vwc1tdID0gewo+ICsJJmFtZGdwdV92cmFtX21ncl9hdHRyX2dyb3VwLAo+ICsJ
JmFtZGdwdV9ndHRfbWdyX2F0dHJfZ3JvdXAsCj4gKwkmYW1kZ3B1X3ZiaW9zX3ZlcnNpb25fYXR0
cl9ncm91cCwKPiArCU5VTEwsCj4gK307Cj4gKwo+ICsKPiAgIHN0YXRpYyBzdHJ1Y3QgcGNpX2Ry
aXZlciBhbWRncHVfa21zX3BjaV9kcml2ZXIgPSB7Cj4gICAJLm5hbWUgPSBEUklWRVJfTkFNRSwK
PiAgIAkuaWRfdGFibGUgPSBwY2lpZGxpc3QsCj4gQEAgLTE2MTMsNiArMTYyNSw3IEBAIHN0YXRp
YyBzdHJ1Y3QgcGNpX2RyaXZlciBhbWRncHVfa21zX3BjaV9kcml2ZXIgPSB7Cj4gICAJLnNodXRk
b3duID0gYW1kZ3B1X3BjaV9zaHV0ZG93biwKPiAgIAkuZHJpdmVyLnBtID0gJmFtZGdwdV9wbV9v
cHMsCj4gICAJLmVycl9oYW5kbGVyID0gJmFtZGdwdV9wY2lfZXJyX2hhbmRsZXIsCj4gKwkuZGV2
X2dyb3VwcyA9IGFtZGdwdV9zeXNmc19ncm91cHMsCj4gICB9Owo+ICAgCj4gICBzdGF0aWMgaW50
IF9faW5pdCBhbWRncHVfaW5pdCh2b2lkKQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHVfZ3R0X21nci5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
YW1kZ3B1X2d0dF9tZ3IuYwo+IGluZGV4IDg5ODAzMjljZGVkMC4uM2I3MTUwZTFjNWVkIDEwMDY0
NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9ndHRfbWdyLmMKPiAr
KysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ3R0X21nci5jCj4gQEAgLTc3
LDYgKzc3LDE2IEBAIHN0YXRpYyBERVZJQ0VfQVRUUihtZW1faW5mb19ndHRfdG90YWwsIFNfSVJV
R08sCj4gICBzdGF0aWMgREVWSUNFX0FUVFIobWVtX2luZm9fZ3R0X3VzZWQsIFNfSVJVR08sCj4g
ICAJICAgICAgICAgICBhbWRncHVfbWVtX2luZm9fZ3R0X3VzZWRfc2hvdywgTlVMTCk7Cj4gICAK
PiArc3RhdGljIHN0cnVjdCBhdHRyaWJ1dGUgKmFtZGdwdV9ndHRfbWdyX2F0dHJpYnV0ZXNbXSA9
IHsKPiArCSZkZXZfYXR0cl9tZW1faW5mb19ndHRfdG90YWwuYXR0ciwKPiArCSZkZXZfYXR0cl9t
ZW1faW5mb19ndHRfdXNlZC5hdHRyLAo+ICsJTlVMTAo+ICt9Owo+ICsKPiArY29uc3Qgc3RydWN0
IGF0dHJpYnV0ZV9ncm91cCBhbWRncHVfZ3R0X21ncl9hdHRyX2dyb3VwID0gewo+ICsJLmF0dHJz
ID0gYW1kZ3B1X2d0dF9tZ3JfYXR0cmlidXRlcwo+ICt9Owo+ICsKPiAgIHN0YXRpYyBjb25zdCBz
dHJ1Y3QgdHRtX3Jlc291cmNlX21hbmFnZXJfZnVuYyBhbWRncHVfZ3R0X21ncl9mdW5jOwo+ICAg
LyoqCj4gICAgKiBhbWRncHVfZ3R0X21ncl9pbml0IC0gaW5pdCBHVFQgbWFuYWdlciBhbmQgRFJN
IE1NCj4gQEAgLTkxLDcgKzEwMSw2IEBAIGludCBhbWRncHVfZ3R0X21ncl9pbml0KHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2LCB1aW50NjRfdCBndHRfc2l6ZSkKPiAgIAlzdHJ1Y3QgYW1kZ3B1
X2d0dF9tZ3IgKm1nciA9ICZhZGV2LT5tbWFuLmd0dF9tZ3I7Cj4gICAJc3RydWN0IHR0bV9yZXNv
dXJjZV9tYW5hZ2VyICptYW4gPSAmbWdyLT5tYW5hZ2VyOwo+ICAgCXVpbnQ2NF90IHN0YXJ0LCBz
aXplOwo+IC0JaW50IHJldDsKPiAgIAo+ICAgCW1hbi0+dXNlX3R0ID0gdHJ1ZTsKPiAgIAltYW4t
PmZ1bmMgPSAmYW1kZ3B1X2d0dF9tZ3JfZnVuYzsKPiBAQCAtMTA0LDE3ICsxMTMsNiBAQCBpbnQg
YW1kZ3B1X2d0dF9tZ3JfaW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgdWludDY0X3Qg
Z3R0X3NpemUpCj4gICAJc3Bpbl9sb2NrX2luaXQoJm1nci0+bG9jayk7Cj4gICAJYXRvbWljNjRf
c2V0KCZtZ3ItPmF2YWlsYWJsZSwgZ3R0X3NpemUgPj4gUEFHRV9TSElGVCk7Cj4gICAKPiAtCXJl
dCA9IGRldmljZV9jcmVhdGVfZmlsZShhZGV2LT5kZXYsICZkZXZfYXR0cl9tZW1faW5mb19ndHRf
dG90YWwpOwo+IC0JaWYgKHJldCkgewo+IC0JCURSTV9FUlJPUigiRmFpbGVkIHRvIGNyZWF0ZSBk
ZXZpY2UgZmlsZSBtZW1faW5mb19ndHRfdG90YWxcbiIpOwo+IC0JCXJldHVybiByZXQ7Cj4gLQl9
Cj4gLQlyZXQgPSBkZXZpY2VfY3JlYXRlX2ZpbGUoYWRldi0+ZGV2LCAmZGV2X2F0dHJfbWVtX2lu
Zm9fZ3R0X3VzZWQpOwo+IC0JaWYgKHJldCkgewo+IC0JCURSTV9FUlJPUigiRmFpbGVkIHRvIGNy
ZWF0ZSBkZXZpY2UgZmlsZSBtZW1faW5mb19ndHRfdXNlZFxuIik7Cj4gLQkJcmV0dXJuIHJldDsK
PiAtCX0KPiAtCj4gICAJdHRtX3NldF9kcml2ZXJfbWFuYWdlcigmYWRldi0+bW1hbi5iZGV2LCBU
VE1fUExfVFQsICZtZ3ItPm1hbmFnZXIpOwo+ICAgCXR0bV9yZXNvdXJjZV9tYW5hZ2VyX3NldF91
c2VkKG1hbiwgdHJ1ZSk7Cj4gICAJcmV0dXJuIDA7Cj4gQEAgLTE0NCw5ICsxNDIsNiBAQCB2b2lk
IGFtZGdwdV9ndHRfbWdyX2Zpbmkoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCj4gICAJZHJt
X21tX3Rha2Vkb3duKCZtZ3ItPm1tKTsKPiAgIAlzcGluX3VubG9jaygmbWdyLT5sb2NrKTsKPiAg
IAo+IC0JZGV2aWNlX3JlbW92ZV9maWxlKGFkZXYtPmRldiwgJmRldl9hdHRyX21lbV9pbmZvX2d0
dF90b3RhbCk7Cj4gLQlkZXZpY2VfcmVtb3ZlX2ZpbGUoYWRldi0+ZGV2LCAmZGV2X2F0dHJfbWVt
X2luZm9fZ3R0X3VzZWQpOwo+IC0KPiAgIAl0dG1fcmVzb3VyY2VfbWFuYWdlcl9jbGVhbnVwKG1h
bik7Cj4gICAJdHRtX3NldF9kcml2ZXJfbWFuYWdlcigmYWRldi0+bW1hbi5iZGV2LCBUVE1fUExf
VFQsIE5VTEwpOwo+ICAgfQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9hbWRncHVfdnJhbV9tZ3IuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92
cmFtX21nci5jCj4gaW5kZXggYzg5YjY2YmI3MGUyLi42ODM2OWIzOGFlYmIgMTAwNjQ0Cj4gLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZyYW1fbWdyLmMKPiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdnJhbV9tZ3IuYwo+IEBAIC0xNTQsNyAr
MTU0LDcgQEAgc3RhdGljIERFVklDRV9BVFRSKG1lbV9pbmZvX3Zpc192cmFtX3VzZWQsIFNfSVJV
R08sCj4gICBzdGF0aWMgREVWSUNFX0FUVFIobWVtX2luZm9fdnJhbV92ZW5kb3IsIFNfSVJVR08s
Cj4gICAJCSAgIGFtZGdwdV9tZW1faW5mb192cmFtX3ZlbmRvciwgTlVMTCk7Cj4gICAKPiAtc3Rh
dGljIGNvbnN0IHN0cnVjdCBhdHRyaWJ1dGUgKmFtZGdwdV92cmFtX21ncl9hdHRyaWJ1dGVzW10g
PSB7Cj4gK3N0YXRpYyBzdHJ1Y3QgYXR0cmlidXRlICphbWRncHVfdnJhbV9tZ3JfYXR0cmlidXRl
c1tdID0gewo+ICAgCSZkZXZfYXR0cl9tZW1faW5mb192cmFtX3RvdGFsLmF0dHIsCj4gICAJJmRl
dl9hdHRyX21lbV9pbmZvX3Zpc192cmFtX3RvdGFsLmF0dHIsCj4gICAJJmRldl9hdHRyX21lbV9p
bmZvX3ZyYW1fdXNlZC5hdHRyLAo+IEBAIC0xNjMsNiArMTYzLDEwIEBAIHN0YXRpYyBjb25zdCBz
dHJ1Y3QgYXR0cmlidXRlICphbWRncHVfdnJhbV9tZ3JfYXR0cmlidXRlc1tdID0gewo+ICAgCU5V
TEwKPiAgIH07Cj4gICAKPiArY29uc3Qgc3RydWN0IGF0dHJpYnV0ZV9ncm91cCBhbWRncHVfdnJh
bV9tZ3JfYXR0cl9ncm91cCA9IHsKPiArCS5hdHRycyA9IGFtZGdwdV92cmFtX21ncl9hdHRyaWJ1
dGVzCj4gK307Cj4gKwo+ICAgc3RhdGljIGNvbnN0IHN0cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdl
cl9mdW5jIGFtZGdwdV92cmFtX21ncl9mdW5jOwo+ICAgCj4gICAvKioKPiBAQCAtMTc2LDcgKzE4
MCw2IEBAIGludCBhbWRncHVfdnJhbV9tZ3JfaW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRl
dikKPiAgIHsKPiAgIAlzdHJ1Y3QgYW1kZ3B1X3ZyYW1fbWdyICptZ3IgPSAmYWRldi0+bW1hbi52
cmFtX21ncjsKPiAgIAlzdHJ1Y3QgdHRtX3Jlc291cmNlX21hbmFnZXIgKm1hbiA9ICZtZ3ItPm1h
bmFnZXI7Cj4gLQlpbnQgcmV0Owo+ICAgCj4gICAJdHRtX3Jlc291cmNlX21hbmFnZXJfaW5pdCht
YW4sIGFkZXYtPmdtYy5yZWFsX3ZyYW1fc2l6ZSA+PiBQQUdFX1NISUZUKTsKPiAgIAo+IEBAIC0x
ODcsMTEgKzE5MCw2IEBAIGludCBhbWRncHVfdnJhbV9tZ3JfaW5pdChzdHJ1Y3QgYW1kZ3B1X2Rl
dmljZSAqYWRldikKPiAgIAlJTklUX0xJU1RfSEVBRCgmbWdyLT5yZXNlcnZhdGlvbnNfcGVuZGlu
Zyk7Cj4gICAJSU5JVF9MSVNUX0hFQUQoJm1nci0+cmVzZXJ2ZWRfcGFnZXMpOwo+ICAgCj4gLQkv
KiBBZGQgdGhlIHR3byBWUkFNLXJlbGF0ZWQgc3lzZnMgZmlsZXMgKi8KPiAtCXJldCA9IHN5c2Zz
X2NyZWF0ZV9maWxlcygmYWRldi0+ZGV2LT5rb2JqLCBhbWRncHVfdnJhbV9tZ3JfYXR0cmlidXRl
cyk7Cj4gLQlpZiAocmV0KQo+IC0JCURSTV9FUlJPUigiRmFpbGVkIHRvIHJlZ2lzdGVyIHN5c2Zz
XG4iKTsKPiAtCj4gICAJdHRtX3NldF9kcml2ZXJfbWFuYWdlcigmYWRldi0+bW1hbi5iZGV2LCBU
VE1fUExfVlJBTSwgJm1nci0+bWFuYWdlcik7Cj4gICAJdHRtX3Jlc291cmNlX21hbmFnZXJfc2V0
X3VzZWQobWFuLCB0cnVlKTsKPiAgIAlyZXR1cm4gMDsKPiBAQCAtMjI5LDggKzIyNyw2IEBAIHZv
aWQgYW1kZ3B1X3ZyYW1fbWdyX2Zpbmkoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCj4gICAJ
ZHJtX21tX3Rha2Vkb3duKCZtZ3ItPm1tKTsKPiAgIAlzcGluX3VubG9jaygmbWdyLT5sb2NrKTsK
PiAgIAo+IC0Jc3lzZnNfcmVtb3ZlX2ZpbGVzKCZhZGV2LT5kZXYtPmtvYmosIGFtZGdwdV92cmFt
X21ncl9hdHRyaWJ1dGVzKTsKPiAtCj4gICAJdHRtX3Jlc291cmNlX21hbmFnZXJfY2xlYW51cCht
YW4pOwo+ICAgCXR0bV9zZXRfZHJpdmVyX21hbmFnZXIoJmFkZXYtPm1tYW4uYmRldiwgVFRNX1BM
X1ZSQU0sIE5VTEwpOwo+ICAgfQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRl
c2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8v
ZHJpLWRldmVsCg==
