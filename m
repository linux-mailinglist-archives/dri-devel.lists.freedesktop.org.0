Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 1D8761AC8B
	for <lists+dri-devel@lfdr.de>; Sun, 12 May 2019 15:56:05 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7175989B11;
	Sun, 12 May 2019 13:56:02 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from perceval.ideasonboard.com (perceval.ideasonboard.com
 [IPv6:2001:4b98:dc2:55:216:3eff:fef7:d647])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 5F20C897F9
 for <dri-devel@lists.freedesktop.org>; Sun, 12 May 2019 13:56:00 +0000 (UTC)
Received: from pendragon.ideasonboard.com (81-175-216-236.bb.dnainternet.fi
 [81.175.216.236])
 by perceval.ideasonboard.com (Postfix) with ESMTPSA id 616B52B6;
 Sun, 12 May 2019 15:55:58 +0200 (CEST)
Date: Sun, 12 May 2019 16:55:42 +0300
From: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
To: Kieran Bingham <kieran.bingham+renesas@ideasonboard.com>
Subject: Re: [PATCH v2 5/6] drm: rcar-du: Create a group state object
Message-ID: <20190512135542.GF4960@pendragon.ideasonboard.com>
References: <20190315170110.23280-1-kieran.bingham+renesas@ideasonboard.com>
 <20190315170110.23280-6-kieran.bingham+renesas@ideasonboard.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190315170110.23280-6-kieran.bingham+renesas@ideasonboard.com>
User-Agent: Mutt/1.10.1 (2018-07-13)
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=ideasonboard.com; s=mail; t=1557669358;
 bh=S+hZYXtoJjYSMo9K9sr81T/Awk02j+RyY6TH9RtOq2s=;
 h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
 b=JRbbdvA0NkoO8nVWjccGDNpWycHJ6aS/S04QKO6dKBDw1lhDcIdK1e2/iVAEAalze
 pDUDh+QIL++/ffjHW/uGi88OJIgPm+bXYqOc4CYJfEy2VAt/DweHBrEgNpZikbIHIJ
 mqkh1JpHkFVUCLI4U307Qw/BMGV0VeU25eKPtRT8=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-renesas-soc@vger.kernel.org, David Airlie <airlied@linux.ie>,
 open list <linux-kernel@vger.kernel.org>, dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgS2llcmFuLAoKVGhhbmsgeW91IGZvciB0aGUgcGF0Y2guCgpPbiBGcmksIE1hciAxNSwgMjAx
OSBhdCAwNTowMTowOVBNICswMDAwLCBLaWVyYW4gQmluZ2hhbSB3cm90ZToKPiBDcmVhdGUgYSBu
ZXcgcHJpdmF0ZSBzdGF0ZSBvYmplY3QgZm9yIHRoZSBEVSBncm91cHMsIGFuZCBtb3ZlIHRoZQo+
IGluaXRpYWxpc2F0aW9uIG9mIGEgZ3JvdXAgb2JqZWN0IHRvIGEgbmV3IGZ1bmN0aW9uIHJjYXJf
ZHVfZ3JvdXBfaW5pdCgpLgo+IAo+IFNpZ25lZC1vZmYtYnk6IEtpZXJhbiBCaW5naGFtIDxraWVy
YW4uYmluZ2hhbStyZW5lc2FzQGlkZWFzb25ib2FyZC5jb20+Cj4gLS0tCj4gdjI6Cj4gIC0gTm8g
Y2hhbmdlCj4gCj4gIGRyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfZ3JvdXAuYyB8IDgx
ICsrKysrKysrKysrKysrKysrKysrKysrKysKPiAgZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNh
cl9kdV9ncm91cC5oIHwgMjIgKysrKysrKwo+ICBkcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2Fy
X2R1X2ttcy5jICAgfCAyNyArKy0tLS0tLS0KPiAgMyBmaWxlcyBjaGFuZ2VkLCAxMDcgaW5zZXJ0
aW9ucygrKSwgMjMgZGVsZXRpb25zKC0pCj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9yY2FyLWR1L3JjYXJfZHVfZ3JvdXAuYyBiL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJf
ZHVfZ3JvdXAuYwo+IGluZGV4IDllZWU0Nzk2OWU3Ny4uOWM4MmQ2NjZmMTcwIDEwMDY0NAo+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfZ3JvdXAuYwo+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfZ3JvdXAuYwo+IEBAIC0yNiw2ICsyNiwxMCBAQAo+
ICAjaW5jbHVkZSA8bGludXgvY2xrLmg+Cj4gICNpbmNsdWRlIDxsaW51eC9pby5oPgoKUGxlYXNl
IGluY2x1ZGUgPGxpbnV4L3NsYWIuaD4gZm9yIGt6YWxsb2MoKSBhbmQga2ZyZWUoKS4KCj4gIAo+
ICsjaW5jbHVkZSA8ZHJtL2RybV9hdG9taWMuaD4KPiArI2luY2x1ZGUgPGRybS9kcm1fYXRvbWlj
X3N0YXRlX2hlbHBlci5oPgo+ICsjaW5jbHVkZSA8ZHJtL2RybV9kZXZpY2UuaD4KPiArCj4gICNp
bmNsdWRlICJyY2FyX2R1X2Rydi5oIgo+ICAjaW5jbHVkZSAicmNhcl9kdV9ncm91cC5oIgo+ICAj
aW5jbHVkZSAicmNhcl9kdV9yZWdzLmgiCj4gQEAgLTM1MSwzICszNTUsODAgQEAgaW50IHJjYXJf
ZHVfZ3JvdXBfc2V0X3JvdXRpbmcoc3RydWN0IHJjYXJfZHVfZ3JvdXAgKnJncnApCj4gIAo+ICAJ
cmV0dXJuIHJjYXJfZHVfc2V0X2RwYWQwX3ZzcDFfcm91dGluZyhyZ3JwLT5kZXYpOwo+ICB9Cj4g
Kwo+ICtzdGF0aWMgc3RydWN0IGRybV9wcml2YXRlX3N0YXRlICoKPiArcmNhcl9kdV9ncm91cF9h
dG9taWNfZHVwbGljYXRlX3N0YXRlKHN0cnVjdCBkcm1fcHJpdmF0ZV9vYmogKm9iaikKPiArewo+
ICsJc3RydWN0IHJjYXJfZHVfZ3JvdXBfc3RhdGUgKnN0YXRlOwo+ICsKPiArCWlmIChXQVJOX09O
KCFvYmotPnN0YXRlKSkKPiArCQlyZXR1cm4gTlVMTDsKPiArCj4gKwlzdGF0ZSA9IGt6YWxsb2Mo
c2l6ZW9mKCpzdGF0ZSksIEdGUF9LRVJORUwpOwo+ICsJaWYgKHN0YXRlID09IE5VTEwpCj4gKwkJ
cmV0dXJuIE5VTEw7Cj4gKwo+ICsJX19kcm1fYXRvbWljX2hlbHBlcl9wcml2YXRlX29ial9kdXBs
aWNhdGVfc3RhdGUob2JqLCAmc3RhdGUtPnN0YXRlKTsKPiArCj4gKwlyZXR1cm4gJnN0YXRlLT5z
dGF0ZTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgcmNhcl9kdV9ncm91cF9hdG9taWNfZGVzdHJv
eV9zdGF0ZShzdHJ1Y3QgZHJtX3ByaXZhdGVfb2JqICpvYmosCj4gKwkJCQkJICAgICAgIHN0cnVj
dCBkcm1fcHJpdmF0ZV9zdGF0ZSAqc3RhdGUpCj4gK3sKPiArCWtmcmVlKHRvX3JjYXJfZ3JvdXBf
c3RhdGUoc3RhdGUpKTsKPiArfQo+ICsKPiArc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fcHJpdmF0
ZV9zdGF0ZV9mdW5jcyByY2FyX2R1X2dyb3VwX3N0YXRlX2Z1bmNzID0gewo+ICsJLmF0b21pY19k
dXBsaWNhdGVfc3RhdGUgPSByY2FyX2R1X2dyb3VwX2F0b21pY19kdXBsaWNhdGVfc3RhdGUsCj4g
KwkuYXRvbWljX2Rlc3Ryb3lfc3RhdGUgPSByY2FyX2R1X2dyb3VwX2F0b21pY19kZXN0cm95X3N0
YXRlLAo+ICt9Owo+ICsKPiArLyoKPiArICogcmNhcl9kdV9ncm91cF9pbml0IC0gSW5pdGlhbGlz
ZSBhbmQgcmVzZXQgYSBncm91cCBvYmplY3QKPiArICoKPiArICogUmV0dXJuIDAgaW4gY2FzZSBv
ZiBzdWNjZXNzIG9yIGEgbmVnYXRpdmUgZXJyb3IgY29kZSBvdGhlcndpc2UuCj4gKyAqLwo+ICtp
bnQgcmNhcl9kdV9ncm91cF9pbml0KHN0cnVjdCByY2FyX2R1X2RldmljZSAqcmNkdSwgc3RydWN0
IHJjYXJfZHVfZ3JvdXAgKnJncnAsCj4gKwkJICAgICAgIHVuc2lnbmVkIGludCBpbmRleCkKPiAr
ewo+ICsJc3RhdGljIGNvbnN0IHVuc2lnbmVkIGludCBtbWlvX29mZnNldHNbXSA9IHsKPiArCQlE
VTBfUkVHX09GRlNFVCwgRFUyX1JFR19PRkZTRVQKPiArCX07Cj4gKwo+ICsJc3RydWN0IHJjYXJf
ZHVfZ3JvdXBfc3RhdGUgKnN0YXRlOwo+ICsKPiArCXN0YXRlID0ga3phbGxvYyhzaXplb2YoKnN0
YXRlKSwgR0ZQX0tFUk5FTCk7Cj4gKwlpZiAoIXN0YXRlKQo+ICsJCXJldHVybiAtRU5PTUVNOwo+
ICsKPiArCWRybV9hdG9taWNfcHJpdmF0ZV9vYmpfaW5pdChyY2R1LT5kZGV2LCAmcmdycC0+cHJp
dmF0ZSwgJnN0YXRlLT5zdGF0ZSwKPiArCQkJCSAgICAmcmNhcl9kdV9ncm91cF9zdGF0ZV9mdW5j
cyk7Cj4gKwo+ICsJbXV0ZXhfaW5pdCgmcmdycC0+bG9jayk7Cj4gKwo+ICsJcmdycC0+ZGV2ID0g
cmNkdTsKPiArCXJncnAtPm1taW9fb2Zmc2V0ID0gbW1pb19vZmZzZXRzW2luZGV4XTsKPiArCXJn
cnAtPmluZGV4ID0gaW5kZXg7Cj4gKwkvKiBFeHRyYWN0IHRoZSBjaGFubmVsIG1hc2sgZm9yIHRo
aXMgZ3JvdXAgb25seS4gKi8KPiArCXJncnAtPmNoYW5uZWxzX21hc2sgPSAocmNkdS0+aW5mby0+
Y2hhbm5lbHNfbWFzayA+PiAoMiAqIGluZGV4KSkKPiArCQkJICAgICYgR0VOTUFTSygxLCAwKTsK
PiArCXJncnAtPm51bV9jcnRjcyA9IGh3ZWlnaHQ4KHJncnAtPmNoYW5uZWxzX21hc2spOwo+ICsK
PiArCS8qCj4gKwkgKiBJZiB3ZSBoYXZlIG1vcmUgdGhhbiBvbmUgQ1JUQyBpbiB0aGlzIGdyb3Vw
IHByZS1hc3NvY2lhdGUKPiArCSAqIHRoZSBsb3ctb3JkZXIgcGxhbmVzIHdpdGggQ1JUQyAwIGFu
ZCB0aGUgaGlnaC1vcmRlciBwbGFuZXMKPiArCSAqIHdpdGggQ1JUQyAxIHRvIG1pbmltaXplIGZs
aWNrZXIgb2NjdXJyaW5nIHdoZW4gdGhlCj4gKwkgKiBhc3NvY2lhdGlvbiBpcyBjaGFuZ2VkLgo+
ICsJICovCj4gKwlyZ3JwLT5kcHRzcl9wbGFuZXMgPSByZ3JwLT5udW1fY3J0Y3MgPiAxCj4gKwkJ
CSAgID8gKHJjZHUtPmluZm8tPmdlbiA+PSAzID8gMHgwNCA6IDB4ZjApCj4gKwkJCSAgIDogMDsK
PiArCj4gKwlyZXR1cm4gMDsKPiArfQo+ICsKPiArdm9pZCByY2FyX2R1X2dyb3VwX2NsZWFudXAo
c3RydWN0IHJjYXJfZHVfZ3JvdXAgKnJncnApCj4gK3sKCkkgd291bGQgYWRkIGEgbXV0ZXhfY2xl
YW51cCgmcmdycC0+bG9jaykgaGVyZS4gQXBhcnQgZnJvbSB0aGF0LAoKUmV2aWV3ZWQtYnk6IExh
dXJlbnQgUGluY2hhcnQgPGxhdXJlbnQucGluY2hhcnRAaWRlYXNvbmJvYXJkLmNvbT4KCj4gKwlk
cm1fYXRvbWljX3ByaXZhdGVfb2JqX2ZpbmkoJnJncnAtPnByaXZhdGUpOwo+ICt9Cj4gZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfZ3JvdXAuaCBiL2RyaXZlcnMv
Z3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfZ3JvdXAuaAo+IGluZGV4IDg3OTUwYzFmNmE1Mi4uNGI4
MTJlMTY3OTg3IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVf
Z3JvdXAuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfZ3JvdXAuaAo+
IEBAIC0xMiwxMiArMTIsMTUgQEAKPiAgCj4gICNpbmNsdWRlIDxsaW51eC9tdXRleC5oPgo+ICAK
PiArI2luY2x1ZGUgPGRybS9kcm1fYXRvbWljLmg+Cj4gKwo+ICAjaW5jbHVkZSAicmNhcl9kdV9w
bGFuZS5oIgo+ICAKPiAgc3RydWN0IHJjYXJfZHVfZGV2aWNlOwo+ICAKPiAgLyoKPiAgICogc3Ry
dWN0IHJjYXJfZHVfZ3JvdXAgLSBDUlRDcyBhbmQgcGxhbmVzIGdyb3VwCj4gKyAqIEBwcml2YXRl
OiBUaGUgYmFzZSBkcm0gcHJpdmF0ZSBvYmplY3QKPiAgICogQGRldjogdGhlIERVIGRldmljZQo+
ICAgKiBAbW1pb19vZmZzZXQ6IHJlZ2lzdGVycyBvZmZzZXQgaW4gdGhlIGRldmljZSBtZW1vcnkg
bWFwCj4gICAqIEBpbmRleDogZ3JvdXAgaW5kZXgKPiBAQCAtMzIsNiArMzUsOCBAQCBzdHJ1Y3Qg
cmNhcl9kdV9kZXZpY2U7Cj4gICAqIEBuZWVkX3Jlc3RhcnQ6IHRoZSBncm91cCBuZWVkcyB0byBi
ZSByZXN0YXJ0ZWQgZHVlIHRvIGEgY29uZmlndXJhdGlvbiBjaGFuZ2UKPiAgICovCj4gIHN0cnVj
dCByY2FyX2R1X2dyb3VwIHsKPiArCXN0cnVjdCBkcm1fcHJpdmF0ZV9vYmogcHJpdmF0ZTsKPiAr
Cj4gIAlzdHJ1Y3QgcmNhcl9kdV9kZXZpY2UgKmRldjsKPiAgCXVuc2lnbmVkIGludCBtbWlvX29m
ZnNldDsKPiAgCXVuc2lnbmVkIGludCBpbmRleDsKPiBAQCAtNDksNiArNTQsMTkgQEAgc3RydWN0
IHJjYXJfZHVfZ3JvdXAgewo+ICAJYm9vbCBuZWVkX3Jlc3RhcnQ7Cj4gIH07Cj4gIAo+ICsjZGVm
aW5lIHRvX3JjYXJfZ3JvdXAocykgY29udGFpbmVyX29mKHMsIHN0cnVjdCByY2FyX2R1X2dyb3Vw
LCBwcml2YXRlKQo+ICsKPiArLyoqCj4gKyAqIHN0cnVjdCByY2FyX2R1X2dyb3VwX3N0YXRlIC0g
RHJpdmVyLXNwZWNpZmljIGdyb3VwIHN0YXRlCj4gKyAqIEBzdGF0ZTogYmFzZSBEUk0gcHJpdmF0
ZSBzdGF0ZQo+ICsgKi8KPiArc3RydWN0IHJjYXJfZHVfZ3JvdXBfc3RhdGUgewo+ICsJc3RydWN0
IGRybV9wcml2YXRlX3N0YXRlIHN0YXRlOwo+ICt9Owo+ICsKPiArI2RlZmluZSB0b19yY2FyX2dy
b3VwX3N0YXRlKHMpIFwKPiArCWNvbnRhaW5lcl9vZihzLCBzdHJ1Y3QgcmNhcl9kdV9ncm91cF9z
dGF0ZSwgc3RhdGUpCj4gKwo+ICB1MzIgcmNhcl9kdV9ncm91cF9yZWFkKHN0cnVjdCByY2FyX2R1
X2dyb3VwICpyZ3JwLCB1MzIgcmVnKTsKPiAgdm9pZCByY2FyX2R1X2dyb3VwX3dyaXRlKHN0cnVj
dCByY2FyX2R1X2dyb3VwICpyZ3JwLCB1MzIgcmVnLCB1MzIgZGF0YSk7Cj4gIAo+IEBAIC02MCw0
ICs3OCw4IEBAIGludCByY2FyX2R1X2dyb3VwX3NldF9yb3V0aW5nKHN0cnVjdCByY2FyX2R1X2dy
b3VwICpyZ3JwKTsKPiAgCj4gIGludCByY2FyX2R1X3NldF9kcGFkMF92c3AxX3JvdXRpbmcoc3Ry
dWN0IHJjYXJfZHVfZGV2aWNlICpyY2R1KTsKPiAgCj4gK2ludCByY2FyX2R1X2dyb3VwX2luaXQo
c3RydWN0IHJjYXJfZHVfZGV2aWNlICpyY2R1LCBzdHJ1Y3QgcmNhcl9kdV9ncm91cCAqcmdycCwK
PiArCQkgICAgICAgdW5zaWduZWQgaW50IGluZGV4KTsKPiArdm9pZCByY2FyX2R1X2dyb3VwX2Ns
ZWFudXAoc3RydWN0IHJjYXJfZHVfZ3JvdXAgKnJncnApOwo+ICsKPiAgI2VuZGlmIC8qIF9fUkNB
Ul9EVV9HUk9VUF9IX18gKi8KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUv
cmNhcl9kdV9rbXMuYyBiL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfa21zLmMKPiBp
bmRleCBlY2U5MmNmZjIxMzcuLmViMDFiZWExYWI4MyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dw
dS9kcm0vcmNhci1kdS9yY2FyX2R1X2ttcy5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3JjYXIt
ZHUvcmNhcl9kdV9rbXMuYwo+IEBAIC0yMyw2ICsyMyw3IEBACj4gICNpbmNsdWRlICJyY2FyX2R1
X2NydGMuaCIKPiAgI2luY2x1ZGUgInJjYXJfZHVfZHJ2LmgiCj4gICNpbmNsdWRlICJyY2FyX2R1
X2VuY29kZXIuaCIKPiArI2luY2x1ZGUgInJjYXJfZHVfZ3JvdXAuaCIKPiAgI2luY2x1ZGUgInJj
YXJfZHVfa21zLmgiCj4gICNpbmNsdWRlICJyY2FyX2R1X3JlZ3MuaCIKPiAgI2luY2x1ZGUgInJj
YXJfZHVfdnNwLmgiCj4gQEAgLTUxNiwxMCArNTE3LDYgQEAgc3RhdGljIGludCByY2FyX2R1X3Zz
cHNfaW5pdChzdHJ1Y3QgcmNhcl9kdV9kZXZpY2UgKnJjZHUpCj4gIAo+ICBpbnQgcmNhcl9kdV9t
b2Rlc2V0X2luaXQoc3RydWN0IHJjYXJfZHVfZGV2aWNlICpyY2R1KQo+ICB7Cj4gLQlzdGF0aWMg
Y29uc3QgdW5zaWduZWQgaW50IG1taW9fb2Zmc2V0c1tdID0gewo+IC0JCURVMF9SRUdfT0ZGU0VU
LCBEVTJfUkVHX09GRlNFVAo+IC0JfTsKPiAtCj4gIAlzdHJ1Y3QgZHJtX2RldmljZSAqZGV2ID0g
cmNkdS0+ZGRldjsKPiAgCXN0cnVjdCBkcm1fZW5jb2RlciAqZW5jb2RlcjsKPiAgCXN0cnVjdCBy
Y2FyX2R1X2dyb3VwICpyZ3JwOwo+IEBAIC01NjYsMjUgKzU2Myw5IEBAIGludCByY2FyX2R1X21v
ZGVzZXRfaW5pdChzdHJ1Y3QgcmNhcl9kdV9kZXZpY2UgKnJjZHUpCj4gIAo+ICAJLyogSW5pdGlh
bGl6ZSB0aGUgZ3JvdXBzLiAqLwo+ICAJZm9yX2VhY2hfcmNkdV9ncm91cChyY2R1LCByZ3JwLCBp
KSB7Cj4gLQkJbXV0ZXhfaW5pdCgmcmdycC0+bG9jayk7Cj4gLQo+IC0JCXJncnAtPmRldiA9IHJj
ZHU7Cj4gLQkJcmdycC0+bW1pb19vZmZzZXQgPSBtbWlvX29mZnNldHNbaV07Cj4gLQkJcmdycC0+
aW5kZXggPSBpOwo+IC0JCS8qIEV4dHJhY3QgdGhlIGNoYW5uZWwgbWFzayBmb3IgdGhpcyBncm91
cCBvbmx5LiAqLwo+IC0JCXJncnAtPmNoYW5uZWxzX21hc2sgPSAocmNkdS0+aW5mby0+Y2hhbm5l
bHNfbWFzayA+PiAoMiAqIGkpKQo+IC0JCQkJICAgJiBHRU5NQVNLKDEsIDApOwo+IC0JCXJncnAt
Pm51bV9jcnRjcyA9IGh3ZWlnaHQ4KHJncnAtPmNoYW5uZWxzX21hc2spOwo+IC0KPiAtCQkvKgo+
IC0JCSAqIElmIHdlIGhhdmUgbW9yZSB0aGFuIG9uZSBDUlRDcyBpbiB0aGlzIGdyb3VwIHByZS1h
c3NvY2lhdGUKPiAtCQkgKiB0aGUgbG93LW9yZGVyIHBsYW5lcyB3aXRoIENSVEMgMCBhbmQgdGhl
IGhpZ2gtb3JkZXIgcGxhbmVzCj4gLQkJICogd2l0aCBDUlRDIDEgdG8gbWluaW1pemUgZmxpY2tl
ciBvY2N1cnJpbmcgd2hlbiB0aGUKPiAtCQkgKiBhc3NvY2lhdGlvbiBpcyBjaGFuZ2VkLgo+IC0J
CSAqLwo+IC0JCXJncnAtPmRwdHNyX3BsYW5lcyA9IHJncnAtPm51bV9jcnRjcyA+IDEKPiAtCQkJ
CSAgID8gKHJjZHUtPmluZm8tPmdlbiA+PSAzID8gMHgwNCA6IDB4ZjApCj4gLQkJCQkgICA6IDA7
Cj4gKwkJcmV0ID0gcmNhcl9kdV9ncm91cF9pbml0KHJjZHUsIHJncnAsIGkpOwo+ICsJCWlmIChy
ZXQgPCAwKQo+ICsJCQlyZXR1cm4gcmV0Owo+ICAKPiAgCQlpZiAoIXJjYXJfZHVfaGFzKHJjZHUs
IFJDQVJfRFVfRkVBVFVSRV9WU1AxX1NPVVJDRSkpIHsKPiAgCQkJcmV0ID0gcmNhcl9kdV9wbGFu
ZXNfaW5pdChyZ3JwKTsKCi0tIApSZWdhcmRzLAoKTGF1cmVudCBQaW5jaGFydApfX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBs
aXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVz
a3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
