Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id C835122C80C
	for <lists+dri-devel@lfdr.de>; Fri, 24 Jul 2020 16:33:13 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 22A426E981;
	Fri, 24 Jul 2020 14:33:10 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mx2.suse.de (mx2.suse.de [195.135.220.15])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B5F2B6E980
 for <dri-devel@lists.freedesktop.org>; Fri, 24 Jul 2020 14:33:08 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.221.27])
 by mx2.suse.de (Postfix) with ESMTP id 7B833AF8F;
 Fri, 24 Jul 2020 14:33:15 +0000 (UTC)
Subject: Re: [PATCH v2 4/4] xen: add helpers to allocate unpopulated memory
To: Roger Pau Monne <roger.pau@citrix.com>, linux-kernel@vger.kernel.org
References: <20200724124241.48208-1-roger.pau@citrix.com>
 <20200724124241.48208-5-roger.pau@citrix.com>
From: =?UTF-8?B?SsO8cmdlbiBHcm/Dnw==?= <jgross@suse.com>
Message-ID: <ca1d1f22-296f-e985-6b2e-613448de95a2@suse.com>
Date: Fri, 24 Jul 2020 16:33:06 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101
 Thunderbird/68.10.0
MIME-Version: 1.0
In-Reply-To: <20200724124241.48208-5-roger.pau@citrix.com>
Content-Language: en-US
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Stefano Stabellini <sstabellini@kernel.org>, Wei Liu <wl@xen.org>,
 Oleksandr Andrushchenko <oleksandr_andrushchenko@epam.com>,
 David Airlie <airlied@linux.ie>, Yan Yankovskyi <yyankovskyi@gmail.com>,
 David Hildenbrand <david@redhat.com>, dri-devel@lists.freedesktop.org,
 Michal Hocko <mhocko@kernel.org>, linux-mm@kvack.org,
 xen-devel@lists.xenproject.org, Boris Ostrovsky <boris.ostrovsky@oracle.com>,
 Dan Carpenter <dan.carpenter@oracle.com>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gMjQuMDcuMjAgMTQ6NDIsIFJvZ2VyIFBhdSBNb25uZSB3cm90ZToKPiBUbyBiZSB1c2VkIGlu
IG9yZGVyIHRvIGNyZWF0ZSBmb3JlaWduIG1hcHBpbmdzLiBUaGlzIGlzIGJhc2VkIG9uIHRoZQo+
IFpPTkVfREVWSUNFIGZhY2lsaXR5IHdoaWNoIGlzIHVzZWQgYnkgcGVyc2lzdGVudCBtZW1vcnkg
ZGV2aWNlcyBpbgo+IG9yZGVyIHRvIGNyZWF0ZSBzdHJ1Y3QgcGFnZXMgYW5kIGtlcm5lbCB2aXJ0
dWFsIG1hcHBpbmdzIGZvciB0aGUgSU9NRU0KPiBhcmVhcyBvZiBzdWNoIGRldmljZXMuIE5vdGUg
dGhhdCBvbiBrZXJuZWxzIHdpdGhvdXQgc3VwcG9ydCBmb3IKPiBaT05FX0RFVklDRSBYZW4gd2ls
bCBmYWxsYmFjayB0byB1c2UgYmFsbG9vbmVkIHBhZ2VzIGluIG9yZGVyIHRvCj4gY3JlYXRlIGZv
cmVpZ24gbWFwcGluZ3MuCj4gCj4gVGhlIG5ld2x5IGFkZGVkIGhlbHBlcnMgdXNlIHRoZSBzYW1l
IHBhcmFtZXRlcnMgYXMgdGhlIGV4aXN0aW5nCj4ge2FsbG9jL2ZyZWV9X3hlbmJhbGxvb25lZF9w
YWdlcyBmdW5jdGlvbnMsIHdoaWNoIGFsbG93cyBmb3IgaW4tcGxhY2UKPiByZXBsYWNlbWVudCBv
ZiB0aGUgY2FsbGVycy4gT25jZSBhIG1lbW9yeSByZWdpb24gaGFzIGJlZW4gYWRkZWQgdG8gYmUK
PiB1c2VkIGFzIHNjcmF0Y2ggbWFwcGluZyBzcGFjZSBpdCB3aWxsIG5vIGxvbmdlciBiZSByZWxl
YXNlZCwgYW5kIHBhZ2VzCj4gcmV0dXJuZWQgYXJlIGtlcHQgaW4gYSBsaW5rZWQgbGlzdC4gVGhp
cyBhbGxvd3MgdG8gaGF2ZSBhIGJ1ZmZlciBvZgo+IHBhZ2VzIGFuZCBwcmV2ZW50cyByZXNvcnRp
bmcgdG8gZnJlcXVlbnQgYWRkaXRpb25zIGFuZCByZW1vdmFscyBvZgo+IHJlZ2lvbnMuCj4gCj4g
SWYgZW5hYmxlZCAoYmVjYXVzZSBaT05FX0RFVklDRSBpcyBzdXBwb3J0ZWQpIHRoZSB1c2FnZSBv
ZiB0aGUgbmV3Cj4gZnVuY3Rpb25hbGl0eSB1bnRhbmdsZXMgWGVuIGJhbGxvb24gYW5kIFJBTSBo
b3RwbHVnIGZyb20gdGhlIHVzYWdlIG9mCj4gdW5wb3B1bGF0ZWQgcGh5c2ljYWwgbWVtb3J5IHJh
bmdlcyB0byBtYXAgZm9yZWlnbiBwYWdlcywgd2hpY2ggaXMgdGhlCj4gY29ycmVjdCB0aGluZyB0
byBkbyBpbiBvcmRlciB0byBhdm9pZCBtYXBwaW5ncyBvZiBmb3JlaWduIHBhZ2VzIGRlcGVuZAo+
IG9uIG1lbW9yeSBob3RwbHVnLgo+IAo+IFNpZ25lZC1vZmYtYnk6IFJvZ2VyIFBhdSBNb25uw6kg
PHJvZ2VyLnBhdUBjaXRyaXguY29tPgo+IC0tLQo+IEkndmUgbm90IGFkZGVkIGEgbmV3IG1lbW9y
eV90eXBlIHR5cGUgYW5kIGp1c3QgdXNlZAo+IE1FTU9SWV9ERVZJQ0VfREVWREFYIHdoaWNoIHNl
ZW1zIHRvIGJlIHdoYXQgd2Ugd2FudCBmb3Igc3VjaCBtZW1vcnkKPiByZWdpb25zLiBJJ20gdW5z
dXJlIHdoZXRoZXIgYWJ1c2luZyB0aGlzIHR5cGUgaXMgZmluZSwgb3IgaWYgSSBzaG91bGQKPiBp
bnN0ZWFkIGFkZCBhIHNwZWNpZmljIHR5cGUsIG1heWJlIE1FTU9SWV9ERVZJQ0VfR0VORVJJQz8g
SSBkb24ndAo+IHRoaW5rIHdlIHNob3VsZCBiZSB1c2luZyBhIHNwZWNpZmljIFhlbiB0eXBlIGF0
IGFsbC4KPiAtLS0KPiBDYzogT2xla3NhbmRyIEFuZHJ1c2hjaGVua28gPG9sZWtzYW5kcl9hbmRy
dXNoY2hlbmtvQGVwYW0uY29tPgo+IENjOiBEYXZpZCBBaXJsaWUgPGFpcmxpZWRAbGludXguaWU+
Cj4gQ2M6IERhbmllbCBWZXR0ZXIgPGRhbmllbEBmZndsbC5jaD4KPiBDYzogQm9yaXMgT3N0cm92
c2t5IDxib3Jpcy5vc3Ryb3Zza3lAb3JhY2xlLmNvbT4KPiBDYzogSnVlcmdlbiBHcm9zcyA8amdy
b3NzQHN1c2UuY29tPgo+IENjOiBTdGVmYW5vIFN0YWJlbGxpbmkgPHNzdGFiZWxsaW5pQGtlcm5l
bC5vcmc+Cj4gQ2M6IERhbiBDYXJwZW50ZXIgPGRhbi5jYXJwZW50ZXJAb3JhY2xlLmNvbT4KPiBD
YzogUm9nZXIgUGF1IE1vbm5lIDxyb2dlci5wYXVAY2l0cml4LmNvbT4KPiBDYzogV2VpIExpdSA8
d2xAeGVuLm9yZz4KPiBDYzogWWFuIFlhbmtvdnNreWkgPHl5YW5rb3Zza3lpQGdtYWlsLmNvbT4K
PiBDYzogZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwo+IENjOiB4ZW4tZGV2ZWxAbGlz
dHMueGVucHJvamVjdC5vcmcKPiBDYzogbGludXgtbW1Aa3ZhY2sub3JnCj4gQ2M6IERhdmlkIEhp
bGRlbmJyYW5kIDxkYXZpZEByZWRoYXQuY29tPgo+IENjOiBNaWNoYWwgSG9ja28gPG1ob2Nrb0Br
ZXJuZWwub3JnPgo+IC0tLQo+ICAgZHJpdmVycy9ncHUvZHJtL3hlbi94ZW5fZHJtX2Zyb250X2dl
bS5jIHwgICA4ICstCj4gICBkcml2ZXJzL3hlbi9NYWtlZmlsZSAgICAgICAgICAgICAgICAgICAg
fCAgIDEgKwo+ICAgZHJpdmVycy94ZW4vYmFsbG9vbi5jICAgICAgICAgICAgICAgICAgIHwgICA0
ICstCj4gICBkcml2ZXJzL3hlbi9ncmFudC10YWJsZS5jICAgICAgICAgICAgICAgfCAgIDQgKy0K
PiAgIGRyaXZlcnMveGVuL3ByaXZjbWQuYyAgICAgICAgICAgICAgICAgICB8ICAgNCArLQo+ICAg
ZHJpdmVycy94ZW4vdW5wb3B1bGF0ZWQtYWxsb2MuYyAgICAgICAgIHwgMjIyICsrKysrKysrKysr
KysrKysrKysrKysrKwo+ICAgZHJpdmVycy94ZW4veGVuYnVzL3hlbmJ1c19jbGllbnQuYyAgICAg
IHwgICA2ICstCj4gICBkcml2ZXJzL3hlbi94bGF0ZV9tbXUuYyAgICAgICAgICAgICAgICAgfCAg
IDQgKy0KPiAgIGluY2x1ZGUveGVuL3hlbi5oICAgICAgICAgICAgICAgICAgICAgICB8ICAgOCAr
Cj4gICA5IGZpbGVzIGNoYW5nZWQsIDI0NiBpbnNlcnRpb25zKCspLCAxNSBkZWxldGlvbnMoLSkK
PiAgIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL3hlbi91bnBvcHVsYXRlZC1hbGxvYy5jCj4g
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS94ZW4veGVuX2RybV9mcm9udF9nZW0uYyBi
L2RyaXZlcnMvZ3B1L2RybS94ZW4veGVuX2RybV9mcm9udF9nZW0uYwo+IGluZGV4IGYwYjg1ZTA5
NDExMS4uOWRkMDZlYWU3NjdhIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS94ZW4veGVu
X2RybV9mcm9udF9nZW0uYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS94ZW4veGVuX2RybV9mcm9u
dF9nZW0uYwo+IEBAIC05OSw4ICs5OSw4IEBAIHN0YXRpYyBzdHJ1Y3QgeGVuX2dlbV9vYmplY3Qg
KmdlbV9jcmVhdGUoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgc2l6ZV90IHNpemUpCj4gICAJCSAq
IGFsbG9jYXRlIGJhbGxvb25lZCBwYWdlcyB3aGljaCB3aWxsIGJlIHVzZWQgdG8gbWFwCj4gICAJ
CSAqIGdyYW50IHJlZmVyZW5jZXMgcHJvdmlkZWQgYnkgdGhlIGJhY2tlbmQKPiAgIAkJICovCj4g
LQkJcmV0ID0gYWxsb2NfeGVuYmFsbG9vbmVkX3BhZ2VzKHhlbl9vYmotPm51bV9wYWdlcywKPiAt
CQkJCQkgICAgICAgeGVuX29iai0+cGFnZXMpOwo+ICsJCXJldCA9IHhlbl9hbGxvY191bnBvcHVs
YXRlZF9wYWdlcyh4ZW5fb2JqLT5udW1fcGFnZXMsCj4gKwkJCQkJICAgICAgICAgIHhlbl9vYmot
PnBhZ2VzKTsKPiAgIAkJaWYgKHJldCA8IDApIHsKPiAgIAkJCURSTV9FUlJPUigiQ2Fubm90IGFs
bG9jYXRlICV6dSBiYWxsb29uZWQgcGFnZXM6ICVkXG4iLAo+ICAgCQkJCSAgeGVuX29iai0+bnVt
X3BhZ2VzLCByZXQpOwo+IEBAIC0xNTIsOCArMTUyLDggQEAgdm9pZCB4ZW5fZHJtX2Zyb250X2dl
bV9mcmVlX29iamVjdF91bmxvY2tlZChzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKmdlbV9vYmopCj4g
ICAJfSBlbHNlIHsKPiAgIAkJaWYgKHhlbl9vYmotPnBhZ2VzKSB7Cj4gICAJCQlpZiAoeGVuX29i
ai0+YmVfYWxsb2MpIHsKPiAtCQkJCWZyZWVfeGVuYmFsbG9vbmVkX3BhZ2VzKHhlbl9vYmotPm51
bV9wYWdlcywKPiAtCQkJCQkJCXhlbl9vYmotPnBhZ2VzKTsKPiArCQkJCXhlbl9mcmVlX3VucG9w
dWxhdGVkX3BhZ2VzKHhlbl9vYmotPm51bV9wYWdlcywKPiArCQkJCQkJCSAgIHhlbl9vYmotPnBh
Z2VzKTsKPiAgIAkJCQlnZW1fZnJlZV9wYWdlc19hcnJheSh4ZW5fb2JqKTsKPiAgIAkJCX0gZWxz
ZSB7Cj4gICAJCQkJZHJtX2dlbV9wdXRfcGFnZXMoJnhlbl9vYmotPmJhc2UsCj4gZGlmZiAtLWdp
dCBhL2RyaXZlcnMveGVuL01ha2VmaWxlIGIvZHJpdmVycy94ZW4vTWFrZWZpbGUKPiBpbmRleCAw
ZDMyMmYzZDkwY2QuLjc4OGE1ZDljOGVmMCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL3hlbi9NYWtl
ZmlsZQo+ICsrKyBiL2RyaXZlcnMveGVuL01ha2VmaWxlCj4gQEAgLTQyLDMgKzQyLDQgQEAgeGVu
LWdudGRldi0kKENPTkZJR19YRU5fR05UREVWX0RNQUJVRikJKz0gZ250ZGV2LWRtYWJ1Zi5vCj4g
ICB4ZW4tZ250YWxsb2MteQkJCQk6PSBnbnRhbGxvYy5vCj4gICB4ZW4tcHJpdmNtZC15CQkJCTo9
IHByaXZjbWQubyBwcml2Y21kLWJ1Zi5vCj4gICBvYmotJChDT05GSUdfWEVOX0ZST05UX1BHRElS
X1NIQlVGKQkrPSB4ZW4tZnJvbnQtcGdkaXItc2hidWYubwo+ICtvYmotJChDT05GSUdfWk9ORV9E
RVZJQ0UpCQkrPSB1bnBvcHVsYXRlZC1hbGxvYy5vCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMveGVu
L2JhbGxvb24uYyBiL2RyaXZlcnMveGVuL2JhbGxvb24uYwo+IGluZGV4IGIxZDhiMDI4YmY4MC4u
ODE1ZWYxMGViMmZmIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMveGVuL2JhbGxvb24uYwo+ICsrKyBi
L2RyaXZlcnMveGVuL2JhbGxvb24uYwo+IEBAIC02NTQsNyArNjU0LDcgQEAgdm9pZCBmcmVlX3hl
bmJhbGxvb25lZF9wYWdlcyhpbnQgbnJfcGFnZXMsIHN0cnVjdCBwYWdlICoqcGFnZXMpCj4gICB9
Cj4gICBFWFBPUlRfU1lNQk9MKGZyZWVfeGVuYmFsbG9vbmVkX3BhZ2VzKTsKPiAgIAo+IC0jaWZk
ZWYgQ09ORklHX1hFTl9QVgo+ICsjaWYgZGVmaW5lZChDT05GSUdfWEVOX1BWKSAmJiAhZGVmaW5l
ZChDT05GSUdfWk9ORV9ERVZJQ0UpCj4gICBzdGF0aWMgdm9pZCBfX2luaXQgYmFsbG9vbl9hZGRf
cmVnaW9uKHVuc2lnbmVkIGxvbmcgc3RhcnRfcGZuLAo+ICAgCQkJCSAgICAgIHVuc2lnbmVkIGxv
bmcgcGFnZXMpCj4gICB7Cj4gQEAgLTcwOCw3ICs3MDgsNyBAQCBzdGF0aWMgaW50IF9faW5pdCBi
YWxsb29uX2luaXQodm9pZCkKPiAgIAlyZWdpc3Rlcl9zeXNjdGxfdGFibGUoeGVuX3Jvb3QpOwo+
ICAgI2VuZGlmCj4gICAKPiAtI2lmZGVmIENPTkZJR19YRU5fUFYKPiArI2lmIGRlZmluZWQoQ09O
RklHX1hFTl9QVikgJiYgIWRlZmluZWQoQ09ORklHX1pPTkVfREVWSUNFKQo+ICAgCXsKPiAgIAkJ
aW50IGk7Cj4gICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy94ZW4vZ3JhbnQtdGFibGUuYyBiL2Ry
aXZlcnMveGVuL2dyYW50LXRhYmxlLmMKPiBpbmRleCA4ZDA2YmYxY2MzNDcuLjUyM2RjZGYzOWNj
OSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL3hlbi9ncmFudC10YWJsZS5jCj4gKysrIGIvZHJpdmVy
cy94ZW4vZ3JhbnQtdGFibGUuYwo+IEBAIC04MDEsNyArODAxLDcgQEAgaW50IGdudHRhYl9hbGxv
Y19wYWdlcyhpbnQgbnJfcGFnZXMsIHN0cnVjdCBwYWdlICoqcGFnZXMpCj4gICB7Cj4gICAJaW50
IHJldDsKPiAgIAo+IC0JcmV0ID0gYWxsb2NfeGVuYmFsbG9vbmVkX3BhZ2VzKG5yX3BhZ2VzLCBw
YWdlcyk7Cj4gKwlyZXQgPSB4ZW5fYWxsb2NfdW5wb3B1bGF0ZWRfcGFnZXMobnJfcGFnZXMsIHBh
Z2VzKTsKPiAgIAlpZiAocmV0IDwgMCkKPiAgIAkJcmV0dXJuIHJldDsKPiAgIAo+IEBAIC04MzYs
NyArODM2LDcgQEAgRVhQT1JUX1NZTUJPTF9HUEwoZ250dGFiX3BhZ2VzX2NsZWFyX3ByaXZhdGUp
Owo+ICAgdm9pZCBnbnR0YWJfZnJlZV9wYWdlcyhpbnQgbnJfcGFnZXMsIHN0cnVjdCBwYWdlICoq
cGFnZXMpCj4gICB7Cj4gICAJZ250dGFiX3BhZ2VzX2NsZWFyX3ByaXZhdGUobnJfcGFnZXMsIHBh
Z2VzKTsKPiAtCWZyZWVfeGVuYmFsbG9vbmVkX3BhZ2VzKG5yX3BhZ2VzLCBwYWdlcyk7Cj4gKwl4
ZW5fZnJlZV91bnBvcHVsYXRlZF9wYWdlcyhucl9wYWdlcywgcGFnZXMpOwo+ICAgfQo+ICAgRVhQ
T1JUX1NZTUJPTF9HUEwoZ250dGFiX2ZyZWVfcGFnZXMpOwo+ICAgCj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMveGVuL3ByaXZjbWQuYyBiL2RyaXZlcnMveGVuL3ByaXZjbWQuYwo+IGluZGV4IGEyNTBk
MTE4MTQ0YS4uNTYwMDBhYjcwOTc0IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMveGVuL3ByaXZjbWQu
Ywo+ICsrKyBiL2RyaXZlcnMveGVuL3ByaXZjbWQuYwo+IEBAIC00MjUsNyArNDI1LDcgQEAgc3Rh
dGljIGludCBhbGxvY19lbXB0eV9wYWdlcyhzdHJ1Y3Qgdm1fYXJlYV9zdHJ1Y3QgKnZtYSwgaW50
IG51bXBncykKPiAgIAlpZiAocGFnZXMgPT0gTlVMTCkKPiAgIAkJcmV0dXJuIC1FTk9NRU07Cj4g
ICAKPiAtCXJjID0gYWxsb2NfeGVuYmFsbG9vbmVkX3BhZ2VzKG51bXBncywgcGFnZXMpOwo+ICsJ
cmMgPSB4ZW5fYWxsb2NfdW5wb3B1bGF0ZWRfcGFnZXMobnVtcGdzLCBwYWdlcyk7Cj4gICAJaWYg
KHJjICE9IDApIHsKPiAgIAkJcHJfd2FybigiJXMgQ291bGQgbm90IGFsbG9jICVkIHBmbnMgcmM6
JWRcbiIsIF9fZnVuY19fLAo+ICAgCQkJbnVtcGdzLCByYyk7Cj4gQEAgLTkwMCw3ICs5MDAsNyBA
QCBzdGF0aWMgdm9pZCBwcml2Y21kX2Nsb3NlKHN0cnVjdCB2bV9hcmVhX3N0cnVjdCAqdm1hKQo+
ICAgCj4gICAJcmMgPSB4ZW5fdW5tYXBfZG9tYWluX2dmbl9yYW5nZSh2bWEsIG51bWdmbnMsIHBh
Z2VzKTsKPiAgIAlpZiAocmMgPT0gMCkKPiAtCQlmcmVlX3hlbmJhbGxvb25lZF9wYWdlcyhudW1w
Z3MsIHBhZ2VzKTsKPiArCQl4ZW5fZnJlZV91bnBvcHVsYXRlZF9wYWdlcyhudW1wZ3MsIHBhZ2Vz
KTsKPiAgIAllbHNlCj4gICAJCXByX2NyaXQoInVuYWJsZSB0byB1bm1hcCBNRk4gcmFuZ2U6IGxl
YWtpbmcgJWQgcGFnZXMuIHJjPSVkXG4iLAo+ICAgCQkJbnVtcGdzLCByYyk7Cj4gZGlmZiAtLWdp
dCBhL2RyaXZlcnMveGVuL3VucG9wdWxhdGVkLWFsbG9jLmMgYi9kcml2ZXJzL3hlbi91bnBvcHVs
YXRlZC1hbGxvYy5jCj4gbmV3IGZpbGUgbW9kZSAxMDA2NDQKPiBpbmRleCAwMDAwMDAwMDAwMDAu
LmFhYTkxY2VmYmJmOQo+IC0tLSAvZGV2L251bGwKPiArKysgYi9kcml2ZXJzL3hlbi91bnBvcHVs
YXRlZC1hbGxvYy5jCj4gQEAgLTAsMCArMSwyMjIgQEAKPiArLyoKPiArICogSGVscGVycyB0byBh
bGxvY2F0ZSB1bnBvcHVsYXRlZCBtZW1vcnkgZm9yIGZvcmVpZ24gbWFwcGluZ3MKPiArICoKPiAr
ICogQ29weXJpZ2h0IChjKSAyMDIwLCBDaXRyaXggU3lzdGVtcyBSJkQKPiArICoKPiArICogVGhp
cyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU7IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9v
cgo+ICsgKiBtb2RpZnkgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJs
aWMgTGljZW5zZSB2ZXJzaW9uIDIKPiArICogYXMgcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3
YXJlIEZvdW5kYXRpb247IG9yLCB3aGVuIGRpc3RyaWJ1dGVkCj4gKyAqIHNlcGFyYXRlbHkgZnJv
bSB0aGUgTGludXgga2VybmVsIG9yIGluY29ycG9yYXRlZCBpbnRvIG90aGVyCj4gKyAqIHNvZnR3
YXJlIHBhY2thZ2VzLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgbGljZW5zZToKPiArICoKPiAr
ICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBw
ZXJzb24gb2J0YWluaW5nIGEgY29weQo+ICsgKiBvZiB0aGlzIHNvdXJjZSBmaWxlICh0aGUgIlNv
ZnR3YXJlIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQKPiArICogcmVzdHJpY3Rp
b24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHks
IG1vZGlmeSwKPiArICogbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFu
ZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsCj4gKyAqIGFuZCB0byBwZXJtaXQgcGVy
c29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3Qg
dG8KPiArICogdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOgo+ICsgKgo+ICsgKiBUaGUgYWJvdmUg
Y29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNs
dWRlZCBpbgo+ICsgKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBT
b2Z0d2FyZS4KPiArICoKPiArICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJ
VEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKPiArICogSU1QTElFRCwgSU5D
TFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJ
VFksCj4gKyAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5H
RU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRQo+ICsgKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBI
T0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSCj4gKyAqIExJ
QUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJX
SVNFLCBBUklTSU5HCj4gKyAqIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhF
IFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MKPiArICogSU4gVEhFIFNPRlRX
QVJFLgo+ICsgKi8KClBsZWFzZSB1c2U6CgovLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BM
LTIuMC1vbmx5CgppbnN0ZWFkIG9mIHRoZSBsb25nIEdQTCBzZXJtb24uCgo+ICsKPiArI2luY2x1
ZGUgPGxpbnV4L2Vycm5vLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9nZnAuaD4KPiArI2luY2x1ZGUg
PGxpbnV4L2tlcm5lbC5oPgo+ICsjaW5jbHVkZSA8bGludXgvbW0uaD4KPiArI2luY2x1ZGUgPGxp
bnV4L21lbXJlbWFwLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9zbGFiLmg+Cj4gKwo+ICsjaW5jbHVk
ZSA8YXNtL3BhZ2UuaD4KPiArCj4gKyNpbmNsdWRlIDx4ZW4vcGFnZS5oPgo+ICsjaW5jbHVkZSA8
eGVuL3hlbi5oPgo+ICsKPiArc3RhdGljIERFRklORV9NVVRFWChsb2NrKTsKPiArc3RhdGljIExJ
U1RfSEVBRChsaXN0KTsKPiArc3RhdGljIHVuc2lnbmVkIGludCBjb3VudDsKPiArCj4gK3N0YXRp
YyBpbnQgZmlsbCh1bnNpZ25lZCBpbnQgbnJfcGFnZXMpCj4gK3sKPiArCXN0cnVjdCBkZXZfcGFn
ZW1hcCAqcGdtYXA7Cj4gKwl2b2lkICp2YWRkcjsKPiArCXVuc2lnbmVkIGludCBpLCBhbGxvY19w
YWdlcyA9IHJvdW5kX3VwKG5yX3BhZ2VzLCBQQUdFU19QRVJfU0VDVElPTik7Cj4gKwlpbnQgbmlk
LCByZXQ7Cj4gKwo+ICsJcGdtYXAgPSBremFsbG9jKHNpemVvZigqcGdtYXApLCBHRlBfS0VSTkVM
KTsKPiArCWlmICghcGdtYXApCj4gKwkJcmV0dXJuIC1FTk9NRU07Cj4gKwo+ICsJcGdtYXAtPnR5
cGUgPSBNRU1PUllfREVWSUNFX0RFVkRBWDsKPiArCXBnbWFwLT5yZXMubmFtZSA9ICJYRU4gU0NS
QVRDSCI7Cj4gKwlwZ21hcC0+cmVzLmZsYWdzID0gSU9SRVNPVVJDRV9NRU0gfCBJT1JFU09VUkNF
X0JVU1k7Cj4gKwo+ICsJcmV0ID0gYWxsb2NhdGVfcmVzb3VyY2UoJmlvbWVtX3Jlc291cmNlLCAm
cGdtYXAtPnJlcywKPiArCQkJCWFsbG9jX3BhZ2VzICogUEFHRV9TSVpFLCAwLCAtMSwKPiArCQkJ
CVBBR0VTX1BFUl9TRUNUSU9OICogUEFHRV9TSVpFLCBOVUxMLCBOVUxMKTsKPiArCWlmIChyZXQg
PCAwKSB7Cj4gKwkJcHJfZXJyKCJDYW5ub3QgYWxsb2NhdGUgbmV3IElPTUVNIHJlc291cmNlXG4i
KTsKPiArCQlrZnJlZShwZ21hcCk7Cj4gKwkJcmV0dXJuIHJldDsKPiArCX0KPiArCj4gKwluaWQg
PSBtZW1vcnlfYWRkX3BoeXNhZGRyX3RvX25pZChwZ21hcC0+cmVzLnN0YXJ0KTsKPiArCj4gKyNp
ZmRlZiBDT05GSUdfWEVOX0hBVkVfUFZNTVUKPiArCS8qCj4gKwkgKiBXZSBkb24ndCBzdXBwb3J0
IFBWIE1NVSB3aGVuIExpbnV4IGFuZCBYZW4gaXMgdXNpbmcKPiArCSAqIGRpZmZlcmVudCBwYWdl
IGdyYW51bGFyaXR5Lgo+ICsJICovCj4gKwlCVUlMRF9CVUdfT04oWEVOX1BBR0VfU0laRSAhPSBQ
QUdFX1NJWkUpOwoKRHJvcCB0aGF0LCBwbGVhc2UuIFBWIE1NVSBpcyB4ODYgb25seSBhbmQgd2Ug
c3VyZWx5IGRvbid0IHdhbnQgdG8gYWRkCml0IHRvIGFub3RoZXIgYXJjaGl0ZWN0dXJlLiBPbiB4
ODYgdGhpcyB3aWxsIG5ldmVyIHRyaWdnZXIuCgo+ICsKPiArICAgICAgICAvKgo+ICsgICAgICAg
ICAqIG1lbXJlbWFwIHdpbGwgYnVpbGQgcGFnZSB0YWJsZXMgZm9yIHRoZSBuZXcgbWVtb3J5IHNv
Cj4gKyAgICAgICAgICogdGhlIHAybSBtdXN0IGNvbnRhaW4gaW52YWxpZCBlbnRyaWVzIHNvIHRo
ZSBjb3JyZWN0Cj4gKyAgICAgICAgICogbm9uLXByZXNlbnQgUFRFcyB3aWxsIGJlIHdyaXR0ZW4u
Cj4gKyAgICAgICAgICoKPiArICAgICAgICAgKiBJZiBhIGZhaWx1cmUgb2NjdXJzLCB0aGUgb3Jp
Z2luYWwgKGlkZW50aXR5KSBwMm0gZW50cmllcwo+ICsgICAgICAgICAqIGFyZSBub3QgcmVzdG9y
ZWQgc2luY2UgdGhpcyByZWdpb24gaXMgbm93IGtub3duIG5vdCB0bwo+ICsgICAgICAgICAqIGNv
bmZsaWN0IHdpdGggYW55IGRldmljZXMuCj4gKyAgICAgICAgICovCj4gKwlpZiAoIXhlbl9mZWF0
dXJlKFhFTkZFQVRfYXV0b190cmFuc2xhdGVkX3BoeXNtYXApKSB7Cj4gKwkJeGVuX3Bmbl90IHBm
biA9IFBGTl9ET1dOKHBnbWFwLT5yZXMuc3RhcnQpOwo+ICsKPiArCQlmb3IgKGkgPSAwOyBpIDwg
YWxsb2NfcGFnZXM7IGkrKykgewo+ICsJCQlpZiAoIXNldF9waHlzX3RvX21hY2hpbmUocGZuICsg
aSwgSU5WQUxJRF9QMk1fRU5UUlkpKSB7Cj4gKwkJCQlwcl93YXJuKCJzZXRfcGh5c190b19tYWNo
aW5lKCkgZmFpbGVkLCBubyBtZW1vcnkgYWRkZWRcbiIpOwo+ICsJCQkJcmVsZWFzZV9yZXNvdXJj
ZSgmcGdtYXAtPnJlcyk7Cj4gKwkJCQlrZnJlZShwZ21hcCk7Cj4gKwkJCQlyZXR1cm4gLUVOT01F
TTsKPiArCQkJfQo+ICsgICAgICAgICAgICAgICAgfQo+ICsJfQo+ICsjZW5kaWYKPiArCj4gKwl2
YWRkciA9IG1lbXJlbWFwX3BhZ2VzKHBnbWFwLCBuaWQpOwo+ICsJaWYgKElTX0VSUih2YWRkcikp
IHsKPiArCQlwcl9lcnIoIkNhbm5vdCByZW1hcCBtZW1vcnkgcmFuZ2VcbiIpOwo+ICsJCXJlbGVh
c2VfcmVzb3VyY2UoJnBnbWFwLT5yZXMpOwo+ICsJCWtmcmVlKHBnbWFwKTsKPiArCQlyZXR1cm4g
UFRSX0VSUih2YWRkcik7Cj4gKwl9Cj4gKwo+ICsJZm9yIChpID0gMDsgaSA8IGFsbG9jX3BhZ2Vz
OyBpKyspIHsKPiArCQlzdHJ1Y3QgcGFnZSAqcGcgPSB2aXJ0X3RvX3BhZ2UodmFkZHIgKyBQQUdF
X1NJWkUgKiBpKTsKPiArCj4gKwkJQlVHX09OKCF2aXJ0X2FkZHJfdmFsaWQodmFkZHIgKyBQQUdF
X1NJWkUgKiBpKSk7Cj4gKwkJbGlzdF9hZGQoJnBnLT5scnUsICZsaXN0KTsKPiArCQljb3VudCsr
Owo+ICsJfQo+ICsKPiArCXJldHVybiAwOwo+ICt9Cj4gKwo+ICsvKioKPiArICogeGVuX2FsbG9j
X3VucG9wdWxhdGVkX3BhZ2VzIC0gYWxsb2MgdW5wb3B1bGF0ZWQgcGFnZXMKPiArICogQG5yX3Bh
Z2VzOiBOdW1iZXIgb2YgcGFnZXMKPiArICogQHBhZ2VzOiBwYWdlcyByZXR1cm5lZAo+ICsgKiBA
cmV0dXJuIDAgb24gc3VjY2VzcywgZXJyb3Igb3RoZXJ3aXNlCj4gKyAqLwo+ICtpbnQgeGVuX2Fs
bG9jX3VucG9wdWxhdGVkX3BhZ2VzKHVuc2lnbmVkIGludCBucl9wYWdlcywgc3RydWN0IHBhZ2Ug
KipwYWdlcykKPiArewo+ICsJdW5zaWduZWQgaW50IGk7Cj4gKwlpbnQgcmV0ID0gMDsKPiArCj4g
KwltdXRleF9sb2NrKCZsb2NrKTsKPiArCWlmIChjb3VudCA8IG5yX3BhZ2VzKSB7Cj4gKwkJcmV0
ID0gZmlsbChucl9wYWdlcyk7CgpJJ2QgcmF0aGVyIHVzZTogcmV0ID0gZmlsbChucl9wYWdlcyAt
IGNvdW50KTsKCj4gKwkJaWYgKHJldCkKPiArCQkJZ290byBvdXQ7Cj4gKwl9Cj4gKwo+ICsJZm9y
IChpID0gMDsgaSA8IG5yX3BhZ2VzOyBpKyspIHsKPiArCQlzdHJ1Y3QgcGFnZSAqcGcgPSBsaXN0
X2ZpcnN0X2VudHJ5X29yX251bGwoJmxpc3QsIHN0cnVjdCBwYWdlLAo+ICsJCQkJCQkJICAgbHJ1
KTsKPiArCj4gKwkJQlVHX09OKCFwZyk7Cj4gKwkJbGlzdF9kZWwoJnBnLT5scnUpOwo+ICsJCWNv
dW50LS07Cj4gKwkJcGFnZXNbaV0gPSBwZzsKPiArCj4gKyNpZmRlZiBDT05GSUdfWEVOX0hBVkVf
UFZNTVUKPiArCQkvKgo+ICsJCSAqIFdlIGRvbid0IHN1cHBvcnQgUFYgTU1VIHdoZW4gTGludXgg
YW5kIFhlbiBpcyB1c2luZwo+ICsJCSAqIGRpZmZlcmVudCBwYWdlIGdyYW51bGFyaXR5Lgo+ICsJ
CSAqLwo+ICsJCUJVSUxEX0JVR19PTihYRU5fUEFHRV9TSVpFICE9IFBBR0VfU0laRSk7CgpIYXZp
bmcgdHdvIGlkZW50aWNhbCBCVUlMRF9CVUdfT04oKSBpbiB0aGUgc2FtZSBzb3VyY2UgaXMgcmVh
bGx5IG5vdAp3YW50ZWQuCgo+ICsKPiArCQlpZiAoIXhlbl9mZWF0dXJlKFhFTkZFQVRfYXV0b190
cmFuc2xhdGVkX3BoeXNtYXApKSB7Cj4gKwkJCXJldCA9IHhlbl9hbGxvY19wMm1fZW50cnkocGFn
ZV90b19wZm4ocGcpKTsKPiArCQkJaWYgKHJldCA8IDApIHsKPiArCQkJCXVuc2lnbmVkIGludCBq
Owo+ICsKPiArCQkJCWZvciAoaiA9IDA7IGogPD0gaTsgaisrKSB7Cj4gKwkJCQkJbGlzdF9hZGQo
JnBhZ2VzW2pdLT5scnUsICZsaXN0KTsKPiArCQkJCQljb3VudCsrOwo+ICsJCQkJfQo+ICsJCQkJ
Z290byBvdXQ7Cj4gKwkJCX0KPiArCQl9Cj4gKyNlbmRpZgo+ICsJfQo+ICsKPiArb3V0Ogo+ICsJ
bXV0ZXhfdW5sb2NrKCZsb2NrKTsKPiArCXJldHVybiByZXQ7Cj4gK30KPiArRVhQT1JUX1NZTUJP
TCh4ZW5fYWxsb2NfdW5wb3B1bGF0ZWRfcGFnZXMpOwo+ICsKPiArLyoqCj4gKyAqIHhlbl9mcmVl
X3VucG9wdWxhdGVkX3BhZ2VzIC0gcmV0dXJuIHVucG9wdWxhdGVkIHBhZ2VzCj4gKyAqIEBucl9w
YWdlczogTnVtYmVyIG9mIHBhZ2VzCj4gKyAqIEBwYWdlczogcGFnZXMgdG8gcmV0dXJuCj4gKyAq
Lwo+ICt2b2lkIHhlbl9mcmVlX3VucG9wdWxhdGVkX3BhZ2VzKHVuc2lnbmVkIGludCBucl9wYWdl
cywgc3RydWN0IHBhZ2UgKipwYWdlcykKPiArewo+ICsJdW5zaWduZWQgaW50IGk7Cj4gKwo+ICsJ
bXV0ZXhfbG9jaygmbG9jayk7Cj4gKwlmb3IgKGkgPSAwOyBpIDwgbnJfcGFnZXM7IGkrKykgewo+
ICsJCWxpc3RfYWRkKCZwYWdlc1tpXS0+bHJ1LCAmbGlzdCk7Cj4gKwkJY291bnQrKzsKPiArCX0K
PiArCW11dGV4X3VubG9jaygmbG9jayk7Cj4gK30KPiArRVhQT1JUX1NZTUJPTCh4ZW5fZnJlZV91
bnBvcHVsYXRlZF9wYWdlcyk7Cj4gKwo+ICsjaWZkZWYgQ09ORklHX1hFTl9QVgo+ICtzdGF0aWMg
aW50IF9faW5pdCBpbml0KHZvaWQpCj4gK3sKPiArCXVuc2lnbmVkIGludCBpOwo+ICsKPiArCWlm
ICgheGVuX2RvbWFpbigpKQo+ICsJCXJldHVybiAtRU5PREVWOwo+ICsKPiArCS8qCj4gKwkgKiBJ
bml0aWFsaXplIHdpdGggcGFnZXMgZnJvbSB0aGUgZXh0cmEgbWVtb3J5IHJlZ2lvbnMgKHNlZQo+
ICsJICogYXJjaC94ODYveGVuL3NldHVwLmMpLgo+ICsJICovCj4gKwlmb3IgKGkgPSAwOyBpIDwg
WEVOX0VYVFJBX01FTV9NQVhfUkVHSU9OUzsgaSsrKSB7Cj4gKwkJdW5zaWduZWQgaW50IGo7Cj4g
Kwo+ICsJCWZvciAoaiA9IDA7IGogPCB4ZW5fZXh0cmFfbWVtW2ldLm5fcGZuczsgaisrKSB7Cj4g
KwkJCXN0cnVjdCBwYWdlICpwZyA9Cj4gKwkJCQlwZm5fdG9fcGFnZSh4ZW5fZXh0cmFfbWVtW2ld
LnN0YXJ0X3BmbiArIGopOwo+ICsKPiArCQkJbGlzdF9hZGQoJnBnLT5scnUsICZsaXN0KTsKPiAr
CQkJY291bnQrKzsKPiArCQl9Cj4gKwl9Cj4gKwo+ICsJcmV0dXJuIDA7Cj4gK30KPiArc3Vic3lz
X2luaXRjYWxsKGluaXQpOwo+ICsjZW5kaWYKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy94ZW4veGVu
YnVzL3hlbmJ1c19jbGllbnQuYyBiL2RyaXZlcnMveGVuL3hlbmJ1cy94ZW5idXNfY2xpZW50LmMK
PiBpbmRleCA3ODZmYmI3ZDhiZTAuLjcwYjZjNDc4MGZiZCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJz
L3hlbi94ZW5idXMveGVuYnVzX2NsaWVudC5jCj4gKysrIGIvZHJpdmVycy94ZW4veGVuYnVzL3hl
bmJ1c19jbGllbnQuYwo+IEBAIC02MTUsNyArNjE1LDcgQEAgc3RhdGljIGludCB4ZW5idXNfbWFw
X3JpbmdfaHZtKHN0cnVjdCB4ZW5idXNfZGV2aWNlICpkZXYsCj4gICAJYm9vbCBsZWFrZWQgPSBm
YWxzZTsKPiAgIAl1bnNpZ25lZCBpbnQgbnJfcGFnZXMgPSBYRU5CVVNfUEFHRVMobnJfZ3JlZnMp
Owo+ICAgCj4gLQllcnIgPSBhbGxvY194ZW5iYWxsb29uZWRfcGFnZXMobnJfcGFnZXMsIG5vZGUt
Pmh2bS5wYWdlcyk7Cj4gKwllcnIgPSB4ZW5fYWxsb2NfdW5wb3B1bGF0ZWRfcGFnZXMobnJfcGFn
ZXMsIG5vZGUtPmh2bS5wYWdlcyk7Cj4gICAJaWYgKGVycikKPiAgIAkJZ290byBvdXRfZXJyOwo+
ICAgCj4gQEAgLTY1Niw3ICs2NTYsNyBAQCBzdGF0aWMgaW50IHhlbmJ1c19tYXBfcmluZ19odm0o
c3RydWN0IHhlbmJ1c19kZXZpY2UgKmRldiwKPiAgIAkJCSBhZGRyLCBucl9wYWdlcyk7Cj4gICAg
b3V0X2ZyZWVfYmFsbG9vbmVkX3BhZ2VzOgo+ICAgCWlmICghbGVha2VkKQo+IC0JCWZyZWVfeGVu
YmFsbG9vbmVkX3BhZ2VzKG5yX3BhZ2VzLCBub2RlLT5odm0ucGFnZXMpOwo+ICsJCXhlbl9mcmVl
X3VucG9wdWxhdGVkX3BhZ2VzKG5yX3BhZ2VzLCBub2RlLT5odm0ucGFnZXMpOwo+ICAgIG91dF9l
cnI6Cj4gICAJcmV0dXJuIGVycjsKPiAgIH0KPiBAQCAtODUyLDcgKzg1Miw3IEBAIHN0YXRpYyBp
bnQgeGVuYnVzX3VubWFwX3JpbmdfaHZtKHN0cnVjdCB4ZW5idXNfZGV2aWNlICpkZXYsIHZvaWQg
KnZhZGRyKQo+ICAgCQkJICAgICAgIGluZm8uYWRkcnMpOwo+ICAgCWlmICghcnYpIHsKPiAgIAkJ
dnVubWFwKHZhZGRyKTsKPiAtCQlmcmVlX3hlbmJhbGxvb25lZF9wYWdlcyhucl9wYWdlcywgbm9k
ZS0+aHZtLnBhZ2VzKTsKPiArCQl4ZW5fZnJlZV91bnBvcHVsYXRlZF9wYWdlcyhucl9wYWdlcywg
bm9kZS0+aHZtLnBhZ2VzKTsKPiAgIAl9Cj4gICAJZWxzZQo+ICAgCQlXQVJOKDEsICJMZWFraW5n
ICVwLCBzaXplICV1IHBhZ2UocylcbiIsIHZhZGRyLCBucl9wYWdlcyk7Cj4gZGlmZiAtLWdpdCBh
L2RyaXZlcnMveGVuL3hsYXRlX21tdS5jIGIvZHJpdmVycy94ZW4veGxhdGVfbW11LmMKPiBpbmRl
eCA3YjEwNzdmMGFiY2IuLjM0NzQyYzZlMTg5ZSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL3hlbi94
bGF0ZV9tbXUuYwo+ICsrKyBiL2RyaXZlcnMveGVuL3hsYXRlX21tdS5jCj4gQEAgLTIzMiw3ICsy
MzIsNyBAQCBpbnQgX19pbml0IHhlbl94bGF0ZV9tYXBfYmFsbG9vbmVkX3BhZ2VzKHhlbl9wZm5f
dCAqKmdmbnMsIHZvaWQgKip2aXJ0LAo+ICAgCQlrZnJlZShwYWdlcyk7Cj4gICAJCXJldHVybiAt
RU5PTUVNOwo+ICAgCX0KPiAtCXJjID0gYWxsb2NfeGVuYmFsbG9vbmVkX3BhZ2VzKG5yX3BhZ2Vz
LCBwYWdlcyk7Cj4gKwlyYyA9IHhlbl9hbGxvY191bnBvcHVsYXRlZF9wYWdlcyhucl9wYWdlcywg
cGFnZXMpOwo+ICAgCWlmIChyYykgewo+ICAgCQlwcl93YXJuKCIlcyBDb3VsZG4ndCBiYWxsb29u
IGFsbG9jICVsZCBwYWdlcyByYzolZFxuIiwgX19mdW5jX18sCj4gICAJCQlucl9wYWdlcywgcmMp
Owo+IEBAIC0yNDksNyArMjQ5LDcgQEAgaW50IF9faW5pdCB4ZW5feGxhdGVfbWFwX2JhbGxvb25l
ZF9wYWdlcyh4ZW5fcGZuX3QgKipnZm5zLCB2b2lkICoqdmlydCwKPiAgIAlpZiAoIXZhZGRyKSB7
Cj4gICAJCXByX3dhcm4oIiVzIENvdWxkbid0IG1hcCAlbGQgcGFnZXMgcmM6JWRcbiIsIF9fZnVu
Y19fLAo+ICAgCQkJbnJfcGFnZXMsIHJjKTsKPiAtCQlmcmVlX3hlbmJhbGxvb25lZF9wYWdlcyhu
cl9wYWdlcywgcGFnZXMpOwo+ICsJCXhlbl9mcmVlX3VucG9wdWxhdGVkX3BhZ2VzKG5yX3BhZ2Vz
LCBwYWdlcyk7Cj4gICAJCWtmcmVlKHBhZ2VzKTsKPiAgIAkJa2ZyZWUocGZucyk7Cj4gICAJCXJl
dHVybiAtRU5PTUVNOwo+IGRpZmYgLS1naXQgYS9pbmNsdWRlL3hlbi94ZW4uaCBiL2luY2x1ZGUv
eGVuL3hlbi5oCj4gaW5kZXggMTlhNzJmNTkxZTJiLi5hYTMzYmMwZDkzM2MgMTAwNjQ0Cj4gLS0t
IGEvaW5jbHVkZS94ZW4veGVuLmgKPiArKysgYi9pbmNsdWRlL3hlbi94ZW4uaAo+IEBAIC01Miw0
ICs1MiwxMiBAQCBib29sIHhlbl9iaW92ZWNfcGh5c19tZXJnZWFibGUoY29uc3Qgc3RydWN0IGJp
b192ZWMgKnZlYzEsCj4gICBleHRlcm4gdTY0IHhlbl9zYXZlZF9tYXhfbWVtX3NpemU7Cj4gICAj
ZW5kaWYKPiAgIAo+ICsjaWZkZWYgQ09ORklHX1pPTkVfREVWSUNFCj4gK2ludCB4ZW5fYWxsb2Nf
dW5wb3B1bGF0ZWRfcGFnZXModW5zaWduZWQgaW50IG5yX3BhZ2VzLCBzdHJ1Y3QgcGFnZSAqKnBh
Z2VzKTsKPiArdm9pZCB4ZW5fZnJlZV91bnBvcHVsYXRlZF9wYWdlcyh1bnNpZ25lZCBpbnQgbnJf
cGFnZXMsIHN0cnVjdCBwYWdlICoqcGFnZXMpOwo+ICsjZWxzZQo+ICsjZGVmaW5lIHhlbl9hbGxv
Y191bnBvcHVsYXRlZF9wYWdlcyBhbGxvY194ZW5iYWxsb29uZWRfcGFnZXMKPiArI2RlZmluZSB4
ZW5fZnJlZV91bnBvcHVsYXRlZF9wYWdlcyBmcmVlX3hlbmJhbGxvb25lZF9wYWdlcwo+ICsjZW5k
aWYKPiArCj4gICAjZW5kaWYJLyogX1hFTl9YRU5fSCAqLwo+IAoKSnVlcmdlbgpfX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBs
aXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVz
a3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWwK
