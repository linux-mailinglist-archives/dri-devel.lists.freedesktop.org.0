Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id BE9DAAB8F4
	for <lists+dri-devel@lfdr.de>; Fri,  6 Sep 2019 15:11:08 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 20D8D6E291;
	Fri,  6 Sep 2019 13:11:06 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-oi1-x244.google.com (mail-oi1-x244.google.com
 [IPv6:2607:f8b0:4864:20::244])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 24A7A6E294
 for <dri-devel@lists.freedesktop.org>; Fri,  6 Sep 2019 13:11:04 +0000 (UTC)
Received: by mail-oi1-x244.google.com with SMTP id b80so4849595oii.7
 for <dri-devel@lists.freedesktop.org>; Fri, 06 Sep 2019 06:11:04 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=ev36SfNlEf6PWNGJxHlI3s/lnO7unyXrg4qse6t6H1Y=;
 b=uhFOpk1LFW7HOhuJSq4G1mmdziUlJwZI4YYrskXIYsJmjGr954oPdj2OBHaVnLXgf0
 aSxYmSjP5EWjHGyvnI2J1LGsuJTpU+GHbapiqOye09hqGpU61T7v57AD38IhKtJjA6i7
 kUYEVVLzU5TL2TlFoFWPY+w5bxBq2XFGyr1O4rj5sRQ97c6mLBw5qg6ZtoRWAyGhkfoO
 9gAGAb860DnUUoBDq/LmThunIQhzBZr9l9QFJOda07ppNyumUt9nqBM+prbA2DQOw1P6
 JDip9NIrJ59fDTwTIogy8rIoWUp9QaM8VdYYLHDX8AF2uu8VDaH3dGVQxLDoW44R2PHd
 r5GQ==
X-Gm-Message-State: APjAAAV4KzK/Al4UdOmKl/KL+CYJb9AEB7AAUHcDqO1sLYRLc17E1ZL5
 h76CFvPiSxqoELMOUY5cm0s0NW3WY0lW9M7IkwvXQQ==
X-Google-Smtp-Source: APXvYqxmRFNxgvHcNL/LVYV5FNh1qBNcj2zSLrlkLuEVi0kz8/vLyP49vyiza79LNaPIq5ZnEWOh+fco9c7/hTrasD4=
X-Received: by 2002:aca:5c45:: with SMTP id q66mr5340295oib.132.1567775463282; 
 Fri, 06 Sep 2019 06:11:03 -0700 (PDT)
MIME-Version: 1.0
References: <20190808134417.10610-1-kraxel@redhat.com>
 <20190808134417.10610-6-kraxel@redhat.com>
 <20190903094859.GQ2112@phenom.ffwll.local>
 <20190906121318.r4nvoacazvwukuun@sirius.home.kraxel.org>
In-Reply-To: <20190906121318.r4nvoacazvwukuun@sirius.home.kraxel.org>
From: Daniel Vetter <daniel@ffwll.ch>
Date: Fri, 6 Sep 2019 15:10:52 +0200
Message-ID: <CAKMK7uHFS8uW15NMEzN92POD2hyhkvKFgePdjgL=D-noUAkq3Q@mail.gmail.com>
Subject: Re: [PATCH v4 05/17] drm: add mmap() to drm_gem_object_funcs
To: Gerd Hoffmann <kraxel@redhat.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=ev36SfNlEf6PWNGJxHlI3s/lnO7unyXrg4qse6t6H1Y=;
 b=O7cSTnQX0I4DPwo6zpKvGk0Vm3gxj9OL36Kq2prSvEQS7dI61nwm4xuhznBq8mv7QJ
 AZ+sTYZIRWkkIBAE7Y4TuoMPYSIUSTW7EvigyRYyOtjBKFes2iqQ43kkExyIGptSr0ZW
 gNTvbQsbIJRH4k1SlovpUgBeThCYNFCt+pOpY=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Maxime Ripard <maxime.ripard@bootlin.com>,
 open list <linux-kernel@vger.kernel.org>,
 dri-devel <dri-devel@lists.freedesktop.org>, David Airlie <airlied@linux.ie>,
 Thomas Zimmermann <tzimmermann@suse.de>, Sean Paul <sean@poorly.run>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gRnJpLCBTZXAgNiwgMjAxOSBhdCAyOjEzIFBNIEdlcmQgSG9mZm1hbm4gPGtyYXhlbEByZWRo
YXQuY29tPiB3cm90ZToKPgo+ICAgSGksCj4KPiA+IEkgdGhpbmsgaWYgd2UgZG8gYW4gbW1hcCBj
YWxsYmFjaywgaXQgc2hvdWxkIHJlcGxhY2UgYWxsIHRoZSBtbWFwIGhhbmRsaW5nCj4gPiAoZXhj
ZXB0IHRoZSBkcm1fZ2VtX29iamVjdF9nZXQpIHRoYXQgZHJtX2dlbV9tbWFwX29iaiBkb2VzLiBT
byBtYXliZQo+ID4gc29tZXRoaW5nIGxpa2UgdGhlIGJlbG93Ogo+Cj4gWyBzbmlwIF0KPgo+ID4g
U2luY2UgSSByZW1lbWJlciBxdWl0ZSBhIGZldyBkaXNjdXNzaW9ucyB3aGVyZSB0aGUgZGVmYXVs
dCB2bWEgZmxhZwo+ID4gd3JhbmdsaW5nIHdlJ3JlIGRvaW5nIGlzIHNlcmlvdXNseSBnZXR0aW5n
IGluIHRoZSB3YXkgb2YgdGhpbmdzIHRvby4KPgo+IFllcCwgbWFrZXMgc2Vuc2UuCj4KPiA+IEkg
dGhpbmsgZXZlbiBiZXR0ZXIgd291bGQgYmUgaWYgdGhpcyBuZXcgLT5tbWFwIGhvb2sgY291bGQg
YWxzbyBiZSB1c2VkCj4gPiBkaXJlY3RseSBieSB0aGUgZG1hLWJ1ZiBtbWFwIGNvZGUsIHdpdGhv
dXQgaGF2aW5nIHRvIGp1bXAgdGhyb3VnaCBob29wcwo+ID4gY3JlYXRpbmcgYSBmYWtlIGZpbGUg
YW5kIGZha2Ugdm1hIG9mZnNldCBhbmQgZXZlcnl0aGluZy4gSSB0aGluayB3aXRoIHRoYXQKPiA+
IHdlJ2QgaGF2ZSBhIHJlYWxseSBzb2xpZCBjYXNlIHRvIGFkZCB0aGlzIC0+bW1hcCBob29rLgo+
Cj4gTG9va3MgZWFzeSBvbiBhIHF1aWNrIGdsYW5jZS4gIFNvIHNvbWV0aGluZyBsaWtlIHRoZSBw
YXRjaCBiZWxvdyAocXVpY2sKPiBza2V0Y2gsIG5vdCB0ZXN0ZWQgeWV0IG90aGVyIHRoYW4gY29t
cGlsaW5nIGl0KT8KCll1cCwgbG9va3MgZ29vZCwgYW5kIGlmIGl0IHdvcmtzIEknbSBoYXBweSB0
byBzbWFzaCByLWIgYW5kIGEtYiB0YWdzIG92ZXIgdGhpcy4KCk9uZSB0aG91Z2h0IGJlbG93LgoK
PiBjaGVlcnMsCj4gICBHZXJkCj4KPiBGcm9tIGMxM2IzMGQ3NzZmYjU5M2EwMzQ3M2ZhM2JjOTNi
YWY0NzBjYmE3MjggTW9uIFNlcCAxNyAwMDowMDowMCAyMDAxCj4gRnJvbTogR2VyZCBIb2ZmbWFu
biA8a3JheGVsQHJlZGhhdC5jb20+Cj4gRGF0ZTogV2VkLCAxOSBKdW4gMjAxOSAxNDoyNjo1MSAr
MDIwMAo+IFN1YmplY3Q6IFtQQVRDSF0gZHJtOiBhZGQgbW1hcCgpIHRvIGRybV9nZW1fb2JqZWN0
X2Z1bmNzCj4KPiBkcm1fZ2VtX29iamVjdF9mdW5jcy0+dm1fb3BzIGFsb25lIGNhbid0IGhhbmRs
ZSBldmVyeXRoaW5nIHdoaWNoIG5lZWRzCj4gdG8gYmUgZG9uZSBmb3IgbW1hcCgpLCB0d2Vha2lu
ZyB2bV9mbGFncyBmb3IgZXhhbXBsZS4gIFNvIGFkZCBhIG5ldwo+IG1tYXAoKSBjYWxsYmFjayB0
byBkcm1fZ2VtX29iamVjdF9mdW5jcyB3aGVyZSB0aGlzIGNvZGUgY2FuIGdvIHRvLgo+Cj4gTm90
ZSB0aGF0IHRoZSB2bV9vcHMgZmllbGQgaXMgbm90IHVzZWQgaW4gY2FzZSB0aGUgbW1hcCBjYWxs
YmFjayBpcwo+IHByZXNudCwgaXQgaXMgZXhwZWN0ZWQgdGhhdCB0aGUgY2FsbGJhY2sgc2V0cyB2
bWEtPnZtX29wcyBpbnN0ZWFkLgo+Cj4gZHJtX2dlbV9tbWFwX29iaigpIHdpbGwgdXNlIHRoZSBu
ZXcgY2FsbGJhY2sgZm9yIG9iamVjdCBzcGVjaWZpYyBtbWFwCj4gc2V0dXAuICBXaXRoIHRoaXMg
aW4gcGxhY2UgdGhlIG5lZWQgZm9yIGRyaXZlci1zcGVpZmljIGZvcHMtPm1tYXAKPiBjYWxsYmFj
a3MgZ29lcyBhd2F5LCBkcm1fZ2VtX21tYXAgY2FuIGJlIGhvb2tlZCBpbnN0ZWFkLgo+Cj4gZHJt
X2dlbV9wcmltZV9tbWFwKCkgd2lsbCB1c2UgdGhlIG5ldyBjYWxsYmFjayB0b28gdG8ganVzdCBt
bWFwIGdlbQo+IG9iamVjdHMgZGlyZWN0bHkgaW5zdGVhZCBvZiBqdW1waW5nIHRob3VnaCBsb29w
cyB0byBtYWtlCj4gZHJtX2dlbV9vYmplY3RfbG9va3VwKCkgYW5kIGZvcHMtPm1tYXAgd29yay4K
Pgo+IFNpZ25lZC1vZmYtYnk6IEdlcmQgSG9mZm1hbm4gPGtyYXhlbEByZWRoYXQuY29tPgo+IC0t
LQo+ICBpbmNsdWRlL2RybS9kcm1fZ2VtLmggICAgICAgfCAxNCArKysrKysrKysrKysrKwo+ICBk
cml2ZXJzL2dwdS9kcm0vZHJtX2dlbS5jICAgfCAyNiArKysrKysrKysrKysrKysrKy0tLS0tLS0t
LQo+ICBkcml2ZXJzL2dwdS9kcm0vZHJtX3ByaW1lLmMgfCAgOSArKysrKysrKysKPiAgMyBmaWxl
cyBjaGFuZ2VkLCA0MCBpbnNlcnRpb25zKCspLCA5IGRlbGV0aW9ucygtKQo+Cj4gZGlmZiAtLWdp
dCBhL2luY2x1ZGUvZHJtL2RybV9nZW0uaCBiL2luY2x1ZGUvZHJtL2RybV9nZW0uaAo+IGluZGV4
IDZhYWJhMTRmNTk3Mi4uZTcxZjc1YTJhYjU3IDEwMDY0NAo+IC0tLSBhL2luY2x1ZGUvZHJtL2Ry
bV9nZW0uaAo+ICsrKyBiL2luY2x1ZGUvZHJtL2RybV9nZW0uaAo+IEBAIC0xNTAsNiArMTUwLDIw
IEBAIHN0cnVjdCBkcm1fZ2VtX29iamVjdF9mdW5jcyB7Cj4gICAgICAgICAgKi8KPiAgICAgICAg
IHZvaWQgKCp2dW5tYXApKHN0cnVjdCBkcm1fZ2VtX29iamVjdCAqb2JqLCB2b2lkICp2YWRkcik7
Cj4KPiArICAgICAgIC8qKgo+ICsgICAgICAgICogQG1tYXA6Cj4gKyAgICAgICAgKgo+ICsgICAg
ICAgICogSGFuZGxlIG1tYXAoKSBvZiB0aGUgZ2VtIG9iamVjdCwgc2V0dXAgdm1hIGFjY29yZGlu
Z2x5Lgo+ICsgICAgICAgICoKPiArICAgICAgICAqIFRoaXMgY2FsbGJhY2sgaXMgb3B0aW9uYWwu
Cj4gKyAgICAgICAgKgo+ICsgICAgICAgICogVGhlIGNhbGxiYWNrIGlzIHVzZWQgYnkgYnkgYm90
aCBkcm1fZ2VtX21tYXBfb2JqKCkgYW5kCj4gKyAgICAgICAgKiBkcm1fZ2VtX3ByaW1lX21tYXAo
KS4gIFdoZW4gQG1tYXAgaXMgcHJlc2VudCBAdm1fb3BzIGlzIG5vdAo+ICsgICAgICAgICogdXNl
ZCwgdGhlIEBtbWFwIGNhbGxiYWNrIG11c3Qgc2V0IHZtYS0+dm1fb3BzIGluc3RlYWQuCj4gKyAg
ICAgICAgKgo+ICsgICAgICAgICovCj4gKyAgICAgICBpbnQgKCptbWFwKShzdHJ1Y3QgZHJtX2dl
bV9vYmplY3QgKm9iaiwgc3RydWN0IHZtX2FyZWFfc3RydWN0ICp2bWEpOwo+ICsKPiAgICAgICAg
IC8qKgo+ICAgICAgICAgICogQHZtX29wczoKPiAgICAgICAgICAqCj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9kcm1fZ2VtLmMgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2dlbS5jCj4gaW5k
ZXggNjg1NGY1ODY3ZDUxLi5hYWJkZTAwM2FjNGEgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2RybV9nZW0uYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fZ2VtLmMKPiBAQCAtMTA5
OSwyMiArMTA5OSwzMCBAQCBpbnQgZHJtX2dlbV9tbWFwX29iaihzdHJ1Y3QgZHJtX2dlbV9vYmpl
Y3QgKm9iaiwgdW5zaWduZWQgbG9uZyBvYmpfc2l6ZSwKPiAgICAgICAgICAgICAgICAgICAgICBz
dHJ1Y3Qgdm1fYXJlYV9zdHJ1Y3QgKnZtYSkKPiAgewo+ICAgICAgICAgc3RydWN0IGRybV9kZXZp
Y2UgKmRldiA9IG9iai0+ZGV2Owo+ICsgICAgICAgaW50IHJldDsKPgo+ICAgICAgICAgLyogQ2hl
Y2sgZm9yIHZhbGlkIHNpemUuICovCj4gICAgICAgICBpZiAob2JqX3NpemUgPCB2bWEtPnZtX2Vu
ZCAtIHZtYS0+dm1fc3RhcnQpCj4gICAgICAgICAgICAgICAgIHJldHVybiAtRUlOVkFMOwo+Cj4g
LSAgICAgICBpZiAob2JqLT5mdW5jcyAmJiBvYmotPmZ1bmNzLT52bV9vcHMpCj4gLSAgICAgICAg
ICAgICAgIHZtYS0+dm1fb3BzID0gb2JqLT5mdW5jcy0+dm1fb3BzOwo+IC0gICAgICAgZWxzZSBp
ZiAoZGV2LT5kcml2ZXItPmdlbV92bV9vcHMpCj4gLSAgICAgICAgICAgICAgIHZtYS0+dm1fb3Bz
ID0gZGV2LT5kcml2ZXItPmdlbV92bV9vcHM7Cj4gLSAgICAgICBlbHNlCj4gLSAgICAgICAgICAg
ICAgIHJldHVybiAtRUlOVkFMOwo+ICsgICAgICAgaWYgKG9iai0+ZnVuY3MgJiYgb2JqLT5mdW5j
cy0+bW1hcCkgewo+ICsgICAgICAgICAgICAgICByZXQgPSBvYmotPmZ1bmNzLT5tbWFwKG9iaiwg
dm1hKTsKPiArICAgICAgICAgICAgICAgaWYgKHJldCkKPiArICAgICAgICAgICAgICAgICAgICAg
ICByZXR1cm4gcmV0Owo+ICsgICAgICAgfSBlbHNlIHsKPiArICAgICAgICAgICAgICAgaWYgKG9i
ai0+ZnVuY3MgJiYgb2JqLT5mdW5jcy0+dm1fb3BzKQo+ICsgICAgICAgICAgICAgICAgICAgICAg
IHZtYS0+dm1fb3BzID0gb2JqLT5mdW5jcy0+dm1fb3BzOwo+ICsgICAgICAgICAgICAgICBlbHNl
IGlmIChkZXYtPmRyaXZlci0+Z2VtX3ZtX29wcykKPiArICAgICAgICAgICAgICAgICAgICAgICB2
bWEtPnZtX29wcyA9IGRldi0+ZHJpdmVyLT5nZW1fdm1fb3BzOwo+ICsgICAgICAgICAgICAgICBl
bHNlCj4gKyAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7Cj4gKwo+ICsgICAg
ICAgICAgICAgICB2bWEtPnZtX2ZsYWdzIHw9IFZNX0lPIHwgVk1fUEZOTUFQIHwgVk1fRE9OVEVY
UEFORCB8IFZNX0RPTlREVU1QOwo+ICsgICAgICAgICAgICAgICB2bWEtPnZtX3BhZ2VfcHJvdCA9
IHBncHJvdF93cml0ZWNvbWJpbmUodm1fZ2V0X3BhZ2VfcHJvdCh2bWEtPnZtX2ZsYWdzKSk7Cj4g
KyAgICAgICAgICAgICAgIHZtYS0+dm1fcGFnZV9wcm90ID0gcGdwcm90X2RlY3J5cHRlZCh2bWEt
PnZtX3BhZ2VfcHJvdCk7Cj4gKyAgICAgICB9CgpUb3RhbGx5IHVucmVsYXRlZCBkaXNjdXNzaW9u
IGFyb3VuZCBITU0gbGVhZCBtZSB0byBhIGJpdCBhIGNoYXNlLCBhbmQKcmVhbGl6aW5nIHRoYXQg
d2UgcHJvYmFibHkgd2FudCBhCgogICAgV0FSTl9PTighKHZtYS0+dm1fZmxhZ3MgJiBWTV9TUEVD
SUFMKSk7CgpoZXJlLCB0byBtYWtlIHN1cmUgZHJpdmVycyBzZXQgYXQgbGVhc3Qgb25lIG9mIHRo
ZSAidGhpcyBpcyBhIHNwZWNpYWwKdm1hLCBkb24ndCB0cnkgdG8gdHJlYXQgaXQgbGlrZSBwYWdl
Y2FjaGUvYW5vbiBtZW1vcnkiLiBKdXN0IHRvIGJlIG9uCnRoZSBzYWZlIHNpZGUuIE1heWJlIHdl
IGFsc28gd2FudCB0byBrZWVwIHRoZSBlbnRpcmUgdm1hLT52bV9mbGFncwphc3NpZ25tZW50IGlu
IHRoZSBjb21tb24gY29kZSwgYnV0IGF0IGxlYXN0IHRoZSBXQVJOX09OIHdvdWxkIGJlIGEKZ29v
ZCBjaGVjayBJIHRoaW5rLiBNYXliZSBhbHNvIGNoZWNrIGZvciBWTV9ET05URVhQQU5EIHdoaWxl
IGF0IGl0Cih0aGF0IHdvdWxkIGFsc28gYnJlYWsgdGhpbmdzIGJhZGx5IGlmIGl0J3Mgbm90IHNl
dCkuIFZNX0RPTlREVU1QIEkKdGhpbmsgaXMgbGVmdG92ZXIgZnJvbSB3aGVuIGRybSBkcml2ZXJz
IGV4cG9zZWQgcmVnaXN0ZXIgbW1hcHMgdG8KdXNlcnNwYWNlLgoKQW55d2F5LCBqdXN0IHNvbWUg
ZGV0YWlsIHF1ZXN0aW9ucywgSSB0aGluayB0aGlzIGxvb2tzIHJlYWwgZ29vZC4KClRoYW5rcywg
RGFuaWVsCgo+IC0gICAgICAgdm1hLT52bV9mbGFncyB8PSBWTV9JTyB8IFZNX1BGTk1BUCB8IFZN
X0RPTlRFWFBBTkQgfCBWTV9ET05URFVNUDsKPiAgICAgICAgIHZtYS0+dm1fcHJpdmF0ZV9kYXRh
ID0gb2JqOwo+IC0gICAgICAgdm1hLT52bV9wYWdlX3Byb3QgPSBwZ3Byb3Rfd3JpdGVjb21iaW5l
KHZtX2dldF9wYWdlX3Byb3Qodm1hLT52bV9mbGFncykpOwo+IC0gICAgICAgdm1hLT52bV9wYWdl
X3Byb3QgPSBwZ3Byb3RfZGVjcnlwdGVkKHZtYS0+dm1fcGFnZV9wcm90KTsKPgo+ICAgICAgICAg
LyogVGFrZSBhIHJlZiBmb3IgdGhpcyBtYXBwaW5nIG9mIHRoZSBvYmplY3QsIHNvIHRoYXQgdGhl
IGZhdWx0Cj4gICAgICAgICAgKiBoYW5kbGVyIGNhbiBkZXJlZmVyZW5jZSB0aGUgbW1hcCBvZmZz
ZXQncyBwb2ludGVyIHRvIHRoZSBvYmplY3QuCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9kcm1fcHJpbWUuYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fcHJpbWUuYwo+IGluZGV4IDBhMjMx
NmUwZTgxMi4uMDgxNDIxMWIwZjNmIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9kcm1f
cHJpbWUuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fcHJpbWUuYwo+IEBAIC03MTMsNiAr
NzEzLDE1IEBAIGludCBkcm1fZ2VtX3ByaW1lX21tYXAoc3RydWN0IGRybV9nZW1fb2JqZWN0ICpv
YmosIHN0cnVjdCB2bV9hcmVhX3N0cnVjdCAqdm1hKQo+ICAgICAgICAgc3RydWN0IGZpbGUgKmZp
bDsKPiAgICAgICAgIGludCByZXQ7Cj4KPiArICAgICAgIGlmIChvYmotPmZ1bmNzICYmIG9iai0+
ZnVuY3MtPm1tYXApIHsKPiArICAgICAgICAgICAgICAgcmV0ID0gb2JqLT5mdW5jcy0+bW1hcChv
YmosIHZtYSk7Cj4gKyAgICAgICAgICAgICAgIGlmIChyZXQpCj4gKyAgICAgICAgICAgICAgICAg
ICAgICAgcmV0dXJuIHJldDsKPiArICAgICAgICAgICAgICAgdm1hLT52bV9wcml2YXRlX2RhdGEg
PSBvYmo7Cj4gKyAgICAgICAgICAgICAgIGRybV9nZW1fb2JqZWN0X2dldChvYmopOwo+ICsgICAg
ICAgICAgICAgICByZXR1cm4gMDsKPiArICAgICAgIH0KPiArCj4gICAgICAgICBwcml2ID0ga3ph
bGxvYyhzaXplb2YoKnByaXYpLCBHRlBfS0VSTkVMKTsKPiAgICAgICAgIGZpbCA9IGt6YWxsb2Mo
c2l6ZW9mKCpmaWwpLCBHRlBfS0VSTkVMKTsKPiAgICAgICAgIGlmICghcHJpdiB8fCAhZmlsKSB7
Cj4gLS0KPiAyLjE4LjEKPgo+IF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fCj4gZHJpLWRldmVsIG1haWxpbmcgbGlzdAo+IGRyaS1kZXZlbEBsaXN0cy5mcmVl
ZGVza3RvcC5vcmcKPiBodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3Rp
bmZvL2RyaS1kZXZlbAoKCgotLQpEYW5pZWwgVmV0dGVyClNvZnR3YXJlIEVuZ2luZWVyLCBJbnRl
bCBDb3Jwb3JhdGlvbgorNDEgKDApIDc5IDM2NSA1NyA0OCAtIGh0dHA6Ly9ibG9nLmZmd2xsLmNo
Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZl
bCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xp
c3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
