Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 7F127A07A0
	for <lists+dri-devel@lfdr.de>; Wed, 28 Aug 2019 18:43:00 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0B82F89D84;
	Wed, 28 Aug 2019 16:42:56 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga07.intel.com (mga07.intel.com [134.134.136.100])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3EA5C89D84;
 Wed, 28 Aug 2019 16:42:54 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga001.fm.intel.com ([10.253.24.23])
 by orsmga105.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 28 Aug 2019 09:42:53 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,441,1559545200"; d="scan'208";a="197593757"
Received: from ramaling-i9x.iind.intel.com ([10.99.66.154])
 by fmsmga001.fm.intel.com with ESMTP; 28 Aug 2019 09:42:51 -0700
From: Ramalingam C <ramalingam.c@intel.com>
To: intel-gfx <intel-gfx@lists.freedesktop.org>,
 dri-devel <dri-devel@lists.freedesktop.org>
Subject: [PATCH v12 1/6] drm/i915: mei_hdcp: I915 sends ddi index as per ME FW
Date: Wed, 28 Aug 2019 22:12:11 +0530
Message-Id: <20190828164216.405-2-ramalingam.c@intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190828164216.405-1-ramalingam.c@intel.com>
References: <20190828164216.405-1-ramalingam.c@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Jani Nikula <jani.nikula@intel.com>, tomas.winkler@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

STkxNSBjb252ZXJ0cyBpdCdzIHBvcnQgdmFsdWUgaW50byBkZGkgaW5kZXggZGVmaWVuZCBieSBN
RSBGVwphbmQgcGFzcyBpdCBhcyBhIG1lbWJlciBvZiBoZGNwX3BvcnRfZGF0YSBzdHJ1Y3R1cmUu
CgpIZW5jZSBleHBvc2UgdGhlIGVudW0gbWVpX2Z3X2RkaSB0byBJOTE1IHRocm91Z2gKaTkxNV9t
ZWlfaW50ZXJmYWNlLmguCgp2MjoKICBDb3B5cmlnaHQgeWVhcnMgYXJlIGJ1bXBlZCBbVG9tYXNd
CgpTaWduZWQtb2ZmLWJ5OiBSYW1hbGluZ2FtIEMgPHJhbWFsaW5nYW0uY0BpbnRlbC5jb20+CkFj
a2VkLWJ5OiBKYW5pIE5pa3VsYSA8amFuaS5uaWt1bGFAaW50ZWwuY29tPgpSZXZpZXdlZC1ieTog
U2hhc2hhbmsgU2hhcm1hIDxzaGFzaGFuay5zaGFybWFAaW50ZWwuY29tPgpBY2tlZC1ieTogVG9t
YXMgV2lua2xlciA8dG9tYXMud2lua2xlckBpbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9oZGNwLmMgfCAxNyArKysrKysrKysrKy0KIGRyaXZlcnMvbWlz
Yy9tZWkvaGRjcC9tZWlfaGRjcC5jICAgICAgICAgIHwgMzQgKysrKysrKystLS0tLS0tLS0tLS0t
LS0KIGRyaXZlcnMvbWlzYy9tZWkvaGRjcC9tZWlfaGRjcC5oICAgICAgICAgIHwgMTIgLS0tLS0t
LS0KIGluY2x1ZGUvZHJtL2k5MTVfbWVpX2hkY3BfaW50ZXJmYWNlLmggICAgIHwgMTggKysrKysr
KysrKy0tCiA0IGZpbGVzIGNoYW5nZWQsIDQyIGluc2VydGlvbnMoKyksIDM5IGRlbGV0aW9ucygt
KQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfaGRjcC5j
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9oZGNwLmMKaW5kZXggNmVjNWNl
ZWFiNjAxLi5lOGIwNGNjOGZjYjEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfaGRjcC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfaGRjcC5jCkBAIC0xLDkgKzEsMTEgQEAKIC8qIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBN
SVQgKi8KIC8qCiAgKiBDb3B5cmlnaHQgKEMpIDIwMTcgR29vZ2xlLCBJbmMuCisgKiBDb3B5cmln
aHQgXyAyMDE3LTIwMTksIEludGVsIENvcnBvcmF0aW9uLgogICoKICAqIEF1dGhvcnM6CiAgKiBT
ZWFuIFBhdWwgPHNlYW5wYXVsQGNocm9taXVtLm9yZz4KKyAqIFJhbWFsaW5nYW0gQyA8cmFtYWxp
bmdhbS5jQGludGVsLmNvbT4KICAqLwogCiAjaW5jbHVkZSA8bGludXgvY29tcG9uZW50Lmg+CkBA
IC0xNzQ5LDEzICsxNzUxLDI2IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgY29tcG9uZW50X29wcyBp
OTE1X2hkY3BfY29tcG9uZW50X29wcyA9IHsKIAkudW5iaW5kID0gaTkxNV9oZGNwX2NvbXBvbmVu
dF91bmJpbmQsCiB9OwogCitzdGF0aWMgaW5saW5lCitlbnVtIG1laV9md19kZGkgaW50ZWxfZ2V0
X21laV9md19kZGlfaW5kZXgoZW51bSBwb3J0IHBvcnQpCit7CisJc3dpdGNoIChwb3J0KSB7CisJ
Y2FzZSBQT1JUX0E6CisJCXJldHVybiBNRUlfRERJX0E7CisJY2FzZSBQT1JUX0IgLi4uIFBPUlRf
RjoKKwkJcmV0dXJuIChlbnVtIG1laV9md19kZGkpcG9ydDsKKwlkZWZhdWx0OgorCQlyZXR1cm4g
TUVJX0RESV9JTlZBTElEX1BPUlQ7CisJfQorfQorCiBzdGF0aWMgaW5saW5lIGludCBpbml0aWFs
aXplX2hkY3BfcG9ydF9kYXRhKHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvciwKIAkJ
CQkJICAgIGNvbnN0IHN0cnVjdCBpbnRlbF9oZGNwX3NoaW0gKnNoaW0pCiB7CiAJc3RydWN0IGlu
dGVsX2hkY3AgKmhkY3AgPSAmY29ubmVjdG9yLT5oZGNwOwogCXN0cnVjdCBoZGNwX3BvcnRfZGF0
YSAqZGF0YSA9ICZoZGNwLT5wb3J0X2RhdGE7CiAKLQlkYXRhLT5wb3J0ID0gY29ubmVjdG9yLT5l
bmNvZGVyLT5wb3J0OworCWRhdGEtPmZ3X2RkaSA9IGludGVsX2dldF9tZWlfZndfZGRpX2luZGV4
KGNvbm5lY3Rvci0+ZW5jb2Rlci0+cG9ydCk7CiAJZGF0YS0+cG9ydF90eXBlID0gKHU4KUhEQ1Bf
UE9SVF9UWVBFX0lOVEVHUkFURUQ7CiAJZGF0YS0+cHJvdG9jb2wgPSAodTgpc2hpbS0+cHJvdG9j
b2w7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvbWlzYy9tZWkvaGRjcC9tZWlfaGRjcC5jIGIvZHJp
dmVycy9taXNjL21laS9oZGNwL21laV9oZGNwLmMKaW5kZXggYzY4MWY2ZmFiMzQyLi4zNjM4Yzc3
ZWJhMjYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvbWlzYy9tZWkvaGRjcC9tZWlfaGRjcC5jCisrKyBi
L2RyaXZlcnMvbWlzYy9tZWkvaGRjcC9tZWlfaGRjcC5jCkBAIC0yNywxOCArMjcsNiBAQAogCiAj
aW5jbHVkZSAibWVpX2hkY3AuaCIKIAotc3RhdGljIGlubGluZSB1OCBtZWlfZ2V0X2RkaV9pbmRl
eChlbnVtIHBvcnQgcG9ydCkKLXsKLQlzd2l0Y2ggKHBvcnQpIHsKLQljYXNlIFBPUlRfQToKLQkJ
cmV0dXJuIE1FSV9ERElfQTsKLQljYXNlIFBPUlRfQiAuLi4gUE9SVF9GOgotCQlyZXR1cm4gKHU4
KXBvcnQ7Ci0JZGVmYXVsdDoKLQkJcmV0dXJuIE1FSV9ERElfSU5WQUxJRF9QT1JUOwotCX0KLX0K
LQogLyoqCiAgKiBtZWlfaGRjcF9pbml0aWF0ZV9zZXNzaW9uKCkgLSBJbml0aWF0ZSBhIFdpcmVk
IEhEQ1AyLjIgVHggU2Vzc2lvbiBpbiBNRSBGVwogICogQGRldjogZGV2aWNlIGNvcnJlc3BvbmRp
bmcgdG8gdGhlIG1laV9jbF9kZXZpY2UKQEAgLTY5LDcgKzU3LDcgQEAgbWVpX2hkY3BfaW5pdGlh
dGVfc2Vzc2lvbihzdHJ1Y3QgZGV2aWNlICpkZXYsIHN0cnVjdCBoZGNwX3BvcnRfZGF0YSAqZGF0
YSwKIAkJCQlXSVJFRF9DTURfQlVGX0xFTl9JTklUSUFURV9IRENQMl9TRVNTSU9OX0lOOwogCiAJ
c2Vzc2lvbl9pbml0X2luLnBvcnQuaW50ZWdyYXRlZF9wb3J0X3R5cGUgPSBkYXRhLT5wb3J0X3R5
cGU7Ci0Jc2Vzc2lvbl9pbml0X2luLnBvcnQucGh5c2ljYWxfcG9ydCA9IG1laV9nZXRfZGRpX2lu
ZGV4KGRhdGEtPnBvcnQpOworCXNlc3Npb25faW5pdF9pbi5wb3J0LnBoeXNpY2FsX3BvcnQgPSAo
dTgpZGF0YS0+ZndfZGRpOwogCXNlc3Npb25faW5pdF9pbi5wcm90b2NvbCA9IGRhdGEtPnByb3Rv
Y29sOwogCiAJYnl0ZSA9IG1laV9jbGRldl9zZW5kKGNsZGV2LCAodTggKikmc2Vzc2lvbl9pbml0
X2luLApAQCAtMTM4LDcgKzEyNiw3IEBAIG1laV9oZGNwX3ZlcmlmeV9yZWNlaXZlcl9jZXJ0X3By
ZXBhcmVfa20oc3RydWN0IGRldmljZSAqZGV2LAogCQkJCVdJUkVEX0NNRF9CVUZfTEVOX1ZFUklG
WV9SRUNFSVZFUl9DRVJUX0lOOwogCiAJdmVyaWZ5X3J4Y2VydF9pbi5wb3J0LmludGVncmF0ZWRf
cG9ydF90eXBlID0gZGF0YS0+cG9ydF90eXBlOwotCXZlcmlmeV9yeGNlcnRfaW4ucG9ydC5waHlz
aWNhbF9wb3J0ID0gbWVpX2dldF9kZGlfaW5kZXgoZGF0YS0+cG9ydCk7CisJdmVyaWZ5X3J4Y2Vy
dF9pbi5wb3J0LnBoeXNpY2FsX3BvcnQgPSAodTgpZGF0YS0+ZndfZGRpOwogCiAJdmVyaWZ5X3J4
Y2VydF9pbi5jZXJ0X3J4ID0gcnhfY2VydC0+Y2VydF9yeDsKIAltZW1jcHkodmVyaWZ5X3J4Y2Vy
dF9pbi5yX3J4LCAmcnhfY2VydC0+cl9yeCwgSERDUF8yXzJfUlJYX0xFTik7CkBAIC0yMDgsNyAr
MTk2LDcgQEAgbWVpX2hkY3BfdmVyaWZ5X2hwcmltZShzdHJ1Y3QgZGV2aWNlICpkZXYsIHN0cnVj
dCBoZGNwX3BvcnRfZGF0YSAqZGF0YSwKIAlzZW5kX2hwcmltZV9pbi5oZWFkZXIuYnVmZmVyX2xl
biA9IFdJUkVEX0NNRF9CVUZfTEVOX0FLRV9TRU5EX0hQUklNRV9JTjsKIAogCXNlbmRfaHByaW1l
X2luLnBvcnQuaW50ZWdyYXRlZF9wb3J0X3R5cGUgPSBkYXRhLT5wb3J0X3R5cGU7Ci0Jc2VuZF9o
cHJpbWVfaW4ucG9ydC5waHlzaWNhbF9wb3J0ID0gbWVpX2dldF9kZGlfaW5kZXgoZGF0YS0+cG9y
dCk7CisJc2VuZF9ocHJpbWVfaW4ucG9ydC5waHlzaWNhbF9wb3J0ID0gKHU4KWRhdGEtPmZ3X2Rk
aTsKIAogCW1lbWNweShzZW5kX2hwcmltZV9pbi5oX3ByaW1lLCByeF9ocHJpbWUtPmhfcHJpbWUs
CiAJICAgICAgIEhEQ1BfMl8yX0hfUFJJTUVfTEVOKTsKQEAgLTI2NSw3ICsyNTMsNyBAQCBtZWlf
aGRjcF9zdG9yZV9wYWlyaW5nX2luZm8oc3RydWN0IGRldmljZSAqZGV2LCBzdHJ1Y3QgaGRjcF9w
b3J0X2RhdGEgKmRhdGEsCiAJCQkJCVdJUkVEX0NNRF9CVUZfTEVOX1NFTkRfUEFJUklOR19JTkZP
X0lOOwogCiAJcGFpcmluZ19pbmZvX2luLnBvcnQuaW50ZWdyYXRlZF9wb3J0X3R5cGUgPSBkYXRh
LT5wb3J0X3R5cGU7Ci0JcGFpcmluZ19pbmZvX2luLnBvcnQucGh5c2ljYWxfcG9ydCA9IG1laV9n
ZXRfZGRpX2luZGV4KGRhdGEtPnBvcnQpOworCXBhaXJpbmdfaW5mb19pbi5wb3J0LnBoeXNpY2Fs
X3BvcnQgPSAodTgpZGF0YS0+ZndfZGRpOwogCiAJbWVtY3B5KHBhaXJpbmdfaW5mb19pbi5lX2to
X2ttLCBwYWlyaW5nX2luZm8tPmVfa2hfa20sCiAJICAgICAgIEhEQ1BfMl8yX0VfS0hfS01fTEVO
KTsKQEAgLTMyMyw3ICszMTEsNyBAQCBtZWlfaGRjcF9pbml0aWF0ZV9sb2NhbGl0eV9jaGVjayhz
dHJ1Y3QgZGV2aWNlICpkZXYsCiAJbGNfaW5pdF9pbi5oZWFkZXIuYnVmZmVyX2xlbiA9IFdJUkVE
X0NNRF9CVUZfTEVOX0lOSVRfTE9DQUxJVFlfQ0hFQ0tfSU47CiAKIAlsY19pbml0X2luLnBvcnQu
aW50ZWdyYXRlZF9wb3J0X3R5cGUgPSBkYXRhLT5wb3J0X3R5cGU7Ci0JbGNfaW5pdF9pbi5wb3J0
LnBoeXNpY2FsX3BvcnQgPSBtZWlfZ2V0X2RkaV9pbmRleChkYXRhLT5wb3J0KTsKKwlsY19pbml0
X2luLnBvcnQucGh5c2ljYWxfcG9ydCA9ICh1OClkYXRhLT5md19kZGk7CiAKIAlieXRlID0gbWVp
X2NsZGV2X3NlbmQoY2xkZXYsICh1OCAqKSZsY19pbml0X2luLCBzaXplb2YobGNfaW5pdF9pbikp
OwogCWlmIChieXRlIDwgMCkgewpAQCAtMzc4LDcgKzM2Niw3IEBAIG1laV9oZGNwX3ZlcmlmeV9s
cHJpbWUoc3RydWN0IGRldmljZSAqZGV2LCBzdHJ1Y3QgaGRjcF9wb3J0X2RhdGEgKmRhdGEsCiAJ
CQkJCVdJUkVEX0NNRF9CVUZfTEVOX1ZBTElEQVRFX0xPQ0FMSVRZX0lOOwogCiAJdmVyaWZ5X2xw
cmltZV9pbi5wb3J0LmludGVncmF0ZWRfcG9ydF90eXBlID0gZGF0YS0+cG9ydF90eXBlOwotCXZl
cmlmeV9scHJpbWVfaW4ucG9ydC5waHlzaWNhbF9wb3J0ID0gbWVpX2dldF9kZGlfaW5kZXgoZGF0
YS0+cG9ydCk7CisJdmVyaWZ5X2xwcmltZV9pbi5wb3J0LnBoeXNpY2FsX3BvcnQgPSAodTgpZGF0
YS0+ZndfZGRpOwogCiAJbWVtY3B5KHZlcmlmeV9scHJpbWVfaW4ubF9wcmltZSwgcnhfbHByaW1l
LT5sX3ByaW1lLAogCSAgICAgICBIRENQXzJfMl9MX1BSSU1FX0xFTik7CkBAIC00MzUsNyArNDIz
LDcgQEAgc3RhdGljIGludCBtZWlfaGRjcF9nZXRfc2Vzc2lvbl9rZXkoc3RydWN0IGRldmljZSAq
ZGV2LAogCWdldF9za2V5X2luLmhlYWRlci5idWZmZXJfbGVuID0gV0lSRURfQ01EX0JVRl9MRU5f
R0VUX1NFU1NJT05fS0VZX0lOOwogCiAJZ2V0X3NrZXlfaW4ucG9ydC5pbnRlZ3JhdGVkX3BvcnRf
dHlwZSA9IGRhdGEtPnBvcnRfdHlwZTsKLQlnZXRfc2tleV9pbi5wb3J0LnBoeXNpY2FsX3BvcnQg
PSBtZWlfZ2V0X2RkaV9pbmRleChkYXRhLT5wb3J0KTsKKwlnZXRfc2tleV9pbi5wb3J0LnBoeXNp
Y2FsX3BvcnQgPSAodTgpZGF0YS0+ZndfZGRpOwogCiAJYnl0ZSA9IG1laV9jbGRldl9zZW5kKGNs
ZGV2LCAodTggKikmZ2V0X3NrZXlfaW4sIHNpemVvZihnZXRfc2tleV9pbikpOwogCWlmIChieXRl
IDwgMCkgewpAQCAtNDk5LDcgKzQ4Nyw3IEBAIG1laV9oZGNwX3JlcGVhdGVyX2NoZWNrX2Zsb3df
cHJlcGFyZV9hY2soc3RydWN0IGRldmljZSAqZGV2LAogCQkJCQlXSVJFRF9DTURfQlVGX0xFTl9W
RVJJRllfUkVQRUFURVJfSU47CiAKIAl2ZXJpZnlfcmVwZWF0ZXJfaW4ucG9ydC5pbnRlZ3JhdGVk
X3BvcnRfdHlwZSA9IGRhdGEtPnBvcnRfdHlwZTsKLQl2ZXJpZnlfcmVwZWF0ZXJfaW4ucG9ydC5w
aHlzaWNhbF9wb3J0ID0gbWVpX2dldF9kZGlfaW5kZXgoZGF0YS0+cG9ydCk7CisJdmVyaWZ5X3Jl
cGVhdGVyX2luLnBvcnQucGh5c2ljYWxfcG9ydCA9ICh1OClkYXRhLT5md19kZGk7CiAKIAltZW1j
cHkodmVyaWZ5X3JlcGVhdGVyX2luLnJ4X2luZm8sIHJlcF90b3BvbG9neS0+cnhfaW5mbywKIAkg
ICAgICAgSERDUF8yXzJfUlhJTkZPX0xFTik7CkBAIC01NjksNyArNTU3LDcgQEAgc3RhdGljIGlu
dCBtZWlfaGRjcF92ZXJpZnlfbXByaW1lKHN0cnVjdCBkZXZpY2UgKmRldiwKIAkJCVdJUkVEX0NN
RF9CVUZfTEVOX1JFUEVBVEVSX0FVVEhfU1RSRUFNX1JFUV9NSU5fSU47CiAKIAl2ZXJpZnlfbXBy
aW1lX2luLnBvcnQuaW50ZWdyYXRlZF9wb3J0X3R5cGUgPSBkYXRhLT5wb3J0X3R5cGU7Ci0JdmVy
aWZ5X21wcmltZV9pbi5wb3J0LnBoeXNpY2FsX3BvcnQgPSBtZWlfZ2V0X2RkaV9pbmRleChkYXRh
LT5wb3J0KTsKKwl2ZXJpZnlfbXByaW1lX2luLnBvcnQucGh5c2ljYWxfcG9ydCA9ICh1OClkYXRh
LT5md19kZGk7CiAKIAltZW1jcHkodmVyaWZ5X21wcmltZV9pbi5tX3ByaW1lLCBzdHJlYW1fcmVh
ZHktPm1fcHJpbWUsCiAJICAgICAgIEhEQ1BfMl8yX01QUklNRV9MRU4pOwpAQCAtNjMwLDcgKzYx
OCw3IEBAIHN0YXRpYyBpbnQgbWVpX2hkY3BfZW5hYmxlX2F1dGhlbnRpY2F0aW9uKHN0cnVjdCBk
ZXZpY2UgKmRldiwKIAllbmFibGVfYXV0aF9pbi5oZWFkZXIuYnVmZmVyX2xlbiA9IFdJUkVEX0NN
RF9CVUZfTEVOX0VOQUJMRV9BVVRIX0lOOwogCiAJZW5hYmxlX2F1dGhfaW4ucG9ydC5pbnRlZ3Jh
dGVkX3BvcnRfdHlwZSA9IGRhdGEtPnBvcnRfdHlwZTsKLQllbmFibGVfYXV0aF9pbi5wb3J0LnBo
eXNpY2FsX3BvcnQgPSBtZWlfZ2V0X2RkaV9pbmRleChkYXRhLT5wb3J0KTsKKwllbmFibGVfYXV0
aF9pbi5wb3J0LnBoeXNpY2FsX3BvcnQgPSAodTgpZGF0YS0+ZndfZGRpOwogCWVuYWJsZV9hdXRo
X2luLnN0cmVhbV90eXBlID0gZGF0YS0+c3RyZWFtc1swXS5zdHJlYW1fdHlwZTsKIAogCWJ5dGUg
PSBtZWlfY2xkZXZfc2VuZChjbGRldiwgKHU4ICopJmVuYWJsZV9hdXRoX2luLApAQCAtNjg0LDcg
KzY3Miw3IEBAIG1laV9oZGNwX2Nsb3NlX3Nlc3Npb24oc3RydWN0IGRldmljZSAqZGV2LCBzdHJ1
Y3QgaGRjcF9wb3J0X2RhdGEgKmRhdGEpCiAJCQkJV0lSRURfQ01EX0JVRl9MRU5fQ0xPU0VfU0VT
U0lPTl9JTjsKIAogCXNlc3Npb25fY2xvc2VfaW4ucG9ydC5pbnRlZ3JhdGVkX3BvcnRfdHlwZSA9
IGRhdGEtPnBvcnRfdHlwZTsKLQlzZXNzaW9uX2Nsb3NlX2luLnBvcnQucGh5c2ljYWxfcG9ydCA9
IG1laV9nZXRfZGRpX2luZGV4KGRhdGEtPnBvcnQpOworCXNlc3Npb25fY2xvc2VfaW4ucG9ydC5w
aHlzaWNhbF9wb3J0ID0gKHU4KWRhdGEtPmZ3X2RkaTsKIAogCWJ5dGUgPSBtZWlfY2xkZXZfc2Vu
ZChjbGRldiwgKHU4ICopJnNlc3Npb25fY2xvc2VfaW4sCiAJCQkgICAgICBzaXplb2Yoc2Vzc2lv
bl9jbG9zZV9pbikpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9taXNjL21laS9oZGNwL21laV9oZGNw
LmggYi9kcml2ZXJzL21pc2MvbWVpL2hkY3AvbWVpX2hkY3AuaAppbmRleCBlNGIxY2Q1NGM4NTMu
LmU2MDI4MmViMmQ0OCAxMDA2NDQKLS0tIGEvZHJpdmVycy9taXNjL21laS9oZGNwL21laV9oZGNw
LmgKKysrIGIvZHJpdmVycy9taXNjL21laS9oZGNwL21laV9oZGNwLmgKQEAgLTM2MiwxNiArMzYy
LDQgQEAgc3RydWN0IHdpcmVkX2NtZF9yZXBlYXRlcl9hdXRoX3N0cmVhbV9yZXFfb3V0IHsKIAlz
dHJ1Y3QgaGRjcF9jbWRfaGVhZGVyCWhlYWRlcjsKIAlzdHJ1Y3QgaGRjcF9wb3J0X2lkCXBvcnQ7
CiB9IF9fcGFja2VkOwotCi1lbnVtIG1laV9md19kZGkgewotCU1FSV9ERElfSU5WQUxJRF9QT1JU
ID0gMHgwLAotCi0JTUVJX0RESV9CID0gMSwKLQlNRUlfRERJX0MsCi0JTUVJX0RESV9ELAotCU1F
SV9ERElfRSwKLQlNRUlfRERJX0YsCi0JTUVJX0RESV9BID0gNywKLQlNRUlfRERJX1JBTkdFX0VO
RCA9IE1FSV9ERElfQSwKLX07CiAjZW5kaWYgLyogX19NRUlfSERDUF9IX18gKi8KZGlmZiAtLWdp
dCBhL2luY2x1ZGUvZHJtL2k5MTVfbWVpX2hkY3BfaW50ZXJmYWNlLmggYi9pbmNsdWRlL2RybS9p
OTE1X21laV9oZGNwX2ludGVyZmFjZS5oCmluZGV4IDhjMzQ0MjU1MTQ2YS4uMDg2NzBhYTY1MGQ0
IDEwMDY0NAotLS0gYS9pbmNsdWRlL2RybS9pOTE1X21laV9oZGNwX2ludGVyZmFjZS5oCisrKyBi
L2luY2x1ZGUvZHJtL2k5MTVfbWVpX2hkY3BfaW50ZXJmYWNlLmgKQEAgLTEsNiArMSw2IEBACiAv
KiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogKEdQTC0yLjArKSAqLwogLyoKLSAqIENvcHlyaWdo
dCDCqSAyMDE3LTIwMTggSW50ZWwgQ29ycG9yYXRpb24KKyAqIENvcHlyaWdodCDCqSAyMDE3LTIw
MTkgSW50ZWwgQ29ycG9yYXRpb24KICAqCiAgKiBBdXRob3JzOgogICogUmFtYWxpbmdhbSBDIDxy
YW1hbGluZ2FtLmNAaW50ZWwuY29tPgpAQCAtNDIsOSArNDIsMjEgQEAgZW51bSBoZGNwX3dpcmVk
X3Byb3RvY29sIHsKIAlIRENQX1BST1RPQ09MX0RQCiB9OwogCitlbnVtIG1laV9md19kZGkgewor
CU1FSV9ERElfSU5WQUxJRF9QT1JUID0gMHgwLAorCisJTUVJX0RESV9CID0gMSwKKwlNRUlfRERJ
X0MsCisJTUVJX0RESV9ELAorCU1FSV9ERElfRSwKKwlNRUlfRERJX0YsCisJTUVJX0RESV9BID0g
NywKKwlNRUlfRERJX1JBTkdFX0VORCA9IE1FSV9ERElfQSwKK307CisKIC8qKgogICogc3RydWN0
IGhkY3BfcG9ydF9kYXRhIC0gaW50ZWwgc3BlY2lmaWMgSERDUCBwb3J0IGRhdGEKLSAqIEBwb3J0
OiBwb3J0IGluZGV4IGFzIHBlciBJOTE1CisgKiBAZndfZGRpOiBkZGkgaW5kZXggYXMgcGVyIE1F
IEZXCiAgKiBAcG9ydF90eXBlOiBIRENQIHBvcnQgdHlwZSBhcyBwZXIgTUUgRlcgY2xhc3NpZmlj
YXRpb24KICAqIEBwcm90b2NvbDogSERDUCBhZGFwdGF0aW9uIGFzIHBlciBNRSBGVwogICogQGs6
IE5vIG9mIHN0cmVhbXMgdHJhbnNtaXR0ZWQgb24gYSBwb3J0LiBPbmx5IG9uIERQIE1TVCB0aGlz
IGlzICE9IDEKQEAgLTU2LDcgKzY4LDcgQEAgZW51bSBoZGNwX3dpcmVkX3Byb3RvY29sIHsKICAq
CSAgICAgc3RyZWFtcwogICovCiBzdHJ1Y3QgaGRjcF9wb3J0X2RhdGEgewotCWVudW0gcG9ydCBw
b3J0OworCWVudW0gbWVpX2Z3X2RkaSBmd19kZGk7CiAJdTggcG9ydF90eXBlOwogCXU4IHByb3Rv
Y29sOwogCXUxNiBrOwotLSAKMi4yMC4xCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5m
cmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0
aW5mby9kcmktZGV2ZWw=
