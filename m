Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 082354B2B1
	for <lists+dri-devel@lfdr.de>; Wed, 19 Jun 2019 09:11:06 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B76306E2C1;
	Wed, 19 Jun 2019 07:10:26 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mo6-p02-ob.smtp.rzone.de (mo6-p02-ob.smtp.rzone.de
 [IPv6:2a01:238:20a:202:5302::7])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B00496E180
 for <dri-devel@lists.freedesktop.org>; Tue, 18 Jun 2019 13:36:13 +0000 (UTC)
X-RZG-AUTH: ":OWANVUa4dPFUgKR/3dpvnYP0Np73amq+g13rqGzmt2bYDnKIKaws6YXTsc4="
X-RZG-CLASS-ID: mo00
Received: from oxapp03-03.back.ox.d0m.de by smtp-ox.front (RZmta 44.24 AUTH)
 with ESMTPSA id h0a328v5IDa61Ex
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-SHA384 (curve X9_62_prime256v1
 with 256 ECDH bits, eq. 3072 bits RSA))
 (Client did not present a certificate);
 Tue, 18 Jun 2019 15:36:06 +0200 (CEST)
Date: Tue, 18 Jun 2019 15:36:06 +0200 (CEST)
From: Ulrich Hecht <uli@fpond.eu>
To: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>,
 dri-devel@lists.freedesktop.org
Message-ID: <2003798727.792594.1560864966711@webmail.strato.com>
In-Reply-To: <20190617210930.6054-9-laurent.pinchart+renesas@ideasonboard.com>
References: <20190617210930.6054-1-laurent.pinchart+renesas@ideasonboard.com>
 <20190617210930.6054-9-laurent.pinchart+renesas@ideasonboard.com>
Subject: Re: [PATCH v3 08/10] drm: rcar-du: Create a group state object
MIME-Version: 1.0
X-Priority: 3
Importance: Medium
X-Mailer: Open-Xchange Mailer v7.8.4-Rev58
X-Originating-IP: 85.212.220.45
X-Originating-Client: open-xchange-appsuite
X-Mailman-Approved-At: Wed, 19 Jun 2019 07:10:14 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 t=1560864971; 
 s=strato-dkim-0002; d=fpond.eu;
 h=Subject:References:In-Reply-To:Message-ID:Cc:To:From:Date:
 X-RZG-CLASS-ID:X-RZG-AUTH:From:Subject:Sender;
 bh=9ozTmPCWNkD85dxiLtzqCpUDP/EyYvgQQPmGjV1+QiY=;
 b=E/lSh/B6mtxMlrCUGvt7M9kA2/sYLPNmdNhFPZRIpQOtzTt1qdPalwEN+ydP4XhcGG
 hLM3sj3t1pnKAUmHD+nmKBMhG5DpVPgrYPOaP/qFR3JrIc3mb5FbG6/NPb8jxzk1aX8C
 9QPrQ8r2yhs9n5GTeYD/zD/0v9xezO/pBex6PjG92N2jFhX7YE+eI6aQ52nywip8XKlb
 Ku61syTGIJstqqv6/7j9advEn2QMNCmF2jl6K0+fGy0D22kfFdiAWi0TkpH3/73e4zpi
 Ohn7zlsju/MvMZYN1sJemdOx88b7CURGe3Kkse6BSSHijRB7uRc9H0KAQUbYNZEw0EoO
 20Zg==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-renesas-soc@vger.kernel.org,
 Kieran Bingham <kieran.bingham@ideasonboard.com>, linux-media@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Cj4gT24gSnVuZSAxNywgMjAxOSBhdCAxMTowOSBQTSBMYXVyZW50IFBpbmNoYXJ0IDxsYXVyZW50
LnBpbmNoYXJ0K3JlbmVzYXNAaWRlYXNvbmJvYXJkLmNvbT4gd3JvdGU6Cj4gCj4gCj4gRnJvbTog
S2llcmFuIEJpbmdoYW0gPGtpZXJhbi5iaW5naGFtK3JlbmVzYXNAaWRlYXNvbmJvYXJkLmNvbT4K
PiAKPiBDcmVhdGUgYSBuZXcgcHJpdmF0ZSBzdGF0ZSBvYmplY3QgZm9yIHRoZSBEVSBncm91cHMs
IGFuZCBtb3ZlIHRoZQo+IGluaXRpYWxpc2F0aW9uIG9mIGEgZ3JvdXAgb2JqZWN0IHRvIGEgbmV3
IGZ1bmN0aW9uIHJjYXJfZHVfZ3JvdXBfaW5pdCgpLgo+IAo+IFNpZ25lZC1vZmYtYnk6IEtpZXJh
biBCaW5naGFtIDxraWVyYW4uYmluZ2hhbStyZW5lc2FzQGlkZWFzb25ib2FyZC5jb20+Cj4gU2ln
bmVkLW9mZi1ieTogTGF1cmVudCBQaW5jaGFydCA8bGF1cmVudC5waW5jaGFydCtyZW5lc2FzQGlk
ZWFzb25ib2FyZC5jb20+Cj4gLS0tCj4gQ2hhbmdlcyBzaW5jZSB2MjoKPiAKPiAtIENhbGwgbXV0
ZXhfZGVzdHJveSgpIHdoZW4gY2xlYW5pbmcgdXAgdGhlIGdyb3VwCj4gLSBJbmNsdWRlIG11dGV4
LmggYW5kIHNsYWIuaAo+IC0gU3F1YXNoICJkcm06IHJjYXItZHU6IEFkZCByY2FyX2R1X2dldF97
b2xkLG5ld31fZ3JvdXBfc3RhdGUoKSIKPiAtLS0KPiAgZHJpdmVycy9ncHUvZHJtL3JjYXItZHUv
cmNhcl9kdV9ncm91cC5jIHwgMTQ0ICsrKysrKysrKysrKysrKysrKysrKysrKwo+ICBkcml2ZXJz
L2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X2dyb3VwLmggfCAgMjkgKysrKysKPiAgZHJpdmVycy9n
cHUvZHJtL3JjYXItZHUvcmNhcl9kdV9rbXMuYyAgIHwgIDI3ICstLS0tCj4gIDMgZmlsZXMgY2hh
bmdlZCwgMTc3IGluc2VydGlvbnMoKyksIDIzIGRlbGV0aW9ucygtKQo+IAo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X2dyb3VwLmMgYi9kcml2ZXJzL2dwdS9k
cm0vcmNhci1kdS9yY2FyX2R1X2dyb3VwLmMKPiBpbmRleCA5ZWVlNDc5NjllNzcuLjhlMTJiZDQy
ODkwZSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X2dyb3Vw
LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X2dyb3VwLmMKPiBAQCAt
MjUsNiArMjUsMTEgQEAKPiAgCj4gICNpbmNsdWRlIDxsaW51eC9jbGsuaD4KPiAgI2luY2x1ZGUg
PGxpbnV4L2lvLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9zbGFiLmg+Cj4gKwo+ICsjaW5jbHVkZSA8
ZHJtL2RybV9hdG9taWMuaD4KPiArI2luY2x1ZGUgPGRybS9kcm1fYXRvbWljX3N0YXRlX2hlbHBl
ci5oPgo+ICsjaW5jbHVkZSA8ZHJtL2RybV9kZXZpY2UuaD4KPiAgCj4gICNpbmNsdWRlICJyY2Fy
X2R1X2Rydi5oIgo+ICAjaW5jbHVkZSAicmNhcl9kdV9ncm91cC5oIgo+IEBAIC0zNTEsMyArMzU2
LDE0MiBAQCBpbnQgcmNhcl9kdV9ncm91cF9zZXRfcm91dGluZyhzdHJ1Y3QgcmNhcl9kdV9ncm91
cCAqcmdycCkKPiAgCj4gIAlyZXR1cm4gcmNhcl9kdV9zZXRfZHBhZDBfdnNwMV9yb3V0aW5nKHJn
cnAtPmRldik7Cj4gIH0KPiArCj4gKy8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCj4gKyAqIEdyb3Vw
IFN0YXRlIEhhbmRsaW5nCj4gKyAqLwo+ICsKPiArc3RhdGljIHN0cnVjdCBkcm1fcHJpdmF0ZV9z
dGF0ZSAqCj4gK3JjYXJfZHVfZ3JvdXBfYXRvbWljX2R1cGxpY2F0ZV9zdGF0ZShzdHJ1Y3QgZHJt
X3ByaXZhdGVfb2JqICpvYmopCj4gK3sKPiArCXN0cnVjdCByY2FyX2R1X2dyb3VwX3N0YXRlICpz
dGF0ZTsKPiArCj4gKwlpZiAoV0FSTl9PTighb2JqLT5zdGF0ZSkpCj4gKwkJcmV0dXJuIE5VTEw7
Cj4gKwo+ICsJc3RhdGUgPSBremFsbG9jKHNpemVvZigqc3RhdGUpLCBHRlBfS0VSTkVMKTsKPiAr
CWlmIChzdGF0ZSA9PSBOVUxMKQo+ICsJCXJldHVybiBOVUxMOwo+ICsKPiArCV9fZHJtX2F0b21p
Y19oZWxwZXJfcHJpdmF0ZV9vYmpfZHVwbGljYXRlX3N0YXRlKG9iaiwgJnN0YXRlLT5zdGF0ZSk7
Cj4gKwo+ICsJcmV0dXJuICZzdGF0ZS0+c3RhdGU7Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lkIHJj
YXJfZHVfZ3JvdXBfYXRvbWljX2Rlc3Ryb3lfc3RhdGUoc3RydWN0IGRybV9wcml2YXRlX29iaiAq
b2JqLAo+ICsJCQkJCSAgICAgICBzdHJ1Y3QgZHJtX3ByaXZhdGVfc3RhdGUgKnN0YXRlKQo+ICt7
Cj4gKwlrZnJlZSh0b19yY2FyX2dyb3VwX3N0YXRlKHN0YXRlKSk7Cj4gK30KPiArCj4gK3N0YXRp
YyBjb25zdCBzdHJ1Y3QgZHJtX3ByaXZhdGVfc3RhdGVfZnVuY3MgcmNhcl9kdV9ncm91cF9zdGF0
ZV9mdW5jcyA9IHsKPiArCS5hdG9taWNfZHVwbGljYXRlX3N0YXRlID0gcmNhcl9kdV9ncm91cF9h
dG9taWNfZHVwbGljYXRlX3N0YXRlLAo+ICsJLmF0b21pY19kZXN0cm95X3N0YXRlID0gcmNhcl9k
dV9ncm91cF9hdG9taWNfZGVzdHJveV9zdGF0ZSwKPiArfTsKPiArCj4gKy8qKgo+ICsgKiByY2Fy
X2R1X2dldF9vbGRfZ3JvdXBfc3RhdGUgLSBnZXQgb2xkIGdyb3VwIHN0YXRlLCBpZiBpdCBleGlz
dHMKPiArICogQHN0YXRlOiBnbG9iYWwgYXRvbWljIHN0YXRlIG9iamVjdAo+ICsgKiBAcmdycDog
Z3JvdXAgdG8gZ3JhYgo+ICsgKgo+ICsgKiBUaGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIG9sZCBn
cm91cCBzdGF0ZSBmb3IgdGhlIGdpdmVuIGdyb3VwLCBvcgo+ICsgKiBOVUxMIGlmIHRoZSBncm91
cCBpcyBub3QgcGFydCBvZiB0aGUgZ2xvYmFsIGF0b21pYyBzdGF0ZS4KPiArICovCj4gK3N0cnVj
dCByY2FyX2R1X2dyb3VwX3N0YXRlICoKPiArcmNhcl9kdV9nZXRfb2xkX2dyb3VwX3N0YXRlKHN0
cnVjdCBkcm1fYXRvbWljX3N0YXRlICpzdGF0ZSwKPiArCQkJICAgIHN0cnVjdCByY2FyX2R1X2dy
b3VwICpyZ3JwKQo+ICt7Cj4gKwlzdHJ1Y3QgZHJtX3ByaXZhdGVfb2JqICpvYmogPSAmcmdycC0+
cHJpdmF0ZTsKPiArCXN0cnVjdCBkcm1fcHJpdmF0ZV9zdGF0ZSAqcHN0YXRlOwo+ICsJdW5zaWdu
ZWQgaW50IGk7Cj4gKwo+ICsJZm9yIChpID0gMDsgaSA8IHN0YXRlLT5udW1fcHJpdmF0ZV9vYmpz
OyBpKyspIHsKPiArCQlpZiAob2JqID09IHN0YXRlLT5wcml2YXRlX29ianNbaV0ucHRyKSB7Cj4g
KwkJCXBzdGF0ZSA9IHN0YXRlLT5wcml2YXRlX29ianNbaV0ub2xkX3N0YXRlOwo+ICsJCQlyZXR1
cm4gdG9fcmNhcl9ncm91cF9zdGF0ZShwc3RhdGUpOwo+ICsJCX0KPiArCX0KPiArCj4gKwlyZXR1
cm4gTlVMTDsKPiArfQo+ICsKPiArLyoqCj4gKyAqIHJjYXJfZHVfZ2V0X25ld19ncm91cF9zdGF0
ZSAtIGdldCBuZXcgZ3JvdXAgc3RhdGUsIGlmIGl0IGV4aXN0cwo+ICsgKiBAc3RhdGU6IGdsb2Jh
bCBhdG9taWMgc3RhdGUgb2JqZWN0Cj4gKyAqIEByZ3JwOiBncm91cCB0byBncmFiCj4gKyAqCj4g
KyAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgbmV3IGdyb3VwIHN0YXRlIGZvciB0aGUgZ2l2
ZW4gZ3JvdXAsIG9yCj4gKyAqIE5VTEwgaWYgdGhlIGdyb3VwIGlzIG5vdCBwYXJ0IG9mIHRoZSBn
bG9iYWwgYXRvbWljIHN0YXRlLgo+ICsgKi8KPiArc3RydWN0IHJjYXJfZHVfZ3JvdXBfc3RhdGUg
Kgo+ICtyY2FyX2R1X2dldF9uZXdfZ3JvdXBfc3RhdGUoc3RydWN0IGRybV9hdG9taWNfc3RhdGUg
KnN0YXRlLAo+ICsJCQkgICAgc3RydWN0IHJjYXJfZHVfZ3JvdXAgKnJncnApCj4gK3sKPiArCXN0
cnVjdCBkcm1fcHJpdmF0ZV9vYmogKm9iaiA9ICZyZ3JwLT5wcml2YXRlOwo+ICsJc3RydWN0IGRy
bV9wcml2YXRlX3N0YXRlICpwc3RhdGU7Cj4gKwl1bnNpZ25lZCBpbnQgaTsKPiArCj4gKwlmb3Ig
KGkgPSAwOyBpIDwgc3RhdGUtPm51bV9wcml2YXRlX29ianM7IGkrKykgewo+ICsJCWlmIChvYmog
PT0gc3RhdGUtPnByaXZhdGVfb2Jqc1tpXS5wdHIpIHsKPiArCQkJcHN0YXRlID0gc3RhdGUtPnBy
aXZhdGVfb2Jqc1tpXS5uZXdfc3RhdGU7Cj4gKwkJCXJldHVybiB0b19yY2FyX2dyb3VwX3N0YXRl
KHBzdGF0ZSk7Cj4gKwkJfQo+ICsJfQo+ICsKPiArCXJldHVybiBOVUxMOwo+ICt9Cj4gKwo+ICsv
KiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLQo+ICsgKiBJbml0IGFuZCBDbGVhbnVwCj4gKyAqLwo+ICsK
PiArLyoKPiArICogcmNhcl9kdV9ncm91cF9pbml0IC0gSW5pdGlhbGlzZSBhbmQgcmVzZXQgYSBn
cm91cCBvYmplY3QKPiArICoKPiArICogUmV0dXJuIDAgaW4gY2FzZSBvZiBzdWNjZXNzIG9yIGEg
bmVnYXRpdmUgZXJyb3IgY29kZSBvdGhlcndpc2UuCj4gKyAqLwo+ICtpbnQgcmNhcl9kdV9ncm91
cF9pbml0KHN0cnVjdCByY2FyX2R1X2RldmljZSAqcmNkdSwgc3RydWN0IHJjYXJfZHVfZ3JvdXAg
KnJncnAsCj4gKwkJICAgICAgIHVuc2lnbmVkIGludCBpbmRleCkKPiArewo+ICsJc3RhdGljIGNv
bnN0IHVuc2lnbmVkIGludCBtbWlvX29mZnNldHNbXSA9IHsKPiArCQlEVTBfUkVHX09GRlNFVCwg
RFUyX1JFR19PRkZTRVQKPiArCX07Cj4gKwo+ICsJc3RydWN0IHJjYXJfZHVfZ3JvdXBfc3RhdGUg
KnN0YXRlOwo+ICsKPiArCXN0YXRlID0ga3phbGxvYyhzaXplb2YoKnN0YXRlKSwgR0ZQX0tFUk5F
TCk7Cj4gKwlpZiAoIXN0YXRlKQo+ICsJCXJldHVybiAtRU5PTUVNOwo+ICsKPiArCWRybV9hdG9t
aWNfcHJpdmF0ZV9vYmpfaW5pdChyY2R1LT5kZGV2LCAmcmdycC0+cHJpdmF0ZSwgJnN0YXRlLT5z
dGF0ZSwKPiArCQkJCSAgICAmcmNhcl9kdV9ncm91cF9zdGF0ZV9mdW5jcyk7Cj4gKwo+ICsJbXV0
ZXhfaW5pdCgmcmdycC0+bG9jayk7Cj4gKwo+ICsJcmdycC0+ZGV2ID0gcmNkdTsKPiArCXJncnAt
Pm1taW9fb2Zmc2V0ID0gbW1pb19vZmZzZXRzW2luZGV4XTsKPiArCXJncnAtPmluZGV4ID0gaW5k
ZXg7Cj4gKwkvKiBFeHRyYWN0IHRoZSBjaGFubmVsIG1hc2sgZm9yIHRoaXMgZ3JvdXAgb25seS4g
Ki8KPiArCXJncnAtPmNoYW5uZWxzX21hc2sgPSAocmNkdS0+aW5mby0+Y2hhbm5lbHNfbWFzayA+
PiAoMiAqIGluZGV4KSkKPiArCQkJICAgICYgR0VOTUFTSygxLCAwKTsKPiArCXJncnAtPm51bV9j
cnRjcyA9IGh3ZWlnaHQ4KHJncnAtPmNoYW5uZWxzX21hc2spOwo+ICsKPiArCS8qCj4gKwkgKiBJ
ZiB3ZSBoYXZlIG1vcmUgdGhhbiBvbmUgQ1JUQyBpbiB0aGlzIGdyb3VwIHByZS1hc3NvY2lhdGUK
PiArCSAqIHRoZSBsb3ctb3JkZXIgcGxhbmVzIHdpdGggQ1JUQyAwIGFuZCB0aGUgaGlnaC1vcmRl
ciBwbGFuZXMKPiArCSAqIHdpdGggQ1JUQyAxIHRvIG1pbmltaXplIGZsaWNrZXIgb2NjdXJyaW5n
IHdoZW4gdGhlCj4gKwkgKiBhc3NvY2lhdGlvbiBpcyBjaGFuZ2VkLgo+ICsJICovCj4gKwlyZ3Jw
LT5kcHRzcl9wbGFuZXMgPSByZ3JwLT5udW1fY3J0Y3MgPiAxCj4gKwkJCSAgID8gKHJjZHUtPmlu
Zm8tPmdlbiA+PSAzID8gMHgwNCA6IDB4ZjApCj4gKwkJCSAgIDogMDsKPiArCj4gKwlyZXR1cm4g
MDsKPiArfQo+ICsKPiArdm9pZCByY2FyX2R1X2dyb3VwX2NsZWFudXAoc3RydWN0IHJjYXJfZHVf
Z3JvdXAgKnJncnApCj4gK3sKPiArCW11dGV4X2Rlc3Ryb3koJnJncnAtPmxvY2spOwo+ICsKPiAr
CWRybV9hdG9taWNfcHJpdmF0ZV9vYmpfZmluaSgmcmdycC0+cHJpdmF0ZSk7Cj4gK30KPiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9ncm91cC5oIGIvZHJpdmVy
cy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9ncm91cC5oCj4gaW5kZXggODc5NTBjMWY2YTUyLi5m
OTk2MWY4OWZkOTcgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9k
dV9ncm91cC5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9ncm91cC5o
Cj4gQEAgLTEyLDEyICsxMiwxNSBAQAo+ICAKPiAgI2luY2x1ZGUgPGxpbnV4L211dGV4Lmg+Cj4g
IAo+ICsjaW5jbHVkZSA8ZHJtL2RybV9hdG9taWMuaD4KPiArCj4gICNpbmNsdWRlICJyY2FyX2R1
X3BsYW5lLmgiCj4gIAo+ICBzdHJ1Y3QgcmNhcl9kdV9kZXZpY2U7Cj4gIAo+ICAvKgo+ICAgKiBz
dHJ1Y3QgcmNhcl9kdV9ncm91cCAtIENSVENzIGFuZCBwbGFuZXMgZ3JvdXAKPiArICogQHByaXZh
dGU6IFRoZSBiYXNlIGRybSBwcml2YXRlIG9iamVjdAo+ICAgKiBAZGV2OiB0aGUgRFUgZGV2aWNl
Cj4gICAqIEBtbWlvX29mZnNldDogcmVnaXN0ZXJzIG9mZnNldCBpbiB0aGUgZGV2aWNlIG1lbW9y
eSBtYXAKPiAgICogQGluZGV4OiBncm91cCBpbmRleAo+IEBAIC0zMiw2ICszNSw4IEBAIHN0cnVj
dCByY2FyX2R1X2RldmljZTsKPiAgICogQG5lZWRfcmVzdGFydDogdGhlIGdyb3VwIG5lZWRzIHRv
IGJlIHJlc3RhcnRlZCBkdWUgdG8gYSBjb25maWd1cmF0aW9uIGNoYW5nZQo+ICAgKi8KPiAgc3Ry
dWN0IHJjYXJfZHVfZ3JvdXAgewo+ICsJc3RydWN0IGRybV9wcml2YXRlX29iaiBwcml2YXRlOwo+
ICsKPiAgCXN0cnVjdCByY2FyX2R1X2RldmljZSAqZGV2Owo+ICAJdW5zaWduZWQgaW50IG1taW9f
b2Zmc2V0Owo+ICAJdW5zaWduZWQgaW50IGluZGV4Owo+IEBAIC00OSw2ICs1NCwxOSBAQCBzdHJ1
Y3QgcmNhcl9kdV9ncm91cCB7Cj4gIAlib29sIG5lZWRfcmVzdGFydDsKPiAgfTsKPiAgCj4gKyNk
ZWZpbmUgdG9fcmNhcl9ncm91cChzKSBjb250YWluZXJfb2Yocywgc3RydWN0IHJjYXJfZHVfZ3Jv
dXAsIHByaXZhdGUpCj4gKwo+ICsvKioKPiArICogc3RydWN0IHJjYXJfZHVfZ3JvdXBfc3RhdGUg
LSBEcml2ZXItc3BlY2lmaWMgZ3JvdXAgc3RhdGUKPiArICogQHN0YXRlOiBiYXNlIERSTSBwcml2
YXRlIHN0YXRlCj4gKyAqLwo+ICtzdHJ1Y3QgcmNhcl9kdV9ncm91cF9zdGF0ZSB7Cj4gKwlzdHJ1
Y3QgZHJtX3ByaXZhdGVfc3RhdGUgc3RhdGU7Cj4gK307Cj4gKwo+ICsjZGVmaW5lIHRvX3JjYXJf
Z3JvdXBfc3RhdGUocykgXAo+ICsJY29udGFpbmVyX29mKHMsIHN0cnVjdCByY2FyX2R1X2dyb3Vw
X3N0YXRlLCBzdGF0ZSkKPiArCj4gIHUzMiByY2FyX2R1X2dyb3VwX3JlYWQoc3RydWN0IHJjYXJf
ZHVfZ3JvdXAgKnJncnAsIHUzMiByZWcpOwo+ICB2b2lkIHJjYXJfZHVfZ3JvdXBfd3JpdGUoc3Ry
dWN0IHJjYXJfZHVfZ3JvdXAgKnJncnAsIHUzMiByZWcsIHUzMiBkYXRhKTsKPiAgCj4gQEAgLTYw
LDQgKzc4LDE1IEBAIGludCByY2FyX2R1X2dyb3VwX3NldF9yb3V0aW5nKHN0cnVjdCByY2FyX2R1
X2dyb3VwICpyZ3JwKTsKPiAgCj4gIGludCByY2FyX2R1X3NldF9kcGFkMF92c3AxX3JvdXRpbmco
c3RydWN0IHJjYXJfZHVfZGV2aWNlICpyY2R1KTsKPiAgCj4gK3N0cnVjdCByY2FyX2R1X2dyb3Vw
X3N0YXRlICoKPiArcmNhcl9kdV9nZXRfb2xkX2dyb3VwX3N0YXRlKHN0cnVjdCBkcm1fYXRvbWlj
X3N0YXRlICpzdGF0ZSwKPiArCQkJICAgIHN0cnVjdCByY2FyX2R1X2dyb3VwICpyZ3JwKTsKPiAr
c3RydWN0IHJjYXJfZHVfZ3JvdXBfc3RhdGUgKgo+ICtyY2FyX2R1X2dldF9uZXdfZ3JvdXBfc3Rh
dGUoc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnN0YXRlLAo+ICsJCQkgICAgc3RydWN0IHJjYXJf
ZHVfZ3JvdXAgKnJncnApOwo+ICsKPiAraW50IHJjYXJfZHVfZ3JvdXBfaW5pdChzdHJ1Y3QgcmNh
cl9kdV9kZXZpY2UgKnJjZHUsIHN0cnVjdCByY2FyX2R1X2dyb3VwICpyZ3JwLAo+ICsJCSAgICAg
ICB1bnNpZ25lZCBpbnQgaW5kZXgpOwo+ICt2b2lkIHJjYXJfZHVfZ3JvdXBfY2xlYW51cChzdHJ1
Y3QgcmNhcl9kdV9ncm91cCAqcmdycCk7Cj4gKwo+ICAjZW5kaWYgLyogX19SQ0FSX0RVX0dST1VQ
X0hfXyAqLwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X2tt
cy5jIGIvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9rbXMuYwo+IGluZGV4IGMwNDEz
NjY3NGU1OC4uZjU3YTAzNWE5NGVlIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9yY2Fy
LWR1L3JjYXJfZHVfa21zLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1
X2ttcy5jCj4gQEAgLTIzLDYgKzIzLDcgQEAKPiAgI2luY2x1ZGUgInJjYXJfZHVfY3J0Yy5oIgo+
ICAjaW5jbHVkZSAicmNhcl9kdV9kcnYuaCIKPiAgI2luY2x1ZGUgInJjYXJfZHVfZW5jb2Rlci5o
Igo+ICsjaW5jbHVkZSAicmNhcl9kdV9ncm91cC5oIgo+ICAjaW5jbHVkZSAicmNhcl9kdV9rbXMu
aCIKPiAgI2luY2x1ZGUgInJjYXJfZHVfcmVncy5oIgo+ICAjaW5jbHVkZSAicmNhcl9kdV92c3Au
aCIKPiBAQCAtNjIxLDEwICs2MjIsNiBAQCBzdGF0aWMgaW50IHJjYXJfZHVfdnNwc19pbml0KHN0
cnVjdCByY2FyX2R1X2RldmljZSAqcmNkdSkKPiAgCj4gIGludCByY2FyX2R1X21vZGVzZXRfaW5p
dChzdHJ1Y3QgcmNhcl9kdV9kZXZpY2UgKnJjZHUpCj4gIHsKPiAtCXN0YXRpYyBjb25zdCB1bnNp
Z25lZCBpbnQgbW1pb19vZmZzZXRzW10gPSB7Cj4gLQkJRFUwX1JFR19PRkZTRVQsIERVMl9SRUdf
T0ZGU0VUCj4gLQl9Owo+IC0KPiAgCXN0cnVjdCBkcm1fZGV2aWNlICpkZXYgPSByY2R1LT5kZGV2
Owo+ICAJc3RydWN0IGRybV9lbmNvZGVyICplbmNvZGVyOwo+ICAJc3RydWN0IHJjYXJfZHVfZ3Jv
dXAgKnJncnA7Cj4gQEAgLTY3MSwyNSArNjY4LDkgQEAgaW50IHJjYXJfZHVfbW9kZXNldF9pbml0
KHN0cnVjdCByY2FyX2R1X2RldmljZSAqcmNkdSkKPiAgCj4gIAkvKiBJbml0aWFsaXplIHRoZSBn
cm91cHMuICovCj4gIAlmb3JfZWFjaF9yY2R1X2dyb3VwKHJjZHUsIHJncnAsIGkpIHsKPiAtCQlt
dXRleF9pbml0KCZyZ3JwLT5sb2NrKTsKPiAtCj4gLQkJcmdycC0+ZGV2ID0gcmNkdTsKPiAtCQly
Z3JwLT5tbWlvX29mZnNldCA9IG1taW9fb2Zmc2V0c1tpXTsKPiAtCQlyZ3JwLT5pbmRleCA9IGk7
Cj4gLQkJLyogRXh0cmFjdCB0aGUgY2hhbm5lbCBtYXNrIGZvciB0aGlzIGdyb3VwIG9ubHkuICov
Cj4gLQkJcmdycC0+Y2hhbm5lbHNfbWFzayA9IChyY2R1LT5pbmZvLT5jaGFubmVsc19tYXNrID4+
ICgyICogaSkpCj4gLQkJCQkgICAmIEdFTk1BU0soMSwgMCk7Cj4gLQkJcmdycC0+bnVtX2NydGNz
ID0gaHdlaWdodDgocmdycC0+Y2hhbm5lbHNfbWFzayk7Cj4gLQo+IC0JCS8qCj4gLQkJICogSWYg
d2UgaGF2ZSBtb3JlIHRoYW4gb25lIENSVENzIGluIHRoaXMgZ3JvdXAgcHJlLWFzc29jaWF0ZQo+
IC0JCSAqIHRoZSBsb3ctb3JkZXIgcGxhbmVzIHdpdGggQ1JUQyAwIGFuZCB0aGUgaGlnaC1vcmRl
ciBwbGFuZXMKPiAtCQkgKiB3aXRoIENSVEMgMSB0byBtaW5pbWl6ZSBmbGlja2VyIG9jY3Vycmlu
ZyB3aGVuIHRoZQo+IC0JCSAqIGFzc29jaWF0aW9uIGlzIGNoYW5nZWQuCj4gLQkJICovCj4gLQkJ
cmdycC0+ZHB0c3JfcGxhbmVzID0gcmdycC0+bnVtX2NydGNzID4gMQo+IC0JCQkJICAgPyAocmNk
dS0+aW5mby0+Z2VuID49IDMgPyAweDA0IDogMHhmMCkKPiAtCQkJCSAgIDogMDsKPiArCQlyZXQg
PSByY2FyX2R1X2dyb3VwX2luaXQocmNkdSwgcmdycCwgaSk7Cj4gKwkJaWYgKHJldCA8IDApCj4g
KwkJCXJldHVybiByZXQ7Cj4gIAo+ICAJCWlmICghcmNhcl9kdV9oYXMocmNkdSwgUkNBUl9EVV9G
RUFUVVJFX1ZTUDFfU09VUkNFKSkgewo+ICAJCQlyZXQgPSByY2FyX2R1X3BsYW5lc19pbml0KHJn
cnApOwo+IC0tIAo+IFJlZ2FyZHMsCj4gCj4gTGF1cmVudCBQaW5jaGFydAo+CgpSZXZpZXdlZC1i
eTogVWxyaWNoIEhlY2h0IDx1bGkrcmVuZXNhc0BmcG9uZC5ldT4KCkNVClVsaQpfX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBs
aXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVz
a3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
