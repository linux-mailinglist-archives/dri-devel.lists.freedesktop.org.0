Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id E63839514F
	for <lists+dri-devel@lfdr.de>; Tue, 20 Aug 2019 01:04:04 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 103306E47C;
	Mon, 19 Aug 2019 23:03:56 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-pl1-x642.google.com (mail-pl1-x642.google.com
 [IPv6:2607:f8b0:4864:20::642])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7533D6E47C
 for <dri-devel@lists.freedesktop.org>; Mon, 19 Aug 2019 23:03:50 +0000 (UTC)
Received: by mail-pl1-x642.google.com with SMTP id m9so1678933pls.8
 for <dri-devel@lists.freedesktop.org>; Mon, 19 Aug 2019 16:03:50 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references;
 bh=BGaZCHgDYd2hveQf3FIs87y4ItjrwpXVDJprgquPOWQ=;
 b=awZcyAHo/fP4bqpdHiWPqtS1tHCgsLX5zX4nuNDkNeiXSYhbtYBasWCKCa+bxwpE2q
 sIfXdO4WXd4/sYd/4grMyaDLOHr+eIi08jCPYBOtisd0lvKiBIFtP2bfZKc+9ZgzTef3
 NiAmn9AXcmtWjo1hXQtniuU7HvY7jqu5Zo4zlRMiBMab5t2RunLys/bLt9NlIClUkVSd
 fs5XkifE3UKOPYNwXRO3KpbpSryp3zsE5X7q2w0ot/CN5ej0T50TFbirUApfIfBVd12L
 MQ+cwVlCkWK25icQdQLlSIVCqKDXRl5swipLkU9H44jDxn70QgOpHdv3CnB/EEicoB/4
 Fdpw==
X-Gm-Message-State: APjAAAVsiqcN9o12DtBNyijCKGE+fkKCw87D8E19mdfgOYOQxuLBZ8vw
 sGWnEiNSi/9sT4NifUj9UYDy2w==
X-Google-Smtp-Source: APXvYqz71dgcZoZ4RdSSvpDEAXlxbSAJ9jAS4G7wNm+chbPz8rUdCZt5PGcwWvgDU8KRYoVLnakEBQ==
X-Received: by 2002:a17:902:24c:: with SMTP id
 70mr16581568plc.331.1566255829603; 
 Mon, 19 Aug 2019 16:03:49 -0700 (PDT)
Received: from localhost.localdomain ([2601:1c2:680:1319:692:26ff:feda:3a81])
 by smtp.gmail.com with ESMTPSA id
 j15sm17256509pfr.146.2019.08.19.16.03.48
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Mon, 19 Aug 2019 16:03:48 -0700 (PDT)
From: John Stultz <john.stultz@linaro.org>
To: lkml <linux-kernel@vger.kernel.org>
Subject: [PATCH v4 16/25] drm: kirin: Move plane number and primay plane in
 driver data
Date: Mon, 19 Aug 2019 23:03:12 +0000
Message-Id: <20190819230321.56480-17-john.stultz@linaro.org>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20190819230321.56480-1-john.stultz@linaro.org>
References: <20190819230321.56480-1-john.stultz@linaro.org>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=linaro.org; s=google;
 h=from:to:cc:subject:date:message-id:in-reply-to:references;
 bh=BGaZCHgDYd2hveQf3FIs87y4ItjrwpXVDJprgquPOWQ=;
 b=PBubEr9VLwe1O9i3u/1JpUbVWWVRe1sxgiti5t0bnIge4DbaYL+kNfFfr3IABo14vj
 Ncm9oya3aCG/2Y3Ey3oeC9b/qL8vZmHf8ia/uSGf57tOM6njQfvPd6r9duKDKQ3D3pqH
 rWidoMoYtbrsmy0PsZWEPMlTynETHD2DplN8jFwztf/vFyYlPEYFe3t9SuTcTCW0G1ic
 094wbNixvL8via6KTKj5jJFwHa9ktPlmrWCXOT2RwqThxjXSgVg2M8WxXD1vFvACKL4W
 OiqlUl0/TaN8fRgAGqXjKANQz5oaahR15ABy6uRTbkvplNTXlOuT3Qbv9L7iyzjaSIDr
 T6Pw==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Xu YiPing <xuyiping@hisilicon.com>, David Airlie <airlied@linux.ie>,
 dri-devel <dri-devel@lists.freedesktop.org>,
 Xinliang Liu <z.liuxinliang@hisilicon.com>,
 Rongrong Zou <zourongrong@gmail.com>, Sam Ravnborg <sam@ravnborg.org>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogWHUgWWlQaW5nIDx4dXlpcGluZ0BoaXNpbGljb24uY29tPgoKQXMgcGFydCBvZiByZWZh
Y3RvcmluZyB0aGUga2lyaW4gZHJpdmVyIHRvIGJldHRlciBzdXBwb3J0CmRpZmZlcmVudCBoYXJk
d2FyZSByZXZpc2lvbnMsIHRoaXMgcGF0Y2ggbW92ZXMgdGhlIG51bWJlciBvZgpwbGFuZXMgYW5k
IHRoZSBwcmltYXJ5IHBsYW5lIHZhbHVlIHRvIHRoZSBraXJpbl9kcm1fZGF0YQpzdHJ1Y3R1cmUK
ClRoaXMgd2lsbCBtYWtlIGl0IGVhc2llciB0byBhZGQgc3VwcG9ydCBmb3IgbmV3IGRldmljZXMK
dmlhIGEgbmV3IGtpcmluX2RybV9kYXRhIHN0cnVjdHVyZS4KCkNjOiBSb25ncm9uZyBab3UgPHpv
dXJvbmdyb25nQGdtYWlsLmNvbT4KQ2M6IFhpbmxpYW5nIExpdSA8ei5saXV4aW5saWFuZ0BoaXNp
bGljb24uY29tPgpDYzogRGF2aWQgQWlybGllIDxhaXJsaWVkQGxpbnV4LmllPgpDYzogRGFuaWVs
IFZldHRlciA8ZGFuaWVsQGZmd2xsLmNoPgpDYzogZHJpLWRldmVsIDxkcmktZGV2ZWxAbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnPgpDYzogU2FtIFJhdm5ib3JnIDxzYW1AcmF2bmJvcmcub3JnPgpBY2tl
ZC1ieTogWGlubGlhbmcgTGl1IDx6LmxpdXhpbmxpYW5nQGhpc2lsaWNvbi5jb20+ClJldmlld2Vk
LWJ5OiBTYW0gUmF2bmJvcmcgPHNhbUByYXZuYm9yZy5vcmc+ClNpZ25lZC1vZmYtYnk6IFh1IFlp
UGluZyA8eHV5aXBpbmdAaGlzaWxpY29uLmNvbT4KU2lnbmVkLW9mZi1ieTogSm9obiBTdHVsdHog
PGpvaG4uc3R1bHR6QGxpbmFyby5vcmc+Ci0tLQogLi4uL2dwdS9kcm0vaGlzaWxpY29uL2tpcmlu
L2tpcmluX2RybV9hZGUuYyAgIHwgMjEgKysrKysrKysrKysrLS0tLS0tLQogLi4uL2dwdS9kcm0v
aGlzaWxpY29uL2tpcmluL2tpcmluX2RybV9kcnYuaCAgIHwgIDIgKysKIDIgZmlsZXMgY2hhbmdl
ZCwgMTUgaW5zZXJ0aW9ucygrKSwgOCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaGlzaWxpY29uL2tpcmluL2tpcmluX2RybV9hZGUuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9oaXNpbGljb24va2lyaW4va2lyaW5fZHJtX2FkZS5jCmluZGV4IDQwMDFmMDYwZTU4MC4uOGIx
ZjM1ODBjYmQ2IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaGlzaWxpY29uL2tpcmluL2tp
cmluX2RybV9hZGUuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaGlzaWxpY29uL2tpcmluL2tpcmlu
X2RybV9hZGUuYwpAQCAtMzUsNyArMzUsNiBAQAogI2luY2x1ZGUgImtpcmluX2RybV9kcnYuaCIK
ICNpbmNsdWRlICJraXJpbl9hZGVfcmVnLmgiCiAKLSNkZWZpbmUgUFJJTUFSWV9DSAlBREVfQ0gx
IC8qIHByaW1hcnkgcGxhbmUgKi8KICNkZWZpbmUgT1VUX09WTFkJQURFX09WTFkyIC8qIG91dHB1
dCBvdmVybGF5IGNvbXBvc2l0b3IgKi8KICNkZWZpbmUgQURFX0RFQlVHCTEKIApAQCAtOTkxLDcg
Kzk5MCw3IEBAIHN0YXRpYyBpbnQgYWRlX2RybV9pbml0KHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2Ug
KnBkZXYpCiAJc3RydWN0IGtpcmluX3BsYW5lICprcGxhbmU7CiAJZW51bSBkcm1fcGxhbmVfdHlw
ZSB0eXBlOwogCWludCByZXQ7Ci0JaW50IGk7CisJdTMyIGNoOwogCiAJYWRlID0gZGV2bV9remFs
bG9jKGRldi0+ZGV2LCBzaXplb2YoKmFkZSksIEdGUF9LRVJORUwpOwogCWlmICghYWRlKSB7CkBA
IC0xMDE1LDEyICsxMDE0LDE1IEBAIHN0YXRpYyBpbnQgYWRlX2RybV9pbml0KHN0cnVjdCBwbGF0
Zm9ybV9kZXZpY2UgKnBkZXYpCiAJICogVE9ETzogTm93IG9ubHkgc3VwcG9ydCBwcmltYXJ5IHBs
YW5lLCBvdmVybGF5IHBsYW5lcwogCSAqIG5lZWQgdG8gZG8uCiAJICovCi0JZm9yIChpID0gMDsg
aSA8IEFERV9DSF9OVU07IGkrKykgewotCQlrcGxhbmUgPSAmYWRlLT5wbGFuZXNbaV07Ci0JCWtw
bGFuZS0+Y2ggPSBpOworCWZvciAoY2ggPSAwOyBjaCA8IGFkZV9kcml2ZXJfZGF0YS5udW1fcGxh
bmVzOyBjaCsrKSB7CisJCWtwbGFuZSA9ICZhZGUtPnBsYW5lc1tjaF07CisJCWtwbGFuZS0+Y2gg
PSBjaDsKIAkJa3BsYW5lLT5od19jdHggPSBjdHg7Ci0JCXR5cGUgPSBpID09IFBSSU1BUllfQ0gg
PyBEUk1fUExBTkVfVFlQRV9QUklNQVJZIDoKLQkJCURSTV9QTEFORV9UWVBFX09WRVJMQVk7CisK
KwkJaWYgKGNoID09IGFkZV9kcml2ZXJfZGF0YS5wcmltX3BsYW5lKQorCQkJdHlwZSA9IERSTV9Q
TEFORV9UWVBFX1BSSU1BUlk7CisJCWVsc2UKKwkJCXR5cGUgPSBEUk1fUExBTkVfVFlQRV9PVkVS
TEFZOwogCiAJCXJldCA9IGFkZV9wbGFuZV9pbml0KGRldiwga3BsYW5lLCB0eXBlKTsKIAkJaWYg
KHJldCkKQEAgLTEwMjgsNyArMTAzMCw4IEBAIHN0YXRpYyBpbnQgYWRlX2RybV9pbml0KHN0cnVj
dCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCiAJfQogCiAJLyogY3J0YyBpbml0ICovCi0JcmV0ID0g
YWRlX2NydGNfaW5pdChkZXYsICZrY3J0Yy0+YmFzZSwgJmFkZS0+cGxhbmVzW1BSSU1BUllfQ0hd
LmJhc2UpOworCXJldCA9IGFkZV9jcnRjX2luaXQoZGV2LCAma2NydGMtPmJhc2UsCisJCQkJJmFk
ZS0+cGxhbmVzW2FkZV9kcml2ZXJfZGF0YS5wcmltX3BsYW5lXS5iYXNlKTsKIAlpZiAocmV0KQog
CQlyZXR1cm4gcmV0OwogCkBAIC0xMDQ3LDYgKzEwNTAsOCBAQCBzdGF0aWMgY29uc3Qgc3RydWN0
IGRybV9tb2RlX2NvbmZpZ19mdW5jcyBhZGVfbW9kZV9jb25maWdfZnVuY3MgPSB7CiB9OwogCiBz
dHJ1Y3Qga2lyaW5fZHJtX2RhdGEgYWRlX2RyaXZlcl9kYXRhID0geworCS5udW1fcGxhbmVzID0g
QURFX0NIX05VTSwKKwkucHJpbV9wbGFuZSA9IEFERV9DSDEsCiAJLmNoYW5uZWxfZm9ybWF0cyA9
IGNoYW5uZWxfZm9ybWF0cywKIAkuY2hhbm5lbF9mb3JtYXRzX2NudCA9IEFSUkFZX1NJWkUoY2hh
bm5lbF9mb3JtYXRzKSwKIAkuY3J0Y19oZWxwZXJfZnVuY3MgPSAmYWRlX2NydGNfaGVscGVyX2Z1
bmNzLApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2hpc2lsaWNvbi9raXJpbi9raXJpbl9k
cm1fZHJ2LmggYi9kcml2ZXJzL2dwdS9kcm0vaGlzaWxpY29uL2tpcmluL2tpcmluX2RybV9kcnYu
aAppbmRleCBjZTlkZGNjYzY3YTguLjJiNjYwZGY2MDI5MyAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2hpc2lsaWNvbi9raXJpbi9raXJpbl9kcm1fZHJ2LmgKKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2hpc2lsaWNvbi9raXJpbi9raXJpbl9kcm1fZHJ2LmgKQEAgLTM3LDYgKzM3LDggQEAgc3Ry
dWN0IGtpcmluX3BsYW5lIHsKIHN0cnVjdCBraXJpbl9kcm1fZGF0YSB7CiAJY29uc3QgdTMyICpj
aGFubmVsX2Zvcm1hdHM7CiAJdTMyIGNoYW5uZWxfZm9ybWF0c19jbnQ7CisJdTMyIG51bV9wbGFu
ZXM7CisJdTMyIHByaW1fcGxhbmU7CiAKIAljb25zdCBzdHJ1Y3QgZHJtX2NydGNfaGVscGVyX2Z1
bmNzICpjcnRjX2hlbHBlcl9mdW5jczsKIAljb25zdCBzdHJ1Y3QgZHJtX2NydGNfZnVuY3MgKmNy
dGNfZnVuY3M7Ci0tIAoyLjE3LjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVk
ZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZv
L2RyaS1kZXZlbA==
