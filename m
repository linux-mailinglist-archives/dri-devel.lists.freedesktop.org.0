Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id C86AE1901AD
	for <lists+dri-devel@lfdr.de>; Tue, 24 Mar 2020 00:13:27 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id DD8AD6E42C;
	Mon, 23 Mar 2020 23:13:25 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wm1-x343.google.com (mail-wm1-x343.google.com
 [IPv6:2a00:1450:4864:20::343])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 6FB6D6E40F
 for <dri-devel@lists.freedesktop.org>; Mon, 23 Mar 2020 23:12:46 +0000 (UTC)
Received: by mail-wm1-x343.google.com with SMTP id d1so1552791wmb.2
 for <dri-devel@lists.freedesktop.org>; Mon, 23 Mar 2020 16:12:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=zbuUmjTfzz7Ws45IuzerfwfPtV0B/bPR4X08mKXwyPc=;
 b=BvI+3kG5V1YH1hfrIAKkzwrkiDa+85yP08WNHNNbLZnE6fMnX1XqDCQnuPOVRNBz8O
 kpH0R5pDqWNTCKm/mBNfeWU6W0apPd8iZko7r2o4vPXaOlfAK8JZuRuaW6yYIkXkVacc
 QW79VZIjwTTZqMsDXVRrvEr6MDrMetbYI+jV8XadxtSbo3z1ECBM0G8KAg1uw6M2msQi
 uyCHfVfx/B4srAFWBIOAahnJy1Yt6Vf057fgWhpoipQm2MItvI/c0061CZtroSHfrVqu
 yc/EuCSp61xBfYdnL0cvfs+NfRtyLWxOc8d8P7dYNAJTgLOZ4S4WtdM+o8HEkKhoIqlM
 doFQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=zbuUmjTfzz7Ws45IuzerfwfPtV0B/bPR4X08mKXwyPc=;
 b=CnPPgzHCtjVeDEMSbaGnQ4OPcpKadARbfWQ4wX8ILB8jJ1qiQ8bUvDcfFKPc3UbYKg
 Sqv5OxesZFqM8zmXIRrgqJYP7ZVSWBilDAbIxxvNKv5Ekwj9SWtpn6my5yQ8qrahXwBI
 XuYRxlWxiL0LiLRdSVNWi7ceV41h9I+uAjW1T3qTUnb1c+tlAxwCEvUTUUf7SLtz5r65
 ZtQ957qlS1uDWMAQMJZ5ktsOYyYlPg16VdBYqQnN9CAapaBgGeJa17BN3kjcINFOCQ1N
 uxooTEvtsQA2Qx4NKWcv8EKouKilMZJvZdITAg71th46IfxV6i0M4fXWl0JcQGEC1iFn
 rZhg==
X-Gm-Message-State: ANhLgQ3FqqIU4DLLXNOzG3jyI/+pvrBsCF56DUqadfDGdg0/o60V/eBJ
 ALz01uUcpDs+0kqNkB8ZhX2luait
X-Google-Smtp-Source: ADFU+vut5U2EOa2d8ftFXc7LE5mEoLAQ5SPKSz4jM3hA5fBg9iI2RgxLaSieU5Rw3/O5Wxlx/PkLSA==
X-Received: by 2002:a1c:b789:: with SMTP id h131mr1715505wmf.141.1585005164819; 
 Mon, 23 Mar 2020 16:12:44 -0700 (PDT)
Received: from sroland-t5810.vmware.com (46-126-183-173.dynamic.hispeed.ch.
 [46.126.183.173])
 by smtp.gmail.com with ESMTPSA id b82sm1495262wmb.46.2020.03.23.16.12.43
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Mon, 23 Mar 2020 16:12:44 -0700 (PDT)
From: "Roland Scheidegger (VMware)" <rscheidegger.oss@gmail.com>
To: dri-devel@lists.freedesktop.org,
	airlied@redhat.com,
	daniel@ffwll.ch
Subject: [PATCH v2 02/17] drm/vmwgfx: Sync legacy multisampling device
 capability
Date: Tue, 24 Mar 2020 00:12:23 +0100
Message-Id: <20200323231238.14839-3-rscheidegger.oss@gmail.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20200323231238.14839-1-rscheidegger.oss@gmail.com>
References: <20200323231238.14839-1-rscheidegger.oss@gmail.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-graphics-maintainer@vmware.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogRGVlcGFrIFJhd2F0IDxkcmF3YXQuZmxvc3NAZ21haWwuY29tPgoKSW4gZmF2b3Igb2Yg
U000LjEgbXVsdGlzYW1wbGluZyBjYXBhYmlsaXR5LCB2aXJ0dWFsIGRldmljZSBkZXByZWNhdGVk
Cm9sZCBtdWx0aXNhbXBsaW5nIGRldmljZSBjYXBhYmlsaXR5LiBNYXJrIGxlZ2FjeSBtdWx0aXNh
bXBsaW5nIGRldmljZQpjYXBhYmlsaXR5IGFzIGRlYWQuIFJlbmFtZSB0aGUgZnVuY3Rpb24gdGhh
dCBtYXNrcyBsZWdhY3kgbXVsdGlzYW1wbGUKY2FwYWJpbGl0eSB0byByZWZsZWN0IHRoYXQgbm93
IGl0IGlzIG1hc2tpbmcgYSBkZXByZWNhdGVkIGZlYXR1cmUuCgpTaWduZWQtb2ZmLWJ5OiBEZWVw
YWsgUmF3YXQgPGRyYXdhdC5mbG9zc0BnbWFpbC5jb20+ClJldmlld2VkLWJ5OiBUaG9tYXMgSGVs
bHN0csO2bSAoVk13YXJlKSA8dGhvbWFzX29zQHNoaXBtYWlsLm9yZz4KUmV2aWV3ZWQtYnk6IFJv
bGFuZCBTY2hlaWRlZ2dlciA8c3JvbGFuZEB2bXdhcmUuY29tPgpTaWduZWQtb2ZmLWJ5OiBSb2xh
bmQgU2NoZWlkZWdnZXIgPHNyb2xhbmRAdm13YXJlLmNvbT4KLS0tCiAuLi4vZ3B1L2RybS92bXdn
ZngvZGV2aWNlX2luY2x1ZGUvc3ZnYTNkX2RldmNhcHMuaCAgfCAxMyArKysrKysrKystLS0tCiBk
cml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9pb2N0bC5jICAgICAgICAgICAgICAgfCAxMSAr
KysrKysrLS0tLQogMiBmaWxlcyBjaGFuZ2VkLCAxNiBpbnNlcnRpb25zKCspLCA4IGRlbGV0aW9u
cygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvZGV2aWNlX2luY2x1ZGUv
c3ZnYTNkX2RldmNhcHMuaCBiL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvZGV2aWNlX2luY2x1ZGUv
c3ZnYTNkX2RldmNhcHMuaAppbmRleCBmMjU2NTYwMDQ5YmYuLjJkZTg3OGI1YmExNiAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC9kZXZpY2VfaW5jbHVkZS9zdmdhM2RfZGV2Y2Fw
cy5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvZGV2aWNlX2luY2x1ZGUvc3ZnYTNkX2Rl
dmNhcHMuaApAQCAtMTYzLDEwICsxNjMsMTUgQEAgdHlwZWRlZiBlbnVtIHsKICAgIFNWR0EzRF9E
RVZDQVBfU1VSRkFDRUZNVF9BMTZCMTZHMTZSMTYgICAgICAgICAgID0gNjcsCiAgICBTVkdBM0Rf
REVWQ0FQX1NVUkZBQ0VGTVRfVVlWWSAgICAgICAgICAgICAgICAgICA9IDY4LAogICAgU1ZHQTNE
X0RFVkNBUF9TVVJGQUNFRk1UX1lVWTIgICAgICAgICAgICAgICAgICAgPSA2OSwKLSAgIFNWR0Ez
RF9ERVZDQVBfTVVMVElTQU1QTEVfTk9OTUFTS0FCTEVTQU1QTEVTICAgID0gNzAsCi0gICBTVkdB
M0RfREVWQ0FQX01VTFRJU0FNUExFX01BU0tBQkxFU0FNUExFUyAgICAgICA9IDcxLAotICAgU1ZH
QTNEX0RFVkNBUF9BTFBIQVRPQ09WRVJBR0UgICAgICAgICAgICAgICAgICAgPSA3MiwKLSAgIFNW
R0EzRF9ERVZDQVBfU1VQRVJTQU1QTEUgICAgICAgICAgICAgICAgICAgICAgID0gNzMsCisKKyAg
IC8qCisgICAgKiBEZXByZWNhdGVkLgorICAgICovCisgICBTVkdBM0RfREVWQ0FQX0RFQUQ0ICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICA9IDcwLAorICAgU1ZHQTNEX0RFVkNBUF9ERUFENSAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgPSA3MSwKKyAgIFNWR0EzRF9ERVZDQVBfREVBRDcg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gNzIsCisgICBTVkdBM0RfREVWQ0FQX0RFQUQ2
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICA9IDczLAorCiAgICBTVkdBM0RfREVWQ0FQX0FV
VE9HRU5NSVBNQVBTICAgICAgICAgICAgICAgICAgICA9IDc0LAogICAgU1ZHQTNEX0RFVkNBUF9T
VVJGQUNFRk1UX05WMTIgICAgICAgICAgICAgICAgICAgPSA3NSwKICAgIFNWR0EzRF9ERVZDQVBf
U1VSRkFDRUZNVF9BWVVWICAgICAgICAgICAgICAgICAgID0gNzYsCmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9pb2N0bC5jIGIvZHJpdmVycy9ncHUvZHJtL3Ztd2dm
eC92bXdnZnhfaW9jdGwuYwppbmRleCBhMTUzNzVlYjQ3NmUuLjA5YjI1NTQ2NWY5OSAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfaW9jdGwuYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9pb2N0bC5jCkBAIC0xMjYsMTQgKzEyNiwxNyBAQCBpbnQg
dm13X2dldHBhcmFtX2lvY3RsKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHZvaWQgKmRhdGEsCiAJ
cmV0dXJuIDA7CiB9CiAKLXN0YXRpYyB1MzIgdm13X21hc2tfbXVsdGlzYW1wbGUodW5zaWduZWQg
aW50IGNhcCwgdTMyIGZtdF92YWx1ZSkKK3N0YXRpYyB1MzIgdm13X21hc2tfbGVnYWN5X211bHRp
c2FtcGxlKHVuc2lnbmVkIGludCBjYXAsIHUzMiBmbXRfdmFsdWUpCiB7CiAJLyoKIAkgKiBBIHZl
cnNpb24gb2YgdXNlci1zcGFjZSBleGlzdHMgd2hpY2ggdXNlIE1VTFRJU0FNUExFX01BU0tBQkxF
U0FNUExFUwogCSAqIHRvIGNoZWNrIHRoZSBzYW1wbGUgY291bnQgc3VwcG9ydGVkIGJ5IHZpcnR1
YWwgZGV2aWNlLiBTaW5jZSB0aGVyZQogCSAqIG5ldmVyIHdhcyBzdXBwb3J0IGZvciBtdWx0aXNh
bXBsZSBjb3VudCBmb3IgYmFja2luZyBNT0IgcmV0dXJuIDAuCisJICoKKwkgKiBNVUxUSVNBTVBM
RV9NQVNLQUJMRVNBTVBMRVMgZGV2Y2FwIGlzIG1hcmtlZCBhcyBkZXByZWNhdGVkIGJ5IHZpcnR1
YWwKKwkgKiBkZXZpY2UuCiAJICovCi0JaWYgKGNhcCA9PSBTVkdBM0RfREVWQ0FQX01VTFRJU0FN
UExFX01BU0tBQkxFU0FNUExFUykKKwlpZiAoY2FwID09IFNWR0EzRF9ERVZDQVBfREVBRDUpCiAJ
CXJldHVybiAwOwogCiAJcmV0dXJuIGZtdF92YWx1ZTsKQEAgLTE2NCw3ICsxNjcsNyBAQCBzdGF0
aWMgaW50IHZtd19maWxsX2NvbXBhdF9jYXAoc3RydWN0IHZtd19wcml2YXRlICpkZXZfcHJpdiwg
dm9pZCAqYm91bmNlLAogCWZvciAoaSA9IDA7IGkgPCBtYXhfc2l6ZTsgKytpKSB7CiAJCXZtd193
cml0ZShkZXZfcHJpdiwgU1ZHQV9SRUdfREVWX0NBUCwgaSk7CiAJCWNvbXBhdF9jYXAtPnBhaXJz
W2ldWzBdID0gaTsKLQkJY29tcGF0X2NhcC0+cGFpcnNbaV1bMV0gPSB2bXdfbWFza19tdWx0aXNh
bXBsZQorCQljb21wYXRfY2FwLT5wYWlyc1tpXVsxXSA9IHZtd19tYXNrX2xlZ2FjeV9tdWx0aXNh
bXBsZQogCQkJKGksIHZtd19yZWFkKGRldl9wcml2LCBTVkdBX1JFR19ERVZfQ0FQKSk7CiAJfQog
CXNwaW5fdW5sb2NrKCZkZXZfcHJpdi0+Y2FwX2xvY2spOwpAQCAtMjIwLDcgKzIyMyw3IEBAIGlu
dCB2bXdfZ2V0X2NhcF8zZF9pb2N0bChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB2b2lkICpkYXRh
LAogCQlzcGluX2xvY2soJmRldl9wcml2LT5jYXBfbG9jayk7CiAJCWZvciAoaSA9IDA7IGkgPCBu
dW07ICsraSkgewogCQkJdm13X3dyaXRlKGRldl9wcml2LCBTVkdBX1JFR19ERVZfQ0FQLCBpKTsK
LQkJCSpib3VuY2UzMisrID0gdm13X21hc2tfbXVsdGlzYW1wbGUKKwkJCSpib3VuY2UzMisrID0g
dm13X21hc2tfbGVnYWN5X211bHRpc2FtcGxlCiAJCQkJKGksIHZtd19yZWFkKGRldl9wcml2LCBT
VkdBX1JFR19ERVZfQ0FQKSk7CiAJCX0KIAkJc3Bpbl91bmxvY2soJmRldl9wcml2LT5jYXBfbG9j
ayk7Ci0tIAoyLjE3LjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9w
Lm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1k
ZXZlbAo=
