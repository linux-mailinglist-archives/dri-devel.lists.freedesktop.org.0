Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id EC9D022E7B
	for <lists+dri-devel@lfdr.de>; Mon, 20 May 2019 10:23:38 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 9629C892D8;
	Mon, 20 May 2019 08:22:52 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ed1-x543.google.com (mail-ed1-x543.google.com
 [IPv6:2a00:1450:4864:20::543])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C5A87892AD
 for <dri-devel@lists.freedesktop.org>; Mon, 20 May 2019 08:22:45 +0000 (UTC)
Received: by mail-ed1-x543.google.com with SMTP id a8so22559881edx.3
 for <dri-devel@lists.freedesktop.org>; Mon, 20 May 2019 01:22:45 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=NJ126eKIev+vpaWGS6bKA79Fjam4T/ElEf+qZAMI/7g=;
 b=TG6N2A9nuIPABMn3VVXyXzIHfe9JBl2EIGnBi5LX/rxswcMyD3n/UijSPX7XUIwiUO
 EgZK2V4UTZvm/HEimLjyh8nn2qnwH0HkVEXiXuTnTudmVAystlbE96mm6CafjsWK8HwM
 vOYAK6gHYiSPuimSDGPzqJd1sFUcMqiPb605QBBM0+rxR/sYjxcsnqYeNvOCoboytk27
 7WuKp+oFQuloMXApVgltNh7cM6biKEptFQP+smwyLM4854aZTRM8x6UjCEAib/RTtUi/
 GWfiwTOs0380pNXvJVGtbSh0HaCSQQ+f6wvX40w/QkCsY9r7QBVfyP/AB07xu5OyTKJO
 Whcg==
X-Gm-Message-State: APjAAAVkT0a6ylSa5qVkipP0O3omikePbL9iJDpY1ftOok1E4nUNjFbd
 aV3z+0ijoLYTRE1kJdKPJGs2EiW1U3c=
X-Google-Smtp-Source: APXvYqzG7z92/iPE6K3oJFDIArvmbDp+doQdc8RO4mK8zIir7D2yQ4RhKUJP6uJba1FYDFRz0e4V+g==
X-Received: by 2002:a50:c315:: with SMTP id a21mr73070255edb.158.1558340563703; 
 Mon, 20 May 2019 01:22:43 -0700 (PDT)
Received: from phenom.ffwll.local ([2a02:168:569e:0:3106:d637:d723:e855])
 by smtp.gmail.com with ESMTPSA id t25sm3021263ejx.8.2019.05.20.01.22.42
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Mon, 20 May 2019 01:22:43 -0700 (PDT)
From: Daniel Vetter <daniel.vetter@ffwll.ch>
To: DRI Development <dri-devel@lists.freedesktop.org>
Subject: [PATCH 18/33] fbdev: make unregister/unlink functions not fail
Date: Mon, 20 May 2019 10:22:01 +0200
Message-Id: <20190520082216.26273-19-daniel.vetter@ffwll.ch>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190520082216.26273-1-daniel.vetter@ffwll.ch>
References: <20190520082216.26273-1-daniel.vetter@ffwll.ch>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=NJ126eKIev+vpaWGS6bKA79Fjam4T/ElEf+qZAMI/7g=;
 b=YNbYvBWoGLxyzkX8oTfFpKGibuza0Yz/toJpp9ekQfP/wv3PaOEE6aMegl/J5lexOO
 LHcrYv0GsfJnVY87UMPRZjn7jWNBQmfdAqdG0LSq9Pd5PDEJbUTQffLS1KNy32O1qew+
 DoQbDiwlrU4Z6C+o6OcAe9QB93Auc2ub6xJp8=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-fbdev@vger.kernel.org,
 Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>,
 Daniel Vetter <daniel.vetter@ffwll.ch>,
 Intel Graphics Development <intel-gfx@lists.freedesktop.org>,
 LKML <linux-kernel@vger.kernel.org>,
 =?UTF-8?q?Micha=C5=82=20Miros=C5=82aw?= <mirq-linux@rere.qmqm.pl>,
 Hans de Goede <hdegoede@redhat.com>, Mikulas Patocka <mpatocka@redhat.com>,
 Daniel Vetter <daniel.vetter@intel.com>, Peter Rosin <peda@axentia.se>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RXhjZXB0IGZvciBkcml2ZXIgYnVncyAod2hpY2ggd2UnbGwgY2F0Y2ggd2l0aCBhIFdBUk5fT04p
IHRoaXMgaXMgb25seQp0byByZXBvcnQgZmFpbHVyZXMgb2YgdGhlIG5ldyBkcml2ZXIgdGFraW5n
IG92ZXIgdGhlIGNvbnNvbGUuIFRoZXJlJ3MKbm90aGluZyB0aGUgb3V0Z29pbmcgZHJpdmVyIGNh
biBkbyBhYm91dCB0aGF0LCBhbmQgbm8gb25lIGV2ZXIKYm90aGVyZWQgdG8gYWN0dWFsbHkgbG9v
ayBhdCB0aGVzZSByZXR1cm4gdmFsdWVzLiBTbyByZW1vdmUgdGhlbSBhbGwuCgpTaWduZWQtb2Zm
LWJ5OiBEYW5pZWwgVmV0dGVyIDxkYW5pZWwudmV0dGVyQGludGVsLmNvbT4KQ2M6IEJhcnRsb21p
ZWogWm9sbmllcmtpZXdpY3ogPGIuem9sbmllcmtpZUBzYW1zdW5nLmNvbT4KQ2M6IERhbmllbCBW
ZXR0ZXIgPGRhbmllbC52ZXR0ZXJAZmZ3bGwuY2g+CkNjOiAiTWljaGHFgiBNaXJvc8WCYXciIDxt
aXJxLWxpbnV4QHJlcmUucW1xbS5wbD4KQ2M6IFBldGVyIFJvc2luIDxwZWRhQGF4ZW50aWEuc2U+
CkNjOiBIYW5zIGRlIEdvZWRlIDxoZGVnb2VkZUByZWRoYXQuY29tPgpDYzogTWlrdWxhcyBQYXRv
Y2thIDxtcGF0b2NrYUByZWRoYXQuY29tPgpDYzogbGludXgtZmJkZXZAdmdlci5rZXJuZWwub3Jn
Ci0tLQogZHJpdmVycy92aWRlby9mYmRldi9jb3JlL2ZibWVtLmMgfCA3MyArKysrKysrKysrLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLQogaW5jbHVkZS9saW51eC9mYi5oICAgICAgICAgICAgICAgfCAg
NCArLQogMiBmaWxlcyBjaGFuZ2VkLCAyNSBpbnNlcnRpb25zKCspLCA1MiBkZWxldGlvbnMoLSkK
CmRpZmYgLS1naXQgYS9kcml2ZXJzL3ZpZGVvL2ZiZGV2L2NvcmUvZmJtZW0uYyBiL2RyaXZlcnMv
dmlkZW8vZmJkZXYvY29yZS9mYm1lbS5jCmluZGV4IDE1NjUyM2NjNDhiZi4uMDMyNTA2NTc2YWEw
IDEwMDY0NAotLS0gYS9kcml2ZXJzL3ZpZGVvL2ZiZGV2L2NvcmUvZmJtZW0uYworKysgYi9kcml2
ZXJzL3ZpZGVvL2ZiZGV2L2NvcmUvZmJtZW0uYwpAQCAtMTU5MCwxMyArMTU5MCwxMyBAQCBzdGF0
aWMgYm9vbCBmYl9kb19hcGVydHVyZXNfb3ZlcmxhcChzdHJ1Y3QgYXBlcnR1cmVzX3N0cnVjdCAq
Z2VuYSwKIAlyZXR1cm4gZmFsc2U7CiB9CiAKLXN0YXRpYyBpbnQgZG9fdW5yZWdpc3Rlcl9mcmFt
ZWJ1ZmZlcihzdHJ1Y3QgZmJfaW5mbyAqZmJfaW5mbyk7CitzdGF0aWMgdm9pZCBkb191bnJlZ2lz
dGVyX2ZyYW1lYnVmZmVyKHN0cnVjdCBmYl9pbmZvICpmYl9pbmZvKTsKIAogI2RlZmluZSBWR0Ff
RkJfUEhZUyAweEEwMDAwCi1zdGF0aWMgaW50IGRvX3JlbW92ZV9jb25mbGljdGluZ19mcmFtZWJ1
ZmZlcnMoc3RydWN0IGFwZXJ0dXJlc19zdHJ1Y3QgKmEsCi0JCQkJCSAgICAgIGNvbnN0IGNoYXIg
Km5hbWUsIGJvb2wgcHJpbWFyeSkKK3N0YXRpYyB2b2lkIGRvX3JlbW92ZV9jb25mbGljdGluZ19m
cmFtZWJ1ZmZlcnMoc3RydWN0IGFwZXJ0dXJlc19zdHJ1Y3QgKmEsCisJCQkJCSAgICAgICBjb25z
dCBjaGFyICpuYW1lLCBib29sIHByaW1hcnkpCiB7Ci0JaW50IGksIHJldDsKKwlpbnQgaTsKIAog
CS8qIGNoZWNrIGFsbCBmaXJtd2FyZSBmYnMgYW5kIGtpY2sgb2ZmIGlmIHRoZSBiYXNlIGFkZHIg
b3ZlcmxhcHMgKi8KIAlmb3JfZWFjaF9yZWdpc3RlcmVkX2ZiKGkpIHsKQEAgLTE2MTIsMTMgKzE2
MTIsOSBAQCBzdGF0aWMgaW50IGRvX3JlbW92ZV9jb25mbGljdGluZ19mcmFtZWJ1ZmZlcnMoc3Ry
dWN0IGFwZXJ0dXJlc19zdHJ1Y3QgKmEsCiAKIAkJCXByaW50ayhLRVJOX0lORk8gImZiJWQ6IHN3
aXRjaGluZyB0byAlcyBmcm9tICVzXG4iLAogCQkJICAgICAgIGksIG5hbWUsIHJlZ2lzdGVyZWRf
ZmJbaV0tPmZpeC5pZCk7Ci0JCQlyZXQgPSBkb191bnJlZ2lzdGVyX2ZyYW1lYnVmZmVyKHJlZ2lz
dGVyZWRfZmJbaV0pOwotCQkJaWYgKHJldCkKLQkJCQlyZXR1cm4gcmV0OworCQkJZG9fdW5yZWdp
c3Rlcl9mcmFtZWJ1ZmZlcihyZWdpc3RlcmVkX2ZiW2ldKTsKIAkJfQogCX0KLQotCXJldHVybiAw
OwogfQogCiBzdGF0aWMgYm9vbCBsb2NrbGVzc19yZWdpc3Rlcl9mYjsKQEAgLTE2MzQsMTEgKzE2
MzAsOSBAQCBzdGF0aWMgaW50IGRvX3JlZ2lzdGVyX2ZyYW1lYnVmZmVyKHN0cnVjdCBmYl9pbmZv
ICpmYl9pbmZvKQogCWlmIChmYl9jaGVja19mb3JlaWdubmVzcyhmYl9pbmZvKSkKIAkJcmV0dXJu
IC1FTk9TWVM7CiAKLQlyZXQgPSBkb19yZW1vdmVfY29uZmxpY3RpbmdfZnJhbWVidWZmZXJzKGZi
X2luZm8tPmFwZXJ0dXJlcywKLQkJCQkJCSBmYl9pbmZvLT5maXguaWQsCi0JCQkJCQkgZmJfaXNf
cHJpbWFyeV9kZXZpY2UoZmJfaW5mbykpOwotCWlmIChyZXQpCi0JCXJldHVybiByZXQ7CisJZG9f
cmVtb3ZlX2NvbmZsaWN0aW5nX2ZyYW1lYnVmZmVycyhmYl9pbmZvLT5hcGVydHVyZXMsCisJCQkJ
CSAgIGZiX2luZm8tPmZpeC5pZCwKKwkJCQkJICAgZmJfaXNfcHJpbWFyeV9kZXZpY2UoZmJfaW5m
bykpOwogCiAJaWYgKG51bV9yZWdpc3RlcmVkX2ZiID09IEZCX01BWCkKIAkJcmV0dXJuIC1FTlhJ
TzsKQEAgLTE3MDYsMzIgKzE3MDAsMjUgQEAgc3RhdGljIGludCBkb19yZWdpc3Rlcl9mcmFtZWJ1
ZmZlcihzdHJ1Y3QgZmJfaW5mbyAqZmJfaW5mbykKIAlyZXR1cm4gcmV0OwogfQogCi1zdGF0aWMg
aW50IHVuYmluZF9jb25zb2xlKHN0cnVjdCBmYl9pbmZvICpmYl9pbmZvKQorc3RhdGljIHZvaWQg
dW5iaW5kX2NvbnNvbGUoc3RydWN0IGZiX2luZm8gKmZiX2luZm8pCiB7CiAJaW50IGkgPSBmYl9p
bmZvLT5ub2RlOwogCi0JaWYgKGkgPCAwIHx8IGkgPj0gRkJfTUFYIHx8IHJlZ2lzdGVyZWRfZmJb
aV0gIT0gZmJfaW5mbykKLQkJcmV0dXJuIC1FSU5WQUw7CisJaWYgKFdBUk5fT04oaSA8IDAgfHwg
aSA+PSBGQl9NQVggfHwgcmVnaXN0ZXJlZF9mYltpXSAhPSBmYl9pbmZvKSkKKwkJcmV0dXJuOwog
CiAJY29uc29sZV9sb2NrKCk7CiAJbG9ja19mYl9pbmZvKGZiX2luZm8pOwogCWZiY29uX2ZiX3Vu
YmluZChmYl9pbmZvKTsKIAl1bmxvY2tfZmJfaW5mbyhmYl9pbmZvKTsKIAljb25zb2xlX3VubG9j
aygpOwotCi0JcmV0dXJuIDA7CiB9CiAKLXN0YXRpYyBpbnQgX191bmxpbmtfZnJhbWVidWZmZXIo
c3RydWN0IGZiX2luZm8gKmZiX2luZm8pOworc3RhdGljIHZvaWQgX191bmxpbmtfZnJhbWVidWZm
ZXIoc3RydWN0IGZiX2luZm8gKmZiX2luZm8pOwogCi1zdGF0aWMgaW50IGRvX3VucmVnaXN0ZXJf
ZnJhbWVidWZmZXIoc3RydWN0IGZiX2luZm8gKmZiX2luZm8pCitzdGF0aWMgdm9pZCBkb191bnJl
Z2lzdGVyX2ZyYW1lYnVmZmVyKHN0cnVjdCBmYl9pbmZvICpmYl9pbmZvKQogewotCWludCByZXQ7
Ci0KLQlyZXQgPSB1bmJpbmRfY29uc29sZShmYl9pbmZvKTsKLQotCWlmIChyZXQpCi0JCXJldHVy
biAtRUlOVkFMOworCXVuYmluZF9jb25zb2xlKGZiX2luZm8pOwogCiAJcG1fdnRfc3dpdGNoX3Vu
cmVnaXN0ZXIoZmJfaW5mby0+ZGV2KTsKIApAQCAtMTc0OSwzNiArMTczNiwyNyBAQCBzdGF0aWMg
aW50IGRvX3VucmVnaXN0ZXJfZnJhbWVidWZmZXIoc3RydWN0IGZiX2luZm8gKmZiX2luZm8pCiAK
IAkvKiB0aGlzIG1heSBmcmVlIGZiIGluZm8gKi8KIAlwdXRfZmJfaW5mbyhmYl9pbmZvKTsKLQly
ZXR1cm4gMDsKIH0KIAotc3RhdGljIGludCBfX3VubGlua19mcmFtZWJ1ZmZlcihzdHJ1Y3QgZmJf
aW5mbyAqZmJfaW5mbykKK3N0YXRpYyB2b2lkIF9fdW5saW5rX2ZyYW1lYnVmZmVyKHN0cnVjdCBm
Yl9pbmZvICpmYl9pbmZvKQogewogCWludCBpOwogCiAJaSA9IGZiX2luZm8tPm5vZGU7Ci0JaWYg
KGkgPCAwIHx8IGkgPj0gRkJfTUFYIHx8IHJlZ2lzdGVyZWRfZmJbaV0gIT0gZmJfaW5mbykKLQkJ
cmV0dXJuIC1FSU5WQUw7CisJaWYgKFdBUk5fT04oaSA8IDAgfHwgaSA+PSBGQl9NQVggfHwgcmVn
aXN0ZXJlZF9mYltpXSAhPSBmYl9pbmZvKSkKKwkJcmV0dXJuOwogCiAJaWYgKGZiX2luZm8tPmRl
dikgewogCQlkZXZpY2VfZGVzdHJveShmYl9jbGFzcywgTUtERVYoRkJfTUFKT1IsIGkpKTsKIAkJ
ZmJfaW5mby0+ZGV2ID0gTlVMTDsKIAl9Ci0KLQlyZXR1cm4gMDsKIH0KIAotaW50IHVubGlua19m
cmFtZWJ1ZmZlcihzdHJ1Y3QgZmJfaW5mbyAqZmJfaW5mbykKK3ZvaWQgdW5saW5rX2ZyYW1lYnVm
ZmVyKHN0cnVjdCBmYl9pbmZvICpmYl9pbmZvKQogewotCWludCByZXQ7Ci0KLQlyZXQgPSBfX3Vu
bGlua19mcmFtZWJ1ZmZlcihmYl9pbmZvKTsKLQlpZiAocmV0KQotCQlyZXR1cm4gcmV0OworCV9f
dW5saW5rX2ZyYW1lYnVmZmVyKGZiX2luZm8pOwogCiAJdW5iaW5kX2NvbnNvbGUoZmJfaW5mbyk7
Ci0KLQlyZXR1cm4gMDsKIH0KIEVYUE9SVF9TWU1CT0wodW5saW5rX2ZyYW1lYnVmZmVyKTsKIApA
QCAtMTc5NSw3ICsxNzczLDYgQEAgRVhQT1JUX1NZTUJPTCh1bmxpbmtfZnJhbWVidWZmZXIpOwog
aW50IHJlbW92ZV9jb25mbGljdGluZ19mcmFtZWJ1ZmZlcnMoc3RydWN0IGFwZXJ0dXJlc19zdHJ1
Y3QgKmEsCiAJCQkJICAgIGNvbnN0IGNoYXIgKm5hbWUsIGJvb2wgcHJpbWFyeSkKIHsKLQlpbnQg
cmV0OwogCWJvb2wgZG9fZnJlZSA9IGZhbHNlOwogCiAJaWYgKCFhKSB7CkBAIC0xODA5LDEzICsx
Nzg2LDEzIEBAIGludCByZW1vdmVfY29uZmxpY3RpbmdfZnJhbWVidWZmZXJzKHN0cnVjdCBhcGVy
dHVyZXNfc3RydWN0ICphLAogCX0KIAogCW11dGV4X2xvY2soJnJlZ2lzdHJhdGlvbl9sb2NrKTsK
LQlyZXQgPSBkb19yZW1vdmVfY29uZmxpY3RpbmdfZnJhbWVidWZmZXJzKGEsIG5hbWUsIHByaW1h
cnkpOworCWRvX3JlbW92ZV9jb25mbGljdGluZ19mcmFtZWJ1ZmZlcnMoYSwgbmFtZSwgcHJpbWFy
eSk7CiAJbXV0ZXhfdW5sb2NrKCZyZWdpc3RyYXRpb25fbG9jayk7CiAKIAlpZiAoZG9fZnJlZSkK
IAkJa2ZyZWUoYSk7CiAKLQlyZXR1cm4gcmV0OworCXJldHVybiAwOwogfQogRVhQT1JUX1NZTUJP
TChyZW1vdmVfY29uZmxpY3RpbmdfZnJhbWVidWZmZXJzKTsKIApAQCAtMTg5MSwxNiArMTg2OCwx
MiBAQCBFWFBPUlRfU1lNQk9MKHJlZ2lzdGVyX2ZyYW1lYnVmZmVyKTsKICAqICAgICAgdGhhdCB0
aGUgZHJpdmVyIGltcGxlbWVudHMgZmJfb3BlbigpIGFuZCBmYl9yZWxlYXNlKCkgdG8KICAqICAg
ICAgY2hlY2sgdGhhdCBubyBwcm9jZXNzZXMgYXJlIHVzaW5nIHRoZSBkZXZpY2UuCiAgKi8KLWlu
dAordm9pZAogdW5yZWdpc3Rlcl9mcmFtZWJ1ZmZlcihzdHJ1Y3QgZmJfaW5mbyAqZmJfaW5mbykK
IHsKLQlpbnQgcmV0OwotCiAJbXV0ZXhfbG9jaygmcmVnaXN0cmF0aW9uX2xvY2spOwotCXJldCA9
IGRvX3VucmVnaXN0ZXJfZnJhbWVidWZmZXIoZmJfaW5mbyk7CisJZG9fdW5yZWdpc3Rlcl9mcmFt
ZWJ1ZmZlcihmYl9pbmZvKTsKIAltdXRleF91bmxvY2soJnJlZ2lzdHJhdGlvbl9sb2NrKTsKLQot
CXJldHVybiByZXQ7CiB9CiBFWFBPUlRfU1lNQk9MKHVucmVnaXN0ZXJfZnJhbWVidWZmZXIpOwog
CmRpZmYgLS1naXQgYS9pbmNsdWRlL2xpbnV4L2ZiLmggYi9pbmNsdWRlL2xpbnV4L2ZiLmgKaW5k
ZXggMzhmYWUxNjc4OTM5Li40NDAyMWU1NWIxNWMgMTAwNjQ0Ci0tLSBhL2luY2x1ZGUvbGludXgv
ZmIuaAorKysgYi9pbmNsdWRlL2xpbnV4L2ZiLmgKQEAgLTYyNyw4ICs2MjcsOCBAQCBleHRlcm4g
c3NpemVfdCBmYl9zeXNfd3JpdGUoc3RydWN0IGZiX2luZm8gKmluZm8sIGNvbnN0IGNoYXIgX191
c2VyICpidWYsCiAKIC8qIGRyaXZlcnMvdmlkZW8vZmJtZW0uYyAqLwogZXh0ZXJuIGludCByZWdp
c3Rlcl9mcmFtZWJ1ZmZlcihzdHJ1Y3QgZmJfaW5mbyAqZmJfaW5mbyk7Ci1leHRlcm4gaW50IHVu
cmVnaXN0ZXJfZnJhbWVidWZmZXIoc3RydWN0IGZiX2luZm8gKmZiX2luZm8pOwotZXh0ZXJuIGlu
dCB1bmxpbmtfZnJhbWVidWZmZXIoc3RydWN0IGZiX2luZm8gKmZiX2luZm8pOworZXh0ZXJuIHZv
aWQgdW5yZWdpc3Rlcl9mcmFtZWJ1ZmZlcihzdHJ1Y3QgZmJfaW5mbyAqZmJfaW5mbyk7CitleHRl
cm4gdm9pZCB1bmxpbmtfZnJhbWVidWZmZXIoc3RydWN0IGZiX2luZm8gKmZiX2luZm8pOwogZXh0
ZXJuIGludCByZW1vdmVfY29uZmxpY3RpbmdfcGNpX2ZyYW1lYnVmZmVycyhzdHJ1Y3QgcGNpX2Rl
diAqcGRldiwgaW50IHJlc19pZCwKIAkJCQkJICAgICAgIGNvbnN0IGNoYXIgKm5hbWUpOwogZXh0
ZXJuIGludCByZW1vdmVfY29uZmxpY3RpbmdfZnJhbWVidWZmZXJzKHN0cnVjdCBhcGVydHVyZXNf
c3RydWN0ICphLAotLSAKMi4yMC4xCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVl
ZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5m
by9kcmktZGV2ZWw=
