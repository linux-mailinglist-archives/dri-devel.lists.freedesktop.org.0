Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 6F78DE2589
	for <lists+dri-devel@lfdr.de>; Wed, 23 Oct 2019 23:42:27 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7F4BD6E038;
	Wed, 23 Oct 2019 21:42:24 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from us-smtp-delivery-1.mimecast.com (us-smtp-2.mimecast.com
 [205.139.110.61])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3FFC36E030
 for <dri-devel@lists.freedesktop.org>; Wed, 23 Oct 2019 21:42:23 +0000 (UTC)
Received: from mimecast-mx01.redhat.com (mimecast-mx01.redhat.com
 [209.132.183.4]) (Using TLS) by relay.mimecast.com with ESMTP id
 us-mta-362-R8ho3sccMte_3UDCuNK0xg-1; Wed, 23 Oct 2019 17:42:19 -0400
Received: from smtp.corp.redhat.com (int-mx03.intmail.prod.int.phx2.redhat.com
 [10.5.11.13])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mimecast-mx01.redhat.com (Postfix) with ESMTPS id 90BB01800D6B;
 Wed, 23 Oct 2019 21:42:15 +0000 (UTC)
Received: from x1.home (ovpn-118-102.phx2.redhat.com [10.3.118.102])
 by smtp.corp.redhat.com (Postfix) with ESMTP id 24B1360852;
 Wed, 23 Oct 2019 21:42:05 +0000 (UTC)
Date: Wed, 23 Oct 2019 15:42:04 -0600
From: Alex Williamson <alex.williamson@redhat.com>
To: Jason Wang <jasowang@redhat.com>
Subject: Re: [PATCH V5 1/6] mdev: class id support
Message-ID: <20191023154204.31d74866@x1.home>
In-Reply-To: <20191023130752.18980-2-jasowang@redhat.com>
References: <20191023130752.18980-1-jasowang@redhat.com>
 <20191023130752.18980-2-jasowang@redhat.com>
Organization: Red Hat
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.13
X-MC-Unique: R8ho3sccMte_3UDCuNK0xg-1
X-Mimecast-Spam-Score: 0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=redhat.com; 
 s=mimecast20190719; t=1571866941;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=usMwcWRY0xgq9/2fiVyMo8OeukNVbYSNKk5x4pJIllA=;
 b=RrL4DWTna3Pscl6zWzzjk6rYl7L4arPk2alOt0r6pQvyBDz4oFzszgZKj2sx5iR+dvp01v
 5+TAepJkpQfd5KlP4572nXOp4YpSGiOFpOwRPeGR5dEWKaekgICKg+1qshHM/cxNpYpt0F
 lZEkLyjWCa0mRxZjanGoYPkWJOPYSLA=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: stefanha@redhat.com, christophe.de.dinechin@gmail.com, kvm@vger.kernel.org,
 mst@redhat.com, airlied@linux.ie, heiko.carstens@de.ibm.com,
 kevin.tian@intel.com, dri-devel@lists.freedesktop.org,
 virtualization@lists.linux-foundation.org, kwankhede@nvidia.com,
 rob.miller@broadcom.com, linux-s390@vger.kernel.org, sebott@linux.ibm.com,
 lulu@redhat.com, eperezma@redhat.com, pasic@linux.ibm.com,
 borntraeger@de.ibm.com, haotian.wang@sifive.com, cunming.liang@intel.com,
 zhi.a.wang@intel.com, farman@linux.ibm.com, idos@mellanox.com,
 gor@linux.ibm.com, intel-gfx@lists.freedesktop.org, rodrigo.vivi@intel.com,
 xiao.w.wang@intel.com, freude@linux.ibm.com, parav@mellanox.com,
 zhihong.wang@intel.com, intel-gvt-dev@lists.freedesktop.org,
 akrowiak@linux.ibm.com, oberpar@linux.ibm.com, tiwei.bie@intel.com,
 netdev@vger.kernel.org, cohuck@redhat.com, linux-kernel@vger.kernel.org,
 maxime.coquelin@redhat.com, lingshan.zhu@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gV2VkLCAyMyBPY3QgMjAxOSAyMTowNzo0NyArMDgwMApKYXNvbiBXYW5nIDxqYXNvd2FuZ0By
ZWRoYXQuY29tPiB3cm90ZToKCj4gTWRldiBidXMgb25seSBzdXBwb3J0cyB2ZmlvIGRyaXZlciBy
aWdodCBub3csIHNvIGl0IGRvZXNuJ3QgaW1wbGVtZW50Cj4gbWF0Y2ggbWV0aG9kLiBCdXQgaW4g
dGhlIGZ1dHVyZSwgd2UgbWF5IGFkZCBkcml2ZXJzIG90aGVyIHRoYW4gdmZpbywKPiB0aGUgZmly
c3QgZHJpdmVyIGNvdWxkIGJlIHZpcnRpby1tZGV2LiBUaGlzIG1lYW5zIHdlIG5lZWQgdG8gYWRk
Cj4gZGV2aWNlIGNsYXNzIGlkIHN1cHBvcnQgaW4gYnVzIG1hdGNoIG1ldGhvZCB0byBwYWlyIHRo
ZSBtZGV2IGRldmljZQo+IGFuZCBtZGV2IGRyaXZlciBjb3JyZWN0bHkuCj4gCj4gU28gdGhpcyBw
YXRjaCBhZGRzIGlkX3RhYmxlIHRvIG1kZXZfZHJpdmVyIGFuZCBjbGFzc19pZCBmb3IgbWRldgo+
IGRldmljZSB3aXRoIHRoZSBtYXRjaCBtZXRob2QgZm9yIG1kZXYgYnVzLgo+IAo+IFNpZ25lZC1v
ZmYtYnk6IEphc29uIFdhbmcgPGphc293YW5nQHJlZGhhdC5jb20+Cj4gLS0tCj4gIC4uLi9kcml2
ZXItYXBpL3ZmaW8tbWVkaWF0ZWQtZGV2aWNlLnJzdCAgICAgICB8ICA1ICsrKysrCj4gIGRyaXZl
cnMvZ3B1L2RybS9pOTE1L2d2dC9rdm1ndC5jICAgICAgICAgICAgICB8ICAxICsKPiAgZHJpdmVy
cy9zMzkwL2Npby92ZmlvX2Njd19vcHMuYyAgICAgICAgICAgICAgIHwgIDEgKwo+ICBkcml2ZXJz
L3MzOTAvY3J5cHRvL3ZmaW9fYXBfb3BzLmMgICAgICAgICAgICAgfCAgMSArCj4gIGRyaXZlcnMv
dmZpby9tZGV2L21kZXZfY29yZS5jICAgICAgICAgICAgICAgICB8IDE4ICsrKysrKysrKysrKysr
Kwo+ICBkcml2ZXJzL3ZmaW8vbWRldi9tZGV2X2RyaXZlci5jICAgICAgICAgICAgICAgfCAyMiAr
KysrKysrKysrKysrKysrKysrCj4gIGRyaXZlcnMvdmZpby9tZGV2L21kZXZfcHJpdmF0ZS5oICAg
ICAgICAgICAgICB8ICAxICsKPiAgZHJpdmVycy92ZmlvL21kZXYvdmZpb19tZGV2LmMgICAgICAg
ICAgICAgICAgIHwgIDYgKysrKysKPiAgaW5jbHVkZS9saW51eC9tZGV2LmggICAgICAgICAgICAg
ICAgICAgICAgICAgIHwgIDggKysrKysrKwo+ICBpbmNsdWRlL2xpbnV4L21vZF9kZXZpY2V0YWJs
ZS5oICAgICAgICAgICAgICAgfCAgOCArKysrKysrCj4gIHNhbXBsZXMvdmZpby1tZGV2L21ib2No
cy5jICAgICAgICAgICAgICAgICAgICB8ICAxICsKPiAgc2FtcGxlcy92ZmlvLW1kZXYvbWRweS5j
ICAgICAgICAgICAgICAgICAgICAgIHwgIDEgKwo+ICBzYW1wbGVzL3ZmaW8tbWRldi9tdHR5LmMg
ICAgICAgICAgICAgICAgICAgICAgfCAgMSArCj4gIDEzIGZpbGVzIGNoYW5nZWQsIDc0IGluc2Vy
dGlvbnMoKykKPiAKPiBkaWZmIC0tZ2l0IGEvRG9jdW1lbnRhdGlvbi9kcml2ZXItYXBpL3ZmaW8t
bWVkaWF0ZWQtZGV2aWNlLnJzdCBiL0RvY3VtZW50YXRpb24vZHJpdmVyLWFwaS92ZmlvLW1lZGlh
dGVkLWRldmljZS5yc3QKPiBpbmRleCAyNWViN2Q1YjgzNGIuLjY3MDk0MTNiZWUyOSAxMDA2NDQK
PiAtLS0gYS9Eb2N1bWVudGF0aW9uL2RyaXZlci1hcGkvdmZpby1tZWRpYXRlZC1kZXZpY2UucnN0
Cj4gKysrIGIvRG9jdW1lbnRhdGlvbi9kcml2ZXItYXBpL3ZmaW8tbWVkaWF0ZWQtZGV2aWNlLnJz
dAo+IEBAIC0xMDIsMTIgKzEwMiwxNCBAQCBzdHJ1Y3R1cmUgdG8gcmVwcmVzZW50IGEgbWVkaWF0
ZWQgZGV2aWNlJ3MgZHJpdmVyOjoKPiAgICAgICAgKiBAcHJvYmU6IGNhbGxlZCB3aGVuIG5ldyBk
ZXZpY2UgY3JlYXRlZAo+ICAgICAgICAqIEByZW1vdmU6IGNhbGxlZCB3aGVuIGRldmljZSByZW1v
dmVkCj4gICAgICAgICogQGRyaXZlcjogZGV2aWNlIGRyaXZlciBzdHJ1Y3R1cmUKPiArICAgICAg
KiBAaWRfdGFibGU6IHRoZSBpZHMgc2VydmljZWQgYnkgdGhpcyBkcml2ZXIKPiAgICAgICAgKi8K
PiAgICAgICBzdHJ1Y3QgbWRldl9kcml2ZXIgewo+ICAJICAgICBjb25zdCBjaGFyICpuYW1lOwo+
ICAJICAgICBpbnQgICgqcHJvYmUpICAoc3RydWN0IGRldmljZSAqZGV2KTsKPiAgCSAgICAgdm9p
ZCAoKnJlbW92ZSkgKHN0cnVjdCBkZXZpY2UgKmRldik7Cj4gIAkgICAgIHN0cnVjdCBkZXZpY2Vf
ZHJpdmVyICAgIGRyaXZlcjsKPiArCSAgICAgY29uc3Qgc3RydWN0IG1kZXZfY2xhc3NfaWQgKmlk
X3RhYmxlOwo+ICAgICAgIH07Cj4gIAo+ICBBIG1lZGlhdGVkIGJ1cyBkcml2ZXIgZm9yIG1kZXYg
c2hvdWxkIHVzZSB0aGlzIHN0cnVjdHVyZSBpbiB0aGUgZnVuY3Rpb24gY2FsbHMKPiBAQCAtMTcw
LDYgKzE3Miw5IEBAIHRoYXQgYSBkcml2ZXIgc2hvdWxkIHVzZSB0byB1bnJlZ2lzdGVyIGl0c2Vs
ZiB3aXRoIHRoZSBtZGV2IGNvcmUgZHJpdmVyOjoKPiAgCj4gIAlleHRlcm4gdm9pZCBtZGV2X3Vu
cmVnaXN0ZXJfZGV2aWNlKHN0cnVjdCBkZXZpY2UgKmRldik7Cj4gIAo+ICtJdCBpcyBhbHNvIHJl
cXVpcmVkIHRvIHNwZWNpZnkgdGhlIGNsYXNzX2lkIGluIGNyZWF0ZSgpIGNhbGxiYWNrIHRocm91
Z2g6Ogo+ICsKPiArCWludCBtZGV2X3NldF9jbGFzcyhzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYs
IHUxNiBpZCk7Cj4gIAo+ICBNZWRpYXRlZCBEZXZpY2UgTWFuYWdlbWVudCBJbnRlcmZhY2UgVGhy
b3VnaCBzeXNmcwo+ICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndnQva3ZtZ3QuYyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d2dC9rdm1ndC5jCj4gaW5kZXggMzQzZDc5YzFjYjdlLi42
NDIwZjBkYmQzMWIgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Z0L2t2bWd0
LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndnQva3ZtZ3QuYwo+IEBAIC02NzgsNiAr
Njc4LDcgQEAgc3RhdGljIGludCBpbnRlbF92Z3B1X2NyZWF0ZShzdHJ1Y3Qga29iamVjdCAqa29i
aiwgc3RydWN0IG1kZXZfZGV2aWNlICptZGV2KQo+ICAJCSAgICAgZGV2X25hbWUobWRldl9kZXYo
bWRldikpKTsKPiAgCXJldCA9IDA7Cj4gIAo+ICsJbWRldl9zZXRfY2xhc3MobWRldiwgTURFVl9D
TEFTU19JRF9WRklPKTsKPiAgb3V0Ogo+ICAJcmV0dXJuIHJldDsKPiAgfQo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL3MzOTAvY2lvL3ZmaW9fY2N3X29wcy5jIGIvZHJpdmVycy9zMzkwL2Npby92Zmlv
X2Njd19vcHMuYwo+IGluZGV4IGYwZDcxYWI3N2M1MC4uY2YyYzAxM2FlMzJmIDEwMDY0NAo+IC0t
LSBhL2RyaXZlcnMvczM5MC9jaW8vdmZpb19jY3dfb3BzLmMKPiArKysgYi9kcml2ZXJzL3MzOTAv
Y2lvL3ZmaW9fY2N3X29wcy5jCj4gQEAgLTEyOSw2ICsxMjksNyBAQCBzdGF0aWMgaW50IHZmaW9f
Y2N3X21kZXZfY3JlYXRlKHN0cnVjdCBrb2JqZWN0ICprb2JqLCBzdHJ1Y3QgbWRldl9kZXZpY2Ug
Km1kZXYpCj4gIAkJCSAgIHByaXZhdGUtPnNjaC0+c2NoaWQuc3NpZCwKPiAgCQkJICAgcHJpdmF0
ZS0+c2NoLT5zY2hpZC5zY2hfbm8pOwo+ICAKPiArCW1kZXZfc2V0X2NsYXNzKG1kZXYsIE1ERVZf
Q0xBU1NfSURfVkZJTyk7Cj4gIAlyZXR1cm4gMDsKPiAgfQo+ICAKPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9zMzkwL2NyeXB0by92ZmlvX2FwX29wcy5jIGIvZHJpdmVycy9zMzkwL2NyeXB0by92Zmlv
X2FwX29wcy5jCj4gaW5kZXggNWMwZjUzYzZkZGU3Li4wN2MzMTA3MGFmZWIgMTAwNjQ0Cj4gLS0t
IGEvZHJpdmVycy9zMzkwL2NyeXB0by92ZmlvX2FwX29wcy5jCj4gKysrIGIvZHJpdmVycy9zMzkw
L2NyeXB0by92ZmlvX2FwX29wcy5jCj4gQEAgLTM0Myw2ICszNDMsNyBAQCBzdGF0aWMgaW50IHZm
aW9fYXBfbWRldl9jcmVhdGUoc3RydWN0IGtvYmplY3QgKmtvYmosIHN0cnVjdCBtZGV2X2Rldmlj
ZSAqbWRldikKPiAgCWxpc3RfYWRkKCZtYXRyaXhfbWRldi0+bm9kZSwgJm1hdHJpeF9kZXYtPm1k
ZXZfbGlzdCk7Cj4gIAltdXRleF91bmxvY2soJm1hdHJpeF9kZXYtPmxvY2spOwo+ICAKPiArCW1k
ZXZfc2V0X2NsYXNzKG1kZXYsIE1ERVZfQ0xBU1NfSURfVkZJTyk7Cj4gIAlyZXR1cm4gMDsKPiAg
fQo+ICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy92ZmlvL21kZXYvbWRldl9jb3JlLmMgYi9kcml2
ZXJzL3ZmaW8vbWRldi9tZGV2X2NvcmUuYwo+IGluZGV4IGI1NThkNGNmZDA4Mi4uM2E5YzUyZDcx
YjRlIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvdmZpby9tZGV2L21kZXZfY29yZS5jCj4gKysrIGIv
ZHJpdmVycy92ZmlvL21kZXYvbWRldl9jb3JlLmMKPiBAQCAtNDUsNiArNDUsMTYgQEAgdm9pZCBt
ZGV2X3NldF9kcnZkYXRhKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldiwgdm9pZCAqZGF0YSkKPiAg
fQo+ICBFWFBPUlRfU1lNQk9MKG1kZXZfc2V0X2RydmRhdGEpOwo+ICAKPiArLyogU3BlY2lmeSB0
aGUgY2xhc3MgZm9yIHRoZSBtZGV2IGRldmljZSwgdGhpcyBtdXN0IGJlIGNhbGxlZCBkdXJpbmcK
PiArICogY3JlYXRlKCkgY2FsbGJhY2suCj4gKyAqLwo+ICt2b2lkIG1kZXZfc2V0X2NsYXNzKHN0
cnVjdCBtZGV2X2RldmljZSAqbWRldiwgdTE2IGlkKQo+ICt7Cj4gKwlXQVJOX09OKG1kZXYtPmNs
YXNzX2lkKTsKPiArCW1kZXYtPmNsYXNzX2lkID0gaWQ7Cj4gK30KPiArRVhQT1JUX1NZTUJPTCht
ZGV2X3NldF9jbGFzcyk7Cj4gKwo+ICBzdHJ1Y3QgZGV2aWNlICptZGV2X2RldihzdHJ1Y3QgbWRl
dl9kZXZpY2UgKm1kZXYpCj4gIHsKPiAgCXJldHVybiAmbWRldi0+ZGV2Owo+IEBAIC0xMzUsNiAr
MTQ1LDcgQEAgc3RhdGljIGludCBtZGV2X2RldmljZV9yZW1vdmVfY2Ioc3RydWN0IGRldmljZSAq
ZGV2LCB2b2lkICpkYXRhKQo+ICAgKiBtZGV2X3JlZ2lzdGVyX2RldmljZSA6IFJlZ2lzdGVyIGEg
ZGV2aWNlCj4gICAqIEBkZXY6IGRldmljZSBzdHJ1Y3R1cmUgcmVwcmVzZW50aW5nIHBhcmVudCBk
ZXZpY2UuCj4gICAqIEBvcHM6IFBhcmVudCBkZXZpY2Ugb3BlcmF0aW9uIHN0cnVjdHVyZSB0byBi
ZSByZWdpc3RlcmVkLgo+ICsgKiBAaWQ6IGNsYXNzIGlkLgo+ICAgKgo+ICAgKiBBZGQgZGV2aWNl
IHRvIGxpc3Qgb2YgcmVnaXN0ZXJlZCBwYXJlbnQgZGV2aWNlcy4KPiAgICogUmV0dXJucyBhIG5l
Z2F0aXZlIHZhbHVlIG9uIGVycm9yLCBvdGhlcndpc2UgMC4KPiBAQCAtMzI0LDYgKzMzNSwxMyBA
QCBpbnQgbWRldl9kZXZpY2VfY3JlYXRlKHN0cnVjdCBrb2JqZWN0ICprb2JqLAo+ICAJaWYgKHJl
dCkKPiAgCQlnb3RvIG9wc19jcmVhdGVfZmFpbDsKPiAgCj4gKwlpZiAoIW1kZXYtPmNsYXNzX2lk
KSB7Cj4gKwkJcmV0ID0gLUVJTlZBTDsKPiArCQlXQVJOKDEsICJjbGFzcyBpZCBtdXN0IGJlIHNw
ZWNpZmllZCBmb3IgZGV2aWNlICVzXG4iLAo+ICsJCSAgICAgZGV2X25hbWUoZGV2KSk7CgpOaXQs
IGRldl93YXJuKGRldiwgIm1kZXYgdmVuZG9yIGRyaXZlciBmYWlsZWQgdG8gc3BlY2lmeSBkZXZp
Y2UgY2xhc3NcbiIpOwoKPiArCQlnb3RvIGFkZF9mYWlsOwo+ICsJfQo+ICsKPiAgCXJldCA9IGRl
dmljZV9hZGQoJm1kZXYtPmRldik7Cj4gIAlpZiAocmV0KQo+ICAJCWdvdG8gYWRkX2ZhaWw7Cj4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmZpby9tZGV2L21kZXZfZHJpdmVyLmMgYi9kcml2ZXJzL3Zm
aW8vbWRldi9tZGV2X2RyaXZlci5jCj4gaW5kZXggMGQzMjIzYWVlMjBiLi4zMTlkODg2ZmZhZjcg
MTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy92ZmlvL21kZXYvbWRldl9kcml2ZXIuYwo+ICsrKyBiL2Ry
aXZlcnMvdmZpby9tZGV2L21kZXZfZHJpdmVyLmMKPiBAQCAtNjksOCArNjksMzAgQEAgc3RhdGlj
IGludCBtZGV2X3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCj4gIAlyZXR1cm4gMDsKPiAgfQo+
ICAKPiArc3RhdGljIGludCBtZGV2X21hdGNoKHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGRl
dmljZV9kcml2ZXIgKmRydikKPiArewo+ICsJdW5zaWduZWQgaW50IGk7Cj4gKwlzdHJ1Y3QgbWRl
dl9kZXZpY2UgKm1kZXYgPSB0b19tZGV2X2RldmljZShkZXYpOwo+ICsJc3RydWN0IG1kZXZfZHJp
dmVyICptZHJ2ID0gdG9fbWRldl9kcml2ZXIoZHJ2KTsKPiArCWNvbnN0IHN0cnVjdCBtZGV2X2Ns
YXNzX2lkICppZHMgPSBtZHJ2LT5pZF90YWJsZTsKPiArCgpOaXQsIGFzIHdlIHN0YXJ0IHRvIGFs
bG93IG5ldyBtZGV2IGJ1cyBkcml2ZXJzLCBtZGV2LWNvcmUgbWlnaHQgd2FudCB0bwpwcm90ZWN0
IGl0c2VsZiBmcm9tIGEgTlVMTCBpZF90YWJsZSwgYnkgZWl0aGVyIGZhaWxpbmcgdGhlCm1kZXZf
cmVnaXN0ZXJfZHJpdmVyKCkgb3IgZmFpbGluZyB0aGUgbWF0Y2ggaGVyZS4gIEkgdGhpbmsgc3Vj
aCBhCmNvbmRpdGlvbiB3b3VsZCBzZWdmYXVsdCBhcyB3cml0dGVuIGhlcmUsIGJ1dCBjbGVhcmx5
IHdlIGRvbid0IGhhdmUKc3VjaCBleHRlcm5hbCBkcml2ZXJzIHlldC4gIFRoYW5rcywKCkFsZXgK
Cj4gKwlmb3IgKGkgPSAwOyBpZHNbaV0uaWQ7IGkrKykKPiArCQlpZiAoaWRzW2ldLmlkID09IG1k
ZXYtPmNsYXNzX2lkKQo+ICsJCQlyZXR1cm4gMTsKPiArCXJldHVybiAwOwo+ICt9Cj4gKwo+ICtz
dGF0aWMgaW50IG1kZXZfdWV2ZW50KHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGtvYmpfdWV2
ZW50X2VudiAqZW52KQo+ICt7Cj4gKwlzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYgPSB0b19tZGV2
X2RldmljZShkZXYpOwo+ICsKPiArCXJldHVybiBhZGRfdWV2ZW50X3ZhcihlbnYsICJNT0RBTElB
Uz1tZGV2OmMlMDJYIiwgbWRldi0+Y2xhc3NfaWQpOwo+ICt9Cj4gKwo+ICBzdHJ1Y3QgYnVzX3R5
cGUgbWRldl9idXNfdHlwZSA9IHsKPiAgCS5uYW1lCQk9ICJtZGV2IiwKPiArCS5tYXRjaAkJPSBt
ZGV2X21hdGNoLAo+ICsJLnVldmVudAkJPSBtZGV2X3VldmVudCwKPiAgCS5wcm9iZQkJPSBtZGV2
X3Byb2JlLAo+ICAJLnJlbW92ZQkJPSBtZGV2X3JlbW92ZSwKPiAgfTsKPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy92ZmlvL21kZXYvbWRldl9wcml2YXRlLmggYi9kcml2ZXJzL3ZmaW8vbWRldi9tZGV2
X3ByaXZhdGUuaAo+IGluZGV4IDdkOTIyOTUwY2FhZi4uYzY1ZjQzNmMxODY5IDEwMDY0NAo+IC0t
LSBhL2RyaXZlcnMvdmZpby9tZGV2L21kZXZfcHJpdmF0ZS5oCj4gKysrIGIvZHJpdmVycy92Zmlv
L21kZXYvbWRldl9wcml2YXRlLmgKPiBAQCAtMzMsNiArMzMsNyBAQCBzdHJ1Y3QgbWRldl9kZXZp
Y2Ugewo+ICAJc3RydWN0IGtvYmplY3QgKnR5cGVfa29iajsKPiAgCXN0cnVjdCBkZXZpY2UgKmlv
bW11X2RldmljZTsKPiAgCWJvb2wgYWN0aXZlOwo+ICsJdTE2IGNsYXNzX2lkOwo+ICB9Owo+ICAK
PiAgI2RlZmluZSB0b19tZGV2X2RldmljZShkZXYpCWNvbnRhaW5lcl9vZihkZXYsIHN0cnVjdCBt
ZGV2X2RldmljZSwgZGV2KQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3ZmaW8vbWRldi92ZmlvX21k
ZXYuYyBiL2RyaXZlcnMvdmZpby9tZGV2L3ZmaW9fbWRldi5jCj4gaW5kZXggMzA5NjRhNGUwYTI4
Li43YjI0ZWU5Y2I4ZGQgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy92ZmlvL21kZXYvdmZpb19tZGV2
LmMKPiArKysgYi9kcml2ZXJzL3ZmaW8vbWRldi92ZmlvX21kZXYuYwo+IEBAIC0xMjAsMTAgKzEy
MCwxNiBAQCBzdGF0aWMgdm9pZCB2ZmlvX21kZXZfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikK
PiAgCXZmaW9fZGVsX2dyb3VwX2RldihkZXYpOwo+ICB9Cj4gIAo+ICtzdGF0aWMgY29uc3Qgc3Ry
dWN0IG1kZXZfY2xhc3NfaWQgaWRfdGFibGVbXSA9IHsKPiArCXsgTURFVl9DTEFTU19JRF9WRklP
IH0sCj4gKwl7IDAgfSwKPiArfTsKPiArCj4gIHN0YXRpYyBzdHJ1Y3QgbWRldl9kcml2ZXIgdmZp
b19tZGV2X2RyaXZlciA9IHsKPiAgCS5uYW1lCT0gInZmaW9fbWRldiIsCj4gIAkucHJvYmUJPSB2
ZmlvX21kZXZfcHJvYmUsCj4gIAkucmVtb3ZlCT0gdmZpb19tZGV2X3JlbW92ZSwKPiArCS5pZF90
YWJsZSA9IGlkX3RhYmxlLAo+ICB9Owo+ICAKPiAgc3RhdGljIGludCBfX2luaXQgdmZpb19tZGV2
X2luaXQodm9pZCkKPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9saW51eC9tZGV2LmggYi9pbmNsdWRl
L2xpbnV4L21kZXYuaAo+IGluZGV4IDBjZTMwY2E3OGRiMC4uNzhiNjlkMDllYjU0IDEwMDY0NAo+
IC0tLSBhL2luY2x1ZGUvbGludXgvbWRldi5oCj4gKysrIGIvaW5jbHVkZS9saW51eC9tZGV2LmgK
PiBAQCAtMTE4LDYgKzExOCw3IEBAIHN0cnVjdCBtZGV2X3R5cGVfYXR0cmlidXRlIG1kZXZfdHlw
ZV9hdHRyXyMjX25hbWUgPQkJXAo+ICAgKiBAcHJvYmU6IGNhbGxlZCB3aGVuIG5ldyBkZXZpY2Ug
Y3JlYXRlZAo+ICAgKiBAcmVtb3ZlOiBjYWxsZWQgd2hlbiBkZXZpY2UgcmVtb3ZlZAo+ICAgKiBA
ZHJpdmVyOiBkZXZpY2UgZHJpdmVyIHN0cnVjdHVyZQo+ICsgKiBAaWRfdGFibGU6IHRoZSBpZHMg
c2VydmljZWQgYnkgdGhpcyBkcml2ZXIKPiAgICoKPiAgICoqLwo+ICBzdHJ1Y3QgbWRldl9kcml2
ZXIgewo+IEBAIC0xMjUsNiArMTI2LDcgQEAgc3RydWN0IG1kZXZfZHJpdmVyIHsKPiAgCWludCAg
KCpwcm9iZSkoc3RydWN0IGRldmljZSAqZGV2KTsKPiAgCXZvaWQgKCpyZW1vdmUpKHN0cnVjdCBk
ZXZpY2UgKmRldik7Cj4gIAlzdHJ1Y3QgZGV2aWNlX2RyaXZlciBkcml2ZXI7Cj4gKwljb25zdCBz
dHJ1Y3QgbWRldl9jbGFzc19pZCAqaWRfdGFibGU7Cj4gIH07Cj4gIAo+ICAjZGVmaW5lIHRvX21k
ZXZfZHJpdmVyKGRydikJY29udGFpbmVyX29mKGRydiwgc3RydWN0IG1kZXZfZHJpdmVyLCBkcml2
ZXIpCj4gQEAgLTEzMiw2ICsxMzQsNyBAQCBzdHJ1Y3QgbWRldl9kcml2ZXIgewo+ICB2b2lkICpt
ZGV2X2dldF9kcnZkYXRhKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldik7Cj4gIHZvaWQgbWRldl9z
ZXRfZHJ2ZGF0YShzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYsIHZvaWQgKmRhdGEpOwo+ICBjb25z
dCBndWlkX3QgKm1kZXZfdXVpZChzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYpOwo+ICt2b2lkIG1k
ZXZfc2V0X2NsYXNzKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldiwgdTE2IGlkKTsKPiAgCj4gIGV4
dGVybiBzdHJ1Y3QgYnVzX3R5cGUgbWRldl9idXNfdHlwZTsKPiAgCj4gQEAgLTE0NSw0ICsxNDgs
OSBAQCBzdHJ1Y3QgZGV2aWNlICptZGV2X3BhcmVudF9kZXYoc3RydWN0IG1kZXZfZGV2aWNlICpt
ZGV2KTsKPiAgc3RydWN0IGRldmljZSAqbWRldl9kZXYoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2
KTsKPiAgc3RydWN0IG1kZXZfZGV2aWNlICptZGV2X2Zyb21fZGV2KHN0cnVjdCBkZXZpY2UgKmRl
dik7Cj4gIAo+ICtlbnVtIHsKPiArCU1ERVZfQ0xBU1NfSURfVkZJTyA9IDEsCj4gKwkvKiBOZXcg
ZW50cmllcyBtdXN0IGJlIGFkZGVkIGhlcmUgKi8KPiArfTsKPiArCj4gICNlbmRpZiAvKiBNREVW
X0ggKi8KPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9saW51eC9tb2RfZGV2aWNldGFibGUuaCBiL2lu
Y2x1ZGUvbGludXgvbW9kX2RldmljZXRhYmxlLmgKPiBpbmRleCA1NzE0ZmQzNWE4M2MuLmYzMmM2
ZTQ0ZmIxYSAxMDA2NDQKPiAtLS0gYS9pbmNsdWRlL2xpbnV4L21vZF9kZXZpY2V0YWJsZS5oCj4g
KysrIGIvaW5jbHVkZS9saW51eC9tb2RfZGV2aWNldGFibGUuaAo+IEBAIC04MjEsNCArODIxLDEy
IEBAIHN0cnVjdCB3bWlfZGV2aWNlX2lkIHsKPiAgCWNvbnN0IHZvaWQgKmNvbnRleHQ7Cj4gIH07
Cj4gIAo+ICsvKioKPiArICogc3RydWN0IG1kZXZfY2xhc3NfaWQgLSBNREVWIGRldmljZSBjbGFz
cyBpZGVudGlmaWVyCj4gKyAqIEBpZDogVXNlZCB0byBpZGVudGlmeSBhIHNwZWNpZmljIGNsYXNz
IG9mIGRldmljZSwgZS5nIHZmaW8tbWRldiBkZXZpY2UuCj4gKyAqLwo+ICtzdHJ1Y3QgbWRldl9j
bGFzc19pZCB7Cj4gKwlfX3UxNiBpZDsKPiArfTsKPiArCj4gICNlbmRpZiAvKiBMSU5VWF9NT0Rf
REVWSUNFVEFCTEVfSCAqLwo+IGRpZmYgLS1naXQgYS9zYW1wbGVzL3ZmaW8tbWRldi9tYm9jaHMu
YyBiL3NhbXBsZXMvdmZpby1tZGV2L21ib2Nocy5jCj4gaW5kZXggYWM1YzhjMTdiMWZmLi4xMTVi
YzUwNzQ2NTYgMTAwNjQ0Cj4gLS0tIGEvc2FtcGxlcy92ZmlvLW1kZXYvbWJvY2hzLmMKPiArKysg
Yi9zYW1wbGVzL3ZmaW8tbWRldi9tYm9jaHMuYwo+IEBAIC01NjEsNiArNTYxLDcgQEAgc3RhdGlj
IGludCBtYm9jaHNfY3JlYXRlKHN0cnVjdCBrb2JqZWN0ICprb2JqLCBzdHJ1Y3QgbWRldl9kZXZp
Y2UgKm1kZXYpCj4gIAltYm9jaHNfcmVzZXQobWRldik7Cj4gIAo+ICAJbWJvY2hzX3VzZWRfbWJ5
dGVzICs9IHR5cGUtPm1ieXRlczsKPiArCW1kZXZfc2V0X2NsYXNzKG1kZXYsIE1ERVZfQ0xBU1Nf
SURfVkZJTyk7Cj4gIAlyZXR1cm4gMDsKPiAgCj4gIGVycl9tZW06Cj4gZGlmZiAtLWdpdCBhL3Nh
bXBsZXMvdmZpby1tZGV2L21kcHkuYyBiL3NhbXBsZXMvdmZpby1tZGV2L21kcHkuYwo+IGluZGV4
IGNjODZiZjY1NjZlNC4uNjY1NjE0NTc0ZDUwIDEwMDY0NAo+IC0tLSBhL3NhbXBsZXMvdmZpby1t
ZGV2L21kcHkuYwo+ICsrKyBiL3NhbXBsZXMvdmZpby1tZGV2L21kcHkuYwo+IEBAIC0yNjksNiAr
MjY5LDcgQEAgc3RhdGljIGludCBtZHB5X2NyZWF0ZShzdHJ1Y3Qga29iamVjdCAqa29iaiwgc3Ry
dWN0IG1kZXZfZGV2aWNlICptZGV2KQo+ICAJbWRweV9yZXNldChtZGV2KTsKPiAgCj4gIAltZHB5
X2NvdW50Kys7Cj4gKwltZGV2X3NldF9jbGFzcyhtZGV2LCBNREVWX0NMQVNTX0lEX1ZGSU8pOwo+
ICAJcmV0dXJuIDA7Cj4gIH0KPiAgCj4gZGlmZiAtLWdpdCBhL3NhbXBsZXMvdmZpby1tZGV2L210
dHkuYyBiL3NhbXBsZXMvdmZpby1tZGV2L210dHkuYwo+IGluZGV4IGNlODRhMzAwYTRkYS4uOTBk
YTEyZmY3ZmQ5IDEwMDY0NAo+IC0tLSBhL3NhbXBsZXMvdmZpby1tZGV2L210dHkuYwo+ICsrKyBi
L3NhbXBsZXMvdmZpby1tZGV2L210dHkuYwo+IEBAIC03NTUsNiArNzU1LDcgQEAgc3RhdGljIGlu
dCBtdHR5X2NyZWF0ZShzdHJ1Y3Qga29iamVjdCAqa29iaiwgc3RydWN0IG1kZXZfZGV2aWNlICpt
ZGV2KQo+ICAJbGlzdF9hZGQoJm1kZXZfc3RhdGUtPm5leHQsICZtZGV2X2RldmljZXNfbGlzdCk7
Cj4gIAltdXRleF91bmxvY2soJm1kZXZfbGlzdF9sb2NrKTsKPiAgCj4gKwltZGV2X3NldF9jbGFz
cyhtZGV2LCBNREVWX0NMQVNTX0lEX1ZGSU8pOwo+ICAJcmV0dXJuIDA7Cj4gIH0KPiAgCgpfX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFp
bGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5m
cmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
