Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 8A6DDE6E11
	for <lists+dri-devel@lfdr.de>; Mon, 28 Oct 2019 09:24:38 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3E8126E462;
	Mon, 28 Oct 2019 08:23:56 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-pg1-x544.google.com (mail-pg1-x544.google.com
 [IPv6:2607:f8b0:4864:20::544])
 by gabe.freedesktop.org (Postfix) with ESMTPS id F20466EA30
 for <dri-devel@lists.freedesktop.org>; Fri, 25 Oct 2019 13:30:59 +0000 (UTC)
Received: by mail-pg1-x544.google.com with SMTP id e10so1542256pgd.11
 for <dri-devel@lists.freedesktop.org>; Fri, 25 Oct 2019 06:30:59 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=ve3UtPvtc/xYkzxdt2g2jT6KC14vNaRw1VSiMrx2k+M=;
 b=TtzIUhKPr+ksr2GNZdv5fvmk3vCYjc5ZKDOADQTCby5U9lDFNyNtoALTr87sIZYUnH
 nrTLVjL89oMOnVkcNmiT3rZw+d2zF42BKJ23MfvlLsEE2cjQ6T3eJolPNjvEjxcLsJOO
 oQtCKWxP9pFz4sbqzdC1PVZuD99havimHgK0ptf50ug6cmROM1lJNnuii1v/wLgO6slP
 AZztcUIJSx9u/gNIkuWduoNWehDhgmULfc7uRLV9JgWgOgTpNcRXh6GYTd6ABXKQulop
 +OwPMZDC4WWpdQMZ7MypqgoSmfCahuNPRQ3dxuEITi/NMH1jtgXgBd6zCUf/11yATWeq
 JQlg==
X-Gm-Message-State: APjAAAVr4hXs4vp3jqOLMWcOPH+uEP0GIc/VwctrUHYr3Rpdh2VcJrOF
 RUUZuzN5ua2AcUNi9TXGthWJUQ==
X-Google-Smtp-Source: APXvYqwiC2BqHWw3Cqka033jfN2e+Ph/X2FqnMG3562MQjdYekANvaSdM2so/agTcj766/MpFJOtXw==
X-Received: by 2002:a17:90a:730a:: with SMTP id
 m10mr4184984pjk.80.1572010259258; 
 Fri, 25 Oct 2019 06:30:59 -0700 (PDT)
Received: from localhost ([2401:fa00:1:10:79b4:bd83:e4a5:a720])
 by smtp.gmail.com with ESMTPSA id e23sm2677354pgh.84.2019.10.25.06.30.54
 (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
 Fri, 25 Oct 2019 06:30:58 -0700 (PDT)
From: Cheng-Yi Chiang <cychiang@chromium.org>
To: linux-kernel@vger.kernel.org
Subject: [PATCH v8 3/6] ASoC: rockchip_max98090: Optionally support HDMI use
 case
Date: Fri, 25 Oct 2019 21:30:04 +0800
Message-Id: <20191025133007.11190-4-cychiang@chromium.org>
X-Mailer: git-send-email 2.24.0.rc0.303.g954a862665-goog
In-Reply-To: <20191025133007.11190-1-cychiang@chromium.org>
References: <20191025133007.11190-1-cychiang@chromium.org>
MIME-Version: 1.0
X-Mailman-Approved-At: Mon, 28 Oct 2019 08:23:53 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=chromium.org; s=google;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=ve3UtPvtc/xYkzxdt2g2jT6KC14vNaRw1VSiMrx2k+M=;
 b=DK2nUf+FP8kZb9OOpfloe4MHcvJFz2/rv7k5yAQK83PBDj4jh15Z+fI3qR98PHrYgw
 BWhr0pj65MZmG/uTpX+k5yiYagE4bTizChAfOggclPZjhzHVoe/rDN4fZg+p+XFiCzTe
 ZF3c6QKMJ387PjbCa+kDDAiCkRSPcs8Vp2Xt4=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Mark Rutland <mark.rutland@arm.com>, alsa-devel@alsa-project.org,
 Neil Armstrong <narmstrong@baylibre.com>, David Airlie <airlied@linux.ie>,
 dri-devel@lists.freedesktop.org, Liam Girdwood <lgirdwood@gmail.com>,
 Hans Verkuil <hverkuil@xs4all.nl>,
 Laurent Pinchart <Laurent.pinchart@ideasonboard.com>,
 Jerome Brunet <jbrunet@baylibre.com>, Takashi Iwai <tiwai@suse.com>,
 linux-rockchip@lists.infradead.org, dgreid@chromium.org,
 Cheng-Yi Chiang <cychiang@chromium.org>, devicetree@vger.kernel.org,
 tzungbi@chromium.org, Jonas Karlman <jonas@kwiboo.se>,
 Russell King <rmk+kernel@armlinux.org.uk>, Rob Herring <robh+dt@kernel.org>,
 Jaroslav Kysela <perex@perex.cz>, linux-arm-kernel@lists.infradead.org,
 Jernej Skrabec <jernej.skrabec@siol.net>, dianders@chromium.org,
 Mark Brown <broonie@kernel.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

U3VwcG9ydCB0aHJlZSBkaWZmZXJlbnQgdXNlIGNhc2VzIHdpdGggcm9ja2NoaXBfbWF4OTgwOTAg
ZHJpdmVyOgoKLSBtYXg5ODA5MCBvbmx5OiBDdXJyZW50IHVzYWdlLCB3aGVyZSBIRE1JIGxpbmsg
aXMgbWlzc2luZy4KLSBIRE1JIG9ubHk6IE5lZWRlZCB1c2UgY2FzZSBmb3IgdmV5cm9uX21pY2tl
eSBib2FyZC4KLSBtYXg5ODA5MCArIEhETUk6IElkZWFsIHVzZSBjYXNlIGZvciB2ZXlyb25famVy
cnksIHZleXJvbl9taW5uaWUuLmV0Yy4KCk5vdGUgdGhhdCB3ZSBrZWVwIG1heDk4MDkwIG9ubHkg
dXNhZ2UgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkuCkZyb20gZGV2aWNldHJlZSwgZGlmZmVy
ZW50IGNvbXBhdGlibGUgc3RyaW5nIGNhbiBiZSBwYXNzZWQgdG8gY29uZmlndXJlCnRoZSB1c2Fn
ZS4KClNpZ25lZC1vZmYtYnk6IENoZW5nLVlpIENoaWFuZyA8Y3ljaGlhbmdAY2hyb21pdW0ub3Jn
PgotLS0KVGhlIGNoZWNrcGF0Y2ggZXJyb3IKIk1hY3JvcyB3aXRoIGNvbXBsZXggdmFsdWVzIHNo
b3VsZCBiZSBlbmNsb3NlZCBpbiBwYXJlbnRoZXNlcyIKc2VlbXMgbm90IHN1aXRhYmxlIGZvciB0
aGUgbWFjcm8gdXNhZ2UgZm9yIERBUE0gd2lkZ2V0LCByb3V0ZSwgYW5kIGNvbnRyb2xzLgoKIHNv
dW5kL3NvYy9yb2NrY2hpcC9yb2NrY2hpcF9tYXg5ODA5MC5jIHwgMzcxICsrKysrKysrKysrKysr
KysrKysrLS0tLS0KIDEgZmlsZSBjaGFuZ2VkLCAzMDMgaW5zZXJ0aW9ucygrKSwgNjggZGVsZXRp
b25zKC0pCgpkaWZmIC0tZ2l0IGEvc291bmQvc29jL3JvY2tjaGlwL3JvY2tjaGlwX21heDk4MDkw
LmMgYi9zb3VuZC9zb2Mvcm9ja2NoaXAvcm9ja2NoaXBfbWF4OTgwOTAuYwppbmRleCAwMDk3ZGYx
ZmFlNjYuLjU1MGU1Nzc4OTcxOSAxMDA2NDQKLS0tIGEvc291bmQvc29jL3JvY2tjaGlwL3JvY2tj
aGlwX21heDk4MDkwLmMKKysrIGIvc291bmQvc29jL3JvY2tjaGlwL3JvY2tjaGlwX21heDk4MDkw
LmMKQEAgLTYsMTEgKzYsMTMgQEAKICAqLwogCiAjaW5jbHVkZSA8bGludXgvbW9kdWxlLmg+Cisj
aW5jbHVkZSA8bGludXgvb2ZfZGV2aWNlLmg+CiAjaW5jbHVkZSA8bGludXgvcGxhdGZvcm1fZGV2
aWNlLmg+CiAjaW5jbHVkZSA8bGludXgvc2xhYi5oPgogI2luY2x1ZGUgPGxpbnV4L2dwaW8uaD4K
ICNpbmNsdWRlIDxsaW51eC9vZl9ncGlvLmg+CiAjaW5jbHVkZSA8c291bmQvY29yZS5oPgorI2lu
Y2x1ZGUgPHNvdW5kL2hkbWktY29kZWMuaD4KICNpbmNsdWRlIDxzb3VuZC9qYWNrLmg+CiAjaW5j
bHVkZSA8c291bmQvcGNtLmg+CiAjaW5jbHVkZSA8c291bmQvcGNtX3BhcmFtcy5oPgpAQCAtMjEs
NiArMjMsMTcgQEAKIAogI2RlZmluZSBEUlZfTkFNRSAicm9ja2NoaXAtc25kLW1heDk4MDkwIgog
CitlbnVtIHJrX3NuZF91c2FnZSB7CisJUktfVVNFX01BWDk4MDkwLCAvKiBPbmx5IHVzZSBtYXg5
ODA5MC4gKi8KKwlSS19VU0VfSERNSSwgLyogT25seSB1c2UgSERNSS4gKi8KKwlSS19VU0VfTUFY
OTgwOTBfSERNSSwgLyogVXNlIGJvdGggbWF4OTgwOTAgYW5kIEhETUkuICovCit9OworCitzdHJ1
Y3QgcmtfY2FyZF9jb25maWcgeworCWVudW0gcmtfc25kX3VzYWdlIHVzYWdlOworCXN0cnVjdCBz
bmRfc29jX2NhcmQgKmNhcmQ7Cit9OworCiBzdGF0aWMgc3RydWN0IHNuZF9zb2NfamFjayBoZWFk
c2V0X2phY2s7CiAKIC8qIEhlYWRzZXQgamFjayBkZXRlY3Rpb24gREFQTSBwaW5zICovCkBAIC0z
NiwyOCArNDksNzMgQEAgc3RhdGljIHN0cnVjdCBzbmRfc29jX2phY2tfcGluIGhlYWRzZXRfamFj
a19waW5zW10gPSB7CiAKIH07CiAKLXN0YXRpYyBjb25zdCBzdHJ1Y3Qgc25kX3NvY19kYXBtX3dp
ZGdldCBya19kYXBtX3dpZGdldHNbXSA9IHsKLQlTTkRfU09DX0RBUE1fSFAoIkhlYWRwaG9uZSIs
IE5VTEwpLAotCVNORF9TT0NfREFQTV9NSUMoIkhlYWRzZXQgTWljIiwgTlVMTCksCi0JU05EX1NP
Q19EQVBNX01JQygiSW50IE1pYyIsIE5VTEwpLAotCVNORF9TT0NfREFQTV9TUEsoIlNwZWFrZXIi
LCBOVUxMKSwKKyNkZWZpbmUgUktfTUFYOTgwOTBfV0lER0VUUyBcCisJU05EX1NPQ19EQVBNX0hQ
KCJIZWFkcGhvbmUiLCBOVUxMKSwgXAorCVNORF9TT0NfREFQTV9NSUMoIkhlYWRzZXQgTWljIiwg
TlVMTCksIFwKKwlTTkRfU09DX0RBUE1fTUlDKCJJbnQgTWljIiwgTlVMTCksIFwKKwlTTkRfU09D
X0RBUE1fU1BLKCJTcGVha2VyIiwgTlVMTCkKKworI2RlZmluZSBSS19IRE1JX1dJREdFVFMgXAor
CVNORF9TT0NfREFQTV9MSU5FKCJIRE1JIiwgTlVMTCkKKworc3RhdGljIGNvbnN0IHN0cnVjdCBz
bmRfc29jX2RhcG1fd2lkZ2V0IHJrX21heDk4MDkwX2RhcG1fd2lkZ2V0c1tdID0geworCVJLX01B
WDk4MDkwX1dJREdFVFMsCit9OworCitzdGF0aWMgY29uc3Qgc3RydWN0IHNuZF9zb2NfZGFwbV93
aWRnZXQgcmtfaGRtaV9kYXBtX3dpZGdldHNbXSA9IHsKKwlSS19IRE1JX1dJREdFVFMsCit9Owor
CitzdGF0aWMgY29uc3Qgc3RydWN0IHNuZF9zb2NfZGFwbV93aWRnZXQgcmtfbWF4OTgwOTBfaGRt
aV9kYXBtX3dpZGdldHNbXSA9IHsKKwlSS19NQVg5ODA5MF9XSURHRVRTLAorCVJLX0hETUlfV0lE
R0VUUywKK307CisKKyNkZWZpbmUgUktfTUFYOTgwOTBfQVVESU9fTUFQIFwKKwl7IklOMzQiLCBO
VUxMLCAiSGVhZHNldCBNaWMifSwgXAorCXsiSGVhZHNldCBNaWMiLCBOVUxMLCAiTUlDQklBUyJ9
LCBcCisJeyJETUlDTCIsIE5VTEwsICJJbnQgTWljIn0sIFwKKwl7IkhlYWRwaG9uZSIsIE5VTEws
ICJIUEwifSwgXAorCXsiSGVhZHBob25lIiwgTlVMTCwgIkhQUiJ9LCBcCisJeyJTcGVha2VyIiwg
TlVMTCwgIlNQS0wifSwgXAorCXsiU3BlYWtlciIsIE5VTEwsICJTUEtSIn0KKworI2RlZmluZSBS
S19IRE1JX0FVRElPX01BUCBcCisJeyJIRE1JIiwgTlVMTCwgIlRYIn0KKworc3RhdGljIGNvbnN0
IHN0cnVjdCBzbmRfc29jX2RhcG1fcm91dGUgcmtfbWF4OTgwOTBfYXVkaW9fbWFwW10gPSB7CisJ
UktfTUFYOTgwOTBfQVVESU9fTUFQLAorfTsKKworc3RhdGljIGNvbnN0IHN0cnVjdCBzbmRfc29j
X2RhcG1fcm91dGUgcmtfaGRtaV9hdWRpb19tYXBbXSA9IHsKKwlSS19IRE1JX0FVRElPX01BUCwK
K307CisKK3N0YXRpYyBjb25zdCBzdHJ1Y3Qgc25kX3NvY19kYXBtX3JvdXRlIHJrX21heDk4MDkw
X2hkbWlfYXVkaW9fbWFwW10gPSB7CisJUktfTUFYOTgwOTBfQVVESU9fTUFQLAorCVJLX0hETUlf
QVVESU9fTUFQLAorfTsKKworI2RlZmluZSBSS19NQVg5ODA5MF9DT05UUk9MUyBcCisJU09DX0RB
UE1fUElOX1NXSVRDSCgiSGVhZHBob25lIiksIFwKKwlTT0NfREFQTV9QSU5fU1dJVENIKCJIZWFk
c2V0IE1pYyIpLCBcCisJU09DX0RBUE1fUElOX1NXSVRDSCgiSW50IE1pYyIpLCBcCisJU09DX0RB
UE1fUElOX1NXSVRDSCgiU3BlYWtlciIpCisKKyNkZWZpbmUgUktfSERNSV9DT05UUk9MUyBcCisJ
U09DX0RBUE1fUElOX1NXSVRDSCgiSERNSSIpCisKK3N0YXRpYyBjb25zdCBzdHJ1Y3Qgc25kX2tj
b250cm9sX25ldyBya19tYXg5ODA5MF9jb250cm9sc1tdID0geworCVJLX01BWDk4MDkwX0NPTlRS
T0xTLAogfTsKIAotc3RhdGljIGNvbnN0IHN0cnVjdCBzbmRfc29jX2RhcG1fcm91dGUgcmtfYXVk
aW9fbWFwW10gPSB7Ci0JeyJJTjM0IiwgTlVMTCwgIkhlYWRzZXQgTWljIn0sCi0JeyJIZWFkc2V0
IE1pYyIsIE5VTEwsICJNSUNCSUFTIn0sCi0JeyJETUlDTCIsIE5VTEwsICJJbnQgTWljIn0sCi0J
eyJIZWFkcGhvbmUiLCBOVUxMLCAiSFBMIn0sCi0JeyJIZWFkcGhvbmUiLCBOVUxMLCAiSFBSIn0s
Ci0JeyJTcGVha2VyIiwgTlVMTCwgIlNQS0wifSwKLQl7IlNwZWFrZXIiLCBOVUxMLCAiU1BLUiJ9
LAorc3RhdGljIGNvbnN0IHN0cnVjdCBzbmRfa2NvbnRyb2xfbmV3IHJrX2hkbWlfY29udHJvbHNb
XSA9IHsKKwlSS19IRE1JX0NPTlRST0xTLAogfTsKIAotc3RhdGljIGNvbnN0IHN0cnVjdCBzbmRf
a2NvbnRyb2xfbmV3IHJrX21jX2NvbnRyb2xzW10gPSB7Ci0JU09DX0RBUE1fUElOX1NXSVRDSCgi
SGVhZHBob25lIiksCi0JU09DX0RBUE1fUElOX1NXSVRDSCgiSGVhZHNldCBNaWMiKSwKLQlTT0Nf
REFQTV9QSU5fU1dJVENIKCJJbnQgTWljIiksCi0JU09DX0RBUE1fUElOX1NXSVRDSCgiU3BlYWtl
ciIpLAorc3RhdGljIGNvbnN0IHN0cnVjdCBzbmRfa2NvbnRyb2xfbmV3IHJrX21heDk4MDkwX2hk
bWlfY29udHJvbHNbXSA9IHsKKwlSS19NQVg5ODA5MF9DT05UUk9MUywKKwlSS19IRE1JX0NPTlRS
T0xTLAogfTsKIAogc3RhdGljIGludCBya19qYWNrX2V2ZW50KHN0cnVjdCBub3RpZmllcl9ibG9j
ayAqbmIsIHVuc2lnbmVkIGxvbmcgZXZlbnQsCkBAIC0xMjIsMTUgKzE4MCwyMCBAQCBzdGF0aWMg
aW50IHJrX2FpZjFfaHdfcGFyYW1zKHN0cnVjdCBzbmRfcGNtX3N1YnN0cmVhbSAqc3Vic3RyZWFt
LAogCiAJcmV0ID0gc25kX3NvY19kYWlfc2V0X3N5c2NsayhjcHVfZGFpLCAwLCBtY2xrLAogCQkJ
CSAgICAgU05EX1NPQ19DTE9DS19PVVQpOwotCWlmIChyZXQgPCAwKSB7Ci0JCWRldl9lcnIoY29k
ZWNfZGFpLT5kZXYsICJDYW4ndCBzZXQgY29kZWMgY2xvY2sgJWRcbiIsIHJldCk7CisJaWYgKHJl
dCkgeworCQlkZXZfZXJyKGNwdV9kYWktPmRldiwgIkNhbid0IHNldCBjcHUgZGFpIGNsb2NrICVk
XG4iLCByZXQpOwogCQlyZXR1cm4gcmV0OwogCX0KIAogCXJldCA9IHNuZF9zb2NfZGFpX3NldF9z
eXNjbGsoY29kZWNfZGFpLCAwLCBtY2xrLAogCQkJCSAgICAgU05EX1NPQ19DTE9DS19JTik7Ci0J
aWYgKHJldCA8IDApIHsKLQkJZGV2X2Vycihjb2RlY19kYWktPmRldiwgIkNhbid0IHNldCBjb2Rl
YyBjbG9jayAlZFxuIiwgcmV0KTsKKworCS8qIEhETUkgY29kZWMgZGFpIGRvZXMgbm90IG5lZWQg
dG8gc2V0IHN5c2Nsay4gKi8KKwlpZiAoIXN0cmNtcChydGQtPmRhaV9saW5rLT5uYW1lLCAiSERN
SSIpKQorCQlyZXR1cm4gMDsKKworCWlmIChyZXQpIHsKKwkJZGV2X2Vycihjb2RlY19kYWktPmRl
diwgIkNhbid0IHNldCBjb2RlYyBkYWkgY2xvY2sgJWRcbiIsIHJldCk7CiAJCXJldHVybiByZXQ7
CiAJfQogCkBAIC0xNTIsMjAgKzIxNSw2NyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IHNuZF9zb2Nf
b3BzIHJrX2FpZjFfb3BzID0gewogCS5zdGFydHVwID0gcmtfYWlmMV9zdGFydHVwLAogfTsKIAot
U05EX1NPQ19EQUlMSU5LX0RFRlMoaGlmaSwKLQlEQUlMSU5LX0NPTVBfQVJSQVkoQ09NUF9FTVBU
WSgpKSwKLQlEQUlMSU5LX0NPTVBfQVJSQVkoQ09NUF9DT0RFQyhOVUxMLCAiSGlGaSIpKSwKLQlE
QUlMSU5LX0NPTVBfQVJSQVkoQ09NUF9FTVBUWSgpKSk7Ci0KLXN0YXRpYyBzdHJ1Y3Qgc25kX3Nv
Y19kYWlfbGluayBya19kYWlsaW5rID0gewotCS5uYW1lID0gIm1heDk4MDkwIiwKLQkuc3RyZWFt
X25hbWUgPSAiQXVkaW8iLAotCS5pbml0ID0gcmtfaW5pdCwKLQkub3BzID0gJnJrX2FpZjFfb3Bz
LAotCS8qIHNldCBtYXg5ODA5MCBhcyBzbGF2ZSAqLwotCS5kYWlfZm10ID0gU05EX1NPQ19EQUlG
TVRfSTJTIHwgU05EX1NPQ19EQUlGTVRfTkJfTkYgfAotCQlTTkRfU09DX0RBSUZNVF9DQlNfQ0ZT
LAotCVNORF9TT0NfREFJTElOS19SRUcoaGlmaSksCitTTkRfU09DX0RBSUxJTktfREVGUyhhbmFs
b2csCisJCSAgICAgREFJTElOS19DT01QX0FSUkFZKENPTVBfRU1QVFkoKSksCisJCSAgICAgREFJ
TElOS19DT01QX0FSUkFZKENPTVBfQ09ERUMoTlVMTCwgIkhpRmkiKSksCisJCSAgICAgREFJTElO
S19DT01QX0FSUkFZKENPTVBfRU1QVFkoKSkpOworCitTTkRfU09DX0RBSUxJTktfREVGUyhoZG1p
LAorCQkgICAgIERBSUxJTktfQ09NUF9BUlJBWShDT01QX0VNUFRZKCkpLAorCQkgICAgIERBSUxJ
TktfQ09NUF9BUlJBWShDT01QX0NPREVDKE5VTEwsICJpMnMtaGlmaSIpKSwKKwkJICAgICBEQUlM
SU5LX0NPTVBfQVJSQVkoQ09NUF9FTVBUWSgpKSk7CisKK2VudW0geworCURBSUxJTktfTUFYOTgw
OTAsCisJREFJTElOS19IRE1JLAorfTsKKworLyogbWF4OTgwOTAgZGFpX2xpbmsgKi8KK3N0YXRp
YyBzdHJ1Y3Qgc25kX3NvY19kYWlfbGluayBya19tYXg5ODA5MF9kYWlsaW5rc1tdID0geworCXsK
KwkJLm5hbWUgPSAibWF4OTgwOTAiLAorCQkuc3RyZWFtX25hbWUgPSAiQW5hbG9nIiwKKwkJLmlu
aXQgPSBya19pbml0LAorCQkub3BzID0gJnJrX2FpZjFfb3BzLAorCQkvKiBzZXQgbWF4OTgwOTAg
YXMgc2xhdmUgKi8KKwkJLmRhaV9mbXQgPSBTTkRfU09DX0RBSUZNVF9JMlMgfCBTTkRfU09DX0RB
SUZNVF9OQl9ORiB8CisJCQlTTkRfU09DX0RBSUZNVF9DQlNfQ0ZTLAorCQlTTkRfU09DX0RBSUxJ
TktfUkVHKGFuYWxvZyksCisJfSwKK307CisKKy8qIEhETUkgY29kZWMgZGFpX2xpbmsgKi8KK3N0
YXRpYyBzdHJ1Y3Qgc25kX3NvY19kYWlfbGluayBya19oZG1pX2RhaWxpbmtzW10gPSB7CisJewor
CQkubmFtZSA9ICJIRE1JIiwKKwkJLnN0cmVhbV9uYW1lID0gIkhETUkiLAorCQkub3BzID0gJnJr
X2FpZjFfb3BzLAorCQkuZGFpX2ZtdCA9IFNORF9TT0NfREFJRk1UX0kyUyB8IFNORF9TT0NfREFJ
Rk1UX05CX05GIHwKKwkJCVNORF9TT0NfREFJRk1UX0NCU19DRlMsCisJCVNORF9TT0NfREFJTElO
S19SRUcoaGRtaSksCisJfQorfTsKKworLyogbWF4OTgwOTAgYW5kIEhETUkgY29kZWMgZGFpX2xp
bmsgKi8KK3N0YXRpYyBzdHJ1Y3Qgc25kX3NvY19kYWlfbGluayBya19tYXg5ODA5MF9oZG1pX2Rh
aWxpbmtzW10gPSB7CisJW0RBSUxJTktfTUFYOTgwOTBdID0geworCQkubmFtZSA9ICJtYXg5ODA5
MCIsCisJCS5zdHJlYW1fbmFtZSA9ICJBbmFsb2ciLAorCQkuaW5pdCA9IHJrX2luaXQsCisJCS5v
cHMgPSAmcmtfYWlmMV9vcHMsCisJCS8qIHNldCBtYXg5ODA5MCBhcyBzbGF2ZSAqLworCQkuZGFp
X2ZtdCA9IFNORF9TT0NfREFJRk1UX0kyUyB8IFNORF9TT0NfREFJRk1UX05CX05GIHwKKwkJCVNO
RF9TT0NfREFJRk1UX0NCU19DRlMsCisJCVNORF9TT0NfREFJTElOS19SRUcoYW5hbG9nKSwKKwl9
LAorCVtEQUlMSU5LX0hETUldID0geworCQkubmFtZSA9ICJIRE1JIiwKKwkJLnN0cmVhbV9uYW1l
ID0gIkhETUkiLAorCQkub3BzID0gJnJrX2FpZjFfb3BzLAorCQkuZGFpX2ZtdCA9IFNORF9TT0Nf
REFJRk1UX0kyUyB8IFNORF9TT0NfREFJRk1UX05CX05GIHwKKwkJCVNORF9TT0NfREFJRk1UX0NC
U19DRlMsCisJCVNORF9TT0NfREFJTElOS19SRUcoaGRtaSksCisJfQogfTsKIAogc3RhdGljIGlu
dCBya185ODA5MF9oZWFkc2V0X2luaXQoc3RydWN0IHNuZF9zb2NfY29tcG9uZW50ICpjb21wb25l
bnQpOwpAQCAtMTc1LDE5ICsyODUsNDcgQEAgc3RhdGljIHN0cnVjdCBzbmRfc29jX2F1eF9kZXYg
cmtfOTgwOTBfaGVhZHNldF9kZXYgPSB7CiAJLmluaXQgPSBya185ODA5MF9oZWFkc2V0X2luaXQs
CiB9OwogCi1zdGF0aWMgc3RydWN0IHNuZF9zb2NfY2FyZCBzbmRfc29jX2NhcmRfcmsgPSB7Citz
dGF0aWMgc3RydWN0IHNuZF9zb2NfY2FyZCByb2NrY2hpcF9tYXg5ODA5MF9jYXJkID0gewogCS5u
YW1lID0gIlJPQ0tDSElQLUkyUyIsCiAJLm93bmVyID0gVEhJU19NT0RVTEUsCi0JLmRhaV9saW5r
ID0gJnJrX2RhaWxpbmssCi0JLm51bV9saW5rcyA9IDEsCisJLmRhaV9saW5rID0gcmtfbWF4OTgw
OTBfZGFpbGlua3MsCisJLm51bV9saW5rcyA9IEFSUkFZX1NJWkUocmtfbWF4OTgwOTBfZGFpbGlu
a3MpLAorCS5hdXhfZGV2ID0gJnJrXzk4MDkwX2hlYWRzZXRfZGV2LAorCS5udW1fYXV4X2RldnMg
PSAxLAorCS5kYXBtX3dpZGdldHMgPSBya19tYXg5ODA5MF9kYXBtX3dpZGdldHMsCisJLm51bV9k
YXBtX3dpZGdldHMgPSBBUlJBWV9TSVpFKHJrX21heDk4MDkwX2RhcG1fd2lkZ2V0cyksCisJLmRh
cG1fcm91dGVzID0gcmtfbWF4OTgwOTBfYXVkaW9fbWFwLAorCS5udW1fZGFwbV9yb3V0ZXMgPSBB
UlJBWV9TSVpFKHJrX21heDk4MDkwX2F1ZGlvX21hcCksCisJLmNvbnRyb2xzID0gcmtfbWF4OTgw
OTBfY29udHJvbHMsCisJLm51bV9jb250cm9scyA9IEFSUkFZX1NJWkUocmtfbWF4OTgwOTBfY29u
dHJvbHMpLAorfTsKKworc3RhdGljIHN0cnVjdCBzbmRfc29jX2NhcmQgcm9ja2NoaXBfaGRtaV9j
YXJkID0geworCS5uYW1lID0gIlJPQ0tDSElQLUhETUkiLAorCS5vd25lciA9IFRISVNfTU9EVUxF
LAorCS5kYWlfbGluayA9IHJrX2hkbWlfZGFpbGlua3MsCisJLm51bV9saW5rcyA9IEFSUkFZX1NJ
WkUocmtfaGRtaV9kYWlsaW5rcyksCisJLmRhcG1fd2lkZ2V0cyA9IHJrX2hkbWlfZGFwbV93aWRn
ZXRzLAorCS5udW1fZGFwbV93aWRnZXRzID0gQVJSQVlfU0laRShya19oZG1pX2RhcG1fd2lkZ2V0
cyksCisJLmRhcG1fcm91dGVzID0gcmtfaGRtaV9hdWRpb19tYXAsCisJLm51bV9kYXBtX3JvdXRl
cyA9IEFSUkFZX1NJWkUocmtfaGRtaV9hdWRpb19tYXApLAorCS5jb250cm9scyA9IHJrX2hkbWlf
Y29udHJvbHMsCisJLm51bV9jb250cm9scyA9IEFSUkFZX1NJWkUocmtfaGRtaV9jb250cm9scyks
Cit9OworCitzdGF0aWMgc3RydWN0IHNuZF9zb2NfY2FyZCByb2NrY2hpcF9tYXg5ODA5MF9oZG1p
X2NhcmQgPSB7CisJLm5hbWUgPSAiUk9DS0NISVAtTUFYOTgwOTAtSERNSSIsCisJLm93bmVyID0g
VEhJU19NT0RVTEUsCisJLmRhaV9saW5rID0gcmtfbWF4OTgwOTBfaGRtaV9kYWlsaW5rcywKKwku
bnVtX2xpbmtzID0gQVJSQVlfU0laRShya19tYXg5ODA5MF9oZG1pX2RhaWxpbmtzKSwKIAkuYXV4
X2RldiA9ICZya185ODA5MF9oZWFkc2V0X2RldiwKIAkubnVtX2F1eF9kZXZzID0gMSwKLQkuZGFw
bV93aWRnZXRzID0gcmtfZGFwbV93aWRnZXRzLAotCS5udW1fZGFwbV93aWRnZXRzID0gQVJSQVlf
U0laRShya19kYXBtX3dpZGdldHMpLAotCS5kYXBtX3JvdXRlcyA9IHJrX2F1ZGlvX21hcCwKLQku
bnVtX2RhcG1fcm91dGVzID0gQVJSQVlfU0laRShya19hdWRpb19tYXApLAotCS5jb250cm9scyA9
IHJrX21jX2NvbnRyb2xzLAotCS5udW1fY29udHJvbHMgPSBBUlJBWV9TSVpFKHJrX21jX2NvbnRy
b2xzKSwKKwkuZGFwbV93aWRnZXRzID0gcmtfbWF4OTgwOTBfaGRtaV9kYXBtX3dpZGdldHMsCisJ
Lm51bV9kYXBtX3dpZGdldHMgPSBBUlJBWV9TSVpFKHJrX21heDk4MDkwX2hkbWlfZGFwbV93aWRn
ZXRzKSwKKwkuZGFwbV9yb3V0ZXMgPSBya19tYXg5ODA5MF9oZG1pX2F1ZGlvX21hcCwKKwkubnVt
X2RhcG1fcm91dGVzID0gQVJSQVlfU0laRShya19tYXg5ODA5MF9oZG1pX2F1ZGlvX21hcCksCisJ
LmNvbnRyb2xzID0gcmtfbWF4OTgwOTBfaGRtaV9jb250cm9scywKKwkubnVtX2NvbnRyb2xzID0g
QVJSQVlfU0laRShya19tYXg5ODA5MF9oZG1pX2NvbnRyb2xzKSwKIH07CiAKIHN0YXRpYyBpbnQg
cmtfOTgwOTBfaGVhZHNldF9pbml0KHN0cnVjdCBzbmRfc29jX2NvbXBvbmVudCAqY29tcG9uZW50
KQpAQCAtMTk1LDcgKzMzMyw3IEBAIHN0YXRpYyBpbnQgcmtfOTgwOTBfaGVhZHNldF9pbml0KHN0
cnVjdCBzbmRfc29jX2NvbXBvbmVudCAqY29tcG9uZW50KQogCWludCByZXQ7CiAKIAkvKiBFbmFi
bGUgSGVhZHNldCBhbmQgNCBCdXR0b25zIEphY2sgZGV0ZWN0aW9uICovCi0JcmV0ID0gc25kX3Nv
Y19jYXJkX2phY2tfbmV3KCZzbmRfc29jX2NhcmRfcmssICJIZWFkc2V0IEphY2siLAorCXJldCA9
IHNuZF9zb2NfY2FyZF9qYWNrX25ldyhjb21wb25lbnQtPmNhcmQsICJIZWFkc2V0IEphY2siLAog
CQkJCSAgICBTTkRfSkFDS19IRUFEU0VUIHwKIAkJCQkgICAgU05EX0pBQ0tfQlROXzAgfCBTTkRf
SkFDS19CVE5fMSB8CiAJCQkJICAgIFNORF9KQUNLX0JUTl8yIHwgU05EX0pBQ0tfQlROXzMsCkBA
IC0yMTAsNDEgKzM0OCwxMTIgQEAgc3RhdGljIGludCBya185ODA5MF9oZWFkc2V0X2luaXQoc3Ry
dWN0IHNuZF9zb2NfY29tcG9uZW50ICpjb21wb25lbnQpCiAJcmV0dXJuIHJldDsKIH0KIAorc3Rh
dGljIGludCBya19wYXJzZV9jb2RlY19mcm9tX29mKHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0
IGRldmljZV9ub2RlICpucCwKKwkJCQkgIGNvbnN0IGNoYXIgKmNvZGVjX3Byb3BlcnR5X25hbWUs
CisJCQkJICBzdHJ1Y3Qgc25kX3NvY19kYWlfbGlua19jb21wb25lbnQgKmNvZGVjcykKK3sKKwlz
dHJ1Y3QgZGV2aWNlX25vZGUgKm5wX2NvZGVjOworCisJbnBfY29kZWMgPSBvZl9wYXJzZV9waGFu
ZGxlKG5wLCBjb2RlY19wcm9wZXJ0eV9uYW1lLCAwKTsKKwlpZiAoIW5wX2NvZGVjKSB7CisJCWRl
dl9lcnIoZGV2LAorCQkJIlByb3BlcnR5ICVzIG1pc3Npbmcgb3IgaW52YWxpZFxuIiwKKwkJCWNv
ZGVjX3Byb3BlcnR5X25hbWUpOworCQlyZXR1cm4gLUVJTlZBTDsKKwl9CisKKwljb2RlY3MtPm9m
X25vZGUgPSBucF9jb2RlYzsKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIGludCBya19wYXJzZV9o
ZWFkc2V0X2Zyb21fb2Yoc3RydWN0IGRldmljZSAqZGV2LCBzdHJ1Y3QgZGV2aWNlX25vZGUgKm5w
KQoreworCXJrXzk4MDkwX2hlYWRzZXRfZGV2LmRsYy5vZl9ub2RlID0gb2ZfcGFyc2VfcGhhbmRs
ZSgKKwkJCW5wLCAicm9ja2NoaXAsaGVhZHNldC1jb2RlYyIsIDApOworCWlmICghcmtfOTgwOTBf
aGVhZHNldF9kZXYuZGxjLm9mX25vZGUpIHsKKwkJZGV2X2VycihkZXYsCisJCQkiUHJvcGVydHkg
J3JvY2tjaGlwLGhlYWRzZXQtY29kZWMnIG1pc3NpbmcvaW52YWxpZFxuIik7CisJCXJldHVybiAt
RUlOVkFMOworCX0KKwlyZXR1cm4gMDsKK30KKwogc3RhdGljIGludCBzbmRfcmtfbWNfcHJvYmUo
c3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKIHsKIAlpbnQgcmV0ID0gMDsKLQlzdHJ1Y3Qg
c25kX3NvY19jYXJkICpjYXJkID0gJnNuZF9zb2NfY2FyZF9yazsKKwlzdHJ1Y3Qgc25kX3NvY19j
YXJkICpjYXJkOworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZwZGV2LT5kZXY7CiAJc3RydWN0IGRl
dmljZV9ub2RlICpucCA9IHBkZXYtPmRldi5vZl9ub2RlOworCXN0cnVjdCBkZXZpY2Vfbm9kZSAq
bnBfY3B1OworCWNvbnN0IHN0cnVjdCBvZl9kZXZpY2VfaWQgKm1hdGNoOworCXN0cnVjdCBya19j
YXJkX2NvbmZpZyAqY29uZmlnOworCWVudW0gcmtfc25kX3VzYWdlIHVzYWdlOworCisJLyogRmlu
ZCB0aGUgY29uZmlnIGFuZCBjYXJkIHRvIHVzZSBiYXNlZCBvbiBtYXRjaCB0YWJsZS4gKi8KKwlt
YXRjaCA9IG9mX21hdGNoX2RldmljZShkZXYtPmRyaXZlci0+b2ZfbWF0Y2hfdGFibGUsIGRldik7
CisJaWYgKCFtYXRjaCB8fCAhbWF0Y2gtPmRhdGEpCisJCXJldHVybiAtRUlOVkFMOwogCi0JLyog
cmVnaXN0ZXIgdGhlIHNvYyBjYXJkICovCi0JY2FyZC0+ZGV2ID0gJnBkZXYtPmRldjsKKwljb25m
aWcgPSAoc3RydWN0IHJrX2NhcmRfY29uZmlnICopbWF0Y2gtPmRhdGE7CisJY2FyZCA9IGNvbmZp
Zy0+Y2FyZDsKKwl1c2FnZSA9IGNvbmZpZy0+dXNhZ2U7CisJY2FyZC0+ZGV2ID0gZGV2OwogCi0J
cmtfZGFpbGluay5jb2RlY3MtPm9mX25vZGUgPSBvZl9wYXJzZV9waGFuZGxlKG5wLAotCQkJInJv
Y2tjaGlwLGF1ZGlvLWNvZGVjIiwgMCk7Ci0JaWYgKCFya19kYWlsaW5rLmNvZGVjcy0+b2Zfbm9k
ZSkgeworCS8qIFBhcnNlIERUUyBmb3IgSTJTIGNvbnRyb2xsZXIuICovCisJbnBfY3B1ID0gb2Zf
cGFyc2VfcGhhbmRsZShucCwgInJvY2tjaGlwLGkycy1jb250cm9sbGVyIiwgMCk7CisKKwlpZiAo
IW5wX2NwdSkgewogCQlkZXZfZXJyKCZwZGV2LT5kZXYsCi0JCQkiUHJvcGVydHkgJ3JvY2tjaGlw
LGF1ZGlvLWNvZGVjJyBtaXNzaW5nIG9yIGludmFsaWRcbiIpOworCQkJIlByb3BlcnR5ICdyb2Nr
Y2hpcCxpMnMtY29udHJvbGxlciBtaXNzaW5nIG9yIGludmFsaWRcbiIpOwogCQlyZXR1cm4gLUVJ
TlZBTDsKIAl9CiAKLQlya19kYWlsaW5rLmNwdXMtPm9mX25vZGUgPSBvZl9wYXJzZV9waGFuZGxl
KG5wLAotCQkJInJvY2tjaGlwLGkycy1jb250cm9sbGVyIiwgMCk7Ci0JaWYgKCFya19kYWlsaW5r
LmNwdXMtPm9mX25vZGUpIHsKLQkJZGV2X2VycigmcGRldi0+ZGV2LAotCQkJIlByb3BlcnR5ICdy
b2NrY2hpcCxpMnMtY29udHJvbGxlcicgbWlzc2luZyBvciBpbnZhbGlkXG4iKTsKLQkJcmV0dXJu
IC1FSU5WQUw7CisJLyogUGFyc2UgRFRTIGZvciBtYXg5ODA5MC1vbmx5IGNhcmQuICovCisJaWYg
KHVzYWdlID09IFJLX1VTRV9NQVg5ODA5MCkgeworCQlyZXQgPSBya19wYXJzZV9jb2RlY19mcm9t
X29mKGRldiwgbnAsICJyb2NrY2hpcCxhdWRpby1jb2RlYyIsCisJCQkJCSAgICAgY2FyZC0+ZGFp
X2xpbmtbMF0uY29kZWNzKTsKKwkJaWYgKHJldCkKKwkJCXJldHVybiByZXQ7CisJCWNhcmQtPmRh
aV9saW5rWzBdLmNwdXMtPm9mX25vZGUgPSBucF9jcHU7CisJCWNhcmQtPmRhaV9saW5rWzBdLnBs
YXRmb3Jtcy0+b2Zfbm9kZSA9IG5wX2NwdTsKIAl9CiAKLQlya19kYWlsaW5rLnBsYXRmb3Jtcy0+
b2Zfbm9kZSA9IHJrX2RhaWxpbmsuY3B1cy0+b2Zfbm9kZTsKKwkvKiBQYXJzZSBEVFMgZm9yIEhE
TUktb25seSBjYXJkLiAqLworCWlmICh1c2FnZSA9PSBSS19VU0VfSERNSSkgeworCQlyZXQgPSBy
a19wYXJzZV9jb2RlY19mcm9tX29mKGRldiwgbnAsICJyb2NrY2hpcCxoZG1pLWNvZGVjIiwKKwkJ
CQkJICAgICBjYXJkLT5kYWlfbGlua1swXS5jb2RlY3MpOworCQlpZiAocmV0KQorCQkJcmV0dXJu
IHJldDsKKwkJY2FyZC0+ZGFpX2xpbmtbMF0uY3B1cy0+b2Zfbm9kZSA9IG5wX2NwdTsKKwkJY2Fy
ZC0+ZGFpX2xpbmtbMF0ucGxhdGZvcm1zLT5vZl9ub2RlID0gbnBfY3B1OworCX0KIAotCXJrXzk4
MDkwX2hlYWRzZXRfZGV2LmRsYy5vZl9ub2RlID0gb2ZfcGFyc2VfcGhhbmRsZShucCwKLQkJCSJy
b2NrY2hpcCxoZWFkc2V0LWNvZGVjIiwgMCk7Ci0JaWYgKCFya185ODA5MF9oZWFkc2V0X2Rldi5k
bGMub2Zfbm9kZSkgewotCQlkZXZfZXJyKCZwZGV2LT5kZXYsCi0JCQkiUHJvcGVydHkgJ3JvY2tj
aGlwLGhlYWRzZXQtY29kZWMnIG1pc3NpbmcvaW52YWxpZFxuIik7Ci0JCXJldHVybiAtRUlOVkFM
OworCS8qIFBhcnNlIERUUyBmb3IgbWF4OTgwOTAgcGx1cyBIRE1JIGNhcmQuICovCisJaWYgKHVz
YWdlID09IFJLX1VTRV9NQVg5ODA5MF9IRE1JKSB7CisJCXJldCA9IHJrX3BhcnNlX2NvZGVjX2Zy
b21fb2YoCisJCQlkZXYsIG5wLCAicm9ja2NoaXAsYXVkaW8tY29kZWMiLAorCQkJY2FyZC0+ZGFp
X2xpbmtbREFJTElOS19NQVg5ODA5MF0uY29kZWNzKTsKKwkJaWYgKHJldCkKKwkJCXJldHVybiBy
ZXQ7CisJCXJldCA9IHJrX3BhcnNlX2NvZGVjX2Zyb21fb2YoCisJCQlkZXYsIG5wLCAicm9ja2No
aXAsaGRtaS1jb2RlYyIsCisJCQljYXJkLT5kYWlfbGlua1tEQUlMSU5LX0hETUldLmNvZGVjcyk7
CisJCWlmIChyZXQpCisJCQlyZXR1cm4gcmV0OworCQljYXJkLT5kYWlfbGlua1tEQUlMSU5LX01B
WDk4MDkwXS5jcHVzLT5vZl9ub2RlID0gbnBfY3B1OworCQljYXJkLT5kYWlfbGlua1tEQUlMSU5L
X01BWDk4MDkwXS5wbGF0Zm9ybXMtPm9mX25vZGUgPSBucF9jcHU7CisJCWNhcmQtPmRhaV9saW5r
W0RBSUxJTktfSERNSV0uY3B1cy0+b2Zfbm9kZSA9IG5wX2NwdTsKKwkJY2FyZC0+ZGFpX2xpbmtb
REFJTElOS19IRE1JXS5wbGF0Zm9ybXMtPm9mX25vZGUgPSBucF9jcHU7CiAJfQogCisJLyogUGFy
c2UgaGVhZHNldCBkZXRlY3Rpb24gY29kZWMuICovCisJaWYgKHVzYWdlID09IFJLX1VTRV9NQVg5
ODA5MCB8fCB1c2FnZSA9PSBSS19VU0VfTUFYOTgwOTBfSERNSSkgeworCQlyZXQgPSBya19wYXJz
ZV9oZWFkc2V0X2Zyb21fb2YoZGV2LCBucCk7CisJCWlmIChyZXQpCisJCQlyZXR1cm4gcmV0Owor
CX0KKworCS8qIFBhcnNlIGNhcmQgbmFtZS4gKi8KIAlyZXQgPSBzbmRfc29jX29mX3BhcnNlX2Nh
cmRfbmFtZShjYXJkLCAicm9ja2NoaXAsbW9kZWwiKTsKIAlpZiAocmV0KSB7CiAJCWRldl9lcnIo
JnBkZXYtPmRldiwKQEAgLTI1Miw2ICs0NjEsNyBAQCBzdGF0aWMgaW50IHNuZF9ya19tY19wcm9i
ZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQogCQlyZXR1cm4gcmV0OwogCX0KIAorCS8q
IHJlZ2lzdGVyIHRoZSBzb2MgY2FyZCAqLwogCXJldCA9IGRldm1fc25kX3NvY19yZWdpc3Rlcl9j
YXJkKCZwZGV2LT5kZXYsIGNhcmQpOwogCWlmIChyZXQpIHsKIAkJZGV2X2VycigmcGRldi0+ZGV2
LApAQCAtMjYyLDkgKzQ3MiwzNCBAQCBzdGF0aWMgaW50IHNuZF9ya19tY19wcm9iZShzdHJ1Y3Qg
cGxhdGZvcm1fZGV2aWNlICpwZGV2KQogCXJldHVybiByZXQ7CiB9CiAKK3N0cnVjdCBya19jYXJk
X2NvbmZpZyBya19jYXJkX2NvbmZpZ3NbXSA9IHsKKwlbUktfVVNFX01BWDk4MDkwXSA9IHsKKwkJ
LnVzYWdlID0gUktfVVNFX01BWDk4MDkwLAorCQkuY2FyZCA9ICZyb2NrY2hpcF9tYXg5ODA5MF9j
YXJkLAorCX0sCisJW1JLX1VTRV9IRE1JXSA9IHsKKwkJLnVzYWdlID0gUktfVVNFX0hETUksCisJ
CS5jYXJkID0gJnJvY2tjaGlwX2hkbWlfY2FyZCwKKwl9LAorCVtSS19VU0VfTUFYOTgwOTBfSERN
SV0gPSB7CisJCS51c2FnZSA9IFJLX1VTRV9NQVg5ODA5MF9IRE1JLAorCQkuY2FyZCA9ICZyb2Nr
Y2hpcF9tYXg5ODA5MF9oZG1pX2NhcmQsCisJfSwKK307CisKIHN0YXRpYyBjb25zdCBzdHJ1Y3Qg
b2ZfZGV2aWNlX2lkIHJvY2tjaGlwX21heDk4MDkwX29mX21hdGNoW10gPSB7Ci0JeyAuY29tcGF0
aWJsZSA9ICJyb2NrY2hpcCxyb2NrY2hpcC1hdWRpby1tYXg5ODA5MCIsIH0sCi0Je30sCisJewor
CQkuY29tcGF0aWJsZSA9ICJyb2NrY2hpcCxyb2NrY2hpcC1hdWRpby1tYXg5ODA5MCIsCisJCS5k
YXRhID0gJnJrX2NhcmRfY29uZmlnc1tSS19VU0VfTUFYOTgwOTBdLAorCX0sCisJeworCQkuY29t
cGF0aWJsZSA9ICJyb2NrY2hpcCxyb2NrY2hpcC1hdWRpby1oZG1pIiwKKwkJLmRhdGEgPSAmcmtf
Y2FyZF9jb25maWdzW1JLX1VTRV9IRE1JXSwKKwl9LAorCXsKKwkJLmNvbXBhdGlibGUgPSAicm9j
a2NoaXAscm9ja2NoaXAtYXVkaW8tbWF4OTgwOTAtaGRtaSIsCisJCS5kYXRhID0gJnJrX2NhcmRf
Y29uZmlnc1tSS19VU0VfTUFYOTgwOTBfSERNSV0sCisJfSwKIH07CiAKIE1PRFVMRV9ERVZJQ0Vf
VEFCTEUob2YsIHJvY2tjaGlwX21heDk4MDkwX29mX21hdGNoKTsKLS0gCjIuMjQuMC5yYzAuMzAz
Lmc5NTRhODYyNjY1LWdvb2cKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNr
dG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2Ry
aS1kZXZlbA==
