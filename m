Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id D967C2AC5B5
	for <lists+dri-devel@lfdr.de>; Mon,  9 Nov 2020 21:05:29 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 483ED89333;
	Mon,  9 Nov 2020 20:05:26 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wr1-x444.google.com (mail-wr1-x444.google.com
 [IPv6:2a00:1450:4864:20::444])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D91248932D;
 Mon,  9 Nov 2020 20:05:24 +0000 (UTC)
Received: by mail-wr1-x444.google.com with SMTP id s8so3051121wrw.10;
 Mon, 09 Nov 2020 12:05:24 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=kPawcM2lRAoO3n+xp9sxNFRPEQg9MejR4mgh152KlS0=;
 b=If2+gKTuuCSJPl479Z2BsVJoHGjvtH6Yef2QzoI4IsMaeWqkKuEEMsVecEj04f06aW
 B9+IWO7mJIZ2DQYxUQblUAod8w9LURDhPJAyyA1984GmL6ag5XrL61f14lr181C5X8Q3
 1dARIgqGU7fWXKavbrJgdapZDqHi8ii4eQ8sMhohZxDr9eHH9s70bwNTchEFLv6XETrb
 qJfbgBgxd3ERyRUNgTD3tXFIq3aGCqi8SiVDV4ZCqTBWGtRMSge/I/XMSMrj6xE5onRT
 9xqwdFqlVEUt8UVYdyV4jazGnMs9X4qfICiIJGrFlZ0cx6pXfCEtZmVIm1Ab3rDw37L0
 CdOA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=kPawcM2lRAoO3n+xp9sxNFRPEQg9MejR4mgh152KlS0=;
 b=JRkHSkJ3HYUXud+B3Wn82RT11sA04sj8ZKIkOxC5b1K03M+SiWkMNfKmnekvF/rxPJ
 R4aGgLl9TH8SFx1pkV60ARhBjYB3DjCLpGBm/v0cggoqPkFh/Ho7iG4os348PTjIUpsJ
 6u2bKQlcJI1DipkfhFdX//DD9S1KubMOAt2ODSebTt32EykUrF0w3IoTFQLvoeBvtGjN
 tquvPrvSf0CTR8Bx8IbAylaOisFvlEOTqkjC93nxZbDDd5aPA7aKp9+b92GbtiAfZ9+R
 eAdJeiE07xA7YJa6/8Ejl9PD7USaOhXY1L/vRiiAsGDFH0DrWjvGN/PL7REOl91U2Odb
 jIGA==
X-Gm-Message-State: AOAM531SNxS2YWcc1duC/7J73l8nJR3B0UaQAXn/A5Wgbv+fe4dUYuDx
 gIoqmoLUXykUXrA+VoTkcDAm6KCyuDorQVwcPVk=
X-Google-Smtp-Source: ABdhPJyun/0BIFWEaMVeINGuxPshpk1mo0pjvZ1EKedP4jTF77Dhfmskkz8uTwhyyLMpNZBozm0Z+dw+N/2FPDyo6ck=
X-Received: by 2002:adf:e8d0:: with SMTP id k16mr19677980wrn.362.1604952323541; 
 Mon, 09 Nov 2020 12:05:23 -0800 (PST)
MIME-Version: 1.0
References: <20201106214949.2042120-1-lee.jones@linaro.org>
 <20201106214949.2042120-17-lee.jones@linaro.org>
In-Reply-To: <20201106214949.2042120-17-lee.jones@linaro.org>
From: Alex Deucher <alexdeucher@gmail.com>
Date: Mon, 9 Nov 2020 15:05:12 -0500
Message-ID: <CADnq5_O_kRMunO37MqKz2ychETgi6ZDB5BSO+Sxzos8YP1CKXA@mail.gmail.com>
Subject: Re: [PATCH 16/19] drm/amd/amdgpu/amdgpu_kms: Remove 'struct
 drm_amdgpu_info_device dev_info' from the stack
To: Lee Jones <lee.jones@linaro.org>
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: David Airlie <airlied@linux.ie>, LKML <linux-kernel@vger.kernel.org>,
 Maling list - DRI developers <dri-devel@lists.freedesktop.org>,
 amd-gfx list <amd-gfx@lists.freedesktop.org>,
 Alex Deucher <alexander.deucher@amd.com>,
 =?UTF-8?Q?Christian_K=C3=B6nig?= <christian.koenig@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gRnJpLCBOb3YgNiwgMjAyMCBhdCA0OjUwIFBNIExlZSBKb25lcyA8bGVlLmpvbmVzQGxpbmFy
by5vcmc+IHdyb3RlOgo+Cj4gUGxhY2UgaXQgb24gdGhlIGhlYXAgaW5zdGVhZC4KPgo+IEZpeGVz
IHRoZSBmb2xsb3dpbmcgVz0xIGtlcm5lbCBidWlsZCB3YXJuaW5nKHMpOgo+Cj4gIGRyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9rbXMuYzogSW4gZnVuY3Rpb24g4oCYYW1kZ3B1X2lu
Zm9faW9jdGzigJk6Cj4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9rbXMuYzo5
Nzk6MTogd2FybmluZzogdGhlIGZyYW1lIHNpemUgb2YgMTEyOCBieXRlcyBpcyBsYXJnZXIgdGhh
biAxMDI0IGJ5dGVzIFstV2ZyYW1lLWxhcmdlci10aGFuPV0KPgo+IENjOiBBbGV4IERldWNoZXIg
PGFsZXhhbmRlci5kZXVjaGVyQGFtZC5jb20+Cj4gQ2M6ICJDaHJpc3RpYW4gS8O2bmlnIiA8Y2hy
aXN0aWFuLmtvZW5pZ0BhbWQuY29tPgo+IENjOiBEYXZpZCBBaXJsaWUgPGFpcmxpZWRAbGludXgu
aWU+Cj4gQ2M6IERhbmllbCBWZXR0ZXIgPGRhbmllbEBmZndsbC5jaD4KPiBDYzogYW1kLWdmeEBs
aXN0cy5mcmVlZGVza3RvcC5vcmcKPiBDYzogZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9y
Zwo+IFNpZ25lZC1vZmYtYnk6IExlZSBKb25lcyA8bGVlLmpvbmVzQGxpbmFyby5vcmc+CgpBcHBs
aWVkLiAgVGhhbmtzIQoKQWxleAoKCj4gLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2FtZGdwdV9rbXMuYyB8IDEwNCArKysrKysrKysrKysrLS0tLS0tLS0tLS0KPiAgMSBmaWxlIGNo
YW5nZWQsIDU1IGluc2VydGlvbnMoKyksIDQ5IGRlbGV0aW9ucygtKQo+Cj4gZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9rbXMuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV9rbXMuYwo+IGluZGV4IDkxOGQ0ZTljNjQ2MWEuLmVmNmZhNTAw
N2QxMzUgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2tt
cy5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2ttcy5jCj4gQEAg
LTcyMSwzOCArNzIxLDQyIEBAIHN0YXRpYyBpbnQgYW1kZ3B1X2luZm9faW9jdGwoc3RydWN0IGRy
bV9kZXZpY2UgKmRldiwgdm9pZCAqZGF0YSwgc3RydWN0IGRybV9maWxlCj4gICAgICAgICAgICAg
ICAgIHJldHVybiBuID8gLUVGQVVMVCA6IDA7Cj4gICAgICAgICB9Cj4gICAgICAgICBjYXNlIEFN
REdQVV9JTkZPX0RFVl9JTkZPOiB7Cj4gLSAgICAgICAgICAgICAgIHN0cnVjdCBkcm1fYW1kZ3B1
X2luZm9fZGV2aWNlIGRldl9pbmZvOwo+ICsgICAgICAgICAgICAgICBzdHJ1Y3QgZHJtX2FtZGdw
dV9pbmZvX2RldmljZSAqZGV2X2luZm87Cj4gICAgICAgICAgICAgICAgIHVpbnQ2NF90IHZtX3Np
emU7Cj4gKyAgICAgICAgICAgICAgIGludCByZXQ7Cj4gKwo+ICsgICAgICAgICAgICAgICBkZXZf
aW5mbyA9IGt6YWxsb2Moc2l6ZW9mKCpkZXZfaW5mbyksIEdGUF9LRVJORUwpOwo+ICsgICAgICAg
ICAgICAgICBpZiAoIWRldl9pbmZvKQo+ICsgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAt
RU5PTUVNOwo+Cj4gLSAgICAgICAgICAgICAgIG1lbXNldCgmZGV2X2luZm8sIDAsIHNpemVvZihk
ZXZfaW5mbykpOwo+IC0gICAgICAgICAgICAgICBkZXZfaW5mby5kZXZpY2VfaWQgPSBkZXYtPnBk
ZXYtPmRldmljZTsKPiAtICAgICAgICAgICAgICAgZGV2X2luZm8uY2hpcF9yZXYgPSBhZGV2LT5y
ZXZfaWQ7Cj4gLSAgICAgICAgICAgICAgIGRldl9pbmZvLmV4dGVybmFsX3JldiA9IGFkZXYtPmV4
dGVybmFsX3Jldl9pZDsKPiAtICAgICAgICAgICAgICAgZGV2X2luZm8ucGNpX3JldiA9IGRldi0+
cGRldi0+cmV2aXNpb247Cj4gLSAgICAgICAgICAgICAgIGRldl9pbmZvLmZhbWlseSA9IGFkZXYt
PmZhbWlseTsKPiAtICAgICAgICAgICAgICAgZGV2X2luZm8ubnVtX3NoYWRlcl9lbmdpbmVzID0g
YWRldi0+Z2Z4LmNvbmZpZy5tYXhfc2hhZGVyX2VuZ2luZXM7Cj4gLSAgICAgICAgICAgICAgIGRl
dl9pbmZvLm51bV9zaGFkZXJfYXJyYXlzX3Blcl9lbmdpbmUgPSBhZGV2LT5nZnguY29uZmlnLm1h
eF9zaF9wZXJfc2U7Cj4gKyAgICAgICAgICAgICAgIGRldl9pbmZvLT5kZXZpY2VfaWQgPSBkZXYt
PnBkZXYtPmRldmljZTsKPiArICAgICAgICAgICAgICAgZGV2X2luZm8tPmNoaXBfcmV2ID0gYWRl
di0+cmV2X2lkOwo+ICsgICAgICAgICAgICAgICBkZXZfaW5mby0+ZXh0ZXJuYWxfcmV2ID0gYWRl
di0+ZXh0ZXJuYWxfcmV2X2lkOwo+ICsgICAgICAgICAgICAgICBkZXZfaW5mby0+cGNpX3JldiA9
IGRldi0+cGRldi0+cmV2aXNpb247Cj4gKyAgICAgICAgICAgICAgIGRldl9pbmZvLT5mYW1pbHkg
PSBhZGV2LT5mYW1pbHk7Cj4gKyAgICAgICAgICAgICAgIGRldl9pbmZvLT5udW1fc2hhZGVyX2Vu
Z2luZXMgPSBhZGV2LT5nZnguY29uZmlnLm1heF9zaGFkZXJfZW5naW5lczsKPiArICAgICAgICAg
ICAgICAgZGV2X2luZm8tPm51bV9zaGFkZXJfYXJyYXlzX3Blcl9lbmdpbmUgPSBhZGV2LT5nZngu
Y29uZmlnLm1heF9zaF9wZXJfc2U7Cj4gICAgICAgICAgICAgICAgIC8qIHJldHVybiBhbGwgY2xv
Y2tzIGluIEtIeiAqLwo+IC0gICAgICAgICAgICAgICBkZXZfaW5mby5ncHVfY291bnRlcl9mcmVx
ID0gYW1kZ3B1X2FzaWNfZ2V0X3hjbGsoYWRldikgKiAxMDsKPiArICAgICAgICAgICAgICAgZGV2
X2luZm8tPmdwdV9jb3VudGVyX2ZyZXEgPSBhbWRncHVfYXNpY19nZXRfeGNsayhhZGV2KSAqIDEw
Owo+ICAgICAgICAgICAgICAgICBpZiAoYWRldi0+cG0uZHBtX2VuYWJsZWQpIHsKPiAtICAgICAg
ICAgICAgICAgICAgICAgICBkZXZfaW5mby5tYXhfZW5naW5lX2Nsb2NrID0gYW1kZ3B1X2RwbV9n
ZXRfc2NsayhhZGV2LCBmYWxzZSkgKiAxMDsKPiAtICAgICAgICAgICAgICAgICAgICAgICBkZXZf
aW5mby5tYXhfbWVtb3J5X2Nsb2NrID0gYW1kZ3B1X2RwbV9nZXRfbWNsayhhZGV2LCBmYWxzZSkg
KiAxMDsKPiArICAgICAgICAgICAgICAgICAgICAgICBkZXZfaW5mby0+bWF4X2VuZ2luZV9jbG9j
ayA9IGFtZGdwdV9kcG1fZ2V0X3NjbGsoYWRldiwgZmFsc2UpICogMTA7Cj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgZGV2X2luZm8tPm1heF9tZW1vcnlfY2xvY2sgPSBhbWRncHVfZHBtX2dldF9t
Y2xrKGFkZXYsIGZhbHNlKSAqIDEwOwo+ICAgICAgICAgICAgICAgICB9IGVsc2Ugewo+IC0gICAg
ICAgICAgICAgICAgICAgICAgIGRldl9pbmZvLm1heF9lbmdpbmVfY2xvY2sgPSBhZGV2LT5jbG9j
ay5kZWZhdWx0X3NjbGsgKiAxMDsKPiAtICAgICAgICAgICAgICAgICAgICAgICBkZXZfaW5mby5t
YXhfbWVtb3J5X2Nsb2NrID0gYWRldi0+Y2xvY2suZGVmYXVsdF9tY2xrICogMTA7Cj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgZGV2X2luZm8tPm1heF9lbmdpbmVfY2xvY2sgPSBhZGV2LT5jbG9j
ay5kZWZhdWx0X3NjbGsgKiAxMDsKPiArICAgICAgICAgICAgICAgICAgICAgICBkZXZfaW5mby0+
bWF4X21lbW9yeV9jbG9jayA9IGFkZXYtPmNsb2NrLmRlZmF1bHRfbWNsayAqIDEwOwo+ICAgICAg
ICAgICAgICAgICB9Cj4gLSAgICAgICAgICAgICAgIGRldl9pbmZvLmVuYWJsZWRfcmJfcGlwZXNf
bWFzayA9IGFkZXYtPmdmeC5jb25maWcuYmFja2VuZF9lbmFibGVfbWFzazsKPiAtICAgICAgICAg
ICAgICAgZGV2X2luZm8ubnVtX3JiX3BpcGVzID0gYWRldi0+Z2Z4LmNvbmZpZy5tYXhfYmFja2Vu
ZHNfcGVyX3NlICoKPiArICAgICAgICAgICAgICAgZGV2X2luZm8tPmVuYWJsZWRfcmJfcGlwZXNf
bWFzayA9IGFkZXYtPmdmeC5jb25maWcuYmFja2VuZF9lbmFibGVfbWFzazsKPiArICAgICAgICAg
ICAgICAgZGV2X2luZm8tPm51bV9yYl9waXBlcyA9IGFkZXYtPmdmeC5jb25maWcubWF4X2JhY2tl
bmRzX3Blcl9zZSAqCj4gICAgICAgICAgICAgICAgICAgICAgICAgYWRldi0+Z2Z4LmNvbmZpZy5t
YXhfc2hhZGVyX2VuZ2luZXM7Cj4gLSAgICAgICAgICAgICAgIGRldl9pbmZvLm51bV9od19nZnhf
Y29udGV4dHMgPSBhZGV2LT5nZnguY29uZmlnLm1heF9od19jb250ZXh0czsKPiAtICAgICAgICAg
ICAgICAgZGV2X2luZm8uX3BhZCA9IDA7Cj4gLSAgICAgICAgICAgICAgIGRldl9pbmZvLmlkc19m
bGFncyA9IDA7Cj4gKyAgICAgICAgICAgICAgIGRldl9pbmZvLT5udW1faHdfZ2Z4X2NvbnRleHRz
ID0gYWRldi0+Z2Z4LmNvbmZpZy5tYXhfaHdfY29udGV4dHM7Cj4gKyAgICAgICAgICAgICAgIGRl
dl9pbmZvLT5fcGFkID0gMDsKPiArICAgICAgICAgICAgICAgZGV2X2luZm8tPmlkc19mbGFncyA9
IDA7Cj4gICAgICAgICAgICAgICAgIGlmIChhZGV2LT5mbGFncyAmIEFNRF9JU19BUFUpCj4gLSAg
ICAgICAgICAgICAgICAgICAgICAgZGV2X2luZm8uaWRzX2ZsYWdzIHw9IEFNREdQVV9JRFNfRkxB
R1NfRlVTSU9OOwo+ICsgICAgICAgICAgICAgICAgICAgICAgIGRldl9pbmZvLT5pZHNfZmxhZ3Mg
fD0gQU1ER1BVX0lEU19GTEFHU19GVVNJT047Cj4gICAgICAgICAgICAgICAgIGlmIChhbWRncHVf
bWNicCB8fCBhbWRncHVfc3Jpb3ZfdmYoYWRldikpCj4gLSAgICAgICAgICAgICAgICAgICAgICAg
ZGV2X2luZm8uaWRzX2ZsYWdzIHw9IEFNREdQVV9JRFNfRkxBR1NfUFJFRU1QVElPTjsKPiArICAg
ICAgICAgICAgICAgICAgICAgICBkZXZfaW5mby0+aWRzX2ZsYWdzIHw9IEFNREdQVV9JRFNfRkxB
R1NfUFJFRU1QVElPTjsKPiAgICAgICAgICAgICAgICAgaWYgKGFtZGdwdV9pc190bXooYWRldikp
Cj4gLSAgICAgICAgICAgICAgICAgICAgICAgZGV2X2luZm8uaWRzX2ZsYWdzIHw9IEFNREdQVV9J
RFNfRkxBR1NfVE1aOwo+ICsgICAgICAgICAgICAgICAgICAgICAgIGRldl9pbmZvLT5pZHNfZmxh
Z3MgfD0gQU1ER1BVX0lEU19GTEFHU19UTVo7Cj4KPiAgICAgICAgICAgICAgICAgdm1fc2l6ZSA9
IGFkZXYtPnZtX21hbmFnZXIubWF4X3BmbiAqIEFNREdQVV9HUFVfUEFHRV9TSVpFOwo+ICAgICAg
ICAgICAgICAgICB2bV9zaXplIC09IEFNREdQVV9WQV9SRVNFUlZFRF9TSVpFOwo+IEBAIC03NjIs
NDUgKzc2Niw0NyBAQCBzdGF0aWMgaW50IGFtZGdwdV9pbmZvX2lvY3RsKHN0cnVjdCBkcm1fZGV2
aWNlICpkZXYsIHZvaWQgKmRhdGEsIHN0cnVjdCBkcm1fZmlsZQo+ICAgICAgICAgICAgICAgICAg
ICAgYWRldi0+dmNlLmZ3X3ZlcnNpb24gPCBBTURHUFVfVkNFX0ZXXzUzXzQ1KQo+ICAgICAgICAg
ICAgICAgICAgICAgICAgIHZtX3NpemUgPSBtaW4odm1fc2l6ZSwgMVVMTCA8PCA0MCk7Cj4KPiAt
ICAgICAgICAgICAgICAgZGV2X2luZm8udmlydHVhbF9hZGRyZXNzX29mZnNldCA9IEFNREdQVV9W
QV9SRVNFUlZFRF9TSVpFOwo+IC0gICAgICAgICAgICAgICBkZXZfaW5mby52aXJ0dWFsX2FkZHJl
c3NfbWF4ID0KPiArICAgICAgICAgICAgICAgZGV2X2luZm8tPnZpcnR1YWxfYWRkcmVzc19vZmZz
ZXQgPSBBTURHUFVfVkFfUkVTRVJWRURfU0laRTsKPiArICAgICAgICAgICAgICAgZGV2X2luZm8t
PnZpcnR1YWxfYWRkcmVzc19tYXggPQo+ICAgICAgICAgICAgICAgICAgICAgICAgIG1pbih2bV9z
aXplLCBBTURHUFVfR01DX0hPTEVfU1RBUlQpOwo+Cj4gICAgICAgICAgICAgICAgIGlmICh2bV9z
aXplID4gQU1ER1BVX0dNQ19IT0xFX1NUQVJUKSB7Cj4gLSAgICAgICAgICAgICAgICAgICAgICAg
ZGV2X2luZm8uaGlnaF92YV9vZmZzZXQgPSBBTURHUFVfR01DX0hPTEVfRU5EOwo+IC0gICAgICAg
ICAgICAgICAgICAgICAgIGRldl9pbmZvLmhpZ2hfdmFfbWF4ID0gQU1ER1BVX0dNQ19IT0xFX0VO
RCB8IHZtX3NpemU7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgZGV2X2luZm8tPmhpZ2hfdmFf
b2Zmc2V0ID0gQU1ER1BVX0dNQ19IT0xFX0VORDsKPiArICAgICAgICAgICAgICAgICAgICAgICBk
ZXZfaW5mby0+aGlnaF92YV9tYXggPSBBTURHUFVfR01DX0hPTEVfRU5EIHwgdm1fc2l6ZTsKPiAg
ICAgICAgICAgICAgICAgfQo+IC0gICAgICAgICAgICAgICBkZXZfaW5mby52aXJ0dWFsX2FkZHJl
c3NfYWxpZ25tZW50ID0gbWF4KChpbnQpUEFHRV9TSVpFLCBBTURHUFVfR1BVX1BBR0VfU0laRSk7
Cj4gLSAgICAgICAgICAgICAgIGRldl9pbmZvLnB0ZV9mcmFnbWVudF9zaXplID0gKDEgPDwgYWRl
di0+dm1fbWFuYWdlci5mcmFnbWVudF9zaXplKSAqIEFNREdQVV9HUFVfUEFHRV9TSVpFOwo+IC0g
ICAgICAgICAgICAgICBkZXZfaW5mby5nYXJ0X3BhZ2Vfc2l6ZSA9IEFNREdQVV9HUFVfUEFHRV9T
SVpFOwo+IC0gICAgICAgICAgICAgICBkZXZfaW5mby5jdV9hY3RpdmVfbnVtYmVyID0gYWRldi0+
Z2Z4LmN1X2luZm8ubnVtYmVyOwo+IC0gICAgICAgICAgICAgICBkZXZfaW5mby5jdV9hb19tYXNr
ID0gYWRldi0+Z2Z4LmN1X2luZm8uYW9fY3VfbWFzazsKPiAtICAgICAgICAgICAgICAgZGV2X2lu
Zm8uY2VfcmFtX3NpemUgPSBhZGV2LT5nZnguY2VfcmFtX3NpemU7Cj4gLSAgICAgICAgICAgICAg
IG1lbWNweSgmZGV2X2luZm8uY3VfYW9fYml0bWFwWzBdLCAmYWRldi0+Z2Z4LmN1X2luZm8uYW9f
Y3VfYml0bWFwWzBdLAo+ICsgICAgICAgICAgICAgICBkZXZfaW5mby0+dmlydHVhbF9hZGRyZXNz
X2FsaWdubWVudCA9IG1heCgoaW50KVBBR0VfU0laRSwgQU1ER1BVX0dQVV9QQUdFX1NJWkUpOwo+
ICsgICAgICAgICAgICAgICBkZXZfaW5mby0+cHRlX2ZyYWdtZW50X3NpemUgPSAoMSA8PCBhZGV2
LT52bV9tYW5hZ2VyLmZyYWdtZW50X3NpemUpICogQU1ER1BVX0dQVV9QQUdFX1NJWkU7Cj4gKyAg
ICAgICAgICAgICAgIGRldl9pbmZvLT5nYXJ0X3BhZ2Vfc2l6ZSA9IEFNREdQVV9HUFVfUEFHRV9T
SVpFOwo+ICsgICAgICAgICAgICAgICBkZXZfaW5mby0+Y3VfYWN0aXZlX251bWJlciA9IGFkZXYt
PmdmeC5jdV9pbmZvLm51bWJlcjsKPiArICAgICAgICAgICAgICAgZGV2X2luZm8tPmN1X2FvX21h
c2sgPSBhZGV2LT5nZnguY3VfaW5mby5hb19jdV9tYXNrOwo+ICsgICAgICAgICAgICAgICBkZXZf
aW5mby0+Y2VfcmFtX3NpemUgPSBhZGV2LT5nZnguY2VfcmFtX3NpemU7Cj4gKyAgICAgICAgICAg
ICAgIG1lbWNweSgmZGV2X2luZm8tPmN1X2FvX2JpdG1hcFswXSwgJmFkZXYtPmdmeC5jdV9pbmZv
LmFvX2N1X2JpdG1hcFswXSwKPiAgICAgICAgICAgICAgICAgICAgICAgIHNpemVvZihhZGV2LT5n
ZnguY3VfaW5mby5hb19jdV9iaXRtYXApKTsKPiAtICAgICAgICAgICAgICAgbWVtY3B5KCZkZXZf
aW5mby5jdV9iaXRtYXBbMF0sICZhZGV2LT5nZnguY3VfaW5mby5iaXRtYXBbMF0sCj4gKyAgICAg
ICAgICAgICAgIG1lbWNweSgmZGV2X2luZm8tPmN1X2JpdG1hcFswXSwgJmFkZXYtPmdmeC5jdV9p
bmZvLmJpdG1hcFswXSwKPiAgICAgICAgICAgICAgICAgICAgICAgIHNpemVvZihhZGV2LT5nZngu
Y3VfaW5mby5iaXRtYXApKTsKPiAtICAgICAgICAgICAgICAgZGV2X2luZm8udnJhbV90eXBlID0g
YWRldi0+Z21jLnZyYW1fdHlwZTsKPiAtICAgICAgICAgICAgICAgZGV2X2luZm8udnJhbV9iaXRf
d2lkdGggPSBhZGV2LT5nbWMudnJhbV93aWR0aDsKPiAtICAgICAgICAgICAgICAgZGV2X2luZm8u
dmNlX2hhcnZlc3RfY29uZmlnID0gYWRldi0+dmNlLmhhcnZlc3RfY29uZmlnOwo+IC0gICAgICAg
ICAgICAgICBkZXZfaW5mby5nY19kb3VibGVfb2ZmY2hpcF9sZHNfYnVmID0KPiArICAgICAgICAg
ICAgICAgZGV2X2luZm8tPnZyYW1fdHlwZSA9IGFkZXYtPmdtYy52cmFtX3R5cGU7Cj4gKyAgICAg
ICAgICAgICAgIGRldl9pbmZvLT52cmFtX2JpdF93aWR0aCA9IGFkZXYtPmdtYy52cmFtX3dpZHRo
Owo+ICsgICAgICAgICAgICAgICBkZXZfaW5mby0+dmNlX2hhcnZlc3RfY29uZmlnID0gYWRldi0+
dmNlLmhhcnZlc3RfY29uZmlnOwo+ICsgICAgICAgICAgICAgICBkZXZfaW5mby0+Z2NfZG91Ymxl
X29mZmNoaXBfbGRzX2J1ZiA9Cj4gICAgICAgICAgICAgICAgICAgICAgICAgYWRldi0+Z2Z4LmNv
bmZpZy5kb3VibGVfb2ZmY2hpcF9sZHNfYnVmOwo+IC0gICAgICAgICAgICAgICBkZXZfaW5mby53
YXZlX2Zyb250X3NpemUgPSBhZGV2LT5nZnguY3VfaW5mby53YXZlX2Zyb250X3NpemU7Cj4gLSAg
ICAgICAgICAgICAgIGRldl9pbmZvLm51bV9zaGFkZXJfdmlzaWJsZV92Z3BycyA9IGFkZXYtPmdm
eC5jb25maWcubWF4X2dwcnM7Cj4gLSAgICAgICAgICAgICAgIGRldl9pbmZvLm51bV9jdV9wZXJf
c2ggPSBhZGV2LT5nZnguY29uZmlnLm1heF9jdV9wZXJfc2g7Cj4gLSAgICAgICAgICAgICAgIGRl
dl9pbmZvLm51bV90Y2NfYmxvY2tzID0gYWRldi0+Z2Z4LmNvbmZpZy5tYXhfdGV4dHVyZV9jaGFu
bmVsX2NhY2hlczsKPiAtICAgICAgICAgICAgICAgZGV2X2luZm8uZ3Nfdmd0X3RhYmxlX2RlcHRo
ID0gYWRldi0+Z2Z4LmNvbmZpZy5nc192Z3RfdGFibGVfZGVwdGg7Cj4gLSAgICAgICAgICAgICAg
IGRldl9pbmZvLmdzX3ByaW1fYnVmZmVyX2RlcHRoID0gYWRldi0+Z2Z4LmNvbmZpZy5nc19wcmlt
X2J1ZmZlcl9kZXB0aDsKPiAtICAgICAgICAgICAgICAgZGV2X2luZm8ubWF4X2dzX3dhdmVzX3Bl
cl92Z3QgPSBhZGV2LT5nZnguY29uZmlnLm1heF9nc190aHJlYWRzOwo+ICsgICAgICAgICAgICAg
ICBkZXZfaW5mby0+d2F2ZV9mcm9udF9zaXplID0gYWRldi0+Z2Z4LmN1X2luZm8ud2F2ZV9mcm9u
dF9zaXplOwo+ICsgICAgICAgICAgICAgICBkZXZfaW5mby0+bnVtX3NoYWRlcl92aXNpYmxlX3Zn
cHJzID0gYWRldi0+Z2Z4LmNvbmZpZy5tYXhfZ3ByczsKPiArICAgICAgICAgICAgICAgZGV2X2lu
Zm8tPm51bV9jdV9wZXJfc2ggPSBhZGV2LT5nZnguY29uZmlnLm1heF9jdV9wZXJfc2g7Cj4gKyAg
ICAgICAgICAgICAgIGRldl9pbmZvLT5udW1fdGNjX2Jsb2NrcyA9IGFkZXYtPmdmeC5jb25maWcu
bWF4X3RleHR1cmVfY2hhbm5lbF9jYWNoZXM7Cj4gKyAgICAgICAgICAgICAgIGRldl9pbmZvLT5n
c192Z3RfdGFibGVfZGVwdGggPSBhZGV2LT5nZnguY29uZmlnLmdzX3ZndF90YWJsZV9kZXB0aDsK
PiArICAgICAgICAgICAgICAgZGV2X2luZm8tPmdzX3ByaW1fYnVmZmVyX2RlcHRoID0gYWRldi0+
Z2Z4LmNvbmZpZy5nc19wcmltX2J1ZmZlcl9kZXB0aDsKPiArICAgICAgICAgICAgICAgZGV2X2lu
Zm8tPm1heF9nc193YXZlc19wZXJfdmd0ID0gYWRldi0+Z2Z4LmNvbmZpZy5tYXhfZ3NfdGhyZWFk
czsKPgo+ICAgICAgICAgICAgICAgICBpZiAoYWRldi0+ZmFtaWx5ID49IEFNREdQVV9GQU1JTFlf
TlYpCj4gLSAgICAgICAgICAgICAgICAgICAgICAgZGV2X2luZm8ucGFfc2NfdGlsZV9zdGVlcmlu
Z19vdmVycmlkZSA9Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgZGV2X2luZm8tPnBhX3NjX3Rp
bGVfc3RlZXJpbmdfb3ZlcnJpZGUgPQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
YWRldi0+Z2Z4LmNvbmZpZy5wYV9zY190aWxlX3N0ZWVyaW5nX292ZXJyaWRlOwo+Cj4gLSAgICAg
ICAgICAgICAgIGRldl9pbmZvLnRjY19kaXNhYmxlZF9tYXNrID0gYWRldi0+Z2Z4LmNvbmZpZy50
Y2NfZGlzYWJsZWRfbWFzazsKPiArICAgICAgICAgICAgICAgZGV2X2luZm8tPnRjY19kaXNhYmxl
ZF9tYXNrID0gYWRldi0+Z2Z4LmNvbmZpZy50Y2NfZGlzYWJsZWRfbWFzazsKPgo+IC0gICAgICAg
ICAgICAgICByZXR1cm4gY29weV90b191c2VyKG91dCwgJmRldl9pbmZvLAo+IC0gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIG1pbigoc2l6ZV90KXNpemUsIHNpemVvZihkZXZfaW5m
bykpKSA/IC1FRkFVTFQgOiAwOwo+ICsgICAgICAgICAgICAgICByZXQgPSBjb3B5X3RvX3VzZXIo
b3V0LCBkZXZfaW5mbywKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbigo
c2l6ZV90KXNpemUsIHNpemVvZigqZGV2X2luZm8pKSkgPyAtRUZBVUxUIDogMDsKPiArICAgICAg
ICAgICAgICAga2ZyZWUoZGV2X2luZm8pOwo+ICsgICAgICAgICAgICAgICByZXR1cm4gcmV0Owo+
ICAgICAgICAgfQo+ICAgICAgICAgY2FzZSBBTURHUFVfSU5GT19WQ0VfQ0xPQ0tfVEFCTEU6IHsK
PiAgICAgICAgICAgICAgICAgdW5zaWduZWQgaTsKPiAtLQo+IDIuMjUuMQo+Cj4gX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KPiBkcmktZGV2ZWwgbWFpbGlu
ZyBsaXN0Cj4gZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwo+IGh0dHBzOi8vbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVsCl9fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QK
ZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9w
Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbAo=
