Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 2C741DE7B0
	for <lists+dri-devel@lfdr.de>; Mon, 21 Oct 2019 11:15:32 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id EC33889CBA;
	Mon, 21 Oct 2019 09:15:23 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wr1-x441.google.com (mail-wr1-x441.google.com
 [IPv6:2a00:1450:4864:20::441])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 5180089C9B
 for <dri-devel@lists.freedesktop.org>; Mon, 21 Oct 2019 09:15:19 +0000 (UTC)
Received: by mail-wr1-x441.google.com with SMTP id t16so7866665wrr.1
 for <dri-devel@lists.freedesktop.org>; Mon, 21 Oct 2019 02:15:19 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=L7PVn0GT+Q53b4/05X2gw4wIJMYhfbWDBhvgtlSOvjw=;
 b=J9cNZywqDhW17I9OsRcyP1I0y33yInN8zCpALzUgjZvy/03ZSEsgAl7giBipHcMhfN
 QmdVps8m9ww6ZrxYIu6QF6XwdFPo+LePsif1flulXNjsQXvHs8aWta39cAsTB7KoK/h7
 2aPAJ92CdCGgfBftkaeP/1vdt8m8n4xvxgI21tf9UQINgJPkH8d333XQQUV+asgNhkbd
 LDnMSIsnuHVTDEPrQ/aUuqC++I++nl6I3aIEPr/yP/QBwsxkbXFTeD7HxVf7wIQHsqc7
 Eyqjc/OV0SHv3JfC26Mv7wy7p3Wk6gI2B67r7iF70ZIkRhD8KTCQBeMa53GrTS/Rkgqk
 SG/w==
X-Gm-Message-State: APjAAAUgZ/3mrZJwOJREiXFrZtppNI3LOFehTO3lhiCc+FPYRT3zHI/e
 Q1Si2O3xOqE69ReeN8jsp9rPxb0DYdtArg==
X-Google-Smtp-Source: APXvYqwAqbtjZjSfSNeJmQ4stzCKH53tgotYC+GelIt6j4qQHRvFi9R3qDk8zExKNDBhi/6D0FAODw==
X-Received: by 2002:adf:fc4c:: with SMTP id e12mr7862537wrs.179.1571649317355; 
 Mon, 21 Oct 2019 02:15:17 -0700 (PDT)
Received: from localhost.localdomain
 (lmontsouris-657-1-212-31.w90-63.abo.wanadoo.fr. [90.63.244.31])
 by smtp.gmail.com with ESMTPSA id t13sm20281595wra.70.2019.10.21.02.15.16
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Mon, 21 Oct 2019 02:15:16 -0700 (PDT)
From: Neil Armstrong <narmstrong@baylibre.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH v3 7/9] drm/meson: viu: add AFBC modules routing functions
Date: Mon, 21 Oct 2019 11:15:07 +0200
Message-Id: <20191021091509.3864-8-narmstrong@baylibre.com>
X-Mailer: git-send-email 2.22.0
In-Reply-To: <20191021091509.3864-1-narmstrong@baylibre.com>
References: <20191021091509.3864-1-narmstrong@baylibre.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=baylibre-com.20150623.gappssmtp.com; s=20150623;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=L7PVn0GT+Q53b4/05X2gw4wIJMYhfbWDBhvgtlSOvjw=;
 b=ofDGK82VOw5Ncz2vVTOV1TMjbrUX7M29g/YosoTtWp/VEzgfXZJyPxyQJZaA1jYUDI
 6VwARmBgnEuTXOmVoZ8f2DWfXMOKKab/Rmyd+tFR1aerGApBOm5Kmmznv+vm1WPeHhYB
 cpID+cSEINtBgzrK0M5lSHQnuYoKG+daWWPgnqeSrV0GSnM62YZ+2ysxqmkiFeE3VVgo
 EBqoceFLRvOA8nW6RJJwjDj0rQoS0oig6aRrQNjfyGjAcWICXWjRwDap4eXeTe6mpyhW
 MaD64Zt9wNEBQUA+U/xNAAtn0ai/zoeDijMgOy3zO++Ugu65aQ6LGsIegXif1PXvfH/y
 LCfQ==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: khilman@baylibre.com, linux-amlogic@lists.infradead.org,
 ayan.halder@arm.com, linux-arm-kernel@lists.infradead.org,
 Neil Armstrong <narmstrong@baylibre.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIEFtbG9naWMgRzEyQSBBRkJDIERlY29kZXIgcGl4ZWwgaW5wdXQgbmVlZCB0byBiZSByb3V0
ZWQgZGlmZXJlbnRseQp0aGFuIHRoZSBBbWxvZ2ljIEdYTSBBRkJDIGRlY29kZXIsIHRoaXMgYWRk
cyBzdXBwb3J0IGZvciByb3V0aW5nIHRoZQpWSVUgT1NEMSBwaXhlbCBzb3VyY2UgdG8gdGhlIEFG
QkMgIk1hbGkgVW5wYWNrIiBtb2R1bGUuCgpUaGlzICJNYWxpIFVucGFjayIgbW9kdWxlIGlzIGFs
c28gY29uZmlndXJlZCB3aXRoIGEgc3RhdGljIFJHQkEgbWFwcGluZwpmb3Igbm93IHVudGlsIHdl
IHN1cHBvcnQgbW9yZSBwaXhlbCBmb3JtYXRzLgoKU2lnbmVkLW9mZi1ieTogTmVpbCBBcm1zdHJv
bmcgPG5hcm1zdHJvbmdAYmF5bGlicmUuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9tZXNvbi9t
ZXNvbl92aXUuYyB8IDgxICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysKIGRyaXZlcnMv
Z3B1L2RybS9tZXNvbi9tZXNvbl92aXUuaCB8ICA0ICsrCiAyIGZpbGVzIGNoYW5nZWQsIDg1IGlu
c2VydGlvbnMoKykKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fdml1
LmMgYi9kcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fdml1LmMKaW5kZXggNjhjZjJjMmVjYTVm
Li5mYzI0NjI0ODIyNmIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNvbl92
aXUuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fdml1LmMKQEAgLTcsNiArNyw5
IEBACiAgKi8KIAogI2luY2x1ZGUgPGxpbnV4L2V4cG9ydC5oPgorI2luY2x1ZGUgPGxpbnV4L2Jp
dGZpZWxkLmg+CisKKyNpbmNsdWRlIDxkcm0vZHJtX2ZvdXJjYy5oPgogCiAjaW5jbHVkZSAibWVz
b25fZHJ2LmgiCiAjaW5jbHVkZSAibWVzb25fdml1LmgiCkBAIC0zMzUsNiArMzM4LDc5IEBAIHZv
aWQgbWVzb25fdml1X29zZDFfcmVzZXQoc3RydWN0IG1lc29uX2RybSAqcHJpdikKIAltZXNvbl92
aXVfbG9hZF9tYXRyaXgocHJpdik7CiB9CiAKKyNkZWZpbmUgT1NEMV9NQUxJX09SREVSX0FCR1IJ
CQkJXAorCShGSUVMRF9QUkVQKFZJVV9PU0QxX01BTElfQUZCQ0RfQV9SRU9SREVSLAlcCisJCSAg
ICBWSVVfT1NEMV9NQUxJX1JFT1JERVJfQSkgfAkJXAorCSBGSUVMRF9QUkVQKFZJVV9PU0QxX01B
TElfQUZCQ0RfQl9SRU9SREVSLAlcCisJCSAgICBWSVVfT1NEMV9NQUxJX1JFT1JERVJfQikgfAkJ
XAorCSBGSUVMRF9QUkVQKFZJVV9PU0QxX01BTElfQUZCQ0RfR19SRU9SREVSLAlcCisJCSAgICBW
SVVfT1NEMV9NQUxJX1JFT1JERVJfRykgfAkJXAorCSBGSUVMRF9QUkVQKFZJVV9PU0QxX01BTElf
QUZCQ0RfUl9SRU9SREVSLAlcCisJCSAgICBWSVVfT1NEMV9NQUxJX1JFT1JERVJfUikpCisKKyNk
ZWZpbmUgT1NEMV9NQUxJX09SREVSX0FSR0IJCQkJXAorCShGSUVMRF9QUkVQKFZJVV9PU0QxX01B
TElfQUZCQ0RfQV9SRU9SREVSLAlcCisJCSAgICBWSVVfT1NEMV9NQUxJX1JFT1JERVJfQSkgfAkJ
XAorCSBGSUVMRF9QUkVQKFZJVV9PU0QxX01BTElfQUZCQ0RfQl9SRU9SREVSLAlcCisJCSAgICBW
SVVfT1NEMV9NQUxJX1JFT1JERVJfUikgfAkJXAorCSBGSUVMRF9QUkVQKFZJVV9PU0QxX01BTElf
QUZCQ0RfR19SRU9SREVSLAlcCisJCSAgICBWSVVfT1NEMV9NQUxJX1JFT1JERVJfRykgfAkJXAor
CSBGSUVMRF9QUkVQKFZJVV9PU0QxX01BTElfQUZCQ0RfUl9SRU9SREVSLAlcCisJCSAgICBWSVVf
T1NEMV9NQUxJX1JFT1JERVJfQikpCisKK3ZvaWQgbWVzb25fdml1X2cxMmFfZW5hYmxlX29zZDFf
YWZiYyhzdHJ1Y3QgbWVzb25fZHJtICpwcml2KQoreworCXUzMiBhZmJjX29yZGVyID0gT1NEMV9N
QUxJX09SREVSX0FSR0I7CisKKwkvKiBFbmFibGUgTWFsaSBBRkJDIFVucGFjayAqLworCXdyaXRl
bF9iaXRzX3JlbGF4ZWQoVklVX09TRDFfTUFMSV9VTlBBQ0tfRU4sCisJCQkgICAgVklVX09TRDFf
TUFMSV9VTlBBQ0tfRU4sCisJCQkgICAgcHJpdi0+aW9fYmFzZSArIF9SRUcoVklVX09TRDFfTUFM
SV9VTlBBQ0tfQ1RSTCkpOworCisJc3dpdGNoIChwcml2LT5hZmJjZC5mb3JtYXQpIHsKKwljYXNl
IERSTV9GT1JNQVRfWEJHUjg4ODg6CisJY2FzZSBEUk1fRk9STUFUX0FCR1I4ODg4OgorCQlhZmJj
X29yZGVyID0gT1NEMV9NQUxJX09SREVSX0FCR1I7CisJCWJyZWFrOworCX0KKworCS8qIFNldHVw
IFJHQkEgUmVvcmRlcmluZyAqLworCXdyaXRlbF9iaXRzX3JlbGF4ZWQoVklVX09TRDFfTUFMSV9B
RkJDRF9BX1JFT1JERVIgfAorCQkJICAgIFZJVV9PU0QxX01BTElfQUZCQ0RfQl9SRU9SREVSIHwK
KwkJCSAgICBWSVVfT1NEMV9NQUxJX0FGQkNEX0dfUkVPUkRFUiB8CisJCQkgICAgVklVX09TRDFf
TUFMSV9BRkJDRF9SX1JFT1JERVIsCisJCQkgICAgYWZiY19vcmRlciwKKwkJCSAgICBwcml2LT5p
b19iYXNlICsgX1JFRyhWSVVfT1NEMV9NQUxJX1VOUEFDS19DVFJMKSk7CisKKwkvKiBTZWxlY3Qg
QUZCQ0QgcGF0aCBmb3IgT1NEMSAqLworCXdyaXRlbF9iaXRzX3JlbGF4ZWQoT1NEX1BBVEhfT1NE
X0FYSV9TRUxfT1NEMV9BRkJDRCwKKwkJCSAgICBPU0RfUEFUSF9PU0RfQVhJX1NFTF9PU0QxX0FG
QkNELAorCQkJICAgIHByaXYtPmlvX2Jhc2UgKyBfUkVHKE9TRF9QQVRIX01JU0NfQ1RSTCkpOwor
fQorCit2b2lkIG1lc29uX3ZpdV9nMTJhX2Rpc2FibGVfb3NkMV9hZmJjKHN0cnVjdCBtZXNvbl9k
cm0gKnByaXYpCit7CisJLyogRGlzYWJsZSBBRkJDRCBwYXRoIGZvciBPU0QxICovCisJd3JpdGVs
X2JpdHNfcmVsYXhlZChPU0RfUEFUSF9PU0RfQVhJX1NFTF9PU0QxX0FGQkNELCAwLAorCQkJICAg
IHByaXYtPmlvX2Jhc2UgKyBfUkVHKE9TRF9QQVRIX01JU0NfQ1RSTCkpOworCisJLyogRGlzYWJs
ZSBBRkJDRCB1bnBhY2sgKi8KKwl3cml0ZWxfYml0c19yZWxheGVkKFZJVV9PU0QxX01BTElfVU5Q
QUNLX0VOLCAwLAorCQkJICAgIHByaXYtPmlvX2Jhc2UgKyBfUkVHKFZJVV9PU0QxX01BTElfVU5Q
QUNLX0NUUkwpKTsKK30KKwordm9pZCBtZXNvbl92aXVfZ3htX2VuYWJsZV9vc2QxX2FmYmMoc3Ry
dWN0IG1lc29uX2RybSAqcHJpdikKK3sKKwl3cml0ZWxfYml0c19yZWxheGVkKE1BTElfQUZCQ19N
SVNDLCBGSUVMRF9QUkVQKE1BTElfQUZCQ19NSVNDLCAweDkwKSwKKwkJCSAgICBwcml2LT5pb19i
YXNlICsgX1JFRyhWSVVfTUlTQ19DVFJMMSkpOworfQorCit2b2lkIG1lc29uX3ZpdV9neG1fZGlz
YWJsZV9vc2QxX2FmYmMoc3RydWN0IG1lc29uX2RybSAqcHJpdikKK3sKKwl3cml0ZWxfYml0c19y
ZWxheGVkKE1BTElfQUZCQ19NSVNDLCBGSUVMRF9QUkVQKE1BTElfQUZCQ19NSVNDLCAweDAwKSwK
KwkJCSAgICBwcml2LT5pb19iYXNlICsgX1JFRyhWSVVfTUlTQ19DVFJMMSkpOworfQorCiBzdGF0
aWMgaW5saW5lIHVpbnQzMl90IG1lc29uX3ZpdV9vc2RfYnVyc3RfbGVuZ3RoX3JlZyh1aW50MzJf
dCBsZW5ndGgpCiB7CiAJdWludDMyX3QgdmFsID0gKCgobGVuZ3RoICYgMHg4MCkgJSAyNCkgLyAx
Mik7CkBAIC00MjAsOCArNDk2LDEzIEBAIHZvaWQgbWVzb25fdml1X2luaXQoc3RydWN0IG1lc29u
X2RybSAqcHJpdikKIAogCQl3cml0ZWxfYml0c19yZWxheGVkKERPTEJZX0JZUEFTU19FTigweGMp
LCBET0xCWV9CWVBBU1NfRU4oMHhjKSwKIAkJCQkgICAgcHJpdi0+aW9fYmFzZSArIF9SRUcoRE9M
QllfUEFUSF9DVFJMKSk7CisKKwkJbWVzb25fdml1X2cxMmFfZGlzYWJsZV9vc2QxX2FmYmMocHJp
dik7CiAJfQogCisJaWYgKG1lc29uX3ZwdV9pc19jb21wYXRpYmxlKHByaXYsIFZQVV9DT01QQVRJ
QkxFX0dYTSkpCisJCW1lc29uX3ZpdV9neG1fZGlzYWJsZV9vc2QxX2FmYmMocHJpdik7CisKIAlw
cml2LT52aXUub3NkMV9lbmFibGVkID0gZmFsc2U7CiAJcHJpdi0+dml1Lm9zZDFfY29tbWl0ID0g
ZmFsc2U7CiAJcHJpdi0+dml1Lm9zZDFfaW50ZXJsYWNlID0gZmFsc2U7CmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fdml1LmggYi9kcml2ZXJzL2dwdS9kcm0vbWVzb24v
bWVzb25fdml1LmgKaW5kZXggZTI5Nzc3MmQ5NjdmLi5lNGEyZjI0ZDdjMzggMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNvbl92aXUuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0v
bWVzb24vbWVzb25fdml1LmgKQEAgLTYzLDYgKzYzLDEwIEBACiAjZGVmaW5lIE9TRF9QRU5ESU5H
X1NUQVRfQ0xFQU4JQklUKDEpCiAKIHZvaWQgbWVzb25fdml1X29zZDFfcmVzZXQoc3RydWN0IG1l
c29uX2RybSAqcHJpdik7Cit2b2lkIG1lc29uX3ZpdV9nMTJhX2VuYWJsZV9vc2QxX2FmYmMoc3Ry
dWN0IG1lc29uX2RybSAqcHJpdik7Cit2b2lkIG1lc29uX3ZpdV9nMTJhX2Rpc2FibGVfb3NkMV9h
ZmJjKHN0cnVjdCBtZXNvbl9kcm0gKnByaXYpOwordm9pZCBtZXNvbl92aXVfZ3htX2VuYWJsZV9v
c2QxX2FmYmMoc3RydWN0IG1lc29uX2RybSAqcHJpdik7Cit2b2lkIG1lc29uX3ZpdV9neG1fZGlz
YWJsZV9vc2QxX2FmYmMoc3RydWN0IG1lc29uX2RybSAqcHJpdik7CiB2b2lkIG1lc29uX3ZpdV9p
bml0KHN0cnVjdCBtZXNvbl9kcm0gKnByaXYpOwogCiAjZW5kaWYgLyogX19NRVNPTl9WSVVfSCAq
LwotLSAKMi4yMi4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2
ZWw=
