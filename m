Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 294786C490
	for <lists+dri-devel@lfdr.de>; Thu, 18 Jul 2019 03:45:46 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7928F6E2E9;
	Thu, 18 Jul 2019 01:45:43 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7C6066E2E9
 for <dri-devel@lists.freedesktop.org>; Thu, 18 Jul 2019 01:45:40 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx08.intmail.prod.int.phx2.redhat.com
 [10.5.11.23])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id 060C8A7F8;
 Thu, 18 Jul 2019 01:45:40 +0000 (UTC)
Received: from whitewolf.redhat.com (ovpn-120-112.rdu2.redhat.com
 [10.10.120.112])
 by smtp.corp.redhat.com (Postfix) with ESMTP id BF79C19C67;
 Thu, 18 Jul 2019 01:45:37 +0000 (UTC)
From: Lyude Paul <lyude@redhat.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH 25/26] drm/dp_mst: Also print unhashed pointers for
 malloc/topology references
Date: Wed, 17 Jul 2019 21:42:48 -0400
Message-Id: <20190718014329.8107-26-lyude@redhat.com>
In-Reply-To: <20190718014329.8107-1-lyude@redhat.com>
References: <20190718014329.8107-1-lyude@redhat.com>
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.84 on 10.5.11.23
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.29]); Thu, 18 Jul 2019 01:45:40 +0000 (UTC)
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Maxime Ripard <maxime.ripard@bootlin.com>, Sean Paul <sean@poorly.run>,
 linux-kernel@vger.kernel.org, David Airlie <airlied@linux.ie>,
 Juston Li <juston.li@intel.com>, Harry Wentland <hwentlan@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Q3VycmVudGx5IHdlIG9ubHkgcHJpbnQgbXN0Yi9wb3J0IHBvaW50ZXIgYWRkcmVzc2VzIGluIG91
ciBtYWxsb2MgYW5kCnRvcG9sb2d5IHJlZmNvdW50IGZ1bmN0aW9ucyB1c2luZyB0aGUgaGFzaGVk
LWJ5LWRlZmF1bHQgJXAsIGJ1dAp1bmZvcnR1bmF0ZWx5IGlmIHlvdSdyZSB0cnlpbmcgdG8gZGVi
dWcgYSB1c2UtYWZ0ZXItZnJlZSBlcnJvciBjYXVzZWQgYnkKYSByZWZjb3VudGluZyBlcnJvciB0
aGVuIHRoaXMgcmVhbGx5IGlzbid0IHRlcnJpYmx5IHVzZWZ1bC4gT24gdGhlIG90aGVyCmhhbmQg
dGhvdWdoLCBldmVyeXRoaW5nIGluIHRoZSByZXN0IG9mIHRoZSBEUCBNU1QgaGVscGVycyB1c2Vz
IGhhc2hlZApwb2ludGVyIHZhbHVlcyBhcyB3ZWxsIGFuZCBwcm9iYWJseSBpc24ndCB1c2VmdWwg
dG8gY29udmVydCB0byB1bmhhc2hlZC4KU28sIGxldCdzIGp1c3QgZ2V0IHRoZSBiZXN0IG9mIGJv
dGggd29ybGRzIGFuZCBwcmludCBib3RoIHRoZSBoYXNoZWQgYW5kCnVuaGFzaGVkIHBvaW50ZXIg
aW4gb3VyIG1hbGxvYy90b3BvbG9neSByZWZjb3VudCBkZWJ1Z2dpbmcgb3V0cHV0LiBUaGlzCndp
bGwgaG9wZWZ1bGx5IG1ha2UgaXQgYSBsb3QgZWFzaWVyIHRvIGZpZ3VyZSBvdXQgd2hpY2ggcG9y
dC9tc3RiIGlzCmNhdXNpbmcgS0FTQU4gdG8gZ2V0IHVwc2V0LgoKQ2M6IEp1c3RvbiBMaSA8anVz
dG9uLmxpQGludGVsLmNvbT4KQ2M6IEltcmUgRGVhayA8aW1yZS5kZWFrQGludGVsLmNvbT4KQ2M6
IFZpbGxlIFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBsaW51eC5pbnRlbC5jb20+CkNjOiBIYXJy
eSBXZW50bGFuZCA8aHdlbnRsYW5AYW1kLmNvbT4KU2lnbmVkLW9mZi1ieTogTHl1ZGUgUGF1bCA8
bHl1ZGVAcmVkaGF0LmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vZHJtX2RwX21zdF90b3BvbG9n
eS5jIHwgMzQgKysrKysrKysrKysrKysrKy0tLS0tLS0tLS0tCiAxIGZpbGUgY2hhbmdlZCwgMjAg
aW5zZXJ0aW9ucygrKSwgMTQgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2RybV9kcF9tc3RfdG9wb2xvZ3kuYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fZHBfbXN0X3Rv
cG9sb2d5LmMKaW5kZXggMzIwMTU4OTcwZTI1Li5mY2QzZjk4Y2JjMzQgMTAwNjQ0Ci0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9kcm1fZHBfbXN0X3RvcG9sb2d5LmMKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2RybV9kcF9tc3RfdG9wb2xvZ3kuYwpAQCAtMTMyNSw3ICsxMzI1LDggQEAgc3RhdGljIHZvaWQK
IGRybV9kcF9tc3RfZ2V0X21zdGJfbWFsbG9jKHN0cnVjdCBkcm1fZHBfbXN0X2JyYW5jaCAqbXN0
YikKIHsKIAlrcmVmX2dldCgmbXN0Yi0+bWFsbG9jX2tyZWYpOwotCURSTV9ERUJVRygibXN0YiAl
cCAoJWQpXG4iLCBtc3RiLCBrcmVmX3JlYWQoJm1zdGItPm1hbGxvY19rcmVmKSk7CisJRFJNX0RF
QlVHKCJtc3RiICVwLyVweCAoJWQpXG4iLAorCQkgIG1zdGIsIG1zdGIsIGtyZWZfcmVhZCgmbXN0
Yi0+bWFsbG9jX2tyZWYpKTsKIH0KIAogLyoqCkBAIC0xMzQyLDcgKzEzNDMsOCBAQCBkcm1fZHBf
bXN0X2dldF9tc3RiX21hbGxvYyhzdHJ1Y3QgZHJtX2RwX21zdF9icmFuY2ggKm1zdGIpCiBzdGF0
aWMgdm9pZAogZHJtX2RwX21zdF9wdXRfbXN0Yl9tYWxsb2Moc3RydWN0IGRybV9kcF9tc3RfYnJh
bmNoICptc3RiKQogewotCURSTV9ERUJVRygibXN0YiAlcCAoJWQpXG4iLCBtc3RiLCBrcmVmX3Jl
YWQoJm1zdGItPm1hbGxvY19rcmVmKSAtIDEpOworCURSTV9ERUJVRygibXN0YiAlcC8lcHggKCVk
KVxuIiwKKwkJICBtc3RiLCBtc3RiLCBrcmVmX3JlYWQoJm1zdGItPm1hbGxvY19rcmVmKSAtIDEp
OwogCWtyZWZfcHV0KCZtc3RiLT5tYWxsb2Nfa3JlZiwgZHJtX2RwX2ZyZWVfbXN0X2JyYW5jaF9k
ZXZpY2UpOwogfQogCkBAIC0xMzc3LDcgKzEzNzksOCBAQCB2b2lkCiBkcm1fZHBfbXN0X2dldF9w
b3J0X21hbGxvYyhzdHJ1Y3QgZHJtX2RwX21zdF9wb3J0ICpwb3J0KQogewogCWtyZWZfZ2V0KCZw
b3J0LT5tYWxsb2Nfa3JlZik7Ci0JRFJNX0RFQlVHKCJwb3J0ICVwICglZClcbiIsIHBvcnQsIGty
ZWZfcmVhZCgmcG9ydC0+bWFsbG9jX2tyZWYpKTsKKwlEUk1fREVCVUcoInBvcnQgJXAvJXB4ICgl
ZClcbiIsCisJCSAgcG9ydCwgcG9ydCwga3JlZl9yZWFkKCZwb3J0LT5tYWxsb2Nfa3JlZikpOwog
fQogRVhQT1JUX1NZTUJPTChkcm1fZHBfbXN0X2dldF9wb3J0X21hbGxvYyk7CiAKQEAgLTEzOTQs
NyArMTM5Nyw4IEBAIEVYUE9SVF9TWU1CT0woZHJtX2RwX21zdF9nZXRfcG9ydF9tYWxsb2MpOwog
dm9pZAogZHJtX2RwX21zdF9wdXRfcG9ydF9tYWxsb2Moc3RydWN0IGRybV9kcF9tc3RfcG9ydCAq
cG9ydCkKIHsKLQlEUk1fREVCVUcoInBvcnQgJXAgKCVkKVxuIiwgcG9ydCwga3JlZl9yZWFkKCZw
b3J0LT5tYWxsb2Nfa3JlZikgLSAxKTsKKwlEUk1fREVCVUcoInBvcnQgJXAvJXB4ICglZClcbiIs
CisJCSAgcG9ydCwgcG9ydCwga3JlZl9yZWFkKCZwb3J0LT5tYWxsb2Nfa3JlZikgLSAxKTsKIAlr
cmVmX3B1dCgmcG9ydC0+bWFsbG9jX2tyZWYsIGRybV9kcF9mcmVlX21zdF9wb3J0KTsKIH0KIEVY
UE9SVF9TWU1CT0woZHJtX2RwX21zdF9wdXRfcG9ydF9tYWxsb2MpOwpAQCAtMTQ0NSw4ICsxNDQ5
LDggQEAgZHJtX2RwX21zdF90b3BvbG9neV90cnlfZ2V0X21zdGIoc3RydWN0IGRybV9kcF9tc3Rf
YnJhbmNoICptc3RiKQogCWludCByZXQgPSBrcmVmX2dldF91bmxlc3NfemVybygmbXN0Yi0+dG9w
b2xvZ3lfa3JlZik7CiAKIAlpZiAocmV0KQotCQlEUk1fREVCVUcoIm1zdGIgJXAgKCVkKVxuIiwg
bXN0YiwKLQkJCSAga3JlZl9yZWFkKCZtc3RiLT50b3BvbG9neV9rcmVmKSk7CisJCURSTV9ERUJV
RygibXN0YiAlcC8lcHggKCVkKVxuIiwKKwkJCSAgbXN0YiwgbXN0Yiwga3JlZl9yZWFkKCZtc3Ri
LT50b3BvbG9neV9rcmVmKSk7CiAKIAlyZXR1cm4gcmV0OwogfQpAQCAtMTQ2OSw3ICsxNDczLDgg
QEAgc3RhdGljIHZvaWQgZHJtX2RwX21zdF90b3BvbG9neV9nZXRfbXN0YihzdHJ1Y3QgZHJtX2Rw
X21zdF9icmFuY2ggKm1zdGIpCiB7CiAJV0FSTl9PTihrcmVmX3JlYWQoJm1zdGItPnRvcG9sb2d5
X2tyZWYpID09IDApOwogCWtyZWZfZ2V0KCZtc3RiLT50b3BvbG9neV9rcmVmKTsKLQlEUk1fREVC
VUcoIm1zdGIgJXAgKCVkKVxuIiwgbXN0Yiwga3JlZl9yZWFkKCZtc3RiLT50b3BvbG9neV9rcmVm
KSk7CisJRFJNX0RFQlVHKCJtc3RiICVwLyVweCAoJWQpXG4iLAorCQkgIG1zdGIsIG1zdGIsIGty
ZWZfcmVhZCgmbXN0Yi0+dG9wb2xvZ3lfa3JlZikpOwogfQogCiAvKioKQEAgLTE0ODcsOCArMTQ5
Miw4IEBAIHN0YXRpYyB2b2lkIGRybV9kcF9tc3RfdG9wb2xvZ3lfZ2V0X21zdGIoc3RydWN0IGRy
bV9kcF9tc3RfYnJhbmNoICptc3RiKQogc3RhdGljIHZvaWQKIGRybV9kcF9tc3RfdG9wb2xvZ3lf
cHV0X21zdGIoc3RydWN0IGRybV9kcF9tc3RfYnJhbmNoICptc3RiKQogewotCURSTV9ERUJVRygi
bXN0YiAlcCAoJWQpXG4iLAotCQkgIG1zdGIsIGtyZWZfcmVhZCgmbXN0Yi0+dG9wb2xvZ3lfa3Jl
ZikgLSAxKTsKKwlEUk1fREVCVUcoIm1zdGIgJXAvJXB4ICglZClcbiIsCisJCSAgbXN0YiwgbXN0
Yiwga3JlZl9yZWFkKCZtc3RiLT50b3BvbG9neV9rcmVmKSAtIDEpOwogCWtyZWZfcHV0KCZtc3Ri
LT50b3BvbG9neV9rcmVmLCBkcm1fZHBfZGVzdHJveV9tc3RfYnJhbmNoX2RldmljZSk7CiB9CiAK
QEAgLTE1NDQsOCArMTU0OSw4IEBAIGRybV9kcF9tc3RfdG9wb2xvZ3lfdHJ5X2dldF9wb3J0KHN0
cnVjdCBkcm1fZHBfbXN0X3BvcnQgKnBvcnQpCiAJaW50IHJldCA9IGtyZWZfZ2V0X3VubGVzc196
ZXJvKCZwb3J0LT50b3BvbG9neV9rcmVmKTsKIAogCWlmIChyZXQpCi0JCURSTV9ERUJVRygicG9y
dCAlcCAoJWQpXG4iLCBwb3J0LAotCQkJICBrcmVmX3JlYWQoJnBvcnQtPnRvcG9sb2d5X2tyZWYp
KTsKKwkJRFJNX0RFQlVHKCJwb3J0ICVwLyVweCAoJWQpXG4iLAorCQkJICBwb3J0LCBwb3J0LCBr
cmVmX3JlYWQoJnBvcnQtPnRvcG9sb2d5X2tyZWYpKTsKIAogCXJldHVybiByZXQ7CiB9CkBAIC0x
NTY3LDcgKzE1NzIsOCBAQCBzdGF0aWMgdm9pZCBkcm1fZHBfbXN0X3RvcG9sb2d5X2dldF9wb3J0
KHN0cnVjdCBkcm1fZHBfbXN0X3BvcnQgKnBvcnQpCiB7CiAJV0FSTl9PTihrcmVmX3JlYWQoJnBv
cnQtPnRvcG9sb2d5X2tyZWYpID09IDApOwogCWtyZWZfZ2V0KCZwb3J0LT50b3BvbG9neV9rcmVm
KTsKLQlEUk1fREVCVUcoInBvcnQgJXAgKCVkKVxuIiwgcG9ydCwga3JlZl9yZWFkKCZwb3J0LT50
b3BvbG9neV9rcmVmKSk7CisJRFJNX0RFQlVHKCJwb3J0ICVwLyVweCAoJWQpXG4iLAorCQkgIHBv
cnQsIHBvcnQsIGtyZWZfcmVhZCgmcG9ydC0+dG9wb2xvZ3lfa3JlZikpOwogfQogCiAvKioKQEAg
LTE1ODMsOCArMTU4OSw4IEBAIHN0YXRpYyB2b2lkIGRybV9kcF9tc3RfdG9wb2xvZ3lfZ2V0X3Bv
cnQoc3RydWN0IGRybV9kcF9tc3RfcG9ydCAqcG9ydCkKICAqLwogc3RhdGljIHZvaWQgZHJtX2Rw
X21zdF90b3BvbG9neV9wdXRfcG9ydChzdHJ1Y3QgZHJtX2RwX21zdF9wb3J0ICpwb3J0KQogewot
CURSTV9ERUJVRygicG9ydCAlcCAoJWQpXG4iLAotCQkgIHBvcnQsIGtyZWZfcmVhZCgmcG9ydC0+
dG9wb2xvZ3lfa3JlZikgLSAxKTsKKwlEUk1fREVCVUcoInBvcnQgJXAvJXB4ICglZClcbiIsCisJ
CSAgcG9ydCwgcG9ydCwga3JlZl9yZWFkKCZwb3J0LT50b3BvbG9neV9rcmVmKSAtIDEpOwogCWty
ZWZfcHV0KCZwb3J0LT50b3BvbG9neV9rcmVmLCBkcm1fZHBfZGVzdHJveV9wb3J0KTsKIH0KIAot
LSAKMi4yMS4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
XwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcK
aHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
