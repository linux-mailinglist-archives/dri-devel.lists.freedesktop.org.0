Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 1CC365641A
	for <lists+dri-devel@lfdr.de>; Wed, 26 Jun 2019 10:12:56 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AFA7A6E2DA;
	Wed, 26 Jun 2019 08:12:16 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from lb3-smtp-cloud9.xs4all.net (lb3-smtp-cloud9.xs4all.net
 [194.109.24.30])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A8ED06E130
 for <dri-devel@lists.freedesktop.org>; Tue, 25 Jun 2019 14:45:16 +0000 (UTC)
Received: from cobaltpc1.rd.cisco.com
 ([IPv6:2001:420:44c1:2579:b032:593c:25fc:ff9b])
 by smtp-cloud9.xs4all.net with ESMTPA
 id fmh4hQwJSSfvXfmh9hHoz3; Tue, 25 Jun 2019 16:45:15 +0200
From: Hans Verkuil <hverkuil-cisco@xs4all.nl>
To: linux-media@vger.kernel.org
Subject: [PATCHv9 03/13] cec-notifier: add new notifier functions
Date: Tue, 25 Jun 2019 16:45:00 +0200
Message-Id: <20190625144510.122214-4-hverkuil-cisco@xs4all.nl>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190625144510.122214-1-hverkuil-cisco@xs4all.nl>
References: <20190625144510.122214-1-hverkuil-cisco@xs4all.nl>
MIME-Version: 1.0
X-CMAE-Envelope: MS4wfP1HhDxx2e9wZi4i8ZcXqQoOcGzGa4fKsVYmXt9nU2Qj4AfFWNVk981GzYRX2gTsiwoddBMxxk9pAfFLdRuwSfgw3OyGvtsf7R4z2nAEEOyGswU0fivE
 zpDhTah8gmvrYb0YMjoatUiNjw8ZeD0NX379atdhV7WvGob3Ew6MQjgSwOl/3sNJiSEjdbOjUPr+3726GIRsagXsQ0q1H5KiU61mYu+oX0tfGWwicj4v8W2u
 243st8beky4IVsDjWavuHOalUhsiprIqQETnT8hTXMS8DrVnlg3pG/5oDak7UwLY7UHLmQgLDkJySgJKlnvoVlFd3yR1yGwh3t8504AMXgQC2cfVN334lDN0
 qXWYSSsRGr4Qi5RkGtg3G6TBfBoqlvlOZ1KCRfGRQMkDqaI2GuWUb6xCGUOMi+ON/h6FVZyW
X-Mailman-Approved-At: Wed, 26 Jun 2019 08:12:13 +0000
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Hans Verkuil <hverkuil-cisco@xs4all.nl>,
 Dariusz Marcinkiewicz <darekm@google.com>, dri-devel@lists.freedesktop.org,
 Cheng-yi Chiang <cychiang@chromium.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SW4gb3JkZXIgdG8gc3VwcG9ydCBtdWx0aXBsZSBDRUMgZGV2aWNlcyBmb3IgYW4gSERNSSBjb25u
ZWN0b3IsCmFuZCB0byBzdXBwb3J0IGNlY19jb25uZWN0b3JfaW5mbywgZHJpdmVycyBzaG91bGQg
dXNlIGVpdGhlciBhCmNlY19ub3RpZmllcl9jb25uXyh1bilyZWdpc3RlciBwYWlyIG9mIGZ1bmN0
aW9ucyAoSERNSSBkcml2ZXJzKQpvciBhIGNlY19ub3RpZmllcl9jZWNfYWRhcF8odW4pcmVnaXN0
ZXIgcGFpciAoQ0VDIGFkYXB0ZXIgZHJpdmVycykuCgpUaGlzIHJlcGxhY2VzIGNlY19ub3RpZmll
cl9nZXRfY29ubi9jZWNfbm90aWZpZXJfcHV0LgoKRm9yIENFQyBhZGFwdGVycyBpdCBpcyBhbHNv
IG5vIGxvbmdlciBuZWVkZWQgdG8gY2FsbCBjZWNfbm90aWZpZXJfcmVnaXN0ZXIsCmNlY19yZWdp
c3Rlcl9jZWNfbm90aWZpZXIgYW5kIGNlY19ub3RpZmllcl91bnJlZ2lzdGVyLiBUaGlzIGlzIG5v
dwphbGwgaGFuZGxlZCBpbnRlcm5hbGx5IGJ5IHRoZSBuZXcgZnVuY3Rpb25zLgoKVGhlICdjYWxs
ZWRfY2VjX25vdGlmaWVyX3JlZ2lzdGVyJyBib29sIGlzIG5lZWRlZCB0byBoYW5kbGUgdGhlIGNh
c2Ugd2hlcmUKYSBDRUMgYWRhcHRlciBkcml2ZXIgY2FsbHMgdGhlIG9sZCBjZWNfbm90aWZpZXJf
cmVnaXN0ZXIoKSBmdW5jdGlvbgppbnN0ZWFkIG9mIGNlY19ub3RpZmllcl9jZWNfYWRhcF91bnJl
Z2lzdGVyKCkuCgpPbmNlIHRob3NlIG9sZCBmdW5jdGlvbnMgYXJlIHJlbW92ZWQgaW4gdGhlIGZ1
dHVyZSwgdGhhdCBib29sIGNhbiBhbHNvCmJlIHJlbW92ZWQuCgpTaWduZWQtb2ZmLWJ5OiBIYW5z
IFZlcmt1aWwgPGh2ZXJrdWlsLWNpc2NvQHhzNGFsbC5ubD4KLS0tCiBkcml2ZXJzL21lZGlhL2Nl
Yy9jZWMtbm90aWZpZXIuYyB8IDg1ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrCiBp
bmNsdWRlL21lZGlhL2NlYy1ub3RpZmllci5oICAgICB8IDc4ICsrKysrKysrKysrKysrKysrKysr
KysrKysrKysrCiAyIGZpbGVzIGNoYW5nZWQsIDE2MyBpbnNlcnRpb25zKCspCgpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9tZWRpYS9jZWMvY2VjLW5vdGlmaWVyLmMgYi9kcml2ZXJzL21lZGlhL2NlYy9j
ZWMtbm90aWZpZXIuYwppbmRleCBmNzJiMTljMzUxZGQuLjUyYTg2N2JkZTE1ZiAxMDA2NDQKLS0t
IGEvZHJpdmVycy9tZWRpYS9jZWMvY2VjLW5vdGlmaWVyLmMKKysrIGIvZHJpdmVycy9tZWRpYS9j
ZWMvY2VjLW5vdGlmaWVyLmMKQEAgLTIyLDYgKzIyLDcgQEAgc3RydWN0IGNlY19ub3RpZmllciB7
CiAJc3RydWN0IGxpc3RfaGVhZCBoZWFkOwogCXN0cnVjdCBrcmVmIGtyZWY7CiAJc3RydWN0IGRl
dmljZSAqaGRtaV9kZXY7CisJc3RydWN0IGNlY19jb25uZWN0b3JfaW5mbyBjb25uX2luZm87CiAJ
Y29uc3QgY2hhciAqY29ubl9uYW1lOwogCXN0cnVjdCBjZWNfYWRhcHRlciAqY2VjX2FkYXA7CiAJ
dm9pZCAoKmNhbGxiYWNrKShzdHJ1Y3QgY2VjX2FkYXB0ZXIgKmFkYXAsIHUxNiBwYSk7CkBAIC04
OCw2ICs4OSw4NCBAQCB2b2lkIGNlY19ub3RpZmllcl9wdXQoc3RydWN0IGNlY19ub3RpZmllciAq
bikKIH0KIEVYUE9SVF9TWU1CT0xfR1BMKGNlY19ub3RpZmllcl9wdXQpOwogCitzdHJ1Y3QgY2Vj
X25vdGlmaWVyICoKK2NlY19ub3RpZmllcl9jb25uX3JlZ2lzdGVyKHN0cnVjdCBkZXZpY2UgKmhk
bWlfZGV2LCBjb25zdCBjaGFyICpjb25uX25hbWUsCisJCQkgICBjb25zdCBzdHJ1Y3QgY2VjX2Nv
bm5lY3Rvcl9pbmZvICpjb25uX2luZm8pCit7CisJc3RydWN0IGNlY19ub3RpZmllciAqbiA9IGNl
Y19ub3RpZmllcl9nZXRfY29ubihoZG1pX2RldiwgY29ubl9uYW1lKTsKKworCWlmICghbikKKwkJ
cmV0dXJuIG47CisKKwltdXRleF9sb2NrKCZuLT5sb2NrKTsKKwluLT5waHlzX2FkZHIgPSBDRUNf
UEhZU19BRERSX0lOVkFMSUQ7CisJaWYgKGNvbm5faW5mbykKKwkJbi0+Y29ubl9pbmZvID0gKmNv
bm5faW5mbzsKKwllbHNlCisJCW1lbXNldCgmbi0+Y29ubl9pbmZvLCAwLCBzaXplb2Yobi0+Y29u
bl9pbmZvKSk7CisJaWYgKG4tPmNlY19hZGFwKSB7CisJCWNlY19waHlzX2FkZHJfaW52YWxpZGF0
ZShuLT5jZWNfYWRhcCk7CisJCWNlY19zX2Nvbm5faW5mbyhuLT5jZWNfYWRhcCwgY29ubl9pbmZv
KTsKKwl9CisJbXV0ZXhfdW5sb2NrKCZuLT5sb2NrKTsKKwlyZXR1cm4gbjsKK30KK0VYUE9SVF9T
WU1CT0xfR1BMKGNlY19ub3RpZmllcl9jb25uX3JlZ2lzdGVyKTsKKwordm9pZCBjZWNfbm90aWZp
ZXJfY29ubl91bnJlZ2lzdGVyKHN0cnVjdCBjZWNfbm90aWZpZXIgKm4pCit7CisJaWYgKCFuKQor
CQlyZXR1cm47CisKKwltdXRleF9sb2NrKCZuLT5sb2NrKTsKKwltZW1zZXQoJm4tPmNvbm5faW5m
bywgMCwgc2l6ZW9mKG4tPmNvbm5faW5mbykpOworCW4tPnBoeXNfYWRkciA9IENFQ19QSFlTX0FE
RFJfSU5WQUxJRDsKKwlpZiAobi0+Y2VjX2FkYXApIHsKKwkJY2VjX3BoeXNfYWRkcl9pbnZhbGlk
YXRlKG4tPmNlY19hZGFwKTsKKwkJY2VjX3NfY29ubl9pbmZvKG4tPmNlY19hZGFwLCBOVUxMKTsK
Kwl9CisJbXV0ZXhfdW5sb2NrKCZuLT5sb2NrKTsKKwljZWNfbm90aWZpZXJfcHV0KG4pOworfQor
RVhQT1JUX1NZTUJPTF9HUEwoY2VjX25vdGlmaWVyX2Nvbm5fdW5yZWdpc3Rlcik7CisKK3N0cnVj
dCBjZWNfbm90aWZpZXIgKgorY2VjX25vdGlmaWVyX2NlY19hZGFwX3JlZ2lzdGVyKHN0cnVjdCBk
ZXZpY2UgKmhkbWlfZGV2LCBjb25zdCBjaGFyICpjb25uX25hbWUsCisJCQkgICAgICAgc3RydWN0
IGNlY19hZGFwdGVyICphZGFwKQoreworCXN0cnVjdCBjZWNfbm90aWZpZXIgKm47CisKKwlpZiAo
V0FSTl9PTighYWRhcCkpCisJCXJldHVybiBOVUxMOworCisJbiA9IGNlY19ub3RpZmllcl9nZXRf
Y29ubihoZG1pX2RldiwgY29ubl9uYW1lKTsKKwlpZiAoIW4pCisJCXJldHVybiBuOworCisJbXV0
ZXhfbG9jaygmbi0+bG9jayk7CisJbi0+Y2VjX2FkYXAgPSBhZGFwOworCWFkYXAtPmNvbm5faW5m
byA9IG4tPmNvbm5faW5mbzsKKwlhZGFwLT5ub3RpZmllciA9IG47CisJY2VjX3NfcGh5c19hZGRy
KGFkYXAsIG4tPnBoeXNfYWRkciwgZmFsc2UpOworCW11dGV4X3VubG9jaygmbi0+bG9jayk7CisJ
cmV0dXJuIG47Cit9CitFWFBPUlRfU1lNQk9MX0dQTChjZWNfbm90aWZpZXJfY2VjX2FkYXBfcmVn
aXN0ZXIpOworCit2b2lkIGNlY19ub3RpZmllcl9jZWNfYWRhcF91bnJlZ2lzdGVyKHN0cnVjdCBj
ZWNfbm90aWZpZXIgKm4pCit7CisJaWYgKCFuKQorCQlyZXR1cm47CisKKwltdXRleF9sb2NrKCZu
LT5sb2NrKTsKKwluLT5jZWNfYWRhcC0+bm90aWZpZXIgPSBOVUxMOworCW4tPmNlY19hZGFwID0g
TlVMTDsKKwluLT5jYWxsYmFjayA9IE5VTEw7CisJbXV0ZXhfdW5sb2NrKCZuLT5sb2NrKTsKKwlj
ZWNfbm90aWZpZXJfcHV0KG4pOworfQorRVhQT1JUX1NZTUJPTF9HUEwoY2VjX25vdGlmaWVyX2Nl
Y19hZGFwX3VucmVnaXN0ZXIpOworCiB2b2lkIGNlY19ub3RpZmllcl9zZXRfcGh5c19hZGRyKHN0
cnVjdCBjZWNfbm90aWZpZXIgKm4sIHUxNiBwYSkKIHsKIAlpZiAobiA9PSBOVUxMKQpAQCAtOTcs
NiArMTc2LDggQEAgdm9pZCBjZWNfbm90aWZpZXJfc2V0X3BoeXNfYWRkcihzdHJ1Y3QgY2VjX25v
dGlmaWVyICpuLCB1MTYgcGEpCiAJbi0+cGh5c19hZGRyID0gcGE7CiAJaWYgKG4tPmNhbGxiYWNr
KQogCQluLT5jYWxsYmFjayhuLT5jZWNfYWRhcCwgbi0+cGh5c19hZGRyKTsKKwllbHNlIGlmIChu
LT5jZWNfYWRhcCkKKwkJY2VjX3NfcGh5c19hZGRyKG4tPmNlY19hZGFwLCBuLT5waHlzX2FkZHIs
IGZhbHNlKTsKIAltdXRleF91bmxvY2soJm4tPmxvY2spOwogfQogRVhQT1JUX1NZTUJPTF9HUEwo
Y2VjX25vdGlmaWVyX3NldF9waHlzX2FkZHIpOwpAQCAtMTMxLDYgKzIxMiwxMCBAQCBFWFBPUlRf
U1lNQk9MX0dQTChjZWNfbm90aWZpZXJfcmVnaXN0ZXIpOwogCiB2b2lkIGNlY19ub3RpZmllcl91
bnJlZ2lzdGVyKHN0cnVjdCBjZWNfbm90aWZpZXIgKm4pCiB7CisJLyogRG8gbm90aGluZyB1bmxl
c3MgY2VjX25vdGlmaWVyX3JlZ2lzdGVyIHdhcyBjYWxsZWQgZmlyc3QgKi8KKwlpZiAoIW4tPmNh
bGxiYWNrKQorCQlyZXR1cm47CisKIAltdXRleF9sb2NrKCZuLT5sb2NrKTsKIAluLT5jYWxsYmFj
ayA9IE5VTEw7CiAJbXV0ZXhfdW5sb2NrKCZuLT5sb2NrKTsKZGlmZiAtLWdpdCBhL2luY2x1ZGUv
bWVkaWEvY2VjLW5vdGlmaWVyLmggYi9pbmNsdWRlL21lZGlhL2NlYy1ub3RpZmllci5oCmluZGV4
IDBlM2JkMzQxNTcyNC4uZThhNjc3YzkwZjZmIDEwMDY0NAotLS0gYS9pbmNsdWRlL21lZGlhL2Nl
Yy1ub3RpZmllci5oCisrKyBiL2luY2x1ZGUvbWVkaWEvY2VjLW5vdGlmaWVyLmgKQEAgLTQyLDYg
KzQyLDYwIEBAIHN0cnVjdCBjZWNfbm90aWZpZXIgKmNlY19ub3RpZmllcl9nZXRfY29ubihzdHJ1
Y3QgZGV2aWNlICpkZXYsCiAgKi8KIHZvaWQgY2VjX25vdGlmaWVyX3B1dChzdHJ1Y3QgY2VjX25v
dGlmaWVyICpuKTsKIAorLyoqCisgKiBjZWNfbm90aWZpZXJfY29ubl9yZWdpc3RlciAtIGZpbmQg
b3IgY3JlYXRlIGEgbmV3IGNlY19ub3RpZmllciBmb3IgdGhlIGdpdmVuCisgKiBIRE1JIGRldmlj
ZSBhbmQgY29ubmVjdG9yIHR1cGxlLgorICogQGhkbWlfZGV2OiBIRE1JIGRldmljZSB0aGF0IHNl
bmRzIHRoZSBldmVudHMuCisgKiBAY29ubl9uYW1lOiB0aGUgY29ubmVjdG9yIG5hbWUgZnJvbSB3
aGljaCB0aGUgZXZlbnQgb2NjdXJzLiBNYXkgYmUgTlVMTAorICogaWYgdGhlcmUgaXMgYWx3YXlz
IG9ubHkgb25lIEhETUkgY29ubmVjdG9yIGNyZWF0ZWQgYnkgdGhlIEhETUkgZGV2aWNlLgorICog
QGNvbm5faW5mbzogdGhlIGNvbm5lY3RvciBpbmZvIGZyb20gd2hpY2ggdGhlIGV2ZW50IG9jY3Vy
cyAobWF5IGJlIE5VTEwpCisgKgorICogSWYgYSBub3RpZmllciBmb3IgZGV2aWNlIEBkZXYgYW5k
IGNvbm5lY3RvciBAY29ubl9uYW1lIGFscmVhZHkgZXhpc3RzLCB0aGVuCisgKiBpbmNyZWFzZSB0
aGUgcmVmY291bnQgYW5kIHJldHVybiB0aGF0IG5vdGlmaWVyLgorICoKKyAqIElmIGl0IGRvZXNu
J3QgZXhpc3QsIHRoZW4gYWxsb2NhdGUgYSBuZXcgbm90aWZpZXIgc3RydWN0IGFuZCByZXR1cm4g
YQorICogcG9pbnRlciB0byB0aGF0IG5ldyBzdHJ1Y3QuCisgKgorICogUmV0dXJuIE5VTEwgaWYg
dGhlIG1lbW9yeSBjb3VsZCBub3QgYmUgYWxsb2NhdGVkLgorICovCitzdHJ1Y3QgY2VjX25vdGlm
aWVyICoKK2NlY19ub3RpZmllcl9jb25uX3JlZ2lzdGVyKHN0cnVjdCBkZXZpY2UgKmhkbWlfZGV2
LCBjb25zdCBjaGFyICpjb25uX25hbWUsCisJCQkgICBjb25zdCBzdHJ1Y3QgY2VjX2Nvbm5lY3Rv
cl9pbmZvICpjb25uX2luZm8pOworCisvKioKKyAqIGNlY19ub3RpZmllcl9jb25uX3VucmVnaXN0
ZXIgLSBkZWNyZWFzZSByZWZjb3VudCBhbmQgZGVsZXRlIHdoZW4gdGhlCisgKiByZWZjb3VudCBy
ZWFjaGVzIDAuCisgKiBAbjogbm90aWZpZXIKKyAqLwordm9pZCBjZWNfbm90aWZpZXJfY29ubl91
bnJlZ2lzdGVyKHN0cnVjdCBjZWNfbm90aWZpZXIgKm4pOworCisvKioKKyAqIGNlY19ub3RpZmll
cl9jZWNfYWRhcF9yZWdpc3RlciAtIGZpbmQgb3IgY3JlYXRlIGEgbmV3IGNlY19ub3RpZmllciBm
b3IgdGhlCisgKiBnaXZlbiBkZXZpY2UuCisgKiBAaGRtaV9kZXY6IEhETUkgZGV2aWNlIHRoYXQg
c2VuZHMgdGhlIGV2ZW50cy4KKyAqIEBjb25uX25hbWU6IHRoZSBjb25uZWN0b3IgbmFtZSBmcm9t
IHdoaWNoIHRoZSBldmVudCBvY2N1cnMuIE1heSBiZSBOVUxMCisgKiBpZiB0aGVyZSBpcyBhbHdh
eXMgb25seSBvbmUgSERNSSBjb25uZWN0b3IgY3JlYXRlZCBieSB0aGUgSERNSSBkZXZpY2UuCisg
KiBAYWRhcDogdGhlIGNlYyBhZGFwdGVyIHRoYXQgcmVnaXN0ZXJlZCB0aGlzIG5vdGlmaWVyLgor
ICoKKyAqIElmIGEgbm90aWZpZXIgZm9yIGRldmljZSBAZGV2IGFuZCBjb25uZWN0b3IgQGNvbm5f
bmFtZSBhbHJlYWR5IGV4aXN0cywgdGhlbgorICogaW5jcmVhc2UgdGhlIHJlZmNvdW50IGFuZCBy
ZXR1cm4gdGhhdCBub3RpZmllci4KKyAqCisgKiBJZiBpdCBkb2Vzbid0IGV4aXN0LCB0aGVuIGFs
bG9jYXRlIGEgbmV3IG5vdGlmaWVyIHN0cnVjdCBhbmQgcmV0dXJuIGEKKyAqIHBvaW50ZXIgdG8g
dGhhdCBuZXcgc3RydWN0LgorICoKKyAqIFJldHVybiBOVUxMIGlmIHRoZSBtZW1vcnkgY291bGQg
bm90IGJlIGFsbG9jYXRlZC4KKyAqLworc3RydWN0IGNlY19ub3RpZmllciAqCitjZWNfbm90aWZp
ZXJfY2VjX2FkYXBfcmVnaXN0ZXIoc3RydWN0IGRldmljZSAqaGRtaV9kZXYsIGNvbnN0IGNoYXIg
KmNvbm5fbmFtZSwKKwkJCSAgICAgICBzdHJ1Y3QgY2VjX2FkYXB0ZXIgKmFkYXApOworCisvKioK
KyAqIGNlY19ub3RpZmllcl9jZWNfYWRhcF91bnJlZ2lzdGVyIC0gZGVjcmVhc2UgcmVmY291bnQg
YW5kIGRlbGV0ZSB3aGVuIHRoZQorICogcmVmY291bnQgcmVhY2hlcyAwLgorICogQG46IG5vdGlm
aWVyCisgKi8KK3ZvaWQgY2VjX25vdGlmaWVyX2NlY19hZGFwX3VucmVnaXN0ZXIoc3RydWN0IGNl
Y19ub3RpZmllciAqbik7CisKIC8qKgogICogY2VjX25vdGlmaWVyX3NldF9waHlzX2FkZHIgLSBz
ZXQgYSBuZXcgcGh5c2ljYWwgYWRkcmVzcy4KICAqIEBuOiB0aGUgQ0VDIG5vdGlmaWVyCkBAIC04
Niw2ICsxNDAsMzAgQEAgc3RhdGljIGlubGluZSB2b2lkIGNlY19ub3RpZmllcl9wdXQoc3RydWN0
IGNlY19ub3RpZmllciAqbikKIHsKIH0KIAorc3RhdGljIGlubGluZSBzdHJ1Y3QgY2VjX25vdGlm
aWVyICoKK2NlY19ub3RpZmllcl9jb25uX3JlZ2lzdGVyKHN0cnVjdCBkZXZpY2UgKmhkbWlfZGV2
LCBjb25zdCBjaGFyICpjb25uX25hbWUsCisJCQkgICBjb25zdCBzdHJ1Y3QgY2VjX2Nvbm5lY3Rv
cl9pbmZvICpjb25uX2luZm8pCit7CisJLyogQSBub24tTlVMTCBwb2ludGVyIGlzIGV4cGVjdGVk
IG9uIHN1Y2Nlc3MgKi8KKwlyZXR1cm4gKHN0cnVjdCBjZWNfbm90aWZpZXIgKikweGRlYWRmZWVk
OworfQorCitzdGF0aWMgaW5saW5lIHZvaWQgY2VjX25vdGlmaWVyX2Nvbm5fdW5yZWdpc3Rlcihz
dHJ1Y3QgY2VjX25vdGlmaWVyICpuKQoreworfQorCitzdGF0aWMgaW5saW5lIHN0cnVjdCBjZWNf
bm90aWZpZXIgKgorY2VjX25vdGlmaWVyX2NlY19hZGFwX3JlZ2lzdGVyKHN0cnVjdCBkZXZpY2Ug
KmhkbWlfZGV2LCBjb25zdCBjaGFyICpjb25uX25hbWUsCisJCQkgICAgICAgc3RydWN0IGNlY19h
ZGFwdGVyICphZGFwKQoreworCS8qIEEgbm9uLU5VTEwgcG9pbnRlciBpcyBleHBlY3RlZCBvbiBz
dWNjZXNzICovCisJcmV0dXJuIChzdHJ1Y3QgY2VjX25vdGlmaWVyICopMHhkZWFkZmVlZDsKK30K
Kworc3RhdGljIGlubGluZSB2b2lkIGNlY19ub3RpZmllcl9jZWNfYWRhcF91bnJlZ2lzdGVyKHN0
cnVjdCBjZWNfbm90aWZpZXIgKm4pCit7Cit9CisKIHN0YXRpYyBpbmxpbmUgdm9pZCBjZWNfbm90
aWZpZXJfc2V0X3BoeXNfYWRkcihzdHJ1Y3QgY2VjX25vdGlmaWVyICpuLCB1MTYgcGEpCiB7CiB9
Ci0tIAoyLjIwLjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9y
ZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZl
bA==
