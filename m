Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 830E2A83BA
	for <lists+dri-devel@lfdr.de>; Wed,  4 Sep 2019 15:28:29 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7552189BDB;
	Wed,  4 Sep 2019 13:28:27 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from perceval.ideasonboard.com (perceval.ideasonboard.com
 [213.167.242.64])
 by gabe.freedesktop.org (Postfix) with ESMTPS id AD99489C0A
 for <dri-devel@lists.freedesktop.org>; Wed,  4 Sep 2019 13:28:25 +0000 (UTC)
Received: from pendragon.ideasonboard.com
 (mobile-access-bceeb5-228.dhcp.inet.fi [188.238.181.228])
 by perceval.ideasonboard.com (Postfix) with ESMTPSA id 84129540;
 Wed,  4 Sep 2019 15:28:18 +0200 (CEST)
From: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH v3 1/2] drm/panel: Add and fill drm_panel type field
Date: Wed,  4 Sep 2019 16:28:03 +0300
Message-Id: <20190904132804.29680-2-laurent.pinchart@ideasonboard.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190904132804.29680-1-laurent.pinchart@ideasonboard.com>
References: <20190904132804.29680-1-laurent.pinchart@ideasonboard.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=ideasonboard.com; s=mail; t=1567603704;
 bh=sbqt5rBbDFZ9dnxEfRDEk39oM9zvPUDJPRdxVKZoSSc=;
 h=From:To:Cc:Subject:Date:In-Reply-To:References:From;
 b=Ee0Vd0CbLkwXQMmgTn07vE7EEStPrutjP8pfq6QqLseJHqoCrcjw2CDHWHI06E3bl
 yIhmHHoU9+unVdIQD9EvQiE1lZ466PO1DQrOC0hPtLPokws14cl1maK3VaCjGEdf0u
 FGYWTLk/yp8fhDqUJrAlcP+JmT0QWNMCA4fvCb/4=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Purism Kernel Team <kernel@puri.sm>, Stefan Mavrodiev <stefan@olimex.com>,
 =?UTF-8?q?Guido=20G=C3=BCnther?= <agx@sigxcpu.org>,
 Thierry Reding <thierry.reding@gmail.com>,
 Jagan Teki <jagan@amarulasolutions.com>, Robert Chiras <robert.chiras@nxp.com>,
 Sam Ravnborg <sam@ravnborg.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QWRkIGEgdHlwZSBmaWVsZCB0byB0aGUgZHJtX3BhbmVsIHN0cnVjdHVyZSB0byByZXBvcnQgdGhl
IHBhbmVsIHR5cGUsCnVzaW5nIERSTV9NT0RFX0NPTk5FQ1RPUl8qIG1hY3JvcyAodGhlIHZhbHVl
cyB0aGF0IG1ha2Ugc2Vuc2UgYXJlIExWRFMsCmVEUCwgRFNJIGFuZCBEUEkpLiBUaGlzIHdpbGwg
YmUgdXNlZCB0byBpbml0aWFsaXNlIHRoZSBjb3JyZXNwb25kaW5nCmNvbm5lY3RvciB0eXBlLgoK
VXBkYXRlIGFsbCBwYW5lbCBkcml2ZXJzIGFjY29yZGluZ2x5LiBUaGUgcGFuZWwtc2ltcGxlIGRy
aXZlciBvbmx5CnNwZWNpZmllcyB0aGUgdHlwZSBmb3IgdGhlIGtub3duIHRvIGJlIExWRFMgcGFu
ZWxzLCB3aGlsZSBhbGwgb3RoZXIKcGFuZWxzIGFyZSBsZWZ0IGFzIHVua25vd24gYW5kIHdpbGwg
YmUgY29udmVydGVkIG9uIGEgY2FzZS1ieS1jYXNlCmJhc2lzIGFzIHRoZXkgYWxsIG5lZWQgdG8g
YmUgY2FyZWZ1bGx5IHJldmlld2VkLgoKU2lnbmVkLW9mZi1ieTogTGF1cmVudCBQaW5jaGFydCA8
bGF1cmVudC5waW5jaGFydEBpZGVhc29uYm9hcmQuY29tPgpSZXZpZXdlZC1ieTogQm9yaXMgQnJl
emlsbG9uIDxib3Jpcy5icmV6aWxsb25AY29sbGFib3JhLmNvbT4KLS0tCkNoYW5nZXMgc2luY2Ug
djI6CgotIEFkZCBtaXNzaW5nIGNvbW1hIGF0IGVuZCBvZiBsaW5lCgpDaGFuZ2VzIHNpbmNlIHYx
OgoKLSBSZW5hbWUgdGhlIHR5cGUgZmllbGQgdG8gY29ubmVjdG9yX3R5cGUKLSBQYXNzIHRoZSB0
eXBlIHRvIHRoZSBkcm1fcGFuZWxfaW5pdCgpIGZ1bmN0aW9uCi0gS2VlcCBjb25uZWN0b3IgdHlw
ZSBhcyB1bmtub3duIGZvciBub24tTFZEUyBwYW5lbHMgaW4gcGFuZWwtc2ltcGxlCi0gRmxhZyB0
aGUgdG9zaGliYV9sdDA4OWFjMjkwMDAgcGFuZWwgYXMgTFZEUyBhcyByZXBvcnRlZCBieSBCb3Jp
cwotLS0KIGRyaXZlcnMvZ3B1L2RybS9kcm1fcGFuZWwuYyAgICAgICAgICAgICAgICAgICB8ICA1
ICsrKy0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1hcm0tdmVyc2F0aWxlLmMgICB8ICAz
ICsrLQogLi4uL2RybS9wYW5lbC9wYW5lbC1mZWl5YW5nLWZ5MDcwMjRkaTI2YTMwZC5jIHwgIDMg
KystCiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtaWxpdGVrLWlsaTkzMjIuYyAgfCAgMyAr
Ky0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1pbGl0ZWstaWxpOTg4MWMuYyB8ICAzICsr
LQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWlubm9sdXgtcDA3OXpjYS5jIHwgIDMgKyst
CiAuLi4vZ3B1L2RybS9wYW5lbC9wYW5lbC1qZGktbHQwNzBtZTA1MDAwLmMgICAgfCAgMyArKy0K
IC4uLi9kcm0vcGFuZWwvcGFuZWwta2luZ2Rpc3BsYXkta2QwOTdkMDQuYyAgICB8ICAyICstCiBk
cml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtbGctbGIwMzVxMDIuYyAgICAgfCAgMyArKy0KIGRy
aXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1sZy1sZzQ1NzMuYyAgICAgICB8ICAzICsrLQogZHJp
dmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWx2ZHMuYyAgICAgICAgICAgIHwgIDMgKystCiBkcml2
ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtbmVjLW5sODA0OGhsMTEuYyAgfCAgMyArKy0KIGRyaXZl
cnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1ub3ZhdGVrLW50MzkwMTYuYyB8ICAzICsrLQogLi4uL2Ry
bS9wYW5lbC9wYW5lbC1vbGltZXgtbGNkLW9saW51eGluby5jICAgIHwgIDMgKystCiAuLi4vZ3B1
L2RybS9wYW5lbC9wYW5lbC1vcmlzZXRlY2gtb3RtODAwOWEuYyAgfCAgMyArKy0KIC4uLi9kcm0v
cGFuZWwvcGFuZWwtb3NkLW9zZDEwMXQyNTg3LTUzdHMuYyAgICB8ICAyICstCiAuLi4vZHJtL3Bh
bmVsL3BhbmVsLXBhbmFzb25pYy12dngxMGYwMzRuMDAuYyAgfCAgMiArLQogLi4uL2RybS9wYW5l
bC9wYW5lbC1yYXNwYmVycnlwaS10b3VjaHNjcmVlbi5jIHwgIDMgKystCiBkcml2ZXJzL2dwdS9k
cm0vcGFuZWwvcGFuZWwtcmF5ZGl1bS1ybTY3MTkxLmMgfCAgMyArKy0KIGRyaXZlcnMvZ3B1L2Ry
bS9wYW5lbC9wYW5lbC1yYXlkaXVtLXJtNjgyMDAuYyB8ICAzICsrLQogLi4uL2RybS9wYW5lbC9w
YW5lbC1yb2NrdGVjaC1qaDA1N24wMDkwMC5jICAgIHwgIDMgKystCiBkcml2ZXJzL2dwdS9kcm0v
cGFuZWwvcGFuZWwtcm9uYm8tcmIwNzBkMzAuYyAgfCAgMyArKy0KIGRyaXZlcnMvZ3B1L2RybS9w
YW5lbC9wYW5lbC1zYW1zdW5nLWxkOTA0MC5jICB8ICAzICsrLQogZHJpdmVycy9ncHUvZHJtL3Bh
bmVsL3BhbmVsLXNhbXN1bmctczZkMTZkMC5jIHwgIDMgKystCiBkcml2ZXJzL2dwdS9kcm0vcGFu
ZWwvcGFuZWwtc2Ftc3VuZy1zNmUzaGEyLmMgfCAgMyArKy0KIC4uLi9ncHUvZHJtL3BhbmVsL3Bh
bmVsLXNhbXN1bmctczZlNjNqMHgwMy5jICB8ICAzICsrLQogZHJpdmVycy9ncHUvZHJtL3BhbmVs
L3BhbmVsLXNhbXN1bmctczZlNjNtMC5jIHwgIDMgKystCiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwv
cGFuZWwtc2Ftc3VuZy1zNmU4YWEwLmMgfCAgMyArKy0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9w
YW5lbC1zZWlrby00M3d2ZjFnLmMgICB8ICAzICsrLQogLi4uL2dwdS9kcm0vcGFuZWwvcGFuZWwt
c2hhcnAtbHExMDFyMXN4MDEuYyAgIHwgIDMgKystCiAuLi4vZ3B1L2RybS9wYW5lbC9wYW5lbC1z
aGFycC1sczAzN3Y3ZHcwMS5jICAgfCAgMyArKy0KIC4uLi9ncHUvZHJtL3BhbmVsL3BhbmVsLXNo
YXJwLWxzMDQzdDFsZTAxLmMgICB8ICAyICstCiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwt
c2ltcGxlLmMgICAgICAgICAgfCAyNiArKysrKysrKysrKysrKysrKystCiBkcml2ZXJzL2dwdS9k
cm0vcGFuZWwvcGFuZWwtc2l0cm9uaXgtc3Q3NzAxLmMgfCAgMyArKy0KIC4uLi9ncHUvZHJtL3Bh
bmVsL3BhbmVsLXNpdHJvbml4LXN0Nzc4OXYuYyAgICB8ICAzICsrLQogZHJpdmVycy9ncHUvZHJt
L3BhbmVsL3BhbmVsLXNvbnktYWN4NTY1YWttLmMgIHwgIDMgKystCiBkcml2ZXJzL2dwdS9kcm0v
cGFuZWwvcGFuZWwtdHBvLXRkMDI4dHRlYzEuYyAgfCAgMyArKy0KIGRyaXZlcnMvZ3B1L2RybS9w
YW5lbC9wYW5lbC10cG8tdGQwNDNtdGVhMS5jICB8ICAzICsrLQogZHJpdmVycy9ncHUvZHJtL3Bh
bmVsL3BhbmVsLXRwby10cGcxMTAuYyAgICAgIHwgIDMgKystCiBkcml2ZXJzL2dwdS9kcm0vcGFu
ZWwvcGFuZWwtdHJ1bHktbnQzNTU5Ny5jICAgfCAgMyArKy0KIGluY2x1ZGUvZHJtL2RybV9wYW5l
bC5oICAgICAgICAgICAgICAgICAgICAgICB8IDEyICsrKysrKysrLQogNDEgZmlsZXMgY2hhbmdl
ZCwgMTEyIGluc2VydGlvbnMoKyksIDQxIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9kcm1fcGFuZWwuYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fcGFuZWwuYwppbmRl
eCBiYTJmYWQ0Yzk2NDguLmVkNzk4NWMwNTM1YSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2RybV9wYW5lbC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fcGFuZWwuYwpAQCAtNDYsMTYg
KzQ2LDE5IEBAIHN0YXRpYyBMSVNUX0hFQUQocGFuZWxfbGlzdCk7CiAgKiBAcGFuZWw6IERSTSBw
YW5lbAogICogQGRldjogcGFyZW50IGRldmljZSBvZiB0aGUgcGFuZWwKICAqIEBmdW5jczogcGFu
ZWwgb3BlcmF0aW9ucworICogQGNvbm5lY3Rvcl90eXBlOiB0aGUgY29ubmVjdG9yIHR5cGUgKERS
TV9NT0RFX0NPTk5FQ1RPUl8qKSBjb3JyZXNwb25kaW5nIHRvCisgKgl0aGUgcGFuZWwgaW50ZXJm
YWNlCiAgKgogICogSW5pdGlhbGl6ZSB0aGUgcGFuZWwgc3RydWN0dXJlIGZvciBzdWJzZXF1ZW50
IHJlZ2lzdHJhdGlvbiB3aXRoCiAgKiBkcm1fcGFuZWxfYWRkKCkuCiAgKi8KIHZvaWQgZHJtX3Bh
bmVsX2luaXQoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsIHN0cnVjdCBkZXZpY2UgKmRldiwKLQkJ
ICAgIGNvbnN0IHN0cnVjdCBkcm1fcGFuZWxfZnVuY3MgKmZ1bmNzKQorCQkgICAgY29uc3Qgc3Ry
dWN0IGRybV9wYW5lbF9mdW5jcyAqZnVuY3MsIGludCBjb25uZWN0b3JfdHlwZSkKIHsKIAlJTklU
X0xJU1RfSEVBRCgmcGFuZWwtPmxpc3QpOwogCXBhbmVsLT5kZXYgPSBkZXY7CiAJcGFuZWwtPmZ1
bmNzID0gZnVuY3M7CisJcGFuZWwtPmNvbm5lY3Rvcl90eXBlID0gY29ubmVjdG9yX3R5cGU7CiB9
CiBFWFBPUlRfU1lNQk9MKGRybV9wYW5lbF9pbml0KTsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL3BhbmVsL3BhbmVsLWFybS12ZXJzYXRpbGUuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5l
bC9wYW5lbC1hcm0tdmVyc2F0aWxlLmMKaW5kZXggYTQzMzNlZDBmMjBjLi5hMDU3NGRjMDNlMTYg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1hcm0tdmVyc2F0aWxlLmMK
KysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWFybS12ZXJzYXRpbGUuYwpAQCAtMzUw
LDcgKzM1MCw4IEBAIHN0YXRpYyBpbnQgdmVyc2F0aWxlX3BhbmVsX3Byb2JlKHN0cnVjdCBwbGF0
Zm9ybV9kZXZpY2UgKnBkZXYpCiAJCQlkZXZfaW5mbyhkZXYsICJwYW5lbCBtb3VudGVkIG9uIElC
MiBkYXVnaHRlcmJvYXJkXG4iKTsKIAl9CiAKLQlkcm1fcGFuZWxfaW5pdCgmdnBhbmVsLT5wYW5l
bCwgZGV2LCAmdmVyc2F0aWxlX3BhbmVsX2RybV9mdW5jcyk7CisJZHJtX3BhbmVsX2luaXQoJnZw
YW5lbC0+cGFuZWwsIGRldiwgJnZlcnNhdGlsZV9wYW5lbF9kcm1fZnVuY3MsCisJCSAgICAgICBE
Uk1fTU9ERV9DT05ORUNUT1JfRFBJKTsKIAogCXJldHVybiBkcm1fcGFuZWxfYWRkKCZ2cGFuZWwt
PnBhbmVsKTsKIH0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1mZWl5
YW5nLWZ5MDcwMjRkaTI2YTMwZC5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWZlaXlh
bmctZnkwNzAyNGRpMjZhMzBkLmMKaW5kZXggN2Q1ZDc0NTViYzAxLi45OGYxODRiODExODcgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1mZWl5YW5nLWZ5MDcwMjRkaTI2
YTMwZC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1mZWl5YW5nLWZ5MDcwMjRk
aTI2YTMwZC5jCkBAIC0yMDQsNyArMjA0LDggQEAgc3RhdGljIGludCBmZWl5YW5nX2RzaV9wcm9i
ZShzdHJ1Y3QgbWlwaV9kc2lfZGV2aWNlICpkc2kpCiAJbWlwaV9kc2lfc2V0X2RydmRhdGEoZHNp
LCBjdHgpOwogCWN0eC0+ZHNpID0gZHNpOwogCi0JZHJtX3BhbmVsX2luaXQoJmN0eC0+cGFuZWws
ICZkc2ktPmRldiwgJmZlaXlhbmdfZnVuY3MpOworCWRybV9wYW5lbF9pbml0KCZjdHgtPnBhbmVs
LCAmZHNpLT5kZXYsICZmZWl5YW5nX2Z1bmNzLAorCQkgICAgICAgRFJNX01PREVfQ09OTkVDVE9S
X0RTSSk7CiAKIAljdHgtPmR2ZGQgPSBkZXZtX3JlZ3VsYXRvcl9nZXQoJmRzaS0+ZGV2LCAiZHZk
ZCIpOwogCWlmIChJU19FUlIoY3R4LT5kdmRkKSkgewpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL3BhbmVsL3BhbmVsLWlsaXRlay1pbGk5MzIyLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwv
cGFuZWwtaWxpdGVrLWlsaTkzMjIuYwppbmRleCBhZDI0MDViYWEwYWMuLjI0OTU1YmVjMTk1OCAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWlsaXRlay1pbGk5MzIyLmMK
KysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWlsaXRlay1pbGk5MzIyLmMKQEAgLTg5
NSw3ICs4OTUsOCBAQCBzdGF0aWMgaW50IGlsaTkzMjJfcHJvYmUoc3RydWN0IHNwaV9kZXZpY2Ug
KnNwaSkKIAkJaWxpLT5pbnB1dCA9IGlsaS0+Y29uZi0+aW5wdXQ7CiAJfQogCi0JZHJtX3BhbmVs
X2luaXQoJmlsaS0+cGFuZWwsIGRldiwgJmlsaTkzMjJfZHJtX2Z1bmNzKTsKKwlkcm1fcGFuZWxf
aW5pdCgmaWxpLT5wYW5lbCwgZGV2LCAmaWxpOTMyMl9kcm1fZnVuY3MsCisJCSAgICAgICBEUk1f
TU9ERV9DT05ORUNUT1JfRFBJKTsKIAogCXJldHVybiBkcm1fcGFuZWxfYWRkKCZpbGktPnBhbmVs
KTsKIH0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1pbGl0ZWstaWxp
OTg4MWMuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1pbGl0ZWstaWxpOTg4MWMuYwpp
bmRleCAxZDcxNGY5NjFjMDAuLmU4Nzg5ZTQ2MGExNiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL3BhbmVsL3BhbmVsLWlsaXRlay1pbGk5ODgxYy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9w
YW5lbC9wYW5lbC1pbGl0ZWstaWxpOTg4MWMuYwpAQCAtNDMzLDcgKzQzMyw4IEBAIHN0YXRpYyBp
bnQgaWxpOTg4MWNfZHNpX3Byb2JlKHN0cnVjdCBtaXBpX2RzaV9kZXZpY2UgKmRzaSkKIAltaXBp
X2RzaV9zZXRfZHJ2ZGF0YShkc2ksIGN0eCk7CiAJY3R4LT5kc2kgPSBkc2k7CiAKLQlkcm1fcGFu
ZWxfaW5pdCgmY3R4LT5wYW5lbCwgJmRzaS0+ZGV2LCAmaWxpOTg4MWNfZnVuY3MpOworCWRybV9w
YW5lbF9pbml0KCZjdHgtPnBhbmVsLCAmZHNpLT5kZXYsICZpbGk5ODgxY19mdW5jcywKKwkJICAg
ICAgIERSTV9NT0RFX0NPTk5FQ1RPUl9EU0kpOwogCiAJY3R4LT5wb3dlciA9IGRldm1fcmVndWxh
dG9yX2dldCgmZHNpLT5kZXYsICJwb3dlciIpOwogCWlmIChJU19FUlIoY3R4LT5wb3dlcikpIHsK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1pbm5vbHV4LXAwNzl6Y2Eu
YyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1pbm5vbHV4LXAwNzl6Y2EuYwppbmRleCAy
MDU0YWZjMzFmMjAuLjgzZGYxYWM0MjExZiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3Bh
bmVsL3BhbmVsLWlubm9sdXgtcDA3OXpjYS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9w
YW5lbC1pbm5vbHV4LXAwNzl6Y2EuYwpAQCAtNDg3LDcgKzQ4Nyw4IEBAIHN0YXRpYyBpbnQgaW5u
b2x1eF9wYW5lbF9hZGQoc3RydWN0IG1pcGlfZHNpX2RldmljZSAqZHNpLAogCWlmIChJU19FUlIo
aW5ub2x1eC0+YmFja2xpZ2h0KSkKIAkJcmV0dXJuIFBUUl9FUlIoaW5ub2x1eC0+YmFja2xpZ2h0
KTsKIAotCWRybV9wYW5lbF9pbml0KCZpbm5vbHV4LT5iYXNlLCBkZXYsICZpbm5vbHV4X3BhbmVs
X2Z1bmNzKTsKKwlkcm1fcGFuZWxfaW5pdCgmaW5ub2x1eC0+YmFzZSwgZGV2LCAmaW5ub2x1eF9w
YW5lbF9mdW5jcywKKwkJICAgICAgIERSTV9NT0RFX0NPTk5FQ1RPUl9EU0kpOwogCiAJZXJyID0g
ZHJtX3BhbmVsX2FkZCgmaW5ub2x1eC0+YmFzZSk7CiAJaWYgKGVyciA8IDApCmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtamRpLWx0MDcwbWUwNTAwMC5jIGIvZHJpdmVy
cy9ncHUvZHJtL3BhbmVsL3BhbmVsLWpkaS1sdDA3MG1lMDUwMDAuYwppbmRleCA3YmZkYmZiYzg2
OGUuLjU2MzY0YTkzZjBiOCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVs
LWpkaS1sdDA3MG1lMDUwMDAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtamRp
LWx0MDcwbWUwNTAwMC5jCkBAIC00MzcsNyArNDM3LDggQEAgc3RhdGljIGludCBqZGlfcGFuZWxf
YWRkKHN0cnVjdCBqZGlfcGFuZWwgKmpkaSkKIAkJcmV0dXJuIHJldDsKIAl9CiAKLQlkcm1fcGFu
ZWxfaW5pdCgmamRpLT5iYXNlLCAmamRpLT5kc2ktPmRldiwgJmpkaV9wYW5lbF9mdW5jcyk7CisJ
ZHJtX3BhbmVsX2luaXQoJmpkaS0+YmFzZSwgJmpkaS0+ZHNpLT5kZXYsICZqZGlfcGFuZWxfZnVu
Y3MsCisJCSAgICAgICBEUk1fTU9ERV9DT05ORUNUT1JfRFNJKTsKIAogCXJldCA9IGRybV9wYW5l
bF9hZGQoJmpkaS0+YmFzZSk7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9w
YW5lbC1raW5nZGlzcGxheS1rZDA5N2QwNC5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVs
LWtpbmdkaXNwbGF5LWtkMDk3ZDA0LmMKaW5kZXggYTQ3ODg1YTFhOGFhLi40NWY5NjU1NmVjOGMg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1raW5nZGlzcGxheS1rZDA5
N2QwNC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1raW5nZGlzcGxheS1rZDA5
N2QwNC5jCkBAIC0zOTIsNyArMzkyLDcgQEAgc3RhdGljIGludCBraW5nZGlzcGxheV9wYW5lbF9h
ZGQoc3RydWN0IGtpbmdkaXNwbGF5X3BhbmVsICpraW5nZGlzcGxheSkKIAkJcmV0dXJuIFBUUl9F
UlIoa2luZ2Rpc3BsYXktPmJhY2tsaWdodCk7CiAKIAlkcm1fcGFuZWxfaW5pdCgma2luZ2Rpc3Bs
YXktPmJhc2UsICZraW5nZGlzcGxheS0+bGluay0+ZGV2LAotCQkgICAgICAgJmtpbmdkaXNwbGF5
X3BhbmVsX2Z1bmNzKTsKKwkJICAgICAgICZraW5nZGlzcGxheV9wYW5lbF9mdW5jcywgRFJNX01P
REVfQ09OTkVDVE9SX0RTSSk7CiAKIAlyZXR1cm4gZHJtX3BhbmVsX2FkZCgma2luZ2Rpc3BsYXkt
PmJhc2UpOwogfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWxnLWxi
MDM1cTAyLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtbGctbGIwMzVxMDIuYwppbmRl
eCAyOGMzMjA1ZGY0ODIuLmY5ODRhNTE4OWZiZiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L3BhbmVsL3BhbmVsLWxnLWxiMDM1cTAyLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3Bh
bmVsLWxnLWxiMDM1cTAyLmMKQEAgLTE5Niw3ICsxOTYsOCBAQCBzdGF0aWMgaW50IGxiMDM1cTAy
X3Byb2JlKHN0cnVjdCBzcGlfZGV2aWNlICpzcGkpCiAJaWYgKHJldCA8IDApCiAJCXJldHVybiBy
ZXQ7CiAKLQlkcm1fcGFuZWxfaW5pdCgmbGNkLT5wYW5lbCwgJmxjZC0+c3BpLT5kZXYsICZsYjAz
NXEwMl9mdW5jcyk7CisJZHJtX3BhbmVsX2luaXQoJmxjZC0+cGFuZWwsICZsY2QtPnNwaS0+ZGV2
LCAmbGIwMzVxMDJfZnVuY3MsCisJCSAgICAgICBEUk1fTU9ERV9DT05ORUNUT1JfRFBJKTsKIAog
CXJldHVybiBkcm1fcGFuZWxfYWRkKCZsY2QtPnBhbmVsKTsKIH0KZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1sZy1sZzQ1NzMuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5l
bC9wYW5lbC1sZy1sZzQ1NzMuYwppbmRleCA2MDhmMmRlOTE2NjIuLmRiNDg2NWE0YzJiOSAxMDA2
NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWxnLWxnNDU3My5jCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1sZy1sZzQ1NzMuYwpAQCAtMjU5LDcgKzI1OSw4IEBA
IHN0YXRpYyBpbnQgbGc0NTczX3Byb2JlKHN0cnVjdCBzcGlfZGV2aWNlICpzcGkpCiAJCXJldHVy
biByZXQ7CiAJfQogCi0JZHJtX3BhbmVsX2luaXQoJmN0eC0+cGFuZWwsICZzcGktPmRldiwgJmxn
NDU3M19kcm1fZnVuY3MpOworCWRybV9wYW5lbF9pbml0KCZjdHgtPnBhbmVsLCAmc3BpLT5kZXYs
ICZsZzQ1NzNfZHJtX2Z1bmNzLAorCQkgICAgICAgRFJNX01PREVfQ09OTkVDVE9SX0RQSSk7CiAK
IAlyZXR1cm4gZHJtX3BhbmVsX2FkZCgmY3R4LT5wYW5lbCk7CiB9CmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtbHZkcy5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3Bh
bmVsLWx2ZHMuYwppbmRleCAzZGMxYWMyYTZiMDMuLmNhYjNmYjQxNzdlMyAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWx2ZHMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0v
cGFuZWwvcGFuZWwtbHZkcy5jCkBAIC0yNjAsNyArMjYwLDggQEAgc3RhdGljIGludCBwYW5lbF9s
dmRzX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCiAJICovCiAKIAkvKiBSZWdp
c3RlciB0aGUgcGFuZWwuICovCi0JZHJtX3BhbmVsX2luaXQoJmx2ZHMtPnBhbmVsLCBsdmRzLT5k
ZXYsICZwYW5lbF9sdmRzX2Z1bmNzKTsKKwlkcm1fcGFuZWxfaW5pdCgmbHZkcy0+cGFuZWwsIGx2
ZHMtPmRldiwgJnBhbmVsX2x2ZHNfZnVuY3MsCisJCSAgICAgICBEUk1fTU9ERV9DT05ORUNUT1Jf
TFZEUyk7CiAKIAlyZXQgPSBkcm1fcGFuZWxfYWRkKCZsdmRzLT5wYW5lbCk7CiAJaWYgKHJldCA8
IDApCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtbmVjLW5sODA0OGhs
MTEuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1uZWMtbmw4MDQ4aGwxMS5jCmluZGV4
IGI2NzYzNmZkYmMyMS4uYzRiYzdmYTg1ZmFkIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
cGFuZWwvcGFuZWwtbmVjLW5sODA0OGhsMTEuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwv
cGFuZWwtbmVjLW5sODA0OGhsMTEuYwpAQCAtMjA1LDcgKzIwNSw4IEBAIHN0YXRpYyBpbnQgbmw4
MDQ4X3Byb2JlKHN0cnVjdCBzcGlfZGV2aWNlICpzcGkpCiAJaWYgKHJldCA8IDApCiAJCXJldHVy
biByZXQ7CiAKLQlkcm1fcGFuZWxfaW5pdCgmbGNkLT5wYW5lbCwgJmxjZC0+c3BpLT5kZXYsICZu
bDgwNDhfZnVuY3MpOworCWRybV9wYW5lbF9pbml0KCZsY2QtPnBhbmVsLCAmbGNkLT5zcGktPmRl
diwgJm5sODA0OF9mdW5jcywKKwkJICAgICAgIERSTV9NT0RFX0NPTk5FQ1RPUl9EUEkpOwogCiAJ
cmV0dXJuIGRybV9wYW5lbF9hZGQoJmxjZC0+cGFuZWwpOwogfQpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL3BhbmVsL3BhbmVsLW5vdmF0ZWstbnQzOTAxNi5jIGIvZHJpdmVycy9ncHUvZHJt
L3BhbmVsL3BhbmVsLW5vdmF0ZWstbnQzOTAxNi5jCmluZGV4IDY0Y2ZlMTExYWFhZC4uNjBjY2Vk
Y2U1MzBjIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtbm92YXRlay1u
dDM5MDE2LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW5vdmF0ZWstbnQzOTAx
Ni5jCkBAIC0yOTIsNyArMjkyLDggQEAgc3RhdGljIGludCBudDM5MDE2X3Byb2JlKHN0cnVjdCBz
cGlfZGV2aWNlICpzcGkpCiAJCXJldHVybiBlcnI7CiAJfQogCi0JZHJtX3BhbmVsX2luaXQoJnBh
bmVsLT5kcm1fcGFuZWwsIGRldiwgJm50MzkwMTZfZnVuY3MpOworCWRybV9wYW5lbF9pbml0KCZw
YW5lbC0+ZHJtX3BhbmVsLCBkZXYsICZudDM5MDE2X2Z1bmNzLAorCQkgICAgICAgRFJNX01PREVf
Q09OTkVDVE9SX0RQSSk7CiAKIAllcnIgPSBkcm1fcGFuZWxfYWRkKCZwYW5lbC0+ZHJtX3BhbmVs
KTsKIAlpZiAoZXJyIDwgMCkgewpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3Bh
bmVsLW9saW1leC1sY2Qtb2xpbnV4aW5vLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwt
b2xpbWV4LWxjZC1vbGludXhpbm8uYwppbmRleCBmMmQ2YTRlYzAwNDYuLmYyYTcyZWU2ZWUwNyAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW9saW1leC1sY2Qtb2xpbnV4
aW5vLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW9saW1leC1sY2Qtb2xpbnV4
aW5vLmMKQEAgLTI4OCw3ICsyODgsOCBAQCBzdGF0aWMgaW50IGxjZF9vbGludXhpbm9fcHJvYmUo
c3RydWN0IGkyY19jbGllbnQgKmNsaWVudCwKIAlpZiAoSVNfRVJSKGxjZC0+YmFja2xpZ2h0KSkK
IAkJcmV0dXJuIFBUUl9FUlIobGNkLT5iYWNrbGlnaHQpOwogCi0JZHJtX3BhbmVsX2luaXQoJmxj
ZC0+cGFuZWwsIGRldiwgJmxjZF9vbGludXhpbm9fZnVuY3MpOworCWRybV9wYW5lbF9pbml0KCZs
Y2QtPnBhbmVsLCBkZXYsICZsY2Rfb2xpbnV4aW5vX2Z1bmNzLAorCQkgICAgICAgRFJNX01PREVf
Q09OTkVDVE9SX0RQSSk7CiAKIAlyZXR1cm4gZHJtX3BhbmVsX2FkZCgmbGNkLT5wYW5lbCk7CiB9
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtb3Jpc2V0ZWNoLW90bTgw
MDlhLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtb3Jpc2V0ZWNoLW90bTgwMDlhLmMK
aW5kZXggOGI2MGQ1ZTRkNzc1Li5iZjFmOTI4YjIxNWYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9wYW5lbC9wYW5lbC1vcmlzZXRlY2gtb3RtODAwOWEuYworKysgYi9kcml2ZXJzL2dwdS9k
cm0vcGFuZWwvcGFuZWwtb3Jpc2V0ZWNoLW90bTgwMDlhLmMKQEAgLTQ1NSw3ICs0NTUsOCBAQCBz
dGF0aWMgaW50IG90bTgwMDlhX3Byb2JlKHN0cnVjdCBtaXBpX2RzaV9kZXZpY2UgKmRzaSkKIAlk
c2ktPm1vZGVfZmxhZ3MgPSBNSVBJX0RTSV9NT0RFX1ZJREVPIHwgTUlQSV9EU0lfTU9ERV9WSURF
T19CVVJTVCB8CiAJCQkgIE1JUElfRFNJX01PREVfTFBNOwogCi0JZHJtX3BhbmVsX2luaXQoJmN0
eC0+cGFuZWwsIGRldiwgJm90bTgwMDlhX2RybV9mdW5jcyk7CisJZHJtX3BhbmVsX2luaXQoJmN0
eC0+cGFuZWwsIGRldiwgJm90bTgwMDlhX2RybV9mdW5jcywKKwkJICAgICAgIERSTV9NT0RFX0NP
Tk5FQ1RPUl9EU0kpOwogCiAJY3R4LT5ibF9kZXYgPSBkZXZtX2JhY2tsaWdodF9kZXZpY2VfcmVn
aXN0ZXIoZGV2LCBkZXZfbmFtZShkZXYpLAogCQkJCQkJICAgICBkc2ktPmhvc3QtPmRldiwgY3R4
LApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW9zZC1vc2QxMDF0MjU4
Ny01M3RzLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtb3NkLW9zZDEwMXQyNTg3LTUz
dHMuYwppbmRleCAzOGYxMTRiMDNiODkuLjJiNDA5MTM4OTlkOCAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL3BhbmVsL3BhbmVsLW9zZC1vc2QxMDF0MjU4Ny01M3RzLmMKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL3BhbmVsL3BhbmVsLW9zZC1vc2QxMDF0MjU4Ny01M3RzLmMKQEAgLTE2Nyw3ICsx
NjcsNyBAQCBzdGF0aWMgaW50IG9zZDEwMXQyNTg3X3BhbmVsX2FkZChzdHJ1Y3Qgb3NkMTAxdDI1
ODdfcGFuZWwgKm9zZDEwMXQyNTg3KQogCQlyZXR1cm4gUFRSX0VSUihvc2QxMDF0MjU4Ny0+YmFj
a2xpZ2h0KTsKIAogCWRybV9wYW5lbF9pbml0KCZvc2QxMDF0MjU4Ny0+YmFzZSwgJm9zZDEwMXQy
NTg3LT5kc2ktPmRldiwKLQkJICAgICAgICZvc2QxMDF0MjU4N19wYW5lbF9mdW5jcyk7CisJCSAg
ICAgICAmb3NkMTAxdDI1ODdfcGFuZWxfZnVuY3MsIERSTV9NT0RFX0NPTk5FQ1RPUl9EU0kpOwog
CiAJcmV0dXJuIGRybV9wYW5lbF9hZGQoJm9zZDEwMXQyNTg3LT5iYXNlKTsKIH0KZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1wYW5hc29uaWMtdnZ4MTBmMDM0bjAwLmMg
Yi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtcGFuYXNvbmljLXZ2eDEwZjAzNG4wMC5jCmlu
ZGV4IDYwMzViZjQ1ODA3NC4uNjY0NjA1MDcxZDM0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vcGFuZWwvcGFuZWwtcGFuYXNvbmljLXZ2eDEwZjAzNG4wMC5jCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9wYW5lbC9wYW5lbC1wYW5hc29uaWMtdnZ4MTBmMDM0bjAwLmMKQEAgLTIyNCw3ICsyMjQs
NyBAQCBzdGF0aWMgaW50IHd1eGdhX250X3BhbmVsX2FkZChzdHJ1Y3Qgd3V4Z2FfbnRfcGFuZWwg
Knd1eGdhX250KQogCX0KIAogCWRybV9wYW5lbF9pbml0KCZ3dXhnYV9udC0+YmFzZSwgJnd1eGdh
X250LT5kc2ktPmRldiwKLQkJICAgICAgICZ3dXhnYV9udF9wYW5lbF9mdW5jcyk7CisJCSAgICAg
ICAmd3V4Z2FfbnRfcGFuZWxfZnVuY3MsIERSTV9NT0RFX0NPTk5FQ1RPUl9EU0kpOwogCiAJcmV0
ID0gZHJtX3BhbmVsX2FkZCgmd3V4Z2FfbnQtPmJhc2UpOwogCWlmIChyZXQgPCAwKQpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJhc3BiZXJyeXBpLXRvdWNoc2NyZWVu
LmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtcmFzcGJlcnJ5cGktdG91Y2hzY3JlZW4u
YwppbmRleCAyM2E4MDE0MjdlNDIuLjA5ODI0ZTkyZmM3OCAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL3BhbmVsL3BhbmVsLXJhc3BiZXJyeXBpLXRvdWNoc2NyZWVuLmMKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJhc3BiZXJyeXBpLXRvdWNoc2NyZWVuLmMKQEAgLTQyNiw3
ICs0MjYsOCBAQCBzdGF0aWMgaW50IHJwaV90b3VjaHNjcmVlbl9wcm9iZShzdHJ1Y3QgaTJjX2Ns
aWVudCAqaTJjLAogCQlyZXR1cm4gUFRSX0VSUih0cy0+ZHNpKTsKIAl9CiAKLQlkcm1fcGFuZWxf
aW5pdCgmdHMtPmJhc2UsIGRldiwgJnJwaV90b3VjaHNjcmVlbl9mdW5jcyk7CisJZHJtX3BhbmVs
X2luaXQoJnRzLT5iYXNlLCBkZXYsICZycGlfdG91Y2hzY3JlZW5fZnVuY3MsCisJCSAgICAgICBE
Uk1fTU9ERV9DT05ORUNUT1JfRFNJKTsKIAogCS8qIFRoaXMgYXBwZWFycyBsYXN0LCBhcyBpdCdz
IHdoYXQgd2lsbCB1bmJsb2NrIHRoZSBEU0kgaG9zdAogCSAqIGRyaXZlcidzIGNvbXBvbmVudCBi
aW5kIGZ1bmN0aW9uLgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJh
eWRpdW0tcm02NzE5MS5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJheWRpdW0tcm02
NzE5MS5jCmluZGV4IGY4MmExZjY5ZjEzYi4uZmQ2N2ZjNjE4NWM0IDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtcmF5ZGl1bS1ybTY3MTkxLmMKKysrIGIvZHJpdmVycy9n
cHUvZHJtL3BhbmVsL3BhbmVsLXJheWRpdW0tcm02NzE5MS5jCkBAIC02MDYsNyArNjA2LDggQEAg
c3RhdGljIGludCByYWRfcGFuZWxfcHJvYmUoc3RydWN0IG1pcGlfZHNpX2RldmljZSAqZHNpKQog
CWlmIChyZXQpCiAJCXJldHVybiByZXQ7CiAKLQlkcm1fcGFuZWxfaW5pdCgmcGFuZWwtPnBhbmVs
LCBkZXYsICZyYWRfcGFuZWxfZnVuY3MpOworCWRybV9wYW5lbF9pbml0KCZwYW5lbC0+cGFuZWws
IGRldiwgJnJhZF9wYW5lbF9mdW5jcywKKwkJICAgICAgIERSTV9NT0RFX0NPTk5FQ1RPUl9EU0kp
OwogCWRldl9zZXRfZHJ2ZGF0YShkZXYsIHBhbmVsKTsKIAogCXJldCA9IGRybV9wYW5lbF9hZGQo
JnBhbmVsLT5wYW5lbCk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwt
cmF5ZGl1bS1ybTY4MjAwLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtcmF5ZGl1bS1y
bTY4MjAwLmMKaW5kZXggZjAwNGI3OGZiOGJjLi45OTRlODU1NzIxZjQgMTAwNjQ0Ci0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yYXlkaXVtLXJtNjgyMDAuYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vcGFuZWwvcGFuZWwtcmF5ZGl1bS1ybTY4MjAwLmMKQEAgLTQwNCw3ICs0MDQsOCBA
QCBzdGF0aWMgaW50IHJtNjgyMDBfcHJvYmUoc3RydWN0IG1pcGlfZHNpX2RldmljZSAqZHNpKQog
CWRzaS0+bW9kZV9mbGFncyA9IE1JUElfRFNJX01PREVfVklERU8gfCBNSVBJX0RTSV9NT0RFX1ZJ
REVPX0JVUlNUIHwKIAkJCSAgTUlQSV9EU0lfTU9ERV9MUE07CiAKLQlkcm1fcGFuZWxfaW5pdCgm
Y3R4LT5wYW5lbCwgZGV2LCAmcm02ODIwMF9kcm1fZnVuY3MpOworCWRybV9wYW5lbF9pbml0KCZj
dHgtPnBhbmVsLCBkZXYsICZybTY4MjAwX2RybV9mdW5jcywKKwkJICAgICAgIERSTV9NT0RFX0NP
Tk5FQ1RPUl9EU0kpOwogCiAJZHJtX3BhbmVsX2FkZCgmY3R4LT5wYW5lbCk7CiAKZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yb2NrdGVjaC1qaDA1N24wMDkwMC5jIGIv
ZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJvY2t0ZWNoLWpoMDU3bjAwOTAwLmMKaW5kZXgg
ZDdmNTYzNzRmMmYxLi4zMTIzNGI3OWQzYjEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9w
YW5lbC9wYW5lbC1yb2NrdGVjaC1qaDA1N24wMDkwMC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9w
YW5lbC9wYW5lbC1yb2NrdGVjaC1qaDA1N24wMDkwMC5jCkBAIC0zNDMsNyArMzQzLDggQEAgc3Rh
dGljIGludCBqaDA1N25fcHJvYmUoc3RydWN0IG1pcGlfZHNpX2RldmljZSAqZHNpKQogCQlyZXR1
cm4gcmV0OwogCX0KIAotCWRybV9wYW5lbF9pbml0KCZjdHgtPnBhbmVsLCBkZXYsICZqaDA1N25f
ZHJtX2Z1bmNzKTsKKwlkcm1fcGFuZWxfaW5pdCgmY3R4LT5wYW5lbCwgZGV2LCAmamgwNTduX2Ry
bV9mdW5jcywKKwkJICAgICAgIERSTV9NT0RFX0NPTk5FQ1RPUl9EU0kpOwogCiAJZHJtX3BhbmVs
X2FkZCgmY3R4LT5wYW5lbCk7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9w
YW5lbC1yb25iby1yYjA3MGQzMC5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJvbmJv
LXJiMDcwZDMwLmMKaW5kZXggODcwOGZiYmU3NjM3Li4xNzBhNWNkYTIxYjkgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yb25iby1yYjA3MGQzMC5jCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yb25iby1yYjA3MGQzMC5jCkBAIC0xNzMsNyArMTczLDgg
QEAgc3RhdGljIGludCByYjA3MGQzMF9wYW5lbF9kc2lfcHJvYmUoc3RydWN0IG1pcGlfZHNpX2Rl
dmljZSAqZHNpKQogCW1pcGlfZHNpX3NldF9kcnZkYXRhKGRzaSwgY3R4KTsKIAljdHgtPmRzaSA9
IGRzaTsKIAotCWRybV9wYW5lbF9pbml0KCZjdHgtPnBhbmVsLCAmZHNpLT5kZXYsICZyYjA3MGQz
MF9wYW5lbF9mdW5jcyk7CisJZHJtX3BhbmVsX2luaXQoJmN0eC0+cGFuZWwsICZkc2ktPmRldiwg
JnJiMDcwZDMwX3BhbmVsX2Z1bmNzLAorCQkgICAgICAgRFJNX01PREVfQ09OTkVDVE9SX0RTSSk7
CiAKIAljdHgtPmdwaW9zLnJlc2V0ID0gZGV2bV9ncGlvZF9nZXQoJmRzaS0+ZGV2LCAicmVzZXQi
LCBHUElPRF9PVVRfTE9XKTsKIAlpZiAoSVNfRVJSKGN0eC0+Z3Bpb3MucmVzZXQpKSB7CmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ftc3VuZy1sZDkwNDAuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLWxkOTA0MC5jCmluZGV4IDcxYTI5MmRi
ZWM0Ny4uMjUwODA5YmEzN2M3IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFu
ZWwtc2Ftc3VuZy1sZDkwNDAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ft
c3VuZy1sZDkwNDAuYwpAQCAtMzUxLDcgKzM1MSw4IEBAIHN0YXRpYyBpbnQgbGQ5MDQwX3Byb2Jl
KHN0cnVjdCBzcGlfZGV2aWNlICpzcGkpCiAJCXJldHVybiByZXQ7CiAJfQogCi0JZHJtX3BhbmVs
X2luaXQoJmN0eC0+cGFuZWwsIGRldiwgJmxkOTA0MF9kcm1fZnVuY3MpOworCWRybV9wYW5lbF9p
bml0KCZjdHgtPnBhbmVsLCBkZXYsICZsZDkwNDBfZHJtX2Z1bmNzLAorCQkgICAgICAgRFJNX01P
REVfQ09OTkVDVE9SX0RQSSk7CiAKIAlyZXR1cm4gZHJtX3BhbmVsX2FkZCgmY3R4LT5wYW5lbCk7
CiB9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ftc3VuZy1zNmQx
NmQwLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ftc3VuZy1zNmQxNmQwLmMKaW5k
ZXggNGQyNWM5NmU4NDJjLi5lM2EwMzk3ZTk1M2UgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZDE2ZDAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFu
ZWwvcGFuZWwtc2Ftc3VuZy1zNmQxNmQwLmMKQEAgLTIxNSw3ICsyMTUsOCBAQCBzdGF0aWMgaW50
IHM2ZDE2ZDBfcHJvYmUoc3RydWN0IG1pcGlfZHNpX2RldmljZSAqZHNpKQogCQlyZXR1cm4gcmV0
OwogCX0KIAotCWRybV9wYW5lbF9pbml0KCZzNi0+cGFuZWwsIGRldiwgJnM2ZDE2ZDBfZHJtX2Z1
bmNzKTsKKwlkcm1fcGFuZWxfaW5pdCgmczYtPnBhbmVsLCBkZXYsICZzNmQxNmQwX2RybV9mdW5j
cywKKwkJICAgICAgIERSTV9NT0RFX0NPTk5FQ1RPUl9EU0kpOwogCiAJcmV0ID0gZHJtX3BhbmVs
X2FkZCgmczYtPnBhbmVsKTsKIAlpZiAocmV0IDwgMCkKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZTNoYTIuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5l
bC9wYW5lbC1zYW1zdW5nLXM2ZTNoYTIuYwppbmRleCA0MmEzYWFhYjQ5ZWIuLjkzOGFiNzJjNTU0
MCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZlM2hh
Mi5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZTNoYTIuYwpA
QCAtNzMyLDcgKzczMiw4IEBAIHN0YXRpYyBpbnQgczZlM2hhMl9wcm9iZShzdHJ1Y3QgbWlwaV9k
c2lfZGV2aWNlICpkc2kpCiAJY3R4LT5ibF9kZXYtPnByb3BzLmJyaWdodG5lc3MgPSBTNkUzSEEy
X0RFRkFVTFRfQlJJR0hUTkVTUzsKIAljdHgtPmJsX2Rldi0+cHJvcHMucG93ZXIgPSBGQl9CTEFO
S19QT1dFUkRPV047CiAKLQlkcm1fcGFuZWxfaW5pdCgmY3R4LT5wYW5lbCwgZGV2LCAmczZlM2hh
Ml9kcm1fZnVuY3MpOworCWRybV9wYW5lbF9pbml0KCZjdHgtPnBhbmVsLCBkZXYsICZzNmUzaGEy
X2RybV9mdW5jcywKKwkJICAgICAgIERSTV9NT0RFX0NPTk5FQ1RPUl9EU0kpOwogCiAJcmV0ID0g
ZHJtX3BhbmVsX2FkZCgmY3R4LT5wYW5lbCk7CiAJaWYgKHJldCA8IDApCmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ftc3VuZy1zNmU2M2oweDAzLmMgYi9kcml2ZXJz
L2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ftc3VuZy1zNmU2M2oweDAzLmMKaW5kZXggYjRkODc5YmY0
ZDAzLi5hNjA2MzVlOTIyNmQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5l
bC1zYW1zdW5nLXM2ZTYzajB4MDMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwt
c2Ftc3VuZy1zNmU2M2oweDAzLmMKQEAgLTQ2Niw3ICs0NjYsOCBAQCBzdGF0aWMgaW50IHM2ZTYz
ajB4MDNfcHJvYmUoc3RydWN0IG1pcGlfZHNpX2RldmljZSAqZHNpKQogCQlyZXR1cm4gUFRSX0VS
UihjdHgtPnJlc2V0X2dwaW8pOwogCX0KIAotCWRybV9wYW5lbF9pbml0KCZjdHgtPnBhbmVsLCBk
ZXYsICZzNmU2M2oweDAzX2Z1bmNzKTsKKwlkcm1fcGFuZWxfaW5pdCgmY3R4LT5wYW5lbCwgZGV2
LCAmczZlNjNqMHgwM19mdW5jcywKKwkJICAgICAgIERSTV9NT0RFX0NPTk5FQ1RPUl9EU0kpOwog
CiAJY3R4LT5ibF9kZXYgPSBiYWNrbGlnaHRfZGV2aWNlX3JlZ2lzdGVyKCJzNmU2M2oweDAzIiwg
ZGV2LCBjdHgsCiAJCQkJCQkmczZlNjNqMHgwM19ibF9vcHMsIE5VTEwpOwpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZlNjNtMC5jIGIvZHJpdmVycy9n
cHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZlNjNtMC5jCmluZGV4IDYxMjU5YzI4MzNhYi4u
YmEwMWFmMGIxNGZkIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ft
c3VuZy1zNmU2M20wLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmct
czZlNjNtMC5jCkBAIC00NzMsNyArNDczLDggQEAgc3RhdGljIGludCBzNmU2M20wX3Byb2JlKHN0
cnVjdCBzcGlfZGV2aWNlICpzcGkpCiAJCXJldHVybiByZXQ7CiAJfQogCi0JZHJtX3BhbmVsX2lu
aXQoJmN0eC0+cGFuZWwsIGRldiwgJnM2ZTYzbTBfZHJtX2Z1bmNzKTsKKwlkcm1fcGFuZWxfaW5p
dCgmY3R4LT5wYW5lbCwgZGV2LCAmczZlNjNtMF9kcm1fZnVuY3MsCisJCSAgICAgICBEUk1fTU9E
RV9DT05ORUNUT1JfRFBJKTsKIAogCXJldCA9IHM2ZTYzbTBfYmFja2xpZ2h0X3JlZ2lzdGVyKGN0
eCk7CiAJaWYgKHJldCA8IDApCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFu
ZWwtc2Ftc3VuZy1zNmU4YWEwLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ftc3Vu
Zy1zNmU4YWEwLmMKaW5kZXggMzVkYmZmYWJkNTI2Li5kYmNlZDY1MDEyMDQgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZThhYTAuYworKysgYi9kcml2
ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ftc3VuZy1zNmU4YWEwLmMKQEAgLTEwMTcsNyArMTAx
Nyw4IEBAIHN0YXRpYyBpbnQgczZlOGFhMF9wcm9iZShzdHJ1Y3QgbWlwaV9kc2lfZGV2aWNlICpk
c2kpCiAKIAljdHgtPmJyaWdodG5lc3MgPSBHQU1NQV9MRVZFTF9OVU0gLSAxOwogCi0JZHJtX3Bh
bmVsX2luaXQoJmN0eC0+cGFuZWwsIGRldiwgJnM2ZThhYTBfZHJtX2Z1bmNzKTsKKwlkcm1fcGFu
ZWxfaW5pdCgmY3R4LT5wYW5lbCwgZGV2LCAmczZlOGFhMF9kcm1fZnVuY3MsCisJCSAgICAgICBE
Uk1fTU9ERV9DT05ORUNUT1JfRFNJKTsKIAogCXJldCA9IGRybV9wYW5lbF9hZGQoJmN0eC0+cGFu
ZWwpOwogCWlmIChyZXQgPCAwKQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3Bh
bmVsLXNlaWtvLTQzd3ZmMWcuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zZWlrby00
M3d2ZjFnLmMKaW5kZXggMDgzM2QwYzAzYWRjLi5iMzYxOWJhNDQzYmQgMTAwNjQ0Ci0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zZWlrby00M3d2ZjFnLmMKKysrIGIvZHJpdmVycy9n
cHUvZHJtL3BhbmVsL3BhbmVsLXNlaWtvLTQzd3ZmMWcuYwpAQCAtMjc0LDcgKzI3NCw4IEBAIHN0
YXRpYyBpbnQgc2Vpa29fcGFuZWxfcHJvYmUoc3RydWN0IGRldmljZSAqZGV2LAogCQkJcmV0dXJu
IC1FUFJPQkVfREVGRVI7CiAJfQogCi0JZHJtX3BhbmVsX2luaXQoJnBhbmVsLT5iYXNlLCBkZXYs
ICZzZWlrb19wYW5lbF9mdW5jcyk7CisJZHJtX3BhbmVsX2luaXQoJnBhbmVsLT5iYXNlLCBkZXYs
ICZzZWlrb19wYW5lbF9mdW5jcywKKwkJICAgICAgIERSTV9NT0RFX0NPTk5FQ1RPUl9EUEkpOwog
CiAJZXJyID0gZHJtX3BhbmVsX2FkZCgmcGFuZWwtPmJhc2UpOwogCWlmIChlcnIgPCAwKQpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNoYXJwLWxxMTAxcjFzeDAxLmMg
Yi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2hhcnAtbHExMDFyMXN4MDEuYwppbmRleCA4
N2E1OGNiNGQ5NDUuLjVlMTM2YzNiYTE4NSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3Bh
bmVsL3BhbmVsLXNoYXJwLWxxMTAxcjFzeDAxLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVs
L3BhbmVsLXNoYXJwLWxxMTAxcjFzeDAxLmMKQEAgLTMyOSw3ICszMjksOCBAQCBzdGF0aWMgaW50
IHNoYXJwX3BhbmVsX2FkZChzdHJ1Y3Qgc2hhcnBfcGFuZWwgKnNoYXJwKQogCWlmIChJU19FUlIo
c2hhcnAtPmJhY2tsaWdodCkpCiAJCXJldHVybiBQVFJfRVJSKHNoYXJwLT5iYWNrbGlnaHQpOwog
Ci0JZHJtX3BhbmVsX2luaXQoJnNoYXJwLT5iYXNlLCAmc2hhcnAtPmxpbmsxLT5kZXYsICZzaGFy
cF9wYW5lbF9mdW5jcyk7CisJZHJtX3BhbmVsX2luaXQoJnNoYXJwLT5iYXNlLCAmc2hhcnAtPmxp
bmsxLT5kZXYsICZzaGFycF9wYW5lbF9mdW5jcywKKwkJICAgICAgIERSTV9NT0RFX0NPTk5FQ1RP
Ul9EU0kpOwogCiAJcmV0dXJuIGRybV9wYW5lbF9hZGQoJnNoYXJwLT5iYXNlKTsKIH0KZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaGFycC1sczAzN3Y3ZHcwMS5jIGIv
ZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNoYXJwLWxzMDM3djdkdzAxLmMKaW5kZXggOTZl
M2RlYjBlMzA1Li5lZWFiNzk5OGM3ZGUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5l
bC9wYW5lbC1zaGFycC1sczAzN3Y3ZHcwMS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9w
YW5lbC1zaGFycC1sczAzN3Y3ZHcwMS5jCkBAIC0xODUsNyArMTg1LDggQEAgc3RhdGljIGludCBs
czAzN3Y3ZHcwMV9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQogCQlyZXR1cm4g
UFRSX0VSUihsY2QtPnVkX2dwaW8pOwogCX0KIAotCWRybV9wYW5lbF9pbml0KCZsY2QtPnBhbmVs
LCAmcGRldi0+ZGV2LCAmbHMwMzd2N2R3MDFfZnVuY3MpOworCWRybV9wYW5lbF9pbml0KCZsY2Qt
PnBhbmVsLCAmcGRldi0+ZGV2LCAmbHMwMzd2N2R3MDFfZnVuY3MsCisJCSAgICAgICBEUk1fTU9E
RV9DT05ORUNUT1JfRFBJKTsKIAogCXJldHVybiBkcm1fcGFuZWxfYWRkKCZsY2QtPnBhbmVsKTsK
IH0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaGFycC1sczA0M3Qx
bGUwMS5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNoYXJwLWxzMDQzdDFsZTAxLmMK
aW5kZXggZmZhODQ0ZWU4MmFkLi5iOTYzYmE0YWI1ODkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9wYW5lbC9wYW5lbC1zaGFycC1sczA0M3QxbGUwMS5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9wYW5lbC9wYW5lbC1zaGFycC1sczA0M3QxbGUwMS5jCkBAIC0yNjUsNyArMjY1LDcgQEAgc3Rh
dGljIGludCBzaGFycF9udF9wYW5lbF9hZGQoc3RydWN0IHNoYXJwX250X3BhbmVsICpzaGFycF9u
dCkKIAkJcmV0dXJuIFBUUl9FUlIoc2hhcnBfbnQtPmJhY2tsaWdodCk7CiAKIAlkcm1fcGFuZWxf
aW5pdCgmc2hhcnBfbnQtPmJhc2UsICZzaGFycF9udC0+ZHNpLT5kZXYsCi0JCSAgICAgICAmc2hh
cnBfbnRfcGFuZWxfZnVuY3MpOworCQkgICAgICAgJnNoYXJwX250X3BhbmVsX2Z1bmNzLCBEUk1f
TU9ERV9DT05ORUNUT1JfRFNJKTsKIAogCXJldHVybiBkcm1fcGFuZWxfYWRkKCZzaGFycF9udC0+
YmFzZSk7CiB9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2ltcGxl
LmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2ltcGxlLmMKaW5kZXggYjM2YzEzMGQ1
Y2YwLi40YjkyYjI3ZWJhODYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5l
bC1zaW1wbGUuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2ltcGxlLmMKQEAg
LTk0LDYgKzk0LDcgQEAgc3RydWN0IHBhbmVsX2Rlc2MgewogCiAJdTMyIGJ1c19mb3JtYXQ7CiAJ
dTMyIGJ1c19mbGFnczsKKwlpbnQgY29ubmVjdG9yX3R5cGU7CiB9OwogCiBzdHJ1Y3QgcGFuZWxf
c2ltcGxlIHsKQEAgLTQ2NCw3ICs0NjUsOCBAQCBzdGF0aWMgaW50IHBhbmVsX3NpbXBsZV9wcm9i
ZShzdHJ1Y3QgZGV2aWNlICpkZXYsIGNvbnN0IHN0cnVjdCBwYW5lbF9kZXNjICpkZXNjKQogCWlm
ICghb2ZfZ2V0X2Rpc3BsYXlfdGltaW5nKGRldi0+b2Zfbm9kZSwgInBhbmVsLXRpbWluZyIsICZk
dCkpCiAJCXBhbmVsX3NpbXBsZV9wYXJzZV9wYW5lbF90aW1pbmdfbm9kZShkZXYsIHBhbmVsLCAm
ZHQpOwogCi0JZHJtX3BhbmVsX2luaXQoJnBhbmVsLT5iYXNlLCBkZXYsICZwYW5lbF9zaW1wbGVf
ZnVuY3MpOworCWRybV9wYW5lbF9pbml0KCZwYW5lbC0+YmFzZSwgZGV2LCAmcGFuZWxfc2ltcGxl
X2Z1bmNzLAorCQkgICAgICAgZGVzYy0+Y29ubmVjdG9yX3R5cGUpOwogCiAJZXJyID0gZHJtX3Bh
bmVsX2FkZCgmcGFuZWwtPmJhc2UpOwogCWlmIChlcnIgPCAwKQpAQCAtODMxLDYgKzgzMyw3IEBA
IHN0YXRpYyBjb25zdCBzdHJ1Y3QgcGFuZWxfZGVzYyBhdW9fZzEzM2hhbjAxID0gewogCQkudW5w
cmVwYXJlID0gMTAwMCwKIAl9LAogCS5idXNfZm9ybWF0ID0gTUVESUFfQlVTX0ZNVF9SR0I4ODhf
MVg3WDRfSkVJREEsCisJLmNvbm5lY3Rvcl90eXBlID0gRFJNX01PREVfQ09OTkVDVE9SX0xWRFMs
CiB9OwogCiBzdGF0aWMgY29uc3Qgc3RydWN0IGRpc3BsYXlfdGltaW5nIGF1b19nMTg1aGFuMDFf
dGltaW5ncyA9IHsKQEAgLTg2MCw2ICs4NjMsNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IHBhbmVs
X2Rlc2MgYXVvX2cxODVoYW4wMSA9IHsKIAkJLnVucHJlcGFyZSA9IDEwMDAsCiAJfSwKIAkuYnVz
X2Zvcm1hdCA9IE1FRElBX0JVU19GTVRfUkdCODg4XzFYN1g0X1NQV0csCisJLmNvbm5lY3Rvcl90
eXBlID0gRFJNX01PREVfQ09OTkVDVE9SX0xWRFMsCiB9OwogCiBzdGF0aWMgY29uc3Qgc3RydWN0
IGRpc3BsYXlfdGltaW5nIGF1b19wMzIwaHZuMDNfdGltaW5ncyA9IHsKQEAgLTg4OCw2ICs4OTIs
NyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IHBhbmVsX2Rlc2MgYXVvX3AzMjBodm4wMyA9IHsKIAkJ
LnVucHJlcGFyZSA9IDUwMCwKIAl9LAogCS5idXNfZm9ybWF0ID0gTUVESUFfQlVTX0ZNVF9SR0I4
ODhfMVg3WDRfU1BXRywKKwkuY29ubmVjdG9yX3R5cGUgPSBEUk1fTU9ERV9DT05ORUNUT1JfTFZE
UywKIH07CiAKIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSBhdW9fdDIxNWh2
bjAxX21vZGUgPSB7CkBAIC0xMjAzLDYgKzEyMDgsNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IHBh
bmVsX2Rlc2MgZGxjX2RsYzA3MDB5emdfMSA9IHsKIAkJLmRpc2FibGUgPSAyMDAsCiAJfSwKIAku
YnVzX2Zvcm1hdCA9IE1FRElBX0JVU19GTVRfUkdCNjY2XzFYN1gzX1NQV0csCisJLmNvbm5lY3Rv
cl90eXBlID0gRFJNX01PREVfQ09OTkVDVE9SX0xWRFMsCiB9OwogCiBzdGF0aWMgY29uc3Qgc3Ry
dWN0IGRpc3BsYXlfdGltaW5nIGRsY19kbGMxMDEwZ2lnX3RpbWluZyA9IHsKQEAgLTEyMzMsNiAr
MTIzOSw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgcGFuZWxfZGVzYyBkbGNfZGxjMTAxMGdpZyA9
IHsKIAkJLnVucHJlcGFyZSA9IDYwLAogCX0sCiAJLmJ1c19mb3JtYXQgPSBNRURJQV9CVVNfRk1U
X1JHQjg4OF8xWDdYNF9TUFdHLAorCS5jb25uZWN0b3JfdHlwZSA9IERSTV9NT0RFX0NPTk5FQ1RP
Ul9MVkRTLAogfTsKIAogc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlIGVkdF9l
dDAzNTAxMmRtNl9tb2RlID0gewpAQCAtMTQ5OSw2ICsxNTA2LDcgQEAgc3RhdGljIGNvbnN0IHN0
cnVjdCBwYW5lbF9kZXNjIGhhbm5zdGFyX2hzZDA3MHB3dzEgPSB7CiAJCS5oZWlnaHQgPSA5NCwK
IAl9LAogCS5idXNfZm9ybWF0ID0gTUVESUFfQlVTX0ZNVF9SR0I2NjZfMVg3WDNfU1BXRywKKwku
Y29ubmVjdG9yX3R5cGUgPSBEUk1fTU9ERV9DT05ORUNUT1JfTFZEUywKIH07CiAKIHN0YXRpYyBj
b25zdCBzdHJ1Y3QgZGlzcGxheV90aW1pbmcgaGFubnN0YXJfaHNkMTAwcHhuMV90aW1pbmcgPSB7
CkBAIC0xNTIzLDYgKzE1MzEsNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IHBhbmVsX2Rlc2MgaGFu
bnN0YXJfaHNkMTAwcHhuMSA9IHsKIAkJLmhlaWdodCA9IDE1MiwKIAl9LAogCS5idXNfZm9ybWF0
ID0gTUVESUFfQlVTX0ZNVF9SR0I2NjZfMVg3WDNfU1BXRywKKwkuY29ubmVjdG9yX3R5cGUgPSBE
Uk1fTU9ERV9DT05ORUNUT1JfTFZEUywKIH07CiAKIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Rp
c3BsYXlfbW9kZSBoaXRhY2hpX3R4MjNkMzh2bTBjYWFfbW9kZSA9IHsKQEAgLTE2MjksNiArMTYz
OCw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgcGFuZWxfZGVzYyBpbm5vbHV4X2cwNzB5Ml9sMDEg
PSB7CiAJCS51bnByZXBhcmUgPSA4MDAsCiAJfSwKIAkuYnVzX2Zvcm1hdCA9IE1FRElBX0JVU19G
TVRfUkdCODg4XzFYN1g0X1NQV0csCisJLmNvbm5lY3Rvcl90eXBlID0gRFJNX01PREVfQ09OTkVD
VE9SX0xWRFMsCiB9OwogCiBzdGF0aWMgY29uc3Qgc3RydWN0IGRpc3BsYXlfdGltaW5nIGlubm9s
dXhfZzEwMWljZV9sMDFfdGltaW5nID0gewpAQCAtMTY1Nyw2ICsxNjY3LDcgQEAgc3RhdGljIGNv
bnN0IHN0cnVjdCBwYW5lbF9kZXNjIGlubm9sdXhfZzEwMWljZV9sMDEgPSB7CiAJCS5kaXNhYmxl
ID0gMjAwLAogCX0sCiAJLmJ1c19mb3JtYXQgPSBNRURJQV9CVVNfRk1UX1JHQjg4OF8xWDdYNF9T
UFdHLAorCS5jb25uZWN0b3JfdHlwZSA9IERSTV9NT0RFX0NPTk5FQ1RPUl9MVkRTLAogfTsKIAog
c3RhdGljIGNvbnN0IHN0cnVjdCBkaXNwbGF5X3RpbWluZyBpbm5vbHV4X2cxMjFpMV9sMDFfdGlt
aW5nID0gewpAQCAtMTY4NCw2ICsxNjk1LDcgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBwYW5lbF9k
ZXNjIGlubm9sdXhfZzEyMWkxX2wwMSA9IHsKIAkJLmRpc2FibGUgPSAyMCwKIAl9LAogCS5idXNf
Zm9ybWF0ID0gTUVESUFfQlVTX0ZNVF9SR0I4ODhfMVg3WDRfU1BXRywKKwkuY29ubmVjdG9yX3R5
cGUgPSBEUk1fTU9ERV9DT05ORUNUT1JfTFZEUywKIH07CiAKIHN0YXRpYyBjb25zdCBzdHJ1Y3Qg
ZHJtX2Rpc3BsYXlfbW9kZSBpbm5vbHV4X2cxMjF4MV9sMDNfbW9kZSA9IHsKQEAgLTE4NjcsNiAr
MTg3OSw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgcGFuZWxfZGVzYyBrb2VfdHgzMWQyMDB2bTBi
YWEgPSB7CiAJCS5oZWlnaHQgPSAxMDksCiAJfSwKIAkuYnVzX2Zvcm1hdCA9IE1FRElBX0JVU19G
TVRfUkdCNjY2XzFYN1gzX1NQV0csCisJLmNvbm5lY3Rvcl90eXBlID0gRFJNX01PREVfQ09OTkVD
VE9SX0xWRFMsCiB9OwogCiBzdGF0aWMgY29uc3Qgc3RydWN0IGRpc3BsYXlfdGltaW5nIGt5b190
Y2cxMjF4Z2xwX3RpbWluZyA9IHsKQEAgLTE4OTEsNiArMTkwNCw3IEBAIHN0YXRpYyBjb25zdCBz
dHJ1Y3QgcGFuZWxfZGVzYyBreW9fdGNnMTIxeGdscCA9IHsKIAkJLmhlaWdodCA9IDE4NCwKIAl9
LAogCS5idXNfZm9ybWF0ID0gTUVESUFfQlVTX0ZNVF9SR0I4ODhfMVg3WDRfU1BXRywKKwkuY29u
bmVjdG9yX3R5cGUgPSBEUk1fTU9ERV9DT05ORUNUT1JfTFZEUywKIH07CiAKIHN0YXRpYyBjb25z
dCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSBsZW1ha2VyX2JsMDM1X3JnYl8wMDJfbW9kZSA9IHsK
QEAgLTE5MzksNiArMTk1Myw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgcGFuZWxfZGVzYyBsZ19s
YjA3MHd2OCA9IHsKIAkJLmhlaWdodCA9IDkxLAogCX0sCiAJLmJ1c19mb3JtYXQgPSBNRURJQV9C
VVNfRk1UX1JHQjg4OF8xWDdYNF9TUFdHLAorCS5jb25uZWN0b3JfdHlwZSA9IERSTV9NT0RFX0NP
Tk5FQ1RPUl9MVkRTLAogfTsKIAogc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2Rl
IGxnX2xwMDc5cXgxX3NwMHZfbW9kZSA9IHsKQEAgLTIwNjEsNiArMjA3Niw3IEBAIHN0YXRpYyBj
b25zdCBzdHJ1Y3QgcGFuZWxfZGVzYyBtaXRzdWJpc2hpX2FhMDcwbWMwMSA9IHsKIAkJLmRpc2Fi
bGUgPSA0MDAsCiAJfSwKIAkuYnVzX2Zvcm1hdCA9IE1FRElBX0JVU19GTVRfUkdCODg4XzFYN1g0
X1NQV0csCisJLmNvbm5lY3Rvcl90eXBlID0gRFJNX01PREVfQ09OTkVDVE9SX0xWRFMsCiAJLmJ1
c19mbGFncyA9IERSTV9CVVNfRkxBR19ERV9ISUdILAogfTsKIApAQCAtMjA4OSw2ICsyMTA1LDcg
QEAgc3RhdGljIGNvbnN0IHN0cnVjdCBwYW5lbF9kZXNjIG5lY19ubDEyODgwYmMyMF8wNSA9IHsK
IAkJLmRpc2FibGUgPSA1MCwKIAl9LAogCS5idXNfZm9ybWF0ID0gTUVESUFfQlVTX0ZNVF9SR0I4
ODhfMVg3WDRfU1BXRywKKwkuY29ubmVjdG9yX3R5cGUgPSBEUk1fTU9ERV9DT05ORUNUT1JfTFZE
UywKIH07CiAKIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSBuZWNfbmw0ODI3
aGMxOV8wNWJfbW9kZSA9IHsKQEAgLTIxOTEsNiArMjIwOCw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1
Y3QgcGFuZWxfZGVzYyBubHRfbmwxOTIxMDhhYzE4XzAyZCA9IHsKIAkJLnVucHJlcGFyZSA9IDUw
MCwKIAl9LAogCS5idXNfZm9ybWF0ID0gTUVESUFfQlVTX0ZNVF9SR0I4ODhfMVg3WDRfU1BXRywK
KwkuY29ubmVjdG9yX3R5cGUgPSBEUk1fTU9ERV9DT05ORUNUT1JfTFZEUywKIH07CiAKIHN0YXRp
YyBjb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSBudmRfOTEyOF9tb2RlID0gewpAQCAtMjIx
NCw2ICsyMjMyLDcgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBwYW5lbF9kZXNjIG52ZF85MTI4ID0g
ewogCQkuaGVpZ2h0ID0gODgsCiAJfSwKIAkuYnVzX2Zvcm1hdCA9IE1FRElBX0JVU19GTVRfUkdC
ODg4XzFYN1g0X1NQV0csCisJLmNvbm5lY3Rvcl90eXBlID0gRFJNX01PREVfQ09OTkVDVE9SX0xW
RFMsCiB9OwogCiBzdGF0aWMgY29uc3Qgc3RydWN0IGRpc3BsYXlfdGltaW5nIG9rYXlhX3JzODAw
NDgwdF83eDBncF90aW1pbmcgPSB7CkBAIC0yNjI2LDYgKzI2NDUsNyBAQCBzdGF0aWMgY29uc3Qg
c3RydWN0IHBhbmVsX2Rlc2Mgc2hhcnBfbHExMDFrMWx5MDQgPSB7CiAJCS5oZWlnaHQgPSAxMzYs
CiAJfSwKIAkuYnVzX2Zvcm1hdCA9IE1FRElBX0JVU19GTVRfUkdCODg4XzFYN1g0X0pFSURBLAor
CS5jb25uZWN0b3JfdHlwZSA9IERSTV9NT0RFX0NPTk5FQ1RPUl9MVkRTLAogfTsKIAogc3RhdGlj
IGNvbnN0IHN0cnVjdCBkaXNwbGF5X3RpbWluZyBzaGFycF9scTEyM3AxangzMV90aW1pbmcgPSB7
CkBAIC0yODA1LDYgKzI4MjUsNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IHBhbmVsX2Rlc2MgdGlh
bm1hX3RtMDcwamRoZzMwID0gewogCQkuaGVpZ2h0ID0gOTUsCiAJfSwKIAkuYnVzX2Zvcm1hdCA9
IE1FRElBX0JVU19GTVRfUkdCODg4XzFYN1g0X1NQV0csCisJLmNvbm5lY3Rvcl90eXBlID0gRFJN
X01PREVfQ09OTkVDVE9SX0xWRFMsCiB9OwogCiBzdGF0aWMgY29uc3Qgc3RydWN0IGRpc3BsYXlf
dGltaW5nIHRpYW5tYV90bTA3MHJ2aGc3MV90aW1pbmcgPSB7CkBAIC0yODI5LDYgKzI4NTAsNyBA
QCBzdGF0aWMgY29uc3Qgc3RydWN0IHBhbmVsX2Rlc2MgdGlhbm1hX3RtMDcwcnZoZzcxID0gewog
CQkuaGVpZ2h0ID0gODYsCiAJfSwKIAkuYnVzX2Zvcm1hdCA9IE1FRElBX0JVU19GTVRfUkdCODg4
XzFYN1g0X1NQV0csCisJLmNvbm5lY3Rvcl90eXBlID0gRFJNX01PREVfQ09OTkVDVE9SX0xWRFMs
CiB9OwogCiBzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgdGlfbnNwaXJlX2N4
X2xjZF9tb2RlW10gPSB7CkBAIC0yOTExLDYgKzI5MzMsNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0
IHBhbmVsX2Rlc2MgdG9zaGliYV9sdDA4OWFjMjkwMDAgPSB7CiAJfSwKIAkuYnVzX2Zvcm1hdCA9
IE1FRElBX0JVU19GTVRfUkdCODg4XzFYMjQsCiAJLmJ1c19mbGFncyA9IERSTV9CVVNfRkxBR19E
RV9ISUdIIHwgRFJNX0JVU19GTEFHX1BJWERBVEFfRFJJVkVfUE9TRURHRSwKKwkuY29ubmVjdG9y
X3R5cGUgPSBEUk1fTU9ERV9DT05ORUNUT1JfTFZEUywKIH07CiAKIHN0YXRpYyBjb25zdCBzdHJ1
Y3QgZHJtX2Rpc3BsYXlfbW9kZSB0cGtfZjA3YV8wMTAyX21vZGUgPSB7CkBAIC0yOTgxLDYgKzMw
MDQsNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IHBhbmVsX2Rlc2MgdXJ0X3Vtc2hfODU5Nm1kX2x2
ZHMgPSB7CiAJCS5oZWlnaHQgPSA5MSwKIAl9LAogCS5idXNfZm9ybWF0ID0gTUVESUFfQlVTX0ZN
VF9SR0I2NjZfMVg3WDNfU1BXRywKKwkuY29ubmVjdG9yX3R5cGUgPSBEUk1fTU9ERV9DT05ORUNU
T1JfTFZEUywKIH07CiAKIHN0YXRpYyBjb25zdCBzdHJ1Y3QgcGFuZWxfZGVzYyB1cnRfdW1zaF84
NTk2bWRfcGFyYWxsZWwgPSB7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFu
ZWwtc2l0cm9uaXgtc3Q3NzAxLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2l0cm9u
aXgtc3Q3NzAxLmMKaW5kZXggM2Y3YmNkMjRhYTgxLi5lZTNmMjNmNDU3NTUgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaXRyb25peC1zdDc3MDEuYworKysgYi9kcml2
ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2l0cm9uaXgtc3Q3NzAxLmMKQEAgLTM2OSw3ICszNjks
OCBAQCBzdGF0aWMgaW50IHN0NzcwMV9kc2lfcHJvYmUoc3RydWN0IG1pcGlfZHNpX2RldmljZSAq
ZHNpKQogCWlmIChJU19FUlIoc3Q3NzAxLT5iYWNrbGlnaHQpKQogCQlyZXR1cm4gUFRSX0VSUihz
dDc3MDEtPmJhY2tsaWdodCk7CiAKLQlkcm1fcGFuZWxfaW5pdCgmc3Q3NzAxLT5wYW5lbCwgJmRz
aS0+ZGV2LCAmc3Q3NzAxX2Z1bmNzKTsKKwlkcm1fcGFuZWxfaW5pdCgmc3Q3NzAxLT5wYW5lbCwg
JmRzaS0+ZGV2LCAmc3Q3NzAxX2Z1bmNzLAorCQkgICAgICAgRFJNX01PREVfQ09OTkVDVE9SX0RT
SSk7CiAKIAkvKioKIAkgKiBPbmNlIHNsZWVwIG91dCBoYXMgYmVlbiBpc3N1ZWQsIFNUNzcwMSBJ
QyByZXF1aXJlZCB0byB3YWl0IDEyMG1zCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFu
ZWwvcGFuZWwtc2l0cm9uaXgtc3Q3Nzg5di5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVs
LXNpdHJvbml4LXN0Nzc4OXYuYwppbmRleCAyZWVhZWVlMGRkN2YuLjEwOGE4NWJiNjY2NyAxMDA2
NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNpdHJvbml4LXN0Nzc4OXYuYwor
KysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2l0cm9uaXgtc3Q3Nzg5di5jCkBAIC0z
ODEsNyArMzgxLDggQEAgc3RhdGljIGludCBzdDc3ODl2X3Byb2JlKHN0cnVjdCBzcGlfZGV2aWNl
ICpzcGkpCiAJc3BpX3NldF9kcnZkYXRhKHNwaSwgY3R4KTsKIAljdHgtPnNwaSA9IHNwaTsKIAot
CWRybV9wYW5lbF9pbml0KCZjdHgtPnBhbmVsLCAmc3BpLT5kZXYsICZzdDc3ODl2X2RybV9mdW5j
cyk7CisJZHJtX3BhbmVsX2luaXQoJmN0eC0+cGFuZWwsICZzcGktPmRldiwgJnN0Nzc4OXZfZHJt
X2Z1bmNzLAorCQkgICAgICAgRFJNX01PREVfQ09OTkVDVE9SX0RQSSk7CiAKIAljdHgtPnBvd2Vy
ID0gZGV2bV9yZWd1bGF0b3JfZ2V0KCZzcGktPmRldiwgInBvd2VyIik7CiAJaWYgKElTX0VSUihj
dHgtPnBvd2VyKSkKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zb255
LWFjeDU2NWFrbS5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNvbnktYWN4NTY1YWtt
LmMKaW5kZXggNWEyNzcyYjA0Yjc1Li42ZjVjZTU4NjdmZjkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9wYW5lbC9wYW5lbC1zb255LWFjeDU2NWFrbS5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9wYW5lbC9wYW5lbC1zb255LWFjeDU2NWFrbS5jCkBAIC02NDgsNyArNjQ4LDggQEAgc3RhdGlj
IGludCBhY3g1NjVha21fcHJvYmUoc3RydWN0IHNwaV9kZXZpY2UgKnNwaSkKIAkJCXJldHVybiBy
ZXQ7CiAJfQogCi0JZHJtX3BhbmVsX2luaXQoJmxjZC0+cGFuZWwsICZsY2QtPnNwaS0+ZGV2LCAm
YWN4NTY1YWttX2Z1bmNzKTsKKwlkcm1fcGFuZWxfaW5pdCgmbGNkLT5wYW5lbCwgJmxjZC0+c3Bp
LT5kZXYsICZhY3g1NjVha21fZnVuY3MsCisJCSAgICAgICBEUk1fTU9ERV9DT05ORUNUT1JfRFBJ
KTsKIAogCXJldCA9IGRybV9wYW5lbF9hZGQoJmxjZC0+cGFuZWwpOwogCWlmIChyZXQgPCAwKSB7
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtdHBvLXRkMDI4dHRlYzEu
YyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC10cG8tdGQwMjh0dGVjMS5jCmluZGV4IDhi
MTE0OGQ3NGU3Yi4uMWQwOGQwM2Y1MDlkIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFu
ZWwvcGFuZWwtdHBvLXRkMDI4dHRlYzEuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFu
ZWwtdHBvLXRkMDI4dHRlYzEuYwpAQCAtMzQ3LDcgKzM0Nyw4IEBAIHN0YXRpYyBpbnQgdGQwMjh0
dGVjMV9wcm9iZShzdHJ1Y3Qgc3BpX2RldmljZSAqc3BpKQogCQlyZXR1cm4gcmV0OwogCX0KIAot
CWRybV9wYW5lbF9pbml0KCZsY2QtPnBhbmVsLCAmbGNkLT5zcGktPmRldiwgJnRkMDI4dHRlYzFf
ZnVuY3MpOworCWRybV9wYW5lbF9pbml0KCZsY2QtPnBhbmVsLCAmbGNkLT5zcGktPmRldiwgJnRk
MDI4dHRlYzFfZnVuY3MsCisJCSAgICAgICBEUk1fTU9ERV9DT05ORUNUT1JfRFBJKTsKIAogCXJl
dHVybiBkcm1fcGFuZWxfYWRkKCZsY2QtPnBhbmVsKTsKIH0KZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9wYW5lbC9wYW5lbC10cG8tdGQwNDNtdGVhMS5jIGIvZHJpdmVycy9ncHUvZHJtL3Bh
bmVsL3BhbmVsLXRwby10ZDA0M210ZWExLmMKaW5kZXggYmJmMGMyZTFjOTBmLi40MTZhZWJkMjNi
NmEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC10cG8tdGQwNDNtdGVh
MS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC10cG8tdGQwNDNtdGVhMS5jCkBA
IC00NTgsNyArNDU4LDggQEAgc3RhdGljIGludCB0ZDA0M210ZWExX3Byb2JlKHN0cnVjdCBzcGlf
ZGV2aWNlICpzcGkpCiAJCXJldHVybiByZXQ7CiAJfQogCi0JZHJtX3BhbmVsX2luaXQoJmxjZC0+
cGFuZWwsICZsY2QtPnNwaS0+ZGV2LCAmdGQwNDNtdGVhMV9mdW5jcyk7CisJZHJtX3BhbmVsX2lu
aXQoJmxjZC0+cGFuZWwsICZsY2QtPnNwaS0+ZGV2LCAmdGQwNDNtdGVhMV9mdW5jcywKKwkJICAg
ICAgIERSTV9NT0RFX0NPTk5FQ1RPUl9EUEkpOwogCiAJcmV0ID0gZHJtX3BhbmVsX2FkZCgmbGNk
LT5wYW5lbCk7CiAJaWYgKHJldCA8IDApIHsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9w
YW5lbC9wYW5lbC10cG8tdHBnMTEwLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtdHBv
LXRwZzExMC5jCmluZGV4IDI1NTI0YzI2YjI0MS4uMWE1NDE4YWUyY2NmIDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtdHBvLXRwZzExMC5jCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9wYW5lbC9wYW5lbC10cG8tdHBnMTEwLmMKQEAgLTQ1Nyw3ICs0NTcsOCBAQCBzdGF0aWMg
aW50IHRwZzExMF9wcm9iZShzdHJ1Y3Qgc3BpX2RldmljZSAqc3BpKQogCWlmIChyZXQpCiAJCXJl
dHVybiByZXQ7CiAKLQlkcm1fcGFuZWxfaW5pdCgmdHBnLT5wYW5lbCwgZGV2LCAmdHBnMTEwX2Ry
bV9mdW5jcyk7CisJZHJtX3BhbmVsX2luaXQoJnRwZy0+cGFuZWwsIGRldiwgJnRwZzExMF9kcm1f
ZnVuY3MsCisJCSAgICAgICBEUk1fTU9ERV9DT05ORUNUT1JfRFBJKTsKIAlzcGlfc2V0X2RydmRh
dGEoc3BpLCB0cGcpOwogCiAJcmV0dXJuIGRybV9wYW5lbF9hZGQoJnRwZy0+cGFuZWwpOwpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXRydWx5LW50MzU1OTcuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC10cnVseS1udDM1NTk3LmMKaW5kZXggYzM3MTRiZTc4
ODM3Li4wZmVlYTI0NTZlMTQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5l
bC10cnVseS1udDM1NTk3LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXRydWx5
LW50MzU1OTcuYwpAQCAtNTE4LDcgKzUxOCw4IEBAIHN0YXRpYyBpbnQgdHJ1bHlfbnQzNTU5N19w
YW5lbF9hZGQoc3RydWN0IHRydWx5X250MzU1OTcgKmN0eCkKIAkvKiBkdWFsIHBvcnQgKi8KIAln
cGlvZF9zZXRfdmFsdWUoY3R4LT5tb2RlX2dwaW8sIDApOwogCi0JZHJtX3BhbmVsX2luaXQoJmN0
eC0+cGFuZWwsIGRldiwgJnRydWx5X250MzU1OTdfZHJtX2Z1bmNzKTsKKwlkcm1fcGFuZWxfaW5p
dCgmY3R4LT5wYW5lbCwgZGV2LCAmdHJ1bHlfbnQzNTU5N19kcm1fZnVuY3MsCisJCSAgICAgICBE
Uk1fTU9ERV9DT05ORUNUT1JfRFNJKTsKIAlkcm1fcGFuZWxfYWRkKCZjdHgtPnBhbmVsKTsKIAog
CXJldHVybiAwOwpkaWZmIC0tZ2l0IGEvaW5jbHVkZS9kcm0vZHJtX3BhbmVsLmggYi9pbmNsdWRl
L2RybS9kcm1fcGFuZWwuaAppbmRleCA0YjljNjU2ZGMxNWUuLmNlOGRhNjQwMjJiNCAxMDA2NDQK
LS0tIGEvaW5jbHVkZS9kcm0vZHJtX3BhbmVsLmgKKysrIGIvaW5jbHVkZS9kcm0vZHJtX3BhbmVs
LmgKQEAgLTEzOSw2ICsxMzksMTUgQEAgc3RydWN0IGRybV9wYW5lbCB7CiAJICovCiAJY29uc3Qg
c3RydWN0IGRybV9wYW5lbF9mdW5jcyAqZnVuY3M7CiAKKwkvKioKKwkgKiBAY29ubmVjdG9yX3R5
cGU6CisJICoKKwkgKiBUeXBlIG9mIHRoZSBwYW5lbCBhcyBhIERSTV9NT0RFX0NPTk5FQ1RPUl8q
IHZhbHVlLiBUaGlzIGlzIHVzZWQgdG8KKwkgKiBpbml0aWFsaXNlIHRoZSBkcm1fY29ubmVjdG9y
IGNvcnJlc3BvbmRpbmcgdG8gdGhlIHBhbmVsIHdpdGggdGhlCisJICogY29ycmVjdCBjb25uZWN0
b3IgdHlwZS4KKwkgKi8KKwlpbnQgY29ubmVjdG9yX3R5cGU7CisKIAkvKioKIAkgKiBAbGlzdDoK
IAkgKgpAQCAtMTQ4LDcgKzE1Nyw4IEBAIHN0cnVjdCBkcm1fcGFuZWwgewogfTsKIAogdm9pZCBk
cm1fcGFuZWxfaW5pdChzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCwgc3RydWN0IGRldmljZSAqZGV2
LAotCQkgICAgY29uc3Qgc3RydWN0IGRybV9wYW5lbF9mdW5jcyAqZnVuY3MpOworCQkgICAgY29u
c3Qgc3RydWN0IGRybV9wYW5lbF9mdW5jcyAqZnVuY3MsCisJCSAgICBpbnQgY29ubmVjdG9yX3R5
cGUpOwogCiBpbnQgZHJtX3BhbmVsX2FkZChzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCk7CiB2b2lk
IGRybV9wYW5lbF9yZW1vdmUoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpOwotLSAKUmVnYXJkcywK
CkxhdXJlbnQgUGluY2hhcnQKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNr
dG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2Ry
aS1kZXZlbA==
