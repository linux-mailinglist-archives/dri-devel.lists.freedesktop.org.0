Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 94E0BF2A2B
	for <lists+dri-devel@lfdr.de>; Thu,  7 Nov 2019 10:08:42 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 858556F3A7;
	Thu,  7 Nov 2019 09:08:40 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-lj1-x242.google.com (mail-lj1-x242.google.com
 [IPv6:2a00:1450:4864:20::242])
 by gabe.freedesktop.org (Postfix) with ESMTPS id DEE3D6F3A7
 for <dri-devel@lists.freedesktop.org>; Thu,  7 Nov 2019 09:08:38 +0000 (UTC)
Received: by mail-lj1-x242.google.com with SMTP id 139so1396353ljf.1
 for <dri-devel@lists.freedesktop.org>; Thu, 07 Nov 2019 01:08:38 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=78AExQw87F6j+5cmQyF8HwoVKs76plqSueLpBLiBxSY=;
 b=swCXQTDpXGgrdTEgK3ozXV+xkxNX2mzOOl40C45h3nddA1ZWjYLKqdUEEHDBilPaUT
 ZNhD/OFg5AOUrm/n6NJRygXubvnJnN6JWezpE0oBB5HR5tCUDSLIGMPa584A6PoOwnMh
 /8DccxVaLvolvDzYXIC+2AxSZOi7FQnGOvhRSdi1rEOLOb4OV3Se37vTC2BEXcp7yGRv
 a7AJ1krKRxMqxKHwl4pKRI99A/hNJQ9J8VtdlnA6C+6iGA7L81RNoHTjS2g7OP5lCkwP
 zbA6LvXrfp/XR4LKo7OYmovyZXRR1S8iq5laEh31qzv3YCswfGBNfRfa80jpYXGuuS8C
 gbLQ==
X-Gm-Message-State: APjAAAXkM+64PoI0fI6ATyz3ma2ieVXhALPzLLyiNmoz1TxlPFu4L2vL
 g4JnOyMVbGpE/0kWcp0TarK9TjpQpIrMWi2y9J4=
X-Google-Smtp-Source: APXvYqxiWO/D0sVPvr380QW2An7LrGN7ck0ITiLwYplgQYiDcIGHEWTDyODHvsqOhrnni4Grr81bK4LPZ2Fi/PKrV78=
X-Received: by 2002:a2e:9119:: with SMTP id m25mr1595563ljg.24.1573117717108; 
 Thu, 07 Nov 2019 01:08:37 -0800 (PST)
MIME-Version: 1.0
References: <20191106094400.445834-1-paul.kocialkowski@bootlin.com>
 <20191106094400.445834-3-paul.kocialkowski@bootlin.com>
 <CAMeQTsa=SWXHt8ZvToa9x5qc6W29B6B4Ssvixs3nd-w=+dYGzA@mail.gmail.com>
 <20191107083140.GJ23790@phenom.ffwll.local>
In-Reply-To: <20191107083140.GJ23790@phenom.ffwll.local>
From: Patrik Jakobsson <patrik.r.jakobsson@gmail.com>
Date: Thu, 7 Nov 2019 10:08:26 +0100
Message-ID: <CAMeQTsZ59B-h8TEyKnc03rz4-aXrAcx3wyWZqDG218Z1RxC5-w@mail.gmail.com>
Subject: Re: [PATCH 2/2] drm/gma500: Add page flip support on psb/cdv
To: Patrik Jakobsson <patrik.r.jakobsson@gmail.com>, 
 Paul Kocialkowski <paul.kocialkowski@bootlin.com>,
 dri-devel <dri-devel@lists.freedesktop.org>, 
 linux-kernel <linux-kernel@vger.kernel.org>, David Airlie <airlied@linux.ie>, 
 James Hilliard <james.hilliard1@gmail.com>,
 Thomas Petazzoni <thomas.petazzoni@bootlin.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=78AExQw87F6j+5cmQyF8HwoVKs76plqSueLpBLiBxSY=;
 b=sBTQVe6lfCi/O3jhcnXoPcLWPL8UvZ0+7MOWos7PeXvZebBoczPYeGUAcybOjdcllO
 byXy65jaMrpox81H52am+4n7uIMv1MtWZDMjK9GOZZQSP4qfrpfX/x7R8hdH5nHgl+bN
 gnGIJKgR0R7e7QqszE3Szy9+tNULNfrdH3qSjvwdCi8jpyJZvlEzZ4IzyqMjbgYUGxIu
 CD85w3ZDY/czsSKKibOo9i1FxqQfi7Elnwo+8A+SmK5FOQwu/W3PV0H8aEhH+3O3kkrn
 ShcXXxcoyRCj7fCgnb6vVgyWNDHS3dCADYnF9zxd3TFOJUdYo5mAZDRpbhSqGbu3LAss
 rPfw==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVGh1LCBOb3YgNywgMjAxOSBhdCA5OjMxIEFNIERhbmllbCBWZXR0ZXIgPGRhbmllbEBmZnds
bC5jaD4gd3JvdGU6Cj4KPiBPbiBXZWQsIE5vdiAwNiwgMjAxOSBhdCAwNDoyNDo1OVBNICswMTAw
LCBQYXRyaWsgSmFrb2Jzc29uIHdyb3RlOgo+ID4gT24gV2VkLCBOb3YgNiwgMjAxOSBhdCAxMDo0
NCBBTSBQYXVsIEtvY2lhbGtvd3NraQo+ID4gPHBhdWwua29jaWFsa293c2tpQGJvb3RsaW4uY29t
PiB3cm90ZToKPiA+ID4KPiA+ID4gTGVnYWN5IChub24tYXRvbWljKSBwYWdlIGZsaXAgc3VwcG9y
dCBpcyBhZGRlZCB0byB0aGUgZHJpdmVyIGJ5IHVzaW5nIHRoZQo+ID4gPiBtb2RlX3NldF9iYXNl
IENSVEMgZnVuY3Rpb24sIHRoYXQgYWxsb3dzIGNvbmZpZ3VyaW5nIGEgbmV3IGZyYW1lYnVmZmVy
IGZvcgo+ID4gPiBkaXNwbGF5LiBTaW5jZSB0aGUgZnVuY3Rpb24gcmVxdWlyZXMgdGhlIHByaW1h
cnkgcGxhbmUncyBmYiB0byBiZSBzZXQKPiA+ID4gYWxyZWFkeSwgdGhpcyBpcyBkb25lIHByaW9y
IHRvIGNhbGxpbmcgdGhlIGZ1bmN0aW9uIGluIHRoZSBwYWdlIGZsaXAgaGVscGVyCj4gPiA+IGFu
ZCByZXZlcnRlZCBpZiB0aGUgZmxpcCBmYWlscy4KPiA+ID4KPiA+ID4gVGhlIHZibGFuayBpbnRl
cnJ1cHQgaGFuZGxlciBpcyBhbHNvIHJlZmFjdG9yZWQgdG8gc3VwcG9ydCBwYXNzaW5nIGFuIGV2
ZW50Lgo+ID4gPiBUaGUgUElQRV9URV9TVEFUVVMgYml0IGlzIGFsc28gY29uc2lkZXJlZCB0byBp
bmRpY2F0ZSB2Ymxhbmsgb24gbWVkZmllbGQKPiA+ID4gb25seSwgYXMgZXhwbGFpbmVkIGluIHBz
Yl9lbmFibGVfdmJsYW5rLgo+ID4gPgo+ID4gPiBJdCB3YXMgdGVzdGVkIGJ5IHJ1bm5pbmcgd2Vz
dG9uIG9uIGJvdGggcG91bHNibyBhbmQgY2VkYXJ0cmFpbC4KPiA+ID4KPiA+ID4gU2lnbmVkLW9m
Zi1ieTogUGF1bCBLb2NpYWxrb3dza2kgPHBhdWwua29jaWFsa293c2tpQGJvb3RsaW4uY29tPgo+
ID4gPiAtLS0KPiA+ID4gIGRyaXZlcnMvZ3B1L2RybS9nbWE1MDAvY2R2X2ludGVsX2Rpc3BsYXku
YyB8ICAxICsKPiA+ID4gIGRyaXZlcnMvZ3B1L2RybS9nbWE1MDAvZ21hX2Rpc3BsYXkuYyAgICAg
ICB8IDQ2ICsrKysrKysrKysrKysrKysrKysrKysKPiA+ID4gIGRyaXZlcnMvZ3B1L2RybS9nbWE1
MDAvZ21hX2Rpc3BsYXkuaCAgICAgICB8ICA2ICsrKwo+ID4gPiAgZHJpdmVycy9ncHUvZHJtL2dt
YTUwMC9wc2JfaW50ZWxfZGlzcGxheS5jIHwgIDEgKwo+ID4gPiAgZHJpdmVycy9ncHUvZHJtL2dt
YTUwMC9wc2JfaW50ZWxfZHJ2LmggICAgIHwgIDMgKysKPiA+ID4gIGRyaXZlcnMvZ3B1L2RybS9n
bWE1MDAvcHNiX2lycS5jICAgICAgICAgICB8IDE4ICsrKysrKystLQo+ID4gPiAgNiBmaWxlcyBj
aGFuZ2VkLCA3MiBpbnNlcnRpb25zKCspLCAzIGRlbGV0aW9ucygtKQo+ID4gPgo+ID4gPiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2dtYTUwMC9jZHZfaW50ZWxfZGlzcGxheS5jIGIvZHJp
dmVycy9ncHUvZHJtL2dtYTUwMC9jZHZfaW50ZWxfZGlzcGxheS5jCj4gPiA+IGluZGV4IDhiNzg0
OTQ3ZWQzYi4uNzEwOWQzZDE5YmUwIDEwMDY0NAo+ID4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
Z21hNTAwL2Nkdl9pbnRlbF9kaXNwbGF5LmMKPiA+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2dt
YTUwMC9jZHZfaW50ZWxfZGlzcGxheS5jCj4gPiA+IEBAIC05NzksNiArOTc5LDcgQEAgY29uc3Qg
c3RydWN0IGRybV9jcnRjX2Z1bmNzIGNkdl9pbnRlbF9jcnRjX2Z1bmNzID0gewo+ID4gPiAgICAg
ICAgIC5nYW1tYV9zZXQgPSBnbWFfY3J0Y19nYW1tYV9zZXQsCj4gPiA+ICAgICAgICAgLnNldF9j
b25maWcgPSBnbWFfY3J0Y19zZXRfY29uZmlnLAo+ID4gPiAgICAgICAgIC5kZXN0cm95ID0gZ21h
X2NydGNfZGVzdHJveSwKPiA+ID4gKyAgICAgICAucGFnZV9mbGlwID0gZ21hX2NydGNfcGFnZV9m
bGlwLAo+ID4gPiAgfTsKPiA+ID4KPiA+ID4gIGNvbnN0IHN0cnVjdCBnbWFfY2xvY2tfZnVuY3Mg
Y2R2X2Nsb2NrX2Z1bmNzID0gewo+ID4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2dt
YTUwMC9nbWFfZGlzcGxheS5jIGIvZHJpdmVycy9ncHUvZHJtL2dtYTUwMC9nbWFfZGlzcGxheS5j
Cj4gPiA+IGluZGV4IGJjMDdhZTJhOWExZC4uMTdmMTM2OTg1ZDIxIDEwMDY0NAo+ID4gPiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vZ21hNTAwL2dtYV9kaXNwbGF5LmMKPiA+ID4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2dtYTUwMC9nbWFfZGlzcGxheS5jCj4gPiA+IEBAIC01MDMsNiArNTAzLDUyIEBA
IHZvaWQgZ21hX2NydGNfZGVzdHJveShzdHJ1Y3QgZHJtX2NydGMgKmNydGMpCj4gPiA+ICAgICAg
ICAga2ZyZWUoZ21hX2NydGMpOwo+ID4gPiAgfQo+ID4gPgo+ID4gPiAraW50IGdtYV9jcnRjX3Bh
Z2VfZmxpcChzdHJ1Y3QgZHJtX2NydGMgKmNydGMsCj4gPiA+ICsgICAgICAgICAgICAgICAgICAg
ICAgc3RydWN0IGRybV9mcmFtZWJ1ZmZlciAqZmIsCj4gPiA+ICsgICAgICAgICAgICAgICAgICAg
ICAgc3RydWN0IGRybV9wZW5kaW5nX3ZibGFua19ldmVudCAqZXZlbnQsCj4gPiA+ICsgICAgICAg
ICAgICAgICAgICAgICAgdWludDMyX3QgcGFnZV9mbGlwX2ZsYWdzLAo+ID4gPiArICAgICAgICAg
ICAgICAgICAgICAgIHN0cnVjdCBkcm1fbW9kZXNldF9hY3F1aXJlX2N0eCAqY3R4KQo+ID4gPiAr
ewo+ID4gPiArICAgICAgIHN0cnVjdCBnbWFfY3J0YyAqZ21hX2NydGMgPSB0b19nbWFfY3J0Yyhj
cnRjKTsKPiA+ID4gKyAgICAgICBzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpjdXJyZW50X2ZiID0g
Y3J0Yy0+cHJpbWFyeS0+ZmI7Cj4gPiA+ICsgICAgICAgc3RydWN0IGRybV9mcmFtZWJ1ZmZlciAq
b2xkX2ZiID0gY3J0Yy0+cHJpbWFyeS0+b2xkX2ZiOwo+ID4gPiArICAgICAgIGNvbnN0IHN0cnVj
dCBkcm1fY3J0Y19oZWxwZXJfZnVuY3MgKmNydGNfZnVuY3MgPSBjcnRjLT5oZWxwZXJfcHJpdmF0
ZTsKPiA+ID4gKyAgICAgICBzdHJ1Y3QgZHJtX2RldmljZSAqZGV2ID0gY3J0Yy0+ZGV2Owo+ID4g
PiArICAgICAgIHVuc2lnbmVkIGxvbmcgZmxhZ3M7Cj4gPiA+ICsgICAgICAgaW50IHJldDsKPiA+
ID4gKwo+ID4gPiArICAgICAgIGlmICghY3J0Y19mdW5jcy0+bW9kZV9zZXRfYmFzZSkKPiA+ID4g
KyAgICAgICAgICAgICAgIHJldHVybiAtRUlOVkFMOwo+ID4gPiArCj4gPiA+ICsgICAgICAgLyog
VXNpbmcgbW9kZV9zZXRfYmFzZSByZXF1aXJlcyB0aGUgbmV3IGZiIHRvIGJlIHNldCBhbHJlYWR5
LiAqLwo+ID4gPiArICAgICAgIGNydGMtPnByaW1hcnktPmZiID0gZmI7Cj4gPiA+ICsKPiA+ID4g
KyAgICAgICBpZiAoZXZlbnQpIHsKPiA+ID4gKyAgICAgICAgICAgICAgIHNwaW5fbG9ja19pcnFz
YXZlKCZkZXYtPmV2ZW50X2xvY2ssIGZsYWdzKTsKPiA+ID4gKwo+ID4gPiArICAgICAgICAgICAg
ICAgV0FSTl9PTihkcm1fY3J0Y192YmxhbmtfZ2V0KGNydGMpICE9IDApOwo+ID4gPiArCj4gPiA+
ICsgICAgICAgICAgICAgICBnbWFfY3J0Yy0+cGFnZV9mbGlwX2V2ZW50ID0gZXZlbnQ7Cj4gPiA+
ICsKPiA+ID4gKyAgICAgICAgICAgICAgIC8qIENhbGwgdGhpcyBsb2NrZWQgaWYgd2Ugd2FudCBh
biBldmVudCBhdCB2YmxhbmsgaW50ZXJydXB0LiAqLwo+ID4gPiArICAgICAgICAgICAgICAgcmV0
ID0gY3J0Y19mdW5jcy0+bW9kZV9zZXRfYmFzZShjcnRjLCBjcnRjLT54LCBjcnRjLT55LCBvbGRf
ZmIpOwo+ID4gPiArICAgICAgICAgICAgICAgaWYgKHJldCkgewo+ID4gPiArICAgICAgICAgICAg
ICAgICAgICAgICBnbWFfY3J0Yy0+cGFnZV9mbGlwX2V2ZW50ID0gTlVMTDsKPiA+ID4gKyAgICAg
ICAgICAgICAgICAgICAgICAgZHJtX2NydGNfdmJsYW5rX3B1dChjcnRjKTsKPiA+ID4gKyAgICAg
ICAgICAgICAgIH0KPiA+ID4gKwo+ID4gPiArICAgICAgICAgICAgICAgc3Bpbl91bmxvY2tfaXJx
cmVzdG9yZSgmZGV2LT5ldmVudF9sb2NrLCBmbGFncyk7Cj4gPiA+ICsgICAgICAgfSBlbHNlIHsK
PiA+ID4gKyAgICAgICAgICAgICAgIHJldCA9IGNydGNfZnVuY3MtPm1vZGVfc2V0X2Jhc2UoY3J0
YywgY3J0Yy0+eCwgY3J0Yy0+eSwgb2xkX2ZiKTsKPiA+ID4gKyAgICAgICB9Cj4gPiA+ICsKPiA+
ID4gKyAgICAgICAvKiBSZXN0b3JlIHByZXZpb3VzIGZiIGluIGNhc2Ugb2YgZmFpbHVyZS4gKi8K
PiA+ID4gKyAgICAgICBpZiAocmV0KQo+ID4gPiArICAgICAgICAgICAgICAgY3J0Yy0+cHJpbWFy
eS0+ZmIgPSBjdXJyZW50X2ZiOwo+ID4gPiArCj4gPiA+ICsgICAgICAgcmV0dXJuIHJldDsKPiA+
ID4gK30KPiA+ID4gKwo+ID4gPiAgaW50IGdtYV9jcnRjX3NldF9jb25maWcoc3RydWN0IGRybV9t
b2RlX3NldCAqc2V0LAo+ID4gPiAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgZHJtX21v
ZGVzZXRfYWNxdWlyZV9jdHggKmN0eCkKPiA+ID4gIHsKPiA+ID4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9nbWE1MDAvZ21hX2Rpc3BsYXkuaCBiL2RyaXZlcnMvZ3B1L2RybS9nbWE1MDAv
Z21hX2Rpc3BsYXkuaAo+ID4gPiBpbmRleCBmZGJkN2VjYWE1OWMuLjdiZDZjMWVlOGIyMSAxMDA2
NDQKPiA+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2dtYTUwMC9nbWFfZGlzcGxheS5oCj4gPiA+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9nbWE1MDAvZ21hX2Rpc3BsYXkuaAo+ID4gPiBAQCAtMTEs
NiArMTEsNyBAQAo+ID4gPiAgI2RlZmluZSBfR01BX0RJU1BMQVlfSF8KPiA+ID4KPiA+ID4gICNp
bmNsdWRlIDxsaW51eC9wbV9ydW50aW1lLmg+Cj4gPiA+ICsjaW5jbHVkZSA8ZHJtL2RybV92Ymxh
bmsuaD4KPiA+ID4KPiA+ID4gIHN0cnVjdCBkcm1fZW5jb2RlcjsKPiA+ID4gIHN0cnVjdCBkcm1f
bW9kZV9zZXQ7Cj4gPiA+IEBAIC03MSw2ICs3MiwxMSBAQCBleHRlcm4gdm9pZCBnbWFfY3J0Y19w
cmVwYXJlKHN0cnVjdCBkcm1fY3J0YyAqY3J0Yyk7Cj4gPiA+ICBleHRlcm4gdm9pZCBnbWFfY3J0
Y19jb21taXQoc3RydWN0IGRybV9jcnRjICpjcnRjKTsKPiA+ID4gIGV4dGVybiB2b2lkIGdtYV9j
cnRjX2Rpc2FibGUoc3RydWN0IGRybV9jcnRjICpjcnRjKTsKPiA+ID4gIGV4dGVybiB2b2lkIGdt
YV9jcnRjX2Rlc3Ryb3koc3RydWN0IGRybV9jcnRjICpjcnRjKTsKPiA+ID4gK2V4dGVybiBpbnQg
Z21hX2NydGNfcGFnZV9mbGlwKHN0cnVjdCBkcm1fY3J0YyAqY3J0YywKPiA+ID4gKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGRybV9mcmFtZWJ1ZmZlciAqZmIsCj4gPiA+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkcm1fcGVuZGluZ192YmxhbmtfZXZl
bnQgKmV2ZW50LAo+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MzJfdCBw
YWdlX2ZsaXBfZmxhZ3MsCj4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVj
dCBkcm1fbW9kZXNldF9hY3F1aXJlX2N0eCAqY3R4KTsKPiA+ID4gIGV4dGVybiBpbnQgZ21hX2Ny
dGNfc2V0X2NvbmZpZyhzdHJ1Y3QgZHJtX21vZGVfc2V0ICpzZXQsCj4gPiA+ICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgZHJtX21vZGVzZXRfYWNxdWlyZV9jdHggKmN0eCk7
Cj4gPiA+Cj4gPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vZ21hNTAwL3BzYl9pbnRl
bF9kaXNwbGF5LmMgYi9kcml2ZXJzL2dwdS9kcm0vZ21hNTAwL3BzYl9pbnRlbF9kaXNwbGF5LmMK
PiA+ID4gaW5kZXggNDI1NjQxMDUzNWYwLi5mZWQzYjU2M2U2MmUgMTAwNjQ0Cj4gPiA+IC0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9nbWE1MDAvcHNiX2ludGVsX2Rpc3BsYXkuYwo+ID4gPiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vZ21hNTAwL3BzYl9pbnRlbF9kaXNwbGF5LmMKPiA+ID4gQEAgLTQzMiw2
ICs0MzIsNyBAQCBjb25zdCBzdHJ1Y3QgZHJtX2NydGNfZnVuY3MgcHNiX2ludGVsX2NydGNfZnVu
Y3MgPSB7Cj4gPiA+ICAgICAgICAgLmdhbW1hX3NldCA9IGdtYV9jcnRjX2dhbW1hX3NldCwKPiA+
ID4gICAgICAgICAuc2V0X2NvbmZpZyA9IGdtYV9jcnRjX3NldF9jb25maWcsCj4gPiA+ICAgICAg
ICAgLmRlc3Ryb3kgPSBnbWFfY3J0Y19kZXN0cm95LAo+ID4gPiArICAgICAgIC5wYWdlX2ZsaXAg
PSBnbWFfY3J0Y19wYWdlX2ZsaXAsCj4gPiA+ICB9Owo+ID4gPgo+ID4gPiAgY29uc3Qgc3RydWN0
IGdtYV9jbG9ja19mdW5jcyBwc2JfY2xvY2tfZnVuY3MgPSB7Cj4gPiA+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vZ21hNTAwL3BzYl9pbnRlbF9kcnYuaCBiL2RyaXZlcnMvZ3B1L2RybS9n
bWE1MDAvcHNiX2ludGVsX2Rydi5oCj4gPiA+IGluZGV4IGNkZjEwMzMzZDFjMi4uMTZjNjEzNmY3
NzhiIDEwMDY0NAo+ID4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vZ21hNTAwL3BzYl9pbnRlbF9k
cnYuaAo+ID4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vZ21hNTAwL3BzYl9pbnRlbF9kcnYuaAo+
ID4gPiBAQCAtMTIsNiArMTIsNyBAQAo+ID4gPiAgI2luY2x1ZGUgPGRybS9kcm1fY3J0Y19oZWxw
ZXIuaD4KPiA+ID4gICNpbmNsdWRlIDxkcm0vZHJtX2VuY29kZXIuaD4KPiA+ID4gICNpbmNsdWRl
IDxkcm0vZHJtX3Byb2JlX2hlbHBlci5oPgo+ID4gPiArI2luY2x1ZGUgPGRybS9kcm1fdmJsYW5r
Lmg+Cj4gPiA+ICAjaW5jbHVkZSA8bGludXgvZ3Bpby5oPgo+ID4gPiAgI2luY2x1ZGUgImdtYV9k
aXNwbGF5LmgiCj4gPiA+Cj4gPiA+IEBAIC0xODIsNiArMTgzLDggQEAgc3RydWN0IGdtYV9jcnRj
IHsKPiA+ID4gICAgICAgICBzdHJ1Y3QgcHNiX2ludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGU7
Cj4gPiA+Cj4gPiA+ICAgICAgICAgY29uc3Qgc3RydWN0IGdtYV9jbG9ja19mdW5jcyAqY2xvY2tf
ZnVuY3M7Cj4gPiA+ICsKPiA+ID4gKyAgICAgICBzdHJ1Y3QgZHJtX3BlbmRpbmdfdmJsYW5rX2V2
ZW50ICpwYWdlX2ZsaXBfZXZlbnQ7Cj4gPiA+ICB9Owo+ID4gPgo+ID4gPiAgI2RlZmluZSB0b19n
bWFfY3J0Yyh4KSBcCj4gPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vZ21hNTAwL3Bz
Yl9pcnEuYyBiL2RyaXZlcnMvZ3B1L2RybS9nbWE1MDAvcHNiX2lycS5jCj4gPiA+IGluZGV4IGU2
MjY1ZmI4NTYyNi4uZjc4N2E1MWY2MzM1IDEwMDY0NAo+ID4gPiAtLS0gYS9kcml2ZXJzL2dwdS9k
cm0vZ21hNTAwL3BzYl9pcnEuYwo+ID4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vZ21hNTAwL3Bz
Yl9pcnEuYwo+ID4gPiBAQCAtMTY1LDExICsxNjUsMjMgQEAgc3RhdGljIHZvaWQgbWlkX3BpcGVf
ZXZlbnRfaGFuZGxlcihzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCBpbnQgcGlwZSkKPiA+ID4gICAg
ICAgICAgICAgICAgICIlcywgY2FuJ3QgY2xlYXIgc3RhdHVzIGJpdHMgZm9yIHBpcGUgJWQsIGl0
cyB2YWx1ZSA9IDB4JXguXG4iLAo+ID4gPiAgICAgICAgICAgICAgICAgX19mdW5jX18sIHBpcGUs
IFBTQl9SVkRDMzIocGlwZV9zdGF0X3JlZykpOwo+ID4gPgo+ID4gPiAtICAgICAgIGlmIChwaXBl
X3N0YXRfdmFsICYgUElQRV9WQkxBTktfU1RBVFVTKQo+ID4gPiAtICAgICAgICAgICAgICAgZHJt
X2hhbmRsZV92YmxhbmsoZGV2LCBwaXBlKTsKPiA+ID4gKyAgICAgICBpZiAocGlwZV9zdGF0X3Zh
bCAmIFBJUEVfVkJMQU5LX1NUQVRVUyB8fAo+ID4gPiArICAgICAgICAgICAoSVNfTUZMRChkZXYp
ICYmIHBpcGVfc3RhdF92YWwgJiBQSVBFX1RFX1NUQVRVUykpIHsKPiA+ID4gKyAgICAgICAgICAg
ICAgIHN0cnVjdCBkcm1fY3J0YyAqY3J0YyA9IGRybV9jcnRjX2Zyb21faW5kZXgoZGV2LCBwaXBl
KTsKPiA+ID4gKyAgICAgICAgICAgICAgIHN0cnVjdCBnbWFfY3J0YyAqZ21hX2NydGMgPSB0b19n
bWFfY3J0YyhjcnRjKTsKPiA+ID4gKyAgICAgICAgICAgICAgIHVuc2lnbmVkIGxvbmcgZmxhZ3M7
Cj4gPiA+Cj4gPiA+IC0gICAgICAgaWYgKHBpcGVfc3RhdF92YWwgJiBQSVBFX1RFX1NUQVRVUykK
PiA+ID4gICAgICAgICAgICAgICAgIGRybV9oYW5kbGVfdmJsYW5rKGRldiwgcGlwZSk7Cj4gPiA+
ICsKPiA+ID4gKyAgICAgICAgICAgICAgIHNwaW5fbG9ja19pcnFzYXZlKCZkZXYtPmV2ZW50X2xv
Y2ssIGZsYWdzKTsKPiA+ID4gKyAgICAgICAgICAgICAgIGlmIChnbWFfY3J0Yy0+cGFnZV9mbGlw
X2V2ZW50KSB7Cj4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgIGRybV9jcnRjX3NlbmRfdmJs
YW5rX2V2ZW50KGNydGMsCj4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGdtYV9jcnRjLT5wYWdlX2ZsaXBfZXZlbnQpOwo+ID4gPiArICAgICAg
ICAgICAgICAgICAgICAgICBnbWFfY3J0Yy0+cGFnZV9mbGlwX2V2ZW50ID0gTlVMTDsKPiA+ID4g
KyAgICAgICAgICAgICAgICAgICAgICAgZHJtX2NydGNfdmJsYW5rX3B1dChjcnRjKTsKPiA+ID4g
KyAgICAgICAgICAgICAgIH0KPiA+ID4gKyAgICAgICAgICAgICAgIHNwaW5fdW5sb2NrX2lycXJl
c3RvcmUoJmRldi0+ZXZlbnRfbG9jaywgZmxhZ3MpOwo+ID4gPiArICAgICAgIH0KPiA+ID4gIH0K
PiA+ID4KPiA+ID4gIC8qCj4gPiA+IC0tCj4gPiA+IDIuMjMuMAo+ID4gPgo+ID4KPiA+IExvb2tz
IGdvb2QhCj4gPgo+ID4gUmV2aWV3ZWQtYnk6IFBhdHJpayBKYWtvYnNzb24gPHBhdHJpay5yLmph
a29ic3NvbkBnbWFpbC5jb20+Cj4KPiBJJ20gYXNzdW1pbmcgeW91J2xsIGFsc28gcHVzaCB0aGVz
ZT8KPgo+IEFsd2F5cyBjb25mdXNpbmcgd2hlbiBtYWludGFpbmVyL2NvbW1pdHRlcnMgci1iIGJ1
dCBkb24ndCBzYXkgYW55dGhpbmcKPiBhYm91dCBwdXNoaW5nIHRoZSBwYXRjaC4gR29vZCBjaGFu
Y2VzIGl0J2xsIGZhbGwgdGhyb3VnaCBjcmFja3MgaWYgdGhhdAo+IGhhcHBlbnMuCj4gLURhbmll
bAoKQWggc29ycnksIEkgYWxzbyBmaW5kIGl0IGNvbmZ1c2luZy4gSSdsbCBwdXNoIHRoZXNlLgoK
LVBhdHJpawoKPiAtLQo+IERhbmllbCBWZXR0ZXIKPiBTb2Z0d2FyZSBFbmdpbmVlciwgSW50ZWwg
Q29ycG9yYXRpb24KPiBodHRwOi8vYmxvZy5mZndsbC5jaApfX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZl
bEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFp
bG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
