Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 690A728B0F1
	for <lists+dri-devel@lfdr.de>; Mon, 12 Oct 2020 10:58:10 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3E48F6E0D6;
	Mon, 12 Oct 2020 08:58:05 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ej1-x643.google.com (mail-ej1-x643.google.com
 [IPv6:2a00:1450:4864:20::643])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0CA306E0D6
 for <dri-devel@lists.freedesktop.org>; Mon, 12 Oct 2020 08:58:04 +0000 (UTC)
Received: by mail-ej1-x643.google.com with SMTP id u8so22158042ejg.1
 for <dri-devel@lists.freedesktop.org>; Mon, 12 Oct 2020 01:58:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=subject:from:to:references:message-id:date:user-agent:mime-version
 :in-reply-to:content-transfer-encoding:content-language;
 bh=+vKXqzmPTFHkFmsnGkwU+EBBVrVcNBt2aJJrOvyJDr0=;
 b=IQR4AoOsv3AsMpOjlwwP3PHjVYxi/rd82/J8nMPcvt5MQAvzpl+SKaZKElSTjrd0aJ
 9QLi5NiWP7aUhdWxBfg2DjL7P2Nsg/8ASNw4JtVM4h83UWKbpTzuw9P/OynHHwlle0be
 gACz30C2T/ZsJlIfPaUXAfJGrAnGVn21d26w82DvebIFksR1yYc52vzQYjjwfAsaF90S
 zhfwy+eOVxJZ/QAp/KbFhYmipcpFiROaZw3gl/cddVPeqEPNLMhie76XBB0zgDgr5+HV
 5faLOpDT0+XZTt8rHzlTNbH01IQlQT0+Q9YJZaD5d+h9yugilKjFk7In3y5x9kL6RBxj
 4SGA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:subject:from:to:references:message-id:date
 :user-agent:mime-version:in-reply-to:content-transfer-encoding
 :content-language;
 bh=+vKXqzmPTFHkFmsnGkwU+EBBVrVcNBt2aJJrOvyJDr0=;
 b=HDePetqn+86VsRWsNz47gpNCCzlXU+6ip4AoR0qvHvJFUIz2qwMVZzNUPuejwXzGhS
 RNq2ZKxTwqIYs4Xu3q7nKUL7pbOTP/huHDZ5dk3bN8sEwD5w30YjR/AV5VXQJpBg+USq
 r5PTXpDuYAyzxBF61ySHMeugqgKDdUZ8rLI+gk8NZ1y+pmW49w2g9kPGayv90g7r7RBg
 UVyMs4A9ZjiQtcpWJfJYvfYNgdijnk0taUpwWzPkeZZF20+qcJ+E5bE2aiQQStORvcRO
 rwTqfxizVkHo5d3Hib7vj+Wclx7PVY45ixa8KUbhjy5JVrIvd5MLBsYQ2jQDk44pJTsH
 RaFw==
X-Gm-Message-State: AOAM5313qz8Xhw16cMzOSHj0opouS2sfDVxsDJKyYdbG/5rlICRytg/x
 unATNinsTpnURBAci7D66Jt6/dMmPe8=
X-Google-Smtp-Source: ABdhPJzrTPFBF3uO+RQHHiNiCUoxbI7k9NykCWMcKRad0H5IIR9UVIGhNenODRYcQV9CZffD01D39g==
X-Received: by 2002:a17:906:fcae:: with SMTP id
 qw14mr27916228ejb.537.1602493081948; 
 Mon, 12 Oct 2020 01:58:01 -0700 (PDT)
Received: from ?IPv6:2a02:908:1252:fb60:be8a:bd56:1f94:86e7?
 ([2a02:908:1252:fb60:be8a:bd56:1f94:86e7])
 by smtp.gmail.com with ESMTPSA id o11sm10209697ejd.60.2020.10.12.01.58.01
 for <dri-devel@lists.freedesktop.org>
 (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
 Mon, 12 Oct 2020 01:58:01 -0700 (PDT)
Subject: Re: [PATCH 1/4] drm/ttm: set the tt caching state at creation time
From: =?UTF-8?Q?Christian_K=c3=b6nig?= <ckoenig.leichtzumerken@gmail.com>
To: dri-devel@lists.freedesktop.org
References: <20201008093154.2991-1-christian.koenig@amd.com>
Message-ID: <a40e5ba8-4710-6902-3e58-aacc0f817155@gmail.com>
Date: Mon, 12 Oct 2020 10:57:57 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101
 Thunderbird/68.10.0
MIME-Version: 1.0
In-Reply-To: <20201008093154.2991-1-christian.koenig@amd.com>
Content-Language: en-US
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

UGluZz8gQW55Ym9keSBhbnkgbW9yZSBjb21tZW50cyBvbiB0aGlzPwoKT3RoZXJ3aXNlIEknbSBn
b2luZyB0byBwdXNoIGl0IHRvIGRybS1taXNjLW5leHQgYnkgdG9tb3Jyb3cgb3Igc28uCgpUaGFu
a3MsCkNocmlzdGlhbi4KCkFtIDA4LjEwLjIwIHVtIDExOjMxIHNjaHJpZWIgQ2hyaXN0aWFuIEvD
tm5pZzoKPiBBbGwgZHJpdmVycyBjYW4gZGV0ZXJtaW5lIHRoZSB0dCBjYWNoaW5nIHN0YXRlIGF0
IGNyZWF0aW9uIHRpbWUsCj4gbm8gbmVlZCB0byBkbyB0aGlzIG9uIHRoZSBmbHkgZHVyaW5nIGV2
ZXJ5IHZhbGlkYXRpb24uCj4KPiBTaWduZWQtb2ZmLWJ5OiBDaHJpc3RpYW4gS8O2bmlnIDxjaHJp
c3RpYW4ua29lbmlnQGFtZC5jb20+Cj4gUmV2aWV3ZWQtYnk6IE1pY2hhZWwgSi4gUnVobCA8bWlj
aGFlbC5qLnJ1aGxAaW50ZWwuY29tPgo+IC0tLQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X2dtYy5jICAgIHwgIDIgKy0KPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2FtZGdwdV90dG0uYyAgICB8IDExICsrKysrLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9kcm1fZ2Vt
X3ZyYW1faGVscGVyLmMgICAgICB8ICAyICstCj4gICBkcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9u
b3V2ZWF1X3NnZG1hLmMgICAgfCAxMyArKysrKysrKy0KPiAgIGRyaXZlcnMvZ3B1L2RybS9xeGwv
cXhsX3R0bS5jICAgICAgICAgICAgICB8ICAyICstCj4gICBkcml2ZXJzL2dwdS9kcm0vcmFkZW9u
L3JhZGVvbl90dG0uYyAgICAgICAgfCAxNiArKysrKysrKy0tCj4gICBkcml2ZXJzL2dwdS9kcm0v
dHRtL3R0bV9hZ3BfYmFja2VuZC5jICAgICAgfCAgMiArLQo+ICAgZHJpdmVycy9ncHUvZHJtL3R0
bS90dG1fcGFnZV9hbGxvYy5jICAgICAgIHwgMjYgKysrKysrKystLS0tLS0tLS0KPiAgIGRyaXZl
cnMvZ3B1L2RybS90dG0vdHRtX3BhZ2VfYWxsb2NfZG1hLmMgICB8IDIwICsrKysrKy0tLS0tLS0K
PiAgIGRyaXZlcnMvZ3B1L2RybS90dG0vdHRtX3R0LmMgICAgICAgICAgICAgICB8IDMzICsrKysr
KysrKysrLS0tLS0tLS0tLQo+ICAgZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfdHRtX2J1
ZmZlci5jIHwgIDYgKystLQo+ICAgaW5jbHVkZS9kcm0vdHRtL3R0bV9jYWNoaW5nLmggICAgICAg
ICAgICAgIHwgMzQgKysrKysrKysrKysrKysrKysrKysrKwo+ICAgaW5jbHVkZS9kcm0vdHRtL3R0
bV90dC5oICAgICAgICAgICAgICAgICAgIHwgMTYgKysrKy0tLS0tLQo+ICAgMTMgZmlsZXMgY2hh
bmdlZCwgMTIzIGluc2VydGlvbnMoKyksIDYwIGRlbGV0aW9ucygtKQo+ICAgY3JlYXRlIG1vZGUg
MTAwNjQ0IGluY2x1ZGUvZHJtL3R0bS90dG1fY2FjaGluZy5oCj4KPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dtYy5jIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvYW1kZ3B1X2dtYy5jCj4gaW5kZXggMjEzZWYwOTBiYjBlLi4zYzVhZDY5ZWZmMTkg
MTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dtYy5jCj4g
KysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dtYy5jCj4gQEAgLTEyNCw3
ICsxMjQsNyBAQCB1aW50NjRfdCBhbWRncHVfZ21jX2FncF9hZGRyKHN0cnVjdCB0dG1fYnVmZmVy
X29iamVjdCAqYm8pCj4gICAJc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSBhbWRncHVfdHRt
X2FkZXYoYm8tPmJkZXYpOwo+ICAgCXN0cnVjdCB0dG1fZG1hX3R0ICp0dG07Cj4gICAKPiAtCWlm
IChiby0+bnVtX3BhZ2VzICE9IDEgfHwgYm8tPnR0bS0+Y2FjaGluZ19zdGF0ZSA9PSB0dF9jYWNo
ZWQpCj4gKwlpZiAoYm8tPm51bV9wYWdlcyAhPSAxIHx8IGJvLT50dG0tPmNhY2hpbmcgPT0gdHRt
X2NhY2hlZCkKPiAgIAkJcmV0dXJuIEFNREdQVV9CT19JTlZBTElEX09GRlNFVDsKPiAgIAo+ICAg
CXR0bSA9IGNvbnRhaW5lcl9vZihiby0+dHRtLCBzdHJ1Y3QgdHRtX2RtYV90dCwgdHRtKTsKPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3R0bS5jIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3R0bS5jCj4gaW5kZXggMzk5OTYxMDM1YWU2
Li43ZjQxYTQ3ZTczNTMgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
YW1kZ3B1X3R0bS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3R0
bS5jCj4gQEAgLTEyOTIsNyArMTI5Miw5IEBAIHN0YXRpYyB2b2lkIGFtZGdwdV90dG1fYmFja2Vu
ZF9kZXN0cm95KHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICAgc3RhdGljIHN0cnVjdCB0
dG1fdHQgKmFtZGdwdV90dG1fdHRfY3JlYXRlKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8s
Cj4gICAJCQkJCSAgIHVpbnQzMl90IHBhZ2VfZmxhZ3MpCj4gICB7Cj4gKwlzdHJ1Y3QgYW1kZ3B1
X2JvICphYm8gPSB0dG1fdG9fYW1kZ3B1X2JvKGJvKTsKPiAgIAlzdHJ1Y3QgYW1kZ3B1X3R0bV90
dCAqZ3R0Owo+ICsJZW51bSB0dG1fY2FjaGluZyBjYWNoaW5nOwo+ICAgCj4gICAJZ3R0ID0ga3ph
bGxvYyhzaXplb2Yoc3RydWN0IGFtZGdwdV90dG1fdHQpLCBHRlBfS0VSTkVMKTsKPiAgIAlpZiAo
Z3R0ID09IE5VTEwpIHsKPiBAQCAtMTMwMCw4ICsxMzAyLDEzIEBAIHN0YXRpYyBzdHJ1Y3QgdHRt
X3R0ICphbWRncHVfdHRtX3R0X2NyZWF0ZShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+
ICAgCX0KPiAgIAlndHQtPmdvYmogPSAmYm8tPmJhc2U7Cj4gICAKPiArCWlmIChhYm8tPmZsYWdz
ICYgQU1ER1BVX0dFTV9DUkVBVEVfQ1BVX0dUVF9VU1dDKQo+ICsJCWNhY2hpbmcgPSB0dG1fd3Jp
dGVfY29tYmluZWQ7Cj4gKwllbHNlCj4gKwkJY2FjaGluZyA9IHR0bV9jYWNoZWQ7Cj4gKwo+ICAg
CS8qIGFsbG9jYXRlIHNwYWNlIGZvciB0aGUgdW5pbml0aWFsaXplZCBwYWdlIGVudHJpZXMgKi8K
PiAtCWlmICh0dG1fc2dfdHRfaW5pdCgmZ3R0LT50dG0sIGJvLCBwYWdlX2ZsYWdzKSkgewo+ICsJ
aWYgKHR0bV9zZ190dF9pbml0KCZndHQtPnR0bSwgYm8sIHBhZ2VfZmxhZ3MsIGNhY2hpbmcpKSB7
Cj4gICAJCWtmcmVlKGd0dCk7Cj4gICAJCXJldHVybiBOVUxMOwo+ICAgCX0KPiBAQCAtMTUyNSw3
ICsxNTMyLDcgQEAgdWludDY0X3QgYW1kZ3B1X3R0bV90dF9wZGVfZmxhZ3Moc3RydWN0IHR0bV90
dCAqdHRtLCBzdHJ1Y3QgdHRtX3Jlc291cmNlICptZW0pCj4gICAJaWYgKG1lbSAmJiBtZW0tPm1l
bV90eXBlID09IFRUTV9QTF9UVCkgewo+ICAgCQlmbGFncyB8PSBBTURHUFVfUFRFX1NZU1RFTTsK
PiAgIAo+IC0JCWlmICh0dG0tPmNhY2hpbmdfc3RhdGUgPT0gdHRfY2FjaGVkKQo+ICsJCWlmICh0
dG0tPmNhY2hpbmcgPT0gdHRtX2NhY2hlZCkKPiAgIAkJCWZsYWdzIHw9IEFNREdQVV9QVEVfU05P
T1BFRDsKPiAgIAl9Cj4gICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2RybV9nZW1f
dnJhbV9oZWxwZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fZ2VtX3ZyYW1faGVscGVyLmMKPiBp
bmRleCAzMjEzNDI5Zjg0NDQuLmFkNThkMGFmNTE0MSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dw
dS9kcm0vZHJtX2dlbV92cmFtX2hlbHBlci5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2RybV9n
ZW1fdnJhbV9oZWxwZXIuYwo+IEBAIC05MTgsNyArOTE4LDcgQEAgc3RhdGljIHN0cnVjdCB0dG1f
dHQgKmJvX2RyaXZlcl90dG1fdHRfY3JlYXRlKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8s
Cj4gICAJaWYgKCF0dCkKPiAgIAkJcmV0dXJuIE5VTEw7Cj4gICAKPiAtCXJldCA9IHR0bV90dF9p
bml0KHR0LCBibywgcGFnZV9mbGFncyk7Cj4gKwlyZXQgPSB0dG1fdHRfaW5pdCh0dCwgYm8sIHBh
Z2VfZmxhZ3MsIHR0bV9jYWNoZWQpOwo+ICAgCWlmIChyZXQgPCAwKQo+ICAgCQlnb3RvIGVycl90
dG1fdHRfaW5pdDsKPiAgIAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9u
b3V2ZWF1X3NnZG1hLmMgYi9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X3NnZG1hLmMK
PiBpbmRleCA4MDZkOWVjMzEwZjUuLmNkNmZkZWJhZTc5NSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X3NnZG1hLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
bm91dmVhdS9ub3V2ZWF1X3NnZG1hLmMKPiBAQCAtNSw2ICs1LDcgQEAKPiAgICNpbmNsdWRlICJu
b3V2ZWF1X2Rydi5oIgo+ICAgI2luY2x1ZGUgIm5vdXZlYXVfbWVtLmgiCj4gICAjaW5jbHVkZSAi
bm91dmVhdV90dG0uaCIKPiArI2luY2x1ZGUgIm5vdXZlYXVfYm8uaCIKPiAgIAo+ICAgc3RydWN0
IG5vdXZlYXVfc2dkbWFfYmUgewo+ICAgCS8qIHRoaXMgaGFzIHRvIGJlIHRoZSBmaXJzdCBmaWVs
ZCBzbyBwb3B1bGF0ZS91bnBvcHVsYXRlZCBpbgo+IEBAIC02NywxMyArNjgsMjMgQEAgbm91dmVh
dV9zZ2RtYV91bmJpbmQoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQg
KnR0bSkKPiAgIHN0cnVjdCB0dG1fdHQgKgo+ICAgbm91dmVhdV9zZ2RtYV9jcmVhdGVfdHRtKHN0
cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sIHVpbnQzMl90IHBhZ2VfZmxhZ3MpCj4gICB7Cj4g
KwlzdHJ1Y3Qgbm91dmVhdV9kcm0gKmRybSA9IG5vdXZlYXVfYmRldihiby0+YmRldik7Cj4gKwlz
dHJ1Y3Qgbm91dmVhdV9ibyAqbnZibyA9IG5vdXZlYXVfYm8oYm8pOwo+ICAgCXN0cnVjdCBub3V2
ZWF1X3NnZG1hX2JlICpudmJlOwo+ICsJZW51bSB0dG1fY2FjaGluZyBjYWNoaW5nOwo+ICsKPiAr
CWlmIChudmJvLT5mb3JjZV9jb2hlcmVudCkKPiArCQljYWNoaW5nID0gdHRtX3VuY2FjaGVkOwo+
ICsJZWxzZSBpZiAoZHJtLT5hZ3AuYnJpZGdlKQo+ICsJCWNhY2hpbmcgPSB0dG1fd3JpdGVfY29t
YmluZWQ7Cj4gKwllbHNlCj4gKwkJY2FjaGluZyA9IHR0bV9jYWNoZWQ7Cj4gICAKPiAgIAludmJl
ID0ga3phbGxvYyhzaXplb2YoKm52YmUpLCBHRlBfS0VSTkVMKTsKPiAgIAlpZiAoIW52YmUpCj4g
ICAJCXJldHVybiBOVUxMOwo+ICAgCj4gLQlpZiAodHRtX2RtYV90dF9pbml0KCZudmJlLT50dG0s
IGJvLCBwYWdlX2ZsYWdzKSkgewo+ICsJaWYgKHR0bV9kbWFfdHRfaW5pdCgmbnZiZS0+dHRtLCBi
bywgcGFnZV9mbGFncywgY2FjaGluZykpIHsKPiAgIAkJa2ZyZWUobnZiZSk7Cj4gICAJCXJldHVy
biBOVUxMOwo+ICAgCX0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3F4bC9xeGxfdHRt
LmMgYi9kcml2ZXJzL2dwdS9kcm0vcXhsL3F4bF90dG0uYwo+IGluZGV4IDY2OWJjZWI1ODIwNS4u
ZjUwODYzNDkzZjY0IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9xeGwvcXhsX3R0bS5j
Cj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3F4bC9xeGxfdHRtLmMKPiBAQCAtMTMzLDcgKzEzMyw3
IEBAIHN0YXRpYyBzdHJ1Y3QgdHRtX3R0ICpxeGxfdHRtX3R0X2NyZWF0ZShzdHJ1Y3QgdHRtX2J1
ZmZlcl9vYmplY3QgKmJvLAo+ICAgCXR0bSA9IGt6YWxsb2Moc2l6ZW9mKHN0cnVjdCB0dG1fdHQp
LCBHRlBfS0VSTkVMKTsKPiAgIAlpZiAodHRtID09IE5VTEwpCj4gICAJCXJldHVybiBOVUxMOwo+
IC0JaWYgKHR0bV90dF9pbml0KHR0bSwgYm8sIHBhZ2VfZmxhZ3MpKSB7Cj4gKwlpZiAodHRtX3R0
X2luaXQodHRtLCBibywgcGFnZV9mbGFncywgdHRtX2NhY2hlZCkpIHsKPiAgIAkJa2ZyZWUodHRt
KTsKPiAgIAkJcmV0dXJuIE5VTEw7Cj4gICAJfQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vcmFkZW9uL3JhZGVvbl90dG0uYyBiL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFkZW9uX3R0
bS5jCj4gaW5kZXggNjNlMzhiMDVhNWJjLi4xMzBhN2NlYTM1YzMgMTAwNjQ0Cj4gLS0tIGEvZHJp
dmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fdHRtLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
cmFkZW9uL3JhZGVvbl90dG0uYwo+IEBAIC01NDYsNyArNTQ2LDcgQEAgc3RhdGljIGludCByYWRl
b25fdHRtX2JhY2tlbmRfYmluZChzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiAgIAkJV0FS
TigxLCAibm90aGluZyB0byBiaW5kICVsdSBwYWdlcyBmb3IgbXJlZyAlcCBiYWNrICVwIVxuIiwK
PiAgIAkJICAgICB0dG0tPm51bV9wYWdlcywgYm9fbWVtLCB0dG0pOwo+ICAgCX0KPiAtCWlmICh0
dG0tPmNhY2hpbmdfc3RhdGUgPT0gdHRfY2FjaGVkKQo+ICsJaWYgKHR0bS0+Y2FjaGluZyA9PSB0
dG1fY2FjaGVkKQo+ICAgCQlmbGFncyB8PSBSQURFT05fR0FSVF9QQUdFX1NOT09QOwo+ICAgCXIg
PSByYWRlb25fZ2FydF9iaW5kKHJkZXYsIGd0dC0+b2Zmc2V0LCB0dG0tPm51bV9wYWdlcywKPiAg
IAkJCSAgICAgdHRtLT5wYWdlcywgZ3R0LT50dG0uZG1hX2FkZHJlc3MsIGZsYWdzKTsKPiBAQCAt
NTkwLDYgKzU5MCwxMCBAQCBzdGF0aWMgc3RydWN0IHR0bV90dCAqcmFkZW9uX3R0bV90dF9jcmVh
dGUoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAgIHsKPiAgIAlzdHJ1Y3QgcmFkZW9u
X2RldmljZSAqcmRldjsKPiAgIAlzdHJ1Y3QgcmFkZW9uX3R0bV90dCAqZ3R0Owo+ICsJZW51bSB0
dG1fY2FjaGluZyBjYWNoaW5nOwo+ICsJc3RydWN0IHJhZGVvbl9ibyAqcmJvOwo+ICsKPiArCXJi
byA9IGNvbnRhaW5lcl9vZihibywgc3RydWN0IHJhZGVvbl9ibywgdGJvKTsKPiAgIAo+ICAgCXJk
ZXYgPSByYWRlb25fZ2V0X3JkZXYoYm8tPmJkZXYpOwo+ICAgI2lmIElTX0VOQUJMRUQoQ09ORklH
X0FHUCkKPiBAQCAtNjAzLDcgKzYwNywxNSBAQCBzdGF0aWMgc3RydWN0IHR0bV90dCAqcmFkZW9u
X3R0bV90dF9jcmVhdGUoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAgIAlpZiAoZ3R0
ID09IE5VTEwpIHsKPiAgIAkJcmV0dXJuIE5VTEw7Cj4gICAJfQo+IC0JaWYgKHR0bV9kbWFfdHRf
aW5pdCgmZ3R0LT50dG0sIGJvLCBwYWdlX2ZsYWdzKSkgewo+ICsKPiArCWlmIChyYm8tPmZsYWdz
ICYgUkFERU9OX0dFTV9HVFRfVUMpCj4gKwkJY2FjaGluZyA9IHR0bV91bmNhY2hlZDsKPiArCWVs
c2UgaWYgKHJiby0+ZmxhZ3MgJiBSQURFT05fR0VNX0dUVF9XQykKPiArCQljYWNoaW5nID0gdHRt
X3dyaXRlX2NvbWJpbmVkOwo+ICsJZWxzZQo+ICsJCWNhY2hpbmcgPSB0dG1fY2FjaGVkOwo+ICsK
PiArCWlmICh0dG1fZG1hX3R0X2luaXQoJmd0dC0+dHRtLCBibywgcGFnZV9mbGFncywgY2FjaGlu
ZykpIHsKPiAgIAkJa2ZyZWUoZ3R0KTsKPiAgIAkJcmV0dXJuIE5VTEw7Cj4gICAJfQo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9hZ3BfYmFja2VuZC5jIGIvZHJpdmVycy9n
cHUvZHJtL3R0bS90dG1fYWdwX2JhY2tlbmQuYwo+IGluZGV4IGE5OGZkNzk1Yjc1Mi4uYTcyMzA2
MmQzN2U3IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2FncF9iYWNrZW5k
LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9hZ3BfYmFja2VuZC5jCj4gQEAgLTEz
Niw3ICsxMzYsNyBAQCBzdHJ1Y3QgdHRtX3R0ICp0dG1fYWdwX3R0X2NyZWF0ZShzdHJ1Y3QgdHRt
X2J1ZmZlcl9vYmplY3QgKmJvLAo+ICAgCWFncF9iZS0+bWVtID0gTlVMTDsKPiAgIAlhZ3BfYmUt
PmJyaWRnZSA9IGJyaWRnZTsKPiAgIAo+IC0JaWYgKHR0bV90dF9pbml0KCZhZ3BfYmUtPnR0bSwg
Ym8sIHBhZ2VfZmxhZ3MpKSB7Cj4gKwlpZiAodHRtX3R0X2luaXQoJmFncF9iZS0+dHRtLCBibywg
cGFnZV9mbGFncywgdHRtX3dyaXRlX2NvbWJpbmVkKSkgewo+ICAgCQlrZnJlZShhZ3BfYmUpOwo+
ICAgCQlyZXR1cm4gTlVMTDsKPiAgIAl9Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS90
dG0vdHRtX3BhZ2VfYWxsb2MuYyBiL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX3BhZ2VfYWxsb2Mu
Ywo+IGluZGV4IDExMTAzMWNiYjZkZi4uYzhmNjc5MDk2MmI5IDEwMDY0NAo+IC0tLSBhL2RyaXZl
cnMvZ3B1L2RybS90dG0vdHRtX3BhZ2VfYWxsb2MuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS90
dG0vdHRtX3BhZ2VfYWxsb2MuYwo+IEBAIC0yMjAsMTQgKzIyMCwxNCBAQCBzdGF0aWMgc3RydWN0
IHR0bV9wb29sX21hbmFnZXIgKl9tYW5hZ2VyOwo+ICAgLyoqCj4gICAgKiBTZWxlY3QgdGhlIHJp
Z2h0IHBvb2wgb3IgcmVxdWVzdGVkIGNhY2hpbmcgc3RhdGUgYW5kIHR0bSBmbGFncy4gKi8KPiAg
IHN0YXRpYyBzdHJ1Y3QgdHRtX3BhZ2VfcG9vbCAqdHRtX2dldF9wb29sKGludCBmbGFncywgYm9v
bCBodWdlLAo+IC0JCQkJCSAgZW51bSB0dG1fY2FjaGluZ19zdGF0ZSBjc3RhdGUpCj4gKwkJCQkJ
ICBlbnVtIHR0bV9jYWNoaW5nIGNzdGF0ZSkKPiAgIHsKPiAgIAlpbnQgcG9vbF9pbmRleDsKPiAg
IAo+IC0JaWYgKGNzdGF0ZSA9PSB0dF9jYWNoZWQpCj4gKwlpZiAoY3N0YXRlID09IHR0bV9jYWNo
ZWQpCj4gICAJCXJldHVybiBOVUxMOwo+ICAgCj4gLQlpZiAoY3N0YXRlID09IHR0X3djKQo+ICsJ
aWYgKGNzdGF0ZSA9PSB0dG1fd3JpdGVfY29tYmluZWQpCj4gICAJCXBvb2xfaW5kZXggPSAweDA7
Cj4gICAJZWxzZQo+ICAgCQlwb29sX2luZGV4ID0gMHgxOwo+IEBAIC00NDEsMTcgKzQ0MSwxNyBA
QCBzdGF0aWMgdm9pZCB0dG1fcG9vbF9tbV9zaHJpbmtfZmluaShzdHJ1Y3QgdHRtX3Bvb2xfbWFu
YWdlciAqbWFuYWdlcikKPiAgIH0KPiAgIAo+ICAgc3RhdGljIGludCB0dG1fc2V0X3BhZ2VzX2Nh
Y2hpbmcoc3RydWN0IHBhZ2UgKipwYWdlcywKPiAtCQllbnVtIHR0bV9jYWNoaW5nX3N0YXRlIGNz
dGF0ZSwgdW5zaWduZWQgY3BhZ2VzKQo+ICsJCWVudW0gdHRtX2NhY2hpbmcgY3N0YXRlLCB1bnNp
Z25lZCBjcGFnZXMpCj4gICB7Cj4gICAJaW50IHIgPSAwOwo+ICAgCS8qIFNldCBwYWdlIGNhY2hp
bmcgKi8KPiAgIAlzd2l0Y2ggKGNzdGF0ZSkgewo+IC0JY2FzZSB0dF91bmNhY2hlZDoKPiArCWNh
c2UgdHRtX3VuY2FjaGVkOgo+ICAgCQlyID0gdHRtX3NldF9wYWdlc19hcnJheV91YyhwYWdlcywg
Y3BhZ2VzKTsKPiAgIAkJaWYgKHIpCj4gICAJCQlwcl9lcnIoIkZhaWxlZCB0byBzZXQgJWQgcGFn
ZXMgdG8gdWMhXG4iLCBjcGFnZXMpOwo+ICAgCQlicmVhazsKPiAtCWNhc2UgdHRfd2M6Cj4gKwlj
YXNlIHR0bV93cml0ZV9jb21iaW5lZDoKPiAgIAkJciA9IHR0bV9zZXRfcGFnZXNfYXJyYXlfd2Mo
cGFnZXMsIGNwYWdlcyk7Cj4gICAJCWlmIChyKQo+ICAgCQkJcHJfZXJyKCJGYWlsZWQgdG8gc2V0
ICVkIHBhZ2VzIHRvIHdjIVxuIiwgY3BhZ2VzKTsKPiBAQCAtNDg2LDcgKzQ4Niw3IEBAIHN0YXRp
YyB2b2lkIHR0bV9oYW5kbGVfY2FjaGluZ19mYWlsdXJlKHN0cnVjdCBwYWdlICoqZmFpbGVkX3Bh
Z2VzLAo+ICAgICogcGFnZXMgcmV0dXJuZWQgaW4gcGFnZXMgYXJyYXkuCj4gICAgKi8KPiAgIHN0
YXRpYyBpbnQgdHRtX2FsbG9jX25ld19wYWdlcyhzdHJ1Y3QgbGlzdF9oZWFkICpwYWdlcywgZ2Zw
X3QgZ2ZwX2ZsYWdzLAo+IC0JCQkgICAgICAgaW50IHR0bV9mbGFncywgZW51bSB0dG1fY2FjaGlu
Z19zdGF0ZSBjc3RhdGUsCj4gKwkJCSAgICAgICBpbnQgdHRtX2ZsYWdzLCBlbnVtIHR0bV9jYWNo
aW5nIGNzdGF0ZSwKPiAgIAkJCSAgICAgICB1bnNpZ25lZCBjb3VudCwgdW5zaWduZWQgb3JkZXIp
Cj4gICB7Cj4gICAJc3RydWN0IHBhZ2UgKipjYWNoaW5nX2FycmF5Owo+IEBAIC01NjYsNyArNTY2
LDcgQEAgc3RhdGljIGludCB0dG1fYWxsb2NfbmV3X3BhZ2VzKHN0cnVjdCBsaXN0X2hlYWQgKnBh
Z2VzLCBnZnBfdCBnZnBfZmxhZ3MsCj4gICAgKiBwYWdlcyBpcyBzbWFsbC4KPiAgICAqLwo+ICAg
c3RhdGljIHZvaWQgdHRtX3BhZ2VfcG9vbF9maWxsX2xvY2tlZChzdHJ1Y3QgdHRtX3BhZ2VfcG9v
bCAqcG9vbCwgaW50IHR0bV9mbGFncywKPiAtCQkJCSAgICAgIGVudW0gdHRtX2NhY2hpbmdfc3Rh
dGUgY3N0YXRlLAo+ICsJCQkJICAgICAgZW51bSB0dG1fY2FjaGluZyBjc3RhdGUsCj4gICAJCQkJ
ICAgICAgdW5zaWduZWQgY291bnQsIHVuc2lnbmVkIGxvbmcgKmlycV9mbGFncykKPiAgIHsKPiAg
IAlzdHJ1Y3QgcGFnZSAqcDsKPiBAQCAtNjI2LDcgKzYyNiw3IEBAIHN0YXRpYyB2b2lkIHR0bV9w
YWdlX3Bvb2xfZmlsbF9sb2NrZWQoc3RydWN0IHR0bV9wYWdlX3Bvb2wgKnBvb2wsIGludCB0dG1f
ZmxhZ3MsCj4gICBzdGF0aWMgaW50IHR0bV9wYWdlX3Bvb2xfZ2V0X3BhZ2VzKHN0cnVjdCB0dG1f
cGFnZV9wb29sICpwb29sLAo+ICAgCQkJCSAgIHN0cnVjdCBsaXN0X2hlYWQgKnBhZ2VzLAo+ICAg
CQkJCSAgIGludCB0dG1fZmxhZ3MsCj4gLQkJCQkgICBlbnVtIHR0bV9jYWNoaW5nX3N0YXRlIGNz
dGF0ZSwKPiArCQkJCSAgIGVudW0gdHRtX2NhY2hpbmcgY3N0YXRlLAo+ICAgCQkJCSAgIHVuc2ln
bmVkIGNvdW50LCB1bnNpZ25lZCBvcmRlcikKPiAgIHsKPiAgIAl1bnNpZ25lZCBsb25nIGlycV9m
bGFnczsKPiBAQCAtNzAzLDcgKzcwMyw3IEBAIHN0YXRpYyBpbnQgdHRtX3BhZ2VfcG9vbF9nZXRf
cGFnZXMoc3RydWN0IHR0bV9wYWdlX3Bvb2wgKnBvb2wsCj4gICAKPiAgIC8qIFB1dCBhbGwgcGFn
ZXMgaW4gcGFnZXMgbGlzdCB0byBjb3JyZWN0IHBvb2wgdG8gd2FpdCBmb3IgcmV1c2UgKi8KPiAg
IHN0YXRpYyB2b2lkIHR0bV9wdXRfcGFnZXMoc3RydWN0IHBhZ2UgKipwYWdlcywgdW5zaWduZWQg
bnBhZ2VzLCBpbnQgZmxhZ3MsCj4gLQkJCSAgZW51bSB0dG1fY2FjaGluZ19zdGF0ZSBjc3RhdGUp
Cj4gKwkJCSAgZW51bSB0dG1fY2FjaGluZyBjc3RhdGUpCj4gICB7Cj4gICAJc3RydWN0IHR0bV9w
YWdlX3Bvb2wgKnBvb2wgPSB0dG1fZ2V0X3Bvb2woZmxhZ3MsIGZhbHNlLCBjc3RhdGUpOwo+ICAg
I2lmZGVmIENPTkZJR19UUkFOU1BBUkVOVF9IVUdFUEFHRQo+IEBAIC04MjEsNyArODIxLDcgQEAg
c3RhdGljIHZvaWQgdHRtX3B1dF9wYWdlcyhzdHJ1Y3QgcGFnZSAqKnBhZ2VzLCB1bnNpZ25lZCBu
cGFnZXMsIGludCBmbGFncywKPiAgICAqIGNhY2hlZCBwYWdlcy4KPiAgICAqLwo+ICAgc3RhdGlj
IGludCB0dG1fZ2V0X3BhZ2VzKHN0cnVjdCBwYWdlICoqcGFnZXMsIHVuc2lnbmVkIG5wYWdlcywg
aW50IGZsYWdzLAo+IC0JCQkgZW51bSB0dG1fY2FjaGluZ19zdGF0ZSBjc3RhdGUpCj4gKwkJCSBl
bnVtIHR0bV9jYWNoaW5nIGNzdGF0ZSkKPiAgIHsKPiAgIAlzdHJ1Y3QgdHRtX3BhZ2VfcG9vbCAq
cG9vbCA9IHR0bV9nZXRfcG9vbChmbGFncywgZmFsc2UsIGNzdGF0ZSk7Cj4gICAjaWZkZWYgQ09O
RklHX1RSQU5TUEFSRU5UX0hVR0VQQUdFCj4gQEAgLTEwNDAsNyArMTA0MCw3IEBAIHR0bV9wb29s
X3VucG9wdWxhdGVfaGVscGVyKHN0cnVjdCB0dG1fdHQgKnR0bSwgdW5zaWduZWQgbWVtX2NvdW50
X3VwZGF0ZSkKPiAgIAo+ICAgcHV0X3BhZ2VzOgo+ICAgCXR0bV9wdXRfcGFnZXModHRtLT5wYWdl
cywgdHRtLT5udW1fcGFnZXMsIHR0bS0+cGFnZV9mbGFncywKPiAtCQkgICAgICB0dG0tPmNhY2hp
bmdfc3RhdGUpOwo+ICsJCSAgICAgIHR0bS0+Y2FjaGluZyk7Cj4gICAJdHRtX3R0X3NldF91bnBv
cHVsYXRlZCh0dG0pOwo+ICAgfQo+ICAgCj4gQEAgLTEwNTcsNyArMTA1Nyw3IEBAIGludCB0dG1f
cG9vbF9wb3B1bGF0ZShzdHJ1Y3QgdHRtX3R0ICp0dG0sIHN0cnVjdCB0dG1fb3BlcmF0aW9uX2N0
eCAqY3R4KQo+ICAgCQlyZXR1cm4gLUVOT01FTTsKPiAgIAo+ICAgCXJldCA9IHR0bV9nZXRfcGFn
ZXModHRtLT5wYWdlcywgdHRtLT5udW1fcGFnZXMsIHR0bS0+cGFnZV9mbGFncywKPiAtCQkJICAg
IHR0bS0+Y2FjaGluZ19zdGF0ZSk7Cj4gKwkJCSAgICB0dG0tPmNhY2hpbmcpOwo+ICAgCWlmICh1
bmxpa2VseShyZXQgIT0gMCkpIHsKPiAgIAkJdHRtX3Bvb2xfdW5wb3B1bGF0ZV9oZWxwZXIodHRt
LCAwKTsKPiAgIAkJcmV0dXJuIHJldDsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3R0
bS90dG1fcGFnZV9hbGxvY19kbWEuYyBiL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX3BhZ2VfYWxs
b2NfZG1hLmMKPiBpbmRleCAxMDQ1YTVjMjZlZTMuLjY2MjViNDNmNjI1NiAxMDA2NDQKPiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9wYWdlX2FsbG9jX2RtYS5jCj4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL3R0bS90dG1fcGFnZV9hbGxvY19kbWEuYwo+IEBAIC0zMjUsMTUgKzMyNSwxNSBA
QCBzdGF0aWMgc3RydWN0IGRtYV9wYWdlICpfX3R0bV9kbWFfYWxsb2NfcGFnZShzdHJ1Y3QgZG1h
X3Bvb2wgKnBvb2wpCj4gICAJfQo+ICAgCXJldHVybiBkX3BhZ2U7Cj4gICB9Cj4gLXN0YXRpYyBl
bnVtIHBvb2xfdHlwZSB0dG1fdG9fdHlwZShpbnQgZmxhZ3MsIGVudW0gdHRtX2NhY2hpbmdfc3Rh
dGUgY3N0YXRlKQo+ICtzdGF0aWMgZW51bSBwb29sX3R5cGUgdHRtX3RvX3R5cGUoaW50IGZsYWdz
LCBlbnVtIHR0bV9jYWNoaW5nIGNzdGF0ZSkKPiAgIHsKPiAgIAllbnVtIHBvb2xfdHlwZSB0eXBl
ID0gSVNfVU5ERUZJTkVEOwo+ICAgCj4gICAJaWYgKGZsYWdzICYgVFRNX1BBR0VfRkxBR19ETUEz
MikKPiAgIAkJdHlwZSB8PSBJU19ETUEzMjsKPiAtCWlmIChjc3RhdGUgPT0gdHRfY2FjaGVkKQo+
ICsJaWYgKGNzdGF0ZSA9PSB0dG1fY2FjaGVkKQo+ICAgCQl0eXBlIHw9IElTX0NBQ0hFRDsKPiAt
CWVsc2UgaWYgKGNzdGF0ZSA9PSB0dF91bmNhY2hlZCkKPiArCWVsc2UgaWYgKGNzdGF0ZSA9PSB0
dG1fdW5jYWNoZWQpCj4gICAJCXR5cGUgfD0gSVNfVUM7Cj4gICAJZWxzZQo+ICAgCQl0eXBlIHw9
IElTX1dDOwo+IEBAIC02NjMsNyArNjYzLDcgQEAgc3RhdGljIHN0cnVjdCBkbWFfcG9vbCAqdHRt
X2RtYV9maW5kX3Bvb2woc3RydWN0IGRldmljZSAqZGV2LAo+ICAgICogYXJlIHBhZ2VzIHRoYXQg
aGF2ZSBjaGFuZ2VkIHRoZWlyIGNhY2hpbmcgc3RhdGUgYWxyZWFkeSBwdXQgdGhlbSB0byB0aGUK
PiAgICAqIHBvb2wuCj4gICAgKi8KPiAtc3RhdGljIHZvaWQgdHRtX2RtYV9oYW5kbGVfY2FjaGlu
Z19zdGF0ZV9mYWlsdXJlKHN0cnVjdCBkbWFfcG9vbCAqcG9vbCwKPiArc3RhdGljIHZvaWQgdHRt
X2RtYV9oYW5kbGVfY2FjaGluZ19mYWlsdXJlKHN0cnVjdCBkbWFfcG9vbCAqcG9vbCwKPiAgIAkJ
CQkJCSBzdHJ1Y3QgbGlzdF9oZWFkICpkX3BhZ2VzLAo+ICAgCQkJCQkJIHN0cnVjdCBwYWdlICoq
ZmFpbGVkX3BhZ2VzLAo+ICAgCQkJCQkJIHVuc2lnbmVkIGNwYWdlcykKPiBAQCAtNzM0LDcgKzcz
NCw3IEBAIHN0YXRpYyBpbnQgdHRtX2RtYV9wb29sX2FsbG9jX25ld19wYWdlcyhzdHJ1Y3QgZG1h
X3Bvb2wgKnBvb2wsCj4gICAJCQkJciA9IHR0bV9zZXRfcGFnZXNfY2FjaGluZyhwb29sLCBjYWNo
aW5nX2FycmF5LAo+ICAgCQkJCQkJCSAgY3BhZ2VzKTsKPiAgIAkJCQlpZiAocikKPiAtCQkJCQl0
dG1fZG1hX2hhbmRsZV9jYWNoaW5nX3N0YXRlX2ZhaWx1cmUoCj4gKwkJCQkJdHRtX2RtYV9oYW5k
bGVfY2FjaGluZ19mYWlsdXJlKAo+ICAgCQkJCQkJcG9vbCwgZF9wYWdlcywgY2FjaGluZ19hcnJh
eSwKPiAgIAkJCQkJCWNwYWdlcyk7Cj4gICAJCQl9Cj4gQEAgLTc2MCw3ICs3NjAsNyBAQCBzdGF0
aWMgaW50IHR0bV9kbWFfcG9vbF9hbGxvY19uZXdfcGFnZXMoc3RydWN0IGRtYV9wb29sICpwb29s
LAo+ICAgCQkJCXIgPSB0dG1fc2V0X3BhZ2VzX2NhY2hpbmcocG9vbCwgY2FjaGluZ19hcnJheSwK
PiAgIAkJCQkJCQkgIGNwYWdlcyk7Cj4gICAJCQkJaWYgKHIpIHsKPiAtCQkJCQl0dG1fZG1hX2hh
bmRsZV9jYWNoaW5nX3N0YXRlX2ZhaWx1cmUoCj4gKwkJCQkJdHRtX2RtYV9oYW5kbGVfY2FjaGlu
Z19mYWlsdXJlKAo+ICAgCQkJCQkgICAgIHBvb2wsIGRfcGFnZXMsIGNhY2hpbmdfYXJyYXksCj4g
ICAJCQkJCSAgICAgY3BhZ2VzKTsKPiAgIAkJCQkJZ290byBvdXQ7Cj4gQEAgLTc3Myw3ICs3NzMs
NyBAQCBzdGF0aWMgaW50IHR0bV9kbWFfcG9vbF9hbGxvY19uZXdfcGFnZXMoc3RydWN0IGRtYV9w
b29sICpwb29sLAo+ICAgCWlmIChjcGFnZXMpIHsKPiAgIAkJciA9IHR0bV9zZXRfcGFnZXNfY2Fj
aGluZyhwb29sLCBjYWNoaW5nX2FycmF5LCBjcGFnZXMpOwo+ICAgCQlpZiAocikKPiAtCQkJdHRt
X2RtYV9oYW5kbGVfY2FjaGluZ19zdGF0ZV9mYWlsdXJlKHBvb2wsIGRfcGFnZXMsCj4gKwkJCXR0
bV9kbWFfaGFuZGxlX2NhY2hpbmdfZmFpbHVyZShwb29sLCBkX3BhZ2VzLAo+ICAgCQkJCQljYWNo
aW5nX2FycmF5LCBjcGFnZXMpOwo+ICAgCX0KPiAgIG91dDoKPiBAQCAtOTA0LDcgKzkwNCw3IEBA
IGludCB0dG1fZG1hX3BvcHVsYXRlKHN0cnVjdCB0dG1fZG1hX3R0ICp0dG1fZG1hLCBzdHJ1Y3Qg
ZGV2aWNlICpkZXYsCj4gICAJSU5JVF9MSVNUX0hFQUQoJnR0bV9kbWEtPnBhZ2VzX2xpc3QpOwo+
ICAgCWkgPSAwOwo+ICAgCj4gLQl0eXBlID0gdHRtX3RvX3R5cGUodHRtLT5wYWdlX2ZsYWdzLCB0
dG0tPmNhY2hpbmdfc3RhdGUpOwo+ICsJdHlwZSA9IHR0bV90b190eXBlKHR0bS0+cGFnZV9mbGFn
cywgdHRtLT5jYWNoaW5nKTsKPiAgIAo+ICAgI2lmZGVmIENPTkZJR19UUkFOU1BBUkVOVF9IVUdF
UEFHRQo+ICAgCWlmICh0dG0tPnBhZ2VfZmxhZ3MgJiBUVE1fUEFHRV9GTEFHX0RNQTMyKQo+IEBA
IC0xMDAwLDcgKzEwMDAsNyBAQCB2b2lkIHR0bV9kbWFfdW5wb3B1bGF0ZShzdHJ1Y3QgdHRtX2Rt
YV90dCAqdHRtX2RtYSwgc3RydWN0IGRldmljZSAqZGV2KQo+ICAgCXVuc2lnbmVkIGNvdW50LCBp
LCBucGFnZXMgPSAwOwo+ICAgCXVuc2lnbmVkIGxvbmcgaXJxX2ZsYWdzOwo+ICAgCj4gLQl0eXBl
ID0gdHRtX3RvX3R5cGUodHRtLT5wYWdlX2ZsYWdzLCB0dG0tPmNhY2hpbmdfc3RhdGUpOwo+ICsJ
dHlwZSA9IHR0bV90b190eXBlKHR0bS0+cGFnZV9mbGFncywgdHRtLT5jYWNoaW5nKTsKPiAgIAo+
ICAgI2lmZGVmIENPTkZJR19UUkFOU1BBUkVOVF9IVUdFUEFHRQo+ICAgCXBvb2wgPSB0dG1fZG1h
X2ZpbmRfcG9vbChkZXYsIHR5cGUgfCBJU19IVUdFKTsKPiBAQCAtMTAzMiw3ICsxMDMyLDcgQEAg
dm9pZCB0dG1fZG1hX3VucG9wdWxhdGUoc3RydWN0IHR0bV9kbWFfdHQgKnR0bV9kbWEsIHN0cnVj
dCBkZXZpY2UgKmRldikKPiAgIAkJcmV0dXJuOwo+ICAgCj4gICAJaXNfY2FjaGVkID0gKHR0bV9k
bWFfZmluZF9wb29sKHBvb2wtPmRldiwKPiAtCQkgICAgIHR0bV90b190eXBlKHR0bS0+cGFnZV9m
bGFncywgdHRfY2FjaGVkKSkgPT0gcG9vbCk7Cj4gKwkJICAgICB0dG1fdG9fdHlwZSh0dG0tPnBh
Z2VfZmxhZ3MsIHR0bV9jYWNoZWQpKSA9PSBwb29sKTsKPiAgIAo+ICAgCS8qIG1ha2Ugc3VyZSBw
YWdlcyBhcnJheSBtYXRjaCBsaXN0IGFuZCBjb3VudCBudW1iZXIgb2YgcGFnZXMgKi8KPiAgIAlj
b3VudCA9IDA7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX3R0LmMgYi9k
cml2ZXJzL2dwdS9kcm0vdHRtL3R0bV90dC5jCj4gaW5kZXggMjNlOTYwNGJjOTI0Li5hNDY1ZjUx
ZGYwMjcgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fdHQuYwo+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX3R0LmMKPiBAQCAtMTE0LDMxICsxMTQsMzAgQEAgc3Rh
dGljIGludCB0dG1fc2dfdHRfYWxsb2NfcGFnZV9kaXJlY3Rvcnkoc3RydWN0IHR0bV9kbWFfdHQg
KnR0bSkKPiAgIAlyZXR1cm4gMDsKPiAgIH0KPiAgIAo+IC1zdGF0aWMgaW50IHR0bV90dF9zZXRf
Y2FjaGluZyhzdHJ1Y3QgdHRtX3R0ICp0dG0sCj4gLQkJCSAgICAgIGVudW0gdHRtX2NhY2hpbmdf
c3RhdGUgY19zdGF0ZSkKPiArc3RhdGljIGludCB0dG1fdHRfc2V0X2NhY2hpbmcoc3RydWN0IHR0
bV90dCAqdHRtLCBlbnVtIHR0bV9jYWNoaW5nIGNhY2hpbmcpCj4gICB7Cj4gLQlpZiAodHRtLT5j
YWNoaW5nX3N0YXRlID09IGNfc3RhdGUpCj4gKwlpZiAodHRtLT5jYWNoaW5nID09IGNhY2hpbmcp
Cj4gICAJCXJldHVybiAwOwo+ICAgCj4gICAJLyogQ2FuJ3QgY2hhbmdlIHRoZSBjYWNoaW5nIHN0
YXRlIGFmdGVyIFRUIGlzIHBvcHVsYXRlZCAqLwo+ICAgCWlmIChXQVJOX09OX09OQ0UodHRtX3R0
X2lzX3BvcHVsYXRlZCh0dG0pKSkKPiAgIAkJcmV0dXJuIC1FSU5WQUw7Cj4gICAKPiAtCXR0bS0+
Y2FjaGluZ19zdGF0ZSA9IGNfc3RhdGU7Cj4gKwl0dG0tPmNhY2hpbmcgPSBjYWNoaW5nOwo+ICAg
Cj4gICAJcmV0dXJuIDA7Cj4gICB9Cj4gICAKPiAgIGludCB0dG1fdHRfc2V0X3BsYWNlbWVudF9j
YWNoaW5nKHN0cnVjdCB0dG1fdHQgKnR0bSwgdWludDMyX3QgcGxhY2VtZW50KQo+ICAgewo+IC0J
ZW51bSB0dG1fY2FjaGluZ19zdGF0ZSBzdGF0ZTsKPiArCWVudW0gdHRtX2NhY2hpbmcgc3RhdGU7
Cj4gICAKPiAgIAlpZiAocGxhY2VtZW50ICYgVFRNX1BMX0ZMQUdfV0MpCj4gLQkJc3RhdGUgPSB0
dF93YzsKPiArCQlzdGF0ZSA9IHR0bV93cml0ZV9jb21iaW5lZDsKPiAgIAllbHNlIGlmIChwbGFj
ZW1lbnQgJiBUVE1fUExfRkxBR19VTkNBQ0hFRCkKPiAtCQlzdGF0ZSA9IHR0X3VuY2FjaGVkOwo+
ICsJCXN0YXRlID0gdHRtX3VuY2FjaGVkOwo+ICAgCWVsc2UKPiAtCQlzdGF0ZSA9IHR0X2NhY2hl
ZDsKPiArCQlzdGF0ZSA9IHR0bV9jYWNoZWQ7Cj4gICAKPiAgIAlyZXR1cm4gdHRtX3R0X3NldF9j
YWNoaW5nKHR0bSwgc3RhdGUpOwo+ICAgfQo+IEBAIC0xNjIsMjAgKzE2MSwyMiBAQCB2b2lkIHR0
bV90dF9kZXN0cm95KHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0
dG0pCj4gICAKPiAgIHN0YXRpYyB2b2lkIHR0bV90dF9pbml0X2ZpZWxkcyhzdHJ1Y3QgdHRtX3R0
ICp0dG0sCj4gICAJCQkgICAgICAgc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAtCQkJ
ICAgICAgIHVpbnQzMl90IHBhZ2VfZmxhZ3MpCj4gKwkJCSAgICAgICB1aW50MzJfdCBwYWdlX2Zs
YWdzLAo+ICsJCQkgICAgICAgZW51bSB0dG1fY2FjaGluZyBjYWNoaW5nKQo+ICAgewo+ICAgCXR0
bS0+bnVtX3BhZ2VzID0gYm8tPm51bV9wYWdlczsKPiAtCXR0bS0+Y2FjaGluZ19zdGF0ZSA9IHR0
X2NhY2hlZDsKPiArCXR0bS0+Y2FjaGluZyA9IHR0bV9jYWNoZWQ7Cj4gICAJdHRtLT5wYWdlX2Zs
YWdzID0gcGFnZV9mbGFnczsKPiAgIAl0dG1fdHRfc2V0X3VucG9wdWxhdGVkKHR0bSk7Cj4gICAJ
dHRtLT5zd2FwX3N0b3JhZ2UgPSBOVUxMOwo+ICAgCXR0bS0+c2cgPSBiby0+c2c7Cj4gKwl0dG0t
PmNhY2hpbmcgPSBjYWNoaW5nOwo+ICAgfQo+ICAgCj4gICBpbnQgdHRtX3R0X2luaXQoc3RydWN0
IHR0bV90dCAqdHRtLCBzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+IC0JCXVpbnQzMl90
IHBhZ2VfZmxhZ3MpCj4gKwkJdWludDMyX3QgcGFnZV9mbGFncywgZW51bSB0dG1fY2FjaGluZyBj
YWNoaW5nKQo+ICAgewo+IC0JdHRtX3R0X2luaXRfZmllbGRzKHR0bSwgYm8sIHBhZ2VfZmxhZ3Mp
Owo+ICsJdHRtX3R0X2luaXRfZmllbGRzKHR0bSwgYm8sIHBhZ2VfZmxhZ3MsIGNhY2hpbmcpOwo+
ICAgCj4gICAJaWYgKHR0bV90dF9hbGxvY19wYWdlX2RpcmVjdG9yeSh0dG0pKSB7Cj4gICAJCXBy
X2VycigiRmFpbGVkIGFsbG9jYXRpbmcgcGFnZSB0YWJsZVxuIik7Cj4gQEAgLTE5MywxMSArMTk0
LDExIEBAIHZvaWQgdHRtX3R0X2Zpbmkoc3RydWN0IHR0bV90dCAqdHRtKQo+ICAgRVhQT1JUX1NZ
TUJPTCh0dG1fdHRfZmluaSk7Cj4gICAKPiAgIGludCB0dG1fZG1hX3R0X2luaXQoc3RydWN0IHR0
bV9kbWFfdHQgKnR0bV9kbWEsIHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCj4gLQkJICAg
IHVpbnQzMl90IHBhZ2VfZmxhZ3MpCj4gKwkJICAgIHVpbnQzMl90IHBhZ2VfZmxhZ3MsIGVudW0g
dHRtX2NhY2hpbmcgY2FjaGluZykKPiAgIHsKPiAgIAlzdHJ1Y3QgdHRtX3R0ICp0dG0gPSAmdHRt
X2RtYS0+dHRtOwo+ICAgCj4gLQl0dG1fdHRfaW5pdF9maWVsZHModHRtLCBibywgcGFnZV9mbGFn
cyk7Cj4gKwl0dG1fdHRfaW5pdF9maWVsZHModHRtLCBibywgcGFnZV9mbGFncywgY2FjaGluZyk7
Cj4gICAKPiAgIAlJTklUX0xJU1RfSEVBRCgmdHRtX2RtYS0+cGFnZXNfbGlzdCk7Cj4gICAJaWYg
KHR0bV9kbWFfdHRfYWxsb2NfcGFnZV9kaXJlY3RvcnkodHRtX2RtYSkpIHsKPiBAQCAtMjA5LDEy
ICsyMTAsMTIgQEAgaW50IHR0bV9kbWFfdHRfaW5pdChzdHJ1Y3QgdHRtX2RtYV90dCAqdHRtX2Rt
YSwgc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAgIEVYUE9SVF9TWU1CT0wodHRtX2Rt
YV90dF9pbml0KTsKPiAgIAo+ICAgaW50IHR0bV9zZ190dF9pbml0KHN0cnVjdCB0dG1fZG1hX3R0
ICp0dG1fZG1hLCBzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+IC0JCSAgIHVpbnQzMl90
IHBhZ2VfZmxhZ3MpCj4gKwkJICAgdWludDMyX3QgcGFnZV9mbGFncywgZW51bSB0dG1fY2FjaGlu
ZyBjYWNoaW5nKQo+ICAgewo+ICAgCXN0cnVjdCB0dG1fdHQgKnR0bSA9ICZ0dG1fZG1hLT50dG07
Cj4gICAJaW50IHJldDsKPiAgIAo+IC0JdHRtX3R0X2luaXRfZmllbGRzKHR0bSwgYm8sIHBhZ2Vf
ZmxhZ3MpOwo+ICsJdHRtX3R0X2luaXRfZmllbGRzKHR0bSwgYm8sIHBhZ2VfZmxhZ3MsIGNhY2hp
bmcpOwo+ICAgCj4gICAJSU5JVF9MSVNUX0hFQUQoJnR0bV9kbWEtPnBhZ2VzX2xpc3QpOwo+ICAg
CWlmIChwYWdlX2ZsYWdzICYgVFRNX1BBR0VfRkxBR19TRykKPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfdHRtX2J1ZmZlci5jIGIvZHJpdmVycy9ncHUvZHJtL3Zt
d2dmeC92bXdnZnhfdHRtX2J1ZmZlci5jCj4gaW5kZXggN2I1ZmQ1Mjg4ODcwLi4xZmE3Zjk0Mzhl
YzQgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfdHRtX2J1ZmZl
ci5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfdHRtX2J1ZmZlci5jCj4g
QEAgLTY0Nyw5ICs2NDcsMTEgQEAgc3RhdGljIHN0cnVjdCB0dG1fdHQgKnZtd190dG1fdHRfY3Jl
YXRlKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCj4gICAJdm13X2JlLT5tb2IgPSBOVUxM
Owo+ICAgCj4gICAJaWYgKHZtd19iZS0+ZGV2X3ByaXYtPm1hcF9tb2RlID09IHZtd19kbWFfYWxs
b2NfY29oZXJlbnQpCj4gLQkJcmV0ID0gdHRtX2RtYV90dF9pbml0KCZ2bXdfYmUtPmRtYV90dG0s
IGJvLCBwYWdlX2ZsYWdzKTsKPiArCQlyZXQgPSB0dG1fZG1hX3R0X2luaXQoJnZtd19iZS0+ZG1h
X3R0bSwgYm8sIHBhZ2VfZmxhZ3MsCj4gKwkJCQkgICAgICB0dG1fY2FjaGVkKTsKPiAgIAllbHNl
Cj4gLQkJcmV0ID0gdHRtX3R0X2luaXQoJnZtd19iZS0+ZG1hX3R0bS50dG0sIGJvLCBwYWdlX2Zs
YWdzKTsKPiArCQlyZXQgPSB0dG1fdHRfaW5pdCgmdm13X2JlLT5kbWFfdHRtLnR0bSwgYm8sIHBh
Z2VfZmxhZ3MsCj4gKwkJCQkgIHR0bV9jYWNoZWQpOwo+ICAgCWlmICh1bmxpa2VseShyZXQgIT0g
MCkpCj4gICAJCWdvdG8gb3V0X25vX2luaXQ7Cj4gICAKPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9k
cm0vdHRtL3R0bV9jYWNoaW5nLmggYi9pbmNsdWRlL2RybS90dG0vdHRtX2NhY2hpbmcuaAo+IG5l
dyBmaWxlIG1vZGUgMTAwNjQ0Cj4gaW5kZXggMDAwMDAwMDAwMDAwLi4xNjE2MjRkY2Y2YmUKPiAt
LS0gL2Rldi9udWxsCj4gKysrIGIvaW5jbHVkZS9kcm0vdHRtL3R0bV9jYWNoaW5nLmgKPiBAQCAt
MCwwICsxLDM0IEBACj4gKy8qCj4gKyAqIENvcHlyaWdodCAyMDIwIEFkdmFuY2VkIE1pY3JvIERl
dmljZXMsIEluYy4KPiArICoKPiArICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJl
ZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEKPiArICogY29weSBvZiB0aGlz
IHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdh
cmUiKSwKPiArICogdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwg
aW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbgo+ICsgKiB0aGUgcmlnaHRzIHRvIHVzZSwgY29w
eSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwKPiArICog
YW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25z
IHRvIHdob20gdGhlCj4gKyAqIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVj
dCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6Cj4gKyAqCj4gKyAqIFRoZSBhYm92ZSBjb3B5
cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVk
IGluCj4gKyAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3
YXJlLgo+ICsgKgo+ICsgKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9V
VCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUgo+ICsgKiBJTVBMSUVELCBJTkNMVURJ
TkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwK
PiArICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVO
VC4gIElOIE5PIEVWRU5UIFNIQUxMCj4gKyAqIFRIRSBDT1BZUklHSFQgSE9MREVSKFMpIE9SIEFV
VEhPUihTKSBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUgo+ICsgKiBPVEhFUiBM
SUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVS
V0lTRSwKPiArICogQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRI
RSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SCj4gKyAqIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZU
V0FSRS4KPiArICoKPiArICogQXV0aG9yczogQ2hyaXN0aWFuIEvDtm5pZwo+ICsgKi8KPiArCj4g
KyNpZm5kZWYgX1RUTV9DQUNISU5HX0hfCj4gKyNkZWZpbmUgX1RUTV9DQUNISU5HX0hfCj4gKwo+
ICtlbnVtIHR0bV9jYWNoaW5nIHsKPiArCXR0bV91bmNhY2hlZCwKPiArCXR0bV93cml0ZV9jb21i
aW5lZCwKPiArCXR0bV9jYWNoZWQKPiArfTsKPiArCj4gKyNlbmRpZgo+IGRpZmYgLS1naXQgYS9p
bmNsdWRlL2RybS90dG0vdHRtX3R0LmggYi9pbmNsdWRlL2RybS90dG0vdHRtX3R0LmgKPiBpbmRl
eCA1ZDE4MzVkNDQwODQuLmMzOWM3MjJkNTE4NCAxMDA2NDQKPiAtLS0gYS9pbmNsdWRlL2RybS90
dG0vdHRtX3R0LmgKPiArKysgYi9pbmNsdWRlL2RybS90dG0vdHRtX3R0LmgKPiBAQCAtMjgsNiAr
MjgsNyBAQAo+ICAgI2RlZmluZSBfVFRNX1RUX0hfCj4gICAKPiAgICNpbmNsdWRlIDxsaW51eC90
eXBlcy5oPgo+ICsjaW5jbHVkZSA8ZHJtL3R0bS90dG1fY2FjaGluZy5oPgo+ICAgCj4gICBzdHJ1
Y3QgdHRtX3R0Owo+ICAgc3RydWN0IHR0bV9yZXNvdXJjZTsKPiBAQCAtNDIsMTIgKzQzLDYgQEAg
c3RydWN0IHR0bV9vcGVyYXRpb25fY3R4Owo+ICAgCj4gICAjZGVmaW5lIFRUTV9QQUdFX0ZMQUdf
UFJJVl9QT1BVTEFURUQgICgxIDw8IDMxKQo+ICAgCj4gLWVudW0gdHRtX2NhY2hpbmdfc3RhdGUg
ewo+IC0JdHRfdW5jYWNoZWQsCj4gLQl0dF93YywKPiAtCXR0X2NhY2hlZAo+IC19Owo+IC0KPiAg
IC8qKgo+ICAgICogc3RydWN0IHR0bV90dAo+ICAgICoKPiBAQCAtNjksNyArNjQsNyBAQCBzdHJ1
Y3QgdHRtX3R0IHsKPiAgIAl1bnNpZ25lZCBsb25nIG51bV9wYWdlczsKPiAgIAlzdHJ1Y3Qgc2df
dGFibGUgKnNnOyAvKiBmb3IgU0cgb2JqZWN0cyB2aWEgZG1hLWJ1ZiAqLwo+ICAgCXN0cnVjdCBm
aWxlICpzd2FwX3N0b3JhZ2U7Cj4gLQllbnVtIHR0bV9jYWNoaW5nX3N0YXRlIGNhY2hpbmdfc3Rh
dGU7Cj4gKwllbnVtIHR0bV9jYWNoaW5nIGNhY2hpbmc7Cj4gICB9Owo+ICAgCj4gICBzdGF0aWMg
aW5saW5lIGJvb2wgdHRtX3R0X2lzX3BvcHVsYXRlZChzdHJ1Y3QgdHRtX3R0ICp0dCkKPiBAQCAt
MTIxLDYgKzExNiw3IEBAIGludCB0dG1fdHRfY3JlYXRlKHN0cnVjdCB0dG1fYnVmZmVyX29iamVj
dCAqYm8sIGJvb2wgemVyb19hbGxvYyk7Cj4gICAgKiBAdHRtOiBUaGUgc3RydWN0IHR0bV90dC4K
PiAgICAqIEBibzogVGhlIGJ1ZmZlciBvYmplY3Qgd2UgY3JlYXRlIHRoZSB0dG0gZm9yLgo+ICAg
ICogQHBhZ2VfZmxhZ3M6IFBhZ2UgZmxhZ3MgYXMgaWRlbnRpZmllZCBieSBUVE1fUEFHRV9GTEFH
X1hYIGZsYWdzLgo+ICsgKiBAY2FjaGluZzogdGhlIGRlc2lyZWQgY2FjaGluZyBzdGF0ZSBvZiB0
aGUgcGFnZXMKPiAgICAqCj4gICAgKiBDcmVhdGUgYSBzdHJ1Y3QgdHRtX3R0IHRvIGJhY2sgZGF0
YSB3aXRoIHN5c3RlbSBtZW1vcnkgcGFnZXMuCj4gICAgKiBObyBwYWdlcyBhcmUgYWN0dWFsbHkg
YWxsb2NhdGVkLgo+IEBAIC0xMjgsMTEgKzEyNCwxMSBAQCBpbnQgdHRtX3R0X2NyZWF0ZShzdHJ1
Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLCBib29sIHplcm9fYWxsb2MpOwo+ICAgICogTlVMTDog
T3V0IG9mIG1lbW9yeS4KPiAgICAqLwo+ICAgaW50IHR0bV90dF9pbml0KHN0cnVjdCB0dG1fdHQg
KnR0bSwgc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAtCQl1aW50MzJfdCBwYWdlX2Zs
YWdzKTsKPiArCQl1aW50MzJfdCBwYWdlX2ZsYWdzLCBlbnVtIHR0bV9jYWNoaW5nIGNhY2hpbmcp
Owo+ICAgaW50IHR0bV9kbWFfdHRfaW5pdChzdHJ1Y3QgdHRtX2RtYV90dCAqdHRtX2RtYSwgc3Ry
dWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAtCQkgICAgdWludDMyX3QgcGFnZV9mbGFncyk7
Cj4gKwkJICAgIHVpbnQzMl90IHBhZ2VfZmxhZ3MsIGVudW0gdHRtX2NhY2hpbmcgY2FjaGluZyk7
Cj4gICBpbnQgdHRtX3NnX3R0X2luaXQoc3RydWN0IHR0bV9kbWFfdHQgKnR0bV9kbWEsIHN0cnVj
dCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCj4gLQkJICAgdWludDMyX3QgcGFnZV9mbGFncyk7Cj4g
KwkJICAgdWludDMyX3QgcGFnZV9mbGFncywgZW51bSB0dG1fY2FjaGluZyBjYWNoaW5nKTsKPiAg
IAo+ICAgLyoqCj4gICAgKiB0dG1fdHRfZmluaQoKX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vZHJpLWRldmVsCg==
