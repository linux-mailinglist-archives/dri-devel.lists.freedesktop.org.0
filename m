Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 060422C22A
	for <lists+dri-devel@lfdr.de>; Tue, 28 May 2019 11:04:06 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id DC12B89E41;
	Tue, 28 May 2019 09:03:32 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ed1-x541.google.com (mail-ed1-x541.google.com
 [IPv6:2a00:1450:4864:20::541])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 61CC089DF7
 for <dri-devel@lists.freedesktop.org>; Tue, 28 May 2019 09:03:25 +0000 (UTC)
Received: by mail-ed1-x541.google.com with SMTP id g24so2698155eds.9
 for <dri-devel@lists.freedesktop.org>; Tue, 28 May 2019 02:03:25 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=uAUlzla1CFlAG2FjtxoG6FlQGI0ZQGUaINYTuCwsBxA=;
 b=c9jxgNgTV7w9jT1IzTAmXygi8NZC/BNmO/I9GBz/V7DDxM67Kzlb98iMkVherLEDbL
 9Wz3wSCy0QA3ld2Bd03agKiRs6i4NweEYDvBhgZD18RNmpANXl1Lb27JONNFKkol3zfD
 qVnqCUOPCf5YrKmJGTpsPnsArdKErdY8j850MSmCemL+jbu81que9VQhY9vjekUyhBy/
 aKeWokgPUuyUe49Hhc4UiSHYlpjBog8RgUmsKKbtCY1jokCMmy2XbCxFDj8dYwh1yjgs
 0vQzrxzXQYN13yPGx+P+Gp2AoJg4DIxscRKpVtQqGgpJEJPer5TsnA1I6dYjMHD7IfBp
 Lo3A==
X-Gm-Message-State: APjAAAXL70lG29HE/35QqETXUxbnWkMUPpgWZEUB0rYOtjgcGITU25cw
 ZodAEY3mfwvYEctP1L/ehI7+5A==
X-Google-Smtp-Source: APXvYqyQDEAHDoEZtGC2lhd+S40xqvSqiLa/+TcWzwUVFYlfMpuKB+Y3SZCAD4yE4jnk/4TuUIYBYQ==
X-Received: by 2002:a50:ba4b:: with SMTP id 11mr23025614eds.300.1559034203856; 
 Tue, 28 May 2019 02:03:23 -0700 (PDT)
Received: from phenom.ffwll.local ([2a02:168:569e:0:3106:d637:d723:e855])
 by smtp.gmail.com with ESMTPSA id x49sm4072656edm.25.2019.05.28.02.03.21
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Tue, 28 May 2019 02:03:23 -0700 (PDT)
From: Daniel Vetter <daniel.vetter@ffwll.ch>
To: LKML <linux-kernel@vger.kernel.org>
Subject: [PATCH 08/33] fbcon: s/struct display/struct fbcon_display/
Date: Tue, 28 May 2019 11:02:39 +0200
Message-Id: <20190528090304.9388-9-daniel.vetter@ffwll.ch>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190528090304.9388-1-daniel.vetter@ffwll.ch>
References: <20190528090304.9388-1-daniel.vetter@ffwll.ch>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=uAUlzla1CFlAG2FjtxoG6FlQGI0ZQGUaINYTuCwsBxA=;
 b=hhSXNm6ORof3iKez+dyNLYutgRtv6PnEgzY1CLcewi4MdkY4RG/hxbAxniAiYFpn52
 hU7id3r1yubg0jg0/vf8ItXOQTSMScUY/rwhYjsfR/XupG1fA2kElq4fkK3mz0uw2Eau
 qUOCsPL3IsDpz5lg1fIEKNE3iptL+fcc19ppM=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Prarit Bhargava <prarit@redhat.com>,
 Daniel Thompson <daniel.thompson@linaro.org>,
 Kees Cook <keescook@chromium.org>,
 Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>,
 Daniel Vetter <daniel.vetter@ffwll.ch>,
 Intel Graphics Development <intel-gfx@lists.freedesktop.org>,
 linux-fbdev@vger.kernel.org, DRI Development <dri-devel@lists.freedesktop.org>,
 Yisheng Xie <ysxie@foxmail.com>, Hans de Goede <hdegoede@redhat.com>,
 Greg Kroah-Hartman <gregkh@linuxfoundation.org>,
 Daniel Vetter <daniel.vetter@intel.com>, Sam Ravnborg <sam@ravnborg.org>,
 Peter Rosin <peda@axentia.se>, Konstantin Khorenko <khorenko@virtuozzo.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhpcyB3YXMgZm9ybWVybHkgdXNlZCBpbiBmYmRldiBkcml2ZXJzIChub3Qgc3VyZSB3aHksIHBy
ZWRhdGVzIG1vc3QKZ2l0IGhpc3RvcnkpLCBidXQgbm93IGl0J3MgZW50aXJlbHkgYW4gZmJjb24g
aW50ZXJuYWwgdGhpbmcuIEdpdmUgaXQgYQptb3JlIHNwZWNpZmljIG5hbWUuCgpTaWduZWQtb2Zm
LWJ5OiBEYW5pZWwgVmV0dGVyIDxkYW5pZWwudmV0dGVyQGludGVsLmNvbT4KUmV2aWV3ZWQtYnk6
IFNhbSBSYXZuYm9yZyA8c2FtQHJhdm5ib3JnLm9yZz4KUmV2aWV3ZWQtYnk6IE1hYXJ0ZW4gTGFu
a2hvcnN0IDxtYWFydGVuLmxhbmtob3JzdEBsaW51eC5pbnRlbC5jb20+CkNjOiBCYXJ0bG9taWVq
IFpvbG5pZXJraWV3aWN6IDxiLnpvbG5pZXJraWVAc2Ftc3VuZy5jb20+CkNjOiBEYW5pZWwgVmV0
dGVyIDxkYW5pZWwudmV0dGVyQGZmd2xsLmNoPgpDYzogSGFucyBkZSBHb2VkZSA8aGRlZ29lZGVA
cmVkaGF0LmNvbT4KQ2M6IEdyZWcgS3JvYWgtSGFydG1hbiA8Z3JlZ2toQGxpbnV4Zm91bmRhdGlv
bi5vcmc+CkNjOiBLZWVzIENvb2sgPGtlZXNjb29rQGNocm9taXVtLm9yZz4KQ2M6IFByYXJpdCBC
aGFyZ2F2YSA8cHJhcml0QHJlZGhhdC5jb20+CkNjOiBLb25zdGFudGluIEtob3JlbmtvIDxraG9y
ZW5rb0B2aXJ0dW96em8uY29tPgpDYzogUGV0ZXIgUm9zaW4gPHBlZGFAYXhlbnRpYS5zZT4KQ2M6
IFlpc2hlbmcgWGllIDx5c3hpZUBmb3htYWlsLmNvbT4KLS0tCiBkcml2ZXJzL3ZpZGVvL2ZiZGV2
L2NvcmUvZmJjb24uYyB8IDc0ICsrKysrKysrKysrKysrKystLS0tLS0tLS0tLS0tLS0tCiBkcml2
ZXJzL3ZpZGVvL2ZiZGV2L2NvcmUvZmJjb24uaCB8ICA2ICstLQogMiBmaWxlcyBjaGFuZ2VkLCA0
MCBpbnNlcnRpb25zKCspLCA0MCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL3Zp
ZGVvL2ZiZGV2L2NvcmUvZmJjb24uYyBiL2RyaXZlcnMvdmlkZW8vZmJkZXYvY29yZS9mYmNvbi5j
CmluZGV4IDc4NmY5YWFiNTVkZi4uNTQyNDA1MWM4ZTFhIDEwMDY0NAotLS0gYS9kcml2ZXJzL3Zp
ZGVvL2ZiZGV2L2NvcmUvZmJjb24uYworKysgYi9kcml2ZXJzL3ZpZGVvL2ZiZGV2L2NvcmUvZmJj
b24uYwpAQCAtOTMsNyArOTMsNyBAQCBlbnVtIHsKIAlGQkNPTl9MT0dPX0RPTlRTSE9XCT0gLTMJ
LyogZG8gbm90IHNob3cgdGhlIGxvZ28gKi8KIH07CiAKLXN0YXRpYyBzdHJ1Y3QgZGlzcGxheSBm
Yl9kaXNwbGF5W01BWF9OUl9DT05TT0xFU107CitzdGF0aWMgc3RydWN0IGZiY29uX2Rpc3BsYXkg
ZmJfZGlzcGxheVtNQVhfTlJfQ09OU09MRVNdOwogCiBzdGF0aWMgc2lnbmVkIGNoYXIgY29uMmZi
X21hcFtNQVhfTlJfQ09OU09MRVNdOwogc3RhdGljIHNpZ25lZCBjaGFyIGNvbjJmYl9tYXBfYm9v
dFtNQVhfTlJfQ09OU09MRVNdOwpAQCAtMTg1LDExICsxODUsMTEgQEAgc3RhdGljIF9faW5saW5l
X18gdm9pZCB5d3JhcF91cChzdHJ1Y3QgdmNfZGF0YSAqdmMsIGludCBjb3VudCk7CiBzdGF0aWMg
X19pbmxpbmVfXyB2b2lkIHl3cmFwX2Rvd24oc3RydWN0IHZjX2RhdGEgKnZjLCBpbnQgY291bnQp
Owogc3RhdGljIF9faW5saW5lX18gdm9pZCB5cGFuX3VwKHN0cnVjdCB2Y19kYXRhICp2YywgaW50
IGNvdW50KTsKIHN0YXRpYyBfX2lubGluZV9fIHZvaWQgeXBhbl9kb3duKHN0cnVjdCB2Y19kYXRh
ICp2YywgaW50IGNvdW50KTsKLXN0YXRpYyB2b2lkIGZiY29uX2Jtb3ZlX3JlYyhzdHJ1Y3QgdmNf
ZGF0YSAqdmMsIHN0cnVjdCBkaXNwbGF5ICpwLCBpbnQgc3ksIGludCBzeCwKK3N0YXRpYyB2b2lk
IGZiY29uX2Jtb3ZlX3JlYyhzdHJ1Y3QgdmNfZGF0YSAqdmMsIHN0cnVjdCBmYmNvbl9kaXNwbGF5
ICpwLCBpbnQgc3ksIGludCBzeCwKIAkJCSAgICBpbnQgZHksIGludCBkeCwgaW50IGhlaWdodCwg
aW50IHdpZHRoLCB1X2ludCB5X2JyZWFrKTsKIHN0YXRpYyB2b2lkIGZiY29uX3NldF9kaXNwKHN0
cnVjdCBmYl9pbmZvICppbmZvLCBzdHJ1Y3QgZmJfdmFyX3NjcmVlbmluZm8gKnZhciwKIAkJCSAg
IGludCB1bml0KTsKLXN0YXRpYyB2b2lkIGZiY29uX3JlZHJhd19tb3ZlKHN0cnVjdCB2Y19kYXRh
ICp2Yywgc3RydWN0IGRpc3BsYXkgKnAsCitzdGF0aWMgdm9pZCBmYmNvbl9yZWRyYXdfbW92ZShz
dHJ1Y3QgdmNfZGF0YSAqdmMsIHN0cnVjdCBmYmNvbl9kaXNwbGF5ICpwLAogCQkJICAgICAgaW50
IGxpbmUsIGludCBjb3VudCwgaW50IGR5KTsKIHN0YXRpYyB2b2lkIGZiY29uX21vZGVjaGFuZ2Vk
KHN0cnVjdCBmYl9pbmZvICppbmZvKTsKIHN0YXRpYyB2b2lkIGZiY29uX3NldF9hbGxfdmNzKHN0
cnVjdCBmYl9pbmZvICppbmZvKTsKQEAgLTIyMCw3ICsyMjAsNyBAQCBzdGF0aWMgdm9pZCBmYmNv
bl9yb3RhdGUoc3RydWN0IGZiX2luZm8gKmluZm8sIHUzMiByb3RhdGUpCiAJZmJfaW5mbyA9IHJl
Z2lzdGVyZWRfZmJbY29uMmZiX21hcFtvcHMtPmN1cnJjb25dXTsKIAogCWlmIChpbmZvID09IGZi
X2luZm8pIHsKLQkJc3RydWN0IGRpc3BsYXkgKnAgPSAmZmJfZGlzcGxheVtvcHMtPmN1cnJjb25d
OworCQlzdHJ1Y3QgZmJjb25fZGlzcGxheSAqcCA9ICZmYl9kaXNwbGF5W29wcy0+Y3VycmNvbl07
CiAKIAkJaWYgKHJvdGF0ZSA8IDQpCiAJCQlwLT5jb25fcm90YXRlID0gcm90YXRlOwpAQCAtMjM1
LDcgKzIzNSw3IEBAIHN0YXRpYyB2b2lkIGZiY29uX3JvdGF0ZV9hbGwoc3RydWN0IGZiX2luZm8g
KmluZm8sIHUzMiByb3RhdGUpCiB7CiAJc3RydWN0IGZiY29uX29wcyAqb3BzID0gaW5mby0+ZmJj
b25fcGFyOwogCXN0cnVjdCB2Y19kYXRhICp2YzsKLQlzdHJ1Y3QgZGlzcGxheSAqcDsKKwlzdHJ1
Y3QgZmJjb25fZGlzcGxheSAqcDsKIAlpbnQgaTsKIAogCWlmICghb3BzIHx8IG9wcy0+Y3VycmNv
biA8IDAgfHwgcm90YXRlID4gMykKQEAgLTkwMCw3ICs5MDAsNyBAQCBzdGF0aWMgaW50IHNldF9j
b24yZmJfbWFwKGludCB1bml0LCBpbnQgbmV3aWR4LCBpbnQgdXNlcikKICAqICBMb3cgTGV2ZWwg
T3BlcmF0aW9ucwogICovCiAvKiBOT1RFOiBmYmNvbiBjYW5ub3QgYmUgX19pbml0OiBpdCBtYXkg
YmUgY2FsbGVkIGZyb20gZG9fdGFrZV9vdmVyX2NvbnNvbGUgbGF0ZXIgKi8KLXN0YXRpYyBpbnQg
dmFyX3RvX2Rpc3BsYXkoc3RydWN0IGRpc3BsYXkgKmRpc3AsCitzdGF0aWMgaW50IHZhcl90b19k
aXNwbGF5KHN0cnVjdCBmYmNvbl9kaXNwbGF5ICpkaXNwLAogCQkJICBzdHJ1Y3QgZmJfdmFyX3Nj
cmVlbmluZm8gKnZhciwKIAkJCSAgc3RydWN0IGZiX2luZm8gKmluZm8pCiB7CkBAIC05MjUsNyAr
OTI1LDcgQEAgc3RhdGljIGludCB2YXJfdG9fZGlzcGxheShzdHJ1Y3QgZGlzcGxheSAqZGlzcCwK
IH0KIAogc3RhdGljIHZvaWQgZGlzcGxheV90b192YXIoc3RydWN0IGZiX3Zhcl9zY3JlZW5pbmZv
ICp2YXIsCi0JCQkgICBzdHJ1Y3QgZGlzcGxheSAqZGlzcCkKKwkJCSAgIHN0cnVjdCBmYmNvbl9k
aXNwbGF5ICpkaXNwKQogewogCWZiX3ZpZGVvbW9kZV90b192YXIodmFyLCBkaXNwLT5tb2RlKTsK
IAl2YXItPnhyZXNfdmlydHVhbCA9IGRpc3AtPnhyZXNfdmlydHVhbDsKQEAgLTk0Niw3ICs5NDYs
NyBAQCBzdGF0aWMgdm9pZCBkaXNwbGF5X3RvX3ZhcihzdHJ1Y3QgZmJfdmFyX3NjcmVlbmluZm8g
KnZhciwKIHN0YXRpYyBjb25zdCBjaGFyICpmYmNvbl9zdGFydHVwKHZvaWQpCiB7CiAJY29uc3Qg
Y2hhciAqZGlzcGxheV9kZXNjID0gImZyYW1lIGJ1ZmZlciBkZXZpY2UiOwotCXN0cnVjdCBkaXNw
bGF5ICpwID0gJmZiX2Rpc3BsYXlbZmdfY29uc29sZV07CisJc3RydWN0IGZiY29uX2Rpc3BsYXkg
KnAgPSAmZmJfZGlzcGxheVtmZ19jb25zb2xlXTsKIAlzdHJ1Y3QgdmNfZGF0YSAqdmMgPSB2Y19j
b25zW2ZnX2NvbnNvbGVdLmQ7CiAJY29uc3Qgc3RydWN0IGZvbnRfZGVzYyAqZm9udCA9IE5VTEw7
CiAJc3RydWN0IG1vZHVsZSAqb3duZXI7CkBAIC0xMDYwLDcgKzEwNjAsNyBAQCBzdGF0aWMgdm9p
ZCBmYmNvbl9pbml0KHN0cnVjdCB2Y19kYXRhICp2YywgaW50IGluaXQpCiAJc3RydWN0IGZiY29u
X29wcyAqb3BzOwogCXN0cnVjdCB2Y19kYXRhICoqZGVmYXVsdF9tb2RlID0gdmMtPnZjX2Rpc3Bs
YXlfZmc7CiAJc3RydWN0IHZjX2RhdGEgKnN2YyA9ICpkZWZhdWx0X21vZGU7Ci0Jc3RydWN0IGRp
c3BsYXkgKnQsICpwID0gJmZiX2Rpc3BsYXlbdmMtPnZjX251bV07CisJc3RydWN0IGZiY29uX2Rp
c3BsYXkgKnQsICpwID0gJmZiX2Rpc3BsYXlbdmMtPnZjX251bV07CiAJaW50IGxvZ28gPSAxLCBu
ZXdfcm93cywgbmV3X2NvbHMsIHJvd3MsIGNvbHMsIGNoYXJjbnQgPSAyNTY7CiAJaW50IGNhcCwg
cmV0OwogCkBAIC0xMjAzLDcgKzEyMDMsNyBAQCBzdGF0aWMgdm9pZCBmYmNvbl9pbml0KHN0cnVj
dCB2Y19kYXRhICp2YywgaW50IGluaXQpCiAJb3BzLT5wID0gJmZiX2Rpc3BsYXlbZmdfY29uc29s
ZV07CiB9CiAKLXN0YXRpYyB2b2lkIGZiY29uX2ZyZWVfZm9udChzdHJ1Y3QgZGlzcGxheSAqcCwg
Ym9vbCBmcmVlZm9udCkKK3N0YXRpYyB2b2lkIGZiY29uX2ZyZWVfZm9udChzdHJ1Y3QgZmJjb25f
ZGlzcGxheSAqcCwgYm9vbCBmcmVlZm9udCkKIHsKIAlpZiAoZnJlZWZvbnQgJiYgcC0+dXNlcmZv
bnQgJiYgcC0+Zm9udGRhdGEgJiYgKC0tUkVGQ09VTlQocC0+Zm9udGRhdGEpID09IDApKQogCQlr
ZnJlZShwLT5mb250ZGF0YSAtIEZPTlRfRVhUUkFfV09SRFMgKiBzaXplb2YoaW50KSk7CkBAIC0x
MjE1LDcgKzEyMTUsNyBAQCBzdGF0aWMgdm9pZCBzZXRfdmNfaGlfZm9udChzdHJ1Y3QgdmNfZGF0
YSAqdmMsIGJvb2wgc2V0KTsKIAogc3RhdGljIHZvaWQgZmJjb25fZGVpbml0KHN0cnVjdCB2Y19k
YXRhICp2YykKIHsKLQlzdHJ1Y3QgZGlzcGxheSAqcCA9ICZmYl9kaXNwbGF5W3ZjLT52Y19udW1d
OworCXN0cnVjdCBmYmNvbl9kaXNwbGF5ICpwID0gJmZiX2Rpc3BsYXlbdmMtPnZjX251bV07CiAJ
c3RydWN0IGZiX2luZm8gKmluZm87CiAJc3RydWN0IGZiY29uX29wcyAqb3BzOwogCWludCBpZHg7
CkBAIC0xMjg4LDcgKzEyODgsNyBAQCBzdGF0aWMgdm9pZCBmYmNvbl9jbGVhcihzdHJ1Y3QgdmNf
ZGF0YSAqdmMsIGludCBzeSwgaW50IHN4LCBpbnQgaGVpZ2h0LAogCXN0cnVjdCBmYl9pbmZvICpp
bmZvID0gcmVnaXN0ZXJlZF9mYltjb24yZmJfbWFwW3ZjLT52Y19udW1dXTsKIAlzdHJ1Y3QgZmJj
b25fb3BzICpvcHMgPSBpbmZvLT5mYmNvbl9wYXI7CiAKLQlzdHJ1Y3QgZGlzcGxheSAqcCA9ICZm
Yl9kaXNwbGF5W3ZjLT52Y19udW1dOworCXN0cnVjdCBmYmNvbl9kaXNwbGF5ICpwID0gJmZiX2Rp
c3BsYXlbdmMtPnZjX251bV07CiAJdV9pbnQgeV9icmVhazsKIAogCWlmIChmYmNvbl9pc19pbmFj
dGl2ZSh2YywgaW5mbykpCkBAIC0xMzI0LDcgKzEzMjQsNyBAQCBzdGF0aWMgdm9pZCBmYmNvbl9w
dXRjcyhzdHJ1Y3QgdmNfZGF0YSAqdmMsIGNvbnN0IHVuc2lnbmVkIHNob3J0ICpzLAogCQkJaW50
IGNvdW50LCBpbnQgeXBvcywgaW50IHhwb3MpCiB7CiAJc3RydWN0IGZiX2luZm8gKmluZm8gPSBy
ZWdpc3RlcmVkX2ZiW2NvbjJmYl9tYXBbdmMtPnZjX251bV1dOwotCXN0cnVjdCBkaXNwbGF5ICpw
ID0gJmZiX2Rpc3BsYXlbdmMtPnZjX251bV07CisJc3RydWN0IGZiY29uX2Rpc3BsYXkgKnAgPSAm
ZmJfZGlzcGxheVt2Yy0+dmNfbnVtXTsKIAlzdHJ1Y3QgZmJjb25fb3BzICpvcHMgPSBpbmZvLT5m
YmNvbl9wYXI7CiAKIAlpZiAoIWZiY29uX2lzX2luYWN0aXZlKHZjLCBpbmZvKSkKQEAgLTEzODgs
NyArMTM4OCw3IEBAIHN0YXRpYyBpbnQgc2Nyb2xsYmFja19jdXJyZW50ID0gMDsKIHN0YXRpYyB2
b2lkIGZiY29uX3NldF9kaXNwKHN0cnVjdCBmYl9pbmZvICppbmZvLCBzdHJ1Y3QgZmJfdmFyX3Nj
cmVlbmluZm8gKnZhciwKIAkJCSAgIGludCB1bml0KQogewotCXN0cnVjdCBkaXNwbGF5ICpwLCAq
dDsKKwlzdHJ1Y3QgZmJjb25fZGlzcGxheSAqcCwgKnQ7CiAJc3RydWN0IHZjX2RhdGEgKipkZWZh
dWx0X21vZGUsICp2YzsKIAlzdHJ1Y3QgdmNfZGF0YSAqc3ZjOwogCXN0cnVjdCBmYmNvbl9vcHMg
Km9wcyA9IGluZm8tPmZiY29uX3BhcjsKQEAgLTE0NTcsNyArMTQ1Nyw3IEBAIHN0YXRpYyBfX2lu
bGluZV9fIHZvaWQgeXdyYXBfdXAoc3RydWN0IHZjX2RhdGEgKnZjLCBpbnQgY291bnQpCiB7CiAJ
c3RydWN0IGZiX2luZm8gKmluZm8gPSByZWdpc3RlcmVkX2ZiW2NvbjJmYl9tYXBbdmMtPnZjX251
bV1dOwogCXN0cnVjdCBmYmNvbl9vcHMgKm9wcyA9IGluZm8tPmZiY29uX3BhcjsKLQlzdHJ1Y3Qg
ZGlzcGxheSAqcCA9ICZmYl9kaXNwbGF5W3ZjLT52Y19udW1dOworCXN0cnVjdCBmYmNvbl9kaXNw
bGF5ICpwID0gJmZiX2Rpc3BsYXlbdmMtPnZjX251bV07CiAJCiAJcC0+eXNjcm9sbCArPSBjb3Vu
dDsKIAlpZiAocC0+eXNjcm9sbCA+PSBwLT52cm93cykJLyogRGVhbCB3aXRoIHdyYXAgKi8KQEAg
LTE0NzYsNyArMTQ3Niw3IEBAIHN0YXRpYyBfX2lubGluZV9fIHZvaWQgeXdyYXBfZG93bihzdHJ1
Y3QgdmNfZGF0YSAqdmMsIGludCBjb3VudCkKIHsKIAlzdHJ1Y3QgZmJfaW5mbyAqaW5mbyA9IHJl
Z2lzdGVyZWRfZmJbY29uMmZiX21hcFt2Yy0+dmNfbnVtXV07CiAJc3RydWN0IGZiY29uX29wcyAq
b3BzID0gaW5mby0+ZmJjb25fcGFyOwotCXN0cnVjdCBkaXNwbGF5ICpwID0gJmZiX2Rpc3BsYXlb
dmMtPnZjX251bV07CisJc3RydWN0IGZiY29uX2Rpc3BsYXkgKnAgPSAmZmJfZGlzcGxheVt2Yy0+
dmNfbnVtXTsKIAkKIAlwLT55c2Nyb2xsIC09IGNvdW50OwogCWlmIChwLT55c2Nyb2xsIDwgMCkJ
LyogRGVhbCB3aXRoIHdyYXAgKi8KQEAgLTE0OTQsNyArMTQ5NCw3IEBAIHN0YXRpYyBfX2lubGlu
ZV9fIHZvaWQgeXdyYXBfZG93bihzdHJ1Y3QgdmNfZGF0YSAqdmMsIGludCBjb3VudCkKIHN0YXRp
YyBfX2lubGluZV9fIHZvaWQgeXBhbl91cChzdHJ1Y3QgdmNfZGF0YSAqdmMsIGludCBjb3VudCkK
IHsKIAlzdHJ1Y3QgZmJfaW5mbyAqaW5mbyA9IHJlZ2lzdGVyZWRfZmJbY29uMmZiX21hcFt2Yy0+
dmNfbnVtXV07Ci0Jc3RydWN0IGRpc3BsYXkgKnAgPSAmZmJfZGlzcGxheVt2Yy0+dmNfbnVtXTsK
KwlzdHJ1Y3QgZmJjb25fZGlzcGxheSAqcCA9ICZmYl9kaXNwbGF5W3ZjLT52Y19udW1dOwogCXN0
cnVjdCBmYmNvbl9vcHMgKm9wcyA9IGluZm8tPmZiY29uX3BhcjsKIAogCXAtPnlzY3JvbGwgKz0g
Y291bnQ7CkBAIC0xNTE5LDcgKzE1MTksNyBAQCBzdGF0aWMgX19pbmxpbmVfXyB2b2lkIHlwYW5f
dXBfcmVkcmF3KHN0cnVjdCB2Y19kYXRhICp2YywgaW50IHQsIGludCBjb3VudCkKIHsKIAlzdHJ1
Y3QgZmJfaW5mbyAqaW5mbyA9IHJlZ2lzdGVyZWRfZmJbY29uMmZiX21hcFt2Yy0+dmNfbnVtXV07
CiAJc3RydWN0IGZiY29uX29wcyAqb3BzID0gaW5mby0+ZmJjb25fcGFyOwotCXN0cnVjdCBkaXNw
bGF5ICpwID0gJmZiX2Rpc3BsYXlbdmMtPnZjX251bV07CisJc3RydWN0IGZiY29uX2Rpc3BsYXkg
KnAgPSAmZmJfZGlzcGxheVt2Yy0+dmNfbnVtXTsKIAogCXAtPnlzY3JvbGwgKz0gY291bnQ7CiAK
QEAgLTE1NDIsNyArMTU0Miw3IEBAIHN0YXRpYyBfX2lubGluZV9fIHZvaWQgeXBhbl91cF9yZWRy
YXcoc3RydWN0IHZjX2RhdGEgKnZjLCBpbnQgdCwgaW50IGNvdW50KQogc3RhdGljIF9faW5saW5l
X18gdm9pZCB5cGFuX2Rvd24oc3RydWN0IHZjX2RhdGEgKnZjLCBpbnQgY291bnQpCiB7CiAJc3Ry
dWN0IGZiX2luZm8gKmluZm8gPSByZWdpc3RlcmVkX2ZiW2NvbjJmYl9tYXBbdmMtPnZjX251bV1d
OwotCXN0cnVjdCBkaXNwbGF5ICpwID0gJmZiX2Rpc3BsYXlbdmMtPnZjX251bV07CisJc3RydWN0
IGZiY29uX2Rpc3BsYXkgKnAgPSAmZmJfZGlzcGxheVt2Yy0+dmNfbnVtXTsKIAlzdHJ1Y3QgZmJj
b25fb3BzICpvcHMgPSBpbmZvLT5mYmNvbl9wYXI7CiAJCiAJcC0+eXNjcm9sbCAtPSBjb3VudDsK
QEAgLTE1NjcsNyArMTU2Nyw3IEBAIHN0YXRpYyBfX2lubGluZV9fIHZvaWQgeXBhbl9kb3duX3Jl
ZHJhdyhzdHJ1Y3QgdmNfZGF0YSAqdmMsIGludCB0LCBpbnQgY291bnQpCiB7CiAJc3RydWN0IGZi
X2luZm8gKmluZm8gPSByZWdpc3RlcmVkX2ZiW2NvbjJmYl9tYXBbdmMtPnZjX251bV1dOwogCXN0
cnVjdCBmYmNvbl9vcHMgKm9wcyA9IGluZm8tPmZiY29uX3BhcjsKLQlzdHJ1Y3QgZGlzcGxheSAq
cCA9ICZmYl9kaXNwbGF5W3ZjLT52Y19udW1dOworCXN0cnVjdCBmYmNvbl9kaXNwbGF5ICpwID0g
JmZiX2Rpc3BsYXlbdmMtPnZjX251bV07CiAKIAlwLT55c2Nyb2xsIC09IGNvdW50OwogCkBAIC0x
NTg3LDcgKzE1ODcsNyBAQCBzdGF0aWMgX19pbmxpbmVfXyB2b2lkIHlwYW5fZG93bl9yZWRyYXco
c3RydWN0IHZjX2RhdGEgKnZjLCBpbnQgdCwgaW50IGNvdW50KQogCXNjcm9sbGJhY2tfY3VycmVu
dCA9IDA7CiB9CiAKLXN0YXRpYyB2b2lkIGZiY29uX3JlZHJhd19zb2Z0YmFjayhzdHJ1Y3QgdmNf
ZGF0YSAqdmMsIHN0cnVjdCBkaXNwbGF5ICpwLAorc3RhdGljIHZvaWQgZmJjb25fcmVkcmF3X3Nv
ZnRiYWNrKHN0cnVjdCB2Y19kYXRhICp2Yywgc3RydWN0IGZiY29uX2Rpc3BsYXkgKnAsCiAJCQkJ
ICBsb25nIGRlbHRhKQogewogCWludCBjb3VudCA9IHZjLT52Y19yb3dzOwpAQCAtMTY4MCw3ICsx
NjgwLDcgQEAgc3RhdGljIHZvaWQgZmJjb25fcmVkcmF3X3NvZnRiYWNrKHN0cnVjdCB2Y19kYXRh
ICp2Yywgc3RydWN0IGRpc3BsYXkgKnAsCiAJfQogfQogCi1zdGF0aWMgdm9pZCBmYmNvbl9yZWRy
YXdfbW92ZShzdHJ1Y3QgdmNfZGF0YSAqdmMsIHN0cnVjdCBkaXNwbGF5ICpwLAorc3RhdGljIHZv
aWQgZmJjb25fcmVkcmF3X21vdmUoc3RydWN0IHZjX2RhdGEgKnZjLCBzdHJ1Y3QgZmJjb25fZGlz
cGxheSAqcCwKIAkJCSAgICAgIGludCBsaW5lLCBpbnQgY291bnQsIGludCBkeSkKIHsKIAl1bnNp
Z25lZCBzaG9ydCAqcyA9ICh1bnNpZ25lZCBzaG9ydCAqKQpAQCAtMTcxNSw3ICsxNzE1LDcgQEAg
c3RhdGljIHZvaWQgZmJjb25fcmVkcmF3X21vdmUoc3RydWN0IHZjX2RhdGEgKnZjLCBzdHJ1Y3Qg
ZGlzcGxheSAqcCwKIH0KIAogc3RhdGljIHZvaWQgZmJjb25fcmVkcmF3X2JsaXQoc3RydWN0IHZj
X2RhdGEgKnZjLCBzdHJ1Y3QgZmJfaW5mbyAqaW5mbywKLQkJCXN0cnVjdCBkaXNwbGF5ICpwLCBp
bnQgbGluZSwgaW50IGNvdW50LCBpbnQgeWNvdW50KQorCQkJc3RydWN0IGZiY29uX2Rpc3BsYXkg
KnAsIGludCBsaW5lLCBpbnQgY291bnQsIGludCB5Y291bnQpCiB7CiAJaW50IG9mZnNldCA9IHlj
b3VudCAqIHZjLT52Y19jb2xzOwogCXVuc2lnbmVkIHNob3J0ICpkID0gKHVuc2lnbmVkIHNob3J0
ICopCkBAIC0xNzY0LDcgKzE3NjQsNyBAQCBzdGF0aWMgdm9pZCBmYmNvbl9yZWRyYXdfYmxpdChz
dHJ1Y3QgdmNfZGF0YSAqdmMsIHN0cnVjdCBmYl9pbmZvICppbmZvLAogCX0KIH0KIAotc3RhdGlj
IHZvaWQgZmJjb25fcmVkcmF3KHN0cnVjdCB2Y19kYXRhICp2Yywgc3RydWN0IGRpc3BsYXkgKnAs
CitzdGF0aWMgdm9pZCBmYmNvbl9yZWRyYXcoc3RydWN0IHZjX2RhdGEgKnZjLCBzdHJ1Y3QgZmJj
b25fZGlzcGxheSAqcCwKIAkJCSBpbnQgbGluZSwgaW50IGNvdW50LCBpbnQgb2Zmc2V0KQogewog
CXVuc2lnbmVkIHNob3J0ICpkID0gKHVuc2lnbmVkIHNob3J0ICopCkBAIC0xODQ4LDcgKzE4NDgs
NyBAQCBzdGF0aWMgYm9vbCBmYmNvbl9zY3JvbGwoc3RydWN0IHZjX2RhdGEgKnZjLCB1bnNpZ25l
ZCBpbnQgdCwgdW5zaWduZWQgaW50IGIsCiAJCWVudW0gY29uX3Njcm9sbCBkaXIsIHVuc2lnbmVk
IGludCBjb3VudCkKIHsKIAlzdHJ1Y3QgZmJfaW5mbyAqaW5mbyA9IHJlZ2lzdGVyZWRfZmJbY29u
MmZiX21hcFt2Yy0+dmNfbnVtXV07Ci0Jc3RydWN0IGRpc3BsYXkgKnAgPSAmZmJfZGlzcGxheVt2
Yy0+dmNfbnVtXTsKKwlzdHJ1Y3QgZmJjb25fZGlzcGxheSAqcCA9ICZmYl9kaXNwbGF5W3ZjLT52
Y19udW1dOwogCWludCBzY3JvbGxfcGFydGlhbCA9IGluZm8tPmZsYWdzICYgRkJJTkZPX1BBUlRJ
QUxfUEFOX09LOwogCiAJaWYgKGZiY29uX2lzX2luYWN0aXZlKHZjLCBpbmZvKSkKQEAgLTIwNTIs
NyArMjA1Miw3IEBAIHN0YXRpYyB2b2lkIGZiY29uX2Jtb3ZlKHN0cnVjdCB2Y19kYXRhICp2Yywg
aW50IHN5LCBpbnQgc3gsIGludCBkeSwgaW50IGR4LAogCQkJaW50IGhlaWdodCwgaW50IHdpZHRo
KQogewogCXN0cnVjdCBmYl9pbmZvICppbmZvID0gcmVnaXN0ZXJlZF9mYltjb24yZmJfbWFwW3Zj
LT52Y19udW1dXTsKLQlzdHJ1Y3QgZGlzcGxheSAqcCA9ICZmYl9kaXNwbGF5W3ZjLT52Y19udW1d
OworCXN0cnVjdCBmYmNvbl9kaXNwbGF5ICpwID0gJmZiX2Rpc3BsYXlbdmMtPnZjX251bV07CiAJ
CiAJaWYgKGZiY29uX2lzX2luYWN0aXZlKHZjLCBpbmZvKSkKIAkJcmV0dXJuOwpAQCAtMjA3MSw3
ICsyMDcxLDcgQEAgc3RhdGljIHZvaWQgZmJjb25fYm1vdmUoc3RydWN0IHZjX2RhdGEgKnZjLCBp
bnQgc3ksIGludCBzeCwgaW50IGR5LCBpbnQgZHgsCiAJCQlwLT52cm93cyAtIHAtPnlzY3JvbGwp
OwogfQogCi1zdGF0aWMgdm9pZCBmYmNvbl9ibW92ZV9yZWMoc3RydWN0IHZjX2RhdGEgKnZjLCBz
dHJ1Y3QgZGlzcGxheSAqcCwgaW50IHN5LCBpbnQgc3gsIAorc3RhdGljIHZvaWQgZmJjb25fYm1v
dmVfcmVjKHN0cnVjdCB2Y19kYXRhICp2Yywgc3RydWN0IGZiY29uX2Rpc3BsYXkgKnAsIGludCBz
eSwgaW50IHN4LAogCQkJICAgIGludCBkeSwgaW50IGR4LCBpbnQgaGVpZ2h0LCBpbnQgd2lkdGgs
IHVfaW50IHlfYnJlYWspCiB7CiAJc3RydWN0IGZiX2luZm8gKmluZm8gPSByZWdpc3RlcmVkX2Zi
W2NvbjJmYl9tYXBbdmMtPnZjX251bV1dOwpAQCAtMjExMyw3ICsyMTEzLDcgQEAgc3RhdGljIHZv
aWQgZmJjb25fYm1vdmVfcmVjKHN0cnVjdCB2Y19kYXRhICp2Yywgc3RydWN0IGRpc3BsYXkgKnAs
IGludCBzeSwgaW50IHMKIAkJICAgaGVpZ2h0LCB3aWR0aCk7CiB9CiAKLXN0YXRpYyB2b2lkIHVw
ZGF0ZXNjcm9sbG1vZGUoc3RydWN0IGRpc3BsYXkgKnAsCitzdGF0aWMgdm9pZCB1cGRhdGVzY3Jv
bGxtb2RlKHN0cnVjdCBmYmNvbl9kaXNwbGF5ICpwLAogCQkJCQlzdHJ1Y3QgZmJfaW5mbyAqaW5m
bywKIAkJCQkJc3RydWN0IHZjX2RhdGEgKnZjKQogewpAQCAtMjE2NSw3ICsyMTY1LDcgQEAgc3Rh
dGljIGludCBmYmNvbl9yZXNpemUoc3RydWN0IHZjX2RhdGEgKnZjLCB1bnNpZ25lZCBpbnQgd2lk
dGgsCiB7CiAJc3RydWN0IGZiX2luZm8gKmluZm8gPSByZWdpc3RlcmVkX2ZiW2NvbjJmYl9tYXBb
dmMtPnZjX251bV1dOwogCXN0cnVjdCBmYmNvbl9vcHMgKm9wcyA9IGluZm8tPmZiY29uX3BhcjsK
LQlzdHJ1Y3QgZGlzcGxheSAqcCA9ICZmYl9kaXNwbGF5W3ZjLT52Y19udW1dOworCXN0cnVjdCBm
YmNvbl9kaXNwbGF5ICpwID0gJmZiX2Rpc3BsYXlbdmMtPnZjX251bV07CiAJc3RydWN0IGZiX3Zh
cl9zY3JlZW5pbmZvIHZhciA9IGluZm8tPnZhcjsKIAlpbnQgeF9kaWZmLCB5X2RpZmYsIHZpcnRf
dywgdmlydF9oLCB2aXJ0X2Z3LCB2aXJ0X2ZoOwogCkBAIC0yMjEwLDcgKzIyMTAsNyBAQCBzdGF0
aWMgaW50IGZiY29uX3N3aXRjaChzdHJ1Y3QgdmNfZGF0YSAqdmMpCiB7CiAJc3RydWN0IGZiX2lu
Zm8gKmluZm8sICpvbGRfaW5mbyA9IE5VTEw7CiAJc3RydWN0IGZiY29uX29wcyAqb3BzOwotCXN0
cnVjdCBkaXNwbGF5ICpwID0gJmZiX2Rpc3BsYXlbdmMtPnZjX251bV07CisJc3RydWN0IGZiY29u
X2Rpc3BsYXkgKnAgPSAmZmJfZGlzcGxheVt2Yy0+dmNfbnVtXTsKIAlzdHJ1Y3QgZmJfdmFyX3Nj
cmVlbmluZm8gdmFyOwogCWludCBpLCByZXQsIHByZXZfY29uc29sZSwgY2hhcmNudCA9IDI1NjsK
IApAQCAtMjU1Myw3ICsyNTUzLDcgQEAgc3RhdGljIGludCBmYmNvbl9kb19zZXRfZm9udChzdHJ1
Y3QgdmNfZGF0YSAqdmMsIGludCB3LCBpbnQgaCwKIHsKIAlzdHJ1Y3QgZmJfaW5mbyAqaW5mbyA9
IHJlZ2lzdGVyZWRfZmJbY29uMmZiX21hcFt2Yy0+dmNfbnVtXV07CiAJc3RydWN0IGZiY29uX29w
cyAqb3BzID0gaW5mby0+ZmJjb25fcGFyOwotCXN0cnVjdCBkaXNwbGF5ICpwID0gJmZiX2Rpc3Bs
YXlbdmMtPnZjX251bV07CisJc3RydWN0IGZiY29uX2Rpc3BsYXkgKnAgPSAmZmJfZGlzcGxheVt2
Yy0+dmNfbnVtXTsKIAlpbnQgcmVzaXplOwogCWludCBjbnQ7CiAJY2hhciAqb2xkX2RhdGEgPSBO
VUxMOwpAQCAtMjYwMSw3ICsyNjAxLDcgQEAgc3RhdGljIGludCBmYmNvbl9kb19zZXRfZm9udChz
dHJ1Y3QgdmNfZGF0YSAqdmMsIGludCB3LCBpbnQgaCwKIAogc3RhdGljIGludCBmYmNvbl9jb3B5
X2ZvbnQoc3RydWN0IHZjX2RhdGEgKnZjLCBpbnQgY29uKQogewotCXN0cnVjdCBkaXNwbGF5ICpv
ZCA9ICZmYl9kaXNwbGF5W2Nvbl07CisJc3RydWN0IGZiY29uX2Rpc3BsYXkgKm9kID0gJmZiX2Rp
c3BsYXlbY29uXTsKIAlzdHJ1Y3QgY29uc29sZV9mb250ICpmID0gJnZjLT52Y19mb250OwogCiAJ
aWYgKG9kLT5mb250ZGF0YSA9PSBmLT5kYXRhKQpAQCAtMjgyNiw3ICsyODI2LDcgQEAgc3RhdGlj
IHZvaWQgZmJjb25fc2Nyb2xsZGVsdGEoc3RydWN0IHZjX2RhdGEgKnZjLCBpbnQgbGluZXMpCiB7
CiAJc3RydWN0IGZiX2luZm8gKmluZm8gPSByZWdpc3RlcmVkX2ZiW2NvbjJmYl9tYXBbZmdfY29u
c29sZV1dOwogCXN0cnVjdCBmYmNvbl9vcHMgKm9wcyA9IGluZm8tPmZiY29uX3BhcjsKLQlzdHJ1
Y3QgZGlzcGxheSAqZGlzcCA9ICZmYl9kaXNwbGF5W2ZnX2NvbnNvbGVdOworCXN0cnVjdCBmYmNv
bl9kaXNwbGF5ICpkaXNwID0gJmZiX2Rpc3BsYXlbZmdfY29uc29sZV07CiAJaW50IG9mZnNldCwg
bGltaXQsIHNjcm9sbGJhY2tfb2xkOwogCiAJaWYgKHNvZnRiYWNrX3RvcCkgewpAQCAtMjk0Nyw3
ICsyOTQ3LDcgQEAgc3RhdGljIHZvaWQgZmJjb25fbW9kZWNoYW5nZWQoc3RydWN0IGZiX2luZm8g
KmluZm8pCiB7CiAJc3RydWN0IGZiY29uX29wcyAqb3BzID0gaW5mby0+ZmJjb25fcGFyOwogCXN0
cnVjdCB2Y19kYXRhICp2YzsKLQlzdHJ1Y3QgZGlzcGxheSAqcDsKKwlzdHJ1Y3QgZmJjb25fZGlz
cGxheSAqcDsKIAlpbnQgcm93cywgY29sczsKIAogCWlmICghb3BzIHx8IG9wcy0+Y3VycmNvbiA8
IDApCkBAIC0yOTg3LDcgKzI5ODcsNyBAQCBzdGF0aWMgdm9pZCBmYmNvbl9zZXRfYWxsX3Zjcyhz
dHJ1Y3QgZmJfaW5mbyAqaW5mbykKIHsKIAlzdHJ1Y3QgZmJjb25fb3BzICpvcHMgPSBpbmZvLT5m
YmNvbl9wYXI7CiAJc3RydWN0IHZjX2RhdGEgKnZjOwotCXN0cnVjdCBkaXNwbGF5ICpwOworCXN0
cnVjdCBmYmNvbl9kaXNwbGF5ICpwOwogCWludCBpLCByb3dzLCBjb2xzLCBmZyA9IC0xOwogCiAJ
aWYgKCFvcHMgfHwgb3BzLT5jdXJyY29uIDwgMCkKQEAgLTMwMjIsNyArMzAyMiw3IEBAIHN0YXRp
YyBpbnQgZmJjb25fbW9kZV9kZWxldGVkKHN0cnVjdCBmYl9pbmZvICppbmZvLAogCQkJICAgICAg
c3RydWN0IGZiX3ZpZGVvbW9kZSAqbW9kZSkKIHsKIAlzdHJ1Y3QgZmJfaW5mbyAqZmJfaW5mbzsK
LQlzdHJ1Y3QgZGlzcGxheSAqcDsKKwlzdHJ1Y3QgZmJjb25fZGlzcGxheSAqcDsKIAlpbnQgaSwg
aiwgZm91bmQgPSAwOwogCiAJLyogYmVmb3JlIGRlbGV0aW9uLCBlbnN1cmUgdGhhdCBtb2RlIGlz
IG5vdCBpbiB1c2UgKi8KQEAgLTMyOTQsNyArMzI5NCw3IEBAIHN0YXRpYyB2b2lkIGZiY29uX2dl
dF9yZXF1aXJlbWVudChzdHJ1Y3QgZmJfaW5mbyAqaW5mbywKIAkJCQkgIHN0cnVjdCBmYl9ibGl0
X2NhcHMgKmNhcHMpCiB7CiAJc3RydWN0IHZjX2RhdGEgKnZjOwotCXN0cnVjdCBkaXNwbGF5ICpw
OworCXN0cnVjdCBmYmNvbl9kaXNwbGF5ICpwOwogCiAJaWYgKGNhcHMtPmZsYWdzKSB7CiAJCWlu
dCBpLCBjaGFyY250OwpkaWZmIC0tZ2l0IGEvZHJpdmVycy92aWRlby9mYmRldi9jb3JlL2ZiY29u
LmggYi9kcml2ZXJzL3ZpZGVvL2ZiZGV2L2NvcmUvZmJjb24uaAppbmRleCAyMTkxMmEzYmEzMmYu
LjIwZGVhODUzNzY1ZiAxMDA2NDQKLS0tIGEvZHJpdmVycy92aWRlby9mYmRldi9jb3JlL2ZiY29u
LmgKKysrIGIvZHJpdmVycy92aWRlby9mYmRldi9jb3JlL2ZiY29uLmgKQEAgLTI1LDcgKzI1LDcg
QEAKICAgICAqICAgIGxvdy1sZXZlbCBmcmFtZSBidWZmZXIgZGV2aWNlCiAgICAgKi8KIAotc3Ry
dWN0IGRpc3BsYXkgeworc3RydWN0IGZiY29uX2Rpc3BsYXkgewogICAgIC8qIEZpbGxlZCBpbiBi
eSB0aGUgbG93LWxldmVsIGNvbnNvbGUgZHJpdmVyICovCiAgICAgY29uc3QgdV9jaGFyICpmb250
ZGF0YTsKICAgICBpbnQgdXNlcmZvbnQ7ICAgICAgICAgICAgICAgICAgIC8qICE9IDAgaWYgZm9u
dGRhdGEga21hbGxvYygpZWQgKi8KQEAgLTY4LDcgKzY4LDcgQEAgc3RydWN0IGZiY29uX29wcyB7
CiAJc3RydWN0IGZiX3Zhcl9zY3JlZW5pbmZvIHZhcjsgIC8qIGNvcHkgb2YgdGhlIGN1cnJlbnQg
ZmJfdmFyX3NjcmVlbmluZm8gKi8KIAlzdHJ1Y3QgdGltZXJfbGlzdCBjdXJzb3JfdGltZXI7IC8q
IEN1cnNvciB0aW1lciAqLwogCXN0cnVjdCBmYl9jdXJzb3IgY3Vyc29yX3N0YXRlOwotCXN0cnVj
dCBkaXNwbGF5ICpwOworCXN0cnVjdCBmYmNvbl9kaXNwbGF5ICpwOwogCXN0cnVjdCBmYl9pbmZv
ICppbmZvOwogICAgICAgICBpbnQgICAgY3VycmNvbjsJICAgICAgICAgICAgICAgIC8qIEN1cnJl
bnQgVkMuICovCiAJaW50ICAgIGN1cl9ibGlua19qaWZmaWVzOwpAQCAtMjI1LDcgKzIyNSw3IEBA
IGV4dGVybiBpbnQgIHNvZnRfY3Vyc29yKHN0cnVjdCBmYl9pbmZvICppbmZvLCBzdHJ1Y3QgZmJf
Y3Vyc29yICpjdXJzb3IpOwogI2RlZmluZSBGQkNPTl9BVFRSSUJVVEVfUkVWRVJTRSAgIDIKICNk
ZWZpbmUgRkJDT05fQVRUUklCVVRFX0JPTEQgICAgICA0CiAKLXN0YXRpYyBpbmxpbmUgaW50IHJl
YWxfeShzdHJ1Y3QgZGlzcGxheSAqcCwgaW50IHlwb3MpCitzdGF0aWMgaW5saW5lIGludCByZWFs
X3koc3RydWN0IGZiY29uX2Rpc3BsYXkgKnAsIGludCB5cG9zKQogewogCWludCByb3dzID0gcC0+
dnJvd3M7CiAKLS0gCjIuMjAuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRl
c2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8v
ZHJpLWRldmVs
