Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id D10F197BB9
	for <lists+dri-devel@lfdr.de>; Wed, 21 Aug 2019 15:58:04 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 62E766E3DD;
	Wed, 21 Aug 2019 13:58:01 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from perceval.ideasonboard.com (perceval.ideasonboard.com
 [IPv6:2001:4b98:dc2:55:216:3eff:fef7:d647])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 5D0DE6E3DD
 for <dri-devel@lists.freedesktop.org>; Wed, 21 Aug 2019 13:58:00 +0000 (UTC)
Received: from pendragon.ideasonboard.com
 (dfj612yhrgyx302h3jwwy-3.rev.dnainternet.fi
 [IPv6:2001:14ba:21f5:5b00:ce28:277f:58d7:3ca4])
 by perceval.ideasonboard.com (Postfix) with ESMTPSA id EFF5D33D;
 Wed, 21 Aug 2019 15:57:57 +0200 (CEST)
Date: Wed, 21 Aug 2019 16:57:52 +0300
From: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
To: Daniel Vetter <daniel@ffwll.ch>
Subject: Re: [PATCH RFC 02/19] drm: Support custom encoder/bridge
 enable/disable sequences officially
Message-ID: <20190821135752.GB5433@pendragon.ideasonboard.com>
References: <20190808151150.16336-1-boris.brezillon@collabora.com>
 <20190808151150.16336-3-boris.brezillon@collabora.com>
 <20190820190505.GP10820@pendragon.ideasonboard.com>
 <20190821082107.GI11147@phenom.ffwll.local>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190821082107.GI11147@phenom.ffwll.local>
User-Agent: Mutt/1.10.1 (2018-07-13)
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=ideasonboard.com; s=mail; t=1566395878;
 bh=UR36qC1LJaPDcHaglB3FRhFoBB+Zs+fbyrgelj5aQZc=;
 h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
 b=L7TUl3X3NIsm68vl/fA7NcUvRF3l9hBKw4p/CMVDdzoSPVUD7rP6Nk3PFei9uTHLv
 x8mpTX2txdJaG0IFilOtMVf/VHjX/3DnE2iMR+QJLjH13Vz9sjwhqD87eRpwGOd/d4
 ENk94BHtnbcnhiANHBHYcFhiIj/qY3Dkc0da+VvY=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Jernej Skrabec <jernej.skrabec@siol.net>,
 Neil Armstrong <narmstrong@baylibre.com>, Jonas Karlman <jonas@kwiboo.se>,
 Seung-Woo Kim <sw0312.kim@samsung.com>, dri-devel@lists.freedesktop.org,
 Kyungmin Park <kyungmin.park@samsung.com>,
 Boris Brezillon <boris.brezillon@collabora.com>,
 Thierry Reding <thierry.reding@gmail.com>, Chris Healy <Chris.Healy@zii.aero>,
 kernel@collabora.com, Sam Ravnborg <sam@ravnborg.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgRGFuaWVsLAoKT24gV2VkLCBBdWcgMjEsIDIwMTkgYXQgMTA6MjE6MDdBTSArMDIwMCwgRGFu
aWVsIFZldHRlciB3cm90ZToKPiBPbiBUdWUsIEF1ZyAyMCwgMjAxOSBhdCAxMDowNTowNVBNICsw
MzAwLCBMYXVyZW50IFBpbmNoYXJ0IHdyb3RlOgo+ID4gT24gVGh1LCBBdWcgMDgsIDIwMTkgYXQg
MDU6MTE6MzNQTSArMDIwMCwgQm9yaXMgQnJlemlsbG9uIHdyb3RlOgo+ID4gPiBUaGUgVkM0IGFu
ZCBFeHlub3MgRFNJIGVuY29kZXIgZHJpdmVycyBuZWVkIGEgY3VzdG9tIGVuYWJsZS9kaXNhYmxl
Cj4gPiA+IHNlcXVlbmNlIGFuZCBtYW51YWxseSBzZXQgZW5jb2Rlci0+YnJpZGdlIHRvIE5VTEwg
dG8gcHJldmVudCB0aGUgY29yZQo+ID4gPiBmcm9tIGNhbGxpbmcgdGhlIGJyaWRnZSBob29rcy4K
PiA+ID4gCj4gPiA+IExldCdzIHByb3ZpZGUgYSBtb3JlIG9mZmljaWFsIHdheSB0byBzdXBwb3J0
IGN1c3RvbSBicmlkZ2UvZW5jb2Rlcgo+ID4gPiBlbmFibGUvZGlzYWJsZSBzZXF1ZW5jZXMuCj4g
PiAKPiA+IFNvLCB3aGlsZSBJJ20gbm90IG9wcG9zZWQgdG8gdGhpcywgSSB0aGluayBpdCdzIGEg
Yml0IG9mIGEgaGFjaywgYW5kIEknZAo+ID4gbGlrZSB0byBzaGFyZSBteSB2aXNpb24gb2YgaG93
IEknZCBsaWtlIHRvIHNlZSB0aGlzIGJlaW5nIGltcGxlbWVudGVkIGluCj4gPiB0aGUgbW9yZSBk
aXN0YW50IGZ1dHVyZSAoYW5kIHRodXMgcG9zc2libHkgb24gdG9wIG9mIHRoaXMgY2hhbmdlKS4K
PiAKPiBJIHRoaW5rIGl0J3MgYWxzbyBjb3VudGVyIHRvIGhvdyB0aGUgYXRvbWljIGhlbHBlcnMg
YXJlIG1lYW50IHRvIGJlIHVzZWQuCj4gSSBtZWFuIHlvdSdyZSBhZGRpbmcgYSBwaWxlIG5ldyBo
b29rcyBoZXJlIGFsbCBmb3IgZXNzZW50aWFsbHkgbm90IGhhdmluZwo+IHRvIHR5cGUgYSBmZXcg
bGluZXMgb2YgaGVscGVyIGNvZGUuIElmIHlvdSBsb29rIGFyb3VuZCBhdCBiaWcgZHJpdmVycwo+
IChpOTE1LCBhbWRncHUsIG5vdXZlYXUpIF9ub25lXyBvZiB0aGVtIHVzZSB0aGUgbW9kZXNldHNf
ZW5hYmxlcy9kaXNhYmxlcwo+IGhlbHBlcnMuIEV4YWN0bHkgZm9yIHJlYXNvbnMgbGlrZSB0aGlz
IHdoZXJlIHlvdSBuZWVkIGEgY3VzdG9tIHNlcXVlbmNlLgo+IAo+IFNvIHByb3BlciByZWNvbW1l
bmRhdGlvbiBpcyB0byBqdXN0IHR5cGUgeW91ciBvd24sIHlvdSdsbCBiZSBoYXBwaWVyLgo+IAo+
ID4gSXQgaGFzIGJlZW4gZXN0YWJsaXNoZWQgZm9yIHF1aXRlIHNvbWUgdGltZSBub3cgdGhhdCBl
eHBvc2luZwo+ID4gZHJtX2VuY29kZXIgdG8gdXNlcnNwYWNlIHdhcyBsaWtlbHkgYSBtaXN0YWtl
LCBhbmQgdGhhdCBpdCBzaG91bGQgaGF2ZQo+ID4gc3RheWVkIGEga2VybmVsLW9ubHkgb2JqZWN0
LiBXaXRoIHRoZSBnZW5lcmFsaXNlZCB1c2FnZSBvZiBkcm1fYnJpZGdlLCBJCj4gPiB3b3VsZCBn
byBvbmUgc3RlcCBmdXJ0aGVyOiBkcm1fZW5jb2RlciBzaG91bGRuJ3QgbWF0dGVyIGZvciBEUk0v
S01TCj4gPiBkcml2ZXJzIGF0IGFsbC4KPiA+IAo+ID4gZHJtX2JyaWRnZSBoYXMgYmVlbiBpbnRy
b2R1Y2VkIHRvIG1vZGVsIGNoYWluZWQgZW5jb2RlcnMsIHdoZXJlIHRoZQo+ID4gc2Vjb25kIChh
bmQgc3Vic2VxdWVudCkgZW5jb2RlcnMgY291bGRuJ3QgZWFzaWx5IGJlIHN1cHBvcnRlZCBpbiBh
Cj4gPiBzdGFuZGFyZCBhbmQgcmV1c2FibGUgd2F5IHdpdGgganVzdCBkcm1fZW5jb2Rlci4gQSBi
cmlkZ2UgKHdpdGggdGhlCj4gPiBleGNlcHRpb24gb2YgdGhlIHBhbmVsIGJyaWRnZSkgaXMganVz
dCBhbiBlbmNvZGVyLiBJdCBzaG91bGRuJ3QgbWF0dGVyCj4gPiB3aGV0aGVyIGVuY29kZXJzIGFy
ZSBpbnRlcm5hbCB0byB0aGUgZGlzcGxheSBjb250cm9sbGVyLCBzZXBhcmF0ZSBJUHMgaW4KPiA+
IHRoZSBTb0Mgb3IgZXh0ZXJuYWwgY29tcG9uZW50cywgdGhleSBjb3VsZCBhbGwgYmUgbW9kZWxs
ZWQgYXMgYnJpZGdlcy4KPiA+IFdlIGRvIGhhdmUgYnJpZGdlcyBmb3IgRFNJIGVuY29kZXIgSVBz
LCBhbmQgRFNJIChhbmQgb3RoZXIpIGJyaWRnZXMKPiA+IHBvdGVudGlhbGx5IG5lZWQgc2ltaWxh
ciBjdXN0b20gZW5hYmxlL2Rpc2FibGUgc2VxdWVuY2VzLiBJIHdvdWxkIHRodXMKPiA+IGlkZWFs
bHkgbGlrZSB0byBzZWUgdGhlIFZDNCBhbmQgRXh5bm9zIERTSSBlbmNvZGVycyBiZWluZyBpbXBs
ZW1lbnRlZCBhcwo+ID4gYnJpZGdlcywgd2l0aCBzdXBwb3J0IGZvciBjdXN0b20gZW5hYmxlL2Rp
c2FibGUgc2VxdWVuY2VzIGluIGJyaWRnZXMsCj4gPiBhbmQgZHJvcCBzdXBwb3J0IGZvciBjdXN0
b20gZW5hYmxlL2Rpc2FibGUgc2VxdWVuY2VzIGluIGRybV9lbmNvZGVyLgo+ID4gCj4gPiBEb2Vz
IHRoaXMgbWFrZSBzZW5zZSB0byB5b3UgPyBXaGlsZSBJIHdvdWxkIGxvdmUgdG8gc2VlIHRoaXMg
YmVpbmcKPiA+IGltcGxlbWVudGVkIHJpZ2h0IGF3YXksIGl0IG1heSBiZSB0b28gbXVjaCB3b3Jr
IGFzIGEgcHJlcmVxdWlzaXRlIGZvcgo+ID4gdGhpcyBidXMgZm9ybWF0IG5lZ290aWF0aW9uIHNl
cmllcywgc28gSSBkb24ndCB3YW50IHRvIHJlamVjdCB0aGlzCj4gPiBwYXRjaC4gSSB3b3VsZCBo
b3dldmVyIGxpa2UgdG8gYWxyZWFkeSBtYWtlIHN1cmUgd2UgYWdyZWUgb24gdGhlIHdheQo+ID4g
Zm9yd2FyZCBmb3IgdGhlIG5leHQgc3RlcHMuCj4gCj4gWWVhaCB0aGUgb3RoZXIgYml0IGlzIHRo
YXQgYnJpZGdlcyBhcmUgc3VwcG9zZWQgdG8gYmUgc29tZSBraW5kIG9mCj4gc3RhbmRhcmQuIEkg
ZG8gd29uZGVyIChJIGhhdmVuJ3QgbG9va2VkIGF0IHRoZSBzZXJpZXMpIHdoZXRoZXIgdGhlIHBy
b2JsZW0KPiBoZXJlIGlzIHRoYXQgZW5jb2RlcnMgZG9uJ3QgaGF2ZSB0aGVpciBvd24gZnVsbCBz
ZXQgb2YgcHJlL3Bvc3QgZW5hYmxlCj4gaG9va3MgbGlrZSBicmlkZ2VzIChlc3NlbnRpYWxseSB0
aGF0J3Mgd2hhdCB5b3UncmUgYWRkaW5nIGhlcmUpLCBvcgo+IHdoZXRoZXIgdGhlIGlkZWEgYmVo
aW5kIHByZS9wb3N0IGVuYWJsZS9kaXNhYmxlIGhvb2tzIGlzIG5vdCBnb29kIGVub3VnaC4KCkl0
J3MgYSBtb3N0bHktZ29vZCBpZGVhIDotKSBEU0kgaXMgYSBiaXQgbW9yZSB0cm91Ymxlc29tZSBh
cyBpdCBvZnRlbgpyZXF1aXJlcyBlbmFibGUvZGlzYWJsZSBzZXF1ZW5jZXMgdGhhdCBhcmUgYSBi
aXQgbW9yZSBlbnRhbmdsZWQgYmV0d2Vlbgp0aGUgc291cmNlIGFuZCB0aGUgc2luay4gVGhhdCdz
IHdoeSB0aGUgb21hcGRybSBkcml2ZXIgb3JpZ2luYWxseQpjb250cm9sbGVkIGVuYWJsaW5nIGZy
b20gc2luayB0byBzb3VyY2UsIGl0IHdvdWxkIGxvY2F0ZSB0aGUgYnJpZGdlIChvcgp0aGUgb21h
cGRybSBpbnRlcm5hbCBlcXVpdmFsZW50IG9mIGJyaWRnZSB0byBiZSBtb3JlIGFjY3VyYXRlKSBh
dCB0aGUKZW5kIG9mIHRoZSBjaGFpbiwgYW5kIGVuYWJsZSBpdC4gVGhlIGJyaWRnZSB3b3VsZCB0
aGVuIGJlIHJlc3BvbnNpYmxlCmZvciBmb3J3YXJkaW5nIHRoZSBlbmFibGUgY2FsbCB0byBpdHMg
c291cmNlLCBicm9rZW4gaW4gc2V2ZXJhbApmaW5lLWdyYWluZWQgY2FsbHMgZm9yIERTSS4gVGhh
dCBhbGxvd2VkIGEgRFNJIHNpbmsgdG8gaW1wbGVtZW50CmNvbXBsZXRlbHkgY3VzdG9tIGVuYWJs
ZS9kaXNhYmxlIHNlcXVlbmNlcywgYW5kIGVuYWJsZSB0aGUgc291cmNlCmFjY29yZGluZ2x5ICh1
c3VhbGx5IGJ5IGZpcnN0IGVuYWJsaW5nIGNsb2NrcywgdGhlbiBlbmFibGluZyBkYXRhCnRyYW5z
bWlzc2lvbiBidXQgd2l0aG91dCBhY3R1YWwgZGlzcGxheSBkYXRhLCBhbmQgZmluYWxseSBlbmFi
bGluZwp0cmFuc2ZlciBvZiBkaXNwbGF5IGRhdGEpLiBUaGUgY29zdCB3YXMgYSBtb3JlIGNvbXBs
ZXggZW5hYmxlL2Rpc2FibGUKaW1wbGVtZW50YXRpb24gZm9yIGVhY2ggYnJpZGdlLgoKSSB0aGlu
ayB0aGUgcHJlL3Bvc3QgZW5hYmxlL2Rpc2FibGUgb3BlcmF0aW9ucyB3ZSBoYXZlIG5vdyBhcmUg
bW9zdGx5Cmdvb2QsIGJ1dCBmb3Igc29tZSBsaW5rcyB0aGV5IG5lZWQgdG8gYmUgbWFudWFsbHkg
Y29udHJvbGxlZC4gT2YgY291cnNlCkkgY2FuJ3QgcnVsZSBvdXQgYSBuZXcgZGlzcGxheSBidXMg
aW4gdGhlIGZ1dHVyZSB0aGF0IHdpbGwgc2hhdHRlciB0aGlzCmRvd24gdG8gcGllY2VzIGJ5IHJl
cXVpcmluZyBtb3JlIGNvbXBsZXggZW5hYmxlL2Rpc2FibGUgc2VxdWVuY2VzLgoKPiBBbnl3YXks
IHRoaXMgaGVyZSBpcyBpbW8gbm90IHRoZSByaWdodCB0aGluZyB0byBkby4gSWYgc2V0dGluZwo+
IGVuY29kZXItPmJyaWRnZSB0byBOVUxMIGRvZXNuJ3Qgd29yayBmb3IgeW91IHRoZW4ganVzdCB0
eXBlIHlvdXIgb3duCj4gZW5hYmxlL2Rpc2FibGUgaW1wbGVtZW50YXRpb25zLiBUaGVyZSdzIGV4
cGxpY2l0bHkgbm8gcmVxdWlyZW1lbnQgdG8gdXNlCj4gYWxsIHBhcnRzIG9mIGF0b21pYyBoZWxw
ZXJzLCBhdSBjb250cmFpcmUsIGl0J3MgZXhwbGljaXRseSBkaXNjb3VyYWdlZC4KPiAKPiA+ID4g
U2lnbmVkLW9mZi1ieTogQm9yaXMgQnJlemlsbG9uIDxib3Jpcy5icmV6aWxsb25AY29sbGFib3Jh
LmNvbT4KPiA+ID4gLS0tCj4gPiA+ICBkcml2ZXJzL2dwdS9kcm0vZHJtX2F0b21pY19oZWxwZXIu
YyB8IDEzICsrKysrKystLS0KPiA+ID4gIGRyaXZlcnMvZ3B1L2RybS9kcm1fY3J0Y19oZWxwZXIu
YyAgIHwgMzggKysrKysrKysrKysrKysrKysrLS0tLS0tLS0tLS0KPiA+ID4gIGluY2x1ZGUvZHJt
L2RybV9lbmNvZGVyLmggICAgICAgICAgIHwgIDkgKysrKysrKwo+ID4gPiAgMyBmaWxlcyBjaGFu
Z2VkLCA0MiBpbnNlcnRpb25zKCspLCAxOCBkZWxldGlvbnMoLSkKPiA+ID4gCj4gPiA+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vZHJtX2F0b21pY19oZWxwZXIuYyBiL2RyaXZlcnMvZ3B1
L2RybS9kcm1fYXRvbWljX2hlbHBlci5jCj4gPiA+IGluZGV4IDQ3MDY0MzlmYjQ5MC4uMTVlYTYx
ODc3MTIyIDEwMDY0NAo+ID4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vZHJtX2F0b21pY19oZWxw
ZXIuYwo+ID4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2F0b21pY19oZWxwZXIuYwo+ID4g
PiBAQCAtMTAzMCw3ICsxMDMwLDggQEAgZGlzYWJsZV9vdXRwdXRzKHN0cnVjdCBkcm1fZGV2aWNl
ICpkZXYsIHN0cnVjdCBkcm1fYXRvbWljX3N0YXRlICpvbGRfc3RhdGUpCj4gPiA+ICAJCSAqIEVh
Y2ggZW5jb2RlciBoYXMgYXQgbW9zdCBvbmUgY29ubmVjdG9yIChzaW5jZSB3ZSBhbHdheXMgc3Rl
YWwKPiA+ID4gIAkJICogaXQgYXdheSksIHNvIHdlIHdvbid0IGNhbGwgZGlzYWJsZSBob29rcyB0
d2ljZS4KPiA+ID4gIAkJICovCj4gPiA+IC0JCWRybV9hdG9taWNfYnJpZGdlX2Rpc2FibGUoZW5j
b2Rlci0+YnJpZGdlLCBvbGRfc3RhdGUpOwo+ID4gPiArCQlpZiAoIWVuY29kZXItPmN1c3RvbV9i
cmlkZ2VfZW5hYmxlX2Rpc2FibGVfc2VxKQo+ID4gPiArCQkJZHJtX2F0b21pY19icmlkZ2VfZGlz
YWJsZShlbmNvZGVyLT5icmlkZ2UsIG9sZF9zdGF0ZSk7Cj4gPiA+ICAKPiA+ID4gIAkJLyogUmln
aHQgZnVuY3Rpb24gZGVwZW5kcyB1cG9uIHRhcmdldCBzdGF0ZS4gKi8KPiA+ID4gIAkJaWYgKGZ1
bmNzKSB7Cj4gPiA+IEBAIC0xMDQ0LDcgKzEwNDUsOSBAQCBkaXNhYmxlX291dHB1dHMoc3RydWN0
IGRybV9kZXZpY2UgKmRldiwgc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKm9sZF9zdGF0ZSkKPiA+
ID4gIAkJCQlmdW5jcy0+ZHBtcyhlbmNvZGVyLCBEUk1fTU9ERV9EUE1TX09GRik7Cj4gPiA+ICAJ
CX0KPiA+ID4gIAo+ID4gPiAtCQlkcm1fYXRvbWljX2JyaWRnZV9wb3N0X2Rpc2FibGUoZW5jb2Rl
ci0+YnJpZGdlLCBvbGRfc3RhdGUpOwo+ID4gPiArCQlpZiAoIWVuY29kZXItPmN1c3RvbV9icmlk
Z2VfZW5hYmxlX2Rpc2FibGVfc2VxKQo+ID4gPiArCQkJZHJtX2F0b21pY19icmlkZ2VfcG9zdF9k
aXNhYmxlKGVuY29kZXItPmJyaWRnZSwKPiA+ID4gKwkJCQkJCSAgICAgICBvbGRfc3RhdGUpOwo+
ID4gPiAgCX0KPiA+ID4gIAo+ID4gPiAgCWZvcl9lYWNoX29sZG5ld19jcnRjX2luX3N0YXRlKG9s
ZF9zdGF0ZSwgY3J0Yywgb2xkX2NydGNfc3RhdGUsIG5ld19jcnRjX3N0YXRlLCBpKSB7Cj4gPiA+
IEBAIC0xMzQyLDcgKzEzNDUsOCBAQCB2b2lkIGRybV9hdG9taWNfaGVscGVyX2NvbW1pdF9tb2Rl
c2V0X2VuYWJsZXMoc3RydWN0IGRybV9kZXZpY2UgKmRldiwKPiA+ID4gIAkJICogRWFjaCBlbmNv
ZGVyIGhhcyBhdCBtb3N0IG9uZSBjb25uZWN0b3IgKHNpbmNlIHdlIGFsd2F5cyBzdGVhbAo+ID4g
PiAgCQkgKiBpdCBhd2F5KSwgc28gd2Ugd29uJ3QgY2FsbCBlbmFibGUgaG9va3MgdHdpY2UuCj4g
PiA+ICAJCSAqLwo+ID4gPiAtCQlkcm1fYXRvbWljX2JyaWRnZV9wcmVfZW5hYmxlKGVuY29kZXIt
PmJyaWRnZSwgb2xkX3N0YXRlKTsKPiA+ID4gKwkJaWYgKCFlbmNvZGVyLT5jdXN0b21fYnJpZGdl
X2VuYWJsZV9kaXNhYmxlX3NlcSkKPiA+ID4gKwkJCWRybV9hdG9taWNfYnJpZGdlX3ByZV9lbmFi
bGUoZW5jb2Rlci0+YnJpZGdlLCBvbGRfc3RhdGUpOwo+ID4gPiAgCj4gPiA+ICAJCWlmIChmdW5j
cykgewo+ID4gPiAgCQkJaWYgKGZ1bmNzLT5hdG9taWNfZW5hYmxlKQo+ID4gPiBAQCAtMTM1Myw3
ICsxMzU3LDggQEAgdm9pZCBkcm1fYXRvbWljX2hlbHBlcl9jb21taXRfbW9kZXNldF9lbmFibGVz
KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCj4gPiA+ICAJCQkJZnVuY3MtPmNvbW1pdChlbmNvZGVy
KTsKPiA+ID4gIAkJfQo+ID4gPiAgCj4gPiA+IC0JCWRybV9hdG9taWNfYnJpZGdlX2VuYWJsZShl
bmNvZGVyLT5icmlkZ2UsIG9sZF9zdGF0ZSk7Cj4gPiA+ICsJCWlmICghZW5jb2Rlci0+Y3VzdG9t
X2JyaWRnZV9lbmFibGVfZGlzYWJsZV9zZXEpCj4gPiA+ICsJCQlkcm1fYXRvbWljX2JyaWRnZV9l
bmFibGUoZW5jb2Rlci0+YnJpZGdlLCBvbGRfc3RhdGUpOwo+ID4gPiAgCX0KPiA+ID4gIAo+ID4g
PiAgCWRybV9hdG9taWNfaGVscGVyX2NvbW1pdF93cml0ZWJhY2tzKGRldiwgb2xkX3N0YXRlKTsK
PiA+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fY3J0Y19oZWxwZXIuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9kcm1fY3J0Y19oZWxwZXIuYwo+ID4gPiBpbmRleCBmYTM2OTQ4MzZjMjIu
Ljg3ZGFlMzdmZWMxMiAxMDA2NDQKPiA+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2RybV9jcnRj
X2hlbHBlci5jCj4gPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fY3J0Y19oZWxwZXIuYwo+
ID4gPiBAQCAtMTYwLDE0ICsxNjAsMTYgQEAgZHJtX2VuY29kZXJfZGlzYWJsZShzdHJ1Y3QgZHJt
X2VuY29kZXIgKmVuY29kZXIpCj4gPiA+ICAJaWYgKCFlbmNvZGVyX2Z1bmNzKQo+ID4gPiAgCQly
ZXR1cm47Cj4gPiA+ICAKPiA+ID4gLQlkcm1fYnJpZGdlX2Rpc2FibGUoZW5jb2Rlci0+YnJpZGdl
KTsKPiA+ID4gKwlpZiAoIWVuY29kZXItPmN1c3RvbV9icmlkZ2VfZW5hYmxlX2Rpc2FibGVfc2Vx
KQo+ID4gPiArCQlkcm1fYnJpZGdlX2Rpc2FibGUoZW5jb2Rlci0+YnJpZGdlKTsKPiA+ID4gIAo+
ID4gPiAgCWlmIChlbmNvZGVyX2Z1bmNzLT5kaXNhYmxlKQo+ID4gPiAgCQkoKmVuY29kZXJfZnVu
Y3MtPmRpc2FibGUpKGVuY29kZXIpOwo+ID4gPiAgCWVsc2UgaWYgKGVuY29kZXJfZnVuY3MtPmRw
bXMpCj4gPiA+ICAJCSgqZW5jb2Rlcl9mdW5jcy0+ZHBtcykoZW5jb2RlciwgRFJNX01PREVfRFBN
U19PRkYpOwo+ID4gPiAgCj4gPiA+IC0JZHJtX2JyaWRnZV9wb3N0X2Rpc2FibGUoZW5jb2Rlci0+
YnJpZGdlKTsKPiA+ID4gKwlpZiAoIWVuY29kZXItPmN1c3RvbV9icmlkZ2VfZW5hYmxlX2Rpc2Fi
bGVfc2VxKQo+ID4gPiArCQlkcm1fYnJpZGdlX3Bvc3RfZGlzYWJsZShlbmNvZGVyLT5icmlkZ2Up
Owo+ID4gPiAgfQo+ID4gPiAgCj4gPiA+ICBzdGF0aWMgdm9pZCBfX2RybV9oZWxwZXJfZGlzYWJs
ZV91bnVzZWRfZnVuY3Rpb25zKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYpCj4gPiA+IEBAIC0zNjUs
MTMgKzM2NywxNSBAQCBib29sIGRybV9jcnRjX2hlbHBlcl9zZXRfbW9kZShzdHJ1Y3QgZHJtX2Ny
dGMgKmNydGMsCj4gPiA+ICAJCWlmICghZW5jb2Rlcl9mdW5jcykKPiA+ID4gIAkJCWNvbnRpbnVl
Owo+ID4gPiAgCj4gPiA+IC0JCWRybV9icmlkZ2VfZGlzYWJsZShlbmNvZGVyLT5icmlkZ2UpOwo+
ID4gPiArCQlpZiAoIWVuY29kZXItPmN1c3RvbV9icmlkZ2VfZW5hYmxlX2Rpc2FibGVfc2VxKQo+
ID4gPiArCQkJZHJtX2JyaWRnZV9kaXNhYmxlKGVuY29kZXItPmJyaWRnZSk7Cj4gPiA+ICAKPiA+
ID4gIAkJLyogRGlzYWJsZSB0aGUgZW5jb2RlcnMgYXMgdGhlIGZpcnN0IHRoaW5nIHdlIGRvLiAq
Lwo+ID4gPiAgCQlpZiAoZW5jb2Rlcl9mdW5jcy0+cHJlcGFyZSkKPiA+ID4gIAkJCWVuY29kZXJf
ZnVuY3MtPnByZXBhcmUoZW5jb2Rlcik7Cj4gPiA+ICAKPiA+ID4gLQkJZHJtX2JyaWRnZV9wb3N0
X2Rpc2FibGUoZW5jb2Rlci0+YnJpZGdlKTsKPiA+ID4gKwkJaWYgKCFlbmNvZGVyLT5jdXN0b21f
YnJpZGdlX2VuYWJsZV9kaXNhYmxlX3NlcSkKPiA+ID4gKwkJCWRybV9icmlkZ2VfcG9zdF9kaXNh
YmxlKGVuY29kZXItPmJyaWRnZSk7Cj4gPiA+ICAJfQo+ID4gPiAgCj4gPiA+ICAJZHJtX2NydGNf
cHJlcGFyZV9lbmNvZGVycyhkZXYpOwo+ID4gPiBAQCAtNDE0LDEyICs0MTgsMTQgQEAgYm9vbCBk
cm1fY3J0Y19oZWxwZXJfc2V0X21vZGUoc3RydWN0IGRybV9jcnRjICpjcnRjLAo+ID4gPiAgCQlp
ZiAoIWVuY29kZXJfZnVuY3MpCj4gPiA+ICAJCQljb250aW51ZTsKPiA+ID4gIAo+ID4gPiAtCQlk
cm1fYnJpZGdlX3ByZV9lbmFibGUoZW5jb2Rlci0+YnJpZGdlKTsKPiA+ID4gKwkJaWYgKCFlbmNv
ZGVyLT5jdXN0b21fYnJpZGdlX2VuYWJsZV9kaXNhYmxlX3NlcSkKPiA+ID4gKwkJCWRybV9icmlk
Z2VfcHJlX2VuYWJsZShlbmNvZGVyLT5icmlkZ2UpOwo+ID4gPiAgCj4gPiA+ICAJCWlmIChlbmNv
ZGVyX2Z1bmNzLT5jb21taXQpCj4gPiA+ICAJCQllbmNvZGVyX2Z1bmNzLT5jb21taXQoZW5jb2Rl
cik7Cj4gPiA+ICAKPiA+ID4gLQkJZHJtX2JyaWRnZV9lbmFibGUoZW5jb2Rlci0+YnJpZGdlKTsK
PiA+ID4gKwkJaWYgKCFlbmNvZGVyLT5jdXN0b21fYnJpZGdlX2VuYWJsZV9kaXNhYmxlX3NlcSkK
PiA+ID4gKwkJCWRybV9icmlkZ2VfZW5hYmxlKGVuY29kZXItPmJyaWRnZSk7Cj4gPiA+ICAJfQo+
ID4gPiAgCj4gPiA+ICAJLyogQ2FsY3VsYXRlIGFuZCBzdG9yZSB2YXJpb3VzIGNvbnN0YW50cyB3
aGljaAo+ID4gPiBAQCAtODI1LDE4ICs4MzEsMjIgQEAgc3RhdGljIHZvaWQgZHJtX2hlbHBlcl9l
bmNvZGVyX2RwbXMoc3RydWN0IGRybV9lbmNvZGVyICplbmNvZGVyLCBpbnQgbW9kZSkKPiA+ID4g
IAlpZiAoIWVuY29kZXJfZnVuY3MpCj4gPiA+ICAJCXJldHVybjsKPiA+ID4gIAo+ID4gPiAtCWlm
IChtb2RlID09IERSTV9NT0RFX0RQTVNfT04pCj4gPiA+IC0JCWRybV9icmlkZ2VfcHJlX2VuYWJs
ZShicmlkZ2UpOwo+ID4gPiAtCWVsc2UKPiA+ID4gLQkJZHJtX2JyaWRnZV9kaXNhYmxlKGJyaWRn
ZSk7Cj4gPiA+ICsJaWYgKCFlbmNvZGVyLT5jdXN0b21fYnJpZGdlX2VuYWJsZV9kaXNhYmxlX3Nl
cSkgewo+ID4gPiArCQlpZiAobW9kZSA9PSBEUk1fTU9ERV9EUE1TX09OKQo+ID4gPiArCQkJZHJt
X2JyaWRnZV9wcmVfZW5hYmxlKGJyaWRnZSk7Cj4gPiA+ICsJCWVsc2UKPiA+ID4gKwkJCWRybV9i
cmlkZ2VfZGlzYWJsZShicmlkZ2UpOwo+ID4gPiArCX0KPiA+ID4gIAo+ID4gPiAgCWlmIChlbmNv
ZGVyX2Z1bmNzLT5kcG1zKQo+ID4gPiAgCQllbmNvZGVyX2Z1bmNzLT5kcG1zKGVuY29kZXIsIG1v
ZGUpOwo+ID4gPiAgCj4gPiA+IC0JaWYgKG1vZGUgPT0gRFJNX01PREVfRFBNU19PTikKPiA+ID4g
LQkJZHJtX2JyaWRnZV9lbmFibGUoYnJpZGdlKTsKPiA+ID4gLQllbHNlCj4gPiA+IC0JCWRybV9i
cmlkZ2VfcG9zdF9kaXNhYmxlKGJyaWRnZSk7Cj4gPiA+ICsJaWYgKCFlbmNvZGVyLT5jdXN0b21f
YnJpZGdlX2VuYWJsZV9kaXNhYmxlX3NlcSkgewo+ID4gPiArCQlpZiAobW9kZSA9PSBEUk1fTU9E
RV9EUE1TX09OKQo+ID4gPiArCQkJZHJtX2JyaWRnZV9lbmFibGUoYnJpZGdlKTsKPiA+ID4gKwkJ
ZWxzZQo+ID4gPiArCQkJZHJtX2JyaWRnZV9wb3N0X2Rpc2FibGUoYnJpZGdlKTsKPiA+ID4gKwl9
Cj4gPiA+ICB9Cj4gPiA+ICAKPiA+ID4gIHN0YXRpYyBpbnQgZHJtX2hlbHBlcl9jaG9vc2VfY3J0
Y19kcG1zKHN0cnVjdCBkcm1fY3J0YyAqY3J0YykKPiA+ID4gZGlmZiAtLWdpdCBhL2luY2x1ZGUv
ZHJtL2RybV9lbmNvZGVyLmggYi9pbmNsdWRlL2RybS9kcm1fZW5jb2Rlci5oCj4gPiA+IGluZGV4
IDcwY2ZjYTAzZDgxMi4uZDk4NmZmMTE5N2NlIDEwMDY0NAo+ID4gPiAtLS0gYS9pbmNsdWRlL2Ry
bS9kcm1fZW5jb2Rlci5oCj4gPiA+ICsrKyBiL2luY2x1ZGUvZHJtL2RybV9lbmNvZGVyLmgKPiA+
ID4gQEAgLTE3NSw2ICsxNzUsMTUgQEAgc3RydWN0IGRybV9lbmNvZGVyIHsKPiA+ID4gIAlzdHJ1
Y3QgZHJtX2JyaWRnZSAqYnJpZGdlOwo+ID4gPiAgCWNvbnN0IHN0cnVjdCBkcm1fZW5jb2Rlcl9m
dW5jcyAqZnVuY3M7Cj4gPiA+ICAJY29uc3Qgc3RydWN0IGRybV9lbmNvZGVyX2hlbHBlcl9mdW5j
cyAqaGVscGVyX3ByaXZhdGU7Cj4gPiA+ICsKPiA+ID4gKwkvKioKPiA+ID4gKwkgKiBAY3VzdG9t
X2JyaWRnZV9lbmFibGVfZGlzYWJsZV9zZXE6IFNldCB0byB0cnVlIGlmIHRoZSBlbmNvZGVyIG5l
ZWRzCj4gPiA+ICsJICogYSBjdXN0b20gYnJpZGdlL2VuY29kZXIgZW5hYmxlL2Rpc2FibGUgc2Vx
dWVuY2UuIEluIHRoYXQgY2FzZSB0aGUKPiA+ID4gKwkgKiBkcml2ZXIgaXMgcmVzcG9uc2libGUg
Zm9yIGNhbGxpbmcgdGhlCj4gPiA+ICsJICogZHJtW19hdG9taWNdX2JyaWRnZV97cHJlX2VuYWJs
ZSxlbmFibGUsZGlzYWJsZSxwb3N0X2Rpc2FibGV9KCkKPiA+ID4gKwkgKiBmdW5jdGlvbnMgYXMg
cGFydCBvZiBpdHMgZW5jb2RlciBlbmFibGUvZGlzYWJsZSBoYW5kbGluZy4KPiA+ID4gKwkgKi8K
PiA+ID4gKwl1aW50MzJfdCBjdXN0b21fYnJpZGdlX2VuYWJsZV9kaXNhYmxlX3NlcSA6IDE7Cj4g
PiA+ICB9Owo+ID4gPiAgCj4gPiA+ICAjZGVmaW5lIG9ial90b19lbmNvZGVyKHgpIGNvbnRhaW5l
cl9vZih4LCBzdHJ1Y3QgZHJtX2VuY29kZXIsIGJhc2UpCgotLSAKUmVnYXJkcywKCkxhdXJlbnQg
UGluY2hhcnQKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18K
ZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0
dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
