Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id CF42ECB545
	for <lists+dri-devel@lfdr.de>; Fri,  4 Oct 2019 09:39:55 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A2CE96EAC4;
	Fri,  4 Oct 2019 07:38:53 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mx1.suse.de (mx2.suse.de [195.135.220.15])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A0BA66EA7D
 for <dri-devel@lists.freedesktop.org>; Thu,  3 Oct 2019 20:20:26 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id 1AF0FB03B;
 Thu,  3 Oct 2019 20:20:25 +0000 (UTC)
From: Davidlohr Bueso <dave@stgolabs.net>
To: akpm@linux-foundation.org
Subject: [PATCH 06/11] IB,
 usnic: convert usnic_uiom_interval_tree to half closed intervals
Date: Thu,  3 Oct 2019 13:18:53 -0700
Message-Id: <20191003201858.11666-7-dave@stgolabs.net>
X-Mailer: git-send-email 2.16.4
In-Reply-To: <20191003201858.11666-1-dave@stgolabs.net>
References: <20191003201858.11666-1-dave@stgolabs.net>
X-Mailman-Approved-At: Fri, 04 Oct 2019 07:38:50 +0000
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Nelson Escobar <neescoba@cisco.com>, dave@stgolabs.net,
 Jason Gunthorpe <jgg@ziepe.ca>, peterz@infradead.org,
 Christian Benvenuti <benve@cisco.com>, linux-kernel@vger.kernel.org,
 dri-devel@lists.freedesktop.org, Davidlohr Bueso <dbueso@suse.de>,
 linux-mm@kvack.org, Doug Ledford <dledford@redhat.com>, walken@google.com,
 linux-rdma@vger.kernel.org
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIHVzbmljX3Vpb20gaW50ZXJ2YWwgdHJlZSByZWFsbHkgd2FudHMgW2EsIGIpIGludGVydmFs
cywKbm90IGZ1bGx5IGNsb3NlZC4gQXMgc3VjaCBjb252ZXJ0IGl0IHRvIHVzZSB0aGUgbmV3Cmlu
dGVydmFsX3RyZWVfZ2VuLmgsIGFuZCBhbHNvIHJlbmFtZSB0aGUgJ2xhc3QnIGVuZHBvaW50Cmlu
IHRoZSBub2RlIHRvICdlbmQnLCB3aGljaCBib3RoIGEgbW9yZSBzdWl0YWJsZSBuYW1lIGZvcgp0
aGUgaGFsZiBjbG9zZWQgaW50ZXJ2YWwgYW5kIGFsc28gcmVkdWNlcyB0aGUgY2hhbmNlcyBvZiBz
b21lCmNhbGxlciBiZWluZyBtaXNzZWQuCgpUaGUgY29udmVyc2lvbiBjYW4gZ2V0IG5vbi10cml2
aWFsIHdoZW4gY2FsbGluZyBpbnRvIHRoaW5ncyBsaWtlOgoKIC0gZmluZF9pbnRlcnZhbHNfaW50
ZXJzZWN0aW9uX3NvcnRlZCgpCiAtIHVzbmljX3Vpb21faW5zZXJ0X2ludGVydmFsKCkKCndoaWNo
IGhhdmUgYmVlbiBjb252ZXJ0ZWQgdG8gbm8gbG9uZ2VyIHN1YnRyYWN0aW5nIG9uZSBmcm9tIHRo
ZQppbnRlcnZhbC0+ZW5kLCBob3BpbmcgdGhhdCB0aGUgc2VtYW50aWNzIG9mIGFkLWhvYyB1c2Fn
ZSByZW1haW4KdW50b3VjaGVkLgoKQ2M6IENocmlzdGlhbiBCZW52ZW51dGkgPGJlbnZlQGNpc2Nv
LmNvbT4KQ2M6IE5lbHNvbiBFc2NvYmFyIDxuZWVzY29iYUBjaXNjby5jb20+CkNjOiBEb3VnIExl
ZGZvcmQgPGRsZWRmb3JkQHJlZGhhdC5jb20+CkNjOiBKYXNvbiBHdW50aG9ycGUgPGpnZ0B6aWVw
ZS5jYT4KQ2M6IGxpbnV4LXJkbWFAdmdlci5rZXJuZWwub3JnClNpZ25lZC1vZmYtYnk6IERhdmlk
bG9ociBCdWVzbyA8ZGJ1ZXNvQHN1c2UuZGU+Ci0tLQogZHJpdmVycy9pbmZpbmliYW5kL2h3L3Vz
bmljL3VzbmljX3Vpb20uYyAgICAgICAgICAgfCAgOCArKystLS0tCiAuLi4vaW5maW5pYmFuZC9o
dy91c25pYy91c25pY191aW9tX2ludGVydmFsX3RyZWUuYyB8IDI2ICsrKysrKysrKystLS0tLS0t
LS0tLS0KIC4uLi9pbmZpbmliYW5kL2h3L3VzbmljL3VzbmljX3Vpb21faW50ZXJ2YWxfdHJlZS5o
IHwgIDIgKy0KIDMgZmlsZXMgY2hhbmdlZCwgMTcgaW5zZXJ0aW9ucygrKSwgMTkgZGVsZXRpb25z
KC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9pbmZpbmliYW5kL2h3L3VzbmljL3VzbmljX3Vpb20u
YyBiL2RyaXZlcnMvaW5maW5pYmFuZC9ody91c25pYy91c25pY191aW9tLmMKaW5kZXggNjJlNmZm
YTlhZDc4Li4xNGY2MDdjMzk4YTggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvaW5maW5pYmFuZC9ody91
c25pYy91c25pY191aW9tLmMKKysrIGIvZHJpdmVycy9pbmZpbmliYW5kL2h3L3VzbmljL3Vzbmlj
X3Vpb20uYwpAQCAtMjAwLDcgKzIwMCw3IEBAIHN0YXRpYyB2b2lkIHVzbmljX3Vpb21fdW5tYXBf
c29ydGVkX2ludGVydmFscyhzdHJ1Y3QgbGlzdF9oZWFkICppbnRlcnZhbHMsCiAKIAlsaXN0X2Zv
cl9lYWNoX2VudHJ5X3NhZmUoaW50ZXJ2YWwsIHRtcCwgaW50ZXJ2YWxzLCBsaW5rKSB7CiAJCXZh
ID0gaW50ZXJ2YWwtPnN0YXJ0IDw8IFBBR0VfU0hJRlQ7Ci0JCXNpemUgPSAoKGludGVydmFsLT5s
YXN0IC0gaW50ZXJ2YWwtPnN0YXJ0KSArIDEpIDw8IFBBR0VfU0hJRlQ7CisJCXNpemUgPSAoaW50
ZXJ2YWwtPmVuZCAtIGludGVydmFsLT5zdGFydCkgPDwgUEFHRV9TSElGVDsKIAkJd2hpbGUgKHNp
emUgPiAwKSB7CiAJCQkvKiBXb3JrYXJvdW5kIGZvciBSSCA5NzA0MDEgKi8KIAkJCXVzbmljX2Ri
ZygidmEgMHglbHggc2l6ZSAweCVseCIsIHZhLCBQQUdFX1NJWkUpOwpAQCAtMjIzLDcgKzIyMyw3
IEBAIHN0YXRpYyB2b2lkIF9fdXNuaWNfdWlvbV9yZWdfcmVsZWFzZShzdHJ1Y3QgdXNuaWNfdWlv
bV9wZCAqcGQsCiAKIAlucGFnZXMgPSBQQUdFX0FMSUdOKHVpb21yLT5sZW5ndGggKyB1aW9tci0+
b2Zmc2V0KSA+PiBQQUdFX1NISUZUOwogCXZwbl9zdGFydCA9ICh1aW9tci0+dmEgJiBQQUdFX01B
U0spID4+IFBBR0VfU0hJRlQ7Ci0JdnBuX2xhc3QgPSB2cG5fc3RhcnQgKyBucGFnZXMgLSAxOwor
CXZwbl9sYXN0ID0gdnBuX3N0YXJ0ICsgbnBhZ2VzOwogCiAJc3Bpbl9sb2NrKCZwZC0+bG9jayk7
CiAJdXNuaWNfdWlvbV9yZW1vdmVfaW50ZXJ2YWwoJnBkLT5yb290LCB2cG5fc3RhcnQsCkBAIC0y
OTMsNyArMjkzLDcgQEAgc3RhdGljIGludCB1c25pY191aW9tX21hcF9zb3J0ZWRfaW50ZXJ2YWxz
KHN0cnVjdCBsaXN0X2hlYWQgKmludGVydmFscywKIAkJCQlwYV9lbmQgPSBwYTsKIAkJCX0KIAot
CQkJaWYgKCh2YSA+PiBQQUdFX1NISUZUKSA9PSBpbnRlcnZhbF9ub2RlLT5sYXN0KSB7CisJCQlp
ZiAoKHZhID4+IFBBR0VfU0hJRlQpID09IGludGVydmFsX25vZGUtPmVuZCkgewogCQkJCS8qIExh
c3QgcGFnZSBvZiB0aGUgaW50ZXJ2YWwgKi8KIAkJCQlzaXplID0gcGEgLSBwYV9zdGFydCArIFBB
R0VfU0laRTsKIAkJCQl1c25pY19kYmcoInZhIDB4JWx4IHBhICVwYSBzaXplIDB4JXp4IGZsYWdz
IDB4JXhcbiIsCkBAIC0zNTQsNyArMzU0LDcgQEAgc3RydWN0IHVzbmljX3Vpb21fcmVnICp1c25p
Y191aW9tX3JlZ19nZXQoc3RydWN0IHVzbmljX3Vpb21fcGQgKnBkLAogCW9mZnNldCA9IGFkZHIg
JiB+UEFHRV9NQVNLOwogCW5wYWdlcyA9IFBBR0VfQUxJR04oc2l6ZSArIG9mZnNldCkgPj4gUEFH
RV9TSElGVDsKIAl2cG5fc3RhcnQgPSAoYWRkciAmIFBBR0VfTUFTSykgPj4gUEFHRV9TSElGVDsK
LQl2cG5fbGFzdCA9IHZwbl9zdGFydCArIG5wYWdlcyAtIDE7CisJdnBuX2xhc3QgPSB2cG5fc3Rh
cnQgKyBucGFnZXM7CiAKIAl1aW9tciA9IGttYWxsb2Moc2l6ZW9mKCp1aW9tciksIEdGUF9LRVJO
RUwpOwogCWlmICghdWlvbXIpCmRpZmYgLS1naXQgYS9kcml2ZXJzL2luZmluaWJhbmQvaHcvdXNu
aWMvdXNuaWNfdWlvbV9pbnRlcnZhbF90cmVlLmMgYi9kcml2ZXJzL2luZmluaWJhbmQvaHcvdXNu
aWMvdXNuaWNfdWlvbV9pbnRlcnZhbF90cmVlLmMKaW5kZXggZDM5OTUyMzIwNmM3Li4xMmM5Njg0
NDc2NzMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvaW5maW5pYmFuZC9ody91c25pYy91c25pY191aW9t
X2ludGVydmFsX3RyZWUuYworKysgYi9kcml2ZXJzL2luZmluaWJhbmQvaHcvdXNuaWMvdXNuaWNf
dWlvbV9pbnRlcnZhbF90cmVlLmMKQEAgLTM2LDExICszNiwxMSBAQAogI2luY2x1ZGUgPGxpbnV4
L3NsYWIuaD4KICNpbmNsdWRlIDxsaW51eC9saXN0X3NvcnQuaD4KIAotI2luY2x1ZGUgPGxpbnV4
L2ludGVydmFsX3RyZWVfZ2VuZXJpYy5oPgorI2luY2x1ZGUgPGxpbnV4L2ludGVydmFsX3RyZWVf
Z2VuLmg+CiAjaW5jbHVkZSAidXNuaWNfdWlvbV9pbnRlcnZhbF90cmVlLmgiCiAKICNkZWZpbmUg
U1RBUlQobm9kZSkgKChub2RlKS0+c3RhcnQpCi0jZGVmaW5lIExBU1Qobm9kZSkgKChub2RlKS0+
bGFzdCkKKyNkZWZpbmUgRU5EKG5vZGUpICgobm9kZSktPmVuZCkKIAogI2RlZmluZSBNQUtFX05P
REUobm9kZSwgc3RhcnQsIGVuZCwgcmVmX2NudCwgZmxhZ3MsIGVyciwgZXJyX291dCkJXAogCQlk
byB7CQkJCQkJCVwKQEAgLTc2LDcgKzc2LDcgQEAgdXNuaWNfdWlvbV9pbnRlcnZhbF9ub2RlX2Fs
bG9jKGxvbmcgaW50IHN0YXJ0LCBsb25nIGludCBsYXN0LCBpbnQgcmVmX2NudCwKIAkJcmV0dXJu
IE5VTEw7CiAKIAlpbnRlcnZhbC0+c3RhcnQgPSBzdGFydDsKLQlpbnRlcnZhbC0+bGFzdCA9IGxh
c3Q7CisJaW50ZXJ2YWwtPmVuZCA9IGxhc3Q7CiAJaW50ZXJ2YWwtPmZsYWdzID0gZmxhZ3M7CiAJ
aW50ZXJ2YWwtPnJlZl9jbnQgPSByZWZfY250OwogCkBAIC0xMzMsNyArMTMzLDcgQEAgaW50IHVz
bmljX3Vpb21fZ2V0X2ludGVydmFsc19kaWZmKHVuc2lnbmVkIGxvbmcgc3RhcnQsIHVuc2lnbmVk
IGxvbmcgbGFzdCwKIAogCWxpc3RfZm9yX2VhY2hfZW50cnkoaW50ZXJ2YWwsICZpbnRlcnNlY3Rp
b25fc2V0LCBsaW5rKSB7CiAJCWlmIChwaXZvdCA8IGludGVydmFsLT5zdGFydCkgewotCQkJTUFL
RV9OT0RFX0FORF9BUFBFTkQodG1wLCBwaXZvdCwgaW50ZXJ2YWwtPnN0YXJ0IC0gMSwKKwkJCU1B
S0VfTk9ERV9BTkRfQVBQRU5EKHRtcCwgcGl2b3QsIGludGVydmFsLT5zdGFydCwKIAkJCQkJCTEs
IGZsYWdzLCBlcnIsIGVycl9vdXQsCiAJCQkJCQlkaWZmX3NldCk7CiAJCQlwaXZvdCA9IGludGVy
dmFsLT5zdGFydDsKQEAgLTE0NCwxMiArMTQ0LDEwIEBAIGludCB1c25pY191aW9tX2dldF9pbnRl
cnZhbHNfZGlmZih1bnNpZ25lZCBsb25nIHN0YXJ0LCB1bnNpZ25lZCBsb25nIGxhc3QsCiAJCSAq
IGJ1dCBub3QgaW4gYm90aC4KIAkJICovCiAKLQkJaWYgKHBpdm90ID4gaW50ZXJ2YWwtPmxhc3Qp
IHsKKwkJaWYgKHBpdm90ID4gaW50ZXJ2YWwtPmVuZCAtIDEpIHsKIAkJCWNvbnRpbnVlOwotCQl9
IGVsc2UgaWYgKHBpdm90IDw9IGludGVydmFsLT5sYXN0ICYmCi0JCQkJRkxBR1NfRVFVQUwoaW50
ZXJ2YWwtPmZsYWdzLCBmbGFncywKLQkJCQlmbGFnX21hc2spKSB7Ci0JCQlwaXZvdCA9IGludGVy
dmFsLT5sYXN0ICsgMTsKKwkJfSBlbHNlIGlmIChGTEFHU19FUVVBTChpbnRlcnZhbC0+ZmxhZ3Ms
IGZsYWdzLCBmbGFnX21hc2spKSB7CisJCQlwaXZvdCA9IGludGVydmFsLT5lbmQ7CiAJCX0KIAl9
CiAKQEAgLTE5NSwxNSArMTkzLDE1IEBAIGludCB1c25pY191aW9tX2luc2VydF9pbnRlcnZhbChz
dHJ1Y3QgcmJfcm9vdF9jYWNoZWQgKnJvb3QsIHVuc2lnbmVkIGxvbmcgc3RhcnQsCiAJCSAqIGlu
c2VydGVkCiAJCSAqLwogCQlpc3RhcnQgPSBpbnRlcnZhbC0+c3RhcnQ7Ci0JCWlsYXN0ID0gaW50
ZXJ2YWwtPmxhc3Q7CisJCWlsYXN0ID0gaW50ZXJ2YWwtPmVuZCAtIDE7CiAJCWlyZWZfY250ID0g
aW50ZXJ2YWwtPnJlZl9jbnQ7CiAJCWlmbGFncyA9IGludGVydmFsLT5mbGFnczsKIAogCQlpZiAo
aXN0YXJ0IDwgbHBpdm90KSB7Ci0JCQlNQUtFX05PREVfQU5EX0FQUEVORCh0bXAsIGlzdGFydCwg
bHBpdm90IC0gMSwgaXJlZl9jbnQsCisJCQlNQUtFX05PREVfQU5EX0FQUEVORCh0bXAsIGlzdGFy
dCwgbHBpdm90LCBpcmVmX2NudCwKIAkJCQkJCWlmbGFncywgZXJyLCBlcnJfb3V0LCAmdG9fYWRk
KTsKIAkJfSBlbHNlIGlmIChpc3RhcnQgPiBscGl2b3QpIHsKLQkJCU1BS0VfTk9ERV9BTkRfQVBQ
RU5EKHRtcCwgbHBpdm90LCBpc3RhcnQgLSAxLCAxLCBmbGFncywKKwkJCU1BS0VfTk9ERV9BTkRf
QVBQRU5EKHRtcCwgbHBpdm90LCBpc3RhcnQsIDEsIGZsYWdzLAogCQkJCQkJZXJyLCBlcnJfb3V0
LCAmdG9fYWRkKTsKIAkJCWxwaXZvdCA9IGlzdGFydDsKIAkJfSBlbHNlIHsKQEAgLTIyMiw3ICsy
MjAsNyBAQCBpbnQgdXNuaWNfdWlvbV9pbnNlcnRfaW50ZXJ2YWwoc3RydWN0IHJiX3Jvb3RfY2Fj
aGVkICpyb290LCB1bnNpZ25lZCBsb25nIHN0YXJ0LAogCQkJCQkJJnRvX2FkZCk7CiAJCX0KIAot
CQlscGl2b3QgPSBpbGFzdCArIDE7CisJCWxwaXZvdCA9IGludGVydmFsLT5lbmQ7CiAJfQogCiAJ
aWYgKGxwaXZvdCA8PSBsYXN0KQpAQCAtMjY3LDQgKzI2NSw0IEBAIHZvaWQgdXNuaWNfdWlvbV9y
ZW1vdmVfaW50ZXJ2YWwoc3RydWN0IHJiX3Jvb3RfY2FjaGVkICpyb290LAogCiBJTlRFUlZBTF9U
UkVFX0RFRklORShzdHJ1Y3QgdXNuaWNfdWlvbV9pbnRlcnZhbF9ub2RlLCByYiwKIAkJCXVuc2ln
bmVkIGxvbmcsIF9fc3VidHJlZV9sYXN0LAotCQkJU1RBUlQsIExBU1QsICwgdXNuaWNfdWlvbV9p
bnRlcnZhbF90cmVlKQorCQkJU1RBUlQsIEVORCwgLCB1c25pY191aW9tX2ludGVydmFsX3RyZWUp
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2luZmluaWJhbmQvaHcvdXNuaWMvdXNuaWNfdWlvbV9pbnRl
cnZhbF90cmVlLmggYi9kcml2ZXJzL2luZmluaWJhbmQvaHcvdXNuaWMvdXNuaWNfdWlvbV9pbnRl
cnZhbF90cmVlLmgKaW5kZXggMWQ3ZmMzMjI2YmNhLi40OTZlZGM5NzU4YzEgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvaW5maW5pYmFuZC9ody91c25pYy91c25pY191aW9tX2ludGVydmFsX3RyZWUuaAor
KysgYi9kcml2ZXJzL2luZmluaWJhbmQvaHcvdXNuaWMvdXNuaWNfdWlvbV9pbnRlcnZhbF90cmVl
LmgKQEAgLTQwLDcgKzQwLDcgQEAgc3RydWN0IHVzbmljX3Vpb21faW50ZXJ2YWxfbm9kZSB7CiAJ
c3RydWN0IHJiX25vZGUJCQlyYjsKIAlzdHJ1Y3QgbGlzdF9oZWFkCQlsaW5rOwogCXVuc2lnbmVk
IGxvbmcJCQlzdGFydDsKLQl1bnNpZ25lZCBsb25nCQkJbGFzdDsKKwl1bnNpZ25lZCBsb25nCQkg
ICAgICAgIGVuZDsKIAl1bnNpZ25lZCBsb25nCQkJX19zdWJ0cmVlX2xhc3Q7CiAJdW5zaWduZWQg
aW50CQkJcmVmX2NudDsKIAlpbnQJCQkJZmxhZ3M7Ci0tIAoyLjE2LjQKCl9fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QK
ZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9w
Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
