Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 9F80E6026F
	for <lists+dri-devel@lfdr.de>; Fri,  5 Jul 2019 10:42:06 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A73916E449;
	Fri,  5 Jul 2019 08:41:36 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-vs1-xe42.google.com (mail-vs1-xe42.google.com
 [IPv6:2607:f8b0:4864:20::e42])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3090D6E417
 for <dri-devel@lists.freedesktop.org>; Fri,  5 Jul 2019 07:31:53 +0000 (UTC)
Received: by mail-vs1-xe42.google.com with SMTP id a186so3255263vsd.7
 for <dri-devel@lists.freedesktop.org>; Fri, 05 Jul 2019 00:31:53 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=rMd1u8f9GUtGM2BNqO4dxPBPUfEK4qgo6+64JcBSfZo=;
 b=WbDWcFPQvzcxRx3pPGPje2Zrgatzm/UvVKR0IYL5RjkemuMI5vXNwqM62Ta7bw8OI4
 2tFAkAuV+nn4Ey4ApnH4Ewv5XuChwOVCmHm7sP2KrdX3qQqQWEe/ffPKs4T8EsMZneUK
 kLvDUaqli9FmuKOOtRO/wg2f8KFzVc7f7YcBV/vAiZvSjKsVMOCz2sMpG1SZQjwIymtv
 t9xeoOB6fvzXNbLiyKCLBQLPefJALjwKEjLL+v5PjFkLVMt6vZXGKSt7+fYBniCEhEgY
 Oivu/wSeFQKRtOeOzAzxR+56Mp8I3ENEjo5xkoddA4J+JDg4fXeEsQeR4lk4CEHDWuAv
 +TAw==
X-Gm-Message-State: APjAAAWNOt33lUwcOGOKpOgSqLubsJoo/5wQMcxDuOEWaHSU/jztjdRv
 nE+A3ikoiPX8ZVcHvJ+o0cQ4CI92En0n3/xkXA+o8Q==
X-Google-Smtp-Source: APXvYqz5mVOrkTHRsNytg+i93CjQ2GDoPSDWloDYQwydMlp+jUPs4nifh/0Ua8DYEXIwTxR4ajiGrHIn+cmJ3Pylqm0=
X-Received: by 2002:a67:eada:: with SMTP id s26mr1279515vso.163.1562311911794; 
 Fri, 05 Jul 2019 00:31:51 -0700 (PDT)
MIME-Version: 1.0
References: <20190705042623.129541-1-cychiang@chromium.org>
 <20190705042623.129541-3-cychiang@chromium.org>
 <VI1PR06MB41425D1F24AC653F08AFA463ACF50@VI1PR06MB4142.eurprd06.prod.outlook.com>
In-Reply-To: <VI1PR06MB41425D1F24AC653F08AFA463ACF50@VI1PR06MB4142.eurprd06.prod.outlook.com>
From: Cheng-yi Chiang <cychiang@chromium.org>
Date: Fri, 5 Jul 2019 15:31:24 +0800
Message-ID: <CAFv8NwJXbJo=z_NDj+JQHD9LOmnbfM8v_N1uHn4sdBzF-FZQfA@mail.gmail.com>
Subject: Re: [alsa-devel] [PATCH 2/4] drm: bridge: dw-hdmi: Report connector
 status using callback
To: Jonas Karlman <jonas@kwiboo.se>
X-Mailman-Approved-At: Fri, 05 Jul 2019 08:41:21 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=chromium.org; s=google;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=rMd1u8f9GUtGM2BNqO4dxPBPUfEK4qgo6+64JcBSfZo=;
 b=NCAVIjM5oXEoOyTfLc1j5S059x2rfCv7/17EWp9Et1EVImM8xhz2b6qhUPm19tM+aD
 3+ZVdwnBS+Jajb4BoM70kV1GQ47wbUmxTn50xE4ev9Bx8gVtRLhl8fBx3ZksvBDiuqrQ
 xUg2H8J4gy8WPGrDWXxNkCsWaztk5/XXtdEP4=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: "alsa-devel@alsa-project.org" <alsa-devel@alsa-project.org>,
 "tzungbi@chromium.org" <tzungbi@chromium.org>,
 Liam Girdwood <lgirdwood@gmail.com>, David Airlie <airlied@linux.ie>,
 Mark Brown <broonie@kernel.org>, Takashi Iwai <tiwai@suse.com>,
 "linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>,
 "dri-devel@lists.freedesktop.org" <dri-devel@lists.freedesktop.org>,
 "dianders@chromium.org" <dianders@chromium.org>,
 Hans Verkuil <hverkuil@xs4all.nl>,
 "linux-rockchip@lists.infradead.org" <linux-rockchip@lists.infradead.org>,
 Russell King <rmk+kernel@armlinux.org.uk>,
 Laurent Pinchart <Laurent.pinchart@ideasonboard.com>,
 "dgreid@chromium.org" <dgreid@chromium.org>,
 "linux-arm-kernel@lists.infradead.org" <linux-arm-kernel@lists.infradead.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gRnJpLCBKdWwgNSwgMjAxOSBhdCAxOjQ1IFBNIEpvbmFzIEthcmxtYW4gPGpvbmFzQGt3aWJv
by5zZT4gd3JvdGU6Cj4KPiBPbiAyMDE5LTA3LTA1IDA2OjI2LCBDaGVuZy1ZaSBDaGlhbmcgd3Jv
dGU6Cj4gPiBBbGxvdyBjb2RlYyBkcml2ZXIgcmVnaXN0ZXIgY2FsbGJhY2sgZnVuY3Rpb24gZm9y
IHBsdWcgZXZlbnQuCj4gPgo+ID4gVGhlIGNhbGxiYWNrIHJlZ2lzdHJhdGlvbiBmbG93Ogo+ID4g
ZHctaGRtaSA8LS0tIGh3LWhkbWktaTJzLWF1ZGlvIDwtLS0gaGRtaS1jb2RlYwo+ID4KPiA+IGR3
LWhkbWktaTJzLWF1ZGlvIGltcGxlbWVudHMgaG9va19wbHVnZ2VkX2NiIG9wCj4gPiBzbyBjb2Rl
YyBkcml2ZXIgY2FuIHJlZ2lzdGVyIHRoZSBjYWxsYmFjay4KPiA+Cj4gPiBkdy1oZG1pIGltcGxl
bWVudHMgc2V0X3BsdWdnZWRfY2Igb3Agc28gcGxhdGZvcm0gZGV2aWNlIGNhbiByZWdpc3RlciB0
aGUKPiA+IGNhbGxiYWNrLgo+ID4KPiA+IFdoZW4gY29ubmVjdG9yIHBsdWcvdW5wbHVnIGV2ZW50
IGhhcHBlbnMsIHJlcG9ydCB0aGlzIGV2ZW50IHVzaW5nIHRoZQo+ID4gY2FsbGJhY2suCj4gPgo+
ID4gTWFrZSBzdXJlIHRoYXQgYXVkaW8gYW5kIGRybSBhcmUgdXNpbmcgdGhlIHNpbmdsZSBzb3Vy
Y2Ugb2YgdHJ1dGggZm9yCj4gPiBjb25uZWN0b3Igc3RhdHVzLgo+Cj4gSSBoYXZlIGEgc2ltaWxh
ciBub3RpZmljYXRpb24gbmVlZCBmb3IgbWFraW5nIGEgc25kX2N0bF9ub3RpZnkoKSBjYWxsIGZy
b20gaGRtaS1jb2RlYyB3aGVuIEVMRCBjaGFuZ2VzLAo+IHNlZSBbMV0gZm9yIHdvcmsgaW4gcHJv
Z3Jlc3MgcGF0Y2hlcyAocGFydCBvZiBhIGR3LWhkbWkgbXVsdGktY2hhbm5lbCBscGNtIHNlcmll
cyBJIGFtIHByZXBhcmluZykuCj4KPiBBbnkgc3VnZ2VzdGlvbnMgb24gaG93IHRvIGhhbmRsZSBh
IEVMRCBjaGFuZ2Ugbm90aWZpY2F0aW9uPwo+IFNob3VsZCBJIHVzZSBhIHNpbWlsYXIgcGF0dGVy
biBhcyBpbiB0aGlzIHNlcmllcz8KCkhpIEpvbmFzLCBJIHRoaW5rIHdlIGFyZSB1c2luZyBhIHZl
cnkgc2ltaWxhciBwYXR0ZXJuLgpUaGUgZGlmZmVyZW5jZSBpcyB0aGF0IGluIG15IHNlcmllcyB0
aGUgZnVuY3Rpb24gaXMgbm90IGV4cG9zZWQgb24gaGRtaS1jb2RlYy5oLgpJIHRoaW5rIHlvdXIg
bWV0aG9kIG1ha2VzIHNlbnNlIGZvciB5b3VyIGNhc2UgYmVjYXVzZQpkdy1oZG1pLWkycy1hdWRp
by5jIG5lZWRzIHRvIGFjY2VzcyBhbmQgdXBkYXRlIGRhdGEgaW5zaWRlCmR3X2hkbWlfaTJzX2F1
ZGlvX2RhdGEsCndoaWxlIGluIG15IHVzZSBjYXNlIGl0IGlzIG9ubHkgYSB0aGluIGxheWVyIHNl
dHRpbmcgdXAgdGhlIGNhbGxiYWNrCmZvciBqYWNrIHN0YXR1cy4KCj4gKEkgbG9zdCB0cmFjayBv
ZiB0aGUgaGRtaS1ub3RpZmllci9kcm1fYXVkaW9fY29tcG9uZW50IGRpc2N1c3Npb24pCj4KCkl0
IHdhcyBhIGxvbmcgZGlzY3Vzc2lvbi4KSSB0aGluayB0aGUgY29uY2x1c2lvbiB3YXMgdGhhdCBp
ZiB3ZSBhcmUgb25seSB0YWxraW5nIGFib3V0CmhkbWktY29kZWMsIHRoZW4gd2UganVzdCBuZWVk
IHRvIGV4dGVuZCB0aGUgb3BzIGV4cG9zZWQgaW4gaGRtaS1jb2RlYwphbmQgZG9uJ3QgbmVlZCB0
byB1c2UKaGRtaS1ub3RpZmllciBvciBkcm1fYXVkaW9fY29tcG9uZW50LgoKPiBbMV0gaHR0cHM6
Ly9naXRodWIuY29tL0t3aWJvby9saW51eC1yb2NrY2hpcC9jb21wYXJlLzU0YjQwZmRkMjY0Yzdl
ZDk2MDE3MjcxZWI2NTI0Y2NhNGZmNzU1YWIuLi45YzE3Mjg0ZThhODY1N2U4YjFkYTUzYTFjN2Zm
MDU2Y2JkOGNlNDNjCj4KPiBCZXN0IHJlZ2FyZHMsCj4gSm9uYXMKPgo+ID4KPiA+IFNpZ25lZC1v
ZmYtYnk6IENoZW5nLVlpIENoaWFuZyA8Y3ljaGlhbmdAY2hyb21pdW0ub3JnPgo+ID4gLS0tCj4g
PiAgLi4uL2dwdS9kcm0vYnJpZGdlL3N5bm9wc3lzL2R3LWhkbWktYXVkaW8uaCAgIHwgIDMgKysK
PiA+ICAuLi4vZHJtL2JyaWRnZS9zeW5vcHN5cy9kdy1oZG1pLWkycy1hdWRpby5jICAgfCAxMCAr
KysrKysKPiA+ICBkcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3N5bm9wc3lzL2R3LWhkbWkuYyAgICAg
fCAzNCArKysrKysrKysrKysrKysrKystCj4gPiAgMyBmaWxlcyBjaGFuZ2VkLCA0NiBpbnNlcnRp
b25zKCspLCAxIGRlbGV0aW9uKC0pCj4gPgo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9icmlkZ2Uvc3lub3BzeXMvZHctaGRtaS1hdWRpby5oIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRn
ZS9zeW5vcHN5cy9kdy1oZG1pLWF1ZGlvLmgKPiA+IGluZGV4IDYzYjU3NTZmNDYzYi4uZjUyM2M1
OTA5ODRlIDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9zeW5vcHN5cy9k
dy1oZG1pLWF1ZGlvLmgKPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2Uvc3lub3BzeXMv
ZHctaGRtaS1hdWRpby5oCj4gPiBAQCAtMiw2ICsyLDggQEAKPiA+ICAjaWZuZGVmIERXX0hETUlf
QVVESU9fSAo+ID4gICNkZWZpbmUgRFdfSERNSV9BVURJT19ICj4gPgo+ID4gKyNpbmNsdWRlIDxz
b3VuZC9oZG1pLWNvZGVjLmg+Cj4gPiArCj4gPiAgc3RydWN0IGR3X2hkbWk7Cj4gPgo+ID4gIHN0
cnVjdCBkd19oZG1pX2F1ZGlvX2RhdGEgewo+ID4gQEAgLTE3LDYgKzE5LDcgQEAgc3RydWN0IGR3
X2hkbWlfaTJzX2F1ZGlvX2RhdGEgewo+ID4KPiA+ICAgICAgIHZvaWQgKCp3cml0ZSkoc3RydWN0
IGR3X2hkbWkgKmhkbWksIHU4IHZhbCwgaW50IG9mZnNldCk7Cj4gPiAgICAgICB1OCAoKnJlYWQp
KHN0cnVjdCBkd19oZG1pICpoZG1pLCBpbnQgb2Zmc2V0KTsKPiA+ICsgICAgIGludCAoKnNldF9w
bHVnZ2VkX2NiKShzdHJ1Y3QgZHdfaGRtaSAqaGRtaSwgaGRtaV9jb2RlY19wbHVnZ2VkX2NiIGZu
KTsKPiA+ICB9Owo+ID4KPiA+ICAjZW5kaWYKPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vYnJpZGdlL3N5bm9wc3lzL2R3LWhkbWktaTJzLWF1ZGlvLmMgYi9kcml2ZXJzL2dwdS9kcm0v
YnJpZGdlL3N5bm9wc3lzL2R3LWhkbWktaTJzLWF1ZGlvLmMKPiA+IGluZGV4IDVjYmI3MWE4NjZk
NS4uN2I5M2NmMDVjOTg1IDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9z
eW5vcHN5cy9kdy1oZG1pLWkycy1hdWRpby5jCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYnJp
ZGdlL3N5bm9wc3lzL2R3LWhkbWktaTJzLWF1ZGlvLmMKPiA+IEBAIC0xMDQsMTAgKzEwNCwyMCBA
QCBzdGF0aWMgaW50IGR3X2hkbWlfaTJzX2dldF9kYWlfaWQoc3RydWN0IHNuZF9zb2NfY29tcG9u
ZW50ICpjb21wb25lbnQsCj4gPiAgICAgICByZXR1cm4gLUVJTlZBTDsKPiA+ICB9Cj4gPgo+ID4g
K3N0YXRpYyBpbnQgZHdfaGRtaV9pMnNfaG9va19wbHVnZ2VkX2NiKHN0cnVjdCBkZXZpY2UgKmRl
diwgdm9pZCAqZGF0YSwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBo
ZG1pX2NvZGVjX3BsdWdnZWRfY2IgZm4pCj4gPiArewo+ID4gKyAgICAgc3RydWN0IGR3X2hkbWlf
aTJzX2F1ZGlvX2RhdGEgKmF1ZGlvID0gZGF0YTsKPiA+ICsgICAgIHN0cnVjdCBkd19oZG1pICpo
ZG1pID0gYXVkaW8tPmhkbWk7Cj4gPiArCj4gPiArICAgICByZXR1cm4gYXVkaW8tPnNldF9wbHVn
Z2VkX2NiKGhkbWksIGZuKTsKPiA+ICt9Cj4gPiArCj4gPiAgc3RhdGljIHN0cnVjdCBoZG1pX2Nv
ZGVjX29wcyBkd19oZG1pX2kyc19vcHMgPSB7Cj4gPiAgICAgICAuaHdfcGFyYW1zICAgICAgPSBk
d19oZG1pX2kyc19od19wYXJhbXMsCj4gPiAgICAgICAuYXVkaW9fc2h1dGRvd24gPSBkd19oZG1p
X2kyc19hdWRpb19zaHV0ZG93biwKPiA+ICAgICAgIC5nZXRfZGFpX2lkICAgICA9IGR3X2hkbWlf
aTJzX2dldF9kYWlfaWQsCj4gPiArICAgICAuaG9va19wbHVnZ2VkX2NiID0gZHdfaGRtaV9pMnNf
aG9va19wbHVnZ2VkX2NiLAo+ID4gIH07Cj4gPgo+ID4gIHN0YXRpYyBpbnQgc25kX2R3X2hkbWlf
cHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKPiA+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vYnJpZGdlL3N5bm9wc3lzL2R3LWhkbWkuYyBiL2RyaXZlcnMvZ3B1L2RybS9i
cmlkZ2Uvc3lub3BzeXMvZHctaGRtaS5jCj4gPiBpbmRleCAwNDViMWIxM2ZkMGUuLmM2OWEzOTlm
YzdjYSAxMDA2NDQKPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2Uvc3lub3BzeXMvZHct
aGRtaS5jCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3N5bm9wc3lzL2R3LWhkbWku
Ywo+ID4gQEAgLTI2LDYgKzI2LDggQEAKPiA+ICAjaW5jbHVkZSA8ZHJtL2RybV9wcm9iZV9oZWxw
ZXIuaD4KPiA+ICAjaW5jbHVkZSA8ZHJtL2JyaWRnZS9kd19oZG1pLmg+Cj4gPgo+ID4gKyNpbmNs
dWRlIDxzb3VuZC9oZG1pLWNvZGVjLmg+Cj4gPiArCj4gPiAgI2luY2x1ZGUgPHVhcGkvbGludXgv
bWVkaWEtYnVzLWZvcm1hdC5oPgo+ID4gICNpbmNsdWRlIDx1YXBpL2xpbnV4L3ZpZGVvZGV2Mi5o
Pgo+ID4KPiA+IEBAIC0xODUsNiArMTg3LDkgQEAgc3RydWN0IGR3X2hkbWkgewo+ID4gICAgICAg
dm9pZCAoKmRpc2FibGVfYXVkaW8pKHN0cnVjdCBkd19oZG1pICpoZG1pKTsKPiA+Cj4gPiAgICAg
ICBzdHJ1Y3QgY2VjX25vdGlmaWVyICpjZWNfbm90aWZpZXI7Cj4gPiArCj4gPiArICAgICBoZG1p
X2NvZGVjX3BsdWdnZWRfY2IgcGx1Z2dlZF9jYjsKPiA+ICsgICAgIGVudW0gZHJtX2Nvbm5lY3Rv
cl9zdGF0dXMgbGFzdF9jb25uZWN0b3JfcmVzdWx0Owo+ID4gIH07Cj4gPgo+ID4gICNkZWZpbmUg
SERNSV9JSF9QSFlfU1RBVDBfUlhfU0VOU0UgXAo+ID4gQEAgLTIwOSw2ICsyMTQsMTcgQEAgc3Rh
dGljIGlubGluZSB1OCBoZG1pX3JlYWRiKHN0cnVjdCBkd19oZG1pICpoZG1pLCBpbnQgb2Zmc2V0
KQo+ID4gICAgICAgcmV0dXJuIHZhbDsKPiA+ICB9Cj4gPgo+ID4gK3N0YXRpYyBpbnQgaGRtaV9z
ZXRfcGx1Z2dlZF9jYihzdHJ1Y3QgZHdfaGRtaSAqaGRtaSwgaGRtaV9jb2RlY19wbHVnZ2VkX2Ni
IGZuKQo+ID4gK3sKPiA+ICsgICAgIG11dGV4X2xvY2soJmhkbWktPm11dGV4KTsKPiA+ICsgICAg
IGhkbWktPnBsdWdnZWRfY2IgPSBmbjsKPiA+ICsgICAgIGlmIChoZG1pLT5hdWRpbyAmJiAhSVNf
RVJSKGhkbWktPmF1ZGlvKSkKPiA+ICsgICAgICAgICAgICAgZm4oaGRtaS0+YXVkaW8sCj4gPiAr
ICAgICAgICAgICAgICAgIGhkbWktPmxhc3RfY29ubmVjdG9yX3Jlc3VsdCA9PSBjb25uZWN0b3Jf
c3RhdHVzX2Nvbm5lY3RlZCk7Cj4gPiArICAgICBtdXRleF91bmxvY2soJmhkbWktPm11dGV4KTsK
PiA+ICsgICAgIHJldHVybiAwOwo+ID4gK30KPiA+ICsKPiA+ICBzdGF0aWMgdm9pZCBoZG1pX21v
ZGIoc3RydWN0IGR3X2hkbWkgKmhkbWksIHU4IGRhdGEsIHU4IG1hc2ssIHVuc2lnbmVkIHJlZykK
PiA+ICB7Cj4gPiAgICAgICByZWdtYXBfdXBkYXRlX2JpdHMoaGRtaS0+cmVnbSwgcmVnIDw8IGhk
bWktPnJlZ19zaGlmdCwgbWFzaywgZGF0YSk7Cj4gPiBAQCAtMjA0NCw2ICsyMDYwLDcgQEAgZHdf
aGRtaV9jb25uZWN0b3JfZGV0ZWN0KHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IsIGJv
b2wgZm9yY2UpCj4gPiAgewo+ID4gICAgICAgc3RydWN0IGR3X2hkbWkgKmhkbWkgPSBjb250YWlu
ZXJfb2YoY29ubmVjdG9yLCBzdHJ1Y3QgZHdfaGRtaSwKPiA+ICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0b3IpOwo+ID4gKyAgICAgZW51bSBkcm1fY29u
bmVjdG9yX3N0YXR1cyByZXN1bHQ7Cj4gPgo+ID4gICAgICAgbXV0ZXhfbG9jaygmaGRtaS0+bXV0
ZXgpOwo+ID4gICAgICAgaGRtaS0+Zm9yY2UgPSBEUk1fRk9SQ0VfVU5TUEVDSUZJRUQ7Cj4gPiBA
QCAtMjA1MSw3ICsyMDY4LDIwIEBAIGR3X2hkbWlfY29ubmVjdG9yX2RldGVjdChzdHJ1Y3QgZHJt
X2Nvbm5lY3RvciAqY29ubmVjdG9yLCBib29sIGZvcmNlKQo+ID4gICAgICAgZHdfaGRtaV91cGRh
dGVfcGh5X21hc2soaGRtaSk7Cj4gPiAgICAgICBtdXRleF91bmxvY2soJmhkbWktPm11dGV4KTsK
PiA+Cj4gPiAtICAgICByZXR1cm4gaGRtaS0+cGh5Lm9wcy0+cmVhZF9ocGQoaGRtaSwgaGRtaS0+
cGh5LmRhdGEpOwo+ID4gKyAgICAgcmVzdWx0ID0gaGRtaS0+cGh5Lm9wcy0+cmVhZF9ocGQoaGRt
aSwgaGRtaS0+cGh5LmRhdGEpOwo+ID4gKwo+ID4gKyAgICAgbXV0ZXhfbG9jaygmaGRtaS0+bXV0
ZXgpOwo+ID4gKyAgICAgaWYgKHJlc3VsdCAhPSBoZG1pLT5sYXN0X2Nvbm5lY3Rvcl9yZXN1bHQp
IHsKPiA+ICsgICAgICAgICAgICAgZGV2X2RiZyhoZG1pLT5kZXYsICJyZWFkX2hwZCByZXN1bHQ6
ICVkIiwgcmVzdWx0KTsKPiA+ICsgICAgICAgICAgICAgaWYgKGhkbWktPnBsdWdnZWRfY2IgJiYg
aGRtaS0+YXVkaW8gJiYgIUlTX0VSUihoZG1pLT5hdWRpbykpIHsKPiA+ICsgICAgICAgICAgICAg
ICAgICAgICBoZG1pLT5wbHVnZ2VkX2NiKGhkbWktPmF1ZGlvLAo+ID4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID09IGNvbm5lY3Rvcl9zdGF0dXNfY29ubmVj
dGVkKTsKPiA+ICsgICAgICAgICAgICAgICAgICAgICBoZG1pLT5sYXN0X2Nvbm5lY3Rvcl9yZXN1
bHQgPSByZXN1bHQ7Cj4gPiArICAgICAgICAgICAgIH0KPiA+ICsgICAgIH0KPiA+ICsgICAgIG11
dGV4X3VubG9jaygmaGRtaS0+bXV0ZXgpOwo+ID4gKwo+ID4gKyAgICAgcmV0dXJuIHJlc3VsdDsK
PiA+ICB9Cj4gPgo+ID4gIHN0YXRpYyBpbnQgZHdfaGRtaV9jb25uZWN0b3JfZ2V0X21vZGVzKHN0
cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCj4gPiBAQCAtMjQ2MCw2ICsyNDkwLDcgQEAg
X19kd19oZG1pX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYsCj4gPiAgICAgICBo
ZG1pLT5yeHNlbnNlID0gdHJ1ZTsKPiA+ICAgICAgIGhkbWktPnBoeV9tYXNrID0gKHU4KX4oSERN
SV9QSFlfSFBEIHwgSERNSV9QSFlfUlhfU0VOU0UpOwo+ID4gICAgICAgaGRtaS0+bWNfY2xrZGlz
ID0gMHg3ZjsKPiA+ICsgICAgIGhkbWktPmxhc3RfY29ubmVjdG9yX3Jlc3VsdCA9IGNvbm5lY3Rv
cl9zdGF0dXNfZGlzY29ubmVjdGVkOwo+ID4KPiA+ICAgICAgIG11dGV4X2luaXQoJmhkbWktPm11
dGV4KTsKPiA+ICAgICAgIG11dGV4X2luaXQoJmhkbWktPmF1ZGlvX211dGV4KTsKPiA+IEBAIC0y
NjUzLDYgKzI2ODQsNyBAQCBfX2R3X2hkbWlfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAq
cGRldiwKPiA+ICAgICAgICAgICAgICAgYXVkaW8uaGRtaSAgICAgID0gaGRtaTsKPiA+ICAgICAg
ICAgICAgICAgYXVkaW8ud3JpdGUgICAgID0gaGRtaV93cml0ZWI7Cj4gPiAgICAgICAgICAgICAg
IGF1ZGlvLnJlYWQgICAgICA9IGhkbWlfcmVhZGI7Cj4gPiArICAgICAgICAgICAgIGF1ZGlvLnNl
dF9wbHVnZ2VkX2NiID0gaGRtaV9zZXRfcGx1Z2dlZF9jYjsKPiA+ICAgICAgICAgICAgICAgaGRt
aS0+ZW5hYmxlX2F1ZGlvID0gZHdfaGRtaV9pMnNfYXVkaW9fZW5hYmxlOwo+ID4gICAgICAgICAg
ICAgICBoZG1pLT5kaXNhYmxlX2F1ZGlvID0gZHdfaGRtaV9pMnNfYXVkaW9fZGlzYWJsZTsKPiA+
Cj4KX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRl
dmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8v
bGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
