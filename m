Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 48F417DA7D
	for <lists+dri-devel@lfdr.de>; Thu,  1 Aug 2019 13:41:43 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 955436E519;
	Thu,  1 Aug 2019 11:41:38 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga04.intel.com (mga04.intel.com [192.55.52.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 5E5DD6E512;
 Thu,  1 Aug 2019 11:41:37 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga001.jf.intel.com ([10.7.209.18])
 by fmsmga104.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 01 Aug 2019 04:41:37 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,334,1559545200"; d="scan'208";a="256622202"
Received: from ramaling-i9x.iind.intel.com ([10.99.66.154])
 by orsmga001.jf.intel.com with ESMTP; 01 Aug 2019 04:41:34 -0700
From: Ramalingam C <ramalingam.c@intel.com>
To: dri-devel <dri-devel@lists.freedesktop.org>,
 intel-gfx <intel-gfx@lists.freedesktop.org>
Subject: [PATCH v12 4/6] drm/hdcp: update content protection property with
 uevent
Date: Thu,  1 Aug 2019 17:11:17 +0530
Message-Id: <20190801114119.28830-5-ramalingam.c@intel.com>
X-Mailer: git-send-email 2.19.1
In-Reply-To: <20190801114119.28830-1-ramalingam.c@intel.com>
References: <20190801114119.28830-1-ramalingam.c@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Jani Nikula <jani.nikula@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

ZHJtIGZ1bmN0aW9uIGlzIGRlZmluZWQgYW5kIGV4cG9ydGVkIHRvIHVwZGF0ZSBhIGNvbm5lY3Rv
cidzCmNvbnRlbnQgcHJvdGVjdGlvbiBwcm9wZXJ0eSBzdGF0ZSBhbmQgdG8gZ2VuZXJhdGUgYSB1
ZXZlbnQgYWxvbmcKd2l0aCBpdC4KClBla2thIGhhdmUgY29tcGxldGVkIHRoZSBXZXN0b24gRFJN
LWJhY2tlbmQgcmV2aWV3IGluCmh0dHBzOi8vZ2l0bGFiLmZyZWVkZXNrdG9wLm9yZy93YXlsYW5k
L3dlc3Rvbi9tZXJnZV9yZXF1ZXN0cy80OAphbmQgdGhlIFVBUEkgZm9yIEhEQ1AgMi4yIGxvb2tz
IGdvb2QuCgpUaGUgdXNlcnNwYWNlIGlzIGFjY2VwdGVkIGluIFdlc3Rvbi4KCnYyOgogIFVwZGF0
ZSBvbmx5IHdoZW4gc3RhdGUgaXMgZGlmZmVyZW50IGZyb20gb2xkIG9uZS4KdjM6CiAgS0RvYyBp
cyBhZGRlZCBbRGFuaWVsXQp2NDoKICBLRG9jIGlzIGV4dGVuZGVkIGJpdCBtb3JlIFtwZWtrYV0K
djU6CiAgVWV2ZW50IHVzYWdlIGlzIGRvY3VtZW50ZWQgYXQga2RvYyBvZiAiQ29udGVudCBQcm90
ZWN0aW9uIiBhbHNvCiAgW3Bla2thXQoKU2lnbmVkLW9mZi1ieTogUmFtYWxpbmdhbSBDIDxyYW1h
bGluZ2FtLmNAaW50ZWwuY29tPgpSZXZpZXdlZC1ieTogRGFuaWVsIFZldHRlciA8ZGFuaWVsLnZl
dHRlckBmZndsbC5jaD4KQWNrZWQtYnk6IFBla2thIFBhYWxhbmVuIDxwZWtrYS5wYWFsYW5lbkBj
b2xsYWJvcmEuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9kcm1fY29ubmVjdG9yLmMgfCAxNyAr
KysrKysrKysrKysrLS0tLQogZHJpdmVycy9ncHUvZHJtL2RybV9oZGNwLmMgICAgICB8IDM0ICsr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKwogaW5jbHVkZS9kcm0vZHJtX2hkY3AuaCAg
ICAgICAgICB8ICAyICsrCiAzIGZpbGVzIGNoYW5nZWQsIDQ5IGluc2VydGlvbnMoKyksIDQgZGVs
ZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2RybV9jb25uZWN0b3IuYyBi
L2RyaXZlcnMvZ3B1L2RybS9kcm1fY29ubmVjdG9yLmMKaW5kZXggY2RkYjk3Zjc1NDE1Li4zNTQ3
OThiYWQ1NzYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fY29ubmVjdG9yLmMKKysr
IGIvZHJpdmVycy9ncHUvZHJtL2RybV9jb25uZWN0b3IuYwpAQCAtOTgzLDEwICs5ODMsMTkgQEAg
c3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fcHJvcF9lbnVtX2xpc3QgaGRtaV9jb2xvcnNwYWNlc1td
ID0gewogICoJLSBJZiB0aGUgc3RhdGUgaXMgREVTSVJFRCwga2VybmVsIHNob3VsZCBhdHRlbXB0
IHRvIHJlLWF1dGhlbnRpY2F0ZSB0aGUKICAqCSAgbGluayB3aGVuZXZlciBwb3NzaWJsZS4gVGhp
cyBpbmNsdWRlcyBhY3Jvc3MgZGlzYWJsZS9lbmFibGUsIGRwbXMsCiAgKgkgIGhvdHBsdWcsIGRv
d25zdHJlYW0gZGV2aWNlIGNoYW5nZXMsIGxpbmsgc3RhdHVzIGZhaWx1cmVzLCBldGMuLgotICoJ
LSBVc2Vyc3BhY2UgaXMgcmVzcG9uc2libGUgZm9yIHBvbGxpbmcgdGhlIHByb3BlcnR5IHRvIGRl
dGVybWluZSB3aGVuCi0gKgkgIHRoZSB2YWx1ZSB0cmFuc2l0aW9ucyBmcm9tIEVOQUJMRUQgdG8g
REVTSVJFRC4gVGhpcyBzaWduaWZpZXMgdGhlIGxpbmsKLSAqCSAgaXMgbm8gbG9uZ2VyIHByb3Rl
Y3RlZCBhbmQgdXNlcnNwYWNlIHNob3VsZCB0YWtlIGFwcHJvcHJpYXRlIGFjdGlvbgotICoJICAo
d2hhdGV2ZXIgdGhhdCBtaWdodCBiZSkuCisgKgktIEtlcm5lbCBzZW5kcyB1ZXZlbnQgd2l0aCB0
aGUgY29ubmVjdG9yIGlkIGFuZCBwcm9wZXJ0eSBpZCB0aHJvdWdoCisgKgkgIEBkcm1faGRjcF91
cGRhdGVfY29udGVudF9wcm90ZWN0aW9uLCB1cG9uIGJlbG93IGtlcm5lbCB0cmlnZ2VyZWQKKyAq
CSAgc2NlbmFyaW9zOgorICoJCURFU0lSRUQgLT4gRU5BQkxFRAkoYXV0aGVudGljYXRpb24gc3Vj
Y2VzcykKKyAqCQlFTkFCTEVEIC0+IERFU0lSRUQJKHRlcm1pbmF0aW9uIG9mIGF1dGhlbnRpY2F0
aW9uKQorICoJLSBQbGVhc2Ugbm90ZSBubyB1ZXZlbnRzIGZvciB1c2Vyc3BhY2UgdHJpZ2dlcmVk
IHByb3BlcnR5IHN0YXRlIGNoYW5nZXMsCisgKgkgIHdoaWNoIGNhbid0IGZhaWwgc3VjaCBhcwor
ICoJCURFU0lSRUQvRU5BQkxFRCAtPiBVTkRFU0lSRUQKKyAqCQlVTkRFU0lSRUQgLT4gREVTSVJF
RAorICoJLSBVc2Vyc3BhY2UgaXMgcmVzcG9uc2libGUgZm9yIHBvbGxpbmcgdGhlIHByb3BlcnR5
IG9yIGxpc3RlbiB0byB1ZXZlbnRzCisgKgkgIHRvIGRldGVybWluZSB3aGVuIHRoZSB2YWx1ZSB0
cmFuc2l0aW9ucyBmcm9tIEVOQUJMRUQgdG8gREVTSVJFRC4KKyAqCSAgVGhpcyBzaWduaWZpZXMg
dGhlIGxpbmsgaXMgbm8gbG9uZ2VyIHByb3RlY3RlZCBhbmQgdXNlcnNwYWNlIHNob3VsZAorICoJ
ICB0YWtlIGFwcHJvcHJpYXRlIGFjdGlvbiAod2hhdGV2ZXIgdGhhdCBtaWdodCBiZSkuCiAgKgog
ICogSERDUCBDb250ZW50IFR5cGU6CiAgKglUaGlzIEVudW0gcHJvcGVydHkgaXMgdXNlZCBieSB0
aGUgdXNlcnNwYWNlIHRvIGRlY2xhcmUgdGhlIGNvbnRlbnQgdHlwZQpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2RybV9oZGNwLmMgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2hkY3AuYwppbmRl
eCBjZTIzNWZkMWM4NDQuLjc3NDMzZWUzZDY1MiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2RybV9oZGNwLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2RybV9oZGNwLmMKQEAgLTM3NCw2ICsz
NzQsMTAgQEAgRFJNX0VOVU1fTkFNRV9GTihkcm1fZ2V0X2hkY3BfY29udGVudF90eXBlX25hbWUs
CiAgKgogICogVGhlIGNvbnRlbnQgcHJvdGVjdGlvbiB3aWxsIGJlIHNldCB0byAmZHJtX2Nvbm5l
Y3Rvcl9zdGF0ZS5jb250ZW50X3Byb3RlY3Rpb24KICAqCisgKiBXaGVuIGtlcm5lbCB0cmlnZ2Vy
ZWQgY29udGVudCBwcm90ZWN0aW9uIHN0YXRlIGNoYW5nZSBsaWtlIERFU0lSRUQtPkVOQUJMRUQK
KyAqIGFuZCBFTkFCTEVELT5ERVNJUkVELCB3aWxsIHVzZSBkcm1faGRjcF91cGRhdGVfY29udGVu
dF9wcm90ZWN0aW9uKCkgdG8gdXBkYXRlCisgKiB0aGUgY29udGVudCBwcm90ZWN0aW9uIHN0YXRl
IG9mIGEgY29ubmVjdG9yLgorICoKICAqIFJldHVybnM6CiAgKiBaZXJvIG9uIHN1Y2Nlc3MsIG5l
Z2F0aXZlIGVycm5vIG9uIGZhaWx1cmUuCiAgKi8KQEAgLTQxNCwzICs0MTgsMzMgQEAgaW50IGRy
bV9jb25uZWN0b3JfYXR0YWNoX2NvbnRlbnRfcHJvdGVjdGlvbl9wcm9wZXJ0eSgKIAlyZXR1cm4g
MDsKIH0KIEVYUE9SVF9TWU1CT0woZHJtX2Nvbm5lY3Rvcl9hdHRhY2hfY29udGVudF9wcm90ZWN0
aW9uX3Byb3BlcnR5KTsKKworLyoqCisgKiBkcm1faGRjcF91cGRhdGVfY29udGVudF9wcm90ZWN0
aW9uIC0gVXBkYXRlcyB0aGUgY29udGVudCBwcm90ZWN0aW9uIHN0YXRlCisgKiBvZiBhIGNvbm5l
Y3RvcgorICoKKyAqIEBjb25uZWN0b3I6IGRybV9jb25uZWN0b3Igb24gd2hpY2ggY29udGVudCBw
cm90ZWN0aW9uIHN0YXRlIG5lZWRzIGFuIHVwZGF0ZQorICogQHZhbDogTmV3IHN0YXRlIG9mIHRo
ZSBjb250ZW50IHByb3RlY3Rpb24gcHJvcGVydHkKKyAqCisgKiBUaGlzIGZ1bmN0aW9uIGNhbiBi
ZSB1c2VkIGJ5IGRpc3BsYXkgZHJpdmVycywgdG8gdXBkYXRlIHRoZSBrZXJuZWwgdHJpZ2dlcmVk
CisgKiBjb250ZW50IHByb3RlY3Rpb24gc3RhdGUgY2hhbmdlcyBvZiBhIGRybV9jb25uZWN0b3Ig
c3VjaCBhcyBERVNJUkVELT5FTkFCTEVECisgKiBhbmQgRU5BQkxFRC0+REVTSVJFRC4gTm8gdWV2
ZW50IGZvciBERVNJUkVELT5VTkRFU0lSRUQgb3IgRU5BQkxFRC0+VU5ERVNJUkVELAorICogYXMg
dXNlcnNwYWNlIGlzIHRyaWdnZXJpbmcgc3VjaCBzdGF0ZSBjaGFuZ2UgYW5kIGtlcm5lbCBwZXJm
b3JtcyBpdCB3aXRob3V0CisgKiBmYWlsLlRoaXMgZnVuY3Rpb24gdXBkYXRlIHRoZSBuZXcgc3Rh
dGUgb2YgdGhlIHByb3BlcnR5IGludG8gdGhlIGNvbm5lY3RvcidzCisgKiBzdGF0ZSBhbmQgZ2Vu
ZXJhdGUgYW4gdWV2ZW50IHRvIG5vdGlmeSB0aGUgdXNlcnNwYWNlLgorICovCit2b2lkIGRybV9o
ZGNwX3VwZGF0ZV9jb250ZW50X3Byb3RlY3Rpb24oc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5l
Y3RvciwKKwkJCQkJdTY0IHZhbCkKK3sKKwlzdHJ1Y3QgZHJtX2RldmljZSAqZGV2ID0gY29ubmVj
dG9yLT5kZXY7CisJc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKnN0YXRlID0gY29ubmVjdG9y
LT5zdGF0ZTsKKworCVdBUk5fT04oIWRybV9tb2Rlc2V0X2lzX2xvY2tlZCgmZGV2LT5tb2RlX2Nv
bmZpZy5jb25uZWN0aW9uX211dGV4KSk7CisJaWYgKHN0YXRlLT5jb250ZW50X3Byb3RlY3Rpb24g
PT0gdmFsKQorCQlyZXR1cm47CisKKwlzdGF0ZS0+Y29udGVudF9wcm90ZWN0aW9uID0gdmFsOwor
CWRybV9zeXNmc19jb25uZWN0b3Jfc3RhdHVzX2V2ZW50KGNvbm5lY3RvciwKKwkJCQkgZGV2LT5t
b2RlX2NvbmZpZy5jb250ZW50X3Byb3RlY3Rpb25fcHJvcGVydHkpOworfQorRVhQT1JUX1NZTUJP
TChkcm1faGRjcF91cGRhdGVfY29udGVudF9wcm90ZWN0aW9uKTsKZGlmZiAtLWdpdCBhL2luY2x1
ZGUvZHJtL2RybV9oZGNwLmggYi9pbmNsdWRlL2RybS9kcm1faGRjcC5oCmluZGV4IDgyNDQ3YWY5
OGFhMi4uMDZhMTEyMDJhMDk3IDEwMDY0NAotLS0gYS9pbmNsdWRlL2RybS9kcm1faGRjcC5oCisr
KyBiL2luY2x1ZGUvZHJtL2RybV9oZGNwLmgKQEAgLTI5Miw2ICsyOTIsOCBAQCBib29sIGRybV9o
ZGNwX2NoZWNrX2tzdnNfcmV2b2tlZChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LAogCQkJCSB1OCAq
a3N2cywgdTMyIGtzdl9jb3VudCk7CiBpbnQgZHJtX2Nvbm5lY3Rvcl9hdHRhY2hfY29udGVudF9w
cm90ZWN0aW9uX3Byb3BlcnR5KAogCQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yLCBi
b29sIGhkY3BfY29udGVudF90eXBlKTsKK3ZvaWQgZHJtX2hkY3BfdXBkYXRlX2NvbnRlbnRfcHJv
dGVjdGlvbihzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yLAorCQkJCQl1NjQgdmFsKTsK
IAogLyogQ29udGVudCBUeXBlIGNsYXNzaWZpY2F0aW9uIGZvciBIRENQMi4yIHZzIG90aGVycyAq
LwogI2RlZmluZSBEUk1fTU9ERV9IRENQX0NPTlRFTlRfVFlQRTAJCTAKLS0gCjIuMTkuMQoKX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1h
aWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
