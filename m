Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 3053F98517
	for <lists+dri-devel@lfdr.de>; Wed, 21 Aug 2019 22:03:06 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 63CDA89017;
	Wed, 21 Aug 2019 20:03:03 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from NAM02-BL2-obe.outbound.protection.outlook.com
 (mail-eopbgr750047.outbound.protection.outlook.com [40.107.75.47])
 by gabe.freedesktop.org (Postfix) with ESMTPS id AA9806EA06;
 Wed, 21 Aug 2019 20:03:01 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=hFqbkzhRZV3siAVwujZPa7D/wHXLoLRyUt983m8ngOnrlZRNbiyAy/ylT/sEfeyHTsarIj3KNFXKVL300vkygARigYauZqEke2adGSBVgfoOfaWDgStbh7LDiExHyL+Uyv6qcCYqRDqxjfiENubRYQmNk3qOmtnyPXMnaoGq6XGvbeXIMJQojrAH38yWf96toDg8NTPEmOUssQBeXQzjyMvh+zAeDvYP/HoTiK0zF0QPcXVU3tMvjzwbuWQ+kVVrn1RpA+CYZZ5VTLREnfB0uHuPwBBuMyFO2q4mV8NPzu9TtKW6ni3PkVeeVedaPYWsWswUdG4O5kwzPrjxeQXJuQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=aXQfhJ/NTWcBbEw2QwqOj07/4iXcRArwkDDiwKAEglQ=;
 b=c62T77JtJEAtExxQglzmLp59gyEYVgbpiBFi8V+OMceIrA38rrz6gVJd5liaECkt4620nZT1OffqIa0yQ0oYKjqITw7UNqe6xVOUm1zGIWcyF3KH3htARXqhP0nip3M76jp7lAZTDSNCZ64YUxHoTJqhi/rB593MwkKh7i19RCczlQwwvoXyRDxVK96ti9sTdqpaWAjPv1v9Ge0Gvf+at6dHfoSYT+KvpvlNR5QkWfajeCz1ojHMD14vX6w978A8wcPlckBXM25/m3KK3RZgD3C5Bq5uicBTEHswKiruARpXokyPMOlM1Z1u4o8NLidAGTOPny5ssHiyMhQqFSmDpQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from BN8PR12MB3217.namprd12.prod.outlook.com (20.179.67.158) by
 BN8PR12MB3107.namprd12.prod.outlook.com (20.178.211.143) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2178.16; Wed, 21 Aug 2019 20:02:57 +0000
Received: from BN8PR12MB3217.namprd12.prod.outlook.com
 ([fe80::78ee:f1aa:4477:4b77]) by BN8PR12MB3217.namprd12.prod.outlook.com
 ([fe80::78ee:f1aa:4477:4b77%7]) with mapi id 15.20.2178.018; Wed, 21 Aug 2019
 20:02:57 +0000
From: "Francis, David" <David.Francis@amd.com>
To: "dri-devel@lists.freedesktop.org" <dri-devel@lists.freedesktop.org>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: Re: [PATCH v3 16/16] drm/amd/display: Trigger modesets on MST DSC
 connectors
Thread-Topic: [PATCH v3 16/16] drm/amd/display: Trigger modesets on MST DSC
 connectors
Thread-Index: AQHVWFtc0xvUFpR2RkC0pEo6Sb/LB6cGBga3
Date: Wed, 21 Aug 2019 20:02:57 +0000
Message-ID: <BN8PR12MB3217348063E5E6798009996AEFAA0@BN8PR12MB3217.namprd12.prod.outlook.com>
References: <20190821200129.11575-1-David.Francis@amd.com>,
 <20190821200129.11575-17-David.Francis@amd.com>
In-Reply-To: <20190821200129.11575-17-David.Francis@amd.com>
Accept-Language: en-CA, en-US
Content-Language: en-CA
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [165.204.55.250]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 1f954142-1743-4fcd-7efe-08d726728fce
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:BN8PR12MB3107; 
x-ms-traffictypediagnostic: BN8PR12MB3107:
x-ms-exchange-purlcount: 1
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <BN8PR12MB31077C74E4DBC0D7086CF33BEFAA0@BN8PR12MB3107.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:9508;
x-forefront-prvs: 0136C1DDA4
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(346002)(136003)(376002)(366004)(396003)(39850400004)(189003)(199004)(26005)(25786009)(14454004)(2906002)(6246003)(76116006)(64756008)(66476007)(966005)(478600001)(52536014)(66946007)(66556008)(66446008)(5660300002)(71200400001)(71190400001)(3846002)(6116002)(53936002)(66066001)(7696005)(33656002)(55016002)(446003)(11346002)(186003)(8936002)(486006)(6506007)(53546011)(229853002)(7736002)(76176011)(8676002)(305945005)(81166006)(256004)(5024004)(14444005)(316002)(99286004)(86362001)(4326008)(54906003)(110136005)(2501003)(81156014)(74316002)(476003)(9686003)(102836004)(6306002)(6436002);
 DIR:OUT; SFP:1101; SCL:1; SRVR:BN8PR12MB3107;
 H:BN8PR12MB3217.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: yO+MQg4gOd3JNRY41DmGfawjqLtCc26eVTuVzO3xibl7HP2mSXLFlQU7BYjA5gJTggXjk33gHl7YQvk7qyrMw76qNbKek4GVbocGyc9O7/aSq7O0xyIWmqqgN+rxv7ALVtFtgJaYv4EGu//sXeUkVzoW3nruEMaNBcBQW8QGNORefqQ8iFHXB8htBvADkMG2xCqTTN2L1To8f2c1oN2veg+koPcOkIRajoPDxNUSJj4yOAK80yBVLe5iGYLcdGd4nGUXZ9zherhpjACb/pJdm2gPQYt2FdYhaiCOQb3Ej8jB0iiydrxlLTqIh+F5Ev/BIcpVKL8HUu/gX3iDPxsMzkYGl9ynq1Ii8e2ihfTEDeWA0cvwyIBGA0KE4XFP6+poMvKzGrkgWAlSJMraaI4gwlRd4wTVrNcUdfYIq0EdjBE=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 1f954142-1743-4fcd-7efe-08d726728fce
X-MS-Exchange-CrossTenant-originalarrivaltime: 21 Aug 2019 20:02:57.5447 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: GzZYkN3UACGpmveQ9siNgNDHhN+/LCiVekbT+Uw/s/Ltoh2hY+Wy1WhHAKRqg3nD
X-MS-Exchange-Transport-CrossTenantHeadersStamped: BN8PR12MB3107
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=aXQfhJ/NTWcBbEw2QwqOj07/4iXcRArwkDDiwKAEglQ=;
 b=YvSuGJNm95VIqxWWZV362MVikvYC88oE0SlPU2JGPP/MHU7VekKDJZl6PtNuJt8jzH/DEveXJmgqDDRFmXMRC5aJrDaiPTYBo+17OacterAOByzEjDuzpmJaWUwkmgFvW7QuA8PRCvUZ/pcVYe1WBCLVwVle7pwtNe6ZZCL6Pk8=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=David.Francis@amd.com; 
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: "Li, Sun peng \(Leo\)" <Sunpeng.Li@amd.com>, "Kazlauskas,
 Nicholas" <Nicholas.Kazlauskas@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SSBrbm93IHRoaXMgbG9va3MgbGlrZSBpdCBjb3VsZCBiZSBhIERSTSBoZWxwZXIsIGJ1dAogLSBU
aGF0IHdvdWxkIHJlcXVpcmUgYSBEUk0tZ2VuZXJpYyB3YXkgb2Yga25vd2luZyBpZiBhCiAgIGNv
bm5lY3RvciBzdXBwb3J0cyBEU0MsIGFuZCBjdXJyZW50IHByZWNlZGVudCBpcyB0aGF0CiAgIERT
QyBmdW5jdGlvbmFsaXR5IGlzIHN0b3JlZCBvbiBhIGRyaXZlci1zcGVjaWZpYyBiYXNpcwogLSBU
aGlzIGZ1bmN0aW9uLCBieSBuZWNlc3NpdHksIGxvY2tzIGdsb2JhbCBzdGF0ZS4gT3RoZXIKICAg
aGFyZHdhcmUgbWF5IGJlIGFibGUgdG8gc29sdmUgdGhpcyBwcm9ibGVtIHdpdGggbW9yZSBmaW5l
LQogICBncmFpbmVkIGxvY2tpbmcsIGZvciBleGFtcGxlIGJ5IHJlY2FsY3VsYXRpbmcgRFNDIGNv
bmZpZ3MKICAgYW5kIHRoZW4gYWRkaW5nIHRvIHRoZSBzdGF0ZSBhbGwgQ1JUQ3MgZm9yIHdoaWNo
IHRoZSBjb25maWcKICAgaGFzIGNoYW5nZWQKIC0gQU1EIGlzIGN1cnJlbnRseSB0aGUgb25seSB1
c2VyIG9mIE1TVCBEU0MsIHNvIGlmIHRoaXMgbmVlZHMKICAgdG8gYmUgaW4gRFJNLCBpdCB3b3Vs
ZCBiZSBlYXNpZXIgdG8gZG8gc28gb25jZSBpdCBpcwogICBjbGVhciB3aGF0IGZ1bmN0aW9uYWxp
dHkgaXMgY29tbW9uIGJldHdlZW4gZHJpdmVycwoKX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fXwpGcm9tOiBkcmktZGV2ZWwgPGRyaS1kZXZlbC1ib3VuY2VzQGxpc3RzLmZy
ZWVkZXNrdG9wLm9yZz4gb24gYmVoYWxmIG9mIERhdmlkIEZyYW5jaXMgPERhdmlkLkZyYW5jaXNA
YW1kLmNvbT4KU2VudDogQXVndXN0IDIxLCAyMDE5IDQ6MDEgUE0KVG86IGRyaS1kZXZlbEBsaXN0
cy5mcmVlZGVza3RvcC5vcmc7IGFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCkNjOiBMaSwg
U3VuIHBlbmcgKExlbyk7IEZyYW5jaXMsIERhdmlkOyBLYXpsYXVza2FzLCBOaWNob2xhcwpTdWJq
ZWN0OiBbUEFUQ0ggdjMgMTYvMTZdIGRybS9hbWQvZGlzcGxheTogVHJpZ2dlciBtb2Rlc2V0cyBv
biBNU1QgRFNDIGNvbm5lY3RvcnMKCldoZW5ldmVyIGEgY29ubmVjdG9yIG9uIGFuIE1TVCBuZXR3
b3JrIGlzIGF0dGFjaGVkLCBkZXRhY2hlZCwgb3IKdW5kZXJnb2VzIGEgbW9kZXNldCwgdGhlIERT
QyBjb25maWdzIGZvciBlYWNoIHN0cmVhbSBvbiB0aGF0CnRvcG9sb2d5IHdpbGwgYmUgcmVjYWxj
dWxhdGVkLiBUaGlzIGNhbiBjaGFuZ2UgdGhlaXIgcmVxdWlyZWQKYmFuZHdpZHRoLCByZXF1aXJp
bmcgYSBmdWxsIHJlcHJvZ3JhbW1pbmcsIGFzIHRob3VnaCBhIG1vZGVzZXQKd2FzIHBlcmZvcm1l
ZCwgZXZlbiBpZiB0aGF0IHN0cmVhbSBkaWQgbm90IGNoYW5nZSB0aW1pbmcuCgpUaGVyZWZvcmUs
IHdoZW5ldmVyIGEgY3J0YyBoYXMgZHJtX2F0b21pY19jcnRjX25lZWRzX21vZGVzZXQsCmZvciBl
YWNoIGNydGMgdGhhdCBzaGFyZXMgYSBNU1QgdG9wb2xvZ3kgd2l0aCB0aGF0IHN0cmVhbSBhbmQK
c3VwcG9ydHMgRFNDLCBhZGQgdGhhdCBjcnRjIChhbmQgYWxsIGFmZmVjdGVkIGNvbm5lY3RvcnMg
YW5kCnBsYW5lcykgdG8gdGhlIGF0b21pYyBzdGF0ZSBhbmQgc2V0IG1vZGVfY2hhbmdlZCBvbiBp
dHMgc3RhdGUKCnYyOiBEbyB0aGlzIGNoZWNrIG9ubHkgb24gTmF2aSBhbmQgYmVmb3JlIGFkZGlu
ZyBjb25uZWN0b3JzCmFuZCBwbGFuZXMgb24gbW9kZXNldHRpbmcgY3J0Y3MKCkNjOiBMZW8gTGkg
PHN1bnBlbmcubGlAYW1kLmNvbT4KQ2M6IE5pY2hvbGFzIEthemxhdXNrYXMgPG5pY2hvbGFzLmth
emxhdXNrYXNAYW1kLmNvbT4KQ2M6IEx5dWRlIFBhdWwgPGx5dWRlQHJlZGhhdC5jb20+ClNpZ25l
ZC1vZmYtYnk6IERhdmlkIEZyYW5jaXMgPERhdmlkLkZyYW5jaXNAYW1kLmNvbT4KLS0tCiAuLi4v
Z3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVfZG0vYW1kZ3B1X2RtLmMgfCA3NyArKysrKysrKysr
KysrKysrKysrCiAxIGZpbGUgY2hhbmdlZCwgNzcgaW5zZXJ0aW9ucygrKQoKZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVfZG0vYW1kZ3B1X2RtLmMgYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2FtZGdwdV9kbS5jCmluZGV4IDE0NWZk
NzMwMjVkYy4uNzAyZmIwZTI5MDUzIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rp
c3BsYXkvYW1kZ3B1X2RtL2FtZGdwdV9kbS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlz
cGxheS9hbWRncHVfZG0vYW1kZ3B1X2RtLmMKQEAgLTY0NzUsNyArNjQ3NSw3MyBAQCBzdGF0aWMg
aW50IGRvX2FxdWlyZV9nbG9iYWxfbG9jayhzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LAoKICAgICAg
ICByZXR1cm4gcmV0IDwgMCA/IHJldCA6IDA7CiB9CisjaWZkZWYgQ09ORklHX0RSTV9BTURfRENf
RFNDX1NVUFBPUlQKKy8qCisgKiBUT0RPOiBUaGlzIGxvZ2ljIHNob3VsZCBhdCBzb21lIHBvaW50
IGJlIG1vdmVkIGludG8gRFJNCisgKi8KK3N0YXRpYyBpbnQgYWRkX2FmZmVjdGVkX21zdF9kc2Nf
Y3J0Y3Moc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnN0YXRlLCBzdHJ1Y3QgZHJtX2NydGMgKmNy
dGMpCit7CisgICAgICAgc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvcjsKKyAgICAgICBz
dHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9zdGF0ZSAqY29ubl9zdGF0ZTsKKyAgICAgICBzdHJ1Y3QgZHJt
X2Nvbm5lY3Rvcl9saXN0X2l0ZXIgY29ubl9pdGVyOworICAgICAgIHN0cnVjdCBkcm1fY3J0Y19z
dGF0ZSAqbmV3X2NydGNfc3RhdGU7CisgICAgICAgc3RydWN0IGFtZGdwdV9kbV9jb25uZWN0b3Ig
KmFjb25uZWN0b3IgPSBOVUxMLCAqYWNvbm5lY3Rvcl90b19hZGQ7CisgICAgICAgaW50IGksIGo7
CisgICAgICAgc3RydWN0IGRybV9jcnRjICpjcnRjc19hZmZlY3RlZFtBTURHUFVfTUFYX0NSVENT
XSA9IHsgMCB9OworCisgICAgICAgZm9yX2VhY2hfbmV3X2Nvbm5lY3Rvcl9pbl9zdGF0ZShzdGF0
ZSwgY29ubmVjdG9yLCBjb25uX3N0YXRlLCBpKSB7CisgICAgICAgICAgICAgICBpZiAoY29ubl9z
dGF0ZS0+Y3J0YyAhPSBjcnRjKQorICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKKwor
ICAgICAgICAgICAgICAgYWNvbm5lY3RvciA9IHRvX2FtZGdwdV9kbV9jb25uZWN0b3IoY29ubmVj
dG9yKTsKKyAgICAgICAgICAgICAgIGlmICghYWNvbm5lY3Rvci0+cG9ydCkKKyAgICAgICAgICAg
ICAgICAgICAgICAgYWNvbm5lY3RvciA9IE5VTEw7CisgICAgICAgICAgICAgICBlbHNlCisgICAg
ICAgICAgICAgICAgICAgICAgIGJyZWFrOworICAgICAgIH0KKworICAgICAgIGlmICghYWNvbm5l
Y3RvcikKKyAgICAgICAgICAgICAgIHJldHVybiAwOworCisgICAgICAgaSA9IDA7CisgICAgICAg
ZHJtX2Nvbm5lY3Rvcl9saXN0X2l0ZXJfYmVnaW4oc3RhdGUtPmRldiwgJmNvbm5faXRlcik7Cisg
ICAgICAgZHJtX2Zvcl9lYWNoX2Nvbm5lY3Rvcl9pdGVyKGNvbm5lY3RvciwgJmNvbm5faXRlcikg
eworICAgICAgICAgICAgICAgaWYgKCFjb25uZWN0b3ItPnN0YXRlIHx8ICFjb25uZWN0b3ItPnN0
YXRlLT5jcnRjKQorICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKKworICAgICAgICAg
ICAgICAgYWNvbm5lY3Rvcl90b19hZGQgPSB0b19hbWRncHVfZG1fY29ubmVjdG9yKGNvbm5lY3Rv
cik7CisgICAgICAgICAgICAgICBpZiAoIWFjb25uZWN0b3JfdG9fYWRkLT5wb3J0KQorICAgICAg
ICAgICAgICAgICAgICAgICBjb250aW51ZTsKKworICAgICAgICAgICAgICAgaWYgKGFjb25uZWN0
b3JfdG9fYWRkLT5wb3J0LT5tZ3IgIT0gYWNvbm5lY3Rvci0+cG9ydC0+bWdyKQorICAgICAgICAg
ICAgICAgICAgICAgICBjb250aW51ZTsKKworICAgICAgICAgICAgICAgaWYgKCFhY29ubmVjdG9y
X3RvX2FkZC0+ZGNfc2luaykKKyAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CisKKyAg
ICAgICAgICAgICAgIGlmICghYWNvbm5lY3Rvcl90b19hZGQtPmRjX3NpbmstPnNpbmtfZHNjX2Nh
cHMuZHNjX2RlY19jYXBzLmlzX2RzY19zdXBwb3J0ZWQpCisgICAgICAgICAgICAgICAgICAgICAg
IGNvbnRpbnVlOworCisgICAgICAgICAgICAgICBpZiAoaSA+PSBBTURHUFVfTUFYX0NSVENTKQor
ICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKKworICAgICAgICAgICAgICAgY3J0Y3Nf
YWZmZWN0ZWRbaV0gPSBjb25uZWN0b3ItPnN0YXRlLT5jcnRjOworICAgICAgICAgICAgICAgaSsr
OworICAgICAgIH0KKyAgICAgICBkcm1fY29ubmVjdG9yX2xpc3RfaXRlcl9lbmQoJmNvbm5faXRl
cik7CisKKyAgICAgICBmb3IgKGogPSAwOyBqIDwgaTsgaisrKSB7CisgICAgICAgICAgICAgICBu
ZXdfY3J0Y19zdGF0ZSA9IGRybV9hdG9taWNfZ2V0X2NydGNfc3RhdGUoc3RhdGUsIGNydGNzX2Fm
ZmVjdGVkW2pdKTsKKyAgICAgICAgICAgICAgIGlmIChJU19FUlIobmV3X2NydGNfc3RhdGUpKQor
ICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUFRSX0VSUihuZXdfY3J0Y19zdGF0ZSk7Cgor
ICAgICAgICAgICAgICAgbmV3X2NydGNfc3RhdGUtPm1vZGVfY2hhbmdlZCA9IHRydWU7CisgICAg
ICAgfQorCisgICAgICAgcmV0dXJuIDA7CisKK30KKyNlbmRpZgogc3RhdGljIHZvaWQgZ2V0X2Zy
ZWVzeW5jX2NvbmZpZ19mb3JfY3J0YygKICAgICAgICBzdHJ1Y3QgZG1fY3J0Y19zdGF0ZSAqbmV3
X2NydGNfc3RhdGUsCiAgICAgICAgc3RydWN0IGRtX2Nvbm5lY3Rvcl9zdGF0ZSAqbmV3X2Nvbl9z
dGF0ZSkKQEAgLTcxNjAsNiArNzIyNiwxNyBAQCBzdGF0aWMgaW50IGFtZGdwdV9kbV9hdG9taWNf
Y2hlY2soc3RydWN0IGRybV9kZXZpY2UgKmRldiwKICAgICAgICBpZiAocmV0KQogICAgICAgICAg
ICAgICAgZ290byBmYWlsOwoKKyNpZmRlZiBDT05GSUdfRFJNX0FNRF9EQ19EU0NfU1VQUE9SVAor
ICAgICAgIGlmIChhZGV2LT5hc2ljX3R5cGUgPj0gQ0hJUF9OQVZJMTApIHsKKyAgICAgICAgICAg
ICAgIGZvcl9lYWNoX29sZG5ld19jcnRjX2luX3N0YXRlKHN0YXRlLCBjcnRjLCBvbGRfY3J0Y19z
dGF0ZSwgbmV3X2NydGNfc3RhdGUsIGkpIHsKKyAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRy
bV9hdG9taWNfY3J0Y19uZWVkc19tb2Rlc2V0KG5ld19jcnRjX3N0YXRlKSkgeworICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHJldCA9IGFkZF9hZmZlY3RlZF9tc3RfZHNjX2NydGNzKHN0
YXRlLCBjcnRjKTsKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0KQorICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ290byBmYWlsOworICAgICAgICAg
ICAgICAgICAgICAgICB9CisgICAgICAgICAgICAgICB9CisgICAgICAgfQorI2VuZGlmCiAgICAg
ICAgZm9yX2VhY2hfb2xkbmV3X2NydGNfaW5fc3RhdGUoc3RhdGUsIGNydGMsIG9sZF9jcnRjX3N0
YXRlLCBuZXdfY3J0Y19zdGF0ZSwgaSkgewogICAgICAgICAgICAgICAgaWYgKCFkcm1fYXRvbWlj
X2NydGNfbmVlZHNfbW9kZXNldChuZXdfY3J0Y19zdGF0ZSkgJiYKICAgICAgICAgICAgICAgICAg
ICAhbmV3X2NydGNfc3RhdGUtPmNvbG9yX21nbXRfY2hhbmdlZCAmJgotLQoyLjE3LjEKCl9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWls
aW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZy
ZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbApfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRy
aS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5v
cmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
