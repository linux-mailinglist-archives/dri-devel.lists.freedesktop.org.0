Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id F0D2296D0E
	for <lists+dri-devel@lfdr.de>; Wed, 21 Aug 2019 01:21:04 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 6925D6E8D1;
	Tue, 20 Aug 2019 23:21:00 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-qt1-x84a.google.com (mail-qt1-x84a.google.com
 [IPv6:2607:f8b0:4864:20::84a])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 336D66E8CD
 for <dri-devel@lists.freedesktop.org>; Tue, 20 Aug 2019 23:20:57 +0000 (UTC)
Received: by mail-qt1-x84a.google.com with SMTP id 38so619858qtx.3
 for <dri-devel@lists.freedesktop.org>; Tue, 20 Aug 2019 16:20:57 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:date:in-reply-to:message-id:mime-version
 :references:subject:from:to:cc;
 bh=nN6GreSzsXWubXye4Fe1x0SnNVwo3RCd7NvhpOATB0s=;
 b=UIx5eGbC8Mex9wCl1/Lz59W+Gvzasa3TZn+wkSXJjJ1tNt0VuJ936u+o0ezhKCpvmq
 YxkaGzKbnemJidVHUKpAGmT6jLBIjtzWojfCzC0foiQzwR0u7v3Ds+S1VIFBHclGBY4m
 V/2ToXIGlusdTpkpvzvUJhnbuMtQsXaUFR6L95pGHYiTr6CRHG/cY1FWe4u8r4fp85LU
 q3IxVquCDdTOYRjekLKyh55SqYaV7RsVymm7hpz7KvL7nVz9/TsmibvIgg1Uf7KGIEfI
 uGpSg0yEm+PehgqhO/MPTq6mwkOWAgwhkkOjmios2vO7Kh9R/jCb+9aBV0Cy9Pq88MiB
 rkZg==
X-Gm-Message-State: APjAAAWaqvmRkdfaz8/y3TjJbakf8PZIB+rBDhXGW1dyR8hYQxAWnhdT
 VVcR384IoViRVWl8vRNl+zjwm2HDVeUl3mhHjOnSAw==
X-Google-Smtp-Source: APXvYqxXAQqgVyGF6YqvMtVxs44ccUKxP0yC58/VmtFbY+g2mDc/qfjf4JA/3L6s6Osuct5GWLg9jarnuPPwh2Fwo4wnig==
X-Received: by 2002:a0c:eb92:: with SMTP id x18mr16369249qvo.39.1566343255786; 
 Tue, 20 Aug 2019 16:20:55 -0700 (PDT)
Date: Tue, 20 Aug 2019 16:20:29 -0700
In-Reply-To: <20190820232046.50175-1-brendanhiggins@google.com>
Message-Id: <20190820232046.50175-2-brendanhiggins@google.com>
Mime-Version: 1.0
References: <20190820232046.50175-1-brendanhiggins@google.com>
X-Mailer: git-send-email 2.23.0.rc1.153.gdeed80330f-goog
Subject: [PATCH v14 01/18] kunit: test: add KUnit test runner core
From: Brendan Higgins <brendanhiggins@google.com>
To: frowand.list@gmail.com, gregkh@linuxfoundation.org, jpoimboe@redhat.com, 
 keescook@google.com, kieran.bingham@ideasonboard.com, mcgrof@kernel.org, 
 peterz@infradead.org, robh@kernel.org, sboyd@kernel.org, shuah@kernel.org, 
 tytso@mit.edu, yamada.masahiro@socionext.com
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=google.com; s=20161025;
 h=date:in-reply-to:message-id:mime-version:references:subject:from:to
 :cc;
 bh=nN6GreSzsXWubXye4Fe1x0SnNVwo3RCd7NvhpOATB0s=;
 b=Sr3BA2nCNQkAim/a8e9udMtO4Twir2GuNq8SAh5hOi4y+5GMt9Vvcyxq+NIlxdxEP+
 BVEuHoDIHfvfYrEvjyZ+PGWHctm2d1EgJ219t26oJ/qLtpikfyl807RmN4VaFqG10RPa
 9rXf9v2gRaXR9wLG481K7MwuR137aPQzc9o0V6z8O6m6N4AdlCOaTg4N1NEA+cF1ZVZh
 mXcn7JdrkUJJiLOOsUhbSUOYHs0LL7sa2+77+tS+6tK1wZKXvlvPm7n5U0yO6eHRgoqn
 zx3S6SmW74m5R/zzumoC5cWsoFrPAAXbYtLXEcETxA220rRHPAbbWseZxmo1pdCwpkEn
 C0iQ==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: pmladek@suse.com, linux-doc@vger.kernel.org, amir73il@gmail.com,
 Brendan Higgins <brendanhiggins@google.com>, dri-devel@lists.freedesktop.org,
 Alexander.Levin@microsoft.com, linux-kselftest@vger.kernel.org,
 linux-nvdimm@lists.01.org, khilman@baylibre.com, knut.omang@oracle.com,
 wfg@linux.intel.com, joel@jms.id.au, rientjes@google.com, jdike@addtoit.com,
 dan.carpenter@oracle.com, devicetree@vger.kernel.org,
 linux-kbuild@vger.kernel.org, Tim.Bird@sony.com, linux-um@lists.infradead.org,
 rostedt@goodmis.org, julia.lawall@lip6.fr, kunit-dev@googlegroups.com,
 richard@nod.at, rdunlap@infradead.org, linux-kernel@vger.kernel.org,
 mpe@ellerman.id.au, linux-fsdevel@vger.kernel.org, logang@deltatee.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QWRkIGNvcmUgZmFjaWxpdGllcyBmb3IgZGVmaW5pbmcgdW5pdCB0ZXN0czsgdGhpcyBwcm92aWRl
cyBhIGNvbW1vbiB3YXkKdG8gZGVmaW5lIHRlc3QgY2FzZXMsIGZ1bmN0aW9ucyB0aGF0IGV4ZWN1
dGUgY29kZSB3aGljaCBpcyB1bmRlciB0ZXN0CmFuZCBkZXRlcm1pbmUgd2hldGhlciB0aGUgY29k
ZSB1bmRlciB0ZXN0IGJlaGF2ZXMgYXMgZXhwZWN0ZWQ7IHRoaXMgYWxzbwpwcm92aWRlcyBhIHdh
eSB0byBncm91cCB0b2dldGhlciByZWxhdGVkIHRlc3QgY2FzZXMgaW4gdGVzdCBzdWl0ZXMgKGhl
cmUKd2UgY2FsbCB0aGVtIHRlc3RfbW9kdWxlcykuCgpKdXN0IGRlZmluZSB0ZXN0IGNhc2VzIGFu
ZCBob3cgdG8gZXhlY3V0ZSB0aGVtIGZvciBub3c7IHNldHRpbmcKZXhwZWN0YXRpb25zIG9uIGNv
ZGUgd2lsbCBiZSBkZWZpbmVkIGxhdGVyLgoKU2lnbmVkLW9mZi1ieTogQnJlbmRhbiBIaWdnaW5z
IDxicmVuZGFuaGlnZ2luc0Bnb29nbGUuY29tPgpSZXZpZXdlZC1ieTogR3JlZyBLcm9haC1IYXJ0
bWFuIDxncmVna2hAbGludXhmb3VuZGF0aW9uLm9yZz4KUmV2aWV3ZWQtYnk6IExvZ2FuIEd1bnRo
b3JwZSA8bG9nYW5nQGRlbHRhdGVlLmNvbT4KUmV2aWV3ZWQtYnk6IEx1aXMgQ2hhbWJlcmxhaW4g
PG1jZ3JvZkBrZXJuZWwub3JnPgpSZXZpZXdlZC1ieTogU3RlcGhlbiBCb3lkIDxzYm95ZEBrZXJu
ZWwub3JnPgotLS0KIGluY2x1ZGUva3VuaXQvdGVzdC5oIHwgMTc5ICsrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysKIGt1bml0L0tjb25maWcgICAgICAgIHwgIDE3ICsrKysK
IGt1bml0L01ha2VmaWxlICAgICAgIHwgICAxICsKIGt1bml0L3Rlc3QuYyAgICAgICAgIHwgMTkx
ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysKIDQgZmlsZXMgY2hh
bmdlZCwgMzg4IGluc2VydGlvbnMoKykKIGNyZWF0ZSBtb2RlIDEwMDY0NCBpbmNsdWRlL2t1bml0
L3Rlc3QuaAogY3JlYXRlIG1vZGUgMTAwNjQ0IGt1bml0L0tjb25maWcKIGNyZWF0ZSBtb2RlIDEw
MDY0NCBrdW5pdC9NYWtlZmlsZQogY3JlYXRlIG1vZGUgMTAwNjQ0IGt1bml0L3Rlc3QuYwoKZGlm
ZiAtLWdpdCBhL2luY2x1ZGUva3VuaXQvdGVzdC5oIGIvaW5jbHVkZS9rdW5pdC90ZXN0LmgKbmV3
IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAwMC4uZTBiMzRhY2I5ZWU0ZQotLS0g
L2Rldi9udWxsCisrKyBiL2luY2x1ZGUva3VuaXQvdGVzdC5oCkBAIC0wLDAgKzEsMTc5IEBACisv
KiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMCAqLworLyoKKyAqIEJhc2UgdW5pdCB0
ZXN0IChLVW5pdCkgQVBJLgorICoKKyAqIENvcHlyaWdodCAoQykgMjAxOSwgR29vZ2xlIExMQy4K
KyAqIEF1dGhvcjogQnJlbmRhbiBIaWdnaW5zIDxicmVuZGFuaGlnZ2luc0Bnb29nbGUuY29tPgor
ICovCisKKyNpZm5kZWYgX0tVTklUX1RFU1RfSAorI2RlZmluZSBfS1VOSVRfVEVTVF9ICisKKyNp
bmNsdWRlIDxsaW51eC90eXBlcy5oPgorCitzdHJ1Y3Qga3VuaXQ7CisKKy8qKgorICogc3RydWN0
IGt1bml0X2Nhc2UgLSByZXByZXNlbnRzIGFuIGluZGl2aWR1YWwgdGVzdCBjYXNlLgorICogQHJ1
bl9jYXNlOiB0aGUgZnVuY3Rpb24gcmVwcmVzZW50aW5nIHRoZSBhY3R1YWwgdGVzdCBjYXNlLgor
ICogQG5hbWU6IHRoZSBuYW1lIG9mIHRoZSB0ZXN0IGNhc2UuCisgKgorICogQSB0ZXN0IGNhc2Ug
aXMgYSBmdW5jdGlvbiB3aXRoIHRoZSBzaWduYXR1cmUsIGBgdm9pZCAoKikoc3RydWN0IGt1bml0
ICopYGAKKyAqIHRoYXQgbWFrZXMgZXhwZWN0YXRpb25zIChzZWUgS1VOSVRfRVhQRUNUX1RSVUUo
KSkgYWJvdXQgY29kZSB1bmRlciB0ZXN0LiBFYWNoCisgKiB0ZXN0IGNhc2UgaXMgYXNzb2NpYXRl
ZCB3aXRoIGEgJnN0cnVjdCBrdW5pdF9zdWl0ZSBhbmQgd2lsbCBiZSBydW4gYWZ0ZXIgdGhlCisg
KiBzdWl0ZSdzIGluaXQgZnVuY3Rpb24gYW5kIGZvbGxvd2VkIGJ5IHRoZSBzdWl0ZSdzIGV4aXQg
ZnVuY3Rpb24uCisgKgorICogQSB0ZXN0IGNhc2Ugc2hvdWxkIGJlIHN0YXRpYyBhbmQgc2hvdWxk
IG9ubHkgYmUgY3JlYXRlZCB3aXRoIHRoZSBLVU5JVF9DQVNFKCkKKyAqIG1hY3JvOyBhZGRpdGlv
bmFsbHksIGV2ZXJ5IGFycmF5IG9mIHRlc3QgY2FzZXMgc2hvdWxkIGJlIHRlcm1pbmF0ZWQgd2l0
aCBhbgorICogZW1wdHkgdGVzdCBjYXNlLgorICoKKyAqIEV4YW1wbGU6CisgKgorICogLi4gY29k
ZS1ibG9jazo6IGMKKyAqCisgKgl2b2lkIGFkZF90ZXN0X2Jhc2ljKHN0cnVjdCBrdW5pdCAqdGVz
dCkKKyAqCXsKKyAqCQlLVU5JVF9FWFBFQ1RfRVEodGVzdCwgMSwgYWRkKDEsIDApKTsKKyAqCQlL
VU5JVF9FWFBFQ1RfRVEodGVzdCwgMiwgYWRkKDEsIDEpKTsKKyAqCQlLVU5JVF9FWFBFQ1RfRVEo
dGVzdCwgMCwgYWRkKC0xLCAxKSk7CisgKgkJS1VOSVRfRVhQRUNUX0VRKHRlc3QsIElOVF9NQVgs
IGFkZCgwLCBJTlRfTUFYKSk7CisgKgkJS1VOSVRfRVhQRUNUX0VRKHRlc3QsIC0xLCBhZGQoSU5U
X01BWCwgSU5UX01JTikpOworICoJfQorICoKKyAqCXN0YXRpYyBzdHJ1Y3Qga3VuaXRfY2FzZSBl
eGFtcGxlX3Rlc3RfY2FzZXNbXSA9IHsKKyAqCQlLVU5JVF9DQVNFKGFkZF90ZXN0X2Jhc2ljKSwK
KyAqCQl7fQorICoJfTsKKyAqCisgKi8KK3N0cnVjdCBrdW5pdF9jYXNlIHsKKwl2b2lkICgqcnVu
X2Nhc2UpKHN0cnVjdCBrdW5pdCAqdGVzdCk7CisJY29uc3QgY2hhciAqbmFtZTsKKworCS8qIHBy
aXZhdGU6IGludGVybmFsIHVzZSBvbmx5LiAqLworCWJvb2wgc3VjY2VzczsKK307CisKKy8qKgor
ICogS1VOSVRfQ0FTRSAtIEEgaGVscGVyIGZvciBjcmVhdGluZyBhICZzdHJ1Y3Qga3VuaXRfY2Fz
ZQorICogQHRlc3RfbmFtZTogYSByZWZlcmVuY2UgdG8gYSB0ZXN0IGNhc2UgZnVuY3Rpb24uCisg
KgorICogVGFrZXMgYSBzeW1ib2wgZm9yIGEgZnVuY3Rpb24gcmVwcmVzZW50aW5nIGEgdGVzdCBj
YXNlIGFuZCBjcmVhdGVzIGEKKyAqICZzdHJ1Y3Qga3VuaXRfY2FzZSBvYmplY3QgZnJvbSBpdC4g
U2VlIHRoZSBkb2N1bWVudGF0aW9uIGZvcgorICogJnN0cnVjdCBrdW5pdF9jYXNlIGZvciBhbiBl
eGFtcGxlIG9uIGhvdyB0byB1c2UgaXQuCisgKi8KKyNkZWZpbmUgS1VOSVRfQ0FTRSh0ZXN0X25h
bWUpIHsgLnJ1bl9jYXNlID0gdGVzdF9uYW1lLCAubmFtZSA9ICN0ZXN0X25hbWUgfQorCisvKioK
KyAqIHN0cnVjdCBrdW5pdF9zdWl0ZSAtIGRlc2NyaWJlcyBhIHJlbGF0ZWQgY29sbGVjdGlvbiBv
ZiAmc3RydWN0IGt1bml0X2Nhc2Ugcy4KKyAqIEBuYW1lOiB0aGUgbmFtZSBvZiB0aGUgdGVzdC4g
UHVyZWx5IGluZm9ybWF0aW9uYWwuCisgKiBAaW5pdDogY2FsbGVkIGJlZm9yZSBldmVyeSB0ZXN0
IGNhc2UuCisgKiBAZXhpdDogY2FsbGVkIGFmdGVyIGV2ZXJ5IHRlc3QgY2FzZS4KKyAqIEB0ZXN0
X2Nhc2VzOiBhIG51bGwgdGVybWluYXRlZCBhcnJheSBvZiB0ZXN0IGNhc2VzLgorICoKKyAqIEEg
a3VuaXRfc3VpdGUgaXMgYSBjb2xsZWN0aW9uIG9mIHJlbGF0ZWQgJnN0cnVjdCBrdW5pdF9jYXNl
IHMsIHN1Y2ggdGhhdAorICogQGluaXQgaXMgY2FsbGVkIGJlZm9yZSBldmVyeSB0ZXN0IGNhc2Ug
YW5kIEBleGl0IGlzIGNhbGxlZCBhZnRlciBldmVyeSB0ZXN0CisgKiBjYXNlLCBzaW1pbGFyIHRv
IHRoZSBub3Rpb24gb2YgYSAqdGVzdCBmaXh0dXJlKiBvciBhICp0ZXN0IGNsYXNzKiBpbiBvdGhl
cgorICogdW5pdCB0ZXN0aW5nIGZyYW1ld29ya3MgbGlrZSBKVW5pdCBvciBHb29nbGV0ZXN0Lgor
ICoKKyAqIEV2ZXJ5ICZzdHJ1Y3Qga3VuaXRfY2FzZSBtdXN0IGJlIGFzc29jaWF0ZWQgd2l0aCBh
IGt1bml0X3N1aXRlIGZvciBLVW5pdCB0bworICogcnVuIGl0LgorICovCitzdHJ1Y3Qga3VuaXRf
c3VpdGUgeworCWNvbnN0IGNoYXIgbmFtZVsyNTZdOworCWludCAoKmluaXQpKHN0cnVjdCBrdW5p
dCAqdGVzdCk7CisJdm9pZCAoKmV4aXQpKHN0cnVjdCBrdW5pdCAqdGVzdCk7CisJc3RydWN0IGt1
bml0X2Nhc2UgKnRlc3RfY2FzZXM7Cit9OworCisvKioKKyAqIHN0cnVjdCBrdW5pdCAtIHJlcHJl
c2VudHMgYSBydW5uaW5nIGluc3RhbmNlIG9mIGEgdGVzdC4KKyAqIEBwcml2OiBmb3IgdXNlciB0
byBzdG9yZSBhcmJpdHJhcnkgZGF0YS4gQ29tbW9ubHkgdXNlZCB0byBwYXNzIGRhdGEgY3JlYXRl
ZAorICogaW4gdGhlIGluaXQgZnVuY3Rpb24gKHNlZSAmc3RydWN0IGt1bml0X3N1aXRlKS4KKyAq
CisgKiBVc2VkIHRvIHN0b3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjdXJyZW50IGNvbnRleHQg
dW5kZXIgd2hpY2ggdGhlIHRlc3QgaXMKKyAqIHJ1bm5pbmcuIE1vc3Qgb2YgdGhpcyBkYXRhIGlz
IHByaXZhdGUgYW5kIHNob3VsZCBvbmx5IGJlIGFjY2Vzc2VkIGluZGlyZWN0bHkKKyAqIHZpYSBw
dWJsaWMgZnVuY3Rpb25zOyB0aGUgb25lIGV4Y2VwdGlvbiBpcyBAcHJpdiB3aGljaCBjYW4gYmUg
dXNlZCBieSB0aGUKKyAqIHRlc3Qgd3JpdGVyIHRvIHN0b3JlIGFyYml0cmFyeSBkYXRhLgorICov
CitzdHJ1Y3Qga3VuaXQgeworCXZvaWQgKnByaXY7CisKKwkvKiBwcml2YXRlOiBpbnRlcm5hbCB1
c2Ugb25seS4gKi8KKwljb25zdCBjaGFyICpuYW1lOyAvKiBSZWFkIG9ubHkgYWZ0ZXIgaW5pdGlh
bGl6YXRpb24hICovCisJLyoKKwkgKiBzdWNjZXNzIHN0YXJ0cyBhcyB0cnVlLCBhbmQgbWF5IG9u
bHkgYmUgc2V0IHRvIGZhbHNlIGR1cmluZyBhIHRlc3QKKwkgKiBjYXNlOyB0aHVzLCBpdCBpcyBz
YWZlIHRvIHVwZGF0ZSB0aGlzIGFjcm9zcyBtdWx0aXBsZSB0aHJlYWRzIHVzaW5nCisJICogV1JJ
VEVfT05DRTsgaG93ZXZlciwgYXMgYSBjb25zZXF1ZW5jZSwgaXQgbWF5IG9ubHkgYmUgcmVhZCBh
ZnRlciB0aGUKKwkgKiB0ZXN0IGNhc2UgZmluaXNoZXMgb25jZSBhbGwgdGhyZWFkcyBhc3NvY2lh
dGVkIHdpdGggdGhlIHRlc3QgY2FzZQorCSAqIGhhdmUgdGVybWluYXRlZC4KKwkgKi8KKwlib29s
IHN1Y2Nlc3M7IC8qIFJlYWQgb25seSBhZnRlciB0ZXN0X2Nhc2UgZmluaXNoZXMhICovCit9Owor
Cit2b2lkIGt1bml0X2luaXRfdGVzdChzdHJ1Y3Qga3VuaXQgKnRlc3QsIGNvbnN0IGNoYXIgKm5h
bWUpOworCitpbnQga3VuaXRfcnVuX3Rlc3RzKHN0cnVjdCBrdW5pdF9zdWl0ZSAqc3VpdGUpOwor
CisvKioKKyAqIGt1bml0X3Rlc3Rfc3VpdGUoKSAtIHVzZWQgdG8gcmVnaXN0ZXIgYSAmc3RydWN0
IGt1bml0X3N1aXRlIHdpdGggS1VuaXQuCisgKiBAc3VpdGU6IGEgc3RhdGljYWxseSBhbGxvY2F0
ZWQgJnN0cnVjdCBrdW5pdF9zdWl0ZS4KKyAqCisgKiBSZWdpc3RlcnMgQHN1aXRlIHdpdGggdGhl
IHRlc3QgZnJhbWV3b3JrLiBTZWUgJnN0cnVjdCBrdW5pdF9zdWl0ZSBmb3IgbW9yZQorICogaW5m
b3JtYXRpb24uCisgKgorICogTk9URTogQ3VycmVudGx5IEtVbml0IHRlc3RzIGFyZSBhbGwgcnVu
IGFzIGxhdGVfaW5pdGNhbGxzOyB0aGlzIG1lYW5zIHRoYXQKKyAqIHRoZXkgY2Fubm90IHRlc3Qg
YW55dGhpbmcgd2hlcmUgdGVzdHMgbXVzdCBydW4gYXQgYSBkaWZmZXJlbnQgaW5pdCBwaGFzZS4g
T25lCisgKiBzaWduaWZpY2FudCByZXN0cmljdGlvbiByZXN1bHRpbmcgZnJvbSB0aGlzIGlzIHRo
YXQgS1VuaXQgY2Fubm90IHJlbGlhYmx5CisgKiB0ZXN0IGFueXRoaW5nIHRoYXQgaXMgaW5pdGlh
bGl6ZSBpbiB0aGUgbGF0ZV9pbml0IHBoYXNlOyBhbm90aGVyIGlzIHRoYXQKKyAqIEtVbml0IGlz
IHVzZWxlc3MgdG8gdGVzdCB0aGluZ3MgdGhhdCBuZWVkIHRvIGJlIHJ1biBpbiBhbiBlYXJsaWVy
IGluaXQgcGhhc2UuCisgKi8KKyNkZWZpbmUga3VuaXRfdGVzdF9zdWl0ZShzdWl0ZSkJCQkJCQkg
ICAgICAgXAorCQkvKgorCQkgKiBUT0RPKGJyZW5kYW5oaWdnaW5zQGdvb2dsZS5jb20pOiBEb24n
dCBydW4gYWxsIEtVbml0IHRlc3RzIGFzCisJCSAqIGxhdGVfaW5pdGNhbGxzLiAgSSBoYXZlIHNv
bWUgZnV0dXJlIHdvcmsgcGxhbm5lZCB0byBkaXNwYXRjaAorCQkgKiBhbGwgS1VuaXQgdGVzdHMg
ZnJvbSB0aGUgc2FtZSBwbGFjZSwgYW5kIGF0IHRoZSB2ZXJ5IGxlYXN0IHRvCisJCSAqIGRvIHNv
IGFmdGVyIGV2ZXJ5dGhpbmcgZWxzZSBpcyBkZWZpbml0ZWx5IGluaXRpYWxpemVkLgorCQkgKi8J
CQkJCQkJICAgICAgIFwKKwkJc3RhdGljIGludCBrdW5pdF9zdWl0ZV9pbml0IyNzdWl0ZSh2b2lk
KQkJICAgICAgIFwKKwkJewkJCQkJCQkgICAgICAgXAorCQkJcmV0dXJuIGt1bml0X3J1bl90ZXN0
cygmc3VpdGUpOwkJCSAgICAgICBcCisJCX0JCQkJCQkJICAgICAgIFwKKwkJbGF0ZV9pbml0Y2Fs
bChrdW5pdF9zdWl0ZV9pbml0IyNzdWl0ZSkKKwordm9pZCBfX3ByaW50ZigzLCA0KSBrdW5pdF9w
cmludGsoY29uc3QgY2hhciAqbGV2ZWwsCisJCQkJIGNvbnN0IHN0cnVjdCBrdW5pdCAqdGVzdCwK
KwkJCQkgY29uc3QgY2hhciAqZm10LCAuLi4pOworCisvKioKKyAqIGt1bml0X2luZm8oKSAtIFBy
aW50cyBhbiBJTkZPIGxldmVsIG1lc3NhZ2UgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IHRl
c3QuCisgKiBAdGVzdDogVGhlIHRlc3QgY29udGV4dCBvYmplY3QuCisgKiBAZm10OiBBIHByaW50
aygpIHN0eWxlIGZvcm1hdCBzdHJpbmcuCisgKgorICogUHJpbnRzIGFuIGluZm8gbGV2ZWwgbWVz
c2FnZSBhc3NvY2lhdGVkIHdpdGggdGhlIHRlc3Qgc3VpdGUgYmVpbmcgcnVuLiBUYWtlcworICog
YSB2YXJpYWJsZSBudW1iZXIgb2YgZm9ybWF0IHBhcmFtZXRlcnMganVzdCBsaWtlIHByaW50aygp
LgorICovCisjZGVmaW5lIGt1bml0X2luZm8odGVzdCwgZm10LCAuLi4pIFwKKwkJa3VuaXRfcHJp
bnRrKEtFUk5fSU5GTywgdGVzdCwgZm10LCAjI19fVkFfQVJHU19fKQorCisvKioKKyAqIGt1bml0
X3dhcm4oKSAtIFByaW50cyBhIFdBUk4gbGV2ZWwgbWVzc2FnZSBhc3NvY2lhdGVkIHdpdGggdGhl
IGN1cnJlbnQgdGVzdC4KKyAqIEB0ZXN0OiBUaGUgdGVzdCBjb250ZXh0IG9iamVjdC4KKyAqIEBm
bXQ6IEEgcHJpbnRrKCkgc3R5bGUgZm9ybWF0IHN0cmluZy4KKyAqCisgKiBQcmludHMgYSB3YXJu
aW5nIGxldmVsIG1lc3NhZ2UuCisgKi8KKyNkZWZpbmUga3VuaXRfd2Fybih0ZXN0LCBmbXQsIC4u
LikgXAorCQlrdW5pdF9wcmludGsoS0VSTl9XQVJOSU5HLCB0ZXN0LCBmbXQsICMjX19WQV9BUkdT
X18pCisKKy8qKgorICoga3VuaXRfZXJyKCkgLSBQcmludHMgYW4gRVJST1IgbGV2ZWwgbWVzc2Fn
ZSBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnQgdGVzdC4KKyAqIEB0ZXN0OiBUaGUgdGVzdCBj
b250ZXh0IG9iamVjdC4KKyAqIEBmbXQ6IEEgcHJpbnRrKCkgc3R5bGUgZm9ybWF0IHN0cmluZy4K
KyAqCisgKiBQcmludHMgYW4gZXJyb3IgbGV2ZWwgbWVzc2FnZS4KKyAqLworI2RlZmluZSBrdW5p
dF9lcnIodGVzdCwgZm10LCAuLi4pIFwKKwkJa3VuaXRfcHJpbnRrKEtFUk5fRVJSLCB0ZXN0LCBm
bXQsICMjX19WQV9BUkdTX18pCisKKyNlbmRpZiAvKiBfS1VOSVRfVEVTVF9IICovCmRpZmYgLS1n
aXQgYS9rdW5pdC9LY29uZmlnIGIva3VuaXQvS2NvbmZpZwpuZXcgZmlsZSBtb2RlIDEwMDY0NApp
bmRleCAwMDAwMDAwMDAwMDAwLi4zMzBhZTgzNTI3YzIzCi0tLSAvZGV2L251bGwKKysrIGIva3Vu
aXQvS2NvbmZpZwpAQCAtMCwwICsxLDE3IEBACisjCisjIEtVbml0IGJhc2UgY29uZmlndXJhdGlv
bgorIworCittZW51ICJLVW5pdCBzdXBwb3J0IgorCitjb25maWcgS1VOSVQKKwlib29sICJFbmFi
bGUgc3VwcG9ydCBmb3IgdW5pdCB0ZXN0cyAoS1VuaXQpIgorCWhlbHAKKwkgIEVuYWJsZXMgc3Vw
cG9ydCBmb3Iga2VybmVsIHVuaXQgdGVzdHMgKEtVbml0KSwgYSBsaWdodHdlaWdodCB1bml0CisJ
ICB0ZXN0aW5nIGFuZCBtb2NraW5nIGZyYW1ld29yayBmb3IgdGhlIExpbnV4IGtlcm5lbC4gVGhl
c2UgdGVzdHMgYXJlCisJICBhYmxlIHRvIGJlIHJ1biBsb2NhbGx5IG9uIGEgZGV2ZWxvcGVyJ3Mg
d29ya3N0YXRpb24gd2l0aG91dCBhIFZNIG9yCisJICBzcGVjaWFsIGhhcmR3YXJlIHdoZW4gdXNp
bmcgVU1MLiBDYW4gYWxzbyBiZSB1c2VkIG9uIG1vc3Qgb3RoZXIKKwkgIGFyY2hpdGVjdHVyZXMu
IEZvciBtb3JlIGluZm9ybWF0aW9uLCBwbGVhc2Ugc2VlCisJICBEb2N1bWVudGF0aW9uL2Rldi10
b29scy9rdW5pdC8uCisKK2VuZG1lbnUKZGlmZiAtLWdpdCBhL2t1bml0L01ha2VmaWxlIGIva3Vu
aXQvTWFrZWZpbGUKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAwMC4uNWVm
ZGM0ZGVhMmMwOAotLS0gL2Rldi9udWxsCisrKyBiL2t1bml0L01ha2VmaWxlCkBAIC0wLDAgKzEg
QEAKK29iai0kKENPTkZJR19LVU5JVCkgKz0JCQl0ZXN0Lm8KZGlmZiAtLWdpdCBhL2t1bml0L3Rl
c3QuYyBiL2t1bml0L3Rlc3QuYwpuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwMDAw
MDAwLi5kM2RkYTM1OWY5OWIxCi0tLSAvZGV2L251bGwKKysrIGIva3VuaXQvdGVzdC5jCkBAIC0w
LDAgKzEsMTkxIEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMAorLyoKKyAq
IEJhc2UgdW5pdCB0ZXN0IChLVW5pdCkgQVBJLgorICoKKyAqIENvcHlyaWdodCAoQykgMjAxOSwg
R29vZ2xlIExMQy4KKyAqIEF1dGhvcjogQnJlbmRhbiBIaWdnaW5zIDxicmVuZGFuaGlnZ2luc0Bn
b29nbGUuY29tPgorICovCisKKyNpbmNsdWRlIDxrdW5pdC90ZXN0Lmg+CisjaW5jbHVkZSA8bGlu
dXgva2VybmVsLmg+CisKK3N0YXRpYyB2b2lkIGt1bml0X3NldF9mYWlsdXJlKHN0cnVjdCBrdW5p
dCAqdGVzdCkKK3sKKwlXUklURV9PTkNFKHRlc3QtPnN1Y2Nlc3MsIGZhbHNlKTsKK30KKworc3Rh
dGljIGludCBrdW5pdF92cHJpbnRrX2VtaXQoaW50IGxldmVsLCBjb25zdCBjaGFyICpmbXQsIHZh
X2xpc3QgYXJncykKK3sKKwlyZXR1cm4gdnByaW50a19lbWl0KDAsIGxldmVsLCBOVUxMLCAwLCBm
bXQsIGFyZ3MpOworfQorCitzdGF0aWMgaW50IGt1bml0X3ByaW50a19lbWl0KGludCBsZXZlbCwg
Y29uc3QgY2hhciAqZm10LCAuLi4pCit7CisJdmFfbGlzdCBhcmdzOworCWludCByZXQ7CisKKwl2
YV9zdGFydChhcmdzLCBmbXQpOworCXJldCA9IGt1bml0X3ZwcmludGtfZW1pdChsZXZlbCwgZm10
LCBhcmdzKTsKKwl2YV9lbmQoYXJncyk7CisKKwlyZXR1cm4gcmV0OworfQorCitzdGF0aWMgdm9p
ZCBrdW5pdF92cHJpbnRrKGNvbnN0IHN0cnVjdCBrdW5pdCAqdGVzdCwKKwkJCSAgY29uc3QgY2hh
ciAqbGV2ZWwsCisJCQkgIHN0cnVjdCB2YV9mb3JtYXQgKnZhZikKK3sKKwlrdW5pdF9wcmludGtf
ZW1pdChsZXZlbFsxXSAtICcwJywgIlx0IyAlczogJXBWIiwgdGVzdC0+bmFtZSwgdmFmKTsKK30K
Kworc3RhdGljIHZvaWQga3VuaXRfcHJpbnRfdGFwX3ZlcnNpb24odm9pZCkKK3sKKwlzdGF0aWMg
Ym9vbCBrdW5pdF9oYXNfcHJpbnRlZF90YXBfdmVyc2lvbjsKKworCWlmICgha3VuaXRfaGFzX3By
aW50ZWRfdGFwX3ZlcnNpb24pIHsKKwkJa3VuaXRfcHJpbnRrX2VtaXQoTE9HTEVWRUxfSU5GTywg
IlRBUCB2ZXJzaW9uIDE0XG4iKTsKKwkJa3VuaXRfaGFzX3ByaW50ZWRfdGFwX3ZlcnNpb24gPSB0
cnVlOworCX0KK30KKworc3RhdGljIHNpemVfdCBrdW5pdF90ZXN0X2Nhc2VzX2xlbihzdHJ1Y3Qg
a3VuaXRfY2FzZSAqdGVzdF9jYXNlcykKK3sKKwlzdHJ1Y3Qga3VuaXRfY2FzZSAqdGVzdF9jYXNl
OworCXNpemVfdCBsZW4gPSAwOworCisJZm9yICh0ZXN0X2Nhc2UgPSB0ZXN0X2Nhc2VzOyB0ZXN0
X2Nhc2UtPnJ1bl9jYXNlOyB0ZXN0X2Nhc2UrKykKKwkJbGVuKys7CisKKwlyZXR1cm4gbGVuOwor
fQorCitzdGF0aWMgdm9pZCBrdW5pdF9wcmludF9zdWJ0ZXN0X3N0YXJ0KHN0cnVjdCBrdW5pdF9z
dWl0ZSAqc3VpdGUpCit7CisJa3VuaXRfcHJpbnRfdGFwX3ZlcnNpb24oKTsKKwlrdW5pdF9wcmlu
dGtfZW1pdChMT0dMRVZFTF9JTkZPLCAiXHQjIFN1YnRlc3Q6ICVzXG4iLCBzdWl0ZS0+bmFtZSk7
CisJa3VuaXRfcHJpbnRrX2VtaXQoTE9HTEVWRUxfSU5GTywKKwkJCSAgIlx0MS4uJXpkXG4iLAor
CQkJICBrdW5pdF90ZXN0X2Nhc2VzX2xlbihzdWl0ZS0+dGVzdF9jYXNlcykpOworfQorCitzdGF0
aWMgdm9pZCBrdW5pdF9wcmludF9va19ub3Rfb2soYm9vbCBzaG91bGRfaW5kZW50LAorCQkJCSAg
Ym9vbCBpc19vaywKKwkJCQkgIHNpemVfdCB0ZXN0X251bWJlciwKKwkJCQkgIGNvbnN0IGNoYXIg
KmRlc2NyaXB0aW9uKQoreworCWNvbnN0IGNoYXIgKmluZGVudCwgKm9rX25vdF9vazsKKworCWlm
IChzaG91bGRfaW5kZW50KQorCQlpbmRlbnQgPSAiXHQiOworCWVsc2UKKwkJaW5kZW50ID0gIiI7
CisKKwlpZiAoaXNfb2spCisJCW9rX25vdF9vayA9ICJvayI7CisJZWxzZQorCQlva19ub3Rfb2sg
PSAibm90IG9rIjsKKworCWt1bml0X3ByaW50a19lbWl0KExPR0xFVkVMX0lORk8sCisJCQkgICIl
cyVzICV6ZCAtICVzXG4iLAorCQkJICBpbmRlbnQsIG9rX25vdF9vaywgdGVzdF9udW1iZXIsIGRl
c2NyaXB0aW9uKTsKK30KKworc3RhdGljIGJvb2wga3VuaXRfc3VpdGVfaGFzX3N1Y2NlZWRlZChz
dHJ1Y3Qga3VuaXRfc3VpdGUgKnN1aXRlKQoreworCWNvbnN0IHN0cnVjdCBrdW5pdF9jYXNlICp0
ZXN0X2Nhc2U7CisKKwlmb3IgKHRlc3RfY2FzZSA9IHN1aXRlLT50ZXN0X2Nhc2VzOyB0ZXN0X2Nh
c2UtPnJ1bl9jYXNlOyB0ZXN0X2Nhc2UrKykKKwkJaWYgKCF0ZXN0X2Nhc2UtPnN1Y2Nlc3MpCisJ
CQlyZXR1cm4gZmFsc2U7CisKKwlyZXR1cm4gdHJ1ZTsKK30KKworc3RhdGljIHZvaWQga3VuaXRf
cHJpbnRfc3VidGVzdF9lbmQoc3RydWN0IGt1bml0X3N1aXRlICpzdWl0ZSkKK3sKKwlzdGF0aWMg
c2l6ZV90IGt1bml0X3N1aXRlX2NvdW50ZXIgPSAxOworCisJa3VuaXRfcHJpbnRfb2tfbm90X29r
KGZhbHNlLAorCQkJICAgICAga3VuaXRfc3VpdGVfaGFzX3N1Y2NlZWRlZChzdWl0ZSksCisJCQkg
ICAgICBrdW5pdF9zdWl0ZV9jb3VudGVyKyssCisJCQkgICAgICBzdWl0ZS0+bmFtZSk7Cit9CisK
K3N0YXRpYyB2b2lkIGt1bml0X3ByaW50X3Rlc3RfY2FzZV9va19ub3Rfb2soc3RydWN0IGt1bml0
X2Nhc2UgKnRlc3RfY2FzZSwKKwkJCQkJICAgIHNpemVfdCB0ZXN0X251bWJlcikKK3sKKwlrdW5p
dF9wcmludF9va19ub3Rfb2sodHJ1ZSwKKwkJCSAgICAgIHRlc3RfY2FzZS0+c3VjY2VzcywKKwkJ
CSAgICAgIHRlc3RfbnVtYmVyLAorCQkJICAgICAgdGVzdF9jYXNlLT5uYW1lKTsKK30KKwordm9p
ZCBrdW5pdF9pbml0X3Rlc3Qoc3RydWN0IGt1bml0ICp0ZXN0LCBjb25zdCBjaGFyICpuYW1lKQor
eworCXRlc3QtPm5hbWUgPSBuYW1lOworCXRlc3QtPnN1Y2Nlc3MgPSB0cnVlOworfQorCisvKgor
ICogUGVyZm9ybXMgYWxsIGxvZ2ljIHRvIHJ1biBhIHRlc3QgY2FzZS4KKyAqLworc3RhdGljIHZv
aWQga3VuaXRfcnVuX2Nhc2Uoc3RydWN0IGt1bml0X3N1aXRlICpzdWl0ZSwKKwkJCSAgIHN0cnVj
dCBrdW5pdF9jYXNlICp0ZXN0X2Nhc2UpCit7CisJc3RydWN0IGt1bml0IHRlc3Q7CisKKwlrdW5p
dF9pbml0X3Rlc3QoJnRlc3QsIHRlc3RfY2FzZS0+bmFtZSk7CisKKwlpZiAoc3VpdGUtPmluaXQp
IHsKKwkJaW50IHJldDsKKworCQlyZXQgPSBzdWl0ZS0+aW5pdCgmdGVzdCk7CisJCWlmIChyZXQp
IHsKKwkJCWt1bml0X2VycigmdGVzdCwgImZhaWxlZCB0byBpbml0aWFsaXplOiAlZFxuIiwgcmV0
KTsKKwkJCWt1bml0X3NldF9mYWlsdXJlKCZ0ZXN0KTsKKwkJCXRlc3RfY2FzZS0+c3VjY2VzcyA9
IHRlc3Quc3VjY2VzczsKKwkJCXJldHVybjsKKwkJfQorCX0KKworCXRlc3RfY2FzZS0+cnVuX2Nh
c2UoJnRlc3QpOworCisJaWYgKHN1aXRlLT5leGl0KQorCQlzdWl0ZS0+ZXhpdCgmdGVzdCk7CisK
Kwl0ZXN0X2Nhc2UtPnN1Y2Nlc3MgPSB0ZXN0LnN1Y2Nlc3M7Cit9CisKK2ludCBrdW5pdF9ydW5f
dGVzdHMoc3RydWN0IGt1bml0X3N1aXRlICpzdWl0ZSkKK3sKKwlzdHJ1Y3Qga3VuaXRfY2FzZSAq
dGVzdF9jYXNlOworCXNpemVfdCB0ZXN0X2Nhc2VfY291bnQgPSAxOworCisJa3VuaXRfcHJpbnRf
c3VidGVzdF9zdGFydChzdWl0ZSk7CisKKwlmb3IgKHRlc3RfY2FzZSA9IHN1aXRlLT50ZXN0X2Nh
c2VzOyB0ZXN0X2Nhc2UtPnJ1bl9jYXNlOyB0ZXN0X2Nhc2UrKykgeworCQlrdW5pdF9ydW5fY2Fz
ZShzdWl0ZSwgdGVzdF9jYXNlKTsKKwkJa3VuaXRfcHJpbnRfdGVzdF9jYXNlX29rX25vdF9vayh0
ZXN0X2Nhc2UsIHRlc3RfY2FzZV9jb3VudCsrKTsKKwl9CisKKwlrdW5pdF9wcmludF9zdWJ0ZXN0
X2VuZChzdWl0ZSk7CisKKwlyZXR1cm4gMDsKK30KKwordm9pZCBrdW5pdF9wcmludGsoY29uc3Qg
Y2hhciAqbGV2ZWwsCisJCSAgY29uc3Qgc3RydWN0IGt1bml0ICp0ZXN0LAorCQkgIGNvbnN0IGNo
YXIgKmZtdCwgLi4uKQoreworCXN0cnVjdCB2YV9mb3JtYXQgdmFmOworCXZhX2xpc3QgYXJnczsK
KworCXZhX3N0YXJ0KGFyZ3MsIGZtdCk7CisKKwl2YWYuZm10ID0gZm10OworCXZhZi52YSA9ICZh
cmdzOworCisJa3VuaXRfdnByaW50ayh0ZXN0LCBsZXZlbCwgJnZhZik7CisKKwl2YV9lbmQoYXJn
cyk7Cit9Ci0tIAoyLjIzLjAucmMxLjE1My5nZGVlZDgwMzMwZi1nb29nCgpfX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0
CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3Rv
cC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
