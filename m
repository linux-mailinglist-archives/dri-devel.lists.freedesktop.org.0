Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A9107652CC
	for <lists+dri-devel@lfdr.de>; Thu, 11 Jul 2019 10:06:41 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id DB2F36E156;
	Thu, 11 Jul 2019 08:06:38 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ed1-x542.google.com (mail-ed1-x542.google.com
 [IPv6:2a00:1450:4864:20::542])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E65576E156
 for <dri-devel@lists.freedesktop.org>; Thu, 11 Jul 2019 08:06:36 +0000 (UTC)
Received: by mail-ed1-x542.google.com with SMTP id i11so4858158edq.0
 for <dri-devel@lists.freedesktop.org>; Thu, 11 Jul 2019 01:06:36 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:sender:date:from:to:cc:subject:message-id
 :mail-followup-to:references:mime-version:content-disposition
 :in-reply-to:user-agent;
 bh=D+SoPVgrSwxE+SD5Gka9UyJam9wb/yXmmLhho1t+jC0=;
 b=oulVez4OStaoHFgCrmgyqPi0lN9vzThfcSpNZgdqjBqarjahueP2ucFrli9E0ZbpKU
 2ncQS0Il+BVYtEHORSiXXtgEo/q+UvfhztMhLCjykIgphwnnXRwHfGwJzUzuhBhgf4i4
 hERnAftdMUPr4CYAtjDpEWQCwxAQ6BCdOfe4lq+ydhFWMQaSV4/toYMa7YdD/PpIcDAW
 qklSIMCvGQx21GEnYOkSlZK7fL0nknj2RHN8pPNC/3DGZvgg0z+vgYje6zPuA9Es9MfL
 nEMXcVt+8oSRD2pugufelqXG1eYNi7xQF/tWnAgm1fbHLyXE1Lk5KZqy0nOVOdUIOBG7
 jQtw==
X-Gm-Message-State: APjAAAVtSSoYJlzdDU6umI2IdGvsk9q+9iReORQrjsIxzrdmGVKcrPf0
 kxbrU8bQrMeTG6a+Yw4Cm7Y=
X-Google-Smtp-Source: APXvYqwwPFvkq2PUZ+PFqXzZjantxLKgPuScrjKnpQJBjeBOpMk26XzvnC9IezL+eLsKBuYBu3XC0g==
X-Received: by 2002:a50:ac07:: with SMTP id v7mr2067590edc.205.1562832395544; 
 Thu, 11 Jul 2019 01:06:35 -0700 (PDT)
Received: from phenom.ffwll.local ([2a02:168:569e:0:3106:d637:d723:e855])
 by smtp.gmail.com with ESMTPSA id k5sm1005815eja.41.2019.07.11.01.06.34
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Thu, 11 Jul 2019 01:06:34 -0700 (PDT)
Date: Thu, 11 Jul 2019 10:06:32 +0200
From: Daniel Vetter <daniel@ffwll.ch>
To: Rodrigo Siqueira <rodrigosiqueiramelo@gmail.com>
Subject: Re: [PATCH V3 1/5] drm/vkms: Avoid assigning 0 for possible_crtc
Message-ID: <20190711080632.GF15868@phenom.ffwll.local>
Mail-Followup-To: Rodrigo Siqueira <rodrigosiqueiramelo@gmail.com>,
 Brian Starkey <brian.starkey@arm.com>,
 Liviu Dudau <liviu.dudau@arm.com>,
 Haneen Mohammed <hamohammed.sa@gmail.com>,
 Simon Ser <contact@emersion.fr>, dri-devel@lists.freedesktop.org,
 linux-kernel@vger.kernel.org
References: <cover.1561491964.git.rodrigosiqueiramelo@gmail.com>
 <d67849c62a8d8ace1a0af455998b588798a4c45f.1561491964.git.rodrigosiqueiramelo@gmail.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <d67849c62a8d8ace1a0af455998b588798a4c45f.1561491964.git.rodrigosiqueiramelo@gmail.com>
X-Operating-System: Linux phenom 4.19.0-5-amd64 
User-Agent: Mutt/1.10.1 (2018-07-13)
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=sender:date:from:to:cc:subject:message-id:mail-followup-to
 :references:mime-version:content-disposition:in-reply-to:user-agent;
 bh=D+SoPVgrSwxE+SD5Gka9UyJam9wb/yXmmLhho1t+jC0=;
 b=U8rDjxBEyYr0VStX/0LsjLJGKj8SE0LTIMUfqv51EN5aKz1VlbfBYme/xAXgm+VDfR
 u3YyU9LQo9CTcS6IECHF6m3g451JB08Ex1buQKY8yWz8kuqkYWTGM8tfph2yURTL5FgP
 +qHoU5xzobkIY3uU21JINa29BqEfAg9wOQiUA=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Haneen Mohammed <hamohammed.sa@gmail.com>, Simon Ser <contact@emersion.fr>,
 Liviu Dudau <liviu.dudau@arm.com>, linux-kernel@vger.kernel.org,
 dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVHVlLCBKdW4gMjUsIDIwMTkgYXQgMTA6MzY6MThQTSAtMDMwMCwgUm9kcmlnbyBTaXF1ZWly
YSB3cm90ZToKPiBXaGVuIHZrbXMgaW52b2tlIGRybV91bml2ZXJzYWxfcGxhbmVfaW5pdCgpLCBp
dCBzZXRzIDAgZm9yCj4gcG9zc2libGVfY3J0Y3MgcGFyYW1ldGVyIHdoaWNoIG1lYW5zIHRoYXQg
cGxhbmVzIGNhbid0IGJlIGF0dGFjaGVkIHRvCj4gYW55IENSVEMuIEl0IGN1cnJlbnRseSB3b3Jr
cyBkdWUgdG8gc29tZSBzYWZlZ3VhcmQgaW4gdGhlIGRybV9jcnRjIGZpbGU7Cj4gaG93ZXZlciwg
aXQgaXMgcG9zc2libGUgdG8gaWRlbnRpZnkgdGhlIHByb2JsZW0gYnkgdHJ5aW5nIHRvIGFwcGVu
ZCBhCj4gc2Vjb25kIGNvbm5lY3Rvci4gVGhpcyBwYXRjaCBmaXhlcyB0aGlzIGlzc3VlIGJ5IG1v
ZGlmeWluZwo+IHZrbXNfcGxhbmVfaW5pdCgpIHRvIGFjY2VwdCBhbiBpbmRleCBwYXJhbWV0ZXIg
d2hpY2ggbWFrZXMgdGhlIGNvZGUgYQo+IGxpdHRsZSBiaXQgbW9yZSBmbGV4aWJsZSBhbmQgYXZv
aWQgc2V0IHplcm8gdG8gcG9zc2libGVfY3J0Y3MuCj4gCj4gU2lnbmVkLW9mZi1ieTogUm9kcmln
byBTaXF1ZWlyYSA8cm9kcmlnb3NpcXVlaXJhbWVsb0BnbWFpbC5jb20+CgpSZXZpZXdlZC1ieTog
RGFuaWVsIFZldHRlciA8ZGFuaWVsLnZldHRlckBmZndsbC5jaD4KCj4gLS0tCj4gIGRyaXZlcnMv
Z3B1L2RybS92a21zL3ZrbXNfZHJ2LmMgICAgfCAyICstCj4gIGRyaXZlcnMvZ3B1L2RybS92a21z
L3ZrbXNfZHJ2LmggICAgfCA0ICsrLS0KPiAgZHJpdmVycy9ncHUvZHJtL3ZrbXMvdmttc19vdXRw
dXQuYyB8IDYgKysrLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS92a21zL3ZrbXNfcGxhbmUuYyAgfCA0
ICsrLS0KPiAgNCBmaWxlcyBjaGFuZ2VkLCA4IGluc2VydGlvbnMoKyksIDggZGVsZXRpb25zKC0p
Cj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS92a21zL3ZrbXNfZHJ2LmMgYi9kcml2
ZXJzL2dwdS9kcm0vdmttcy92a21zX2Rydi5jCj4gaW5kZXggY2M1M2VmODhhMzMxLi45NjZiM2Q2
NTMxODkgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3ZrbXMvdmttc19kcnYuYwo+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS92a21zL3ZrbXNfZHJ2LmMKPiBAQCAtMTI3LDcgKzEyNyw3IEBA
IHN0YXRpYyBpbnQgdmttc19tb2Rlc2V0X2luaXQoc3RydWN0IHZrbXNfZGV2aWNlICp2a21zZGV2
KQo+ICAJZGV2LT5tb2RlX2NvbmZpZy5wcmVmZXJyZWRfZGVwdGggPSAyNDsKPiAgCWRldi0+bW9k
ZV9jb25maWcuaGVscGVyX3ByaXZhdGUgPSAmdmttc19tb2RlX2NvbmZpZ19oZWxwZXJzOwo+ICAK
PiAtCXJldHVybiB2a21zX291dHB1dF9pbml0KHZrbXNkZXYpOwo+ICsJcmV0dXJuIHZrbXNfb3V0
cHV0X2luaXQodmttc2RldiwgMCk7Cj4gIH0KPiAgCj4gIHN0YXRpYyBpbnQgX19pbml0IHZrbXNf
aW5pdCh2b2lkKQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdmttcy92a21zX2Rydi5o
IGIvZHJpdmVycy9ncHUvZHJtL3ZrbXMvdmttc19kcnYuaAo+IGluZGV4IDEyYjRkYjdhYzY0MS4u
ZTJkMWFhMDg5ZGVjIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS92a21zL3ZrbXNfZHJ2
LmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vdmttcy92a21zX2Rydi5oCj4gQEAgLTExNSwxMCAr
MTE1LDEwIEBAIGJvb2wgdmttc19nZXRfdmJsYW5rX3RpbWVzdGFtcChzdHJ1Y3QgZHJtX2Rldmlj
ZSAqZGV2LCB1bnNpZ25lZCBpbnQgcGlwZSwKPiAgCQkJICAgICAgIGludCAqbWF4X2Vycm9yLCBr
dGltZV90ICp2YmxhbmtfdGltZSwKPiAgCQkJICAgICAgIGJvb2wgaW5fdmJsYW5rX2lycSk7Cj4g
IAo+IC1pbnQgdmttc19vdXRwdXRfaW5pdChzdHJ1Y3Qgdmttc19kZXZpY2UgKnZrbXNkZXYpOwo+
ICtpbnQgdmttc19vdXRwdXRfaW5pdChzdHJ1Y3Qgdmttc19kZXZpY2UgKnZrbXNkZXYsIGludCBp
bmRleCk7Cj4gIAo+ICBzdHJ1Y3QgZHJtX3BsYW5lICp2a21zX3BsYW5lX2luaXQoc3RydWN0IHZr
bXNfZGV2aWNlICp2a21zZGV2LAo+IC0JCQkJICBlbnVtIGRybV9wbGFuZV90eXBlIHR5cGUpOwo+
ICsJCQkJICBlbnVtIGRybV9wbGFuZV90eXBlIHR5cGUsIGludCBpbmRleCk7Cj4gIAo+ICAvKiBH
ZW0gc3R1ZmYgKi8KPiAgc3RydWN0IGRybV9nZW1fb2JqZWN0ICp2a21zX2dlbV9jcmVhdGUoc3Ry
dWN0IGRybV9kZXZpY2UgKmRldiwKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3ZrbXMv
dmttc19vdXRwdXQuYyBiL2RyaXZlcnMvZ3B1L2RybS92a21zL3ZrbXNfb3V0cHV0LmMKPiBpbmRl
eCA1NmZiNWMyYTIzMTUuLmZiMTk0MWE2NTIyYyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9k
cm0vdmttcy92a21zX291dHB1dC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3ZrbXMvdmttc19v
dXRwdXQuYwo+IEBAIC0zNSw3ICszNSw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Nvbm5l
Y3Rvcl9oZWxwZXJfZnVuY3Mgdmttc19jb25uX2hlbHBlcl9mdW5jcyA9IHsKPiAgCS5nZXRfbW9k
ZXMgICAgPSB2a21zX2Nvbm5fZ2V0X21vZGVzLAo+ICB9Owo+ICAKPiAtaW50IHZrbXNfb3V0cHV0
X2luaXQoc3RydWN0IHZrbXNfZGV2aWNlICp2a21zZGV2KQo+ICtpbnQgdmttc19vdXRwdXRfaW5p
dChzdHJ1Y3Qgdmttc19kZXZpY2UgKnZrbXNkZXYsIGludCBpbmRleCkKPiAgewo+ICAJc3RydWN0
IHZrbXNfb3V0cHV0ICpvdXRwdXQgPSAmdmttc2Rldi0+b3V0cHV0Owo+ICAJc3RydWN0IGRybV9k
ZXZpY2UgKmRldiA9ICZ2a21zZGV2LT5kcm07Cj4gQEAgLTQ1LDEyICs0NSwxMiBAQCBpbnQgdmtt
c19vdXRwdXRfaW5pdChzdHJ1Y3Qgdmttc19kZXZpY2UgKnZrbXNkZXYpCj4gIAlzdHJ1Y3QgZHJt
X3BsYW5lICpwcmltYXJ5LCAqY3Vyc29yID0gTlVMTDsKPiAgCWludCByZXQ7Cj4gIAo+IC0JcHJp
bWFyeSA9IHZrbXNfcGxhbmVfaW5pdCh2a21zZGV2LCBEUk1fUExBTkVfVFlQRV9QUklNQVJZKTsK
PiArCXByaW1hcnkgPSB2a21zX3BsYW5lX2luaXQodmttc2RldiwgRFJNX1BMQU5FX1RZUEVfUFJJ
TUFSWSwgaW5kZXgpOwo+ICAJaWYgKElTX0VSUihwcmltYXJ5KSkKPiAgCQlyZXR1cm4gUFRSX0VS
UihwcmltYXJ5KTsKPiAgCj4gIAlpZiAoZW5hYmxlX2N1cnNvcikgewo+IC0JCWN1cnNvciA9IHZr
bXNfcGxhbmVfaW5pdCh2a21zZGV2LCBEUk1fUExBTkVfVFlQRV9DVVJTT1IpOwo+ICsJCWN1cnNv
ciA9IHZrbXNfcGxhbmVfaW5pdCh2a21zZGV2LCBEUk1fUExBTkVfVFlQRV9DVVJTT1IsIGluZGV4
KTsKPiAgCQlpZiAoSVNfRVJSKGN1cnNvcikpIHsKPiAgCQkJcmV0ID0gUFRSX0VSUihjdXJzb3Ip
Owo+ICAJCQlnb3RvIGVycl9jdXJzb3I7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS92
a21zL3ZrbXNfcGxhbmUuYyBiL2RyaXZlcnMvZ3B1L2RybS92a21zL3ZrbXNfcGxhbmUuYwo+IGlu
ZGV4IDBmY2ViNjI1ODQyMi4uMThjNjMwY2ZjNDg1IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1
L2RybS92a21zL3ZrbXNfcGxhbmUuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS92a21zL3ZrbXNf
cGxhbmUuYwo+IEBAIC0xNzYsNyArMTc2LDcgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fcGxh
bmVfaGVscGVyX2Z1bmNzIHZrbXNfcHJpbWFyeV9oZWxwZXJfZnVuY3MgPSB7Cj4gIH07Cj4gIAo+
ICBzdHJ1Y3QgZHJtX3BsYW5lICp2a21zX3BsYW5lX2luaXQoc3RydWN0IHZrbXNfZGV2aWNlICp2
a21zZGV2LAo+IC0JCQkJICBlbnVtIGRybV9wbGFuZV90eXBlIHR5cGUpCj4gKwkJCQkgIGVudW0g
ZHJtX3BsYW5lX3R5cGUgdHlwZSwgaW50IGluZGV4KQo+ICB7Cj4gIAlzdHJ1Y3QgZHJtX2Rldmlj
ZSAqZGV2ID0gJnZrbXNkZXYtPmRybTsKPiAgCWNvbnN0IHN0cnVjdCBkcm1fcGxhbmVfaGVscGVy
X2Z1bmNzICpmdW5jczsKPiBAQCAtMTk4LDcgKzE5OCw3IEBAIHN0cnVjdCBkcm1fcGxhbmUgKnZr
bXNfcGxhbmVfaW5pdChzdHJ1Y3Qgdmttc19kZXZpY2UgKnZrbXNkZXYsCj4gIAkJZnVuY3MgPSAm
dmttc19wcmltYXJ5X2hlbHBlcl9mdW5jczsKPiAgCX0KPiAgCj4gLQlyZXQgPSBkcm1fdW5pdmVy
c2FsX3BsYW5lX2luaXQoZGV2LCBwbGFuZSwgMCwKPiArCXJldCA9IGRybV91bml2ZXJzYWxfcGxh
bmVfaW5pdChkZXYsIHBsYW5lLCAxIDw8IGluZGV4LAo+ICAJCQkJICAgICAgICZ2a21zX3BsYW5l
X2Z1bmNzLAo+ICAJCQkJICAgICAgIGZvcm1hdHMsIG5mb3JtYXRzLAo+ICAJCQkJICAgICAgIE5V
TEwsIHR5cGUsIE5VTEwpOwo+IC0tIAo+IDIuMjEuMAoKLS0gCkRhbmllbCBWZXR0ZXIKU29mdHdh
cmUgRW5naW5lZXIsIEludGVsIENvcnBvcmF0aW9uCmh0dHA6Ly9ibG9nLmZmd2xsLmNoCl9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWls
aW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZy
ZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
