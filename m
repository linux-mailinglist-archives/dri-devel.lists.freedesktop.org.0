Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 339BF60AE8
	for <lists+dri-devel@lfdr.de>; Fri,  5 Jul 2019 19:17:40 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 4AFC56E51B;
	Fri,  5 Jul 2019 17:17:33 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from metis.ext.pengutronix.de (metis.ext.pengutronix.de
 [IPv6:2001:67c:670:201:290:27ff:fe1d:cc33])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 154756E526
 for <dri-devel@lists.freedesktop.org>; Fri,  5 Jul 2019 17:17:32 +0000 (UTC)
Received: from dude02.hi.pengutronix.de ([2001:67c:670:100:1d::28]
 helo=dude02.pengutronix.de.)
 by metis.ext.pengutronix.de with esmtp (Exim 4.92)
 (envelope-from <l.stach@pengutronix.de>)
 id 1hjRpw-0007A3-2I; Fri, 05 Jul 2019 19:17:28 +0200
From: Lucas Stach <l.stach@pengutronix.de>
To: etnaviv@lists.freedesktop.org
Subject: [PATCH v2 2/8] drm/etnaviv: split out cmdbuf mapping into address
 space
Date: Fri,  5 Jul 2019 19:17:21 +0200
Message-Id: <20190705171727.27501-2-l.stach@pengutronix.de>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190705171727.27501-1-l.stach@pengutronix.de>
References: <20190705171727.27501-1-l.stach@pengutronix.de>
MIME-Version: 1.0
X-SA-Exim-Connect-IP: 2001:67c:670:100:1d::28
X-SA-Exim-Mail-From: l.stach@pengutronix.de
X-SA-Exim-Scanned: No (on metis.ext.pengutronix.de);
 SAEximRunCond expanded to false
X-PTX-Original-Recipient: dri-devel@lists.freedesktop.org
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: patchwork-lst@pengutronix.de, kernel@pengutronix.de,
 dri-devel@lists.freedesktop.org, Russell King <linux+etnaviv@armlinux.org.uk>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhpcyBhbGxvd3MgdG8gZGVjb3VwbGUgdGhlIGNtZGJ1ZiBzdWJhbGxvY2F0b3IgY3JlYXRlIGFu
ZCBtYXBwaW5nCnRoZSByZWdpb24gaW50byB0aGUgR1BVIGFkZHJlc3Mgc3BhY2UuIEFsbG93aW5n
IG11bHRpcGxlIEFTIHRvIHNoYXJlCmEgc2luZ2xlIGNtZGJ1ZiBzdWJhbGxvYy4KClNpZ25lZC1v
ZmYtYnk6IEx1Y2FzIFN0YWNoIDxsLnN0YWNoQHBlbmd1dHJvbml4LmRlPgotLS0KIGRyaXZlcnMv
Z3B1L2RybS9ldG5hdml2L2V0bmF2aXZfYnVmZmVyLmMgfCAyMyArKysrLS0tLQogZHJpdmVycy9n
cHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9jbWRidWYuYyB8IDM1ICsrKysrKy0tLS0tLQogZHJpdmVy
cy9ncHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9jbWRidWYuaCB8IDExICsrKy0KIGRyaXZlcnMvZ3B1
L2RybS9ldG5hdml2L2V0bmF2aXZfZHVtcC5jICAgfCAgNiArLQogZHJpdmVycy9ncHUvZHJtL2V0
bmF2aXYvZXRuYXZpdl9ncHUuYyAgICB8IDE5ICsrKysrLS0KIGRyaXZlcnMvZ3B1L2RybS9ldG5h
dml2L2V0bmF2aXZfZ3B1LmggICAgfCAgMyArLQogZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYvZXRu
YXZpdl9tbXUuYyAgICB8IDcwICsrKysrKysrKysrKysrKy0tLS0tLS0tLQogZHJpdmVycy9ncHUv
ZHJtL2V0bmF2aXYvZXRuYXZpdl9tbXUuaCAgICB8IDEyICsrLS0KIDggZmlsZXMgY2hhbmdlZCwg
MTE0IGluc2VydGlvbnMoKyksIDY1IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9ldG5hdml2L2V0bmF2aXZfYnVmZmVyLmMgYi9kcml2ZXJzL2dwdS9kcm0vZXRuYXZp
di9ldG5hdml2X2J1ZmZlci5jCmluZGV4IGZlMGQyZDY3MDA3ZC4uNjQwMGE4OGNkNzc4IDEwMDY0
NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X2J1ZmZlci5jCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9ldG5hdml2L2V0bmF2aXZfYnVmZmVyLmMKQEAgLTExOCw3ICsxMTgsOCBA
QCBzdGF0aWMgdm9pZCBldG5hdml2X2J1ZmZlcl9kdW1wKHN0cnVjdCBldG5hdml2X2dwdSAqZ3B1
LAogCXUzMiAqcHRyID0gYnVmLT52YWRkciArIG9mZjsKIAogCWRldl9pbmZvKGdwdS0+ZGV2LCAi
dmlydCAlcCBwaHlzIDB4JTA4eCBmcmVlIDB4JTA4eFxuIiwKLQkJCXB0ciwgZXRuYXZpdl9jbWRi
dWZfZ2V0X3ZhKGJ1ZikgKyBvZmYsIHNpemUgLSBsZW4gKiA0IC0gb2ZmKTsKKwkJCXB0ciwgZXRu
YXZpdl9jbWRidWZfZ2V0X3ZhKGJ1ZiwgJmdwdS0+Y21kYnVmX21hcHBpbmcpICsKKwkJCW9mZiwg
c2l6ZSAtIGxlbiAqIDQgLSBvZmYpOwogCiAJcHJpbnRfaGV4X2R1bXAoS0VSTl9JTkZPLCAiY21k
ICIsIERVTVBfUFJFRklYX09GRlNFVCwgMTYsIDQsCiAJCQlwdHIsIGxlbiAqIDQsIDApOwpAQCAt
MTUxLDcgKzE1Miw4IEBAIHN0YXRpYyB1MzIgZXRuYXZpdl9idWZmZXJfcmVzZXJ2ZShzdHJ1Y3Qg
ZXRuYXZpdl9ncHUgKmdwdSwKIAlpZiAoYnVmZmVyLT51c2VyX3NpemUgKyBjbWRfZHdvcmRzICog
c2l6ZW9mKHU2NCkgPiBidWZmZXItPnNpemUpCiAJCWJ1ZmZlci0+dXNlcl9zaXplID0gMDsKIAot
CXJldHVybiBldG5hdml2X2NtZGJ1Zl9nZXRfdmEoYnVmZmVyKSArIGJ1ZmZlci0+dXNlcl9zaXpl
OworCXJldHVybiBldG5hdml2X2NtZGJ1Zl9nZXRfdmEoYnVmZmVyLCAmZ3B1LT5jbWRidWZfbWFw
cGluZykgKworCSAgICAgICBidWZmZXItPnVzZXJfc2l6ZTsKIH0KIAogdTE2IGV0bmF2aXZfYnVm
ZmVyX2luaXQoc3RydWN0IGV0bmF2aXZfZ3B1ICpncHUpCkBAIC0xNjQsOCArMTY2LDggQEAgdTE2
IGV0bmF2aXZfYnVmZmVyX2luaXQoc3RydWN0IGV0bmF2aXZfZ3B1ICpncHUpCiAJYnVmZmVyLT51
c2VyX3NpemUgPSAwOwogCiAJQ01EX1dBSVQoYnVmZmVyKTsKLQlDTURfTElOSyhidWZmZXIsIDIs
IGV0bmF2aXZfY21kYnVmX2dldF92YShidWZmZXIpICsKLQkJIGJ1ZmZlci0+dXNlcl9zaXplIC0g
NCk7CisJQ01EX0xJTksoYnVmZmVyLCAyLCBldG5hdml2X2NtZGJ1Zl9nZXRfdmEoYnVmZmVyLCAm
Z3B1LT5jbWRidWZfbWFwcGluZykKKwkJICsgYnVmZmVyLT51c2VyX3NpemUgLSA0KTsKIAogCXJl
dHVybiBidWZmZXItPnVzZXJfc2l6ZSAvIDg7CiB9CkBAIC0yOTEsOCArMjkzLDggQEAgdm9pZCBl
dG5hdml2X3N5bmNfcG9pbnRfcXVldWUoc3RydWN0IGV0bmF2aXZfZ3B1ICpncHUsIHVuc2lnbmVk
IGludCBldmVudCkKIAogCS8qIEFwcGVuZCB3YWl0bGluayAqLwogCUNNRF9XQUlUKGJ1ZmZlcik7
Ci0JQ01EX0xJTksoYnVmZmVyLCAyLCBldG5hdml2X2NtZGJ1Zl9nZXRfdmEoYnVmZmVyKSArCi0J
CQkgICAgYnVmZmVyLT51c2VyX3NpemUgLSA0KTsKKwlDTURfTElOSyhidWZmZXIsIDIsIGV0bmF2
aXZfY21kYnVmX2dldF92YShidWZmZXIsICZncHUtPmNtZGJ1Zl9tYXBwaW5nKQorCQkgKyBidWZm
ZXItPnVzZXJfc2l6ZSAtIDQpOwogCiAJLyoKIAkgKiBLaWNrIG9mZiB0aGUgJ3N5bmMgcG9pbnQn
IGNvbW1hbmQgYnkgcmVwbGFjaW5nIHRoZSBwcmV2aW91cwpAQCAtMzE5LDcgKzMyMSw3IEBAIHZv
aWQgZXRuYXZpdl9idWZmZXJfcXVldWUoc3RydWN0IGV0bmF2aXZfZ3B1ICpncHUsIHUzMiBleGVj
X3N0YXRlLAogCWlmIChkcm1fZGVidWcgJiBEUk1fVVRfRFJJVkVSKQogCQlldG5hdml2X2J1ZmZl
cl9kdW1wKGdwdSwgYnVmZmVyLCAwLCAweDUwKTsKIAotCWxpbmtfdGFyZ2V0ID0gZXRuYXZpdl9j
bWRidWZfZ2V0X3ZhKGNtZGJ1Zik7CisJbGlua190YXJnZXQgPSBldG5hdml2X2NtZGJ1Zl9nZXRf
dmEoY21kYnVmLCAmZ3B1LT5jbWRidWZfbWFwcGluZyk7CiAJbGlua19kd29yZHMgPSBjbWRidWYt
PnNpemUgLyA4OwogCiAJLyoKQEAgLTQxMiwxMiArNDE0LDEzIEBAIHZvaWQgZXRuYXZpdl9idWZm
ZXJfcXVldWUoc3RydWN0IGV0bmF2aXZfZ3B1ICpncHUsIHUzMiBleGVjX3N0YXRlLAogCUNNRF9M
T0FEX1NUQVRFKGJ1ZmZlciwgVklWU19HTF9FVkVOVCwgVklWU19HTF9FVkVOVF9FVkVOVF9JRChl
dmVudCkgfAogCQkgICAgICAgVklWU19HTF9FVkVOVF9GUk9NX1BFKTsKIAlDTURfV0FJVChidWZm
ZXIpOwotCUNNRF9MSU5LKGJ1ZmZlciwgMiwgZXRuYXZpdl9jbWRidWZfZ2V0X3ZhKGJ1ZmZlcikg
KwotCQkJICAgIGJ1ZmZlci0+dXNlcl9zaXplIC0gNCk7CisJQ01EX0xJTksoYnVmZmVyLCAyLCBl
dG5hdml2X2NtZGJ1Zl9nZXRfdmEoYnVmZmVyLCAmZ3B1LT5jbWRidWZfbWFwcGluZykKKwkJICsg
YnVmZmVyLT51c2VyX3NpemUgLSA0KTsKIAogCWlmIChkcm1fZGVidWcgJiBEUk1fVVRfRFJJVkVS
KQogCQlwcl9pbmZvKCJzdHJlYW0gbGluayB0byAweCUwOHggQCAweCUwOHggJXBcbiIsCi0JCQly
ZXR1cm5fdGFyZ2V0LCBldG5hdml2X2NtZGJ1Zl9nZXRfdmEoY21kYnVmKSwKKwkJCXJldHVybl90
YXJnZXQsCisJCQlldG5hdml2X2NtZGJ1Zl9nZXRfdmEoY21kYnVmLCAmZ3B1LT5jbWRidWZfbWFw
cGluZyksCiAJCQljbWRidWYtPnZhZGRyKTsKIAogCWlmIChkcm1fZGVidWcgJiBEUk1fVVRfRFJJ
VkVSKSB7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X2NtZGJ1
Zi5jIGIvZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9jbWRidWYuYwppbmRleCA3Yjc3
OTkyZjMxYzQuLjg5MTVkOWQwNTZhNiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2V0bmF2
aXYvZXRuYXZpdl9jbWRidWYuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2
X2NtZGJ1Zi5jCkBAIC04LDYgKzgsNyBAQAogI2luY2x1ZGUgPGRybS9kcm1fbW0uaD4KIAogI2lu
Y2x1ZGUgImV0bmF2aXZfY21kYnVmLmgiCisjaW5jbHVkZSAiZXRuYXZpdl9nZW0uaCIKICNpbmNs
dWRlICJldG5hdml2X2dwdS5oIgogI2luY2x1ZGUgImV0bmF2aXZfbW11LmgiCiAKQEAgLTIxLDEw
ICsyMiw2IEBAIHN0cnVjdCBldG5hdml2X2NtZGJ1Zl9zdWJhbGxvYyB7CiAJdm9pZCAqdmFkZHI7
CiAJZG1hX2FkZHJfdCBwYWRkcjsKIAotCS8qIEdQVSBtYXBwaW5nICovCi0JdTMyIGlvdmE7Ci0J
c3RydWN0IGRybV9tbV9ub2RlIHZyYW1fbm9kZTsgLyogb25seSB1c2VkIG9uIE1NVXYyICovCi0K
IAkvKiBhbGxvY2F0aW9uIG1hbmFnZW1lbnQgKi8KIAlzdHJ1Y3QgbXV0ZXggbG9jazsKIAlERUNM
QVJFX0JJVE1BUChncmFudWxlX21hcCwgU1VCQUxMT0NfR1JBTlVMRVMpOwpAQCAtNTMsMjYgKzUw
LDMxIEBAIGV0bmF2aXZfY21kYnVmX3N1YmFsbG9jX25ldyhzdHJ1Y3QgZXRuYXZpdl9ncHUgKiBn
cHUpCiAJCWdvdG8gZnJlZV9zdWJhbGxvYzsKIAl9CiAKLQlyZXQgPSBldG5hdml2X2lvbW11X2dl
dF9zdWJhbGxvY192YShncHUsIHN1YmFsbG9jLT5wYWRkciwKLQkJCQkJICAgICZzdWJhbGxvYy0+
dnJhbV9ub2RlLCBTVUJBTExPQ19TSVpFLAotCQkJCQkgICAgJnN1YmFsbG9jLT5pb3ZhKTsKLQlp
ZiAocmV0KQotCQlnb3RvIGZyZWVfZG1hOwotCiAJcmV0dXJuIHN1YmFsbG9jOwogCi1mcmVlX2Rt
YToKLQlkbWFfZnJlZV93YyhncHUtPmRldiwgU1VCQUxMT0NfU0laRSwgc3ViYWxsb2MtPnZhZGRy
LCBzdWJhbGxvYy0+cGFkZHIpOwogZnJlZV9zdWJhbGxvYzoKIAlrZnJlZShzdWJhbGxvYyk7CiAK
IAlyZXR1cm4gRVJSX1BUUihyZXQpOwogfQogCitpbnQgZXRuYXZpdl9jbWRidWZfc3ViYWxsb2Nf
bWFwKHN0cnVjdCBldG5hdml2X2NtZGJ1Zl9zdWJhbGxvYyAqc3ViYWxsb2MsCisJCQkJc3RydWN0
IGV0bmF2aXZfaW9tbXUgKm1tdSwKKwkJCQlzdHJ1Y3QgZXRuYXZpdl92cmFtX21hcHBpbmcgKm1h
cHBpbmcsCisJCQkJdTMyIG1lbW9yeV9iYXNlKQoreworCXJldHVybiBldG5hdml2X2lvbW11X2dl
dF9zdWJhbGxvY192YShtbXUsIG1hcHBpbmcsIG1lbW9yeV9iYXNlLAorCQkJCQkgICAgIHN1YmFs
bG9jLT5wYWRkciwgU1VCQUxMT0NfU0laRSk7Cit9CisKK3ZvaWQgZXRuYXZpdl9jbWRidWZfc3Vi
YWxsb2NfdW5tYXAoc3RydWN0IGV0bmF2aXZfaW9tbXUgKm1tdSwKKwkJCQkgICBzdHJ1Y3QgZXRu
YXZpdl92cmFtX21hcHBpbmcgKm1hcHBpbmcpCit7CisJZXRuYXZpdl9pb21tdV9wdXRfc3ViYWxs
b2NfdmEobW11LCBtYXBwaW5nKTsKK30KKwogdm9pZCBldG5hdml2X2NtZGJ1Zl9zdWJhbGxvY19k
ZXN0cm95KHN0cnVjdCBldG5hdml2X2NtZGJ1Zl9zdWJhbGxvYyAqc3ViYWxsb2MpCiB7Ci0JZXRu
YXZpdl9pb21tdV9wdXRfc3ViYWxsb2NfdmEoc3ViYWxsb2MtPmdwdSwgJnN1YmFsbG9jLT52cmFt
X25vZGUsCi0JCQkJICAgICAgU1VCQUxMT0NfU0laRSwgc3ViYWxsb2MtPmlvdmEpOwogCWRtYV9m
cmVlX3djKHN1YmFsbG9jLT5ncHUtPmRldiwgU1VCQUxMT0NfU0laRSwgc3ViYWxsb2MtPnZhZGRy
LAogCQkgICAgc3ViYWxsb2MtPnBhZGRyKTsKIAlrZnJlZShzdWJhbGxvYyk7CkBAIC0xMjYsOSAr
MTI4LDEwIEBAIHZvaWQgZXRuYXZpdl9jbWRidWZfZnJlZShzdHJ1Y3QgZXRuYXZpdl9jbWRidWYg
KmNtZGJ1ZikKIAl3YWtlX3VwX2FsbCgmc3ViYWxsb2MtPmZyZWVfZXZlbnQpOwogfQogCi11MzIg
ZXRuYXZpdl9jbWRidWZfZ2V0X3ZhKHN0cnVjdCBldG5hdml2X2NtZGJ1ZiAqYnVmKQordTMyIGV0
bmF2aXZfY21kYnVmX2dldF92YShzdHJ1Y3QgZXRuYXZpdl9jbWRidWYgKmJ1ZiwKKwkJCSAgc3Ry
dWN0IGV0bmF2aXZfdnJhbV9tYXBwaW5nICptYXBwaW5nKQogewotCXJldHVybiBidWYtPnN1YmFs
bG9jLT5pb3ZhICsgYnVmLT5zdWJhbGxvY19vZmZzZXQ7CisJcmV0dXJuIG1hcHBpbmctPmlvdmEg
KyBidWYtPnN1YmFsbG9jX29mZnNldDsKIH0KIAogZG1hX2FkZHJfdCBldG5hdml2X2NtZGJ1Zl9n
ZXRfcGEoc3RydWN0IGV0bmF2aXZfY21kYnVmICpidWYpCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vZXRuYXZpdi9ldG5hdml2X2NtZGJ1Zi5oIGIvZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYv
ZXRuYXZpdl9jbWRidWYuaAppbmRleCA0OTkwODc5NzQ1NmUuLjExZDk1ZjA1YzAxNyAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9jbWRidWYuaAorKysgYi9kcml2
ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X2NtZGJ1Zi5oCkBAIC05LDYgKzksOCBAQAogI2lu
Y2x1ZGUgPGxpbnV4L3R5cGVzLmg+CiAKIHN0cnVjdCBldG5hdml2X2dwdTsKK3N0cnVjdCBldG5h
dml2X2lvbW11Oworc3RydWN0IGV0bmF2aXZfdnJhbV9tYXBwaW5nOwogc3RydWN0IGV0bmF2aXZf
Y21kYnVmX3N1YmFsbG9jOwogCiBzdHJ1Y3QgZXRuYXZpdl9jbWRidWYgewpAQCAtMjQsMTMgKzI2
LDIwIEBAIHN0cnVjdCBldG5hdml2X2NtZGJ1ZiB7CiBzdHJ1Y3QgZXRuYXZpdl9jbWRidWZfc3Vi
YWxsb2MgKgogZXRuYXZpdl9jbWRidWZfc3ViYWxsb2NfbmV3KHN0cnVjdCBldG5hdml2X2dwdSAq
IGdwdSk7CiB2b2lkIGV0bmF2aXZfY21kYnVmX3N1YmFsbG9jX2Rlc3Ryb3koc3RydWN0IGV0bmF2
aXZfY21kYnVmX3N1YmFsbG9jICpzdWJhbGxvYyk7CitpbnQgZXRuYXZpdl9jbWRidWZfc3ViYWxs
b2NfbWFwKHN0cnVjdCBldG5hdml2X2NtZGJ1Zl9zdWJhbGxvYyAqc3ViYWxsb2MsCisJCQkJc3Ry
dWN0IGV0bmF2aXZfaW9tbXUgKm1tdSwKKwkJCQlzdHJ1Y3QgZXRuYXZpdl92cmFtX21hcHBpbmcg
Km1hcHBpbmcsCisJCQkJdTMyIG1lbW9yeV9iYXNlKTsKK3ZvaWQgZXRuYXZpdl9jbWRidWZfc3Vi
YWxsb2NfdW5tYXAoc3RydWN0IGV0bmF2aXZfaW9tbXUgKm1tdSwKKwkJCQkgICBzdHJ1Y3QgZXRu
YXZpdl92cmFtX21hcHBpbmcgKm1hcHBpbmcpOwogCiAKIGludCBldG5hdml2X2NtZGJ1Zl9pbml0
KHN0cnVjdCBldG5hdml2X2NtZGJ1Zl9zdWJhbGxvYyAqc3ViYWxsb2MsCiAJCXN0cnVjdCBldG5h
dml2X2NtZGJ1ZiAqY21kYnVmLCB1MzIgc2l6ZSk7CiB2b2lkIGV0bmF2aXZfY21kYnVmX2ZyZWUo
c3RydWN0IGV0bmF2aXZfY21kYnVmICpjbWRidWYpOwogCi11MzIgZXRuYXZpdl9jbWRidWZfZ2V0
X3ZhKHN0cnVjdCBldG5hdml2X2NtZGJ1ZiAqYnVmKTsKK3UzMiBldG5hdml2X2NtZGJ1Zl9nZXRf
dmEoc3RydWN0IGV0bmF2aXZfY21kYnVmICpidWYsCisJCQkgIHN0cnVjdCBldG5hdml2X3ZyYW1f
bWFwcGluZyAqbWFwcGluZyk7CiBkbWFfYWRkcl90IGV0bmF2aXZfY21kYnVmX2dldF9wYShzdHJ1
Y3QgZXRuYXZpdl9jbWRidWYgKmJ1Zik7CiAKICNlbmRpZiAvKiBfX0VUTkFWSVZfQ01EQlVGX0hf
XyAqLwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9kdW1wLmMg
Yi9kcml2ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X2R1bXAuYwppbmRleCAwYWE4Y2RlNjg1
OTMuLjEzYTYzZDlkY2Y1NCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYvZXRu
YXZpdl9kdW1wLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9kdW1wLmMK
QEAgLTE3MywxMSArMTczLDEzIEBAIHZvaWQgZXRuYXZpdl9jb3JlX2R1bXAoc3RydWN0IGV0bmF2
aXZfZ2VtX3N1Ym1pdCAqc3VibWl0KQogCiAJZXRuYXZpdl9jb3JlX2R1bXBfbWVtKCZpdGVyLCBF
VERVTVBfQlVGX1JJTkcsIGdwdS0+YnVmZmVyLnZhZGRyLAogCQkJICAgICAgZ3B1LT5idWZmZXIu
c2l6ZSwKLQkJCSAgICAgIGV0bmF2aXZfY21kYnVmX2dldF92YSgmZ3B1LT5idWZmZXIpKTsKKwkJ
CSAgICAgIGV0bmF2aXZfY21kYnVmX2dldF92YSgmZ3B1LT5idWZmZXIsCisJCQkJCQkgICAgJmdw
dS0+Y21kYnVmX21hcHBpbmcpKTsKIAogCWV0bmF2aXZfY29yZV9kdW1wX21lbSgmaXRlciwgRVRE
VU1QX0JVRl9DTUQsCiAJCQkgICAgICBzdWJtaXQtPmNtZGJ1Zi52YWRkciwgc3VibWl0LT5jbWRi
dWYuc2l6ZSwKLQkJCSAgICAgIGV0bmF2aXZfY21kYnVmX2dldF92YSgmc3VibWl0LT5jbWRidWYp
KTsKKwkJCSAgICAgIGV0bmF2aXZfY21kYnVmX2dldF92YSgmc3VibWl0LT5jbWRidWYsCisJCQkJ
CQkgICAgJmdwdS0+Y21kYnVmX21hcHBpbmcpKTsKIAogCS8qIFJlc2VydmUgc3BhY2UgZm9yIHRo
ZSBib21hcCAqLwogCWlmIChuX2JvbWFwX3BhZ2VzKSB7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vZXRuYXZpdi9ldG5hdml2X2dwdS5jIGIvZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYvZXRu
YXZpdl9ncHUuYwppbmRleCBlODRhMGVkOTA0YWEuLjYyYTM4YTYzZTRlYiAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9ncHUuYworKysgYi9kcml2ZXJzL2dwdS9k
cm0vZXRuYXZpdi9ldG5hdml2X2dwdS5jCkBAIC02ODcsOCArNjg3LDggQEAgc3RhdGljIHZvaWQg
ZXRuYXZpdl9ncHVfaHdfaW5pdChzdHJ1Y3QgZXRuYXZpdl9ncHUgKmdwdSkKIAlwcmVmZXRjaCA9
IGV0bmF2aXZfYnVmZmVyX2luaXQoZ3B1KTsKIAogCWdwdV93cml0ZShncHUsIFZJVlNfSElfSU5U
Ul9FTkJMLCB+MFUpOwotCWV0bmF2aXZfZ3B1X3N0YXJ0X2ZlKGdwdSwgZXRuYXZpdl9jbWRidWZf
Z2V0X3ZhKCZncHUtPmJ1ZmZlciksCi0JCQkgICAgIHByZWZldGNoKTsKKwlldG5hdml2X2dwdV9z
dGFydF9mZShncHUsIGV0bmF2aXZfY21kYnVmX2dldF92YSgmZ3B1LT5idWZmZXIsCisJCQkgICAg
ICZncHUtPmNtZGJ1Zl9tYXBwaW5nKSwgcHJlZmV0Y2gpOwogfQogCiBpbnQgZXRuYXZpdl9ncHVf
aW5pdChzdHJ1Y3QgZXRuYXZpdl9ncHUgKmdwdSkKQEAgLTc2NywxNiArNzY3LDI0IEBAIGludCBl
dG5hdml2X2dwdV9pbml0KHN0cnVjdCBldG5hdml2X2dwdSAqZ3B1KQogCQlnb3RvIGRlc3Ryb3lf
aW9tbXU7CiAJfQogCisJcmV0ID0gZXRuYXZpdl9jbWRidWZfc3ViYWxsb2NfbWFwKGdwdS0+Y21k
YnVmX3N1YmFsbG9jLCBncHUtPm1tdSwKKwkJCQkJICAmZ3B1LT5jbWRidWZfbWFwcGluZywKKwkJ
CQkJICBncHUtPm1lbW9yeV9iYXNlKTsKKwlpZiAocmV0KSB7CisJCWRldl9lcnIoZ3B1LT5kZXYs
ICJmYWlsZWQgdG8gbWFwIGNtZGJ1ZiBzdWJhbGxvY1xuIik7CisJCWdvdG8gZGVzdHJveV9zdWJh
bGxvYzsKKwl9CisKIAkvKiBDcmVhdGUgYnVmZmVyOiAqLwogCXJldCA9IGV0bmF2aXZfY21kYnVm
X2luaXQoZ3B1LT5jbWRidWZfc3ViYWxsb2MsICZncHUtPmJ1ZmZlciwKIAkJCQkgIFBBR0VfU0la
RSk7CiAJaWYgKHJldCkgewogCQlkZXZfZXJyKGdwdS0+ZGV2LCAiY291bGQgbm90IGNyZWF0ZSBj
b21tYW5kIGJ1ZmZlclxuIik7Ci0JCWdvdG8gZGVzdHJveV9zdWJhbGxvYzsKKwkJZ290byB1bm1h
cF9zdWJhbGxvYzsKIAl9CiAKIAlpZiAoZ3B1LT5tbXUtPnZlcnNpb24gPT0gRVROQVZJVl9JT01N
VV9WMSAmJgotCSAgICBldG5hdml2X2NtZGJ1Zl9nZXRfdmEoJmdwdS0+YnVmZmVyKSA+IDB4ODAw
MDAwMDApIHsKKwkgICAgZXRuYXZpdl9jbWRidWZfZ2V0X3ZhKCZncHUtPmJ1ZmZlciwgJmdwdS0+
Y21kYnVmX21hcHBpbmcpID4gMHg4MDAwMDAwMCkgewogCQlyZXQgPSAtRUlOVkFMOwogCQlkZXZf
ZXJyKGdwdS0+ZGV2LAogCQkJImNvbW1hbmQgYnVmZmVyIG91dHNpZGUgdmFsaWQgbWVtb3J5IHdp
bmRvd1xuIik7CkBAIC04MDUsNiArODEzLDggQEAgaW50IGV0bmF2aXZfZ3B1X2luaXQoc3RydWN0
IGV0bmF2aXZfZ3B1ICpncHUpCiAKIGZyZWVfYnVmZmVyOgogCWV0bmF2aXZfY21kYnVmX2ZyZWUo
JmdwdS0+YnVmZmVyKTsKK3VubWFwX3N1YmFsbG9jOgorCWV0bmF2aXZfY21kYnVmX3N1YmFsbG9j
X3VubWFwKGdwdS0+bW11LCAmZ3B1LT5jbWRidWZfbWFwcGluZyk7CiBkZXN0cm95X3N1YmFsbG9j
OgogCWV0bmF2aXZfY21kYnVmX3N1YmFsbG9jX2Rlc3Ryb3koZ3B1LT5jbWRidWZfc3ViYWxsb2Mp
OwogZGVzdHJveV9pb21tdToKQEAgLTE2ODEsNiArMTY5MSw3IEBAIHN0YXRpYyB2b2lkIGV0bmF2
aXZfZ3B1X3VuYmluZChzdHJ1Y3QgZGV2aWNlICpkZXYsIHN0cnVjdCBkZXZpY2UgKm1hc3RlciwK
IAogCWlmIChncHUtPmluaXRpYWxpemVkKSB7CiAJCWV0bmF2aXZfY21kYnVmX2ZyZWUoJmdwdS0+
YnVmZmVyKTsKKwkJZXRuYXZpdl9jbWRidWZfc3ViYWxsb2NfdW5tYXAoZ3B1LT5tbXUsICZncHUt
PmNtZGJ1Zl9tYXBwaW5nKTsKIAkJZXRuYXZpdl9jbWRidWZfc3ViYWxsb2NfZGVzdHJveShncHUt
PmNtZGJ1Zl9zdWJhbGxvYyk7CiAJCWV0bmF2aXZfaW9tbXVfZGVzdHJveShncHUtPm1tdSk7CiAJ
CWdwdS0+aW5pdGlhbGl6ZWQgPSBmYWxzZTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9l
dG5hdml2L2V0bmF2aXZfZ3B1LmggYi9kcml2ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X2dw
dS5oCmluZGV4IGIwNmM3Yzk4ZDUyMi4uNmE2YWRkMzUwZDJkIDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X2dwdS5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9ldG5h
dml2L2V0bmF2aXZfZ3B1LmgKQEAgLTcsNiArNyw3IEBACiAjZGVmaW5lIF9fRVROQVZJVl9HUFVf
SF9fCiAKICNpbmNsdWRlICJldG5hdml2X2NtZGJ1Zi5oIgorI2luY2x1ZGUgImV0bmF2aXZfZ2Vt
LmgiCiAjaW5jbHVkZSAiZXRuYXZpdl9kcnYuaCIKIAogc3RydWN0IGV0bmF2aXZfZ2VtX3N1Ym1p
dDsKQEAgLTg0LDcgKzg1LDYgQEAgc3RydWN0IGV0bmF2aXZfZXZlbnQgewogfTsKIAogc3RydWN0
IGV0bmF2aXZfY21kYnVmX3N1YmFsbG9jOwotc3RydWN0IGV0bmF2aXZfY21kYnVmOwogc3RydWN0
IHJlZ3VsYXRvcjsKIHN0cnVjdCBjbGs7CiAKQEAgLTEwMiw2ICsxMDIsNyBAQCBzdHJ1Y3QgZXRu
YXZpdl9ncHUgewogCWJvb2wgaW5pdGlhbGl6ZWQ7CiAKIAkvKiAncmluZyctYnVmZmVyOiAqLwor
CXN0cnVjdCBldG5hdml2X3ZyYW1fbWFwcGluZyBjbWRidWZfbWFwcGluZzsKIAlzdHJ1Y3QgZXRu
YXZpdl9jbWRidWYgYnVmZmVyOwogCWludCBleGVjX3N0YXRlOwogCmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X21tdS5jIGIvZHJpdmVycy9ncHUvZHJtL2V0bmF2
aXYvZXRuYXZpdl9tbXUuYwppbmRleCA3MzEyNzU5OTlhNTcuLmRkODEzNzY3MjRkNyAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9tbXUuYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X21tdS5jCkBAIC0zMzQsNTIgKzMzNCw3MiBAQCB2b2lk
IGV0bmF2aXZfaW9tbXVfcmVzdG9yZShzdHJ1Y3QgZXRuYXZpdl9ncHUgKmdwdSkKIAkJZXRuYXZp
dl9pb21tdXYyX3Jlc3RvcmUoZ3B1KTsKIH0KIAotaW50IGV0bmF2aXZfaW9tbXVfZ2V0X3N1YmFs
bG9jX3ZhKHN0cnVjdCBldG5hdml2X2dwdSAqZ3B1LCBkbWFfYWRkcl90IHBhZGRyLAotCQkJCSAg
c3RydWN0IGRybV9tbV9ub2RlICp2cmFtX25vZGUsIHNpemVfdCBzaXplLAotCQkJCSAgdTMyICpp
b3ZhKQoraW50IGV0bmF2aXZfaW9tbXVfZ2V0X3N1YmFsbG9jX3ZhKHN0cnVjdCBldG5hdml2X2lv
bW11ICptbXUsCisJCQkJICBzdHJ1Y3QgZXRuYXZpdl92cmFtX21hcHBpbmcgKm1hcHBpbmcsCisJ
CQkJICB1MzIgbWVtb3J5X2Jhc2UsIGRtYV9hZGRyX3QgcGFkZHIsCisJCQkJICBzaXplX3Qgc2l6
ZSkKIHsKLQlzdHJ1Y3QgZXRuYXZpdl9pb21tdSAqbW11ID0gZ3B1LT5tbXU7CisJbXV0ZXhfbG9j
aygmbW11LT5sb2NrKTsKIAorCS8qCisJICogRm9yIE1NVXYxIHdlIGRvbid0IGFkZCB0aGUgc3Vi
YWxsb2MgcmVnaW9uIHRvIHRoZSBwYWdldGFibGVzLCBhcworCSAqIHRob3NlIEdQVXMgY2FuIG9u
bHkgd29yayB3aXRoIGNtZGJ1ZnMgYWNjZXNzZWQgdGhyb3VnaCB0aGUgbGluZWFyCisJICogd2lu
ZG93LiBJbnN0ZWFkIHdlIG1hbnVmYWN0dXJlIGEgbWFwcGluZyB0byBtYWtlIGl0IGxvb2sgdW5p
Zm9ybQorCSAqIHRvIHRoZSB1cHBlciBsYXllcnMuCisJICovCiAJaWYgKG1tdS0+dmVyc2lvbiA9
PSBFVE5BVklWX0lPTU1VX1YxKSB7Ci0JCSppb3ZhID0gcGFkZHIgLSBncHUtPm1lbW9yeV9iYXNl
OwotCQlyZXR1cm4gMDsKKwkJbWFwcGluZy0+aW92YSA9IHBhZGRyIC0gbWVtb3J5X2Jhc2U7CisJ
CWxpc3RfYWRkX3RhaWwoJm1hcHBpbmctPm1tdV9ub2RlLCAmbW11LT5tYXBwaW5ncyk7CiAJfSBl
bHNlIHsKKwkJc3RydWN0IGRybV9tbV9ub2RlICpub2RlID0gJm1hcHBpbmctPnZyYW1fbm9kZTsK
IAkJaW50IHJldDsKIAotCQltdXRleF9sb2NrKCZtbXUtPmxvY2spOwotCQlyZXQgPSBldG5hdml2
X2lvbW11X2ZpbmRfaW92YShtbXUsIHZyYW1fbm9kZSwgc2l6ZSk7CisJCXJldCA9IGV0bmF2aXZf
aW9tbXVfZmluZF9pb3ZhKG1tdSwgbm9kZSwgc2l6ZSk7CiAJCWlmIChyZXQgPCAwKSB7CiAJCQlt
dXRleF91bmxvY2soJm1tdS0+bG9jayk7CiAJCQlyZXR1cm4gcmV0OwogCQl9Ci0JCXJldCA9IGV0
bmF2aXZfZG9tYWluX21hcChtbXUtPmRvbWFpbiwgdnJhbV9ub2RlLT5zdGFydCwgcGFkZHIsCi0J
CQkJCSBzaXplLCBFVE5BVklWX1BST1RfUkVBRCk7CisKKwkJbWFwcGluZy0+aW92YSA9IG5vZGUt
PnN0YXJ0OworCQlyZXQgPSBldG5hdml2X2RvbWFpbl9tYXAobW11LT5kb21haW4sIG5vZGUtPnN0
YXJ0LCBwYWRkciwgc2l6ZSwKKwkJCQkJIEVUTkFWSVZfUFJPVF9SRUFEKTsKKwogCQlpZiAocmV0
IDwgMCkgewotCQkJZHJtX21tX3JlbW92ZV9ub2RlKHZyYW1fbm9kZSk7CisJCQlkcm1fbW1fcmVt
b3ZlX25vZGUobm9kZSk7CiAJCQltdXRleF91bmxvY2soJm1tdS0+bG9jayk7CiAJCQlyZXR1cm4g
cmV0OwogCQl9Ci0JCWdwdS0+bW11LT5uZWVkX2ZsdXNoID0gdHJ1ZTsKLQkJbXV0ZXhfdW5sb2Nr
KCZtbXUtPmxvY2spOwogCi0JCSppb3ZhID0gKHUzMil2cmFtX25vZGUtPnN0YXJ0OwotCQlyZXR1
cm4gMDsKKwkJbGlzdF9hZGRfdGFpbCgmbWFwcGluZy0+bW11X25vZGUsICZtbXUtPm1hcHBpbmdz
KTsKKwkJbW11LT5uZWVkX2ZsdXNoID0gdHJ1ZTsKIAl9CisKKwltYXBwaW5nLT51c2UgPSAxOwor
CisJbXV0ZXhfdW5sb2NrKCZtbXUtPmxvY2spOworCisJcmV0dXJuIDA7CiB9CiAKLXZvaWQgZXRu
YXZpdl9pb21tdV9wdXRfc3ViYWxsb2NfdmEoc3RydWN0IGV0bmF2aXZfZ3B1ICpncHUsCi0JCQkJ
ICAgc3RydWN0IGRybV9tbV9ub2RlICp2cmFtX25vZGUsIHNpemVfdCBzaXplLAotCQkJCSAgIHUz
MiBpb3ZhKQordm9pZCBldG5hdml2X2lvbW11X3B1dF9zdWJhbGxvY192YShzdHJ1Y3QgZXRuYXZp
dl9pb21tdSAqbW11LAorCQkgIHN0cnVjdCBldG5hdml2X3ZyYW1fbWFwcGluZyAqbWFwcGluZykK
IHsKLQlzdHJ1Y3QgZXRuYXZpdl9pb21tdSAqbW11ID0gZ3B1LT5tbXU7CisJc3RydWN0IGRybV9t
bV9ub2RlICpub2RlID0gJm1hcHBpbmctPnZyYW1fbm9kZTsKIAotCWlmIChtbXUtPnZlcnNpb24g
PT0gRVROQVZJVl9JT01NVV9WMikgewotCQltdXRleF9sb2NrKCZtbXUtPmxvY2spOwotCQlldG5h
dml2X2RvbWFpbl91bm1hcChtbXUtPmRvbWFpbiwgaW92YSwgc2l6ZSk7Ci0JCWRybV9tbV9yZW1v
dmVfbm9kZSh2cmFtX25vZGUpOwotCQltdXRleF91bmxvY2soJm1tdS0+bG9jayk7Ci0JfQorCWlm
ICghbWFwcGluZy0+dXNlKQorCQlyZXR1cm47CisKKwltYXBwaW5nLT51c2UgPSAwOworCisJaWYg
KG1tdS0+dmVyc2lvbiA9PSBFVE5BVklWX0lPTU1VX1YxKQorCQlyZXR1cm47CisKKwltdXRleF9s
b2NrKCZtbXUtPmxvY2spOworCWV0bmF2aXZfZG9tYWluX3VubWFwKG1tdS0+ZG9tYWluLCBub2Rl
LT5zdGFydCwgbm9kZS0+c2l6ZSk7CisJZHJtX21tX3JlbW92ZV9ub2RlKG5vZGUpOworCW11dGV4
X3VubG9jaygmbW11LT5sb2NrKTsKIH0KKwogc2l6ZV90IGV0bmF2aXZfaW9tbXVfZHVtcF9zaXpl
KHN0cnVjdCBldG5hdml2X2lvbW11ICppb21tdSkKIHsKIAlyZXR1cm4gaW9tbXUtPmRvbWFpbi0+
b3BzLT5kdW1wX3NpemUoaW9tbXUtPmRvbWFpbik7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vZXRuYXZpdi9ldG5hdml2X21tdS5oIGIvZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYvZXRuYXZp
dl9tbXUuaAppbmRleCBhMGRiMTdmZmI2ODYuLmZlMWM5ZDZiOTMzNCAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9tbXUuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0v
ZXRuYXZpdi9ldG5hdml2X21tdS5oCkBAIC01OSwxMiArNTksMTIgQEAgaW50IGV0bmF2aXZfaW9t
bXVfbWFwX2dlbShzdHJ1Y3QgZXRuYXZpdl9pb21tdSAqbW11LAogdm9pZCBldG5hdml2X2lvbW11
X3VubWFwX2dlbShzdHJ1Y3QgZXRuYXZpdl9pb21tdSAqbW11LAogCXN0cnVjdCBldG5hdml2X3Zy
YW1fbWFwcGluZyAqbWFwcGluZyk7CiAKLWludCBldG5hdml2X2lvbW11X2dldF9zdWJhbGxvY192
YShzdHJ1Y3QgZXRuYXZpdl9ncHUgKmdwdSwgZG1hX2FkZHJfdCBwYWRkciwKLQkJCQkgIHN0cnVj
dCBkcm1fbW1fbm9kZSAqdnJhbV9ub2RlLCBzaXplX3Qgc2l6ZSwKLQkJCQkgIHUzMiAqaW92YSk7
Ci12b2lkIGV0bmF2aXZfaW9tbXVfcHV0X3N1YmFsbG9jX3ZhKHN0cnVjdCBldG5hdml2X2dwdSAq
Z3B1LAotCQkJCSAgIHN0cnVjdCBkcm1fbW1fbm9kZSAqdnJhbV9ub2RlLCBzaXplX3Qgc2l6ZSwK
LQkJCQkgICB1MzIgaW92YSk7CitpbnQgZXRuYXZpdl9pb21tdV9nZXRfc3ViYWxsb2NfdmEoc3Ry
dWN0IGV0bmF2aXZfaW9tbXUgKm1tdSwKKwkJCQkgIHN0cnVjdCBldG5hdml2X3ZyYW1fbWFwcGlu
ZyAqbWFwcGluZywKKwkJCQkgIHUzMiBtZW1vcnlfYmFzZSwgZG1hX2FkZHJfdCBwYWRkciwKKwkJ
CQkgIHNpemVfdCBzaXplKTsKK3ZvaWQgZXRuYXZpdl9pb21tdV9wdXRfc3ViYWxsb2NfdmEoc3Ry
dWN0IGV0bmF2aXZfaW9tbXUgKm1tdSwKKwkJCQkgICBzdHJ1Y3QgZXRuYXZpdl92cmFtX21hcHBp
bmcgKm1hcHBpbmcpOwogCiBzaXplX3QgZXRuYXZpdl9pb21tdV9kdW1wX3NpemUoc3RydWN0IGV0
bmF2aXZfaW9tbXUgKmlvbW11KTsKIHZvaWQgZXRuYXZpdl9pb21tdV9kdW1wKHN0cnVjdCBldG5h
dml2X2lvbW11ICppb21tdSwgdm9pZCAqYnVmKTsKLS0gCjIuMjAuMQoKX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApk
cmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Au
b3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
