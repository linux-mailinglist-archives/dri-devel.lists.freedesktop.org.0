Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id F1B2D994F6
	for <lists+dri-devel@lfdr.de>; Thu, 22 Aug 2019 15:30:59 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C75D86E4D2;
	Thu, 22 Aug 2019 13:30:57 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from pio-pvt-msa3.bahnhof.se (pio-pvt-msa3.bahnhof.se [79.136.2.42])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C45806E4D2
 for <dri-devel@lists.freedesktop.org>; Thu, 22 Aug 2019 13:30:56 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by pio-pvt-msa3.bahnhof.se (Postfix) with ESMTP id 7B8D03F56D;
 Thu, 22 Aug 2019 15:30:49 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at bahnhof.se
X-Spam-Flag: NO
X-Spam-Score: -2.099
X-Spam-Level: 
X-Spam-Status: No, score=-2.099 tagged_above=-999 required=6.31
 tests=[BAYES_00=-1.9, DKIM_SIGNED=0.1, DKIM_VALID=-0.1,
 DKIM_VALID_AU=-0.1, DKIM_VALID_EF=-0.1, URIBL_BLOCKED=0.001]
 autolearn=ham autolearn_force=no
Received: from pio-pvt-msa3.bahnhof.se ([127.0.0.1])
 by localhost (pio-pvt-msa3.bahnhof.se [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id tOxyo7SrdGuu; Thu, 22 Aug 2019 15:30:48 +0200 (CEST)
Received: from mail1.shipmail.org (h-205-35.A357.priv.bahnhof.se
 [155.4.205.35]) (Authenticated sender: mb878879)
 by pio-pvt-msa3.bahnhof.se (Postfix) with ESMTPA id 6FCFB3F538;
 Thu, 22 Aug 2019 15:30:46 +0200 (CEST)
Received: from localhost.localdomain (h-205-35.A357.priv.bahnhof.se
 [155.4.205.35])
 by mail1.shipmail.org (Postfix) with ESMTPSA id 580913601BA;
 Thu, 22 Aug 2019 15:30:45 +0200 (CEST)
Subject: Re: [PATCH] dma_resv: prime lockdep annotations
To: Daniel Vetter <daniel.vetter@ffwll.ch>,
 DRI Development <dri-devel@lists.freedesktop.org>
References: <20190821215030.31660-1-daniel.vetter@ffwll.ch>
 <20190822130728.31725-1-daniel.vetter@ffwll.ch>
From: =?UTF-8?Q?Thomas_Hellstr=c3=b6m_=28VMware=29?= <thomas_os@shipmail.org>
Organization: VMware Inc.
Message-ID: <69b5bd23-feb8-c9db-beff-bb13923f3271@shipmail.org>
Date: Thu, 22 Aug 2019 15:30:44 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.6.1
MIME-Version: 1.0
In-Reply-To: <20190822130728.31725-1-daniel.vetter@ffwll.ch>
Content-Language: en-US
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
 d=shipmail.org; s=mail; 
 t=1566480645; bh=eqJ1WuCwYjNK54UIjDzinPf65epdZQtHA4brJNHHNXg=;
 h=Subject:To:Cc:References:From:Date:In-Reply-To:From;
 b=IjaeaHzjW287MOHd6vpuLWL5qsaZ+NDmKJ+voaitRF/frtP5bhriTQ0pNxFi4fZGC
 2JdmnGJWzV2yZ9dbVWBWnPSzu5PF7yjIMHiblWV4Ll2QWDQ1cuDwWv53r4sfVILD6U
 gCDGqZBb9DH5odJmoY1uZNqp2dWaVNTyvoC1abzQ=
X-Mailman-Original-Authentication-Results: pio-pvt-msa3.bahnhof.se;
 dkim=pass (1024-bit key;
 unprotected) header.d=shipmail.org header.i=@shipmail.org header.b=IjaeaHzj; 
 dkim-atps=neutral
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Thomas Hellstrom <thellstrom@vmware.com>,
 Tomeu Vizoso <tomeu.vizoso@collabora.com>,
 VMware Graphics <linux-graphics-maintainer@vmware.com>,
 Gerd Hoffmann <kraxel@redhat.com>, Thomas Zimmermann <tzimmermann@suse.de>,
 Dave Airlie <airlied@redhat.com>, Alex Deucher <alexander.deucher@amd.com>,
 Daniel Vetter <daniel.vetter@intel.com>,
 =?UTF-8?Q?Christian_K=c3=b6nig?= <christian.koenig@amd.com>,
 Ben Skeggs <bskeggs@redhat.com>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gOC8yMi8xOSAzOjA3IFBNLCBEYW5pZWwgVmV0dGVyIHdyb3RlOgo+IEZ1bGwgYXVkaXQgb2Yg
ZXZlcnlvbmU6Cj4KPiAtIGk5MTUsIHJhZGVvbiwgYW1kZ3B1IHNob3VsZCBiZSBjbGVhbiBwZXIg
dGhlaXIgbWFpbnRhaW5lcnMuCj4KPiAtIHZyYW0gaGVscGVycyBzaG91bGQgYmUgZmluZSwgdGhl
eSBkb24ndCBkbyBjb21tYW5kIHN1Ym1pc3Npb24sIHNvCj4gICAgcmVhbGx5IG5vIGJ1c2luZXNz
IGhvbGRpbmcgc3RydWN0X211dGV4IHdoaWxlIGRvaW5nIGNvcHlfKl91c2VyLiBCdXQKPiAgICBJ
IGhhdmVuJ3QgY2hlY2tlZCB0aGVtIGFsbC4KPgo+IC0gcGFuZnJvc3Qgc2VlbXMgdG8gZG1hX3Jl
c3ZfbG9jayBvbmx5IGluIHBhbmZyb3N0X2pvYl9wdXNoLCB3aGljaAo+ICAgIGxvb2tzIGNsZWFu
Lgo+Cj4gLSB2M2QgaG9sZHMgZG1hX3Jlc3YgbG9ja3MgaW4gdGhlIHRhaWwgb2YgaXRzIHYzZF9z
dWJtaXRfY2xfaW9jdGwoKSwKPiAgICBjb3B5aW5nIGZyb20vdG8gdXNlcnNwYWNlIGhhcHBlbnMg
YWxsIGluIHYzZF9sb29rdXBfYm9zIHdoaWNoIGlzCj4gICAgb3V0c2lkZSBvZiB0aGUgY3JpdGlj
YWwgc2VjdGlvbi4KPgo+IC0gdm13Z2Z4IGhhcyBhIGJ1bmNoIG9mIGlvY3RscyB0aGF0IGRvIHRo
ZWlyIG93biBjb3B5XypfdXNlcjoKPiAgICAtIHZtd19leGVjYnVmX3Byb2Nlc3M6IEZpcnN0IHRo
aXMgZG9lcyBzb21lIGNvcGllcyBpbgo+ICAgICAgdm13X2V4ZWNidWZfY21kYnVmKCkgYW5kIGFs
c28gaW4gdGhlIHZtd19leGVjYnVmX3Byb2Nlc3MoKSBpdHNlbGYuCj4gICAgICBUaGVuIGNvbWVz
IHRoZSB1c3VhbCB0dG0gcmVzZXJ2ZS92YWxpZGF0ZSBzZXF1ZW5jZSwgdGhlbiBhY3R1YWwKPiAg
ICAgIHN1Ym1pc3Npb24vZmVuY2luZywgdGhlbiB1bnJlc2VydmluZywgYW5kIGZpbmFsbHkgc29t
ZSBtb3JlCj4gICAgICBjb3B5X3RvX3VzZXIgaW4gdm13X2V4ZWNidWZfY29weV9mZW5jZV91c2Vy
LiBHbG9zc2luZyBvdmVyIHRvbnMgb2YKPiAgICAgIGRldGFpbHMsIGJ1dCBsb29rcyBhbGwgc2Fm
ZS4KPiAgICAtIHZtd19mZW5jZV9ldmVudF9pb2N0bDogTm8gdHRtX3Jlc2VydmUvZG1hX3Jlc3Zf
bG9jayBhbnl3aGVyZSB0byBiZQo+ICAgICAgc2Vlbiwgc2VlbXMgdG8gb25seSBjcmVhdGUgYSBm
ZW5jZSBhbmQgY29weSBpdCBvdXQuCj4gICAgLSBhIHBpbGUgb2Ygc21hbGxlciBpb2N0bCBpbiB2
bXdnZnhfaW9jdGwuYywgbm8gcmVzZXJ2YXRpb25zIHRvIGJlCj4gICAgICBmb3VuZCB0aGVyZS4K
PiAgICBTdW1tYXJ5OiB2bXdnZnggc2VlbXMgdG8gYmUgZmluZSB0b28uCj4KPiAtIHZpcnRpbzog
VGhlcmUncyB2aXJ0aW9fZ3B1X2V4ZWNidWZmZXJfaW9jdGwsIHdoaWNoIGRvZXMgYWxsIHRoZQo+
ICAgIGNvcHlpbmcgZnJvbSB1c2Vyc3BhY2UgYmVmb3JlIGV2ZW4gbG9va2luZyB1cCBvYmplY3Rz
IHRocm91Z2ggdGhlaXIKPiAgICBoYW5kbGVzLCBzbyBzYWZlLiBQbHVzIHRoZSBnZXRwYXJhbS9n
ZXRjYXBzIGlvY3RsLCBhbHNvIGJvdGggc2FmZS4KPgo+IC0gcXhsIG9ubHkgaGFzIHF4bF9leGVj
YnVmZmVyX2lvY3RsLCB3aGljaCBjYWxscyBpbnRvCj4gICAgcXhsX3Byb2Nlc3Nfc2luZ2xlX2Nv
bW1hbmQuIFRoZXJlJ3MgYSBsb3ZlbHkgY29tbWVudCBiZWZvcmUgdGhlCj4gICAgX19jb3B5X2Zy
b21fdXNlcl9pbmF0b21pYyB0aGF0IHRoZSBzbG93cGF0aCBzaG91bGQgYmUgY29waWVkIGZyb20K
PiAgICBpOTE1LCBidXQgSSBndWVzcyB0aGF0IG5ldmVyIGhhcHBlbmVkLiBUcnkgbm90IHRvIGJl
IHVubHVja3kgYW5kIGdldAo+ICAgIHlvdXIgQ1MgZGF0YSBldmljdGVkIGJldHdlZW4gd2hlbiBp
dCdzIHdyaXR0ZW4gYW5kIHRoZSBrZXJuZWwgdHJpZXMKPiAgICB0byByZWFkIGl0LiBUaGUgb25s
eSBvdGhlciBjb3B5X2Zyb21fdXNlciBpcyBmb3IgcmVsb2NzLCBidXQgdGhvc2UKPiAgICBhcmUg
ZG9uZSBiZWZvcmUgcXhsX3JlbGVhc2VfcmVzZXJ2ZV9saXN0KCksIHdoaWNoIHNlZW1zIHRvIGJl
IHRoZQo+ICAgIG9ubHkgdGhpbmcgcmVzZXJ2aW5nIGJ1ZmZlcnMgKGluIHRoZSB0dG0vZG1hX3Jl
c3Ygc2Vuc2UpIGluIHRoYXQKPiAgICBjb2RlLiBTbyBsb29rcyBzYWZlLgo+Cj4gLSBBIGRlYnVn
ZnMgZmlsZSBpbiBub3V2ZWF1X2RlYnVnZnNfcHN0YXRlX3NldCgpIGFuZCB0aGUgdXNpZiBpb2N0
bCBpbgo+ICAgIHVzaWZfaW9jdGwoKSBsb29rIHNhZmUuIG5vdXZlYXVfZ2VtX2lvY3RsX3B1c2hi
dWYoKSBvdG9oIGJyZWFrcyB0aGlzCj4gICAgZXZlcnl3aGVyZSBhbmQgbmVlZHMgdG8gYmUgZml4
ZWQgdXAuCj4KPiB2MjogVGhvbWFzIHBvaW50ZWQgYXQgdGhhdCB2bXdnZnggY2FsbHMgZG1hX3Jl
c3ZfaW5pdCB3aGlsZSBpdCBob2xkcyBhCj4gZG1hX3Jlc3YgbG9jayBvZiBhIGRpZmZlcmVudCBv
YmplY3QgYWxyZWFkeS4gQ2hyaXN0aWFuIG1lbnRpb25lZCB0aGF0Cj4gdHRtIGNvcmUgZG9lcyB0
aGlzIHRvbyBmb3IgZ2hvc3Qgb2JqZWN0cy4gaW50ZWwtZ2Z4LWNpIGhpZ2hsaWdodGVkCj4gdGhh
dCBpOTE1IGhhcyBzaW1pbGFyIGlzc3Vlcy4KPgo+IFVuZm9ydHVuYXRlbHkgd2UgY2FuJ3QgZG8g
dGhpcyBpbiB0aGUgdXN1YWwgbW9kdWxlIGluaXQgZnVuY3Rpb25zLAo+IGJlY2F1c2Uga2VybmVs
IHRocmVhZHMgZG9uJ3QgaGF2ZSBhbiAtPm1tIC0gd2UgaGF2ZSB0byB3YWl0IGFyb3VuZCBmb3IK
PiBzb21lIHVzZXIgdGhyZWFkIHRvIGRvIHRoaXMuCj4KPiBTb2x1dGlvbiBpcyB0byBzcGF3biBh
IHdvcmtlciAoYnV0IG9ubHkgb25jZSkuIEl0J3MgaG9ycmlibGUsIGJ1dCBpdAo+IHdvcmtzLgo+
Cj4gdjM6IFdlIGNhbiBhbGxvY2F0ZSBtbSEgKENocmlzKS4gSG9ycmlibGUgd29ya2VyIGhhY2sg
b3V0LCBjbGVhbgo+IGluaXRjYWxsIHNvbHV0aW9uIGluLgo+Cj4gdjQ6IEFubm90YXRlIHdpdGgg
X19pbml0IChSb2IgSGVycmluZykKPgo+IENjOiBSb2IgSGVycmluZyA8cm9iaEBrZXJuZWwub3Jn
Pgo+IENjOiBBbGV4IERldWNoZXIgPGFsZXhhbmRlci5kZXVjaGVyQGFtZC5jb20+Cj4gQ2M6IENo
cmlzdGlhbiBLw7ZuaWcgPGNocmlzdGlhbi5rb2VuaWdAYW1kLmNvbT4KPiBDYzogQ2hyaXMgV2ls
c29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+Cj4gQ2M6IFRob21hcyBaaW1tZXJtYW5uIDx0
emltbWVybWFubkBzdXNlLmRlPgo+IENjOiBSb2IgSGVycmluZyA8cm9iaEBrZXJuZWwub3JnPgo+
IENjOiBUb21ldSBWaXpvc28gPHRvbWV1LnZpem9zb0Bjb2xsYWJvcmEuY29tPgo+IENjOiBFcmlj
IEFuaG9sdCA8ZXJpY0BhbmhvbHQubmV0Pgo+IENjOiBEYXZlIEFpcmxpZSA8YWlybGllZEByZWRo
YXQuY29tPgo+IENjOiBHZXJkIEhvZmZtYW5uIDxrcmF4ZWxAcmVkaGF0LmNvbT4KPiBDYzogQmVu
IFNrZWdncyA8YnNrZWdnc0ByZWRoYXQuY29tPgo+IENjOiAiVk13YXJlIEdyYXBoaWNzIiA8bGlu
dXgtZ3JhcGhpY3MtbWFpbnRhaW5lckB2bXdhcmUuY29tPgo+IENjOiBUaG9tYXMgSGVsbHN0cm9t
IDx0aGVsbHN0cm9tQHZtd2FyZS5jb20+Cj4gUmV2aWV3ZWQtYnk6IENocmlzdGlhbiBLw7ZuaWcg
PGNocmlzdGlhbi5rb2VuaWdAYW1kLmNvbT4KPiBSZXZpZXdlZC1ieTogQ2hyaXMgV2lsc29uIDxj
aHJpc0BjaHJpcy13aWxzb24uY28udWs+Cj4gVGVzdGVkLWJ5OiBDaHJpcyBXaWxzb24gPGNocmlz
QGNocmlzLXdpbHNvbi5jby51az4KPiBTaWduZWQtb2ZmLWJ5OiBEYW5pZWwgVmV0dGVyIDxkYW5p
ZWwudmV0dGVyQGludGVsLmNvbT4KPiAtLS0KPiAgIGRyaXZlcnMvZG1hLWJ1Zi9kbWEtcmVzdi5j
IHwgMjQgKysrKysrKysrKysrKysrKysrKysrKysrCj4gICAxIGZpbGUgY2hhbmdlZCwgMjQgaW5z
ZXJ0aW9ucygrKQo+Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZG1hLWJ1Zi9kbWEtcmVzdi5jIGIv
ZHJpdmVycy9kbWEtYnVmL2RtYS1yZXN2LmMKPiBpbmRleCA0MmE4ZjNmMTE2ODEuLjk3YzRjNDgx
MmQwOCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2RtYS1idWYvZG1hLXJlc3YuYwo+ICsrKyBiL2Ry
aXZlcnMvZG1hLWJ1Zi9kbWEtcmVzdi5jCj4gQEAgLTM0LDYgKzM0LDcgQEAKPiAgIAo+ICAgI2lu
Y2x1ZGUgPGxpbnV4L2RtYS1yZXN2Lmg+Cj4gICAjaW5jbHVkZSA8bGludXgvZXhwb3J0Lmg+Cj4g
KyNpbmNsdWRlIDxsaW51eC9zY2hlZC9tbS5oPgo+ICAgCj4gICAvKioKPiAgICAqIERPQzogUmVz
ZXJ2YXRpb24gT2JqZWN0IE92ZXJ2aWV3Cj4gQEAgLTk1LDYgKzk2LDI5IEBAIHN0YXRpYyB2b2lk
IGRtYV9yZXN2X2xpc3RfZnJlZShzdHJ1Y3QgZG1hX3Jlc3ZfbGlzdCAqbGlzdCkKPiAgIAlrZnJl
ZV9yY3UobGlzdCwgcmN1KTsKPiAgIH0KPiAgIAo+ICsjaWYgSVNfRU5BQkxFRChDT05GSUdfTE9D
S0RFUCkKPiArc3RhdGljIHZvaWQgX19pbml0IGRtYV9yZXN2X2xvY2tkZXAodm9pZCkKPiArewo+
ICsJc3RydWN0IG1tX3N0cnVjdCAqbW0gPSBtbV9hbGxvYygpOwo+ICsJc3RydWN0IGRtYV9yZXN2
IG9iajsKPiArCj4gKwlpZiAoIW1tKQo+ICsJCXJldHVybjsKPiArCj4gKwlkbWFfcmVzdl9pbml0
KCZvYmopOwo+ICsKPiArCWRvd25fcmVhZCgmbW0tPm1tYXBfc2VtKTsKCgpJIHRvb2sgYSBxdWlj
ayBsb29rIGludG8gdXNpbmcgbG9ja2RlcCBtYWNyb3MgcmVwbGFjaW5nIHRoZSBhY3R1YWwgCmxv
Y2tzOiBTb21ldGhpbmcgYWxvbmcgdGhlIGxpbmVzIG9mCgpsb2NrX2FjcXVpcmUobW0tPm1tYXBf
c2VtLmRlcF9tYXAsIDAsIDAsIDEsIDEsIE5VTEwsIF9USElTX0lQXyk7Cj4gKwl3d19tdXRleF9s
b2NrKCZvYmoubG9jaywgTlVMTCk7CmxvY2tfYWNxdWlyZShvYmoubG9jay5kZXBfbWFwLCAwLCAw
LCAwLCAxLCBOVUxMLCBfVEhJU19JUF8pOwo+ICsJZnNfcmVjbGFpbV9hY3F1aXJlKEdGUF9LRVJO
RUwpOwo+ICsJZnNfcmVjbGFpbV9yZWxlYXNlKEdGUF9LRVJORUwpOwo+ICsJd3dfbXV0ZXhfdW5s
b2NrKCZvYmoubG9jayk7Cgpsb2NrX3JlbGVhc2Uob2JqLmxvY2suZGVwX21hcCwgMCwgX1RISVNf
SVBfKTsKCj4gKwl1cF9yZWFkKCZtbS0+bW1hcF9zZW0pOwoKbG9ja19yZWxlYXNlKG9iai5sb2Nr
LmRlcF9tYXAsIDAsIF9USElTX0lQXyk7CgpFaXRoZXIgd2F5IGlzIGZpbmUgd2l0aCBtZSwgdGhv
dWdoLgoKUmV2aWV3ZWQtYnk6IFRob21hcyBIZWxsc3Ryw7ZtIDx0aGVsbHN0cm9tQHZtd2FyZS5j
b20+CgoKPiArCQo+ICsJbW1wdXQobW0pOwo+ICt9Cj4gK3N1YnN5c19pbml0Y2FsbChkbWFfcmVz
dl9sb2NrZGVwKTsKPiArI2VuZGlmCj4gKwo+ICAgLyoqCj4gICAgKiBkbWFfcmVzdl9pbml0IC0g
aW5pdGlhbGl6ZSBhIHJlc2VydmF0aW9uIG9iamVjdAo+ICAgICogQG9iajogdGhlIHJlc2VydmF0
aW9uIG9iamVjdAoKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9y
ZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZl
bA==
