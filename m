Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 76D07AFFD5
	for <lists+dri-devel@lfdr.de>; Wed, 11 Sep 2019 17:21:13 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 153696EB37;
	Wed, 11 Sep 2019 15:21:11 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga04.intel.com (mga04.intel.com [192.55.52.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id CC6566EB38
 for <dri-devel@lists.freedesktop.org>; Wed, 11 Sep 2019 15:21:09 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from orsmga007.jf.intel.com ([10.7.209.58])
 by fmsmga104.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 11 Sep 2019 08:21:09 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,492,1559545200"; d="scan'208";a="175675204"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by orsmga007.jf.intel.com with SMTP; 11 Sep 2019 08:21:04 -0700
Received: by stinkbox (sSMTP sendmail emulation);
 Wed, 11 Sep 2019 18:21:03 +0300
Date: Wed, 11 Sep 2019 18:21:03 +0300
From: Ville =?iso-8859-1?Q?Syrj=E4l=E4?= <ville.syrjala@linux.intel.com>
To: Thomas Zimmermann <tzimmermann@suse.de>
Subject: Re: [PATCH 2/2] drm/mgag200: Add vblank support
Message-ID: <20190911152103.GC7482@intel.com>
References: <20190909140633.31260-1-tzimmermann@suse.de>
 <20190909140633.31260-3-tzimmermann@suse.de>
 <20190910140103.GQ7482@intel.com>
 <37ca4ba3-6152-73c0-667b-e92556d351e2@suse.de>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <37ca4ba3-6152-73c0-667b-e92556d351e2@suse.de>
User-Agent: Mutt/1.10.1 (2018-07-13)
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: feng.tang@intel.com, rong.a.chen@intel.com, dri-devel@lists.freedesktop.org,
 ying.huang@intel.com, airlied@redhat.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gV2VkLCBTZXAgMTEsIDIwMTkgYXQgMDU6MDg6NDVQTSArMDIwMCwgVGhvbWFzIFppbW1lcm1h
bm4gd3JvdGU6Cj4gSGkKPiAKPiBBbSAxMC4wOS4xOSB1bSAxNjowMSBzY2hyaWViIFZpbGxlIFN5
cmrDpGzDpDoKPiA+IE9uIE1vbiwgU2VwIDA5LCAyMDE5IGF0IDA0OjA2OjMzUE0gKzAyMDAsIFRo
b21hcyBaaW1tZXJtYW5uIHdyb3RlOgo+ID4+IFN1cHBvcnQgZm9yIHZibGFuayByZXF1aXJlcyBW
U1lOQyB0byBzaWduYWwgYW4gaW50ZXJydXB0LCB3aGljaCBpcyBicm9rZW4KPiA+PiBvbiBNYXRy
b3ggY2hpcHNldHMuCj4gPiAKPiA+IEkgZG9uJ3QgcmVtZW1iZXIgdGhlcmUgYmVpbmcgYW55dGhp
bmcgd3Jvbmcgd2l0aCB0aGUgdnN5bmMgaW50ZXJydXB0Lgo+ID4gV2hhdCBtYWtlcyB5b3UgdGhp
bmsgaXQncyBicm9rZW4/Cj4gPiAKPiA+PiBUaGUgd29ya2Fyb3VuZCB0aGF0IGlzIHVzZWQgaGVy
ZSBhbmQgaW4gb3RoZXIgZnJlZQo+ID4+IE1hdHJveCBkcml2ZXJzIGlzIHRvIHByb2dyYW0gPGxp
bmVjb21wPiB0byB0aGUgdmFsdWUgb2YgPHZkaXNwbGF5PiBhbmQKPiA+PiBlbmFibGUgdGhlIFZM
SU5FIGludGVycnVwdC4gVGhpcyB0cmlnZ2VycyBhbiBpbnRlcnJ1cHQgYXQgdGhlIHNhbWUgdGlt
ZQo+ID4+IHdoZW4gVlNZTkMgYmVnaW5zLgo+ID4gCj4gPiBZb3UncmUgcHJvZ3JhbW1pbmcgaXQg
dG8gZmlyZSBhdCBzdGFydCBvZiB2YmxhbmssIG5vdCBzdGFydCBvZiB2c3luYy4KPiA+IAo+ID4+
Cj4gPj4gVkxJTkUgdXNlcyBzZXBhcmF0ZSByZWdpc3RlcnMgZm9yIGVuYWJsaW5nIGFuZCBjbGVh
cmluZyBwZW5kaW5nIGludGVycnVwdHMuCj4gPj4gTm8gZXh0cmEgc3luY3Jvbml6YXRpb24gYmV0
d2VlbiBpcnEgaGFuZGxlciBhbmQgdGhlIHJlc3Qgb2YgdGhlIGRyaXZlciBpcwo+ID4+IHJlcXVp
cmVkLgo+ID4+Cj4gPj4gU2lnbmVkLW9mZi1ieTogVGhvbWFzIFppbW1lcm1hbm4gPHR6aW1tZXJt
YW5uQHN1c2UuZGU+Cj4gPj4gLS0tCj4gPj4gIGRyaXZlcnMvZ3B1L2RybS9tZ2FnMjAwL21nYWcy
MDBfZHJ2LmMgIHwgIDEgKwo+ID4+ICBkcml2ZXJzL2dwdS9kcm0vbWdhZzIwMC9tZ2FnMjAwX2Ry
di5oICB8ICAxICsKPiA+PiAgZHJpdmVycy9ncHUvZHJtL21nYWcyMDAvbWdhZzIwMF9tYWluLmMg
fCAzMyArKysrKysrKysrKysrKysrKysrKwo+ID4+ICBkcml2ZXJzL2dwdS9kcm0vbWdhZzIwMC9t
Z2FnMjAwX21vZGUuYyB8IDQyICsrKysrKysrKysrKysrKysrKysrKysrLS0tCj4gPj4gIDQgZmls
ZXMgY2hhbmdlZCwgNzMgaW5zZXJ0aW9ucygrKSwgNCBkZWxldGlvbnMoLSkKPiA+Pgo+ID4+IGRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbWdhZzIwMC9tZ2FnMjAwX2Rydi5jIGIvZHJpdmVy
cy9ncHUvZHJtL21nYWcyMDAvbWdhZzIwMF9kcnYuYwo+ID4+IGluZGV4IDRmOWRmM2I5MzU5OC4u
Y2ZmMjY1OTczMTU0IDEwMDY0NAo+ID4+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9tZ2FnMjAwL21n
YWcyMDBfZHJ2LmMKPiA+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vbWdhZzIwMC9tZ2FnMjAwX2Ry
di5jCj4gPj4gQEAgLTY3LDYgKzY3LDcgQEAgc3RhdGljIHN0cnVjdCBkcm1fZHJpdmVyIGRyaXZl
ciA9IHsKPiA+PiAgCS5kcml2ZXJfZmVhdHVyZXMgPSBEUklWRVJfR0VNIHwgRFJJVkVSX01PREVT
RVQsCj4gPj4gIAkubG9hZCA9IG1nYWcyMDBfZHJpdmVyX2xvYWQsCj4gPj4gIAkudW5sb2FkID0g
bWdhZzIwMF9kcml2ZXJfdW5sb2FkLAo+ID4+ICsJLmlycV9oYW5kbGVyID0gbWdhZzIwMF9pcnFf
aGFuZGxlciwKPiA+PiAgCS5mb3BzID0gJm1nYWcyMDBfZHJpdmVyX2ZvcHMsCj4gPj4gIAkubmFt
ZSA9IERSSVZFUl9OQU1FLAo+ID4+ICAJLmRlc2MgPSBEUklWRVJfREVTQywKPiA+PiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL21nYWcyMDAvbWdhZzIwMF9kcnYuaCBiL2RyaXZlcnMvZ3B1
L2RybS9tZ2FnMjAwL21nYWcyMDBfZHJ2LmgKPiA+PiBpbmRleCAxYzkzZjhkYzA4YzcuLjg4Y2Yy
NTZkMTM1ZiAxMDA2NDQKPiA+PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vbWdhZzIwMC9tZ2FnMjAw
X2Rydi5oCj4gPj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL21nYWcyMDAvbWdhZzIwMF9kcnYuaAo+
ID4+IEBAIC0xOTUsNiArMTk1LDcgQEAgdm9pZCBtZ2FnMjAwX21vZGVzZXRfZmluaShzdHJ1Y3Qg
bWdhX2RldmljZSAqbWRldik7Cj4gPj4gIAkJCQkvKiBtZ2FnMjAwX21haW4uYyAqLwo+ID4+ICBp
bnQgbWdhZzIwMF9kcml2ZXJfbG9hZChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB1bnNpZ25lZCBs
b25nIGZsYWdzKTsKPiA+PiAgdm9pZCBtZ2FnMjAwX2RyaXZlcl91bmxvYWQoc3RydWN0IGRybV9k
ZXZpY2UgKmRldik7Cj4gPj4gK2lycXJldHVybl90IG1nYWcyMDBfaXJxX2hhbmRsZXIoaW50IGly
cSwgdm9pZCAqYXJnKTsKPiA+PiAgCj4gPj4gIAkJCQkvKiBtZ2FnMjAwX2kyYy5jICovCj4gPj4g
IHN0cnVjdCBtZ2FfaTJjX2NoYW4gKm1nYWcyMDBfaTJjX2NyZWF0ZShzdHJ1Y3QgZHJtX2Rldmlj
ZSAqZGV2KTsKPiA+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL21nYWcyMDAvbWdhZzIw
MF9tYWluLmMgYi9kcml2ZXJzL2dwdS9kcm0vbWdhZzIwMC9tZ2FnMjAwX21haW4uYwo+ID4+IGlu
ZGV4IGE5NzczMzM0ZGVkZi4uNTk0MTYwNzc5NmU4IDEwMDY0NAo+ID4+IC0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9tZ2FnMjAwL21nYWcyMDBfbWFpbi5jCj4gPj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L21nYWcyMDAvbWdhZzIwMF9tYWluLmMKPiA+PiBAQCAtMTAsNyArMTAsOSBAQAo+ID4+ICAKPiA+
PiAgI2luY2x1ZGUgPGRybS9kcm1fY3J0Y19oZWxwZXIuaD4KPiA+PiAgI2luY2x1ZGUgPGRybS9k
cm1fZ2VtX2ZyYW1lYnVmZmVyX2hlbHBlci5oPgo+ID4+ICsjaW5jbHVkZSA8ZHJtL2RybV9pcnEu
aD4KPiA+PiAgI2luY2x1ZGUgPGRybS9kcm1fcGNpLmg+Cj4gPj4gKyNpbmNsdWRlIDxkcm0vZHJt
X3ZibGFuay5oPgo+ID4+ICAKPiA+PiAgI2luY2x1ZGUgIm1nYWcyMDBfZHJ2LmgiCj4gPj4gIAo+
ID4+IEBAIC0xODYsMTAgKzE4OCwxOCBAQCBpbnQgbWdhZzIwMF9kcml2ZXJfbG9hZChzdHJ1Y3Qg
ZHJtX2RldmljZSAqZGV2LCB1bnNpZ25lZCBsb25nIGZsYWdzKQo+ID4+ICAJfQo+ID4+ICAJbWRl
di0+Y3Vyc29yLnBpeGVsc19jdXJyZW50ID0gTlVMTDsKPiA+PiAgCj4gPj4gKwlyID0gZHJtX3Zi
bGFua19pbml0KGRldiwgMSk7Cj4gPj4gKwlpZiAocikKPiA+PiArCQlnb3RvIGVycl9tb2Rlc2V0
Owo+ID4+ICsKPiA+PiAgCXIgPSBkcm1fZmJkZXZfZ2VuZXJpY19zZXR1cChtZGV2LT5kZXYsIDAp
Owo+ID4+ICAJaWYgKHIpCj4gPj4gIAkJZ290byBlcnJfbW9kZXNldDsKPiA+PiAgCj4gPj4gKwly
ID0gZHJtX2lycV9pbnN0YWxsKGRldiwgZGV2LT5wZGV2LT5pcnEpOwo+ID4+ICsJaWYgKHIpCj4g
Pj4gKwkJZ290byBlcnJfbW9kZXNldDsKPiA+PiArCj4gPj4gIAlyZXR1cm4gMDsKPiA+PiAgCj4g
Pj4gIGVycl9tb2Rlc2V0Ogo+ID4+IEBAIC0yMDcsOCArMjE3LDMxIEBAIHZvaWQgbWdhZzIwMF9k
cml2ZXJfdW5sb2FkKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYpCj4gPj4gIAo+ID4+ICAJaWYgKG1k
ZXYgPT0gTlVMTCkKPiA+PiAgCQlyZXR1cm47Cj4gPj4gKwlkcm1faXJxX3VuaW5zdGFsbChkZXYp
Owo+ID4+ICAJbWdhZzIwMF9tb2Rlc2V0X2ZpbmkobWRldik7Cj4gPj4gIAlkcm1fbW9kZV9jb25m
aWdfY2xlYW51cChkZXYpOwo+ID4+ICAJbWdhZzIwMF9tbV9maW5pKG1kZXYpOwo+ID4+ICAJZGV2
LT5kZXZfcHJpdmF0ZSA9IE5VTEw7Cj4gPj4gIH0KPiA+PiArCj4gPj4gK2lycXJldHVybl90IG1n
YWcyMDBfaXJxX2hhbmRsZXIoaW50IGlycSwgdm9pZCAqYXJnKQo+ID4+ICt7Cj4gPj4gKwlzdHJ1
Y3QgZHJtX2RldmljZSAqZGV2ID0gYXJnOwo+ID4+ICsJc3RydWN0IG1nYV9kZXZpY2UgKm1kZXYg
PSBkZXYtPmRldl9wcml2YXRlOwo+ID4+ICsJc3RydWN0IGRybV9jcnRjICpjcnRjOwo+ID4+ICsJ
dTMyIHN0YXR1cywgaWNsZWFyOwo+ID4+ICsKPiA+PiArCXN0YXR1cyA9IFJSRUczMigweDFlMTQp
Owo+ID4+ICsKPiA+PiArCWlmIChzdGF0dXMgJiAweDAwMDAwMDIwKSB7IC8qIHRlc3QgPHZsaW5l
cGVuPiAqLwo+ID4+ICsJCWRybV9mb3JfZWFjaF9jcnRjKGNydGMsIGRldikgewo+ID4+ICsJCQlk
cm1fY3J0Y19oYW5kbGVfdmJsYW5rKGNydGMpOwo+ID4+ICsJCX0KPiA+IAo+ID4gQSBiaXQgb2Rk
IHdheSB0byB3cml0ZSB0aGF0IGJ1dCBhcyBsb25nIHRoaXMgZHJpdmVyIGRvZXNuJ3Qgc3VwcG9y
dAo+ID4gY3J0YzIgaXQgc2hvdWxkIGJlIGZpbmUuCj4gPiAKPiA+PiArCQlpY2xlYXIgPSBSUkVH
MzIoMHgxZTE4KTsKPiA+PiArCQlpY2xlYXIgfD0gMHgwMDAwMDAyMDsgLyogc2V0IDx2bGluZWlj
bHI+ICovCj4gPj4gKwkJV1JFRzMyKDB4MWUxOCwgaWNsZWFyKTsKPiA+PiArCQlyZXR1cm4gSVJR
X0hBTkRMRUQ7Cj4gPj4gKwl9Cj4gPj4gKwo+ID4+ICsJcmV0dXJuIElSUV9OT05FOwo+ID4+ICt9
Owo+ID4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbWdhZzIwMC9tZ2FnMjAwX21vZGUu
YyBiL2RyaXZlcnMvZ3B1L2RybS9tZ2FnMjAwL21nYWcyMDBfbW9kZS5jCj4gPj4gaW5kZXggNWU3
NzhiNWYxYTEwLi5mZmU1ZjE1ZDBhN2QgMTAwNjQ0Cj4gPj4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L21nYWcyMDAvbWdhZzIwMF9tb2RlLmMKPiA+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vbWdhZzIw
MC9tZ2FnMjAwX21vZGUuYwo+ID4+IEBAIC05MDUsNiArOTA1LDcgQEAgc3RhdGljIGludCBtZ2Ff
Y3J0Y19tb2RlX3NldChzdHJ1Y3QgZHJtX2NydGMgKmNydGMsCj4gPj4gIAljb25zdCBzdHJ1Y3Qg
ZHJtX2ZyYW1lYnVmZmVyICpmYiA9IGNydGMtPnByaW1hcnktPmZiOwo+ID4+ICAJaW50IGhkaXNw
bGF5LCBoc3luY3N0YXJ0LCBoc3luY2VuZCwgaHRvdGFsOwo+ID4+ICAJaW50IHZkaXNwbGF5LCB2
c3luY3N0YXJ0LCB2c3luY2VuZCwgdnRvdGFsOwo+ID4+ICsJaW50IGxpbmVjb21wOwo+ID4+ICAJ
aW50IHBpdGNoOwo+ID4+ICAJaW50IG9wdGlvbiA9IDAsIG9wdGlvbjIgPSAwOwo+ID4+ICAJaW50
IGk7Cj4gPj4gQEAgLTEwNDIsNiArMTA0MywxMyBAQCBzdGF0aWMgaW50IG1nYV9jcnRjX21vZGVf
c2V0KHN0cnVjdCBkcm1fY3J0YyAqY3J0YywKPiA+PiAgCXZzeW5jZW5kID0gbW9kZS0+dnN5bmNf
ZW5kIC0gMTsKPiA+PiAgCXZ0b3RhbCA9IG1vZGUtPnZ0b3RhbCAtIDI7Cj4gPj4gIAo+ID4+ICsJ
LyogVGhlIFZTWU5DIGludGVycnVwdCBpcyBicm9rZW4gb24gTWF0cm94IGNoaXBzZXRzLiBXZSB1
c2UKPiA+PiArCSAqIHRoZSBWTElORSBpbnRlcnJ1cHQgaW5zdGVhZC4gSXQgdHJpZ2dlcnMgd2hl
biB0aGUgY3VycmVudAo+ID4+ICsJICogbGluZWNvbXAgaGFzIGJlZW4gcmVhY2hlZC4gVGhlcmVm
b3JlIGtlZXAgPGxpbmVjb21wPiBpbgo+ID4+ICsJICogc3luYyB3aXRoIDx2ZGlzcGxheT4uCj4g
Pj4gKwkgKi8KPiA+PiArCWxpbmVjb21wID0gdmRpc3BsYXk7Cj4gPiAKPiA+IEkgaGF2ZSBhbiBv
ZGQgcmVjb2xsZWN0aW9uIHRoYXQgeW91IHdhbnQgdmRpc3BsYXkrMSBoZXJlIGlmIHlvdQo+ID4g
d2FudCB0aGUgaW50ZXJydXB0IHRvIGZpcmUgYXQgdGhlIGNvcnJlY3QgdGltZS4KPiAKPiBJIGRv
dWJsZS1jaGVja2VkIGFuZCBmb3VuZCB0aGF0IHZkaXNwbGF5IGlzIHRoZSB2YWx1ZSBvcmlnaW5h
bGx5IHVzZWQgYnkKPiB0aGlzIGRyaXZlciwgYnkgdGhlIGZiZGV2IGRyaXZlciBhbmQgYnkgWG9y
ZydzIG1nYSBkcml2ZXIuCgpTdXJlLCBidXQgd2hhdCBkb2VzIHRoZSBoYXJkd2FyZSBhY3R1YWxs
eSB3YW50PwoKLS0gClZpbGxlIFN5cmrDpGzDpApJbnRlbApfX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZl
bEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFp
bG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
