Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id EF4E359A67
	for <lists+dri-devel@lfdr.de>; Fri, 28 Jun 2019 14:17:30 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C78D86E908;
	Fri, 28 Jun 2019 12:17:27 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mout.kundenserver.de (mout.kundenserver.de [212.227.126.133])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D05176E908
 for <dri-devel@lists.freedesktop.org>; Fri, 28 Jun 2019 12:17:25 +0000 (UTC)
Received: from threadripper.lan ([149.172.19.189]) by mrelayeu.kundenserver.de
 (mreue011 [212.227.15.129]) with ESMTPA (Nemesis) id
 1MrPyJ-1iJFBE2Bdf-00oWeE; Fri, 28 Jun 2019 14:17:15 +0200
From: Arnd Bergmann <arnd@arndb.de>
To: Maarten Lankhorst <maarten.lankhorst@linux.intel.com>,
 Maxime Ripard <maxime.ripard@bootlin.com>, Sean Paul <sean@poorly.run>,
 David Airlie <airlied@linux.ie>, Daniel Vetter <daniel@ffwll.ch>
Subject: [PATCH] drm/selftests: reduce stack usage
Date: Fri, 28 Jun 2019 14:16:45 +0200
Message-Id: <20190628121712.1928142-1-arnd@arndb.de>
X-Mailer: git-send-email 2.20.0
MIME-Version: 1.0
X-Provags-ID: V03:K1:C9/HEI9D+7aWk3tbGABcmZ/leTmR3184GywOIUB4Ww6SaT0fSGl
 AlI8tsV2cidfF4tEGD3CVJUlgVZ1o/jRsk1D7TGuZnrMWsh8vMg0IDU5bCs0ajv39LWe3Lq
 X2VNIXlp4mOXTfqATV7W1rAoayvjvMOxal1hS5MAnsC0+sj4gpmkKBhsmJ7Oo1ZFFpk+3/1
 exnJ2wRpHQp2aofnJ/A+Q==
X-Spam-Flag: NO
X-UI-Out-Filterresults: notjunk:1;V03:K0:+UmGTThXWoE=:JSznRAuZ8zA8y5g5O+nSE7
 RFRzNN4fsVL7Xf++RxG32gIybvWtYkGnTDjfsyuD6203/xv5JIWNLcnl8pZlMxx43yckkjmvQ
 bnEUfZQoOLdxKCWNoSpOzQMirteGp8wGvFGOnaZf/0AsKkMNvm3MS66KyobwDw9W4VeB/Yy7O
 ZRJf8YV13BDAT0hbW8eC1bS2XPuwT1cwQ3hmnAT0M+AsSRlAWJaW15ekHCxzm87sDgycDX+a+
 DliZd4MmUImBm6wpxVZwbEkSkSPN5ucVQAE/Nqpwlurhanlm0eS9uvVuijO6f8qY5F6n2JpR+
 s/8RsIwWeZT3HTi89MyTutI4iR36SwPUuzSJbbbFYz/99WDW392aqGZPDQWnZBwrC0GSJnM+N
 wmshhyfE2d3Pev/MBdOAY4ohALbfwi4RR2w95Sv6qyI97kUNFSdv2MfJD0ZdzfERJJ+cFy0/d
 1D9leVH92tar9sWzOY5tujVKoDSAsD3p8g3eXFAxu+HwbfR708a0JM/Oms1fg+xE/HZww9CY8
 TaseEJ1hGDVcIbyxjrqz3hMD5N2HXg8PsVHJaGBFJgeyJRB27Re5FRmFW6gUOG7Jc5SslN4Gh
 ytlJG2KGvJV3SPUMbPFzTVBw5s4jMexnH1P4tHmFKI5k2yGBvBHMSgurhMzHCZxGzgu0eSb2f
 f3dRSQrCwvEVvXBYOSo1YChX6iNtf/Qozv0ZUKGHfyjjcF+wgFrTF0OYx93UOo+TeNnPIMnlZ
 FhJfxpsIQx9JRWl/e6NviK/lIv/paFq8hFxiaw==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: dri-devel@lists.freedesktop.org, Arnd Bergmann <arnd@arndb.de>,
 linux-kernel@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

UHV0dGluZyBhIGxhcmdlIGRybV9jb25uZWN0b3Igb2JqZWN0IG9uIHRoZSBzdGFjayBjYW4gbGVh
ZCB0byB3YXJuaW5ncwppbiBzb21lIGNvbmZpZ3VyYXRpb24sIHN1Y2ggYXM6Cgpkcml2ZXJzL2dw
dS9kcm0vc2VsZnRlc3RzL3Rlc3QtZHJtX2NtZGxpbmVfcGFyc2VyLmM6MTg6MTI6IGVycm9yOiBz
dGFjayBmcmFtZSBzaXplIG9mIDEwNDAgYnl0ZXMgaW4gZnVuY3Rpb24gJ2RybV9jbWRsaW5lX3Rl
c3RfcmVzJyBbLVdlcnJvciwtV2ZyYW1lLWxhcmdlci10aGFuPV0Kc3RhdGljIGludCBkcm1fY21k
bGluZV90ZXN0X3Jlcyh2b2lkICppZ25vcmVkKQoKU2luY2UgdGhlIG9iamVjdCBpcyBuZXZlciBt
b2RpZmllZCwganVzdCBkZWNsYXJlIGl0IGFzICdzdGF0aWMgY29uc3QnCmFuZCBhbGxvdyB0aGlz
IHRvIGJlIHBhc3NlZCBkb3duLgoKRml4ZXM6IGI3Y2VkMzg5MTZhOSAoImRybS9zZWxmdGVzdHM6
IEFkZCBjb21tYW5kIGxpbmUgcGFyc2VyIHNlbGZ0ZXN0cyIpClNpZ25lZC1vZmYtYnk6IEFybmQg
QmVyZ21hbm4gPGFybmRAYXJuZGIuZGU+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2RybV9tb2Rlcy5j
ICAgICAgICAgICAgICAgICAgIHwgICA4ICstCiAuLi4vZHJtL3NlbGZ0ZXN0cy90ZXN0LWRybV9j
bWRsaW5lX3BhcnNlci5jICAgfCAxMzYgKysrKysrKy0tLS0tLS0tLS0tCiBpbmNsdWRlL2RybS9k
cm1fbW9kZXMuaCAgICAgICAgICAgICAgICAgICAgICAgfCAgIDIgKy0KIDMgZmlsZXMgY2hhbmdl
ZCwgNTMgaW5zZXJ0aW9ucygrKSwgOTMgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2RybV9tb2Rlcy5jIGIvZHJpdmVycy9ncHUvZHJtL2RybV9tb2Rlcy5jCmluZGV4
IDU3ZTY0MDgyODhjOC4uOTEwNTYxZDRmMDcxIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
ZHJtX21vZGVzLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2RybV9tb2Rlcy5jCkBAIC0xNDQ4LDcg
KzE0NDgsNyBAQCBzdGF0aWMgaW50IGRybV9tb2RlX3BhcnNlX2NtZGxpbmVfcmVmcmVzaChjb25z
dCBjaGFyICpzdHIsIGNoYXIgKiplbmRfcHRyLAogfQogCiBzdGF0aWMgaW50IGRybV9tb2RlX3Bh
cnNlX2NtZGxpbmVfZXh0cmEoY29uc3QgY2hhciAqc3RyLCBpbnQgbGVuZ3RoLAotCQkJCQlzdHJ1
Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yLAorCQkJCQljb25zdCBzdHJ1Y3QgZHJtX2Nvbm5l
Y3RvciAqY29ubmVjdG9yLAogCQkJCQlzdHJ1Y3QgZHJtX2NtZGxpbmVfbW9kZSAqbW9kZSkKIHsK
IAlpbnQgaTsKQEAgLTE0OTMsNyArMTQ5Myw3IEBAIHN0YXRpYyBpbnQgZHJtX21vZGVfcGFyc2Vf
Y21kbGluZV9leHRyYShjb25zdCBjaGFyICpzdHIsIGludCBsZW5ndGgsCiAKIHN0YXRpYyBpbnQg
ZHJtX21vZGVfcGFyc2VfY21kbGluZV9yZXNfbW9kZShjb25zdCBjaGFyICpzdHIsIHVuc2lnbmVk
IGludCBsZW5ndGgsCiAJCQkJCSAgIGJvb2wgZXh0cmFzLAotCQkJCQkgICBzdHJ1Y3QgZHJtX2Nv
bm5lY3RvciAqY29ubmVjdG9yLAorCQkJCQkgICBjb25zdCBzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAq
Y29ubmVjdG9yLAogCQkJCQkgICBzdHJ1Y3QgZHJtX2NtZGxpbmVfbW9kZSAqbW9kZSkKIHsKIAlj
b25zdCBjaGFyICpzdHJfc3RhcnQgPSBzdHI7CkBAIC0xNTU1LDcgKzE1NTUsNyBAQCBzdGF0aWMg
aW50IGRybV9tb2RlX3BhcnNlX2NtZGxpbmVfcmVzX21vZGUoY29uc3QgY2hhciAqc3RyLCB1bnNp
Z25lZCBpbnQgbGVuZ3RoLAogfQogCiBzdGF0aWMgaW50IGRybV9tb2RlX3BhcnNlX2NtZGxpbmVf
b3B0aW9ucyhjaGFyICpzdHIsIHNpemVfdCBsZW4sCi0JCQkJCSAgc3RydWN0IGRybV9jb25uZWN0
b3IgKmNvbm5lY3RvciwKKwkJCQkJICBjb25zdCBzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVj
dG9yLAogCQkJCQkgIHN0cnVjdCBkcm1fY21kbGluZV9tb2RlICptb2RlKQogewogCXVuc2lnbmVk
IGludCByb3RhdGlvbiA9IDA7CkBAIC0xNjg5LDcgKzE2ODksNyBAQCBzdGF0aWMgaW50IGRybV9t
b2RlX3BhcnNlX2NtZGxpbmVfb3B0aW9ucyhjaGFyICpzdHIsIHNpemVfdCBsZW4sCiAgKiBUcnVl
IGlmIGEgdmFsaWQgbW9kZWxpbmUgaGFzIGJlZW4gcGFyc2VkLCBmYWxzZSBvdGhlcndpc2UuCiAg
Ki8KIGJvb2wgZHJtX21vZGVfcGFyc2VfY29tbWFuZF9saW5lX2Zvcl9jb25uZWN0b3IoY29uc3Qg
Y2hhciAqbW9kZV9vcHRpb24sCi0JCQkJCSAgICAgICBzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29u
bmVjdG9yLAorCQkJCQkgICAgICAgY29uc3Qgc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3Rv
ciwKIAkJCQkJICAgICAgIHN0cnVjdCBkcm1fY21kbGluZV9tb2RlICptb2RlKQogewogCWNvbnN0
IGNoYXIgKm5hbWU7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vc2VsZnRlc3RzL3Rlc3Qt
ZHJtX2NtZGxpbmVfcGFyc2VyLmMgYi9kcml2ZXJzL2dwdS9kcm0vc2VsZnRlc3RzL3Rlc3QtZHJt
X2NtZGxpbmVfcGFyc2VyLmMKaW5kZXggYmVmNGVkZGU2ZjlmLi4xNGM5NmVkYjEzZGYgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9zZWxmdGVzdHMvdGVzdC1kcm1fY21kbGluZV9wYXJzZXIu
YworKysgYi9kcml2ZXJzL2dwdS9kcm0vc2VsZnRlc3RzL3Rlc3QtZHJtX2NtZGxpbmVfcGFyc2Vy
LmMKQEAgLTE1LDEzICsxNSwxNCBAQAogI2luY2x1ZGUgImRybV9zZWxmdGVzdC5oIgogI2luY2x1
ZGUgInRlc3QtZHJtX21vZGVzZXRfY29tbW9uLmgiCiAKK3N0YXRpYyBjb25zdCBzdHJ1Y3QgZHJt
X2Nvbm5lY3RvciBub19jb25uZWN0b3IgPSB7fTsKKwogc3RhdGljIGludCBkcm1fY21kbGluZV90
ZXN0X3Jlcyh2b2lkICppZ25vcmVkKQogewotCXN0cnVjdCBkcm1fY29ubmVjdG9yIGNvbm5lY3Rv
ciA9IHsgfTsKIAlzdHJ1Y3QgZHJtX2NtZGxpbmVfbW9kZSBtb2RlID0geyB9OwogCiAJRkFJTF9P
TighZHJtX21vZGVfcGFyc2VfY29tbWFuZF9saW5lX2Zvcl9jb25uZWN0b3IoIjcyMHg0ODAiLAot
CQkJCQkJCSAgICZjb25uZWN0b3IsCisJCQkJCQkJICAgJm5vX2Nvbm5lY3RvciwKIAkJCQkJCQkg
ICAmbW9kZSkpOwogCUZBSUxfT04oIW1vZGUuc3BlY2lmaWVkKTsKIAlGQUlMX09OKG1vZGUueHJl
cyAhPSA3MjApOwpAQCAtNDIsMTEgKzQzLDEwIEBAIHN0YXRpYyBpbnQgZHJtX2NtZGxpbmVfdGVz
dF9yZXModm9pZCAqaWdub3JlZCkKIAogc3RhdGljIGludCBkcm1fY21kbGluZV90ZXN0X3Jlc19t
aXNzaW5nX3godm9pZCAqaWdub3JlZCkKIHsKLQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciBjb25uZWN0
b3IgPSB7IH07CiAJc3RydWN0IGRybV9jbWRsaW5lX21vZGUgbW9kZSA9IHsgfTsKIAogCUZBSUxf
T04oZHJtX21vZGVfcGFyc2VfY29tbWFuZF9saW5lX2Zvcl9jb25uZWN0b3IoIng0ODAiLAotCQkJ
CQkJCSAgJmNvbm5lY3RvciwKKwkJCQkJCQkgICZub19jb25uZWN0b3IsCiAJCQkJCQkJICAmbW9k
ZSkpOwogCiAJcmV0dXJuIDA7CkBAIC01NCwxMSArNTQsMTAgQEAgc3RhdGljIGludCBkcm1fY21k
bGluZV90ZXN0X3Jlc19taXNzaW5nX3godm9pZCAqaWdub3JlZCkKIAogc3RhdGljIGludCBkcm1f
Y21kbGluZV90ZXN0X3Jlc19taXNzaW5nX3kodm9pZCAqaWdub3JlZCkKIHsKLQlzdHJ1Y3QgZHJt
X2Nvbm5lY3RvciBjb25uZWN0b3IgPSB7IH07CiAJc3RydWN0IGRybV9jbWRsaW5lX21vZGUgbW9k
ZSA9IHsgfTsKIAogCUZBSUxfT04oZHJtX21vZGVfcGFyc2VfY29tbWFuZF9saW5lX2Zvcl9jb25u
ZWN0b3IoIjEwMjR4IiwKLQkJCQkJCQkgICZjb25uZWN0b3IsCisJCQkJCQkJICAmbm9fY29ubmVj
dG9yLAogCQkJCQkJCSAgJm1vZGUpKTsKIAogCXJldHVybiAwOwpAQCAtNjYsMTEgKzY1LDEwIEBA
IHN0YXRpYyBpbnQgZHJtX2NtZGxpbmVfdGVzdF9yZXNfbWlzc2luZ195KHZvaWQgKmlnbm9yZWQp
CiAKIHN0YXRpYyBpbnQgZHJtX2NtZGxpbmVfdGVzdF9yZXNfYmFkX3kodm9pZCAqaWdub3JlZCkK
IHsKLQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciBjb25uZWN0b3IgPSB7IH07CiAJc3RydWN0IGRybV9j
bWRsaW5lX21vZGUgbW9kZSA9IHsgfTsKIAogCUZBSUxfT04oZHJtX21vZGVfcGFyc2VfY29tbWFu
ZF9saW5lX2Zvcl9jb25uZWN0b3IoIjEwMjR4dGVzdCIsCi0JCQkJCQkJICAmY29ubmVjdG9yLAor
CQkJCQkJCSAgJm5vX2Nvbm5lY3RvciwKIAkJCQkJCQkgICZtb2RlKSk7CiAKIAlyZXR1cm4gMDsK
QEAgLTc4LDExICs3NiwxMCBAQCBzdGF0aWMgaW50IGRybV9jbWRsaW5lX3Rlc3RfcmVzX2JhZF95
KHZvaWQgKmlnbm9yZWQpCiAKIHN0YXRpYyBpbnQgZHJtX2NtZGxpbmVfdGVzdF9yZXNfbWlzc2lu
Z195X2JwcCh2b2lkICppZ25vcmVkKQogewotCXN0cnVjdCBkcm1fY29ubmVjdG9yIGNvbm5lY3Rv
ciA9IHsgfTsKIAlzdHJ1Y3QgZHJtX2NtZGxpbmVfbW9kZSBtb2RlID0geyB9OwogCiAJRkFJTF9P
Tihkcm1fbW9kZV9wYXJzZV9jb21tYW5kX2xpbmVfZm9yX2Nvbm5lY3RvcigiMTAyNHgtMjQiLAot
CQkJCQkJCSAgJmNvbm5lY3RvciwKKwkJCQkJCQkgICZub19jb25uZWN0b3IsCiAJCQkJCQkJICAm
bW9kZSkpOwogCiAJcmV0dXJuIDA7CkBAIC05MCwxMSArODcsMTAgQEAgc3RhdGljIGludCBkcm1f
Y21kbGluZV90ZXN0X3Jlc19taXNzaW5nX3lfYnBwKHZvaWQgKmlnbm9yZWQpCiAKIHN0YXRpYyBp
bnQgZHJtX2NtZGxpbmVfdGVzdF9yZXNfdmVzYSh2b2lkICppZ25vcmVkKQogewotCXN0cnVjdCBk
cm1fY29ubmVjdG9yIGNvbm5lY3RvciA9IHsgfTsKIAlzdHJ1Y3QgZHJtX2NtZGxpbmVfbW9kZSBt
b2RlID0geyB9OwogCiAJRkFJTF9PTighZHJtX21vZGVfcGFyc2VfY29tbWFuZF9saW5lX2Zvcl9j
b25uZWN0b3IoIjcyMHg0ODBNIiwKLQkJCQkJCQkgICAmY29ubmVjdG9yLAorCQkJCQkJCSAgICZu
b19jb25uZWN0b3IsCiAJCQkJCQkJICAgJm1vZGUpKTsKIAlGQUlMX09OKCFtb2RlLnNwZWNpZmll
ZCk7CiAJRkFJTF9PTihtb2RlLnhyZXMgIT0gNzIwKTsKQEAgLTExNSwxMSArMTExLDEwIEBAIHN0
YXRpYyBpbnQgZHJtX2NtZGxpbmVfdGVzdF9yZXNfdmVzYSh2b2lkICppZ25vcmVkKQogCiBzdGF0
aWMgaW50IGRybV9jbWRsaW5lX3Rlc3RfcmVzX3Zlc2FfcmJsYW5rKHZvaWQgKmlnbm9yZWQpCiB7
Ci0Jc3RydWN0IGRybV9jb25uZWN0b3IgY29ubmVjdG9yID0geyB9OwogCXN0cnVjdCBkcm1fY21k
bGluZV9tb2RlIG1vZGUgPSB7IH07CiAKIAlGQUlMX09OKCFkcm1fbW9kZV9wYXJzZV9jb21tYW5k
X2xpbmVfZm9yX2Nvbm5lY3RvcigiNzIweDQ4ME1SIiwKLQkJCQkJCQkgICAmY29ubmVjdG9yLAor
CQkJCQkJCSAgICZub19jb25uZWN0b3IsCiAJCQkJCQkJICAgJm1vZGUpKTsKIAlGQUlMX09OKCFt
b2RlLnNwZWNpZmllZCk7CiAJRkFJTF9PTihtb2RlLnhyZXMgIT0gNzIwKTsKQEAgLTE0MCwxMSAr
MTM1LDEwIEBAIHN0YXRpYyBpbnQgZHJtX2NtZGxpbmVfdGVzdF9yZXNfdmVzYV9yYmxhbmsodm9p
ZCAqaWdub3JlZCkKIAogc3RhdGljIGludCBkcm1fY21kbGluZV90ZXN0X3Jlc19yYmxhbmsodm9p
ZCAqaWdub3JlZCkKIHsKLQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciBjb25uZWN0b3IgPSB7IH07CiAJ
c3RydWN0IGRybV9jbWRsaW5lX21vZGUgbW9kZSA9IHsgfTsKIAogCUZBSUxfT04oIWRybV9tb2Rl
X3BhcnNlX2NvbW1hbmRfbGluZV9mb3JfY29ubmVjdG9yKCI3MjB4NDgwUiIsCi0JCQkJCQkJICAg
JmNvbm5lY3RvciwKKwkJCQkJCQkgICAmbm9fY29ubmVjdG9yLAogCQkJCQkJCSAgICZtb2RlKSk7
CiAJRkFJTF9PTighbW9kZS5zcGVjaWZpZWQpOwogCUZBSUxfT04obW9kZS54cmVzICE9IDcyMCk7
CkBAIC0xNjUsMTEgKzE1OSwxMCBAQCBzdGF0aWMgaW50IGRybV9jbWRsaW5lX3Rlc3RfcmVzX3Ji
bGFuayh2b2lkICppZ25vcmVkKQogCiBzdGF0aWMgaW50IGRybV9jbWRsaW5lX3Rlc3RfcmVzX2Jw
cCh2b2lkICppZ25vcmVkKQogewotCXN0cnVjdCBkcm1fY29ubmVjdG9yIGNvbm5lY3RvciA9IHsg
fTsKIAlzdHJ1Y3QgZHJtX2NtZGxpbmVfbW9kZSBtb2RlID0geyB9OwogCiAJRkFJTF9PTighZHJt
X21vZGVfcGFyc2VfY29tbWFuZF9saW5lX2Zvcl9jb25uZWN0b3IoIjcyMHg0ODAtMjQiLAotCQkJ
CQkJCSAgICZjb25uZWN0b3IsCisJCQkJCQkJICAgJm5vX2Nvbm5lY3RvciwKIAkJCQkJCQkgICAm
bW9kZSkpOwogCUZBSUxfT04oIW1vZGUuc3BlY2lmaWVkKTsKIAlGQUlMX09OKG1vZGUueHJlcyAh
PSA3MjApOwpAQCAtMTkxLDExICsxODQsMTAgQEAgc3RhdGljIGludCBkcm1fY21kbGluZV90ZXN0
X3Jlc19icHAodm9pZCAqaWdub3JlZCkKIAogc3RhdGljIGludCBkcm1fY21kbGluZV90ZXN0X3Jl
c19iYWRfYnBwKHZvaWQgKmlnbm9yZWQpCiB7Ci0Jc3RydWN0IGRybV9jb25uZWN0b3IgY29ubmVj
dG9yID0geyB9OwogCXN0cnVjdCBkcm1fY21kbGluZV9tb2RlIG1vZGUgPSB7IH07CiAKIAlGQUlM
X09OKGRybV9tb2RlX3BhcnNlX2NvbW1hbmRfbGluZV9mb3JfY29ubmVjdG9yKCI3MjB4NDgwLXRl
c3QiLAotCQkJCQkJCSAgJmNvbm5lY3RvciwKKwkJCQkJCQkgICZub19jb25uZWN0b3IsCiAJCQkJ
CQkJICAmbW9kZSkpOwogCiAJcmV0dXJuIDA7CkBAIC0yMDMsMTEgKzE5NSwxMCBAQCBzdGF0aWMg
aW50IGRybV9jbWRsaW5lX3Rlc3RfcmVzX2JhZF9icHAodm9pZCAqaWdub3JlZCkKIAogc3RhdGlj
IGludCBkcm1fY21kbGluZV90ZXN0X3Jlc19yZWZyZXNoKHZvaWQgKmlnbm9yZWQpCiB7Ci0Jc3Ry
dWN0IGRybV9jb25uZWN0b3IgY29ubmVjdG9yID0geyB9OwogCXN0cnVjdCBkcm1fY21kbGluZV9t
b2RlIG1vZGUgPSB7IH07CiAKIAlGQUlMX09OKCFkcm1fbW9kZV9wYXJzZV9jb21tYW5kX2xpbmVf
Zm9yX2Nvbm5lY3RvcigiNzIweDQ4MEA2MCIsCi0JCQkJCQkJICAgJmNvbm5lY3RvciwKKwkJCQkJ
CQkgICAmbm9fY29ubmVjdG9yLAogCQkJCQkJCSAgICZtb2RlKSk7CiAJRkFJTF9PTighbW9kZS5z
cGVjaWZpZWQpOwogCUZBSUxfT04obW9kZS54cmVzICE9IDcyMCk7CkBAIC0yMjksMTEgKzIyMCwx
MCBAQCBzdGF0aWMgaW50IGRybV9jbWRsaW5lX3Rlc3RfcmVzX3JlZnJlc2godm9pZCAqaWdub3Jl
ZCkKIAogc3RhdGljIGludCBkcm1fY21kbGluZV90ZXN0X3Jlc19iYWRfcmVmcmVzaCh2b2lkICpp
Z25vcmVkKQogewotCXN0cnVjdCBkcm1fY29ubmVjdG9yIGNvbm5lY3RvciA9IHsgfTsKIAlzdHJ1
Y3QgZHJtX2NtZGxpbmVfbW9kZSBtb2RlID0geyB9OwogCiAJRkFJTF9PTihkcm1fbW9kZV9wYXJz
ZV9jb21tYW5kX2xpbmVfZm9yX2Nvbm5lY3RvcigiNzIweDQ4MEByZWZyZXNoIiwKLQkJCQkJCQkg
ICZjb25uZWN0b3IsCisJCQkJCQkJICAmbm9fY29ubmVjdG9yLAogCQkJCQkJCSAgJm1vZGUpKTsK
IAogCXJldHVybiAwOwpAQCAtMjQxLDExICsyMzEsMTAgQEAgc3RhdGljIGludCBkcm1fY21kbGlu
ZV90ZXN0X3Jlc19iYWRfcmVmcmVzaCh2b2lkICppZ25vcmVkKQogCiBzdGF0aWMgaW50IGRybV9j
bWRsaW5lX3Rlc3RfcmVzX2JwcF9yZWZyZXNoKHZvaWQgKmlnbm9yZWQpCiB7Ci0Jc3RydWN0IGRy
bV9jb25uZWN0b3IgY29ubmVjdG9yID0geyB9OwogCXN0cnVjdCBkcm1fY21kbGluZV9tb2RlIG1v
ZGUgPSB7IH07CiAKIAlGQUlMX09OKCFkcm1fbW9kZV9wYXJzZV9jb21tYW5kX2xpbmVfZm9yX2Nv
bm5lY3RvcigiNzIweDQ4MC0yNEA2MCIsCi0JCQkJCQkJICAgJmNvbm5lY3RvciwKKwkJCQkJCQkg
ICAmbm9fY29ubmVjdG9yLAogCQkJCQkJCSAgICZtb2RlKSk7CiAJRkFJTF9PTighbW9kZS5zcGVj
aWZpZWQpOwogCUZBSUxfT04obW9kZS54cmVzICE9IDcyMCk7CkBAIC0yNjgsMTEgKzI1NywxMCBA
QCBzdGF0aWMgaW50IGRybV9jbWRsaW5lX3Rlc3RfcmVzX2JwcF9yZWZyZXNoKHZvaWQgKmlnbm9y
ZWQpCiAKIHN0YXRpYyBpbnQgZHJtX2NtZGxpbmVfdGVzdF9yZXNfYnBwX3JlZnJlc2hfaW50ZXJs
YWNlZCh2b2lkICppZ25vcmVkKQogewotCXN0cnVjdCBkcm1fY29ubmVjdG9yIGNvbm5lY3RvciA9
IHsgfTsKIAlzdHJ1Y3QgZHJtX2NtZGxpbmVfbW9kZSBtb2RlID0geyB9OwogCiAJRkFJTF9PTigh
ZHJtX21vZGVfcGFyc2VfY29tbWFuZF9saW5lX2Zvcl9jb25uZWN0b3IoIjcyMHg0ODAtMjRANjBp
IiwKLQkJCQkJCQkgICAmY29ubmVjdG9yLAorCQkJCQkJCSAgICZub19jb25uZWN0b3IsCiAJCQkJ
CQkJICAgJm1vZGUpKTsKIAlGQUlMX09OKCFtb2RlLnNwZWNpZmllZCk7CiAJRkFJTF9PTihtb2Rl
LnhyZXMgIT0gNzIwKTsKQEAgLTI5NSwxMSArMjgzLDEwIEBAIHN0YXRpYyBpbnQgZHJtX2NtZGxp
bmVfdGVzdF9yZXNfYnBwX3JlZnJlc2hfaW50ZXJsYWNlZCh2b2lkICppZ25vcmVkKQogCiBzdGF0
aWMgaW50IGRybV9jbWRsaW5lX3Rlc3RfcmVzX2JwcF9yZWZyZXNoX21hcmdpbnModm9pZCAqaWdu
b3JlZCkKIHsKLQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciBjb25uZWN0b3IgPSB7IH07CiAJc3RydWN0
IGRybV9jbWRsaW5lX21vZGUgbW9kZSA9IHsgfTsKIAogCUZBSUxfT04oIWRybV9tb2RlX3BhcnNl
X2NvbW1hbmRfbGluZV9mb3JfY29ubmVjdG9yKCI3MjB4NDgwLTI0QDYwbSIsCi0JCQkJCQkJICAg
JmNvbm5lY3RvciwKKwkJCQkJCQkgICAmbm9fY29ubmVjdG9yLAogCQkJCQkJCSAgICZtb2RlKSk7
CiAJRkFJTF9PTighbW9kZS5zcGVjaWZpZWQpOwogCUZBSUxfT04obW9kZS54cmVzICE9IDcyMCk7
CkBAIC0zMjIsMTEgKzMwOSwxMCBAQCBzdGF0aWMgaW50IGRybV9jbWRsaW5lX3Rlc3RfcmVzX2Jw
cF9yZWZyZXNoX21hcmdpbnModm9pZCAqaWdub3JlZCkKIAogc3RhdGljIGludCBkcm1fY21kbGlu
ZV90ZXN0X3Jlc19icHBfcmVmcmVzaF9mb3JjZV9vZmYodm9pZCAqaWdub3JlZCkKIHsKLQlzdHJ1
Y3QgZHJtX2Nvbm5lY3RvciBjb25uZWN0b3IgPSB7IH07CiAJc3RydWN0IGRybV9jbWRsaW5lX21v
ZGUgbW9kZSA9IHsgfTsKIAogCUZBSUxfT04oIWRybV9tb2RlX3BhcnNlX2NvbW1hbmRfbGluZV9m
b3JfY29ubmVjdG9yKCI3MjB4NDgwLTI0QDYwZCIsCi0JCQkJCQkJICAgJmNvbm5lY3RvciwKKwkJ
CQkJCQkgICAmbm9fY29ubmVjdG9yLAogCQkJCQkJCSAgICZtb2RlKSk7CiAJRkFJTF9PTighbW9k
ZS5zcGVjaWZpZWQpOwogCUZBSUxfT04obW9kZS54cmVzICE9IDcyMCk7CkBAIC0zNDksMTEgKzMz
NSwxMCBAQCBzdGF0aWMgaW50IGRybV9jbWRsaW5lX3Rlc3RfcmVzX2JwcF9yZWZyZXNoX2ZvcmNl
X29mZih2b2lkICppZ25vcmVkKQogCiBzdGF0aWMgaW50IGRybV9jbWRsaW5lX3Rlc3RfcmVzX2Jw
cF9yZWZyZXNoX2ZvcmNlX29uX29mZih2b2lkICppZ25vcmVkKQogewotCXN0cnVjdCBkcm1fY29u
bmVjdG9yIGNvbm5lY3RvciA9IHsgfTsKIAlzdHJ1Y3QgZHJtX2NtZGxpbmVfbW9kZSBtb2RlID0g
eyB9OwogCiAJRkFJTF9PTihkcm1fbW9kZV9wYXJzZV9jb21tYW5kX2xpbmVfZm9yX2Nvbm5lY3Rv
cigiNzIweDQ4MC0yNEA2MGRlIiwKLQkJCQkJCQkgICZjb25uZWN0b3IsCisJCQkJCQkJICAmbm9f
Y29ubmVjdG9yLAogCQkJCQkJCSAgJm1vZGUpKTsKIAogCXJldHVybiAwOwpAQCAtMzYxLDExICsz
NDYsMTAgQEAgc3RhdGljIGludCBkcm1fY21kbGluZV90ZXN0X3Jlc19icHBfcmVmcmVzaF9mb3Jj
ZV9vbl9vZmYodm9pZCAqaWdub3JlZCkKIAogc3RhdGljIGludCBkcm1fY21kbGluZV90ZXN0X3Jl
c19icHBfcmVmcmVzaF9mb3JjZV9vbih2b2lkICppZ25vcmVkKQogewotCXN0cnVjdCBkcm1fY29u
bmVjdG9yIGNvbm5lY3RvciA9IHsgfTsKIAlzdHJ1Y3QgZHJtX2NtZGxpbmVfbW9kZSBtb2RlID0g
eyB9OwogCiAJRkFJTF9PTighZHJtX21vZGVfcGFyc2VfY29tbWFuZF9saW5lX2Zvcl9jb25uZWN0
b3IoIjcyMHg0ODAtMjRANjBlIiwKLQkJCQkJCQkgICAmY29ubmVjdG9yLAorCQkJCQkJCSAgICZu
b19jb25uZWN0b3IsCiAJCQkJCQkJICAgJm1vZGUpKTsKIAlGQUlMX09OKCFtb2RlLnNwZWNpZmll
ZCk7CiAJRkFJTF9PTihtb2RlLnhyZXMgIT0gNzIwKTsKQEAgLTM4OCwxMSArMzcyLDEwIEBAIHN0
YXRpYyBpbnQgZHJtX2NtZGxpbmVfdGVzdF9yZXNfYnBwX3JlZnJlc2hfZm9yY2Vfb24odm9pZCAq
aWdub3JlZCkKIAogc3RhdGljIGludCBkcm1fY21kbGluZV90ZXN0X3Jlc19icHBfcmVmcmVzaF9m
b3JjZV9vbl9hbmFsb2codm9pZCAqaWdub3JlZCkKIHsKLQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciBj
b25uZWN0b3IgPSB7IH07CiAJc3RydWN0IGRybV9jbWRsaW5lX21vZGUgbW9kZSA9IHsgfTsKIAog
CUZBSUxfT04oIWRybV9tb2RlX3BhcnNlX2NvbW1hbmRfbGluZV9mb3JfY29ubmVjdG9yKCI3MjB4
NDgwLTI0QDYwRCIsCi0JCQkJCQkJICAgJmNvbm5lY3RvciwKKwkJCQkJCQkgICAmbm9fY29ubmVj
dG9yLAogCQkJCQkJCSAgICZtb2RlKSk7CiAJRkFJTF9PTighbW9kZS5zcGVjaWZpZWQpOwogCUZB
SUxfT04obW9kZS54cmVzICE9IDcyMCk7CkBAIC00MTUsMTAgKzM5OCwxMSBAQCBzdGF0aWMgaW50
IGRybV9jbWRsaW5lX3Rlc3RfcmVzX2JwcF9yZWZyZXNoX2ZvcmNlX29uX2FuYWxvZyh2b2lkICpp
Z25vcmVkKQogCiBzdGF0aWMgaW50IGRybV9jbWRsaW5lX3Rlc3RfcmVzX2JwcF9yZWZyZXNoX2Zv
cmNlX29uX2RpZ2l0YWwodm9pZCAqaWdub3JlZCkKIHsKLQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciBj
b25uZWN0b3IgPSB7IH07CiAJc3RydWN0IGRybV9jbWRsaW5lX21vZGUgbW9kZSA9IHsgfTsKKwlz
dGF0aWMgY29uc3Qgc3RydWN0IGRybV9jb25uZWN0b3IgY29ubmVjdG9yID0geworCQkuY29ubmVj
dG9yX3R5cGUgPSBEUk1fTU9ERV9DT05ORUNUT1JfRFZJSSwKKwl9OwogCi0JY29ubmVjdG9yLmNv
bm5lY3Rvcl90eXBlID0gRFJNX01PREVfQ09OTkVDVE9SX0RWSUk7CiAJRkFJTF9PTighZHJtX21v
ZGVfcGFyc2VfY29tbWFuZF9saW5lX2Zvcl9jb25uZWN0b3IoIjcyMHg0ODAtMjRANjBEIiwKIAkJ
CQkJCQkgICAmY29ubmVjdG9yLAogCQkJCQkJCSAgICZtb2RlKSk7CkBAIC00NDMsMTEgKzQyNywx
MCBAQCBzdGF0aWMgaW50IGRybV9jbWRsaW5lX3Rlc3RfcmVzX2JwcF9yZWZyZXNoX2ZvcmNlX29u
X2RpZ2l0YWwodm9pZCAqaWdub3JlZCkKIAogc3RhdGljIGludCBkcm1fY21kbGluZV90ZXN0X3Jl
c19icHBfcmVmcmVzaF9pbnRlcmxhY2VkX21hcmdpbnNfZm9yY2Vfb24odm9pZCAqaWdub3JlZCkK
IHsKLQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciBjb25uZWN0b3IgPSB7IH07CiAJc3RydWN0IGRybV9j
bWRsaW5lX21vZGUgbW9kZSA9IHsgfTsKIAogCUZBSUxfT04oIWRybV9tb2RlX3BhcnNlX2NvbW1h
bmRfbGluZV9mb3JfY29ubmVjdG9yKCI3MjB4NDgwLTI0QDYwaW1lIiwKLQkJCQkJCQkgICAmY29u
bmVjdG9yLAorCQkJCQkJCSAgICZub19jb25uZWN0b3IsCiAJCQkJCQkJICAgJm1vZGUpKTsKIAlG
QUlMX09OKCFtb2RlLnNwZWNpZmllZCk7CiAJRkFJTF9PTihtb2RlLnhyZXMgIT0gNzIwKTsKQEAg
LTQ3MCwxMSArNDUzLDEwIEBAIHN0YXRpYyBpbnQgZHJtX2NtZGxpbmVfdGVzdF9yZXNfYnBwX3Jl
ZnJlc2hfaW50ZXJsYWNlZF9tYXJnaW5zX2ZvcmNlX29uKHZvaWQgKmlnCiAKIHN0YXRpYyBpbnQg
ZHJtX2NtZGxpbmVfdGVzdF9yZXNfbWFyZ2luc19mb3JjZV9vbih2b2lkICppZ25vcmVkKQogewot
CXN0cnVjdCBkcm1fY29ubmVjdG9yIGNvbm5lY3RvciA9IHsgfTsKIAlzdHJ1Y3QgZHJtX2NtZGxp
bmVfbW9kZSBtb2RlID0geyB9OwogCiAJRkFJTF9PTighZHJtX21vZGVfcGFyc2VfY29tbWFuZF9s
aW5lX2Zvcl9jb25uZWN0b3IoIjcyMHg0ODBtZSIsCi0JCQkJCQkJICAgJmNvbm5lY3RvciwKKwkJ
CQkJCQkgICAmbm9fY29ubmVjdG9yLAogCQkJCQkJCSAgICZtb2RlKSk7CiAJRkFJTF9PTighbW9k
ZS5zcGVjaWZpZWQpOwogCUZBSUxfT04obW9kZS54cmVzICE9IDcyMCk7CkBAIC00OTUsMTEgKzQ3
NywxMCBAQCBzdGF0aWMgaW50IGRybV9jbWRsaW5lX3Rlc3RfcmVzX21hcmdpbnNfZm9yY2Vfb24o
dm9pZCAqaWdub3JlZCkKIAogc3RhdGljIGludCBkcm1fY21kbGluZV90ZXN0X3Jlc192ZXNhX21h
cmdpbnModm9pZCAqaWdub3JlZCkKIHsKLQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciBjb25uZWN0b3Ig
PSB7IH07CiAJc3RydWN0IGRybV9jbWRsaW5lX21vZGUgbW9kZSA9IHsgfTsKIAogCUZBSUxfT04o
IWRybV9tb2RlX3BhcnNlX2NvbW1hbmRfbGluZV9mb3JfY29ubmVjdG9yKCI3MjB4NDgwTW0iLAot
CQkJCQkJCSAgICZjb25uZWN0b3IsCisJCQkJCQkJICAgJm5vX2Nvbm5lY3RvciwKIAkJCQkJCQkg
ICAmbW9kZSkpOwogCUZBSUxfT04oIW1vZGUuc3BlY2lmaWVkKTsKIAlGQUlMX09OKG1vZGUueHJl
cyAhPSA3MjApOwpAQCAtNTIwLDExICs1MDEsMTAgQEAgc3RhdGljIGludCBkcm1fY21kbGluZV90
ZXN0X3Jlc192ZXNhX21hcmdpbnModm9pZCAqaWdub3JlZCkKIAogc3RhdGljIGludCBkcm1fY21k
bGluZV90ZXN0X3Jlc19pbnZhbGlkX21vZGUodm9pZCAqaWdub3JlZCkKIHsKLQlzdHJ1Y3QgZHJt
X2Nvbm5lY3RvciBjb25uZWN0b3IgPSB7IH07CiAJc3RydWN0IGRybV9jbWRsaW5lX21vZGUgbW9k
ZSA9IHsgfTsKIAogCUZBSUxfT04oZHJtX21vZGVfcGFyc2VfY29tbWFuZF9saW5lX2Zvcl9jb25u
ZWN0b3IoIjcyMHg0ODBmIiwKLQkJCQkJCQkgICZjb25uZWN0b3IsCisJCQkJCQkJICAmbm9fY29u
bmVjdG9yLAogCQkJCQkJCSAgJm1vZGUpKTsKIAogCXJldHVybiAwOwpAQCAtNTMyLDExICs1MTIs
MTAgQEAgc3RhdGljIGludCBkcm1fY21kbGluZV90ZXN0X3Jlc19pbnZhbGlkX21vZGUodm9pZCAq
aWdub3JlZCkKIAogc3RhdGljIGludCBkcm1fY21kbGluZV90ZXN0X3Jlc19icHBfd3JvbmdfcGxh
Y2VfbW9kZSh2b2lkICppZ25vcmVkKQogewotCXN0cnVjdCBkcm1fY29ubmVjdG9yIGNvbm5lY3Rv
ciA9IHsgfTsKIAlzdHJ1Y3QgZHJtX2NtZGxpbmVfbW9kZSBtb2RlID0geyB9OwogCiAJRkFJTF9P
Tihkcm1fbW9kZV9wYXJzZV9jb21tYW5kX2xpbmVfZm9yX2Nvbm5lY3RvcigiNzIweDQ4MGUtMjQi
LAotCQkJCQkJCSAgJmNvbm5lY3RvciwKKwkJCQkJCQkgICZub19jb25uZWN0b3IsCiAJCQkJCQkJ
ICAmbW9kZSkpOwogCiAJcmV0dXJuIDA7CkBAIC01NDQsMTEgKzUyMywxMCBAQCBzdGF0aWMgaW50
IGRybV9jbWRsaW5lX3Rlc3RfcmVzX2JwcF93cm9uZ19wbGFjZV9tb2RlKHZvaWQgKmlnbm9yZWQp
CiAKIHN0YXRpYyBpbnQgZHJtX2NtZGxpbmVfdGVzdF9uYW1lKHZvaWQgKmlnbm9yZWQpCiB7Ci0J
c3RydWN0IGRybV9jb25uZWN0b3IgY29ubmVjdG9yID0geyB9OwogCXN0cnVjdCBkcm1fY21kbGlu
ZV9tb2RlIG1vZGUgPSB7IH07CiAKIAlGQUlMX09OKCFkcm1fbW9kZV9wYXJzZV9jb21tYW5kX2xp
bmVfZm9yX2Nvbm5lY3RvcigiTlRTQyIsCi0JCQkJCQkJICAgJmNvbm5lY3RvciwKKwkJCQkJCQkg
ICAmbm9fY29ubmVjdG9yLAogCQkJCQkJCSAgICZtb2RlKSk7CiAJRkFJTF9PTihzdHJjbXAobW9k
ZS5uYW1lLCAiTlRTQyIpKTsKIAlGQUlMX09OKG1vZGUucmVmcmVzaF9zcGVjaWZpZWQpOwpAQCAt
NTU5LDExICs1MzcsMTAgQEAgc3RhdGljIGludCBkcm1fY21kbGluZV90ZXN0X25hbWUodm9pZCAq
aWdub3JlZCkKIAogc3RhdGljIGludCBkcm1fY21kbGluZV90ZXN0X25hbWVfYnBwKHZvaWQgKmln
bm9yZWQpCiB7Ci0Jc3RydWN0IGRybV9jb25uZWN0b3IgY29ubmVjdG9yID0geyB9OwogCXN0cnVj
dCBkcm1fY21kbGluZV9tb2RlIG1vZGUgPSB7IH07CiAKIAlGQUlMX09OKCFkcm1fbW9kZV9wYXJz
ZV9jb21tYW5kX2xpbmVfZm9yX2Nvbm5lY3RvcigiTlRTQy0yNCIsCi0JCQkJCQkJICAgJmNvbm5l
Y3RvciwKKwkJCQkJCQkgICAmbm9fY29ubmVjdG9yLAogCQkJCQkJCSAgICZtb2RlKSk7CiAJRkFJ
TF9PTihzdHJjbXAobW9kZS5uYW1lLCAiTlRTQyIpKTsKIApAQCAtNTc3LDExICs1NTQsMTAgQEAg
c3RhdGljIGludCBkcm1fY21kbGluZV90ZXN0X25hbWVfYnBwKHZvaWQgKmlnbm9yZWQpCiAKIHN0
YXRpYyBpbnQgZHJtX2NtZGxpbmVfdGVzdF9uYW1lX2JwcF9yZWZyZXNoKHZvaWQgKmlnbm9yZWQp
CiB7Ci0Jc3RydWN0IGRybV9jb25uZWN0b3IgY29ubmVjdG9yID0geyB9OwogCXN0cnVjdCBkcm1f
Y21kbGluZV9tb2RlIG1vZGUgPSB7IH07CiAKIAlGQUlMX09OKGRybV9tb2RlX3BhcnNlX2NvbW1h
bmRfbGluZV9mb3JfY29ubmVjdG9yKCJOVFNDLTI0QDYwIiwKLQkJCQkJCQkgICZjb25uZWN0b3Is
CisJCQkJCQkJICAmbm9fY29ubmVjdG9yLAogCQkJCQkJCSAgJm1vZGUpKTsKIAogCXJldHVybiAw
OwpAQCAtNTg5LDExICs1NjUsMTAgQEAgc3RhdGljIGludCBkcm1fY21kbGluZV90ZXN0X25hbWVf
YnBwX3JlZnJlc2godm9pZCAqaWdub3JlZCkKIAogc3RhdGljIGludCBkcm1fY21kbGluZV90ZXN0
X25hbWVfcmVmcmVzaCh2b2lkICppZ25vcmVkKQogewotCXN0cnVjdCBkcm1fY29ubmVjdG9yIGNv
bm5lY3RvciA9IHsgfTsKIAlzdHJ1Y3QgZHJtX2NtZGxpbmVfbW9kZSBtb2RlID0geyB9OwogCiAJ
RkFJTF9PTihkcm1fbW9kZV9wYXJzZV9jb21tYW5kX2xpbmVfZm9yX2Nvbm5lY3RvcigiTlRTQ0A2
MCIsCi0JCQkJCQkJICAmY29ubmVjdG9yLAorCQkJCQkJCSAgJm5vX2Nvbm5lY3RvciwKIAkJCQkJ
CQkgICZtb2RlKSk7CiAKIAlyZXR1cm4gMDsKQEAgLTYwMSwxMSArNTc2LDEwIEBAIHN0YXRpYyBp
bnQgZHJtX2NtZGxpbmVfdGVzdF9uYW1lX3JlZnJlc2godm9pZCAqaWdub3JlZCkKIAogc3RhdGlj
IGludCBkcm1fY21kbGluZV90ZXN0X25hbWVfcmVmcmVzaF93cm9uZ19tb2RlKHZvaWQgKmlnbm9y
ZWQpCiB7Ci0Jc3RydWN0IGRybV9jb25uZWN0b3IgY29ubmVjdG9yID0geyB9OwogCXN0cnVjdCBk
cm1fY21kbGluZV9tb2RlIG1vZGUgPSB7IH07CiAKIAlGQUlMX09OKGRybV9tb2RlX3BhcnNlX2Nv
bW1hbmRfbGluZV9mb3JfY29ubmVjdG9yKCJOVFNDQDYwbSIsCi0JCQkJCQkJICAmY29ubmVjdG9y
LAorCQkJCQkJCSAgJm5vX2Nvbm5lY3RvciwKIAkJCQkJCQkgICZtb2RlKSk7CiAKIAlyZXR1cm4g
MDsKQEAgLTYxMywxMSArNTg3LDEwIEBAIHN0YXRpYyBpbnQgZHJtX2NtZGxpbmVfdGVzdF9uYW1l
X3JlZnJlc2hfd3JvbmdfbW9kZSh2b2lkICppZ25vcmVkKQogCiBzdGF0aWMgaW50IGRybV9jbWRs
aW5lX3Rlc3RfbmFtZV9yZWZyZXNoX2ludmFsaWRfbW9kZSh2b2lkICppZ25vcmVkKQogewotCXN0
cnVjdCBkcm1fY29ubmVjdG9yIGNvbm5lY3RvciA9IHsgfTsKIAlzdHJ1Y3QgZHJtX2NtZGxpbmVf
bW9kZSBtb2RlID0geyB9OwogCiAJRkFJTF9PTihkcm1fbW9kZV9wYXJzZV9jb21tYW5kX2xpbmVf
Zm9yX2Nvbm5lY3RvcigiTlRTQ0A2MGYiLAotCQkJCQkJCSAgJmNvbm5lY3RvciwKKwkJCQkJCQkg
ICZub19jb25uZWN0b3IsCiAJCQkJCQkJICAmbW9kZSkpOwogCiAJcmV0dXJuIDA7CkBAIC02MjUs
MTEgKzU5OCwxMCBAQCBzdGF0aWMgaW50IGRybV9jbWRsaW5lX3Rlc3RfbmFtZV9yZWZyZXNoX2lu
dmFsaWRfbW9kZSh2b2lkICppZ25vcmVkKQogCiBzdGF0aWMgaW50IGRybV9jbWRsaW5lX3Rlc3Rf
bmFtZV9vcHRpb24odm9pZCAqaWdub3JlZCkKIHsKLQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciBjb25u
ZWN0b3IgPSB7IH07CiAJc3RydWN0IGRybV9jbWRsaW5lX21vZGUgbW9kZSA9IHsgfTsKIAogCUZB
SUxfT04oIWRybV9tb2RlX3BhcnNlX2NvbW1hbmRfbGluZV9mb3JfY29ubmVjdG9yKCJOVFNDLHJv
dGF0ZT0xODAiLAotCQkJCQkJCSAgICZjb25uZWN0b3IsCisJCQkJCQkJICAgJm5vX2Nvbm5lY3Rv
ciwKIAkJCQkJCQkgICAmbW9kZSkpOwogCUZBSUxfT04oIW1vZGUuc3BlY2lmaWVkKTsKIAlGQUlM
X09OKHN0cmNtcChtb2RlLm5hbWUsICJOVFNDIikpOwpAQCAtNjQwLDExICs2MTIsMTAgQEAgc3Rh
dGljIGludCBkcm1fY21kbGluZV90ZXN0X25hbWVfb3B0aW9uKHZvaWQgKmlnbm9yZWQpCiAKIHN0
YXRpYyBpbnQgZHJtX2NtZGxpbmVfdGVzdF9uYW1lX2JwcF9vcHRpb24odm9pZCAqaWdub3JlZCkK
IHsKLQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciBjb25uZWN0b3IgPSB7IH07CiAJc3RydWN0IGRybV9j
bWRsaW5lX21vZGUgbW9kZSA9IHsgfTsKIAogCUZBSUxfT04oIWRybV9tb2RlX3BhcnNlX2NvbW1h
bmRfbGluZV9mb3JfY29ubmVjdG9yKCJOVFNDLTI0LHJvdGF0ZT0xODAiLAotCQkJCQkJCSAgICZj
b25uZWN0b3IsCisJCQkJCQkJICAgJm5vX2Nvbm5lY3RvciwKIAkJCQkJCQkgICAmbW9kZSkpOwog
CUZBSUxfT04oIW1vZGUuc3BlY2lmaWVkKTsKIAlGQUlMX09OKHN0cmNtcChtb2RlLm5hbWUsICJO
VFNDIikpOwpAQCAtNjU3LDExICs2MjgsMTAgQEAgc3RhdGljIGludCBkcm1fY21kbGluZV90ZXN0
X25hbWVfYnBwX29wdGlvbih2b2lkICppZ25vcmVkKQogCiBzdGF0aWMgaW50IGRybV9jbWRsaW5l
X3Rlc3Rfcm90YXRlXzAodm9pZCAqaWdub3JlZCkKIHsKLQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciBj
b25uZWN0b3IgPSB7IH07CiAJc3RydWN0IGRybV9jbWRsaW5lX21vZGUgbW9kZSA9IHsgfTsKIAog
CUZBSUxfT04oIWRybV9tb2RlX3BhcnNlX2NvbW1hbmRfbGluZV9mb3JfY29ubmVjdG9yKCI3MjB4
NDgwLHJvdGF0ZT0wIiwKLQkJCQkJCQkgICAmY29ubmVjdG9yLAorCQkJCQkJCSAgICZub19jb25u
ZWN0b3IsCiAJCQkJCQkJICAgJm1vZGUpKTsKIAlGQUlMX09OKCFtb2RlLnNwZWNpZmllZCk7CiAJ
RkFJTF9PTihtb2RlLnhyZXMgIT0gNzIwKTsKQEAgLTY4MywxMSArNjUzLDEwIEBAIHN0YXRpYyBp
bnQgZHJtX2NtZGxpbmVfdGVzdF9yb3RhdGVfMCh2b2lkICppZ25vcmVkKQogCiBzdGF0aWMgaW50
IGRybV9jbWRsaW5lX3Rlc3Rfcm90YXRlXzkwKHZvaWQgKmlnbm9yZWQpCiB7Ci0Jc3RydWN0IGRy
bV9jb25uZWN0b3IgY29ubmVjdG9yID0geyB9OwogCXN0cnVjdCBkcm1fY21kbGluZV9tb2RlIG1v
ZGUgPSB7IH07CiAKIAlGQUlMX09OKCFkcm1fbW9kZV9wYXJzZV9jb21tYW5kX2xpbmVfZm9yX2Nv
bm5lY3RvcigiNzIweDQ4MCxyb3RhdGU9OTAiLAotCQkJCQkJCSAgICZjb25uZWN0b3IsCisJCQkJ
CQkJICAgJm5vX2Nvbm5lY3RvciwKIAkJCQkJCQkgICAmbW9kZSkpOwogCUZBSUxfT04oIW1vZGUu
c3BlY2lmaWVkKTsKIAlGQUlMX09OKG1vZGUueHJlcyAhPSA3MjApOwpAQCAtNzA5LDExICs2Nzgs
MTAgQEAgc3RhdGljIGludCBkcm1fY21kbGluZV90ZXN0X3JvdGF0ZV85MCh2b2lkICppZ25vcmVk
KQogCiBzdGF0aWMgaW50IGRybV9jbWRsaW5lX3Rlc3Rfcm90YXRlXzE4MCh2b2lkICppZ25vcmVk
KQogewotCXN0cnVjdCBkcm1fY29ubmVjdG9yIGNvbm5lY3RvciA9IHsgfTsKIAlzdHJ1Y3QgZHJt
X2NtZGxpbmVfbW9kZSBtb2RlID0geyB9OwogCiAJRkFJTF9PTighZHJtX21vZGVfcGFyc2VfY29t
bWFuZF9saW5lX2Zvcl9jb25uZWN0b3IoIjcyMHg0ODAscm90YXRlPTE4MCIsCi0JCQkJCQkJICAg
JmNvbm5lY3RvciwKKwkJCQkJCQkgICAmbm9fY29ubmVjdG9yLAogCQkJCQkJCSAgICZtb2RlKSk7
CiAJRkFJTF9PTighbW9kZS5zcGVjaWZpZWQpOwogCUZBSUxfT04obW9kZS54cmVzICE9IDcyMCk7
CkBAIC03MzUsMTEgKzcwMywxMCBAQCBzdGF0aWMgaW50IGRybV9jbWRsaW5lX3Rlc3Rfcm90YXRl
XzE4MCh2b2lkICppZ25vcmVkKQogCiBzdGF0aWMgaW50IGRybV9jbWRsaW5lX3Rlc3Rfcm90YXRl
XzI3MCh2b2lkICppZ25vcmVkKQogewotCXN0cnVjdCBkcm1fY29ubmVjdG9yIGNvbm5lY3RvciA9
IHsgfTsKIAlzdHJ1Y3QgZHJtX2NtZGxpbmVfbW9kZSBtb2RlID0geyB9OwogCiAJRkFJTF9PTigh
ZHJtX21vZGVfcGFyc2VfY29tbWFuZF9saW5lX2Zvcl9jb25uZWN0b3IoIjcyMHg0ODAscm90YXRl
PTI3MCIsCi0JCQkJCQkJICAgJmNvbm5lY3RvciwKKwkJCQkJCQkgICAmbm9fY29ubmVjdG9yLAog
CQkJCQkJCSAgICZtb2RlKSk7CiAJRkFJTF9PTighbW9kZS5zcGVjaWZpZWQpOwogCUZBSUxfT04o
bW9kZS54cmVzICE9IDcyMCk7CkBAIC03NjEsMTEgKzcyOCwxMCBAQCBzdGF0aWMgaW50IGRybV9j
bWRsaW5lX3Rlc3Rfcm90YXRlXzI3MCh2b2lkICppZ25vcmVkKQogCiBzdGF0aWMgaW50IGRybV9j
bWRsaW5lX3Rlc3Rfcm90YXRlX2ludmFsaWRfdmFsKHZvaWQgKmlnbm9yZWQpCiB7Ci0Jc3RydWN0
IGRybV9jb25uZWN0b3IgY29ubmVjdG9yID0geyB9OwogCXN0cnVjdCBkcm1fY21kbGluZV9tb2Rl
IG1vZGUgPSB7IH07CiAKIAlGQUlMX09OKGRybV9tb2RlX3BhcnNlX2NvbW1hbmRfbGluZV9mb3Jf
Y29ubmVjdG9yKCI3MjB4NDgwLHJvdGF0ZT00MiIsCi0JCQkJCQkJICAmY29ubmVjdG9yLAorCQkJ
CQkJCSAgJm5vX2Nvbm5lY3RvciwKIAkJCQkJCQkgICZtb2RlKSk7CiAKIAlyZXR1cm4gMDsKQEAg
LTc3MywxMSArNzM5LDEwIEBAIHN0YXRpYyBpbnQgZHJtX2NtZGxpbmVfdGVzdF9yb3RhdGVfaW52
YWxpZF92YWwodm9pZCAqaWdub3JlZCkKIAogc3RhdGljIGludCBkcm1fY21kbGluZV90ZXN0X3Jv
dGF0ZV90cnVuY2F0ZWQodm9pZCAqaWdub3JlZCkKIHsKLQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciBj
b25uZWN0b3IgPSB7IH07CiAJc3RydWN0IGRybV9jbWRsaW5lX21vZGUgbW9kZSA9IHsgfTsKIAog
CUZBSUxfT04oZHJtX21vZGVfcGFyc2VfY29tbWFuZF9saW5lX2Zvcl9jb25uZWN0b3IoIjcyMHg0
ODAscm90YXRlPSIsCi0JCQkJCQkJICAmY29ubmVjdG9yLAorCQkJCQkJCSAgJm5vX2Nvbm5lY3Rv
ciwKIAkJCQkJCQkgICZtb2RlKSk7CiAKIAlyZXR1cm4gMDsKQEAgLTc4NSwxMSArNzUwLDEwIEBA
IHN0YXRpYyBpbnQgZHJtX2NtZGxpbmVfdGVzdF9yb3RhdGVfdHJ1bmNhdGVkKHZvaWQgKmlnbm9y
ZWQpCiAKIHN0YXRpYyBpbnQgZHJtX2NtZGxpbmVfdGVzdF9obWlycm9yKHZvaWQgKmlnbm9yZWQp
CiB7Ci0Jc3RydWN0IGRybV9jb25uZWN0b3IgY29ubmVjdG9yID0geyB9OwogCXN0cnVjdCBkcm1f
Y21kbGluZV9tb2RlIG1vZGUgPSB7IH07CiAKIAlGQUlMX09OKCFkcm1fbW9kZV9wYXJzZV9jb21t
YW5kX2xpbmVfZm9yX2Nvbm5lY3RvcigiNzIweDQ4MCxyZWZsZWN0X3giLAotCQkJCQkJCSAgICZj
b25uZWN0b3IsCisJCQkJCQkJICAgJm5vX2Nvbm5lY3RvciwKIAkJCQkJCQkgICAmbW9kZSkpOwog
CUZBSUxfT04oIW1vZGUuc3BlY2lmaWVkKTsKIAlGQUlMX09OKG1vZGUueHJlcyAhPSA3MjApOwpA
QCAtODExLDExICs3NzUsMTAgQEAgc3RhdGljIGludCBkcm1fY21kbGluZV90ZXN0X2htaXJyb3Io
dm9pZCAqaWdub3JlZCkKIAogc3RhdGljIGludCBkcm1fY21kbGluZV90ZXN0X3ZtaXJyb3Iodm9p
ZCAqaWdub3JlZCkKIHsKLQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciBjb25uZWN0b3IgPSB7IH07CiAJ
c3RydWN0IGRybV9jbWRsaW5lX21vZGUgbW9kZSA9IHsgfTsKIAogCUZBSUxfT04oIWRybV9tb2Rl
X3BhcnNlX2NvbW1hbmRfbGluZV9mb3JfY29ubmVjdG9yKCI3MjB4NDgwLHJlZmxlY3RfeSIsCi0J
CQkJCQkJICAgJmNvbm5lY3RvciwKKwkJCQkJCQkgICAmbm9fY29ubmVjdG9yLAogCQkJCQkJCSAg
ICZtb2RlKSk7CiAJRkFJTF9PTighbW9kZS5zcGVjaWZpZWQpOwogCUZBSUxfT04obW9kZS54cmVz
ICE9IDcyMCk7CkBAIC04MzcsMTEgKzgwMCwxMCBAQCBzdGF0aWMgaW50IGRybV9jbWRsaW5lX3Rl
c3Rfdm1pcnJvcih2b2lkICppZ25vcmVkKQogCiBzdGF0aWMgaW50IGRybV9jbWRsaW5lX3Rlc3Rf
bWFyZ2luX29wdGlvbnModm9pZCAqaWdub3JlZCkKIHsKLQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciBj
b25uZWN0b3IgPSB7IH07CiAJc3RydWN0IGRybV9jbWRsaW5lX21vZGUgbW9kZSA9IHsgfTsKIAog
CUZBSUxfT04oIWRybV9tb2RlX3BhcnNlX2NvbW1hbmRfbGluZV9mb3JfY29ubmVjdG9yKCI3MjB4
NDgwLG1hcmdpbl9yaWdodD0xNCxtYXJnaW5fbGVmdD0yNCxtYXJnaW5fYm90dG9tPTM2LG1hcmdp
bl90b3A9NDIiLAotCQkJCQkJCSAgICZjb25uZWN0b3IsCisJCQkJCQkJICAgJm5vX2Nvbm5lY3Rv
ciwKIAkJCQkJCQkgICAmbW9kZSkpOwogCUZBSUxfT04oIW1vZGUuc3BlY2lmaWVkKTsKIAlGQUlM
X09OKG1vZGUueHJlcyAhPSA3MjApOwpAQCAtODY2LDExICs4MjgsMTAgQEAgc3RhdGljIGludCBk
cm1fY21kbGluZV90ZXN0X21hcmdpbl9vcHRpb25zKHZvaWQgKmlnbm9yZWQpCiAKIHN0YXRpYyBp
bnQgZHJtX2NtZGxpbmVfdGVzdF9tdWx0aXBsZV9vcHRpb25zKHZvaWQgKmlnbm9yZWQpCiB7Ci0J
c3RydWN0IGRybV9jb25uZWN0b3IgY29ubmVjdG9yID0geyB9OwogCXN0cnVjdCBkcm1fY21kbGlu
ZV9tb2RlIG1vZGUgPSB7IH07CiAKIAlGQUlMX09OKCFkcm1fbW9kZV9wYXJzZV9jb21tYW5kX2xp
bmVfZm9yX2Nvbm5lY3RvcigiNzIweDQ4MCxyb3RhdGU9MjcwLHJlZmxlY3RfeCIsCi0JCQkJCQkJ
ICAgJmNvbm5lY3RvciwKKwkJCQkJCQkgICAmbm9fY29ubmVjdG9yLAogCQkJCQkJCSAgICZtb2Rl
KSk7CiAJRkFJTF9PTighbW9kZS5zcGVjaWZpZWQpOwogCUZBSUxfT04obW9kZS54cmVzICE9IDcy
MCk7CkBAIC04OTIsMTEgKzg1MywxMCBAQCBzdGF0aWMgaW50IGRybV9jbWRsaW5lX3Rlc3RfbXVs
dGlwbGVfb3B0aW9ucyh2b2lkICppZ25vcmVkKQogCiBzdGF0aWMgaW50IGRybV9jbWRsaW5lX3Rl
c3RfaW52YWxpZF9vcHRpb24odm9pZCAqaWdub3JlZCkKIHsKLQlzdHJ1Y3QgZHJtX2Nvbm5lY3Rv
ciBjb25uZWN0b3IgPSB7IH07CiAJc3RydWN0IGRybV9jbWRsaW5lX21vZGUgbW9kZSA9IHsgfTsK
IAogCUZBSUxfT04oZHJtX21vZGVfcGFyc2VfY29tbWFuZF9saW5lX2Zvcl9jb25uZWN0b3IoIjcy
MHg0ODAsdGVzdD00MiIsCi0JCQkJCQkJICAmY29ubmVjdG9yLAorCQkJCQkJCSAgJm5vX2Nvbm5l
Y3RvciwKIAkJCQkJCQkgICZtb2RlKSk7CiAKIAlyZXR1cm4gMDsKZGlmZiAtLWdpdCBhL2luY2x1
ZGUvZHJtL2RybV9tb2Rlcy5oIGIvaW5jbHVkZS9kcm0vZHJtX21vZGVzLmgKaW5kZXggMDgzZjE2
NzQ3MzY5Li5lOTQ2ZTIwYzYxZDggMTAwNjQ0Ci0tLSBhL2luY2x1ZGUvZHJtL2RybV9tb2Rlcy5o
CisrKyBiL2luY2x1ZGUvZHJtL2RybV9tb2Rlcy5oCkBAIC01MzcsNyArNTM3LDcgQEAgdm9pZCBk
cm1fY29ubmVjdG9yX2xpc3RfdXBkYXRlKHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3Ip
OwogLyogcGFyc2luZyBjbWRsaW5lIG1vZGVzICovCiBib29sCiBkcm1fbW9kZV9wYXJzZV9jb21t
YW5kX2xpbmVfZm9yX2Nvbm5lY3Rvcihjb25zdCBjaGFyICptb2RlX29wdGlvbiwKLQkJCQkJICBz
dHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yLAorCQkJCQkgIGNvbnN0IHN0cnVjdCBkcm1f
Y29ubmVjdG9yICpjb25uZWN0b3IsCiAJCQkJCSAgc3RydWN0IGRybV9jbWRsaW5lX21vZGUgKm1v
ZGUpOwogc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKgogZHJtX21vZGVfY3JlYXRlX2Zyb21fY21k
bGluZV9tb2RlKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCi0tIAoyLjIwLjAKCl9fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxp
c3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNr
dG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
