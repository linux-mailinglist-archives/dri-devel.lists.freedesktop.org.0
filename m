Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 32DADF0E7
	for <lists+dri-devel@lfdr.de>; Tue, 30 Apr 2019 09:09:52 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 29B7D89254;
	Tue, 30 Apr 2019 07:09:49 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from hqemgate14.nvidia.com (hqemgate14.nvidia.com [216.228.121.143])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D43E5892FD
 for <dri-devel@lists.freedesktop.org>; Mon, 29 Apr 2019 17:17:49 +0000 (UTC)
Received: from hqpgpgate101.nvidia.com (Not Verified[216.228.121.13]) by
 hqemgate14.nvidia.com (using TLS: TLSv1.2, DES-CBC3-SHA)
 id <B5cc731c30001>; Mon, 29 Apr 2019 10:17:55 -0700
Received: from hqmail.nvidia.com ([172.20.161.6])
 by hqpgpgate101.nvidia.com (PGP Universal service);
 Mon, 29 Apr 2019 10:17:49 -0700
X-PGP-Universal: processed;
 by hqpgpgate101.nvidia.com on Mon, 29 Apr 2019 10:17:49 -0700
Received: from rcampbell-dev.nvidia.com (172.20.13.39) by HQMAIL101.nvidia.com
 (172.20.187.10) with Microsoft SMTP Server (TLS) id 15.0.1473.3;
 Mon, 29 Apr 2019 17:17:48 +0000
Subject: Re: [PATCH 3/9] mm: Add write-protect and clean utilities for address
 space ranges v3
To: Thomas Hellstrom <thellstrom@vmware.com>, Linux-graphics-maintainer
 <Linux-graphics-maintainer@vmware.com>, "dri-devel@lists.freedesktop.org"
 <dri-devel@lists.freedesktop.org>
References: <20190424115918.3380-4-thellstrom@vmware.com>
 <20190427150023.52756-1-thellstrom@vmware.com>
From: Ralph Campbell <rcampbell@nvidia.com>
Message-ID: <6157cdda-05cc-e1cc-9928-dcf98ef29eb2@nvidia.com>
Date: Mon, 29 Apr 2019 10:17:48 -0700
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.6.0
MIME-Version: 1.0
In-Reply-To: <20190427150023.52756-1-thellstrom@vmware.com>
X-Originating-IP: [172.20.13.39]
X-ClientProxiedBy: HQMAIL103.nvidia.com (172.20.187.11) To
 HQMAIL101.nvidia.com (172.20.187.10)
Content-Language: en-US
X-Mailman-Approved-At: Tue, 30 Apr 2019 07:09:47 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=nvidia.com; s=n1; 
 t=1556558276; bh=LWvVCVi0lSyNy2mHK4cK7KgvOHxSFS0SY1xqRgBIoAw=;
 h=X-PGP-Universal:Subject:To:CC:References:From:Message-ID:Date:
 User-Agent:MIME-Version:In-Reply-To:X-Originating-IP:
 X-ClientProxiedBy:Content-Type:Content-Language:
 Content-Transfer-Encoding;
 b=r00GhsVb2gXEKDEwXGN3pMtmUs+qR2m+euvNVj3yZC0AGZiYnKiLUHk+2tUcVVard
 T6B82VAW5dm+MertxhWlWqhil6TqD2o/Clvcf6XrGQE7lyj2AAJWEpDWCAdjMrTUqE
 6ehtfTr++bn7RljNBA0chUarPwfEvyGaf8ymYmtf4LfcFCnL2hVHczswaEEHECnmMa
 Ig837XT2b/YRh9EwnyBvtsnvNYF21KHw2hqKEP2MItIxIx8FuexvLRA01MAIDKCOhb
 Elwo4Z7Eh519X0Ibm7aEjAybIgNLX8F1bo3Nc6TnAgGi+dM9OU18qQP9HiXbvcHkBv
 e/sAQtvtZp44A==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Michal Hocko <mhocko@suse.com>, Rik van Riel <riel@surriel.com>,
 Pv-drivers <Pv-drivers@vmware.com>, Minchan Kim <minchan@kernel.org>,
 Will Deacon <will.deacon@arm.com>,
 "linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>,
 Matthew Wilcox <willy@infradead.org>,
 "linux-mm@kvack.org" <linux-mm@kvack.org>,
 Peter Zijlstra <peterz@infradead.org>,
 =?UTF-8?B?SsOpcsO0bWUgR2xpc3Nl?= <jglisse@redhat.com>,
 Souptick Joarder <jrdr.linux@gmail.com>, Huang Ying <ying.huang@intel.com>,
 Andrew Morton <akpm@linux-foundation.org>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Tm90ZTogdGhlIHN1YmplY3QgbGluZSBzaG91bGQgYmUgW1BBVENIIHYzIDMvOV0gLi4uIGluc3Rl
YWQgb2YgcHV0dGluZyAKdjMgYXQgdGhlIGVuZCBvZiB0aGUgc3ViamVjdCBsaW5lLgpUaGVyZSBh
cmUgdG9vbHMgdGhhdCBwYXJzZSB0aGUgc3ViamVjdCBsaW5lIGFuZCBleHBlY3QgdGhpcyBjb252
ZW50aW9uLgpTZWUgRG9jdW1lbnRhdGlvbi9wcm9jZXNzL3N1Ym1pdHRpbmctcGF0Y2hlcy5yc3QK
VGhhbmtzLgoKT24gNC8yNy8xOSA4OjAxIEFNLCBUaG9tYXMgSGVsbHN0cm9tIHdyb3RlOgo+IEFk
ZCB0d28gdXRpbGl0aWVzIHRvIGEpIHdyaXRlLXByb3RlY3QgYW5kIGIpIGNsZWFuIGFsbCBwdGVz
IHBvaW50aW5nIGludG8KPiBhIHJhbmdlIG9mIGFuIGFkZHJlc3Mgc3BhY2UuCj4gVGhlIHV0aWxp
dGllcyBhcmUgaW50ZW5kZWQgdG8gYWlkIGluIHRyYWNraW5nIGRpcnR5IHBhZ2VzIChlaXRoZXIK
PiBkcml2ZXItYWxsb2NhdGVkIHN5c3RlbSBtZW1vcnkgb3IgcGNpIGRldmljZSBtZW1vcnkpLgo+
IFRoZSB3cml0ZS1wcm90ZWN0IHV0aWxpdHkgc2hvdWxkIGJlIHVzZWQgaW4gY29uanVuY3Rpb24g
d2l0aAo+IHBhZ2VfbWt3cml0ZSgpIGFuZCBwZm5fbWt3cml0ZSgpIHRvIHRyaWdnZXIgd3JpdGUg
cGFnZS1mYXVsdHMgb24gcGFnZQo+IGFjY2Vzc2VzLiBUeXBpY2FsbHkgb25lIHdvdWxkIHdhbnQg
dG8gdXNlIHRoaXMgb24gc3BhcnNlIGFjY2Vzc2VzIGludG8KPiBsYXJnZSBtZW1vcnkgcmVnaW9u
cy4gVGhlIGNsZWFuIHV0aWxpdHkgc2hvdWxkIGJlIHVzZWQgdG8gdXRpbGl6ZQo+IGhhcmR3YXJl
IGRpcnR5aW5nIGZ1bmN0aW9uYWxpdHkgYW5kIGF2b2lkIHRoZSBvdmVyaGVhZCBvZiBwYWdlLWZh
dWx0cywKPiB0eXBpY2FsbHkgb24gbGFyZ2UgYWNjZXNzZXMgaW50byBzbWFsbCBtZW1vcnkgcmVn
aW9ucy4KPiAKPiBUaGUgYWRkZWQgZmlsZSAiYXNfZGlydHlfaGVscGVycy5jIiBpcyBpbml0aWFs
bHkgbGlzdGVkIGFzIG1haW50YWluZWQgYnkKPiBWTXdhcmUgdW5kZXIgb3VyIERSTSBkcml2ZXIu
IElmIHNvbWVib2R5IHdvdWxkIGxpa2UgaXQgZWxzZXdoZXJlLAo+IHRoYXQncyBvZiBjb3Vyc2Ug
bm8gcHJvYmxlbS4KPiAKPiBOb3RhYmxlIGNoYW5nZXMgc2luY2UgUkZDOgo+IC0gQWRkZWQgY29t
bWVudHMgdG8gaGVscCBhdm9pZCB0aGUgdXNhZ2Ugb2YgdGhlc2UgZnVuY3Rpb24gZm9yIFZNQXMK
PiAgICBpdCdzIG5vdCBpbnRlbmRlZCBmb3IuIFdlIGFsc28gZG8gYWR2aXNvcnkgY2hlY2tzIG9u
IHRoZSB2bV9mbGFncyBhbmQKPiAgICB3YXJuIG9uIGlsbGVnYWwgdXNhZ2UuCj4gLSBQZXJmb3Jt
IHRoZSBwdGUgbW9kaWZpY2F0aW9ucyB0aGUgc2FtZSB3YXkgc29mdGRpcnR5IGRvZXMuCj4gLSBB
ZGQgbW11X25vdGlmaWVyIHJhbmdlIGludmFsaWRhdGlvbiBjYWxscy4KPiAtIEFkZCBhIGNvbmZp
ZyBvcHRpb24gc28gdGhhdCB0aGlzIGNvZGUgaXMgbm90IHVuY29uZGl0aW9uYWxseSBpbmNsdWRl
ZC4KPiAtIFRlbGwgdGhlIG1tdV9nYXRoZXIgY29kZSBhYm91dCBwZW5kaW5nIHRsYiBmbHVzaGVz
Lgo+IAo+IENjOiBBbmRyZXcgTW9ydG9uIDxha3BtQGxpbnV4LWZvdW5kYXRpb24ub3JnPgo+IENj
OiBNYXR0aGV3IFdpbGNveCA8d2lsbHlAaW5mcmFkZWFkLm9yZz4KPiBDYzogV2lsbCBEZWFjb24g
PHdpbGwuZGVhY29uQGFybS5jb20+Cj4gQ2M6IFBldGVyIFppamxzdHJhIDxwZXRlcnpAaW5mcmFk
ZWFkLm9yZz4KPiBDYzogUmlrIHZhbiBSaWVsIDxyaWVsQHN1cnJpZWwuY29tPgo+IENjOiBNaW5j
aGFuIEtpbSA8bWluY2hhbkBrZXJuZWwub3JnPgo+IENjOiBNaWNoYWwgSG9ja28gPG1ob2Nrb0Bz
dXNlLmNvbT4KPiBDYzogSHVhbmcgWWluZyA8eWluZy5odWFuZ0BpbnRlbC5jb20+Cj4gQ2M6IFNv
dXB0aWNrIEpvYXJkZXIgPGpyZHIubGludXhAZ21haWwuY29tPgo+IENjOiAiSsOpcsO0bWUgR2xp
c3NlIiA8amdsaXNzZUByZWRoYXQuY29tPgo+IENjOiBsaW51eC1tbUBrdmFjay5vcmcKPiBDYzog
bGludXgta2VybmVsQHZnZXIua2VybmVsLm9yZwo+IAo+IFNpZ25lZC1vZmYtYnk6IFRob21hcyBI
ZWxsc3Ryb20gPHRoZWxsc3Ryb21Adm13YXJlLmNvbT4KPiBSZXZpZXdlZC1ieTogUmFscGggQ2Ft
cGJlbGwgPHJjYW1wYmVsbEBudmlkaWEuY29tPiAjdjEKPiAtLS0KPiB2MjogRml4IGZvcm1hdHRp
bmcgYW5kIHR5cG9zLgo+ICAgICAgQ2hhbmdlIGZpbGUtbmFtZSBvZiB0aGUgYWRkZWQgZmlsZSwg
YW5kIGRvbid0IGNvbXBpbGUgaXQgdW5sZXNzCj4gICAgICBjb25maWd1cmVkIHRvIGRvIHNvLgo+
IHYzOiBBZGFwdCB0byBuZXcgYXJndW1lbnRzIHRvIHB0ZXBfbW9kaWZ5X3Byb3RfW3N0YXJ0fGNv
bW1pdF0KPiAtLS0KPiAgIE1BSU5UQUlORVJTICAgICAgICAgICB8ICAgMSArCj4gICBpbmNsdWRl
L2xpbnV4L21tLmggICAgfCAgIDkgKy0KPiAgIG1tL0tjb25maWcgICAgICAgICAgICB8ICAgMyAr
Cj4gICBtbS9NYWtlZmlsZSAgICAgICAgICAgfCAgIDEgKwo+ICAgbW0vYXNfZGlydHlfaGVscGVy
cy5jIHwgMjk4ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKwo+ICAg
NSBmaWxlcyBjaGFuZ2VkLCAzMTEgaW5zZXJ0aW9ucygrKSwgMSBkZWxldGlvbigtKQo+ICAgY3Jl
YXRlIG1vZGUgMTAwNjQ0IG1tL2FzX2RpcnR5X2hlbHBlcnMuYwo+IAo+IGRpZmYgLS1naXQgYS9N
QUlOVEFJTkVSUyBiL01BSU5UQUlORVJTCj4gaW5kZXggZTIzM2IzYzQ4NTQ2Li5kZDY0N2E2ODU4
MGYgMTAwNjQ0Cj4gLS0tIGEvTUFJTlRBSU5FUlMKPiArKysgYi9NQUlOVEFJTkVSUwo+IEBAIC01
MTAwLDYgKzUxMDAsNyBAQCBUOglnaXQgZ2l0Oi8vcGVvcGxlLmZyZWVkZXNrdG9wLm9yZy9+dGhv
bWFzaC9saW51eAo+ICAgUzoJU3VwcG9ydGVkCj4gICBGOglkcml2ZXJzL2dwdS9kcm0vdm13Z2Z4
Lwo+ICAgRjoJaW5jbHVkZS91YXBpL2RybS92bXdnZnhfZHJtLmgKPiArRjoJbW0vYXNfZGlydHlf
aGVscGVycy5jCj4gICAKPiAgIERSTSBEUklWRVJTCj4gICBNOglEYXZpZCBBaXJsaWUgPGFpcmxp
ZWRAbGludXguaWU+Cj4gZGlmZiAtLWdpdCBhL2luY2x1ZGUvbGludXgvbW0uaCBiL2luY2x1ZGUv
bGludXgvbW0uaAo+IGluZGV4IDM0MzM4ZWU3MDMxNy4uZTQ0NmFmOTczMmY2IDEwMDY0NAo+IC0t
LSBhL2luY2x1ZGUvbGludXgvbW0uaAo+ICsrKyBiL2luY2x1ZGUvbGludXgvbW0uaAo+IEBAIC0y
NjEwLDcgKzI2MTAsMTQgQEAgc3RydWN0IHBmbl9yYW5nZV9hcHBseSB7Cj4gICB9Owo+ICAgZXh0
ZXJuIGludCBhcHBseV90b19wZm5fcmFuZ2Uoc3RydWN0IHBmbl9yYW5nZV9hcHBseSAqY2xvc3Vy
ZSwKPiAgIAkJCSAgICAgIHVuc2lnbmVkIGxvbmcgYWRkcmVzcywgdW5zaWduZWQgbG9uZyBzaXpl
KTsKPiAtCj4gK3Vuc2lnbmVkIGxvbmcgYXBwbHlfYXNfd3Jwcm90ZWN0KHN0cnVjdCBhZGRyZXNz
X3NwYWNlICptYXBwaW5nLAo+ICsJCQkJIHBnb2ZmX3QgZmlyc3RfaW5kZXgsIHBnb2ZmX3QgbnIp
Owo+ICt1bnNpZ25lZCBsb25nIGFwcGx5X2FzX2NsZWFuKHN0cnVjdCBhZGRyZXNzX3NwYWNlICpt
YXBwaW5nLAo+ICsJCQkgICAgIHBnb2ZmX3QgZmlyc3RfaW5kZXgsIHBnb2ZmX3QgbnIsCj4gKwkJ
CSAgICAgcGdvZmZfdCBiaXRtYXBfcGdvZmYsCj4gKwkJCSAgICAgdW5zaWduZWQgbG9uZyAqYml0
bWFwLAo+ICsJCQkgICAgIHBnb2ZmX3QgKnN0YXJ0LAo+ICsJCQkgICAgIHBnb2ZmX3QgKmVuZCk7
Cj4gICAjaWZkZWYgQ09ORklHX1BBR0VfUE9JU09OSU5HCj4gICBleHRlcm4gYm9vbCBwYWdlX3Bv
aXNvbmluZ19lbmFibGVkKHZvaWQpOwo+ICAgZXh0ZXJuIHZvaWQga2VybmVsX3BvaXNvbl9wYWdl
cyhzdHJ1Y3QgcGFnZSAqcGFnZSwgaW50IG51bXBhZ2VzLCBpbnQgZW5hYmxlKTsKPiBkaWZmIC0t
Z2l0IGEvbW0vS2NvbmZpZyBiL21tL0tjb25maWcKPiBpbmRleCAyNWM3MWViOGE3ZGIuLjgwZTQx
Y2RiYjRhZSAxMDA2NDQKPiAtLS0gYS9tbS9LY29uZmlnCj4gKysrIGIvbW0vS2NvbmZpZwo+IEBA
IC03NTgsNCArNzU4LDcgQEAgY29uZmlnIEdVUF9CRU5DSE1BUksKPiAgIGNvbmZpZyBBUkNIX0hB
U19QVEVfU1BFQ0lBTAo+ICAgCWJvb2wKPiAgIAo+ICtjb25maWcgQVNfRElSVFlfSEVMUEVSUwo+
ICsgICAgICAgIGJvb2wKPiArCj4gICBlbmRtZW51Cj4gZGlmZiAtLWdpdCBhL21tL01ha2VmaWxl
IGIvbW0vTWFrZWZpbGUKPiBpbmRleCBkMjEwY2M5ZDZmODAuLjRiZjM5NmJhM2EwMCAxMDA2NDQK
PiAtLS0gYS9tbS9NYWtlZmlsZQo+ICsrKyBiL21tL01ha2VmaWxlCj4gQEAgLTk5LDMgKzk5LDQg
QEAgb2JqLSQoQ09ORklHX0hBUkRFTkVEX1VTRVJDT1BZKSArPSB1c2VyY29weS5vCj4gICBvYmot
JChDT05GSUdfUEVSQ1BVX1NUQVRTKSArPSBwZXJjcHUtc3RhdHMubwo+ICAgb2JqLSQoQ09ORklH
X0hNTSkgKz0gaG1tLm8KPiAgIG9iai0kKENPTkZJR19NRU1GRF9DUkVBVEUpICs9IG1lbWZkLm8K
PiArb2JqLSQoQ09ORklHX0FTX0RJUlRZX0hFTFBFUlMpICs9IGFzX2RpcnR5X2hlbHBlcnMubwo+
IGRpZmYgLS1naXQgYS9tbS9hc19kaXJ0eV9oZWxwZXJzLmMgYi9tbS9hc19kaXJ0eV9oZWxwZXJz
LmMKPiBuZXcgZmlsZSBtb2RlIDEwMDY0NAo+IGluZGV4IDAwMDAwMDAwMDAwMC4uODhhMWFjMGQ1
ZGE5Cj4gLS0tIC9kZXYvbnVsbAo+ICsrKyBiL21tL2FzX2RpcnR5X2hlbHBlcnMuYwo+IEBAIC0w
LDAgKzEsMjk4IEBACj4gKy8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wCj4gKyNp
bmNsdWRlIDxsaW51eC9tbS5oPgo+ICsjaW5jbHVkZSA8bGludXgvbW1fdHlwZXMuaD4KPiArI2lu
Y2x1ZGUgPGxpbnV4L2h1Z2V0bGIuaD4KPiArI2luY2x1ZGUgPGxpbnV4L2JpdG9wcy5oPgo+ICsj
aW5jbHVkZSA8bGludXgvbW11X25vdGlmaWVyLmg+Cj4gKyNpbmNsdWRlIDxhc20vY2FjaGVmbHVz
aC5oPgo+ICsjaW5jbHVkZSA8YXNtL3RsYmZsdXNoLmg+Cj4gKwo+ICsvKioKPiArICogc3RydWN0
IGFwcGx5X2FzIC0gQ2xvc3VyZSBzdHJ1Y3R1cmUgZm9yIGFwcGx5X2FzX3JhbmdlCj4gKyAqIEBi
YXNlOiBzdHJ1Y3QgcGZuX3JhbmdlX2FwcGx5IHdlIGRlcml2ZSBmcm9tCj4gKyAqIEBzdGFydDog
QWRkcmVzcyBvZiBmaXJzdCBtb2RpZmllZCBwdGUKPiArICogQGVuZDogQWRkcmVzcyBvZiBsYXN0
IG1vZGlmaWVkIHB0ZSArIDEKPiArICogQHRvdGFsOiBUb3RhbCBudW1iZXIgb2YgbW9kaWZpZWQg
cHRlcwo+ICsgKiBAdm1hOiBQb2ludGVyIHRvIHRoZSBzdHJ1Y3Qgdm1fYXJlYV9zdHJ1Y3Qgd2Un
cmUgY3VycmVudGx5IG9wZXJhdGluZyBvbgo+ICsgKi8KPiArc3RydWN0IGFwcGx5X2FzIHsKPiAr
CXN0cnVjdCBwZm5fcmFuZ2VfYXBwbHkgYmFzZTsKPiArCXVuc2lnbmVkIGxvbmcgc3RhcnQ7Cj4g
Kwl1bnNpZ25lZCBsb25nIGVuZDsKPiArCXVuc2lnbmVkIGxvbmcgdG90YWw7Cj4gKwlzdHJ1Y3Qg
dm1fYXJlYV9zdHJ1Y3QgKnZtYTsKPiArfTsKPiArCj4gKy8qKgo+ICsgKiBhcHBseV9wdF93cnBy
b3RlY3QgLSBMZWFmIHB0ZSBjYWxsYmFjayB0byB3cml0ZS1wcm90ZWN0IGEgcHRlCj4gKyAqIEBw
dGU6IFBvaW50ZXIgdG8gdGhlIHB0ZQo+ICsgKiBAdG9rZW46IFBhZ2UgdGFibGUgdG9rZW4sIHNl
ZSBhcHBseV90b19wZm5fcmFuZ2UoKQo+ICsgKiBAYWRkcjogVGhlIHZpcnR1YWwgcGFnZSBhZGRy
ZXNzCj4gKyAqIEBjbG9zdXJlOiBQb2ludGVyIHRvIGEgc3RydWN0IHBmbl9yYW5nZV9hcHBseSBl
bWJlZGRlZCBpbiBhCj4gKyAqIHN0cnVjdCBhcHBseV9hcwo+ICsgKgo+ICsgKiBUaGUgZnVuY3Rp
b24gd3JpdGUtcHJvdGVjdHMgYSBwdGUgYW5kIHJlY29yZHMgdGhlIHJhbmdlIGluCj4gKyAqIHZp
cnR1YWwgYWRkcmVzcyBzcGFjZSBvZiB0b3VjaGVkIHB0ZXMgZm9yIGVmZmljaWVudCByYW5nZSBU
TEIgZmx1c2hlcy4KPiArICoKPiArICogUmV0dXJuOiBBbHdheXMgemVyby4KPiArICovCj4gK3N0
YXRpYyBpbnQgYXBwbHlfcHRfd3Jwcm90ZWN0KHB0ZV90ICpwdGUsIHBndGFibGVfdCB0b2tlbiwK
PiArCQkJICAgICAgdW5zaWduZWQgbG9uZyBhZGRyLAo+ICsJCQkgICAgICBzdHJ1Y3QgcGZuX3Jh
bmdlX2FwcGx5ICpjbG9zdXJlKQo+ICt7Cj4gKwlzdHJ1Y3QgYXBwbHlfYXMgKmFhcyA9IGNvbnRh
aW5lcl9vZihjbG9zdXJlLCB0eXBlb2YoKmFhcyksIGJhc2UpOwo+ICsJcHRlX3QgcHRlbnQgPSAq
cHRlOwo+ICsKPiArCWlmIChwdGVfd3JpdGUocHRlbnQpKSB7Cj4gKwkJcHRlX3Qgb2xkX3B0ZSA9
IHB0ZXBfbW9kaWZ5X3Byb3Rfc3RhcnQoYWFzLT52bWEsIGFkZHIsIHB0ZSk7Cj4gKwo+ICsJCXB0
ZW50ID0gcHRlX3dycHJvdGVjdChvbGRfcHRlKTsKPiArCQlwdGVwX21vZGlmeV9wcm90X2NvbW1p
dChhYXMtPnZtYSwgYWRkciwgcHRlLCBvbGRfcHRlLCBwdGVudCk7Cj4gKwkJYWFzLT50b3RhbCsr
Owo+ICsJCWFhcy0+c3RhcnQgPSBtaW4oYWFzLT5zdGFydCwgYWRkcik7Cj4gKwkJYWFzLT5lbmQg
PSBtYXgoYWFzLT5lbmQsIGFkZHIgKyBQQUdFX1NJWkUpOwo+ICsJfQo+ICsKPiArCXJldHVybiAw
Owo+ICt9Cj4gKwo+ICsvKioKPiArICogc3RydWN0IGFwcGx5X2FzX2NsZWFuIC0gQ2xvc3VyZSBz
dHJ1Y3R1cmUgZm9yIGFwcGx5X2FzX2NsZWFuCj4gKyAqIEBiYXNlOiBzdHJ1Y3QgYXBwbHlfYXMg
d2UgZGVyaXZlIGZyb20KPiArICogQGJpdG1hcF9wZ29mZjogQWRkcmVzc19zcGFjZSBQYWdlIG9m
ZnNldCBvZiB0aGUgZmlyc3QgYml0IGluIEBiaXRtYXAKPiArICogQGJpdG1hcDogQml0bWFwIHdp
dGggb25lIGJpdCBmb3IgZWFjaCBwYWdlIG9mZnNldCBpbiB0aGUgYWRkcmVzc19zcGFjZSByYW5n
ZQo+ICsgKiBjb3ZlcmVkLgo+ICsgKiBAc3RhcnQ6IEFkZHJlc3Nfc3BhY2UgcGFnZSBvZmZzZXQg
b2YgZmlyc3QgbW9kaWZpZWQgcHRlIHJlbGF0aXZlCj4gKyAqIHRvIEBiaXRtYXBfcGdvZmYKPiAr
ICogQGVuZDogQWRkcmVzc19zcGFjZSBwYWdlIG9mZnNldCBvZiBsYXN0IG1vZGlmaWVkIHB0ZSBy
ZWxhdGl2ZQo+ICsgKiB0byBAYml0bWFwX3Bnb2ZmCj4gKyAqLwo+ICtzdHJ1Y3QgYXBwbHlfYXNf
Y2xlYW4gewo+ICsJc3RydWN0IGFwcGx5X2FzIGJhc2U7Cj4gKwlwZ29mZl90IGJpdG1hcF9wZ29m
ZjsKPiArCXVuc2lnbmVkIGxvbmcgKmJpdG1hcDsKPiArCXBnb2ZmX3Qgc3RhcnQ7Cj4gKwlwZ29m
Zl90IGVuZDsKPiArfTsKPiArCj4gKy8qKgo+ICsgKiBhcHBseV9wdF9jbGVhbiAtIExlYWYgcHRl
IGNhbGxiYWNrIHRvIGNsZWFuIGEgcHRlCj4gKyAqIEBwdGU6IFBvaW50ZXIgdG8gdGhlIHB0ZQo+
ICsgKiBAdG9rZW46IFBhZ2UgdGFibGUgdG9rZW4sIHNlZSBhcHBseV90b19wZm5fcmFuZ2UoKQo+
ICsgKiBAYWRkcjogVGhlIHZpcnR1YWwgcGFnZSBhZGRyZXNzCj4gKyAqIEBjbG9zdXJlOiBQb2lu
dGVyIHRvIGEgc3RydWN0IHBmbl9yYW5nZV9hcHBseSBlbWJlZGRlZCBpbiBhCj4gKyAqIHN0cnVj
dCBhcHBseV9hc19jbGVhbgo+ICsgKgo+ICsgKiBUaGUgZnVuY3Rpb24gY2xlYW5zIGEgcHRlIGFu
ZCByZWNvcmRzIHRoZSByYW5nZSBpbgo+ICsgKiB2aXJ0dWFsIGFkZHJlc3Mgc3BhY2Ugb2YgdG91
Y2hlZCBwdGVzIGZvciBlZmZpY2llbnQgVExCIGZsdXNoZXMuCj4gKyAqIEl0IGFsc28gcmVjb3Jk
cyBkaXJ0eSBwdGVzIGluIGEgYml0bWFwIHJlcHJlc2VudGluZyBwYWdlIG9mZnNldHMKPiArICog
aW4gdGhlIGFkZHJlc3Nfc3BhY2UsIGFzIHdlbGwgYXMgdGhlIGZpcnN0IGFuZCBsYXN0IG9mIHRo
ZSBiaXRzCj4gKyAqIHRvdWNoZWQuCj4gKyAqCj4gKyAqIFJldHVybjogQWx3YXlzIHplcm8uCj4g
KyAqLwo+ICtzdGF0aWMgaW50IGFwcGx5X3B0X2NsZWFuKHB0ZV90ICpwdGUsIHBndGFibGVfdCB0
b2tlbiwKPiArCQkJICB1bnNpZ25lZCBsb25nIGFkZHIsCj4gKwkJCSAgc3RydWN0IHBmbl9yYW5n
ZV9hcHBseSAqY2xvc3VyZSkKPiArewo+ICsJc3RydWN0IGFwcGx5X2FzICphYXMgPSBjb250YWlu
ZXJfb2YoY2xvc3VyZSwgdHlwZW9mKCphYXMpLCBiYXNlKTsKPiArCXN0cnVjdCBhcHBseV9hc19j
bGVhbiAqY2xlYW4gPSBjb250YWluZXJfb2YoYWFzLCB0eXBlb2YoKmNsZWFuKSwgYmFzZSk7Cj4g
KwlwdGVfdCBwdGVudCA9ICpwdGU7Cj4gKwo+ICsJaWYgKHB0ZV9kaXJ0eShwdGVudCkpIHsKPiAr
CQlwZ29mZl90IHBnb2ZmID0gKChhZGRyIC0gYWFzLT52bWEtPnZtX3N0YXJ0KSA+PiBQQUdFX1NI
SUZUKSArCj4gKwkJCWFhcy0+dm1hLT52bV9wZ29mZiAtIGNsZWFuLT5iaXRtYXBfcGdvZmY7Cj4g
KwkJcHRlX3Qgb2xkX3B0ZSA9IHB0ZXBfbW9kaWZ5X3Byb3Rfc3RhcnQoYWFzLT52bWEsIGFkZHIs
IHB0ZSk7Cj4gKwo+ICsJCXB0ZW50ID0gcHRlX21rY2xlYW4ob2xkX3B0ZSk7Cj4gKwkJcHRlcF9t
b2RpZnlfcHJvdF9jb21taXQoYWFzLT52bWEsIGFkZHIsIHB0ZSwgb2xkX3B0ZSwgcHRlbnQpOwo+
ICsKPiArCQlhYXMtPnRvdGFsKys7Cj4gKwkJYWFzLT5zdGFydCA9IG1pbihhYXMtPnN0YXJ0LCBh
ZGRyKTsKPiArCQlhYXMtPmVuZCA9IG1heChhYXMtPmVuZCwgYWRkciArIFBBR0VfU0laRSk7Cj4g
Kwo+ICsJCV9fc2V0X2JpdChwZ29mZiwgY2xlYW4tPmJpdG1hcCk7Cj4gKwkJY2xlYW4tPnN0YXJ0
ID0gbWluKGNsZWFuLT5zdGFydCwgcGdvZmYpOwo+ICsJCWNsZWFuLT5lbmQgPSBtYXgoY2xlYW4t
PmVuZCwgcGdvZmYgKyAxKTsKPiArCX0KPiArCj4gKwlyZXR1cm4gMDsKPiArfQo+ICsKPiArLyoq
Cj4gKyAqIGFwcGx5X2FzX3JhbmdlIC0gQXBwbHkgYSBwdGUgY2FsbGJhY2sgdG8gYWxsIFBURXMg
cG9pbnRpbmcgaW50byBhIHJhbmdlCj4gKyAqIG9mIGFuIGFkZHJlc3Nfc3BhY2UuCj4gKyAqIEBt
YXBwaW5nOiBQb2ludGVyIHRvIHRoZSBzdHJ1Y3QgYWRkcmVzc19zcGFjZQo+ICsgKiBAYWFzOiBD
bG9zdXJlIHN0cnVjdHVyZQo+ICsgKiBAZmlyc3RfaW5kZXg6IEZpcnN0IHBhZ2Ugb2Zmc2V0IGlu
IHRoZSBhZGRyZXNzX3NwYWNlCj4gKyAqIEBucjogTnVtYmVyIG9mIGluY3JlbWVudGFsIHBhZ2Ug
b2Zmc2V0cyB0byBjb3Zlcgo+ICsgKgo+ICsgKiBSZXR1cm46IE51bWJlciBvZiBwdGVzIHRvdWNo
ZWQuIE5vdGUgdGhhdCB0aGlzIG51bWJlciBtaWdodCBiZSBsYXJnZXIKPiArICogdGhhbiBAbnIg
aWYgdGhlcmUgYXJlIG92ZXJsYXBwaW5nIHZtYXMKPiArICovCj4gK3N0YXRpYyB1bnNpZ25lZCBs
b25nIGFwcGx5X2FzX3JhbmdlKHN0cnVjdCBhZGRyZXNzX3NwYWNlICptYXBwaW5nLAo+ICsJCQkJ
ICAgIHN0cnVjdCBhcHBseV9hcyAqYWFzLAo+ICsJCQkJICAgIHBnb2ZmX3QgZmlyc3RfaW5kZXgs
IHBnb2ZmX3QgbnIpCj4gK3sKPiArCXN0cnVjdCB2bV9hcmVhX3N0cnVjdCAqdm1hOwo+ICsJcGdv
ZmZfdCB2YmEsIHZlYSwgY2JhLCBjZWE7Cj4gKwl1bnNpZ25lZCBsb25nIHN0YXJ0X2FkZHIsIGVu
ZF9hZGRyOwo+ICsJc3RydWN0IG1tdV9ub3RpZmllcl9yYW5nZSByYW5nZTsKPiArCj4gKwlpX21t
YXBfbG9ja19yZWFkKG1hcHBpbmcpOwo+ICsJdm1hX2ludGVydmFsX3RyZWVfZm9yZWFjaCh2bWEs
ICZtYXBwaW5nLT5pX21tYXAsIGZpcnN0X2luZGV4LAo+ICsJCQkJICBmaXJzdF9pbmRleCArIG5y
IC0gMSkgewo+ICsJCXVuc2lnbmVkIGxvbmcgdm1fZmxhZ3MgPSBSRUFEX09OQ0Uodm1hLT52bV9m
bGFncyk7Cj4gKwo+ICsJCS8qCj4gKwkJICogV2UgY2FuIG9ubHkgZG8gYWR2aXNvcnkgZmxhZyB0
ZXN0cyBiZWxvdywgc2luY2Ugd2UgY2FuJ3QKPiArCQkgKiByZXF1aXJlIHRoZSB2bSdzIG1tYXBf
c2VtIHRvIGJlIGhlbGQgdG8gcHJvdGVjdCB0aGUgZmxhZ3MuCj4gKwkJICogVGhlcmVmb3JlLCBj
YWxsZXJzIHRoYXQgc3RyaWN0bHkgZGVwZW5kIG9uIHNwZWNpZmljIG1tYXAKPiArCQkgKiBmbGFn
cyB0byByZW1haW4gY29uc3RhbnQgdGhyb3VnaG91dCB0aGUgb3BlcmF0aW9uIG11c3QKPiArCQkg
KiBlaXRoZXIgZW5zdXJlIHRob3NlIGZsYWdzIGFyZSBpbW11dGFibGUgZm9yIGFsbCByZWxldmFu
dAo+ICsJCSAqIHZtYXMgb3IgY2FuJ3QgdXNlIHRoaXMgZnVuY3Rpb24uIEZpeGluZyB0aGlzIHBy
b3Blcmx5IHdvdWxkCj4gKwkJICogcmVxdWlyZSB0aGUgdm1hOjp2bV9mbGFncyB0byBiZSBwcm90
ZWN0ZWQgYnkgYSBzZXBhcmF0ZQo+ICsJCSAqIGxvY2sgdGFrZW4gYWZ0ZXIgdGhlIGlfbW1hcF9s
b2NrCj4gKwkJICovCj4gKwo+ICsJCS8qIFNraXAgbm9uLWFwcGxpY2FibGUgVk1BcyAqLwo+ICsJ
CWlmICgodm1fZmxhZ3MgJiAoVk1fU0hBUkVEIHwgVk1fV1JJVEUpKSAhPQo+ICsJCSAgICAoVk1f
U0hBUkVEIHwgVk1fV1JJVEUpKQo+ICsJCQljb250aW51ZTsKPiArCj4gKwkJLyogV2FybiBvbiBh
bmQgc2tpcCBWTUFzIHdob3NlIGZsYWdzIGluZGljYXRlIGlsbGVnYWwgdXNhZ2UgKi8KPiArCQlp
ZiAoV0FSTl9PTigodm1fZmxhZ3MgJiAoVk1fSFVHRVRMQiB8IFZNX0lPKSkgIT0gVk1fSU8pKQo+
ICsJCQljb250aW51ZTsKPiArCj4gKwkJLyogQ2xpcCB0byB0aGUgdm1hICovCj4gKwkJdmJhID0g
dm1hLT52bV9wZ29mZjsKPiArCQl2ZWEgPSB2YmEgKyB2bWFfcGFnZXModm1hKTsKPiArCQljYmEg
PSBmaXJzdF9pbmRleDsKPiArCQljYmEgPSBtYXgoY2JhLCB2YmEpOwo+ICsJCWNlYSA9IGZpcnN0
X2luZGV4ICsgbnI7Cj4gKwkJY2VhID0gbWluKGNlYSwgdmVhKTsKPiArCj4gKwkJLyogVHJhbnNs
YXRlIHRvIHZpcnR1YWwgYWRkcmVzcyAqLwo+ICsJCXN0YXJ0X2FkZHIgPSAoKGNiYSAtIHZiYSkg
PDwgUEFHRV9TSElGVCkgKyB2bWEtPnZtX3N0YXJ0Owo+ICsJCWVuZF9hZGRyID0gKChjZWEgLSB2
YmEpIDw8IFBBR0VfU0hJRlQpICsgdm1hLT52bV9zdGFydDsKPiArCQlpZiAoc3RhcnRfYWRkciA+
PSBlbmRfYWRkcikKPiArCQkJY29udGludWU7Cj4gKwo+ICsJCWFhcy0+YmFzZS5tbSA9IHZtYS0+
dm1fbW07Cj4gKwkJYWFzLT52bWEgPSB2bWE7Cj4gKwkJYWFzLT5zdGFydCA9IGVuZF9hZGRyOwo+
ICsJCWFhcy0+ZW5kID0gc3RhcnRfYWRkcjsKPiArCj4gKwkJbW11X25vdGlmaWVyX3JhbmdlX2lu
aXQoJnJhbmdlLCB2bWEtPnZtX21tLAo+ICsJCQkJCXN0YXJ0X2FkZHIsIGVuZF9hZGRyKTsKPiAr
CQltbXVfbm90aWZpZXJfaW52YWxpZGF0ZV9yYW5nZV9zdGFydCgmcmFuZ2UpOwo+ICsKPiArCQkv
KiBOZWVkZWQgd2hlbiB3ZSBvbmx5IGNoYW5nZSBwcm90ZWN0aW9uPyAqLwo+ICsJCWZsdXNoX2Nh
Y2hlX3JhbmdlKHZtYSwgc3RhcnRfYWRkciwgZW5kX2FkZHIpOwo+ICsKPiArCQkvKgo+ICsJCSAq
IFdlJ3JlIG5vdCB1c2luZyB0bGJfZ2F0aGVyX21tdSgpIHNpbmNlIHR5cGljYWxseQo+ICsJCSAq
IG9ubHkgYSBzbWFsbCBzdWJyYW5nZSBvZiBQVEVzIGFyZSBhZmZlY3RlZC4KPiArCQkgKi8KPiAr
CQlpbmNfdGxiX2ZsdXNoX3BlbmRpbmcodm1hLT52bV9tbSk7Cj4gKwo+ICsJCS8qIFNob3VsZCBu
b3QgZXJyb3Igc2luY2UgYWFzLT5iYXNlLmFsbG9jID09IDAgKi8KPiArCQlXQVJOX09OKGFwcGx5
X3RvX3Bmbl9yYW5nZSgmYWFzLT5iYXNlLCBzdGFydF9hZGRyLAo+ICsJCQkJCSAgIGVuZF9hZGRy
IC0gc3RhcnRfYWRkcikpOwo+ICsJCWlmIChhYXMtPmVuZCA+IGFhcy0+c3RhcnQpCj4gKwkJCWZs
dXNoX3RsYl9yYW5nZSh2bWEsIGFhcy0+c3RhcnQsIGFhcy0+ZW5kKTsKPiArCj4gKwkJbW11X25v
dGlmaWVyX2ludmFsaWRhdGVfcmFuZ2VfZW5kKCZyYW5nZSk7Cj4gKwkJZGVjX3RsYl9mbHVzaF9w
ZW5kaW5nKHZtYS0+dm1fbW0pOwo+ICsJfQo+ICsJaV9tbWFwX3VubG9ja19yZWFkKG1hcHBpbmcp
Owo+ICsKPiArCXJldHVybiBhYXMtPnRvdGFsOwo+ICt9Cj4gKwo+ICsvKioKPiArICogYXBwbHlf
YXNfd3Jwcm90ZWN0IC0gV3JpdGUtcHJvdGVjdCBhbGwgcHRlcyBpbiBhbiBhZGRyZXNzX3NwYWNl
IHJhbmdlCj4gKyAqIEBtYXBwaW5nOiBUaGUgYWRkcmVzc19zcGFjZSB3ZSB3YW50IHRvIHdyaXRl
IHByb3RlY3QKPiArICogQGZpcnN0X2luZGV4OiBUaGUgZmlyc3QgcGFnZSBvZmZzZXQgaW4gdGhl
IHJhbmdlCj4gKyAqIEBucjogTnVtYmVyIG9mIGluY3JlbWVudGFsIHBhZ2Ugb2Zmc2V0cyB0byBj
b3Zlcgo+ICsgKgo+ICsgKiBXQVJOSU5HOiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBvbmx5IGJlIHVz
ZWQgZm9yIGFkZHJlc3Mgc3BhY2VzIHRoYXQKPiArICogY29tcGxldGVseSBvd24gdGhlIHBhZ2Vz
IC8gbWVtb3J5IHRoZSBwYWdlIHRhYmxlIHBvaW50cyB0by4gVHlwaWNhbGx5IGEKPiArICogZGV2
aWNlIGZpbGUuCj4gKyAqCj4gKyAqIFJldHVybjogVGhlIG51bWJlciBvZiBwdGVzIGFjdHVhbGx5
IHdyaXRlLXByb3RlY3RlZC4gTm90ZSB0aGF0Cj4gKyAqIGFscmVhZHkgd3JpdGUtcHJvdGVjdGVk
IHB0ZXMgYXJlIG5vdCBjb3VudGVkLgo+ICsgKi8KPiArdW5zaWduZWQgbG9uZyBhcHBseV9hc193
cnByb3RlY3Qoc3RydWN0IGFkZHJlc3Nfc3BhY2UgKm1hcHBpbmcsCj4gKwkJCQkgcGdvZmZfdCBm
aXJzdF9pbmRleCwgcGdvZmZfdCBucikKPiArewo+ICsJc3RydWN0IGFwcGx5X2FzIGFhcyA9IHsK
PiArCQkuYmFzZSA9IHsKPiArCQkJLmFsbG9jID0gMCwKPiArCQkJLnB0ZWZuID0gYXBwbHlfcHRf
d3Jwcm90ZWN0LAo+ICsJCX0sCj4gKwkJLnRvdGFsID0gMCwKPiArCX07Cj4gKwo+ICsJcmV0dXJu
IGFwcGx5X2FzX3JhbmdlKG1hcHBpbmcsICZhYXMsIGZpcnN0X2luZGV4LCBucik7Cj4gK30KPiAr
RVhQT1JUX1NZTUJPTChhcHBseV9hc193cnByb3RlY3QpOwo+ICsKPiArLyoqCj4gKyAqIGFwcGx5
X2FzX2NsZWFuIC0gQ2xlYW4gYWxsIHB0ZXMgaW4gYW4gYWRkcmVzc19zcGFjZSByYW5nZQo+ICsg
KiBAbWFwcGluZzogVGhlIGFkZHJlc3Nfc3BhY2Ugd2Ugd2FudCB0byBjbGVhbgo+ICsgKiBAZmly
c3RfaW5kZXg6IFRoZSBmaXJzdCBwYWdlIG9mZnNldCBpbiB0aGUgcmFuZ2UKPiArICogQG5yOiBO
dW1iZXIgb2YgaW5jcmVtZW50YWwgcGFnZSBvZmZzZXRzIHRvIGNvdmVyCj4gKyAqIEBiaXRtYXBf
cGdvZmY6IFRoZSBwYWdlIG9mZnNldCBvZiB0aGUgZmlyc3QgYml0IGluIEBiaXRtYXAKPiArICog
QGJpdG1hcDogUG9pbnRlciB0byBhIGJpdG1hcCBvZiBhdCBsZWFzdCBAbnIgYml0cy4gVGhlIGJp
dG1hcCBuZWVkcyB0bwo+ICsgKiBjb3ZlciB0aGUgd2hvbGUgcmFuZ2UgQGZpcnN0X2luZGV4Li5A
Zmlyc3RfaW5kZXggKyBAbnIuCj4gKyAqIEBzdGFydDogUG9pbnRlciB0byBudW1iZXIgb2YgdGhl
IGZpcnN0IHNldCBiaXQgaW4gQGJpdG1hcC4KPiArICogaXMgbW9kaWZpZWQgYXMgbmV3IGJpdHMg
YXJlIHNldCBieSB0aGUgZnVuY3Rpb24uCj4gKyAqIEBlbmQ6IFBvaW50ZXIgdG8gdGhlIG51bWJl
ciBvZiB0aGUgbGFzdCBzZXQgYml0IGluIEBiaXRtYXAuCj4gKyAqIG5vbmUgc2V0LiBUaGUgdmFs
dWUgaXMgbW9kaWZpZWQgYXMgbmV3IGJpdHMgYXJlIHNldCBieSB0aGUgZnVuY3Rpb24uCj4gKyAq
Cj4gKyAqIE5vdGU6IFdoZW4gdGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZXJlIGlzIG5vIGd1YXJh
bnRlZSB0aGF0IGEgQ1BVIGhhcwo+ICsgKiBub3QgYWxyZWFkeSBkaXJ0aWVkIG5ldyBwdGVzLiBI
b3dldmVyIGl0IHdpbGwgbm90IGNsZWFuIGFueSBwdGVzIG5vdAo+ICsgKiByZXBvcnRlZCBpbiB0
aGUgYml0bWFwLgo+ICsgKgo+ICsgKiBJZiBhIGNhbGxlciBuZWVkcyB0byBtYWtlIHN1cmUgYWxs
IGRpcnR5IHB0ZXMgYXJlIHBpY2tlZCB1cCBhbmQgbm9uZQo+ICsgKiBhZGRpdGlvbmFsIGFyZSBh
ZGRlZCwgaXQgZmlyc3QgbmVlZHMgdG8gd3JpdGUtcHJvdGVjdCB0aGUgYWRkcmVzcy1zcGFjZQo+
ICsgKiByYW5nZSBhbmQgbWFrZSBzdXJlIG5ldyB3cml0ZXJzIGFyZSBibG9ja2VkIGluIHBhZ2Vf
bWt3cml0ZSgpIG9yCj4gKyAqIHBmbl9ta3dyaXRlKCkuIEFuZCB0aGVuIGFmdGVyIGEgVExCIGZs
dXNoIGZvbGxvd2luZyB0aGUgd3JpdGUtcHJvdGVjdGlvbgo+ICsgKiBwaWNrIHVwIGFsbCBkaXJ0
eSBiaXRzLgo+ICsgKgo+ICsgKiBXQVJOSU5HOiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBvbmx5IGJl
IHVzZWQgZm9yIGFkZHJlc3Mgc3BhY2VzIHRoYXQKPiArICogY29tcGxldGVseSBvd24gdGhlIHBh
Z2VzIC8gbWVtb3J5IHRoZSBwYWdlIHRhYmxlIHBvaW50cyB0by4gVHlwaWNhbGx5IGEKPiArICog
ZGV2aWNlIGZpbGUuCj4gKyAqCj4gKyAqIFJldHVybjogVGhlIG51bWJlciBvZiBkaXJ0eSBwdGVz
IGFjdHVhbGx5IGNsZWFuZWQuCj4gKyAqLwo+ICt1bnNpZ25lZCBsb25nIGFwcGx5X2FzX2NsZWFu
KHN0cnVjdCBhZGRyZXNzX3NwYWNlICptYXBwaW5nLAo+ICsJCQkgICAgIHBnb2ZmX3QgZmlyc3Rf
aW5kZXgsIHBnb2ZmX3QgbnIsCj4gKwkJCSAgICAgcGdvZmZfdCBiaXRtYXBfcGdvZmYsCj4gKwkJ
CSAgICAgdW5zaWduZWQgbG9uZyAqYml0bWFwLAo+ICsJCQkgICAgIHBnb2ZmX3QgKnN0YXJ0LAo+
ICsJCQkgICAgIHBnb2ZmX3QgKmVuZCkKPiArewo+ICsJYm9vbCBub25lX3NldCA9ICgqc3RhcnQg
Pj0gKmVuZCk7Cj4gKwlzdHJ1Y3QgYXBwbHlfYXNfY2xlYW4gY2xlYW4gPSB7Cj4gKwkJLmJhc2Ug
PSB7Cj4gKwkJCS5iYXNlID0gewo+ICsJCQkJLmFsbG9jID0gMCwKPiArCQkJCS5wdGVmbiA9IGFw
cGx5X3B0X2NsZWFuLAo+ICsJCQl9LAo+ICsJCQkudG90YWwgPSAwLAo+ICsJCX0sCj4gKwkJLmJp
dG1hcF9wZ29mZiA9IGJpdG1hcF9wZ29mZiwKPiArCQkuYml0bWFwID0gYml0bWFwLAo+ICsJCS5z
dGFydCA9IG5vbmVfc2V0ID8gbnIgOiAqc3RhcnQsCj4gKwkJLmVuZCA9IG5vbmVfc2V0ID8gMCA6
ICplbmQsCj4gKwl9Owo+ICsJdW5zaWduZWQgbG9uZyByZXQgPSBhcHBseV9hc19yYW5nZShtYXBw
aW5nLCAmY2xlYW4uYmFzZSwgZmlyc3RfaW5kZXgsCj4gKwkJCQkJICAgbnIpOwo+ICsKPiArCSpz
dGFydCA9IGNsZWFuLnN0YXJ0Owo+ICsJKmVuZCA9IGNsZWFuLmVuZDsKPiArCXJldHVybiByZXQ7
Cj4gK30KPiArRVhQT1JUX1NZTUJPTChhcHBseV9hc19jbGVhbik7Cj4gCl9fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QK
ZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9w
Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
