Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 692A5167CE
	for <lists+dri-devel@lfdr.de>; Tue,  7 May 2019 18:26:20 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 9B2EA6E806;
	Tue,  7 May 2019 16:25:59 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 4094C6E7FB;
 Tue,  7 May 2019 16:25:55 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga001.jf.intel.com ([10.7.209.18])
 by fmsmga106.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 07 May 2019 09:25:55 -0700
X-ExtLoop1: 1
Received: from nuc.iind.intel.com ([10.99.66.149])
 by orsmga001.jf.intel.com with ESMTP; 07 May 2019 09:25:53 -0700
From: Ramalingam C <ramalingam.c@intel.com>
To: intel-gfx@lists.freedesktop.org, dri-devel@lists.freedesktop.org,
 daniel.vetter@intel.com
Subject: [PATCH v7 07/11] drm: Add Content protection type property
Date: Tue,  7 May 2019 21:57:41 +0530
Message-Id: <20190507162745.25600-8-ramalingam.c@intel.com>
X-Mailer: git-send-email 2.19.1
In-Reply-To: <20190507162745.25600-1-ramalingam.c@intel.com>
References: <20190507162745.25600-1-ramalingam.c@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: gwan-gyeong.mun@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhpcyBwYXRjaCBhZGRzIGEgRFJNIEVOVU0gcHJvcGVydHkgdG8gdGhlIHNlbGVjdGVkIGNvbm5l
Y3RvcnMuClRoaXMgcHJvcGVydHkgaXMgdXNlZCBmb3IgbWVudGlvbmluZyB0aGUgcHJvdGVjdGVk
IGNvbnRlbnQncyB0eXBlCmZyb20gdXNlcnNwYWNlIHRvIGtlcm5lbCBIRENQIGF1dGhlbnRpY2F0
aW9uLgoKVHlwZSBvZiB0aGUgc3RyZWFtIGlzIGRlY2lkZWQgYnkgdGhlIHByb3RlY3RlZCBjb250
ZW50IHByb3ZpZGVycy4KVHlwZSAwIGNvbnRlbnQgY2FuIGJlIHJlbmRlcmVkIG9uIGFueSBIRENQ
IHByb3RlY3RlZCBkaXNwbGF5IHdpcmVzLgpCdXQgVHlwZSAxIGNvbnRlbnQgY2FuIGJlIHJlbmRl
cmVkIG9ubHkgb24gSERDUDIuMiBwcm90ZWN0ZWQgcGF0aHMuCgpTbyB3aGVuIGEgdXNlcnNwYWNl
IHNldHMgdGhpcyBwcm9wZXJ0eSB0byBUeXBlIDEgYW5kIHN0YXJ0cyB0aGUgSERDUAplbmFibGUs
IGtlcm5lbCB3aWxsIGhvbm91ciBpdCBvbmx5IGlmIEhEQ1AyLjIgYXV0aGVudGljYXRpb24gaXMg
dGhyb3VnaApmb3IgdHlwZSAxLiBFbHNlIEhEQ1AgZW5hYmxlIHdpbGwgYmUgZmFpbGVkLgoKTmVl
ZCBBQ0sgZm9yIHRoaXMgbmV3IGNvbmVuY3RvciBwcm9wZXJ0eSBmcm9tIHVzZXJzcGFjZSBjb25z
dW1lci4KCnYyOgogIGNwX2NvbnRlbnRfdHlwZSBpcyByZXBsYWNlZCB3aXRoIGNvbnRlbnRfcHJv
dGVjdGlvbl90eXBlIFtkYW5pZWxdCiAgY2hlY2sgYXQgYXRvbWljX3NldF9wcm9wZXJ0eSBpcyBy
ZW1vdmVkIFtNYWFydGVuXQp2MzoKICAlcy9jb250ZW50X3Byb3RlY3Rpb25fdHlwZS9oZGNwX2Nv
bnRlbnRfdHlwZSBbUGVra2FdCnY0OgogIHByb3BlcnR5IGlzIGNyZWF0ZWQgZm9yIHRoZSBmaXJz
dCByZXF1ZXN0ZWQgY29ubmVjdG9yIGFuZCB0aGVuIHJldXNlZC4KCVtEYW52ZXRdCnY1OgogIGtl
cm5lbCBkb2Mgbml0cyBhZGRyZXNzZWQgW0RhbmllbF0KICBSZWJhc2VkIGFzIHBhcnQgb2YgcGF0
Y2ggcmVvcmRlcmluZy4KClNpZ25lZC1vZmYtYnk6IFJhbWFsaW5nYW0gQyA8cmFtYWxpbmdhbS5j
QGludGVsLmNvbT4KUmV2aWV3ZWQtYnk6IERhbmllbCBWZXR0ZXIgPGRhbmllbC52ZXR0ZXJAZmZ3
bGwuY2g+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2RybV9hdG9taWNfdWFwaS5jIHwgIDQgKysrKwog
ZHJpdmVycy9ncHUvZHJtL2RybV9jb25uZWN0b3IuYyAgIHwgMTggKysrKysrKysrKysrKysrKwog
ZHJpdmVycy9ncHUvZHJtL2RybV9oZGNwLmMgICAgICAgIHwgMzYgKysrKysrKysrKysrKysrKysr
KysrKysrKysrKysrLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfaGRjcC5jIHwgIDQgKysr
LQogaW5jbHVkZS9kcm0vZHJtX2Nvbm5lY3Rvci5oICAgICAgIHwgIDcgKysrKysrCiBpbmNsdWRl
L2RybS9kcm1faGRjcC5oICAgICAgICAgICAgfCAgMiArLQogaW5jbHVkZS9kcm0vZHJtX21vZGVf
Y29uZmlnLmggICAgIHwgIDYgKysrKysrCiBpbmNsdWRlL3VhcGkvZHJtL2RybV9tb2RlLmggICAg
ICAgfCAgNCArKysrCiA4IGZpbGVzIGNoYW5nZWQsIDc4IGluc2VydGlvbnMoKyksIDMgZGVsZXRp
b25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2RybV9hdG9taWNfdWFwaS5jIGIv
ZHJpdmVycy9ncHUvZHJtL2RybV9hdG9taWNfdWFwaS5jCmluZGV4IDQxMzFlNjY5Nzg1YS4uYTg1
ZjNjY2ZlNjk5IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vZHJtX2F0b21pY191YXBpLmMK
KysrIGIvZHJpdmVycy9ncHUvZHJtL2RybV9hdG9taWNfdWFwaS5jCkBAIC03MzgsNiArNzM4LDgg
QEAgc3RhdGljIGludCBkcm1fYXRvbWljX2Nvbm5lY3Rvcl9zZXRfcHJvcGVydHkoc3RydWN0IGRy
bV9jb25uZWN0b3IgKmNvbm5lY3RvciwKIAkJCXJldHVybiAtRUlOVkFMOwogCQl9CiAJCXN0YXRl
LT5jb250ZW50X3Byb3RlY3Rpb24gPSB2YWw7CisJfSBlbHNlIGlmIChwcm9wZXJ0eSA9PSBjb25m
aWctPmhkY3BfY29udGVudF90eXBlX3Byb3BlcnR5KSB7CisJCXN0YXRlLT5oZGNwX2NvbnRlbnRf
dHlwZSA9IHZhbDsKIAl9IGVsc2UgaWYgKHByb3BlcnR5ID09IGNvbm5lY3Rvci0+Y29sb3JzcGFj
ZV9wcm9wZXJ0eSkgewogCQlzdGF0ZS0+Y29sb3JzcGFjZSA9IHZhbDsKIAl9IGVsc2UgaWYgKHBy
b3BlcnR5ID09IGNvbmZpZy0+d3JpdGViYWNrX2ZiX2lkX3Byb3BlcnR5KSB7CkBAIC04MTYsNiAr
ODE4LDggQEAgZHJtX2F0b21pY19jb25uZWN0b3JfZ2V0X3Byb3BlcnR5KHN0cnVjdCBkcm1fY29u
bmVjdG9yICpjb25uZWN0b3IsCiAJCSp2YWwgPSBzdGF0ZS0+c2NhbGluZ19tb2RlOwogCX0gZWxz
ZSBpZiAocHJvcGVydHkgPT0gY29uZmlnLT5jb250ZW50X3Byb3RlY3Rpb25fcHJvcGVydHkpIHsK
IAkJKnZhbCA9IHN0YXRlLT5jb250ZW50X3Byb3RlY3Rpb247CisJfSBlbHNlIGlmIChwcm9wZXJ0
eSA9PSBjb25maWctPmhkY3BfY29udGVudF90eXBlX3Byb3BlcnR5KSB7CisJCSp2YWwgPSBzdGF0
ZS0+aGRjcF9jb250ZW50X3R5cGU7CiAJfSBlbHNlIGlmIChwcm9wZXJ0eSA9PSBjb25maWctPndy
aXRlYmFja19mYl9pZF9wcm9wZXJ0eSkgewogCQkvKiBXcml0ZWJhY2sgZnJhbWVidWZmZXIgaXMg
b25lLXNob3QsIHdyaXRlIGFuZCBmb3JnZXQgKi8KIAkJKnZhbCA9IDA7CmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vZHJtX2Nvbm5lY3Rvci5jIGIvZHJpdmVycy9ncHUvZHJtL2RybV9jb25u
ZWN0b3IuYwppbmRleCA3NjRjNzkwM2VkZjYuLmRlOWUwNjU4M2U4YyAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2RybV9jb25uZWN0b3IuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2Nv
bm5lY3Rvci5jCkBAIC05NTUsNiArOTU1LDI0IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX3By
b3BfZW51bV9saXN0IGhkbWlfY29sb3JzcGFjZXNbXSA9IHsKICAqCSAgdGhlIHZhbHVlIHRyYW5z
aXRpb25zIGZyb20gRU5BQkxFRCB0byBERVNJUkVELiBUaGlzIHNpZ25pZmllcyB0aGUgbGluawog
ICoJICBpcyBubyBsb25nZXIgcHJvdGVjdGVkIGFuZCB1c2Vyc3BhY2Ugc2hvdWxkIHRha2UgYXBw
cm9wcmlhdGUgYWN0aW9uCiAgKgkgICh3aGF0ZXZlciB0aGF0IG1pZ2h0IGJlKS4KKyAqIEhEQ1Ag
Q29udGVudCBUeXBlOgorICoJVGhpcyBwcm9wZXJ0eSBpcyB1c2VkIGJ5IHRoZSB1c2Vyc3BhY2Ug
dG8gY29uZmlndXJlIHRoZSBrZXJuZWwgd2l0aAorICoJdG8gYmUgZGlzcGxheWVkIHN0cmVhbSdz
IGNvbnRlbnQgdHlwZS4gQ29udGVudCBUeXBlIG9mIGEgc3RyZWFtIGlzCisgKglkZWNpZGVkIGJ5
IHRoZSBvd25lciBvZiB0aGUgc3RyZWFtLCBhcyBIRENQIFR5cGUwIG9yIEhEQ1AgVHlwZTEuCisg
KgorICoJVGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSBjYW4gYmUgb25lIHRoZSBiZWxvdzoKKyAq
CSAgLSBEUk1fTU9ERV9IRENQX0NPTlRFTlRfVFlQRTAgPSAwCisgKgkJSERDUCBUeXBlMCBzdHJl
YW1zIGNhbiBiZSB0cmFuc21pdHRlZCBvbiBhIGxpbmsgd2hpY2ggaXMKKyAqCQllbmNyeXB0ZWQg
d2l0aCBIRENQIDEuNCBvciBIRENQIDIuMi4KKyAqCSAgLSBEUk1fTU9ERV9IRENQX0NPTlRFTlRf
VFlQRTEgPSAxCisgKgkJSERDUCBUeXBlMSBzdHJlYW1zIGNhbiBiZSB0cmFuc21pdHRlZCBvbiBh
IGxpbmsgd2hpY2ggaXMKKyAqCQllbmNyeXB0ZWQgb25seSB3aXRoIEhEQ1AgMi4yLgorICoKKyAq
CU5vdGUgdGhhdCB0aGUgSERDUCBDb250ZW50IFR5cGUgcHJvcGVydHkgaXMgc3BlY2lmaWMgdG8g
SERDUCAyLjIsIGFuZAorICoJZGVmYXVsdHMgdG8gdHlwZSAwLiBJdCBpcyBvbmx5IGV4cG9zZWQg
YnkgZHJpdmVycyBzdXBwb3J0aW5nIEhEQ1AgMi4yCisgKglJZiBjb250ZW50IHR5cGUgaXMgY2hh
bmdlZCB3aGVuIGNvbnRlbnRfcHJvdGVjdGlvbiBpcyBub3QgVU5ERVNJUkVELAorICoJdGhlbiBr
ZXJuZWwgd2lsbCBkaXNhYmxlIHRoZSBIRENQIGFuZCByZS1lbmFibGUgd2l0aCBuZXcgdHlwZSBp
biB0aGUKKyAqCXNhbWUgYXRvbWljIGNvbW1pdAogICoKICAqIG1heCBicGM6CiAgKglUaGlzIHJh
bmdlIHByb3BlcnR5IGlzIHVzZWQgYnkgdXNlcnNwYWNlIHRvIGxpbWl0IHRoZSBiaXQgZGVwdGgu
IFdoZW4KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9kcm1faGRjcC5jIGIvZHJpdmVycy9n
cHUvZHJtL2RybV9oZGNwLmMKaW5kZXggMGRhN2IzNzE4YmFkLi43NTQwMjQ2MzQ2NmIgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9kcm1faGRjcC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9k
cm1faGRjcC5jCkBAIC0zNDIsMjMgKzM0Miw0MSBAQCBzdGF0aWMgc3RydWN0IGRybV9wcm9wX2Vu
dW1fbGlzdCBkcm1fY3BfZW51bV9saXN0W10gPSB7CiB9OwogRFJNX0VOVU1fTkFNRV9GTihkcm1f
Z2V0X2NvbnRlbnRfcHJvdGVjdGlvbl9uYW1lLCBkcm1fY3BfZW51bV9saXN0KQogCitzdGF0aWMg
c3RydWN0IGRybV9wcm9wX2VudW1fbGlzdCBkcm1faGRjcF9jb250ZW50X3R5cGVfZW51bV9saXN0
W10gPSB7CisJeyBEUk1fTU9ERV9IRENQX0NPTlRFTlRfVFlQRTAsICJIRENQIFR5cGUwIiB9LAor
CXsgRFJNX01PREVfSERDUF9DT05URU5UX1RZUEUxLCAiSERDUCBUeXBlMSIgfSwKK307CitEUk1f
RU5VTV9OQU1FX0ZOKGRybV9nZXRfaGRjcF9jb250ZW50X3R5cGVfbmFtZSwKKwkJIGRybV9oZGNw
X2NvbnRlbnRfdHlwZV9lbnVtX2xpc3QpCisKIC8qKgogICogZHJtX2Nvbm5lY3Rvcl9hdHRhY2hf
Y29udGVudF9wcm90ZWN0aW9uX3Byb3BlcnR5IC0gYXR0YWNoIGNvbnRlbnQgcHJvdGVjdGlvbgog
ICogcHJvcGVydHkKICAqCiAgKiBAY29ubmVjdG9yOiBjb25uZWN0b3IgdG8gYXR0YWNoIENQIHBy
b3BlcnR5IG9uLgorICogQGhkY3BfY29udGVudF90eXBlOiBpcyBIRENQIENvbnRlbnQgVHlwZSBw
cm9wZXJ0eSBuZWVkZWQgZm9yIGNvbm5lY3RvcgogICoKICAqIFRoaXMgaXMgdXNlZCB0byBhZGQg
c3VwcG9ydCBmb3IgY29udGVudCBwcm90ZWN0aW9uIG9uIHNlbGVjdCBjb25uZWN0b3JzLgogICog
Q29udGVudCBQcm90ZWN0aW9uIGlzIGludGVudGlvbmFsbHkgdmFndWUgdG8gYWxsb3cgZm9yIGRp
ZmZlcmVudCB1bmRlcmx5aW5nCiAgKiB0ZWNobm9sb2dpZXMsIGhvd2V2ZXIgaXQgaXMgbW9zdCBp
bXBsZW1lbnRlZCBieSBIRENQLgogICoKKyAqIFdoZW4gaGRjcF9jb250ZW50X3R5cGUgaXMgdHJ1
ZSBlbnVtIHByb3BlcnR5IGNhbGxlZCBIRENQIENvbnRlbnQgVHlwZSBpcworICogY3JlYXRlZCAo
aWYgaXQgaXMgbm90IGFscmVhZHkpIGFuZCBhdHRhY2hlZCB0byB0aGUgY29ubmVjdG9yLgorICoK
KyAqIFRoaXMgcHJvcGVydHkgaXMgdXNlZCBmb3Igc2VuZGluZyB0aGUgcHJvdGVjdGVkIGNvbnRl
bnQncyBzdHJlYW0gdHlwZQorICogZnJvbSB1c2Vyc3BhY2UgdG8ga2VybmVsIG9uIHNlbGVjdGVk
IGNvbm5lY3RvcnMuIFByb3RlY3RlZCBjb250ZW50IHByb3ZpZGVyCisgKiB3aWxsIGRlY2lkZSB0
aGVpciB0eXBlIG9mIHRoZWlyIGNvbnRlbnQgYW5kIGRlY2xhcmUgdGhlIHNhbWUgdG8ga2VybmVs
LgorICoKKyAqIENvbnRlbnQgdHlwZSB3aWxsIGJlIHVzZWQgZHVyaW5nIHRoZSBIRENQIDIuMiBh
dXRoZW50aWNhdGlvbi4KKyAqIENvbnRlbnQgdHlwZSB3aWxsIGJlIHNldCB0byAmZHJtX2Nvbm5l
Y3Rvcl9zdGF0ZS5oZGNwX2NvbnRlbnRfdHlwZS4KKyAqCiAgKiBUaGUgY29udGVudCBwcm90ZWN0
aW9uIHdpbGwgYmUgc2V0IHRvICZkcm1fY29ubmVjdG9yX3N0YXRlLmNvbnRlbnRfcHJvdGVjdGlv
bgogICoKICAqIFJldHVybnM6CiAgKiBaZXJvIG9uIHN1Y2Nlc3MsIG5lZ2F0aXZlIGVycm5vIG9u
IGZhaWx1cmUuCiAgKi8KIGludCBkcm1fY29ubmVjdG9yX2F0dGFjaF9jb250ZW50X3Byb3RlY3Rp
b25fcHJvcGVydHkoCi0JCXN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCisJCXN0cnVj
dCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IsIGJvb2wgaGRjcF9jb250ZW50X3R5cGUpCiB7CiAJ
c3RydWN0IGRybV9kZXZpY2UgKmRldiA9IGNvbm5lY3Rvci0+ZGV2OwogCXN0cnVjdCBkcm1fcHJv
cGVydHkgKnByb3AgPQpAQCAtMzc1LDYgKzM5MywyMiBAQCBpbnQgZHJtX2Nvbm5lY3Rvcl9hdHRh
Y2hfY29udGVudF9wcm90ZWN0aW9uX3Byb3BlcnR5KAogCQkJCSAgIERSTV9NT0RFX0NPTlRFTlRf
UFJPVEVDVElPTl9VTkRFU0lSRUQpOwogCWRldi0+bW9kZV9jb25maWcuY29udGVudF9wcm90ZWN0
aW9uX3Byb3BlcnR5ID0gcHJvcDsKIAorCWlmICghaGRjcF9jb250ZW50X3R5cGUpCisJCXJldHVy
biAwOworCisJcHJvcCA9IGRldi0+bW9kZV9jb25maWcuaGRjcF9jb250ZW50X3R5cGVfcHJvcGVy
dHk7CisJaWYgKCFwcm9wKQorCQlwcm9wID0gZHJtX3Byb3BlcnR5X2NyZWF0ZV9lbnVtKGRldiwg
MCwgIkhEQ1AgQ29udGVudCBUeXBlIiwKKwkJCQkJZHJtX2hkY3BfY29udGVudF90eXBlX2VudW1f
bGlzdCwKKwkJCQkJQVJSQVlfU0laRSgKKwkJCQkJZHJtX2hkY3BfY29udGVudF90eXBlX2VudW1f
bGlzdCkpOworCWlmICghcHJvcCkKKwkJcmV0dXJuIC1FTk9NRU07CisKKwlkcm1fb2JqZWN0X2F0
dGFjaF9wcm9wZXJ0eSgmY29ubmVjdG9yLT5iYXNlLCBwcm9wLAorCQkJCSAgIERSTV9NT0RFX0hE
Q1BfQ09OVEVOVF9UWVBFMCk7CisJZGV2LT5tb2RlX2NvbmZpZy5oZGNwX2NvbnRlbnRfdHlwZV9w
cm9wZXJ0eSA9IHByb3A7CisKIAlyZXR1cm4gMDsKIH0KIEVYUE9SVF9TWU1CT0woZHJtX2Nvbm5l
Y3Rvcl9hdHRhY2hfY29udGVudF9wcm90ZWN0aW9uX3Byb3BlcnR5KTsKZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2hkY3AuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2lu
dGVsX2hkY3AuYwppbmRleCA1M2RmMmYyMzc2ZTguLmJlNmM4MWFkZGNhMCAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfaGRjcC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2ludGVsX2hkY3AuYwpAQCAtMTgyOSw3ICsxODI5LDkgQEAgaW50IGludGVsX2hkY3BfaW5p
dChzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICpjb25uZWN0b3IsCiAJaWYgKCFzaGltKQogCQlyZXR1
cm4gLUVJTlZBTDsKIAotCXJldCA9IGRybV9jb25uZWN0b3JfYXR0YWNoX2NvbnRlbnRfcHJvdGVj
dGlvbl9wcm9wZXJ0eSgmY29ubmVjdG9yLT5iYXNlKTsKKwlyZXQgPQorCWRybV9jb25uZWN0b3Jf
YXR0YWNoX2NvbnRlbnRfcHJvdGVjdGlvbl9wcm9wZXJ0eSgmY29ubmVjdG9yLT5iYXNlLAorCQkJ
CQkJCSBmYWxzZSk7CiAJaWYgKHJldCkKIAkJcmV0dXJuIHJldDsKIApkaWZmIC0tZ2l0IGEvaW5j
bHVkZS9kcm0vZHJtX2Nvbm5lY3Rvci5oIGIvaW5jbHVkZS9kcm0vZHJtX2Nvbm5lY3Rvci5oCmlu
ZGV4IGUyNTdiODc5YjcyYy4uNjUwMDUyNDBjNTYxIDEwMDY0NAotLS0gYS9pbmNsdWRlL2RybS9k
cm1fY29ubmVjdG9yLmgKKysrIGIvaW5jbHVkZS9kcm0vZHJtX2Nvbm5lY3Rvci5oCkBAIC01NjAs
NiArNTYwLDEyIEBAIHN0cnVjdCBkcm1fY29ubmVjdG9yX3N0YXRlIHsKIAkgKi8KIAl1bnNpZ25l
ZCBpbnQgY29udGVudF90eXBlOwogCisJLyoqCisJICogQGhkY3BfY29udGVudF90eXBlOiBDb25u
ZWN0b3IgcHJvcGVydHkgdG8gcGFzcyB0aGUgdHlwZSBvZgorCSAqIHByb3RlY3RlZCBjb250ZW50
LiBUaGlzIGlzIG1vc3QgY29tbW9ubHkgdXNlZCBmb3IgSERDUC4KKwkgKi8KKwl1bnNpZ25lZCBp
bnQgaGRjcF9jb250ZW50X3R5cGU7CisKIAkvKioKIAkgKiBAc2NhbGluZ19tb2RlOiBDb25uZWN0
b3IgcHJvcGVydHkgdG8gY29udHJvbCB0aGUKIAkgKiB1cHNjYWxpbmcsIG1vc3RseSB1c2VkIGZv
ciBidWlsdC1pbiBwYW5lbHMuCkBAIC0xMzMwLDYgKzEzMzYsNyBAQCBjb25zdCBjaGFyICpkcm1f
Z2V0X2R2aV9pX3NlbGVjdF9uYW1lKGludCB2YWwpOwogY29uc3QgY2hhciAqZHJtX2dldF90dl9z
dWJjb25uZWN0b3JfbmFtZShpbnQgdmFsKTsKIGNvbnN0IGNoYXIgKmRybV9nZXRfdHZfc2VsZWN0
X25hbWUoaW50IHZhbCk7CiBjb25zdCBjaGFyICpkcm1fZ2V0X2NvbnRlbnRfcHJvdGVjdGlvbl9u
YW1lKGludCB2YWwpOworY29uc3QgY2hhciAqZHJtX2dldF9oZGNwX2NvbnRlbnRfdHlwZV9uYW1l
KGludCB2YWwpOwogCiBpbnQgZHJtX21vZGVfY3JlYXRlX2R2aV9pX3Byb3BlcnRpZXMoc3RydWN0
IGRybV9kZXZpY2UgKmRldik7CiBpbnQgZHJtX21vZGVfY3JlYXRlX3R2X21hcmdpbl9wcm9wZXJ0
aWVzKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYpOwpkaWZmIC0tZ2l0IGEvaW5jbHVkZS9kcm0vZHJt
X2hkY3AuaCBiL2luY2x1ZGUvZHJtL2RybV9oZGNwLmgKaW5kZXggMTM3NzFhNDk2ZTJiLi4yOTcw
YWJkZmFmMTIgMTAwNjQ0Ci0tLSBhL2luY2x1ZGUvZHJtL2RybV9oZGNwLmgKKysrIGIvaW5jbHVk
ZS9kcm0vZHJtX2hkY3AuaApAQCAtMjkxLDUgKzI5MSw1IEBAIHN0cnVjdCBkcm1fY29ubmVjdG9y
OwogYm9vbCBkcm1faGRjcF9jaGVja19rc3ZzX3Jldm9rZWQoc3RydWN0IGRybV9kZXZpY2UgKmRl
diwKIAkJCQkgdTggKmtzdnMsIHUzMiBrc3ZfY291bnQpOwogaW50IGRybV9jb25uZWN0b3JfYXR0
YWNoX2NvbnRlbnRfcHJvdGVjdGlvbl9wcm9wZXJ0eSgKLQkJc3RydWN0IGRybV9jb25uZWN0b3Ig
KmNvbm5lY3Rvcik7CisJCXN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IsIGJvb2wgaGRj
cF9jb250ZW50X3R5cGUpOwogI2VuZGlmCmRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS9kcm1fbW9k
ZV9jb25maWcuaCBiL2luY2x1ZGUvZHJtL2RybV9tb2RlX2NvbmZpZy5oCmluZGV4IDU3NjRlZTNj
NzQ1My4uYjM1OWI1YjcxZWI5IDEwMDY0NAotLS0gYS9pbmNsdWRlL2RybS9kcm1fbW9kZV9jb25m
aWcuaAorKysgYi9pbmNsdWRlL2RybS9kcm1fbW9kZV9jb25maWcuaApAQCAtODQyLDYgKzg0Miwx
MiBAQCBzdHJ1Y3QgZHJtX21vZGVfY29uZmlnIHsKIAkgKi8KIAlzdHJ1Y3QgZHJtX3Byb3BlcnR5
ICpjb250ZW50X3Byb3RlY3Rpb25fcHJvcGVydHk7CiAKKwkvKioKKwkgKiBAaGRjcF9jb250ZW50
X3R5cGVfcHJvcGVydHk6IERSTSBFTlVNIHByb3BlcnR5IGZvciB0eXBlIG9mCisJICogUHJvdGVj
dGVkIENvbnRlbnQuCisJICovCisJc3RydWN0IGRybV9wcm9wZXJ0eSAqaGRjcF9jb250ZW50X3R5
cGVfcHJvcGVydHk7CisKIAkvKiBkdW1iIGlvY3RsIHBhcmFtZXRlcnMgKi8KIAl1aW50MzJfdCBw
cmVmZXJyZWRfZGVwdGgsIHByZWZlcl9zaGFkb3c7CiAKZGlmZiAtLWdpdCBhL2luY2x1ZGUvdWFw
aS9kcm0vZHJtX21vZGUuaCBiL2luY2x1ZGUvdWFwaS9kcm0vZHJtX21vZGUuaAppbmRleCA4M2Nk
MTYzNmI5YmUuLjhhYzAzMzUxZmRlZSAxMDA2NDQKLS0tIGEvaW5jbHVkZS91YXBpL2RybS9kcm1f
bW9kZS5oCisrKyBiL2luY2x1ZGUvdWFwaS9kcm0vZHJtX21vZGUuaApAQCAtMjA5LDYgKzIwOSwx
MCBAQCBleHRlcm4gIkMiIHsKICNkZWZpbmUgRFJNX01PREVfQ09OVEVOVF9QUk9URUNUSU9OX0RF
U0lSRUQgICAgIDEKICNkZWZpbmUgRFJNX01PREVfQ09OVEVOVF9QUk9URUNUSU9OX0VOQUJMRUQg
ICAgIDIKIAorLyogQ29udGVudCBUeXBlIGNsYXNzaWZpY2F0aW9uIGZvciBIRENQMi4yIHZzIG90
aGVycyAqLworI2RlZmluZSBEUk1fTU9ERV9IRENQX0NPTlRFTlRfVFlQRTAJCTAKKyNkZWZpbmUg
RFJNX01PREVfSERDUF9DT05URU5UX1RZUEUxCQkxCisKIHN0cnVjdCBkcm1fbW9kZV9tb2RlaW5m
byB7CiAJX191MzIgY2xvY2s7CiAJX191MTYgaGRpc3BsYXk7Ci0tIAoyLjE5LjEKCl9fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5n
IGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVk
ZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
