Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 8928ADB4F5
	for <lists+dri-devel@lfdr.de>; Thu, 17 Oct 2019 19:53:49 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AAC736EA16;
	Thu, 17 Oct 2019 17:53:46 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 292E06E47A;
 Thu, 17 Oct 2019 17:53:45 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx05.intmail.prod.int.phx2.redhat.com
 [10.5.11.15])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id 4FF04307C658;
 Thu, 17 Oct 2019 17:53:44 +0000 (UTC)
Received: from x1.home (ovpn-118-102.phx2.redhat.com [10.3.118.102])
 by smtp.corp.redhat.com (Postfix) with ESMTP id C8D975D6C8;
 Thu, 17 Oct 2019 17:53:29 +0000 (UTC)
Date: Thu, 17 Oct 2019 11:53:29 -0600
From: Alex Williamson <alex.williamson@redhat.com>
To: Jason Wang <jasowang@redhat.com>
Subject: Re: [PATCH V4 4/6] mdev: introduce virtio device and its device ops
Message-ID: <20191017115329.47d4a165@x1.home>
In-Reply-To: <20191017104836.32464-5-jasowang@redhat.com>
References: <20191017104836.32464-1-jasowang@redhat.com>
 <20191017104836.32464-5-jasowang@redhat.com>
Organization: Red Hat
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.15
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.42]); Thu, 17 Oct 2019 17:53:44 +0000 (UTC)
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: stefanha@redhat.com, christophe.de.dinechin@gmail.com, kvm@vger.kernel.org,
 mst@redhat.com, airlied@linux.ie, heiko.carstens@de.ibm.com,
 kevin.tian@intel.com, dri-devel@lists.freedesktop.org,
 virtualization@lists.linux-foundation.org, kwankhede@nvidia.com,
 rob.miller@broadcom.com, linux-s390@vger.kernel.org, sebott@linux.ibm.com,
 lulu@redhat.com, eperezma@redhat.com, pasic@linux.ibm.com,
 borntraeger@de.ibm.com, haotian.wang@sifive.com, cunming.liang@intel.com,
 zhi.a.wang@intel.com, farman@linux.ibm.com, idos@mellanox.com,
 gor@linux.ibm.com, intel-gfx@lists.freedesktop.org, rodrigo.vivi@intel.com,
 xiao.w.wang@intel.com, freude@linux.ibm.com, parav@mellanox.com,
 zhihong.wang@intel.com, intel-gvt-dev@lists.freedesktop.org,
 akrowiak@linux.ibm.com, oberpar@linux.ibm.com, tiwei.bie@intel.com,
 netdev@vger.kernel.org, cohuck@redhat.com, linux-kernel@vger.kernel.org,
 maxime.coquelin@redhat.com, lingshan.zhu@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVGh1LCAxNyBPY3QgMjAxOSAxODo0ODozNCArMDgwMApKYXNvbiBXYW5nIDxqYXNvd2FuZ0By
ZWRoYXQuY29tPiB3cm90ZToKCj4gVGhpcyBwYXRjaCBpbXBsZW1lbnRzIGJhc2ljIHN1cHBvcnQg
Zm9yIG1kZXYgZHJpdmVyIHRoYXQgc3VwcG9ydHMKPiB2aXJ0aW8gdHJhbnNwb3J0IGZvciBrZXJu
ZWwgdmlydGlvIGRyaXZlci4KPiAKPiBTaWduZWQtb2ZmLWJ5OiBKYXNvbiBXYW5nIDxqYXNvd2Fu
Z0ByZWRoYXQuY29tPgo+IC0tLQo+ICBkcml2ZXJzL3ZmaW8vbWRldi9tZGV2X2NvcmUuYyB8ICAx
MiArKysKPiAgaW5jbHVkZS9saW51eC9tZGV2LmggICAgICAgICAgfCAgIDQgKwo+ICBpbmNsdWRl
L2xpbnV4L3ZpcnRpb19tZGV2LmggICB8IDE1MSArKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKysrCj4gIDMgZmlsZXMgY2hhbmdlZCwgMTY3IGluc2VydGlvbnMoKykKPiAgY3JlYXRlIG1v
ZGUgMTAwNjQ0IGluY2x1ZGUvbGludXgvdmlydGlvX21kZXYuaAo+IAo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL3ZmaW8vbWRldi9tZGV2X2NvcmUuYyBiL2RyaXZlcnMvdmZpby9tZGV2L21kZXZfY29y
ZS5jCj4gaW5kZXggZDBmMzExM2M4MDcxLi41ODM0ZjZiN2M3YTUgMTAwNjQ0Cj4gLS0tIGEvZHJp
dmVycy92ZmlvL21kZXYvbWRldl9jb3JlLmMKPiArKysgYi9kcml2ZXJzL3ZmaW8vbWRldi9tZGV2
X2NvcmUuYwo+IEBAIC01Nyw2ICs1NywxOCBAQCB2b2lkIG1kZXZfc2V0X3ZmaW9fb3BzKHN0cnVj
dCBtZGV2X2RldmljZSAqbWRldiwKPiAgfQo+ICBFWFBPUlRfU1lNQk9MKG1kZXZfc2V0X3ZmaW9f
b3BzKTsKPiAgCj4gKy8qIFNwZWNpZnkgdGhlIHZpcnRpbyBkZXZpY2Ugb3BzIGZvciB0aGUgbWRl
diBkZXZpY2UsIHRoaXMKPiArICogbXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNyZWF0ZSgpIGNhbGxi
YWNrIGZvciB2aXJ0aW8gbWRldiBkZXZpY2UuCj4gKyAqLwo+ICt2b2lkIG1kZXZfc2V0X3ZpcnRp
b19vcHMoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2LAo+ICsJCQkgY29uc3Qgc3RydWN0IHZpcnRp
b19tZGV2X2RldmljZV9vcHMgKnZpcnRpb19vcHMpCj4gK3sKPiArCUJVR19PTihtZGV2LT5jbGFz
c19pZCk7CgpOaXQsIHRoaXMgb25lIGlzIGEgQlVHX09OLCBidXQgdGhlIHZmaW8gb25lIGlzIGEg
V0FSTl9PTi4gIFRoYW5rcywKCkFsZXgKCj4gKwltZGV2LT5jbGFzc19pZCA9IE1ERVZfQ0xBU1Nf
SURfVklSVElPOwo+ICsJbWRldi0+ZGV2aWNlX29wcyA9IHZpcnRpb19vcHM7Cj4gK30KPiArRVhQ
T1JUX1NZTUJPTChtZGV2X3NldF92aXJ0aW9fb3BzKTsKPiArCj4gIGNvbnN0IHZvaWQgKm1kZXZf
Z2V0X2Rldl9vcHMoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2KQo+ICB7Cj4gIAlyZXR1cm4gbWRl
di0+ZGV2aWNlX29wczsKPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9saW51eC9tZGV2LmggYi9pbmNs
dWRlL2xpbnV4L21kZXYuaAo+IGluZGV4IDNkMjllMDllMjBjOS4uMTNlMDQ1ZTA5ZDNiIDEwMDY0
NAo+IC0tLSBhL2luY2x1ZGUvbGludXgvbWRldi5oCj4gKysrIGIvaW5jbHVkZS9saW51eC9tZGV2
LmgKPiBAQCAtMTcsNiArMTcsNyBAQAo+ICAKPiAgc3RydWN0IG1kZXZfZGV2aWNlOwo+ICBzdHJ1
Y3QgdmZpb19tZGV2X2RldmljZV9vcHM7Cj4gK3N0cnVjdCB2aXJ0aW9fbWRldl9kZXZpY2Vfb3Bz
Owo+ICAKPiAgLyoKPiAgICogQ2FsbGVkIGJ5IHRoZSBwYXJlbnQgZGV2aWNlIGRyaXZlciB0byBz
ZXQgdGhlIGRldmljZSB3aGljaCByZXByZXNlbnRzCj4gQEAgLTExMSw2ICsxMTIsOCBAQCB2b2lk
IG1kZXZfc2V0X2RydmRhdGEoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2LCB2b2lkICpkYXRhKTsK
PiAgY29uc3QgZ3VpZF90ICptZGV2X3V1aWQoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2KTsKPiAg
dm9pZCBtZGV2X3NldF92ZmlvX29wcyhzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYsCj4gIAkJICAg
ICAgIGNvbnN0IHN0cnVjdCB2ZmlvX21kZXZfZGV2aWNlX29wcyAqdmZpb19vcHMpOwo+ICt2b2lk
IG1kZXZfc2V0X3ZpcnRpb19vcHMoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2LAo+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgY29uc3Qgc3RydWN0IHZpcnRpb19tZGV2X2RldmljZV9vcHMgKnZp
cnRpb19vcHMpOwo+ICBjb25zdCB2b2lkICptZGV2X2dldF9kZXZfb3BzKHN0cnVjdCBtZGV2X2Rl
dmljZSAqbWRldik7Cj4gIAo+ICBleHRlcm4gc3RydWN0IGJ1c190eXBlIG1kZXZfYnVzX3R5cGU7
Cj4gQEAgLTEyNyw2ICsxMzAsNyBAQCBzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXZfZnJvbV9kZXYo
c3RydWN0IGRldmljZSAqZGV2KTsKPiAgCj4gIGVudW0gewo+ICAJTURFVl9DTEFTU19JRF9WRklP
ID0gMSwKPiArCU1ERVZfQ0xBU1NfSURfVklSVElPID0gMiwKPiAgCS8qIE5ldyBlbnRyaWVzIG11
c3QgYmUgYWRkZWQgaGVyZSAqLwo+ICB9Owo+ICAKPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9saW51
eC92aXJ0aW9fbWRldi5oIGIvaW5jbHVkZS9saW51eC92aXJ0aW9fbWRldi5oCj4gbmV3IGZpbGUg
bW9kZSAxMDA2NDQKPiBpbmRleCAwMDAwMDAwMDAwMDAuLmI5NjViNTBmOWIyNAo+IC0tLSAvZGV2
L251bGwKPiArKysgYi9pbmNsdWRlL2xpbnV4L3ZpcnRpb19tZGV2LmgKPiBAQCAtMCwwICsxLDE1
MSBAQAo+ICsvKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vbmx5ICovCj4gKy8q
Cj4gKyAqIFZpcnRpbyBtZWRpYXRlZCBkZXZpY2UgZHJpdmVyCj4gKyAqCj4gKyAqIENvcHlyaWdo
dCAyMDE5LCBSZWQgSGF0IENvcnAuCj4gKyAqICAgICBBdXRob3I6IEphc29uIFdhbmcgPGphc293
YW5nQHJlZGhhdC5jb20+Cj4gKyAqLwo+ICsjaWZuZGVmIF9MSU5VWF9WSVJUSU9fTURFVl9ICj4g
KyNkZWZpbmUgX0xJTlVYX1ZJUlRJT19NREVWX0gKPiArCj4gKyNpbmNsdWRlIDxsaW51eC9pbnRl
cnJ1cHQuaD4KPiArI2luY2x1ZGUgPGxpbnV4L21kZXYuaD4KPiArI2luY2x1ZGUgPHVhcGkvbGlu
dXgvdmhvc3QuaD4KPiArCj4gKyNkZWZpbmUgVklSVElPX01ERVZfREVWSUNFX0FQSV9TVFJJTkcJ
CSJ2aXJ0aW8tbWRldiIKPiArI2RlZmluZSBWSVJUSU9fTURFVl9GX1ZFUlNJT05fMSAweDEKPiAr
Cj4gK3N0cnVjdCB2aXJ0aW9fbWRldl9jYWxsYmFjayB7Cj4gKwlpcnFyZXR1cm5fdCAoKmNhbGxi
YWNrKSh2b2lkICpkYXRhKTsKPiArCXZvaWQgKnByaXZhdGU7Cj4gK307Cj4gKwo+ICsvKioKPiAr
ICogc3RydWN0IHZmaW9fbWRldl9kZXZpY2Vfb3BzIC0gU3RydWN0dXJlIHRvIGJlIHJlZ2lzdGVy
ZWQgZm9yIGVhY2gKPiArICogbWRldiBkZXZpY2UgdG8gcmVnaXN0ZXIgdGhlIGRldmljZSB0byB2
aXJ0aW8tbWRldiBtb2R1bGUuCj4gKyAqCj4gKyAqIEBzZXRfdnFfYWRkcmVzczoJCVNldCB0aGUg
YWRkcmVzcyBvZiB2aXJ0cXVldWUKPiArICoJCQkJQG1kZXY6IG1lZGlhdGVkIGRldmljZQo+ICsg
KgkJCQlAaWR4OiB2aXJ0cXVldWUgaW5kZXgKPiArICoJCQkJQGRlc2NfYXJlYTogYWRkcmVzcyBv
ZiBkZXNjIGFyZWEKPiArICoJCQkJQGRyaXZlcl9hcmVhOiBhZGRyZXNzIG9mIGRyaXZlciBhcmVh
Cj4gKyAqCQkJCUBkZXZpY2VfYXJlYTogYWRkcmVzcyBvZiBkZXZpY2UgYXJlYQo+ICsgKgkJCQlS
ZXR1cm5zIGludGVnZXI6IHN1Y2Nlc3MgKDApIG9yIGVycm9yICg8IDApCj4gKyAqIEBzZXRfdnFf
bnVtOgkJU2V0IHRoZSBzaXplIG9mIHZpcnRxdWV1ZQo+ICsgKgkJCQlAbWRldjogbWVkaWF0ZWQg
ZGV2aWNlCj4gKyAqCQkJCUBpZHg6IHZpcnRxdWV1ZSBpbmRleAo+ICsgKgkJCQlAbnVtOiB0aGUg
c2l6ZSBvZiB2aXJ0cXVldWUKPiArICogQGtpY2tfdnE6CQkJS2ljayB0aGUgdmlydHF1ZXVlCj4g
KyAqCQkJCUBtZGV2OiBtZWRpYXRlZCBkZXZpY2UKPiArICoJCQkJQGlkeDogdmlydHF1ZXVlIGlu
ZGV4Cj4gKyAqIEBzZXRfdnFfY2I6CQkJU2V0IHRoZSBpbnRlcnJ1cHQgY2FsbGJhY2sgZnVuY3Rp
b24gZm9yCj4gKyAqCQkJCWEgdmlydHF1ZXVlCj4gKyAqCQkJCUBtZGV2OiBtZWRpYXRlZCBkZXZp
Y2UKPiArICoJCQkJQGlkeDogdmlydHF1ZXVlIGluZGV4Cj4gKyAqCQkJCUBjYjogdmlydGlvLW1k
ZXYgaW50ZXJydXB0IGNhbGxiYWNrIHN0cnVjdHVyZQo+ICsgKiBAc2V0X3ZxX3JlYWR5OgkJU2V0
IHJlYWR5IHN0YXR1cyBmb3IgYSB2aXJ0cXVldWUKPiArICoJCQkJQG1kZXY6IG1lZGlhdGVkIGRl
dmljZQo+ICsgKgkJCQlAaWR4OiB2aXJ0cXVldWUgaW5kZXgKPiArICoJCQkJQHJlYWR5OiByZWFk
eSAodHJ1ZSkgbm90IHJlYWR5KGZhbHNlKQo+ICsgKiBAZ2V0X3ZxX3JlYWR5OgkJR2V0IHJlYWR5
IHN0YXR1cyBmb3IgYSB2aXJ0cXVldWUKPiArICoJCQkJQG1kZXY6IG1lZGlhdGVkIGRldmljZQo+
ICsgKgkJCQlAaWR4OiB2aXJ0cXVldWUgaW5kZXgKPiArICoJCQkJUmV0dXJucyBib29sZWFuOiBy
ZWFkeSAodHJ1ZSkgb3Igbm90IChmYWxzZSkKPiArICogQHNldF92cV9zdGF0ZToJCVNldCB0aGUg
c3RhdGUgZm9yIGEgdmlydHF1ZXVlCj4gKyAqCQkJCUBtZGV2OiBtZWRpYXRlZCBkZXZpY2UKPiAr
ICoJCQkJQGlkeDogdmlydHF1ZXVlIGluZGV4Cj4gKyAqCQkJCUBzdGF0ZTogdmlydHF1ZXVlIHN0
YXRlIChsYXN0X2F2YWlsX2lkeCkKPiArICoJCQkJUmV0dXJucyBpbnRlZ2VyOiBzdWNjZXNzICgw
KSBvciBlcnJvciAoPCAwKQo+ICsgKiBAZ2V0X3ZxX3N0YXRlOgkJR2V0IHRoZSBzdGF0ZSBmb3Ig
YSB2aXJ0cXVldWUKPiArICoJCQkJQG1kZXY6IG1lZGlhdGVkIGRldmljZQo+ICsgKgkJCQlAaWR4
OiB2aXJ0cXVldWUgaW5kZXgKPiArICoJCQkJUmV0dXJucyB2aXJ0cXVldWUgc3RhdGUgKGxhc3Rf
YXZhaWxfaWR4KQo+ICsgKiBAZ2V0X3ZxX2FsaWduOgkJR2V0IHRoZSB2aXJ0cXVldWUgYWxpZ24g
cmVxdWlyZW1lbnQKPiArICoJCQkJZm9yIHRoZSBkZXZpY2UKPiArICoJCQkJQG1kZXY6IG1lZGlh
dGVkIGRldmljZQo+ICsgKgkJCQlSZXR1cm5zIHZpcnRxdWV1ZSBhbGdpbiByZXF1aXJlbWVudAo+
ICsgKiBAZ2V0X2ZlYXR1cmVzOgkJR2V0IHZpcnRpbyBmZWF0dXJlcyBzdXBwb3J0ZWQgYnkgdGhl
IGRldmljZQo+ICsgKgkJCQlAbWRldjogbWVkaWF0ZWQgZGV2aWNlCj4gKyAqCQkJCVJldHVybnMg
dGhlIHZpcnRpbyBmZWF0dXJlcyBzdXBwb3J0IGJ5IHRoZQo+ICsgKgkJCQlkZXZpY2UKPiArICog
QGdldF9mZWF0dXJlczoJCVNldCB2aXJ0aW8gZmVhdHVyZXMgc3VwcG9ydGVkIGJ5IHRoZSBkcml2
ZXIKPiArICoJCQkJQG1kZXY6IG1lZGlhdGVkIGRldmljZQo+ICsgKgkJCQlAZmVhdHVyZXM6IGZl
YXR1cmUgc3VwcG9ydCBieSB0aGUgZHJpdmVyCj4gKyAqCQkJCVJldHVybnMgaW50ZWdlcjogc3Vj
Y2VzcyAoMCkgb3IgZXJyb3IgKDwgMCkKPiArICogQHNldF9jb25maWdfY2I6CQlTZXQgdGhlIGNv
bmZpZyBpbnRlcnJ1cHQgY2FsbGJhY2sKPiArICoJCQkJQG1kZXY6IG1lZGlhdGVkIGRldmljZQo+
ICsgKgkJCQlAY2I6IHZpcnRpby1tZGV2IGludGVycnVwdCBjYWxsYmFjayBzdHJ1Y3R1cmUKPiAr
ICogQGdldF92cV9udW1fbWF4OgkJR2V0IHRoZSBtYXggc2l6ZSBvZiB2aXJ0cXVldWUKPiArICoJ
CQkJQG1kZXY6IG1lZGlhdGVkIGRldmljZQo+ICsgKgkJCQlSZXR1cm5zIHUxNjogbWF4IHNpemUg
b2YgdmlydHF1ZXVlCj4gKyAqIEBnZXRfZGV2aWNlX2lkOgkJR2V0IHZpcnRpbyBkZXZpY2UgaWQK
PiArICoJCQkJQG1kZXY6IG1lZGlhdGVkIGRldmljZQo+ICsgKgkJCQlSZXR1cm5zIHUzMjogdmly
dGlvIGRldmljZSBpZAo+ICsgKiBAZ2V0X3ZlbmRvcl9pZDoJCUdldCB2aXJ0aW8gdmVuZG9yIGlk
Cj4gKyAqCQkJCUBtZGV2OiBtZWRpYXRlZCBkZXZpY2UKPiArICoJCQkJUmV0dXJucyB1MzI6IHZp
cnRpbyB2ZW5kb3IgaWQKPiArICogQGdldF9zdGF0dXM6IAkJR2V0IHRoZSBkZXZpY2Ugc3RhdHVz
Cj4gKyAqCQkJCUBtZGV2OiBtZWRpYXRlZCBkZXZpY2UKPiArICoJCQkJUmV0dXJucyB1ODogdmly
dGlvIGRldmljZSBzdGF0dXMKPiArICogQHNldF9zdGF0dXM6IAkJU2V0IHRoZSBkZXZpY2Ugc3Rh
dHVzCj4gKyAqCQkJCUBtZGV2OiBtZWRpYXRlZCBkZXZpY2UKPiArICoJCQkJQHN0YXR1czogdmly
dGlvIGRldmljZSBzdGF0dXMKPiArICogQGdldF9jb25maWc6IAkJUmVhZCBmcm9tIGRldmljZSBz
cGVjaWZpYyBjb25maWd1cmF0aW9uIHNwYWNlCj4gKyAqCQkJCUBtZGV2OiBtZWRpYXRlZCBkZXZp
Y2UKPiArICoJCQkJQG9mZnNldDogb2Zmc2V0IGZyb20gdGhlIGJlZ2lubmluZyBvZgo+ICsgKgkJ
CQljb25maWd1cmF0aW9uIHNwYWNlCj4gKyAqCQkJCUBidWY6IGJ1ZmZlciB1c2VkIHRvIHJlYWQg
dG8KPiArICoJCQkJQGxlbjogdGhlIGxlbmd0aCB0byByZWFkIGZyb20KPiArICoJCQkJY29uZmln
cmF0aW9uIHNwYWNlCj4gKyAqIEBzZXRfY29uZmlnOiAJCVdyaXRlIHRvIGRldmljZSBzcGVjaWZp
YyBjb25maWd1cmF0aW9uIHNwYWNlCj4gKyAqCQkJCUBtZGV2OiBtZWRpYXRlZCBkZXZpY2UKPiAr
ICoJCQkJQG9mZnNldDogb2Zmc2V0IGZyb20gdGhlIGJlZ2lubmluZyBvZgo+ICsgKgkJCQljb25m
aWd1cmF0aW9uIHNwYWNlCj4gKyAqCQkJCUBidWY6IGJ1ZmZlciB1c2VkIHRvIHdyaXRlIGZyb20K
PiArICoJCQkJQGxlbjogdGhlIGxlbmd0aCB0byB3cml0ZSB0bwo+ICsgKgkJCQljb25maWdyYXRp
b24gc3BhY2UKPiArICogQGdldF9tZGV2X2ZlYXR1cmVzOgkJR2V0IHRoZSBmZWF0dXJlIG9mIHZp
cnRpbyBtZGV2IGRldmljZQo+ICsgKgkJCQlAbWRldjogbWVkaWF0ZWQgZGV2aWNlCj4gKyAqCQkJ
CVJldHVybnMgdGhlIG1kZXYgZmVhdHVyZXMgKEFQSSkgc3VwcG9ydCBieQo+ICsgKgkJCQl0aGUg
ZGV2aWNlLgo+ICsgKiBAZ2V0X2dlbmVyYXRpb246CQlHZXQgZGV2aWNlIGdlbmVyYXRvbgo+ICsg
KgkJCQlAbWRldjogbWVkaWF0ZWQgZGV2aWNlCj4gKyAqCQkJCVJldHVybnMgdTMyOiBkZXZpY2Ug
Z2VuZXJhdGlvbgo+ICsgKi8KPiArc3RydWN0IHZpcnRpb19tZGV2X2RldmljZV9vcHMgewo+ICsJ
LyogVmlydHF1ZXVlIG9wcyAqLwo+ICsJaW50ICgqc2V0X3ZxX2FkZHJlc3MpKHN0cnVjdCBtZGV2
X2RldmljZSAqbWRldiwKPiArCQkJICAgICAgdTE2IGlkeCwgdTY0IGRlc2NfYXJlYSwgdTY0IGRy
aXZlcl9hcmVhLAo+ICsJCQkgICAgICB1NjQgZGV2aWNlX2FyZWEpOwo+ICsJdm9pZCAoKnNldF92
cV9udW0pKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldiwgdTE2IGlkeCwgdTMyIG51bSk7Cj4gKwl2
b2lkICgqa2lja192cSkoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2LCB1MTYgaWR4KTsKPiArCXZv
aWQgKCpzZXRfdnFfY2IpKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldiwgdTE2IGlkeCwKPiArCQkJ
ICBzdHJ1Y3QgdmlydGlvX21kZXZfY2FsbGJhY2sgKmNiKTsKPiArCXZvaWQgKCpzZXRfdnFfcmVh
ZHkpKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldiwgdTE2IGlkeCwgYm9vbCByZWFkeSk7Cj4gKwli
b29sICgqZ2V0X3ZxX3JlYWR5KShzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYsIHUxNiBpZHgpOwo+
ICsJaW50ICgqc2V0X3ZxX3N0YXRlKShzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYsIHUxNiBpZHgs
IHU2NCBzdGF0ZSk7Cj4gKwl1NjQgKCpnZXRfdnFfc3RhdGUpKHN0cnVjdCBtZGV2X2RldmljZSAq
bWRldiwgdTE2IGlkeCk7Cj4gKwo+ICsJLyogRGV2aWNlIG9wcyAqLwo+ICsJdTE2ICgqZ2V0X3Zx
X2FsaWduKShzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYpOwo+ICsJdTY0ICgqZ2V0X2ZlYXR1cmVz
KShzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYpOwo+ICsJaW50ICgqc2V0X2ZlYXR1cmVzKShzdHJ1
Y3QgbWRldl9kZXZpY2UgKm1kZXYsIHU2NCBmZWF0dXJlcyk7Cj4gKwl2b2lkICgqc2V0X2NvbmZp
Z19jYikoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2LAo+ICsJCQkgICAgICBzdHJ1Y3QgdmlydGlv
X21kZXZfY2FsbGJhY2sgKmNiKTsKPiArCXUxNiAoKmdldF92cV9udW1fbWF4KShzdHJ1Y3QgbWRl
dl9kZXZpY2UgKm1kZXYpOwo+ICsJdTMyICgqZ2V0X2RldmljZV9pZCkoc3RydWN0IG1kZXZfZGV2
aWNlICptZGV2KTsKPiArCXUzMiAoKmdldF92ZW5kb3JfaWQpKHN0cnVjdCBtZGV2X2RldmljZSAq
bWRldik7Cj4gKwl1OCAoKmdldF9zdGF0dXMpKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldik7Cj4g
Kwl2b2lkICgqc2V0X3N0YXR1cykoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2LCB1OCBzdGF0dXMp
Owo+ICsJdm9pZCAoKmdldF9jb25maWcpKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldiwgdW5zaWdu
ZWQgaW50IG9mZnNldCwKPiArCQkJICAgdm9pZCAqYnVmLCB1bnNpZ25lZCBpbnQgbGVuKTsKPiAr
CXZvaWQgKCpzZXRfY29uZmlnKShzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYsIHVuc2lnbmVkIGlu
dCBvZmZzZXQsCj4gKwkJCSAgIGNvbnN0IHZvaWQgKmJ1ZiwgdW5zaWduZWQgaW50IGxlbik7Cj4g
Kwl1NjQgKCpnZXRfbWRldl9mZWF0dXJlcykoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2KTsKPiAr
CXUzMiAoKmdldF9nZW5lcmF0aW9uKShzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYpOwo+ICt9Owo+
ICsKPiArdm9pZCBtZGV2X3NldF92aXJ0aW9fb3BzKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldiwK
PiArCQkJIGNvbnN0IHN0cnVjdCB2aXJ0aW9fbWRldl9kZXZpY2Vfb3BzICp2aXJ0aW9fb3BzKTsK
PiArCj4gKyNlbmRpZgoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Au
b3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRl
dmVs
