Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id CE4D41A909
	for <lists+dri-devel@lfdr.de>; Sat, 11 May 2019 20:23:04 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 713D6893E8;
	Sat, 11 May 2019 18:22:58 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mx1.suse.de (mx2.suse.de [195.135.220.15])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 289D8896F7;
 Fri, 10 May 2019 09:15:40 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id 491E3AE84;
 Fri, 10 May 2019 09:15:38 +0000 (UTC)
Date: Fri, 10 May 2019 11:15:37 +0200
From: Petr Mladek <pmladek@suse.com>
To: Daniel Vetter <daniel.vetter@ffwll.ch>
Subject: Re: [PATCH] RFC: console: hack up console_lock more v3
Message-ID: <20190510091537.44e3aeb7gcrcob76@pathway.suse.cz>
References: <20190509120903.28939-1-daniel.vetter@ffwll.ch>
 <20190509145620.2pjqko7copbxuzth@pathway.suse.cz>
 <CAKMK7uFTsr1F8nFExTvC7nWFQMcZ7ejh+k_X6E8EcMUaP3e29A@mail.gmail.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <CAKMK7uFTsr1F8nFExTvC7nWFQMcZ7ejh+k_X6E8EcMUaP3e29A@mail.gmail.com>
User-Agent: NeoMutt/20170912 (1.9.0)
X-Mailman-Approved-At: Sat, 11 May 2019 18:22:57 +0000
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: John Ogness <john.ogness@linutronix.de>,
 Peter Zijlstra <peterz@infradead.org>,
 Intel Graphics Development <intel-gfx@lists.freedesktop.org>,
 Will Deacon <will.deacon@arm.com>,
 Linux Kernel Mailing List <linux-kernel@vger.kernel.org>,
 DRI Development <dri-devel@lists.freedesktop.org>,
 Sergey Senozhatsky <sergey.senozhatsky@gmail.com>,
 Ingo Molnar <mingo@redhat.com>, Steven Rostedt <rostedt@goodmis.org>,
 Daniel Vetter <daniel.vetter@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVGh1IDIwMTktMDUtMDkgMTg6NDM6MTIsIERhbmllbCBWZXR0ZXIgd3JvdGU6Cj4gT25lIHRo
aW5nIHRvIGtlZXAgaW4gbWluZCBpcyB0aGF0IHRoZSBrZXJuZWwgaXMgYWxyZWFkeSBkeWluZywg
YW5kCj4gdGhpbmdzIHdpbGwgY29tZSBjcmFzaGluZyBkb3duIGxhdGVyIG9uCgpUaGlzIGlzIGlt
cG9ydGFudCBpbmZvcm1hdGlvbi4gSSBoYXZuJ3Qgc2VlbiBpdCBtZW50aW9uZWQgZWFybGllci4K
Cj4gKEkndmUgc2VlbiB0aGlzIG9ubHkgaW4gZG1lc2cKPiB0YWlscyBjYXB0dXJlIGluIHBzdG9y
ZSBpbiBvdXIgQ0ksIGkuZS4gdGhlIGJveCBkaWVkIGZvciBnb29kKS4gSSBqdXN0Cj4gd2FudCB0
byBtYWtlIHN1cmUgdGhhdCB0aGUgdXNlZnVsIGluZm9ybWF0aW9uIGlzbid0IG92ZXJ3cml0dGVu
IGJ5Cj4gbW9yZSBkbWVzZyBzcGxhdHMgdGhhdCBoYXBwZW4gYXMgYSBjb25zZXF1ZW5jZSBvZiB1
cyBzb21laG93IHRyeWluZyB0bwo+IHJ1biB0aGluZ3Mgb24gYW4gb2ZmbGluZSBjcHUuIE9uY2Ug
Y29uc29sZV91bmxvY2sgaGFzIGNvbXBsZXRlZCBpbgo+IHlvdXIgYWJvdmUgYmFja3RyYWNlIGFu
ZCB0aGUgaW1wb3J0YW50IHN0dWZmIGhhcyBnb25lIG91dCBJJ20gdG90YWxseQo+IGZpbmUgd2l0
aCB0aGUga2VybmVsIGp1c3QgZHlpbmcuIFB1bGxpbmcgdGhlIHdha2VfdXBfcHJvY2VzcyBvdXQg
ZnJvbQo+IHVuZGVyIHRoZSBzZW1hcGhvcmUubG9jayBpcyBlbm91Z2ggdG8gcHJldmVudCBsb2Nr
ZGVwIGZyb20gZHVtcGluZwo+IG1vcmUgc3R1ZmYgd2hpbGUgd2UncmUgdHJ5aW5nIHRvIHByaW50
IHRoZSBpbXBvcnRhbnQgdGhpbmdzLAoKV2l0aCB0aGUgbW9yZSBzdHVmZiB5b3UgbWVhbiB0aGUg
bG9ja2RlcCBzcGxhdD8gSWYgeWVzLCBpdCBtaWdodAptYWtlIHNlbnNlIHRvIGNhbGwgZGVidWdf
bG9ja3Nfb2ZmKCkgZWFybGllciBpbiBwYW5pYygpLgoKCj4gYW5kIEkgdGhpbmsgdGhlIHVudGFu
Z2xpbmcgb2YgdGhlIGxvY2tpbmcgaGlhcmFyY2h5IGlzIHVzZWZ1bCBpcnJlc3BlY3RpdmUKPiBv
ZiB0aGlzIGxvY2tkZXAgc3BsYXQuIFBsdXMgUGV0ZXIgZG9lc24ndCBzb3VuZCBsaWtlIGhlIGxp
a2VzIHRvIHJvbGwKPiBvdXQgbW9yZSBwcmludGtfZGVmZXJyZWQga2luZCBvZiB0aGluZ3MuCj4K
PiBCdXQgaWYgeW91IHRoaW5rIEkgc2hvdWxkIGRvIHRoZSBwcmludGtfZGVmZXJyZWQgdGhpbmcg
dG9vIEkgY2FuIGxvb2sKPiBpbnRvIHRoYXQuIEp1c3Qgbm90IHF1aXRlIHN1cmUgd2hhdCB0aGF0
J3Mgc3VwcG9zZWQgdG8gbG9vayBsaWtlIG5vdy4KCllvdXIgcGF0Y2ggbWlnaHQgcmVtb3ZlIHRo
ZSBwYXJ0aWN1bGFyIGxvY2tkZXAgc3BsYXQuIEl0IG1pZ2h0IGJlCndvcnRoIGl0IChQZXRlciBt
ZW50aW9uZWQgYWxzbyBhbiBvcHRpbWl6YXRpb24gZWZmZWN0KS4gQW55d2F5Cml0IHdpbGwgbm90
IHByZXZlbnQgdGhlIGRlYWRsb2NrLgoKVGhlIG9ubHkgd2F5IHRvIGF2b2lkIHRoZSBkZWFkbG9j
ayBpcyB0byB1c2UgcHJpbnRrX2RlZmVycmVkKCkKd2l0aCB0aGUgY3VycmVudCBwcmludGsoKSBj
b2RlLgoKCkZpbmFsbHksIEkgaGF2ZSByZWNlbnRseSB3b3JrZWQgb24gc2ltaWxhciBwcm9ibGVt
IHdpdGggZHlpbmcgc3lzdGVtLgpJIHNlbnQgdGhlIGZvbGxvd2luZyBwYXRjaCBmb3IgdGVzdGlu
Zy4gSSB3b25kZXIgaWYgaXQgbWlnaHQgYmUKYWNjZXB0YWJsZSB1cHN0cmVhbToKCgpGcm9tOiBQ
ZXRyIE1sYWRlayA8cG1sYWRla0BzdXNlLmNvbT4KU3ViamVjdDogc2NoZWQveDg2OiBEbyBub3Qg
d2FybiBhYm91dCBvZmZsaW5lIENQVXMgd2hlbiBhbGwgYXJlIGJlaW5nIHN0b3BwZWQKUGF0Y2gt
bWFpbmxpbmU6IE5vLCBqdXN0IGZvciB0ZXN0aW5nClJlZmVyZW5jZXM6IGJzYyMxMTA0NDA2CgpU
aGUgd2FybmluZyBhYm91dCByZXNjaGVkdWxpbmcgb2ZmbGluZSBDUFVzIGNhdXNlIGRlYWxvY2sg
d2hlbgp0aGUgQ1BVcyBuZWVkIHRvIGdldCBzdG9wcGVkIHVzaW5nIE5NSS4gSXQgbWlnaHQgaGFw
cGVuIHdpdGgKbG9nYnVmX2xvY2ssIGxvY2tzIHVzZWQgYnkgY29uc29sZSBkcml2ZXJzLCBlc3Bl
Y2lhbGx5IHR0eS4KQnV0IGl0IG1pZ2h0IGFsc28gYmUgY2F1c2VkIGJ5IGEgcmVnaXN0ZXJlZCBr
ZXJuZWwgbWVzc2FnZQpkdW1wZXIsIGZvciBleGFtcGxlLCBwc3RvcmUuCgpUaGUgd2FybmluZyBp
cyBwcmV0dHkgY29tbW9uIHdoZW4gdGhlcmUgaXMgYSBoaWdoIGxvYWQgYW5kCkNQVXMgYXJlIGJl
aW5nIHN0b3BwZWQgYnkgbmF0aXZlX3N0b3Bfb3RoZXJfY3B1cygpLiBCdXQKdGhleSBhcmUgbm90
IHJlYWxseSB1c2VmdWwgaW4gdGhpcyBjb250ZXh0LiBBbmQgdGhleSBzY3JvbGxzCnRoZSByZWFs
bHkgaW1wb3J0YW50IG1lc3NhZ2VzIG9mZiB0aGUgc2NyZWVuLgoKV2UgbmVlZCB0byBmaXggcHJp
bnRrKCkgaW4gdGhlIGxvbmcgdGVybS4gQnV0IGRpc2FibGluZwp0aGUgbWVzc2FnZSBsb29rcyBy
ZWFzb25hYmxlIGF0IGxlYXN0IGluIHRoZSBtZWFudGltZS4KClNpZ25lZC1vZmYtYnk6IFBldHIg
TWxhZGVrIDxwbWxhZGVrQHN1c2UuY29tPgotLS0KIGFyY2gveDg2L2tlcm5lbC9zbXAuYyB8ICAg
IDMgKystCiAxIGZpbGUgY2hhbmdlZCwgMiBpbnNlcnRpb25zKCspLCAxIGRlbGV0aW9uKC0pCgot
LS0gYS9hcmNoL3g4Ni9rZXJuZWwvc21wLmMKKysrIGIvYXJjaC94ODYva2VybmVsL3NtcC5jCkBA
IC0xMjQsNyArMTI0LDggQEAgc3RhdGljIGJvb2wgc21wX25vX25taV9pcGkgPSBmYWxzZTsKICAq
Lwogc3RhdGljIHZvaWQgbmF0aXZlX3NtcF9zZW5kX3Jlc2NoZWR1bGUoaW50IGNwdSkKIHsKLQlp
ZiAodW5saWtlbHkoY3B1X2lzX29mZmxpbmUoY3B1KSkpIHsKKwlpZiAodW5saWtlbHkoY3B1X2lz
X29mZmxpbmUoY3B1KSAmJgorCQkgICAgIGF0b21pY19yZWFkKCZzdG9wcGluZ19jcHUpIDwgMCkp
IHsKIAkJV0FSTigxLCAic2NoZWQ6IFVuZXhwZWN0ZWQgcmVzY2hlZHVsZSBvZiBvZmZsaW5lIENQ
VSMlZCFcbiIsIGNwdSk7CiAJCXJldHVybjsKIAl9Cl9fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxp
c3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFu
L2xpc3RpbmZvL2RyaS1kZXZlbA==
