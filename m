Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 6CFEA2F232C
	for <lists+dri-devel@lfdr.de>; Tue, 12 Jan 2021 00:49:33 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 4B21E8979F;
	Mon, 11 Jan 2021 23:49:31 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail.kernel.org (mail.kernel.org [198.145.29.99])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2D7078979F
 for <dri-devel@lists.freedesktop.org>; Mon, 11 Jan 2021 23:49:30 +0000 (UTC)
Received: by mail.kernel.org (Postfix) with ESMTPSA id AF6B422D0B
 for <dri-devel@lists.freedesktop.org>; Mon, 11 Jan 2021 23:49:29 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
 s=k20201202; t=1610408970;
 bh=M48oHPVrImjbClGq/kBGcUs8mcRWgcc9yzXqOv3qUSI=;
 h=References:In-Reply-To:From:Date:Subject:To:Cc:From;
 b=TDpfo4nDfIS12PGyRMoxcX6B04vedLQtaX6jsHfM82HL7ee+RrOSEDobrfqPHa79T
 VwjVcUOH2t1uPAes+DbrCuTCIw9SrZuVB3EvzNX67kF5Tau7cxMbO5q2hJnqhk3mzG
 j4C+mvbjvJenxrw4uoyZewOg7lmGlDQmai9g1AUKkQ4BLucQr+9kyOlMPR/lb+8iRc
 8oovwUCREaf6SPjuKTOCEm3TlZTLTfphReciPJSBCdQkez/FPMn21SxrbNNzRVme0H
 PtTkQ/WS4aOcB/8AuLW/YvHjfmFNljZ6pKNjNWwSNi0gjNK1F//qW/OjpYQCMfhQod
 z8W3LlJ2tJhpw==
Received: by mail-ej1-f51.google.com with SMTP id w1so841927ejf.11
 for <dri-devel@lists.freedesktop.org>; Mon, 11 Jan 2021 15:49:29 -0800 (PST)
X-Gm-Message-State: AOAM530MPlF4p/nI4Mihxx0IGP2PHkUdF7zyB+0rRYK2apcuwOfWLGw3
 S4BZ2BcztqblRmwlgqhe2d25CBKo2UWzK1s8iA==
X-Google-Smtp-Source: ABdhPJwwM8xox+w60hakWH13ybiux71Umt2MG754yPYOvbh3PK6rnA1St9ldnd84tVRFY8QR64UGGfgx6zwqh7qhoCs=
X-Received: by 2002:a17:906:ae4e:: with SMTP id
 lf14mr1314212ejb.310.1610408968126; 
 Mon, 11 Jan 2021 15:49:28 -0800 (PST)
MIME-Version: 1.0
References: <1610351031-21133-1-git-send-email-yongqiang.niu@mediatek.com>
 <1610351031-21133-6-git-send-email-yongqiang.niu@mediatek.com>
In-Reply-To: <1610351031-21133-6-git-send-email-yongqiang.niu@mediatek.com>
From: Chun-Kuang Hu <chunkuang.hu@kernel.org>
Date: Tue, 12 Jan 2021 07:49:17 +0800
X-Gmail-Original-Message-ID: <CAAOTY_8rf86RxuJxY6s-Vpx=M+_44eku2Dgm12A67samRLaeVQ@mail.gmail.com>
Message-ID: <CAAOTY_8rf86RxuJxY6s-Vpx=M+_44eku2Dgm12A67samRLaeVQ@mail.gmail.com>
Subject: Re: [PATCH v3, 05/15] drm/mediatek: add component POSTMASK
To: Yongqiang Niu <yongqiang.niu@mediatek.com>
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Mark Rutland <mark.rutland@arm.com>, DTML <devicetree@vger.kernel.org>,
 David Airlie <airlied@linux.ie>, linux-kernel <linux-kernel@vger.kernel.org>,
 DRI Development <dri-devel@lists.freedesktop.org>,
 Project_Global_Chrome_Upstream_Group@mediatek.com,
 Matthias Brugger <matthias.bgg@gmail.com>, Rob Herring <robh+dt@kernel.org>,
 "moderated list:ARM/Mediatek SoC support" <linux-mediatek@lists.infradead.org>,
 Hsin-Yi Wang <hsinyi@chromium.org>,
 Linux ARM <linux-arm-kernel@lists.infradead.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGksIFlvbmdxaWFuZzoKCllvbmdxaWFuZyBOaXUgPHlvbmdxaWFuZy5uaXVAbWVkaWF0ZWsuY29t
PiDmlrwgMjAyMeW5tDHmnIgxMeaXpSDpgLHkuIAg5LiL5Y2IMzo0NOWvq+mBk++8mgo+Cj4gVGhp
cyBwYXRjaCBhZGQgY29tcG9uZW50IFBPU1RNQVNLLAoKVGhpcyBwYXRjaCBoYXMgY29uZmxpY3Rz
IHdpdGggdGhlIHNlcmllcyAiRGVjb3VwbGUgTWVkaWF0ZWsgRFJNIHN1Ygpkcml2ZXIiIFsxXSB3
aGljaCBoYXMgYmVlbiBhcHBsaWVkIHRvIG1lZGlhdGVrLWRybS1uZXh0LCBzbyBwbGVhc2UKcmVi
YXNlIHRoaXMgcGF0Y2ggb250byBtZWRpYXRlay1kcm0tbmV4dC4KClsxXSBodHRwczovL3BhdGNo
d29yay5rZXJuZWwub3JnL3Byb2plY3QvbGludXgtbWVkaWF0ZWsvbGlzdC8/c2VyaWVzPTM5OTkx
NQoKUmVnYXJkcywKQ2h1bi1LdWFuZy4KCj4KPiBTaWduZWQtb2ZmLWJ5OiBZb25ncWlhbmcgTml1
IDx5b25ncWlhbmcubml1QG1lZGlhdGVrLmNvbT4KPiAtLS0KPiAgZHJpdmVycy9ncHUvZHJtL21l
ZGlhdGVrL01ha2VmaWxlICAgICAgICAgICAgfCAgIDEgKwo+ICBkcml2ZXJzL2dwdS9kcm0vbWVk
aWF0ZWsvbXRrX2Rpc3BfcG9zdG1hc2suYyB8IDE2MCArKysrKysrKysrKysrKysrKysrKysrKysr
KysKPiAgZHJpdmVycy9ncHUvZHJtL21lZGlhdGVrL210a19kcm1fZGRwX2NvbXAuYyAgfCAgIDIg
Kwo+ICBkcml2ZXJzL2dwdS9kcm0vbWVkaWF0ZWsvbXRrX2RybV9kZHBfY29tcC5oICB8ICAgMSAr
Cj4gIGRyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfZHJtX2Rydi5jICAgICAgIHwgICA0ICst
Cj4gIGRyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfZHJtX2Rydi5oICAgICAgIHwgICAxICsK
PiAgNiBmaWxlcyBjaGFuZ2VkLCAxNjggaW5zZXJ0aW9ucygrKSwgMSBkZWxldGlvbigtKQo+ICBj
cmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL21lZGlhdGVrL210a19kaXNwX3Bvc3Rt
YXNrLmMKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbWVkaWF0ZWsvTWFrZWZpbGUg
Yi9kcml2ZXJzL2dwdS9kcm0vbWVkaWF0ZWsvTWFrZWZpbGUKPiBpbmRleCAxN2EwOGUyLi5jZTVh
ZDU5IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9NYWtlZmlsZQo+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9NYWtlZmlsZQo+IEBAIC0zLDYgKzMsNyBAQAo+
ICBtZWRpYXRlay1kcm0teSA6PSBtdGtfZGlzcF9jb2xvci5vIFwKPiAgICAgICAgICAgICAgICAg
ICBtdGtfZGlzcF9nYW1tYS5vIFwKPiAgICAgICAgICAgICAgICAgICBtdGtfZGlzcF9vdmwubyBc
Cj4gKyAgICAgICAgICAgICAgICAgbXRrX2Rpc3BfcG9zdG1hc2subyBcCj4gICAgICAgICAgICAg
ICAgICAgbXRrX2Rpc3BfcmRtYS5vIFwKPiAgICAgICAgICAgICAgICAgICBtdGtfZHJtX2NydGMu
byBcCj4gICAgICAgICAgICAgICAgICAgbXRrX2RybV9kZHAubyBcCj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfZGlzcF9wb3N0bWFzay5jIGIvZHJpdmVycy9ncHUv
ZHJtL21lZGlhdGVrL210a19kaXNwX3Bvc3RtYXNrLmMKPiBuZXcgZmlsZSBtb2RlIDEwMDY0NAo+
IGluZGV4IDAwMDAwMDAuLjczNjIyNGMKPiAtLS0gL2Rldi9udWxsCj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL21lZGlhdGVrL210a19kaXNwX3Bvc3RtYXNrLmMKPiBAQCAtMCwwICsxLDE2MCBAQAo+
ICsvKgo+ICsgKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjoKPiArICoKPiArICogQ29weXJpZ2h0
IChjKSAyMDIwIE1lZGlhVGVrIEluYy4KPiArICovCj4gKwo+ICsjaW5jbHVkZSA8bGludXgvY2xr
Lmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9jb21wb25lbnQuaD4KPiArI2luY2x1ZGUgPGxpbnV4L21v
ZHVsZS5oPgo+ICsjaW5jbHVkZSA8bGludXgvb2ZfZGV2aWNlLmg+Cj4gKyNpbmNsdWRlIDxsaW51
eC9wbV9ydW50aW1lLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9vZl9pcnEuaD4KPiArI2luY2x1ZGUg
PGxpbnV4L3BsYXRmb3JtX2RldmljZS5oPgo+ICsjaW5jbHVkZSA8bGludXgvc29jL21lZGlhdGVr
L210ay1jbWRxLmg+Cj4gKwo+ICsjaW5jbHVkZSAibXRrX2RybV9jcnRjLmgiCj4gKyNpbmNsdWRl
ICJtdGtfZHJtX2RkcF9jb21wLmgiCj4gKwo+ICsjZGVmaW5lIERJU1BfUE9TVE1BU0tfRU4gICAg
ICAgICAgICAgICAgICAgICAgIDB4MDAwMAo+ICsjZGVmaW5lIFBPU1RNQVNLX0VOICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgQklUKDApCj4gKyNkZWZpbmUgRElTUF9QT1NUTUFT
S19DRkcgICAgICAgICAgICAgICAgICAgICAgMHgwMDIwCj4gKyNkZWZpbmUgUE9TVE1BU0tfUkVM
QVlfTU9ERSAgICAgICAgICAgICAgICAgICAgICAgICAgICBCSVQoMCkKPiArI2RlZmluZSBESVNQ
X1BPU1RNQVNLX1NJWkUgICAgICAgICAgICAgICAgICAgICAweDAwMzAKPiArCj4gK3N0cnVjdCBt
dGtfZGlzcF9wb3N0bWFza19kYXRhIHsKPiArICAgICAgIHUzMiByZXNlcnZlZDsKPiArfTsKPiAr
Cj4gKy8qKgo+ICsgKiBzdHJ1Y3QgbXRrX2Rpc3BfcG9zdG1hc2sgLSBESVNQX3Bvc3RtYXNrIGRy
aXZlciBzdHJ1Y3R1cmUKPiArICogQGRkcF9jb21wIC0gc3RydWN0dXJlIGNvbnRhaW5pbmcgdHlw
ZSBlbnVtIGFuZCBoYXJkd2FyZSByZXNvdXJjZXMKPiArICogQGNydGMgLSBhc3NvY2lhdGVkIGNy
dGMgdG8gcmVwb3J0IGlycSBldmVudHMgdG8KPiArICovCj4gK3N0cnVjdCBtdGtfZGlzcF9wb3N0
bWFzayB7Cj4gKyAgICAgICBzdHJ1Y3QgbXRrX2RkcF9jb21wICAgICAgICAgICAgICAgICAgICAg
ZGRwX2NvbXA7Cj4gKyAgICAgICBjb25zdCBzdHJ1Y3QgbXRrX2Rpc3BfcG9zdG1hc2tfZGF0YSAg
ICAgKmRhdGE7Cj4gK307Cj4gKwo+ICtzdGF0aWMgaW5saW5lIHN0cnVjdCBtdGtfZGlzcF9wb3N0
bWFzayAqY29tcF90b19wb3N0bWFzayhzdHJ1Y3QgbXRrX2RkcF9jb21wICpjb21wKQo+ICt7Cj4g
KyAgICAgICByZXR1cm4gY29udGFpbmVyX29mKGNvbXAsIHN0cnVjdCBtdGtfZGlzcF9wb3N0bWFz
aywgZGRwX2NvbXApOwo+ICt9Cj4gKwo+ICtzdGF0aWMgdm9pZCBtdGtfcG9zdG1hc2tfY29uZmln
KHN0cnVjdCBtdGtfZGRwX2NvbXAgKmNvbXAsIHVuc2lnbmVkIGludCB3LAo+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGludCBoLCB1bnNpZ25lZCBpbnQgdnJlZnJlc2gs
Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgaW50IGJwYywgc3RydWN0
IGNtZHFfcGt0ICpjbWRxX3BrdCkKPiArewo+ICsgICAgICAgbXRrX2RkcF93cml0ZShjbWRxX3Br
dCwgdyA8PCAxNiB8IGgsIGNvbXAsIERJU1BfUE9TVE1BU0tfU0laRSk7Cj4gKyAgICAgICBtdGtf
ZGRwX3dyaXRlKGNtZHFfcGt0LCBQT1NUTUFTS19SRUxBWV9NT0RFLCBjb21wLCBESVNQX1BPU1RN
QVNLX0NGRyk7Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lkIG10a19wb3N0bWFza19zdGFydChzdHJ1
Y3QgbXRrX2RkcF9jb21wICpjb21wKQo+ICt7Cj4gKyAgICAgICB3cml0ZWwoUE9TVE1BU0tfRU4s
IGNvbXAtPnJlZ3MgKyBESVNQX1BPU1RNQVNLX0VOKTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQg
bXRrX3Bvc3RtYXNrX3N0b3Aoc3RydWN0IG10a19kZHBfY29tcCAqY29tcCkKPiArewo+ICsgICAg
ICAgd3JpdGVsX3JlbGF4ZWQoMHgwLCBjb21wLT5yZWdzICsgRElTUF9QT1NUTUFTS19FTik7Cj4g
K30KPiArCj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3QgbXRrX2RkcF9jb21wX2Z1bmNzIG10a19kaXNw
X3Bvc3RtYXNrX2Z1bmNzID0gewo+ICsgICAgICAgLmNvbmZpZyA9IG10a19wb3N0bWFza19jb25m
aWcsCj4gKyAgICAgICAuc3RhcnQgPSBtdGtfcG9zdG1hc2tfc3RhcnQsCj4gKyAgICAgICAuc3Rv
cCA9IG10a19wb3N0bWFza19zdG9wLAo+ICt9Owo+ICsKPiArc3RhdGljIGludCBtdGtfZGlzcF9w
b3N0bWFza19iaW5kKHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGRldmljZSAqbWFzdGVyLCB2
b2lkICpkYXRhKQo+ICt7Cj4gKyAgICAgICBzdHJ1Y3QgbXRrX2Rpc3BfcG9zdG1hc2sgKnByaXYg
PSBkZXZfZ2V0X2RydmRhdGEoZGV2KTsKPiArICAgICAgIHN0cnVjdCBkcm1fZGV2aWNlICpkcm1f
ZGV2ID0gZGF0YTsKPiArICAgICAgIGludCByZXQ7Cj4gKwo+ICsgICAgICAgcmV0ID0gbXRrX2Rk
cF9jb21wX3JlZ2lzdGVyKGRybV9kZXYsICZwcml2LT5kZHBfY29tcCk7Cj4gKyAgICAgICBpZiAo
cmV0IDwgMCkgewo+ICsgICAgICAgICAgICAgICBkZXZfZXJyKGRldiwgIkZhaWxlZCB0byByZWdp
c3RlciBjb21wb25lbnQgJXBPRjogJWRcbiIsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgZGV2
LT5vZl9ub2RlLCByZXQpOwo+ICsgICAgICAgICAgICAgICByZXR1cm4gcmV0Owo+ICsgICAgICAg
fQo+ICsKPiArICAgICAgIHJldHVybiAwOwo+ICt9Cj4gKwo+ICtzdGF0aWMgdm9pZCBtdGtfZGlz
cF9wb3N0bWFza191bmJpbmQoc3RydWN0IGRldmljZSAqZGV2LCBzdHJ1Y3QgZGV2aWNlICptYXN0
ZXIsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgKmRhdGEpCj4gK3sK
PiArICAgICAgIHN0cnVjdCBtdGtfZGlzcF9wb3N0bWFzayAqcHJpdiA9IGRldl9nZXRfZHJ2ZGF0
YShkZXYpOwo+ICsgICAgICAgc3RydWN0IGRybV9kZXZpY2UgKmRybV9kZXYgPSBkYXRhOwo+ICsK
PiArICAgICAgIG10a19kZHBfY29tcF91bnJlZ2lzdGVyKGRybV9kZXYsICZwcml2LT5kZHBfY29t
cCk7Cj4gK30KPiArCj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3QgY29tcG9uZW50X29wcyBtdGtfZGlz
cF9wb3N0bWFza19jb21wb25lbnRfb3BzID0gewo+ICsgICAgICAgLmJpbmQgICA9IG10a19kaXNw
X3Bvc3RtYXNrX2JpbmQsCj4gKyAgICAgICAudW5iaW5kID0gbXRrX2Rpc3BfcG9zdG1hc2tfdW5i
aW5kLAo+ICt9Owo+ICsKPiArc3RhdGljIGludCBtdGtfZGlzcF9wb3N0bWFza19wcm9iZShzdHJ1
Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQo+ICt7Cj4gKyAgICAgICBzdHJ1Y3QgZGV2aWNlICpk
ZXYgPSAmcGRldi0+ZGV2Owo+ICsgICAgICAgc3RydWN0IG10a19kaXNwX3Bvc3RtYXNrICpwcml2
Owo+ICsgICAgICAgaW50IGNvbXBfaWQ7Cj4gKyAgICAgICBpbnQgcmV0Owo+ICsKPiArICAgICAg
IHByaXYgPSBkZXZtX2t6YWxsb2MoZGV2LCBzaXplb2YoKnByaXYpLCBHRlBfS0VSTkVMKTsKPiAr
ICAgICAgIGlmICghcHJpdikKPiArICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gKwo+
ICsgICAgICAgY29tcF9pZCA9IG10a19kZHBfY29tcF9nZXRfaWQoZGV2LT5vZl9ub2RlLCBNVEtf
RElTUF9QT1NUTUFTSyk7Cj4gKyAgICAgICBpZiAoY29tcF9pZCA8IDApIHsKPiArICAgICAgICAg
ICAgICAgZGV2X2VycihkZXYsICJGYWlsZWQgdG8gaWRlbnRpZnkgYnkgYWxpYXM6ICVkXG4iLCBj
b21wX2lkKTsKPiArICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBfaWQ7Cj4gKyAgICAgICB9Cj4g
Kwo+ICsgICAgICAgcmV0ID0gbXRrX2RkcF9jb21wX2luaXQoZGV2LCBkZXYtPm9mX25vZGUsICZw
cml2LT5kZHBfY29tcCwgY29tcF9pZCwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICZtdGtfZGlzcF9wb3N0bWFza19mdW5jcyk7Cj4gKyAgICAgICBpZiAocmV0KSB7Cj4gKyAgICAg
ICAgICAgICAgIGlmIChyZXQgIT0gLUVQUk9CRV9ERUZFUikKPiArICAgICAgICAgICAgICAgICAg
ICAgICBkZXZfZXJyKGRldiwgIkZhaWxlZCB0byBpbml0aWFsaXplIGNvbXBvbmVudDogJWRcbiIs
Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXQpOwo+ICsKPiArICAgICAgICAg
ICAgICAgcmV0dXJuIHJldDsKPiArICAgICAgIH0KPiArCj4gKyAgICAgICBwcml2LT5kYXRhID0g
b2ZfZGV2aWNlX2dldF9tYXRjaF9kYXRhKGRldik7Cj4gKwo+ICsgICAgICAgcGxhdGZvcm1fc2V0
X2RydmRhdGEocGRldiwgcHJpdik7Cj4gKwo+ICsgICAgICAgcG1fcnVudGltZV9lbmFibGUoZGV2
KTsKPiArCj4gKyAgICAgICByZXQgPSBjb21wb25lbnRfYWRkKGRldiwgJm10a19kaXNwX3Bvc3Rt
YXNrX2NvbXBvbmVudF9vcHMpOwo+ICsgICAgICAgaWYgKHJldCkKPiArICAgICAgICAgICAgICAg
ZGV2X2VycihkZXYsICJGYWlsZWQgdG8gYWRkIGNvbXBvbmVudDogJWRcbiIsIHJldCk7Cj4gKwo+
ICsgICAgICAgcmV0dXJuIHJldDsKPiArfQo+ICsKPiArc3RhdGljIGludCBtdGtfZGlzcF9wb3N0
bWFza19yZW1vdmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKPiArewo+ICsgICAgICAg
cG1fcnVudGltZV9kaXNhYmxlKCZwZGV2LT5kZXYpOwo+ICsKPiArICAgICAgIGNvbXBvbmVudF9k
ZWwoJnBkZXYtPmRldiwgJm10a19kaXNwX3Bvc3RtYXNrX2NvbXBvbmVudF9vcHMpOwo+ICsKPiAr
ICAgICAgIHJldHVybiAwOwo+ICt9Cj4gKwo+ICtzdGF0aWMgY29uc3Qgc3RydWN0IG9mX2Rldmlj
ZV9pZCBtdGtfZGlzcF9wb3N0bWFza19kcml2ZXJfZHRfbWF0Y2hbXSA9IHsKPiArICAgICAgIHt9
LAo+ICt9Owo+ICtNT0RVTEVfREVWSUNFX1RBQkxFKG9mLCBtdGtfZGlzcF9wb3N0bWFza19kcml2
ZXJfZHRfbWF0Y2gpOwo+ICsKPiArc3RydWN0IHBsYXRmb3JtX2RyaXZlciBtdGtfZGlzcF9wb3N0
bWFza19kcml2ZXIgPSB7Cj4gKyAgICAgICAucHJvYmUgICAgICAgICAgPSBtdGtfZGlzcF9wb3N0
bWFza19wcm9iZSwKPiArICAgICAgIC5yZW1vdmUgICAgICAgICA9IG10a19kaXNwX3Bvc3RtYXNr
X3JlbW92ZSwKPiArICAgICAgIC5kcml2ZXIgICAgICAgICA9IHsKPiArICAgICAgICAgICAgICAg
Lm5hbWUgICA9ICJtZWRpYXRlay1kaXNwLXBvc3RtYXNrIiwKPiArICAgICAgICAgICAgICAgLm93
bmVyICA9IFRISVNfTU9EVUxFLAo+ICsgICAgICAgICAgICAgICAub2ZfbWF0Y2hfdGFibGUgPSBt
dGtfZGlzcF9wb3N0bWFza19kcml2ZXJfZHRfbWF0Y2gsCj4gKyAgICAgICB9LAo+ICt9Owo+IGRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbWVkaWF0ZWsvbXRrX2RybV9kZHBfY29tcC5jIGIv
ZHJpdmVycy9ncHUvZHJtL21lZGlhdGVrL210a19kcm1fZGRwX2NvbXAuYwo+IGluZGV4IGE3MTUx
MjcuLmJjNmIxMGEgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL21lZGlhdGVrL210a19k
cm1fZGRwX2NvbXAuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfZHJtX2Rk
cF9jb21wLmMKPiBAQCAtMzU0LDYgKzM1NCw3IEBAIHN0YXRpYyB2b2lkIG10a19kaXRoZXJfc3Rv
cChzdHJ1Y3QgbXRrX2RkcF9jb21wICpjb21wKQo+ICAgICAgICAgW01US19ESVNQX01VVEVYXSA9
ICJtdXRleCIsCj4gICAgICAgICBbTVRLX0RJU1BfT0RdID0gIm9kIiwKPiAgICAgICAgIFtNVEtf
RElTUF9CTFNdID0gImJscyIsCj4gKyAgICAgICBbTVRLX0RJU1BfUE9TVE1BU0tdID0gInBvc3Rt
YXNrIiwKPiAgfTsKPgo+ICBzdHJ1Y3QgbXRrX2RkcF9jb21wX21hdGNoIHsKPiBAQCAtMzg0LDYg
KzM4NSw3IEBAIHN0cnVjdCBtdGtfZGRwX2NvbXBfbWF0Y2ggewo+ICAgICAgICAgW0REUF9DT01Q
T05FTlRfT1ZMXzJMMF0gPSB7IE1US19ESVNQX09WTF8yTCwgICAgMCwgTlVMTCB9LAo+ICAgICAg
ICAgW0REUF9DT01QT05FTlRfT1ZMXzJMMV0gPSB7IE1US19ESVNQX09WTF8yTCwgICAgMSwgTlVM
TCB9LAo+ICAgICAgICAgW0REUF9DT01QT05FTlRfT1ZMXzJMMl0gPSB7IE1US19ESVNQX09WTF8y
TCwgICAgMiwgTlVMTCB9LAo+ICsgICAgICAgW0REUF9DT01QT05FTlRfUE9TVE1BU0swXSAgICAg
ICA9IHsgTVRLX0RJU1BfUE9TVE1BU0ssICAwLCBOVUxMIH0sCj4gICAgICAgICBbRERQX0NPTVBP
TkVOVF9QV00wXSAgICA9IHsgTVRLX0RJU1BfUFdNLCAgICAgICAwLCBOVUxMIH0sCj4gICAgICAg
ICBbRERQX0NPTVBPTkVOVF9QV00xXSAgICA9IHsgTVRLX0RJU1BfUFdNLCAgICAgICAxLCBOVUxM
IH0sCj4gICAgICAgICBbRERQX0NPTVBPTkVOVF9QV00yXSAgICA9IHsgTVRLX0RJU1BfUFdNLCAg
ICAgICAyLCBOVUxMIH0sCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9t
dGtfZHJtX2RkcF9jb21wLmggYi9kcml2ZXJzL2dwdS9kcm0vbWVkaWF0ZWsvbXRrX2RybV9kZHBf
Y29tcC5oCj4gaW5kZXggMTc4ZmFlOS4uMGIyM2I1YyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dw
dS9kcm0vbWVkaWF0ZWsvbXRrX2RybV9kZHBfY29tcC5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L21lZGlhdGVrL210a19kcm1fZGRwX2NvbXAuaAo+IEBAIC0yOSw2ICsyOSw3IEBAIGVudW0gbXRr
X2RkcF9jb21wX3R5cGUgewo+ICAgICAgICAgTVRLX0RJU1BfVUZPRSwKPiAgICAgICAgIE1US19E
U0ksCj4gICAgICAgICBNVEtfRFBJLAo+ICsgICAgICAgTVRLX0RJU1BfUE9TVE1BU0ssCj4gICAg
ICAgICBNVEtfRElTUF9QV00sCj4gICAgICAgICBNVEtfRElTUF9NVVRFWCwKPiAgICAgICAgIE1U
S19ESVNQX09ELAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbWVkaWF0ZWsvbXRrX2Ry
bV9kcnYuYyBiL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfZHJtX2Rydi5jCj4gaW5kZXgg
YjZlOTYzZS4uYmMyMDVlOSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vbWVkaWF0ZWsv
bXRrX2RybV9kcnYuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfZHJtX2Ry
di5jCj4gQEAgLTUzMyw3ICs1MzMsNyBAQCBzdGF0aWMgaW50IG10a19kcm1fcHJvYmUoc3RydWN0
IHBsYXRmb3JtX2RldmljZSAqcGRldikKPiAgICAgICAgICAgICAgICAgcHJpdmF0ZS0+Y29tcF9u
b2RlW2NvbXBfaWRdID0gb2Zfbm9kZV9nZXQobm9kZSk7Cj4KPiAgICAgICAgICAgICAgICAgLyoK
PiAtICAgICAgICAgICAgICAgICogQ3VycmVudGx5IG9ubHkgdGhlIENPTE9SLCBHQU1NQSwgT1ZM
LCBSRE1BLCBEU0ksIGFuZCBEUEkgYmxvY2tzIGhhdmUKPiArICAgICAgICAgICAgICAgICogQ3Vy
cmVudGx5IG9ubHkgdGhlIENPTE9SLCBHQU1NQSwgT1ZMLCBQT1NUTUFTSywgUkRNQSwgRFNJLCBh
bmQgRFBJIGJsb2NrcyBoYXZlCj4gICAgICAgICAgICAgICAgICAqIHNlcGFyYXRlIGNvbXBvbmVu
dCBwbGF0Zm9ybSBkcml2ZXJzIGFuZCBpbml0aWFsaXplIHRoZWlyIG93bgo+ICAgICAgICAgICAg
ICAgICAgKiBERFAgY29tcG9uZW50IHN0cnVjdHVyZS4gVGhlIG90aGVycyBhcmUgaW5pdGlhbGl6
ZWQgaGVyZS4KPiAgICAgICAgICAgICAgICAgICovCj4gQEAgLTU0MSw2ICs1NDEsNyBAQCBzdGF0
aWMgaW50IG10a19kcm1fcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKPiAgICAg
ICAgICAgICAgICAgICAgIGNvbXBfdHlwZSA9PSBNVEtfRElTUF9HQU1NQSB8fAo+ICAgICAgICAg
ICAgICAgICAgICAgY29tcF90eXBlID09IE1US19ESVNQX09WTCB8fAo+ICAgICAgICAgICAgICAg
ICAgICAgY29tcF90eXBlID09IE1US19ESVNQX09WTF8yTCB8fAo+ICsgICAgICAgICAgICAgICAg
ICAgY29tcF90eXBlID09IE1US19ESVNQX1BPU1RNQVNLIHx8Cj4gICAgICAgICAgICAgICAgICAg
ICBjb21wX3R5cGUgPT0gTVRLX0RJU1BfUkRNQSB8fAo+ICAgICAgICAgICAgICAgICAgICAgY29t
cF90eXBlID09IE1US19EU0kgfHwKPiAgICAgICAgICAgICAgICAgICAgIGNvbXBfdHlwZSA9PSBN
VEtfRFBJKSB7Cj4gQEAgLTY1NCw2ICs2NTUsNyBAQCBzdGF0aWMgU0lNUExFX0RFVl9QTV9PUFMo
bXRrX2RybV9wbV9vcHMsIG10a19kcm1fc3lzX3N1c3BlbmQsCj4gICAgICAgICAmbXRrX2Rpc3Bf
Y29sb3JfZHJpdmVyLAo+ICAgICAgICAgJm10a19kaXNwX2dhbW1hX2RyaXZlciwKPiAgICAgICAg
ICZtdGtfZGlzcF9vdmxfZHJpdmVyLAo+ICsgICAgICAgJm10a19kaXNwX3Bvc3RtYXNrX2RyaXZl
ciwKPiAgICAgICAgICZtdGtfZGlzcF9yZG1hX2RyaXZlciwKPiAgICAgICAgICZtdGtfZHBpX2Ry
aXZlciwKPiAgICAgICAgICZtdGtfZHJtX3BsYXRmb3JtX2RyaXZlciwKPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL21lZGlhdGVrL210a19kcm1fZHJ2LmggYi9kcml2ZXJzL2dwdS9kcm0v
bWVkaWF0ZWsvbXRrX2RybV9kcnYuaAo+IGluZGV4IGJiZDM2MmIuLjhhOTU0NGIgMTAwNjQ0Cj4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL21lZGlhdGVrL210a19kcm1fZHJ2LmgKPiArKysgYi9kcml2
ZXJzL2dwdS9kcm0vbWVkaWF0ZWsvbXRrX2RybV9kcnYuaAo+IEBAIC01MCw2ICs1MCw3IEBAIHN0
cnVjdCBtdGtfZHJtX3ByaXZhdGUgewo+ICBleHRlcm4gc3RydWN0IHBsYXRmb3JtX2RyaXZlciBt
dGtfZGlzcF9jb2xvcl9kcml2ZXI7Cj4gIGV4dGVybiBzdHJ1Y3QgcGxhdGZvcm1fZHJpdmVyIG10
a19kaXNwX2dhbW1hX2RyaXZlcjsKPiAgZXh0ZXJuIHN0cnVjdCBwbGF0Zm9ybV9kcml2ZXIgbXRr
X2Rpc3Bfb3ZsX2RyaXZlcjsKPiArZXh0ZXJuIHN0cnVjdCBwbGF0Zm9ybV9kcml2ZXIgbXRrX2Rp
c3BfcG9zdG1hc2tfZHJpdmVyOwo+ICBleHRlcm4gc3RydWN0IHBsYXRmb3JtX2RyaXZlciBtdGtf
ZGlzcF9yZG1hX2RyaXZlcjsKPiAgZXh0ZXJuIHN0cnVjdCBwbGF0Zm9ybV9kcml2ZXIgbXRrX2Rw
aV9kcml2ZXI7Cj4gIGV4dGVybiBzdHJ1Y3QgcGxhdGZvcm1fZHJpdmVyIG10a19kc2lfZHJpdmVy
Owo+IC0tCj4gMS44LjEuMS5kaXJ0eQo+IF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fCj4gTGludXgtbWVkaWF0ZWsgbWFpbGluZyBsaXN0Cj4gTGludXgtbWVk
aWF0ZWtAbGlzdHMuaW5mcmFkZWFkLm9yZwo+IGh0dHA6Ly9saXN0cy5pbmZyYWRlYWQub3JnL21h
aWxtYW4vbGlzdGluZm8vbGludXgtbWVkaWF0ZWsKX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vZHJpLWRldmVsCg==
