Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 267DC72304
	for <lists+dri-devel@lfdr.de>; Wed, 24 Jul 2019 01:29:21 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 2D7F06E3E5;
	Tue, 23 Jul 2019 23:29:13 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from NAM03-DM3-obe.outbound.protection.outlook.com
 (mail-eopbgr800041.outbound.protection.outlook.com [40.107.80.41])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8EABA6E3D2;
 Tue, 23 Jul 2019 23:29:06 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=MR5YCj6hzb8Kd0Jdr09L9gjbIeEv4Av8VVzWfNpe5aeVs1Yt/l27FK+xOHgJvSKg94CtCoPU9lCrZ+w7UVyMdrOlGU2JzhGHvgAOPMP3rkv6pif4Buu0s30XpD4B9tapugjaHXXmqLz1OjtHwxM+LbhVcC55J3YJ+m4tQSqy7dg4Y7f0eSbGhS5kfz0qk67XVf4k5fAeitT2Gahxzcw6K1R4KED8EmFiiqgEgnUY+97ET1WkRdzQvjB22+czjn6kx3huKFL5oQlk/tfTV4t9Psc9te1CAyJBpZaqsvExqcIeH6r+S4muX4d4owPzuLSEMzpFiVwgk8Nl1BIA2IWdmQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=TyjZxIK5PCR4L5jLb983FAsT4bp/Z39VEa1Xft7yn0c=;
 b=cFdYOBFLisJ2TlQUTnw2cM9IpBSN5KaZKlzCUA1H1E5Sr237U3Bsu/MZC73rtrt0Nup1cDT6vpIZOYMKyeqJOBD7DxPk/oErFg0TAAO2w9khr9sSoCZDRTQ7RCebDoHspb32iPHWoRZCNFILP4vWzLa7uQOAonv1B8X1fOI795TNwjB/UeQotxvFLzS2Ww8ugKznXaZLLmfmUa8QyNIgzw5UL+46YFfje7U/QsR4M2HUAJijF11A0Am1epsUzU5chDhy9vOFaXdsRXoMQARJX7T7GlAaFWS20cYlfnkyA8yITDXg+puwcYwkPJS0R5z1WXSZlz04ROFK6CCREmr4CA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1;spf=none (sender ip is
 165.204.84.17) smtp.rcpttodomain=redhat.com
 smtp.mailfrom=amd.com;dmarc=permerror action=none
 header.from=amd.com;dkim=none (message not signed);arc=none
Received: from CY4PR1201CA0019.namprd12.prod.outlook.com
 (2603:10b6:910:16::29) by CY4PR1201MB2487.namprd12.prod.outlook.com
 (2603:10b6:903:d0::22) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2094.16; Tue, 23 Jul
 2019 23:29:04 +0000
Received: from DM3NAM03FT038.eop-NAM03.prod.protection.outlook.com
 (2a01:111:f400:7e49::201) by CY4PR1201CA0019.outlook.office365.com
 (2603:10b6:910:16::29) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2094.14 via Frontend
 Transport; Tue, 23 Jul 2019 23:29:04 +0000
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
Received: from SATLEXCHOV02.amd.com (165.204.84.17) by
 DM3NAM03FT038.mail.protection.outlook.com (10.152.83.95) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384) id
 15.20.2052.18 via Frontend Transport; Tue, 23 Jul 2019 23:29:04 +0000
Received: from localhost.localdomain (10.180.168.240) by SATLEXCHOV02.amd.com
 (10.181.40.72) with Microsoft SMTP Server id 14.3.389.1;
 Tue, 23 Jul 2019 18:29:03 -0500
From: <sunpeng.li@amd.com>
To: <amd-gfx@lists.freedesktop.org>, <dri-devel@lists.freedesktop.org>
Subject: [PATCH 2/9 v3] drm/dp_mst: Enable registration of AUX devices for MST
 ports
Date: Tue, 23 Jul 2019 19:28:01 -0400
Message-ID: <20190723232808.28128-3-sunpeng.li@amd.com>
X-Mailer: git-send-email 2.22.0
In-Reply-To: <20190723232808.28128-1-sunpeng.li@amd.com>
References: <20190723232808.28128-1-sunpeng.li@amd.com>
MIME-Version: 1.0
X-EOPAttributedMessage: 0
X-MS-Office365-Filtering-HT: Tenant
X-Forefront-Antispam-Report: CIP:165.204.84.17; IPV:NLI; CTRY:US; EFV:NLI;
 SFV:NSPM;
 SFS:(10009020)(979002)(4636009)(136003)(376002)(396003)(346002)(39860400002)(2980300002)(428003)(189003)(199004)(110136005)(86362001)(2906002)(36756003)(2870700001)(47776003)(66574012)(4326008)(8936002)(53936002)(68736007)(81156014)(81166006)(2876002)(49486002)(30864003)(5660300002)(356004)(50226002)(14444005)(1076003)(2616005)(446003)(54906003)(336012)(316002)(70206006)(478600001)(70586007)(305945005)(476003)(11346002)(76176011)(23676004)(8676002)(186003)(5820100001)(126002)(26005)(486006)(50466002)(426003)(969003)(989001)(999001)(1009001)(1019001);
 DIR:OUT; SFP:1101; SCL:1; SRVR:CY4PR1201MB2487; H:SATLEXCHOV02.amd.com; FPR:;
 SPF:None; LANG:en; PTR:InfoDomainNonexistent; MX:1; A:1; 
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-Correlation-Id: 67849d36-4d0e-42fa-838e-08d70fc58d26
X-Microsoft-Antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(2017052603328);
 SRVR:CY4PR1201MB2487; 
X-MS-TrafficTypeDiagnostic: CY4PR1201MB2487:
X-Microsoft-Antispam-PRVS: <CY4PR1201MB2487BED2C7C5659BE15768C582C70@CY4PR1201MB2487.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:565;
X-Forefront-PRVS: 0107098B6C
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam-Message-Info: viAwYVRo7mWnuOouWXCRkrYBJVaQyE/o8MAqavaBbsi304K1HHSAioXUx7GPJPfZxsKxd1gn4l3C+Tg74Nf6yKMJIrXIj8FbGiLaOWGyBRPRv+1aUsL/QFQXRmVnBNQYIqDKMQFDn1enW3oZkdF+6x6SEVBcjnmvubzlp3ayVSid6JO0Kmzxc+A7iNEC/sW0k7DYnuP9QPjpwXwT06Tb9cCXInzyP7BdZYMlcNBPt+oY8spAJAhLYu3PJYXq8ZkkQ9mnbtE6PaX3IBT9YAHlHGyZQSE0Znttfv/wOILPBOsoWJvIm5U8cajU3ivZCAKL6/fPyLvS+tUt/WGveBRRIadGrpHOKeUsfeExlg+9wZbY8qmytwpFWwWHYj+12xzAzK9GPnZeKuBRax92BLjedjPbZLEMXWdjwX5srFyE4eE=
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 23 Jul 2019 23:29:04.4808 (UTC)
X-MS-Exchange-CrossTenant-Network-Message-Id: 67849d36-4d0e-42fa-838e-08d70fc58d26
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-OriginalAttributedTenantConnectingIp: TenantId=3dd8961f-e488-4e60-8e11-a82d994e183d; Ip=[165.204.84.17];
 Helo=[SATLEXCHOV02.amd.com]
X-MS-Exchange-CrossTenant-FromEntityHeader: HybridOnPrem
X-MS-Exchange-Transport-CrossTenantHeadersStamped: CY4PR1201MB2487
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=TyjZxIK5PCR4L5jLb983FAsT4bp/Z39VEa1Xft7yn0c=;
 b=R8HZNyMYomriHJFstUYm2IafjOh3jrFmob3W9NAQwzzL/zi1/UfL+hrxcpCQN5wXAfygJOa+vEq5/NxRqQ1OfqMljYCDOZSlgWAk6Jy7VjLnB/3idscLSpP8pl8Hev3aX9tIhMTwzSuNh8wSKtr3AOAfvoF+xHc2CtMGSK+LjPo=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is
 165.204.84.17)
 smtp.mailfrom=amd.com; redhat.com; dkim=none (message not signed)
 header.d=none;redhat.com; dmarc=permerror action=none header.from=amd.com;
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Leo Li <sunpeng.li@amd.com>, nicholas.kazlauskas@amd.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KCkFs
bCBhdmFpbGFibGUgZG93bnN0cmVhbSBwb3J0cyAtIHBoeXNpY2FsIGFuZCBsb2dpY2FsIC0gYXJl
IGV4cG9zZWQgZm9yCmVhY2ggTVNUIGRldmljZS4gVGhleSBhcmUgbGlzdGVkIGluIC9kZXYvLCBm
b2xsb3dpbmcgdGhlIHNhbWUgbmFtaW5nCnNjaGVtZSBhcyBTU1QgZGV2aWNlcyBieSBhcHBlbmRp
bmcgYW4gaW5jcmVtZW50YWwgSUQuCgpBbHRob3VnaCBhbGwgZG93bnN0cmVhbSBwb3J0cyBhcmUg
ZXhwb3NlZCwgb25seSBzb21lIHdpbGwgd29yayBhcwpleHBlY3RlZC4gQ29uc2lkZXIgdGhlIGZv
bGxvd2luZyB0b3BvbG9neToKCiAgICAgICAgICAgICAgICstLS0tLS0tLS0rCiAgICAgICAgICAg
ICAgIHwgIEFTSUMgICB8CiAgICAgICAgICAgICAgICstLS0tLS0tLS0rCiAgICAgICAgICAgICAg
Q29ubi0wfAogICAgICAgICAgICAgICAgICAgIHwKICAgICAgICAgICAgICAgKy0tLS12LS0tLSsK
ICAgICAgICAgICstLS0tfCBNU1QgSFVCIHwtLS0tKwogICAgICAgICAgfCAgICArLS0tLS0tLS0t
KyAgICB8CiAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgIHwKICAgICAgICAgIHxQb3J0LTEg
ICAgICAgUG9ydC0yfAogICAgKy0tLS0tdi0tLS0tKyAgICAgICArLS0tLS12LS0tLS0rCiAgICB8
ICBNU1QgICAgICB8ICAgICAgIHwgIFNTVCAgICAgIHwKICAgIHwgIERpc3BsYXkgIHwgICAgICAg
fCAgRGlzcGxheSAgfAogICAgKy0tLS0tLS0tLS0tKyAgICAgICArLS0tLS0tLS0tLS0rCiAgICAg
ICAgICB8UG9ydC0xCiAgICAgICAgICB4CgogTVNUIFBhdGggIHwgTVNUIERldmljZQogLS0tLS0t
LS0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiBzc3Q6MCAgICAgfCBNU1Qg
SHViCiBtc3Q6MC0xICAgfCBNU1QgRGlzcGxheQogbXN0OjAtMS0xIHwgTVNUIERpc3BsYXkncyBk
aXNjb25uZWN0ZWQgRFAgb3V0CiBtc3Q6MC0xLTggfCBNU1QgRGlzcGxheSdzIGludGVybmFsIHNp
bmsKIG1zdDowLTIgICB8IFNTVCBEaXNwbGF5CgpPbiBjZXJ0YWluIE1TVCBkaXNwbGF5cywgdGhl
IHVwc3RyZWFtIHBoeXNpY2FsIHBvcnQgd2lsbCBBQ0sgRFBDRCByZWFkcy4KSG93ZXZlciwgcmVh
ZHMgb24gdGhlIGxvY2FsIGxvZ2ljYWwgcG9ydCB0byB0aGUgaW50ZXJuYWwgc2luayB3aWxsCipO
QUsqLiBpLmUuIHJlYWRpbmcgbXN0OjAtMSBBQ0tzLCBidXQgbXN0OjAtMS04IE5BS3MuCgpUaGVy
ZSBtYXkgYWxzbyBiZSBkdXBsaWNhdGVzLiBTb21lIGRpc3BsYXlzIHdpbGwgcmV0dXJuIHRoZSBz
YW1lIEdVSUQKd2hlbiByZWFkaW5nIERQQ0QgZnJvbSBib3RoIG1zdDowLTEgYW5kIG1zdDowLTEt
OC4KClRoZXJlIGFyZSBzb21lIGRldmljZS1kZXBlbmRlbnQgYmVoYXZpb3IgYXMgd2VsbC4gVGhl
IE1TVCBodWIgdXNlZApkdXJpbmcgdGVzdGluZyB3aWxsIGFjdHVhbGx5ICpBQ0sqIHJlYWQgcmVx
dWVzdHMgb24gYSBkaXNjb25uZWN0ZWQKcGh5c2ljYWwgcG9ydCwgd2hlcmVhcyB0aGUgTVNUIGRp
c3BsYXlzIHdpbGwgTkFLLgoKSW4gbGlnaHQgb2YgdGhlc2UgZGlzY3JlcGFuY2llcywgaXQncyBz
aW1wbGVyIHRvIGV4cG9zZSBhbGwgZG93bnN0cmVhbQpwb3J0cyAtIGJvdGggcGh5c2ljYWwgYW5k
IGxvZ2ljYWwgLSBhbmQgbGV0IHRoZSB1c2VyIGRlY2lkZSB3aGF0IHRvIHVzZS4KCnYzIGNoYW5n
ZXM6CiogQ2hhbmdlIFdBUk5fT05fT05DRSAtPiBEUk1fRVJST1Igb24gZHBjZCByZWFkIGVycm9y
cwoqIERvY3N0cmluZyBhbmQgY29zbWV0aWMgZml4ZXMKCnYyIGNoYW5nZXM6CgpNb3ZlZCByZW1v
dGUgYXV4IGRldmljZSAodW4pcmVnaXN0cmF0aW9uIHRvIG5ldyBtc3QgY29ubmVjdG9yIGxhdGUK
cmVnaXN0ZXIgYW5kIGVhcmx5IHVucmVnaXN0ZXIgaGVscGVycy4gRHJpdmVycyBzaG91bGQgY2Fs
bCB0aGVzZSBmcm9tCnRoZWlyIG93biBtc3QgY29ubmVjdG9yIGZ1bmN0aW9uIGhvb2tzLgoKVGhp
cyBpcyB0byBzb2x2ZSBhbiBpc3N1ZSBkdXJpbmcgZHJpdmVyIHVubG9hZCwgd2hlcmUgbXN0IGNv
bm5lY3RvcgpkZXZpY2VzIGFyZSB1bnJlZ2lzdGVyZWQgYmVmb3JlIHRoZSByZW1vdGUgYXV4IGRl
dmljZXMgYXJlLiBJbiBhIHNldHVwCndoZXJlIGF1eCBkZXZpY2VzIGFyZSBjcmVhdGVkIGFzIGNo
aWxkcmVuIG9mIGNvbm5lY3RvciBkZXZpY2VzLCB0aGUgYXV4CmRldmljZSB3b3VsZCBiZSByZW1v
dmVkIHRvbyBlYXJseSwgYW5kIHVuY2xlYW5seS4gRG9pbmcgc28gaW4KZWFybHlfdW5yZWdpc3Rl
ciBzb2x2ZXMgdGhpcyBpc3N1ZSwgYXMgdGhhdCBpcyBjYWxsZWQgYmVmb3JlIGNvbm5lY3Rvcgp1
bnJlZ2lzdHJhdGlvbi4KClNpZ25lZC1vZmYtYnk6IFZpbGxlIFN5cmrDpGzDpCA8dmlsbGUuc3ly
amFsYUBsaW51eC5pbnRlbC5jb20+ClNpZ25lZC1vZmYtYnk6IExlbyBMaSA8c3VucGVuZy5saUBh
bWQuY29tPgpSZXZpZXdlZC1ieTogTHl1ZGUgUGF1bCA8bHl1ZGVAcmVkaGF0LmNvbT4KLS0tCiBk
cml2ZXJzL2dwdS9kcm0vZHJtX2RwX2F1eF9kZXYuYyAgICAgIHwgIDE1ICsrLQogZHJpdmVycy9n
cHUvZHJtL2RybV9kcF9tc3RfdG9wb2xvZ3kuYyB8IDE0NCArKysrKysrKysrKysrKysrKysrKysr
KystLQogaW5jbHVkZS9kcm0vZHJtX2RwX2hlbHBlci5oICAgICAgICAgICB8ICAgNCArCiBpbmNs
dWRlL2RybS9kcm1fZHBfbXN0X2hlbHBlci5oICAgICAgIHwgIDExICsrCiA0IGZpbGVzIGNoYW5n
ZWQsIDE2MiBpbnNlcnRpb25zKCspLCAxMiBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vZHJtX2RwX2F1eF9kZXYuYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fZHBfYXV4
X2Rldi5jCmluZGV4IDI2ZTM4ZGFjZjY1NC4uMGNmYjM4Njc1NGMzIDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vZHJtX2RwX2F1eF9kZXYuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2Rw
X2F1eF9kZXYuYwpAQCAtMzcsNiArMzcsNyBAQAogCiAjaW5jbHVkZSA8ZHJtL2RybV9jcnRjLmg+
CiAjaW5jbHVkZSA8ZHJtL2RybV9kcF9oZWxwZXIuaD4KKyNpbmNsdWRlIDxkcm0vZHJtX2RwX21z
dF9oZWxwZXIuaD4KICNpbmNsdWRlIDxkcm0vZHJtX3ByaW50Lmg+CiAKICNpbmNsdWRlICJkcm1f
Y3J0Y19oZWxwZXJfaW50ZXJuYWwuaCIKQEAgLTE2Miw3ICsxNjMsMTIgQEAgc3RhdGljIHNzaXpl
X3QgYXV4ZGV2X3JlYWRfaXRlcihzdHJ1Y3Qga2lvY2IgKmlvY2IsIHN0cnVjdCBpb3ZfaXRlciAq
dG8pCiAJCQlicmVhazsKIAkJfQogCi0JCXJlcyA9IGRybV9kcF9kcGNkX3JlYWQoYXV4X2Rldi0+
YXV4LCBwb3MsIGJ1ZiwgdG9kbyk7CisJCWlmIChhdXhfZGV2LT5hdXgtPmlzX3JlbW90ZSkKKwkJ
CXJlcyA9IGRybV9kcF9tc3RfZHBjZF9yZWFkKGF1eF9kZXYtPmF1eCwgcG9zLCBidWYsCisJCQkJ
CQkgICB0b2RvKTsKKwkJZWxzZQorCQkJcmVzID0gZHJtX2RwX2RwY2RfcmVhZChhdXhfZGV2LT5h
dXgsIHBvcywgYnVmLCB0b2RvKTsKKwogCQlpZiAocmVzIDw9IDApCiAJCQlicmVhazsKIApAQCAt
MjA5LDcgKzIxNSwxMiBAQCBzdGF0aWMgc3NpemVfdCBhdXhkZXZfd3JpdGVfaXRlcihzdHJ1Y3Qg
a2lvY2IgKmlvY2IsIHN0cnVjdCBpb3ZfaXRlciAqZnJvbSkKIAkJCWJyZWFrOwogCQl9CiAKLQkJ
cmVzID0gZHJtX2RwX2RwY2Rfd3JpdGUoYXV4X2Rldi0+YXV4LCBwb3MsIGJ1ZiwgdG9kbyk7CisJ
CWlmIChhdXhfZGV2LT5hdXgtPmlzX3JlbW90ZSkKKwkJCXJlcyA9IGRybV9kcF9tc3RfZHBjZF93
cml0ZShhdXhfZGV2LT5hdXgsIHBvcywgYnVmLAorCQkJCQkJICAgIHRvZG8pOworCQllbHNlCisJ
CQlyZXMgPSBkcm1fZHBfZHBjZF93cml0ZShhdXhfZGV2LT5hdXgsIHBvcywgYnVmLCB0b2RvKTsK
KwogCQlpZiAocmVzIDw9IDApCiAJCQlicmVhazsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2RybV9kcF9tc3RfdG9wb2xvZ3kuYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fZHBfbXN0X3Rv
cG9sb2d5LmMKaW5kZXggMDk4NGI5YTM0ZDU1Li40NzMzZDMzNTBlZGUgMTAwNjQ0Ci0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9kcm1fZHBfbXN0X3RvcG9sb2d5LmMKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2RybV9kcF9tc3RfdG9wb2xvZ3kuYwpAQCAtMzYsNiArMzYsOCBAQAogI2luY2x1ZGUgPGRybS9k
cm1fcHJpbnQuaD4KICNpbmNsdWRlIDxkcm0vZHJtX3Byb2JlX2hlbHBlci5oPgogCisjaW5jbHVk
ZSAiZHJtX2NydGNfaGVscGVyX2ludGVybmFsLmgiCisKIC8qKgogICogRE9DOiBkcCBtc3QgaGVs
cGVyCiAgKgpAQCAtNTMsNiArNTUsOSBAQCBzdGF0aWMgaW50IGRybV9kcF9kcGNkX3dyaXRlX3Bh
eWxvYWQoc3RydWN0IGRybV9kcF9tc3RfdG9wb2xvZ3lfbWdyICptZ3IsCiAJCQkJICAgICBpbnQg
aWQsCiAJCQkJICAgICBzdHJ1Y3QgZHJtX2RwX3BheWxvYWQgKnBheWxvYWQpOwogCitzdGF0aWMg
aW50IGRybV9kcF9zZW5kX2RwY2RfcmVhZChzdHJ1Y3QgZHJtX2RwX21zdF90b3BvbG9neV9tZ3Ig
Km1nciwKKwkJCQkgc3RydWN0IGRybV9kcF9tc3RfcG9ydCAqcG9ydCwKKwkJCQkgaW50IG9mZnNl
dCwgaW50IHNpemUsIHU4ICpieXRlcyk7CiBzdGF0aWMgaW50IGRybV9kcF9zZW5kX2RwY2Rfd3Jp
dGUoc3RydWN0IGRybV9kcF9tc3RfdG9wb2xvZ3lfbWdyICptZ3IsCiAJCQkJICBzdHJ1Y3QgZHJt
X2RwX21zdF9wb3J0ICpwb3J0LAogCQkJCSAgaW50IG9mZnNldCwgaW50IHNpemUsIHU4ICpieXRl
cyk7CkBAIC0xMjM4LDYgKzEyNDMsOCBAQCBzdGF0aWMgdm9pZCBkcm1fZHBfZGVzdHJveV9wb3J0
KHN0cnVjdCBrcmVmICprcmVmKQogCXN0cnVjdCBkcm1fZHBfbXN0X3RvcG9sb2d5X21nciAqbWdy
ID0gcG9ydC0+bWdyOwogCiAJaWYgKCFwb3J0LT5pbnB1dCkgeworCQlwb3J0LT52Y3BpLm51bV9z
bG90cyA9IDA7CisKIAkJa2ZyZWUocG9ydC0+Y2FjaGVkX2VkaWQpOwogCiAJCS8qCkBAIC0xNDgz
LDYgKzE0OTAsNTIgQEAgc3RhdGljIGJvb2wgZHJtX2RwX3BvcnRfc2V0dXBfcGR0KHN0cnVjdCBk
cm1fZHBfbXN0X3BvcnQgKnBvcnQpCiAJcmV0dXJuIHNlbmRfbGluazsKIH0KIAorLyoqCisgKiBk
cm1fZHBfbXN0X2RwY2RfcmVhZCgpIC0gcmVhZCBhIHNlcmllcyBvZiBieXRlcyBmcm9tIHRoZSBE
UENEIHZpYSBzaWRlYmFuZAorICogQGF1eDogRmFrZSBzaWRlYmFuZCBBVVggQ0gKKyAqIEBvZmZz
ZXQ6IGFkZHJlc3Mgb2YgdGhlIChmaXJzdCkgcmVnaXN0ZXIgdG8gcmVhZAorICogQGJ1ZmZlcjog
YnVmZmVyIHRvIHN0b3JlIHRoZSByZWdpc3RlciB2YWx1ZXMKKyAqIEBzaXplOiBudW1iZXIgb2Yg
Ynl0ZXMgaW4gQGJ1ZmZlcgorICoKKyAqIFBlcmZvcm1zIHRoZSBzYW1lIGZ1bmN0aW9uYWxpdHkg
Zm9yIHJlbW90ZSBkZXZpY2VzIHZpYQorICogc2lkZWJhbmQgbWVzc2FnaW5nIGFzIGRybV9kcF9k
cGNkX3JlYWQoKSBkb2VzIGZvciBsb2NhbAorICogZGV2aWNlcyB2aWEgYWN0dWFsIEFVWCBDSC4K
KyAqCisgKiBSZXR1cm46IE51bWJlciBvZiBieXRlcyByZWFkLCBvciBuZWdhdGl2ZSBlcnJvciBj
b2RlIG9uIGZhaWx1cmUuCisgKi8KK3NzaXplX3QgZHJtX2RwX21zdF9kcGNkX3JlYWQoc3RydWN0
IGRybV9kcF9hdXggKmF1eCwKKwkJCSAgICAgdW5zaWduZWQgaW50IG9mZnNldCwgdm9pZCAqYnVm
ZmVyLCBzaXplX3Qgc2l6ZSkKK3sKKwlzdHJ1Y3QgZHJtX2RwX21zdF9wb3J0ICpwb3J0ID0gY29u
dGFpbmVyX29mKGF1eCwgc3RydWN0IGRybV9kcF9tc3RfcG9ydCwKKwkJCQkJCSAgICBhdXgpOwor
CisJcmV0dXJuIGRybV9kcF9zZW5kX2RwY2RfcmVhZChwb3J0LT5tZ3IsIHBvcnQsCisJCQkJICAg
ICBvZmZzZXQsIHNpemUsIGJ1ZmZlcik7Cit9CisKKy8qKgorICogZHJtX2RwX21zdF9kcGNkX3dy
aXRlKCkgLSB3cml0ZSBhIHNlcmllcyBvZiBieXRlcyB0byB0aGUgRFBDRCB2aWEgc2lkZWJhbmQK
KyAqIEBhdXg6IEZha2Ugc2lkZWJhbmQgQVVYIENICisgKiBAb2Zmc2V0OiBhZGRyZXNzIG9mIHRo
ZSAoZmlyc3QpIHJlZ2lzdGVyIHRvIHdyaXRlCisgKiBAYnVmZmVyOiBidWZmZXIgY29udGFpbmlu
ZyB0aGUgdmFsdWVzIHRvIHdyaXRlCisgKiBAc2l6ZTogbnVtYmVyIG9mIGJ5dGVzIGluIEBidWZm
ZXIKKyAqCisgKiBQZXJmb3JtcyB0aGUgc2FtZSBmdW5jdGlvbmFsaXR5IGZvciByZW1vdGUgZGV2
aWNlcyB2aWEKKyAqIHNpZGViYW5kIG1lc3NhZ2luZyBhcyBkcm1fZHBfZHBjZF93cml0ZSgpIGRv
ZXMgZm9yIGxvY2FsCisgKiBkZXZpY2VzIHZpYSBhY3R1YWwgQVVYIENILgorICoKKyAqIFJldHVy
bjogMCBvbiBzdWNjZXNzLCBuZWdhdGl2ZSBlcnJvciBjb2RlIG9uIGZhaWx1cmUuCisgKi8KK3Nz
aXplX3QgZHJtX2RwX21zdF9kcGNkX3dyaXRlKHN0cnVjdCBkcm1fZHBfYXV4ICphdXgsCisJCQkg
ICAgICB1bnNpZ25lZCBpbnQgb2Zmc2V0LCB2b2lkICpidWZmZXIsIHNpemVfdCBzaXplKQorewor
CXN0cnVjdCBkcm1fZHBfbXN0X3BvcnQgKnBvcnQgPSBjb250YWluZXJfb2YoYXV4LCBzdHJ1Y3Qg
ZHJtX2RwX21zdF9wb3J0LAorCQkJCQkJICAgIGF1eCk7CisKKwlyZXR1cm4gZHJtX2RwX3NlbmRf
ZHBjZF93cml0ZShwb3J0LT5tZ3IsIHBvcnQsCisJCQkJICAgICAgb2Zmc2V0LCBzaXplLCBidWZm
ZXIpOworfQorCiBzdGF0aWMgdm9pZCBkcm1fZHBfY2hlY2tfbXN0Yl9ndWlkKHN0cnVjdCBkcm1f
ZHBfbXN0X2JyYW5jaCAqbXN0YiwgdTggKmd1aWQpCiB7CiAJaW50IHJldDsKQEAgLTE1MjYsNiAr
MTU3OSw0NiBAQCBzdGF0aWMgdm9pZCBidWlsZF9tc3RfcHJvcF9wYXRoKGNvbnN0IHN0cnVjdCBk
cm1fZHBfbXN0X2JyYW5jaCAqbXN0YiwKIAlzdHJsY2F0KHByb3BwYXRoLCB0ZW1wLCBwcm9wcGF0
aF9zaXplKTsKIH0KIAorLyoqCisgKiBkcm1fZHBfbXN0X2Nvbm5lY3Rvcl9sYXRlX3JlZ2lzdGVy
KCkgLSBMYXRlIE1TVCBjb25uZWN0b3IgcmVnaXN0cmF0aW9uCisgKiBAZHJtX2Nvbm5lY3Rvcjog
VGhlIE1TVCBjb25uZWN0b3IKKyAqIEBwb3J0OiBUaGUgTVNUIHBvcnQgZm9yIHRoaXMgY29ubmVj
dG9yCisgKgorICogSGVscGVyIHRvIHJlZ2lzdGVyIHRoZSByZW1vdGUgYXV4IGRldmljZSBmb3Ig
dGhpcyBNU1QgcG9ydC4gRHJpdmVycyBzaG91bGQKKyAqIGNhbGwgdGhpcyBmcm9tIHRoZWlyIG1z
dCBjb25uZWN0b3IncyBsYXRlX3JlZ2lzdGVyIGhvb2sgdG8gZW5hYmxlIE1TVCBhdXgKKyAqIGRl
dmljZXMuCisgKgorICogUmV0dXJuOiAwIG9uIHN1Y2Nlc3MsIG5lZ2F0aXZlIGVycm9yIGNvZGUg
b24gZmFpbHVyZS4KKyAqLworaW50IGRybV9kcF9tc3RfY29ubmVjdG9yX2xhdGVfcmVnaXN0ZXIo
c3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciwKKwkJCQkgICAgICAgc3RydWN0IGRybV9k
cF9tc3RfcG9ydCAqcG9ydCkKK3sKKwlEUk1fREVCVUdfS01TKCJyZWdpc3RlcmluZyAlcyByZW1v
dGUgYnVzIGZvciAlc1xuIiwKKwkJICAgICAgcG9ydC0+YXV4Lm5hbWUsIGNvbm5lY3Rvci0+a2Rl
di0+a29iai5uYW1lKTsKKworCXBvcnQtPmF1eC5kZXYgPSBjb25uZWN0b3ItPmtkZXY7CisJcmV0
dXJuIGRybV9kcF9hdXhfcmVnaXN0ZXJfZGV2bm9kZSgmcG9ydC0+YXV4KTsKK30KK0VYUE9SVF9T
WU1CT0woZHJtX2RwX21zdF9jb25uZWN0b3JfbGF0ZV9yZWdpc3Rlcik7CisKKy8qKgorICogZHJt
X2RwX21zdF9jb25uZWN0b3JfZWFybHlfdW5yZWdpc3RlcigpIC0gRWFybHkgTVNUIGNvbm5lY3Rv
ciB1bnJlZ2lzdHJhdGlvbgorICogQGRybV9jb25uZWN0b3I6IFRoZSBNU1QgY29ubmVjdG9yCisg
KiBAcG9ydDogVGhlIE1TVCBwb3J0IGZvciB0aGlzIGNvbm5lY3RvcgorICoKKyAqIEhlbHBlciB0
byB1bnJlZ2lzdGVyIHRoZSByZW1vdGUgYXV4IGRldmljZSBmb3IgdGhpcyBNU1QgcG9ydCwgcmVn
aXN0ZXJlZCBieQorICogZHJtX2RwX21zdF9jb25uZWN0b3JfbGF0ZV9yZWdpc3RlcigpLiBEcml2
ZXJzIHNob3VsZCBjYWxsIHRoaXMgZnJvbSB0aGVpciBtc3QKKyAqIGNvbm5lY3RvcidzIGVhcmx5
X3VucmVnaXN0ZXIgaG9vay4KKyAqLwordm9pZCBkcm1fZHBfbXN0X2Nvbm5lY3Rvcl9lYXJseV91
bnJlZ2lzdGVyKHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IsCisJCQkJCSAgIHN0cnVj
dCBkcm1fZHBfbXN0X3BvcnQgKnBvcnQpCit7CisJRFJNX0RFQlVHX0tNUygidW5yZWdpc3Rlcmlu
ZyAlcyByZW1vdGUgYnVzIGZvciAlc1xuIiwKKwkJICAgICAgcG9ydC0+YXV4Lm5hbWUsIGNvbm5l
Y3Rvci0+a2Rldi0+a29iai5uYW1lKTsKKwlkcm1fZHBfYXV4X3VucmVnaXN0ZXJfZGV2bm9kZSgm
cG9ydC0+YXV4KTsKK30KK0VYUE9SVF9TWU1CT0woZHJtX2RwX21zdF9jb25uZWN0b3JfZWFybHlf
dW5yZWdpc3Rlcik7CisKIHN0YXRpYyB2b2lkIGRybV9kcF9hZGRfcG9ydChzdHJ1Y3QgZHJtX2Rw
X21zdF9icmFuY2ggKm1zdGIsCiAJCQkgICAgc3RydWN0IGRybV9kZXZpY2UgKmRldiwKIAkJCSAg
ICBzdHJ1Y3QgZHJtX2RwX2xpbmtfYWRkcl9yZXBseV9wb3J0ICpwb3J0X21zZykKQEAgLTE1NDgs
NiArMTY0MSw3IEBAIHN0YXRpYyB2b2lkIGRybV9kcF9hZGRfcG9ydChzdHJ1Y3QgZHJtX2RwX21z
dF9icmFuY2ggKm1zdGIsCiAJCXBvcnQtPm1nciA9IG1zdGItPm1ncjsKIAkJcG9ydC0+YXV4Lm5h
bWUgPSAiRFBNU1QiOwogCQlwb3J0LT5hdXguZGV2ID0gZGV2LT5kZXY7CisJCXBvcnQtPmF1eC5p
c19yZW1vdGUgPSB0cnVlOwogCiAJCS8qCiAJCSAqIE1ha2Ugc3VyZSB0aGUgbWVtb3J5IGFsbG9j
YXRpb24gZm9yIG91ciBwYXJlbnQgYnJhbmNoIHN0YXlzCkBAIC0xODE2LDcgKzE5MTAsNiBAQCBz
dGF0aWMgYm9vbCBkcm1fZHBfdmFsaWRhdGVfZ3VpZChzdHJ1Y3QgZHJtX2RwX21zdF90b3BvbG9n
eV9tZ3IgKm1nciwKIAlyZXR1cm4gZmFsc2U7CiB9CiAKLSNpZiAwCiBzdGF0aWMgaW50IGJ1aWxk
X2RwY2RfcmVhZChzdHJ1Y3QgZHJtX2RwX3NpZGViYW5kX21zZ190eCAqbXNnLCB1OCBwb3J0X251
bSwgdTMyIG9mZnNldCwgdTggbnVtX2J5dGVzKQogewogCXN0cnVjdCBkcm1fZHBfc2lkZWJhbmRf
bXNnX3JlcV9ib2R5IHJlcTsKQEAgLTE4MjksNyArMTkyMiw2IEBAIHN0YXRpYyBpbnQgYnVpbGRf
ZHBjZF9yZWFkKHN0cnVjdCBkcm1fZHBfc2lkZWJhbmRfbXNnX3R4ICptc2csIHU4IHBvcnRfbnVt
LCB1MzIKIAogCXJldHVybiAwOwogfQotI2VuZGlmCiAKIHN0YXRpYyBpbnQgZHJtX2RwX3NlbmRf
c2lkZWJhbmRfbXNnKHN0cnVjdCBkcm1fZHBfbXN0X3RvcG9sb2d5X21nciAqbWdyLAogCQkJCSAg
ICBib29sIHVwLCB1OCAqbXNnLCBpbnQgbGVuKQpAQCAtMjQ0MSwyNiArMjUzMyw1OCBAQCBpbnQg
ZHJtX2RwX3VwZGF0ZV9wYXlsb2FkX3BhcnQyKHN0cnVjdCBkcm1fZHBfbXN0X3RvcG9sb2d5X21n
ciAqbWdyKQogfQogRVhQT1JUX1NZTUJPTChkcm1fZHBfdXBkYXRlX3BheWxvYWRfcGFydDIpOwog
Ci0jaWYgMCAvKiB1bnVzZWQgYXMgb2YgeWV0ICovCiBzdGF0aWMgaW50IGRybV9kcF9zZW5kX2Rw
Y2RfcmVhZChzdHJ1Y3QgZHJtX2RwX21zdF90b3BvbG9neV9tZ3IgKm1nciwKIAkJCQkgc3RydWN0
IGRybV9kcF9tc3RfcG9ydCAqcG9ydCwKLQkJCQkgaW50IG9mZnNldCwgaW50IHNpemUpCisJCQkJ
IGludCBvZmZzZXQsIGludCBzaXplLCB1OCAqYnl0ZXMpCiB7CiAJaW50IGxlbjsKKwlpbnQgcmV0
ID0gMDsKIAlzdHJ1Y3QgZHJtX2RwX3NpZGViYW5kX21zZ190eCAqdHhtc2c7CisJc3RydWN0IGRy
bV9kcF9tc3RfYnJhbmNoICptc3RiOworCisJbXN0YiA9IGRybV9kcF9tc3RfdG9wb2xvZ3lfZ2V0
X21zdGJfdmFsaWRhdGVkKG1nciwgcG9ydC0+cGFyZW50KTsKKwlpZiAoIW1zdGIpCisJCXJldHVy
biAtRUlOVkFMOwogCiAJdHhtc2cgPSBremFsbG9jKHNpemVvZigqdHhtc2cpLCBHRlBfS0VSTkVM
KTsKLQlpZiAoIXR4bXNnKQotCQlyZXR1cm4gLUVOT01FTTsKKwlpZiAoIXR4bXNnKSB7CisJCXJl
dCA9IC1FTk9NRU07CisJCWdvdG8gZmFpbF9wdXQ7CisJfQogCi0JbGVuID0gYnVpbGRfZHBjZF9y
ZWFkKHR4bXNnLCBwb3J0LT5wb3J0X251bSwgMCwgOCk7CisJbGVuID0gYnVpbGRfZHBjZF9yZWFk
KHR4bXNnLCBwb3J0LT5wb3J0X251bSwgb2Zmc2V0LCBzaXplKTsKIAl0eG1zZy0+ZHN0ID0gcG9y
dC0+cGFyZW50OwogCiAJZHJtX2RwX3F1ZXVlX2Rvd25fdHgobWdyLCB0eG1zZyk7CiAKLQlyZXR1
cm4gMDsKKwlyZXQgPSBkcm1fZHBfbXN0X3dhaXRfdHhfcmVwbHkobXN0YiwgdHhtc2cpOworCWlm
IChyZXQgPCAwKQorCQlnb3RvIGZhaWxfZnJlZTsKKworCS8qIERQQ0QgcmVhZCBzaG91bGQgbmV2
ZXIgYmUgTkFDS2VkICovCisJaWYgKHR4bXNnLT5yZXBseS5yZXBseV90eXBlID09IDEpIHsKKwkJ
RFJNX0VSUk9SKCJtc3RiICVwIHBvcnQgJWQ6IERQQ0QgcmVhZCBvbiBhZGRyIDB4JXggZm9yICVk
IGJ5dGVzIE5BS2VkXG4iLAorCQkJICBtc3RiLCBwb3J0LT5wb3J0X251bSwgb2Zmc2V0LCBzaXpl
KTsKKwkJcmV0ID0gLUVJTzsKKwkJZ290byBmYWlsX2ZyZWU7CisJfQorCisJaWYgKHR4bXNnLT5y
ZXBseS51LnJlbW90ZV9kcGNkX3JlYWRfYWNrLm51bV9ieXRlcyAhPSBzaXplKSB7CisJCXJldCA9
IC1FUFJPVE87CisJCWdvdG8gZmFpbF9mcmVlOworCX0KKworCXJldCA9IG1pbl90KHNpemVfdCwg
dHhtc2ctPnJlcGx5LnUucmVtb3RlX2RwY2RfcmVhZF9hY2subnVtX2J5dGVzLAorCQkgICAgc2l6
ZSk7CisJbWVtY3B5KGJ5dGVzLCB0eG1zZy0+cmVwbHkudS5yZW1vdGVfZHBjZF9yZWFkX2Fjay5i
eXRlcywgcmV0KTsKKworZmFpbF9mcmVlOgorCWtmcmVlKHR4bXNnKTsKK2ZhaWxfcHV0OgorCWRy
bV9kcF9tc3RfdG9wb2xvZ3lfcHV0X21zdGIobXN0Yik7CisKKwlyZXR1cm4gcmV0OwogfQotI2Vu
ZGlmCiAKIHN0YXRpYyBpbnQgZHJtX2RwX3NlbmRfZHBjZF93cml0ZShzdHJ1Y3QgZHJtX2RwX21z
dF90b3BvbG9neV9tZ3IgKm1nciwKIAkJCQkgIHN0cnVjdCBkcm1fZHBfbXN0X3BvcnQgKnBvcnQs
CkBAIC0yNDg5LDcgKzI2MTMsNyBAQCBzdGF0aWMgaW50IGRybV9kcF9zZW5kX2RwY2Rfd3JpdGUo
c3RydWN0IGRybV9kcF9tc3RfdG9wb2xvZ3lfbWdyICptZ3IsCiAJcmV0ID0gZHJtX2RwX21zdF93
YWl0X3R4X3JlcGx5KG1zdGIsIHR4bXNnKTsKIAlpZiAocmV0ID4gMCkgewogCQlpZiAodHhtc2ct
PnJlcGx5LnJlcGx5X3R5cGUgPT0gRFBfU0lERUJBTkRfUkVQTFlfTkFLKQotCQkJcmV0ID0gLUVJ
TlZBTDsKKwkJCXJldCA9IC1FSU87CiAJCWVsc2UKIAkJCXJldCA9IDA7CiAJfQpkaWZmIC0tZ2l0
IGEvaW5jbHVkZS9kcm0vZHJtX2RwX2hlbHBlci5oIGIvaW5jbHVkZS9kcm0vZHJtX2RwX2hlbHBl
ci5oCmluZGV4IDM5Nzg5NmI1YjIxYS4uODM2NDUwMmY5MmNmIDEwMDY0NAotLS0gYS9pbmNsdWRl
L2RybS9kcm1fZHBfaGVscGVyLmgKKysrIGIvaW5jbHVkZS9kcm0vZHJtX2RwX2hlbHBlci5oCkBA
IC0xMzA5LDYgKzEzMDksMTAgQEAgc3RydWN0IGRybV9kcF9hdXggewogCSAqIEBjZWM6IHN0cnVj
dCBjb250YWluaW5nIGZpZWxkcyB1c2VkIGZvciBDRUMtVHVubmVsaW5nLW92ZXItQVVYLgogCSAq
LwogCXN0cnVjdCBkcm1fZHBfYXV4X2NlYyBjZWM7CisJLyoqCisJICogQGlzX3JlbW90ZTogSXMg
dGhpcyBBVVggQ0ggYWN0dWFsbHkgdXNpbmcgc2lkZWJhbmQgbWVzc2FnaW5nLgorCSAqLworCWJv
b2wgaXNfcmVtb3RlOwogfTsKIAogc3NpemVfdCBkcm1fZHBfZHBjZF9yZWFkKHN0cnVjdCBkcm1f
ZHBfYXV4ICphdXgsIHVuc2lnbmVkIGludCBvZmZzZXQsCmRpZmYgLS1naXQgYS9pbmNsdWRlL2Ry
bS9kcm1fZHBfbXN0X2hlbHBlci5oIGIvaW5jbHVkZS9kcm0vZHJtX2RwX21zdF9oZWxwZXIuaApp
bmRleCA4Yzk3YTVmOTJjNDcuLjJiYTYyNTNlYTZkMyAxMDA2NDQKLS0tIGEvaW5jbHVkZS9kcm0v
ZHJtX2RwX21zdF9oZWxwZXIuaAorKysgYi9pbmNsdWRlL2RybS9kcm1fZHBfbXN0X2hlbHBlci5o
CkBAIC02NDMsNiArNjQzLDE3IEBAIHZvaWQgZHJtX2RwX21zdF9kdW1wX3RvcG9sb2d5KHN0cnVj
dCBzZXFfZmlsZSAqbSwKIHZvaWQgZHJtX2RwX21zdF90b3BvbG9neV9tZ3Jfc3VzcGVuZChzdHJ1
Y3QgZHJtX2RwX21zdF90b3BvbG9neV9tZ3IgKm1ncik7CiBpbnQgX19tdXN0X2NoZWNrCiBkcm1f
ZHBfbXN0X3RvcG9sb2d5X21ncl9yZXN1bWUoc3RydWN0IGRybV9kcF9tc3RfdG9wb2xvZ3lfbWdy
ICptZ3IpOworCitzc2l6ZV90IGRybV9kcF9tc3RfZHBjZF9yZWFkKHN0cnVjdCBkcm1fZHBfYXV4
ICphdXgsCisJCQkgICAgIHVuc2lnbmVkIGludCBvZmZzZXQsIHZvaWQgKmJ1ZmZlciwgc2l6ZV90
IHNpemUpOworc3NpemVfdCBkcm1fZHBfbXN0X2RwY2Rfd3JpdGUoc3RydWN0IGRybV9kcF9hdXgg
KmF1eCwKKwkJCSAgICAgIHVuc2lnbmVkIGludCBvZmZzZXQsIHZvaWQgKmJ1ZmZlciwgc2l6ZV90
IHNpemUpOworCitpbnQgZHJtX2RwX21zdF9jb25uZWN0b3JfbGF0ZV9yZWdpc3RlcihzdHJ1Y3Qg
ZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yLAorCQkJCSAgICAgICBzdHJ1Y3QgZHJtX2RwX21zdF9w
b3J0ICpwb3J0KTsKK3ZvaWQgZHJtX2RwX21zdF9jb25uZWN0b3JfZWFybHlfdW5yZWdpc3Rlcihz
dHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yLAorCQkJCQkgICBzdHJ1Y3QgZHJtX2RwX21z
dF9wb3J0ICpwb3J0KTsKKwogc3RydWN0IGRybV9kcF9tc3RfdG9wb2xvZ3lfc3RhdGUgKmRybV9h
dG9taWNfZ2V0X21zdF90b3BvbG9neV9zdGF0ZShzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqc3Rh
dGUsCiAJCQkJCQkJCSAgICBzdHJ1Y3QgZHJtX2RwX21zdF90b3BvbG9neV9tZ3IgKm1ncik7CiBp
bnQgX19tdXN0X2NoZWNrCi0tIAoyLjIyLjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3Rz
LmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xp
c3RpbmZvL2RyaS1kZXZlbA==
