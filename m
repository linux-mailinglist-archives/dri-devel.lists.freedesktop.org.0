Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 7A287F89FB
	for <lists+dri-devel@lfdr.de>; Tue, 12 Nov 2019 08:53:55 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 6D67B6E37F;
	Tue, 12 Nov 2019 07:53:52 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from NAM03-DM3-obe.outbound.protection.outlook.com
 (mail-eopbgr800079.outbound.protection.outlook.com [40.107.80.79])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B886E6E314;
 Tue, 12 Nov 2019 07:53:50 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=iCU6kXQ8RaEzbu4sbcIARDaW6R8DOTTg9AikYX9/pFWWA3f2arGyzlGex7eXz0gxu5/VLzzLU9fDOQD9q+GMUeO9Fcud0VT5bMI2trykdrYdc0/ZUhUCkZ1Jxgf4mb0+qHyDiSuJ0FlvKG4DZ1v2JgRUbUuGEuXaZP8vrJ/8v4NTip20yZJDaMby/w1FZFr83WjOAbUO4q9vBQjjpu8tH3RC19di37BqpSLYdL3fnXVMnTv0sJCHjhAe5Y0qGYS1BWoghou49+h/iKtmmNbvHnR0PIdjq041p1uwMPBmYNhDaK/g0DNXKjdAT9EciwIWloCAvHE7F9hVNN4lRDW80A==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=lDtenDwDmNTRF7IlGIZTm2cVrNe1NfBt1Ug4iJ58ZtU=;
 b=MVgW29vfmCSp4cwVSAP4Fo4weGKVvf0Wmr9OBvnVL3NpkXPrioNXN/IGVjim2eZYN09iY//BIb4mJPe9lTCWo32y81eh8dkYMEek1GGdgau3MCINXkq7v8K6uEDj5bnRQm29yq6sp6eAN/mFrW1PIddEwgMASuyp76H+ai47bhnfBfQOtw/Y6dwiAKV1oqhoaXNhfYBfZPb4R2HV9xcRY4ruhcbVpqhDvZGcY6HNFSGvWdL/KD5QLJuUN3Dp8mh+uy+zafDVAQtgRSNvsYb5DagqD0KRff1CVEJU4NL5TIspe/jcmoI77mJHb6EmlDsQsWCc/dF6ux6L3+8FjwgE3g==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=none (sender ip is
 165.204.84.17) smtp.rcpttodomain=lists.freedesktop.org smtp.mailfrom=amd.com; 
 dmarc=permerror action=none header.from=amd.com; dkim=none (message not
 signed); arc=none
Received: from BN6PR1201CA0012.namprd12.prod.outlook.com
 (2603:10b6:405:4c::22) by CY4PR1201MB2468.namprd12.prod.outlook.com
 (2603:10b6:903:d7::12) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2430.24; Tue, 12 Nov
 2019 07:53:49 +0000
Received: from CO1NAM03FT029.eop-NAM03.prod.protection.outlook.com
 (2a01:111:f400:7e48::201) by BN6PR1201CA0012.outlook.office365.com
 (2603:10b6:405:4c::22) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2430.20 via Frontend
 Transport; Tue, 12 Nov 2019 07:53:48 +0000
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
Received: from SATLEXMB01.amd.com (165.204.84.17) by
 CO1NAM03FT029.mail.protection.outlook.com (10.152.80.168) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id
 15.20.2430.20 via Frontend Transport; Tue, 12 Nov 2019 07:53:48 +0000
Received: from SATLEXMB01.amd.com (10.181.40.142) by SATLEXMB01.amd.com
 (10.181.40.142) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id 15.1.1713.5; Tue, 12 Nov
 2019 01:53:47 -0600
Received: from wayne-System-Product-Name.amd.com (10.180.168.240) by
 SATLEXMB01.amd.com (10.181.40.142) with Microsoft SMTP Server id 15.1.1713.5
 via Frontend Transport; Tue, 12 Nov 2019 01:53:45 -0600
From: Wayne Lin <Wayne.Lin@amd.com>
To: <dri-devel@lists.freedesktop.org>, <amd-gfx@lists.freedesktop.org>
Subject: [PATCH 1/2] drm/edid: Add aspect ratios to HDMI 4K modes
Date: Tue, 12 Nov 2019 15:53:06 +0800
Message-ID: <20191112075307.12574-1-Wayne.Lin@amd.com>
X-Mailer: git-send-email 2.17.1
MIME-Version: 1.0
X-EOPAttributedMessage: 0
X-MS-Office365-Filtering-HT: Tenant
X-Forefront-Antispam-Report: CIP:165.204.84.17; IPV:NLI; CTRY:US; EFV:NLI;
 SFV:NSPM;
 SFS:(10009020)(4636009)(136003)(346002)(39860400002)(396003)(376002)(428003)(199004)(189003)(186003)(426003)(6306002)(110136005)(336012)(50466002)(316002)(54906003)(4326008)(53416004)(70586007)(70206006)(305945005)(126002)(476003)(2616005)(26005)(486006)(5820100001)(2870700001)(6666004)(356004)(966005)(478600001)(8676002)(86362001)(36756003)(7696005)(23676004)(50226002)(47776003)(2906002)(81156014)(8936002)(81166006)(5660300002)(1076003);
 DIR:OUT; SFP:1101; SCL:1; SRVR:CY4PR1201MB2468; H:SATLEXMB01.amd.com; FPR:;
 SPF:None; LANG:en; PTR:InfoDomainNonexistent; A:1; MX:1; 
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-Correlation-Id: 5ca46c3c-b17b-4dae-3269-08d767457368
X-MS-TrafficTypeDiagnostic: CY4PR1201MB2468:
X-MS-Exchange-PUrlCount: 1
X-Microsoft-Antispam-PRVS: <CY4PR1201MB2468E14F8408BE500A7BEED1FC770@CY4PR1201MB2468.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:8273;
X-Forefront-PRVS: 021975AE46
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: o0ln9Pt9+2duqbEmNYAS65rZg9QPyTXxB7kOU09RmWCKdzBKf0+05WE+X2wILM+vGcFRtTz1Mt6MoZk7/10wB2GoKjb4V3iRKOGFgVD342BMQWlt6h/JkK8zj1uQc0/oXhw0UkOU8n6PjXRBsfQlU8cZsHBZg9T6vK5Dt9XHM1AIuspk/9T3WpLt7It9O2Xi9E25T0pNQny5gYssvNfI9FG4KU3rcUwJx4p+FGvneDsRKp1OvYc4N2imT+w87n154B2GVig1kgm+E2FGPyGyTBOlpPpCDZGG+PfTEajfJXWOJOk13YzifC0dD2iibjwOQhPZcN8mnJRhlmiN+7y9RcVLjrfki/IyJ3xCS+1jTZCfrwO37UTyKiPV2AxB25oeQjipUVekdPIwppfU3NuCFaLcAFFgy6GWVZl9fdh8fQ7bFe48l/JYBsrZu/aAyiCjSfWyVKKeXBT2rd1iUni33Oi/Sxi6lHxe9aaazEEPIbo=
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 12 Nov 2019 07:53:48.1216 (UTC)
X-MS-Exchange-CrossTenant-Network-Message-Id: 5ca46c3c-b17b-4dae-3269-08d767457368
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-OriginalAttributedTenantConnectingIp: TenantId=3dd8961f-e488-4e60-8e11-a82d994e183d; Ip=[165.204.84.17];
 Helo=[SATLEXMB01.amd.com]
X-MS-Exchange-CrossTenant-FromEntityHeader: HybridOnPrem
X-MS-Exchange-Transport-CrossTenantHeadersStamped: CY4PR1201MB2468
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=lDtenDwDmNTRF7IlGIZTm2cVrNe1NfBt1Ug4iJ58ZtU=;
 b=O5gkWK6WKOOjqe3klU3XCuQTtHW8zRoWA5+lBtElU3OAKgnWXzvaG0pcO4yc/IxrWXx2pG0AQyJOIXs819elUuILPKg3A/6qdaBvmhx4+isz8f0+6ewnJgfFLkovanWrI6e3JXNYpq/6eDwaoabLEIRthhWgsyAHNhqShzTL5Uw=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is
 165.204.84.17)
 smtp.mailfrom=amd.com; lists.freedesktop.org; dkim=none (message not signed)
 header.d=none;lists.freedesktop.org; dmarc=permerror action=none
 header.from=amd.com;
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Wayne Lin <Wayne.Lin@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

W1doeV0KSERNSSAyLjAgYWRkcyBhc3BlY3QgcmF0aW8gYXR0cmlidXRlIHRvIGRpc3Rpbmd1aXNo
IGRpZmZlcmVudAo0ayBtb2Rlcy4gQWNjb3JkaW5nIHRvIEFwcGVuZGl4IEUgb2YgSERNSSAyLjAg
c3BlYywgc291cmNlIHNob3VsZAp1c2UgVlNJRiB0byBpbmRpY2F0ZSB2aWRlbyBtb2RlIG9ubHkg
d2hlbiB0aGUgbW9kZSBpcyBvbmUgZGVmaW5lZAppbiBIRE1JIDEuNGIgNEsgbW9kZXMuIE90aGVy
d2lzZSwgdXNlIEFWSSBpbmZvZnJhbWVzIHRvIGNvbnZleSBWSUMuCgpDdXJyZW50IGNvZGUgZG9l
c24ndCB0YWtlIGFzcGVjdCByYXRpbyBpbnRvIGNvbnNpZGVyYXRpb24gd2hpbGUKY29uc3RydWN0
aW5nIGF2aSBpbmZvZnJhbWUuIFNob3VsZCBtb2RpZnkgdGhhdC4KCltIb3ddCkluaGVyaXQgVmls
bGUgU3lyasOkbMOkJ3Mgd29yawoiZHJtL2VkaWQ6IFByZXAgZm9yIEhETUkgVklDIGFzcGVjdCBy
YXRpbyIgYXQKaHR0cHM6Ly9wYXRjaHdvcmsua2VybmVsLm9yZy9wYXRjaC8xMTE3NDYzOS8KCkFk
ZCBwaWN0dXJlX2FzcGVjdF9yYXRpbyBhdHRyaWJ1dGVzIHRvIGVkaWRfNGtfbW9kZXNbXSBhbmQK
Y29uc3RydWN0IFZJQyBhbmQgSERNSV9WSUMgYnkgdGFraW5nIGFzcGVjdCByYXRpbyBpbnRvCmNv
bnNpZGVyYXRpb24uCgpTaWduZWQtb2ZmLWJ5OiBXYXluZSBMaW4gPFdheW5lLkxpbkBhbWQuY29t
PgotLS0KIGRyaXZlcnMvZ3B1L2RybS9kcm1fZWRpZC5jIHwgNDUgKysrKysrKysrKysrKysrKysr
KysrKysrKysrKystLS0tLS0tLS0KIDEgZmlsZSBjaGFuZ2VkLCAzNSBpbnNlcnRpb25zKCspLCAx
MCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vZHJtX2VkaWQuYyBi
L2RyaXZlcnMvZ3B1L2RybS9kcm1fZWRpZC5jCmluZGV4IDc3YTM5ZmM3NjA0NS4uZmNkN2FlMjkw
NDlkIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vZHJtX2VkaWQuYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vZHJtX2VkaWQuYwpAQCAtMTI4OCwyNSArMTI4OCwyNSBAQCBzdGF0aWMgY29uc3Qg
c3RydWN0IGRybV9kaXNwbGF5X21vZGUgZWRpZF80a19tb2Rlc1tdID0gewogCQkgICAzODQwLCA0
MDE2LCA0MTA0LCA0NDAwLCAwLAogCQkgICAyMTYwLCAyMTY4LCAyMTc4LCAyMjUwLCAwLAogCQkg
ICBEUk1fTU9ERV9GTEFHX1BIU1lOQyB8IERSTV9NT0RFX0ZMQUdfUFZTWU5DKSwKLQkgIC52cmVm
cmVzaCA9IDMwLCB9LAorCSAgLnZyZWZyZXNoID0gMzAsIC5waWN0dXJlX2FzcGVjdF9yYXRpbyA9
IEhETUlfUElDVFVSRV9BU1BFQ1RfMTZfOSwgfSwKIAkvKiAyIC0gMzg0MHgyMTYwQDI1SHogKi8K
IAl7IERSTV9NT0RFKCIzODQweDIxNjAiLCBEUk1fTU9ERV9UWVBFX0RSSVZFUiwgMjk3MDAwLAog
CQkgICAzODQwLCA0ODk2LCA0OTg0LCA1MjgwLCAwLAogCQkgICAyMTYwLCAyMTY4LCAyMTc4LCAy
MjUwLCAwLAogCQkgICBEUk1fTU9ERV9GTEFHX1BIU1lOQyB8IERSTV9NT0RFX0ZMQUdfUFZTWU5D
KSwKLQkgIC52cmVmcmVzaCA9IDI1LCB9LAorCSAgLnZyZWZyZXNoID0gMjUsIC5waWN0dXJlX2Fz
cGVjdF9yYXRpbyA9IEhETUlfUElDVFVSRV9BU1BFQ1RfMTZfOSwgfSwKIAkvKiAzIC0gMzg0MHgy
MTYwQDI0SHogKi8KIAl7IERSTV9NT0RFKCIzODQweDIxNjAiLCBEUk1fTU9ERV9UWVBFX0RSSVZF
UiwgMjk3MDAwLAogCQkgICAzODQwLCA1MTE2LCA1MjA0LCA1NTAwLCAwLAogCQkgICAyMTYwLCAy
MTY4LCAyMTc4LCAyMjUwLCAwLAogCQkgICBEUk1fTU9ERV9GTEFHX1BIU1lOQyB8IERSTV9NT0RF
X0ZMQUdfUFZTWU5DKSwKLQkgIC52cmVmcmVzaCA9IDI0LCB9LAorCSAgLnZyZWZyZXNoID0gMjQs
IC5waWN0dXJlX2FzcGVjdF9yYXRpbyA9IEhETUlfUElDVFVSRV9BU1BFQ1RfMTZfOSwgfSwKIAkv
KiA0IC0gNDA5NngyMTYwQDI0SHogKFNNUFRFKSAqLwogCXsgRFJNX01PREUoIjQwOTZ4MjE2MCIs
IERSTV9NT0RFX1RZUEVfRFJJVkVSLCAyOTcwMDAsCiAJCSAgIDQwOTYsIDUxMTYsIDUyMDQsIDU1
MDAsIDAsCiAJCSAgIDIxNjAsIDIxNjgsIDIxNzgsIDIyNTAsIDAsCiAJCSAgIERSTV9NT0RFX0ZM
QUdfUEhTWU5DIHwgRFJNX01PREVfRkxBR19QVlNZTkMpLAotCSAgLnZyZWZyZXNoID0gMjQsIH0s
CisJICAudnJlZnJlc2ggPSAyNCwgSERNSV9QSUNUVVJFX0FTUEVDVF8yNTZfMTM1fSwKIH07CiAK
IC8qKiogRERDIGZldGNoIGFuZCBibG9jayB2YWxpZGF0aW9uICoqKi8KQEAgLTMxMTAsNiArMzEx
MCwxMSBAQCBzdGF0aWMgZW51bSBoZG1pX3BpY3R1cmVfYXNwZWN0IGRybV9nZXRfY2VhX2FzcGVj
dF9yYXRpbyhjb25zdCB1OCB2aWRlb19jb2RlKQogCXJldHVybiBlZGlkX2NlYV9tb2Rlc1t2aWRl
b19jb2RlXS5waWN0dXJlX2FzcGVjdF9yYXRpbzsKIH0KIAorc3RhdGljIGVudW0gaGRtaV9waWN0
dXJlX2FzcGVjdCBkcm1fZ2V0X2hkbWlfYXNwZWN0X3JhdGlvKGNvbnN0IHU4IHZpZGVvX2NvZGUp
Cit7CisJcmV0dXJuIGVkaWRfNGtfbW9kZXNbdmlkZW9fY29kZV0ucGljdHVyZV9hc3BlY3RfcmF0
aW87Cit9CisKIC8qCiAgKiBDYWxjdWxhdGUgdGhlIGFsdGVybmF0ZSBjbG9jayBmb3IgSERNSSBt
b2RlcyAodGhvc2UgZnJvbSB0aGUgSERNSSB2ZW5kb3IKICAqIHNwZWNpZmljIGJsb2NrKS4KQEAg
LTMxMzYsNiArMzE0MSw5IEBAIHN0YXRpYyB1OCBkcm1fbWF0Y2hfaGRtaV9tb2RlX2Nsb2NrX3Rv
bGVyYW5jZShjb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqdG9fCiAJaWYgKCF0b19tYXRj
aC0+Y2xvY2spCiAJCXJldHVybiAwOwogCisJaWYgKHRvX21hdGNoLT5waWN0dXJlX2FzcGVjdF9y
YXRpbykKKwkJbWF0Y2hfZmxhZ3MgfD0gRFJNX01PREVfTUFUQ0hfQVNQRUNUX1JBVElPOworCiAJ
Zm9yICh2aWMgPSAxOyB2aWMgPCBBUlJBWV9TSVpFKGVkaWRfNGtfbW9kZXMpOyB2aWMrKykgewog
CQljb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqaGRtaV9tb2RlID0gJmVkaWRfNGtfbW9k
ZXNbdmljXTsKIAkJdW5zaWduZWQgaW50IGNsb2NrMSwgY2xvY2syOwpAQCAtMzE3MSw2ICszMTc5
LDkgQEAgc3RhdGljIHU4IGRybV9tYXRjaF9oZG1pX21vZGUoY29uc3Qgc3RydWN0IGRybV9kaXNw
bGF5X21vZGUgKnRvX21hdGNoKQogCWlmICghdG9fbWF0Y2gtPmNsb2NrKQogCQlyZXR1cm4gMDsK
IAorCWlmICh0b19tYXRjaC0+cGljdHVyZV9hc3BlY3RfcmF0aW8pCisJCW1hdGNoX2ZsYWdzIHw9
IERSTV9NT0RFX01BVENIX0FTUEVDVF9SQVRJTzsKKwogCWZvciAodmljID0gMTsgdmljIDwgQVJS
QVlfU0laRShlZGlkXzRrX21vZGVzKTsgdmljKyspIHsKIAkJY29uc3Qgc3RydWN0IGRybV9kaXNw
bGF5X21vZGUgKmhkbWlfbW9kZSA9ICZlZGlkXzRrX21vZGVzW3ZpY107CiAJCXVuc2lnbmVkIGlu
dCBjbG9jazEsIGNsb2NrMjsKQEAgLTUxMTgsNiArNTEyOSw3IEBAIGRybV9oZG1pX2F2aV9pbmZv
ZnJhbWVfZnJvbV9kaXNwbGF5X21vZGUoc3RydWN0IGhkbWlfYXZpX2luZm9mcmFtZSAqZnJhbWUs
CiAJCQkJCSBjb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZSkKIHsKIAllbnVtIGhk
bWlfcGljdHVyZV9hc3BlY3QgcGljdHVyZV9hc3BlY3Q7CisJdTggdmljLCBoZG1pX3ZpYzsKIAlp
bnQgZXJyOwogCiAJaWYgKCFmcmFtZSB8fCAhbW9kZSkKQEAgLTUxMzAsNyArNTE0Miw4IEBAIGRy
bV9oZG1pX2F2aV9pbmZvZnJhbWVfZnJvbV9kaXNwbGF5X21vZGUoc3RydWN0IGhkbWlfYXZpX2lu
Zm9mcmFtZSAqZnJhbWUsCiAJaWYgKG1vZGUtPmZsYWdzICYgRFJNX01PREVfRkxBR19EQkxDTEsp
CiAJCWZyYW1lLT5waXhlbF9yZXBlYXQgPSAxOwogCi0JZnJhbWUtPnZpZGVvX2NvZGUgPSBkcm1f
bW9kZV9jZWFfdmljKGNvbm5lY3RvciwgbW9kZSk7CisJdmljID0gZHJtX21vZGVfY2VhX3ZpYyhj
b25uZWN0b3IsIG1vZGUpOworCWhkbWlfdmljID0gZHJtX21vZGVfaGRtaV92aWMoY29ubmVjdG9y
LCBtb2RlKTsKIAogCWZyYW1lLT5waWN0dXJlX2FzcGVjdCA9IEhETUlfUElDVFVSRV9BU1BFQ1Rf
Tk9ORTsKIApAQCAtNTE0NCwxMSArNTE1NywxNSBAQCBkcm1faGRtaV9hdmlfaW5mb2ZyYW1lX2Zy
b21fZGlzcGxheV9tb2RlKHN0cnVjdCBoZG1pX2F2aV9pbmZvZnJhbWUgKmZyYW1lLAogCiAJLyoK
IAkgKiBQb3B1bGF0ZSBwaWN0dXJlIGFzcGVjdCByYXRpbyBmcm9tIGVpdGhlcgotCSAqIHVzZXIg
aW5wdXQgKGlmIHNwZWNpZmllZCkgb3IgZnJvbSB0aGUgQ0VBIG1vZGUgbGlzdC4KKwkgKiB1c2Vy
IGlucHV0IChpZiBzcGVjaWZpZWQpIG9yIGZyb20gdGhlIENFQS9IRE1JIG1vZGUgbGlzdHMuCiAJ
ICovCiAJcGljdHVyZV9hc3BlY3QgPSBtb2RlLT5waWN0dXJlX2FzcGVjdF9yYXRpbzsKLQlpZiAo
cGljdHVyZV9hc3BlY3QgPT0gSERNSV9QSUNUVVJFX0FTUEVDVF9OT05FKQotCQlwaWN0dXJlX2Fz
cGVjdCA9IGRybV9nZXRfY2VhX2FzcGVjdF9yYXRpbyhmcmFtZS0+dmlkZW9fY29kZSk7CisJaWYg
KHBpY3R1cmVfYXNwZWN0ID09IEhETUlfUElDVFVSRV9BU1BFQ1RfTk9ORSkgeworCQlpZiAodmlj
KQorCQkJcGljdHVyZV9hc3BlY3QgPSBkcm1fZ2V0X2NlYV9hc3BlY3RfcmF0aW8odmljKTsKKwkJ
ZWxzZSBpZiAoaGRtaV92aWMpCisJCQlwaWN0dXJlX2FzcGVjdCA9IGRybV9nZXRfaGRtaV9hc3Bl
Y3RfcmF0aW8oaGRtaV92aWMpOworCX0KIAogCS8qCiAJICogVGhlIGluZm9mcmFtZSBjYW4ndCBj
b252ZXkgYW55dGhpbmcgYnV0IG5vbmUsIDQ6MwpAQCAtNTE1NiwxMiArNTE3MywyMCBAQCBkcm1f
aGRtaV9hdmlfaW5mb2ZyYW1lX2Zyb21fZGlzcGxheV9tb2RlKHN0cnVjdCBoZG1pX2F2aV9pbmZv
ZnJhbWUgKmZyYW1lLAogCSAqIHdlIGNhbiBvbmx5IHNhdGlzZnkgaXQgYnkgc3BlY2lmeWluZyB0
aGUgcmlnaHQgVklDLgogCSAqLwogCWlmIChwaWN0dXJlX2FzcGVjdCA+IEhETUlfUElDVFVSRV9B
U1BFQ1RfMTZfOSkgewotCQlpZiAocGljdHVyZV9hc3BlY3QgIT0KLQkJICAgIGRybV9nZXRfY2Vh
X2FzcGVjdF9yYXRpbyhmcmFtZS0+dmlkZW9fY29kZSkpCisJCWlmICh2aWMpIHsKKwkJCWlmIChw
aWN0dXJlX2FzcGVjdCAhPSBkcm1fZ2V0X2NlYV9hc3BlY3RfcmF0aW8odmljKSkKKwkJCQlyZXR1
cm4gLUVJTlZBTDsKKwkJfSBlbHNlIGlmIChoZG1pX3ZpYykgeworCQkJaWYgKHBpY3R1cmVfYXNw
ZWN0ICE9IGRybV9nZXRfaGRtaV9hc3BlY3RfcmF0aW8oaGRtaV92aWMpKQorCQkJCXJldHVybiAt
RUlOVkFMOworCQl9IGVsc2UgewogCQkJcmV0dXJuIC1FSU5WQUw7CisJCX0KKwogCQlwaWN0dXJl
X2FzcGVjdCA9IEhETUlfUElDVFVSRV9BU1BFQ1RfTk9ORTsKIAl9CiAKKwlmcmFtZS0+dmlkZW9f
Y29kZSA9IHZpYzsKIAlmcmFtZS0+cGljdHVyZV9hc3BlY3QgPSBwaWN0dXJlX2FzcGVjdDsKIAlm
cmFtZS0+YWN0aXZlX2FzcGVjdCA9IEhETUlfQUNUSVZFX0FTUEVDVF9QSUNUVVJFOwogCWZyYW1l
LT5zY2FuX21vZGUgPSBIRE1JX1NDQU5fTU9ERV9VTkRFUlNDQU47Ci0tIAoyLjE3LjEKCl9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWls
aW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZy
ZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
