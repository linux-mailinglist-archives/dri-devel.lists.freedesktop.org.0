Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 22C8C2D716E
	for <lists+dri-devel@lfdr.de>; Fri, 11 Dec 2020 09:17:25 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 901FD6ECC4;
	Fri, 11 Dec 2020 08:16:25 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from EUR05-AM6-obe.outbound.protection.outlook.com
 (mail-am6eur05on2054.outbound.protection.outlook.com [40.107.22.54])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 613316E81C
 for <dri-devel@lists.freedesktop.org>; Fri, 11 Dec 2020 01:55:18 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=n+lkh7TcnYLTIAp6kaSpvd04d2F8HaPYsyMNo2+rCUOE9VNZuqdiAGekoMh9UCWZNpEMRWYDVFFiyuiPUEgcaSnx/97FgVhVXZOg3weZp8GKbn7nZYF160YFk/cIx448AcCjV2gR9eXCrhAp6QG9ixSCWiTMuaXJwGmq+8lnbv7dccXkb9wOwzdgzb8JeajWpzL9IOgidLP/0K7FFs8Cg0NkAcQFFDH6ZqTt7HOIjKPZvuGK76gQ3/pWbs2ijapMHyZGUelf1keHOZVqbYFLwMx9Bo02y/PywG591TPG5tSOKNzxsNIE4WmNcyCsEY0A3chtrn9251gYlEt63bDqXA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=OM3xBl5UVQvmZN/wAHDcKFAarE/aVAMSnledIegaDkw=;
 b=CIjJ56VNaeADYh++25HlQdmc+35vZypy8Po6OpNJ3NIvdmQal11msGSl+9U0b5F3j4KMtPbKwOrurJqiZM3OMPAZNrSlwAH6Q9eFKWxNVA5bw7p9uqdDYjSF8SgiGKYeLC7pNR7g1jfYDUT6TLMJXFzRctjwi30FIHqNl086nT5AGZto/jJqSdB+wxelxV7R7M46qVbbaemPEbjHNUOKnSrU2BVyEFAKq5mXFqYH9hXsqqM+bTaOreA42zejDfSuff668oUIpqL0GT02EqH38euwogCnzvWl1f5rVaSeitCacSmZ1SZX0fp+hTv/kB9urkCbqnbczf4zJKOVz33GRg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=nxp.com; dmarc=pass action=none header.from=nxp.com; dkim=pass
 header.d=nxp.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=nxp.com; s=selector2; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=OM3xBl5UVQvmZN/wAHDcKFAarE/aVAMSnledIegaDkw=;
 b=qavVUfARBnjDC4f0fGMnq67Gse2adbyS8GTa/1N3M3uwqTau+nWnJHa+gNGjF/9R3MABarLjDd6MLZY1jLJ4DM0DCJCgHORMtRwu9ZBik432wFoEoBv7HGIfWdTupqzb9BP/8dP7H07mwGfxlB+eyPy7ukiTbzj8rfv2/YPECv8=
Authentication-Results: vger.kernel.org; dkim=none (message not signed)
 header.d=none;vger.kernel.org; dmarc=none action=none header.from=nxp.com;
Received: from VI1PR04MB3983.eurprd04.prod.outlook.com (2603:10a6:803:4c::16)
 by VI1PR04MB4045.eurprd04.prod.outlook.com (2603:10a6:803:43::13)
 with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.3654.12; Fri, 11 Dec
 2020 01:55:12 +0000
Received: from VI1PR04MB3983.eurprd04.prod.outlook.com
 ([fe80::dcb7:6117:3def:2685]) by VI1PR04MB3983.eurprd04.prod.outlook.com
 ([fe80::dcb7:6117:3def:2685%7]) with mapi id 15.20.3632.023; Fri, 11 Dec 2020
 01:55:12 +0000
From: Liu Ying <victor.liu@nxp.com>
To: linux-kernel@vger.kernel.org, devicetree@vger.kernel.org,
 dri-devel@lists.freedesktop.org, linux-arm-kernel@lists.infradead.org
Subject: [PATCH v3 5/5] phy: freescale: phy-fsl-imx8-mipi-dphy: Add i.MX8qxp
 LVDS PHY mode support
Date: Fri, 11 Dec 2020 09:46:22 +0800
Message-Id: <1607651182-12307-6-git-send-email-victor.liu@nxp.com>
X-Mailer: git-send-email 2.7.4
In-Reply-To: <1607651182-12307-1-git-send-email-victor.liu@nxp.com>
References: <1607651182-12307-1-git-send-email-victor.liu@nxp.com>
X-Originating-IP: [119.31.174.66]
X-ClientProxiedBy: SG2P153CA0042.APCP153.PROD.OUTLOOK.COM (2603:1096:4:c6::11)
 To VI1PR04MB3983.eurprd04.prod.outlook.com
 (2603:10a6:803:4c::16)
MIME-Version: 1.0
X-MS-Exchange-MessageSentRepresentingType: 1
Received: from localhost.localdomain (119.31.174.66) by
 SG2P153CA0042.APCP153.PROD.OUTLOOK.COM (2603:1096:4:c6::11) with Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256) id
 15.20.3676.5 via Frontend Transport; Fri, 11 Dec 2020 01:55:06 +0000
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-HT: Tenant
X-MS-Office365-Filtering-Correlation-Id: 66838810-cf88-4684-0d78-08d89d77cc49
X-MS-TrafficTypeDiagnostic: VI1PR04MB4045:
X-MS-Exchange-Transport-Forked: True
X-Microsoft-Antispam-PRVS: <VI1PR04MB4045CB4A3CEB75200C54D70E98CA0@VI1PR04MB4045.eurprd04.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:1265;
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: 0zD+EZlYUuwiu7c0982u94Y1xjrwLnLbofeEzp9o3vpiVZsNQ0laYSObql96s3sl6E0egjNLUESCR5BAsjkV+yFQltAp94i3IX08QgCIrifSRkiTHsUp1Ajsaun3du7UbP2srXcvANIielHJjat5z6ZQV2/Z8mYJ7YD/XsSsJbWCxEDZ2tBpgh5liB6VS/rB0RJXj7XclBvMvK9Nig6uPF5yEhvWwUmanjIFn67PiuXCtsXZ+CLxZ3BZjz9k5n7CLf+k5lvoAs+zMhmMHn7BXJoVvs+56TeWVxfi6S6F5TlU8ZfFEkIiIM+yAIqzctEuuN8qyD14HxmstOcOWau+PAmH/dTHeNVl/4cugcie+IXv54YbAjICgJPnwdv7g4Ms
X-Forefront-Antispam-Report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:VI1PR04MB3983.eurprd04.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(4636009)(396003)(346002)(376002)(136003)(39860400002)(366004)(2616005)(66946007)(66476007)(6512007)(186003)(66556008)(26005)(66574015)(7416002)(83380400001)(6486002)(16526019)(316002)(52116002)(956004)(2906002)(4326008)(6506007)(36756003)(6666004)(5660300002)(86362001)(30864003)(478600001)(8676002)(8936002)(473944003);
 DIR:OUT; SFP:1101; 
X-MS-Exchange-AntiSpam-MessageData: =?utf-8?B?YmNFQmRnOWpiYlZuWWF1MDN5OFI3U2NiS1B6SERQL09JS1FmVExKVlh1VzQw?=
 =?utf-8?B?b3p2WUI4NnlNd01FampVWlp1c0Y1V1RNeU0vWlN4NEQ4VEwxOTlrWEo3YnpU?=
 =?utf-8?B?d2YxSUZnRGFwKzJvRVRsZGplOURvNEJSRXlQNFJDWW43WUNEamJNbXhmanp0?=
 =?utf-8?B?bXFzN1ppbnpVTlpQWm1GSTFkS3NLUUNxMHA1SGV1dkswUTNnUXNYdHdJeVVi?=
 =?utf-8?B?NWV2c0lUNVJBWE5jUHJ5QlJnMDhSamYwQjBjRU5iVWovNmNJVGt2WjhaK0pu?=
 =?utf-8?B?QUdTcmlLd3k2K1I3eXEwL1BGVFBlRFR6QjQwTGdWRlZYSloxOStOR3NMS204?=
 =?utf-8?B?b1pIVlFBdmZIa1A0UytRdE9iNURuc1g1RW1UNDY5OEZoN1Jxck4yYjZ4Q1Jq?=
 =?utf-8?B?ZzFLa3FsT0YvUkY1Uzg5d2U2ck5hT0dkN3orME9OOE9IN2tRT2d5TUJma2gz?=
 =?utf-8?B?aWswRkpMVVZuU2RYRHlmRlVCcHFYajV6MlltSlZEVlFuTnhMUWNIL0dKV1VI?=
 =?utf-8?B?Nzkzeld5OHNjM3NvRFZJbmR0S1U2c1JJVmxrUEg3T2d5elNNMFFueFk1cUQr?=
 =?utf-8?B?SzFDVzh6V0owSXVyNWhTZ2tiRHFCZW9iVlNVdXh3a1RjK24xSkJyMmpHa0F3?=
 =?utf-8?B?a2V4S3Zkd2U5c1lCQWV1Z3BTelo0MVZaUmJXTk45MzlnK2RCUmJKRThkOHFX?=
 =?utf-8?B?RTJPNHY4MWJ2dm1WWGNaVjZkSTYwcDVMQUJveExkN1ZlWE5hZTk4ZmJzYWRZ?=
 =?utf-8?B?TS9TMFZoTFNMd3ZRamhJWjdzb0JKMXJkWHpjNFhFY0ZLRGRRK3h3dEJ4cCt6?=
 =?utf-8?B?aU50TUt0VEpTZEVlYWk2TldIUU5ZcE5ObUdyTWN1STRlM1VPWXI0eHhNRlQv?=
 =?utf-8?B?cVdvV0FTa1VFRGJ0V3pRL1hpMzd4blVhOXdwZHFxdFJBRzlLNU1SRzFCSWl1?=
 =?utf-8?B?T3grcklMTldWcnVlNEhpaFdUWGVRTVVodDllWklNeXhPQXM4OFcvMkRVRjY0?=
 =?utf-8?B?Y0wxM2VSR2Rpd0dMdVF2UjRYWnpPTmtXbFVqWGFLR0VCSkFjUFpBOHJmVVk3?=
 =?utf-8?B?Sm9tZ3JNNkVDZHRYKy9GUlJTVkIwUjU1WG1MUm96eGdkRkNrOVFGMHNFV3dS?=
 =?utf-8?B?SEluQ3Vjblh3cXhmaW5yZDJRNlArdS9NSzd4RERMWUgyb3JCQ3hpU1ZXSkNZ?=
 =?utf-8?B?QldjQXJweU1DTmphZkVxWFdzZ2VQZUlkT0hyYS9aNnFYSGNQR3VwdDBSTzNF?=
 =?utf-8?B?Z3U5OUgybHF1Q2FWS1VyYjl0Z1Qrd0tCYmIxaVFmRytNdWxGNWg0QTNKZzBI?=
 =?utf-8?Q?WYzKQS3d6sKNyZeHzDGNCLHzFMiT8u6Lra?=
X-OriginatorOrg: nxp.com
X-MS-Exchange-CrossTenant-AuthSource: VI1PR04MB3983.eurprd04.prod.outlook.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 11 Dec 2020 01:55:12.5844 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 686ea1d3-bc2b-4c6f-a92c-d99c5c301635
X-MS-Exchange-CrossTenant-Network-Message-Id: 66838810-cf88-4684-0d78-08d89d77cc49
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: kmPEPVeUmusFSdPop+lRV+Yh0IHnMeGISuK0o/sTbcLoGV3QcCw5abOar74+JDzINYL0+L+rxHwGhGPuLDx7JQ==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: VI1PR04MB4045
X-Mailman-Approved-At: Fri, 11 Dec 2020 08:16:08 +0000
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: martin.kepplinger@puri.sm, jernej.skrabec@siol.net, kernel@pengutronix.de,
 narmstrong@baylibre.com, airlied@linux.ie, s.hauer@pengutronix.de,
 jonas@kwiboo.se, kishon@ti.com, a.hajda@samsung.com, vkoul@kernel.org,
 robh+dt@kernel.org, Laurent.pinchart@ideasonboard.com, robert.chiras@nxp.com,
 shawnguo@kernel.org, agx@sigxcpu.org, linux-imx@nxp.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

aS5NWDhxeHAgU29DIGVtYmVkcyBhIE1peGVsIE1JUEkgRFBIWSArIExWRFMgUEhZIGNvbWJvIHdo
aWNoIHN1cHBvcnRzCmVpdGhlciBhIE1JUEkgRFNJIGRpc3BsYXkgb3IgYSBMVkRTIGRpc3BsYXku
ICBUaGUgUEhZIG1vZGUgaXMgY29udHJvbGxlZApieSBTQ1UgZmlybXdhcmUgYW5kIHRoZSBkcml2
ZXIgd291bGQgY2FsbCBhIFNDVSBmaXJtd2FyZSBmdW5jdGlvbiB0bwpjb25maWd1cmUgdGhlIFBI
WSBtb2RlLiAgVGhlIHNpbmdsZSBMVkRTIFBIWSBoYXMgNCBkYXRhIGxhbmVzIHRvIHN1cHBvcnQK
YSBMVkRTIGRpc3BsYXkuICBBbHNvLCB3aXRoIGEgbWFzdGVyIExWRFMgUEhZIGFuZCBhIHNsYXZl
IExWRFMgUEhZLCB0aGV5Cm1heSB3b3JrIHRvZ2V0aGVyIHRvIHN1cHBvcnQgYSBMVkRTIGRpc3Bs
YXkgd2l0aCA4IGRhdGEgbGFuZXModXN1YWxseSwgZHVhbApMVkRTIGxpbmsgZGlzcGxheSkuICBO
b3RlIHRoYXQgdGhpcyBwYXRjaCBzdXBwb3J0cyB0aGUgTFZEUyBQSFkgbW9kZSBvbmx5CmZvciB0
aGUgaS5NWDhxeHAgTWl4ZWwgY29tYm8gUEhZLCBpLmUuLCB0aGUgTUlQSSBEUEhZIG1vZGUgaXMg
eWV0IHRvIGJlCnN1cHBvcnRlZCwgc28gZm9yIG5vdyBlcnJvciB3b3VsZCBiZSByZXR1cm5lZCBm
cm9tIC0+c2V0X21vZGUoKSBpZiBNSVBJCkRQSFkgbW9kZSBpcyBwYXNzZWQgb3ZlciB0byBpdCBm
b3IgdGhlIGNvbWJvIFBIWS4KCkNjOiBHdWlkbyBHw7xudGhlciA8YWd4QHNpZ3hjcHUub3JnPgpD
YzogUm9iZXJ0IENoaXJhcyA8cm9iZXJ0LmNoaXJhc0BueHAuY29tPgpDYzogS2lzaG9uIFZpamF5
IEFicmFoYW0gSSA8a2lzaG9uQHRpLmNvbT4KQ2M6IFZpbm9kIEtvdWwgPHZrb3VsQGtlcm5lbC5v
cmc+CkNjOiBTaGF3biBHdW8gPHNoYXduZ3VvQGtlcm5lbC5vcmc+CkNjOiBTYXNjaGEgSGF1ZXIg
PHMuaGF1ZXJAcGVuZ3V0cm9uaXguZGU+CkNjOiBQZW5ndXRyb25peCBLZXJuZWwgVGVhbSA8a2Vy
bmVsQHBlbmd1dHJvbml4LmRlPgpDYzogRmFiaW8gRXN0ZXZhbSA8ZmVzdGV2YW1AZ21haWwuY29t
PgpDYzogTlhQIExpbnV4IFRlYW0gPGxpbnV4LWlteEBueHAuY29tPgpTaWduZWQtb2ZmLWJ5OiBM
aXUgWWluZyA8dmljdG9yLmxpdUBueHAuY29tPgotLS0KR3VpZG8sIEkgYWxzbyBwcmludCBpbnZh
bGlkIFBIWSBtb2RlIGZyb20gbWl4ZWxfZHBoeV9jb25maWd1cmUoKS4KCnYyLT52MzoKKiBJbXBy
b3ZlIHJlYWRhYmlsaXR5IG9mIG1peGVsX2RwaHlfc2V0X21vZGUoKS4gKEd1aWRvKQoKdjEtPnYy
OgoqIFByaW50IGludmFsaWQgUEhZIG1vZGUgaW4gZG1lc2cuIChHdWlkbykKCiBkcml2ZXJzL3Bo
eS9mcmVlc2NhbGUvcGh5LWZzbC1pbXg4LW1pcGktZHBoeS5jIHwgMjY5ICsrKysrKysrKysrKysr
KysrKysrKysrKy0KIDEgZmlsZSBjaGFuZ2VkLCAyNTggaW5zZXJ0aW9ucygrKSwgMTEgZGVsZXRp
b25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9waHkvZnJlZXNjYWxlL3BoeS1mc2wtaW14OC1t
aXBpLWRwaHkuYyBiL2RyaXZlcnMvcGh5L2ZyZWVzY2FsZS9waHktZnNsLWlteDgtbWlwaS1kcGh5
LmMKaW5kZXggYTk1NTcyYi4uYWYxZWNkYSAxMDA2NDQKLS0tIGEvZHJpdmVycy9waHkvZnJlZXNj
YWxlL3BoeS1mc2wtaW14OC1taXBpLWRwaHkuYworKysgYi9kcml2ZXJzL3BoeS9mcmVlc2NhbGUv
cGh5LWZzbC1pbXg4LW1pcGktZHBoeS5jCkBAIC00LDE3ICs0LDMxIEBACiAgKiBDb3B5cmlnaHQg
MjAxOSBQdXJpc20gU1BDCiAgKi8KIAorI2luY2x1ZGUgPGxpbnV4L2JpdGZpZWxkLmg+CiAjaW5j
bHVkZSA8bGludXgvY2xrLmg+CiAjaW5jbHVkZSA8bGludXgvY2xrLXByb3ZpZGVyLmg+CiAjaW5j
bHVkZSA8bGludXgvZGVsYXkuaD4KKyNpbmNsdWRlIDxsaW51eC9maXJtd2FyZS9pbXgvaXBjLmg+
CisjaW5jbHVkZSA8bGludXgvZmlybXdhcmUvaW14L3N2Yy9taXNjLmg+CiAjaW5jbHVkZSA8bGlu
dXgvaW8uaD4KICNpbmNsdWRlIDxsaW51eC9rZXJuZWwuaD4KKyNpbmNsdWRlIDxsaW51eC9tZmQv
c3lzY29uLmg+CiAjaW5jbHVkZSA8bGludXgvbW9kdWxlLmg+CiAjaW5jbHVkZSA8bGludXgvb2Yu
aD4KICNpbmNsdWRlIDxsaW51eC9vZl9wbGF0Zm9ybS5oPgogI2luY2x1ZGUgPGxpbnV4L3BoeS9w
aHkuaD4KICNpbmNsdWRlIDxsaW51eC9wbGF0Zm9ybV9kZXZpY2UuaD4KICNpbmNsdWRlIDxsaW51
eC9yZWdtYXAuaD4KKyNpbmNsdWRlIDxkdC1iaW5kaW5ncy9maXJtd2FyZS9pbXgvcnNyYy5oPgor
CisvKiBDb250cm9sIGFuZCBTdGF0dXMgUmVnaXN0ZXJzKENTUikgKi8KKyNkZWZpbmUgUEhZX0NU
UkwJCQkweDAwCisjZGVmaW5lICBDQ01fTUFTSwkJCUdFTk1BU0soNywgNSkKKyNkZWZpbmUgIEND
TShuKQkJCQlGSUVMRF9QUkVQKENDTV9NQVNLLCAobikpCisjZGVmaW5lICBDQV9NQVNLCQkJR0VO
TUFTSyg0LCAyKQorI2RlZmluZSAgQ0EobikJCQkJRklFTERfUFJFUChDQV9NQVNLLCAobikpCisj
ZGVmaW5lICBSRkIJCQkJQklUKDEpCisjZGVmaW5lICBMVkRTX0VOCQkJQklUKDApCiAKIC8qIERQ
SFkgcmVnaXN0ZXJzICovCiAjZGVmaW5lIERQSFlfUERfRFBIWQkJCTB4MDAKQEAgLTU1LDggKzY5
LDE1IEBACiAjZGVmaW5lIFBXUl9PTgkwCiAjZGVmaW5lIFBXUl9PRkYJMQogCisjZGVmaW5lIE1J
Tl9WQ09fRlJFUSA2NDAwMDAwMDAKKyNkZWZpbmUgTUFYX1ZDT19GUkVRIDE1MDAwMDAwMDAKKwor
I2RlZmluZSBNSU5fTFZEU19SRUZDTEtfRlJFUSAyNDAwMDAwMAorI2RlZmluZSBNQVhfTFZEU19S
RUZDTEtfRlJFUSAxNTAwMDAwMDAKKwogZW51bSBtaXhlbF9kcGh5X2RldnR5cGUgewogCU1JWEVM
X0lNWDhNUSwKKwlNSVhFTF9JTVg4UVhQLAogfTsKIAogc3RydWN0IG1peGVsX2RwaHlfZGV2ZGF0
YSB7CkBAIC02NSw2ICs4Niw3IEBAIHN0cnVjdCBtaXhlbF9kcGh5X2RldmRhdGEgewogCXU4IHJl
Z19yeGxwcnA7CiAJdTggcmVnX3J4Y2RycDsKIAl1OCByZWdfcnhoc19zZXR0bGU7CisJYm9vbCBp
c19jb21ibzsJLyogTUlQSSBEUEhZIGFuZCBMVkRTIFBIWSBjb21ibyAqLwogfTsKIAogc3RhdGlj
IGNvbnN0IHN0cnVjdCBtaXhlbF9kcGh5X2RldmRhdGEgbWl4ZWxfZHBoeV9kZXZkYXRhW10gPSB7
CkBAIC03NCw2ICs5NiwxMCBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IG1peGVsX2RwaHlfZGV2ZGF0
YSBtaXhlbF9kcGh5X2RldmRhdGFbXSA9IHsKIAkJLnJlZ19yeGxwcnAgPSAweDQwLAogCQkucmVn
X3J4Y2RycCA9IDB4NDQsCiAJCS5yZWdfcnhoc19zZXR0bGUgPSAweDQ4LAorCQkuaXNfY29tYm8g
PSBmYWxzZSwKKwl9LAorCVtNSVhFTF9JTVg4UVhQXSA9IHsKKwkJLmlzX2NvbWJvID0gdHJ1ZSwK
IAl9LAogfTsKIApAQCAtOTUsOCArMTIxLDEyIEBAIHN0cnVjdCBtaXhlbF9kcGh5X2NmZyB7CiBz
dHJ1Y3QgbWl4ZWxfZHBoeV9wcml2IHsKIAlzdHJ1Y3QgbWl4ZWxfZHBoeV9jZmcgY2ZnOwogCXN0
cnVjdCByZWdtYXAgKnJlZ21hcDsKKwlzdHJ1Y3QgcmVnbWFwICpsdmRzX3JlZ21hcDsKIAlzdHJ1
Y3QgY2xrICpwaHlfcmVmX2NsazsKIAljb25zdCBzdHJ1Y3QgbWl4ZWxfZHBoeV9kZXZkYXRhICpk
ZXZkYXRhOworCXN0cnVjdCBpbXhfc2NfaXBjICppcGNfaGFuZGxlOworCWJvb2wgaXNfc2xhdmU7
CisJaW50IGlkOwogfTsKIAogc3RhdGljIGNvbnN0IHN0cnVjdCByZWdtYXBfY29uZmlnIG1peGVs
X2RwaHlfcmVnbWFwX2NvbmZpZyA9IHsKQEAgLTMxNyw3ICszNDcsOCBAQCBzdGF0aWMgaW50IG1p
eGVsX2RwaHlfc2V0X3BsbF9wYXJhbXMoc3RydWN0IHBoeSAqcGh5KQogCXJldHVybiAwOwogfQog
Ci1zdGF0aWMgaW50IG1peGVsX2RwaHlfY29uZmlndXJlKHN0cnVjdCBwaHkgKnBoeSwgdW5pb24g
cGh5X2NvbmZpZ3VyZV9vcHRzICpvcHRzKQorc3RhdGljIGludAorbWl4ZWxfZHBoeV9jb25maWd1
cmVfbWlwaV9kcGh5KHN0cnVjdCBwaHkgKnBoeSwgdW5pb24gcGh5X2NvbmZpZ3VyZV9vcHRzICpv
cHRzKQogewogCXN0cnVjdCBtaXhlbF9kcGh5X3ByaXYgKnByaXYgPSBwaHlfZ2V0X2RydmRhdGEo
cGh5KTsKIAlzdHJ1Y3QgbWl4ZWxfZHBoeV9jZmcgY2ZnID0geyAwIH07CkBAIC0zNDUsMTUgKzM3
NiwxMjEgQEAgc3RhdGljIGludCBtaXhlbF9kcGh5X2NvbmZpZ3VyZShzdHJ1Y3QgcGh5ICpwaHks
IHVuaW9uIHBoeV9jb25maWd1cmVfb3B0cyAqb3B0cykKIAlyZXR1cm4gMDsKIH0KIAorc3RhdGlj
IGludAorbWl4ZWxfZHBoeV9jb25maWd1cmVfbHZkc19waHkoc3RydWN0IHBoeSAqcGh5LCB1bmlv
biBwaHlfY29uZmlndXJlX29wdHMgKm9wdHMpCit7CisJc3RydWN0IG1peGVsX2RwaHlfcHJpdiAq
cHJpdiA9IHBoeV9nZXRfZHJ2ZGF0YShwaHkpOworCXN0cnVjdCBwaHlfY29uZmlndXJlX29wdHNf
bHZkcyAqbHZkc19vcHRzID0gJm9wdHMtPmx2ZHM7CisJdW5zaWduZWQgbG9uZyBkYXRhX3JhdGU7
CisJdW5zaWduZWQgbG9uZyBmdmNvOworCXUzMiByc2M7CisJdTMyIGNvOworCWludCByZXQ7CisK
Kwlwcml2LT5pc19zbGF2ZSA9IGx2ZHNfb3B0cy0+aXNfc2xhdmU7CisKKwkvKiBMVkRTIGludGVy
ZmFjZSBwaW5zICovCisJcmVnbWFwX3dyaXRlKHByaXYtPmx2ZHNfcmVnbWFwLCBQSFlfQ1RSTCwg
Q0NNKDB4NSkgfCBDQSgweDQpIHwgUkZCKTsKKworCS8qIGVuYWJsZSBNT0RFOCBvbmx5IGZvciBz
bGF2ZSBMVkRTIFBIWSAqLworCXJzYyA9IHByaXYtPmlkID8gSU1YX1NDX1JfTUlQSV8xIDogSU1Y
X1NDX1JfTUlQSV8wOworCXJldCA9IGlteF9zY19taXNjX3NldF9jb250cm9sKHByaXYtPmlwY19o
YW5kbGUsIHJzYywgSU1YX1NDX0NfRFVBTF9NT0RFLAorCQkJCSAgICAgIGx2ZHNfb3B0cy0+aXNf
c2xhdmUpOworCWlmIChyZXQpIHsKKwkJZGV2X2VycigmcGh5LT5kZXYsICJGYWlsZWQgdG8gY29u
ZmlndXJlIE1PREU4OiAlZFxuIiwgcmV0KTsKKwkJcmV0dXJuIHJldDsKKwl9CisKKwkvKgorCSAq
IENob29zZSBhbiBhcHByb3ByaWF0ZSBkaXZpZGVyIHJhdGlvIHRvIG1lZXQgdGhlIHJlcXVpcmVt
ZW50IG9mCisJICogUExMIFZDTyBmcmVxdWVuY3kgcmFuZ2UuCisJICoKKwkgKiAgLS0tLS0gIDY0
ME1IeiB+IDE1MDBNSHogICAtLS0tLS0tLS0tLS0gICAgICAtLS0tLS0tLS0tLS0tLS0KKwkgKiB8
IFZDTyB8IC0tLS0tLS0tLS0tLS0tLS0+IHwgQ08gZGl2aWRlciB8IC0+IHwgTFZEUyBkYXRhIHJh
dGV8CisJICogIC0tLS0tICAgICAgIEZWQ08gICAgICAgICAgLS0tLS0tLS0tLS0tICAgICAgLS0t
LS0tLS0tLS0tLS0tCisJICogICAgICAgICAgICAgICAgICAgICAgICAgICAgMS8yLzQvOCBkaXYg
ICAgIDcgKiBkaWZmZXJlbnRpYWxfY2xrX3JhdGUKKwkgKi8KKwlkYXRhX3JhdGUgPSA3ICogbHZk
c19vcHRzLT5kaWZmZXJlbnRpYWxfY2xrX3JhdGU7CisJZm9yIChjbyA9IDE7IGNvIDw9IDg7IGNv
ICo9IDIpIHsKKwkJZnZjbyA9IGRhdGFfcmF0ZSAqIGNvOworCisJCWlmIChmdmNvID49IE1JTl9W
Q09fRlJFUSkKKwkJCWJyZWFrOworCX0KKworCWlmIChmdmNvIDwgTUlOX1ZDT19GUkVRIHx8IGZ2
Y28gPiBNQVhfVkNPX0ZSRVEpIHsKKwkJZGV2X2VycigmcGh5LT5kZXYsICJWQ08gZnJlcXVlbmN5
ICVsdSBpcyBvdXQgb2YgcmFuZ2VcbiIsIGZ2Y28pOworCQlyZXR1cm4gLUVSQU5HRTsKKwl9CisK
KwkvKgorCSAqIENPIGlzIGNvbmZpZ3VyYWJsZSwgd2hpbGUgQ04gYW5kIENNIGFyZSBub3QsCisJ
ICogYXMgZml4ZWQgcmF0aW9zIDEgYW5kIDcgYXJlIGFwcGxpZWQgcmVzcGVjdGl2ZWx5LgorCSAq
LworCXBoeV93cml0ZShwaHksIF9fZmZzKGNvKSwgRFBIWV9DTyk7CisKKwkvKiBzZXQgcmVmZXJl
bmNlIGNsb2NrIHJhdGUgKi8KKwljbGtfc2V0X3JhdGUocHJpdi0+cGh5X3JlZl9jbGssIGx2ZHNf
b3B0cy0+ZGlmZmVyZW50aWFsX2Nsa19yYXRlKTsKKworCXJldHVybiByZXQ7Cit9CisKK3N0YXRp
YyBpbnQgbWl4ZWxfZHBoeV9jb25maWd1cmUoc3RydWN0IHBoeSAqcGh5LCB1bmlvbiBwaHlfY29u
ZmlndXJlX29wdHMgKm9wdHMpCit7CisJaWYgKHBoeS0+YXR0cnMubW9kZSA9PSBQSFlfTU9ERV9N
SVBJX0RQSFkpCisJCXJldHVybiBtaXhlbF9kcGh5X2NvbmZpZ3VyZV9taXBpX2RwaHkocGh5LCBv
cHRzKTsKKwllbHNlIGlmIChwaHktPmF0dHJzLm1vZGUgPT0gUEhZX01PREVfTFZEUykKKwkJcmV0
dXJuIG1peGVsX2RwaHlfY29uZmlndXJlX2x2ZHNfcGh5KHBoeSwgb3B0cyk7CisKKwlkZXZfZXJy
KCZwaHktPmRldiwKKwkJIkZhaWxlZCB0byBjb25maWd1cmUgUEhZIHdpdGggaW52YWxpZCBQSFkg
bW9kZTogJWRcbiIsCisJCQkJCQkJcGh5LT5hdHRycy5tb2RlKTsKKwlyZXR1cm4gLUVJTlZBTDsK
K30KKworc3RhdGljIGludAorbWl4ZWxfZHBoeV92YWxpZGF0ZV9sdmRzX3BoeShzdHJ1Y3QgcGh5
ICpwaHksIHVuaW9uIHBoeV9jb25maWd1cmVfb3B0cyAqb3B0cykKK3sKKwlzdHJ1Y3QgcGh5X2Nv
bmZpZ3VyZV9vcHRzX2x2ZHMgKmx2ZHNfY2ZnID0gJm9wdHMtPmx2ZHM7CisKKwlpZiAobHZkc19j
ZmctPmJpdHNfcGVyX2xhbmVfYW5kX2RjbGtfY3ljbGUgIT0gNykgeworCQlkZXZfZXJyKCZwaHkt
PmRldiwgIkludmFsaWQgYml0cyBwZXIgTFZEUyBkYXRhIGxhbmU6ICV1XG4iLAorCQkJCQlsdmRz
X2NmZy0+Yml0c19wZXJfbGFuZV9hbmRfZGNsa19jeWNsZSk7CisJCXJldHVybiAtRUlOVkFMOwor
CX0KKworCWlmIChsdmRzX2NmZy0+bGFuZXMgIT0gNCkgeworCQlkZXZfZXJyKCZwaHktPmRldiwg
IkludmFsaWQgTFZEUyBkYXRhIGxhbmVzOiAldVxuIiwKKwkJCQkJCWx2ZHNfY2ZnLT5sYW5lcyk7
CisJCXJldHVybiAtRUlOVkFMOworCX0KKworCWlmIChsdmRzX2NmZy0+ZGlmZmVyZW50aWFsX2Ns
a19yYXRlIDwgTUlOX0xWRFNfUkVGQ0xLX0ZSRVEgfHwKKwkgICAgbHZkc19jZmctPmRpZmZlcmVu
dGlhbF9jbGtfcmF0ZSA+IE1BWF9MVkRTX1JFRkNMS19GUkVRKSB7CisJCWRldl9lcnIoJnBoeS0+
ZGV2LAorCQkJIkludmFsaWQgTFZEUyBkaWZmZXJlbnRpYWwgY2xvY2sgcmF0ZTogJWx1XG4iLAor
CQkJCQlsdmRzX2NmZy0+ZGlmZmVyZW50aWFsX2Nsa19yYXRlKTsKKwkJcmV0dXJuIC1FSU5WQUw7
CisJfQorCisJcmV0dXJuIDA7Cit9CisKIHN0YXRpYyBpbnQgbWl4ZWxfZHBoeV92YWxpZGF0ZShz
dHJ1Y3QgcGh5ICpwaHksIGVudW0gcGh5X21vZGUgbW9kZSwgaW50IHN1Ym1vZGUsCiAJCQkgICAg
ICAgdW5pb24gcGh5X2NvbmZpZ3VyZV9vcHRzICpvcHRzKQogewotCXN0cnVjdCBtaXhlbF9kcGh5
X2NmZyBjZmcgPSB7IDAgfTsKKwlpZiAobW9kZSA9PSBQSFlfTU9ERV9NSVBJX0RQSFkpIHsKKwkJ
c3RydWN0IG1peGVsX2RwaHlfY2ZnIG1pcGlfZHBoeV9jZmcgPSB7IDAgfTsKIAotCWlmIChtb2Rl
ICE9IFBIWV9NT0RFX01JUElfRFBIWSkKLQkJcmV0dXJuIC1FSU5WQUw7CisJCXJldHVybiBtaXhl
bF9kcGh5X2NvbmZpZ19mcm9tX29wdHMocGh5LCAmb3B0cy0+bWlwaV9kcGh5LAorCQkJCQkJCSZt
aXBpX2RwaHlfY2ZnKTsKKwl9IGVsc2UgaWYgKG1vZGUgPT0gUEhZX01PREVfTFZEUykgeworCQly
ZXR1cm4gbWl4ZWxfZHBoeV92YWxpZGF0ZV9sdmRzX3BoeShwaHksIG9wdHMpOworCX0KIAotCXJl
dHVybiBtaXhlbF9kcGh5X2NvbmZpZ19mcm9tX29wdHMocGh5LCAmb3B0cy0+bWlwaV9kcGh5LCAm
Y2ZnKTsKKwlkZXZfZXJyKCZwaHktPmRldiwKKwkJIkZhaWxlZCB0byB2YWxpZGF0ZSBQSFkgd2l0
aCBpbnZhbGlkIFBIWSBtb2RlOiAlZFxuIiwgbW9kZSk7CisJcmV0dXJuIC1FSU5WQUw7CiB9CiAK
IHN0YXRpYyBpbnQgbWl4ZWxfZHBoeV9pbml0KHN0cnVjdCBwaHkgKnBoeSkKQEAgLTM3MywyNyAr
NTEwLDc1IEBAIHN0YXRpYyBpbnQgbWl4ZWxfZHBoeV9leGl0KHN0cnVjdCBwaHkgKnBoeSkKIAly
ZXR1cm4gMDsKIH0KIAotc3RhdGljIGludCBtaXhlbF9kcGh5X3Bvd2VyX29uKHN0cnVjdCBwaHkg
KnBoeSkKK3N0YXRpYyBpbnQgbWl4ZWxfZHBoeV9wb3dlcl9vbl9taXBpX2RwaHkoc3RydWN0IHBo
eSAqcGh5KQogewogCXN0cnVjdCBtaXhlbF9kcGh5X3ByaXYgKnByaXYgPSBwaHlfZ2V0X2RydmRh
dGEocGh5KTsKIAl1MzIgbG9ja2VkOwogCWludCByZXQ7CiAKLQlyZXQgPSBjbGtfcHJlcGFyZV9l
bmFibGUocHJpdi0+cGh5X3JlZl9jbGspOwotCWlmIChyZXQgPCAwKQotCQlyZXR1cm4gcmV0Owot
CiAJcGh5X3dyaXRlKHBoeSwgUFdSX09OLCBEUEhZX1BEX1BMTCk7CiAJcmV0ID0gcmVnbWFwX3Jl
YWRfcG9sbF90aW1lb3V0KHByaXYtPnJlZ21hcCwgRFBIWV9MT0NLLCBsb2NrZWQsCiAJCQkJICAg
ICAgIGxvY2tlZCwgUExMX0xPQ0tfU0xFRVAsCiAJCQkJICAgICAgIFBMTF9MT0NLX1RJTUVPVVQp
OwogCWlmIChyZXQgPCAwKSB7CiAJCWRldl9lcnIoJnBoeS0+ZGV2LCAiQ291bGQgbm90IGdldCBE
UEhZIGxvY2sgKCVkKSFcbiIsIHJldCk7Ci0JCWdvdG8gY2xvY2tfZGlzYWJsZTsKKwkJcmV0dXJu
IHJldDsKIAl9CiAJcGh5X3dyaXRlKHBoeSwgUFdSX09OLCBEUEhZX1BEX0RQSFkpOwogCiAJcmV0
dXJuIDA7Cit9CisKK3N0YXRpYyBpbnQgbWl4ZWxfZHBoeV9wb3dlcl9vbl9sdmRzX3BoeShzdHJ1
Y3QgcGh5ICpwaHkpCit7CisJc3RydWN0IG1peGVsX2RwaHlfcHJpdiAqcHJpdiA9IHBoeV9nZXRf
ZHJ2ZGF0YShwaHkpOworCXUzMiBsb2NrZWQ7CisJaW50IHJldDsKKworCXJlZ21hcF91cGRhdGVf
Yml0cyhwcml2LT5sdmRzX3JlZ21hcCwgUEhZX0NUUkwsIExWRFNfRU4sIExWRFNfRU4pOworCisJ
cGh5X3dyaXRlKHBoeSwgUFdSX09OLCBEUEhZX1BEX0RQSFkpOworCXBoeV93cml0ZShwaHksIFBX
Ul9PTiwgRFBIWV9QRF9QTEwpOworCisJLyogZG8gbm90IHdhaXQgZm9yIHNsYXZlIExWRFMgUEhZ
IGJlaW5nIGxvY2tlZCAqLworCWlmIChwcml2LT5pc19zbGF2ZSkKKwkJcmV0dXJuIDA7CisKKwly
ZXQgPSByZWdtYXBfcmVhZF9wb2xsX3RpbWVvdXQocHJpdi0+cmVnbWFwLCBEUEhZX0xPQ0ssIGxv
Y2tlZCwKKwkJCQkgICAgICAgbG9ja2VkLCBQTExfTE9DS19TTEVFUCwKKwkJCQkgICAgICAgUExM
X0xPQ0tfVElNRU9VVCk7CisJaWYgKHJldCA8IDApIHsKKwkJZGV2X2VycigmcGh5LT5kZXYsICJD
b3VsZCBub3QgZ2V0IExWRFMgUEhZIGxvY2sgKCVkKSFcbiIsIHJldCk7CisJCXJldHVybiByZXQ7
CisJfQorCisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyBpbnQgbWl4ZWxfZHBoeV9wb3dlcl9vbihz
dHJ1Y3QgcGh5ICpwaHkpCit7CisJc3RydWN0IG1peGVsX2RwaHlfcHJpdiAqcHJpdiA9IHBoeV9n
ZXRfZHJ2ZGF0YShwaHkpOworCWludCByZXQ7CisKKwlyZXQgPSBjbGtfcHJlcGFyZV9lbmFibGUo
cHJpdi0+cGh5X3JlZl9jbGspOworCWlmIChyZXQgPCAwKQorCQlyZXR1cm4gcmV0OworCisJaWYg
KHBoeS0+YXR0cnMubW9kZSA9PSBQSFlfTU9ERV9NSVBJX0RQSFkpIHsKKwkJcmV0ID0gbWl4ZWxf
ZHBoeV9wb3dlcl9vbl9taXBpX2RwaHkocGh5KTsKKwl9IGVsc2UgaWYgKHBoeS0+YXR0cnMubW9k
ZSA9PSBQSFlfTU9ERV9MVkRTKSB7CisJCXJldCA9IG1peGVsX2RwaHlfcG93ZXJfb25fbHZkc19w
aHkocGh5KTsKKwl9IGVsc2UgeworCQlkZXZfZXJyKCZwaHktPmRldiwKKwkJCSJGYWlsZWQgdG8g
cG93ZXIgb24gUEhZIHdpdGggaW52YWxpZCBQSFkgbW9kZTogJWRcbiIsCisJCQkJCQkJcGh5LT5h
dHRycy5tb2RlKTsKKwkJcmV0ID0gLUVJTlZBTDsKKwl9CisKKwlpZiAocmV0KQorCQlnb3RvIGNs
b2NrX2Rpc2FibGU7CisKKwlyZXR1cm4gMDsKIGNsb2NrX2Rpc2FibGU6CiAJY2xrX2Rpc2FibGVf
dW5wcmVwYXJlKHByaXYtPnBoeV9yZWZfY2xrKTsKIAlyZXR1cm4gcmV0OwpAQCAtNDA2LDE2ICs1
OTEsNTEgQEAgc3RhdGljIGludCBtaXhlbF9kcGh5X3Bvd2VyX29mZihzdHJ1Y3QgcGh5ICpwaHkp
CiAJcGh5X3dyaXRlKHBoeSwgUFdSX09GRiwgRFBIWV9QRF9QTEwpOwogCXBoeV93cml0ZShwaHks
IFBXUl9PRkYsIERQSFlfUERfRFBIWSk7CiAKKwlpZiAocGh5LT5hdHRycy5tb2RlID09IFBIWV9N
T0RFX0xWRFMpCisJCXJlZ21hcF91cGRhdGVfYml0cyhwcml2LT5sdmRzX3JlZ21hcCwgUEhZX0NU
UkwsIExWRFNfRU4sIDApOworCiAJY2xrX2Rpc2FibGVfdW5wcmVwYXJlKHByaXYtPnBoeV9yZWZf
Y2xrKTsKIAogCXJldHVybiAwOwogfQogCitzdGF0aWMgaW50IG1peGVsX2RwaHlfc2V0X21vZGUo
c3RydWN0IHBoeSAqcGh5LCBlbnVtIHBoeV9tb2RlIG1vZGUsIGludCBzdWJtb2RlKQoreworCXN0
cnVjdCBtaXhlbF9kcGh5X3ByaXYgKnByaXYgPSBwaHlfZ2V0X2RydmRhdGEocGh5KTsKKwlpbnQg
cmV0OworCisJaWYgKHByaXYtPmRldmRhdGEtPmlzX2NvbWJvICYmIG1vZGUgIT0gUEhZX01PREVf
TFZEUykgeworCQlkZXZfZXJyKCZwaHktPmRldiwgIkZhaWxlZCB0byBzZXQgUEhZIG1vZGUgZm9y
IGNvbWJvIFBIWVxuIik7CisJCXJldHVybiAtRUlOVkFMOworCX0KKworCWlmICghcHJpdi0+ZGV2
ZGF0YS0+aXNfY29tYm8gJiYgbW9kZSAhPSBQSFlfTU9ERV9NSVBJX0RQSFkpIHsKKwkJZGV2X2Vy
cigmcGh5LT5kZXYsICJGYWlsZWQgdG8gc2V0IFBIWSBtb2RlIHRvIE1JUEkgRFBIWVxuIik7CisJ
CXJldHVybiAtRUlOVkFMOworCX0KKworCWlmIChwcml2LT5kZXZkYXRhLT5pc19jb21ibykgewor
CQl1MzIgcnNjID0gcHJpdi0+aWQgPyBJTVhfU0NfUl9NSVBJXzEgOiBJTVhfU0NfUl9NSVBJXzA7
CisKKwkJcmV0ID0gaW14X3NjX21pc2Nfc2V0X2NvbnRyb2wocHJpdi0+aXBjX2hhbmRsZSwKKwkJ
CQkJICAgICAgcnNjLCBJTVhfU0NfQ19NT0RFLAorCQkJCQkgICAgICBtb2RlID09IFBIWV9NT0RF
X0xWRFMpOworCQlpZiAocmV0KSB7CisJCQlkZXZfZXJyKCZwaHktPmRldiwKKwkJCQkiRmFpbGVk
IHRvIHNldCBQSFkgbW9kZSB2aWEgU0NVIGlwYzogJWRcbiIsIHJldCk7CisJCQlyZXR1cm4gcmV0
OworCQl9CisJfQorCisJcmV0dXJuIDA7Cit9CisKIHN0YXRpYyBjb25zdCBzdHJ1Y3QgcGh5X29w
cyBtaXhlbF9kcGh5X3BoeV9vcHMgPSB7CiAJLmluaXQgPSBtaXhlbF9kcGh5X2luaXQsCiAJLmV4
aXQgPSBtaXhlbF9kcGh5X2V4aXQsCiAJLnBvd2VyX29uID0gbWl4ZWxfZHBoeV9wb3dlcl9vbiwK
IAkucG93ZXJfb2ZmID0gbWl4ZWxfZHBoeV9wb3dlcl9vZmYsCisJLnNldF9tb2RlID0gbWl4ZWxf
ZHBoeV9zZXRfbW9kZSwKIAkuY29uZmlndXJlID0gbWl4ZWxfZHBoeV9jb25maWd1cmUsCiAJLnZh
bGlkYXRlID0gbWl4ZWxfZHBoeV92YWxpZGF0ZSwKIAkub3duZXIgPSBUSElTX01PRFVMRSwKQEAg
LTQyNCw2ICs2NDQsOCBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IHBoeV9vcHMgbWl4ZWxfZHBoeV9w
aHlfb3BzID0gewogc3RhdGljIGNvbnN0IHN0cnVjdCBvZl9kZXZpY2VfaWQgbWl4ZWxfZHBoeV9v
Zl9tYXRjaFtdID0gewogCXsgLmNvbXBhdGlibGUgPSAiZnNsLGlteDhtcS1taXBpLWRwaHkiLAog
CSAgLmRhdGEgPSAmbWl4ZWxfZHBoeV9kZXZkYXRhW01JWEVMX0lNWDhNUV0gfSwKKwl7IC5jb21w
YXRpYmxlID0gImZzbCxpbXg4cXhwLW1pcGktZHBoeSIsCisJICAuZGF0YSA9ICZtaXhlbF9kcGh5
X2RldmRhdGFbTUlYRUxfSU1YOFFYUF0gfSwKIAl7IC8qIHNlbnRpbmVsICovIH0sCiB9OwogTU9E
VUxFX0RFVklDRV9UQUJMRShvZiwgbWl4ZWxfZHBoeV9vZl9tYXRjaCk7CkBAIC00MzYsNiArNjU4
LDcgQEAgc3RhdGljIGludCBtaXhlbF9kcGh5X3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2Ug
KnBkZXYpCiAJc3RydWN0IG1peGVsX2RwaHlfcHJpdiAqcHJpdjsKIAlzdHJ1Y3QgcGh5ICpwaHk7
CiAJdm9pZCBfX2lvbWVtICpiYXNlOworCWludCByZXQ7CiAKIAlpZiAoIW5wKQogCQlyZXR1cm4g
LUVOT0RFVjsKQEAgLTQ2Nyw2ICs2OTAsMzAgQEAgc3RhdGljIGludCBtaXhlbF9kcGh5X3Byb2Jl
KHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCiAJZGV2X2RiZyhkZXYsICJwaHlfcmVmIGNs
b2NrIHJhdGU6ICVsdVxuIiwKIAkJY2xrX2dldF9yYXRlKHByaXYtPnBoeV9yZWZfY2xrKSk7CiAK
KwlpZiAocHJpdi0+ZGV2ZGF0YS0+aXNfY29tYm8pIHsKKwkJcHJpdi0+bHZkc19yZWdtYXAgPQor
CQkJc3lzY29uX3JlZ21hcF9sb29rdXBfYnlfcGhhbmRsZShucCwgImZzbCxzeXNjb24iKTsKKwkJ
aWYgKElTX0VSUihwcml2LT5sdmRzX3JlZ21hcCkpIHsKKwkJCXJldCA9IFBUUl9FUlIocHJpdi0+
bHZkc19yZWdtYXApOworCQkJZGV2X2Vycl9wcm9iZShkZXYsIHJldCwgIkZhaWxlZCB0byBnZXQg
TFZEUyByZWdtYXBcbiIpOworCQkJcmV0dXJuIHJldDsKKwkJfQorCisJCXByaXYtPmlkID0gb2Zf
YWxpYXNfZ2V0X2lkKG5wLCAibWlwaV9kcGh5Iik7CisJCWlmIChwcml2LT5pZCA8IDApIHsKKwkJ
CWRldl9lcnIoZGV2LCAiRmFpbGVkIHRvIGdldCBwaHkgbm9kZSBhbGlhcyBpZDogJWRcbiIsCisJ
CQkJCQkJCSBwcml2LT5pZCk7CisJCQlyZXR1cm4gcHJpdi0+aWQ7CisJCX0KKworCQlyZXQgPSBp
bXhfc2N1X2dldF9oYW5kbGUoJnByaXYtPmlwY19oYW5kbGUpOworCQlpZiAocmV0KSB7CisJCQlk
ZXZfZXJyX3Byb2JlKGRldiwgcmV0LAorCQkJCSAgICAgICJGYWlsZWQgdG8gZ2V0IFNDVSBpcGMg
aGFuZGxlXG4iKTsKKwkJCXJldHVybiByZXQ7CisJCX0KKwl9CisKIAlkZXZfc2V0X2RydmRhdGEo
ZGV2LCBwcml2KTsKIAogCXBoeSA9IGRldm1fcGh5X2NyZWF0ZShkZXYsIG5wLCAmbWl4ZWxfZHBo
eV9waHlfb3BzKTsKLS0gCjIuNy40CgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVl
ZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5m
by9kcmktZGV2ZWwK
