Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 5212B7DCDD
	for <lists+dri-devel@lfdr.de>; Thu,  1 Aug 2019 15:53:15 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 28B296E613;
	Thu,  1 Aug 2019 13:53:10 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from smtp.domeneshop.no (smtp.domeneshop.no
 [IPv6:2a01:5b40:0:3005::1])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 1E9326E613
 for <dri-devel@lists.freedesktop.org>; Thu,  1 Aug 2019 13:53:08 +0000 (UTC)
Received: from 211.81-166-168.customer.lyse.net ([81.166.168.211]:56446
 helo=localhost.localdomain)
 by smtp.domeneshop.no with esmtpsa (TLS1.2:ECDHE_RSA_AES_128_CBC_SHA1:128)
 (Exim 4.84_2) (envelope-from <noralf@tronnes.org>)
 id 1htBVy-0000ZK-4Y; Thu, 01 Aug 2019 15:53:06 +0200
From: =?UTF-8?q?Noralf=20Tr=C3=B8nnes?= <noralf@tronnes.org>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH 3/4] drm/tiny/mi0283qt: Move driver to panel-ilitek-ili9341
Date: Thu,  1 Aug 2019 15:52:48 +0200
Message-Id: <20190801135249.28803-4-noralf@tronnes.org>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190801135249.28803-1-noralf@tronnes.org>
References: <20190801135249.28803-1-noralf@tronnes.org>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt;
 c=relaxed/relaxed; d=tronnes.org; s=ds201810; 
 h=Content-Transfer-Encoding:Content-Type:MIME-Version:References:In-Reply-To:Message-Id:Date:Subject:Cc:To:From;
 bh=Kdx/MQSGR2mtFAqaFFGAj24oZVd6ODw7t3/9N+hERtg=; 
 b=VWqAtDZB3EzI/qPefFbQX1fwpYjRQv17QeTrHGzLuJrARS0RpBlXFHLziIBuvWZb62Ij4JpQtM4TKTfh23Hk0FFuDkVFnH9yEP95uCgDIG5uRFQ7F80w6IHOZ5D4WaQpwaOqn1Rr8L5DgP9qfj7hnAGod+7nMntkwn9B3Y96SkJu5dSeDgiS9QpzQf+un5W0LYNawB6/pSowbbtpZWkKNdVfhBbDYUj3Ar4BAgokCrcBQdBc9cijotveQ5x06ODKiJLQ+ehpIqWPAWxMP2cNwxjBVJCUn4OpG3MdQ8khIUtgyX/LVn0aMPJHYBsqxVPAHfrBmD9BswxSr6Zd+vLjAQ==;
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: David Lechner <david@lechnology.com>, daniel.vetter@ffwll.ch,
 emil.l.velikov@gmail.com, josef@lusticky.cz, thierry.reding@gmail.com,
 laurent.pinchart@ideasonboard.com, sam@ravnborg.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIE1JMDI4M1FUIHBhbmVscyB1c2UgYSBJTEk5MzQxIGNvbnRyb2xsZXIgc28gaXQgbWFrZXMg
c2Vuc2UgdG8gbWVyZ2UKaXQgd2l0aCB0aGUgb3RoZXIgaWxpOTM0MSBjb2RlLgoKVGhlIERSTSBk
cml2ZXIgbmFtZSBpcyBBQkksIHNvIHRoYXQgaXMgcmV0YWluZWQuCgpDYzogRGF2aWQgTGVjaG5l
ciA8ZGF2aWRAbGVjaG5vbG9neS5jb20+ClNpZ25lZC1vZmYtYnk6IE5vcmFsZiBUcsO4bm5lcyA8
bm9yYWxmQHRyb25uZXMub3JnPgotLS0KIE1BSU5UQUlORVJTICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHwgICA5ICstCiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvS2NvbmZpZyAgICAg
ICAgICAgICAgICB8ICAgMSArCiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtaWxpdGVrLWls
aTkzNDEuYyB8IDE2MSArKysrKysrKystCiBkcml2ZXJzL2dwdS9kcm0vdGlueS9LY29uZmlnICAg
ICAgICAgICAgICAgICB8ICAxMSAtCiBkcml2ZXJzL2dwdS9kcm0vdGlueS9NYWtlZmlsZSAgICAg
ICAgICAgICAgICB8ICAgMSAtCiBkcml2ZXJzL2dwdS9kcm0vdGlueS9taTAyODNxdC5jICAgICAg
ICAgICAgICB8IDI5NCAtLS0tLS0tLS0tLS0tLS0tLS0tCiA2IGZpbGVzIGNoYW5nZWQsIDE2MSBp
bnNlcnRpb25zKCspLCAzMTYgZGVsZXRpb25zKC0pCiBkZWxldGUgbW9kZSAxMDA2NDQgZHJpdmVy
cy9ncHUvZHJtL3RpbnkvbWkwMjgzcXQuYwoKZGlmZiAtLWdpdCBhL01BSU5UQUlORVJTIGIvTUFJ
TlRBSU5FUlMKaW5kZXggNjZiMzg5M2ExMDBmLi5jZDdiOGJkYjM3ODAgMTAwNjQ0Ci0tLSBhL01B
SU5UQUlORVJTCisrKyBiL01BSU5UQUlORVJTCkBAIC01MTEwLDEwICs1MTEwLDEyIEBAIEY6CURv
Y3VtZW50YXRpb24vZGV2aWNldHJlZS9iaW5kaW5ncy9kaXNwbGF5L2lsaXRlayxpbGk5MjI1LnR4
dAogCiBEUk0gRFJJVkVSIEZPUiBJTElURUsgSUxJOTM0MSBQQU5FTFMKIE06CURhdmlkIExlY2hu
ZXIgPGRhdmlkQGxlY2hub2xvZ3kuY29tPgorTToJTm9yYWxmIFRyw7hubmVzIDxub3JhbGZAdHJv
bm5lcy5vcmc+CiBUOglnaXQgZ2l0Oi8vYW5vbmdpdC5mcmVlZGVza3RvcC5vcmcvZHJtL2RybS1t
aXNjCiBTOglNYWludGFpbmVkCiBGOglkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtaWxpdGVr
LWlsaTkzNDEuYwogRjoJRG9jdW1lbnRhdGlvbi9kZXZpY2V0cmVlL2JpbmRpbmdzL2Rpc3BsYXkv
aWxpdGVrLGlsaTkzNDEudHh0CitGOglEb2N1bWVudGF0aW9uL2RldmljZXRyZWUvYmluZGluZ3Mv
ZGlzcGxheS9tdWx0aS1pbm5vLG1pMDI4M3F0LnR4dAogCiBEUk0gRFJJVkVSIEZPUiBIWDgzNTdE
IFBBTkVMUwogTToJRXJpYyBBbmhvbHQgPGVyaWNAYW5ob2x0Lm5ldD4KQEAgLTUxMzcsMTMgKzUx
MzksNiBAQCBNOglEYXZlIEFpcmxpZSA8YWlybGllZEByZWRoYXQuY29tPgogUzoJT2RkIEZpeGVz
CiBGOglkcml2ZXJzL2dwdS9kcm0vbWdhZzIwMC8KIAotRFJNIERSSVZFUiBGT1IgTUkwMjgzUVQK
LU06CU5vcmFsZiBUcsO4bm5lcyA8bm9yYWxmQHRyb25uZXMub3JnPgotVDoJZ2l0IGdpdDovL2Fu
b25naXQuZnJlZWRlc2t0b3Aub3JnL2RybS9kcm0tbWlzYwotUzoJTWFpbnRhaW5lZAotRjoJZHJp
dmVycy9ncHUvZHJtL3RpbnkvbWkwMjgzcXQuYwotRjoJRG9jdW1lbnRhdGlvbi9kZXZpY2V0cmVl
L2JpbmRpbmdzL2Rpc3BsYXkvbXVsdGktaW5ubyxtaTAyODNxdC50eHQKLQogRFJNIERSSVZFUiBG
T1IgTVNNIEFEUkVOTyBHUFUKIE06CVJvYiBDbGFyayA8cm9iZGNsYXJrQGdtYWlsLmNvbT4KIE06
CVNlYW4gUGF1bCA8c2VhbkBwb29ybHkucnVuPgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L3BhbmVsL0tjb25maWcgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvS2NvbmZpZwppbmRleCBhMjQ5
NTNlYzJkNDAuLmZiYjVhNzIzZWViNSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVs
L0tjb25maWcKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL0tjb25maWcKQEAgLTY1LDYgKzY1
LDcgQEAgY29uZmlnIERSTV9QQU5FTF9JTElURUtfSUxJOTM0MQogCWhlbHAKIAkgIERSTSBkcml2
ZXIgZm9yIHRoZSBmb2xsb3dpbmcgSWxpdGVrIElMSTkzNDEgcGFuZWxzOgogCSAgKiBZWDI0MFFW
MjktVCAyLjQiIDI0MHgzMjAgVEZUIChBZGFmcnVpdCAyLjQiKQorCSAgKiBNdWx0aS1Jbm5vIE1J
MDI4M1FUCiAKIAkgIElmIE0gaXMgc2VsZWN0ZWQgdGhlIG1vZHVsZSB3aWxsIGJlIGNhbGxlZCBw
YW5lbC1pbGl0ZWstaWxpOTM0MS4KIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVs
L3BhbmVsLWlsaXRlay1pbGk5MzQxLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtaWxp
dGVrLWlsaTkzNDEuYwppbmRleCBmOGRmNzM3MDE4ZDMuLmY2MDgyZmEyYTM4OSAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWlsaXRlay1pbGk5MzQxLmMKKysrIGIvZHJp
dmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWlsaXRlay1pbGk5MzQxLmMKQEAgLTMsOCArMyw2IEBA
CiAgKiBEUk0gZHJpdmVyIGZvciBJbGl0ZWsgSUxJOTM0MSBwYW5lbHMKICAqCiAgKiBDb3B5cmln
aHQgMjAxOCBEYXZpZCBMZWNobmVyIDxkYXZpZEBsZWNobm9sb2d5LmNvbT4KLSAqCi0gKiBCYXNl
ZCBvbiBtaTAyODNxdC5jOgogICogQ29weXJpZ2h0IDIwMTYgTm9yYWxmIFRyw7hubmVzCiAgKi8K
IApAQCAtMTMsNyArMTEsOSBAQAogI2luY2x1ZGUgPGxpbnV4L2dwaW8vY29uc3VtZXIuaD4KICNp
bmNsdWRlIDxsaW51eC9tb2R1bGUuaD4KICNpbmNsdWRlIDxsaW51eC9vZl9kZXZpY2UuaD4KKyNp
bmNsdWRlIDxsaW51eC9wbS5oPgogI2luY2x1ZGUgPGxpbnV4L3Byb3BlcnR5Lmg+CisjaW5jbHVk
ZSA8bGludXgvcmVndWxhdG9yL2NvbnN1bWVyLmg+CiAjaW5jbHVkZSA8bGludXgvc3BpL3NwaS5o
PgogCiAjaW5jbHVkZSA8dmlkZW8vbWlwaV9kaXNwbGF5Lmg+CkBAIC0yMiw2ICsyMiw3IEBACiAj
aW5jbHVkZSA8ZHJtL2RybV9kcnYuaD4KICNpbmNsdWRlIDxkcm0vZHJtX2dlbV9jbWFfaGVscGVy
Lmg+CiAjaW5jbHVkZSA8ZHJtL2RybV9taXBpX2RiaS5oPgorI2luY2x1ZGUgPGRybS9kcm1fbW9k
ZXNldF9oZWxwZXIuaD4KICNpbmNsdWRlIDxkcm0vZHJtX3BhbmVsLmg+CiAKICNkZWZpbmUgSUxJ
OTM0MV9GUk1DVFIxCQkweGIxCkBAIC01Nyw2ICs1OCw3IEBAIHN0cnVjdCBpbGk5MzQxX2NvbmZp
ZyB7CiBzdHJ1Y3QgaWxpOTM0MSB7CiAJc3RydWN0IG1pcGlfZGJpX2RldiBkYmlkZXY7IC8qIFRo
aXMgbXVzdCBiZSB0aGUgZmlyc3QgZW50cnkgKi8KIAlzdHJ1Y3QgZHJtX3BhbmVsIHBhbmVsOwor
CXN0cnVjdCByZWd1bGF0b3IgKnJlZ3VsYXRvcjsKIAlzdHJ1Y3QgYmFja2xpZ2h0X2RldmljZSAq
YmFja2xpZ2h0OwogCWNvbnN0IHN0cnVjdCBpbGk5MzQxX2NvbmZpZyAqY29uZjsKIH07CkBAIC0x
NzQsMTIgKzE3NiwxMzMgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBpbGk5MzQxX2NvbmZpZyB5eDI0
MHF2MjlfZGF0YSA9IHsKIAkubW9kZSA9ICZ5eDI0MHF2MjlfbW9kZSwKIH07CiAKK3N0YXRpYyBp
bnQgbWkwMjgzcXRfcHJlcGFyZShzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKK3sKKwlzdHJ1Y3Qg
aWxpOTM0MSAqaWxpID0gcGFuZWxfdG9faWxpOTM0MShwYW5lbCk7CisJc3RydWN0IG1pcGlfZGJp
X2RldiAqZGJpZGV2ID0gJmlsaS0+ZGJpZGV2OworCXN0cnVjdCBtaXBpX2RiaSAqZGJpID0gJmRi
aWRldi0+ZGJpOworCXU4IGFkZHJfbW9kZTsKKwlpbnQgcmV0OworCisJaWYgKGlsaS0+cmVndWxh
dG9yKQorCQlyZWd1bGF0b3JfZW5hYmxlKGlsaS0+cmVndWxhdG9yKTsKKworCXJldCA9IG1pcGlf
ZGJpX3Bvd2Vyb25fY29uZGl0aW9uYWxfcmVzZXQoZGJpZGV2KTsKKwlpZiAocmV0IDwgMCkgewor
CQlpZiAoaWxpLT5yZWd1bGF0b3IpCisJCQlyZWd1bGF0b3JfZGlzYWJsZShpbGktPnJlZ3VsYXRv
cik7CisJCXJldHVybiByZXQ7CisJfQorCWlmIChyZXQgPT0gMSkKKwkJZ290byBvdXRfZW5hYmxl
OworCisJbWlwaV9kYmlfY29tbWFuZChkYmksIE1JUElfRENTX1NFVF9ESVNQTEFZX09GRik7CisK
KwltaXBpX2RiaV9jb21tYW5kKGRiaSwgSUxJOTM0MV9QV0NUUkxCLCAweDAwLCAweDgzLCAweDMw
KTsKKwltaXBpX2RiaV9jb21tYW5kKGRiaSwgSUxJOTM0MV9QV1JTRVEsIDB4NjQsIDB4MDMsIDB4
MTIsIDB4ODEpOworCW1pcGlfZGJpX2NvbW1hbmQoZGJpLCBJTEk5MzQxX0RUQ1RSTEEsIDB4ODUs
IDB4MDEsIDB4NzkpOworCW1pcGlfZGJpX2NvbW1hbmQoZGJpLCBJTEk5MzQxX1BXQ1RSTEEsIDB4
MzksIDB4MmMsIDB4MDAsIDB4MzQsIDB4MDIpOworCW1pcGlfZGJpX2NvbW1hbmQoZGJpLCBJTEk5
MzQxX1BVTVBDVFJMLCAweDIwKTsKKwltaXBpX2RiaV9jb21tYW5kKGRiaSwgSUxJOTM0MV9EVENU
UkxCLCAweDAwLCAweDAwKTsKKworCS8qIFBvd2VyIENvbnRyb2wgKi8KKwltaXBpX2RiaV9jb21t
YW5kKGRiaSwgSUxJOTM0MV9QV0NUUkwxLCAweDI2KTsKKwltaXBpX2RiaV9jb21tYW5kKGRiaSwg
SUxJOTM0MV9QV0NUUkwyLCAweDExKTsKKwkvKiBWQ09NICovCisJbWlwaV9kYmlfY29tbWFuZChk
YmksIElMSTkzNDFfVk1DVFJMMSwgMHgzNSwgMHgzZSk7CisJbWlwaV9kYmlfY29tbWFuZChkYmks
IElMSTkzNDFfVk1DVFJMMiwgMHhiZSk7CisKKwkvKiBNZW1vcnkgQWNjZXNzIENvbnRyb2wgKi8K
KwltaXBpX2RiaV9jb21tYW5kKGRiaSwgTUlQSV9EQ1NfU0VUX1BJWEVMX0ZPUk1BVCwgTUlQSV9E
Q1NfUElYRUxfRk1UXzE2QklUKTsKKworCS8qIEZyYW1lIFJhdGUgKi8KKwltaXBpX2RiaV9jb21t
YW5kKGRiaSwgSUxJOTM0MV9GUk1DVFIxLCAweDAwLCAweDFiKTsKKworCS8qIEdhbW1hICovCisJ
bWlwaV9kYmlfY29tbWFuZChkYmksIElMSTkzNDFfRU4zR0FNLCAweDA4KTsKKwltaXBpX2RiaV9j
b21tYW5kKGRiaSwgTUlQSV9EQ1NfU0VUX0dBTU1BX0NVUlZFLCAweDAxKTsKKwltaXBpX2RiaV9j
b21tYW5kKGRiaSwgSUxJOTM0MV9QR0FNQ1RSTCwKKwkJCSAweDFmLCAweDFhLCAweDE4LCAweDBh
LCAweDBmLCAweDA2LCAweDQ1LCAweDg3LAorCQkJIDB4MzIsIDB4MGEsIDB4MDcsIDB4MDIsIDB4
MDcsIDB4MDUsIDB4MDApOworCW1pcGlfZGJpX2NvbW1hbmQoZGJpLCBJTEk5MzQxX05HQU1DVFJM
LAorCQkJIDB4MDAsIDB4MjUsIDB4MjcsIDB4MDUsIDB4MTAsIDB4MDksIDB4M2EsIDB4NzgsCisJ
CQkgMHg0ZCwgMHgwNSwgMHgxOCwgMHgwZCwgMHgzOCwgMHgzYSwgMHgxZik7CisKKwkvKiBERFJB
TSAqLworCW1pcGlfZGJpX2NvbW1hbmQoZGJpLCBJTEk5MzQxX0VUTU9ELCAweDA3KTsKKworCS8q
IERpc3BsYXkgKi8KKwltaXBpX2RiaV9jb21tYW5kKGRiaSwgSUxJOTM0MV9ESVNDVFJMLCAweDBh
LCAweDgyLCAweDI3LCAweDAwKTsKKwltaXBpX2RiaV9jb21tYW5kKGRiaSwgTUlQSV9EQ1NfRVhJ
VF9TTEVFUF9NT0RFKTsKKwltc2xlZXAoMTAwKTsKKworCW1pcGlfZGJpX2NvbW1hbmQoZGJpLCBN
SVBJX0RDU19TRVRfRElTUExBWV9PTik7CisJbXNsZWVwKDEwMCk7CisKK291dF9lbmFibGU6CisJ
LyogVGhlIFBpVEZUIChpbGk5MzQwKSBoYXMgYSBoYXJkd2FyZSByZXNldCBjaXJjdWl0IHRoYXQK
KwkgKiByZXNldHMgb25seSBvbiBwb3dlci1vbiBhbmQgbm90IG9uIGVhY2ggcmVib290IHRocm91
Z2gKKwkgKiBhIGdwaW8gbGlrZSB0aGUgcnBpLWRpc3BsYXkgZG9lcy4KKwkgKiBBcyBhIHJlc3Vs
dCwgd2UgbmVlZCB0byBhbHdheXMgYXBwbHkgdGhlIHJvdGF0aW9uIHZhbHVlCisJICogcmVnYXJk
bGVzcyBvZiB0aGUgZGlzcGxheSAib24vb2ZmIiBzdGF0ZS4KKwkgKi8KKwlzd2l0Y2ggKGRiaWRl
di0+cm90YXRpb24pIHsKKwlkZWZhdWx0OgorCQlhZGRyX21vZGUgPSBJTEk5MzQxX01BRENUTF9N
ViB8IElMSTkzNDFfTUFEQ1RMX01ZIHwKKwkJCSAgICBJTEk5MzQxX01BRENUTF9NWDsKKwkJYnJl
YWs7CisJY2FzZSA5MDoKKwkJYWRkcl9tb2RlID0gSUxJOTM0MV9NQURDVExfTVk7CisJCWJyZWFr
OworCWNhc2UgMTgwOgorCQlhZGRyX21vZGUgPSBJTEk5MzQxX01BRENUTF9NVjsKKwkJYnJlYWs7
CisJY2FzZSAyNzA6CisJCWFkZHJfbW9kZSA9IElMSTkzNDFfTUFEQ1RMX01YOworCQlicmVhazsK
Kwl9CisJYWRkcl9tb2RlIHw9IElMSTkzNDFfTUFEQ1RMX0JHUjsKKwltaXBpX2RiaV9jb21tYW5k
KGRiaSwgTUlQSV9EQ1NfU0VUX0FERFJFU1NfTU9ERSwgYWRkcl9tb2RlKTsKKworCXJldHVybiAw
OworfQorCitzdGF0aWMgaW50IG1pMDI4M3F0X3VucHJlcGFyZShzdHJ1Y3QgZHJtX3BhbmVsICpw
YW5lbCkKK3sKKwlzdHJ1Y3QgaWxpOTM0MSAqaWxpID0gcGFuZWxfdG9faWxpOTM0MShwYW5lbCk7
CisKKwlpZiAoaWxpLT5yZWd1bGF0b3IpCisJCXJlZ3VsYXRvcl9kaXNhYmxlKGlsaS0+cmVndWxh
dG9yKTsKKworCXJldHVybiAwOworfQorCitzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9wYW5lbF9m
dW5jcyBtaTAyODNxdF9kcm1fZnVuY3MgPSB7CisJLnByZXBhcmUgPSBtaTAyODNxdF9wcmVwYXJl
LAorCS5lbmFibGUgPSBpbGk5MzQxX2VuYWJsZSwKKwkuZGlzYWJsZSA9IGlsaTkzNDFfZGlzYWJs
ZSwKKwkudW5wcmVwYXJlID0gbWkwMjgzcXRfdW5wcmVwYXJlLAorfTsKKworc3RhdGljIGNvbnN0
IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlIG1pMDI4M3F0X21vZGUgPSB7CisJRFJNX1NJTVBMRV9N
T0RFKDMyMCwgMjQwLCA1OCwgNDMpLAorfTsKKworc3RhdGljIGNvbnN0IHN0cnVjdCBpbGk5MzQx
X2NvbmZpZyBtaTAyODNxdF9kYXRhID0geworCS5mdW5jcyA9ICZtaTAyODNxdF9kcm1fZnVuY3Ms
CisJLm1vZGUgPSAmbWkwMjgzcXRfbW9kZSwKK307CisKKy8qIExlZ2FjeSwgRFJNIGRyaXZlciBu
YW1lIGlzIEFCSSAqLworREVGSU5FX0RSTV9NSVBJX0RCSV9QQU5FTF9EUklWRVIobWkwMjgzcXQs
ICJNdWx0aS1Jbm5vIE1JMDI4M1FUIiwgIjIwMTYwNjE0Iik7CisKIERFRklORV9EUk1fTUlQSV9E
QklfUEFORUxfRFJJVkVSKGlsaTkzNDEsICJJbGl0ZWsgSUxJOTM0MSIsICIyMDE4MDUxNCIpOwog
CiBzdGF0aWMgaW50IGlsaTkzNDFfcHJvYmUoc3RydWN0IHNwaV9kZXZpY2UgKnNwaSkKIHsKIAlj
b25zdCBzdHJ1Y3Qgc3BpX2RldmljZV9pZCAqc3BpX2lkOwogCXN0cnVjdCBkZXZpY2UgKmRldiA9
ICZzcGktPmRldjsKKwlzdHJ1Y3QgZHJtX2RyaXZlciAqZHJpdmVyOwogCXN0cnVjdCBtaXBpX2Ri
aSAqZGJpOwogCXN0cnVjdCBncGlvX2Rlc2MgKmRjOwogCXN0cnVjdCBpbGk5MzQxICppbGk7CkBA
IC0yMTYsNiArMzM5LDEwIEBAIHN0YXRpYyBpbnQgaWxpOTM0MV9wcm9iZShzdHJ1Y3Qgc3BpX2Rl
dmljZSAqc3BpKQogCQlyZXR1cm4gUFRSX0VSUihkYyk7CiAJfQogCisJaWxpLT5yZWd1bGF0b3Ig
PSBkZXZtX3JlZ3VsYXRvcl9nZXQoZGV2LCAicG93ZXIiKTsKKwlpZiAoSVNfRVJSKGlsaS0+cmVn
dWxhdG9yKSkKKwkJcmV0dXJuIFBUUl9FUlIoaWxpLT5yZWd1bGF0b3IpOworCiAJaWxpLT5iYWNr
bGlnaHQgPSBkZXZtX29mX2ZpbmRfYmFja2xpZ2h0KGRldik7CiAJaWYgKElTX0VSUihpbGktPmJh
Y2tsaWdodCkpCiAJCXJldHVybiBQVFJfRVJSKGlsaS0+YmFja2xpZ2h0KTsKQEAgLTIzMCw3ICsz
NTcsMTIgQEAgc3RhdGljIGludCBpbGk5MzQxX3Byb2JlKHN0cnVjdCBzcGlfZGV2aWNlICpzcGkp
CiAJaWxpLT5wYW5lbC5kZXYgPSBkZXY7CiAJaWxpLT5wYW5lbC5mdW5jcyA9IGlsaS0+Y29uZi0+
ZnVuY3M7CiAKLQlyZXR1cm4gZHJtX21pcGlfZGJpX3BhbmVsX3JlZ2lzdGVyKCZpbGktPnBhbmVs
LCAmaWxpLT5kYmlkZXYsICZpbGk5MzQxX2RybV9kcml2ZXIsCisJaWYgKGlsaS0+Y29uZiA9PSAm
bWkwMjgzcXRfZGF0YSkKKwkJZHJpdmVyID0gJm1pMDI4M3F0X2RybV9kcml2ZXI7CisJZWxzZQor
CQlkcml2ZXIgPSAmaWxpOTM0MV9kcm1fZHJpdmVyOworCisJcmV0dXJuIGRybV9taXBpX2RiaV9w
YW5lbF9yZWdpc3RlcigmaWxpLT5wYW5lbCwgJmlsaS0+ZGJpZGV2LCBkcml2ZXIsCiAJCQkJCSAg
IGlsaS0+Y29uZi0+bW9kZSwgcm90YXRpb24pOwogfQogCkBAIC0yNTEsMTQgKzM4MywzNiBAQCBz
dGF0aWMgdm9pZCBpbGk5MzQxX3NodXRkb3duKHN0cnVjdCBzcGlfZGV2aWNlICpzcGkpCiAJZHJt
X2F0b21pY19oZWxwZXJfc2h1dGRvd24oJmlsaS0+ZGJpZGV2LmRybSk7CiB9CiAKK3N0YXRpYyBp
bnQgX19tYXliZV91bnVzZWQgaWxpOTM0MV9wbV9zdXNwZW5kKHN0cnVjdCBkZXZpY2UgKmRldikK
K3sKKwlzdHJ1Y3QgaWxpOTM0MSAqaWxpID0gZGV2X2dldF9kcnZkYXRhKGRldik7CisKKwlyZXR1
cm4gZHJtX21vZGVfY29uZmlnX2hlbHBlcl9zdXNwZW5kKCZpbGktPmRiaWRldi5kcm0pOworfQor
CitzdGF0aWMgaW50IF9fbWF5YmVfdW51c2VkIGlsaTkzNDFfcG1fcmVzdW1lKHN0cnVjdCBkZXZp
Y2UgKmRldikKK3sKKwlzdHJ1Y3QgaWxpOTM0MSAqaWxpID0gZGV2X2dldF9kcnZkYXRhKGRldik7
CisKKwlkcm1fbW9kZV9jb25maWdfaGVscGVyX3Jlc3VtZSgmaWxpLT5kYmlkZXYuZHJtKTsKKwor
CXJldHVybiAwOworfQorCitzdGF0aWMgY29uc3Qgc3RydWN0IGRldl9wbV9vcHMgaWxpOTM0MV9w
bV9vcHMgPSB7CisJU0VUX1NZU1RFTV9TTEVFUF9QTV9PUFMoaWxpOTM0MV9wbV9zdXNwZW5kLCBp
bGk5MzQxX3BtX3Jlc3VtZSkKK307CisKIHN0YXRpYyBjb25zdCBzdHJ1Y3Qgb2ZfZGV2aWNlX2lk
IGlsaTkzNDFfb2ZfbWF0Y2hbXSA9IHsKIAl7IC5jb21wYXRpYmxlID0gImFkYWZydWl0LHl4MjQw
cXYyOSIsIC5kYXRhID0gJnl4MjQwcXYyOV9kYXRhIH0sCisJeyAuY29tcGF0aWJsZSA9ICJtdWx0
aS1pbm5vLG1pMDI4M3F0IiwgLmRhdGEgPSAmbWkwMjgzcXRfZGF0YSB9LAogCXsgfQogfTsKIE1P
RFVMRV9ERVZJQ0VfVEFCTEUob2YsIGlsaTkzNDFfb2ZfbWF0Y2gpOwogCiBzdGF0aWMgY29uc3Qg
c3RydWN0IHNwaV9kZXZpY2VfaWQgaWxpOTM0MV9pZFtdID0gewogCXsgInl4MjQwcXYyOSIsICh1
bnNpZ25lZCBsb25nKSZ5eDI0MHF2MjlfZGF0YSB9LAorCXsgIm1pMDI4M3F0IiwgKHVuc2lnbmVk
IGxvbmcpJm1pMDI4M3F0X2RhdGEgfSwKIAl7IH0KIH07CiBNT0RVTEVfREVWSUNFX1RBQkxFKHNw
aSwgaWxpOTM0MV9pZCk7CkBAIC0yNjcsNiArNDIxLDcgQEAgc3RhdGljIHN0cnVjdCBzcGlfZHJp
dmVyIGlsaTkzNDFfc3BpX2RyaXZlciA9IHsKIAkuZHJpdmVyID0gewogCQkubmFtZSA9ICJwYW5l
bC1pbGl0ZWstaWxpOTM0MSIsCiAJCS5vZl9tYXRjaF90YWJsZSA9IGlsaTkzNDFfb2ZfbWF0Y2gs
CisJCS5wbSA9ICZpbGk5MzQxX3BtX29wcywKIAl9LAogCS5pZF90YWJsZSA9IGlsaTkzNDFfaWQs
CiAJLnByb2JlID0gaWxpOTM0MV9wcm9iZSwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS90
aW55L0tjb25maWcgYi9kcml2ZXJzL2dwdS9kcm0vdGlueS9LY29uZmlnCmluZGV4IDNlNjNlOTNm
YmVhYy4uNGZhZTNlNTAxNDdkIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vdGlueS9LY29u
ZmlnCisrKyBiL2RyaXZlcnMvZ3B1L2RybS90aW55L0tjb25maWcKQEAgLTM0LDE3ICszNCw2IEBA
IGNvbmZpZyBUSU5ZRFJNX0lMSTkyMjUKIAogCSAgSWYgTSBpcyBzZWxlY3RlZCB0aGUgbW9kdWxl
IHdpbGwgYmUgY2FsbGVkIGlsaTkyMjUuCiAKLWNvbmZpZyBUSU5ZRFJNX01JMDI4M1FUCi0JdHJp
c3RhdGUgIkRSTSBzdXBwb3J0IGZvciBNSTAyODNRVCIKLQlkZXBlbmRzIG9uIERSTSAmJiBTUEkK
LQlzZWxlY3QgRFJNX0tNU19IRUxQRVIKLQlzZWxlY3QgRFJNX0tNU19DTUFfSEVMUEVSCi0Jc2Vs
ZWN0IERSTV9NSVBJX0RCSQotCXNlbGVjdCBCQUNLTElHSFRfQ0xBU1NfREVWSUNFCi0JaGVscAot
CSAgRFJNIGRyaXZlciBmb3IgdGhlIE11bHRpLUlubm8gTUkwMjgzUVQgZGlzcGxheSBwYW5lbAot
CSAgSWYgTSBpcyBzZWxlY3RlZCB0aGUgbW9kdWxlIHdpbGwgYmUgY2FsbGVkIG1pMDI4M3F0Lgot
CiBjb25maWcgVElOWURSTV9SRVBBUEVSCiAJdHJpc3RhdGUgIkRSTSBzdXBwb3J0IGZvciBQZXJ2
YXNpdmUgRGlzcGxheXMgUmVQYXBlciBwYW5lbHMgKFYyMzEpIgogCWRlcGVuZHMgb24gRFJNICYm
IFNQSQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3RpbnkvTWFrZWZpbGUgYi9kcml2ZXJz
L2dwdS9kcm0vdGlueS9NYWtlZmlsZQppbmRleCBjMTQwOTYyZjVjN2UuLjA1MDI5YzRiMTkxNiAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3RpbnkvTWFrZWZpbGUKKysrIGIvZHJpdmVycy9n
cHUvZHJtL3RpbnkvTWFrZWZpbGUKQEAgLTMsNyArMyw2IEBACiBvYmotJChDT05GSUdfRFJNX0dN
MTJVMzIwKQkJKz0gZ20xMnUzMjAubwogb2JqLSQoQ09ORklHX1RJTllEUk1fSFg4MzU3RCkJCSs9
IGh4ODM1N2Qubwogb2JqLSQoQ09ORklHX1RJTllEUk1fSUxJOTIyNSkJCSs9IGlsaTkyMjUubwot
b2JqLSQoQ09ORklHX1RJTllEUk1fTUkwMjgzUVQpCQkrPSBtaTAyODNxdC5vCiBvYmotJChDT05G
SUdfVElOWURSTV9SRVBBUEVSKQkJKz0gcmVwYXBlci5vCiBvYmotJChDT05GSUdfVElOWURSTV9T
VDc1ODYpCQkrPSBzdDc1ODYubwogb2JqLSQoQ09ORklHX1RJTllEUk1fU1Q3NzM1UikJCSs9IHN0
NzczNXIubwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3RpbnkvbWkwMjgzcXQuYyBiL2Ry
aXZlcnMvZ3B1L2RybS90aW55L21pMDI4M3F0LmMKZGVsZXRlZCBmaWxlIG1vZGUgMTAwNjQ0Cmlu
ZGV4IGUyY2ZkOWExNzE0My4uMDAwMDAwMDAwMDAwCi0tLSBhL2RyaXZlcnMvZ3B1L2RybS90aW55
L21pMDI4M3F0LmMKKysrIC9kZXYvbnVsbApAQCAtMSwyOTQgKzAsMCBAQAotLy8gU1BEWC1MaWNl
bnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb3ItbGF0ZXIKLS8qCi0gKiBEUk0gZHJpdmVyIGZvciBN
dWx0aS1Jbm5vIE1JMDI4M1FUIHBhbmVscwotICoKLSAqIENvcHlyaWdodCAyMDE2IE5vcmFsZiBU
csO4bm5lcwotICovCi0KLSNpbmNsdWRlIDxsaW51eC9iYWNrbGlnaHQuaD4KLSNpbmNsdWRlIDxs
aW51eC9kZWxheS5oPgotI2luY2x1ZGUgPGxpbnV4L2dwaW8vY29uc3VtZXIuaD4KLSNpbmNsdWRl
IDxsaW51eC9tb2R1bGUuaD4KLSNpbmNsdWRlIDxsaW51eC9wcm9wZXJ0eS5oPgotI2luY2x1ZGUg
PGxpbnV4L3JlZ3VsYXRvci9jb25zdW1lci5oPgotI2luY2x1ZGUgPGxpbnV4L3NwaS9zcGkuaD4K
LQotI2luY2x1ZGUgPGRybS9kcm1fYXRvbWljX2hlbHBlci5oPgotI2luY2x1ZGUgPGRybS9kcm1f
ZHJ2Lmg+Ci0jaW5jbHVkZSA8ZHJtL2RybV9mYl9oZWxwZXIuaD4KLSNpbmNsdWRlIDxkcm0vZHJt
X2dlbV9jbWFfaGVscGVyLmg+Ci0jaW5jbHVkZSA8ZHJtL2RybV9nZW1fZnJhbWVidWZmZXJfaGVs
cGVyLmg+Ci0jaW5jbHVkZSA8ZHJtL2RybV9taXBpX2RiaS5oPgotI2luY2x1ZGUgPGRybS9kcm1f
bW9kZXNldF9oZWxwZXIuaD4KLSNpbmNsdWRlIDx2aWRlby9taXBpX2Rpc3BsYXkuaD4KLQotI2Rl
ZmluZSBJTEk5MzQxX0ZSTUNUUjEJCTB4YjEKLSNkZWZpbmUgSUxJOTM0MV9ESVNDVFJMCQkweGI2
Ci0jZGVmaW5lIElMSTkzNDFfRVRNT0QJCTB4YjcKLQotI2RlZmluZSBJTEk5MzQxX1BXQ1RSTDEJ
CTB4YzAKLSNkZWZpbmUgSUxJOTM0MV9QV0NUUkwyCQkweGMxCi0jZGVmaW5lIElMSTkzNDFfVk1D
VFJMMQkJMHhjNQotI2RlZmluZSBJTEk5MzQxX1ZNQ1RSTDIJCTB4YzcKLSNkZWZpbmUgSUxJOTM0
MV9QV0NUUkxBCQkweGNiCi0jZGVmaW5lIElMSTkzNDFfUFdDVFJMQgkJMHhjZgotCi0jZGVmaW5l
IElMSTkzNDFfUEdBTUNUUkwJMHhlMAotI2RlZmluZSBJTEk5MzQxX05HQU1DVFJMCTB4ZTEKLSNk
ZWZpbmUgSUxJOTM0MV9EVENUUkxBCQkweGU4Ci0jZGVmaW5lIElMSTkzNDFfRFRDVFJMQgkJMHhl
YQotI2RlZmluZSBJTEk5MzQxX1BXUlNFUQkJMHhlZAotCi0jZGVmaW5lIElMSTkzNDFfRU4zR0FN
CQkweGYyCi0jZGVmaW5lIElMSTkzNDFfUFVNUENUUkwJMHhmNwotCi0jZGVmaW5lIElMSTkzNDFf
TUFEQ1RMX0JHUglCSVQoMykKLSNkZWZpbmUgSUxJOTM0MV9NQURDVExfTVYJQklUKDUpCi0jZGVm
aW5lIElMSTkzNDFfTUFEQ1RMX01YCUJJVCg2KQotI2RlZmluZSBJTEk5MzQxX01BRENUTF9NWQlC
SVQoNykKLQotc3RhdGljIHZvaWQgbWkwMjgzcXRfZW5hYmxlKHN0cnVjdCBkcm1fc2ltcGxlX2Rp
c3BsYXlfcGlwZSAqcGlwZSwKLQkJCSAgICBzdHJ1Y3QgZHJtX2NydGNfc3RhdGUgKmNydGNfc3Rh
dGUsCi0JCQkgICAgc3RydWN0IGRybV9wbGFuZV9zdGF0ZSAqcGxhbmVfc3RhdGUpCi17Ci0Jc3Ry
dWN0IG1pcGlfZGJpX2RldiAqZGJpZGV2ID0gZHJtX3RvX21pcGlfZGJpX2RldihwaXBlLT5jcnRj
LmRldik7Ci0Jc3RydWN0IG1pcGlfZGJpICpkYmkgPSAmZGJpZGV2LT5kYmk7Ci0JdTggYWRkcl9t
b2RlOwotCWludCByZXQsIGlkeDsKLQotCWlmICghZHJtX2Rldl9lbnRlcihwaXBlLT5jcnRjLmRl
diwgJmlkeCkpCi0JCXJldHVybjsKLQotCURSTV9ERUJVR19LTVMoIlxuIik7Ci0KLQlyZXQgPSBt
aXBpX2RiaV9wb3dlcm9uX2NvbmRpdGlvbmFsX3Jlc2V0KGRiaWRldik7Ci0JaWYgKHJldCA8IDAp
Ci0JCWdvdG8gb3V0X2V4aXQ7Ci0JaWYgKHJldCA9PSAxKQotCQlnb3RvIG91dF9lbmFibGU7Ci0K
LQltaXBpX2RiaV9jb21tYW5kKGRiaSwgTUlQSV9EQ1NfU0VUX0RJU1BMQVlfT0ZGKTsKLQotCW1p
cGlfZGJpX2NvbW1hbmQoZGJpLCBJTEk5MzQxX1BXQ1RSTEIsIDB4MDAsIDB4ODMsIDB4MzApOwot
CW1pcGlfZGJpX2NvbW1hbmQoZGJpLCBJTEk5MzQxX1BXUlNFUSwgMHg2NCwgMHgwMywgMHgxMiwg
MHg4MSk7Ci0JbWlwaV9kYmlfY29tbWFuZChkYmksIElMSTkzNDFfRFRDVFJMQSwgMHg4NSwgMHgw
MSwgMHg3OSk7Ci0JbWlwaV9kYmlfY29tbWFuZChkYmksIElMSTkzNDFfUFdDVFJMQSwgMHgzOSwg
MHgyYywgMHgwMCwgMHgzNCwgMHgwMik7Ci0JbWlwaV9kYmlfY29tbWFuZChkYmksIElMSTkzNDFf
UFVNUENUUkwsIDB4MjApOwotCW1pcGlfZGJpX2NvbW1hbmQoZGJpLCBJTEk5MzQxX0RUQ1RSTEIs
IDB4MDAsIDB4MDApOwotCi0JLyogUG93ZXIgQ29udHJvbCAqLwotCW1pcGlfZGJpX2NvbW1hbmQo
ZGJpLCBJTEk5MzQxX1BXQ1RSTDEsIDB4MjYpOwotCW1pcGlfZGJpX2NvbW1hbmQoZGJpLCBJTEk5
MzQxX1BXQ1RSTDIsIDB4MTEpOwotCS8qIFZDT00gKi8KLQltaXBpX2RiaV9jb21tYW5kKGRiaSwg
SUxJOTM0MV9WTUNUUkwxLCAweDM1LCAweDNlKTsKLQltaXBpX2RiaV9jb21tYW5kKGRiaSwgSUxJ
OTM0MV9WTUNUUkwyLCAweGJlKTsKLQotCS8qIE1lbW9yeSBBY2Nlc3MgQ29udHJvbCAqLwotCW1p
cGlfZGJpX2NvbW1hbmQoZGJpLCBNSVBJX0RDU19TRVRfUElYRUxfRk9STUFULCBNSVBJX0RDU19Q
SVhFTF9GTVRfMTZCSVQpOwotCi0JLyogRnJhbWUgUmF0ZSAqLwotCW1pcGlfZGJpX2NvbW1hbmQo
ZGJpLCBJTEk5MzQxX0ZSTUNUUjEsIDB4MDAsIDB4MWIpOwotCi0JLyogR2FtbWEgKi8KLQltaXBp
X2RiaV9jb21tYW5kKGRiaSwgSUxJOTM0MV9FTjNHQU0sIDB4MDgpOwotCW1pcGlfZGJpX2NvbW1h
bmQoZGJpLCBNSVBJX0RDU19TRVRfR0FNTUFfQ1VSVkUsIDB4MDEpOwotCW1pcGlfZGJpX2NvbW1h
bmQoZGJpLCBJTEk5MzQxX1BHQU1DVFJMLAotCQkgICAgICAgMHgxZiwgMHgxYSwgMHgxOCwgMHgw
YSwgMHgwZiwgMHgwNiwgMHg0NSwgMHg4NywKLQkJICAgICAgIDB4MzIsIDB4MGEsIDB4MDcsIDB4
MDIsIDB4MDcsIDB4MDUsIDB4MDApOwotCW1pcGlfZGJpX2NvbW1hbmQoZGJpLCBJTEk5MzQxX05H
QU1DVFJMLAotCQkgICAgICAgMHgwMCwgMHgyNSwgMHgyNywgMHgwNSwgMHgxMCwgMHgwOSwgMHgz
YSwgMHg3OCwKLQkJICAgICAgIDB4NGQsIDB4MDUsIDB4MTgsIDB4MGQsIDB4MzgsIDB4M2EsIDB4
MWYpOwotCi0JLyogRERSQU0gKi8KLQltaXBpX2RiaV9jb21tYW5kKGRiaSwgSUxJOTM0MV9FVE1P
RCwgMHgwNyk7Ci0KLQkvKiBEaXNwbGF5ICovCi0JbWlwaV9kYmlfY29tbWFuZChkYmksIElMSTkz
NDFfRElTQ1RSTCwgMHgwYSwgMHg4MiwgMHgyNywgMHgwMCk7Ci0JbWlwaV9kYmlfY29tbWFuZChk
YmksIE1JUElfRENTX0VYSVRfU0xFRVBfTU9ERSk7Ci0JbXNsZWVwKDEwMCk7Ci0KLQltaXBpX2Ri
aV9jb21tYW5kKGRiaSwgTUlQSV9EQ1NfU0VUX0RJU1BMQVlfT04pOwotCW1zbGVlcCgxMDApOwot
Ci1vdXRfZW5hYmxlOgotCS8qIFRoZSBQaVRGVCAoaWxpOTM0MCkgaGFzIGEgaGFyZHdhcmUgcmVz
ZXQgY2lyY3VpdCB0aGF0Ci0JICogcmVzZXRzIG9ubHkgb24gcG93ZXItb24gYW5kIG5vdCBvbiBl
YWNoIHJlYm9vdCB0aHJvdWdoCi0JICogYSBncGlvIGxpa2UgdGhlIHJwaS1kaXNwbGF5IGRvZXMu
Ci0JICogQXMgYSByZXN1bHQsIHdlIG5lZWQgdG8gYWx3YXlzIGFwcGx5IHRoZSByb3RhdGlvbiB2
YWx1ZQotCSAqIHJlZ2FyZGxlc3Mgb2YgdGhlIGRpc3BsYXkgIm9uL29mZiIgc3RhdGUuCi0JICov
Ci0Jc3dpdGNoIChkYmlkZXYtPnJvdGF0aW9uKSB7Ci0JZGVmYXVsdDoKLQkJYWRkcl9tb2RlID0g
SUxJOTM0MV9NQURDVExfTVYgfCBJTEk5MzQxX01BRENUTF9NWSB8Ci0JCQkgICAgSUxJOTM0MV9N
QURDVExfTVg7Ci0JCWJyZWFrOwotCWNhc2UgOTA6Ci0JCWFkZHJfbW9kZSA9IElMSTkzNDFfTUFE
Q1RMX01ZOwotCQlicmVhazsKLQljYXNlIDE4MDoKLQkJYWRkcl9tb2RlID0gSUxJOTM0MV9NQURD
VExfTVY7Ci0JCWJyZWFrOwotCWNhc2UgMjcwOgotCQlhZGRyX21vZGUgPSBJTEk5MzQxX01BRENU
TF9NWDsKLQkJYnJlYWs7Ci0JfQotCWFkZHJfbW9kZSB8PSBJTEk5MzQxX01BRENUTF9CR1I7Ci0J
bWlwaV9kYmlfY29tbWFuZChkYmksIE1JUElfRENTX1NFVF9BRERSRVNTX01PREUsIGFkZHJfbW9k
ZSk7Ci0JbWlwaV9kYmlfZW5hYmxlX2ZsdXNoKGRiaWRldiwgY3J0Y19zdGF0ZSwgcGxhbmVfc3Rh
dGUpOwotb3V0X2V4aXQ6Ci0JZHJtX2Rldl9leGl0KGlkeCk7Ci19Ci0KLXN0YXRpYyBjb25zdCBz
dHJ1Y3QgZHJtX3NpbXBsZV9kaXNwbGF5X3BpcGVfZnVuY3MgbWkwMjgzcXRfcGlwZV9mdW5jcyA9
IHsKLQkuZW5hYmxlID0gbWkwMjgzcXRfZW5hYmxlLAotCS5kaXNhYmxlID0gbWlwaV9kYmlfcGlw
ZV9kaXNhYmxlLAotCS51cGRhdGUgPSBtaXBpX2RiaV9waXBlX3VwZGF0ZSwKLQkucHJlcGFyZV9m
YiA9IGRybV9nZW1fZmJfc2ltcGxlX2Rpc3BsYXlfcGlwZV9wcmVwYXJlX2ZiLAotfTsKLQotc3Rh
dGljIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlIG1pMDI4M3F0X21vZGUgPSB7Ci0JRFJN
X1NJTVBMRV9NT0RFKDMyMCwgMjQwLCA1OCwgNDMpLAotfTsKLQotREVGSU5FX0RSTV9HRU1fQ01B
X0ZPUFMobWkwMjgzcXRfZm9wcyk7Ci0KLXN0YXRpYyBzdHJ1Y3QgZHJtX2RyaXZlciBtaTAyODNx
dF9kcml2ZXIgPSB7Ci0JLmRyaXZlcl9mZWF0dXJlcwk9IERSSVZFUl9HRU0gfCBEUklWRVJfTU9E
RVNFVCB8IERSSVZFUl9BVE9NSUMsCi0JLmZvcHMJCQk9ICZtaTAyODNxdF9mb3BzLAotCS5yZWxl
YXNlCQk9IG1pcGlfZGJpX3JlbGVhc2UsCi0JRFJNX0dFTV9DTUFfVk1BUF9EUklWRVJfT1BTLAot
CS5kZWJ1Z2ZzX2luaXQJCT0gbWlwaV9kYmlfZGVidWdmc19pbml0LAotCS5uYW1lCQkJPSAibWkw
MjgzcXQiLAotCS5kZXNjCQkJPSAiTXVsdGktSW5ubyBNSTAyODNRVCIsCi0JLmRhdGUJCQk9ICIy
MDE2MDYxNCIsCi0JLm1ham9yCQkJPSAxLAotCS5taW5vcgkJCT0gMCwKLX07Ci0KLXN0YXRpYyBj
b25zdCBzdHJ1Y3Qgb2ZfZGV2aWNlX2lkIG1pMDI4M3F0X29mX21hdGNoW10gPSB7Ci0JeyAuY29t
cGF0aWJsZSA9ICJtdWx0aS1pbm5vLG1pMDI4M3F0IiB9LAotCXt9LAotfTsKLU1PRFVMRV9ERVZJ
Q0VfVEFCTEUob2YsIG1pMDI4M3F0X29mX21hdGNoKTsKLQotc3RhdGljIGNvbnN0IHN0cnVjdCBz
cGlfZGV2aWNlX2lkIG1pMDI4M3F0X2lkW10gPSB7Ci0JeyAibWkwMjgzcXQiLCAwIH0sCi0JeyB9
LAotfTsKLU1PRFVMRV9ERVZJQ0VfVEFCTEUoc3BpLCBtaTAyODNxdF9pZCk7Ci0KLXN0YXRpYyBp
bnQgbWkwMjgzcXRfcHJvYmUoc3RydWN0IHNwaV9kZXZpY2UgKnNwaSkKLXsKLQlzdHJ1Y3QgZGV2
aWNlICpkZXYgPSAmc3BpLT5kZXY7Ci0Jc3RydWN0IG1pcGlfZGJpX2RldiAqZGJpZGV2OwotCXN0
cnVjdCBkcm1fZGV2aWNlICpkcm07Ci0Jc3RydWN0IG1pcGlfZGJpICpkYmk7Ci0Jc3RydWN0IGdw
aW9fZGVzYyAqZGM7Ci0JdTMyIHJvdGF0aW9uID0gMDsKLQlpbnQgcmV0OwotCi0JZGJpZGV2ID0g
a3phbGxvYyhzaXplb2YoKmRiaWRldiksIEdGUF9LRVJORUwpOwotCWlmICghZGJpZGV2KQotCQly
ZXR1cm4gLUVOT01FTTsKLQotCWRiaSA9ICZkYmlkZXYtPmRiaTsKLQlkcm0gPSAmZGJpZGV2LT5k
cm07Ci0JcmV0ID0gZGV2bV9kcm1fZGV2X2luaXQoZGV2LCBkcm0sICZtaTAyODNxdF9kcml2ZXIp
OwotCWlmIChyZXQpIHsKLQkJa2ZyZWUoZGJpZGV2KTsKLQkJcmV0dXJuIHJldDsKLQl9Ci0KLQlk
cm1fbW9kZV9jb25maWdfaW5pdChkcm0pOwotCi0JZGJpLT5yZXNldCA9IGRldm1fZ3Bpb2RfZ2V0
X29wdGlvbmFsKGRldiwgInJlc2V0IiwgR1BJT0RfT1VUX0hJR0gpOwotCWlmIChJU19FUlIoZGJp
LT5yZXNldCkpIHsKLQkJRFJNX0RFVl9FUlJPUihkZXYsICJGYWlsZWQgdG8gZ2V0IGdwaW8gJ3Jl
c2V0J1xuIik7Ci0JCXJldHVybiBQVFJfRVJSKGRiaS0+cmVzZXQpOwotCX0KLQotCWRjID0gZGV2
bV9ncGlvZF9nZXRfb3B0aW9uYWwoZGV2LCAiZGMiLCBHUElPRF9PVVRfTE9XKTsKLQlpZiAoSVNf
RVJSKGRjKSkgewotCQlEUk1fREVWX0VSUk9SKGRldiwgIkZhaWxlZCB0byBnZXQgZ3BpbyAnZGMn
XG4iKTsKLQkJcmV0dXJuIFBUUl9FUlIoZGMpOwotCX0KLQotCWRiaWRldi0+cmVndWxhdG9yID0g
ZGV2bV9yZWd1bGF0b3JfZ2V0KGRldiwgInBvd2VyIik7Ci0JaWYgKElTX0VSUihkYmlkZXYtPnJl
Z3VsYXRvcikpCi0JCXJldHVybiBQVFJfRVJSKGRiaWRldi0+cmVndWxhdG9yKTsKLQotCWRiaWRl
di0+YmFja2xpZ2h0ID0gZGV2bV9vZl9maW5kX2JhY2tsaWdodChkZXYpOwotCWlmIChJU19FUlIo
ZGJpZGV2LT5iYWNrbGlnaHQpKQotCQlyZXR1cm4gUFRSX0VSUihkYmlkZXYtPmJhY2tsaWdodCk7
Ci0KLQlkZXZpY2VfcHJvcGVydHlfcmVhZF91MzIoZGV2LCAicm90YXRpb24iLCAmcm90YXRpb24p
OwotCi0JcmV0ID0gbWlwaV9kYmlfc3BpX2luaXQoc3BpLCBkYmksIGRjKTsKLQlpZiAocmV0KQot
CQlyZXR1cm4gcmV0OwotCi0JcmV0ID0gbWlwaV9kYmlfZGV2X2luaXQoZGJpZGV2LCAmbWkwMjgz
cXRfcGlwZV9mdW5jcywgJm1pMDI4M3F0X21vZGUsIHJvdGF0aW9uKTsKLQlpZiAocmV0KQotCQly
ZXR1cm4gcmV0OwotCi0JZHJtX21vZGVfY29uZmlnX3Jlc2V0KGRybSk7Ci0KLQlyZXQgPSBkcm1f
ZGV2X3JlZ2lzdGVyKGRybSwgMCk7Ci0JaWYgKHJldCkKLQkJcmV0dXJuIHJldDsKLQotCXNwaV9z
ZXRfZHJ2ZGF0YShzcGksIGRybSk7Ci0KLQlkcm1fZmJkZXZfZ2VuZXJpY19zZXR1cChkcm0sIDAp
OwotCi0JcmV0dXJuIDA7Ci19Ci0KLXN0YXRpYyBpbnQgbWkwMjgzcXRfcmVtb3ZlKHN0cnVjdCBz
cGlfZGV2aWNlICpzcGkpCi17Ci0Jc3RydWN0IGRybV9kZXZpY2UgKmRybSA9IHNwaV9nZXRfZHJ2
ZGF0YShzcGkpOwotCi0JZHJtX2Rldl91bnBsdWcoZHJtKTsKLQlkcm1fYXRvbWljX2hlbHBlcl9z
aHV0ZG93bihkcm0pOwotCi0JcmV0dXJuIDA7Ci19Ci0KLXN0YXRpYyB2b2lkIG1pMDI4M3F0X3No
dXRkb3duKHN0cnVjdCBzcGlfZGV2aWNlICpzcGkpCi17Ci0JZHJtX2F0b21pY19oZWxwZXJfc2h1
dGRvd24oc3BpX2dldF9kcnZkYXRhKHNwaSkpOwotfQotCi1zdGF0aWMgaW50IF9fbWF5YmVfdW51
c2VkIG1pMDI4M3F0X3BtX3N1c3BlbmQoc3RydWN0IGRldmljZSAqZGV2KQotewotCXJldHVybiBk
cm1fbW9kZV9jb25maWdfaGVscGVyX3N1c3BlbmQoZGV2X2dldF9kcnZkYXRhKGRldikpOwotfQot
Ci1zdGF0aWMgaW50IF9fbWF5YmVfdW51c2VkIG1pMDI4M3F0X3BtX3Jlc3VtZShzdHJ1Y3QgZGV2
aWNlICpkZXYpCi17Ci0JZHJtX21vZGVfY29uZmlnX2hlbHBlcl9yZXN1bWUoZGV2X2dldF9kcnZk
YXRhKGRldikpOwotCi0JcmV0dXJuIDA7Ci19Ci0KLXN0YXRpYyBjb25zdCBzdHJ1Y3QgZGV2X3Bt
X29wcyBtaTAyODNxdF9wbV9vcHMgPSB7Ci0JU0VUX1NZU1RFTV9TTEVFUF9QTV9PUFMobWkwMjgz
cXRfcG1fc3VzcGVuZCwgbWkwMjgzcXRfcG1fcmVzdW1lKQotfTsKLQotc3RhdGljIHN0cnVjdCBz
cGlfZHJpdmVyIG1pMDI4M3F0X3NwaV9kcml2ZXIgPSB7Ci0JLmRyaXZlciA9IHsKLQkJLm5hbWUg
PSAibWkwMjgzcXQiLAotCQkub3duZXIgPSBUSElTX01PRFVMRSwKLQkJLm9mX21hdGNoX3RhYmxl
ID0gbWkwMjgzcXRfb2ZfbWF0Y2gsCi0JCS5wbSA9ICZtaTAyODNxdF9wbV9vcHMsCi0JfSwKLQku
aWRfdGFibGUgPSBtaTAyODNxdF9pZCwKLQkucHJvYmUgPSBtaTAyODNxdF9wcm9iZSwKLQkucmVt
b3ZlID0gbWkwMjgzcXRfcmVtb3ZlLAotCS5zaHV0ZG93biA9IG1pMDI4M3F0X3NodXRkb3duLAot
fTsKLW1vZHVsZV9zcGlfZHJpdmVyKG1pMDI4M3F0X3NwaV9kcml2ZXIpOwotCi1NT0RVTEVfREVT
Q1JJUFRJT04oIk11bHRpLUlubm8gTUkwMjgzUVQgRFJNIGRyaXZlciIpOwotTU9EVUxFX0FVVEhP
UigiTm9yYWxmIFRyw7hubmVzIik7Ci1NT0RVTEVfTElDRU5TRSgiR1BMIik7Ci0tIAoyLjIwLjEK
Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZl
bCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xp
c3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
