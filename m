Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id F3DD2F169B
	for <lists+dri-devel@lfdr.de>; Wed,  6 Nov 2019 14:06:11 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AE5C86ED25;
	Wed,  6 Nov 2019 13:06:09 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from perceval.ideasonboard.com (perceval.ideasonboard.com
 [IPv6:2001:4b98:dc2:55:216:3eff:fef7:d647])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 32B636ED25
 for <dri-devel@lists.freedesktop.org>; Wed,  6 Nov 2019 13:06:08 +0000 (UTC)
Received: from pendragon.ideasonboard.com (81-175-216-236.bb.dnainternet.fi
 [81.175.216.236])
 by perceval.ideasonboard.com (Postfix) with ESMTPSA id 3F66D52C;
 Wed,  6 Nov 2019 14:06:06 +0100 (CET)
Date: Wed, 6 Nov 2019 15:05:57 +0200
From: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
To: Heiko Stuebner <heiko.stuebner@theobroma-systems.com>
Subject: Re: [PATCH 2/3] drm/rockchip: add ability to handle external dphys
 in mipi-dsi
Message-ID: <20191106130557.GF4878@pendragon.ideasonboard.com>
References: <20191106112650.8365-1-heiko.stuebner@theobroma-systems.com>
 <20191106112650.8365-2-heiko.stuebner@theobroma-systems.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20191106112650.8365-2-heiko.stuebner@theobroma-systems.com>
User-Agent: Mutt/1.10.1 (2018-07-13)
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=ideasonboard.com; s=mail; t=1573045566;
 bh=rwBoN4G+nIkI+5mwwd3pzYuox8k2CBX+v3Hd1yQBQGw=;
 h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
 b=aNPiEWK3sndyfV2uKQzJt9vYTAKeVjELD9xjz1RZxQvRYlrfizq8BhE5JMF7786tS
 yiP/KIA0+YSBYXx1Hg+0yQgUK9i/MD9DcTyQGguIJInQ00TU9Df+thxLlpRs9wTZom
 9fPWxbx8TEzZc2kktPxlbJbZqNHSFhNTwyXaCCq8=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: mark.rutland@arm.com, devicetree@vger.kernel.org, jernej.skrabec@siol.net,
 narmstrong@baylibre.com, linux-kernel@vger.kernel.org, jonas@kwiboo.se,
 dri-devel@lists.freedesktop.org, philippe.cornu@st.com, yannick.fertre@st.com,
 robh+dt@kernel.org, linux-rockchip@lists.infradead.org,
 linux-arm-kernel@lists.infradead.org, christoph.muellner@theobroma-systems.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgSGVpa28sCgpUaGFuayB5b3UgZm9yIHRoZSBwYXRjaC4KCk9uIFdlZCwgTm92IDA2LCAyMDE5
IGF0IDEyOjI2OjQ5UE0gKzAxMDAsIEhlaWtvIFN0dWVibmVyIHdyb3RlOgo+IFdoaWxlIHRoZSBj
b21tb24gY2FzZSBpcyB0aGF0IHRoZSBkc2kgY29udHJvbGxlciB1c2VzIGFuIGludGVybmFsIGRw
aHksCj4gYWNjZXNzZWQgdGhyb3VnaCB0aGUgcGh5IHJlZ2lzdGVycyBpbnNpZGUgdGhlIGRzaSBj
b250cm9sbGVyLCB0aGVyZSBpcwo+IGFsc28gdGhlIHBvc3NpYmlsaXR5IHRvIHVzZSBhIHNlcGFy
YXRlIGRwaHkgZnJvbSBhIGRpZmZlcmVudCB2ZW5kb3IuCj4gCj4gT25lIHN1Y2ggY2FzZSBpcyB0
aGUgUm9ja2NoaXAgcHgzMCB0aGF0IHVzZXMgYSBJbm5vc2lsaWNvbiBNaXBpIGRwaHksCj4gc28g
YWRkIHRoZSBzdXBwb3J0IGZvciBoYW5kbGluZyBzdWNoIGEgY29uc3RlbGxhdGlvbiwgaW5jbHVk
aW5nIHRoZSBwbGwKPiBhbHNvIGdldHRpbmcgZ2VuZXJhdGVkIGluc2lkZSB0aGF0IGV4dGVybmFs
IHBoeS4KPiAKPiBTaWduZWQtb2ZmLWJ5OiBIZWlrbyBTdHVlYm5lciA8aGVpa28uc3R1ZWJuZXJA
dGhlb2Jyb21hLXN5c3RlbXMuY29tPgo+IC0tLQo+ICAuLi4vZGlzcGxheS9yb2NrY2hpcC9kd19t
aXBpX2RzaV9yb2NrY2hpcC50eHQgfCAgNyArKy0KPiAgLi4uL2dwdS9kcm0vcm9ja2NoaXAvZHct
bWlwaS1kc2ktcm9ja2NoaXAuYyAgIHwgNTQgKysrKysrKysrKysrKysrKysrLQo+ICAyIGZpbGVz
IGNoYW5nZWQsIDU3IGluc2VydGlvbnMoKyksIDQgZGVsZXRpb25zKC0pCj4gCj4gZGlmZiAtLWdp
dCBhL0RvY3VtZW50YXRpb24vZGV2aWNldHJlZS9iaW5kaW5ncy9kaXNwbGF5L3JvY2tjaGlwL2R3
X21pcGlfZHNpX3JvY2tjaGlwLnR4dCBiL0RvY3VtZW50YXRpb24vZGV2aWNldHJlZS9iaW5kaW5n
cy9kaXNwbGF5L3JvY2tjaGlwL2R3X21pcGlfZHNpX3JvY2tjaGlwLnR4dAo+IGluZGV4IGNlNGMx
ZmM5MTE2Yy4uOGIyNTE1NmE5ZGNmIDEwMDY0NAo+IC0tLSBhL0RvY3VtZW50YXRpb24vZGV2aWNl
dHJlZS9iaW5kaW5ncy9kaXNwbGF5L3JvY2tjaGlwL2R3X21pcGlfZHNpX3JvY2tjaGlwLnR4dAo+
ICsrKyBiL0RvY3VtZW50YXRpb24vZGV2aWNldHJlZS9iaW5kaW5ncy9kaXNwbGF5L3JvY2tjaGlw
L2R3X21pcGlfZHNpX3JvY2tjaGlwLnR4dAo+IEBAIC04LDggKzgsOSBAQCBSZXF1aXJlZCBwcm9w
ZXJ0aWVzOgo+ICAJICAgICAgInJvY2tjaGlwLHJrMzM5OS1taXBpLWRzaSIsICJzbnBzLGR3LW1p
cGktZHNpIi4KPiAgLSByZWc6IFJlcHJlc2VudCB0aGUgcGh5c2ljYWwgYWRkcmVzcyByYW5nZSBv
ZiB0aGUgY29udHJvbGxlci4KPiAgLSBpbnRlcnJ1cHRzOiBSZXByZXNlbnQgdGhlIGNvbnRyb2xs
ZXIncyBpbnRlcnJ1cHQgdG8gdGhlIENQVShzKS4KPiAtLSBjbG9ja3MsIGNsb2NrLW5hbWVzOiBQ
aGFuZGxlcyB0byB0aGUgY29udHJvbGxlcidzIHBsbCByZWZlcmVuY2UKPiAtICBjbG9jayhyZWYp
IGFuZCBBUEIgY2xvY2socGNsaykuIEZvciBSSzMzOTksIGEgcGh5IGNvbmZpZyBjbG9jawo+ICst
IGNsb2NrcywgY2xvY2stbmFtZXM6IFBoYW5kbGVzIHRvIHRoZSBjb250cm9sbGVyJ3MgYW5kIEFQ
QiBjbG9jayhwY2xrKQo+ICsgIGFuZCBlaXRoZXIgYSBwbGwgcmVmZXJlbmNlIGNsb2NrKHJlZikg
KGludGVybmFsIGRwaHkpIG9yIHBsbCBjbG9jayhwbGwpCj4gKyAgKHdoZW4gY29ubmVjdGVkIHRv
IGFuIGV4dGVybmFsIHBoeSkuIEZvciBSSzMzOTksIGEgcGh5IGNvbmZpZyBjbG9jawoKV2h5IGRv
ZXMgZXh0ZXJuYWwgUEhZIGNsb2NrIG5lZWQgdG8gYmUgc3BlY2lmaWVkIGhlcmUgPyBTaG91bGRu
J3QgaXQgYmUKaGFuZGxlZCBieSB0aGUgUEhZIGluc3RlYWQgPwoKPiAgICAocGh5X2NmZykgYW5k
IGEgZ3JmIGNsb2NrKGdyZikgYXJlIHJlcXVpcmVkLiBBcyBkZXNjcmliZWQgaW4gWzFdLgo+ICAt
IHJvY2tjaGlwLGdyZjogdGhpcyBzb2Mgc2hvdWxkIHNldCBHUkYgcmVncyB0byBtdXggdm9wbC92
b3BiLgo+ICAtIHBvcnRzOiBjb250YWluIGEgcG9ydCBub2RlIHdpdGggZW5kcG9pbnQgZGVmaW5p
dGlvbnMgYXMgZGVmaW5lZCBpbiBbMl0uCj4gQEAgLTE4LDYgKzE5LDggQEAgUmVxdWlyZWQgcHJv
cGVydGllczoKPiAgLSB2aWRlbyBwb3J0IDEgZm9yIGVpdGhlciBhIHBhbmVsIG9yIHN1YnNlcXVl
bnQgZW5jb2Rlcgo+ICAKPiAgT3B0aW9uYWwgcHJvcGVydGllczoKPiArLSBwaHlzOiBmcm9tIGdl
bmVyYWwgUEhZIGJpbmRpbmc6IHRoZSBwaGFuZGxlIGZvciB0aGUgUEhZIGRldmljZS4KPiArLSBw
aHktbmFtZXM6IFNob3VsZCBiZSAiZHBoeSIgaWYgcGh5cyByZWZlcmVuY2VzIGFuIGV4dGVybmFs
IHBoeS4KPiAgLSBwb3dlci1kb21haW5zOiBhIHBoYW5kbGUgdG8gbWlwaSBkc2kgcG93ZXIgZG9t
YWluIG5vZGUuCj4gIC0gcmVzZXRzOiBsaXN0IG9mIHBoYW5kbGUgKyByZXNldCBzcGVjaWZpZXIg
cGFpcnMsIGFzIGRlc2NyaWJlZCBpbiBbM10uCj4gIC0gcmVzZXQtbmFtZXM6IHN0cmluZyByZXNl
dCBuYW1lLCBtdXN0IGJlICJhcGIiLgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcm9j
a2NoaXAvZHctbWlwaS1kc2ktcm9ja2NoaXAuYyBiL2RyaXZlcnMvZ3B1L2RybS9yb2NrY2hpcC9k
dy1taXBpLWRzaS1yb2NrY2hpcC5jCj4gaW5kZXggYmMwNzNlYzVjMTgzLi45OWVjNjI1ZTA0NDgg
MTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JvY2tjaGlwL2R3LW1pcGktZHNpLXJvY2tj
aGlwLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vcm9ja2NoaXAvZHctbWlwaS1kc2ktcm9ja2No
aXAuYwo+IEBAIC0xMiw2ICsxMiw3IEBACj4gICNpbmNsdWRlIDxsaW51eC9tZmQvc3lzY29uLmg+
Cj4gICNpbmNsdWRlIDxsaW51eC9tb2R1bGUuaD4KPiAgI2luY2x1ZGUgPGxpbnV4L29mX2Rldmlj
ZS5oPgo+ICsjaW5jbHVkZSA8bGludXgvcGh5L3BoeS5oPgo+ICAjaW5jbHVkZSA8bGludXgvcG1f
cnVudGltZS5oPgo+ICAjaW5jbHVkZSA8bGludXgvcmVnbWFwLmg+Cj4gIAo+IEBAIC0yMjMsNiAr
MjI0LDkgQEAgc3RydWN0IGR3X21pcGlfZHNpX3JvY2tjaGlwIHsKPiAgCWJvb2wgaXNfc2xhdmU7
Cj4gIAlzdHJ1Y3QgZHdfbWlwaV9kc2lfcm9ja2NoaXAgKnNsYXZlOwo+ICAKPiArCS8qIG9wdGlv
bmFsIGV4dGVybmFsIGRwaHkgKi8KPiArCXN0cnVjdCBwaHkgKnBoeTsKPiArCj4gIAl1bnNpZ25l
ZCBpbnQgbGFuZV9tYnBzOyAvKiBwZXIgbGFuZSAqLwo+ICAJdTE2IGlucHV0X2RpdjsKPiAgCXUx
NiBmZWVkYmFja19kaXY7Cj4gQEAgLTM1OSw2ICszNjMsOSBAQCBzdGF0aWMgaW50IGR3X21pcGlf
ZHNpX3BoeV9pbml0KHZvaWQgKnByaXZfZGF0YSkKPiAgCXN0cnVjdCBkd19taXBpX2RzaV9yb2Nr
Y2hpcCAqZHNpID0gcHJpdl9kYXRhOwo+ICAJaW50IHJldCwgaSwgdmNvOwo+ICAKPiArCWlmIChk
c2ktPnBoeSkKPiArCQlyZXR1cm4gMDsKPiArCj4gIAkvKgo+ICAJICogR2V0IHZjbyBmcm9tIGZy
ZXF1ZW5jeShsYW5lX21icHMpCj4gIAkgKiB2Y28JZnJlcXVlbmN5IHRhYmxlCj4gQEAgLTQ2Nyw2
ICs0NzQsMjcgQEAgc3RhdGljIGludCBkd19taXBpX2RzaV9waHlfaW5pdCh2b2lkICpwcml2X2Rh
dGEpCj4gIAlyZXR1cm4gcmV0Owo+ICB9Cj4gIAo+ICtzdGF0aWMgdm9pZCBkd19taXBpX2RzaV9w
aHlfcG93ZXJfb24odm9pZCAqcHJpdl9kYXRhKQo+ICt7Cj4gKwlzdHJ1Y3QgZHdfbWlwaV9kc2lf
cm9ja2NoaXAgKmRzaSA9IHByaXZfZGF0YTsKPiArCWludCByZXQ7Cj4gKwo+ICsJcmV0ID0gcGh5
X3NldF9tb2RlKGRzaS0+cGh5LCBQSFlfTU9ERV9NSVBJX0RQSFkpOwo+ICsJaWYgKHJldCkgewo+
ICsJCURSTV9ERVZfRVJST1IoZHNpLT5kZXYsICJmYWlsZWQgdG8gc2V0IHBoeSBtb2RlOiAlZFxu
IiwgcmV0KTsKPiArCQlyZXR1cm47Cj4gKwl9Cj4gKwo+ICsJcGh5X3Bvd2VyX29uKGRzaS0+cGh5
KTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgZHdfbWlwaV9kc2lfcGh5X3Bvd2VyX29mZih2b2lk
ICpwcml2X2RhdGEpCj4gK3sKPiArCXN0cnVjdCBkd19taXBpX2RzaV9yb2NrY2hpcCAqZHNpID0g
cHJpdl9kYXRhOwo+ICsKPiArCXBoeV9wb3dlcl9vZmYoZHNpLT5waHkpOwo+ICt9Cj4gKwo+ICBz
dGF0aWMgaW50Cj4gIGR3X21pcGlfZHNpX2dldF9sYW5lX21icHModm9pZCAqcHJpdl9kYXRhLCBj
b25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZSwKPiAgCQkJICB1bnNpZ25lZCBsb25n
IG1vZGVfZmxhZ3MsIHUzMiBsYW5lcywgdTMyIGZvcm1hdCwKPiBAQCAtNTA0LDkgKzUzMiwyMSBA
QCBkd19taXBpX2RzaV9nZXRfbGFuZV9tYnBzKHZvaWQgKnByaXZfZGF0YSwgY29uc3Qgc3RydWN0
IGRybV9kaXNwbGF5X21vZGUgKm1vZGUsCj4gIAkJCQkgICAgICAiRFBIWSBjbG9jayBmcmVxdWVu
Y3kgaXMgb3V0IG9mIHJhbmdlXG4iKTsKPiAgCX0KPiAgCj4gLQlmaW4gPSBjbGtfZ2V0X3JhdGUo
ZHNpLT5wbGxyZWZfY2xrKTsKPiAgCWZvdXQgPSB0YXJnZXRfbWJwcyAqIFVTRUNfUEVSX1NFQzsK
PiAgCj4gKwkvKiBhbiBleHRlcm5hbCBwaHkgZG9lcyBoYXZlIGEgY29udHJvbGxhYmxlIHBsbCBj
bGsgKi8KPiArCWlmIChkc2ktPnBoeSkgewo+ICsJCWZvdXQgPSBjbGtfcm91bmRfcmF0ZShkc2kt
PnBsbHJlZl9jbGssIGZvdXQpOwo+ICsJCWNsa19zZXRfcmF0ZShkc2ktPnBsbHJlZl9jbGssIGZv
dXQpOwo+ICsKPiArCQlkc2ktPmxhbmVfbWJwcyA9IHRhcmdldF9tYnBzOwo+ICsJCSpsYW5lX21i
cHMgPSBkc2ktPmxhbmVfbWJwczsKPiArCj4gKwkJcmV0dXJuIDA7Cj4gKwl9Cj4gKwo+ICsJZmlu
ID0gY2xrX2dldF9yYXRlKGRzaS0+cGxscmVmX2Nsayk7Cj4gKwo+ICAJLyogY29uc3RyYWludDog
NU1oeiA8PSBGcmVmIC8gTiA8PSA0ME1IeiAqLwo+ICAJbWluX3ByZWRpdiA9IERJVl9ST1VORF9V
UChmaW4sIDQwICogVVNFQ19QRVJfU0VDKTsKPiAgCW1heF9wcmVkaXYgPSBmaW4gLyAoNSAqIFVT
RUNfUEVSX1NFQyk7Cj4gQEAgLTU2MSw2ICs2MDEsOCBAQCBkd19taXBpX2RzaV9nZXRfbGFuZV9t
YnBzKHZvaWQgKnByaXZfZGF0YSwgY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGUs
Cj4gIAo+ICBzdGF0aWMgY29uc3Qgc3RydWN0IGR3X21pcGlfZHNpX3BoeV9vcHMgZHdfbWlwaV9k
c2lfcm9ja2NoaXBfcGh5X29wcyA9IHsKPiAgCS5pbml0ID0gZHdfbWlwaV9kc2lfcGh5X2luaXQs
Cj4gKwkucG93ZXJfb24gPSBkd19taXBpX2RzaV9waHlfcG93ZXJfb24sCj4gKwkucG93ZXJfb2Zm
ID0gZHdfbWlwaV9kc2lfcGh5X3Bvd2VyX29mZiwKPiAgCS5nZXRfbGFuZV9tYnBzID0gZHdfbWlw
aV9kc2lfZ2V0X2xhbmVfbWJwcywKPiAgfTsKPiAgCj4gQEAgLTkyMCw3ICs5NjIsMTUgQEAgc3Rh
dGljIGludCBkd19taXBpX2RzaV9yb2NrY2hpcF9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNl
ICpwZGV2KQo+ICAJCXJldHVybiAtRUlOVkFMOwo+ICAJfQo+ICAKPiAtCWRzaS0+cGxscmVmX2Ns
ayA9IGRldm1fY2xrX2dldChkZXYsICJyZWYiKTsKPiArCS8qIHRyeSB0byBnZXQgYSBwb3NzaWJs
ZSBleHRlcm5hbCBkcGh5ICovCj4gKwlkc2ktPnBoeSA9IGRldm1fcGh5X29wdGlvbmFsX2dldChk
ZXYsICJkcGh5Iik7Cj4gKwlpZiAoSVNfRVJSKGRzaS0+cGh5KSkgewo+ICsJCXJldCA9IFBUUl9F
UlIoZHNpLT5waHkpOwo+ICsJCURSTV9ERVZfRVJST1IoZGV2LCAiZmFpbGVkIHRvIGdldCBtaXBp
IGRwaHk6ICVkXG4iLCByZXQpOwo+ICsJCXJldHVybiByZXQ7Cj4gKwl9Cj4gKwo+ICsJZHNpLT5w
bGxyZWZfY2xrID0gZGV2bV9jbGtfZ2V0KGRldiwgZHNpLT5waHkgPyAicGxsIiA6ICJyZWYiKTsK
PiAgCWlmIChJU19FUlIoZHNpLT5wbGxyZWZfY2xrKSkgewo+ICAJCXJldCA9IFBUUl9FUlIoZHNp
LT5wbGxyZWZfY2xrKTsKPiAgCQlEUk1fREVWX0VSUk9SKGRldiwKCi0tIApSZWdhcmRzLAoKTGF1
cmVudCBQaW5jaGFydApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2
ZWw=
