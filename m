Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id F3642167CD
	for <lists+dri-devel@lfdr.de>; Tue,  7 May 2019 18:26:18 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7E6716E7FB;
	Tue,  7 May 2019 16:25:59 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 763366E806;
 Tue,  7 May 2019 16:25:57 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga001.jf.intel.com ([10.7.209.18])
 by fmsmga106.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 07 May 2019 09:25:57 -0700
X-ExtLoop1: 1
Received: from nuc.iind.intel.com ([10.99.66.149])
 by orsmga001.jf.intel.com with ESMTP; 07 May 2019 09:25:55 -0700
From: Ramalingam C <ramalingam.c@intel.com>
To: intel-gfx@lists.freedesktop.org, dri-devel@lists.freedesktop.org,
 daniel.vetter@intel.com
Subject: [PATCH v7 08/11] drm/i915: Attach content type property
Date: Tue,  7 May 2019 21:57:42 +0530
Message-Id: <20190507162745.25600-9-ramalingam.c@intel.com>
X-Mailer: git-send-email 2.19.1
In-Reply-To: <20190507162745.25600-1-ramalingam.c@intel.com>
References: <20190507162745.25600-1-ramalingam.c@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: gwan-gyeong.mun@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QXR0YWNoZXMgdGhlIGNvbnRlbnQgdHlwZSBwcm9wZXJ0eSBmb3IgSERDUDIuMiBjYXBhYmxlIGNv
bm5lY3RvcnMuCgpJbXBsZW1lbnRzIHRoZSB1cGRhdGUgb2YgY29udGVudCB0eXBlIGZyb20gcHJv
cGVydHkgYW5kIGFwcGx5IHRoZQpyZXN0cmljdGlvbiBvbiBIRENQIHZlcnNpb24gc2VsZWN0aW9u
LgoKTmVlZCBBQ0sgZm9yIGNvbnRlbnQgdHlwZSBwcm9wZXJ0eSBmcm9tIHVzZXJzcGFjZSBjb25z
dW1lci4KCnYyOgogIHMvY3BfY29udGVudF90eXBlL2NvbnRlbnRfcHJvdGVjdGlvbl90eXBlIFtk
YW5pZWxdCiAgZGlzYWJsZSBhdCBoZGNwX2F0b21pY19jaGVjayB0byBhdm9pZCBjaGVjayBhdCBh
dG9taWNfc2V0X3Byb3BlcnR5CglbTWFhcnRlbl0KdjM6CiAgcy9jb250ZW50X3Byb3RlY3Rpb25f
dHlwZS9oZGNwX2NvbnRlbnRfdHlwZSBbUGVra2FdCnY0OgogIGhkY3AgZGlzYWJsZSBpbmNhc2Ug
b2YgdHlwZSBjaGFuZ2UgaXMgbW92ZWQgaW50byBjb21taXQgW2RhbmllbF0uCnY1OgogIFNpbXBs
aWZpZWQgdGhlIFR5cGUgY2hhbmdlIHByb2NlZHVyZS4gW0RhbmllbF0KdjY6CiAgVHlwZSBjaGFu
Z2Ugd2l0aCBVTkRFU0lSRUQgc3RhdGUgaXMgaWdub3JlZC4KClNpZ25lZC1vZmYtYnk6IFJhbWFs
aW5nYW0gQyA8cmFtYWxpbmdhbS5jQGludGVsLmNvbT4KUmV2aWV3ZWQtYnk6IERhbmllbCBWZXR0
ZXIgPGRhbmllbC52ZXR0ZXJAZmZ3bGwuY2g+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50
ZWxfZGRpLmMgIHwgMzkgKysrKysrKysrKysrKysrKysrKysrKystLS0tLQogZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaW50ZWxfaGRjcC5jIHwgNDMgKysrKysrKysrKysrKysrKysrKystLS0tLS0tLS0t
LQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfaGRjcC5oIHwgIDIgKy0KIDMgZmlsZXMgY2hh
bmdlZCwgNjIgaW5zZXJ0aW9ucygrKSwgMjIgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGRpLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRl
bF9kZGkuYwppbmRleCBjZDUyNzdkOThiMDMuLjBmZmJhMTg2MTNiMiAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGRpLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aW50ZWxfZGRpLmMKQEAgLTM0OTAsNyArMzQ5MCw4IEBAIHN0YXRpYyB2b2lkIGludGVsX2VuYWJs
ZV9kZGkoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCiAJLyogRW5hYmxlIGhkY3AgaWYg
aXQncyBkZXNpcmVkICovCiAJaWYgKGNvbm5fc3RhdGUtPmNvbnRlbnRfcHJvdGVjdGlvbiA9PQog
CSAgICBEUk1fTU9ERV9DT05URU5UX1BST1RFQ1RJT05fREVTSVJFRCkKLQkJaW50ZWxfaGRjcF9l
bmFibGUodG9faW50ZWxfY29ubmVjdG9yKGNvbm5fc3RhdGUtPmNvbm5lY3RvcikpOworCQlpbnRl
bF9oZGNwX2VuYWJsZSh0b19pbnRlbF9jb25uZWN0b3IoY29ubl9zdGF0ZS0+Y29ubmVjdG9yKSwK
KwkJCQkgICh1OCljb25uX3N0YXRlLT5oZGNwX2NvbnRlbnRfdHlwZSk7CiB9CiAKIHN0YXRpYyB2
b2lkIGludGVsX2Rpc2FibGVfZGRpX2RwKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLApA
QCAtMzU1OSwxNSArMzU2MCw0MSBAQCBzdGF0aWMgdm9pZCBpbnRlbF9kZGlfdXBkYXRlX3BpcGUo
c3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCiAJCQkJICBjb25zdCBzdHJ1Y3QgaW50ZWxf
Y3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSwKIAkJCQkgIGNvbnN0IHN0cnVjdCBkcm1fY29ubmVjdG9y
X3N0YXRlICpjb25uX3N0YXRlKQogeworCXN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3Rv
ciA9CisJCQkJdG9faW50ZWxfY29ubmVjdG9yKGNvbm5fc3RhdGUtPmNvbm5lY3Rvcik7CisJc3Ry
dWN0IGludGVsX2hkY3AgKmhkY3AgPSAmY29ubmVjdG9yLT5oZGNwOworCWJvb2wgY29udGVudF9w
cm90ZWN0aW9uX3R5cGVfY2hhbmdlZCA9CisJCQkoY29ubl9zdGF0ZS0+aGRjcF9jb250ZW50X3R5
cGUgIT0gaGRjcC0+Y29udGVudF90eXBlICYmCisJCQkgY29ubl9zdGF0ZS0+Y29udGVudF9wcm90
ZWN0aW9uICE9CisJCQkgRFJNX01PREVfQ09OVEVOVF9QUk9URUNUSU9OX1VOREVTSVJFRCk7CisK
IAlpZiAoIWludGVsX2NydGNfaGFzX3R5cGUoY3J0Y19zdGF0ZSwgSU5URUxfT1VUUFVUX0hETUkp
KQogCQlpbnRlbF9kZGlfdXBkYXRlX3BpcGVfZHAoZW5jb2RlciwgY3J0Y19zdGF0ZSwgY29ubl9z
dGF0ZSk7CiAKKwkvKgorCSAqIER1cmluZyB0aGUgSERDUCBlbmNyeXB0aW9uIHNlc3Npb24gaWYg
VHlwZSBjaGFuZ2UgaXMgcmVxdWVzdGVkLAorCSAqIGRpc2FibGUgdGhlIEhEQ1AgYW5kIHJlZW5h
YmxlIGl0IHdpdGggbmV3IFRZUEUgdmFsdWUuCisJICovCiAJaWYgKGNvbm5fc3RhdGUtPmNvbnRl
bnRfcHJvdGVjdGlvbiA9PQotCSAgICBEUk1fTU9ERV9DT05URU5UX1BST1RFQ1RJT05fREVTSVJF
RCkKLQkJaW50ZWxfaGRjcF9lbmFibGUodG9faW50ZWxfY29ubmVjdG9yKGNvbm5fc3RhdGUtPmNv
bm5lY3RvcikpOwotCWVsc2UgaWYgKGNvbm5fc3RhdGUtPmNvbnRlbnRfcHJvdGVjdGlvbiA9PQot
CQkgRFJNX01PREVfQ09OVEVOVF9QUk9URUNUSU9OX1VOREVTSVJFRCkKLQkJaW50ZWxfaGRjcF9k
aXNhYmxlKHRvX2ludGVsX2Nvbm5lY3Rvcihjb25uX3N0YXRlLT5jb25uZWN0b3IpKTsKKwkgICAg
RFJNX01PREVfQ09OVEVOVF9QUk9URUNUSU9OX1VOREVTSVJFRCB8fAorCSAgICBjb250ZW50X3By
b3RlY3Rpb25fdHlwZV9jaGFuZ2VkKQorCQlpbnRlbF9oZGNwX2Rpc2FibGUoY29ubmVjdG9yKTsK
KworCS8qCisJICogTWFyayB0aGUgaGRjcCBzdGF0ZSBhcyBERVNJUkVEIGFmdGVyIHRoZSBoZGNw
IGRpc2FibGUgb2YgdHlwZQorCSAqIGNoYW5nZSBwcm9jZWR1cmUuCisJICovCisJaWYgKGNvbnRl
bnRfcHJvdGVjdGlvbl90eXBlX2NoYW5nZWQpIHsKKwkJbXV0ZXhfbG9jaygmaGRjcC0+bXV0ZXgp
OworCQloZGNwLT52YWx1ZSA9IERSTV9NT0RFX0NPTlRFTlRfUFJPVEVDVElPTl9ERVNJUkVEOwor
CQlzY2hlZHVsZV93b3JrKCZoZGNwLT5wcm9wX3dvcmspOworCQltdXRleF91bmxvY2soJmhkY3At
Pm11dGV4KTsKKwl9CisKKwlpZiAoY29ubl9zdGF0ZS0+Y29udGVudF9wcm90ZWN0aW9uID09CisJ
ICAgIERSTV9NT0RFX0NPTlRFTlRfUFJPVEVDVElPTl9ERVNJUkVEIHx8CisJICAgIGNvbnRlbnRf
cHJvdGVjdGlvbl90eXBlX2NoYW5nZWQpCisJCWludGVsX2hkY3BfZW5hYmxlKGNvbm5lY3Rvciwg
KHU4KWNvbm5fc3RhdGUtPmhkY3BfY29udGVudF90eXBlKTsKIH0KIAogc3RhdGljIHZvaWQgaW50
ZWxfZGRpX3NldF9maWFfbGFuZV9jb3VudChzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2hkY3AuYyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2ludGVsX2hkY3AuYwppbmRleCBiZTZjODFhZGRjYTAuLjY5NTIyNjg3YjJj
YiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfaGRjcC5jCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2hkY3AuYwpAQCAtMTc0OCwxNCArMTc0OCwxNSBAQCBz
dGF0aWMgY29uc3Qgc3RydWN0IGNvbXBvbmVudF9vcHMgaTkxNV9oZGNwX2NvbXBvbmVudF9vcHMg
PSB7CiAJLnVuYmluZCA9IGk5MTVfaGRjcF9jb21wb25lbnRfdW5iaW5kLAogfTsKIAotc3RhdGlj
IGlubGluZSBpbnQgaW5pdGlhbGl6ZV9oZGNwX3BvcnRfZGF0YShzdHJ1Y3QgaW50ZWxfY29ubmVj
dG9yICpjb25uZWN0b3IpCitzdGF0aWMgaW5saW5lIGludCBpbml0aWFsaXplX2hkY3BfcG9ydF9k
YXRhKHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvciwKKwkJCQkJICAgIGNvbnN0IHN0
cnVjdCBpbnRlbF9oZGNwX3NoaW0gKnNoaW0pCiB7CiAJc3RydWN0IGludGVsX2hkY3AgKmhkY3Ag
PSAmY29ubmVjdG9yLT5oZGNwOwogCXN0cnVjdCBoZGNwX3BvcnRfZGF0YSAqZGF0YSA9ICZoZGNw
LT5wb3J0X2RhdGE7CiAKIAlkYXRhLT5wb3J0ID0gY29ubmVjdG9yLT5lbmNvZGVyLT5wb3J0Owog
CWRhdGEtPnBvcnRfdHlwZSA9ICh1OClIRENQX1BPUlRfVFlQRV9JTlRFR1JBVEVEOwotCWRhdGEt
PnByb3RvY29sID0gKHU4KWhkY3AtPnNoaW0tPnByb3RvY29sOworCWRhdGEtPnByb3RvY29sID0g
KHU4KXNoaW0tPnByb3RvY29sOwogCiAJZGF0YS0+ayA9IDE7CiAJaWYgKCFkYXRhLT5zdHJlYW1z
KQpAQCAtMTgwNSwxMiArMTgwNiwxMyBAQCB2b2lkIGludGVsX2hkY3BfY29tcG9uZW50X2luaXQo
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQogCX0KIH0KIAotc3RhdGljIHZvaWQg
aW50ZWxfaGRjcDJfaW5pdChzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICpjb25uZWN0b3IpCitzdGF0
aWMgdm9pZCBpbnRlbF9oZGNwMl9pbml0KHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3Rv
ciwKKwkJCSAgICAgY29uc3Qgc3RydWN0IGludGVsX2hkY3Bfc2hpbSAqc2hpbSkKIHsKIAlzdHJ1
Y3QgaW50ZWxfaGRjcCAqaGRjcCA9ICZjb25uZWN0b3ItPmhkY3A7CiAJaW50IHJldDsKIAotCXJl
dCA9IGluaXRpYWxpemVfaGRjcF9wb3J0X2RhdGEoY29ubmVjdG9yKTsKKwlyZXQgPSBpbml0aWFs
aXplX2hkY3BfcG9ydF9kYXRhKGNvbm5lY3Rvciwgc2hpbSk7CiAJaWYgKHJldCkgewogCQlEUk1f
REVCVUdfS01TKCJNZWkgaGRjcCBkYXRhIGluaXQgZmFpbGVkXG4iKTsKIAkJcmV0dXJuOwpAQCAt
MTgyOSwyNSArMTgzMSwyOCBAQCBpbnQgaW50ZWxfaGRjcF9pbml0KHN0cnVjdCBpbnRlbF9jb25u
ZWN0b3IgKmNvbm5lY3RvciwKIAlpZiAoIXNoaW0pCiAJCXJldHVybiAtRUlOVkFMOwogCisJaWYg
KGlzX2hkY3AyX3N1cHBvcnRlZChkZXZfcHJpdikpCisJCWludGVsX2hkY3AyX2luaXQoY29ubmVj
dG9yLCBzaGltKTsKKwogCXJldCA9CiAJZHJtX2Nvbm5lY3Rvcl9hdHRhY2hfY29udGVudF9wcm90
ZWN0aW9uX3Byb3BlcnR5KCZjb25uZWN0b3ItPmJhc2UsCi0JCQkJCQkJIGZhbHNlKTsKLQlpZiAo
cmV0KQorCQkJCQkJCSBoZGNwLT5oZGNwMl9zdXBwb3J0ZWQpOworCWlmIChyZXQpIHsKKwkJaGRj
cC0+aGRjcDJfc3VwcG9ydGVkID0gZmFsc2U7CisJCWtmcmVlKGhkY3AtPnBvcnRfZGF0YS5zdHJl
YW1zKTsKIAkJcmV0dXJuIHJldDsKKwl9CiAKIAloZGNwLT5zaGltID0gc2hpbTsKIAltdXRleF9p
bml0KCZoZGNwLT5tdXRleCk7CiAJSU5JVF9ERUxBWUVEX1dPUksoJmhkY3AtPmNoZWNrX3dvcmss
IGludGVsX2hkY3BfY2hlY2tfd29yayk7CiAJSU5JVF9XT1JLKCZoZGNwLT5wcm9wX3dvcmssIGlu
dGVsX2hkY3BfcHJvcF93b3JrKTsKLQotCWlmIChpc19oZGNwMl9zdXBwb3J0ZWQoZGV2X3ByaXYp
KQotCQlpbnRlbF9oZGNwMl9pbml0KGNvbm5lY3Rvcik7CiAJaW5pdF93YWl0cXVldWVfaGVhZCgm
aGRjcC0+Y3BfaXJxX3F1ZXVlKTsKIAogCXJldHVybiAwOwogfQogCi1pbnQgaW50ZWxfaGRjcF9l
bmFibGUoc3RydWN0IGludGVsX2Nvbm5lY3RvciAqY29ubmVjdG9yKQoraW50IGludGVsX2hkY3Bf
ZW5hYmxlKHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvciwgdTggY29udGVudF90eXBl
KQogewogCXN0cnVjdCBpbnRlbF9oZGNwICpoZGNwID0gJmNvbm5lY3Rvci0+aGRjcDsKIAl1bnNp
Z25lZCBsb25nIGNoZWNrX2xpbmtfaW50ZXJ2YWwgPSBEUk1fSERDUF9DSEVDS19QRVJJT0RfTVM7
CkBAIC0xODU4LDYgKzE4NjMsNyBAQCBpbnQgaW50ZWxfaGRjcF9lbmFibGUoc3RydWN0IGludGVs
X2Nvbm5lY3RvciAqY29ubmVjdG9yKQogCiAJbXV0ZXhfbG9jaygmaGRjcC0+bXV0ZXgpOwogCVdB
Uk5fT04oaGRjcC0+dmFsdWUgPT0gRFJNX01PREVfQ09OVEVOVF9QUk9URUNUSU9OX0VOQUJMRUQp
OworCWhkY3AtPmNvbnRlbnRfdHlwZSA9IGNvbnRlbnRfdHlwZTsKIAogCS8qCiAJICogQ29uc2lk
ZXJpbmcgdGhhdCBIRENQMi4yIGlzIG1vcmUgc2VjdXJlIHRoYW4gSERDUDEuNCwgSWYgdGhlIHNl
dHVwCkBAIC0xODY5LDggKzE4NzUsMTIgQEAgaW50IGludGVsX2hkY3BfZW5hYmxlKHN0cnVjdCBp
bnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvcikKIAkJCWNoZWNrX2xpbmtfaW50ZXJ2YWwgPSBEUk1f
SERDUDJfQ0hFQ0tfUEVSSU9EX01TOwogCX0KIAotCS8qIFdoZW4gSERDUDIuMiBmYWlscywgSERD
UDEuNCB3aWxsIGJlIGF0dGVtcHRlZCAqLwotCWlmIChyZXQgJiYgaW50ZWxfaGRjcF9jYXBhYmxl
KGNvbm5lY3RvcikpIHsKKwkvKgorCSAqIFdoZW4gSERDUDIuMiBmYWlscyBhbmQgQ29udGVudCBU
eXBlIGlzIG5vdCBUeXBlMSwgSERDUDEuNCB3aWxsCisJICogYmUgYXR0ZW1wdGVkLgorCSAqLwor
CWlmIChyZXQgJiYgaW50ZWxfaGRjcF9jYXBhYmxlKGNvbm5lY3RvcikgJiYKKwkgICAgaGRjcC0+
Y29udGVudF90eXBlICE9IERSTV9NT0RFX0hEQ1BfQ09OVEVOVF9UWVBFMSkgewogCQlyZXQgPSBf
aW50ZWxfaGRjcF9lbmFibGUoY29ubmVjdG9yKTsKIAl9CiAKQEAgLTE5NTIsMTIgKzE5NjIsMTUg
QEAgdm9pZCBpbnRlbF9oZGNwX2F0b21pY19jaGVjayhzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29u
bmVjdG9yLAogCiAJLyoKIAkgKiBOb3RoaW5nIHRvIGRvIGlmIHRoZSBzdGF0ZSBkaWRuJ3QgY2hh
bmdlLCBvciBIRENQIHdhcyBhY3RpdmF0ZWQgc2luY2UKLQkgKiB0aGUgbGFzdCBjb21taXQKKwkg
KiB0aGUgbGFzdCBjb21taXQuIEFuZCBhbHNvIG5vIGNoYW5nZSBpbiBoZGNwIGNvbnRlbnQgdHlw
ZS4KIAkgKi8KIAlpZiAob2xkX2NwID09IG5ld19jcCB8fAogCSAgICAob2xkX2NwID09IERSTV9N
T0RFX0NPTlRFTlRfUFJPVEVDVElPTl9ERVNJUkVEICYmCi0JICAgICBuZXdfY3AgPT0gRFJNX01P
REVfQ09OVEVOVF9QUk9URUNUSU9OX0VOQUJMRUQpKQotCQlyZXR1cm47CisJICAgICBuZXdfY3Ag
PT0gRFJNX01PREVfQ09OVEVOVF9QUk9URUNUSU9OX0VOQUJMRUQpKSB7CisJCWlmIChvbGRfc3Rh
dGUtPmhkY3BfY29udGVudF90eXBlID09CisJCQkJbmV3X3N0YXRlLT5oZGNwX2NvbnRlbnRfdHlw
ZSkKKwkJCXJldHVybjsKKwl9CiAKIAljcnRjX3N0YXRlID0gZHJtX2F0b21pY19nZXRfbmV3X2Ny
dGNfc3RhdGUobmV3X3N0YXRlLT5zdGF0ZSwKIAkJCQkJCSAgIG5ld19zdGF0ZS0+Y3J0Yyk7CmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9oZGNwLmggYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pbnRlbF9oZGNwLmgKaW5kZXggYmU4ZGE4NWM4NjZhLi4xMzU1NWIwNTQ5MzAg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2hkY3AuaAorKysgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9oZGNwLmgKQEAgLTIxLDcgKzIxLDcgQEAgdm9pZCBpbnRl
bF9oZGNwX2F0b21pY19jaGVjayhzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yLAogCQkJ
ICAgICBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9zdGF0ZSAqbmV3X3N0YXRlKTsKIGludCBpbnRlbF9o
ZGNwX2luaXQoc3RydWN0IGludGVsX2Nvbm5lY3RvciAqY29ubmVjdG9yLAogCQkgICAgY29uc3Qg
c3RydWN0IGludGVsX2hkY3Bfc2hpbSAqaGRjcF9zaGltKTsKLWludCBpbnRlbF9oZGNwX2VuYWJs
ZShzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICpjb25uZWN0b3IpOworaW50IGludGVsX2hkY3BfZW5h
YmxlKHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvciwgdTggY29udGVudF90eXBlKTsK
IGludCBpbnRlbF9oZGNwX2Rpc2FibGUoc3RydWN0IGludGVsX2Nvbm5lY3RvciAqY29ubmVjdG9y
KTsKIGJvb2wgaXNfaGRjcF9zdXBwb3J0ZWQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9w
cml2LCBlbnVtIHBvcnQgcG9ydCk7CiBib29sIGludGVsX2hkY3BfY2FwYWJsZShzdHJ1Y3QgaW50
ZWxfY29ubmVjdG9yICpjb25uZWN0b3IpOwotLSAKMi4xOS4xCgpfX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1k
ZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcv
bWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
