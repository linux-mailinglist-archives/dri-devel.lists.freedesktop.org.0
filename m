Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id BE57CFBBDD
	for <lists+dri-devel@lfdr.de>; Wed, 13 Nov 2019 23:49:40 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A84C96E0D8;
	Wed, 13 Nov 2019 22:49:37 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from hqemgate15.nvidia.com (hqemgate15.nvidia.com [216.228.121.64])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 698C66E0D8
 for <dri-devel@lists.freedesktop.org>; Wed, 13 Nov 2019 22:49:36 +0000 (UTC)
Received: from hqpgpgate101.nvidia.com (Not Verified[216.228.121.13]) by
 hqemgate15.nvidia.com (using TLS: TLSv1.2, DES-CBC3-SHA)
 id <B5dcc887f0000>; Wed, 13 Nov 2019 14:49:35 -0800
Received: from hqmail.nvidia.com ([172.20.161.6])
 by hqpgpgate101.nvidia.com (PGP Universal service);
 Wed, 13 Nov 2019 14:49:35 -0800
X-PGP-Universal: processed;
 by hqpgpgate101.nvidia.com on Wed, 13 Nov 2019 14:49:35 -0800
Received: from [10.2.160.107] (10.124.1.5) by HQMAIL107.nvidia.com
 (172.20.187.13) with Microsoft SMTP Server (TLS) id 15.0.1473.3; Wed, 13 Nov
 2019 22:49:35 +0000
Subject: Re: [PATCH v4 04/23] mm: devmap: refactor 1-based refcounting for
 ZONE_DEVICE pages
To: Dan Williams <dan.j.williams@intel.com>
References: <20191113042710.3997854-1-jhubbard@nvidia.com>
 <20191113042710.3997854-5-jhubbard@nvidia.com>
 <CAPcyv4gGu=G-c1czSAYJ3joTYS_ZYOJ6i9umKzCQEFzpwZMiiA@mail.gmail.com>
 <CAPcyv4hr64b-k4j7ZY796+k-+Dy11REMcvPJ+QjTsyJ3vSdfKg@mail.gmail.com>
From: John Hubbard <jhubbard@nvidia.com>
X-Nvconfidentiality: public
Message-ID: <00148078-1795-da3e-916e-3ae2dcdd553d@nvidia.com>
Date: Wed, 13 Nov 2019 14:46:50 -0800
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <CAPcyv4hr64b-k4j7ZY796+k-+Dy11REMcvPJ+QjTsyJ3vSdfKg@mail.gmail.com>
X-Originating-IP: [10.124.1.5]
X-ClientProxiedBy: HQMAIL101.nvidia.com (172.20.187.10) To
 HQMAIL107.nvidia.com (172.20.187.13)
Content-Language: en-US
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=nvidia.com; s=n1; 
 t=1573685375; bh=M7Ik7ubSYX7OF1stdqZNif6HzttoKtqx7waxyFkzKWY=;
 h=X-PGP-Universal:Subject:To:CC:References:From:X-Nvconfidentiality:
 Message-ID:Date:User-Agent:MIME-Version:In-Reply-To:
 X-Originating-IP:X-ClientProxiedBy:Content-Type:Content-Language:
 Content-Transfer-Encoding;
 b=HRf688qze2GRqHnyahHLvRZ+e/6fvH6+Y1q+uYREZatis29SaWPmF7Yrn0hNJ5fki
 H19OWHLxWg5fBjq4uhCaZuIv1bxbQc51YOO9wtnfWCKC6vgSD2z642SHYstveiEdW/
 XqKRd607LdK6JAMtn52qX32U9Knbm5lNv1joK9r3pPuOV/AEZfYg1zmDoNNFM75fQM
 n6MJ3uQfLBtl0aoWk9fBN2cNRViR2bv6RWI9vbCQBjOxgLTSwaiKPgMulSfUT2hZDH
 JYAGHbrw0I2OznqDmLgaSKgmfKU0BBrFDVHomZrsYlwg3oZcnar1dWmuRE3/E8o/au
 PoRkbbodX0mLw==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Michal Hocko <mhocko@suse.com>, Jan Kara <jack@suse.cz>,
 KVM list <kvm@vger.kernel.org>,
 Linux Doc Mailing List <linux-doc@vger.kernel.org>,
 David Airlie <airlied@linux.ie>, Dave Chinner <david@fromorbit.com>,
 Ralph Campbell <rcampbell@nvidia.com>,
 Maling list - DRI developers <dri-devel@lists.freedesktop.org>,
 LKML <linux-kernel@vger.kernel.org>, Linux MM <linux-mm@kvack.org>, Paul
 Mackerras <paulus@samba.org>, linux-kselftest@vger.kernel.org,
 Ira Weiny <ira.weiny@intel.com>, Jonathan Corbet <corbet@lwn.net>,
 linux-rdma <linux-rdma@vger.kernel.org>, Michael Ellerman <mpe@ellerman.id.au>,
 Christoph Hellwig <hch@infradead.org>, Jason Gunthorpe <jgg@ziepe.ca>,
 Vlastimil Babka <vbabka@suse.cz>,
 =?UTF-8?B?QmrDtnJuIFTDtnBlbA==?= <bjorn.topel@intel.com>,
 "Linux-media@vger.kernel.org" <linux-media@vger.kernel.org>,
 Shuah Khan <shuah@kernel.org>, linux-block@vger.kernel.org,
 =?UTF-8?B?SsOpcsO0bWUgR2xpc3Nl?= <jglisse@redhat.com>,
 Al Viro <viro@zeniv.linux.org.uk>, Mauro
 Carvalho Chehab <mchehab@kernel.org>, bpf@vger.kernel.org,
 Magnus Karlsson <magnus.karlsson@intel.com>, Jens Axboe <axboe@kernel.dk>,
 Netdev <netdev@vger.kernel.org>, Alex Williamson <alex.williamson@redhat.com>,
 linux-fsdevel <linux-fsdevel@vger.kernel.org>,
 Andrew Morton <akpm@linux-foundation.org>,
 linuxppc-dev <linuxppc-dev@lists.ozlabs.org>,
 "David S . Miller" <davem@davemloft.net>,
 Mike Kravetz <mike.kravetz@oracle.com>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gMTEvMTMvMTkgMjowMCBQTSwgRGFuIFdpbGxpYW1zIHdyb3RlOgouLi4KPj4gVWdoLCB3aGVu
IGRpZCBhbGwgdGhpcyBITU0gc3BlY2lmaWMgbWFuaXB1bGF0aW9uIHNuZWFrIGludG8gdGhlCj4+
IGdlbmVyaWMgWk9ORV9ERVZJQ0UgcGF0aD8gSXQgdXNlZCB0byBiZSBnYXRlZCBieSBwZ21hcCB0
eXBlIHdpdGggaXRzCj4+IG93biBwdXRfem9uZV9kZXZpY2VfcHJpdmF0ZV9wYWdlKCkuIEZvciBl
eGFtcGxlIGl0J3MgY2VydGFpbmx5Cj4+IHVubmVjZXNzYXJ5IGFuZCBtaWdodCBiZSBicm9rZW4g
KHdvdWxkIG5lZWQgdG8gY2hlY2spIHRvIGNhbGwKPj4gbWVtX2Nncm91cF91bmNoYXJnZSgpIG9u
IGEgREFYIHBhZ2UuIFpPTkVfREVWSUNFIHVzZXJzIGFyZSBub3QgYQo+PiBtb25vbGl0aCBhbmQg
dGhlIEhNTSB1c2UgY2FzZSBsZWFrcyBwYWdlcyBpbnRvIGNvZGUgcGF0aHMgdGhhdCBEQVgKPj4g
ZXhwbGljaXRseSBhdm9pZHMuCj4gCj4gSXQncyBiZWVuIHRoaXMgd2F5IGZvciBhIHdoaWxlIGFu
ZCBJIGRpZCBub3QgcmVhY3QgcHJldmlvdXNseSwKPiBhcG9sb2dpZXMgZm9yIHRoYXQuIEkgdGhp
bmsgX19DbGVhclBhZ2VBY3RpdmUsIF9fQ2xlYXJQYWdlV2FpdGVycywgYW5kCj4gbWVtX2Nncm91
cF91bmNoYXJnZSwgYmVsb25nIGJlaGluZCBhIGRldmljZS1wcml2YXRlIGNvbmRpdGlvbmFsLiBU
aGUKPiBoaXN0b3J5IGhlcmUgaXM6Cj4gCj4gTW92ZSBzb21lLCBidXQgbm90IGFsbCBITU0gc3Bl
Y2lmaWNzIHRvIGhtbV9kZXZtZW1fZnJlZSgpOgo+ICAgICAgMmZhMTQ3YmRiZjY3IG1tLCBkZXZf
cGFnZW1hcDogRG8gbm90IGNsZWFyIC0+bWFwcGluZyBvbiBmaW5hbCBwdXQKPiAKPiBSZW1vdmUg
dGhlIGNsZWFyaW5nIG9mIG1hcHBpbmcgc2luY2Ugbm8gdXBzdHJlYW0gY29uc3VtZXJzIG5lZWRl
ZCBpdDoKPiAgICAgIGI3YTUyMzEwOWZiNSBtbTogZG9uJ3QgY2xlYXIgLT5tYXBwaW5nIGluIGht
bV9kZXZtZW1fZnJlZQo+IAo+IEFkZCBpdCBiYWNrIGluIG9uY2UgYW4gdXBzdHJlYW0gY29uc3Vt
ZXIgYXJyaXZlZDoKPiAgICAgIDdhYjBhZDBlNzRmOCBtbS9obW06IGZpeCBaT05FX0RFVklDRSBh
bm9uIHBhZ2UgbWFwcGluZyByZXVzZQo+IAo+IFdlJ3JlIG5vdyBhbG1vc3QgZW50aXJlbHkgZnJl
ZSBvZiAtPnBhZ2VfZnJlZSBjYWxsYmFja3MgZXhjZXB0IGZvcgo+IHRoYXQgd2VpcmQgbm91dmVh
dSBjYXNlLCBjYW4gdGhhdCBGSVhNRSBpbiBub3V2ZWF1X2RtZW1fcGFnZV9mcmVlKCkKPiBhbHNv
IHJlc3VsdCBpbiBraWxsaW5nIHRoZSAtPnBhZ2VfZnJlZSgpIGNhbGxiYWNrIGFsdG9nZXRoZXI/
IEluIHRoZQo+IG1lYW50aW1lIEknbSBwcm9wb3NpbmcgYSBjbGVhbnVwIGxpa2UgdGhpczoKCgpP
SywgYXNzdW1pbmcgdGhpcyBpcyBhY2NlcHRhYmxlIChubyBvYnZpb3VzIHByb2JsZW1zIGp1bXAg
b3V0IGF0IG1lLAphbmQgd2UgY2FuIGFsc28gdGVzdCBpdCB3aXRoIEhNTSksIHRoZW4gaG93IHdv
dWxkIHlvdSBsaWtlIHRvIHByb2NlZWQsIGFzCmZhciBhcyBwYXRjaGVzIGdvOiBhZGQgc3VjaCBh
IHBhdGNoIGFzIHBhcnQgb2YgdGhpcyBzZXJpZXMgaGVyZSwgb3IgYXMgYQpzdGFuZC1hbG9uZSBw
YXRjaCBlaXRoZXIgYmVmb3JlIG9yIGFmdGVyIHRoaXMgc2VyaWVzPyBPciBzb21ldGhpbmcgZWxz
ZT8KQW5kIGRpZCB5b3UgcGxhbiBvbiBzZW5kaW5nIGl0IG91dCBhcyBzdWNoPwoKQWxzbywgdGhl
IGRpZmZzIGRpZG4ndCBxdWl0ZSBtYWtlIGl0IHRocm91Z2ggaW50YWN0IHRvIG15ICJnaXQgYXBw
bHkiLCBzbwpJJ20gcmUtcG9zdGluZyB0aGUgZGlmZiBpbiBob3BlcyB0aGF0IHRoaXMgdGltZSBp
dCBzdXJ2aXZlczoKCmRpZmYgLS1naXQgYS9kcml2ZXJzL252ZGltbS9wbWVtLmMgYi9kcml2ZXJz
L252ZGltbS9wbWVtLmMKaW5kZXggZjlmNzZmNmJhMDdiLi4yMWRiMWNlOGMwYWUgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvbnZkaW1tL3BtZW0uYworKysgYi9kcml2ZXJzL252ZGltbS9wbWVtLmMKQEAg
LTMzOCwxMyArMzM4LDcgQEAgc3RhdGljIHZvaWQgcG1lbV9yZWxlYXNlX2Rpc2sodm9pZCAqX19w
bWVtKQogIAlwdXRfZGlzayhwbWVtLT5kaXNrKTsKICB9CiAgCi1zdGF0aWMgdm9pZCBwbWVtX3Bh
Z2VtYXBfcGFnZV9mcmVlKHN0cnVjdCBwYWdlICpwYWdlKQotewotCXdha2VfdXBfdmFyKCZwYWdl
LT5fcmVmY291bnQpOwotfQotCiAgc3RhdGljIGNvbnN0IHN0cnVjdCBkZXZfcGFnZW1hcF9vcHMg
ZnNkYXhfcGFnZW1hcF9vcHMgPSB7Ci0JLnBhZ2VfZnJlZQkJPSBwbWVtX3BhZ2VtYXBfcGFnZV9m
cmVlLAogIAkua2lsbAkJCT0gcG1lbV9wYWdlbWFwX2tpbGwsCiAgCS5jbGVhbnVwCQk9IHBtZW1f
cGFnZW1hcF9jbGVhbnVwLAogIH07CmRpZmYgLS1naXQgYS9tbS9tZW1yZW1hcC5jIGIvbW0vbWVt
cmVtYXAuYwppbmRleCAwM2NjYmRmZWI2OTcuLjE1N2VkYjhmN2NmOCAxMDA2NDQKLS0tIGEvbW0v
bWVtcmVtYXAuYworKysgYi9tbS9tZW1yZW1hcC5jCkBAIC00MTksMTIgKzQxOSw2IEBAIHZvaWQg
X19wdXRfZGV2bWFwX21hbmFnZWRfcGFnZShzdHJ1Y3QgcGFnZSAqcGFnZSkKICAJICogaG9sZHMg
YSByZWZlcmVuY2Ugb24gdGhlIHBhZ2UuCiAgCSAqLwogIAlpZiAoY291bnQgPT0gMSkgewotCQkv
KiBDbGVhciBBY3RpdmUgYml0IGluIGNhc2Ugb2YgcGFyYWxsZWwgbWFya19wYWdlX2FjY2Vzc2Vk
ICovCi0JCV9fQ2xlYXJQYWdlQWN0aXZlKHBhZ2UpOwotCQlfX0NsZWFyUGFnZVdhaXRlcnMocGFn
ZSk7Ci0KLQkJbWVtX2Nncm91cF91bmNoYXJnZShwYWdlKTsKLQogIAkJLyoKICAJCSAqIFdoZW4g
YSBkZXZpY2VfcHJpdmF0ZSBwYWdlIGlzIGZyZWVkLCB0aGUgcGFnZS0+bWFwcGluZyBmaWVsZAog
IAkJICogbWF5IHN0aWxsIGNvbnRhaW4gYSAoc3RhbGUpIG1hcHBpbmcgdmFsdWUuIEZvciBleGFt
cGxlLCB0aGUKQEAgLTQ0NiwxMCArNDQwLDE3IEBAIHZvaWQgX19wdXRfZGV2bWFwX21hbmFnZWRf
cGFnZShzdHJ1Y3QgcGFnZSAqcGFnZSkKICAJCSAqIGhhbmRsZWQgZGlmZmVyZW50bHkgb3Igbm90
IGRvbmUgYXQgYWxsLCBzbyB0aGVyZSBpcyBubyBuZWVkCiAgCQkgKiB0byBjbGVhciBwYWdlLT5t
YXBwaW5nLgogIAkJICovCi0JCWlmIChpc19kZXZpY2VfcHJpdmF0ZV9wYWdlKHBhZ2UpKQotCQkJ
cGFnZS0+bWFwcGluZyA9IE5VTEw7CisJCWlmIChpc19kZXZpY2VfcHJpdmF0ZV9wYWdlKHBhZ2Up
KSB7CisJCQkvKiBDbGVhciBBY3RpdmUgYml0IGluIGNhc2Ugb2YgcGFyYWxsZWwgbWFya19wYWdl
X2FjY2Vzc2VkICovCisJCQlfX0NsZWFyUGFnZUFjdGl2ZShwYWdlKTsKKwkJCV9fQ2xlYXJQYWdl
V2FpdGVycyhwYWdlKTsKICAKLQkJcGFnZS0+cGdtYXAtPm9wcy0+cGFnZV9mcmVlKHBhZ2UpOwor
CQkJbWVtX2Nncm91cF91bmNoYXJnZShwYWdlKTsKKworCQkJcGFnZS0+bWFwcGluZyA9IE5VTEw7
CisJCQlwYWdlLT5wZ21hcC0+b3BzLT5wYWdlX2ZyZWUocGFnZSk7CisJCX0gZWxzZQorCQkJd2Fr
ZV91cF92YXIoJnBhZ2UtPl9yZWZjb3VudCk7CiAgCX0gZWxzZSBpZiAoIWNvdW50KQogIAkJX19w
dXRfcGFnZShwYWdlKTsKICB9Ci0tIAoyLjI0LjAKCgp0aGFua3MsCi0tIApKb2huIEh1YmJhcmQK
TlZJRElBCgo+IAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL252ZGltbS9wbWVtLmMgYi9kcml2ZXJz
L252ZGltbS9wbWVtLmMKPiBpbmRleCBhZDhlNGRmMTI4MmIuLjRlYWU0NDFmODZjOSAxMDA2NDQK
PiAtLS0gYS9kcml2ZXJzL252ZGltbS9wbWVtLmMKPiArKysgYi9kcml2ZXJzL252ZGltbS9wbWVt
LmMKPiBAQCAtMzM3LDEzICszMzcsNyBAQCBzdGF0aWMgdm9pZCBwbWVtX3JlbGVhc2VfZGlzayh2
b2lkICpfX3BtZW0pCj4gICAgICAgICAgcHV0X2Rpc2socG1lbS0+ZGlzayk7Cj4gICB9Cj4gCj4g
LXN0YXRpYyB2b2lkIHBtZW1fcGFnZW1hcF9wYWdlX2ZyZWUoc3RydWN0IHBhZ2UgKnBhZ2UpCj4g
LXsKPiAtICAgICAgIHdha2VfdXBfdmFyKCZwYWdlLT5fcmVmY291bnQpOwo+IC19Cj4gLQo+ICAg
c3RhdGljIGNvbnN0IHN0cnVjdCBkZXZfcGFnZW1hcF9vcHMgZnNkYXhfcGFnZW1hcF9vcHMgPSB7
Cj4gLSAgICAgICAucGFnZV9mcmVlICAgICAgICAgICAgICA9IHBtZW1fcGFnZW1hcF9wYWdlX2Zy
ZWUsCj4gICAgICAgICAgLmtpbGwgICAgICAgICAgICAgICAgICAgPSBwbWVtX3BhZ2VtYXBfa2ls
bCwKPiAgICAgICAgICAuY2xlYW51cCAgICAgICAgICAgICAgICA9IHBtZW1fcGFnZW1hcF9jbGVh
bnVwLAo+ICAgfTsKPiBkaWZmIC0tZ2l0IGEvbW0vbWVtcmVtYXAuYyBiL21tL21lbXJlbWFwLmMK
PiBpbmRleCAwM2NjYmRmZWI2OTcuLjE1N2VkYjhmN2NmOCAxMDA2NDQKPiAtLS0gYS9tbS9tZW1y
ZW1hcC5jCj4gKysrIGIvbW0vbWVtcmVtYXAuYwo+IEBAIC00MTksMTIgKzQxOSw2IEBAIHZvaWQg
X19wdXRfZGV2bWFwX21hbmFnZWRfcGFnZShzdHJ1Y3QgcGFnZSAqcGFnZSkKPiAgICAgICAgICAg
KiBob2xkcyBhIHJlZmVyZW5jZSBvbiB0aGUgcGFnZS4KPiAgICAgICAgICAgKi8KPiAgICAgICAg
ICBpZiAoY291bnQgPT0gMSkgewo+IC0gICAgICAgICAgICAgICAvKiBDbGVhciBBY3RpdmUgYml0
IGluIGNhc2Ugb2YgcGFyYWxsZWwgbWFya19wYWdlX2FjY2Vzc2VkICovCj4gLSAgICAgICAgICAg
ICAgIF9fQ2xlYXJQYWdlQWN0aXZlKHBhZ2UpOwo+IC0gICAgICAgICAgICAgICBfX0NsZWFyUGFn
ZVdhaXRlcnMocGFnZSk7Cj4gLQo+IC0gICAgICAgICAgICAgICBtZW1fY2dyb3VwX3VuY2hhcmdl
KHBhZ2UpOwo+IC0KPiAgICAgICAgICAgICAgICAgIC8qCj4gICAgICAgICAgICAgICAgICAgKiBX
aGVuIGEgZGV2aWNlX3ByaXZhdGUgcGFnZSBpcyBmcmVlZCwgdGhlIHBhZ2UtPm1hcHBpbmcgZmll
bGQKPiAgICAgICAgICAgICAgICAgICAqIG1heSBzdGlsbCBjb250YWluIGEgKHN0YWxlKSBtYXBw
aW5nIHZhbHVlLiBGb3IgZXhhbXBsZSwgdGhlCj4gQEAgLTQ0NiwxMCArNDQwLDE3IEBAIHZvaWQg
X19wdXRfZGV2bWFwX21hbmFnZWRfcGFnZShzdHJ1Y3QgcGFnZSAqcGFnZSkKPiAgICAgICAgICAg
ICAgICAgICAqIGhhbmRsZWQgZGlmZmVyZW50bHkgb3Igbm90IGRvbmUgYXQgYWxsLCBzbyB0aGVy
ZSBpcyBubyBuZWVkCj4gICAgICAgICAgICAgICAgICAgKiB0byBjbGVhciBwYWdlLT5tYXBwaW5n
Lgo+ICAgICAgICAgICAgICAgICAgICovCj4gLSAgICAgICAgICAgICAgIGlmIChpc19kZXZpY2Vf
cHJpdmF0ZV9wYWdlKHBhZ2UpKQo+IC0gICAgICAgICAgICAgICAgICAgICAgIHBhZ2UtPm1hcHBp
bmcgPSBOVUxMOwo+ICsgICAgICAgICAgICAgICBpZiAoaXNfZGV2aWNlX3ByaXZhdGVfcGFnZShw
YWdlKSkgewo+ICsgICAgICAgICAgICAgICAgICAgICAgIC8qIENsZWFyIEFjdGl2ZSBiaXQgaW4g
Y2FzZSBvZiBwYXJhbGxlbAo+IG1hcmtfcGFnZV9hY2Nlc3NlZCAqLwo+ICsgICAgICAgICAgICAg
ICAgICAgICAgIF9fQ2xlYXJQYWdlQWN0aXZlKHBhZ2UpOwo+ICsgICAgICAgICAgICAgICAgICAg
ICAgIF9fQ2xlYXJQYWdlV2FpdGVycyhwYWdlKTsKPiAKPiAtICAgICAgICAgICAgICAgcGFnZS0+
cGdtYXAtPm9wcy0+cGFnZV9mcmVlKHBhZ2UpOwo+ICsgICAgICAgICAgICAgICAgICAgICAgIG1l
bV9jZ3JvdXBfdW5jaGFyZ2UocGFnZSk7Cj4gKwo+ICsgICAgICAgICAgICAgICAgICAgICAgIHBh
Z2UtPm1hcHBpbmcgPSBOVUxMOwo+ICsgICAgICAgICAgICAgICAgICAgICAgIHBhZ2UtPnBnbWFw
LT5vcHMtPnBhZ2VfZnJlZShwYWdlKTsKPiArICAgICAgICAgICAgICAgfSBlbHNlCj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgd2FrZV91cF92YXIoJnBhZ2UtPl9yZWZjb3VudCk7Cj4gICAgICAg
ICAgfSBlbHNlIGlmICghY291bnQpCj4gICAgICAgICAgICAgICAgICBfX3B1dF9wYWdlKHBhZ2Up
Owo+ICAgfQo+IApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
XwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcK
aHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
