Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 18F6F2245BC
	for <lists+dri-devel@lfdr.de>; Fri, 17 Jul 2020 23:16:21 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 64CE36E277;
	Fri, 17 Jul 2020 21:16:17 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga17.intel.com (mga17.intel.com [192.55.52.151])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 939616E24B;
 Fri, 17 Jul 2020 21:16:14 +0000 (UTC)
IronPort-SDR: irG+mDITBQ8Xq23cZW2hlfUY0cZwSo2pXTteWcAMU/7jlqDIPi0exek5687p8gS5A/I95W3AH8
 VFDEL27W8rlA==
X-IronPort-AV: E=McAfee;i="6000,8403,9685"; a="129758793"
X-IronPort-AV: E=Sophos;i="5.75,364,1589266800"; d="scan'208";a="129758793"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga002.jf.intel.com ([10.7.209.21])
 by fmsmga107.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 17 Jul 2020 14:16:14 -0700
IronPort-SDR: oPpgX7bQAXz5G2qstKpWlt6mbn9xYzy/CriEQWPUC5G9+Q4XWhZeVU3o5gCLrlsQLLR7DA0khW
 31RuRqgp9R4A==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.75,364,1589266800"; d="scan'208";a="300687847"
Received: from duffjusx-mobl1.amr.corp.intel.com (HELO
 achrisan-DESK2.amr.corp.intel.com) ([10.251.156.115])
 by orsmga002.jf.intel.com with ESMTP; 17 Jul 2020 14:16:13 -0700
From: Anitha Chrisanthus <anitha.chrisanthus@intel.com>
To: dri-devel@lists.freedesktop.org, anitha.chrisanthus@intel.com,
 bob.j.paauwe@intel.com, edmund.j.dea@intel.com
Subject: [PATCH v3] drm/kmb: Add support for KeemBay Display
Date: Fri, 17 Jul 2020 14:15:51 -0700
Message-Id: <1595020551-30768-2-git-send-email-anitha.chrisanthus@intel.com>
X-Mailer: git-send-email 2.7.4
In-Reply-To: <1595020551-30768-1-git-send-email-anitha.chrisanthus@intel.com>
References: <1595020551-30768-1-git-send-email-anitha.chrisanthus@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: daniel.vetter@intel.com, intel-gfx@lists.freedesktop.org,
 rodrigo.vivi@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhpcyBpcyBhIGJhc2ljIEtNUyBhdG9taWMgbW9kZXNldHRpbmcgZGlzcGxheSBkcml2ZXIgZm9y
IEtlZW1CYXkgZmFtaWx5IG9mClNPQ3MuIERyaXZlciBoYXMgbm8gMkQgb3IgM0QgZ3JhcGhpY3Mu
SXQgY2FsbHMgaW50byB0aGUgQURWIGJyaWRnZQpkcml2ZXIgYXQgdGhlIGNvbm5lY3RvciBsZXZl
bC4KClNpbmdsZSBDUlRDIHdpdGggTENEIGNvbnRyb2xsZXItPm1pcGkgRFNJLT4gQURWIGJyaWRn
ZQoKT25seSAxMDgwcCByZXNvbHV0aW9uIGFuZCBzaW5nbGUgcGxhbmUgaXMgc3VwcG9ydGVkIGF0
IHRoaXMgdGltZS4KCnYyOiBtb3ZlZCBleHRlcm4gdG8gLmgsIHJlbW92ZWQgbGljZW5zZSB0ZXh0
CiAgICB1c2UgZHJtX2Rldl9pbml0LCB1cGNsYXNzZWQgZGV2X3ByaXZhdGUsIHJlbW92ZWQgSEFW
RV9JUlEuCgp2MzogU3F1YXNoZWQgYWxsIDU5IGNvbW1pdHMgdG8gb25lCgpTaWduZWQtb2ZmLWJ5
OiBBbml0aGEgQ2hyaXNhbnRodXMgPGFuaXRoYS5jaHJpc2FudGh1c0BpbnRlbC5jb20+ClJldmll
d2VkLWJ5OiBCb2IgUGFhdXdlIDxib2Iuai5wYWF1d2VAaW50ZWwuY29tPgotLS0KIGRyaXZlcnMv
Z3B1L2RybS9LY29uZmlnICAgICAgICAgfCAgICAyICsKIGRyaXZlcnMvZ3B1L2RybS9NYWtlZmls
ZSAgICAgICAgfCAgICAxICsKIGRyaXZlcnMvZ3B1L2RybS9rbWIvS2NvbmZpZyAgICAgfCAgIDEy
ICsKIGRyaXZlcnMvZ3B1L2RybS9rbWIvTWFrZWZpbGUgICAgfCAgICAyICsKIGRyaXZlcnMvZ3B1
L2RybS9rbWIva21iX2NydGMuYyAgfCAgMjE5ICsrKysrCiBkcml2ZXJzL2dwdS9kcm0va21iL2tt
Yl9jcnRjLmggIHwgICA0MSArCiBkcml2ZXJzL2dwdS9kcm0va21iL2ttYl9kcnYuYyAgIHwgIDc1
OSArKysrKysrKysrKysrKysrCiBkcml2ZXJzL2dwdS9kcm0va21iL2ttYl9kcnYuaCAgIHwgIDE2
NSArKysrCiBkcml2ZXJzL2dwdS9kcm0va21iL2ttYl9kc2kuYyAgIHwgMTgzMyArKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysKIGRyaXZlcnMvZ3B1L2RybS9rbWIva21iX2Rz
aS5oICAgfCAgMzcwICsrKysrKysrCiBkcml2ZXJzL2dwdS9kcm0va21iL2ttYl9wbGFuZS5jIHwg
IDUxNSArKysrKysrKysrKwogZHJpdmVycy9ncHUvZHJtL2ttYi9rbWJfcGxhbmUuaCB8ICAxMjQg
KysrCiBkcml2ZXJzL2dwdS9kcm0va21iL2ttYl9yZWdzLmggIHwgIDczOCArKysrKysrKysrKysr
KysrCiAxMyBmaWxlcyBjaGFuZ2VkLCA0NzgxIGluc2VydGlvbnMoKykKIGNyZWF0ZSBtb2RlIDEw
MDY0NCBkcml2ZXJzL2dwdS9kcm0va21iL0tjb25maWcKIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2
ZXJzL2dwdS9kcm0va21iL01ha2VmaWxlCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUv
ZHJtL2ttYi9rbWJfY3J0Yy5jCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL2tt
Yi9rbWJfY3J0Yy5oCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL2ttYi9rbWJf
ZHJ2LmMKIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0va21iL2ttYl9kcnYuaAog
Y3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS9rbWIva21iX2RzaS5jCiBjcmVhdGUg
bW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL2ttYi9rbWJfZHNpLmgKIGNyZWF0ZSBtb2RlIDEw
MDY0NCBkcml2ZXJzL2dwdS9kcm0va21iL2ttYl9wbGFuZS5jCiBjcmVhdGUgbW9kZSAxMDA2NDQg
ZHJpdmVycy9ncHUvZHJtL2ttYi9rbWJfcGxhbmUuaAogY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZl
cnMvZ3B1L2RybS9rbWIva21iX3JlZ3MuaAoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9L
Y29uZmlnIGIvZHJpdmVycy9ncHUvZHJtL0tjb25maWcKaW5kZXggYzRmZDU3ZC4uNTI5MjU3NCAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL0tjb25maWcKKysrIGIvZHJpdmVycy9ncHUvZHJt
L0tjb25maWcKQEAgLTI3NSw2ICsyNzUsOCBAQCBzb3VyY2UgImRyaXZlcnMvZ3B1L2RybS9ub3V2
ZWF1L0tjb25maWciCiAKIHNvdXJjZSAiZHJpdmVycy9ncHUvZHJtL2k5MTUvS2NvbmZpZyIKIAor
c291cmNlICJkcml2ZXJzL2dwdS9kcm0va21iL0tjb25maWciCisKIGNvbmZpZyBEUk1fVkdFTQog
CXRyaXN0YXRlICJWaXJ0dWFsIEdFTSBwcm92aWRlciIKIAlkZXBlbmRzIG9uIERSTQpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL01ha2VmaWxlIGIvZHJpdmVycy9ncHUvZHJtL01ha2VmaWxl
CmluZGV4IDJjMGU1YTcuLmJkYmRjNjMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9NYWtl
ZmlsZQorKysgYi9kcml2ZXJzL2dwdS9kcm0vTWFrZWZpbGUKQEAgLTcxLDYgKzcxLDcgQEAgb2Jq
LSQoQ09ORklHX0RSTV9BTURHUFUpKz0gYW1kL2FtZGdwdS8KIG9iai0kKENPTkZJR19EUk1fTUdB
KQkrPSBtZ2EvCiBvYmotJChDT05GSUdfRFJNX0k4MTApCSs9IGk4MTAvCiBvYmotJChDT05GSUdf
RFJNX0k5MTUpCSs9IGk5MTUvCitvYmotJChDT05GSUdfRFJNX0tNQl9ESVNQTEFZKSAgKz0ga21i
Lwogb2JqLSQoQ09ORklHX0RSTV9NR0FHMjAwKSArPSBtZ2FnMjAwLwogb2JqLSQoQ09ORklHX0RS
TV9WM0QpICArPSB2M2QvCiBvYmotJChDT05GSUdfRFJNX1ZDNCkgICs9IHZjNC8KZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9rbWIvS2NvbmZpZyBiL2RyaXZlcnMvZ3B1L2RybS9rbWIvS2Nv
bmZpZwpuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwLi4wMDVhOTk2MgotLS0gL2Rl
di9udWxsCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9rbWIvS2NvbmZpZwpAQCAtMCwwICsxLDEyIEBA
Citjb25maWcgRFJNX0tNQl9ESVNQTEFZCisJdHJpc3RhdGUgIktFRU1CQVkgRElTUExBWSIKKwlk
ZXBlbmRzIG9uIERSTSAmJiBPRiAmJiAoQVJNIHx8IEFSTTY0KQorCWRlcGVuZHMgb24gQ09NTU9O
X0NMSworCXNlbGVjdCBEUk1fS01TX0hFTFBFUgorCXNlbGVjdCBEUk1fS01TX0NNQV9IRUxQRVIK
KwlzZWxlY3QgRFJNX0dFTV9DTUFfSEVMUEVSCisJc2VsZWN0IFZJREVPTU9ERV9IRUxQRVJTCisJ
aGVscAorCUNob29zZSB0aGlzIG9wdGlvbiBpZiB5b3UgaGF2ZSBhbiBLRUVNQkFZIERJU1BMQVkg
Y29udHJvbGxlci4KKworCUlmIE0gaXMgc2VsZWN0ZWQgdGhlIG1vZHVsZSB3aWxsIGJlIGNhbGxl
ZCBrbWItZGlzcGxheS4KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9rbWIvTWFrZWZpbGUg
Yi9kcml2ZXJzL2dwdS9kcm0va21iL01ha2VmaWxlCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4
IDAwMDAwMDAuLjUyN2Q3MzcKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL2dwdS9kcm0va21i
L01ha2VmaWxlCkBAIC0wLDAgKzEsMiBAQAora21iLWRybS15IDo9IGttYl9jcnRjLm8ga21iX2Ry
di5vIGttYl9wbGFuZS5vIGttYl9kc2kubworb2JqLSQoQ09ORklHX0RSTV9LTUJfRElTUExBWSkJ
Kz0ga21iLWRybS5vCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0va21iL2ttYl9jcnRjLmMg
Yi9kcml2ZXJzL2dwdS9kcm0va21iL2ttYl9jcnRjLmMKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5k
ZXggMDAwMDAwMC4uNTcwZDQ2ZQotLS0gL2Rldi9udWxsCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9r
bWIva21iX2NydGMuYwpAQCAtMCwwICsxLDIxOSBAQAorLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZp
ZXI6IEdQTC0yLjAtb25seQorLyoKKyAqIENvcHlyaWdodCDCqSAyMDE4LTIwMjAgSW50ZWwgQ29y
cG9yYXRpb24KKyAqLworCisjaW5jbHVkZSA8bGludXgvY2xrLmg+CisjaW5jbHVkZSA8bGludXgv
b2ZfZ3JhcGguaD4KKyNpbmNsdWRlIDxsaW51eC9wbGF0Zm9ybV9kYXRhL3NpbXBsZWZiLmg+Cisj
aW5jbHVkZSA8dmlkZW8vdmlkZW9tb2RlLmg+CisjaW5jbHVkZSA8ZHJtL2RybV9hdG9taWMuaD4K
KyNpbmNsdWRlIDxkcm0vZHJtX2F0b21pY19oZWxwZXIuaD4KKyNpbmNsdWRlIDxkcm0vZHJtX2Ny
dGMuaD4KKyNpbmNsdWRlIDxkcm0vZHJtX2NydGNfaGVscGVyLmg+CisjaW5jbHVkZSA8ZHJtL2Ry
bV9mYl9jbWFfaGVscGVyLmg+CisjaW5jbHVkZSA8ZHJtL2RybV9mYl9oZWxwZXIuaD4KKyNpbmNs
dWRlIDxkcm0vZHJtX2dlbV9jbWFfaGVscGVyLmg+CisjaW5jbHVkZSA8ZHJtL2RybV9vZi5oPgor
I2luY2x1ZGUgPGRybS9kcm1fcGxhbmVfaGVscGVyLmg+CisjaW5jbHVkZSAia21iX2NydGMuaCIK
KyNpbmNsdWRlICJrbWJfZHJ2LmgiCisjaW5jbHVkZSAia21iX3BsYW5lLmgiCisjaW5jbHVkZSAi
a21iX3JlZ3MuaCIKKyNpbmNsdWRlICJrbWJfZHNpLmgiCisKK3N0YXRpYyB2b2lkIGttYl9jcnRj
X2NsZWFudXAoc3RydWN0IGRybV9jcnRjICpjcnRjKQoreworCXN0cnVjdCBrbWJfY3J0YyAqbF9j
cnRjID0gdG9fa21iX2NydGMoY3J0Yyk7CisKKwlkcm1fY3J0Y19jbGVhbnVwKGNydGMpOworCWtm
cmVlKGxfY3J0Yyk7Cit9CisKK3N0YXRpYyBpbnQga21iX2NydGNfZW5hYmxlX3ZibGFuayhzdHJ1
Y3QgZHJtX2NydGMgKmNydGMpCit7CisJc3RydWN0IGRybV9kZXZpY2UgKmRldiA9IGNydGMtPmRl
djsKKwlzdHJ1Y3Qga21iX2RybV9wcml2YXRlICpkZXZfcCA9IHRvX2ttYihkZXYpOworCisJLypj
bGVhciBpbnRlcnJ1cHQgKi8KKwlrbWJfd3JpdGVfbGNkKGRldl9wLCBMQ0RfSU5UX0NMRUFSLCBM
Q0RfSU5UX1ZFUlRfQ09NUCk7CisJLypzZXQgd2hpY2ggaW50ZXJ2YWwgdG8gZ2VuZXJhdGUgdmVy
dGljYWwgaW50ZXJydXB0ICovCisJa21iX3dyaXRlX2xjZChkZXZfcCwgTENEX1ZTVEFUVVNfQ09N
UEFSRSwKKwkJICAgICAgTENEX1ZTVEFUVVNfQ09NUEFSRV9WU1lOQyk7CisJLyogZW5hYmxlIHZl
cnRpY2FsIGludGVycnVwdCAqLworCWttYl9zZXRfYml0bWFza19sY2QoZGV2X3AsIExDRF9JTlRf
RU5BQkxFLAorCQkJICAgIExDRF9JTlRfVkVSVF9DT01QKTsKKwlyZXR1cm4gMDsKK30KKworc3Rh
dGljIHZvaWQga21iX2NydGNfZGlzYWJsZV92Ymxhbmsoc3RydWN0IGRybV9jcnRjICpjcnRjKQor
eworCXN0cnVjdCBkcm1fZGV2aWNlICpkZXYgPSBjcnRjLT5kZXY7CisJc3RydWN0IGttYl9kcm1f
cHJpdmF0ZSAqZGV2X3AgPSB0b19rbWIoZGV2KTsKKworCS8qY2xlYXIgaW50ZXJydXB0ICovCisJ
a21iX3dyaXRlX2xjZChkZXZfcCwgTENEX0lOVF9DTEVBUiwgTENEX0lOVF9WRVJUX0NPTVApOwor
CS8qIGRpc2FibGUgdmVydGljYWwgaW50ZXJydXB0ICovCisJa21iX2Nscl9iaXRtYXNrX2xjZChk
ZXZfcCwgTENEX0lOVF9FTkFCTEUsCisJCQlMQ0RfSU5UX1ZFUlRfQ09NUCk7Cit9CisKK3N0YXRp
YyBjb25zdCBzdHJ1Y3QgZHJtX2NydGNfZnVuY3Mga21iX2NydGNfZnVuY3MgPSB7CisJLmRlc3Ry
b3kgPSBrbWJfY3J0Y19jbGVhbnVwLAorCS5zZXRfY29uZmlnID0gZHJtX2F0b21pY19oZWxwZXJf
c2V0X2NvbmZpZywKKwkucGFnZV9mbGlwID0gZHJtX2F0b21pY19oZWxwZXJfcGFnZV9mbGlwLAor
CS5yZXNldCA9IGRybV9hdG9taWNfaGVscGVyX2NydGNfcmVzZXQsCisJLmF0b21pY19kdXBsaWNh
dGVfc3RhdGUgPSBkcm1fYXRvbWljX2hlbHBlcl9jcnRjX2R1cGxpY2F0ZV9zdGF0ZSwKKwkuYXRv
bWljX2Rlc3Ryb3lfc3RhdGUgPSBkcm1fYXRvbWljX2hlbHBlcl9jcnRjX2Rlc3Ryb3lfc3RhdGUs
CisJLmVuYWJsZV92YmxhbmsgPSBrbWJfY3J0Y19lbmFibGVfdmJsYW5rLAorCS5kaXNhYmxlX3Zi
bGFuayA9IGttYl9jcnRjX2Rpc2FibGVfdmJsYW5rLAorfTsKKworc3RhdGljIHZvaWQga21iX2Ny
dGNfbW9kZV9zZXRfbm9mYihzdHJ1Y3QgZHJtX2NydGMgKmNydGMpCit7CisJc3RydWN0IGRybV9k
ZXZpY2UgKmRldiA9IGNydGMtPmRldjsKKwlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbSA9ICZj
cnRjLT5zdGF0ZS0+YWRqdXN0ZWRfbW9kZTsKKwlzdHJ1Y3QgdmlkZW9tb2RlIHZtOworCWludCB2
c3luY19zdGFydF9vZmZzZXQ7CisJaW50IHZzeW5jX2VuZF9vZmZzZXQ7CisJc3RydWN0IGttYl9k
cm1fcHJpdmF0ZSAqZGV2X3AgPSB0b19rbWIoZGV2KTsKKwl1bnNpZ25lZCBpbnQgdmFsID0gMDsK
KworCS8qIGluaXRpYWxpemUgbWlwaSAqLworCWttYl9kc2lfaHdfaW5pdChkZXYsIG0pOworCWRy
bV9pbmZvKGRldiwKKwkJInZmcD0gJWQgdmJwPSAlZCB2c3ljX2xlbj0lZCBoZnA9JWQgaGJwPSVk
IGhzeW5jX2xlbj0lZFxuIiwKKwkJIG0tPmNydGNfdnN5bmNfc3RhcnQgLSBtLT5jcnRjX3ZkaXNw
bGF5LAorCQkgbS0+Y3J0Y192dG90YWwgLSBtLT5jcnRjX3ZzeW5jX2VuZCwKKwkJIG0tPmNydGNf
dnN5bmNfZW5kIC0gbS0+Y3J0Y192c3luY19zdGFydCwKKwkJIG0tPmNydGNfaHN5bmNfc3RhcnQg
LSBtLT5jcnRjX2hkaXNwbGF5LAorCQkgbS0+Y3J0Y19odG90YWwgLSBtLT5jcnRjX2hzeW5jX2Vu
ZCwKKwkJIG0tPmNydGNfaHN5bmNfZW5kIC0gbS0+Y3J0Y19oc3luY19zdGFydCk7CisJdmFsID0g
a21iX3JlYWRfbGNkKGRldl9wLCBMQ0RfSU5UX0VOQUJMRSk7CisJa21iX2Nscl9iaXRtYXNrX2xj
ZChkZXZfcCwgTENEX0lOVF9FTkFCTEUsIHZhbCk7CisJa21iX3NldF9iaXRtYXNrX2xjZChkZXZf
cCwgTENEX0lOVF9DTEVBUiwgfjB4MCk7CisJdm0udmZyb250X3BvcmNoID0gMjsKKwl2bS52YmFj
a19wb3JjaCA9IDI7CisJdm0udnN5bmNfbGVuID0gODsKKwl2bS5oZnJvbnRfcG9yY2ggPSAwOwor
CXZtLmhiYWNrX3BvcmNoID0gMDsKKwl2bS5oc3luY19sZW4gPSAyODsKKworCXZzeW5jX3N0YXJ0
X29mZnNldCA9ICBtLT5jcnRjX3ZzeW5jX3N0YXJ0IC0gIG0tPmNydGNfaHN5bmNfc3RhcnQ7CisJ
dnN5bmNfZW5kX29mZnNldCA9ICBtLT5jcnRjX3ZzeW5jX2VuZCAtIG0tPmNydGNfaHN5bmNfZW5k
OworCisJZHJtX2RiZyhkZXYsICIlcyA6ICVkYWN0aXZlIGhlaWdodD0gJWQgdmJwPSVkIHZmcD0l
ZCB2c3luYy13PSVkIGgtYWN0aXZlPSVkIGgtYnA9JWQgaC1mcD0lZCBoeXNuYy1sPSVkIiwKKwkJ
CV9fZnVuY19fLCBfX0xJTkVfXywKKwkJCW0tPmNydGNfdmRpc3BsYXksIHZtLnZiYWNrX3BvcmNo
LCB2bS52ZnJvbnRfcG9yY2gsCisJCQl2bS52c3luY19sZW4sIG0tPmNydGNfaGRpc3BsYXksIHZt
LmhiYWNrX3BvcmNoLAorCQkJdm0uaGZyb250X3BvcmNoLCB2bS5oc3luY19sZW4pOworCWttYl93
cml0ZV9sY2QoZGV2X3AsIExDRF9WX0FDVElWRUhFSUdIVCwKKwkJCW0tPmNydGNfdmRpc3BsYXkg
LSAxKTsKKwlrbWJfd3JpdGVfbGNkKGRldl9wLCBMQ0RfVl9CQUNLUE9SQ0gsIHZtLnZiYWNrX3Bv
cmNoKTsKKwlrbWJfd3JpdGVfbGNkKGRldl9wLCBMQ0RfVl9GUk9OVFBPUkNILCB2bS52ZnJvbnRf
cG9yY2gpOworCWttYl93cml0ZV9sY2QoZGV2X3AsIExDRF9WU1lOQ19XSURUSCwgdm0udnN5bmNf
bGVuIC0gMSk7CisJa21iX3dyaXRlX2xjZChkZXZfcCwgTENEX0hfQUNUSVZFV0lEVEgsCisJCQlt
LT5jcnRjX2hkaXNwbGF5IC0gMSk7CisJa21iX3dyaXRlX2xjZChkZXZfcCwgTENEX0hfQkFDS1BP
UkNILCB2bS5oYmFja19wb3JjaCk7CisJa21iX3dyaXRlX2xjZChkZXZfcCwgTENEX0hfRlJPTlRQ
T1JDSCwgdm0uaGZyb250X3BvcmNoKTsKKwlrbWJfd3JpdGVfbGNkKGRldl9wLCBMQ0RfSFNZTkNf
V0lEVEgsIHZtLmhzeW5jX2xlbiAtIDEpOworCS8qdGhpcyBpcyBoYXJkY29kZWQgYXMgMCBpbiB0
aGUgTXlyaWFkeCBjb2RlICovCisJa21iX3dyaXRlX2xjZChkZXZfcCwgTENEX1ZTWU5DX1NUQVJU
LCAwKTsKKwlrbWJfd3JpdGVfbGNkKGRldl9wLCBMQ0RfVlNZTkNfRU5ELCAwKTsKKwkvKiBiYWNr
IGdyb3VuZCBjb2xvciAqLworCWttYl93cml0ZV9sY2QoZGV2X3AsIExDRF9CR19DT0xPVVJfTFMs
IDB4NCk7CisJaWYgKG0tPmZsYWdzID09IERSTV9NT0RFX0ZMQUdfSU5URVJMQUNFKSB7CisJCWtt
Yl93cml0ZV9sY2QoZGV2X3AsCisJCQkgICAgICBMQ0RfVlNZTkNfV0lEVEhfRVZFTiwgdm0udnN5
bmNfbGVuIC0gMSk7CisJCWttYl93cml0ZV9sY2QoZGV2X3AsCisJCQkJTENEX1ZfQkFDS1BPUkNI
X0VWRU4sIHZtLnZiYWNrX3BvcmNoKTsKKwkJa21iX3dyaXRlX2xjZChkZXZfcCwKKwkJCQlMQ0Rf
Vl9GUk9OVFBPUkNIX0VWRU4sIHZtLnZmcm9udF9wb3JjaCk7CisJCWttYl93cml0ZV9sY2QoZGV2
X3AsIExDRF9WX0FDVElWRUhFSUdIVF9FVkVOLAorCQkJICAgICAgbS0+Y3J0Y192ZGlzcGxheSAt
IDEpOworCQkvKnRoaXMgaXMgaGFyZGNvZGVkIGFzIDEwIGluIHRoZSBNeXJpYWR4IGNvZGUgKi8K
KwkJa21iX3dyaXRlX2xjZChkZXZfcCwgTENEX1ZTWU5DX1NUQVJUX0VWRU4sIDEwKTsKKwkJa21i
X3dyaXRlX2xjZChkZXZfcCwgTENEX1ZTWU5DX0VORF9FVkVOLCAxMCk7CisJfQorCWttYl93cml0
ZV9sY2QoZGV2X3AsIExDRF9USU1JTkdfR0VOX1RSSUcsIEVOQUJMRSk7CisJa21iX3NldF9iaXRt
YXNrX2xjZChkZXZfcCwgTENEX0NPTlRST0wsIExDRF9DVFJMX0VOQUJMRSk7CisJa21iX3NldF9i
aXRtYXNrX2xjZChkZXZfcCwgTENEX0lOVF9FTkFCTEUsIHZhbCk7CisJLyogVEJEICovCisJLyog
c2V0IGNsb2NrcyBoZXJlICovCit9CisKK3N0YXRpYyB2b2lkIGttYl9jcnRjX2F0b21pY19lbmFi
bGUoc3RydWN0IGRybV9jcnRjICpjcnRjLAorCQkJCSAgIHN0cnVjdCBkcm1fY3J0Y19zdGF0ZSAq
b2xkX3N0YXRlKQoreworCXN0cnVjdCBrbWJfZHJtX3ByaXZhdGUgKmxjZCA9IGNydGNfdG9fa21i
X3ByaXYoY3J0Yyk7CisKKwljbGtfcHJlcGFyZV9lbmFibGUobGNkLT5jbGspOworCWttYl9jcnRj
X21vZGVfc2V0X25vZmIoY3J0Yyk7CisJZHJtX2NydGNfdmJsYW5rX29uKGNydGMpOworfQorCitz
dGF0aWMgdm9pZCBrbWJfY3J0Y19hdG9taWNfZGlzYWJsZShzdHJ1Y3QgZHJtX2NydGMgKmNydGMs
CisJCQkJICAgIHN0cnVjdCBkcm1fY3J0Y19zdGF0ZSAqb2xkX3N0YXRlKQoreworCXN0cnVjdCBr
bWJfZHJtX3ByaXZhdGUgKmxjZCA9IGNydGNfdG9fa21iX3ByaXYoY3J0Yyk7CisKKwkvKiBhbHdh
eXMgZGlzYWJsZSBwbGFuZXMgb24gdGhlIENSVEMgdGhhdCBpcyBiZWluZyB0dXJuZWQgb2ZmICov
CisJZHJtX2F0b21pY19oZWxwZXJfZGlzYWJsZV9wbGFuZXNfb25fY3J0YyhvbGRfc3RhdGUsIGZh
bHNlKTsKKworCWRybV9jcnRjX3ZibGFua19vZmYoY3J0Yyk7CisJY2xrX2Rpc2FibGVfdW5wcmVw
YXJlKGxjZC0+Y2xrKTsKK30KKworc3RhdGljIHZvaWQga21iX2NydGNfYXRvbWljX2JlZ2luKHN0
cnVjdCBkcm1fY3J0YyAqY3J0YywKKwkJCQkgIHN0cnVjdCBkcm1fY3J0Y19zdGF0ZSAqc3RhdGUp
Cit7CisJc3RydWN0IGRybV9kZXZpY2UgKmRldiA9IGNydGMtPmRldjsKKwlzdHJ1Y3Qga21iX2Ry
bV9wcml2YXRlICpkZXZfcCA9IHRvX2ttYihkZXYpOworCisJa21iX2Nscl9iaXRtYXNrX2xjZChk
ZXZfcCwgTENEX0lOVF9FTkFCTEUsCisJCQkgICAgTENEX0lOVF9WRVJUX0NPTVApOworfQorCitz
dGF0aWMgdm9pZCBrbWJfY3J0Y19hdG9taWNfZmx1c2goc3RydWN0IGRybV9jcnRjICpjcnRjLAor
CQkJCSAgc3RydWN0IGRybV9jcnRjX3N0YXRlICpzdGF0ZSkKK3sKKwlzdHJ1Y3QgZHJtX2Rldmlj
ZSAqZGV2ID0gY3J0Yy0+ZGV2OworCXN0cnVjdCBrbWJfZHJtX3ByaXZhdGUgKmRldl9wID0gdG9f
a21iKGRldik7CisKKwlrbWJfc2V0X2JpdG1hc2tfbGNkKGRldl9wLCBMQ0RfSU5UX0VOQUJMRSwK
KwkJCSAgICBMQ0RfSU5UX1ZFUlRfQ09NUCk7CisKKwlzcGluX2xvY2tfaXJxKCZjcnRjLT5kZXYt
PmV2ZW50X2xvY2spOworCWlmIChjcnRjLT5zdGF0ZS0+ZXZlbnQpCisJCWRybV9jcnRjX3NlbmRf
dmJsYW5rX2V2ZW50KGNydGMsIGNydGMtPnN0YXRlLT5ldmVudCk7CisJY3J0Yy0+c3RhdGUtPmV2
ZW50ID0gTlVMTDsKKwlzcGluX3VubG9ja19pcnEoJmNydGMtPmRldi0+ZXZlbnRfbG9jayk7Cit9
CisKK3N0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2NydGNfaGVscGVyX2Z1bmNzIGttYl9jcnRjX2hl
bHBlcl9mdW5jcyA9IHsKKwkuYXRvbWljX2JlZ2luID0ga21iX2NydGNfYXRvbWljX2JlZ2luLAor
CS5hdG9taWNfZW5hYmxlID0ga21iX2NydGNfYXRvbWljX2VuYWJsZSwKKwkuYXRvbWljX2Rpc2Fi
bGUgPSBrbWJfY3J0Y19hdG9taWNfZGlzYWJsZSwKKwkuYXRvbWljX2ZsdXNoID0ga21iX2NydGNf
YXRvbWljX2ZsdXNoLAorfTsKKworaW50IGttYl9zZXR1cF9jcnRjKHN0cnVjdCBkcm1fZGV2aWNl
ICpkcm0pCit7CisJc3RydWN0IGttYl9kcm1fcHJpdmF0ZSAqbGNkID0gdG9fa21iKGRybSk7CisJ
c3RydWN0IGttYl9wbGFuZSAqcHJpbWFyeTsKKwlpbnQgcmV0OworCisJcHJpbWFyeSA9IGttYl9w
bGFuZV9pbml0KGRybSk7CisJaWYgKElTX0VSUihwcmltYXJ5KSkKKwkJcmV0dXJuIFBUUl9FUlIo
cHJpbWFyeSk7CisKKwlyZXQgPSBkcm1fY3J0Y19pbml0X3dpdGhfcGxhbmVzKGRybSwgJmxjZC0+
Y3J0YywgJnByaW1hcnktPmJhc2VfcGxhbmUsCisJCQkJCU5VTEwsICZrbWJfY3J0Y19mdW5jcywg
TlVMTCk7CisJaWYgKHJldCkgeworCQlrbWJfcGxhbmVfZGVzdHJveSgmcHJpbWFyeS0+YmFzZV9w
bGFuZSk7CisJCXJldHVybiByZXQ7CisJfQorCisJZHJtX2NydGNfaGVscGVyX2FkZCgmbGNkLT5j
cnRjLCAma21iX2NydGNfaGVscGVyX2Z1bmNzKTsKKwlyZXR1cm4gMDsKK30KZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9rbWIva21iX2NydGMuaCBiL2RyaXZlcnMvZ3B1L2RybS9rbWIva21i
X2NydGMuaApuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwLi41MWEwYTM5Ci0tLSAv
ZGV2L251bGwKKysrIGIvZHJpdmVycy9ncHUvZHJtL2ttYi9rbWJfY3J0Yy5oCkBAIC0wLDAgKzEs
NDEgQEAKKy8qIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wLW9ubHkKKyAqCisgKiBD
b3B5cmlnaHQgwqkgMjAxOC0yMDIwIEludGVsIENvcnBvcmF0aW9uCisgKi8KKworI2lmbmRlZiBf
X0tNQl9DUlRDX0hfXworI2RlZmluZSBfX0tNQl9DUlRDX0hfXworCisjaW5jbHVkZSA8bGludXgv
Y2xrLmg+CisjaW5jbHVkZSA8bGludXgvb2ZfZ3JhcGguaD4KKyNpbmNsdWRlIDxsaW51eC9wbGF0
Zm9ybV9kYXRhL3NpbXBsZWZiLmg+CisjaW5jbHVkZSA8dmlkZW8vdmlkZW9tb2RlLmg+CisjaW5j
bHVkZSA8ZHJtL2RybV9kZWJ1Z2ZzLmg+CisjaW5jbHVkZSA8ZHJtL2RybV9kZXZpY2UuaD4KKyNp
bmNsdWRlIDxkcm0vZHJtX2Rydi5oPgorI2luY2x1ZGUgPGRybS9kcm1fZmJfaGVscGVyLmg+Cisj
aW5jbHVkZSA8ZHJtL2RybV9maWxlLmg+CisjaW5jbHVkZSA8ZHJtL2RybV9mb3VyY2MuaD4KKyNp
bmNsdWRlIDxkcm0vZHJtX3ByaW50Lmg+CisjaW5jbHVkZSA8ZHJtL2RybV9wcm9iZV9oZWxwZXIu
aD4KKyNpbmNsdWRlIDxkcm0vZHJtX3ZibGFuay5oPgorI2luY2x1ZGUgPGxpbnV4L211dGV4Lmg+
CisjaW5jbHVkZSA8bGludXgvcGxhdGZvcm1fZGV2aWNlLmg+CisjaW5jbHVkZSA8bGludXgvd2Fp
dC5oPgorI2luY2x1ZGUgImttYl9kcnYuaCIKKworI2RlZmluZSB0b19rbWJfY3J0Y19zdGF0ZSh4
KSBjb250YWluZXJfb2YoeCwgc3RydWN0IGttYl9jcnRjX3N0YXRlLCBjcnRjX2Jhc2UpCisjZGVm
aW5lIHRvX2ttYl9jcnRjKHgpIGNvbnRhaW5lcl9vZih4LCBzdHJ1Y3Qga21iX2NydGMsIGNydGNf
YmFzZSkKKworc3RydWN0IGttYl9jcnRjIHsKKwlzdHJ1Y3QgZHJtX2NydGMgY3J0Y19iYXNlOwor
CXN0cnVjdCBrbWJfZHJtX3ByaXZhdGUga21iX2RldjsKK307CisKK3N0cnVjdCBrbWJfY3J0Y19z
dGF0ZSB7CisJc3RydWN0IGRybV9jcnRjX3N0YXRlIGNydGNfYmFzZTsKK307CisKK2V4dGVybiB2
b2lkIGttYl9wbGFuZV9kZXN0cm95KHN0cnVjdCBkcm1fcGxhbmUgKnBsYW5lKTsKK2V4dGVybiBz
dHJ1Y3Qga21iX3BsYW5lICprbWJfcGxhbmVfaW5pdChzdHJ1Y3QgZHJtX2RldmljZSAqZHJtKTsK
KyNlbmRpZiAvKiBfX0tNQl9DUlRDX0hfXyAqLwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2ttYi9rbWJfZHJ2LmMgYi9kcml2ZXJzL2dwdS9kcm0va21iL2ttYl9kcnYuYwpuZXcgZmlsZSBt
b2RlIDEwMDY0NAppbmRleCAwMDAwMDAwLi4xNTlmMzZhCi0tLSAvZGV2L251bGwKKysrIGIvZHJp
dmVycy9ncHUvZHJtL2ttYi9rbWJfZHJ2LmMKQEAgLTAsMCArMSw3NTkgQEAKKy8vIFNQRFgtTGlj
ZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wLW9ubHkKKy8qCisgKiBDb3B5cmlnaHQgwqkgMjAxOC0y
MDIwIEludGVsIENvcnBvcmF0aW9uCisgKi8KKworI2luY2x1ZGUgPGxpbnV4L2Nsay5oPgorI2lu
Y2x1ZGUgPGxpbnV4L2NvbnNvbGUuaD4KKyNpbmNsdWRlIDxsaW51eC9saXN0Lmg+CisjaW5jbHVk
ZSA8bGludXgvbW9kdWxlLmg+CisjaW5jbHVkZSA8bGludXgvb2ZfZ3JhcGguaD4KKyNpbmNsdWRl
IDxsaW51eC9vZl9yZXNlcnZlZF9tZW0uaD4KKyNpbmNsdWRlIDxsaW51eC9wbV9ydW50aW1lLmg+
CisjaW5jbHVkZSA8bGludXgvc3BpbmxvY2suaD4KKyNpbmNsdWRlIDxkcm0vZHJtLmg+CisjaW5j
bHVkZSA8ZHJtL2RybV9hdG9taWMuaD4KKyNpbmNsdWRlIDxkcm0vZHJtX2F0b21pY19oZWxwZXIu
aD4KKyNpbmNsdWRlIDxkcm0vZHJtX2NydGMuaD4KKyNpbmNsdWRlIDxkcm0vZHJtX2ZiX2NtYV9o
ZWxwZXIuaD4KKyNpbmNsdWRlIDxkcm0vZHJtX2ZiX2hlbHBlci5oPgorI2luY2x1ZGUgPGRybS9k
cm1fZ2VtX2NtYV9oZWxwZXIuaD4KKyNpbmNsdWRlIDxkcm0vZHJtX2dlbV9mcmFtZWJ1ZmZlcl9o
ZWxwZXIuaD4KKyNpbmNsdWRlIDxkcm0vZHJtX2lvY3RsLmg+CisjaW5jbHVkZSA8ZHJtL2RybV9p
cnEuaD4KKyNpbmNsdWRlIDxkcm0vZHJtX29mLmg+CisjaW5jbHVkZSA8ZHJtL2RybV9wcm9iZV9o
ZWxwZXIuaD4KKyNpbmNsdWRlICJrbWJfY3J0Yy5oIgorI2luY2x1ZGUgImttYl9kcnYuaCIKKyNp
bmNsdWRlICJrbWJfZHNpLmgiCisjaW5jbHVkZSAia21iX3BsYW5lLmgiCisjaW5jbHVkZSAia21i
X3JlZ3MuaCIKKworLy8jZGVmaW5lIERFQlVHCisvKiBJUlEgaGFuZGxlciAqLworc3RhdGljIGly
cXJldHVybl90IGttYl9pc3IoaW50IGlycSwgdm9pZCAqYXJnKTsKKworaW50IGttYl91bmRlcl9m
bG93ID0gMCwga21iX2ZsdXNoX2RvbmUgPSAwLCBsYXllcl9ubyA9IDA7CitzdGF0aWMgc3RydWN0
IGNsayAqY2xrX2xjZDsKK3N0YXRpYyBzdHJ1Y3QgY2xrICpjbGtfbWlwaTsKK3N0YXRpYyBzdHJ1
Y3QgY2xrICpjbGtfbWlwaV9lY2ZnOworc3RhdGljIHN0cnVjdCBjbGsgKmNsa19taXBpX2NmZzsK
K3N0YXRpYyBzdHJ1Y3QgY2xrICpjbGtfcGxsMDsKKworc3RydWN0IGRybV9icmlkZ2UgKmFkdl9i
cmlkZ2U7CisKK2ludCBrbWJfZGlzcGxheV9jbGtfZW5hYmxlKHZvaWQpCit7CisJaW50IHJldCA9
IDA7CisKKwlyZXQgPSBjbGtfcHJlcGFyZV9lbmFibGUoY2xrX2xjZCk7CisJaWYgKHJldCkgewor
CQlEUk1fRVJST1IoIkZhaWxlZCB0byBlbmFibGUgTENEIGNsb2NrOiAlZFxuIiwgcmV0KTsKKwkJ
cmV0dXJuIHJldDsKKwl9CisKKwlyZXQgPSBjbGtfcHJlcGFyZV9lbmFibGUoY2xrX21pcGkpOwor
CWlmIChyZXQpIHsKKwkJRFJNX0VSUk9SKCJGYWlsZWQgdG8gZW5hYmxlIE1JUEkgY2xvY2s6ICVk
XG4iLCByZXQpOworCQlyZXR1cm4gcmV0OworCX0KKworCXJldCA9IGNsa19wcmVwYXJlX2VuYWJs
ZShjbGtfbWlwaV9lY2ZnKTsKKwlpZiAocmV0KSB7CisJCURSTV9FUlJPUigiRmFpbGVkIHRvIGVu
YWJsZSBNSVBJX0VDRkcgY2xvY2s6ICVkXG4iLCByZXQpOworCQlyZXR1cm4gcmV0OworCX0KKwor
CXJldCA9IGNsa19wcmVwYXJlX2VuYWJsZShjbGtfbWlwaV9jZmcpOworCWlmIChyZXQpIHsKKwkJ
RFJNX0VSUk9SKCJGYWlsZWQgdG8gZW5hYmxlIE1JUElfQ0ZHIGNsb2NrOiAlZFxuIiwgcmV0KTsK
KwkJcmV0dXJuIHJldDsKKwl9CisJRFJNX0lORk8oIlNVQ0NFU1MgOiBlbmFibGVkIExDRCBNSVBJ
IGNsb2Nrc1xuIik7CisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyBpbnQga21iX2Rpc3BsYXlfY2xr
X2Rpc2FibGUodm9pZCkKK3sKKwlpZiAoY2xrX2xjZCkKKwkJY2xrX2Rpc2FibGVfdW5wcmVwYXJl
KGNsa19sY2QpOworCWlmIChjbGtfbWlwaSkKKwkJY2xrX2Rpc2FibGVfdW5wcmVwYXJlKGNsa19t
aXBpKTsKKwlpZiAoY2xrX21pcGlfZWNmZykKKwkJY2xrX2Rpc2FibGVfdW5wcmVwYXJlKGNsa19t
aXBpX2VjZmcpOworCWlmIChjbGtfbWlwaV9jZmcpCisJCWNsa19kaXNhYmxlX3VucHJlcGFyZShj
bGtfbWlwaV9jZmcpOworCXJldHVybiAwOworfQorCitzdGF0aWMgdm9pZCBfX2lvbWVtICprbWJf
bWFwX21taW8oc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldiwgY2hhciAqbmFtZSkKK3sKKwlz
dHJ1Y3QgcmVzb3VyY2UgKnJlczsKKwl1MzIgc2l6ZTsKKwl2b2lkIF9faW9tZW0gKm1lbTsKKwor
CXJlcyA9IHBsYXRmb3JtX2dldF9yZXNvdXJjZV9ieW5hbWUocGRldiwgSU9SRVNPVVJDRV9NRU0s
IG5hbWUpOworCWlmICghcmVzKSB7CisJCURSTV9FUlJPUigiZmFpbGVkIHRvIGdldCByZXNvdXJj
ZSBmb3IgJXNcbiIsIG5hbWUpOworCQlyZXR1cm4gRVJSX1BUUigtRU5PTUVNKTsKKwl9CisJc2l6
ZSA9IHJlc291cmNlX3NpemUocmVzKTsKKwlpZiAoIXJlcXVlc3RfbWVtX3JlZ2lvbihyZXMtPnN0
YXJ0LCBzaXplLCBuYW1lKSkgeworCQlEUk1fRVJST1IoImZhaWxlZCB0byByZXNlcnZlICVzIHJl
Z2lzdGVyc1xuIiwgbmFtZSk7CisJCXJldHVybiBFUlJfUFRSKC1FTk9NRU0pOworCX0KKwltZW0g
PSBpb3JlbWFwKHJlcy0+c3RhcnQsIHNpemUpOworCWlmICghbWVtKSB7CisJCURSTV9FUlJPUigi
ZmFpbGVkIHRvIGlvcmVtYXAgJXMgcmVnaXN0ZXJzXG4iLCBuYW1lKTsKKwkJcmVsZWFzZV9tZW1f
cmVnaW9uKHJlcy0+c3RhcnQsIHNpemUpOworCQlyZXR1cm4gRVJSX1BUUigtRU5PTUVNKTsKKwl9
CisJcmV0dXJuIG1lbTsKK30KKworLy8jZGVmaW5lIElDQU1fTENEX1FPUworc3RhdGljIGludCBr
bWJfbG9hZChzdHJ1Y3QgZHJtX2RldmljZSAqZHJtLCB1bnNpZ25lZCBsb25nIGZsYWdzKQorewor
CXN0cnVjdCBrbWJfZHJtX3ByaXZhdGUgKmRldl9wID0gdG9fa21iKGRybSk7CisJc3RydWN0IHBs
YXRmb3JtX2RldmljZSAqcGRldiA9IHRvX3BsYXRmb3JtX2RldmljZShkcm0tPmRldik7CisJaW50
IGlycV9sY2Q7CisJaW50IHJldCA9IDA7CisJdW5zaWduZWQgbG9uZyBjbGs7CisjaWZkZWYgSUNB
TV9MQ0RfUU9TCisJaW50IHZhbCA9IDA7CisjZW5kaWYKKwlzdHJ1Y3QgZGV2aWNlX25vZGUgKnZw
dV9kZXY7CisKKwkvKiBNYXAgTUlQSSBNTUlPIHJlZ2lzdGVycyAqLworCWRldl9wLT5taXBpX21t
aW8gPSBrbWJfbWFwX21taW8ocGRldiwgIm1pcGlfcmVncyIpOworCWlmIChJU19FUlIoZGV2X3At
Pm1pcGlfbW1pbykpIHsKKwkJZHJtX2VycigmZGV2X3AtPmRybSwgImZhaWxlZCB0byBtYXAgTUlQ
SSByZWdpc3RlcnNcbiIpOworCQlpb3VubWFwKGRldl9wLT5sY2RfbW1pbyk7CisJCXJldHVybiAt
RU5PTUVNOworCX0KKworCS8qIE1hcCBMQ0QgTU1JTyByZWdpc3RlcnMgKi8KKwlkZXZfcC0+bGNk
X21taW8gPSBrbWJfbWFwX21taW8ocGRldiwgImxjZF9yZWdzIik7CisJaWYgKElTX0VSUihkZXZf
cC0+bGNkX21taW8pKSB7CisJCWRybV9lcnIoJmRldl9wLT5kcm0sICJmYWlsZWQgdG8gbWFwIExD
RCByZWdpc3RlcnNcbiIpOworCQlyZXR1cm4gLUVOT01FTTsKKwl9CisKKwkvKiBUaGlzIGlzIG9u
bHkgZm9yIE1JUElfVFhfTVNTX0xDRF9NSVBJX0NGRyBhbmQKKwkgKiBNU1NfQ0FNX0NMS19DVFJM
IHJlZ2lzdGVyCisJICovCisJZGV2X3AtPm1zc2NhbV9tbWlvID0ga21iX21hcF9tbWlvKHBkZXYs
ICJtc3NjYW1fcmVncyIpOworCWlmIChJU19FUlIoZGV2X3AtPm1zc2NhbV9tbWlvKSkgeworCQlk
cm1fZXJyKCZkZXZfcC0+ZHJtLCAiZmFpbGVkIHRvIG1hcCBNU1NDQU0gcmVnaXN0ZXJzXG4iKTsK
KwkJaW91bm1hcChkZXZfcC0+bGNkX21taW8pOworCQlpb3VubWFwKGRldl9wLT5taXBpX21taW8p
OworCQlyZXR1cm4gLUVOT01FTTsKKwl9CisKKwlpZiAoSVNfRVJSKGRldl9wLT5tc3NjYW1fbW1p
bykpIHsKKwkJZHJtX2VycigmZGV2X3AtPmRybSwgImZhaWxlZCB0byBtYXAgTVNTQ0FNIHJlZ2lz
dGVyc1xuIik7CisJCWlvdW5tYXAoZGV2X3AtPmxjZF9tbWlvKTsKKwkJaW91bm1hcChkZXZfcC0+
bWlwaV9tbWlvKTsKKwkJcmV0dXJuIC1FTk9NRU07CisJfQorI2lmZGVmIElDQU1fTENEX1FPUwor
CWRldl9wLT5pY2FtbGNkX21taW8gPSBpb3JlbWFwX25vY2FjaGUoSUNBTV9NTUlPLCBJQ0FNX01N
SU9fU0laRSk7CisJaWYgKElTX0VSUihkZXZfcC0+aWNhbWxjZF9tbWlvKSkgeworCQlkcm1fZXJy
KCZkZXZfcC0+ZHJtLCAiZmFpbGVkIHRvIG1hcCBJQ0FNIHJlZ2lzdGVyc1xuIik7CisJCXJldHVy
biAtRU5PTUVNOworCX0KKyNlbmRpZgorCS8qIEVuYWJsZSBkaXNwbGF5IGNsb2NrcyAqLworCWNs
a19sY2QgPSBjbGtfZ2V0KCZwZGV2LT5kZXYsICJjbGtfbGNkIik7CisJaWYgKElTX0VSUihjbGtf
bGNkKSkgeworCQlkcm1fZXJyKCZkZXZfcC0+ZHJtLCAiY2xrX2dldCgpIGZhaWxlZCBjbGtfbGNk
XG4iKTsKKwkJZ290byBzZXR1cF9mYWlsOworCX0KKworCWNsa19taXBpID0gY2xrX2dldCgmcGRl
di0+ZGV2LCAiY2xrX21pcGkiKTsKKwlpZiAoSVNfRVJSKGNsa19taXBpKSkgeworCQlkcm1fZXJy
KCZkZXZfcC0+ZHJtLCAiY2xrX2dldCgpIGZhaWxlZCBjbGtfbWlwaVxuIik7CisJCWdvdG8gc2V0
dXBfZmFpbDsKKwl9CisKKwljbGtfbWlwaV9lY2ZnID0gY2xrX2dldCgmcGRldi0+ZGV2LCAiY2xr
X21pcGlfZWNmZyIpOworCWlmIChJU19FUlIoY2xrX21pcGlfZWNmZykpIHsKKwkJZHJtX2Vycigm
ZGV2X3AtPmRybSwgImNsa19nZXQoKSBmYWlsZWQgY2xrX21pcGlfZWNmZ1xuIik7CisJCWdvdG8g
c2V0dXBfZmFpbDsKKwl9CisKKwljbGtfbWlwaV9jZmcgPSBjbGtfZ2V0KCZwZGV2LT5kZXYsICJj
bGtfbWlwaV9jZmciKTsKKwlpZiAoSVNfRVJSKGNsa19taXBpX2NmZykpIHsKKwkJZHJtX2Vycigm
ZGV2X3AtPmRybSwgImNsa19nZXQoKSBmYWlsZWQgY2xrX21pcGlfY2ZnXG4iKTsKKwkJZ290byBz
ZXR1cF9mYWlsOworCX0KKwl2cHVfZGV2ID0gb2ZfZmluZF9ub2RlX2J5X3BhdGgoIi9zb2MvdnB1
LWlwYyIpOworCWNsa19wbGwwID0gb2ZfY2xrX2dldF9ieV9uYW1lKHZwdV9kZXYsICJwbGxfMF9v
dXRfMCIpOworCWlmIChJU19FUlIoY2xrX3BsbDApKSB7CisJCWRybV9lcnIoJmRldl9wLT5kcm0s
ICJjbGtfZ2V0KCkgZmFpbGVkIGNsa19wbGwwICIpOworCQlnb3RvIHNldHVwX2ZhaWw7CisJfQor
CWRldl9wLT5zeXNfY2xrX21oeiA9IGNsa19nZXRfcmF0ZShjbGtfcGxsMCkvMTAwMDAwMDsKKwlk
cm1faW5mbygmZGV2X3AtPmRybSwgInN5c3RlbSBjbGsgPSAlZCBNaHoiLCBkZXZfcC0+c3lzX2Ns
a19taHopOworCisJLyogU2V0IExDRCBjbG9jayB0byAyMDAgTWh6ICovCisJcmV0ID0gY2xrX3Nl
dF9yYXRlKGNsa19sY2QsIEtNQl9MQ0RfREVGQVVMVF9DTEspOworCWlmIChjbGtfZ2V0X3JhdGUo
Y2xrX2xjZCkgIT0gS01CX0xDRF9ERUZBVUxUX0NMSykgeworCQlkcm1fZXJyKCZkZXZfcC0+ZHJt
LCAiZmFpbGVkIHRvIHNldCB0byBjbGtfbGNkIHRvICVkXG4iLAorCQkJICBLTUJfTENEX0RFRkFV
TFRfQ0xLKTsKKwl9CisJZHJtX2luZm8oJmRldl9wLT5kcm0sICJjbGtfbGNkID0gJWxkXG4iLCBj
bGtfZ2V0X3JhdGUoY2xrX2xjZCkpOworCisJLyogU2V0IE1JUEkgY2xvY2sgdG8gMjQgTWh6ICov
CisJcmV0ID0gY2xrX3NldF9yYXRlKGNsa19taXBpLCBLTUJfTUlQSV9ERUZBVUxUX0NMSyk7CisJ
aWYgKGNsa19nZXRfcmF0ZShjbGtfbWlwaSkgIT0gS01CX01JUElfREVGQVVMVF9DTEspIHsKKwkJ
ZHJtX2VycigmZGV2X3AtPmRybSwgImZhaWxlZCB0byBzZXQgdG8gY2xrX21pcGkgdG8gJWRcbiIs
CisJCQkgIEtNQl9NSVBJX0RFRkFVTFRfQ0xLKTsKKwkJZ290byBzZXR1cF9mYWlsOworCX0KKwlk
cm1faW5mbygmZGV2X3AtPmRybSwgImNsa19taXBpID0gJWxkXG4iLCBjbGtfZ2V0X3JhdGUoY2xr
X21pcGkpKTsKKworCWNsayA9IGNsa19nZXRfcmF0ZShjbGtfbWlwaV9lY2ZnKTsKKwlpZiAoY2xr
ICE9IEtNQl9NSVBJX0RFRkFVTFRfQ0ZHX0NMSykgeworCQkvKiBTZXQgTUlQSV9FQ0ZHIGNsb2Nr
IHRvIDI0IE1oeiAqLworCQlyZXQgPSBjbGtfc2V0X3JhdGUoY2xrX21pcGlfZWNmZywgS01CX01J
UElfREVGQVVMVF9DRkdfQ0xLKTsKKwkJY2xrID0gY2xrX2dldF9yYXRlKGNsa19taXBpX2VjZmcp
OworCQlpZiAoY2xrICE9IEtNQl9NSVBJX0RFRkFVTFRfQ0ZHX0NMSykgeworCQkJZHJtX2Vycigm
ZGV2X3AtPmRybSwKKwkJCQkiZmFpbGVkIHRvIHNldCB0byBjbGtfbWlwaV9lY2ZnIHRvICVkXG4i
LAorCQkJCSBLTUJfTUlQSV9ERUZBVUxUX0NGR19DTEspOworCQkJZ290byBzZXR1cF9mYWlsOwor
CQl9CisKKwkJZHJtX2luZm8oJmRldl9wLT5kcm0sICJjbGtfbWlwaV9lY2ZnIGFmdGVyIHNldCA9
ICVsZFxuIiwgY2xrKTsKKwl9CisKKwljbGsgPSBjbGtfZ2V0X3JhdGUoY2xrX21pcGlfY2ZnKTsK
KwlpZiAoY2xrICE9IEtNQl9NSVBJX0RFRkFVTFRfQ0ZHX0NMSykgeworCQkvKiBTZXQgTUlQSV9D
RkcgY2xvY2sgdG8gMjQgTWh6ICovCisJCXJldCA9IGNsa19zZXRfcmF0ZShjbGtfbWlwaV9jZmcs
IDI0MDAwMDAwKTsKKwkJY2xrID0gY2xrX2dldF9yYXRlKGNsa19taXBpX2NmZyk7CisJCWlmIChj
bGsgIT0gS01CX01JUElfREVGQVVMVF9DRkdfQ0xLKSB7CisJCQlkcm1fZXJyKCZkZXZfcC0+ZHJt
LAorCQkJCQkiZmFpbGVkIHRvIHNldCBjbGtfbWlwaV9jZmcgdG8gJWRcbiIsCisJCQkJICBLTUJf
TUlQSV9ERUZBVUxUX0NGR19DTEspOworCQkJZ290byBzZXR1cF9mYWlsOworCQl9CisJCWRybV9p
bmZvKCZkZXZfcC0+ZHJtLAorCQkJCSJHZXQgY2xrX21pcGlfY2ZnIGFmdGVyIHNldCA9ICVsZFxu
IiwgY2xrKTsKKwl9CisKKwlyZXQgPSBrbWJfZGlzcGxheV9jbGtfZW5hYmxlKCk7CisKKwkvKiBF
bmFibGUgTVNTX0NBTV9DTEtfQ1RSTCBmb3IgTUlQSSBUWCBhbmQgTENEICovCisJa21iX3NldF9i
aXRtYXNrX21zc2NhbShkZXZfcCwgTVNTX0NBTV9DTEtfQ1RSTCwgMHgxZmZmKTsKKwlrbWJfc2V0
X2JpdG1hc2tfbXNzY2FtKGRldl9wLCBNU1NfQ0FNX1JTVE5fQ1RSTCwgMHhmZmZmZmZmZik7CisK
KwkvKiBSZWdpc3RlciBpcnFzIGhlcmUgLSBzZWN0aW9uIDE3LjMgaW4gZGF0YWJvb2sKKwkgKiBs
aXN0cyBMQ0QgYXQgNzkgYW5kIDgyIGZvciBNSVBJIHVuZGVyIE1TUyBDUFUgLQorCSAqIGZpcm13
YXJlIGhhcyByZWRpcmVjdGVkICA3OSB0byBBNTMgSVJRIDMzCisJICovCisKKwkvKiBBbGxvY2F0
ZSBMQ0QgaW50ZXJydXB0IHJlc291cmNlcywgZW5hYmxlIGludGVycnVwdCBsaW5lLAorCSAqIGFu
ZCBzZXR1cCBJUlEgaGFuZGxpbmcKKwkgKi8KKwlpcnFfbGNkID0gcGxhdGZvcm1fZ2V0X2lycV9i
eW5hbWUocGRldiwgImlycV9sY2QiKTsKKwlpZiAoaXJxX2xjZCA8IDApIHsKKwkJZHJtX2Vycigm
ZGV2X3AtPmRybSwgImlycV9sY2Qgbm90IGZvdW5kIik7CisJCWdvdG8gc2V0dXBfZmFpbDsKKwl9
CisKKwkvKiBHZXQgdGhlIG9wdGlvbmFsIGZyYW1lYnVmZmVyIG1lbW9yeSByZXNvdXJjZSAqLwor
CXJldCA9IG9mX3Jlc2VydmVkX21lbV9kZXZpY2VfaW5pdChkcm0tPmRldik7CisJaWYgKHJldCAm
JiByZXQgIT0gLUVOT0RFVikKKwkJcmV0dXJuIHJldDsKKworCXNwaW5fbG9ja19pbml0KCZkZXZf
cC0+aXJxX2xvY2spOworCisJcmV0ID0ga21iX3NldHVwX2NydGMoZHJtKTsKKwlpZiAocmV0IDwg
MCkgeworCQlkcm1fZXJyKCZkZXZfcC0+ZHJtLCAiZmFpbGVkIHRvIGNyZWF0ZSBjcnRjXG4iKTsK
KwkJZ290byBzZXR1cF9mYWlsOworCX0KKworCS8qIEluaXRpYWxpemUgTUlQSSBEU0kgKi8KKwly
ZXQgPSBrbWJfZHNpX2luaXQoZHJtLCBhZHZfYnJpZGdlKTsKKwlpZiAocmV0KSB7CisJCWRybV9l
cnIoJmRldl9wLT5kcm0sICJmYWlsZWQgdG8gaW5pdGlhbGl6ZSBEU0lcbiIpOworCQlnb3RvIHNl
dHVwX2ZhaWw7CisJfQorCisJcmV0ID0gZHJtX2lycV9pbnN0YWxsKGRybSwgaXJxX2xjZCk7CisJ
aWYgKHJldCA8IDApIHsKKwkJZHJtX2VycigmZGV2X3AtPmRybSwgImZhaWxlZCB0byBpbnN0YWxs
IElSUSBoYW5kbGVyXG4iKTsKKwkJZ290byBpcnFfZmFpbDsKKwl9CisKKwlkZXZfcC0+aXJxX2xj
ZCA9IGlycV9sY2Q7CisKKwkvKiBpY2FtIHRlc3RzICovCisjaWZkZWYgSUNBTV9MQ0RfUU9TCisJ
LypnZW5lcmF0b3IgbW9kZSA9IDAgZml4ZWQgbW9kZT0xIGxpbWl0ZXIgKi8KKwl3cml0ZWwoMSwg
KGRldl9wLT5pY2FtbGNkX21taW8gKyBJQ0FNX0xDRF9PRkZTRVQgKyBMQ0RfUU9TX01PREUpKTsK
KwkvKiBiL3cgKi8KKwl3cml0ZWwoMHg2MCwgKGRldl9wLT5pY2FtbGNkX21taW8gKyBJQ0FNX0xD
RF9PRkZTRVQgKyBMQ0RfUU9TX0JXKSk7CisKKwkvKiBzZXQgcHJpb3JpdHkucDEgKi8KKwl2YWwg
PSByZWFkbChkZXZfcC0+aWNhbWxjZF9tbWlvICsgSUNBTV9MQ0RfT0ZGU0VUICsgTENEX1FPU19Q
Uk9SSVRZKTsKKwl2YWwgJj0gfigweDcwMCk7CisJd3JpdGVsKHZhbCB8IDB4MTAwLAorCSAgICAg
ICAoZGV2X3AtPmljYW1sY2RfbW1pbyArIElDQU1fTENEX09GRlNFVCArIExDRF9RT1NfUFJPUklU
WSkpOworCisJZHJtX2luZm8oJmRldl9wLT5kcm0sCisJCQkiSUNBTSBtb2RlID0gMHgleCwgcHJp
b3JpdHkgPSAweCV4IGJhbmR3aWR0aD0weCV4IiwKKwkJIHJlYWRsKGRldl9wLT5pY2FtbGNkX21t
aW8gKyAweDEwODAgKyBMQ0RfUU9TX01PREUpLAorCQkgcmVhZGwoZGV2X3AtPmljYW1sY2RfbW1p
byArIDB4MTA4MCArIExDRF9RT1NfUFJPUklUWSksCisJCSByZWFkbChkZXZfcC0+aWNhbWxjZF9t
bWlvICsgMHgxMDgwICsgTENEX1FPU19CVykpOworI2VuZGlmCisJcmV0dXJuIDA7CisKKyBpcnFf
ZmFpbDoKKwlkcm1fY3J0Y19jbGVhbnVwKCZkZXZfcC0+Y3J0Yyk7Cisgc2V0dXBfZmFpbDoKKwlv
Zl9yZXNlcnZlZF9tZW1fZGV2aWNlX3JlbGVhc2UoZHJtLT5kZXYpOworCisJcmV0dXJuIHJldDsK
K30KKworaW50IGttYl9hdG9taWNfaGVscGVyX2NoZWNrKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYs
CisJCQkgICAgc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnN0YXRlKQoreworCWlmICghc3RhdGUp
CisJCXJldHVybiAwOworCisJcmV0dXJuIGRybV9hdG9taWNfaGVscGVyX2NoZWNrKGRldiwgc3Rh
dGUpOworfQorCitzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9tb2RlX2NvbmZpZ19mdW5jcyBrbWJf
bW9kZV9jb25maWdfZnVuY3MgPSB7CisJLmZiX2NyZWF0ZSA9IGRybV9nZW1fZmJfY3JlYXRlLAor
CS5hdG9taWNfY2hlY2sgPSBrbWJfYXRvbWljX2hlbHBlcl9jaGVjaywKKwkuYXRvbWljX2NvbW1p
dCA9IGRybV9hdG9taWNfaGVscGVyX2NvbW1pdCwKK307CisKK3N0YXRpYyB2b2lkIGttYl9zZXR1
cF9tb2RlX2NvbmZpZyhzdHJ1Y3QgZHJtX2RldmljZSAqZHJtKQoreworCWRybV9tb2RlX2NvbmZp
Z19pbml0KGRybSk7CisJZHJtLT5tb2RlX2NvbmZpZy5taW5fd2lkdGggPSBLTUJfTUlOX1dJRFRI
OworCWRybS0+bW9kZV9jb25maWcubWluX2hlaWdodCA9IEtNQl9NSU5fSEVJR0hUOworCWRybS0+
bW9kZV9jb25maWcubWF4X3dpZHRoID0gS01CX01BWF9XSURUSDsKKwlkcm0tPm1vZGVfY29uZmln
Lm1heF9oZWlnaHQgPSBLTUJfTUFYX0hFSUdIVDsKKwlkcm0tPm1vZGVfY29uZmlnLmZ1bmNzID0g
JmttYl9tb2RlX2NvbmZpZ19mdW5jczsKK30KKworc3RhdGljIGlycXJldHVybl90IGhhbmRsZV9s
Y2RfaXJxKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYpCit7CisJdW5zaWduZWQgbG9uZyBzdGF0dXMs
IHZhbCwgdmFsMTsKKwlpbnQgcGxhbmVfaWQsIGRtYTBfc3RhdGUsIGRtYTFfc3RhdGU7CisJc3Ry
dWN0IGttYl9kcm1fcHJpdmF0ZSAqZGV2X3AgPSB0b19rbWIoZGV2KTsKKworCXN0YXR1cyA9IGtt
Yl9yZWFkX2xjZChkZXZfcCwgTENEX0lOVF9TVEFUVVMpOworCisJaWYgKHN0YXR1cyAmIExDRF9J
TlRfRU9GKSB7CisJCS8qIFRPRE8gLSBoYW5kbGUgRU9GIGludGVycnVwdD8gKi8KKworCQlrbWJf
d3JpdGVfbGNkKGRldl9wLCBMQ0RfSU5UX0NMRUFSLCBMQ0RfSU5UX0VPRik7CisKKwkJLyogV2hl
biBkaXNhYmxpbmcvZW5hYmxpbmcgTENEIGxheWVycywgdGhlIGNoYW5nZSB0YWtlcyBlZmZlY3QK
KwkJICogaW1tZWRpYXRlbHkgYW5kIGRvZXMgbm90IHdhaXQgZm9yIEVPRiAoZW5kIG9mIGZyYW1l
KS4KKwkJICogV2hlbiBrbWJfcGxhbmVfYXRvbWljX2Rpc2FibGUgaXMgY2FsbGVkLCBtYXJrIHRo
ZSBwbGFuZSBhcworCQkgKiBkaXNhYmxlZCBidXQgYWN0dWFsbHkgZGlzYWJsZSB0aGUgcGxhbmUg
d2hlbiBFT0YgaXJxIGlzCisJCSAqIGJlaW5nIGhhbmRsZWQuCisJCSAqLworCQlmb3IgKHBsYW5l
X2lkID0gTEFZRVJfMDsKKwkJCQlwbGFuZV9pZCA8IEtNQl9NQVhfUExBTkVTOyBwbGFuZV9pZCsr
KSB7CisJCQlpZiAocGxhbmVfc3RhdHVzW3BsYW5lX2lkXS5kaXNhYmxlKSB7CisJCQkJa21iX2Ns
cl9iaXRtYXNrX2xjZChkZXZfcCwKKwkJCQkJCSAgICBMQ0RfTEFZRVJuX0RNQV9DRkcKKwkJCQkJ
CSAgICAocGxhbmVfaWQpLAorCQkJCQkJICAgIExDRF9ETUFfTEFZRVJfRU5BQkxFKTsKKworCQkJ
CWttYl9jbHJfYml0bWFza19sY2QoZGV2X3AsIExDRF9DT05UUk9MLAorCQkJCQkgICAgcGxhbmVf
c3RhdHVzW3BsYW5lX2lkXS5jdHJsKTsKKworCQkJCXBsYW5lX3N0YXR1c1twbGFuZV9pZF0uZGlz
YWJsZSA9IGZhbHNlOworCQkJfQorCQl9CisJCWlmIChrbWJfdW5kZXJfZmxvdykgeworCQkJLypE
TUEgUmVjb3ZlcnkgYWZ0ZXIgdW5kZXJmbG93ICovCisJCQlkbWEwX3N0YXRlID0gKGxheWVyX25v
ID09IDApID8KKwkJCSAgICBMQ0RfVklERU8wX0RNQTBfU1RBVEUgOiBMQ0RfVklERU8xX0RNQTBf
U1RBVEU7CisJCQlkbWExX3N0YXRlID0gKGxheWVyX25vID09IDApID8KKwkJCSAgICBMQ0RfVklE
RU8wX0RNQTFfU1RBVEUgOiBMQ0RfVklERU8xX0RNQTFfU1RBVEU7CisKKwkJCWRvIHsKKwkJCQlr
bWJfd3JpdGVfbGNkKGRldl9wLCBMQ0RfRklGT19GTFVTSCwgMSk7CisJCQkJdmFsID0ga21iX3Jl
YWRfbGNkKGRldl9wLCBkbWEwX3N0YXRlKQorCQkJCSAgICAmIExDRF9ETUFfU1RBVEVfQUNUSVZF
OworCQkJCXZhbDEgPSBrbWJfcmVhZF9sY2QoZGV2X3AsIGRtYTFfc3RhdGUpCisJCQkJICAgICYg
TENEX0RNQV9TVEFURV9BQ1RJVkU7CisJCQl9IHdoaWxlICgodmFsIHx8IHZhbDEpKTsKKwkJCS8q
ZGlzYWJsZSBkbWEgKi8KKwkJCWttYl9jbHJfYml0bWFza19sY2QoZGV2X3AsIExDRF9MQVlFUm5f
RE1BX0NGRyhsYXllcl9ubyksCisJCQkJCSAgICBMQ0RfRE1BX0xBWUVSX0VOQUJMRSk7CisJCQlr
bWJfd3JpdGVfbGNkKGRldl9wLCBMQ0RfRklGT19GTFVTSCwgMSk7CisJCQlrbWJfZmx1c2hfZG9u
ZSA9IDE7CisJCQlrbWJfdW5kZXJfZmxvdyA9IDA7CisJCX0KKworCX0KKworCWlmIChzdGF0dXMg
JiBMQ0RfSU5UX0xJTkVfQ01QKSB7CisJCS8qIGNsZWFyIGxpbmUgY29tcGFyZSBpbnRlcnJ1cHQg
Ki8KKwkJa21iX3dyaXRlX2xjZChkZXZfcCwgTENEX0lOVF9DTEVBUiwgTENEX0lOVF9MSU5FX0NN
UCk7CisJfQorCisJaWYgKHN0YXR1cyAmIExDRF9JTlRfVkVSVF9DT01QKSB7CisJCS8qIFJlYWQg
VlNUQVRVUyAqLworCQl2YWwgPSBrbWJfcmVhZF9sY2QoZGV2X3AsIExDRF9WU1RBVFVTKTsKKwkJ
dmFsID0gKHZhbCAmIExDRF9WU1RBVFVTX1ZFUlRJQ0FMX1NUQVRVU19NQVNLKTsKKwkJc3dpdGNo
ICh2YWwpIHsKKwkJY2FzZSBMQ0RfVlNUQVRVU19DT01QQVJFX1ZTWU5DOgorCQkJLyogQ2xlYXIg
dmVydGljYWwgY29tcGFyZSBpbnRlcnJ1cHQgKi8KKwkJCWttYl93cml0ZV9sY2QoZGV2X3AsIExD
RF9JTlRfQ0xFQVIsIExDRF9JTlRfVkVSVF9DT01QKTsKKwkJCWlmIChrbWJfZmx1c2hfZG9uZSkg
eworCQkJCWttYl9zZXRfYml0bWFza19sY2QoZGV2X3AsCisJCQkJCQkgICAgTENEX0xBWUVSbl9E
TUFfQ0ZHCisJCQkJCQkgICAgKGxheWVyX25vKSwKKwkJCQkJCSAgICBMQ0RfRE1BX0xBWUVSX0VO
QUJMRSk7CisJCQkJa21iX2ZsdXNoX2RvbmUgPSAwOworCQkJfQorCQkJZHJtX2hhbmRsZV92Ymxh
bmsoZGV2LCAwKTsKKwkJCWJyZWFrOworCQljYXNlIExDRF9WU1RBVFVTX0NPTVBBUkVfQkFDS1BP
UkNIOgorCQljYXNlIExDRF9WU1RBVFVTX0NPTVBBUkVfQUNUSVZFOgorCQljYXNlIExDRF9WU1RB
VFVTX0NPTVBBUkVfRlJPTlRfUE9SQ0g6CisJCQlrbWJfd3JpdGVfbGNkKGRldl9wLCBMQ0RfSU5U
X0NMRUFSLCBMQ0RfSU5UX1ZFUlRfQ09NUCk7CisJCQlicmVhazsKKwkJfQorCX0KKwlpZiAoc3Rh
dHVzICYgTENEX0lOVF9ETUFfRVJSKSB7CisJCXZhbCA9CisJCSAgICAoc3RhdHVzICYgTENEX0lO
VF9ETUFfRVJSICYKKwkJICAgICBrbWJfcmVhZF9sY2QoZGV2X3AsIExDRF9JTlRfRU5BQkxFKSk7
CisJCS8qIExBWUVSMCAtIFZMMCAqLworCQlpZiAodmFsICYgKExBWUVSMF9ETUFfRklGT19VTkRF
UkZMT1cgfAorCQkJICAgTEFZRVIwX0RNQV9DQl9GSUZPX1VOREVSRkxPVyB8CisJCQkgICBMQVlF
UjBfRE1BX0NSX0ZJRk9fVU5ERVJGTE9XKSkgeworCQkJa21iX3VuZGVyX2Zsb3crKzsKKwkJCWRy
bV9pbmZvKCZkZXZfcC0+ZHJtLAorCQkJICAgICIhTEFZRVIwOlZMMCBETUEgVU5ERVJGTE9XIHZh
bCA9IDB4JWx4LHVuZGVyX2Zsb3c9JWQiLAorCQkJICAgICB2YWwsIGttYl91bmRlcl9mbG93KTsK
KwkJCS8qZGlzYWJsZSB1bmRlcmZsb3cgaW5lcnJ1cHQgKi8KKwkJCWttYl9jbHJfYml0bWFza19s
Y2QoZGV2X3AsIExDRF9JTlRfRU5BQkxFLAorCQkJCQkgICAgTEFZRVIwX0RNQV9GSUZPX1VOREVS
RkxPVyB8CisJCQkJCSAgICBMQVlFUjBfRE1BX0NCX0ZJRk9fVU5ERVJGTE9XIHwKKwkJCQkJICAg
IExBWUVSMF9ETUFfQ1JfRklGT19VTkRFUkZMT1cpOworCQkJa21iX3NldF9iaXRtYXNrX2xjZChk
ZXZfcCwgTENEX0lOVF9DTEVBUiwKKwkJCQkJICAgIExBWUVSMF9ETUFfQ0JfRklGT19VTkRFUkZM
T1cgfAorCQkJCQkgICAgTEFZRVIwX0RNQV9GSUZPX1VOREVSRkxPVyB8CisJCQkJCSAgICBMQVlF
UjBfRE1BX0NSX0ZJRk9fVU5ERVJGTE9XKTsKKwkJCS8qZGlzYWJsZSBhdXRvIHJlc3RhcnQgbW9k
ZSAqLworCQkJa21iX2Nscl9iaXRtYXNrX2xjZChkZXZfcCwgTENEX0xBWUVSbl9ETUFfQ0ZHKDAp
LAorCQkJCSAgICBMQ0RfRE1BX0xBWUVSX0NPTlRfUElOR19QT05HX1VQREFURSk7CisJCQlsYXll
cl9ubyA9IDA7CisJCX0KKworCQlpZiAodmFsICYgTEFZRVIwX0RNQV9GSUZPX09WRVJGTE9XKQor
CQkJZHJtX2luZm8oJmRldl9wLT5kcm0sCisJCQkJIkxBWUVSMDpWTDAgRE1BIE9WRVJGTE9XIHZh
bCA9IDB4JWx4IiwgdmFsKTsKKwkJaWYgKHZhbCAmIExBWUVSMF9ETUFfQ0JfRklGT19PVkVSRkxP
VykKKwkJCWRybV9pbmZvKCZkZXZfcC0+ZHJtLAorCQkJCSJMQVlFUjA6VkwwIERNQSBDQiBPVkVS
RkxPVyB2YWwgPSAweCVseCIsIHZhbCk7CisJCWlmICh2YWwgJiBMQVlFUjBfRE1BX0NSX0ZJRk9f
T1ZFUkZMT1cpCisJCQlkcm1faW5mbygmZGV2X3AtPmRybSwKKwkJCQkiTEFZRVIwOlZMMCBETUEg
Q1IgT1ZFUkZMT1cgdmFsID0gMHglbHgiLCB2YWwpOworCisJCS8qIExBWUVSMSAtIFZMMSAqLwor
CQlpZiAodmFsICYgKExBWUVSMV9ETUFfRklGT19VTkRFUkZMT1cgfAorCQkJICAgTEFZRVIxX0RN
QV9DQl9GSUZPX1VOREVSRkxPVyB8CisJCQkgICBMQVlFUjFfRE1BX0NSX0ZJRk9fVU5ERVJGTE9X
KSkgeworCQkJa21iX3VuZGVyX2Zsb3crKzsKKwkJCWRybV9pbmZvKCZkZXZfcC0+ZHJtLAorCQkJ
ICAgICIhTEFZRVIxOlZMMSBETUEgVU5ERVJGTE9XIHZhbCA9IDB4JWx4LCB1bmRlcl9mbG93PSVk
IiwKKwkJCSAgICAgdmFsLCBrbWJfdW5kZXJfZmxvdyk7CisJCQkvKmRpc2FibGUgdW5kZXJmbG93
IGluZXJydXB0ICovCisJCQlrbWJfY2xyX2JpdG1hc2tfbGNkKGRldl9wLCBMQ0RfSU5UX0VOQUJM
RSwKKwkJCQkJICAgIExBWUVSMV9ETUFfRklGT19VTkRFUkZMT1cgfAorCQkJCQkgICAgTEFZRVIx
X0RNQV9DQl9GSUZPX1VOREVSRkxPVyB8CisJCQkJCSAgICBMQVlFUjFfRE1BX0NSX0ZJRk9fVU5E
RVJGTE9XKTsKKwkJCWttYl9zZXRfYml0bWFza19sY2QoZGV2X3AsIExDRF9JTlRfQ0xFQVIsCisJ
CQkJCSAgICBMQVlFUjFfRE1BX0NCX0ZJRk9fVU5ERVJGTE9XIHwKKwkJCQkJICAgIExBWUVSMV9E
TUFfRklGT19VTkRFUkZMT1cgfAorCQkJCQkgICAgTEFZRVIxX0RNQV9DUl9GSUZPX1VOREVSRkxP
Vyk7CisJCQkvKmRpc2FibGUgYXV0byByZXN0YXJ0IG1vZGUgKi8KKwkJCWttYl9jbHJfYml0bWFz
a19sY2QoZGV2X3AsIExDRF9MQVlFUm5fRE1BX0NGRygxKSwKKwkJCQkgICAgTENEX0RNQV9MQVlF
Ul9DT05UX1BJTkdfUE9OR19VUERBVEUpOworCQkJbGF5ZXJfbm8gPSAxOworCQl9CisKKwkJLyog
TEFZRVIxIC0gVkwxICovCisJCWlmICh2YWwgJiBMQVlFUjFfRE1BX0ZJRk9fT1ZFUkZMT1cpCisJ
CQlkcm1faW5mbygmZGV2X3AtPmRybSwKKwkJCQkiTEFZRVIxOlZMMSBETUEgT1ZFUkZMT1cgdmFs
ID0gMHglbHgiLCB2YWwpOworCQlpZiAodmFsICYgTEFZRVIxX0RNQV9DQl9GSUZPX09WRVJGTE9X
KQorCQkJZHJtX2luZm8oJmRldl9wLT5kcm0sCisJCQkJIkxBWUVSMTpWTDEgRE1BIENCIE9WRVJG
TE9XIHZhbCA9IDB4JWx4IiwgdmFsKTsKKwkJaWYgKHZhbCAmIExBWUVSMV9ETUFfQ1JfRklGT19P
VkVSRkxPVykKKwkJCWRybV9pbmZvKCZkZXZfcC0+ZHJtLAorCQkJCSJMQVlFUjE6VkwxIERNQSBD
UiBPVkVSRkxPVyB2YWwgPSAweCVseCIsIHZhbCk7CisKKwkJLyogTEFZRVIyIC0gR0wwICovCisJ
CWlmICh2YWwgJiBMQVlFUjJfRE1BX0ZJRk9fVU5ERVJGTE9XKQorCQkJZHJtX2luZm8oJmRldl9w
LT5kcm0sCisJCQkJIkxBWUVSMjpHTDAgRE1BIFVOREVSRkxPVyB2YWwgPSAweCVseCIsIHZhbCk7
CisJCWlmICh2YWwgJiBMQVlFUjJfRE1BX0ZJRk9fT1ZFUkZMT1cpCisJCQlkcm1faW5mbygmZGV2
X3AtPmRybSwKKwkJCQkiTEFZRVIyOkdMMCBETUEgT1ZFUkZMT1cgdmFsID0gMHglbHgiLCB2YWwp
OworCisJCS8qIExBWUVSMyAtIEdMMSAqLworCQlpZiAodmFsICYgTEFZRVIzX0RNQV9GSUZPX1VO
REVSRkxPVykKKwkJCWRybV9pbmZvKCZkZXZfcC0+ZHJtLAorCQkJCSJMQVlFUjM6R0wxIERNQSBV
TkRFUkZMT1cgdmFsID0gMHglbHgiLCB2YWwpOworCQlpZiAodmFsICYgTEFZRVIzX0RNQV9GSUZP
X1VOREVSRkxPVykKKwkJCWRybV9pbmZvKCZkZXZfcC0+ZHJtLAorCQkJCSJMQVlFUjM6R0wxIERN
QSBPVkVSRkxPVyB2YWwgPSAweCVseCIsIHZhbCk7CisJfQorCisJaWYgKHN0YXR1cyAmIExDRF9J
TlRfTEFZRVIpIHsKKwkJLyogQ2xlYXIgbGF5ZXIgaW50ZXJydXB0cyAqLworCQlrbWJfd3JpdGVf
bGNkKGRldl9wLCBMQ0RfSU5UX0NMRUFSLCBMQ0RfSU5UX0xBWUVSKTsKKwl9CisKKwkvKiBDbGVh
ciBhbGwgaW50ZXJydXB0cyAqLworCWttYl9zZXRfYml0bWFza19sY2QoZGV2X3AsIExDRF9JTlRf
Q0xFQVIsIDEpOworCXJldHVybiBJUlFfSEFORExFRDsKK30KKworc3RhdGljIGlycXJldHVybl90
IGttYl9pc3IoaW50IGlycSwgdm9pZCAqYXJnKQoreworCXN0cnVjdCBkcm1fZGV2aWNlICpkZXYg
PSAoc3RydWN0IGRybV9kZXZpY2UgKilhcmc7CisJaXJxcmV0dXJuX3QgcmV0ID0gSVJRX05PTkU7
CisKKwlyZXQgPSBoYW5kbGVfbGNkX2lycShkZXYpOworCXJldHVybiByZXQ7Cit9CisKK3N0YXRp
YyB2b2lkIGttYl9pcnFfcmVzZXQoc3RydWN0IGRybV9kZXZpY2UgKmRybSkKK3sKKwlrbWJfd3Jp
dGVfbGNkKHRvX2ttYihkcm0pLCBMQ0RfSU5UX0NMRUFSLCAweEZGRkYpOworCWttYl93cml0ZV9s
Y2QodG9fa21iKGRybSksIExDRF9JTlRfRU5BQkxFLCAwKTsKK30KKworREVGSU5FX0RSTV9HRU1f
Q01BX0ZPUFMoZm9wcyk7CisKK3N0YXRpYyBzdHJ1Y3QgZHJtX2RyaXZlciBrbWJfZHJpdmVyID0g
eworCS5kcml2ZXJfZmVhdHVyZXMgPSBEUklWRVJfR0VNIHwKKwkgICAgRFJJVkVSX01PREVTRVQg
fCBEUklWRVJfQVRPTUlDLAorCS5pcnFfaGFuZGxlciA9IGttYl9pc3IsCisJLmlycV9wcmVpbnN0
YWxsID0ga21iX2lycV9yZXNldCwKKwkuaXJxX3VuaW5zdGFsbCA9IGttYl9pcnFfcmVzZXQsCisJ
LmdlbV9mcmVlX29iamVjdF91bmxvY2tlZCA9IGRybV9nZW1fY21hX2ZyZWVfb2JqZWN0LAorCS5n
ZW1fdm1fb3BzID0gJmRybV9nZW1fY21hX3ZtX29wcywKKwkuZHVtYl9jcmVhdGUgPSBkcm1fZ2Vt
X2NtYV9kdW1iX2NyZWF0ZSwKKwkucHJpbWVfaGFuZGxlX3RvX2ZkID0gZHJtX2dlbV9wcmltZV9o
YW5kbGVfdG9fZmQsCisJLnByaW1lX2ZkX3RvX2hhbmRsZSA9IGRybV9nZW1fcHJpbWVfZmRfdG9f
aGFuZGxlLAorCS5nZW1fcHJpbWVfZXhwb3J0ID0gZHJtX2dlbV9wcmltZV9leHBvcnQsCisJLmdl
bV9wcmltZV9pbXBvcnQgPSBkcm1fZ2VtX3ByaW1lX2ltcG9ydCwKKwkuZ2VtX3ByaW1lX2dldF9z
Z190YWJsZSA9IGRybV9nZW1fY21hX3ByaW1lX2dldF9zZ190YWJsZSwKKwkuZ2VtX3ByaW1lX2lt
cG9ydF9zZ190YWJsZSA9IGRybV9nZW1fY21hX3ByaW1lX2ltcG9ydF9zZ190YWJsZSwKKwkuZ2Vt
X3ByaW1lX3ZtYXAgPSBkcm1fZ2VtX2NtYV9wcmltZV92bWFwLAorCS5nZW1fcHJpbWVfdnVubWFw
ID0gZHJtX2dlbV9jbWFfcHJpbWVfdnVubWFwLAorCS5nZW1fcHJpbWVfbW1hcCA9IGRybV9nZW1f
Y21hX3ByaW1lX21tYXAsCisJLmZvcHMgPSAmZm9wcywKKwkubmFtZSA9ICJrbWItZHJtIiwKKwku
ZGVzYyA9ICJLRUVNQkFZIERJU1BMQVkgRFJJVkVSICIsCisJLmRhdGUgPSAiMjAxOTAxMjIiLAor
CS5tYWpvciA9IDEsCisJLm1pbm9yID0gMCwKK307CisKK3N0YXRpYyB2b2lkIGttYl9kcm1fdW5s
b2FkKHN0cnVjdCBkZXZpY2UgKmRldikKK3sKKwlzdHJ1Y3QgZHJtX2RldmljZSAqZHJtID0gZGV2
X2dldF9kcnZkYXRhKGRldik7CisJc3RydWN0IGttYl9kcm1fcHJpdmF0ZSAqZGV2X3AgPSB0b19r
bWIoZHJtKTsKKworI2lmZGVmIERFQlVHCisJZHVtcF9zdGFjaygpOworI2VuZGlmCisJZHJtX2Rl
dl91bnJlZ2lzdGVyKGRybSk7CisJZHJtX2ttc19oZWxwZXJfcG9sbF9maW5pKGRybSk7CisJb2Zf
bm9kZV9wdXQoZGV2X3AtPmNydGMucG9ydCk7CisJZGV2X3AtPmNydGMucG9ydCA9IE5VTEw7CisJ
cG1fcnVudGltZV9nZXRfc3luYyhkcm0tPmRldik7CisJZHJtX2lycV91bmluc3RhbGwoZHJtKTsK
KwlwbV9ydW50aW1lX3B1dF9zeW5jKGRybS0+ZGV2KTsKKwlwbV9ydW50aW1lX2Rpc2FibGUoZHJt
LT5kZXYpOworCisJaWYgKGRldl9wLT5sY2RfbW1pbykgeworCQlpb3VubWFwKGRldl9wLT5sY2Rf
bW1pbyk7CisJCXJlbGVhc2VfbWVtX3JlZ2lvbihMQ0RfQkFTRV9BRERSLCBMQ0RfTU1JT19TSVpF
KTsKKwl9CisKKwlpZiAoZGV2X3AtPm1pcGlfbW1pbykgeworCQlpb3VubWFwKGRldl9wLT5taXBp
X21taW8pOworCQlyZWxlYXNlX21lbV9yZWdpb24oTUlQSV9CQVNFX0FERFIsIE1JUElfTU1JT19T
SVpFKTsKKwl9CisKKwlpZiAoZGV2X3AtPm1zc2NhbV9tbWlvKSB7CisJCWlvdW5tYXAoZGV2X3At
Pm1zc2NhbV9tbWlvKTsKKwkJcmVsZWFzZV9tZW1fcmVnaW9uKE1TU19DQU1fQkFTRV9BRERSLCBN
U1NfQ0FNX01NSU9fU0laRSk7CisJfQorCisJb2ZfcmVzZXJ2ZWRfbWVtX2RldmljZV9yZWxlYXNl
KGRybS0+ZGV2KTsKKwlkcm1fbW9kZV9jb25maWdfY2xlYW51cChkcm0pOworCisJLyogUmVsZWFz
ZSBjbGtzICovCisJa21iX2Rpc3BsYXlfY2xrX2Rpc2FibGUoKTsKKwljbGtfcHV0KGNsa19sY2Qp
OworCWNsa19wdXQoY2xrX21pcGkpOworCisJZGV2X3NldF9kcnZkYXRhKGRldiwgTlVMTCk7CisK
KwkvKiBVbnJlZ2lzdGVyIERTSSBob3N0ICovCisJa21iX2RzaV9ob3N0X3VucmVnaXN0ZXIoKTsK
K30KKworc3RhdGljIGludCBrbWJfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikK
K3sKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSBnZXRfZGV2aWNlKCZwZGV2LT5kZXYpOworCXN0cnVj
dCBrbWJfZHJtX3ByaXZhdGUgKmRldl9wOworCWludCByZXQgPSAwOworCisJLyogVGhlIGJyaWRn
ZSAoQURWIDc1MzUpIHdpbGwgcmV0dXJuIC1FUFJPQkVfREVGRVIgdW50aWwgaXQKKwkgKiBoYXMg
YSBtaXBpX2RzaV9ob3N0IHRvIHJlZ2lzdGVyIGl0cyBkZXZpY2UgdG8uIFNvLCB3ZQorCSAqIGZp
cnN0IHJlZ2lzdGVyIHRoZSBEU0kgaG9zdCBkdXJpbmcgcHJvYmUgdGltZSwgYW5kIHRoZW4gcmV0
dXJuCisJICogLUVQUk9CRV9ERUZFUiB1bnRpbCB0aGUgYnJpZGdlIGlzIGxvYWRlZC4gUHJvYmUg
d2lsbCBiZSBjYWxsZWQgYWdhaW4KKwkgKiAgYW5kIHRoZW4gdGhlIHJlc3Qgb2YgdGhlIGRyaXZl
ciBpbml0aWFsaXphdGlvbiBjYW4gcHJvY2VlcworCSAqICBhZnRlcndhcmRzIGFuZCB0aGUgYnJp
ZGdlIGNhbiBiZSBzdWNjZXNzZnVsbHkgYXR0YWNoZWQuCisJICovCisJYWR2X2JyaWRnZSA9IGtt
Yl9kc2lfaG9zdF9icmlkZ2VfaW5pdChkZXYpOworCisJaWYgKGFkdl9icmlkZ2UgPT0gRVJSX1BU
UigtRVBST0JFX0RFRkVSKSkKKwkJcmV0dXJuIC1FUFJPQkVfREVGRVI7CisJZWxzZSBpZiAoSVNf
RVJSKGFkdl9icmlkZ2UpKSB7CisJCURSTV9FUlJPUigicHJvYmUgZmFpbGVkIHRvIGluaXRpYWxp
emUgRFNJIGhvc3QgYnJpZGdlXG4iKTsKKwkJcmV0dXJuIFBUUl9FUlIoYWR2X2JyaWRnZSk7CisJ
fQorCisJLyogQ3JlYXRlIERSTSBkZXZpY2UgKi8KKwlkZXZfcCA9IGRldm1fZHJtX2Rldl9hbGxv
YyhkZXYsICZrbWJfZHJpdmVyLAorCQkJc3RydWN0IGttYl9kcm1fcHJpdmF0ZSwgZHJtKTsKKwlp
ZiAoSVNfRVJSKGRldl9wKSkKKwkJcmV0dXJuIFBUUl9FUlIoZGV2X3ApOworCisJZGV2X3AtPmRy
bS5kZXZfcHJpdmF0ZSA9IGRldl9wOworCWRldl9zZXRfZHJ2ZGF0YShkZXYsICZkZXZfcC0+ZHJt
KTsKKworCWttYl9zZXR1cF9tb2RlX2NvbmZpZygmZGV2X3AtPmRybSk7CisJZGV2X3NldF9kcnZk
YXRhKGRldiwgJmRldl9wLT5kcm0pOworCisJLyogTG9hZCBkcml2ZXIgKi8KKwlkZXZfcC0+bl9s
YXllcnMgPSBLTUJfTUFYX1BMQU5FUzsKKwlyZXQgPSBrbWJfbG9hZCgmZGV2X3AtPmRybSwgMCk7
CisJaWYgKHJldCA9PSAtRVBST0JFX0RFRkVSKSB7CisJCWRybV9pbmZvKCZkZXZfcC0+ZHJtLCAi
d2FpdCBmb3IgZXh0ZXJuYWwgYnJpZGdlIGRyaXZlciBEVFxuIik7CisJCXJldHVybiAtRVBST0JF
X0RFRkVSOworCX0gZWxzZSBpZiAocmV0KQorCQlnb3RvIGVycl9mcmVlOworCisJLyogU2V0IHRo
ZSBDUlRDJ3MgcG9ydCBzbyB0aGF0IHRoZSBlbmNvZGVyIGNvbXBvbmVudCBjYW4gZmluZCBpdCAq
LworCWRldl9wLT5jcnRjLnBvcnQgPSBvZl9ncmFwaF9nZXRfcG9ydF9ieV9pZChkZXYtPm9mX25v
ZGUsIDApOworCXJldCA9IGRybV92YmxhbmtfaW5pdCgmZGV2X3AtPmRybSwgZGV2X3AtPmRybS5t
b2RlX2NvbmZpZy5udW1fY3J0Yyk7CisJZHJtX2luZm8oJmRldl9wLT5kcm0sICJtb2RlX2NvbmZp
Zy5udW1fY3J0Yz0lZFxuIiwKKwkJCWRldl9wLT5kcm0ubW9kZV9jb25maWcubnVtX2NydGMpOwor
CWlmIChyZXQgPCAwKSB7CisJCWRybV9lcnIoJmRldl9wLT5kcm0sICJmYWlsZWQgdG8gaW5pdGlh
bGl6ZSB2YmxhbmtcbiIpOworCQlnb3RvIGVycl92Ymxhbms7CisJfQorCisJZHJtX21vZGVfY29u
ZmlnX3Jlc2V0KCZkZXZfcC0+ZHJtKTsKKwlkcm1fa21zX2hlbHBlcl9wb2xsX2luaXQoJmRldl9w
LT5kcm0pOworCisJLyogUmVnaXN0ZXIgZ3JhcGhpY3MgZGV2aWNlIHdpdGggdGhlIGtlcm5lbCAq
LworCXJldCA9IGRybV9kZXZfcmVnaXN0ZXIoJmRldl9wLT5kcm0sIDApOworCisJaWYgKHJldCkK
KwkJZ290byBlcnJfcmVnaXN0ZXI7CisKKwlyZXR1cm4gMDsKKworIGVycl9yZWdpc3RlcjoKKwlk
cm1fa21zX2hlbHBlcl9wb2xsX2ZpbmkoJmRldl9wLT5kcm0pOworIGVycl92Ymxhbms6CisJcG1f
cnVudGltZV9kaXNhYmxlKGRldl9wLT5kcm0uZGV2KTsKKyBlcnJfZnJlZToKKwlkcm1fbW9kZV9j
b25maWdfY2xlYW51cCgmZGV2X3AtPmRybSk7CisJZGV2X3NldF9kcnZkYXRhKGRldiwgTlVMTCk7
CisJa21iX2RzaV9ob3N0X3VucmVnaXN0ZXIoKTsKKworCXJldHVybiByZXQ7Cit9CisKK3N0YXRp
YyBpbnQga21iX3JlbW92ZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQoreworCWttYl9k
cm1fdW5sb2FkKCZwZGV2LT5kZXYpOworCXJldHVybiAwOworfQorCitzdGF0aWMgY29uc3Qgc3Ry
dWN0IG9mX2RldmljZV9pZCBrbWJfb2ZfbWF0Y2hbXSA9IHsKKwl7LmNvbXBhdGlibGUgPSAiaW50
ZWwsa21iX2Rpc3BsYXkifSwKKwl7fSwKK307CisKK01PRFVMRV9ERVZJQ0VfVEFCTEUob2YsIGtt
Yl9vZl9tYXRjaCk7CisKK3N0YXRpYyBpbnQgX19tYXliZV91bnVzZWQga21iX3BtX3N1c3BlbmQo
c3RydWN0IGRldmljZSAqZGV2KQoreworCXN0cnVjdCBkcm1fZGV2aWNlICpkcm0gPSBkZXZfZ2V0
X2RydmRhdGEoZGV2KTsKKwlzdHJ1Y3Qga21iX2RybV9wcml2YXRlICpsY2QgPSBkcm0gPyBkcm0t
PmRldl9wcml2YXRlIDogTlVMTDsKKworCWlmICghbGNkKQorCQlyZXR1cm4gMDsKKworCWRybV9r
bXNfaGVscGVyX3BvbGxfZGlzYWJsZShkcm0pOworCisJbGNkLT5zdGF0ZSA9IGRybV9hdG9taWNf
aGVscGVyX3N1c3BlbmQoZHJtKTsKKwlpZiAoSVNfRVJSKGxjZC0+c3RhdGUpKSB7CisJCWRybV9r
bXNfaGVscGVyX3BvbGxfZW5hYmxlKGRybSk7CisJCXJldHVybiBQVFJfRVJSKGxjZC0+c3RhdGUp
OworCX0KKworCXJldHVybiAwOworfQorCitzdGF0aWMgaW50IF9fbWF5YmVfdW51c2VkIGttYl9w
bV9yZXN1bWUoc3RydWN0IGRldmljZSAqZGV2KQoreworCXN0cnVjdCBkcm1fZGV2aWNlICpkcm0g
PSBkZXZfZ2V0X2RydmRhdGEoZGV2KTsKKwlzdHJ1Y3Qga21iX2RybV9wcml2YXRlICpsY2QgPSBk
cm0gPyBkcm0tPmRldl9wcml2YXRlIDogTlVMTDsKKworCWlmICghbGNkKQorCQlyZXR1cm4gMDsK
KworCWRybV9hdG9taWNfaGVscGVyX3Jlc3VtZShkcm0sIGxjZC0+c3RhdGUpOworCWRybV9rbXNf
aGVscGVyX3BvbGxfZW5hYmxlKGRybSk7CisKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIFNJTVBM
RV9ERVZfUE1fT1BTKGttYl9wbV9vcHMsIGttYl9wbV9zdXNwZW5kLCBrbWJfcG1fcmVzdW1lKTsK
Kworc3RhdGljIHN0cnVjdCBwbGF0Zm9ybV9kcml2ZXIga21iX3BsYXRmb3JtX2RyaXZlciA9IHsK
KwkucHJvYmUgPSBrbWJfcHJvYmUsCisJLnJlbW92ZSA9IGttYl9yZW1vdmUsCisJLmRyaXZlciA9
IHsKKwkJICAgLm5hbWUgPSAia21iLWRybSIsCisJCSAgIC5wbSA9ICZrbWJfcG1fb3BzLAorCQkg
ICAub2ZfbWF0Y2hfdGFibGUgPSBrbWJfb2ZfbWF0Y2gsCisJCSAgIH0sCit9OworCittb2R1bGVf
cGxhdGZvcm1fZHJpdmVyKGttYl9wbGF0Zm9ybV9kcml2ZXIpOworCitNT0RVTEVfQVVUSE9SKCJJ
bnRlbCBDb3Jwb3JhdGlvbiIpOworTU9EVUxFX0RFU0NSSVBUSU9OKCJLZWVtYmF5IERpc3BsYXkg
ZHJpdmVyIik7CitNT0RVTEVfTElDRU5TRSgiR1BMIHYyIik7CmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0va21iL2ttYl9kcnYuaCBiL2RyaXZlcnMvZ3B1L2RybS9rbWIva21iX2Rydi5oCm5l
dyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAuLjNiYzA3YmMKLS0tIC9kZXYvbnVsbAor
KysgYi9kcml2ZXJzL2dwdS9kcm0va21iL2ttYl9kcnYuaApAQCAtMCwwICsxLDE2NSBAQAorLyog
U1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb25seQorICoKKyAqIENvcHlyaWdodCDC
qSAyMDE4LTIwMjAgSW50ZWwgQ29ycG9yYXRpb24KKyAqLworCisjaWZuZGVmIF9fS01CX0RSVl9I
X18KKyNkZWZpbmUgX19LTUJfRFJWX0hfXworCisjaW5jbHVkZSAia21iX3JlZ3MuaCIKKworI2Rl
ZmluZSBLTUJfTUFYX1dJRFRICQkJMTkyMCAvKm1heCB3aWR0aCBpbiBwaXhlbHMgKi8KKyNkZWZp
bmUgS01CX01BWF9IRUlHSFQJCQkxMDgwIC8qbWF4IGhlaWdodCBpbiBwaXhlbHMgKi8KKyNkZWZp
bmUgS01CX01JTl9XSURUSCAgICAgICAgICAgICAgICAgICAxOTIwIC8qbWF4IHdpZHRoIGluIHBp
eGVscyAqLworI2RlZmluZSBLTUJfTUlOX0hFSUdIVCAgICAgICAgICAgICAgICAgIDEwODAgLypt
YXggaGVpZ2h0IGluIHBpeGVscyAqLworI2RlZmluZSBLTUJfTENEX0RFRkFVTFRfQ0xLCQkyMDAw
MDAwMDAKKyNkZWZpbmUgS01CX01JUElfREVGQVVMVF9DTEsJCTI0MDAwMDAwCisjZGVmaW5lIEtN
Ql9NSVBJX0RFRkFVTFRfQ0ZHX0NMSwkyNDAwMDAwMAorI2RlZmluZSBLTUJfU1lTX0NMS19NSFoJ
CQk1MDAKKworI2RlZmluZSBjcnRjX3RvX2ttYl9wcml2KHgpCWNvbnRhaW5lcl9vZih4LCBzdHJ1
Y3Qga21iX2RybV9wcml2YXRlLCBjcnRjKQorCisjZGVmaW5lIElDQU1fTU1JTwkJMHgzYjEwMDAw
MAorI2RlZmluZSBJQ0FNX0xDRF9PRkZTRVQJCTB4MTA4MAorI2RlZmluZSBJQ0FNX01NSU9fU0la
RQkJMHgyMDAwCitzdHJ1Y3Qga21iX2RybV9wcml2YXRlIHsKKwlzdHJ1Y3QgZHJtX2RldmljZQkJ
ZHJtOworCXZvaWQgX19pb21lbQkJCSpsY2RfbW1pbzsKKwl2b2lkIF9faW9tZW0JCQkqbWlwaV9t
bWlvOworCXZvaWQgX19pb21lbQkJCSptc3NjYW1fbW1pbzsKKwl2b2lkIF9faW9tZW0gICAgICAg
ICAgICAgICAgICAgICppY2FtbGNkX21taW87CisJdW5zaWduZWQgY2hhcgkJCW5fbGF5ZXJzOwor
CXN0cnVjdCBjbGsJCQkqY2xrOworCXN0cnVjdCBkcm1fY3J0YwkJCWNydGM7CisJc3RydWN0IGtt
Yl9wbGFuZQkJKnBsYW5lOworCXN0cnVjdCBkcm1fYXRvbWljX3N0YXRlCQkqc3RhdGU7CisJc3Bp
bmxvY2tfdAkJCWlycV9sb2NrOworCWludAkJCQlpcnFfbGNkOworCWludAkJCQlpcnFfbWlwaTsK
KwlpbnQJCQkJc3lzX2Nsa19taHo7CisJZG1hX2FkZHJfdAkJCWZiX2FkZHI7Cit9OworCitzdGF0
aWMgaW5saW5lIHN0cnVjdCBrbWJfZHJtX3ByaXZhdGUgKnRvX2ttYihjb25zdCBzdHJ1Y3QgZHJt
X2RldmljZSAqZGV2KQoreworCXJldHVybiBjb250YWluZXJfb2YoZGV2LCBzdHJ1Y3Qga21iX2Ry
bV9wcml2YXRlLCBkcm0pOworfQorCitzdHJ1Y3QgYmx0X2xheWVyX2NvbmZpZyB7CisJdW5zaWdu
ZWQgY2hhciBsYXllcl9mb3JtYXQ7Cit9OworCitzdGF0aWMgaW5saW5lIHZvaWQga21iX3dyaXRl
X2xjZChzdHJ1Y3Qga21iX2RybV9wcml2YXRlICpkZXZfcCwKKwkJCQkgdW5zaWduZWQgaW50IHJl
ZywgdTMyIHZhbHVlKQoreworCXdyaXRlbCh2YWx1ZSwgKGRldl9wLT5sY2RfbW1pbyArIHJlZykp
OworfQorCitzdGF0aWMgaW5saW5lIHZvaWQga21iX3dyaXRlX21pcGkoc3RydWN0IGttYl9kcm1f
cHJpdmF0ZSAqZGV2X3AsCisJCQkJICB1bnNpZ25lZCBpbnQgcmVnLCB1MzIgdmFsdWUpCit7CisJ
d3JpdGVsKHZhbHVlLCAoZGV2X3AtPm1pcGlfbW1pbyArIHJlZykpOworfQorCitzdGF0aWMgaW5s
aW5lIHZvaWQga21iX3dyaXRlX21zc2NhbShzdHJ1Y3Qga21iX2RybV9wcml2YXRlICpkZXZfcCwK
KwkJCQkgICAgdW5zaWduZWQgaW50IHJlZywgdTMyIHZhbHVlKQoreworCXdyaXRlbCh2YWx1ZSwg
KGRldl9wLT5tc3NjYW1fbW1pbyArIHJlZykpOworfQorCitzdGF0aWMgaW5saW5lIHUzMiBrbWJf
cmVhZF9tc3NjYW0oc3RydWN0IGttYl9kcm1fcHJpdmF0ZSAqZGV2X3AsCisJCQkJICB1bnNpZ25l
ZCBpbnQgcmVnKQoreworCXJldHVybiByZWFkbChkZXZfcC0+bXNzY2FtX21taW8gKyByZWcpOwor
fQorCitzdGF0aWMgaW5saW5lIHZvaWQga21iX3NldF9iaXRtYXNrX21zc2NhbShzdHJ1Y3Qga21i
X2RybV9wcml2YXRlICpkZXZfcCwKKwkJCQkJICB1bnNpZ25lZCBpbnQgcmVnLCB1MzIgbWFzaykK
K3sKKwl1MzIgcmVnX3ZhbCA9IGttYl9yZWFkX21zc2NhbShkZXZfcCwgcmVnKTsKKworCWttYl93
cml0ZV9tc3NjYW0oZGV2X3AsIHJlZywgKHJlZ192YWwgfCBtYXNrKSk7Cit9CisKK3N0YXRpYyBp
bmxpbmUgdTMyIGttYl9yZWFkX2xjZChzdHJ1Y3Qga21iX2RybV9wcml2YXRlICpkZXZfcCwgdW5z
aWduZWQgaW50IHJlZykKK3sKKwlyZXR1cm4gcmVhZGwoZGV2X3AtPmxjZF9tbWlvICsgcmVnKTsK
K30KKworc3RhdGljIGlubGluZSB2b2lkIGttYl9zZXRfYml0bWFza19sY2Qoc3RydWN0IGttYl9k
cm1fcHJpdmF0ZSAqZGV2X3AsCisJCQkJICAgICAgIHVuc2lnbmVkIGludCByZWcsIHUzMiBtYXNr
KQoreworCXUzMiByZWdfdmFsID0ga21iX3JlYWRfbGNkKGRldl9wLCByZWcpOworCisJa21iX3dy
aXRlX2xjZChkZXZfcCwgcmVnLCAocmVnX3ZhbCB8IG1hc2spKTsKK30KKworc3RhdGljIGlubGlu
ZSB2b2lkIGttYl9jbHJfYml0bWFza19sY2Qoc3RydWN0IGttYl9kcm1fcHJpdmF0ZSAqZGV2X3As
CisJCQkJICAgICAgIHVuc2lnbmVkIGludCByZWcsIHUzMiBtYXNrKQoreworCXUzMiByZWdfdmFs
ID0ga21iX3JlYWRfbGNkKGRldl9wLCByZWcpOworCisJa21iX3dyaXRlX2xjZChkZXZfcCwgcmVn
LCAocmVnX3ZhbCAmICh+bWFzaykpKTsKK30KKworc3RhdGljIGlubGluZSB1MzIga21iX3JlYWRf
bWlwaShzdHJ1Y3Qga21iX2RybV9wcml2YXRlICpkZXZfcCwgdW5zaWduZWQgaW50IHJlZykKK3sK
KwlyZXR1cm4gcmVhZGwoZGV2X3AtPm1pcGlfbW1pbyArIHJlZyk7Cit9CisKK3N0YXRpYyBpbmxp
bmUgdm9pZCBrbWJfd3JpdGVfYml0c19taXBpKHN0cnVjdCBrbWJfZHJtX3ByaXZhdGUgKmRldl9w
LAorCQkJCSAgICAgICB1bnNpZ25lZCBpbnQgcmVnLCB1MzIgb2Zmc2V0LAorCQkJCSAgICAgICB1
MzIgbnVtX2JpdHMsIHUzMiB2YWx1ZSkKK3sKKwl1MzIgcmVnX3ZhbCA9IGttYl9yZWFkX21pcGko
ZGV2X3AsIHJlZyk7CisJdTMyIG1hc2sgPSAoMSA8PCBudW1fYml0cykgLSAxOworCisJdmFsdWUg
Jj0gbWFzazsKKwltYXNrIDw8PSBvZmZzZXQ7CisJcmVnX3ZhbCAmPSAofm1hc2spOworCXJlZ192
YWwgfD0gKHZhbHVlIDw8IG9mZnNldCk7CisjaWZkZWYgREVCVUcKKwlpZiAocmVnID09IERQSFlf
RlJFUV9DVFJMMF8zICsgNCkgeworCQlEUk1fSU5GTygiJXMgOiAlZCAgcmVnPTB4JXggb2Zmc2V0
PSVkIG51bV9iaXRzPSVkIHZhbD0weCV4XG4iLAorCQkJIF9fZnVuY19fLCBfX0xJTkVfXywgcmVn
LCBvZmZzZXQsIG51bV9iaXRzLAorCQkJIHJlZ192YWwpOworCX0KKyNlbmRpZgorCWttYl93cml0
ZV9taXBpKGRldl9wLCByZWcsIHJlZ192YWwpOworfQorCitzdGF0aWMgaW5saW5lIHZvaWQga21i
X3NldF9iaXRfbWlwaShzdHJ1Y3Qga21iX2RybV9wcml2YXRlICpkZXZfcCwKKwkJCQkgICAgdW5z
aWduZWQgaW50IHJlZywgdTMyIG9mZnNldCkKK3sKKwl1MzIgcmVnX3ZhbCA9IGttYl9yZWFkX21p
cGkoZGV2X3AsIHJlZyk7CisKKwlrbWJfd3JpdGVfbWlwaShkZXZfcCwgcmVnLCByZWdfdmFsIHwg
KDEgPDwgb2Zmc2V0KSk7Cit9CisKK3N0YXRpYyBpbmxpbmUgdm9pZCBrbWJfY2xyX2JpdF9taXBp
KHN0cnVjdCBrbWJfZHJtX3ByaXZhdGUgKmRldl9wLAorCQkJCSAgICB1bnNpZ25lZCBpbnQgcmVn
LCB1MzIgb2Zmc2V0KQoreworCXUzMiByZWdfdmFsID0ga21iX3JlYWRfbWlwaShkZXZfcCwgcmVn
KTsKKworCWttYl93cml0ZV9taXBpKGRldl9wLCByZWcsIHJlZ192YWwgJiAofigxIDw8IG9mZnNl
dCkpKTsKK30KKworc3RhdGljIGlubGluZSB2b2lkIGttYl9zZXRfYml0bWFza19taXBpKHN0cnVj
dCBrbWJfZHJtX3ByaXZhdGUgKmRldl9wLAorCQkJCQl1bnNpZ25lZCBpbnQgcmVnLCB1MzIgbWFz
aykKK3sKKwl1MzIgcmVnX3ZhbCA9IGttYl9yZWFkX21pcGkoZGV2X3AsIHJlZyk7CisKKwlrbWJf
d3JpdGVfbWlwaShkZXZfcCwgcmVnLCAocmVnX3ZhbCB8IG1hc2spKTsKK30KKworc3RhdGljIGlu
bGluZSB2b2lkIGttYl9jbHJfYml0bWFza19taXBpKHN0cnVjdCBrbWJfZHJtX3ByaXZhdGUgKmRl
dl9wLAorCQkJCQl1bnNpZ25lZCBpbnQgcmVnLCB1MzIgbWFzaykKK3sKKwl1MzIgcmVnX3ZhbCA9
IGttYl9yZWFkX21pcGkoZGV2X3AsIHJlZyk7CisKKwlrbWJfd3JpdGVfbWlwaShkZXZfcCwgcmVn
LCAocmVnX3ZhbCAmICh+bWFzaykpKTsKK30KKworaW50IGttYl9zZXR1cF9jcnRjKHN0cnVjdCBk
cm1fZGV2aWNlICpkZXYpOwordm9pZCBrbWJfc2V0X3NjYW5vdXQoc3RydWN0IGttYl9kcm1fcHJp
dmF0ZSAqbGNkKTsKKyNlbmRpZiAvKiBfX0tNQl9EUlZfSF9fICovCmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0va21iL2ttYl9kc2kuYyBiL2RyaXZlcnMvZ3B1L2RybS9rbWIva21iX2RzaS5j
Cm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAuLmVhZGRmMjAKLS0tIC9kZXYvbnVs
bAorKysgYi9kcml2ZXJzL2dwdS9kcm0va21iL2ttYl9kc2kuYwpAQCAtMCwwICsxLDE4MzMgQEAK
Ky8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wLW9ubHkKKy8qCisgKiBDb3B5cmln
aHQgwqkgMjAxOS0yMDIwIEludGVsIENvcnBvcmF0aW9uCisgKi8KKworI2luY2x1ZGUgPGxpbnV4
L2RlbGF5Lmg+CisjaW5jbHVkZSA8bGludXgvZ3Bpby9jb25zdW1lci5oPgorI2luY2x1ZGUgPGxp
bnV4L3NsYWIuaD4KKyNpbmNsdWRlIDxsaW51eC9zcGlubG9jay5oPgorI2luY2x1ZGUgPGRybS9k
cm1fYXRvbWljX2hlbHBlci5oPgorI2luY2x1ZGUgPGRybS9kcm1fYnJpZGdlLmg+CisjaW5jbHVk
ZSA8ZHJtL2RybV9jb25uZWN0b3IuaD4KKyNpbmNsdWRlIDxkcm0vZHJtX2NydGMuaD4KKyNpbmNs
dWRlIDxkcm0vZHJtX2NydGNfaGVscGVyLmg+CisjaW5jbHVkZSA8ZHJtL2RybV9lZGlkLmg+Cisj
aW5jbHVkZSA8ZHJtL2RybV9taXBpX2RzaS5oPgorI2luY2x1ZGUgPGRybS9kcm1fcHJpbnQuaD4K
KyNpbmNsdWRlIDxkcm0vZHJtX3Byb2JlX2hlbHBlci5oPgorI2luY2x1ZGUgImttYl9kcnYuaCIK
KyNpbmNsdWRlICJrbWJfZHNpLmgiCisjaW5jbHVkZSAia21iX3JlZ3MuaCIKKworc3RhdGljIGlu
dCBod19pbml0aWFsaXplZDsKKy8vI2RlZmluZSBNSVBJX1RYX1RFU1RfUEFUVEVSTl9HRU5FUkFU
SU9OCisvLyNkZWZpbmUgRFBIWV9HRVRfRlNNCisvLyNkZWZpbmUgRFBIWV9SRUFEX1RFU1RDT0RF
CisKK3N0YXRpYyBzdHJ1Y3QgbWlwaV9kc2lfaG9zdCAqZHNpX2hvc3Q7CitzdGF0aWMgc3RydWN0
IG1pcGlfZHNpX2RldmljZSAqZHNpX2RldmljZTsKKworLyogRGVmYXVsdCBzZXR0aW5nIGlzIDEw
ODBwLCA0IGxhbmVzICovCisjZGVmaW5lIElNR19IRUlHSFRfTElORVMgIDEwODAKKyNkZWZpbmUg
SU1HX1dJRFRIX1BYICAgICAgMTkyMAorI2RlZmluZSBNSVBJX1RYX0FDVElWRV9MQU5FUyA0CisK
K3N0cnVjdCBtaXBpX3R4X2ZyYW1lX3NlY3Rpb25fY2ZnIG1pcGlfdHhfZnJhbWUwX3NlY3RfY2Zn
ID0geworCS53aWR0aF9waXhlbHMgPSBJTUdfV0lEVEhfUFgsCisJLmhlaWdodF9saW5lcyA9IElN
R19IRUlHSFRfTElORVMsCisJLmRhdGFfdHlwZSA9IERTSV9MUF9EVF9QUFNfUkdCODg4XzI0QiwK
KwkuZGF0YV9tb2RlID0gTUlQSV9EQVRBX01PREUxLAorCS5kbWFfcGFja2VkID0gMAorfTsKKwor
c3RydWN0IG1pcGlfdHhfZnJhbWVfY2ZnIG1pcGl0eF9mcmFtZTBfY2ZnID0geworCS5zZWN0aW9u
c1swXSA9ICZtaXBpX3R4X2ZyYW1lMF9zZWN0X2NmZywKKwkuc2VjdGlvbnNbMV0gPSBOVUxMLAor
CS5zZWN0aW9uc1syXSA9IE5VTEwsCisJLnNlY3Rpb25zWzNdID0gTlVMTCwKKwkudnN5bmNfd2lk
dGggPSA1LAorCS52X2JhY2twb3JjaCA9IDM2LAorCS52X2Zyb250cG9yY2ggPSA0LAorCS5oc3lu
Y193aWR0aCA9IDQ0LAorCS5oX2JhY2twb3JjaCA9IDE0OCwKKwkuaF9mcm9udHBvcmNoID0gODgK
K307CisKK3N0cnVjdCBtaXBpX3R4X2RzaV9jZmcgbWlwaXR4X2RzaV9jZmcgPSB7CisJLmhmcF9i
bGFua19lbiA9IDAsCisJLmVvdHBfZW4gPSAwLAorCS5scG1fbGFzdF92ZnBfbGluZSA9IDAsCisJ
LmxwbV9maXJzdF92c2FfbGluZSA9IDAsCisJLnN5bmNfcHVsc2VfZXZlbnRuID0gRFNJX1ZJREVP
X01PREVfTk9fQlVSU1RfRVZFTlQsCisJLmhmcF9ibGFua2luZyA9IFNFTkRfQkxBTktfUEFDS0VU
LAorCS5oYnBfYmxhbmtpbmcgPSBTRU5EX0JMQU5LX1BBQ0tFVCwKKwkuaHNhX2JsYW5raW5nID0g
U0VORF9CTEFOS19QQUNLRVQsCisJLnZfYmxhbmtpbmcgPSBTRU5EX0JMQU5LX1BBQ0tFVCwKK307
CisKK3N0cnVjdCBtaXBpX2N0cmxfY2ZnIG1pcGlfdHhfaW5pdF9jZmcgPSB7CisJLmluZGV4ID0g
TUlQSV9DVFJMNiwKKwkudHlwZSA9IE1JUElfRFNJLAorCS5kaXIgPSBNSVBJX1RYLAorCS5hY3Rp
dmVfbGFuZXMgPSBNSVBJX1RYX0FDVElWRV9MQU5FUywKKwkubGFuZV9yYXRlX21icHMgPSBNSVBJ
X1RYX0xBTkVfREFUQV9SQVRFX01CUFMsCisJLnJlZl9jbGtfa2h6ID0gTUlQSV9UWF9SRUZfQ0xL
X0tIWiwKKwkuY2ZnX2Nsa19raHogPSBNSVBJX1RYX0NGR19DTEtfS0haLAorCS5kYXRhX2lmID0g
TUlQSV9JRl9QQVJBTExFTCwKKwkudHhfY3RybF9jZmcgPSB7CisJCQkuZnJhbWVzWzBdID0gJm1p
cGl0eF9mcmFtZTBfY2ZnLAorCQkJLmZyYW1lc1sxXSA9IE5VTEwsCisJCQkuZnJhbWVzWzJdID0g
TlVMTCwKKwkJCS5mcmFtZXNbM10gPSBOVUxMLAorCQkJLnR4X2RzaV9jZmcgPSAmbWlwaXR4X2Rz
aV9jZmcsCisJCQkubGluZV9zeW5jX3BrdF9lbiA9IDAsCisJCQkubGluZV9jb3VudGVyX2FjdGl2
ZSA9IDAsCisJCQkuZnJhbWVfY291bnRlcl9hY3RpdmUgPSAwLAorCQkJLnR4X2Fsd2F5c191c2Vf
aGFjdCA9IDEsCisJCQkudHhfaGFjdF93YWl0X3N0b3AgPSAxLAorCQkJfQorfTsKKworc3RydWN0
ICBtaXBpX2hzX2ZyZXFfcmFuZ2VfY2ZnIHsKKwl1aW50MTZfdCBkZWZhdWx0X2JpdF9yYXRlX21i
cHM7CisJdWludDhfdCBoc2ZyZXFyYW5nZV9jb2RlOworfTsKKworc3RydWN0IHZjb19wYXJhbXMg
eworCXUzMiBmcmVxOworCXUzMiByYW5nZTsKKwl1MzIgZGl2aWRlcjsKK307CisKK3N0YXRpYyBz
dHJ1Y3QgdmNvX3BhcmFtcyB2Y29fdGFibGVbXSA9IHsKKwl7NTIsIDB4M2YsIDh9LAorCXs4MCwg
MHgzOSwgOH0sCisJezEwNSwgMHgyZiwgNH0sCisJezE2MCwgMHgyOSwgNH0sCisJezIxMCwgMHgx
ZiwgMn0sCisJezMyMCwgMHgxOSwgMn0sCisJezQyMCwgMHgwZiwgMX0sCisJezYzMCwgMHgwOSwg
MX0sCisJezExMDAsIDB4MDMsIDF9LAorCXsweGZmZmYsIDB4MDEsIDF9LAorfTsKKworc3RhdGlj
IHN0cnVjdCBtaXBpX2hzX2ZyZXFfcmFuZ2VfY2ZnCittaXBpX2hzX2ZyZXFfcmFuZ2VbTUlQSV9E
UEhZX0RFRkFVTFRfQklUX1JBVEVTXSA9IHsKKwl7LmRlZmF1bHRfYml0X3JhdGVfbWJwcyA9IDgw
LCAuaHNmcmVxcmFuZ2VfY29kZSA9IDB4MDB9LAorCXsuZGVmYXVsdF9iaXRfcmF0ZV9tYnBzID0g
OTAsIC5oc2ZyZXFyYW5nZV9jb2RlID0gMHgxMH0sCisJey5kZWZhdWx0X2JpdF9yYXRlX21icHMg
PSAxMDAsIC5oc2ZyZXFyYW5nZV9jb2RlID0gMHgyMH0sCisJey5kZWZhdWx0X2JpdF9yYXRlX21i
cHMgPSAxMTAsIC5oc2ZyZXFyYW5nZV9jb2RlID0gMHgzMH0sCisJey5kZWZhdWx0X2JpdF9yYXRl
X21icHMgPSAxMjAsIC5oc2ZyZXFyYW5nZV9jb2RlID0gMHgwMX0sCisJey5kZWZhdWx0X2JpdF9y
YXRlX21icHMgPSAxMzAsIC5oc2ZyZXFyYW5nZV9jb2RlID0gMHgxMX0sCisJey5kZWZhdWx0X2Jp
dF9yYXRlX21icHMgPSAxNDAsIC5oc2ZyZXFyYW5nZV9jb2RlID0gMHgyMX0sCisJey5kZWZhdWx0
X2JpdF9yYXRlX21icHMgPSAxNTAsIC5oc2ZyZXFyYW5nZV9jb2RlID0gMHgzMX0sCisJey5kZWZh
dWx0X2JpdF9yYXRlX21icHMgPSAxNjAsIC5oc2ZyZXFyYW5nZV9jb2RlID0gMHgwMn0sCisJey5k
ZWZhdWx0X2JpdF9yYXRlX21icHMgPSAxNzAsIC5oc2ZyZXFyYW5nZV9jb2RlID0gMHgxMn0sCisJ
ey5kZWZhdWx0X2JpdF9yYXRlX21icHMgPSAxODAsIC5oc2ZyZXFyYW5nZV9jb2RlID0gMHgyMn0s
CisJey5kZWZhdWx0X2JpdF9yYXRlX21icHMgPSAxOTAsIC5oc2ZyZXFyYW5nZV9jb2RlID0gMHgz
Mn0sCisJey5kZWZhdWx0X2JpdF9yYXRlX21icHMgPSAyMDUsIC5oc2ZyZXFyYW5nZV9jb2RlID0g
MHgwM30sCisJey5kZWZhdWx0X2JpdF9yYXRlX21icHMgPSAyMjAsIC5oc2ZyZXFyYW5nZV9jb2Rl
ID0gMHgxM30sCisJey5kZWZhdWx0X2JpdF9yYXRlX21icHMgPSAyMzUsIC5oc2ZyZXFyYW5nZV9j
b2RlID0gMHgyM30sCisJey5kZWZhdWx0X2JpdF9yYXRlX21icHMgPSAyNTAsIC5oc2ZyZXFyYW5n
ZV9jb2RlID0gMHgzM30sCisJey5kZWZhdWx0X2JpdF9yYXRlX21icHMgPSAyNzUsIC5oc2ZyZXFy
YW5nZV9jb2RlID0gMHgwNH0sCisJey5kZWZhdWx0X2JpdF9yYXRlX21icHMgPSAzMDAsIC5oc2Zy
ZXFyYW5nZV9jb2RlID0gMHgxNH0sCisJey5kZWZhdWx0X2JpdF9yYXRlX21icHMgPSAzMjUsIC5o
c2ZyZXFyYW5nZV9jb2RlID0gMHgyNX0sCisJey5kZWZhdWx0X2JpdF9yYXRlX21icHMgPSAzNTAs
IC5oc2ZyZXFyYW5nZV9jb2RlID0gMHgzNX0sCisJey5kZWZhdWx0X2JpdF9yYXRlX21icHMgPSA0
MDAsIC5oc2ZyZXFyYW5nZV9jb2RlID0gMHgwNX0sCisJey5kZWZhdWx0X2JpdF9yYXRlX21icHMg
PSA0NTAsIC5oc2ZyZXFyYW5nZV9jb2RlID0gMHgxNn0sCisJey5kZWZhdWx0X2JpdF9yYXRlX21i
cHMgPSA1MDAsIC5oc2ZyZXFyYW5nZV9jb2RlID0gMHgyNn0sCisJey5kZWZhdWx0X2JpdF9yYXRl
X21icHMgPSA1NTAsIC5oc2ZyZXFyYW5nZV9jb2RlID0gMHgzN30sCisJey5kZWZhdWx0X2JpdF9y
YXRlX21icHMgPSA2MDAsIC5oc2ZyZXFyYW5nZV9jb2RlID0gMHgwN30sCisJey5kZWZhdWx0X2Jp
dF9yYXRlX21icHMgPSA2NTAsIC5oc2ZyZXFyYW5nZV9jb2RlID0gMHgxOH0sCisJey5kZWZhdWx0
X2JpdF9yYXRlX21icHMgPSA3MDAsIC5oc2ZyZXFyYW5nZV9jb2RlID0gMHgyOH0sCisJey5kZWZh
dWx0X2JpdF9yYXRlX21icHMgPSA3NTAsIC5oc2ZyZXFyYW5nZV9jb2RlID0gMHgzOX0sCisJey5k
ZWZhdWx0X2JpdF9yYXRlX21icHMgPSA4MDAsIC5oc2ZyZXFyYW5nZV9jb2RlID0gMHgwOX0sCisJ
ey5kZWZhdWx0X2JpdF9yYXRlX21icHMgPSA4NTAsIC5oc2ZyZXFyYW5nZV9jb2RlID0gMHgxOX0s
CisJey5kZWZhdWx0X2JpdF9yYXRlX21icHMgPSA5MDAsIC5oc2ZyZXFyYW5nZV9jb2RlID0gMHgy
OX0sCisJey5kZWZhdWx0X2JpdF9yYXRlX21icHMgPSAxMDAwLCAuaHNmcmVxcmFuZ2VfY29kZSA9
IDB4MEF9LAorCXsuZGVmYXVsdF9iaXRfcmF0ZV9tYnBzID0gMTA1MCwgLmhzZnJlcXJhbmdlX2Nv
ZGUgPSAweDFBfSwKKwl7LmRlZmF1bHRfYml0X3JhdGVfbWJwcyA9IDExMDAsIC5oc2ZyZXFyYW5n
ZV9jb2RlID0gMHgyQX0sCisJey5kZWZhdWx0X2JpdF9yYXRlX21icHMgPSAxMTUwLCAuaHNmcmVx
cmFuZ2VfY29kZSA9IDB4M0J9LAorCXsuZGVmYXVsdF9iaXRfcmF0ZV9tYnBzID0gMTIwMCwgLmhz
ZnJlcXJhbmdlX2NvZGUgPSAweDBCfSwKKwl7LmRlZmF1bHRfYml0X3JhdGVfbWJwcyA9IDEyNTAs
IC5oc2ZyZXFyYW5nZV9jb2RlID0gMHgxQn0sCisJey5kZWZhdWx0X2JpdF9yYXRlX21icHMgPSAx
MzAwLCAuaHNmcmVxcmFuZ2VfY29kZSA9IDB4MkJ9LAorCXsuZGVmYXVsdF9iaXRfcmF0ZV9tYnBz
ID0gMTM1MCwgLmhzZnJlcXJhbmdlX2NvZGUgPSAweDNDfSwKKwl7LmRlZmF1bHRfYml0X3JhdGVf
bWJwcyA9IDE0MDAsIC5oc2ZyZXFyYW5nZV9jb2RlID0gMHgwQ30sCisJey5kZWZhdWx0X2JpdF9y
YXRlX21icHMgPSAxNDUwLCAuaHNmcmVxcmFuZ2VfY29kZSA9IDB4MUN9LAorCXsuZGVmYXVsdF9i
aXRfcmF0ZV9tYnBzID0gMTUwMCwgLmhzZnJlcXJhbmdlX2NvZGUgPSAweDJDfSwKKwl7LmRlZmF1
bHRfYml0X3JhdGVfbWJwcyA9IDE1NTAsIC5oc2ZyZXFyYW5nZV9jb2RlID0gMHgzRH0sCisJey5k
ZWZhdWx0X2JpdF9yYXRlX21icHMgPSAxNjAwLCAuaHNmcmVxcmFuZ2VfY29kZSA9IDB4MER9LAor
CXsuZGVmYXVsdF9iaXRfcmF0ZV9tYnBzID0gMTY1MCwgLmhzZnJlcXJhbmdlX2NvZGUgPSAweDFE
fSwKKwl7LmRlZmF1bHRfYml0X3JhdGVfbWJwcyA9IDE3MDAsIC5oc2ZyZXFyYW5nZV9jb2RlID0g
MHgyRX0sCisJey5kZWZhdWx0X2JpdF9yYXRlX21icHMgPSAxNzUwLCAuaHNmcmVxcmFuZ2VfY29k
ZSA9IDB4M0V9LAorCXsuZGVmYXVsdF9iaXRfcmF0ZV9tYnBzID0gMTgwMCwgLmhzZnJlcXJhbmdl
X2NvZGUgPSAweDBFfSwKKwl7LmRlZmF1bHRfYml0X3JhdGVfbWJwcyA9IDE4NTAsIC5oc2ZyZXFy
YW5nZV9jb2RlID0gMHgxRX0sCisJey5kZWZhdWx0X2JpdF9yYXRlX21icHMgPSAxOTAwLCAuaHNm
cmVxcmFuZ2VfY29kZSA9IDB4MkZ9LAorCXsuZGVmYXVsdF9iaXRfcmF0ZV9tYnBzID0gMTk1MCwg
LmhzZnJlcXJhbmdlX2NvZGUgPSAweDNGfSwKKwl7LmRlZmF1bHRfYml0X3JhdGVfbWJwcyA9IDIw
MDAsIC5oc2ZyZXFyYW5nZV9jb2RlID0gMHgwRn0sCisJey5kZWZhdWx0X2JpdF9yYXRlX21icHMg
PSAyMDUwLCAuaHNmcmVxcmFuZ2VfY29kZSA9IDB4NDB9LAorCXsuZGVmYXVsdF9iaXRfcmF0ZV9t
YnBzID0gMjEwMCwgLmhzZnJlcXJhbmdlX2NvZGUgPSAweDQxfSwKKwl7LmRlZmF1bHRfYml0X3Jh
dGVfbWJwcyA9IDIxNTAsIC5oc2ZyZXFyYW5nZV9jb2RlID0gMHg0Mn0sCisJey5kZWZhdWx0X2Jp
dF9yYXRlX21icHMgPSAyMjAwLCAuaHNmcmVxcmFuZ2VfY29kZSA9IDB4NDN9LAorCXsuZGVmYXVs
dF9iaXRfcmF0ZV9tYnBzID0gMjI1MCwgLmhzZnJlcXJhbmdlX2NvZGUgPSAweDQ0fSwKKwl7LmRl
ZmF1bHRfYml0X3JhdGVfbWJwcyA9IDIzMDAsIC5oc2ZyZXFyYW5nZV9jb2RlID0gMHg0NX0sCisJ
ey5kZWZhdWx0X2JpdF9yYXRlX21icHMgPSAyMzUwLCAuaHNmcmVxcmFuZ2VfY29kZSA9IDB4NDZ9
LAorCXsuZGVmYXVsdF9iaXRfcmF0ZV9tYnBzID0gMjQwMCwgLmhzZnJlcXJhbmdlX2NvZGUgPSAw
eDQ3fSwKKwl7LmRlZmF1bHRfYml0X3JhdGVfbWJwcyA9IDI0NTAsIC5oc2ZyZXFyYW5nZV9jb2Rl
ID0gMHg0OH0sCisJey5kZWZhdWx0X2JpdF9yYXRlX21icHMgPSAyNTAwLCAuaHNmcmVxcmFuZ2Vf
Y29kZSA9IDB4NDl9Cit9OworCit1bmlvbiBtaXBpX2lycV9jZmcgaW50X2NmZyA9IHsKKwkuaXJx
X2NmZy5mcmFtZV9kb25lID0gMSwKKwkuaXJxX2NmZy5jdHJsX2Vycm9yID0gMSwKK307CisKK3N0
YXRpYyBlbnVtIGRybV9tb2RlX3N0YXR1cwora21iX2RzaV9tb2RlX3ZhbGlkKHN0cnVjdCBkcm1f
Y29ubmVjdG9yICpjb25uZWN0b3IsCisJCSAgIHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2Rl
KQoreworCXN0cnVjdCBkcm1fZGV2aWNlICpkZXYgPSBjb25uZWN0b3ItPmRldjsKKwlzdHJ1Y3Qg
ZHJtX21vZGVfY29uZmlnICptb2RlX2NvbmZpZyA9ICZkZXYtPm1vZGVfY29uZmlnOworCisJaWYg
KG1vZGUtPmhkaXNwbGF5IDwgbW9kZV9jb25maWctPm1pbl93aWR0aCB8fAorCQkJbW9kZS0+aGRp
c3BsYXkgPiBtb2RlX2NvbmZpZy0+bWF4X3dpZHRoKQorCQlyZXR1cm4gTU9ERV9CQURfSFZBTFVF
OworCisJaWYgKG1vZGUtPnZkaXNwbGF5IDwgbW9kZV9jb25maWctPm1pbl9oZWlnaHQgfHwKKwkJ
CW1vZGUtPnZkaXNwbGF5ID4gbW9kZV9jb25maWctPm1heF9oZWlnaHQpCisJCXJldHVybiBNT0RF
X0JBRF9WVkFMVUU7CisKKwlyZXR1cm4gTU9ERV9PSzsKK30KKworc3RhdGljIGludCBrbWJfZHNp
X2dldF9tb2RlcyhzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQoreworCWludCBudW1f
bW9kZXMgPSAwOworCisJbnVtX21vZGVzID0gZHJtX2FkZF9tb2Rlc19ub2VkaWQoY29ubmVjdG9y
LAorCQkJIGNvbm5lY3Rvci0+ZGV2LT5tb2RlX2NvbmZpZy5tYXhfd2lkdGgsCisJCQkgY29ubmVj
dG9yLT5kZXYtPm1vZGVfY29uZmlnLm1heF9oZWlnaHQpOworCisJRFJNX0lORk8oIndpZHRoPSVk
IGhlaWdodD0lZFxuIiwKKwkJIGNvbm5lY3Rvci0+ZGV2LT5tb2RlX2NvbmZpZy5tYXhfd2lkdGgs
CisJCSBjb25uZWN0b3ItPmRldi0+bW9kZV9jb25maWcubWF4X2hlaWdodCk7CisJRFJNX0lORk8o
Im51bSBtb2Rlcz0lZFxuIiwgbnVtX21vZGVzKTsKKworCXJldHVybiBudW1fbW9kZXM7Cit9CisK
K3ZvaWQga21iX2RzaV9ob3N0X3VucmVnaXN0ZXIodm9pZCkKK3sKKwltaXBpX2RzaV9ob3N0X3Vu
cmVnaXN0ZXIoZHNpX2hvc3QpOworCWtmcmVlKGRzaV9ob3N0KTsKK30KKworc3RhdGljIHZvaWQg
a21iX2RzaV9jb25uZWN0b3JfZGVzdHJveShzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9y
KQoreworCXN0cnVjdCBrbWJfY29ubmVjdG9yICprbWJfY29ubmVjdG9yID0gdG9fa21iX2Nvbm5l
Y3Rvcihjb25uZWN0b3IpOworCisJZHJtX2Nvbm5lY3Rvcl9jbGVhbnVwKGNvbm5lY3Rvcik7CisJ
a2ZyZWUoa21iX2Nvbm5lY3Rvcik7Cit9CisKK3N0YXRpYyB2b2lkIGttYl9kc2lfZW5jb2Rlcl9k
ZXN0cm95KHN0cnVjdCBkcm1fZW5jb2RlciAqZW5jb2RlcikKK3sKKwlzdHJ1Y3Qga21iX2RzaSAq
a21iX2RzaSA9IHRvX2ttYl9kc2koZW5jb2Rlcik7CisKKwlpZiAoIWttYl9kc2kpCisJCXJldHVy
bjsKKworCWtmcmVlKGttYl9kc2ktPmRzaV9ob3N0KTsKKworCWRybV9lbmNvZGVyX2NsZWFudXAo
ZW5jb2Rlcik7CisKKwlrbWJfZHNpX2Nvbm5lY3Rvcl9kZXN0cm95KCZrbWJfZHNpLT5hdHRhY2hl
ZF9jb25uZWN0b3ItPmJhc2UpOworCisJa2ZyZWUoa21iX2RzaSk7CisJaWYgKCFkc2lfZGV2aWNl
KQorCQlrZnJlZShkc2lfZGV2aWNlKTsKK30KKworc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fZW5j
b2Rlcl9mdW5jcyBrbWJfZHNpX2Z1bmNzID0geworCS5kZXN0cm95ID0ga21iX2RzaV9lbmNvZGVy
X2Rlc3Ryb3ksCit9OworCitzdGF0aWMgY29uc3Qgc3RydWN0Citkcm1fY29ubmVjdG9yX2hlbHBl
cl9mdW5jcyBrbWJfZHNpX2Nvbm5lY3Rvcl9oZWxwZXJfZnVuY3MgPSB7CisJLmdldF9tb2RlcyA9
IGttYl9kc2lfZ2V0X21vZGVzLAorCS5tb2RlX3ZhbGlkID0ga21iX2RzaV9tb2RlX3ZhbGlkLAor
fTsKKworc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fY29ubmVjdG9yX2Z1bmNzIGttYl9kc2lfY29u
bmVjdG9yX2Z1bmNzID0geworCS5kZXN0cm95ID0ga21iX2RzaV9jb25uZWN0b3JfZGVzdHJveSwK
KwkuZmlsbF9tb2RlcyA9IGRybV9oZWxwZXJfcHJvYmVfc2luZ2xlX2Nvbm5lY3Rvcl9tb2RlcywK
KwkucmVzZXQgPSBkcm1fYXRvbWljX2hlbHBlcl9jb25uZWN0b3JfcmVzZXQsCisJLmF0b21pY19k
ZXN0cm95X3N0YXRlID0gZHJtX2F0b21pY19oZWxwZXJfY29ubmVjdG9yX2Rlc3Ryb3lfc3RhdGUs
CisJLmF0b21pY19kdXBsaWNhdGVfc3RhdGUgPSBkcm1fYXRvbWljX2hlbHBlcl9jb25uZWN0b3Jf
ZHVwbGljYXRlX3N0YXRlLAorfTsKKworc3RhdGljIHNzaXplX3Qga21iX2RzaV9ob3N0X3RyYW5z
ZmVyKHN0cnVjdCBtaXBpX2RzaV9ob3N0ICpob3N0LAorCQkJCSAgICAgY29uc3Qgc3RydWN0IG1p
cGlfZHNpX21zZyAqbXNnKQoreworCXJldHVybiAwOworfQorCitzdGF0aWMgaW50IGttYl9kc2lf
aG9zdF9hdHRhY2goc3RydWN0IG1pcGlfZHNpX2hvc3QgKmhvc3QsCisJCQkgICAgICAgc3RydWN0
IG1pcGlfZHNpX2RldmljZSAqZGV2KQoreworCXJldHVybiAwOworfQorCitzdGF0aWMgaW50IGtt
Yl9kc2lfaG9zdF9kZXRhY2goc3RydWN0IG1pcGlfZHNpX2hvc3QgKmhvc3QsCisJCQkgICAgICAg
c3RydWN0IG1pcGlfZHNpX2RldmljZSAqZGV2KQoreworCXJldHVybiAwOworfQorCitzdGF0aWMg
Y29uc3Qgc3RydWN0IG1pcGlfZHNpX2hvc3Rfb3BzIGttYl9kc2lfaG9zdF9vcHMgPSB7CisJLmF0
dGFjaCA9IGttYl9kc2lfaG9zdF9hdHRhY2gsCisJLmRldGFjaCA9IGttYl9kc2lfaG9zdF9kZXRh
Y2gsCisJLnRyYW5zZmVyID0ga21iX2RzaV9ob3N0X3RyYW5zZmVyLAorfTsKKworc3RhdGljIHN0
cnVjdCBrbWJfZHNpX2hvc3QgKmttYl9kc2lfaG9zdF9pbml0KHN0cnVjdCBkcm1fZGV2aWNlICpk
cm0sCisJCQkJCSAgICAgIHN0cnVjdCBrbWJfZHNpICprbWJfZHNpKQoreworCXN0cnVjdCBrbWJf
ZHNpX2hvc3QgKmhvc3Q7CisKKwlob3N0ID0ga3phbGxvYyhzaXplb2YoKmhvc3QpLCBHRlBfS0VS
TkVMKTsKKwlpZiAoIWhvc3QpCisJCXJldHVybiBOVUxMOworCisJaG9zdC0+YmFzZSA9IGRzaV9o
b3N0OworCWhvc3QtPmJhc2UtPm9wcyA9ICZrbWJfZHNpX2hvc3Rfb3BzOworCWhvc3QtPmttYl9k
c2kgPSBrbWJfZHNpOworCisJaG9zdC0+YmFzZS0+ZGV2ID0gZHJtLT5kZXY7CisKKwlkc2lfZGV2
aWNlLT5ob3N0ID0gaG9zdC0+YmFzZTsKKwlob3N0LT5kZXZpY2UgPSBkc2lfZGV2aWNlOworCXJl
dHVybiBob3N0OworfQorCitzdHJ1Y3QgZHJtX2JyaWRnZSAqa21iX2RzaV9ob3N0X2JyaWRnZV9p
bml0KHN0cnVjdCBkZXZpY2UgKmRldikKK3sKKwlzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlID0g
TlVMTDsKKwlzdHJ1Y3QgZGV2aWNlX25vZGUgKmVuY29kZXJfbm9kZTsKKworCS8qIENyZWF0ZSBh
bmQgcmVnaXN0ZXIgTUlQSSBEU0kgaG9zdCAqLworCWlmICghZHNpX2hvc3QpIHsKKwkJZHNpX2hv
c3QgPSBremFsbG9jKHNpemVvZigqZHNpX2hvc3QpLCBHRlBfS0VSTkVMKTsKKwkJaWYgKCFkc2lf
aG9zdCkKKwkJCXJldHVybiBFUlJfUFRSKC1FTk9NRU0pOworCisJCWRzaV9ob3N0LT5vcHMgPSAm
a21iX2RzaV9ob3N0X29wczsKKworCQlpZiAoIWRzaV9kZXZpY2UpIHsKKwkJCWRzaV9kZXZpY2Ug
PSBremFsbG9jKHNpemVvZigqZHNpX2RldmljZSksIEdGUF9LRVJORUwpOworCQkJaWYgKCFkc2lf
ZGV2aWNlKSB7CisJCQkJa2ZyZWUoZHNpX2hvc3QpOworCQkJCXJldHVybiBFUlJfUFRSKC1FTk9N
RU0pOworCQkJfQorCQl9CisKKwkJZHNpX2hvc3QtPmRldiA9IGRldjsKKwkJbWlwaV9kc2lfaG9z
dF9yZWdpc3Rlcihkc2lfaG9zdCk7CisJfQorCS8qIEZpbmQgQURWNzUzNSBub2RlIGFuZCBpbml0
aWFsaXplIGl0ICovCisJZW5jb2Rlcl9ub2RlID0gb2ZfcGFyc2VfcGhhbmRsZShkZXYtPm9mX25v
ZGUsICJlbmNvZGVyLXNsYXZlIiwgMCk7CisKKwlpZiAoIWVuY29kZXJfbm9kZSkgeworCQlEUk1f
RVJST1IoIkZhaWxlZCB0byBnZXQgYnJpZGdlIGluZm8gZnJvbSBEVFxuIik7CisJCXJldHVybiBF
UlJfUFRSKC1FSU5WQUwpOworCX0KKworCS8qIExvY2F0ZSBkcm0gYnJpZGdlIGZyb20gdGhlIGhk
bWkgZW5jb2RlciBEVCBub2RlICovCisJYnJpZGdlID0gb2ZfZHJtX2ZpbmRfYnJpZGdlKGVuY29k
ZXJfbm9kZSk7CisJb2Zfbm9kZV9wdXQoZW5jb2Rlcl9ub2RlKTsKKwlpZiAoIWJyaWRnZSkgewor
CQlEUk1fSU5GTygiV2FpdCBmb3IgZXh0ZXJuYWwgYnJpZGdlIGRyaXZlciBEVFxuIik7CisJCXJl
dHVybiBFUlJfUFRSKC1FUFJPQkVfREVGRVIpOworCX0KKwlyZXR1cm4gYnJpZGdlOworfQorCit1
MzIgbWlwaV9nZXRfZGF0YXR5cGVfcGFyYW1zKHUzMiBkYXRhX3R5cGUsIHUzMiBkYXRhX21vZGUs
CisJCQkgICAgIHN0cnVjdCBtaXBpX2RhdGFfdHlwZV9wYXJhbXMgKnBhcmFtcykKK3sKKwlzdHJ1
Y3QgbWlwaV9kYXRhX3R5cGVfcGFyYW1zIGRhdGFfdHlwZV9wYXJhbTsKKworCXN3aXRjaCAoZGF0
YV90eXBlKSB7CisJY2FzZSBEU0lfTFBfRFRfUFBTX1lDQkNSNDIwXzEyQjoKKwkJZGF0YV90eXBl
X3BhcmFtLnNpemVfY29uc3RyYWludF9waXhlbHMgPSAyOworCQlkYXRhX3R5cGVfcGFyYW0uc2l6
ZV9jb25zdHJhaW50X2J5dGVzID0gMzsKKwkJc3dpdGNoIChkYXRhX21vZGUpIHsKKwkJCS8qIENh
c2UgMCBub3Qgc3VwcG9ydGVkIGFjY29yZGluZyB0byBNREsgKi8KKwkJY2FzZSAxOgorCQljYXNl
IDI6CisJCWNhc2UgMzoKKwkJCWRhdGFfdHlwZV9wYXJhbS5waXhlbHNfcGVyX3BjbGsgPSAyOwor
CQkJZGF0YV90eXBlX3BhcmFtLmJpdHNfcGVyX3BjbGsgPSAyNDsKKwkJCWJyZWFrOworCQlkZWZh
dWx0OgorCQkJRFJNX0VSUk9SKCJEU0k6IEludmFsaWQgZGF0YV9tb2RlICVkXG4iLCBkYXRhX21v
ZGUpOworCQkJcmV0dXJuIC1FSU5WQUw7CisJCX07CisJCWJyZWFrOworCWNhc2UgRFNJX0xQX0RU
X1BQU19ZQ0JDUjQyMl8xNkI6CisJCWRhdGFfdHlwZV9wYXJhbS5zaXplX2NvbnN0cmFpbnRfcGl4
ZWxzID0gMjsKKwkJZGF0YV90eXBlX3BhcmFtLnNpemVfY29uc3RyYWludF9ieXRlcyA9IDQ7CisJ
CXN3aXRjaCAoZGF0YV9tb2RlKSB7CisJCQkvKiBDYXNlIDAgYW5kIDEgbm90IHN1cHBvcnRlZCBh
Y2NvcmRpbmcKKwkJCSAqIHRvIE1ESworCQkJICovCisJCWNhc2UgMjoKKwkJCWRhdGFfdHlwZV9w
YXJhbS5waXhlbHNfcGVyX3BjbGsgPSAxOworCQkJZGF0YV90eXBlX3BhcmFtLmJpdHNfcGVyX3Bj
bGsgPSAxNjsKKwkJCWJyZWFrOworCQljYXNlIDM6CisJCQlkYXRhX3R5cGVfcGFyYW0ucGl4ZWxz
X3Blcl9wY2xrID0gMjsKKwkJCWRhdGFfdHlwZV9wYXJhbS5iaXRzX3Blcl9wY2xrID0gMzI7CisJ
CQlicmVhazsKKwkJZGVmYXVsdDoKKwkJCURSTV9FUlJPUigiRFNJOiBJbnZhbGlkIGRhdGFfbW9k
ZSAlZFxuIiwgZGF0YV9tb2RlKTsKKwkJCXJldHVybiAtRUlOVkFMOworCQl9OworCQlicmVhazsK
KwljYXNlIERTSV9MUF9EVF9MUFBTX1lDQkNSNDIyXzIwQjoKKwljYXNlIERTSV9MUF9EVF9QUFNf
WUNCQ1I0MjJfMjRCOgorCQlkYXRhX3R5cGVfcGFyYW0uc2l6ZV9jb25zdHJhaW50X3BpeGVscyA9
IDI7CisJCWRhdGFfdHlwZV9wYXJhbS5zaXplX2NvbnN0cmFpbnRfYnl0ZXMgPSA2OworCQlzd2l0
Y2ggKGRhdGFfbW9kZSkgeworCQkJLyogQ2FzZSAwIG5vdCBzdXBwb3J0ZWQgYWNjb3JkaW5nIHRv
IE1ESyAqLworCQljYXNlIDE6CisJCWNhc2UgMjoKKwkJY2FzZSAzOgorCQkJZGF0YV90eXBlX3Bh
cmFtLnBpeGVsc19wZXJfcGNsayA9IDE7CisJCQlkYXRhX3R5cGVfcGFyYW0uYml0c19wZXJfcGNs
ayA9IDI0OworCQkJYnJlYWs7CisJCWRlZmF1bHQ6CisJCQlEUk1fRVJST1IoIkRTSTogSW52YWxp
ZCBkYXRhX21vZGUgJWRcbiIsIGRhdGFfbW9kZSk7CisJCQlyZXR1cm4gLUVJTlZBTDsKKwkJfTsK
KwkJYnJlYWs7CisJY2FzZSBEU0lfTFBfRFRfUFBTX1JHQjU2NV8xNkI6CisJCWRhdGFfdHlwZV9w
YXJhbS5zaXplX2NvbnN0cmFpbnRfcGl4ZWxzID0gMTsKKwkJZGF0YV90eXBlX3BhcmFtLnNpemVf
Y29uc3RyYWludF9ieXRlcyA9IDI7CisJCXN3aXRjaCAoZGF0YV9tb2RlKSB7CisJCWNhc2UgMDoK
KwkJY2FzZSAxOgorCQkJZGF0YV90eXBlX3BhcmFtLnBpeGVsc19wZXJfcGNsayA9IDE7CisJCQlk
YXRhX3R5cGVfcGFyYW0uYml0c19wZXJfcGNsayA9IDE2OworCQkJYnJlYWs7CisJCWNhc2UgMjoK
KwkJY2FzZSAzOgorCQkJZGF0YV90eXBlX3BhcmFtLnBpeGVsc19wZXJfcGNsayA9IDI7CisJCQlk
YXRhX3R5cGVfcGFyYW0uYml0c19wZXJfcGNsayA9IDMyOworCQkJYnJlYWs7CisJCWRlZmF1bHQ6
CisJCQlEUk1fRVJST1IoIkRTSTogSW52YWxpZCBkYXRhX21vZGUgJWRcbiIsIGRhdGFfbW9kZSk7
CisJCQlyZXR1cm4gLUVJTlZBTDsKKwkJfTsKKwkJYnJlYWs7CisJY2FzZSBEU0lfTFBfRFRfUFBT
X1JHQjY2Nl8xOEI6CisJCWRhdGFfdHlwZV9wYXJhbS5zaXplX2NvbnN0cmFpbnRfcGl4ZWxzID0g
NDsKKwkJZGF0YV90eXBlX3BhcmFtLnNpemVfY29uc3RyYWludF9ieXRlcyA9IDk7CisJCWRhdGFf
dHlwZV9wYXJhbS5iaXRzX3Blcl9wY2xrID0gMTg7CisJCWRhdGFfdHlwZV9wYXJhbS5waXhlbHNf
cGVyX3BjbGsgPSAxOworCQlicmVhazsKKwljYXNlIERTSV9MUF9EVF9MUFBTX1JHQjY2Nl8xOEI6
CisJY2FzZSBEU0lfTFBfRFRfUFBTX1JHQjg4OF8yNEI6CisJCWRhdGFfdHlwZV9wYXJhbS5zaXpl
X2NvbnN0cmFpbnRfcGl4ZWxzID0gMTsKKwkJZGF0YV90eXBlX3BhcmFtLnNpemVfY29uc3RyYWlu
dF9ieXRlcyA9IDM7CisJCWRhdGFfdHlwZV9wYXJhbS5iaXRzX3Blcl9wY2xrID0gMjQ7CisJCWRh
dGFfdHlwZV9wYXJhbS5waXhlbHNfcGVyX3BjbGsgPSAxOworCQlicmVhazsKKwljYXNlIERTSV9M
UF9EVF9QUFNfUkdCMTAxMDEwXzMwQjoKKwkJZGF0YV90eXBlX3BhcmFtLnNpemVfY29uc3RyYWlu
dF9waXhlbHMgPSA0OworCQlkYXRhX3R5cGVfcGFyYW0uc2l6ZV9jb25zdHJhaW50X2J5dGVzID0g
MTU7CisJCWRhdGFfdHlwZV9wYXJhbS5iaXRzX3Blcl9wY2xrID0gMzA7CisJCWRhdGFfdHlwZV9w
YXJhbS5waXhlbHNfcGVyX3BjbGsgPSAxOworCQlicmVhazsKKwlkZWZhdWx0OgorCQlEUk1fRVJS
T1IoIkRTSTogSW52YWxpZCBkYXRhX3R5cGUgJWRcbiIsIGRhdGFfdHlwZSk7CisJCXJldHVybiAt
RUlOVkFMOworCX07CisKKwkqcGFyYW1zID0gZGF0YV90eXBlX3BhcmFtOworCXJldHVybiAwOwor
fQorCitzdGF0aWMgdTMyIGNvbXB1dGVfd2ModTMyIHdpZHRoX3B4LCB1OCBzaXplX2NvbnN0cl9w
LCB1OCBzaXplX2NvbnN0cl9iKQoreworCS8qIENhbGN1bGF0ZSB0aGUgd29yZCBjb3VudCBmb3Ig
ZWFjaCBsb25nIHBhY2tldCAqLworCXJldHVybiAoKCh3aWR0aF9weCAvIHNpemVfY29uc3RyX3Ap
ICogc2l6ZV9jb25zdHJfYikgJiAweGZmZmYpOworfQorCitzdGF0aWMgdTMyIGNvbXB1dGVfdW5w
YWNrZWRfYnl0ZXModTMyIHdjLCB1OCBiaXRzX3Blcl9wY2xrKQoreworCS8qIE51bWJlciBvZiBQ
Q0xLIGN5Y2xlcyBuZWVkZWQgdG8gdHJhbnNmZXIgYSBsaW5lCisJICogd2l0aCBlYWNoIFBDTEsg
Y3ljbGUsIDQgQnl0ZXMgYXJlIHNlbnQgdGhyb3VnaCB0aGUgUFBMIG1vZHVsZQorCSAqLworCXJl
dHVybiAoKHdjICogOCkgLyBiaXRzX3Blcl9wY2xrKSAqIDQ7Cit9CisKK3N0YXRpYyB1MzIgbWlw
aV90eF9mZ19zZWN0aW9uX2NmZ19yZWdzKHN0cnVjdCBrbWJfZHJtX3ByaXZhdGUgKmRldl9wLAor
CQkJCSAgICAgICB1OCBmcmFtZV9pZCwgdTggc2VjdGlvbiwKKwkJCQkgICAgICAgdTMyIGhlaWdo
dF9saW5lcywgdTMyIHVucGFja2VkX2J5dGVzLAorCQkJCSAgICAgICBzdHJ1Y3QgbWlwaV90eF9m
cmFtZV9zZWN0X3BoY2ZnICpwaF9jZmcpCit7CisJdTMyIGNmZyA9IDA7CisJdTMyIGN0cmxfbm8g
PSBNSVBJX0NUUkw2OworCXUzMiByZWdfYWRyOworCisJLyogRnJhbWUgc2VjdGlvbiBwYWNrZXQg
aGVhZGVyICovCisJLyogV29yZCBjb3VudCBiaXRzIFsxNTowXSAqLworCWNmZyA9IChwaF9jZmct
PndjICYgTUlQSV9UWF9TRUNUX1dDX01BU0spIDw8IDA7CisKKwkvKiBEYXRhIHR5cGUgKGJpdHMg
WzIxOjE2XSkgKi8KKwljZmcgfD0gKChwaF9jZmctPmRhdGFfdHlwZSAmIE1JUElfVFhfU0VDVF9E
VF9NQVNLKQorCQk8PCBNSVBJX1RYX1NFQ1RfRFRfU0hJRlQpOworCisJLyogVmlydHVhbCBjaGFu
bmVsIChiaXRzIFsyMzoyMl0pICovCisJY2ZnIHw9ICgocGhfY2ZnLT52Y2hhbm5lbCAmIE1JUElf
VFhfU0VDVF9WQ19NQVNLKQorCQk8PCBNSVBJX1RYX1NFQ1RfVkNfU0hJRlQpOworCisJLyogRGF0
YSBtb2RlIChiaXRzIFsyNDoyNV0pICovCisJY2ZnIHw9ICgocGhfY2ZnLT5kYXRhX21vZGUgJiBN
SVBJX1RYX1NFQ1RfRE1fTUFTSykKKwkJPDwgTUlQSV9UWF9TRUNUX0RNX1NISUZUKTsKKwlpZiAo
cGhfY2ZnLT5kbWFfcGFja2VkKQorCQljZmcgfD0gTUlQSV9UWF9TRUNUX0RNQV9QQUNLRUQ7CisK
Kwlkcm1fZGJnKCZkZXZfcC0+ZHJtLAorCQkgImN0cmw9JWQgZnJhbWVfaWQ9JWQgc2VjdGlvbj0l
ZCBjZmc9JXggcGFja2VkPSVkXG4iLAorCQkgIGN0cmxfbm8sIGZyYW1lX2lkLCBzZWN0aW9uLCBj
ZmcsIHBoX2NmZy0+ZG1hX3BhY2tlZCk7CisJa21iX3dyaXRlX21pcGkoZGV2X3AsCisJCSAgICAg
ICAoTUlQSV9UWG1fSFNfRkduX1NFQ1RvX1BIKGN0cmxfbm8sIGZyYW1lX2lkLCBzZWN0aW9uKSks
CisJCSAgICAgICBjZmcpOworCisJLyogVW5wYWNrZWQgYnl0ZXMgKi8KKworCS8qIFRoZXJlIGFy
ZSA0IGZyYW1lIGdlbmVyYXRvcnMgYW5kIGVhY2ggZmcgaGFzIDQgc2VjdGlvbnMKKwkgKiBUaGVy
ZSBhcmUgMiByZWdpc3RlcnMgZm9yIHVucGFja2VkIGJ5dGVzICgjIGJ5dGVzIGVhY2gKKwkgKiBz
ZWN0aW9uIG9jY3VwaWVzIGluIG1lbW9yeSkKKwkgKiBSRUdfVU5QQUNLRURfQllURVMwOiBbMTU6
MF0tQllURVMwLCBbMzE6MTZdLUJZVEVTMQorCSAqIFJFR19VTlBBQ0tFRF9CWVRFUzE6IFsxNTow
XS1CWVRFUzIsIFszMToxNl0tQllURVMzCisJICovCisJcmVnX2FkciA9CisJICAgIE1JUElfVFht
X0hTX0ZHbl9TRUNUX1VOUEFDS0VEX0JZVEVTMChjdHJsX25vLAorCQkJCQkJIGZyYW1lX2lkKSAr
IChzZWN0aW9uIC8gMikgKiA0OworCWttYl93cml0ZV9iaXRzX21pcGkoZGV2X3AsIHJlZ19hZHIs
IChzZWN0aW9uICUgMikgKiAxNiwgMTYsCisJCQkgICAgdW5wYWNrZWRfYnl0ZXMpOworCWRybV9k
YmcoJmRldl9wLT5kcm0sCisJCSAidW5wYWNrZWRfYnl0ZXMgPSAlZCwgd29yZGNvdW50ID0gJWRc
biIsIHVucGFja2VkX2J5dGVzLAorCQkgIHBoX2NmZy0+d2MpOworCisJLyogTGluZSBjb25maWcg
Ki8KKwlyZWdfYWRyID0gTUlQSV9UWG1fSFNfRkduX1NFQ1RvX0xJTkVfQ0ZHKGN0cmxfbm8sIGZy
YW1lX2lkLCBzZWN0aW9uKTsKKwlrbWJfd3JpdGVfbWlwaShkZXZfcCwgcmVnX2FkciwgaGVpZ2h0
X2xpbmVzKTsKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIHUzMiBtaXBpX3R4X2ZnX3NlY3Rpb25f
Y2ZnKHN0cnVjdCBrbWJfZHJtX3ByaXZhdGUgKmRldl9wLAorCQkJCSAgdTggZnJhbWVfaWQsIHU4
IHNlY3Rpb24sCisJCQkJICBzdHJ1Y3QgbWlwaV90eF9mcmFtZV9zZWN0aW9uX2NmZyAqZnJhbWVf
c2NmZywKKwkJCQkgIHUzMiAqYml0c19wZXJfcGNsaywgdTMyICp3YykKK3sKKwl1MzIgcmV0ID0g
MDsKKwl1MzIgdW5wYWNrZWRfYnl0ZXM7CisJc3RydWN0IG1pcGlfZGF0YV90eXBlX3BhcmFtcyBk
YXRhX3R5cGVfcGFyYW1ldGVyczsKKwlzdHJ1Y3QgbWlwaV90eF9mcmFtZV9zZWN0X3BoY2ZnIHBo
X2NmZzsKKworCXJldCA9IG1pcGlfZ2V0X2RhdGF0eXBlX3BhcmFtcyhmcmFtZV9zY2ZnLT5kYXRh
X3R5cGUsCisJCQkJICAgICAgIGZyYW1lX3NjZmctPmRhdGFfbW9kZSwKKwkJCQkgICAgICAgJmRh
dGFfdHlwZV9wYXJhbWV0ZXJzKTsKKwlpZiAocmV0KQorCQlyZXR1cm4gcmV0OworCisJLyogUGFj
a2V0IHdpZHRoIGhhcyB0byBiZSBhIG11bHRpcGxlIG9mIHRoZSBtaW5pbXVtIHBhY2tldCB3aWR0
aAorCSAqIChpbiBwaXhlbHMpIHNldCBmb3IgZWFjaCBkYXRhIHR5cGUKKwkgKi8KKwlpZiAoZnJh
bWVfc2NmZy0+d2lkdGhfcGl4ZWxzICUKKwkgICAgZGF0YV90eXBlX3BhcmFtZXRlcnMuc2l6ZV9j
b25zdHJhaW50X3BpeGVscyAhPSAwKQorCQlyZXR1cm4gLUVJTlZBTDsKKworCSp3YyA9IGNvbXB1
dGVfd2MoZnJhbWVfc2NmZy0+d2lkdGhfcGl4ZWxzLAorCQkJIGRhdGFfdHlwZV9wYXJhbWV0ZXJz
LnNpemVfY29uc3RyYWludF9waXhlbHMsCisJCQkgZGF0YV90eXBlX3BhcmFtZXRlcnMuc2l6ZV9j
b25zdHJhaW50X2J5dGVzKTsKKwl1bnBhY2tlZF9ieXRlcyA9IGNvbXB1dGVfdW5wYWNrZWRfYnl0
ZXMoKndjLAorCQkJCQlkYXRhX3R5cGVfcGFyYW1ldGVycy5iaXRzX3Blcl9wY2xrKTsKKwlwaF9j
Zmcud2MgPSAqd2M7CisJcGhfY2ZnLmRhdGFfbW9kZSA9IGZyYW1lX3NjZmctPmRhdGFfbW9kZTsK
KwlwaF9jZmcuZGF0YV90eXBlID0gZnJhbWVfc2NmZy0+ZGF0YV90eXBlOworCXBoX2NmZy5kbWFf
cGFja2VkID0gZnJhbWVfc2NmZy0+ZG1hX3BhY2tlZDsKKwlwaF9jZmcudmNoYW5uZWwgPSBmcmFt
ZV9pZDsKKworCW1pcGlfdHhfZmdfc2VjdGlvbl9jZmdfcmVncyhkZXZfcCwgZnJhbWVfaWQsIHNl
Y3Rpb24sCisJCQkJICAgIGZyYW1lX3NjZmctPmhlaWdodF9saW5lcywKKwkJCQkgICAgdW5wYWNr
ZWRfYnl0ZXMsICZwaF9jZmcpOworCisJLyogQ2FsbGVyIG5lZWRzIGJpdHNfcGVyX2NsayBmb3Ig
YWRkaXRpb25hbCBjYWx1Y2xhdGlvbnMgKi8KKwkqYml0c19wZXJfcGNsayA9IGRhdGFfdHlwZV9w
YXJhbWV0ZXJzLmJpdHNfcGVyX3BjbGs7CisKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIHZvaWQg
bWlwaV90eF9mZ19jZmdfcmVncyhzdHJ1Y3Qga21iX2RybV9wcml2YXRlICpkZXZfcCwgdTggZnJh
bWVfZ2VuLAorCQkJCXN0cnVjdCBtaXBpX3R4X2ZyYW1lX3RpbWluZ19jZmcgKmZnX2NmZykKK3sK
Kwl1MzIgc3lzY2xrOworCXUzMiBwcGxfbGxwX3JhdGlvOworCXUzMiBjdHJsX25vID0gTUlQSV9D
VFJMNiwgcmVnX2FkciwgdmFsLCBvZmZzZXQ7CisKKwkvKiA1MDAgTWh6IHN5c3RlbSBjbG9jayBt
aW51cyA1MCB0byBhY2NvdW50IGZvciB0aGUgZGlmZmVyZW5jZSBpbgorCSAqIE1JUEkgY2xvY2sg
c3BlZWQgaW4gUlRMIHRlc3RzCisJICovCisJc3lzY2xrID0gZGV2X3AtPnN5c19jbGtfbWh6IC0g
NTA7CisKKwkvKiBQUEwtUGl4ZWwgUGFja2luZyBMYXllciwgTExQLUxvdyBMZXZlbCBQcm90b2Nv
bAorCSAqIEZyYW1lIGdlbmFydG9yIHRpbWluZyBwYXJhbWV0ZXJzIGFyZSBjbG9ja2VkIG9uIHRo
ZSBzeXN0ZW0gY2xvY2ssCisJICogd2hlcmVhcyBhcyB0aGUgZXF1aXZhbGVudCBwYXJhbWV0ZXJz
IGluIHRoZSBMTFAgYmxvY2tzIGFyZSBjbG9ja2VkCisJICogb24gTExQIFR4IGNsb2NrIGZyb20g
dGhlIEQtUEhZIC0gQllURSBjbG9jaworCSAqLworCisJLyogTXVsdGlwbHkgYnkgMTAwMCB0byBt
YWludGFpbiBwcmVjaXNpb24gKi8KKwlwcGxfbGxwX3JhdGlvID0gKChmZ19jZmctPmJwcCAvIDgp
ICogc3lzY2xrICogMTAwMCkgLworCSAgICAoKGZnX2NmZy0+bGFuZV9yYXRlX21icHMgLyA4KSAq
IGZnX2NmZy0+YWN0aXZlX2xhbmVzKTsKKworCWRybV9kYmcoJmRldl9wLT5kcm0sICJwcGxfbGxw
X3JhdGlvPSVkXG4iLCBwcGxfbGxwX3JhdGlvKTsKKwlkcm1fZGJnKCZkZXZfcC0+ZHJtLCAiYnBw
PSVkIHN5c2Nsaz0lZCBsYW5lLXJhdGU9JWQgYWN0aXYtbGFuZXM9JWRcbiIsCisJCSBmZ19jZmct
PmJwcCwgc3lzY2xrLCBmZ19jZmctPmxhbmVfcmF0ZV9tYnBzLAorCQkgZmdfY2ZnLT5hY3RpdmVf
bGFuZXMpOworCisJLyogRnJhbWUgZ2VuZXJhdG9yIG51bWJlciBvZiBsaW5lcyAqLworCXJlZ19h
ZHIgPSBNSVBJX1RYbV9IU19GR25fTlVNX0xJTkVTKGN0cmxfbm8sIGZyYW1lX2dlbik7CisJa21i
X3dyaXRlX21pcGkoZGV2X3AsIHJlZ19hZHIsIGZnX2NmZy0+dl9hY3RpdmUpOworCisJLyogdnN5
bmMgd2lkdGgKKwkgKiBUaGVyZSBhcmUgMiByZWdpc3RlcnMgZm9yIHZzeW5jIHdpZHRoIChWU0Eg
aW4gbGluZXMgZm9yCisJICogY2hhbm5lbHMgMC0zKQorCSAqIFJFR19WU1lOQ19XSURUSDA6IFsx
NTowXS1WU0EgZm9yIGNoYW5uZWwwLCBbMzE6MTZdLVZTQSBmb3IgY2hhbm5lbDEKKwkgKiBSRUdf
VlNZTkNfV0lEVEgxOiBbMTU6MF0tVlNBIGZvciBjaGFubmVsMiwgWzMxOjE2XS1WU0EgZm9yIGNo
YW5uZWwzCisJICovCisJb2Zmc2V0ID0gKGZyYW1lX2dlbiAlIDIpICogMTY7CisJcmVnX2FkciA9
IE1JUElfVFhtX0hTX1ZTWU5DX1dJRFRIbihjdHJsX25vLCBmcmFtZV9nZW4gLyAyKTsKKwlrbWJf
d3JpdGVfYml0c19taXBpKGRldl9wLCByZWdfYWRyLCBvZmZzZXQsIDE2LCBmZ19jZmctPnZzeW5j
X3dpZHRoKTsKKworCS8qIHZlcnRpY2FsIGJhY2twb3JjaCAodmJwKSAqLworCXJlZ19hZHIgPSBN
SVBJX1RYbV9IU19WX0JBQ0tQT1JDSEVTbihjdHJsX25vLCBmcmFtZV9nZW4gLyAyKTsKKwlrbWJf
d3JpdGVfYml0c19taXBpKGRldl9wLCByZWdfYWRyLCBvZmZzZXQsIDE2LCBmZ19jZmctPnZfYmFj
a3BvcmNoKTsKKworCS8qIHZlcnRpY2FsIGZyb250cG9yY2ggKHZmcCkgKi8KKwlyZWdfYWRyID0g
TUlQSV9UWG1fSFNfVl9GUk9OVFBPUkNIRVNuKGN0cmxfbm8sIGZyYW1lX2dlbiAvIDIpOworCWtt
Yl93cml0ZV9iaXRzX21pcGkoZGV2X3AsIHJlZ19hZHIsIG9mZnNldCwgMTYsIGZnX2NmZy0+dl9m
cm9udHBvcmNoKTsKKworCS8qIHZlcnRpY2FsIGFjdGl2ZSAodmFjdGl2ZSkgKi8KKwlyZWdfYWRy
ID0gTUlQSV9UWG1fSFNfVl9BQ1RJVkVuKGN0cmxfbm8sIGZyYW1lX2dlbiAvIDIpOworCWttYl93
cml0ZV9iaXRzX21pcGkoZGV2X3AsIHJlZ19hZHIsIG9mZnNldCwgMTYsIGZnX2NmZy0+dl9hY3Rp
dmUpOworCisJLyogaHN5bmMgd2lkdGggKi8KKwlyZWdfYWRyID0gTUlQSV9UWG1fSFNfSFNZTkNf
V0lEVEhuKGN0cmxfbm8sIGZyYW1lX2dlbik7CisJa21iX3dyaXRlX21pcGkoZGV2X3AsIHJlZ19h
ZHIsCisJCSAgICAgICAoZmdfY2ZnLT5oc3luY193aWR0aCAqIHBwbF9sbHBfcmF0aW8pIC8gMTAw
MCk7CisKKwkvKiBob3Jpem9udGFsIGJhY2twb3JjaCAoaGJwKSAqLworCXJlZ19hZHIgPSBNSVBJ
X1RYbV9IU19IX0JBQ0tQT1JDSG4oY3RybF9ubywgZnJhbWVfZ2VuKTsKKwlrbWJfd3JpdGVfbWlw
aShkZXZfcCwgcmVnX2FkciwKKwkJICAgICAgIChmZ19jZmctPmhfYmFja3BvcmNoICogcHBsX2xs
cF9yYXRpbykgLyAxMDAwKTsKKworCS8qIGhvcml6b250YWwgZnJvbnRwb3JjaCAoaGZwKSAqLwor
CXJlZ19hZHIgPSBNSVBJX1RYbV9IU19IX0ZST05UUE9SQ0huKGN0cmxfbm8sIGZyYW1lX2dlbik7
CisJa21iX3dyaXRlX21pcGkoZGV2X3AsIHJlZ19hZHIsCisJCSAgICAgICAoZmdfY2ZnLT5oX2Zy
b250cG9yY2ggKiBwcGxfbGxwX3JhdGlvKSAvIDEwMDApOworCisJLyogaG9yaXpvbnRhbCBhY3Rp
dmUgKGhhKSAqLworCXJlZ19hZHIgPSBNSVBJX1RYbV9IU19IX0FDVElWRW4oY3RybF9ubywgZnJh
bWVfZ2VuKTsKKworCS8qIGNvbnZlcnQgaF9hY3RpdmUgd2hpY2ggaXMgd2MgaW4gYnl0ZXMgdG8g
Y3ljbGVzICovCisJdmFsID0gKGZnX2NmZy0+aF9hY3RpdmUgKiBzeXNjbGsgKiAxMDAwKSAvCisJ
ICAgICgoZmdfY2ZnLT5sYW5lX3JhdGVfbWJwcyAvIDgpICogZmdfY2ZnLT5hY3RpdmVfbGFuZXMp
OworCXZhbCAvPSAxMDAwOworCWttYl93cml0ZV9taXBpKGRldl9wLCByZWdfYWRyLCB2YWwpOwor
CisJLyogbGxwIGhzeW5jIHdpZHRoICovCisJcmVnX2FkciA9IE1JUElfVFhtX0hTX0xMUF9IU1lO
Q19XSURUSG4oY3RybF9ubywgZnJhbWVfZ2VuKTsKKwlrbWJfd3JpdGVfbWlwaShkZXZfcCwgcmVn
X2FkciwgZmdfY2ZnLT5oc3luY193aWR0aCAqIChmZ19jZmctPmJwcCAvIDgpKTsKKworCS8qIGxs
cCBoIGJhY2twb3JjaCAqLworCXJlZ19hZHIgPSBNSVBJX1RYbV9IU19MTFBfSF9CQUNLUE9SQ0hu
KGN0cmxfbm8sIGZyYW1lX2dlbik7CisJa21iX3dyaXRlX21pcGkoZGV2X3AsIHJlZ19hZHIsIGZn
X2NmZy0+aF9iYWNrcG9yY2ggKiAoZmdfY2ZnLT5icHAgLyA4KSk7CisKKwkvKiBsbHAgaCBmcm9u
dHBvcmNoICovCisJcmVnX2FkciA9IE1JUElfVFhtX0hTX0xMUF9IX0ZST05UUE9SQ0huKGN0cmxf
bm8sIGZyYW1lX2dlbik7CisJa21iX3dyaXRlX21pcGkoZGV2X3AsIHJlZ19hZHIsCisJCSAgICAg
ICBmZ19jZmctPmhfZnJvbnRwb3JjaCAqIChmZ19jZmctPmJwcCAvIDgpKTsKK30KKworc3RhdGlj
IHZvaWQgbWlwaV90eF9mZ19jZmcoc3RydWN0IGttYl9kcm1fcHJpdmF0ZSAqZGV2X3AsIHU4IGZy
YW1lX2dlbiwKKwkJCSAgIHU4IGFjdGl2ZV9sYW5lcywgdTMyIGJwcCwgdTMyIHdjLAorCQkJICAg
dTMyIGxhbmVfcmF0ZV9tYnBzLCBzdHJ1Y3QgbWlwaV90eF9mcmFtZV9jZmcgKmZnX2NmZykKK3sK
Kwl1MzIgaSwgZmdfbnVtX2xpbmVzID0gMDsKKwlzdHJ1Y3QgbWlwaV90eF9mcmFtZV90aW1pbmdf
Y2ZnIGZnX3RfY2ZnOworCisJLyogQ2FsY3VsYXRlIHRoZSB0b3RhbCBmcmFtZSBnZW5lcmF0b3Ig
bnVtYmVyIG9mCisJICogbGluZXMgYmFzZWQgb24gaXQncyBhY3RpdmUgc2VjdGlvbnMKKwkgKi8K
Kwlmb3IgKGkgPSAwOyBpIDwgTUlQSV9UWF9GUkFNRV9HRU5fU0VDVElPTlM7IGkrKykgeworCQlp
ZiAoZmdfY2ZnLT5zZWN0aW9uc1tpXSAhPSBOVUxMKQorCQkJZmdfbnVtX2xpbmVzICs9IGZnX2Nm
Zy0+c2VjdGlvbnNbaV0tPmhlaWdodF9saW5lczsKKwl9CisKKwlmZ190X2NmZy5icHAgPSBicHA7
CisJZmdfdF9jZmcubGFuZV9yYXRlX21icHMgPSBsYW5lX3JhdGVfbWJwczsKKwlmZ190X2NmZy5o
c3luY193aWR0aCA9IGZnX2NmZy0+aHN5bmNfd2lkdGg7CisJZmdfdF9jZmcuaF9iYWNrcG9yY2gg
PSBmZ19jZmctPmhfYmFja3BvcmNoOworCWZnX3RfY2ZnLmhfZnJvbnRwb3JjaCA9IGZnX2NmZy0+
aF9mcm9udHBvcmNoOworCWZnX3RfY2ZnLmhfYWN0aXZlID0gd2M7CisJZmdfdF9jZmcudnN5bmNf
d2lkdGggPSBmZ19jZmctPnZzeW5jX3dpZHRoOworCWZnX3RfY2ZnLnZfYmFja3BvcmNoID0gZmdf
Y2ZnLT52X2JhY2twb3JjaDsKKwlmZ190X2NmZy52X2Zyb250cG9yY2ggPSBmZ19jZmctPnZfZnJv
bnRwb3JjaDsKKwlmZ190X2NmZy52X2FjdGl2ZSA9IGZnX251bV9saW5lczsKKwlmZ190X2NmZy5h
Y3RpdmVfbGFuZXMgPSBhY3RpdmVfbGFuZXM7CisKKwkvKiBBcHBseSBmcmFtZSBnZW5lcmF0b3Ig
dGltaW5nIHNldHRpbmcgKi8KKwltaXBpX3R4X2ZnX2NmZ19yZWdzKGRldl9wLCBmcmFtZV9nZW4s
ICZmZ190X2NmZyk7Cit9CisKK3N0YXRpYyB2b2lkIG1pcGlfdHhfbXVsdGljaGFubmVsX2ZpZm9f
Y2ZnKHN0cnVjdCBrbWJfZHJtX3ByaXZhdGUgKmRldl9wLAorCQkJCQkgIHU4IGFjdGl2ZV9sYW5l
cywgdTggdmNoYW5uZWxfaWQpCit7CisJdTMyIGZpZm9fc2l6ZSwgZmlmb19ydGhyZXNob2xkOwor
CXUzMiBjdHJsX25vID0gTUlQSV9DVFJMNjsKKworCS8qIENsZWFyIGFsbCBtYyBmaWZvIGNoYW5u
ZWwgc2l6ZXMgYW5kIHRocmVzaG9sZHMgKi8KKwlrbWJfd3JpdGVfbWlwaShkZXZfcCwgTUlQSV9U
WF9IU19NQ19GSUZPX0NUUkxfRU4sIDApOworCWttYl93cml0ZV9taXBpKGRldl9wLCBNSVBJX1RY
X0hTX01DX0ZJRk9fQ0hBTl9BTExPQzAsIDApOworCWttYl93cml0ZV9taXBpKGRldl9wLCBNSVBJ
X1RYX0hTX01DX0ZJRk9fQ0hBTl9BTExPQzEsIDApOworCWttYl93cml0ZV9taXBpKGRldl9wLCBN
SVBJX1RYX0hTX01DX0ZJRk9fUlRIUkVTSE9MRDAsIDApOworCWttYl93cml0ZV9taXBpKGRldl9w
LCBNSVBJX1RYX0hTX01DX0ZJRk9fUlRIUkVTSE9MRDEsIDApOworCisJZmlmb19zaXplID0gKChh
Y3RpdmVfbGFuZXMgPiBNSVBJX0RfTEFORVNfUEVSX0RQSFkpID8KKwkJICAgICBNSVBJX0NUUkxf
NExBTkVfTUFYX01DX0ZJRk9fTE9DIDoKKwkJICAgICBNSVBJX0NUUkxfMkxBTkVfTUFYX01DX0ZJ
Rk9fTE9DKSAtIDE7CisKKwkvKiBNQyBmaWZvIHNpemUgZm9yIHZpcnR1YWwgY2hhbm5lbHMgMC0z
CisJICogUkVHX01DX0ZJRk9fQ0hBTl9BTExPQzA6IFs4OjBdLWNoYW5uZWwwLCBbMjQ6MTZdLWNo
YW5uZWwxCisJICogUkVHX01DX0ZJRk9fQ0hBTl9BTExPQzE6IFs4OjBdLTIsIFsyNDoxNl0tY2hh
bm5lbDMKKwkgKi8KKwlTRVRfTUNfRklGT19DSEFOX0FMTE9DKGRldl9wLCBjdHJsX25vLCB2Y2hh
bm5lbF9pZCwgZmlmb19zaXplKTsKKworCS8qIFNldCB0aHJlc2hvbGQgdG8gaGFsZiB0aGUgZmlm
byBzaXplLCBhY3R1YWwgc2l6ZT1zaXplKjE2ICovCisJZmlmb19ydGhyZXNob2xkID0gKChmaWZv
X3NpemUpICogOCkgJiBCSVRfTUFTS18xNjsKKwlTRVRfTUNfRklGT19SVEhSRVNIT0xEKGRldl9w
LCBjdHJsX25vLCB2Y2hhbm5lbF9pZCwgZmlmb19ydGhyZXNob2xkKTsKKworCS8qIEVuYWJsZSB0
aGUgTUMgRklGTyBjaGFubmVsIGNvcnJlc3BvbmRpbmcgdG8gdGhlIFZpcnR1YWwgQ2hhbm5lbCAq
LworCWttYl9zZXRfYml0X21pcGkoZGV2X3AsIE1JUElfVFhtX0hTX01DX0ZJRk9fQ1RSTF9FTihj
dHJsX25vKSwKKwkJCSB2Y2hhbm5lbF9pZCk7Cit9CisKK3N0YXRpYyB2b2lkIG1pcGlfdHhfY3Ry
bF9jZmcoc3RydWN0IGttYl9kcm1fcHJpdmF0ZSAqZGV2X3AsIHU4IGZnX2lkLAorCQkJICAgICBz
dHJ1Y3QgbWlwaV9jdHJsX2NmZyAqY3RybF9jZmcpCit7CisJdTMyIHN5bmNfY2ZnID0gMCwgY3Ry
bCA9IDAsIGZnX2VuOworCXUzMiBjdHJsX25vID0gTUlQSV9DVFJMNjsKKworCS8qIE1JUElfVFhf
SFNfU1lOQ19DRkcgKi8KKwlpZiAoY3RybF9jZmctPnR4X2N0cmxfY2ZnLmxpbmVfc3luY19wa3Rf
ZW4pCisJCXN5bmNfY2ZnIHw9IExJTkVfU1lOQ19QS1RfRU5BQkxFOworCWlmIChjdHJsX2NmZy0+
dHhfY3RybF9jZmcuZnJhbWVfY291bnRlcl9hY3RpdmUpCisJCXN5bmNfY2ZnIHw9IEZSQU1FX0NP
VU5URVJfQUNUSVZFOworCWlmIChjdHJsX2NmZy0+dHhfY3RybF9jZmcubGluZV9jb3VudGVyX2Fj
dGl2ZSkKKwkJc3luY19jZmcgfD0gTElORV9DT1VOVEVSX0FDVElWRTsKKwlpZiAoY3RybF9jZmct
PnR4X2N0cmxfY2ZnLnR4X2RzaV9jZmctPnZfYmxhbmtpbmcpCisJCXN5bmNfY2ZnIHw9IERTSV9W
X0JMQU5LSU5HOworCWlmIChjdHJsX2NmZy0+dHhfY3RybF9jZmcudHhfZHNpX2NmZy0+aHNhX2Js
YW5raW5nKQorCQlzeW5jX2NmZyB8PSBEU0lfSFNBX0JMQU5LSU5HOworCWlmIChjdHJsX2NmZy0+
dHhfY3RybF9jZmcudHhfZHNpX2NmZy0+aGJwX2JsYW5raW5nKQorCQlzeW5jX2NmZyB8PSBEU0lf
SEJQX0JMQU5LSU5HOworCWlmIChjdHJsX2NmZy0+dHhfY3RybF9jZmcudHhfZHNpX2NmZy0+aGZw
X2JsYW5raW5nKQorCQlzeW5jX2NmZyB8PSBEU0lfSEZQX0JMQU5LSU5HOworCWlmIChjdHJsX2Nm
Zy0+dHhfY3RybF9jZmcudHhfZHNpX2NmZy0+c3luY19wdWxzZV9ldmVudG4pCisJCXN5bmNfY2Zn
IHw9IERTSV9TWU5DX1BVTFNFX0VWRU5UTjsKKwlpZiAoY3RybF9jZmctPnR4X2N0cmxfY2ZnLnR4
X2RzaV9jZmctPmxwbV9maXJzdF92c2FfbGluZSkKKwkJc3luY19jZmcgfD0gRFNJX0xQTV9GSVJT
VF9WU0FfTElORTsKKwlpZiAoY3RybF9jZmctPnR4X2N0cmxfY2ZnLnR4X2RzaV9jZmctPmxwbV9s
YXN0X3ZmcF9saW5lKQorCQlzeW5jX2NmZyB8PSBEU0lfTFBNX0xBU1RfVkZQX0xJTkU7CisKKwkv
KiBFbmFibGUgZnJhbWUgZ2VuZXJhdG9yICovCisJZmdfZW4gPSAxIDw8IGZnX2lkOworCXN5bmNf
Y2ZnIHw9IEZSQU1FX0dFTl9FTihmZ19lbik7CisKKwlpZiAoY3RybF9jZmctPnR4X2N0cmxfY2Zn
LnR4X2Fsd2F5c191c2VfaGFjdCkKKwkJc3luY19jZmcgfD0gQUxXQVlTX1VTRV9IQUNUKGZnX2Vu
KTsKKwlpZiAoY3RybF9jZmctPnR4X2N0cmxfY2ZnLnR4X2hhY3Rfd2FpdF9zdG9wKQorCQlzeW5j
X2NmZyB8PSBIQUNUX1dBSVRfU1RPUChmZ19lbik7CisKKwlkcm1fZGJnKCZkZXZfcC0+ZHJtLCAi
c3luY19jZmc9JWQgZmdfZW49JWRcbiIsIHN5bmNfY2ZnLCBmZ19lbik7CisKKwkvKiBNSVBJX1RY
X0hTX0NUUkwgKi8KKworCS8qIHR5cGU6RFNJLCBzb3VyY2U6TENEICovCisJY3RybCA9IEhTX0NU
UkxfRU4gfCBUWF9TT1VSQ0U7CisJY3RybCB8PSBMQ0RfVkMoZmdfaWQpOworCWN0cmwgfD0gQUNU
SVZFX0xBTkVTKGN0cmxfY2ZnLT5hY3RpdmVfbGFuZXMgLSAxKTsKKwlpZiAoY3RybF9jZmctPnR4
X2N0cmxfY2ZnLnR4X2RzaV9jZmctPmVvdHBfZW4pCisJCWN0cmwgfD0gRFNJX0VPVFBfRU47CisJ
aWYgKGN0cmxfY2ZnLT50eF9jdHJsX2NmZy50eF9kc2lfY2ZnLT5oZnBfYmxhbmtfZW4pCisJCWN0
cmwgfD0gRFNJX0NNRF9IRlBfRU47CisKKwkvKjY3IG5zIHN0b3AgdGltZSAqLworCWN0cmwgfD0g
SFNFWElUX0NOVCgweDQzKTsKKworCWttYl93cml0ZV9taXBpKGRldl9wLCBNSVBJX1RYbV9IU19T
WU5DX0NGRyhjdHJsX25vKSwgc3luY19jZmcpOworCWttYl93cml0ZV9taXBpKGRldl9wLCBNSVBJ
X1RYbV9IU19DVFJMKGN0cmxfbm8pLCBjdHJsKTsKK30KKworI2lmZGVmIE1JUElfVFhfVEVTVF9Q
QVRURVJOX0dFTkVSQVRJT04KK3N0YXRpYyB2b2lkIG1pcGlfdHhfaHNfdHBfZ2VuKHN0cnVjdCBr
bWJfZHJtX3ByaXZhdGUgKmRldl9wLCBpbnQgdmMsCisJCQkgICAgICBpbnQgdHBfc2VsLCB1MzIg
c3RyaXBlX3dpZHRoLCB1MzIgY29sb3IwLAorCQkJICAgICAgdTMyIGNvbG9yMSwgdTMyIGN0cmxf
bm8pCit7CisJaW50IHZhbCA9IDA7CisKKwkvKiBTZWxlY3QgdGVzdCBwYXR0ZXJuIG1vZGUgb24g
dGhlIHZpcnR1YWwgY2hhbm5lbCAqLworCXZhbCA9IFRQX1NFTF9WQ20odmMsIHRwX3NlbCk7CisK
KwkvKiBDb25maWd1cmUgdGVzdCBwYXR0ZXJuIGNvbG9ycyAqLworCWttYl93cml0ZV9taXBpKGRl
dl9wLCBNSVBJX1RYbV9IU19URVNUX1BBVF9DT0xPUjAoY3RybF9ubyksIGNvbG9yMCk7CisJa21i
X3dyaXRlX21pcGkoZGV2X3AsIE1JUElfVFhtX0hTX1RFU1RfUEFUX0NPTE9SMShjdHJsX25vKSwg
Y29sb3IxKTsKKworCS8qIEVuYWJsZSB0ZXN0IHBhdHRlcm4gZ2VuZXJhdGlvbiBvbiB0aGUgdmly
dHVhbCBjaGFubmVsICovCisJdmFsIHw9IFRQX0VOX1ZDbSh2Yyk7CisJa21iX3dyaXRlX21pcGko
ZGV2X3AsIE1JUElfVFhtX0hTX1RFU1RfUEFUX0NUUkwoY3RybF9ubyksIHZhbCk7CisKK30KKyNl
bmRpZgorCitzdGF0aWMgdTMyIG1pcGlfdHhfaW5pdF9jbnRybChzdHJ1Y3Qga21iX2RybV9wcml2
YXRlICpkZXZfcCwKKwkJCSAgICAgIHN0cnVjdCBtaXBpX2N0cmxfY2ZnICpjdHJsX2NmZykKK3sK
Kwl1MzIgcmV0ID0gMDsKKwl1OCBhY3RpdmVfdmNoYW5uZWxzID0gMDsKKwl1OCBmcmFtZV9pZCwg
c2VjdDsKKwl1MzIgYml0c19wZXJfcGNsayA9IDA7CisJdTMyIHdvcmRfY291bnQgPSAwOworCXN0
cnVjdCBtaXBpX3R4X2ZyYW1lX2NmZyAqZnJhbWU7CisKKwkvKiBUaGlzIGlzIHRoZSBvcmRlciB0
byBpbml0aWFsaXplIE1JUEkgVFg6CisJICogMS4gc2V0IGZyYW1lIHNlY3Rpb24gcGFyYW1ldGVy
cworCSAqIDIuIHNldCBmcmFtZSBzcGVjaWZpYyBwYXJhbWV0ZXJzCisJICogMy4gY29ubmVjdCBs
Y2QgdG8gbWlwaQorCSAqIDQuIG11bHRpIGNoYW5uZWwgZmlmbyBjZmcKKwkgKiA1LiBzZXQgbWlw
aXR4Y2N0cmxjZmcKKwkgKi8KKworCWZvciAoZnJhbWVfaWQgPSAwOyBmcmFtZV9pZCA8IDQ7IGZy
YW1lX2lkKyspIHsKKwkJZnJhbWUgPSBjdHJsX2NmZy0+dHhfY3RybF9jZmcuZnJhbWVzW2ZyYW1l
X2lkXTsKKworCQkvKiBGaW5kIHZhbGlkIGZyYW1lLCBhc3N1bWUgb25seSBvbmUgdmFsaWQgZnJh
bWUgKi8KKwkJaWYgKGZyYW1lID09IE5VTEwpCisJCQljb250aW51ZTsKKworCQkvKiBGcmFtZSBT
ZWN0aW9uIGNvbmZpZ3VyYXRpb24gKi8KKwkJLyogVE9ETyAtIGFzc3VtZSB0aGVyZSBpcyBvbmx5
IG9uZSB2YWxpZCBzZWN0aW9uIGluIGEgZnJhbWUsCisJCSAqIHNvIGJpdHNfcGVyX3BjbGsgYW5k
IHdvcmRfY291bnQgYXJlIG9ubHkgc2V0IG9uY2UKKwkJICovCisJCWZvciAoc2VjdCA9IDA7IHNl
Y3QgPCBNSVBJX0NUUkxfVklSVFVBTF9DSEFOTkVMUzsgc2VjdCsrKSB7CisJCQlpZiAoZnJhbWUt
PnNlY3Rpb25zW3NlY3RdID09IE5VTEwpCisJCQkJY29udGludWU7CisKKwkJCXJldCA9IG1pcGlf
dHhfZmdfc2VjdGlvbl9jZmcoZGV2X3AsIGZyYW1lX2lkLCBzZWN0LAorCQkJCQkJICAgICBmcmFt
ZS0+c2VjdGlvbnNbc2VjdF0sCisJCQkJCQkgICAgICZiaXRzX3Blcl9wY2xrLAorCQkJCQkJICAg
ICAmd29yZF9jb3VudCk7CisJCQlpZiAocmV0KQorCQkJCXJldHVybiByZXQ7CisKKwkJfQorCisJ
CS8qIFNldCBmcmFtZSBzcGVjaWZpYyBwYXJhbWV0ZXJzICovCisJCW1pcGlfdHhfZmdfY2ZnKGRl
dl9wLCBmcmFtZV9pZCwgY3RybF9jZmctPmFjdGl2ZV9sYW5lcywKKwkJCSAgICAgICBiaXRzX3Bl
cl9wY2xrLCB3b3JkX2NvdW50LAorCQkJICAgICAgIGN0cmxfY2ZnLT5sYW5lX3JhdGVfbWJwcywg
ZnJhbWUpOworCisJCWFjdGl2ZV92Y2hhbm5lbHMrKzsKKworCQkvKiBTdG9wIGl0ZXJhdGluZyBh
cyBvbmx5IG9uZSB2aXJ0dWFsIGNoYW5uZWwKKwkJICogc2hhbGwgYmUgdXNlZCBmb3IgTENEIGNv
bm5lY3Rpb24KKwkJICovCisJCWJyZWFrOworCX0KKworCWlmIChhY3RpdmVfdmNoYW5uZWxzID09
IDApCisJCXJldHVybiAtRUlOVkFMOworCS8qIE11bHRpLUNoYW5uZWwgRklGTyBDb25maWd1cmF0
aW9uICovCisJbWlwaV90eF9tdWx0aWNoYW5uZWxfZmlmb19jZmcoZGV2X3AsIGN0cmxfY2ZnLT5h
Y3RpdmVfbGFuZXMsIGZyYW1lX2lkKTsKKworCS8qIEZyYW1lIEdlbmVyYXRvciBFbmFibGUgKi8K
KwltaXBpX3R4X2N0cmxfY2ZnKGRldl9wLCBmcmFtZV9pZCwgY3RybF9jZmcpOworCisjaWZkZWYg
TUlQSV9UWF9URVNUX1BBVFRFUk5fR0VORVJBVElPTgorCW1pcGlfdHhfaHNfdHBfZ2VuKGRldl9w
LCAwLCBNSVBJX1RYX0hTX1RQX1ZfU1RSSVBFUywKKwkJCSAgMHg4LCAweGZmLCAweGZmMDAsIE1J
UElfQ1RSTDYpOworI2VuZGlmCisKKwlkcm1fZGJnKCZkZXZfcC0+ZHJtLCAiSVJRX1NUQVRVUyA9
IDB4JXhcbiIsCisJCSAgR0VUX01JUElfVFhfSFNfSVJRX1NUQVRVUyhkZXZfcCwgTUlQSV9DVFJM
NikpOworCisJcmV0dXJuIHJldDsKK30KKworI2lmZGVmIERQSFlfUkVBRF9URVNUQ09ERQoraW50
IGRwaHlfcmVhZF90ZXN0Y29kZShzdHJ1Y3Qga21iX2RybV9wcml2YXRlICpkZXZfcCwgaW50IGRw
aHlfc2VsLAorCQkgICAgICAgaW50IHRlc3RfY29kZSkKK3sKKwl1MzIgcmVnX3dyX2RhdGE7CisJ
dTMyIHJlZ19yZF9kYXRhOworCWludCBkYXRhOworCisJcmVnX3dyX2RhdGEgPSBkcGh5X3NlbDsK
KwlrbWJfd3JpdGVfbWlwaShkZXZfcCwgRFBIWV9URVNUX0NUUkwxLCByZWdfd3JfZGF0YSk7CisK
KwlkYXRhID0gMDsKKwlyZWdfd3JfZGF0YSA9IDA7CisJcmVnX3JkX2RhdGEgPSAwOworCisJaWYg
KCgoZHBoeV9zZWwgPj4gMCAmIDB4MSkgPT0gMSkgfCAoKGRwaHlfc2VsID4+IDQgJiAweDEpID09
IDEpIHwKKwkgICAgKChkcGh5X3NlbCA+PiA4ICYgMHgxKSA9PSAxKSkKKwkJcmVnX3dyX2RhdGEg
fD0gZGF0YSA8PCAwOworCWlmICgoKGRwaHlfc2VsID4+IDEgJiAweDEpID09IDEpIHwgKChkcGh5
X3NlbCA+PiA1ICYgMHgxKSA9PSAxKSB8CisJICAgICgoZHBoeV9zZWwgPj4gOSAmIDB4MSkgPT0g
MSkpCisJCXJlZ193cl9kYXRhIHw9IGRhdGEgPDwgODsKKwlpZiAoKChkcGh5X3NlbCA+PiAyICYg
MHgxKSA9PSAxKSB8ICgoZHBoeV9zZWwgPj4gNiAmIDB4MSkgPT0gMSkgfAorCSAgICAoKGRwaHlf
c2VsID4+IDEwICYgMHgxKSA9PSAxKSkKKwkJcmVnX3dyX2RhdGEgfD0gZGF0YSA8PCAxNjsKKwlp
ZiAoKChkcGh5X3NlbCA+PiAzICYgMHgxKSA9PSAxKSB8ICgoZHBoeV9zZWwgPj4gNyAmIDB4MSkg
PT0gMSkgfAorCSAgICAoKGRwaHlfc2VsID4+IDExICYgMHgxKSA9PSAxKSkKKwkJcmVnX3dyX2Rh
dGEgfD0gZGF0YSA8PCAyNDsKKworCWlmICgoZHBoeV9zZWwgPj4gMCAmIDB4ZikgPiAwKQorCQlr
bWJfd3JpdGVfbWlwaShkZXZfcCwgRFBIWV9URVNUX0RJTjBfMywgcmVnX3dyX2RhdGEpOworCWlm
ICgoZHBoeV9zZWwgPj4gNCAmIDB4ZikgPiAwKQorCQlrbWJfd3JpdGVfbWlwaShkZXZfcCwgRFBI
WV9URVNUX0RJTjRfNywgcmVnX3dyX2RhdGEpOworCWlmICgoZHBoeV9zZWwgPj4gOCAmIDB4Mykg
PiAwKQorCQlrbWJfd3JpdGVfbWlwaShkZXZfcCwgRFBIWV9URVNUX0RJTjhfOSwgcmVnX3dyX2Rh
dGEpOworCisJcmVnX3dyX2RhdGEgPSAwOworCXJlZ193cl9kYXRhID0gKGRwaHlfc2VsIHwgZHBo
eV9zZWwgPDwgMTIpOworCWttYl93cml0ZV9taXBpKGRldl9wLCBEUEhZX1RFU1RfQ1RSTDEsIHJl
Z193cl9kYXRhKTsKKworCXJlZ193cl9kYXRhID0gMDsKKwlyZWdfd3JfZGF0YSA9IGRwaHlfc2Vs
IDw8IDEyOworCWttYl93cml0ZV9taXBpKGRldl9wLCBEUEhZX1RFU1RfQ1RSTDEsIHJlZ193cl9k
YXRhKTsKKworCXJlZ193cl9kYXRhID0gMDsKKwlrbWJfd3JpdGVfbWlwaShkZXZfcCwgRFBIWV9U
RVNUX0NUUkwxLCByZWdfd3JfZGF0YSk7CisKKwlkYXRhID0gdGVzdF9jb2RlID4+IDggJiAweGY7
CisJcmVnX3dyX2RhdGEgPSAwOworCisJaWYgKCgoZHBoeV9zZWwgPj4gMCAmIDB4MSkgPT0gMSkg
fCAoKGRwaHlfc2VsID4+IDQgJiAweDEpID09IDEpIHwKKwkgICAgKChkcGh5X3NlbCA+PiA4ICYg
MHgxKSA9PSAxKSkKKwkJcmVnX3dyX2RhdGEgfD0gZGF0YSA8PCAwOworCWlmICgoKGRwaHlfc2Vs
ID4+IDEgJiAweDEpID09IDEpIHwgKChkcGh5X3NlbCA+PiA1ICYgMHgxKSA9PSAxKSB8CisJICAg
ICgoZHBoeV9zZWwgPj4gOSAmIDB4MSkgPT0gMSkpCisJCXJlZ193cl9kYXRhIHw9IGRhdGEgPDwg
ODsKKwlpZiAoKChkcGh5X3NlbCA+PiAyICYgMHgxKSA9PSAxKSB8ICgoZHBoeV9zZWwgPj4gNiAm
IDB4MSkgPT0gMSkgfAorCSAgICAoKGRwaHlfc2VsID4+IDEwICYgMHgxKSA9PSAxKSkKKwkJcmVn
X3dyX2RhdGEgfD0gZGF0YSA8PCAxNjsKKwlpZiAoKChkcGh5X3NlbCA+PiAzICYgMHgxKSA9PSAx
KSB8ICgoZHBoeV9zZWwgPj4gNyAmIDB4MSkgPT0gMSkgfAorCSAgICAoKGRwaHlfc2VsID4+IDEx
ICYgMHgxKSA9PSAxKSkKKwkJcmVnX3dyX2RhdGEgfD0gZGF0YSA8PCAyNDsKKworCWlmICgoZHBo
eV9zZWwgPj4gMCAmIDB4ZikgPiAwKQorCQlrbWJfd3JpdGVfbWlwaShkZXZfcCwgRFBIWV9URVNU
X0RJTjBfMywgcmVnX3dyX2RhdGEpOworCWlmICgoZHBoeV9zZWwgPj4gNCAmIDB4ZikgPiAwKQor
CQlrbWJfd3JpdGVfbWlwaShkZXZfcCwgRFBIWV9URVNUX0RJTjRfNywgcmVnX3dyX2RhdGEpOwor
CWlmICgoZHBoeV9zZWwgPj4gOCAmIDB4MykgPiAwKQorCQlrbWJfd3JpdGVfbWlwaShkZXZfcCwg
RFBIWV9URVNUX0RJTjhfOSwgcmVnX3dyX2RhdGEpOworCisJcmVnX3dyX2RhdGEgPSAwOworCXJl
Z193cl9kYXRhID0gZHBoeV9zZWw7CisJa21iX3dyaXRlX21pcGkoZGV2X3AsIERQSFlfVEVTVF9D
VFJMMSwgcmVnX3dyX2RhdGEpOworCisJZGF0YSA9IHRlc3RfY29kZSAmIDB4ZmY7CisJcmVnX3dy
X2RhdGEgPSAwOworCisJaWYgKCgoZHBoeV9zZWwgPj4gMCAmIDB4MSkgPT0gMSkgfCAoKGRwaHlf
c2VsID4+IDQgJiAweDEpID09IDEpIHwKKwkgICAgKChkcGh5X3NlbCA+PiA4ICYgMHgxKSA9PSAx
KSkKKwkJcmVnX3dyX2RhdGEgfD0gZGF0YSA8PCAwOworCWlmICgoKGRwaHlfc2VsID4+IDEgJiAw
eDEpID09IDEpIHwgKChkcGh5X3NlbCA+PiA1ICYgMHgxKSA9PSAxKSB8CisJICAgICgoZHBoeV9z
ZWwgPj4gOSAmIDB4MSkgPT0gMSkpCisJCXJlZ193cl9kYXRhIHw9IGRhdGEgPDwgODsKKwlpZiAo
KChkcGh5X3NlbCA+PiAyICYgMHgxKSA9PSAxKSB8ICgoZHBoeV9zZWwgPj4gNiAmIDB4MSkgPT0g
MSkgfAorCSAgICAoKGRwaHlfc2VsID4+IDEwICYgMHgxKSA9PSAxKSkKKwkJcmVnX3dyX2RhdGEg
fD0gZGF0YSA8PCAxNjsKKwlpZiAoKChkcGh5X3NlbCA+PiAzICYgMHgxKSA9PSAxKSB8ICgoZHBo
eV9zZWwgPj4gNyAmIDB4MSkgPT0gMSkgfAorCSAgICAoKGRwaHlfc2VsID4+IDExICYgMHgxKSA9
PSAxKSkKKwkJcmVnX3dyX2RhdGEgfD0gZGF0YSA8PCAyNDsKKworCWlmICgoZHBoeV9zZWwgPj4g
MCAmIDB4ZikgPiAwKQorCQlrbWJfd3JpdGVfbWlwaShkZXZfcCwgRFBIWV9URVNUX0RJTjBfMywg
cmVnX3dyX2RhdGEpOworCWlmICgoZHBoeV9zZWwgPj4gNCAmIDB4ZikgPiAwKQorCQlrbWJfd3Jp
dGVfbWlwaShkZXZfcCwgRFBIWV9URVNUX0RJTjRfNywgcmVnX3dyX2RhdGEpOworCWlmICgoZHBo
eV9zZWwgPj4gOCAmIDB4MykgPiAwKQorCQlrbWJfd3JpdGVfbWlwaShkZXZfcCwgRFBIWV9URVNU
X0RJTjhfOSwgcmVnX3dyX2RhdGEpOworCisJcmVnX3dyX2RhdGEgPSAwOworCXJlZ193cl9kYXRh
ID0gKGRwaHlfc2VsIHwgZHBoeV9zZWwgPDwgMTIpOworCWttYl93cml0ZV9taXBpKGRldl9wLCBE
UEhZX1RFU1RfQ1RSTDEsIHJlZ193cl9kYXRhKTsKKworCXJlZ193cl9kYXRhID0gMDsKKwlyZWdf
d3JfZGF0YSA9IGRwaHlfc2VsIDw8IDEyOworCWttYl93cml0ZV9taXBpKGRldl9wLCBEUEhZX1RF
U1RfQ1RSTDEsIHJlZ193cl9kYXRhKTsKKworCXJlZ193cl9kYXRhID0gMDsKKwlrbWJfd3JpdGVf
bWlwaShkZXZfcCwgRFBIWV9URVNUX0NUUkwxLCByZWdfd3JfZGF0YSk7CisKKwlpZiAoKGRwaHlf
c2VsID4+IDAgJiAweGYpID4gMCkKKwkJcmVnX3JkX2RhdGEgPSBrbWJfcmVhZF9taXBpKGRldl9w
LCBEUEhZX1RFU1RfRE9VVDBfMyk7CisJaWYgKChkcGh5X3NlbCA+PiA0ICYgMHhmKSA+IDApCisJ
CXJlZ19yZF9kYXRhID0ga21iX3JlYWRfbWlwaShkZXZfcCwgRFBIWV9URVNUX0RPVVQ0XzcpOwor
CWlmICgoZHBoeV9zZWwgPj4gOCAmIDB4MykgPiAwKQorCQlyZWdfcmRfZGF0YSA9IGttYl9yZWFk
X21pcGkoZGV2X3AsIERQSFlfVEVTVF9ET1VUOF85KTsKKworCWlmICgoKGRwaHlfc2VsID4+IDAg
JiAweDEpID09IDEpIHwgKChkcGh5X3NlbCA+PiA0ICYgMHgxKSA9PSAxKSB8CisJICAgICgoZHBo
eV9zZWwgPj4gOCAmIDB4MSkgPT0gMSkpCisJCWRhdGEgPSByZWdfcmRfZGF0YSA+PiAwOworCWlm
ICgoKGRwaHlfc2VsID4+IDEgJiAweDEpID09IDEpIHwgKChkcGh5X3NlbCA+PiA1ICYgMHgxKSA9
PSAxKSB8CisJICAgICgoZHBoeV9zZWwgPj4gOSAmIDB4MSkgPT0gMSkpCisJCWRhdGEgPSByZWdf
cmRfZGF0YSA+PiA4OworCWlmICgoKGRwaHlfc2VsID4+IDIgJiAweDEpID09IDEpIHwgKChkcGh5
X3NlbCA+PiA2ICYgMHgxKSA9PSAxKSB8CisJICAgICgoZHBoeV9zZWwgPj4gMTAgJiAweDEpID09
IDEpKQorCQlkYXRhID0gcmVnX3JkX2RhdGEgPj4gMTY7CisJaWYgKCgoZHBoeV9zZWwgPj4gMyAm
IDB4MSkgPT0gMSkgfCAoKGRwaHlfc2VsID4+IDcgJiAweDEpID09IDEpIHwKKwkgICAgKChkcGh5
X3NlbCA+PiAxMSAmIDB4MSkgPT0gMSkpCisJCWRhdGEgPSByZWdfcmRfZGF0YSA+PiAyNDsKKwor
CXJldHVybiBkYXRhOworfQorI2VuZGlmCisKK3N0YXRpYyB2b2lkIHRlc3RfbW9kZV9zZW5kKHN0
cnVjdCBrbWJfZHJtX3ByaXZhdGUgKmRldl9wLCB1MzIgZHBoeV9ubywKKwkJCSAgIHUzMiB0ZXN0
X2NvZGUsIHUzMiB0ZXN0X2RhdGEpCit7CisJaWYgKHRlc3RfY29kZSAhPSBURVNUX0NPREVfRlNN
X0NPTlRST0wpCisJCWRybV9kYmcoJmRldl9wLT5kcm0sCisJCQkidGVzdF9jb2RlID0gJTAyeCwg
dGVzdF9kYXRhID0gJTA4eFxuIiwgdGVzdF9jb2RlLAorCQkJIHRlc3RfZGF0YSk7CisJLyogU3Rl
cHMgdG8gc2VuZCB0ZXN0IGNvZGU6CisJICogLSBzZXQgdGVzdGNsayBISUdICisJICogLSBzZXQg
dGVzdGRpbiB3aXRoIHRlc3QgY29kZQorCSAqIC0gc2V0IHRlc3RlbiBISUdICisJICogLSBzZXQg
dGVzdGNsayBMT1cKKwkgKiAtIHNldCB0ZXN0ZW4gTE9XCisJICovCisKKwkvKiBTZXQgdGVzdGNs
ayBoaWdoICovCisJU0VUX0RQSFlfVEVTVF9DVFJMMV9DTEsoZGV2X3AsIGRwaHlfbm8pOworCisJ
LyogU2V0IHRlc3RkaW4gKi8KKwlTRVRfVEVTVF9ESU4wXzMoZGV2X3AsIGRwaHlfbm8sIHRlc3Rf
Y29kZSk7CisKKwkvKiBTZXQgdGVzdGVuIGhpZ2ggKi8KKwlTRVRfRFBIWV9URVNUX0NUUkwxX0VO
KGRldl9wLCBkcGh5X25vKTsKKworCS8qIFNldCB0ZXN0Y2xrIGxvdyAqLworCUNMUl9EUEhZX1RF
U1RfQ1RSTDFfQ0xLKGRldl9wLCBkcGh5X25vKTsKKworCS8qIFNldCB0ZXN0ZW4gbG93ICovCisJ
Q0xSX0RQSFlfVEVTVF9DVFJMMV9FTihkZXZfcCwgZHBoeV9ubyk7CisKKwlpZiAodGVzdF9jb2Rl
KSB7CisJCS8qICBTdGVwcyB0byBzZW5kIHRlc3QgZGF0YToKKwkJICogLSBzZXQgdGVzdGVuIExP
VworCQkgKiAtIHNldCB0ZXN0Y2xrIExPVworCQkgKiAtIHNldCB0ZXN0ZGluIHdpdGggZGF0YQor
CQkgKiAtIHNldCB0ZXN0Y2xrIEhJR0gKKwkJICovCisKKwkJLyogU2V0IHRlc3RlbiBsb3cgKi8K
KwkJQ0xSX0RQSFlfVEVTVF9DVFJMMV9FTihkZXZfcCwgZHBoeV9ubyk7CisKKwkJLyogU2V0IHRl
c3RjbGsgbG93ICovCisJCUNMUl9EUEhZX1RFU1RfQ1RSTDFfQ0xLKGRldl9wLCBkcGh5X25vKTsK
KworCQkvKiBTZXQgZGF0YSBpbiB0ZXN0ZGluICovCisJCWttYl93cml0ZV9taXBpKGRldl9wLAor
CQkJICAgICAgIERQSFlfVEVTVF9ESU4wXzMgKyAoKGRwaHlfbm8gLyAweDQpICogMHg0KSwKKwkJ
CSAgICAgICB0ZXN0X2RhdGEgPDwgKChkcGh5X25vICUgNCkgKiA4KSk7CisKKwkJLyogU2V0IHRl
c3RjbGsgaGlnaCAqLworCQlTRVRfRFBIWV9URVNUX0NUUkwxX0NMSyhkZXZfcCwgZHBoeV9ubyk7
CisJfQorfQorCitzdGF0aWMgaW5saW5lIHZvaWQgc2V0X3Rlc3RfbW9kZV9zcmNfb3NjX2ZyZXFf
dGFyZ2V0X2xvd19iaXRzKHN0cnVjdAorCQkJCQkJCSAgICAgIGttYl9kcm1fcHJpdmF0ZQorCQkJ
CQkJCSAgICAgICpkZXZfcCwKKwkJCQkJCQkgICAgICB1MzIgZHBoeV9ubywKKwkJCQkJCQkgICAg
ICB1MzIgZnJlcSkKK3sKKwkvKiBUeXBpY2FsIHJpc2UvZmFsbCB0aW1lPTE2NiwgcmVmZXIgVGFi
bGUgMTIwNyBkYXRhYm9vaywKKwkgKiBzcl9vc2NfZnJlcV90YXJnZXRbNzowXQorCSAqLworCXRl
c3RfbW9kZV9zZW5kKGRldl9wLCBkcGh5X25vLCBURVNUX0NPREVfU0xFV19SQVRFX0RETF9DWUNM
RVMsCisJCSAgICAgICAoZnJlcSAmIDB4N2YpKTsKK30KKworc3RhdGljIGlubGluZSB2b2lkIHNl
dF90ZXN0X21vZGVfc3JjX29zY19mcmVxX3RhcmdldF9oaV9iaXRzKHN0cnVjdAorCQkJCQkJCSAg
ICAga21iX2RybV9wcml2YXRlCisJCQkJCQkJICAgICAqZGV2X3AsCisJCQkJCQkJICAgICB1MzIg
ZHBoeV9ubywKKwkJCQkJCQkgICAgIHUzMiBmcmVxKQoreworCXUzMiBkYXRhOworCisJLyogRmxh
ZyB0aGlzIGFzIGhpZ2ggbmliYmxlICovCisJZGF0YSA9ICgoZnJlcSA+PiA2KSAmIDB4MWYpIHwg
KDEgPDwgNyk7CisKKwkvKiBUeXBpY2FsIHJpc2UvZmFsbCB0aW1lPTE2NiwgcmVmZXIgVGFibGUg
MTIwNyBkYXRhYm9vaywKKwkgKiBzcl9vc2NfZnJlcV90YXJnZXRbMTE6N10KKwkgKi8KKwl0ZXN0
X21vZGVfc2VuZChkZXZfcCwgZHBoeV9ubywgVEVTVF9DT0RFX1NMRVdfUkFURV9ERExfQ1lDTEVT
LCBkYXRhKTsKK30KKworc3RhdGljIHZvaWQgbWlwaV90eF9nZXRfdmNvX3BhcmFtcyhzdHJ1Y3Qg
dmNvX3BhcmFtcyAqdmNvKQoreworCWludCBpOworCisJZm9yIChpID0gMDsgaSA8IEFSUkFZX1NJ
WkUodmNvX3RhYmxlKTsgaSsrKSB7CisJCWlmICh2Y28tPmZyZXEgPCB2Y29fdGFibGVbaV0uZnJl
cSkgeworCQkJKnZjbyA9IHZjb190YWJsZVtpXTsKKwkJCXJldHVybjsKKwkJfQorCX0KKworCVdB
Uk5fT05DRSgxLCAiSW52YWxpZCB2Y28gZnJlcSA9ICV1IGZvciBQTEwgc2V0dXBcbiIsIHZjby0+
ZnJlcSk7Cit9CisKK3N0YXRpYyB2b2lkIG1pcGlfdHhfcGxsX3NldHVwKHN0cnVjdCBrbWJfZHJt
X3ByaXZhdGUgKmRldl9wLCB1MzIgZHBoeV9ubywKKwkJCSAgICAgIHUzMiByZWZfY2xrX21oeiwg
dTMyIHRhcmdldF9mcmVxX21oeikKK3sKKwl1MzIgYmVzdF9uID0gMCwgYmVzdF9tID0gMDsKKwl1
MzIgbiA9IDAsIG0gPSAwLCBkaXYgPSAwLCBkZWx0YSwgZnJlcSA9IDAsIHRfZnJlcTsKKwl1MzIg
YmVzdF9mcmVxX2RlbHRhID0gMzAwMDsKKworCS8qIHBsbF9yZWZfY2xrOiAtIHZhbGlkIHJhbmdl
OiAyfjY0IE1IejsgVHlwaWNhbGx5IDI0IE1IegorCSAqIEZ2Y286IC0gdmFsaWQgcmFuZ2U6IDMy
MH4xMjUwIE1IeiAoR2VuMyBELVBIWSkKKwkgKiBGb3V0OiAtIHZhbGlkIHJhbmdlOiA0MH4xMjUw
IE1IeiAoR2VuMyBELVBIWSkKKwkgKiBuOiAtIHZhbGlkIHJhbmdlIFswIDE1XQorCSAqIE46IC0g
TiA9IG4gKyAxCisJICogICAgICAtdmFsaWQgcmFuZ2U6IFsxIDE2XQorCSAqICAgICAgLWNvbmRp
dGlvbnM6IC0gKHBsbF9yZWZfY2xrIC8gTikgPj0gMiBNSHoKKwkgKiAgICAgICAgICAgICAgLShw
bGxfcmVmX2NsayAvIE4pIDw9IDggTUh6CisJICogbTogdmFsaWQgcmFuZ2UgWzYyIDYyM10KKwkg
KiBNOiAtIE0gPSBtICsgMgorCSAqICAgICAgLXZhbGlkIHJhbmdlIFs2NCA2MjVdCisJICogICAg
ICAtRnZjbyA9IChNL04pICogcGxsX3JlZl9jbGsKKwkgKi8KKwlzdHJ1Y3QgdmNvX3BhcmFtcyB2
Y29fcCA9IHsKKwkJLnJhbmdlID0gMCwKKwkJLmRpdmlkZXIgPSAxLAorCX07CisKKwl2Y29fcC5m
cmVxID0gdGFyZ2V0X2ZyZXFfbWh6OworCW1pcGlfdHhfZ2V0X3Zjb19wYXJhbXMoJnZjb19wKTsK
KworCS8qIFNlYXJjaCBwbGwgbiBwYXJhbWV0ZXIgKi8KKwlmb3IgKG4gPSBQTExfTl9NSU47IG4g
PD0gUExMX05fTUFYOyBuKyspIHsKKwkJLyogQ2FsY3VsYXRlIHRoZSBwbGwgaW5wdXQgZnJlcXVl
bmN5IGRpdmlzaW9uIHJhdGlvCisJCSAqIG11bHRpcGx5IGJ5IDEwMDAgZm9yIHByZWNpc2lvbiAt
CisJCSAqIG5vIGZsb2F0aW5nIHBvaW50LCBhZGQgbiBmb3Igcm91bmRpbmcKKwkJICovCisJCWRp
diA9ICgocmVmX2Nsa19taHogKiAxMDAwKSArIG4pIC8gKG4gKyAxKTsKKworCQkvKiBGb3VuZCBh
IHZhbGlkIG4gcGFyYW1ldGVyICovCisJCWlmICgoZGl2IDwgMjAwMCB8fCBkaXYgPiA4MDAwKSkK
KwkJCWNvbnRpbnVlOworCisJCS8qIFNlYXJjaCBwbGwgbSBwYXJhbWV0ZXIgKi8KKwkJZm9yICht
ID0gUExMX01fTUlOOyBtIDw9IFBMTF9NX01BWDsgbSsrKSB7CisJCQkvKiBDYWxjdWxhdGUgdGhl
IEZ2Y28oRFBIWSBQTEwgb3V0cHV0IGZyZXF1ZW5jeSkKKwkJCSAqIHVzaW5nIHRoZSBjdXJyZW50
IG4sbSBwYXJhbXMKKwkJCSAqLworCQkJZnJlcSA9IGRpdiAqIChtICsgMik7CisJCQlmcmVxIC89
IDEwMDA7CisKKwkJCS8qIFRyaW0gdGhlIHBvdGVudGlhbCBwbGwgZnJlcSB0byBtYXggc3VwcG9y
dGVkICovCisJCQlpZiAoZnJlcSA+IFBMTF9GVkNPX01BWCkKKwkJCQljb250aW51ZTsKKworCQkJ
ZGVsdGEgPSBhYnMoZnJlcSAtIHRhcmdldF9mcmVxX21oeik7CisKKwkJCS8qIFNlbGVjdCB0aGUg
YmVzdCAoY2xvc2VzdCB0byB0YXJnZXQgcGxsIGZyZXEpCisJCQkgKiBuLG0gcGFyYW1ldGVycyBz
byBmYXIKKwkJCSAqLworCQkJaWYgKGRlbHRhIDwgYmVzdF9mcmVxX2RlbHRhKSB7CisJCQkJYmVz
dF9uID0gbjsKKwkJCQliZXN0X20gPSBtOworCQkJCWJlc3RfZnJlcV9kZWx0YSA9IGRlbHRhOwor
CQkJfQorCQl9CisJfQorCisJLyogUHJvZ3JhbSB2Y29fY250cmwgcGFyYW1ldGVyCisJICogUExM
X1ZDT19Db250cm9sWzU6MF0gPSBwbGxfdmNvX2NudHJsX292ciwKKwkgKiBQTExfVkNPX0NvbnRy
b2xbNl0gICA9IHBsbF92Y29fY250cmxfb3ZyX2VuCisJICovCisJdGVzdF9tb2RlX3NlbmQoZGV2
X3AsIGRwaHlfbm8sIFRFU1RfQ09ERV9QTExfVkNPX0NUUkwsICh2Y29fcC5yYW5nZQorCQkJCQkJ
CQl8ICgxIDw8IDYpKSk7CisKKwkvKiBQcm9ncmFtIG0sIG4gcGxsIHBhcmFtZXRlcnMgKi8KKwlk
cm1fZGJnKCZkZXZfcC0+ZHJtLCAibSA9ICVkIG4gPSAlZFxuIiwgYmVzdF9tLCBiZXN0X24pOwor
CisJLyogUExMX0lucHV0X0RpdmlkZXJfUmF0aW9bMzowXSA9IHBsbF9uX292ciAqLworCXRlc3Rf
bW9kZV9zZW5kKGRldl9wLCBkcGh5X25vLCBURVNUX0NPREVfUExMX0lOUFVUX0RJVklERVIsCisJ
CSAgICAgICAoYmVzdF9uICYgMHgwZikpOworCisJLyogbSAtIGxvdyBuaWJibGUgUExMX0xvb3Bf
RGl2aWRlcl9SYXRpb1s0OjBdCisJICogcGxsX21fb3ZyWzQ6MF0KKwkgKi8KKwl0ZXN0X21vZGVf
c2VuZChkZXZfcCwgZHBoeV9ubywgVEVTVF9DT0RFX1BMTF9GRUVEQkFDS19ESVZJREVSLAorCQkg
ICAgICAgKGJlc3RfbSAmIDB4MWYpKTsKKworCS8qIG0gLSBoaWdoIG5pYmJsZSBQTExfTG9vcF9E
aXZpZGVyX1JhdGlvWzQ6MF0KKwkgKiBwbGxfbV9vdnJbOTo1XQorCSAqLworCXRlc3RfbW9kZV9z
ZW5kKGRldl9wLCBkcGh5X25vLCBURVNUX0NPREVfUExMX0ZFRURCQUNLX0RJVklERVIsCisJCSAg
ICAgICAoKGJlc3RfbSA+PiA1KSAmIDB4MWYpIHwgUExMX0ZFRURCQUNLX0RJVklERVJfSElHSCk7
CisKKwkvKiBFbmFibGUgb3ZlcndyaXRlIG9mIG4sbSBwYXJhbWV0ZXJzIDpwbGxfbl9vdnJfZW4s
IHBsbF9tX292cl9lbiAqLworCXRlc3RfbW9kZV9zZW5kKGRldl9wLCBkcGh5X25vLCBURVNUX0NP
REVfUExMX09VVFBVVF9DTEtfU0VMLAorCQkgICAgICAgKFBMTF9OX09WUl9FTiB8IFBMTF9NX09W
Ul9FTikpOworCisJLyogUHJvZ3JhbSBDaGFyZ2UtUHVtcCBwYXJhbWV0ZXJzICovCisKKwkvKiBw
bGxfcHJvcF9jbnRybC1maXhlZCB2YWx1ZXMgZm9yIHByb3BfY250cmwgZnJvbSBEUEhZIGRvYyAq
LworCXRfZnJlcSA9IHRhcmdldF9mcmVxX21oeiAqIHZjb19wLmRpdmlkZXI7CisJdGVzdF9tb2Rl
X3NlbmQoZGV2X3AsIGRwaHlfbm8sCisJCSAgICAgICBURVNUX0NPREVfUExMX1BST1BPUlRJT05B
TF9DSEFSR0VfUFVNUF9DVFJMLAorCQkgICAgICAgKCh0X2ZyZXEgPiAxMTUwKSA/IDB4MEMgOiAw
eDBCKSk7CisKKwkvKiBwbGxfaW50X2NudHJsLWZpeGVkIHZhbHVlIGZvciBpbnRfY250cmwgZnJv
bSBEUEhZIGRvYyAqLworCXRlc3RfbW9kZV9zZW5kKGRldl9wLCBkcGh5X25vLCBURVNUX0NPREVf
UExMX0lOVEVHUkFMX0NIQVJHRV9QVU1QX0NUUkwsCisJCSAgICAgICAweDAwKTsKKworCS8qIHBs
bF9nbXBfY250cmwtZml4ZWQgdmFsdWUgZm9yIGdtcF9jbnRybCBmcm9tIERQSFkgZG9jaSAqLwor
CXRlc3RfbW9kZV9zZW5kKGRldl9wLCBkcGh5X25vLCBURVNUX0NPREVfUExMX0dNUF9DVFJMLCAw
eDEwKTsKKworCS8qIHBsbF9jcGJpYXNfY250cmwtZml4ZWQgdmFsdWUgZm9yIGNwYmlhc19jbnRy
bCBmcm9tIERQSFkgZG9jICovCisJdGVzdF9tb2RlX3NlbmQoZGV2X3AsIGRwaHlfbm8sIFRFU1Rf
Q09ERV9QTExfQ0hBUkdFX1BVTVBfQklBUywgMHgxMCk7CisKKwkvKiBwbGxfdGgxIC1Mb2NrIERl
dGVjdG9yIFBoYXNlIGVycm9yIHRocmVzaG9sZCwKKwkgKiBkb2N1bWVudCBnaXZlcyBmaXhlZCB2
YWx1ZQorCSAqLworCXRlc3RfbW9kZV9zZW5kKGRldl9wLCBkcGh5X25vLCBURVNUX0NPREVfUExM
X1BIQVNFX0VSUl9DVFJMLCAweDAyKTsKKworCS8qIFBMTCBMb2NrIENvbmZpZ3VyYXRpb24gKi8K
KworCS8qIHBsbF90aDIgLSBMb2NrIEZpbHRlciBsZW5ndGgsIGRvY3VtZW50IGdpdmVzIGZpeGVk
IHZhbHVlICovCisJdGVzdF9tb2RlX3NlbmQoZGV2X3AsIGRwaHlfbm8sIFRFU1RfQ09ERV9QTExf
TE9DS19GSUxURVIsIDB4NjApOworCisJLyogcGxsX3RoMy0gUExMIFVubG9ja2luZyBmaWx0ZXIs
IGRvY3VtZW50IGdpdmVzIGZpeGVkIHZhbHVlICovCisJdGVzdF9tb2RlX3NlbmQoZGV2X3AsIGRw
aHlfbm8sIFRFU1RfQ09ERV9QTExfVU5MT0NLX0ZJTFRFUiwgMHgwMyk7CisKKwkvKiBwbGxfbG9j
a19zZWwtUExMIExvY2sgRGV0ZWN0b3IgU2VsZWN0aW9uLAorCSAqIGRvY3VtZW50IGdpdmVzIGZp
eGVkIHZhbHVlCisJICovCisJdGVzdF9tb2RlX3NlbmQoZGV2X3AsIGRwaHlfbm8sIFRFU1RfQ09E
RV9QTExfTE9DS19ERVRFQ1RPUiwgMHgwMik7Cit9CisKKyNpZmRlZiBEUEhZX0dFVF9GU00KK3N0
YXRpYyB2b2lkIGRwaHlfZ2V0X2ZzbShzdHJ1Y3Qga21iX2RybV9wcml2YXRlICpkZXZfcCwgdTMy
IGRwaHlfbm8pCit7CisJdGVzdF9tb2RlX3NlbmQoZGV2X3AsIGRwaHlfbm8sIFRFU1RfQ09ERV9G
U01fQ09OVFJPTCwgMHg4MCk7CisKKwlkcm1fZGJnKCZkZXZfcC0+ZHJtLCAiZHBoeSAlZCBmc21f
c3RhdGUgPSAwJXhcbiIsIGRwaHlfbm8sCisJCSBrbWJfcmVhZF9taXBpKGRldl9wLCBEUEhZX1RF
U1RfRE9VVDRfNykpOworfQorI2VuZGlmCisKK3N0YXRpYyB2b2lkIGRwaHlfaW5pdF9zZXF1ZW5j
ZShzdHJ1Y3Qga21iX2RybV9wcml2YXRlICpkZXZfcCwKKwkJCSAgICAgICBzdHJ1Y3QgbWlwaV9j
dHJsX2NmZyAqY2ZnLCB1MzIgZHBoeV9ubywKKwkJCSAgICAgICBpbnQgYWN0aXZlX2xhbmVzLCBl
bnVtIGRwaHlfbW9kZSBtb2RlKQoreworCXUzMiB0ZXN0X2NvZGUgPSAwLCB0ZXN0X2RhdGEgPSAw
LCB2YWw7CisJaW50IGkgPSAwOworCisJZHJtX2luZm8oJmRldl9wLT5kcm0sCisJCSJkcGh5PSVk
IG1vZGU9JWQgYWN0aXZlX2xhbmVzPSVkXG4iLCBkcGh5X25vLCBtb2RlLAorCQkgYWN0aXZlX2xh
bmVzKTsKKwlkcm1fZGJnKCZkZXZfcC0+ZHJtLCAiTUlQSV9EUEhZX1NUQVQwXzRfNyA9IDB4JXgp
XG4iLAorCQkgIGttYl9yZWFkX21pcGkoZGV2X3AsIE1JUElfRFBIWV9TVEFUNF83KSk7CisKKwkv
KiBTZXQgRC1QSFkgaW4gc2h1dGRvd24gbW9kZSAqLworCS8qIEFzc2VydCBSU1RaIHNpZ25hbCAq
LworCUNMUl9EUEhZX0lOSVRfQ1RSTDAoZGV2X3AsIGRwaHlfbm8sIFJFU0VUWik7CisKKwkvKiBB
c3NlcnQgU0hVVERPV05aIHNpZ25hbCAqLworCUNMUl9EUEhZX0lOSVRfQ1RSTDAoZGV2X3AsIGRw
aHlfbm8sIFNIVVRET1dOWik7CisJdmFsID0ga21iX3JlYWRfbWlwaShkZXZfcCwgRFBIWV9JTklU
X0NUUkwwKTsKKworCWRybV9kYmcoJmRldl9wLT5kcm0sICJEUEhZX0lOSVRfQ1RSTDAgPSAweCV4
XG4iLCB2YWwpOworCisJLyogSW5pdCBELVBIWV9uCisJICogUHVsc2UgdGVzdGNsZWFyIHNpZ25h
bCB0byBtYWtlIHN1cmUgdGhlIGQtcGh5IGNvbmZpZ3VyYXRpb24KKwkgKiBzdGFydHMgZnJvbSBh
IGNsZWFuIGJhc2UKKwkgKi8KKwlDTFJfRFBIWV9URVNUX0NUUkwwKGRldl9wLCBkcGh5X25vKTsK
KwluZGVsYXkoMTUpOworCVNFVF9EUEhZX1RFU1RfQ1RSTDAoZGV2X3AsIGRwaHlfbm8pOworCW5k
ZWxheSgxNSk7CisJQ0xSX0RQSFlfVEVTVF9DVFJMMChkZXZfcCwgZHBoeV9ubyk7CisJbmRlbGF5
KDE1KTsKKworCWRybV9kYmcoJmRldl9wLT5kcm0sICJEUEhZX1RFU1RfQ1RSTDA9MHgleFxuIiwK
KwkJICBrbWJfcmVhZF9taXBpKGRldl9wLCBEUEhZX1RFU1RfQ1RSTDApKTsKKworCS8qIFNldCBt
YXN0ZXJtYWNybyBiaXQgLSBNYXN0ZXIgb3Igc2xhdmUgbW9kZSAqLworCXRlc3RfY29kZSA9IFRF
U1RfQ09ERV9NVUxUSVBMRV9QSFlfQ1RSTDsKKworCS8qIERQSFkgaGFzIGl0cyBvd24gY2xvY2sg
bGFuZSBlbmFibGVkIChtYXN0ZXIpICovCisJaWYgKG1vZGUgPT0gTUlQSV9EUEhZX01BU1RFUikK
KwkJdGVzdF9kYXRhID0gMHgwMTsKKwllbHNlCisJCXRlc3RfZGF0YSA9IDB4MDA7CisKKwkvKiBT
ZW5kIHRoZSB0ZXN0IGNvZGUgYW5kIGRhdGEgKi8KKwl0ZXN0X21vZGVfc2VuZChkZXZfcCwgZHBo
eV9ubywgdGVzdF9jb2RlLCB0ZXN0X2RhdGEpOworCisJLyogU2V0IHRoZSBsYW5lIGRhdGEgcmF0
ZSAqLworCWZvciAoaSA9IDA7IGkgPCBNSVBJX0RQSFlfREVGQVVMVF9CSVRfUkFURVM7IGkrKykg
eworCQlpZiAobWlwaV9oc19mcmVxX3JhbmdlW2ldLmRlZmF1bHRfYml0X3JhdGVfbWJwcyA8CisJ
CSAgICBjZmctPmxhbmVfcmF0ZV9tYnBzKQorCQkJY29udGludWU7CisKKwkJLyogU2VuZCB0aGUg
dGVzdCBjb2RlIGFuZCBkYXRhICovCisJCS8qIGJpdFs2OjBdID0gaHNmcmVxcmFuZ2Vfb3ZyIGJp
dFs3XSA9IGhzZnJlcXJhbmdlX292cl9lbiAqLworCQl0ZXN0X2NvZGUgPSBURVNUX0NPREVfSFNf
RlJFUV9SQU5HRV9DRkc7CisJCXRlc3RfZGF0YSA9IChtaXBpX2hzX2ZyZXFfcmFuZ2VbaV0uaHNm
cmVxcmFuZ2VfY29kZSAmIDB4N2YpIHwKKwkJICAgICgxIDw8IDcpOworCQl0ZXN0X21vZGVfc2Vu
ZChkZXZfcCwgZHBoeV9ubywgdGVzdF9jb2RlLCB0ZXN0X2RhdGEpOworCQlicmVhazsKKwl9CisK
KwkvKiBIaWdoLVNwZWVkIFR4IFNsZXcgUmF0ZSBDYWxpYnJhdGlvbgorCSAqIEJpdFJhdGU6ID4g
MS41IEdicHMgJiYgPD0gMi41IEdicHM6IHNsZXcgcmF0ZSBjb250cm9sIE9GRgorCSAqLworCWlm
IChjZmctPmxhbmVfcmF0ZV9tYnBzID4gMTUwMCkgeworCQkvKiBCeXBhc3Mgc2xldyByYXRlIGNh
bGlicmF0aW9uIGFsZ29yaXRobQorCQkgKiBiaXRzWzE6MH0gc3JjYWxfZW5fb3ZyX2VuLCBzcmNh
bF9lbl9vdnIKKwkJICovCisJCXRlc3RfY29kZSA9IFRFU1RfQ09ERV9TTEVXX1JBVEVfT1ZFUlJJ
REVfQ1RSTDsKKwkJdGVzdF9kYXRhID0gMHgwMjsKKwkJdGVzdF9tb2RlX3NlbmQoZGV2X3AsIGRw
aHlfbm8sIHRlc3RfY29kZSwgdGVzdF9kYXRhKTsKKworCQkvKiBEaXNhYmxlIHNsZXcgcmF0ZSBj
YWxpYnJhdGlvbiAqLworCQl0ZXN0X2NvZGUgPSBURVNUX0NPREVfU0xFV19SQVRFX0RETF9MT09Q
X0NUUkw7CisJCXRlc3RfZGF0YSA9IDB4MDA7CisJCXRlc3RfbW9kZV9zZW5kKGRldl9wLCBkcGh5
X25vLCB0ZXN0X2NvZGUsIHRlc3RfZGF0YSk7CisJfSBlbHNlIGlmIChjZmctPmxhbmVfcmF0ZV9t
YnBzID4gMTAwMCkgeworCQkvKiBCaXRSYXRlOiA+IDEgR2JwcyAmJiA8PSAxLjUgR2JwczogLSBz
bGV3IHJhdGUgY29udHJvbCBPTgorCQkgKiB0eXBpY2FsIHJpc2UvZmFsbCB0aW1lczogMTY2IHBz
CisJCSAqLworCisJCS8qIERvIG5vdCBieXBhc3Mgc2xldyByYXRlIGNhbGlicmF0aW9uIGFsZ29y
aXRobQorCQkgKiBiaXRzWzE6MH09c3JjYWxfZW5fb3ZyX2VuLCBzcmNhbF9lbl9vdnIsIGJpdFs2
XT1zcl9yYW5nZQorCQkgKi8KKwkJdGVzdF9jb2RlID0gVEVTVF9DT0RFX1NMRVdfUkFURV9PVkVS
UklERV9DVFJMOworCQl0ZXN0X2RhdGEgPSAoMHgwMyB8ICgxIDw8IDYpKTsKKwkJdGVzdF9tb2Rl
X3NlbmQoZGV2X3AsIGRwaHlfbm8sIHRlc3RfY29kZSwgdGVzdF9kYXRhKTsKKworCQkvKiBFbmFi
bGUgc2xldyByYXRlIGNhbGlicmF0aW9uICovCisJCXRlc3RfY29kZSA9IFRFU1RfQ09ERV9TTEVX
X1JBVEVfRERMX0xPT1BfQ1RSTDsKKwkJdGVzdF9kYXRhID0gMHgwMTsKKwkJdGVzdF9tb2RlX3Nl
bmQoZGV2X3AsIGRwaHlfbm8sIHRlc3RfY29kZSwgdGVzdF9kYXRhKTsKKworCQkvKiBTZXQgc3Jf
b3NjX2ZyZXFfdGFyZ2V0WzY6MF0gbG93IG5pYmJsZQorCQkgKiB0eXBpY2FsIHJpc2UvZmFsbCB0
aW1lPTE2NiwgcmVmZXIgVGFibGUgMTIwNyBkYXRhYm9vaworCQkgKi8KKwkJdGVzdF9jb2RlID0g
VEVTVF9DT0RFX1NMRVdfUkFURV9ERExfQ1lDTEVTOworCQl0ZXN0X2RhdGEgPSAoMHg3MmYgJiAw
eDdmKTsKKwkJdGVzdF9tb2RlX3NlbmQoZGV2X3AsIGRwaHlfbm8sIHRlc3RfY29kZSwgdGVzdF9k
YXRhKTsKKworCQkvKiBTZXQgc3Jfb3NjX2ZyZXFfdGFyZ2V0WzExOjddIGhpZ2ggbmliYmxlCisJ
CSAqIFR5cGljYWwgcmlzZS9mYWxsIHRpbWU9MTY2LCByZWZlciBUYWJsZSAxMjA3IGRhdGFib29r
CisJCSAqLworCQl0ZXN0X2NvZGUgPSBURVNUX0NPREVfU0xFV19SQVRFX0RETF9DWUNMRVM7CisJ
CXRlc3RfZGF0YSA9ICgoMHg3MmYgPj4gNikgJiAweDFmKSB8ICgxIDw8IDcpOworCQl0ZXN0X21v
ZGVfc2VuZChkZXZfcCwgZHBoeV9ubywgdGVzdF9jb2RlLCB0ZXN0X2RhdGEpOworCX0gZWxzZSB7
CisJCS8qIGxhbmVfcmF0ZV9tYnBzIDw9IDEwMDAgTWJwcworCQkgKiBCaXRSYXRlOiAgPD0gMSBH
YnBzOgorCQkgKiAtIHNsZXcgcmF0ZSBjb250cm9sIE9OCisJCSAqIC0gdHlwaWNhbCByaXNlL2Zh
bGwgdGltZXM6IDIyNSBwcworCQkgKi8KKworCQkvKiBEbyBub3QgYnlwYXNzIHNsZXcgcmF0ZSBj
YWxpYnJhdGlvbiBhbGdvcml0aG0gKi8KKwkJdGVzdF9jb2RlID0gVEVTVF9DT0RFX1NMRVdfUkFU
RV9PVkVSUklERV9DVFJMOworCQl0ZXN0X2RhdGEgPSAoMHgwMyB8ICgxIDw8IDYpKTsKKwkJdGVz
dF9tb2RlX3NlbmQoZGV2X3AsIGRwaHlfbm8sIHRlc3RfY29kZSwgdGVzdF9kYXRhKTsKKworCQkv
KiBFbmFibGUgc2xldyByYXRlIGNhbGlicmF0aW9uICovCisJCXRlc3RfY29kZSA9IFRFU1RfQ09E
RV9TTEVXX1JBVEVfRERMX0xPT1BfQ1RSTDsKKwkJdGVzdF9kYXRhID0gMHgwMTsKKwkJdGVzdF9t
b2RlX3NlbmQoZGV2X3AsIGRwaHlfbm8sIHRlc3RfY29kZSwgdGVzdF9kYXRhKTsKKworCQkvKiBU
eXBpY2FsIHJpc2UvZmFsbCB0aW1lPTI1NSwgcmVmZXIgVGFibGUgMTIwNyBkYXRhYm9vayAqLwor
CQl0ZXN0X2NvZGUgPSBURVNUX0NPREVfU0xFV19SQVRFX0RETF9DWUNMRVM7CisJCXRlc3RfZGF0
YSA9ICgweDUyMyAmIDB4N2YpOworCQl0ZXN0X21vZGVfc2VuZChkZXZfcCwgZHBoeV9ubywgdGVz
dF9jb2RlLCB0ZXN0X2RhdGEpOworCisJCS8qIFNldCBzcl9vc2NfZnJlcV90YXJnZXRbMTE6N10g
aGlnaCBuaWJibGUgKi8KKwkJdGVzdF9jb2RlID0gVEVTVF9DT0RFX1NMRVdfUkFURV9ERExfQ1lD
TEVTOworCQl0ZXN0X2RhdGEgPSAoKDB4NTIzID4+IDYpICYgMHgxZikgfCAoMSA8PCA3KTsKKwkJ
dGVzdF9tb2RlX3NlbmQoZGV2X3AsIGRwaHlfbm8sIHRlc3RfY29kZSwgdGVzdF9kYXRhKTsKKwor
CX0KKworCS8qIFNldCBjZmdjbGtmcmVxcmFuZ2UgKi8KKwl2YWwgPSAoKChjZmctPmNmZ19jbGtf
a2h6IC8gMTAwMCkgLSAxNykgKiA0KSAmIDB4M2Y7CisJU0VUX0RQSFlfRlJFUV9DVFJMMF8zKGRl
dl9wLCBkcGh5X25vLCB2YWwpOworCisJZHJtX2RiZygmZGV2X3AtPmRybSwgIkRQSFlfRlJFUSA9
IDB4JXhcbiIsCisJCSBrbWJfcmVhZF9taXBpKGRldl9wLCBEUEhZX0ZSRVFfQ1RSTDBfMyArIDQp
KTsKKwlkcm1fZGJnKCZkZXZfcC0+ZHJtLCAiTUlQSV9EUEhZX1NUQVQwXzRfNyA9IDB4JXgpXG4i
LAorCQkgIGttYl9yZWFkX21pcGkoZGV2X3AsIE1JUElfRFBIWV9TVEFUNF83KSk7CisKKwkvKiBF
bmFibGUgY29uZmlnIGNsayBmb3IgdGhlIGNvcnJlc3BvbmRpbmcgZC1waHkgKi8KKwlrbWJfc2V0
X2JpdF9taXBpKGRldl9wLCBEUEhZX0NGR19DTEtfRU4sIGRwaHlfbm8pOworCisJZHJtX2RiZygm
ZGV2X3AtPmRybSwgIkRQSFlfQ0ZHX0NMS19FTiA9IDB4JXhcbiIsCisJCSBrbWJfcmVhZF9taXBp
KGRldl9wLCBEUEhZX0NGR19DTEtfRU4pKTsKKworCS8qIFBMTCBzZXR1cCAqLworCWlmIChtb2Rl
ID09IE1JUElfRFBIWV9NQVNURVIpIHsKKwkJLypTZXQgUExMIHJlZ3VsYXRvciBpbiBieXBhc3Mg
Ki8KKwkJdGVzdF9jb2RlID0gVEVTVF9DT0RFX1BMTF9BTkFMT0dfUFJPRzsKKwkJdGVzdF9kYXRh
ID0gMHgwMTsKKwkJdGVzdF9tb2RlX3NlbmQoZGV2X3AsIGRwaHlfbm8sIHRlc3RfY29kZSwgdGVz
dF9kYXRhKTsKKworCQkvKiBQTEwgUGFyYW1ldGVycyBTZXR1cCAqLworCQltaXBpX3R4X3BsbF9z
ZXR1cChkZXZfcCwgZHBoeV9ubywgY2ZnLT5yZWZfY2xrX2toeiAvIDEwMDAsCisJCQkJICBjZmct
PmxhbmVfcmF0ZV9tYnBzIC8gMik7CisKKwkJLyogU2V0IGNsa3NlbCAqLworCQlrbWJfd3JpdGVf
Yml0c19taXBpKGRldl9wLCBEUEhZX0lOSVRfQ1RSTDEsCisJCQkJICAgIFBMTF9DTEtTRUxfMCwg
MiwgMHgwMSk7CisKKwkJLyogU2V0IHBsbF9zaGFkb3dfY29udHJvbCAqLworCQlrbWJfc2V0X2Jp
dF9taXBpKGRldl9wLCBEUEhZX0lOSVRfQ1RSTDEsIFBMTF9TSEFET1dfQ1RSTCk7CisKKwkJZHJt
X2RiZygmZGV2X3AtPmRybSwgIkRQSFlfSU5JVF9DVFJMMSA9IDB4JXhcbiIsCisJCQkga21iX3Jl
YWRfbWlwaShkZXZfcCwgRFBIWV9JTklUX0NUUkwxKSk7CisJfQorCisJZHJtX2RiZygmZGV2X3At
PmRybSwgIk1JUElfRFBIWV9TVEFUMF80XzcgPSAweCV4KVxuIiwKKwkJICBrbWJfcmVhZF9taXBp
KGRldl9wLCBNSVBJX0RQSFlfU1RBVDRfNykpOworCisvLyNkZWZpbmUgTUlQSV9UWF9GT1JDRV9W
T0QKKyNpZmRlZiBNSVBJX1RYX0ZPUkNFX1ZPRAorI2RlZmluZSBNSVBJX1RYX1ZPRF9MVkwJNDUw
CisjZGVmaW5lIFRFU1RfQ09ERV9CQU5ER0FQIDB4MjQKKwkvKiBTZXQgYmFuZGdhcC9WT0QgbGV2
ZWwgKi8KKwlzd2l0Y2ggKE1JUElfVFhfVk9EX0xWTCkgeworCWNhc2UgMjAwOgorCQl0ZXN0X2Rh
dGEgPSAweDAwOworCQlicmVhazsKKwljYXNlIDMwMDoKKwkJdGVzdF9kYXRhID0gMHgyMDsKKwkJ
YnJlYWs7CisJY2FzZSAzNTA6CisJCXRlc3RfZGF0YSA9IDB4NDA7CisJCWJyZWFrOworCWNhc2Ug
NDUwOgorCQl0ZXN0X2RhdGEgPSAweDYwOworCQlicmVhazsKKwljYXNlIDQwMDoKKwlkZWZhdWx0
OgorCQl0ZXN0X2RhdGEgPSAweDcwOworCQlicmVhazsKKwl9CisJdGVzdF9tb2RlX3NlbmQoZGV2
X3AsIGRwaHlfbm8sIFRFU1RfQ09ERV9CQU5ER0FQLCB0ZXN0X2RhdGEpOworI2VuZGlmCisKKwkv
KlNlbmQgTk9STUFMIE9QRVJBVElPTiB0ZXN0IGNvZGUgKi8KKwl0ZXN0X2NvZGUgPSAweDA7CisJ
dGVzdF9kYXRhID0gMHgwOworCXRlc3RfbW9kZV9zZW5kKGRldl9wLCBkcGh5X25vLCB0ZXN0X2Nv
ZGUsIHRlc3RfZGF0YSk7CisKKwkvKiBDb25maWd1cmUgQkFTRURJUiBmb3IgZGF0YSBsYW5lcwor
CSAqIE5PVEU6IGJhc2VkaXIgb25seSBhcHBsaWVzIHRvIExBTkVfMCBvZiBlYWNoIEQtUEhZLgor
CSAqIFRoZSBvdGhlciBsYW5lcyBrZWVwIHRoZWlyIGRpcmVjdGlvbiBiYXNlZCBvbiB0aGUgRC1Q
SFkgdHlwZSwKKwkgKiBlaXRoZXIgUnggb3IgVHguCisJICogYml0c1s1OjBdICAtIEJhc2VEaXI6
IDEgPSBSeAorCSAqIGJpdHNbOTo2XSAtIEJhc2VEaXI6IDAgPSBUeAorCSAqLworCWRybV9kYmco
JmRldl9wLT5kcm0sICJNSVBJX0RQSFlfU1RBVDBfNF83ID0gMHgleClcbiIsCisJCSAga21iX3Jl
YWRfbWlwaShkZXZfcCwgTUlQSV9EUEhZX1NUQVQ0XzcpKTsKKworCWttYl93cml0ZV9iaXRzX21p
cGkoZGV2X3AsIERQSFlfSU5JVF9DVFJMMiwgMCwgOSwgMHgwM2YpOworCW5kZWxheSgxNSk7CisK
KwkvKiBFbmFibGUgQ0xPQ0sgTEFORQorCSAqIENsb2NrIGxhbmUgc2hvdWxkIGJlIGVuYWJsZWQg
cmVnYXJkbGVzcyBvZiB0aGUgZGlyZWN0aW9uCisJICogc2V0IGZvciB0aGUgRC1QSFkgKFJ4L1R4
KQorCSAqLworCWttYl9zZXRfYml0X21pcGkoZGV2X3AsIERQSFlfSU5JVF9DVFJMMiwgMTIgKyBk
cGh5X25vKTsKKworCWRybV9kYmcoJmRldl9wLT5kcm0sICJEUEhZX0lOSVRfQ1RSTDIgPSAweCV4
XG4iLAorCQkga21iX3JlYWRfbWlwaShkZXZfcCwgRFBIWV9JTklUX0NUUkwyKSk7CisKKwkvKiBF
bmFibGUgREFUQSBMQU5FUyAqLworCWttYl93cml0ZV9iaXRzX21pcGkoZGV2X3AsIERQSFlfRU5B
QkxFLCBkcGh5X25vICogMiwgMiwKKwkJCSAgICAoKDEgPDwgYWN0aXZlX2xhbmVzKSAtIDEpKTsK
KworCWRybV9kYmcoJmRldl9wLT5kcm0sCisJCSJEUEhZX0VOQUJMRSA9IDB4JXhcbiIsIGttYl9y
ZWFkX21pcGkoZGV2X3AsIERQSFlfRU5BQkxFKSk7CisJbmRlbGF5KDE1KTsKKworCS8qIFRha2Ug
RC1QSFkgb3V0IG9mIHNodXRkb3duIG1vZGUgKi8KKwkvKiBEZWFzc2VydCBTSFVURE9XTlogc2ln
bmFsICovCisJZHJtX2RiZygmZGV2X3AtPmRybSwgIk1JUElfRFBIWV9TVEFUMF80XzcgPSAweCV4
KVxuIiwKKwkJIGttYl9yZWFkX21pcGkoZGV2X3AsIE1JUElfRFBIWV9TVEFUNF83KSk7CisJU0VU
X0RQSFlfSU5JVF9DVFJMMChkZXZfcCwgZHBoeV9ubywgU0hVVERPV05aKTsKKwluZGVsYXkoMTUp
OworCisJLyogRGVhc3NlcnQgUlNUWiBzaWduYWwgKi8KKwlTRVRfRFBIWV9JTklUX0NUUkwwKGRl
dl9wLCBkcGh5X25vLCBSRVNFVFopOworCWRybV9kYmcoJmRldl9wLT5kcm0sICJEUEhZX0lOSVRf
Q1RSTDAgPSAweCV4XG4iLAorCQkga21iX3JlYWRfbWlwaShkZXZfcCwgRFBIWV9JTklUX0NUUkww
KSk7Cit9CisKK3N0YXRpYyB2b2lkIGRwaHlfd2FpdF9mc20oc3RydWN0IGttYl9kcm1fcHJpdmF0
ZSAqZGV2X3AsIHUzMiBkcGh5X25vLAorCQkJICBlbnVtIGRwaHlfdHhfZnNtIGZzbV9zdGF0ZSkK
K3sKKwllbnVtIGRwaHlfdHhfZnNtIHZhbCA9IERQSFlfVFhfUE9XRVJEV047CisJaW50IGkgPSAw
OworCWludCBzdGF0dXMgPSAxOworCisJZG8geworCQl0ZXN0X21vZGVfc2VuZChkZXZfcCwgZHBo
eV9ubywgVEVTVF9DT0RFX0ZTTV9DT05UUk9MLCAweDgwKTsKKworCQl2YWwgPSBHRVRfVEVTVF9E
T1VUNF83KGRldl9wLCBkcGh5X25vKTsKKwkJaSsrOworCQlpZiAoaSA+IFRJTUVPVVQpIHsKKwkJ
CXN0YXR1cyA9IDA7CisJCQlicmVhazsKKwkJfQorCX0gd2hpbGUgKHZhbCAhPSBmc21fc3RhdGUp
OworCisJZHJtX2RiZygmZGV2X3AtPmRybSwgIiVzOiBkcGh5ICVkIHZhbCA9ICV4XG4iLCBfX2Z1
bmNfXywgZHBoeV9ubywgdmFsKTsKKwlkcm1faW5mbygmZGV2X3AtPmRybSwgIioqKioqKioqKiog
RFBIWSAlZCBXQUlUX0ZTTSAlcyAqKioqKioqKioqXG4iLAorCQkgZHBoeV9ubywgc3RhdHVzID8g
IlNVQ0NFU1MiIDogIkZBSUxFRCIpOworfQorCitzdGF0aWMgdm9pZCB3YWl0X2luaXRfZG9uZShz
dHJ1Y3Qga21iX2RybV9wcml2YXRlICpkZXZfcCwgdTMyIGRwaHlfbm8sCisJCQkgICB1MzIgYWN0
aXZlX2xhbmVzKQoreworCXUzMiBzdG9wc3RhdGVkYXRhID0gMDsKKwl1MzIgZGF0YV9sYW5lcyA9
ICgxIDw8IGFjdGl2ZV9sYW5lcykgLSAxOworCWludCBpID0gMCwgdmFsOworCWludCBzdGF0dXMg
PSAxOworCisJZHJtX2RiZygmZGV2X3AtPmRybSwgImRwaHk9JWQgYWN0aXZlX2xhbmVzPSVkIGRh
dGFfbGFuZXM9JWRcbiIsIGRwaHlfbm8sCisJCSBhY3RpdmVfbGFuZXMsIGRhdGFfbGFuZXMpOwor
CisJZG8geworCQl2YWwgPSBrbWJfcmVhZF9taXBpKGRldl9wLCBNSVBJX0RQSFlfU1RBVDRfNyk7
CisJCXN0b3BzdGF0ZWRhdGEgPSBHRVRfU1RPUFNUQVRFX0RBVEEoZGV2X3AsIGRwaHlfbm8pICYg
ZGF0YV9sYW5lczsKKworCQkvKiBUT0RPLW5lZWQgdG8gYWRkIGEgdGltZSBvdXQgYW5kIHJldHVy
biBmYWlsdXJlICovCisJCWkrKzsKKworCQlpZiAoaSA+IFRJTUVPVVQpIHsKKwkJCXN0YXR1cyA9
IDA7CisKKwkJCWRybV9pbmZvKCZkZXZfcC0+ZHJtLAorCQkJCSIhIFdBSVRfSU5JVF9ET05FOiBU
SU1JTkcgT1VUIShlcnJfc3RhdD0lZCkiLAorCQkJCSBrbWJfcmVhZF9taXBpKGRldl9wLCBNSVBJ
X0RQSFlfRVJSX1NUQVQ2XzcpKTsKKwkJCWRybV9kYmcoJmRldl9wLT5kcm0sCisJCQkJIk1JUElf
RFBIWV9TVEFUMF80XzcgPSAweCV4KVxuIiwgdmFsKTsKKwkJCWRybV9kYmcoJmRldl9wLT5kcm0s
CisJCQkJInN0b3BkYXRhID0gMHgleCBkYXRhX2xhbmVzPTB4JXhcbiIsCisJCQkJIHN0b3BzdGF0
ZWRhdGEsIGRhdGFfbGFuZXMpOworCisJCQlicmVhazsKKwkJfQorCisJCWlmIChpIDwgMykgewor
CQkJZHJtX2RiZygmZGV2X3AtPmRybSwKKwkJCQkic3RvcGRhdGEgPSAweCV4IGRhdGFfbGFuZXM9
MHgleFxuIiwKKwkJCQkgc3RvcHN0YXRlZGF0YSwgZGF0YV9sYW5lcyk7CisJCQlkcm1fZGJnKCZk
ZXZfcC0+ZHJtLAorCQkJCSJNSVBJX0RQSFlfU1RBVDBfNF83ID0gMHgleClcbiIsIHZhbCk7CisJ
CX0KKwl9IHdoaWxlIChzdG9wc3RhdGVkYXRhICE9IGRhdGFfbGFuZXMpOworCisJZHJtX2luZm8o
JmRldl9wLT5kcm0sICIqKioqKioqKioqIERQSFkgJWQgSU5JVCAtICVzICoqKioqKioqKipcbiIs
CisJCSBkcGh5X25vLCBzdGF0dXMgPyAiU1VDQ0VTUyIgOiAiRkFJTEVEIik7Cit9CisKK3N0YXRp
YyB2b2lkIHdhaXRfcGxsX2xvY2soc3RydWN0IGttYl9kcm1fcHJpdmF0ZSAqZGV2X3AsIHUzMiBk
cGh5X25vKQoreworCWludCBpID0gMDsKKwlpbnQgc3RhdHVzID0gMTsKKworCWRvIHsKKwkJLyog
VE9ETy1uZWVkIHRvIGFkZCBhIHRpbWUgb3V0IGFuZCByZXR1cm4gZmFpbHVyZSAqLworCQlpKys7
CisJCWlmIChpID4gVElNRU9VVCkgeworCQkJc3RhdHVzID0gMDsKKworCQkJZHJtX2luZm8oJmRl
dl9wLT5kcm0sICIlczogdGltaW5nIG91dCIsIF9fZnVuY19fKTsKKwkJCWRybV9kYmcoJmRldl9w
LT5kcm0sCisJCQkJIiVzIDogUExMX0xPQ0sgPSAweCV4ICIsIF9fZnVuY19fLAorCQkJCWttYl9y
ZWFkX21pcGkoZGV2X3AsIERQSFlfUExMX0xPQ0spKTsKKworCQkJYnJlYWs7CisJCX0KKworCQlp
ZiAoKGkgJSAxMDApID09IDApCisJCQlkcm1fZGJnKCZkZXZfcC0+ZHJtLAorCQkJCSIlcyA6IFBM
TF9MT0NLID0gMHgleFxuIiwgX19mdW5jX18sCisJCQkJa21iX3JlYWRfbWlwaShkZXZfcCwgRFBI
WV9QTExfTE9DSykpOworCX0gd2hpbGUgKCFHRVRfUExMX0xPQ0soZGV2X3AsIGRwaHlfbm8pKTsK
KworCWRybV9pbmZvKCZkZXZfcC0+ZHJtLCAiKioqKiogUExMIExvY2tlZCBmb3IgRFBIWSAlZCAt
ICVzICoqKioqXG4iLAorCQkgZHBoeV9ubywgc3RhdHVzID8gIlNVQ0NFU1MiIDogIkZBSUxFRCIp
OworfQorCitzdGF0aWMgdTMyIG1pcGlfdHhfaW5pdF9kcGh5KHN0cnVjdCBrbWJfZHJtX3ByaXZh
dGUgKmRldl9wLAorCQkJICAgICBzdHJ1Y3QgbWlwaV9jdHJsX2NmZyAqY2ZnKQoreworCXUzMiBk
cGh5X25vID0gTUlQSV9EUEhZNjsKKworCWRybV9pbmZvKCZkZXZfcC0+ZHJtLAorCQkiYWN0aXZl
X2xhbmVzPSVkIGxhbmVfcmF0ZT0lZFxuIiwgY2ZnLT5hY3RpdmVfbGFuZXMsCisJCU1JUElfVFhf
TEFORV9EQVRBX1JBVEVfTUJQUyk7CisKKwkvKiBNdWx0aXBsZSBELVBIWXMgbmVlZGVkICovCisJ
aWYgKGNmZy0+YWN0aXZlX2xhbmVzID4gTUlQSV9EUEhZX0RfTEFORVMpIHsKKwkJLyoKKwkJICpJ
bml0aWFsaXphdGlvbiBmb3IgVHggYWdncmVnYXRpb24gbW9kZSBpcyBkb25lIGFjY29yZGluZyB0
bworCQkgKmh0dHA6Ly9kdWIzMC5pci5pbnRlbC5jb20vYnVnemlsbGEvc2hvd19idWcuY2dpP2lk
PTI3Nzg1I2MxMjoKKwkJICphLiBzdGFydCBpbml0IFBIWTEKKwkJICpiLiBwb2xsIGZvciBQSFkx
IEZTTSBzdGF0ZSBMT0NLCisJCSAqICAgYjEuIHJlZyBhZGRyIDB4MDNbMzowXSAtIHN0YXRlX21h
aW5bMzowXSA9PSA1IChMT0NLKQorCQkgKmMuIHBvbGwgZm9yIFBIWTEgY2FsaWJyYXRpb25zIGRv
bmUgOgorCQkgKiAgIGMxLiB0ZXJtaW5hdGlvbiBjYWxpYnJhdGlvbiBsb3dlciBzZWN0aW9uOiBh
ZGRyIDB4MjJbNV0KKwkJICogICAtIHJlc2NhbF9kb25lCisJCSAqICAgYzIuIHNsZXdyYXRlIGNh
bGlicmF0aW9uIChpZiBkYXRhIHJhdGUgPCA9IDE1MDAgTWJwcyk6CisJCSAqICAgICBhZGRyIDB4
QTdbMzoyXSAtIHNyY2FsX2RvbmUsIHNyX2ZpbmlzaGVkCisJCSAqZC4gc3RhcnQgaW5pdCBQSFkw
CisJCSAqZS4gcG9sbCBmb3IgUEhZMCBzdG9wc3RhdGUKKwkJICpmLiBwb2xsIGZvciBQSFkxIHN0
b3BzdGF0ZQorCQkgKi8KKwkJLypQSFkgI04rMSAoJ3NsYXZlJykgKi8KKworCQlkcGh5X2luaXRf
c2VxdWVuY2UoZGV2X3AsIGNmZywgZHBoeV9ubyArIDEsCisJCQkJICAgKGNmZy0+YWN0aXZlX2xh
bmVzIC0gTUlQSV9EUEhZX0RfTEFORVMpLAorCQkJCSAgIE1JUElfRFBIWV9TTEFWRSk7CisJCWRw
aHlfd2FpdF9mc20oZGV2X3AsIGRwaHlfbm8gKyAxLCBEUEhZX1RYX0xPQ0spOworCisJCS8qIFBI
WSAjTiBtYXN0ZXIgKi8KKwkJZHBoeV9pbml0X3NlcXVlbmNlKGRldl9wLCBjZmcsIGRwaHlfbm8s
IE1JUElfRFBIWV9EX0xBTkVTLAorCQkJCSAgIE1JUElfRFBIWV9NQVNURVIpOworCisJCS8qIFdh
aXQgZm9yIERQSFkgaW5pdCB0byBjb21wbGV0ZSAqLworCQl3YWl0X2luaXRfZG9uZShkZXZfcCwg
ZHBoeV9ubywgTUlQSV9EUEhZX0RfTEFORVMpOworCQl3YWl0X2luaXRfZG9uZShkZXZfcCwgZHBo
eV9ubyArIDEsCisJCQkgICAgICAgY2ZnLT5hY3RpdmVfbGFuZXMgLSBNSVBJX0RQSFlfRF9MQU5F
Uyk7CisJCXdhaXRfcGxsX2xvY2soZGV2X3AsIGRwaHlfbm8pOworCQl3YWl0X3BsbF9sb2NrKGRl
dl9wLCBkcGh5X25vICsgMSk7CisJCWRwaHlfd2FpdF9mc20oZGV2X3AsIGRwaHlfbm8sIERQSFlf
VFhfSURMRSk7CisJfSBlbHNlIHsJCS8qIFNpbmdsZSBEUEhZICovCisJCWRwaHlfaW5pdF9zZXF1
ZW5jZShkZXZfcCwgY2ZnLCBkcGh5X25vLCBjZmctPmFjdGl2ZV9sYW5lcywKKwkJCQkgICBNSVBJ
X0RQSFlfTUFTVEVSKTsKKwkJZHBoeV93YWl0X2ZzbShkZXZfcCwgZHBoeV9ubywgRFBIWV9UWF9J
RExFKTsKKwkJd2FpdF9pbml0X2RvbmUoZGV2X3AsIGRwaHlfbm8sIGNmZy0+YWN0aXZlX2xhbmVz
KTsKKwkJd2FpdF9wbGxfbG9jayhkZXZfcCwgZHBoeV9ubyk7CisJfQorCisJcmV0dXJuIDA7Cit9
CisKK3ZvaWQgY29ubmVjdF9sY2RfdG9fbWlwaShzdHJ1Y3Qga21iX2RybV9wcml2YXRlICpkZXZf
cCkKK3sKKwkvKiBESVNBQkxFIE1JUEktPkNJRiBDT05ORUNUSU9OICovCisJa21iX3dyaXRlX21z
c2NhbShkZXZfcCwgTVNTX01JUElfQ0lGX0NGRywgMCk7CisKKwkvKiBFTkFCTEUgTENELT5NSVBJ
IENPTk5FQ1RJT04gKi8KKwlrbWJfd3JpdGVfbXNzY2FtKGRldl9wLCBNU1NfTENEX01JUElfQ0ZH
LCAxKTsKKworCS8qIERJU0FCTEUgTENELT5DSUYgTE9PUEJBQ0sgKi8KKwlrbWJfd3JpdGVfbXNz
Y2FtKGRldl9wLCBNU1NfTE9PUEJBQ0tfQ0ZHLCAwKTsKK30KKworaW50IGttYl9kc2lfaHdfaW5p
dChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZSkK
K3sKKwlzdHJ1Y3Qga21iX2RybV9wcml2YXRlICpkZXZfcCA9IHRvX2ttYihkZXYpOworCXU2NCBk
YXRhX3JhdGU7CisKKwltaXBpX3R4X2luaXRfY2ZnLmFjdGl2ZV9sYW5lcyA9IE1JUElfVFhfQUNU
SVZFX0xBTkVTOworCisJaWYgKG1vZGUgIT0gTlVMTCkgeworCQltaXBpX3R4X2ZyYW1lMF9zZWN0
X2NmZy53aWR0aF9waXhlbHMgPSBtb2RlLT5jcnRjX2hkaXNwbGF5OworCQltaXBpX3R4X2ZyYW1l
MF9zZWN0X2NmZy5oZWlnaHRfbGluZXMgPSBtb2RlLT5jcnRjX3ZkaXNwbGF5OworCQltaXBpdHhf
ZnJhbWUwX2NmZy52c3luY193aWR0aCA9CisJCSAgICBtb2RlLT5jcnRjX3ZzeW5jX2VuZCAtIG1v
ZGUtPmNydGNfdnN5bmNfc3RhcnQ7CisJCW1pcGl0eF9mcmFtZTBfY2ZnLnZfYmFja3BvcmNoID0K
KwkJICAgIG1vZGUtPmNydGNfdnRvdGFsIC0gbW9kZS0+Y3J0Y192c3luY19lbmQ7CisJCW1pcGl0
eF9mcmFtZTBfY2ZnLnZfZnJvbnRwb3JjaCA9CisJCSAgICBtb2RlLT5jcnRjX3ZzeW5jX3N0YXJ0
IC0gbW9kZS0+Y3J0Y192ZGlzcGxheTsKKwkJbWlwaXR4X2ZyYW1lMF9jZmcuaHN5bmNfd2lkdGgg
PQorCQkgICAgbW9kZS0+Y3J0Y19oc3luY19lbmQgLSBtb2RlLT5jcnRjX2hzeW5jX3N0YXJ0Owor
CQltaXBpdHhfZnJhbWUwX2NmZy5oX2JhY2twb3JjaCA9CisJCSAgICBtb2RlLT5jcnRjX2h0b3Rh
bCAtIG1vZGUtPmNydGNfaHN5bmNfZW5kOworCQltaXBpdHhfZnJhbWUwX2NmZy5oX2Zyb250cG9y
Y2ggPQorCQkgICAgbW9kZS0+Y3J0Y19oc3luY19zdGFydCAtIG1vZGUtPmNydGNfaGRpc3BsYXk7
CisKKwkJLyogTGFuZSByYXRlID0gKHZ0b3RhbCpodG90YWwqZnBzKmJwcCkvNCAvIDEwMDAwMDAK
KwkJICogdG8gY29udmVydCB0byBNYnBzCisJCSAqLworCQlkYXRhX3JhdGUgPSAoKCgodTMyKSBt
b2RlLT5jcnRjX3Z0b3RhbCAqCisJCQkJKHUzMikgbW9kZS0+Y3J0Y19odG90YWwpICoKKwkJCQko
dTMyKShkcm1fbW9kZV92cmVmcmVzaChtb2RlKSkgKgorCQkJICAgICAgTUlQSV9UWF9CUFApIC8g
bWlwaV90eF9pbml0X2NmZy5hY3RpdmVfbGFuZXMpIC8KKwkJICAgIDEwMDAwMDA7CisKKwkJZHJt
X2luZm8oJmRldl9wLT5kcm0sICJodG90YWw9JWQgdnRvdGFsPSVkIHJlZnJlc2g9JWRcbiIsCisJ
CQkgbW9kZS0+Y3J0Y19odG90YWwsIG1vZGUtPmNydGNfdnRvdGFsLAorCQkJIGRybV9tb2RlX3Zy
ZWZyZXNoKG1vZGUpKTsKKwkJZHJtX2luZm8oJmRldl9wLT5kcm0sICJkYXRhX3JhdGU9JXUgYWN0
aXZlX2xhbmVzPSVkXG4iLAorCQkJICh1MzIpIGRhdGFfcmF0ZSwgbWlwaV90eF9pbml0X2NmZy5h
Y3RpdmVfbGFuZXMpOworCisJCS8qIFdoZW4gbGF0ZSByYXRlIDwgODAwLCBtb2Rlc2V0IGZhaWxz
IHdpdGggNCBsYW5lcywKKwkJICogc28gc3dpdGNoIHRvIDIgbGFuZXMKKwkJICovCisJCWlmIChk
YXRhX3JhdGUgPCA4MDApIHsKKwkJCW1pcGlfdHhfaW5pdF9jZmcuYWN0aXZlX2xhbmVzID0gMjsK
KwkJCW1pcGlfdHhfaW5pdF9jZmcubGFuZV9yYXRlX21icHMgPSBkYXRhX3JhdGUgKiAyOworCQl9
IGVsc2UgeworCQkJbWlwaV90eF9pbml0X2NmZy5sYW5lX3JhdGVfbWJwcyA9IGRhdGFfcmF0ZTsK
KwkJfQorCQlkcm1faW5mbygmZGV2X3AtPmRybSwKKwkJCSJsYW5lIHJhdGU9JWRcbiIsIG1pcGlf
dHhfaW5pdF9jZmcubGFuZV9yYXRlX21icHMpOworCQlkcm1fZGJnKCZkZXZfcC0+ZHJtLAorCQkg
ICAgICJ2ZnA9ICVkIHZicD0gJWQgdnN5Y19sZW49JWQgaGZwPSVkIGhicD0lZCBoc3luY19sZW49
JWQgbGFuZS1yYXRlPSVkIiwKKwkJICAgICBtaXBpdHhfZnJhbWUwX2NmZy52X2Zyb250cG9yY2gs
CisJCSAgICAgbWlwaXR4X2ZyYW1lMF9jZmcudl9iYWNrcG9yY2gsCisJCSAgICAgbWlwaXR4X2Zy
YW1lMF9jZmcudnN5bmNfd2lkdGgsCisJCSAgICAgbWlwaXR4X2ZyYW1lMF9jZmcuaF9mcm9udHBv
cmNoLAorCQkgICAgIG1pcGl0eF9mcmFtZTBfY2ZnLmhfYmFja3BvcmNoLAorCQkgICAgIG1pcGl0
eF9mcmFtZTBfY2ZnLmhzeW5jX3dpZHRoLAorCQkgICAgIG1pcGlfdHhfaW5pdF9jZmcubGFuZV9y
YXRlX21icHMpOworCisJfQorCisJaWYgKGh3X2luaXRpYWxpemVkKQorCQlyZXR1cm4gMDsKKwor
CWttYl93cml0ZV9taXBpKGRldl9wLCBEUEhZX0VOQUJMRSwgMCk7CisJa21iX3dyaXRlX21pcGko
ZGV2X3AsIERQSFlfSU5JVF9DVFJMMCwgMCk7CisJa21iX3dyaXRlX21pcGkoZGV2X3AsIERQSFlf
SU5JVF9DVFJMMSwgMCk7CisJa21iX3dyaXRlX21pcGkoZGV2X3AsIERQSFlfSU5JVF9DVFJMMiwg
MCk7CisKKwkvKiBJbml0aWFsaXplIG1pcGkgY29udHJvbGxlciAqLworCW1pcGlfdHhfaW5pdF9j
bnRybChkZXZfcCwgJm1pcGlfdHhfaW5pdF9jZmcpOworCisJLyogRHBoeSBpbml0aWFsaXphdGlv
biAqLworCW1pcGlfdHhfaW5pdF9kcGh5KGRldl9wLCAmbWlwaV90eF9pbml0X2NmZyk7CisJZHJt
X2RiZygmZGV2X3AtPmRybSwgIklSUV9TVEFUVVMgPSAweCV4XG4iLAorCQkgR0VUX01JUElfVFhf
SFNfSVJRX1NUQVRVUyhkZXZfcCwgTUlQSV9DVFJMNikpOworCisJY29ubmVjdF9sY2RfdG9fbWlw
aShkZXZfcCk7CisKKyNpZmRlZiBNSVBJX1RYX1RFU1RfUEFUVEVSTl9HRU5FUkFUSU9OCisJbWlw
aV90eF9oc190cF9nZW4oZGV2X3AsIDAsIE1JUElfVFhfSFNfVFBfVl9TVFJJUEVTLAorCQkJICAw
eDE1LCAweGZmLCAweGZmMDAsIE1JUElfQ1RSTDYpOworCisJZHJtX2RiZygmZGV2X3AtPmRybSwg
IklSUV9TVEFUVVMgPSAweCV4XG4iLAorCQkgR0VUX01JUElfVFhfSFNfSVJRX1NUQVRVUyhkZXZf
cCwgTUlQSV9DVFJMNikpOworI2VuZGlmIC8vTUlQSV9UWF9URVNUX1BBVFRFUk5fR0VORVJBVElP
TgorCisJaHdfaW5pdGlhbGl6ZWQgPSB0cnVlOworCisJZHJtX2RiZygmZGV2X3AtPmRybSwgIk1J
UElfVFhtX0hTX0NUUkwgPSAweCV4XG4iLAorCQkga21iX3JlYWRfbWlwaShkZXZfcCwgTUlQSV9U
WG1fSFNfQ1RSTCg2KSkpOworCWRybV9kYmcoJmRldl9wLT5kcm0sICJNSVBJIExPT1AgQkFDSyA9
ICV4XG4iLAorCQkga21iX3JlYWRfbWlwaShkZXZfcCwgTUlQSV9DVFJMX0RJR19MT09QQkFDSykp
OworCWRybV9pbmZvKCZkZXZfcC0+ZHJtLCAibWlwaSBod19pbml0aWFsaXplZCA9ICVkXG4iLCBo
d19pbml0aWFsaXplZCk7CisKKwlyZXR1cm4gMDsKK30KKworaW50IGttYl9kc2lfaW5pdChzdHJ1
Y3QgZHJtX2RldmljZSAqZGV2LCBzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlKQoreworCXN0cnVj
dCBrbWJfZHNpICprbWJfZHNpOworCXN0cnVjdCBkcm1fZW5jb2RlciAqZW5jb2RlcjsKKwlzdHJ1
Y3Qga21iX2Nvbm5lY3RvciAqa21iX2Nvbm5lY3RvcjsKKwlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAq
Y29ubmVjdG9yOworCXN0cnVjdCBrbWJfZHNpX2hvc3QgKmhvc3Q7CisJaW50IHJldCA9IDA7CisK
KwlrbWJfZHNpID0ga3phbGxvYyhzaXplb2YoKmttYl9kc2kpLCBHRlBfS0VSTkVMKTsKKwlpZiAo
IWttYl9kc2kpIHsKKwkJRFJNX0VSUk9SKCJmYWlsZWQgdG8gYWxsb2NhdGUga21iX2RzaVxuIik7
CisJCXJldHVybiAtRU5PTUVNOworCX0KKworCWttYl9jb25uZWN0b3IgPSBremFsbG9jKHNpemVv
Zigqa21iX2Nvbm5lY3RvciksIEdGUF9LRVJORUwpOworCWlmICgha21iX2Nvbm5lY3Rvcikgewor
CQlrZnJlZShrbWJfZHNpKTsKKwkJRFJNX0VSUk9SKCJmYWlsZWQgdG8gYWxsb2NhdGUga21iX2Nv
bm5lY3RvclxuIik7CisJCXJldHVybiAtRU5PTUVNOworCX0KKworCWttYl9kc2ktPmF0dGFjaGVk
X2Nvbm5lY3RvciA9IGttYl9jb25uZWN0b3I7CisKKwlob3N0ID0ga21iX2RzaV9ob3N0X2luaXQo
ZGV2LCBrbWJfZHNpKTsKKwlpZiAoIWhvc3QpIHsKKwkJRFJNX0VSUk9SKCJGYWlsZWQgdG8gYWxs
b2NhdGUgaG9zdFxuIik7CisJCWtmcmVlKGttYl9kc2kpOworCQlrZnJlZShrbWJfY29ubmVjdG9y
KTsKKwkJcmV0dXJuIC1FTk9NRU07CisJfQorCisJa21iX2RzaS0+ZHNpX2hvc3QgPSBob3N0Owor
CWNvbm5lY3RvciA9ICZrbWJfY29ubmVjdG9yLT5iYXNlOworCWVuY29kZXIgPSAma21iX2RzaS0+
YmFzZTsKKwllbmNvZGVyLT5wb3NzaWJsZV9jcnRjcyA9IDE7CisJZW5jb2Rlci0+cG9zc2libGVf
Y2xvbmVzID0gMDsKKworCWRybV9lbmNvZGVyX2luaXQoZGV2LCBlbmNvZGVyLCAma21iX2RzaV9m
dW5jcywgRFJNX01PREVfRU5DT0RFUl9EU0ksCisJCQkgIk1JUEktRFNJIik7CisKKwlkcm1fY29u
bmVjdG9yX2luaXQoZGV2LCBjb25uZWN0b3IsICZrbWJfZHNpX2Nvbm5lY3Rvcl9mdW5jcywKKwkJ
CSAgIERSTV9NT0RFX0NPTk5FQ1RPUl9EU0kpOworCisJZHJtX2Nvbm5lY3Rvcl9oZWxwZXJfYWRk
KGNvbm5lY3RvciwgJmttYl9kc2lfY29ubmVjdG9yX2hlbHBlcl9mdW5jcyk7CisKKwlkcm1faW5m
byhkZXYsICJjb25uZWN0b3IgPSAlcyBlbmNvZGVyID0gJXNcbiIsIGNvbm5lY3Rvci0+bmFtZSwK
KwkJIGVuY29kZXItPm5hbWUpOworCisJcmV0ID0gZHJtX2Nvbm5lY3Rvcl9hdHRhY2hfZW5jb2Rl
cihjb25uZWN0b3IsIGVuY29kZXIpOworCWRybV9pbmZvKGRldiwgImNvbm5lY3Rvci0+ZW5jb2Rl
ciA9IDB4JXAgcmV0ID0gJWRcbiIsCisJCSBjb25uZWN0b3ItPmVuY29kZXIsCisJCSByZXQpOwor
CisJLyogTGluayBkcm1fYnJpZGdlIHRvIGVuY29kZXIgKi8KKwlyZXQgPSBkcm1fYnJpZGdlX2F0
dGFjaChlbmNvZGVyLCBicmlkZ2UsIE5VTEwsIDApOworCWlmIChyZXQpIHsKKwkJRFJNX0VSUk9S
KCJmYWlsZWQgdG8gYXR0YWNoIGJyaWRnZSB0byBNSVBJXG4iKTsKKwkJZHJtX2VuY29kZXJfY2xl
YW51cChlbmNvZGVyKTsKKwkJcmV0dXJuIHJldDsKKwl9CisJZHJtX2luZm8oZGV2LCAiQnJpZGdl
IGF0dGFjaGVkIDogU1VDQ0VTU1xuIik7CisJcmV0dXJuIDA7Cit9CmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0va21iL2ttYl9kc2kuaCBiL2RyaXZlcnMvZ3B1L2RybS9rbWIva21iX2RzaS5o
Cm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAuLmQyYmVhZjQKLS0tIC9kZXYvbnVs
bAorKysgYi9kcml2ZXJzL2dwdS9kcm0va21iL2ttYl9kc2kuaApAQCAtMCwwICsxLDM3MCBAQAor
LyogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb25seQorICoKKyAqIENvcHlyaWdo
dCDCqSAyMDE5LTIwMjAgSW50ZWwgQ29ycG9yYXRpb24KKyAqLworCisjaWZuZGVmIF9fS01CX0RT
SV9IX18KKyNkZWZpbmUgX19LTUJfRFNJX0hfXworCisjaW5jbHVkZSA8ZHJtL2RybV9jcnRjLmg+
CisjaW5jbHVkZSA8ZHJtL2RybV9taXBpX2RzaS5oPgorI2luY2x1ZGUgPGRybS9kcm1fbW9kZXMu
aD4KKyNpbmNsdWRlICJrbWJfZHJ2LmgiCisKKy8qIE1JUEkgVFggQ0ZHKi8KKyNkZWZpbmUgTUlQ
SV9UWF9MQU5FX0RBVEFfUkFURV9NQlBTIDg5MQorI2RlZmluZSBNSVBJX1RYX1JFRl9DTEtfS0ha
ICAgICAgICAgMjQwMDAKKyNkZWZpbmUgTUlQSV9UWF9DRkdfQ0xLX0tIWiAgICAgICAgIDI0MDAw
CisjZGVmaW5lIE1JUElfVFhfQlBQCQkgICAgMjQKKworLyogRFBIWSBUeCB0ZXN0IGNvZGVzKi8K
KyNkZWZpbmUgVEVTVF9DT0RFX0ZTTV9DT05UUk9MCQkJCTB4MDMKKyNkZWZpbmUgVEVTVF9DT0RF
X01VTFRJUExFX1BIWV9DVFJMCQkJMHgwQworI2RlZmluZSBURVNUX0NPREVfUExMX1BST1BPUlRJ
T05BTF9DSEFSR0VfUFVNUF9DVFJMCTB4MEUKKyNkZWZpbmUgVEVTVF9DT0RFX1BMTF9JTlRFR1JB
TF9DSEFSR0VfUFVNUF9DVFJMCQkweDBGCisjZGVmaW5lIFRFU1RfQ09ERV9QTExfVkNPX0NUUkwJ
CQkJMHgxMgorI2RlZmluZSBURVNUX0NPREVfUExMX0dNUF9DVFJMCQkJCTB4MTMKKyNkZWZpbmUg
VEVTVF9DT0RFX1BMTF9QSEFTRV9FUlJfQ1RSTAkJCTB4MTQKKyNkZWZpbmUgVEVTVF9DT0RFX1BM
TF9MT0NLX0ZJTFRFUgkJCTB4MTUKKyNkZWZpbmUgVEVTVF9DT0RFX1BMTF9VTkxPQ0tfRklMVEVS
CQkJMHgxNgorI2RlZmluZSBURVNUX0NPREVfUExMX0lOUFVUX0RJVklERVIJCQkweDE3CisjZGVm
aW5lIFRFU1RfQ09ERV9QTExfRkVFREJBQ0tfRElWSURFUgkJCTB4MTgKKyNkZWZpbmUgICBQTExf
RkVFREJBQ0tfRElWSURFUl9ISUdICQkJKDEgPDwgNykKKyNkZWZpbmUgVEVTVF9DT0RFX1BMTF9P
VVRQVVRfQ0xLX1NFTAkJCTB4MTkKKyNkZWZpbmUgICBQTExfTl9PVlJfRU4JCQkJCSgxIDw8IDQp
CisjZGVmaW5lICAgUExMX01fT1ZSX0VOCQkJCQkoMSA8PCA1KQorI2RlZmluZSBURVNUX0NPREVf
Vk9EX0xFVkVMCQkJCTB4MjQKKyNkZWZpbmUgVEVTVF9DT0RFX1BMTF9DSEFSR0VfUFVNUF9CSUFT
CQkJMHgxQworI2RlZmluZSBURVNUX0NPREVfUExMX0xPQ0tfREVURUNUT1IJCQkweDFECisjZGVm
aW5lIFRFU1RfQ09ERV9IU19GUkVRX1JBTkdFX0NGRwkJCTB4NDQKKyNkZWZpbmUgVEVTVF9DT0RF
X1BMTF9BTkFMT0dfUFJPRwkJCTB4MUYKKyNkZWZpbmUgVEVTVF9DT0RFX1NMRVdfUkFURV9PVkVS
UklERV9DVFJMCQkweEEwCisjZGVmaW5lIFRFU1RfQ09ERV9TTEVXX1JBVEVfRERMX0xPT1BfQ1RS
TAkJMHhBMworI2RlZmluZSBURVNUX0NPREVfU0xFV19SQVRFX0RETF9DWUNMRVMJCQkweEE0CisK
Ky8qIERQSFkgcGFyYW1zICovCisjZGVmaW5lIFBMTF9OX01JTgkwCisjZGVmaW5lIFBMTF9OX01B
WAkxNQorI2RlZmluZSBQTExfTV9NSU4JNjIKKyNkZWZpbmUgUExMX01fTUFYCTYyMworI2RlZmlu
ZSBQTExfRlZDT19NQVgJMTI1MAorCisjZGVmaW5lIFRJTUVPVVQJCTYwMAorCisjZGVmaW5lIE1J
UElfVFhfRlJBTUVfR0VOCQkJCTQKKyNkZWZpbmUgTUlQSV9UWF9GUkFNRV9HRU5fU0VDVElPTlMJ
CQk0CisjZGVmaW5lIE1JUElfQ1RSTF9WSVJUVUFMX0NIQU5ORUxTCQkJNAorI2RlZmluZSBNSVBJ
X0RfTEFORVNfUEVSX0RQSFkJCQkJMgorI2RlZmluZSBNSVBJX0NUUkxfMkxBTkVfTUFYX01DX0ZJ
Rk9fTE9DCQkJMjU1CisjZGVmaW5lIE1JUElfQ1RSTF80TEFORV9NQVhfTUNfRklGT19MT0MJCQk1
MTEKKy8qIDIgRGF0YSBMYW5lcyBwZXIgRC1QSFkgKi8KKyNkZWZpbmUgTUlQSV9EUEhZX0RfTEFO
RVMJCQkJMgorI2RlZmluZSBNSVBJX0RQSFlfREVGQVVMVF9CSVRfUkFURVMJCQk2MworCisjZGVm
aW5lIHRvX2ttYl9jb25uZWN0b3IoeCkgY29udGFpbmVyX29mKHgsIHN0cnVjdCBrbWJfY29ubmVj
dG9yLCBiYXNlKQorI2RlZmluZSB0b19rbWJfaG9zdCh4KSBjb250YWluZXJfb2YoeCwgc3RydWN0
IGttYl9kc2lfaG9zdCwgYmFzZSkKKyNkZWZpbmUgdG9fa21iX2RzaSh4KSBjb250YWluZXJfb2Yo
eCwgc3RydWN0IGttYl9kc2ksIGJhc2UpCisKK3N0cnVjdCBrbWJfY29ubmVjdG9yOworc3RydWN0
IGttYl9kc2lfaG9zdDsKKworc3RydWN0IGttYl9kc2kgeworCXN0cnVjdCBkcm1fZW5jb2RlciBi
YXNlOworCXN0cnVjdCBrbWJfY29ubmVjdG9yICphdHRhY2hlZF9jb25uZWN0b3I7CisJc3RydWN0
IGttYl9kc2lfaG9zdCAqZHNpX2hvc3Q7CisJc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZTsKK307
CisKK3N0cnVjdCBrbWJfZHNpX2hvc3QgeworCXN0cnVjdCBtaXBpX2RzaV9ob3N0ICpiYXNlOwor
CXN0cnVjdCBrbWJfZHNpICprbWJfZHNpOworCXN0cnVjdCBtaXBpX2RzaV9kZXZpY2UgKmRldmlj
ZTsKK307CisKK3N0cnVjdCBrbWJfY29ubmVjdG9yIHsKKwlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciBi
YXNlOworCXN0cnVjdCBkcm1fZW5jb2RlciAqZW5jb2RlcjsKKwlzdHJ1Y3QgZHJtX2Rpc3BsYXlf
bW9kZSAqZml4ZWRfbW9kZTsKK307CisKKy8qIERQSFkgVHggdGVzdCBjb2RlcyAqLworCitlbnVt
IG1pcGlfY3RybF9udW0geworCU1JUElfQ1RSTDAgPSAwLAorCU1JUElfQ1RSTDEsCisJTUlQSV9D
VFJMMiwKKwlNSVBJX0NUUkwzLAorCU1JUElfQ1RSTDQsCisJTUlQSV9DVFJMNSwKKwlNSVBJX0NU
Ukw2LAorCU1JUElfQ1RSTDcsCisJTUlQSV9DVFJMOCwKKwlNSVBJX0NUUkw5LAorCU1JUElfQ1RS
TF9OQQorfTsKKworZW51bSBtaXBpX2RwaHlfbnVtIHsKKwlNSVBJX0RQSFkwID0gMCwKKwlNSVBJ
X0RQSFkxLAorCU1JUElfRFBIWTIsCisJTUlQSV9EUEhZMywKKwlNSVBJX0RQSFk0LAorCU1JUElf
RFBIWTUsCisJTUlQSV9EUEhZNiwKKwlNSVBJX0RQSFk3LAorCU1JUElfRFBIWTgsCisJTUlQSV9E
UEhZOSwKKwlNSVBJX0RQSFlfTkEKK307CisKK2VudW0gbWlwaV9kaXIgeworCU1JUElfUlgsCisJ
TUlQSV9UWAorfTsKKworZW51bSBtaXBpX2N0cmxfdHlwZSB7CisJTUlQSV9EU0ksCisJTUlQSV9D
U0kKK307CisKK2VudW0gbWlwaV9kYXRhX2lmIHsKKwlNSVBJX0lGX0RNQSwKKwlNSVBJX0lGX1BB
UkFMTEVMCit9OworCitlbnVtIG1pcGlfZGF0YV9tb2RlIHsKKwlNSVBJX0RBVEFfTU9ERTAsCisJ
TUlQSV9EQVRBX01PREUxLAorCU1JUElfREFUQV9NT0RFMiwKKwlNSVBJX0RBVEFfTU9ERTMKK307
CisKK2VudW0gbWlwaV9kc2lfdmlkZW9fbW9kZSB7CisJRFNJX1ZJREVPX01PREVfTk9fQlVSU1Rf
UFVMU0UsCisJRFNJX1ZJREVPX01PREVfTk9fQlVSU1RfRVZFTlQsCisJRFNJX1ZJREVPX01PREVf
QlVSU1QKK307CisKK2VudW0gbWlwaV9kc2lfYmxhbmtpbmdfbW9kZSB7CisJVFJBTlNJVElPTl9U
T19MT1dfUE9XRVIsCisJU0VORF9CTEFOS19QQUNLRVQKK307CisKK2VudW0gbWlwaV9kc2lfZW90
cCB7CisJRFNJX0VPVFBfRElTQUJMRUQsCisJRFNJX0VPVFBfRU5BQkxFUworfTsKKworZW51bSBt
aXBpX2RzaV9kYXRhX3R5cGUgeworCURTSV9TUF9EVF9SRVNFUlZFRF8wMCA9IDB4MDAsCisJRFNJ
X1NQX0RUX1ZTWU5DX1NUQVJUID0gMHgwMSwKKwlEU0lfU1BfRFRfQ09MT1JfTU9ERV9PRkYgPSAw
eDAyLAorCURTSV9TUF9EVF9HRU5FUklDX1NIT1JUX1dSID0gMHgwMywKKwlEU0lfU1BfRFRfR0VO
RVJJQ19SRCA9IDB4MDQsCisJRFNJX1NQX0RUX0RDU19TSE9SVF9XUiA9IDB4MDUsCisJRFNJX1NQ
X0RUX0RDU19SRCA9IDB4MDYsCisJRFNJX1NQX0RUX0VPVFAgPSAweDA4LAorCURTSV9MUF9EVF9O
VUxMID0gMHgwOSwKKwlEU0lfTFBfRFRfUkVTRVJWRURfMEEgPSAweDBhLAorCURTSV9MUF9EVF9S
RVNFUlZFRF8wQiA9IDB4MGIsCisJRFNJX0xQX0RUX0xQUFNfWUNCQ1I0MjJfMjBCID0gMHgwYywK
KwlEU0lfTFBfRFRfUFBTX1JHQjEwMTAxMF8zMEIgPSAweDBkLAorCURTSV9MUF9EVF9QUFNfUkdC
NTY1XzE2QiA9IDB4MGUsCisJRFNJX0xQX0RUX1JFU0VSVkVEXzBGID0gMHgwZiwKKworCURTSV9T
UF9EVF9SRVNFUlZFRF8xMCA9IDB4MTAsCisJRFNJX1NQX0RUX1ZTWU5DX0VORCA9IDB4MTEsCisJ
RFNJX1NQX0RUX0NPTE9SX01PREVfT04gPSAweDEyLAorCURTSV9TUF9EVF9HRU5FUklDX1NIT1JU
X1dSXzFQQVIgPSAweDEzLAorCURTSV9TUF9EVF9HRU5FUklDX1JEXzFQQVIgPSAweDE0LAorCURT
SV9TUF9EVF9EQ1NfU0hPUlRfV1JfMVBBUiA9IDB4MTUsCisJRFNJX1NQX0RUX1JFU0VSVkVEXzE2
ID0gMHgxNiwKKwlEU0lfU1BfRFRfUkVTRVJWRURfMTcgPSAweDE3LAorCURTSV9TUF9EVF9SRVNF
UlZFRF8xOCA9IDB4MTgsCisJRFNJX0xQX0RUX0JMQU5LID0gMHgxOSwKKwlEU0lfTFBfRFRfUkVT
RVJWRURfMUEgPSAweDFhLAorCURTSV9MUF9EVF9SRVNFUlZFRF8xQiA9IDB4MWIsCisJRFNJX0xQ
X0RUX1BQU19ZQ0JDUjQyMl8yNEIgPSAweDFjLAorCURTSV9MUF9EVF9QUFNfUkdCMTIxMjEyXzM2
QiA9IDB4MWQsCisJRFNJX0xQX0RUX1BQU19SR0I2NjZfMThCID0gMHgxZSwKKwlEU0lfTFBfRFRf
UkVTRVJWRURfMUYgPSAweDFmLAorCisJRFNJX1NQX0RUX1JFU0VSVkVEXzIwID0gMHgyMCwKKwlE
U0lfU1BfRFRfSFNZTkNfU1RBUlQgPSAweDIxLAorCURTSV9TUF9EVF9TSFVUX0RPV05fUEVSSVBI
X0NNRCA9IDB4MjIsCisJRFNJX1NQX0RUX0dFTkVSSUNfU0hPUlRfV1JfMlBBUiA9IDB4MjMsCisJ
RFNJX1NQX0RUX0dFTkVSSUNfUkRfMlBBUiA9IDB4MjQsCisJRFNJX1NQX0RUX1JFU0VSVkVEXzI1
ID0gMHgyNSwKKwlEU0lfU1BfRFRfUkVTRVJWRURfMjYgPSAweDI2LAorCURTSV9TUF9EVF9SRVNF
UlZFRF8yNyA9IDB4MjcsCisJRFNJX1NQX0RUX1JFU0VSVkVEXzI4ID0gMHgyOCwKKwlEU0lfTFBf
RFRfR0VORVJJQ19MT05HX1dSID0gMHgyOSwKKwlEU0lfTFBfRFRfUkVTRVJWRURfMkEgPSAweDJh
LAorCURTSV9MUF9EVF9SRVNFUlZFRF8yQiA9IDB4MmIsCisJRFNJX0xQX0RUX1BQU19ZQ0JDUjQy
Ml8xNkIgPSAweDJjLAorCURTSV9MUF9EVF9SRVNFUlZFRF8yRCA9IDB4MmQsCisJRFNJX0xQX0RU
X0xQUFNfUkdCNjY2XzE4QiA9IDB4MmUsCisJRFNJX0xQX0RUX1JFU0VSVkVEXzJGID0gMHgyZiwK
KworCURTSV9TUF9EVF9SRVNFUlZFRF8zMCA9IDB4MzAsCisJRFNJX1NQX0RUX0hTWU5DX0VORCA9
IDB4MzEsCisJRFNJX1NQX0RUX1RVUk5fT05fUEVSSVBIX0NNRCA9IDB4MzIsCisJRFNJX1NQX0RU
X1JFU0VSVkVEXzMzID0gMHgzMywKKwlEU0lfU1BfRFRfUkVTRVJWRURfMzQgPSAweDM0LAorCURT
SV9TUF9EVF9SRVNFUlZFRF8zNSA9IDB4MzUsCisJRFNJX1NQX0RUX1JFU0VSVkVEXzM2ID0gMHgz
NiwKKwlEU0lfU1BfRFRfU0VUX01BWF9SRVRVUk5fUEtUX1NJWkUgPSAweDM3LAorCURTSV9TUF9E
VF9SRVNFUlZFRF8zOCA9IDB4MzgsCisJRFNJX0xQX0RUX0RTQ19MT05HX1dSID0gMHgzOSwKKwlE
U0lfTFBfRFRfUkVTRVJWRURfM0EgPSAweDNhLAorCURTSV9MUF9EVF9SRVNFUlZFRF8zQiA9IDB4
M2IsCisJRFNJX0xQX0RUX1JFU0VSVkVEXzNDID0gMHgzYywKKwlEU0lfTFBfRFRfUFBTX1lDQkNS
NDIwXzEyQiA9IDB4M2QsCisJRFNJX0xQX0RUX1BQU19SR0I4ODhfMjRCID0gMHgzZSwKKwlEU0lf
TFBfRFRfUkVTRVJWRURfM0YgPSAweDNmCit9OworCitlbnVtIG1pcGlfdHhfaHNfdHBfc2VsIHsK
KwlNSVBJX1RYX0hTX1RQX1dIT0xFX0ZSQU1FX0NPTE9SMCA9IDAsCisJTUlQSV9UWF9IU19UUF9X
SE9MRV9GUkFNRV9DT0xPUjEsCisJTUlQSV9UWF9IU19UUF9WX1NUUklQRVMsCisJTUlQSV9UWF9I
U19UUF9IX1NUUklQRVMsCit9OworCitlbnVtIGRwaHlfbW9kZSB7CisJTUlQSV9EUEhZX1NMQVZF
ID0gMCwKKwlNSVBJX0RQSFlfTUFTVEVSCit9OworCitlbnVtIGRwaHlfdHhfZnNtIHsKKwlEUEhZ
X1RYX1BPV0VSRFdOID0gMCwKKwlEUEhZX1RYX0JHUE9OLAorCURQSFlfVFhfVEVSTUNBTCwKKwlE
UEhZX1RYX1RFUk1DQUxVUCwKKwlEUEhZX1RYX09GRlNFVENBTCwKKwlEUEhZX1RYX0xPQ0ssCisJ
RFBIWV9UWF9TUkNBTCwKKwlEUEhZX1RYX0lETEUsCisJRFBIWV9UWF9VTFAsCisJRFBIWV9UWF9M
QU5FU1RBUlQsCisJRFBIWV9UWF9DTEtBTElHTiwKKwlEUEhZX1RYX0RETFRVTk5JTkcsCisJRFBI
WV9UWF9VTFBfRk9SQ0VfUExMLAorCURQSFlfVFhfTE9DS19MT1NTCit9OworCitzdHJ1Y3QgbWlw
aV9kYXRhX3R5cGVfcGFyYW1zIHsKKwl1aW50OF90IHNpemVfY29uc3RyYWludF9waXhlbHM7CisJ
dWludDhfdCBzaXplX2NvbnN0cmFpbnRfYnl0ZXM7CisJdWludDhfdCBwaXhlbHNfcGVyX3BjbGs7
CisJdWludDhfdCBiaXRzX3Blcl9wY2xrOworfTsKKworc3RydWN0IG1pcGlfdHhfZHNpX2NmZyB7
CisJdWludDhfdCBoZnBfYmxhbmtfZW47CS8qaG9yaXpvbnRhbCBmcm9udCBwb3JjaCBibGFua2lu
ZyBlbmFibGUgKi8KKwl1aW50OF90IGVvdHBfZW47CS8qRW5kIG9mIHRyYW5zbWlzc2lvbiBwYWNr
ZXQgZW5hYmxlICovCisJLypsYXN0IHZlcnRpY2FsIGZyb250IHBvcmNoIGJsYW5raW5nIG1vZGUg
Ki8KKwl1aW50OF90IGxwbV9sYXN0X3ZmcF9saW5lOworCS8qZmlyc3QgdmVydGljYWwgc3luYyBh
Y3RpdmUgYmxhbmtpbmcgbW9kZSAqLworCXVpbnQ4X3QgbHBtX2ZpcnN0X3ZzYV9saW5lOworCXVp
bnQ4X3Qgc3luY19wdWxzZV9ldmVudG47CS8qc3luYyB0eXBlICovCisJdWludDhfdCBoZnBfYmxh
bmtpbmc7CS8qaG9yaXpvbnRhbCBmcm9udCBwb3JjaCBibGFua2luZyBtb2RlICovCisJdWludDhf
dCBoYnBfYmxhbmtpbmc7CS8qaG9yaXpvbnRhbCBiYWNrIHBvcmNoIGJsYW5raW5nIG1vZGUgKi8K
Kwl1aW50OF90IGhzYV9ibGFua2luZzsJLypob3Jpem9udGFsIHN5bmMgYWN0aXZlIGJsYW5raW5n
IG1vZGUgKi8KKwl1aW50OF90IHZfYmxhbmtpbmc7CS8qdmVydGljYWwgdGltaW5nIGJsYW5raW5n
IG1vZGUgKi8KK307CisKK3N0cnVjdCBtaXBpX3R4X2ZyYW1lX3NlY3Rpb25fY2ZnIHsKKwl1aW50
MzJfdCBkbWFfdl9zdHJpZGU7CisJdWludDE2X3QgZG1hX3Zfc2NhbGVfY2ZnOworCXVpbnQxNl90
IHdpZHRoX3BpeGVsczsKKwl1aW50MTZfdCBoZWlnaHRfbGluZXM7CisJdWludDhfdCBkbWFfcGFj
a2VkOworCXVpbnQ4X3QgYnBwOworCXVpbnQ4X3QgYnBwX3VucGFja2VkOworCXVpbnQ4X3QgZG1h
X2hfc3RyaWRlOworCXVpbnQ4X3QgZGF0YV90eXBlOworCXVpbnQ4X3QgZGF0YV9tb2RlOworCXVp
bnQ4X3QgZG1hX2ZsaXBfcm90YXRlX3NlbDsKK307CisKK3N0cnVjdCBtaXBpX3R4X2ZyYW1lX3Rp
bWluZ19jZmcgeworCXVpbnQzMl90IGJwcDsKKwl1aW50MzJfdCBsYW5lX3JhdGVfbWJwczsKKwl1
aW50MzJfdCBoc3luY193aWR0aDsKKwl1aW50MzJfdCBoX2JhY2twb3JjaDsKKwl1aW50MzJfdCBo
X2Zyb250cG9yY2g7CisJdWludDMyX3QgaF9hY3RpdmU7CisJdWludDE2X3QgdnN5bmNfd2lkdGg7
CisJdWludDE2X3Qgdl9iYWNrcG9yY2g7CisJdWludDE2X3Qgdl9mcm9udHBvcmNoOworCXVpbnQx
Nl90IHZfYWN0aXZlOworCXVpbnQ4X3QgYWN0aXZlX2xhbmVzOworfTsKKworc3RydWN0IG1pcGlf
dHhfZnJhbWVfc2VjdF9waGNmZyB7CisJdWludDMyX3Qgd2M7CisJZW51bSBtaXBpX2RhdGFfbW9k
ZSBkYXRhX21vZGU7CisJZW51bSBtaXBpX2RzaV9kYXRhX3R5cGUgZGF0YV90eXBlOworCXVpbnQ4
X3QgdmNoYW5uZWw7CisJdWludDhfdCBkbWFfcGFja2VkOworfTsKKworc3RydWN0IG1pcGlfdHhf
ZnJhbWVfY2ZnIHsKKwlzdHJ1Y3QgbWlwaV90eF9mcmFtZV9zZWN0aW9uX2NmZyAqc2VjdGlvbnNb
TUlQSV9UWF9GUkFNRV9HRU5fU0VDVElPTlNdOworCXVpbnQzMl90IGhzeW5jX3dpZHRoOwkvKmlu
IHBpeGVscyAqLworCXVpbnQzMl90IGhfYmFja3BvcmNoOwkvKmluIHBpeGVscyAqLworCXVpbnQz
Ml90IGhfZnJvbnRwb3JjaDsJLyppbiBwaXhlbHMgKi8KKwl1aW50MTZfdCB2c3luY193aWR0aDsJ
LyppbiBsaW5lcyAqLworCXVpbnQxNl90IHZfYmFja3BvcmNoOwkvKmluIGxpbmVzICovCisJdWlu
dDE2X3Qgdl9mcm9udHBvcmNoOwkvKmluIGxpbmVzICovCit9OworCitzdHJ1Y3QgbWlwaV90eF9j
dHJsX2NmZyB7CisJc3RydWN0IG1pcGlfdHhfZnJhbWVfY2ZnICpmcmFtZXNbTUlQSV9UWF9GUkFN
RV9HRU5dOworCXN0cnVjdCBtaXBpX3R4X2RzaV9jZmcgKnR4X2RzaV9jZmc7CisJdWludDhfdCBs
aW5lX3N5bmNfcGt0X2VuOworCXVpbnQ4X3QgbGluZV9jb3VudGVyX2FjdGl2ZTsKKwl1aW50OF90
IGZyYW1lX2NvdW50ZXJfYWN0aXZlOworCXVpbnQ4X3QgdHhfaHNjbGtraWRsZV9jbnQ7CisJdWlu
dDhfdCB0eF9oc2V4aXRfY250OworCXVpbnQ4X3QgdHhfY3JjX2VuOworCXVpbnQ4X3QgdHhfaGFj
dF93YWl0X3N0b3A7CisJdWludDhfdCB0eF9hbHdheXNfdXNlX2hhY3Q7CisJdWludDhfdCB0eF93
YWl0X3RyaWc7CisJdWludDhfdCB0eF93YWl0X2FsbF9zZWN0OworfTsKKworLypjb25maWd1cmF0
aW9uIHN0cnVjdHVyZSBmb3IgTUlQSSBjb250cm9sICovCitzdHJ1Y3QgbWlwaV9jdHJsX2NmZyB7
CisJLyogY29udHJvbGxlciBpbmRleCA6IENUUkw2IGZvciBjb25uZWN0aW5nIHRvIExDRCAqLwor
CXVpbnQ4X3QgaW5kZXg7CisJdWludDhfdCB0eXBlOwkJLyogY29udHJvbGxlciB0eXBlIDogTUlQ
SV9EU0kgKi8KKwl1aW50OF90IGRpcjsJCS8qIGNvbnRyb2xsZXIgZGlyZWN0aW9uIDogTUlQSV9U
WCAqLworCXVpbnQ4X3QgYWN0aXZlX2xhbmVzOwkvKiAjIGFjdGl2ZSBsYW5lcyBwZXIgY29udHJv
bGxlciAyLzQgKi8KKwl1aW50MzJfdCBsYW5lX3JhdGVfbWJwczsJLypNQlBTICovCisJdWludDMy
X3QgcmVmX2Nsa19raHo7CisJdWludDMyX3QgY2ZnX2Nsa19raHo7CisJdWludDMyX3QgZGF0YV9p
ZjsJLypNSVBJX0lGX0RNQSBvciBNSVBJX0lGX1BBUkFMTEVMICovCisJc3RydWN0IG1pcGlfdHhf
Y3RybF9jZmcgdHhfY3RybF9jZmc7Cit9OworCisvKiBTdHJ1Y3R1cmUgZm9yIHN0b3JpbmcgdXNl
ciBzcGVjaWZpZWQgaW50ZXJydXB0cyB0aGF0IGFyZSBlbmFibGVkICovCit1bmlvbiBtaXBpX2ly
cV9jZmcgeworCXVpbnQ4X3QgdmFsdWU7CisJc3RydWN0IHsKKwkJdWludDhfdCBsaW5lX2NvbXBh
cmU6MTsKKwkJdWludDhfdCBkbWFfZXZlbnQ6MTsKKwkJdWludDhfdCBmcmFtZV9kb25lOjE7CisJ
CXVpbnQ4X3QgY3RybF9lcnJvcjoxOworCQl1aW50OF90IGRwaHlfZXJyb3I6MTsKKwl9IGlycV9j
Zmc7Cit9OworCitzdHJ1Y3QgZHJtX2JyaWRnZSAqa21iX2RzaV9ob3N0X2JyaWRnZV9pbml0KHN0
cnVjdCBkZXZpY2UgKmRldik7CitpbnQga21iX2RzaV9pbml0KHN0cnVjdCBkcm1fZGV2aWNlICpk
ZXYsIHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UpOwordm9pZCBrbWJfcGxhbmVfZGVzdHJveShz
dHJ1Y3QgZHJtX3BsYW5lICpwbGFuZSk7Cit2b2lkIG1pcGlfdHhfaGFuZGxlX2lycXMoc3RydWN0
IGttYl9kcm1fcHJpdmF0ZSAqZGV2X3ApOwordm9pZCBrbWJfZHNpX2hvc3RfdW5yZWdpc3Rlcih2
b2lkKTsKK2ludCBrbWJfZHNpX2h3X2luaXQoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgc3RydWN0
IGRybV9kaXNwbGF5X21vZGUgKm1vZGUpOworI2VuZGlmIC8qIF9fS01CX0RTSV9IX18gKi8KZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9rbWIva21iX3BsYW5lLmMgYi9kcml2ZXJzL2dwdS9k
cm0va21iL2ttYl9wbGFuZS5jCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAuLjU1
YWVmNWMKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL2dwdS9kcm0va21iL2ttYl9wbGFuZS5j
CkBAIC0wLDAgKzEsNTE1IEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1v
bmx5CisvKgorICogQ29weXJpZ2h0IMKpIDIwMTgtMjAyMCBJbnRlbCBDb3Jwb3JhdGlvbgorICov
CisKKyNpbmNsdWRlIDxsaW51eC9jbGsuaD4KKyNpbmNsdWRlIDxsaW51eC9vZl9ncmFwaC5oPgor
I2luY2x1ZGUgPGxpbnV4L3BsYXRmb3JtX2RhdGEvc2ltcGxlZmIuaD4KKyNpbmNsdWRlIDx2aWRl
by92aWRlb21vZGUuaD4KKyNpbmNsdWRlIDxkcm0vZHJtX2F0b21pYy5oPgorI2luY2x1ZGUgPGRy
bS9kcm1fYXRvbWljX2hlbHBlci5oPgorI2luY2x1ZGUgPGRybS9kcm1fY3J0Yy5oPgorI2luY2x1
ZGUgPGRybS9kcm1fY3J0Y19oZWxwZXIuaD4KKyNpbmNsdWRlIDxkcm0vZHJtX2ZiX2NtYV9oZWxw
ZXIuaD4KKyNpbmNsdWRlIDxkcm0vZHJtX2ZiX2hlbHBlci5oPgorI2luY2x1ZGUgPGRybS9kcm1f
Z2VtX2NtYV9oZWxwZXIuaD4KKyNpbmNsdWRlIDxkcm0vZHJtX29mLmg+CisjaW5jbHVkZSA8ZHJt
L2RybV9wbGFuZV9oZWxwZXIuaD4KKyNpbmNsdWRlICJrbWJfY3J0Yy5oIgorI2luY2x1ZGUgImtt
Yl9kcnYuaCIKKyNpbmNsdWRlICJrbWJfcGxhbmUuaCIKKyNpbmNsdWRlICJrbWJfcmVncy5oIgor
CitzdHJ1Y3QgbGF5ZXJfc3RhdHVzIHBsYW5lX3N0YXR1c1tLTUJfTUFYX1BMQU5FU107Citjb25z
dCB1aW50MzJfdCBsYXllcl9pcnFzW10gPSB7CisJTENEX0lOVF9WTDAsCisJTENEX0lOVF9WTDEs
CisJTENEX0lOVF9HTDAsCisJTENEX0lOVF9HTDEKK307CisKK3N0YXRpYyB1bnNpZ25lZCBpbnQg
Y2hlY2tfcGl4ZWxfZm9ybWF0KHN0cnVjdCBkcm1fcGxhbmUgKnBsYW5lLCB1MzIgZm9ybWF0KQor
eworCWludCBpOworCisJZm9yIChpID0gMDsgaSA8IHBsYW5lLT5mb3JtYXRfY291bnQ7IGkrKykg
eworCQlpZiAocGxhbmUtPmZvcm1hdF90eXBlc1tpXSA9PSBmb3JtYXQpCisJCQlyZXR1cm4gMDsK
Kwl9CisJcmV0dXJuIC1FSU5WQUw7Cit9CisKK3N0YXRpYyBpbnQga21iX3BsYW5lX2F0b21pY19j
aGVjayhzdHJ1Y3QgZHJtX3BsYW5lICpwbGFuZSwKKwkJCQkgIHN0cnVjdCBkcm1fcGxhbmVfc3Rh
dGUgKnN0YXRlKQoreworCXN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZiOworCWludCByZXQ7CisK
KwlmYiA9IHN0YXRlLT5mYjsKKwlpZiAoIWZiIHx8ICFzdGF0ZS0+Y3J0YykKKwkJcmV0dXJuIDA7
CisKKwlyZXQgPSBjaGVja19waXhlbF9mb3JtYXQocGxhbmUsIGZiLT5mb3JtYXQtPmZvcm1hdCk7
CisJaWYgKHJldCkKKwkJcmV0dXJuIHJldDsKKworCWlmIChzdGF0ZS0+Y3J0Y193ID4gS01CX01B
WF9XSURUSCB8fCBzdGF0ZS0+Y3J0Y19oID4gS01CX01BWF9IRUlHSFQpCisJCXJldHVybiAtRUlO
VkFMOworCWlmIChzdGF0ZS0+Y3J0Y193IDwgS01CX01JTl9XSURUSCB8fCBzdGF0ZS0+Y3J0Y19o
IDwgS01CX01JTl9IRUlHSFQpCisJCXJldHVybiAtRUlOVkFMOworCXJldHVybiAwOworfQorCitz
dGF0aWMgdm9pZCBrbWJfcGxhbmVfYXRvbWljX2Rpc2FibGUoc3RydWN0IGRybV9wbGFuZSAqcGxh
bmUsCisJCQkJICAgICBzdHJ1Y3QgZHJtX3BsYW5lX3N0YXRlICpzdGF0ZSkKK3sKKwlzdHJ1Y3Qg
a21iX3BsYW5lICprbWJfcGxhbmUgPSB0b19rbWJfcGxhbmUocGxhbmUpOworCWludCBwbGFuZV9p
ZCA9IGttYl9wbGFuZS0+aWQ7CisKKwlzd2l0Y2ggKHBsYW5lX2lkKSB7CisJY2FzZSBMQVlFUl8w
OgorCQlwbGFuZV9zdGF0dXNbcGxhbmVfaWRdLmN0cmwgPSBMQ0RfQ1RSTF9WTDFfRU5BQkxFOwor
CQlicmVhazsKKwljYXNlIExBWUVSXzE6CisJCXBsYW5lX3N0YXR1c1twbGFuZV9pZF0uY3RybCA9
IExDRF9DVFJMX1ZMMl9FTkFCTEU7CisJCWJyZWFrOworCWNhc2UgTEFZRVJfMjoKKwkJcGxhbmVf
c3RhdHVzW3BsYW5lX2lkXS5jdHJsID0gTENEX0NUUkxfR0wxX0VOQUJMRTsKKwkJYnJlYWs7CisJ
Y2FzZSBMQVlFUl8zOgorCQlwbGFuZV9zdGF0dXNbcGxhbmVfaWRdLmN0cmwgPSBMQ0RfQ1RSTF9H
TDJfRU5BQkxFOworCQlicmVhazsKKwl9CisKKwlwbGFuZV9zdGF0dXNbcGxhbmVfaWRdLmRpc2Fi
bGUgPSB0cnVlOworfQorCit1bnNpZ25lZCBpbnQgc2V0X3BpeGVsX2Zvcm1hdCh1MzIgZm9ybWF0
KQoreworCXVuc2lnbmVkIGludCB2YWwgPSAwOworCisJc3dpdGNoIChmb3JtYXQpIHsKKwkJLypw
bGFuYXIgZm9ybWF0cyAqLworCWNhc2UgRFJNX0ZPUk1BVF9ZVVY0NDQ6CisJCXZhbCA9IExDRF9M
QVlFUl9GT1JNQVRfWUNCQ1I0NDRQTEFOIHwgTENEX0xBWUVSX1BMQU5BUl9TVE9SQUdFOworCQli
cmVhazsKKwljYXNlIERSTV9GT1JNQVRfWVZVNDQ0OgorCQl2YWwgPSBMQ0RfTEFZRVJfRk9STUFU
X1lDQkNSNDQ0UExBTiB8IExDRF9MQVlFUl9QTEFOQVJfU1RPUkFHRQorCQkgICAgfCBMQ0RfTEFZ
RVJfQ1JDQl9PUkRFUjsKKwkJYnJlYWs7CisJY2FzZSBEUk1fRk9STUFUX1lVVjQyMjoKKwkJdmFs
ID0gTENEX0xBWUVSX0ZPUk1BVF9ZQ0JDUjQyMlBMQU4gfCBMQ0RfTEFZRVJfUExBTkFSX1NUT1JB
R0U7CisJCWJyZWFrOworCWNhc2UgRFJNX0ZPUk1BVF9ZVlU0MjI6CisJCXZhbCA9IExDRF9MQVlF
Ul9GT1JNQVRfWUNCQ1I0MjJQTEFOIHwgTENEX0xBWUVSX1BMQU5BUl9TVE9SQUdFCisJCSAgICB8
IExDRF9MQVlFUl9DUkNCX09SREVSOworCQlicmVhazsKKwljYXNlIERSTV9GT1JNQVRfWVVWNDIw
OgorCQl2YWwgPSBMQ0RfTEFZRVJfRk9STUFUX1lDQkNSNDIwUExBTiB8IExDRF9MQVlFUl9QTEFO
QVJfU1RPUkFHRTsKKwkJYnJlYWs7CisJY2FzZSBEUk1fRk9STUFUX1lWVTQyMDoKKwkJdmFsID0g
TENEX0xBWUVSX0ZPUk1BVF9ZQ0JDUjQyMFBMQU4gfCBMQ0RfTEFZRVJfUExBTkFSX1NUT1JBR0UK
KwkJICAgIHwgTENEX0xBWUVSX0NSQ0JfT1JERVI7CisJCWJyZWFrOworCWNhc2UgRFJNX0ZPUk1B
VF9OVjEyOgorCQl2YWwgPSBMQ0RfTEFZRVJfRk9STUFUX05WMTIgfCBMQ0RfTEFZRVJfUExBTkFS
X1NUT1JBR0U7CisJCWJyZWFrOworCWNhc2UgRFJNX0ZPUk1BVF9OVjIxOgorCQl2YWwgPSBMQ0Rf
TEFZRVJfRk9STUFUX05WMTIgfCBMQ0RfTEFZRVJfUExBTkFSX1NUT1JBR0UKKwkJICAgIHwgTENE
X0xBWUVSX0NSQ0JfT1JERVI7CisJCWJyZWFrOworCQkvKiBwYWNrZWQgZm9ybWF0cyAqLworCQkv
KiBsb29rcyBodyByZXF1aXJlcyBCICYgRyB0byBiZSBzd2FwcGVkIHdoZW4gUkdCICovCisJY2Fz
ZSBEUk1fRk9STUFUX1JHQjMzMjoKKwkJdmFsID0gTENEX0xBWUVSX0ZPUk1BVF9SR0IzMzIgfCBM
Q0RfTEFZRVJfQkdSX09SREVSOworCQlicmVhazsKKwljYXNlIERSTV9GT1JNQVRfWEJHUjQ0NDQ6
CisJCXZhbCA9IExDRF9MQVlFUl9GT1JNQVRfUkdCWDQ0NDQ7CisJCWJyZWFrOworCWNhc2UgRFJN
X0ZPUk1BVF9BUkdCNDQ0NDoKKwkJdmFsID0gTENEX0xBWUVSX0ZPUk1BVF9SR0JBNDQ0NCB8IExD
RF9MQVlFUl9CR1JfT1JERVI7CisJCWJyZWFrOworCWNhc2UgRFJNX0ZPUk1BVF9BQkdSNDQ0NDoK
KwkJdmFsID0gTENEX0xBWUVSX0ZPUk1BVF9SR0JBNDQ0NDsKKwkJYnJlYWs7CisJY2FzZSBEUk1f
Rk9STUFUX1hSR0IxNTU1OgorCQl2YWwgPSBMQ0RfTEFZRVJfRk9STUFUX1hSR0IxNTU1IHwgTENE
X0xBWUVSX0JHUl9PUkRFUjsKKwkJYnJlYWs7CisJY2FzZSBEUk1fRk9STUFUX1hCR1IxNTU1Ogor
CQl2YWwgPSBMQ0RfTEFZRVJfRk9STUFUX1hSR0IxNTU1OworCQlicmVhazsKKwljYXNlIERSTV9G
T1JNQVRfQVJHQjE1NTU6CisJCXZhbCA9IExDRF9MQVlFUl9GT1JNQVRfUkdCQTE1NTUgfCBMQ0Rf
TEFZRVJfQkdSX09SREVSOworCQlicmVhazsKKwljYXNlIERSTV9GT1JNQVRfQUJHUjE1NTU6CisJ
CXZhbCA9IExDRF9MQVlFUl9GT1JNQVRfUkdCQTE1NTU7CisJCWJyZWFrOworCWNhc2UgRFJNX0ZP
Uk1BVF9SR0I1NjU6CisJCXZhbCA9IExDRF9MQVlFUl9GT1JNQVRfUkdCNTY1IHwgTENEX0xBWUVS
X0JHUl9PUkRFUjsKKwkJYnJlYWs7CisJY2FzZSBEUk1fRk9STUFUX0JHUjU2NToKKwkJdmFsID0g
TENEX0xBWUVSX0ZPUk1BVF9SR0I1NjU7CisJCWJyZWFrOworCWNhc2UgRFJNX0ZPUk1BVF9SR0I4
ODg6CisJCXZhbCA9IExDRF9MQVlFUl9GT1JNQVRfUkdCODg4IHwgTENEX0xBWUVSX0JHUl9PUkRF
UjsKKwkJYnJlYWs7CisJY2FzZSBEUk1fRk9STUFUX0JHUjg4ODoKKwkJdmFsID0gTENEX0xBWUVS
X0ZPUk1BVF9SR0I4ODg7CisJCWJyZWFrOworCWNhc2UgRFJNX0ZPUk1BVF9YUkdCODg4ODoKKwkJ
dmFsID0gTENEX0xBWUVSX0ZPUk1BVF9SR0JYODg4OCB8IExDRF9MQVlFUl9CR1JfT1JERVI7CisJ
CWJyZWFrOworCWNhc2UgRFJNX0ZPUk1BVF9YQkdSODg4ODoKKwkJdmFsID0gTENEX0xBWUVSX0ZP
Uk1BVF9SR0JYODg4ODsKKwkJYnJlYWs7CisJY2FzZSBEUk1fRk9STUFUX0FSR0I4ODg4OgorCQl2
YWwgPSBMQ0RfTEFZRVJfRk9STUFUX1JHQkE4ODg4IHwgTENEX0xBWUVSX0JHUl9PUkRFUjsKKwkJ
YnJlYWs7CisJY2FzZSBEUk1fRk9STUFUX0FCR1I4ODg4OgorCQl2YWwgPSBMQ0RfTEFZRVJfRk9S
TUFUX1JHQkE4ODg4OworCQlicmVhazsKKwl9CisJRFJNX0lORk9fT05DRSgiJXMgOiAlZCBmb3Jt
YXQ9MHgleCB2YWw9MHgleFxuIiwKKwkJCSBfX2Z1bmNfXywgX19MSU5FX18sIGZvcm1hdCwgdmFs
KTsKKwlyZXR1cm4gdmFsOworfQorCit1bnNpZ25lZCBpbnQgc2V0X2JpdHNfcGVyX3BpeGVsKGNv
bnN0IHN0cnVjdCBkcm1fZm9ybWF0X2luZm8gKmZvcm1hdCkKK3sKKwl1MzIgYnBwID0gMDsKKwl1
bnNpZ25lZCBpbnQgdmFsID0gMDsKKworCWlmIChmb3JtYXQtPm51bV9wbGFuZXMgPiAxKSB7CisJ
CXZhbCA9IExDRF9MQVlFUl84QlBQOworCQlyZXR1cm4gdmFsOworCX0KKworCWJwcCArPSA4ICog
Zm9ybWF0LT5jcHBbMF07CisKKwlzd2l0Y2ggKGJwcCkgeworCWNhc2UgODoKKwkJdmFsID0gTENE
X0xBWUVSXzhCUFA7CisJCWJyZWFrOworCWNhc2UgMTY6CisJCXZhbCA9IExDRF9MQVlFUl8xNkJQ
UDsKKwkJYnJlYWs7CisJY2FzZSAyNDoKKwkJdmFsID0gTENEX0xBWUVSXzI0QlBQOworCQlicmVh
azsKKwljYXNlIDMyOgorCQl2YWwgPSBMQ0RfTEFZRVJfMzJCUFA7CisJCWJyZWFrOworCX0KKwor
CURSTV9ERUJVRygiYnBwPSVkIHZhbD0weCV4XG4iLCBicHAsIHZhbCk7CisJcmV0dXJuIHZhbDsK
K30KKworc3RhdGljIHZvaWQgY29uZmlnX2NzYyhzdHJ1Y3Qga21iX2RybV9wcml2YXRlICpkZXZf
cCwgaW50IHBsYW5lX2lkKQoreworCS8qIFlVViB0byBSR0IgY29udmVyc2lvbiB1c2luZyB0aGUg
Zml4ZWQgbWF0cml4IGNzY19jb2VmX2xjZCAqLworCWttYl93cml0ZV9sY2QoZGV2X3AsIExDRF9M
QVlFUm5fQ1NDX0NPRUZGMTEocGxhbmVfaWQpLCBjc2NfY29lZl9sY2RbMF0pOworCWttYl93cml0
ZV9sY2QoZGV2X3AsIExDRF9MQVlFUm5fQ1NDX0NPRUZGMTIocGxhbmVfaWQpLCBjc2NfY29lZl9s
Y2RbMV0pOworCWttYl93cml0ZV9sY2QoZGV2X3AsIExDRF9MQVlFUm5fQ1NDX0NPRUZGMTMocGxh
bmVfaWQpLCBjc2NfY29lZl9sY2RbMl0pOworCWttYl93cml0ZV9sY2QoZGV2X3AsIExDRF9MQVlF
Um5fQ1NDX0NPRUZGMjEocGxhbmVfaWQpLCBjc2NfY29lZl9sY2RbM10pOworCWttYl93cml0ZV9s
Y2QoZGV2X3AsIExDRF9MQVlFUm5fQ1NDX0NPRUZGMjIocGxhbmVfaWQpLCBjc2NfY29lZl9sY2Rb
NF0pOworCWttYl93cml0ZV9sY2QoZGV2X3AsIExDRF9MQVlFUm5fQ1NDX0NPRUZGMjMocGxhbmVf
aWQpLCBjc2NfY29lZl9sY2RbNV0pOworCWttYl93cml0ZV9sY2QoZGV2X3AsIExDRF9MQVlFUm5f
Q1NDX0NPRUZGMzEocGxhbmVfaWQpLCBjc2NfY29lZl9sY2RbNl0pOworCWttYl93cml0ZV9sY2Qo
ZGV2X3AsIExDRF9MQVlFUm5fQ1NDX0NPRUZGMzIocGxhbmVfaWQpLCBjc2NfY29lZl9sY2RbN10p
OworCWttYl93cml0ZV9sY2QoZGV2X3AsIExDRF9MQVlFUm5fQ1NDX0NPRUZGMzMocGxhbmVfaWQp
LCBjc2NfY29lZl9sY2RbOF0pOworCWttYl93cml0ZV9sY2QoZGV2X3AsIExDRF9MQVlFUm5fQ1ND
X09GRjEocGxhbmVfaWQpLCBjc2NfY29lZl9sY2RbOV0pOworCWttYl93cml0ZV9sY2QoZGV2X3As
IExDRF9MQVlFUm5fQ1NDX09GRjIocGxhbmVfaWQpLCBjc2NfY29lZl9sY2RbMTBdKTsKKwlrbWJf
d3JpdGVfbGNkKGRldl9wLCBMQ0RfTEFZRVJuX0NTQ19PRkYzKHBsYW5lX2lkKSwgY3NjX2NvZWZf
bGNkWzExXSk7Cit9CisKK3N0YXRpYyB2b2lkIGttYl9wbGFuZV9hdG9taWNfdXBkYXRlKHN0cnVj
dCBkcm1fcGxhbmUgKnBsYW5lLAorCQkJCSAgICBzdHJ1Y3QgZHJtX3BsYW5lX3N0YXRlICpzdGF0
ZSkKK3sKKwlzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpmYjsKKwlzdHJ1Y3Qga21iX2RybV9wcml2
YXRlICpkZXZfcDsKKwl1bnNpZ25lZCBpbnQgd2lkdGg7CisJdW5zaWduZWQgaW50IGhlaWdodDsK
Kwl1bnNpZ25lZCBpbnQgZG1hX2xlbjsKKwlzdHJ1Y3Qga21iX3BsYW5lICprbWJfcGxhbmU7CisJ
dW5zaWduZWQgaW50IGRtYV9jZmc7CisJdW5zaWduZWQgaW50IGN0cmwgPSAwLCB2YWwgPSAwLCBv
dXRfZm9ybWF0ID0gMDsKKwl1bnNpZ25lZCBpbnQgc3JjX3csIHNyY19oLCBjcnRjX3gsIGNydGNf
eTsKKwl1bnNpZ25lZCBjaGFyIHBsYW5lX2lkOworCWludCBudW1fcGxhbmVzOworCXN0YXRpYyBk
bWFfYWRkcl90IGFkZHJbTUFYX1NVQl9QTEFORVNdID0geyAwLCAwLCAwIH07CisKKwlpZiAoIXBs
YW5lIHx8ICFwbGFuZS0+c3RhdGUgfHwgIXN0YXRlKQorCQlyZXR1cm47CisKKwlmYiA9IHBsYW5l
LT5zdGF0ZS0+ZmI7CisJaWYgKCFmYikKKwkJcmV0dXJuOworCW51bV9wbGFuZXMgPSBmYi0+Zm9y
bWF0LT5udW1fcGxhbmVzOworCWttYl9wbGFuZSA9IHRvX2ttYl9wbGFuZShwbGFuZSk7CisJcGxh
bmVfaWQgPSBrbWJfcGxhbmUtPmlkOworCisJZGV2X3AgPSB0b19rbWIocGxhbmUtPmRldik7CisK
KwlpZiAoa21iX3VuZGVyX2Zsb3cgfHwga21iX2ZsdXNoX2RvbmUpIHsKKwkJZHJtX2RiZygmZGV2
X3AtPmRybSwgInBsYW5lX3VwZGF0ZTp1bmRlcmZsb3chISEhIHJldHVybmluZyIpOworCQlyZXR1
cm47CisJfQorCisJc3JjX3cgPSAocGxhbmUtPnN0YXRlLT5zcmNfdyA+PiAxNik7CisJc3JjX2gg
PSBwbGFuZS0+c3RhdGUtPnNyY19oID4+IDE2OworCWNydGNfeCA9IHBsYW5lLT5zdGF0ZS0+Y3J0
Y194OworCWNydGNfeSA9IHBsYW5lLT5zdGF0ZS0+Y3J0Y195OworCisJZHJtX2RiZygmZGV2X3At
PmRybSwKKwkJInNyY193PSVkIHNyY19oPSVkLCBmYi0+Zm9ybWF0LT5mb3JtYXQ9MHgleCBmYi0+
ZmxhZ3M9MHgleFxuIiwKKwkJICBzcmNfdywgc3JjX2gsIGZiLT5mb3JtYXQtPmZvcm1hdCwgZmIt
PmZsYWdzKTsKKworCXdpZHRoID0gZmItPndpZHRoOworCWhlaWdodCA9IGZiLT5oZWlnaHQ7CisJ
ZG1hX2xlbiA9ICh3aWR0aCAqIGhlaWdodCAqIGZiLT5mb3JtYXQtPmNwcFswXSk7CisJZHJtX2Ri
ZygmZGV2X3AtPmRybSwgImRtYV9sZW49JWQgIiwgZG1hX2xlbik7CisJa21iX3dyaXRlX2xjZChk
ZXZfcCwgTENEX0xBWUVSbl9ETUFfTEVOKHBsYW5lX2lkKSwgZG1hX2xlbik7CisJa21iX3dyaXRl
X2xjZChkZXZfcCwgTENEX0xBWUVSbl9ETUFfTEVOX1NIQURPVyhwbGFuZV9pZCksIGRtYV9sZW4p
OworCWttYl93cml0ZV9sY2QoZGV2X3AsIExDRF9MQVlFUm5fRE1BX0xJTkVfVlNUUklERShwbGFu
ZV9pZCksCisJCSAgICAgIGZiLT5waXRjaGVzWzBdKTsKKwlrbWJfd3JpdGVfbGNkKGRldl9wLCBM
Q0RfTEFZRVJuX0RNQV9MSU5FX1dJRFRIKHBsYW5lX2lkKSwKKwkJICAgICAgKHdpZHRoICogZmIt
PmZvcm1hdC0+Y3BwWzBdKSk7CisKKwlhZGRyW1lfUExBTkVdID0gZHJtX2ZiX2NtYV9nZXRfZ2Vt
X2FkZHIoZmIsIHBsYW5lLT5zdGF0ZSwgMCk7CisJZGV2X3AtPmZiX2FkZHIgPSBhZGRyW1lfUExB
TkVdOworCWttYl93cml0ZV9sY2QoZGV2X3AsIExDRF9MQVlFUm5fRE1BX1NUQVJUX0FERFIocGxh
bmVfaWQpLAorCQkgICAgICBhZGRyW1lfUExBTkVdICsgZmItPm9mZnNldHNbMF0pOworCXZhbCA9
IHNldF9waXhlbF9mb3JtYXQoZmItPmZvcm1hdC0+Zm9ybWF0KTsKKwl2YWwgfD0gc2V0X2JpdHNf
cGVyX3BpeGVsKGZiLT5mb3JtYXQpOworCS8qIFByb2dyYW0gQ2IvQ3IgZm9yIHBsYW5hciBmb3Jt
YXRzICovCisJaWYgKG51bV9wbGFuZXMgPiAxKSB7CisJCWttYl93cml0ZV9sY2QoZGV2X3AsIExD
RF9MQVlFUm5fRE1BX0NCX0xJTkVfVlNUUklERShwbGFuZV9pZCksCisJCQkJd2lkdGgqZmItPmZv
cm1hdC0+Y3BwWzBdKTsKKwkJa21iX3dyaXRlX2xjZChkZXZfcCwgTENEX0xBWUVSbl9ETUFfQ0Jf
TElORV9XSURUSChwbGFuZV9pZCksCisJCQkgICAgICAod2lkdGggKiBmYi0+Zm9ybWF0LT5jcHBb
MF0pKTsKKworCQlhZGRyW1VfUExBTkVdID0gZHJtX2ZiX2NtYV9nZXRfZ2VtX2FkZHIoZmIsIHBs
YW5lLT5zdGF0ZSwKKwkJCQlVX1BMQU5FKTsKKwkJLyogY2hlY2sgaWYgQ2IvQ3IgaXMgc3dhcHBl
ZCovCisJCWlmICgobnVtX3BsYW5lcyA9PSAzKSAmJiAodmFsICYgTENEX0xBWUVSX0NSQ0JfT1JE
RVIpKQorCQkJa21iX3dyaXRlX2xjZChkZXZfcCwKKwkJCQkJTENEX0xBWUVSbl9ETUFfU1RBUlRf
Q1JfQURSKHBsYW5lX2lkKSwKKwkJCQkJYWRkcltVX1BMQU5FXSk7CisJCWVsc2UKKwkJCWttYl93
cml0ZV9sY2QoZGV2X3AsCisJCQkJCUxDRF9MQVlFUm5fRE1BX1NUQVJUX0NCX0FEUihwbGFuZV9p
ZCksCisJCQkJCWFkZHJbVV9QTEFORV0pOworCisJCWlmIChudW1fcGxhbmVzID09IDMpIHsKKwkJ
CWttYl93cml0ZV9sY2QoZGV2X3AsCisJCQkJTENEX0xBWUVSbl9ETUFfQ1JfTElORV9WU1RSSURF
KHBsYW5lX2lkKSwKKwkJCQkoKHdpZHRoKSpmYi0+Zm9ybWF0LT5jcHBbMF0pKTsKKworCQkJa21i
X3dyaXRlX2xjZChkZXZfcCwKKwkJCQlMQ0RfTEFZRVJuX0RNQV9DUl9MSU5FX1dJRFRIKHBsYW5l
X2lkKSwKKwkJCQkoKHdpZHRoKSpmYi0+Zm9ybWF0LT5jcHBbMF0pKTsKKworCQkJYWRkcltWX1BM
QU5FXSA9IGRybV9mYl9jbWFfZ2V0X2dlbV9hZGRyKGZiLAorCQkJCQlwbGFuZS0+c3RhdGUsIFZf
UExBTkUpOworCisJCQkvKiBjaGVjayBpZiBDYi9DciBpcyBzd2FwcGVkKi8KKwkJCWlmICh2YWwg
JiBMQ0RfTEFZRVJfQ1JDQl9PUkRFUikKKwkJCQlrbWJfd3JpdGVfbGNkKGRldl9wLAorCQkJCQlM
Q0RfTEFZRVJuX0RNQV9TVEFSVF9DQl9BRFIocGxhbmVfaWQpLAorCQkJCQlhZGRyW1ZfUExBTkVd
KTsKKwkJCWVsc2UKKwkJCQlrbWJfd3JpdGVfbGNkKGRldl9wLAorCQkJCQlMQ0RfTEFZRVJuX0RN
QV9TVEFSVF9DUl9BRFIocGxhbmVfaWQpLAorCQkJCQlhZGRyW1ZfUExBTkVdKTsKKwkJfQorCX0K
KworCWttYl93cml0ZV9sY2QoZGV2X3AsIExDRF9MQVlFUm5fV0lEVEgocGxhbmVfaWQpLCBzcmNf
dyAtIDEpOworCWttYl93cml0ZV9sY2QoZGV2X3AsIExDRF9MQVlFUm5fSEVJR0hUKHBsYW5lX2lk
KSwgc3JjX2ggLSAxKTsKKwlrbWJfd3JpdGVfbGNkKGRldl9wLCBMQ0RfTEFZRVJuX0NPTF9TVEFS
VChwbGFuZV9pZCksIGNydGNfeCk7CisJa21iX3dyaXRlX2xjZChkZXZfcCwgTENEX0xBWUVSbl9S
T1dfU1RBUlQocGxhbmVfaWQpLCBjcnRjX3kpOworCisJdmFsIHw9IExDRF9MQVlFUl9GSUZPXzEw
MDsKKworCWlmICh2YWwgJiBMQ0RfTEFZRVJfUExBTkFSX1NUT1JBR0UpIHsKKwkJdmFsIHw9IExD
RF9MQVlFUl9DU0NfRU47CisKKwkJLyogRW5hYmxlIENTQyBpZiBpbnB1dCBpcyBwbGFuYXIgYW5k
IG91dHB1dCBpcyBSR0IgKi8KKwkJY29uZmlnX2NzYyhkZXZfcCwgcGxhbmVfaWQpOworCX0KKwor
CWttYl93cml0ZV9sY2QoZGV2X3AsIExDRF9MQVlFUm5fQ0ZHKHBsYW5lX2lkKSwgdmFsKTsKKwor
CXN3aXRjaCAocGxhbmVfaWQpIHsKKwljYXNlIExBWUVSXzA6CisJCWN0cmwgPSBMQ0RfQ1RSTF9W
TDFfRU5BQkxFOworCQlicmVhazsKKwljYXNlIExBWUVSXzE6CisJCWN0cmwgPSBMQ0RfQ1RSTF9W
TDJfRU5BQkxFOworCQlicmVhazsKKwljYXNlIExBWUVSXzI6CisJCWN0cmwgPSBMQ0RfQ1RSTF9H
TDFfRU5BQkxFOworCQlicmVhazsKKwljYXNlIExBWUVSXzM6CisJCWN0cmwgPSBMQ0RfQ1RSTF9H
TDJfRU5BQkxFOworCQlicmVhazsKKwl9CisKKwljdHJsIHw9IExDRF9DVFJMX1BST0dSRVNTSVZF
IHwgTENEX0NUUkxfVElNX0dFTl9FTkFCTEUKKwkgICAgfCBMQ0RfQ1RSTF9DT05USU5VT1VTIHwg
TENEX0NUUkxfT1VUUFVUX0VOQUJMRUQ7CisKKwkvKkxDRCBpcyBjb25uZWN0ZWQgdG8gTUlQSSBv
biBrbWIKKwkgKiBUaGVyZWZvcmUgdGhpcyBiaXQgaXMgcmVxdWlyZWQgZm9yIERTSSBUeAorCSAq
LworCWN0cmwgfD0gTENEX0NUUkxfVkhTWU5DX0lETEVfTFZMOworCisJa21iX3NldF9iaXRtYXNr
X2xjZChkZXZfcCwgTENEX0NPTlRST0wsIGN0cmwpOworCisJLyogRklYTUUgbm8gZG9jIG9uIGhv
dyB0byBzZXQgb3V0cHV0IGZvcm1hdCx0aGVzZSB2YWx1ZXMgYXJlCisJICogdGFrZW4gZnJvbSB0
aGUgTXlyaWFkeCB0ZXN0cworCSAqLworCW91dF9mb3JtYXQgfD0gTENEX09VVEZfRk9STUFUX1JH
Qjg4ODsKKworCS8qIExlYXZlIFJHQiBvcmRlcixjb252ZXJzaW9uIG1vZGUgYW5kIGNsaXAgbW9k
ZSB0byBkZWZhdWx0ICovCisJLyogZG8gbm90IGludGVybGVhdmUgUkdCIGNoYW5uZWxzIGZvciBt
aXBpIFR4IGNvbXBhdGliaWxpdHkgKi8KKwlvdXRfZm9ybWF0IHw9IExDRF9PVVRGX01JUElfUkdC
X01PREU7CisJa21iX3dyaXRlX2xjZChkZXZfcCwgTENEX09VVF9GT1JNQVRfQ0ZHLCBvdXRfZm9y
bWF0KTsKKworCWRtYV9jZmcgPSBMQ0RfRE1BX0xBWUVSX0VOQUJMRSB8IExDRF9ETUFfTEFZRVJf
VlNUUklERV9FTiB8CisJICAgIExDRF9ETUFfTEFZRVJfQ09OVF9VUERBVEUgfCBMQ0RfRE1BX0xB
WUVSX0FYSV9CVVJTVF8xNjsKKworCS8qIEVuYWJsZSBETUEgKi8KKwlrbWJfd3JpdGVfbGNkKGRl
dl9wLCBMQ0RfTEFZRVJuX0RNQV9DRkcocGxhbmVfaWQpLCBkbWFfY2ZnKTsKKwlkcm1fZGJnKCZk
ZXZfcC0+ZHJtLCAiZG1hX2NmZz0weCV4IExDRF9ETUFfQ0ZHPTB4JXhcbiIsIGRtYV9jZmcsCisJ
CSAga21iX3JlYWRfbGNkKGRldl9wLCBMQ0RfTEFZRVJuX0RNQV9DRkcocGxhbmVfaWQpKSk7CisK
KwlrbWJfc2V0X2JpdG1hc2tfbGNkKGRldl9wLCBMQ0RfSU5UX0NMRUFSLCBMQ0RfSU5UX0VPRiB8
CisJCQlMQ0RfSU5UX0RNQV9FUlIpOworCWttYl9zZXRfYml0bWFza19sY2QoZGV2X3AsIExDRF9J
TlRfRU5BQkxFLCBMQ0RfSU5UX0VPRiB8CisJCQlMQ0RfSU5UX0RNQV9FUlIpOworfQorCitzdGF0
aWMgY29uc3Qgc3RydWN0IGRybV9wbGFuZV9oZWxwZXJfZnVuY3Mga21iX3BsYW5lX2hlbHBlcl9m
dW5jcyA9IHsKKwkuYXRvbWljX2NoZWNrID0ga21iX3BsYW5lX2F0b21pY19jaGVjaywKKwkuYXRv
bWljX3VwZGF0ZSA9IGttYl9wbGFuZV9hdG9taWNfdXBkYXRlLAorCS5hdG9taWNfZGlzYWJsZSA9
IGttYl9wbGFuZV9hdG9taWNfZGlzYWJsZQorfTsKKwordm9pZCBrbWJfcGxhbmVfZGVzdHJveShz
dHJ1Y3QgZHJtX3BsYW5lICpwbGFuZSkKK3sKKwlzdHJ1Y3Qga21iX3BsYW5lICprbWJfcGxhbmUg
PSB0b19rbWJfcGxhbmUocGxhbmUpOworCisJZHJtX3BsYW5lX2NsZWFudXAocGxhbmUpOworCWtm
cmVlKGttYl9wbGFuZSk7Cit9CisKK3N0YXRpYyB2b2lkIGttYl9kZXN0cm95X3BsYW5lX3N0YXRl
KHN0cnVjdCBkcm1fcGxhbmUgKnBsYW5lLAorCQkJCSAgICBzdHJ1Y3QgZHJtX3BsYW5lX3N0YXRl
ICpzdGF0ZSkKK3sKKwlzdHJ1Y3Qga21iX3BsYW5lX3N0YXRlICprbWJfc3RhdGUgPSB0b19rbWJf
cGxhbmVfc3RhdGUoc3RhdGUpOworCisJX19kcm1fYXRvbWljX2hlbHBlcl9wbGFuZV9kZXN0cm95
X3N0YXRlKHN0YXRlKTsKKwlrZnJlZShrbWJfc3RhdGUpOworfQorCitzdHJ1Y3QgZHJtX3BsYW5l
X3N0YXRlICprbWJfcGxhbmVfZHVwbGljYXRlX3N0YXRlKHN0cnVjdCBkcm1fcGxhbmUgKnBsYW5l
KQoreworCXN0cnVjdCBkcm1fcGxhbmVfc3RhdGUgKnN0YXRlOworCXN0cnVjdCBrbWJfcGxhbmVf
c3RhdGUgKmttYl9zdGF0ZTsKKworCWttYl9zdGF0ZSA9IGttZW1kdXAocGxhbmUtPnN0YXRlLCBz
aXplb2YoKmttYl9zdGF0ZSksIEdGUF9LRVJORUwpOworCWlmICgha21iX3N0YXRlKQorCQlyZXR1
cm4gTlVMTDsKKworCXN0YXRlID0gJmttYl9zdGF0ZS0+YmFzZV9wbGFuZV9zdGF0ZTsKKwlfX2Ry
bV9hdG9taWNfaGVscGVyX3BsYW5lX2R1cGxpY2F0ZV9zdGF0ZShwbGFuZSwgc3RhdGUpOworCisJ
cmV0dXJuIHN0YXRlOworfQorCitzdGF0aWMgdm9pZCBrbWJfcGxhbmVfcmVzZXQoc3RydWN0IGRy
bV9wbGFuZSAqcGxhbmUpCit7CisJc3RydWN0IGttYl9wbGFuZV9zdGF0ZSAqa21iX3N0YXRlID0g
dG9fa21iX3BsYW5lX3N0YXRlKHBsYW5lLT5zdGF0ZSk7CisKKwlpZiAoa21iX3N0YXRlKQorCQlf
X2RybV9hdG9taWNfaGVscGVyX3BsYW5lX2Rlc3Ryb3lfc3RhdGUKKwkJICAgICgma21iX3N0YXRl
LT5iYXNlX3BsYW5lX3N0YXRlKTsKKwlrZnJlZShrbWJfc3RhdGUpOworCisJcGxhbmUtPnN0YXRl
ID0gTlVMTDsKKwlrbWJfc3RhdGUgPSBremFsbG9jKHNpemVvZigqa21iX3N0YXRlKSwgR0ZQX0tF
Uk5FTCk7CisJaWYgKGttYl9zdGF0ZSkgeworCQlrbWJfc3RhdGUtPmJhc2VfcGxhbmVfc3RhdGUu
cGxhbmUgPSBwbGFuZTsKKwkJa21iX3N0YXRlLT5iYXNlX3BsYW5lX3N0YXRlLnJvdGF0aW9uID0g
RFJNX01PREVfUk9UQVRFXzA7CisJCXBsYW5lLT5zdGF0ZSA9ICZrbWJfc3RhdGUtPmJhc2VfcGxh
bmVfc3RhdGU7CisJCWttYl9zdGF0ZS0+bm9fcGxhbmVzID0gS01CX01BWF9QTEFORVM7CisJfQor
fQorCitzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9wbGFuZV9mdW5jcyBrbWJfcGxhbmVfZnVuY3Mg
PSB7CisJLnVwZGF0ZV9wbGFuZSA9IGRybV9hdG9taWNfaGVscGVyX3VwZGF0ZV9wbGFuZSwKKwku
ZGlzYWJsZV9wbGFuZSA9IGRybV9hdG9taWNfaGVscGVyX2Rpc2FibGVfcGxhbmUsCisJLmRlc3Ry
b3kgPSBrbWJfcGxhbmVfZGVzdHJveSwKKwkucmVzZXQgPSBrbWJfcGxhbmVfcmVzZXQsCisJLmF0
b21pY19kdXBsaWNhdGVfc3RhdGUgPSBrbWJfcGxhbmVfZHVwbGljYXRlX3N0YXRlLAorCS5hdG9t
aWNfZGVzdHJveV9zdGF0ZSA9IGttYl9kZXN0cm95X3BsYW5lX3N0YXRlLAorfTsKKworc3RydWN0
IGttYl9wbGFuZSAqa21iX3BsYW5lX2luaXQoc3RydWN0IGRybV9kZXZpY2UgKmRybSkKK3sKKwlz
dHJ1Y3Qga21iX2RybV9wcml2YXRlICpsY2QgPSB0b19rbWIoZHJtKTsKKwlzdHJ1Y3Qga21iX3Bs
YW5lICpwbGFuZSA9IE5VTEw7CisJc3RydWN0IGttYl9wbGFuZSAqcHJpbWFyeSA9IE5VTEw7CisJ
aW50IGkgPSAwOworCWludCByZXQgPSAwOworCWVudW0gZHJtX3BsYW5lX3R5cGUgcGxhbmVfdHlw
ZTsKKwljb25zdCB1aW50MzJfdCAqcGxhbmVfZm9ybWF0czsKKwlpbnQgbnVtX3BsYW5lX2Zvcm1h
dHM7CisKKwlmb3IgKGkgPSAwOyBpIDwgbGNkLT5uX2xheWVyczsgaSsrKSB7CisJCXBsYW5lID0g
ZGV2bV9remFsbG9jKGRybS0+ZGV2LCBzaXplb2YoKnBsYW5lKSwgR0ZQX0tFUk5FTCk7CisKKwkJ
aWYgKCFwbGFuZSkgeworCQkJZHJtX2Vycihkcm0sICJGYWlsZWQgdG8gYWxsb2NhdGUgcGxhbmVc
biIpOworCQkJcmV0dXJuIEVSUl9QVFIoLUVOT01FTSk7CisJCX0KKworCQlwbGFuZV90eXBlID0g
KGkgPT0gMCkgPyBEUk1fUExBTkVfVFlQRV9QUklNQVJZIDoKKwkJICAgIERSTV9QTEFORV9UWVBF
X09WRVJMQVk7CisJCWlmIChpIDwgMikgeworCQkJcGxhbmVfZm9ybWF0cyA9IGttYl9mb3JtYXRz
X3Y7CisJCQludW1fcGxhbmVfZm9ybWF0cyA9IEFSUkFZX1NJWkUoa21iX2Zvcm1hdHNfdik7CisJ
CX0gZWxzZSB7CisJCQlwbGFuZV9mb3JtYXRzID0ga21iX2Zvcm1hdHNfZzsKKwkJCW51bV9wbGFu
ZV9mb3JtYXRzID0gQVJSQVlfU0laRShrbWJfZm9ybWF0c19nKTsKKwkJfQorCisJCXJldCA9IGRy
bV91bml2ZXJzYWxfcGxhbmVfaW5pdChkcm0sICZwbGFuZS0+YmFzZV9wbGFuZSwKKwkJCQkJICAg
ICAgIFBPU1NJQkxFX0NSVENTLCAma21iX3BsYW5lX2Z1bmNzLAorCQkJCQkgICAgICAgcGxhbmVf
Zm9ybWF0cywgbnVtX3BsYW5lX2Zvcm1hdHMsCisJCQkJCSAgICAgICBOVUxMLCBwbGFuZV90eXBl
LCAicGxhbmUgJWQiLCBpKTsKKwkJaWYgKHJldCA8IDApIHsKKwkJCWRybV9lcnIoZHJtLCAiZHJt
X3VuaXZlcnNhbF9wbGFuZV9pbml0IGZhaWxlZCAocmV0PSVkKSIsCisJCQkJICByZXQpOworCQkJ
Z290byBjbGVhbnVwOworCQl9CisJCWRybV9kYmcoZHJtLCAiJXMgOiAlZCBpPSVkIHR5cGU9JWQi
LAorCQkJICBfX2Z1bmNfXywgX19MSU5FX18sCisJCQkgIGksIHBsYW5lX3R5cGUpOworCQlkcm1f
cGxhbmVfaGVscGVyX2FkZCgmcGxhbmUtPmJhc2VfcGxhbmUsCisJCQkJICAgICAma21iX3BsYW5l
X2hlbHBlcl9mdW5jcyk7CisJCWlmIChwbGFuZV90eXBlID09IERSTV9QTEFORV9UWVBFX1BSSU1B
UlkpIHsKKwkJCXByaW1hcnkgPSBwbGFuZTsKKwkJCWxjZC0+cGxhbmUgPSBwbGFuZTsKKwkJfQor
CQlkcm1fZGJnKGRybSwgIiVzIDogJWQgcHJpbWFyeT0lcFxuIiwgX19mdW5jX18sIF9fTElORV9f
LAorCQkJICAmcHJpbWFyeS0+YmFzZV9wbGFuZSk7CisJCXBsYW5lLT5pZCA9IGk7CisJfQorCisJ
cmV0dXJuIHByaW1hcnk7CitjbGVhbnVwOgorCWtmcmVlKHBsYW5lKTsKKwlyZXR1cm4gRVJSX1BU
UihyZXQpOworfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2ttYi9rbWJfcGxhbmUuaCBi
L2RyaXZlcnMvZ3B1L2RybS9rbWIva21iX3BsYW5lLmgKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5k
ZXggMDAwMDAwMC4uNDhmMjM3ZgotLS0gL2Rldi9udWxsCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9r
bWIva21iX3BsYW5lLmgKQEAgLTAsMCArMSwxMjQgQEAKKy8qIFNQRFgtTGljZW5zZS1JZGVudGlm
aWVyOiBHUEwtMi4wLW9ubHkKKyAqCisgKiBDb3B5cmlnaHQgwqkgMjAxOC0yMDIwIEludGVsIENv
cnBvcmF0aW9uCisgKi8KKworI2lmbmRlZiBfX0tNQl9QTEFORV9IX18KKyNkZWZpbmUgX19LTUJf
UExBTkVfSF9fCisKKyNpbmNsdWRlICJrbWJfZHJ2LmgiCisKK2V4dGVybiBpbnQga21iX3VuZGVy
X2Zsb3c7CitleHRlcm4gaW50IGttYl9mbHVzaF9kb25lOworCisjZGVmaW5lIExDRF9JTlRfVkww
X0VSUiAoKExBWUVSMF9ETUFfRklGT19VTkRFUkZMT1cpIHwgXAorCQkJKExBWUVSMF9ETUFfRklG
T19PVkVSRkxPVykgfCBcCisJCQkoTEFZRVIwX0RNQV9DQl9GSUZPX09WRVJGTE9XKSB8IFwKKwkJ
CShMQVlFUjBfRE1BX0NCX0ZJRk9fVU5ERVJGTE9XKSB8IFwKKwkJCShMQVlFUjBfRE1BX0NSX0ZJ
Rk9fT1ZFUkZMT1cpIHwgXAorCQkJKExBWUVSMF9ETUFfQ1JfRklGT19VTkRFUkZMT1cpKQorCisj
ZGVmaW5lIExDRF9JTlRfVkwxX0VSUiAoKExBWUVSMV9ETUFfRklGT19VTkRFUkZMT1cpIHwgXAor
CQkJKExBWUVSMV9ETUFfRklGT19PVkVSRkxPVykgfCBcCisJCQkoTEFZRVIxX0RNQV9DQl9GSUZP
X09WRVJGTE9XKSB8IFwKKwkJCShMQVlFUjFfRE1BX0NCX0ZJRk9fVU5ERVJGTE9XKSB8IFwKKwkJ
CShMQVlFUjFfRE1BX0NSX0ZJRk9fT1ZFUkZMT1cpIHwgXAorCQkJKExBWUVSMV9ETUFfQ1JfRklG
T19VTkRFUkZMT1cpKQorCisjZGVmaW5lIExDRF9JTlRfR0wwX0VSUiAoTEFZRVIyX0RNQV9GSUZP
X09WRVJGTE9XIHwgTEFZRVIyX0RNQV9GSUZPX1VOREVSRkxPVykKKyNkZWZpbmUgTENEX0lOVF9H
TDFfRVJSIChMQVlFUjNfRE1BX0ZJRk9fT1ZFUkZMT1cgfCBMQVlFUjNfRE1BX0ZJRk9fVU5ERVJG
TE9XKQorI2RlZmluZSBMQ0RfSU5UX1ZMMCAoTEFZRVIwX0RNQV9ET05FIHwgTEFZRVIwX0RNQV9J
RExFIHwgTENEX0lOVF9WTDBfRVJSKQorI2RlZmluZSBMQ0RfSU5UX1ZMMSAoTEFZRVIxX0RNQV9E
T05FIHwgTEFZRVIxX0RNQV9JRExFIHwgTENEX0lOVF9WTDFfRVJSKQorI2RlZmluZSBMQ0RfSU5U
X0dMMCAoTEFZRVIyX0RNQV9ET05FIHwgTEFZRVIyX0RNQV9JRExFIHwgTENEX0lOVF9HTDBfRVJS
KQorI2RlZmluZSBMQ0RfSU5UX0dMMSAoTEFZRVIzX0RNQV9ET05FIHwgTEFZRVIzX0RNQV9JRExF
IHwgTENEX0lOVF9HTDFfRVJSKQorI2RlZmluZSBMQ0RfSU5UX0RNQV9FUlIgKExDRF9JTlRfVkww
X0VSUiB8IExDRF9JTlRfVkwxX0VSUiBcCisJCXwgTENEX0lOVF9HTDBfRVJSIHwgTENEX0lOVF9H
TDFfRVJSKQorCisjZGVmaW5lIFBPU1NJQkxFX0NSVENTIDEKKyNkZWZpbmUgSU5JVElBTElaRUQg
MQorI2RlZmluZSB0b19rbWJfcGxhbmUoeCkgY29udGFpbmVyX29mKHgsIHN0cnVjdCBrbWJfcGxh
bmUsIGJhc2VfcGxhbmUpCisKKyNkZWZpbmUgdG9fa21iX3BsYW5lX3N0YXRlKHgpIFwKKwkJY29u
dGFpbmVyX29mKHgsIHN0cnVjdCBrbWJfcGxhbmVfc3RhdGUsIGJhc2VfcGxhbmVfc3RhdGUpCisK
K2VudW0gbGF5ZXJfaWQgeworCUxBWUVSXzAsCisJTEFZRVJfMSwKKwlMQVlFUl8yLAorCUxBWUVS
XzMsCisvLwlLTUJfTUFYX1BMQU5FUywKK307CisKKyNkZWZpbmUgS01CX01BWF9QTEFORVMgMQor
CitlbnVtIHN1Yl9wbGFuZV9pZCB7CisJWV9QTEFORSwKKwlVX1BMQU5FLAorCVZfUExBTkUsCisJ
TUFYX1NVQl9QTEFORVMsCit9OworCitzdHJ1Y3Qga21iX3BsYW5lIHsKKwlzdHJ1Y3QgZHJtX3Bs
YW5lIGJhc2VfcGxhbmU7CisJc3RydWN0IGttYl9kcm1fcHJpdmF0ZSBrbWJfZGV2OworCXVuc2ln
bmVkIGNoYXIgaWQ7Cit9OworCitzdHJ1Y3Qga21iX3BsYW5lX3N0YXRlIHsKKwlzdHJ1Y3QgZHJt
X3BsYW5lX3N0YXRlIGJhc2VfcGxhbmVfc3RhdGU7CisJdW5zaWduZWQgY2hhciBub19wbGFuZXM7
Cit9OworCisvKiBHcmFwaGljcyBsYXllciAobGF5ZXJzIDIgJiAzKSBmb3JtYXRzLCBvbmx5IHBh
Y2tlZCBmb3JtYXRzICBhcmUgc3VwcG9ydGVkICovCitzdGF0aWMgY29uc3QgdTMyIGttYl9mb3Jt
YXRzX2dbXSA9IHsKKwlEUk1fRk9STUFUX1JHQjMzMiwKKwlEUk1fRk9STUFUX1hSR0I0NDQ0LCBE
Uk1fRk9STUFUX1hCR1I0NDQ0LAorCURSTV9GT1JNQVRfQVJHQjQ0NDQsIERSTV9GT1JNQVRfQUJH
UjQ0NDQsCisJRFJNX0ZPUk1BVF9YUkdCMTU1NSwgRFJNX0ZPUk1BVF9YQkdSMTU1NSwKKwlEUk1f
Rk9STUFUX0FSR0IxNTU1LCBEUk1fRk9STUFUX0FCR1IxNTU1LAorCURSTV9GT1JNQVRfUkdCNTY1
LCBEUk1fRk9STUFUX0JHUjU2NSwKKwlEUk1fRk9STUFUX1JHQjg4OCwgRFJNX0ZPUk1BVF9CR1I4
ODgsCisJRFJNX0ZPUk1BVF9YUkdCODg4OCwgRFJNX0ZPUk1BVF9YQkdSODg4OCwKKwlEUk1fRk9S
TUFUX0FSR0I4ODg4LCBEUk1fRk9STUFUX0FCR1I4ODg4LAorfTsKKworI2RlZmluZSBNQVhfRk9S
TUFUX0cJKEFSUkFZX1NJWkUoa21iX2Zvcm1hdHNfZykpCisjZGVmaW5lIE1BWF9GT1JNQVRfVgko
QVJSQVlfU0laRShrbWJfZm9ybWF0c192KSkKKworLyogVmlkZW8gbGF5ZXIgKCAwICYgMSkgZm9y
bWF0cywgcGFja2VkIGFuZCBwbGFuYXIgZm9ybWF0cyBhcmUgc3VwcG9ydGVkICovCitzdGF0aWMg
Y29uc3QgdTMyIGttYl9mb3JtYXRzX3ZbXSA9IHsKKwkvKiBwYWNrZWQgZm9ybWF0cyAqLworCURS
TV9GT1JNQVRfUkdCMzMyLAorCURSTV9GT1JNQVRfWFJHQjQ0NDQsIERSTV9GT1JNQVRfWEJHUjQ0
NDQsCisJRFJNX0ZPUk1BVF9BUkdCNDQ0NCwgRFJNX0ZPUk1BVF9BQkdSNDQ0NCwKKwlEUk1fRk9S
TUFUX1hSR0IxNTU1LCBEUk1fRk9STUFUX1hCR1IxNTU1LAorCURSTV9GT1JNQVRfQVJHQjE1NTUs
IERSTV9GT1JNQVRfQUJHUjE1NTUsCisJRFJNX0ZPUk1BVF9SR0I1NjUsIERSTV9GT1JNQVRfQkdS
NTY1LAorCURSTV9GT1JNQVRfUkdCODg4LCBEUk1fRk9STUFUX0JHUjg4OCwKKwlEUk1fRk9STUFU
X1hSR0I4ODg4LCBEUk1fRk9STUFUX1hCR1I4ODg4LAorCURSTV9GT1JNQVRfQVJHQjg4ODgsIERS
TV9GT1JNQVRfQUJHUjg4ODgsCisJLypwbGFuYXIgZm9ybWF0cyAqLworCURSTV9GT1JNQVRfWVVW
NDIwLCBEUk1fRk9STUFUX1lWVTQyMCwKKwlEUk1fRk9STUFUX1lVVjQyMiwgRFJNX0ZPUk1BVF9Z
VlU0MjIsCisJRFJNX0ZPUk1BVF9ZVVY0NDQsIERSTV9GT1JNQVRfWVZVNDQ0LAorCURSTV9GT1JN
QVRfTlYxMiwgRFJNX0ZPUk1BVF9OVjIxLAorfTsKKworLyogQ29udmVyc2lvbiAoeXV2LT5yZ2Ip
IG1hdHJpeCBmcm9tIG15cmlhZHggKi8KK3N0YXRpYyBjb25zdCB1MzIgY3NjX2NvZWZfbGNkW10g
PSB7CisJMTAyNCwgMCwgMTQzNiwKKwkxMDI0LCAtMzUyLCAtNzMxLAorCTEwMjQsIDE4MTQsIDAs
CisJLTE3OSwgMTI1LCAtMjI2Cit9OworCitzdHJ1Y3QgbGF5ZXJfc3RhdHVzIHsKKwlib29sIGRp
c2FibGU7CisJdTMyIGN0cmw7Cit9OworCitleHRlcm4gc3RydWN0IGxheWVyX3N0YXR1cyBwbGFu
ZV9zdGF0dXNbS01CX01BWF9QTEFORVNdOworCitzdHJ1Y3Qga21iX3BsYW5lICprbWJfcGxhbmVf
aW5pdChzdHJ1Y3QgZHJtX2RldmljZSAqZHJtKTsKK3ZvaWQga21iX3BsYW5lX2Rlc3Ryb3koc3Ry
dWN0IGRybV9wbGFuZSAqcGxhbmUpOworI2VuZGlmIC8qIF9fS01CX1BMQU5FX0hfXyAqLwpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2ttYi9rbWJfcmVncy5oIGIvZHJpdmVycy9ncHUvZHJt
L2ttYi9rbWJfcmVncy5oCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAuLjA4OWU0
MmQKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL2dwdS9kcm0va21iL2ttYl9yZWdzLmgKQEAg
LTAsMCArMSw3MzggQEAKKy8qIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wLW9ubHkK
KyAqCisgKiBDb3B5cmlnaHQgwqkgMjAxOC0yMDIwIEludGVsIENvcnBvcmF0aW9uCisgKi8KKwor
I2lmbmRlZiBfX0tNQl9SRUdTX0hfXworI2RlZmluZSBfX0tNQl9SRUdTX0hfXworCisjZGVmaW5l
IEVOQUJMRQkJCQkJIDEKKyNkZWZpbmUgRElTQUJMRQkJCQkJIDAKKy8qZnJvbSBEYXRhIEJvb2sg
c2VjdGlvbiAxMi41LjguMSBwYWdlIDQzMjIgKi8KKyNkZWZpbmUgQ1BSX0JBU0VfQUREUiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICgweDIwODEwMDAwKQorI2RlZmluZSBNSVBJX0JBU0VfQURE
UiAgICAgICAgICAgICAgICAgICAgICAgICAgKDB4MjA5MDAwMDApCisvKmZyb20gRGF0YSBCb29r
IHNlY3Rpb24gMTIuMTEuNi4xIHBhZ2UgNDk3MiAqLworI2RlZmluZSBMQ0RfQkFTRV9BRERSICAg
ICAgICAgICAgICAgICAgICAgICAgICAgKDB4MjA5MzAwMDApCisjZGVmaW5lIE1TU19DQU1fQkFT
RV9BRERSCQkJKE1JUElfQkFTRV9BRERSICsgMHgxMDAwMCkKKyNkZWZpbmUgTENEX01NSU9fU0la
RQkJCQkoMHgzMDAwKQorI2RlZmluZSBNSVBJX01NSU9fU0laRQkJCQkoMHg0MDAwKQorI2RlZmlu
ZSBNU1NfQ0FNX01NSU9fU0laRQkJCSgweDMwKQorCisvKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCisgKgkJ
ICAgTENEIGNvbnRyb2xsZXIgY29udHJvbCByZWdpc3RlciBkZWZpbmVzCisgKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqLworI2RlZmluZSBMQ0RfQ09OVFJPTAkJCQkoMHg0ICogMHgwMDApCisjZGVmaW5lIExD
RF9DVFJMX1BST0dSRVNTSVZFCQkJICAoMDw8MCkKKyNkZWZpbmUgTENEX0NUUkxfSU5URVJMQUNF
RAkJCSAgKDE8PDApCisjZGVmaW5lIExDRF9DVFJMX0VOQUJMRQkJCQkgICgxPDwxKQorI2RlZmlu
ZSBMQ0RfQ1RSTF9WTDFfRU5BQkxFCQkJICAoMTw8MikKKyNkZWZpbmUgTENEX0NUUkxfVkwyX0VO
QUJMRQkJCSAgKDE8PDMpCisjZGVmaW5lIExDRF9DVFJMX0dMMV9FTkFCTEUJCQkgICgxPDw0KQor
I2RlZmluZSBMQ0RfQ1RSTF9HTDJfRU5BQkxFCQkJICAoMTw8NSkKKyNkZWZpbmUgTENEX0NUUkxf
QUxQSEFfQkxFTkRfVkwxCQkgICgwPDw2KQorI2RlZmluZSBMQ0RfQ1RSTF9BTFBIQV9CTEVORF9W
TDIJCSAgKDE8PDYpCisjZGVmaW5lIExDRF9DVFJMX0FMUEhBX0JMRU5EX0dMMQkJICAoMjw8NikK
KyNkZWZpbmUgTENEX0NUUkxfQUxQSEFfQkxFTkRfR0wyCQkgICgzPDw2KQorI2RlZmluZSBMQ0Rf
Q1RSTF9BTFBIQV9UT1BfVkwxCQkJICAoMDw8OCkKKyNkZWZpbmUgTENEX0NUUkxfQUxQSEFfVE9Q
X1ZMMgkJCSAgKDE8PDgpCisjZGVmaW5lIExDRF9DVFJMX0FMUEhBX1RPUF9HTDEJCQkgICgyPDw4
KQorI2RlZmluZSBMQ0RfQ1RSTF9BTFBIQV9UT1BfR0wyCQkJICAoMzw8OCkKKyNkZWZpbmUgTENE
X0NUUkxfQUxQSEFfTUlERExFX1ZMMQkJICAoMDw8MTApCisjZGVmaW5lIExDRF9DVFJMX0FMUEhB
X01JRERMRV9WTDIJCSAgKDE8PDEwKQorI2RlZmluZSBMQ0RfQ1RSTF9BTFBIQV9NSURETEVfR0wx
CQkgICgyPDwxMCkKKyNkZWZpbmUgTENEX0NUUkxfQUxQSEFfTUlERExFX0dMMgkJICAoMzw8MTAp
CisjZGVmaW5lIExDRF9DVFJMX0FMUEhBX0JPVFRPTV9WTDEJCSAgKDA8PDEyKQorI2RlZmluZSBM
Q0RfQ1RSTF9BTFBIQV9CT1RUT01fVkwyCQkgICgxPDwxMikKKyNkZWZpbmUgTENEX0NUUkxfQUxQ
SEFfQk9UVE9NX0dMMQkJICAoMjw8MTIpCisjZGVmaW5lIExDRF9DVFJMX0FMUEhBX0JPVFRPTV9H
TDIJCSAgKDM8PDEyKQorI2RlZmluZSBMQ0RfQ1RSTF9USU1fR0VOX0VOQUJMRQkJCSAgKDE8PDE0
KQorI2RlZmluZSBMQ0RfQ1RSTF9DT05USU5VT1VTCQkJICAoMDw8MTUpCisjZGVmaW5lIExDRF9D
VFJMX09ORV9TSE9UCQkJICAoMTw8MTUpCisjZGVmaW5lIExDRF9DVFJMX1BXTTBfRU4JCQkgICgx
PDwxNikKKyNkZWZpbmUgTENEX0NUUkxfUFdNMV9FTgkJCSAgKDE8PDE3KQorI2RlZmluZSBMQ0Rf
Q1RSTF9QV00yX0VOCQkJICAoMTw8MTgpCisjZGVmaW5lIExDRF9DVFJMX09VVFBVVF9ESVNBQkxF
RAkJICAoMDw8MTkpCisjZGVmaW5lIExDRF9DVFJMX09VVFBVVF9FTkFCTEVECQkJICAoMTw8MTkp
CisjZGVmaW5lIExDRF9DVFJMX0JQT1JDSF9FTkFCTEUJCQkgICgxPDwyMSkKKyNkZWZpbmUgTENE
X0NUUkxfRlBPUkNIX0VOQUJMRQkJCSAgKDE8PDIyKQorI2RlZmluZSBMQ0RfQ1RSTF9QSVBFTElO
RV9ETUEJCQkgICgxPDwyOCkKKyNkZWZpbmUgTENEX0NUUkxfVkhTWU5DX0lETEVfTFZMCQkgICgx
PDwzMSkKKworLyppbnRlcnJ1cHRzICovCisjZGVmaW5lIExDRF9JTlRfU1RBVFVTCQkJCSgweDQg
KiAweDAwMSkKKyNkZWZpbmUgTENEX0lOVF9FT0YJCQkJICAoMTw8MCkKKyNkZWZpbmUgTENEX0lO
VF9MSU5FX0NNUAkJCSAgKDE8PDEpCisjZGVmaW5lIExDRF9JTlRfVkVSVF9DT01QCQkJICAoMTw8
MikKKyNkZWZpbmUgTEFZRVIwX0RNQV9ET05FCQkJCSAgKDE8PDMpCisjZGVmaW5lIExBWUVSMF9E
TUFfSURMRQkJCQkgICgxPDw0KQorI2RlZmluZSBMQVlFUjBfRE1BX0ZJRk9fT1ZFUkZMT1cJCSAg
KDE8PDUpCisjZGVmaW5lIExBWUVSMF9ETUFfRklGT19VTkRFUkZMT1cJCSAgKDE8PDYpCisjZGVm
aW5lIExBWUVSMF9ETUFfQ0JfRklGT19PVkVSRkxPVwkJICAoMTw8NykKKyNkZWZpbmUgTEFZRVIw
X0RNQV9DQl9GSUZPX1VOREVSRkxPVwkJICAoMTw8OCkKKyNkZWZpbmUgTEFZRVIwX0RNQV9DUl9G
SUZPX09WRVJGTE9XCQkgICgxPDw5KQorI2RlZmluZSBMQVlFUjBfRE1BX0NSX0ZJRk9fVU5ERVJG
TE9XCQkgICgxPDwxMCkKKyNkZWZpbmUgTEFZRVIxX0RNQV9ET05FCQkJCSAgKDE8PDExKQorI2Rl
ZmluZSBMQVlFUjFfRE1BX0lETEUJCQkJICAoMTw8MTIpCisjZGVmaW5lIExBWUVSMV9ETUFfRklG
T19PVkVSRkxPVwkJICAoMTw8MTMpCisjZGVmaW5lIExBWUVSMV9ETUFfRklGT19VTkRFUkZMT1cJ
CSAgKDE8PDE0KQorI2RlZmluZSBMQVlFUjFfRE1BX0NCX0ZJRk9fT1ZFUkZMT1cJCSAgKDE8PDE1
KQorI2RlZmluZSBMQVlFUjFfRE1BX0NCX0ZJRk9fVU5ERVJGTE9XCQkgICgxPDwxNikKKyNkZWZp
bmUgTEFZRVIxX0RNQV9DUl9GSUZPX09WRVJGTE9XCQkgICgxPDwxNykKKyNkZWZpbmUgTEFZRVIx
X0RNQV9DUl9GSUZPX1VOREVSRkxPVwkJICAoMTw8MTgpCisjZGVmaW5lIExBWUVSMl9ETUFfRE9O
RQkJCQkgICgxPDwxOSkKKyNkZWZpbmUgTEFZRVIyX0RNQV9JRExFCQkJCSAgKDE8PDIwKQorI2Rl
ZmluZSBMQVlFUjJfRE1BX0ZJRk9fT1ZFUkZMT1cJCSAgKDE8PDIxKQorI2RlZmluZSBMQVlFUjJf
RE1BX0ZJRk9fVU5ERVJGTE9XCQkgICgxPDwyMikKKyNkZWZpbmUgTEFZRVIzX0RNQV9ET05FCQkJ
CSAgKDE8PDIzKQorI2RlZmluZSBMQVlFUjNfRE1BX0lETEUJCQkJICAoMTw8MjQpCisjZGVmaW5l
IExBWUVSM19ETUFfRklGT19PVkVSRkxPVwkJICAoMTw8MjUpCisjZGVmaW5lIExBWUVSM19ETUFf
RklGT19VTkRFUkZMT1cJCSAgKDE8PDI2KQorI2RlZmluZSBMQ0RfSU5UX0xBWUVSCQkJCSAgKDB4
MDdmZmZmZjgpCisjZGVmaW5lIExDRF9JTlRfRU5BQkxFCQkJCSgweDQgKiAweDAwMikKKyNkZWZp
bmUgTENEX0lOVF9DTEVBUgkJCQkoMHg0ICogMHgwMDMpCisjZGVmaW5lIExDRF9MSU5FX0NPVU5U
CQkJCSgweDQgKiAweDAwNCkKKyNkZWZpbmUgTENEX0xJTkVfQ09NUEFSRQkJCSgweDQgKiAweDAw
NSkKKyNkZWZpbmUgTENEX1ZTVEFUVVMJCQkJKDB4NCAqIDB4MDA2KQorCisvKkxDRF9WU1RBVFVT
X0NPTVBBUkUgVmVydGNhbCBpbnRlcnZhbCBpbiB3aGljaCB0byBnZW5lcmF0ZSB2ZXJ0Y2FsCisg
KiBpbnRlcnZhbCBpbnRlcnJ1cHQKKyAqLworLyogQklUUyAxMyBhbmQgMTQgKi8KKyNkZWZpbmUg
TENEX1ZTVEFUVVNfQ09NUEFSRQkJCSgweDQgKiAweDAwNykKKyNkZWZpbmUgTENEX1ZTVEFUVVNf
VkVSVElDQUxfU1RBVFVTX01BU0sJICAoMzw8MTMpCisjZGVmaW5lIExDRF9WU1RBVFVTX0NPTVBB
UkVfVlNZTkMJCSAgKDA8PDEzKQorI2RlZmluZSBMQ0RfVlNUQVRVU19DT01QQVJFX0JBQ0tQT1JD
SAkJICAoMTw8MTMpCisjZGVmaW5lIExDRF9WU1RBVFVTX0NPTVBBUkVfQUNUSVZFCQkgICgyPDwx
MykKKyNkZWZpbmUgTENEX1ZTVEFUVVNfQ09NUEFSRV9GUk9OVF9QT1JDSAkJICAoMzw8MTMpCisK
KyNkZWZpbmUgTENEX1NDUkVFTl9XSURUSAkJCSgweDQgKiAweDAwOCkKKyNkZWZpbmUgTENEX1ND
UkVFTl9IRUlHSFQJCQkoMHg0ICogMHgwMDkpCisjZGVmaW5lIExDRF9GSUVMRF9JTlRfQ0ZHCQkJ
KDB4NCAqIDB4MDBhKQorI2RlZmluZSBMQ0RfRklGT19GTFVTSAkJCQkoMHg0ICogMHgwMGIpCisj
ZGVmaW5lIExDRF9CR19DT0xPVVJfTFMJCQkoMHg0ICogMHgwMGMpCisjZGVmaW5lIExDRF9CR19D
T0xPVVJfTVMJCQkoMHg0ICogMHgwMGQpCisjZGVmaW5lIExDRF9SQU1fQ0ZHCQkJICAgICAgICAo
MHg0ICogMHgwMGUpCisKKy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCisgKgkJICAgTENEIGNvbnRyb2xs
ZXIgTGF5ZXIgY29uZmlnIHJlZ2lzdGVyCisgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgorICovCisjZGVm
aW5lIExDRF9MQVlFUjBfQ0ZHCQkgICAgICAgICgweDQgKiAweDEwMCkKKyNkZWZpbmUgTENEX0xB
WUVSbl9DRkcoTikJCQkoTENEX0xBWUVSMF9DRkcgKyAoMHg0MDAqTikpCisjZGVmaW5lIExDRF9M
QVlFUl9TQ0FMRV9ICQkJICAoMTw8MSkKKyNkZWZpbmUgTENEX0xBWUVSX1NDQUxFX1YJCQkgICgx
PDwyKQorI2RlZmluZSBMQ0RfTEFZRVJfU0NBTEVfSF9WCQkJICAoTENEX0xBWUVSX1NDQUxFX0gg
fCBcCisJCQkJCQkJTENEX0xBWUVSX1NDQUxFX1YpCisjZGVmaW5lIExDRF9MQVlFUl9DU0NfRU4J
CQkgICgxPDwzKQorI2RlZmluZSBMQ0RfTEFZRVJfQUxQSEFfU1RBVElDCQkJICAoMTw8NCkKKyNk
ZWZpbmUgTENEX0xBWUVSX0FMUEhBX0VNQkVECQkJICAoMTw8NSkKKyNkZWZpbmUgTENEX0xBWUVS
X0FMUEhBX0NPTUJJCQkJICAoTENEX0xBWUVSX0FMUEhBX1NUQVRJQyB8IFwKKwkJCQkJCQlMQ0Rf
TEFZRVJfQUxQSEFfRU1CRUQpCisvKiBSR0IgbXVsdGlwbGllZCB3aXRoIGFscGhhICovCisjZGVm
aW5lIExDRF9MQVlFUl9BTFBIQV9QUkVNVUxUCQkJICAoMTw8NikKKyNkZWZpbmUgTENEX0xBWUVS
X0lOVkVSVF9DT0wJCQkgICgxPDw3KQorI2RlZmluZSBMQ0RfTEFZRVJfVFJBTlNQQVJFTlRfRU4J
CSAgKDE8PDgpCisjZGVmaW5lIExDRF9MQVlFUl9GT1JNQVRfWUNCQ1I0NDRQTEFOCQkgICgwPDw5
KQorI2RlZmluZSBMQ0RfTEFZRVJfRk9STUFUX1lDQkNSNDIyUExBTgkJICAoMTw8OSkKKyNkZWZp
bmUgTENEX0xBWUVSX0ZPUk1BVF9ZQ0JDUjQyMFBMQU4JCSAgKDI8PDkpCisjZGVmaW5lIExDRF9M
QVlFUl9GT1JNQVRfUkdCODg4UExBTgkJICAoMzw8OSkKKyNkZWZpbmUgTENEX0xBWUVSX0ZPUk1B
VF9ZQ0JDUjQ0NExJTgkJICAoNDw8OSkKKyNkZWZpbmUgTENEX0xBWUVSX0ZPUk1BVF9ZQ0JDUjQy
MkxJTgkJICAoNTw8OSkKKyNkZWZpbmUgTENEX0xBWUVSX0ZPUk1BVF9SR0I4ODgJCQkgICg2PDw5
KQorI2RlZmluZSBMQ0RfTEFZRVJfRk9STUFUX1JHQkE4ODg4CQkgICg3PDw5KQorI2RlZmluZSBM
Q0RfTEFZRVJfRk9STUFUX1JHQlg4ODg4CQkgICg4PDw5KQorI2RlZmluZSBMQ0RfTEFZRVJfRk9S
TUFUX1JHQjU2NQkJCSAgKDk8PDkpCisjZGVmaW5lIExDRF9MQVlFUl9GT1JNQVRfUkdCQTE1NTUJ
CSAgKDB4YTw8OSkKKyNkZWZpbmUgTENEX0xBWUVSX0ZPUk1BVF9YUkdCMTU1NQkJICAoMHhiPDw5
KQorI2RlZmluZSBMQ0RfTEFZRVJfRk9STUFUX1JHQjQ0NAkJCSAgKDB4Yzw8OSkKKyNkZWZpbmUg
TENEX0xBWUVSX0ZPUk1BVF9SR0JBNDQ0NAkJICAoMHhkPDw5KQorI2RlZmluZSBMQ0RfTEFZRVJf
Rk9STUFUX1JHQlg0NDQ0CQkgICgweGU8PDkpCisjZGVmaW5lIExDRF9MQVlFUl9GT1JNQVRfUkdC
MzMyCQkJICAoMHhmPDw5KQorI2RlZmluZSBMQ0RfTEFZRVJfRk9STUFUX1JHQkEzMzI4CQkgICgw
eDEwPDw5KQorI2RlZmluZSBMQ0RfTEFZRVJfRk9STUFUX1JHQlgzMzI4CQkgICgweDExPDw5KQor
I2RlZmluZSBMQ0RfTEFZRVJfRk9STUFUX0NMVVQJCQkgICgweDEyPDw5KQorI2RlZmluZSBMQ0Rf
TEFZRVJfRk9STUFUX05WMTIJCQkgICgweDFjPDw5KQorI2RlZmluZSBMQ0RfTEFZRVJfUExBTkFS
X1NUT1JBR0UJCSAgKDE8PDE0KQorI2RlZmluZSBMQ0RfTEFZRVJfOEJQUAkJCQkgICgwPDwxNSkK
KyNkZWZpbmUgTENEX0xBWUVSXzE2QlBQCQkJCSAgKDE8PDE1KQorI2RlZmluZSBMQ0RfTEFZRVJf
MjRCUFAJCQkJICAoMjw8MTUpCisjZGVmaW5lIExDRF9MQVlFUl8zMkJQUAkJCQkgICgzPDwxNSkK
KyNkZWZpbmUgTENEX0xBWUVSX1lfT1JERVIJCQkgICgxPDwxNykKKyNkZWZpbmUgTENEX0xBWUVS
X0NSQ0JfT1JERVIJCQkgICgxPDwxOCkKKyNkZWZpbmUgTENEX0xBWUVSX0JHUl9PUkRFUgkJCSAg
KDE8PDE5KQorI2RlZmluZSBMQ0RfTEFZRVJfTFVUXzJFTlQJCQkgICgwPDwyMCkKKyNkZWZpbmUg
TENEX0xBWUVSX0xVVF80RU5UCQkJICAoMTw8MjApCisjZGVmaW5lIExDRF9MQVlFUl9MVVRfMTZF
TlQJCQkgICgyPDwyMCkKKyNkZWZpbmUgTENEX0xBWUVSX05PX0ZMSVAJCQkgICgwPDwyMikKKyNk
ZWZpbmUgTENEX0xBWUVSX0ZMSVBfVgkJCSAgKDE8PDIyKQorI2RlZmluZSBMQ0RfTEFZRVJfRkxJ
UF9ICQkJICAoMjw8MjIpCisjZGVmaW5lIExDRF9MQVlFUl9ST1RfUjkwCQkJICAoMzw8MjIpCisj
ZGVmaW5lIExDRF9MQVlFUl9ST1RfTDkwCQkJICAoNDw8MjIpCisjZGVmaW5lIExDRF9MQVlFUl9S
T1RfMTgwCQkJICAoNTw8MjIpCisjZGVmaW5lIExDRF9MQVlFUl9GSUZPXzAwCQkJICAoMDw8MjUp
CisjZGVmaW5lIExDRF9MQVlFUl9GSUZPXzI1CQkJICAoMTw8MjUpCisjZGVmaW5lIExDRF9MQVlF
Ul9GSUZPXzUwCQkJICAoMjw8MjUpCisjZGVmaW5lIExDRF9MQVlFUl9GSUZPXzEwMAkJCSAgKDM8
PDI1KQorI2RlZmluZSBMQ0RfTEFZRVJfSU5URVJMRUFWRV9ESVMJCSAgKDA8PDI3KQorI2RlZmlu
ZSBMQ0RfTEFZRVJfSU5URVJMRUFWRV9WCQkJICAoMTw8MjcpCisjZGVmaW5lIExDRF9MQVlFUl9J
TlRFUkxFQVZFX0gJCQkgICgyPDwyNykKKyNkZWZpbmUgTENEX0xBWUVSX0lOVEVSTEVBVkVfQ0gJ
CQkgICgzPDwyNykKKyNkZWZpbmUgTENEX0xBWUVSX0lOVEVSTEVBVkVfVl9TVUIJCSAgKDQ8PDI3
KQorI2RlZmluZSBMQ0RfTEFZRVJfSU5URVJMRUFWRV9IX1NVQgkJICAoNTw8MjcpCisjZGVmaW5l
IExDRF9MQVlFUl9JTlRFUkxFQVZFX0NIX1NVQgkJICAoNjw8MjcpCisjZGVmaW5lIExDRF9MQVlF
Ul9JTlRFUl9QT1NfRVZFTgkJICAoMDw8MzApCisjZGVmaW5lIExDRF9MQVlFUl9JTlRFUl9QT1Nf
T0RECQkJICAoMTw8MzApCisKKyNkZWZpbmUgTENEX0xBWUVSMF9DT0xfU1RBUlQJCSgweDQgKiAw
eDEwMSkKKyNkZWZpbmUgTENEX0xBWUVSbl9DT0xfU1RBUlQoTikJCShMQ0RfTEFZRVIwX0NPTF9T
VEFSVCArICgweDQwMCpOKSkKKyNkZWZpbmUgTENEX0xBWUVSMF9ST1dfU1RBUlQJCSgweDQgKiAw
eDEwMikKKyNkZWZpbmUgTENEX0xBWUVSbl9ST1dfU1RBUlQoTikJCShMQ0RfTEFZRVIwX1JPV19T
VEFSVCArICgweDQwMCpOKSkKKyNkZWZpbmUgTENEX0xBWUVSMF9XSURUSAkJKDB4NCAqIDB4MTAz
KQorI2RlZmluZSBMQ0RfTEFZRVJuX1dJRFRIKE4pCQkoTENEX0xBWUVSMF9XSURUSCArICgweDQw
MCpOKSkKKyNkZWZpbmUgTENEX0xBWUVSMF9IRUlHSFQJCSgweDQgKiAweDEwNCkKKyNkZWZpbmUg
TENEX0xBWUVSbl9IRUlHSFQoTikJCShMQ0RfTEFZRVIwX0hFSUdIVCArICgweDQwMCpOKSkKKyNk
ZWZpbmUgTENEX0xBWUVSMF9TQ0FMRV9DRkcJCSgweDQgKiAweDEwNSkKKyNkZWZpbmUgTENEX0xB
WUVSbl9TQ0FMRV9DRkcoTikJCShMQ0RfTEFZRVIwX1NDQUxFX0NGRyArICgweDQwMCpOKSkKKyNk
ZWZpbmUgTENEX0xBWUVSMF9BTFBIQQkJKDB4NCAqIDB4MTA2KQorI2RlZmluZSBMQ0RfTEFZRVJu
X0FMUEhBKE4pCQkoTENEX0xBWUVSMF9BTFBIQSArICgweDQwMCpOKSkKKyNkZWZpbmUgTENEX0xB
WUVSMF9JTlZfQ09MT1VSX0xTCSgweDQgKiAweDEwNykKKyNkZWZpbmUgTENEX0xBWUVSbl9JTlZf
Q09MT1VSX0xTKE4pCShMQ0RfTEFZRVIwX0lOVl9DT0xPVVJfTFMgKyAoMHg0MDAqTikpCisjZGVm
aW5lIExDRF9MQVlFUjBfSU5WX0NPTE9VUl9NUwkoMHg0ICogMHgxMDgpCisjZGVmaW5lIExDRF9M
QVlFUm5fSU5WX0NPTE9VUl9NUyhOKQkoTENEX0xBWUVSMF9JTlZfQ09MT1VSX01TICsgKDB4NDAw
Kk4pKQorI2RlZmluZSBMQ0RfTEFZRVIwX1RSQU5TX0NPTE9VUl9MUwkoMHg0ICogMHgxMDkpCisj
ZGVmaW5lIExDRF9MQVlFUm5fVFJBTlNfQ09MT1VSX0xTKE4pCShMQ0RfTEFZRVIwX1RSQU5TX0NP
TE9VUl9MUyArICgweDQwMCpOKSkKKyNkZWZpbmUgTENEX0xBWUVSMF9UUkFOU19DT0xPVVJfTVMJ
KDB4NCAqIDB4MTBhKQorI2RlZmluZSBMQ0RfTEFZRVJuX1RSQU5TX0NPTE9VUl9NUyhOKQkoTENE
X0xBWUVSMF9UUkFOU19DT0xPVVJfTVMgKyAoMHg0MDAqTikpCisjZGVmaW5lIExDRF9MQVlFUjBf
Q1NDX0NPRUZGMTEJCSgweDQgKiAweDEwYikKKyNkZWZpbmUgTENEX0xBWUVSbl9DU0NfQ09FRkYx
MShOKQkoTENEX0xBWUVSMF9DU0NfQ09FRkYxMSArICgweDQwMCpOKSkKKyNkZWZpbmUgTENEX0xB
WUVSMF9DU0NfQ09FRkYxMgkJKDB4NCAqIDB4MTBjKQorI2RlZmluZSBMQ0RfTEFZRVJuX0NTQ19D
T0VGRjEyKE4pCShMQ0RfTEFZRVIwX0NTQ19DT0VGRjEyICsgKDB4NDAwKk4pKQorI2RlZmluZSBM
Q0RfTEFZRVIwX0NTQ19DT0VGRjEzCQkoMHg0ICogMHgxMGQpCisjZGVmaW5lIExDRF9MQVlFUm5f
Q1NDX0NPRUZGMTMoTikJKExDRF9MQVlFUjBfQ1NDX0NPRUZGMTMgKyAoMHg0MDAqTikpCisjZGVm
aW5lIExDRF9MQVlFUjBfQ1NDX0NPRUZGMjEJCSgweDQgKiAweDEwZSkKKyNkZWZpbmUgTENEX0xB
WUVSbl9DU0NfQ09FRkYyMShOKQkoTENEX0xBWUVSMF9DU0NfQ09FRkYyMSArICgweDQwMCpOKSkK
KyNkZWZpbmUgTENEX0xBWUVSMF9DU0NfQ09FRkYyMgkJKDB4NCAqIDB4MTBmKQorI2RlZmluZSBM
Q0RfTEFZRVJuX0NTQ19DT0VGRjIyKE4pCShMQ0RfTEFZRVIwX0NTQ19DT0VGRjIyICsgKDB4NDAw
Kk4pKQorI2RlZmluZSBMQ0RfTEFZRVIwX0NTQ19DT0VGRjIzCQkoMHg0ICogMHgxMTApCisjZGVm
aW5lIExDRF9MQVlFUm5fQ1NDX0NPRUZGMjMoTikJKExDRF9MQVlFUjBfQ1NDX0NPRUZGMjMgKyAo
MHg0MDAqTikpCisjZGVmaW5lIExDRF9MQVlFUjBfQ1NDX0NPRUZGMzEJCSgweDQgKiAweDExMSkK
KyNkZWZpbmUgTENEX0xBWUVSbl9DU0NfQ09FRkYzMShOKQkoTENEX0xBWUVSMF9DU0NfQ09FRkYz
MSArICgweDQwMCpOKSkKKyNkZWZpbmUgTENEX0xBWUVSMF9DU0NfQ09FRkYzMgkJKDB4NCAqIDB4
MTEyKQorI2RlZmluZSBMQ0RfTEFZRVJuX0NTQ19DT0VGRjMyKE4pCSAgKExDRF9MQVlFUjBfQ1ND
X0NPRUZGMzIgKyAoMHg0MDAqTikpCisjZGVmaW5lIExDRF9MQVlFUjBfQ1NDX0NPRUZGMzMJCSgw
eDQgKiAweDExMykKKyNkZWZpbmUgTENEX0xBWUVSbl9DU0NfQ09FRkYzMyhOKQkoTENEX0xBWUVS
MF9DU0NfQ09FRkYzMyArICgweDQwMCpOKSkKKyNkZWZpbmUgTENEX0xBWUVSMF9DU0NfT0ZGMQkJ
KDB4NCAqIDB4MTE0KQorI2RlZmluZSBMQ0RfTEFZRVJuX0NTQ19PRkYxKE4pCQkoTENEX0xBWUVS
MF9DU0NfT0ZGMSArICgweDQwMCpOKSkKKyNkZWZpbmUgTENEX0xBWUVSMF9DU0NfT0ZGMgkJKDB4
NCAqIDB4MTE1KQorI2RlZmluZSBMQ0RfTEFZRVJuX0NTQ19PRkYyKE4pCQkoTENEX0xBWUVSMF9D
U0NfT0ZGMiArICgweDQwMCpOKSkKKyNkZWZpbmUgTENEX0xBWUVSMF9DU0NfT0ZGMwkJKDB4NCAq
IDB4MTE2KQorI2RlZmluZSBMQ0RfTEFZRVJuX0NTQ19PRkYzKE4pCQkoTENEX0xBWUVSMF9DU0Nf
T0ZGMyArICgweDQwMCpOKSkKKworLyogIExDRCBjb250cm9sbGVyIExheWVyIERNQSBjb25maWcg
cmVnaXN0ZXIgKi8KKyNkZWZpbmUgTENEX0xBWUVSMF9ETUFfQ0ZHCQkJKDB4NCAqIDB4MTE3KQor
I2RlZmluZSBMQ0RfTEFZRVJuX0RNQV9DRkcoTikJCQkoTENEX0xBWUVSMF9ETUFfQ0ZHICsgKDB4
NDAwKk4pKQorI2RlZmluZSBMQ0RfRE1BX0xBWUVSX0VOQUJMRQkJCSAgKDE8PDApCisjZGVmaW5l
IExDRF9ETUFfTEFZRVJfU1RBVFVTCQkJICAoMTw8MSkKKyNkZWZpbmUgTENEX0RNQV9MQVlFUl9B
VVRPX1VQREFURQkJICAoMTw8MikKKyNkZWZpbmUgTENEX0RNQV9MQVlFUl9DT05UX1VQREFURQkJ
ICAoMTw8MykKKyNkZWZpbmUgTENEX0RNQV9MQVlFUl9DT05UX1BJTkdfUE9OR19VUERBVEUJICAo
TENEX0RNQV9MQVlFUl9BVVRPX1VQREFURSBcCisJCQkJCQl8IExDRF9ETUFfTEFZRVJfQ09OVF9V
UERBVEUpCisjZGVmaW5lIExDRF9ETUFfTEFZRVJfRklGT19BRFJfTU9ERQkJICAoMTw8NCkKKyNk
ZWZpbmUgTENEX0RNQV9MQVlFUl9BWElfQlVSU1RfMQkJICAoMTw8NSkKKyNkZWZpbmUgTENEX0RN
QV9MQVlFUl9BWElfQlVSU1RfMgkJICAoMjw8NSkKKyNkZWZpbmUgTENEX0RNQV9MQVlFUl9BWElf
QlVSU1RfMwkJICAoMzw8NSkKKyNkZWZpbmUgTENEX0RNQV9MQVlFUl9BWElfQlVSU1RfNAkJICAo
NDw8NSkKKyNkZWZpbmUgTENEX0RNQV9MQVlFUl9BWElfQlVSU1RfNQkJICAoNTw8NSkKKyNkZWZp
bmUgTENEX0RNQV9MQVlFUl9BWElfQlVSU1RfNgkJICAoNjw8NSkKKyNkZWZpbmUgTENEX0RNQV9M
QVlFUl9BWElfQlVSU1RfNwkJICAoNzw8NSkKKyNkZWZpbmUgTENEX0RNQV9MQVlFUl9BWElfQlVS
U1RfOAkJICAoODw8NSkKKyNkZWZpbmUgTENEX0RNQV9MQVlFUl9BWElfQlVSU1RfOQkJICAoOTw8
NSkKKyNkZWZpbmUgTENEX0RNQV9MQVlFUl9BWElfQlVSU1RfMTAJCSAgKDB4YTw8NSkKKyNkZWZp
bmUgTENEX0RNQV9MQVlFUl9BWElfQlVSU1RfMTEJCSAgKDB4Yjw8NSkKKyNkZWZpbmUgTENEX0RN
QV9MQVlFUl9BWElfQlVSU1RfMTIJCSAgKDB4Yzw8NSkKKyNkZWZpbmUgTENEX0RNQV9MQVlFUl9B
WElfQlVSU1RfMTMJCSAgKDB4ZDw8NSkKKyNkZWZpbmUgTENEX0RNQV9MQVlFUl9BWElfQlVSU1Rf
MTQJCSAgKDB4ZTw8NSkKKyNkZWZpbmUgTENEX0RNQV9MQVlFUl9BWElfQlVSU1RfMTUJCSAgKDB4
Zjw8NSkKKyNkZWZpbmUgTENEX0RNQV9MQVlFUl9BWElfQlVSU1RfMTYJCSAgKDB4MTA8PDUpCisj
ZGVmaW5lIExDRF9ETUFfTEFZRVJfVlNUUklERV9FTgkJICAoMTw8MTApCisKKyNkZWZpbmUgTENE
X0xBWUVSMF9ETUFfU1RBUlRfQURSCQkoMHg0ICogMHgxMTgpCisjZGVmaW5lIExDRF9MQVlFUm5f
RE1BX1NUQVJUX0FERFIoTikJCShMQ0RfTEFZRVIwX0RNQV9TVEFSVF9BRFIgXAorCQkJCQkJKyAo
MHg0MDAqTikpCisjZGVmaW5lIExDRF9MQVlFUjBfRE1BX1NUQVJUX1NIQURPVwkJKDB4NCAqIDB4
MTE5KQorI2RlZmluZSBMQ0RfTEFZRVJuX0RNQV9TVEFSVF9TSEFET1coTikJCShMQ0RfTEFZRVIw
X0RNQV9TVEFSVF9TSEFET1cgXAorCQkJCQkJKyAoMHg0MDAqTikpCisjZGVmaW5lIExDRF9MQVlF
UjBfRE1BX0xFTgkJCSgweDQgKiAweDExYSkKKyNkZWZpbmUgTENEX0xBWUVSbl9ETUFfTEVOKE4p
CQkJKExDRF9MQVlFUjBfRE1BX0xFTiArIFwKKwkJCQkJCSgweDQwMCpOKSkKKyNkZWZpbmUgTENE
X0xBWUVSMF9ETUFfTEVOX1NIQURPVwkJKDB4NCAqIDB4MTFiKQorI2RlZmluZSBMQ0RfTEFZRVJu
X0RNQV9MRU5fU0hBRE9XKE4pCQkoTENEX0xBWUVSMF9ETUFfTEVOX1NIQURPVyArIFwKKwkJCQkJ
CSgweDQwMCpOKSkKKyNkZWZpbmUgTENEX0xBWUVSMF9ETUFfU1RBVFVTCQkJKDB4NCAqIDB4MTFj
KQorI2RlZmluZSBMQ0RfTEFZRVJuX0RNQV9TVEFUVVMoTikJCShMQ0RfTEFZRVIwX0RNQV9TVEFU
VVMgKyBcCisJCQkJCQkoMHg0MDAqTikpCisjZGVmaW5lIExDRF9MQVlFUjBfRE1BX0xJTkVfV0lE
VEgJCSgweDQgKiAweDExZCkKKyNkZWZpbmUgTENEX0xBWUVSbl9ETUFfTElORV9XSURUSChOKQkJ
KExDRF9MQVlFUjBfRE1BX0xJTkVfV0lEVEggKyBcCisJCQkJCQkoMHg0MDAqTikpCisjZGVmaW5l
IExDRF9MQVlFUjBfRE1BX0xJTkVfVlNUUklERQkJKDB4NCAqIDB4MTFlKQorI2RlZmluZSBMQ0Rf
TEFZRVJuX0RNQV9MSU5FX1ZTVFJJREUoTikJCShMQ0RfTEFZRVIwX0RNQV9MSU5FX1ZTVFJJREUg
K1wKKwkJCQkJCSgweDQwMCpOKSkKKyNkZWZpbmUgTENEX0xBWUVSMF9ETUFfRklGT19TVEFUVVMJ
CSgweDQgKiAweDExZikKKyNkZWZpbmUgTENEX0xBWUVSbl9ETUFfRklGT19TVEFUVVMoTikJCShM
Q0RfTEFZRVIwX0RNQV9GSUZPX1NUQVRVUyArIFwKKwkJCQkJCSgweDQwMCpOKSkKKyNkZWZpbmUg
TENEX0xBWUVSMF9DRkcyCQkJCSgweDQgKiAweDEyMCkKKyNkZWZpbmUgTENEX0xBWUVSbl9DRkcy
KE4pCQkJKExDRF9MQVlFUjBfQ0ZHMiArICgweDQwMCpOKSkKKyNkZWZpbmUgTENEX0xBWUVSMF9E
TUFfU1RBUlRfQ0JfQURSCQkoMHg0ICogMHg3MDApCisjZGVmaW5lIExDRF9MQVlFUm5fRE1BX1NU
QVJUX0NCX0FEUihOKQkJKExDRF9MQVlFUjBfRE1BX1NUQVJUX0NCX0FEUiArIFwKKwkJCQkJCSgw
eDIwKk4pKQorI2RlZmluZSBMQ0RfTEFZRVIwX0RNQV9TVEFSVF9DQl9TSEFET1cJCSgweDQgKiAw
eDcwMSkKKyNkZWZpbmUgTENEX0xBWUVSbl9ETUFfU1RBUlRfQ0JfU0hBRE9XKE4pCShMQ0RfTEFZ
RVIwX0RNQV9TVEFSVF9DQl9TSEFET1dcCisJCQkJCQkrICgweDIwKk4pKQorI2RlZmluZSBMQ0Rf
TEFZRVIwX0RNQV9DQl9MSU5FX1dJRFRICQkoMHg0ICogMHg3MDIpCisjZGVmaW5lIExDRF9MQVlF
Um5fRE1BX0NCX0xJTkVfV0lEVEgoTikJCShMQ0RfTEFZRVIwX0RNQV9DQl9MSU5FX1dJRFRIICtc
CisJCQkJCQkoMHgyMCpOKSkKKyNkZWZpbmUgTENEX0xBWUVSMF9ETUFfQ0JfTElORV9WU1RSSURF
CQkoMHg0ICogMHg3MDMpCisjZGVmaW5lIExDRF9MQVlFUm5fRE1BX0NCX0xJTkVfVlNUUklERShO
KQkoTENEX0xBWUVSMF9ETUFfQ0JfTElORV9WU1RSSURFXAorCQkJCQkJKyAoMHgyMCpOKSkKKyNk
ZWZpbmUgTENEX0xBWUVSMF9ETUFfU1RBUlRfQ1JfQURSCQkoMHg0ICogMHg3MDQpCisjZGVmaW5l
IExDRF9MQVlFUm5fRE1BX1NUQVJUX0NSX0FEUihOKQkJKExDRF9MQVlFUjBfRE1BX1NUQVJUX0NS
X0FEUiArIFwKKwkJCQkJCSgweDIwKk4pKQorI2RlZmluZSBMQ0RfTEFZRVIwX0RNQV9TVEFSVF9D
Ul9TSEFET1cJCSgweDQgKiAweDcwNSkKKyNkZWZpbmUgTENEX0xBWUVSbl9ETUFfU1RBUlRfQ1Jf
U0hBRE9XKE4pCVwKKwkJCQkJCShMQ0RfTEFZRVIwX0RNQV9TVEFSVF9DUl9TSEFET1dcCisJCQkJ
CQkgKyAoMHgyMCpOKSkKKyNkZWZpbmUgTENEX0xBWUVSMF9ETUFfQ1JfTElORV9XSURUSAkJKDB4
NCAqIDB4NzA2KQorI2RlZmluZSBMQ0RfTEFZRVJuX0RNQV9DUl9MSU5FX1dJRFRIKE4pCQkoTENE
X0xBWUVSMF9ETUFfQ1JfTElORV9XSURUSCArXAorCQkJCQkJKDB4MjAqTikpCisjZGVmaW5lIExD
RF9MQVlFUjBfRE1BX0NSX0xJTkVfVlNUUklERQkJKDB4NCAqIDB4NzA3KQorI2RlZmluZSBMQ0Rf
TEFZRVJuX0RNQV9DUl9MSU5FX1ZTVFJJREUoTikJKExDRF9MQVlFUjBfRE1BX0NSX0xJTkVfVlNU
UklERVwKKwkJCQkJCSsgKDB4MjAqTikpCisjZGVmaW5lIExDRF9MQVlFUjFfRE1BX1NUQVJUX0NC
X0FEUgkJKDB4NCAqIDB4NzA4KQorI2RlZmluZSBMQ0RfTEFZRVIxX0RNQV9TVEFSVF9DQl9TSEFE
T1cJCSgweDQgKiAweDcwOSkKKyNkZWZpbmUgTENEX0xBWUVSMV9ETUFfQ0JfTElORV9XSURUSAkJ
KDB4NCAqIDB4NzBhKQorI2RlZmluZSBMQ0RfTEFZRVIxX0RNQV9DQl9MSU5FX1ZTVFJJREUJCSgw
eDQgKiAweDcwYikKKyNkZWZpbmUgTENEX0xBWUVSMV9ETUFfU1RBUlRfQ1JfQURSCQkoMHg0ICog
MHg3MGMpCisjZGVmaW5lIExDRF9MQVlFUjFfRE1BX1NUQVJUX0NSX1NIQURPVwkJKDB4NCAqIDB4
NzBkKQorI2RlZmluZSBMQ0RfTEFZRVIxX0RNQV9DUl9MSU5FX1dJRFRICQkoMHg0ICogMHg3MGUp
CisjZGVmaW5lIExDRF9MQVlFUjFfRE1BX0NSX0xJTkVfVlNUUklERQkJKDB4NCAqIDB4NzBmKQor
CisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKgorICoJCSAgIExDRCBjb250cm9sbGVyIG91dHB1dCBmb3Jt
YXQgcmVnaXN0ZXIgZGVmaW5lcworICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCisjZGVmaW5lIExDRF9P
VVRfRk9STUFUX0NGRwkJCSgweDQgKiAweDgwMCkKKyNkZWZpbmUgTENEX09VVEZfRk9STUFUX1JH
QjEyMTIxMiAgICAgICAgICAgICAgICAgKDB4MDApCisjZGVmaW5lIExDRF9PVVRGX0ZPUk1BVF9S
R0IxMDEwMTAgICAgICAgICAgICAgICAgICgweDAxKQorI2RlZmluZSBMQ0RfT1VURl9GT1JNQVRf
UkdCODg4ICAgICAgICAgICAgICAgICAgICAoMHgwMikKKyNkZWZpbmUgTENEX09VVEZfRk9STUFU
X1JHQjY2NiAgICAgICAgICAgICAgICAgICAgKDB4MDMpCisjZGVmaW5lIExDRF9PVVRGX0ZPUk1B
VF9SR0I1NjUgICAgICAgICAgICAgICAgICAgICgweDA0KQorI2RlZmluZSBMQ0RfT1VURl9GT1JN
QVRfUkdCNDQ0ICAgICAgICAgICAgICAgICAgICAoMHgwNSkKKyNkZWZpbmUgTENEX09VVEZfRk9S
TUFUX01SR0IxMjEyMTIgICAgICAgICAgICAgICAgKDB4MTApCisjZGVmaW5lIExDRF9PVVRGX0ZP
Uk1BVF9NUkdCMTAxMDEwICAgICAgICAgICAgICAgICgweDExKQorI2RlZmluZSBMQ0RfT1VURl9G
T1JNQVRfTVJHQjg4OCAgICAgICAgICAgICAgICAgICAoMHgxMikKKyNkZWZpbmUgTENEX09VVEZf
Rk9STUFUX01SR0I2NjYgICAgICAgICAgICAgICAgICAgKDB4MTMpCisjZGVmaW5lIExDRF9PVVRG
X0ZPUk1BVF9NUkdCNTY1ICAgICAgICAgICAgICAgICAgICgweDE0KQorI2RlZmluZSBMQ0RfT1VU
Rl9GT1JNQVRfWUNCQ1I0MjBfOEJfTEVHQUNZICAgICAgICAoMHgwOCkKKyNkZWZpbmUgTENEX09V
VEZfRk9STUFUX1lDQkNSNDIwXzhCX0RDSSAgICAgICAgICAgKDB4MDkpCisjZGVmaW5lIExDRF9P
VVRGX0ZPUk1BVF9ZQ0JDUjQyMF84QiAgICAgICAgICAgICAgICgweDBBKQorI2RlZmluZSBMQ0Rf
T1VURl9GT1JNQVRfWUNCQ1I0MjBfMTBCICAgICAgICAgICAgICAoMHgwQikKKyNkZWZpbmUgTENE
X09VVEZfRk9STUFUX1lDQkNSNDIwXzEyQiAgICAgICAgICAgICAgKDB4MEMpCisjZGVmaW5lIExD
RF9PVVRGX0ZPUk1BVF9ZQ0JDUjQyMl84QiAgICAgICAgICAgICAgICgweDBEKQorI2RlZmluZSBM
Q0RfT1VURl9GT1JNQVRfWUNCQ1I0MjJfMTBCICAgICAgICAgICAgICAoMHgwRSkKKyNkZWZpbmUg
TENEX09VVEZfRk9STUFUX1lDQkNSNDQ0ICAgICAgICAgICAgICAgICAgKDB4MEYpCisjZGVmaW5l
IExDRF9PVVRGX0ZPUk1BVF9NWUNCQ1I0MjBfOEJfTEVHQUNZICAgICAgICgweDE4KQorI2RlZmlu
ZSBMQ0RfT1VURl9GT1JNQVRfTVlDQkNSNDIwXzhCX0RDSSAgICAgICAgICAoMHgxOSkKKyNkZWZp
bmUgTENEX09VVEZfRk9STUFUX01ZQ0JDUjQyMF84QiAgICAgICAgICAgICAgKDB4MUEpCisjZGVm
aW5lIExDRF9PVVRGX0ZPUk1BVF9NWUNCQ1I0MjBfMTBCICAgICAgICAgICAgICgweDFCKQorI2Rl
ZmluZSBMQ0RfT1VURl9GT1JNQVRfTVlDQkNSNDIwXzEyQiAgICAgICAgICAgICAoMHgxQykKKyNk
ZWZpbmUgTENEX09VVEZfRk9STUFUX01ZQ0JDUjQyMl84QiAgICAgICAgICAgICAgKDB4MUQpCisj
ZGVmaW5lIExDRF9PVVRGX0ZPUk1BVF9NWUNCQ1I0MjJfMTBCICAgICAgICAgICAgICgweDFFKQor
I2RlZmluZSBMQ0RfT1VURl9GT1JNQVRfTVlDQkNSNDQ0ICAgICAgICAgICAgICAgICAoMHgxRikK
KyNkZWZpbmUgTENEX09VVEZfQkdSX09SREVSCQkJICAoMSA8PCA1KQorI2RlZmluZSBMQ0RfT1VU
Rl9ZX09SREVSCQkJICAoMSA8PCA2KQorI2RlZmluZSBMQ0RfT1VURl9DUkNCX09SREVSCQkJICAo
MSA8PCA3KQorI2RlZmluZSBMQ0RfT1VURl9TWU5DX01PREUJCQkgICgxIDw8IDExKQorI2RlZmlu
ZSBMQ0RfT1VURl9SR0JfQ09OVl9NT0RFCQkJICAoMSA8PCAxNCkKKyNkZWZpbmUgTENEX09VVEZf
TUlQSV9SR0JfTU9ERQkJCSAgKDEgPDwgMTgpCisKKyNkZWZpbmUgTENEX0hTWU5DX1dJRFRICQkJ
CSgweDQgKiAweDgwMSkKKyNkZWZpbmUgTENEX0hfQkFDS1BPUkNICQkJCSgweDQgKiAweDgwMikK
KyNkZWZpbmUgTENEX0hfQUNUSVZFV0lEVEgJCQkoMHg0ICogMHg4MDMpCisjZGVmaW5lIExDRF9I
X0ZST05UUE9SQ0gJCQkoMHg0ICogMHg4MDQpCisjZGVmaW5lIExDRF9WU1lOQ19XSURUSAkJCQko
MHg0ICogMHg4MDUpCisjZGVmaW5lIExDRF9WX0JBQ0tQT1JDSAkJCQkoMHg0ICogMHg4MDYpCisj
ZGVmaW5lIExDRF9WX0FDVElWRUhFSUdIVAkJCSgweDQgKiAweDgwNykKKyNkZWZpbmUgTENEX1Zf
RlJPTlRQT1JDSAkJCSgweDQgKiAweDgwOCkKKyNkZWZpbmUgTENEX1ZTWU5DX1NUQVJUCQkJCSgw
eDQgKiAweDgwOSkKKyNkZWZpbmUgTENEX1ZTWU5DX0VORAkJCQkoMHg0ICogMHg4MGEpCisjZGVm
aW5lIExDRF9WX0JBQ0tQT1JDSF9FVkVOCQkJKDB4NCAqIDB4ODBiKQorI2RlZmluZSBMQ0RfVlNZ
TkNfV0lEVEhfRVZFTgkJCSgweDQgKiAweDgwYykKKyNkZWZpbmUgTENEX1ZfQUNUSVZFSEVJR0hU
X0VWRU4JCQkoMHg0ICogMHg4MGQpCisjZGVmaW5lIExDRF9WX0ZST05UUE9SQ0hfRVZFTgkJCSgw
eDQgKiAweDgwZSkKKyNkZWZpbmUgTENEX1ZTWU5DX1NUQVJUX0VWRU4JCQkoMHg0ICogMHg4MGYp
CisjZGVmaW5lIExDRF9WU1lOQ19FTkRfRVZFTgkJCSgweDQgKiAweDgxMCkKKyNkZWZpbmUgTENE
X1RJTUlOR19HRU5fVFJJRwkJCSgweDQgKiAweDgxMSkKKyNkZWZpbmUgTENEX1BXTTBfQ1RSTAkJ
CQkoMHg0ICogMHg4MTIpCisjZGVmaW5lIExDRF9QV00wX1JQVF9MRUFESU4JCQkoMHg0ICogMHg4
MTMpCisjZGVmaW5lIExDRF9QV00wX0hJR0hfTE9XCQkJKDB4NCAqIDB4ODE0KQorI2RlZmluZSBM
Q0RfUFdNMV9DVFJMCQkJCSgweDQgKiAweDgxNSkKKyNkZWZpbmUgTENEX1BXTTFfUlBUX0xFQURJ
TgkJCSgweDQgKiAweDgxNikKKyNkZWZpbmUgTENEX1BXTTFfSElHSF9MT1cJCQkoMHg0ICogMHg4
MTcpCisjZGVmaW5lIExDRF9QV00yX0NUUkwJCQkJKDB4NCAqIDB4ODE4KQorI2RlZmluZSBMQ0Rf
UFdNMl9SUFRfTEVBRElOCQkJKDB4NCAqIDB4ODE5KQorI2RlZmluZSBMQ0RfUFdNMl9ISUdIX0xP
VwkJCSgweDQgKiAweDgxYSkKKyNkZWZpbmUgTENEX1ZJREVPMF9ETUEwX0JZVEVTCQkJKDB4NCAq
IDB4YjAwKQorI2RlZmluZSBMQ0RfVklERU8wX0RNQTBfU1RBVEUJCQkoMHg0ICogMHhiMDEpCisj
ZGVmaW5lIExDRF9ETUFfU1RBVEVfQUNUSVZFCQkJICAoMSA8PCAzKQorI2RlZmluZSBMQ0RfVklE
RU8wX0RNQTFfQllURVMJCQkoMHg0ICogMHhiMDIpCisjZGVmaW5lIExDRF9WSURFTzBfRE1BMV9T
VEFURQkJCSgweDQgKiAweGIwMykKKyNkZWZpbmUgTENEX1ZJREVPMF9ETUEyX0JZVEVTCQkJKDB4
NCAqIDB4YjA0KQorI2RlZmluZSBMQ0RfVklERU8wX0RNQTJfU1RBVEUJCQkoMHg0ICogMHhiMDUp
CisjZGVmaW5lIExDRF9WSURFTzFfRE1BMF9CWVRFUwkJCSgweDQgKiAweGIwNikKKyNkZWZpbmUg
TENEX1ZJREVPMV9ETUEwX1NUQVRFCQkJKDB4NCAqIDB4YjA3KQorI2RlZmluZSBMQ0RfVklERU8x
X0RNQTFfQllURVMJCQkoMHg0ICogMHhiMDgpCisjZGVmaW5lIExDRF9WSURFTzFfRE1BMV9TVEFU
RQkJCSgweDQgKiAweGIwOSkKKyNkZWZpbmUgTENEX1ZJREVPMV9ETUEyX0JZVEVTCQkJKDB4NCAq
IDB4YjBhKQorI2RlZmluZSBMQ0RfVklERU8xX0RNQTJfU1RBVEUJCQkoMHg0ICogMHhiMGIpCisj
ZGVmaW5lIExDRF9HUkFQSElDMF9ETUFfQllURVMJCQkoMHg0ICogMHhiMGMpCisjZGVmaW5lIExD
RF9HUkFQSElDMF9ETUFfU1RBVEUJCQkoMHg0ICogMHhiMGQpCisjZGVmaW5lIExDRF9HUkFQSElD
MV9ETUFfQllURVMJCQkoMHg0ICogMHhiMGUpCisjZGVmaW5lIExDRF9HUkFQSElDMV9ETUFfU1RB
VEUJCQkoMHg0ICogMHhiMGYpCisKKy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKKyAqCQkgICBNSVBJIGNv
bnRyb2xsZXIgY29udHJvbCByZWdpc3RlciBkZWZpbmVzCisgKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKippKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8K
KyNkZWZpbmUgTUlQSTBfSFNfQkFTRV9BRERSCQkJKE1JUElfQkFTRV9BRERSICsgMHg0MDApCisj
ZGVmaW5lIEhTX09GRlNFVChNKQkJCQkoKE0gKyAxKSAqIDB4NDAwKQorCisjZGVmaW5lIE1JUElf
VFhfSFNfQ1RSTAkJCQkoMHgwKQorI2RlZmluZSAgIE1JUElfVFhtX0hTX0NUUkwoTSkJCQkoTUlQ
SV9UWF9IU19DVFJMICsgSFNfT0ZGU0VUKE0pKQorI2RlZmluZSAgIEhTX0NUUkxfRU4JCQkJKDEg
PDwgMCkKKy8qMTpDU0kgMDpEU0kgKi8KKyNkZWZpbmUgICBIU19DVFJMX0NTSURTSU4JCQkoMSA8
PCAyKQorLyoxOkxDRCwgMDpETUEgKi8KKyNkZWZpbmUgICBUWF9TT1VSQ0UJCQkJKDEgPDwgMykK
KyNkZWZpbmUgICBBQ1RJVkVfTEFORVMobikJCQkoKG4pIDw8IDQpCisjZGVmaW5lICAgTENEX1ZD
KGNoKQkJCQkoKGNoKSA8PCA4KQorI2RlZmluZSAgIERTSV9FT1RQX0VOCQkJCSgxIDw8IDExKQor
I2RlZmluZSAgIERTSV9DTURfSEZQX0VOCQkJKDEgPDwgMTIpCisjZGVmaW5lICAgQ1JDX0VOCQkJ
CSgxIDw8IDE0KQorI2RlZmluZSAgIEhTRVhJVF9DTlQobikJCQkJKChuKSA8PCAxNikKKyNkZWZp
bmUgICBIU0NMS0lETEVfQ05UCQkJCSgxIDw8IDI0KQorI2RlZmluZSBNSVBJX1RYX0hTX1NZTkNf
Q0ZHCQkJKDB4OCkKKyNkZWZpbmUgICBNSVBJX1RYbV9IU19TWU5DX0NGRyhNKQkJKE1JUElfVFhf
SFNfU1lOQ19DRkcgXAorCQkJCQkJKyBIU19PRkZTRVQoTSkpCisjZGVmaW5lICAgTElORV9TWU5D
X1BLVF9FTkFCTEUJCQkoMSA8PCAwKQorI2RlZmluZSAgIEZSQU1FX0NPVU5URVJfQUNUSVZFCQkJ
KDEgPDwgMSkKKyNkZWZpbmUgICBMSU5FX0NPVU5URVJfQUNUSVZFCQkJKDEgPDwgMikKKyNkZWZp
bmUgICBEU0lfVl9CTEFOS0lORwkJCSgxIDw8IDQpCisjZGVmaW5lICAgRFNJX0hTQV9CTEFOS0lO
RwkJCSgxIDw8IDUpCisjZGVmaW5lICAgRFNJX0hCUF9CTEFOS0lORwkJCSgxIDw8IDYpCisjZGVm
aW5lICAgRFNJX0hGUF9CTEFOS0lORwkJCSgxIDw8IDcpCisjZGVmaW5lICAgRFNJX1NZTkNfUFVM
U0VfRVZFTlROCQkJKDEgPDwgOCkKKyNkZWZpbmUgICBEU0lfTFBNX0ZJUlNUX1ZTQV9MSU5FCQko
MSA8PCA5KQorI2RlZmluZSAgIERTSV9MUE1fTEFTVF9WRlBfTElORQkJCSgxIDw8IDEwKQorI2Rl
ZmluZSAgIFdBSVRfQUxMX1NFQ1QJCQkJKDEgPDwgMTEpCisjZGVmaW5lICAgV0FJVF9UUklHX1BP
UwkJCQkoMSA8PCAxNSkKKyNkZWZpbmUgICBBTFdBWVNfVVNFX0hBQ1QoZikJCQkoKGYpIDw8IDE5
KQorI2RlZmluZSAgIEZSQU1FX0dFTl9FTihmKQkJCSgoZikgPDwgMjMpCisjZGVmaW5lICAgSEFD
VF9XQUlUX1NUT1AoZikJCQkoKGYpIDw8IDI4KQorI2RlZmluZSBNSVBJX1RYMF9IU19GRzBfU0VD
VDBfUEgJCSgweDQwKQorI2RlZmluZSAgIE1JUElfVFhtX0hTX0ZHbl9TRUNUb19QSChNLCBOLCBP
KQkoTUlQSV9UWDBfSFNfRkcwX1NFQ1QwX1BIICsgXAorCQkJCQkJSFNfT0ZGU0VUKE0pICsgKDB4
MkMqTikgKyAoOCpPKSkKKyNkZWZpbmUgICBNSVBJX1RYX1NFQ1RfV0NfTUFTSwkJCSgweGZmZmYp
CisjZGVmaW5lCSAgTUlQSV9UWF9TRUNUX1ZDX01BU0sJCQkoMykKKyNkZWZpbmUgICBNSVBJX1RY
X1NFQ1RfVkNfU0hJRlQJCQkoMjIpCisjZGVmaW5lICAgTUlQSV9UWF9TRUNUX0RUX01BU0sJCQko
MHgzZikKKyNkZWZpbmUgICBNSVBJX1RYX1NFQ1RfRFRfU0hJRlQJCQkoMTYpCisjZGVmaW5lICAg
TUlQSV9UWF9TRUNUX0RNX01BU0sJCQkoMykKKyNkZWZpbmUgICBNSVBJX1RYX1NFQ1RfRE1fU0hJ
RlQJCQkoMjQpCisjZGVmaW5lICAgTUlQSV9UWF9TRUNUX0RNQV9QQUNLRUQJCSgxPDwyNikKKyNk
ZWZpbmUgTUlQSV9UWF9IU19GRzBfU0VDVF9VTlBBQ0tFRF9CWVRFUzAJKDB4NjApCisjZGVmaW5l
IE1JUElfVFhfSFNfRkcwX1NFQ1RfVU5QQUNLRURfQllURVMxCSgweDY0KQorI2RlZmluZSAgIE1J
UElfVFhtX0hTX0ZHbl9TRUNUX1VOUEFDS0VEX0JZVEVTMChNLCBOKQlcCisJCQkJCShNSVBJX1RY
X0hTX0ZHMF9TRUNUX1VOUEFDS0VEX0JZVEVTMCBcCisJCQkJCSsgSFNfT0ZGU0VUKE0pICsgKDB4
MkMqTikpCisjZGVmaW5lIE1JUElfVFhfSFNfRkcwX1NFQ1QwX0xJTkVfQ0ZHCQkoMHg0NCkKKyNk
ZWZpbmUgICBNSVBJX1RYbV9IU19GR25fU0VDVG9fTElORV9DRkcoTSwgTiwgTykJXAorCQkJCShN
SVBJX1RYX0hTX0ZHMF9TRUNUMF9MSU5FX0NGRyArIEhTX09GRlNFVChNKSBcCisJCQkJKyAoMHgy
QypOKSArICg4Kk8pKQorCisjZGVmaW5lIE1JUElfVFhfSFNfRkcwX05VTV9MSU5FUwkJKDB4Njgp
CisjZGVmaW5lICAgTUlQSV9UWG1fSFNfRkduX05VTV9MSU5FUyhNLCBOKQlcCisJCQkJKE1JUElf
VFhfSFNfRkcwX05VTV9MSU5FUyArIEhTX09GRlNFVChNKSBcCisJCQkJKyAoMHgyQypOKSkKKyNk
ZWZpbmUgTUlQSV9UWF9IU19WU1lOQ19XSURUSFMwCQkoMHgxMDQpCisjZGVmaW5lICAgTUlQSV9U
WG1fSFNfVlNZTkNfV0lEVEhuKE0sIE4pCQlcCisJCQkJKE1JUElfVFhfSFNfVlNZTkNfV0lEVEhT
MCArIEhTX09GRlNFVChNKSBcCisJCQkJKyAoMHg0Kk4pKQorI2RlZmluZSBNSVBJX1RYX0hTX1Zf
QkFDS1BPUkNIRVMwCQkoMHgxNmMpCisjZGVmaW5lICAgTUlQSV9UWG1fSFNfVl9CQUNLUE9SQ0hF
U24oTSwgTikJXAorCQkJCShNSVBJX1RYX0hTX1ZfQkFDS1BPUkNIRVMwICsgSFNfT0ZGU0VUKE0p
IFwKKwkJCQkrICgweDQqTikpCisjZGVmaW5lIE1JUElfVFhfSFNfVl9GUk9OVFBPUkNIRVMwCQko
MHgxNzQpCisjZGVmaW5lICAgTUlQSV9UWG1fSFNfVl9GUk9OVFBPUkNIRVNuKE0sIE4pCVwKKwkJ
CQkoTUlQSV9UWF9IU19WX0ZST05UUE9SQ0hFUzAgKyBIU19PRkZTRVQoTSkgXAorCQkJCSsgKDB4
NCpOKSkKKyNkZWZpbmUgTUlQSV9UWF9IU19WX0FDVElWRTAJCQkoMHgxN2MpCisjZGVmaW5lICAg
TUlQSV9UWG1fSFNfVl9BQ1RJVkVuKE0sIE4pCQlcCisJCQkJKE1JUElfVFhfSFNfVl9BQ1RJVkUw
ICsgSFNfT0ZGU0VUKE0pIFwKKwkJCQkrICgweDQqTikpCisjZGVmaW5lIE1JUElfVFhfSFNfSFNZ
TkNfV0lEVEgwCQkJKDB4MTBjKQorI2RlZmluZSAgIE1JUElfVFhtX0hTX0hTWU5DX1dJRFRIbihN
LCBOKQkJXAorCQkJCShNSVBJX1RYX0hTX0hTWU5DX1dJRFRIMCArIEhTX09GRlNFVChNKSBcCisJ
CQkJKyAoMHg0Kk4pKQorI2RlZmluZSBNSVBJX1RYX0hTX0hfQkFDS1BPUkNIMAkJCSgweDExYykK
KyNkZWZpbmUgICBNSVBJX1RYbV9IU19IX0JBQ0tQT1JDSG4oTSwgTikJCVwKKwkJCQkoTUlQSV9U
WF9IU19IX0JBQ0tQT1JDSDAgKyBIU19PRkZTRVQoTSkgXAorCQkJCSsgKDB4NCpOKSkKKyNkZWZp
bmUgTUlQSV9UWF9IU19IX0ZST05UUE9SQ0gwCQkoMHgxMmMpCisjZGVmaW5lICAgTUlQSV9UWG1f
SFNfSF9GUk9OVFBPUkNIbihNLCBOKQlcCisJCQkJKE1JUElfVFhfSFNfSF9GUk9OVFBPUkNIMCAr
IEhTX09GRlNFVChNKSBcCisJCQkJKyAoMHg0Kk4pKQorI2RlZmluZSBNSVBJX1RYX0hTX0hfQUNU
SVZFMAkJCSgweDE4NCkKKyNkZWZpbmUgICBNSVBJX1RYbV9IU19IX0FDVElWRW4oTSwgTikJCVwK
KwkJCQkoTUlQSV9UWF9IU19IX0FDVElWRTAgKyBIU19PRkZTRVQoTSkgXAorCQkJCSsgKDB4NCpO
KSkKKyNkZWZpbmUgTUlQSV9UWF9IU19MTFBfSFNZTkNfV0lEVEgwCQkoMHgxM2MpCisjZGVmaW5l
ICAgTUlQSV9UWG1fSFNfTExQX0hTWU5DX1dJRFRIbihNLCBOKQlcCisJCQkJKE1JUElfVFhfSFNf
TExQX0hTWU5DX1dJRFRIMCArIEhTX09GRlNFVChNKSBcCisJCQkJKyAoMHg0Kk4pKQorI2RlZmlu
ZSBNSVBJX1RYX0hTX0xMUF9IX0JBQ0tQT1JDSDAJCSgweDE0YykKKyNkZWZpbmUgICBNSVBJX1RY
bV9IU19MTFBfSF9CQUNLUE9SQ0huKE0sIE4pCVwKKwkJCQkoTUlQSV9UWF9IU19MTFBfSF9CQUNL
UE9SQ0gwICsgSFNfT0ZGU0VUKE0pIFwKKwkJCQkrICgweDQqTikpCisjZGVmaW5lIE1JUElfVFhf
SFNfTExQX0hfRlJPTlRQT1JDSDAJCSgweDE1YykKKyNkZWZpbmUgICBNSVBJX1RYbV9IU19MTFBf
SF9GUk9OVFBPUkNIbihNLCBOKQlcCisJCQkJKE1JUElfVFhfSFNfTExQX0hfRlJPTlRQT1JDSDAg
KyBIU19PRkZTRVQoTSkgXAorCQkJCSsgKDB4NCpOKSkKKworI2RlZmluZSBNSVBJX1RYX0hTX01D
X0ZJRk9fQ1RSTF9FTgkJKDB4MTk0KQorI2RlZmluZSAgIE1JUElfVFhtX0hTX01DX0ZJRk9fQ1RS
TF9FTihNKQlcCisJCQkJKE1JUElfVFhfSFNfTUNfRklGT19DVFJMX0VOICsgSFNfT0ZGU0VUKE0p
KQorCisjZGVmaW5lIE1JUElfVFhfSFNfTUNfRklGT19DSEFOX0FMTE9DMAkJKDB4MTk4KQorI2Rl
ZmluZSBNSVBJX1RYX0hTX01DX0ZJRk9fQ0hBTl9BTExPQzEJCSgweDE5YykKKyNkZWZpbmUgICBN
SVBJX1RYbV9IU19NQ19GSUZPX0NIQU5fQUxMT0NuKE0sIE4pCVwKKwkJCShNSVBJX1RYX0hTX01D
X0ZJRk9fQ0hBTl9BTExPQzAgKyBIU19PRkZTRVQoTSkgXAorCQkJKyAoMHg0Kk4pKQorI2RlZmlu
ZSAgIFNFVF9NQ19GSUZPX0NIQU5fQUxMT0MoZGV2LCBjdHJsLCB2Yywgc3opCVwKKwkJa21iX3dy
aXRlX2JpdHNfbWlwaShkZXYsIFwKKwkJCQlNSVBJX1RYbV9IU19NQ19GSUZPX0NIQU5fQUxMT0Nu
KGN0cmwsIFwKKwkJCQl2Yy8yKSwgKHZjICUgMikqMTYsIDE2LCBzeikKKyNkZWZpbmUgTUlQSV9U
WF9IU19NQ19GSUZPX1JUSFJFU0hPTEQwCQkoMHgxYTApCisjZGVmaW5lIE1JUElfVFhfSFNfTUNf
RklGT19SVEhSRVNIT0xEMQkJKDB4MWE0KQorI2RlZmluZSAgIE1JUElfVFhtX0hTX01DX0ZJRk9f
UlRIUkVTSE9MRG4oTSwgTikJXAorCQkJCShNSVBJX1RYX0hTX01DX0ZJRk9fUlRIUkVTSE9MRDAg
KyBIU19PRkZTRVQoTSkgXAorCQkJCSsgKDB4NCpOKSkKKyNkZWZpbmUgICBTRVRfTUNfRklGT19S
VEhSRVNIT0xEKGRldiwgY3RybCwgdmMsIHRoKQlcCisJa21iX3dyaXRlX2JpdHNfbWlwaShkZXYs
IE1JUElfVFhtX0hTX01DX0ZJRk9fUlRIUkVTSE9MRG4oY3RybCwgdmMvMiksIFwKKwkJCSh2YyAl
IDIpKjE2LCAxNiwgdGgpCisjZGVmaW5lIE1JUElfVFhfSFNfRE1BX0NGRwkJCSgweDFhOCkKKyNk
ZWZpbmUgTUlQSV9UWF9IU19ETUFfU1RBUlRfQURSX0NIQU4wCQkoMHgxYWMpCisjZGVmaW5lIE1J
UElfVFhfSFNfRE1BX0xFTl9DSEFOMAkJKDB4MWI0KQorCisvKiBNSVBJIElSUSAqLworI2RlZmlu
ZSBNSVBJX0NUUkxfSVJRX1NUQVRVUzAJCQkJKDB4MDApCisjZGVmaW5lICAgTUlQSV9EUEhZX0VS
Ul9JUlEJCQkJMQorI2RlZmluZSAgIE1JUElfRFBIWV9FUlJfTUFTSwkJCQkweDdGRQkvKmJpdHMg
MS0xMCAqLworI2RlZmluZSAgIE1JUElfSFNfSVJRCQkJCQkxMworLypiaXRzIDEzLTIyICovCisj
ZGVmaW5lICAgTUlQSV9IU19JUlFfTUFTSwkJCQkweDdGRTAwMAorI2RlZmluZSAgIE1JUElfTFBf
RVZFTlRfSVJRCQkJCTI1CisjZGVmaW5lICAgTUlQSV9HRVRfSVJRX1NUQVQwKGRldikJCWttYl9y
ZWFkX21pcGkoZGV2LCBcCisJCQkJCQlNSVBJX0NUUkxfSVJRX1NUQVRVUzApCisjZGVmaW5lIE1J
UElfQ1RSTF9JUlFfU1RBVFVTMQkJCQkoMHgwNCkKKyNkZWZpbmUgICBNSVBJX0hTX1JYX0VWRU5U
X0lSUQkJCQkwCisjZGVmaW5lICAgTUlQSV9HRVRfSVJRX1NUQVQxKGRldikJCWttYl9yZWFkX21p
cGkoZGV2LCBcCisJCQkJCQlNSVBJX0NUUkxfSVJRX1NUQVRVUzEpCisjZGVmaW5lIE1JUElfQ1RS
TF9JUlFfRU5BQkxFMAkJCQkoMHgwOCkKKyNkZWZpbmUgICBTRVRfTUlQSV9DVFJMX0lSUV9FTkFC
TEUwKGRldiwgTSwgTikJa21iX3NldF9iaXRfbWlwaShkZXYsIFwKKwkJCQkJCU1JUElfQ1RSTF9J
UlFfRU5BQkxFMCwgTStOKQorI2RlZmluZSAgIE1JUElfR0VUX0lSUV9FTkFCTEVEMChkZXYpCQlr
bWJfcmVhZF9taXBpKGRldiwgXAorCQkJCQkJTUlQSV9DVFJMX0lSUV9FTkFCTEUwKQorI2RlZmlu
ZSBNSVBJX0NUUkxfSVJRX0VOQUJMRTEJCQkJKDB4MGMpCisjZGVmaW5lICAgTUlQSV9HRVRfSVJR
X0VOQUJMRUQxKGRldikJCWttYl9yZWFkX21pcGkoZGV2LCBcCisJCQkJCQlNSVBJX0NUUkxfSVJR
X0VOQUJMRTEpCisjZGVmaW5lIE1JUElfQ1RSTF9JUlFfQ0xFQVIwCQkJCSgweDAxMCkKKyNkZWZp
bmUgICBTRVRfTUlQSV9DVFJMX0lSUV9DTEVBUjAoZGV2LCBNLCBOKQkJXAorCQlrbWJfc2V0X2Jp
dF9taXBpKGRldiwgTUlQSV9DVFJMX0lSUV9DTEVBUjAsIE0rTikKKyNkZWZpbmUgTUlQSV9DVFJM
X0lSUV9DTEVBUjEJCQkJKDB4MDE0KQorI2RlZmluZSAgIFNFVF9NSVBJX0NUUkxfSVJRX0NMRUFS
MShkZXYsIE0sIE4pCQlcCisJCWttYl9zZXRfYml0X21pcGkoZGV2LCBNSVBJX0NUUkxfSVJRX0NM
RUFSMSwgTStOKQorI2RlZmluZSBNSVBJX0NUUkxfRElHX0xPT1BCQUNLCQkJCSgweDAxOCkKKyNk
ZWZpbmUgTUlQSV9UWF9IU19JUlFfU1RBVFVTCQkJCSgweDAxYykKKyNkZWZpbmUgICBNSVBJX1RY
X0hTX0lSUV9TVEFUVVNtKE0pCQkoTUlQSV9UWF9IU19JUlFfU1RBVFVTICsgXAorCQkJCQkJSFNf
T0ZGU0VUKE0pKQorI2RlZmluZSAgIEdFVF9NSVBJX1RYX0hTX0lSUV9TVEFUVVMoZGV2LCBNKQlr
bWJfcmVhZF9taXBpKGRldiwgXAorCQkJCQkJTUlQSV9UWF9IU19JUlFfU1RBVFVTbShNKSkKKyNk
ZWZpbmUgICBNSVBJX1RYX0hTX0lSUV9MSU5FX0NPTVBBUkUJCQkoMTw8MSkKKyNkZWZpbmUgICBN
SVBJX1RYX0hTX0lSUV9GUkFNRV9ET05FXzAJCQkoMTw8MikKKyNkZWZpbmUgICBNSVBJX1RYX0hT
X0lSUV9GUkFNRV9ET05FXzEJCQkoMTw8MykKKyNkZWZpbmUgICBNSVBJX1RYX0hTX0lSUV9GUkFN
RV9ET05FXzIJCQkoMTw8NCkKKyNkZWZpbmUgICBNSVBJX1RYX0hTX0lSUV9GUkFNRV9ET05FXzMJ
CQkoMTw8NSkKKyNkZWZpbmUgICBNSVBJX1RYX0hTX0lSUV9ETUFfRE9ORV8wCQkJKDE8PDYpCisj
ZGVmaW5lICAgTUlQSV9UWF9IU19JUlFfRE1BX0lETEVfMAkJCSgxPDw3KQorI2RlZmluZSAgIE1J
UElfVFhfSFNfSVJRX0RNQV9ET05FXzEJCQkoMTw8OCkKKyNkZWZpbmUgICBNSVBJX1RYX0hTX0lS
UV9ETUFfSURMRV8xCQkJKDE8PDkpCisjZGVmaW5lICAgTUlQSV9UWF9IU19JUlFfRE1BX0RPTkVf
MgkJCSgxPDwxMCkKKyNkZWZpbmUgICBNSVBJX1RYX0hTX0lSUV9ETUFfSURMRV8yCQkJKDE8PDEx
KQorI2RlZmluZSAgIE1JUElfVFhfSFNfSVJRX0RNQV9ET05FXzMJCQkoMTw8MTIpCisjZGVmaW5l
ICAgTUlQSV9UWF9IU19JUlFfRE1BX0lETEVfMwkJCSgxPDwxMykKKyNkZWZpbmUgICBNSVBJX1RY
X0hTX0lSUV9NQ19GSUZPX1VOREVSRkxPVwkJKDE8PDE0KQorI2RlZmluZSAgIE1JUElfVFhfSFNf
SVJRX01DX0ZJRk9fT1ZFUkZMT1cJCSgxPDwxNSkKKyNkZWZpbmUgICBNSVBJX1RYX0hTX0lSUV9M
TFBfRklGT19FTVBUWQkJCSgxPDwxNikKKyNkZWZpbmUgICBNSVBJX1RYX0hTX0lSUV9MTFBfUkVR
VUVTVF9RVUVVRV9GVUxMCQkoMTw8MTcpCisjZGVmaW5lICAgTUlQSV9UWF9IU19JUlFfTExQX1JF
UVVFU1RfUVVFVUVfRVJST1IJKDE8PDE4KQorI2RlZmluZSAgIE1JUElfVFhfSFNfSVJRX0xMUF9X
T1JEX0NPVU5UX0VSUk9SCQkoMTw8MjApCisjZGVmaW5lICAgTUlQSV9UWF9IU19JUlFfRlJBTUVf
RE9ORQkJCVwKKwkJCQkoTUlQSV9UWF9IU19JUlFfRlJBTUVfRE9ORV8wIHwgXAorCQkJCU1JUElf
VFhfSFNfSVJRX0ZSQU1FX0RPTkVfMSB8IFwKKwkJCQlNSVBJX1RYX0hTX0lSUV9GUkFNRV9ET05F
XzIgfCBcCisJCQkJTUlQSV9UWF9IU19JUlFfRlJBTUVfRE9ORV8zKQorCisjZGVmaW5lIE1JUElf
VFhfSFNfSVJRX0RNQV9ET05FCQkJCVwKKwkJCQkoTUlQSV9UWF9IU19JUlFfRE1BX0RPTkVfMCB8
IFwKKwkJCQlNSVBJX1RYX0hTX0lSUV9ETUFfRE9ORV8xIHwgXAorCQkJCU1JUElfVFhfSFNfSVJR
X0RNQV9ET05FXzIgfCBcCisJCQkJTUlQSV9UWF9IU19JUlFfRE1BX0RPTkVfMykKKworI2RlZmlu
ZSBNSVBJX1RYX0hTX0lSUV9ETUFfSURMRQkJCQlcCisJCQkJKE1JUElfVFhfSFNfSVJRX0RNQV9J
RExFXzAgfCBcCisJCQkJTUlQSV9UWF9IU19JUlFfRE1BX0lETEVfMSB8IFwKKwkJCQlNSVBJX1RY
X0hTX0lSUV9ETUFfSURMRV8yIHwgXAorCQkJCU1JUElfVFhfSFNfSVJRX0RNQV9JRExFXzMpCisK
KyNkZWZpbmUgTUlQSV9UWF9IU19JUlFfRVJST1IJCQkJXAorCQkJCShNSVBJX1RYX0hTX0lSUV9N
Q19GSUZPX1VOREVSRkxPVyB8IFwKKwkJCQlNSVBJX1RYX0hTX0lSUV9NQ19GSUZPX09WRVJGTE9X
IHwgXAorCQkJCU1JUElfVFhfSFNfSVJRX0xMUF9GSUZPX0VNUFRZIHwgXAorCQkJCU1JUElfVFhf
SFNfSVJRX0xMUF9SRVFVRVNUX1FVRVVFX0ZVTEwgfCBcCisJCQkJTUlQSV9UWF9IU19JUlFfTExQ
X1JFUVVFU1RfUVVFVUVfRVJST1IgfCBcCisJCQkJTUlQSV9UWF9IU19JUlFfTExQX1dPUkRfQ09V
TlRfRVJST1IpCisKKyNkZWZpbmUgTUlQSV9UWF9IU19JUlFfQUxMCQkJCVwKKwkJCQkoTUlQSV9U
WF9IU19JUlFfRlJBTUVfRE9ORSB8IFwKKwkJCQlNSVBJX1RYX0hTX0lSUV9ETUFfRE9ORSB8IFwK
KwkJCQlNSVBJX1RYX0hTX0lSUV9ETUFfSURMRSB8IFwKKwkJCQlNSVBJX1RYX0hTX0lSUV9MSU5F
X0NPTVBBUkUgfCBcCisJCQkJTUlQSV9UWF9IU19JUlFfRVJST1IpCisKKyNkZWZpbmUgTUlQSV9U
WF9IU19JUlFfRU5BQkxFCQkJCSgweDAyMCkKKyNkZWZpbmUgICBTRVRfSFNfSVJRX0VOQUJMRShk
ZXYsIE0sIHZhbCkJa21iX3NldF9iaXRtYXNrX21pcGkoZGV2LCBcCisJCQkJCQlNSVBJX1RYX0hT
X0lSUV9FTkFCTEUgXAorCQkJCQkJKyBIU19PRkZTRVQoTSksIHZhbCkKKyNkZWZpbmUgICBDTFJf
SFNfSVJRX0VOQUJMRShkZXYsIE0sIHZhbCkJa21iX2Nscl9iaXRtYXNrX21pcGkoZGV2LCBcCisJ
CQkJCQlNSVBJX1RYX0hTX0lSUV9FTkFCTEUgXAorCQkJCQkJKyBIU19PRkZTRVQoTSksIHZhbCkK
KyNkZWZpbmUJICBHRVRfSFNfSVJRX0VOQUJMRShkZXYsIE0pCQlrbWJfcmVhZF9taXBpKGRldiwg
XAorCQkJCQkJTUlQSV9UWF9IU19JUlFfRU5BQkxFIFwKKwkJCQkJCSsgSFNfT0ZGU0VUKE0pKQor
I2RlZmluZSBNSVBJX1RYX0hTX0lSUV9DTEVBUgkJCQkoMHgwMjQpCisjZGVmaW5lICAgU0VUX01J
UElfVFhfSFNfSVJRX0NMRUFSKGRldiwgTSwgdmFsKQkJXAorCQkJa21iX3NldF9iaXRtYXNrX21p
cGkoZGV2LCBcCisJCQlNSVBJX1RYX0hTX0lSUV9DTEVBUiBcCisJCQkrIEhTX09GRlNFVChNKSwg
dmFsKQorCisvKiBNSVBJIFRlc3QgUGF0dGVybiBHZW5lcmF0aW9uICovCisjZGVmaW5lIE1JUElf
VFhfSFNfVEVTVF9QQVRfQ1RSTAkJCSgweDIzMCkKKyNkZWZpbmUgICBNSVBJX1RYbV9IU19URVNU
X1BBVF9DVFJMKE0pCQkJXAorCQkJCShNSVBJX1RYX0hTX1RFU1RfUEFUX0NUUkwgKyBIU19PRkZT
RVQoTSkpCisjZGVmaW5lICAgVFBfRU5fVkNtKE0pCQkJCQkoMSA8PCAoKE0pICogMHgwNCkpCisj
ZGVmaW5lICAgVFBfU0VMX1ZDbShNLCBOKQkJCQlcCisJCQkJKE4gPDwgKCgoTSkgKiAweDA0KSAr
IDEpKQorI2RlZmluZSAgIFRQX1NUUklQRV9XSURUSChNKQkJCQkoKE0pIDw8IDE2KQorI2RlZmlu
ZSBNSVBJX1RYX0hTX1RFU1RfUEFUX0NPTE9SMAkJCSgweDIzNCkKKyNkZWZpbmUgICBNSVBJX1RY
bV9IU19URVNUX1BBVF9DT0xPUjAoTSkJCVwKKwkJCQkoTUlQSV9UWF9IU19URVNUX1BBVF9DT0xP
UjAgKyBIU19PRkZTRVQoTSkpCisjZGVmaW5lIE1JUElfVFhfSFNfVEVTVF9QQVRfQ09MT1IxCQkJ
KDB4MjM4KQorI2RlZmluZSAgIE1JUElfVFhtX0hTX1RFU1RfUEFUX0NPTE9SMShNKQkJXAorCQkJ
CShNSVBJX1RYX0hTX1RFU1RfUEFUX0NPTE9SMSArIEhTX09GRlNFVChNKSkKKworLyogRC1QSFkg
cmVncyAqLworI2RlZmluZSBEUEhZX0VOQUJMRQkJCQkoMHgxMDApCisjZGVmaW5lIERQSFlfSU5J
VF9DVFJMMAkJCQkoMHgxMDQpCisjZGVmaW5lICAgU0hVVERPV05aCQkJCTAKKyNkZWZpbmUgICBS
RVNFVFoJCQkJMTIKKyNkZWZpbmUgRFBIWV9JTklUX0NUUkwxCQkJCSgweDEwOCkKKyNkZWZpbmUg
ICBQTExfQ0xLU0VMXzAJCQkJMTgKKyNkZWZpbmUgICBQTExfU0hBRE9XX0NUUkwJCQkxNgorI2Rl
ZmluZSBEUEhZX0lOSVRfQ1RSTDIJCQkJKDB4MTBjKQorI2RlZmluZSAgIFNFVF9EUEhZX0lOSVRf
Q1RSTDAoZGV2LCBkcGh5LCBvZmZzZXQpCVwKKwkJCWttYl9zZXRfYml0X21pcGkoZGV2LCBEUEhZ
X0lOSVRfQ1RSTDAsIChkcGh5K29mZnNldCkpCisjZGVmaW5lICAgQ0xSX0RQSFlfSU5JVF9DVFJM
MChkZXYsIGRwaHksIG9mZnNldCkJXAorCQkJa21iX2Nscl9iaXRfbWlwaShkZXYsIERQSFlfSU5J
VF9DVFJMMCwgKGRwaHkrb2Zmc2V0KSkKKyNkZWZpbmUgRFBIWV9JTklUX0NUUkwyCQkJCSgweDEw
YykKKyNkZWZpbmUgRFBIWV9QTExfT0JTMAkJCQkoMHgxMTApCisjZGVmaW5lIERQSFlfUExMX09C
UzEJCQkJKDB4MTE0KQorI2RlZmluZSBEUEhZX1BMTF9PQlMyCQkJCSgweDExOCkKKyNkZWZpbmUg
RFBIWV9GUkVRX0NUUkwwXzMJCQkoMHgxMWMpCisjZGVmaW5lIERQSFlfRlJFUV9DVFJMNF83CQkJ
KDB4MTIwKQorI2RlZmluZSAgIFNFVF9EUEhZX0ZSRVFfQ1RSTDBfMyhkZXYsIGRwaHksIHZhbCkJ
XAorCQkJa21iX3dyaXRlX2JpdHNfbWlwaShkZXYsIERQSFlfRlJFUV9DVFJMMF8zIFwKKwkJCSsg
KChkcGh5LzQpKjQpLCAoZHBoeSAlIDQpICogOCwgNiwgdmFsKQorCisjZGVmaW5lIERQSFlfRk9S
Q0VfQ1RSTDAJCQkoMHgxMjgpCisjZGVmaW5lIERQSFlfRk9SQ0VfQ1RSTDEJCQkoMHgxMkMpCisj
ZGVmaW5lIE1JUElfRFBIWV9TVEFUMF8zCQkJKDB4MTM0KQorI2RlZmluZSBNSVBJX0RQSFlfU1RB
VDRfNwkJCSgweDEzOCkKKyNkZWZpbmUJICBHRVRfU1RPUFNUQVRFX0RBVEEoZGV2LCBkcGh5KQkJ
XAorCQkJKCgoa21iX3JlYWRfbWlwaShkZXYsIE1JUElfRFBIWV9TVEFUMF8zICsgKGRwaHkvNCkq
NCkpIFwKKwkJCQkJPj4gKCgoZHBoeSAlIDQpKjgpKzQpKSAmIDB4MDMpCisKKyNkZWZpbmUgTUlQ
SV9EUEhZX0VSUl9TVEFUNl83CQkJKDB4MTRDKQorCisjZGVmaW5lIERQSFlfVEVTVF9DVFJMMAkJ
CQkoMHgxNTQpCisjZGVmaW5lICAgU0VUX0RQSFlfVEVTVF9DVFJMMChkZXYsIGRwaHkpCQlcCisJ
CQlrbWJfc2V0X2JpdF9taXBpKGRldiwgRFBIWV9URVNUX0NUUkwwLCAoZHBoeSkpCisjZGVmaW5l
ICAgQ0xSX0RQSFlfVEVTVF9DVFJMMChkZXYsIGRwaHkpCQlcCisJCQlrbWJfY2xyX2JpdF9taXBp
KGRldiwgRFBIWV9URVNUX0NUUkwwLCBcCisJCQkJCQkoZHBoeSkpCisjZGVmaW5lIERQSFlfVEVT
VF9DVFJMMQkJCQkoMHgxNTgpCisjZGVmaW5lICAgU0VUX0RQSFlfVEVTVF9DVFJMMV9DTEsoZGV2
LCBkcGh5KQlcCisJCQlrbWJfc2V0X2JpdF9taXBpKGRldiwgRFBIWV9URVNUX0NUUkwxLCAoZHBo
eSkpCisjZGVmaW5lICAgQ0xSX0RQSFlfVEVTVF9DVFJMMV9DTEsoZGV2LCBkcGh5KQlcCisJCQlr
bWJfY2xyX2JpdF9taXBpKGRldiwgRFBIWV9URVNUX0NUUkwxLCAoZHBoeSkpCisjZGVmaW5lICAg
U0VUX0RQSFlfVEVTVF9DVFJMMV9FTihkZXYsIGRwaHkpCVwKKwkJCWttYl9zZXRfYml0X21pcGko
ZGV2LCBEUEhZX1RFU1RfQ1RSTDEsIChkcGh5KzEyKSkKKyNkZWZpbmUgICBDTFJfRFBIWV9URVNU
X0NUUkwxX0VOKGRldiwgZHBoeSkJXAorCQkJa21iX2Nscl9iaXRfbWlwaShkZXYsIERQSFlfVEVT
VF9DVFJMMSwgKGRwaHkrMTIpKQorI2RlZmluZSBEUEhZX1RFU1RfRElOMF8zCQkJKDB4MTVjKQor
I2RlZmluZSAgIFNFVF9URVNUX0RJTjBfMyhkZXYsIGRwaHksIHZhbCkJCVwKKwkJCWttYl93cml0
ZV9taXBpKGRldiwgRFBIWV9URVNUX0RJTjBfMyArIFwKKwkJCTQsICgodmFsKSA8PCAoKChkcGh5
KSU0KSo4KSkpCisjZGVmaW5lIERQSFlfVEVTVF9ET1VUMF8zCQkJKDB4MTY4KQorI2RlZmluZSAg
IEdFVF9URVNUX0RPVVQwXzMoZGV2LCBkcGh5KQkJXAorCQkJKGttYl9yZWFkX21pcGkoZGV2LCBE
UEhZX1RFU1RfRE9VVDBfMykgXAorCQkJPj4gKCgoZHBoeSklNCkqOCkgJiAweGZmKQorI2RlZmlu
ZSBEUEhZX1RFU1RfRE9VVDRfNwkJCSgweDE2QykKKyNkZWZpbmUgICBHRVRfVEVTVF9ET1VUNF83
KGRldiwgZHBoeSkJCVwKKwkJCShrbWJfcmVhZF9taXBpKGRldiwgRFBIWV9URVNUX0RPVVQ0Xzcp
IFwKKwkJCT4+ICgoKGRwaHkpJTQpKjgpICYgMHhmZikKKyNkZWZpbmUgRFBIWV9URVNUX0RPVVQ4
XzkJCQkoMHgxNzApCisjZGVmaW5lIERQSFlfVEVTVF9ESU40XzcJCQkoMHgxNjApCisjZGVmaW5l
IERQSFlfVEVTVF9ESU44XzkJCQkoMHgxNjQpCisjZGVmaW5lIERQSFlfUExMX0xPQ0sJCQkJKDB4
MTg4KQorI2RlZmluZSAgIEdFVF9QTExfTE9DSyhkZXYsIGRwaHkpCQlcCisJCQkoa21iX3JlYWRf
bWlwaShkZXYsIERQSFlfUExMX0xPQ0spIFwKKwkJCSYgKDEgPDwgKGRwaHkgLSBNSVBJX0RQSFk2
KSkpCisjZGVmaW5lIERQSFlfQ0ZHX0NMS19FTgkJCQkoMHgxOGMpCisKKyNkZWZpbmUgTVNTX01J
UElfQ0lGX0NGRwkJCSgweDAwKQorI2RlZmluZSBNU1NfTENEX01JUElfQ0ZHCQkJKDB4MDQpCisj
ZGVmaW5lIE1TU19DQU1fQ0xLX0NUUkwJCQkoMHgxMCkKKyNkZWZpbmUgTVNTX0xPT1BCQUNLX0NG
RwkJCSgweDBDKQorI2RlZmluZSAgIExDRAkJCQkJKDE8PDEpCisjZGVmaW5lICAgTUlQSV9DT01N
T04JCQkJKDE8PDIpCisjZGVmaW5lICAgTUlQSV9UWDAJCQkJKDE8PDkpCisjZGVmaW5lIE1TU19D
QU1fUlNUTl9DVFJMCQkJKDB4MTQpCisjZGVmaW5lIE1TU19DQU1fUlNUTl9TRVQJCQkoMHgyMCkK
KyNkZWZpbmUgTVNTX0NBTV9SU1ROX0NMUgkJCSgweDI0KQorCisjZGVmaW5lIE1TU0NQVV9DUFJf
Q0xLX0VOCQkJKDB4MCkKKyNkZWZpbmUgTVNTQ1BVX0NQUl9SU1RfRU4JCQkoMHgxMCkKKyNkZWZp
bmUgQklUX01BU0tfMTYJCQkJKDB4ZmZmZikKKy8qaWNhbSBsY2QgcW9zICovCisjZGVmaW5lIExD
RF9RT1NfUFJPUklUWQkJCQkoMHg4KQorI2RlZmluZSBMQ0RfUU9TX01PREUJCQkJKDB4QykKKyNk
ZWZpbmUgTENEX1FPU19CVwkJCQkoMHgxMCkKKyNlbmRpZiAvKiBfX0tNQl9SRUdTX0hfXyAqLwot
LSAKMi43LjQKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
CmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpo
dHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbAo=
