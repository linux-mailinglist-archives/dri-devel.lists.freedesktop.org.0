Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 3CB2B8E690
	for <lists+dri-devel@lfdr.de>; Thu, 15 Aug 2019 10:35:43 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D06166E8D6;
	Thu, 15 Aug 2019 08:34:56 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wr1-x441.google.com (mail-wr1-x441.google.com
 [IPv6:2a00:1450:4864:20::441])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 69BB06E390
 for <dri-devel@lists.freedesktop.org>; Sun, 11 Aug 2019 18:39:53 +0000 (UTC)
Received: by mail-wr1-x441.google.com with SMTP id r3so9015716wrt.3
 for <dri-devel@lists.freedesktop.org>; Sun, 11 Aug 2019 11:39:53 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:mime-version
 :content-transfer-encoding;
 bh=Thd+SnJS94FvgyesMyy8xkGkKId6wz/t2E7VQfVHPsQ=;
 b=MJ6amqlCCr5J7GXf5O/jv6n1QemGPwJwLbs/MwIa2QLeS3K0zmoxyIb+4NsvrkkWfv
 GaXVMJ5XErzM2yPUxAj1kl+bne1iOu0InakAMPfde4nteBCupfoYFlCB6QN7WVchu71X
 6JcDhQLUhxGrHCD9fYraFJA+Blnp5odNEWGcrLi3fshtaVDT+DYHD00txYS74euPWEtP
 6entrK06gITJKG9BvP41veIoXHblp0G2tP86iS/ly7n40AUM7BDmMTsIrI9h1ri2MAAl
 X3JOjupHjkt1sfSefdrQKezDqgtvPZnNIXzSkq3FGmSQ+R/t5xFGd8lsm88Tr3FptUz5
 vdHw==
X-Gm-Message-State: APjAAAUN1aWbsXJgTQCC/0Zd+2YVGSwvC2vgbO/jUq804w4CLtoaZ8YW
 zVng7uugtu/R1405Jq9vFss=
X-Google-Smtp-Source: APXvYqyjVVhbZx0ZteIn9cxOADrr26dnXT6i+8K2IY25Cz3eBvSl2n+pUrQ6NFBjo3SUKD5zw68rHw==
X-Received: by 2002:adf:e912:: with SMTP id f18mr15517298wrm.46.1565548791877; 
 Sun, 11 Aug 2019 11:39:51 -0700 (PDT)
Received: from localhost.localdomain ([94.29.34.218])
 by smtp.gmail.com with ESMTPSA id c187sm27793082wmd.39.2019.08.11.11.39.50
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Sun, 11 Aug 2019 11:39:51 -0700 (PDT)
From: Dmitry Osipenko <digetx@gmail.com>
To: Thierry Reding <thierry.reding@gmail.com>
Subject: [PATCH v2] drm/tegra: Turn off and reset hardware across
 suspend-resume
Date: Sun, 11 Aug 2019 21:39:32 +0300
Message-Id: <20190811183932.15850-1-digetx@gmail.com>
X-Mailer: git-send-email 2.22.0
MIME-Version: 1.0
X-Mailman-Approved-At: Thu, 15 Aug 2019 08:34:55 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:mime-version
 :content-transfer-encoding;
 bh=Thd+SnJS94FvgyesMyy8xkGkKId6wz/t2E7VQfVHPsQ=;
 b=hQpCtMe4aKBdXRiIioMwywueTIhJj72eB8yQASJiWao35F/h0dD6onsC7K0t6SESb5
 kNvdwzEdbmVM6I75KL+EfchmH70cGFNsjb5bfRWRe+WAW0DYtpMqCeeKhfExD9o/EkYG
 Flfa84ybQYMOxt1+4XtmegE/fIyDoHjncAR9U2CDo9ZyUxcOSNTYUd6BRwW0Flq0CwyG
 1bRzqts14TO/nsEwIQmn7hKVWncQAhYB4PUt1df3QvhuMdtqJCyjubwfeez6tbccuMVt
 TPmdWTafYme41O6M3Dm64gmKENiR2zROmWtVOif4J5zj0U+CwrgVNyjd6U30yUqfSeYJ
 6S0g==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-tegra@vger.kernel.org, linux-kernel@vger.kernel.org,
 dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIGRyaXZlcnMgY29yZSBidW1wcyBydW50aW1lIFBNIHJlZmNvdW50IGR1cmluZyBvZiBlbnRl
cmluZyBpbnRvCnN1c3BlbmQgdG8gd29ya2Fyb3VuZCBzb21lIHByb2JsZW0gd2hlcmUgcGFyZW50
IGRldmljZSBtYXkgYmVjb21lIHR1cm5lZApvZmYgYmVmb3JlIGl0cyBjaGlsZHJlbi4gSW4gb3Jk
ZXIgdG8gZGlzYWJsZSBhbmQgcmVzZXQgQ1JUQ3MvSERNSS9ldGMKaGFyZHdhcmUsIHRoZSBydW50
aW1lIFBNIG5lZWRzIHRvIGJlICJmb3JjZWQiIGludG8gc3VzcGVuZCBtb2RlLgoKU2lnbmVkLW9m
Zi1ieTogRG1pdHJ5IE9zaXBlbmtvIDxkaWdldHhAZ21haWwuY29tPgotLS0KCkNoYW5nZWxvZzoK
CnYyOiBUaGUgU1lTVEVNX1NMRUVQX1BNX09QUyBhcmUgbm93IHNldCBmb3IgYWxsIG9mIHRoZSBy
ZWxldmFudCBkcml2ZXJzIGFuZAogICAgbm90IG9ubHkgZm9yIHRoZSBEQyBiZWNhdXNlIHR1cm5l
ZCBvdXQgdGhhdCB0aGV5IGFsbCBzaG91bGQgZW5mb3JjZSB0aGUKICAgIHN1c3BlbmRpbmcuCgog
ZHJpdmVycy9ncHUvZHJtL3RlZ3JhL2RjLmMgICAgfCAyICsrCiBkcml2ZXJzL2dwdS9kcm0vdGVn
cmEvZHBhdXguYyB8IDIgKysKIGRyaXZlcnMvZ3B1L2RybS90ZWdyYS9kc2kuYyAgIHwgMiArKwog
ZHJpdmVycy9ncHUvZHJtL3RlZ3JhL2hkbWkuYyAgfCAyICsrCiBkcml2ZXJzL2dwdS9kcm0vdGVn
cmEvaHViLmMgICB8IDIgKysKIGRyaXZlcnMvZ3B1L2RybS90ZWdyYS9zb3IuYyAgIHwgMiArKwog
ZHJpdmVycy9ncHUvZHJtL3RlZ3JhL3ZpYy5jICAgfCAyICsrCiA3IGZpbGVzIGNoYW5nZWQsIDE0
IGluc2VydGlvbnMoKykKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdGVncmEvZGMuYyBi
L2RyaXZlcnMvZ3B1L2RybS90ZWdyYS9kYy5jCmluZGV4IDRhNzVkMTQ5ZTM2OC4uNmM4ZjUyMjJk
NTU4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vdGVncmEvZGMuYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vdGVncmEvZGMuYwpAQCAtMjU3Miw2ICsyNTcyLDggQEAgc3RhdGljIGludCB0ZWdy
YV9kY19yZXN1bWUoc3RydWN0IGRldmljZSAqZGV2KQogCiBzdGF0aWMgY29uc3Qgc3RydWN0IGRl
dl9wbV9vcHMgdGVncmFfZGNfcG1fb3BzID0gewogCVNFVF9SVU5USU1FX1BNX09QUyh0ZWdyYV9k
Y19zdXNwZW5kLCB0ZWdyYV9kY19yZXN1bWUsIE5VTEwpCisJU0VUX1NZU1RFTV9TTEVFUF9QTV9P
UFMocG1fcnVudGltZV9mb3JjZV9zdXNwZW5kLAorCQkJCXBtX3J1bnRpbWVfZm9yY2VfcmVzdW1l
KQogfTsKIAogc3RydWN0IHBsYXRmb3JtX2RyaXZlciB0ZWdyYV9kY19kcml2ZXIgPSB7CmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdGVncmEvZHBhdXguYyBiL2RyaXZlcnMvZ3B1L2RybS90
ZWdyYS9kcGF1eC5jCmluZGV4IDJkOTRkYTIyNWU1MS4uMjJmODBmNjlmZmI4IDEwMDY0NAotLS0g
YS9kcml2ZXJzL2dwdS9kcm0vdGVncmEvZHBhdXguYworKysgYi9kcml2ZXJzL2dwdS9kcm0vdGVn
cmEvZHBhdXguYwpAQCAtNjM4LDYgKzYzOCw4IEBAIHN0YXRpYyBpbnQgdGVncmFfZHBhdXhfcmVz
dW1lKHN0cnVjdCBkZXZpY2UgKmRldikKIAogc3RhdGljIGNvbnN0IHN0cnVjdCBkZXZfcG1fb3Bz
IHRlZ3JhX2RwYXV4X3BtX29wcyA9IHsKIAlTRVRfUlVOVElNRV9QTV9PUFModGVncmFfZHBhdXhf
c3VzcGVuZCwgdGVncmFfZHBhdXhfcmVzdW1lLCBOVUxMKQorCVNFVF9TWVNURU1fU0xFRVBfUE1f
T1BTKHBtX3J1bnRpbWVfZm9yY2Vfc3VzcGVuZCwKKwkJCQlwbV9ydW50aW1lX2ZvcmNlX3Jlc3Vt
ZSkKIH07CiAKIHN0YXRpYyBjb25zdCBzdHJ1Y3Qgb2ZfZGV2aWNlX2lkIHRlZ3JhX2RwYXV4X29m
X21hdGNoW10gPSB7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdGVncmEvZHNpLmMgYi9k
cml2ZXJzL2dwdS9kcm0vdGVncmEvZHNpLmMKaW5kZXggMmZiZmVmZTljYjQyLi5mZDBmOGNlYzhj
N2UgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS90ZWdyYS9kc2kuYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vdGVncmEvZHNpLmMKQEAgLTE2NjUsNiArMTY2NSw4IEBAIHN0YXRpYyBpbnQgdGVn
cmFfZHNpX3Jlc3VtZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiAKIHN0YXRpYyBjb25zdCBzdHJ1Y3Qg
ZGV2X3BtX29wcyB0ZWdyYV9kc2lfcG1fb3BzID0gewogCVNFVF9SVU5USU1FX1BNX09QUyh0ZWdy
YV9kc2lfc3VzcGVuZCwgdGVncmFfZHNpX3Jlc3VtZSwgTlVMTCkKKwlTRVRfU1lTVEVNX1NMRUVQ
X1BNX09QUyhwbV9ydW50aW1lX2ZvcmNlX3N1c3BlbmQsCisJCQkJcG1fcnVudGltZV9mb3JjZV9y
ZXN1bWUpCiB9OwogCiBzdGF0aWMgY29uc3Qgc3RydWN0IG9mX2RldmljZV9pZCB0ZWdyYV9kc2lf
b2ZfbWF0Y2hbXSA9IHsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS90ZWdyYS9oZG1pLmMg
Yi9kcml2ZXJzL2dwdS9kcm0vdGVncmEvaGRtaS5jCmluZGV4IDMzNGM0ZDdkMjM4Yi4uZWY2NmRl
ZmFjNzY3IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vdGVncmEvaGRtaS5jCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS90ZWdyYS9oZG1pLmMKQEAgLTE3MzksNiArMTczOSw4IEBAIHN0YXRpYyBp
bnQgdGVncmFfaGRtaV9yZXN1bWUoc3RydWN0IGRldmljZSAqZGV2KQogCiBzdGF0aWMgY29uc3Qg
c3RydWN0IGRldl9wbV9vcHMgdGVncmFfaGRtaV9wbV9vcHMgPSB7CiAJU0VUX1JVTlRJTUVfUE1f
T1BTKHRlZ3JhX2hkbWlfc3VzcGVuZCwgdGVncmFfaGRtaV9yZXN1bWUsIE5VTEwpCisJU0VUX1NZ
U1RFTV9TTEVFUF9QTV9PUFMocG1fcnVudGltZV9mb3JjZV9zdXNwZW5kLAorCQkJCXBtX3J1bnRp
bWVfZm9yY2VfcmVzdW1lKQogfTsKIAogc3RydWN0IHBsYXRmb3JtX2RyaXZlciB0ZWdyYV9oZG1p
X2RyaXZlciA9IHsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS90ZWdyYS9odWIuYyBiL2Ry
aXZlcnMvZ3B1L2RybS90ZWdyYS9odWIuYwppbmRleCA5MmYyMDJlYzA1NzcuLjNkMzNkMDM2MDE2
OSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3RlZ3JhL2h1Yi5jCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS90ZWdyYS9odWIuYwpAQCAtOTMxLDYgKzkzMSw4IEBAIHN0YXRpYyBpbnQgX19tYXli
ZV91bnVzZWQgdGVncmFfZGlzcGxheV9odWJfcmVzdW1lKHN0cnVjdCBkZXZpY2UgKmRldikKIHN0
YXRpYyBjb25zdCBzdHJ1Y3QgZGV2X3BtX29wcyB0ZWdyYV9kaXNwbGF5X2h1Yl9wbV9vcHMgPSB7
CiAJU0VUX1JVTlRJTUVfUE1fT1BTKHRlZ3JhX2Rpc3BsYXlfaHViX3N1c3BlbmQsCiAJCQkgICB0
ZWdyYV9kaXNwbGF5X2h1Yl9yZXN1bWUsIE5VTEwpCisJU0VUX1NZU1RFTV9TTEVFUF9QTV9PUFMo
cG1fcnVudGltZV9mb3JjZV9zdXNwZW5kLAorCQkJCXBtX3J1bnRpbWVfZm9yY2VfcmVzdW1lKQog
fTsKIAogc3RhdGljIGNvbnN0IHN0cnVjdCB0ZWdyYV9kaXNwbGF5X2h1Yl9zb2MgdGVncmExODZf
ZGlzcGxheV9odWIgPSB7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdGVncmEvc29yLmMg
Yi9kcml2ZXJzL2dwdS9kcm0vdGVncmEvc29yLmMKaW5kZXggNGZmZTM3OTRlNmQzLi5iNzQzMTkz
YmYwYjEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS90ZWdyYS9zb3IuYworKysgYi9kcml2
ZXJzL2dwdS9kcm0vdGVncmEvc29yLmMKQEAgLTM1NzIsNiArMzU3Miw4IEBAIHN0YXRpYyBpbnQg
dGVncmFfc29yX3Jlc3VtZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiAKIHN0YXRpYyBjb25zdCBzdHJ1
Y3QgZGV2X3BtX29wcyB0ZWdyYV9zb3JfcG1fb3BzID0gewogCVNFVF9SVU5USU1FX1BNX09QUyh0
ZWdyYV9zb3Jfc3VzcGVuZCwgdGVncmFfc29yX3Jlc3VtZSwgTlVMTCkKKwlTRVRfU1lTVEVNX1NM
RUVQX1BNX09QUyhwbV9ydW50aW1lX2ZvcmNlX3N1c3BlbmQsCisJCQkJcG1fcnVudGltZV9mb3Jj
ZV9yZXN1bWUpCiB9OwogCiBzdHJ1Y3QgcGxhdGZvcm1fZHJpdmVyIHRlZ3JhX3Nvcl9kcml2ZXIg
PSB7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdGVncmEvdmljLmMgYi9kcml2ZXJzL2dw
dS9kcm0vdGVncmEvdmljLmMKaW5kZXggOTU4NTQ4ZWY2OWU3Li44ODAzMDRhNjVjNWMgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS90ZWdyYS92aWMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0v
dGVncmEvdmljLmMKQEAgLTQ3Niw2ICs0NzYsOCBAQCBzdGF0aWMgaW50IHZpY19yZW1vdmUoc3Ry
dWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKIAogc3RhdGljIGNvbnN0IHN0cnVjdCBkZXZfcG1f
b3BzIHZpY19wbV9vcHMgPSB7CiAJU0VUX1JVTlRJTUVfUE1fT1BTKHZpY19ydW50aW1lX3N1c3Bl
bmQsIHZpY19ydW50aW1lX3Jlc3VtZSwgTlVMTCkKKwlTRVRfU1lTVEVNX1NMRUVQX1BNX09QUyhw
bV9ydW50aW1lX2ZvcmNlX3N1c3BlbmQsCisJCQkJcG1fcnVudGltZV9mb3JjZV9yZXN1bWUpCiB9
OwogCiBzdHJ1Y3QgcGxhdGZvcm1fZHJpdmVyIHRlZ3JhX3ZpY19kcml2ZXIgPSB7Ci0tIAoyLjIy
LjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1k
ZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczov
L2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
