Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id BA17F9533B
	for <lists+dri-devel@lfdr.de>; Tue, 20 Aug 2019 03:19:05 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 08A316E57B;
	Tue, 20 Aug 2019 01:18:20 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from perceval.ideasonboard.com (perceval.ideasonboard.com
 [213.167.242.64])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8C1676E529
 for <dri-devel@lists.freedesktop.org>; Tue, 20 Aug 2019 01:17:52 +0000 (UTC)
Received: from pendragon.bb.dnainternet.fi
 (dfj612yhrgyx302h3jwwy-3.rev.dnainternet.fi
 [IPv6:2001:14ba:21f5:5b00:ce28:277f:58d7:3ca4])
 by perceval.ideasonboard.com (Postfix) with ESMTPSA id CF29ED84;
 Tue, 20 Aug 2019 03:17:46 +0200 (CEST)
From: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH v2 22/50] drm/omap: Add infrastructure to support drm_bridge
 local to DSS outputs
Date: Tue, 20 Aug 2019 04:16:53 +0300
Message-Id: <20190820011721.30136-23-laurent.pinchart@ideasonboard.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190820011721.30136-1-laurent.pinchart@ideasonboard.com>
References: <20190820011721.30136-1-laurent.pinchart@ideasonboard.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=ideasonboard.com; s=mail; t=1566263867;
 bh=dO4hszL4sb7kA9/3qjoDnN72rGQU8kHC8ktDHTEps0k=;
 h=From:To:Cc:Subject:Date:In-Reply-To:References:From;
 b=jtYrjBDgEWDI5lERbgvrJE8rUt2pRGAlB0bw1JWfB2nB4EPW/CkBr97aLE3taUO48
 o/mMFmqMQFTnfViVprCCxucqUKXbwK8HdAZBgUDQ92pX6GCXsww+S5J5VcEct1s+Xp
 xNR1JRRtbCVjFNXtYFCgHOp1olBa3oMyZgq31zeY=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Maxime Ripard <maxime.ripard@bootlin.com>,
 Tomi Valkeinen <tomi.valkeinen@ti.com>, Sean Paul <sean@poorly.run>,
 Sebastian Reichel <sebastian.reichel@collabora.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SW4gb3JkZXIgdG8gc3VwcG9ydCBkcm1fYnJpZGdlLWJhc2VkIHBpcGVsaW5lLCB0aGUgaW50ZXJu
YWwgSERNSQplbmNvZGVycyB3aWxsIG5lZWQgdG8gZXhwb3NlIHRoZSBFRElEIHJlYWQgb3BlcmF0
aW9uIHRocm91Z2ggdGhlCmRybV9icmlkZ2UgQVBJLCBhbmQgdGh1cyB0byBleHBvc2UgYSBkcm1f
YnJpZGdlIGluc3RhbmNlIGNvcnJlc3BvbmRpbmcKdG8gdGhlIGVuY29kZXIuIFRoZSBIRE1JIGVu
Y29kZXJzIGFyZSBob3dldmVyIGhhbmRsZWQgYXMgb21hcF9kc3NfZGV2aWNlCmluc3RhbmNlcywg
d2hpY2ggY29uZmxpY3RzIHdpdGggdGhpcyByZXF1aXJlbWVudC4KCkluIG9yZGVyIHRvIG1vdmUg
Zm9yd2FyZCB3aXRoIHRoZSBkcm1fYnJpZGdlIHRyYW5zaXRpb24sIGFkZCBzdXBwb3J0IGZvcgpj
cmVhdGluZyBkcm1fYnJpZGdlIGluc3RhbmNlcyBsb2NhbCB0byBEU1Mgb3V0cHV0cy4gSWYgYSBs
b2NhbCBicmlkZ2UgaXMKcGFzc2VkIHRvIHRoZSBvbWFwZHNzX2RldmljZV9pbml0X291dHB1dCgp
IGZ1bmN0aW9uLCBpdCBpcyB1c2VkIGFzIHRoZQpmaXJzdCBicmlkZ2UgaW4gdGhlIGNoYWluLCBh
bmQgdGhlIG9tYXBfZHNzX2RldmljZS5uZXh0X2JyaWRnZSBmaWVsZCBpcwpzZXQgdG8gdGhlIG5l
eHQgYnJpZGdlIGZvciB0aGUgdXNlIG9mIHRoZSBpbnRlcm5hbCBlbmNvZGVycycgYnJpZGdlcy4K
ClNpZ25lZC1vZmYtYnk6IExhdXJlbnQgUGluY2hhcnQgPGxhdXJlbnQucGluY2hhcnRAaWRlYXNv
bmJvYXJkLmNvbT4KUmV2aWV3ZWQtYnk6IFRvbWkgVmFsa2VpbmVuIDx0b21pLnZhbGtlaW5lbkB0
aS5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vZHNzL2RwaS5jICAgICB8ICAyICst
CiBkcml2ZXJzL2dwdS9kcm0vb21hcGRybS9kc3MvZHNpLmMgICAgIHwgIDIgKy0KIGRyaXZlcnMv
Z3B1L2RybS9vbWFwZHJtL2Rzcy9oZG1pNC5jICAgfCAgMiArLQogZHJpdmVycy9ncHUvZHJtL29t
YXBkcm0vZHNzL2hkbWk1LmMgICB8ICAyICstCiBkcml2ZXJzL2dwdS9kcm0vb21hcGRybS9kc3Mv
b21hcGRzcy5oIHwgIDQgKysrLQogZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vZHNzL291dHB1dC5j
ICB8IDIwICsrKysrKysrKysrKysrKystLS0tCiBkcml2ZXJzL2dwdS9kcm0vb21hcGRybS9kc3Mv
c2RpLmMgICAgIHwgIDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL2Rzcy92ZW5jLmMgICAg
fCAgMiArLQogZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vb21hcF9kcnYuYyAgICB8ICAyICstCiA5
IGZpbGVzIGNoYW5nZWQsIDI2IGluc2VydGlvbnMoKyksIDEyIGRlbGV0aW9ucygtKQoKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL2Rzcy9kcGkuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9vbWFwZHJtL2Rzcy9kcGkuYwppbmRleCA0NjJlZDZmMzExOGEuLjJkMGViNWZjYmI1YiAxMDA2
NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vZHNzL2RwaS5jCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS9vbWFwZHJtL2Rzcy9kcGkuYwpAQCAtNjI5LDcgKzYyOSw3IEBAIHN0YXRpYyBpbnQg
ZHBpX2luaXRfb3V0cHV0X3BvcnQoc3RydWN0IGRwaV9kYXRhICpkcGksIHN0cnVjdCBkZXZpY2Vf
bm9kZSAqcG9ydCkKIAlvdXQtPm9wcyA9ICZkcGlfb3BzOwogCW91dC0+b3duZXIgPSBUSElTX01P
RFVMRTsKIAotCXIgPSBvbWFwZHNzX2RldmljZV9pbml0X291dHB1dChvdXQpOworCXIgPSBvbWFw
ZHNzX2RldmljZV9pbml0X291dHB1dChvdXQsIE5VTEwpOwogCWlmIChyIDwgMCkKIAkJcmV0dXJu
IHI7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL2Rzcy9kc2kuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9vbWFwZHJtL2Rzcy9kc2kuYwppbmRleCAwYjA0YTEwYjg5OTYuLjk4OWQw
ZDE0ZWQ1YSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vZHNzL2RzaS5jCisr
KyBiL2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL2Rzcy9kc2kuYwpAQCAtNTEyMiw3ICs1MTIyLDcg
QEAgc3RhdGljIGludCBkc2lfaW5pdF9vdXRwdXQoc3RydWN0IGRzaV9kYXRhICpkc2kpCiAJCSAg
ICAgICB8IERSTV9CVVNfRkxBR19ERV9ISUdICiAJCSAgICAgICB8IERSTV9CVVNfRkxBR19TWU5D
X0RSSVZFX05FR0VER0U7CiAKLQlyID0gb21hcGRzc19kZXZpY2VfaW5pdF9vdXRwdXQob3V0KTsK
KwlyID0gb21hcGRzc19kZXZpY2VfaW5pdF9vdXRwdXQob3V0LCBOVUxMKTsKIAlpZiAociA8IDAp
CiAJCXJldHVybiByOwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vb21hcGRybS9kc3Mv
aGRtaTQuYyBiL2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL2Rzcy9oZG1pNC5jCmluZGV4IDQ0MDc1
NzE4NDA3Yi4uZGQ0YTE0ZmU3ZTU5IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vb21hcGRy
bS9kc3MvaGRtaTQuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vb21hcGRybS9kc3MvaGRtaTQuYwpA
QCAtNjc2LDcgKzY3Niw3IEBAIHN0YXRpYyBpbnQgaGRtaTRfaW5pdF9vdXRwdXQoc3RydWN0IG9t
YXBfaGRtaSAqaGRtaSkKIAlvdXQtPm9mX3BvcnQgPSAwOwogCW91dC0+b3BzX2ZsYWdzID0gT01B
UF9EU1NfREVWSUNFX09QX0VESUQ7CiAKLQlyID0gb21hcGRzc19kZXZpY2VfaW5pdF9vdXRwdXQo
b3V0KTsKKwlyID0gb21hcGRzc19kZXZpY2VfaW5pdF9vdXRwdXQob3V0LCBOVUxMKTsKIAlpZiAo
ciA8IDApCiAJCXJldHVybiByOwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vb21hcGRy
bS9kc3MvaGRtaTUuYyBiL2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL2Rzcy9oZG1pNS5jCmluZGV4
IDFiNWJkNDRlZTA5ZC4uOGUzNzkwZGQ4Yjk4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
b21hcGRybS9kc3MvaGRtaTUuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vb21hcGRybS9kc3MvaGRt
aTUuYwpAQCAtNjYwLDcgKzY2MCw3IEBAIHN0YXRpYyBpbnQgaGRtaTVfaW5pdF9vdXRwdXQoc3Ry
dWN0IG9tYXBfaGRtaSAqaGRtaSkKIAlvdXQtPm9mX3BvcnQgPSAwOwogCW91dC0+b3BzX2ZsYWdz
ID0gT01BUF9EU1NfREVWSUNFX09QX0VESUQ7CiAKLQlyID0gb21hcGRzc19kZXZpY2VfaW5pdF9v
dXRwdXQob3V0KTsKKwlyID0gb21hcGRzc19kZXZpY2VfaW5pdF9vdXRwdXQob3V0LCBOVUxMKTsK
IAlpZiAociA8IDApCiAJCXJldHVybiByOwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
b21hcGRybS9kc3Mvb21hcGRzcy5oIGIvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vZHNzL29tYXBk
c3MuaAppbmRleCBiNDhhNTFkMTEzMTAuLjgyZTliZmE1NTMwYSAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL29tYXBkcm0vZHNzL29tYXBkc3MuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vb21h
cGRybS9kc3Mvb21hcGRzcy5oCkBAIC00MDAsNiArNDAwLDcgQEAgc3RydWN0IG9tYXBfZHNzX2Rl
dmljZSB7CiAJc3RydWN0IGRzc19kZXZpY2UgKmRzczsKIAlzdHJ1Y3Qgb21hcF9kc3NfZGV2aWNl
ICpuZXh0OwogCXN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2U7CisJc3RydWN0IGRybV9icmlkZ2Ug
Km5leHRfYnJpZGdlOwogCXN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsOwogCiAJc3RydWN0IGxpc3Rf
aGVhZCBsaXN0OwpAQCAtNDg4LDcgKzQ4OSw4IEBAIGludCBvbWFwX2Rzc19nZXRfbnVtX292ZXJs
YXlzKHZvaWQpOwogI2RlZmluZSBmb3JfZWFjaF9kc3Nfb3V0cHV0KGQpIFwKIAl3aGlsZSAoKGQg
PSBvbWFwZHNzX2RldmljZV9uZXh0X291dHB1dChkKSkgIT0gTlVMTCkKIHN0cnVjdCBvbWFwX2Rz
c19kZXZpY2UgKm9tYXBkc3NfZGV2aWNlX25leHRfb3V0cHV0KHN0cnVjdCBvbWFwX2Rzc19kZXZp
Y2UgKmZyb20pOwotaW50IG9tYXBkc3NfZGV2aWNlX2luaXRfb3V0cHV0KHN0cnVjdCBvbWFwX2Rz
c19kZXZpY2UgKm91dCk7CitpbnQgb21hcGRzc19kZXZpY2VfaW5pdF9vdXRwdXQoc3RydWN0IG9t
YXBfZHNzX2RldmljZSAqb3V0LAorCQkJICAgICAgIHN0cnVjdCBkcm1fYnJpZGdlICpsb2NhbF9i
cmlkZ2UpOwogdm9pZCBvbWFwZHNzX2RldmljZV9jbGVhbnVwX291dHB1dChzdHJ1Y3Qgb21hcF9k
c3NfZGV2aWNlICpvdXQpOwogCiB0eXBlZGVmIHZvaWQgKCpvbWFwX2Rpc3BjX2lzcl90KSAodm9p
ZCAqYXJnLCB1MzIgbWFzayk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vb21hcGRybS9k
c3Mvb3V0cHV0LmMgYi9kcml2ZXJzL2dwdS9kcm0vb21hcGRybS9kc3Mvb3V0cHV0LmMKaW5kZXgg
NzQ1YWZkN2Q4MGRlLi5iMjc3MzlhZmIzMzUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9v
bWFwZHJtL2Rzcy9vdXRwdXQuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vb21hcGRybS9kc3Mvb3V0
cHV0LmMKQEAgLTE2LDcgKzE2LDggQEAKICNpbmNsdWRlICJkc3MuaCIKICNpbmNsdWRlICJvbWFw
ZHNzLmgiCiAKLWludCBvbWFwZHNzX2RldmljZV9pbml0X291dHB1dChzdHJ1Y3Qgb21hcF9kc3Nf
ZGV2aWNlICpvdXQpCitpbnQgb21hcGRzc19kZXZpY2VfaW5pdF9vdXRwdXQoc3RydWN0IG9tYXBf
ZHNzX2RldmljZSAqb3V0LAorCQkJICAgICAgIHN0cnVjdCBkcm1fYnJpZGdlICpsb2NhbF9icmlk
Z2UpCiB7CiAJc3RydWN0IGRldmljZV9ub2RlICpyZW1vdGVfbm9kZTsKIAlpbnQgcmV0OwpAQCAt
NTksMTAgKzYwLDIwIEBAIGludCBvbWFwZHNzX2RldmljZV9pbml0X291dHB1dChzdHJ1Y3Qgb21h
cF9kc3NfZGV2aWNlICpvdXQpCiAJCW91dC0+YnJpZGdlID0gYnJpZGdlOwogCX0KIAotCXJldHVy
biBvdXQtPm5leHQgfHwgb3V0LT5icmlkZ2UgPyAwIDogLUVQUk9CRV9ERUZFUjsKKwlpZiAobG9j
YWxfYnJpZGdlKSB7CisJCW91dC0+bmV4dF9icmlkZ2UgPSBvdXQtPmJyaWRnZTsKKwkJb3V0LT5i
cmlkZ2UgPSBsb2NhbF9icmlkZ2U7CisJfQorCisJaWYgKCFvdXQtPm5leHQgJiYgIW91dC0+YnJp
ZGdlKSB7CisJCXJldCA9IC1FUFJPQkVfREVGRVI7CisJCWdvdG8gZXJyb3I7CisJfQorCisJcmV0
dXJuIDA7CiAKIGVycm9yOgotCW9tYXBkc3NfZGV2aWNlX3B1dChvdXQtPm5leHQpOworCW9tYXBk
c3NfZGV2aWNlX2NsZWFudXBfb3V0cHV0KG91dCk7CiAJb3V0LT5uZXh0ID0gTlVMTDsKIAlyZXR1
cm4gcmV0OwogfQpAQCAtNzEsNyArODIsOCBAQCBFWFBPUlRfU1lNQk9MKG9tYXBkc3NfZGV2aWNl
X2luaXRfb3V0cHV0KTsKIHZvaWQgb21hcGRzc19kZXZpY2VfY2xlYW51cF9vdXRwdXQoc3RydWN0
IG9tYXBfZHNzX2RldmljZSAqb3V0KQogewogCWlmIChvdXQtPmJyaWRnZSAmJiBvdXQtPnBhbmVs
KQotCQlkcm1fcGFuZWxfYnJpZGdlX3JlbW92ZShvdXQtPmJyaWRnZSk7CisJCWRybV9wYW5lbF9i
cmlkZ2VfcmVtb3ZlKG91dC0+bmV4dF9icmlkZ2UgPworCQkJCQlvdXQtPm5leHRfYnJpZGdlIDog
b3V0LT5icmlkZ2UpOwogCiAJaWYgKG91dC0+bmV4dCkKIAkJb21hcGRzc19kZXZpY2VfcHV0KG91
dC0+bmV4dCk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vb21hcGRybS9kc3Mvc2RpLmMg
Yi9kcml2ZXJzL2dwdS9kcm0vb21hcGRybS9kc3Mvc2RpLmMKaW5kZXggOTA5MmVkM2QwZWYxLi4x
MWFhMmY3MTJmZjQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL2Rzcy9zZGku
YworKysgYi9kcml2ZXJzL2dwdS9kcm0vb21hcGRybS9kc3Mvc2RpLmMKQEAgLTI3MSw3ICsyNzEs
NyBAQCBzdGF0aWMgaW50IHNkaV9pbml0X291dHB1dChzdHJ1Y3Qgc2RpX2RldmljZSAqc2RpKQog
CW91dC0+YnVzX2ZsYWdzID0gRFJNX0JVU19GTEFHX1BJWERBVEFfRFJJVkVfUE9TRURHRQkvKiAx
NS41LjkuMS4yICovCiAJCSAgICAgICB8IERSTV9CVVNfRkxBR19TWU5DX0RSSVZFX1BPU0VER0U7
CiAKLQlyID0gb21hcGRzc19kZXZpY2VfaW5pdF9vdXRwdXQob3V0KTsKKwlyID0gb21hcGRzc19k
ZXZpY2VfaW5pdF9vdXRwdXQob3V0LCBOVUxMKTsKIAlpZiAociA8IDApCiAJCXJldHVybiByOwog
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vb21hcGRybS9kc3MvdmVuYy5jIGIvZHJpdmVy
cy9ncHUvZHJtL29tYXBkcm0vZHNzL3ZlbmMuYwppbmRleCBlMmY0ODBmNjg5YjguLjk3N2Q4ZDUy
NWI0MyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vZHNzL3ZlbmMuYworKysg
Yi9kcml2ZXJzL2dwdS9kcm0vb21hcGRybS9kc3MvdmVuYy5jCkBAIC03NTcsNyArNzU3LDcgQEAg
c3RhdGljIGludCB2ZW5jX2luaXRfb3V0cHV0KHN0cnVjdCB2ZW5jX2RldmljZSAqdmVuYykKIAlv
dXQtPm9mX3BvcnQgPSAwOwogCW91dC0+b3BzX2ZsYWdzID0gT01BUF9EU1NfREVWSUNFX09QX01P
REVTOwogCi0JciA9IG9tYXBkc3NfZGV2aWNlX2luaXRfb3V0cHV0KG91dCk7CisJciA9IG9tYXBk
c3NfZGV2aWNlX2luaXRfb3V0cHV0KG91dCwgTlVMTCk7CiAJaWYgKHIgPCAwKQogCQlyZXR1cm4g
cjsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vb21hcF9kcnYuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9vbWFwZHJtL29tYXBfZHJ2LmMKaW5kZXggNzI4NzJkZmRiNzNlLi5kZTM3
M2ZkNTA3MjkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL29tYXBfZHJ2LmMK
KysrIGIvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vb21hcF9kcnYuYwpAQCAtMzIzLDcgKzMyMyw3
IEBAIHN0YXRpYyBpbnQgb21hcF9tb2Rlc2V0X2luaXQoc3RydWN0IGRybV9kZXZpY2UgKmRldikK
IAkJc3RydWN0IGRybV9lbmNvZGVyICplbmNvZGVyID0gcGlwZS0+ZW5jb2RlcjsKIAkJc3RydWN0
IGRybV9jcnRjICpjcnRjOwogCi0JCWlmICghcGlwZS0+b3V0cHV0LT5icmlkZ2UpIHsKKwkJaWYg
KHBpcGUtPm91dHB1dC0+bmV4dCkgewogCQkJcGlwZS0+Y29ubmVjdG9yID0gb21hcF9jb25uZWN0
b3JfaW5pdChkZXYsIHBpcGUtPm91dHB1dCwKIAkJCQkJCQkgICAgICBlbmNvZGVyKTsKIAkJCWlm
ICghcGlwZS0+Y29ubmVjdG9yKQotLSAKUmVnYXJkcywKCkxhdXJlbnQgUGluY2hhcnQKCl9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWls
aW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZy
ZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
