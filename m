Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 23003326217
	for <lists+dri-devel@lfdr.de>; Fri, 26 Feb 2021 12:46:20 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 343A86E0CD;
	Fri, 26 Feb 2021 11:46:17 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from smtp.domeneshop.no (smtp.domeneshop.no
 [IPv6:2a01:5b40:0:3005::1])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D286B6E0CD
 for <dri-devel@lists.freedesktop.org>; Fri, 26 Feb 2021 11:46:16 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=tronnes.org
 ; s=ds202012;
 h=Content-Transfer-Encoding:Content-Type:In-Reply-To:
 MIME-Version:Date:Message-ID:From:References:Cc:To:Subject:Sender:Reply-To:
 Content-ID:Content-Description:Resent-Date:Resent-From:Resent-Sender:
 Resent-To:Resent-Cc:Resent-Message-ID:List-Id:List-Help:List-Unsubscribe:
 List-Subscribe:List-Post:List-Owner:List-Archive;
 bh=o4+yVi71TUHK4ZbIbHpcIM8GtAca784/pykRj1YkBck=; b=NSp9dSW1JnT5/iiU78swZYu1Pn
 p2TKGwHECFmbYxxG5IU/r9Tj/OWhxHSbAkTLOA7xqyXgPwLD9SMrLrJo+H+P6FkCKADMfJXrwDl3N
 8eGIVGFjjcx59ojIBSrlZrnkoqnm6vJRQmgshusoEU8cgyYpMDtuRc1dpp0ffEYWiyRi5/0rZbuon
 b0sPStT6xQQF0VBB2ogSmvfKAofY5MELwMRSR10BMd75KfGTHgCOah6TPWWTLiEQV3UYtd0YRzijR
 0tKCfeTXyzxGyEFsjIQA8hisPvOd7AzwCYAvtnWGC+aRrvadOQR4sRbLRZHA0P9gxQRO5Bq/hDI+m
 xYUauKMQ==;
Received: from 211.81-166-168.customer.lyse.net ([81.166.168.211]:65104
 helo=[192.168.10.61])
 by smtp.domeneshop.no with esmtpsa (TLS1.3:ECDHE_RSA_AES_128_GCM_SHA256:128)
 (Exim 4.92) (envelope-from <noralf@tronnes.org>)
 id 1lFbZW-0003di-JL; Fri, 26 Feb 2021 12:46:14 +0100
Subject: Re: [PATCH v5] drm: Use USB controller's DMA mask when importing
 dmabufs
To: Thomas Zimmermann <tzimmermann@suse.de>, daniel@ffwll.ch,
 airlied@linux.ie, maarten.lankhorst@linux.intel.com, mripard@kernel.org,
 sumit.semwal@linaro.org, christian.koenig@amd.com,
 gregkh@linuxfoundation.org, hdegoede@redhat.com, sean@poorly.run,
 stern@rowland.harvard.edu
References: <20210226092648.4584-1-tzimmermann@suse.de>
From: =?UTF-8?Q?Noralf_Tr=c3=b8nnes?= <noralf@tronnes.org>
Message-ID: <a01b527b-69d1-d967-ab85-5407241b07f3@tronnes.org>
Date: Fri, 26 Feb 2021 12:46:10 +0100
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:78.0) Gecko/20100101
 Thunderbird/78.7.1
MIME-Version: 1.0
In-Reply-To: <20210226092648.4584-1-tzimmermann@suse.de>
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Daniel Vetter <daniel.vetter@ffwll.ch>, stable@vger.kernel.org,
 Pavel Machek <pavel@ucw.cz>, dri-devel@lists.freedesktop.org,
 Christoph Hellwig <hch@lst.de>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

CgpEZW4gMjYuMDIuMjAyMSAxMC4yNiwgc2tyZXYgVGhvbWFzIFppbW1lcm1hbm46Cj4gVVNCIGRl
dmljZXMgY2Fubm90IHBlcmZvcm0gRE1BIGFuZCBoZW5jZSBoYXZlIG5vIGRtYV9tYXNrIHNldCBp
biB0aGVpcgo+IGRldmljZSBzdHJ1Y3R1cmUuIFRoZXJlZm9yZSBpbXBvcnRpbmcgZG1hYnVmIGlu
dG8gYSBVU0ItYmFzZWQgZHJpdmVyCj4gZmFpbHMsIHdoaWNoIGJyZWFrcyBqb2luaW5nIGFuZCBt
aXJyb3Jpbmcgb2YgZGlzcGxheSBpbiBYMTEuCj4gCj4gRm9yIFVTQiBkZXZpY2VzLCBwaWNrIHRo
ZSBhc3NvY2lhdGVkIFVTQiBjb250cm9sbGVyIGFzIGF0dGFjaG1lbnQgZGV2aWNlLgo+IFRoaXMg
YWxsb3dzIHRoZSBEUk0gaW1wb3J0IGhlbHBlcnMgdG8gcGVyZm9ybSB0aGUgRE1BIHNldHVwLiBJ
ZiB0aGUgRE1BCj4gY29udHJvbGxlciBkb2VzIG5vdCBzdXBwb3J0IERNQSB0cmFuc2ZlcnMsIHdl
J3JlIG91dCBvZiBsdWNrIGFuZCBjYW5ub3QKPiBpbXBvcnQuIE91ciBjdXJyZW50IFVTQi1iYXNl
ZCBEUk0gZHJpdmVycyBkb24ndCB1c2UgRE1BLCBzbyB0aGUgYWN0dWFsCj4gRE1BIGRldmljZSBp
cyBub3QgaW1wb3J0YW50Lgo+IAo+IERyaXZlcnMgc2hvdWxkIHVzZSBEUk1fR0VNX1NITUVNX0RS
T1ZFUl9PUFNfVVNCIHRvIGluaXRpYWxpemUgdGhlaXIKPiBpbnN0YW5jZSBvZiBzdHJ1Y3QgZHJt
X2RyaXZlci4KPiAKPiBUZXN0ZWQgYnkgam9pbmluZy9taXJyb3JpbmcgZGlzcGxheXMgb2YgdWRs
IGFuZCByYWRlb24gdW4gZGVyIEdub21lL1gxMS4KPiAKPiB2NToKPiAJKiBwcm92aWRlIGEgaGVs
cGVyIGZvciBVU0IgaW50ZXJmYWNlcyAoQWxhbikKPiAJKiBhZGQgRklYTUUgaXRlbSB0byBkb2N1
bWVudGF0aW9uIGFuZCBUT0RPIGxpc3QgKERhbmllbCkKPiB2NDoKPiAJKiBpbXBsZW1lbnQgd29y
a2Fyb3VuZCB3aXRoIFVTQiBoZWxwZXIgZnVuY3Rpb25zIChHcmVnKQo+IAkqIHVzZSBzdHJ1Y3Qg
dXNiX2RldmljZS0+YnVzLT5zeXNkZXYgYXMgRE1BIGRldmljZSAoVGFrYXNoaSkKPiB2MzoKPiAJ
KiBkcm9wIGdlbV9jcmVhdGVfb2JqZWN0Cj4gCSogdXNlIERNQSBtYXNrIG9mIFVTQiBjb250cm9s
bGVyLCBpZiBhbnkgKERhbmllbCwgQ2hyaXN0aWFuLCBOb3JhbGYpCj4gdjI6Cj4gCSogbW92ZSBm
aXggdG8gaW1wb3J0ZXIgc2lkZSAoQ2hyaXN0aWFuLCBEYW5pZWwpCj4gCSogdXBkYXRlIFNITUVN
IGFuZCBDTUEgaGVscGVycyBmb3IgbmV3IFBSSU1FIGNhbGxiYWNrcwo+IAo+IFNpZ25lZC1vZmYt
Ynk6IFRob21hcyBaaW1tZXJtYW5uIDx0emltbWVybWFubkBzdXNlLmRlPgo+IEZpeGVzOiA2ZWIw
MjMzZWMyZDAgKCJ1c2I6IGRvbid0IGluaGVyaXR5IERNQSBwcm9wZXJ0aWVzIGZvciBVU0IgZGV2
aWNlcyIpCj4gVGVzdGVkLWJ5OiBQYXZlbCBNYWNoZWsgPHBhdmVsQHVjdy5jej4KPiBBY2tlZC1i
eTogQ2hyaXN0aWFuIEvDtm5pZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPgo+IEFja2VkLWJ5
OiBEYW5pZWwgVmV0dGVyIDxkYW5pZWwudmV0dGVyQGZmd2xsLmNoPgo+IENjOiBDaHJpc3RvcGgg
SGVsbHdpZyA8aGNoQGxzdC5kZT4KPiBDYzogR3JlZyBLcm9haC1IYXJ0bWFuIDxncmVna2hAbGlu
dXhmb3VuZGF0aW9uLm9yZz4KPiBDYzogPHN0YWJsZUB2Z2VyLmtlcm5lbC5vcmc+ICMgdjUuMTAr
Cj4gLS0tCgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vZHJtX3ByaW1lLmMgYi9kcml2
ZXJzL2dwdS9kcm0vZHJtX3ByaW1lLmMKPiBpbmRleCAyYTU0Zjg2ODU2YWYuLjU5MDEzYmIxY2Q0
YiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vZHJtX3ByaW1lLmMKPiArKysgYi9kcml2
ZXJzL2dwdS9kcm0vZHJtX3ByaW1lLmMKPiBAQCAtMjksNiArMjksNyBAQAo+ICAjaW5jbHVkZSA8
bGludXgvZXhwb3J0Lmg+Cj4gICNpbmNsdWRlIDxsaW51eC9kbWEtYnVmLmg+Cj4gICNpbmNsdWRl
IDxsaW51eC9yYnRyZWUuaD4KPiArI2luY2x1ZGUgPGxpbnV4L3VzYi5oPgo+ICAKPiAgI2luY2x1
ZGUgPGRybS9kcm0uaD4KPiAgI2luY2x1ZGUgPGRybS9kcm1fZHJ2Lmg+Cj4gQEAgLTEwNTUsMyAr
MTA1Niw0NyBAQCB2b2lkIGRybV9wcmltZV9nZW1fZGVzdHJveShzdHJ1Y3QgZHJtX2dlbV9vYmpl
Y3QgKm9iaiwgc3RydWN0IHNnX3RhYmxlICpzZykKPiAgCWRtYV9idWZfcHV0KGRtYV9idWYpOwo+
ICB9Cj4gIEVYUE9SVF9TWU1CT0woZHJtX3ByaW1lX2dlbV9kZXN0cm95KTsKPiArCj4gKy8qKgo+
ICsgKiBkcm1fZ2VtX3ByaW1lX2ltcG9ydF91c2IgLSBoZWxwZXIgbGlicmFyeSBpbXBsZW1lbnRh
dGlvbiBvZiB0aGUgaW1wb3J0IGNhbGxiYWNrIGZvciBVU0IgZGV2aWNlcwo+ICsgKiBAZGV2OiBk
cm1fZGV2aWNlIHRvIGltcG9ydCBpbnRvCj4gKyAqIEBkbWFfYnVmOiBkbWEtYnVmIG9iamVjdCB0
byBpbXBvcnQKPiArICoKPiArICogVGhpcyBpcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiBkcm1fZ2Vt
X3ByaW1lX2ltcG9ydCgpIGZvciBVU0ItYmFzZWQgZGV2aWNlcy4KPiArICogVVNCIGRldmljZXMg
Y2Fubm90IHBlcmZvcm0gRE1BIGRpcmVjdGx5LiBUaGlzIGZ1bmN0aW9uIHNlbGVjdHMgdGhlIFVT
QiBob3N0Cj4gKyAqIGNvbnRyb2xsZXIgYXMgRE1BIGRldmljZSBpbnN0ZWFkLiBEcml2ZXJzIGNh
biB1c2UgdGhpcyBhcyB0aGVpcgo+ICsgKiAmZHJtX2RyaXZlci5nZW1fcHJpbWVfaW1wb3J0IGlt
cGxlbWVudGF0aW9uLgo+ICsgKgo+ICsgKiBTZWUgYWxzbyBkcm1fZ2VtX3ByaW1lX2ltcG9ydCgp
Lgo+ICsgKgo+ICsgKiBGSVhNRTogVGhlIGRtYS1idWYgZnJhbWV3b3JrIGV4cGVjdHMgdG8gbWFw
IHRoZSBleHBvcnRlZCBwYWdlcyBpbnRvCj4gKyAqICAgICAgICB0aGUgaW1wb3J0ZXIncyBETUEg
YXJlYS4gVVNCIGRldmljZXMgZG9uJ3Qgc3VwcG9ydCBETUEsIGFuZAo+ICsgKiAgICAgICAgaW1w
b3J0aW5nIHdvdWxkIGZhaWwuIEZvaXIgdGhlIHRpbWUgYmVpbmcsIHRoaXMgZnVuY3Rpb24gcHJv
dmlkZXMKCnMvRm9pci9Gb3IvCgpOb3JhbGYuCgo+ICsgKiAgICAgICAgYSB3b3JrYXJvdW5kIGJ5
IHVzaW5nIHRoZSBVU0IgY29udHJvbGxlcidzIERNQSBhcmVhLiBUaGUgcmVhbAo+ICsgKiAgICAg
ICAgc29sdXRpb24gaXMgdG8gcmVtb3ZlIHBhZ2UtbWFwcGluZyBvcGVyYXRpb25zIGZyb20gdGhl
IGRtYS1idWYKPiArICogICAgICAgIGZyYW1ld29yay4KPiArICoKPiArICogUmV0dXJuczogQSBH
RU0gb2JqZWN0IG9uIHN1Y2Nlc3MsIG9yIGEgcG9pbnRlci1lbmNvZGVyIGVycm5vIHZhbHVlIG90
aGVyd2lzZS4KPiArICovCj4gKyNpZmRlZiBDT05GSUdfVVNCCj4gK3N0cnVjdCBkcm1fZ2VtX29i
amVjdCAqZHJtX2dlbV9wcmltZV9pbXBvcnRfdXNiKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCj4g
KwkJCQkJCXN0cnVjdCBkbWFfYnVmICpkbWFfYnVmKQo+ICt7Cj4gKwlzdHJ1Y3QgZGV2aWNlICpk
bWFkZXY7Cj4gKwlzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKm9iajsKPiArCj4gKwlpZiAoIWRldl9p
c191c2IoZGV2LT5kZXYpKQo+ICsJCXJldHVybiBFUlJfUFRSKC1FTk9ERVYpOwo+ICsKPiArCWRt
YWRldiA9IHVzYl9pbnRmX2dldF9kbWFfZGV2aWNlKHRvX3VzYl9pbnRlcmZhY2UoZGV2LT5kZXYp
KTsKPiArCWlmIChkcm1fV0FSTl9PTkNFKGRldiwgIWRtYWRldiwgImJ1ZmZlciBzaGFyaW5nIG5v
dCBzdXBwb3J0ZWQiKSkKPiArCQlyZXR1cm4gRVJSX1BUUigtRU5PREVWKTsKPiArCj4gKwlvYmog
PSBkcm1fZ2VtX3ByaW1lX2ltcG9ydF9kZXYoZGV2LCBkbWFfYnVmLCBkbWFkZXYpOwo+ICsKPiAr
CXB1dF9kZXZpY2UoZG1hZGV2KTsKPiArCj4gKwlyZXR1cm4gb2JqOwo+ICt9Cj4gK0VYUE9SVF9T
WU1CT0woZHJtX2dlbV9wcmltZV9pbXBvcnRfdXNiKTsKPiArI2VuZGlmCl9fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QK
ZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9w
Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbAo=
