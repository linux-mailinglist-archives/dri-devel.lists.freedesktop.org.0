Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 2305859474
	for <lists+dri-devel@lfdr.de>; Fri, 28 Jun 2019 08:54:12 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0C1C56E887;
	Fri, 28 Jun 2019 06:54:08 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-oi1-x243.google.com (mail-oi1-x243.google.com
 [IPv6:2607:f8b0:4864:20::243])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 05ABC6E887
 for <dri-devel@lists.freedesktop.org>; Fri, 28 Jun 2019 06:54:05 +0000 (UTC)
Received: by mail-oi1-x243.google.com with SMTP id v186so3515939oie.5
 for <dri-devel@lists.freedesktop.org>; Thu, 27 Jun 2019 23:54:05 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=S/PetohOoe7aU0IbZ6w8VBQxeydRblqlUdn2FrogX1c=;
 b=A3vJGGuoSot8jqMdSm5LeWmrg1zeD1dRFVt3bCV8cnMjPBKSCRNlGjN/mamQ9Vd5jS
 yW10EKQDjU4BrFCEnJY7s9kIzpD5Tjz19BTkZkcssddcDgPgtmY5p2KK+kqg/cFIgire
 6h5sRtLM2iDaGBItTILbfe+D41jnnAPTGEAsls1Tbmt7NPHHrwaV+2/X4mLTyhTe0CXS
 3Gw0yl5tVlstjY8EOJ0Ew+sWAfyYzl1bUnZYW/otbm4ZUi7HkDkZOmjDj/9YwR/y4NNH
 HhTMC56ZG/RKsYrOmps3Qt//JCK30MEiPxf1ro8ES5nvPo9InJlt18eiBYFnLwBplQKx
 zjcw==
X-Gm-Message-State: APjAAAWtJ+Bu0rU3JhgElGKiRTgKsSN4GdJ/EbuDMIjywzpHu+XBGAVU
 y+P8GiW1dDSU959wNHeLAYmoWshHOrWRjJ8vbmmpDw==
X-Google-Smtp-Source: APXvYqzScPBppDcOAOEDLcPMqhL2pAAG2hRkI89dA92A4XyvMIcV2Xjx4IVgqjGHccbXOy/lcecBK0qacUbQeKew2iY=
X-Received: by 2002:aca:5403:: with SMTP id i3mr805199oib.132.1561704844873;
 Thu, 27 Jun 2019 23:54:04 -0700 (PDT)
MIME-Version: 1.0
References: <20190626150522.11618-1-Kenny.Ho@amd.com>
 <20190626150522.11618-8-Kenny.Ho@amd.com>
 <20190626161254.GS12905@phenom.ffwll.local>
 <CAOWid-f3kKnM=4oC5Bba5WW5WNV2MH5PvVamrhO6LBr5ydPJQg@mail.gmail.com>
 <20190627060113.GC12905@phenom.ffwll.local>
 <01a6efa8-802c-b8b1-931e-4f0c1c63beca@intel.com>
In-Reply-To: <01a6efa8-802c-b8b1-931e-4f0c1c63beca@intel.com>
From: Daniel Vetter <daniel@ffwll.ch>
Date: Fri, 28 Jun 2019 08:53:52 +0200
Message-ID: <CAKMK7uGMkmXnJBr2gr5kikXUTyxGRAvtAi9XxBCcwkJo5z-bjw@mail.gmail.com>
Subject: Re: [RFC PATCH v3 07/11] drm, cgroup: Add TTM buffer allocation stats
To: "Welty, Brian" <brian.welty@intel.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=S/PetohOoe7aU0IbZ6w8VBQxeydRblqlUdn2FrogX1c=;
 b=XkI42EfnE7Lzk/bJaNHGWfgGB0dizUeD3+blNTyO2qIsyiDIxlZf6gxk4So1fSLs2j
 LMKsUM1v4NYZ2dy/agttxzPLLxakaRG9gDDy3iD0KPeD8UnPikaWbOPkkwbnAZK/0/Xe
 a4C9ZwDybU84p/6vmJUvTFLg+w5+x0MErY6Fw=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Kenny Ho <Kenny.Ho@amd.com>, dri-devel <dri-devel@lists.freedesktop.org>,
 jsparks@cray.com, amd-gfx list <amd-gfx@lists.freedesktop.org>,
 lkaplan@cray.com, Alex Deucher <alexander.deucher@amd.com>,
 Kenny Ho <y2kenny@gmail.com>, Gerd Hoffmann <kraxel@redhat.com>,
 joseph.greathouse@amd.com, Tejun Heo <tj@kernel.org>,
 =?UTF-8?Q?Christian_K=C3=B6nig?= <christian.koenig@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gRnJpLCBKdW4gMjgsIDIwMTkgYXQgMzoxNiBBTSBXZWx0eSwgQnJpYW4gPGJyaWFuLndlbHR5
QGludGVsLmNvbT4gd3JvdGU6Cj4gT24gNi8yNi8yMDE5IDExOjAxIFBNLCBEYW5pZWwgVmV0dGVy
IHdyb3RlOgo+ID4gT24gVGh1LCBKdW4gMjcsIDIwMTkgYXQgMTI6MDY6MTNBTSAtMDQwMCwgS2Vu
bnkgSG8gd3JvdGU6Cj4gPj4gT24gV2VkLCBKdW4gMjYsIDIwMTkgYXQgMTI6MTIgUE0gRGFuaWVs
IFZldHRlciA8ZGFuaWVsQGZmd2xsLmNoPiB3cm90ZToKPiA+Pj4KPiA+Pj4gSSB0aGluayB3aXRo
IGFsbCB0aGUgdHRtIHJlZmFjdG9yaW5nIGdvaW5nIG9uIEkgdGhpbmsgd2UgbmVlZCB0byBkZS10
dG0KPiA+Pj4gdGhlIGludGVyZmFjZSBmdW5jdGlvbnMgaGVyZSBhIGJpdC4gV2l0aCBHZXJkIEhv
ZmZtYW5zIHNlcmllcyB5b3UgY2FuIGp1c3QKPiA+Pj4gdXNlIGEgZ2VtX2JvIHBvaW50ZXIgaGVy
ZSwgc28gd2hhdCdzIGxlZnQgdG8gZG8gaXMgaGF2ZSBzb21lIGV4dHJhY3RlZAo+ID4+PiBzdHJ1
Y3R1cmUgZm9yIHRyYWNraW5nIG1lbW9yeSB0eXBlcy4gSSB0aGluayBCcmlhbiBXZWx0eSBoYXMg
c29tZSBpZGVhcwo+ID4+PiBmb3IgdGhpcywgZXZlbiBpbiBwYXRjaCBmb3JtLiBXb3VsZCBiZSBn
b29kIHRvIGtlZXAgaGltIG9uIGNjIGF0IGxlYXN0IGZvcgo+ID4+PiB0aGUgbmV4dCB2ZXJzaW9u
LiBXZSdkIG5lZWQgdG8gZXhwbGljaXRseSBoYW5kIGluIHRoZSB0dG1fbWVtX3JlZyAob3IKPiA+
Pj4gd2hhdGV2ZXIgdGhlIHNwZWNpZmljIHRoaW5nIGlzIGdvaW5nIHRvIGJlKS4KPiA+Pgo+ID4+
IEkgYXNzdW1lIEdlcmQgSG9mZm1hbidzIHNlcmllcyB5b3UgYXJlIHJlZmVycmluZyB0byBpcyB0
aGlzIG9uZT8KPiA+PiBodHRwczovL3d3dy5zcGluaWNzLm5ldC9saXN0cy9kcmktZGV2ZWwvbXNn
MjE1MDU2Lmh0bWwKPiA+Cj4gPiBUaGVyZSdzIGEgbmV3ZXIgb25lLCBtdWNoIG1vcmUgY29tcGxl
dGUsIGJ1dCB5ZXMgdGhhdCdzIHRoZSB3b3JrLgo+ID4KPiA+PiBJIGNhbiBjZXJ0YWlubHkga2Vl
cCBhbiBleWUgb3V0IGZvciBHZXJkJ3MgcmVmYWN0b3Jpbmcgd2hpbGUKPiA+PiByZWZhY3Rvcmlu
ZyBvdGhlciBwYXJ0cyBvZiB0aGlzIFJGQy4KPiA+Pgo+ID4+IEkgaGF2ZSBhZGRlZCBCcmlhbiBh
bmQgR2VyZCB0byB0aGUgdGhyZWFkIGZvciBhd2FyZW5lc3MuCj4gPgo+ID4gYnR3IGp1c3QgcmVh
bGl6ZWQgdGhhdCBtYXliZSBidWlsZGluZyB0aGUgaW50ZXJmYWNlcyBvbiB0b3Agb2YgdHRtX21l
bV9yZWcKPiA+IGlzIG1heWJlIG5vdCB0aGUgYmVzdC4gVGhhdCdzIHdoYXQgeW91J3JlIHVzaW5n
IHJpZ2h0IG5vdywgYnV0IGluIGEgd2F5Cj4gPiB0aGF0J3MganVzdCB0aGUgdHRtIGludGVybmFs
IGRldGFpbCBvZiBob3cgdGhlIGJhY2tpbmcgc3RvcmFnZSBpcwo+ID4gYWxsb2NhdGVkLiBJIHRo
aW5rIHRoZSBzdHJ1Y3R1cmUgd2UgbmVlZCB0byBhYnN0cmFjdCBhd2F5IGlzCj4gPiB0dG1fbWVt
X3R5cGVfbWFuYWdlciwgd2l0aG91dCBhbnkgb2YgdGhlIGFjdHVhbCBtYW5hZ2VtZW50IGRldGFp
bHMuCj4gPgo+Cj4gQW55IGRlLXR0bSByZWZhY3RvcmluZyBzaG91bGQgcHJvYmFibHkgbm90IHNw
YW0gYWxsIHRoZSBjZ3JvdXBzIGZvbGtzLgo+IFNvIEkgcmVtb3ZlZCBjZ3JvdXBzIGxpc3QuCj4K
PiBBcyBEYW5pZWwgbWVudGlvbmVkLCBzb21lIG9mIHVzIGFyZSBsb29raW5nIGF0IHBvc3NpYmxl
IHJlZmFjdG9yaW5nIG9mIFRUTQo+IGZvciByZXVzZSBpbiBpOTE1IGRyaXZlci4KPiBIZXJlIGlz
IGEgYnJpZWYgc3VtbWFyeSBvZiBzb21lIGlkZWFzIHRvIGJlIGNvbnNpZGVyZWQ6Cj4KPiAgMSkg
cmVmYWN0b3IgcGFydCBvZiB0dG1fbWVtX3R5cGVfbWFuYWdlciBpbnRvIGEgbmV3IGRybV9tZW1f
dHlwZV9yZWdpb24uCj4gICAgIFJlYWxseSwgc2hvdWxkIHRoZW4gbW92ZSB0aGUgYXJyYXkgZnJv
bSB0dG1fYm9fZGV2aWNlLm1hbltdIGludG8gZHJtX2RldmljZS4KPgo+ICAgICBSZWxldmFudCB0
byBkcm1fY2dyb3VwLCB5b3UgY291bGQgdGhlbiBwZXJoYXBzIGFjY2VzcyB0aGVzZSBzdGF0cyB0
aHJvdWdoCj4gICAgIGRybV9kZXZpY2UgYW5kIGRvbid0IG5lZWQgdGhlIG1lbV9zdGF0cyBhcnJh
eSBpbiBkcm1jZ3JwX2RldmljZV9yZXNvdXJjZS4KPgo+ICAgMWEpICBkb2luZyB0aGlzIHJpZ2h0
IG1lYW5zIHJlcGxhY2luZyBUVE1fUExfWFhYIG1lbW9yeSB0eXBlcyB3aXRoIG5ldyBEUk0KPiAg
ICAgIGRlZmluZXMuICBCdXQgY291bGQga2VlcCB0aGUgVFRNIG9uZXMgYXMgcmVkZWZpbml0aW9u
IG9mIChuZXcpIERSTSBvbmVzLgo+ICAgICAgUHJvYmFibHkgdGhvc2UgcHJpdmF0ZSBvbmVzIChU
VE1fUExfUFJJVikgbWFrZSB0aGlzIGRpZmZpY3VsdC4KPgo+ICAgQWxsIG9mIHRoZSBhYm92ZSBj
b3VsZCBiZSBldmVudHVhbGx5IGxldmVyYWdlZCBieSB0aGUgdnJhbSBzdXBwb3J0IGJlaW5nCj4g
ICBpbXBsZW1lbnRlZCBub3cgaW4gaTkxNSBkcml2ZXIuCj4KPiAgIDIpIHJlZmFjdG9yIHR0bV9t
ZW1fcmVnICsgdHRtX2J1c19wbGFjZW1lbnQgaW50byBzb21ldGhpbmcgZ2VuZXJpYyBmb3IKPiAg
ICAgIGFueSBHRU0gb2JqZWN0LCAgbWF5YmUgY2FsbCBpdCBkcm1fZ2VtX29iamVjdF9wbGFjZW1l
bnQuCj4gICAgICB0dG1fbWVtX3JlZyBjb3VsZCByZW1haW4gYXMgYSB3cmFwcGVyIGZvciBUVE0g
ZHJpdmVycy4KPiAgICAgIFRoaXMgaGFzbid0IGJlZW4gYnJvYWRseSBkaXNjdXNzZWQgd2l0aCBp
bnRlbC1nZnggZm9sa3MsIHNvIG5vdCBzdXJlCj4gICAgICB0aGlzIGZpdHMgd2VsbCBpbnRvIGk5
MTUgb3Igbm90Lgo+Cj4gICAgICBSZWxldmFudCB0byBkcm1fY2dyb3VwLCBtYXliZSB0aGlzIGZ1
bmN0aW9uOgo+ICAgICAgICAgZHJtY2dycF9tZW1fdHJhY2tfbW92ZShzdHJ1Y3QgdHRtX2J1ZmZl
cl9vYmplY3QgKm9sZF9ibywgYm9vbCBldmljdCwKPiAgICAgICAgICAgICAgICAgc3RydWN0IHR0
bV9tZW1fcmVnICpuZXdfbWVtKQo+ICAgICAgY291bGQgcG90ZW50aWFsbHkgYmVjb21lOgo+ICAg
ICAgICAgZHJtY2dycF9tZW1fdHJhY2tfbW92ZShzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKm9sZF9i
bywgYm9vbCBldmljdCwKPiAgICAgICAgICAgICAgICAgc3RydWN0IGRybV9nZW1fb2JqZWN0X3Bs
YWNlbWVudCAqbmV3X3BsYWNlKQo+Cj4gICAgICBUaG91Z2ggZnJvbSB0dG1fbWVtX3JlZywgeW91
IGxvb2sgdG8gb25seSBiZSB1c2luZyBtZW1fdHlwZSBhbmQgc2l6ZS4KPiAgICAgIEkgdGhpbmsg
RGFuaWVsIGlzIG5vdGluZyB0aGF0IHR0bV9tZW1fcmVnIHdhc24ndCB0cnVseSBuZWVkZWQgaGVy
ZSwgc28KPiAgICAgIHlvdSBjb3VsZCBqdXN0IHBhc3MgaW4gdGhlIG1lbV90eXBlIGFuZCBzaXpl
IGluc3RlYWQuCgpZZWFoIEkgdGhpbmsgdGhlIHJlbGV2YW50IHBhcnQgb2YgeW91ciByZWZhY3Rv
cmluZyBpcyBjcmVhdGluZyBhIG1vcmUKYWJzdHJhY3QgbWVtb3J5IHR5cGUvcmVzb3VyY2UgdGhp
bmcgKG5vdCB0aGUgaW5kaXZpZHVhbCBhbGxvY2F0aW9ucwpmcm9tIGl0IHdoaWNoIHR0bSBjYWxs
cyByZWdpb25zIGFuZCBJIGdldCBjb25mdXNlZCBhYm91dCB0aGF0IGV2ZXJ5CnRpbWUpLiBJIHRo
aW5rIHRoYXQgYWJzdHJhY3Rpb24gc2hvdWxkIGFsc28gaGF2ZSBhIGZpZWxkIGZvciB0aGUgdG90
YWwKKHdoaWNoIEkgdGhpbmsgY2dyb3VwcyBhbHNvIG5lZWRzLCBib3RoIGFzIHJlYWQtb25seSBp
bmZvcm1hdGlvbiBhbmQKc3RhcnRpbmcgdmFsdWUpLiB0dG0gd291bGQgdGhhdCBwdXQgc29tZXdo
ZXJlIGludG8gdGhlCnR0bV9tZW1fdHlwZV9tYW5hZ2VyLCBpOTE1IHdvdWxkIHB1dCBpdCBzb21l
d2hlcmUgZWxzZSwgY21hIGJhc2VkCmRyaXZlcnMgY291bGQgcGVyaGFwcyBleHBvc2UgdGhlIGNt
YSBoZWFwIGxpa2UgdGhhdCAoaWYgaXQncyBleGNsdXNpdmUKdG8gdGhlIGdwdSBhdCBsZWFzdCku
Cgo+IFdvdWxkIGFwcHJlY2lhdGUgYW55IGZlZWRiYWNrIChwb3NpdGl2ZSBvciBuZWdhdGl2ZSkg
b24gYWJvdmUuLi4uCj4gUGVyaGFwcyB0aGlzIHNob3VsZCBtb3ZlIHRvIGEgbmV3IHRocmVhZD8g
ICBJIGNvdWxkIHNlbmQgb3V0IGJhc2ljIFJGQwo+IHBhdGNoZXMgZm9yICgxKSBpZiBoZWxwZnVs
IGJ1dCBhcyBpdCB0b3VjaGVzIGFsbCB0aGUgVFRNIGRyaXZlcnMsIG5pY2UgdG8KPiBoZWFyIHNv
bWUgZmVlZGJhY2sgZmlyc3QuCj4gQW55d2F5LCB0aGlzIGRvZXNuJ3QgbmVjZXNzYXJpbHkgbmVl
ZCB0byBibG9jayBmb3J3YXJkIHByb2dyZXNzIG9uIGRybV9jZ3JvdXAsCj4gYXMgcmVmYWN0b3Jp
bmcgaW50byBjb21tb24gYmFzZSBzdHJ1Y3R1cmVzIGNvdWxkIGhhcHBlbiBpbmNyZW1lbnRhbGx5
LgoKWWVhaCBJIHRoaW5rIG5ldyBkcmktZGV2ZWwgdGhyZWFkIHdpdGggYSB0b3RhbGx5IHVucG9s
aXNoZWQgcmZjIGFzCmRyYWZ0IHBsdXMgdGhpcyBhcyB0aGUgaW50cm8gd291bGQgYmUgZ29vZC4g
VGhhdCB3YXkgd2UgY2FuIGdyb3VuZAp0aGlzIGEgYml0IGJldHRlciBpbiBhY3R1YWwgY29kZS4K
LURhbmllbAotLSAKRGFuaWVsIFZldHRlcgpTb2Z0d2FyZSBFbmdpbmVlciwgSW50ZWwgQ29ycG9y
YXRpb24KKzQxICgwKSA3OSAzNjUgNTcgNDggLSBodHRwOi8vYmxvZy5mZndsbC5jaApfX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGlu
ZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVl
ZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
