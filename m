Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id B592B10992F
	for <lists+dri-devel@lfdr.de>; Tue, 26 Nov 2019 07:29:46 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 54D9A6E049;
	Tue, 26 Nov 2019 06:29:44 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mailgw02.mediatek.com (unknown [210.61.82.184])
 by gabe.freedesktop.org (Postfix) with ESMTP id C0F076E15D
 for <dri-devel@lists.freedesktop.org>; Tue, 26 Nov 2019 06:29:40 +0000 (UTC)
X-UUID: 065145835e3f4d979df0916bcc3d5723-20191126
X-UUID: 065145835e3f4d979df0916bcc3d5723-20191126
Received: from mtkcas09.mediatek.inc [(172.21.101.178)] by
 mailgw02.mediatek.com (envelope-from <bibby.hsieh@mediatek.com>)
 (Cellopoint E-mail Firewall v4.1.10 Build 0809 with TLS)
 with ESMTP id 827858419; Tue, 26 Nov 2019 14:29:35 +0800
Received: from mtkcas08.mediatek.inc (172.21.101.126) by
 mtkmbs05n2.mediatek.inc (172.21.101.140) with Microsoft SMTP Server (TLS) id
 15.0.1395.4; Tue, 26 Nov 2019 14:29:22 +0800
Received: from mtksdccf07.mediatek.inc (172.21.84.99) by mtkcas08.mediatek.inc
 (172.21.101.73) with Microsoft SMTP Server id 15.0.1395.4 via
 Frontend Transport; Tue, 26 Nov 2019 14:29:14 +0800
From: Bibby Hsieh <bibby.hsieh@mediatek.com>
To: David Airlie <airlied@linux.ie>, Matthias Brugger
 <matthias.bgg@gmail.com>, Daniel Vetter <daniel.vetter@ffwll.ch>,
 <dri-devel@lists.freedesktop.org>, <linux-mediatek@lists.infradead.org>
Subject: [PATCH 1/7] drm/mediatek: fix atomic_state reference counting
Date: Tue, 26 Nov 2019 14:29:26 +0800
Message-ID: <20191126062932.19773-2-bibby.hsieh@mediatek.com>
X-Mailer: git-send-email 2.18.0
In-Reply-To: <20191126062932.19773-1-bibby.hsieh@mediatek.com>
References: <20191126062932.19773-1-bibby.hsieh@mediatek.com>
MIME-Version: 1.0
X-MTK: N
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt;
 c=relaxed/relaxed; d=mediatek.com; s=dk; 
 h=Content-Transfer-Encoding:Content-Type:MIME-Version:References:In-Reply-To:Message-ID:Date:Subject:CC:To:From;
 bh=WLsOap9fWJYafOkS1p7359AjO4uwjv05Y5EjbgsSZb0=; 
 b=asxpaMpdTNLpqGcr7ad0oBaQwDY7UcceyLDI3uR2N4wqZFCrzbyp8JRlFZzBHuuuholIseLCWbNveMpXrCa439BnKqrT7qA3XyAeOtLX3nshcIB+RseWxNDatGAYmHB6tYfFvmNXuHLE/YbwOc3jiBo5+G/2badymVIwUEBUikM=;
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: drinkcat@chromium.org, srv_heupstream@mediatek.com,
 linux-kernel@vger.kernel.org, tfiga@chromium.org,
 Thierry Reding <thierry.reding@gmail.com>,
 linux-arm-kernel@lists.infradead.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIERSTSBjb3JlIHRha2VzIGNhcmUgb2YgYWxsIGF0b21pYyBzdGF0ZSByZWZjb3VudGluZy4N
Ckhvd2V2ZXIsIG1lZGlhdGVrIGRybSBkZWZlcnMgc29tZSB3b3JrIHRoYXQgYWNjZXNzZXMgcGxh
bmVzDQphbmQgcGxhbmVfc3RhdGVzIGluIGRybV9hdG9taWNfc3RhdGUsIGFuZCBtdXN0IHRoZXJl
Zm9yZQ0Ka2VlcCBpdHMgb3duIGF0b21pYyBzdGF0ZSByZWZlcmVuY2VzIHVudGlsIHRoaXMgd29y
ayBjb21wbGV0ZS4NCg0KV2UgdGFrZSB0aGUgYXRvbWljX3N0YXRlIHJlZmVyZW5jZSBpbiBhdG9t
aWNfZnVsc2goKSBhbmQgZW5zdXJlIGFsbCB0aGUNCmluZm9ybWF0aW9uIGluIGF0b21pY19zdGF0
ZSBhbHJlYWR5IHdhcyB1cGRhdGVkIGluIGhhcmR3YXJlIGZvcg0Kc2hvd2luZyBvbiBzY3JlZW4g
YW5kIHRoZW4gc2NoZWR1bGVzIHVucmVmZXJlbmNlX3dvcmsgdG8gZHJvcCByZWZlcmVuY2VzDQpv
biBhdG9taWNfc3RhdGUuDQoNCkZpeGVzOiAxMTlmNTE3MzYyOGEgKCJkcm0vbWVkaWF0ZWs6IEFk
ZCBEUk0gRHJpdmVyIGZvciBNZWRpYXRlayBTb0MgTVQ4MTczLiIpDQoNClNpZ25lZC1vZmYtYnk6
IEJpYmJ5IEhzaWVoIDxiaWJieS5oc2llaEBtZWRpYXRlay5jb20+DQotLS0NCiBkcml2ZXJzL2dw
dS9kcm0vbWVkaWF0ZWsvbXRrX2RybV9jcnRjLmMgfCAxMSArKystDQogZHJpdmVycy9ncHUvZHJt
L21lZGlhdGVrL210a19kcm1fZHJ2LmMgIHwgNzkgKysrKysrKysrKysrKysrKysrKysrKysrKw0K
IGRyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfZHJtX2Rydi5oICB8ICA5ICsrKw0KIDMgZmls
ZXMgY2hhbmdlZCwgOTcgaW5zZXJ0aW9ucygrKSwgMiBkZWxldGlvbnMoLSkNCg0KZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfZHJtX2NydGMuYyBiL2RyaXZlcnMvZ3B1
L2RybS9tZWRpYXRlay9tdGtfZHJtX2NydGMuYw0KaW5kZXggMjlkMDU4MmU5MGU5Li42OGI5MmFk
Yzk2YmIgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL2dwdS9kcm0vbWVkaWF0ZWsvbXRrX2RybV9jcnRj
LmMNCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfZHJtX2NydGMuYw0KQEAgLTcs
NyArNyw3IEBADQogI2luY2x1ZGUgPGxpbnV4L3BtX3J1bnRpbWUuaD4NCiANCiAjaW5jbHVkZSA8
YXNtL2JhcnJpZXIuaD4NCi0NCisjaW5jbHVkZSA8ZHJtL2RybV9hdG9taWMuaD4NCiAjaW5jbHVk
ZSA8ZHJtL2RybV9hdG9taWNfaGVscGVyLmg+DQogI2luY2x1ZGUgPGRybS9kcm1fcGxhbmVfaGVs
cGVyLmg+DQogI2luY2x1ZGUgPGRybS9kcm1fcHJvYmVfaGVscGVyLmg+DQpAQCAtNDcsNiArNDcs
NyBAQCBzdHJ1Y3QgbXRrX2RybV9jcnRjIHsNCiAJc3RydWN0IG10a19kaXNwX211dGV4CQkqbXV0
ZXg7DQogCXVuc2lnbmVkIGludAkJCWRkcF9jb21wX25yOw0KIAlzdHJ1Y3QgbXRrX2RkcF9jb21w
CQkqKmRkcF9jb21wOw0KKwlzdHJ1Y3QgZHJtX2NydGNfc3RhdGUJCSpvbGRfY3J0Y19zdGF0ZTsN
CiB9Ow0KIA0KIHN0cnVjdCBtdGtfY3J0Y19zdGF0ZSB7DQpAQCAtMzYyLDYgKzM2Myw3IEBAIHN0
YXRpYyB2b2lkIG10a19jcnRjX2RkcF9od19maW5pKHN0cnVjdCBtdGtfZHJtX2NydGMgKm10a19j
cnRjKQ0KIHN0YXRpYyB2b2lkIG10a19jcnRjX2RkcF9jb25maWcoc3RydWN0IGRybV9jcnRjICpj
cnRjKQ0KIHsNCiAJc3RydWN0IG10a19kcm1fY3J0YyAqbXRrX2NydGMgPSB0b19tdGtfY3J0Yyhj
cnRjKTsNCisJc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKmF0b21pY19zdGF0ZSA9IG10a19jcnRj
LT5vbGRfY3J0Y19zdGF0ZS0+c3RhdGU7DQogCXN0cnVjdCBtdGtfY3J0Y19zdGF0ZSAqc3RhdGUg
PSB0b19tdGtfY3J0Y19zdGF0ZShtdGtfY3J0Yy0+YmFzZS5zdGF0ZSk7DQogCXN0cnVjdCBtdGtf
ZGRwX2NvbXAgKmNvbXAgPSBtdGtfY3J0Yy0+ZGRwX2NvbXBbMF07DQogCXVuc2lnbmVkIGludCBp
Ow0KQEAgLTM5OSw2ICs0MDEsNyBAQCBzdGF0aWMgdm9pZCBtdGtfY3J0Y19kZHBfY29uZmlnKHN0
cnVjdCBkcm1fY3J0YyAqY3J0YykNCiAJCQlwbGFuZV9zdGF0ZS0+cGVuZGluZy5jb25maWcgPSBm
YWxzZTsNCiAJCX0NCiAJCW10a19jcnRjLT5wZW5kaW5nX3BsYW5lcyA9IGZhbHNlOw0KKwkJbXRr
X2F0b21pY19zdGF0ZV9wdXRfcXVldWUoYXRvbWljX3N0YXRlKTsNCiAJfQ0KIH0NCiANCkBAIC00
OTQsNiArNDk3LDcgQEAgc3RhdGljIHZvaWQgbXRrX2RybV9jcnRjX2F0b21pY19iZWdpbihzdHJ1
Y3QgZHJtX2NydGMgKmNydGMsDQogc3RhdGljIHZvaWQgbXRrX2RybV9jcnRjX2F0b21pY19mbHVz
aChzdHJ1Y3QgZHJtX2NydGMgKmNydGMsDQogCQkJCSAgICAgIHN0cnVjdCBkcm1fY3J0Y19zdGF0
ZSAqb2xkX2NydGNfc3RhdGUpDQogew0KKwlzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqb2xkX2F0
b21pY19zdGF0ZSA9IG9sZF9jcnRjX3N0YXRlLT5zdGF0ZTsNCiAJc3RydWN0IG10a19kcm1fY3J0
YyAqbXRrX2NydGMgPSB0b19tdGtfY3J0YyhjcnRjKTsNCiAJc3RydWN0IG10a19kcm1fcHJpdmF0
ZSAqcHJpdiA9IGNydGMtPmRldi0+ZGV2X3ByaXZhdGU7DQogCXVuc2lnbmVkIGludCBwZW5kaW5n
X3BsYW5lcyA9IDA7DQpAQCAtNTEyLDggKzUxNiwxMSBAQCBzdGF0aWMgdm9pZCBtdGtfZHJtX2Ny
dGNfYXRvbWljX2ZsdXNoKHN0cnVjdCBkcm1fY3J0YyAqY3J0YywNCiAJCQlwZW5kaW5nX3BsYW5l
cyB8PSBCSVQoaSk7DQogCQl9DQogCX0NCi0JaWYgKHBlbmRpbmdfcGxhbmVzKQ0KKwlpZiAocGVu
ZGluZ19wbGFuZXMpIHsNCiAJCW10a19jcnRjLT5wZW5kaW5nX3BsYW5lcyA9IHRydWU7DQorCQlk
cm1fYXRvbWljX3N0YXRlX2dldChvbGRfYXRvbWljX3N0YXRlKTsNCisJCW10a19jcnRjLT5vbGRf
Y3J0Y19zdGF0ZSA9IG9sZF9jcnRjX3N0YXRlOw0KKwl9DQogCWlmIChjcnRjLT5zdGF0ZS0+Y29s
b3JfbWdtdF9jaGFuZ2VkKQ0KIAkJZm9yIChpID0gMDsgaSA8IG10a19jcnRjLT5kZHBfY29tcF9u
cjsgaSsrKQ0KIAkJCW10a19kZHBfZ2FtbWFfc2V0KG10a19jcnRjLT5kZHBfY29tcFtpXSwgY3J0
Yy0+c3RhdGUpOw0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfZHJt
X2Rydi5jIGIvZHJpdmVycy9ncHUvZHJtL21lZGlhdGVrL210a19kcm1fZHJ2LmMNCmluZGV4IDY1
ODhkYzZkZDVlMy4uNmM2ODI4M2I2MTI0IDEwMDY0NA0KLS0tIGEvZHJpdmVycy9ncHUvZHJtL21l
ZGlhdGVrL210a19kcm1fZHJ2LmMNCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtf
ZHJtX2Rydi5jDQpAQCAtMTE1LDEwICsxMTUsODUgQEAgc3RhdGljIGludCBtdGtfYXRvbWljX2Nv
bW1pdChzdHJ1Y3QgZHJtX2RldmljZSAqZHJtLA0KIAlyZXR1cm4gMDsNCiB9DQogDQorc3RydWN0
IG10a19hdG9taWNfc3RhdGUgew0KKwlzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSBiYXNlOw0KKwlz
dHJ1Y3QgbGlzdF9oZWFkIGxpc3Q7DQorfTsNCisNCitzdGF0aWMgaW5saW5lIHN0cnVjdCBtdGtf
YXRvbWljX3N0YXRlICp0b19tdGtfc3RhdGUoc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnMpDQor
ew0KKwlyZXR1cm4gY29udGFpbmVyX29mKHMsIHN0cnVjdCBtdGtfYXRvbWljX3N0YXRlLCBiYXNl
KTsNCit9DQorDQordm9pZCBtdGtfYXRvbWljX3N0YXRlX3B1dF9xdWV1ZShzdHJ1Y3QgZHJtX2F0
b21pY19zdGF0ZSAqc3RhdGUpDQorew0KKwlzdHJ1Y3QgZHJtX2RldmljZSAqZHJtID0gc3RhdGUt
PmRldjsNCisJc3RydWN0IG10a19kcm1fcHJpdmF0ZSAqbXRrX2RybSA9IGRybS0+ZGV2X3ByaXZh
dGU7DQorCXN0cnVjdCBtdGtfYXRvbWljX3N0YXRlICptdGtfc3RhdGUgPSB0b19tdGtfc3RhdGUo
c3RhdGUpOw0KKwl1bnNpZ25lZCBsb25nIGZsYWdzOw0KKw0KKwlzcGluX2xvY2tfaXJxc2F2ZSgm
bXRrX2RybS0+dW5yZWZlcmVuY2UubG9jaywgZmxhZ3MpOw0KKwlsaXN0X2FkZF90YWlsKCZtdGtf
c3RhdGUtPmxpc3QsICZtdGtfZHJtLT51bnJlZmVyZW5jZS5saXN0KTsNCisJc3Bpbl91bmxvY2tf
aXJxcmVzdG9yZSgmbXRrX2RybS0+dW5yZWZlcmVuY2UubG9jaywgZmxhZ3MpOw0KKw0KKwlzY2hl
ZHVsZV93b3JrKCZtdGtfZHJtLT51bnJlZmVyZW5jZS53b3JrKTsNCit9DQorDQorc3RhdGljIHZv
aWQgbXRrX3VucmVmZXJlbmNlX3dvcmsoc3RydWN0IHdvcmtfc3RydWN0ICp3b3JrKQ0KK3sNCisJ
c3RydWN0IG10a19kcm1fcHJpdmF0ZSAqbXRrX2RybSA9IGNvbnRhaW5lcl9vZih3b3JrLA0KKwkJ
CXN0cnVjdCBtdGtfZHJtX3ByaXZhdGUsIHVucmVmZXJlbmNlLndvcmspOw0KKwl1bnNpZ25lZCBs
b25nIGZsYWdzOw0KKwlzdHJ1Y3QgbXRrX2F0b21pY19zdGF0ZSAqc3RhdGUsICp0bXA7DQorDQor
CS8qDQorCSAqIGZyYW1lYnVmZmVycyBjYW5ub3QgYmUgdW5yZWZlcmVuY2VkIGluIGF0b21pYyBj
b250ZXh0Lg0KKwkgKiBUaGVyZWZvcmUsIG9ubHkgaG9sZCB0aGUgc3BpbmxvY2sgd2hlbiBpdGVy
YXRpbmcgdW5yZWZlcmVuY2VfbGlzdCwNCisJICogYW5kIGRyb3AgaXQgd2hlbiBkb2luZyB0aGUg
dW5yZWZlcmVuY2UuDQorCSAqLw0KKwlzcGluX2xvY2tfaXJxc2F2ZSgmbXRrX2RybS0+dW5yZWZl
cmVuY2UubG9jaywgZmxhZ3MpOw0KKwlsaXN0X2Zvcl9lYWNoX2VudHJ5X3NhZmUoc3RhdGUsIHRt
cCwgJm10a19kcm0tPnVucmVmZXJlbmNlLmxpc3QsIGxpc3QpIHsNCisJCWxpc3RfZGVsKCZzdGF0
ZS0+bGlzdCk7DQorCQlzcGluX3VubG9ja19pcnFyZXN0b3JlKCZtdGtfZHJtLT51bnJlZmVyZW5j
ZS5sb2NrLCBmbGFncyk7DQorCQlkcm1fYXRvbWljX3N0YXRlX3B1dCgmc3RhdGUtPmJhc2UpOw0K
KwkJc3Bpbl9sb2NrX2lycXNhdmUoJm10a19kcm0tPnVucmVmZXJlbmNlLmxvY2ssIGZsYWdzKTsN
CisJfQ0KKwlzcGluX3VubG9ja19pcnFyZXN0b3JlKCZtdGtfZHJtLT51bnJlZmVyZW5jZS5sb2Nr
LCBmbGFncyk7DQorfQ0KKw0KK3N0YXRpYyBzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqDQorCQlt
dGtfZHJtX2F0b21pY19zdGF0ZV9hbGxvYyhzdHJ1Y3QgZHJtX2RldmljZSAqZGV2KQ0KK3sNCisJ
c3RydWN0IG10a19hdG9taWNfc3RhdGUgKm10a19zdGF0ZTsNCisNCisJbXRrX3N0YXRlID0ga3ph
bGxvYyhzaXplb2YoKm10a19zdGF0ZSksIEdGUF9LRVJORUwpOw0KKwlpZiAoIW10a19zdGF0ZSkN
CisJCXJldHVybiBOVUxMOw0KKw0KKwlpZiAoZHJtX2F0b21pY19zdGF0ZV9pbml0KGRldiwgJm10
a19zdGF0ZS0+YmFzZSkgPCAwKSB7DQorCQlrZnJlZShtdGtfc3RhdGUpOw0KKwkJcmV0dXJuIE5V
TEw7DQorCX0NCisNCisJSU5JVF9MSVNUX0hFQUQoJm10a19zdGF0ZS0+bGlzdCk7DQorDQorCXJl
dHVybiAmbXRrX3N0YXRlLT5iYXNlOw0KK30NCisNCitzdGF0aWMgdm9pZCBtdGtfZHJtX2F0b21p
Y19zdGF0ZV9mcmVlKHN0cnVjdCBkcm1fYXRvbWljX3N0YXRlICpzdGF0ZSkNCit7DQorCXN0cnVj
dCBtdGtfYXRvbWljX3N0YXRlICptdGtfc3RhdGUgPSB0b19tdGtfc3RhdGUoc3RhdGUpOw0KKw0K
Kwlkcm1fYXRvbWljX3N0YXRlX2RlZmF1bHRfcmVsZWFzZShzdGF0ZSk7DQorCWtmcmVlKG10a19z
dGF0ZSk7DQorfQ0KKw0KIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX21vZGVfY29uZmlnX2Z1bmNz
IG10a19kcm1fbW9kZV9jb25maWdfZnVuY3MgPSB7DQogCS5mYl9jcmVhdGUgPSBtdGtfZHJtX21v
ZGVfZmJfY3JlYXRlLA0KIAkuYXRvbWljX2NoZWNrID0gZHJtX2F0b21pY19oZWxwZXJfY2hlY2ss
DQogCS5hdG9taWNfY29tbWl0ID0gbXRrX2F0b21pY19jb21taXQsDQorCS5hdG9taWNfc3RhdGVf
YWxsb2MgPSBtdGtfZHJtX2F0b21pY19zdGF0ZV9hbGxvYywNCisJLmF0b21pY19zdGF0ZV9mcmVl
ID0gbXRrX2RybV9hdG9taWNfc3RhdGVfZnJlZQ0KIH07DQogDQogc3RhdGljIGNvbnN0IGVudW0g
bXRrX2RkcF9jb21wX2lkIG10MjcwMV9tdGtfZGRwX21haW5bXSA9IHsNCkBAIC0zMzcsNiArNDEy
LDEwIEBAIHN0YXRpYyBpbnQgbXRrX2RybV9rbXNfaW5pdChzdHJ1Y3QgZHJtX2RldmljZSAqZHJt
KQ0KIAlkcm1fa21zX2hlbHBlcl9wb2xsX2luaXQoZHJtKTsNCiAJZHJtX21vZGVfY29uZmlnX3Jl
c2V0KGRybSk7DQogDQorCUlOSVRfV09SSygmcHJpdmF0ZS0+dW5yZWZlcmVuY2Uud29yaywgbXRr
X3VucmVmZXJlbmNlX3dvcmspOw0KKwlJTklUX0xJU1RfSEVBRCgmcHJpdmF0ZS0+dW5yZWZlcmVu
Y2UubGlzdCk7DQorCXNwaW5fbG9ja19pbml0KCZwcml2YXRlLT51bnJlZmVyZW5jZS5sb2NrKTsN
CisNCiAJcmV0dXJuIDA7DQogDQogZXJyX3Vuc2V0X2RtYV9wYXJtczoNCmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vbWVkaWF0ZWsvbXRrX2RybV9kcnYuaCBiL2RyaXZlcnMvZ3B1L2RybS9t
ZWRpYXRlay9tdGtfZHJtX2Rydi5oDQppbmRleCBiNmE4MjcyOGQ1NjMuLmMzN2Q4MzVjZjk0OSAx
MDA2NDQNCi0tLSBhL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfZHJtX2Rydi5oDQorKysg
Yi9kcml2ZXJzL2dwdS9kcm0vbWVkaWF0ZWsvbXRrX2RybV9kcnYuaA0KQEAgLTU1LDYgKzU1LDEz
IEBAIHN0cnVjdCBtdGtfZHJtX3ByaXZhdGUgew0KIA0KIAlzdHJ1Y3QgZHJtX2F0b21pY19zdGF0
ZSAqc3VzcGVuZF9zdGF0ZTsNCiANCisJc3RydWN0IHsNCisJCXN0cnVjdCB3b3JrX3N0cnVjdAl3
b3JrOw0KKwkJc3RydWN0IGxpc3RfaGVhZAlsaXN0Ow0KKwkJLyogbG9jayBmb3IgdW5yZWZlcmVu
Y2UgbGlzdCAqLw0KKwkJc3BpbmxvY2tfdAkJbG9jazsNCisJfSB1bnJlZmVyZW5jZTsNCisNCiAJ
Ym9vbCBkbWFfcGFybXNfYWxsb2NhdGVkOw0KIH07DQogDQpAQCAtNjYsNCArNzMsNiBAQCBleHRl
cm4gc3RydWN0IHBsYXRmb3JtX2RyaXZlciBtdGtfZHBpX2RyaXZlcjsNCiBleHRlcm4gc3RydWN0
IHBsYXRmb3JtX2RyaXZlciBtdGtfZHNpX2RyaXZlcjsNCiBleHRlcm4gc3RydWN0IHBsYXRmb3Jt
X2RyaXZlciBtdGtfbWlwaV90eF9kcml2ZXI7DQogDQordm9pZCBtdGtfYXRvbWljX3N0YXRlX3B1
dF9xdWV1ZShzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqc3RhdGUpOw0KKw0KICNlbmRpZiAvKiBN
VEtfRFJNX0RSVl9IICovDQotLSANCjIuMTguMA0KX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vZHJpLWRldmVs
