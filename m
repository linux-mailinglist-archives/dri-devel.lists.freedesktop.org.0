Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 219799DA22
	for <lists+dri-devel@lfdr.de>; Tue, 27 Aug 2019 01:51:42 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D501D89CAA;
	Mon, 26 Aug 2019 23:51:38 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from perceval.ideasonboard.com (perceval.ideasonboard.com
 [IPv6:2001:4b98:dc2:55:216:3eff:fef7:d647])
 by gabe.freedesktop.org (Postfix) with ESMTPS id BDBB089C0D
 for <dri-devel@lists.freedesktop.org>; Mon, 26 Aug 2019 23:51:36 +0000 (UTC)
Received: from pendragon.ideasonboard.com
 (dfj612yhrgyx302h3jwwy-3.rev.dnainternet.fi
 [IPv6:2001:14ba:21f5:5b00:ce28:277f:58d7:3ca4])
 by perceval.ideasonboard.com (Postfix) with ESMTPSA id 6C24931B;
 Tue, 27 Aug 2019 01:51:34 +0200 (CEST)
Date: Tue, 27 Aug 2019 02:51:27 +0300
From: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
To: Jacopo Mondi <jacopo+renesas@jmondi.org>
Subject: Re: [PATCH v3 10/14] drm: rcar-du: kms: Collect CMM instances
Message-ID: <20190826235127.GA5274@pendragon.ideasonboard.com>
References: <20190825135154.11488-1-jacopo+renesas@jmondi.org>
 <20190825135154.11488-11-jacopo+renesas@jmondi.org>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190825135154.11488-11-jacopo+renesas@jmondi.org>
User-Agent: Mutt/1.10.1 (2018-07-13)
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=ideasonboard.com; s=mail; t=1566863494;
 bh=KAoJOlguJgneJ1W0kiDeZWlGMWs1ZHBoCrZC0DVvQmc=;
 h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
 b=DzEGTxiaCweQaLjUzrbYWeoaBSC5kS+xcBsY6TTz6BwaAgLGLtZ4nK7B5ZYtF/Sfw
 hZf3ZZDtqxpjYajgdMuDIXMdtmH9RbOHcvpqHN1GNsOlFXWqx3l6bGFDA4Y/NS9eRP
 G7C4PypU2TmPN7Zp7D6d4TldwqXddmvSLoCR9954=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: muroya@ksk.co.jp, uli@fpond.eu, horms@verge.net.au,
 VenkataRajesh.Kalakodima@in.bosch.com, airlied@linux.ie,
 koji.matsuoka.xm@renesas.com, dri-devel@lists.freedesktop.org,
 linux-kernel@vger.kernel.org, linux-renesas-soc@vger.kernel.org,
 kieran.bingham+renesas@ideasonboard.com, geert@linux-m68k.org,
 Harsha.ManjulaMallikarjun@in.bosch.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgSmFjb3BvLAoKVGhhbmsgeW91IGZvciB0aGUgcGF0Y2guCgpPbiBTdW4sIEF1ZyAyNSwgMjAx
OSBhdCAwMzo1MTo1MFBNICswMjAwLCBKYWNvcG8gTW9uZGkgd3JvdGU6Cj4gSW1wbGVtZW50IGRl
dmljZSB0cmVlIHBhcnNpbmcgdG8gY29sbGVjdCB0aGUgYXZhaWxhYmxlIENNTSBpbnN0YW5jZXMK
PiBkZXNjcmliZWQgYnkgdGhlICdjbW1zJyBwcm9wZXJ0eS4gQXNzb2NpYXRlIENNTXMgd2l0aCBD
UlRDcyBhbmQgc3RvcmUgYQo+IG1hc2sgb2YgYWN0aXZlIENNTXMgaW4gdGhlIERVIGdyb3VwIGZv
ciBsYXRlciBlbmFibGVtZW50Lgo+IAo+IEVuZm9yY2UgdGhlIHN1c3BlbmQvcmVzdW1lIG9yZGVy
aW5nIG9mIERVIGFuZCBDTU0gYnkgY3JlYXRpbmcgYQo+IHN0YXRlbGVzcyBkZXZpY2UgbGluayBi
ZXR3ZWVuIHRoZSB0d28gdG8gbWFrZSBzdXJlIHRoZSBDTU0gc3VwcGxpZXIKPiBkZXZpY2Ugc3Vz
cGVuZHMgYWZ0ZXIgYW5kIHJlc3VtZXMgYmVmb3JlIHRoZSBEVSBjb25zdW1lci4KPiAKPiBTaWdu
ZWQtb2ZmLWJ5OiBKYWNvcG8gTW9uZGkgPGphY29wbytyZW5lc2FzQGptb25kaS5vcmc+Cj4gLS0t
Cj4gIGRyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfY3J0Yy5jICB8ICA2ICsrKwo+ICBk
cml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X2NydGMuaCAgfCAgMiArCj4gIGRyaXZlcnMv
Z3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfZHJ2LmggICB8ICAzICsrCj4gIGRyaXZlcnMvZ3B1L2Ry
bS9yY2FyLWR1L3JjYXJfZHVfZ3JvdXAuaCB8ICAyICsKPiAgZHJpdmVycy9ncHUvZHJtL3JjYXIt
ZHUvcmNhcl9kdV9rbXMuYyAgIHwgNjMgKysrKysrKysrKysrKysrKysrKysrKysrKwo+ICA1IGZp
bGVzIGNoYW5nZWQsIDc2IGluc2VydGlvbnMoKykKPiAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL3JjYXItZHUvcmNhcl9kdV9jcnRjLmMgYi9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9y
Y2FyX2R1X2NydGMuYwo+IGluZGV4IDJkYTQ2ZTNkYzRhZS4uMjNmMWQ2Y2MxNzE5IDEwMDY0NAo+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfY3J0Yy5jCj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9jcnRjLmMKPiBAQCAtMTE5NCw2ICsxMTk0LDEy
IEBAIGludCByY2FyX2R1X2NydGNfY3JlYXRlKHN0cnVjdCByY2FyX2R1X2dyb3VwICpyZ3JwLCB1
bnNpZ25lZCBpbnQgc3dpbmRleCwKPiAgCWlmIChyZXQgPCAwKQo+ICAJCXJldHVybiByZXQ7Cj4g
IAo+ICsJLyogQ01NIG1pZ2h0IGJlIGRpc2FibGVkIGZvciB0aGlzIENSVEMuICovCj4gKwlpZiAo
cmNkdS0+Y21tc1tzd2luZGV4XSkgewo+ICsJCXJjcnRjLT5jbW0gPSByY2R1LT5jbW1zW3N3aW5k
ZXhdOwo+ICsJCXJncnAtPmNtbXNfbWFzayB8PSBCSVQoaHdpbmRleCAlIDIpOwo+ICsJfQo+ICsK
PiAgCWRybV9jcnRjX2hlbHBlcl9hZGQoY3J0YywgJmNydGNfaGVscGVyX2Z1bmNzKTsKPiAgCj4g
IAkvKiBTdGFydCB3aXRoIHZlcnRpY2FsIGJsYW5raW5nIGludGVycnVwdCByZXBvcnRpbmcgZGlz
YWJsZWQuICovCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVf
Y3J0Yy5oIGIvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9jcnRjLmgKPiBpbmRleCAz
YjdmYzY2ODk5NmYuLjVmMjk0MGM0MjIyNSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
cmNhci1kdS9yY2FyX2R1X2NydGMuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3Jj
YXJfZHVfY3J0Yy5oCj4gQEAgLTM5LDYgKzM5LDcgQEAgc3RydWN0IHJjYXJfZHVfdnNwOwo+ICAg
KiBAdmJsYW5rX3dhaXQ6IHdhaXQgcXVldWUgdXNlZCB0byBzaWduYWwgdmVydGljYWwgYmxhbmtp
bmcKPiAgICogQHZibGFua19jb3VudDogbnVtYmVyIG9mIHZlcnRpY2FsIGJsYW5raW5nIGludGVy
cnVwdHMgdG8gd2FpdCBmb3IKPiAgICogQGdyb3VwOiBDUlRDIGdyb3VwIHRoaXMgQ1JUQyBiZWxv
bmdzIHRvCj4gKyAqIEBjbW06IENNTSBhc3NvY2lhdGVkIHdpdGggdGhpcyBDUlRDCj4gICAqIEB2
c3A6IFZTUCBmZWVkaW5nIHZpZGVvIHRvIHRoaXMgQ1JUQwo+ICAgKiBAdnNwX3BpcGU6IGluZGV4
IG9mIHRoZSBWU1AgcGlwZWxpbmUgZmVlZGluZyB2aWRlbyB0byB0aGlzIENSVEMKPiAgICogQHdy
aXRlYmFjazogdGhlIHdyaXRlYmFjayBjb25uZWN0b3IKPiBAQCAtNjQsNiArNjUsNyBAQCBzdHJ1
Y3QgcmNhcl9kdV9jcnRjIHsKPiAgCXVuc2lnbmVkIGludCB2YmxhbmtfY291bnQ7Cj4gIAo+ICAJ
c3RydWN0IHJjYXJfZHVfZ3JvdXAgKmdyb3VwOwo+ICsJc3RydWN0IHBsYXRmb3JtX2RldmljZSAq
Y21tOwo+ICAJc3RydWN0IHJjYXJfZHVfdnNwICp2c3A7Cj4gIAl1bnNpZ25lZCBpbnQgdnNwX3Bp
cGU7Cj4gIAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X2Ry
di5oIGIvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9kcnYuaAo+IGluZGV4IGEwMGRj
Y2M0NDdhYS4uMzAwZWM2MGJhMzFiIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9yY2Fy
LWR1L3JjYXJfZHVfZHJ2LmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1
X2Rydi5oCj4gQEAgLTEzLDYgKzEzLDcgQEAKPiAgI2luY2x1ZGUgPGxpbnV4L2tlcm5lbC5oPgo+
ICAjaW5jbHVkZSA8bGludXgvd2FpdC5oPgo+ICAKPiArI2luY2x1ZGUgInJjYXJfY21tLmgiCj4g
ICNpbmNsdWRlICJyY2FyX2R1X2NydGMuaCIKPiAgI2luY2x1ZGUgInJjYXJfZHVfZ3JvdXAuaCIK
PiAgI2luY2x1ZGUgInJjYXJfZHVfdnNwLmgiCj4gQEAgLTcwLDYgKzcxLDcgQEAgc3RydWN0IHJj
YXJfZHVfZGV2aWNlX2luZm8gewo+ICAKPiAgI2RlZmluZSBSQ0FSX0RVX01BWF9DUlRDUwkJNAo+
ICAjZGVmaW5lIFJDQVJfRFVfTUFYX0dST1VQUwkJRElWX1JPVU5EX1VQKFJDQVJfRFVfTUFYX0NS
VENTLCAyKQo+ICsjZGVmaW5lIFJDQVJfRFVfTUFYX0NNTVMJCTQKCk1heWJlIGFscGhhYmV0aWNh
bGx5IHNvcnRlZCA/Cgo+ICAjZGVmaW5lIFJDQVJfRFVfTUFYX1ZTUFMJCTQKPiAgCj4gIHN0cnVj
dCByY2FyX2R1X2RldmljZSB7Cj4gQEAgLTg2LDYgKzg4LDcgQEAgc3RydWN0IHJjYXJfZHVfZGV2
aWNlIHsKPiAgCXN0cnVjdCByY2FyX2R1X2VuY29kZXIgKmVuY29kZXJzW1JDQVJfRFVfT1VUUFVU
X01BWF07Cj4gIAo+ICAJc3RydWN0IHJjYXJfZHVfZ3JvdXAgZ3JvdXBzW1JDQVJfRFVfTUFYX0dS
T1VQU107Cj4gKwlzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpjbW1zW1JDQVJfRFVfTUFYX0NNTVNd
OwoKQXMgdGhlcmUncyBvbmUgQ01NIHBlciBDUlRDLCBzaG91bGQgd2UgdXNlIFJDQVJfRFVfTUFY
X0NSVENTIGhlcmUgPyBJdCdzCm5vdCB2ZXJ5IHVzZWZ1bCB0byBoYXZlIHR3byBkaWZmZXJlbnQg
bWFjcm9zIHRoYXQgYXJlIHJlcXVpcmVkIHRvIGhhdmUKdGhlIHNhbWUgdmFsdWUgOi0pCgo+ICAJ
c3RydWN0IHJjYXJfZHVfdnNwIHZzcHNbUkNBUl9EVV9NQVhfVlNQU107Cj4gIAo+ICAJc3RydWN0
IHsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9ncm91cC5o
IGIvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9ncm91cC5oCj4gaW5kZXggODc5NTBj
MWY2YTUyLi5lOTkwNjYwOWM2MzUgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JjYXIt
ZHUvcmNhcl9kdV9ncm91cC5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9k
dV9ncm91cC5oCj4gQEAgLTIyLDYgKzIyLDcgQEAgc3RydWN0IHJjYXJfZHVfZGV2aWNlOwo+ICAg
KiBAbW1pb19vZmZzZXQ6IHJlZ2lzdGVycyBvZmZzZXQgaW4gdGhlIGRldmljZSBtZW1vcnkgbWFw
Cj4gICAqIEBpbmRleDogZ3JvdXAgaW5kZXgKPiAgICogQGNoYW5uZWxzX21hc2s6IGJpdG1hc2sg
b2YgcG9wdWxhdGVkIERVIGNoYW5uZWxzIGluIHRoaXMgZ3JvdXAKPiArICogQGNtbXNfbWFzazog
Yml0bWFzayBvZiBhdmFpbGFibGUgQ01NcyBpbiB0aGlzIGdyb3VwCj4gICAqIEBudW1fY3J0Y3M6
IG51bWJlciBvZiBDUlRDcyBpbiB0aGlzIGdyb3VwICgxIG9yIDIpCj4gICAqIEB1c2VfY291bnQ6
IG51bWJlciBvZiB1c2VycyBvZiB0aGUgZ3JvdXAgKHJjYXJfZHVfZ3JvdXBfKGdldHxwdXQpKQo+
ICAgKiBAdXNlZF9jcnRjczogbnVtYmVyIG9mIENSVENzIGN1cnJlbnRseSBpbiB1c2UKPiBAQCAt
MzcsNiArMzgsNyBAQCBzdHJ1Y3QgcmNhcl9kdV9ncm91cCB7Cj4gIAl1bnNpZ25lZCBpbnQgaW5k
ZXg7Cj4gIAo+ICAJdW5zaWduZWQgaW50IGNoYW5uZWxzX21hc2s7Cj4gKwl1bnNpZ25lZCBpbnQg
Y21tc19tYXNrOwo+ICAJdW5zaWduZWQgaW50IG51bV9jcnRjczsKPiAgCXVuc2lnbmVkIGludCB1
c2VfY291bnQ7Cj4gIAl1bnNpZ25lZCBpbnQgdXNlZF9jcnRjczsKPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9rbXMuYyBiL2RyaXZlcnMvZ3B1L2RybS9yY2Fy
LWR1L3JjYXJfZHVfa21zLmMKPiBpbmRleCAyZGM5Y2FlZTg3NjcuLjYxY2ExZDNjMzc5YSAxMDA2
NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X2ttcy5jCj4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9rbXMuYwo+IEBAIC0xNyw3ICsxNyw5IEBA
Cj4gICNpbmNsdWRlIDxkcm0vZHJtX3Byb2JlX2hlbHBlci5oPgo+ICAjaW5jbHVkZSA8ZHJtL2Ry
bV92YmxhbmsuaD4KPiAgCj4gKyNpbmNsdWRlIDxsaW51eC9kZXZpY2UuaD4KPiAgI2luY2x1ZGUg
PGxpbnV4L29mX2dyYXBoLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9vZl9wbGF0Zm9ybS5oPgo+ICAj
aW5jbHVkZSA8bGludXgvd2FpdC5oPgo+ICAKPiAgI2luY2x1ZGUgInJjYXJfZHVfY3J0Yy5oIgo+
IEBAIC02MTQsNiArNjE2LDYyIEBAIHN0YXRpYyBpbnQgcmNhcl9kdV92c3BzX2luaXQoc3RydWN0
IHJjYXJfZHVfZGV2aWNlICpyY2R1KQo+ICAJcmV0dXJuIHJldDsKPiAgfQo+ICAKPiArc3RhdGlj
IGludCByY2FyX2R1X2NtbV9pbml0KHN0cnVjdCByY2FyX2R1X2RldmljZSAqcmNkdSkKPiArewo+
ICsJY29uc3Qgc3RydWN0IGRldmljZV9ub2RlICpucCA9IHJjZHUtPmRldi0+b2Zfbm9kZTsKPiAr
CXVuc2lnbmVkIGludCBpOwo+ICsJaW50IGNlbGxzOwo+ICsKPiArCWNlbGxzID0gb2ZfcHJvcGVy
dHlfY291bnRfdTMyX2VsZW1zKG5wLCAiY21tcyIpOwo+ICsJaWYgKGNlbGxzID09IC1FSU5WQUwp
Cj4gKwkJcmV0dXJuIDA7Cj4gKwo+ICsJaWYgKGNlbGxzID4gUkNBUl9EVV9NQVhfQ01NUyB8fCBj
ZWxscyA+IHJjZHUtPm51bV9jcnRjcykgewoKQW5kIGlmIHdlIHJlbW92ZSBSQ0FSX0RVX01BWF9D
TU1TIGFzIHByb3Bvc2VkIGFib3ZlLCBJIHdvdWxkIGp1c3QgcmVtb3ZlCnRoZSBmaXJzdCBwYXJ0
IG9mIHRoZSBjb25kaXRpb24sIGFzIHJjZHUtPm51bV9jcnRjcyBpcyBndWFyYW50ZWVkIHRvIGJl
Cjw9IFJDQVJfRFVfTUFYX0NSVENTLgoKV2l0aCB0aGlzIGFkZHJlc3NlZCwKClJldmlld2VkLWJ5
OiBMYXVyZW50IFBpbmNoYXJ0IDxsYXVyZW50LnBpbmNoYXJ0QGlkZWFzb25ib2FyZC5jb20+Cgo+
ICsJCWRldl9lcnIocmNkdS0+ZGV2LAo+ICsJCQkiSW52YWxpZCBudW1iZXIgb2YgZW50cmllcyBp
biAnY21tcycgcHJvcGVydHlcbiIpOwo+ICsJCXJldHVybiAtRUlOVkFMOwo+ICsJfQo+ICsKPiAr
CWZvciAoaSA9IDA7IGkgPCBjZWxsczsgKytpKSB7Cj4gKwkJc3RydWN0IHBsYXRmb3JtX2Rldmlj
ZSAqcGRldjsKPiArCQlzdHJ1Y3QgZGV2aWNlX2xpbmsgKmxpbms7Cj4gKwkJc3RydWN0IGRldmlj
ZV9ub2RlICpjbW07Cj4gKwo+ICsJCWNtbSA9IG9mX3BhcnNlX3BoYW5kbGUobnAsICJjbW1zIiwg
aSk7Cj4gKwkJaWYgKElTX0VSUihjbW0pKSB7Cj4gKwkJCWRldl9lcnIocmNkdS0+ZGV2LCAiRmFp
bGVkIHRvIHBhcnNlICdjbW1zJyBwcm9wZXJ0eVxuIik7Cj4gKwkJCXJldHVybiBQVFJfRVJSKGNt
bSk7Cj4gKwkJfQo+ICsKPiArCQlpZiAoIW9mX2RldmljZV9pc19hdmFpbGFibGUoY21tKSkgewo+
ICsJCQkvKiBJdCdzIGZpbmUgdG8gaGF2ZSBhIHBoYW5kbGUgdG8gYSBub24tZW5hYmxlZCBDTU0u
ICovCj4gKwkJCW9mX25vZGVfcHV0KGNtbSk7Cj4gKwkJCWNvbnRpbnVlOwo+ICsJCX0KPiArCj4g
KwkJcGRldiA9IG9mX2ZpbmRfZGV2aWNlX2J5X25vZGUoY21tKTsKPiArCQlpZiAoSVNfRVJSKHBk
ZXYpKSB7Cj4gKwkJCWRldl9lcnIocmNkdS0+ZGV2LCAiTm8gZGV2aWNlIGZvdW5kIGZvciBDTU0l
dVxuIiwgaSk7Cj4gKwkJCW9mX25vZGVfcHV0KGNtbSk7Cj4gKwkJCXJldHVybiBQVFJfRVJSKHBk
ZXYpOwo+ICsJCX0KPiArCj4gKwkJb2Zfbm9kZV9wdXQoY21tKTsKPiArCj4gKwkJbGluayA9IGRl
dmljZV9saW5rX2FkZChyY2R1LT5kZXYsICZwZGV2LT5kZXYsCj4gKwkJCQkgICAgICAgRExfRkxB
R19TVEFURUxFU1MpOwo+ICsJCWlmICghbGluaykgewo+ICsJCQlkZXZfZXJyKHJjZHUtPmRldiwK
PiArCQkJCSJGYWlsZWQgdG8gY3JlYXRlIGRldmljZSBsaW5rIHRvIENNTSV1XG4iLCBpKTsKPiAr
CQkJcmV0dXJuIC1FSU5WQUw7Cj4gKwkJfQo+ICsKPiArCQlyY2R1LT5jbW1zW2ldID0gcGRldjsK
PiArCX0KPiArCj4gKwlyZXR1cm4gMDsKPiArfQo+ICsKPiAgaW50IHJjYXJfZHVfbW9kZXNldF9p
bml0KHN0cnVjdCByY2FyX2R1X2RldmljZSAqcmNkdSkKPiAgewo+ICAJc3RhdGljIGNvbnN0IHVu
c2lnbmVkIGludCBtbWlvX29mZnNldHNbXSA9IHsKPiBAQCAtNzA0LDYgKzc2MiwxMSBAQCBpbnQg
cmNhcl9kdV9tb2Rlc2V0X2luaXQoc3RydWN0IHJjYXJfZHVfZGV2aWNlICpyY2R1KQo+ICAJCQly
ZXR1cm4gcmV0Owo+ICAJfQo+ICAKPiArCS8qIEluaXRpYWxpemUgdGhlIENvbG9yIE1hbmFnZW1l
bnQgTW9kdWxlcy4gKi8KPiArCXJldCA9IHJjYXJfZHVfY21tX2luaXQocmNkdSk7Cj4gKwlpZiAo
cmV0KQo+ICsJCXJldHVybiByZXQ7Cj4gKwo+ICAJLyogQ3JlYXRlIHRoZSBDUlRDcy4gKi8KPiAg
CWZvciAoc3dpbmRleCA9IDAsIGh3aW5kZXggPSAwOyBzd2luZGV4IDwgcmNkdS0+bnVtX2NydGNz
OyArK2h3aW5kZXgpIHsKPiAgCQlzdHJ1Y3QgcmNhcl9kdV9ncm91cCAqcmdycDsKCi0tIApSZWdh
cmRzLAoKTGF1cmVudCBQaW5jaGFydApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVl
ZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5m
by9kcmktZGV2ZWw=
