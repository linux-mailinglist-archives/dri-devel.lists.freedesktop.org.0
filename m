Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id BD259708E2
	for <lists+dri-devel@lfdr.de>; Mon, 22 Jul 2019 20:50:01 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 5B97A89DD3;
	Mon, 22 Jul 2019 18:49:59 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ot1-x343.google.com (mail-ot1-x343.google.com
 [IPv6:2607:f8b0:4864:20::343])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 4919589DD3
 for <dri-devel@lists.freedesktop.org>; Mon, 22 Jul 2019 18:49:58 +0000 (UTC)
Received: by mail-ot1-x343.google.com with SMTP id n5so41374483otk.1
 for <dri-devel@lists.freedesktop.org>; Mon, 22 Jul 2019 11:49:58 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=E2klj2EgbSLHJgJ32WrFuzs1ezlikMlV/Ar0/YAWhwM=;
 b=f/BI6S8qFzVRncVwOX2OB4YcARnxud6hFXf7E0zJYDpHgjXGqaaaeuozPsIpkELBZi
 ZDgP+3TbP7p4FEbdO3rMC/p6/zzHejnVVL5SsqJ2s5loxrpBIJaIyYJa2YKh8Eh7EYZJ
 3g9Ltneigtwz+/GWvMwGOcmhm1AZMksGjG2GoWmNILHVzDCbeQ/DLER1qmM3SkdGZlq7
 5jOvLQeWPVBQsSgoRhmy9JvgfOGVWEMdanfl4BS5/uziu9EgUDWRCIh1I7Kmxl/6oRr8
 QHTkCWeJr1mxm3/+95zVzwdcNF6hXmSkF4cu/Kdbc19eKCe0DV4eeF46NbtqKsLMIBp+
 j4xw==
X-Gm-Message-State: APjAAAW5gDOBfAG1ojQZ1ihheC9o0dfnKi6FHWbXdHvfalVv3IbvYXey
 05s8DPpouhAiQvVqfTR61eUWaBPIcE2q30FP/LEgXhN7
X-Google-Smtp-Source: APXvYqxnSbvOf9T6fdYJ6CgNmmnCasVV+/gfIDhrYRhX4P/IhF6gMxg49GzTHoHGe/h+hqjGzz24MenBMnJGb7qAyNs=
X-Received: by 2002:a05:6830:2010:: with SMTP id
 e16mr31159889otp.344.1563821397376; 
 Mon, 22 Jul 2019 11:49:57 -0700 (PDT)
MIME-Version: 1.0
References: <20190722151154.8344568BFE@verein.lst.de>
In-Reply-To: <20190722151154.8344568BFE@verein.lst.de>
From: Vasily Khoruzhick <anarsoul@gmail.com>
Date: Mon, 22 Jul 2019 11:49:48 -0700
Message-ID: <CA+E=qVeSjE1i-ngJWv=GTQDM6HL-VEZWjXH_p_BXy+eP7SvWhg@mail.gmail.com>
Subject: Re: [PATCH v3 5/7] drm/bridge: Add Analogix anx6345 support
To: Torsten Duwe <duwe@lst.de>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=E2klj2EgbSLHJgJ32WrFuzs1ezlikMlV/Ar0/YAWhwM=;
 b=hfku51APnQcreSJsrHvGqTD5+PvblUiW3dX63xGe+O0019KVsCHi0M7kAr154mNAmp
 /r0jHpYrKFZ9QE70UeCtWoeOuod9PmKRrxkfmQiz2kua88ziGWfjhlGD1eeg43fIa1iq
 UD8M3lRanDzy1uQJXyiUN0OBDzolgwAteOsVLONzEhkvptbbQu0g0QLtL6y8f3LvWGc4
 JOiOhpg7phdVAPIDgnNIvSFmYI0McbZ2rK3meSD9mW7+QUBNiQ01vqT2KMlus7/eqr14
 +360ShZdpzqME4LLFZNgOPaRBrs81sHhN+YiGZCd9hUbu1sbMAWIITRHqc1DsDYpPNII
 Mcdw==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Mark Rutland <mark.rutland@arm.com>,
 devicetree <devicetree@vger.kernel.org>,
 Maxime Ripard <maxime.ripard@bootlin.com>,
 Greg Kroah-Hartman <gregkh@linuxfoundation.org>,
 linux-kernel <linux-kernel@vger.kernel.org>,
 dri-devel <dri-devel@lists.freedesktop.org>, David Airlie <airlied@linux.ie>,
 Chen-Yu Tsai <wens@csie.org>, Rob Herring <robh+dt@kernel.org>,
 Thierry Reding <thierry.reding@gmail.com>,
 Laurent Pinchart <Laurent.pinchart@ideasonboard.com>,
 Harald Geyer <harald@ccbib.org>, Sean Paul <seanpaul@chromium.org>,
 Thomas Gleixner <tglx@linutronix.de>,
 arm-linux <linux-arm-kernel@lists.infradead.org>,
 Icenowy Zheng <icenowy@aosc.io>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gTW9uLCBKdWwgMjIsIDIwMTkgYXQgODoxMSBBTSBUb3JzdGVuIER1d2UgPGR1d2VAbHN0LmRl
PiB3cm90ZToKPgo+IEZyb206IEljZW5vd3kgWmhlbmcgPGljZW5vd3lAYW9zYy5pbz4KPgo+IFRo
ZSBBTlg2MzQ1IGlzIGFuIHVsdHJhLWxvdyBwb3dlciBEaXNwbGF5UG93ZXIvZURQIHRyYW5zbWl0
dGVyIGRlc2lnbmVkCj4gZm9yIHBvcnRhYmxlIGRldmljZXMuIFRoaXMgZHJpdmVyIGFkZHMgaW5p
dGlhbCBzdXBwb3J0IGZvciBSR0IgdG8gZURQCj4gbW9kZSwgd2l0aG91dCBIUEQgYW5kIGludGVy
cnVwdHMuCj4KPiBUaGlzIGlzIGEgY29uZmlndXJhdGlvbiB1c3VhbGx5IHNlZW4gaW4gZURQIGFw
cGxpY2F0aW9ucy4KPgo+IFNpZ25lZC1vZmYtYnk6IEljZW5vd3kgWmhlbmcgPGljZW5vd3lAYW9z
Yy5pbz4KPiBTaWduZWQtb2ZmLWJ5OiBWYXNpbHkgS2hvcnV6aGljayA8YW5hcnNvdWxAZ21haWwu
Y29tPgo+IFNpZ25lZC1vZmYtYnk6IFRvcnN0ZW4gRHV3ZSA8ZHV3ZUBzdXNlLmRlPgo+IC0tLQo+
ICBkcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L0tjb25maWcgICAgICAgICAgICB8ICAx
MiArCj4gIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9naXgvTWFrZWZpbGUgICAgICAgICAg
IHwgICAxICsKPiAgZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9hbmFsb2dpeC1hbng2
MzQ1LmMgfCA3OTcgKysrKysrKysrKysrKysrKysrKysrCj4gIDMgZmlsZXMgY2hhbmdlZCwgODEw
IGluc2VydGlvbnMoKykKPiAgY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS9icmlk
Z2UvYW5hbG9naXgvYW5hbG9naXgtYW54NjM0NS5jCj4KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
YnJpZGdlL2FuYWxvZ2l4L0tjb25maWcKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2Fu
YWxvZ2l4L0tjb25maWcKPiBAQCAtMSw2ICsxLDE4IEBACj4gICMgU1BEWC1MaWNlbnNlLUlkZW50
aWZpZXI6IEdQTC0yLjAtb25seQo+ICtjb25maWcgRFJNX0FOQUxPR0lYX0FOWDYzNDUKPiArICAg
ICAgIHRyaXN0YXRlICJBbmFsb2dpeCBBTlg2MzQ1IGJyaWRnZSIKPiArICAgICAgIHNlbGVjdCBE
Uk1fQU5BTE9HSVhfRFAKPiArICAgICAgIHNlbGVjdCBEUk1fS01TX0hFTFBFUgo+ICsgICAgICAg
c2VsZWN0IFJFR01BUF9JMkMKPiArICAgICAgIGhlbHAKPiArICAgICAgICAgQU5YNjM0NSBpcyBh
biB1bHRyYS1sb3cgRnVsbC1IRCBEaXNwbGF5UG9ydC9lRFAKPiArICAgICAgICAgdHJhbnNtaXR0
ZXIgZGVzaWduZWQgZm9yIHBvcnRhYmxlIGRldmljZXMuIFRoZQo+ICsgICAgICAgICBBTlg2MzQ1
IHRyYW5zZm9ybXMgdGhlIExWVFRMIFJHQiBvdXRwdXQgb2YgYW4KPiArICAgICAgICAgYXBwbGlj
YXRpb24gcHJvY2Vzc29yIHRvIGVEUCBvciBEaXNwbGF5UG9ydC4KPiArCj4gIGNvbmZpZyBEUk1f
QU5BTE9HSVhfQU5YNzhYWAo+ICAgICAgICAgdHJpc3RhdGUgIkFuYWxvZ2l4IEFOWDc4WFggYnJp
ZGdlIgo+ICsgICAgICAgc2VsZWN0IERSTV9BTkFMT0dJWF9EUAo+ICAgICAgICAgc2VsZWN0IERS
TV9LTVNfSEVMUEVSCj4gICAgICAgICBzZWxlY3QgUkVHTUFQX0kyQwo+ICAgICAgICAgaGVscAo+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9naXgvTWFrZWZpbGUKPiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L01ha2VmaWxlCj4gQEAgLTEsNCArMSw1IEBA
Cj4gICMgU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb25seQo+ICBhbmFsb2dpeF9k
cC1vYmpzIDo9IGFuYWxvZ2l4X2RwX2NvcmUubyBhbmFsb2dpeF9kcF9yZWcubyBhbmFsb2dpeC1p
MmMtZHB0eC5vCj4gK29iai0kKENPTkZJR19EUk1fQU5BTE9HSVhfQU5YNjM0NSkgKz0gYW5hbG9n
aXgtYW54NjM0NS5vCj4gIG9iai0kKENPTkZJR19EUk1fQU5BTE9HSVhfQU5YNzhYWCkgKz0gYW5h
bG9naXgtYW54Nzh4eC5vCj4gIG9iai0kKENPTkZJR19EUk1fQU5BTE9HSVhfRFApICs9IGFuYWxv
Z2l4X2RwLm8KPiAtLS0gL2Rldi9udWxsCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9h
bmFsb2dpeC9hbmFsb2dpeC1hbng2MzQ1LmMKPiBAQCAtMCwwICsxLDc5MyBAQAo+ICsvKiBTUERY
LUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vbmx5ICovCj4gKy8qCj4gKyAqIENvcHlyaWdo
dChjKSAyMDE2LCBBbmFsb2dpeCBTZW1pY29uZHVjdG9yLgo+ICsgKiBDb3B5cmlnaHQoYykgMjAx
NywgSWNlbm93eSBaaGVuZyA8aWNlbm93eUBhb3NjLmlvPgo+ICsgKgo+ICsgKiBCYXNlZCBvbiBh
bng3ODA4IGRyaXZlciBvYnRhaW5lZCBmcm9tIGNocm9tZW9zIHdpdGggY29weXJpZ2h0Ogo+ICsg
KiBDb3B5cmlnaHQoYykgMjAxMywgR29vZ2xlIEluYy4KPiArICovCj4gKyNpbmNsdWRlIDxsaW51
eC9kZWxheS5oPgo+ICsjaW5jbHVkZSA8bGludXgvZXJyLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9n
cGlvL2NvbnN1bWVyLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9pMmMuaD4KPiArI2luY2x1ZGUgPGxp
bnV4L2ludGVycnVwdC5oPgo+ICsjaW5jbHVkZSA8bGludXgva2VybmVsLmg+Cj4gKyNpbmNsdWRl
IDxsaW51eC9tb2R1bGUuaD4KPiArI2luY2x1ZGUgPGxpbnV4L29mX3BsYXRmb3JtLmg+Cj4gKyNp
bmNsdWRlIDxsaW51eC9yZWdtYXAuaD4KPiArI2luY2x1ZGUgPGxpbnV4L3JlZ3VsYXRvci9jb25z
dW1lci5oPgo+ICsjaW5jbHVkZSA8bGludXgvdHlwZXMuaD4KPiArCj4gKyNpbmNsdWRlIDxkcm0v
ZHJtX2F0b21pY19oZWxwZXIuaD4KPiArI2luY2x1ZGUgPGRybS9kcm1fY3J0Yy5oPgo+ICsjaW5j
bHVkZSA8ZHJtL2RybV9jcnRjX2hlbHBlci5oPgo+ICsjaW5jbHVkZSA8ZHJtL2RybV9kcF9oZWxw
ZXIuaD4KPiArI2luY2x1ZGUgPGRybS9kcm1fZWRpZC5oPgo+ICsjaW5jbHVkZSA8ZHJtL2RybV9v
Zi5oPgo+ICsjaW5jbHVkZSA8ZHJtL2RybV9wYW5lbC5oPgo+ICsjaW5jbHVkZSA8ZHJtL2RybV9w
cmludC5oPgo+ICsjaW5jbHVkZSA8ZHJtL2RybV9wcm9iZV9oZWxwZXIuaD4KPiArCj4gKyNpbmNs
dWRlICJhbmFsb2dpeC1pMmMtZHB0eC5oIgo+ICsjaW5jbHVkZSAiYW5hbG9naXgtaTJjLXR4Y29t
bW9uLmgiCj4gKwo+ICsjZGVmaW5lIFBPTExfREVMQVkgICAgICAgICAgICAgNTAwMDAgLyogdXMg
Ki8KPiArI2RlZmluZSBQT0xMX1RJTUVPVVQgICAgICAgICAgIDUwMDAwMDAgLyogdXMgKi8KPiAr
Cj4gKyNkZWZpbmUgSTJDX0lEWF9EUFRYICAgICAgICAgICAwCj4gKyNkZWZpbmUgSTJDX0lEWF9U
WENPTSAgICAgICAgICAxCj4gKwo+ICtzdGF0aWMgY29uc3QgdTggYW54NjM0NV9pMmNfYWRkcmVz
c2VzW10gPSB7Cj4gKyAgICAgICBbSTJDX0lEWF9EUFRYXSAgPSBBTkFMT0dJWF9JMkNfRFBUWCwK
PiArICAgICAgIFtJMkNfSURYX1RYQ09NXSA9IEFOQUxPR0lYX0kyQ19UWENPTU1PTiwKPiArfTsK
PiArI2RlZmluZSBJMkNfTlVNX0FERFJFU1NFUyAgICAgIEFSUkFZX1NJWkUoYW54NjM0NV9pMmNf
YWRkcmVzc2VzKQo+ICsKPiArc3RydWN0IGFueDYzNDUgewo+ICsgICAgICAgc3RydWN0IGRybV9k
cF9hdXggYXV4Owo+ICsgICAgICAgc3RydWN0IGRybV9icmlkZ2UgYnJpZGdlOwo+ICsgICAgICAg
c3RydWN0IGkyY19jbGllbnQgKmNsaWVudDsKPiArICAgICAgIHN0cnVjdCBlZGlkICplZGlkOwo+
ICsgICAgICAgc3RydWN0IGRybV9jb25uZWN0b3IgY29ubmVjdG9yOwo+ICsgICAgICAgc3RydWN0
IGRybV9kcF9saW5rIGxpbms7Cj4gKyAgICAgICBzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbDsKPiAr
ICAgICAgIHN0cnVjdCByZWd1bGF0b3IgKmR2ZGQxMjsKPiArICAgICAgIHN0cnVjdCByZWd1bGF0
b3IgKmR2ZGQyNTsKPiArICAgICAgIHN0cnVjdCBncGlvX2Rlc2MgKmdwaW9kX3Jlc2V0Owo+ICsg
ICAgICAgc3RydWN0IG11dGV4IGxvY2s7ICAgICAgLyogcHJvdGVjdCBFRElEIGFjY2VzcyAqLwo+
ICsKPiArICAgICAgIC8qIEkyQyBTbGF2ZSBhZGRyZXNzZXMgb2YgQU5YNjM0NSBhcmUgbWFwcGVk
IGFzIERQVFggYW5kIFNZUyAqLwo+ICsgICAgICAgc3RydWN0IGkyY19jbGllbnQgKmkyY19jbGll
bnRzW0kyQ19OVU1fQUREUkVTU0VTXTsKPiArICAgICAgIHN0cnVjdCByZWdtYXAgKm1hcFtJMkNf
TlVNX0FERFJFU1NFU107Cj4gKwo+ICsgICAgICAgdTE2IGNoaXBpZDsKPiArICAgICAgIHU4IGRw
Y2RbRFBfUkVDRUlWRVJfQ0FQX1NJWkVdOwo+ICsKPiArICAgICAgIGJvb2wgcG93ZXJlZDsKPiAr
fTsKPiArCj4gK3N0YXRpYyBpbmxpbmUgc3RydWN0IGFueDYzNDUgKmNvbm5lY3Rvcl90b19hbng2
MzQ1KHN0cnVjdCBkcm1fY29ubmVjdG9yICpjKQo+ICt7Cj4gKyAgICAgICByZXR1cm4gY29udGFp
bmVyX29mKGMsIHN0cnVjdCBhbng2MzQ1LCBjb25uZWN0b3IpOwo+ICt9Cj4gKwo+ICtzdGF0aWMg
aW5saW5lIHN0cnVjdCBhbng2MzQ1ICpicmlkZ2VfdG9fYW54NjM0NShzdHJ1Y3QgZHJtX2JyaWRn
ZSAqYnJpZGdlKQo+ICt7Cj4gKyAgICAgICByZXR1cm4gY29udGFpbmVyX29mKGJyaWRnZSwgc3Ry
dWN0IGFueDYzNDUsIGJyaWRnZSk7Cj4gK30KPiArCj4gK3N0YXRpYyBpbnQgYW54NjM0NV9zZXRf
Yml0cyhzdHJ1Y3QgcmVnbWFwICptYXAsIHU4IHJlZywgdTggbWFzaykKPiArewo+ICsgICAgICAg
cmV0dXJuIHJlZ21hcF91cGRhdGVfYml0cyhtYXAsIHJlZywgbWFzaywgbWFzayk7Cj4gK30KPiAr
Cj4gK3N0YXRpYyBpbnQgYW54NjM0NV9jbGVhcl9iaXRzKHN0cnVjdCByZWdtYXAgKm1hcCwgdTgg
cmVnLCB1OCBtYXNrKQo+ICt7Cj4gKyAgICAgICByZXR1cm4gcmVnbWFwX3VwZGF0ZV9iaXRzKG1h
cCwgcmVnLCBtYXNrLCAwKTsKPiArfQo+ICsKPiArc3RhdGljIHNzaXplX3QgYW54NjM0NV9hdXhf
dHJhbnNmZXIoc3RydWN0IGRybV9kcF9hdXggKmF1eCwKPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBzdHJ1Y3QgZHJtX2RwX2F1eF9tc2cgKm1zZykKPiArewo+ICsgICAgICAg
c3RydWN0IGFueDYzNDUgKmFueDYzNDUgPSBjb250YWluZXJfb2YoYXV4LCBzdHJ1Y3QgYW54NjM0
NSwgYXV4KTsKPiArCj4gKyAgICAgICByZXR1cm4gYW54X2RwX2F1eF90cmFuc2Zlcihhbng2MzQ1
LT5tYXBbSTJDX0lEWF9EUFRYXSwgbXNnKTsKPiArfQo+ICsKPiArc3RhdGljIGludCBhbng2MzQ1
X2RwX2xpbmtfdHJhaW5pbmcoc3RydWN0IGFueDYzNDUgKmFueDYzNDUpCj4gK3sKPiArICAgICAg
IHVuc2lnbmVkIGludCB2YWx1ZTsKPiArICAgICAgIHU4IGRwX2J3Owo+ICsgICAgICAgaW50IGVy
cjsKPiArCj4gKyAgICAgICBlcnIgPSBhbng2MzQ1X2NsZWFyX2JpdHMoYW54NjM0NS0+bWFwW0ky
Q19JRFhfVFhDT01dLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNQX1BPV0VS
RE9XTl9DVFJMX1JFRywKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTUF9UT1RB
TF9QRCk7Cj4gKyAgICAgICBpZiAoZXJyKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gZXJyOwo+
ICsKPiArICAgICAgIGVyciA9IGRybV9kcF9kcGNkX3JlYWRiKCZhbng2MzQ1LT5hdXgsIERQX01B
WF9MSU5LX1JBVEUsICZkcF9idyk7Cj4gKyAgICAgICBpZiAoZXJyIDwgMCkKPiArICAgICAgICAg
ICAgICAgcmV0dXJuIGVycjsKPiArCj4gKyAgICAgICBzd2l0Y2ggKGRwX2J3KSB7Cj4gKyAgICAg
ICBjYXNlIERQX0xJTktfQldfMV82MjoKPiArICAgICAgIGNhc2UgRFBfTElOS19CV18yXzc6Cj4g
KyAgICAgICAgICAgICAgIGJyZWFrOwo+ICsKPiArICAgICAgIGRlZmF1bHQ6Cj4gKyAgICAgICAg
ICAgICAgIERSTV9ERUJVR19LTVMoIkRQIGJhbmR3aWR0aCAoJSMwMngpIG5vdCBzdXBwb3J0ZWRc
biIsIGRwX2J3KTsKPiArICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7Cj4gKyAgICAgICB9
Cj4gKwo+ICsgICAgICAgZXJyID0gYW54NjM0NV9zZXRfYml0cyhhbng2MzQ1LT5tYXBbSTJDX0lE
WF9UWENPTV0sIFNQX1ZJRF9DVFJMMV9SRUcsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIFNQX1ZJREVPX01VVEUpOwo+ICsgICAgICAgaWYgKGVycikKPiArICAgICAgICAgICAgICAg
cmV0dXJuIGVycjsKPiArCj4gKyAgICAgICBlcnIgPSBhbng2MzQ1X2NsZWFyX2JpdHMoYW54NjM0
NS0+bWFwW0kyQ19JRFhfVFhDT01dLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IFNQX1ZJRF9DVFJMMV9SRUcsIFNQX1ZJREVPX0VOKTsKPiArICAgICAgIGlmIChlcnIpCj4gKyAg
ICAgICAgICAgICAgIHJldHVybiBlcnI7Cj4gKwo+ICsgICAgICAgLyogR2V0IERQQ0QgaW5mbyAq
Lwo+ICsgICAgICAgZXJyID0gZHJtX2RwX2RwY2RfcmVhZCgmYW54NjM0NS0+YXV4LCBEUF9EUENE
X1JFViwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJmFueDYzNDUtPmRwY2QsIERQ
X1JFQ0VJVkVSX0NBUF9TSVpFKTsKPiArICAgICAgIGlmIChlcnIgPCAwKSB7Cj4gKyAgICAgICAg
ICAgICAgIERSTV9FUlJPUigiRmFpbGVkIHRvIHJlYWQgRFBDRDogJWRcbiIsIGVycik7Cj4gKyAg
ICAgICAgICAgICAgIHJldHVybiBlcnI7Cj4gKyAgICAgICB9Cj4gKwo+ICsgICAgICAgLyogQ2xl
YXIgY2hhbm5lbCB4IFNFUkRFUyBwb3dlciBkb3duICovCj4gKyAgICAgICBlcnIgPSBhbng2MzQ1
X2NsZWFyX2JpdHMoYW54NjM0NS0+bWFwW0kyQ19JRFhfRFBUWF0sCj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgU1BfRFBfQU5BTE9HX1BPV0VSX0RPV05fUkVHLCBTUF9DSDBfUEQp
Owo+ICsgICAgICAgaWYgKGVycikKPiArICAgICAgICAgICAgICAgcmV0dXJuIGVycjsKPiArCj4g
KyAgICAgICAvKiBDaGVjayBsaW5rIGNhcGFiaWxpdGllcyAqLwo+ICsgICAgICAgZXJyID0gZHJt
X2RwX2xpbmtfcHJvYmUoJmFueDYzNDUtPmF1eCwgJmFueDYzNDUtPmxpbmspOwo+ICsgICAgICAg
aWYgKGVyciA8IDApIHsKPiArICAgICAgICAgICAgICAgRFJNX0VSUk9SKCJGYWlsZWQgdG8gcHJv
YmUgbGluayBjYXBhYmlsaXRpZXM6ICVkXG4iLCBlcnIpOwo+ICsgICAgICAgICAgICAgICByZXR1
cm4gZXJyOwo+ICsgICAgICAgfQo+ICsKPiArICAgICAgIC8qIFBvd2VyIHVwIHRoZSBzaW5rICov
Cj4gKyAgICAgICBlcnIgPSBkcm1fZHBfbGlua19wb3dlcl91cCgmYW54NjM0NS0+YXV4LCAmYW54
NjM0NS0+bGluayk7Cj4gKyAgICAgICBpZiAoZXJyIDwgMCkgewo+ICsgICAgICAgICAgICAgICBE
Uk1fRVJST1IoIkZhaWxlZCB0byBwb3dlciB1cCBEaXNwbGF5UG9ydCBsaW5rOiAlZFxuIiwgZXJy
KTsKPiArICAgICAgICAgICAgICAgcmV0dXJuIGVycjsKPiArICAgICAgIH0KPiArCj4gKyAgICAg
ICAvKiBQb3NzaWJseSBlbmFibGUgZG93bnNwcmVhZCBvbiB0aGUgc2luayAqLwo+ICsgICAgICAg
ZXJyID0gcmVnbWFwX3dyaXRlKGFueDYzNDUtPm1hcFtJMkNfSURYX0RQVFhdLAo+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgIFNQX0RQX0RPV05TUFJFQURfQ1RSTDFfUkVHLCAwKTsKPiArICAg
ICAgIGlmIChlcnIpCj4gKyAgICAgICAgICAgICAgIHJldHVybiBlcnI7Cj4gKwo+ICsgICAgICAg
aWYgKGFueDYzNDUtPmRwY2RbRFBfTUFYX0RPV05TUFJFQURdICYgRFBfTUFYX0RPV05TUFJFQURf
MF81KSB7Cj4gKyAgICAgICAgICAgICAgIERSTV9ERUJVRygiRW5hYmxlIGRvd25zcHJlYWQgb24g
dGhlIHNpbmtcbiIpOwo+ICsgICAgICAgICAgICAgICAvKiA0MDAwUFBNICovCj4gKyAgICAgICAg
ICAgICAgIGVyciA9IHJlZ21hcF93cml0ZShhbng2MzQ1LT5tYXBbSTJDX0lEWF9EUFRYXSwKPiAr
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNQX0RQX0RPV05TUFJFQURfQ1RSTDFf
UkVHLCA4KTsKPiArICAgICAgICAgICAgICAgaWYgKGVycikKPiArICAgICAgICAgICAgICAgICAg
ICAgICByZXR1cm4gZXJyOwo+ICsKPiArICAgICAgICAgICAgICAgZXJyID0gZHJtX2RwX2RwY2Rf
d3JpdGViKCZhbng2MzQ1LT5hdXgsIERQX0RPV05TUFJFQURfQ1RSTCwKPiArICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIERQX1NQUkVBRF9BTVBfMF81KTsKPiArICAgICAg
ICAgICAgICAgaWYgKGVyciA8IDApCj4gKyAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVy
cjsKPiArICAgICAgIH0gZWxzZSB7Cj4gKyAgICAgICAgICAgICAgIGVyciA9IGRybV9kcF9kcGNk
X3dyaXRlYigmYW54NjM0NS0+YXV4LCBEUF9ET1dOU1BSRUFEX0NUUkwsIDApOwo+ICsgICAgICAg
ICAgICAgICBpZiAoZXJyIDwgMCkKPiArICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXJy
Owo+ICsgICAgICAgfQo+ICsKPiArICAgICAgIC8qIFNldCB0aGUgbGFuZSBjb3VudCBhbmQgdGhl
IGxpbmsgcmF0ZSBvbiB0aGUgc2luayAqLwo+ICsgICAgICAgaWYgKGRybV9kcF9lbmhhbmNlZF9m
cmFtZV9jYXAoYW54NjM0NS0+ZHBjZCkpCj4gKyAgICAgICAgICAgICAgIGVyciA9IGFueDYzNDVf
c2V0X2JpdHMoYW54NjM0NS0+bWFwW0kyQ19JRFhfRFBUWF0sCj4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgU1BfRFBfU1lTVEVNX0NUUkxfQkFTRSArIDQsCj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU1BfRU5IQU5DRURfTU9ERSk7Cj4gKyAg
ICAgICBlbHNlCj4gKyAgICAgICAgICAgICAgIGVyciA9IGFueDYzNDVfY2xlYXJfYml0cyhhbng2
MzQ1LT5tYXBbSTJDX0lEWF9EUFRYXSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIFNQX0RQX1NZU1RFTV9DVFJMX0JBU0UgKyA0LAo+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgU1BfRU5IQU5DRURfTU9ERSk7Cj4gKyAgICAgICBpZiAo
ZXJyKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gZXJyOwo+ICsKPiArICAgICAgIHZhbHVlID0g
ZHJtX2RwX2xpbmtfcmF0ZV90b19id19jb2RlKGFueDYzNDUtPmxpbmsucmF0ZSk7Cj4gKyAgICAg
ICBlcnIgPSByZWdtYXBfd3JpdGUoYW54NjM0NS0+bWFwW0kyQ19JRFhfRFBUWF0sCj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgU1BfRFBfTUFJTl9MSU5LX0JXX1NFVF9SRUcsIHZhbHVlKTsK
PiArICAgICAgIGlmIChlcnIpCj4gKyAgICAgICAgICAgICAgIHJldHVybiBlcnI7Cj4gKwo+ICsg
ICAgICAgZXJyID0gcmVnbWFwX3dyaXRlKGFueDYzNDUtPm1hcFtJMkNfSURYX0RQVFhdLAo+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgIFNQX0RQX0xBTkVfQ09VTlRfU0VUX1JFRywgYW54NjM0
NS0+bGluay5udW1fbGFuZXMpOwo+ICsgICAgICAgaWYgKGVycikKPiArICAgICAgICAgICAgICAg
cmV0dXJuIGVycjsKPiArCj4gKyAgICAgICBlcnIgPSBkcm1fZHBfbGlua19jb25maWd1cmUoJmFu
eDYzNDUtPmF1eCwgJmFueDYzNDUtPmxpbmspOwo+ICsgICAgICAgaWYgKGVyciA8IDApIHsKPiAr
ICAgICAgICAgICAgICAgRFJNX0VSUk9SKCJGYWlsZWQgdG8gY29uZmlndXJlIERpc3BsYXlQb3J0
IGxpbms6ICVkXG4iLCBlcnIpOwo+ICsgICAgICAgICAgICAgICByZXR1cm4gZXJyOwo+ICsgICAg
ICAgfQo+ICsKPiArICAgICAgIC8qIFN0YXJ0IHRyYWluaW5nIG9uIHRoZSBzb3VyY2UgKi8KPiAr
ICAgICAgIGVyciA9IHJlZ21hcF93cml0ZShhbng2MzQ1LT5tYXBbSTJDX0lEWF9EUFRYXSwgU1Bf
RFBfTFRfQ1RSTF9SRUcsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgU1BfTFRfRU4pOwo+
ICsgICAgICAgaWYgKGVycikKPiArICAgICAgICAgICAgICAgcmV0dXJuIGVycjsKPiArCj4gKyAg
ICAgICByZXR1cm4gcmVnbWFwX3JlYWRfcG9sbF90aW1lb3V0KGFueDYzNDUtPm1hcFtJMkNfSURY
X0RQVFhdLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNQX0RQX0xU
X0NUUkxfUkVHLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVl
LCAhKHZhbHVlICYgU1BfRFBfTFRfSU5QUk9HUkVTUyksCj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgUE9MTF9ERUxBWSwgUE9MTF9USU1FT1VUKTsKPiArfQo+ICsKPiAr
c3RhdGljIGludCBhbng2MzQ1X3R4X2luaXRpYWxpemF0aW9uKHN0cnVjdCBhbng2MzQ1ICphbng2
MzQ1KQo+ICt7Cj4gKyAgICAgICBpbnQgZXJyLCBpOwo+ICsKPiArICAgICAgIC8qIEZJWE1FOiBj
b2xvcmRlcHRoIGlzIGhhcmRjb2RlZCBmb3Igbm93ICovCj4gKyAgICAgICBlcnIgPSByZWdtYXBf
d3JpdGUoYW54NjM0NS0+bWFwW0kyQ19JRFhfVFhDT01dLCBTUF9WSURfQ1RSTDJfUkVHLAo+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgIFNQX0lOX0JQQ182QklUIDw8IFNQX0lOX0JQQ19TSElG
VCk7Cj4gKyAgICAgICBpZiAoZXJyKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gZXJyOwo+ICsK
PiArICAgICAgIGVyciA9IHJlZ21hcF93cml0ZShhbng2MzQ1LT5tYXBbSTJDX0lEWF9EUFRYXSwg
U1BfRFBfUExMX0NUUkxfUkVHLCAwKTsKPiArICAgICAgIGlmIChlcnIpCj4gKyAgICAgICAgICAg
ICAgIHJldHVybiBlcnI7Cj4gKwo+ICsgICAgICAgZXJyID0gcmVnbWFwX3dyaXRlKGFueDYzNDUt
Pm1hcFtJMkNfSURYX1RYQ09NXSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICBTUF9BTkFM
T0dfREVCVUcxX1JFRywgMCk7Cj4gKyAgICAgICBpZiAoZXJyKQo+ICsgICAgICAgICAgICAgICBy
ZXR1cm4gZXJyOwo+ICsKPiArICAgICAgIGVyciA9IHJlZ21hcF93cml0ZShhbng2MzQ1LT5tYXBb
STJDX0lEWF9EUFRYXSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICBTUF9EUF9MSU5LX0RF
QlVHX0NUUkxfUkVHLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgIFNQX05FV19QUkJTNyB8
IFNQX01fVklEX0RFQlVHKTsKPiArICAgICAgIGlmIChlcnIpCj4gKyAgICAgICAgICAgICAgIHJl
dHVybiBlcnI7Cj4gKwo+ICsgICAgICAgZXJyID0gcmVnbWFwX3dyaXRlKGFueDYzNDUtPm1hcFtJ
MkNfSURYX0RQVFhdLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgIFNQX0RQX0FOQUxPR19Q
T1dFUl9ET1dOX1JFRywgMCk7Cj4gKyAgICAgICBpZiAoZXJyKQo+ICsgICAgICAgICAgICAgICBy
ZXR1cm4gZXJyOwo+ICsKPiArICAgICAgIC8qIEZvcmNlIEhQRCAqLwo+ICsgICAgICAgZXJyID0g
YW54NjM0NV9zZXRfYml0cyhhbng2MzQ1LT5tYXBbSTJDX0lEWF9EUFRYXSwKPiArICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgU1BfRFBfU1lTVEVNX0NUUkxfQkFTRSArIDMsCj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIFNQX0hQRF9GT1JDRSB8IFNQX0hQRF9DVFJMKTsKPiAr
ICAgICAgIGlmIChlcnIpCj4gKyAgICAgICAgICAgICAgIHJldHVybiBlcnI7Cj4gKwo+ICsgICAg
ICAgZm9yIChpID0gMDsgaSA8IDQ7IGkrKykgewo+ICsgICAgICAgICAgICAgICAvKiA0IGxhbmVz
ICovCj4gKyAgICAgICAgICAgICAgIGVyciA9IHJlZ21hcF93cml0ZShhbng2MzQ1LT5tYXBbSTJD
X0lEWF9EUFRYXSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNQX0RQX0xB
TkUwX0xUX0NUUkxfUkVHICsgaSwgMCk7Cj4gKyAgICAgICAgICAgICAgIGlmIChlcnIpCj4gKyAg
ICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycjsKPiArICAgICAgIH0KPiArCj4gKyAgICAg
ICAvKiBSZXNldCBBVVggKi8KPiArICAgICAgIGVyciA9IGFueDYzNDVfc2V0X2JpdHMoYW54NjM0
NS0+bWFwW0kyQ19JRFhfVFhDT01dLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBT
UF9SRVNFVF9DVFJMMl9SRUcsIFNQX0FVWF9SU1QpOwo+ICsgICAgICAgaWYgKGVycikKPiArICAg
ICAgICAgICAgICAgcmV0dXJuIGVycjsKPiArCj4gKyAgICAgICByZXR1cm4gYW54NjM0NV9jbGVh
cl9iaXRzKGFueDYzNDUtPm1hcFtJMkNfSURYX1RYQ09NXSwKPiArICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBTUF9SRVNFVF9DVFJMMl9SRUcsIFNQX0FVWF9SU1QpOwo+ICt9Cj4gKwo+
ICtzdGF0aWMgdm9pZCBhbng2MzQ1X3Bvd2Vyb24oc3RydWN0IGFueDYzNDUgKmFueDYzNDUpCj4g
K3sKPiArICAgICAgIGludCBlcnI7Cj4gKwo+ICsgICAgICAgLyogRW5zdXJlIHJlc2V0IGlzIGFz
c2VydGVkIGJlZm9yZSBzdGFydGluZyBwb3dlciBvbiBzZXF1ZW5jZSAqLwo+ICsgICAgICAgZ3Bp
b2Rfc2V0X3ZhbHVlX2NhbnNsZWVwKGFueDYzNDUtPmdwaW9kX3Jlc2V0LCAxKTsKPiArICAgICAg
IHVzbGVlcF9yYW5nZSgxMDAwLCAyMDAwKTsKPiArCj4gKyAgICAgICBlcnIgPSByZWd1bGF0b3Jf
ZW5hYmxlKGFueDYzNDUtPmR2ZGQxMik7Cj4gKyAgICAgICBpZiAoZXJyKSB7Cj4gKyAgICAgICAg
ICAgICAgIERSTV9FUlJPUigiRmFpbGVkIHRvIGVuYWJsZSBkdmRkMTIgcmVndWxhdG9yOiAlZFxu
IiwKPiArICAgICAgICAgICAgICAgICAgICAgICAgIGVycik7Cj4gKyAgICAgICAgICAgICAgIHJl
dHVybjsKPiArICAgICAgIH0KPiArCj4gKyAgICAgICAvKiBUMSAtIGRlbGF5IGJldHdlZW4gVkRE
MTIgYW5kIFZERDI1IHNob3VsZCBiZSAwLTJtcyAqLwo+ICsgICAgICAgdXNsZWVwX3JhbmdlKDEw
MDAsIDIwMDApOwo+ICsKPiArICAgICAgIGVyciA9IHJlZ3VsYXRvcl9lbmFibGUoYW54NjM0NS0+
ZHZkZDI1KTsKPiArICAgICAgIGlmIChlcnIpIHsKPiArICAgICAgICAgICAgICAgRFJNX0VSUk9S
KCJGYWlsZWQgdG8gZW5hYmxlIGR2ZGQyNSByZWd1bGF0b3I6ICVkXG4iLAo+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgZXJyKTsKPiArICAgICAgICAgICAgICAgcmV0dXJuOwo+ICsgICAgICAg
fQo+ICsKPiArICAgICAgIC8qIFQyIC0gZGVsYXkgYmV0d2VlbiBSRVNFVE4gYW5kIGFsbCBwb3dl
ciByYWlsIHN0YWJsZSwKPiArICAgICAgICAqIHNob3VsZCBiZSAyLTVtcwo+ICsgICAgICAgICov
Cj4gKyAgICAgICB1c2xlZXBfcmFuZ2UoMjAwMCwgNTAwMCk7Cj4gKwo+ICsgICAgICAgZ3Bpb2Rf
c2V0X3ZhbHVlX2NhbnNsZWVwKGFueDYzNDUtPmdwaW9kX3Jlc2V0LCAwKTsKPiArCj4gKyAgICAg
ICAvKiBQb3dlciBvbiByZWdpc3RlcnMgbW9kdWxlICovCj4gKyAgICAgICBhbng2MzQ1X3NldF9i
aXRzKGFueDYzNDUtPm1hcFtJMkNfSURYX1RYQ09NXSwgU1BfUE9XRVJET1dOX0NUUkxfUkVHLAo+
ICsgICAgICAgICAgICAgICAgICAgICAgICBTUF9IRENQX1BEIHwgU1BfQVVESU9fUEQgfCBTUF9W
SURFT19QRCB8IFNQX0xJTktfUEQpOwo+ICsgICAgICAgYW54NjM0NV9jbGVhcl9iaXRzKGFueDYz
NDUtPm1hcFtJMkNfSURYX1RYQ09NXSwgU1BfUE9XRVJET1dOX0NUUkxfUkVHLAo+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgIFNQX1JFR0lTVEVSX1BEIHwgU1BfVE9UQUxfUEQpOwo+ICsKPiAr
ICAgICAgIGlmIChhbng2MzQ1LT5wYW5lbCkKPiArICAgICAgICAgICAgICAgZHJtX3BhbmVsX3By
ZXBhcmUoYW54NjM0NS0+cGFuZWwpOwo+ICsKPiArICAgICAgIGFueDYzNDUtPnBvd2VyZWQgPSB0
cnVlOwo+ICt9Cj4gKwo+ICtzdGF0aWMgdm9pZCBhbng2MzQ1X3Bvd2Vyb2ZmKHN0cnVjdCBhbng2
MzQ1ICphbng2MzQ1KQo+ICt7Cj4gKyAgICAgICBpbnQgZXJyOwo+ICsKPiArICAgICAgIGdwaW9k
X3NldF92YWx1ZV9jYW5zbGVlcChhbng2MzQ1LT5ncGlvZF9yZXNldCwgMSk7Cj4gKyAgICAgICB1
c2xlZXBfcmFuZ2UoMTAwMCwgMjAwMCk7Cj4gKwo+ICsgICAgICAgaWYgKGFueDYzNDUtPnBhbmVs
KQo+ICsgICAgICAgICAgICAgICBkcm1fcGFuZWxfdW5wcmVwYXJlKGFueDYzNDUtPnBhbmVsKTsK
PiArCj4gKyAgICAgICBlcnIgPSByZWd1bGF0b3JfZGlzYWJsZShhbng2MzQ1LT5kdmRkMjUpOwo+
ICsgICAgICAgaWYgKGVycikgewo+ICsgICAgICAgICAgICAgICBEUk1fRVJST1IoIkZhaWxlZCB0
byBkaXNhYmxlIGR2ZGQyNSByZWd1bGF0b3I6ICVkXG4iLAo+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgZXJyKTsKPiArICAgICAgICAgICAgICAgcmV0dXJuOwo+ICsgICAgICAgfQo+ICsKPiAr
ICAgICAgIHVzbGVlcF9yYW5nZSg1MDAwLCAxMDAwMCk7Cj4gKwo+ICsgICAgICAgZXJyID0gcmVn
dWxhdG9yX2Rpc2FibGUoYW54NjM0NS0+ZHZkZDEyKTsKPiArICAgICAgIGlmIChlcnIpIHsKPiAr
ICAgICAgICAgICAgICAgRFJNX0VSUk9SKCJGYWlsZWQgdG8gZGlzYWJsZSBkdmRkMTIgcmVndWxh
dG9yOiAlZFxuIiwKPiArICAgICAgICAgICAgICAgICAgICAgICAgIGVycik7Cj4gKyAgICAgICAg
ICAgICAgIHJldHVybjsKPiArICAgICAgIH0KPiArCj4gKyAgICAgICB1c2xlZXBfcmFuZ2UoMTAw
MCwgMjAwMCk7Cj4gKwo+ICsgICAgICAgYW54NjM0NS0+cG93ZXJlZCA9IGZhbHNlOwo+ICt9Cj4g
Kwo+ICtzdGF0aWMgaW50IGFueDYzNDVfc3RhcnQoc3RydWN0IGFueDYzNDUgKmFueDYzNDUpCj4g
K3sKPiArICAgICAgIGludCBlcnI7Cj4gKwo+ICsgICAgICAgaWYgKCFhbng2MzQ1LT5wb3dlcmVk
KQo+ICsgICAgICAgICAgICAgICBhbng2MzQ1X3Bvd2Vyb24oYW54NjM0NSk7Cj4gKwo+ICsgICAg
ICAgLyogUG93ZXIgb24gbmVlZGVkIG1vZHVsZXMgKi8KPiArICAgICAgIGVyciA9IGFueDYzNDVf
Y2xlYXJfYml0cyhhbng2MzQ1LT5tYXBbSTJDX0lEWF9UWENPTV0sCj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBTUF9QT1dFUkRPV05fQ1RSTF9SRUcsCj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBTUF9WSURFT19QRCB8IFNQX0xJTktfUEQpOwo+ICsKPiArICAgICAg
IGVyciA9IGFueDYzNDVfdHhfaW5pdGlhbGl6YXRpb24oYW54NjM0NSk7Cj4gKyAgICAgICBpZiAo
ZXJyKSB7Cj4gKyAgICAgICAgICAgICAgIERSTV9FUlJPUigiRmFpbGVkIGVEUCB0cmFuc21pdHRl
ciBpbml0aWFsaXphdGlvbjogJWRcbiIsIGVycik7Cj4gKyAgICAgICAgICAgICAgIGFueDYzNDVf
cG93ZXJvZmYoYW54NjM0NSk7Cj4gKyAgICAgICAgICAgICAgIHJldHVybiBlcnI7Cj4gKyAgICAg
ICB9Cj4gKwo+ICsgICAgICAgZXJyID0gYW54NjM0NV9kcF9saW5rX3RyYWluaW5nKGFueDYzNDUp
Owo+ICsgICAgICAgaWYgKGVycikgewo+ICsgICAgICAgICAgICAgICBEUk1fRVJST1IoIkZhaWxl
ZCBsaW5rIHRyYWluaW5nOiAlZFxuIiwgZXJyKTsKPiArICAgICAgICAgICAgICAgYW54NjM0NV9w
b3dlcm9mZihhbng2MzQ1KTsKPiArICAgICAgICAgICAgICAgcmV0dXJuIGVycjsKPiArICAgICAg
IH0KPiArCj4gKyAgICAgICAvKgo+ICsgICAgICAgICogVGhpcyBkZWxheSBzZWVtcyB0byBoZWxw
IGtlZXAgdGhlIGhhcmR3YXJlIGluIGEgZ29vZCBzdGF0ZS4gV2l0aG91dAo+ICsgICAgICAgICog
aXQsIHRoZXJlIGFyZSB0aW1lcyB3aGVyZSBpdCBmYWlscyBzaWxlbnRseS4KPiArICAgICAgICAq
Lwo+ICsgICAgICAgdXNsZWVwX3JhbmdlKDEwMDAwLCAxNTAwMCk7Cj4gKwo+ICsgICAgICAgcmV0
dXJuIDA7Cj4gK30KPiArCj4gK3N0YXRpYyBpbnQgYW54NjM0NV9jb25maWdfZHBfb3V0cHV0KHN0
cnVjdCBhbng2MzQ1ICphbng2MzQ1KQo+ICt7Cj4gKyAgICAgICBpbnQgZXJyOwo+ICsKPiArICAg
ICAgIGVyciA9IGFueDYzNDVfY2xlYXJfYml0cyhhbng2MzQ1LT5tYXBbSTJDX0lEWF9UWENPTV0s
IFNQX1ZJRF9DVFJMMV9SRUcsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU1Bf
VklERU9fTVVURSk7Cj4gKyAgICAgICBpZiAoZXJyKQo+ICsgICAgICAgICAgICAgICByZXR1cm4g
ZXJyOwo+ICsKPiArICAgICAgIC8qIEVuYWJsZSBEUCBvdXRwdXQgKi8KPiArICAgICAgIGVyciA9
IGFueDYzNDVfc2V0X2JpdHMoYW54NjM0NS0+bWFwW0kyQ19JRFhfVFhDT01dLCBTUF9WSURfQ1RS
TDFfUkVHLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTUF9WSURFT19FTik7Cj4g
KyAgICAgICBpZiAoZXJyKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gZXJyOwo+ICsKPiArICAg
ICAgIC8qIEZvcmNlIHN0cmVhbSB2YWxpZCAqLwo+ICsgICAgICAgcmV0dXJuIGFueDYzNDVfc2V0
X2JpdHMoYW54NjM0NS0+bWFwW0kyQ19JRFhfRFBUWF0sCj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIFNQX0RQX1NZU1RFTV9DVFJMX0JBU0UgKyAzLAo+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBTUF9TVFJNX0ZPUkNFIHwgU1BfU1RSTV9DVFJMKTsKPiArfQo+ICsKPiAr
c3RhdGljIGludCBhbng2MzQ1X2dldF9kb3duc3RyZWFtX2luZm8oc3RydWN0IGFueDYzNDUgKmFu
eDYzNDUpCj4gK3sKPiArICAgICAgIHU4IHZhbHVlOwo+ICsgICAgICAgaW50IGVycjsKPiArCj4g
KyAgICAgICBlcnIgPSBkcm1fZHBfZHBjZF9yZWFkYigmYW54NjM0NS0+YXV4LCBEUF9TSU5LX0NP
VU5ULCAmdmFsdWUpOwo+ICsgICAgICAgaWYgKGVyciA8IDApIHsKPiArICAgICAgICAgICAgICAg
RFJNX0VSUk9SKCJHZXQgc2luayBjb3VudCBmYWlsZWQgJWRcbiIsIGVycik7Cj4gKyAgICAgICAg
ICAgICAgIHJldHVybiBlcnI7Cj4gKyAgICAgICB9Cj4gKwo+ICsgICAgICAgaWYgKCFEUF9HRVRf
U0lOS19DT1VOVCh2YWx1ZSkpIHsKPiArICAgICAgICAgICAgICAgRFJNX0VSUk9SKCJEb3duc3Ry
ZWFtIGRpc2Nvbm5lY3RlZFxuIik7Cj4gKyAgICAgICAgICAgICAgIHJldHVybiAtRUlPOwo+ICsg
ICAgICAgfQo+ICsKPiArICAgICAgIHJldHVybiAwOwo+ICt9Cj4gKwo+ICtzdGF0aWMgaW50IGFu
eDYzNDVfZ2V0X21vZGVzKHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCj4gK3sKPiAr
ICAgICAgIHN0cnVjdCBhbng2MzQ1ICphbng2MzQ1ID0gY29ubmVjdG9yX3RvX2FueDYzNDUoY29u
bmVjdG9yKTsKPiArICAgICAgIGludCBlcnIsIG51bV9tb2RlcyA9IDA7Cj4gKyAgICAgICBib29s
IHBvd2VyX29mZiA9IGZhbHNlOwo+ICsKPiArICAgICAgIG11dGV4X2xvY2soJmFueDYzNDUtPmxv
Y2spOwo+ICsKPiArICAgICAgIGlmICghYW54NjM0NS0+ZWRpZCkgewo+ICsgICAgICAgICAgICAg
ICBpZiAoIWFueDYzNDUtPnBvd2VyZWQpIHsKPiArICAgICAgICAgICAgICAgICAgICAgICBhbng2
MzQ1X3Bvd2Vyb24oYW54NjM0NSk7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgcG93ZXJfb2Zm
ID0gdHJ1ZTsKPiArICAgICAgICAgICAgICAgfQo+ICsKPiArICAgICAgICAgICAgICAgZXJyID0g
YW54NjM0NV9nZXRfZG93bnN0cmVhbV9pbmZvKGFueDYzNDUpOwo+ICsgICAgICAgICAgICAgICBp
ZiAoZXJyKSB7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgRFJNX0VSUk9SKCJGYWlsZWQgdG8g
Z2V0IGRvd25zdHJlYW0gaW5mbzogJWRcbiIsIGVycik7Cj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgZ290byB1bmxvY2s7Cj4gKyAgICAgICAgICAgICAgIH0KPiArCj4gKyAgICAgICAgICAgICAg
IGFueDYzNDUtPmVkaWQgPSBkcm1fZ2V0X2VkaWQoY29ubmVjdG9yLCAmYW54NjM0NS0+YXV4LmRk
Yyk7Cj4gKyAgICAgICAgICAgICAgIGlmICghYW54NjM0NS0+ZWRpZCkKPiArICAgICAgICAgICAg
ICAgICAgICAgICBEUk1fRVJST1IoIkZhaWxlZCB0byByZWFkIEVESUQgZnJvbSBwYW5lbFxuIik7
Cj4gKwo+ICsgICAgICAgICAgICAgICBlcnIgPSBkcm1fY29ubmVjdG9yX3VwZGF0ZV9lZGlkX3By
b3BlcnR5KGNvbm5lY3RvciwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBhbng2MzQ1LT5lZGlkKTsKPiArICAgICAgICAgICAgICAgaWYg
KGVycikgewo+ICsgICAgICAgICAgICAgICAgICAgICAgIERSTV9FUlJPUigiRmFpbGVkIHRvIHVw
ZGF0ZSBFRElEIHByb3BlcnR5OiAlZFxuIiwgZXJyKTsKPiArICAgICAgICAgICAgICAgICAgICAg
ICBnb3RvIHVubG9jazsKPiArICAgICAgICAgICAgICAgfQo+ICsgICAgICAgfQo+ICsKPiArICAg
ICAgIG51bV9tb2RlcyArPSBkcm1fYWRkX2VkaWRfbW9kZXMoY29ubmVjdG9yLCBhbng2MzQ1LT5l
ZGlkKTsKPiArCj4gK3VubG9jazoKPiArICAgICAgIGlmIChwb3dlcl9vZmYpCj4gKyAgICAgICAg
ICAgICAgIGFueDYzNDVfcG93ZXJvZmYoYW54NjM0NSk7Cj4gKwo+ICsgICAgICAgbXV0ZXhfdW5s
b2NrKCZhbng2MzQ1LT5sb2NrKTsKPiArCj4gKyAgICAgICBpZiAoIW51bV9tb2RlcyAmJiBhbng2
MzQ1LT5wYW5lbCkKPiArICAgICAgICAgICAgICAgbnVtX21vZGVzICs9IGRybV9wYW5lbF9nZXRf
bW9kZXMoYW54NjM0NS0+cGFuZWwpOwo+ICsKPiArICAgICAgIHJldHVybiBudW1fbW9kZXM7Cj4g
K30KPiArCj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9oZWxwZXJfZnVuY3Mg
YW54NjM0NV9jb25uZWN0b3JfaGVscGVyX2Z1bmNzID0gewo+ICsgICAgICAgLmdldF9tb2RlcyA9
IGFueDYzNDVfZ2V0X21vZGVzLAo+ICt9Owo+ICsKPiArc3RhdGljIHZvaWQKPiArYW54NjM0NV9j
b25uZWN0b3JfZGVzdHJveShzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQo+ICt7Cj4g
KyAgICAgICBzdHJ1Y3QgYW54NjM0NSAqYW54NjM0NSA9IGNvbm5lY3Rvcl90b19hbng2MzQ1KGNv
bm5lY3Rvcik7Cj4gKwo+ICsgICAgICAgaWYgKGFueDYzNDUtPnBhbmVsKQo+ICsgICAgICAgICAg
ICAgICBkcm1fcGFuZWxfZGV0YWNoKGFueDYzNDUtPnBhbmVsKTsKPiArICAgICAgIGRybV9jb25u
ZWN0b3JfY2xlYW51cChjb25uZWN0b3IpOwo+ICt9Cj4gKwo+ICtzdGF0aWMgY29uc3Qgc3RydWN0
IGRybV9jb25uZWN0b3JfZnVuY3MgYW54NjM0NV9jb25uZWN0b3JfZnVuY3MgPSB7Cj4gKyAgICAg
ICAuZmlsbF9tb2RlcyA9IGRybV9oZWxwZXJfcHJvYmVfc2luZ2xlX2Nvbm5lY3Rvcl9tb2RlcywK
PiArICAgICAgIC5kZXN0cm95ID0gYW54NjM0NV9jb25uZWN0b3JfZGVzdHJveSwKPiArICAgICAg
IC5yZXNldCA9IGRybV9hdG9taWNfaGVscGVyX2Nvbm5lY3Rvcl9yZXNldCwKPiArICAgICAgIC5h
dG9taWNfZHVwbGljYXRlX3N0YXRlID0gZHJtX2F0b21pY19oZWxwZXJfY29ubmVjdG9yX2R1cGxp
Y2F0ZV9zdGF0ZSwKPiArICAgICAgIC5hdG9taWNfZGVzdHJveV9zdGF0ZSA9IGRybV9hdG9taWNf
aGVscGVyX2Nvbm5lY3Rvcl9kZXN0cm95X3N0YXRlLAo+ICt9Owo+ICsKPiArc3RhdGljIGludCBh
bng2MzQ1X2JyaWRnZV9hdHRhY2goc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSkKPiArewo+ICsg
ICAgICAgc3RydWN0IGFueDYzNDUgKmFueDYzNDUgPSBicmlkZ2VfdG9fYW54NjM0NShicmlkZ2Up
Owo+ICsgICAgICAgaW50IGVycjsKPiArCj4gKyAgICAgICBpZiAoIWJyaWRnZS0+ZW5jb2Rlcikg
ewo+ICsgICAgICAgICAgICAgICBEUk1fRVJST1IoIlBhcmVudCBlbmNvZGVyIG9iamVjdCBub3Qg
Zm91bmQiKTsKPiArICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9ERVY7Cj4gKyAgICAgICB9Cj4g
Kwo+ICsgICAgICAgLyogUmVnaXN0ZXIgYXV4IGNoYW5uZWwgKi8KPiArICAgICAgIGFueDYzNDUt
PmF1eC5uYW1lID0gIkRQLUFVWCI7Cj4gKyAgICAgICBhbng2MzQ1LT5hdXguZGV2ID0gJmFueDYz
NDUtPmNsaWVudC0+ZGV2Owo+ICsgICAgICAgYW54NjM0NS0+YXV4LnRyYW5zZmVyID0gYW54NjM0
NV9hdXhfdHJhbnNmZXI7Cj4gKwo+ICsgICAgICAgZXJyID0gZHJtX2RwX2F1eF9yZWdpc3Rlcigm
YW54NjM0NS0+YXV4KTsKPiArICAgICAgIGlmIChlcnIgPCAwKSB7Cj4gKyAgICAgICAgICAgICAg
IERSTV9FUlJPUigiRmFpbGVkIHRvIHJlZ2lzdGVyIGF1eCBjaGFubmVsOiAlZFxuIiwgZXJyKTsK
PiArICAgICAgICAgICAgICAgcmV0dXJuIGVycjsKPiArICAgICAgIH0KPiArCj4gKyAgICAgICBl
cnIgPSBkcm1fY29ubmVjdG9yX2luaXQoYnJpZGdlLT5kZXYsICZhbng2MzQ1LT5jb25uZWN0b3Is
Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJmFueDYzNDVfY29ubmVjdG9yX2Z1
bmNzLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERSTV9NT0RFX0NPTk5FQ1RP
Ul9lRFApOwo+ICsgICAgICAgaWYgKGVycikgewo+ICsgICAgICAgICAgICAgICBEUk1fRVJST1Io
IkZhaWxlZCB0byBpbml0aWFsaXplIGNvbm5lY3RvcjogJWRcbiIsIGVycik7Cj4gKyAgICAgICAg
ICAgICAgIHJldHVybiBlcnI7Cj4gKyAgICAgICB9Cj4gKwo+ICsgICAgICAgZHJtX2Nvbm5lY3Rv
cl9oZWxwZXJfYWRkKCZhbng2MzQ1LT5jb25uZWN0b3IsCj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgJmFueDYzNDVfY29ubmVjdG9yX2hlbHBlcl9mdW5jcyk7Cj4gKwo+ICsgICAg
ICAgZXJyID0gZHJtX2Nvbm5lY3Rvcl9yZWdpc3RlcigmYW54NjM0NS0+Y29ubmVjdG9yKTsKPiAr
ICAgICAgIGlmIChlcnIpIHsKPiArICAgICAgICAgICAgICAgRFJNX0VSUk9SKCJGYWlsZWQgdG8g
cmVnaXN0ZXIgY29ubmVjdG9yOiAlZFxuIiwgZXJyKTsKPiArICAgICAgICAgICAgICAgcmV0dXJu
IGVycjsKPiArICAgICAgIH0KPiArCj4gKyAgICAgICBhbng2MzQ1LT5jb25uZWN0b3IucG9sbGVk
ID0gRFJNX0NPTk5FQ1RPUl9QT0xMX0hQRDsKPiArCj4gKyAgICAgICBlcnIgPSBkcm1fY29ubmVj
dG9yX2F0dGFjaF9lbmNvZGVyKCZhbng2MzQ1LT5jb25uZWN0b3IsCj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyaWRnZS0+ZW5jb2Rlcik7Cj4gKyAgICAgICBp
ZiAoZXJyKSB7Cj4gKyAgICAgICAgICAgICAgIERSTV9FUlJPUigiRmFpbGVkIHRvIGxpbmsgdXAg
Y29ubmVjdG9yIHRvIGVuY29kZXI6ICVkXG4iLCBlcnIpOwo+ICsgICAgICAgICAgICAgICByZXR1
cm4gZXJyOwo+ICsgICAgICAgfQo+ICsKPiArICAgICAgIGlmIChhbng2MzQ1LT5wYW5lbCkgewo+
ICsgICAgICAgICAgICAgICBlcnIgPSBkcm1fcGFuZWxfYXR0YWNoKGFueDYzNDUtPnBhbmVsLCAm
YW54NjM0NS0+Y29ubmVjdG9yKTsKPiArICAgICAgICAgICAgICAgaWYgKGVycikgewo+ICsgICAg
ICAgICAgICAgICAgICAgICAgIERSTV9FUlJPUigiRmFpbGVkIHRvIGF0dGFjaCBwYW5lbDogJWRc
biIsIGVycik7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycjsKPiArICAgICAg
ICAgICAgICAgfQo+ICsgICAgICAgfQo+ICsKPiArICAgICAgIHJldHVybiAwOwo+ICt9Cj4gKwo+
ICtzdGF0aWMgZW51bSBkcm1fbW9kZV9zdGF0dXMKPiArYW54NjM0NV9icmlkZ2VfbW9kZV92YWxp
ZChzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
Y29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGUpCj4gK3sKPiArICAgICAgIGlmICht
b2RlLT5mbGFncyAmIERSTV9NT0RFX0ZMQUdfSU5URVJMQUNFKQo+ICsgICAgICAgICAgICAgICBy
ZXR1cm4gTU9ERV9OT19JTlRFUkxBQ0U7Cj4gKwo+ICsgICAgICAgLyogTWF4IDEyMDBwIGF0IDUu
NCBHaHosIG9uZSBsYW5lICovCj4gKyAgICAgICBpZiAobW9kZS0+Y2xvY2sgPiAxNTQwMDApCj4g
KyAgICAgICAgICAgICAgIHJldHVybiBNT0RFX0NMT0NLX0hJR0g7Cj4gKwo+ICsgICAgICAgcmV0
dXJuIE1PREVfT0s7Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lkIGFueDYzNDVfYnJpZGdlX2Rpc2Fi
bGUoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSkKPiArewo+ICsgICAgICAgc3RydWN0IGFueDYz
NDUgKmFueDYzNDUgPSBicmlkZ2VfdG9fYW54NjM0NShicmlkZ2UpOwo+ICsKPiArICAgICAgIC8q
IFBvd2VyIG9mZiBhbGwgbW9kdWxlcyBleGNlcHQgY29uZmlndXJhdGlvbiByZWdpc3RlcnMgYWNj
ZXNzICovCj4gKyAgICAgICBhbng2MzQ1X3NldF9iaXRzKGFueDYzNDUtPm1hcFtJMkNfSURYX1RY
Q09NXSwgU1BfUE9XRVJET1dOX0NUUkxfUkVHLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICBT
UF9IRENQX1BEIHwgU1BfQVVESU9fUEQgfCBTUF9WSURFT19QRCB8IFNQX0xJTktfUEQpOwo+ICsg
ICAgICAgaWYgKGFueDYzNDUtPnBhbmVsKQo+ICsgICAgICAgICAgICAgICBkcm1fcGFuZWxfZGlz
YWJsZShhbng2MzQ1LT5wYW5lbCk7Cj4gKwo+ICsgICAgICAgaWYgKGFueDYzNDUtPnBvd2VyZWQp
Cj4gKyAgICAgICAgICAgICAgIGFueDYzNDVfcG93ZXJvZmYoYW54NjM0NSk7Cj4gK30KPiArCj4g
K3N0YXRpYyB2b2lkIGFueDYzNDVfYnJpZGdlX2VuYWJsZShzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJp
ZGdlKQo+ICt7Cj4gKyAgICAgICBzdHJ1Y3QgYW54NjM0NSAqYW54NjM0NSA9IGJyaWRnZV90b19h
bng2MzQ1KGJyaWRnZSk7Cj4gKyAgICAgICBpbnQgZXJyOwo+ICsKPiArICAgICAgIGlmIChhbng2
MzQ1LT5wYW5lbCkKPiArICAgICAgICAgICAgICAgZHJtX3BhbmVsX2VuYWJsZShhbng2MzQ1LT5w
YW5lbCk7Cj4gKwo+ICsgICAgICAgZXJyID0gYW54NjM0NV9zdGFydChhbng2MzQ1KTsKPiArICAg
ICAgIGlmIChlcnIpIHsKPiArICAgICAgICAgICAgICAgRFJNX0VSUk9SKCJGYWlsZWQgdG8gaW5p
dGlhbGl6ZTogJWRcbiIsIGVycik7Cj4gKyAgICAgICAgICAgICAgIHJldHVybjsKPiArICAgICAg
IH0KPiArCj4gKyAgICAgICBlcnIgPSBhbng2MzQ1X2NvbmZpZ19kcF9vdXRwdXQoYW54NjM0NSk7
Cj4gKyAgICAgICBpZiAoZXJyKQo+ICsgICAgICAgICAgICAgICBEUk1fRVJST1IoIkZhaWxlZCB0
byBlbmFibGUgRFAgb3V0cHV0OiAlZFxuIiwgZXJyKTsKPiArfQo+ICsKPiArc3RhdGljIGNvbnN0
IHN0cnVjdCBkcm1fYnJpZGdlX2Z1bmNzIGFueDYzNDVfYnJpZGdlX2Z1bmNzID0gewo+ICsgICAg
ICAgLmF0dGFjaCA9IGFueDYzNDVfYnJpZGdlX2F0dGFjaCwKPiArICAgICAgIC5tb2RlX3ZhbGlk
ID0gYW54NjM0NV9icmlkZ2VfbW9kZV92YWxpZCwKPiArICAgICAgIC5kaXNhYmxlID0gYW54NjM0
NV9icmlkZ2VfZGlzYWJsZSwKPiArICAgICAgIC5lbmFibGUgPSBhbng2MzQ1X2JyaWRnZV9lbmFi
bGUsCj4gK307Cj4gKwo+ICtzdGF0aWMgdm9pZCB1bnJlZ2lzdGVyX2kyY19kdW1teV9jbGllbnRz
KHN0cnVjdCBhbng2MzQ1ICphbng2MzQ1KQo+ICt7Cj4gKyAgICAgICB1bnNpZ25lZCBpbnQgaTsK
PiArCj4gKyAgICAgICBmb3IgKGkgPSAxOyBpIDwgQVJSQVlfU0laRShhbng2MzQ1LT5pMmNfY2xp
ZW50cyk7IGkrKykKPiArICAgICAgICAgICAgICAgaWYgKGFueDYzNDUtPmkyY19jbGllbnRzW2ld
ICYmCj4gKyAgICAgICAgICAgICAgICAgICBhbng2MzQ1LT5pMmNfY2xpZW50c1tpXS0+YWRkciAh
PSBhbng2MzQ1LT5jbGllbnQtPmFkZHIpCj4gKyAgICAgICAgICAgICAgICAgICAgICAgaTJjX3Vu
cmVnaXN0ZXJfZGV2aWNlKGFueDYzNDUtPmkyY19jbGllbnRzW2ldKTsKPiArfQo+ICsKPiArc3Rh
dGljIGNvbnN0IHN0cnVjdCByZWdtYXBfY29uZmlnIGFueDYzNDVfcmVnbWFwX2NvbmZpZyA9IHsK
PiArICAgICAgIC5yZWdfYml0cyA9IDgsCj4gKyAgICAgICAudmFsX2JpdHMgPSA4LAo+ICsgICAg
ICAgLm1heF9yZWdpc3RlciA9IDB4ZmYsCj4gKyAgICAgICAuY2FjaGVfdHlwZSA9IFJFR0NBQ0hF
X05PTkUsCj4gK307Cj4gKwo+ICtzdGF0aWMgY29uc3QgdTE2IGFueDYzNDVfY2hpcGlkX2xpc3Rb
XSA9IHsKPiArICAgICAgIDB4NjM0NSwKPiArfTsKPiArCj4gK3N0YXRpYyBib29sIGFueDYzNDVf
Z2V0X2NoaXBfaWQoc3RydWN0IGFueDYzNDUgKmFueDYzNDUpCj4gK3sKPiArICAgICAgIHVuc2ln
bmVkIGludCBpLCBpZGwsIGlkaCwgdmVyc2lvbjsKPiArCj4gKyAgICAgICBpZiAocmVnbWFwX3Jl
YWQoYW54NjM0NS0+bWFwW0kyQ19JRFhfVFhDT01dLCBTUF9ERVZJQ0VfSURMX1JFRywgJmlkbCkp
Cj4gKyAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKPiArCj4gKyAgICAgICBpZiAocmVnbWFw
X3JlYWQoYW54NjM0NS0+bWFwW0kyQ19JRFhfVFhDT01dLCBTUF9ERVZJQ0VfSURIX1JFRywgJmlk
aCkpCj4gKyAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKPiArCj4gKyAgICAgICBhbng2MzQ1
LT5jaGlwaWQgPSAodTgpaWRsIHwgKCh1OClpZGggPDwgOCk7Cj4gKwo+ICsgICAgICAgaWYgKHJl
Z21hcF9yZWFkKGFueDYzNDUtPm1hcFtJMkNfSURYX1RYQ09NXSwgU1BfREVWSUNFX1ZFUlNJT05f
UkVHLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICZ2ZXJzaW9uKSkKPiArICAgICAgICAgICAg
ICAgcmV0dXJuIGZhbHNlOwo+ICsKPiArICAgICAgIGZvciAoaSA9IDA7IGkgPCBBUlJBWV9TSVpF
KGFueDYzNDVfY2hpcGlkX2xpc3QpOyBpKyspIHsKPiArICAgICAgICAgICAgICAgaWYgKGFueDYz
NDUtPmNoaXBpZCA9PSBhbng2MzQ1X2NoaXBpZF9saXN0W2ldKSB7Cj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgRFJNX0lORk8oIkZvdW5kIEFOWCV4ICh2ZXIuICVkKSBlRFAgVHJhbnNtaXR0ZXJc
biIsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW54NjM0NS0+Y2hpcGlkLCB2
ZXJzaW9uKTsKPiArICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKPiArICAgICAg
ICAgICAgICAgfQo+ICsgICAgICAgfQo+ICsKPiArICAgICAgIERSTV9FUlJPUigiQU5YJXggKHZl
ci4gJWQpIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBkcml2ZXJcbiIsCj4gKyAgICAgICAgICAgICAg
ICAgYW54NjM0NS0+Y2hpcGlkLCB2ZXJzaW9uKTsKPiArCj4gKyAgICAgICByZXR1cm4gZmFsc2U7
Cj4gK30KPiArCj4gK3N0YXRpYyBpbnQgYW54NjM0NV9pMmNfcHJvYmUoc3RydWN0IGkyY19jbGll
bnQgKmNsaWVudCwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cnVjdCBp
MmNfZGV2aWNlX2lkICppZCkKPiArewo+ICsgICAgICAgc3RydWN0IGFueDYzNDUgKmFueDYzNDU7
Cj4gKyAgICAgICBzdHJ1Y3QgZGV2aWNlICpkZXY7Cj4gKyAgICAgICBpbnQgaSwgZXJyOwo+ICsK
PiArICAgICAgIGFueDYzNDUgPSBkZXZtX2t6YWxsb2MoJmNsaWVudC0+ZGV2LCBzaXplb2YoKmFu
eDYzNDUpLCBHRlBfS0VSTkVMKTsKPiArICAgICAgIGlmICghYW54NjM0NSkKPiArICAgICAgICAg
ICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gKwo+ICsgICAgICAgbXV0ZXhfaW5pdCgmYW54NjM0NS0+
bG9jayk7Cj4gKwo+ICsgICAgICAgYW54NjM0NS0+YnJpZGdlLm9mX25vZGUgPSBjbGllbnQtPmRl
di5vZl9ub2RlOwo+ICsKPiArICAgICAgIGFueDYzNDUtPmNsaWVudCA9IGNsaWVudDsKPiArICAg
ICAgIGkyY19zZXRfY2xpZW50ZGF0YShjbGllbnQsIGFueDYzNDUpOwo+ICsKPiArICAgICAgIGRl
diA9ICZhbng2MzQ1LT5jbGllbnQtPmRldjsKPiArCj4gKyAgICAgICBlcnIgPSBkcm1fb2ZfZmlu
ZF9wYW5lbF9vcl9icmlkZ2UoY2xpZW50LT5kZXYub2Zfbm9kZSwgMSwgMCwKPiArICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmYW54NjM0NS0+cGFuZWwsIE5VTEwpOwo+
ICsgICAgICAgaWYgKGVyciA9PSAtRVBST0JFX0RFRkVSKQo+ICsgICAgICAgICAgICAgICByZXR1
cm4gZXJyOwo+ICsKPiArICAgICAgIGlmIChlcnIpCj4gKyAgICAgICAgICAgICAgIERSTV9ERUJV
RygiTm8gcGFuZWwgZm91bmRcbiIpOwo+ICsKPiArICAgICAgIC8qIDEuMlYgZGlnaXRhbCBjb3Jl
IHBvd2VyIHJlZ3VsYXRvciAgKi8KPiArICAgICAgIGFueDYzNDUtPmR2ZGQxMiA9IGRldm1fcmVn
dWxhdG9yX2dldChkZXYsICJkdmRkMTItc3VwcGx5Iik7Cj4gKyAgICAgICBpZiAoSVNfRVJSKGFu
eDYzNDUtPmR2ZGQxMikpIHsKPiArICAgICAgICAgICAgICAgRFJNX0VSUk9SKCJkdmRkMTItc3Vw
cGx5IG5vdCBmb3VuZFxuIik7Cj4gKyAgICAgICAgICAgICAgIHJldHVybiBQVFJfRVJSKGFueDYz
NDUtPmR2ZGQxMik7Cj4gKyAgICAgICB9Cj4gKwo+ICsgICAgICAgLyogMi41ViBkaWdpdGFsIGNv
cmUgcG93ZXIgcmVndWxhdG9yICAqLwo+ICsgICAgICAgYW54NjM0NS0+ZHZkZDI1ID0gZGV2bV9y
ZWd1bGF0b3JfZ2V0KGRldiwgImR2ZGQyNS1zdXBwbHkiKTsKPiArICAgICAgIGlmIChJU19FUlIo
YW54NjM0NS0+ZHZkZDI1KSkgewo+ICsgICAgICAgICAgICAgICBEUk1fRVJST1IoImR2ZGQyNS1z
dXBwbHkgbm90IGZvdW5kXG4iKTsKPiArICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIoYW54
NjM0NS0+ZHZkZDI1KTsKPiArICAgICAgIH0KPiArCj4gKyAgICAgICAvKiBHUElPIGZvciBjaGlw
IHJlc2V0ICovCj4gKyAgICAgICBhbng2MzQ1LT5ncGlvZF9yZXNldCA9IGRldm1fZ3Bpb2RfZ2V0
KGRldiwgInJlc2V0IiwgR1BJT0RfT1VUX0xPVyk7Cj4gKyAgICAgICBpZiAoSVNfRVJSKGFueDYz
NDUtPmdwaW9kX3Jlc2V0KSkgewo+ICsgICAgICAgICAgICAgICBEUk1fRVJST1IoIlJlc2V0IGdw
aW8gbm90IGZvdW5kXG4iKTsKPiArICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIoYW54NjM0
NS0+Z3Bpb2RfcmVzZXQpOwo+ICsgICAgICAgfQo+ICsKPiArICAgICAgIC8qIE1hcCBzbGF2ZSBh
ZGRyZXNzZXMgb2YgQU5YNjM0NSAqLwo+ICsgICAgICAgZm9yIChpID0gMDsgaSA8IEkyQ19OVU1f
QUREUkVTU0VTOyBpKyspIHsKPiArICAgICAgICAgICAgICAgaWYgKGFueDYzNDVfaTJjX2FkZHJl
c3Nlc1tpXSA+PiAxICE9IGNsaWVudC0+YWRkcikKPiArICAgICAgICAgICAgICAgICAgICAgICBh
bng2MzQ1LT5pMmNfY2xpZW50c1tpXSA9IGkyY19uZXdfZHVtbXkoY2xpZW50LT5hZGFwdGVyLAo+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFueDYzNDVf
aTJjX2FkZHJlc3Nlc1tpXSA+PiAxKTsKPiArICAgICAgICAgICAgICAgZWxzZQo+ICsgICAgICAg
ICAgICAgICAgICAgICAgIGFueDYzNDUtPmkyY19jbGllbnRzW2ldID0gY2xpZW50Owo+ICsKPiAr
ICAgICAgICAgICAgICAgaWYgKCFhbng2MzQ1LT5pMmNfY2xpZW50c1tpXSkgewo+ICsgICAgICAg
ICAgICAgICAgICAgICAgIGVyciA9IC1FTk9NRU07Cj4gKyAgICAgICAgICAgICAgICAgICAgICAg
RFJNX0VSUk9SKCJGYWlsZWQgdG8gcmVzZXJ2ZSBJMkMgYnVzICUwMnhcbiIsCj4gKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGFueDYzNDVfaTJjX2FkZHJlc3Nlc1tpXSk7Cj4gKyAg
ICAgICAgICAgICAgICAgICAgICAgZ290byBlcnJfdW5yZWdpc3Rlcl9pMmM7Cj4gKyAgICAgICAg
ICAgICAgIH0KPiArCj4gKyAgICAgICAgICAgICAgIGFueDYzNDUtPm1hcFtpXSA9IGRldm1fcmVn
bWFwX2luaXRfaTJjKGFueDYzNDUtPmkyY19jbGllbnRzW2ldLAo+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmYW54NjM0NV9yZWdtYXBfY29u
ZmlnKTsKPiArICAgICAgICAgICAgICAgaWYgKElTX0VSUihhbng2MzQ1LT5tYXBbaV0pKSB7Cj4g
KyAgICAgICAgICAgICAgICAgICAgICAgZXJyID0gUFRSX0VSUihhbng2MzQ1LT5tYXBbaV0pOwo+
ICsgICAgICAgICAgICAgICAgICAgICAgIERSTV9FUlJPUigiRmFpbGVkIHJlZ21hcCBpbml0aWFs
aXphdGlvbiAlMDJ4XG4iLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbng2
MzQ1X2kyY19hZGRyZXNzZXNbaV0pOwo+ICsgICAgICAgICAgICAgICAgICAgICAgIGdvdG8gZXJy
X3VucmVnaXN0ZXJfaTJjOwo+ICsgICAgICAgICAgICAgICB9Cj4gKyAgICAgICB9Cj4gKwo+ICsg
ICAgICAgLyogTG9vayBmb3Igc3VwcG9ydGVkIGNoaXAgSUQgKi8KPiArICAgICAgIGFueDYzNDVf
cG93ZXJvbihhbng2MzQ1KTsKPiArICAgICAgIGlmIChhbng2MzQ1X2dldF9jaGlwX2lkKGFueDYz
NDUpKSB7Cj4gKyAgICAgICAgICAgICAgIGFueDYzNDUtPmJyaWRnZS5mdW5jcyA9ICZhbng2MzQ1
X2JyaWRnZV9mdW5jczsKPiArICAgICAgICAgICAgICAgZHJtX2JyaWRnZV9hZGQoJmFueDYzNDUt
PmJyaWRnZSk7Cj4gKwo+ICsgICAgICAgICAgICAgICByZXR1cm4gMDsKPiArICAgICAgIH0gZWxz
ZSB7Cj4gKyAgICAgICAgICAgICAgIGFueDYzNDVfcG93ZXJvZmYoYW54NjM0NSk7Cj4gKyAgICAg
ICAgICAgICAgIGVyciA9IC1FTk9ERVY7Cj4gKyAgICAgICB9Cj4gKwo+ICtlcnJfdW5yZWdpc3Rl
cl9pMmM6Cj4gKyAgICAgICB1bnJlZ2lzdGVyX2kyY19kdW1teV9jbGllbnRzKGFueDYzNDUpOwo+
ICsgICAgICAgcmV0dXJuIGVycjsKPiArfQo+ICsKPiArc3RhdGljIGludCBhbng2MzQ1X2kyY19y
ZW1vdmUoc3RydWN0IGkyY19jbGllbnQgKmNsaWVudCkKPiArewo+ICsgICAgICAgc3RydWN0IGFu
eDYzNDUgKmFueDYzNDUgPSBpMmNfZ2V0X2NsaWVudGRhdGEoY2xpZW50KTsKPiArCj4gKyAgICAg
ICBkcm1fYnJpZGdlX3JlbW92ZSgmYW54NjM0NS0+YnJpZGdlKTsKPiArCj4gKyAgICAgICB1bnJl
Z2lzdGVyX2kyY19kdW1teV9jbGllbnRzKGFueDYzNDUpOwo+ICsKPiArICAgICAgIGtmcmVlKGFu
eDYzNDUtPmVkaWQpOwo+ICsKPiArICAgICAgIG11dGV4X2Rlc3Ryb3koJmFueDYzNDUtPmxvY2sp
Owo+ICsKPiArICAgICAgIHJldHVybiAwOwo+ICt9Cj4gKwo+ICtzdGF0aWMgY29uc3Qgc3RydWN0
IGkyY19kZXZpY2VfaWQgYW54NjM0NV9pZFtdID0gewo+ICsgICAgICAgeyAiYW54NjM0NSIsIDAg
fSwKPiArICAgICAgIHsgLyogc2VudGluZWwgKi8gfQo+ICt9Owo+ICtNT0RVTEVfREVWSUNFX1RB
QkxFKGkyYywgYW54NjM0NV9pZCk7Cj4gKwo+ICtzdGF0aWMgY29uc3Qgc3RydWN0IG9mX2Rldmlj
ZV9pZCBhbng2MzQ1X21hdGNoX3RhYmxlW10gPSB7Cj4gKyAgICAgICB7IC5jb21wYXRpYmxlID0g
ImFuYWxvZ2l4LGFueDYzNDUiLCB9LAo+ICsgICAgICAgeyAvKiBzZW50aW5lbCAqLyB9LAo+ICt9
Owo+ICtNT0RVTEVfREVWSUNFX1RBQkxFKG9mLCBhbng2MzQ1X21hdGNoX3RhYmxlKTsKPiArCj4g
K3N0YXRpYyBzdHJ1Y3QgaTJjX2RyaXZlciBhbng2MzQ1X2RyaXZlciA9IHsKPiArICAgICAgIC5k
cml2ZXIgPSB7Cj4gKyAgICAgICAgICAgICAgICAgIC5uYW1lID0gImFueDYzNDUiLAo+ICsgICAg
ICAgICAgICAgICAgICAub2ZfbWF0Y2hfdGFibGUgPSBvZl9tYXRjaF9wdHIoYW54NjM0NV9tYXRj
aF90YWJsZSksCj4gKyAgICAgICAgICAgICAgICAgfSwKPiArICAgICAgIC5wcm9iZSA9IGFueDYz
NDVfaTJjX3Byb2JlLAo+ICsgICAgICAgLnJlbW92ZSA9IGFueDYzNDVfaTJjX3JlbW92ZSwKPiAr
ICAgICAgIC5pZF90YWJsZSA9IGFueDYzNDVfaWQsCj4gK307Cj4gK21vZHVsZV9pMmNfZHJpdmVy
KGFueDYzNDVfZHJpdmVyKTsKPiArCj4gK01PRFVMRV9ERVNDUklQVElPTigiQU5YNjM0NSBlRFAg
VHJhbnNtaXR0ZXIgZHJpdmVyIik7Cj4gK01PRFVMRV9BVVRIT1IoIkVucmljIEJhbGxldGJvIGkg
U2VycmEgPGVucmljLmJhbGxldGJvQGNvbGxhYm9yYS5jb20+Iik7CgpJIGJlbGlldmUgSWNlbm93
eSBpcyB0aGUgYXV0aG9yIG9mIHRoaXMgZHJpdmVyLiBJZiB5b3UgdGhpbmsgb3RoZXJ3aXNlCnBs
ZWFzZSBhZGQgRW5yaWMgdG8gQ0MgYW5kIGdldCBoaXMgU2lnbmVkLW9mZi1ieS4KCj4gK01PRFVM
RV9MSUNFTlNFKCJHUEwgdjIiKTsKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRl
c2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8v
ZHJpLWRldmVs
