Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 6BC25B8BEB
	for <lists+dri-devel@lfdr.de>; Fri, 20 Sep 2019 09:52:41 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 879D16F587;
	Fri, 20 Sep 2019 07:51:43 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-pl1-x644.google.com (mail-pl1-x644.google.com
 [IPv6:2607:f8b0:4864:20::644])
 by gabe.freedesktop.org (Postfix) with ESMTPS id CCD976F788
 for <dri-devel@lists.freedesktop.org>; Thu, 19 Sep 2019 13:55:33 +0000 (UTC)
Received: by mail-pl1-x644.google.com with SMTP id d3so1684277plr.1
 for <dri-devel@lists.freedesktop.org>; Thu, 19 Sep 2019 06:55:33 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=ZIDYLu7ca97k4A/5V7MzuGF5gFCfwb0cYG7NrgVReLI=;
 b=poerDHlpW3UL5j3YNsVeDY69gAzspWSvKYasR2OENKJWYkbsUoe9Gf1Uvbq28lBtRc
 nFgOyU3Xgula8DDRUWA9aIeQ04ZJuMHQsMuCJilo7bEzuGxzdSccHJafCk1BFlOUk8an
 S4+FnRD1JcBXGZi7qMQapi/4VDM3f05JAq/p8Hy6+myEJxcmwyRDYsluBMV0SpEPIn5f
 ZJ/KI6Yq97PXdVsX18M1SK8B5Oecs+GkfqNmsClX5bm2l68GrGrU68/8h/kd2O0rgE0o
 sHXUn+u+mO0fjgkyJ3mQ58idXBm/eKCWUzRlApMyjVsqBDVfWyk0JjSmFrv+rVeZXpBz
 genA==
X-Gm-Message-State: APjAAAU6uljJCn/6elI+udouGC7rGuY24v9kynifYZmnoeHSBy9vp1kg
 JtqB+ORsjC7SsvU4lGSJHTehaQ==
X-Google-Smtp-Source: APXvYqzKxS83hU+NxkyGPf3KK78zAWXF1bg49KAnScv/gCyw9MSc0ZklNNw3qvhxcocI53QORY7yVg==
X-Received: by 2002:a17:902:7596:: with SMTP id
 j22mr10208368pll.280.1568901333378; 
 Thu, 19 Sep 2019 06:55:33 -0700 (PDT)
Received: from localhost ([2401:fa00:1:10:79b4:bd83:e4a5:a720])
 by smtp.gmail.com with ESMTPSA id h9sm7468913pgh.51.2019.09.19.06.55.29
 (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
 Thu, 19 Sep 2019 06:55:32 -0700 (PDT)
From: Cheng-Yi Chiang <cychiang@chromium.org>
To: linux-kernel@vger.kernel.org
Subject: [PATCH v7 3/4] ASoC: rockchip_max98090: Add dai_link for HDMI
Date: Thu, 19 Sep 2019 21:54:49 +0800
Message-Id: <20190919135450.62309-4-cychiang@chromium.org>
X-Mailer: git-send-email 2.23.0.237.gc6a4ce50a0-goog
In-Reply-To: <20190919135450.62309-1-cychiang@chromium.org>
References: <20190919135450.62309-1-cychiang@chromium.org>
MIME-Version: 1.0
X-Mailman-Approved-At: Fri, 20 Sep 2019 07:51:40 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=chromium.org; s=google;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=ZIDYLu7ca97k4A/5V7MzuGF5gFCfwb0cYG7NrgVReLI=;
 b=BXokyWSEnoB+eLndxVit4ZfhwMTJl878NpORNWM6vv513KsPPeqI8v+oC4Xbg1+/jg
 hv56oRBzAHbTEXNnJ3NNjcS4JzFR9+287D41TcTm/hYSISRRerlS2+Bso5eWW1zT0Efz
 g/8DazqSzzVgfdbnctQLiakvQJCyCK3XIWrhU=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: alsa-devel@alsa-project.org, Neil Armstrong <narmstrong@baylibre.com>,
 David Airlie <airlied@linux.ie>, dri-devel@lists.freedesktop.org,
 Liam Girdwood <lgirdwood@gmail.com>, Hans Verkuil <hverkuil@xs4all.nl>,
 Laurent Pinchart <Laurent.pinchart@ideasonboard.com>,
 Jerome Brunet <jbrunet@baylibre.com>, Takashi Iwai <tiwai@suse.com>,
 linux-rockchip@lists.infradead.org, dgreid@chromium.org,
 Cheng-Yi Chiang <cychiang@chromium.org>, tzungbi@chromium.org,
 Jonas Karlman <jonas@kwiboo.se>, Russell King <rmk+kernel@armlinux.org.uk>,
 Mark Brown <broonie@kernel.org>, Jaroslav Kysela <perex@perex.cz>,
 linux-arm-kernel@lists.infradead.org, Jernej Skrabec <jernej.skrabec@siol.net>,
 dianders@chromium.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VXNlIHR3byBkYWlfbGlua3MuIE9uZSBmb3IgSERNSSBhbmQgb25lIGZvciBtYXg5ODA5MC4KV2l0
aCB0aGlzIHNldHVwLCBhdWRpbyBjYW4gcGxheSB0byBzcGVha2VyIGFuZCBIRE1JIHNlbGVjdGl2
ZWx5LgoKU2lnbmVkLW9mZi1ieTogQ2hlbmctWWkgQ2hpYW5nIDxjeWNoaWFuZ0BjaHJvbWl1bS5v
cmc+Ci0tLQogLi4uL2Jvb3QvZHRzL3JrMzI4OC12ZXlyb24tYW5hbG9nLWF1ZGlvLmR0c2kgIHwg
ICAxICsKIHNvdW5kL3NvYy9yb2NrY2hpcC9yb2NrY2hpcF9tYXg5ODA5MC5jICAgICAgICB8IDEy
OSArKysrKysrKysrKysrKy0tLS0KIDIgZmlsZXMgY2hhbmdlZCwgMTAzIGluc2VydGlvbnMoKyks
IDI3IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2FyY2gvYXJtL2Jvb3QvZHRzL3JrMzI4OC12
ZXlyb24tYW5hbG9nLWF1ZGlvLmR0c2kgYi9hcmNoL2FybS9ib290L2R0cy9yazMyODgtdmV5cm9u
LWFuYWxvZy1hdWRpby5kdHNpCmluZGV4IDQ0NTI3MGFhMTM2ZS4uNTEyMDhkMTYxZDY1IDEwMDY0
NAotLS0gYS9hcmNoL2FybS9ib290L2R0cy9yazMyODgtdmV5cm9uLWFuYWxvZy1hdWRpby5kdHNp
CisrKyBiL2FyY2gvYXJtL2Jvb3QvZHRzL3JrMzI4OC12ZXlyb24tYW5hbG9nLWF1ZGlvLmR0c2kK
QEAgLTE3LDYgKzE3LDcgQEAKIAkJcm9ja2NoaXAsaHAtZGV0LWdwaW9zID0gPCZncGlvNiBSS19Q
QTUgR1BJT19BQ1RJVkVfSElHSD47CiAJCXJvY2tjaGlwLG1pYy1kZXQtZ3Bpb3MgPSA8JmdwaW82
IFJLX1BCMyBHUElPX0FDVElWRV9MT1c+OwogCQlyb2NrY2hpcCxoZWFkc2V0LWNvZGVjID0gPCZo
ZWFkc2V0Y29kZWM+OworCQlyb2NrY2hpcCxoZG1pLWNvZGVjID0gPCZoZG1pPjsKIAl9OwogfTsK
IApkaWZmIC0tZ2l0IGEvc291bmQvc29jL3JvY2tjaGlwL3JvY2tjaGlwX21heDk4MDkwLmMgYi9z
b3VuZC9zb2Mvcm9ja2NoaXAvcm9ja2NoaXBfbWF4OTgwOTAuYwppbmRleCBjNWZjMjQ2NzVhMzMu
LjZjMjE3NDkyYmIzMCAxMDA2NDQKLS0tIGEvc291bmQvc29jL3JvY2tjaGlwL3JvY2tjaGlwX21h
eDk4MDkwLmMKKysrIGIvc291bmQvc29jL3JvY2tjaGlwL3JvY2tjaGlwX21heDk4MDkwLmMKQEAg
LTExLDYgKzExLDcgQEAKICNpbmNsdWRlIDxsaW51eC9ncGlvLmg+CiAjaW5jbHVkZSA8bGludXgv
b2ZfZ3Bpby5oPgogI2luY2x1ZGUgPHNvdW5kL2NvcmUuaD4KKyNpbmNsdWRlIDxzb3VuZC9oZG1p
LWNvZGVjLmg+CiAjaW5jbHVkZSA8c291bmQvamFjay5oPgogI2luY2x1ZGUgPHNvdW5kL3BjbS5o
PgogI2luY2x1ZGUgPHNvdW5kL3BjbV9wYXJhbXMuaD4KQEAgLTQxLDYgKzQyLDcgQEAgc3RhdGlj
IGNvbnN0IHN0cnVjdCBzbmRfc29jX2RhcG1fd2lkZ2V0IHJrX2RhcG1fd2lkZ2V0c1tdID0gewog
CVNORF9TT0NfREFQTV9NSUMoIkhlYWRzZXQgTWljIiwgTlVMTCksCiAJU05EX1NPQ19EQVBNX01J
QygiSW50IE1pYyIsIE5VTEwpLAogCVNORF9TT0NfREFQTV9TUEsoIlNwZWFrZXIiLCBOVUxMKSwK
KwlTTkRfU09DX0RBUE1fTElORSgiSERNSSIsIE5VTEwpLAogfTsKIAogc3RhdGljIGNvbnN0IHN0
cnVjdCBzbmRfc29jX2RhcG1fcm91dGUgcmtfYXVkaW9fbWFwW10gPSB7CkBAIC01Miw2ICs1NCw3
IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3Qgc25kX3NvY19kYXBtX3JvdXRlIHJrX2F1ZGlvX21hcFtd
ID0gewogCXsiSGVhZHBob25lIiwgTlVMTCwgIkhQUiJ9LAogCXsiU3BlYWtlciIsIE5VTEwsICJT
UEtMIn0sCiAJeyJTcGVha2VyIiwgTlVMTCwgIlNQS1IifSwKKwl7IkhETUkiLCBOVUxMLCAiVFgi
fSwKIH07CiAKIHN0YXRpYyBjb25zdCBzdHJ1Y3Qgc25kX2tjb250cm9sX25ldyBya19tY19jb250
cm9sc1tdID0gewpAQCAtNTksNiArNjIsNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IHNuZF9rY29u
dHJvbF9uZXcgcmtfbWNfY29udHJvbHNbXSA9IHsKIAlTT0NfREFQTV9QSU5fU1dJVENIKCJIZWFk
c2V0IE1pYyIpLAogCVNPQ19EQVBNX1BJTl9TV0lUQ0goIkludCBNaWMiKSwKIAlTT0NfREFQTV9Q
SU5fU1dJVENIKCJTcGVha2VyIiksCisJU09DX0RBUE1fUElOX1NXSVRDSCgiSERNSSIpLAogfTsK
IAogc3RhdGljIGludCBya19haWYxX2h3X3BhcmFtcyhzdHJ1Y3Qgc25kX3BjbV9zdWJzdHJlYW0g
KnN1YnN0cmVhbSwKQEAgLTkyLDM4ICs5Niw2MyBAQCBzdGF0aWMgaW50IHJrX2FpZjFfaHdfcGFy
YW1zKHN0cnVjdCBzbmRfcGNtX3N1YnN0cmVhbSAqc3Vic3RyZWFtLAogCiAJcmV0ID0gc25kX3Nv
Y19kYWlfc2V0X3N5c2NsayhjcHVfZGFpLCAwLCBtY2xrLAogCQkJCSAgICAgU05EX1NPQ19DTE9D
S19PVVQpOwotCWlmIChyZXQgPCAwKSB7Ci0JCWRldl9lcnIoY29kZWNfZGFpLT5kZXYsICJDYW4n
dCBzZXQgY29kZWMgY2xvY2sgJWRcbiIsIHJldCk7CisJaWYgKHJldCkgeworCQlkZXZfZXJyKGNw
dV9kYWktPmRldiwgIkNhbid0IHNldCBjcHUgZGFpIGNsb2NrICVkXG4iLCByZXQpOwogCQlyZXR1
cm4gcmV0OwogCX0KIAorCS8qIEhETUkgY29kZWMgZGFpIGRvZXMgbm90IG5lZWQgdG8gc2V0IHN5
c2Nsay4gKi8KKwlpZiAoIXN0cmNtcChydGQtPmRhaV9saW5rLT5uYW1lLCAiSERNSSIpKQorCQly
ZXR1cm4gMDsKKwogCXJldCA9IHNuZF9zb2NfZGFpX3NldF9zeXNjbGsoY29kZWNfZGFpLCAwLCBt
Y2xrLAogCQkJCSAgICAgU05EX1NPQ19DTE9DS19JTik7Ci0JaWYgKHJldCA8IDApIHsKLQkJZGV2
X2Vycihjb2RlY19kYWktPmRldiwgIkNhbid0IHNldCBjb2RlYyBjbG9jayAlZFxuIiwgcmV0KTsK
KwlpZiAocmV0KSB7CisJCWRldl9lcnIoY29kZWNfZGFpLT5kZXYsICJDYW4ndCBzZXQgY29kZWMg
ZGFpIGNsb2NrICVkXG4iLCByZXQpOwogCQlyZXR1cm4gcmV0OwogCX0KIAotCXJldHVybiByZXQ7
CisJcmV0dXJuIDA7CiB9CiAKIHN0YXRpYyBjb25zdCBzdHJ1Y3Qgc25kX3NvY19vcHMgcmtfYWlm
MV9vcHMgPSB7CiAJLmh3X3BhcmFtcyA9IHJrX2FpZjFfaHdfcGFyYW1zLAogfTsKIAotU05EX1NP
Q19EQUlMSU5LX0RFRlMoaGlmaSwKLQlEQUlMSU5LX0NPTVBfQVJSQVkoQ09NUF9FTVBUWSgpKSwK
LQlEQUlMSU5LX0NPTVBfQVJSQVkoQ09NUF9DT0RFQyhOVUxMLCAiSGlGaSIpKSwKLQlEQUlMSU5L
X0NPTVBfQVJSQVkoQ09NUF9FTVBUWSgpKSk7Ci0KLXN0YXRpYyBzdHJ1Y3Qgc25kX3NvY19kYWlf
bGluayBya19kYWlsaW5rID0gewotCS5uYW1lID0gIm1heDk4MDkwIiwKLQkuc3RyZWFtX25hbWUg
PSAiQXVkaW8iLAotCS5vcHMgPSAmcmtfYWlmMV9vcHMsCi0JLyogc2V0IG1heDk4MDkwIGFzIHNs
YXZlICovCi0JLmRhaV9mbXQgPSBTTkRfU09DX0RBSUZNVF9JMlMgfCBTTkRfU09DX0RBSUZNVF9O
Ql9ORiB8Ci0JCVNORF9TT0NfREFJRk1UX0NCU19DRlMsCi0JU05EX1NPQ19EQUlMSU5LX1JFRyho
aWZpKSwKK1NORF9TT0NfREFJTElOS19ERUZTKGFuYWxvZywKKwkJICAgICBEQUlMSU5LX0NPTVBf
QVJSQVkoQ09NUF9FTVBUWSgpKSwKKwkJICAgICBEQUlMSU5LX0NPTVBfQVJSQVkoQ09NUF9DT0RF
QyhOVUxMLCAiSGlGaSIpKSwKKwkJICAgICBEQUlMSU5LX0NPTVBfQVJSQVkoQ09NUF9FTVBUWSgp
KSk7CisKK1NORF9TT0NfREFJTElOS19ERUZTKGhkbWksCisJCSAgICAgREFJTElOS19DT01QX0FS
UkFZKENPTVBfRU1QVFkoKSksCisJCSAgICAgREFJTElOS19DT01QX0FSUkFZKENPTVBfQ09ERUMo
TlVMTCwgImkycy1oaWZpIikpLAorCQkgICAgIERBSUxJTktfQ09NUF9BUlJBWShDT01QX0VNUFRZ
KCkpKTsKKworZW51bSB7CisJREFJTElOS19NQVg5ODA5MCwKKwlEQUlMSU5LX0hETUksCit9Owor
CisvKiBtYXg5ODA5MCBhbmQgSERNSSBjb2RlYyBkYWlfbGluayAqLworc3RhdGljIHN0cnVjdCBz
bmRfc29jX2RhaV9saW5rIHJrX2RhaWxpbmtzW10gPSB7CisJW0RBSUxJTktfTUFYOTgwOTBdID0g
eworCQkubmFtZSA9ICJtYXg5ODA5MCIsCisJCS5zdHJlYW1fbmFtZSA9ICJBbmFsb2ciLAorCQku
b3BzID0gJnJrX2FpZjFfb3BzLAorCQkvKiBzZXQgbWF4OTgwOTAgYXMgc2xhdmUgKi8KKwkJLmRh
aV9mbXQgPSBTTkRfU09DX0RBSUZNVF9JMlMgfCBTTkRfU09DX0RBSUZNVF9OQl9ORiB8CisJCQlT
TkRfU09DX0RBSUZNVF9DQlNfQ0ZTLAorCQlTTkRfU09DX0RBSUxJTktfUkVHKGFuYWxvZyksCisJ
fSwKKwlbREFJTElOS19IRE1JXSA9IHsKKwkJLm5hbWUgPSAiSERNSSIsCisJCS5zdHJlYW1fbmFt
ZSA9ICJIRE1JIiwKKwkJLm9wcyA9ICZya19haWYxX29wcywKKwkJLmRhaV9mbXQgPSBTTkRfU09D
X0RBSUZNVF9JMlMgfCBTTkRfU09DX0RBSUZNVF9OQl9ORiB8CisJCQlTTkRfU09DX0RBSUZNVF9D
QlNfQ0ZTLAorCQlTTkRfU09DX0RBSUxJTktfUkVHKGhkbWkpLAorCX0KIH07CiAKIHN0YXRpYyBp
bnQgcmtfOTgwOTBfaGVhZHNldF9pbml0KHN0cnVjdCBzbmRfc29jX2NvbXBvbmVudCAqY29tcG9u
ZW50KTsKQEAgLTEzNiw4ICsxNjUsOCBAQCBzdGF0aWMgc3RydWN0IHNuZF9zb2NfYXV4X2RldiBy
a185ODA5MF9oZWFkc2V0X2RldiA9IHsKIHN0YXRpYyBzdHJ1Y3Qgc25kX3NvY19jYXJkIHNuZF9z
b2NfY2FyZF9yayA9IHsKIAkubmFtZSA9ICJST0NLQ0hJUC1JMlMiLAogCS5vd25lciA9IFRISVNf
TU9EVUxFLAotCS5kYWlfbGluayA9ICZya19kYWlsaW5rLAotCS5udW1fbGlua3MgPSAxLAorCS5k
YWlfbGluayA9IHJrX2RhaWxpbmtzLAorCS5udW1fbGlua3MgPSBBUlJBWV9TSVpFKHJrX2RhaWxp
bmtzKSwKIAkuYXV4X2RldiA9ICZya185ODA5MF9oZWFkc2V0X2RldiwKIAkubnVtX2F1eF9kZXZz
ID0gMSwKIAkuZGFwbV93aWRnZXRzID0gcmtfZGFwbV93aWRnZXRzLApAQCAtMTczLDI3ICsyMDIs
NzMgQEAgc3RhdGljIGludCBzbmRfcmtfbWNfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAq
cGRldikKIAlpbnQgcmV0ID0gMDsKIAlzdHJ1Y3Qgc25kX3NvY19jYXJkICpjYXJkID0gJnNuZF9z
b2NfY2FyZF9yazsKIAlzdHJ1Y3QgZGV2aWNlX25vZGUgKm5wID0gcGRldi0+ZGV2Lm9mX25vZGU7
CisJc3RydWN0IGRldmljZV9ub2RlICpucF9hbmFsb2c7CisJc3RydWN0IGRldmljZV9ub2RlICpu
cF9jcHU7CisJc3RydWN0IGRldmljZV9ub2RlICpucF9oZG1pX2NvZGVjOworCXN0cnVjdCBvZl9w
aGFuZGxlX2FyZ3MgYXJnczsKIAogCS8qIHJlZ2lzdGVyIHRoZSBzb2MgY2FyZCAqLwogCWNhcmQt
PmRldiA9ICZwZGV2LT5kZXY7CiAKLQlya19kYWlsaW5rLmNvZGVjcy0+b2Zfbm9kZSA9IG9mX3Bh
cnNlX3BoYW5kbGUobnAsCi0JCQkicm9ja2NoaXAsYXVkaW8tY29kZWMiLCAwKTsKLQlpZiAoIXJr
X2RhaWxpbmsuY29kZWNzLT5vZl9ub2RlKSB7CisJbnBfYW5hbG9nID0gb2ZfcGFyc2VfcGhhbmRs
ZShucCwgInJvY2tjaGlwLGF1ZGlvLWNvZGVjIiwgMCk7CisJaWYgKCFucF9hbmFsb2cpIHsKIAkJ
ZGV2X2VycigmcGRldi0+ZGV2LAogCQkJIlByb3BlcnR5ICdyb2NrY2hpcCxhdWRpby1jb2RlYycg
bWlzc2luZyBvciBpbnZhbGlkXG4iKTsKIAkJcmV0dXJuIC1FSU5WQUw7CiAJfQorCXJrX2RhaWxp
bmtzW0RBSUxJTktfTUFYOTgwOTBdLmNvZGVjcy0+b2Zfbm9kZSA9IG5wX2FuYWxvZzsKKworCXJl
dCA9IG9mX3BhcnNlX3BoYW5kbGVfd2l0aF9maXhlZF9hcmdzKG5wLCAicm9ja2NoaXAsYXVkaW8t
Y29kZWMiLAorCQkJCQkgICAgICAgMCwgMCwgJmFyZ3MpOworCWlmIChyZXQpIHsKKwkJZGV2X2Vy
cigmcGRldi0+ZGV2LAorCQkJIlVuYWJsZSB0byBwYXJzZSBwcm9wZXJ0eSAncm9ja2NoaXAsYXVk
aW8tY29kZWMnXG4iKTsKKwkJcmV0dXJuIHJldDsKKwl9CisKKwlyZXQgPSBzbmRfc29jX2dldF9k
YWlfbmFtZSgKKwkJCSZhcmdzLCAmcmtfZGFpbGlua3NbREFJTElOS19NQVg5ODA5MF0uY29kZWNz
LT5kYWlfbmFtZSk7CisJaWYgKHJldCkgeworCQlkZXZfZXJyKCZwZGV2LT5kZXYsICJVbmFibGUg
dG8gZ2V0IGNvZGVjIGRhaV9uYW1lXG4iKTsKKwkJcmV0dXJuIHJldDsKKwl9CisKKwlucF9jcHUg
PSBvZl9wYXJzZV9waGFuZGxlKG5wLCAicm9ja2NoaXAsaTJzLWNvbnRyb2xsZXIiLCAwKTsKIAot
CXJrX2RhaWxpbmsuY3B1cy0+b2Zfbm9kZSA9IG9mX3BhcnNlX3BoYW5kbGUobnAsCi0JCQkicm9j
a2NoaXAsaTJzLWNvbnRyb2xsZXIiLCAwKTsKLQlpZiAoIXJrX2RhaWxpbmsuY3B1cy0+b2Zfbm9k
ZSkgeworCWlmICghbnBfY3B1KSB7CiAJCWRldl9lcnIoJnBkZXYtPmRldiwKIAkJCSJQcm9wZXJ0
eSAncm9ja2NoaXAsaTJzLWNvbnRyb2xsZXInIG1pc3Npbmcgb3IgaW52YWxpZFxuIik7CiAJCXJl
dHVybiAtRUlOVkFMOwogCX0KIAotCXJrX2RhaWxpbmsucGxhdGZvcm1zLT5vZl9ub2RlID0gcmtf
ZGFpbGluay5jcHVzLT5vZl9ub2RlOworCW5wX2hkbWlfY29kZWMgPSBvZl9wYXJzZV9waGFuZGxl
KG5wLCAicm9ja2NoaXAsaGRtaS1jb2RlYyIsIDApOworCWlmICghbnBfaGRtaV9jb2RlYykgewor
CQlkZXZfZXJyKCZwZGV2LT5kZXYsCisJCQkiUHJvcGVydHkgJ3JvY2tjaGlwLGhkbWktY29kZWMn
IG1pc3Npbmcgb3IgaW52YWxpZFxuIik7CisJCXJldHVybiAtRUlOVkFMOworCX0KKworCXJrX2Rh
aWxpbmtzW0RBSUxJTktfSERNSV0uY29kZWNzLT5vZl9ub2RlID0gbnBfaGRtaV9jb2RlYzsKKwor
CXJldCA9IG9mX3BhcnNlX3BoYW5kbGVfd2l0aF9maXhlZF9hcmdzKG5wLCAicm9ja2NoaXAsaGRt
aS1jb2RlYyIsCisJCQkJCSAgICAgICAwLCAwLCAmYXJncyk7CisJaWYgKHJldCkgeworCQlkZXZf
ZXJyKCZwZGV2LT5kZXYsCisJCQkiVW5hYmxlIHRvIHBhcnNlIHByb3BlcnR5ICdyb2NrY2hpcCxo
ZG1pLWNvZGVjJ1xuIik7CisJCXJldHVybiByZXQ7CisJfQorCisJcmV0ID0gc25kX3NvY19nZXRf
ZGFpX25hbWUoCisJCQkmYXJncywgJnJrX2RhaWxpbmtzW0RBSUxJTktfSERNSV0uY29kZWNzLT5k
YWlfbmFtZSk7CisJaWYgKHJldCkgeworCQlkZXZfZXJyKCZwZGV2LT5kZXYsICJVbmFibGUgdG8g
Z2V0IGhkbWkgY29kZWMgZGFpX25hbWVcbiIpOworCQlyZXR1cm4gcmV0OworCX0KKworCXJrX2Rh
aWxpbmtzW0RBSUxJTktfTUFYOTgwOTBdLmNwdXMtPm9mX25vZGUgPSBucF9jcHU7CisJcmtfZGFp
bGlua3NbREFJTElOS19NQVg5ODA5MF0ucGxhdGZvcm1zLT5vZl9ub2RlID0gbnBfY3B1OworCXJr
X2RhaWxpbmtzW0RBSUxJTktfSERNSV0uY3B1cy0+b2Zfbm9kZSA9IG5wX2NwdTsKKwlya19kYWls
aW5rc1tEQUlMSU5LX0hETUldLnBsYXRmb3Jtcy0+b2Zfbm9kZSA9IG5wX2NwdTsKIAogCXJrXzk4
MDkwX2hlYWRzZXRfZGV2LmNvZGVjX29mX25vZGUgPSBvZl9wYXJzZV9waGFuZGxlKG5wLAogCQkJ
InJvY2tjaGlwLGhlYWRzZXQtY29kZWMiLCAwKTsKLS0gCjIuMjMuMC4yMzcuZ2M2YTRjZTUwYTAt
Z29vZwoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJp
LWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBz
Oi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
