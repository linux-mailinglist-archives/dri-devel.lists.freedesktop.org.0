Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 4326E1145DA
	for <lists+dri-devel@lfdr.de>; Thu,  5 Dec 2019 18:25:26 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1803C6F8C6;
	Thu,  5 Dec 2019 17:25:24 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from asavdk3.altibox.net (asavdk3.altibox.net [109.247.116.14])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 6187C6F8C6
 for <dri-devel@lists.freedesktop.org>; Thu,  5 Dec 2019 17:25:22 +0000 (UTC)
Received: from ravnborg.org (unknown [158.248.194.18])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
 (No client certificate requested)
 by asavdk3.altibox.net (Postfix) with ESMTPS id 9F5E62001E;
 Thu,  5 Dec 2019 18:25:17 +0100 (CET)
Date: Thu, 5 Dec 2019 18:25:15 +0100
From: Sam Ravnborg <sam@ravnborg.org>
To: Thomas Zimmermann <tzimmermann@suse.de>
Subject: Re: [PATCH v3 3/4] drm/mgag200: Add vblank support
Message-ID: <20191205172515.GA24782@ravnborg.org>
References: <20191205160142.3588-1-tzimmermann@suse.de>
 <20191205160142.3588-4-tzimmermann@suse.de>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20191205160142.3588-4-tzimmermann@suse.de>
User-Agent: Mutt/1.10.1 (2018-07-13)
X-CMAE-Score: 0
X-CMAE-Analysis: v=2.3 cv=eMA9ckh1 c=1 sm=1 tr=0
 a=UWs3HLbX/2nnQ3s7vZ42gw==:117 a=UWs3HLbX/2nnQ3s7vZ42gw==:17
 a=jpOVt7BSZ2e4Z31A5e1TngXxSK0=:19 a=kj9zAlcOel0A:10
 a=bWGRNsPRlW4pESUtgnYA:9 a=CjuIK1q_8ugA:10
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Gerd Hoffmann <kraxel@redhat.com>, rong.a.chen@intel.com,
 dri-devel@lists.freedesktop.org, ying.huang@intel.com, airlied@redhat.com,
 emil.velikov@collabora.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgVGhvbWFzLgoKU29tZSBuaXRzIHlvdSBjYW4gYWRkcmVzcyB3aGVuIGFwcGx5aW5nLCBpZiB5
b3UgdGhpbmsgdGhleSBzaGFsbCBiZQphZGRyZXNzZWQuCgoJU2FtCgpPbiBUaHUsIERlYyAwNSwg
MjAxOSBhdCAwNTowMTo0MVBNICswMTAwLCBUaG9tYXMgWmltbWVybWFubiB3cm90ZToKPiBUaGVy
ZSdzIG5vIFZCTEFOSyBpbnRlcnJ1cHQgb24gTWF0cm94IGNoaXBzZXRzLiBUaGUgd29ya2Fyb3Vu
ZCB0aGF0IGlzCj4gYmVpbmcgdXNlZCBoZXJlIGFuZCBpbiBvdGhlciBmcmVlIE1hdHJveCBkcml2
ZXJzIGlzIHRvIHByb2dyYW0gPGxpbmVjb21wPgo+IHRvIHRoZSB2YWx1ZSBvZiA8dmRpc3BsYXk+
ICsgMSBhbmQgZW5hYmxlIHRoZSBWTElORSBpbnRlcnJ1cHQuIFRoaXMKPiB0cmlnZ2VycyBhbiBp
bnRlcnJ1cHQgYXQgdGhlIHRpbWUgd2hlbiBWQkxBTksgYmVnaW5zLgo+IAo+IFZMSU5FIHVzZXMg
c2VwYXJhdGUgcmVnaXN0ZXJzIGZvciBlbmFibGluZyBhbmQgY2xlYXJpbmcgcGVuZGluZyBpbnRl
cnJ1cHRzLgo+IE5vIGV4dHJhIHN5bmNpaHJvbml6YXRpb24gYmV0d2VlbiBpcnEgaGFuZGxlciBh
bmQgdGhlIHJlc3Qgb2YgdGhlIGRyaXZlciBpcwpzL3N5bmNpaHJvbml6YXRpb24vc3luY2hyb25p
emF0aW9uLwoKPiByZXF1aXJlZC4KPiAKPiAgCQkgKCh2c3luY3N0YXJ0ICYgMHgxMDApID4+IDYp
IHwKPiAgCQkgKCh2ZGlzcGxheSAmIDB4MTAwKSA+PiA1KSB8Cj4gLQkJICgodmRpc3BsYXkgJiAw
eDEwMCkgPj4gNCkgfCAvKiBsaW5lY29tcCAqLwo+ICsJCSAoKGxpbmVjb21wICYgMHgxMDApID4+
IDQpIHwKPiAgCQkgKCh2dG90YWwgJiAweDIwMCkgPj4gNCl8Cj4gIAkJICgodmRpc3BsYXkgJiAw
eDIwMCkgPj4gMykgfAo+ICAJCSAoKHZzeW5jc3RhcnQgJiAweDIwMCkgPj4gMikpOwo+ICAJV1JF
R19DUlQoOSwgKCh2ZGlzcGxheSAmIDB4MjAwKSA+PiA0KSB8Cj4gLQkJICgodmRpc3BsYXkgJiAw
eDIwMCkgPj4gMykpOwo+ICsJCSAoKGxpbmVjb21wICYgMHgyMDApID4+IDMpKTsKPiAgCVdSRUdf
Q1JUKDEwLCAwKTsKPiAgCVdSRUdfQ1JUKDExLCAwKTsKPiAgCVdSRUdfQ1JUKDEyLCAwKTsKPiBA
QCAtMTA4Myw3ICsxMDkzLDcgQEAgc3RhdGljIGludCBtZ2FfY3J0Y19tb2RlX3NldChzdHJ1Y3Qg
ZHJtX2NydGMgKmNydGMsCj4gIAlXUkVHX0NSVCgyMSwgdmRpc3BsYXkgJiAweEZGKTsKPiAgCVdS
RUdfQ1JUKDIyLCAodnRvdGFsICsgMSkgJiAweEZGKTsKPiAgCVdSRUdfQ1JUKDIzLCAweGMzKTsK
PiAtCVdSRUdfQ1JUKDI0LCB2ZGlzcGxheSAmIDB4RkYpOwo+ICsJV1JFR19DUlQoMjQsIGxpbmVj
b21wICYgMHhmZik7ClVzZSAweEZGIGxpa2Ugb3RoZXIgY29kZSBuZWFyYnk/Cgo+ICAKPiAgCWV4
dF92Z2FbMF0gPSAwOwo+ICAJZXh0X3ZnYVs1XSA9IDA7Cj4gQEAgLTEwOTksNyArMTEwOSw3IEBA
IHN0YXRpYyBpbnQgbWdhX2NydGNfbW9kZV9zZXQoc3RydWN0IGRybV9jcnRjICpjcnRjLAo+ICAJ
CSgodmRpc3BsYXkgJiAweDQwMCkgPj4gOCkgfAo+ICAJCSgodmRpc3BsYXkgJiAweGMwMCkgPj4g
NykgfAo+ICAJCSgodnN5bmNzdGFydCAmIDB4YzAwKSA+PiA1KSB8Cj4gLQkJKCh2ZGlzcGxheSAm
IDB4NDAwKSA+PiAzKTsKPiArCQkoKGxpbmVjb21wICYgMHg0MDApID4+IDMpOwo+ICAJaWYgKGZi
LT5mb3JtYXQtPmNwcFswXSAqIDggPT0gMjQpCj4gIAkJZXh0X3ZnYVszXSA9ICgoKDEgPDwgYnBw
c2hpZnQpICogMykgLSAxKSB8IDB4ODA7Cj4gIAllbHNlCj4gQEAgLTE0MTEsNiArMTQyMSwzNCBA
QCBzdGF0aWMgdm9pZCBtZ2FfY3J0Y19kaXNhYmxlKHN0cnVjdCBkcm1fY3J0YyAqY3J0YykKPiAg
CWNydGMtPnByaW1hcnktPmZiID0gTlVMTDsKPiAgfQo+ICAKPiArc3RhdGljIGludCBtZ2FfY3J0
Y19lbmFibGVfdmJsYW5rKHN0cnVjdCBkcm1fY3J0YyAqY3J0YykKPiArewo+ICsJc3RydWN0IGRy
bV9kZXZpY2UgKmRldiA9IGNydGMtPmRldjsKPiArCXN0cnVjdCBtZ2FfZGV2aWNlICptZGV2ID0g
ZGV2LT5kZXZfcHJpdmF0ZTsKPiArCXUzMiBpY2xlYXIsIGllbjsKPiArCj4gKwlpY2xlYXIgPSBS
UkVHMzIoTUdBUkVHX0lDTEVBUik7Cj4gKwlpY2xlYXIgfD0gTUdBX1ZMSU5FQ0xSOwo+ICsJV1JF
RzMyKE1HQVJFR19JQ0xFQVIsIGljbGVhcik7Cj4gKwo+ICsJaWVuID0gUlJFRzMyKE1HQVJFR19J
RU4pOwo+ICsJaWVuIHw9IE1HQV9WTElORUlFTjsKPiArCVdSRUczMihNR0FSRUdfSUVOLCBpZW4p
Owo+ICsKPiArCXJldHVybiAwOwo+ICt9Cj4gKwo+ICtzdGF0aWMgdm9pZCBtZ2FfY3J0Y19kaXNh
YmxlX3ZibGFuayhzdHJ1Y3QgZHJtX2NydGMgKmNydGMpCj4gK3sKPiArCXN0cnVjdCBkcm1fZGV2
aWNlICpkZXYgPSBjcnRjLT5kZXY7Cj4gKwlzdHJ1Y3QgbWdhX2RldmljZSAqbWRldiA9IGRldi0+
ZGV2X3ByaXZhdGU7Cj4gKwl1MzIgaWVuOwo+ICsKPiArCWllbiA9IFJSRUczMihNR0FSRUdfSUVO
KTsKPiArCWllbiAmPSB+KE1HQV9WTElORUlFTik7Cj4gKwlXUkVHMzIoTUdBUkVHX0lFTiwgaWVu
KTsKPiArfQo+ICsKPiAgLyogVGhlc2UgcHJvdmlkZSB0aGUgbWluaW11bSBzZXQgb2YgZnVuY3Rp
b25zIHJlcXVpcmVkIHRvIGhhbmRsZSBhIENSVEMgKi8KPiAgc3RhdGljIGNvbnN0IHN0cnVjdCBk
cm1fY3J0Y19mdW5jcyBtZ2FfY3J0Y19mdW5jcyA9IHsKPiAgCS5jdXJzb3Jfc2V0ID0gbWdhZzIw
MF9jcnRjX2N1cnNvcl9zZXQsCj4gQEAgLTE0MTgsNiArMTQ1Niw4IEBAIHN0YXRpYyBjb25zdCBz
dHJ1Y3QgZHJtX2NydGNfZnVuY3MgbWdhX2NydGNfZnVuY3MgPSB7Cj4gIAkuZ2FtbWFfc2V0ID0g
bWdhX2NydGNfZ2FtbWFfc2V0LAo+ICAJLnNldF9jb25maWcgPSBkcm1fY3J0Y19oZWxwZXJfc2V0
X2NvbmZpZywKPiAgCS5kZXN0cm95ID0gbWdhX2NydGNfZGVzdHJveSwKPiArCS5lbmFibGVfdmJs
YW5rID0gbWdhX2NydGNfZW5hYmxlX3ZibGFuaywKPiArCS5kaXNhYmxlX3ZibGFuayA9IG1nYV9j
cnRjX2Rpc2FibGVfdmJsYW5rLAo+ICB9Owo+ICAKPiAgc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1f
Y3J0Y19oZWxwZXJfZnVuY3MgbWdhX2hlbHBlcl9mdW5jcyA9IHsKPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL21nYWcyMDAvbWdhZzIwMF9yZWcuaCBiL2RyaXZlcnMvZ3B1L2RybS9tZ2Fn
MjAwL21nYWcyMDBfcmVnLmgKPiBpbmRleCA2YzQ2MGQ5YTIxNDMuLjQ0ZGIxZDgyNzlmYSAxMDA2
NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vbWdhZzIwMC9tZ2FnMjAwX3JlZy5oCj4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL21nYWcyMDAvbWdhZzIwMF9yZWcuaAo+IEBAIC0xMjIsNiArMTIyLDEx
IEBACj4gIAo+ICAjZGVmaW5lIE1HQVJFR19NRU1DVEwgICAgICAgICAgIDB4MmUwOAo+ICAKPiAr
LyogSW50ZXJydXB0IGZpZWxkcyAqLwo+ICsjZGVmaW5lIE1HQV9WTElORVBFTgkJKDB4MDEgPDwg
NSkKPiArI2RlZmluZSBNR0FfVkxJTkVDTFIJCSgweDAxIDw8IDUpCj4gKyNkZWZpbmUgTUdBX1ZM
SU5FSUVOCQkoMHgwMSA8PCA1KQpVc2UgQklUKDUpPwpUaGUgYml0ZmllbGQgbmFtZSBjb3VsZCBi
ZSBtb3JlIHJlYWRhYmxlIGlmIHRoZXkgaW5jbHVkZWQgdGhlIHJlZ2lzdGVyCm5hbWUuCkV4YW1w
bGU6CiNkZWZpbmUgTUdBX1NUQVRVU19WTElORVBFTglCSVQoNSkKI2RlZmluZSBNR0FfSUNMRUFS
X1ZMSU5FQ0xSCUJJVCg1KQojZGVmaW5lIE1HQV9JRU5fVkxJTkVJRU4JQklUKDUpCgoJU2FtCl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBt
YWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3Rz
LmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
