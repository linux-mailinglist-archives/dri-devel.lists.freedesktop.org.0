Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 0841A2FE7DD
	for <lists+dri-devel@lfdr.de>; Thu, 21 Jan 2021 11:43:47 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 178586E526;
	Thu, 21 Jan 2021 10:43:45 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ej1-x62a.google.com (mail-ej1-x62a.google.com
 [IPv6:2a00:1450:4864:20::62a])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 4650A6E509;
 Thu, 21 Jan 2021 10:43:44 +0000 (UTC)
Received: by mail-ej1-x62a.google.com with SMTP id l9so1940556ejx.3;
 Thu, 21 Jan 2021 02:43:44 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=reply-to:subject:to:cc:references:from:message-id:date:user-agent
 :mime-version:in-reply-to:content-transfer-encoding:content-language;
 bh=YCc6FcedHLJ6Uq5BZmWtk5HMsC0Adp60x9vWWiu3g+k=;
 b=ZKMNKAimRWgj+A8oVgf3yLs7IZiC8SnCpgqBBu24X8DKuC3zh3lO5CuOmlfUnaAvmG
 T566InXzSyHvsh4ln6w1cmC6lGwUjp3FIBkyaYkIR4ihcqdyT9mCQHQKVY4TEuWbuDqu
 snREBLIoZnGczMF5xo8IW7k407tgR3+w0RMM9hQX8Xhn+0lO2kJNOaE3q9vhuqO+dS2l
 sh5e77PejhSJiHnPFcfGnYTu0L+2awnVDSYgKeQ6dC9Z2ayD8Lkn9FbRUNJQslkN0MZE
 ZfyW8ehNqxT/IrDyBiZeIypIL/Tl+s4I6mB/4owXPN8VDf3Sm4CXwjrvRfOuJILujl10
 yZ7Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:reply-to:subject:to:cc:references:from
 :message-id:date:user-agent:mime-version:in-reply-to
 :content-transfer-encoding:content-language;
 bh=YCc6FcedHLJ6Uq5BZmWtk5HMsC0Adp60x9vWWiu3g+k=;
 b=OmoBXQbA3e9d3Mg/juyuBaVpfgGhkzg0ulXHtnCqull5w09mcqusN0f5pMnAGpIt1S
 s6OXovi8m9ukpT05Tf/K0zS9rtKYBPdEbmwEAXD+cUbAag/ZQ8U7cT2cVv0SHPXqLZCU
 tCRAGx06094XJVhQxrp+zfcQB42qLLhmGTwSim1Y26w62EOcs3ceAW1t/ONLGWdaohP1
 V/jx/mhARsWoTCwkfe0qk0eRglkI9PSmYV2JdgI0hQQ3/uxRMR9nm+5k0PoD808xM0rB
 Us+MYKcvHPDO9u0HW1Q98giS60MNp/wBtAjmrOg8+c9xR3+DvcM3V0xTxtPURXCb+L0Q
 NbUw==
X-Gm-Message-State: AOAM5325097jXS03py2AuiPVuaZuiGOzHYlL1fY7+FC5HrurXSjbwmu5
 wRylyoeJ+Z45mPhBTUIj3DI=
X-Google-Smtp-Source: ABdhPJxZIYrz/3LRk6+7QsQJ76oppDU18YFwtv7g9OdaGNsQE9yOh2Vw/ph+6tmAPGI6C8EuAYzPYA==
X-Received: by 2002:a17:906:a2da:: with SMTP id
 by26mr9024952ejb.531.1611225822935; 
 Thu, 21 Jan 2021 02:43:42 -0800 (PST)
Received: from ?IPv6:2a02:908:1252:fb60:be8a:bd56:1f94:86e7?
 ([2a02:908:1252:fb60:be8a:bd56:1f94:86e7])
 by smtp.gmail.com with ESMTPSA id bm12sm2059617ejb.117.2021.01.21.02.43.41
 (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
 Thu, 21 Jan 2021 02:43:42 -0800 (PST)
Subject: Re: [PATCH 1/1] drm/scheduler: Job timeout handler returns status (v3)
To: Luben Tuikov <luben.tuikov@amd.com>, dri-devel@lists.freedesktop.org,
 amd-gfx@lists.freedesktop.org
References: <20210120200959.163533-1-luben.tuikov@amd.com>
 <20210120200959.163533-2-luben.tuikov@amd.com>
From: =?UTF-8?Q?Christian_K=c3=b6nig?= <ckoenig.leichtzumerken@gmail.com>
Message-ID: <95abb95b-7bb4-5936-2d86-312903b7aaa6@gmail.com>
Date: Thu, 21 Jan 2021 11:43:41 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101
 Thunderbird/68.10.0
MIME-Version: 1.0
In-Reply-To: <20210120200959.163533-2-luben.tuikov@amd.com>
Content-Language: en-US
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Reply-To: christian.koenig@amd.com
Cc: kernel test robot <lkp@intel.com>,
 Tomeu Vizoso <tomeu.vizoso@collabora.com>,
 Daniel Vetter <daniel.vetter@ffwll.ch>, Steven Price <steven.price@arm.com>,
 Alyssa Rosenzweig <alyssa.rosenzweig@collabora.com>,
 Russell King <linux+etnaviv@armlinux.org.uk>,
 Alexander Deucher <Alexander.Deucher@amd.com>,
 =?UTF-8?Q?Christian_K=c3=b6nig?= <christian.koenig@amd.com>,
 Qiang Yu <yuq825@gmail.com>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QW0gMjAuMDEuMjEgdW0gMjE6MDkgc2NocmllYiBMdWJlbiBUdWlrb3Y6Cj4gVGhpcyBwYXRjaCBk
b2VzIG5vdCBjaGFuZ2UgY3VycmVudCBiZWhhdmlvdXIuCj4KPiBUaGUgZHJpdmVyJ3Mgam9iIHRp
bWVvdXQgaGFuZGxlciBub3cgcmV0dXJucwo+IHN0YXR1cyBpbmRpY2F0aW5nIGJhY2sgdG8gdGhl
IERSTSBsYXllciB3aGV0aGVyCj4gdGhlIGRldmljZSAoR1BVKSBpcyBubyBsb25nZXIgYXZhaWxh
YmxlLCBzdWNoIGFzCj4gYWZ0ZXIgaXQncyBiZWVuIHVucGx1Z2dlZCwgb3Igd2hldGhlciBhbGwg
aXMKPiBub3JtYWwsIGkuZS4gY3VycmVudCBiZWhhdmlvdXIuCj4KPiBBbGwgZHJpdmVycyB3aGlj
aCBtYWtlIHVzZSBvZiB0aGUKPiBkcm1fc2NoZWRfYmFja2VuZF9vcHMnIC50aW1lZG91dF9qb2Io
KSBjYWxsYmFjawo+IGhhdmUgYmVlbiBhY2NvcmRpbmdseSByZW5hbWVkIGFuZCByZXR1cm4gdGhl
Cj4gd291bGQndmUtYmVlbiBkZWZhdWx0IHZhbHVlIG9mCj4gRFJNX0dQVV9TQ0hFRF9TVEFUX05P
TUlOQUwgdG8gcmVzdGFydCB0aGUgdGFzaydzCj4gdGltZW91dCB0aW1lci0tdGhpcyBpcyB0aGUg
b2xkIGJlaGF2aW91ciwgYW5kIGlzCj4gcHJlc2VydmVkIGJ5IHRoaXMgcGF0Y2guCj4KPiB2Mjog
VXNlIGVudW0gYXMgdGhlIHN0YXR1cyBvZiBhIGRyaXZlcidzIGpvYgo+ICAgICAgdGltZW91dCBj
YWxsYmFjayBtZXRob2QuCj4KPiB2MzogUmV0dXJuIHNjaGVkdWxlci9kZXZpY2UgaW5mb3JtYXRp
b24sIHJhdGhlcgo+ICAgICAgdGhhbiB0YXNrIGluZm9ybWF0aW9uLgo+Cj4gQ2M6IEFsZXhhbmRl
ciBEZXVjaGVyIDxBbGV4YW5kZXIuRGV1Y2hlckBhbWQuY29tPgo+IENjOiBBbmRyZXkgR3JvZHpv
dnNreSA8QW5kcmV5Lkdyb2R6b3Zza3lAYW1kLmNvbT4KPiBDYzogQ2hyaXN0aWFuIEvDtm5pZyA8
Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPgo+IENjOiBEYW5pZWwgVmV0dGVyIDxkYW5pZWwudmV0
dGVyQGZmd2xsLmNoPgo+IENjOiBMdWNhcyBTdGFjaCA8bC5zdGFjaEBwZW5ndXRyb25peC5kZT4K
PiBDYzogUnVzc2VsbCBLaW5nIDxsaW51eCtldG5hdml2QGFybWxpbnV4Lm9yZy51az4KPiBDYzog
Q2hyaXN0aWFuIEdtZWluZXIgPGNocmlzdGlhbi5nbWVpbmVyQGdtYWlsLmNvbT4KPiBDYzogUWlh
bmcgWXUgPHl1cTgyNUBnbWFpbC5jb20+Cj4gQ2M6IFJvYiBIZXJyaW5nIDxyb2JoQGtlcm5lbC5v
cmc+Cj4gQ2M6IFRvbWV1IFZpem9zbyA8dG9tZXUudml6b3NvQGNvbGxhYm9yYS5jb20+Cj4gQ2M6
IFN0ZXZlbiBQcmljZSA8c3RldmVuLnByaWNlQGFybS5jb20+Cj4gQ2M6IEFseXNzYSBSb3Nlbnp3
ZWlnIDxhbHlzc2Eucm9zZW56d2VpZ0Bjb2xsYWJvcmEuY29tPgo+IENjOiBFcmljIEFuaG9sdCA8
ZXJpY0BhbmhvbHQubmV0Pgo+IFJlcG9ydGVkLWJ5OiBrZXJuZWwgdGVzdCByb2JvdCA8bGtwQGlu
dGVsLmNvbT4KPiBTaWduZWQtb2ZmLWJ5OiBMdWJlbiBUdWlrb3YgPGx1YmVuLnR1aWtvdkBhbWQu
Y29tPgoKQWNrZWQtYnk6IENocmlzdGlhbiBLw7ZuaWcgPGNocmlzdGlhbi5rb2VuaWdAYW1kLmNv
bT4KCj4gLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfam9iLmMgfCAg
NiArKystLQo+ICAgZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9zY2hlZC5jIHwgIDcg
KysrKystCj4gICBkcml2ZXJzL2dwdS9kcm0vbGltYS9saW1hX3NjaGVkLmMgICAgICAgfCAgNCAr
KystCj4gICBkcml2ZXJzL2dwdS9kcm0vcGFuZnJvc3QvcGFuZnJvc3Rfam9iLmMgfCAgOSArKysr
LS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vc2NoZWR1bGVyL3NjaGVkX21haW4uYyAgfCAgNCArLS0t
Cj4gICBkcml2ZXJzL2dwdS9kcm0vdjNkL3YzZF9zY2hlZC5jICAgICAgICAgfCAzMiArKysrKysr
KysrKysrLS0tLS0tLS0tLS0tCj4gICBpbmNsdWRlL2RybS9ncHVfc2NoZWR1bGVyLmggICAgICAg
ICAgICAgfCAxOCArKysrKysrKysrKy0tLQo+ICAgNyBmaWxlcyBjaGFuZ2VkLCA1MiBpbnNlcnRp
b25zKCspLCAyOCBkZWxldGlvbnMoLSkKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHVfam9iLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRn
cHVfam9iLmMKPiBpbmRleCBmZjQ4MTAxYmFiNTUuLjc1OWIzNDc5OTIyMSAxMDA2NDQKPiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfam9iLmMKPiArKysgYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfam9iLmMKPiBAQCAtMjgsNyArMjgsNyBAQAo+ICAg
I2luY2x1ZGUgImFtZGdwdS5oIgo+ICAgI2luY2x1ZGUgImFtZGdwdV90cmFjZS5oIgo+ICAgCj4g
LXN0YXRpYyB2b2lkIGFtZGdwdV9qb2JfdGltZWRvdXQoc3RydWN0IGRybV9zY2hlZF9qb2IgKnNf
am9iKQo+ICtzdGF0aWMgZW51bSBkcm1fZ3B1X3NjaGVkX3N0YXQgYW1kZ3B1X2pvYl90aW1lZG91
dChzdHJ1Y3QgZHJtX3NjaGVkX2pvYiAqc19qb2IpCj4gICB7Cj4gICAJc3RydWN0IGFtZGdwdV9y
aW5nICpyaW5nID0gdG9fYW1kZ3B1X3Jpbmcoc19qb2ItPnNjaGVkKTsKPiAgIAlzdHJ1Y3QgYW1k
Z3B1X2pvYiAqam9iID0gdG9fYW1kZ3B1X2pvYihzX2pvYik7Cj4gQEAgLTQxLDcgKzQxLDcgQEAg
c3RhdGljIHZvaWQgYW1kZ3B1X2pvYl90aW1lZG91dChzdHJ1Y3QgZHJtX3NjaGVkX2pvYiAqc19q
b2IpCj4gICAJICAgIGFtZGdwdV9yaW5nX3NvZnRfcmVjb3ZlcnkocmluZywgam9iLT52bWlkLCBz
X2pvYi0+c19mZW5jZS0+cGFyZW50KSkgewo+ICAgCQlEUk1fRVJST1IoInJpbmcgJXMgdGltZW91
dCwgYnV0IHNvZnQgcmVjb3ZlcmVkXG4iLAo+ICAgCQkJICBzX2pvYi0+c2NoZWQtPm5hbWUpOwo+
IC0JCXJldHVybjsKPiArCQlyZXR1cm4gRFJNX0dQVV9TQ0hFRF9TVEFUX05PTUlOQUw7Cj4gICAJ
fQo+ICAgCj4gICAJYW1kZ3B1X3ZtX2dldF90YXNrX2luZm8ocmluZy0+YWRldiwgam9iLT5wYXNp
ZCwgJnRpKTsKPiBAQCAtNTMsMTAgKzUzLDEyIEBAIHN0YXRpYyB2b2lkIGFtZGdwdV9qb2JfdGlt
ZWRvdXQoc3RydWN0IGRybV9zY2hlZF9qb2IgKnNfam9iKQo+ICAgCj4gICAJaWYgKGFtZGdwdV9k
ZXZpY2Vfc2hvdWxkX3JlY292ZXJfZ3B1KHJpbmctPmFkZXYpKSB7Cj4gICAJCWFtZGdwdV9kZXZp
Y2VfZ3B1X3JlY292ZXIocmluZy0+YWRldiwgam9iKTsKPiArCQlyZXR1cm4gRFJNX0dQVV9TQ0hF
RF9TVEFUX05PTUlOQUw7Cj4gICAJfSBlbHNlIHsKPiAgIAkJZHJtX3NjaGVkX3N1c3BlbmRfdGlt
ZW91dCgmcmluZy0+c2NoZWQpOwo+ICAgCQlpZiAoYW1kZ3B1X3NyaW92X3ZmKGFkZXYpKQo+ICAg
CQkJYWRldi0+dmlydC50ZHJfZGVidWcgPSB0cnVlOwo+ICsJCXJldHVybiBEUk1fR1BVX1NDSEVE
X1NUQVRfTk9NSU5BTDsKPiAgIAl9Cj4gICB9Cj4gICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9zY2hlZC5jIGIvZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYv
ZXRuYXZpdl9zY2hlZC5jCj4gaW5kZXggY2Q0NmM4ODIyNjljLi4yYTk0MzljYmIwZmIgMTAwNjQ0
Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9zY2hlZC5jCj4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9zY2hlZC5jCj4gQEAgLTgyLDcgKzgyLDgg
QEAgc3RhdGljIHN0cnVjdCBkbWFfZmVuY2UgKmV0bmF2aXZfc2NoZWRfcnVuX2pvYihzdHJ1Y3Qg
ZHJtX3NjaGVkX2pvYiAqc2NoZWRfam9iKQo+ICAgCXJldHVybiBmZW5jZTsKPiAgIH0KPiAgIAo+
IC1zdGF0aWMgdm9pZCBldG5hdml2X3NjaGVkX3RpbWVkb3V0X2pvYihzdHJ1Y3QgZHJtX3NjaGVk
X2pvYiAqc2NoZWRfam9iKQo+ICtzdGF0aWMgZW51bSBkcm1fZ3B1X3NjaGVkX3N0YXQgZXRuYXZp
dl9zY2hlZF90aW1lZG91dF9qb2Ioc3RydWN0IGRybV9zY2hlZF9qb2IKPiArCQkJCQkJCSAgKnNj
aGVkX2pvYikKPiAgIHsKPiAgIAlzdHJ1Y3QgZXRuYXZpdl9nZW1fc3VibWl0ICpzdWJtaXQgPSB0
b19ldG5hdml2X3N1Ym1pdChzY2hlZF9qb2IpOwo+ICAgCXN0cnVjdCBldG5hdml2X2dwdSAqZ3B1
ID0gc3VibWl0LT5ncHU7Cj4gQEAgLTEyMCw5ICsxMjEsMTMgQEAgc3RhdGljIHZvaWQgZXRuYXZp
dl9zY2hlZF90aW1lZG91dF9qb2Ioc3RydWN0IGRybV9zY2hlZF9qb2IgKnNjaGVkX2pvYikKPiAg
IAo+ICAgCWRybV9zY2hlZF9yZXN1Ym1pdF9qb2JzKCZncHUtPnNjaGVkKTsKPiAgIAo+ICsJZHJt
X3NjaGVkX3N0YXJ0KCZncHUtPnNjaGVkLCB0cnVlKTsKPiArCXJldHVybiBEUk1fR1BVX1NDSEVE
X1NUQVRfTk9NSU5BTDsKPiArCj4gICBvdXRfbm9fdGltZW91dDoKPiAgIAkvKiByZXN0YXJ0IHNj
aGVkdWxlciBhZnRlciBHUFUgaXMgdXNhYmxlIGFnYWluICovCj4gICAJZHJtX3NjaGVkX3N0YXJ0
KCZncHUtPnNjaGVkLCB0cnVlKTsKPiArCXJldHVybiBEUk1fR1BVX1NDSEVEX1NUQVRfTk9NSU5B
TDsKPiAgIH0KPiAgIAo+ICAgc3RhdGljIHZvaWQgZXRuYXZpdl9zY2hlZF9mcmVlX2pvYihzdHJ1
Y3QgZHJtX3NjaGVkX2pvYiAqc2NoZWRfam9iKQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vbGltYS9saW1hX3NjaGVkLmMgYi9kcml2ZXJzL2dwdS9kcm0vbGltYS9saW1hX3NjaGVkLmMK
PiBpbmRleCA2M2I0YzU2NDNmOWMuLjZlNDI3Mzg1MjcxMiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vbGltYS9saW1hX3NjaGVkLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vbGltYS9s
aW1hX3NjaGVkLmMKPiBAQCAtNDE1LDcgKzQxNSw3IEBAIHN0YXRpYyB2b2lkIGxpbWFfc2NoZWRf
YnVpbGRfZXJyb3JfdGFza19saXN0KHN0cnVjdCBsaW1hX3NjaGVkX3Rhc2sgKnRhc2spCj4gICAJ
bXV0ZXhfdW5sb2NrKCZkZXYtPmVycm9yX3Rhc2tfbGlzdF9sb2NrKTsKPiAgIH0KPiAgIAo+IC1z
dGF0aWMgdm9pZCBsaW1hX3NjaGVkX3RpbWVkb3V0X2pvYihzdHJ1Y3QgZHJtX3NjaGVkX2pvYiAq
am9iKQo+ICtzdGF0aWMgZW51bSBkcm1fZ3B1X3NjaGVkX3N0YXQgbGltYV9zY2hlZF90aW1lZG91
dF9qb2Ioc3RydWN0IGRybV9zY2hlZF9qb2IgKmpvYikKPiAgIHsKPiAgIAlzdHJ1Y3QgbGltYV9z
Y2hlZF9waXBlICpwaXBlID0gdG9fbGltYV9waXBlKGpvYi0+c2NoZWQpOwo+ICAgCXN0cnVjdCBs
aW1hX3NjaGVkX3Rhc2sgKnRhc2sgPSB0b19saW1hX3Rhc2soam9iKTsKPiBAQCAtNDQ5LDYgKzQ0
OSw4IEBAIHN0YXRpYyB2b2lkIGxpbWFfc2NoZWRfdGltZWRvdXRfam9iKHN0cnVjdCBkcm1fc2No
ZWRfam9iICpqb2IpCj4gICAKPiAgIAlkcm1fc2NoZWRfcmVzdWJtaXRfam9icygmcGlwZS0+YmFz
ZSk7Cj4gICAJZHJtX3NjaGVkX3N0YXJ0KCZwaXBlLT5iYXNlLCB0cnVlKTsKPiArCj4gKwlyZXR1
cm4gRFJNX0dQVV9TQ0hFRF9TVEFUX05PTUlOQUw7Cj4gICB9Cj4gICAKPiAgIHN0YXRpYyB2b2lk
IGxpbWFfc2NoZWRfZnJlZV9qb2Ioc3RydWN0IGRybV9zY2hlZF9qb2IgKmpvYikKPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmZyb3N0L3BhbmZyb3N0X2pvYi5jIGIvZHJpdmVycy9n
cHUvZHJtL3BhbmZyb3N0L3BhbmZyb3N0X2pvYi5jCj4gaW5kZXggMDRlNmY2ZjliNzQyLi4wYTgz
ZWVmYTQ5YzQgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmZyb3N0L3BhbmZyb3N0
X2pvYi5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmZyb3N0L3BhbmZyb3N0X2pvYi5jCj4g
QEAgLTQzMiw3ICs0MzIsOCBAQCBzdGF0aWMgdm9pZCBwYW5mcm9zdF9zY2hlZHVsZXJfc3RhcnQo
c3RydWN0IHBhbmZyb3N0X3F1ZXVlX3N0YXRlICpxdWV1ZSkKPiAgIAltdXRleF91bmxvY2soJnF1
ZXVlLT5sb2NrKTsKPiAgIH0KPiAgIAo+IC1zdGF0aWMgdm9pZCBwYW5mcm9zdF9qb2JfdGltZWRv
dXQoc3RydWN0IGRybV9zY2hlZF9qb2IgKnNjaGVkX2pvYikKPiArc3RhdGljIGVudW0gZHJtX2dw
dV9zY2hlZF9zdGF0IHBhbmZyb3N0X2pvYl90aW1lZG91dChzdHJ1Y3QgZHJtX3NjaGVkX2pvYgo+
ICsJCQkJCQkgICAgICpzY2hlZF9qb2IpCj4gICB7Cj4gICAJc3RydWN0IHBhbmZyb3N0X2pvYiAq
am9iID0gdG9fcGFuZnJvc3Rfam9iKHNjaGVkX2pvYik7Cj4gICAJc3RydWN0IHBhbmZyb3N0X2Rl
dmljZSAqcGZkZXYgPSBqb2ItPnBmZGV2Owo+IEBAIC00NDMsNyArNDQ0LDcgQEAgc3RhdGljIHZv
aWQgcGFuZnJvc3Rfam9iX3RpbWVkb3V0KHN0cnVjdCBkcm1fc2NoZWRfam9iICpzY2hlZF9qb2Ip
Cj4gICAJICogc3B1cmlvdXMuIEJhaWwgb3V0Lgo+ICAgCSAqLwo+ICAgCWlmIChkbWFfZmVuY2Vf
aXNfc2lnbmFsZWQoam9iLT5kb25lX2ZlbmNlKSkKPiAtCQlyZXR1cm47Cj4gKwkJcmV0dXJuIERS
TV9HUFVfU0NIRURfU1RBVF9OT01JTkFMOwo+ICAgCj4gICAJZGV2X2VycihwZmRldi0+ZGV2LCAi
Z3B1IHNjaGVkIHRpbWVvdXQsIGpzPSVkLCBjb25maWc9MHgleCwgc3RhdHVzPTB4JXgsIGhlYWQ9
MHgleCwgdGFpbD0weCV4LCBzY2hlZF9qb2I9JXAiLAo+ICAgCQlqcywKPiBAQCAtNDU1LDExICs0
NTYsMTMgQEAgc3RhdGljIHZvaWQgcGFuZnJvc3Rfam9iX3RpbWVkb3V0KHN0cnVjdCBkcm1fc2No
ZWRfam9iICpzY2hlZF9qb2IpCj4gICAKPiAgIAkvKiBTY2hlZHVsZXIgaXMgYWxyZWFkeSBzdG9w
cGVkLCBub3RoaW5nIHRvIGRvLiAqLwo+ICAgCWlmICghcGFuZnJvc3Rfc2NoZWR1bGVyX3N0b3Ao
JnBmZGV2LT5qcy0+cXVldWVbanNdLCBzY2hlZF9qb2IpKQo+IC0JCXJldHVybjsKPiArCQlyZXR1
cm4gRFJNX0dQVV9TQ0hFRF9TVEFUX05PTUlOQUw7Cj4gICAKPiAgIAkvKiBTY2hlZHVsZSBhIHJl
c2V0IGlmIHRoZXJlJ3Mgbm8gcmVzZXQgaW4gcHJvZ3Jlc3MuICovCj4gICAJaWYgKCFhdG9taWNf
eGNoZygmcGZkZXYtPnJlc2V0LnBlbmRpbmcsIDEpKQo+ICAgCQlzY2hlZHVsZV93b3JrKCZwZmRl
di0+cmVzZXQud29yayk7Cj4gKwo+ICsJcmV0dXJuIERSTV9HUFVfU0NIRURfU1RBVF9OT01JTkFM
Owo+ICAgfQo+ICAgCj4gICBzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9zY2hlZF9iYWNrZW5kX29w
cyBwYW5mcm9zdF9zY2hlZF9vcHMgPSB7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9z
Y2hlZHVsZXIvc2NoZWRfbWFpbi5jIGIvZHJpdmVycy9ncHUvZHJtL3NjaGVkdWxlci9zY2hlZF9t
YWluLmMKPiBpbmRleCA5MjYzN2I3MGM5YmYuLjczZmNjYzU0MjY4YiAxMDA2NDQKPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vc2NoZWR1bGVyL3NjaGVkX21haW4uYwo+ICsrKyBiL2RyaXZlcnMvZ3B1
L2RybS9zY2hlZHVsZXIvc2NoZWRfbWFpbi5jCj4gQEAgLTUyNyw3ICs1MjcsNyBAQCB2b2lkIGRy
bV9zY2hlZF9zdGFydChzdHJ1Y3QgZHJtX2dwdV9zY2hlZHVsZXIgKnNjaGVkLCBib29sIGZ1bGxf
cmVjb3ZlcnkpCj4gICBFWFBPUlRfU1lNQk9MKGRybV9zY2hlZF9zdGFydCk7Cj4gICAKPiAgIC8q
Kgo+IC0gKiBkcm1fc2NoZWRfcmVzdWJtaXRfam9icyAtIGhlbHBlciB0byByZWx1bmNoIGpvYiBm
cm9tIHBlbmRpbmcgcmluZyBsaXN0Cj4gKyAqIGRybV9zY2hlZF9yZXN1Ym1pdF9qb2JzIC0gaGVs
cGVyIHRvIHJlbGF1bmNoIGpvYnMgZnJvbSB0aGUgcGVuZGluZyBsaXN0Cj4gICAgKgo+ICAgICog
QHNjaGVkOiBzY2hlZHVsZXIgaW5zdGFuY2UKPiAgICAqCj4gQEAgLTU2MSw4ICs1NjEsNiBAQCB2
b2lkIGRybV9zY2hlZF9yZXN1Ym1pdF9qb2JzKHN0cnVjdCBkcm1fZ3B1X3NjaGVkdWxlciAqc2No
ZWQpCj4gICAJCX0gZWxzZSB7Cj4gICAJCQlzX2pvYi0+c19mZW5jZS0+cGFyZW50ID0gZmVuY2U7
Cj4gICAJCX0KPiAtCj4gLQo+ICAgCX0KPiAgIH0KPiAgIEVYUE9SVF9TWU1CT0woZHJtX3NjaGVk
X3Jlc3VibWl0X2pvYnMpOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdjNkL3YzZF9z
Y2hlZC5jIGIvZHJpdmVycy9ncHUvZHJtL3YzZC92M2Rfc2NoZWQuYwo+IGluZGV4IDQ1MjY4MmUy
MjA5Zi4uZWYyMzM4YTI5NGNhIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS92M2QvdjNk
X3NjaGVkLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vdjNkL3YzZF9zY2hlZC5jCj4gQEAgLTI1
OSw3ICsyNTksNyBAQCB2M2RfY2FjaGVfY2xlYW5fam9iX3J1bihzdHJ1Y3QgZHJtX3NjaGVkX2pv
YiAqc2NoZWRfam9iKQo+ICAgCXJldHVybiBOVUxMOwo+ICAgfQo+ICAgCj4gLXN0YXRpYyB2b2lk
Cj4gK3N0YXRpYyBlbnVtIGRybV9ncHVfc2NoZWRfc3RhdHVzCj4gICB2M2RfZ3B1X3Jlc2V0X2Zv
cl90aW1lb3V0KHN0cnVjdCB2M2RfZGV2ICp2M2QsIHN0cnVjdCBkcm1fc2NoZWRfam9iICpzY2hl
ZF9qb2IpCj4gICB7Cj4gICAJZW51bSB2M2RfcXVldWUgcTsKPiBAQCAtMjg1LDYgKzI4NSw4IEBA
IHYzZF9ncHVfcmVzZXRfZm9yX3RpbWVvdXQoc3RydWN0IHYzZF9kZXYgKnYzZCwgc3RydWN0IGRy
bV9zY2hlZF9qb2IgKnNjaGVkX2pvYikKPiAgIAl9Cj4gICAKPiAgIAltdXRleF91bmxvY2soJnYz
ZC0+cmVzZXRfbG9jayk7Cj4gKwo+ICsJcmV0dXJuIERSTV9HUFVfU0NIRURfU1RBVF9OT01JTkFM
Owo+ICAgfQo+ICAgCj4gICAvKiBJZiB0aGUgY3VycmVudCBhZGRyZXNzIG9yIHJldHVybiBhZGRy
ZXNzIGhhdmUgY2hhbmdlZCwgdGhlbiB0aGUgR1BVCj4gQEAgLTI5Miw3ICsyOTQsNyBAQCB2M2Rf
Z3B1X3Jlc2V0X2Zvcl90aW1lb3V0KHN0cnVjdCB2M2RfZGV2ICp2M2QsIHN0cnVjdCBkcm1fc2No
ZWRfam9iICpzY2hlZF9qb2IpCj4gICAgKiBjb3VsZCBmYWlsIGlmIHRoZSBHUFUgZ290IGluIGFu
IGluZmluaXRlIGxvb3AgaW4gdGhlIENMLCBidXQgdGhhdAo+ICAgICogaXMgcHJldHR5IHVubGlr
ZWx5IG91dHNpZGUgb2YgYW4gaS1nLXQgdGVzdGNhc2UuCj4gICAgKi8KPiAtc3RhdGljIHZvaWQK
PiArc3RhdGljIGVudW0gZHJtX3Rhc2tfc3RhdHVzCj4gICB2M2RfY2xfam9iX3RpbWVkb3V0KHN0
cnVjdCBkcm1fc2NoZWRfam9iICpzY2hlZF9qb2IsIGVudW0gdjNkX3F1ZXVlIHEsCj4gICAJCSAg
ICB1MzIgKnRpbWVkb3V0X2N0Y2EsIHUzMiAqdGltZWRvdXRfY3RyYSkKPiAgIHsKPiBAQCAtMzA0
LDM5ICszMDYsMzkgQEAgdjNkX2NsX2pvYl90aW1lZG91dChzdHJ1Y3QgZHJtX3NjaGVkX2pvYiAq
c2NoZWRfam9iLCBlbnVtIHYzZF9xdWV1ZSBxLAo+ICAgCWlmICgqdGltZWRvdXRfY3RjYSAhPSBj
dGNhIHx8ICp0aW1lZG91dF9jdHJhICE9IGN0cmEpIHsKPiAgIAkJKnRpbWVkb3V0X2N0Y2EgPSBj
dGNhOwo+ICAgCQkqdGltZWRvdXRfY3RyYSA9IGN0cmE7Cj4gLQkJcmV0dXJuOwo+ICsJCXJldHVy
biBEUk1fR1BVX1NDSEVEX1NUQVRfTk9NSU5BTDsKPiAgIAl9Cj4gICAKPiAtCXYzZF9ncHVfcmVz
ZXRfZm9yX3RpbWVvdXQodjNkLCBzY2hlZF9qb2IpOwo+ICsJcmV0dXJuIHYzZF9ncHVfcmVzZXRf
Zm9yX3RpbWVvdXQodjNkLCBzY2hlZF9qb2IpOwo+ICAgfQo+ICAgCj4gLXN0YXRpYyB2b2lkCj4g
K3N0YXRpYyBlbnVtIGRybV90YXNrX3N0YXR1cwo+ICAgdjNkX2Jpbl9qb2JfdGltZWRvdXQoc3Ry
dWN0IGRybV9zY2hlZF9qb2IgKnNjaGVkX2pvYikKPiAgIHsKPiAgIAlzdHJ1Y3QgdjNkX2Jpbl9q
b2IgKmpvYiA9IHRvX2Jpbl9qb2Ioc2NoZWRfam9iKTsKPiAgIAo+IC0JdjNkX2NsX2pvYl90aW1l
ZG91dChzY2hlZF9qb2IsIFYzRF9CSU4sCj4gLQkJCSAgICAmam9iLT50aW1lZG91dF9jdGNhLCAm
am9iLT50aW1lZG91dF9jdHJhKTsKPiArCXJldHVybiB2M2RfY2xfam9iX3RpbWVkb3V0KHNjaGVk
X2pvYiwgVjNEX0JJTiwKPiArCQkJCSAgICZqb2ItPnRpbWVkb3V0X2N0Y2EsICZqb2ItPnRpbWVk
b3V0X2N0cmEpOwo+ICAgfQo+ICAgCj4gLXN0YXRpYyB2b2lkCj4gK3N0YXRpYyBlbnVtIGRybV90
YXNrX3N0YXR1cwo+ICAgdjNkX3JlbmRlcl9qb2JfdGltZWRvdXQoc3RydWN0IGRybV9zY2hlZF9q
b2IgKnNjaGVkX2pvYikKPiAgIHsKPiAgIAlzdHJ1Y3QgdjNkX3JlbmRlcl9qb2IgKmpvYiA9IHRv
X3JlbmRlcl9qb2Ioc2NoZWRfam9iKTsKPiAgIAo+IC0JdjNkX2NsX2pvYl90aW1lZG91dChzY2hl
ZF9qb2IsIFYzRF9SRU5ERVIsCj4gLQkJCSAgICAmam9iLT50aW1lZG91dF9jdGNhLCAmam9iLT50
aW1lZG91dF9jdHJhKTsKPiArCXJldHVybiB2M2RfY2xfam9iX3RpbWVkb3V0KHNjaGVkX2pvYiwg
VjNEX1JFTkRFUiwKPiArCQkJCSAgICZqb2ItPnRpbWVkb3V0X2N0Y2EsICZqb2ItPnRpbWVkb3V0
X2N0cmEpOwo+ICAgfQo+ICAgCj4gLXN0YXRpYyB2b2lkCj4gK3N0YXRpYyBlbnVtIGRybV90YXNr
X3N0YXR1cwo+ICAgdjNkX2dlbmVyaWNfam9iX3RpbWVkb3V0KHN0cnVjdCBkcm1fc2NoZWRfam9i
ICpzY2hlZF9qb2IpCj4gICB7Cj4gICAJc3RydWN0IHYzZF9qb2IgKmpvYiA9IHRvX3YzZF9qb2Io
c2NoZWRfam9iKTsKPiAgIAo+IC0JdjNkX2dwdV9yZXNldF9mb3JfdGltZW91dChqb2ItPnYzZCwg
c2NoZWRfam9iKTsKPiArCXJldHVybiB2M2RfZ3B1X3Jlc2V0X2Zvcl90aW1lb3V0KGpvYi0+djNk
LCBzY2hlZF9qb2IpOwo+ICAgfQo+ICAgCj4gLXN0YXRpYyB2b2lkCj4gK3N0YXRpYyBlbnVtIGRy
bV90YXNrX3N0YXR1cwo+ICAgdjNkX2NzZF9qb2JfdGltZWRvdXQoc3RydWN0IGRybV9zY2hlZF9q
b2IgKnNjaGVkX2pvYikKPiAgIHsKPiAgIAlzdHJ1Y3QgdjNkX2NzZF9qb2IgKmpvYiA9IHRvX2Nz
ZF9qb2Ioc2NoZWRfam9iKTsKPiBAQCAtMzQ4LDEwICszNTAsMTAgQEAgdjNkX2NzZF9qb2JfdGlt
ZWRvdXQoc3RydWN0IGRybV9zY2hlZF9qb2IgKnNjaGVkX2pvYikKPiAgIAkgKi8KPiAgIAlpZiAo
am9iLT50aW1lZG91dF9iYXRjaGVzICE9IGJhdGNoZXMpIHsKPiAgIAkJam9iLT50aW1lZG91dF9i
YXRjaGVzID0gYmF0Y2hlczsKPiAtCQlyZXR1cm47Cj4gKwkJcmV0dXJuIERSTV9HUFVfU0NIRURf
U1RBVF9OT01JTkFMOwo+ICAgCX0KPiAgIAo+IC0JdjNkX2dwdV9yZXNldF9mb3JfdGltZW91dCh2
M2QsIHNjaGVkX2pvYik7Cj4gKwlyZXR1cm4gdjNkX2dwdV9yZXNldF9mb3JfdGltZW91dCh2M2Qs
IHNjaGVkX2pvYik7Cj4gICB9Cj4gICAKPiAgIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX3NjaGVk
X2JhY2tlbmRfb3BzIHYzZF9iaW5fc2NoZWRfb3BzID0gewo+IGRpZmYgLS1naXQgYS9pbmNsdWRl
L2RybS9ncHVfc2NoZWR1bGVyLmggYi9pbmNsdWRlL2RybS9ncHVfc2NoZWR1bGVyLmgKPiBpbmRl
eCA5NzVlOGE2Nzk0N2YuLmNlNmEzODNlZDk5ZiAxMDA2NDQKPiAtLS0gYS9pbmNsdWRlL2RybS9n
cHVfc2NoZWR1bGVyLmgKPiArKysgYi9pbmNsdWRlL2RybS9ncHVfc2NoZWR1bGVyLmgKPiBAQCAt
MjA2LDYgKzIwNiwxMiBAQCBzdGF0aWMgaW5saW5lIGJvb2wgZHJtX3NjaGVkX2ludmFsaWRhdGVf
am9iKHN0cnVjdCBkcm1fc2NoZWRfam9iICpzX2pvYiwKPiAgIAlyZXR1cm4gc19qb2IgJiYgYXRv
bWljX2luY19yZXR1cm4oJnNfam9iLT5rYXJtYSkgPiB0aHJlc2hvbGQ7Cj4gICB9Cj4gICAKPiAr
ZW51bSBkcm1fZ3B1X3NjaGVkX3N0YXQgewo+ICsJRFJNX0dQVV9TQ0hFRF9TVEFUX05PTkUsIC8q
IFJlc2VydmUgMCAqLwo+ICsJRFJNX0dQVV9TQ0hFRF9TVEFUX05PTUlOQUwsCj4gKwlEUk1fR1BV
X1NDSEVEX1NUQVRfRU5PREVWLAo+ICt9Owo+ICsKPiAgIC8qKgo+ICAgICogc3RydWN0IGRybV9z
Y2hlZF9iYWNrZW5kX29wcwo+ICAgICoKPiBAQCAtMjMwLDEwICsyMzYsMTYgQEAgc3RydWN0IGRy
bV9zY2hlZF9iYWNrZW5kX29wcyB7Cj4gICAJc3RydWN0IGRtYV9mZW5jZSAqKCpydW5fam9iKShz
dHJ1Y3QgZHJtX3NjaGVkX2pvYiAqc2NoZWRfam9iKTsKPiAgIAo+ICAgCS8qKgo+IC0gICAgICAg
ICAqIEB0aW1lZG91dF9qb2I6IENhbGxlZCB3aGVuIGEgam9iIGhhcyB0YWtlbiB0b28gbG9uZyB0
byBleGVjdXRlLAo+IC0gICAgICAgICAqIHRvIHRyaWdnZXIgR1BVIHJlY292ZXJ5Lgo+ICsJICog
QHRpbWVkb3V0X2pvYjogQ2FsbGVkIHdoZW4gYSBqb2IgaGFzIHRha2VuIHRvbyBsb25nIHRvIGV4
ZWN1dGUsCj4gKwkgKiB0byB0cmlnZ2VyIEdQVSByZWNvdmVyeS4KPiArCSAqCj4gKwkgKiBSZXR1
cm4gRFJNX0dQVV9TQ0hFRF9TVEFUX05PTUlOQUwsIHdoZW4gYWxsIGlzIG5vcm1hbCwKPiArCSAq
IGFuZCB0aGUgdW5kZXJseWluZyBkcml2ZXIgaGFzIHN0YXJ0ZWQgb3IgY29tcGxldGVkIHJlY292
ZXJ5Lgo+ICsJICoKPiArCSAqIFJldHVybiBEUk1fR1BVX1NDSEVEX1NUQVRfRU5PREVWLCBpZiB0
aGUgZGV2aWNlIGlzIG5vIGxvbmdlcgo+ICsJICogYXZhaWxhYmxlLCBpLmUuIGhhcyBiZWVuIHVu
cGx1Z2dlZC4KPiAgIAkgKi8KPiAtCXZvaWQgKCp0aW1lZG91dF9qb2IpKHN0cnVjdCBkcm1fc2No
ZWRfam9iICpzY2hlZF9qb2IpOwo+ICsJZW51bSBkcm1fZ3B1X3NjaGVkX3N0YXQgKCp0aW1lZG91
dF9qb2IpKHN0cnVjdCBkcm1fc2NoZWRfam9iICpzY2hlZF9qb2IpOwo+ICAgCj4gICAJLyoqCj4g
ICAgICAgICAgICAqIEBmcmVlX2pvYjogQ2FsbGVkIG9uY2UgdGhlIGpvYidzIGZpbmlzaGVkIGZl
bmNlIGhhcyBiZWVuIHNpZ25hbGVkCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVl
ZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5m
by9kcmktZGV2ZWwK
