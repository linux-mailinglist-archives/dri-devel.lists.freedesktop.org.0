Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 424A9615F7
	for <lists+dri-devel@lfdr.de>; Sun,  7 Jul 2019 20:32:36 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0F6E289B8E;
	Sun,  7 Jul 2019 18:32:34 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from perceval.ideasonboard.com (perceval.ideasonboard.com
 [IPv6:2001:4b98:dc2:55:216:3eff:fef7:d647])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 4C5E989B8E
 for <dri-devel@lists.freedesktop.org>; Sun,  7 Jul 2019 18:32:32 +0000 (UTC)
Received: from pendragon.nordic-sky.finnair.com (unknown [38.98.37.142])
 by perceval.ideasonboard.com (Postfix) with ESMTPSA id 5A1CFCC;
 Sun,  7 Jul 2019 20:32:12 +0200 (CEST)
From: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH 34/60] drm/omap: hdmi4: Rework EDID read to isolate data read
Date: Sun,  7 Jul 2019 21:19:11 +0300
Message-Id: <20190707181937.6250-31-laurent.pinchart@ideasonboard.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190707181937.6250-1-laurent.pinchart@ideasonboard.com>
References: <20190707180852.5512-1-laurent.pinchart@ideasonboard.com>
 <20190707181937.6250-1-laurent.pinchart@ideasonboard.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=ideasonboard.com; s=mail; t=1562524351;
 bh=uHswDU3gW9fW3XoPg4OQ3rgkLHGCFvU4DivAMYhqHcQ=;
 h=From:To:Cc:Subject:Date:In-Reply-To:References:From;
 b=TLEcw056rvhktfIPtOTTDljvFSpyiF+Fb+dkO/lB0zww55z7xiKV59Vt7oym0TVO3
 bcWmloN9VZ4q//1Qa+Nh4DZa3dDuRwzfCSpOc9SfILbJSR4vseDalTWEOeEBoyixuf
 oWJQ9xHfTh2379IKUfk/N0HfI6j44RADnae7Dxj8=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Maxime Ripard <maxime.ripard@bootlin.com>,
 Sebastian Reichel <sebastian.reichel@collabora.com>,
 Tomi Valkeinen <tomi.valkeinen@ti.com>, Sean Paul <sean@poorly.run>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SW4gcHJlcGFyYXRpb24gb2YgYWRkaW5nIERSTSBicmlkZ2Ugc3VwcG9ydCB0byB0aGUgaGRtaTQg
ZW5jb2RlciBjb2RlLApyZXdvcmsgdGhlIEVESUQgcmVhZCB0byBpc29sYXRlIGRhdGEgcmVhZC4K
ClNpZ25lZC1vZmYtYnk6IExhdXJlbnQgUGluY2hhcnQgPGxhdXJlbnQucGluY2hhcnRAaWRlYXNv
bmJvYXJkLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vb21hcGRybS9kc3MvaGRtaTQuYyAgICAg
IHwgOTQgKysrKysrKysrKysrKysrLS0tLS0tLS0tCiBkcml2ZXJzL2dwdS9kcm0vb21hcGRybS9k
c3MvaGRtaTRfY29yZS5jIHwgNTkgKysrLS0tLS0tLS0tLS0tCiBkcml2ZXJzL2dwdS9kcm0vb21h
cGRybS9kc3MvaGRtaTRfY29yZS5oIHwgIDQgKy0KIDMgZmlsZXMgY2hhbmdlZCwgNzMgaW5zZXJ0
aW9ucygrKSwgODQgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL29t
YXBkcm0vZHNzL2hkbWk0LmMgYi9kcml2ZXJzL2dwdS9kcm0vb21hcGRybS9kc3MvaGRtaTQuYwpp
bmRleCBmMDU4NjEwOGI0MWUuLjVkN2IxN2I1MmRjMCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL29tYXBkcm0vZHNzL2hkbWk0LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vZHNz
L2hkbWk0LmMKQEAgLTI4MywyMyArMjgzLDYgQEAgc3RhdGljIGludCBoZG1pX2R1bXBfcmVncyhz
dHJ1Y3Qgc2VxX2ZpbGUgKnMsIHZvaWQgKnApCiAJcmV0dXJuIDA7CiB9CiAKLXN0YXRpYyBpbnQg
cmVhZF9lZGlkKHN0cnVjdCBvbWFwX2hkbWkgKmhkbWksIHU4ICpidWYsIGludCBsZW4pCi17Ci0J
aW50IHI7Ci0KLQltdXRleF9sb2NrKCZoZG1pLT5sb2NrKTsKLQotCXIgPSBoZG1pX3J1bnRpbWVf
Z2V0KGhkbWkpOwotCUJVR19PTihyKTsKLQotCXIgPSBoZG1pNF9yZWFkX2VkaWQoJmhkbWktPmNv
cmUsICBidWYsIGxlbik7Ci0KLQloZG1pX3J1bnRpbWVfcHV0KGhkbWkpOwotCW11dGV4X3VubG9j
aygmaGRtaS0+bG9jayk7Ci0KLQlyZXR1cm4gcjsKLX0KLQogc3RhdGljIHZvaWQgaGRtaV9zdGFy
dF9hdWRpb19zdHJlYW0oc3RydWN0IG9tYXBfaGRtaSAqaGQpCiB7CiAJaGRtaV93cF9hdWRpb19l
bmFibGUoJmhkLT53cCwgdHJ1ZSk7CkBAIC00MTYsMTAgKzM5OSw4IEBAIHN0YXRpYyB2b2lkIGhk
bWlfZGlzY29ubmVjdChzdHJ1Y3Qgb21hcF9kc3NfZGV2aWNlICpzcmMsCiAJb21hcGRzc19kZXZp
Y2VfZGlzY29ubmVjdChkc3QsIGRzdC0+bmV4dCk7CiB9CiAKLXN0YXRpYyBzdHJ1Y3QgZWRpZCAq
aGRtaV9yZWFkX2VkaWQoc3RydWN0IG9tYXBfZHNzX2RldmljZSAqZHNzZGV2KQorc3RhdGljIHN0
cnVjdCBlZGlkICpoZG1pX3JlYWRfZWRpZF9kYXRhKHN0cnVjdCBvbWFwX2hkbWkgKmhkbWkpCiB7
Ci0Jc3RydWN0IG9tYXBfaGRtaSAqaGRtaSA9IGRzc2Rldl90b19oZG1pKGRzc2Rldik7Ci0JYm9v
bCBuZWVkX2VuYWJsZTsKIAl1OCAqZWRpZDsKIAlpbnQgcjsKIApAQCAtNDI3LDMyICs0MDgsNzkg
QEAgc3RhdGljIHN0cnVjdCBlZGlkICpoZG1pX3JlYWRfZWRpZChzdHJ1Y3Qgb21hcF9kc3NfZGV2
aWNlICpkc3NkZXYpCiAJaWYgKCFlZGlkKQogCQlyZXR1cm4gTlVMTDsKIAorCXIgPSBoZG1pNF9j
b3JlX2RkY19yZWFkKCZoZG1pLT5jb3JlLCBlZGlkLCAwLCBFRElEX0xFTkdUSCk7CisJaWYgKHIp
CisJCWdvdG8gZXJyb3I7CisKKwlpZiAoZWRpZFsweDdlXSA+IDApIHsKKwkJY2hhciBjaGVja3N1
bSA9IDA7CisJCXVuc2lnbmVkIGludCBpOworCisJCXIgPSBoZG1pNF9jb3JlX2RkY19yZWFkKCZo
ZG1pLT5jb3JlLCBlZGlkICsgRURJRF9MRU5HVEgsIDEsCisJCQkJCUVESURfTEVOR1RIKTsKKwkJ
aWYgKHIpCisJCQlnb3RvIGVycm9yOworCisJCWZvciAoaSA9IDA7IGkgPCBFRElEX0xFTkdUSDsg
KytpKQorCQkJY2hlY2tzdW0gKz0gZWRpZFtFRElEX0xFTkdUSCArIGldOworCisJCWlmIChjaGVj
a3N1bSAhPSAwKSB7CisJCQlEU1NFUlIoIkUtRURJRCBjaGVja3N1bSBmYWlsZWQhIVxuIik7CisJ
CQlnb3RvIGVycm9yOworCQl9CisJfQorCisJcmV0dXJuIChzdHJ1Y3QgZWRpZCAqKWVkaWQ7CisK
K2Vycm9yOgorCWtmcmVlKGVkaWQpOworCXJldHVybiBOVUxMOworfQorCitzdGF0aWMgc3RydWN0
IGVkaWQgKmhkbWlfcmVhZF9lZGlkKHN0cnVjdCBvbWFwX2Rzc19kZXZpY2UgKmRzc2RldikKK3sK
KwlzdHJ1Y3Qgb21hcF9oZG1pICpoZG1pID0gZHNzZGV2X3RvX2hkbWkoZHNzZGV2KTsKKwlzdHJ1
Y3QgZWRpZCAqZWRpZCA9IE5VTEw7CisJdW5zaWduZWQgaW50IGNlY19hZGRyOworCWJvb2wgbmVl
ZF9lbmFibGU7CisJaW50IHI7CisKIAluZWVkX2VuYWJsZSA9IGhkbWktPmNvcmVfZW5hYmxlZCA9
PSBmYWxzZTsKIAogCWlmIChuZWVkX2VuYWJsZSkgewogCQlyID0gaGRtaTRfY29yZV9lbmFibGUo
JmhkbWktPmNvcmUpOwotCQlpZiAocikgewotCQkJa2ZyZWUoZWRpZCk7CisJCWlmIChyKQogCQkJ
cmV0dXJuIE5VTEw7Ci0JCX0KIAl9CiAKLQlyID0gcmVhZF9lZGlkKGhkbWksIGVkaWQsIDUxMik7
Ci0JaWYgKHIgPCAwKSB7Ci0JCWtmcmVlKGVkaWQpOwotCQllZGlkID0gTlVMTDsKKwltdXRleF9s
b2NrKCZoZG1pLT5sb2NrKTsKKwlyID0gaGRtaV9ydW50aW1lX2dldChoZG1pKTsKKwlCVUdfT04o
cik7CisKKwlyID0gaGRtaTRfY29yZV9kZGNfaW5pdCgmaGRtaS0+Y29yZSk7CisJaWYgKHIpCisJ
CWdvdG8gZG9uZTsKKworCWVkaWQgPSBoZG1pX3JlYWRfZWRpZF9kYXRhKGhkbWkpOworCitkb25l
OgorCWhkbWlfcnVudGltZV9wdXQoaGRtaSk7CisJbXV0ZXhfdW5sb2NrKCZoZG1pLT5sb2NrKTsK
KworCWlmIChlZGlkICYmIGVkaWQtPmV4dGVuc2lvbnMpIHsKKwkJdW5zaWduZWQgaW50IGxlbiA9
IChlZGlkLT5leHRlbnNpb25zICsgMSkgKiBFRElEX0xFTkdUSDsKKworCQljZWNfYWRkciA9IGNl
Y19nZXRfZWRpZF9waHlzX2FkZHIoKHU4ICopZWRpZCwgbGVuLCBOVUxMKTsKIAl9IGVsc2Ugewot
CQl1bnNpZ25lZCBpbnQgY2VjX2FkZHI7Ci0KLQkJY2VjX2FkZHIgPSByID49IDI1NiA/IGNlY19n
ZXRfZWRpZF9waHlzX2FkZHIoZWRpZCwgciwgTlVMTCkKLQkJCSA6IENFQ19QSFlTX0FERFJfSU5W
QUxJRDsKLQkJaGRtaTRfY2VjX3NldF9waHlzX2FkZHIoJmhkbWktPmNvcmUsIGNlY19hZGRyKTsK
KwkJY2VjX2FkZHIgPSBDRUNfUEhZU19BRERSX0lOVkFMSUQ7CiAJfQogCisJaGRtaTRfY2VjX3Nl
dF9waHlzX2FkZHIoJmhkbWktPmNvcmUsIGNlY19hZGRyKTsKKwogCWlmIChuZWVkX2VuYWJsZSkK
IAkJaGRtaTRfY29yZV9kaXNhYmxlKCZoZG1pLT5jb3JlKTsKIAotCXJldHVybiAoc3RydWN0IGVk
aWQgKillZGlkOworCXJldHVybiBlZGlkOwogfQogCiBzdGF0aWMgdm9pZCBoZG1pX2xvc3RfaG90
cGx1ZyhzdHJ1Y3Qgb21hcF9kc3NfZGV2aWNlICpkc3NkZXYpCmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vb21hcGRybS9kc3MvaGRtaTRfY29yZS5jIGIvZHJpdmVycy9ncHUvZHJtL29tYXBk
cm0vZHNzL2hkbWk0X2NvcmUuYwppbmRleCBlMzg0Yjk1YWQ4NTcuLmI1MTY5N2IyNWM3MCAxMDA2
NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vZHNzL2hkbWk0X2NvcmUuYworKysgYi9k
cml2ZXJzL2dwdS9kcm0vb21hcGRybS9kc3MvaGRtaTRfY29yZS5jCkBAIC00Myw3ICs0Myw3IEBA
IHN0YXRpYyBpbmxpbmUgdm9pZCBfX2lvbWVtICpoZG1pX2F2X2Jhc2Uoc3RydWN0IGhkbWlfY29y
ZV9kYXRhICpjb3JlKQogCXJldHVybiBjb3JlLT5iYXNlICsgSERNSV9DT1JFX0FWOwogfQogCi1z
dGF0aWMgaW50IGhkbWlfY29yZV9kZGNfaW5pdChzdHJ1Y3QgaGRtaV9jb3JlX2RhdGEgKmNvcmUp
CitpbnQgaGRtaTRfY29yZV9kZGNfaW5pdChzdHJ1Y3QgaGRtaV9jb3JlX2RhdGEgKmNvcmUpCiB7
CiAJdm9pZCBfX2lvbWVtICpiYXNlID0gY29yZS0+YmFzZTsKIApAQCAtODUsMTMgKzg1LDExIEBA
IHN0YXRpYyBpbnQgaGRtaV9jb3JlX2RkY19pbml0KHN0cnVjdCBoZG1pX2NvcmVfZGF0YSAqY29y
ZSkKIAlyZXR1cm4gMDsKIH0KIAotc3RhdGljIGludCBoZG1pX2NvcmVfZGRjX2VkaWQoc3RydWN0
IGhkbWlfY29yZV9kYXRhICpjb3JlLAotCQl1OCAqcGVkaWQsIGludCBleHQpCitpbnQgaGRtaTRf
Y29yZV9kZGNfcmVhZCh2b2lkICpkYXRhLCB1OCAqYnVmLCB1bnNpZ25lZCBpbnQgYmxvY2ssIHNp
emVfdCBsZW4pCiB7CisJc3RydWN0IGhkbWlfY29yZV9kYXRhICpjb3JlID0gZGF0YTsKIAl2b2lk
IF9faW9tZW0gKmJhc2UgPSBjb3JlLT5iYXNlOwogCXUzMiBpOwotCWNoYXIgY2hlY2tzdW07Ci0J
dTMyIG9mZnNldCA9IDA7CiAKIAkvKiBIRE1JX0NPUkVfRERDX1NUQVRVU19JTl9QUk9HICovCiAJ
aWYgKGhkbWlfd2FpdF9mb3JfYml0X2NoYW5nZShiYXNlLCBIRE1JX0NPUkVfRERDX1NUQVRVUywK
QEAgLTEwMCwyNCArOTgsMjEgQEAgc3RhdGljIGludCBoZG1pX2NvcmVfZGRjX2VkaWQoc3RydWN0
IGhkbWlfY29yZV9kYXRhICpjb3JlLAogCQlyZXR1cm4gLUVUSU1FRE9VVDsKIAl9CiAKLQlpZiAo
ZXh0ICUgMiAhPSAwKQotCQlvZmZzZXQgPSAweDgwOwotCiAJLyogTG9hZCBTZWdtZW50IEFkZHJl
c3MgUmVnaXN0ZXIgKi8KLQlSRUdfRkxEX01PRChiYXNlLCBIRE1JX0NPUkVfRERDX1NFR00sIGV4
dCAvIDIsIDcsIDApOworCVJFR19GTERfTU9EKGJhc2UsIEhETUlfQ09SRV9ERENfU0VHTSwgYmxv
Y2sgLyAyLCA3LCAwKTsKIAogCS8qIExvYWQgU2xhdmUgQWRkcmVzcyBSZWdpc3RlciAqLwogCVJF
R19GTERfTU9EKGJhc2UsIEhETUlfQ09SRV9ERENfQUREUiwgMHhBMCA+PiAxLCA3LCAxKTsKIAog
CS8qIExvYWQgT2Zmc2V0IEFkZHJlc3MgUmVnaXN0ZXIgKi8KLQlSRUdfRkxEX01PRChiYXNlLCBI
RE1JX0NPUkVfRERDX09GRlNFVCwgb2Zmc2V0LCA3LCAwKTsKKwlSRUdfRkxEX01PRChiYXNlLCBI
RE1JX0NPUkVfRERDX09GRlNFVCwgYmxvY2sgJSAyID8gMHg4MCA6IDAsIDcsIDApOwogCiAJLyog
TG9hZCBCeXRlIENvdW50ICovCi0JUkVHX0ZMRF9NT0QoYmFzZSwgSERNSV9DT1JFX0REQ19DT1VO
VDEsIDB4ODAsIDcsIDApOworCVJFR19GTERfTU9EKGJhc2UsIEhETUlfQ09SRV9ERENfQ09VTlQx
LCBsZW4sIDcsIDApOwogCVJFR19GTERfTU9EKGJhc2UsIEhETUlfQ09SRV9ERENfQ09VTlQyLCAw
eDAsIDEsIDApOwogCiAJLyogU2V0IEREQ19DTUQgKi8KLQlpZiAoZXh0KQorCWlmIChibG9jaykK
IAkJUkVHX0ZMRF9NT0QoYmFzZSwgSERNSV9DT1JFX0REQ19DTUQsIDB4NCwgMywgMCk7CiAJZWxz
ZQogCQlSRUdfRkxEX01PRChiYXNlLCBIRE1JX0NPUkVfRERDX0NNRCwgMHgyLCAzLCAwKTsKQEAg
LTEzMyw3ICsxMjgsNyBAQCBzdGF0aWMgaW50IGhkbWlfY29yZV9kZGNfZWRpZChzdHJ1Y3QgaGRt
aV9jb3JlX2RhdGEgKmNvcmUsCiAJCXJldHVybiAtRUlPOwogCX0KIAotCWZvciAoaSA9IDA7IGkg
PCAweDgwOyArK2kpIHsKKwlmb3IgKGkgPSAwOyBpIDwgbGVuOyArK2kpIHsKIAkJaW50IHQ7CiAK
IAkJLyogSU5fUFJPRyAqLwpAQCAtMTUyLDQ4ICsxNDcsMTIgQEAgc3RhdGljIGludCBoZG1pX2Nv
cmVfZGRjX2VkaWQoc3RydWN0IGhkbWlfY29yZV9kYXRhICpjb3JlLAogCQkJdWRlbGF5KDEpOwog
CQl9CiAKLQkJcGVkaWRbaV0gPSBSRUdfR0VUKGJhc2UsIEhETUlfQ09SRV9ERENfREFUQSwgNywg
MCk7Ci0JfQotCi0JY2hlY2tzdW0gPSAwOwotCWZvciAoaSA9IDA7IGkgPCAweDgwOyArK2kpCi0J
CWNoZWNrc3VtICs9IHBlZGlkW2ldOwotCi0JaWYgKGNoZWNrc3VtICE9IDApIHsKLQkJRFNTRVJS
KCJFLUVESUQgY2hlY2tzdW0gZmFpbGVkISFcbiIpOwotCQlyZXR1cm4gLUVJTzsKKwkJYnVmW2ld
ID0gUkVHX0dFVChiYXNlLCBIRE1JX0NPUkVfRERDX0RBVEEsIDcsIDApOwogCX0KIAogCXJldHVy
biAwOwogfQogCi1pbnQgaGRtaTRfcmVhZF9lZGlkKHN0cnVjdCBoZG1pX2NvcmVfZGF0YSAqY29y
ZSwgdTggKmVkaWQsIGludCBsZW4pCi17Ci0JaW50IHIsIGw7Ci0KLQlpZiAobGVuIDwgMTI4KQot
CQlyZXR1cm4gLUVJTlZBTDsKLQotCXIgPSBoZG1pX2NvcmVfZGRjX2luaXQoY29yZSk7Ci0JaWYg
KHIpCi0JCXJldHVybiByOwotCi0JciA9IGhkbWlfY29yZV9kZGNfZWRpZChjb3JlLCBlZGlkLCAw
KTsKLQlpZiAocikKLQkJcmV0dXJuIHI7Ci0KLQlsID0gMTI4OwotCi0JaWYgKGxlbiA+PSAxMjgg
KiAyICYmIGVkaWRbMHg3ZV0gPiAwKSB7Ci0JCXIgPSBoZG1pX2NvcmVfZGRjX2VkaWQoY29yZSwg
ZWRpZCArIDB4ODAsIDEpOwotCQlpZiAocikKLQkJCXJldHVybiByOwotCQlsICs9IDEyODsKLQl9
Ci0KLQlyZXR1cm4gbDsKLX0KLQogc3RhdGljIHZvaWQgaGRtaV9jb3JlX2luaXQoc3RydWN0IGhk
bWlfY29yZV92aWRlb19jb25maWcgKnZpZGVvX2NmZykKIHsKIAlEU1NEQkcoIkVudGVyIGhkbWlf
Y29yZV9pbml0XG4iKTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL2Rzcy9o
ZG1pNF9jb3JlLmggYi9kcml2ZXJzL2dwdS9kcm0vb21hcGRybS9kc3MvaGRtaTRfY29yZS5oCmlu
ZGV4IDMzN2EzMTdjMWEyNy4uM2EwOWY4ZTJlMTQzIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vb21hcGRybS9kc3MvaGRtaTRfY29yZS5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJt
L2Rzcy9oZG1pNF9jb3JlLmgKQEAgLTI2MCw3ICsyNjAsOSBAQCBzdHJ1Y3QgaGRtaV9jb3JlX3Bh
Y2tldF9lbmFibGVfcmVwZWF0IHsKIAl1MzIJZ2VuZXJpY19wa3RfcmVwZWF0OwogfTsKIAotaW50
IGhkbWk0X3JlYWRfZWRpZChzdHJ1Y3QgaGRtaV9jb3JlX2RhdGEgKmNvcmUsIHU4ICplZGlkLCBp
bnQgbGVuKTsKK2ludCBoZG1pNF9jb3JlX2RkY19pbml0KHN0cnVjdCBoZG1pX2NvcmVfZGF0YSAq
Y29yZSk7CitpbnQgaGRtaTRfY29yZV9kZGNfcmVhZCh2b2lkICpkYXRhLCB1OCAqYnVmLCB1bnNp
Z25lZCBpbnQgYmxvY2ssIHNpemVfdCBsZW4pOworCiB2b2lkIGhkbWk0X2NvbmZpZ3VyZShzdHJ1
Y3QgaGRtaV9jb3JlX2RhdGEgKmNvcmUsIHN0cnVjdCBoZG1pX3dwX2RhdGEgKndwLAogCQlzdHJ1
Y3QgaGRtaV9jb25maWcgKmNmZyk7CiB2b2lkIGhkbWk0X2NvcmVfZHVtcChzdHJ1Y3QgaGRtaV9j
b3JlX2RhdGEgKmNvcmUsIHN0cnVjdCBzZXFfZmlsZSAqcyk7Ci0tIApSZWdhcmRzLAoKTGF1cmVu
dCBQaW5jaGFydAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
Cmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
