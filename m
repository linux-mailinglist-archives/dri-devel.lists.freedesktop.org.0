Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 35F6F10F978
	for <lists+dri-devel@lfdr.de>; Tue,  3 Dec 2019 09:05:57 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B200D6E41A;
	Tue,  3 Dec 2019 08:05:29 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from onstation.org (onstation.org [52.200.56.107])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 339646E36F;
 Tue,  3 Dec 2019 01:40:08 +0000 (UTC)
Received: from localhost (c-98-239-145-235.hsd1.wv.comcast.net
 [98.239.145.235])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
 (No client certificate requested) (Authenticated sender: masneyb)
 by onstation.org (Postfix) with ESMTPSA id 0E9DD3E908;
 Tue,  3 Dec 2019 01:40:07 +0000 (UTC)
Date: Mon, 2 Dec 2019 20:40:06 -0500
From: Brian Masney <masneyb@onstation.org>
To: Jeffrey Hugo <jeffrey.l.hugo@gmail.com>
Subject: Re: [PATCH] drm/msm/mdp5: enable autocommit
Message-ID: <20191203014006.GA7756@onstation.org>
References: <20191112104854.20850-1-masneyb@onstation.org>
 <CAOCk7NosRhRp3vZxg2Nx8106PQ0ryo5b68cUv605XUzCm6gYPA@mail.gmail.com>
 <20191113112334.GA18702@onstation.org>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20191113112334.GA18702@onstation.org>
X-Mailman-Approved-At: Tue, 03 Dec 2019 08:05:18 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=onstation.org; s=default; t=1575337207;
 bh=EW7ZDM5c2n54mYfG5qzAbt/1sak+DzvY68J3v0XZe1A=;
 h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
 b=rp3il1LtXJzLhm2jL8NJ9MGPG2MBzaYmNAMXeExez1VZtDp8BHzI5nZR5ZXZYKebc
 e761s2+MYD4aV0QZOGCWj0mXOVcfSOj6t83goKxrthzbasH6DZDJJ2i9cCXPYzS3UI
 tisRG8JZsrzeFygCr/soNbu3M5SEwXyrbh36tLM4=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Rob Clark <robdclark@chromium.org>, MSM <linux-arm-msm@vger.kernel.org>,
 lkml <linux-kernel@vger.kernel.org>,
 "open list:DRM PANEL DRIVERS" <dri-devel@lists.freedesktop.org>,
 Sean Paul <sean@poorly.run>, freedreno <freedreno@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgSmVmZnJleSwKCk9uIFdlZCwgTm92IDEzLCAyMDE5IGF0IDA2OjIzOjM0QU0gLTA1MDAsIEJy
aWFuIE1hc25leSB3cm90ZToKPiBPbiBUdWUsIE5vdiAxMiwgMjAxOSBhdCAwODozODoyN0FNIC0w
NzAwLCBKZWZmcmV5IEh1Z28gd3JvdGU6Cj4gPiBPbiBUdWUsIE5vdiAxMiwgMjAxOSBhdCAzOjQ5
IEFNIEJyaWFuIE1hc25leSA8bWFzbmV5YkBvbnN0YXRpb24ub3JnPiB3cm90ZToKPiA+ID4KPiA+
ID4gU2luY2UgdGhlIGludHJvZHVjdGlvbiBvZiBjb21taXQgMmQ5OWNlZDc4N2UzICgiZHJtL21z
bTogYXN5bmMgY29tbWl0Cj4gPiA+IHN1cHBvcnQiKSwgY29tbWFuZC1tb2RlIHBhbmVscyBiZWdh
biB0aHJvd2luZyB0aGUgZm9sbG93aW5nIGVycm9yczoKPiA+ID4KPiA+ID4gICAgIG1zbSBmZDkw
MDAwMC5tZHNzOiBwcCBkb25lIHRpbWUgb3V0LCBsbT0wCj4gPiA+Cj4gPiA+IExldCdzIGZpeCB0
aGlzIGJ5IGVuYWJsaW5nIHRoZSBhdXRvcmVmcmVzaCBmZWF0dXJlIHRoYXQncyBhdmFpbGFibGUg
aW4KPiA+ID4gdGhlIE1EUCBzdGFydGluZyBhdCB2ZXJzaW9uIDEuMC4gVGhpcyB3aWxsIGNhdXNl
IHRoZSBNRFAgdG8KPiA+ID4gYXV0b21hdGljYWxseSBzZW5kIGEgZnJhbWUgdG8gdGhlIHBhbmVs
IGV2ZXJ5IHRpbWUgdGhlIHBhbmVsIGludm9rZXMKPiA+ID4gdGhlIFRFIHNpZ25hbCwgd2hpY2gg
d2lsbCB0cmlnZ2VyIHRoZSBQUF9ET05FIElSUS4gVGhpcyByZXF1aXJlcyBub3QKPiA+ID4gc2Vu
ZGluZyBhIFNUQVJUIHNpZ25hbCBmb3IgY29tbWFuZC1tb2RlIHBhbmVscy4KPiA+ID4KPiA+ID4g
VGhpcyBmaXhlcyB0aGUgZXJyb3IgYW5kIGdpdmVzIHVzIGEgY291bnRlciBmb3IgY29tbWFuZC1t
b2RlIHBhbmVscyB0aGF0Cj4gPiA+IHdlIGNhbiB1c2UgdG8gaW1wbGVtZW50IGFzeW5jIGNvbW1p
dCBzdXBwb3J0IGZvciB0aGUgTURQNSBpbiBhIGZvbGxvdyB1cAo+ID4gPiBwYXRjaC4KPiA+ID4K
PiA+ID4gU2lnbmVkLW9mZi1ieTogQnJpYW4gTWFzbmV5IDxtYXNuZXliQG9uc3RhdGlvbi5vcmc+
Cj4gPiA+IFN1Z2dlc3RlZC1ieTogSmVmZnJleSBIdWdvIDxqZWZmcmV5LmwuaHVnb0BnbWFpbC5j
b20+Cj4gPiA+IC0tLQo+ID4gPiAgZHJpdmVycy9ncHUvZHJtL21zbS9kaXNwL21kcDUvbWRwNV9j
cnRjLmMgfCAxNSArKysrKysrKysrKysrKy0KPiA+ID4gIGRyaXZlcnMvZ3B1L2RybS9tc20vZGlz
cC9tZHA1L21kcDVfY3RsLmMgIHwgIDkgKy0tLS0tLS0tCj4gPiA+ICAyIGZpbGVzIGNoYW5nZWQs
IDE1IGluc2VydGlvbnMoKyksIDkgZGVsZXRpb25zKC0pCj4gPiA+Cj4gPiA+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vbXNtL2Rpc3AvbWRwNS9tZHA1X2NydGMuYyBiL2RyaXZlcnMvZ3B1
L2RybS9tc20vZGlzcC9tZHA1L21kcDVfY3J0Yy5jCj4gPiA+IGluZGV4IDA1Y2MwNGY3MjlkNi4u
NTM5MzQ4Y2I2MzMxIDEwMDY0NAo+ID4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vbXNtL2Rpc3Av
bWRwNS9tZHA1X2NydGMuYwo+ID4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vbXNtL2Rpc3AvbWRw
NS9tZHA1X2NydGMuYwo+ID4gPiBAQCAtNDU2LDYgKzQ1Niw3IEBAIHN0YXRpYyB2b2lkIG1kcDVf
Y3J0Y19hdG9taWNfZW5hYmxlKHN0cnVjdCBkcm1fY3J0YyAqY3J0YywKPiA+ID4gIHsKPiA+ID4g
ICAgICAgICBzdHJ1Y3QgbWRwNV9jcnRjICptZHA1X2NydGMgPSB0b19tZHA1X2NydGMoY3J0Yyk7
Cj4gPiA+ICAgICAgICAgc3RydWN0IG1kcDVfY3J0Y19zdGF0ZSAqbWRwNV9jc3RhdGUgPSB0b19t
ZHA1X2NydGNfc3RhdGUoY3J0Yy0+c3RhdGUpOwo+ID4gPiArICAgICAgIHN0cnVjdCBtZHA1X3Bp
cGVsaW5lICpwaXBlbGluZSA9ICZtZHA1X2NzdGF0ZS0+cGlwZWxpbmU7Cj4gPiA+ICAgICAgICAg
c3RydWN0IG1kcDVfa21zICptZHA1X2ttcyA9IGdldF9rbXMoY3J0Yyk7Cj4gPiA+ICAgICAgICAg
c3RydWN0IGRldmljZSAqZGV2ID0gJm1kcDVfa21zLT5wZGV2LT5kZXY7Cj4gPiA+Cj4gPiA+IEBA
IC00OTMsOSArNDk0LDIxIEBAIHN0YXRpYyB2b2lkIG1kcDVfY3J0Y19hdG9taWNfZW5hYmxlKHN0
cnVjdCBkcm1fY3J0YyAqY3J0YywKPiA+ID4KPiA+ID4gICAgICAgICBtZHBfaXJxX3JlZ2lzdGVy
KCZtZHA1X2ttcy0+YmFzZSwgJm1kcDVfY3J0Yy0+ZXJyKTsKPiA+ID4KPiA+ID4gLSAgICAgICBp
ZiAobWRwNV9jc3RhdGUtPmNtZF9tb2RlKQo+ID4gPiArICAgICAgIGlmIChtZHA1X2NzdGF0ZS0+
Y21kX21vZGUpIHsKPiA+ID4gICAgICAgICAgICAgICAgIG1kcF9pcnFfcmVnaXN0ZXIoJm1kcDVf
a21zLT5iYXNlLCAmbWRwNV9jcnRjLT5wcF9kb25lKTsKPiA+ID4KPiA+ID4gKyAgICAgICAgICAg
ICAgIC8qCj4gPiA+ICsgICAgICAgICAgICAgICAgKiBFbmFibGUgYXV0b3JlZnJlc2ggc28gd2Ug
Z2V0IHJlZ3VsYXIgcGluZy9wb25nIElSUXMuCj4gPiA+ICsgICAgICAgICAgICAgICAgKiAtIEJp
dCAzMSBpcyB0aGUgZW5hYmxlIGJpdAo+ID4gPiArICAgICAgICAgICAgICAgICogLSBCaXRzIDAt
MTUgcmVwcmVzZW50IHRoZSBmcmFtZSBjb3VudCwgc3BlY2lmaWNhbGx5IGhvdyBtYW55Cj4gPiA+
ICsgICAgICAgICAgICAgICAgKiAgIFRFIGV2ZW50cyBiZWZvcmUgdGhlIE1EUCBzZW5kcyBhIGZy
YW1lLgo+ID4gPiArICAgICAgICAgICAgICAgICovCj4gPiA+ICsgICAgICAgICAgICAgICBtZHA1
X3dyaXRlKG1kcDVfa21zLAo+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICBSRUdfTURQ
NV9QUF9BVVRPUkVGUkVTSF9DT05GSUcocGlwZWxpbmUtPm1peGVyLT5wcCksCj4gPiA+ICsgICAg
ICAgICAgICAgICAgICAgICAgICAgIEJJVCgzMSkgfCBCSVQoMCkpOwo+ID4gPiArICAgICAgICAg
ICAgICAgY3J0Y19mbHVzaF9hbGwoY3J0Yyk7Cj4gPiA+ICsgICAgICAgfQo+ID4gPiArCj4gPiA+
ICAgICAgICAgbWRwNV9jcnRjLT5lbmFibGVkID0gdHJ1ZTsKPiA+ID4gIH0KPiA+ID4KPiA+ID4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tc20vZGlzcC9tZHA1L21kcDVfY3RsLmMgYi9k
cml2ZXJzL2dwdS9kcm0vbXNtL2Rpc3AvbWRwNS9tZHA1X2N0bC5jCj4gPiA+IGluZGV4IDAzMDI3
OWQ3YjY0Yi4uYWVlMjk1YWJhZGEzIDEwMDY0NAo+ID4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
bXNtL2Rpc3AvbWRwNS9tZHA1X2N0bC5jCj4gPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9tc20v
ZGlzcC9tZHA1L21kcDVfY3RsLmMKPiA+ID4gQEAgLTE4NywxNCArMTg3LDcgQEAgc3RhdGljIGJv
b2wgc3RhcnRfc2lnbmFsX25lZWRlZChzdHJ1Y3QgbWRwNV9jdGwgKmN0bCwKPiA+ID4gICAgICAg
ICBpZiAoIWN0bC0+ZW5jb2Rlcl9lbmFibGVkKQo+ID4gPiAgICAgICAgICAgICAgICAgcmV0dXJu
IGZhbHNlOwo+ID4gPgo+ID4gPiAtICAgICAgIHN3aXRjaCAoaW50Zi0+dHlwZSkgewo+ID4gPiAt
ICAgICAgIGNhc2UgSU5URl9XQjoKPiA+ID4gLSAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwo+
ID4gPiAtICAgICAgIGNhc2UgSU5URl9EU0k6Cj4gPiA+IC0gICAgICAgICAgICAgICByZXR1cm4g
aW50Zi0+bW9kZSA9PSBNRFA1X0lOVEZfRFNJX01PREVfQ09NTUFORDsKPiA+ID4gLSAgICAgICBk
ZWZhdWx0Ogo+ID4gPiAtICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwo+ID4gPiAtICAgICAg
IH0KPiA+ID4gKyAgICAgICByZXR1cm4gaW50Zi0+dHlwZSA9PSBJTlRGX1dCOwo+ID4gPiAgfQo+
ID4gCj4gPiBJIGRvbid0IHRoaW5rIHRoaXMgZnVsbHkgd29ya3MuCj4gPiAKPiA+IFRoZSB3aG9s
ZSAiZmx1c2giIHRoaW5nIGV4aXN0cyBiZWNhdXNlIHRoZSBjb25maWd1cmF0aW9uIGlzIGRvdWJs
ZQo+ID4gYnVmZmVyZWQuICBZb3Ugd3JpdGUgdG8gdGhlIGZsdXNoIHJlZ2lzdGVyIHRvIHRlbGwg
dGhlIGhhcmR3YXJlIHRvCj4gPiBwaWNrdXAgdGhlIG5ldyBjb25maWd1cmF0aW9uLCBidXQgaXQg
ZG9lc24ndCBkbyB0aGF0IGF1dG9tYXRpY2FsbHkuCj4gPiBJdCBvbmx5IHBpY2tzIHVwIHRoZSBu
ZXcgY29uZmlnIG9uIHRoZSBuZXh0ICJ2c3luYyIuICBXaGVuIHlvdSBoYXZlIGEKPiA+IHZpZGVv
IG1vZGUgcGFuZWwsIHlvdSBoYXZlIHRoZSB0aW1pbmcgZW5naW5lIHJ1bm5pbmcsIHdoaWNoIGRy
aXZlcwo+ID4gdGhhdC4gIFdpdGggYSBjb21tYW5kIG1vZGUgcGFuZWwsIHlvdSBoYXZlIGVpdGhl
ciB0aGUgc3RhcnQgc2lnbmFsLCBvcgo+ID4gdGhlIGF1dG8gcmVmcmVzaCB0byBkbyB0aGUgc2Ft
ZSwgYnV0IHlvdSBoYXZlIGEgYml0IG9mIGEgY2hpY2tlbiBhbmQKPiA+IGVnZyBzaXR1YXRpb24g
d2hlcmUgaWYgeW91IGFyZSBwcm9ncmFtbWluZyB0aGUgaGFyZHdhcmUgZnJvbSBzY3JhdGNoLAo+
ID4gYXV0b3JlZnJlc2ggaXNuJ3QgYWxyZWFkeSBlbmFibGVkIHRvIHRoZW4gcGlja3VwIHRoZSBj
b25maWcgdG8gZW5hYmxlCj4gPiBhdXRvcmVmcmVzaC4gSW4gdGhpcyBjYXNlLCB5b3UnbGwgbmVl
ZCBhIHNpbmdsZSBzdGFydCB0byBraWNrCj4gPiBldmVyeXRoaW5nIG9mZi4gIEhvd2V2ZXIsIGlm
IHNheSB0aGUgYm9vdGxvYWRlciBhbHJlYWR5IGNvbmZpZ3VyZWQKPiA+IHRoaW5ncyBhbmQgaGFz
IGF1dG9yZWZyZXNoIHJ1bm5pbmcsIHRoZW4geW91IG5lZWQgdG8gbm90IGRvIHRoYXQgc3RhcnQK
PiA+IGJlY2F1c2UgeW91J2xsIG92ZXJsb2FkIHRoZSBEU0kgbGlrZSB5b3Ugc2F3Lgo+IAo+IEFz
IHBhcnQgb2YgbXkgdGVzdGluZyBmb3IgdGhpcyB3b3JrLCBJIGFkZGVkIGEgbG9nIHN0YXRlbWVu
dCB0bwo+IG1kcDVfY3J0Y19wcF9kb25lX2lycSgpIGFuZCBpdCBzaG93cyB0aGF0IGEgUFBfSVJR
IGNvbWVzIGluIGNvbnNpc3RlbnRseQo+IGV2ZXJ5IH4wLjAxNjYgc2Vjb25kcywgd2hpY2ggaXMg
YWJvdXQgNjAgSFouIFdpdGhvdXQgdGhpcyBjaGFuZ2UsIHBsdXMKPiB0aGUgMyBjb21taXRzIEkg
bWVudGlvbmVkIGluIGFuIGVhcmxpZXIgZW1haWwgcmVsYXRlZCB0byB0aGUgYXN5bmMKPiBjb21t
aXQgc3VwcG9ydCwgdGhlIFBQIElSUXMgY29tZSBpbiBhdCBhIHZhcmlldHkgb2YgdGltZXM6IGJl
dHdlZW4gZXZlcnkKPiB+MC4wMTQwIGFuZCB+MC4yMjI0IHNlY29uZHMuIFRoYXQncyB3aHkgSSBh
c3N1bWVkIHRoYXQgdGhpcyB3YXMgd29ya2luZy4KPiAKPiBJZiBJIGNhbGwgc2VuZF9zdGFydF9z
aWduYWwoKSBpbnNpZGUgbWRwNV9jcnRjX2F0b21pY19lbmFibGUoKSwgdGhlbiB0aGUKPiBkaXNw
bGF5IGRvZXMgbm90IHdvcmsgcHJvcGVybHkuCgpJJ2QgbGlrZSB0byBnZXQgdGhlICdwcCBkb25l
IHRpbWUgb3V0JyBlcnJvcnMgdGhhdCBhcmUgbm93IG9jY3VycmluZwp1cHN0cmVhbSBmb3IgY29t
bWFuZC1tb2RlIHBhbmVscyBmaXhlZC4gQXMgSSBtZW50aW9uZWQgYWJvdmUsIHRoaXMgcGF0Y2gK
Zml4ZXMgdGhlIHByb2JsZW0gb24gdGhlIE5leHVzIDUgYW5kIHRoZSBwcCBkb25lIGludGVycnVw
dHMgYXJlCmRlbGl2ZXJlZCBhdCBhcHByb3hpbWF0ZWx5IDYwIEhaLiBJIGRvbid0IGhhdmUgYW55
IG90aGVyIGNvbW1hbmQtbW9kZQpwYW5lbHMgdG8gdGVzdC4KCkknbSBub3Qgc3VyZSBob3cgdG8g
cHJvY2VlZCBoZXJlIHNpbmNlIHNlbmRpbmcgdGhlIHN0YXJ0IGNvbW1hbmQgYnJlYWtzCnRoZSBk
aXNwbGF5LiBJJ20gbGlrZWx5IHB1dHRpbmcgdGhhdCBjb21tYW5kIGluIHRoZSB3cm9uZyBzcG90
LgoKQnJpYW4KX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18K
ZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0
dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
