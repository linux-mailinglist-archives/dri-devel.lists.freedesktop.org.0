Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id EEA81615F4
	for <lists+dri-devel@lfdr.de>; Sun,  7 Jul 2019 20:31:33 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C61C389B70;
	Sun,  7 Jul 2019 18:31:31 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from perceval.ideasonboard.com (perceval.ideasonboard.com
 [213.167.242.64])
 by gabe.freedesktop.org (Postfix) with ESMTPS id CB7B389B70
 for <dri-devel@lists.freedesktop.org>; Sun,  7 Jul 2019 18:31:29 +0000 (UTC)
Received: from pendragon.nordic-sky.finnair.com (unknown [38.98.37.142])
 by perceval.ideasonboard.com (Postfix) with ESMTPSA id 0840E334;
 Sun,  7 Jul 2019 20:31:11 +0200 (CEST)
From: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH 31/60] drm/omap: Add infrastructure to support drm_bridge
 local to DSS outputs
Date: Sun,  7 Jul 2019 21:19:08 +0300
Message-Id: <20190707181937.6250-28-laurent.pinchart@ideasonboard.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190707181937.6250-1-laurent.pinchart@ideasonboard.com>
References: <20190707180852.5512-1-laurent.pinchart@ideasonboard.com>
 <20190707181937.6250-1-laurent.pinchart@ideasonboard.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=ideasonboard.com; s=mail; t=1562524288;
 bh=yADYuoN84lNBQG0QKp8EeGPzXymTrP9KLIXvUpxzJQ4=;
 h=From:To:Cc:Subject:Date:In-Reply-To:References:From;
 b=XVgt5Cd5U8Bdr/DZ5ibhcakpCY+5ijhd/qdLE0vpSJKJ3Djpdf0cjWEvujQNgxcsu
 MdvEXbncHBLF1LVIBvblLl53APxgNjtqAyEzcrzBS9OGoYQ2Nt70eeaYgNENs6tupe
 3jDls2Qb4W3vxN7d0FsmAaULxItf+Oppnr98odLM=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Maxime Ripard <maxime.ripard@bootlin.com>,
 Sebastian Reichel <sebastian.reichel@collabora.com>,
 Tomi Valkeinen <tomi.valkeinen@ti.com>, Sean Paul <sean@poorly.run>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SW4gb3JkZXIgdG8gc3VwcG9ydCBkcm1fYnJpZGdlLWJhc2VkIHBpcGVsaW5lLCB0aGUgaW50ZXJu
YWwgSERNSQplbmNvZGVycyB3aWxsIG5lZWQgdG8gZXhwb3NlIHRoZSBFRElEIHJlYWQgb3BlcmF0
aW9uIHRocm91Z2ggdGhlCmRybV9icmlkZ2UgQVBJLCBhbmQgdGh1cyB0byBleHBvc2UgYSBkcm1f
YnJpZGdlIGluc3RhbmNlIGNvcnJlc3BvbmRpbmcKdG8gdGhlIGVuY29kZXIuIFRoZSBIRE1JIGVu
Y29kZXJzIGFyZSBob3dldmVyIGhhbmRsZWQgYXMgb21hcF9kc3NfZGV2aWNlCmluc3RhbmNlcywg
d2hpY2ggY29uZmxpY3RzIHdpdGggdGhpcyByZXF1aXJlbWVudC4KCkluIG9yZGVyIHRvIG1vdmUg
Zm9yd2FyZCB3aXRoIHRoZSBkcm1fYnJpZGdlIHRyYW5zaXRpb24sIGFkZCBzdXBwb3J0IGZvcgpj
cmVhdGluZyBkcm1fYnJpZGdlIGluc3RhbmNlcyBsb2NhbCB0byBEU1Mgb3V0cHV0cy4gSWYgYSBs
b2NhbCBicmlkZ2UgaXMKcGFzc2VkIHRvIHRoZSBvbWFwZHNzX2RldmljZV9pbml0X291dHB1dCgp
IGZ1bmN0aW9uLCBpdCBpcyB1c2VkIGFzIHRoZQpmaXJzdCBicmlkZ2UgaW4gdGhlIGNoYWluLCBh
bmQgdGhlIG9tYXBfZHNzX2RldmljZS5uZXh0X2JyaWRnZSBmaWVsZCBpcwpzZXQgdG8gdGhlIG5l
eHQgYnJpZGdlIGZvciB0aGUgdXNlIG9mIHRoZSBpbnRlcm5hbCBlbmNvZGVycycgYnJpZGdlcy4K
ClNpZ25lZC1vZmYtYnk6IExhdXJlbnQgUGluY2hhcnQgPGxhdXJlbnQucGluY2hhcnRAaWRlYXNv
bmJvYXJkLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vb21hcGRybS9kc3MvZHBpLmMgICAgIHwg
IDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL2Rzcy9kc2kuYyAgICAgfCAgMiArLQogZHJp
dmVycy9ncHUvZHJtL29tYXBkcm0vZHNzL2hkbWk0LmMgICB8ICAyICstCiBkcml2ZXJzL2dwdS9k
cm0vb21hcGRybS9kc3MvaGRtaTUuYyAgIHwgIDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9vbWFwZHJt
L2Rzcy9vbWFwZHNzLmggfCAgNCArKystCiBkcml2ZXJzL2dwdS9kcm0vb21hcGRybS9kc3Mvb3V0
cHV0LmMgIHwgMjAgKysrKysrKysrKysrKysrKy0tLS0KIGRyaXZlcnMvZ3B1L2RybS9vbWFwZHJt
L2Rzcy9zZGkuYyAgICAgfCAgMiArLQogZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vZHNzL3ZlbmMu
YyAgICB8ICAyICstCiBkcml2ZXJzL2dwdS9kcm0vb21hcGRybS9vbWFwX2Rydi5jICAgIHwgIDIg
Ky0KIDkgZmlsZXMgY2hhbmdlZCwgMjYgaW5zZXJ0aW9ucygrKSwgMTIgZGVsZXRpb25zKC0pCgpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vZHNzL2RwaS5jIGIvZHJpdmVycy9n
cHUvZHJtL29tYXBkcm0vZHNzL2RwaS5jCmluZGV4IGMyOGI4NGZiMTFmMC4uZTFmOTRhODRjOWJk
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vb21hcGRybS9kc3MvZHBpLmMKKysrIGIvZHJp
dmVycy9ncHUvZHJtL29tYXBkcm0vZHNzL2RwaS5jCkBAIC02NDAsNyArNjQwLDcgQEAgc3RhdGlj
IGludCBkcGlfaW5pdF9vdXRwdXRfcG9ydChzdHJ1Y3QgZHBpX2RhdGEgKmRwaSwgc3RydWN0IGRl
dmljZV9ub2RlICpwb3J0KQogCW91dC0+b3BzID0gJmRwaV9vcHM7CiAJb3V0LT5vd25lciA9IFRI
SVNfTU9EVUxFOwogCi0JciA9IG9tYXBkc3NfZGV2aWNlX2luaXRfb3V0cHV0KG91dCk7CisJciA9
IG9tYXBkc3NfZGV2aWNlX2luaXRfb3V0cHV0KG91dCwgTlVMTCk7CiAJaWYgKHIgPCAwKQogCQly
ZXR1cm4gcjsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vZHNzL2RzaS5j
IGIvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vZHNzL2RzaS5jCmluZGV4IGM1OTA0OTM1YTUxOS4u
MmIwMjQ2NjZhMmZkIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vb21hcGRybS9kc3MvZHNp
LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vZHNzL2RzaS5jCkBAIC01MTMzLDcgKzUx
MzMsNyBAQCBzdGF0aWMgaW50IGRzaV9pbml0X291dHB1dChzdHJ1Y3QgZHNpX2RhdGEgKmRzaSkK
IAkJICAgICAgIHwgRFJNX0JVU19GTEFHX0RFX0hJR0gKIAkJICAgICAgIHwgRFJNX0JVU19GTEFH
X1NZTkNfRFJJVkVfTkVHRURHRTsKIAotCXIgPSBvbWFwZHNzX2RldmljZV9pbml0X291dHB1dChv
dXQpOworCXIgPSBvbWFwZHNzX2RldmljZV9pbml0X291dHB1dChvdXQsIE5VTEwpOwogCWlmIChy
IDwgMCkKIAkJcmV0dXJuIHI7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJt
L2Rzcy9oZG1pNC5jIGIvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vZHNzL2hkbWk0LmMKaW5kZXgg
YjQyOTY3N2I0N2NkLi4wYTBiZGE3ZjY4NmYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9v
bWFwZHJtL2Rzcy9oZG1pNC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL2Rzcy9oZG1p
NC5jCkBAIC02ODcsNyArNjg3LDcgQEAgc3RhdGljIGludCBoZG1pNF9pbml0X291dHB1dChzdHJ1
Y3Qgb21hcF9oZG1pICpoZG1pKQogCW91dC0+b2ZfcG9ydCA9IDA7CiAJb3V0LT5vcHNfZmxhZ3Mg
PSBPTUFQX0RTU19ERVZJQ0VfT1BfRURJRDsKIAotCXIgPSBvbWFwZHNzX2RldmljZV9pbml0X291
dHB1dChvdXQpOworCXIgPSBvbWFwZHNzX2RldmljZV9pbml0X291dHB1dChvdXQsIE5VTEwpOwog
CWlmIChyIDwgMCkKIAkJcmV0dXJuIHI7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9v
bWFwZHJtL2Rzcy9oZG1pNS5jIGIvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vZHNzL2hkbWk1LmMK
aW5kZXggOTIzNTI3M2EwZmYzLi4wN2U2ZDgzNDc2ODkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9vbWFwZHJtL2Rzcy9oZG1pNS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL2Rz
cy9oZG1pNS5jCkBAIC02NzEsNyArNjcxLDcgQEAgc3RhdGljIGludCBoZG1pNV9pbml0X291dHB1
dChzdHJ1Y3Qgb21hcF9oZG1pICpoZG1pKQogCW91dC0+b2ZfcG9ydCA9IDA7CiAJb3V0LT5vcHNf
ZmxhZ3MgPSBPTUFQX0RTU19ERVZJQ0VfT1BfRURJRDsKIAotCXIgPSBvbWFwZHNzX2RldmljZV9p
bml0X291dHB1dChvdXQpOworCXIgPSBvbWFwZHNzX2RldmljZV9pbml0X291dHB1dChvdXQsIE5V
TEwpOwogCWlmIChyIDwgMCkKIAkJcmV0dXJuIHI7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9vbWFwZHJtL2Rzcy9vbWFwZHNzLmggYi9kcml2ZXJzL2dwdS9kcm0vb21hcGRybS9kc3Mv
b21hcGRzcy5oCmluZGV4IDViZjZlMGRhNmNkNS4uOGNjMDhhMzI5MGRlIDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vb21hcGRybS9kc3Mvb21hcGRzcy5oCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9vbWFwZHJtL2Rzcy9vbWFwZHNzLmgKQEAgLTQxMSw2ICs0MTEsNyBAQCBzdHJ1Y3Qgb21hcF9k
c3NfZGV2aWNlIHsKIAlzdHJ1Y3QgZHNzX2RldmljZSAqZHNzOwogCXN0cnVjdCBvbWFwX2Rzc19k
ZXZpY2UgKm5leHQ7CiAJc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZTsKKwlzdHJ1Y3QgZHJtX2Jy
aWRnZSAqbmV4dF9icmlkZ2U7CiAJc3RydWN0IGRybV9wYW5lbCAqcGFuZWw7CiAKIAlzdHJ1Y3Qg
bGlzdF9oZWFkIGxpc3Q7CkBAIC00OTksNyArNTAwLDggQEAgaW50IG9tYXBfZHNzX2dldF9udW1f
b3ZlcmxheXModm9pZCk7CiAjZGVmaW5lIGZvcl9lYWNoX2Rzc19vdXRwdXQoZCkgXAogCXdoaWxl
ICgoZCA9IG9tYXBkc3NfZGV2aWNlX25leHRfb3V0cHV0KGQpKSAhPSBOVUxMKQogc3RydWN0IG9t
YXBfZHNzX2RldmljZSAqb21hcGRzc19kZXZpY2VfbmV4dF9vdXRwdXQoc3RydWN0IG9tYXBfZHNz
X2RldmljZSAqZnJvbSk7Ci1pbnQgb21hcGRzc19kZXZpY2VfaW5pdF9vdXRwdXQoc3RydWN0IG9t
YXBfZHNzX2RldmljZSAqb3V0KTsKK2ludCBvbWFwZHNzX2RldmljZV9pbml0X291dHB1dChzdHJ1
Y3Qgb21hcF9kc3NfZGV2aWNlICpvdXQsCisJCQkgICAgICAgc3RydWN0IGRybV9icmlkZ2UgKmxv
Y2FsX2JyaWRnZSk7CiB2b2lkIG9tYXBkc3NfZGV2aWNlX2NsZWFudXBfb3V0cHV0KHN0cnVjdCBv
bWFwX2Rzc19kZXZpY2UgKm91dCk7CiAKIHR5cGVkZWYgdm9pZCAoKm9tYXBfZGlzcGNfaXNyX3Qp
ICh2b2lkICphcmcsIHUzMiBtYXNrKTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9vbWFw
ZHJtL2Rzcy9vdXRwdXQuYyBiL2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL2Rzcy9vdXRwdXQuYwpp
bmRleCA3MGNjYjEwYzExZTkuLjcxNjkzZDFhYmVhOCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL29tYXBkcm0vZHNzL291dHB1dC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL2Rz
cy9vdXRwdXQuYwpAQCAtMjcsNyArMjcsOCBAQAogI2luY2x1ZGUgImRzcy5oIgogI2luY2x1ZGUg
Im9tYXBkc3MuaCIKIAotaW50IG9tYXBkc3NfZGV2aWNlX2luaXRfb3V0cHV0KHN0cnVjdCBvbWFw
X2Rzc19kZXZpY2UgKm91dCkKK2ludCBvbWFwZHNzX2RldmljZV9pbml0X291dHB1dChzdHJ1Y3Qg
b21hcF9kc3NfZGV2aWNlICpvdXQsCisJCQkgICAgICAgc3RydWN0IGRybV9icmlkZ2UgKmxvY2Fs
X2JyaWRnZSkKIHsKIAlzdHJ1Y3QgZGV2aWNlX25vZGUgKnJlbW90ZV9ub2RlOwogCWludCByZXQ7
CkBAIC03MCwxMCArNzEsMjAgQEAgaW50IG9tYXBkc3NfZGV2aWNlX2luaXRfb3V0cHV0KHN0cnVj
dCBvbWFwX2Rzc19kZXZpY2UgKm91dCkKIAkJb3V0LT5icmlkZ2UgPSBicmlkZ2U7CiAJfQogCi0J
cmV0dXJuIG91dC0+bmV4dCB8fCBvdXQtPmJyaWRnZSA/IDAgOiAtRVBST0JFX0RFRkVSOworCWlm
IChsb2NhbF9icmlkZ2UpIHsKKwkJb3V0LT5uZXh0X2JyaWRnZSA9IG91dC0+YnJpZGdlOworCQlv
dXQtPmJyaWRnZSA9IGxvY2FsX2JyaWRnZTsKKwl9CisKKwlpZiAoIW91dC0+bmV4dCAmJiAhb3V0
LT5icmlkZ2UpIHsKKwkJcmV0ID0gLUVQUk9CRV9ERUZFUjsKKwkJZ290byBlcnJvcjsKKwl9CisK
KwlyZXR1cm4gMDsKIAogZXJyb3I6Ci0Jb21hcGRzc19kZXZpY2VfcHV0KG91dC0+bmV4dCk7CisJ
b21hcGRzc19kZXZpY2VfY2xlYW51cF9vdXRwdXQob3V0KTsKIAlvdXQtPm5leHQgPSBOVUxMOwog
CXJldHVybiByZXQ7CiB9CkBAIC04Miw3ICs5Myw4IEBAIEVYUE9SVF9TWU1CT0wob21hcGRzc19k
ZXZpY2VfaW5pdF9vdXRwdXQpOwogdm9pZCBvbWFwZHNzX2RldmljZV9jbGVhbnVwX291dHB1dChz
dHJ1Y3Qgb21hcF9kc3NfZGV2aWNlICpvdXQpCiB7CiAJaWYgKG91dC0+YnJpZGdlICYmIG91dC0+
cGFuZWwpCi0JCWRybV9wYW5lbF9icmlkZ2VfcmVtb3ZlKG91dC0+YnJpZGdlKTsKKwkJZHJtX3Bh
bmVsX2JyaWRnZV9yZW1vdmUob3V0LT5uZXh0X2JyaWRnZSA/CisJCQkJCW91dC0+bmV4dF9icmlk
Z2UgOiBvdXQtPmJyaWRnZSk7CiAKIAlpZiAob3V0LT5uZXh0KQogCQlvbWFwZHNzX2RldmljZV9w
dXQob3V0LT5uZXh0KTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL2Rzcy9z
ZGkuYyBiL2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL2Rzcy9zZGkuYwppbmRleCBhYTg0MWNiNDYx
ZTkuLjJjNWVhYWM5MTkzZiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vZHNz
L3NkaS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL2Rzcy9zZGkuYwpAQCAtMjgyLDcg
KzI4Miw3IEBAIHN0YXRpYyBpbnQgc2RpX2luaXRfb3V0cHV0KHN0cnVjdCBzZGlfZGV2aWNlICpz
ZGkpCiAJb3V0LT5idXNfZmxhZ3MgPSBEUk1fQlVTX0ZMQUdfUElYREFUQV9EUklWRV9QT1NFREdF
CS8qIDE1LjUuOS4xLjIgKi8KIAkJICAgICAgIHwgRFJNX0JVU19GTEFHX1NZTkNfRFJJVkVfUE9T
RURHRTsKIAotCXIgPSBvbWFwZHNzX2RldmljZV9pbml0X291dHB1dChvdXQpOworCXIgPSBvbWFw
ZHNzX2RldmljZV9pbml0X291dHB1dChvdXQsIE5VTEwpOwogCWlmIChyIDwgMCkKIAkJcmV0dXJu
IHI7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL2Rzcy92ZW5jLmMgYi9k
cml2ZXJzL2dwdS9kcm0vb21hcGRybS9kc3MvdmVuYy5jCmluZGV4IGZmNzEyOGE0N2JlZi4uMGE4
MWRkNWM5M2Q2IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vb21hcGRybS9kc3MvdmVuYy5j
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL2Rzcy92ZW5jLmMKQEAgLTc2OCw3ICs3Njgs
NyBAQCBzdGF0aWMgaW50IHZlbmNfaW5pdF9vdXRwdXQoc3RydWN0IHZlbmNfZGV2aWNlICp2ZW5j
KQogCW91dC0+b2ZfcG9ydCA9IDA7CiAJb3V0LT5vcHNfZmxhZ3MgPSBPTUFQX0RTU19ERVZJQ0Vf
T1BfTU9ERVM7CiAKLQlyID0gb21hcGRzc19kZXZpY2VfaW5pdF9vdXRwdXQob3V0KTsKKwlyID0g
b21hcGRzc19kZXZpY2VfaW5pdF9vdXRwdXQob3V0LCBOVUxMKTsKIAlpZiAociA8IDApCiAJCXJl
dHVybiByOwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vb21hcGRybS9vbWFwX2Rydi5j
IGIvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vb21hcF9kcnYuYwppbmRleCBiNjE1ZWNlZjc3MTku
Ljc5MGEyYjVhMTU5MSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vb21hcF9k
cnYuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vb21hcGRybS9vbWFwX2Rydi5jCkBAIC0zMjksNyAr
MzI5LDcgQEAgc3RhdGljIGludCBvbWFwX21vZGVzZXRfaW5pdChzdHJ1Y3QgZHJtX2RldmljZSAq
ZGV2KQogCQlzdHJ1Y3QgZHJtX2VuY29kZXIgKmVuY29kZXIgPSBwaXBlLT5lbmNvZGVyOwogCQlz
dHJ1Y3QgZHJtX2NydGMgKmNydGM7CiAKLQkJaWYgKCFwaXBlLT5vdXRwdXQtPmJyaWRnZSkgewor
CQlpZiAocGlwZS0+b3V0cHV0LT5uZXh0KSB7CiAJCQlwaXBlLT5jb25uZWN0b3IgPSBvbWFwX2Nv
bm5lY3Rvcl9pbml0KGRldiwgcGlwZS0+b3V0cHV0LAogCQkJCQkJCSAgICAgIGVuY29kZXIpOwog
CQkJaWYgKCFwaXBlLT5jb25uZWN0b3IpCi0tIApSZWdhcmRzLAoKTGF1cmVudCBQaW5jaGFydAoK
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVs
IG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlz
dHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
