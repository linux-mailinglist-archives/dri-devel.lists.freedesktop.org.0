Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 9328AB354A
	for <lists+dri-devel@lfdr.de>; Mon, 16 Sep 2019 09:12:13 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 09D006E12A;
	Mon, 16 Sep 2019 07:12:10 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga07.intel.com (mga07.intel.com [134.134.136.100])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0F6116E126;
 Mon, 16 Sep 2019 07:12:07 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga004.jf.intel.com ([10.7.209.38])
 by orsmga105.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 16 Sep 2019 00:12:06 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,510,1559545200"; d="scan'208";a="337565264"
Received: from helsinki.fi.intel.com ([10.237.66.162])
 by orsmga004.jf.intel.com with ESMTP; 16 Sep 2019 00:12:04 -0700
From: Gwan-gyeong Mun <gwan-gyeong.mun@intel.com>
To: intel-gfx@lists.freedesktop.org
Subject: [PATCH v8 3/7] drm: Add DisplayPort colorspace property
Date: Mon, 16 Sep 2019 10:11:46 +0300
Message-Id: <20190916071150.9309-4-gwan-gyeong.mun@intel.com>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20190916071150.9309-1-gwan-gyeong.mun@intel.com>
References: <20190916071150.9309-1-gwan-gyeong.mun@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: dri-devel@lists.freedesktop.org, uma.shankar@intel.com,
 jani.saarinen@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QmVjYXVzZSBiZXR3ZWVuIEhETUkgYW5kIERQIGhhdmUgZGlmZmVyZW50IGNvbG9yc3BhY2VzLCBp
dCByZW5hbWVzCmRybV9tb2RlX2NyZWF0ZV9jb2xvcnNwYWNlX3Byb3BlcnR5KCkgZnVuY3Rpb24g
dG8KZHJtX21vZGVfY3JlYXRlX2hkbWlfY29sb3JzcGFjZV9wcm9wZXJ0eSgpIGZ1bmN0aW9uIGZv
ciBIRE1JIGNvbm5lY3Rvci4KQW5kIGl0IGFkZHMgZHJtX21vZGVfY3JlYXRlX2RwX2NvbG9yc3Bh
Y2VfcHJvcGVydHkoKSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcKb2YgRFAgY29sb3JzcGFjZSBwcm9w
ZXJ0eS4KSW4gb3JkZXIgdG8gYXBwbHkgY2hhbmdlZCBhbmQgYWRkZWQgZHJtIGFwaSwgaTkxNSBk
cml2ZXIgaGFzIGNoYW5uZ2VkLgoKdjM6IEFkZHJlc3NlZCByZXZpZXcgY29tbWVudHMgZnJvbSBW
aWxsZQogICAgLSBBZGQgbmV3IGNvbG9yaW1ldHJ5IG9wdGlvbnMgZm9yIERQIDEuNGEgc3BlYy4K
ICAgIC0gU2VwYXJhdGUgc2V0IG9mIGNvbG9yaW1ldHJ5IGVudW0gdmFsdWVzIGZvciBEUC4KdjQ6
IEFkZCBhZGRpdGlvbmFsIGNvbW1lbnRzIHRvIHN0cnVjdCBkcm1fcHJvcF9lbnVtX2xpc3QuCiAg
ICBQb2xpc2hpbmcgYW4gZW51bSBzdHJpbmcgb2Ygc3RydWN0IGRybV9wcm9wX2VudW1fbGlzdAp2
NTogQ2hhbmdlIGRlZmluaXRpb25zIG9mIERSTV9NT0RFX0NPTE9SSU1FVFJZcyB0byBmb2xsb3cg
SERNSSBwcmVmaXggYW5kCiAgICBEUCBhYmJyZXZpYXRpb25zLgogICAgQWRkIG1pc3NlZCB2YXJp
YWJsZXMgb24gZHBfY29sb3JzcGFjZXMuCiAgICBGaXggdHlwby4gW1VtYV0KdjY6IEFkZHJlc3Nl
ZCByZXZpZXcgY29tbWVudHMgZnJvbSBJbGlhIGFuZCBWaWxsZQogICAtIFNwbGl0IGRybV9tb2Rl
X2NyZWF0ZV9jb2xvcnNwYWNlX3Byb3BlcnR5KCkgdG8gRFAgYW5kIEhETUkgY29ubmVjdG9yLgp2
NzogRml4IHR5cG8gW0phbmkgU2FhcmluZW5dCiAgICBGaXggd2hpdGUgc3BhY2UuCnY4OiBBZGRy
ZXNzZWQgcmV2aWV3IGNvbW1lbnRzIGZyb20gVmlsbGUKICAgLSBEcm9wIGNvbG9yaW1ldHJpZXMg
d2hpY2ggaGF2ZSBhbm90aGVyIHdheSB0byBkaXN0aW5ndWlzaCBvciB3aGljaAogICAgIHdvdWxk
IG5vdCBiZSB1c2VkLgoKU2lnbmVkLW9mZi1ieTogR3dhbi1neWVvbmcgTXVuIDxnd2FuLWd5ZW9u
Zy5tdW5AaW50ZWwuY29tPgpSZXZpZXdlZC1ieTogVW1hIFNoYW5rYXIgPHVtYS5zaGFua2FyQGlu
dGVsLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vZHJtX2Nvbm5lY3Rvci5jICAgICAgICAgICAg
ICAgfCAxMDEgKysrKysrKysrKysrKysrLS0tCiAuLi4vZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfY29ubmVjdG9yLmMgICAgfCAgMjEgKysrLQogaW5jbHVkZS9kcm0vZHJtX2Nvbm5lY3Rvci5o
ICAgICAgICAgICAgICAgICAgIHwgICA3ICstCiAzIGZpbGVzIGNoYW5nZWQsIDEwOCBpbnNlcnRp
b25zKCspLCAyMSBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vZHJt
X2Nvbm5lY3Rvci5jIGIvZHJpdmVycy9ncHUvZHJtL2RybV9jb25uZWN0b3IuYwppbmRleCA0Yzc2
NjYyNGIyMGQuLjU3Yzk3OTQ5MDgxYSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2RybV9j
b25uZWN0b3IuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2Nvbm5lY3Rvci5jCkBAIC04ODIs
NiArODgyLDM4IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX3Byb3BfZW51bV9saXN0IGhkbWlf
Y29sb3JzcGFjZXNbXSA9IHsKIAl7IERSTV9NT0RFX0NPTE9SSU1FVFJZX0RDSV9QM19SR0JfVEhF
QVRFUiwgIkRDSS1QM19SR0JfVGhlYXRlciIgfSwKIH07CiAKKy8qCisgKiBBcyBwZXIgRFAgMS40
YSBzcGVjLCAyLjIuNS43LjUgVlNDIFNEUCBQYXlsb2FkIGZvciBQaXhlbCBFbmNvZGluZy9Db2xv
cmltZXRyeQorICogRm9ybWF0IFRhYmxlIDItMTIwCisgKi8KK3N0YXRpYyBjb25zdCBzdHJ1Y3Qg
ZHJtX3Byb3BfZW51bV9saXN0IGRwX2NvbG9yc3BhY2VzW10gPSB7CisJLyogRm9yIERlZmF1bHQg
Y2FzZSwgZHJpdmVyIHdpbGwgc2V0IHRoZSBjb2xvcnNwYWNlICovCisJeyBEUk1fTU9ERV9DT0xP
UklNRVRSWV9ERUZBVUxULCAiRGVmYXVsdCIgfSwKKwl7IERSTV9NT0RFX0NPTE9SSU1FVFJZX1JH
Ql9XSURFX0ZJWEVELCAiUkdCX1dpZGVfR2FtdXRfRml4ZWRfUG9pbnQiIH0sCisJLyogQ29sb3Jp
bWV0cnkgYmFzZWQgb24gc2NSR0IgKElFQyA2MTk2Ni0yLTIpICovCisJeyBEUk1fTU9ERV9DT0xP
UklNRVRSWV9SR0JfV0lERV9GTE9BVCwgIlJHQl9XaWRlX0dhbXV0X0Zsb2F0aW5nX1BvaW50IiB9
LAorCS8qIENvbG9yaW1ldHJ5IGJhc2VkIG9uIElFQyA2MTk2Ni0yLTUgKi8KKwl7IERSTV9NT0RF
X0NPTE9SSU1FVFJZX09QUkdCLCAib3BSR0IiIH0sCisJLyogQ29sb3JpbWV0cnkgYmFzZWQgb24g
U01QVEUgUlAgNDMxLTIgKi8KKwl7IERSTV9NT0RFX0NPTE9SSU1FVFJZX0RDSV9QM19SR0JfRDY1
LCAiRENJLVAzX1JHQl9ENjUiIH0sCisJLyogQ29sb3JpbWV0cnkgYmFzZWQgb24gSVRVLVIgQlQu
MjAyMCAqLworCXsgRFJNX01PREVfQ09MT1JJTUVUUllfQlQyMDIwX1JHQiwgIkJUMjAyMF9SR0Ii
IH0sCisJeyBEUk1fTU9ERV9DT0xPUklNRVRSWV9CVDYwMV9ZQ0MsICJCVDYwMV9ZQ0MiIH0sCisJ
eyBEUk1fTU9ERV9DT0xPUklNRVRSWV9CVDcwOV9ZQ0MsICJCVDcwOV9ZQ0MiIH0sCisJLyogU3Rh
bmRhcmQgRGVmaW5pdGlvbiBDb2xvcmltZXRyeSBiYXNlZCBvbiBJRUMgNjE5NjYtMi00ICovCisJ
eyBEUk1fTU9ERV9DT0xPUklNRVRSWV9YVllDQ182MDEsICJYVllDQ182MDEiIH0sCisJLyogSGln
aCBEZWZpbml0aW9uIENvbG9yaW1ldHJ5IGJhc2VkIG9uIElFQyA2MTk2Ni0yLTQgKi8KKwl7IERS
TV9NT0RFX0NPTE9SSU1FVFJZX1hWWUNDXzcwOSwgIlhWWUNDXzcwOSIgfSwKKwkvKiBDb2xvcmlt
ZXRyeSBiYXNlZCBvbiBJRUMgNjE5NjYtMi0xL0FtZW5kbWVudCAxICovCisJeyBEUk1fTU9ERV9D
T0xPUklNRVRSWV9TWUNDXzYwMSwgIlNZQ0NfNjAxIiB9LAorCS8qIENvbG9yaW1ldHJ5IGJhc2Vk
IG9uIElFQyA2MTk2Ni0yLTUgWzMzXSAqLworCXsgRFJNX01PREVfQ09MT1JJTUVUUllfT1BZQ0Nf
NjAxLCAib3BZQ0NfNjAxIiB9LAorCS8qIENvbG9yaW1ldHJ5IGJhc2VkIG9uIElUVS1SIEJULjIw
MjAgKi8KKwl7IERSTV9NT0RFX0NPTE9SSU1FVFJZX0JUMjAyMF9DWUNDLCAiQlQyMDIwX0NZQ0Mi
IH0sCisJLyogQ29sb3JpbWV0cnkgYmFzZWQgb24gSVRVLVIgQlQuMjAyMCAqLworCXsgRFJNX01P
REVfQ09MT1JJTUVUUllfQlQyMDIwX1lDQywgIkJUMjAyMF9ZQ0MiIH0sCit9OworCiAvKioKICAq
IERPQzogc3RhbmRhcmQgY29ubmVjdG9yIHByb3BlcnRpZXMKICAqCkBAIC0xNjc0LDcgKzE3MDYs
NiBAQCBFWFBPUlRfU1lNQk9MKGRybV9tb2RlX2NyZWF0ZV9hc3BlY3RfcmF0aW9fcHJvcGVydHkp
OwogICogRE9DOiBzdGFuZGFyZCBjb25uZWN0b3IgcHJvcGVydGllcwogICoKICAqIENvbG9yc3Bh
Y2U6Ci0gKiAgICAgZHJtX21vZGVfY3JlYXRlX2NvbG9yc3BhY2VfcHJvcGVydHkgLSBjcmVhdGUg
Y29sb3JzcGFjZSBwcm9wZXJ0eQogICogICAgIFRoaXMgcHJvcGVydHkgaGVscHMgc2VsZWN0IGEg
c3VpdGFibGUgY29sb3JzcGFjZSBiYXNlZCBvbiB0aGUgc2luawogICogICAgIGNhcGFiaWxpdHku
IE1vZGVybiBzaW5rIGRldmljZXMgc3VwcG9ydCB3aWRlciBnYW11dCBsaWtlIEJUMjAyMC4KICAq
ICAgICBUaGlzIGhlbHBzIHN3aXRjaCB0byBCVDIwMjAgbW9kZSBpZiB0aGUgQlQyMDIwIGVuY29k
ZWQgdmlkZW8gc3RyZWFtCkBAIC0xNjk0LDMyICsxNzI1LDY4IEBAIEVYUE9SVF9TWU1CT0woZHJt
X21vZGVfY3JlYXRlX2FzcGVjdF9yYXRpb19wcm9wZXJ0eSk7CiAgKiAgICAgIC0gVGhpcyBwcm9w
ZXJ0eSBpcyBqdXN0IHRvIGluZm9ybSBzaW5rIHdoYXQgY29sb3JzcGFjZQogICogICAgICAgIHNv
dXJjZSBpcyB0cnlpbmcgdG8gZHJpdmUuCiAgKgorICogQmVjYXVzZSBiZXR3ZWVuIEhETUkgYW5k
IERQIGhhdmUgZGlmZmVyZW50IGNvbG9yc3BhY2VzLAorICogZHJtX21vZGVfY3JlYXRlX2hkbWlf
Y29sb3JzcGFjZV9wcm9wZXJ0eSgpIGlzIHVzZWQgZm9yIEhETUkgY29ubmVjdG9yIGFuZAorICog
ZHJtX21vZGVfY3JlYXRlX2RwX2NvbG9yc3BhY2VfcHJvcGVydHkoKSBpcyB1c2VkIGZvciBEUCBj
b25uZWN0b3IuCisgKi8KKworLyoqCisgKiBkcm1fbW9kZV9jcmVhdGVfaGRtaV9jb2xvcnNwYWNl
X3Byb3BlcnR5IC0gY3JlYXRlIGhkbWkgY29sb3JzcGFjZSBwcm9wZXJ0eQorICogQGNvbm5lY3Rv
cjogY29ubmVjdG9yIHRvIGNyZWF0ZSB0aGUgQ29sb3JzcGFjZSBwcm9wZXJ0eSBvbi4KKyAqCiAg
KiBDYWxsZWQgYnkgYSBkcml2ZXIgdGhlIGZpcnN0IHRpbWUgaXQncyBuZWVkZWQsIG11c3QgYmUg
YXR0YWNoZWQgdG8gZGVzaXJlZAotICogY29ubmVjdG9ycy4KKyAqIEhETUkgY29ubmVjdG9ycy4K
KyAqCisgKiBSZXR1cm5zOgorICogWmVybyBvbiBzdWNjZXNzLCBuZWdhdGl2ZSBlcnJvbm8gb24g
ZmFpbHVyZS4KICAqLwotaW50IGRybV9tb2RlX2NyZWF0ZV9jb2xvcnNwYWNlX3Byb3BlcnR5KHN0
cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCitpbnQgZHJtX21vZGVfY3JlYXRlX2hkbWlf
Y29sb3JzcGFjZV9wcm9wZXJ0eShzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogewog
CXN0cnVjdCBkcm1fZGV2aWNlICpkZXYgPSBjb25uZWN0b3ItPmRldjsKLQlzdHJ1Y3QgZHJtX3By
b3BlcnR5ICpwcm9wOwogCi0JaWYgKGNvbm5lY3Rvci0+Y29ubmVjdG9yX3R5cGUgPT0gRFJNX01P
REVfQ09OTkVDVE9SX0hETUlBIHx8Ci0JICAgIGNvbm5lY3Rvci0+Y29ubmVjdG9yX3R5cGUgPT0g
RFJNX01PREVfQ09OTkVDVE9SX0hETUlCKSB7Ci0JCXByb3AgPSBkcm1fcHJvcGVydHlfY3JlYXRl
X2VudW0oZGV2LCBEUk1fTU9ERV9QUk9QX0VOVU0sCi0JCQkJCQkiQ29sb3JzcGFjZSIsCi0JCQkJ
CQloZG1pX2NvbG9yc3BhY2VzLAotCQkJCQkJQVJSQVlfU0laRShoZG1pX2NvbG9yc3BhY2VzKSk7
Ci0JCWlmICghcHJvcCkKLQkJCXJldHVybiAtRU5PTUVNOwotCX0gZWxzZSB7Ci0JCURSTV9ERUJV
R19LTVMoIkNvbG9yc3BhY2UgcHJvcGVydHkgbm90IHN1cHBvcnRlZFxuIik7CisJaWYgKGNvbm5l
Y3Rvci0+Y29sb3JzcGFjZV9wcm9wZXJ0eSkKIAkJcmV0dXJuIDA7Ci0JfQogCi0JY29ubmVjdG9y
LT5jb2xvcnNwYWNlX3Byb3BlcnR5ID0gcHJvcDsKKwljb25uZWN0b3ItPmNvbG9yc3BhY2VfcHJv
cGVydHkgPQorCQlkcm1fcHJvcGVydHlfY3JlYXRlX2VudW0oZGV2LCBEUk1fTU9ERV9QUk9QX0VO
VU0sICJDb2xvcnNwYWNlIiwKKwkJCQkJIGhkbWlfY29sb3JzcGFjZXMsCisJCQkJCSBBUlJBWV9T
SVpFKGhkbWlfY29sb3JzcGFjZXMpKTsKKworCWlmICghY29ubmVjdG9yLT5jb2xvcnNwYWNlX3By
b3BlcnR5KQorCQlyZXR1cm4gLUVOT01FTTsKKworCXJldHVybiAwOworfQorRVhQT1JUX1NZTUJP
TChkcm1fbW9kZV9jcmVhdGVfaGRtaV9jb2xvcnNwYWNlX3Byb3BlcnR5KTsKKworLyoqCisgKiBk
cm1fbW9kZV9jcmVhdGVfZHBfY29sb3JzcGFjZV9wcm9wZXJ0eSAtIGNyZWF0ZSBkcCBjb2xvcnNw
YWNlIHByb3BlcnR5CisgKiBAY29ubmVjdG9yOiBjb25uZWN0b3IgdG8gY3JlYXRlIHRoZSBDb2xv
cnNwYWNlIHByb3BlcnR5IG9uLgorICoKKyAqIENhbGxlZCBieSBhIGRyaXZlciB0aGUgZmlyc3Qg
dGltZSBpdCdzIG5lZWRlZCwgbXVzdCBiZSBhdHRhY2hlZCB0byBkZXNpcmVkCisgKiBEUCBjb25u
ZWN0b3JzLgorICoKKyAqIFJldHVybnM6CisgKiBaZXJvIG9uIHN1Y2Nlc3MsIG5lZ2F0aXZlIGVy
cm9ubyBvbiBmYWlsdXJlLgorICovCitpbnQgZHJtX21vZGVfY3JlYXRlX2RwX2NvbG9yc3BhY2Vf
cHJvcGVydHkoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvcikKK3sKKwlzdHJ1Y3QgZHJt
X2RldmljZSAqZGV2ID0gY29ubmVjdG9yLT5kZXY7CisKKwlpZiAoY29ubmVjdG9yLT5jb2xvcnNw
YWNlX3Byb3BlcnR5KQorCQlyZXR1cm4gMDsKKworCWNvbm5lY3Rvci0+Y29sb3JzcGFjZV9wcm9w
ZXJ0eSA9CisJCWRybV9wcm9wZXJ0eV9jcmVhdGVfZW51bShkZXYsIERSTV9NT0RFX1BST1BfRU5V
TSwgIkNvbG9yc3BhY2UiLAorCQkJCQkgZHBfY29sb3JzcGFjZXMsCisJCQkJCSBBUlJBWV9TSVpF
KGRwX2NvbG9yc3BhY2VzKSk7CisKKwlpZiAoIWNvbm5lY3Rvci0+Y29sb3JzcGFjZV9wcm9wZXJ0
eSkKKwkJcmV0dXJuIC1FTk9NRU07CiAKIAlyZXR1cm4gMDsKIH0KLUVYUE9SVF9TWU1CT0woZHJt
X21vZGVfY3JlYXRlX2NvbG9yc3BhY2VfcHJvcGVydHkpOworRVhQT1JUX1NZTUJPTChkcm1fbW9k
ZV9jcmVhdGVfZHBfY29sb3JzcGFjZV9wcm9wZXJ0eSk7CiAKIC8qKgogICogZHJtX21vZGVfY3Jl
YXRlX2NvbnRlbnRfdHlwZV9wcm9wZXJ0eSAtIGNyZWF0ZSBjb250ZW50IHR5cGUgcHJvcGVydHkK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfY29ubmVjdG9y
LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Nvbm5lY3Rvci5jCmluZGV4
IDMwOGVjNjMyMDdlZS4uMTEzM2M0ZTk3YmI0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2Nvbm5lY3Rvci5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfY29ubmVjdG9yLmMKQEAgLTI3Nyw3ICsyNzcsMjIgQEAgaW50ZWxfYXR0
YWNoX2FzcGVjdF9yYXRpb19wcm9wZXJ0eShzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9y
KQogdm9pZAogaW50ZWxfYXR0YWNoX2NvbG9yc3BhY2VfcHJvcGVydHkoc3RydWN0IGRybV9jb25u
ZWN0b3IgKmNvbm5lY3RvcikKIHsKLQlpZiAoIWRybV9tb2RlX2NyZWF0ZV9jb2xvcnNwYWNlX3By
b3BlcnR5KGNvbm5lY3RvcikpCi0JCWRybV9vYmplY3RfYXR0YWNoX3Byb3BlcnR5KCZjb25uZWN0
b3ItPmJhc2UsCi0JCQkJCSAgIGNvbm5lY3Rvci0+Y29sb3JzcGFjZV9wcm9wZXJ0eSwgMCk7CisJ
c3dpdGNoIChjb25uZWN0b3ItPmNvbm5lY3Rvcl90eXBlKSB7CisJY2FzZSBEUk1fTU9ERV9DT05O
RUNUT1JfSERNSUE6CisJY2FzZSBEUk1fTU9ERV9DT05ORUNUT1JfSERNSUI6CisJCWlmIChkcm1f
bW9kZV9jcmVhdGVfaGRtaV9jb2xvcnNwYWNlX3Byb3BlcnR5KGNvbm5lY3RvcikpCisJCQlyZXR1
cm47CisJCWJyZWFrOworCWNhc2UgRFJNX01PREVfQ09OTkVDVE9SX0Rpc3BsYXlQb3J0OgorCWNh
c2UgRFJNX01PREVfQ09OTkVDVE9SX2VEUDoKKwkJaWYgKGRybV9tb2RlX2NyZWF0ZV9kcF9jb2xv
cnNwYWNlX3Byb3BlcnR5KGNvbm5lY3RvcikpCisJCQlyZXR1cm47CisJCWJyZWFrOworCWRlZmF1
bHQ6CisJCURSTV9ERUJVR19LTVMoIkNvbG9yc3BhY2UgcHJvcGVydHkgbm90IHN1cHBvcnRlZFxu
Iik7CisJCXJldHVybjsKKwl9CisKKwlkcm1fb2JqZWN0X2F0dGFjaF9wcm9wZXJ0eSgmY29ubmVj
dG9yLT5iYXNlLAorCQkJCSAgIGNvbm5lY3Rvci0+Y29sb3JzcGFjZV9wcm9wZXJ0eSwgMCk7CiB9
CmRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS9kcm1fY29ubmVjdG9yLmggYi9pbmNsdWRlL2RybS9k
cm1fY29ubmVjdG9yLmgKaW5kZXggNjgxY2I1OTBmOTUyLi40NzU5NTlkZGIzODggMTAwNjQ0Ci0t
LSBhL2luY2x1ZGUvZHJtL2RybV9jb25uZWN0b3IuaAorKysgYi9pbmNsdWRlL2RybS9kcm1fY29u
bmVjdG9yLmgKQEAgLTI4MSw2ICsyODEsMTAgQEAgZW51bSBkcm1fcGFuZWxfb3JpZW50YXRpb24g
ewogLyogQWRkaXRpb25hbCBDb2xvcmltZXRyeSBleHRlbnNpb24gYWRkZWQgYXMgcGFydCBvZiBD
VEEgODYxLkcgKi8KICNkZWZpbmUgRFJNX01PREVfQ09MT1JJTUVUUllfRENJX1AzX1JHQl9ENjUJ
CTExCiAjZGVmaW5lIERSTV9NT0RFX0NPTE9SSU1FVFJZX0RDSV9QM19SR0JfVEhFQVRFUgkJMTIK
Ky8qIEFkZGl0aW9uYWwgQ29sb3JpbWV0cnkgT3B0aW9ucyBhZGRlZCBmb3IgRFAgMS40YSBWU0Mg
Q29sb3JpbWV0cnkgRm9ybWF0ICovCisjZGVmaW5lIERSTV9NT0RFX0NPTE9SSU1FVFJZX1JHQl9X
SURFX0ZJWEVECQkxMworI2RlZmluZSBEUk1fTU9ERV9DT0xPUklNRVRSWV9SR0JfV0lERV9GTE9B
VAkJMTQKKyNkZWZpbmUgRFJNX01PREVfQ09MT1JJTUVUUllfQlQ2MDFfWUNDCQkJMTUKIAogLyoq
CiAgKiBlbnVtIGRybV9idXNfZmxhZ3MgLSBidXNfZmxhZ3MgaW5mbyBmb3IgJmRybV9kaXNwbGF5
X2luZm8KQEAgLTE1MjMsNyArMTUyNyw4IEBAIGludCBkcm1fY29ubmVjdG9yX2F0dGFjaF9zY2Fs
aW5nX21vZGVfcHJvcGVydHkoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciwKIGludCBk
cm1fY29ubmVjdG9yX2F0dGFjaF92cnJfY2FwYWJsZV9wcm9wZXJ0eSgKIAkJc3RydWN0IGRybV9j
b25uZWN0b3IgKmNvbm5lY3Rvcik7CiBpbnQgZHJtX21vZGVfY3JlYXRlX2FzcGVjdF9yYXRpb19w
cm9wZXJ0eShzdHJ1Y3QgZHJtX2RldmljZSAqZGV2KTsKLWludCBkcm1fbW9kZV9jcmVhdGVfY29s
b3JzcGFjZV9wcm9wZXJ0eShzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKTsKK2ludCBk
cm1fbW9kZV9jcmVhdGVfaGRtaV9jb2xvcnNwYWNlX3Byb3BlcnR5KHN0cnVjdCBkcm1fY29ubmVj
dG9yICpjb25uZWN0b3IpOworaW50IGRybV9tb2RlX2NyZWF0ZV9kcF9jb2xvcnNwYWNlX3Byb3Bl
cnR5KHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpOwogaW50IGRybV9tb2RlX2NyZWF0
ZV9jb250ZW50X3R5cGVfcHJvcGVydHkoc3RydWN0IGRybV9kZXZpY2UgKmRldik7CiB2b2lkIGRy
bV9oZG1pX2F2aV9pbmZvZnJhbWVfY29udGVudF90eXBlKHN0cnVjdCBoZG1pX2F2aV9pbmZvZnJh
bWUgKmZyYW1lLAogCQkJCQkgY29uc3Qgc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKmNvbm5f
c3RhdGUpOwotLSAKMi4yMy4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVz
a3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9k
cmktZGV2ZWw=
