Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id F2544150959
	for <lists+dri-devel@lfdr.de>; Mon,  3 Feb 2020 16:14:09 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 853A96EC2D;
	Mon,  3 Feb 2020 15:14:07 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga07.intel.com (mga07.intel.com [134.134.136.100])
 by gabe.freedesktop.org (Postfix) with ESMTPS id DAC2E6EC2C;
 Mon,  3 Feb 2020 15:14:05 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga001.fm.intel.com ([10.253.24.23])
 by orsmga105.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 03 Feb 2020 07:14:04 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.70,398,1574150400"; d="scan'208";a="337540275"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by fmsmga001.fm.intel.com with SMTP; 03 Feb 2020 07:14:02 -0800
Received: by stinkbox (sSMTP sendmail emulation);
 Mon, 03 Feb 2020 17:14:02 +0200
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH 06/26] drm/i915/lspcon: Do not send infoframes to non-HDMI
 sinks
Date: Mon,  3 Feb 2020 17:13:23 +0200
Message-Id: <20200203151343.14378-7-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.24.1
In-Reply-To: <20200203151343.14378-1-ville.syrjala@linux.intel.com>
References: <20200203151343.14378-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KCk5v
bi1IRE1JIHNpbmtzIHNob3VsZG4ndCBiZSBzZW50IGluZm9mcmFtZXMuIENoZWNrIGZvciB0aGF0
IHdoZW4KdXNpbmcgTFNQQ09OLgoKRklYTUU6IEhvdyBkbyB3ZSB0dXJuIG9mZiBpbmZvZnJhbWVz
IG9uY2UgZW5hYmxlZD8gRG8gd2UgZXZlbgogICAgICAgaGF2ZSB0bz8KClNpZ25lZC1vZmYtYnk6
IFZpbGxlIFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBsaW51eC5pbnRlbC5jb20+Ci0tLQogZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYyAgICAgICAgICAgfCAxMCArKysr
LS0tLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfdHlwZXMu
aCB8ICAxICsKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYyAgICAgICAg
ICAgIHwgIDcgKysrKysrLQogMyBmaWxlcyBjaGFuZ2VkLCAxMSBpbnNlcnRpb25zKCspLCA3IGRl
bGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfZGRpLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RkaS5jCmluZGV4
IGFhMDY2ZmI5ZWIwMC4uODE4YmVlNDkxOGZhIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2RkaS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3Bs
YXkvaW50ZWxfZGRpLmMKQEAgLTM2NTgsMTggKzM2NTgsMTYgQEAgc3RhdGljIHZvaWQgaW50ZWxf
ZGRpX3ByZV9lbmFibGUoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCiAJaWYgKGludGVs
X2NydGNfaGFzX3R5cGUoY3J0Y19zdGF0ZSwgSU5URUxfT1VUUFVUX0hETUkpKSB7CiAJCWludGVs
X2RkaV9wcmVfZW5hYmxlX2hkbWkoZW5jb2RlciwgY3J0Y19zdGF0ZSwgY29ubl9zdGF0ZSk7CiAJ
fSBlbHNlIHsKLQkJc3RydWN0IGludGVsX2xzcGNvbiAqbHNwY29uID0KLQkJCQllbmNfdG9faW50
ZWxfbHNwY29uKGVuY29kZXIpOworCQlzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICpkaWdfcG9y
dCA9IGVuY190b19kaWdfcG9ydChlbmNvZGVyKTsKIAogCQlpbnRlbF9kZGlfcHJlX2VuYWJsZV9k
cChlbmNvZGVyLCBjcnRjX3N0YXRlLCBjb25uX3N0YXRlKTsKLQkJaWYgKGxzcGNvbi0+YWN0aXZl
KSB7Ci0JCQlzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICpkaWdfcG9ydCA9Ci0JCQkJCWVuY190
b19kaWdfcG9ydChlbmNvZGVyKTsKIAorCQkvKiBGSVhNRSBwcmVjb21wdXRlIGV2ZXJ5dGhpbmcg
cHJvcGVybHkgKi8KKwkJLyogRklYTUUgaG93IGRvIHdlIHR1cm4gaW5mb2ZyYW1lcyBvZmYgYWdh
aW4/ICovCisJCWlmIChkaWdfcG9ydC0+bHNwY29uLmFjdGl2ZSAmJiBkaWdfcG9ydC0+ZHAuaGFz
X2hkbWlfc2luaykKIAkJCWRpZ19wb3J0LT5zZXRfaW5mb2ZyYW1lcyhlbmNvZGVyLAogCQkJCQkJ
IGNydGNfc3RhdGUtPmhhc19pbmZvZnJhbWUsCiAJCQkJCQkgY3J0Y19zdGF0ZSwgY29ubl9zdGF0
ZSk7Ci0JCX0KIAl9CiB9CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3Bs
YXkvaW50ZWxfZGlzcGxheV90eXBlcy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9kaXNwbGF5X3R5cGVzLmgKaW5kZXggN2M2MTMzYTljNTFiLi41Nzc0MjQwYzA5OTYgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV90eXBl
cy5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV90eXBl
cy5oCkBAIC0xMjA3LDYgKzEyMDcsNyBAQCBzdHJ1Y3QgaW50ZWxfZHAgewogCXU4IHNpbmtfY291
bnQ7CiAJYm9vbCBsaW5rX21zdDsKIAlib29sIGxpbmtfdHJhaW5lZDsKKwlib29sIGhhc19oZG1p
X3Npbms7CiAJYm9vbCBoYXNfYXVkaW87CiAJYm9vbCByZXNldF9saW5rX3BhcmFtczsKIAl1OCBk
cGNkW0RQX1JFQ0VJVkVSX0NBUF9TSVpFXTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfZHAuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfZHAuYwppbmRleCBmNGRlZGU2MjUzZjguLjE3ODZlNmU4ZmZlMyAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcC5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYwpAQCAtNTY2NCw3ICs1NjY0LDExIEBAIGludGVsX2Rw
X3NldF9lZGlkKHN0cnVjdCBpbnRlbF9kcCAqaW50ZWxfZHApCiAJZWRpZCA9IGludGVsX2RwX2dl
dF9lZGlkKGludGVsX2RwKTsKIAlpbnRlbF9jb25uZWN0b3ItPmRldGVjdF9lZGlkID0gZWRpZDsK
IAotCWludGVsX2RwLT5oYXNfYXVkaW8gPSBkcm1fZGV0ZWN0X21vbml0b3JfYXVkaW8oZWRpZCk7
CisJaWYgKGVkaWQgJiYgZWRpZC0+aW5wdXQgJiBEUk1fRURJRF9JTlBVVF9ESUdJVEFMKSB7CisJ
CWludGVsX2RwLT5oYXNfaGRtaV9zaW5rID0gZHJtX2RldGVjdF9oZG1pX21vbml0b3IoZWRpZCk7
CisJCWludGVsX2RwLT5oYXNfYXVkaW8gPSBkcm1fZGV0ZWN0X21vbml0b3JfYXVkaW8oZWRpZCk7
CisJfQorCiAJZHJtX2RwX2NlY19zZXRfZWRpZCgmaW50ZWxfZHAtPmF1eCwgZWRpZCk7CiB9CiAK
QEAgLTU2NzcsNiArNTY4MSw3IEBAIGludGVsX2RwX3Vuc2V0X2VkaWQoc3RydWN0IGludGVsX2Rw
ICppbnRlbF9kcCkKIAlrZnJlZShpbnRlbF9jb25uZWN0b3ItPmRldGVjdF9lZGlkKTsKIAlpbnRl
bF9jb25uZWN0b3ItPmRldGVjdF9lZGlkID0gTlVMTDsKIAorCWludGVsX2RwLT5oYXNfaGRtaV9z
aW5rID0gZmFsc2U7CiAJaW50ZWxfZHAtPmhhc19hdWRpbyA9IGZhbHNlOwogfQogCi0tIAoyLjI0
LjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1k
ZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczov
L2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbAo=
