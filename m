Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id AEA482FEC23
	for <lists+dri-devel@lfdr.de>; Thu, 21 Jan 2021 14:40:10 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 97A7B6E8EE;
	Thu, 21 Jan 2021 13:40:05 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-oi1-x230.google.com (mail-oi1-x230.google.com
 [IPv6:2607:f8b0:4864:20::230])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0ED666E8EE
 for <dri-devel@lists.freedesktop.org>; Thu, 21 Jan 2021 13:40:04 +0000 (UTC)
Received: by mail-oi1-x230.google.com with SMTP id h192so2153786oib.1
 for <dri-devel@lists.freedesktop.org>; Thu, 21 Jan 2021 05:40:04 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=ffwll.ch; s=google;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=rvZxJfDPXIGL4J+DPH6BYdmudpFN/tmqiU2Xw2f3yK4=;
 b=e7P1++lc/XzqVbsOGzzzVCGD3KLg05rkieqfetGPXQknTX5CDgURnQ8Kv+Eo+JWe7K
 1XnR8nkpJjlvB5cOhKIAW633yYSE5d7gNp4cxRpiOdL3KnF1Fy1pTMPs2CUK/hPWvNpJ
 iN71GSv7uK0BHAifSeIOHQDj/WlOI2+PDDKx4=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=rvZxJfDPXIGL4J+DPH6BYdmudpFN/tmqiU2Xw2f3yK4=;
 b=dUg/dXqJzoZgM8Kxfzufx9dr82EfaQ+drixuBT5lT5Nw/0on4UiLzgrSxjm984NpeU
 ZbqHflZZaOL+/+aJ0/frbhnIIK2F47Od2WOZIzsMjMb+2YsYpNM02JppWofaDDuI1DR+
 ikubCdY4xLLiSPPx+V+c6SY6X47hWRXc923GpNxQHwvP00tK0q0v0za3IxIlEIdAvKme
 EWmiey2c3v7tukXTLICwmaWf4OtB2XhZnd+bcul2iffpk6wZ716sMGW705WRKPw3B+D4
 9OgYo3Gmg1dHq73UieVykuxaSYDfDSktZpnO+OQqWow7qGQp0GPq7pesMW1hpo0Nif9A
 NDuQ==
X-Gm-Message-State: AOAM5309q9xF3/AdYoceTRtx9T66xPontwb/p1GZtSMTp6l73XUlOIjI
 EuP29TT87Hg0sBD8JSd5uHIp5ycgz1v801p6J/hgRw==
X-Google-Smtp-Source: ABdhPJyXHXnvzkKOfmzIke4PBGiFVJhtjncHku+wdr9lP6cbM7D0w6xUJ/M8qK603NsIBumyl/9EGslPEFCEEdxlGbw=
X-Received: by 2002:aca:ad92:: with SMTP id w140mr6111387oie.128.1611236400914; 
 Thu, 21 Jan 2021 05:40:00 -0800 (PST)
MIME-Version: 1.0
References: <20210121115818.2482-1-christian.koenig@amd.com>
In-Reply-To: <20210121115818.2482-1-christian.koenig@amd.com>
From: Daniel Vetter <daniel@ffwll.ch>
Date: Thu, 21 Jan 2021 14:39:49 +0100
Message-ID: <CAKMK7uGGmzASv3coFO=yptN2WCV2ErtYveiEC-exh+JKdK3zVw@mail.gmail.com>
Subject: Re: [PATCH] drm/ttm: device naming cleanup
To: =?UTF-8?Q?Christian_K=C3=B6nig?= <ckoenig.leichtzumerken@gmail.com>
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Huang Rui <ray.huang@amd.com>, dri-devel <dri-devel@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVGh1LCBKYW4gMjEsIDIwMjEgYXQgMTI6NTggUE0gQ2hyaXN0aWFuIEvDtm5pZwo8Y2tvZW5p
Zy5sZWljaHR6dW1lcmtlbkBnbWFpbC5jb20+IHdyb3RlOgo+Cj4gUmVuYW1lIHR0bV9ib19kZXZp
Y2UgdG8gdHRtX2RldmljZS4KPiBSZW5hbWUgdHRtX2JvX2RyaXZlciB0byB0dG1fZGV2aWNlX2Z1
bmNzLgo+IFJlbmFtZSB0dG1fYm9fZ2xvYmFsIHRvIHR0bV9nbG9iYWwuCj4KPiBNb3ZlIGdsb2Jh
bCBhbmQgZGV2aWNlIHJlbGF0ZWQgZnVuY3Rpb25zIHRvIHR0bV9kZXZpY2UuW2NoXS4KPgo+IE5v
IGZ1bmN0aW9uYWwgY2hhbmdlLgo+Cj4gU2lnbmVkLW9mZi1ieTogQ2hyaXN0aWFuIEvDtm5pZyA8
Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPgoKSSBkaWRuJ3QgY2hlY2sgaXQgYWxsLCBidXQgbWFr
ZXMgYSBsb3Qgb2Ygc2Vuc2UgdG8gZG8gdGhpcy4KCkFja2VkLWJ5OiBEYW5pZWwgVmV0dGVyIDxk
YW5pZWwudmV0dGVyQGZmd2xsLmNoPgoKPiAtLS0KPiAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1LmggICAgICAgICAgIHwgICAyICstCj4gIC4uLi9ncHUvZHJtL2FtZC9hbWRncHUv
YW1kZ3B1X2FtZGtmZF9mZW5jZS5jICB8ICAgNiArLQo+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfZ2FydC5jICAgICAgfCAgIDIgKy0KPiAgZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1X3R0bS5jICAgICAgIHwgIDI2ICstCj4gIGRyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2FtZGdwdV90dG0uaCAgICAgICB8ICAgMiArLQo+ICBkcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9hbWRncHVfdm0uYyAgICAgICAgfCAgIDggKy0KPiAgZHJpdmVycy9ncHUvZHJtL2Ry
bV9nZW1fdnJhbV9oZWxwZXIuYyAgICAgICAgIHwgIDE0ICstCj4gIGRyaXZlcnMvZ3B1L2RybS9u
b3V2ZWF1L25vdXZlYXVfYm8uYyAgICAgICAgICB8ICAyMCArLQo+ICBkcml2ZXJzL2dwdS9kcm0v
bm91dmVhdS9ub3V2ZWF1X2JvLmggICAgICAgICAgfCAgIDIgKy0KPiAgZHJpdmVycy9ncHUvZHJt
L25vdXZlYXUvbm91dmVhdV9kcnYuaCAgICAgICAgIHwgICAyICstCj4gIGRyaXZlcnMvZ3B1L2Ry
bS9ub3V2ZWF1L25vdXZlYXVfc2dkbWEuYyAgICAgICB8ICAgNiArLQo+ICBkcml2ZXJzL2dwdS9k
cm0vbm91dmVhdS9ub3V2ZWF1X3R0bS5jICAgICAgICAgfCAgMTAgKy0KPiAgZHJpdmVycy9ncHUv
ZHJtL25vdXZlYXUvbm91dmVhdV90dG0uaCAgICAgICAgIHwgICA4ICstCj4gIGRyaXZlcnMvZ3B1
L2RybS9xeGwvcXhsX2Rydi5oICAgICAgICAgICAgICAgICB8ICAgNCArLQo+ICBkcml2ZXJzL2dw
dS9kcm0vcXhsL3F4bF9yZWxlYXNlLmMgICAgICAgICAgICAgfCAgIDYgKy0KPiAgZHJpdmVycy9n
cHUvZHJtL3F4bC9xeGxfdHRtLmMgICAgICAgICAgICAgICAgIHwgIDE5ICstCj4gIGRyaXZlcnMv
Z3B1L2RybS9yYWRlb24vcmFkZW9uLmggICAgICAgICAgICAgICB8ICAgNiArLQo+ICBkcml2ZXJz
L2dwdS9kcm0vcmFkZW9uL3JhZGVvbl9vYmplY3QuYyAgICAgICAgfCAgIDIgKy0KPiAgZHJpdmVy
cy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fdHRtLmMgICAgICAgICAgIHwgIDM4ICstCj4gIGRyaXZl
cnMvZ3B1L2RybS90dG0vTWFrZWZpbGUgICAgICAgICAgICAgICAgICB8ICAgMiArLQo+ICBkcml2
ZXJzL2dwdS9kcm0vdHRtL3R0bV9hZ3BfYmFja2VuZC5jICAgICAgICAgfCAgIDIgKy0KPiAgZHJp
dmVycy9ncHUvZHJtL3R0bS90dG1fYm8uYyAgICAgICAgICAgICAgICAgIHwgMjU2ICsrKy0tLS0t
LS0tLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2JvX3V0aWwuYyAgICAgICAgICAgICB8
ICAyNCArLQo+ICBkcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9ib192bS5jICAgICAgICAgICAgICAg
fCAgMjQgKy0KPiAgZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fZGV2aWNlLmMgICAgICAgICAgICAg
IHwgMTk1ICsrKysrKysrKysrCj4gIGRyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2V4ZWNidWZfdXRp
bC5jICAgICAgICB8ICAgOCArLQo+ICBkcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9yYW5nZV9tYW5h
Z2VyLmMgICAgICAgfCAgIDQgKy0KPiAgZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fcmVzb3VyY2Uu
YyAgICAgICAgICAgIHwgICA0ICstCj4gIGRyaXZlcnMvZ3B1L2RybS90dG0vdHRtX3R0LmMgICAg
ICAgICAgICAgICAgICB8ICAyNiArLQo+ICBkcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9i
bGl0LmMgICAgICAgICAgfCAgIDQgKy0KPiAgZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhf
Ym8uYyAgICAgICAgICAgIHwgICA0ICstCj4gIGRyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4
X2Rydi5jICAgICAgICAgICB8ICAxNiArLQo+ICBkcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dm
eF9kcnYuaCAgICAgICAgICAgfCAgIDQgKy0KPiAgZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdn
ZnhfcmVzb3VyY2UuYyAgICAgIHwgICAyICstCj4gIGRyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13
Z2Z4X3R0bV9idWZmZXIuYyAgICB8ICAxNCArLQo+ICBpbmNsdWRlL2RybS9kcm1fZ2VtX3ZyYW1f
aGVscGVyLmggICAgICAgICAgICAgfCAgIDYgKy0KPiAgaW5jbHVkZS9kcm0vdHRtL3R0bV9ib19h
cGkuaCAgICAgICAgICAgICAgICAgIHwgIDM1ICstCj4gIGluY2x1ZGUvZHJtL3R0bS90dG1fYm9f
ZHJpdmVyLmggICAgICAgICAgICAgICB8IDMyOCArLS0tLS0tLS0tLS0tLS0tLS0KPiAgaW5jbHVk
ZS9kcm0vdHRtL3R0bV9kZXZpY2UuaCAgICAgICAgICAgICAgICAgIHwgMzE5ICsrKysrKysrKysr
KysrKysrCj4gIGluY2x1ZGUvZHJtL3R0bS90dG1fcmVzb3VyY2UuaCAgICAgICAgICAgICAgICB8
ICAgNCArLQo+ICBpbmNsdWRlL2RybS90dG0vdHRtX3R0LmggICAgICAgICAgICAgICAgICAgICAg
fCAgMTAgKy0KPiAgNDEgZmlsZXMgY2hhbmdlZCwgNzU5IGluc2VydGlvbnMoKyksIDcxNSBkZWxl
dGlvbnMoLSkKPiAgY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2Rl
dmljZS5jCj4gIGNyZWF0ZSBtb2RlIDEwMDY0NCBpbmNsdWRlL2RybS90dG0vdHRtX2RldmljZS5o
Cj4KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1LmggYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHUuaAo+IGluZGV4IGY3NzQ0M2NkOWMxNy4u
YWI0YWMzYjI2NTFlIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdS5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1LmgKPiBAQCAt
MTA1Myw3ICsxMDUzLDcgQEAgc3RhdGljIGlubGluZSBzdHJ1Y3QgZHJtX2RldmljZSAqYWRldl90
b19kcm0oc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCj4gICAgICAgICByZXR1cm4gJmFkZXYt
PmRkZXY7Cj4gIH0KPgo+IC1zdGF0aWMgaW5saW5lIHN0cnVjdCBhbWRncHVfZGV2aWNlICphbWRn
cHVfdHRtX2FkZXYoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYpCj4gK3N0YXRpYyBpbmxpbmUg
c3RydWN0IGFtZGdwdV9kZXZpY2UgKmFtZGdwdV90dG1fYWRldihzdHJ1Y3QgdHRtX2RldmljZSAq
YmRldikKPiAgewo+ICAgICAgICAgcmV0dXJuIGNvbnRhaW5lcl9vZihiZGV2LCBzdHJ1Y3QgYW1k
Z3B1X2RldmljZSwgbW1hbi5iZGV2KTsKPiAgfQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9hbWRncHVfYW1ka2ZkX2ZlbmNlLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9hbWRncHVfYW1ka2ZkX2ZlbmNlLmMKPiBpbmRleCAzMTA3Yjk1NzU5MjkuLjVhZjQ2
NDkzMzk3NiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
YW1ka2ZkX2ZlbmNlLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
YW1ka2ZkX2ZlbmNlLmMKPiBAQCAtNDAsMTMgKzQwLDEzIEBAIHN0YXRpYyBhdG9taWNfdCBmZW5j
ZV9zZXEgPSBBVE9NSUNfSU5JVCgwKTsKPiAgICogQWxsIHRoZSBCT3MgaW4gYSBwcm9jZXNzIHNo
YXJlIGFuIGV2aWN0aW9uIGZlbmNlLiBXaGVuIHByb2Nlc3MgWCB3YW50cwo+ICAgKiB0byBtYXAg
VlJBTSBtZW1vcnkgYnV0IFRUTSBjYW4ndCBmaW5kIGVub3VnaCBzcGFjZSwgVFRNIHdpbGwgYXR0
ZW1wdCB0bwo+ICAgKiBldmljdCBCT3MgZnJvbSBpdHMgTFJVIGxpc3QuIFRUTSBjaGVja3MgaWYg
dGhlIEJPIGlzIHZhbHVhYmxlIHRvIGV2aWN0Cj4gLSAqIGJ5IGNhbGxpbmcgdHRtX2JvX2RyaXZl
ci0+ZXZpY3Rpb25fdmFsdWFibGUoKS4KPiArICogYnkgY2FsbGluZyB0dG1fZGV2aWNlX2Z1bmNz
LT5ldmljdGlvbl92YWx1YWJsZSgpLgo+ICAgKgo+IC0gKiB0dG1fYm9fZHJpdmVyLT5ldmljdGlv
bl92YWx1YWJsZSgpIC0gd2lsbCByZXR1cm4gZmFsc2UgaWYgdGhlIEJPIGJlbG9uZ3MKPiArICog
dHRtX2RldmljZV9mdW5jcy0+ZXZpY3Rpb25fdmFsdWFibGUoKSAtIHdpbGwgcmV0dXJuIGZhbHNl
IGlmIHRoZSBCTyBiZWxvbmdzCj4gICAqICB0byBwcm9jZXNzIFguIE90aGVyd2lzZSwgaXQgd2ls
bCByZXR1cm4gdHJ1ZSB0byBpbmRpY2F0ZSBCTyBjYW4gYmUKPiAgICogIGV2aWN0ZWQgYnkgVFRN
Lgo+ICAgKgo+IC0gKiBJZiB0dG1fYm9fZHJpdmVyLT5ldmljdGlvbl92YWx1YWJsZSByZXR1cm5z
IHRydWUsIHRoZW4gVFRNIHdpbGwgY29udGludWUKPiArICogSWYgdHRtX2RldmljZV9mdW5jcy0+
ZXZpY3Rpb25fdmFsdWFibGUgcmV0dXJucyB0cnVlLCB0aGVuIFRUTSB3aWxsIGNvbnRpbnVlCj4g
ICAqIHRoZSBldmNpdGlvbiBwcm9jZXNzIGZvciB0aGF0IEJPIGJ5IGNhbGxpbmcgdHRtX2JvX2V2
aWN0IC0tPiBhbWRncHVfYm9fbW92ZQo+ICAgKiAtLT4gYW1kZ3B1X2NvcHlfYnVmZmVyKCkuIFRo
aXMgc2V0cyB1cCBqb2IgaW4gR1BVIHNjaGVkdWxlci4KPiAgICoKPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dhcnQuYyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2FtZGdwdV9nYXJ0LmMKPiBpbmRleCAwZGI5MzMwMjY3MjIuLmZkZTJkODk5YjJj
NCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ2FydC5j
Cj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dhcnQuYwo+IEBAIC03
MSw3ICs3MSw3IEBACj4gICAqLwo+ICBzdGF0aWMgaW50IGFtZGdwdV9nYXJ0X2R1bW15X3BhZ2Vf
aW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKPiAgewo+IC0gICAgICAgc3RydWN0IHBh
Z2UgKmR1bW15X3BhZ2UgPSB0dG1fYm9fZ2xvYi5kdW1teV9yZWFkX3BhZ2U7Cj4gKyAgICAgICBz
dHJ1Y3QgcGFnZSAqZHVtbXlfcGFnZSA9IHR0bV9nbG9iLmR1bW15X3JlYWRfcGFnZTsKPgo+ICAg
ICAgICAgaWYgKGFkZXYtPmR1bW15X3BhZ2VfYWRkcikKPiAgICAgICAgICAgICAgICAgcmV0dXJu
IDA7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90dG0u
YyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90dG0uYwo+IGluZGV4IDlmZDIx
NTdiMTMzYS4uMjljZmIwODA5NjM0IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2FtZGdwdV90dG0uYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdV90dG0uYwo+IEBAIC02MSwxMCArNjEsMTAgQEAKPgo+ICAjZGVmaW5lIEFNREdQVV9UVE1f
VlJBTV9NQVhfRFdfUkVBRCAgICAoc2l6ZV90KTEyOAo+Cj4gLXN0YXRpYyBpbnQgYW1kZ3B1X3R0
bV9iYWNrZW5kX2JpbmQoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gK3N0YXRpYyBpbnQg
YW1kZ3B1X3R0bV9iYWNrZW5kX2JpbmQoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4gICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3R0ICp0dG0sCj4gICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3Jlc291cmNlICpib19tZW0p
Owo+IC1zdGF0aWMgdm9pZCBhbWRncHVfdHRtX2JhY2tlbmRfdW5iaW5kKHN0cnVjdCB0dG1fYm9f
ZGV2aWNlICpiZGV2LAo+ICtzdGF0aWMgdm9pZCBhbWRncHVfdHRtX2JhY2tlbmRfdW5iaW5kKHN0
cnVjdCB0dG1fZGV2aWNlICpiZGV2LAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgc3RydWN0IHR0bV90dCAqdHRtKTsKPgo+ICBzdGF0aWMgaW50IGFtZGdwdV90dG1faW5p
dF9vbl9jaGlwKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LAo+IEBAIC02NDYsNyArNjQ2LDcg
QEAgc3RhdGljIGludCBhbWRncHVfYm9fbW92ZShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJv
LCBib29sIGV2aWN0LAo+ICAgKgo+ICAgKiBDYWxsZWQgYnkgdHRtX21lbV9pb19yZXNlcnZlKCkg
dWx0aW1hdGVseSB2aWEgdHRtX2JvX3ZtX2ZhdWx0KCkKPiAgICovCj4gLXN0YXRpYyBpbnQgYW1k
Z3B1X3R0bV9pb19tZW1fcmVzZXJ2ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgc3RydWN0
IHR0bV9yZXNvdXJjZSAqbWVtKQo+ICtzdGF0aWMgaW50IGFtZGdwdV90dG1faW9fbWVtX3Jlc2Vy
dmUoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fcmVzb3VyY2UgKm1lbSkKPiAg
ewo+ICAgICAgICAgc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSBhbWRncHVfdHRtX2FkZXYo
YmRldik7Cj4gICAgICAgICBzdHJ1Y3QgZHJtX21tX25vZGUgKm1tX25vZGUgPSBtZW0tPm1tX25v
ZGU7Cj4gQEAgLTg5Myw3ICs4OTMsNyBAQCB2b2lkIGFtZGdwdV90dG1fdHRfc2V0X3VzZXJfcGFn
ZXMoc3RydWN0IHR0bV90dCAqdHRtLCBzdHJ1Y3QgcGFnZSAqKnBhZ2VzKQo+ICAgKgo+ICAgKiBD
YWxsZWQgYnkgYW1kZ3B1X3R0bV9iYWNrZW5kX2JpbmQoKQo+ICAgKiovCj4gLXN0YXRpYyBpbnQg
YW1kZ3B1X3R0bV90dF9waW5fdXNlcnB0cihzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiAr
c3RhdGljIGludCBhbWRncHVfdHRtX3R0X3Bpbl91c2VycHRyKHN0cnVjdCB0dG1fZGV2aWNlICpi
ZGV2LAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3R0
ICp0dG0pCj4gIHsKPiAgICAgICAgIHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gYW1kZ3B1
X3R0bV9hZGV2KGJkZXYpOwo+IEBAIC05MzEsNyArOTMxLDcgQEAgc3RhdGljIGludCBhbWRncHVf
dHRtX3R0X3Bpbl91c2VycHRyKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICAvKgo+ICAg
KiBhbWRncHVfdHRtX3R0X3VucGluX3VzZXJwdHIgLSBVbnBpbiBhbmQgdW5tYXAgdXNlcnB0ciBw
YWdlcwo+ICAgKi8KPiAtc3RhdGljIHZvaWQgYW1kZ3B1X3R0bV90dF91bnBpbl91c2VycHRyKHN0
cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICtzdGF0aWMgdm9pZCBhbWRncHVfdHRtX3R0X3Vu
cGluX3VzZXJwdHIoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4gICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fdHQgKnR0bSkKPiAgewo+ICAgICAgICAg
c3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSBhbWRncHVfdHRtX2FkZXYoYmRldik7Cj4gQEAg
LTEwMTUsNyArMTAxNSw3IEBAIHN0YXRpYyBpbnQgYW1kZ3B1X3R0bV9nYXJ0X2JpbmQoc3RydWN0
IGFtZGdwdV9kZXZpY2UgKmFkZXYsCj4gICAqIENhbGxlZCBieSB0dG1fdHRfYmluZCgpIG9uIGJl
aGFsZiBvZiB0dG1fYm9faGFuZGxlX21vdmVfbWVtKCkuCj4gICAqIFRoaXMgaGFuZGxlcyBiaW5k
aW5nIEdUVCBtZW1vcnkgdG8gdGhlIGRldmljZSBhZGRyZXNzIHNwYWNlLgo+ICAgKi8KPiAtc3Rh
dGljIGludCBhbWRncHVfdHRtX2JhY2tlbmRfYmluZChzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRl
diwKPiArc3RhdGljIGludCBhbWRncHVfdHRtX2JhY2tlbmRfYmluZChzdHJ1Y3QgdHRtX2Rldmlj
ZSAqYmRldiwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1f
dHQgKnR0bSwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1f
cmVzb3VyY2UgKmJvX21lbSkKPiAgewo+IEBAIC0xMTU1LDcgKzExNTUsNyBAQCBpbnQgYW1kZ3B1
X3R0bV9yZWNvdmVyX2dhcnQoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICp0Ym8pCj4gICAqIENh
bGxlZCBieSB0dG1fdHRfdW5iaW5kKCkgb24gYmVoYWxmIG9mIHR0bV9ib19tb3ZlX3R0bSgpIGFu
ZAo+ICAgKiB0dG1fdHRfZGVzdHJveSgpLgo+ICAgKi8KPiAtc3RhdGljIHZvaWQgYW1kZ3B1X3R0
bV9iYWNrZW5kX3VuYmluZChzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiArc3RhdGljIHZv
aWQgYW1kZ3B1X3R0bV9iYWNrZW5kX3VuYmluZChzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwKPiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fdHQgKnR0bSkK
PiAgewo+ICAgICAgICAgc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSBhbWRncHVfdHRtX2Fk
ZXYoYmRldik7Cj4gQEAgLTExODAsNyArMTE4MCw3IEBAIHN0YXRpYyB2b2lkIGFtZGdwdV90dG1f
YmFja2VuZF91bmJpbmQoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gICAgICAgICBndHQt
PmJvdW5kID0gZmFsc2U7Cj4gIH0KPgo+IC1zdGF0aWMgdm9pZCBhbWRncHVfdHRtX2JhY2tlbmRf
ZGVzdHJveShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiArc3RhdGljIHZvaWQgYW1kZ3B1
X3R0bV9iYWNrZW5kX2Rlc3Ryb3koc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHR0bV90dCAqdHRtKQo+ICB7Cj4g
ICAgICAgICBzdHJ1Y3QgYW1kZ3B1X3R0bV90dCAqZ3R0ID0gKHZvaWQgKil0dG07Cj4gQEAgLTEy
MzQsNyArMTIzNCw3IEBAIHN0YXRpYyBzdHJ1Y3QgdHRtX3R0ICphbWRncHVfdHRtX3R0X2NyZWF0
ZShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+ICAgKiBNYXAgdGhlIHBhZ2VzIG9mIGEg
dHRtX3R0IG9iamVjdCB0byBhbiBhZGRyZXNzIHNwYWNlIHZpc2libGUKPiAgICogdG8gdGhlIHVu
ZGVybHlpbmcgZGV2aWNlLgo+ICAgKi8KPiAtc3RhdGljIGludCBhbWRncHVfdHRtX3R0X3BvcHVs
YXRlKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICtzdGF0aWMgaW50IGFtZGdwdV90dG1f
dHRfcG9wdWxhdGUoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4gICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fdHQgKnR0bSwKPiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgc3RydWN0IHR0bV9vcGVyYXRpb25fY3R4ICpjdHgpCj4gIHsKPiBAQCAt
MTI3OCw3ICsxMjc4LDcgQEAgc3RhdGljIGludCBhbWRncHVfdHRtX3R0X3BvcHVsYXRlKHN0cnVj
dCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICAgKiBVbm1hcHMgcGFnZXMgb2YgYSB0dG1fdHQgb2Jq
ZWN0IGZyb20gdGhlIGRldmljZSBhZGRyZXNzIHNwYWNlIGFuZAo+ICAgKiB1bnBvcHVsYXRlcyB0
aGUgcGFnZSBhcnJheSBiYWNraW5nIGl0Lgo+ICAgKi8KPiAtc3RhdGljIHZvaWQgYW1kZ3B1X3R0
bV90dF91bnBvcHVsYXRlKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICtzdGF0aWMgdm9p
ZCBhbWRncHVfdHRtX3R0X3VucG9wdWxhdGUoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4gICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fdHQgKnR0bSkKPiAg
ewo+ICAgICAgICAgc3RydWN0IGFtZGdwdV90dG1fdHQgKmd0dCA9ICh2b2lkICopdHRtOwo+IEBA
IC0xNjAzLDcgKzE2MDMsNyBAQCBhbWRncHVfYm9fZGVsZXRlX21lbV9ub3RpZnkoc3RydWN0IHR0
bV9idWZmZXJfb2JqZWN0ICpibykKPiAgICAgICAgIGFtZGdwdV9ib19tb3ZlX25vdGlmeShibywg
ZmFsc2UsIE5VTEwpOwo+ICB9Cj4KPiAtc3RhdGljIHN0cnVjdCB0dG1fYm9fZHJpdmVyIGFtZGdw
dV9ib19kcml2ZXIgPSB7Cj4gK3N0YXRpYyBzdHJ1Y3QgdHRtX2RldmljZV9mdW5jcyBhbWRncHVf
Ym9fZHJpdmVyID0gewo+ICAgICAgICAgLnR0bV90dF9jcmVhdGUgPSAmYW1kZ3B1X3R0bV90dF9j
cmVhdGUsCj4gICAgICAgICAudHRtX3R0X3BvcHVsYXRlID0gJmFtZGdwdV90dG1fdHRfcG9wdWxh
dGUsCj4gICAgICAgICAudHRtX3R0X3VucG9wdWxhdGUgPSAmYW1kZ3B1X3R0bV90dF91bnBvcHVs
YXRlLAo+IEBAIC0xNzg1LDcgKzE3ODUsNyBAQCBpbnQgYW1kZ3B1X3R0bV9pbml0KHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2KQo+ICAgICAgICAgbXV0ZXhfaW5pdCgmYWRldi0+bW1hbi5ndHRf
d2luZG93X2xvY2spOwo+Cj4gICAgICAgICAvKiBObyBvdGhlcnMgdXNlciBvZiBhZGRyZXNzIHNw
YWNlIHNvIHNldCBpdCB0byAwICovCj4gLSAgICAgICByID0gdHRtX2JvX2RldmljZV9pbml0KCZh
ZGV2LT5tbWFuLmJkZXYsICZhbWRncHVfYm9fZHJpdmVyLCBhZGV2LT5kZXYsCj4gKyAgICAgICBy
ID0gdHRtX2RldmljZV9pbml0KCZhZGV2LT5tbWFuLmJkZXYsICZhbWRncHVfYm9fZHJpdmVyLCBh
ZGV2LT5kZXYsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZXZfdG9fZHJtKGFk
ZXYpLT5hbm9uX2lub2RlLT5pX21hcHBpbmcsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIGFkZXZfdG9fZHJtKGFkZXYpLT52bWFfb2Zmc2V0X21hbmFnZXIsCj4gICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGFkZXYtPm5lZWRfc3dpb3RsYiwKPiBAQCAtMTkyNiw3ICsxOTI2
LDcgQEAgdm9pZCBhbWRncHVfdHRtX2Zpbmkoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCj4g
ICAgICAgICB0dG1fcmFuZ2VfbWFuX2ZpbmkoJmFkZXYtPm1tYW4uYmRldiwgQU1ER1BVX1BMX0dE
Uyk7Cj4gICAgICAgICB0dG1fcmFuZ2VfbWFuX2ZpbmkoJmFkZXYtPm1tYW4uYmRldiwgQU1ER1BV
X1BMX0dXUyk7Cj4gICAgICAgICB0dG1fcmFuZ2VfbWFuX2ZpbmkoJmFkZXYtPm1tYW4uYmRldiwg
QU1ER1BVX1BMX09BKTsKPiAtICAgICAgIHR0bV9ib19kZXZpY2VfcmVsZWFzZSgmYWRldi0+bW1h
bi5iZGV2KTsKPiArICAgICAgIHR0bV9kZXZpY2VfZmluaSgmYWRldi0+bW1hbi5iZGV2KTsKPiAg
ICAgICAgIGFkZXYtPm1tYW4uaW5pdGlhbGl6ZWQgPSBmYWxzZTsKPiAgICAgICAgIERSTV9JTkZP
KCJhbWRncHU6IHR0bSBmaW5hbGl6ZWRcbiIpOwo+ICB9Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90dG0uaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L2FtZGdwdV90dG0uaAo+IGluZGV4IGQyOTg3NTM2ZDdjZC4uNzE4OWY4MzcwMTA4IDEwMDY0
NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90dG0uaAo+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90dG0uaAo+IEBAIC02MCw3ICs2MCw3
IEBAIHN0cnVjdCBhbWRncHVfZ3R0X21nciB7Cj4gIH07Cj4KPiAgc3RydWN0IGFtZGdwdV9tbWFu
IHsKPiAtICAgICAgIHN0cnVjdCB0dG1fYm9fZGV2aWNlICAgICAgICAgICAgYmRldjsKPiArICAg
ICAgIHN0cnVjdCB0dG1fZGV2aWNlICAgICAgICAgICAgICAgYmRldjsKPiAgICAgICAgIGJvb2wg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6ZWQ7Cj4gICAgICAgICB2b2lkIF9f
aW9tZW0gICAgICAgICAgICAgICAgICAgICphcGVyX2Jhc2Vfa2FkZHI7Cj4KPiBkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtLmMgYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9hbWRncHVfdm0uYwo+IGluZGV4IGFkOTFjMGMzYzQyMy4uOWQxOTA3ODI0
NmM4IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92bS5j
Cj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtLmMKPiBAQCAtNjM4
LDE1ICs2MzgsMTUgQEAgdm9pZCBhbWRncHVfdm1fbW92ZV90b19scnVfdGFpbChzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldiwKPiAgICAgICAgIHN0cnVjdCBhbWRncHVfdm1fYm9fYmFzZSAqYm9f
YmFzZTsKPgo+ICAgICAgICAgaWYgKHZtLT5idWxrX21vdmVhYmxlKSB7Cj4gLSAgICAgICAgICAg
ICAgIHNwaW5fbG9jaygmdHRtX2JvX2dsb2IubHJ1X2xvY2spOwo+ICsgICAgICAgICAgICAgICBz
cGluX2xvY2soJnR0bV9nbG9iLmxydV9sb2NrKTsKPiAgICAgICAgICAgICAgICAgdHRtX2JvX2J1
bGtfbW92ZV9scnVfdGFpbCgmdm0tPmxydV9idWxrX21vdmUpOwo+IC0gICAgICAgICAgICAgICBz
cGluX3VubG9jaygmdHRtX2JvX2dsb2IubHJ1X2xvY2spOwo+ICsgICAgICAgICAgICAgICBzcGlu
X3VubG9jaygmdHRtX2dsb2IubHJ1X2xvY2spOwo+ICAgICAgICAgICAgICAgICByZXR1cm47Cj4g
ICAgICAgICB9Cj4KPiAgICAgICAgIG1lbXNldCgmdm0tPmxydV9idWxrX21vdmUsIDAsIHNpemVv
Zih2bS0+bHJ1X2J1bGtfbW92ZSkpOwo+Cj4gLSAgICAgICBzcGluX2xvY2soJnR0bV9ib19nbG9i
LmxydV9sb2NrKTsKPiArICAgICAgIHNwaW5fbG9jaygmdHRtX2dsb2IubHJ1X2xvY2spOwo+ICAg
ICAgICAgbGlzdF9mb3JfZWFjaF9lbnRyeShib19iYXNlLCAmdm0tPmlkbGUsIHZtX3N0YXR1cykg
ewo+ICAgICAgICAgICAgICAgICBzdHJ1Y3QgYW1kZ3B1X2JvICpibyA9IGJvX2Jhc2UtPmJvOwo+
Cj4gQEAgLTY2MCw3ICs2NjAsNyBAQCB2b2lkIGFtZGdwdV92bV9tb3ZlX3RvX2xydV90YWlsKHN0
cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICZiby0+c2hhZG93LT50Ym8ubWVtLAo+ICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZ2bS0+bHJ1X2J1bGtfbW92ZSk7Cj4g
ICAgICAgICB9Cj4gLSAgICAgICBzcGluX3VubG9jaygmdHRtX2JvX2dsb2IubHJ1X2xvY2spOwo+
ICsgICAgICAgc3Bpbl91bmxvY2soJnR0bV9nbG9iLmxydV9sb2NrKTsKPgo+ICAgICAgICAgdm0t
PmJ1bGtfbW92ZWFibGUgPSB0cnVlOwo+ICB9Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9kcm1fZ2VtX3ZyYW1faGVscGVyLmMgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2dlbV92cmFtX2hl
bHBlci5jCj4gaW5kZXggMDJjYTIyZTkwMjkwLi4wYjEzYzg1MDc2ODggMTAwNjQ0Cj4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2RybV9nZW1fdnJhbV9oZWxwZXIuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1
L2RybS9kcm1fZ2VtX3ZyYW1faGVscGVyLmMKPiBAQCAtMTg3LDcgKzE4Nyw3IEBAIHN0cnVjdCBk
cm1fZ2VtX3ZyYW1fb2JqZWN0ICpkcm1fZ2VtX3ZyYW1fY3JlYXRlKHN0cnVjdCBkcm1fZGV2aWNl
ICpkZXYsCj4gICAgICAgICBzdHJ1Y3QgZHJtX2dlbV92cmFtX29iamVjdCAqZ2JvOwo+ICAgICAg
ICAgc3RydWN0IGRybV9nZW1fb2JqZWN0ICpnZW07Cj4gICAgICAgICBzdHJ1Y3QgZHJtX3ZyYW1f
bW0gKnZtbSA9IGRldi0+dnJhbV9tbTsKPiAtICAgICAgIHN0cnVjdCB0dG1fYm9fZGV2aWNlICpi
ZGV2Owo+ICsgICAgICAgc3RydWN0IHR0bV9kZXZpY2UgKmJkZXY7Cj4gICAgICAgICBpbnQgcmV0
Owo+ICAgICAgICAgc2l6ZV90IGFjY19zaXplOwo+Cj4gQEAgLTU1MSw3ICs1NTEsNyBAQCBpbnQg
ZHJtX2dlbV92cmFtX2ZpbGxfY3JlYXRlX2R1bWIoc3RydWN0IGRybV9maWxlICpmaWxlLAo+ICBF
WFBPUlRfU1lNQk9MKGRybV9nZW1fdnJhbV9maWxsX2NyZWF0ZV9kdW1iKTsKPgo+ICAvKgo+IC0g
KiBIZWxwZXJzIGZvciBzdHJ1Y3QgdHRtX2JvX2RyaXZlcgo+ICsgKiBIZWxwZXJzIGZvciBzdHJ1
Y3QgdHRtX2RldmljZV9mdW5jcwo+ICAgKi8KPgo+ICBzdGF0aWMgYm9vbCBkcm1faXNfZ2VtX3Zy
YW0oc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibykKPiBAQCAtODkzLDcgKzg5Myw3IEBAIHN0
YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2dlbV9vYmplY3RfZnVuY3MgZHJtX2dlbV92cmFtX29iamVj
dF9mdW5jcyA9IHsKPiAgICogVFRNIFRUCj4gICAqLwo+Cj4gLXN0YXRpYyB2b2lkIGJvX2RyaXZl
cl90dG1fdHRfZGVzdHJveShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV90
dCAqdHQpCj4gK3N0YXRpYyB2b2lkIGJvX2RyaXZlcl90dG1fdHRfZGVzdHJveShzdHJ1Y3QgdHRt
X2RldmljZSAqYmRldiwgc3RydWN0IHR0bV90dCAqdHQpCj4gIHsKPiAgICAgICAgIHR0bV90dF9k
ZXN0cm95X2NvbW1vbihiZGV2LCB0dCk7Cj4gICAgICAgICB0dG1fdHRfZmluaSh0dCk7Cj4gQEAg
LTk2NSw3ICs5NjUsNyBAQCBzdGF0aWMgaW50IGJvX2RyaXZlcl9tb3ZlKHN0cnVjdCB0dG1fYnVm
ZmVyX29iamVjdCAqYm8sCj4gICAgICAgICByZXR1cm4gZHJtX2dlbV92cmFtX2JvX2RyaXZlcl9t
b3ZlKGdibywgZXZpY3QsIGN0eCwgbmV3X21lbSk7Cj4gIH0KPgo+IC1zdGF0aWMgaW50IGJvX2Ry
aXZlcl9pb19tZW1fcmVzZXJ2ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiArc3RhdGlj
IGludCBib19kcml2ZXJfaW9fbWVtX3Jlc2VydmUoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHR0bV9yZXNvdXJjZSAq
bWVtKQo+ICB7Cj4gICAgICAgICBzdHJ1Y3QgZHJtX3ZyYW1fbW0gKnZtbSA9IGRybV92cmFtX21t
X29mX2JkZXYoYmRldik7Cj4gQEAgLTk4NSw3ICs5ODUsNyBAQCBzdGF0aWMgaW50IGJvX2RyaXZl
cl9pb19tZW1fcmVzZXJ2ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiAgICAgICAgIHJl
dHVybiAwOwo+ICB9Cj4KPiAtc3RhdGljIHN0cnVjdCB0dG1fYm9fZHJpdmVyIGJvX2RyaXZlciA9
IHsKPiArc3RhdGljIHN0cnVjdCB0dG1fZGV2aWNlX2Z1bmNzIGJvX2RyaXZlciA9IHsKPiAgICAg
ICAgIC50dG1fdHRfY3JlYXRlID0gYm9fZHJpdmVyX3R0bV90dF9jcmVhdGUsCj4gICAgICAgICAu
dHRtX3R0X2Rlc3Ryb3kgPSBib19kcml2ZXJfdHRtX3R0X2Rlc3Ryb3ksCj4gICAgICAgICAuZXZp
Y3Rpb25fdmFsdWFibGUgPSB0dG1fYm9fZXZpY3Rpb25fdmFsdWFibGUsCj4gQEAgLTEwMzYsNyAr
MTAzNiw3IEBAIHN0YXRpYyBpbnQgZHJtX3ZyYW1fbW1faW5pdChzdHJ1Y3QgZHJtX3ZyYW1fbW0g
KnZtbSwgc3RydWN0IGRybV9kZXZpY2UgKmRldiwKPiAgICAgICAgIHZtbS0+dnJhbV9iYXNlID0g
dnJhbV9iYXNlOwo+ICAgICAgICAgdm1tLT52cmFtX3NpemUgPSB2cmFtX3NpemU7Cj4KPiAtICAg
ICAgIHJldCA9IHR0bV9ib19kZXZpY2VfaW5pdCgmdm1tLT5iZGV2LCAmYm9fZHJpdmVyLCBkZXYt
PmRldiwKPiArICAgICAgIHJldCA9IHR0bV9kZXZpY2VfaW5pdCgmdm1tLT5iZGV2LCAmYm9fZHJp
dmVyLCBkZXYtPmRldiwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXYtPmFu
b25faW5vZGUtPmlfbWFwcGluZywKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBk
ZXYtPnZtYV9vZmZzZXRfbWFuYWdlciwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBmYWxzZSwgdHJ1ZSk7Cj4gQEAgLTEwNTQsNyArMTA1NCw3IEBAIHN0YXRpYyBpbnQgZHJtX3Zy
YW1fbW1faW5pdChzdHJ1Y3QgZHJtX3ZyYW1fbW0gKnZtbSwgc3RydWN0IGRybV9kZXZpY2UgKmRl
diwKPiAgc3RhdGljIHZvaWQgZHJtX3ZyYW1fbW1fY2xlYW51cChzdHJ1Y3QgZHJtX3ZyYW1fbW0g
KnZtbSkKPiAgewo+ICAgICAgICAgdHRtX3JhbmdlX21hbl9maW5pKCZ2bW0tPmJkZXYsIFRUTV9Q
TF9WUkFNKTsKPiAtICAgICAgIHR0bV9ib19kZXZpY2VfcmVsZWFzZSgmdm1tLT5iZGV2KTsKPiAr
ICAgICAgIHR0bV9kZXZpY2VfZmluaSgmdm1tLT5iZGV2KTsKPiAgfQo+Cj4gIC8qCj4gZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfYm8uYyBiL2RyaXZlcnMvZ3B1
L2RybS9ub3V2ZWF1L25vdXZlYXVfYm8uYwo+IGluZGV4IDMzZGM4ODZkMWQ2ZC4uYzE3Nzk0MGQ2
ZTJjIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfYm8uYwo+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfYm8uYwo+IEBAIC00Myw5ICs0
Myw5IEBACj4gICNpbmNsdWRlIDxudmlmL2lmNTAwYi5oPgo+ICAjaW5jbHVkZSA8bnZpZi9pZjkw
MGIuaD4KPgo+IC1zdGF0aWMgaW50IG5vdXZlYXVfdHRtX3R0X2JpbmQoc3RydWN0IHR0bV9ib19k
ZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSwKPiArc3RhdGljIGludCBub3V2ZWF1X3R0
bV90dF9iaW5kKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0sCj4g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2UgKnJlZyk7
Cj4gLXN0YXRpYyB2b2lkIG5vdXZlYXVfdHRtX3R0X3VuYmluZChzdHJ1Y3QgdHRtX2JvX2Rldmlj
ZSAqYmRldiwgc3RydWN0IHR0bV90dCAqdHRtKTsKPiArc3RhdGljIHZvaWQgbm91dmVhdV90dG1f
dHRfdW5iaW5kKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0pOwo+
Cj4gIC8qCj4gICAqIE5WMTAtTlY0MCB0aWxpbmcgaGVscGVycwo+IEBAIC02NzQsNyArNjc0LDcg
QEAgbm91dmVhdV90dG1fdHRfY3JlYXRlKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sIHVp
bnQzMl90IHBhZ2VfZmxhZ3MpCj4gIH0KPgo+ICBzdGF0aWMgaW50Cj4gLW5vdXZlYXVfdHRtX3R0
X2JpbmQoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSwKPiAr
bm91dmVhdV90dG1fdHRfYmluZChzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV90
dCAqdHRtLAo+ICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHR0bV9yZXNvdXJjZSAqcmVnKQo+
ICB7Cj4gICNpZiBJU19FTkFCTEVEKENPTkZJR19BR1ApCj4gQEAgLTY5MCw3ICs2OTAsNyBAQCBu
b3V2ZWF1X3R0bV90dF9iaW5kKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRt
X3R0ICp0dG0sCj4gIH0KPgo+ICBzdGF0aWMgdm9pZAo+IC1ub3V2ZWF1X3R0bV90dF91bmJpbmQo
c3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSkKPiArbm91dmVh
dV90dG1fdHRfdW5iaW5kKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0
dG0pCj4gIHsKPiAgI2lmIElTX0VOQUJMRUQoQ09ORklHX0FHUCkKPiAgICAgICAgIHN0cnVjdCBu
b3V2ZWF1X2RybSAqZHJtID0gbm91dmVhdV9iZGV2KGJkZXYpOwo+IEBAIC0xMDU1LDcgKzEwNTUs
NyBAQCBub3V2ZWF1X3R0bV9pb19tZW1fZnJlZV9sb2NrZWQoc3RydWN0IG5vdXZlYXVfZHJtICpk
cm0sCj4gIH0KPgo+ICBzdGF0aWMgaW50Cj4gLW5vdXZlYXVfdHRtX2lvX21lbV9yZXNlcnZlKHN0
cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3Jlc291cmNlICpyZWcpCj4gK25v
dXZlYXVfdHRtX2lvX21lbV9yZXNlcnZlKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LCBzdHJ1Y3Qg
dHRtX3Jlc291cmNlICpyZWcpCj4gIHsKPiAgICAgICAgIHN0cnVjdCBub3V2ZWF1X2RybSAqZHJt
ID0gbm91dmVhdV9iZGV2KGJkZXYpOwo+ICAgICAgICAgc3RydWN0IG52a21fZGV2aWNlICpkZXZp
Y2UgPSBudnh4X2RldmljZSgmZHJtLT5jbGllbnQuZGV2aWNlKTsKPiBAQCAtMTE2Myw3ICsxMTYz
LDcgQEAgbm91dmVhdV90dG1faW9fbWVtX3Jlc2VydmUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJk
ZXYsIHN0cnVjdCB0dG1fcmVzb3VyY2UgKnJlZykKPiAgfQo+Cj4gIHN0YXRpYyB2b2lkCj4gLW5v
dXZlYXVfdHRtX2lvX21lbV9mcmVlKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LCBzdHJ1Y3Qg
dHRtX3Jlc291cmNlICpyZWcpCj4gK25vdXZlYXVfdHRtX2lvX21lbV9mcmVlKHN0cnVjdCB0dG1f
ZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3Jlc291cmNlICpyZWcpCj4gIHsKPiAgICAgICAgIHN0
cnVjdCBub3V2ZWF1X2RybSAqZHJtID0gbm91dmVhdV9iZGV2KGJkZXYpOwo+Cj4gQEAgLTEyMjMs
NyArMTIyMyw3IEBAIHZtX2ZhdWx0X3Qgbm91dmVhdV90dG1fZmF1bHRfcmVzZXJ2ZV9ub3RpZnko
c3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibykKPiAgfQo+Cj4gIHN0YXRpYyBpbnQKPiAtbm91
dmVhdV90dG1fdHRfcG9wdWxhdGUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gK25vdXZl
YXVfdHRtX3R0X3BvcHVsYXRlKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LAo+ICAgICAgICAgICAg
ICAgICAgICAgICAgIHN0cnVjdCB0dG1fdHQgKnR0bSwgc3RydWN0IHR0bV9vcGVyYXRpb25fY3R4
ICpjdHgpCj4gIHsKPiAgICAgICAgIHN0cnVjdCB0dG1fdHQgKnR0bV9kbWEgPSAodm9pZCAqKXR0
bTsKPiBAQCAtMTI0Nyw3ICsxMjQ3LDcgQEAgbm91dmVhdV90dG1fdHRfcG9wdWxhdGUoc3RydWN0
IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gIH0KPgo+ICBzdGF0aWMgdm9pZAo+IC1ub3V2ZWF1X3R0
bV90dF91bnBvcHVsYXRlKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICtub3V2ZWF1X3R0
bV90dF91bnBvcHVsYXRlKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LAo+ICAgICAgICAgICAgICAg
ICAgICAgICAgICAgc3RydWN0IHR0bV90dCAqdHRtKQo+ICB7Cj4gICAgICAgICBzdHJ1Y3Qgbm91
dmVhdV9kcm0gKmRybTsKPiBAQCAtMTI2NCw3ICsxMjY0LDcgQEAgbm91dmVhdV90dG1fdHRfdW5w
b3B1bGF0ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiAgfQo+Cj4gIHN0YXRpYyB2b2lk
Cj4gLW5vdXZlYXVfdHRtX3R0X2Rlc3Ryb3koc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4g
K25vdXZlYXVfdHRtX3R0X2Rlc3Ryb3koc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4gICAgICAg
ICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3R0ICp0dG0pCj4gIHsKPiAgI2lmIElTX0VOQUJM
RUQoQ09ORklHX0FHUCkKPiBAQCAtMTI5Niw3ICsxMjk2LDcgQEAgbm91dmVhdV9ib19kZWxldGVf
bWVtX25vdGlmeShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvKQo+ICAgICAgICAgbm91dmVh
dV9ib19tb3ZlX250ZnkoYm8sIGZhbHNlLCBOVUxMKTsKPiAgfQo+Cj4gLXN0cnVjdCB0dG1fYm9f
ZHJpdmVyIG5vdXZlYXVfYm9fZHJpdmVyID0gewo+ICtzdHJ1Y3QgdHRtX2RldmljZV9mdW5jcyBu
b3V2ZWF1X2JvX2RyaXZlciA9IHsKPiAgICAgICAgIC50dG1fdHRfY3JlYXRlID0gJm5vdXZlYXVf
dHRtX3R0X2NyZWF0ZSwKPiAgICAgICAgIC50dG1fdHRfcG9wdWxhdGUgPSAmbm91dmVhdV90dG1f
dHRfcG9wdWxhdGUsCj4gICAgICAgICAudHRtX3R0X3VucG9wdWxhdGUgPSAmbm91dmVhdV90dG1f
dHRfdW5wb3B1bGF0ZSwKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbm91
dmVhdV9iby5oIGIvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbm91dmVhdV9iby5oCj4gaW5kZXgg
NjA0NWI4NWE3NjJhLi5jMmQzZjljNDhlYmEgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L25vdXZlYXUvbm91dmVhdV9iby5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbm91
dmVhdV9iby5oCj4gQEAgLTY4LDcgKzY4LDcgQEAgbm91dmVhdV9ib19yZWYoc3RydWN0IG5vdXZl
YXVfYm8gKnJlZiwgc3RydWN0IG5vdXZlYXVfYm8gKipwbnZibykKPiAgICAgICAgIHJldHVybiAw
Owo+ICB9Cj4KPiAtZXh0ZXJuIHN0cnVjdCB0dG1fYm9fZHJpdmVyIG5vdXZlYXVfYm9fZHJpdmVy
Owo+ICtleHRlcm4gc3RydWN0IHR0bV9kZXZpY2VfZnVuY3Mgbm91dmVhdV9ib19kcml2ZXI7Cj4K
PiAgdm9pZCBub3V2ZWF1X2JvX21vdmVfaW5pdChzdHJ1Y3Qgbm91dmVhdV9kcm0gKik7Cj4gIHN0
cnVjdCBub3V2ZWF1X2JvICpub3V2ZWF1X2JvX2FsbG9jKHN0cnVjdCBub3V2ZWF1X2NsaSAqLCB1
NjQgKnNpemUsIGludCAqYWxpZ24sCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9ub3V2
ZWF1L25vdXZlYXVfZHJ2LmggYi9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X2Rydi5o
Cj4gaW5kZXggYzgwMmQzZDFiYTM5Li5lZGY5ZDFlZTlkNTggMTAwNjQ0Cj4gLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL25vdXZlYXUvbm91dmVhdV9kcnYuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9u
b3V2ZWF1L25vdXZlYXVfZHJ2LmgKPiBAQCAtMTUxLDcgKzE1MSw3IEBAIHN0cnVjdCBub3V2ZWF1
X2RybSB7Cj4KPiAgICAgICAgIC8qIFRUTSBpbnRlcmZhY2Ugc3VwcG9ydCAqLwo+ICAgICAgICAg
c3RydWN0IHsKPiAtICAgICAgICAgICAgICAgc3RydWN0IHR0bV9ib19kZXZpY2UgYmRldjsKPiAr
ICAgICAgICAgICAgICAgc3RydWN0IHR0bV9kZXZpY2UgYmRldjsKPiAgICAgICAgICAgICAgICAg
YXRvbWljX3QgdmFsaWRhdGVfc2VxdWVuY2U7Cj4gICAgICAgICAgICAgICAgIGludCAoKm1vdmUp
KHN0cnVjdCBub3V2ZWF1X2NoYW5uZWwgKiwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
c3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICosCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9ub3V2ZWF1L25vdXZlYXVfc2dkbWEuYyBiL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZl
YXVfc2dkbWEuYwo+IGluZGV4IDFjZjUyNjM1ZWE3NC4uMjU2ZWM1YjM1NDczIDEwMDY0NAo+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfc2dkbWEuYwo+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfc2dkbWEuYwo+IEBAIC0xNiw3ICsxNiw3IEBAIHN0
cnVjdCBub3V2ZWF1X3NnZG1hX2JlIHsKPiAgfTsKPgo+ICB2b2lkCj4gLW5vdXZlYXVfc2dkbWFf
ZGVzdHJveShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV90dCAqdHRtKQo+
ICtub3V2ZWF1X3NnZG1hX2Rlc3Ryb3koc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsIHN0cnVjdCB0
dG1fdHQgKnR0bSkKPiAgewo+ICAgICAgICAgc3RydWN0IG5vdXZlYXVfc2dkbWFfYmUgKm52YmUg
PSAoc3RydWN0IG5vdXZlYXVfc2dkbWFfYmUgKil0dG07Cj4KPiBAQCAtMjksNyArMjksNyBAQCBu
b3V2ZWF1X3NnZG1hX2Rlc3Ryb3koc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0
dG1fdHQgKnR0bSkKPiAgfQo+Cj4gIGludAo+IC1ub3V2ZWF1X3NnZG1hX2JpbmQoc3RydWN0IHR0
bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSwgc3RydWN0IHR0bV9yZXNvdXJj
ZSAqcmVnKQo+ICtub3V2ZWF1X3NnZG1hX2JpbmQoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsIHN0
cnVjdCB0dG1fdHQgKnR0bSwgc3RydWN0IHR0bV9yZXNvdXJjZSAqcmVnKQo+ICB7Cj4gICAgICAg
ICBzdHJ1Y3Qgbm91dmVhdV9zZ2RtYV9iZSAqbnZiZSA9IChzdHJ1Y3Qgbm91dmVhdV9zZ2RtYV9i
ZSAqKXR0bTsKPiAgICAgICAgIHN0cnVjdCBub3V2ZWF1X2RybSAqZHJtID0gbm91dmVhdV9iZGV2
KGJkZXYpOwo+IEBAIC01Niw3ICs1Niw3IEBAIG5vdXZlYXVfc2dkbWFfYmluZChzdHJ1Y3QgdHRt
X2JvX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV90dCAqdHRtLCBzdHJ1Y3QgdHRtX3JlCj4gIH0K
Pgo+ICB2b2lkCj4gLW5vdXZlYXVfc2dkbWFfdW5iaW5kKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpi
ZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0pCj4gK25vdXZlYXVfc2dkbWFfdW5iaW5kKHN0cnVjdCB0
dG1fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0pCj4gIHsKPiAgICAgICAgIHN0cnVj
dCBub3V2ZWF1X3NnZG1hX2JlICpudmJlID0gKHN0cnVjdCBub3V2ZWF1X3NnZG1hX2JlICopdHRt
Owo+ICAgICAgICAgaWYgKG52YmUtPm1lbSkgewo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vbm91dmVhdS9ub3V2ZWF1X3R0bS5jIGIvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbm91dmVh
dV90dG0uYwo+IGluZGV4IGEzN2JjM2Q3YjM4Yi4uNDk1Mjg4MTgyYzJkIDEwMDY0NAo+IC0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfdHRtLmMKPiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vbm91dmVhdS9ub3V2ZWF1X3R0bS5jCj4gQEAgLTMyNCwxMCArMzI0LDEwIEBAIG5vdXZl
YXVfdHRtX2luaXQoc3RydWN0IG5vdXZlYXVfZHJtICpkcm0pCj4gICAgICAgICBuZWVkX3N3aW90
bGIgPSAhIXN3aW90bGJfbnJfdGJsKCk7Cj4gICNlbmRpZgo+Cj4gLSAgICAgICByZXQgPSB0dG1f
Ym9fZGV2aWNlX2luaXQoJmRybS0+dHRtLmJkZXYsICZub3V2ZWF1X2JvX2RyaXZlciwKPiAtICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcm0tPmRldi0+ZGV2LCBkZXYtPmFub25faW5v
ZGUtPmlfbWFwcGluZywKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXYtPnZt
YV9vZmZzZXRfbWFuYWdlciwgbmVlZF9zd2lvdGxiLAo+IC0gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGRybS0+Y2xpZW50Lm1tdS5kbWFiaXRzIDw9IDMyKTsKPiArICAgICAgIHJldCA9
IHR0bV9kZXZpY2VfaW5pdCgmZHJtLT50dG0uYmRldiwgJm5vdXZlYXVfYm9fZHJpdmVyLCBkcm0t
PmRldi0+ZGV2LAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXYtPmFub25f
aW5vZGUtPmlfbWFwcGluZywKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2
LT52bWFfb2Zmc2V0X21hbmFnZXIsIG5lZWRfc3dpb3RsYiwKPiArICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgZHJtLT5jbGllbnQubW11LmRtYWJpdHMgPD0gMzIpOwo+ICAgICAgICAg
aWYgKHJldCkgewo+ICAgICAgICAgICAgICAgICBOVl9FUlJPUihkcm0sICJlcnJvciBpbml0aWFs
aXNpbmcgYm8gZHJpdmVyLCAlZFxuIiwgcmV0KTsKPiAgICAgICAgICAgICAgICAgcmV0dXJuIHJl
dDsKPiBAQCAtMzc3LDcgKzM3Nyw3IEBAIG5vdXZlYXVfdHRtX2Zpbmkoc3RydWN0IG5vdXZlYXVf
ZHJtICpkcm0pCj4gICAgICAgICBub3V2ZWF1X3R0bV9maW5pX3ZyYW0oZHJtKTsKPiAgICAgICAg
IG5vdXZlYXVfdHRtX2ZpbmlfZ3R0KGRybSk7Cj4KPiAtICAgICAgIHR0bV9ib19kZXZpY2VfcmVs
ZWFzZSgmZHJtLT50dG0uYmRldik7Cj4gKyAgICAgICB0dG1fZGV2aWNlX2ZpbmkoJmRybS0+dHRt
LmJkZXYpOwo+Cj4gICAgICAgICBhcmNoX3BoeXNfd2NfZGVsKGRybS0+dHRtLm10cnIpOwo+ICAg
ICAgICAgZHJtLT50dG0ubXRyciA9IDA7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9u
b3V2ZWF1L25vdXZlYXVfdHRtLmggYi9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X3R0
bS5oCj4gaW5kZXggNjk1NTIwNDliYjk2Li5kYmY2ZGMyMzhlZmQgMTAwNjQ0Cj4gLS0tIGEvZHJp
dmVycy9ncHUvZHJtL25vdXZlYXUvbm91dmVhdV90dG0uaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9ub3V2ZWF1L25vdXZlYXVfdHRtLmgKPiBAQCAtMyw3ICszLDcgQEAKPiAgI2RlZmluZSBfX05P
VVZFQVVfVFRNX0hfXwo+Cj4gIHN0YXRpYyBpbmxpbmUgc3RydWN0IG5vdXZlYXVfZHJtICoKPiAt
bm91dmVhdV9iZGV2KHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZCkKPiArbm91dmVhdV9iZGV2KHN0
cnVjdCB0dG1fZGV2aWNlICpiZCkKPiAgewo+ICAgICAgICAgcmV0dXJuIGNvbnRhaW5lcl9vZihi
ZCwgc3RydWN0IG5vdXZlYXVfZHJtLCB0dG0uYmRldik7Cj4gIH0KPiBAQCAtMjIsNyArMjIsNyBA
QCBpbnQgIG5vdXZlYXVfdHRtX21tYXAoc3RydWN0IGZpbGUgKiwgc3RydWN0IHZtX2FyZWFfc3Ry
dWN0ICopOwo+ICBpbnQgIG5vdXZlYXVfdHRtX2dsb2JhbF9pbml0KHN0cnVjdCBub3V2ZWF1X2Ry
bSAqKTsKPiAgdm9pZCBub3V2ZWF1X3R0bV9nbG9iYWxfcmVsZWFzZShzdHJ1Y3Qgbm91dmVhdV9k
cm0gKik7Cj4KPiAtaW50IG5vdXZlYXVfc2dkbWFfYmluZChzdHJ1Y3QgdHRtX2JvX2RldmljZSAq
YmRldiwgc3RydWN0IHR0bV90dCAqdHRtLCBzdHJ1Y3QgdHRtX3Jlc291cmNlICpyZWcpOwo+IC12
b2lkIG5vdXZlYXVfc2dkbWFfdW5iaW5kKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LCBzdHJ1
Y3QgdHRtX3R0ICp0dG0pOwo+IC12b2lkIG5vdXZlYXVfc2dkbWFfZGVzdHJveShzdHJ1Y3QgdHRt
X2JvX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV90dCAqdHRtKTsKPiAraW50IG5vdXZlYXVfc2dk
bWFfYmluZChzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV90dCAqdHRtLCBzdHJ1
Y3QgdHRtX3Jlc291cmNlICpyZWcpOwo+ICt2b2lkIG5vdXZlYXVfc2dkbWFfdW5iaW5kKHN0cnVj
dCB0dG1fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0pOwo+ICt2b2lkIG5vdXZlYXVf
c2dkbWFfZGVzdHJveShzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV90dCAqdHRt
KTsKPiAgI2VuZGlmCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9xeGwvcXhsX2Rydi5o
IGIvZHJpdmVycy9ncHUvZHJtL3F4bC9xeGxfZHJ2LmgKPiBpbmRleCA4M2I1NGYwZGFkNjEuLjAx
MzU0YjQzYzQxMyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vcXhsL3F4bF9kcnYuaAo+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9xeGwvcXhsX2Rydi5oCj4gQEAgLTEyNSw3ICsxMjUsNyBA
QCBzdHJ1Y3QgcXhsX291dHB1dCB7Cj4gICNkZWZpbmUgZHJtX2VuY29kZXJfdG9fcXhsX291dHB1
dCh4KSBjb250YWluZXJfb2YoeCwgc3RydWN0IHF4bF9vdXRwdXQsIGVuYykKPgo+ICBzdHJ1Y3Qg
cXhsX21tYW4gewo+IC0gICAgICAgc3RydWN0IHR0bV9ib19kZXZpY2UgICAgICAgICAgICBiZGV2
Owo+ICsgICAgICAgc3RydWN0IHR0bV9kZXZpY2UgICAgICAgICAgICAgICBiZGV2Owo+ICB9Owo+
Cj4gIHN0cnVjdCBxeGxfbWVtc2xvdCB7Cj4gQEAgLTMzNSw3ICszMzUsNyBAQCBpbnQgcXhsX21v
ZGVfZHVtYl9tbWFwKHN0cnVjdCBkcm1fZmlsZSAqZmlscCwKPiAgLyogcXhsIHR0bSAqLwo+ICBp
bnQgcXhsX3R0bV9pbml0KHN0cnVjdCBxeGxfZGV2aWNlICpxZGV2KTsKPiAgdm9pZCBxeGxfdHRt
X2Zpbmkoc3RydWN0IHF4bF9kZXZpY2UgKnFkZXYpOwo+IC1pbnQgcXhsX3R0bV9pb19tZW1fcmVz
ZXJ2ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiAraW50IHF4bF90dG1faW9fbWVtX3Jl
c2VydmUoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4gICAgICAgICAgICAgICAgICAgICAgICAg
ICAgc3RydWN0IHR0bV9yZXNvdXJjZSAqbWVtKTsKPgo+ICAvKiBxeGwgaW1hZ2UgKi8KPiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3F4bC9xeGxfcmVsZWFzZS5jIGIvZHJpdmVycy9ncHUv
ZHJtL3F4bC9xeGxfcmVsZWFzZS5jCj4gaW5kZXggMGZjZmM5NTJkNWU5Li5jNTI0MTI3MjRjMjYg
MTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3F4bC9xeGxfcmVsZWFzZS5jCj4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL3F4bC9xeGxfcmVsZWFzZS5jCj4gQEAgLTQyOSw3ICs0MjksNyBAQCB2
b2lkIHF4bF9yZWxlYXNlX3VubWFwKHN0cnVjdCBxeGxfZGV2aWNlICpxZGV2LAo+ICB2b2lkIHF4
bF9yZWxlYXNlX2ZlbmNlX2J1ZmZlcl9vYmplY3RzKHN0cnVjdCBxeGxfcmVsZWFzZSAqcmVsZWFz
ZSkKPiAgewo+ICAgICAgICAgc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibzsKPiAtICAgICAg
IHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2Owo+ICsgICAgICAgc3RydWN0IHR0bV9kZXZpY2Ug
KmJkZXY7Cj4gICAgICAgICBzdHJ1Y3QgdHRtX3ZhbGlkYXRlX2J1ZmZlciAqZW50cnk7Cj4gICAg
ICAgICBzdHJ1Y3QgcXhsX2RldmljZSAqcWRldjsKPgo+IEBAIC00NTAsNyArNDUwLDcgQEAgdm9p
ZCBxeGxfcmVsZWFzZV9mZW5jZV9idWZmZXJfb2JqZWN0cyhzdHJ1Y3QgcXhsX3JlbGVhc2UgKnJl
bGVhc2UpCj4gICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlLT5pZCB8IDB4ZjAwMDAwMDAs
IHJlbGVhc2UtPmJhc2Uuc2Vxbm8pOwo+ICAgICAgICAgdHJhY2VfZG1hX2ZlbmNlX2VtaXQoJnJl
bGVhc2UtPmJhc2UpOwo+Cj4gLSAgICAgICBzcGluX2xvY2soJnR0bV9ib19nbG9iLmxydV9sb2Nr
KTsKPiArICAgICAgIHNwaW5fbG9jaygmdHRtX2dsb2IubHJ1X2xvY2spOwo+Cj4gICAgICAgICBs
aXN0X2Zvcl9lYWNoX2VudHJ5KGVudHJ5LCAmcmVsZWFzZS0+Ym9zLCBoZWFkKSB7Cj4gICAgICAg
ICAgICAgICAgIGJvID0gZW50cnktPmJvOwo+IEBAIC00NTksNyArNDU5LDcgQEAgdm9pZCBxeGxf
cmVsZWFzZV9mZW5jZV9idWZmZXJfb2JqZWN0cyhzdHJ1Y3QgcXhsX3JlbGVhc2UgKnJlbGVhc2Up
Cj4gICAgICAgICAgICAgICAgIHR0bV9ib19tb3ZlX3RvX2xydV90YWlsKGJvLCAmYm8tPm1lbSwg
TlVMTCk7Cj4gICAgICAgICAgICAgICAgIGRtYV9yZXN2X3VubG9jayhiby0+YmFzZS5yZXN2KTsK
PiAgICAgICAgIH0KPiAtICAgICAgIHNwaW5fdW5sb2NrKCZ0dG1fYm9fZ2xvYi5scnVfbG9jayk7
Cj4gKyAgICAgICBzcGluX3VubG9jaygmdHRtX2dsb2IubHJ1X2xvY2spOwo+ICAgICAgICAgd3df
YWNxdWlyZV9maW5pKCZyZWxlYXNlLT50aWNrZXQpOwo+ICB9Cj4KPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL3F4bC9xeGxfdHRtLmMgYi9kcml2ZXJzL2dwdS9kcm0vcXhsL3F4bF90dG0u
Ywo+IGluZGV4IDMzYzA5ZGM5NGY4Yi4uYjdmNzdlYjY4NWNiIDEwMDY0NAo+IC0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9xeGwvcXhsX3R0bS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3F4bC9xeGxf
dHRtLmMKPiBAQCAtMzYsNyArMzYsNyBAQAo+ICAjaW5jbHVkZSAicXhsX2Rydi5oIgo+ICAjaW5j
bHVkZSAicXhsX29iamVjdC5oIgo+Cj4gLXN0YXRpYyBzdHJ1Y3QgcXhsX2RldmljZSAqcXhsX2dl
dF9xZGV2KHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2KQo+ICtzdGF0aWMgc3RydWN0IHF4bF9k
ZXZpY2UgKnF4bF9nZXRfcWRldihzdHJ1Y3QgdHRtX2RldmljZSAqYmRldikKPiAgewo+ICAgICAg
ICAgc3RydWN0IHF4bF9tbWFuICptbWFuOwo+ICAgICAgICAgc3RydWN0IHF4bF9kZXZpY2UgKnFk
ZXY7Cj4gQEAgLTY5LDcgKzY5LDcgQEAgc3RhdGljIHZvaWQgcXhsX2V2aWN0X2ZsYWdzKHN0cnVj
dCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCj4gICAgICAgICAqcGxhY2VtZW50ID0gcWJvLT5wbGFj
ZW1lbnQ7Cj4gIH0KPgo+IC1pbnQgcXhsX3R0bV9pb19tZW1fcmVzZXJ2ZShzdHJ1Y3QgdHRtX2Jv
X2RldmljZSAqYmRldiwKPiAraW50IHF4bF90dG1faW9fbWVtX3Jlc2VydmUoc3RydWN0IHR0bV9k
ZXZpY2UgKmJkZXYsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHR0bV9yZXNv
dXJjZSAqbWVtKQo+ICB7Cj4gICAgICAgICBzdHJ1Y3QgcXhsX2RldmljZSAqcWRldiA9IHF4bF9n
ZXRfcWRldihiZGV2KTsKPiBAQCAtOTgsOCArOTgsNyBAQCBpbnQgcXhsX3R0bV9pb19tZW1fcmVz
ZXJ2ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiAgLyoKPiAgICogVFRNIGJhY2tlbmQg
ZnVuY3Rpb25zLgo+ICAgKi8KPiAtc3RhdGljIHZvaWQgcXhsX3R0bV9iYWNrZW5kX2Rlc3Ryb3ko
c3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgc3RydWN0IHR0bV90dCAqdHRtKQo+ICtzdGF0aWMgdm9pZCBxeGxfdHRtX2JhY2tl
bmRfZGVzdHJveShzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV90dCAqdHRtKQo+
ICB7Cj4gICAgICAgICB0dG1fdHRfZGVzdHJveV9jb21tb24oYmRldiwgdHRtKTsKPiAgICAgICAg
IHR0bV90dF9maW5pKHR0bSk7Cj4gQEAgLTE3MCw3ICsxNjksNyBAQCBzdGF0aWMgdm9pZCBxeGxf
Ym9fZGVsZXRlX21lbV9ub3RpZnkoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibykKPiAgICAg
ICAgIHF4bF9ib19tb3ZlX25vdGlmeShibywgZmFsc2UsIE5VTEwpOwo+ICB9Cj4KPiAtc3RhdGlj
IHN0cnVjdCB0dG1fYm9fZHJpdmVyIHF4bF9ib19kcml2ZXIgPSB7Cj4gK3N0YXRpYyBzdHJ1Y3Qg
dHRtX2RldmljZV9mdW5jcyBxeGxfYm9fZHJpdmVyID0gewo+ICAgICAgICAgLnR0bV90dF9jcmVh
dGUgPSAmcXhsX3R0bV90dF9jcmVhdGUsCj4gICAgICAgICAudHRtX3R0X2Rlc3Ryb3kgPSAmcXhs
X3R0bV9iYWNrZW5kX2Rlc3Ryb3ksCj4gICAgICAgICAuZXZpY3Rpb25fdmFsdWFibGUgPSB0dG1f
Ym9fZXZpY3Rpb25fdmFsdWFibGUsCj4gQEAgLTE5MywxMCArMTkyLDEwIEBAIGludCBxeGxfdHRt
X2luaXQoc3RydWN0IHF4bF9kZXZpY2UgKnFkZXYpCj4gICAgICAgICBpbnQgbnVtX2lvX3BhZ2Vz
OyAvKiAhPSByb20tPm51bV9pb19wYWdlcywgd2UgaW5jbHVkZSBzdXJmYWNlMCAqLwo+Cj4gICAg
ICAgICAvKiBObyBvdGhlcnMgdXNlciBvZiBhZGRyZXNzIHNwYWNlIHNvIHNldCBpdCB0byAwICov
Cj4gLSAgICAgICByID0gdHRtX2JvX2RldmljZV9pbml0KCZxZGV2LT5tbWFuLmJkZXYsICZxeGxf
Ym9fZHJpdmVyLCBOVUxMLAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxZGV2LT5k
ZGV2LmFub25faW5vZGUtPmlfbWFwcGluZywKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgcWRldi0+ZGRldi52bWFfb2Zmc2V0X21hbmFnZXIsCj4gLSAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGZhbHNlLCBmYWxzZSk7Cj4gKyAgICAgICByID0gdHRtX2RldmljZV9pbml0KCZx
ZGV2LT5tbWFuLmJkZXYsICZxeGxfYm9fZHJpdmVyLCBOVUxMLAo+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICBxZGV2LT5kZGV2LmFub25faW5vZGUtPmlfbWFwcGluZywKPiArICAgICAgICAg
ICAgICAgICAgICAgICAgICAgcWRldi0+ZGRldi52bWFfb2Zmc2V0X21hbmFnZXIsCj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgIGZhbHNlLCBmYWxzZSk7Cj4gICAgICAgICBpZiAocikgewo+
ICAgICAgICAgICAgICAgICBEUk1fRVJST1IoImZhaWxlZCBpbml0aWFsaXppbmcgYnVmZmVyIG9i
amVjdCBkcml2ZXIoJWQpLlxuIiwgcik7Cj4gICAgICAgICAgICAgICAgIHJldHVybiByOwo+IEBA
IC0yMjcsNyArMjI2LDcgQEAgdm9pZCBxeGxfdHRtX2Zpbmkoc3RydWN0IHF4bF9kZXZpY2UgKnFk
ZXYpCj4gIHsKPiAgICAgICAgIHR0bV9yYW5nZV9tYW5fZmluaSgmcWRldi0+bW1hbi5iZGV2LCBU
VE1fUExfVlJBTSk7Cj4gICAgICAgICB0dG1fcmFuZ2VfbWFuX2ZpbmkoJnFkZXYtPm1tYW4uYmRl
diwgVFRNX1BMX1BSSVYpOwo+IC0gICAgICAgdHRtX2JvX2RldmljZV9yZWxlYXNlKCZxZGV2LT5t
bWFuLmJkZXYpOwo+ICsgICAgICAgdHRtX2RldmljZV9maW5pKCZxZGV2LT5tbWFuLmJkZXYpOwo+
ICAgICAgICAgRFJNX0lORk8oInF4bDogdHRtIGZpbmFsaXplZFxuIik7Cj4gIH0KPgo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbi5oIGIvZHJpdmVycy9ncHUvZHJt
L3JhZGVvbi9yYWRlb24uaAo+IGluZGV4IGYwOTk4OWJkY2U5OC4uNDQ5YmEwMDk1ZWQ5IDEwMDY0
NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFkZW9uLmgKPiArKysgYi9kcml2ZXJz
L2dwdS9kcm0vcmFkZW9uL3JhZGVvbi5oCj4gQEAgLTQ1MSw3ICs0NTEsNyBAQCBzdHJ1Y3QgcmFk
ZW9uX3N1cmZhY2VfcmVnIHsKPiAgICogVFRNLgo+ICAgKi8KPiAgc3RydWN0IHJhZGVvbl9tbWFu
IHsKPiAtICAgICAgIHN0cnVjdCB0dG1fYm9fZGV2aWNlICAgICAgICAgICAgYmRldjsKPiArICAg
ICAgIHN0cnVjdCB0dG1fZGV2aWNlICAgICAgICAgICAgICAgYmRldjsKPiAgICAgICAgIGJvb2wg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6ZWQ7Cj4KPiAgI2lmIGRlZmluZWQo
Q09ORklHX0RFQlVHX0ZTKQo+IEBAIC0yODIyLDcgKzI4MjIsNyBAQCBleHRlcm4gaW50IHJhZGVv
bl90dG1fdHRfc2V0X3VzZXJwdHIoc3RydWN0IHJhZGVvbl9kZXZpY2UgKnJkZXYsCj4gICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQzMl90IGZsYWdzKTsKPiAgZXh0ZXJu
IGJvb2wgcmFkZW9uX3R0bV90dF9oYXNfdXNlcnB0cihzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRl
diwgc3RydWN0IHR0bV90dCAqdHRtKTsKPiAgZXh0ZXJuIGJvb2wgcmFkZW9uX3R0bV90dF9pc19y
ZWFkb25seShzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldiwgc3RydWN0IHR0bV90dCAqdHRtKTsK
PiAtYm9vbCByYWRlb25fdHRtX3R0X2lzX2JvdW5kKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2
LCBzdHJ1Y3QgdHRtX3R0ICp0dG0pOwo+ICtib29sIHJhZGVvbl90dG1fdHRfaXNfYm91bmQoc3Ry
dWN0IHR0bV9kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSk7Cj4gIGV4dGVybiB2b2lk
IHJhZGVvbl92cmFtX2xvY2F0aW9uKHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2LCBzdHJ1Y3Qg
cmFkZW9uX21jICptYywgdTY0IGJhc2UpOwo+ICBleHRlcm4gdm9pZCByYWRlb25fZ3R0X2xvY2F0
aW9uKHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2LCBzdHJ1Y3QgcmFkZW9uX21jICptYyk7Cj4g
IGV4dGVybiBpbnQgcmFkZW9uX3Jlc3VtZV9rbXMoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgYm9v
bCByZXN1bWUsIGJvb2wgZmJjb24pOwo+IEBAIC0yODMyLDcgKzI4MzIsNyBAQCBleHRlcm4gdm9p
ZCByYWRlb25fdHRtX3NldF9hY3RpdmVfdnJhbV9zaXplKHN0cnVjdCByYWRlb25fZGV2aWNlICpy
ZGV2LCB1NjQgc2l6ZQo+ICBleHRlcm4gdm9pZCByYWRlb25fcHJvZ3JhbV9yZWdpc3Rlcl9zZXF1
ZW5jZShzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldiwKPiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1MzIgKnJlZ2lzdGVycywKPiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1MzIgYXJyYXlfc2l6ZSk7
Cj4gLXN0cnVjdCByYWRlb25fZGV2aWNlICpyYWRlb25fZ2V0X3JkZXYoc3RydWN0IHR0bV9ib19k
ZXZpY2UgKmJkZXYpOwo+ICtzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmFkZW9uX2dldF9yZGV2KHN0
cnVjdCB0dG1fZGV2aWNlICpiZGV2KTsKPgo+ICAvKiBLTVMgKi8KPgo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl9vYmplY3QuYyBiL2RyaXZlcnMvZ3B1L2RybS9y
YWRlb24vcmFkZW9uX29iamVjdC5jCj4gaW5kZXggOWI4MTc4Njc4MmRlLi42YTMzNjI4NDQ2NmYg
MTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fb2JqZWN0LmMKPiAr
KysgYi9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl9vYmplY3QuYwo+IEBAIC0zNzIsNyAr
MzcyLDcgQEAgdm9pZCByYWRlb25fYm9fdW5waW4oc3RydWN0IHJhZGVvbl9ibyAqYm8pCj4KPiAg
aW50IHJhZGVvbl9ib19ldmljdF92cmFtKHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2KQo+ICB7
Cj4gLSAgICAgICBzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiA9ICZyZGV2LT5tbWFuLmJkZXY7
Cj4gKyAgICAgICBzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiA9ICZyZGV2LT5tbWFuLmJkZXY7Cj4g
ICAgICAgICBzdHJ1Y3QgdHRtX3Jlc291cmNlX21hbmFnZXIgKm1hbjsKPgo+ICAgICAgICAgLyog
bGF0ZSAyLjYuMzMgZml4IElHUCBoaWJlcm5hdGUgLSB3ZSBuZWVkIHBtIG9wcyB0byBkbyB0aGlz
IGNvcnJlY3QgKi8KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25f
dHRtLmMgYi9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl90dG0uYwo+IGluZGV4IGM2ZDU3
NWY1MGM0OC4uNWVkNmE0ODI0NmQ2IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9yYWRl
b24vcmFkZW9uX3R0bS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fdHRt
LmMKPiBAQCAtNTUsMTMgKzU1LDExIEBACj4gIHN0YXRpYyBpbnQgcmFkZW9uX3R0bV9kZWJ1Z2Zz
X2luaXQoc3RydWN0IHJhZGVvbl9kZXZpY2UgKnJkZXYpOwo+ICBzdGF0aWMgdm9pZCByYWRlb25f
dHRtX2RlYnVnZnNfZmluaShzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldik7Cj4KPiAtc3RhdGlj
IGludCByYWRlb25fdHRtX3R0X2JpbmQoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gLSAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHR0bV90dCAqdHRtLAo+ICtzdGF0aWMg
aW50IHJhZGVvbl90dG1fdHRfYmluZChzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwgc3RydWN0IHR0
bV90dCAqdHRtLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fcmVz
b3VyY2UgKmJvX21lbSk7Cj4gLXN0YXRpYyB2b2lkIHJhZGVvbl90dG1fdHRfdW5iaW5kKHN0cnVj
dCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHN0cnVjdCB0dG1fdHQgKnR0bSk7Cj4gK3N0YXRpYyB2b2lkIHJhZGVvbl90dG1fdHRfdW5iaW5k
KHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0pOwo+Cj4gLXN0cnVj
dCByYWRlb25fZGV2aWNlICpyYWRlb25fZ2V0X3JkZXYoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJk
ZXYpCj4gK3N0cnVjdCByYWRlb25fZGV2aWNlICpyYWRlb25fZ2V0X3JkZXYoc3RydWN0IHR0bV9k
ZXZpY2UgKmJkZXYpCj4gIHsKPiAgICAgICAgIHN0cnVjdCByYWRlb25fbW1hbiAqbW1hbjsKPiAg
ICAgICAgIHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2Owo+IEBAIC0yODAsNyArMjc4LDcgQEAg
c3RhdGljIGludCByYWRlb25fYm9fbW92ZShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLCBi
b29sIGV2aWN0LAo+ICAgICAgICAgcmV0dXJuIDA7Cj4gIH0KPgo+IC1zdGF0aWMgaW50IHJhZGVv
bl90dG1faW9fbWVtX3Jlc2VydmUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0
dG1fcmVzb3VyY2UgKm1lbSkKPiArc3RhdGljIGludCByYWRlb25fdHRtX2lvX21lbV9yZXNlcnZl
KHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3Jlc291cmNlICptZW0pCj4gIHsK
PiAgICAgICAgIHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2ID0gcmFkZW9uX2dldF9yZGV2KGJk
ZXYpOwo+ICAgICAgICAgc2l6ZV90IGJ1c19zaXplID0gKHNpemVfdCltZW0tPm51bV9wYWdlcyA8
PCBQQUdFX1NISUZUOwo+IEBAIC0zNDcsNyArMzQ1LDcgQEAgc3RydWN0IHJhZGVvbl90dG1fdHQg
ewo+ICB9Owo+Cj4gIC8qIHByZXBhcmUgdGhlIHNnIHRhYmxlIHdpdGggdGhlIHVzZXIgcGFnZXMg
Ki8KPiAtc3RhdGljIGludCByYWRlb25fdHRtX3R0X3Bpbl91c2VycHRyKHN0cnVjdCB0dG1fYm9f
ZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0pCj4gK3N0YXRpYyBpbnQgcmFkZW9uX3R0
bV90dF9waW5fdXNlcnB0cihzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV90dCAq
dHRtKQo+ICB7Cj4gICAgICAgICBzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldiA9IHJhZGVvbl9n
ZXRfcmRldihiZGV2KTsKPiAgICAgICAgIHN0cnVjdCByYWRlb25fdHRtX3R0ICpndHQgPSAodm9p
ZCAqKXR0bTsKPiBAQCAtNDA4LDcgKzQwNiw3IEBAIHN0YXRpYyBpbnQgcmFkZW9uX3R0bV90dF9w
aW5fdXNlcnB0cihzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV90dCAqCj4g
ICAgICAgICByZXR1cm4gcjsKPiAgfQo+Cj4gLXN0YXRpYyB2b2lkIHJhZGVvbl90dG1fdHRfdW5w
aW5fdXNlcnB0cihzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV90dCAqdHRt
KQo+ICtzdGF0aWMgdm9pZCByYWRlb25fdHRtX3R0X3VucGluX3VzZXJwdHIoc3RydWN0IHR0bV9k
ZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSkKPiAgewo+ICAgICAgICAgc3RydWN0IHJh
ZGVvbl9kZXZpY2UgKnJkZXYgPSByYWRlb25fZ2V0X3JkZXYoYmRldik7Cj4gICAgICAgICBzdHJ1
Y3QgcmFkZW9uX3R0bV90dCAqZ3R0ID0gKHZvaWQgKil0dG07Cj4gQEAgLTQ0NCw3ICs0NDIsNyBA
QCBzdGF0aWMgYm9vbCByYWRlb25fdHRtX2JhY2tlbmRfaXNfYm91bmQoc3RydWN0IHR0bV90dCAq
dHRtKQo+ICAgICAgICAgcmV0dXJuIChndHQtPmJvdW5kKTsKPiAgfQo+Cj4gLXN0YXRpYyBpbnQg
cmFkZW9uX3R0bV9iYWNrZW5kX2JpbmQoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gK3N0
YXRpYyBpbnQgcmFkZW9uX3R0bV9iYWNrZW5kX2JpbmQoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYs
Cj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3R0ICp0dG0s
Cj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3Jlc291cmNl
ICpib19tZW0pCj4gIHsKPiBAQCAtNDgwLDcgKzQ3OCw3IEBAIHN0YXRpYyBpbnQgcmFkZW9uX3R0
bV9iYWNrZW5kX2JpbmQoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gICAgICAgICByZXR1
cm4gMDsKPiAgfQo+Cj4gLXN0YXRpYyB2b2lkIHJhZGVvbl90dG1fYmFja2VuZF91bmJpbmQoc3Ry
dWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSkKPiArc3RhdGljIHZv
aWQgcmFkZW9uX3R0bV9iYWNrZW5kX3VuYmluZChzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwgc3Ry
dWN0IHR0bV90dCAqdHRtKQo+ICB7Cj4gICAgICAgICBzdHJ1Y3QgcmFkZW9uX3R0bV90dCAqZ3R0
ID0gKHZvaWQgKil0dG07Cj4gICAgICAgICBzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldiA9IHJh
ZGVvbl9nZXRfcmRldihiZGV2KTsKPiBAQCAtNDk1LDcgKzQ5Myw3IEBAIHN0YXRpYyB2b2lkIHJh
ZGVvbl90dG1fYmFja2VuZF91bmJpbmQoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVj
dCB0dG1fdHQKPiAgICAgICAgIGd0dC0+Ym91bmQgPSBmYWxzZTsKPiAgfQo+Cj4gLXN0YXRpYyB2
b2lkIHJhZGVvbl90dG1fYmFja2VuZF9kZXN0cm95KHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2
LCBzdHJ1Y3QgdHRtX3R0ICp0dG0pCj4gK3N0YXRpYyB2b2lkIHJhZGVvbl90dG1fYmFja2VuZF9k
ZXN0cm95KHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0pCj4gIHsK
PiAgICAgICAgIHN0cnVjdCByYWRlb25fdHRtX3R0ICpndHQgPSAodm9pZCAqKXR0bTsKPgo+IEBA
IC01NTQsNyArNTUyLDcgQEAgc3RhdGljIHN0cnVjdCByYWRlb25fdHRtX3R0ICpyYWRlb25fdHRt
X3R0X3RvX2d0dChzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldiwKPiAgICAgICAgIHJldHVybiBj
b250YWluZXJfb2YodHRtLCBzdHJ1Y3QgcmFkZW9uX3R0bV90dCwgdHRtKTsKPiAgfQo+Cj4gLXN0
YXRpYyBpbnQgcmFkZW9uX3R0bV90dF9wb3B1bGF0ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRl
diwKPiArc3RhdGljIGludCByYWRlb25fdHRtX3R0X3BvcHVsYXRlKHN0cnVjdCB0dG1fZGV2aWNl
ICpiZGV2LAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3R0
ICp0dG0sCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fb3Bl
cmF0aW9uX2N0eCAqY3R4KQo+ICB7Cj4gQEAgLTU4MCw3ICs1NzgsNyBAQCBzdGF0aWMgaW50IHJh
ZGVvbl90dG1fdHRfcG9wdWxhdGUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gICAgICAg
ICByZXR1cm4gdHRtX3Bvb2xfYWxsb2MoJnJkZXYtPm1tYW4uYmRldi5wb29sLCB0dG0sIGN0eCk7
Cj4gIH0KPgo+IC1zdGF0aWMgdm9pZCByYWRlb25fdHRtX3R0X3VucG9wdWxhdGUoc3RydWN0IHR0
bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSkKPiArc3RhdGljIHZvaWQgcmFk
ZW9uX3R0bV90dF91bnBvcHVsYXRlKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRt
X3R0ICp0dG0pCj4gIHsKPiAgICAgICAgIHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2ID0gcmFk
ZW9uX2dldF9yZGV2KGJkZXYpOwo+ICAgICAgICAgc3RydWN0IHJhZGVvbl90dG1fdHQgKmd0dCA9
IHJhZGVvbl90dG1fdHRfdG9fZ3R0KHJkZXYsIHR0bSk7Cj4gQEAgLTYxMyw3ICs2MTEsNyBAQCBp
bnQgcmFkZW9uX3R0bV90dF9zZXRfdXNlcnB0cihzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldiwK
PiAgICAgICAgIHJldHVybiAwOwo+ICB9Cj4KPiAtYm9vbCByYWRlb25fdHRtX3R0X2lzX2JvdW5k
KHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICtib29sIHJhZGVvbl90dG1fdHRfaXNfYm91
bmQoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHN0cnVjdCB0dG1fdHQgKnR0bSkKPiAgewo+ICAjaWYgSVNfRU5BQkxFRChDT05GSUdfQUdQKQo+
IEBAIC02MjQsNyArNjIyLDcgQEAgYm9vbCByYWRlb25fdHRtX3R0X2lzX2JvdW5kKHN0cnVjdCB0
dG1fYm9fZGV2aWNlICpiZGV2LAo+ICAgICAgICAgcmV0dXJuIHJhZGVvbl90dG1fYmFja2VuZF9p
c19ib3VuZCh0dG0pOwo+ICB9Cj4KPiAtc3RhdGljIGludCByYWRlb25fdHRtX3R0X2JpbmQoc3Ry
dWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gK3N0YXRpYyBpbnQgcmFkZW9uX3R0bV90dF9iaW5k
KHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHN0cnVjdCB0dG1fdHQgKnR0bSwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1
Y3QgdHRtX3Jlc291cmNlICpib19tZW0pCj4gIHsKPiBAQCAtNjQyLDcgKzY0MCw3IEBAIHN0YXRp
YyBpbnQgcmFkZW9uX3R0bV90dF9iaW5kKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICAg
ICAgICAgcmV0dXJuIHJhZGVvbl90dG1fYmFja2VuZF9iaW5kKGJkZXYsIHR0bSwgYm9fbWVtKTsK
PiAgfQo+Cj4gLXN0YXRpYyB2b2lkIHJhZGVvbl90dG1fdHRfdW5iaW5kKHN0cnVjdCB0dG1fYm9f
ZGV2aWNlICpiZGV2LAo+ICtzdGF0aWMgdm9pZCByYWRlb25fdHRtX3R0X3VuYmluZChzdHJ1Y3Qg
dHRtX2RldmljZSAqYmRldiwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1
Y3QgdHRtX3R0ICp0dG0pCj4gIHsKPiAgI2lmIElTX0VOQUJMRUQoQ09ORklHX0FHUCkKPiBAQCAt
NjU2LDcgKzY1NCw3IEBAIHN0YXRpYyB2b2lkIHJhZGVvbl90dG1fdHRfdW5iaW5kKHN0cnVjdCB0
dG1fYm9fZGV2aWNlICpiZGV2LAo+ICAgICAgICAgcmFkZW9uX3R0bV9iYWNrZW5kX3VuYmluZChi
ZGV2LCB0dG0pOwo+ICB9Cj4KPiAtc3RhdGljIHZvaWQgcmFkZW9uX3R0bV90dF9kZXN0cm95KHN0
cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICtzdGF0aWMgdm9pZCByYWRlb25fdHRtX3R0X2Rl
c3Ryb3koc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4gICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHN0cnVjdCB0dG1fdHQgKnR0bSkKPiAgewo+ICAjaWYgSVNfRU5BQkxFRChDT05G
SUdfQUdQKQo+IEBAIC03MDAsNyArNjk4LDcgQEAgcmFkZW9uX2JvX2RlbGV0ZV9tZW1fbm90aWZ5
KHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8pCj4gICAgICAgICByYWRlb25fYm9fbW92ZV9u
b3RpZnkoYm8sIGZhbHNlLCBOVUxMKTsKPiAgfQo+Cj4gLXN0YXRpYyBzdHJ1Y3QgdHRtX2JvX2Ry
aXZlciByYWRlb25fYm9fZHJpdmVyID0gewo+ICtzdGF0aWMgc3RydWN0IHR0bV9kZXZpY2VfZnVu
Y3MgcmFkZW9uX2JvX2RyaXZlciA9IHsKPiAgICAgICAgIC50dG1fdHRfY3JlYXRlID0gJnJhZGVv
bl90dG1fdHRfY3JlYXRlLAo+ICAgICAgICAgLnR0bV90dF9wb3B1bGF0ZSA9ICZyYWRlb25fdHRt
X3R0X3BvcHVsYXRlLAo+ICAgICAgICAgLnR0bV90dF91bnBvcHVsYXRlID0gJnJhZGVvbl90dG1f
dHRfdW5wb3B1bGF0ZSwKPiBAQCAtNzE4LDcgKzcxNiw3IEBAIGludCByYWRlb25fdHRtX2luaXQo
c3RydWN0IHJhZGVvbl9kZXZpY2UgKnJkZXYpCj4gICAgICAgICBpbnQgcjsKPgo+ICAgICAgICAg
LyogTm8gb3RoZXJzIHVzZXIgb2YgYWRkcmVzcyBzcGFjZSBzbyBzZXQgaXQgdG8gMCAqLwo+IC0g
ICAgICAgciA9IHR0bV9ib19kZXZpY2VfaW5pdCgmcmRldi0+bW1hbi5iZGV2LCAmcmFkZW9uX2Jv
X2RyaXZlciwgcmRldi0+ZGV2LAo+ICsgICAgICAgciA9IHR0bV9kZXZpY2VfaW5pdCgmcmRldi0+
bW1hbi5iZGV2LCAmcmFkZW9uX2JvX2RyaXZlciwgcmRldi0+ZGV2LAo+ICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICByZGV2LT5kZGV2LT5hbm9uX2lub2RlLT5pX21hcHBpbmcsCj4gICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJkZXYtPmRkZXYtPnZtYV9vZmZzZXRfbWFuYWdl
ciwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmRldi0+bmVlZF9zd2lvdGxiLAo+
IEBAIC03OTEsNyArNzg5LDcgQEAgdm9pZCByYWRlb25fdHRtX2Zpbmkoc3RydWN0IHJhZGVvbl9k
ZXZpY2UgKnJkZXYpCj4gICAgICAgICB9Cj4gICAgICAgICB0dG1fcmFuZ2VfbWFuX2ZpbmkoJnJk
ZXYtPm1tYW4uYmRldiwgVFRNX1BMX1ZSQU0pOwo+ICAgICAgICAgdHRtX3JhbmdlX21hbl9maW5p
KCZyZGV2LT5tbWFuLmJkZXYsIFRUTV9QTF9UVCk7Cj4gLSAgICAgICB0dG1fYm9fZGV2aWNlX3Jl
bGVhc2UoJnJkZXYtPm1tYW4uYmRldik7Cj4gKyAgICAgICB0dG1fZGV2aWNlX2ZpbmkoJnJkZXYt
Pm1tYW4uYmRldik7Cj4gICAgICAgICByYWRlb25fZ2FydF9maW5pKHJkZXYpOwo+ICAgICAgICAg
cmRldi0+bW1hbi5pbml0aWFsaXplZCA9IGZhbHNlOwo+ICAgICAgICAgRFJNX0lORk8oInJhZGVv
bjogdHRtIGZpbmFsaXplZFxuIik7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS90dG0v
TWFrZWZpbGUgYi9kcml2ZXJzL2dwdS9kcm0vdHRtL01ha2VmaWxlCj4gaW5kZXggYjZmNWY4N2Iy
NzBmLi44ZTY0MzdlYWRhYmUgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3R0bS9NYWtl
ZmlsZQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS90dG0vTWFrZWZpbGUKPiBAQCAtNSw3ICs1LDcg
QEAKPiAgdHRtLXkgOj0gdHRtX21lbW9yeS5vIHR0bV90dC5vIHR0bV9iby5vIFwKPiAgICAgICAg
IHR0bV9ib191dGlsLm8gdHRtX2JvX3ZtLm8gdHRtX21vZHVsZS5vIFwKPiAgICAgICAgIHR0bV9l
eGVjYnVmX3V0aWwubyB0dG1fcmFuZ2VfbWFuYWdlci5vIFwKPiAtICAgICAgIHR0bV9yZXNvdXJj
ZS5vIHR0bV9wb29sLm8KPiArICAgICAgIHR0bV9yZXNvdXJjZS5vIHR0bV9wb29sLm8gdHRtX2Rl
dmljZS5vCj4gIHR0bS0kKENPTkZJR19BR1ApICs9IHR0bV9hZ3BfYmFja2VuZC5vCj4KPiAgb2Jq
LSQoQ09ORklHX0RSTV9UVE0pICs9IHR0bS5vCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS90dG0vdHRtX2FncF9iYWNrZW5kLmMgYi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9hZ3BfYmFj
a2VuZC5jCj4gaW5kZXggOGY5ZmE0MTg4ODk3Li4wMjI2YWU2OWQzYWIgMTAwNjQ0Cj4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYWdwX2JhY2tlbmQuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1
L2RybS90dG0vdHRtX2FncF9iYWNrZW5kLmMKPiBAQCAtNDksNyArNDksNyBAQCBzdHJ1Y3QgdHRt
X2FncF9iYWNrZW5kIHsKPiAgaW50IHR0bV9hZ3BfYmluZChzdHJ1Y3QgdHRtX3R0ICp0dG0sIHN0
cnVjdCB0dG1fcmVzb3VyY2UgKmJvX21lbSkKPiAgewo+ICAgICAgICAgc3RydWN0IHR0bV9hZ3Bf
YmFja2VuZCAqYWdwX2JlID0gY29udGFpbmVyX29mKHR0bSwgc3RydWN0IHR0bV9hZ3BfYmFja2Vu
ZCwgdHRtKTsKPiAtICAgICAgIHN0cnVjdCBwYWdlICpkdW1teV9yZWFkX3BhZ2UgPSB0dG1fYm9f
Z2xvYi5kdW1teV9yZWFkX3BhZ2U7Cj4gKyAgICAgICBzdHJ1Y3QgcGFnZSAqZHVtbXlfcmVhZF9w
YWdlID0gdHRtX2dsb2IuZHVtbXlfcmVhZF9wYWdlOwo+ICAgICAgICAgc3RydWN0IGRybV9tbV9u
b2RlICpub2RlID0gYm9fbWVtLT5tbV9ub2RlOwo+ICAgICAgICAgc3RydWN0IGFncF9tZW1vcnkg
Km1lbTsKPiAgICAgICAgIGludCByZXQsIGNhY2hlZCA9IHR0bS0+Y2FjaGluZyA9PSB0dG1fY2Fj
aGVkOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9iby5jIGIvZHJpdmVy
cy9ncHUvZHJtL3R0bS90dG1fYm8uYwo+IGluZGV4IGMyODlhNmEzN2ZmOS4uMjAyNTY3OTdmM2E2
IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2JvLmMKPiArKysgYi9kcml2
ZXJzL2dwdS9kcm0vdHRtL3R0bV9iby5jCj4gQEAgLTQ0LDE0ICs0NCw2IEBACj4KPiAgI2luY2x1
ZGUgInR0bV9tb2R1bGUuaCIKPgo+IC0vKgo+IC0gKiB0dG1fZ2xvYmFsX211dGV4IC0gcHJvdGVj
dGluZyB0aGUgZ2xvYmFsIEJPIHN0YXRlCj4gLSAqLwo+IC1ERUZJTkVfTVVURVgodHRtX2dsb2Jh
bF9tdXRleCk7Cj4gLXVuc2lnbmVkIHR0bV9ib19nbG9iX3VzZV9jb3VudDsKPiAtc3RydWN0IHR0
bV9ib19nbG9iYWwgdHRtX2JvX2dsb2I7Cj4gLUVYUE9SVF9TWU1CT0wodHRtX2JvX2dsb2IpOwo+
IC0KPiAgLyogZGVmYXVsdCBkZXN0cnVjdG9yICovCj4gIHN0YXRpYyB2b2lkIHR0bV9ib19kZWZh
dWx0X2Rlc3Ryb3koc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibykKPiAgewo+IEBAIC03OSwx
MyArNzEsMTMgQEAgc3RhdGljIHZvaWQgdHRtX2JvX21lbV9zcGFjZV9kZWJ1ZyhzdHJ1Y3QgdHRt
X2J1ZmZlcl9vYmplY3QgKmJvLAo+Cj4gIHN0YXRpYyB2b2lkIHR0bV9ib19kZWxfZnJvbV9scnUo
c3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibykKPiAgewo+IC0gICAgICAgc3RydWN0IHR0bV9i
b19kZXZpY2UgKmJkZXYgPSBiby0+YmRldjsKPiArICAgICAgIHN0cnVjdCB0dG1fZGV2aWNlICpi
ZGV2ID0gYm8tPmJkZXY7Cj4KPiAgICAgICAgIGxpc3RfZGVsX2luaXQoJmJvLT5zd2FwKTsKPiAg
ICAgICAgIGxpc3RfZGVsX2luaXQoJmJvLT5scnUpOwo+Cj4gLSAgICAgICBpZiAoYmRldi0+ZHJp
dmVyLT5kZWxfZnJvbV9scnVfbm90aWZ5KQo+IC0gICAgICAgICAgICAgICBiZGV2LT5kcml2ZXIt
PmRlbF9mcm9tX2xydV9ub3RpZnkoYm8pOwo+ICsgICAgICAgaWYgKGJkZXYtPmZ1bmNzLT5kZWxf
ZnJvbV9scnVfbm90aWZ5KQo+ICsgICAgICAgICAgICAgICBiZGV2LT5mdW5jcy0+ZGVsX2Zyb21f
bHJ1X25vdGlmeShibyk7Cj4gIH0KPgo+ICBzdGF0aWMgdm9pZCB0dG1fYm9fYnVsa19tb3ZlX3Nl
dF9wb3Moc3RydWN0IHR0bV9scnVfYnVsa19tb3ZlX3BvcyAqcG9zLAo+IEBAIC0xMDAsNyArOTIs
NyBAQCB2b2lkIHR0bV9ib19tb3ZlX3RvX2xydV90YWlsKHN0cnVjdCB0dG1fYnVmZmVyX29iamVj
dCAqYm8sCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3Jlc291cmNl
ICptZW0sCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX2xydV9idWxr
X21vdmUgKmJ1bGspCj4gIHsKPiAtICAgICAgIHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2ID0g
Ym8tPmJkZXY7Cj4gKyAgICAgICBzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiA9IGJvLT5iZGV2Owo+
ICAgICAgICAgc3RydWN0IHR0bV9yZXNvdXJjZV9tYW5hZ2VyICptYW47Cj4KPiAgICAgICAgIGRt
YV9yZXN2X2Fzc2VydF9oZWxkKGJvLT5iYXNlLnJlc3YpOwo+IEBAIC0xMTcsMTIgKzEwOSwxMiBA
QCB2b2lkIHR0bV9ib19tb3ZlX3RvX2xydV90YWlsKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAq
Ym8sCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRUTV9QQUdFX0ZMQUdf
U1dBUFBFRCkpKSB7Cj4gICAgICAgICAgICAgICAgIHN0cnVjdCBsaXN0X2hlYWQgKnN3YXA7Cj4K
PiAtICAgICAgICAgICAgICAgc3dhcCA9ICZ0dG1fYm9fZ2xvYi5zd2FwX2xydVtiby0+cHJpb3Jp
dHldOwo+ICsgICAgICAgICAgICAgICBzd2FwID0gJnR0bV9nbG9iLnN3YXBfbHJ1W2JvLT5wcmlv
cml0eV07Cj4gICAgICAgICAgICAgICAgIGxpc3RfbW92ZV90YWlsKCZiby0+c3dhcCwgc3dhcCk7
Cj4gICAgICAgICB9Cj4KPiAtICAgICAgIGlmIChiZGV2LT5kcml2ZXItPmRlbF9mcm9tX2xydV9u
b3RpZnkpCj4gLSAgICAgICAgICAgICAgIGJkZXYtPmRyaXZlci0+ZGVsX2Zyb21fbHJ1X25vdGlm
eShibyk7Cj4gKyAgICAgICBpZiAoYmRldi0+ZnVuY3MtPmRlbF9mcm9tX2xydV9ub3RpZnkpCj4g
KyAgICAgICAgICAgICAgIGJkZXYtPmZ1bmNzLT5kZWxfZnJvbV9scnVfbm90aWZ5KGJvKTsKPgo+
ICAgICAgICAgaWYgKGJ1bGsgJiYgIWJvLT5waW5fY291bnQpIHsKPiAgICAgICAgICAgICAgICAg
c3dpdGNoIChiby0+bWVtLm1lbV90eXBlKSB7Cj4gQEAgLTE4NSw3ICsxNzcsNyBAQCB2b2lkIHR0
bV9ib19idWxrX21vdmVfbHJ1X3RhaWwoc3RydWN0IHR0bV9scnVfYnVsa19tb3ZlICpidWxrKQo+
ICAgICAgICAgICAgICAgICBkbWFfcmVzdl9hc3NlcnRfaGVsZChwb3MtPmZpcnN0LT5iYXNlLnJl
c3YpOwo+ICAgICAgICAgICAgICAgICBkbWFfcmVzdl9hc3NlcnRfaGVsZChwb3MtPmxhc3QtPmJh
c2UucmVzdik7Cj4KPiAtICAgICAgICAgICAgICAgbHJ1ID0gJnR0bV9ib19nbG9iLnN3YXBfbHJ1
W2ldOwo+ICsgICAgICAgICAgICAgICBscnUgPSAmdHRtX2dsb2Iuc3dhcF9scnVbaV07Cj4gICAg
ICAgICAgICAgICAgIGxpc3RfYnVsa19tb3ZlX3RhaWwobHJ1LCAmcG9zLT5maXJzdC0+c3dhcCwg
JnBvcy0+bGFzdC0+c3dhcCk7Cj4gICAgICAgICB9Cj4gIH0KPiBAQCAtMTk2LDcgKzE4OCw3IEBA
IHN0YXRpYyBpbnQgdHRtX2JvX2hhbmRsZV9tb3ZlX21lbShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmpl
Y3QgKmJvLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX29w
ZXJhdGlvbl9jdHggKmN0eCwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ry
dWN0IHR0bV9wbGFjZSAqaG9wKQo+ICB7Cj4gLSAgICAgICBzdHJ1Y3QgdHRtX2JvX2RldmljZSAq
YmRldiA9IGJvLT5iZGV2Owo+ICsgICAgICAgc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYgPSBiby0+
YmRldjsKPiAgICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdlciAqb2xkX21hbiA9IHR0
bV9tYW5hZ2VyX3R5cGUoYmRldiwgYm8tPm1lbS5tZW1fdHlwZSk7Cj4gICAgICAgICBzdHJ1Y3Qg
dHRtX3Jlc291cmNlX21hbmFnZXIgKm5ld19tYW4gPSB0dG1fbWFuYWdlcl90eXBlKGJkZXYsIG1l
bS0+bWVtX3R5cGUpOwo+ICAgICAgICAgaW50IHJldDsKPiBAQCAtMjIyLDcgKzIxNCw3IEBAIHN0
YXRpYyBpbnQgdHRtX2JvX2hhbmRsZV9tb3ZlX21lbShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3Qg
KmJvLAo+ICAgICAgICAgICAgICAgICB9Cj4gICAgICAgICB9Cj4KPiAtICAgICAgIHJldCA9IGJk
ZXYtPmRyaXZlci0+bW92ZShibywgZXZpY3QsIGN0eCwgbWVtLCBob3ApOwo+ICsgICAgICAgcmV0
ID0gYmRldi0+ZnVuY3MtPm1vdmUoYm8sIGV2aWN0LCBjdHgsIG1lbSwgaG9wKTsKPiAgICAgICAg
IGlmIChyZXQpIHsKPiAgICAgICAgICAgICAgICAgaWYgKHJldCA9PSAtRU1VTFRJSE9QKQo+ICAg
ICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4gQEAgLTI1MCw4ICsyNDIsOCBAQCBz
dGF0aWMgaW50IHR0bV9ib19oYW5kbGVfbW92ZV9tZW0oc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0
ICpibywKPgo+ICBzdGF0aWMgdm9pZCB0dG1fYm9fY2xlYW51cF9tZW10eXBlX3VzZShzdHJ1Y3Qg
dHRtX2J1ZmZlcl9vYmplY3QgKmJvKQo+ICB7Cj4gLSAgICAgICBpZiAoYm8tPmJkZXYtPmRyaXZl
ci0+ZGVsZXRlX21lbV9ub3RpZnkpCj4gLSAgICAgICAgICAgICAgIGJvLT5iZGV2LT5kcml2ZXIt
PmRlbGV0ZV9tZW1fbm90aWZ5KGJvKTsKPiArICAgICAgIGlmIChiby0+YmRldi0+ZnVuY3MtPmRl
bGV0ZV9tZW1fbm90aWZ5KQo+ICsgICAgICAgICAgICAgICBiby0+YmRldi0+ZnVuY3MtPmRlbGV0
ZV9tZW1fbm90aWZ5KGJvKTsKPgo+ICAgICAgICAgdHRtX2JvX3R0X2Rlc3Ryb3koYm8pOwo+ICAg
ICAgICAgdHRtX3Jlc291cmNlX2ZyZWUoYm8sICZiby0+bWVtKTsKPiBAQCAtMjc2LDkgKzI2OCw5
IEBAIHN0YXRpYyBpbnQgdHRtX2JvX2luZGl2aWR1YWxpemVfcmVzdihzdHJ1Y3QgdHRtX2J1ZmZl
cl9vYmplY3QgKmJvKQo+ICAgICAgICAgICAgICAgICAgKiByZWZlcmVuY2UgaXQgYW55IG1vcmUu
IFRoZSBvbmx5IHRyaWNreSBjYXNlIGlzIHRoZSB0cnlsb2NrIG9uCj4gICAgICAgICAgICAgICAg
ICAqIHRoZSByZXN2IG9iamVjdCB3aGlsZSBob2xkaW5nIHRoZSBscnVfbG9jay4KPiAgICAgICAg
ICAgICAgICAgICovCj4gLSAgICAgICAgICAgICAgIHNwaW5fbG9jaygmdHRtX2JvX2dsb2IubHJ1
X2xvY2spOwo+ICsgICAgICAgICAgICAgICBzcGluX2xvY2soJnR0bV9nbG9iLmxydV9sb2NrKTsK
PiAgICAgICAgICAgICAgICAgYm8tPmJhc2UucmVzdiA9ICZiby0+YmFzZS5fcmVzdjsKPiAtICAg
ICAgICAgICAgICAgc3Bpbl91bmxvY2soJnR0bV9ib19nbG9iLmxydV9sb2NrKTsKPiArICAgICAg
ICAgICAgICAgc3Bpbl91bmxvY2soJnR0bV9nbG9iLmxydV9sb2NrKTsKPiAgICAgICAgIH0KPgo+
ICAgICAgICAgcmV0dXJuIHI7Cj4gQEAgLTMzNyw3ICszMjksNyBAQCBzdGF0aWMgaW50IHR0bV9i
b19jbGVhbnVwX3JlZnMoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPgo+ICAgICAgICAg
ICAgICAgICBpZiAodW5sb2NrX3Jlc3YpCj4gICAgICAgICAgICAgICAgICAgICAgICAgZG1hX3Jl
c3ZfdW5sb2NrKGJvLT5iYXNlLnJlc3YpOwo+IC0gICAgICAgICAgICAgICBzcGluX3VubG9jaygm
dHRtX2JvX2dsb2IubHJ1X2xvY2spOwo+ICsgICAgICAgICAgICAgICBzcGluX3VubG9jaygmdHRt
X2dsb2IubHJ1X2xvY2spOwo+Cj4gICAgICAgICAgICAgICAgIGxyZXQgPSBkbWFfcmVzdl93YWl0
X3RpbWVvdXRfcmN1KHJlc3YsIHRydWUsIGludGVycnVwdGlibGUsCj4gICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDMwICogSFopOwo+IEBAIC0zNDcsNyAr
MzM5LDcgQEAgc3RhdGljIGludCB0dG1fYm9fY2xlYW51cF9yZWZzKHN0cnVjdCB0dG1fYnVmZmVy
X29iamVjdCAqYm8sCj4gICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxyZXQgPT0gMCkKPiAgICAg
ICAgICAgICAgICAgICAgICAgICByZXR1cm4gLUVCVVNZOwo+Cj4gLSAgICAgICAgICAgICAgIHNw
aW5fbG9jaygmdHRtX2JvX2dsb2IubHJ1X2xvY2spOwo+ICsgICAgICAgICAgICAgICBzcGluX2xv
Y2soJnR0bV9nbG9iLmxydV9sb2NrKTsKPiAgICAgICAgICAgICAgICAgaWYgKHVubG9ja19yZXN2
ICYmICFkbWFfcmVzdl90cnlsb2NrKGJvLT5iYXNlLnJlc3YpKSB7Cj4gICAgICAgICAgICAgICAg
ICAgICAgICAgLyoKPiAgICAgICAgICAgICAgICAgICAgICAgICAgKiBXZSByYWNlZCwgYW5kIGxv
c3QsIHNvbWVvbmUgZWxzZSBob2xkcyB0aGUgcmVzZXJ2YXRpb24gbm93LAo+IEBAIC0zNTcsNyAr
MzQ5LDcgQEAgc3RhdGljIGludCB0dG1fYm9fY2xlYW51cF9yZWZzKHN0cnVjdCB0dG1fYnVmZmVy
X29iamVjdCAqYm8sCj4gICAgICAgICAgICAgICAgICAgICAgICAgICogZGVsYXllZCBkZXN0cnVj
dGlvbiB3b3VsZCBzdWNjZWVkLCBzbyBqdXN0IHJldHVybiBzdWNjZXNzCj4gICAgICAgICAgICAg
ICAgICAgICAgICAgICogaGVyZS4KPiAgICAgICAgICAgICAgICAgICAgICAgICAgKi8KPiAtICAg
ICAgICAgICAgICAgICAgICAgICBzcGluX3VubG9jaygmdHRtX2JvX2dsb2IubHJ1X2xvY2spOwo+
ICsgICAgICAgICAgICAgICAgICAgICAgIHNwaW5fdW5sb2NrKCZ0dG1fZ2xvYi5scnVfbG9jayk7
Cj4gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7Cj4gICAgICAgICAgICAgICAgIH0K
PiAgICAgICAgICAgICAgICAgcmV0ID0gMDsKPiBAQCAtMzY2LDEzICszNTgsMTMgQEAgc3RhdGlj
IGludCB0dG1fYm9fY2xlYW51cF9yZWZzKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCj4g
ICAgICAgICBpZiAocmV0IHx8IHVubGlrZWx5KGxpc3RfZW1wdHkoJmJvLT5kZGVzdHJveSkpKSB7
Cj4gICAgICAgICAgICAgICAgIGlmICh1bmxvY2tfcmVzdikKPiAgICAgICAgICAgICAgICAgICAg
ICAgICBkbWFfcmVzdl91bmxvY2soYm8tPmJhc2UucmVzdik7Cj4gLSAgICAgICAgICAgICAgIHNw
aW5fdW5sb2NrKCZ0dG1fYm9fZ2xvYi5scnVfbG9jayk7Cj4gKyAgICAgICAgICAgICAgIHNwaW5f
dW5sb2NrKCZ0dG1fZ2xvYi5scnVfbG9jayk7Cj4gICAgICAgICAgICAgICAgIHJldHVybiByZXQ7
Cj4gICAgICAgICB9Cj4KPiAgICAgICAgIHR0bV9ib19kZWxfZnJvbV9scnUoYm8pOwo+ICAgICAg
ICAgbGlzdF9kZWxfaW5pdCgmYm8tPmRkZXN0cm95KTsKPiAtICAgICAgIHNwaW5fdW5sb2NrKCZ0
dG1fYm9fZ2xvYi5scnVfbG9jayk7Cj4gKyAgICAgICBzcGluX3VubG9jaygmdHRtX2dsb2IubHJ1
X2xvY2spOwo+ICAgICAgICAgdHRtX2JvX2NsZWFudXBfbWVtdHlwZV91c2UoYm8pOwo+Cj4gICAg
ICAgICBpZiAodW5sb2NrX3Jlc3YpCj4gQEAgLTM4Nyw5ICszNzksOSBAQCBzdGF0aWMgaW50IHR0
bV9ib19jbGVhbnVwX3JlZnMoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAgICogVHJh
dmVyc2UgdGhlIGRlbGF5ZWQgbGlzdCwgYW5kIGNhbGwgdHRtX2JvX2NsZWFudXBfcmVmcyBvbiBh
bGwKPiAgICogZW5jb3VudGVyZWQgYnVmZmVycy4KPiAgICovCj4gLXN0YXRpYyBib29sIHR0bV9i
b19kZWxheWVkX2RlbGV0ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgYm9vbCByZW1vdmVf
YWxsKQo+ICtib29sIHR0bV9ib19kZWxheWVkX2RlbGV0ZShzdHJ1Y3QgdHRtX2RldmljZSAqYmRl
diwgYm9vbCByZW1vdmVfYWxsKQo+ICB7Cj4gLSAgICAgICBzdHJ1Y3QgdHRtX2JvX2dsb2JhbCAq
Z2xvYiA9ICZ0dG1fYm9fZ2xvYjsKPiArICAgICAgIHN0cnVjdCB0dG1fZ2xvYmFsICpnbG9iID0g
JnR0bV9nbG9iOwo+ICAgICAgICAgc3RydWN0IGxpc3RfaGVhZCByZW1vdmVkOwo+ICAgICAgICAg
Ym9vbCBlbXB0eTsKPgo+IEBAIC00MjgsMjEgKzQyMCwxMSBAQCBzdGF0aWMgYm9vbCB0dG1fYm9f
ZGVsYXllZF9kZWxldGUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIGJvb2wgcmVtb3ZlX2Fs
bCkKPiAgICAgICAgIHJldHVybiBlbXB0eTsKPiAgfQo+Cj4gLXN0YXRpYyB2b2lkIHR0bV9ib19k
ZWxheWVkX3dvcmtxdWV1ZShzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspCj4gLXsKPiAtICAgICAg
IHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2ID0KPiAtICAgICAgICAgICBjb250YWluZXJfb2Yo
d29yaywgc3RydWN0IHR0bV9ib19kZXZpY2UsIHdxLndvcmspOwo+IC0KPiAtICAgICAgIGlmICgh
dHRtX2JvX2RlbGF5ZWRfZGVsZXRlKGJkZXYsIGZhbHNlKSkKPiAtICAgICAgICAgICAgICAgc2No
ZWR1bGVfZGVsYXllZF93b3JrKCZiZGV2LT53cSwKPiAtICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICgoSFogLyAxMDApIDwgMSkgPyAxIDogSFogLyAxMDApOwo+IC19Cj4gLQo+
ICBzdGF0aWMgdm9pZCB0dG1fYm9fcmVsZWFzZShzdHJ1Y3Qga3JlZiAqa3JlZikKPiAgewo+ICAg
ICAgICAgc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibyA9Cj4gICAgICAgICAgICAgY29udGFp
bmVyX29mKGtyZWYsIHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCwga3JlZik7Cj4gLSAgICAgICBz
dHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiA9IGJvLT5iZGV2Owo+ICsgICAgICAgc3RydWN0IHR0
bV9kZXZpY2UgKmJkZXYgPSBiby0+YmRldjsKPiAgICAgICAgIHNpemVfdCBhY2Nfc2l6ZSA9IGJv
LT5hY2Nfc2l6ZTsKPiAgICAgICAgIGludCByZXQ7Cj4KPiBAQCAtNDU2LDggKzQzOCw4IEBAIHN0
YXRpYyB2b2lkIHR0bV9ib19yZWxlYXNlKHN0cnVjdCBrcmVmICprcmVmKQo+ICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMzAgKiBIWik7Cj4gICAgICAg
ICAgICAgICAgIH0KPgo+IC0gICAgICAgICAgICAgICBpZiAoYm8tPmJkZXYtPmRyaXZlci0+cmVs
ZWFzZV9ub3RpZnkpCj4gLSAgICAgICAgICAgICAgICAgICAgICAgYm8tPmJkZXYtPmRyaXZlci0+
cmVsZWFzZV9ub3RpZnkoYm8pOwo+ICsgICAgICAgICAgICAgICBpZiAoYm8tPmJkZXYtPmZ1bmNz
LT5yZWxlYXNlX25vdGlmeSkKPiArICAgICAgICAgICAgICAgICAgICAgICBiby0+YmRldi0+ZnVu
Y3MtPnJlbGVhc2Vfbm90aWZ5KGJvKTsKPgo+ICAgICAgICAgICAgICAgICBkcm1fdm1hX29mZnNl
dF9yZW1vdmUoYmRldi0+dm1hX21hbmFnZXIsICZiby0+YmFzZS52bWFfbm9kZSk7Cj4gICAgICAg
ICAgICAgICAgIHR0bV9tZW1faW9fZnJlZShiZGV2LCAmYm8tPm1lbSk7Cj4gQEAgLTQ2OSw3ICs0
NTEsNyBAQCBzdGF0aWMgdm9pZCB0dG1fYm9fcmVsZWFzZShzdHJ1Y3Qga3JlZiAqa3JlZikKPiAg
ICAgICAgICAgICAgICAgdHRtX2JvX2ZsdXNoX2FsbF9mZW5jZXMoYm8pOwo+ICAgICAgICAgICAg
ICAgICBiby0+ZGVsZXRlZCA9IHRydWU7Cj4KPiAtICAgICAgICAgICAgICAgc3Bpbl9sb2NrKCZ0
dG1fYm9fZ2xvYi5scnVfbG9jayk7Cj4gKyAgICAgICAgICAgICAgIHNwaW5fbG9jaygmdHRtX2ds
b2IubHJ1X2xvY2spOwo+Cj4gICAgICAgICAgICAgICAgIC8qCj4gICAgICAgICAgICAgICAgICAq
IE1ha2UgcGlubmVkIGJvcyBpbW1lZGlhdGVseSBhdmFpbGFibGUgdG8KPiBAQCAtNDgzLDIyICs0
NjUsMjIgQEAgc3RhdGljIHZvaWQgdHRtX2JvX3JlbGVhc2Uoc3RydWN0IGtyZWYgKmtyZWYpCj4K
PiAgICAgICAgICAgICAgICAga3JlZl9pbml0KCZiby0+a3JlZik7Cj4gICAgICAgICAgICAgICAg
IGxpc3RfYWRkX3RhaWwoJmJvLT5kZGVzdHJveSwgJmJkZXYtPmRkZXN0cm95KTsKPiAtICAgICAg
ICAgICAgICAgc3Bpbl91bmxvY2soJnR0bV9ib19nbG9iLmxydV9sb2NrKTsKPiArICAgICAgICAg
ICAgICAgc3Bpbl91bmxvY2soJnR0bV9nbG9iLmxydV9sb2NrKTsKPgo+ICAgICAgICAgICAgICAg
ICBzY2hlZHVsZV9kZWxheWVkX3dvcmsoJmJkZXYtPndxLAo+ICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgKChIWiAvIDEwMCkgPCAxKSA/IDEgOiBIWiAvIDEwMCk7Cj4gICAg
ICAgICAgICAgICAgIHJldHVybjsKPiAgICAgICAgIH0KPgo+IC0gICAgICAgc3Bpbl9sb2NrKCZ0
dG1fYm9fZ2xvYi5scnVfbG9jayk7Cj4gKyAgICAgICBzcGluX2xvY2soJnR0bV9nbG9iLmxydV9s
b2NrKTsKPiAgICAgICAgIHR0bV9ib19kZWxfZnJvbV9scnUoYm8pOwo+ICAgICAgICAgbGlzdF9k
ZWwoJmJvLT5kZGVzdHJveSk7Cj4gLSAgICAgICBzcGluX3VubG9jaygmdHRtX2JvX2dsb2IubHJ1
X2xvY2spOwo+ICsgICAgICAgc3Bpbl91bmxvY2soJnR0bV9nbG9iLmxydV9sb2NrKTsKPgo+ICAg
ICAgICAgdHRtX2JvX2NsZWFudXBfbWVtdHlwZV91c2UoYm8pOwo+ICAgICAgICAgZG1hX3Jlc3Zf
dW5sb2NrKGJvLT5iYXNlLnJlc3YpOwo+Cj4gLSAgICAgICBhdG9taWNfZGVjKCZ0dG1fYm9fZ2xv
Yi5ib19jb3VudCk7Cj4gKyAgICAgICBhdG9taWNfZGVjKCZ0dG1fZ2xvYi5ib19jb3VudCk7Cj4g
ICAgICAgICBkbWFfZmVuY2VfcHV0KGJvLT5tb3ZpbmcpOwo+ICAgICAgICAgaWYgKCF0dG1fYm9f
dXNlc19lbWJlZGRlZF9nZW1fb2JqZWN0KGJvKSkKPiAgICAgICAgICAgICAgICAgZG1hX3Jlc3Zf
ZmluaSgmYm8tPmJhc2UuX3Jlc3YpOwo+IEBAIC01MTIsMTMgKzQ5NCwxMyBAQCB2b2lkIHR0bV9i
b19wdXQoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibykKPiAgfQo+ICBFWFBPUlRfU1lNQk9M
KHR0bV9ib19wdXQpOwo+Cj4gLWludCB0dG1fYm9fbG9ja19kZWxheWVkX3dvcmtxdWV1ZShzdHJ1
Y3QgdHRtX2JvX2RldmljZSAqYmRldikKPiAraW50IHR0bV9ib19sb2NrX2RlbGF5ZWRfd29ya3F1
ZXVlKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2KQo+ICB7Cj4gICAgICAgICByZXR1cm4gY2FuY2Vs
X2RlbGF5ZWRfd29ya19zeW5jKCZiZGV2LT53cSk7Cj4gIH0KPiAgRVhQT1JUX1NZTUJPTCh0dG1f
Ym9fbG9ja19kZWxheWVkX3dvcmtxdWV1ZSk7Cj4KPiAtdm9pZCB0dG1fYm9fdW5sb2NrX2RlbGF5
ZWRfd29ya3F1ZXVlKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LCBpbnQgcmVzY2hlZCkKPiAr
dm9pZCB0dG1fYm9fdW5sb2NrX2RlbGF5ZWRfd29ya3F1ZXVlKHN0cnVjdCB0dG1fZGV2aWNlICpi
ZGV2LCBpbnQgcmVzY2hlZCkKPiAgewo+ICAgICAgICAgaWYgKHJlc2NoZWQpCj4gICAgICAgICAg
ICAgICAgIHNjaGVkdWxlX2RlbGF5ZWRfd29yaygmYmRldi0+d3EsCj4gQEAgLTUyOSw3ICs1MTEs
NyBAQCBFWFBPUlRfU1lNQk9MKHR0bV9ib191bmxvY2tfZGVsYXllZF93b3JrcXVldWUpOwo+ICBz
dGF0aWMgaW50IHR0bV9ib19ldmljdChzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+ICAg
ICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fb3BlcmF0aW9uX2N0eCAqY3R4KQo+ICB7
Cj4gLSAgICAgICBzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiA9IGJvLT5iZGV2Owo+ICsgICAg
ICAgc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYgPSBiby0+YmRldjsKPiAgICAgICAgIHN0cnVjdCB0
dG1fcmVzb3VyY2UgZXZpY3RfbWVtOwo+ICAgICAgICAgc3RydWN0IHR0bV9wbGFjZW1lbnQgcGxh
Y2VtZW50Owo+ICAgICAgICAgc3RydWN0IHR0bV9wbGFjZSBob3A7Cj4gQEAgLTU0MSw3ICs1MjMs
NyBAQCBzdGF0aWMgaW50IHR0bV9ib19ldmljdChzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJv
LAo+Cj4gICAgICAgICBwbGFjZW1lbnQubnVtX3BsYWNlbWVudCA9IDA7Cj4gICAgICAgICBwbGFj
ZW1lbnQubnVtX2J1c3lfcGxhY2VtZW50ID0gMDsKPiAtICAgICAgIGJkZXYtPmRyaXZlci0+ZXZp
Y3RfZmxhZ3MoYm8sICZwbGFjZW1lbnQpOwo+ICsgICAgICAgYmRldi0+ZnVuY3MtPmV2aWN0X2Zs
YWdzKGJvLCAmcGxhY2VtZW50KTsKPgo+ICAgICAgICAgaWYgKCFwbGFjZW1lbnQubnVtX3BsYWNl
bWVudCAmJiAhcGxhY2VtZW50Lm51bV9idXN5X3BsYWNlbWVudCkgewo+ICAgICAgICAgICAgICAg
ICB0dG1fYm9fd2FpdChibywgZmFsc2UsIGZhbHNlKTsKPiBAQCAtNjU3LDcgKzYzOSw3IEBAIHN0
YXRpYyBpbnQgdHRtX21lbV9ldmljdF93YWl0X2J1c3koc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0
ICpidXN5X2JvLAo+ICAgICAgICAgcmV0dXJuIHIgPT0gLUVERUFETEsgPyAtRUJVU1kgOiByOwo+
ICB9Cj4KPiAtaW50IHR0bV9tZW1fZXZpY3RfZmlyc3Qoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJk
ZXYsCj4gK2ludCB0dG1fbWVtX2V2aWN0X2ZpcnN0KHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LAo+
ICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdlciAqbWFu
LAo+ICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cnVjdCB0dG1fcGxhY2UgKnBsYWNl
LAo+ICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fb3BlcmF0aW9uX2N0eCAqY3R4
LAo+IEBAIC02NjgsNyArNjUwLDcgQEAgaW50IHR0bV9tZW1fZXZpY3RfZmlyc3Qoc3RydWN0IHR0
bV9ib19kZXZpY2UgKmJkZXYsCj4gICAgICAgICB1bnNpZ25lZCBpOwo+ICAgICAgICAgaW50IHJl
dDsKPgo+IC0gICAgICAgc3Bpbl9sb2NrKCZ0dG1fYm9fZ2xvYi5scnVfbG9jayk7Cj4gKyAgICAg
ICBzcGluX2xvY2soJnR0bV9nbG9iLmxydV9sb2NrKTsKPiAgICAgICAgIGZvciAoaSA9IDA7IGkg
PCBUVE1fTUFYX0JPX1BSSU9SSVRZOyArK2kpIHsKPiAgICAgICAgICAgICAgICAgbGlzdF9mb3Jf
ZWFjaF9lbnRyeShibywgJm1hbi0+bHJ1W2ldLCBscnUpIHsKPiAgICAgICAgICAgICAgICAgICAg
ICAgICBib29sIGJ1c3k7Cj4gQEAgLTY4MSw3ICs2NjMsNyBAQCBpbnQgdHRtX21lbV9ldmljdF9m
aXJzdChzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGNvbnRpbnVlOwo+ICAgICAgICAgICAgICAgICAgICAgICAgIH0KPgo+IC0gICAg
ICAgICAgICAgICAgICAgICAgIGlmIChwbGFjZSAmJiAhYmRldi0+ZHJpdmVyLT5ldmljdGlvbl92
YWx1YWJsZShibywKPiArICAgICAgICAgICAgICAgICAgICAgICBpZiAocGxhY2UgJiYgIWJkZXYt
PmZ1bmNzLT5ldmljdGlvbl92YWx1YWJsZShibywKPiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2UpKSB7Cj4g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobG9ja2VkKQo+ICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkbWFfcmVzdl91bmxvY2soYm8tPmJhc2UucmVz
dik7Cj4gQEAgLTcwNSw3ICs2ODcsNyBAQCBpbnQgdHRtX21lbV9ldmljdF9maXJzdChzdHJ1Y3Qg
dHRtX2JvX2RldmljZSAqYmRldiwKPiAgICAgICAgIGlmICghYm8pIHsKPiAgICAgICAgICAgICAg
ICAgaWYgKGJ1c3lfYm8gJiYgIXR0bV9ib19nZXRfdW5sZXNzX3plcm8oYnVzeV9ibykpCj4gICAg
ICAgICAgICAgICAgICAgICAgICAgYnVzeV9ibyA9IE5VTEw7Cj4gLSAgICAgICAgICAgICAgIHNw
aW5fdW5sb2NrKCZ0dG1fYm9fZ2xvYi5scnVfbG9jayk7Cj4gKyAgICAgICAgICAgICAgIHNwaW5f
dW5sb2NrKCZ0dG1fZ2xvYi5scnVfbG9jayk7Cj4gICAgICAgICAgICAgICAgIHJldCA9IHR0bV9t
ZW1fZXZpY3Rfd2FpdF9idXN5KGJ1c3lfYm8sIGN0eCwgdGlja2V0KTsKPiAgICAgICAgICAgICAg
ICAgaWYgKGJ1c3lfYm8pCj4gICAgICAgICAgICAgICAgICAgICAgICAgdHRtX2JvX3B1dChidXN5
X2JvKTsKPiBAQCAtNzE5LDcgKzcwMSw3IEBAIGludCB0dG1fbWVtX2V2aWN0X2ZpcnN0KHN0cnVj
dCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICAgICAgICAgICAgICAgICByZXR1cm4gcmV0Owo+ICAg
ICAgICAgfQo+Cj4gLSAgICAgICBzcGluX3VubG9jaygmdHRtX2JvX2dsb2IubHJ1X2xvY2spOwo+
ICsgICAgICAgc3Bpbl91bmxvY2soJnR0bV9nbG9iLmxydV9sb2NrKTsKPgo+ICAgICAgICAgcmV0
ID0gdHRtX2JvX2V2aWN0KGJvLCBjdHgpOwo+ICAgICAgICAgaWYgKGxvY2tlZCkKPiBAQCAtNzc0
LDcgKzc1Niw3IEBAIHN0YXRpYyBpbnQgdHRtX2JvX21lbV9mb3JjZV9zcGFjZShzdHJ1Y3QgdHRt
X2J1ZmZlcl9vYmplY3QgKmJvLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBz
dHJ1Y3QgdHRtX3Jlc291cmNlICptZW0sCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHN0cnVjdCB0dG1fb3BlcmF0aW9uX2N0eCAqY3R4KQo+ICB7Cj4gLSAgICAgICBzdHJ1Y3Qg
dHRtX2JvX2RldmljZSAqYmRldiA9IGJvLT5iZGV2Owo+ICsgICAgICAgc3RydWN0IHR0bV9kZXZp
Y2UgKmJkZXYgPSBiby0+YmRldjsKPiAgICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdl
ciAqbWFuID0gdHRtX21hbmFnZXJfdHlwZShiZGV2LCBtZW0tPm1lbV90eXBlKTsKPiAgICAgICAg
IHN0cnVjdCB3d19hY3F1aXJlX2N0eCAqdGlja2V0Owo+ICAgICAgICAgaW50IHJldDsKPiBAQCAt
ODA5LDcgKzc5MSw3IEBAIHN0YXRpYyBpbnQgdHRtX2JvX21lbV9wbGFjZW1lbnQoc3RydWN0IHR0
bV9idWZmZXJfb2JqZWN0ICpibywKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNv
bnN0IHN0cnVjdCB0dG1fcGxhY2UgKnBsYWNlLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgc3RydWN0IHR0bV9yZXNvdXJjZSAqbWVtKQo+ICB7Cj4gLSAgICAgICBzdHJ1Y3QgdHRt
X2JvX2RldmljZSAqYmRldiA9IGJvLT5iZGV2Owo+ICsgICAgICAgc3RydWN0IHR0bV9kZXZpY2Ug
KmJkZXYgPSBiby0+YmRldjsKPiAgICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdlciAq
bWFuOwo+Cj4gICAgICAgICBtYW4gPSB0dG1fbWFuYWdlcl90eXBlKGJkZXYsIHBsYWNlLT5tZW1f
dHlwZSk7Cj4gQEAgLTgxOSw5ICs4MDEsOSBAQCBzdGF0aWMgaW50IHR0bV9ib19tZW1fcGxhY2Vt
ZW50KHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCj4gICAgICAgICBtZW0tPm1lbV90eXBl
ID0gcGxhY2UtPm1lbV90eXBlOwo+ICAgICAgICAgbWVtLT5wbGFjZW1lbnQgPSBwbGFjZS0+Zmxh
Z3M7Cj4KPiAtICAgICAgIHNwaW5fbG9jaygmdHRtX2JvX2dsb2IubHJ1X2xvY2spOwo+ICsgICAg
ICAgc3Bpbl9sb2NrKCZ0dG1fZ2xvYi5scnVfbG9jayk7Cj4gICAgICAgICB0dG1fYm9fbW92ZV90
b19scnVfdGFpbChibywgbWVtLCBOVUxMKTsKPiAtICAgICAgIHNwaW5fdW5sb2NrKCZ0dG1fYm9f
Z2xvYi5scnVfbG9jayk7Cj4gKyAgICAgICBzcGluX3VubG9jaygmdHRtX2dsb2IubHJ1X2xvY2sp
Owo+Cj4gICAgICAgICByZXR1cm4gMDsKPiAgfQo+IEBAIC04MzksNyArODIxLDcgQEAgaW50IHR0
bV9ib19tZW1fc3BhY2Uoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAgICAgICAgICAg
ICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3Jlc291cmNlICptZW0sCj4gICAgICAgICAgICAgICAg
ICAgICAgICAgc3RydWN0IHR0bV9vcGVyYXRpb25fY3R4ICpjdHgpCj4gIHsKPiAtICAgICAgIHN0
cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2ID0gYm8tPmJkZXY7Cj4gKyAgICAgICBzdHJ1Y3QgdHRt
X2RldmljZSAqYmRldiA9IGJvLT5iZGV2Owo+ICAgICAgICAgYm9vbCB0eXBlX2ZvdW5kID0gZmFs
c2U7Cj4gICAgICAgICBpbnQgaSwgcmV0Owo+Cj4gQEAgLTEwNTcsNyArMTAzOSw3IEBAIGludCB0
dG1fYm9fdmFsaWRhdGUoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAgfQo+ICBFWFBP
UlRfU1lNQk9MKHR0bV9ib192YWxpZGF0ZSk7Cj4KPiAtaW50IHR0bV9ib19pbml0X3Jlc2VydmVk
KHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICtpbnQgdHRtX2JvX2luaXRfcmVzZXJ2ZWQo
c3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVj
dCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCj4gICAgICAgICAgICAgICAgICAgICAgICAgIHNpemVf
dCBzaXplLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtIHR0bV9ib190eXBlIHR5cGUs
Cj4gQEAgLTExMTcsNyArMTA5OSw3IEBAIGludCB0dG1fYm9faW5pdF9yZXNlcnZlZChzdHJ1Y3Qg
dHRtX2JvX2RldmljZSAqYmRldiwKPiAgICAgICAgICAgICAgICAgZG1hX3Jlc3ZfaW5pdCgmYm8t
PmJhc2UuX3Jlc3YpOwo+ICAgICAgICAgICAgICAgICBkcm1fdm1hX25vZGVfcmVzZXQoJmJvLT5i
YXNlLnZtYV9ub2RlKTsKPiAgICAgICAgIH0KPiAtICAgICAgIGF0b21pY19pbmMoJnR0bV9ib19n
bG9iLmJvX2NvdW50KTsKPiArICAgICAgIGF0b21pY19pbmMoJnR0bV9nbG9iLmJvX2NvdW50KTsK
Pgo+ICAgICAgICAgLyoKPiAgICAgICAgICAqIEZvciB0dG1fYm9fdHlwZV9kZXZpY2UgYnVmZmVy
cywgYWxsb2NhdGUKPiBAQCAtMTE1Myw3ICsxMTM1LDcgQEAgaW50IHR0bV9ib19pbml0X3Jlc2Vy
dmVkKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICB9Cj4gIEVYUE9SVF9TWU1CT0wodHRt
X2JvX2luaXRfcmVzZXJ2ZWQpOwo+Cj4gLWludCB0dG1fYm9faW5pdChzdHJ1Y3QgdHRtX2JvX2Rl
dmljZSAqYmRldiwKPiAraW50IHR0bV9ib19pbml0KHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LAo+
ICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+ICAgICAgICAg
ICAgICAgICBzaXplX3Qgc2l6ZSwKPiAgICAgICAgICAgICAgICAgZW51bSB0dG1fYm9fdHlwZSB0
eXBlLAo+IEBAIC0xMTgxLDcgKzExNjMsNyBAQCBpbnQgdHRtX2JvX2luaXQoc3RydWN0IHR0bV9i
b19kZXZpY2UgKmJkZXYsCj4gIH0KPiAgRVhQT1JUX1NZTUJPTCh0dG1fYm9faW5pdCk7Cj4KPiAt
c2l6ZV90IHR0bV9ib19kbWFfYWNjX3NpemUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4g
K3NpemVfdCB0dG1fYm9fZG1hX2FjY19zaXplKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LAo+ICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGxvbmcgYm9fc2l6ZSwKPiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBzdHJ1Y3Rfc2l6ZSkKPiAgewo+IEBAIC0xMTk1
LDE0OCArMTE3NywxMyBAQCBzaXplX3QgdHRtX2JvX2RtYV9hY2Nfc2l6ZShzdHJ1Y3QgdHRtX2Jv
X2RldmljZSAqYmRldiwKPiAgfQo+ICBFWFBPUlRfU1lNQk9MKHR0bV9ib19kbWFfYWNjX3NpemUp
Owo+Cj4gLXN0YXRpYyB2b2lkIHR0bV9ib19nbG9iYWxfcmVsZWFzZSh2b2lkKQo+IC17Cj4gLSAg
ICAgICBzdHJ1Y3QgdHRtX2JvX2dsb2JhbCAqZ2xvYiA9ICZ0dG1fYm9fZ2xvYjsKPiAtCj4gLSAg
ICAgICBtdXRleF9sb2NrKCZ0dG1fZ2xvYmFsX211dGV4KTsKPiAtICAgICAgIGlmICgtLXR0bV9i
b19nbG9iX3VzZV9jb3VudCA+IDApCj4gLSAgICAgICAgICAgICAgIGdvdG8gb3V0Owo+IC0KPiAt
ICAgICAgIGtvYmplY3RfZGVsKCZnbG9iLT5rb2JqKTsKPiAtICAgICAgIGtvYmplY3RfcHV0KCZn
bG9iLT5rb2JqKTsKPiAtICAgICAgIHR0bV9tZW1fZ2xvYmFsX3JlbGVhc2UoJnR0bV9tZW1fZ2xv
Yik7Cj4gLSAgICAgICBfX2ZyZWVfcGFnZShnbG9iLT5kdW1teV9yZWFkX3BhZ2UpOwo+IC0gICAg
ICAgbWVtc2V0KGdsb2IsIDAsIHNpemVvZigqZ2xvYikpOwo+IC1vdXQ6Cj4gLSAgICAgICBtdXRl
eF91bmxvY2soJnR0bV9nbG9iYWxfbXV0ZXgpOwo+IC19Cj4gLQo+IC1zdGF0aWMgaW50IHR0bV9i
b19nbG9iYWxfaW5pdCh2b2lkKQo+IC17Cj4gLSAgICAgICBzdHJ1Y3QgdHRtX2JvX2dsb2JhbCAq
Z2xvYiA9ICZ0dG1fYm9fZ2xvYjsKPiAtICAgICAgIGludCByZXQgPSAwOwo+IC0gICAgICAgdW5z
aWduZWQgaTsKPiAtCj4gLSAgICAgICBtdXRleF9sb2NrKCZ0dG1fZ2xvYmFsX211dGV4KTsKPiAt
ICAgICAgIGlmICgrK3R0bV9ib19nbG9iX3VzZV9jb3VudCA+IDEpCj4gLSAgICAgICAgICAgICAg
IGdvdG8gb3V0Owo+IC0KPiAtICAgICAgIHJldCA9IHR0bV9tZW1fZ2xvYmFsX2luaXQoJnR0bV9t
ZW1fZ2xvYik7Cj4gLSAgICAgICBpZiAocmV0KQo+IC0gICAgICAgICAgICAgICBnb3RvIG91dDsK
PiAtCj4gLSAgICAgICBzcGluX2xvY2tfaW5pdCgmZ2xvYi0+bHJ1X2xvY2spOwo+IC0gICAgICAg
Z2xvYi0+ZHVtbXlfcmVhZF9wYWdlID0gYWxsb2NfcGFnZShfX0dGUF9aRVJPIHwgR0ZQX0RNQTMy
KTsKPiAtCj4gLSAgICAgICBpZiAodW5saWtlbHkoZ2xvYi0+ZHVtbXlfcmVhZF9wYWdlID09IE5V
TEwpKSB7Cj4gLSAgICAgICAgICAgICAgIHJldCA9IC1FTk9NRU07Cj4gLSAgICAgICAgICAgICAg
IGdvdG8gb3V0Owo+IC0gICAgICAgfQo+IC0KPiAtICAgICAgIGZvciAoaSA9IDA7IGkgPCBUVE1f
TUFYX0JPX1BSSU9SSVRZOyArK2kpCj4gLSAgICAgICAgICAgICAgIElOSVRfTElTVF9IRUFEKCZn
bG9iLT5zd2FwX2xydVtpXSk7Cj4gLSAgICAgICBJTklUX0xJU1RfSEVBRCgmZ2xvYi0+ZGV2aWNl
X2xpc3QpOwo+IC0gICAgICAgYXRvbWljX3NldCgmZ2xvYi0+Ym9fY291bnQsIDApOwo+IC0KPiAt
ICAgICAgIGRlYnVnZnNfY3JlYXRlX2F0b21pY190KCJidWZmZXJfb2JqZWN0cyIsIDA0NDQsIHR0
bV9kZWJ1Z2ZzX3Jvb3QsCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmZ2xvYi0+
Ym9fY291bnQpOwo+IC1vdXQ6Cj4gLSAgICAgICBtdXRleF91bmxvY2soJnR0bV9nbG9iYWxfbXV0
ZXgpOwo+IC0gICAgICAgcmV0dXJuIHJldDsKPiAtfQo+IC0KPiAtaW50IHR0bV9ib19kZXZpY2Vf
cmVsZWFzZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldikKPiAtewo+IC0gICAgICAgc3RydWN0
IHR0bV9ib19nbG9iYWwgKmdsb2IgPSAmdHRtX2JvX2dsb2I7Cj4gLSAgICAgICBpbnQgcmV0ID0g
MDsKPiAtICAgICAgIHVuc2lnbmVkIGk7Cj4gLSAgICAgICBzdHJ1Y3QgdHRtX3Jlc291cmNlX21h
bmFnZXIgKm1hbjsKPiAtCj4gLSAgICAgICBtYW4gPSB0dG1fbWFuYWdlcl90eXBlKGJkZXYsIFRU
TV9QTF9TWVNURU0pOwo+IC0gICAgICAgdHRtX3Jlc291cmNlX21hbmFnZXJfc2V0X3VzZWQobWFu
LCBmYWxzZSk7Cj4gLSAgICAgICB0dG1fc2V0X2RyaXZlcl9tYW5hZ2VyKGJkZXYsIFRUTV9QTF9T
WVNURU0sIE5VTEwpOwo+IC0KPiAtICAgICAgIG11dGV4X2xvY2soJnR0bV9nbG9iYWxfbXV0ZXgp
Owo+IC0gICAgICAgbGlzdF9kZWwoJmJkZXYtPmRldmljZV9saXN0KTsKPiAtICAgICAgIG11dGV4
X3VubG9jaygmdHRtX2dsb2JhbF9tdXRleCk7Cj4gLQo+IC0gICAgICAgY2FuY2VsX2RlbGF5ZWRf
d29ya19zeW5jKCZiZGV2LT53cSk7Cj4gLQo+IC0gICAgICAgaWYgKHR0bV9ib19kZWxheWVkX2Rl
bGV0ZShiZGV2LCB0cnVlKSkKPiAtICAgICAgICAgICAgICAgcHJfZGVidWcoIkRlbGF5ZWQgZGVz
dHJveSBsaXN0IHdhcyBjbGVhblxuIik7Cj4gLQo+IC0gICAgICAgc3Bpbl9sb2NrKCZnbG9iLT5s
cnVfbG9jayk7Cj4gLSAgICAgICBmb3IgKGkgPSAwOyBpIDwgVFRNX01BWF9CT19QUklPUklUWTsg
KytpKQo+IC0gICAgICAgICAgICAgICBpZiAobGlzdF9lbXB0eSgmbWFuLT5scnVbMF0pKQo+IC0g
ICAgICAgICAgICAgICAgICAgICAgIHByX2RlYnVnKCJTd2FwIGxpc3QgJWQgd2FzIGNsZWFuXG4i
LCBpKTsKPiAtICAgICAgIHNwaW5fdW5sb2NrKCZnbG9iLT5scnVfbG9jayk7Cj4gLQo+IC0gICAg
ICAgdHRtX3Bvb2xfZmluaSgmYmRldi0+cG9vbCk7Cj4gLQo+IC0gICAgICAgaWYgKCFyZXQpCj4g
LSAgICAgICAgICAgICAgIHR0bV9ib19nbG9iYWxfcmVsZWFzZSgpOwo+IC0KPiAtICAgICAgIHJl
dHVybiByZXQ7Cj4gLX0KPiAtRVhQT1JUX1NZTUJPTCh0dG1fYm9fZGV2aWNlX3JlbGVhc2UpOwo+
IC0KPiAtc3RhdGljIHZvaWQgdHRtX2JvX2luaXRfc3lzbWFuKHN0cnVjdCB0dG1fYm9fZGV2aWNl
ICpiZGV2KQo+IC17Cj4gLSAgICAgICBzdHJ1Y3QgdHRtX3Jlc291cmNlX21hbmFnZXIgKm1hbiA9
ICZiZGV2LT5zeXNtYW47Cj4gLQo+IC0gICAgICAgLyoKPiAtICAgICAgICAqIEluaXRpYWxpemUg
dGhlIHN5c3RlbSBtZW1vcnkgYnVmZmVyIHR5cGUuCj4gLSAgICAgICAgKiBPdGhlciB0eXBlcyBu
ZWVkIHRvIGJlIGRyaXZlciAvIElPQ1RMIGluaXRpYWxpemVkLgo+IC0gICAgICAgICovCj4gLSAg
ICAgICBtYW4tPnVzZV90dCA9IHRydWU7Cj4gLQo+IC0gICAgICAgdHRtX3Jlc291cmNlX21hbmFn
ZXJfaW5pdChtYW4sIDApOwo+IC0gICAgICAgdHRtX3NldF9kcml2ZXJfbWFuYWdlcihiZGV2LCBU
VE1fUExfU1lTVEVNLCBtYW4pOwo+IC0gICAgICAgdHRtX3Jlc291cmNlX21hbmFnZXJfc2V0X3Vz
ZWQobWFuLCB0cnVlKTsKPiAtfQo+IC0KPiAtaW50IHR0bV9ib19kZXZpY2VfaW5pdChzdHJ1Y3Qg
dHRtX2JvX2RldmljZSAqYmRldiwKPiAtICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1f
Ym9fZHJpdmVyICpkcml2ZXIsCj4gLSAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgZGV2aWNl
ICpkZXYsCj4gLSAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgYWRkcmVzc19zcGFjZSAqbWFw
cGluZywKPiAtICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkcm1fdm1hX29mZnNldF9tYW5h
Z2VyICp2bWFfbWFuYWdlciwKPiAtICAgICAgICAgICAgICAgICAgICAgIGJvb2wgdXNlX2RtYV9h
bGxvYywgYm9vbCB1c2VfZG1hMzIpCj4gLXsKPiAtICAgICAgIHN0cnVjdCB0dG1fYm9fZ2xvYmFs
ICpnbG9iID0gJnR0bV9ib19nbG9iOwo+IC0gICAgICAgaW50IHJldDsKPiAtCj4gLSAgICAgICBp
ZiAoV0FSTl9PTih2bWFfbWFuYWdlciA9PSBOVUxMKSkKPiAtICAgICAgICAgICAgICAgcmV0dXJu
IC1FSU5WQUw7Cj4gLQo+IC0gICAgICAgcmV0ID0gdHRtX2JvX2dsb2JhbF9pbml0KCk7Cj4gLSAg
ICAgICBpZiAocmV0KQo+IC0gICAgICAgICAgICAgICByZXR1cm4gcmV0Owo+IC0KPiAtICAgICAg
IGJkZXYtPmRyaXZlciA9IGRyaXZlcjsKPiAtCj4gLSAgICAgICB0dG1fYm9faW5pdF9zeXNtYW4o
YmRldik7Cj4gLSAgICAgICB0dG1fcG9vbF9pbml0KCZiZGV2LT5wb29sLCBkZXYsIHVzZV9kbWFf
YWxsb2MsIHVzZV9kbWEzMik7Cj4gLQo+IC0gICAgICAgYmRldi0+dm1hX21hbmFnZXIgPSB2bWFf
bWFuYWdlcjsKPiAtICAgICAgIElOSVRfREVMQVlFRF9XT1JLKCZiZGV2LT53cSwgdHRtX2JvX2Rl
bGF5ZWRfd29ya3F1ZXVlKTsKPiAtICAgICAgIElOSVRfTElTVF9IRUFEKCZiZGV2LT5kZGVzdHJv
eSk7Cj4gLSAgICAgICBiZGV2LT5kZXZfbWFwcGluZyA9IG1hcHBpbmc7Cj4gLSAgICAgICBtdXRl
eF9sb2NrKCZ0dG1fZ2xvYmFsX211dGV4KTsKPiAtICAgICAgIGxpc3RfYWRkX3RhaWwoJmJkZXYt
PmRldmljZV9saXN0LCAmZ2xvYi0+ZGV2aWNlX2xpc3QpOwo+IC0gICAgICAgbXV0ZXhfdW5sb2Nr
KCZ0dG1fZ2xvYmFsX211dGV4KTsKPiAtCj4gLSAgICAgICByZXR1cm4gMDsKPiAtfQo+IC1FWFBP
UlRfU1lNQk9MKHR0bV9ib19kZXZpY2VfaW5pdCk7Cj4gLQo+ICAvKgo+ICAgKiBidWZmZXIgb2Jq
ZWN0IHZtIGZ1bmN0aW9ucy4KPiAgICovCj4KPiAgdm9pZCB0dG1fYm9fdW5tYXBfdmlydHVhbChz
dHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvKQo+ICB7Cj4gLSAgICAgICBzdHJ1Y3QgdHRtX2Jv
X2RldmljZSAqYmRldiA9IGJvLT5iZGV2Owo+ICsgICAgICAgc3RydWN0IHR0bV9kZXZpY2UgKmJk
ZXYgPSBiby0+YmRldjsKPgo+ICAgICAgICAgZHJtX3ZtYV9ub2RlX3VubWFwKCZiby0+YmFzZS52
bWFfbm9kZSwgYmRldi0+ZGV2X21hcHBpbmcpOwo+ICAgICAgICAgdHRtX21lbV9pb19mcmVlKGJk
ZXYsICZiby0+bWVtKTsKPiBAQCAtMTM3NCw3ICsxMjIxLDcgQEAgRVhQT1JUX1NZTUJPTCh0dG1f
Ym9fd2FpdCk7Cj4gICAqLwo+ICBpbnQgdHRtX2JvX3N3YXBvdXQoc3RydWN0IHR0bV9vcGVyYXRp
b25fY3R4ICpjdHgpCj4gIHsKPiAtICAgICAgIHN0cnVjdCB0dG1fYm9fZ2xvYmFsICpnbG9iID0g
JnR0bV9ib19nbG9iOwo+ICsgICAgICAgc3RydWN0IHR0bV9nbG9iYWwgKmdsb2IgPSAmdHRtX2ds
b2I7Cj4gICAgICAgICBzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvOwo+ICAgICAgICAgaW50
IHJldCA9IC1FQlVTWTsKPiAgICAgICAgIGJvb2wgbG9ja2VkOwo+IEBAIC0xNDUyLDggKzEyOTks
OCBAQCBpbnQgdHRtX2JvX3N3YXBvdXQoc3RydWN0IHR0bV9vcGVyYXRpb25fY3R4ICpjdHgpCj4g
ICAgICAgICAgKiBhbnlvbmUgdHJpZXMgdG8gYWNjZXNzIGEgdHRtIHBhZ2UuCj4gICAgICAgICAg
Ki8KPgo+IC0gICAgICAgaWYgKGJvLT5iZGV2LT5kcml2ZXItPnN3YXBfbm90aWZ5KQo+IC0gICAg
ICAgICAgICAgICBiby0+YmRldi0+ZHJpdmVyLT5zd2FwX25vdGlmeShibyk7Cj4gKyAgICAgICBp
ZiAoYm8tPmJkZXYtPmZ1bmNzLT5zd2FwX25vdGlmeSkKPiArICAgICAgICAgICAgICAgYm8tPmJk
ZXYtPmZ1bmNzLT5zd2FwX25vdGlmeShibyk7Cj4KPiAgICAgICAgIHJldCA9IHR0bV90dF9zd2Fw
b3V0KGJvLT5iZGV2LCBiby0+dHRtKTsKPiAgb3V0Ogo+IEBAIC0xNDc4LDQgKzEzMjUsMyBAQCB2
b2lkIHR0bV9ib190dF9kZXN0cm95KHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8pCj4gICAg
ICAgICB0dG1fdHRfZGVzdHJveShiby0+YmRldiwgYm8tPnR0bSk7Cj4gICAgICAgICBiby0+dHRt
ID0gTlVMTDsKPiAgfQo+IC0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1f
Ym9fdXRpbC5jIGIvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm9fdXRpbC5jCj4gaW5kZXggMzk4
ZDUwMTNmYzM5Li5kYjBmMjY2MWQ1MDQgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3R0
bS90dG1fYm9fdXRpbC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm9fdXRpbC5j
Cj4gQEAgLTQ2LDMzICs0NiwzMyBAQCBzdHJ1Y3QgdHRtX3RyYW5zZmVyX29iaiB7Cj4gICAgICAg
ICBzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvOwo+ICB9Owo+Cj4gLWludCB0dG1fbWVtX2lv
X3Jlc2VydmUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gK2ludCB0dG1fbWVtX2lvX3Jl
c2VydmUoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4gICAgICAgICAgICAgICAgICAgICAgICBz
dHJ1Y3QgdHRtX3Jlc291cmNlICptZW0pCj4gIHsKPiAgICAgICAgIGlmIChtZW0tPmJ1cy5vZmZz
ZXQgfHwgbWVtLT5idXMuYWRkcikKPiAgICAgICAgICAgICAgICAgcmV0dXJuIDA7Cj4KPiAgICAg
ICAgIG1lbS0+YnVzLmlzX2lvbWVtID0gZmFsc2U7Cj4gLSAgICAgICBpZiAoIWJkZXYtPmRyaXZl
ci0+aW9fbWVtX3Jlc2VydmUpCj4gKyAgICAgICBpZiAoIWJkZXYtPmZ1bmNzLT5pb19tZW1fcmVz
ZXJ2ZSkKPiAgICAgICAgICAgICAgICAgcmV0dXJuIDA7Cj4KPiAtICAgICAgIHJldHVybiBiZGV2
LT5kcml2ZXItPmlvX21lbV9yZXNlcnZlKGJkZXYsIG1lbSk7Cj4gKyAgICAgICByZXR1cm4gYmRl
di0+ZnVuY3MtPmlvX21lbV9yZXNlcnZlKGJkZXYsIG1lbSk7Cj4gIH0KPgo+IC12b2lkIHR0bV9t
ZW1faW9fZnJlZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiArdm9pZCB0dG1fbWVtX2lv
X2ZyZWUoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4gICAgICAgICAgICAgICAgICAgICAgc3Ry
dWN0IHR0bV9yZXNvdXJjZSAqbWVtKQo+ICB7Cj4gICAgICAgICBpZiAoIW1lbS0+YnVzLm9mZnNl
dCAmJiAhbWVtLT5idXMuYWRkcikKPiAgICAgICAgICAgICAgICAgcmV0dXJuOwo+Cj4gLSAgICAg
ICBpZiAoYmRldi0+ZHJpdmVyLT5pb19tZW1fZnJlZSkKPiAtICAgICAgICAgICAgICAgYmRldi0+
ZHJpdmVyLT5pb19tZW1fZnJlZShiZGV2LCBtZW0pOwo+ICsgICAgICAgaWYgKGJkZXYtPmZ1bmNz
LT5pb19tZW1fZnJlZSkKPiArICAgICAgICAgICAgICAgYmRldi0+ZnVuY3MtPmlvX21lbV9mcmVl
KGJkZXYsIG1lbSk7Cj4KPiAgICAgICAgIG1lbS0+YnVzLm9mZnNldCA9IDA7Cj4gICAgICAgICBt
ZW0tPmJ1cy5hZGRyID0gTlVMTDsKPiAgfQo+Cj4gLXN0YXRpYyBpbnQgdHRtX3Jlc291cmNlX2lv
cmVtYXAoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gK3N0YXRpYyBpbnQgdHRtX3Jlc291
cmNlX2lvcmVtYXAoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4gICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2UgKm1lbSwKPiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgdm9pZCAqKnZpcnR1YWwpCj4gIHsKPiBAQCAtMTAyLDcgKzEwMiw3IEBA
IHN0YXRpYyBpbnQgdHRtX3Jlc291cmNlX2lvcmVtYXAoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJk
ZXYsCj4gICAgICAgICByZXR1cm4gMDsKPiAgfQo+Cj4gLXN0YXRpYyB2b2lkIHR0bV9yZXNvdXJj
ZV9pb3VubWFwKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICtzdGF0aWMgdm9pZCB0dG1f
cmVzb3VyY2VfaW91bm1hcChzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwKPiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2UgKm1lbSwKPiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHZvaWQgKnZpcnR1YWwpCj4gIHsKPiBAQCAtMTcyLDcgKzE3
Miw3IEBAIGludCB0dG1fYm9fbW92ZV9tZW1jcHkoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpi
bywKPiAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fb3BlcmF0aW9uX2N0eCAqY3R4
LAo+ICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHR0bV9yZXNvdXJjZSAqbmV3X21lbSkK
PiAgewo+IC0gICAgICAgc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYgPSBiby0+YmRldjsKPiAr
ICAgICAgIHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2ID0gYm8tPmJkZXY7Cj4gICAgICAgICBzdHJ1
Y3QgdHRtX3Jlc291cmNlX21hbmFnZXIgKm1hbiA9IHR0bV9tYW5hZ2VyX3R5cGUoYmRldiwgbmV3
X21lbS0+bWVtX3R5cGUpOwo+ICAgICAgICAgc3RydWN0IHR0bV90dCAqdHRtID0gYm8tPnR0bTsK
PiAgICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2UgKm9sZF9tZW0gPSAmYm8tPm1lbTsKPiBAQCAt
MzAwLDcgKzMwMCw3IEBAIHN0YXRpYyBpbnQgdHRtX2J1ZmZlcl9vYmplY3RfdHJhbnNmZXIoc3Ry
dWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAgICAgICAgICAqIFRPRE86IEV4cGxpY2l0IG1l
bWJlciBjb3B5IHdvdWxkIHByb2JhYmx5IGJlIGJldHRlciBoZXJlLgo+ICAgICAgICAgICovCj4K
PiAtICAgICAgIGF0b21pY19pbmMoJnR0bV9ib19nbG9iLmJvX2NvdW50KTsKPiArICAgICAgIGF0
b21pY19pbmMoJnR0bV9nbG9iLmJvX2NvdW50KTsKPiAgICAgICAgIElOSVRfTElTVF9IRUFEKCZm
Ym8tPmJhc2UuZGRlc3Ryb3kpOwo+ICAgICAgICAgSU5JVF9MSVNUX0hFQUQoJmZiby0+YmFzZS5s
cnUpOwo+ICAgICAgICAgSU5JVF9MSVNUX0hFQUQoJmZiby0+YmFzZS5zd2FwKTsKPiBAQCAtNjAy
LDcgKzYwMiw3IEBAIHN0YXRpYyBpbnQgdHRtX2JvX21vdmVfdG9fZ2hvc3Qoc3RydWN0IHR0bV9i
dWZmZXJfb2JqZWN0ICpibywKPiAgc3RhdGljIHZvaWQgdHRtX2JvX21vdmVfcGlwZWxpbmVfZXZp
Y3Qoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBzdHJ1Y3QgZG1hX2ZlbmNlICpmZW5jZSkKPiAgewo+IC0gICAgICAg
c3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYgPSBiby0+YmRldjsKPiArICAgICAgIHN0cnVjdCB0
dG1fZGV2aWNlICpiZGV2ID0gYm8tPmJkZXY7Cj4gICAgICAgICBzdHJ1Y3QgdHRtX3Jlc291cmNl
X21hbmFnZXIgKmZyb20gPSB0dG1fbWFuYWdlcl90eXBlKGJkZXYsIGJvLT5tZW0ubWVtX3R5cGUp
Owo+Cj4gICAgICAgICAvKioKPiBAQCAtNjI4LDcgKzYyOCw3IEBAIGludCB0dG1fYm9fbW92ZV9h
Y2NlbF9jbGVhbnVwKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCj4gICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgYm9vbCBwaXBlbGluZSwKPiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBzdHJ1Y3QgdHRtX3Jlc291cmNlICpuZXdfbWVtKQo+ICB7Cj4gLSAgICAgICBzdHJ1
Y3QgdHRtX2JvX2RldmljZSAqYmRldiA9IGJvLT5iZGV2Owo+ICsgICAgICAgc3RydWN0IHR0bV9k
ZXZpY2UgKmJkZXYgPSBiby0+YmRldjsKPiAgICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2VfbWFu
YWdlciAqZnJvbSA9IHR0bV9tYW5hZ2VyX3R5cGUoYmRldiwgYm8tPm1lbS5tZW1fdHlwZSk7Cj4g
ICAgICAgICBzdHJ1Y3QgdHRtX3Jlc291cmNlX21hbmFnZXIgKm1hbiA9IHR0bV9tYW5hZ2VyX3R5
cGUoYmRldiwgbmV3X21lbS0+bWVtX3R5cGUpOwo+ICAgICAgICAgaW50IHJldCA9IDA7Cj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2JvX3ZtLmMgYi9kcml2ZXJzL2dwdS9k
cm0vdHRtL3R0bV9ib192bS5jCj4gaW5kZXggNmRjOTZjZjY2NzQ0Li5iMzFiMTgwNTg5NjUgMTAw
NjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm9fdm0uYwo+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS90dG0vdHRtX2JvX3ZtLmMKPiBAQCAtOTUsMTAgKzk1LDEwIEBAIHN0YXRpYyB2
bV9mYXVsdF90IHR0bV9ib192bV9mYXVsdF9pZGxlKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAq
Ym8sCj4gIHN0YXRpYyB1bnNpZ25lZCBsb25nIHR0bV9ib19pb19tZW1fcGZuKHN0cnVjdCB0dG1f
YnVmZmVyX29iamVjdCAqYm8sCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgdW5zaWduZWQgbG9uZyBwYWdlX29mZnNldCkKPiAgewo+IC0gICAgICAgc3RydWN0IHR0bV9i
b19kZXZpY2UgKmJkZXYgPSBiby0+YmRldjsKPiArICAgICAgIHN0cnVjdCB0dG1fZGV2aWNlICpi
ZGV2ID0gYm8tPmJkZXY7Cj4KPiAtICAgICAgIGlmIChiZGV2LT5kcml2ZXItPmlvX21lbV9wZm4p
Cj4gLSAgICAgICAgICAgICAgIHJldHVybiBiZGV2LT5kcml2ZXItPmlvX21lbV9wZm4oYm8sIHBh
Z2Vfb2Zmc2V0KTsKPiArICAgICAgIGlmIChiZGV2LT5mdW5jcy0+aW9fbWVtX3BmbikKPiArICAg
ICAgICAgICAgICAgcmV0dXJuIGJkZXYtPmZ1bmNzLT5pb19tZW1fcGZuKGJvLCBwYWdlX29mZnNl
dCk7Cj4KPiAgICAgICAgIHJldHVybiAoYm8tPm1lbS5idXMub2Zmc2V0ID4+IFBBR0VfU0hJRlQp
ICsgcGFnZV9vZmZzZXQ7Cj4gIH0KPiBAQCAtMjE2LDcgKzIxNiw3IEBAIHN0YXRpYyB2bV9mYXVs
dF90IHR0bV9ib192bV9pbnNlcnRfaHVnZShzdHJ1Y3Qgdm1fZmF1bHQgKnZtZiwKPiAgICAgICAg
ICAgICAgICAgICAgICAgICBpZiAocGFnZV90b19wZm4odHRtLT5wYWdlc1twYWdlX29mZnNldCAr
IGldKSAhPSBwZm4gKyBpKQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ290byBv
dXRfZmFsbGJhY2s7Cj4gICAgICAgICAgICAgICAgIH0KPiAtICAgICAgIH0gZWxzZSBpZiAoYm8t
PmJkZXYtPmRyaXZlci0+aW9fbWVtX3Bmbikgewo+ICsgICAgICAgfSBlbHNlIGlmIChiby0+YmRl
di0+ZnVuY3MtPmlvX21lbV9wZm4pIHsKPiAgICAgICAgICAgICAgICAgZm9yIChpID0gMTsgaSA8
IGZhdWx0X3BhZ2Vfc2l6ZTsgKytpKSB7Cj4gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR0
bV9ib19pb19tZW1fcGZuKGJvLCBwYWdlX29mZnNldCArIGkpICE9IHBmbiArIGkpCj4gICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBnb3RvIG91dF9mYWxsYmFjazsKPiBAQCAtMjc4LDcg
KzI3OCw3IEBAIHZtX2ZhdWx0X3QgdHRtX2JvX3ZtX2ZhdWx0X3Jlc2VydmVkKHN0cnVjdCB2bV9m
YXVsdCAqdm1mLAo+ICB7Cj4gICAgICAgICBzdHJ1Y3Qgdm1fYXJlYV9zdHJ1Y3QgKnZtYSA9IHZt
Zi0+dm1hOwo+ICAgICAgICAgc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibyA9IHZtYS0+dm1f
cHJpdmF0ZV9kYXRhOwo+IC0gICAgICAgc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYgPSBiby0+
YmRldjsKPiArICAgICAgIHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2ID0gYm8tPmJkZXY7Cj4gICAg
ICAgICB1bnNpZ25lZCBsb25nIHBhZ2Vfb2Zmc2V0Owo+ICAgICAgICAgdW5zaWduZWQgbG9uZyBw
YWdlX2xhc3Q7Cj4gICAgICAgICB1bnNpZ25lZCBsb25nIHBmbjsKPiBAQCAtNDg4LDggKzQ4OCw4
IEBAIGludCB0dG1fYm9fdm1fYWNjZXNzKHN0cnVjdCB2bV9hcmVhX3N0cnVjdCAqdm1hLCB1bnNp
Z25lZCBsb25nIGFkZHIsCj4gICAgICAgICAgICAgICAgIHJldCA9IHR0bV9ib192bV9hY2Nlc3Nf
a21hcChibywgb2Zmc2V0LCBidWYsIGxlbiwgd3JpdGUpOwo+ICAgICAgICAgICAgICAgICBicmVh
azsKPiAgICAgICAgIGRlZmF1bHQ6Cj4gLSAgICAgICAgICAgICAgIGlmIChiby0+YmRldi0+ZHJp
dmVyLT5hY2Nlc3NfbWVtb3J5KQo+IC0gICAgICAgICAgICAgICAgICAgICAgIHJldCA9IGJvLT5i
ZGV2LT5kcml2ZXItPmFjY2Vzc19tZW1vcnkoCj4gKyAgICAgICAgICAgICAgIGlmIChiby0+YmRl
di0+ZnVuY3MtPmFjY2Vzc19tZW1vcnkpCj4gKyAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0g
Ym8tPmJkZXYtPmZ1bmNzLT5hY2Nlc3NfbWVtb3J5KAo+ICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgYm8sIG9mZnNldCwgYnVmLCBsZW4sIHdyaXRlKTsKPiAgICAgICAgICAgICAgICAg
ZWxzZQo+ICAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IC1FSU87Cj4gQEAgLTUwOCw3ICs1
MDgsNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IHZtX29wZXJhdGlvbnNfc3RydWN0IHR0bV9ib192
bV9vcHMgPSB7Cj4gICAgICAgICAuYWNjZXNzID0gdHRtX2JvX3ZtX2FjY2VzcywKPiAgfTsKPgo+
IC1zdGF0aWMgc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICp0dG1fYm9fdm1fbG9va3VwKHN0cnVj
dCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICtzdGF0aWMgc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0
ICp0dG1fYm9fdm1fbG9va3VwKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LAo+ICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgbG9uZyBvZmZz
ZXQsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1
bnNpZ25lZCBsb25nIHBhZ2VzKQo+ICB7Cj4gQEAgLTU1NSw5ICs1NTUsOCBAQCBzdGF0aWMgdm9p
ZCB0dG1fYm9fbW1hcF92bWFfc2V0dXAoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywgc3Ry
dWN0IHZtX2FyZWFfcwo+ICB9Cj4KPiAgaW50IHR0bV9ib19tbWFwKHN0cnVjdCBmaWxlICpmaWxw
LCBzdHJ1Y3Qgdm1fYXJlYV9zdHJ1Y3QgKnZtYSwKPiAtICAgICAgICAgICAgICAgc3RydWN0IHR0
bV9ib19kZXZpY2UgKmJkZXYpCj4gKyAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fZGV2aWNlICpi
ZGV2KQo+ICB7Cj4gLSAgICAgICBzdHJ1Y3QgdHRtX2JvX2RyaXZlciAqZHJpdmVyOwo+ICAgICAg
ICAgc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibzsKPiAgICAgICAgIGludCByZXQ7Cj4KPiBA
QCAtNTY4LDEyICs1NjcsMTEgQEAgaW50IHR0bV9ib19tbWFwKHN0cnVjdCBmaWxlICpmaWxwLCBz
dHJ1Y3Qgdm1fYXJlYV9zdHJ1Y3QgKnZtYSwKPiAgICAgICAgIGlmICh1bmxpa2VseSghYm8pKQo+
ICAgICAgICAgICAgICAgICByZXR1cm4gLUVJTlZBTDsKPgo+IC0gICAgICAgZHJpdmVyID0gYm8t
PmJkZXYtPmRyaXZlcjsKPiAtICAgICAgIGlmICh1bmxpa2VseSghZHJpdmVyLT52ZXJpZnlfYWNj
ZXNzKSkgewo+ICsgICAgICAgaWYgKHVubGlrZWx5KCFiby0+YmRldi0+ZnVuY3MtPnZlcmlmeV9h
Y2Nlc3MpKSB7Cj4gICAgICAgICAgICAgICAgIHJldCA9IC1FUEVSTTsKPiAgICAgICAgICAgICAg
ICAgZ290byBvdXRfdW5yZWY7Cj4gICAgICAgICB9Cj4gLSAgICAgICByZXQgPSBkcml2ZXItPnZl
cmlmeV9hY2Nlc3MoYm8sIGZpbHApOwo+ICsgICAgICAgcmV0ID0gYm8tPmJkZXYtPmZ1bmNzLT52
ZXJpZnlfYWNjZXNzKGJvLCBmaWxwKTsKPiAgICAgICAgIGlmICh1bmxpa2VseShyZXQgIT0gMCkp
Cj4gICAgICAgICAgICAgICAgIGdvdG8gb3V0X3VucmVmOwo+Cj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS90dG0vdHRtX2RldmljZS5jIGIvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fZGV2
aWNlLmMKPiBuZXcgZmlsZSBtb2RlIDEwMDY0NAo+IGluZGV4IDAwMDAwMDAwMDAwMC4uYWMwOTAz
YzllNjBhCj4gLS0tIC9kZXYvbnVsbAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2Rl
dmljZS5jCj4gQEAgLTAsMCArMSwxOTUgQEAKPiArLyogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6
IEdQTC0yLjAgT1IgTUlUICovCj4gKwo+ICsvKgo+ICsgKiBDb3B5cmlnaHQgKGMpIDIwMDYtMjAw
OSBWTXdhcmUsIEluYy4sIFBhbG8gQWx0bywgQ0EuLCBVU0EKPiArICogQ29weXJpZ2h0IDIwMjAg
QWR2YW5jZWQgTWljcm8gRGV2aWNlcywgSW5jLgo+ICsgKgo+ICsgKiBQZXJtaXNzaW9uIGlzIGhl
cmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYQo+
ICsgKiBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBm
aWxlcyAodGhlICJTb2Z0d2FyZSIpLAo+ICsgKiB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRo
b3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uCj4gKyAqIHRoZSBy
aWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBz
dWJsaWNlbnNlLAo+ICsgKiBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQg
dG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUKPiArICogU29mdHdhcmUgaXMgZnVybmlzaGVk
IHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKPiArICoKPiAr
ICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ug
c2hhbGwgYmUgaW5jbHVkZWQgaW4KPiArICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0
aW9ucyBvZiB0aGUgU29mdHdhcmUuCj4gKyAqCj4gKyAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURF
RCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCj4gKyAq
IElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Yg
TUVSQ0hBTlRBQklMSVRZLAo+ICsgKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBB
TkQgTk9OSU5GUklOR0VNRU5ULiAgSU4gTk8gRVZFTlQgU0hBTEwKPiArICogVEhFIENPUFlSSUdI
VCBIT0xERVIoUykgT1IgQVVUSE9SKFMpIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VT
IE9SCj4gKyAqIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJB
Q1QsIFRPUlQgT1IgT1RIRVJXSVNFLAo+ICsgKiBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBD
T05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IKPiArICogT1RIRVIgREVB
TElOR1MgSU4gVEhFIFNPRlRXQVJFLgo+ICsgKgo+ICsgKiBBdXRob3JzOiBDaHJpc3RpYW4gS8O2
bmlnCj4gKyAqLwo+ICsKPiArI2RlZmluZSBwcl9mbXQoZm10KSAiW1RUTSBERVZJQ0VdICIgZm10
Cj4gKwo+ICsjaW5jbHVkZSA8ZHJtL3R0bS90dG1fZGV2aWNlLmg+Cj4gKyNpbmNsdWRlIDxkcm0v
dHRtL3R0bV9tZW1vcnkuaD4KPiArI2luY2x1ZGUgPGRybS90dG0vdHRtX3BsYWNlbWVudC5oPgo+
ICsKPiArI2luY2x1ZGUgInR0bV9tb2R1bGUuaCIKPiArCj4gKy8qKgo+ICsgKiB0dG1fZ2xvYmFs
X211dGV4IC0gcHJvdGVjdGluZyB0aGUgZ2xvYmFsIHN0YXRlCj4gKyAqLwo+ICtERUZJTkVfTVVU
RVgodHRtX2dsb2JhbF9tdXRleCk7Cj4gK3Vuc2lnbmVkIHR0bV9nbG9iX3VzZV9jb3VudDsKPiAr
c3RydWN0IHR0bV9nbG9iYWwgdHRtX2dsb2I7Cj4gK0VYUE9SVF9TWU1CT0wodHRtX2dsb2IpOwo+
ICsKPiArc3RhdGljIHZvaWQgdHRtX2dsb2JhbF9yZWxlYXNlKHZvaWQpCj4gK3sKPiArICAgICAg
IHN0cnVjdCB0dG1fZ2xvYmFsICpnbG9iID0gJnR0bV9nbG9iOwo+ICsKPiArICAgICAgIG11dGV4
X2xvY2soJnR0bV9nbG9iYWxfbXV0ZXgpOwo+ICsgICAgICAgaWYgKC0tdHRtX2dsb2JfdXNlX2Nv
dW50ID4gMCkKPiArICAgICAgICAgICAgICAgZ290byBvdXQ7Cj4gKwo+ICsgICAgICAga29iamVj
dF9kZWwoJmdsb2ItPmtvYmopOwo+ICsgICAgICAga29iamVjdF9wdXQoJmdsb2ItPmtvYmopOwo+
ICsgICAgICAgdHRtX21lbV9nbG9iYWxfcmVsZWFzZSgmdHRtX21lbV9nbG9iKTsKPiArICAgICAg
IF9fZnJlZV9wYWdlKGdsb2ItPmR1bW15X3JlYWRfcGFnZSk7Cj4gKyAgICAgICBtZW1zZXQoZ2xv
YiwgMCwgc2l6ZW9mKCpnbG9iKSk7Cj4gK291dDoKPiArICAgICAgIG11dGV4X3VubG9jaygmdHRt
X2dsb2JhbF9tdXRleCk7Cj4gK30KPiArCj4gK3N0YXRpYyBpbnQgdHRtX2dsb2JhbF9pbml0KHZv
aWQpCj4gK3sKPiArICAgICAgIHN0cnVjdCB0dG1fZ2xvYmFsICpnbG9iID0gJnR0bV9nbG9iOwo+
ICsgICAgICAgaW50IHJldCA9IDA7Cj4gKyAgICAgICB1bnNpZ25lZCBpOwo+ICsKPiArICAgICAg
IG11dGV4X2xvY2soJnR0bV9nbG9iYWxfbXV0ZXgpOwo+ICsgICAgICAgaWYgKCsrdHRtX2dsb2Jf
dXNlX2NvdW50ID4gMSkKPiArICAgICAgICAgICAgICAgZ290byBvdXQ7Cj4gKwo+ICsgICAgICAg
cmV0ID0gdHRtX21lbV9nbG9iYWxfaW5pdCgmdHRtX21lbV9nbG9iKTsKPiArICAgICAgIGlmIChy
ZXQpCj4gKyAgICAgICAgICAgICAgIGdvdG8gb3V0Owo+ICsKPiArICAgICAgIHNwaW5fbG9ja19p
bml0KCZnbG9iLT5scnVfbG9jayk7Cj4gKyAgICAgICBnbG9iLT5kdW1teV9yZWFkX3BhZ2UgPSBh
bGxvY19wYWdlKF9fR0ZQX1pFUk8gfCBHRlBfRE1BMzIpOwo+ICsKPiArICAgICAgIGlmICh1bmxp
a2VseShnbG9iLT5kdW1teV9yZWFkX3BhZ2UgPT0gTlVMTCkpIHsKPiArICAgICAgICAgICAgICAg
cmV0ID0gLUVOT01FTTsKPiArICAgICAgICAgICAgICAgZ290byBvdXQ7Cj4gKyAgICAgICB9Cj4g
Kwo+ICsgICAgICAgZm9yIChpID0gMDsgaSA8IFRUTV9NQVhfQk9fUFJJT1JJVFk7ICsraSkKPiAr
ICAgICAgICAgICAgICAgSU5JVF9MSVNUX0hFQUQoJmdsb2ItPnN3YXBfbHJ1W2ldKTsKPiArICAg
ICAgIElOSVRfTElTVF9IRUFEKCZnbG9iLT5kZXZpY2VfbGlzdCk7Cj4gKyAgICAgICBhdG9taWNf
c2V0KCZnbG9iLT5ib19jb3VudCwgMCk7Cj4gKwo+ICsgICAgICAgZGVidWdmc19jcmVhdGVfYXRv
bWljX3QoImJ1ZmZlcl9vYmplY3RzIiwgMDQ0NCwgdHRtX2RlYnVnZnNfcm9vdCwKPiArICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICZnbG9iLT5ib19jb3VudCk7Cj4gK291dDoKPiArICAg
ICAgIG11dGV4X3VubG9jaygmdHRtX2dsb2JhbF9tdXRleCk7Cj4gKyAgICAgICByZXR1cm4gcmV0
Owo+ICt9Cj4gKwo+ICtzdGF0aWMgdm9pZCB0dG1faW5pdF9zeXNtYW4oc3RydWN0IHR0bV9kZXZp
Y2UgKmJkZXYpCj4gK3sKPiArICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdlciAqbWFu
ID0gJmJkZXYtPnN5c21hbjsKPiArCj4gKyAgICAgICAvKgo+ICsgICAgICAgICogSW5pdGlhbGl6
ZSB0aGUgc3lzdGVtIG1lbW9yeSBidWZmZXIgdHlwZS4KPiArICAgICAgICAqIE90aGVyIHR5cGVz
IG5lZWQgdG8gYmUgZHJpdmVyIC8gSU9DVEwgaW5pdGlhbGl6ZWQuCj4gKyAgICAgICAgKi8KPiAr
ICAgICAgIG1hbi0+dXNlX3R0ID0gdHJ1ZTsKPiArCj4gKyAgICAgICB0dG1fcmVzb3VyY2VfbWFu
YWdlcl9pbml0KG1hbiwgMCk7Cj4gKyAgICAgICB0dG1fc2V0X2RyaXZlcl9tYW5hZ2VyKGJkZXYs
IFRUTV9QTF9TWVNURU0sIG1hbik7Cj4gKyAgICAgICB0dG1fcmVzb3VyY2VfbWFuYWdlcl9zZXRf
dXNlZChtYW4sIHRydWUpOwo+ICt9Cj4gKwo+ICtzdGF0aWMgdm9pZCB0dG1fZGV2aWNlX2RlbGF5
ZWRfd29ya3F1ZXVlKHN0cnVjdCB3b3JrX3N0cnVjdCAqd29yaykKPiArewo+ICsgICAgICAgc3Ry
dWN0IHR0bV9kZXZpY2UgKmJkZXYgPQo+ICsgICAgICAgICAgICAgICBjb250YWluZXJfb2Yod29y
aywgc3RydWN0IHR0bV9kZXZpY2UsIHdxLndvcmspOwo+ICsKPiArICAgICAgIGlmICghdHRtX2Jv
X2RlbGF5ZWRfZGVsZXRlKGJkZXYsIGZhbHNlKSkKPiArICAgICAgICAgICAgICAgc2NoZWR1bGVf
ZGVsYXllZF93b3JrKCZiZGV2LT53cSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICgoSFogLyAxMDApIDwgMSkgPyAxIDogSFogLyAxMDApOwo+ICt9Cj4gKwo+ICsvKioK
PiArICogdHRtX2RldmljZV9pbml0Cj4gKyAqCj4gKyAqIEBiZGV2OiBBIHBvaW50ZXIgdG8gYSBz
dHJ1Y3QgdHRtX2RldmljZSB0byBpbml0aWFsaXplLgo+ICsgKiBAZnVuY3M6IEZ1bmN0aW9uIHRh
YmxlIGZvciB0aGUgZGV2aWNlLgo+ICsgKiBAZGV2OiBUaGUgY29yZSBrZXJuZWwgZGV2aWNlIHBv
aW50ZXIgZm9yIERNQSBtYXBwaW5ncyBhbmQgYWxsb2NhdGlvbnMuCj4gKyAqIEBtYXBwaW5nOiBU
aGUgYWRkcmVzcyBzcGFjZSB0byB1c2UgZm9yIHRoaXMgYm8uCj4gKyAqIEB2bWFfbWFuYWdlcjog
QSBwb2ludGVyIHRvIGEgdm1hIG1hbmFnZXIuCj4gKyAqIEB1c2VfZG1hX2FsbG9jOiBJZiBjb2hl
cmVudCBETUEgYWxsb2NhdGlvbiBBUEkgc2hvdWxkIGJlIHVzZWQuCj4gKyAqIEB1c2VfZG1hMzI6
IElmIHdlIHNob3VsZCB1c2UgR0ZQX0RNQTMyIGZvciBkZXZpY2UgbWVtb3J5IGFsbG9jYXRpb25z
Lgo+ICsgKgo+ICsgKiBJbml0aWFsaXplcyBhIHN0cnVjdCB0dG1fZGV2aWNlOgo+ICsgKiBSZXR1
cm5zOgo+ICsgKiAhMDogRmFpbHVyZS4KPiArICovCj4gK2ludCB0dG1fZGV2aWNlX2luaXQoc3Ry
dWN0IHR0bV9kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fZGV2aWNlX2Z1bmNzICpmdW5jcywKPiAr
ICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGFkZHJlc3Nfc3Bh
Y2UgKm1hcHBpbmcsCj4gKyAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgZHJtX3ZtYV9vZmZzZXRf
bWFuYWdlciAqdm1hX21hbmFnZXIsCj4gKyAgICAgICAgICAgICAgICAgICBib29sIHVzZV9kbWFf
YWxsb2MsIGJvb2wgdXNlX2RtYTMyKQo+ICt7Cj4gKyAgICAgICBzdHJ1Y3QgdHRtX2dsb2JhbCAq
Z2xvYiA9ICZ0dG1fZ2xvYjsKPiArICAgICAgIGludCByZXQ7Cj4gKwo+ICsgICAgICAgaWYgKFdB
Uk5fT04odm1hX21hbmFnZXIgPT0gTlVMTCkpCj4gKyAgICAgICAgICAgICAgIHJldHVybiAtRUlO
VkFMOwo+ICsKPiArICAgICAgIHJldCA9IHR0bV9nbG9iYWxfaW5pdCgpOwo+ICsgICAgICAgaWYg
KHJldCkKPiArICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiArCj4gKyAgICAgICBiZGV2LT5m
dW5jcyA9IGZ1bmNzOwo+ICsKPiArICAgICAgIHR0bV9pbml0X3N5c21hbihiZGV2KTsKPiArICAg
ICAgIHR0bV9wb29sX2luaXQoJmJkZXYtPnBvb2wsIGRldiwgdXNlX2RtYV9hbGxvYywgdXNlX2Rt
YTMyKTsKPiArCj4gKyAgICAgICBiZGV2LT52bWFfbWFuYWdlciA9IHZtYV9tYW5hZ2VyOwo+ICsg
ICAgICAgSU5JVF9ERUxBWUVEX1dPUksoJmJkZXYtPndxLCB0dG1fZGV2aWNlX2RlbGF5ZWRfd29y
a3F1ZXVlKTsKPiArICAgICAgIElOSVRfTElTVF9IRUFEKCZiZGV2LT5kZGVzdHJveSk7Cj4gKyAg
ICAgICBiZGV2LT5kZXZfbWFwcGluZyA9IG1hcHBpbmc7Cj4gKyAgICAgICBtdXRleF9sb2NrKCZ0
dG1fZ2xvYmFsX211dGV4KTsKPiArICAgICAgIGxpc3RfYWRkX3RhaWwoJmJkZXYtPmRldmljZV9s
aXN0LCAmZ2xvYi0+ZGV2aWNlX2xpc3QpOwo+ICsgICAgICAgbXV0ZXhfdW5sb2NrKCZ0dG1fZ2xv
YmFsX211dGV4KTsKPiArCj4gKyAgICAgICByZXR1cm4gMDsKPiArfQo+ICtFWFBPUlRfU1lNQk9M
KHR0bV9kZXZpY2VfaW5pdCk7Cj4gKwo+ICt2b2lkIHR0bV9kZXZpY2VfZmluaShzdHJ1Y3QgdHRt
X2RldmljZSAqYmRldikKPiArewo+ICsgICAgICAgc3RydWN0IHR0bV9nbG9iYWwgKmdsb2IgPSAm
dHRtX2dsb2I7Cj4gKyAgICAgICBzdHJ1Y3QgdHRtX3Jlc291cmNlX21hbmFnZXIgKm1hbjsKPiAr
ICAgICAgIHVuc2lnbmVkIGk7Cj4gKwo+ICsgICAgICAgbWFuID0gdHRtX21hbmFnZXJfdHlwZShi
ZGV2LCBUVE1fUExfU1lTVEVNKTsKPiArICAgICAgIHR0bV9yZXNvdXJjZV9tYW5hZ2VyX3NldF91
c2VkKG1hbiwgZmFsc2UpOwo+ICsgICAgICAgdHRtX3NldF9kcml2ZXJfbWFuYWdlcihiZGV2LCBU
VE1fUExfU1lTVEVNLCBOVUxMKTsKPiArCj4gKyAgICAgICBtdXRleF9sb2NrKCZ0dG1fZ2xvYmFs
X211dGV4KTsKPiArICAgICAgIGxpc3RfZGVsKCZiZGV2LT5kZXZpY2VfbGlzdCk7Cj4gKyAgICAg
ICBtdXRleF91bmxvY2soJnR0bV9nbG9iYWxfbXV0ZXgpOwo+ICsKPiArICAgICAgIGNhbmNlbF9k
ZWxheWVkX3dvcmtfc3luYygmYmRldi0+d3EpOwo+ICsKPiArICAgICAgIGlmICh0dG1fYm9fZGVs
YXllZF9kZWxldGUoYmRldiwgdHJ1ZSkpCj4gKyAgICAgICAgICAgICAgIHByX2RlYnVnKCJEZWxh
eWVkIGRlc3Ryb3kgbGlzdCB3YXMgY2xlYW5cbiIpOwo+ICsKPiArICAgICAgIHNwaW5fbG9jaygm
Z2xvYi0+bHJ1X2xvY2spOwo+ICsgICAgICAgZm9yIChpID0gMDsgaSA8IFRUTV9NQVhfQk9fUFJJ
T1JJVFk7ICsraSkKPiArICAgICAgICAgICAgICAgaWYgKGxpc3RfZW1wdHkoJm1hbi0+bHJ1WzBd
KSkKPiArICAgICAgICAgICAgICAgICAgICAgICBwcl9kZWJ1ZygiU3dhcCBsaXN0ICVkIHdhcyBj
bGVhblxuIiwgaSk7Cj4gKyAgICAgICBzcGluX3VubG9jaygmZ2xvYi0+bHJ1X2xvY2spOwo+ICsK
PiArICAgICAgIHR0bV9wb29sX2ZpbmkoJmJkZXYtPnBvb2wpOwo+ICsgICAgICAgdHRtX2dsb2Jh
bF9yZWxlYXNlKCk7Cj4gK30KPiArRVhQT1JUX1NZTUJPTCh0dG1fZGV2aWNlX2ZpbmkpOwo+IGRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9leGVjYnVmX3V0aWwuYyBiL2RyaXZl
cnMvZ3B1L2RybS90dG0vdHRtX2V4ZWNidWZfdXRpbC5jCj4gaW5kZXggOWZhMzZlZDU5NDI5Li42
OTBhYjk3ZDUyYjcgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fZXhlY2J1
Zl91dGlsLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9leGVjYnVmX3V0aWwuYwo+
IEBAIC01MSwxNCArNTEsMTQgQEAgdm9pZCB0dG1fZXVfYmFja29mZl9yZXNlcnZhdGlvbihzdHJ1
Y3Qgd3dfYWNxdWlyZV9jdHggKnRpY2tldCwKPiAgICAgICAgIGlmIChsaXN0X2VtcHR5KGxpc3Qp
KQo+ICAgICAgICAgICAgICAgICByZXR1cm47Cj4KPiAtICAgICAgIHNwaW5fbG9jaygmdHRtX2Jv
X2dsb2IubHJ1X2xvY2spOwo+ICsgICAgICAgc3Bpbl9sb2NrKCZ0dG1fZ2xvYi5scnVfbG9jayk7
Cj4gICAgICAgICBsaXN0X2Zvcl9lYWNoX2VudHJ5KGVudHJ5LCBsaXN0LCBoZWFkKSB7Cj4gICAg
ICAgICAgICAgICAgIHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8gPSBlbnRyeS0+Ym87Cj4K
PiAgICAgICAgICAgICAgICAgdHRtX2JvX21vdmVfdG9fbHJ1X3RhaWwoYm8sICZiby0+bWVtLCBO
VUxMKTsKPiAgICAgICAgICAgICAgICAgZG1hX3Jlc3ZfdW5sb2NrKGJvLT5iYXNlLnJlc3YpOwo+
ICAgICAgICAgfQo+IC0gICAgICAgc3Bpbl91bmxvY2soJnR0bV9ib19nbG9iLmxydV9sb2NrKTsK
PiArICAgICAgIHNwaW5fdW5sb2NrKCZ0dG1fZ2xvYi5scnVfbG9jayk7Cj4KPiAgICAgICAgIGlm
ICh0aWNrZXQpCj4gICAgICAgICAgICAgICAgIHd3X2FjcXVpcmVfZmluaSh0aWNrZXQpOwo+IEBA
IC0xNTQsNyArMTU0LDcgQEAgdm9pZCB0dG1fZXVfZmVuY2VfYnVmZmVyX29iamVjdHMoc3RydWN0
IHd3X2FjcXVpcmVfY3R4ICp0aWNrZXQsCj4gICAgICAgICBpZiAobGlzdF9lbXB0eShsaXN0KSkK
PiAgICAgICAgICAgICAgICAgcmV0dXJuOwo+Cj4gLSAgICAgICBzcGluX2xvY2soJnR0bV9ib19n
bG9iLmxydV9sb2NrKTsKPiArICAgICAgIHNwaW5fbG9jaygmdHRtX2dsb2IubHJ1X2xvY2spOwo+
ICAgICAgICAgbGlzdF9mb3JfZWFjaF9lbnRyeShlbnRyeSwgbGlzdCwgaGVhZCkgewo+ICAgICAg
ICAgICAgICAgICBzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvID0gZW50cnktPmJvOwo+Cj4g
QEAgLTE2NSw3ICsxNjUsNyBAQCB2b2lkIHR0bV9ldV9mZW5jZV9idWZmZXJfb2JqZWN0cyhzdHJ1
Y3Qgd3dfYWNxdWlyZV9jdHggKnRpY2tldCwKPiAgICAgICAgICAgICAgICAgdHRtX2JvX21vdmVf
dG9fbHJ1X3RhaWwoYm8sICZiby0+bWVtLCBOVUxMKTsKPiAgICAgICAgICAgICAgICAgZG1hX3Jl
c3ZfdW5sb2NrKGJvLT5iYXNlLnJlc3YpOwo+ICAgICAgICAgfQo+IC0gICAgICAgc3Bpbl91bmxv
Y2soJnR0bV9ib19nbG9iLmxydV9sb2NrKTsKPiArICAgICAgIHNwaW5fdW5sb2NrKCZ0dG1fZ2xv
Yi5scnVfbG9jayk7Cj4gICAgICAgICBpZiAodGlja2V0KQo+ICAgICAgICAgICAgICAgICB3d19h
Y3F1aXJlX2ZpbmkodGlja2V0KTsKPiAgfQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
dHRtL3R0bV9yYW5nZV9tYW5hZ2VyLmMgYi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9yYW5nZV9t
YW5hZ2VyLmMKPiBpbmRleCBhMzkzMDVmNzQyZGEuLjcwN2U1YzE1Mjg5NiAxMDA2NDQKPiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9yYW5nZV9tYW5hZ2VyLmMKPiArKysgYi9kcml2ZXJz
L2dwdS9kcm0vdHRtL3R0bV9yYW5nZV9tYW5hZ2VyLmMKPiBAQCAtMTExLDcgKzExMSw3IEBAIHN0
YXRpYyB2b2lkIHR0bV9yYW5nZV9tYW5fZnJlZShzdHJ1Y3QgdHRtX3Jlc291cmNlX21hbmFnZXIg
Km1hbiwKPgo+ICBzdGF0aWMgY29uc3Qgc3RydWN0IHR0bV9yZXNvdXJjZV9tYW5hZ2VyX2Z1bmMg
dHRtX3JhbmdlX21hbmFnZXJfZnVuYzsKPgo+IC1pbnQgdHRtX3JhbmdlX21hbl9pbml0KHN0cnVj
dCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICtpbnQgdHRtX3JhbmdlX21hbl9pbml0KHN0cnVjdCB0
dG1fZGV2aWNlICpiZGV2LAo+ICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgdHlwZSwg
Ym9vbCB1c2VfdHQsCj4gICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBsb25nIHBfc2l6
ZSkKPiAgewo+IEBAIC0xMzgsNyArMTM4LDcgQEAgaW50IHR0bV9yYW5nZV9tYW5faW5pdChzdHJ1
Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiAgfQo+ICBFWFBPUlRfU1lNQk9MKHR0bV9yYW5nZV9t
YW5faW5pdCk7Cj4KPiAtaW50IHR0bV9yYW5nZV9tYW5fZmluaShzdHJ1Y3QgdHRtX2JvX2Rldmlj
ZSAqYmRldiwKPiAraW50IHR0bV9yYW5nZV9tYW5fZmluaShzdHJ1Y3QgdHRtX2RldmljZSAqYmRl
diwKPiAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIHR5cGUpCj4gIHsKPiAgICAgICAg
IHN0cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdlciAqbWFuID0gdHRtX21hbmFnZXJfdHlwZShiZGV2
LCB0eXBlKTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fcmVzb3VyY2Uu
YyBiL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX3Jlc291cmNlLmMKPiBpbmRleCBiNjA2OTliZjQ4
MTYuLmVkMTY3MmE5ZjMzMiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9y
ZXNvdXJjZS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fcmVzb3VyY2UuYwo+IEBA
IC04Myw3ICs4Myw3IEBAIEVYUE9SVF9TWU1CT0wodHRtX3Jlc291cmNlX21hbmFnZXJfaW5pdCk7
Cj4gICAqIEV2aWN0IGFsbCB0aGUgb2JqZWN0cyBvdXQgb2YgYSBtZW1vcnkgbWFuYWdlciB1bnRp
bCBpdCBpcyBlbXB0eS4KPiAgICogUGFydCBvZiBtZW1vcnkgbWFuYWdlciBjbGVhbnVwIHNlcXVl
bmNlLgo+ICAgKi8KPiAtaW50IHR0bV9yZXNvdXJjZV9tYW5hZ2VyX2V2aWN0X2FsbChzdHJ1Y3Qg
dHRtX2JvX2RldmljZSAqYmRldiwKPiAraW50IHR0bV9yZXNvdXJjZV9tYW5hZ2VyX2V2aWN0X2Fs
bChzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdlciAqbWFuKQo+ICB7Cj4gICAgICAgICBz
dHJ1Y3QgdHRtX29wZXJhdGlvbl9jdHggY3R4ID0gewo+IEBAIC05MSw3ICs5MSw3IEBAIGludCB0
dG1fcmVzb3VyY2VfbWFuYWdlcl9ldmljdF9hbGwoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYs
Cj4gICAgICAgICAgICAgICAgIC5ub193YWl0X2dwdSA9IGZhbHNlLAo+ICAgICAgICAgICAgICAg
ICAuZm9yY2VfYWxsb2MgPSB0cnVlCj4gICAgICAgICB9Owo+IC0gICAgICAgc3RydWN0IHR0bV9i
b19nbG9iYWwgKmdsb2IgPSAmdHRtX2JvX2dsb2I7Cj4gKyAgICAgICBzdHJ1Y3QgdHRtX2dsb2Jh
bCAqZ2xvYiA9ICZ0dG1fZ2xvYjsKPiAgICAgICAgIHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlOwo+
ICAgICAgICAgaW50IHJldDsKPiAgICAgICAgIHVuc2lnbmVkIGk7Cj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS90dG0vdHRtX3R0LmMgYi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV90dC5j
Cj4gaW5kZXggN2Y3NWExMzE2M2YwLi43NzgyZDUzOTNjN2MgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL3R0bS90dG1fdHQuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX3R0
LmMKPiBAQCAtNDMsNyArNDMsNyBAQAo+ICAgKi8KPiAgaW50IHR0bV90dF9jcmVhdGUoc3RydWN0
IHR0bV9idWZmZXJfb2JqZWN0ICpibywgYm9vbCB6ZXJvX2FsbG9jKQo+ICB7Cj4gLSAgICAgICBz
dHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiA9IGJvLT5iZGV2Owo+ICsgICAgICAgc3RydWN0IHR0
bV9kZXZpY2UgKmJkZXYgPSBiby0+YmRldjsKPiAgICAgICAgIHVpbnQzMl90IHBhZ2VfZmxhZ3Mg
PSAwOwo+Cj4gICAgICAgICBkbWFfcmVzdl9hc3NlcnRfaGVsZChiby0+YmFzZS5yZXN2KTsKPiBA
QCAtNjYsNyArNjYsNyBAQCBpbnQgdHRtX3R0X2NyZWF0ZShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmpl
Y3QgKmJvLCBib29sIHplcm9fYWxsb2MpCj4gICAgICAgICAgICAgICAgIHJldHVybiAtRUlOVkFM
Owo+ICAgICAgICAgfQo+Cj4gLSAgICAgICBiby0+dHRtID0gYmRldi0+ZHJpdmVyLT50dG1fdHRf
Y3JlYXRlKGJvLCBwYWdlX2ZsYWdzKTsKPiArICAgICAgIGJvLT50dG0gPSBiZGV2LT5mdW5jcy0+
dHRtX3R0X2NyZWF0ZShibywgcGFnZV9mbGFncyk7Cj4gICAgICAgICBpZiAodW5saWtlbHkoYm8t
PnR0bSA9PSBOVUxMKSkKPiAgICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4KPiBAQCAt
MTA4LDcgKzEwOCw3IEBAIHN0YXRpYyBpbnQgdHRtX3NnX3R0X2FsbG9jX3BhZ2VfZGlyZWN0b3J5
KHN0cnVjdCB0dG1fdHQgKnR0bSkKPiAgICAgICAgIHJldHVybiAwOwo+ICB9Cj4KPiAtdm9pZCB0
dG1fdHRfZGVzdHJveV9jb21tb24oc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0
dG1fdHQgKnR0bSkKPiArdm9pZCB0dG1fdHRfZGVzdHJveV9jb21tb24oc3RydWN0IHR0bV9kZXZp
Y2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSkKPiAgewo+ICAgICAgICAgdHRtX3R0X3VucG9w
dWxhdGUoYmRldiwgdHRtKTsKPgo+IEBAIC0xMTksOSArMTE5LDkgQEAgdm9pZCB0dG1fdHRfZGVz
dHJveV9jb21tb24oc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0
bSkKPiAgfQo+ICBFWFBPUlRfU1lNQk9MKHR0bV90dF9kZXN0cm95X2NvbW1vbik7Cj4KPiAtdm9p
ZCB0dG1fdHRfZGVzdHJveShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV90
dCAqdHRtKQo+ICt2b2lkIHR0bV90dF9kZXN0cm95KHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LCBz
dHJ1Y3QgdHRtX3R0ICp0dG0pCj4gIHsKPiAtICAgICAgIGJkZXYtPmRyaXZlci0+dHRtX3R0X2Rl
c3Ryb3koYmRldiwgdHRtKTsKPiArICAgICAgIGJkZXYtPmZ1bmNzLT50dG1fdHRfZGVzdHJveShi
ZGV2LCB0dG0pOwo+ICB9Cj4KPiAgc3RhdGljIHZvaWQgdHRtX3R0X2luaXRfZmllbGRzKHN0cnVj
dCB0dG1fdHQgKnR0bSwKPiBAQCAtMjIzLDcgKzIyMyw3IEBAIGludCB0dG1fdHRfc3dhcGluKHN0
cnVjdCB0dG1fdHQgKnR0bSkKPiAgICAgICAgIHJldHVybiByZXQ7Cj4gIH0KPgo+IC1pbnQgdHRt
X3R0X3N3YXBvdXQoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0
bSkKPiAraW50IHR0bV90dF9zd2Fwb3V0KHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LCBzdHJ1Y3Qg
dHRtX3R0ICp0dG0pCj4gIHsKPiAgICAgICAgIHN0cnVjdCBhZGRyZXNzX3NwYWNlICpzd2FwX3Nw
YWNlOwo+ICAgICAgICAgc3RydWN0IGZpbGUgKnN3YXBfc3RvcmFnZTsKPiBAQCAtMjcxLDcgKzI3
MSw3IEBAIGludCB0dG1fdHRfc3dhcG91dChzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgc3Ry
dWN0IHR0bV90dCAqdHRtKQo+ICAgICAgICAgcmV0dXJuIHJldDsKPiAgfQo+Cj4gLXN0YXRpYyB2
b2lkIHR0bV90dF9hZGRfbWFwcGluZyhzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgc3RydWN0
IHR0bV90dCAqdHRtKQo+ICtzdGF0aWMgdm9pZCB0dG1fdHRfYWRkX21hcHBpbmcoc3RydWN0IHR0
bV9kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSkKPiAgewo+ICAgICAgICAgcGdvZmZf
dCBpOwo+Cj4gQEAgLTI4Miw3ICsyODIsNyBAQCBzdGF0aWMgdm9pZCB0dG1fdHRfYWRkX21hcHBp
bmcoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSkKPiAgICAg
ICAgICAgICAgICAgdHRtLT5wYWdlc1tpXS0+bWFwcGluZyA9IGJkZXYtPmRldl9tYXBwaW5nOwo+
ICB9Cj4KPiAtaW50IHR0bV90dF9wb3B1bGF0ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwK
PiAraW50IHR0bV90dF9wb3B1bGF0ZShzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwKPiAgICAgICAg
ICAgICAgICAgICAgIHN0cnVjdCB0dG1fdHQgKnR0bSwgc3RydWN0IHR0bV9vcGVyYXRpb25fY3R4
ICpjdHgpCj4gIHsKPiAgICAgICAgIGludCByZXQ7Cj4gQEAgLTI5Myw4ICsyOTMsOCBAQCBpbnQg
dHRtX3R0X3BvcHVsYXRlKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICAgICAgICAgaWYg
KHR0bV90dF9pc19wb3B1bGF0ZWQodHRtKSkKPiAgICAgICAgICAgICAgICAgcmV0dXJuIDA7Cj4K
PiAtICAgICAgIGlmIChiZGV2LT5kcml2ZXItPnR0bV90dF9wb3B1bGF0ZSkKPiAtICAgICAgICAg
ICAgICAgcmV0ID0gYmRldi0+ZHJpdmVyLT50dG1fdHRfcG9wdWxhdGUoYmRldiwgdHRtLCBjdHgp
Owo+ICsgICAgICAgaWYgKGJkZXYtPmZ1bmNzLT50dG1fdHRfcG9wdWxhdGUpCj4gKyAgICAgICAg
ICAgICAgIHJldCA9IGJkZXYtPmZ1bmNzLT50dG1fdHRfcG9wdWxhdGUoYmRldiwgdHRtLCBjdHgp
Owo+ICAgICAgICAgZWxzZQo+ICAgICAgICAgICAgICAgICByZXQgPSB0dG1fcG9vbF9hbGxvYygm
YmRldi0+cG9vbCwgdHRtLCBjdHgpOwo+ICAgICAgICAgaWYgKHJldCkKPiBAQCAtMzI4LDE1ICsz
MjgsMTUgQEAgc3RhdGljIHZvaWQgdHRtX3R0X2NsZWFyX21hcHBpbmcoc3RydWN0IHR0bV90dCAq
dHRtKQo+ICAgICAgICAgfQo+ICB9Cj4KPiAtdm9pZCB0dG1fdHRfdW5wb3B1bGF0ZShzdHJ1Y3Qg
dHRtX2JvX2RldmljZSAqYmRldiwKPiArdm9pZCB0dG1fdHRfdW5wb3B1bGF0ZShzdHJ1Y3QgdHRt
X2RldmljZSAqYmRldiwKPiAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fdHQgKnR0
bSkKPiAgewo+ICAgICAgICAgaWYgKCF0dG1fdHRfaXNfcG9wdWxhdGVkKHR0bSkpCj4gICAgICAg
ICAgICAgICAgIHJldHVybjsKPgo+ICAgICAgICAgdHRtX3R0X2NsZWFyX21hcHBpbmcodHRtKTsK
PiAtICAgICAgIGlmIChiZGV2LT5kcml2ZXItPnR0bV90dF91bnBvcHVsYXRlKQo+IC0gICAgICAg
ICAgICAgICBiZGV2LT5kcml2ZXItPnR0bV90dF91bnBvcHVsYXRlKGJkZXYsIHR0bSk7Cj4gKyAg
ICAgICBpZiAoYmRldi0+ZnVuY3MtPnR0bV90dF91bnBvcHVsYXRlKQo+ICsgICAgICAgICAgICAg
ICBiZGV2LT5mdW5jcy0+dHRtX3R0X3VucG9wdWxhdGUoYmRldiwgdHRtKTsKPiAgICAgICAgIGVs
c2UKPiAgICAgICAgICAgICAgICAgdHRtX3Bvb2xfZnJlZSgmYmRldi0+cG9vbCwgdHRtKTsKPiAg
ICAgICAgIHR0bS0+cGFnZV9mbGFncyAmPSB+VFRNX1BBR0VfRkxBR19QUklWX1BPUFVMQVRFRDsK
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfYmxpdC5jIGIvZHJp
dmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfYmxpdC5jCj4gaW5kZXggMTE4ZGIyNGViNzU2Li4z
YTQzOGFlNGQzZjQgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhf
YmxpdC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfYmxpdC5jCj4gQEAg
LTQ2NiwxMyArNDY2LDEzIEBAIGludCB2bXdfYm9fY3B1X2JsaXQoc3RydWN0IHR0bV9idWZmZXJf
b2JqZWN0ICpkc3QsCj4gICAgICAgICAgICAgICAgIGRtYV9yZXN2X2Fzc2VydF9oZWxkKHNyYy0+
YmFzZS5yZXN2KTsKPgo+ICAgICAgICAgaWYgKCF0dG1fdHRfaXNfcG9wdWxhdGVkKGRzdC0+dHRt
KSkgewo+IC0gICAgICAgICAgICAgICByZXQgPSBkc3QtPmJkZXYtPmRyaXZlci0+dHRtX3R0X3Bv
cHVsYXRlKGRzdC0+YmRldiwgZHN0LT50dG0sICZjdHgpOwo+ICsgICAgICAgICAgICAgICByZXQg
PSBkc3QtPmJkZXYtPmZ1bmNzLT50dG1fdHRfcG9wdWxhdGUoZHN0LT5iZGV2LCBkc3QtPnR0bSwg
JmN0eCk7Cj4gICAgICAgICAgICAgICAgIGlmIChyZXQpCj4gICAgICAgICAgICAgICAgICAgICAg
ICAgcmV0dXJuIHJldDsKPiAgICAgICAgIH0KPgo+ICAgICAgICAgaWYgKCF0dG1fdHRfaXNfcG9w
dWxhdGVkKHNyYy0+dHRtKSkgewo+IC0gICAgICAgICAgICAgICByZXQgPSBzcmMtPmJkZXYtPmRy
aXZlci0+dHRtX3R0X3BvcHVsYXRlKHNyYy0+YmRldiwgc3JjLT50dG0sICZjdHgpOwo+ICsgICAg
ICAgICAgICAgICByZXQgPSBzcmMtPmJkZXYtPmZ1bmNzLT50dG1fdHRfcG9wdWxhdGUoc3JjLT5i
ZGV2LCBzcmMtPnR0bSwgJmN0eCk7Cj4gICAgICAgICAgICAgICAgIGlmIChyZXQpCj4gICAgICAg
ICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiAgICAgICAgIH0KPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfYm8uYyBiL2RyaXZlcnMvZ3B1L2RybS92bXdn
Zngvdm13Z2Z4X2JvLmMKPiBpbmRleCBhYjA4NDRiNDdkNGQuLjZiM2JmZDhjNjc4YSAxMDA2NDQK
PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9iby5jCj4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfYm8uYwo+IEBAIC01NDUsNyArNTQ1LDcgQEAgaW50IHZt
d19ib19pbml0KHN0cnVjdCB2bXdfcHJpdmF0ZSAqZGV2X3ByaXYsCj4gICAgICAgICAgICAgICAg
IHZvaWQgKCpib19mcmVlKShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvKSkKPiAgewo+ICAg
ICAgICAgc3RydWN0IHR0bV9vcGVyYXRpb25fY3R4IGN0eCA9IHsgaW50ZXJydXB0aWJsZSwgZmFs
c2UgfTsKPiAtICAgICAgIHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2ID0gJmRldl9wcml2LT5i
ZGV2Owo+ICsgICAgICAgc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYgPSAmZGV2X3ByaXYtPmJkZXY7
Cj4gICAgICAgICBzaXplX3QgYWNjX3NpemU7Cj4gICAgICAgICBpbnQgcmV0Owo+ICAgICAgICAg
Ym9vbCB1c2VyID0gKGJvX2ZyZWUgPT0gJnZtd191c2VyX2JvX2Rlc3Ryb3kpOwo+IEBAIC0xMDU4
LDcgKzEwNTgsNyBAQCBpbnQgdm13X3VzZXJfYm9fcmVmZXJlbmNlKHN0cnVjdCB0dG1fb2JqZWN0
X2ZpbGUgKnRmaWxlLAo+ICB2b2lkIHZtd19ib19mZW5jZV9zaW5nbGUoc3RydWN0IHR0bV9idWZm
ZXJfb2JqZWN0ICpibywKPiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHZtd19mZW5j
ZV9vYmogKmZlbmNlKQo+ICB7Cj4gLSAgICAgICBzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiA9
IGJvLT5iZGV2Owo+ICsgICAgICAgc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYgPSBiby0+YmRldjsK
Pgo+ICAgICAgICAgc3RydWN0IHZtd19wcml2YXRlICpkZXZfcHJpdiA9Cj4gICAgICAgICAgICAg
ICAgIGNvbnRhaW5lcl9vZihiZGV2LCBzdHJ1Y3Qgdm13X3ByaXZhdGUsIGJkZXYpOwo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9kcnYuYyBiL2RyaXZlcnMvZ3B1
L2RybS92bXdnZngvdm13Z2Z4X2Rydi5jCj4gaW5kZXggZWI5OTdmNDY3OGRlLi5iNDU0ZDgwYzI3
M2UgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfZHJ2LmMKPiAr
KysgYi9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9kcnYuYwo+IEBAIC04ODQsMTIgKzg4
NCwxMiBAQCBzdGF0aWMgaW50IHZtd19kcml2ZXJfbG9hZChzdHJ1Y3Qgdm13X3ByaXZhdGUgKmRl
dl9wcml2LCB1MzIgcGNpX2lkKQo+ICAgICAgICAgZHJtX3ZtYV9vZmZzZXRfbWFuYWdlcl9pbml0
KCZkZXZfcHJpdi0+dm1hX21hbmFnZXIsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgRFJNX0ZJTEVfUEFHRV9PRkZTRVRfU1RBUlQsCj4gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgRFJNX0ZJTEVfUEFHRV9PRkZTRVRfU0laRSk7Cj4gLSAgICAgICByZXQg
PSB0dG1fYm9fZGV2aWNlX2luaXQoJmRldl9wcml2LT5iZGV2LCAmdm13X2JvX2RyaXZlciwKPiAt
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZfcHJpdi0+ZHJtLmRldiwKPiAtICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZfcHJpdi0+ZHJtLmFub25faW5vZGUtPmlf
bWFwcGluZywKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmZGV2X3ByaXYtPnZt
YV9tYW5hZ2VyLAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldl9wcml2LT5t
YXBfbW9kZSA9PSB2bXdfZG1hX2FsbG9jX2NvaGVyZW50LAo+IC0gICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIGZhbHNlKTsKPiArICAgICAgIHJldCA9IHR0bV9kZXZpY2VfaW5pdCgmZGV2
X3ByaXYtPmJkZXYsICZ2bXdfYm9fZHJpdmVyLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIGRldl9wcml2LT5kcm0uZGV2LAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRl
dl9wcml2LT5kcm0uYW5vbl9pbm9kZS0+aV9tYXBwaW5nLAo+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICZkZXZfcHJpdi0+dm1hX21hbmFnZXIsCj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgZGV2X3ByaXYtPm1hcF9tb2RlID09IHZtd19kbWFfYWxsb2NfY29oZXJlbnQsCj4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UpOwo+ICAgICAgICAgaWYgKHVubGlr
ZWx5KHJldCAhPSAwKSkgewo+ICAgICAgICAgICAgICAgICBEUk1fRVJST1IoIkZhaWxlZCBpbml0
aWFsaXppbmcgVFRNIGJ1ZmZlciBvYmplY3QgZHJpdmVyLlxuIik7Cj4gICAgICAgICAgICAgICAg
IGdvdG8gb3V0X25vX2JkZXY7Cj4gQEAgLTEwMDYsNyArMTAwNiw3IEBAIHN0YXRpYyBpbnQgdm13
X2RyaXZlcl9sb2FkKHN0cnVjdCB2bXdfcHJpdmF0ZSAqZGV2X3ByaXYsIHUzMiBwY2lfaWQpCj4g
ICAgICAgICAgICAgICAgIHZtd19nbXJpZF9tYW5fZmluaShkZXZfcHJpdiwgVk1XX1BMX0dNUik7
Cj4gICAgICAgICB2bXdfdnJhbV9tYW5hZ2VyX2ZpbmkoZGV2X3ByaXYpOwo+ICBvdXRfbm9fdnJh
bToKPiAtICAgICAgICh2b2lkKXR0bV9ib19kZXZpY2VfcmVsZWFzZSgmZGV2X3ByaXYtPmJkZXYp
Owo+ICsgICAgICAgdHRtX2RldmljZV9maW5pKCZkZXZfcHJpdi0+YmRldik7Cj4gIG91dF9ub19i
ZGV2Ogo+ICAgICAgICAgdm13X2ZlbmNlX21hbmFnZXJfdGFrZWRvd24oZGV2X3ByaXYtPmZtYW4p
Owo+ICBvdXRfbm9fZm1hbjoKPiBAQCAtMTA1Myw3ICsxMDUzLDcgQEAgc3RhdGljIHZvaWQgdm13
X2RyaXZlcl91bmxvYWQoc3RydWN0IGRybV9kZXZpY2UgKmRldikKPiAgICAgICAgIGlmIChkZXZf
cHJpdi0+aGFzX21vYikKPiAgICAgICAgICAgICAgICAgdm13X2dtcmlkX21hbl9maW5pKGRldl9w
cml2LCBWTVdfUExfTU9CKTsKPiAgICAgICAgIHZtd192cmFtX21hbmFnZXJfZmluaShkZXZfcHJp
dik7Cj4gLSAgICAgICAodm9pZCkgdHRtX2JvX2RldmljZV9yZWxlYXNlKCZkZXZfcHJpdi0+YmRl
dik7Cj4gKyAgICAgICB0dG1fZGV2aWNlX2ZpbmkoJmRldl9wcml2LT5iZGV2KTsKPiAgICAgICAg
IGRybV92bWFfb2Zmc2V0X21hbmFnZXJfZGVzdHJveSgmZGV2X3ByaXYtPnZtYV9tYW5hZ2VyKTsK
PiAgICAgICAgIHZtd19yZWxlYXNlX2RldmljZV9sYXRlKGRldl9wcml2KTsKPiAgICAgICAgIHZt
d19mZW5jZV9tYW5hZ2VyX3Rha2Vkb3duKGRldl9wcml2LT5mbWFuKTsKPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfZHJ2LmggYi9kcml2ZXJzL2dwdS9kcm0vdm13
Z2Z4L3Ztd2dmeF9kcnYuaAo+IGluZGV4IDMzNmY1MDg2Y2EyNi4uZTY1YjAwZjgzMzZkIDEwMDY0
NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2Rydi5oCj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfZHJ2LmgKPiBAQCAtNDg0LDcgKzQ4NCw3IEBAIGVu
dW0gdm13X3NtX3R5cGUgewo+Cj4gIHN0cnVjdCB2bXdfcHJpdmF0ZSB7Cj4gICAgICAgICBzdHJ1
Y3QgZHJtX2RldmljZSBkcm07Cj4gLSAgICAgICBzdHJ1Y3QgdHRtX2JvX2RldmljZSBiZGV2Owo+
ICsgICAgICAgc3RydWN0IHR0bV9kZXZpY2UgYmRldjsKPgo+ICAgICAgICAgc3RydWN0IHZtd19m
aWZvX3N0YXRlIGZpZm87Cj4KPiBAQCAtOTk5LDcgKzk5OSw3IEBAIGV4dGVybiBzdHJ1Y3QgdHRt
X3BsYWNlbWVudCB2bXdfZXZpY3RhYmxlX3BsYWNlbWVudDsKPiAgZXh0ZXJuIHN0cnVjdCB0dG1f
cGxhY2VtZW50IHZtd19zcmZfcGxhY2VtZW50Owo+ICBleHRlcm4gc3RydWN0IHR0bV9wbGFjZW1l
bnQgdm13X21vYl9wbGFjZW1lbnQ7Cj4gIGV4dGVybiBzdHJ1Y3QgdHRtX3BsYWNlbWVudCB2bXdf
bm9uZml4ZWRfcGxhY2VtZW50Owo+IC1leHRlcm4gc3RydWN0IHR0bV9ib19kcml2ZXIgdm13X2Jv
X2RyaXZlcjsKPiArZXh0ZXJuIHN0cnVjdCB0dG1fZGV2aWNlX2Z1bmNzIHZtd19ib19kcml2ZXI7
Cj4gIGV4dGVybiBjb25zdCBzdHJ1Y3Qgdm13X3NnX3RhYmxlICoKPiAgdm13X2JvX3NnX3RhYmxl
KHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8pOwo+ICBleHRlcm4gaW50IHZtd19ib19jcmVh
dGVfYW5kX3BvcHVsYXRlKHN0cnVjdCB2bXdfcHJpdmF0ZSAqZGV2X3ByaXYsCj4gZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X3Jlc291cmNlLmMgYi9kcml2ZXJzL2dw
dS9kcm0vdm13Z2Z4L3Ztd2dmeF9yZXNvdXJjZS5jCj4gaW5kZXggYzRkZjUxYTJhOTI2Li5jM2E3
MjRlMzcxMDQgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfcmVz
b3VyY2UuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X3Jlc291cmNlLmMK
PiBAQCAtODU2LDcgKzg1Niw3IEBAIHZvaWQgdm13X3F1ZXJ5X21vdmVfbm90aWZ5KHN0cnVjdCB0
dG1fYnVmZmVyX29iamVjdCAqYm8sCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0
IHR0bV9yZXNvdXJjZSAqbWVtKQo+ICB7Cj4gICAgICAgICBzdHJ1Y3Qgdm13X2J1ZmZlcl9vYmpl
Y3QgKmR4X3F1ZXJ5X21vYjsKPiAtICAgICAgIHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2ID0g
Ym8tPmJkZXY7Cj4gKyAgICAgICBzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiA9IGJvLT5iZGV2Owo+
ICAgICAgICAgc3RydWN0IHZtd19wcml2YXRlICpkZXZfcHJpdjsKPgo+Cj4gZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X3R0bV9idWZmZXIuYyBiL2RyaXZlcnMvZ3B1
L2RybS92bXdnZngvdm13Z2Z4X3R0bV9idWZmZXIuYwo+IGluZGV4IDZhNDQ1NjdlNGJhNS4uZDFi
ZmE1OTU3OWYxIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X3R0
bV9idWZmZXIuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X3R0bV9idWZm
ZXIuYwo+IEBAIC00ODMsNyArNDgzLDcgQEAgY29uc3Qgc3RydWN0IHZtd19zZ190YWJsZSAqdm13
X2JvX3NnX3RhYmxlKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8pCj4gIH0KPgo+Cj4gLXN0
YXRpYyBpbnQgdm13X3R0bV9iaW5kKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICtzdGF0
aWMgaW50IHZtd190dG1fYmluZChzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwKPiAgICAgICAgICAg
ICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3R0ICp0dG0sIHN0cnVjdCB0dG1fcmVzb3VyY2UgKmJv
X21lbSkKPiAgewo+ICAgICAgICAgc3RydWN0IHZtd190dG1fdHQgKnZtd19iZSA9Cj4gQEAgLTUy
Nyw3ICs1MjcsNyBAQCBzdGF0aWMgaW50IHZtd190dG1fYmluZChzdHJ1Y3QgdHRtX2JvX2Rldmlj
ZSAqYmRldiwKPiAgICAgICAgIHJldHVybiByZXQ7Cj4gIH0KPgo+IC1zdGF0aWMgdm9pZCB2bXdf
dHRtX3VuYmluZChzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiArc3RhdGljIHZvaWQgdm13
X3R0bV91bmJpbmQoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4gICAgICAgICAgICAgICAgICAg
ICAgICAgICAgc3RydWN0IHR0bV90dCAqdHRtKQo+ICB7Cj4gICAgICAgICBzdHJ1Y3Qgdm13X3R0
bV90dCAqdm13X2JlID0KPiBAQCAtNTUzLDcgKzU1Myw3IEBAIHN0YXRpYyB2b2lkIHZtd190dG1f
dW5iaW5kKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICB9Cj4KPgo+IC1zdGF0aWMgdm9p
ZCB2bXdfdHRtX2Rlc3Ryb3koc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1f
dHQgKnR0bSkKPiArc3RhdGljIHZvaWQgdm13X3R0bV9kZXN0cm95KHN0cnVjdCB0dG1fZGV2aWNl
ICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0pCj4gIHsKPiAgICAgICAgIHN0cnVjdCB2bXdfdHRt
X3R0ICp2bXdfYmUgPQo+ICAgICAgICAgICAgICAgICBjb250YWluZXJfb2YodHRtLCBzdHJ1Y3Qg
dm13X3R0bV90dCwgZG1hX3R0bSk7Cj4gQEAgLTU3Myw3ICs1NzMsNyBAQCBzdGF0aWMgdm9pZCB2
bXdfdHRtX2Rlc3Ryb3koc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQg
KnR0bSkKPiAgfQo+Cj4KPiAtc3RhdGljIGludCB2bXdfdHRtX3BvcHVsYXRlKHN0cnVjdCB0dG1f
Ym9fZGV2aWNlICpiZGV2LAo+ICtzdGF0aWMgaW50IHZtd190dG1fcG9wdWxhdGUoc3RydWN0IHR0
bV9kZXZpY2UgKmJkZXYsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1f
dHQgKnR0bSwgc3RydWN0IHR0bV9vcGVyYXRpb25fY3R4ICpjdHgpCj4gIHsKPiAgICAgICAgIC8q
IFRPRE86IG1heWJlIGNvbXBsZXRlbHkgZHJvcCB0aGlzID8gKi8KPiBAQCAtNTgzLDcgKzU4Myw3
IEBAIHN0YXRpYyBpbnQgdm13X3R0bV9wb3B1bGF0ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRl
diwKPiAgICAgICAgIHJldHVybiB0dG1fcG9vbF9hbGxvYygmYmRldi0+cG9vbCwgdHRtLCBjdHgp
Owo+ICB9Cj4KPiAtc3RhdGljIHZvaWQgdm13X3R0bV91bnBvcHVsYXRlKHN0cnVjdCB0dG1fYm9f
ZGV2aWNlICpiZGV2LAo+ICtzdGF0aWMgdm9pZCB2bXdfdHRtX3VucG9wdWxhdGUoc3RydWN0IHR0
bV9kZXZpY2UgKmJkZXYsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0
dG1fdHQgKnR0bSkKPiAgewo+ICAgICAgICAgc3RydWN0IHZtd190dG1fdHQgKnZtd190dCA9IGNv
bnRhaW5lcl9vZih0dG0sIHN0cnVjdCB2bXdfdHRtX3R0LAo+IEBAIC02NDAsNyArNjQwLDcgQEAg
c3RhdGljIGludCB2bXdfdmVyaWZ5X2FjY2VzcyhzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJv
LCBzdHJ1Y3QgZmlsZSAqZmlscCkKPiAgICAgICAgIHJldHVybiB2bXdfdXNlcl9ib192ZXJpZnlf
YWNjZXNzKGJvLCB0ZmlsZSk7Cj4gIH0KPgo+IC1zdGF0aWMgaW50IHZtd190dG1faW9fbWVtX3Jl
c2VydmUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fcmVzb3VyY2UgKm1l
bSkKPiArc3RhdGljIGludCB2bXdfdHRtX2lvX21lbV9yZXNlcnZlKHN0cnVjdCB0dG1fZGV2aWNl
ICpiZGV2LCBzdHJ1Y3QgdHRtX3Jlc291cmNlICptZW0pCj4gIHsKPiAgICAgICAgIHN0cnVjdCB2
bXdfcHJpdmF0ZSAqZGV2X3ByaXYgPSBjb250YWluZXJfb2YoYmRldiwgc3RydWN0IHZtd19wcml2
YXRlLCBiZGV2KTsKPgo+IEBAIC03NDQsNyArNzQ0LDcgQEAgdm13X2RlbGV0ZV9tZW1fbm90aWZ5
KHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8pCj4gICAgICAgICB2bXdfbW92ZV9ub3RpZnko
Ym8sIGZhbHNlLCBOVUxMKTsKPiAgfQo+Cj4gLXN0cnVjdCB0dG1fYm9fZHJpdmVyIHZtd19ib19k
cml2ZXIgPSB7Cj4gK3N0cnVjdCB0dG1fZGV2aWNlX2Z1bmNzIHZtd19ib19kcml2ZXIgPSB7Cj4g
ICAgICAgICAudHRtX3R0X2NyZWF0ZSA9ICZ2bXdfdHRtX3R0X2NyZWF0ZSwKPiAgICAgICAgIC50
dG1fdHRfcG9wdWxhdGUgPSAmdm13X3R0bV9wb3B1bGF0ZSwKPiAgICAgICAgIC50dG1fdHRfdW5w
b3B1bGF0ZSA9ICZ2bXdfdHRtX3VucG9wdWxhdGUsCj4gZGlmZiAtLWdpdCBhL2luY2x1ZGUvZHJt
L2RybV9nZW1fdnJhbV9oZWxwZXIuaCBiL2luY2x1ZGUvZHJtL2RybV9nZW1fdnJhbV9oZWxwZXIu
aAo+IGluZGV4IGE0YmFjMDIyNDljMi4uMjg4MDU1ZDM5N2Q5IDEwMDY0NAo+IC0tLSBhL2luY2x1
ZGUvZHJtL2RybV9nZW1fdnJhbV9oZWxwZXIuaAo+ICsrKyBiL2luY2x1ZGUvZHJtL2RybV9nZW1f
dnJhbV9oZWxwZXIuaAo+IEBAIC0xNzIsMTkgKzE3MiwxOSBAQCBzdHJ1Y3QgZHJtX3ZyYW1fbW0g
ewo+ICAgICAgICAgdWludDY0X3QgdnJhbV9iYXNlOwo+ICAgICAgICAgc2l6ZV90IHZyYW1fc2l6
ZTsKPgo+IC0gICAgICAgc3RydWN0IHR0bV9ib19kZXZpY2UgYmRldjsKPiArICAgICAgIHN0cnVj
dCB0dG1fZGV2aWNlIGJkZXY7Cj4gIH07Cj4KPiAgLyoqCj4gICAqIGRybV92cmFtX21tX29mX2Jk
ZXYoKSAtIFwKPiAtICAgICAgIFJldHVybnMgdGhlIGNvbnRhaW5lciBvZiB0eXBlICZzdHJ1Y3Qg
dHRtX2JvX2RldmljZSBmb3IgZmllbGQgYmRldi4KPiArICAgICAgIFJldHVybnMgdGhlIGNvbnRh
aW5lciBvZiB0eXBlICZzdHJ1Y3QgdHRtX2RldmljZSBmb3IgZmllbGQgYmRldi4KPiAgICogQGJk
ZXY6ICAgICAgdGhlIFRUTSBCTyBkZXZpY2UKPiAgICoKPiAgICogUmV0dXJuczoKPiAgICogVGhl
IGNvbnRhaW5pbmcgaW5zdGFuY2Ugb2YgJnN0cnVjdCBkcm1fdnJhbV9tbQo+ICAgKi8KPiAgc3Rh
dGljIGlubGluZSBzdHJ1Y3QgZHJtX3ZyYW1fbW0gKmRybV92cmFtX21tX29mX2JkZXYoCj4gLSAg
ICAgICBzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldikKPiArICAgICAgIHN0cnVjdCB0dG1fZGV2
aWNlICpiZGV2KQo+ICB7Cj4gICAgICAgICByZXR1cm4gY29udGFpbmVyX29mKGJkZXYsIHN0cnVj
dCBkcm1fdnJhbV9tbSwgYmRldik7Cj4gIH0KPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9kcm0vdHRt
L3R0bV9ib19hcGkuaCBiL2luY2x1ZGUvZHJtL3R0bS90dG1fYm9fYXBpLmgKPiBpbmRleCBlMTdi
ZTMyNGQ5NWYuLjYyNzM0ZGIwYjQyMSAxMDA2NDQKPiAtLS0gYS9pbmNsdWRlL2RybS90dG0vdHRt
X2JvX2FwaS5oCj4gKysrIGIvaW5jbHVkZS9kcm0vdHRtL3R0bV9ib19hcGkuaAo+IEBAIC00NCw5
ICs0NCw5IEBACj4KPiAgI2luY2x1ZGUgInR0bV9yZXNvdXJjZS5oIgo+Cj4gLXN0cnVjdCB0dG1f
Ym9fZ2xvYmFsOwo+ICtzdHJ1Y3QgdHRtX2dsb2JhbDsKPgo+IC1zdHJ1Y3QgdHRtX2JvX2Rldmlj
ZTsKPiArc3RydWN0IHR0bV9kZXZpY2U7Cj4KPiAgc3RydWN0IGRtYV9idWZfbWFwOwo+Cj4gQEAg
LTEyMiw3ICsxMjIsNyBAQCBzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3Qgewo+ICAgICAgICAgICog
TWVtYmVycyBjb25zdGFudCBhdCBpbml0Lgo+ICAgICAgICAgICovCj4KPiAtICAgICAgIHN0cnVj
dCB0dG1fYm9fZGV2aWNlICpiZGV2Owo+ICsgICAgICAgc3RydWN0IHR0bV9kZXZpY2UgKmJkZXY7
Cj4gICAgICAgICBlbnVtIHR0bV9ib190eXBlIHR5cGU7Cj4gICAgICAgICB2b2lkICgqZGVzdHJv
eSkgKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqKTsKPiAgICAgICAgIHNpemVfdCBhY2Nfc2l6
ZTsKPiBAQCAtMzEzLDcgKzMxMyw3IEBAIHZvaWQgdHRtX2JvX3B1dChzdHJ1Y3QgdHRtX2J1ZmZl
cl9vYmplY3QgKmJvKTsKPiAgICogQGJ1bGs6IG9wdGlvbmFsIGJ1bGsgbW92ZSBzdHJ1Y3R1cmUg
dG8gcmVtZW1iZXIgQk8gcG9zaXRpb25zCj4gICAqCj4gICAqIE1vdmUgdGhpcyBCTyB0byB0aGUg
dGFpbCBvZiBhbGwgbHJ1IGxpc3RzIHVzZWQgdG8gbG9va3VwIGFuZCByZXNlcnZlIGFuCj4gLSAq
IG9iamVjdC4gVGhpcyBmdW5jdGlvbiBtdXN0IGJlIGNhbGxlZCB3aXRoIHN0cnVjdCB0dG1fYm9f
Z2xvYmFsOjpscnVfbG9jawo+ICsgKiBvYmplY3QuIFRoaXMgZnVuY3Rpb24gbXVzdCBiZSBjYWxs
ZWQgd2l0aCBzdHJ1Y3QgdHRtX2dsb2JhbDo6bHJ1X2xvY2sKPiAgICogaGVsZCwgYW5kIGlzIHVz
ZWQgdG8gbWFrZSBhIEJPIGxlc3MgbGlrZWx5IHRvIGJlIGNvbnNpZGVyZWQgZm9yIGV2aWN0aW9u
Lgo+ICAgKi8KPiAgdm9pZCB0dG1fYm9fbW92ZV90b19scnVfdGFpbChzdHJ1Y3QgdHRtX2J1ZmZl
cl9vYmplY3QgKmJvLAo+IEBAIC0zMjYsNyArMzI2LDcgQEAgdm9pZCB0dG1fYm9fbW92ZV90b19s
cnVfdGFpbChzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+ICAgKiBAYnVsazogYnVsayBt
b3ZlIHN0cnVjdHVyZQo+ICAgKgo+ICAgKiBCdWxrIG1vdmUgQk9zIHRvIHRoZSBMUlUgdGFpbCwg
b25seSB2YWxpZCB0byB1c2Ugd2hlbiBkcml2ZXIgbWFrZXMgc3VyZSB0aGF0Cj4gLSAqIEJPIG9y
ZGVyIG5ldmVyIGNoYW5nZXMuIFNob3VsZCBiZSBjYWxsZWQgd2l0aCB0dG1fYm9fZ2xvYmFsOjps
cnVfbG9jayBoZWxkLgo+ICsgKiBCTyBvcmRlciBuZXZlciBjaGFuZ2VzLiBTaG91bGQgYmUgY2Fs
bGVkIHdpdGggdHRtX2dsb2JhbDo6bHJ1X2xvY2sgaGVsZC4KPiAgICovCj4gIHZvaWQgdHRtX2Jv
X2J1bGtfbW92ZV9scnVfdGFpbChzdHJ1Y3QgdHRtX2xydV9idWxrX21vdmUgKmJ1bGspOwo+Cj4g
QEAgLTMzNywxNCArMzM3LDE0IEBAIHZvaWQgdHRtX2JvX2J1bGtfbW92ZV9scnVfdGFpbChzdHJ1
Y3QgdHRtX2xydV9idWxrX21vdmUgKmJ1bGspOwo+ICAgKiBSZXR1cm5zCj4gICAqIFRydWUgaWYg
dGhlIHdvcmtxdWV1ZSB3YXMgcXVldWVkIGF0IHRoZSB0aW1lCj4gICAqLwo+IC1pbnQgdHRtX2Jv
X2xvY2tfZGVsYXllZF93b3JrcXVldWUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYpOwo+ICtp
bnQgdHRtX2JvX2xvY2tfZGVsYXllZF93b3JrcXVldWUoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYp
Owo+Cj4gIC8qKgo+ICAgKiB0dG1fYm9fdW5sb2NrX2RlbGF5ZWRfd29ya3F1ZXVlCj4gICAqCj4g
ICAqIEFsbG93cyB0aGUgZGVsYXllZCB3b3JrcXVldWUgdG8gcnVuLgo+ICAgKi8KPiAtdm9pZCB0
dG1fYm9fdW5sb2NrX2RlbGF5ZWRfd29ya3F1ZXVlKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2
LCBpbnQgcmVzY2hlZCk7Cj4gK3ZvaWQgdHRtX2JvX3VubG9ja19kZWxheWVkX3dvcmtxdWV1ZShz
dHJ1Y3QgdHRtX2RldmljZSAqYmRldiwgaW50IHJlc2NoZWQpOwo+Cj4gIC8qKgo+ICAgKiB0dG1f
Ym9fZXZpY3Rpb25fdmFsdWFibGUKPiBAQCAtMzU3LDE0ICszNTcsMTQgQEAgdm9pZCB0dG1fYm9f
dW5sb2NrX2RlbGF5ZWRfd29ya3F1ZXVlKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LCBpbnQg
cmVzY2hlZCk7Cj4gIGJvb2wgdHRtX2JvX2V2aWN0aW9uX3ZhbHVhYmxlKHN0cnVjdCB0dG1fYnVm
ZmVyX29iamVjdCAqYm8sCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3Ry
dWN0IHR0bV9wbGFjZSAqcGxhY2UpOwo+Cj4gLXNpemVfdCB0dG1fYm9fZG1hX2FjY19zaXplKHN0
cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICtzaXplX3QgdHRtX2JvX2RtYV9hY2Nfc2l6ZShz
dHJ1Y3QgdHRtX2RldmljZSAqYmRldiwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNp
Z25lZCBsb25nIGJvX3NpemUsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQg
c3RydWN0X3NpemUpOwo+Cj4gIC8qKgo+ICAgKiB0dG1fYm9faW5pdF9yZXNlcnZlZAo+ICAgKgo+
IC0gKiBAYmRldjogUG9pbnRlciB0byBhIHR0bV9ib19kZXZpY2Ugc3RydWN0Lgo+ICsgKiBAYmRl
djogUG9pbnRlciB0byBhIHR0bV9kZXZpY2Ugc3RydWN0Lgo+ICAgKiBAYm86IFBvaW50ZXIgdG8g
YSB0dG1fYnVmZmVyX29iamVjdCB0byBiZSBpbml0aWFsaXplZC4KPiAgICogQHNpemU6IFJlcXVl
c3RlZCBzaXplIG9mIGJ1ZmZlciBvYmplY3QuCj4gICAqIEB0eXBlOiBSZXF1ZXN0ZWQgdHlwZSBv
ZiBidWZmZXIgb2JqZWN0Lgo+IEBAIC0zOTYsNyArMzk2LDcgQEAgc2l6ZV90IHR0bV9ib19kbWFf
YWNjX3NpemUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gICAqIC1FUkVTVEFSVFNZUzog
SW50ZXJydXB0ZWQgYnkgc2lnbmFsIHdoaWxlIHNsZWVwaW5nIHdhaXRpbmcgZm9yIHJlc291cmNl
cy4KPiAgICovCj4KPiAtaW50IHR0bV9ib19pbml0X3Jlc2VydmVkKHN0cnVjdCB0dG1fYm9fZGV2
aWNlICpiZGV2LAo+ICtpbnQgdHRtX2JvX2luaXRfcmVzZXJ2ZWQoc3RydWN0IHR0bV9kZXZpY2Ug
KmJkZXYsCj4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fYnVmZmVyX29iamVj
dCAqYm8sCj4gICAgICAgICAgICAgICAgICAgICAgICAgIHNpemVfdCBzaXplLCBlbnVtIHR0bV9i
b190eXBlIHR5cGUsCj4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fcGxhY2Vt
ZW50ICpwbGFjZW1lbnQsCj4gQEAgLTQwOSw3ICs0MDksNyBAQCBpbnQgdHRtX2JvX2luaXRfcmVz
ZXJ2ZWQoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gIC8qKgo+ICAgKiB0dG1fYm9faW5p
dAo+ICAgKgo+IC0gKiBAYmRldjogUG9pbnRlciB0byBhIHR0bV9ib19kZXZpY2Ugc3RydWN0Lgo+
ICsgKiBAYmRldjogUG9pbnRlciB0byBhIHR0bV9kZXZpY2Ugc3RydWN0Lgo+ICAgKiBAYm86IFBv
aW50ZXIgdG8gYSB0dG1fYnVmZmVyX29iamVjdCB0byBiZSBpbml0aWFsaXplZC4KPiAgICogQHNp
emU6IFJlcXVlc3RlZCBzaXplIG9mIGJ1ZmZlciBvYmplY3QuCj4gICAqIEB0eXBlOiBSZXF1ZXN0
ZWQgdHlwZSBvZiBidWZmZXIgb2JqZWN0Lgo+IEBAIC00NDMsNyArNDQzLDcgQEAgaW50IHR0bV9i
b19pbml0X3Jlc2VydmVkKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICAgKiAtRUlOVkFM
OiBJbnZhbGlkIHBsYWNlbWVudCBmbGFncy4KPiAgICogLUVSRVNUQVJUU1lTOiBJbnRlcnJ1cHRl
ZCBieSBzaWduYWwgd2hpbGUgc2xlZXBpbmcgd2FpdGluZyBmb3IgcmVzb3VyY2VzLgo+ICAgKi8K
PiAtaW50IHR0bV9ib19pbml0KHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRt
X2J1ZmZlcl9vYmplY3QgKmJvLAo+ICtpbnQgdHRtX2JvX2luaXQoc3RydWN0IHR0bV9kZXZpY2Ug
KmJkZXYsIHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCj4gICAgICAgICAgICAgICAgIHNp
emVfdCBzaXplLCBlbnVtIHR0bV9ib190eXBlIHR5cGUsCj4gICAgICAgICAgICAgICAgIHN0cnVj
dCB0dG1fcGxhY2VtZW50ICpwbGFjZW1lbnQsCj4gICAgICAgICAgICAgICAgIHVpbnQzMl90IHBh
Z2VfYWxpZ25tZW50LCBib29sIGludGVycnVidGlibGUsIHNpemVfdCBhY2Nfc2l6ZSwKPiBAQCAt
NTM3LDE4ICs1MzcsMTggQEAgaW50IHR0bV9ib19tbWFwX29iaihzdHJ1Y3Qgdm1fYXJlYV9zdHJ1
Y3QgKnZtYSwgc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibyk7Cj4gICAqCj4gICAqIEBmaWxw
OiAgICAgIGZpbHAgYXMgaW5wdXQgZnJvbSB0aGUgbW1hcCBtZXRob2QuCj4gICAqIEB2bWE6ICAg
ICAgIHZtYSBhcyBpbnB1dCBmcm9tIHRoZSBtbWFwIG1ldGhvZC4KPiAtICogQGJkZXY6ICAgICAg
UG9pbnRlciB0byB0aGUgdHRtX2JvX2RldmljZSB3aXRoIHRoZSBhZGRyZXNzIHNwYWNlIG1hbmFn
ZXIuCj4gKyAqIEBiZGV2OiAgICAgIFBvaW50ZXIgdG8gdGhlIHR0bV9kZXZpY2Ugd2l0aCB0aGUg
YWRkcmVzcyBzcGFjZSBtYW5hZ2VyLgo+ICAgKgo+ICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGludGVu
ZGVkIHRvIGJlIGNhbGxlZCBieSB0aGUgZGV2aWNlIG1tYXAgbWV0aG9kLgo+ICAgKiBpZiB0aGUg
ZGV2aWNlIGFkZHJlc3Mgc3BhY2UgaXMgdG8gYmUgYmFja2VkIGJ5IHRoZSBibyBtYW5hZ2VyLgo+
ICAgKi8KPiAgaW50IHR0bV9ib19tbWFwKHN0cnVjdCBmaWxlICpmaWxwLCBzdHJ1Y3Qgdm1fYXJl
YV9zdHJ1Y3QgKnZtYSwKPiAtICAgICAgICAgICAgICAgc3RydWN0IHR0bV9ib19kZXZpY2UgKmJk
ZXYpOwo+ICsgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX2RldmljZSAqYmRldik7Cj4KPiAgLyoq
Cj4gICAqIHR0bV9ib19pbwo+ICAgKgo+IC0gKiBAYmRldjogICAgICBQb2ludGVyIHRvIHRoZSBz
dHJ1Y3QgdHRtX2JvX2RldmljZS4KPiArICogQGJkZXY6ICAgICAgUG9pbnRlciB0byB0aGUgc3Ry
dWN0IHR0bV9kZXZpY2UuCj4gICAqIEBmaWxwOiAgICAgIFBvaW50ZXIgdG8gdGhlIHN0cnVjdCBm
aWxlIGF0dGVtcHRpbmcgdG8gcmVhZCAvIHdyaXRlLgo+ICAgKiBAd2J1ZjogICAgICBVc2VyLXNw
YWNlIHBvaW50ZXIgdG8gYWRkcmVzcyBvZiBidWZmZXIgdG8gd3JpdGUuIE5VTEwgb24gcmVhZC4K
PiAgICogQHJidWY6ICAgICAgVXNlci1zcGFjZSBwb2ludGVyIHRvIGFkZHJlc3Mgb2YgYnVmZmVy
IHRvIHJlYWQgaW50by4KPiBAQCAtNTY1LDcgKzU2NSw3IEBAIGludCB0dG1fYm9fbW1hcChzdHJ1
Y3QgZmlsZSAqZmlscCwgc3RydWN0IHZtX2FyZWFfc3RydWN0ICp2bWEsCj4gICAqIHRoZSBmdW5j
dGlvbiBtYXkgcmV0dXJuIC1FUkVTVEFSVFNZUyBpZgo+ICAgKiBpbnRlcnJ1cHRlZCBieSBhIHNp
Z25hbC4KPiAgICovCj4gLXNzaXplX3QgdHRtX2JvX2lvKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpi
ZGV2LCBzdHJ1Y3QgZmlsZSAqZmlscCwKPiArc3NpemVfdCB0dG1fYm9faW8oc3RydWN0IHR0bV9k
ZXZpY2UgKmJkZXYsIHN0cnVjdCBmaWxlICpmaWxwLAo+ICAgICAgICAgICAgICAgICAgIGNvbnN0
IGNoYXIgX191c2VyICp3YnVmLCBjaGFyIF9fdXNlciAqcmJ1ZiwKPiAgICAgICAgICAgICAgICAg
ICBzaXplX3QgY291bnQsIGxvZmZfdCAqZl9wb3MsIGJvb2wgd3JpdGUpOwo+Cj4gQEAgLTYxNyw3
ICs2MTcsNyBAQCBzdGF0aWMgaW5saW5lIHZvaWQgdHRtX2JvX3VucGluKHN0cnVjdCB0dG1fYnVm
ZmVyX29iamVjdCAqYm8pCj4gICAgICAgICAtLWJvLT5waW5fY291bnQ7Cj4gIH0KPgo+IC1pbnQg
dHRtX21lbV9ldmljdF9maXJzdChzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiAraW50IHR0
bV9tZW1fZXZpY3RfZmlyc3Qoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4gICAgICAgICAgICAg
ICAgICAgICAgICAgc3RydWN0IHR0bV9yZXNvdXJjZV9tYW5hZ2VyICptYW4sCj4gICAgICAgICAg
ICAgICAgICAgICAgICAgY29uc3Qgc3RydWN0IHR0bV9wbGFjZSAqcGxhY2UsCj4gICAgICAgICAg
ICAgICAgICAgICAgICAgc3RydWN0IHR0bV9vcGVyYXRpb25fY3R4ICpjdHgsCj4gQEAgLTY0Miw1
ICs2NDIsNiBAQCB2b2lkIHR0bV9ib192bV9jbG9zZShzdHJ1Y3Qgdm1fYXJlYV9zdHJ1Y3QgKnZt
YSk7Cj4KPiAgaW50IHR0bV9ib192bV9hY2Nlc3Moc3RydWN0IHZtX2FyZWFfc3RydWN0ICp2bWEs
IHVuc2lnbmVkIGxvbmcgYWRkciwKPiAgICAgICAgICAgICAgICAgICAgICB2b2lkICpidWYsIGlu
dCBsZW4sIGludCB3cml0ZSk7Cj4gK2Jvb2wgdHRtX2JvX2RlbGF5ZWRfZGVsZXRlKHN0cnVjdCB0
dG1fZGV2aWNlICpiZGV2LCBib29sIHJlbW92ZV9hbGwpOwo+Cj4gICNlbmRpZgo+IGRpZmYgLS1n
aXQgYS9pbmNsdWRlL2RybS90dG0vdHRtX2JvX2RyaXZlci5oIGIvaW5jbHVkZS9kcm0vdHRtL3R0
bV9ib19kcml2ZXIuaAo+IGluZGV4IDQyMzM0ODQxNGM1OS4uMWM5YmY5OTNlMjUyIDEwMDY0NAo+
IC0tLSBhL2luY2x1ZGUvZHJtL3R0bS90dG1fYm9fZHJpdmVyLmgKPiArKysgYi9pbmNsdWRlL2Ry
bS90dG0vdHRtX2JvX2RyaXZlci5oCj4gQEAgLTM3LDMwMSArMzcsMTQgQEAKPiAgI2luY2x1ZGUg
PGxpbnV4L3NwaW5sb2NrLmg+Cj4gICNpbmNsdWRlIDxsaW51eC9kbWEtcmVzdi5oPgo+Cj4gKyNp
bmNsdWRlIDxkcm0vdHRtL3R0bV9kZXZpY2UuaD4KPiArCj4gICNpbmNsdWRlICJ0dG1fYm9fYXBp
LmgiCj4gICNpbmNsdWRlICJ0dG1fbWVtb3J5LmgiCj4gICNpbmNsdWRlICJ0dG1fcGxhY2VtZW50
LmgiCj4gICNpbmNsdWRlICJ0dG1fdHQuaCIKPiAgI2luY2x1ZGUgInR0bV9wb29sLmgiCj4KPiAt
LyoqCj4gLSAqIHN0cnVjdCB0dG1fYm9fZHJpdmVyCj4gLSAqCj4gLSAqIEBjcmVhdGVfdHRtX2Jh
Y2tlbmRfZW50cnk6IENhbGxiYWNrIHRvIGNyZWF0ZSBhIHN0cnVjdCB0dG1fYmFja2VuZC4KPiAt
ICogQGV2aWN0X2ZsYWdzOiBDYWxsYmFjayB0byBvYnRhaW4gcGxhY2VtZW50IGZsYWdzIHdoZW4g
YSBidWZmZXIgaXMgZXZpY3RlZC4KPiAtICogQG1vdmU6IENhbGxiYWNrIGZvciBhIGRyaXZlciB0
byBob29rIGluIGFjY2VsZXJhdGVkIGZ1bmN0aW9ucyB0bwo+IC0gKiBtb3ZlIGEgYnVmZmVyLgo+
IC0gKiBJZiBzZXQgdG8gTlVMTCwgYSBwb3RlbnRpYWxseSBzbG93IG1lbWNweSgpIG1vdmUgaXMg
dXNlZC4KPiAtICovCj4gLQo+IC1zdHJ1Y3QgdHRtX2JvX2RyaXZlciB7Cj4gLSAgICAgICAvKioK
PiAtICAgICAgICAqIHR0bV90dF9jcmVhdGUKPiAtICAgICAgICAqCj4gLSAgICAgICAgKiBAYm86
IFRoZSBidWZmZXIgb2JqZWN0IHRvIGNyZWF0ZSB0aGUgdHRtIGZvci4KPiAtICAgICAgICAqIEBw
YWdlX2ZsYWdzOiBQYWdlIGZsYWdzIGFzIGlkZW50aWZpZWQgYnkgVFRNX1BBR0VfRkxBR19YWCBm
bGFncy4KPiAtICAgICAgICAqCj4gLSAgICAgICAgKiBDcmVhdGUgYSBzdHJ1Y3QgdHRtX3R0IHRv
IGJhY2sgZGF0YSB3aXRoIHN5c3RlbSBtZW1vcnkgcGFnZXMuCj4gLSAgICAgICAgKiBObyBwYWdl
cyBhcmUgYWN0dWFsbHkgYWxsb2NhdGVkLgo+IC0gICAgICAgICogUmV0dXJuczoKPiAtICAgICAg
ICAqIE5VTEw6IE91dCBvZiBtZW1vcnkuCj4gLSAgICAgICAgKi8KPiAtICAgICAgIHN0cnVjdCB0
dG1fdHQgKigqdHRtX3R0X2NyZWF0ZSkoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAt
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludDMyX3QgcGFnZV9mbGFn
cyk7Cj4gLQo+IC0gICAgICAgLyoqCj4gLSAgICAgICAgKiB0dG1fdHRfcG9wdWxhdGUKPiAtICAg
ICAgICAqCj4gLSAgICAgICAgKiBAdHRtOiBUaGUgc3RydWN0IHR0bV90dCB0byBjb250YWluIHRo
ZSBiYWNraW5nIHBhZ2VzLgo+IC0gICAgICAgICoKPiAtICAgICAgICAqIEFsbG9jYXRlIGFsbCBi
YWNraW5nIHBhZ2VzCj4gLSAgICAgICAgKiBSZXR1cm5zOgo+IC0gICAgICAgICogLUVOT01FTTog
T3V0IG9mIG1lbW9yeS4KPiAtICAgICAgICAqLwo+IC0gICAgICAgaW50ICgqdHRtX3R0X3BvcHVs
YXRlKShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiAtICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgc3RydWN0IHR0bV90dCAqdHRtLAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBzdHJ1Y3QgdHRtX29wZXJhdGlvbl9jdHggKmN0eCk7Cj4gLQo+IC0gICAgICAgLyoqCj4g
LSAgICAgICAgKiB0dG1fdHRfdW5wb3B1bGF0ZQo+IC0gICAgICAgICoKPiAtICAgICAgICAqIEB0
dG06IFRoZSBzdHJ1Y3QgdHRtX3R0IHRvIGNvbnRhaW4gdGhlIGJhY2tpbmcgcGFnZXMuCj4gLSAg
ICAgICAgKgo+IC0gICAgICAgICogRnJlZSBhbGwgYmFja2luZyBwYWdlCj4gLSAgICAgICAgKi8K
PiAtICAgICAgIHZvaWQgKCp0dG1fdHRfdW5wb3B1bGF0ZSkoc3RydWN0IHR0bV9ib19kZXZpY2Ug
KmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSk7Cj4gLQo+IC0gICAgICAgLyoqCj4gLSAgICAgICAg
KiB0dG1fdHRfZGVzdHJveQo+IC0gICAgICAgICoKPiAtICAgICAgICAqIEBiZGV2OiBQb2ludGVy
IHRvIGEgdHRtIGRldmljZQo+IC0gICAgICAgICogQHR0bTogUG9pbnRlciB0byBhIHN0cnVjdCB0
dG1fdHQuCj4gLSAgICAgICAgKgo+IC0gICAgICAgICogRGVzdHJveSB0aGUgYmFja2VuZC4gVGhp
cyB3aWxsIGJlIGNhbGwgYmFjayBmcm9tIHR0bV90dF9kZXN0cm95IHNvCj4gLSAgICAgICAgKiBk
b24ndCBjYWxsIHR0bV90dF9kZXN0cm95IGZyb20gdGhlIGNhbGxiYWNrIG9yIGluZmluaXRlIGxv
b3AuCj4gLSAgICAgICAgKi8KPiAtICAgICAgIHZvaWQgKCp0dG1fdHRfZGVzdHJveSkoc3RydWN0
IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSk7Cj4gLQo+IC0gICAgICAg
LyoqCj4gLSAgICAgICAgKiBzdHJ1Y3QgdHRtX2JvX2RyaXZlciBtZW1iZXIgZXZpY3Rpb25fdmFs
dWFibGUKPiAtICAgICAgICAqCj4gLSAgICAgICAgKiBAYm86IHRoZSBidWZmZXIgb2JqZWN0IHRv
IGJlIGV2aWN0ZWQKPiAtICAgICAgICAqIEBwbGFjZTogcGxhY2VtZW50IHdlIG5lZWQgcm9vbSBm
b3IKPiAtICAgICAgICAqCj4gLSAgICAgICAgKiBDaGVjayB3aXRoIHRoZSBkcml2ZXIgaWYgaXQg
aXMgdmFsdWFibGUgdG8gZXZpY3QgYSBCTyB0byBtYWtlIHJvb20KPiAtICAgICAgICAqIGZvciBh
IGNlcnRhaW4gcGxhY2VtZW50Lgo+IC0gICAgICAgICovCj4gLSAgICAgICBib29sICgqZXZpY3Rp
b25fdmFsdWFibGUpKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCj4gLSAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cnVjdCB0dG1fcGxhY2UgKnBsYWNlKTsKPiAt
ICAgICAgIC8qKgo+IC0gICAgICAgICogc3RydWN0IHR0bV9ib19kcml2ZXIgbWVtYmVyIGV2aWN0
X2ZsYWdzOgo+IC0gICAgICAgICoKPiAtICAgICAgICAqIEBibzogdGhlIGJ1ZmZlciBvYmplY3Qg
dG8gYmUgZXZpY3RlZAo+IC0gICAgICAgICoKPiAtICAgICAgICAqIFJldHVybiB0aGUgYm8gZmxh
Z3MgZm9yIGEgYnVmZmVyIHdoaWNoIGlzIG5vdCBtYXBwZWQgdG8gdGhlIGhhcmR3YXJlLgo+IC0g
ICAgICAgICogVGhlc2Ugd2lsbCBiZSBwbGFjZWQgaW4gcHJvcG9zZWRfZmxhZ3Mgc28gdGhhdCB3
aGVuIHRoZSBtb3ZlIGlzCj4gLSAgICAgICAgKiBmaW5pc2hlZCwgdGhleSdsbCBlbmQgdXAgaW4g
Ym8tPm1lbS5mbGFncwo+IC0gICAgICAgICogVGhpcyBzaG91bGQgbm90IGNhdXNlIG11bHRpaG9w
IGV2aWN0aW9ucywgYW5kIHRoZSBjb3JlIHdpbGwgd2Fybgo+IC0gICAgICAgICogaWYgb25lIGlz
IHByb3Bvc2VkLgo+IC0gICAgICAgICovCj4gLQo+IC0gICAgICAgdm9pZCAoKmV2aWN0X2ZsYWdz
KShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+IC0gICAgICAgICAgICAgICAgICAgICAg
ICAgICBzdHJ1Y3QgdHRtX3BsYWNlbWVudCAqcGxhY2VtZW50KTsKPiAtCj4gLSAgICAgICAvKioK
PiAtICAgICAgICAqIHN0cnVjdCB0dG1fYm9fZHJpdmVyIG1lbWJlciBtb3ZlOgo+IC0gICAgICAg
ICoKPiAtICAgICAgICAqIEBibzogdGhlIGJ1ZmZlciB0byBtb3ZlCj4gLSAgICAgICAgKiBAZXZp
Y3Q6IHdoZXRoZXIgdGhpcyBtb3Rpb24gaXMgZXZpY3RpbmcgdGhlIGJ1ZmZlciBmcm9tCj4gLSAg
ICAgICAgKiB0aGUgZ3JhcGhpY3MgYWRkcmVzcyBzcGFjZQo+IC0gICAgICAgICogQGN0eDogY29u
dGV4dCBmb3IgdGhpcyBtb3ZlIHdpdGggcGFyYW1ldGVycwo+IC0gICAgICAgICogQG5ld19tZW06
IHRoZSBuZXcgbWVtb3J5IHJlZ2lvbiByZWNlaXZpbmcgdGhlIGJ1ZmZlcgo+IC0gICAgICAgIEAg
QGhvcDogcGxhY2VtZW50IGZvciBkcml2ZXIgZGlyZWN0ZWQgaW50ZXJtZWRpYXRlIGhvcAo+IC0g
ICAgICAgICoKPiAtICAgICAgICAqIE1vdmUgYSBidWZmZXIgYmV0d2VlbiB0d28gbWVtb3J5IHJl
Z2lvbnMuCj4gLSAgICAgICAgKiBSZXR1cm5zIGVycm5vIC1FTVVMVElIT1AgaWYgZHJpdmVyIHJl
cXVlc3RzIGEgaG9wCj4gLSAgICAgICAgKi8KPiAtICAgICAgIGludCAoKm1vdmUpKHN0cnVjdCB0
dG1fYnVmZmVyX29iamVjdCAqYm8sIGJvb2wgZXZpY3QsCj4gLSAgICAgICAgICAgICAgICAgICBz
dHJ1Y3QgdHRtX29wZXJhdGlvbl9jdHggKmN0eCwKPiAtICAgICAgICAgICAgICAgICAgIHN0cnVj
dCB0dG1fcmVzb3VyY2UgKm5ld19tZW0sCj4gLSAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRt
X3BsYWNlICpob3ApOwo+IC0KPiAtICAgICAgIC8qKgo+IC0gICAgICAgICogc3RydWN0IHR0bV9i
b19kcml2ZXJfbWVtYmVyIHZlcmlmeV9hY2Nlc3MKPiAtICAgICAgICAqCj4gLSAgICAgICAgKiBA
Ym86IFBvaW50ZXIgdG8gYSBidWZmZXIgb2JqZWN0Lgo+IC0gICAgICAgICogQGZpbHA6IFBvaW50
ZXIgdG8gYSBzdHJ1Y3QgZmlsZSB0cnlpbmcgdG8gYWNjZXNzIHRoZSBvYmplY3QuCj4gLSAgICAg
ICAgKgo+IC0gICAgICAgICogQ2FsbGVkIGZyb20gdGhlIG1hcCAvIHdyaXRlIC8gcmVhZCBtZXRo
b2RzIHRvIHZlcmlmeSB0aGF0IHRoZQo+IC0gICAgICAgICogY2FsbGVyIGlzIHBlcm1pdHRlZCB0
byBhY2Nlc3MgdGhlIGJ1ZmZlciBvYmplY3QuCj4gLSAgICAgICAgKiBUaGlzIG1lbWJlciBtYXkg
YmUgc2V0IHRvIE5VTEwsIHdoaWNoIHdpbGwgcmVmdXNlIHRoaXMga2luZCBvZgo+IC0gICAgICAg
ICogYWNjZXNzIGZvciBhbGwgYnVmZmVyIG9iamVjdHMuCj4gLSAgICAgICAgKiBUaGlzIGZ1bmN0
aW9uIHNob3VsZCByZXR1cm4gMCBpZiBhY2Nlc3MgaXMgZ3JhbnRlZCwgLUVQRVJNIG90aGVyd2lz
ZS4KPiAtICAgICAgICAqLwo+IC0gICAgICAgaW50ICgqdmVyaWZ5X2FjY2Vzcykoc3RydWN0IHR0
bV9idWZmZXJfb2JqZWN0ICpibywKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVj
dCBmaWxlICpmaWxwKTsKPiAtCj4gLSAgICAgICAvKioKPiAtICAgICAgICAqIEhvb2sgdG8gbm90
aWZ5IGRyaXZlciBhYm91dCBhIHJlc291cmNlIGRlbGV0ZS4KPiAtICAgICAgICAqLwo+IC0gICAg
ICAgdm9pZCAoKmRlbGV0ZV9tZW1fbm90aWZ5KShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJv
KTsKPiAtCj4gLSAgICAgICAvKioKPiAtICAgICAgICAqIG5vdGlmeSB0aGUgZHJpdmVyIHRoYXQg
d2UncmUgYWJvdXQgdG8gc3dhcCBvdXQgdGhpcyBibwo+IC0gICAgICAgICovCj4gLSAgICAgICB2
b2lkICgqc3dhcF9ub3RpZnkpKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8pOwo+IC0KPiAt
ICAgICAgIC8qKgo+IC0gICAgICAgICogRHJpdmVyIGNhbGxiYWNrIG9uIHdoZW4gbWFwcGluZyBp
byBtZW1vcnkgKGZvciBib19tb3ZlX21lbWNweQo+IC0gICAgICAgICogZm9yIGluc3RhbmNlKS4g
VFRNIHdpbGwgdGFrZSBjYXJlIHRvIGNhbGwgaW9fbWVtX2ZyZWUgd2hlbmV2ZXIKPiAtICAgICAg
ICAqIHRoZSBtYXBwaW5nIGlzIG5vdCB1c2UgYW55bW9yZS4gaW9fbWVtX3Jlc2VydmUgJiBpb19t
ZW1fZnJlZQo+IC0gICAgICAgICogYXJlIGJhbGFuY2VkLgo+IC0gICAgICAgICovCj4gLSAgICAg
ICBpbnQgKCppb19tZW1fcmVzZXJ2ZSkoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gLSAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHR0bV9yZXNvdXJjZSAqbWVtKTsKPiAt
ICAgICAgIHZvaWQgKCppb19tZW1fZnJlZSkoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4g
LSAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2UgKm1lbSk7Cj4g
LQo+IC0gICAgICAgLyoqCj4gLSAgICAgICAgKiBSZXR1cm4gdGhlIHBmbiBmb3IgYSBnaXZlbiBw
YWdlX29mZnNldCBpbnNpZGUgdGhlIEJPLgo+IC0gICAgICAgICoKPiAtICAgICAgICAqIEBibzog
dGhlIEJPIHRvIGxvb2sgdXAgdGhlIHBmbiBmb3IKPiAtICAgICAgICAqIEBwYWdlX29mZnNldDog
dGhlIG9mZnNldCB0byBsb29rIHVwCj4gLSAgICAgICAgKi8KPiAtICAgICAgIHVuc2lnbmVkIGxv
bmcgKCppb19tZW1fcGZuKShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+IC0gICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGxvbmcgcGFnZV9vZmZzZXQpOwo+
IC0KPiAtICAgICAgIC8qKgo+IC0gICAgICAgICogUmVhZC93cml0ZSBtZW1vcnkgYnVmZmVycyBm
b3IgcHRyYWNlIGFjY2Vzcwo+IC0gICAgICAgICoKPiAtICAgICAgICAqIEBibzogdGhlIEJPIHRv
IGFjY2Vzcwo+IC0gICAgICAgICogQG9mZnNldDogdGhlIG9mZnNldCBmcm9tIHRoZSBzdGFydCBv
ZiB0aGUgQk8KPiAtICAgICAgICAqIEBidWY6IHBvaW50ZXIgdG8gc291cmNlL2Rlc3RpbmF0aW9u
IGJ1ZmZlcgo+IC0gICAgICAgICogQGxlbjogbnVtYmVyIG9mIGJ5dGVzIHRvIGNvcHkKPiAtICAg
ICAgICAqIEB3cml0ZTogd2hldGhlciB0byByZWFkICgwKSBmcm9tIG9yIHdyaXRlIChub24tMCkg
dG8gQk8KPiAtICAgICAgICAqCj4gLSAgICAgICAgKiBJZiBzdWNjZXNzZnVsLCB0aGlzIGZ1bmN0
aW9uIHNob3VsZCByZXR1cm4gdGhlIG51bWJlciBvZgo+IC0gICAgICAgICogYnl0ZXMgY29waWVk
LCAtRUlPIG90aGVyd2lzZS4gSWYgdGhlIG51bWJlciBvZiBieXRlcwo+IC0gICAgICAgICogcmV0
dXJuZWQgaXMgPCBsZW4sIHRoZSBmdW5jdGlvbiBtYXkgYmUgY2FsbGVkIGFnYWluIHdpdGgKPiAt
ICAgICAgICAqIHRoZSByZW1haW5kZXIgb2YgdGhlIGJ1ZmZlciB0byBjb3B5Lgo+IC0gICAgICAg
ICovCj4gLSAgICAgICBpbnQgKCphY2Nlc3NfbWVtb3J5KShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmpl
Y3QgKmJvLCB1bnNpZ25lZCBsb25nIG9mZnNldCwKPiAtICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHZvaWQgKmJ1ZiwgaW50IGxlbiwgaW50IHdyaXRlKTsKPiAtCj4gLSAgICAgICAvKioKPiAt
ICAgICAgICAqIHN0cnVjdCB0dG1fYm9fZHJpdmVyIG1lbWJlciBkZWxfZnJvbV9scnVfbm90aWZ5
Cj4gLSAgICAgICAgKgo+IC0gICAgICAgICogQGJvOiB0aGUgYnVmZmVyIG9iamVjdCBkZWxldGVk
IGZyb20gbHJ1Cj4gLSAgICAgICAgKgo+IC0gICAgICAgICogbm90aWZ5IGRyaXZlciB0aGF0IGEg
Qk8gd2FzIGRlbGV0ZWQgZnJvbSBMUlUuCj4gLSAgICAgICAgKi8KPiAtICAgICAgIHZvaWQgKCpk
ZWxfZnJvbV9scnVfbm90aWZ5KShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvKTsKPiAtCj4g
LSAgICAgICAvKioKPiAtICAgICAgICAqIE5vdGlmeSB0aGUgZHJpdmVyIHRoYXQgd2UncmUgYWJv
dXQgdG8gcmVsZWFzZSBhIEJPCj4gLSAgICAgICAgKgo+IC0gICAgICAgICogQGJvOiBCTyB0aGF0
IGlzIGFib3V0IHRvIGJlIHJlbGVhc2VkCj4gLSAgICAgICAgKgo+IC0gICAgICAgICogR2l2ZXMg
dGhlIGRyaXZlciBhIGNoYW5jZSB0byBkbyBhbnkgY2xlYW51cCwgaW5jbHVkaW5nCj4gLSAgICAg
ICAgKiBhZGRpbmcgZmVuY2VzIHRoYXQgbWF5IGZvcmNlIGEgZGVsYXllZCBkZWxldGUKPiAtICAg
ICAgICAqLwo+IC0gICAgICAgdm9pZCAoKnJlbGVhc2Vfbm90aWZ5KShzdHJ1Y3QgdHRtX2J1ZmZl
cl9vYmplY3QgKmJvKTsKPiAtfTsKPiAtCj4gLS8qKgo+IC0gKiBzdHJ1Y3QgdHRtX2JvX2dsb2Jh
bCAtIEJ1ZmZlciBvYmplY3QgZHJpdmVyIGdsb2JhbCBkYXRhLgo+IC0gKgo+IC0gKiBAZHVtbXlf
cmVhZF9wYWdlOiBQb2ludGVyIHRvIGEgZHVtbXkgcGFnZSB1c2VkIGZvciBtYXBwaW5nIHJlcXVl
c3RzCj4gLSAqIG9mIHVucG9wdWxhdGVkIHBhZ2VzLgo+IC0gKiBAc2hyaW5rOiBBIHNocmluayBj
YWxsYmFjayBvYmplY3QgdXNlZCBmb3IgYnVmZmVyIG9iamVjdCBzd2FwLgo+IC0gKiBAZGV2aWNl
X2xpc3RfbXV0ZXg6IE11dGV4IHByb3RlY3RpbmcgdGhlIGRldmljZSBsaXN0Lgo+IC0gKiBUaGlz
IG11dGV4IGlzIGhlbGQgd2hpbGUgdHJhdmVyc2luZyB0aGUgZGV2aWNlIGxpc3QgZm9yIHBtIG9w
dGlvbnMuCj4gLSAqIEBscnVfbG9jazogU3BpbmxvY2sgcHJvdGVjdGluZyB0aGUgYm8gc3Vic3lz
dGVtIGxydSBsaXN0cy4KPiAtICogQGRldmljZV9saXN0OiBMaXN0IG9mIGJ1ZmZlciBvYmplY3Qg
ZGV2aWNlcy4KPiAtICogQHN3YXBfbHJ1OiBMcnUgbGlzdCBvZiBidWZmZXIgb2JqZWN0cyB1c2Vk
IGZvciBzd2FwcGluZy4KPiAtICovCj4gLQo+IC1leHRlcm4gc3RydWN0IHR0bV9ib19nbG9iYWwg
ewo+IC0KPiAtICAgICAgIC8qKgo+IC0gICAgICAgICogQ29uc3RhbnQgYWZ0ZXIgaW5pdC4KPiAt
ICAgICAgICAqLwo+IC0KPiAtICAgICAgIHN0cnVjdCBrb2JqZWN0IGtvYmo7Cj4gLSAgICAgICBz
dHJ1Y3QgcGFnZSAqZHVtbXlfcmVhZF9wYWdlOwo+IC0gICAgICAgc3BpbmxvY2tfdCBscnVfbG9j
azsKPiAtCj4gLSAgICAgICAvKioKPiAtICAgICAgICAqIFByb3RlY3RlZCBieSB0dG1fZ2xvYmFs
X211dGV4Lgo+IC0gICAgICAgICovCj4gLSAgICAgICBzdHJ1Y3QgbGlzdF9oZWFkIGRldmljZV9s
aXN0Owo+IC0KPiAtICAgICAgIC8qKgo+IC0gICAgICAgICogUHJvdGVjdGVkIGJ5IHRoZSBscnVf
bG9jay4KPiAtICAgICAgICAqLwo+IC0gICAgICAgc3RydWN0IGxpc3RfaGVhZCBzd2FwX2xydVtU
VE1fTUFYX0JPX1BSSU9SSVRZXTsKPiAtCj4gLSAgICAgICAvKioKPiAtICAgICAgICAqIEludGVy
bmFsIHByb3RlY3Rpb24uCj4gLSAgICAgICAgKi8KPiAtICAgICAgIGF0b21pY190IGJvX2NvdW50
Owo+IC19IHR0bV9ib19nbG9iOwo+IC0KPiAtCj4gLSNkZWZpbmUgVFRNX05VTV9NRU1fVFlQRVMg
OAo+IC0KPiAtLyoqCj4gLSAqIHN0cnVjdCB0dG1fYm9fZGV2aWNlIC0gQnVmZmVyIG9iamVjdCBk
cml2ZXIgZGV2aWNlLXNwZWNpZmljIGRhdGEuCj4gLSAqCj4gLSAqIEBkcml2ZXI6IFBvaW50ZXIg
dG8gYSBzdHJ1Y3QgdHRtX2JvX2RyaXZlciBzdHJ1Y3Qgc2V0dXAgYnkgdGhlIGRyaXZlci4KPiAt
ICogQG1hbjogQW4gYXJyYXkgb2YgcmVzb3VyY2VfbWFuYWdlcnMuCj4gLSAqIEB2bWFfbWFuYWdl
cjogQWRkcmVzcyBzcGFjZSBtYW5hZ2VyIChwb2ludGVyKQo+IC0gKiBscnVfbG9jazogU3Bpbmxv
Y2sgdGhhdCBwcm90ZWN0cyB0aGUgYnVmZmVyK2RldmljZSBscnUgbGlzdHMgYW5kCj4gLSAqIGRk
ZXN0cm95IGxpc3RzLgo+IC0gKiBAZGV2X21hcHBpbmc6IEEgcG9pbnRlciB0byB0aGUgc3RydWN0
IGFkZHJlc3Nfc3BhY2UgcmVwcmVzZW50aW5nIHRoZQo+IC0gKiBkZXZpY2UgYWRkcmVzcyBzcGFj
ZS4KPiAtICogQHdxOiBXb3JrIHF1ZXVlIHN0cnVjdHVyZSBmb3IgdGhlIGRlbGF5ZWQgZGVsZXRl
IHdvcmtxdWV1ZS4KPiAtICoKPiAtICovCj4gLQo+IC1zdHJ1Y3QgdHRtX2JvX2RldmljZSB7Cj4g
LQo+IC0gICAgICAgLyoKPiAtICAgICAgICAqIENvbnN0YW50IGFmdGVyIGJvIGRldmljZSBpbml0
IC8gYXRvbWljLgo+IC0gICAgICAgICovCj4gLSAgICAgICBzdHJ1Y3QgbGlzdF9oZWFkIGRldmlj
ZV9saXN0Owo+IC0gICAgICAgc3RydWN0IHR0bV9ib19kcml2ZXIgKmRyaXZlcjsKPiAtICAgICAg
IC8qCj4gLSAgICAgICAgKiBhY2Nlc3MgdmlhIHR0bV9tYW5hZ2VyX3R5cGUuCj4gLSAgICAgICAg
Ki8KPiAtICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdlciBzeXNtYW47Cj4gLSAgICAg
ICBzdHJ1Y3QgdHRtX3Jlc291cmNlX21hbmFnZXIgKm1hbl9kcnZbVFRNX05VTV9NRU1fVFlQRVNd
Owo+IC0gICAgICAgLyoKPiAtICAgICAgICAqIFByb3RlY3RlZCBieSBpbnRlcm5hbCBsb2Nrcy4K
PiAtICAgICAgICAqLwo+IC0gICAgICAgc3RydWN0IGRybV92bWFfb2Zmc2V0X21hbmFnZXIgKnZt
YV9tYW5hZ2VyOwo+IC0gICAgICAgc3RydWN0IHR0bV9wb29sIHBvb2w7Cj4gLQo+IC0gICAgICAg
LyoKPiAtICAgICAgICAqIFByb3RlY3RlZCBieSB0aGUgZ2xvYmFsOmxydSBsb2NrLgo+IC0gICAg
ICAgICovCj4gLSAgICAgICBzdHJ1Y3QgbGlzdF9oZWFkIGRkZXN0cm95Owo+IC0KPiAtICAgICAg
IC8qCj4gLSAgICAgICAgKiBQcm90ZWN0ZWQgYnkgbG9hZCAvIGZpcnN0b3BlbiAvIGxhc3RjbG9z
ZSAvdW5sb2FkIHN5bmMuCj4gLSAgICAgICAgKi8KPiAtCj4gLSAgICAgICBzdHJ1Y3QgYWRkcmVz
c19zcGFjZSAqZGV2X21hcHBpbmc7Cj4gLQo+IC0gICAgICAgLyoKPiAtICAgICAgICAqIEludGVy
bmFsIHByb3RlY3Rpb24uCj4gLSAgICAgICAgKi8KPiAtCj4gLSAgICAgICBzdHJ1Y3QgZGVsYXll
ZF93b3JrIHdxOwo+IC19Owo+IC0KPiAtc3RhdGljIGlubGluZSBzdHJ1Y3QgdHRtX3Jlc291cmNl
X21hbmFnZXIgKnR0bV9tYW5hZ2VyX3R5cGUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4g
LSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgaW50IG1lbV90eXBlKQo+IC17Cj4gLSAgICAgICByZXR1cm4gYmRldi0+bWFuX2RydlttZW1f
dHlwZV07Cj4gLX0KPiAtCj4gLXN0YXRpYyBpbmxpbmUgdm9pZCB0dG1fc2V0X2RyaXZlcl9tYW5h
Z2VyKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+IC0gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGludCB0eXBlLAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdlciAqbWFuYWdlcikKPiAt
ewo+IC0gICAgICAgYmRldi0+bWFuX2Rydlt0eXBlXSA9IG1hbmFnZXI7Cj4gLX0KPiAtCj4gIC8q
Kgo+ICAgKiBzdHJ1Y3QgdHRtX2xydV9idWxrX21vdmVfcG9zCj4gICAqCj4gQEAgLTM4OCwzMSAr
MTAxLDYgQEAgaW50IHR0bV9ib19tZW1fc3BhY2Uoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpi
bywKPiAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3Jlc291cmNlICptZW0sCj4gICAg
ICAgICAgICAgICAgICAgICAgc3RydWN0IHR0bV9vcGVyYXRpb25fY3R4ICpjdHgpOwo+Cj4gLWlu
dCB0dG1fYm9fZGV2aWNlX3JlbGVhc2Uoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYpOwo+IC0K
PiAtLyoqCj4gLSAqIHR0bV9ib19kZXZpY2VfaW5pdAo+IC0gKgo+IC0gKiBAYmRldjogQSBwb2lu
dGVyIHRvIGEgc3RydWN0IHR0bV9ib19kZXZpY2UgdG8gaW5pdGlhbGl6ZS4KPiAtICogQGdsb2I6
IEEgcG9pbnRlciB0byBhbiBpbml0aWFsaXplZCBzdHJ1Y3QgdHRtX2JvX2dsb2JhbC4KPiAtICog
QGRyaXZlcjogQSBwb2ludGVyIHRvIGEgc3RydWN0IHR0bV9ib19kcml2ZXIgc2V0IHVwIGJ5IHRo
ZSBjYWxsZXIuCj4gLSAqIEBkZXY6IFRoZSBjb3JlIGtlcm5lbCBkZXZpY2UgcG9pbnRlciBmb3Ig
RE1BIG1hcHBpbmdzIGFuZCBhbGxvY2F0aW9ucy4KPiAtICogQG1hcHBpbmc6IFRoZSBhZGRyZXNz
IHNwYWNlIHRvIHVzZSBmb3IgdGhpcyBiby4KPiAtICogQHZtYV9tYW5hZ2VyOiBBIHBvaW50ZXIg
dG8gYSB2bWEgbWFuYWdlci4KPiAtICogQHVzZV9kbWFfYWxsb2M6IElmIGNvaGVyZW50IERNQSBh
bGxvY2F0aW9uIEFQSSBzaG91bGQgYmUgdXNlZC4KPiAtICogQHVzZV9kbWEzMjogSWYgd2Ugc2hv
dWxkIHVzZSBHRlBfRE1BMzIgZm9yIGRldmljZSBtZW1vcnkgYWxsb2NhdGlvbnMuCj4gLSAqCj4g
LSAqIEluaXRpYWxpemVzIGEgc3RydWN0IHR0bV9ib19kZXZpY2U6Cj4gLSAqIFJldHVybnM6Cj4g
LSAqICEwOiBGYWlsdXJlLgo+IC0gKi8KPiAtaW50IHR0bV9ib19kZXZpY2VfaW5pdChzdHJ1Y3Qg
dHRtX2JvX2RldmljZSAqYmRldiwKPiAtICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1f
Ym9fZHJpdmVyICpkcml2ZXIsCj4gLSAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgZGV2aWNl
ICpkZXYsCj4gLSAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgYWRkcmVzc19zcGFjZSAqbWFw
cGluZywKPiAtICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkcm1fdm1hX29mZnNldF9tYW5h
Z2VyICp2bWFfbWFuYWdlciwKPiAtICAgICAgICAgICAgICAgICAgICAgIGJvb2wgdXNlX2RtYV9h
bGxvYywgYm9vbCB1c2VfZG1hMzIpOwo+IC0KPiAgLyoqCj4gICAqIHR0bV9ib191bm1hcF92aXJ0
dWFsCj4gICAqCj4gQEAgLTQ5NCw5ICsxODIsOSBAQCBzdGF0aWMgaW5saW5lIGludCB0dG1fYm9f
cmVzZXJ2ZV9zbG93cGF0aChzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+ICBzdGF0aWMg
aW5saW5lIHZvaWQKPiAgdHRtX2JvX21vdmVfdG9fbHJ1X3RhaWxfdW5sb2NrZWQoc3RydWN0IHR0
bV9idWZmZXJfb2JqZWN0ICpibykKPiAgewo+IC0gICAgICAgc3Bpbl9sb2NrKCZ0dG1fYm9fZ2xv
Yi5scnVfbG9jayk7Cj4gKyAgICAgICBzcGluX2xvY2soJnR0bV9nbG9iLmxydV9sb2NrKTsKPiAg
ICAgICAgIHR0bV9ib19tb3ZlX3RvX2xydV90YWlsKGJvLCAmYm8tPm1lbSwgTlVMTCk7Cj4gLSAg
ICAgICBzcGluX3VubG9jaygmdHRtX2JvX2dsb2IubHJ1X2xvY2spOwo+ICsgICAgICAgc3Bpbl91
bmxvY2soJnR0bV9nbG9iLmxydV9sb2NrKTsKPiAgfQo+Cj4gIHN0YXRpYyBpbmxpbmUgdm9pZCB0
dG1fYm9fYXNzaWduX21lbShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+IEBAIC01Mzgs
OSArMjI2LDkgQEAgc3RhdGljIGlubGluZSB2b2lkIHR0bV9ib191bnJlc2VydmUoc3RydWN0IHR0
bV9idWZmZXJfb2JqZWN0ICpibykKPiAgLyoKPiAgICogdHRtX2JvX3V0aWwuYwo+ICAgKi8KPiAt
aW50IHR0bV9tZW1faW9fcmVzZXJ2ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPiAraW50
IHR0bV9tZW1faW9fcmVzZXJ2ZShzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwKPiAgICAgICAgICAg
ICAgICAgICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2UgKm1lbSk7Cj4gLXZvaWQgdHRtX21lbV9p
b19mcmVlKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICt2b2lkIHR0bV9tZW1faW9fZnJl
ZShzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwKPiAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3Qg
dHRtX3Jlc291cmNlICptZW0pOwo+Cj4gIC8qKgo+IEBAIC02MzEsNyArMzE5LDcgQEAgdm9pZCB0
dG1fYm9fdHRfZGVzdHJveShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvKTsKPiAgICogSW5p
dGlhbGlzZSBhIGdlbmVyaWMgcmFuZ2UgbWFuYWdlciBmb3IgdGhlIHNlbGVjdGVkIG1lbW9yeSB0
eXBlLgo+ICAgKiBUaGUgcmFuZ2UgbWFuYWdlciBpcyBpbnN0YWxsZWQgZm9yIHRoaXMgZGV2aWNl
IGluIHRoZSB0eXBlIHNsb3QuCj4gICAqLwo+IC1pbnQgdHRtX3JhbmdlX21hbl9pbml0KHN0cnVj
dCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICtpbnQgdHRtX3JhbmdlX21hbl9pbml0KHN0cnVjdCB0
dG1fZGV2aWNlICpiZGV2LAo+ICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgdHlwZSwg
Ym9vbCB1c2VfdHQsCj4gICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBsb25nIHBfc2l6
ZSk7Cj4KPiBAQCAtNjQzLDcgKzMzMSw3IEBAIGludCB0dG1fcmFuZ2VfbWFuX2luaXQoc3RydWN0
IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gICAqCj4gICAqIFJlbW92ZSB0aGUgZ2VuZXJpYyByYW5n
ZSBtYW5hZ2VyIGZyb20gYSBzbG90IGFuZCB0ZWFyIGl0IGRvd24uCj4gICAqLwo+IC1pbnQgdHRt
X3JhbmdlX21hbl9maW5pKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAo+ICtpbnQgdHRtX3Jh
bmdlX21hbl9maW5pKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LAo+ICAgICAgICAgICAgICAgICAg
ICAgICAgdW5zaWduZWQgdHlwZSk7Cj4KPiAgI2VuZGlmCj4gZGlmZiAtLWdpdCBhL2luY2x1ZGUv
ZHJtL3R0bS90dG1fZGV2aWNlLmggYi9pbmNsdWRlL2RybS90dG0vdHRtX2RldmljZS5oCj4gbmV3
IGZpbGUgbW9kZSAxMDA2NDQKPiBpbmRleCAwMDAwMDAwMDAwMDAuLjdiYzhiYjc5NzE2MQo+IC0t
LSAvZGV2L251bGwKPiArKysgYi9pbmNsdWRlL2RybS90dG0vdHRtX2RldmljZS5oCj4gQEAgLTAs
MCArMSwzMTkgQEAKPiArLyoKPiArICogQ29weXJpZ2h0IDIwMjAgQWR2YW5jZWQgTWljcm8gRGV2
aWNlcywgSW5jLgo+ICsgKgo+ICsgKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVl
IG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYQo+ICsgKiBjb3B5IG9mIHRoaXMg
c29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2Fy
ZSIpLAo+ICsgKiB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBp
bmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uCj4gKyAqIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5
LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLAo+ICsgKiBh
bmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMg
dG8gd2hvbSB0aGUKPiArICogU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0
IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKPiArICoKPiArICogVGhlIGFib3ZlIGNvcHly
aWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQg
aW4KPiArICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdh
cmUuCj4gKyAqCj4gKyAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VU
IFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCj4gKyAqIElNUExJRUQsIElOQ0xVRElO
RyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLAo+
ICsgKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5U
LiAgSU4gTk8gRVZFTlQgU0hBTEwKPiArICogVEhFIENPUFlSSUdIVCBIT0xERVIoUykgT1IgQVVU
SE9SKFMpIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SCj4gKyAqIE9USEVSIExJ
QUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJX
SVNFLAo+ICsgKiBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhF
IFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IKPiArICogT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRX
QVJFLgo+ICsgKgo+ICsgKiBBdXRob3JzOiBDaHJpc3RpYW4gS8O2bmlnCj4gKyAqLwo+ICsKPiAr
I2lmbmRlZiBfVFRNX0RFVklDRV9IXwo+ICsjZGVmaW5lIF9UVE1fREVWSUNFX0hfCj4gKwo+ICsj
aW5jbHVkZSA8bGludXgvdHlwZXMuaD4KPiArI2luY2x1ZGUgPGxpbnV4L3dvcmtxdWV1ZS5oPgo+
ICsjaW5jbHVkZSA8ZHJtL3R0bS90dG1fcmVzb3VyY2UuaD4KPiArI2luY2x1ZGUgPGRybS90dG0v
dHRtX3Bvb2wuaD4KPiArCj4gKyNkZWZpbmUgVFRNX05VTV9NRU1fVFlQRVMgOAo+ICsKPiArc3Ry
dWN0IHR0bV9kZXZpY2U7Cj4gK3N0cnVjdCB0dG1fcGxhY2VtZW50Owo+ICtzdHJ1Y3QgdHRtX2J1
ZmZlcl9vYmplY3Q7Cj4gK3N0cnVjdCB0dG1fb3BlcmF0aW9uX2N0eDsKPiArCj4gKy8qKgo+ICsg
KiBzdHJ1Y3QgdHRtX2dsb2JhbCAtIEJ1ZmZlciBvYmplY3QgZHJpdmVyIGdsb2JhbCBkYXRhLgo+
ICsgKgo+ICsgKiBAZHVtbXlfcmVhZF9wYWdlOiBQb2ludGVyIHRvIGEgZHVtbXkgcGFnZSB1c2Vk
IGZvciBtYXBwaW5nIHJlcXVlc3RzCj4gKyAqIG9mIHVucG9wdWxhdGVkIHBhZ2VzLgo+ICsgKiBA
c2hyaW5rOiBBIHNocmluayBjYWxsYmFjayBvYmplY3QgdXNlZCBmb3IgYnVmZmVyIG9iamVjdCBz
d2FwLgo+ICsgKiBAZGV2aWNlX2xpc3RfbXV0ZXg6IE11dGV4IHByb3RlY3RpbmcgdGhlIGRldmlj
ZSBsaXN0Lgo+ICsgKiBUaGlzIG11dGV4IGlzIGhlbGQgd2hpbGUgdHJhdmVyc2luZyB0aGUgZGV2
aWNlIGxpc3QgZm9yIHBtIG9wdGlvbnMuCj4gKyAqIEBscnVfbG9jazogU3BpbmxvY2sgcHJvdGVj
dGluZyB0aGUgYm8gc3Vic3lzdGVtIGxydSBsaXN0cy4KPiArICogQGRldmljZV9saXN0OiBMaXN0
IG9mIGJ1ZmZlciBvYmplY3QgZGV2aWNlcy4KPiArICogQHN3YXBfbHJ1OiBMcnUgbGlzdCBvZiBi
dWZmZXIgb2JqZWN0cyB1c2VkIGZvciBzd2FwcGluZy4KPiArICovCj4gK2V4dGVybiBzdHJ1Y3Qg
dHRtX2dsb2JhbCB7Cj4gKwo+ICsgICAgICAgLyoqCj4gKyAgICAgICAgKiBDb25zdGFudCBhZnRl
ciBpbml0Lgo+ICsgICAgICAgICovCj4gKwo+ICsgICAgICAgc3RydWN0IGtvYmplY3Qga29iajsK
PiArICAgICAgIHN0cnVjdCBwYWdlICpkdW1teV9yZWFkX3BhZ2U7Cj4gKyAgICAgICBzcGlubG9j
a190IGxydV9sb2NrOwo+ICsKPiArICAgICAgIC8qKgo+ICsgICAgICAgICogUHJvdGVjdGVkIGJ5
IHR0bV9nbG9iYWxfbXV0ZXguCj4gKyAgICAgICAgKi8KPiArICAgICAgIHN0cnVjdCBsaXN0X2hl
YWQgZGV2aWNlX2xpc3Q7Cj4gKwo+ICsgICAgICAgLyoqCj4gKyAgICAgICAgKiBQcm90ZWN0ZWQg
YnkgdGhlIGxydV9sb2NrLgo+ICsgICAgICAgICovCj4gKyAgICAgICBzdHJ1Y3QgbGlzdF9oZWFk
IHN3YXBfbHJ1W1RUTV9NQVhfQk9fUFJJT1JJVFldOwo+ICsKPiArICAgICAgIC8qKgo+ICsgICAg
ICAgICogSW50ZXJuYWwgcHJvdGVjdGlvbi4KPiArICAgICAgICAqLwo+ICsgICAgICAgYXRvbWlj
X3QgYm9fY291bnQ7Cj4gK30gdHRtX2dsb2I7Cj4gKwo+ICtzdHJ1Y3QgdHRtX2RldmljZV9mdW5j
cyB7Cj4gKyAgICAgICAvKioKPiArICAgICAgICAqIHR0bV90dF9jcmVhdGUKPiArICAgICAgICAq
Cj4gKyAgICAgICAgKiBAYm86IFRoZSBidWZmZXIgb2JqZWN0IHRvIGNyZWF0ZSB0aGUgdHRtIGZv
ci4KPiArICAgICAgICAqIEBwYWdlX2ZsYWdzOiBQYWdlIGZsYWdzIGFzIGlkZW50aWZpZWQgYnkg
VFRNX1BBR0VfRkxBR19YWCBmbGFncy4KPiArICAgICAgICAqCj4gKyAgICAgICAgKiBDcmVhdGUg
YSBzdHJ1Y3QgdHRtX3R0IHRvIGJhY2sgZGF0YSB3aXRoIHN5c3RlbSBtZW1vcnkgcGFnZXMuCj4g
KyAgICAgICAgKiBObyBwYWdlcyBhcmUgYWN0dWFsbHkgYWxsb2NhdGVkLgo+ICsgICAgICAgICog
UmV0dXJuczoKPiArICAgICAgICAqIE5VTEw6IE91dCBvZiBtZW1vcnkuCj4gKyAgICAgICAgKi8K
PiArICAgICAgIHN0cnVjdCB0dG1fdHQgKigqdHRtX3R0X2NyZWF0ZSkoc3RydWN0IHR0bV9idWZm
ZXJfb2JqZWN0ICpibywKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
dWludDMyX3QgcGFnZV9mbGFncyk7Cj4gKwo+ICsgICAgICAgLyoqCj4gKyAgICAgICAgKiB0dG1f
dHRfcG9wdWxhdGUKPiArICAgICAgICAqCj4gKyAgICAgICAgKiBAdHRtOiBUaGUgc3RydWN0IHR0
bV90dCB0byBjb250YWluIHRoZSBiYWNraW5nIHBhZ2VzLgo+ICsgICAgICAgICoKPiArICAgICAg
ICAqIEFsbG9jYXRlIGFsbCBiYWNraW5nIHBhZ2VzCj4gKyAgICAgICAgKiBSZXR1cm5zOgo+ICsg
ICAgICAgICogLUVOT01FTTogT3V0IG9mIG1lbW9yeS4KPiArICAgICAgICAqLwo+ICsgICAgICAg
aW50ICgqdHRtX3R0X3BvcHVsYXRlKShzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwKPiArICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHR0bV90dCAqdHRtLAo+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX29wZXJhdGlvbl9jdHggKmN0eCk7Cj4gKwo+
ICsgICAgICAgLyoqCj4gKyAgICAgICAgKiB0dG1fdHRfdW5wb3B1bGF0ZQo+ICsgICAgICAgICoK
PiArICAgICAgICAqIEB0dG06IFRoZSBzdHJ1Y3QgdHRtX3R0IHRvIGNvbnRhaW4gdGhlIGJhY2tp
bmcgcGFnZXMuCj4gKyAgICAgICAgKgo+ICsgICAgICAgICogRnJlZSBhbGwgYmFja2luZyBwYWdl
Cj4gKyAgICAgICAgKi8KPiArICAgICAgIHZvaWQgKCp0dG1fdHRfdW5wb3B1bGF0ZSkoc3RydWN0
IHR0bV9kZXZpY2UgKmJkZXYsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0
cnVjdCB0dG1fdHQgKnR0bSk7Cj4gKwo+ICsgICAgICAgLyoqCj4gKyAgICAgICAgKiB0dG1fdHRf
ZGVzdHJveQo+ICsgICAgICAgICoKPiArICAgICAgICAqIEBiZGV2OiBQb2ludGVyIHRvIGEgdHRt
IGRldmljZQo+ICsgICAgICAgICogQHR0bTogUG9pbnRlciB0byBhIHN0cnVjdCB0dG1fdHQuCj4g
KyAgICAgICAgKgo+ICsgICAgICAgICogRGVzdHJveSB0aGUgYmFja2VuZC4gVGhpcyB3aWxsIGJl
IGNhbGwgYmFjayBmcm9tIHR0bV90dF9kZXN0cm95IHNvCj4gKyAgICAgICAgKiBkb24ndCBjYWxs
IHR0bV90dF9kZXN0cm95IGZyb20gdGhlIGNhbGxiYWNrIG9yIGluZmluaXRlIGxvb3AuCj4gKyAg
ICAgICAgKi8KPiArICAgICAgIHZvaWQgKCp0dG1fdHRfZGVzdHJveSkoc3RydWN0IHR0bV9kZXZp
Y2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSk7Cj4gKwo+ICsgICAgICAgLyoqCj4gKyAgICAg
ICAgKiBzdHJ1Y3QgdHRtX2JvX2RyaXZlciBtZW1iZXIgZXZpY3Rpb25fdmFsdWFibGUKPiArICAg
ICAgICAqCj4gKyAgICAgICAgKiBAYm86IHRoZSBidWZmZXIgb2JqZWN0IHRvIGJlIGV2aWN0ZWQK
PiArICAgICAgICAqIEBwbGFjZTogcGxhY2VtZW50IHdlIG5lZWQgcm9vbSBmb3IKPiArICAgICAg
ICAqCj4gKyAgICAgICAgKiBDaGVjayB3aXRoIHRoZSBkcml2ZXIgaWYgaXQgaXMgdmFsdWFibGUg
dG8gZXZpY3QgYSBCTyB0byBtYWtlIHJvb20KPiArICAgICAgICAqIGZvciBhIGNlcnRhaW4gcGxh
Y2VtZW50Lgo+ICsgICAgICAgICovCj4gKyAgICAgICBib29sICgqZXZpY3Rpb25fdmFsdWFibGUp
KHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGNvbnN0IHN0cnVjdCB0dG1fcGxhY2UgKnBsYWNlKTsKPiArICAgICAgIC8qKgo+
ICsgICAgICAgICogc3RydWN0IHR0bV9ib19kcml2ZXIgbWVtYmVyIGV2aWN0X2ZsYWdzOgo+ICsg
ICAgICAgICoKPiArICAgICAgICAqIEBibzogdGhlIGJ1ZmZlciBvYmplY3QgdG8gYmUgZXZpY3Rl
ZAo+ICsgICAgICAgICoKPiArICAgICAgICAqIFJldHVybiB0aGUgYm8gZmxhZ3MgZm9yIGEgYnVm
ZmVyIHdoaWNoIGlzIG5vdCBtYXBwZWQgdG8gdGhlIGhhcmR3YXJlLgo+ICsgICAgICAgICogVGhl
c2Ugd2lsbCBiZSBwbGFjZWQgaW4gcHJvcG9zZWRfZmxhZ3Mgc28gdGhhdCB3aGVuIHRoZSBtb3Zl
IGlzCj4gKyAgICAgICAgKiBmaW5pc2hlZCwgdGhleSdsbCBlbmQgdXAgaW4gYm8tPm1lbS5mbGFn
cwo+ICsgICAgICAgICogVGhpcyBzaG91bGQgbm90IGNhdXNlIG11bHRpaG9wIGV2aWN0aW9ucywg
YW5kIHRoZSBjb3JlIHdpbGwgd2Fybgo+ICsgICAgICAgICogaWYgb25lIGlzIHByb3Bvc2VkLgo+
ICsgICAgICAgICovCj4gKwo+ICsgICAgICAgdm9pZCAoKmV2aWN0X2ZsYWdzKShzdHJ1Y3QgdHRt
X2J1ZmZlcl9vYmplY3QgKmJvLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3Qg
dHRtX3BsYWNlbWVudCAqcGxhY2VtZW50KTsKPiArCj4gKyAgICAgICAvKioKPiArICAgICAgICAq
IHN0cnVjdCB0dG1fYm9fZHJpdmVyIG1lbWJlciBtb3ZlOgo+ICsgICAgICAgICoKPiArICAgICAg
ICAqIEBibzogdGhlIGJ1ZmZlciB0byBtb3ZlCj4gKyAgICAgICAgKiBAZXZpY3Q6IHdoZXRoZXIg
dGhpcyBtb3Rpb24gaXMgZXZpY3RpbmcgdGhlIGJ1ZmZlciBmcm9tCj4gKyAgICAgICAgKiB0aGUg
Z3JhcGhpY3MgYWRkcmVzcyBzcGFjZQo+ICsgICAgICAgICogQGN0eDogY29udGV4dCBmb3IgdGhp
cyBtb3ZlIHdpdGggcGFyYW1ldGVycwo+ICsgICAgICAgICogQG5ld19tZW06IHRoZSBuZXcgbWVt
b3J5IHJlZ2lvbiByZWNlaXZpbmcgdGhlIGJ1ZmZlcgo+ICsgICAgICAgIEAgQGhvcDogcGxhY2Vt
ZW50IGZvciBkcml2ZXIgZGlyZWN0ZWQgaW50ZXJtZWRpYXRlIGhvcAo+ICsgICAgICAgICoKPiAr
ICAgICAgICAqIE1vdmUgYSBidWZmZXIgYmV0d2VlbiB0d28gbWVtb3J5IHJlZ2lvbnMuCj4gKyAg
ICAgICAgKiBSZXR1cm5zIGVycm5vIC1FTVVMVElIT1AgaWYgZHJpdmVyIHJlcXVlc3RzIGEgaG9w
Cj4gKyAgICAgICAgKi8KPiArICAgICAgIGludCAoKm1vdmUpKHN0cnVjdCB0dG1fYnVmZmVyX29i
amVjdCAqYm8sIGJvb2wgZXZpY3QsCj4gKyAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX29w
ZXJhdGlvbl9jdHggKmN0eCwKPiArICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fcmVzb3Vy
Y2UgKm5ld19tZW0sCj4gKyAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3BsYWNlICpob3Ap
Owo+ICsKPiArICAgICAgIC8qKgo+ICsgICAgICAgICogc3RydWN0IHR0bV9ib19kcml2ZXJfbWVt
YmVyIHZlcmlmeV9hY2Nlc3MKPiArICAgICAgICAqCj4gKyAgICAgICAgKiBAYm86IFBvaW50ZXIg
dG8gYSBidWZmZXIgb2JqZWN0Lgo+ICsgICAgICAgICogQGZpbHA6IFBvaW50ZXIgdG8gYSBzdHJ1
Y3QgZmlsZSB0cnlpbmcgdG8gYWNjZXNzIHRoZSBvYmplY3QuCj4gKyAgICAgICAgKgo+ICsgICAg
ICAgICogQ2FsbGVkIGZyb20gdGhlIG1hcCAvIHdyaXRlIC8gcmVhZCBtZXRob2RzIHRvIHZlcmlm
eSB0aGF0IHRoZQo+ICsgICAgICAgICogY2FsbGVyIGlzIHBlcm1pdHRlZCB0byBhY2Nlc3MgdGhl
IGJ1ZmZlciBvYmplY3QuCj4gKyAgICAgICAgKiBUaGlzIG1lbWJlciBtYXkgYmUgc2V0IHRvIE5V
TEwsIHdoaWNoIHdpbGwgcmVmdXNlIHRoaXMga2luZCBvZgo+ICsgICAgICAgICogYWNjZXNzIGZv
ciBhbGwgYnVmZmVyIG9iamVjdHMuCj4gKyAgICAgICAgKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBy
ZXR1cm4gMCBpZiBhY2Nlc3MgaXMgZ3JhbnRlZCwgLUVQRVJNIG90aGVyd2lzZS4KPiArICAgICAg
ICAqLwo+ICsgICAgICAgaW50ICgqdmVyaWZ5X2FjY2Vzcykoc3RydWN0IHR0bV9idWZmZXJfb2Jq
ZWN0ICpibywKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBmaWxlICpmaWxw
KTsKPiArCj4gKyAgICAgICAvKioKPiArICAgICAgICAqIEhvb2sgdG8gbm90aWZ5IGRyaXZlciBh
Ym91dCBhIHJlc291cmNlIGRlbGV0ZS4KPiArICAgICAgICAqLwo+ICsgICAgICAgdm9pZCAoKmRl
bGV0ZV9tZW1fbm90aWZ5KShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvKTsKPiArCj4gKyAg
ICAgICAvKioKPiArICAgICAgICAqIG5vdGlmeSB0aGUgZHJpdmVyIHRoYXQgd2UncmUgYWJvdXQg
dG8gc3dhcCBvdXQgdGhpcyBibwo+ICsgICAgICAgICovCj4gKyAgICAgICB2b2lkICgqc3dhcF9u
b3RpZnkpKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8pOwo+ICsKPiArICAgICAgIC8qKgo+
ICsgICAgICAgICogRHJpdmVyIGNhbGxiYWNrIG9uIHdoZW4gbWFwcGluZyBpbyBtZW1vcnkgKGZv
ciBib19tb3ZlX21lbWNweQo+ICsgICAgICAgICogZm9yIGluc3RhbmNlKS4gVFRNIHdpbGwgdGFr
ZSBjYXJlIHRvIGNhbGwgaW9fbWVtX2ZyZWUgd2hlbmV2ZXIKPiArICAgICAgICAqIHRoZSBtYXBw
aW5nIGlzIG5vdCB1c2UgYW55bW9yZS4gaW9fbWVtX3Jlc2VydmUgJiBpb19tZW1fZnJlZQo+ICsg
ICAgICAgICogYXJlIGJhbGFuY2VkLgo+ICsgICAgICAgICovCj4gKyAgICAgICBpbnQgKCppb19t
ZW1fcmVzZXJ2ZSkoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgc3RydWN0IHR0bV9yZXNvdXJjZSAqbWVtKTsKPiArICAgICAgIHZvaWQgKCpp
b19tZW1fZnJlZSkoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2UgKm1lbSk7Cj4gKwo+ICsgICAgICAgLyoqCj4g
KyAgICAgICAgKiBSZXR1cm4gdGhlIHBmbiBmb3IgYSBnaXZlbiBwYWdlX29mZnNldCBpbnNpZGUg
dGhlIEJPLgo+ICsgICAgICAgICoKPiArICAgICAgICAqIEBibzogdGhlIEJPIHRvIGxvb2sgdXAg
dGhlIHBmbiBmb3IKPiArICAgICAgICAqIEBwYWdlX29mZnNldDogdGhlIG9mZnNldCB0byBsb29r
IHVwCj4gKyAgICAgICAgKi8KPiArICAgICAgIHVuc2lnbmVkIGxvbmcgKCppb19tZW1fcGZuKShz
dHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHVuc2lnbmVkIGxvbmcgcGFnZV9vZmZzZXQpOwo+ICsKPiArICAgICAgIC8qKgo+
ICsgICAgICAgICogUmVhZC93cml0ZSBtZW1vcnkgYnVmZmVycyBmb3IgcHRyYWNlIGFjY2Vzcwo+
ICsgICAgICAgICoKPiArICAgICAgICAqIEBibzogdGhlIEJPIHRvIGFjY2Vzcwo+ICsgICAgICAg
ICogQG9mZnNldDogdGhlIG9mZnNldCBmcm9tIHRoZSBzdGFydCBvZiB0aGUgQk8KPiArICAgICAg
ICAqIEBidWY6IHBvaW50ZXIgdG8gc291cmNlL2Rlc3RpbmF0aW9uIGJ1ZmZlcgo+ICsgICAgICAg
ICogQGxlbjogbnVtYmVyIG9mIGJ5dGVzIHRvIGNvcHkKPiArICAgICAgICAqIEB3cml0ZTogd2hl
dGhlciB0byByZWFkICgwKSBmcm9tIG9yIHdyaXRlIChub24tMCkgdG8gQk8KPiArICAgICAgICAq
Cj4gKyAgICAgICAgKiBJZiBzdWNjZXNzZnVsLCB0aGlzIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4g
dGhlIG51bWJlciBvZgo+ICsgICAgICAgICogYnl0ZXMgY29waWVkLCAtRUlPIG90aGVyd2lzZS4g
SWYgdGhlIG51bWJlciBvZiBieXRlcwo+ICsgICAgICAgICogcmV0dXJuZWQgaXMgPCBsZW4sIHRo
ZSBmdW5jdGlvbiBtYXkgYmUgY2FsbGVkIGFnYWluIHdpdGgKPiArICAgICAgICAqIHRoZSByZW1h
aW5kZXIgb2YgdGhlIGJ1ZmZlciB0byBjb3B5Lgo+ICsgICAgICAgICovCj4gKyAgICAgICBpbnQg
KCphY2Nlc3NfbWVtb3J5KShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLCB1bnNpZ25lZCBs
b25nIG9mZnNldCwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgKmJ1ZiwgaW50
IGxlbiwgaW50IHdyaXRlKTsKPiArCj4gKyAgICAgICAvKioKPiArICAgICAgICAqIHN0cnVjdCB0
dG1fYm9fZHJpdmVyIG1lbWJlciBkZWxfZnJvbV9scnVfbm90aWZ5Cj4gKyAgICAgICAgKgo+ICsg
ICAgICAgICogQGJvOiB0aGUgYnVmZmVyIG9iamVjdCBkZWxldGVkIGZyb20gbHJ1Cj4gKyAgICAg
ICAgKgo+ICsgICAgICAgICogbm90aWZ5IGRyaXZlciB0aGF0IGEgQk8gd2FzIGRlbGV0ZWQgZnJv
bSBMUlUuCj4gKyAgICAgICAgKi8KPiArICAgICAgIHZvaWQgKCpkZWxfZnJvbV9scnVfbm90aWZ5
KShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvKTsKPiArCj4gKyAgICAgICAvKioKPiArICAg
ICAgICAqIE5vdGlmeSB0aGUgZHJpdmVyIHRoYXQgd2UncmUgYWJvdXQgdG8gcmVsZWFzZSBhIEJP
Cj4gKyAgICAgICAgKgo+ICsgICAgICAgICogQGJvOiBCTyB0aGF0IGlzIGFib3V0IHRvIGJlIHJl
bGVhc2VkCj4gKyAgICAgICAgKgo+ICsgICAgICAgICogR2l2ZXMgdGhlIGRyaXZlciBhIGNoYW5j
ZSB0byBkbyBhbnkgY2xlYW51cCwgaW5jbHVkaW5nCj4gKyAgICAgICAgKiBhZGRpbmcgZmVuY2Vz
IHRoYXQgbWF5IGZvcmNlIGEgZGVsYXllZCBkZWxldGUKPiArICAgICAgICAqLwo+ICsgICAgICAg
dm9pZCAoKnJlbGVhc2Vfbm90aWZ5KShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvKTsKPiAr
fTsKPiArCj4gKy8qKgo+ICsgKiBzdHJ1Y3QgdHRtX2RldmljZSAtIEJ1ZmZlciBvYmplY3QgZHJp
dmVyIGRldmljZS1zcGVjaWZpYyBkYXRhLgo+ICsgKgo+ICsgKiBAZGV2aWNlX2xpc3Q6IE91ciBl
bnRyeSBpbiB0aGUgZ2xvYmFsIGRldmljZSBsaXN0Lgo+ICsgKiBAZnVuY3M6IEZ1bmN0aW9uIHRh
YmxlIGZvciB0aGUgZGV2aWNlLgo+ICsgKiBAc3lzbWFuOiBSZXNvdXJjZSBtYW5hZ2VyIGZvciB0
aGUgc3lzdGVtIGRvbWFpbi4KPiArICogQG1hbl9kcnY6IEFuIGFycmF5IG9mIHJlc291cmNlX21h
bmFnZXJzLgo+ICsgKiBAdm1hX21hbmFnZXI6IEFkZHJlc3Mgc3BhY2UgbWFuYWdlci4KPiArICog
QHBvb2w6IHBhZ2UgcG9vbCBmb3IgdGhlIGRldmljZS4KPiArICogQGRldl9tYXBwaW5nOiBBIHBv
aW50ZXIgdG8gdGhlIHN0cnVjdCBhZGRyZXNzX3NwYWNlIHJlcHJlc2VudGluZyB0aGUKPiArICog
ZGV2aWNlIGFkZHJlc3Mgc3BhY2UuCj4gKyAqIEB3cTogV29yayBxdWV1ZSBzdHJ1Y3R1cmUgZm9y
IHRoZSBkZWxheWVkIGRlbGV0ZSB3b3JrcXVldWUuCj4gKyAqLwo+ICtzdHJ1Y3QgdHRtX2Rldmlj
ZSB7Cj4gKyAgICAgICAvKgo+ICsgICAgICAgICogQ29uc3RhbnQgYWZ0ZXIgYm8gZGV2aWNlIGlu
aXQKPiArICAgICAgICAqLwo+ICsgICAgICAgc3RydWN0IGxpc3RfaGVhZCBkZXZpY2VfbGlzdDsK
PiArICAgICAgIHN0cnVjdCB0dG1fZGV2aWNlX2Z1bmNzICpmdW5jczsKPiArCj4gKyAgICAgICAv
Kgo+ICsgICAgICAgICogQWNjZXNzIHZpYSB0dG1fbWFuYWdlcl90eXBlLgo+ICsgICAgICAgICov
Cj4gKyAgICAgICBzdHJ1Y3QgdHRtX3Jlc291cmNlX21hbmFnZXIgc3lzbWFuOwo+ICsgICAgICAg
c3RydWN0IHR0bV9yZXNvdXJjZV9tYW5hZ2VyICptYW5fZHJ2W1RUTV9OVU1fTUVNX1RZUEVTXTsK
PiArCj4gKyAgICAgICAvKgo+ICsgICAgICAgICogUHJvdGVjdGVkIGJ5IGludGVybmFsIGxvY2tz
Lgo+ICsgICAgICAgICovCj4gKyAgICAgICBzdHJ1Y3QgZHJtX3ZtYV9vZmZzZXRfbWFuYWdlciAq
dm1hX21hbmFnZXI7Cj4gKyAgICAgICBzdHJ1Y3QgdHRtX3Bvb2wgcG9vbDsKPiArCj4gKyAgICAg
ICAvKgo+ICsgICAgICAgICogUHJvdGVjdGVkIGJ5IHRoZSBnbG9iYWw6bHJ1IGxvY2suCj4gKyAg
ICAgICAgKi8KPiArICAgICAgIHN0cnVjdCBsaXN0X2hlYWQgZGRlc3Ryb3k7Cj4gKwo+ICsgICAg
ICAgLyoKPiArICAgICAgICAqIFByb3RlY3RlZCBieSBsb2FkIC8gZmlyc3RvcGVuIC8gbGFzdGNs
b3NlIC91bmxvYWQgc3luYy4KPiArICAgICAgICAqLwo+ICsgICAgICAgc3RydWN0IGFkZHJlc3Nf
c3BhY2UgKmRldl9tYXBwaW5nOwo+ICsKPiArICAgICAgIC8qCj4gKyAgICAgICAgKiBJbnRlcm5h
bCBwcm90ZWN0aW9uLgo+ICsgICAgICAgICovCj4gKyAgICAgICBzdHJ1Y3QgZGVsYXllZF93b3Jr
IHdxOwo+ICt9Owo+ICsKPiArc3RhdGljIGlubGluZSBzdHJ1Y3QgdHRtX3Jlc291cmNlX21hbmFn
ZXIgKgo+ICt0dG1fbWFuYWdlcl90eXBlKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LCBpbnQgbWVt
X3R5cGUpCj4gK3sKPiArICAgICAgIHJldHVybiBiZGV2LT5tYW5fZHJ2W21lbV90eXBlXTsKPiAr
fQo+ICsKPiArc3RhdGljIGlubGluZSB2b2lkIHR0bV9zZXRfZHJpdmVyX21hbmFnZXIoc3RydWN0
IHR0bV9kZXZpY2UgKmJkZXYsIGludCB0eXBlLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdlciAqbWFuYWdlcikKPiAr
ewo+ICsgICAgICAgYmRldi0+bWFuX2Rydlt0eXBlXSA9IG1hbmFnZXI7Cj4gK30KPiArCj4gK2lu
dCB0dG1fZGV2aWNlX2luaXQoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fZGV2
aWNlX2Z1bmNzICpmdW5jcywKPiArICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkZXZpY2UgKmRl
diwgc3RydWN0IGFkZHJlc3Nfc3BhY2UgKm1hcHBpbmcsCj4gKyAgICAgICAgICAgICAgICAgICBz
dHJ1Y3QgZHJtX3ZtYV9vZmZzZXRfbWFuYWdlciAqdm1hX21hbmFnZXIsCj4gKyAgICAgICAgICAg
ICAgICAgICBib29sIHVzZV9kbWFfYWxsb2MsIGJvb2wgdXNlX2RtYTMyKTsKPiArdm9pZCB0dG1f
ZGV2aWNlX2Zpbmkoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYpOwo+ICsKPiArI2VuZGlmCj4gZGlm
ZiAtLWdpdCBhL2luY2x1ZGUvZHJtL3R0bS90dG1fcmVzb3VyY2UuaCBiL2luY2x1ZGUvZHJtL3R0
bS90dG1fcmVzb3VyY2UuaAo+IGluZGV4IGRhMGVkN2U4YzkxNS4uNjE2NGNjZjRmMzA4IDEwMDY0
NAo+IC0tLSBhL2luY2x1ZGUvZHJtL3R0bS90dG1fcmVzb3VyY2UuaAo+ICsrKyBiL2luY2x1ZGUv
ZHJtL3R0bS90dG1fcmVzb3VyY2UuaAo+IEBAIC0zMyw3ICszMyw3IEBACj4KPiAgI2RlZmluZSBU
VE1fTUFYX0JPX1BSSU9SSVRZICAgIDRVCj4KPiAtc3RydWN0IHR0bV9ib19kZXZpY2U7Cj4gK3N0
cnVjdCB0dG1fZGV2aWNlOwo+ICBzdHJ1Y3QgdHRtX3Jlc291cmNlX21hbmFnZXI7Cj4gIHN0cnVj
dCB0dG1fcmVzb3VyY2U7Cj4gIHN0cnVjdCB0dG1fcGxhY2U7Cj4gQEAgLTIzMyw3ICsyMzMsNyBA
QCB2b2lkIHR0bV9yZXNvdXJjZV9mcmVlKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sIHN0
cnVjdCB0dG1fcmVzb3VyY2UgKnJlcyk7Cj4gIHZvaWQgdHRtX3Jlc291cmNlX21hbmFnZXJfaW5p
dChzdHJ1Y3QgdHRtX3Jlc291cmNlX21hbmFnZXIgKm1hbiwKPiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgdW5zaWduZWQgbG9uZyBwX3NpemUpOwo+Cj4gLWludCB0dG1fcmVzb3VyY2Vf
bWFuYWdlcl9ldmljdF9hbGwoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gK2ludCB0dG1f
cmVzb3VyY2VfbWFuYWdlcl9ldmljdF9hbGwoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4gICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3Jlc291cmNlX21hbmFn
ZXIgKm1hbik7Cj4KPiAgdm9pZCB0dG1fcmVzb3VyY2VfbWFuYWdlcl9kZWJ1ZyhzdHJ1Y3QgdHRt
X3Jlc291cmNlX21hbmFnZXIgKm1hbiwKPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9kcm0vdHRtL3R0
bV90dC5oIGIvaW5jbHVkZS9kcm0vdHRtL3R0bV90dC5oCj4gaW5kZXggNmM4ZWI5YTRkZTgxLi4w
MDIwYTA1ODg5ODUgMTAwNjQ0Cj4gLS0tIGEvaW5jbHVkZS9kcm0vdHRtL3R0bV90dC5oCj4gKysr
IGIvaW5jbHVkZS9kcm0vdHRtL3R0bV90dC5oCj4gQEAgLTExOCwxNCArMTE4LDE0IEBAIHZvaWQg
dHRtX3R0X2Zpbmkoc3RydWN0IHR0bV90dCAqdHRtKTsKPiAgICoKPiAgICogVW5iaW5kLCB1bnBv
cHVsYXRlIGFuZCBkZXN0cm95IGNvbW1vbiBzdHJ1Y3QgdHRtX3R0Lgo+ICAgKi8KPiAtdm9pZCB0
dG1fdHRfZGVzdHJveShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV90dCAq
dHRtKTsKPiArdm9pZCB0dG1fdHRfZGVzdHJveShzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwgc3Ry
dWN0IHR0bV90dCAqdHRtKTsKPgo+ICAvKioKPiAgICogdHRtX3R0X2Rlc3Ryb3lfY29tbW9uOgo+
ICAgKgo+ICAgKiBDYWxsZWQgZnJvbSBkcml2ZXIgdG8gZGVzdHJveSBjb21tb24gcGF0aC4KPiAg
ICovCj4gLXZvaWQgdHRtX3R0X2Rlc3Ryb3lfY29tbW9uKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpi
ZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0pOwo+ICt2b2lkIHR0bV90dF9kZXN0cm95X2NvbW1vbihz
dHJ1Y3QgdHRtX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV90dCAqdHRtKTsKPgo+ICAvKioKPiAg
ICogdHRtX3R0X3N3YXBpbjoKPiBAQCAtMTM1LDcgKzEzNSw3IEBAIHZvaWQgdHRtX3R0X2Rlc3Ry
b3lfY29tbW9uKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0p
Owo+ICAgKiBTd2FwIGluIGEgcHJldmlvdXNseSBzd2FwIG91dCB0dG1fdHQuCj4gICAqLwo+ICBp
bnQgdHRtX3R0X3N3YXBpbihzdHJ1Y3QgdHRtX3R0ICp0dG0pOwo+IC1pbnQgdHRtX3R0X3N3YXBv
dXQoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSk7Cj4gK2lu
dCB0dG1fdHRfc3dhcG91dChzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV90dCAq
dHRtKTsKPgo+ICAvKioKPiAgICogdHRtX3R0X3BvcHVsYXRlIC0gYWxsb2NhdGUgcGFnZXMgZm9y
IGEgdHRtCj4gQEAgLTE0NCw3ICsxNDQsNyBAQCBpbnQgdHRtX3R0X3N3YXBvdXQoc3RydWN0IHR0
bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSk7Cj4gICAqCj4gICAqIENhbGxz
IHRoZSBkcml2ZXIgbWV0aG9kIHRvIGFsbG9jYXRlIHBhZ2VzIGZvciBhIHR0bQo+ICAgKi8KPiAt
aW50IHR0bV90dF9wb3B1bGF0ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgc3RydWN0IHR0
bV90dCAqdHRtLCBzdHJ1Y3QgdHRtX29wZXJhdGlvbl9jdHggKmN0eCk7Cj4gK2ludCB0dG1fdHRf
cG9wdWxhdGUoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSwgc3Ry
dWN0IHR0bV9vcGVyYXRpb25fY3R4ICpjdHgpOwo+Cj4gIC8qKgo+ICAgKiB0dG1fdHRfdW5wb3B1
bGF0ZSAtIGZyZWUgcGFnZXMgZnJvbSBhIHR0bQo+IEBAIC0xNTMsNyArMTUzLDcgQEAgaW50IHR0
bV90dF9wb3B1bGF0ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV90dCAq
dHRtLCBzdHJ1Y3QgdHRtX28KPiAgICoKPiAgICogQ2FsbHMgdGhlIGRyaXZlciBtZXRob2QgdG8g
ZnJlZSBhbGwgcGFnZXMgZnJvbSBhIHR0bQo+ICAgKi8KPiAtdm9pZCB0dG1fdHRfdW5wb3B1bGF0
ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV90dCAqdHRtKTsKPiArdm9p
ZCB0dG1fdHRfdW5wb3B1bGF0ZShzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV90
dCAqdHRtKTsKPgo+ICAjaWYgSVNfRU5BQkxFRChDT05GSUdfQUdQKQo+ICAjaW5jbHVkZSA8bGlu
dXgvYWdwX2JhY2tlbmQuaD4KPiAtLQo+IDIuMjUuMQo+CgoKLS0gCkRhbmllbCBWZXR0ZXIKU29m
dHdhcmUgRW5naW5lZXIsIEludGVsIENvcnBvcmF0aW9uCmh0dHA6Ly9ibG9nLmZmd2xsLmNoCl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBt
YWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3Rz
LmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbAo=
