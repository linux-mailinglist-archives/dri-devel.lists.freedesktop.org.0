Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A03D7362204
	for <lists+dri-devel@lfdr.de>; Fri, 16 Apr 2021 16:20:42 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 2B3A26EB39;
	Fri, 16 Apr 2021 14:20:36 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga04.intel.com (mga04.intel.com [192.55.52.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2CE1B6EB2F
 for <dri-devel@lists.freedesktop.org>; Fri, 16 Apr 2021 14:20:33 +0000 (UTC)
IronPort-SDR: mAf85toxZoGX/gUdSRlykXMDkqEYxBf9rsn7KLIT8dmpLObA7hvkkDmhZix2YlOCwvGz/3902L
 JRsuXEs+dGDA==
X-IronPort-AV: E=McAfee;i="6200,9189,9956"; a="192919461"
X-IronPort-AV: E=Sophos;i="5.82,226,1613462400"; d="scan'208";a="192919461"
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by fmsmga104.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 16 Apr 2021 07:20:32 -0700
IronPort-SDR: i8HAIRV/04OnOlv8pP6aUvzfhU1pfFZ1M3bJrCgT1N4m+EKDHH7AD/tgUEEEJvfgT999b6p9PU
 dpyi3S3xEESw==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.82,226,1613462400"; d="scan'208";a="425615126"
Received: from black.fi.intel.com ([10.237.72.28])
 by orsmga008.jf.intel.com with ESMTP; 16 Apr 2021 07:20:30 -0700
Received: by black.fi.intel.com (Postfix, from userid 1003)
 id 2391ABA; Fri, 16 Apr 2021 17:20:47 +0300 (EEST)
From: Andy Shevchenko <andriy.shevchenko@linux.intel.com>
To: Andy Shevchenko <andriy.shevchenko@linux.intel.com>,
 dri-devel@lists.freedesktop.org, linux-fbdev@vger.kernel.org,
 linux-staging@lists.linux.dev, linux-kernel@vger.kernel.org
Subject: [PATCH v2 2/4] fbtft: Rectify GPIO handling
Date: Fri, 16 Apr 2021 17:20:42 +0300
Message-Id: <20210416142044.17766-2-andriy.shevchenko@linux.intel.com>
X-Mailer: git-send-email 2.30.2
In-Reply-To: <20210416142044.17766-1-andriy.shevchenko@linux.intel.com>
References: <20210416142044.17766-1-andriy.shevchenko@linux.intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: =?UTF-8?q?Jan=20Sebastian=20G=C3=B6tte?= <linux@jaseg.net>,
 Greg Kroah-Hartman <gregkh@linuxfoundation.org>,
 Phil Reid <preid@electromag.com.au>, Nishad Kamdar <nishadkamdar@gmail.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIGluZmFtb3VzIGNvbW1pdCBjNDQwZWVlMWE3YTEgKCJTdGFnaW5nOiBmYnRmdDogU3dpdGNo
IHRvCnRoZSBHUElPIGRlc2NyaXB0b3IgaW50ZXJmYWNlIikgYnJva2UgR1BJTyBoYW5kbGluZyBj
b21wbGV0ZWx5LgpJdCBoYXMgYWxyZWFkeSBmb3VyIGNvbW1pdHMgdG8gcmVjdGlmeSBhbmQgaXQg
c2VlbXMgbm90IGVub3VnaC4KSW4gb3JkZXIgdG8gZml4IHRoZSBtZXNzIGhlcmUgd2U6CgogIDEp
IFNldCBkZWZhdWx0IHRvICJpbmFjdGl2ZSIgZm9yIGFsbCByZXF1ZXN0ZWQgcGlucwoKICAyKSBG
aXggQ1MsIFJELCBhbmQgV1IgcGlucyBwb2xhcml0eSBzaW5jZSBpdCdzIGFjdGl2ZSBsb3cgYW5k
CiAgICAgR1BJTyBkZXNjcmlwdG9yIGludGVyZmFjZSB0YWtlcyBpdCBpbnRvIGNvbnNpZGVyYXRp
b24gZnJvbQogICAgIHRoZSBEZXZpY2UgVHJlZSBvciBBQ1BJCgogIDMpIENvbnNvbGlkYXRlIGNo
aXAgYWN0aXZhdGlvbiAoQ1MgYXNzZXJ0KSB1bmRlciBkZWZhdWx0CiAgICAgLT5yZXNldCgpIGNh
bGxiYWNrCgpUbyBzdW1tYXJpemUgdGhlIGV4cGVjdGF0aW9ucyBhYm91dCBwb2xhcml0eSBmb3Ig
R1BJT3M6CgogICAjUkQJCQlMb3cKICAgI1dSCQkJTG93CiAgICNDUwkJCUxvdwogICAjUkVTRVQJ
CUxvdwogICBEQyBvciBSUwkJSGlnaAogICBSVwkJCUhpZ2gKICAgRGF0YQkwIC4uIDE1CQlIaWdo
CgpTZWUgYWxzbyBBZGFmcnVpdCBsZWFybmluZyBjb3Vyc2UgWzFdIGZvciB0aGUgZXhhbXBsZSBv
ZiB0aGUgc2NoZW1hdGljcy4KCldoaWxlIGF0IGl0LCBkcm9wIHVubmVlZGVkIE5VTEwgY2hlY2tz
LCBzaW5jZSBHUElPIEFQSSBpcyB0b2xlcmFudCB0byB0aGF0LgoKWzFdOiBodHRwczovL2xlYXJu
LmFkYWZydWl0LmNvbS9hZGFmcnVpdC0yLTgtYW5kLTMtMi1jb2xvci10ZnQtdG91Y2hzY3JlZW4t
YnJlYWtvdXQtdjIvZG93bmxvYWRzCgpGaXhlczogOTJlM2U4ODQ4ODdjICgiU3RhZ2luZzogZmJ0
ZnQ6IEZpeCBHUElPIGhhbmRsaW5nIikKRml4ZXM6IGI5MThkMWMyNzA2NiAoIlN0YWdpbmc6IGZi
dGZ0OiBGaXggcmVzZXQgYXNzZXJ0aW9uIHdoZW4gdXNpbmcgZ3BpbyBkZXNjcmlwdG9yIikKRml4
ZXM6IGRiYzRmOTg5Yzg3OCAoIlN0YWdpbmc6IGZidGZ0OiBGaXggcHJvYmluZyBvZiBncGlvIGRl
c2NyaXB0b3IiKQpGaXhlczogYzQ0MGVlZTFhN2ExICgiU3RhZ2luZzogZmJ0ZnQ6IFN3aXRjaCB0
byB0aGUgZ3BpbyBkZXNjcmlwdG9yIGludGVyZmFjZSIpCkNjOiBKYW4gU2ViYXN0aWFuIEfDtnR0
ZSA8bGludXhAamFzZWcubmV0PgpDYzogUGhpbCBSZWlkIDxwcmVpZEBlbGVjdHJvbWFnLmNvbS5h
dT4KQ2M6IE5pc2hhZCBLYW1kYXIgPG5pc2hhZGthbWRhckBnbWFpbC5jb20+ClNpZ25lZC1vZmYt
Ynk6IEFuZHkgU2hldmNoZW5rbyA8YW5kcml5LnNoZXZjaGVua29AbGludXguaW50ZWwuY29tPgot
LS0KdjI6IHNocnVuayBieSBzcGxpdHRpbmcgc29tZSBzdHVmZiB0byB0aGUgc2VwYXJhdGUgY2hh
bmdlcyAoR3JlZykKIGRyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYl9hZ20xMjY0ay1mbC5jIHwgMTYg
KysrKysrKystLS0tLS0tLQogZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX2JkNjYzNDc0LmMgICAg
fCAgNCAtLS0tCiBkcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfaWxpOTE2My5jICAgICB8ICA0IC0t
LS0KIGRyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYl9pbGk5MzIwLmMgICAgIHwgIDEgLQogZHJpdmVy
cy9zdGFnaW5nL2ZidGZ0L2ZiX2lsaTkzMjUuYyAgICAgfCAgNCAtLS0tCiBkcml2ZXJzL3N0YWdp
bmcvZmJ0ZnQvZmJfaWxpOTM0MC5jICAgICB8ICAxIC0KIGRyaXZlcnMvc3RhZ2luZy9mYnRmdC9m
Yl9zNmQxMTIxLmMgICAgIHwgIDQgLS0tLQogZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX3NoMTEw
Ni5jICAgICAgfCAgMSAtCiBkcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfc3NkMTI4OS5jICAgICB8
ICA0IC0tLS0KIGRyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYl9zc2QxMzI1LmMgICAgIHwgIDIgLS0K
IGRyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYl9zc2QxMzMxLmMgICAgIHwgIDYgKystLS0tCiBkcml2
ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfc3NkMTM1MS5jICAgICB8ICAxIC0KIGRyaXZlcnMvc3RhZ2lu
Zy9mYnRmdC9mYl91cGQxNjE3MDQuYyAgIHwgIDQgLS0tLQogZHJpdmVycy9zdGFnaW5nL2ZidGZ0
L2ZiX3dhdHRlcm90dC5jICAgfCAgMSAtCiBkcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJ0ZnQtYnVz
LmMgICAgICB8ICAzICstLQogZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZidGZ0LWNvcmUuYyAgICAg
fCAxMyArKysrKystLS0tLS0tCiBkcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJ0ZnQtaW8uYyAgICAg
ICB8IDEyICsrKysrKy0tLS0tLQogMTcgZmlsZXMgY2hhbmdlZCwgMjMgaW5zZXJ0aW9ucygrKSwg
NTggZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX2Fn
bTEyNjRrLWZsLmMgYi9kcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfYWdtMTI2NGstZmwuYwppbmRl
eCA0ZGZjMjJkMDVhNDAuLjIwN2Q1Nzg1NDdjZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9zdGFnaW5n
L2ZidGZ0L2ZiX2FnbTEyNjRrLWZsLmMKKysrIGIvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX2Fn
bTEyNjRrLWZsLmMKQEAgLTE4MSwxMiArMTgxLDEyIEBAIHN0YXRpYyB2b2lkIHdyaXRlX3JlZzhf
YnVzOChzdHJ1Y3QgZmJ0ZnRfcGFyICpwYXIsIGludCBsZW4sIC4uLikKIAkvKiBzZWxlY3QgY2hp
cCAqLwogCWlmICgqYnVmKSB7CiAJCS8qIGNzMSAqLwotCQlncGlvZF9zZXRfdmFsdWUocGFyLT5D
UzAsIDEpOwotCQlncGlvZF9zZXRfdmFsdWUocGFyLT5DUzEsIDApOwotCX0gZWxzZSB7Ci0JCS8q
IGNzMCAqLwogCQlncGlvZF9zZXRfdmFsdWUocGFyLT5DUzAsIDApOwogCQlncGlvZF9zZXRfdmFs
dWUocGFyLT5DUzEsIDEpOworCX0gZWxzZSB7CisJCS8qIGNzMCAqLworCQlncGlvZF9zZXRfdmFs
dWUocGFyLT5DUzAsIDEpOworCQlncGlvZF9zZXRfdmFsdWUocGFyLT5DUzEsIDApOwogCX0KIAog
CWdwaW9kX3NldF92YWx1ZShwYXItPlJTLCAwKTsgLyogUlMtPjAgKGNvbW1hbmQgbW9kZSkgKi8K
QEAgLTM4NCw4ICszODQsOCBAQCBzdGF0aWMgaW50IHdyaXRlX3ZtZW0oc3RydWN0IGZidGZ0X3Bh
ciAqcGFyLCBzaXplX3Qgb2Zmc2V0LCBzaXplX3QgbGVuKQogCX0KIAlrZnJlZShjb252ZXJ0X2J1
Zik7CiAKLQlncGlvZF9zZXRfdmFsdWUocGFyLT5DUzAsIDEpOwotCWdwaW9kX3NldF92YWx1ZShw
YXItPkNTMSwgMSk7CisJZ3Bpb2Rfc2V0X3ZhbHVlKHBhci0+Q1MwLCAwKTsKKwlncGlvZF9zZXRf
dmFsdWUocGFyLT5DUzEsIDApOwogCiAJcmV0dXJuIHJldDsKIH0KQEAgLTQwNiwxMCArNDA2LDEw
IEBAIHN0YXRpYyBpbnQgd3JpdGUoc3RydWN0IGZidGZ0X3BhciAqcGFyLCB2b2lkICpidWYsIHNp
emVfdCBsZW4pCiAJCWZvciAoaSA9IDA7IGkgPCA4OyArK2kpCiAJCQlncGlvZF9zZXRfdmFsdWUo
cGFyLT5ncGlvLmRiW2ldLCBkYXRhICYgKDEgPDwgaSkpOwogCQkvKiBzZXQgRSAqLwotCQlncGlv
ZF9zZXRfdmFsdWUocGFyLT5FUElOLCAxKTsKKwkJZ3Bpb2Rfc2V0X3ZhbHVlKHBhci0+RVBJTiwg
MCk7CiAJCXVkZWxheSg1KTsKIAkJLyogdW5zZXQgRSAtIHdyaXRlICovCi0JCWdwaW9kX3NldF92
YWx1ZShwYXItPkVQSU4sIDApOworCQlncGlvZF9zZXRfdmFsdWUocGFyLT5FUElOLCAxKTsKIAkJ
dWRlbGF5KDEpOwogCX0KIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX2Jk
NjYzNDc0LmMgYi9kcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfYmQ2NjM0NzQuYwppbmRleCBlMmM3
NjQ2NTg4ZjguLjE2MjljMmM0NDBhOSAxMDA2NDQKLS0tIGEvZHJpdmVycy9zdGFnaW5nL2ZidGZ0
L2ZiX2JkNjYzNDc0LmMKKysrIGIvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX2JkNjYzNDc0LmMK
QEAgLTEyLDcgKzEyLDYgQEAKICNpbmNsdWRlIDxsaW51eC9tb2R1bGUuaD4KICNpbmNsdWRlIDxs
aW51eC9rZXJuZWwuaD4KICNpbmNsdWRlIDxsaW51eC9pbml0Lmg+Ci0jaW5jbHVkZSA8bGludXgv
Z3Bpby9jb25zdW1lci5oPgogI2luY2x1ZGUgPGxpbnV4L2RlbGF5Lmg+CiAKICNpbmNsdWRlICJm
YnRmdC5oIgpAQCAtMjQsOSArMjMsNiBAQAogCiBzdGF0aWMgaW50IGluaXRfZGlzcGxheShzdHJ1
Y3QgZmJ0ZnRfcGFyICpwYXIpCiB7Ci0JaWYgKHBhci0+Z3Bpby5jcykKLQkJZ3Bpb2Rfc2V0X3Zh
bHVlKHBhci0+Z3Bpby5jcywgMCk7ICAvKiBBY3RpdmF0ZSBjaGlwICovCi0KIAlwYXItPmZidGZ0
b3BzLnJlc2V0KHBhcik7CiAKIAkvKiBJbml0aWFsaXphdGlvbiBzZXF1ZW5jZSBmcm9tIExpYl9V
VEZUICovCmRpZmYgLS1naXQgYS9kcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfaWxpOTE2My5jIGIv
ZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX2lsaTkxNjMuYwppbmRleCAwNTY0OGMzZmZlNDcuLjY1
ODJhMmM5MGFhZiAxMDA2NDQKLS0tIGEvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX2lsaTkxNjMu
YworKysgYi9kcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfaWxpOTE2My5jCkBAIC0xMSw3ICsxMSw2
IEBACiAjaW5jbHVkZSA8bGludXgvbW9kdWxlLmg+CiAjaW5jbHVkZSA8bGludXgva2VybmVsLmg+
CiAjaW5jbHVkZSA8bGludXgvaW5pdC5oPgotI2luY2x1ZGUgPGxpbnV4L2dwaW8vY29uc3VtZXIu
aD4KICNpbmNsdWRlIDxsaW51eC9kZWxheS5oPgogI2luY2x1ZGUgPHZpZGVvL21pcGlfZGlzcGxh
eS5oPgogCkBAIC03Nyw5ICs3Niw2IEBAIHN0YXRpYyBpbnQgaW5pdF9kaXNwbGF5KHN0cnVjdCBm
YnRmdF9wYXIgKnBhcikKIHsKIAlwYXItPmZidGZ0b3BzLnJlc2V0KHBhcik7CiAKLQlpZiAocGFy
LT5ncGlvLmNzKQotCQlncGlvZF9zZXRfdmFsdWUocGFyLT5ncGlvLmNzLCAwKTsgIC8qIEFjdGl2
YXRlIGNoaXAgKi8KLQogCXdyaXRlX3JlZyhwYXIsIE1JUElfRENTX1NPRlRfUkVTRVQpOyAvKiBz
b2Z0d2FyZSByZXNldCAqLwogCW1kZWxheSg1MDApOwogCXdyaXRlX3JlZyhwYXIsIE1JUElfRENT
X0VYSVRfU0xFRVBfTU9ERSk7IC8qIGV4aXQgc2xlZXAgKi8KZGlmZiAtLWdpdCBhL2RyaXZlcnMv
c3RhZ2luZy9mYnRmdC9mYl9pbGk5MzIwLmMgYi9kcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfaWxp
OTMyMC5jCmluZGV4IGYyZTcyZDE0NDMxZC4uYThmNGM2MThiNzU0IDEwMDY0NAotLS0gYS9kcml2
ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfaWxpOTMyMC5jCisrKyBiL2RyaXZlcnMvc3RhZ2luZy9mYnRm
dC9mYl9pbGk5MzIwLmMKQEAgLTgsNyArOCw2IEBACiAjaW5jbHVkZSA8bGludXgvbW9kdWxlLmg+
CiAjaW5jbHVkZSA8bGludXgva2VybmVsLmg+CiAjaW5jbHVkZSA8bGludXgvaW5pdC5oPgotI2lu
Y2x1ZGUgPGxpbnV4L2dwaW8vY29uc3VtZXIuaD4KICNpbmNsdWRlIDxsaW51eC9zcGkvc3BpLmg+
CiAjaW5jbHVkZSA8bGludXgvZGVsYXkuaD4KIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9zdGFnaW5n
L2ZidGZ0L2ZiX2lsaTkzMjUuYyBiL2RyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYl9pbGk5MzI1LmMK
aW5kZXggYzlhYTRjYjQzMTIzLi4xNmQzYjE3Y2EyNzkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvc3Rh
Z2luZy9mYnRmdC9mYl9pbGk5MzI1LmMKKysrIGIvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX2ls
aTkzMjUuYwpAQCAtMTAsNyArMTAsNiBAQAogI2luY2x1ZGUgPGxpbnV4L21vZHVsZS5oPgogI2lu
Y2x1ZGUgPGxpbnV4L2tlcm5lbC5oPgogI2luY2x1ZGUgPGxpbnV4L2luaXQuaD4KLSNpbmNsdWRl
IDxsaW51eC9ncGlvL2NvbnN1bWVyLmg+CiAjaW5jbHVkZSA8bGludXgvZGVsYXkuaD4KIAogI2lu
Y2x1ZGUgImZidGZ0LmgiCkBAIC04NSw5ICs4NCw2IEBAIHN0YXRpYyBpbnQgaW5pdF9kaXNwbGF5
KHN0cnVjdCBmYnRmdF9wYXIgKnBhcikKIHsKIAlwYXItPmZidGZ0b3BzLnJlc2V0KHBhcik7CiAK
LQlpZiAocGFyLT5ncGlvLmNzKQotCQlncGlvZF9zZXRfdmFsdWUocGFyLT5ncGlvLmNzLCAwKTsg
IC8qIEFjdGl2YXRlIGNoaXAgKi8KLQogCWJ0ICY9IDB4MDc7CiAJdmMgJj0gMHgwNzsKIAl2cmgg
Jj0gMHgwZjsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYl9pbGk5MzQwLmMg
Yi9kcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfaWxpOTM0MC5jCmluZGV4IDQxNTE4M2M3MDU0YS4u
NzA0MjM2YmNhZjNmIDEwMDY0NAotLS0gYS9kcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfaWxpOTM0
MC5jCisrKyBiL2RyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYl9pbGk5MzQwLmMKQEAgLTgsNyArOCw2
IEBACiAjaW5jbHVkZSA8bGludXgvbW9kdWxlLmg+CiAjaW5jbHVkZSA8bGludXgva2VybmVsLmg+
CiAjaW5jbHVkZSA8bGludXgvaW5pdC5oPgotI2luY2x1ZGUgPGxpbnV4L2dwaW8vY29uc3VtZXIu
aD4KICNpbmNsdWRlIDxsaW51eC9kZWxheS5oPgogI2luY2x1ZGUgPHZpZGVvL21pcGlfZGlzcGxh
eS5oPgogCmRpZmYgLS1naXQgYS9kcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfczZkMTEyMS5jIGIv
ZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX3M2ZDExMjEuYwppbmRleCA4YzdkZTMyOTAzNDMuLjYy
ZjI3MTcyZjg0NCAxMDA2NDQKLS0tIGEvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX3M2ZDExMjEu
YworKysgYi9kcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfczZkMTEyMS5jCkBAIC0xMiw3ICsxMiw2
IEBACiAjaW5jbHVkZSA8bGludXgvbW9kdWxlLmg+CiAjaW5jbHVkZSA8bGludXgva2VybmVsLmg+
CiAjaW5jbHVkZSA8bGludXgvaW5pdC5oPgotI2luY2x1ZGUgPGxpbnV4L2dwaW8vY29uc3VtZXIu
aD4KICNpbmNsdWRlIDxsaW51eC9kZWxheS5oPgogCiAjaW5jbHVkZSAiZmJ0ZnQuaCIKQEAgLTI5
LDkgKzI4LDYgQEAgc3RhdGljIGludCBpbml0X2Rpc3BsYXkoc3RydWN0IGZidGZ0X3BhciAqcGFy
KQogewogCXBhci0+ZmJ0ZnRvcHMucmVzZXQocGFyKTsKIAotCWlmIChwYXItPmdwaW8uY3MpCi0J
CWdwaW9kX3NldF92YWx1ZShwYXItPmdwaW8uY3MsIDApOyAgLyogQWN0aXZhdGUgY2hpcCAqLwot
CiAJLyogSW5pdGlhbGl6YXRpb24gc2VxdWVuY2UgZnJvbSBMaWJfVVRGVCAqLwogCiAJd3JpdGVf
cmVnKHBhciwgMHgwMDExLCAweDIwMDQpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9zdGFnaW5nL2Zi
dGZ0L2ZiX3NoMTEwNi5jIGIvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX3NoMTEwNi5jCmluZGV4
IDZmNzI0OTQ5M2VhMy4uN2I5YWIzOWUxYzFhIDEwMDY0NAotLS0gYS9kcml2ZXJzL3N0YWdpbmcv
ZmJ0ZnQvZmJfc2gxMTA2LmMKKysrIGIvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX3NoMTEwNi5j
CkBAIC05LDcgKzksNiBAQAogI2luY2x1ZGUgPGxpbnV4L21vZHVsZS5oPgogI2luY2x1ZGUgPGxp
bnV4L2tlcm5lbC5oPgogI2luY2x1ZGUgPGxpbnV4L2luaXQuaD4KLSNpbmNsdWRlIDxsaW51eC9n
cGlvL2NvbnN1bWVyLmg+CiAjaW5jbHVkZSA8bGludXgvZGVsYXkuaD4KIAogI2luY2x1ZGUgImZi
dGZ0LmgiCmRpZmYgLS1naXQgYS9kcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfc3NkMTI4OS5jIGIv
ZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX3NzZDEyODkuYwppbmRleCA3YTNmZTAyMmNjNjkuLmYy
N2JhYjM4YjNlYyAxMDA2NDQKLS0tIGEvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX3NzZDEyODku
YworKysgYi9kcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfc3NkMTI4OS5jCkBAIC0xMCw3ICsxMCw2
IEBACiAjaW5jbHVkZSA8bGludXgvbW9kdWxlLmg+CiAjaW5jbHVkZSA8bGludXgva2VybmVsLmg+
CiAjaW5jbHVkZSA8bGludXgvaW5pdC5oPgotI2luY2x1ZGUgPGxpbnV4L2dwaW8vY29uc3VtZXIu
aD4KIAogI2luY2x1ZGUgImZidGZ0LmgiCiAKQEAgLTI4LDkgKzI3LDYgQEAgc3RhdGljIGludCBp
bml0X2Rpc3BsYXkoc3RydWN0IGZidGZ0X3BhciAqcGFyKQogewogCXBhci0+ZmJ0ZnRvcHMucmVz
ZXQocGFyKTsKIAotCWlmIChwYXItPmdwaW8uY3MpCi0JCWdwaW9kX3NldF92YWx1ZShwYXItPmdw
aW8uY3MsIDApOyAgLyogQWN0aXZhdGUgY2hpcCAqLwotCiAJd3JpdGVfcmVnKHBhciwgMHgwMCwg
MHgwMDAxKTsKIAl3cml0ZV9yZWcocGFyLCAweDAzLCAweEE4QTQpOwogCXdyaXRlX3JlZyhwYXIs
IDB4MEMsIDB4MDAwMCk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfc3Nk
MTMyNS5jIGIvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX3NzZDEzMjUuYwppbmRleCA4YTMxNDBk
NDFkOGIuLjc5NmEyYWMzZTE5NCAxMDA2NDQKLS0tIGEvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2Zi
X3NzZDEzMjUuYworKysgYi9kcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfc3NkMTMyNS5jCkBAIC0z
NSw4ICszNSw2IEBAIHN0YXRpYyBpbnQgaW5pdF9kaXNwbGF5KHN0cnVjdCBmYnRmdF9wYXIgKnBh
cikKIHsKIAlwYXItPmZidGZ0b3BzLnJlc2V0KHBhcik7CiAKLQlncGlvZF9zZXRfdmFsdWUocGFy
LT5ncGlvLmNzLCAwKTsKLQogCXdyaXRlX3JlZyhwYXIsIDB4YjMpOwogCXdyaXRlX3JlZyhwYXIs
IDB4ZjApOwogCXdyaXRlX3JlZyhwYXIsIDB4YWUpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9zdGFn
aW5nL2ZidGZ0L2ZiX3NzZDEzMzEuYyBiL2RyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYl9zc2QxMzMx
LmMKaW5kZXggMzc2MjJjOTQ2MmFhLi5lYzVlY2VkN2Y4Y2IgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
c3RhZ2luZy9mYnRmdC9mYl9zc2QxMzMxLmMKKysrIGIvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2Zi
X3NzZDEzMzEuYwpAQCAtODEsOCArODEsNyBAQCBzdGF0aWMgdm9pZCB3cml0ZV9yZWc4X2J1czgo
c3RydWN0IGZidGZ0X3BhciAqcGFyLCBpbnQgbGVuLCAuLi4pCiAJdmFfc3RhcnQoYXJncywgbGVu
KTsKIAogCSpidWYgPSAodTgpdmFfYXJnKGFyZ3MsIHVuc2lnbmVkIGludCk7Ci0JaWYgKHBhci0+
Z3Bpby5kYykKLQkJZ3Bpb2Rfc2V0X3ZhbHVlKHBhci0+Z3Bpby5kYywgMCk7CisJZ3Bpb2Rfc2V0
X3ZhbHVlKHBhci0+Z3Bpby5kYywgMCk7CiAJcmV0ID0gcGFyLT5mYnRmdG9wcy53cml0ZShwYXIs
IHBhci0+YnVmLCBzaXplb2YodTgpKTsKIAlpZiAocmV0IDwgMCkgewogCQl2YV9lbmQoYXJncyk7
CkBAIC0xMDQsOCArMTAzLDcgQEAgc3RhdGljIHZvaWQgd3JpdGVfcmVnOF9idXM4KHN0cnVjdCBm
YnRmdF9wYXIgKnBhciwgaW50IGxlbiwgLi4uKQogCQkJcmV0dXJuOwogCQl9CiAJfQotCWlmIChw
YXItPmdwaW8uZGMpCi0JCWdwaW9kX3NldF92YWx1ZShwYXItPmdwaW8uZGMsIDEpOworCWdwaW9k
X3NldF92YWx1ZShwYXItPmdwaW8uZGMsIDEpOwogCXZhX2VuZChhcmdzKTsKIH0KIApkaWZmIC0t
Z2l0IGEvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX3NzZDEzNTEuYyBiL2RyaXZlcnMvc3RhZ2lu
Zy9mYnRmdC9mYl9zc2QxMzUxLmMKaW5kZXggOTAwYjI4ZDgyNmIyLi5jZjI2M2E1OGExNDggMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYl9zc2QxMzUxLmMKKysrIGIvZHJpdmVy
cy9zdGFnaW5nL2ZidGZ0L2ZiX3NzZDEzNTEuYwpAQCAtMiw3ICsyLDYgQEAKICNpbmNsdWRlIDxs
aW51eC9tb2R1bGUuaD4KICNpbmNsdWRlIDxsaW51eC9rZXJuZWwuaD4KICNpbmNsdWRlIDxsaW51
eC9pbml0Lmg+Ci0jaW5jbHVkZSA8bGludXgvZ3Bpby9jb25zdW1lci5oPgogI2luY2x1ZGUgPGxp
bnV4L3NwaS9zcGkuaD4KICNpbmNsdWRlIDxsaW51eC9kZWxheS5oPgogCmRpZmYgLS1naXQgYS9k
cml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfdXBkMTYxNzA0LmMgYi9kcml2ZXJzL3N0YWdpbmcvZmJ0
ZnQvZmJfdXBkMTYxNzA0LmMKaW5kZXggYzc3ODMyYWU1ZTViLi5jNjgwMTYwZDYzODAgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYl91cGQxNjE3MDQuYworKysgYi9kcml2ZXJz
L3N0YWdpbmcvZmJ0ZnQvZmJfdXBkMTYxNzA0LmMKQEAgLTEyLDcgKzEyLDYgQEAKICNpbmNsdWRl
IDxsaW51eC9tb2R1bGUuaD4KICNpbmNsdWRlIDxsaW51eC9rZXJuZWwuaD4KICNpbmNsdWRlIDxs
aW51eC9pbml0Lmg+Ci0jaW5jbHVkZSA8bGludXgvZ3Bpby9jb25zdW1lci5oPgogI2luY2x1ZGUg
PGxpbnV4L2RlbGF5Lmg+CiAKICNpbmNsdWRlICJmYnRmdC5oIgpAQCAtMjYsOSArMjUsNiBAQCBz
dGF0aWMgaW50IGluaXRfZGlzcGxheShzdHJ1Y3QgZmJ0ZnRfcGFyICpwYXIpCiB7CiAJcGFyLT5m
YnRmdG9wcy5yZXNldChwYXIpOwogCi0JaWYgKHBhci0+Z3Bpby5jcykKLQkJZ3Bpb2Rfc2V0X3Zh
bHVlKHBhci0+Z3Bpby5jcywgMCk7ICAvKiBBY3RpdmF0ZSBjaGlwICovCi0KIAkvKiBJbml0aWFs
aXphdGlvbiBzZXF1ZW5jZSBmcm9tIExpYl9VVEZUICovCiAKIAkvKiByZWdpc3RlciByZXNldCAq
LwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX3dhdHRlcm90dC5jIGIvZHJp
dmVycy9zdGFnaW5nL2ZidGZ0L2ZiX3dhdHRlcm90dC5jCmluZGV4IDc2YjI1ZGYzNzZiOC4uYTU3
ZTFmNGZlZWYzIDEwMDY0NAotLS0gYS9kcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJfd2F0dGVyb3R0
LmMKKysrIGIvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZiX3dhdHRlcm90dC5jCkBAIC04LDcgKzgs
NiBAQAogI2luY2x1ZGUgPGxpbnV4L21vZHVsZS5oPgogI2luY2x1ZGUgPGxpbnV4L2tlcm5lbC5o
PgogI2luY2x1ZGUgPGxpbnV4L2luaXQuaD4KLSNpbmNsdWRlIDxsaW51eC9ncGlvL2NvbnN1bWVy
Lmg+CiAjaW5jbHVkZSA8bGludXgvZGVsYXkuaD4KIAogI2luY2x1ZGUgImZidGZ0LmgiCmRpZmYg
LS1naXQgYS9kcml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJ0ZnQtYnVzLmMgYi9kcml2ZXJzL3N0YWdp
bmcvZmJ0ZnQvZmJ0ZnQtYnVzLmMKaW5kZXggNjNjNjVkZDY3YjE3Li4zZDQyMmJjMTE2NDEgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYnRmdC1idXMuYworKysgYi9kcml2ZXJz
L3N0YWdpbmcvZmJ0ZnQvZmJ0ZnQtYnVzLmMKQEAgLTEzNSw4ICsxMzUsNyBAQCBpbnQgZmJ0ZnRf
d3JpdGVfdm1lbTE2X2J1czgoc3RydWN0IGZidGZ0X3BhciAqcGFyLCBzaXplX3Qgb2Zmc2V0LCBz
aXplX3QgbGVuKQogCXJlbWFpbiA9IGxlbiAvIDI7CiAJdm1lbTE2ID0gKHUxNiAqKShwYXItPmlu
Zm8tPnNjcmVlbl9idWZmZXIgKyBvZmZzZXQpOwogCi0JaWYgKHBhci0+Z3Bpby5kYykKLQkJZ3Bp
b2Rfc2V0X3ZhbHVlKHBhci0+Z3Bpby5kYywgMSk7CisJZ3Bpb2Rfc2V0X3ZhbHVlKHBhci0+Z3Bp
by5kYywgMSk7CiAKIAkvKiBub24gYnVmZmVyZWQgd3JpdGUgKi8KIAlpZiAoIXBhci0+dHhidWYu
YnVmKQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZidGZ0LWNvcmUuYyBiL2Ry
aXZlcnMvc3RhZ2luZy9mYnRmdC9mYnRmdC1jb3JlLmMKaW5kZXggNGYzNjJkYWQ0NDM2Li42N2Mz
YjE5NzVhNGQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvc3RhZ2luZy9mYnRmdC9mYnRmdC1jb3JlLmMK
KysrIGIvZHJpdmVycy9zdGFnaW5nL2ZidGZ0L2ZidGZ0LWNvcmUuYwpAQCAtMzgsOCArMzgsNyBA
QCBpbnQgZmJ0ZnRfd3JpdGVfYnVmX2RjKHN0cnVjdCBmYnRmdF9wYXIgKnBhciwgdm9pZCAqYnVm
LCBzaXplX3QgbGVuLCBpbnQgZGMpCiB7CiAJaW50IHJldDsKIAotCWlmIChwYXItPmdwaW8uZGMp
Ci0JCWdwaW9kX3NldF92YWx1ZShwYXItPmdwaW8uZGMsIGRjKTsKKwlncGlvZF9zZXRfdmFsdWUo
cGFyLT5ncGlvLmRjLCBkYyk7CiAKIAlyZXQgPSBwYXItPmZidGZ0b3BzLndyaXRlKHBhciwgYnVm
LCBsZW4pOwogCWlmIChyZXQgPCAwKQpAQCAtNzksNyArNzgsNyBAQCBzdGF0aWMgaW50IGZidGZ0
X3JlcXVlc3Rfb25lX2dwaW8oc3RydWN0IGZidGZ0X3BhciAqcGFyLAogCWludCByZXQgPSAwOwog
CiAJKmdwaW9wID0gZGV2bV9ncGlvZF9nZXRfaW5kZXhfb3B0aW9uYWwoZGV2LCBuYW1lLCBpbmRl
eCwKLQkJCQkJICAgICAgIEdQSU9EX09VVF9ISUdIKTsKKwkJCQkJICAgICAgIEdQSU9EX09VVF9M
T1cpOwogCWlmIChJU19FUlIoKmdwaW9wKSkgewogCQlyZXQgPSBQVFJfRVJSKCpncGlvcCk7CiAJ
CWRldl9lcnIoZGV2LApAQCAtMjI2LDExICsyMjUsMTUgQEAgc3RhdGljIHZvaWQgZmJ0ZnRfcmVz
ZXQoc3RydWN0IGZidGZ0X3BhciAqcGFyKQogewogCWlmICghcGFyLT5ncGlvLnJlc2V0KQogCQly
ZXR1cm47CisKIAlmYnRmdF9wYXJfZGJnKERFQlVHX1JFU0VULCBwYXIsICIlcygpXG4iLCBfX2Z1
bmNfXyk7CisKIAlncGlvZF9zZXRfdmFsdWVfY2Fuc2xlZXAocGFyLT5ncGlvLnJlc2V0LCAxKTsK
IAl1c2xlZXBfcmFuZ2UoMjAsIDQwKTsKIAlncGlvZF9zZXRfdmFsdWVfY2Fuc2xlZXAocGFyLT5n
cGlvLnJlc2V0LCAwKTsKIAltc2xlZXAoMTIwKTsKKworCWdwaW9kX3NldF92YWx1ZV9jYW5zbGVl
cChwYXItPmdwaW8uY3MsIDEpOyAgLyogQWN0aXZhdGUgY2hpcCAqLwogfQogCiBzdGF0aWMgdm9p
ZCBmYnRmdF91cGRhdGVfZGlzcGxheShzdHJ1Y3QgZmJ0ZnRfcGFyICpwYXIsIHVuc2lnbmVkIGlu
dCBzdGFydF9saW5lLApAQCAtOTIyLDggKzkyNSw2IEBAIHN0YXRpYyBpbnQgZmJ0ZnRfaW5pdF9k
aXNwbGF5X2Zyb21fcHJvcGVydHkoc3RydWN0IGZidGZ0X3BhciAqcGFyKQogCQlnb3RvIG91dF9m
cmVlOwogCiAJcGFyLT5mYnRmdG9wcy5yZXNldChwYXIpOwotCWlmIChwYXItPmdwaW8uY3MpCi0J
CWdwaW9kX3NldF92YWx1ZShwYXItPmdwaW8uY3MsIDApOyAgLyogQWN0aXZhdGUgY2hpcCAqLwog
CiAJaW5kZXggPSAtMTsKIAl2YWwgPSB2YWx1ZXNbKytpbmRleF07CkBAIC0xMDE4LDggKzEwMTks
NiBAQCBpbnQgZmJ0ZnRfaW5pdF9kaXNwbGF5KHN0cnVjdCBmYnRmdF9wYXIgKnBhcikKIAl9CiAK
IAlwYXItPmZidGZ0b3BzLnJlc2V0KHBhcik7Ci0JaWYgKHBhci0+Z3Bpby5jcykKLQkJZ3Bpb2Rf
c2V0X3ZhbHVlKHBhci0+Z3Bpby5jcywgMCk7ICAvKiBBY3RpdmF0ZSBjaGlwICovCiAKIAlpID0g
MDsKIAl3aGlsZSAoaSA8IEZCVEZUX01BWF9JTklUX1NFUVVFTkNFKSB7CmRpZmYgLS1naXQgYS9k
cml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJ0ZnQtaW8uYyBiL2RyaXZlcnMvc3RhZ2luZy9mYnRmdC9m
YnRmdC1pby5jCmluZGV4IDA4NjNkMjU3ZDc2Mi4uZGUxOTA0YTQ0M2MyIDEwMDY0NAotLS0gYS9k
cml2ZXJzL3N0YWdpbmcvZmJ0ZnQvZmJ0ZnQtaW8uYworKysgYi9kcml2ZXJzL3N0YWdpbmcvZmJ0
ZnQvZmJ0ZnQtaW8uYwpAQCAtMTQyLDEyICsxNDIsMTIgQEAgaW50IGZidGZ0X3dyaXRlX2dwaW84
X3dyKHN0cnVjdCBmYnRmdF9wYXIgKnBhciwgdm9pZCAqYnVmLCBzaXplX3QgbGVuKQogCQlkYXRh
ID0gKih1OCAqKWJ1ZjsKIAogCQkvKiBTdGFydCB3cml0aW5nIGJ5IHB1bGxpbmcgZG93biAvV1Ig
Ki8KLQkJZ3Bpb2Rfc2V0X3ZhbHVlKHBhci0+Z3Bpby53ciwgMCk7CisJCWdwaW9kX3NldF92YWx1
ZShwYXItPmdwaW8ud3IsIDEpOwogCiAJCS8qIFNldCBkYXRhICovCiAjaWZuZGVmIERPX05PVF9P
UFRJTUlaRV9GQlRGVF9XUklURV9HUElPCiAJCWlmIChkYXRhID09IHByZXZfZGF0YSkgewotCQkJ
Z3Bpb2Rfc2V0X3ZhbHVlKHBhci0+Z3Bpby53ciwgMCk7IC8qIHVzZWQgYXMgZGVsYXkgKi8KKwkJ
CWdwaW9kX3NldF92YWx1ZShwYXItPmdwaW8ud3IsIDEpOyAvKiB1c2VkIGFzIGRlbGF5ICovCiAJ
CX0gZWxzZSB7CiAJCQlmb3IgKGkgPSAwOyBpIDwgODsgaSsrKSB7CiAJCQkJaWYgKChkYXRhICYg
MSkgIT0gKHByZXZfZGF0YSAmIDEpKQpAQCAtMTY1LDcgKzE2NSw3IEBAIGludCBmYnRmdF93cml0
ZV9ncGlvOF93cihzdHJ1Y3QgZmJ0ZnRfcGFyICpwYXIsIHZvaWQgKmJ1Ziwgc2l6ZV90IGxlbikK
ICNlbmRpZgogCiAJCS8qIFB1bGx1cCAvV1IgKi8KLQkJZ3Bpb2Rfc2V0X3ZhbHVlKHBhci0+Z3Bp
by53ciwgMSk7CisJCWdwaW9kX3NldF92YWx1ZShwYXItPmdwaW8ud3IsIDApOwogCiAjaWZuZGVm
IERPX05PVF9PUFRJTUlaRV9GQlRGVF9XUklURV9HUElPCiAJCXByZXZfZGF0YSA9ICoodTggKili
dWY7CkBAIC0xOTIsMTIgKzE5MiwxMiBAQCBpbnQgZmJ0ZnRfd3JpdGVfZ3BpbzE2X3dyKHN0cnVj
dCBmYnRmdF9wYXIgKnBhciwgdm9pZCAqYnVmLCBzaXplX3QgbGVuKQogCQlkYXRhID0gKih1MTYg
KilidWY7CiAKIAkJLyogU3RhcnQgd3JpdGluZyBieSBwdWxsaW5nIGRvd24gL1dSICovCi0JCWdw
aW9kX3NldF92YWx1ZShwYXItPmdwaW8ud3IsIDApOworCQlncGlvZF9zZXRfdmFsdWUocGFyLT5n
cGlvLndyLCAxKTsKIAogCQkvKiBTZXQgZGF0YSAqLwogI2lmbmRlZiBET19OT1RfT1BUSU1JWkVf
RkJURlRfV1JJVEVfR1BJTwogCQlpZiAoZGF0YSA9PSBwcmV2X2RhdGEpIHsKLQkJCWdwaW9kX3Nl
dF92YWx1ZShwYXItPmdwaW8ud3IsIDApOyAvKiB1c2VkIGFzIGRlbGF5ICovCisJCQlncGlvZF9z
ZXRfdmFsdWUocGFyLT5ncGlvLndyLCAxKTsgLyogdXNlZCBhcyBkZWxheSAqLwogCQl9IGVsc2Ug
ewogCQkJZm9yIChpID0gMDsgaSA8IDE2OyBpKyspIHsKIAkJCQlpZiAoKGRhdGEgJiAxKSAhPSAo
cHJldl9kYXRhICYgMSkpCkBAIC0yMTUsNyArMjE1LDcgQEAgaW50IGZidGZ0X3dyaXRlX2dwaW8x
Nl93cihzdHJ1Y3QgZmJ0ZnRfcGFyICpwYXIsIHZvaWQgKmJ1Ziwgc2l6ZV90IGxlbikKICNlbmRp
ZgogCiAJCS8qIFB1bGx1cCAvV1IgKi8KLQkJZ3Bpb2Rfc2V0X3ZhbHVlKHBhci0+Z3Bpby53ciwg
MSk7CisJCWdwaW9kX3NldF92YWx1ZShwYXItPmdwaW8ud3IsIDApOwogCiAjaWZuZGVmIERPX05P
VF9PUFRJTUlaRV9GQlRGVF9XUklURV9HUElPCiAJCXByZXZfZGF0YSA9ICoodTE2ICopYnVmOwot
LSAKMi4zMC4yCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
XwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcK
aHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWwK
