Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 2C7279D04A
	for <lists+dri-devel@lfdr.de>; Mon, 26 Aug 2019 15:22:38 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AA01A6E207;
	Mon, 26 Aug 2019 13:22:29 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga07.intel.com (mga07.intel.com [134.134.136.100])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 482FD6E155;
 Mon, 26 Aug 2019 13:22:24 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga002.fm.intel.com ([10.253.24.26])
 by orsmga105.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 26 Aug 2019 06:22:24 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,433,1559545200"; d="scan'208";a="209363498"
Received: from ovasilev-desk1.fi.intel.com ([10.237.72.57])
 by fmsmga002.fm.intel.com with ESMTP; 26 Aug 2019 06:22:22 -0700
From: Oleg Vasilev <oleg.vasilev@intel.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH v3 3/7] drm: report dp downstream port type as a subconnector
 property
Date: Mon, 26 Aug 2019 16:22:12 +0300
Message-Id: <20190826132216.2823-4-oleg.vasilev@intel.com>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20190826132216.2823-1-oleg.vasilev@intel.com>
References: <20190826132216.2823-1-oleg.vasilev@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: intel-gfx@lists.freedesktop.org, Emil Velikov <emil.velikov@collabora.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Q3VycmVudGx5LCBkb3duc3RyZWFtIHBvcnQgdHlwZSBpcyBvbmx5IHJlcG9ydGVkIGluIGRlYnVn
ZnMuIFRoaXMKaW5mb3JtYXRpb24gc2hvdWxkIGJlIGNvbnNpZGVyZWQgaW1wb3J0YW50IHNpbmNl
IGl0IHJlZmxlY3RzIHRoZSBhY3R1YWwKcGh5c2ljYWwgY29ubmVjdG9yIHR5cGUuIFNvbWUgdXNl
cnNwYWNlIChlLmcuIHdpbmRvdyBjb21wb3NpdG9ycykKbWF5IHdhbnQgdG8gc2hvdyB0aGlzIGlu
Zm8gdG8gYSB1c2VyLgoKVGhlICdzdWJjb25uZWN0b3InIHByb3BlcnR5IGlzIGFscmVhZHkgdXRp
bGl6ZWQgZm9yIERWSS1JIGFuZCBUVi1vdXQgZm9yCnJlcG9ydGluZyBjb25uZWN0b3Igc3VidHlw
ZS4KClRoZSBpbml0aWFsIG1vdGl2YXRpb24gZm9yIHRoaXMgZmVhdHVyZSBjYW1lIGZyb20gaTJj
IHRlc3QgWzFdLgpJdCBpcyBzdXBwb3NlZCB0byBiZSBza2lwcGVkIG9uIFZHQSBjb25uZWN0b3Jz
LCBidXQgaXQgY2Fubm90CmRldGVjdCBWR0Egb3ZlciBEUCBhbmQgZmFpbHMgaW5zdGVhZC4KCnYy
OgogLSBWaWxsZTogdXRpbGl6ZWQgZHJtX2RwX2lzX2JyYW5jaCgpCiAtIFZpbGxlOiBpbXBsZW1l
bnQgRFAgMS4wIGRvd25zdHJlYW0gdHlwZSBpbmZvCiAtIFJlcGxhY2VkIGNyZWF0ZV9kcF9wcm9w
ZXJ0aWVzIHdpdGggYWRkX2RwX3N1YmNvbm5lY3Rvcl9wcm9wZXJ0eQogLSBBZGRlZCBkcF9zZXRf
c3ViY29ubmVjdG9yX3Byb3BlcnR5IGhlbHBlcgoKWzFdOiBodHRwczovL2J1Z3MuZnJlZWRlc2t0
b3Aub3JnL3Nob3dfYnVnLmNnaT9pZD0xMDQwOTcKClJldmlld2VkLWJ5OiBFbWlsIFZlbGlrb3Yg
PGVtaWwudmVsaWtvdkBjb2xsYWJvcmEuY29tPgpTaWduZWQtb2ZmLWJ5OiBPbGVnIFZhc2lsZXYg
PG9sZWcudmFzaWxldkBpbnRlbC5jb20+CkNjOiBWaWxsZSBTeXJqw6Rsw6QgPHZpbGxlLnN5cmph
bGFAbGludXguaW50ZWwuY29tPgpDYzogaW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwot
LS0KIGRyaXZlcnMvZ3B1L2RybS9kcm1fY29ubmVjdG9yLmMgfCA0OSArKysrKysrKysrKysrKysr
KysrKysrKy0KIGRyaXZlcnMvZ3B1L2RybS9kcm1fZHBfaGVscGVyLmMgfCA2OCArKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysKIGluY2x1ZGUvZHJtL2RybV9jb25uZWN0b3IuaCAgICAg
fCAgMyArKwogaW5jbHVkZS9kcm0vZHJtX2RwX2hlbHBlci5oICAgICB8ICA4ICsrKysKIGluY2x1
ZGUvZHJtL2RybV9tb2RlX2NvbmZpZy5oICAgfCAgNiArKysKIGluY2x1ZGUvdWFwaS9kcm0vZHJt
X21vZGUuaCAgICAgfCAyMiArKysrKysrLS0tLQogNiBmaWxlcyBjaGFuZ2VkLCAxNDYgaW5zZXJ0
aW9ucygrKSwgMTAgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2Ry
bV9jb25uZWN0b3IuYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fY29ubmVjdG9yLmMKaW5kZXggNGM3
NjY2MjRiMjBkLi40N2UzNDY2ODkxZGIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9kcm1f
Y29ubmVjdG9yLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2RybV9jb25uZWN0b3IuYwpAQCAtODI5
LDcgKzgyOSw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX3Byb3BfZW51bV9saXN0IGRybV9k
dmlfaV9zZWxlY3RfZW51bV9saXN0W10gPSB7CiBEUk1fRU5VTV9OQU1FX0ZOKGRybV9nZXRfZHZp
X2lfc2VsZWN0X25hbWUsIGRybV9kdmlfaV9zZWxlY3RfZW51bV9saXN0KQogCiBzdGF0aWMgY29u
c3Qgc3RydWN0IGRybV9wcm9wX2VudW1fbGlzdCBkcm1fZHZpX2lfc3ViY29ubmVjdG9yX2VudW1f
bGlzdFtdID0gewotCXsgRFJNX01PREVfU1VCQ09OTkVDVE9SX1Vua25vd24sICAgIlVua25vd24i
ICAgfSwgLyogRFZJLUkgYW5kIFRWLW91dCAqLworCXsgRFJNX01PREVfU1VCQ09OTkVDVE9SX1Vu
a25vd24sICAgIlVua25vd24iICAgfSwgLyogRFZJLUksIFRWLW91dCBhbmQgRFAgKi8KIAl7IERS
TV9NT0RFX1NVQkNPTk5FQ1RPUl9EVklELCAgICAgICJEVkktRCIgICAgIH0sIC8qIERWSS1JICAq
LwogCXsgRFJNX01PREVfU1VCQ09OTkVDVE9SX0RWSUEsICAgICAgIkRWSS1BIiAgICAgfSwgLyog
RFZJLUkgICovCiB9OwpAQCAtODQ2LDcgKzg0Niw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJt
X3Byb3BfZW51bV9saXN0IGRybV90dl9zZWxlY3RfZW51bV9saXN0W10gPSB7CiBEUk1fRU5VTV9O
QU1FX0ZOKGRybV9nZXRfdHZfc2VsZWN0X25hbWUsIGRybV90dl9zZWxlY3RfZW51bV9saXN0KQog
CiBzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9wcm9wX2VudW1fbGlzdCBkcm1fdHZfc3ViY29ubmVj
dG9yX2VudW1fbGlzdFtdID0gewotCXsgRFJNX01PREVfU1VCQ09OTkVDVE9SX1Vua25vd24sICAg
IlVua25vd24iICAgfSwgLyogRFZJLUkgYW5kIFRWLW91dCAqLworCXsgRFJNX01PREVfU1VCQ09O
TkVDVE9SX1Vua25vd24sICAgIlVua25vd24iICAgfSwgLyogRFZJLUksIFRWLW91dCBhbmQgRFAg
Ki8KIAl7IERSTV9NT0RFX1NVQkNPTk5FQ1RPUl9Db21wb3NpdGUsICJDb21wb3NpdGUiIH0sIC8q
IFRWLW91dCAqLwogCXsgRFJNX01PREVfU1VCQ09OTkVDVE9SX1NWSURFTywgICAgIlNWSURFTyIg
ICAgfSwgLyogVFYtb3V0ICovCiAJeyBEUk1fTU9ERV9TVUJDT05ORUNUT1JfQ29tcG9uZW50LCAi
Q29tcG9uZW50IiB9LCAvKiBUVi1vdXQgKi8KQEAgLTg1NSw2ICs4NTUsMTkgQEAgc3RhdGljIGNv
bnN0IHN0cnVjdCBkcm1fcHJvcF9lbnVtX2xpc3QgZHJtX3R2X3N1YmNvbm5lY3Rvcl9lbnVtX2xp
c3RbXSA9IHsKIERSTV9FTlVNX05BTUVfRk4oZHJtX2dldF90dl9zdWJjb25uZWN0b3JfbmFtZSwK
IAkJIGRybV90dl9zdWJjb25uZWN0b3JfZW51bV9saXN0KQogCitzdGF0aWMgY29uc3Qgc3RydWN0
IGRybV9wcm9wX2VudW1fbGlzdCBkcm1fZHBfc3ViY29ubmVjdG9yX2VudW1fbGlzdFtdID0gewor
CXsgRFJNX01PREVfU1VCQ09OTkVDVE9SX1Vua25vd24sICAgIlVua25vd24iICAgfSwgLyogRFZJ
LUksIFRWLW91dCBhbmQgRFAgKi8KKwl7IERSTV9NT0RFX1NVQkNPTk5FQ1RPUl9WR0EsCSAgICJW
R0EiICAgICAgIH0sIC8qIERQICovCisJeyBEUk1fTU9ERV9TVUJDT05ORUNUT1JfRFZJLAkgICAi
RFZJIiAgICAgICB9LCAvKiBEUCAqLworCXsgRFJNX01PREVfU1VCQ09OTkVDVE9SX0hETUksCSAg
ICJIRE1JIiAgICAgIH0sIC8qIERQICovCisJeyBEUk1fTU9ERV9TVUJDT05ORUNUT1JfRFAsICAg
ICAgICAiRFAiICAgICAgICB9LCAvKiBEUCAqLworCXsgRFJNX01PREVfU1VCQ09OTkVDVE9SX1dp
cmVsZXNzLCAgIldpcmVsZXNzIiAgfSwgLyogRFAgKi8KKwl7IERSTV9NT0RFX1NVQkNPTk5FQ1RP
Ul9OYXRpdmUsCSAgICJOYXRpdmUiICAgIH0sIC8qIERQICovCit9OworCitEUk1fRU5VTV9OQU1F
X0ZOKGRybV9nZXRfZHBfc3ViY29ubmVjdG9yX25hbWUsCisJCSBkcm1fZHBfc3ViY29ubmVjdG9y
X2VudW1fbGlzdCkKKwogc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fcHJvcF9lbnVtX2xpc3QgaGRt
aV9jb2xvcnNwYWNlc1tdID0gewogCS8qIEZvciBEZWZhdWx0IGNhc2UsIGRyaXZlciB3aWxsIHNl
dCB0aGUgY29sb3JzcGFjZSAqLwogCXsgRFJNX01PREVfQ09MT1JJTUVUUllfREVGQVVMVCwgIkRl
ZmF1bHQiIH0sCkBAIC0xMTM4LDYgKzExNTEsMTQgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1f
cHJvcF9lbnVtX2xpc3QgaGRtaV9jb2xvcnNwYWNlc1tdID0gewogICoJY2FuIGFsc28gZXhwb3Nl
IHRoaXMgcHJvcGVydHkgdG8gZXh0ZXJuYWwgb3V0cHV0cywgaW4gd2hpY2ggY2FzZSB0aGV5CiAg
KgltdXN0IHN1cHBvcnQgIk5vbmUiLCB3aGljaCBzaG91bGQgYmUgdGhlIGRlZmF1bHQgKHNpbmNl
IGV4dGVybmFsIHNjcmVlbnMKICAqCWhhdmUgYSBidWlsdC1pbiBzY2FsZXIpLgorICoKKyAqIHN1
YmNvbm5lY3RvcjoKKyAqCVRoaXMgcHJvcGVydHkgaXMgdXNlZCBieSBEVkktSSwgVFZvdXQgYW5k
IERpc3BsYXlQb3J0IHRvIGluZGljYXRlIGRpZmZlcmVudAorICoJY29ubmVjdG9yIHN1YnR5cGVz
LiBFbnVtIHZhbHVlcyBtb3JlIG9yIGxlc3MgbWF0Y2ggd2l0aCB0aG9zZSBmcm9tIG1haW4KKyAq
CWNvbm5lY3RvciB0eXBlcy4KKyAqCUZvciBEVkktSSBhbmQgVFZvdXQgdGhlcmUgaXMgYWxzbyBh
IG1hdGNoaW5nIHByb3BlcnR5ICJzZWxlY3Qgc3ViY29ubmVjdG9yIgorICoJYWxsb3dpbmcgdG8g
c3dpdGNoIGJldHdlZW4gc2lnbmFsIHR5cGVzLgorICoJRFAgc3ViY29ubmVjdG9yIGNvcnJlc3Bv
bmRzIHRvIGEgZG93bnN0cmVhbSBwb3J0LgogICovCiAKIGludCBkcm1fY29ubmVjdG9yX2NyZWF0
ZV9zdGFuZGFyZF9wcm9wZXJ0aWVzKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYpCkBAIC0xMjI2LDYg
KzEyNDcsMzAgQEAgaW50IGRybV9tb2RlX2NyZWF0ZV9kdmlfaV9wcm9wZXJ0aWVzKHN0cnVjdCBk
cm1fZGV2aWNlICpkZXYpCiB9CiBFWFBPUlRfU1lNQk9MKGRybV9tb2RlX2NyZWF0ZV9kdmlfaV9w
cm9wZXJ0aWVzKTsKIAorLyoqCisgKiBkcm1fbW9kZV9hZGRfZHBfc3ViY29ubmVjdG9yX3Byb3Bl
cnR5IC0gY3JlYXRlIHN1YmNvbm5lY3RvciBwcm9wZXJ0eSBmb3IgRFAKKyAqIEBjb25uZWN0b3I6
IGRybV9jb25uZWN0b3IgdG8gYXR0YWNoIHByb3BlcnR5CisgKgorICogQ2FsbGVkIGJ5IGEgZHJp
dmVyIHdoZW4gRFAgY29ubmVjdG9yIGlzIGNyZWF0ZWQuCisgKi8KK3ZvaWQgZHJtX21vZGVfYWRk
X2RwX3N1YmNvbm5lY3Rvcl9wcm9wZXJ0eShzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9y
KQoreworCXN0cnVjdCBkcm1fbW9kZV9jb25maWcgKm1vZGVfY29uZmlnID0gJmNvbm5lY3Rvci0+
ZGV2LT5tb2RlX2NvbmZpZzsKKworCWlmICghbW9kZV9jb25maWctPmRwX3N1YmNvbm5lY3Rvcl9w
cm9wZXJ0eSkKKwkJbW9kZV9jb25maWctPmRwX3N1YmNvbm5lY3Rvcl9wcm9wZXJ0eSA9CisJCQlk
cm1fcHJvcGVydHlfY3JlYXRlX2VudW0oY29ubmVjdG9yLT5kZXYsCisJCQkJRFJNX01PREVfUFJP
UF9JTU1VVEFCTEUsCisJCQkJInN1YmNvbm5lY3RvciIsCisJCQkJZHJtX2RwX3N1YmNvbm5lY3Rv
cl9lbnVtX2xpc3QsCisJCQkJQVJSQVlfU0laRShkcm1fZHBfc3ViY29ubmVjdG9yX2VudW1fbGlz
dCkpOworCisJZHJtX29iamVjdF9hdHRhY2hfcHJvcGVydHkoJmNvbm5lY3Rvci0+YmFzZSwKKwkJ
CQkgICBtb2RlX2NvbmZpZy0+ZHBfc3ViY29ubmVjdG9yX3Byb3BlcnR5LAorCQkJCSAgIERSTV9N
T0RFX1NVQkNPTk5FQ1RPUl9Vbmtub3duKTsKK30KK0VYUE9SVF9TWU1CT0woZHJtX21vZGVfYWRk
X2RwX3N1YmNvbm5lY3Rvcl9wcm9wZXJ0eSk7CisKIC8qKgogICogRE9DOiBIRE1JIGNvbm5lY3Rv
ciBwcm9wZXJ0aWVzCiAgKgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2RybV9kcF9oZWxw
ZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fZHBfaGVscGVyLmMKaW5kZXggMTQzMjA5MzAwOTFi
Li5iY2ExMTZjYmM1OGYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fZHBfaGVscGVy
LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2RybV9kcF9oZWxwZXIuYwpAQCAtNjM4LDYgKzYzOCw3
NCBAQCB2b2lkIGRybV9kcF9kb3duc3RyZWFtX2RlYnVnKHN0cnVjdCBzZXFfZmlsZSAqbSwKIH0K
IEVYUE9SVF9TWU1CT0woZHJtX2RwX2Rvd25zdHJlYW1fZGVidWcpOwogCisvKioKKyAqIGRybV9k
cF9zdWJjb25uZWN0b3JfdHlwZSgpIC0gZ2V0IERQIGJyYW5jaCBkZXZpY2UgdHlwZQorICogQGRw
Y2Q6IERpc3BsYXlQb3J0IGNvbmZpZ3VyYXRpb24gZGF0YQorICogQHBvcnRfY2FwOiBwb3J0IGNh
cGFiaWxpdGllcworICoKKyAqLworZW51bSBkcm1fbW9kZV9zdWJjb25uZWN0b3IKK2RybV9kcF9z
dWJjb25uZWN0b3JfdHlwZShjb25zdCB1OCBkcGNkW0RQX1JFQ0VJVkVSX0NBUF9TSVpFXSwKKwkJ
CSBjb25zdCB1OCBwb3J0X2NhcFs0XSkKK3sKKwlpbnQgdHlwZTsKKwlib29sIGJyYW5jaF9kZXZp
Y2VfcHJlc2VudCA9IGRybV9kcF9pc19icmFuY2goZHBjZCk7CisKKwlpZiAoIWJyYW5jaF9kZXZp
Y2VfcHJlc2VudCkKKwkJcmV0dXJuIERSTV9NT0RFX1NVQkNPTk5FQ1RPUl9OYXRpdmU7CisJLyog
RFAgMS4wIGFwcHJvYWNoICovCisJaWYgKGRwY2RbRFBfRFBDRF9SRVZdID09IERQX0RQQ0RfUkVW
XzEwKSB7CisJCXR5cGUgPSBkcGNkW0RQX0RPV05TVFJFQU1QT1JUX1BSRVNFTlRdICYKKwkJICAg
ICAgIERQX0RXTl9TVFJNX1BPUlRfVFlQRV9NQVNLOworCQlpZiAodHlwZSA9PSBEUF9EV05fU1RS
TV9QT1JUX1RZUEVfRFApCisJCQlyZXR1cm4gRFJNX01PREVfU1VCQ09OTkVDVE9SX0RQOworCQly
ZXR1cm4gRFJNX01PREVfU1VCQ09OTkVDVE9SX1Vua25vd247CisJfQorCXR5cGUgPSBwb3J0X2Nh
cFswXSAmIERQX0RTX1BPUlRfVFlQRV9NQVNLOworCisJc3dpdGNoICh0eXBlKSB7CisJY2FzZSBE
UF9EU19QT1JUX1RZUEVfRFA6CisJY2FzZSBEUF9EU19QT1JUX1RZUEVfRFBfRFVBTE1PREU6CisJ
CXJldHVybiBEUk1fTU9ERV9TVUJDT05ORUNUT1JfRFA7CisJY2FzZSBEUF9EU19QT1JUX1RZUEVf
VkdBOgorCQlyZXR1cm4gRFJNX01PREVfU1VCQ09OTkVDVE9SX1ZHQTsKKwljYXNlIERQX0RTX1BP
UlRfVFlQRV9EVkk6CisJCXJldHVybiBEUk1fTU9ERV9TVUJDT05ORUNUT1JfRFZJOworCWNhc2Ug
RFBfRFNfUE9SVF9UWVBFX0hETUk6CisJCXJldHVybiBEUk1fTU9ERV9TVUJDT05ORUNUT1JfSERN
STsKKwljYXNlIERQX0RTX1BPUlRfVFlQRV9XSVJFTEVTUzoKKwkJcmV0dXJuIERSTV9NT0RFX1NV
QkNPTk5FQ1RPUl9XaXJlbGVzczsKKwljYXNlIERQX0RTX1BPUlRfVFlQRV9OT05fRURJRDoKKwlk
ZWZhdWx0OgorCQlyZXR1cm4gRFJNX01PREVfU1VCQ09OTkVDVE9SX1Vua25vd247CisJfQorfQor
RVhQT1JUX1NZTUJPTChkcm1fZHBfc3ViY29ubmVjdG9yX3R5cGUpOworCisvKioKKyAqIGRybV9t
b2RlX3NldF9kcF9zdWJjb25uZWN0b3JfcHJvcGVydHkgLSBzZXQgc3ViY29ubmVjdG9yIGZvciBE
UCBjb25uZWN0b3IKKyAqIEBjb25uZWN0b3I6IGRwIGNvbm5lY3RvciB0byBhdHRhY2ggcHJvcGVy
dHkKKyAqIEBzdGF0dXM6IGNvbm5lY3RvciBzdGF0dXMgd2hpY2ggaXMgYWJvdXQgdG8gYmUgc2V0
CisgKiBAZHBjZDogRGlzcGxheVBvcnQgY29uZmlndXJhdGlvbiBkYXRhCisgKiBAcG9ydF9jYXA6
IHBvcnQgY2FwYWJpbGl0aWVzCisgKgorICogQ2FsbGVkIGJ5IGEgZHJpdmVyIG9uIGV2ZXJ5IGRl
dGVjdCBldmVudC4KKyAqLwordm9pZCBkcm1fZHBfc2V0X3N1YmNvbm5lY3Rvcl9wcm9wZXJ0eShz
dHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yLAorCQkJCSAgICAgIGVudW0gZHJtX2Nvbm5l
Y3Rvcl9zdGF0dXMgc3RhdHVzLAorCQkJCSAgICAgIGNvbnN0IHU4ICpkcGNkLAorCQkJCSAgICAg
IGNvbnN0IHU4IHBvcnRfY2FwWzRdKQoreworCWVudW0gZHJtX21vZGVfc3ViY29ubmVjdG9yIHN1
YmNvbm5lY3RvciA9IERSTV9NT0RFX1NVQkNPTk5FQ1RPUl9Vbmtub3duOworCisJaWYgKHN0YXR1
cyA9PSBjb25uZWN0b3Jfc3RhdHVzX2Nvbm5lY3RlZCkKKwkJc3ViY29ubmVjdG9yID0gZHJtX2Rw
X3N1YmNvbm5lY3Rvcl90eXBlKGRwY2QsIHBvcnRfY2FwKTsKKwlkcm1fb2JqZWN0X3Byb3BlcnR5
X3NldF92YWx1ZSgmY29ubmVjdG9yLT5iYXNlLAorCQkJY29ubmVjdG9yLT5kZXYtPm1vZGVfY29u
ZmlnLmRwX3N1YmNvbm5lY3Rvcl9wcm9wZXJ0eSwKKwkJCXN1YmNvbm5lY3Rvcik7Cit9CitFWFBP
UlRfU1lNQk9MKGRybV9kcF9zZXRfc3ViY29ubmVjdG9yX3Byb3BlcnR5KTsKKwogLyoKICAqIEky
Qy1vdmVyLUFVWCBpbXBsZW1lbnRhdGlvbgogICovCmRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS9k
cm1fY29ubmVjdG9yLmggYi9pbmNsdWRlL2RybS9kcm1fY29ubmVjdG9yLmgKaW5kZXggNjgxY2I1
OTBmOTUyLi4xMTk2MDZmY2Q1OWYgMTAwNjQ0Ci0tLSBhL2luY2x1ZGUvZHJtL2RybV9jb25uZWN0
b3IuaAorKysgYi9pbmNsdWRlL2RybS9kcm1fY29ubmVjdG9yLmgKQEAgLTE1MDcsMTAgKzE1MDcs
MTMgQEAgY29uc3QgY2hhciAqZHJtX2dldF9kdmlfaV9zdWJjb25uZWN0b3JfbmFtZShpbnQgdmFs
KTsKIGNvbnN0IGNoYXIgKmRybV9nZXRfZHZpX2lfc2VsZWN0X25hbWUoaW50IHZhbCk7CiBjb25z
dCBjaGFyICpkcm1fZ2V0X3R2X3N1YmNvbm5lY3Rvcl9uYW1lKGludCB2YWwpOwogY29uc3QgY2hh
ciAqZHJtX2dldF90dl9zZWxlY3RfbmFtZShpbnQgdmFsKTsKK2NvbnN0IGNoYXIgKmRybV9nZXRf
ZHBfc3ViY29ubmVjdG9yX25hbWUoaW50IHZhbCk7CiBjb25zdCBjaGFyICpkcm1fZ2V0X2NvbnRl
bnRfcHJvdGVjdGlvbl9uYW1lKGludCB2YWwpOwogY29uc3QgY2hhciAqZHJtX2dldF9oZGNwX2Nv
bnRlbnRfdHlwZV9uYW1lKGludCB2YWwpOwogCiBpbnQgZHJtX21vZGVfY3JlYXRlX2R2aV9pX3By
b3BlcnRpZXMoc3RydWN0IGRybV9kZXZpY2UgKmRldik7Cit2b2lkIGRybV9tb2RlX2FkZF9kcF9z
dWJjb25uZWN0b3JfcHJvcGVydHkoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3Rvcik7CisK
IGludCBkcm1fbW9kZV9jcmVhdGVfdHZfbWFyZ2luX3Byb3BlcnRpZXMoc3RydWN0IGRybV9kZXZp
Y2UgKmRldik7CiBpbnQgZHJtX21vZGVfY3JlYXRlX3R2X3Byb3BlcnRpZXMoc3RydWN0IGRybV9k
ZXZpY2UgKmRldiwKIAkJCQkgIHVuc2lnbmVkIGludCBudW1fbW9kZXMsCmRpZmYgLS1naXQgYS9p
bmNsdWRlL2RybS9kcm1fZHBfaGVscGVyLmggYi9pbmNsdWRlL2RybS9kcm1fZHBfaGVscGVyLmgK
aW5kZXggMWFlYTNlMDgxMGRiLi4xZmVjM2M3MzEwMTcgMTAwNjQ0Ci0tLSBhL2luY2x1ZGUvZHJt
L2RybV9kcF9oZWxwZXIuaAorKysgYi9pbmNsdWRlL2RybS9kcm1fZHBfaGVscGVyLmgKQEAgLTI2
LDYgKzI2LDcgQEAKICNpbmNsdWRlIDxsaW51eC90eXBlcy5oPgogI2luY2x1ZGUgPGxpbnV4L2ky
Yy5oPgogI2luY2x1ZGUgPGxpbnV4L2RlbGF5Lmg+CisjaW5jbHVkZSA8ZHJtL2RybV9jb25uZWN0
b3IuaD4KIAogLyoKICAqIFVubGVzcyBvdGhlcndpc2Ugbm90ZWQsIGFsbCB2YWx1ZXMgYXJlIGZy
b20gdGhlIERQIDEuMWEgc3BlYy4gIE5vdGUgdGhhdApAQCAtMTM3OCw2ICsxMzc5LDEzIEBAIGlu
dCBkcm1fZHBfZG93bnN0cmVhbV9tYXhfYnBjKGNvbnN0IHU4IGRwY2RbRFBfUkVDRUlWRVJfQ0FQ
X1NJWkVdLAogaW50IGRybV9kcF9kb3duc3RyZWFtX2lkKHN0cnVjdCBkcm1fZHBfYXV4ICphdXgs
IGNoYXIgaWRbNl0pOwogdm9pZCBkcm1fZHBfZG93bnN0cmVhbV9kZWJ1ZyhzdHJ1Y3Qgc2VxX2Zp
bGUgKm0sIGNvbnN0IHU4IGRwY2RbRFBfUkVDRUlWRVJfQ0FQX1NJWkVdLAogCQkJICAgICBjb25z
dCB1OCBwb3J0X2NhcFs0XSwgc3RydWN0IGRybV9kcF9hdXggKmF1eCk7CitlbnVtIGRybV9tb2Rl
X3N1YmNvbm5lY3RvcgorZHJtX2RwX3N1YmNvbm5lY3Rvcl90eXBlKGNvbnN0IHU4IGRwY2RbRFBf
UkVDRUlWRVJfQ0FQX1NJWkVdLAorCQkJIGNvbnN0IHU4IHBvcnRfY2FwWzRdKTsKK3ZvaWQgZHJt
X2RwX3NldF9zdWJjb25uZWN0b3JfcHJvcGVydHkoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5l
Y3RvciwKKwkJCQkgICAgICBlbnVtIGRybV9jb25uZWN0b3Jfc3RhdHVzIHN0YXR1cywKKwkJCQkg
ICAgICBjb25zdCB1OCAqZHBjZCwKKwkJCQkgICAgICBjb25zdCB1OCBwb3J0X2NhcFs0XSk7CiAK
IHZvaWQgZHJtX2RwX2F1eF9pbml0KHN0cnVjdCBkcm1fZHBfYXV4ICphdXgpOwogaW50IGRybV9k
cF9hdXhfcmVnaXN0ZXIoc3RydWN0IGRybV9kcF9hdXggKmF1eCk7CmRpZmYgLS1naXQgYS9pbmNs
dWRlL2RybS9kcm1fbW9kZV9jb25maWcuaCBiL2luY2x1ZGUvZHJtL2RybV9tb2RlX2NvbmZpZy5o
CmluZGV4IDNiY2JlMzAzMzlmMC4uNzMyZDUxOTUxYmNlIDEwMDY0NAotLS0gYS9pbmNsdWRlL2Ry
bS9kcm1fbW9kZV9jb25maWcuaAorKysgYi9pbmNsdWRlL2RybS9kcm1fbW9kZV9jb25maWcuaApA
QCAtNjgwLDYgKzY4MCwxMiBAQCBzdHJ1Y3QgZHJtX21vZGVfY29uZmlnIHsKIAkgKi8KIAlzdHJ1
Y3QgZHJtX3Byb3BlcnR5ICpkdmlfaV9zZWxlY3Rfc3ViY29ubmVjdG9yX3Byb3BlcnR5OwogCisJ
LyoqCisJICogQGRwX3N1YmNvbm5lY3Rvcl9wcm9wZXJ0eTogT3B0aW9uYWwgRFAgcHJvcGVydHkg
dG8gZGlmZmVyZW50aWF0ZQorCSAqIGJldHdlZW4gZGlmZmVyZW50IERQIGRvd25zdHJlYW0gcG9y
dCB0eXBlcy4KKwkgKi8KKwlzdHJ1Y3QgZHJtX3Byb3BlcnR5ICpkcF9zdWJjb25uZWN0b3JfcHJv
cGVydHk7CisKIAkvKioKIAkgKiBAdHZfc3ViY29ubmVjdG9yX3Byb3BlcnR5OiBPcHRpb25hbCBU
ViBwcm9wZXJ0eSB0byBkaWZmZXJlbnRpYXRlCiAJICogYmV0d2VlbiBkaWZmZXJlbnQgVFYgY29u
bmVjdG9yIHR5cGVzLgpkaWZmIC0tZ2l0IGEvaW5jbHVkZS91YXBpL2RybS9kcm1fbW9kZS5oIGIv
aW5jbHVkZS91YXBpL2RybS9kcm1fbW9kZS5oCmluZGV4IDczNWM4Y2ZkYWFhMS4uODBlMzExOGZl
ZTEzIDEwMDY0NAotLS0gYS9pbmNsdWRlL3VhcGkvZHJtL2RybV9tb2RlLmgKKysrIGIvaW5jbHVk
ZS91YXBpL2RybS9kcm1fbW9kZS5oCkBAIC0zMzIsMTQgKzMzMiwyMCBAQCBzdHJ1Y3QgZHJtX21v
ZGVfZ2V0X2VuY29kZXIgewogLyogVGhpcyBpcyBmb3IgY29ubmVjdG9ycyB3aXRoIG11bHRpcGxl
IHNpZ25hbCB0eXBlcy4gKi8KIC8qIFRyeSB0byBtYXRjaCBEUk1fTU9ERV9DT05ORUNUT1JfWCBh
cyBjbG9zZWx5IGFzIHBvc3NpYmxlLiAqLwogZW51bSBkcm1fbW9kZV9zdWJjb25uZWN0b3Igewot
CURSTV9NT0RFX1NVQkNPTk5FQ1RPUl9BdXRvbWF0aWMgPSAwLAotCURSTV9NT0RFX1NVQkNPTk5F
Q1RPUl9Vbmtub3duID0gMCwKLQlEUk1fTU9ERV9TVUJDT05ORUNUT1JfRFZJRCA9IDMsCi0JRFJN
X01PREVfU1VCQ09OTkVDVE9SX0RWSUEgPSA0LAotCURSTV9NT0RFX1NVQkNPTk5FQ1RPUl9Db21w
b3NpdGUgPSA1LAotCURSTV9NT0RFX1NVQkNPTk5FQ1RPUl9TVklERU8gPSA2LAotCURSTV9NT0RF
X1NVQkNPTk5FQ1RPUl9Db21wb25lbnQgPSA4LAotCURSTV9NT0RFX1NVQkNPTk5FQ1RPUl9TQ0FS
VCA9IDksCisJRFJNX01PREVfU1VCQ09OTkVDVE9SX0F1dG9tYXRpYyAgPSAwLCAgLyogRFZJLUks
IFRWICAgICAqLworCURSTV9NT0RFX1NVQkNPTk5FQ1RPUl9Vbmtub3duICAgID0gMCwgIC8qIERW
SS1JLCBUViwgRFAgKi8KKwlEUk1fTU9ERV9TVUJDT05ORUNUT1JfVkdBCSA9IDEsICAvKiAgICAg
ICAgICAgIERQICovCisJRFJNX01PREVfU1VCQ09OTkVDVE9SX0RWSQkgPSAyLCAgLyogICAgICAg
ICAgICBEUCAqLworCURSTV9NT0RFX1NVQkNPTk5FQ1RPUl9EVklECSA9IDMsICAvKiBEVkktSSAg
ICAgICAgICovCisJRFJNX01PREVfU1VCQ09OTkVDVE9SX0RWSUEJID0gNCwgIC8qIERWSS1JICAg
ICAgICAgKi8KKwlEUk1fTU9ERV9TVUJDT05ORUNUT1JfQ29tcG9zaXRlICA9IDUsICAvKiAgICAg
ICAgVFYgICAgICovCisJRFJNX01PREVfU1VCQ09OTkVDVE9SX1NWSURFTwkgPSA2LCAgLyogICAg
ICAgIFRWICAgICAqLworCURSTV9NT0RFX1NVQkNPTk5FQ1RPUl9Db21wb25lbnQgID0gOCwgIC8q
ICAgICAgICBUViAgICAgKi8KKwlEUk1fTU9ERV9TVUJDT05ORUNUT1JfU0NBUlQJID0gOSwgIC8q
ICAgICAgICBUViAgICAgKi8KKwlEUk1fTU9ERV9TVUJDT05ORUNUT1JfRFAJID0gMTAsIC8qICAg
ICAgICAgICAgRFAgKi8KKwlEUk1fTU9ERV9TVUJDT05ORUNUT1JfSERNSSAgICAgICA9IDExLCAv
KiAgICAgICAgICAgIERQICovCisJRFJNX01PREVfU1VCQ09OTkVDVE9SX05hdGl2ZSAgICAgPSAx
NSwgLyogICAgICAgICAgICBEUCAqLworCURSTV9NT0RFX1NVQkNPTk5FQ1RPUl9XaXJlbGVzcyAg
ID0gMTksIC8qICAgICAgICAgICAgRFAgKi8KIH07CiAKICNkZWZpbmUgRFJNX01PREVfQ09OTkVD
VE9SX1Vua25vd24JMAotLSAKMi4yMy4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5m
cmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0
aW5mby9kcmktZGV2ZWw=
