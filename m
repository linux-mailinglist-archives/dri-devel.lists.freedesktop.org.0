Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id BAB909FBB9
	for <lists+dri-devel@lfdr.de>; Wed, 28 Aug 2019 09:29:21 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3E57C89C51;
	Wed, 28 Aug 2019 07:29:15 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga07.intel.com (mga07.intel.com [134.134.136.100])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 194E989C51;
 Wed, 28 Aug 2019 07:29:13 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga002.jf.intel.com ([10.7.209.21])
 by orsmga105.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 28 Aug 2019 00:29:13 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,440,1559545200"; d="scan'208";a="192499961"
Received: from ramaling-i9x.iind.intel.com ([10.99.66.154])
 by orsmga002.jf.intel.com with ESMTP; 28 Aug 2019 00:29:10 -0700
From: Ramalingam C <ramalingam.c@intel.com>
To: intel-gfx <intel-gfx@lists.freedesktop.org>,
 dri-devel <dri-devel@lists.freedesktop.org>
Subject: [PATCH v11 4/6] misc/mei/hdcp: Fill transcoder index in port info
Date: Wed, 28 Aug 2019 12:58:21 +0530
Message-Id: <20190828072823.4832-5-ramalingam.c@intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190828072823.4832-1-ramalingam.c@intel.com>
References: <20190828072823.4832-1-ramalingam.c@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Jani Nikula <jani.nikula@intel.com>, tomas.winkler@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Rm9yIGdlbjEyKyBwbGF0Zm9ybSB3ZSBuZWVkIHRvIHBhc3MgdGhlIHRyYW5zY29kZXIgaW5mbwph
cyBwYXJ0IG9mIHRoZSBwb3J0IGluZm8gaW50byBNRSBGVy4KClRoaXMgY2hhbmdlIGZpbGxzIHRo
ZSBwYXlsb2FkIGZvciBNRSBGVyBmcm9tIGhkY3BfcG9ydF9kYXRhLgoKdjI6CiAgRG9jIGlzIGVu
aGFuY2VkIGZvciBwaHlzaWNhbF9wb3J0IGFuZCBhdHRhY2hlZF90cmFuc2NvZGVyIFtUb21hc10K
ClNpZ25lZC1vZmYtYnk6IFJhbWFsaW5nYW0gQyA8cmFtYWxpbmdhbS5jQGludGVsLmNvbT4KQWNr
ZWQtYnk6IEphbmkgTmlrdWxhIDxqYW5pLm5pa3VsYUBpbnRlbC5jb20+ClJldmlld2VkLWJ5OiBT
aGFzaGFuayBTaGFybWEgPHNoYXNoYW5rLnNoYXJtYUBpbnRlbC5jb20+Ci0tLQogZHJpdmVycy9t
aXNjL21laS9oZGNwL21laV9oZGNwLmMgfCAxMSArKysrKysrKysrKwogZHJpdmVycy9taXNjL21l
aS9oZGNwL21laV9oZGNwLmggfCAgNSArKysrLQogMiBmaWxlcyBjaGFuZ2VkLCAxNSBpbnNlcnRp
b25zKCspLCAxIGRlbGV0aW9uKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9taXNjL21laS9oZGNw
L21laV9oZGNwLmMgYi9kcml2ZXJzL21pc2MvbWVpL2hkY3AvbWVpX2hkY3AuYwppbmRleCAzNjM4
Yzc3ZWJhMjYuLjkzMDI3ZmQ5NmM3MSAxMDA2NDQKLS0tIGEvZHJpdmVycy9taXNjL21laS9oZGNw
L21laV9oZGNwLmMKKysrIGIvZHJpdmVycy9taXNjL21laS9oZGNwL21laV9oZGNwLmMKQEAgLTU4
LDYgKzU4LDcgQEAgbWVpX2hkY3BfaW5pdGlhdGVfc2Vzc2lvbihzdHJ1Y3QgZGV2aWNlICpkZXYs
IHN0cnVjdCBoZGNwX3BvcnRfZGF0YSAqZGF0YSwKIAogCXNlc3Npb25faW5pdF9pbi5wb3J0Lmlu
dGVncmF0ZWRfcG9ydF90eXBlID0gZGF0YS0+cG9ydF90eXBlOwogCXNlc3Npb25faW5pdF9pbi5w
b3J0LnBoeXNpY2FsX3BvcnQgPSAodTgpZGF0YS0+ZndfZGRpOworCXNlc3Npb25faW5pdF9pbi5w
b3J0LmF0dGFjaGVkX3RyYW5zY29kZXIgPSAodTgpZGF0YS0+ZndfdGM7CiAJc2Vzc2lvbl9pbml0
X2luLnByb3RvY29sID0gZGF0YS0+cHJvdG9jb2w7CiAKIAlieXRlID0gbWVpX2NsZGV2X3NlbmQo
Y2xkZXYsICh1OCAqKSZzZXNzaW9uX2luaXRfaW4sCkBAIC0xMjcsNiArMTI4LDcgQEAgbWVpX2hk
Y3BfdmVyaWZ5X3JlY2VpdmVyX2NlcnRfcHJlcGFyZV9rbShzdHJ1Y3QgZGV2aWNlICpkZXYsCiAK
IAl2ZXJpZnlfcnhjZXJ0X2luLnBvcnQuaW50ZWdyYXRlZF9wb3J0X3R5cGUgPSBkYXRhLT5wb3J0
X3R5cGU7CiAJdmVyaWZ5X3J4Y2VydF9pbi5wb3J0LnBoeXNpY2FsX3BvcnQgPSAodTgpZGF0YS0+
ZndfZGRpOworCXZlcmlmeV9yeGNlcnRfaW4ucG9ydC5hdHRhY2hlZF90cmFuc2NvZGVyID0gKHU4
KWRhdGEtPmZ3X3RjOwogCiAJdmVyaWZ5X3J4Y2VydF9pbi5jZXJ0X3J4ID0gcnhfY2VydC0+Y2Vy
dF9yeDsKIAltZW1jcHkodmVyaWZ5X3J4Y2VydF9pbi5yX3J4LCAmcnhfY2VydC0+cl9yeCwgSERD
UF8yXzJfUlJYX0xFTik7CkBAIC0xOTcsNiArMTk5LDcgQEAgbWVpX2hkY3BfdmVyaWZ5X2hwcmlt
ZShzdHJ1Y3QgZGV2aWNlICpkZXYsIHN0cnVjdCBoZGNwX3BvcnRfZGF0YSAqZGF0YSwKIAogCXNl
bmRfaHByaW1lX2luLnBvcnQuaW50ZWdyYXRlZF9wb3J0X3R5cGUgPSBkYXRhLT5wb3J0X3R5cGU7
CiAJc2VuZF9ocHJpbWVfaW4ucG9ydC5waHlzaWNhbF9wb3J0ID0gKHU4KWRhdGEtPmZ3X2RkaTsK
KwlzZW5kX2hwcmltZV9pbi5wb3J0LmF0dGFjaGVkX3RyYW5zY29kZXIgPSAodTgpZGF0YS0+Zndf
dGM7CiAKIAltZW1jcHkoc2VuZF9ocHJpbWVfaW4uaF9wcmltZSwgcnhfaHByaW1lLT5oX3ByaW1l
LAogCSAgICAgICBIRENQXzJfMl9IX1BSSU1FX0xFTik7CkBAIC0yNTQsNiArMjU3LDcgQEAgbWVp
X2hkY3Bfc3RvcmVfcGFpcmluZ19pbmZvKHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGhkY3Bf
cG9ydF9kYXRhICpkYXRhLAogCiAJcGFpcmluZ19pbmZvX2luLnBvcnQuaW50ZWdyYXRlZF9wb3J0
X3R5cGUgPSBkYXRhLT5wb3J0X3R5cGU7CiAJcGFpcmluZ19pbmZvX2luLnBvcnQucGh5c2ljYWxf
cG9ydCA9ICh1OClkYXRhLT5md19kZGk7CisJcGFpcmluZ19pbmZvX2luLnBvcnQuYXR0YWNoZWRf
dHJhbnNjb2RlciA9ICh1OClkYXRhLT5md190YzsKIAogCW1lbWNweShwYWlyaW5nX2luZm9faW4u
ZV9raF9rbSwgcGFpcmluZ19pbmZvLT5lX2toX2ttLAogCSAgICAgICBIRENQXzJfMl9FX0tIX0tN
X0xFTik7CkBAIC0zMTIsNiArMzE2LDcgQEAgbWVpX2hkY3BfaW5pdGlhdGVfbG9jYWxpdHlfY2hl
Y2soc3RydWN0IGRldmljZSAqZGV2LAogCiAJbGNfaW5pdF9pbi5wb3J0LmludGVncmF0ZWRfcG9y
dF90eXBlID0gZGF0YS0+cG9ydF90eXBlOwogCWxjX2luaXRfaW4ucG9ydC5waHlzaWNhbF9wb3J0
ID0gKHU4KWRhdGEtPmZ3X2RkaTsKKwlsY19pbml0X2luLnBvcnQuYXR0YWNoZWRfdHJhbnNjb2Rl
ciA9ICh1OClkYXRhLT5md190YzsKIAogCWJ5dGUgPSBtZWlfY2xkZXZfc2VuZChjbGRldiwgKHU4
ICopJmxjX2luaXRfaW4sIHNpemVvZihsY19pbml0X2luKSk7CiAJaWYgKGJ5dGUgPCAwKSB7CkBA
IC0zNjcsNiArMzcyLDcgQEAgbWVpX2hkY3BfdmVyaWZ5X2xwcmltZShzdHJ1Y3QgZGV2aWNlICpk
ZXYsIHN0cnVjdCBoZGNwX3BvcnRfZGF0YSAqZGF0YSwKIAogCXZlcmlmeV9scHJpbWVfaW4ucG9y
dC5pbnRlZ3JhdGVkX3BvcnRfdHlwZSA9IGRhdGEtPnBvcnRfdHlwZTsKIAl2ZXJpZnlfbHByaW1l
X2luLnBvcnQucGh5c2ljYWxfcG9ydCA9ICh1OClkYXRhLT5md19kZGk7CisJdmVyaWZ5X2xwcmlt
ZV9pbi5wb3J0LmF0dGFjaGVkX3RyYW5zY29kZXIgPSAodTgpZGF0YS0+ZndfdGM7CiAKIAltZW1j
cHkodmVyaWZ5X2xwcmltZV9pbi5sX3ByaW1lLCByeF9scHJpbWUtPmxfcHJpbWUsCiAJICAgICAg
IEhEQ1BfMl8yX0xfUFJJTUVfTEVOKTsKQEAgLTQyNCw2ICs0MzAsNyBAQCBzdGF0aWMgaW50IG1l
aV9oZGNwX2dldF9zZXNzaW9uX2tleShzdHJ1Y3QgZGV2aWNlICpkZXYsCiAKIAlnZXRfc2tleV9p
bi5wb3J0LmludGVncmF0ZWRfcG9ydF90eXBlID0gZGF0YS0+cG9ydF90eXBlOwogCWdldF9za2V5
X2luLnBvcnQucGh5c2ljYWxfcG9ydCA9ICh1OClkYXRhLT5md19kZGk7CisJZ2V0X3NrZXlfaW4u
cG9ydC5hdHRhY2hlZF90cmFuc2NvZGVyID0gKHU4KWRhdGEtPmZ3X3RjOwogCiAJYnl0ZSA9IG1l
aV9jbGRldl9zZW5kKGNsZGV2LCAodTggKikmZ2V0X3NrZXlfaW4sIHNpemVvZihnZXRfc2tleV9p
bikpOwogCWlmIChieXRlIDwgMCkgewpAQCAtNDg4LDYgKzQ5NSw3IEBAIG1laV9oZGNwX3JlcGVh
dGVyX2NoZWNrX2Zsb3dfcHJlcGFyZV9hY2soc3RydWN0IGRldmljZSAqZGV2LAogCiAJdmVyaWZ5
X3JlcGVhdGVyX2luLnBvcnQuaW50ZWdyYXRlZF9wb3J0X3R5cGUgPSBkYXRhLT5wb3J0X3R5cGU7
CiAJdmVyaWZ5X3JlcGVhdGVyX2luLnBvcnQucGh5c2ljYWxfcG9ydCA9ICh1OClkYXRhLT5md19k
ZGk7CisJdmVyaWZ5X3JlcGVhdGVyX2luLnBvcnQuYXR0YWNoZWRfdHJhbnNjb2RlciA9ICh1OClk
YXRhLT5md190YzsKIAogCW1lbWNweSh2ZXJpZnlfcmVwZWF0ZXJfaW4ucnhfaW5mbywgcmVwX3Rv
cG9sb2d5LT5yeF9pbmZvLAogCSAgICAgICBIRENQXzJfMl9SWElORk9fTEVOKTsKQEAgLTU1OCw2
ICs1NjYsNyBAQCBzdGF0aWMgaW50IG1laV9oZGNwX3ZlcmlmeV9tcHJpbWUoc3RydWN0IGRldmlj
ZSAqZGV2LAogCiAJdmVyaWZ5X21wcmltZV9pbi5wb3J0LmludGVncmF0ZWRfcG9ydF90eXBlID0g
ZGF0YS0+cG9ydF90eXBlOwogCXZlcmlmeV9tcHJpbWVfaW4ucG9ydC5waHlzaWNhbF9wb3J0ID0g
KHU4KWRhdGEtPmZ3X2RkaTsKKwl2ZXJpZnlfbXByaW1lX2luLnBvcnQuYXR0YWNoZWRfdHJhbnNj
b2RlciA9ICh1OClkYXRhLT5md190YzsKIAogCW1lbWNweSh2ZXJpZnlfbXByaW1lX2luLm1fcHJp
bWUsIHN0cmVhbV9yZWFkeS0+bV9wcmltZSwKIAkgICAgICAgSERDUF8yXzJfTVBSSU1FX0xFTik7
CkBAIC02MTksNiArNjI4LDcgQEAgc3RhdGljIGludCBtZWlfaGRjcF9lbmFibGVfYXV0aGVudGlj
YXRpb24oc3RydWN0IGRldmljZSAqZGV2LAogCiAJZW5hYmxlX2F1dGhfaW4ucG9ydC5pbnRlZ3Jh
dGVkX3BvcnRfdHlwZSA9IGRhdGEtPnBvcnRfdHlwZTsKIAllbmFibGVfYXV0aF9pbi5wb3J0LnBo
eXNpY2FsX3BvcnQgPSAodTgpZGF0YS0+ZndfZGRpOworCWVuYWJsZV9hdXRoX2luLnBvcnQuYXR0
YWNoZWRfdHJhbnNjb2RlciA9ICh1OClkYXRhLT5md190YzsKIAllbmFibGVfYXV0aF9pbi5zdHJl
YW1fdHlwZSA9IGRhdGEtPnN0cmVhbXNbMF0uc3RyZWFtX3R5cGU7CiAKIAlieXRlID0gbWVpX2Ns
ZGV2X3NlbmQoY2xkZXYsICh1OCAqKSZlbmFibGVfYXV0aF9pbiwKQEAgLTY3Myw2ICs2ODMsNyBA
QCBtZWlfaGRjcF9jbG9zZV9zZXNzaW9uKHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGhkY3Bf
cG9ydF9kYXRhICpkYXRhKQogCiAJc2Vzc2lvbl9jbG9zZV9pbi5wb3J0LmludGVncmF0ZWRfcG9y
dF90eXBlID0gZGF0YS0+cG9ydF90eXBlOwogCXNlc3Npb25fY2xvc2VfaW4ucG9ydC5waHlzaWNh
bF9wb3J0ID0gKHU4KWRhdGEtPmZ3X2RkaTsKKwlzZXNzaW9uX2Nsb3NlX2luLnBvcnQuYXR0YWNo
ZWRfdHJhbnNjb2RlciA9ICh1OClkYXRhLT5md190YzsKIAogCWJ5dGUgPSBtZWlfY2xkZXZfc2Vu
ZChjbGRldiwgKHU4ICopJnNlc3Npb25fY2xvc2VfaW4sCiAJCQkgICAgICBzaXplb2Yoc2Vzc2lv
bl9jbG9zZV9pbikpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9taXNjL21laS9oZGNwL21laV9oZGNw
LmggYi9kcml2ZXJzL21pc2MvbWVpL2hkY3AvbWVpX2hkY3AuaAppbmRleCBlNjAyODJlYjJkNDgu
LjE4ZmZjNzczZmExOCAxMDA2NDQKLS0tIGEvZHJpdmVycy9taXNjL21laS9oZGNwL21laV9oZGNw
LmgKKysrIGIvZHJpdmVycy9taXNjL21laS9oZGNwL21laV9oZGNwLmgKQEAgLTE4NCw4ICsxODQs
MTEgQEAgc3RydWN0IGhkY3BfY21kX25vX2RhdGEgewogLyogVW5pcXVlbHkgaWRlbnRpZmllcyB0
aGUgaGRjcCBwb3J0IGJlaW5nIGFkZHJlc3NlZCBmb3IgYSBnaXZlbiBjb21tYW5kLiAqLwogc3Ry
dWN0IGhkY3BfcG9ydF9pZCB7CiAJdTgJaW50ZWdyYXRlZF9wb3J0X3R5cGU7CisJLyogcGh5c2lj
YWxfcG9ydCBpcyB1c2VkIHVudGlsIEdlbjExLjUuIE11c3QgYmUgemVybyBmb3IgR2VuMTEuNSsg
Ki8KIAl1OAlwaHlzaWNhbF9wb3J0OwotCXUxNglyZXNlcnZlZDsKKwkvKiBhdHRhY2hlZF90cmFu
c2NvZGVyIGlzIGZvciBHZW4xMS41Ky4gU2V0IHRvIHplcm8gZm9yIDxHZW4xMS41ICovCisJdTgJ
YXR0YWNoZWRfdHJhbnNjb2RlcjsKKwl1OAlyZXNlcnZlZDsKIH0gX19wYWNrZWQ7CiAKIC8qCi0t
IAoyLjIwLjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
CmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpo
dHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
