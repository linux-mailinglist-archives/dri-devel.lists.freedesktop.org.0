Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 767C910FB56
	for <lists+dri-devel@lfdr.de>; Tue,  3 Dec 2019 11:04:25 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 2DB8F6E459;
	Tue,  3 Dec 2019 10:04:15 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mx1.suse.de (mx2.suse.de [195.135.220.15])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7EDB06E453
 for <dri-devel@lists.freedesktop.org>; Tue,  3 Dec 2019 10:04:11 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id 79C57B181;
 Tue,  3 Dec 2019 10:04:09 +0000 (UTC)
From: Thomas Zimmermann <tzimmermann@suse.de>
To: maarten.lankhorst@linux.intel.com, airlied@linux.ie, daniel@ffwll.ch,
 alexander.deucher@amd.com, christian.koenig@amd.com, David1.Zhou@amd.com,
 kraxel@redhat.com, sam@ravnborg.org, laurent.pinchart@ideasonboard.com,
 chris@chris-wilson.co.uk, emil.velikov@collabora.com,
 dan.carpenter@oracle.com
Subject: [PATCH 02/12] drm/pci: Hide legacy PCI functions from non-legacy code
Date: Tue,  3 Dec 2019 11:03:56 +0100
Message-Id: <20191203100406.9674-3-tzimmermann@suse.de>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20191203100406.9674-1-tzimmermann@suse.de>
References: <20191203100406.9674-1-tzimmermann@suse.de>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Thomas Zimmermann <tzimmermann@suse.de>, dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RGVjbGFyYXRpb25zIG9mIGRybV9sZWdhY3lfcGNpX3tpbml0LGV4aXR9KCkgYXJlIGJlaW5nIG1v
dmVkIHRvCmRybV9sZWdhY3kuaC4gQ09ORklHX0RSTV9MRUdBQ1kgcHJvdGVjdHMgdGhlIGltcGxl
bWVudGF0aW9uLgoKU2lnbmVkLW9mZi1ieTogVGhvbWFzIFppbW1lcm1hbm4gPHR6aW1tZXJtYW5u
QHN1c2UuZGU+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2RybV9wY2kuYyB8ICA0ICsrKysKIGluY2x1
ZGUvZHJtL2RybV9sZWdhY3kuaCAgfCAyOSArKysrKysrKysrKysrKysrKysrKysrKysrKysrLQog
aW5jbHVkZS9kcm0vZHJtX3BjaS5oICAgICB8IDE1IC0tLS0tLS0tLS0tLS0tLQogMyBmaWxlcyBj
aGFuZ2VkLCAzMiBpbnNlcnRpb25zKCspLCAxNiBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vZHJtX3BjaS5jIGIvZHJpdmVycy9ncHUvZHJtL2RybV9wY2kuYwppbmRl
eCA0MGEyMDE1YWJjNzcuLmYyZTQzZDM0MTk4MCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2RybV9wY2kuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX3BjaS5jCkBAIC0yODIsNiArMjgy
LDggQEAgaW50IGRybV9nZXRfcGNpX2RldihzdHJ1Y3QgcGNpX2RldiAqcGRldiwgY29uc3Qgc3Ry
dWN0IHBjaV9kZXZpY2VfaWQgKmVudCwKIH0KIEVYUE9SVF9TWU1CT0woZHJtX2dldF9wY2lfZGV2
KTsKIAorI2lmZGVmIENPTkZJR19EUk1fTEVHQUNZCisKIC8qKgogICogZHJtX2xlZ2FjeV9wY2lf
aW5pdCAtIHNoYWRvdy1hdHRhY2ggYSBsZWdhY3kgRFJNIFBDSSBkcml2ZXIKICAqIEBkcml2ZXI6
IERSTSBkZXZpY2UgZHJpdmVyCkBAIC0zNTQsMyArMzU2LDUgQEAgdm9pZCBkcm1fbGVnYWN5X3Bj
aV9leGl0KHN0cnVjdCBkcm1fZHJpdmVyICpkcml2ZXIsIHN0cnVjdCBwY2lfZHJpdmVyICpwZHJp
dmVyKQogCURSTV9JTkZPKCJNb2R1bGUgdW5sb2FkZWRcbiIpOwogfQogRVhQT1JUX1NZTUJPTChk
cm1fbGVnYWN5X3BjaV9leGl0KTsKKworI2VuZGlmCmRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS9k
cm1fbGVnYWN5LmggYi9pbmNsdWRlL2RybS9kcm1fbGVnYWN5LmgKaW5kZXggNThkYzBjMDRiZjk5
Li41NzQ1NzEwNDUzYzggMTAwNjQ0Ci0tLSBhL2luY2x1ZGUvZHJtL2RybV9sZWdhY3kuaAorKysg
Yi9pbmNsdWRlL2RybS9kcm1fbGVnYWN5LmgKQEAgLTM4LDcgKzM4LDkgQEAKICNpbmNsdWRlIDxk
cm0vZHJtX2hhc2h0YWIuaD4KIAogc3RydWN0IGRybV9kZXZpY2U7CitzdHJ1Y3QgZHJtX2RyaXZl
cjsKIHN0cnVjdCBmaWxlOworc3RydWN0IHBjaV9kcml2ZXI7CiAKIC8qCiAgKiBMZWdhY3kgU3Vw
cG9ydCBmb3IgcGFsYXRlb250b2xvZ2ljIERSTSBkcml2ZXJzCkBAIC0xODgsOCArMTkwLDMzIEBA
IGRvIHsJCQkJCQkJCQkJXAogdm9pZCBkcm1fbGVnYWN5X2lkbGVsb2NrX3Rha2Uoc3RydWN0IGRy
bV9sb2NrX2RhdGEgKmxvY2spOwogdm9pZCBkcm1fbGVnYWN5X2lkbGVsb2NrX3JlbGVhc2Uoc3Ry
dWN0IGRybV9sb2NrX2RhdGEgKmxvY2spOwogCi0vKiBkcm1fcGNpLmMgZG1hIGFsbG9jIHdyYXBw
ZXJzICovCisvKiBkcm1fcGNpLmMgKi8KKworI2lmZGVmIENPTkZJR19QQ0kKKwogdm9pZCBfX2Ry
bV9sZWdhY3lfcGNpX2ZyZWUoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgZHJtX2RtYV9oYW5kbGVf
dCAqIGRtYWgpOworaW50IGRybV9sZWdhY3lfcGNpX2luaXQoc3RydWN0IGRybV9kcml2ZXIgKmRy
aXZlciwgc3RydWN0IHBjaV9kcml2ZXIgKnBkcml2ZXIpOwordm9pZCBkcm1fbGVnYWN5X3BjaV9l
eGl0KHN0cnVjdCBkcm1fZHJpdmVyICpkcml2ZXIsIHN0cnVjdCBwY2lfZHJpdmVyICpwZHJpdmVy
KTsKKworI2Vsc2UKKworc3RhdGljIGlubGluZSB2b2lkIF9fZHJtX2xlZ2FjeV9wY2lfZnJlZShz
dHJ1Y3QgZHJtX2RldmljZSAqZGV2LAorCQkJCQkgZHJtX2RtYV9oYW5kbGVfdCAqZG1haCkKK3sK
K30KKworc3RhdGljIGlubGluZSBpbnQgZHJtX2xlZ2FjeV9wY2lfaW5pdChzdHJ1Y3QgZHJtX2Ry
aXZlciAqZHJpdmVyLAorCQkJCSAgICAgIHN0cnVjdCBwY2lfZHJpdmVyICpwZHJpdmVyKQorewor
CXJldHVybiAtRUlOVkFMOworfQorCitzdGF0aWMgaW5saW5lIHZvaWQgZHJtX2xlZ2FjeV9wY2lf
ZXhpdChzdHJ1Y3QgZHJtX2RyaXZlciAqZHJpdmVyLAorCQkJCSAgICAgICBzdHJ1Y3QgcGNpX2Ry
aXZlciAqcGRyaXZlcikKK3sKK30KKworI2VuZGlmCiAKIC8qIGRybV9tZW1vcnkuYyAqLwogdm9p
ZCBkcm1fbGVnYWN5X2lvcmVtYXAoc3RydWN0IGRybV9sb2NhbF9tYXAgKm1hcCwgc3RydWN0IGRy
bV9kZXZpY2UgKmRldik7CmRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS9kcm1fcGNpLmggYi9pbmNs
dWRlL2RybS9kcm1fcGNpLmgKaW5kZXggMDI5MzUyZjhjNTgzLi45MDMxZTIxN2I1MDYgMTAwNjQ0
Ci0tLSBhL2luY2x1ZGUvZHJtL2RybV9wY2kuaAorKysgYi9pbmNsdWRlL2RybS9kcm1fcGNpLmgK
QEAgLTM4LDcgKzM4LDYgQEAgc3RydWN0IGRybV9kbWFfaGFuZGxlOwogc3RydWN0IGRybV9kZXZp
Y2U7CiBzdHJ1Y3QgZHJtX2RyaXZlcjsKIHN0cnVjdCBkcm1fbWFzdGVyOwotc3RydWN0IHBjaV9k
ZXZpY2U7CiAKICNpZmRlZiBDT05GSUdfUENJCiAKQEAgLTUwLDkgKzQ5LDYgQEAgaW50IGRybV9n
ZXRfcGNpX2RldihzdHJ1Y3QgcGNpX2RldiAqcGRldiwKIAkJICAgIGNvbnN0IHN0cnVjdCBwY2lf
ZGV2aWNlX2lkICplbnQsCiAJCSAgICBzdHJ1Y3QgZHJtX2RyaXZlciAqZHJpdmVyKTsKIAotaW50
IGRybV9sZWdhY3lfcGNpX2luaXQoc3RydWN0IGRybV9kcml2ZXIgKmRyaXZlciwgc3RydWN0IHBj
aV9kcml2ZXIgKnBkcml2ZXIpOwotdm9pZCBkcm1fbGVnYWN5X3BjaV9leGl0KHN0cnVjdCBkcm1f
ZHJpdmVyICpkcml2ZXIsIHN0cnVjdCBwY2lfZHJpdmVyICpwZHJpdmVyKTsKLQogI2Vsc2UKIAog
c3RhdGljIGlubGluZSBzdHJ1Y3QgZHJtX2RtYV9oYW5kbGUgKmRybV9wY2lfYWxsb2Moc3RydWN0
IGRybV9kZXZpY2UgKmRldiwKQEAgLTczLDE3ICs2OSw2IEBAIHN0YXRpYyBpbmxpbmUgaW50IGRy
bV9nZXRfcGNpX2RldihzdHJ1Y3QgcGNpX2RldiAqcGRldiwKIAlyZXR1cm4gLUVOT1NZUzsKIH0K
IAotc3RhdGljIGlubGluZSBpbnQgZHJtX2xlZ2FjeV9wY2lfaW5pdChzdHJ1Y3QgZHJtX2RyaXZl
ciAqZHJpdmVyLAotCQkJCSAgICAgIHN0cnVjdCBwY2lfZHJpdmVyICpwZHJpdmVyKQotewotCXJl
dHVybiAtRUlOVkFMOwotfQotCi1zdGF0aWMgaW5saW5lIHZvaWQgZHJtX2xlZ2FjeV9wY2lfZXhp
dChzdHJ1Y3QgZHJtX2RyaXZlciAqZHJpdmVyLAotCQkJCSAgICAgICBzdHJ1Y3QgcGNpX2RyaXZl
ciAqcGRyaXZlcikKLXsKLX0KLQogI2VuZGlmCiAKICNlbmRpZiAvKiBfRFJNX1BDSV9IXyAqLwot
LSAKMi4yMy4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
XwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcK
aHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
