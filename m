Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 6298C1008B2
	for <lists+dri-devel@lfdr.de>; Mon, 18 Nov 2019 16:52:16 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 2E0A96E5DE;
	Mon, 18 Nov 2019 15:52:11 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from us-smtp-1.mimecast.com (us-smtp-delivery-1.mimecast.com
 [205.139.110.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C1CE36E5C3
 for <dri-devel@lists.freedesktop.org>; Mon, 18 Nov 2019 15:51:57 +0000 (UTC)
Received: from mimecast-mx01.redhat.com (mimecast-mx01.redhat.com
 [209.132.183.4]) (Using TLS) by relay.mimecast.com with ESMTP id
 us-mta-206-s7PvRSOhMu6AvanTtoEgFg-1; Mon, 18 Nov 2019 10:51:55 -0500
Received: from smtp.corp.redhat.com (int-mx01.intmail.prod.int.phx2.redhat.com
 [10.5.11.11])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mimecast-mx01.redhat.com (Postfix) with ESMTPS id 08680107ACC4;
 Mon, 18 Nov 2019 15:51:54 +0000 (UTC)
Received: from shalem.localdomain.com (unknown [10.36.118.166])
 by smtp.corp.redhat.com (Postfix) with ESMTP id 48DE4600CD;
 Mon, 18 Nov 2019 15:51:52 +0000 (UTC)
From: Hans de Goede <hdegoede@redhat.com>
To: Maarten Lankhorst <maarten.lankhorst@linux.intel.com>,
 Maxime Ripard <mripard@kernel.org>, Sean Paul <seanpaul@chromium.org>,
 Daniel Vetter <daniel.vetter@intel.com>, David Airlie <airlied@linux.ie>
Subject: [PATCH v3 09/13] drm/modes: parse_cmdline: Add support for specifying
 panel_orientation (v2)
Date: Mon, 18 Nov 2019 16:51:30 +0100
Message-Id: <20191118155134.30468-9-hdegoede@redhat.com>
In-Reply-To: <20191118155134.30468-1-hdegoede@redhat.com>
References: <20191118155134.30468-1-hdegoede@redhat.com>
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.11
X-MC-Unique: s7PvRSOhMu6AvanTtoEgFg-1
X-Mimecast-Spam-Score: 0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=redhat.com; 
 s=mimecast20190719; t=1574092316;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=0V/Qa426DhRa77bFKgjsmTCXrkxTbduzKixE/5v9qrQ=;
 b=fmG8Ao+zwDUYckh8/JyYQLN29TJ5RvIM7avMfbZcLbB5bDEYPplvk3CWZA1eT5iJ6R9r0/
 FiyozFnrMtc6H0TvxCNW0CYZ8VvdRAL/DrgY5KjRpzRnqeBf/zchQF30OaUFrulSQ4HB1z
 FeYcVedHrFQNcKKlBJGGMePYM1RdbyY=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Hans de Goede <hdegoede@redhat.com>,
 Derek Basehore <dbasehore@chromium.org>,
 =?UTF-8?q?Mathieu=20Alexandre-T=C3=A9treault?= <alexandretm@amotus.ca>,
 dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

U29tZXRpbWVzIHdlIHdhbnQgdG8gb3ZlcnJpZGUgYSBjb25uZWN0b3IncyBwYW5lbF9vcmllbnRh
dGlvbiBmcm9tIHRoZQprZXJuZWwgY29tbWFuZGxpbmUuIEVpdGhlciBmb3IgdGVzdGluZyBhbmQg
Zm9yIHNwZWNpYWwgY2FzZXMsIGUuZy4gYSBraW9zawpsaWtlIHNldHVwIHdoaWNoIHVzZXMgYSBU
ViBtb3VudGVkIGluIHBvcnRyYWl0IG1vZGUuCgpVc2VycyBjYW4gYWxyZWFkeSBzcGVjaWZ5IGEg
InJvdGF0ZSIgb3B0aW9uIHRocm91Z2ggYSB2aWRlbz0ga2VybmVsIGNtZGxpbmUKb3B0aW9uLiBC
dXQgdGhhdCBvbmx5IHN1cHBvcnRzIDAvMTgwIGRlZ3JlZXMgKHNlZSBkcm1fY2xpZW50X21vZGVz
ZXQgVE9ETykKYW5kIG9ubHkgd29ya3MgZm9yIGluIGtlcm5lbCBtb2Rlc2V0IGNsaWVudHMsIG5v
dCBmb3IgdXNlcnNwYWNlIGttcyB1c2Vycy4KClRoZSAicGFuZWwtb3JpZW50YXRpb24iIGNvbm5l
Y3RvciBwcm9wZXJ0eSBPVE9IIGRvZXMgc3VwcG9ydCA5MC8yNzAgZGVncmVlcwphcyBpdCBsZWF2
ZXMgZGVhbGluZyB3aXRoIHRoZSByb3RhdGlvbiB1cCB0byB1c2Vyc3BhY2UgYW5kIHRoaXMgZG9l
cyB3b3JrCmZvciB1c2Vyc3BhY2Uga21zIGNsaWVudHMgKGF0IGxlYXN0IHRob3NlIHdoaWNoIHN1
cHBvcnQgdGhpcyBwcm9wZXJ0eSkuCgpDaGFuZ2VzIGluIHYyOgotQWRkIG1pc3NpbmcgJzonIGFm
dGVyIEBwYW5lbF9vcmllbnRhdGlvbiAocmVwb3J0ZWQgYnkga2J1aWxkIHRlc3Qgcm9ib3QpCgpC
dWdMaW5rOiBodHRwczovL2dpdGxhYi5mcmVlZGVza3RvcC5vcmcvcGx5bW91dGgvcGx5bW91dGgv
bWVyZ2VfcmVxdWVzdHMvODMKQWNrZWQtYnk6IE1heGltZSBSaXBhcmQgPG1yaXBhcmRAa2VybmVs
Lm9yZz4KU2lnbmVkLW9mZi1ieTogSGFucyBkZSBHb2VkZSA8aGRlZ29lZGVAcmVkaGF0LmNvbT4K
LS0tCiBEb2N1bWVudGF0aW9uL2ZiL21vZGVkYi5yc3QgICAgICAgICAgICAgICAgICAgfCAgMyAr
KwogZHJpdmVycy9ncHUvZHJtL2RybV9tb2Rlcy5jICAgICAgICAgICAgICAgICAgIHwgMzIgKysr
KysrKysrKysrKysrKysrKwogLi4uL2dwdS9kcm0vc2VsZnRlc3RzL2RybV9jbWRsaW5lX3NlbGZ0
ZXN0cy5oIHwgIDEgKwogLi4uL2RybS9zZWxmdGVzdHMvdGVzdC1kcm1fY21kbGluZV9wYXJzZXIu
YyAgIHwgMjIgKysrKysrKysrKysrKwogaW5jbHVkZS9kcm0vZHJtX2Nvbm5lY3Rvci5oICAgICAg
ICAgICAgICAgICAgIHwgIDggKysrKysKIDUgZmlsZXMgY2hhbmdlZCwgNjYgaW5zZXJ0aW9ucygr
KQoKZGlmZiAtLWdpdCBhL0RvY3VtZW50YXRpb24vZmIvbW9kZWRiLnJzdCBiL0RvY3VtZW50YXRp
b24vZmIvbW9kZWRiLnJzdAppbmRleCA5YzRlM2ZkMzllNmQuLjYyNGQwOGZkMjg1NiAxMDA2NDQK
LS0tIGEvRG9jdW1lbnRhdGlvbi9mYi9tb2RlZGIucnN0CisrKyBiL0RvY3VtZW50YXRpb24vZmIv
bW9kZWRiLnJzdApAQCAtNjUsNiArNjUsOSBAQCBWYWxpZCBvcHRpb25zIGFyZTo6CiAgIC0gcmVm
bGVjdF95IChib29sZWFuKTogUGVyZm9ybSBhbiBheGlhbCBzeW1tZXRyeSBvbiB0aGUgWSBheGlz
CiAgIC0gcm90YXRlIChpbnRlZ2VyKTogUm90YXRlIHRoZSBpbml0aWFsIGZyYW1lYnVmZmVyIGJ5
IHgKICAgICBkZWdyZWVzLiBWYWxpZCB2YWx1ZXMgYXJlIDAsIDkwLCAxODAgYW5kIDI3MC4KKyAg
LSBwYW5lbF9vcmllbnRhdGlvbiwgb25lIG9mICJub3JtYWwiLCAidXBzaWRlX2Rvd24iLCAibGVm
dF9zaWRlX3VwIiwgb3IKKyAgICAicmlnaHRfc2lkZV91cCIuIEZvciBLTVMgZHJpdmVycyBvbmx5
LCB0aGlzIHNldHMgdGhlICJwYW5lbCBvcmllbnRhdGlvbiIKKyAgICBwcm9wZXJ0eSBvbiB0aGUg
a21zIGNvbm5lY3RvciBhcyBoaW50IGZvciBrbXMgdXNlcnMuCiAKIAogLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fbW9kZXMuYyBiL2RyaXZlcnMv
Z3B1L2RybS9kcm1fbW9kZXMuYwppbmRleCAyZTgyNjAzZjVkMGEuLjExOWZlZDdhYjgxNSAxMDA2
NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2RybV9tb2Rlcy5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9kcm1fbW9kZXMuYwpAQCAtMTU5MSw2ICsxNTkxLDMzIEBAIHN0YXRpYyBpbnQgZHJtX21vZGVf
cGFyc2VfY21kbGluZV9pbnQoY29uc3QgY2hhciAqZGVsaW0sIHVuc2lnbmVkIGludCAqaW50X3Jl
dCkKIAlyZXR1cm4gMDsKIH0KIAorc3RhdGljIGludCBkcm1fbW9kZV9wYXJzZV9wYW5lbF9vcmll
bnRhdGlvbihjb25zdCBjaGFyICpkZWxpbSwKKwkJCQkJICAgIHN0cnVjdCBkcm1fY21kbGluZV9t
b2RlICptb2RlKQoreworCWNvbnN0IGNoYXIgKnZhbHVlOworCisJaWYgKCpkZWxpbSAhPSAnPScp
CisJCXJldHVybiAtRUlOVkFMOworCisJdmFsdWUgPSBkZWxpbSArIDE7CisJZGVsaW0gPSBzdHJj
aHIodmFsdWUsICcsJyk7CisJaWYgKCFkZWxpbSkKKwkJZGVsaW0gPSB2YWx1ZSArIHN0cmxlbih2
YWx1ZSk7CisKKwlpZiAoIXN0cm5jbXAodmFsdWUsICJub3JtYWwiLCBkZWxpbSAtIHZhbHVlKSkK
KwkJbW9kZS0+cGFuZWxfb3JpZW50YXRpb24gPSBEUk1fTU9ERV9QQU5FTF9PUklFTlRBVElPTl9O
T1JNQUw7CisJZWxzZSBpZiAoIXN0cm5jbXAodmFsdWUsICJ1cHNpZGVfZG93biIsIGRlbGltIC0g
dmFsdWUpKQorCQltb2RlLT5wYW5lbF9vcmllbnRhdGlvbiA9IERSTV9NT0RFX1BBTkVMX09SSUVO
VEFUSU9OX0JPVFRPTV9VUDsKKwllbHNlIGlmICghc3RybmNtcCh2YWx1ZSwgImxlZnRfc2lkZV91
cCIsIGRlbGltIC0gdmFsdWUpKQorCQltb2RlLT5wYW5lbF9vcmllbnRhdGlvbiA9IERSTV9NT0RF
X1BBTkVMX09SSUVOVEFUSU9OX0xFRlRfVVA7CisJZWxzZSBpZiAoIXN0cm5jbXAodmFsdWUsICJy
aWdodF9zaWRlX3VwIiwgZGVsaW0gLSB2YWx1ZSkpCisJCW1vZGUtPnBhbmVsX29yaWVudGF0aW9u
ID0gRFJNX01PREVfUEFORUxfT1JJRU5UQVRJT05fUklHSFRfVVA7CisJZWxzZQorCQlyZXR1cm4g
LUVJTlZBTDsKKworCXJldHVybiAwOworfQorCiBzdGF0aWMgaW50IGRybV9tb2RlX3BhcnNlX2Nt
ZGxpbmVfb3B0aW9ucyhjb25zdCBjaGFyICpzdHIsCiAJCQkJCSAgYm9vbCBmcmVlc3RhbmRpbmcs
CiAJCQkJCSAgY29uc3Qgc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciwKQEAgLTE2NTcs
NiArMTY4NCw5IEBAIHN0YXRpYyBpbnQgZHJtX21vZGVfcGFyc2VfY21kbGluZV9vcHRpb25zKGNv
bnN0IGNoYXIgKnN0ciwKIAkJCQlyZXR1cm4gLUVJTlZBTDsKIAogCQkJbW9kZS0+dHZfbWFyZ2lu
cy5ib3R0b20gPSBtYXJnaW47CisJCX0gZWxzZSBpZiAoIXN0cm5jbXAob3B0aW9uLCAicGFuZWxf
b3JpZW50YXRpb24iLCBkZWxpbSAtIG9wdGlvbikpIHsKKwkJCWlmIChkcm1fbW9kZV9wYXJzZV9w
YW5lbF9vcmllbnRhdGlvbihkZWxpbSwgbW9kZSkpCisJCQkJcmV0dXJuIC1FSU5WQUw7CiAJCX0g
ZWxzZSB7CiAJCQlyZXR1cm4gLUVJTlZBTDsKIAkJfQpAQCAtMTcxNSw2ICsxNzQ1LDggQEAgYm9v
bCBkcm1fbW9kZV9wYXJzZV9jb21tYW5kX2xpbmVfZm9yX2Nvbm5lY3Rvcihjb25zdCBjaGFyICpt
b2RlX29wdGlvbiwKIAljaGFyICpicHBfZW5kX3B0ciA9IE5VTEwsICpyZWZyZXNoX2VuZF9wdHIg
PSBOVUxMOwogCWludCBpLCBsZW4sIHJldDsKIAorCW1vZGUtPnBhbmVsX29yaWVudGF0aW9uID0g
RFJNX01PREVfUEFORUxfT1JJRU5UQVRJT05fVU5LTk9XTjsKKwogI2lmZGVmIENPTkZJR19GQgog
CWlmICghbW9kZV9vcHRpb24pCiAJCW1vZGVfb3B0aW9uID0gZmJfbW9kZV9vcHRpb247CmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vc2VsZnRlc3RzL2RybV9jbWRsaW5lX3NlbGZ0ZXN0cy5o
IGIvZHJpdmVycy9ncHUvZHJtL3NlbGZ0ZXN0cy9kcm1fY21kbGluZV9zZWxmdGVzdHMuaAppbmRl
eCBhZWU5MmFjMmNjMjEuLmNlYWM3YWY5YTE3MiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L3NlbGZ0ZXN0cy9kcm1fY21kbGluZV9zZWxmdGVzdHMuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0v
c2VsZnRlc3RzL2RybV9jbWRsaW5lX3NlbGZ0ZXN0cy5oCkBAIC02NCwzICs2NCw0IEBAIGNtZGxp
bmVfdGVzdChkcm1fY21kbGluZV90ZXN0X2JwcF9leHRyYV9hbmRfb3B0aW9uKQogY21kbGluZV90
ZXN0KGRybV9jbWRsaW5lX3Rlc3RfZXh0cmFfYW5kX29wdGlvbikKIGNtZGxpbmVfdGVzdChkcm1f
Y21kbGluZV90ZXN0X2ZyZWVzdGFuZGluZ19vcHRpb25zKQogY21kbGluZV90ZXN0KGRybV9jbWRs
aW5lX3Rlc3RfZnJlZXN0YW5kaW5nX2ZvcmNlX2VfYW5kX29wdGlvbnMpCitjbWRsaW5lX3Rlc3Qo
ZHJtX2NtZGxpbmVfdGVzdF9wYW5lbF9vcmllbnRhdGlvbikKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9zZWxmdGVzdHMvdGVzdC1kcm1fY21kbGluZV9wYXJzZXIuYyBiL2RyaXZlcnMvZ3B1
L2RybS9zZWxmdGVzdHMvdGVzdC1kcm1fY21kbGluZV9wYXJzZXIuYwppbmRleCA4MjQ4ZDRhYTVh
YWEuLjUyMGYzZTY2YTM4NCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3NlbGZ0ZXN0cy90
ZXN0LWRybV9jbWRsaW5lX3BhcnNlci5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9zZWxmdGVzdHMv
dGVzdC1kcm1fY21kbGluZV9wYXJzZXIuYwpAQCAtMTA5Miw2ICsxMDkyLDI4IEBAIHN0YXRpYyBp
bnQgZHJtX2NtZGxpbmVfdGVzdF9mcmVlc3RhbmRpbmdfZm9yY2VfZV9hbmRfb3B0aW9ucyh2b2lk
ICppZ25vcmVkKQogCXJldHVybiAwOwogfQogCitzdGF0aWMgaW50IGRybV9jbWRsaW5lX3Rlc3Rf
cGFuZWxfb3JpZW50YXRpb24odm9pZCAqaWdub3JlZCkKK3sKKwlzdHJ1Y3QgZHJtX2NtZGxpbmVf
bW9kZSBtb2RlID0geyB9OworCisJRkFJTF9PTighZHJtX21vZGVfcGFyc2VfY29tbWFuZF9saW5l
X2Zvcl9jb25uZWN0b3IoInBhbmVsX29yaWVudGF0aW9uPXVwc2lkZV9kb3duIiwKKwkJCQkJCQkg
ICAmbm9fY29ubmVjdG9yLAorCQkJCQkJCSAgICZtb2RlKSk7CisJRkFJTF9PTihtb2RlLnNwZWNp
ZmllZCk7CisJRkFJTF9PTihtb2RlLnJlZnJlc2hfc3BlY2lmaWVkKTsKKwlGQUlMX09OKG1vZGUu
YnBwX3NwZWNpZmllZCk7CisKKwlGQUlMX09OKG1vZGUucGFuZWxfb3JpZW50YXRpb24gIT0gRFJN
X01PREVfUEFORUxfT1JJRU5UQVRJT05fQk9UVE9NX1VQKTsKKworCUZBSUxfT04obW9kZS5yYik7
CisJRkFJTF9PTihtb2RlLmN2dCk7CisJRkFJTF9PTihtb2RlLmludGVybGFjZSk7CisJRkFJTF9P
Tihtb2RlLm1hcmdpbnMpOworCUZBSUxfT04obW9kZS5mb3JjZSAhPSBEUk1fRk9SQ0VfVU5TUEVD
SUZJRUQpOworCisJcmV0dXJuIDA7Cit9CisKICNpbmNsdWRlICJkcm1fc2VsZnRlc3QuYyIKIAog
c3RhdGljIGludCBfX2luaXQgdGVzdF9kcm1fY21kbGluZV9pbml0KHZvaWQpCmRpZmYgLS1naXQg
YS9pbmNsdWRlL2RybS9kcm1fY29ubmVjdG9yLmggYi9pbmNsdWRlL2RybS9kcm1fY29ubmVjdG9y
LmgKaW5kZXggNjgxY2I1OTBmOTUyLi4zZmJjZjdkM2ZjYWYgMTAwNjQ0Ci0tLSBhL2luY2x1ZGUv
ZHJtL2RybV9jb25uZWN0b3IuaAorKysgYi9pbmNsdWRlL2RybS9kcm1fY29ubmVjdG9yLmgKQEAg
LTEwNjUsNiArMTA2NSwxNCBAQCBzdHJ1Y3QgZHJtX2NtZGxpbmVfbW9kZSB7CiAJICovCiAJdW5z
aWduZWQgaW50IHJvdGF0aW9uX3JlZmxlY3Rpb247CiAKKwkvKioKKwkgKiBAcGFuZWxfb3JpZW50
YXRpb246CisJICoKKwkgKiBkcm0tY29ubmVjdG9yICJwYW5lbCBvcmllbnRhdGlvbiIgcHJvcGVy
dHkgb3ZlcnJpZGUgdmFsdWUsCisJICogRFJNX01PREVfUEFORUxfT1JJRU5UQVRJT05fVU5LTk9X
TiBpZiBub3Qgc2V0LgorCSAqLworCWVudW0gZHJtX3BhbmVsX29yaWVudGF0aW9uIHBhbmVsX29y
aWVudGF0aW9uOworCiAJLyoqCiAJICogQHR2X21hcmdpbnM6IFRWIG1hcmdpbnMgdG8gYXBwbHkg
dG8gdGhlIG1vZGUuCiAJICovCi0tIAoyLjIzLjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxp
c3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFu
L2xpc3RpbmZvL2RyaS1kZXZlbA==
