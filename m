Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 7E2E16C46B
	for <lists+dri-devel@lfdr.de>; Thu, 18 Jul 2019 03:44:17 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 68C496E2C7;
	Thu, 18 Jul 2019 01:44:15 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8746E6E2C7
 for <dri-devel@lists.freedesktop.org>; Thu, 18 Jul 2019 01:44:13 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx08.intmail.prod.int.phx2.redhat.com
 [10.5.11.23])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id EA90D2F8BE3;
 Thu, 18 Jul 2019 01:44:12 +0000 (UTC)
Received: from whitewolf.redhat.com (ovpn-120-112.rdu2.redhat.com
 [10.10.120.112])
 by smtp.corp.redhat.com (Postfix) with ESMTP id 06D5B19C67;
 Thu, 18 Jul 2019 01:44:08 +0000 (UTC)
From: Lyude Paul <lyude@redhat.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH 03/26] drm/dp_mst: Move test_calc_pbn_mode() into an actual
 selftest
Date: Wed, 17 Jul 2019 21:42:26 -0400
Message-Id: <20190718014329.8107-4-lyude@redhat.com>
In-Reply-To: <20190718014329.8107-1-lyude@redhat.com>
References: <20190718014329.8107-1-lyude@redhat.com>
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.84 on 10.5.11.23
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.38]); Thu, 18 Jul 2019 01:44:13 +0000 (UTC)
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Thomas Hellstrom <thellstrom@vmware.com>,
 Maxime Ripard <maxime.ripard@bootlin.com>, Sean Paul <sean@poorly.run>,
 Alexandru Gheorghe <alexandru-cosmin.gheorghe@arm.com>,
 linux-kernel@vger.kernel.org, David Airlie <airlied@linux.ie>,
 Juston Li <juston.li@intel.com>, Thomas Gleixner <tglx@linutronix.de>,
 Deepak Rawat <drawat@vmware.com>, Harry Wentland <hwentlan@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

WWVzLCBhcHBhcmVudGx5IHdlJ3ZlIGJlZW4gdGVzdGluZyB0aGlzIGZvciBldmVyeSBzaW5nbGUg
ZHJpdmVyIGxvYWQgZm9yCnF1aXRlIGEgbG9uZyB0aW1lIG5vdy4gQXQgbGVhc3QgdGhhdCBtZWFu
cyBvdXIgUEJOIGNhbGN1bGF0aW9uIGlzIHNvbGlkIQoKQW55d2F5LCBpbnRyb2R1Y2Ugc2VsZiB0
ZXN0cyBmb3IgTVNUIGFuZCBtb3ZlIHRoaXMgaW50byB0aGVyZS4KCkNjOiBKdXN0b24gTGkgPGp1
c3Rvbi5saUBpbnRlbC5jb20+CkNjOiBJbXJlIERlYWsgPGltcmUuZGVha0BpbnRlbC5jb20+CkNj
OiBWaWxsZSBTeXJqw6Rsw6QgPHZpbGxlLnN5cmphbGFAbGludXguaW50ZWwuY29tPgpDYzogSGFy
cnkgV2VudGxhbmQgPGh3ZW50bGFuQGFtZC5jb20+ClNpZ25lZC1vZmYtYnk6IEx5dWRlIFBhdWwg
PGx5dWRlQHJlZGhhdC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2RybV9kcF9tc3RfdG9wb2xv
Z3kuYyAgICAgICAgIHwgMjcgLS0tLS0tLS0tLS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9zZWxmdGVz
dHMvTWFrZWZpbGUgICAgICAgICAgICB8ICAyICstCiAuLi4vZ3B1L2RybS9zZWxmdGVzdHMvZHJt
X21vZGVzZXRfc2VsZnRlc3RzLmggfCAgMSArCiAuLi4vZHJtL3NlbGZ0ZXN0cy90ZXN0LWRybV9k
cF9tc3RfaGVscGVyLmMgICAgfCAzNiArKysrKysrKysrKysrKysrKysrCiAuLi4vZHJtL3NlbGZ0
ZXN0cy90ZXN0LWRybV9tb2Rlc2V0X2NvbW1vbi5oICAgfCAgMSArCiA1IGZpbGVzIGNoYW5nZWQs
IDM5IGluc2VydGlvbnMoKyksIDI4IGRlbGV0aW9ucygtKQogY3JlYXRlIG1vZGUgMTAwNjQ0IGRy
aXZlcnMvZ3B1L2RybS9zZWxmdGVzdHMvdGVzdC1kcm1fZHBfbXN0X2hlbHBlci5jCgpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2RybV9kcF9tc3RfdG9wb2xvZ3kuYyBiL2RyaXZlcnMvZ3B1
L2RybS9kcm1fZHBfbXN0X3RvcG9sb2d5LmMKaW5kZXggZDdjM2Q5MjMzODM0Li45ZTM4MjExNzg5
NmQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fZHBfbXN0X3RvcG9sb2d5LmMKKysr
IGIvZHJpdmVycy9ncHUvZHJtL2RybV9kcF9tc3RfdG9wb2xvZ3kuYwpAQCAtNDUsNyArNDUsNiBA
QAogICovCiBzdGF0aWMgYm9vbCBkdW1wX2RwX3BheWxvYWRfdGFibGUoc3RydWN0IGRybV9kcF9t
c3RfdG9wb2xvZ3lfbWdyICptZ3IsCiAJCQkJICBjaGFyICpidWYpOwotc3RhdGljIGludCB0ZXN0
X2NhbGNfcGJuX21vZGUodm9pZCk7CiAKIHN0YXRpYyB2b2lkIGRybV9kcF9tc3RfdG9wb2xvZ3lf
cHV0X3BvcnQoc3RydWN0IGRybV9kcF9tc3RfcG9ydCAqcG9ydCk7CiAKQEAgLTM0MzksMzAgKzM0
MzgsNiBAQCBpbnQgZHJtX2RwX2NhbGNfcGJuX21vZGUoaW50IGNsb2NrLCBpbnQgYnBwKQogfQog
RVhQT1JUX1NZTUJPTChkcm1fZHBfY2FsY19wYm5fbW9kZSk7CiAKLXN0YXRpYyBpbnQgdGVzdF9j
YWxjX3Bibl9tb2RlKHZvaWQpCi17Ci0JaW50IHJldDsKLQlyZXQgPSBkcm1fZHBfY2FsY19wYm5f
bW9kZSgxNTQwMDAsIDMwKTsKLQlpZiAocmV0ICE9IDY4OSkgewotCQlEUk1fRVJST1IoIlBCTiBj
YWxjdWxhdGlvbiB0ZXN0IGZhaWxlZCAtIGNsb2NrICVkLCBicHAgJWQsIGV4cGVjdGVkIFBCTiAl
ZCwgYWN0dWFsIFBCTiAlZC5cbiIsCi0JCQkJMTU0MDAwLCAzMCwgNjg5LCByZXQpOwotCQlyZXR1
cm4gLUVJTlZBTDsKLQl9Ci0JcmV0ID0gZHJtX2RwX2NhbGNfcGJuX21vZGUoMjM0MDAwLCAzMCk7
Ci0JaWYgKHJldCAhPSAxMDQ3KSB7Ci0JCURSTV9FUlJPUigiUEJOIGNhbGN1bGF0aW9uIHRlc3Qg
ZmFpbGVkIC0gY2xvY2sgJWQsIGJwcCAlZCwgZXhwZWN0ZWQgUEJOICVkLCBhY3R1YWwgUEJOICVk
LlxuIiwKLQkJCQkyMzQwMDAsIDMwLCAxMDQ3LCByZXQpOwotCQlyZXR1cm4gLUVJTlZBTDsKLQl9
Ci0JcmV0ID0gZHJtX2RwX2NhbGNfcGJuX21vZGUoMjk3MDAwLCAyNCk7Ci0JaWYgKHJldCAhPSAx
MDYzKSB7Ci0JCURSTV9FUlJPUigiUEJOIGNhbGN1bGF0aW9uIHRlc3QgZmFpbGVkIC0gY2xvY2sg
JWQsIGJwcCAlZCwgZXhwZWN0ZWQgUEJOICVkLCBhY3R1YWwgUEJOICVkLlxuIiwKLQkJCQkyOTcw
MDAsIDI0LCAxMDYzLCByZXQpOwotCQlyZXR1cm4gLUVJTlZBTDsKLQl9Ci0JcmV0dXJuIDA7Ci19
Ci0KIC8qIHdlIHdhbnQgdG8ga2ljayB0aGUgVFggYWZ0ZXIgd2UndmUgYWNrIHRoZSB1cC9kb3du
IElSUXMuICovCiBzdGF0aWMgdm9pZCBkcm1fZHBfbXN0X2tpY2tfdHgoc3RydWN0IGRybV9kcF9t
c3RfdG9wb2xvZ3lfbWdyICptZ3IpCiB7CkBAIC0zODk4LDggKzM4NzMsNiBAQCBpbnQgZHJtX2Rw
X21zdF90b3BvbG9neV9tZ3JfaW5pdChzdHJ1Y3QgZHJtX2RwX21zdF90b3BvbG9neV9tZ3IgKm1n
ciwKIAlpZiAoIW1nci0+cHJvcG9zZWRfdmNwaXMpCiAJCXJldHVybiAtRU5PTUVNOwogCXNldF9i
aXQoMCwgJm1nci0+cGF5bG9hZF9tYXNrKTsKLQlpZiAodGVzdF9jYWxjX3Bibl9tb2RlKCkgPCAw
KQotCQlEUk1fRVJST1IoIk1TVCBQQk4gc2VsZi10ZXN0IGZhaWxlZFxuIik7CiAKIAltc3Rfc3Rh
dGUgPSBremFsbG9jKHNpemVvZigqbXN0X3N0YXRlKSwgR0ZQX0tFUk5FTCk7CiAJaWYgKG1zdF9z
dGF0ZSA9PSBOVUxMKQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3NlbGZ0ZXN0cy9NYWtl
ZmlsZSBiL2RyaXZlcnMvZ3B1L2RybS9zZWxmdGVzdHMvTWFrZWZpbGUKaW5kZXggYWFlODhmOGEw
MTZjLi5kMjEzNzM0MmIzNzEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9zZWxmdGVzdHMv
TWFrZWZpbGUKKysrIGIvZHJpdmVycy9ncHUvZHJtL3NlbGZ0ZXN0cy9NYWtlZmlsZQpAQCAtMSw2
ICsxLDYgQEAKICMgU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb25seQogdGVzdC1k
cm1fbW9kZXNldC15IDo9IHRlc3QtZHJtX21vZGVzZXRfY29tbW9uLm8gdGVzdC1kcm1fcGxhbmVf
aGVscGVyLm8gXAogICAgICAgICAgICAgICAgICAgICAgIHRlc3QtZHJtX2Zvcm1hdC5vIHRlc3Qt
ZHJtX2ZyYW1lYnVmZmVyLm8gXAotCQkgICAgICB0ZXN0LWRybV9kYW1hZ2VfaGVscGVyLm8KKwkJ
ICAgICAgdGVzdC1kcm1fZGFtYWdlX2hlbHBlci5vIHRlc3QtZHJtX2RwX21zdF9oZWxwZXIubwog
CiBvYmotJChDT05GSUdfRFJNX0RFQlVHX1NFTEZURVNUKSArPSB0ZXN0LWRybV9tbS5vIHRlc3Qt
ZHJtX21vZGVzZXQubyB0ZXN0LWRybV9jbWRsaW5lX3BhcnNlci5vCmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vc2VsZnRlc3RzL2RybV9tb2Rlc2V0X3NlbGZ0ZXN0cy5oIGIvZHJpdmVycy9n
cHUvZHJtL3NlbGZ0ZXN0cy9kcm1fbW9kZXNldF9zZWxmdGVzdHMuaAppbmRleCA0NjQ3NTM3NDYw
MTMuLmRlYzNlZTNlYzk2ZiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3NlbGZ0ZXN0cy9k
cm1fbW9kZXNldF9zZWxmdGVzdHMuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vc2VsZnRlc3RzL2Ry
bV9tb2Rlc2V0X3NlbGZ0ZXN0cy5oCkBAIC0zMiwzICszMiw0IEBAIHNlbGZ0ZXN0KGRhbWFnZV9p
dGVyX2RhbWFnZV9vbmVfaW50ZXJzZWN0LCBpZ3RfZGFtYWdlX2l0ZXJfZGFtYWdlX29uZV9pbnRl
cnNlY3QpCiBzZWxmdGVzdChkYW1hZ2VfaXRlcl9kYW1hZ2Vfb25lX291dHNpZGUsIGlndF9kYW1h
Z2VfaXRlcl9kYW1hZ2Vfb25lX291dHNpZGUpCiBzZWxmdGVzdChkYW1hZ2VfaXRlcl9kYW1hZ2Vf
c3JjX21vdmVkLCBpZ3RfZGFtYWdlX2l0ZXJfZGFtYWdlX3NyY19tb3ZlZCkKIHNlbGZ0ZXN0KGRh
bWFnZV9pdGVyX2RhbWFnZV9ub3RfdmlzaWJsZSwgaWd0X2RhbWFnZV9pdGVyX2RhbWFnZV9ub3Rf
dmlzaWJsZSkKK3NlbGZ0ZXN0KGRwX21zdF9jYWxjX3Bibl9tb2RlLCBpZ3RfZHBfbXN0X2NhbGNf
cGJuX21vZGUpCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vc2VsZnRlc3RzL3Rlc3QtZHJt
X2RwX21zdF9oZWxwZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9zZWxmdGVzdHMvdGVzdC1kcm1fZHBf
bXN0X2hlbHBlci5jCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAwMC4uNTFi
MjQ4NmVjOTE3Ci0tLSAvZGV2L251bGwKKysrIGIvZHJpdmVycy9ncHUvZHJtL3NlbGZ0ZXN0cy90
ZXN0LWRybV9kcF9tc3RfaGVscGVyLmMKQEAgLTAsMCArMSwzNiBAQAorLy8gU1BEWC1MaWNlbnNl
LUlkZW50aWZpZXI6IEdQTC0yLjAtb25seQorLyoKKyAqIFRlc3QgY2FzZXMgZm9yIGZvciB0aGUg
RFJNIERQIE1TVCBoZWxwZXJzCisgKi8KKworI2RlZmluZSBwcl9mbXQoZm10KSAiZHJtX2RwX21z
dF9oZWxwZXI6ICIgZm10CisKKyNpbmNsdWRlIDxkcm0vZHJtX2RwX21zdF9oZWxwZXIuaD4KKyNp
bmNsdWRlIDxkcm0vZHJtX3ByaW50Lmg+CisKKyNpbmNsdWRlICJ0ZXN0LWRybV9tb2Rlc2V0X2Nv
bW1vbi5oIgorCitpbnQgaWd0X2RwX21zdF9jYWxjX3Bibl9tb2RlKHZvaWQgKmlnbm9yZWQpCit7
CisJaW50IHBibiwgaTsKKwljb25zdCBzdHJ1Y3QgeworCQlpbnQgcmF0ZTsKKwkJaW50IGJwcDsK
KwkJaW50IGV4cGVjdGVkOworCX0gdGVzdF9wYXJhbXNbXSA9IHsKKwkJeyAxNTQwMDAsIDMwLCA2
ODkgfSwKKwkJeyAyMzQwMDAsIDMwLCAxMDQ3IH0sCisJCXsgMjk3MDAwLCAyNCwgMTA2MyB9LAor
CX07CisKKwlmb3IgKGkgPSAwOyBpIDwgQVJSQVlfU0laRSh0ZXN0X3BhcmFtcyk7IGkrKykgewor
CQlwYm4gPSBkcm1fZHBfY2FsY19wYm5fbW9kZSh0ZXN0X3BhcmFtc1tpXS5yYXRlLAorCQkJCQkg
ICB0ZXN0X3BhcmFtc1tpXS5icHApOworCQlGQUlMKHBibiAhPSB0ZXN0X3BhcmFtc1tpXS5leHBl
Y3RlZCwKKwkJICAgICAiRXhwZWN0ZWQgUEJOICVkIGZvciBjbG9jayAlZCBicHAgJWQsIGdvdCAl
ZFxuIiwKKwkJICAgICB0ZXN0X3BhcmFtc1tpXS5leHBlY3RlZCwgdGVzdF9wYXJhbXNbaV0ucmF0
ZSwKKwkJICAgICB0ZXN0X3BhcmFtc1tpXS5icHAsIHBibik7CisJfQorCisJcmV0dXJuIDA7Cit9
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vc2VsZnRlc3RzL3Rlc3QtZHJtX21vZGVzZXRf
Y29tbW9uLmggYi9kcml2ZXJzL2dwdS9kcm0vc2VsZnRlc3RzL3Rlc3QtZHJtX21vZGVzZXRfY29t
bW9uLmgKaW5kZXggOGM3NmYwOWMxMmQxLi41OTBiZGEzNWE2ODMgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9zZWxmdGVzdHMvdGVzdC1kcm1fbW9kZXNldF9jb21tb24uaAorKysgYi9kcml2
ZXJzL2dwdS9kcm0vc2VsZnRlc3RzL3Rlc3QtZHJtX21vZGVzZXRfY29tbW9uLmgKQEAgLTM5LDUg
KzM5LDYgQEAgaW50IGlndF9kYW1hZ2VfaXRlcl9kYW1hZ2Vfb25lX2ludGVyc2VjdCh2b2lkICpp
Z25vcmVkKTsKIGludCBpZ3RfZGFtYWdlX2l0ZXJfZGFtYWdlX29uZV9vdXRzaWRlKHZvaWQgKmln
bm9yZWQpOwogaW50IGlndF9kYW1hZ2VfaXRlcl9kYW1hZ2Vfc3JjX21vdmVkKHZvaWQgKmlnbm9y
ZWQpOwogaW50IGlndF9kYW1hZ2VfaXRlcl9kYW1hZ2Vfbm90X3Zpc2libGUodm9pZCAqaWdub3Jl
ZCk7CitpbnQgaWd0X2RwX21zdF9jYWxjX3Bibl9tb2RlKHZvaWQgKmlnbm9yZWQpOwogCiAjZW5k
aWYKLS0gCjIuMjEuMAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Au
b3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRl
dmVs
