Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 1C813670C8
	for <lists+dri-devel@lfdr.de>; Fri, 12 Jul 2019 15:59:25 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 722F288E40;
	Fri, 12 Jul 2019 13:59:19 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 970336E0DB;
 Fri, 12 Jul 2019 13:59:17 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga007.fm.intel.com ([10.253.24.52])
 by orsmga101.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 12 Jul 2019 06:59:17 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.63,482,1557212400"; d="scan'208";a="168323418"
Received: from ramaling-i9x.iind.intel.com ([10.99.66.154])
 by fmsmga007.fm.intel.com with ESMTP; 12 Jul 2019 06:59:15 -0700
From: Ramalingam C <ramalingam.c@intel.com>
To: intel-gfx <intel-gfx@lists.freedesktop.org>,
 dri-devel <dri-devel@lists.freedesktop.org>,
 Pekka Paalanen <ppaalanen@gmail.com>, Daniel Vetter <daniel@ffwll.ch>
Subject: [PATCH v10 2/6] drm/i915: Attach content type property
Date: Fri, 12 Jul 2019 12:30:22 +0530
Message-Id: <20190712070026.13088-3-ramalingam.c@intel.com>
X-Mailer: git-send-email 2.19.1
In-Reply-To: <20190712070026.13088-1-ramalingam.c@intel.com>
References: <20190712070026.13088-1-ramalingam.c@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QXR0YWNoZXMgdGhlIGNvbnRlbnQgdHlwZSBwcm9wZXJ0eSBmb3IgSERDUDIuMiBjYXBhYmxlIGNv
bm5lY3RvcnMuCgpJbXBsZW1lbnRzIHRoZSB1cGRhdGUgb2YgY29udGVudCB0eXBlIGZyb20gcHJv
cGVydHkgYW5kIGFwcGx5IHRoZQpyZXN0cmljdGlvbiBvbiBIRENQIHZlcnNpb24gc2VsZWN0aW9u
LgoKTmVlZCBBQ0sgZm9yIGNvbnRlbnQgdHlwZSBwcm9wZXJ0eSBmcm9tIHVzZXJzcGFjZSBjb25z
dW1lci4KCnYyOgogIHMvY3BfY29udGVudF90eXBlL2NvbnRlbnRfcHJvdGVjdGlvbl90eXBlIFtk
YW5pZWxdCiAgZGlzYWJsZSBhdCBoZGNwX2F0b21pY19jaGVjayB0byBhdm9pZCBjaGVjayBhdCBh
dG9taWNfc2V0X3Byb3BlcnR5CglbTWFhcnRlbl0KdjM6CiAgcy9jb250ZW50X3Byb3RlY3Rpb25f
dHlwZS9oZGNwX2NvbnRlbnRfdHlwZSBbUGVra2FdCnY0OgogIGhkY3AgZGlzYWJsZSBpbmNhc2Ug
b2YgdHlwZSBjaGFuZ2UgaXMgbW92ZWQgaW50byBjb21taXQgW2RhbmllbF0uCnY1OgogIFNpbXBs
aWZpZWQgdGhlIFR5cGUgY2hhbmdlIHByb2NlZHVyZS4gW0RhbmllbF0KdjY6CiAgVHlwZSBjaGFu
Z2Ugd2l0aCBVTkRFU0lSRUQgc3RhdGUgaXMgaWdub3JlZC4KClNpZ25lZC1vZmYtYnk6IFJhbWFs
aW5nYW0gQyA8cmFtYWxpbmdhbS5jQGludGVsLmNvbT4KUmV2aWV3ZWQtYnk6IERhbmllbCBWZXR0
ZXIgPGRhbmllbC52ZXR0ZXJAZmZ3bGwuY2g+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF9kZGkuYyAgfCAzOSArKysrKysrKysrKysrKysrLS0tLQogZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9oZGNwLmMgfCA0MyArKysrKysrKysrKysrKystLS0tLS0t
LQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9oZGNwLmggfCAgMiArLQogMyBm
aWxlcyBjaGFuZ2VkLCA2MiBpbnNlcnRpb25zKCspLCAyMiBkZWxldGlvbnMoLSkKCmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RkaS5jIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYwppbmRleCA4NDQ1MjQ0YWE1OTMuLjg5MDBm
YWEwYjMwOCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9k
ZGkuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RkaS5jCkBAIC0z
NTM1LDcgKzM1MzUsOCBAQCBzdGF0aWMgdm9pZCBpbnRlbF9lbmFibGVfZGRpKHN0cnVjdCBpbnRl
bF9lbmNvZGVyICplbmNvZGVyLAogCS8qIEVuYWJsZSBoZGNwIGlmIGl0J3MgZGVzaXJlZCAqLwog
CWlmIChjb25uX3N0YXRlLT5jb250ZW50X3Byb3RlY3Rpb24gPT0KIAkgICAgRFJNX01PREVfQ09O
VEVOVF9QUk9URUNUSU9OX0RFU0lSRUQpCi0JCWludGVsX2hkY3BfZW5hYmxlKHRvX2ludGVsX2Nv
bm5lY3Rvcihjb25uX3N0YXRlLT5jb25uZWN0b3IpKTsKKwkJaW50ZWxfaGRjcF9lbmFibGUodG9f
aW50ZWxfY29ubmVjdG9yKGNvbm5fc3RhdGUtPmNvbm5lY3RvciksCisJCQkJICAodTgpY29ubl9z
dGF0ZS0+aGRjcF9jb250ZW50X3R5cGUpOwogfQogCiBzdGF0aWMgdm9pZCBpbnRlbF9kaXNhYmxl
X2RkaV9kcChzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKQEAgLTM2MDQsMTUgKzM2MDUs
NDEgQEAgc3RhdGljIHZvaWQgaW50ZWxfZGRpX3VwZGF0ZV9waXBlKHN0cnVjdCBpbnRlbF9lbmNv
ZGVyICplbmNvZGVyLAogCQkJCSAgY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNf
c3RhdGUsCiAJCQkJICBjb25zdCBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9zdGF0ZSAqY29ubl9zdGF0
ZSkKIHsKKwlzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICpjb25uZWN0b3IgPQorCQkJCXRvX2ludGVs
X2Nvbm5lY3Rvcihjb25uX3N0YXRlLT5jb25uZWN0b3IpOworCXN0cnVjdCBpbnRlbF9oZGNwICpo
ZGNwID0gJmNvbm5lY3Rvci0+aGRjcDsKKwlib29sIGNvbnRlbnRfcHJvdGVjdGlvbl90eXBlX2No
YW5nZWQgPQorCQkJKGNvbm5fc3RhdGUtPmhkY3BfY29udGVudF90eXBlICE9IGhkY3AtPmNvbnRl
bnRfdHlwZSAmJgorCQkJIGNvbm5fc3RhdGUtPmNvbnRlbnRfcHJvdGVjdGlvbiAhPQorCQkJIERS
TV9NT0RFX0NPTlRFTlRfUFJPVEVDVElPTl9VTkRFU0lSRUQpOworCiAJaWYgKCFpbnRlbF9jcnRj
X2hhc190eXBlKGNydGNfc3RhdGUsIElOVEVMX09VVFBVVF9IRE1JKSkKIAkJaW50ZWxfZGRpX3Vw
ZGF0ZV9waXBlX2RwKGVuY29kZXIsIGNydGNfc3RhdGUsIGNvbm5fc3RhdGUpOwogCisJLyoKKwkg
KiBEdXJpbmcgdGhlIEhEQ1AgZW5jcnlwdGlvbiBzZXNzaW9uIGlmIFR5cGUgY2hhbmdlIGlzIHJl
cXVlc3RlZCwKKwkgKiBkaXNhYmxlIHRoZSBIRENQIGFuZCByZWVuYWJsZSBpdCB3aXRoIG5ldyBU
WVBFIHZhbHVlLgorCSAqLwogCWlmIChjb25uX3N0YXRlLT5jb250ZW50X3Byb3RlY3Rpb24gPT0K
LQkgICAgRFJNX01PREVfQ09OVEVOVF9QUk9URUNUSU9OX0RFU0lSRUQpCi0JCWludGVsX2hkY3Bf
ZW5hYmxlKHRvX2ludGVsX2Nvbm5lY3Rvcihjb25uX3N0YXRlLT5jb25uZWN0b3IpKTsKLQllbHNl
IGlmIChjb25uX3N0YXRlLT5jb250ZW50X3Byb3RlY3Rpb24gPT0KLQkJIERSTV9NT0RFX0NPTlRF
TlRfUFJPVEVDVElPTl9VTkRFU0lSRUQpCi0JCWludGVsX2hkY3BfZGlzYWJsZSh0b19pbnRlbF9j
b25uZWN0b3IoY29ubl9zdGF0ZS0+Y29ubmVjdG9yKSk7CisJICAgIERSTV9NT0RFX0NPTlRFTlRf
UFJPVEVDVElPTl9VTkRFU0lSRUQgfHwKKwkgICAgY29udGVudF9wcm90ZWN0aW9uX3R5cGVfY2hh
bmdlZCkKKwkJaW50ZWxfaGRjcF9kaXNhYmxlKGNvbm5lY3Rvcik7CisKKwkvKgorCSAqIE1hcmsg
dGhlIGhkY3Agc3RhdGUgYXMgREVTSVJFRCBhZnRlciB0aGUgaGRjcCBkaXNhYmxlIG9mIHR5cGUK
KwkgKiBjaGFuZ2UgcHJvY2VkdXJlLgorCSAqLworCWlmIChjb250ZW50X3Byb3RlY3Rpb25fdHlw
ZV9jaGFuZ2VkKSB7CisJCW11dGV4X2xvY2soJmhkY3AtPm11dGV4KTsKKwkJaGRjcC0+dmFsdWUg
PSBEUk1fTU9ERV9DT05URU5UX1BST1RFQ1RJT05fREVTSVJFRDsKKwkJc2NoZWR1bGVfd29yaygm
aGRjcC0+cHJvcF93b3JrKTsKKwkJbXV0ZXhfdW5sb2NrKCZoZGNwLT5tdXRleCk7CisJfQorCisJ
aWYgKGNvbm5fc3RhdGUtPmNvbnRlbnRfcHJvdGVjdGlvbiA9PQorCSAgICBEUk1fTU9ERV9DT05U
RU5UX1BST1RFQ1RJT05fREVTSVJFRCB8fAorCSAgICBjb250ZW50X3Byb3RlY3Rpb25fdHlwZV9j
aGFuZ2VkKQorCQlpbnRlbF9oZGNwX2VuYWJsZShjb25uZWN0b3IsICh1OCljb25uX3N0YXRlLT5o
ZGNwX2NvbnRlbnRfdHlwZSk7CiB9CiAKIHN0YXRpYyB2b2lkCmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2hkY3AuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfaGRjcC5jCmluZGV4IDQwZTIyMDBmZjY5Ny4uMTQzNGZjMDljYTI5IDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2hkY3AuYworKysg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2hkY3AuYwpAQCAtMTc1NCwxNCAr
MTc1NCwxNSBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGNvbXBvbmVudF9vcHMgaTkxNV9oZGNwX2Nv
bXBvbmVudF9vcHMgPSB7CiAJLnVuYmluZCA9IGk5MTVfaGRjcF9jb21wb25lbnRfdW5iaW5kLAog
fTsKIAotc3RhdGljIGlubGluZSBpbnQgaW5pdGlhbGl6ZV9oZGNwX3BvcnRfZGF0YShzdHJ1Y3Qg
aW50ZWxfY29ubmVjdG9yICpjb25uZWN0b3IpCitzdGF0aWMgaW5saW5lIGludCBpbml0aWFsaXpl
X2hkY3BfcG9ydF9kYXRhKHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvciwKKwkJCQkJ
ICAgIGNvbnN0IHN0cnVjdCBpbnRlbF9oZGNwX3NoaW0gKnNoaW0pCiB7CiAJc3RydWN0IGludGVs
X2hkY3AgKmhkY3AgPSAmY29ubmVjdG9yLT5oZGNwOwogCXN0cnVjdCBoZGNwX3BvcnRfZGF0YSAq
ZGF0YSA9ICZoZGNwLT5wb3J0X2RhdGE7CiAKIAlkYXRhLT5wb3J0ID0gY29ubmVjdG9yLT5lbmNv
ZGVyLT5wb3J0OwogCWRhdGEtPnBvcnRfdHlwZSA9ICh1OClIRENQX1BPUlRfVFlQRV9JTlRFR1JB
VEVEOwotCWRhdGEtPnByb3RvY29sID0gKHU4KWhkY3AtPnNoaW0tPnByb3RvY29sOworCWRhdGEt
PnByb3RvY29sID0gKHU4KXNoaW0tPnByb3RvY29sOwogCiAJZGF0YS0+ayA9IDE7CiAJaWYgKCFk
YXRhLT5zdHJlYW1zKQpAQCAtMTgxMSwxMiArMTgxMiwxMyBAQCB2b2lkIGludGVsX2hkY3BfY29t
cG9uZW50X2luaXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQogCX0KIH0KIAot
c3RhdGljIHZvaWQgaW50ZWxfaGRjcDJfaW5pdChzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICpjb25u
ZWN0b3IpCitzdGF0aWMgdm9pZCBpbnRlbF9oZGNwMl9pbml0KHN0cnVjdCBpbnRlbF9jb25uZWN0
b3IgKmNvbm5lY3RvciwKKwkJCSAgICAgY29uc3Qgc3RydWN0IGludGVsX2hkY3Bfc2hpbSAqc2hp
bSkKIHsKIAlzdHJ1Y3QgaW50ZWxfaGRjcCAqaGRjcCA9ICZjb25uZWN0b3ItPmhkY3A7CiAJaW50
IHJldDsKIAotCXJldCA9IGluaXRpYWxpemVfaGRjcF9wb3J0X2RhdGEoY29ubmVjdG9yKTsKKwly
ZXQgPSBpbml0aWFsaXplX2hkY3BfcG9ydF9kYXRhKGNvbm5lY3Rvciwgc2hpbSk7CiAJaWYgKHJl
dCkgewogCQlEUk1fREVCVUdfS01TKCJNZWkgaGRjcCBkYXRhIGluaXQgZmFpbGVkXG4iKTsKIAkJ
cmV0dXJuOwpAQCAtMTgzNSwyNSArMTgzNywyOCBAQCBpbnQgaW50ZWxfaGRjcF9pbml0KHN0cnVj
dCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvciwKIAlpZiAoIXNoaW0pCiAJCXJldHVybiAtRUlO
VkFMOwogCisJaWYgKGlzX2hkY3AyX3N1cHBvcnRlZChkZXZfcHJpdikpCisJCWludGVsX2hkY3Ay
X2luaXQoY29ubmVjdG9yLCBzaGltKTsKKwogCXJldCA9CiAJZHJtX2Nvbm5lY3Rvcl9hdHRhY2hf
Y29udGVudF9wcm90ZWN0aW9uX3Byb3BlcnR5KCZjb25uZWN0b3ItPmJhc2UsCi0JCQkJCQkJIGZh
bHNlKTsKLQlpZiAocmV0KQorCQkJCQkJCSBoZGNwLT5oZGNwMl9zdXBwb3J0ZWQpOworCWlmIChy
ZXQpIHsKKwkJaGRjcC0+aGRjcDJfc3VwcG9ydGVkID0gZmFsc2U7CisJCWtmcmVlKGhkY3AtPnBv
cnRfZGF0YS5zdHJlYW1zKTsKIAkJcmV0dXJuIHJldDsKKwl9CiAKIAloZGNwLT5zaGltID0gc2hp
bTsKIAltdXRleF9pbml0KCZoZGNwLT5tdXRleCk7CiAJSU5JVF9ERUxBWUVEX1dPUksoJmhkY3At
PmNoZWNrX3dvcmssIGludGVsX2hkY3BfY2hlY2tfd29yayk7CiAJSU5JVF9XT1JLKCZoZGNwLT5w
cm9wX3dvcmssIGludGVsX2hkY3BfcHJvcF93b3JrKTsKLQotCWlmIChpc19oZGNwMl9zdXBwb3J0
ZWQoZGV2X3ByaXYpKQotCQlpbnRlbF9oZGNwMl9pbml0KGNvbm5lY3Rvcik7CiAJaW5pdF93YWl0
cXVldWVfaGVhZCgmaGRjcC0+Y3BfaXJxX3F1ZXVlKTsKIAogCXJldHVybiAwOwogfQogCi1pbnQg
aW50ZWxfaGRjcF9lbmFibGUoc3RydWN0IGludGVsX2Nvbm5lY3RvciAqY29ubmVjdG9yKQoraW50
IGludGVsX2hkY3BfZW5hYmxlKHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvciwgdTgg
Y29udGVudF90eXBlKQogewogCXN0cnVjdCBpbnRlbF9oZGNwICpoZGNwID0gJmNvbm5lY3Rvci0+
aGRjcDsKIAl1bnNpZ25lZCBsb25nIGNoZWNrX2xpbmtfaW50ZXJ2YWwgPSBEUk1fSERDUF9DSEVD
S19QRVJJT0RfTVM7CkBAIC0xODY0LDYgKzE4NjksNyBAQCBpbnQgaW50ZWxfaGRjcF9lbmFibGUo
c3RydWN0IGludGVsX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogCiAJbXV0ZXhfbG9jaygmaGRjcC0+
bXV0ZXgpOwogCVdBUk5fT04oaGRjcC0+dmFsdWUgPT0gRFJNX01PREVfQ09OVEVOVF9QUk9URUNU
SU9OX0VOQUJMRUQpOworCWhkY3AtPmNvbnRlbnRfdHlwZSA9IGNvbnRlbnRfdHlwZTsKIAogCS8q
CiAJICogQ29uc2lkZXJpbmcgdGhhdCBIRENQMi4yIGlzIG1vcmUgc2VjdXJlIHRoYW4gSERDUDEu
NCwgSWYgdGhlIHNldHVwCkBAIC0xODc1LDggKzE4ODEsMTIgQEAgaW50IGludGVsX2hkY3BfZW5h
YmxlKHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvcikKIAkJCWNoZWNrX2xpbmtfaW50
ZXJ2YWwgPSBEUk1fSERDUDJfQ0hFQ0tfUEVSSU9EX01TOwogCX0KIAotCS8qIFdoZW4gSERDUDIu
MiBmYWlscywgSERDUDEuNCB3aWxsIGJlIGF0dGVtcHRlZCAqLwotCWlmIChyZXQgJiYgaW50ZWxf
aGRjcF9jYXBhYmxlKGNvbm5lY3RvcikpIHsKKwkvKgorCSAqIFdoZW4gSERDUDIuMiBmYWlscyBh
bmQgQ29udGVudCBUeXBlIGlzIG5vdCBUeXBlMSwgSERDUDEuNCB3aWxsCisJICogYmUgYXR0ZW1w
dGVkLgorCSAqLworCWlmIChyZXQgJiYgaW50ZWxfaGRjcF9jYXBhYmxlKGNvbm5lY3RvcikgJiYK
KwkgICAgaGRjcC0+Y29udGVudF90eXBlICE9IERSTV9NT0RFX0hEQ1BfQ09OVEVOVF9UWVBFMSkg
ewogCQlyZXQgPSBfaW50ZWxfaGRjcF9lbmFibGUoY29ubmVjdG9yKTsKIAl9CiAKQEAgLTE5NTgs
MTIgKzE5NjgsMTUgQEAgdm9pZCBpbnRlbF9oZGNwX2F0b21pY19jaGVjayhzdHJ1Y3QgZHJtX2Nv
bm5lY3RvciAqY29ubmVjdG9yLAogCiAJLyoKIAkgKiBOb3RoaW5nIHRvIGRvIGlmIHRoZSBzdGF0
ZSBkaWRuJ3QgY2hhbmdlLCBvciBIRENQIHdhcyBhY3RpdmF0ZWQgc2luY2UKLQkgKiB0aGUgbGFz
dCBjb21taXQKKwkgKiB0aGUgbGFzdCBjb21taXQuIEFuZCBhbHNvIG5vIGNoYW5nZSBpbiBoZGNw
IGNvbnRlbnQgdHlwZS4KIAkgKi8KIAlpZiAob2xkX2NwID09IG5ld19jcCB8fAogCSAgICAob2xk
X2NwID09IERSTV9NT0RFX0NPTlRFTlRfUFJPVEVDVElPTl9ERVNJUkVEICYmCi0JICAgICBuZXdf
Y3AgPT0gRFJNX01PREVfQ09OVEVOVF9QUk9URUNUSU9OX0VOQUJMRUQpKQotCQlyZXR1cm47CisJ
ICAgICBuZXdfY3AgPT0gRFJNX01PREVfQ09OVEVOVF9QUk9URUNUSU9OX0VOQUJMRUQpKSB7CisJ
CWlmIChvbGRfc3RhdGUtPmhkY3BfY29udGVudF90eXBlID09CisJCQkJbmV3X3N0YXRlLT5oZGNw
X2NvbnRlbnRfdHlwZSkKKwkJCXJldHVybjsKKwl9CiAKIAljcnRjX3N0YXRlID0gZHJtX2F0b21p
Y19nZXRfbmV3X2NydGNfc3RhdGUobmV3X3N0YXRlLT5zdGF0ZSwKIAkJCQkJCSAgIG5ld19zdGF0
ZS0+Y3J0Yyk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVs
X2hkY3AuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfaGRjcC5oCmluZGV4
IGJlOGRhODVjODY2YS4uMTM1NTViMDU0OTMwIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2hkY3AuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2hkY3AuaApAQCAtMjEsNyArMjEsNyBAQCB2b2lkIGludGVsX2hkY3BfYXRvbWlj
X2NoZWNrKHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IsCiAJCQkgICAgIHN0cnVjdCBk
cm1fY29ubmVjdG9yX3N0YXRlICpuZXdfc3RhdGUpOwogaW50IGludGVsX2hkY3BfaW5pdChzdHJ1
Y3QgaW50ZWxfY29ubmVjdG9yICpjb25uZWN0b3IsCiAJCSAgICBjb25zdCBzdHJ1Y3QgaW50ZWxf
aGRjcF9zaGltICpoZGNwX3NoaW0pOwotaW50IGludGVsX2hkY3BfZW5hYmxlKHN0cnVjdCBpbnRl
bF9jb25uZWN0b3IgKmNvbm5lY3Rvcik7CitpbnQgaW50ZWxfaGRjcF9lbmFibGUoc3RydWN0IGlu
dGVsX2Nvbm5lY3RvciAqY29ubmVjdG9yLCB1OCBjb250ZW50X3R5cGUpOwogaW50IGludGVsX2hk
Y3BfZGlzYWJsZShzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICpjb25uZWN0b3IpOwogYm9vbCBpc19o
ZGNwX3N1cHBvcnRlZChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsIGVudW0gcG9y
dCBwb3J0KTsKIGJvb2wgaW50ZWxfaGRjcF9jYXBhYmxlKHN0cnVjdCBpbnRlbF9jb25uZWN0b3Ig
KmNvbm5lY3Rvcik7Ci0tIAoyLjE5LjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZy
ZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3Rp
bmZvL2RyaS1kZXZlbA==
