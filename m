Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 760EC2CE658
	for <lists+dri-devel@lfdr.de>; Fri,  4 Dec 2020 04:17:50 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 408DB6E11E;
	Fri,  4 Dec 2020 03:17:41 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from NAM04-BN8-obe.outbound.protection.outlook.com
 (mail-bn8nam08on2082.outbound.protection.outlook.com [40.107.100.82])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2D9686E120;
 Fri,  4 Dec 2020 03:17:40 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=K75/6amUBhBvFkcLVQ2UtNyBZuDhBaTQy+eMcb0RxnJxlYopfRZkGtpMYS/cZqQk8KGN1PjCAbSuM+/D/QihxVDEx7+tVIMNi/RQn3k1htqAaxyBWlCdm/aHONE5IEjNviCpGsC1UyhzikStyqYdVrvoRdUKc5oxGcaiLKeMpNW73TgZagMTCYaYRtXdQKfW1uSEfFtb6UAobEEof2L57emBKjC//BJDXQ1iHPefhMiqqT/C4X13K7g4m1qSM095PS+cMGo8A5Qrj0ivsgf3EujefF+IFuIImjK9f0/qnm6P7BpvvLLazeu0nRxPOL8u8IXux90nv3CmUMTv/rEBDA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=nv7Kb4kirg6TaHq0Y3aJ38nd3q3TPqG7keWroKcJN+U=;
 b=b6bF0ttu8gj7dfyzuwVLBFLUEQdPu2NQf4P0R1RjOhnuqXbNTr5h5VAurLdTLG3Zfjv0Q6LBCf/gx/ezgFTDFQfU//9KDtoL6EW59b1dekQtBNpB84Qzqd53SlbWNEnnli2eBKox3pQmfBBVCbuHMEMsom7091EWKNVcONwXICc7DH1lSnoXIc/Ytuf3M7lWnHV4xmRn/893L50yI5xv+Qvf6B/1JL18cafHLvIjHitRzvcGUomNdI3v4/ZEhgNxpYfHbCJRcqfbUuVNa3YdyBmWUFlREtLNKBFWrl7WgfOL2EBmIu0pT2e9QamDJ+YdHldZp+dGE8iUdlu3kzNFLA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=nv7Kb4kirg6TaHq0Y3aJ38nd3q3TPqG7keWroKcJN+U=;
 b=at86S4NtGuDX2eJrnrTEbvXAamyXUwdF432IiG23anl3YLycI9YIavpphPavIx9b2zfi3sVzCSmG+q0hiaadCCtXj0G8w3/M0337xSiL+rPeKhCEbxIoHQPRpaO4j82qpBmIq2/4u3I8sNaUyLPYPgrcG+KcoX+fpION2REc38U=
Authentication-Results: lists.freedesktop.org; dkim=none (message not signed)
 header.d=none; lists.freedesktop.org;
 dmarc=none action=none header.from=amd.com;
Received: from DM6PR12MB3962.namprd12.prod.outlook.com (2603:10b6:5:1ce::21)
 by DM6PR12MB4043.namprd12.prod.outlook.com (2603:10b6:5:216::14) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.3632.17; Fri, 4 Dec
 2020 03:17:38 +0000
Received: from DM6PR12MB3962.namprd12.prod.outlook.com
 ([fe80::d055:19dc:5b0f:ed56]) by DM6PR12MB3962.namprd12.prod.outlook.com
 ([fe80::d055:19dc:5b0f:ed56%6]) with mapi id 15.20.3632.021; Fri, 4 Dec 2020
 03:17:38 +0000
From: Luben Tuikov <luben.tuikov@amd.com>
To: amd-gfx@lists.freedesktop.org,
	dri-devel@lists.freedesktop.org
Subject: [PATCH 1/5] drm/scheduler: "node" --> "list"
Date: Thu,  3 Dec 2020 22:17:18 -0500
Message-Id: <20201204031722.24040-2-luben.tuikov@amd.com>
X-Mailer: git-send-email 2.29.2.404.ge67fbf927d
In-Reply-To: <20201204031722.24040-1-luben.tuikov@amd.com>
References: <20201204031722.24040-1-luben.tuikov@amd.com>
X-Originating-IP: [165.204.55.250]
X-ClientProxiedBy: CH2PR02CA0026.namprd02.prod.outlook.com
 (2603:10b6:610:4e::36) To DM6PR12MB3962.namprd12.prod.outlook.com
 (2603:10b6:5:1ce::21)
MIME-Version: 1.0
X-MS-Exchange-MessageSentRepresentingType: 1
Received: from localhost.localdomain.amd.com (165.204.55.250) by
 CH2PR02CA0026.namprd02.prod.outlook.com (2603:10b6:610:4e::36) with Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.3632.17 via Frontend Transport; Fri, 4 Dec 2020 03:17:37 +0000
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-HT: Tenant
X-MS-Office365-Filtering-Correlation-Id: b4bed67e-c364-4a10-5449-08d8980326a0
X-MS-TrafficTypeDiagnostic: DM6PR12MB4043:
X-MS-Exchange-Transport-Forked: True
X-Microsoft-Antispam-PRVS: <DM6PR12MB4043D1102A53EAE67DC9997099F10@DM6PR12MB4043.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:1247;
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: FaYTXM7zyzqIjTqWataCZ7eQpEbk2Dr+4hO2yd1XfI7s9QlhyGu9U1MO2r2QbwSp3FE0QGOE50Ta/G+JIUNJsfwnGkwuLb6x6FvV/W3uLgE4fAm0y0DYMFxgaW0MZ02gGnv9s1OBQrwofE5VPvnPaRit9cv2zLsQpVShftoUx0KyI8+dm+sLk/8NhFO5yF/dKTXKV4+lxOc3Qp+vT4VIVSGZHJg7a9wdn8sa7rqdZ44efVaKUSvTXoKw3HuwsadcJc+p4I076IOgcVaWZEhMZOo6VJE4jMtcR09QUxDajq8XNAm5Edv7XpjYw4+ajl7vO+qp0XH6gMgzxtNl81ceNg==
X-Forefront-Antispam-Report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:DM6PR12MB3962.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(4636009)(376002)(39860400002)(366004)(346002)(136003)(396003)(16526019)(5660300002)(66946007)(956004)(1076003)(6486002)(2906002)(66556008)(66476007)(4326008)(6666004)(2616005)(83380400001)(186003)(36756003)(8676002)(86362001)(8936002)(26005)(44832011)(54906003)(7696005)(66574015)(52116002)(478600001)(316002);
 DIR:OUT; SFP:1101; 
X-MS-Exchange-AntiSpam-MessageData: =?utf-8?B?dXZWT0F6Ynl0ZEl6d2VPU05IL0ZtaUU0d1RjMjhLR01ORkM2RnJGcmFWeDhu?=
 =?utf-8?B?alV4Z3NiSFZkZWdmYjVuVTBDa1piL0Vhd3hSSk5lTStMZDlGdEhsemtNRU5E?=
 =?utf-8?B?QU93ZGZORUEwUXRtcnJmbFRwTWR3VjkyaFEwcWpKNC9ma2tuZUxwMEF2VkJX?=
 =?utf-8?B?UkdqajBxQ0xTK2FvbS9kd1N1SVREOFpkb2h2YlFsTEhlRVEvNkVCUlN0RUxZ?=
 =?utf-8?B?Y1AraXl1TkwvUm4zL1VMTWFnR2FKbklPOFJVZjdCbE1ZVTk3YVhVT291QzFi?=
 =?utf-8?B?RW4xYzJ4V0xRb1BCRDlsS2tWMlMzVnJJaWlaY1QrMUZaWmVDUjNrYldwMVgr?=
 =?utf-8?B?RHdKTEFiS2RWVG50QmVrODJzS0pwOFdjK3hyUFNLYk9qQ2pkRUlqbkc5dlZy?=
 =?utf-8?B?Z2x2QXZacXcyMElWdU5tWkkvQkVJSE5hdzArODd1OXNjK2RuT2dJQjVQQ2tS?=
 =?utf-8?B?TUY1MEJWVWs4Z1ZkZ3lYamthWXZic1ZiTzZ4d3hUMjNUYjVGM0FiaURER1A3?=
 =?utf-8?B?SW5aOGI2aWRkOEhZd0lsZDZxZ1dyVG9yU1JNQVZ2aXNTVGFuMm5abGc1ZFJq?=
 =?utf-8?B?dGRXWCtuRm53VGxNVUZiejlpU2M5Y0htdjNIN2NyeEhpdFl3Z3gvTHp3WTZ1?=
 =?utf-8?B?SnhFK3FoUVJkWHBrcmcxdDhwSzhPN1BkbnlSVFdsZUJySGR6blVsdk8xdUE1?=
 =?utf-8?B?TlVRNzAydm81ZWRpZTBZT1IrcFN1U3QxQ09mc1dwekE0Wlc4NkV4Vi8xVnpq?=
 =?utf-8?B?RVhFL1ZQVmZpYWhJN0l3RElBbmhaWG5zNG8waEkwVDJ2MDJkY01xeUZiWVM4?=
 =?utf-8?B?M1N2YjFETjRhNW9iTUpyOGVlN2U3QVNVYUFDQmppejdITjluT1VwcCtySWlJ?=
 =?utf-8?B?UXpaWnVHYjRqb05GcWRuRnN0bVpvMlhUN0JtRmlGTnUzcWdSYjVuNXFyeGV6?=
 =?utf-8?B?Vmp2ekRaUUhvVGtQVFZTV09abm5DTkd5SWRQQUduUUUrUXlUS0lZK1JxNmVQ?=
 =?utf-8?B?ZFUvd1dMSU1SOE1DRHA0c0p5NkQ4d3JnQW8zT2VyMGVLZEZJdEsvSndIWUpr?=
 =?utf-8?B?aFlsZDBrNURTL2RUVER2M1hndno4SUZEVG4vOGdmOUNyaE9CdEtPSERqWnkv?=
 =?utf-8?B?aDduNHpralV3MWJkTG5KL2V6RktWSXRFejR5NGE3QTd0c2VsdGdzVTF3dzky?=
 =?utf-8?B?M3pycHM2RVpGMXhMQTU2Q3RkR09kOEZobUZCWjlkVTBKN1pYL3JBNk5nbXJt?=
 =?utf-8?B?QkZTakpSbHhEQ2JnL2dpdGNpb0VSS0dmUnN5bUdpMWVDZnlETExZa2pDUGo1?=
 =?utf-8?Q?556pL5iIoxEGxqA7oLTuXpu0I5KCVIJQhK?=
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: b4bed67e-c364-4a10-5449-08d8980326a0
X-MS-Exchange-CrossTenant-AuthSource: DM6PR12MB3962.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 04 Dec 2020 03:17:37.4559 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: o1Xnz7yvQGtjSDKtYwqPtehV4cXyQU9g4NzKIvkkT1xIqHZXSdJnZMIfxLqqsqe4
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM6PR12MB4043
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Alexander Deucher <Alexander.Deucher@amd.com>,
 Luben Tuikov <luben.tuikov@amd.com>,
 =?UTF-8?q?Christian=20K=C3=B6nig?= <christian.koenig@amd.com>,
 Daniel Vetter <daniel.vetter@ffwll.ch>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

UmVuYW1lICJub2RlIiB0byAibGlzdCIgaW4gc3RydWN0IGRybV9zY2hlZF9qb2IsCmluIG9yZGVy
IHRvIG1ha2UgaXQgY29uc2lzdGVudCB3aXRoIHdoYXQgd2Ugc2VlCmJlaW5nIHVzZWQgdGhyb3Vn
aG91dCBncHVfc2NoZWR1bGVyLmgsIGZvcgppbnN0YW5jZSBpbiBzdHJ1Y3QgZHJtX3NjaGVkX2Vu
dGl0eSwgYXMgd2VsbCBhcwp0aGUgcmVzdCBvZiBEUk0gYW5kIHRoZSBrZXJuZWwuCgpTaWduZWQt
b2ZmLWJ5OiBMdWJlbiBUdWlrb3YgPGx1YmVuLnR1aWtvdkBhbWQuY29tPgpSZXZpZXdlZC1ieTog
Q2hyaXN0aWFuIEvDtm5pZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPgoKQ2M6IEFsZXhhbmRl
ciBEZXVjaGVyIDxBbGV4YW5kZXIuRGV1Y2hlckBhbWQuY29tPgpDYzogQW5kcmV5IEdyb2R6b3Zz
a3kgPEFuZHJleS5Hcm9kem92c2t5QGFtZC5jb20+CkNjOiBDaHJpc3RpYW4gS8O2bmlnIDxjaHJp
c3RpYW4ua29lbmlnQGFtZC5jb20+CkNjOiBEYW5pZWwgVmV0dGVyIDxkYW5pZWwudmV0dGVyQGZm
d2xsLmNoPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kZWJ1Z2ZzLmMg
fCAgNiArKystLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kZXZpY2UuYyAg
fCAgMiArLQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2pvYi5jICAgICB8ICAy
ICstCiBkcml2ZXJzL2dwdS9kcm0vc2NoZWR1bGVyL3NjaGVkX21haW4uYyAgICAgIHwgMjMgKysr
KysrKysrKystLS0tLS0tLS0tCiBpbmNsdWRlL2RybS9ncHVfc2NoZWR1bGVyLmggICAgICAgICAg
ICAgICAgIHwgIDQgKystLQogNSBmaWxlcyBjaGFuZ2VkLCAxOSBpbnNlcnRpb25zKCspLCAxOCBk
ZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRn
cHVfZGVidWdmcy5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RlYnVnZnMu
YwppbmRleCA1YzFmMzcyNWM3NDEuLjgzNThjYWUwYjVhNCAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RlYnVnZnMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHVfZGVidWdmcy5jCkBAIC0xNDI3LDcgKzE0MjcsNyBAQCBzdGF0aWMg
dm9pZCBhbWRncHVfaWJfcHJlZW1wdF9qb2JfcmVjb3Zlcnkoc3RydWN0IGRybV9ncHVfc2NoZWR1
bGVyICpzY2hlZCkKIAlzdHJ1Y3QgZG1hX2ZlbmNlICpmZW5jZTsKIAogCXNwaW5fbG9jaygmc2No
ZWQtPmpvYl9saXN0X2xvY2spOwotCWxpc3RfZm9yX2VhY2hfZW50cnkoc19qb2IsICZzY2hlZC0+
cmluZ19taXJyb3JfbGlzdCwgbm9kZSkgeworCWxpc3RfZm9yX2VhY2hfZW50cnkoc19qb2IsICZz
Y2hlZC0+cmluZ19taXJyb3JfbGlzdCwgbGlzdCkgewogCQlmZW5jZSA9IHNjaGVkLT5vcHMtPnJ1
bl9qb2Ioc19qb2IpOwogCQlkbWFfZmVuY2VfcHV0KGZlbmNlKTsKIAl9CkBAIC0xNDU5LDEwICsx
NDU5LDEwIEBAIHN0YXRpYyB2b2lkIGFtZGdwdV9pYl9wcmVlbXB0X21hcmtfcGFydGlhbF9qb2Io
c3RydWN0IGFtZGdwdV9yaW5nICpyaW5nKQogCiBub19wcmVlbXB0OgogCXNwaW5fbG9jaygmc2No
ZWQtPmpvYl9saXN0X2xvY2spOwotCWxpc3RfZm9yX2VhY2hfZW50cnlfc2FmZShzX2pvYiwgdG1w
LCAmc2NoZWQtPnJpbmdfbWlycm9yX2xpc3QsIG5vZGUpIHsKKwlsaXN0X2Zvcl9lYWNoX2VudHJ5
X3NhZmUoc19qb2IsIHRtcCwgJnNjaGVkLT5yaW5nX21pcnJvcl9saXN0LCBsaXN0KSB7CiAJCWlm
IChkbWFfZmVuY2VfaXNfc2lnbmFsZWQoJnNfam9iLT5zX2ZlbmNlLT5maW5pc2hlZCkpIHsKIAkJ
CS8qIHJlbW92ZSBqb2IgZnJvbSByaW5nX21pcnJvcl9saXN0ICovCi0JCQlsaXN0X2RlbF9pbml0
KCZzX2pvYi0+bm9kZSk7CisJCQlsaXN0X2RlbF9pbml0KCZzX2pvYi0+bGlzdCk7CiAJCQlzY2hl
ZC0+b3BzLT5mcmVlX2pvYihzX2pvYik7CiAJCQljb250aW51ZTsKIAkJfQpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RldmljZS5jIGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RldmljZS5jCmluZGV4IDc1NjBiMDVlNGFjMS4uNGRmNmRl
ODFjZDQxIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2
aWNlLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RldmljZS5jCkBA
IC00MTI4LDcgKzQxMjgsNyBAQCBib29sIGFtZGdwdV9kZXZpY2VfaGFzX2pvYl9ydW5uaW5nKHN0
cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQogCiAJCXNwaW5fbG9jaygmcmluZy0+c2NoZWQuam9i
X2xpc3RfbG9jayk7CiAJCWpvYiA9IGxpc3RfZmlyc3RfZW50cnlfb3JfbnVsbCgmcmluZy0+c2No
ZWQucmluZ19taXJyb3JfbGlzdCwKLQkJCQlzdHJ1Y3QgZHJtX3NjaGVkX2pvYiwgbm9kZSk7CisJ
CQkJc3RydWN0IGRybV9zY2hlZF9qb2IsIGxpc3QpOwogCQlzcGluX3VubG9jaygmcmluZy0+c2No
ZWQuam9iX2xpc3RfbG9jayk7CiAJCWlmIChqb2IpCiAJCQlyZXR1cm4gdHJ1ZTsKZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9qb2IuYyBiL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9qb2IuYwppbmRleCBkY2ZlOGEzYjAzZmYuLmFjYTUyYTQ2
YjkzZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2pvYi5j
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9qb2IuYwpAQCAtMjcxLDcg
KzI3MSw3IEBAIHZvaWQgYW1kZ3B1X2pvYl9zdG9wX2FsbF9qb2JzX29uX3NjaGVkKHN0cnVjdCBk
cm1fZ3B1X3NjaGVkdWxlciAqc2NoZWQpCiAJfQogCiAJLyogU2lnbmFsIGFsbCBqb2JzIGFscmVh
ZHkgc2NoZWR1bGVkIHRvIEhXICovCi0JbGlzdF9mb3JfZWFjaF9lbnRyeShzX2pvYiwgJnNjaGVk
LT5yaW5nX21pcnJvcl9saXN0LCBub2RlKSB7CisJbGlzdF9mb3JfZWFjaF9lbnRyeShzX2pvYiwg
JnNjaGVkLT5yaW5nX21pcnJvcl9saXN0LCBsaXN0KSB7CiAJCXN0cnVjdCBkcm1fc2NoZWRfZmVu
Y2UgKnNfZmVuY2UgPSBzX2pvYi0+c19mZW5jZTsKIAogCQlkbWFfZmVuY2Vfc2V0X2Vycm9yKCZz
X2ZlbmNlLT5maW5pc2hlZCwgLUVIV1BPSVNPTik7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vc2NoZWR1bGVyL3NjaGVkX21haW4uYyBiL2RyaXZlcnMvZ3B1L2RybS9zY2hlZHVsZXIvc2No
ZWRfbWFpbi5jCmluZGV4IGM2MzMyZDc1MDI1ZS4uYzUyZWJhNDA3ZWJkIDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vc2NoZWR1bGVyL3NjaGVkX21haW4uYworKysgYi9kcml2ZXJzL2dwdS9k
cm0vc2NoZWR1bGVyL3NjaGVkX21haW4uYwpAQCAtMjcyLDcgKzI3Miw3IEBAIHN0YXRpYyB2b2lk
IGRybV9zY2hlZF9qb2JfYmVnaW4oc3RydWN0IGRybV9zY2hlZF9qb2IgKnNfam9iKQogCXN0cnVj
dCBkcm1fZ3B1X3NjaGVkdWxlciAqc2NoZWQgPSBzX2pvYi0+c2NoZWQ7CiAKIAlzcGluX2xvY2so
JnNjaGVkLT5qb2JfbGlzdF9sb2NrKTsKLQlsaXN0X2FkZF90YWlsKCZzX2pvYi0+bm9kZSwgJnNj
aGVkLT5yaW5nX21pcnJvcl9saXN0KTsKKwlsaXN0X2FkZF90YWlsKCZzX2pvYi0+bGlzdCwgJnNj
aGVkLT5yaW5nX21pcnJvcl9saXN0KTsKIAlkcm1fc2NoZWRfc3RhcnRfdGltZW91dChzY2hlZCk7
CiAJc3Bpbl91bmxvY2soJnNjaGVkLT5qb2JfbGlzdF9sb2NrKTsKIH0KQEAgLTI4Nyw3ICsyODcs
NyBAQCBzdGF0aWMgdm9pZCBkcm1fc2NoZWRfam9iX3RpbWVkb3V0KHN0cnVjdCB3b3JrX3N0cnVj
dCAqd29yaykKIAkvKiBQcm90ZWN0cyBhZ2FpbnN0IGNvbmN1cnJlbnQgZGVsZXRpb24gaW4gZHJt
X3NjaGVkX2dldF9jbGVhbnVwX2pvYiAqLwogCXNwaW5fbG9jaygmc2NoZWQtPmpvYl9saXN0X2xv
Y2spOwogCWpvYiA9IGxpc3RfZmlyc3RfZW50cnlfb3JfbnVsbCgmc2NoZWQtPnJpbmdfbWlycm9y
X2xpc3QsCi0JCQkJICAgICAgIHN0cnVjdCBkcm1fc2NoZWRfam9iLCBub2RlKTsKKwkJCQkgICAg
ICAgc3RydWN0IGRybV9zY2hlZF9qb2IsIGxpc3QpOwogCiAJaWYgKGpvYikgewogCQkvKgpAQCAt
Mjk1LDcgKzI5NSw3IEBAIHN0YXRpYyB2b2lkIGRybV9zY2hlZF9qb2JfdGltZWRvdXQoc3RydWN0
IHdvcmtfc3RydWN0ICp3b3JrKQogCQkgKiBkcm1fc2NoZWRfY2xlYW51cF9qb2JzLiBJdCB3aWxs
IGJlIHJlaW5zZXJ0ZWQgYmFjayBhZnRlciBzY2hlZC0+dGhyZWFkCiAJCSAqIGlzIHBhcmtlZCBh
dCB3aGljaCBwb2ludCBpdCdzIHNhZmUuCiAJCSAqLwotCQlsaXN0X2RlbF9pbml0KCZqb2ItPm5v
ZGUpOworCQlsaXN0X2RlbF9pbml0KCZqb2ItPmxpc3QpOwogCQlzcGluX3VubG9jaygmc2NoZWQt
PmpvYl9saXN0X2xvY2spOwogCiAJCWpvYi0+c2NoZWQtPm9wcy0+dGltZWRvdXRfam9iKGpvYik7
CkBAIC0zOTIsNyArMzkyLDcgQEAgdm9pZCBkcm1fc2NoZWRfc3RvcChzdHJ1Y3QgZHJtX2dwdV9z
Y2hlZHVsZXIgKnNjaGVkLCBzdHJ1Y3QgZHJtX3NjaGVkX2pvYiAqYmFkKQogCQkgKiBBZGQgYXQg
dGhlIGhlYWQgb2YgdGhlIHF1ZXVlIHRvIHJlZmxlY3QgaXQgd2FzIHRoZSBlYXJsaWVzdAogCQkg
KiBqb2IgZXh0cmFjdGVkLgogCQkgKi8KLQkJbGlzdF9hZGQoJmJhZC0+bm9kZSwgJnNjaGVkLT5y
aW5nX21pcnJvcl9saXN0KTsKKwkJbGlzdF9hZGQoJmJhZC0+bGlzdCwgJnNjaGVkLT5yaW5nX21p
cnJvcl9saXN0KTsKIAogCS8qCiAJICogSXRlcmF0ZSB0aGUgam9iIGxpc3QgZnJvbSBsYXRlciB0
byAgZWFybGllciBvbmUgYW5kIGVpdGhlciBkZWFjdGl2ZQpAQCAtNDAwLDcgKzQwMCw4IEBAIHZv
aWQgZHJtX3NjaGVkX3N0b3Aoc3RydWN0IGRybV9ncHVfc2NoZWR1bGVyICpzY2hlZCwgc3RydWN0
IGRybV9zY2hlZF9qb2IgKmJhZCkKIAkgKiBzaWduYWxlZC4KIAkgKiBUaGlzIGl0ZXJhdGlvbiBp
cyB0aHJlYWQgc2FmZSBhcyBzY2hlZCB0aHJlYWQgaXMgc3RvcHBlZC4KIAkgKi8KLQlsaXN0X2Zv
cl9lYWNoX2VudHJ5X3NhZmVfcmV2ZXJzZShzX2pvYiwgdG1wLCAmc2NoZWQtPnJpbmdfbWlycm9y
X2xpc3QsIG5vZGUpIHsKKwlsaXN0X2Zvcl9lYWNoX2VudHJ5X3NhZmVfcmV2ZXJzZShzX2pvYiwg
dG1wLCAmc2NoZWQtPnJpbmdfbWlycm9yX2xpc3QsCisJCQkJCSBsaXN0KSB7CiAJCWlmIChzX2pv
Yi0+c19mZW5jZS0+cGFyZW50ICYmCiAJCSAgICBkbWFfZmVuY2VfcmVtb3ZlX2NhbGxiYWNrKHNf
am9iLT5zX2ZlbmNlLT5wYXJlbnQsCiAJCQkJCSAgICAgICZzX2pvYi0+Y2IpKSB7CkBAIC00MTEs
NyArNDEyLDcgQEAgdm9pZCBkcm1fc2NoZWRfc3RvcChzdHJ1Y3QgZHJtX2dwdV9zY2hlZHVsZXIg
KnNjaGVkLCBzdHJ1Y3QgZHJtX3NjaGVkX2pvYiAqYmFkKQogCQkJICogTG9ja2luZyBoZXJlIGlz
IGZvciBjb25jdXJyZW50IHJlc3VtZSB0aW1lb3V0CiAJCQkgKi8KIAkJCXNwaW5fbG9jaygmc2No
ZWQtPmpvYl9saXN0X2xvY2spOwotCQkJbGlzdF9kZWxfaW5pdCgmc19qb2ItPm5vZGUpOworCQkJ
bGlzdF9kZWxfaW5pdCgmc19qb2ItPmxpc3QpOwogCQkJc3Bpbl91bmxvY2soJnNjaGVkLT5qb2Jf
bGlzdF9sb2NrKTsKIAogCQkJLyoKQEAgLTQ2Miw3ICs0NjMsNyBAQCB2b2lkIGRybV9zY2hlZF9z
dGFydChzdHJ1Y3QgZHJtX2dwdV9zY2hlZHVsZXIgKnNjaGVkLCBib29sIGZ1bGxfcmVjb3Zlcnkp
CiAJICogc28gbm8gbmV3IGpvYnMgYXJlIGJlaW5nIGluc2VydGVkIG9yIHJlbW92ZWQuIEFsc28g
Y29uY3VycmVudAogCSAqIEdQVSByZWNvdmVycyBjYW4ndCBydW4gaW4gcGFyYWxsZWwuCiAJICov
Ci0JbGlzdF9mb3JfZWFjaF9lbnRyeV9zYWZlKHNfam9iLCB0bXAsICZzY2hlZC0+cmluZ19taXJy
b3JfbGlzdCwgbm9kZSkgeworCWxpc3RfZm9yX2VhY2hfZW50cnlfc2FmZShzX2pvYiwgdG1wLCAm
c2NoZWQtPnJpbmdfbWlycm9yX2xpc3QsIGxpc3QpIHsKIAkJc3RydWN0IGRtYV9mZW5jZSAqZmVu
Y2UgPSBzX2pvYi0+c19mZW5jZS0+cGFyZW50OwogCiAJCWF0b21pY19pbmMoJnNjaGVkLT5od19y
cV9jb3VudCk7CkBAIC01MDUsNyArNTA2LDcgQEAgdm9pZCBkcm1fc2NoZWRfcmVzdWJtaXRfam9i
cyhzdHJ1Y3QgZHJtX2dwdV9zY2hlZHVsZXIgKnNjaGVkKQogCWJvb2wgZm91bmRfZ3VpbHR5ID0g
ZmFsc2U7CiAJc3RydWN0IGRtYV9mZW5jZSAqZmVuY2U7CiAKLQlsaXN0X2Zvcl9lYWNoX2VudHJ5
X3NhZmUoc19qb2IsIHRtcCwgJnNjaGVkLT5yaW5nX21pcnJvcl9saXN0LCBub2RlKSB7CisJbGlz
dF9mb3JfZWFjaF9lbnRyeV9zYWZlKHNfam9iLCB0bXAsICZzY2hlZC0+cmluZ19taXJyb3JfbGlz
dCwgbGlzdCkgewogCQlzdHJ1Y3QgZHJtX3NjaGVkX2ZlbmNlICpzX2ZlbmNlID0gc19qb2ItPnNf
ZmVuY2U7CiAKIAkJaWYgKCFmb3VuZF9ndWlsdHkgJiYgYXRvbWljX3JlYWQoJnNfam9iLT5rYXJt
YSkgPiBzY2hlZC0+aGFuZ19saW1pdCkgewpAQCAtNTY1LDcgKzU2Niw3IEBAIGludCBkcm1fc2No
ZWRfam9iX2luaXQoc3RydWN0IGRybV9zY2hlZF9qb2IgKmpvYiwKIAkJcmV0dXJuIC1FTk9NRU07
CiAJam9iLT5pZCA9IGF0b21pYzY0X2luY19yZXR1cm4oJnNjaGVkLT5qb2JfaWRfY291bnQpOwog
Ci0JSU5JVF9MSVNUX0hFQUQoJmpvYi0+bm9kZSk7CisJSU5JVF9MSVNUX0hFQUQoJmpvYi0+bGlz
dCk7CiAKIAlyZXR1cm4gMDsKIH0KQEAgLTY4NCwxMSArNjg1LDExIEBAIGRybV9zY2hlZF9nZXRf
Y2xlYW51cF9qb2Ioc3RydWN0IGRybV9ncHVfc2NoZWR1bGVyICpzY2hlZCkKIAlzcGluX2xvY2so
JnNjaGVkLT5qb2JfbGlzdF9sb2NrKTsKIAogCWpvYiA9IGxpc3RfZmlyc3RfZW50cnlfb3JfbnVs
bCgmc2NoZWQtPnJpbmdfbWlycm9yX2xpc3QsCi0JCQkJICAgICAgIHN0cnVjdCBkcm1fc2NoZWRf
am9iLCBub2RlKTsKKwkJCQkgICAgICAgc3RydWN0IGRybV9zY2hlZF9qb2IsIGxpc3QpOwogCiAJ
aWYgKGpvYiAmJiBkbWFfZmVuY2VfaXNfc2lnbmFsZWQoJmpvYi0+c19mZW5jZS0+ZmluaXNoZWQp
KSB7CiAJCS8qIHJlbW92ZSBqb2IgZnJvbSByaW5nX21pcnJvcl9saXN0ICovCi0JCWxpc3RfZGVs
X2luaXQoJmpvYi0+bm9kZSk7CisJCWxpc3RfZGVsX2luaXQoJmpvYi0+bGlzdCk7CiAJfSBlbHNl
IHsKIAkJam9iID0gTlVMTDsKIAkJLyogcXVldWUgdGltZW91dCBmb3IgbmV4dCBqb2IgKi8KZGlm
ZiAtLWdpdCBhL2luY2x1ZGUvZHJtL2dwdV9zY2hlZHVsZXIuaCBiL2luY2x1ZGUvZHJtL2dwdV9z
Y2hlZHVsZXIuaAppbmRleCA5MjQzNjU1M2ZkNmEuLjNhZGQwMDcyYmQzNyAxMDA2NDQKLS0tIGEv
aW5jbHVkZS9kcm0vZ3B1X3NjaGVkdWxlci5oCisrKyBiL2luY2x1ZGUvZHJtL2dwdV9zY2hlZHVs
ZXIuaApAQCAtMTg5LDE0ICsxODksMTQgQEAgc3RydWN0IGRybV9zY2hlZF9mZW5jZSAqdG9fZHJt
X3NjaGVkX2ZlbmNlKHN0cnVjdCBkbWFfZmVuY2UgKmYpOwogICovCiBzdHJ1Y3QgZHJtX3NjaGVk
X2pvYiB7CiAJc3RydWN0IHNwc2Nfbm9kZQkJcXVldWVfbm9kZTsKKwlzdHJ1Y3QgbGlzdF9oZWFk
CQlsaXN0OwogCXN0cnVjdCBkcm1fZ3B1X3NjaGVkdWxlcgkqc2NoZWQ7CiAJc3RydWN0IGRybV9z
Y2hlZF9mZW5jZQkJKnNfZmVuY2U7CiAJc3RydWN0IGRtYV9mZW5jZV9jYgkJZmluaXNoX2NiOwot
CXN0cnVjdCBsaXN0X2hlYWQJCW5vZGU7CiAJdWludDY0X3QJCQlpZDsKIAlhdG9taWNfdAkJCWth
cm1hOwogCWVudW0gZHJtX3NjaGVkX3ByaW9yaXR5CQlzX3ByaW9yaXR5OwotCXN0cnVjdCBkcm1f
c2NoZWRfZW50aXR5ICAqZW50aXR5OworCXN0cnVjdCBkcm1fc2NoZWRfZW50aXR5ICAgICAgICAg
KmVudGl0eTsKIAlzdHJ1Y3QgZG1hX2ZlbmNlX2NiCQljYjsKIH07CiAKLS0gCjIuMjkuMi40MDQu
Z2U2N2ZiZjkyN2QKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9y
ZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZl
bAo=
