Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 10A152728FE
	for <lists+dri-devel@lfdr.de>; Mon, 21 Sep 2020 16:49:26 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id DC0686E48D;
	Mon, 21 Sep 2020 14:49:23 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wm1-x341.google.com (mail-wm1-x341.google.com
 [IPv6:2a00:1450:4864:20::341])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C78B06E46F
 for <dri-devel@lists.freedesktop.org>; Mon, 21 Sep 2020 14:49:09 +0000 (UTC)
Received: by mail-wm1-x341.google.com with SMTP id y15so13027521wmi.0
 for <dri-devel@lists.freedesktop.org>; Mon, 21 Sep 2020 07:49:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:subject:date:message-id:in-reply-to:references:mime-version
 :content-transfer-encoding;
 bh=e+1PI7Ua8GDvxgmGPY2P82QhFL51Af+5YMZeBonJMJk=;
 b=MlE1vBmLNU0LcfVOjdF5VyurTjj92EgTSP2KZLcQemmTRFJ+DlSCzknvbX7g5tadxW
 TPNSqutI0KhAZx6997DBAxKV7Eb67uEsZ5L1Iwnnswck9NoxHSV7yJz1GSQp9mBMsOnk
 riESo2zdjMsQTym3k/sGWo0emkq9bh/zI0jATo26+0LwzLWfRJI1PM7jgPjix/4nylTI
 uaJUcuiMSpARhnkA9a+m/x843PJKGhrCRFsAHasD6JihkD7EGt/6K3p1OjgUqELygw0j
 1gCsm0l2GgnoKuqASCyoN6+8kb7PrUHBit7cDnABqdg62nZp3p6n5IO58z3zir7GKUVv
 6afg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=e+1PI7Ua8GDvxgmGPY2P82QhFL51Af+5YMZeBonJMJk=;
 b=Xmv1B4KJJeyPs04r8cyykLRdsPnVCSV/mMjhHEyeh1hgxPPC+Ad3q9WN2Y/HznD748
 PAiLdztvoxAIvP06lJ8ZQJyUbo2hhwO8rZzb4JwSCLzI2UWAh91n/v3YBYatidCt7nQH
 yT/3xIzCbAoidCDmJIj/XSavdBVulylYUi5T6C3QxA1f/LDDhU4inWFyrTdyJRm19fYW
 tLOpqHIIsBr/Rt0I7ssBtCjRoVDdCt/+w8Afh3jlxbetnsA8VisDo8DUYmvFPAaIPYXj
 KTqaJpJV9pVYlPMfdRF8wv302sUgm2dNbrLVGMQSQ06+rNLpAYoNSP14MrGyx7ZRH1Qk
 4k3g==
X-Gm-Message-State: AOAM533S7l8/wTNh9lCQm7CnfTEHEn80QWQrcqWbnjj1gQZF2fK3FaiX
 cHVAkIst5TFxH4NpO+9YxMd/L4B7Z38=
X-Google-Smtp-Source: ABdhPJw9ffo4ARVMeX6ehGoXToiFkQL61IkuPNXJiuCfi+Fngac5VUV8IwlDFzOjpRMJIcI/LMSx3A==
X-Received: by 2002:a1c:7c1a:: with SMTP id x26mr38530wmc.112.1600699748094;
 Mon, 21 Sep 2020 07:49:08 -0700 (PDT)
Received: from abel.fritz.box ([2a02:908:1252:fb60:3482:3104:ab8c:3ac2])
 by smtp.gmail.com with ESMTPSA id i6sm23480992wra.1.2020.09.21.07.49.07
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Mon, 21 Sep 2020 07:49:07 -0700 (PDT)
From: "=?UTF-8?q?Christian=20K=C3=B6nig?=" <ckoenig.leichtzumerken@gmail.com>
X-Google-Original-From: =?UTF-8?q?Christian=20K=C3=B6nig?=
 <christian.koenig@amd.com>
To: dri-devel@lists.freedesktop.org, airlied@gmail.com, tzimmermann@suse.de,
 bskeggs@redhat.com, kraxel@redhat.com, airlied@redhat.com,
 sroland@vmware.com
Subject: [PATCH 10/11] drm/ttm: remove ttm_bo_create
Date: Mon, 21 Sep 2020 16:48:55 +0200
Message-Id: <20200921144856.2797-11-christian.koenig@amd.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20200921144856.2797-1-christian.koenig@amd.com>
References: <20200921144856.2797-1-christian.koenig@amd.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Tm90IHVzZWQgYW55IG1vcmUuCgpTaWduZWQtb2ZmLWJ5OiBDaHJpc3RpYW4gS8O2bmlnIDxjaHJp
c3RpYW4ua29lbmlnQGFtZC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm8uYyB8
IDQwIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogaW5jbHVkZS9kcm0vdHRt
L3R0bV9ib19hcGkuaCB8IDI0IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIDIgZmlsZXMgY2hhbmdl
ZCwgNjQgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1f
Ym8uYyBiL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2JvLmMKaW5kZXggYjgyYjQ5ZDQzOTQyLi4x
YTRiMjUwODMzMjYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2JvLmMKKysr
IGIvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm8uYwpAQCAtMTI1NCwxOSArMTI1NCw2IEBAIGlu
dCB0dG1fYm9faW5pdChzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKIH0KIEVYUE9SVF9TWU1C
T0wodHRtX2JvX2luaXQpOwogCi1zdGF0aWMgc2l6ZV90IHR0bV9ib19hY2Nfc2l6ZShzdHJ1Y3Qg
dHRtX2JvX2RldmljZSAqYmRldiwKLQkJCSAgICAgIHVuc2lnbmVkIGxvbmcgYm9fc2l6ZSwKLQkJ
CSAgICAgIHVuc2lnbmVkIHN0cnVjdF9zaXplKQotewotCXVuc2lnbmVkIG5wYWdlcyA9IChQQUdF
X0FMSUdOKGJvX3NpemUpKSA+PiBQQUdFX1NISUZUOwotCXNpemVfdCBzaXplID0gMDsKLQotCXNp
emUgKz0gdHRtX3JvdW5kX3BvdChzdHJ1Y3Rfc2l6ZSk7Ci0Jc2l6ZSArPSB0dG1fcm91bmRfcG90
KG5wYWdlcyAqIHNpemVvZih2b2lkICopKTsKLQlzaXplICs9IHR0bV9yb3VuZF9wb3Qoc2l6ZW9m
KHN0cnVjdCB0dG1fdHQpKTsKLQlyZXR1cm4gc2l6ZTsKLX0KLQogc2l6ZV90IHR0bV9ib19kbWFf
YWNjX3NpemUoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCiAJCQkgICB1bnNpZ25lZCBsb25n
IGJvX3NpemUsCiAJCQkgICB1bnNpZ25lZCBzdHJ1Y3Rfc2l6ZSkKQEAgLTEyODEsMzMgKzEyNjgs
NiBAQCBzaXplX3QgdHRtX2JvX2RtYV9hY2Nfc2l6ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRl
diwKIH0KIEVYUE9SVF9TWU1CT0wodHRtX2JvX2RtYV9hY2Nfc2l6ZSk7CiAKLWludCB0dG1fYm9f
Y3JlYXRlKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAotCQkJdW5zaWduZWQgbG9uZyBzaXpl
LAotCQkJZW51bSB0dG1fYm9fdHlwZSB0eXBlLAotCQkJc3RydWN0IHR0bV9wbGFjZW1lbnQgKnBs
YWNlbWVudCwKLQkJCXVpbnQzMl90IHBhZ2VfYWxpZ25tZW50LAotCQkJYm9vbCBpbnRlcnJ1cHRp
YmxlLAotCQkJc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICoqcF9ibykKLXsKLQlzdHJ1Y3QgdHRt
X2J1ZmZlcl9vYmplY3QgKmJvOwotCXNpemVfdCBhY2Nfc2l6ZTsKLQlpbnQgcmV0OwotCi0JYm8g
PSBremFsbG9jKHNpemVvZigqYm8pLCBHRlBfS0VSTkVMKTsKLQlpZiAodW5saWtlbHkoYm8gPT0g
TlVMTCkpCi0JCXJldHVybiAtRU5PTUVNOwotCi0JYWNjX3NpemUgPSB0dG1fYm9fYWNjX3NpemUo
YmRldiwgc2l6ZSwgc2l6ZW9mKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCkpOwotCXJldCA9IHR0
bV9ib19pbml0KGJkZXYsIGJvLCBzaXplLCB0eXBlLCBwbGFjZW1lbnQsIHBhZ2VfYWxpZ25tZW50
LAotCQkJICBpbnRlcnJ1cHRpYmxlLCBhY2Nfc2l6ZSwKLQkJCSAgTlVMTCwgTlVMTCwgTlVMTCk7
Ci0JaWYgKGxpa2VseShyZXQgPT0gMCkpCi0JCSpwX2JvID0gYm87Ci0KLQlyZXR1cm4gcmV0Owot
fQotRVhQT1JUX1NZTUJPTCh0dG1fYm9fY3JlYXRlKTsKLQogaW50IHR0bV9ib19ldmljdF9tbShz
dHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgdW5zaWduZWQgbWVtX3R5cGUpCiB7CiAJc3RydWN0
IHR0bV9yZXNvdXJjZV9tYW5hZ2VyICptYW4gPSB0dG1fbWFuYWdlcl90eXBlKGJkZXYsIG1lbV90
eXBlKTsKZGlmZiAtLWdpdCBhL2luY2x1ZGUvZHJtL3R0bS90dG1fYm9fYXBpLmggYi9pbmNsdWRl
L2RybS90dG0vdHRtX2JvX2FwaS5oCmluZGV4IDgzOTc5NTAwZGYxYy4uY2U1OTJjOTA2MWU4IDEw
MDY0NAotLS0gYS9pbmNsdWRlL2RybS90dG0vdHRtX2JvX2FwaS5oCisrKyBiL2luY2x1ZGUvZHJt
L3R0bS90dG1fYm9fYXBpLmgKQEAgLTQ0NywzMCArNDQ3LDYgQEAgaW50IHR0bV9ib19pbml0KHN0
cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAog
CQlzdHJ1Y3Qgc2dfdGFibGUgKnNnLCBzdHJ1Y3QgZG1hX3Jlc3YgKnJlc3YsCiAJCXZvaWQgKCpk
ZXN0cm95KSAoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICopKTsKIAotLyoqCi0gKiB0dG1fYm9f
Y3JlYXRlCi0gKgotICogQGJkZXY6IFBvaW50ZXIgdG8gYSB0dG1fYm9fZGV2aWNlIHN0cnVjdC4K
LSAqIEBzaXplOiBSZXF1ZXN0ZWQgc2l6ZSBvZiBidWZmZXIgb2JqZWN0LgotICogQHR5cGU6IFJl
cXVlc3RlZCB0eXBlIG9mIGJ1ZmZlciBvYmplY3QuCi0gKiBAcGxhY2VtZW50OiBJbml0aWFsIHBs
YWNlbWVudC4KLSAqIEBwYWdlX2FsaWdubWVudDogRGF0YSBhbGlnbm1lbnQgaW4gcGFnZXMuCi0g
KiBAaW50ZXJydXB0aWJsZTogSWYgbmVlZGluZyB0byBzbGVlcCB3aGlsZSB3YWl0aW5nIGZvciBH
UFUgcmVzb3VyY2VzLAotICogc2xlZXAgaW50ZXJydXB0aWJsZS4KLSAqIEBwX2JvOiBPbiBzdWNj
ZXNzZnVsIGNvbXBsZXRpb24gKnBfYm8gcG9pbnRzIHRvIHRoZSBjcmVhdGVkIG9iamVjdC4KLSAq
Ci0gKiBUaGlzIGZ1bmN0aW9uIGFsbG9jYXRlcyBhIHR0bV9idWZmZXJfb2JqZWN0LCBhbmQgdGhl
biBjYWxscyB0dG1fYm9faW5pdAotICogb24gdGhhdCBvYmplY3QuIFRoZSBkZXN0cm95IGZ1bmN0
aW9uIGlzIHNldCB0byBrZnJlZSgpLgotICogUmV0dXJucwotICogLUVOT01FTTogT3V0IG9mIG1l
bW9yeS4KLSAqIC1FSU5WQUw6IEludmFsaWQgcGxhY2VtZW50IGZsYWdzLgotICogLUVSRVNUQVJU
U1lTOiBJbnRlcnJ1cHRlZCBieSBzaWduYWwgd2hpbGUgd2FpdGluZyBmb3IgcmVzb3VyY2VzLgot
ICovCi1pbnQgdHRtX2JvX2NyZWF0ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgdW5zaWdu
ZWQgbG9uZyBzaXplLAotCQkgIGVudW0gdHRtX2JvX3R5cGUgdHlwZSwgc3RydWN0IHR0bV9wbGFj
ZW1lbnQgKnBsYWNlbWVudCwKLQkJICB1aW50MzJfdCBwYWdlX2FsaWdubWVudCwgYm9vbCBpbnRl
cnJ1cHRpYmxlLAotCQkgIHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqKnBfYm8pOwotCiAvKioK
ICAqIHR0bV9ib19ldmljdF9tbQogICoKLS0gCjIuMTcuMQoKX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2
ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21h
aWxtYW4vbGlzdGluZm8vZHJpLWRldmVsCg==
