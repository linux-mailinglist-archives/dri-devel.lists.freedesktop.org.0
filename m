Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 2F76D13553A
	for <lists+dri-devel@lfdr.de>; Thu,  9 Jan 2020 10:10:15 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 386CD6E3C1;
	Thu,  9 Jan 2020 09:10:13 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mx2.suse.de (mx2.suse.de [195.135.220.15])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C6B876E3C1
 for <dri-devel@lists.freedesktop.org>; Thu,  9 Jan 2020 09:10:11 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx2.suse.de (Postfix) with ESMTP id 404E8BE5A;
 Thu,  9 Jan 2020 09:10:10 +0000 (UTC)
Date: Thu, 09 Jan 2020 10:10:09 +0100
Message-ID: <s5h8smhm1vy.wl-tiwai@suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: dri-devel@lists.freedesktop.org
Subject: Re: [PATCH for-5.6 0/2] drm/bridge: dw-hdmi: PCM API updates
In-Reply-To: <20191210154536.29819-1-tiwai@suse.de>
References: <20191210154536.29819-1-tiwai@suse.de>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 Emacs/25.3
 (x86_64-suse-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Jernej Skrabec <jernej.skrabec@siol.net>, alsa-devel@alsa-project.org,
 Jonas Karlman <jonas@kwiboo.se>, Neil Armstrong <narmstrong@baylibre.com>,
 Russell King <linux@armlinux.org.uk>,
 Laurent Pinchart <Laurent.pinchart@ideasonboard.com>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

On Tue, 10 Dec 2019 16:45:34 +0100,
Takashi Iwai wrote:
> 
> Hi,
> 
> this is a patch set for updating ALSA PCM API usages in dw-hdmi
> driver.  I already tried to "fix" the driver some time ago but it was
> utterly wrong.  So this is a combination of the revised patch and
> another cleanup patch.
> 
> The first one is to change the buffer allocation mechanism in the
> driver to the manual allocation of the h/w buffer and the automatic
> allocation of PCM stream buffers via the new standard API.  The
> significant change is that size of the h/w buffer isn't no longer
> controlled via ALSA preallocation proc file but rather via the new
> module option (if any).
> 
> The second one is a oneliner patch just to remove the superfluous PCM
> ops.
> 
> Both need the ALSA PCM core changes in 5.5-rc1, so please apply them
> on top of 5.5-rc1 or later.  Or, just let me know if I should apply
> them through sound git tree.
> 
> 
> thanks,
> 
> Takashi
> 
> ===
> 
> Takashi Iwai (2):
>   drm/bridge: dw-hdmi: Follow the standard ALSA memalloc way
>   drm/bridge: dw-hdmi: Drop superfluous ioctl PCM ops

Any chance for reviewing these patches?

Since this driver is the only one who is still using the old ALSA
vmalloc API, I'd like to change it and drop the old API in 5.6.


thanks,

Takashi
_______________________________________________
dri-devel mailing list
dri-devel@lists.freedesktop.org
https://lists.freedesktop.org/mailman/listinfo/dri-devel
