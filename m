Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id CAA708794C
	for <lists+dri-devel@lfdr.de>; Fri,  9 Aug 2019 14:04:41 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 725CE6EDCA;
	Fri,  9 Aug 2019 12:04:32 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from metis.ext.pengutronix.de (metis.ext.pengutronix.de
 [IPv6:2001:67c:670:201:290:27ff:fe1d:cc33])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 57DC3897F3
 for <dri-devel@lists.freedesktop.org>; Fri,  9 Aug 2019 12:04:28 +0000 (UTC)
Received: from dude02.hi.pengutronix.de ([2001:67c:670:100:1d::28]
 helo=dude02.pengutronix.de.)
 by metis.ext.pengutronix.de with esmtp (Exim 4.92)
 (envelope-from <l.stach@pengutronix.de>)
 id 1hw3dA-00055N-7L; Fri, 09 Aug 2019 14:04:24 +0200
From: Lucas Stach <l.stach@pengutronix.de>
To: etnaviv@lists.freedesktop.org
Subject: [PATCH v3 2/8] drm/etnaviv: split out cmdbuf mapping into address
 space
Date: Fri,  9 Aug 2019 14:04:18 +0200
Message-Id: <20190809120424.32679-2-l.stach@pengutronix.de>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190809120424.32679-1-l.stach@pengutronix.de>
References: <20190809120424.32679-1-l.stach@pengutronix.de>
MIME-Version: 1.0
X-SA-Exim-Connect-IP: 2001:67c:670:100:1d::28
X-SA-Exim-Mail-From: l.stach@pengutronix.de
X-SA-Exim-Scanned: No (on metis.ext.pengutronix.de);
 SAEximRunCond expanded to false
X-PTX-Original-Recipient: dri-devel@lists.freedesktop.org
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: patchwork-lst@pengutronix.de, kernel@pengutronix.de,
 dri-devel@lists.freedesktop.org, Russell King <linux+etnaviv@armlinux.org.uk>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhpcyBhbGxvd3MgdG8gZGVjb3VwbGUgdGhlIGNtZGJ1ZiBzdWJhbGxvY2F0b3IgY3JlYXRlIGFu
ZCBtYXBwaW5nCnRoZSByZWdpb24gaW50byB0aGUgR1BVIGFkZHJlc3Mgc3BhY2UuIEFsbG93aW5n
IG11bHRpcGxlIEFTIHRvIHNoYXJlCmEgc2luZ2xlIGNtZGJ1ZiBzdWJhbGxvYy4KClNpZ25lZC1v
ZmYtYnk6IEx1Y2FzIFN0YWNoIDxsLnN0YWNoQHBlbmd1dHJvbml4LmRlPgpSZXZpZXdlZC1ieTog
UGhpbGlwcCBaYWJlbCA8cC56YWJlbEBwZW5ndXRyb25peC5kZT4KUmV2aWV3ZWQtYnk6IEd1aWRv
IEfDvG50aGVyIDxhZ3hAc2lneGNwdS5vcmc+Ci0tLQp2MzogbW92ZWQgYWRkaW5nIG1hcHBpbmcg
dG8gTU1VIG1tYXBpbmcgbHNpdCB0byBjb21tb24gcGF0aAotLS0KIGRyaXZlcnMvZ3B1L2RybS9l
dG5hdml2L2V0bmF2aXZfYnVmZmVyLmMgfCAyMyArKysrLS0tLQogZHJpdmVycy9ncHUvZHJtL2V0
bmF2aXYvZXRuYXZpdl9jbWRidWYuYyB8IDM1ICsrKysrKy0tLS0tLQogZHJpdmVycy9ncHUvZHJt
L2V0bmF2aXYvZXRuYXZpdl9jbWRidWYuaCB8IDExICsrKy0KIGRyaXZlcnMvZ3B1L2RybS9ldG5h
dml2L2V0bmF2aXZfZHVtcC5jICAgfCAgNiArKy0KIGRyaXZlcnMvZ3B1L2RybS9ldG5hdml2L2V0
bmF2aXZfZ3B1LmMgICAgfCAxOSArKysrKy0tCiBkcml2ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5h
dml2X2dwdS5oICAgIHwgIDMgKy0KIGRyaXZlcnMvZ3B1L2RybS9ldG5hdml2L2V0bmF2aXZfbW11
LmMgICAgfCA2OSArKysrKysrKysrKysrKystLS0tLS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9ldG5h
dml2L2V0bmF2aXZfbW11LmggICAgfCAxMiArKy0tLQogOCBmaWxlcyBjaGFuZ2VkLCAxMTMgaW5z
ZXJ0aW9ucygrKSwgNjUgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2V0bmF2aXYvZXRuYXZpdl9idWZmZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9ldG5hdml2L2V0bmF2
aXZfYnVmZmVyLmMKaW5kZXggZmUwZDJkNjcwMDdkLi42NDAwYTg4Y2Q3NzggMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9ldG5hdml2L2V0bmF2aXZfYnVmZmVyLmMKKysrIGIvZHJpdmVycy9n
cHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9idWZmZXIuYwpAQCAtMTE4LDcgKzExOCw4IEBAIHN0YXRp
YyB2b2lkIGV0bmF2aXZfYnVmZmVyX2R1bXAoc3RydWN0IGV0bmF2aXZfZ3B1ICpncHUsCiAJdTMy
ICpwdHIgPSBidWYtPnZhZGRyICsgb2ZmOwogCiAJZGV2X2luZm8oZ3B1LT5kZXYsICJ2aXJ0ICVw
IHBoeXMgMHglMDh4IGZyZWUgMHglMDh4XG4iLAotCQkJcHRyLCBldG5hdml2X2NtZGJ1Zl9nZXRf
dmEoYnVmKSArIG9mZiwgc2l6ZSAtIGxlbiAqIDQgLSBvZmYpOworCQkJcHRyLCBldG5hdml2X2Nt
ZGJ1Zl9nZXRfdmEoYnVmLCAmZ3B1LT5jbWRidWZfbWFwcGluZykgKworCQkJb2ZmLCBzaXplIC0g
bGVuICogNCAtIG9mZik7CiAKIAlwcmludF9oZXhfZHVtcChLRVJOX0lORk8sICJjbWQgIiwgRFVN
UF9QUkVGSVhfT0ZGU0VULCAxNiwgNCwKIAkJCXB0ciwgbGVuICogNCwgMCk7CkBAIC0xNTEsNyAr
MTUyLDggQEAgc3RhdGljIHUzMiBldG5hdml2X2J1ZmZlcl9yZXNlcnZlKHN0cnVjdCBldG5hdml2
X2dwdSAqZ3B1LAogCWlmIChidWZmZXItPnVzZXJfc2l6ZSArIGNtZF9kd29yZHMgKiBzaXplb2Yo
dTY0KSA+IGJ1ZmZlci0+c2l6ZSkKIAkJYnVmZmVyLT51c2VyX3NpemUgPSAwOwogCi0JcmV0dXJu
IGV0bmF2aXZfY21kYnVmX2dldF92YShidWZmZXIpICsgYnVmZmVyLT51c2VyX3NpemU7CisJcmV0
dXJuIGV0bmF2aXZfY21kYnVmX2dldF92YShidWZmZXIsICZncHUtPmNtZGJ1Zl9tYXBwaW5nKSAr
CisJICAgICAgIGJ1ZmZlci0+dXNlcl9zaXplOwogfQogCiB1MTYgZXRuYXZpdl9idWZmZXJfaW5p
dChzdHJ1Y3QgZXRuYXZpdl9ncHUgKmdwdSkKQEAgLTE2NCw4ICsxNjYsOCBAQCB1MTYgZXRuYXZp
dl9idWZmZXJfaW5pdChzdHJ1Y3QgZXRuYXZpdl9ncHUgKmdwdSkKIAlidWZmZXItPnVzZXJfc2l6
ZSA9IDA7CiAKIAlDTURfV0FJVChidWZmZXIpOwotCUNNRF9MSU5LKGJ1ZmZlciwgMiwgZXRuYXZp
dl9jbWRidWZfZ2V0X3ZhKGJ1ZmZlcikgKwotCQkgYnVmZmVyLT51c2VyX3NpemUgLSA0KTsKKwlD
TURfTElOSyhidWZmZXIsIDIsIGV0bmF2aXZfY21kYnVmX2dldF92YShidWZmZXIsICZncHUtPmNt
ZGJ1Zl9tYXBwaW5nKQorCQkgKyBidWZmZXItPnVzZXJfc2l6ZSAtIDQpOwogCiAJcmV0dXJuIGJ1
ZmZlci0+dXNlcl9zaXplIC8gODsKIH0KQEAgLTI5MSw4ICsyOTMsOCBAQCB2b2lkIGV0bmF2aXZf
c3luY19wb2ludF9xdWV1ZShzdHJ1Y3QgZXRuYXZpdl9ncHUgKmdwdSwgdW5zaWduZWQgaW50IGV2
ZW50KQogCiAJLyogQXBwZW5kIHdhaXRsaW5rICovCiAJQ01EX1dBSVQoYnVmZmVyKTsKLQlDTURf
TElOSyhidWZmZXIsIDIsIGV0bmF2aXZfY21kYnVmX2dldF92YShidWZmZXIpICsKLQkJCSAgICBi
dWZmZXItPnVzZXJfc2l6ZSAtIDQpOworCUNNRF9MSU5LKGJ1ZmZlciwgMiwgZXRuYXZpdl9jbWRi
dWZfZ2V0X3ZhKGJ1ZmZlciwgJmdwdS0+Y21kYnVmX21hcHBpbmcpCisJCSArIGJ1ZmZlci0+dXNl
cl9zaXplIC0gNCk7CiAKIAkvKgogCSAqIEtpY2sgb2ZmIHRoZSAnc3luYyBwb2ludCcgY29tbWFu
ZCBieSByZXBsYWNpbmcgdGhlIHByZXZpb3VzCkBAIC0zMTksNyArMzIxLDcgQEAgdm9pZCBldG5h
dml2X2J1ZmZlcl9xdWV1ZShzdHJ1Y3QgZXRuYXZpdl9ncHUgKmdwdSwgdTMyIGV4ZWNfc3RhdGUs
CiAJaWYgKGRybV9kZWJ1ZyAmIERSTV9VVF9EUklWRVIpCiAJCWV0bmF2aXZfYnVmZmVyX2R1bXAo
Z3B1LCBidWZmZXIsIDAsIDB4NTApOwogCi0JbGlua190YXJnZXQgPSBldG5hdml2X2NtZGJ1Zl9n
ZXRfdmEoY21kYnVmKTsKKwlsaW5rX3RhcmdldCA9IGV0bmF2aXZfY21kYnVmX2dldF92YShjbWRi
dWYsICZncHUtPmNtZGJ1Zl9tYXBwaW5nKTsKIAlsaW5rX2R3b3JkcyA9IGNtZGJ1Zi0+c2l6ZSAv
IDg7CiAKIAkvKgpAQCAtNDEyLDEyICs0MTQsMTMgQEAgdm9pZCBldG5hdml2X2J1ZmZlcl9xdWV1
ZShzdHJ1Y3QgZXRuYXZpdl9ncHUgKmdwdSwgdTMyIGV4ZWNfc3RhdGUsCiAJQ01EX0xPQURfU1RB
VEUoYnVmZmVyLCBWSVZTX0dMX0VWRU5ULCBWSVZTX0dMX0VWRU5UX0VWRU5UX0lEKGV2ZW50KSB8
CiAJCSAgICAgICBWSVZTX0dMX0VWRU5UX0ZST01fUEUpOwogCUNNRF9XQUlUKGJ1ZmZlcik7Ci0J
Q01EX0xJTksoYnVmZmVyLCAyLCBldG5hdml2X2NtZGJ1Zl9nZXRfdmEoYnVmZmVyKSArCi0JCQkg
ICAgYnVmZmVyLT51c2VyX3NpemUgLSA0KTsKKwlDTURfTElOSyhidWZmZXIsIDIsIGV0bmF2aXZf
Y21kYnVmX2dldF92YShidWZmZXIsICZncHUtPmNtZGJ1Zl9tYXBwaW5nKQorCQkgKyBidWZmZXIt
PnVzZXJfc2l6ZSAtIDQpOwogCiAJaWYgKGRybV9kZWJ1ZyAmIERSTV9VVF9EUklWRVIpCiAJCXBy
X2luZm8oInN0cmVhbSBsaW5rIHRvIDB4JTA4eCBAIDB4JTA4eCAlcFxuIiwKLQkJCXJldHVybl90
YXJnZXQsIGV0bmF2aXZfY21kYnVmX2dldF92YShjbWRidWYpLAorCQkJcmV0dXJuX3RhcmdldCwK
KwkJCWV0bmF2aXZfY21kYnVmX2dldF92YShjbWRidWYsICZncHUtPmNtZGJ1Zl9tYXBwaW5nKSwK
IAkJCWNtZGJ1Zi0+dmFkZHIpOwogCiAJaWYgKGRybV9kZWJ1ZyAmIERSTV9VVF9EUklWRVIpIHsK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9ldG5hdml2L2V0bmF2aXZfY21kYnVmLmMgYi9k
cml2ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X2NtZGJ1Zi5jCmluZGV4IDRkMGY5NTQ1MmNm
MC4uZTg0MmQ5ODhlZGQ0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5h
dml2X2NtZGJ1Zi5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9ldG5hdml2L2V0bmF2aXZfY21kYnVm
LmMKQEAgLTgsNiArOCw3IEBACiAjaW5jbHVkZSA8ZHJtL2RybV9tbS5oPgogCiAjaW5jbHVkZSAi
ZXRuYXZpdl9jbWRidWYuaCIKKyNpbmNsdWRlICJldG5hdml2X2dlbS5oIgogI2luY2x1ZGUgImV0
bmF2aXZfZ3B1LmgiCiAjaW5jbHVkZSAiZXRuYXZpdl9tbXUuaCIKICNpbmNsdWRlICJldG5hdml2
X3BlcmZtb24uaCIKQEAgLTIyLDEwICsyMyw2IEBAIHN0cnVjdCBldG5hdml2X2NtZGJ1Zl9zdWJh
bGxvYyB7CiAJdm9pZCAqdmFkZHI7CiAJZG1hX2FkZHJfdCBwYWRkcjsKIAotCS8qIEdQVSBtYXBw
aW5nICovCi0JdTMyIGlvdmE7Ci0Jc3RydWN0IGRybV9tbV9ub2RlIHZyYW1fbm9kZTsgLyogb25s
eSB1c2VkIG9uIE1NVXYyICovCi0KIAkvKiBhbGxvY2F0aW9uIG1hbmFnZW1lbnQgKi8KIAlzdHJ1
Y3QgbXV0ZXggbG9jazsKIAlERUNMQVJFX0JJVE1BUChncmFudWxlX21hcCwgU1VCQUxMT0NfR1JB
TlVMRVMpOwpAQCAtNTQsMjYgKzUxLDMxIEBAIGV0bmF2aXZfY21kYnVmX3N1YmFsbG9jX25ldyhz
dHJ1Y3QgZXRuYXZpdl9ncHUgKiBncHUpCiAJCWdvdG8gZnJlZV9zdWJhbGxvYzsKIAl9CiAKLQly
ZXQgPSBldG5hdml2X2lvbW11X2dldF9zdWJhbGxvY192YShncHUsIHN1YmFsbG9jLT5wYWRkciwK
LQkJCQkJICAgICZzdWJhbGxvYy0+dnJhbV9ub2RlLCBTVUJBTExPQ19TSVpFLAotCQkJCQkgICAg
JnN1YmFsbG9jLT5pb3ZhKTsKLQlpZiAocmV0KQotCQlnb3RvIGZyZWVfZG1hOwotCiAJcmV0dXJu
IHN1YmFsbG9jOwogCi1mcmVlX2RtYToKLQlkbWFfZnJlZV93YyhncHUtPmRldiwgU1VCQUxMT0Nf
U0laRSwgc3ViYWxsb2MtPnZhZGRyLCBzdWJhbGxvYy0+cGFkZHIpOwogZnJlZV9zdWJhbGxvYzoK
IAlrZnJlZShzdWJhbGxvYyk7CiAKIAlyZXR1cm4gRVJSX1BUUihyZXQpOwogfQogCitpbnQgZXRu
YXZpdl9jbWRidWZfc3ViYWxsb2NfbWFwKHN0cnVjdCBldG5hdml2X2NtZGJ1Zl9zdWJhbGxvYyAq
c3ViYWxsb2MsCisJCQkJc3RydWN0IGV0bmF2aXZfaW9tbXUgKm1tdSwKKwkJCQlzdHJ1Y3QgZXRu
YXZpdl92cmFtX21hcHBpbmcgKm1hcHBpbmcsCisJCQkJdTMyIG1lbW9yeV9iYXNlKQoreworCXJl
dHVybiBldG5hdml2X2lvbW11X2dldF9zdWJhbGxvY192YShtbXUsIG1hcHBpbmcsIG1lbW9yeV9i
YXNlLAorCQkJCQkgICAgIHN1YmFsbG9jLT5wYWRkciwgU1VCQUxMT0NfU0laRSk7Cit9CisKK3Zv
aWQgZXRuYXZpdl9jbWRidWZfc3ViYWxsb2NfdW5tYXAoc3RydWN0IGV0bmF2aXZfaW9tbXUgKm1t
dSwKKwkJCQkgICBzdHJ1Y3QgZXRuYXZpdl92cmFtX21hcHBpbmcgKm1hcHBpbmcpCit7CisJZXRu
YXZpdl9pb21tdV9wdXRfc3ViYWxsb2NfdmEobW11LCBtYXBwaW5nKTsKK30KKwogdm9pZCBldG5h
dml2X2NtZGJ1Zl9zdWJhbGxvY19kZXN0cm95KHN0cnVjdCBldG5hdml2X2NtZGJ1Zl9zdWJhbGxv
YyAqc3ViYWxsb2MpCiB7Ci0JZXRuYXZpdl9pb21tdV9wdXRfc3ViYWxsb2NfdmEoc3ViYWxsb2Mt
PmdwdSwgJnN1YmFsbG9jLT52cmFtX25vZGUsCi0JCQkJICAgICAgU1VCQUxMT0NfU0laRSwgc3Vi
YWxsb2MtPmlvdmEpOwogCWRtYV9mcmVlX3djKHN1YmFsbG9jLT5ncHUtPmRldiwgU1VCQUxMT0Nf
U0laRSwgc3ViYWxsb2MtPnZhZGRyLAogCQkgICAgc3ViYWxsb2MtPnBhZGRyKTsKIAlrZnJlZShz
dWJhbGxvYyk7CkBAIC0xMjcsOSArMTI5LDEwIEBAIHZvaWQgZXRuYXZpdl9jbWRidWZfZnJlZShz
dHJ1Y3QgZXRuYXZpdl9jbWRidWYgKmNtZGJ1ZikKIAl3YWtlX3VwX2FsbCgmc3ViYWxsb2MtPmZy
ZWVfZXZlbnQpOwogfQogCi11MzIgZXRuYXZpdl9jbWRidWZfZ2V0X3ZhKHN0cnVjdCBldG5hdml2
X2NtZGJ1ZiAqYnVmKQordTMyIGV0bmF2aXZfY21kYnVmX2dldF92YShzdHJ1Y3QgZXRuYXZpdl9j
bWRidWYgKmJ1ZiwKKwkJCSAgc3RydWN0IGV0bmF2aXZfdnJhbV9tYXBwaW5nICptYXBwaW5nKQog
ewotCXJldHVybiBidWYtPnN1YmFsbG9jLT5pb3ZhICsgYnVmLT5zdWJhbGxvY19vZmZzZXQ7CisJ
cmV0dXJuIG1hcHBpbmctPmlvdmEgKyBidWYtPnN1YmFsbG9jX29mZnNldDsKIH0KIAogZG1hX2Fk
ZHJfdCBldG5hdml2X2NtZGJ1Zl9nZXRfcGEoc3RydWN0IGV0bmF2aXZfY21kYnVmICpidWYpCmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X2NtZGJ1Zi5oIGIvZHJp
dmVycy9ncHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9jbWRidWYuaAppbmRleCA0ZDVkMWE3N2ViMmEu
LjU4M2Y1NmJmMDExYyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYvZXRuYXZp
dl9jbWRidWYuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X2NtZGJ1Zi5o
CkBAIC05LDYgKzksOCBAQAogI2luY2x1ZGUgPGxpbnV4L3R5cGVzLmg+CiAKIHN0cnVjdCBldG5h
dml2X2dwdTsKK3N0cnVjdCBldG5hdml2X2lvbW11Oworc3RydWN0IGV0bmF2aXZfdnJhbV9tYXBw
aW5nOwogc3RydWN0IGV0bmF2aXZfY21kYnVmX3N1YmFsbG9jOwogc3RydWN0IGV0bmF2aXZfcGVy
Zm1vbl9yZXF1ZXN0OwogCkBAIC0yNSwxMyArMjcsMjAgQEAgc3RydWN0IGV0bmF2aXZfY21kYnVm
IHsKIHN0cnVjdCBldG5hdml2X2NtZGJ1Zl9zdWJhbGxvYyAqCiBldG5hdml2X2NtZGJ1Zl9zdWJh
bGxvY19uZXcoc3RydWN0IGV0bmF2aXZfZ3B1ICogZ3B1KTsKIHZvaWQgZXRuYXZpdl9jbWRidWZf
c3ViYWxsb2NfZGVzdHJveShzdHJ1Y3QgZXRuYXZpdl9jbWRidWZfc3ViYWxsb2MgKnN1YmFsbG9j
KTsKK2ludCBldG5hdml2X2NtZGJ1Zl9zdWJhbGxvY19tYXAoc3RydWN0IGV0bmF2aXZfY21kYnVm
X3N1YmFsbG9jICpzdWJhbGxvYywKKwkJCQlzdHJ1Y3QgZXRuYXZpdl9pb21tdSAqbW11LAorCQkJ
CXN0cnVjdCBldG5hdml2X3ZyYW1fbWFwcGluZyAqbWFwcGluZywKKwkJCQl1MzIgbWVtb3J5X2Jh
c2UpOwordm9pZCBldG5hdml2X2NtZGJ1Zl9zdWJhbGxvY191bm1hcChzdHJ1Y3QgZXRuYXZpdl9p
b21tdSAqbW11LAorCQkJCSAgIHN0cnVjdCBldG5hdml2X3ZyYW1fbWFwcGluZyAqbWFwcGluZyk7
CiAKIAogaW50IGV0bmF2aXZfY21kYnVmX2luaXQoc3RydWN0IGV0bmF2aXZfY21kYnVmX3N1YmFs
bG9jICpzdWJhbGxvYywKIAkJc3RydWN0IGV0bmF2aXZfY21kYnVmICpjbWRidWYsIHUzMiBzaXpl
KTsKIHZvaWQgZXRuYXZpdl9jbWRidWZfZnJlZShzdHJ1Y3QgZXRuYXZpdl9jbWRidWYgKmNtZGJ1
Zik7CiAKLXUzMiBldG5hdml2X2NtZGJ1Zl9nZXRfdmEoc3RydWN0IGV0bmF2aXZfY21kYnVmICpi
dWYpOwordTMyIGV0bmF2aXZfY21kYnVmX2dldF92YShzdHJ1Y3QgZXRuYXZpdl9jbWRidWYgKmJ1
ZiwKKwkJCSAgc3RydWN0IGV0bmF2aXZfdnJhbV9tYXBwaW5nICptYXBwaW5nKTsKIGRtYV9hZGRy
X3QgZXRuYXZpdl9jbWRidWZfZ2V0X3BhKHN0cnVjdCBldG5hdml2X2NtZGJ1ZiAqYnVmKTsKIAog
I2VuZGlmIC8qIF9fRVROQVZJVl9DTURCVUZfSF9fICovCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vZXRuYXZpdi9ldG5hdml2X2R1bXAuYyBiL2RyaXZlcnMvZ3B1L2RybS9ldG5hdml2L2V0
bmF2aXZfZHVtcC5jCmluZGV4IGNjODA4YjA5NDFjMi4uMmNlNjBiYWE0YWQ5IDEwMDY0NAotLS0g
YS9kcml2ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X2R1bXAuYworKysgYi9kcml2ZXJzL2dw
dS9kcm0vZXRuYXZpdi9ldG5hdml2X2R1bXAuYwpAQCAtMTcyLDExICsxNzIsMTMgQEAgdm9pZCBl
dG5hdml2X2NvcmVfZHVtcChzdHJ1Y3QgZXRuYXZpdl9nZW1fc3VibWl0ICpzdWJtaXQpCiAJZXRu
YXZpdl9jb3JlX2R1bXBfbW11KCZpdGVyLCBncHUtPm1tdSwgbW11X3NpemUpOwogCWV0bmF2aXZf
Y29yZV9kdW1wX21lbSgmaXRlciwgRVREVU1QX0JVRl9SSU5HLCBncHUtPmJ1ZmZlci52YWRkciwK
IAkJCSAgICAgIGdwdS0+YnVmZmVyLnNpemUsCi0JCQkgICAgICBldG5hdml2X2NtZGJ1Zl9nZXRf
dmEoJmdwdS0+YnVmZmVyKSk7CisJCQkgICAgICBldG5hdml2X2NtZGJ1Zl9nZXRfdmEoJmdwdS0+
YnVmZmVyLAorCQkJCQkJICAgICZncHUtPmNtZGJ1Zl9tYXBwaW5nKSk7CiAKIAlldG5hdml2X2Nv
cmVfZHVtcF9tZW0oJml0ZXIsIEVURFVNUF9CVUZfQ01ELAogCQkJICAgICAgc3VibWl0LT5jbWRi
dWYudmFkZHIsIHN1Ym1pdC0+Y21kYnVmLnNpemUsCi0JCQkgICAgICBldG5hdml2X2NtZGJ1Zl9n
ZXRfdmEoJnN1Ym1pdC0+Y21kYnVmKSk7CisJCQkgICAgICBldG5hdml2X2NtZGJ1Zl9nZXRfdmEo
JnN1Ym1pdC0+Y21kYnVmLAorCQkJCQkJICAgICZncHUtPmNtZGJ1Zl9tYXBwaW5nKSk7CiAKIAkv
KiBSZXNlcnZlIHNwYWNlIGZvciB0aGUgYm9tYXAgKi8KIAlpZiAobl9ib21hcF9wYWdlcykgewpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9ncHUuYyBiL2RyaXZl
cnMvZ3B1L2RybS9ldG5hdml2L2V0bmF2aXZfZ3B1LmMKaW5kZXggMzdmN2RkNjk4NjRlLi5mMDA1
NDdiODhhMTMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9ldG5hdml2L2V0bmF2aXZfZ3B1
LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9ncHUuYwpAQCAtNjg3LDgg
KzY4Nyw4IEBAIHN0YXRpYyB2b2lkIGV0bmF2aXZfZ3B1X2h3X2luaXQoc3RydWN0IGV0bmF2aXZf
Z3B1ICpncHUpCiAJcHJlZmV0Y2ggPSBldG5hdml2X2J1ZmZlcl9pbml0KGdwdSk7CiAKIAlncHVf
d3JpdGUoZ3B1LCBWSVZTX0hJX0lOVFJfRU5CTCwgfjBVKTsKLQlldG5hdml2X2dwdV9zdGFydF9m
ZShncHUsIGV0bmF2aXZfY21kYnVmX2dldF92YSgmZ3B1LT5idWZmZXIpLAotCQkJICAgICBwcmVm
ZXRjaCk7CisJZXRuYXZpdl9ncHVfc3RhcnRfZmUoZ3B1LCBldG5hdml2X2NtZGJ1Zl9nZXRfdmEo
JmdwdS0+YnVmZmVyLAorCQkJICAgICAmZ3B1LT5jbWRidWZfbWFwcGluZyksIHByZWZldGNoKTsK
IH0KIAogaW50IGV0bmF2aXZfZ3B1X2luaXQoc3RydWN0IGV0bmF2aXZfZ3B1ICpncHUpCkBAIC03
NjcsMTYgKzc2NywyNCBAQCBpbnQgZXRuYXZpdl9ncHVfaW5pdChzdHJ1Y3QgZXRuYXZpdl9ncHUg
KmdwdSkKIAkJZ290byBkZXN0cm95X2lvbW11OwogCX0KIAorCXJldCA9IGV0bmF2aXZfY21kYnVm
X3N1YmFsbG9jX21hcChncHUtPmNtZGJ1Zl9zdWJhbGxvYywgZ3B1LT5tbXUsCisJCQkJCSAgJmdw
dS0+Y21kYnVmX21hcHBpbmcsCisJCQkJCSAgZ3B1LT5tZW1vcnlfYmFzZSk7CisJaWYgKHJldCkg
eworCQlkZXZfZXJyKGdwdS0+ZGV2LCAiZmFpbGVkIHRvIG1hcCBjbWRidWYgc3ViYWxsb2NcbiIp
OworCQlnb3RvIGRlc3Ryb3lfc3ViYWxsb2M7CisJfQorCiAJLyogQ3JlYXRlIGJ1ZmZlcjogKi8K
IAlyZXQgPSBldG5hdml2X2NtZGJ1Zl9pbml0KGdwdS0+Y21kYnVmX3N1YmFsbG9jLCAmZ3B1LT5i
dWZmZXIsCiAJCQkJICBQQUdFX1NJWkUpOwogCWlmIChyZXQpIHsKIAkJZGV2X2VycihncHUtPmRl
diwgImNvdWxkIG5vdCBjcmVhdGUgY29tbWFuZCBidWZmZXJcbiIpOwotCQlnb3RvIGRlc3Ryb3lf
c3ViYWxsb2M7CisJCWdvdG8gdW5tYXBfc3ViYWxsb2M7CiAJfQogCiAJaWYgKGdwdS0+bW11LT52
ZXJzaW9uID09IEVUTkFWSVZfSU9NTVVfVjEgJiYKLQkgICAgZXRuYXZpdl9jbWRidWZfZ2V0X3Zh
KCZncHUtPmJ1ZmZlcikgPiAweDgwMDAwMDAwKSB7CisJICAgIGV0bmF2aXZfY21kYnVmX2dldF92
YSgmZ3B1LT5idWZmZXIsICZncHUtPmNtZGJ1Zl9tYXBwaW5nKSA+IDB4ODAwMDAwMDApIHsKIAkJ
cmV0ID0gLUVJTlZBTDsKIAkJZGV2X2VycihncHUtPmRldiwKIAkJCSJjb21tYW5kIGJ1ZmZlciBv
dXRzaWRlIHZhbGlkIG1lbW9yeSB3aW5kb3dcbiIpOwpAQCAtODA1LDYgKzgxMyw4IEBAIGludCBl
dG5hdml2X2dwdV9pbml0KHN0cnVjdCBldG5hdml2X2dwdSAqZ3B1KQogCiBmcmVlX2J1ZmZlcjoK
IAlldG5hdml2X2NtZGJ1Zl9mcmVlKCZncHUtPmJ1ZmZlcik7Cit1bm1hcF9zdWJhbGxvYzoKKwll
dG5hdml2X2NtZGJ1Zl9zdWJhbGxvY191bm1hcChncHUtPm1tdSwgJmdwdS0+Y21kYnVmX21hcHBp
bmcpOwogZGVzdHJveV9zdWJhbGxvYzoKIAlldG5hdml2X2NtZGJ1Zl9zdWJhbGxvY19kZXN0cm95
KGdwdS0+Y21kYnVmX3N1YmFsbG9jKTsKIGRlc3Ryb3lfaW9tbXU6CkBAIC0xNjgxLDYgKzE2OTEs
NyBAQCBzdGF0aWMgdm9pZCBldG5hdml2X2dwdV91bmJpbmQoc3RydWN0IGRldmljZSAqZGV2LCBz
dHJ1Y3QgZGV2aWNlICptYXN0ZXIsCiAKIAlpZiAoZ3B1LT5pbml0aWFsaXplZCkgewogCQlldG5h
dml2X2NtZGJ1Zl9mcmVlKCZncHUtPmJ1ZmZlcik7CisJCWV0bmF2aXZfY21kYnVmX3N1YmFsbG9j
X3VubWFwKGdwdS0+bW11LCAmZ3B1LT5jbWRidWZfbWFwcGluZyk7CiAJCWV0bmF2aXZfY21kYnVm
X3N1YmFsbG9jX2Rlc3Ryb3koZ3B1LT5jbWRidWZfc3ViYWxsb2MpOwogCQlldG5hdml2X2lvbW11
X2Rlc3Ryb3koZ3B1LT5tbXUpOwogCQlncHUtPmluaXRpYWxpemVkID0gZmFsc2U7CmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X2dwdS5oIGIvZHJpdmVycy9ncHUv
ZHJtL2V0bmF2aXYvZXRuYXZpdl9ncHUuaAppbmRleCBiMDZjN2M5OGQ1MjIuLjZhNmFkZDM1MGQy
ZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9ncHUuaAorKysg
Yi9kcml2ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X2dwdS5oCkBAIC03LDYgKzcsNyBAQAog
I2RlZmluZSBfX0VUTkFWSVZfR1BVX0hfXwogCiAjaW5jbHVkZSAiZXRuYXZpdl9jbWRidWYuaCIK
KyNpbmNsdWRlICJldG5hdml2X2dlbS5oIgogI2luY2x1ZGUgImV0bmF2aXZfZHJ2LmgiCiAKIHN0
cnVjdCBldG5hdml2X2dlbV9zdWJtaXQ7CkBAIC04NCw3ICs4NSw2IEBAIHN0cnVjdCBldG5hdml2
X2V2ZW50IHsKIH07CiAKIHN0cnVjdCBldG5hdml2X2NtZGJ1Zl9zdWJhbGxvYzsKLXN0cnVjdCBl
dG5hdml2X2NtZGJ1ZjsKIHN0cnVjdCByZWd1bGF0b3I7CiBzdHJ1Y3QgY2xrOwogCkBAIC0xMDIs
NiArMTAyLDcgQEAgc3RydWN0IGV0bmF2aXZfZ3B1IHsKIAlib29sIGluaXRpYWxpemVkOwogCiAJ
LyogJ3JpbmcnLWJ1ZmZlcjogKi8KKwlzdHJ1Y3QgZXRuYXZpdl92cmFtX21hcHBpbmcgY21kYnVm
X21hcHBpbmc7CiAJc3RydWN0IGV0bmF2aXZfY21kYnVmIGJ1ZmZlcjsKIAlpbnQgZXhlY19zdGF0
ZTsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9tbXUuYyBi
L2RyaXZlcnMvZ3B1L2RybS9ldG5hdml2L2V0bmF2aXZfbW11LmMKaW5kZXggNzMxMjc1OTk5YTU3
Li4wOWY1MTYwOTNiOTEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9ldG5hdml2L2V0bmF2
aXZfbW11LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9tbXUuYwpAQCAt
MzM0LDUyICszMzQsNzEgQEAgdm9pZCBldG5hdml2X2lvbW11X3Jlc3RvcmUoc3RydWN0IGV0bmF2
aXZfZ3B1ICpncHUpCiAJCWV0bmF2aXZfaW9tbXV2Ml9yZXN0b3JlKGdwdSk7CiB9CiAKLWludCBl
dG5hdml2X2lvbW11X2dldF9zdWJhbGxvY192YShzdHJ1Y3QgZXRuYXZpdl9ncHUgKmdwdSwgZG1h
X2FkZHJfdCBwYWRkciwKLQkJCQkgIHN0cnVjdCBkcm1fbW1fbm9kZSAqdnJhbV9ub2RlLCBzaXpl
X3Qgc2l6ZSwKLQkJCQkgIHUzMiAqaW92YSkKK2ludCBldG5hdml2X2lvbW11X2dldF9zdWJhbGxv
Y192YShzdHJ1Y3QgZXRuYXZpdl9pb21tdSAqbW11LAorCQkJCSAgc3RydWN0IGV0bmF2aXZfdnJh
bV9tYXBwaW5nICptYXBwaW5nLAorCQkJCSAgdTMyIG1lbW9yeV9iYXNlLCBkbWFfYWRkcl90IHBh
ZGRyLAorCQkJCSAgc2l6ZV90IHNpemUpCiB7Ci0Jc3RydWN0IGV0bmF2aXZfaW9tbXUgKm1tdSA9
IGdwdS0+bW11OworCW11dGV4X2xvY2soJm1tdS0+bG9jayk7CiAKKwkvKgorCSAqIEZvciBNTVV2
MSB3ZSBkb24ndCBhZGQgdGhlIHN1YmFsbG9jIHJlZ2lvbiB0byB0aGUgcGFnZXRhYmxlcywgYXMK
KwkgKiB0aG9zZSBHUFVzIGNhbiBvbmx5IHdvcmsgd2l0aCBjbWRidWZzIGFjY2Vzc2VkIHRocm91
Z2ggdGhlIGxpbmVhcgorCSAqIHdpbmRvdy4gSW5zdGVhZCB3ZSBtYW51ZmFjdHVyZSBhIG1hcHBp
bmcgdG8gbWFrZSBpdCBsb29rIHVuaWZvcm0KKwkgKiB0byB0aGUgdXBwZXIgbGF5ZXJzLgorCSAq
LwogCWlmIChtbXUtPnZlcnNpb24gPT0gRVROQVZJVl9JT01NVV9WMSkgewotCQkqaW92YSA9IHBh
ZGRyIC0gZ3B1LT5tZW1vcnlfYmFzZTsKLQkJcmV0dXJuIDA7CisJCW1hcHBpbmctPmlvdmEgPSBw
YWRkciAtIG1lbW9yeV9iYXNlOwogCX0gZWxzZSB7CisJCXN0cnVjdCBkcm1fbW1fbm9kZSAqbm9k
ZSA9ICZtYXBwaW5nLT52cmFtX25vZGU7CiAJCWludCByZXQ7CiAKLQkJbXV0ZXhfbG9jaygmbW11
LT5sb2NrKTsKLQkJcmV0ID0gZXRuYXZpdl9pb21tdV9maW5kX2lvdmEobW11LCB2cmFtX25vZGUs
IHNpemUpOworCQlyZXQgPSBldG5hdml2X2lvbW11X2ZpbmRfaW92YShtbXUsIG5vZGUsIHNpemUp
OwogCQlpZiAocmV0IDwgMCkgewogCQkJbXV0ZXhfdW5sb2NrKCZtbXUtPmxvY2spOwogCQkJcmV0
dXJuIHJldDsKIAkJfQotCQlyZXQgPSBldG5hdml2X2RvbWFpbl9tYXAobW11LT5kb21haW4sIHZy
YW1fbm9kZS0+c3RhcnQsIHBhZGRyLAotCQkJCQkgc2l6ZSwgRVROQVZJVl9QUk9UX1JFQUQpOwor
CisJCW1hcHBpbmctPmlvdmEgPSBub2RlLT5zdGFydDsKKwkJcmV0ID0gZXRuYXZpdl9kb21haW5f
bWFwKG1tdS0+ZG9tYWluLCBub2RlLT5zdGFydCwgcGFkZHIsIHNpemUsCisJCQkJCSBFVE5BVklW
X1BST1RfUkVBRCk7CisKIAkJaWYgKHJldCA8IDApIHsKLQkJCWRybV9tbV9yZW1vdmVfbm9kZSh2
cmFtX25vZGUpOworCQkJZHJtX21tX3JlbW92ZV9ub2RlKG5vZGUpOwogCQkJbXV0ZXhfdW5sb2Nr
KCZtbXUtPmxvY2spOwogCQkJcmV0dXJuIHJldDsKIAkJfQotCQlncHUtPm1tdS0+bmVlZF9mbHVz
aCA9IHRydWU7Ci0JCW11dGV4X3VubG9jaygmbW11LT5sb2NrKTsKIAotCQkqaW92YSA9ICh1MzIp
dnJhbV9ub2RlLT5zdGFydDsKLQkJcmV0dXJuIDA7CisJCW1tdS0+bmVlZF9mbHVzaCA9IHRydWU7
CiAJfQorCisJbGlzdF9hZGRfdGFpbCgmbWFwcGluZy0+bW11X25vZGUsICZtbXUtPm1hcHBpbmdz
KTsKKwltYXBwaW5nLT51c2UgPSAxOworCisJbXV0ZXhfdW5sb2NrKCZtbXUtPmxvY2spOworCisJ
cmV0dXJuIDA7CiB9CiAKLXZvaWQgZXRuYXZpdl9pb21tdV9wdXRfc3ViYWxsb2NfdmEoc3RydWN0
IGV0bmF2aXZfZ3B1ICpncHUsCi0JCQkJICAgc3RydWN0IGRybV9tbV9ub2RlICp2cmFtX25vZGUs
IHNpemVfdCBzaXplLAotCQkJCSAgIHUzMiBpb3ZhKQordm9pZCBldG5hdml2X2lvbW11X3B1dF9z
dWJhbGxvY192YShzdHJ1Y3QgZXRuYXZpdl9pb21tdSAqbW11LAorCQkgIHN0cnVjdCBldG5hdml2
X3ZyYW1fbWFwcGluZyAqbWFwcGluZykKIHsKLQlzdHJ1Y3QgZXRuYXZpdl9pb21tdSAqbW11ID0g
Z3B1LT5tbXU7CisJc3RydWN0IGRybV9tbV9ub2RlICpub2RlID0gJm1hcHBpbmctPnZyYW1fbm9k
ZTsKIAotCWlmIChtbXUtPnZlcnNpb24gPT0gRVROQVZJVl9JT01NVV9WMikgewotCQltdXRleF9s
b2NrKCZtbXUtPmxvY2spOwotCQlldG5hdml2X2RvbWFpbl91bm1hcChtbXUtPmRvbWFpbiwgaW92
YSwgc2l6ZSk7Ci0JCWRybV9tbV9yZW1vdmVfbm9kZSh2cmFtX25vZGUpOwotCQltdXRleF91bmxv
Y2soJm1tdS0+bG9jayk7Ci0JfQorCWlmICghbWFwcGluZy0+dXNlKQorCQlyZXR1cm47CisKKwlt
YXBwaW5nLT51c2UgPSAwOworCisJaWYgKG1tdS0+dmVyc2lvbiA9PSBFVE5BVklWX0lPTU1VX1Yx
KQorCQlyZXR1cm47CisKKwltdXRleF9sb2NrKCZtbXUtPmxvY2spOworCWV0bmF2aXZfZG9tYWlu
X3VubWFwKG1tdS0+ZG9tYWluLCBub2RlLT5zdGFydCwgbm9kZS0+c2l6ZSk7CisJZHJtX21tX3Jl
bW92ZV9ub2RlKG5vZGUpOworCW11dGV4X3VubG9jaygmbW11LT5sb2NrKTsKIH0KKwogc2l6ZV90
IGV0bmF2aXZfaW9tbXVfZHVtcF9zaXplKHN0cnVjdCBldG5hdml2X2lvbW11ICppb21tdSkKIHsK
IAlyZXR1cm4gaW9tbXUtPmRvbWFpbi0+b3BzLT5kdW1wX3NpemUoaW9tbXUtPmRvbWFpbik7CmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X21tdS5oIGIvZHJpdmVy
cy9ncHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9tbXUuaAppbmRleCBhMGRiMTdmZmI2ODYuLmZlMWM5
ZDZiOTMzNCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9tbXUu
aAorKysgYi9kcml2ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X21tdS5oCkBAIC01OSwxMiAr
NTksMTIgQEAgaW50IGV0bmF2aXZfaW9tbXVfbWFwX2dlbShzdHJ1Y3QgZXRuYXZpdl9pb21tdSAq
bW11LAogdm9pZCBldG5hdml2X2lvbW11X3VubWFwX2dlbShzdHJ1Y3QgZXRuYXZpdl9pb21tdSAq
bW11LAogCXN0cnVjdCBldG5hdml2X3ZyYW1fbWFwcGluZyAqbWFwcGluZyk7CiAKLWludCBldG5h
dml2X2lvbW11X2dldF9zdWJhbGxvY192YShzdHJ1Y3QgZXRuYXZpdl9ncHUgKmdwdSwgZG1hX2Fk
ZHJfdCBwYWRkciwKLQkJCQkgIHN0cnVjdCBkcm1fbW1fbm9kZSAqdnJhbV9ub2RlLCBzaXplX3Qg
c2l6ZSwKLQkJCQkgIHUzMiAqaW92YSk7Ci12b2lkIGV0bmF2aXZfaW9tbXVfcHV0X3N1YmFsbG9j
X3ZhKHN0cnVjdCBldG5hdml2X2dwdSAqZ3B1LAotCQkJCSAgIHN0cnVjdCBkcm1fbW1fbm9kZSAq
dnJhbV9ub2RlLCBzaXplX3Qgc2l6ZSwKLQkJCQkgICB1MzIgaW92YSk7CitpbnQgZXRuYXZpdl9p
b21tdV9nZXRfc3ViYWxsb2NfdmEoc3RydWN0IGV0bmF2aXZfaW9tbXUgKm1tdSwKKwkJCQkgIHN0
cnVjdCBldG5hdml2X3ZyYW1fbWFwcGluZyAqbWFwcGluZywKKwkJCQkgIHUzMiBtZW1vcnlfYmFz
ZSwgZG1hX2FkZHJfdCBwYWRkciwKKwkJCQkgIHNpemVfdCBzaXplKTsKK3ZvaWQgZXRuYXZpdl9p
b21tdV9wdXRfc3ViYWxsb2NfdmEoc3RydWN0IGV0bmF2aXZfaW9tbXUgKm1tdSwKKwkJCQkgICBz
dHJ1Y3QgZXRuYXZpdl92cmFtX21hcHBpbmcgKm1hcHBpbmcpOwogCiBzaXplX3QgZXRuYXZpdl9p
b21tdV9kdW1wX3NpemUoc3RydWN0IGV0bmF2aXZfaW9tbXUgKmlvbW11KTsKIHZvaWQgZXRuYXZp
dl9pb21tdV9kdW1wKHN0cnVjdCBldG5hdml2X2lvbW11ICppb21tdSwgdm9pZCAqYnVmKTsKLS0g
CjIuMjAuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18K
ZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0
dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
