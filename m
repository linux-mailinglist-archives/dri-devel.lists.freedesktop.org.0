Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id F13B87D3DD
	for <lists+dri-devel@lfdr.de>; Thu,  1 Aug 2019 05:45:21 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 04FE96E34E;
	Thu,  1 Aug 2019 03:45:13 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-pg1-x544.google.com (mail-pg1-x544.google.com
 [IPv6:2607:f8b0:4864:20::544])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B58336E34A
 for <dri-devel@lists.freedesktop.org>; Thu,  1 Aug 2019 03:45:11 +0000 (UTC)
Received: by mail-pg1-x544.google.com with SMTP id t132so33262569pgb.9
 for <dri-devel@lists.freedesktop.org>; Wed, 31 Jul 2019 20:45:11 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references;
 bh=565VaDK+D7HMx0tprEDJj/7+3RMbouv2sqfsU1m6AlI=;
 b=PLPMMx0zm6nSZlNIt4+Yp3ETK4cmSvbRzKZxLztEoiZGMNP/btUwoM639CpDlS1gSi
 fWkcbIpH1wGzst8f6/P8BD3WrUJ3b+MCEqlyz5HE49bmtXAqiKtkSrpEY9d6XBNtarvm
 8piyHIsw5g0xO2TDb/sunAVl3b/q/uNfn9XgDoyiQ3EASKHm3ccaNimRWit71kLMVSFq
 9vdgWg/PFJBAco9n6miRka53znOCH5vjshjGaDP/BpC7YWIpmn3NgfwYCwyY3PCqcvFx
 SiIGHH3Bo44XYsX5/bPV2pA8KDE5P/rksyo+eOippDHeH/o729DUkNNIKEzMQ45CVgx8
 4VHQ==
X-Gm-Message-State: APjAAAUuPymvg3lgwl/co3NdPdwTY/m+XvdtzWCLJOgR0ixBidy9nh7t
 VxJnsoEt5ELakuOGoO3p1MfNug==
X-Google-Smtp-Source: APXvYqwGXw9jt9IUIQGF91k5z+BPfxgzP6NG+ZKR5TjWGB9fSyX1i6ISydNH+lA0AFfhosDJiT66CQ==
X-Received: by 2002:a62:1515:: with SMTP id 21mr52131943pfv.100.1564631110569; 
 Wed, 31 Jul 2019 20:45:10 -0700 (PDT)
Received: from localhost.localdomain ([2601:1c2:680:1319:692:26ff:feda:3a81])
 by smtp.gmail.com with ESMTPSA id
 h70sm64775674pgc.36.2019.07.31.20.45.09
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Wed, 31 Jul 2019 20:45:09 -0700 (PDT)
From: John Stultz <john.stultz@linaro.org>
To: lkml <linux-kernel@vger.kernel.org>
Subject: [PATCH v3 16/26] drm: kirin: Move mode config function to driver_data
Date: Thu,  1 Aug 2019 03:44:29 +0000
Message-Id: <20190801034439.98227-17-john.stultz@linaro.org>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20190801034439.98227-1-john.stultz@linaro.org>
References: <20190801034439.98227-1-john.stultz@linaro.org>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=linaro.org; s=google;
 h=from:to:cc:subject:date:message-id:in-reply-to:references;
 bh=565VaDK+D7HMx0tprEDJj/7+3RMbouv2sqfsU1m6AlI=;
 b=UumO8T4UFAhCGi2wV38MNxrxfoIXcvUhLIo+UDwQbHXJpPiR1UpNWfYhB56019xFWv
 omPeb7ZqVe6yVp2nQPcZ6ApLQuQP1OSiGXWpFkVVlcdbk6Cq07J2GzD46js/3ly8+xKv
 srjdVWGisDzNusPt2Uh2q0Ac+6ctEDx/QnIay++h5EihedQ/M/mEscL8pYbF8lbrUnpa
 I1tCZh+FL1GAVGLbG7zfNrvVd6tkPg7bT2qDqe3sDyjKnY9YGuKlhpcKhkYVlB2y2Xdf
 IGFLZpZU6+n0khrwqrwxZYIHFYm25OTwJ57mZSoMJz8esPYKZ6RcX8wC7VYsDaqBezDq
 pMtQ==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Xu YiPing <xuyiping@hisilicon.com>, David Airlie <airlied@linux.ie>,
 dri-devel <dri-devel@lists.freedesktop.org>,
 Rongrong Zou <zourongrong@gmail.com>, Sam Ravnborg <sam@ravnborg.org>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogWHUgWWlQaW5nIDx4dXlpcGluZ0BoaXNpbGljb24uY29tPgoKQXMgcGFydCBvZiByZWZh
Y3RvcmluZyB0aGUga2lyaW4gZHJpdmVyIHRvIGJldHRlciBzdXBwb3J0CmRpZmZlcmVudCBoYXJk
d2FyZSByZXZpc2lvbnMsIHRoaXMgcGF0Y2ggbW92ZXMgdGhlIG1vZGUgY29uZmlnCmluaXRpYWxp
emF0aW9uIHZhbHVlcyBpbnRvIHRoZSBraXJpbl9kcm1fZGF0YSBzdHJ1Y3R1cmUuCgpUaGlzIHdp
bGwgbWFrZSBpdCBlYXNpZXIgdG8gYWRkIHN1cHBvcnQgZm9yIG5ldyBkZXZpY2VzCnZpYSBhIG5l
dyBraXJpbl9kcm1fZGF0YSBzdHJ1Y3R1cmUuCgpDYzogUm9uZ3JvbmcgWm91IDx6b3Vyb25ncm9u
Z0BnbWFpbC5jb20+CkNjOiBEYXZpZCBBaXJsaWUgPGFpcmxpZWRAbGludXguaWU+CkNjOiBEYW5p
ZWwgVmV0dGVyIDxkYW5pZWxAZmZ3bGwuY2g+CkNjOiBkcmktZGV2ZWwgPGRyaS1kZXZlbEBsaXN0
cy5mcmVlZGVza3RvcC5vcmc+CkNjOiBTYW0gUmF2bmJvcmcgPHNhbUByYXZuYm9yZy5vcmc+ClJl
dmlld2VkLWJ5OiBTYW0gUmF2bmJvcmcgPHNhbUByYXZuYm9yZy5vcmc+ClNpZ25lZC1vZmYtYnk6
IFh1IFlpUGluZyA8eHV5aXBpbmdAaGlzaWxpY29uLmNvbT4KU2lnbmVkLW9mZi1ieTogSm9obiBT
dHVsdHogPGpvaG4uc3R1bHR6QGxpbmFyby5vcmc+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2hpc2ls
aWNvbi9raXJpbi9raXJpbl9kcm1fYWRlLmMgfCAxMCArKysrKysrKysrCiBkcml2ZXJzL2dwdS9k
cm0vaGlzaWxpY29uL2tpcmluL2tpcmluX2RybV9kcnYuYyB8ICA4ICstLS0tLS0tCiBkcml2ZXJz
L2dwdS9kcm0vaGlzaWxpY29uL2tpcmluL2tpcmluX2RybV9kcnYuaCB8ICAyICstCiAzIGZpbGVz
IGNoYW5nZWQsIDEyIGluc2VydGlvbnMoKyksIDggZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2hpc2lsaWNvbi9raXJpbi9raXJpbl9kcm1fYWRlLmMgYi9kcml2ZXJz
L2dwdS9kcm0vaGlzaWxpY29uL2tpcmluL2tpcmluX2RybV9hZGUuYwppbmRleCA5OWRmZDE1YWY3
NzEuLmJjYTA4MGUxNDAwOSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2hpc2lsaWNvbi9r
aXJpbi9raXJpbl9kcm1fYWRlLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2hpc2lsaWNvbi9raXJp
bi9raXJpbl9kcm1fYWRlLmMKQEAgLTMwLDYgKzMwLDcgQEAKICNpbmNsdWRlIDxkcm0vZHJtX2dl
bV9jbWFfaGVscGVyLmg+CiAjaW5jbHVkZSA8ZHJtL2RybV9wbGFuZV9oZWxwZXIuaD4KICNpbmNs
dWRlIDxkcm0vZHJtX3Byb2JlX2hlbHBlci5oPgorI2luY2x1ZGUgPGRybS9kcm1fZ2VtX2ZyYW1l
YnVmZmVyX2hlbHBlci5oPgogCiAjaW5jbHVkZSAia2lyaW5fZHJtX2Rydi5oIgogI2luY2x1ZGUg
ImtpcmluX2FkZV9yZWcuaCIKQEAgLTEwMzgsNiArMTAzOSwxMyBAQCBzdGF0aWMgdm9pZCBhZGVf
ZHJtX2NsZWFudXAoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKIHsKIH0KIAorc3RhdGlj
IGNvbnN0IHN0cnVjdCBkcm1fbW9kZV9jb25maWdfZnVuY3MgYWRlX21vZGVfY29uZmlnX2Z1bmNz
ID0geworCS5mYl9jcmVhdGUgPSBkcm1fZ2VtX2ZiX2NyZWF0ZSwKKwkuYXRvbWljX2NoZWNrID0g
ZHJtX2F0b21pY19oZWxwZXJfY2hlY2ssCisJLmF0b21pY19jb21taXQgPSBkcm1fYXRvbWljX2hl
bHBlcl9jb21taXQsCisKK307CisKIHN0cnVjdCBraXJpbl9kcm1fZGF0YSBhZGVfZHJpdmVyX2Rh
dGEgPSB7CiAJLmNoYW5uZWxfZm9ybWF0cyA9IGNoYW5uZWxfZm9ybWF0cywKIAkuY2hhbm5lbF9m
b3JtYXRzX2NudCA9IEFSUkFZX1NJWkUoY2hhbm5lbF9mb3JtYXRzKSwKQEAgLTEwNDUsNiArMTA1
Myw4IEBAIHN0cnVjdCBraXJpbl9kcm1fZGF0YSBhZGVfZHJpdmVyX2RhdGEgPSB7CiAJLmNydGNf
ZnVuY3MgPSAmYWRlX2NydGNfZnVuY3MsCiAJLnBsYW5lX2hlbHBlcl9mdW5jcyA9ICZhZGVfcGxh
bmVfaGVscGVyX2Z1bmNzLAogCS5wbGFuZV9mdW5jcyA9ICZhZGVfcGxhbmVfZnVuY3MsCisJLm1v
ZGVfY29uZmlnX2Z1bmNzID0gJmFkZV9tb2RlX2NvbmZpZ19mdW5jcywKKwogCS5pbml0ID0gYWRl
X2RybV9pbml0LAogCS5jbGVhbnVwID0gYWRlX2RybV9jbGVhbnVwCiB9OwpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2hpc2lsaWNvbi9raXJpbi9raXJpbl9kcm1fZHJ2LmMgYi9kcml2ZXJz
L2dwdS9kcm0vaGlzaWxpY29uL2tpcmluL2tpcmluX2RybV9kcnYuYwppbmRleCA2MGMxNjQ2MjNm
NTYuLmJmMWU2MDFmYjM2NyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2hpc2lsaWNvbi9r
aXJpbi9raXJpbl9kcm1fZHJ2LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2hpc2lsaWNvbi9raXJp
bi9raXJpbl9kcm1fZHJ2LmMKQEAgLTM5LDEyICszOSw2IEBAIHN0YXRpYyBpbnQga2lyaW5fZHJt
X2ttc19jbGVhbnVwKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYpCiAJcmV0dXJuIDA7CiB9CiAKLXN0
YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX21vZGVfY29uZmlnX2Z1bmNzIGtpcmluX2RybV9tb2RlX2Nv
bmZpZ19mdW5jcyA9IHsKLQkuZmJfY3JlYXRlID0gZHJtX2dlbV9mYl9jcmVhdGUsCi0JLmF0b21p
Y19jaGVjayA9IGRybV9hdG9taWNfaGVscGVyX2NoZWNrLAotCS5hdG9taWNfY29tbWl0ID0gZHJt
X2F0b21pY19oZWxwZXJfY29tbWl0LAotfTsKLQogc3RhdGljIHZvaWQga2lyaW5fZHJtX21vZGVf
Y29uZmlnX2luaXQoc3RydWN0IGRybV9kZXZpY2UgKmRldikKIHsKIAlkZXYtPm1vZGVfY29uZmln
Lm1pbl93aWR0aCA9IDA7CkBAIC01Myw3ICs0Nyw3IEBAIHN0YXRpYyB2b2lkIGtpcmluX2RybV9t
b2RlX2NvbmZpZ19pbml0KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYpCiAJZGV2LT5tb2RlX2NvbmZp
Zy5tYXhfd2lkdGggPSAyMDQ4OwogCWRldi0+bW9kZV9jb25maWcubWF4X2hlaWdodCA9IDIwNDg7
CiAKLQlkZXYtPm1vZGVfY29uZmlnLmZ1bmNzID0gJmtpcmluX2RybV9tb2RlX2NvbmZpZ19mdW5j
czsKKwlkZXYtPm1vZGVfY29uZmlnLmZ1bmNzID0gZHJpdmVyX2RhdGEtPm1vZGVfY29uZmlnX2Z1
bmNzOwogfQogCiBzdGF0aWMgaW50IGtpcmluX2RybV9rbXNfaW5pdChzdHJ1Y3QgZHJtX2Rldmlj
ZSAqZGV2KQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2hpc2lsaWNvbi9raXJpbi9raXJp
bl9kcm1fZHJ2LmggYi9kcml2ZXJzL2dwdS9kcm0vaGlzaWxpY29uL2tpcmluL2tpcmluX2RybV9k
cnYuaAppbmRleCA2NjkxNjUwMmE5ZTYuLmNlOWRkY2NjNjdhOCAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2hpc2lsaWNvbi9raXJpbi9raXJpbl9kcm1fZHJ2LmgKKysrIGIvZHJpdmVycy9n
cHUvZHJtL2hpc2lsaWNvbi9raXJpbi9raXJpbl9kcm1fZHJ2LmgKQEAgLTQyLDcgKzQyLDcgQEAg
c3RydWN0IGtpcmluX2RybV9kYXRhIHsKIAljb25zdCBzdHJ1Y3QgZHJtX2NydGNfZnVuY3MgKmNy
dGNfZnVuY3M7CiAJY29uc3Qgc3RydWN0IGRybV9wbGFuZV9oZWxwZXJfZnVuY3MgKnBsYW5lX2hl
bHBlcl9mdW5jczsKIAljb25zdCBzdHJ1Y3QgZHJtX3BsYW5lX2Z1bmNzICAqcGxhbmVfZnVuY3M7
Ci0KKwljb25zdCBzdHJ1Y3QgZHJtX21vZGVfY29uZmlnX2Z1bmNzICptb2RlX2NvbmZpZ19mdW5j
czsKIAlpbnQgKCppbml0KShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KTsKIAl2b2lkICgq
Y2xlYW51cCkoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldik7CiB9OwotLSAKMi4xNy4xCgpf
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwg
bWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0
cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
