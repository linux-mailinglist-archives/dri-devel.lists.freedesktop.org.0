Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 6EEB82DD25A
	for <lists+dri-devel@lfdr.de>; Thu, 17 Dec 2020 14:45:14 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 2A8F289DA2;
	Thu, 17 Dec 2020 13:45:11 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from foss.arm.com (foss.arm.com [217.140.110.172])
 by gabe.freedesktop.org (Postfix) with ESMTP id 207D689DA2
 for <dri-devel@lists.freedesktop.org>; Thu, 17 Dec 2020 13:45:09 +0000 (UTC)
Received: from usa-sjc-imap-foss1.foss.arm.com (unknown [10.121.207.14])
 by usa-sjc-mx-foss1.foss.arm.com (Postfix) with ESMTP id 794C531B;
 Thu, 17 Dec 2020 05:45:08 -0800 (PST)
Received: from [10.57.34.90] (unknown [10.57.34.90])
 by usa-sjc-imap-foss1.foss.arm.com (Postfix) with ESMTPSA id AFFA73F66B;
 Thu, 17 Dec 2020 05:45:07 -0800 (PST)
Subject: Re: [PATCH] drm/[amdgpu|radeon]: fix memset on io mem
To: =?UTF-8?Q?Christian_K=c3=b6nig?= <christian.koenig@amd.com>,
 Chen Li <chenli@uniontech.com>
References: <877dpiz4sf.wl-chenli@uniontech.com>
 <4277816d-db00-7e81-a2fb-069aeee18e8b@amd.com>
 <875z51zwsq.wl-chenli@uniontech.com>
 <90b625e2-2409-d13b-2456-483ad4eef18f@amd.com>
 <873605z1du.wl-chenli@uniontech.com>
 <7920fd29-3f95-2109-07ee-15659e80dc40@amd.com>
From: Robin Murphy <robin.murphy@arm.com>
Message-ID: <159c72db-1316-6155-2209-8e0e9a7f5224@arm.com>
Date: Thu, 17 Dec 2020 13:45:06 +0000
User-Agent: Mozilla/5.0 (Windows NT 10.0; rv:78.0) Gecko/20100101
 Thunderbird/78.5.1
MIME-Version: 1.0
In-Reply-To: <7920fd29-3f95-2109-07ee-15659e80dc40@amd.com>
Content-Language: en-GB
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Alex Deucher <alexander.deucher@amd.com>, dri-devel@lists.freedesktop.org
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gMjAyMC0xMi0xNyAxMDoyNSwgQ2hyaXN0aWFuIEvDtm5pZyB3cm90ZToKPiBBbSAxNy4xMi4y
MCB1bSAwMjowNyBzY2hyaWViIENoZW4gTGk6Cj4+IE9uIFdlZCwgMTYgRGVjIDIwMjAgMjI6MTk6
MTEgKzA4MDAsCj4+IENocmlzdGlhbiBLw7ZuaWcgd3JvdGU6Cj4+PiBBbSAxNi4xMi4yMCB1bSAx
NDo0OCBzY2hyaWViIENoZW4gTGk6Cj4+Pj4gT24gV2VkLCAxNiBEZWMgMjAyMCAxNTo1OTozNyAr
MDgwMCwKPj4+PiBDaHJpc3RpYW4gS8O2bmlnIHdyb3RlOgo+Pj4+PiBbU05JUF0KPj4+PiBIaSwg
Q2hyaXN0aWFuLiBJJ20gbm90IHN1cmUgd2h5IHRoaXMgY2hhbmdlIGlzIGEgaGFjayBoZXJlLiBJ
IGNhbm5vdCAKPj4+PiBzZWUgdGhlIHByb2JsZW0gYW5kIHdsbCBiZSBncmF0ZWZ1bCBpZiB5b3Ug
Z2l2ZSBtb3JlIGV4cGxhaW5hdGlvbnMuCj4+PiBfX21lbXNldCBpcyBzdXBwb3NlZCB0byB3b3Jr
IG9uIHRob3NlIGFkZHJlc3Nlcywgb3RoZXJ3aXNlIHlvdSBjYW4ndCAKPj4+IHVzZSB0aGUKPj4+
IGU4ODYwIG9uIHlvdXIgYXJtNjQgc3lzdGVtLgo+PiBJZiBfX21lbXNldCBpcyBzdXBwb3NlZCB0
byB3b3JrIG9uIHRob3NlIGFkcmVzc2VzLCB3aHkgdGhpcyAKPj4gY29tbWl0KGh0dHBzOi8vbmFt
MTEuc2FmZWxpbmtzLnByb3RlY3Rpb24ub3V0bG9vay5jb20vP3VybD1odHRwcyUzQSUyRiUyRmdp
dGh1Yi5jb20lMkZ0b3J2YWxkcyUyRmxpbnV4JTJGY29tbWl0JTJGYmEwYjIyNzVhNjc4MWIyZjM5
MTlkOTMxZDYzMzI5YjU1NDhmNmQ1ZiZhbXA7ZGF0YT0wNCU3QzAxJTdDY2hyaXN0aWFuLmtvZW5p
ZyU0MGFtZC5jb20lN0M0ZWQzYzA3NTg4ODc0NmI3ZjQxNDA4ZDhhMjI4MTFjNSU3QzNkZDg5NjFm
ZTQ4ODRlNjA4ZTExYTgyZDk5NGUxODNkJTdDMCU3QzAlN0M2Mzc0Mzc2NDAyNzQwMjMzNTAlN0NV
bmtub3duJTdDVFdGcGJHWnNiM2Q4ZXlKV0lqb2lNQzR3TGpBd01EQWlMQ0pRSWpvaVYybHVNeklp
TENKQlRpSTZJazFoYVd3aUxDSlhWQ0k2TW4wJTNEJTdDMTAwMCZhbXA7c2RhdGE9SGhXeFVhTG8z
V3B6b1Y2aGpWJTJCRzFISUNhSU9Yd3NvTnB6djV0Tk1OZzhBJTNEJmFtcDtyZXNlcnZlZD0wKSAK
Pj4gaXMgbmVlZGVkPyAoSSBhbHNvIG5vdGljZSBkcm0vcmFkZW9uIGRpZG4ndCB0YWtlIHRoaXMg
Y2hhbmdlIHRob3VnaCkgCj4+IGp1c3Qgb3V0IG9mIGN1cmlvc2l0eS4KPiAKPiBXZSBnZW5lcmFs
bHkgYWNjZXB0IHRob3NlIHBhdGNoZXMgYXMgY2xlYW51cCBpbiB0aGUga2VybmVsIHdpdGggdGhl
IGhvcGUgCj4gdGhhdCB3ZSBjYW4gZmluZCBhIHdheSB0byB3b3JrIGFyb3VuZCB0aGUgdXNlcnNw
YWNlIHJlc3RyaWN0aW9ucy4KPiAKPiBCdXQgd2hlbiB5b3UgYWxzbyBoYXZlIHRoaXMgaXNzdWUg
aW4gdXNlcnNwYWNlIHRoZW4gdGhlcmUgaXNuJ3QgbXVjaCB3ZSAKPiBjYW4gZG8gZm9yIHlvdS4K
PiAKPj4+IFJlcGxhY2luZyB0aGUgdGhlIGRpcmVjdCB3cml0ZSBpbiB0aGUga2VybmVsIHdpdGgg
Y2FsbHMgdG8gd3JpdGVsKCkgb3IKPj4+IG1lbXNldF9pbygpIHdpbGwgZml4IHRoYXQgdGVtcG9y
YXJ5LCBidXQgeW91IGhhdmUgYSBtb3JlIGdlbmVyYWwgCj4+PiBwcm9ibGVtIGhlcmUuCj4+IEkg
Y2Fubm90IHNlZSB3aGF0J3MgdGhlIG1vcmUgZ2VuZXJhbCBwcm9ibGVtIGhlcmUgOiggdSBtZWFu
IHBlcmZvcm1hbmNlPwo+IAo+IE5vLCBub3QgcGVyZm9ybWFuY2UuIFNlZSBzdGFuZGFyZHMgbGlr
ZSBPcGVuR0wsIFZ1bGthbiBhcyB3ZWxsIGFzIFZBLUFQSSAKPiBhbmQgVkRQQVUgcmVxdWlyZSB0
aGF0IHlvdSBjYW4gbW1hcCgpIGRldmljZSBtZW1vcnkgYW5kIGV4ZWN1dGUgCj4gbWVtc2V0L21l
bWNweSBvbiB0aGUgbWVtb3J5IGZyb20gdXNlcnNwYWNlLgo+IAo+IElmIHlvdXIgQVJNIGJhc2Ug
Ym9hcmQgY2FuJ3QgZG8gdGhhdCBmb3Igc29tZSB0aGVuIHlvdSBjYW4ndCB1c2UgdGhlIAo+IGhh
cmR3YXJlIHdpdGggdGhhdCBib2FyZC4KCklmIHRoZSBWUkFNIGxpdmVzIGluIGEgcHJlZmV0Y2hh
YmxlIFBDSSBiYXIgdGhlbiBvbiBtb3N0IHNhbmUgQXJtLWJhc2VkIApzeXN0ZW1zIEkgYmVsaWV2
ZSBpdCBzaG91bGQgYmUgYWJsZSB0byBtbWFwKCkgdG8gdXNlcnNwYWNlIHdpdGggdGhlIApOb3Jt
YWwgbWVtb3J5IHR5cGUsIHdoZXJlIHVuYWxpZ25lZCBhY2Nlc3NlcyBhbmQgc3VjaCBhcmUgYWxs
b3dlZCwgYXMgCm9wcG9zZWQgdG8gdGhlIERldmljZSBtZW1vcnkgdHlwZSBpbnRlbmRlZCBmb3Ig
TU1JTyBtYXBwaW5ncywgd2hpY2ggaGFzIAptb3JlIHJlc3RyaWN0aW9ucyBidXQgc3RyaWN0ZXIg
b3JkZXJpbmcgZ3VhcmFudGVlcy4KClJlZ2FyZGxlc3Mgb2Ygd2hhdCBoYXBwZW5zIGVsc2V3aGVy
ZSB0aG91Z2gsIGlmIHNvbWV0aGluZyBpcyBtYXBwZWQgCippbnRvIHRoZSBrZXJuZWwqIHdpdGgg
aW9yZW1hcCgpLCB0aGVuIGl0IGlzIGZ1bmRhbWVudGFsbHkgd3JvbmcgcGVyIHRoZSAKa2VybmVs
IG1lbW9yeSBtb2RlbCB0byByZWZlcmVuY2UgdGhhdCBtYXBwaW5nIGRpcmVjdGx5IHdpdGhvdXQg
dXNpbmcgSS9PIAphY2Nlc3NvcnMuIFRoYXQgaXMgbm90IHNwZWNpZmljIHRvIGFueSBpbmRpdmlk
dWFsIGFyY2hpdGVjdHVyZSwgYW5kIApTcGFyc2Ugc2hvdWxkIGJlIHNjcmVhbWluZyBhYm91dCBp
dCBhbHJlYWR5LiBJIGd1ZXNzIGluIHRoaXMgY2FzZSB0aGUgClVWRCBjb2RlIG5lZWRzIHRvIHBh
eSBtb3JlIGF0dGVudGlvbiB0byB3aGV0aGVyIHJhZGVvbl9ib19rbWFwKCkgZW5kcyB1cCAKZ29p
bmcgdmlhIHR0bV9ib19pb3JlbWFwKCkgb3Igbm90LgoKKEknbSBhc3N1bWluZyB0aGUgaW5pdGlh
bCBmYXVsdCB3YXMgbWVtc2V0KCkgd2l0aCAwIHRyeWluZyB0byBwZXJmb3JtIAoiREMgWlZBIiBv
biBhIERldmljZS10eXBlIG1hcHBpbmcgZnJvbSBpb3JlbWFwKCkgLSBGWUkgYSBzdGFja3RyYWNl
IG9uIAppdHMgb3duIHdpdGhvdXQgdGhlIHJlc3Qgb2YgdGhlIGVycm9yIGR1bXAgc2hvd2luZyB3
aGF0IGFjdHVhbGx5IAp0cmlnZ2VyZWQgaXQgaXNuJ3Qgb3Zlcmx5IHVzZWZ1bCkKClJvYmluLgoK
Pj4+Pj4gRm9yIGFtZGdwdSBJIHN1Z2dlc3QgdGhhdCB3ZSBhbGxvY2F0ZSB0aGUgVVZEIG1lc3Nh
Z2UgaW4gR1RUIAo+Pj4+PiBpbnN0ZWFkIG9mIFZSQU0KPj4+Pj4gc2luY2Ugd2UgZG9uJ3QgaGF2
ZSB0aGUgaGFyZHdhcmUgcmVzdHJpY3Rpb24gZm9yIHRoYXQgb24gdGhlIG5ldyAKPj4+Pj4gZ2Vu
ZXJhdGlvbnMuCj4+Pj4+Cj4+Pj4gVGhhbmtzLCBJIHdpbGwgdHJ5IHRvIGRpZyBpbnRvIGRlZXBl
ci4gQnV0IHdoYXQncyB0aGUgImhhcmR3YXJlIAo+Pj4+IHJlc3RyaWN0aW9uIiBtZWFuaW5nIGhl
cmU/IEknbSBub3QgZmFtaWxpYXIgd2l0aCB2aWRlbyBkcml2ZXIgc3RhY2sgCj4+Pj4gYW5kIGFt
ZCBncHUsIHNvcnJ5Lgo+Pj4gT24gb2xkZXIgaGFyZHdhcmUgKEFHUCBkYXlzKSB0aGUgYnVmZmVy
IGhhZCB0byBiZSBpbiBWUkFNIChNTUlPKSAKPj4+IG1lbW9yeSwgYnV0IG9uCj4+PiBtb2Rlcm4g
c3lzdGVtIEdUVCAoc3lzdGVtIG1lbW9yeSkgd29ya3MgYXMgd2VsbC4KPj4gSUlVQywgZTg4NjAg
Y2FuIHVzZSBhbWRncHUoSSB1c2UgcmFkZW9uIG5vdykgYmVhdXNlIGl0cyBkZXZpY2UgaWQgNjgy
MiAKPj4gaXMgaW4gYW1kZ3B1J3MgdGFibGUuIEJ1dCBJIGNhbm5vdCB0ZWxsIHdoZXRoZXIgZTg4
NjAgaGFzIGlvbW11LCBhbmQgSSAKPj4gY2Fubm90IGZpbmQgaW9tbXUgZnJvbSBsc3BjaSwgc28g
Z3JhcGhpY3MgdHJhbnNsYXRpb24gdGFibGUgbWF5IG5vdCAKPj4gd29yayBoZXJlPwo+IAo+IFRo
YXQgaXMgbm90IHJlbGF0ZWQgdG8gSU9NTVUuIElPTU1VIGlzIGEgZmVhdHVyZSBvZiB0aGUgQ1BV
L21vdGhlcmJvYXJkLiAKPiBUaGlzIGlzIGltcGxlbWVudGVkIHVzaW5nIEdUVCwgZS5nLiB0aGUg
Vk0gcGFnZSB0YWJsZXMgaW5zaWRlIHRoZSBHUFUuCj4gCj4gQW5kIHllcyBpdCBzaG91bGQgd29y
ayBJIHdpbGwgcHJlcGFyZSBhIHBhdGNoIGZvciBpdC4KPiAKPj4+Pj4gQlRXOiBIb3cgZG9lcyB1
c2Vyc3BhY2Ugd29yayBvbiBhcm02NCB0aGVuPyBUaGUgZHJpdmVyIHN0YWNrIAo+Pj4+PiB1c3Vh
bGx5IG9ubHkgd29ya3MKPj4+Pj4gaWYgbW1pbyBjYW4gYmUgbWFwcGVkIGRpcmVjdGx5Lgo+Pj4+
IEkgYWxzbyBwb3N0IHR3byB1c2VzcGFjZSBpc3N1ZSBvbiBtZXNhLCBhbmQgeW91IG1heSBiZSBp
bnRlcmVzdGVkIAo+Pj4+IHdpdGggdGhlbToKPj4+PiAgICAKPj4+PiBodHRwczovL25hbTExLnNh
ZmVsaW5rcy5wcm90ZWN0aW9uLm91dGxvb2suY29tLz91cmw9aHR0cHMlM0ElMkYlMkZnaXRsYWIu
ZnJlZWRlc2t0b3Aub3JnJTJGbWVzYSUyRm1lc2ElMkYtJTJGaXNzdWVzJTJGMzk1NCZhbXA7ZGF0
YT0wNCU3QzAxJTdDY2hyaXN0aWFuLmtvZW5pZyU0MGFtZC5jb20lN0M0ZWQzYzA3NTg4ODc0NmI3
ZjQxNDA4ZDhhMjI4MTFjNSU3QzNkZDg5NjFmZTQ4ODRlNjA4ZTExYTgyZDk5NGUxODNkJTdDMCU3
QzAlN0M2Mzc0Mzc2NDAyNzQwMjMzNTAlN0NVbmtub3duJTdDVFdGcGJHWnNiM2Q4ZXlKV0lqb2lN
QzR3TGpBd01EQWlMQ0pRSWpvaVYybHVNeklpTENKQlRpSTZJazFoYVd3aUxDSlhWQ0k2TW4wJTNE
JTdDMTAwMCZhbXA7c2RhdGE9WlI3cERTJTJCQ0xVdU1qQ2VLY01BWGZIdGJjenQ4V2RVd1NlTFpD
dUhmQ0h3JTNEJmFtcDtyZXNlcnZlZD0wIAo+Pj4+Cj4+Pj4gICAgCj4+Pj4gaHR0cHM6Ly9uYW0x
MS5zYWZlbGlua3MucHJvdGVjdGlvbi5vdXRsb29rLmNvbS8/dXJsPWh0dHBzJTNBJTJGJTJGZ2l0
bGFiLmZyZWVkZXNrdG9wLm9yZyUyRm1lc2ElMkZtZXNhJTJGLSUyRmlzc3VlcyUyRjM5NTEmYW1w
O2RhdGE9MDQlN0MwMSU3Q2NocmlzdGlhbi5rb2VuaWclNDBhbWQuY29tJTdDNGVkM2MwNzU4ODg3
NDZiN2Y0MTQwOGQ4YTIyODExYzUlN0MzZGQ4OTYxZmU0ODg0ZTYwOGUxMWE4MmQ5OTRlMTgzZCU3
QzAlN0MwJTdDNjM3NDM3NjQwMjc0MDMzMzQ0JTdDVW5rbm93biU3Q1RXRnBiR1pzYjNkOGV5SldJ
am9pTUM0d0xqQXdNREFpTENKUUlqb2lWMmx1TXpJaUxDSkJUaUk2SWsxaGFXd2lMQ0pYVkNJNk1u
MCUzRCU3QzEwMDAmYW1wO3NkYXRhPWpBSm8zYUcySTFvSURUWlhXaE5nY0tvS2JkNnRUZGlBdGM3
dkU0aEpKUFklM0QmYW1wO3Jlc2VydmVkPTAgCj4+Pj4KPj4+PiBJIHBhc3RlIHNvbWUgdmlydHVh
bCBtZW1vcnkgbWFwIGluIHVzZXJzcGFjZSB0aGVyZS4gKGFuZCB0aGUgdHdvIAo+Pj4+IHByb2Js
ZW1zIGRvIGJvdGhlciBtZSBxdWl0ZSBhIGxvbmcgdGltZS4pCj4+PiBJIGRvbid0IHJlYWxseSBz
ZWUgYSBzb2x1dGlvbiBmb3IgdGhvc2UgcHJvYmxlbXMuCj4+Pgo+Pj4gU2VlIGl0IGlzIHBlcmZl
Y3RseSB2YWxpZCBmb3IgYW4gYXBwbGljYXRpb24gdG8gbWVtc2V0L21lbWNweSBvbiAKPj4+IG1t
YXBlZCBNTUlPCj4+PiBzcGFjZSB3aGljaCBjb21lcyBmcm9tIE9wZW5HTCBvciBWdWxrYW4uCj4+
Pgo+Pj4gU28geW91ciBDUFUgc2ltcGx5IHdvbid0IHdvcmsgd2l0aCB0aGUgaGFyZHdhcmUuIFdl
IGNvdWxkIHdvcmsgYXJvdW5kIAo+Pj4gdGhhdCB3aXRoCj4+PiBhIGNvdXBsZSBvZiBoYWNrcywg
YnV0IHRoaXMgaXMgYSBwcmV0dHkgbXVjaCBnZW5lcmFsIHByb2JsZW0uCj4+Pgo+Pj4gUmVnYXJk
cywKPj4+IENocmlzdGlhbi4KPj4gVGhhbmtzISBDYW4geW91IHByb3ZpZCBzb21lIGRldGFpbHMg
YWJvdXQgdGhlc2UgaGFja3M/IFNob3VsZCBJIHBvc3QgCj4+IGFub3RoZXIgaXNzdWUgb24gdGhl
IG1haWwgbGlzdD8KPiAKPiBBZGp1c3QgdGhlIGtlcm5lbCBhbmQvb3IgdXNlciBzcGFjZSB0byBu
ZXZlciBtYXAgVlJBTSB0byB0aGUgQ1BVLgo+IAo+IFRoaXMgdmlvbGF0ZXMgdGhlIE9wZW5HTC9W
dWxrYW4gc3BlY2lmaWNhdGlvbiBpbiBzb21lIHdheXMuIFNvIG5vdCBzdXJlIAo+IGlmIHRoYXQg
d2lsbCB3b3JrIG9yIG5vdC4KPiAKPiBSZWdhcmRzLAo+IENocmlzdGlhbi4KPiBfX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwo+IGRyaS1kZXZlbCBtYWlsaW5n
IGxpc3QKPiBkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCj4gaHR0cHM6Ly9saXN0cy5m
cmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWwKX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApk
cmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Au
b3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVsCg==
