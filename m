Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id E970C110285
	for <lists+dri-devel@lfdr.de>; Tue,  3 Dec 2019 17:39:18 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 81D376E9F1;
	Tue,  3 Dec 2019 16:39:16 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 60E396E9F1;
 Tue,  3 Dec 2019 16:39:15 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by orsmga101.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 03 Dec 2019 08:39:14 -0800
X-IronPort-AV: E=Sophos;i="5.69,273,1571727600"; d="scan'208";a="205035914"
Received: from jnikula-mobl3.fi.intel.com (HELO localhost) ([10.237.66.161])
 by orsmga008-auth.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 03 Dec 2019 08:39:12 -0800
From: Jani Nikula <jani.nikula@intel.com>
To: dri-devel@lists.freedesktop.org,
	linux-fbdev@vger.kernel.org
Subject: [PATCH v3 02/12] video: fbdev: mb862xx: modify the static fb_ops
 directly
Date: Tue,  3 Dec 2019 18:38:44 +0200
Message-Id: <51f55c02ea4057cc46335ca5c447b92a55383f77.1575390740.git.jani.nikula@intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <cover.1575390740.git.jani.nikula@intel.com>
References: <cover.1575390740.git.jani.nikula@intel.com>
MIME-Version: 1.0
Organization: Intel Finland Oy - BIC 0357606-4 - Westendinkatu 7, 02160 Espoo
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: jani.nikula@intel.com, intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QXZvaWQgbW9kaWZ5aW5nIHRoZSBmYl9vcHMgdmlhIGluZm8tPmZib3BzIHRvIGxldCB1cyBtYWtl
IHRoZSBwb2ludGVyCmNvbnN0IGluIHRoZSBmdXR1cmUuIERyb3AgdGhlIHVubmVjZXNzYXJ5IEVY
UE9SVF9TWU1CT0woKSB3aGlsZSBhdCBpdC4KCkNjOiBsaW51eC1mYmRldkB2Z2VyLmtlcm5lbC5v
cmcKU2lnbmVkLW9mZi1ieTogSmFuaSBOaWt1bGEgPGphbmkubmlrdWxhQGludGVsLmNvbT4KLS0t
CiBkcml2ZXJzL3ZpZGVvL2ZiZGV2L21iODYyeHgvbWI4NjJ4eGZiLmggICAgICAgfCAgMiArLQog
ZHJpdmVycy92aWRlby9mYmRldi9tYjg2Mnh4L21iODYyeHhmYl9hY2NlbC5jIHwgMTUgKysrKysr
Ky0tLS0tLS0tCiBkcml2ZXJzL3ZpZGVvL2ZiZGV2L21iODYyeHgvbWI4NjJ4eGZiZHJ2LmMgICAg
fCAgNCArKystCiAzIGZpbGVzIGNoYW5nZWQsIDExIGluc2VydGlvbnMoKyksIDEwIGRlbGV0aW9u
cygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmlkZW8vZmJkZXYvbWI4NjJ4eC9tYjg2Mnh4ZmIu
aCBiL2RyaXZlcnMvdmlkZW8vZmJkZXYvbWI4NjJ4eC9tYjg2Mnh4ZmIuaAppbmRleCA1MGJjOWI1
ODRjYTEuLjUyYTc3ZWE0ZTg0OSAxMDA2NDQKLS0tIGEvZHJpdmVycy92aWRlby9mYmRldi9tYjg2
Mnh4L21iODYyeHhmYi5oCisrKyBiL2RyaXZlcnMvdmlkZW8vZmJkZXYvbWI4NjJ4eC9tYjg2Mnh4
ZmIuaApAQCAtODksNyArODksNyBAQCBzdHJ1Y3QgbWI4NjJ4eGZiX3BhciB7CiAJdTMyCQkJcHNl
dWRvX3BhbGV0dGVbMTZdOwogfTsKIAotZXh0ZXJuIHZvaWQgbWI4NjJ4eGZiX2luaXRfYWNjZWwo
c3RydWN0IGZiX2luZm8gKmluZm8sIGludCB4cmVzKTsKK2V4dGVybiB2b2lkIG1iODYyeHhmYl9p
bml0X2FjY2VsKHN0cnVjdCBmYl9pbmZvICppbmZvLCBzdHJ1Y3QgZmJfb3BzICpmYm9wcywgaW50
IHhyZXMpOwogI2lmZGVmIENPTkZJR19GQl9NQjg2MlhYX0kyQwogZXh0ZXJuIGludCBtYjg2Mnh4
X2kyY19pbml0KHN0cnVjdCBtYjg2Mnh4ZmJfcGFyICpwYXIpOwogZXh0ZXJuIHZvaWQgbWI4NjJ4
eF9pMmNfZXhpdChzdHJ1Y3QgbWI4NjJ4eGZiX3BhciAqcGFyKTsKZGlmZiAtLWdpdCBhL2RyaXZl
cnMvdmlkZW8vZmJkZXYvbWI4NjJ4eC9tYjg2Mnh4ZmJfYWNjZWwuYyBiL2RyaXZlcnMvdmlkZW8v
ZmJkZXYvbWI4NjJ4eC9tYjg2Mnh4ZmJfYWNjZWwuYwppbmRleCBmNThmZjkwMGU4MmEuLjQyNTY5
MjY0ODAxZiAxMDA2NDQKLS0tIGEvZHJpdmVycy92aWRlby9mYmRldi9tYjg2Mnh4L21iODYyeHhm
Yl9hY2NlbC5jCisrKyBiL2RyaXZlcnMvdmlkZW8vZmJkZXYvbWI4NjJ4eC9tYjg2Mnh4ZmJfYWNj
ZWwuYwpAQCAtMzAzLDE5ICszMDMsMTkgQEAgc3RhdGljIHZvaWQgbWI4NjI5MGZiX2ZpbGxyZWN0
KHN0cnVjdCBmYl9pbmZvICppbmZvLAogCW1iODYyeHhmYl93cml0ZV9maWZvKDcsIGNtZCwgaW5m
byk7CiB9CiAKLXZvaWQgbWI4NjJ4eGZiX2luaXRfYWNjZWwoc3RydWN0IGZiX2luZm8gKmluZm8s
IGludCB4cmVzKQordm9pZCBtYjg2Mnh4ZmJfaW5pdF9hY2NlbChzdHJ1Y3QgZmJfaW5mbyAqaW5m
bywgc3RydWN0IGZiX29wcyAqZmJvcHMsIGludCB4cmVzKQogewogCXN0cnVjdCBtYjg2Mnh4ZmJf
cGFyICpwYXIgPSBpbmZvLT5wYXI7CiAKIAlpZiAoaW5mby0+dmFyLmJpdHNfcGVyX3BpeGVsID09
IDMyKSB7Ci0JCWluZm8tPmZib3BzLT5mYl9maWxscmVjdCA9IGNmYl9maWxscmVjdDsKLQkJaW5m
by0+ZmJvcHMtPmZiX2NvcHlhcmVhID0gY2ZiX2NvcHlhcmVhOwotCQlpbmZvLT5mYm9wcy0+ZmJf
aW1hZ2VibGl0ID0gY2ZiX2ltYWdlYmxpdDsKKwkJZmJvcHMtPmZiX2ZpbGxyZWN0ID0gY2ZiX2Zp
bGxyZWN0OworCQlmYm9wcy0+ZmJfY29weWFyZWEgPSBjZmJfY29weWFyZWE7CisJCWZib3BzLT5m
Yl9pbWFnZWJsaXQgPSBjZmJfaW1hZ2VibGl0OwogCX0gZWxzZSB7CiAJCW91dHJlZyhkaXNwLCBH
Q19MMEVNLCAzKTsKLQkJaW5mby0+ZmJvcHMtPmZiX2ZpbGxyZWN0ID0gbWI4NjI5MGZiX2ZpbGxy
ZWN0OwotCQlpbmZvLT5mYm9wcy0+ZmJfY29weWFyZWEgPSBtYjg2MjkwZmJfY29weWFyZWE7Ci0J
CWluZm8tPmZib3BzLT5mYl9pbWFnZWJsaXQgPSBtYjg2MjkwZmJfaW1hZ2VibGl0OworCQlmYm9w
cy0+ZmJfZmlsbHJlY3QgPSBtYjg2MjkwZmJfZmlsbHJlY3Q7CisJCWZib3BzLT5mYl9jb3B5YXJl
YSA9IG1iODYyOTBmYl9jb3B5YXJlYTsKKwkJZmJvcHMtPmZiX2ltYWdlYmxpdCA9IG1iODYyOTBm
Yl9pbWFnZWJsaXQ7CiAJfQogCW91dHJlZyhkcmF3LCBHRENfUkVHX0RSQVdfQkFTRSwgMCk7CiAJ
b3V0cmVnKGRyYXcsIEdEQ19SRUdfTU9ERV9NSVNDLCAweDgwMDApOwpAQCAtMzI2LDYgKzMyNiw1
IEBAIHZvaWQgbWI4NjJ4eGZiX2luaXRfYWNjZWwoc3RydWN0IGZiX2luZm8gKmluZm8sIGludCB4
cmVzKQogCSAgICBGQklORk9fSFdBQ0NFTF9JTUFHRUJMSVQ7CiAJaW5mby0+Zml4LmFjY2VsID0g
MHhmZjsJLypGSVhNRTogYWRkIHJpZ2h0IGRlZmluZSAqLwogfQotRVhQT1JUX1NZTUJPTChtYjg2
Mnh4ZmJfaW5pdF9hY2NlbCk7CiAKIE1PRFVMRV9MSUNFTlNFKCJHUEwgdjIiKTsKZGlmZiAtLWdp
dCBhL2RyaXZlcnMvdmlkZW8vZmJkZXYvbWI4NjJ4eC9tYjg2Mnh4ZmJkcnYuYyBiL2RyaXZlcnMv
dmlkZW8vZmJkZXYvbWI4NjJ4eC9tYjg2Mnh4ZmJkcnYuYwppbmRleCA5NjJjMDE3MWQyNzEuLjUy
NzU1YjU5MWMxNCAxMDA2NDQKLS0tIGEvZHJpdmVycy92aWRlby9mYmRldi9tYjg2Mnh4L21iODYy
eHhmYmRydi5jCisrKyBiL2RyaXZlcnMvdmlkZW8vZmJkZXYvbWI4NjJ4eC9tYjg2Mnh4ZmJkcnYu
YwpAQCAtMTk0LDYgKzE5NCw4IEBAIHN0YXRpYyBpbnQgbWI4NjJ4eGZiX2NoZWNrX3ZhcihzdHJ1
Y3QgZmJfdmFyX3NjcmVlbmluZm8gKnZhciwKIAlyZXR1cm4gMDsKIH0KIAorc3RhdGljIHN0cnVj
dCBmYl9vcHMgbWI4NjJ4eGZiX29wczsKKwogLyoKICAqIHNldCBkaXNwbGF5IHBhcmFtZXRlcnMK
ICAqLwpAQCAtMjA0LDcgKzIwNiw3IEBAIHN0YXRpYyBpbnQgbWI4NjJ4eGZiX3NldF9wYXIoc3Ry
dWN0IGZiX2luZm8gKmZiaSkKIAogCWRldl9kYmcocGFyLT5kZXYsICIlc1xuIiwgX19mdW5jX18p
OwogCWlmIChwYXItPnR5cGUgPT0gQlRfQ09SQUxQKQotCQltYjg2Mnh4ZmJfaW5pdF9hY2NlbChm
YmksIGZiaS0+dmFyLnhyZXMpOworCQltYjg2Mnh4ZmJfaW5pdF9hY2NlbChmYmksICZtYjg2Mnh4
ZmJfb3BzLCBmYmktPnZhci54cmVzKTsKIAogCWlmIChwYXItPnByZV9pbml0KQogCQlyZXR1cm4g
MDsKLS0gCjIuMjAuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Au
b3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRl
dmVs
