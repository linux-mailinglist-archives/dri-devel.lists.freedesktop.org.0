Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id D2494670CD
	for <lists+dri-devel@lfdr.de>; Fri, 12 Jul 2019 15:59:32 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 392516E0F8;
	Fri, 12 Jul 2019 13:59:24 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A236A8990D;
 Fri, 12 Jul 2019 13:59:21 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga007.fm.intel.com ([10.253.24.52])
 by orsmga101.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 12 Jul 2019 06:59:21 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.63,482,1557212400"; d="scan'208";a="168323435"
Received: from ramaling-i9x.iind.intel.com ([10.99.66.154])
 by fmsmga007.fm.intel.com with ESMTP; 12 Jul 2019 06:59:19 -0700
From: Ramalingam C <ramalingam.c@intel.com>
To: intel-gfx <intel-gfx@lists.freedesktop.org>,
 dri-devel <dri-devel@lists.freedesktop.org>,
 Pekka Paalanen <ppaalanen@gmail.com>, Daniel Vetter <daniel@ffwll.ch>
Subject: [PATCH v10 4/6] drm/hdcp: update content protection property with
 uevent
Date: Fri, 12 Jul 2019 12:30:24 +0530
Message-Id: <20190712070026.13088-5-ramalingam.c@intel.com>
X-Mailer: git-send-email 2.19.1
In-Reply-To: <20190712070026.13088-1-ramalingam.c@intel.com>
References: <20190712070026.13088-1-ramalingam.c@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

ZHJtIGZ1bmN0aW9uIGlzIGRlZmluZWQgYW5kIGV4cG9ydGVkIHRvIHVwZGF0ZSBhIGNvbm5lY3Rv
cidzCmNvbnRlbnQgcHJvdGVjdGlvbiBwcm9wZXJ0eSBzdGF0ZSBhbmQgdG8gZ2VuZXJhdGUgYSB1
ZXZlbnQgYWxvbmcKd2l0aCBpdC4KCk5lZWQgQUNLIGZvciB0aGUgdWV2ZW50IGZyb20gdXNlcnNw
YWNlIGNvbnN1bWVyLgoKdjI6CiAgVXBkYXRlIG9ubHkgd2hlbiBzdGF0ZSBpcyBkaWZmZXJlbnQg
ZnJvbSBvbGQgb25lLgp2MzoKICBLRG9jIGlzIGFkZGVkIFtEYW5pZWxdCnY0OgogIEtEb2MgaXMg
ZXh0ZW5kZWQgYml0IG1vcmUgW3Bla2thXQp2NToKICBVZXZlbnQgdXNhZ2UgaXMgZG9jdW1lbnRl
ZCBhdCBrZG9jIG9mICJDb250ZW50IFByb3RlY3Rpb24iIGFsc28KICBbcGVra2FdCgpTaWduZWQt
b2ZmLWJ5OiBSYW1hbGluZ2FtIEMgPHJhbWFsaW5nYW0uY0BpbnRlbC5jb20+ClJldmlld2VkLWJ5
OiBEYW5pZWwgVmV0dGVyIDxkYW5pZWwudmV0dGVyQGZmd2xsLmNoPgotLS0KIGRyaXZlcnMvZ3B1
L2RybS9kcm1fY29ubmVjdG9yLmMgfCAxNyArKysrKysrKysrKysrLS0tLQogZHJpdmVycy9ncHUv
ZHJtL2RybV9oZGNwLmMgICAgICB8IDM0ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
KwogaW5jbHVkZS9kcm0vZHJtX2hkY3AuaCAgICAgICAgICB8ICAyICsrCiAzIGZpbGVzIGNoYW5n
ZWQsIDQ5IGluc2VydGlvbnMoKyksIDQgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2RybV9jb25uZWN0b3IuYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fY29ubmVjdG9y
LmMKaW5kZXggZmVmZDM2YTFjNGM5Li4xYThiMjU0ZmU1ZGUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9kcm1fY29ubmVjdG9yLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2RybV9jb25uZWN0
b3IuYwpAQCAtOTQ3LDEwICs5NDcsMTkgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fcHJvcF9l
bnVtX2xpc3QgaGRtaV9jb2xvcnNwYWNlc1tdID0gewogICoJLSBJZiB0aGUgc3RhdGUgaXMgREVT
SVJFRCwga2VybmVsIHNob3VsZCBhdHRlbXB0IHRvIHJlLWF1dGhlbnRpY2F0ZSB0aGUKICAqCSAg
bGluayB3aGVuZXZlciBwb3NzaWJsZS4gVGhpcyBpbmNsdWRlcyBhY3Jvc3MgZGlzYWJsZS9lbmFi
bGUsIGRwbXMsCiAgKgkgIGhvdHBsdWcsIGRvd25zdHJlYW0gZGV2aWNlIGNoYW5nZXMsIGxpbmsg
c3RhdHVzIGZhaWx1cmVzLCBldGMuLgotICoJLSBVc2Vyc3BhY2UgaXMgcmVzcG9uc2libGUgZm9y
IHBvbGxpbmcgdGhlIHByb3BlcnR5IHRvIGRldGVybWluZSB3aGVuCi0gKgkgIHRoZSB2YWx1ZSB0
cmFuc2l0aW9ucyBmcm9tIEVOQUJMRUQgdG8gREVTSVJFRC4gVGhpcyBzaWduaWZpZXMgdGhlIGxp
bmsKLSAqCSAgaXMgbm8gbG9uZ2VyIHByb3RlY3RlZCBhbmQgdXNlcnNwYWNlIHNob3VsZCB0YWtl
IGFwcHJvcHJpYXRlIGFjdGlvbgotICoJICAod2hhdGV2ZXIgdGhhdCBtaWdodCBiZSkuCisgKgkt
IEtlcm5lbCBzZW5kcyB1ZXZlbnQgd2l0aCB0aGUgY29ubmVjdG9yIGlkIGFuZCBwcm9wZXJ0eSBp
ZCB0aHJvdWdoCisgKgkgIEBkcm1faGRjcF91cGRhdGVfY29udGVudF9wcm90ZWN0aW9uLCB1cG9u
IGJlbG93IGtlcm5lbCB0cmlnZ2VyZWQKKyAqCSAgc2NlbmFyaW9zOgorICoJCURFU0lSRUQgLT4g
RU5BQkxFRAkoYXV0aGVudGljYXRpb24gc3VjY2VzcykKKyAqCQlFTkFCTEVEIC0+IERFU0lSRUQJ
KHRlcm1pbmF0aW9uIG9mIGF1dGhlbnRpY2F0aW9uKQorICoJLSBQbGVhc2Ugbm90ZSBubyB1ZXZl
bnRzIGZvciB1c2Vyc3BhY2UgdHJpZ2dlcmVkIHByb3BlcnR5IHN0YXRlIGNoYW5nZXMsCisgKgkg
IHdoaWNoIGNhbid0IGZhaWwgc3VjaCBhcworICoJCURFU0lSRUQvRU5BQkxFRCAtPiBVTkRFU0lS
RUQKKyAqCQlVTkRFU0lSRUQgLT4gREVTSVJFRAorICoJLSBVc2Vyc3BhY2UgaXMgcmVzcG9uc2li
bGUgZm9yIHBvbGxpbmcgdGhlIHByb3BlcnR5IG9yIGxpc3RlbiB0byB1ZXZlbnRzCisgKgkgIHRv
IGRldGVybWluZSB3aGVuIHRoZSB2YWx1ZSB0cmFuc2l0aW9ucyBmcm9tIEVOQUJMRUQgdG8gREVT
SVJFRC4KKyAqCSAgVGhpcyBzaWduaWZpZXMgdGhlIGxpbmsgaXMgbm8gbG9uZ2VyIHByb3RlY3Rl
ZCBhbmQgdXNlcnNwYWNlIHNob3VsZAorICoJICB0YWtlIGFwcHJvcHJpYXRlIGFjdGlvbiAod2hh
dGV2ZXIgdGhhdCBtaWdodCBiZSkuCiAgKgogICogSERDUCBDb250ZW50IFR5cGU6CiAgKglUaGlz
IEVudW0gcHJvcGVydHkgaXMgdXNlZCBieSB0aGUgdXNlcnNwYWNlIHRvIGRlY2xhcmUgdGhlIGNv
bnRlbnQgdHlwZQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2RybV9oZGNwLmMgYi9kcml2
ZXJzL2dwdS9kcm0vZHJtX2hkY3AuYwppbmRleCBjZTIzNWZkMWM4NDQuLjc3NDMzZWUzZDY1MiAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2RybV9oZGNwLmMKKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2RybV9oZGNwLmMKQEAgLTM3NCw2ICszNzQsMTAgQEAgRFJNX0VOVU1fTkFNRV9GTihkcm1f
Z2V0X2hkY3BfY29udGVudF90eXBlX25hbWUsCiAgKgogICogVGhlIGNvbnRlbnQgcHJvdGVjdGlv
biB3aWxsIGJlIHNldCB0byAmZHJtX2Nvbm5lY3Rvcl9zdGF0ZS5jb250ZW50X3Byb3RlY3Rpb24K
ICAqCisgKiBXaGVuIGtlcm5lbCB0cmlnZ2VyZWQgY29udGVudCBwcm90ZWN0aW9uIHN0YXRlIGNo
YW5nZSBsaWtlIERFU0lSRUQtPkVOQUJMRUQKKyAqIGFuZCBFTkFCTEVELT5ERVNJUkVELCB3aWxs
IHVzZSBkcm1faGRjcF91cGRhdGVfY29udGVudF9wcm90ZWN0aW9uKCkgdG8gdXBkYXRlCisgKiB0
aGUgY29udGVudCBwcm90ZWN0aW9uIHN0YXRlIG9mIGEgY29ubmVjdG9yLgorICoKICAqIFJldHVy
bnM6CiAgKiBaZXJvIG9uIHN1Y2Nlc3MsIG5lZ2F0aXZlIGVycm5vIG9uIGZhaWx1cmUuCiAgKi8K
QEAgLTQxNCwzICs0MTgsMzMgQEAgaW50IGRybV9jb25uZWN0b3JfYXR0YWNoX2NvbnRlbnRfcHJv
dGVjdGlvbl9wcm9wZXJ0eSgKIAlyZXR1cm4gMDsKIH0KIEVYUE9SVF9TWU1CT0woZHJtX2Nvbm5l
Y3Rvcl9hdHRhY2hfY29udGVudF9wcm90ZWN0aW9uX3Byb3BlcnR5KTsKKworLyoqCisgKiBkcm1f
aGRjcF91cGRhdGVfY29udGVudF9wcm90ZWN0aW9uIC0gVXBkYXRlcyB0aGUgY29udGVudCBwcm90
ZWN0aW9uIHN0YXRlCisgKiBvZiBhIGNvbm5lY3RvcgorICoKKyAqIEBjb25uZWN0b3I6IGRybV9j
b25uZWN0b3Igb24gd2hpY2ggY29udGVudCBwcm90ZWN0aW9uIHN0YXRlIG5lZWRzIGFuIHVwZGF0
ZQorICogQHZhbDogTmV3IHN0YXRlIG9mIHRoZSBjb250ZW50IHByb3RlY3Rpb24gcHJvcGVydHkK
KyAqCisgKiBUaGlzIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIGJ5IGRpc3BsYXkgZHJpdmVycywgdG8g
dXBkYXRlIHRoZSBrZXJuZWwgdHJpZ2dlcmVkCisgKiBjb250ZW50IHByb3RlY3Rpb24gc3RhdGUg
Y2hhbmdlcyBvZiBhIGRybV9jb25uZWN0b3Igc3VjaCBhcyBERVNJUkVELT5FTkFCTEVECisgKiBh
bmQgRU5BQkxFRC0+REVTSVJFRC4gTm8gdWV2ZW50IGZvciBERVNJUkVELT5VTkRFU0lSRUQgb3Ig
RU5BQkxFRC0+VU5ERVNJUkVELAorICogYXMgdXNlcnNwYWNlIGlzIHRyaWdnZXJpbmcgc3VjaCBz
dGF0ZSBjaGFuZ2UgYW5kIGtlcm5lbCBwZXJmb3JtcyBpdCB3aXRob3V0CisgKiBmYWlsLlRoaXMg
ZnVuY3Rpb24gdXBkYXRlIHRoZSBuZXcgc3RhdGUgb2YgdGhlIHByb3BlcnR5IGludG8gdGhlIGNv
bm5lY3RvcidzCisgKiBzdGF0ZSBhbmQgZ2VuZXJhdGUgYW4gdWV2ZW50IHRvIG5vdGlmeSB0aGUg
dXNlcnNwYWNlLgorICovCit2b2lkIGRybV9oZGNwX3VwZGF0ZV9jb250ZW50X3Byb3RlY3Rpb24o
c3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciwKKwkJCQkJdTY0IHZhbCkKK3sKKwlzdHJ1
Y3QgZHJtX2RldmljZSAqZGV2ID0gY29ubmVjdG9yLT5kZXY7CisJc3RydWN0IGRybV9jb25uZWN0
b3Jfc3RhdGUgKnN0YXRlID0gY29ubmVjdG9yLT5zdGF0ZTsKKworCVdBUk5fT04oIWRybV9tb2Rl
c2V0X2lzX2xvY2tlZCgmZGV2LT5tb2RlX2NvbmZpZy5jb25uZWN0aW9uX211dGV4KSk7CisJaWYg
KHN0YXRlLT5jb250ZW50X3Byb3RlY3Rpb24gPT0gdmFsKQorCQlyZXR1cm47CisKKwlzdGF0ZS0+
Y29udGVudF9wcm90ZWN0aW9uID0gdmFsOworCWRybV9zeXNmc19jb25uZWN0b3Jfc3RhdHVzX2V2
ZW50KGNvbm5lY3RvciwKKwkJCQkgZGV2LT5tb2RlX2NvbmZpZy5jb250ZW50X3Byb3RlY3Rpb25f
cHJvcGVydHkpOworfQorRVhQT1JUX1NZTUJPTChkcm1faGRjcF91cGRhdGVfY29udGVudF9wcm90
ZWN0aW9uKTsKZGlmZiAtLWdpdCBhL2luY2x1ZGUvZHJtL2RybV9oZGNwLmggYi9pbmNsdWRlL2Ry
bS9kcm1faGRjcC5oCmluZGV4IDI5NzBhYmRmYWYxMi4uZGQ4NjRhYzljZTg1IDEwMDY0NAotLS0g
YS9pbmNsdWRlL2RybS9kcm1faGRjcC5oCisrKyBiL2luY2x1ZGUvZHJtL2RybV9oZGNwLmgKQEAg
LTI5Miw0ICsyOTIsNiBAQCBib29sIGRybV9oZGNwX2NoZWNrX2tzdnNfcmV2b2tlZChzdHJ1Y3Qg
ZHJtX2RldmljZSAqZGV2LAogCQkJCSB1OCAqa3N2cywgdTMyIGtzdl9jb3VudCk7CiBpbnQgZHJt
X2Nvbm5lY3Rvcl9hdHRhY2hfY29udGVudF9wcm90ZWN0aW9uX3Byb3BlcnR5KAogCQlzdHJ1Y3Qg
ZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yLCBib29sIGhkY3BfY29udGVudF90eXBlKTsKK3ZvaWQg
ZHJtX2hkY3BfdXBkYXRlX2NvbnRlbnRfcHJvdGVjdGlvbihzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAq
Y29ubmVjdG9yLAorCQkJCQl1NjQgdmFsKTsKICNlbmRpZgotLSAKMi4xOS4xCgpfX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBs
aXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVz
a3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
