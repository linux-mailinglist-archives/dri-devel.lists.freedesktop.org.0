Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id D397456420
	for <lists+dri-devel@lfdr.de>; Wed, 26 Jun 2019 10:13:04 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E88C96E2E9;
	Wed, 26 Jun 2019 08:12:18 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from lb1-smtp-cloud9.xs4all.net (lb1-smtp-cloud9.xs4all.net
 [194.109.24.22])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 64E516E132
 for <dri-devel@lists.freedesktop.org>; Tue, 25 Jun 2019 14:45:16 +0000 (UTC)
Received: from cobaltpc1.rd.cisco.com
 ([IPv6:2001:420:44c1:2579:b032:593c:25fc:ff9b])
 by smtp-cloud9.xs4all.net with ESMTPA
 id fmh4hQwJSSfvXfmh8hHoyu; Tue, 25 Jun 2019 16:45:15 +0200
From: Hans Verkuil <hverkuil-cisco@xs4all.nl>
To: linux-media@vger.kernel.org
Subject: [PATCHv9 02/13] cec: add struct cec_connector_info support
Date: Tue, 25 Jun 2019 16:44:59 +0200
Message-Id: <20190625144510.122214-3-hverkuil-cisco@xs4all.nl>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190625144510.122214-1-hverkuil-cisco@xs4all.nl>
References: <20190625144510.122214-1-hverkuil-cisco@xs4all.nl>
MIME-Version: 1.0
X-CMAE-Envelope: MS4wfP1HhDxx2e9wZi4i8ZcXqQoOcGzGa4fKsVYmXt9nU2Qj4AfFWNVk981GzYRX2gTsiwoddBMxxk9pAfFLdRuwSfgw3OyGvtsf7R4z2nAEEOyGswU0fivE
 zpDhTah8gmvrYb0YMjoatUiNjw8ZeD0NX379atdhV7WvGob3Ew6MQjgSwOl/3sNJiSEjdbOjUPr+3726GIRsagXsQ0q1H5KiU61mYu+oX0tfGWwicj4v8W2u
 243st8beky4IVsDjWavuHOalUhsiprIqQETnT8hTXMS8DrVnlg3pG/5oDak7UwLY7UHLmQgLDkJySgJKlnvoVlFd3yR1yGwh3t8504AMXgQC2cfVN334lDN0
 qXWYSSsRGr4Qi5RkGtg3G6TBfBoqlvlOZ1KCRfGRQMkDqaI2GuWUb6xCGUOMi+ON/h6FVZyW
X-Mailman-Approved-At: Wed, 26 Jun 2019 08:12:13 +0000
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Hans Verkuil <hverkuil-cisco@xs4all.nl>,
 Dariusz Marcinkiewicz <darekm@google.com>, dri-devel@lists.freedesktop.org,
 Cheng-yi Chiang <cychiang@chromium.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogRGFyaXVzeiBNYXJjaW5raWV3aWN6IDxkYXJla21AZ29vZ2xlLmNvbT4KCkRlZmluZSBz
dHJ1Y3QgY2VjX2Nvbm5lY3Rvcl9pbmZvIGluIG1lZGlhL2NlYy5oIGFuZCBkZWZpbmUKQ0VDX0NB
UF9DT05ORUNUT1JfSU5GTy4gSW4gYSBsYXRlciBwYXRjaCB0aGlzIHdpbGwgYmUgbW92ZWQgdG8K
dWFwaS9saW51eC9jZWMuaC4KCkR1ZSB0byB0aGVzZSBjaGFuZ2VzIHRoZSBzZWNvLWNlYyBkcml2
ZXIgd2FzIGNoYW5nZWQgYXMgd2VsbDogaXQKc2hvdWxkIGluY2x1ZGUgY2VjLW5vdGlmaWVyLmgs
IG5vdCBjZWMuaC4KClRoZSBDRUNfQ0FQX0NPTk5FQ1RPUl9JTkZPIGNhcGFiaWxpdHkgY2FuIGJl
IHNldCBieSBkcml2ZXJzLCBidXQKY2VjX2FsbG9jYXRlX2FkYXB0ZXIoKSB3aWxsIHJlbW92ZSBp
dCBhZ2FpbiB1bnRpbCB0aGUgcHVibGljIEFQSQpmb3IgdGhpcyBjYW4gYmUgZW5hYmxlZCBvbmNl
IGFsbCBkcm0gZHJpdmVycyB3aXJlIHRoaXMgdXAgY29ycmVjdGx5LgoKQWxzbyBhZGQgdGhlIGNl
Y19maWxsX2Nvbm5faW5mb19mcm9tX2RybSBhbmQgY2VjX3NfY29ubl9pbmZvIGZ1bmN0aW9ucywK
d2hpY2ggYXJlIG5lZWRlZCBieSBkcm0gZHJpdmVycyB0byBmaWxsIGluIHRoZSBjZWNfY29ubmVj
dG9yIGluZm8KYmFzZWQgb24gYSBkcm1fY29ubmVjdG9yLgoKU2lnbmVkLW9mZi1ieTogRGFyaXVz
eiBNYXJjaW5raWV3aWN6IDxkYXJla21AZ29vZ2xlLmNvbT4KQ28tZGV2ZWxvcGVkLWJ5OiBIYW5z
IFZlcmt1aWwgPGh2ZXJrdWlsLWNpc2NvQHhzNGFsbC5ubD4KU2lnbmVkLW9mZi1ieTogSGFucyBW
ZXJrdWlsIDxodmVya3VpbC1jaXNjb0B4czRhbGwubmw+Ci0tLQogZHJpdmVycy9tZWRpYS9jZWMv
Y2VjLWFkYXAuYyAgICAgICAgICAgICAgIHwgMjkgKysrKysrKwogZHJpdmVycy9tZWRpYS9jZWMv
Y2VjLWNvcmUuYyAgICAgICAgICAgICAgIHwgIDUgKysKIGRyaXZlcnMvbWVkaWEvcGxhdGZvcm0v
c2Vjby1jZWMvc2Vjby1jZWMuYyB8ICAyICstCiBpbmNsdWRlL21lZGlhL2NlYy1ub3RpZmllci5o
ICAgICAgICAgICAgICAgfCAzOSAtLS0tLS0tLS0KIGluY2x1ZGUvbWVkaWEvY2VjLmggICAgICAg
ICAgICAgICAgICAgICAgICB8IDk4ICsrKysrKysrKysrKysrKysrKysrKy0KIDUgZmlsZXMgY2hh
bmdlZCwgMTMyIGluc2VydGlvbnMoKyksIDQxIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvbWVkaWEvY2VjL2NlYy1hZGFwLmMgYi9kcml2ZXJzL21lZGlhL2NlYy9jZWMtYWRhcC5j
CmluZGV4IGFjMzY4M2E3YjJhYi4uNDUxYzYxYmRlNGQ0IDEwMDY0NAotLS0gYS9kcml2ZXJzL21l
ZGlhL2NlYy9jZWMtYWRhcC5jCisrKyBiL2RyaXZlcnMvbWVkaWEvY2VjL2NlYy1hZGFwLmMKQEAg
LTE2LDcgKzE2LDEwIEBACiAjaW5jbHVkZSA8bGludXgvc3RyaW5nLmg+CiAjaW5jbHVkZSA8bGlu
dXgvdHlwZXMuaD4KIAorI2luY2x1ZGUgPGRybS9kcm1fY29ubmVjdG9yLmg+CisjaW5jbHVkZSA8
ZHJtL2RybV9kZXZpY2UuaD4KICNpbmNsdWRlIDxkcm0vZHJtX2VkaWQuaD4KKyNpbmNsdWRlIDxk
cm0vZHJtX2ZpbGUuaD4KIAogI2luY2x1ZGUgImNlYy1wcml2LmgiCiAKQEAgLTc1LDYgKzc4LDE2
IEBAIHUxNiBjZWNfZ2V0X2VkaWRfcGh5c19hZGRyKGNvbnN0IHU4ICplZGlkLCB1bnNpZ25lZCBp
bnQgc2l6ZSwKIH0KIEVYUE9SVF9TWU1CT0xfR1BMKGNlY19nZXRfZWRpZF9waHlzX2FkZHIpOwog
Cit2b2lkIGNlY19maWxsX2Nvbm5faW5mb19mcm9tX2RybShzdHJ1Y3QgY2VjX2Nvbm5lY3Rvcl9p
bmZvICpjb25uX2luZm8sCisJCQkJIGNvbnN0IHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0
b3IpCit7CisJbWVtc2V0KGNvbm5faW5mbywgMCwgc2l6ZW9mKCpjb25uX2luZm8pKTsKKwljb25u
X2luZm8tPnR5cGUgPSBDRUNfQ09OTkVDVE9SX1RZUEVfRFJNOworCWNvbm5faW5mby0+ZHJtLmNh
cmRfbm8gPSBjb25uZWN0b3ItPmRldi0+cHJpbWFyeS0+aW5kZXg7CisJY29ubl9pbmZvLT5kcm0u
Y29ubmVjdG9yX2lkID0gY29ubmVjdG9yLT5iYXNlLmlkOworfQorRVhQT1JUX1NZTUJPTF9HUEwo
Y2VjX2ZpbGxfY29ubl9pbmZvX2Zyb21fZHJtKTsKKwogLyoKICAqIFF1ZXVlIGEgbmV3IGV2ZW50
IGZvciB0aGlzIGZpbGVoYW5kbGUuIElmIHRzID09IDAsIHRoZW4gc2V0IGl0CiAgKiB0byB0aGUg
Y3VycmVudCB0aW1lLgpAQCAtMTU5OCw2ICsxNjExLDIyIEBAIHZvaWQgY2VjX3NfcGh5c19hZGRy
X2Zyb21fZWRpZChzdHJ1Y3QgY2VjX2FkYXB0ZXIgKmFkYXAsCiB9CiBFWFBPUlRfU1lNQk9MX0dQ
TChjZWNfc19waHlzX2FkZHJfZnJvbV9lZGlkKTsKIAordm9pZCBjZWNfc19jb25uX2luZm8oc3Ry
dWN0IGNlY19hZGFwdGVyICphZGFwLAorCQkgICAgIGNvbnN0IHN0cnVjdCBjZWNfY29ubmVjdG9y
X2luZm8gKmNvbm5faW5mbykKK3sKKwlpZiAoIShhZGFwLT5jYXBhYmlsaXRpZXMgJiBDRUNfQ0FQ
X0NPTk5FQ1RPUl9JTkZPKSkKKwkJcmV0dXJuOworCisJbXV0ZXhfbG9jaygmYWRhcC0+bG9jayk7
CisJaWYgKGNvbm5faW5mbykKKwkJYWRhcC0+Y29ubl9pbmZvID0gKmNvbm5faW5mbzsKKwllbHNl
CisJCW1lbXNldCgmYWRhcC0+Y29ubl9pbmZvLCAwLCBzaXplb2YoYWRhcC0+Y29ubl9pbmZvKSk7
CisJY2VjX3Bvc3Rfc3RhdGVfZXZlbnQoYWRhcCk7CisJbXV0ZXhfdW5sb2NrKCZhZGFwLT5sb2Nr
KTsKK30KK0VYUE9SVF9TWU1CT0xfR1BMKGNlY19zX2Nvbm5faW5mbyk7CisKIC8qCiAgKiBDYWxs
ZWQgZnJvbSBlaXRoZXIgdGhlIGlvY3RsIG9yIGEgZHJpdmVyIHRvIHNldCB0aGUgbG9naWNhbCBh
ZGRyZXNzZXMuCiAgKgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9tZWRpYS9jZWMvY2VjLWNvcmUuYyBi
L2RyaXZlcnMvbWVkaWEvY2VjL2NlYy1jb3JlLmMKaW5kZXggZGI3YWRmZmNkYzc2Li45YzYxMGUx
ZTk5YjggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvbWVkaWEvY2VjL2NlYy1jb3JlLmMKKysrIGIvZHJp
dmVycy9tZWRpYS9jZWMvY2VjLWNvcmUuYwpAQCAtMjU3LDYgKzI1NywxMSBAQCBzdHJ1Y3QgY2Vj
X2FkYXB0ZXIgKmNlY19hbGxvY2F0ZV9hZGFwdGVyKGNvbnN0IHN0cnVjdCBjZWNfYWRhcF9vcHMg
Km9wcywKIAlzdHJ1Y3QgY2VjX2FkYXB0ZXIgKmFkYXA7CiAJaW50IHJlczsKIAorCS8qCisJICog
RGlzYWJsZSB0aGlzIGNhcGFiaWxpdHkgdW50aWwgdGhlIGNvbm5lY3RvciBpbmZvIHB1YmxpYyBB
UEkKKwkgKiBpcyByZWFkeS4KKwkgKi8KKwljYXBzICY9IH5DRUNfQ0FQX0NPTk5FQ1RPUl9JTkZP
OwogI2lmbmRlZiBDT05GSUdfTUVESUFfQ0VDX1JDCiAJY2FwcyAmPSB+Q0VDX0NBUF9SQzsKICNl
bmRpZgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9tZWRpYS9wbGF0Zm9ybS9zZWNvLWNlYy9zZWNvLWNl
Yy5jIGIvZHJpdmVycy9tZWRpYS9wbGF0Zm9ybS9zZWNvLWNlYy9zZWNvLWNlYy5jCmluZGV4IGU1
MDgwZDZmNWIyZC4uMWQwMTMzZjAxZTAwIDEwMDY0NAotLS0gYS9kcml2ZXJzL21lZGlhL3BsYXRm
b3JtL3NlY28tY2VjL3NlY28tY2VjLmMKKysrIGIvZHJpdmVycy9tZWRpYS9wbGF0Zm9ybS9zZWNv
LWNlYy9zZWNvLWNlYy5jCkBAIC0xOCw3ICsxOCw3IEBACiAjaW5jbHVkZSA8bGludXgvcGxhdGZv
cm1fZGV2aWNlLmg+CiAKIC8qIENFQyBGcmFtZXdvcmsgKi8KLSNpbmNsdWRlIDxtZWRpYS9jZWMu
aD4KKyNpbmNsdWRlIDxtZWRpYS9jZWMtbm90aWZpZXIuaD4KIAogI2luY2x1ZGUgInNlY28tY2Vj
LmgiCiAKZGlmZiAtLWdpdCBhL2luY2x1ZGUvbWVkaWEvY2VjLW5vdGlmaWVyLmggYi9pbmNsdWRl
L21lZGlhL2NlYy1ub3RpZmllci5oCmluZGV4IDU3YjNhOWY2ZWExZC4uMGUzYmQzNDE1NzI0IDEw
MDY0NAotLS0gYS9pbmNsdWRlL21lZGlhL2NlYy1ub3RpZmllci5oCisrKyBiL2luY2x1ZGUvbWVk
aWEvY2VjLW5vdGlmaWVyLmgKQEAgLTYzLDMwICs2Myw2IEBAIHZvaWQgY2VjX25vdGlmaWVyX3Nl
dF9waHlzX2FkZHIoc3RydWN0IGNlY19ub3RpZmllciAqbiwgdTE2IHBhKTsKIHZvaWQgY2VjX25v
dGlmaWVyX3NldF9waHlzX2FkZHJfZnJvbV9lZGlkKHN0cnVjdCBjZWNfbm90aWZpZXIgKm4sCiAJ
CQkJCSAgY29uc3Qgc3RydWN0IGVkaWQgKmVkaWQpOwogCi0vKioKLSAqIGNlY19ub3RpZmllcl9y
ZWdpc3RlciAtIHJlZ2lzdGVyIGEgY2FsbGJhY2sgd2l0aCB0aGUgbm90aWZpZXIKLSAqIEBuOiB0
aGUgQ0VDIG5vdGlmaWVyCi0gKiBAYWRhcDogdGhlIENFQyBhZGFwdGVyLCBwYXNzZWQgYXMgYXJn
dW1lbnQgdG8gdGhlIGNhbGxiYWNrIGZ1bmN0aW9uCi0gKiBAY2FsbGJhY2s6IHRoZSBjYWxsYmFj
ayBmdW5jdGlvbgotICovCi12b2lkIGNlY19ub3RpZmllcl9yZWdpc3RlcihzdHJ1Y3QgY2VjX25v
dGlmaWVyICpuLAotCQkJICAgc3RydWN0IGNlY19hZGFwdGVyICphZGFwLAotCQkJICAgdm9pZCAo
KmNhbGxiYWNrKShzdHJ1Y3QgY2VjX2FkYXB0ZXIgKmFkYXAsIHUxNiBwYSkpOwotCi0vKioKLSAq
IGNlY19ub3RpZmllcl91bnJlZ2lzdGVyIC0gdW5yZWdpc3RlciB0aGUgY2FsbGJhY2sgZnJvbSB0
aGUgbm90aWZpZXIuCi0gKiBAbjogdGhlIENFQyBub3RpZmllcgotICovCi12b2lkIGNlY19ub3Rp
Zmllcl91bnJlZ2lzdGVyKHN0cnVjdCBjZWNfbm90aWZpZXIgKm4pOwotCi0vKioKLSAqIGNlY19y
ZWdpc3Rlcl9jZWNfbm90aWZpZXIgLSByZWdpc3RlciB0aGUgbm90aWZpZXIgd2l0aCB0aGUgY2Vj
IGFkYXB0ZXIuCi0gKiBAYWRhcDogdGhlIENFQyBhZGFwdGVyCi0gKiBAbm90aWZpZXI6IHRoZSBD
RUMgbm90aWZpZXIKLSAqLwotdm9pZCBjZWNfcmVnaXN0ZXJfY2VjX25vdGlmaWVyKHN0cnVjdCBj
ZWNfYWRhcHRlciAqYWRhcCwKLQkJCSAgICAgICBzdHJ1Y3QgY2VjX25vdGlmaWVyICpub3RpZmll
cik7Ci0KIC8qKgogICogY2VjX25vdGlmaWVyX3BhcnNlX2hkbWlfcGhhbmRsZSAtIGZpbmQgdGhl
IGhkbWkgZGV2aWNlIGZyb20gImhkbWktcGhhbmRsZSIKICAqIEBkZXY6IHRoZSBkZXZpY2Ugd2l0
aCB0aGUgImhkbWktcGhhbmRsZSIgZGV2aWNlIHRyZWUgcHJvcGVydHkKQEAgLTExOSwyMSArOTUs
NiBAQCBzdGF0aWMgaW5saW5lIHZvaWQgY2VjX25vdGlmaWVyX3NldF9waHlzX2FkZHJfZnJvbV9l
ZGlkKHN0cnVjdCBjZWNfbm90aWZpZXIgKm4sCiB7CiB9CiAKLXN0YXRpYyBpbmxpbmUgdm9pZCBj
ZWNfbm90aWZpZXJfcmVnaXN0ZXIoc3RydWN0IGNlY19ub3RpZmllciAqbiwKLQkJCSBzdHJ1Y3Qg
Y2VjX2FkYXB0ZXIgKmFkYXAsCi0JCQkgdm9pZCAoKmNhbGxiYWNrKShzdHJ1Y3QgY2VjX2FkYXB0
ZXIgKmFkYXAsIHUxNiBwYSkpCi17Ci19Ci0KLXN0YXRpYyBpbmxpbmUgdm9pZCBjZWNfbm90aWZp
ZXJfdW5yZWdpc3RlcihzdHJ1Y3QgY2VjX25vdGlmaWVyICpuKQotewotfQotCi1zdGF0aWMgaW5s
aW5lIHZvaWQgY2VjX3JlZ2lzdGVyX2NlY19ub3RpZmllcihzdHJ1Y3QgY2VjX2FkYXB0ZXIgKmFk
YXAsCi0JCQkJCSAgICAgc3RydWN0IGNlY19ub3RpZmllciAqbm90aWZpZXIpCi17Ci19Ci0KIHN0
YXRpYyBpbmxpbmUgc3RydWN0IGRldmljZSAqY2VjX25vdGlmaWVyX3BhcnNlX2hkbWlfcGhhbmRs
ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiB7CiAJcmV0dXJuIEVSUl9QVFIoLUVOT0RFVik7CmRpZmYg
LS1naXQgYS9pbmNsdWRlL21lZGlhL2NlYy5oIGIvaW5jbHVkZS9tZWRpYS9jZWMuaAppbmRleCA3
MDc0MTFlZjhiYTIuLjRkNTkzODdiYzYxYiAxMDA2NDQKLS0tIGEvaW5jbHVkZS9tZWRpYS9jZWMu
aAorKysgYi9pbmNsdWRlL21lZGlhL2NlYy5oCkBAIC0xNyw3ICsxNyw5IEBACiAjaW5jbHVkZSA8
bGludXgvdGltZXIuaD4KICNpbmNsdWRlIDxsaW51eC9jZWMtZnVuY3MuaD4KICNpbmNsdWRlIDxt
ZWRpYS9yYy1jb3JlLmg+Ci0jaW5jbHVkZSA8bWVkaWEvY2VjLW5vdGlmaWVyLmg+CisKKy8qIENF
Q19BREFQX0dfQ09OTkVDVE9SX0lORk8gaXMgYXZhaWxhYmxlICovCisjZGVmaW5lIENFQ19DQVBf
Q09OTkVDVE9SX0lORk8JKDEgPDwgOCkKIAogI2RlZmluZSBDRUNfQ0FQX0RFRkFVTFRTIChDRUNf
Q0FQX0xPR19BRERSUyB8IENFQ19DQVBfVFJBTlNNSVQgfCBcCiAJCQkgIENFQ19DQVBfUEFTU1RI
Uk9VR0ggfCBDRUNfQ0FQX1JDKQpAQCAtNTMsNiArNTUsNyBAQCBzdHJ1Y3QgY2VjX2Rldm5vZGUg
ewogc3RydWN0IGNlY19hZGFwdGVyOwogc3RydWN0IGNlY19kYXRhOwogc3RydWN0IGNlY19waW47
CitzdHJ1Y3QgY2VjX25vdGlmaWVyOwogCiBzdHJ1Y3QgY2VjX2RhdGEgewogCXN0cnVjdCBsaXN0
X2hlYWQgbGlzdDsKQEAgLTE0NCw2ICsxNDcsMzQgQEAgc3RydWN0IGNlY19hZGFwX29wcyB7CiAg
Ki8KICNkZWZpbmUgQ0VDX01BWF9NU0dfVFhfUVVFVUVfU1oJCSgxOCAqIDEpCiAKKy8qKgorICog
c3RydWN0IGNlY19kcm1fY29ubmVjdG9yX2luZm8gLSB0ZWxscyB3aGljaCBkcm0gY29ubmVjdG9y
IGlzCisgKiBhc3NvY2lhdGVkIHdpdGggdGhlIENFQyBhZGFwdGVyLgorICogQGNhcmRfbm86IGRy
bSBjYXJkIG51bWJlcgorICogQGNvbm5lY3Rvcl9pZDogZHJtIGNvbm5lY3RvciBJRAorICovCitz
dHJ1Y3QgY2VjX2RybV9jb25uZWN0b3JfaW5mbyB7CisJX191MzIgY2FyZF9ubzsKKwlfX3UzMiBj
b25uZWN0b3JfaWQ7Cit9OworCisjZGVmaW5lIENFQ19DT05ORUNUT1JfVFlQRV9OT19DT05ORUNU
T1IJMAorI2RlZmluZSBDRUNfQ09OTkVDVE9SX1RZUEVfRFJNCQkxCisKKy8qKgorICogc3RydWN0
IGNlY19jb25uZWN0b3JfaW5mbyAtIHRlbGxzIGlmIGFuZCB3aGljaCBjb25uZWN0b3IgaXMKKyAq
IGFzc29jaWF0ZWQgd2l0aCB0aGUgQ0VDIGFkYXB0ZXIuCisgKiBAdHlwZTogY29ubmVjdG9yIHR5
cGUgKGlmIGFueSkKKyAqIEBkcm06IGRybSBjb25uZWN0b3IgaW5mbworICovCitzdHJ1Y3QgY2Vj
X2Nvbm5lY3Rvcl9pbmZvIHsKKwlfX3UzMiB0eXBlOworCXVuaW9uIHsKKwkJc3RydWN0IGNlY19k
cm1fY29ubmVjdG9yX2luZm8gZHJtOworCQlfX3UzMiByYXdbMTZdOworCX07Cit9OworCiBzdHJ1
Y3QgY2VjX2FkYXB0ZXIgewogCXN0cnVjdCBtb2R1bGUgKm93bmVyOwogCWNoYXIgbmFtZVszMl07
CkBAIC0xODIsNiArMjEzLDcgQEAgc3RydWN0IGNlY19hZGFwdGVyIHsKIAlzdHJ1Y3QgY2VjX2Zo
ICpjZWNfaW5pdGlhdG9yOwogCWJvb2wgcGFzc3Rocm91Z2g7CiAJc3RydWN0IGNlY19sb2dfYWRk
cnMgbG9nX2FkZHJzOworCXN0cnVjdCBjZWNfY29ubmVjdG9yX2luZm8gY29ubl9pbmZvOwogCiAJ
dTMyIHR4X3RpbWVvdXRzOwogCkBAIC0yMzMsNiArMjY1LDcgQEAgc3RhdGljIGlubGluZSBib29s
IGNlY19pc19yZWdpc3RlcmVkKGNvbnN0IHN0cnVjdCBjZWNfYWRhcHRlciAqYWRhcCkKIAkoKHBh
KSA+PiAxMiksICgocGEpID4+IDgpICYgMHhmLCAoKHBhKSA+PiA0KSAmIDB4ZiwgKHBhKSAmIDB4
ZgogCiBzdHJ1Y3QgZWRpZDsKK3N0cnVjdCBkcm1fY29ubmVjdG9yOwogCiAjaWYgSVNfUkVBQ0hB
QkxFKENPTkZJR19DRUNfQ09SRSkKIHN0cnVjdCBjZWNfYWRhcHRlciAqY2VjX2FsbG9jYXRlX2Fk
YXB0ZXIoY29uc3Qgc3RydWN0IGNlY19hZGFwX29wcyAqb3BzLApAQCAtMjQ3LDYgKzI4MCw4IEBA
IHZvaWQgY2VjX3NfcGh5c19hZGRyKHN0cnVjdCBjZWNfYWRhcHRlciAqYWRhcCwgdTE2IHBoeXNf
YWRkciwKIAkJICAgICBib29sIGJsb2NrKTsKIHZvaWQgY2VjX3NfcGh5c19hZGRyX2Zyb21fZWRp
ZChzdHJ1Y3QgY2VjX2FkYXB0ZXIgKmFkYXAsCiAJCQkgICAgICAgY29uc3Qgc3RydWN0IGVkaWQg
KmVkaWQpOwordm9pZCBjZWNfc19jb25uX2luZm8oc3RydWN0IGNlY19hZGFwdGVyICphZGFwLAor
CQkgICAgIGNvbnN0IHN0cnVjdCBjZWNfY29ubmVjdG9yX2luZm8gKmNvbm5faW5mbyk7CiBpbnQg
Y2VjX3RyYW5zbWl0X21zZyhzdHJ1Y3QgY2VjX2FkYXB0ZXIgKmFkYXAsIHN0cnVjdCBjZWNfbXNn
ICptc2csCiAJCSAgICAgYm9vbCBibG9jayk7CiAKQEAgLTMzMSw2ICszNjYsOSBAQCB2b2lkIGNl
Y19xdWV1ZV9waW5fNXZfZXZlbnQoc3RydWN0IGNlY19hZGFwdGVyICphZGFwLCBib29sIGlzX2hp
Z2gsIGt0aW1lX3QgdHMpOwogdTE2IGNlY19nZXRfZWRpZF9waHlzX2FkZHIoY29uc3QgdTggKmVk
aWQsIHVuc2lnbmVkIGludCBzaXplLAogCQkJICAgdW5zaWduZWQgaW50ICpvZmZzZXQpOwogCit2
b2lkIGNlY19maWxsX2Nvbm5faW5mb19mcm9tX2RybShzdHJ1Y3QgY2VjX2Nvbm5lY3Rvcl9pbmZv
ICpjb25uX2luZm8sCisJCQkJIGNvbnN0IHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3Ip
OworCiAjZWxzZQogCiBzdGF0aWMgaW5saW5lIGludCBjZWNfcmVnaXN0ZXJfYWRhcHRlcihzdHJ1
Y3QgY2VjX2FkYXB0ZXIgKmFkYXAsCkBAIC0zNjUsNiArNDAzLDY0IEBAIHN0YXRpYyBpbmxpbmUg
dTE2IGNlY19nZXRfZWRpZF9waHlzX2FkZHIoY29uc3QgdTggKmVkaWQsIHVuc2lnbmVkIGludCBz
aXplLAogCXJldHVybiBDRUNfUEhZU19BRERSX0lOVkFMSUQ7CiB9CiAKK3N0YXRpYyBpbmxpbmUg
dm9pZCBjZWNfc19jb25uX2luZm8oc3RydWN0IGNlY19hZGFwdGVyICphZGFwLAorCQkJCSAgIGNv
bnN0IHN0cnVjdCBjZWNfY29ubmVjdG9yX2luZm8gKmNvbm5faW5mbykKK3sKK30KKworc3RhdGlj
IGlubGluZSB2b2lkCitjZWNfZmlsbF9jb25uX2luZm9fZnJvbV9kcm0oc3RydWN0IGNlY19jb25u
ZWN0b3JfaW5mbyAqY29ubl9pbmZvLAorCQkJICAgIGNvbnN0IHN0cnVjdCBkcm1fY29ubmVjdG9y
ICpjb25uZWN0b3IpCit7CisJbWVtc2V0KGNvbm5faW5mbywgMCwgc2l6ZW9mKCpjb25uX2luZm8p
KTsKK30KKworI2VuZGlmCisKKyNpZiBJU19SRUFDSEFCTEUoQ09ORklHX0NFQ19DT1JFKSAmJiBJ
U19FTkFCTEVEKENPTkZJR19DRUNfTk9USUZJRVIpCisKKy8qKgorICogY2VjX25vdGlmaWVyX3Jl
Z2lzdGVyIC0gcmVnaXN0ZXIgYSBjYWxsYmFjayB3aXRoIHRoZSBub3RpZmllcgorICogQG46IHRo
ZSBDRUMgbm90aWZpZXIKKyAqIEBhZGFwOiB0aGUgQ0VDIGFkYXB0ZXIsIHBhc3NlZCBhcyBhcmd1
bWVudCB0byB0aGUgY2FsbGJhY2sgZnVuY3Rpb24KKyAqIEBjYWxsYmFjazogdGhlIGNhbGxiYWNr
IGZ1bmN0aW9uCisgKi8KK3ZvaWQgY2VjX25vdGlmaWVyX3JlZ2lzdGVyKHN0cnVjdCBjZWNfbm90
aWZpZXIgKm4sCisJCQkgICBzdHJ1Y3QgY2VjX2FkYXB0ZXIgKmFkYXAsCisJCQkgICB2b2lkICgq
Y2FsbGJhY2spKHN0cnVjdCBjZWNfYWRhcHRlciAqYWRhcCwgdTE2IHBhKSk7CisKKy8qKgorICog
Y2VjX25vdGlmaWVyX3VucmVnaXN0ZXIgLSB1bnJlZ2lzdGVyIHRoZSBjYWxsYmFjayBmcm9tIHRo
ZSBub3RpZmllci4KKyAqIEBuOiB0aGUgQ0VDIG5vdGlmaWVyCisgKi8KK3ZvaWQgY2VjX25vdGlm
aWVyX3VucmVnaXN0ZXIoc3RydWN0IGNlY19ub3RpZmllciAqbik7CisKKy8qKgorICogY2VjX3Jl
Z2lzdGVyX2NlY19ub3RpZmllciAtIHJlZ2lzdGVyIHRoZSBub3RpZmllciB3aXRoIHRoZSBjZWMg
YWRhcHRlci4KKyAqIEBhZGFwOiB0aGUgQ0VDIGFkYXB0ZXIKKyAqIEBub3RpZmllcjogdGhlIENF
QyBub3RpZmllcgorICovCit2b2lkIGNlY19yZWdpc3Rlcl9jZWNfbm90aWZpZXIoc3RydWN0IGNl
Y19hZGFwdGVyICphZGFwLAorCQkJICAgICAgIHN0cnVjdCBjZWNfbm90aWZpZXIgKm5vdGlmaWVy
KTsKKworI2Vsc2UKKworc3RhdGljIGlubGluZSB2b2lkCitjZWNfbm90aWZpZXJfcmVnaXN0ZXIo
c3RydWN0IGNlY19ub3RpZmllciAqbiwKKwkJICAgICAgc3RydWN0IGNlY19hZGFwdGVyICphZGFw
LAorCQkgICAgICB2b2lkICgqY2FsbGJhY2spKHN0cnVjdCBjZWNfYWRhcHRlciAqYWRhcCwgdTE2
IHBhKSkKK3sKK30KKworc3RhdGljIGlubGluZSB2b2lkIGNlY19ub3RpZmllcl91bnJlZ2lzdGVy
KHN0cnVjdCBjZWNfbm90aWZpZXIgKm4pCit7Cit9CisKK3N0YXRpYyBpbmxpbmUgdm9pZCBjZWNf
cmVnaXN0ZXJfY2VjX25vdGlmaWVyKHN0cnVjdCBjZWNfYWRhcHRlciAqYWRhcCwKKwkJCQkJICAg
ICBzdHJ1Y3QgY2VjX25vdGlmaWVyICpub3RpZmllcikKK3sKK30KKwogI2VuZGlmCiAKIC8qKgot
LSAKMi4yMC4xCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
XwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcK
aHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
