Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 2EB2430F545
	for <lists+dri-devel@lfdr.de>; Thu,  4 Feb 2021 15:44:17 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 61D956EDA8;
	Thu,  4 Feb 2021 14:44:11 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ej1-x62f.google.com (mail-ej1-x62f.google.com
 [IPv6:2a00:1450:4864:20::62f])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3BA8B6ED9E;
 Thu,  4 Feb 2021 14:44:09 +0000 (UTC)
Received: by mail-ej1-x62f.google.com with SMTP id a9so5753339ejr.2;
 Thu, 04 Feb 2021 06:44:09 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=WAAKmulb+RUH8nIQkpFA6TFDp8tuwR0I6eG2zpWQQBY=;
 b=IMA/XnP4v+cvx3JwfpVxeDiUuXW1db0dSbMT4NP3YOca894gwk7X+3Swzx7CT4XgXe
 6ryobHIjWl7tnIuP2hTXUuEHw9FEGiTGUacEK82+aP2fuETS6EscrVc0AJD8K5sR8JvV
 uZnT0HepcwyO+6JcbUSa+B7m4Mfpv+eJ6fFUCs0rPHp9RxRElYl1Qro8z+TJGvgd4TRx
 d08pzJDpR8ZEOcTzfPLWhfIeeEaxumLRURcd94jYAUd4upH6DxbBRIfYSUxvs32FR0xw
 WbcRgxFI1XIvPDjuqn6Vc2eCfYLPGACY1AnZsV8h0pbFqRp2gfkAhGhP+Sy3Lktmzi/n
 eBjQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=WAAKmulb+RUH8nIQkpFA6TFDp8tuwR0I6eG2zpWQQBY=;
 b=ZgKBGMjte36gn5kkjl2dLiUEXYkQ5/zXbpAplL7rjvq0+SGm7+iz9TZ5+aT1pD3a/O
 JDCHdV/xAFGDsN/iyhswOOnBca7ucfXjeu2IO2qsipFWIJQ9s2uYf0oD36xnuSukjdWB
 ipa91ojI7RgqhTjXQotg4ilac0RVmtwBlaBcPStBeEuC09pI96TyivdKnMg+lm/rghLH
 kDGHSyFyb7iZ0Lym2fxlDrWwJBr3YLUSTwfv0D32iK9bueEShezoiDnkxfY+w8BV/VbC
 EQ81duEdODZfKN2XSIACjQaOTFVnxZTPzvdA+3lAVRNZ9S1V0y2gE5pV+4IshiUC4okF
 NkKA==
X-Gm-Message-State: AOAM532KhbLDP2vJxiapUOGY+otjcQEQaAoHMD5zeQO9GOqweKte0O0T
 Un3FSZqN4i9Dgina3iS6bJMW7D9XejU=
X-Google-Smtp-Source: ABdhPJxHRqkkQJsVjjMjcZNUhSymS24gBewMbtTDkcG151QpIR3A47rmJZcxRB5cFGK3ecsUi395hA==
X-Received: by 2002:a17:906:c09:: with SMTP id
 s9mr8221442ejf.539.1612449847708; 
 Thu, 04 Feb 2021 06:44:07 -0800 (PST)
Received: from abel.fritz.box ([2a02:908:1252:fb60:db9a:1ee8:e47:9603])
 by smtp.gmail.com with ESMTPSA id g14sm2613610edm.31.2021.02.04.06.44.06
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Thu, 04 Feb 2021 06:44:07 -0800 (PST)
From: "=?UTF-8?q?Christian=20K=C3=B6nig?=" <ckoenig.leichtzumerken@gmail.com>
X-Google-Original-From: =?UTF-8?q?Christian=20K=C3=B6nig?=
 <christian.koenig@amd.com>
To: amd-gfx@lists.freedesktop.org,
	dri-devel@lists.freedesktop.org
Subject: [PATCH 2/3] drm/amdgpu: add the sched_score to amdgpu_ring_init
Date: Thu,  4 Feb 2021 15:44:04 +0100
Message-Id: <20210204144405.2737-2-christian.koenig@amd.com>
X-Mailer: git-send-email 2.25.1
In-Reply-To: <20210204144405.2737-1-christian.koenig@amd.com>
References: <20210204144405.2737-1-christian.koenig@amd.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Leo.Liu@amd.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QWxsb3cgc2VwYXJhdGUgcmluZyB0byBzaGFyZSB0aGUgc2FtZSBzY2hlZHVsZXIgc2NvcmUuCgpO
byBmdW5jdGlvbmFsIGNoYW5nZS4KClNpZ25lZC1vZmYtYnk6IENocmlzdGlhbiBLw7ZuaWcgPGNo
cmlzdGlhbi5rb2VuaWdAYW1kLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9h
bWRncHVfZmVuY2UuYyB8IDUwICsrKysrKysrKysrKy0tLS0tLS0tLS0tCiBkcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9hbWRncHVfZ2Z4LmMgICB8ICA1ICstLQogZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvYW1kZ3B1X3JpbmcuYyAgfCAgNiArKy0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L2FtZGdwdV9yaW5nLmggIHwgIDYgKystCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9j
aWtfc2RtYS5jICAgICB8ICA1ICstLQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3Yx
MF8wLmMgICAgfCAgOSArKy0tCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjZfMC5j
ICAgICB8ICA0ICstCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjdfMC5jICAgICB8
ICA0ICstCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjhfMC5jICAgICB8ICA2ICst
LQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3Y5XzAuYyAgICAgfCAgOSArKy0tCiBk
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9qcGVnX3YxXzAuYyAgICB8ICAyICstCiBkcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9qcGVnX3YyXzAuYyAgICB8ICAyICstCiBkcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9qcGVnX3YyXzUuYyAgICB8ICAyICstCiBkcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9qcGVnX3YzXzAuYyAgICB8ICAyICstCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9tZXNfdjEwXzEuYyAgICB8ICAzICstCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1h
X3YyXzQuYyAgICB8ICA4ICsrLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjNf
MC5jICAgIHwgIDggKystLQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92NF8wLmMg
ICAgfCAgNCArLQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92NV8wLmMgICAgfCAg
OCArKy0tCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3Y1XzIuYyAgICB8ICA1ICst
LQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2lfZG1hLmMgICAgICAgfCAgNSArLS0KIGRy
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3V2ZF92M18xLmMgICAgIHwgIDIgKy0KIGRyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L3V2ZF92NF8yLmMgICAgIHwgIDIgKy0KIGRyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L3V2ZF92NV8wLmMgICAgIHwgIDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L3V2ZF92Nl8wLmMgICAgIHwgIDQgKy0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L3V2ZF92N18wLmMgICAgIHwgIDQgKy0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3ZjZV92
Ml8wLmMgICAgIHwgIDUgKy0tCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92Y2VfdjNfMC5j
ICAgICB8ICAyICstCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92Y2VfdjRfMC5jICAgICB8
ICAyICstCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92Y25fdjFfMC5jICAgICB8ICA0ICst
CiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92Y25fdjJfMC5jICAgICB8ICA0ICstCiBkcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92Y25fdjJfNS5jICAgICB8ICA0ICstCiBkcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS92Y25fdjNfMC5jICAgICB8ICA0ICstCiAzMyBmaWxlcyBjaGFuZ2Vk
LCA5MyBpbnNlcnRpb25zKCspLCA5OSBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZmVuY2UuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2FtZGdwdV9mZW5jZS5jCmluZGV4IDhlMGE1NjUwZDM4My4uNDIxOWEwMWZjMzhjIDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZmVuY2UuYworKysg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZmVuY2UuYwpAQCAtNDQxLDcgKzQ0
MSw4IEBAIGludCBhbWRncHVfZmVuY2VfZHJpdmVyX3N0YXJ0X3Jpbmcoc3RydWN0IGFtZGdwdV9y
aW5nICpyaW5nLAogICogSGVscGVyIGZ1bmN0aW9uIGZvciBhbWRncHVfZmVuY2VfZHJpdmVyX2lu
aXQoKS4KICAqLwogaW50IGFtZGdwdV9mZW5jZV9kcml2ZXJfaW5pdF9yaW5nKHN0cnVjdCBhbWRn
cHVfcmluZyAqcmluZywKLQkJCQkgIHVuc2lnbmVkIG51bV9od19zdWJtaXNzaW9uKQorCQkJCSAg
dW5zaWduZWQgbnVtX2h3X3N1Ym1pc3Npb24sCisJCQkJICBhdG9taWNfdCAqc2NoZWRfc2NvcmUp
CiB7CiAJc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSByaW5nLT5hZGV2OwogCWxvbmcgdGlt
ZW91dDsKQEAgLTQ2OSwzMCArNDcwLDMxIEBAIGludCBhbWRncHVfZmVuY2VfZHJpdmVyX2luaXRf
cmluZyhzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsCiAJCXJldHVybiAtRU5PTUVNOwogCiAJLyog
Tm8gbmVlZCB0byBzZXR1cCB0aGUgR1BVIHNjaGVkdWxlciBmb3IgcmluZ3MgdGhhdCBkb24ndCBu
ZWVkIGl0ICovCi0JaWYgKCFyaW5nLT5ub19zY2hlZHVsZXIpIHsKLQkJc3dpdGNoIChyaW5nLT5m
dW5jcy0+dHlwZSkgewotCQljYXNlIEFNREdQVV9SSU5HX1RZUEVfR0ZYOgotCQkJdGltZW91dCA9
IGFkZXYtPmdmeF90aW1lb3V0OwotCQkJYnJlYWs7Ci0JCWNhc2UgQU1ER1BVX1JJTkdfVFlQRV9D
T01QVVRFOgotCQkJdGltZW91dCA9IGFkZXYtPmNvbXB1dGVfdGltZW91dDsKLQkJCWJyZWFrOwot
CQljYXNlIEFNREdQVV9SSU5HX1RZUEVfU0RNQToKLQkJCXRpbWVvdXQgPSBhZGV2LT5zZG1hX3Rp
bWVvdXQ7Ci0JCQlicmVhazsKLQkJZGVmYXVsdDoKLQkJCXRpbWVvdXQgPSBhZGV2LT52aWRlb190
aW1lb3V0OwotCQkJYnJlYWs7Ci0JCX0KKwlpZiAocmluZy0+bm9fc2NoZWR1bGVyKQorCQlyZXR1
cm4gMDsKIAotCQlyID0gZHJtX3NjaGVkX2luaXQoJnJpbmctPnNjaGVkLCAmYW1kZ3B1X3NjaGVk
X29wcywKLQkJCQkgICBudW1faHdfc3VibWlzc2lvbiwgYW1kZ3B1X2pvYl9oYW5nX2xpbWl0LAot
CQkJCSAgIHRpbWVvdXQsIE5VTEwsIHJpbmctPm5hbWUpOwotCQlpZiAocikgewotCQkJRFJNX0VS
Uk9SKCJGYWlsZWQgdG8gY3JlYXRlIHNjaGVkdWxlciBvbiByaW5nICVzLlxuIiwKLQkJCQkgIHJp
bmctPm5hbWUpOwotCQkJcmV0dXJuIHI7Ci0JCX0KKwlzd2l0Y2ggKHJpbmctPmZ1bmNzLT50eXBl
KSB7CisJY2FzZSBBTURHUFVfUklOR19UWVBFX0dGWDoKKwkJdGltZW91dCA9IGFkZXYtPmdmeF90
aW1lb3V0OworCQlicmVhazsKKwljYXNlIEFNREdQVV9SSU5HX1RZUEVfQ09NUFVURToKKwkJdGlt
ZW91dCA9IGFkZXYtPmNvbXB1dGVfdGltZW91dDsKKwkJYnJlYWs7CisJY2FzZSBBTURHUFVfUklO
R19UWVBFX1NETUE6CisJCXRpbWVvdXQgPSBhZGV2LT5zZG1hX3RpbWVvdXQ7CisJCWJyZWFrOwor
CWRlZmF1bHQ6CisJCXRpbWVvdXQgPSBhZGV2LT52aWRlb190aW1lb3V0OworCQlicmVhazsKKwl9
CisKKwlyID0gZHJtX3NjaGVkX2luaXQoJnJpbmctPnNjaGVkLCAmYW1kZ3B1X3NjaGVkX29wcywK
KwkJCSAgIG51bV9od19zdWJtaXNzaW9uLCBhbWRncHVfam9iX2hhbmdfbGltaXQsCisJCQkgICB0
aW1lb3V0LCBzY2hlZF9zY29yZSwgcmluZy0+bmFtZSk7CisJaWYgKHIpIHsKKwkJRFJNX0VSUk9S
KCJGYWlsZWQgdG8gY3JlYXRlIHNjaGVkdWxlciBvbiByaW5nICVzLlxuIiwKKwkJCSAgcmluZy0+
bmFtZSk7CisJCXJldHVybiByOwogCX0KIAogCXJldHVybiAwOwpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dmeC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1X2dmeC5jCmluZGV4IDhlMGE2YzYyMzIyZS4uYjA0NGU4ZjE3MGM5IDEwMDY0
NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ2Z4LmMKKysrIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dmeC5jCkBAIC0zMTAsOSArMzEwLDggQEAg
aW50IGFtZGdwdV9nZnhfa2lxX2luaXRfcmluZyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwK
IAlyaW5nLT5lb3BfZ3B1X2FkZHIgPSBraXEtPmVvcF9ncHVfYWRkcjsKIAlyaW5nLT5ub19zY2hl
ZHVsZXIgPSB0cnVlOwogCXNwcmludGYocmluZy0+bmFtZSwgImtpcV8lZC4lZC4lZCIsIHJpbmct
Pm1lLCByaW5nLT5waXBlLCByaW5nLT5xdWV1ZSk7Ci0JciA9IGFtZGdwdV9yaW5nX2luaXQoYWRl
diwgcmluZywgMTAyNCwKLQkJCSAgICAgaXJxLCBBTURHUFVfQ1BfS0lRX0lSUV9EUklWRVIwLAot
CQkJICAgICBBTURHUFVfUklOR19QUklPX0RFRkFVTFQpOworCXIgPSBhbWRncHVfcmluZ19pbml0
KGFkZXYsIHJpbmcsIDEwMjQsIGlycSwgQU1ER1BVX0NQX0tJUV9JUlFfRFJJVkVSMCwKKwkJCSAg
ICAgQU1ER1BVX1JJTkdfUFJJT19ERUZBVUxULCBOVUxMKTsKIAlpZiAocikKIAkJZGV2X3dhcm4o
YWRldi0+ZGV2LCAiKCVkKSBmYWlsZWQgdG8gaW5pdCBraXEgcmluZ1xuIiwgcik7CiAKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9yaW5nLmMgYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfcmluZy5jCmluZGV4IGI2NDRjNzg0NzVmZC4uNjg4
NjI0ZWJlNDIxIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
cmluZy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9yaW5nLmMKQEAg
LTE2NCw3ICsxNjQsOCBAQCB2b2lkIGFtZGdwdV9yaW5nX3VuZG8oc3RydWN0IGFtZGdwdV9yaW5n
ICpyaW5nKQogICovCiBpbnQgYW1kZ3B1X3JpbmdfaW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
YWRldiwgc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLAogCQkgICAgIHVuc2lnbmVkIGludCBtYXhf
ZHcsIHN0cnVjdCBhbWRncHVfaXJxX3NyYyAqaXJxX3NyYywKLQkJICAgICB1bnNpZ25lZCBpbnQg
aXJxX3R5cGUsIHVuc2lnbmVkIGludCBod19wcmlvKQorCQkgICAgIHVuc2lnbmVkIGludCBpcnFf
dHlwZSwgdW5zaWduZWQgaW50IGh3X3ByaW8sCisJCSAgICAgYXRvbWljX3QgKnNjaGVkX3Njb3Jl
KQogewogCWludCByOwogCWludCBzY2hlZF9od19zdWJtaXNzaW9uID0gYW1kZ3B1X3NjaGVkX2h3
X3N1Ym1pc3Npb247CkBAIC0xODksNyArMTkwLDggQEAgaW50IGFtZGdwdV9yaW5nX2luaXQoc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywKIAkJcmlu
Zy0+YWRldiA9IGFkZXY7CiAJCXJpbmctPmlkeCA9IGFkZXYtPm51bV9yaW5ncysrOwogCQlhZGV2
LT5yaW5nc1tyaW5nLT5pZHhdID0gcmluZzsKLQkJciA9IGFtZGdwdV9mZW5jZV9kcml2ZXJfaW5p
dF9yaW5nKHJpbmcsIHNjaGVkX2h3X3N1Ym1pc3Npb24pOworCQlyID0gYW1kZ3B1X2ZlbmNlX2Ry
aXZlcl9pbml0X3JpbmcocmluZywgc2NoZWRfaHdfc3VibWlzc2lvbiwKKwkJCQkJCSAgc2NoZWRf
c2NvcmUpOwogCQlpZiAocikKIAkJCXJldHVybiByOwogCX0KZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9yaW5nLmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfcmluZy5oCmluZGV4IDU2YWNlYzEwNzVhYy4uY2ExNjIyODM1Mjk2IDEwMDY0
NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfcmluZy5oCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9yaW5nLmgKQEAgLTExMSw3ICsxMTEsOCBA
QCB2b2lkIGFtZGdwdV9mZW5jZV9kcml2ZXJfZmluaShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRl
dik7CiB2b2lkIGFtZGdwdV9mZW5jZV9kcml2ZXJfZm9yY2VfY29tcGxldGlvbihzdHJ1Y3QgYW1k
Z3B1X3JpbmcgKnJpbmcpOwogCiBpbnQgYW1kZ3B1X2ZlbmNlX2RyaXZlcl9pbml0X3Jpbmcoc3Ry
dWN0IGFtZGdwdV9yaW5nICpyaW5nLAotCQkJCSAgdW5zaWduZWQgbnVtX2h3X3N1Ym1pc3Npb24p
OworCQkJCSAgdW5zaWduZWQgbnVtX2h3X3N1Ym1pc3Npb24sCisJCQkJICBhdG9taWNfdCAqc2No
ZWRfc2NvcmUpOwogaW50IGFtZGdwdV9mZW5jZV9kcml2ZXJfc3RhcnRfcmluZyhzdHJ1Y3QgYW1k
Z3B1X3JpbmcgKnJpbmcsCiAJCQkJICAgc3RydWN0IGFtZGdwdV9pcnFfc3JjICppcnFfc3JjLAog
CQkJCSAgIHVuc2lnbmVkIGlycV90eXBlKTsKQEAgLTI4Miw3ICsyODMsOCBAQCB2b2lkIGFtZGdw
dV9yaW5nX2NvbW1pdChzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcpOwogdm9pZCBhbWRncHVfcmlu
Z191bmRvKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZyk7CiBpbnQgYW1kZ3B1X3JpbmdfaW5pdChz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLAogCQkg
ICAgIHVuc2lnbmVkIGludCByaW5nX3NpemUsIHN0cnVjdCBhbWRncHVfaXJxX3NyYyAqaXJxX3Ny
YywKLQkJICAgICB1bnNpZ25lZCBpbnQgaXJxX3R5cGUsIHVuc2lnbmVkIGludCBwcmlvKTsKKwkJ
ICAgICB1bnNpZ25lZCBpbnQgaXJxX3R5cGUsIHVuc2lnbmVkIGludCBwcmlvLAorCQkgICAgIGF0
b21pY190ICpzY2hlZF9zY29yZSk7CiB2b2lkIGFtZGdwdV9yaW5nX2Zpbmkoc3RydWN0IGFtZGdw
dV9yaW5nICpyaW5nKTsKIHZvaWQgYW1kZ3B1X3JpbmdfZW1pdF9yZWdfd3JpdGVfcmVnX3dhaXRf
aGVscGVyKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywKIAkJCQkJCXVpbnQzMl90IHJlZzAsIHVp
bnQzMl90IHZhbDAsCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9jaWtf
c2RtYS5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvY2lrX3NkbWEuYwppbmRleCA0M2I5
NzgxNDRiNzkuLmM0YmI4ZWVkMjQ2ZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvY2lrX3NkbWEuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9jaWtfc2Rt
YS5jCkBAIC05ODQsMTAgKzk4NCw5IEBAIHN0YXRpYyBpbnQgY2lrX3NkbWFfc3dfaW5pdCh2b2lk
ICpoYW5kbGUpCiAJCXNwcmludGYocmluZy0+bmFtZSwgInNkbWElZCIsIGkpOwogCQlyID0gYW1k
Z3B1X3JpbmdfaW5pdChhZGV2LCByaW5nLCAxMDI0LAogCQkJCSAgICAgJmFkZXYtPnNkbWEudHJh
cF9pcnEsCi0JCQkJICAgICAoaSA9PSAwKSA/Ci0JCQkJICAgICBBTURHUFVfU0RNQV9JUlFfSU5T
VEFOQ0UwIDoKKwkJCQkgICAgIChpID09IDApID8gQU1ER1BVX1NETUFfSVJRX0lOU1RBTkNFMCA6
CiAJCQkJICAgICBBTURHUFVfU0RNQV9JUlFfSU5TVEFOQ0UxLAotCQkJCSAgICAgQU1ER1BVX1JJ
TkdfUFJJT19ERUZBVUxUKTsKKwkJCQkgICAgIEFNREdQVV9SSU5HX1BSSU9fREVGQVVMVCwgTlVM
TCk7CiAJCWlmIChyKQogCQkJcmV0dXJuIHI7CiAJfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvZ2Z4X3YxMF8wLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9n
ZnhfdjEwXzAuYwppbmRleCA4YWMyYWYyMjU0MzYuLjA1Yzc2NTQ3NDcxYyAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3YxMF8wLmMKKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvZ2Z4X3YxMF8wLmMKQEAgLTQ0NTgsOSArNDQ1OCw4IEBAIHN0YXRpYyBp
bnQgZ2Z4X3YxMF8wX2dmeF9yaW5nX2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIGlu
dCByaW5nX2lkLAogCXNwcmludGYocmluZy0+bmFtZSwgImdmeF8lZC4lZC4lZCIsIHJpbmctPm1l
LCByaW5nLT5waXBlLCByaW5nLT5xdWV1ZSk7CiAKIAlpcnFfdHlwZSA9IEFNREdQVV9DUF9JUlFf
R0ZYX01FMF9QSVBFMF9FT1AgKyByaW5nLT5waXBlOwotCXIgPSBhbWRncHVfcmluZ19pbml0KGFk
ZXYsIHJpbmcsIDEwMjQsCi0JCQkgICAgICZhZGV2LT5nZnguZW9wX2lycSwgaXJxX3R5cGUsCi0J
CQkgICAgIEFNREdQVV9SSU5HX1BSSU9fREVGQVVMVCk7CisJciA9IGFtZGdwdV9yaW5nX2luaXQo
YWRldiwgcmluZywgMTAyNCwgJmFkZXYtPmdmeC5lb3BfaXJxLCBpcnFfdHlwZSwKKwkJCSAgICAg
QU1ER1BVX1JJTkdfUFJJT19ERUZBVUxULCBOVUxMKTsKIAlpZiAocikKIAkJcmV0dXJuIHI7CiAJ
cmV0dXJuIDA7CkBAIC00NDk0LDggKzQ0OTMsOCBAQCBzdGF0aWMgaW50IGdmeF92MTBfMF9jb21w
dXRlX3JpbmdfaW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgaW50IHJpbmdfaWQsCiAJ
aHdfcHJpbyA9IGFtZGdwdV9nZnhfaXNfaGlnaF9wcmlvcml0eV9jb21wdXRlX3F1ZXVlKGFkZXYs
IHJpbmcpID8KIAkJCUFNREdQVV9HRlhfUElQRV9QUklPX0hJR0ggOiBBTURHUFVfR0ZYX1BJUEVf
UFJJT19OT1JNQUw7CiAJLyogdHlwZS0yIHBhY2tldHMgYXJlIGRlcHJlY2F0ZWQgb24gTUVDLCB1
c2UgdHlwZS0zIGluc3RlYWQgKi8KLQlyID0gYW1kZ3B1X3JpbmdfaW5pdChhZGV2LCByaW5nLCAx
MDI0LAotCQkJICAgICAmYWRldi0+Z2Z4LmVvcF9pcnEsIGlycV90eXBlLCBod19wcmlvKTsKKwly
ID0gYW1kZ3B1X3JpbmdfaW5pdChhZGV2LCByaW5nLCAxMDI0LCAmYWRldi0+Z2Z4LmVvcF9pcnEs
IGlycV90eXBlLAorCQkJICAgICBod19wcmlvLCBOVUxMKTsKIAlpZiAocikKIAkJcmV0dXJuIHI7
CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92Nl8wLmMgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjZfMC5jCmluZGV4IGNhNzQ2MzhkZWM5Yi4u
M2E4ZDUyYTU0ODczIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhf
djZfMC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92Nl8wLmMKQEAgLTMx
MTQsNyArMzExNCw3IEBAIHN0YXRpYyBpbnQgZ2Z4X3Y2XzBfc3dfaW5pdCh2b2lkICpoYW5kbGUp
CiAJCXIgPSBhbWRncHVfcmluZ19pbml0KGFkZXYsIHJpbmcsIDEwMjQsCiAJCQkJICAgICAmYWRl
di0+Z2Z4LmVvcF9pcnEsCiAJCQkJICAgICBBTURHUFVfQ1BfSVJRX0dGWF9NRTBfUElQRTBfRU9Q
LAotCQkJCSAgICAgQU1ER1BVX1JJTkdfUFJJT19ERUZBVUxUKTsKKwkJCQkgICAgIEFNREdQVV9S
SU5HX1BSSU9fREVGQVVMVCwgTlVMTCk7CiAJCWlmIChyKQogCQkJcmV0dXJuIHI7CiAJfQpAQCAt
MzEzNyw3ICszMTM3LDcgQEAgc3RhdGljIGludCBnZnhfdjZfMF9zd19pbml0KHZvaWQgKmhhbmRs
ZSkKIAkJaXJxX3R5cGUgPSBBTURHUFVfQ1BfSVJRX0NPTVBVVEVfTUVDMV9QSVBFMF9FT1AgKyBy
aW5nLT5waXBlOwogCQlyID0gYW1kZ3B1X3JpbmdfaW5pdChhZGV2LCByaW5nLCAxMDI0LAogCQkJ
CSAgICAgJmFkZXYtPmdmeC5lb3BfaXJxLCBpcnFfdHlwZSwKLQkJCQkgICAgIEFNREdQVV9SSU5H
X1BSSU9fREVGQVVMVCk7CisJCQkJICAgICBBTURHUFVfUklOR19QUklPX0RFRkFVTFQsIE5VTEwp
OwogCQlpZiAocikKIAkJCXJldHVybiByOwogCX0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2dmeF92N18wLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhf
djdfMC5jCmluZGV4IGEzNjg3MjRjM2RmYy4uNzU3ZjRjODkyOWQxIDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjdfMC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2dmeF92N18wLmMKQEAgLTQ0MzgsNyArNDQzOCw3IEBAIHN0YXRpYyBpbnQgZ2Z4
X3Y3XzBfY29tcHV0ZV9yaW5nX2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIGludCBy
aW5nX2lkLAogCS8qIHR5cGUtMiBwYWNrZXRzIGFyZSBkZXByZWNhdGVkIG9uIE1FQywgdXNlIHR5
cGUtMyBpbnN0ZWFkICovCiAJciA9IGFtZGdwdV9yaW5nX2luaXQoYWRldiwgcmluZywgMTAyNCwK
IAkJCSAgICAgJmFkZXYtPmdmeC5lb3BfaXJxLCBpcnFfdHlwZSwKLQkJCSAgICAgQU1ER1BVX1JJ
TkdfUFJJT19ERUZBVUxUKTsKKwkJCSAgICAgQU1ER1BVX1JJTkdfUFJJT19ERUZBVUxULCBOVUxM
KTsKIAlpZiAocikKIAkJcmV0dXJuIHI7CiAKQEAgLTQ1MTIsNyArNDUxMiw3IEBAIHN0YXRpYyBp
bnQgZ2Z4X3Y3XzBfc3dfaW5pdCh2b2lkICpoYW5kbGUpCiAJCXIgPSBhbWRncHVfcmluZ19pbml0
KGFkZXYsIHJpbmcsIDEwMjQsCiAJCQkJICAgICAmYWRldi0+Z2Z4LmVvcF9pcnEsCiAJCQkJICAg
ICBBTURHUFVfQ1BfSVJRX0dGWF9NRTBfUElQRTBfRU9QLAotCQkJCSAgICAgQU1ER1BVX1JJTkdf
UFJJT19ERUZBVUxUKTsKKwkJCQkgICAgIEFNREdQVV9SSU5HX1BSSU9fREVGQVVMVCwgTlVMTCk7
CiAJCWlmIChyKQogCQkJcmV0dXJuIHI7CiAJfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvZ2Z4X3Y4XzAuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92
OF8wLmMKaW5kZXggYmRmZDI5YTIyYjNkLi4zYzFhYTAzYTIxNGYgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92OF8wLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvZ2Z4X3Y4XzAuYwpAQCAtMTkyNyw4ICsxOTI3LDggQEAgc3RhdGljIGludCBnZnhf
djhfMF9jb21wdXRlX3JpbmdfaW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgaW50IHJp
bmdfaWQsCiAJaHdfcHJpbyA9IGFtZGdwdV9nZnhfaXNfaGlnaF9wcmlvcml0eV9jb21wdXRlX3F1
ZXVlKGFkZXYsIHJpbmcpID8KIAkJCUFNREdQVV9HRlhfUElQRV9QUklPX0hJR0ggOiBBTURHUFVf
UklOR19QUklPX0RFRkFVTFQ7CiAJLyogdHlwZS0yIHBhY2tldHMgYXJlIGRlcHJlY2F0ZWQgb24g
TUVDLCB1c2UgdHlwZS0zIGluc3RlYWQgKi8KLQlyID0gYW1kZ3B1X3JpbmdfaW5pdChhZGV2LCBy
aW5nLCAxMDI0LAotCQkJICAgICAmYWRldi0+Z2Z4LmVvcF9pcnEsIGlycV90eXBlLCBod19wcmlv
KTsKKwlyID0gYW1kZ3B1X3JpbmdfaW5pdChhZGV2LCByaW5nLCAxMDI0LCAmYWRldi0+Z2Z4LmVv
cF9pcnEsIGlycV90eXBlLAorCQkJICAgICBod19wcmlvLCBOVUxMKTsKIAlpZiAocikKIAkJcmV0
dXJuIHI7CiAKQEAgLTIwMzMsNyArMjAzMyw3IEBAIHN0YXRpYyBpbnQgZ2Z4X3Y4XzBfc3dfaW5p
dCh2b2lkICpoYW5kbGUpCiAKIAkJciA9IGFtZGdwdV9yaW5nX2luaXQoYWRldiwgcmluZywgMTAy
NCwgJmFkZXYtPmdmeC5lb3BfaXJxLAogCQkJCSAgICAgQU1ER1BVX0NQX0lSUV9HRlhfTUUwX1BJ
UEUwX0VPUCwKLQkJCQkgICAgIEFNREdQVV9SSU5HX1BSSU9fREVGQVVMVCk7CisJCQkJICAgICBB
TURHUFVfUklOR19QUklPX0RFRkFVTFQsIE5VTEwpOwogCQlpZiAocikKIAkJCXJldHVybiByOwog
CX0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92OV8wLmMgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjlfMC5jCmluZGV4IDAyNzk5N2U5NWU0Ni4u
YzI4ZWJmZjRjOTIyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhf
djlfMC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92OV8wLmMKQEAgLTIy
MzEsOCArMjIzMSw4IEBAIHN0YXRpYyBpbnQgZ2Z4X3Y5XzBfY29tcHV0ZV9yaW5nX2luaXQoc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIGludCByaW5nX2lkLAogCWh3X3ByaW8gPSBhbWRncHVf
Z2Z4X2lzX2hpZ2hfcHJpb3JpdHlfY29tcHV0ZV9xdWV1ZShhZGV2LCByaW5nKSA/CiAJCQlBTURH
UFVfR0ZYX1BJUEVfUFJJT19ISUdIIDogQU1ER1BVX0dGWF9QSVBFX1BSSU9fTk9STUFMOwogCS8q
IHR5cGUtMiBwYWNrZXRzIGFyZSBkZXByZWNhdGVkIG9uIE1FQywgdXNlIHR5cGUtMyBpbnN0ZWFk
ICovCi0JcmV0dXJuIGFtZGdwdV9yaW5nX2luaXQoYWRldiwgcmluZywgMTAyNCwKLQkJCQkmYWRl
di0+Z2Z4LmVvcF9pcnEsIGlycV90eXBlLCBod19wcmlvKTsKKwlyZXR1cm4gYW1kZ3B1X3Jpbmdf
aW5pdChhZGV2LCByaW5nLCAxMDI0LCAmYWRldi0+Z2Z4LmVvcF9pcnEsIGlycV90eXBlLAorCQkJ
CWh3X3ByaW8sIE5VTEwpOwogfQogCiBzdGF0aWMgaW50IGdmeF92OV8wX3N3X2luaXQodm9pZCAq
aGFuZGxlKQpAQCAtMjMyMCwxMCArMjMyMCw5IEBAIHN0YXRpYyBpbnQgZ2Z4X3Y5XzBfc3dfaW5p
dCh2b2lkICpoYW5kbGUpCiAJCQlzcHJpbnRmKHJpbmctPm5hbWUsICJnZnhfJWQiLCBpKTsKIAkJ
cmluZy0+dXNlX2Rvb3JiZWxsID0gdHJ1ZTsKIAkJcmluZy0+ZG9vcmJlbGxfaW5kZXggPSBhZGV2
LT5kb29yYmVsbF9pbmRleC5nZnhfcmluZzAgPDwgMTsKLQkJciA9IGFtZGdwdV9yaW5nX2luaXQo
YWRldiwgcmluZywgMTAyNCwKLQkJCQkgICAgICZhZGV2LT5nZnguZW9wX2lycSwKKwkJciA9IGFt
ZGdwdV9yaW5nX2luaXQoYWRldiwgcmluZywgMTAyNCwgJmFkZXYtPmdmeC5lb3BfaXJxLAogCQkJ
CSAgICAgQU1ER1BVX0NQX0lSUV9HRlhfTUUwX1BJUEUwX0VPUCwKLQkJCQkgICAgIEFNREdQVV9S
SU5HX1BSSU9fREVGQVVMVCk7CisJCQkJICAgICBBTURHUFVfUklOR19QUklPX0RFRkFVTFQsIE5V
TEwpOwogCQlpZiAocikKIAkJCXJldHVybiByOwogCX0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2pwZWdfdjFfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
anBlZ192MV8wLmMKaW5kZXggNzMzMmEzMjBlZGU4Li45MzYwMjA0ZGE3ZmIgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2pwZWdfdjFfMC5jCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2pwZWdfdjFfMC5jCkBAIC00ODcsNyArNDg3LDcgQEAgaW50IGpwZWdf
djFfMF9zd19pbml0KHZvaWQgKmhhbmRsZSkKIAlyaW5nID0gJmFkZXYtPmpwZWcuaW5zdC0+cmlu
Z19kZWM7CiAJc3ByaW50ZihyaW5nLT5uYW1lLCAianBlZ19kZWMiKTsKIAlyID0gYW1kZ3B1X3Jp
bmdfaW5pdChhZGV2LCByaW5nLCA1MTIsICZhZGV2LT5qcGVnLmluc3QtPmlycSwKLQkJCSAgICAg
MCwgQU1ER1BVX1JJTkdfUFJJT19ERUZBVUxUKTsKKwkJCSAgICAgMCwgQU1ER1BVX1JJTkdfUFJJ
T19ERUZBVUxULCBOVUxMKTsKIAlpZiAocikKIAkJcmV0dXJuIHI7CiAKZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2pwZWdfdjJfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvanBlZ192Ml8wLmMKaW5kZXggM2IyMjk1M2FhNjJlLi5kZTVhYmNlY2VkMGQgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2pwZWdfdjJfMC5jCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2pwZWdfdjJfMC5jCkBAIC0xMDgsNyArMTA4LDcgQEAg
c3RhdGljIGludCBqcGVnX3YyXzBfc3dfaW5pdCh2b2lkICpoYW5kbGUpCiAJcmluZy0+ZG9vcmJl
bGxfaW5kZXggPSAoYWRldi0+ZG9vcmJlbGxfaW5kZXgudmNuLnZjbl9yaW5nMF8xIDw8IDEpICsg
MTsKIAlzcHJpbnRmKHJpbmctPm5hbWUsICJqcGVnX2RlYyIpOwogCXIgPSBhbWRncHVfcmluZ19p
bml0KGFkZXYsIHJpbmcsIDUxMiwgJmFkZXYtPmpwZWcuaW5zdC0+aXJxLAotCQkJICAgICAwLCBB
TURHUFVfUklOR19QUklPX0RFRkFVTFQpOworCQkJICAgICAwLCBBTURHUFVfUklOR19QUklPX0RF
RkFVTFQsIE5VTEwpOwogCWlmIChyKQogCQlyZXR1cm4gcjsKIApkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvanBlZ192Ml81LmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9qcGVnX3YyXzUuYwppbmRleCBjNjcyNGEwZTBjNDMuLmQyNjRkYzU3NmU4MCAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvanBlZ192Ml81LmMKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvanBlZ192Ml81LmMKQEAgLTExNSw3ICsxMTUsNyBAQCBzdGF0
aWMgaW50IGpwZWdfdjJfNV9zd19pbml0KHZvaWQgKmhhbmRsZSkKIAkJcmluZy0+ZG9vcmJlbGxf
aW5kZXggPSAoYWRldi0+ZG9vcmJlbGxfaW5kZXgudmNuLnZjbl9yaW5nMF8xIDw8IDEpICsgMSAr
IDggKiBpOwogCQlzcHJpbnRmKHJpbmctPm5hbWUsICJqcGVnX2RlY18lZCIsIGkpOwogCQlyID0g
YW1kZ3B1X3JpbmdfaW5pdChhZGV2LCByaW5nLCA1MTIsICZhZGV2LT5qcGVnLmluc3RbaV0uaXJx
LAotCQkJCSAgICAgMCwgQU1ER1BVX1JJTkdfUFJJT19ERUZBVUxUKTsKKwkJCQkgICAgIDAsIEFN
REdQVV9SSU5HX1BSSU9fREVGQVVMVCwgTlVMTCk7CiAJCWlmIChyKQogCQkJcmV0dXJuIHI7CiAK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2pwZWdfdjNfMC5jIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvanBlZ192M18wLmMKaW5kZXggZThmYmIyYTBkZTM0Li5k
ZTVkZmNmYjM4NTkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2pwZWdf
djNfMC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2pwZWdfdjNfMC5jCkBAIC05
NCw3ICs5NCw3IEBAIHN0YXRpYyBpbnQganBlZ192M18wX3N3X2luaXQodm9pZCAqaGFuZGxlKQog
CXJpbmctPmRvb3JiZWxsX2luZGV4ID0gKGFkZXYtPmRvb3JiZWxsX2luZGV4LnZjbi52Y25fcmlu
ZzBfMSA8PCAxKSArIDE7CiAJc3ByaW50ZihyaW5nLT5uYW1lLCAianBlZ19kZWMiKTsKIAlyID0g
YW1kZ3B1X3JpbmdfaW5pdChhZGV2LCByaW5nLCA1MTIsICZhZGV2LT5qcGVnLmluc3QtPmlycSwg
MCwKLQkJCSAgICAgQU1ER1BVX1JJTkdfUFJJT19ERUZBVUxUKTsKKwkJCSAgICAgQU1ER1BVX1JJ
TkdfUFJJT19ERUZBVUxULCBOVUxMKTsKIAlpZiAocikKIAkJcmV0dXJuIHI7CiAKZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L21lc192MTBfMS5jIGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvbWVzX3YxMF8xLmMKaW5kZXggOTg1ZTQ1NDQ2M2UxLi4wOWI5ODk5OTYz
ZmMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L21lc192MTBfMS5jCisr
KyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L21lc192MTBfMS5jCkBAIC04NDgsNyArODQ4
LDggQEAgc3RhdGljIGludCBtZXNfdjEwXzFfcmluZ19pbml0KHN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2KQogCXJpbmctPm5vX3NjaGVkdWxlciA9IHRydWU7CiAJc3ByaW50ZihyaW5nLT5uYW1l
LCAibWVzXyVkLiVkLiVkIiwgcmluZy0+bWUsIHJpbmctPnBpcGUsIHJpbmctPnF1ZXVlKTsKIAot
CXJldHVybiBhbWRncHVfcmluZ19pbml0KGFkZXYsIHJpbmcsIDEwMjQsIE5VTEwsIDAsIEFNREdQ
VV9SSU5HX1BSSU9fREVGQVVMVCk7CisJcmV0dXJuIGFtZGdwdV9yaW5nX2luaXQoYWRldiwgcmlu
ZywgMTAyNCwgTlVMTCwgMCwKKwkJCQlBTURHUFVfUklOR19QUklPX0RFRkFVTFQsIE5VTEwpOwog
fQogCiBzdGF0aWMgaW50IG1lc192MTBfMV9tcWRfc3dfaW5pdChzdHJ1Y3QgYW1kZ3B1X2Rldmlj
ZSAqYWRldikKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjJf
NC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92Ml80LmMKaW5kZXggZWI1ZGM2
YzViNDZlLi45ZjBkZGEwNDBlYzggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L3NkbWFfdjJfNC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjJf
NC5jCkBAIC04NzYsMTIgKzg3NiwxMCBAQCBzdGF0aWMgaW50IHNkbWFfdjJfNF9zd19pbml0KHZv
aWQgKmhhbmRsZSkKIAkJcmluZy0+cmluZ19vYmogPSBOVUxMOwogCQlyaW5nLT51c2VfZG9vcmJl
bGwgPSBmYWxzZTsKIAkJc3ByaW50ZihyaW5nLT5uYW1lLCAic2RtYSVkIiwgaSk7Ci0JCXIgPSBh
bWRncHVfcmluZ19pbml0KGFkZXYsIHJpbmcsIDEwMjQsCi0JCQkJICAgICAmYWRldi0+c2RtYS50
cmFwX2lycSwKLQkJCQkgICAgIChpID09IDApID8KLQkJCQkgICAgIEFNREdQVV9TRE1BX0lSUV9J
TlNUQU5DRTAgOgorCQlyID0gYW1kZ3B1X3JpbmdfaW5pdChhZGV2LCByaW5nLCAxMDI0LCAmYWRl
di0+c2RtYS50cmFwX2lycSwKKwkJCQkgICAgIChpID09IDApID8gQU1ER1BVX1NETUFfSVJRX0lO
U1RBTkNFMCA6CiAJCQkJICAgICBBTURHUFVfU0RNQV9JUlFfSU5TVEFOQ0UxLAotCQkJCSAgICAg
QU1ER1BVX1JJTkdfUFJJT19ERUZBVUxUKTsKKwkJCQkgICAgIEFNREdQVV9SSU5HX1BSSU9fREVG
QVVMVCwgTlVMTCk7CiAJCWlmIChyKQogCQkJcmV0dXJuIHI7CiAJfQpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92M18wLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9zZG1hX3YzXzAuYwppbmRleCBhZDMwOGQ4YzZkMzAuLjEzNTcyN2I1OWM0MSAxMDA2
NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92M18wLmMKKysrIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92M18wLmMKQEAgLTExNjAsMTIgKzExNjAsMTAg
QEAgc3RhdGljIGludCBzZG1hX3YzXzBfc3dfaW5pdCh2b2lkICpoYW5kbGUpCiAJCX0KIAogCQlz
cHJpbnRmKHJpbmctPm5hbWUsICJzZG1hJWQiLCBpKTsKLQkJciA9IGFtZGdwdV9yaW5nX2luaXQo
YWRldiwgcmluZywgMTAyNCwKLQkJCQkgICAgICZhZGV2LT5zZG1hLnRyYXBfaXJxLAotCQkJCSAg
ICAgKGkgPT0gMCkgPwotCQkJCSAgICAgQU1ER1BVX1NETUFfSVJRX0lOU1RBTkNFMCA6CisJCXIg
PSBhbWRncHVfcmluZ19pbml0KGFkZXYsIHJpbmcsIDEwMjQsICZhZGV2LT5zZG1hLnRyYXBfaXJx
LAorCQkJCSAgICAgKGkgPT0gMCkgPyBBTURHUFVfU0RNQV9JUlFfSU5TVEFOQ0UwIDoKIAkJCQkg
ICAgIEFNREdQVV9TRE1BX0lSUV9JTlNUQU5DRTEsCi0JCQkJICAgICBBTURHUFVfUklOR19QUklP
X0RFRkFVTFQpOworCQkJCSAgICAgQU1ER1BVX1JJTkdfUFJJT19ERUZBVUxULCBOVUxMKTsKIAkJ
aWYgKHIpCiAJCQlyZXR1cm4gcjsKIAl9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9zZG1hX3Y0XzAuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjRf
MC5jCmluZGV4IGM4YzIyYzFkMWU2NS4uNTM5MjQyYWEzNGQwIDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3Y0XzAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9zZG1hX3Y0XzAuYwpAQCAtMTkwOSw3ICsxOTA5LDcgQEAgc3RhdGljIGludCBzZG1h
X3Y0XzBfc3dfaW5pdCh2b2lkICpoYW5kbGUpCiAJCXNwcmludGYocmluZy0+bmFtZSwgInNkbWEl
ZCIsIGkpOwogCQlyID0gYW1kZ3B1X3JpbmdfaW5pdChhZGV2LCByaW5nLCAxMDI0LCAmYWRldi0+
c2RtYS50cmFwX2lycSwKIAkJCQkgICAgIEFNREdQVV9TRE1BX0lSUV9JTlNUQU5DRTAgKyBpLAot
CQkJCSAgICAgQU1ER1BVX1JJTkdfUFJJT19ERUZBVUxUKTsKKwkJCQkgICAgIEFNREdQVV9SSU5H
X1BSSU9fREVGQVVMVCwgTlVMTCk7CiAJCWlmIChyKQogCQkJcmV0dXJuIHI7CiAKQEAgLTE5Mjgs
NyArMTkyOCw3IEBAIHN0YXRpYyBpbnQgc2RtYV92NF8wX3N3X2luaXQodm9pZCAqaGFuZGxlKQog
CQkJciA9IGFtZGdwdV9yaW5nX2luaXQoYWRldiwgcmluZywgMTAyNCwKIAkJCQkJICAgICAmYWRl
di0+c2RtYS50cmFwX2lycSwKIAkJCQkJICAgICBBTURHUFVfU0RNQV9JUlFfSU5TVEFOQ0UwICsg
aSwKLQkJCQkJICAgICBBTURHUFVfUklOR19QUklPX0RFRkFVTFQpOworCQkJCQkgICAgIEFNREdQ
VV9SSU5HX1BSSU9fREVGQVVMVCwgTlVMTCk7CiAJCQlpZiAocikKIAkJCQlyZXR1cm4gcjsKIAkJ
fQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92NV8wLmMgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3Y1XzAuYwppbmRleCBkMzQ1ZTMyNDgzN2Qu
LjkyMGZjNmQ0YTEyNyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2Rt
YV92NV8wLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92NV8wLmMKQEAg
LTEyNzMsMTIgKzEyNzMsMTAgQEAgc3RhdGljIGludCBzZG1hX3Y1XzBfc3dfaW5pdCh2b2lkICpo
YW5kbGUpCiAJCQk6IChhZGV2LT5kb29yYmVsbF9pbmRleC5zZG1hX2VuZ2luZVsxXSA8PCAxKTsg
Ly8gZ2V0IERXT1JEIG9mZnNldAogCiAJCXNwcmludGYocmluZy0+bmFtZSwgInNkbWElZCIsIGkp
OwotCQlyID0gYW1kZ3B1X3JpbmdfaW5pdChhZGV2LCByaW5nLCAxMDI0LAotCQkJCSAgICAgJmFk
ZXYtPnNkbWEudHJhcF9pcnEsCi0JCQkJICAgICAoaSA9PSAwKSA/Ci0JCQkJICAgICBBTURHUFVf
U0RNQV9JUlFfSU5TVEFOQ0UwIDoKKwkJciA9IGFtZGdwdV9yaW5nX2luaXQoYWRldiwgcmluZywg
MTAyNCwgJmFkZXYtPnNkbWEudHJhcF9pcnEsCisJCQkJICAgICAoaSA9PSAwKSA/IEFNREdQVV9T
RE1BX0lSUV9JTlNUQU5DRTAgOgogCQkJCSAgICAgQU1ER1BVX1NETUFfSVJRX0lOU1RBTkNFMSwK
LQkJCQkgICAgIEFNREdQVV9SSU5HX1BSSU9fREVGQVVMVCk7CisJCQkJICAgICBBTURHUFVfUklO
R19QUklPX0RFRkFVTFQsIE5VTEwpOwogCQlpZiAocikKIAkJCXJldHVybiByOwogCX0KZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjVfMi5jIGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvc2RtYV92NV8yLmMKaW5kZXggNjkwYTUwOTA0NzVhLi4xMTM0ZWJk
ZjYyNjggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjVfMi5j
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjVfMi5jCkBAIC0xMjgzLDEw
ICsxMjgzLDkgQEAgc3RhdGljIGludCBzZG1hX3Y1XzJfc3dfaW5pdCh2b2lkICpoYW5kbGUpCiAJ
CQkoYWRldi0+ZG9vcmJlbGxfaW5kZXguc2RtYV9lbmdpbmVbaV0gPDwgMSk7IC8vZ2V0IERXT1JE
IG9mZnNldAogCiAJCXNwcmludGYocmluZy0+bmFtZSwgInNkbWElZCIsIGkpOwotCQlyID0gYW1k
Z3B1X3JpbmdfaW5pdChhZGV2LCByaW5nLCAxMDI0LAotCQkJCSAgICAgJmFkZXYtPnNkbWEudHJh
cF9pcnEsCisJCXIgPSBhbWRncHVfcmluZ19pbml0KGFkZXYsIHJpbmcsIDEwMjQsICZhZGV2LT5z
ZG1hLnRyYXBfaXJxLAogCQkJCSAgICAgQU1ER1BVX1NETUFfSVJRX0lOU1RBTkNFMCArIGksCi0J
CQkJICAgICBBTURHUFVfUklOR19QUklPX0RFRkFVTFQpOworCQkJCSAgICAgQU1ER1BVX1JJTkdf
UFJJT19ERUZBVUxULCBOVUxMKTsKIAkJaWYgKHIpCiAJCQlyZXR1cm4gcjsKIAl9CmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zaV9kbWEuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L3NpX2RtYS5jCmluZGV4IDQ4ODQ5N2FkNWUwYy4uY2I3MDNlMzA3MjM4IDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zaV9kbWEuYworKysgYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zaV9kbWEuYwpAQCAtNTA3LDEwICs1MDcsOSBAQCBzdGF0
aWMgaW50IHNpX2RtYV9zd19pbml0KHZvaWQgKmhhbmRsZSkKIAkJc3ByaW50ZihyaW5nLT5uYW1l
LCAic2RtYSVkIiwgaSk7CiAJCXIgPSBhbWRncHVfcmluZ19pbml0KGFkZXYsIHJpbmcsIDEwMjQs
CiAJCQkJICAgICAmYWRldi0+c2RtYS50cmFwX2lycSwKLQkJCQkgICAgIChpID09IDApID8KLQkJ
CQkgICAgIEFNREdQVV9TRE1BX0lSUV9JTlNUQU5DRTAgOgorCQkJCSAgICAgKGkgPT0gMCkgPyBB
TURHUFVfU0RNQV9JUlFfSU5TVEFOQ0UwIDoKIAkJCQkgICAgIEFNREdQVV9TRE1BX0lSUV9JTlNU
QU5DRTEsCi0JCQkJICAgICBBTURHUFVfUklOR19QUklPX0RFRkFVTFQpOworCQkJCSAgICAgQU1E
R1BVX1JJTkdfUFJJT19ERUZBVUxULCBOVUxMKTsKIAkJaWYgKHIpCiAJCQlyZXR1cm4gcjsKIAl9
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS91dmRfdjNfMS5jIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdXZkX3YzXzEuYwppbmRleCAxMGVjYWUyNTdiMTguLjI4
NDQ0N2Q3YTU3OSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdXZkX3Yz
XzEuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS91dmRfdjNfMS5jCkBAIC01NjIs
NyArNTYyLDcgQEAgc3RhdGljIGludCB1dmRfdjNfMV9zd19pbml0KHZvaWQgKmhhbmRsZSkKIAly
aW5nID0gJmFkZXYtPnV2ZC5pbnN0LT5yaW5nOwogCXNwcmludGYocmluZy0+bmFtZSwgInV2ZCIp
OwogCXIgPSBhbWRncHVfcmluZ19pbml0KGFkZXYsIHJpbmcsIDUxMiwgJmFkZXYtPnV2ZC5pbnN0
LT5pcnEsIDAsCi0JCQkgQU1ER1BVX1JJTkdfUFJJT19ERUZBVUxUKTsKKwkJCSBBTURHUFVfUklO
R19QUklPX0RFRkFVTFQsIE5VTEwpOwogCWlmIChyKQogCQlyZXR1cm4gcjsKIApkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdXZkX3Y0XzIuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L3V2ZF92NF8yLmMKaW5kZXggYTcwZDJhMGRlMzE2Li5hMzAxNTE4ZTQ5NTcg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3V2ZF92NF8yLmMKKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdXZkX3Y0XzIuYwpAQCAtMTE5LDcgKzExOSw3IEBA
IHN0YXRpYyBpbnQgdXZkX3Y0XzJfc3dfaW5pdCh2b2lkICpoYW5kbGUpCiAJcmluZyA9ICZhZGV2
LT51dmQuaW5zdC0+cmluZzsKIAlzcHJpbnRmKHJpbmctPm5hbWUsICJ1dmQiKTsKIAlyID0gYW1k
Z3B1X3JpbmdfaW5pdChhZGV2LCByaW5nLCA1MTIsICZhZGV2LT51dmQuaW5zdC0+aXJxLCAwLAot
CQkJICAgICBBTURHUFVfUklOR19QUklPX0RFRkFVTFQpOworCQkJICAgICBBTURHUFVfUklOR19Q
UklPX0RFRkFVTFQsIE5VTEwpOwogCWlmIChyKQogCQlyZXR1cm4gcjsKIApkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdXZkX3Y1XzAuYyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L3V2ZF92NV8wLmMKaW5kZXggZjNiMGE5MjcxMDFiLi5hNGQ1YmQyMWM4M2MgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3V2ZF92NV8wLmMKKysrIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdXZkX3Y1XzAuYwpAQCAtMTE3LDcgKzExNyw3IEBAIHN0
YXRpYyBpbnQgdXZkX3Y1XzBfc3dfaW5pdCh2b2lkICpoYW5kbGUpCiAJcmluZyA9ICZhZGV2LT51
dmQuaW5zdC0+cmluZzsKIAlzcHJpbnRmKHJpbmctPm5hbWUsICJ1dmQiKTsKIAlyID0gYW1kZ3B1
X3JpbmdfaW5pdChhZGV2LCByaW5nLCA1MTIsICZhZGV2LT51dmQuaW5zdC0+aXJxLCAwLAotCQkJ
ICAgICBBTURHUFVfUklOR19QUklPX0RFRkFVTFQpOworCQkJICAgICBBTURHUFVfUklOR19QUklP
X0RFRkFVTFQsIE5VTEwpOwogCWlmIChyKQogCQlyZXR1cm4gcjsKIApkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdXZkX3Y2XzAuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L3V2ZF92Nl8wLmMKaW5kZXggNzYwODU5ODgwYzFlLi4yYmFiOWM3Nzk1MmYgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3V2ZF92Nl8wLmMKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvdXZkX3Y2XzAuYwpAQCAtNDIwLDcgKzQyMCw3IEBAIHN0YXRp
YyBpbnQgdXZkX3Y2XzBfc3dfaW5pdCh2b2lkICpoYW5kbGUpCiAJcmluZyA9ICZhZGV2LT51dmQu
aW5zdC0+cmluZzsKIAlzcHJpbnRmKHJpbmctPm5hbWUsICJ1dmQiKTsKIAlyID0gYW1kZ3B1X3Jp
bmdfaW5pdChhZGV2LCByaW5nLCA1MTIsICZhZGV2LT51dmQuaW5zdC0+aXJxLCAwLAotCQkJICAg
ICBBTURHUFVfUklOR19QUklPX0RFRkFVTFQpOworCQkJICAgICBBTURHUFVfUklOR19QUklPX0RF
RkFVTFQsIE5VTEwpOwogCWlmIChyKQogCQlyZXR1cm4gcjsKIApAQCAtNDM0LDcgKzQzNCw3IEBA
IHN0YXRpYyBpbnQgdXZkX3Y2XzBfc3dfaW5pdCh2b2lkICpoYW5kbGUpCiAJCQlzcHJpbnRmKHJp
bmctPm5hbWUsICJ1dmRfZW5jJWQiLCBpKTsKIAkJCXIgPSBhbWRncHVfcmluZ19pbml0KGFkZXYs
IHJpbmcsIDUxMiwKIAkJCQkJICAgICAmYWRldi0+dXZkLmluc3QtPmlycSwgMCwKLQkJCQkJICAg
ICBBTURHUFVfUklOR19QUklPX0RFRkFVTFQpOworCQkJCQkgICAgIEFNREdQVV9SSU5HX1BSSU9f
REVGQVVMVCwgTlVMTCk7CiAJCQlpZiAocikKIAkJCQlyZXR1cm4gcjsKIAkJfQpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdXZkX3Y3XzAuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L3V2ZF92N18wLmMKaW5kZXggN2NkNjdjYjJhYzVmLi4wY2Q5OGZjYjFmOWYg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3V2ZF92N18wLmMKKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdXZkX3Y3XzAuYwpAQCAtNDU0LDcgKzQ1NCw3IEBA
IHN0YXRpYyBpbnQgdXZkX3Y3XzBfc3dfaW5pdCh2b2lkICpoYW5kbGUpCiAJCQlzcHJpbnRmKHJp
bmctPm5hbWUsICJ1dmRfJWQiLCByaW5nLT5tZSk7CiAJCQlyID0gYW1kZ3B1X3JpbmdfaW5pdChh
ZGV2LCByaW5nLCA1MTIsCiAJCQkJCSAgICAgJmFkZXYtPnV2ZC5pbnN0W2pdLmlycSwgMCwKLQkJ
CQkJICAgICBBTURHUFVfUklOR19QUklPX0RFRkFVTFQpOworCQkJCQkgICAgIEFNREdQVV9SSU5H
X1BSSU9fREVGQVVMVCwgTlVMTCk7CiAJCQlpZiAocikKIAkJCQlyZXR1cm4gcjsKIAkJfQpAQCAt
NDc1LDcgKzQ3NSw3IEBAIHN0YXRpYyBpbnQgdXZkX3Y3XzBfc3dfaW5pdCh2b2lkICpoYW5kbGUp
CiAJCQl9CiAJCQlyID0gYW1kZ3B1X3JpbmdfaW5pdChhZGV2LCByaW5nLCA1MTIsCiAJCQkJCSAg
ICAgJmFkZXYtPnV2ZC5pbnN0W2pdLmlycSwgMCwKLQkJCQkJICAgICBBTURHUFVfUklOR19QUklP
X0RFRkFVTFQpOworCQkJCQkgICAgIEFNREdQVV9SSU5HX1BSSU9fREVGQVVMVCwgTlVMTCk7CiAJ
CQlpZiAocikKIAkJCQlyZXR1cm4gcjsKIAkJfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvdmNlX3YyXzAuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3ZjZV92
Ml8wLmMKaW5kZXggMGUyOTQ1YmFmMGYxLi5jN2QyOGMxNjliZTUgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3ZjZV92Ml8wLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvdmNlX3YyXzAuYwpAQCAtNDMzLDkgKzQzMyw4IEBAIHN0YXRpYyBpbnQgdmNlX3Yy
XzBfc3dfaW5pdCh2b2lkICpoYW5kbGUpCiAJZm9yIChpID0gMDsgaSA8IGFkZXYtPnZjZS5udW1f
cmluZ3M7IGkrKykgewogCQlyaW5nID0gJmFkZXYtPnZjZS5yaW5nW2ldOwogCQlzcHJpbnRmKHJp
bmctPm5hbWUsICJ2Y2UlZCIsIGkpOwotCQlyID0gYW1kZ3B1X3JpbmdfaW5pdChhZGV2LCByaW5n
LCA1MTIsCi0JCQkJICAgICAmYWRldi0+dmNlLmlycSwgMCwKLQkJCQkgICAgIEFNREdQVV9SSU5H
X1BSSU9fREVGQVVMVCk7CisJCXIgPSBhbWRncHVfcmluZ19pbml0KGFkZXYsIHJpbmcsIDUxMiwg
JmFkZXYtPnZjZS5pcnEsIDAsCisJCQkJICAgICBBTURHUFVfUklOR19QUklPX0RFRkFVTFQsIE5V
TEwpOwogCQlpZiAocikKIAkJCXJldHVybiByOwogCX0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L3ZjZV92M18wLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92
Y2VfdjNfMC5jCmluZGV4IDZkOTEwOGZhMjJlMC4uM2I4MmZiMjg5ZWY2IDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92Y2VfdjNfMC5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L3ZjZV92M18wLmMKQEAgLTQ0Myw3ICs0NDMsNyBAQCBzdGF0aWMgaW50IHZj
ZV92M18wX3N3X2luaXQodm9pZCAqaGFuZGxlKQogCQlyaW5nID0gJmFkZXYtPnZjZS5yaW5nW2ld
OwogCQlzcHJpbnRmKHJpbmctPm5hbWUsICJ2Y2UlZCIsIGkpOwogCQlyID0gYW1kZ3B1X3Jpbmdf
aW5pdChhZGV2LCByaW5nLCA1MTIsICZhZGV2LT52Y2UuaXJxLCAwLAotCQkJCSAgICAgQU1ER1BV
X1JJTkdfUFJJT19ERUZBVUxUKTsKKwkJCQkgICAgIEFNREdQVV9SSU5HX1BSSU9fREVGQVVMVCwg
TlVMTCk7CiAJCWlmIChyKQogCQkJcmV0dXJuIHI7CiAJfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvdmNlX3Y0XzAuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L3ZjZV92NF8wLmMKaW5kZXggMzdmYTE2MzM5M2ZkLi44ZTIzOGRlYTdiZWYgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3ZjZV92NF8wLmMKKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvdmNlX3Y0XzAuYwpAQCAtNDc3LDcgKzQ3Nyw3IEBAIHN0YXRpYyBpbnQg
dmNlX3Y0XzBfc3dfaW5pdCh2b2lkICpoYW5kbGUpCiAJCQkJcmluZy0+ZG9vcmJlbGxfaW5kZXgg
PSBhZGV2LT5kb29yYmVsbF9pbmRleC51dmRfdmNlLnZjZV9yaW5nMl8zICogMiArIDE7CiAJCX0K
IAkJciA9IGFtZGdwdV9yaW5nX2luaXQoYWRldiwgcmluZywgNTEyLCAmYWRldi0+dmNlLmlycSwg
MCwKLQkJCQkgICAgIEFNREdQVV9SSU5HX1BSSU9fREVGQVVMVCk7CisJCQkJICAgICBBTURHUFVf
UklOR19QUklPX0RFRkFVTFQsIE5VTEwpOwogCQlpZiAocikKIAkJCXJldHVybiByOwogCX0KZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3Zjbl92MV8wLmMgYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS92Y25fdjFfMC5jCmluZGV4IDYxMTc5MzFmYThkNy4uNTFhNzcz
YTM3YTM1IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92Y25fdjFfMC5j
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3Zjbl92MV8wLmMKQEAgLTEyOSw3ICsx
MjksNyBAQCBzdGF0aWMgaW50IHZjbl92MV8wX3N3X2luaXQodm9pZCAqaGFuZGxlKQogCXJpbmcg
PSAmYWRldi0+dmNuLmluc3QtPnJpbmdfZGVjOwogCXNwcmludGYocmluZy0+bmFtZSwgInZjbl9k
ZWMiKTsKIAlyID0gYW1kZ3B1X3JpbmdfaW5pdChhZGV2LCByaW5nLCA1MTIsICZhZGV2LT52Y24u
aW5zdC0+aXJxLCAwLAotCQkJICAgICBBTURHUFVfUklOR19QUklPX0RFRkFVTFQpOworCQkJICAg
ICBBTURHUFVfUklOR19QUklPX0RFRkFVTFQsIE5VTEwpOwogCWlmIChyKQogCQlyZXR1cm4gcjsK
IApAQCAtMTQ4LDcgKzE0OCw3IEBAIHN0YXRpYyBpbnQgdmNuX3YxXzBfc3dfaW5pdCh2b2lkICpo
YW5kbGUpCiAJCXJpbmcgPSAmYWRldi0+dmNuLmluc3QtPnJpbmdfZW5jW2ldOwogCQlzcHJpbnRm
KHJpbmctPm5hbWUsICJ2Y25fZW5jJWQiLCBpKTsKIAkJciA9IGFtZGdwdV9yaW5nX2luaXQoYWRl
diwgcmluZywgNTEyLCAmYWRldi0+dmNuLmluc3QtPmlycSwgMCwKLQkJCQkgICAgIEFNREdQVV9S
SU5HX1BSSU9fREVGQVVMVCk7CisJCQkJICAgICBBTURHUFVfUklOR19QUklPX0RFRkFVTFQsIE5V
TEwpOwogCQlpZiAocikKIAkJCXJldHVybiByOwogCX0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L3Zjbl92Ml8wLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92
Y25fdjJfMC5jCmluZGV4IGQ2MzE5OGM5NDViZi4uMTE2Yjk2NDNkNWJhIDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92Y25fdjJfMC5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L3Zjbl92Ml8wLmMKQEAgLTEzNiw3ICsxMzYsNyBAQCBzdGF0aWMgaW50IHZj
bl92Ml8wX3N3X2luaXQodm9pZCAqaGFuZGxlKQogCiAJc3ByaW50ZihyaW5nLT5uYW1lLCAidmNu
X2RlYyIpOwogCXIgPSBhbWRncHVfcmluZ19pbml0KGFkZXYsIHJpbmcsIDUxMiwgJmFkZXYtPnZj
bi5pbnN0LT5pcnEsIDAsCi0JCQkgICAgIEFNREdQVV9SSU5HX1BSSU9fREVGQVVMVCk7CisJCQkg
ICAgIEFNREdQVV9SSU5HX1BSSU9fREVGQVVMVCwgTlVMTCk7CiAJaWYgKHIpCiAJCXJldHVybiBy
OwogCkBAIC0xNjcsNyArMTY3LDcgQEAgc3RhdGljIGludCB2Y25fdjJfMF9zd19pbml0KHZvaWQg
KmhhbmRsZSkKIAkJCXJpbmctPmRvb3JiZWxsX2luZGV4ID0gKGFkZXYtPmRvb3JiZWxsX2luZGV4
LnZjbi52Y25fcmluZzBfMSA8PCAxKSArIDEgKyBpOwogCQlzcHJpbnRmKHJpbmctPm5hbWUsICJ2
Y25fZW5jJWQiLCBpKTsKIAkJciA9IGFtZGdwdV9yaW5nX2luaXQoYWRldiwgcmluZywgNTEyLCAm
YWRldi0+dmNuLmluc3QtPmlycSwgMCwKLQkJCQkgICAgIEFNREdQVV9SSU5HX1BSSU9fREVGQVVM
VCk7CisJCQkJICAgICBBTURHUFVfUklOR19QUklPX0RFRkFVTFQsIE5VTEwpOwogCQlpZiAocikK
IAkJCXJldHVybiByOwogCX0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L3Zjbl92Ml81LmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92Y25fdjJfNS5jCmluZGV4
IGI2ZTBmNGJhNjI3Mi4uMDMwZWMwNzMxZDUyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS92Y25fdjJfNS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3Zj
bl92Ml81LmMKQEAgLTE4OSw3ICsxODksNyBAQCBzdGF0aWMgaW50IHZjbl92Ml81X3N3X2luaXQo
dm9pZCAqaGFuZGxlKQogCQkJCShhbWRncHVfc3Jpb3ZfdmYoYWRldikgPyAyKmogOiA4KmopOwog
CQlzcHJpbnRmKHJpbmctPm5hbWUsICJ2Y25fZGVjXyVkIiwgaik7CiAJCXIgPSBhbWRncHVfcmlu
Z19pbml0KGFkZXYsIHJpbmcsIDUxMiwgJmFkZXYtPnZjbi5pbnN0W2pdLmlycSwKLQkJCQkgICAg
IDAsIEFNREdQVV9SSU5HX1BSSU9fREVGQVVMVCk7CisJCQkJICAgICAwLCBBTURHUFVfUklOR19Q
UklPX0RFRkFVTFQsIE5VTEwpOwogCQlpZiAocikKIAkJCXJldHVybiByOwogCkBAIC0yMDMsNyAr
MjAzLDcgQEAgc3RhdGljIGludCB2Y25fdjJfNV9zd19pbml0KHZvaWQgKmhhbmRsZSkKIAkJCXNw
cmludGYocmluZy0+bmFtZSwgInZjbl9lbmNfJWQuJWQiLCBqLCBpKTsKIAkJCXIgPSBhbWRncHVf
cmluZ19pbml0KGFkZXYsIHJpbmcsIDUxMiwKIAkJCQkJICAgICAmYWRldi0+dmNuLmluc3Rbal0u
aXJxLCAwLAotCQkJCQkgICAgIEFNREdQVV9SSU5HX1BSSU9fREVGQVVMVCk7CisJCQkJCSAgICAg
QU1ER1BVX1JJTkdfUFJJT19ERUZBVUxULCBOVUxMKTsKIAkJCWlmIChyKQogCQkJCXJldHVybiBy
OwogCQl9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92Y25fdjNfMC5j
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdmNuX3YzXzAuYwppbmRleCBkZWY1ODM5MTYy
OTQuLjIzOWE0ZWI1MmM2MSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
dmNuX3YzXzAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92Y25fdjNfMC5jCkBA
IC0yMDksNyArMjA5LDcgQEAgc3RhdGljIGludCB2Y25fdjNfMF9zd19pbml0KHZvaWQgKmhhbmRs
ZSkKIAkJCXJpbmctPm5vX3NjaGVkdWxlciA9IHRydWU7CiAJCXNwcmludGYocmluZy0+bmFtZSwg
InZjbl9kZWNfJWQiLCBpKTsKIAkJciA9IGFtZGdwdV9yaW5nX2luaXQoYWRldiwgcmluZywgNTEy
LCAmYWRldi0+dmNuLmluc3RbaV0uaXJxLCAwLAotCQkJCSAgICAgQU1ER1BVX1JJTkdfUFJJT19E
RUZBVUxUKTsKKwkJCQkgICAgIEFNREdQVV9SSU5HX1BSSU9fREVGQVVMVCwgTlVMTCk7CiAJCWlm
IChyKQogCQkJcmV0dXJuIHI7CiAKQEAgLTIzMSw3ICsyMzEsNyBAQCBzdGF0aWMgaW50IHZjbl92
M18wX3N3X2luaXQodm9pZCAqaGFuZGxlKQogCQkJCXJpbmctPm5vX3NjaGVkdWxlciA9IHRydWU7
CiAJCQlzcHJpbnRmKHJpbmctPm5hbWUsICJ2Y25fZW5jXyVkLiVkIiwgaSwgaik7CiAJCQlyID0g
YW1kZ3B1X3JpbmdfaW5pdChhZGV2LCByaW5nLCA1MTIsICZhZGV2LT52Y24uaW5zdFtpXS5pcnEs
IDAsCi0JCQkJCSAgICAgQU1ER1BVX1JJTkdfUFJJT19ERUZBVUxUKTsKKwkJCQkJICAgICBBTURH
UFVfUklOR19QUklPX0RFRkFVTFQsIE5VTEwpOwogCQkJaWYgKHIpCiAJCQkJcmV0dXJuIHI7CiAJ
CX0KLS0gCjIuMjUuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Au
b3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRl
dmVsCg==
