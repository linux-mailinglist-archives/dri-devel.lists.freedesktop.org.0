Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 1A8F9241B33
	for <lists+dri-devel@lfdr.de>; Tue, 11 Aug 2020 14:54:03 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 48CD36E161;
	Tue, 11 Aug 2020 12:54:01 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ej1-x644.google.com (mail-ej1-x644.google.com
 [IPv6:2a00:1450:4864:20::644])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 52F6F6E161
 for <dri-devel@lists.freedesktop.org>; Tue, 11 Aug 2020 12:54:00 +0000 (UTC)
Received: by mail-ej1-x644.google.com with SMTP id o23so12980904ejr.1
 for <dri-devel@lists.freedesktop.org>; Tue, 11 Aug 2020 05:54:00 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=subject:from:to:references:message-id:date:user-agent:mime-version
 :in-reply-to:content-transfer-encoding:content-language;
 bh=nu8lMeAhpaWeG0Bvz/UzaMbPfO/CSoVpk0/E/DFf71E=;
 b=YWd65M+PQTaGrpyfLNWHbAtMNTnpaf4ijx0bh9xoPdiFmVW8Iury2yOC1CiULUkVDS
 H13Jg+AnohBb6/5lSDLvjaOeVerNL9gFNTMwWCbbkF6c0MY+4yXdA6MbB96Sw0llZT5y
 vJIZ7mLtQisz/ps5yzZh2h/ZQHhtVn/IlHDpiESUs7Kwa8arCWx6TOc+ea8G8xRwaaxs
 HOJgWI548Vq74bJMIzpg6IM9tyB1dtL7k4XCCL4R24rhrKpwHEoFlsO41MI1tH3VEZyn
 L4TKWytAik2Fw4Xe1UqEb1/lEvwSm+VnInirisjEC+2vq3o9dQhKmv+h5x4hOS0cSUPl
 OUOw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:subject:from:to:references:message-id:date
 :user-agent:mime-version:in-reply-to:content-transfer-encoding
 :content-language;
 bh=nu8lMeAhpaWeG0Bvz/UzaMbPfO/CSoVpk0/E/DFf71E=;
 b=kx4I+oLI/O8dyw9UU32ZGzPlAnFE+2NPbU8jtOS5OzX2KTmlL8eN0Zw1gC8++B1agT
 z7a5/xP2iPda9Bg0kdygR+72s6PrR3Mlp71oeaLW65bRiMYU4B04ZwvXoqiKaMKYHJkv
 B8N2dU1W6PLF3o2030cXJV3ywM/blPfxpER5Hh2TJTD4k+gX+Ygns5kp9trGs9cckJ2m
 cjiS9WcTnVeCRiZZoVBpAhu9epO/digOFi4dhPMKQgQX9eVXVKP0Qsr06LX9qtEhMs37
 zirc9mJGeK7vVg/yl+YQFsuWq9s+/Mz4C9PEku7r4JKoTCN3dYe8VCyzc3BPNjTq/uJ8
 J47A==
X-Gm-Message-State: AOAM531Px9eEJpJ3P9f/Tje8oqjzfB/A1DPYD31yUOFmEFyA0qSM3Ukr
 yD91PN+xHAtjb0cFvAvsI8pLzOEW
X-Google-Smtp-Source: ABdhPJwMx6z47bVOj+brfO87/pox2tlkxkQyE6wYczuMMNaVV6AE0RM3t5rJgpA5x3wZE6op8FANDQ==
X-Received: by 2002:a17:906:824d:: with SMTP id
 f13mr22159260ejx.190.1597150438973; 
 Tue, 11 Aug 2020 05:53:58 -0700 (PDT)
Received: from ?IPv6:2a02:908:1252:fb60:be8a:bd56:1f94:86e7?
 ([2a02:908:1252:fb60:be8a:bd56:1f94:86e7])
 by smtp.gmail.com with ESMTPSA id b24sm14873628edn.33.2020.08.11.05.53.57
 (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
 Tue, 11 Aug 2020 05:53:58 -0700 (PDT)
Subject: Re: [PATCH] drm/ttm: revert "make TT creation purely optional v3"
From: =?UTF-8?Q?Christian_K=c3=b6nig?= <ckoenig.leichtzumerken@gmail.com>
To: dri-devel@lists.freedesktop.org, =?UTF-8?Q?Michel_D=c3=a4nzer?=
 <michel@daenzer.net>
References: <20200811092400.188124-1-christian.koenig@amd.com>
 <bbeaca4b-189d-c4dd-6d3a-e1489d6b0e4f@gmail.com>
Message-ID: <052cbf93-00d1-6913-a278-eb3dafa86281@gmail.com>
Date: Tue, 11 Aug 2020 14:53:53 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101
 Thunderbird/68.10.0
MIME-Version: 1.0
In-Reply-To: <bbeaca4b-189d-c4dd-6d3a-e1489d6b0e4f@gmail.com>
Content-Language: en-US
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QW0gMTEuMDguMjAgdW0gMTQ6NTIgc2NocmllYiBDaHJpc3RpYW4gS8O2bmlnOgo+IEFtIDExLjA4
LjIwIHVtIDExOjI0IHNjaHJpZWIgQ2hyaXN0aWFuIEvDtm5pZzoKPj4gVGhpcyByZXZlcnRzIGNv
bW1pdCAyZGRlZjE3Njc4YmMyZWExZDIwNTE3ZGQyYjRlZDRhYTk2N2ZmYThiLgo+Pgo+PiBBcyBp
dCB0dXJuZWQgb3V0IFZNV0dGWCBuZWVkcyBhIG11Y2ggd2lkZXIgYXVkaXQgdG8gZml4IHRoaXMu
Cj4+Cj4+IFNpZ25lZC1vZmYtYnk6IENocmlzdGlhbiBLw7ZuaWcgPGNocmlzdGlhbi5rb2VuaWdA
YW1kLmNvbT4KPgo+IERhcmUgdG8gZ2l2ZSBtZSBhbiByYiBmb3IgdGhpcz8gSSBhbHJlYWR5IHRl
c3RlZCBvbiBhbWRncHUgYW5kIGl0IAo+IHNob3VsZCBiZSBmaXhpbmcgdGhlIFZNV0dGWCBwcm9i
bGVtcyB3ZSBjdXJyZW50bHkgaGF2ZS4KClVwcywgdGhhdCB3YXMgeW91ciBvbGQgQU1EIGFkZHJl
c3MgOikKClNvIG9uY2UgbW9yZSB3aXRoIGZlZWxpbmcsCkNocmlzdGlhbi4KCj4KPiBUaGFua3Ms
Cj4gQ2hyaXN0aWFuLgo+Cj4+IC0tLQo+PiDCoCBkcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9iby5j
wqDCoMKgwqDCoCB8IDE5ICsrKysrKysrKysrKysrKystLS0KPj4gwqAgZHJpdmVycy9ncHUvZHJt
L3R0bS90dG1fYm9fdXRpbC5jIHzCoCA3ICsrLS0tLS0KPj4gwqAgZHJpdmVycy9ncHUvZHJtL3R0
bS90dG1fYm9fdm0uY8KgwqAgfMKgIDUgLS0tLS0KPj4gwqAgZHJpdmVycy9ncHUvZHJtL3R0bS90
dG1fdHQuY8KgwqDCoMKgwqAgfMKgIDEgKwo+PiDCoCA0IGZpbGVzIGNoYW5nZWQsIDE5IGluc2Vy
dGlvbnMoKyksIDEzIGRlbGV0aW9ucygtKQo+Pgo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL3R0bS90dG1fYm8uYyBiL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2JvLmMKPj4gaW5kZXgg
YWQwOTMyOWI2MmQzLi40MjM4NmJkYTMyZmUgMTAwNjQ0Cj4+IC0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS90dG0vdHRtX2JvLmMKPj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm8uYwo+PiBA
QCAtNjU2LDcgKzY1Niw3IEBAIHN0YXRpYyBpbnQgdHRtX2JvX2V2aWN0KHN0cnVjdCB0dG1fYnVm
ZmVyX29iamVjdCAKPj4gKmJvLAo+PiDCoMKgwqDCoMKgwqDCoMKgwqAgdHRtX2JvX3dhaXQoYm8s
IGZhbHNlLCBmYWxzZSk7Cj4+IMKgIMKgwqDCoMKgwqDCoMKgwqDCoCB0dG1fYm9fY2xlYW51cF9t
ZW10eXBlX3VzZShibyk7Cj4+IC3CoMKgwqDCoMKgwqDCoCByZXR1cm4gMDsKPj4gK8KgwqDCoMKg
wqDCoMKgIHJldHVybiB0dG1fdHRfY3JlYXRlKGJvLCBmYWxzZSk7Cj4+IMKgwqDCoMKgwqAgfQo+
PiDCoCDCoMKgwqDCoMKgIGV2aWN0X21lbSA9IGJvLT5tZW07Cj4+IEBAIC0xMTkxLDggKzExOTEs
MTMgQEAgaW50IHR0bV9ib192YWxpZGF0ZShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+
PiDCoMKgwqDCoMKgIC8qCj4+IMKgwqDCoMKgwqDCoCAqIFJlbW92ZSB0aGUgYmFja2luZyBzdG9y
ZSBpZiBubyBwbGFjZW1lbnQgaXMgZ2l2ZW4uCj4+IMKgwqDCoMKgwqDCoCAqLwo+PiAtwqDCoMKg
IGlmICghcGxhY2VtZW50LT5udW1fcGxhY2VtZW50ICYmICFwbGFjZW1lbnQtPm51bV9idXN5X3Bs
YWNlbWVudCkKPj4gLcKgwqDCoMKgwqDCoMKgIHJldHVybiB0dG1fYm9fcGlwZWxpbmVfZ3V0dGlu
Zyhibyk7Cj4+ICvCoMKgwqAgaWYgKCFwbGFjZW1lbnQtPm51bV9wbGFjZW1lbnQgJiYgIXBsYWNl
bWVudC0+bnVtX2J1c3lfcGxhY2VtZW50KSB7Cj4+ICvCoMKgwqDCoMKgwqDCoCByZXQgPSB0dG1f
Ym9fcGlwZWxpbmVfZ3V0dGluZyhibyk7Cj4+ICvCoMKgwqDCoMKgwqDCoCBpZiAocmV0KQo+PiAr
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoCByZXR1cm4gcmV0Owo+PiArCj4+ICvCoMKgwqDCoMKgwqDC
oCByZXR1cm4gdHRtX3R0X2NyZWF0ZShibywgZmFsc2UpOwo+PiArwqDCoMKgIH0KPj4gwqAgwqDC
oMKgwqDCoCAvKgo+PiDCoMKgwqDCoMKgwqAgKiBDaGVjayB3aGV0aGVyIHdlIG5lZWQgdG8gbW92
ZSBidWZmZXIuCj4+IEBAIC0xMjA5LDYgKzEyMTQsMTQgQEAgaW50IHR0bV9ib192YWxpZGF0ZShz
dHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+PiDCoMKgwqDCoMKgwqDCoMKgwqAgdHRtX2Zs
YWdfbWFza2VkKCZiby0+bWVtLnBsYWNlbWVudCwgbmV3X2ZsYWdzLAo+PiDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgIH5UVE1fUExfTUFTS19NRU1UWVBFKTsKPj4gwqDCoMKgwqDC
oCB9Cj4+ICvCoMKgwqAgLyoKPj4gK8KgwqDCoMKgICogV2UgbWlnaHQgbmVlZCB0byBhZGQgYSBU
VE0uCj4+ICvCoMKgwqDCoCAqLwo+PiArwqDCoMKgIGlmIChiby0+bWVtLm1lbV90eXBlID09IFRU
TV9QTF9TWVNURU0gJiYgYm8tPnR0bSA9PSBOVUxMKSB7Cj4+ICvCoMKgwqDCoMKgwqDCoCByZXQg
PSB0dG1fdHRfY3JlYXRlKGJvLCB0cnVlKTsKPj4gK8KgwqDCoMKgwqDCoMKgIGlmIChyZXQpCj4+
ICvCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIHJldHVybiByZXQ7Cj4+ICvCoMKgwqAgfQo+PiDCoMKg
wqDCoMKgIHJldHVybiAwOwo+PiDCoCB9Cj4+IMKgIEVYUE9SVF9TWU1CT0wodHRtX2JvX3ZhbGlk
YXRlKTsKPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2JvX3V0aWwuYyAK
Pj4gYi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9ib191dGlsLmMKPj4gaW5kZXggNDk2MTU4YWNk
NWI5Li43NjM3NmRjNzFmMjUgMTAwNjQ0Cj4+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRt
X2JvX3V0aWwuYwo+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9ib191dGlsLmMKPj4g
QEAgLTUzMSwxNSArNTMxLDEyIEBAIHN0YXRpYyBpbnQgdHRtX2JvX2ttYXBfdHRtKHN0cnVjdCAK
Pj4gdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAo+PiDCoMKgwqDCoMKgwqDCoMKgwqAgLmludGVycnVw
dGlibGUgPSBmYWxzZSwKPj4gwqDCoMKgwqDCoMKgwqDCoMKgIC5ub193YWl0X2dwdSA9IGZhbHNl
Cj4+IMKgwqDCoMKgwqAgfTsKPj4gLcKgwqDCoCBzdHJ1Y3QgdHRtX3R0ICp0dG07Cj4+ICvCoMKg
wqAgc3RydWN0IHR0bV90dCAqdHRtID0gYm8tPnR0bTsKPj4gwqDCoMKgwqDCoCBwZ3Byb3RfdCBw
cm90Owo+PiDCoMKgwqDCoMKgIGludCByZXQ7Cj4+IMKgIC3CoMKgwqAgcmV0ID0gdHRtX3R0X2Ny
ZWF0ZShibywgdHJ1ZSk7Cj4+IC3CoMKgwqAgaWYgKHJldCkKPj4gLcKgwqDCoMKgwqDCoMKgIHJl
dHVybiByZXQ7Cj4+ICvCoMKgwqAgQlVHX09OKCF0dG0pOwo+PiDCoCAtwqDCoMKgIHR0bSA9IGJv
LT50dG07Cj4+IMKgwqDCoMKgwqAgcmV0ID0gdHRtX3R0X3BvcHVsYXRlKHR0bSwgJmN0eCk7Cj4+
IMKgwqDCoMKgwqAgaWYgKHJldCkKPj4gwqDCoMKgwqDCoMKgwqDCoMKgIHJldHVybiByZXQ7Cj4+
IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9ib192bS5jIAo+PiBiL2RyaXZl
cnMvZ3B1L2RybS90dG0vdHRtX2JvX3ZtLmMKPj4gaW5kZXggYmEyZThiZDE5OGFkLi5lOTBjNWM4
MDY2NDUgMTAwNjQ0Cj4+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2JvX3ZtLmMKPj4g
KysrIGIvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm9fdm0uYwo+PiBAQCAtMzQ3LDExICszNDcs
NiBAQCB2bV9mYXVsdF90IHR0bV9ib192bV9mYXVsdF9yZXNlcnZlZChzdHJ1Y3QgCj4+IHZtX2Zh
dWx0ICp2bWYsCj4+IMKgIMKgwqDCoMKgwqDCoMKgwqDCoCB9Owo+PiDCoCAtwqDCoMKgwqDCoMKg
wqAgaWYgKHR0bV90dF9jcmVhdGUoYm8sIHRydWUpKSB7Cj4+IC3CoMKgwqDCoMKgwqDCoMKgwqDC
oMKgIHJldCA9IFZNX0ZBVUxUX09PTTsKPj4gLcKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgZ290byBv
dXRfaW9fdW5sb2NrOwo+PiAtwqDCoMKgwqDCoMKgwqAgfQo+PiAtCj4+IMKgwqDCoMKgwqDCoMKg
wqDCoCB0dG0gPSBiby0+dHRtOwo+PiDCoMKgwqDCoMKgwqDCoMKgwqAgaWYgKHR0bV90dF9wb3B1
bGF0ZShiby0+dHRtLCAmY3R4KSkgewo+PiDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCByZXQg
PSBWTV9GQVVMVF9PT007Cj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV90
dC5jIGIvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fdHQuYwo+PiBpbmRleCBiZGQ2MTY5Y2VmMTMu
LjA1YzkxNDdhYzZkMyAxMDA2NDQKPj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fdHQu
Ywo+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV90dC5jCj4+IEBAIC03MCw2ICs3MCw3
IEBAIGludCB0dG1fdHRfY3JlYXRlKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sIAo+PiBi
b29sIHplcm9fYWxsb2MpCj4+IMKgwqDCoMKgwqDCoMKgwqDCoCBwYWdlX2ZsYWdzIHw9IFRUTV9Q
QUdFX0ZMQUdfU0c7Cj4+IMKgwqDCoMKgwqDCoMKgwqDCoCBicmVhazsKPj4gwqDCoMKgwqDCoCBk
ZWZhdWx0Ogo+PiArwqDCoMKgwqDCoMKgwqAgYm8tPnR0bSA9IE5VTEw7Cj4+IMKgwqDCoMKgwqDC
oMKgwqDCoCBwcl9lcnIoIklsbGVnYWwgYnVmZmVyIG9iamVjdCB0eXBlXG4iKTsKPj4gwqDCoMKg
wqDCoMKgwqDCoMKgIHJldHVybiAtRUlOVkFMOwo+PiDCoMKgwqDCoMKgIH0KPgoKX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcg
bGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRl
c2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVsCg==
