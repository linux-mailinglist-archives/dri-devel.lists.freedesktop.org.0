Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 27A191E464
	for <lists+dri-devel@lfdr.de>; Wed, 15 May 2019 00:17:50 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 61CA289338;
	Tue, 14 May 2019 22:17:47 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-pg1-x549.google.com (mail-pg1-x549.google.com
 [IPv6:2607:f8b0:4864:20::549])
 by gabe.freedesktop.org (Postfix) with ESMTPS id ECE8389338
 for <dri-devel@lists.freedesktop.org>; Tue, 14 May 2019 22:17:45 +0000 (UTC)
Received: by mail-pg1-x549.google.com with SMTP id n4so412709pgm.19
 for <dri-devel@lists.freedesktop.org>; Tue, 14 May 2019 15:17:45 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:date:in-reply-to:message-id:mime-version
 :references:subject:from:to:cc;
 bh=IHdefn2HnbVTqm8pXc4Kr+mXMwKH04QZSFtDwfbj+ZY=;
 b=igbdOah2+TdrSuMBqdQR8EHAAlRBA9ZFBguNUcR27P3ExHTY8FqxLtrQi4x8LkDlN1
 NIePTAJ+jIZg8ZH1FYklkTci3B4QQ1DdCHn6pSQ1FR6dYezFEzz+56yhgPhtKwvzRR1v
 Hj84fbZCXFRcYcZ5ZkloMpRDnhdZ6glM/Pe3iWDXP7eJM6I+trmpYj/Mc5PKkhFnUPIo
 8XZWrZWrg/jnfm5OOzE1q+Zw45ApZHwZcRKbStXuZq9MtVW1hDFQYAATkWyvggN2C+iV
 EX/ZUSCJ9uKKNCcdDydylXLaR+qLIirlXCMYJs+5xzJlc6siSCBSDEPbu3tTbNjTD+hn
 Pu4A==
X-Gm-Message-State: APjAAAWX/oe4FfFflD5lOqx6MsURSm7ojk+LsB/Vxs8FzetuWG10TUrO
 fDYlhUUL5hx4/olAqY9WWrw+c123B0k7pAolwMLckQ==
X-Google-Smtp-Source: APXvYqwwOZL+vO0pKRaycPXEr6yF0jBOGOhyeK9uFlX/fknPEMA7Yb/LDetNI/3vltubGvRVZcRLifaho1fn2wBLynKnHA==
X-Received: by 2002:a63:2b41:: with SMTP id r62mr40613702pgr.403.1557872265213; 
 Tue, 14 May 2019 15:17:45 -0700 (PDT)
Date: Tue, 14 May 2019 15:16:54 -0700
In-Reply-To: <20190514221711.248228-1-brendanhiggins@google.com>
Message-Id: <20190514221711.248228-2-brendanhiggins@google.com>
Mime-Version: 1.0
References: <20190514221711.248228-1-brendanhiggins@google.com>
X-Mailer: git-send-email 2.21.0.1020.gf2820cf01a-goog
Subject: [PATCH v4 01/18] kunit: test: add KUnit test runner core
From: Brendan Higgins <brendanhiggins@google.com>
To: frowand.list@gmail.com, gregkh@linuxfoundation.org, jpoimboe@redhat.com, 
 keescook@google.com, kieran.bingham@ideasonboard.com, mcgrof@kernel.org, 
 peterz@infradead.org, robh@kernel.org, sboyd@kernel.org, shuah@kernel.org, 
 tytso@mit.edu, yamada.masahiro@socionext.com
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=google.com; s=20161025;
 h=date:in-reply-to:message-id:mime-version:references:subject:from:to
 :cc;
 bh=IHdefn2HnbVTqm8pXc4Kr+mXMwKH04QZSFtDwfbj+ZY=;
 b=E0GT7W5wX8L1t0IeCczehXFsj57f60NvmCi537+maunHBNgMuWBcrSaWmGHvvGonRk
 XWcCWO+0ag58BSDJ74oLrs6X8OnCo72mCdkLArJrPzgRQdk8wfJT7q1KBbN0WanYaLAa
 /05BKwK//hYtcV+aI5j4k0geiTaUvzqjS32tuyaeA5flHTE6PSFqFcWtaOIMym9HMQne
 6J2gT4VF0SdbsfARS+x+HzQfTo6ndgCiFO8gSfJBvxlJy4dROPfymCjbq0cG9fzDsOG7
 /sV35ui1tdkIW37JMZ2KVcYyC4L2xrKH0ZdVIaCEVtMjImkEJ6j2JG3M+xuPm/FpOHCf
 Egmg==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: pmladek@suse.com, linux-doc@vger.kernel.org, amir73il@gmail.com,
 Brendan Higgins <brendanhiggins@google.com>, dri-devel@lists.freedesktop.org,
 Alexander.Levin@microsoft.com, linux-kselftest@vger.kernel.org,
 linux-nvdimm@lists.01.org, khilman@baylibre.com, knut.omang@oracle.com,
 wfg@linux.intel.com, joel@jms.id.au, rientjes@google.com, jdike@addtoit.com,
 dan.carpenter@oracle.com, devicetree@vger.kernel.org,
 linux-kbuild@vger.kernel.org, Tim.Bird@sony.com, linux-um@lists.infradead.org,
 rostedt@goodmis.org, julia.lawall@lip6.fr, kunit-dev@googlegroups.com,
 richard@nod.at, rdunlap@infradead.org, linux-kernel@vger.kernel.org,
 mpe@ellerman.id.au, linux-fsdevel@vger.kernel.org, logang@deltatee.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QWRkIGNvcmUgZmFjaWxpdGllcyBmb3IgZGVmaW5pbmcgdW5pdCB0ZXN0czsgdGhpcyBwcm92aWRl
cyBhIGNvbW1vbiB3YXkKdG8gZGVmaW5lIHRlc3QgY2FzZXMsIGZ1bmN0aW9ucyB0aGF0IGV4ZWN1
dGUgY29kZSB3aGljaCBpcyB1bmRlciB0ZXN0CmFuZCBkZXRlcm1pbmUgd2hldGhlciB0aGUgY29k
ZSB1bmRlciB0ZXN0IGJlaGF2ZXMgYXMgZXhwZWN0ZWQ7IHRoaXMgYWxzbwpwcm92aWRlcyBhIHdh
eSB0byBncm91cCB0b2dldGhlciByZWxhdGVkIHRlc3QgY2FzZXMgaW4gdGVzdCBzdWl0ZXMgKGhl
cmUKd2UgY2FsbCB0aGVtIHRlc3RfbW9kdWxlcykuCgpKdXN0IGRlZmluZSB0ZXN0IGNhc2VzIGFu
ZCBob3cgdG8gZXhlY3V0ZSB0aGVtIGZvciBub3c7IHNldHRpbmcKZXhwZWN0YXRpb25zIG9uIGNv
ZGUgd2lsbCBiZSBkZWZpbmVkIGxhdGVyLgoKU2lnbmVkLW9mZi1ieTogQnJlbmRhbiBIaWdnaW5z
IDxicmVuZGFuaGlnZ2luc0Bnb29nbGUuY29tPgpSZXZpZXdlZC1ieTogR3JlZyBLcm9haC1IYXJ0
bWFuIDxncmVna2hAbGludXhmb3VuZGF0aW9uLm9yZz4KUmV2aWV3ZWQtYnk6IExvZ2FuIEd1bnRo
b3JwZSA8bG9nYW5nQGRlbHRhdGVlLmNvbT4KLS0tCiBpbmNsdWRlL2t1bml0L3Rlc3QuaCB8IDE2
MiArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysKIGt1bml0L0tjb25maWcgICAgICAgIHwg
IDE2ICsrKwoga3VuaXQvTWFrZWZpbGUgICAgICAgfCAgIDEgKwoga3VuaXQvdGVzdC5jICAgICAg
ICAgfCAyMjkgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKwogNCBm
aWxlcyBjaGFuZ2VkLCA0MDggaW5zZXJ0aW9ucygrKQogY3JlYXRlIG1vZGUgMTAwNjQ0IGluY2x1
ZGUva3VuaXQvdGVzdC5oCiBjcmVhdGUgbW9kZSAxMDA2NDQga3VuaXQvS2NvbmZpZwogY3JlYXRl
IG1vZGUgMTAwNjQ0IGt1bml0L01ha2VmaWxlCiBjcmVhdGUgbW9kZSAxMDA2NDQga3VuaXQvdGVz
dC5jCgpkaWZmIC0tZ2l0IGEvaW5jbHVkZS9rdW5pdC90ZXN0LmggYi9pbmNsdWRlL2t1bml0L3Rl
c3QuaApuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwMDAwMDAwLi5lNjgyZWEwZTFm
OWE1Ci0tLSAvZGV2L251bGwKKysrIGIvaW5jbHVkZS9rdW5pdC90ZXN0LmgKQEAgLTAsMCArMSwx
NjIgQEAKKy8qIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wICovCisvKgorICogQmFz
ZSB1bml0IHRlc3QgKEtVbml0KSBBUEkuCisgKgorICogQ29weXJpZ2h0IChDKSAyMDE5LCBHb29n
bGUgTExDLgorICogQXV0aG9yOiBCcmVuZGFuIEhpZ2dpbnMgPGJyZW5kYW5oaWdnaW5zQGdvb2ds
ZS5jb20+CisgKi8KKworI2lmbmRlZiBfS1VOSVRfVEVTVF9ICisjZGVmaW5lIF9LVU5JVF9URVNU
X0gKKworI2luY2x1ZGUgPGxpbnV4L3R5cGVzLmg+CisjaW5jbHVkZSA8bGludXgvc2xhYi5oPgor
CitzdHJ1Y3Qga3VuaXQ7CisKKy8qKgorICogc3RydWN0IGt1bml0X2Nhc2UgLSByZXByZXNlbnRz
IGFuIGluZGl2aWR1YWwgdGVzdCBjYXNlLgorICogQHJ1bl9jYXNlOiB0aGUgZnVuY3Rpb24gcmVw
cmVzZW50aW5nIHRoZSBhY3R1YWwgdGVzdCBjYXNlLgorICogQG5hbWU6IHRoZSBuYW1lIG9mIHRo
ZSB0ZXN0IGNhc2UuCisgKgorICogQSB0ZXN0IGNhc2UgaXMgYSBmdW5jdGlvbiB3aXRoIHRoZSBz
aWduYXR1cmUsIGBgdm9pZCAoKikoc3RydWN0IGt1bml0ICopYGAKKyAqIHRoYXQgbWFrZXMgZXhw
ZWN0YXRpb25zIChzZWUgS1VOSVRfRVhQRUNUX1RSVUUoKSkgYWJvdXQgY29kZSB1bmRlciB0ZXN0
LiBFYWNoCisgKiB0ZXN0IGNhc2UgaXMgYXNzb2NpYXRlZCB3aXRoIGEgJnN0cnVjdCBrdW5pdF9t
b2R1bGUgYW5kIHdpbGwgYmUgcnVuIGFmdGVyIHRoZQorICogbW9kdWxlJ3MgaW5pdCBmdW5jdGlv
biBhbmQgZm9sbG93ZWQgYnkgdGhlIG1vZHVsZSdzIGV4aXQgZnVuY3Rpb24uCisgKgorICogQSB0
ZXN0IGNhc2Ugc2hvdWxkIGJlIHN0YXRpYyBhbmQgc2hvdWxkIG9ubHkgYmUgY3JlYXRlZCB3aXRo
IHRoZSBLVU5JVF9DQVNFKCkKKyAqIG1hY3JvOyBhZGRpdGlvbmFsbHksIGV2ZXJ5IGFycmF5IG9m
IHRlc3QgY2FzZXMgc2hvdWxkIGJlIHRlcm1pbmF0ZWQgd2l0aCBhbgorICogZW1wdHkgdGVzdCBj
YXNlLgorICoKKyAqIEV4YW1wbGU6CisgKgorICogLi4gY29kZS1ibG9jazo6IGMKKyAqCisgKgl2
b2lkIGFkZF90ZXN0X2Jhc2ljKHN0cnVjdCBrdW5pdCAqdGVzdCkKKyAqCXsKKyAqCQlLVU5JVF9F
WFBFQ1RfRVEodGVzdCwgMSwgYWRkKDEsIDApKTsKKyAqCQlLVU5JVF9FWFBFQ1RfRVEodGVzdCwg
MiwgYWRkKDEsIDEpKTsKKyAqCQlLVU5JVF9FWFBFQ1RfRVEodGVzdCwgMCwgYWRkKC0xLCAxKSk7
CisgKgkJS1VOSVRfRVhQRUNUX0VRKHRlc3QsIElOVF9NQVgsIGFkZCgwLCBJTlRfTUFYKSk7Cisg
KgkJS1VOSVRfRVhQRUNUX0VRKHRlc3QsIC0xLCBhZGQoSU5UX01BWCwgSU5UX01JTikpOworICoJ
fQorICoKKyAqCXN0YXRpYyBzdHJ1Y3Qga3VuaXRfY2FzZSBleGFtcGxlX3Rlc3RfY2FzZXNbXSA9
IHsKKyAqCQlLVU5JVF9DQVNFKGFkZF90ZXN0X2Jhc2ljKSwKKyAqCQl7fSwKKyAqCX07CisgKgor
ICovCitzdHJ1Y3Qga3VuaXRfY2FzZSB7CisJdm9pZCAoKnJ1bl9jYXNlKShzdHJ1Y3Qga3VuaXQg
KnRlc3QpOworCWNvbnN0IGNoYXIgbmFtZVsyNTZdOworCisJLyogcHJpdmF0ZTogaW50ZXJuYWwg
dXNlIG9ubHkuICovCisJYm9vbCBzdWNjZXNzOworfTsKKworLyoqCisgKiBLVU5JVF9DQVNFIC0g
QSBoZWxwZXIgZm9yIGNyZWF0aW5nIGEgJnN0cnVjdCBrdW5pdF9jYXNlCisgKiBAdGVzdF9uYW1l
OiBhIHJlZmVyZW5jZSB0byBhIHRlc3QgY2FzZSBmdW5jdGlvbi4KKyAqCisgKiBUYWtlcyBhIHN5
bWJvbCBmb3IgYSBmdW5jdGlvbiByZXByZXNlbnRpbmcgYSB0ZXN0IGNhc2UgYW5kIGNyZWF0ZXMg
YQorICogJnN0cnVjdCBrdW5pdF9jYXNlIG9iamVjdCBmcm9tIGl0LiBTZWUgdGhlIGRvY3VtZW50
YXRpb24gZm9yCisgKiAmc3RydWN0IGt1bml0X2Nhc2UgZm9yIGFuIGV4YW1wbGUgb24gaG93IHRv
IHVzZSBpdC4KKyAqLworI2RlZmluZSBLVU5JVF9DQVNFKHRlc3RfbmFtZSkgeyAucnVuX2Nhc2Ug
PSB0ZXN0X25hbWUsIC5uYW1lID0gI3Rlc3RfbmFtZSB9CisKKy8qKgorICogc3RydWN0IGt1bml0
X21vZHVsZSAtIGRlc2NyaWJlcyBhIHJlbGF0ZWQgY29sbGVjdGlvbiBvZiAmc3RydWN0IGt1bml0
X2Nhc2Ugcy4KKyAqIEBuYW1lOiB0aGUgbmFtZSBvZiB0aGUgdGVzdC4gUHVyZWx5IGluZm9ybWF0
aW9uYWwuCisgKiBAaW5pdDogY2FsbGVkIGJlZm9yZSBldmVyeSB0ZXN0IGNhc2UuCisgKiBAZXhp
dDogY2FsbGVkIGFmdGVyIGV2ZXJ5IHRlc3QgY2FzZS4KKyAqIEB0ZXN0X2Nhc2VzOiBhIG51bGwg
dGVybWluYXRlZCBhcnJheSBvZiB0ZXN0IGNhc2VzLgorICoKKyAqIEEga3VuaXRfbW9kdWxlIGlz
IGEgY29sbGVjdGlvbiBvZiByZWxhdGVkICZzdHJ1Y3Qga3VuaXRfY2FzZSBzLCBzdWNoIHRoYXQK
KyAqIEBpbml0IGlzIGNhbGxlZCBiZWZvcmUgZXZlcnkgdGVzdCBjYXNlIGFuZCBAZXhpdCBpcyBj
YWxsZWQgYWZ0ZXIgZXZlcnkgdGVzdAorICogY2FzZSwgc2ltaWxhciB0byB0aGUgbm90aW9uIG9m
IGEgKnRlc3QgZml4dHVyZSogb3IgYSAqdGVzdCBjbGFzcyogaW4gb3RoZXIKKyAqIHVuaXQgdGVz
dGluZyBmcmFtZXdvcmtzIGxpa2UgSlVuaXQgb3IgR29vZ2xldGVzdC4KKyAqCisgKiBFdmVyeSAm
c3RydWN0IGt1bml0X2Nhc2UgbXVzdCBiZSBhc3NvY2lhdGVkIHdpdGggYSBrdW5pdF9tb2R1bGUg
Zm9yIEtVbml0IHRvCisgKiBydW4gaXQuCisgKi8KK3N0cnVjdCBrdW5pdF9tb2R1bGUgeworCWNv
bnN0IGNoYXIgbmFtZVsyNTZdOworCWludCAoKmluaXQpKHN0cnVjdCBrdW5pdCAqdGVzdCk7CisJ
dm9pZCAoKmV4aXQpKHN0cnVjdCBrdW5pdCAqdGVzdCk7CisJc3RydWN0IGt1bml0X2Nhc2UgKnRl
c3RfY2FzZXM7Cit9OworCisvKioKKyAqIHN0cnVjdCBrdW5pdCAtIHJlcHJlc2VudHMgYSBydW5u
aW5nIGluc3RhbmNlIG9mIGEgdGVzdC4KKyAqIEBwcml2OiBmb3IgdXNlciB0byBzdG9yZSBhcmJp
dHJhcnkgZGF0YS4gQ29tbW9ubHkgdXNlZCB0byBwYXNzIGRhdGEgY3JlYXRlZAorICogaW4gdGhl
IGluaXQgZnVuY3Rpb24gKHNlZSAmc3RydWN0IGt1bml0X21vZHVsZSkuCisgKgorICogVXNlZCB0
byBzdG9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY3VycmVudCBjb250ZXh0IHVuZGVyIHdoaWNo
IHRoZSB0ZXN0IGlzCisgKiBydW5uaW5nLiBNb3N0IG9mIHRoaXMgZGF0YSBpcyBwcml2YXRlIGFu
ZCBzaG91bGQgb25seSBiZSBhY2Nlc3NlZCBpbmRpcmVjdGx5CisgKiB2aWEgcHVibGljIGZ1bmN0
aW9uczsgdGhlIG9uZSBleGNlcHRpb24gaXMgQHByaXYgd2hpY2ggY2FuIGJlIHVzZWQgYnkgdGhl
CisgKiB0ZXN0IHdyaXRlciB0byBzdG9yZSBhcmJpdHJhcnkgZGF0YS4KKyAqLworc3RydWN0IGt1
bml0IHsKKwl2b2lkICpwcml2OworCisJLyogcHJpdmF0ZTogaW50ZXJuYWwgdXNlIG9ubHkuICov
CisJY29uc3QgY2hhciAqbmFtZTsgLyogUmVhZCBvbmx5IGFmdGVyIGluaXRpYWxpemF0aW9uISAq
LworCXNwaW5sb2NrX3QgbG9jazsgLyogR2F1cmRzIGFsbCBtdXRhYmxlIHRlc3Qgc3RhdGUuICov
CisJYm9vbCBzdWNjZXNzOyAvKiBQcm90ZWN0ZWQgYnkgbG9jay4gKi8KK307CisKK3ZvaWQga3Vu
aXRfaW5pdF90ZXN0KHN0cnVjdCBrdW5pdCAqdGVzdCwgY29uc3QgY2hhciAqbmFtZSk7CisKK2lu
dCBrdW5pdF9ydW5fdGVzdHMoc3RydWN0IGt1bml0X21vZHVsZSAqbW9kdWxlKTsKKworLyoqCisg
KiBtb2R1bGVfdGVzdCgpIC0gdXNlZCB0byByZWdpc3RlciBhICZzdHJ1Y3Qga3VuaXRfbW9kdWxl
IHdpdGggS1VuaXQuCisgKiBAbW9kdWxlOiBhIHN0YXRpY2FsbHkgYWxsb2NhdGVkICZzdHJ1Y3Qg
a3VuaXRfbW9kdWxlLgorICoKKyAqIFJlZ2lzdGVycyBAbW9kdWxlIHdpdGggdGhlIHRlc3QgZnJh
bWV3b3JrLiBTZWUgJnN0cnVjdCBrdW5pdF9tb2R1bGUgZm9yIG1vcmUKKyAqIGluZm9ybWF0aW9u
LgorICovCisjZGVmaW5lIG1vZHVsZV90ZXN0KG1vZHVsZSkgXAorCQlzdGF0aWMgaW50IG1vZHVs
ZV9rdW5pdF9pbml0IyNtb2R1bGUodm9pZCkgXAorCQl7IFwKKwkJCXJldHVybiBrdW5pdF9ydW5f
dGVzdHMoJm1vZHVsZSk7IFwKKwkJfSBcCisJCWxhdGVfaW5pdGNhbGwobW9kdWxlX2t1bml0X2lu
aXQjI21vZHVsZSkKKwordm9pZCBfX3ByaW50ZigzLCA0KSBrdW5pdF9wcmludGsoY29uc3QgY2hh
ciAqbGV2ZWwsCisJCQkJIGNvbnN0IHN0cnVjdCBrdW5pdCAqdGVzdCwKKwkJCQkgY29uc3QgY2hh
ciAqZm10LCAuLi4pOworCisvKioKKyAqIGt1bml0X2luZm8oKSAtIFByaW50cyBhbiBJTkZPIGxl
dmVsIG1lc3NhZ2UgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IHRlc3QuCisgKiBAdGVzdDog
VGhlIHRlc3QgY29udGV4dCBvYmplY3QuCisgKiBAZm10OiBBIHByaW50aygpIHN0eWxlIGZvcm1h
dCBzdHJpbmcuCisgKgorICogUHJpbnRzIGFuIGluZm8gbGV2ZWwgbWVzc2FnZSBhc3NvY2lhdGVk
IHdpdGggdGhlIHRlc3QgbW9kdWxlIGJlaW5nIHJ1bi4gVGFrZXMKKyAqIGEgdmFyaWFibGUgbnVt
YmVyIG9mIGZvcm1hdCBwYXJhbWV0ZXJzIGp1c3QgbGlrZSBwcmludGsoKS4KKyAqLworI2RlZmlu
ZSBrdW5pdF9pbmZvKHRlc3QsIGZtdCwgLi4uKSBcCisJCWt1bml0X3ByaW50ayhLRVJOX0lORk8s
IHRlc3QsIGZtdCwgIyNfX1ZBX0FSR1NfXykKKworLyoqCisgKiBrdW5pdF93YXJuKCkgLSBQcmlu
dHMgYSBXQVJOIGxldmVsIG1lc3NhZ2UgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IHRlc3Qu
CisgKiBAdGVzdDogVGhlIHRlc3QgY29udGV4dCBvYmplY3QuCisgKiBAZm10OiBBIHByaW50aygp
IHN0eWxlIGZvcm1hdCBzdHJpbmcuCisgKgorICogU2VlIGt1bml0X2luZm8oKS4KKyAqLworI2Rl
ZmluZSBrdW5pdF93YXJuKHRlc3QsIGZtdCwgLi4uKSBcCisJCWt1bml0X3ByaW50ayhLRVJOX1dB
Uk5JTkcsIHRlc3QsIGZtdCwgIyNfX1ZBX0FSR1NfXykKKworLyoqCisgKiBrdW5pdF9lcnIoKSAt
IFByaW50cyBhbiBFUlJPUiBsZXZlbCBtZXNzYWdlIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVu
dCB0ZXN0LgorICogQHRlc3Q6IFRoZSB0ZXN0IGNvbnRleHQgb2JqZWN0LgorICogQGZtdDogQSBw
cmludGsoKSBzdHlsZSBmb3JtYXQgc3RyaW5nLgorICoKKyAqIFNlZSBrdW5pdF9pbmZvKCkuCisg
Ki8KKyNkZWZpbmUga3VuaXRfZXJyKHRlc3QsIGZtdCwgLi4uKSBcCisJCWt1bml0X3ByaW50ayhL
RVJOX0VSUiwgdGVzdCwgZm10LCAjI19fVkFfQVJHU19fKQorCisjZW5kaWYgLyogX0tVTklUX1RF
U1RfSCAqLwpkaWZmIC0tZ2l0IGEva3VuaXQvS2NvbmZpZyBiL2t1bml0L0tjb25maWcKbmV3IGZp
bGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAwMC4uNjQ0ODAwOTJiMmMyNAotLS0gL2Rl
di9udWxsCisrKyBiL2t1bml0L0tjb25maWcKQEAgLTAsMCArMSwxNiBAQAorIworIyBLVW5pdCBi
YXNlIGNvbmZpZ3VyYXRpb24KKyMKKworbWVudSAiS1VuaXQgc3VwcG9ydCIKKworY29uZmlnIEtV
TklUCisJYm9vbCAiRW5hYmxlIHN1cHBvcnQgZm9yIHVuaXQgdGVzdHMgKEtVbml0KSIKKwloZWxw
CisJICBFbmFibGVzIHN1cHBvcnQgZm9yIGtlcm5lbCB1bml0IHRlc3RzIChLVW5pdCksIGEgbGln
aHR3ZWlnaHQgdW5pdAorCSAgdGVzdGluZyBhbmQgbW9ja2luZyBmcmFtZXdvcmsgZm9yIHRoZSBM
aW51eCBrZXJuZWwuIFRoZXNlIHRlc3RzIGFyZQorCSAgYWJsZSB0byBiZSBydW4gbG9jYWxseSBv
biBhIGRldmVsb3BlcidzIHdvcmtzdGF0aW9uIHdpdGhvdXQgYSBWTSBvcgorCSAgc3BlY2lhbCBo
YXJkd2FyZS4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHBsZWFzZSBzZWUKKwkgIERvY3VtZW50YXRp
b24va3VuaXQvCisKK2VuZG1lbnUKZGlmZiAtLWdpdCBhL2t1bml0L01ha2VmaWxlIGIva3VuaXQv
TWFrZWZpbGUKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAwMC4uNWVmZGM0
ZGVhMmMwOAotLS0gL2Rldi9udWxsCisrKyBiL2t1bml0L01ha2VmaWxlCkBAIC0wLDAgKzEgQEAK
K29iai0kKENPTkZJR19LVU5JVCkgKz0JCQl0ZXN0Lm8KZGlmZiAtLWdpdCBhL2t1bml0L3Rlc3Qu
YyBiL2t1bml0L3Rlc3QuYwpuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwMDAwMDAw
Li44NmY2NWJhMmJjZjkyCi0tLSAvZGV2L251bGwKKysrIGIva3VuaXQvdGVzdC5jCkBAIC0wLDAg
KzEsMjI5IEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMAorLyoKKyAqIEJh
c2UgdW5pdCB0ZXN0IChLVW5pdCkgQVBJLgorICoKKyAqIENvcHlyaWdodCAoQykgMjAxOSwgR29v
Z2xlIExMQy4KKyAqIEF1dGhvcjogQnJlbmRhbiBIaWdnaW5zIDxicmVuZGFuaGlnZ2luc0Bnb29n
bGUuY29tPgorICovCisKKyNpbmNsdWRlIDxsaW51eC9zY2hlZC5oPgorI2luY2x1ZGUgPGxpbnV4
L3NjaGVkL2RlYnVnLmg+CisjaW5jbHVkZSA8a3VuaXQvdGVzdC5oPgorCitzdGF0aWMgYm9vbCBr
dW5pdF9nZXRfc3VjY2VzcyhzdHJ1Y3Qga3VuaXQgKnRlc3QpCit7CisJdW5zaWduZWQgbG9uZyBm
bGFnczsKKwlib29sIHN1Y2Nlc3M7CisKKwlzcGluX2xvY2tfaXJxc2F2ZSgmdGVzdC0+bG9jaywg
ZmxhZ3MpOworCXN1Y2Nlc3MgPSB0ZXN0LT5zdWNjZXNzOworCXNwaW5fdW5sb2NrX2lycXJlc3Rv
cmUoJnRlc3QtPmxvY2ssIGZsYWdzKTsKKworCXJldHVybiBzdWNjZXNzOworfQorCitzdGF0aWMg
dm9pZCBrdW5pdF9zZXRfc3VjY2VzcyhzdHJ1Y3Qga3VuaXQgKnRlc3QsIGJvb2wgc3VjY2VzcykK
K3sKKwl1bnNpZ25lZCBsb25nIGZsYWdzOworCisJc3Bpbl9sb2NrX2lycXNhdmUoJnRlc3QtPmxv
Y2ssIGZsYWdzKTsKKwl0ZXN0LT5zdWNjZXNzID0gc3VjY2VzczsKKwlzcGluX3VubG9ja19pcnFy
ZXN0b3JlKCZ0ZXN0LT5sb2NrLCBmbGFncyk7Cit9CisKK3N0YXRpYyBpbnQga3VuaXRfdnByaW50
a19lbWl0KGludCBsZXZlbCwgY29uc3QgY2hhciAqZm10LCB2YV9saXN0IGFyZ3MpCit7CisJcmV0
dXJuIHZwcmludGtfZW1pdCgwLCBsZXZlbCwgTlVMTCwgMCwgZm10LCBhcmdzKTsKK30KKworc3Rh
dGljIGludCBrdW5pdF9wcmludGtfZW1pdChpbnQgbGV2ZWwsIGNvbnN0IGNoYXIgKmZtdCwgLi4u
KQoreworCXZhX2xpc3QgYXJnczsKKwlpbnQgcmV0OworCisJdmFfc3RhcnQoYXJncywgZm10KTsK
KwlyZXQgPSBrdW5pdF92cHJpbnRrX2VtaXQobGV2ZWwsIGZtdCwgYXJncyk7CisJdmFfZW5kKGFy
Z3MpOworCisJcmV0dXJuIHJldDsKK30KKworc3RhdGljIHZvaWQga3VuaXRfdnByaW50ayhjb25z
dCBzdHJ1Y3Qga3VuaXQgKnRlc3QsCisJCQkgIGNvbnN0IGNoYXIgKmxldmVsLAorCQkJICBzdHJ1
Y3QgdmFfZm9ybWF0ICp2YWYpCit7CisJa3VuaXRfcHJpbnRrX2VtaXQobGV2ZWxbMV0gLSAnMCcs
ICJcdCMgJXM6ICVwViIsIHRlc3QtPm5hbWUsIHZhZik7Cit9CisKK3N0YXRpYyBib29sIGt1bml0
X2hhc19wcmludGVkX3RhcF92ZXJzaW9uOworCitzdGF0aWMgdm9pZCBrdW5pdF9wcmludF90YXBf
dmVyc2lvbih2b2lkKQoreworCWlmICgha3VuaXRfaGFzX3ByaW50ZWRfdGFwX3ZlcnNpb24pIHsK
KwkJa3VuaXRfcHJpbnRrX2VtaXQoTE9HTEVWRUxfSU5GTywgIlRBUCB2ZXJzaW9uIDE0XG4iKTsK
KwkJa3VuaXRfaGFzX3ByaW50ZWRfdGFwX3ZlcnNpb24gPSB0cnVlOworCX0KK30KKworc3RhdGlj
IHNpemVfdCBrdW5pdF90ZXN0X2Nhc2VzX2xlbihzdHJ1Y3Qga3VuaXRfY2FzZSAqdGVzdF9jYXNl
cykKK3sKKwlzdHJ1Y3Qga3VuaXRfY2FzZSAqdGVzdF9jYXNlOworCXNpemVfdCBsZW4gPSAwOwor
CisJZm9yICh0ZXN0X2Nhc2UgPSB0ZXN0X2Nhc2VzOyB0ZXN0X2Nhc2UtPnJ1bl9jYXNlOyB0ZXN0
X2Nhc2UrKykKKwkJbGVuKys7CisKKwlyZXR1cm4gbGVuOworfQorCitzdGF0aWMgdm9pZCBrdW5p
dF9wcmludF9zdWJ0ZXN0X3N0YXJ0KHN0cnVjdCBrdW5pdF9tb2R1bGUgKm1vZHVsZSkKK3sKKwlr
dW5pdF9wcmludF90YXBfdmVyc2lvbigpOworCWt1bml0X3ByaW50a19lbWl0KExPR0xFVkVMX0lO
Rk8sICJcdCMgU3VidGVzdDogJXNcbiIsIG1vZHVsZS0+bmFtZSk7CisJa3VuaXRfcHJpbnRrX2Vt
aXQoTE9HTEVWRUxfSU5GTywKKwkJCSAgIlx0MS4uJXpkXG4iLAorCQkJICBrdW5pdF90ZXN0X2Nh
c2VzX2xlbihtb2R1bGUtPnRlc3RfY2FzZXMpKTsKK30KKworc3RhdGljIHZvaWQga3VuaXRfcHJp
bnRfb2tfbm90X29rKGJvb2wgc2hvdWxkX2luZGVudCwKKwkJCQkgIGJvb2wgaXNfb2ssCisJCQkJ
ICBzaXplX3QgdGVzdF9udW1iZXIsCisJCQkJICBjb25zdCBjaGFyICpkZXNjcmlwdGlvbikKK3sK
Kwljb25zdCBjaGFyICppbmRlbnQsICpva19ub3Rfb2s7CisKKwlpZiAoc2hvdWxkX2luZGVudCkK
KwkJaW5kZW50ID0gIlx0IjsKKwllbHNlCisJCWluZGVudCA9ICIiOworCisJaWYgKGlzX29rKQor
CQlva19ub3Rfb2sgPSAib2siOworCWVsc2UKKwkJb2tfbm90X29rID0gIm5vdCBvayI7CisKKwlr
dW5pdF9wcmludGtfZW1pdChMT0dMRVZFTF9JTkZPLAorCQkJICAiJXMlcyAlemQgLSAlc1xuIiwK
KwkJCSAgaW5kZW50LCBva19ub3Rfb2ssIHRlc3RfbnVtYmVyLCBkZXNjcmlwdGlvbik7Cit9CisK
K3N0YXRpYyBib29sIGt1bml0X21vZHVsZV9oYXNfc3VjY2VlZGVkKHN0cnVjdCBrdW5pdF9tb2R1
bGUgKm1vZHVsZSkKK3sKKwlzdHJ1Y3Qga3VuaXRfY2FzZSAqdGVzdF9jYXNlOworCWJvb2wgc3Vj
Y2VzcyA9IHRydWU7CisKKwlmb3IgKHRlc3RfY2FzZSA9IG1vZHVsZS0+dGVzdF9jYXNlczsgdGVz
dF9jYXNlLT5ydW5fY2FzZTsgdGVzdF9jYXNlKyspCisJCWlmICghdGVzdF9jYXNlLT5zdWNjZXNz
KQorCQkJc3VjY2VzcyA9IGZhbHNlOworCisJcmV0dXJuIHN1Y2Nlc3M7Cit9CisKK3NpemVfdCBr
dW5pdF9tb2R1bGVfY291bnRlciA9IDE7CisKK3N0YXRpYyB2b2lkIGt1bml0X3ByaW50X3N1YnRl
c3RfZW5kKHN0cnVjdCBrdW5pdF9tb2R1bGUgKm1vZHVsZSkKK3sKKwlrdW5pdF9wcmludF9va19u
b3Rfb2soZmFsc2UsCisJCQkgICAgICBrdW5pdF9tb2R1bGVfaGFzX3N1Y2NlZWRlZChtb2R1bGUp
LAorCQkJICAgICAga3VuaXRfbW9kdWxlX2NvdW50ZXIrKywKKwkJCSAgICAgIG1vZHVsZS0+bmFt
ZSk7Cit9CisKK3N0YXRpYyB2b2lkIGt1bml0X3ByaW50X3Rlc3RfY2FzZV9va19ub3Rfb2soc3Ry
dWN0IGt1bml0X2Nhc2UgKnRlc3RfY2FzZSwKKwkJCQkJICAgIHNpemVfdCB0ZXN0X251bWJlcikK
K3sKKwlrdW5pdF9wcmludF9va19ub3Rfb2sodHJ1ZSwKKwkJCSAgICAgIHRlc3RfY2FzZS0+c3Vj
Y2VzcywKKwkJCSAgICAgIHRlc3RfbnVtYmVyLAorCQkJICAgICAgdGVzdF9jYXNlLT5uYW1lKTsK
K30KKwordm9pZCBrdW5pdF9pbml0X3Rlc3Qoc3RydWN0IGt1bml0ICp0ZXN0LCBjb25zdCBjaGFy
ICpuYW1lKQoreworCXNwaW5fbG9ja19pbml0KCZ0ZXN0LT5sb2NrKTsKKwl0ZXN0LT5uYW1lID0g
bmFtZTsKK30KKworLyoKKyAqIEluaXRpYWxpemVzIGFuZCBydW5zIHRlc3QgY2FzZS4gRG9lcyBu
b3QgY2xlYW4gdXAgb3IgZG8gcG9zdCB2YWxpZGF0aW9ucy4KKyAqLworc3RhdGljIHZvaWQga3Vu
aXRfcnVuX2Nhc2VfaW50ZXJuYWwoc3RydWN0IGt1bml0ICp0ZXN0LAorCQkJCSAgICBzdHJ1Y3Qg
a3VuaXRfbW9kdWxlICptb2R1bGUsCisJCQkJICAgIHN0cnVjdCBrdW5pdF9jYXNlICp0ZXN0X2Nh
c2UpCit7CisJaW50IHJldDsKKworCWlmIChtb2R1bGUtPmluaXQpIHsKKwkJcmV0ID0gbW9kdWxl
LT5pbml0KHRlc3QpOworCQlpZiAocmV0KSB7CisJCQlrdW5pdF9lcnIodGVzdCwgImZhaWxlZCB0
byBpbml0aWFsaXplOiAlZFxuIiwgcmV0KTsKKwkJCWt1bml0X3NldF9zdWNjZXNzKHRlc3QsIGZh
bHNlKTsKKwkJCXJldHVybjsKKwkJfQorCX0KKworCXRlc3RfY2FzZS0+cnVuX2Nhc2UodGVzdCk7
Cit9CisKKy8qCisgKiBQZXJmb3JtcyBwb3N0IHZhbGlkYXRpb25zIGFuZCBjbGVhbnVwIGFmdGVy
IGEgdGVzdCBjYXNlIHdhcyBydW4uCisgKiBYWFg6IFNob3VsZCBPTkxZIEJFIENBTExFRCBBRlRF
UiBrdW5pdF9ydW5fY2FzZV9pbnRlcm5hbCEKKyAqLworc3RhdGljIHZvaWQga3VuaXRfcnVuX2Nh
c2VfY2xlYW51cChzdHJ1Y3Qga3VuaXQgKnRlc3QsCisJCQkJICAgc3RydWN0IGt1bml0X21vZHVs
ZSAqbW9kdWxlLAorCQkJCSAgIHN0cnVjdCBrdW5pdF9jYXNlICp0ZXN0X2Nhc2UpCit7CisJaWYg
KG1vZHVsZS0+ZXhpdCkKKwkJbW9kdWxlLT5leGl0KHRlc3QpOworfQorCisvKgorICogUGVyZm9y
bXMgYWxsIGxvZ2ljIHRvIHJ1biBhIHRlc3QgY2FzZS4KKyAqLworc3RhdGljIHZvaWQga3VuaXRf
cnVuX2Nhc2Uoc3RydWN0IGt1bml0X21vZHVsZSAqbW9kdWxlLAorCQkJICAgc3RydWN0IGt1bml0
X2Nhc2UgKnRlc3RfY2FzZSkKK3sKKwlzdHJ1Y3Qga3VuaXQgdGVzdDsKKworCWt1bml0X2luaXRf
dGVzdCgmdGVzdCwgdGVzdF9jYXNlLT5uYW1lKTsKKwlrdW5pdF9zZXRfc3VjY2VzcygmdGVzdCwg
dHJ1ZSk7CisKKwlrdW5pdF9ydW5fY2FzZV9pbnRlcm5hbCgmdGVzdCwgbW9kdWxlLCB0ZXN0X2Nh
c2UpOworCWt1bml0X3J1bl9jYXNlX2NsZWFudXAoJnRlc3QsIG1vZHVsZSwgdGVzdF9jYXNlKTsK
KworCXRlc3RfY2FzZS0+c3VjY2VzcyA9IGt1bml0X2dldF9zdWNjZXNzKCZ0ZXN0KTsKK30KKwor
aW50IGt1bml0X3J1bl90ZXN0cyhzdHJ1Y3Qga3VuaXRfbW9kdWxlICptb2R1bGUpCit7CisJc3Ry
dWN0IGt1bml0X2Nhc2UgKnRlc3RfY2FzZTsKKwlzaXplX3QgdGVzdF9jYXNlX2NvdW50ID0gMTsK
KworCWt1bml0X3ByaW50X3N1YnRlc3Rfc3RhcnQobW9kdWxlKTsKKworCWZvciAodGVzdF9jYXNl
ID0gbW9kdWxlLT50ZXN0X2Nhc2VzOyB0ZXN0X2Nhc2UtPnJ1bl9jYXNlOyB0ZXN0X2Nhc2UrKykg
eworCQlrdW5pdF9ydW5fY2FzZShtb2R1bGUsIHRlc3RfY2FzZSk7CisJCWt1bml0X3ByaW50X3Rl
c3RfY2FzZV9va19ub3Rfb2sodGVzdF9jYXNlLCB0ZXN0X2Nhc2VfY291bnQrKyk7CisJfQorCisJ
a3VuaXRfcHJpbnRfc3VidGVzdF9lbmQobW9kdWxlKTsKKworCXJldHVybiAwOworfQorCit2b2lk
IGt1bml0X3ByaW50ayhjb25zdCBjaGFyICpsZXZlbCwKKwkJICBjb25zdCBzdHJ1Y3Qga3VuaXQg
KnRlc3QsCisJCSAgY29uc3QgY2hhciAqZm10LCAuLi4pCit7CisJc3RydWN0IHZhX2Zvcm1hdCB2
YWY7CisJdmFfbGlzdCBhcmdzOworCisJdmFfc3RhcnQoYXJncywgZm10KTsKKworCXZhZi5mbXQg
PSBmbXQ7CisJdmFmLnZhID0gJmFyZ3M7CisKKwlrdW5pdF92cHJpbnRrKHRlc3QsIGxldmVsLCAm
dmFmKTsKKworCXZhX2VuZChhcmdzKTsKK30KLS0gCjIuMjEuMC4xMDIwLmdmMjgyMGNmMDFhLWdv
b2cKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1k
ZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczov
L2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
