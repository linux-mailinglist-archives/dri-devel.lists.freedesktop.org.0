Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id D3B8E615E8
	for <lists+dri-devel@lfdr.de>; Sun,  7 Jul 2019 20:26:54 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 77D4789B0C;
	Sun,  7 Jul 2019 18:26:52 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from perceval.ideasonboard.com (perceval.ideasonboard.com
 [213.167.242.64])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 356A489B0C
 for <dri-devel@lists.freedesktop.org>; Sun,  7 Jul 2019 18:26:51 +0000 (UTC)
Received: from pendragon.nordic-sky.finnair.com (unknown [38.98.37.142])
 by perceval.ideasonboard.com (Postfix) with ESMTPSA id 274DB334;
 Sun,  7 Jul 2019 20:26:28 +0200 (CEST)
From: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH 19/60] drm/panel: Add driver for the LG Philips LB035Q02 panel
Date: Sun,  7 Jul 2019 21:18:56 +0300
Message-Id: <20190707181937.6250-16-laurent.pinchart@ideasonboard.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190707181937.6250-1-laurent.pinchart@ideasonboard.com>
References: <20190707180852.5512-1-laurent.pinchart@ideasonboard.com>
 <20190707181937.6250-1-laurent.pinchart@ideasonboard.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=ideasonboard.com; s=mail; t=1562524009;
 bh=6SK+OmK5n0OPsCa/pBhIlz5icB9CYa1IqwdOY6KgTdA=;
 h=From:To:Cc:Subject:Date:In-Reply-To:References:From;
 b=fZOXEXEP0avcFp0oMM6SGyXowKf3LlTEwpJ/nADeEsL5AuzT62ZuzTeATeZAu8PaQ
 E9qANTM4GLmjgdx1N+xzVR+tACztGDP0cTyfu/yQQ3Wno+tNtSVHzTUyGmP3iKWB8M
 z3YLLZI3Q9f068eKhCH3Dp4DRuTEDZCyTAdAujPU=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Maxime Ripard <maxime.ripard@bootlin.com>, Sam Ravnborg <sam@ravnborg.org>,
 Sebastian Reichel <sebastian.reichel@collabora.com>,
 Tomi Valkeinen <tomi.valkeinen@ti.com>,
 Thierry Reding <thierry.reding@gmail.com>, Sean Paul <sean@poorly.run>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhpcyBwYW5lbCBpcyB1c2VkIG9uIHRoZSBHdW1zdGl4IE92ZXJvIFBhbG8zNS4KClNpZ25lZC1v
ZmYtYnk6IExhdXJlbnQgUGluY2hhcnQgPGxhdXJlbnQucGluY2hhcnRAaWRlYXNvbmJvYXJkLmNv
bT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvS2NvbmZpZyAgICAgICAgICAgICB8ICAgNyAr
CiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvTWFrZWZpbGUgICAgICAgICAgICB8ICAgMSArCiBkcml2
ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtbGctbGIwMzVxMDIuYyB8IDIzNSArKysrKysrKysrKysr
KysrKysrKysrCiAzIGZpbGVzIGNoYW5nZWQsIDI0MyBpbnNlcnRpb25zKCspCiBjcmVhdGUgbW9k
ZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWxnLWxiMDM1cTAyLmMKCmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvS2NvbmZpZyBiL2RyaXZlcnMvZ3B1L2RybS9w
YW5lbC9LY29uZmlnCmluZGV4IGQ5ZDkzMWFhNmUyNi4uMTg0MzEzNWNiZWIxIDEwMDY0NAotLS0g
YS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvS2NvbmZpZworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFu
ZWwvS2NvbmZpZwpAQCAtMTAzLDYgKzEwMywxMyBAQCBjb25maWcgRFJNX1BBTkVMX1NBTVNVTkdf
TEQ5MDQwCiAJZGVwZW5kcyBvbiBPRiAmJiBTUEkKIAlzZWxlY3QgVklERU9NT0RFX0hFTFBFUlMK
IAorY29uZmlnIERSTV9QQU5FTF9MR19MQjAzNVEwMgorCXRyaXN0YXRlICJMRyBMQjAzNVEwMjQ1
NzMgUkdCIHBhbmVsIgorCWRlcGVuZHMgb24gR1BJT0xJQiAmJiBPRiAmJiBTUEkKKwloZWxwCisJ
ICBTYXkgWSBoZXJlIGlmIHlvdSB3YW50IHRvIGVuYWJsZSBzdXBwb3J0IGZvciB0aGUgTEIwMzVR
MDIgUkdCIHBhbmVsLgorCSAgVG8gY29tcGlsZSB0aGlzIGRyaXZlciBhcyBhIG1vZHVsZSwgY2hv
b3NlIE0gaGVyZS4KKwogY29uZmlnIERSTV9QQU5FTF9MR19MRzQ1NzMKIAl0cmlzdGF0ZSAiTEc0
NTczIFJHQi9TUEkgcGFuZWwiCiAJZGVwZW5kcyBvbiBPRiAmJiBTUEkKZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9wYW5lbC9NYWtlZmlsZSBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9NYWtl
ZmlsZQppbmRleCBmYjBjYjNhYWE5ZTYuLjY3NWI1Njk2YzY4NSAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL3BhbmVsL01ha2VmaWxlCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9NYWtl
ZmlsZQpAQCAtOCw2ICs4LDcgQEAgb2JqLSQoQ09ORklHX0RSTV9QQU5FTF9JTElURUtfSUxJOTg4
MUMpICs9IHBhbmVsLWlsaXRlay1pbGk5ODgxYy5vCiBvYmotJChDT05GSUdfRFJNX1BBTkVMX0lO
Tk9MVVhfUDA3OVpDQSkgKz0gcGFuZWwtaW5ub2x1eC1wMDc5emNhLm8KIG9iai0kKENPTkZJR19E
Uk1fUEFORUxfSkRJX0xUMDcwTUUwNTAwMCkgKz0gcGFuZWwtamRpLWx0MDcwbWUwNTAwMC5vCiBv
YmotJChDT05GSUdfRFJNX1BBTkVMX0tJTkdESVNQTEFZX0tEMDk3RDA0KSArPSBwYW5lbC1raW5n
ZGlzcGxheS1rZDA5N2QwNC5vCitvYmotJChDT05GSUdfRFJNX1BBTkVMX0xHX0xCMDM1UTAyKSAr
PSBwYW5lbC1sZy1sYjAzNXEwMi5vCiBvYmotJChDT05GSUdfRFJNX1BBTkVMX0xHX0xHNDU3Mykg
Kz0gcGFuZWwtbGctbGc0NTczLm8KIG9iai0kKENPTkZJR19EUk1fUEFORUxfT0xJTUVYX0xDRF9P
TElOVVhJTk8pICs9IHBhbmVsLW9saW1leC1sY2Qtb2xpbnV4aW5vLm8KIG9iai0kKENPTkZJR19E
Uk1fUEFORUxfT1JJU0VURUNIX09UTTgwMDlBKSArPSBwYW5lbC1vcmlzZXRlY2gtb3RtODAwOWEu
bwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWxnLWxiMDM1cTAyLmMg
Yi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtbGctbGIwMzVxMDIuYwpuZXcgZmlsZSBtb2Rl
IDEwMDY0NAppbmRleCAwMDAwMDAwMDAwMDAuLmQ4YThjM2EzYThjNQotLS0gL2Rldi9udWxsCisr
KyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1sZy1sYjAzNXEwMi5jCkBAIC0wLDAgKzEs
MjM1IEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMAorLyoKKyAqIExHLlBo
aWxpcHMgTEIwMzVRMDIgTENEIFBhbmVsIERyaXZlcgorICoKKyAqIENvcHlyaWdodCAoQykgMjAx
OSBUZXhhcyBJbnN0cnVtZW50cyBJbmNvcnBvcmF0ZWQKKyAqCisgKiBCYXNlZCBvbiB0aGUgb21h
cGRybS1zcGVjaWZpYyBwYW5lbC1sZy1sYjAzNXEwMiBkcml2ZXIKKyAqCisgKiBDb3B5cmlnaHQg
KEMpIDIwMTMgVGV4YXMgSW5zdHJ1bWVudHMgSW5jb3Jwb3JhdGVkCisgKiBBdXRob3I6IFRvbWkg
VmFsa2VpbmVuIDx0b21pLnZhbGtlaW5lbkB0aS5jb20+CisgKgorICogQmFzZWQgb24gYSBkcml2
ZXIgYnk6IFN0ZXZlIFNha29tYW4gPHN0ZXZlQHNha29tYW4uY29tPgorICovCisKKyNpbmNsdWRl
IDxsaW51eC9ncGlvL2NvbnN1bWVyLmg+CisjaW5jbHVkZSA8bGludXgvbW9kdWxlLmg+CisjaW5j
bHVkZSA8bGludXgvc3BpL3NwaS5oPgorCisjaW5jbHVkZSA8ZHJtL2RybV9jb25uZWN0b3IuaD4K
KyNpbmNsdWRlIDxkcm0vZHJtX21vZGVzLmg+CisjaW5jbHVkZSA8ZHJtL2RybV9wYW5lbC5oPgor
CitzdHJ1Y3QgbGIwMzVxMDJfZGV2aWNlIHsKKwlzdHJ1Y3QgZHJtX3BhbmVsIHBhbmVsOworCisJ
c3RydWN0IHNwaV9kZXZpY2UgKnNwaTsKKwlzdHJ1Y3QgZ3Bpb19kZXNjICplbmFibGVfZ3BpbzsK
K307CisKKyNkZWZpbmUgdG9fbGIwMzVxMDJfZGV2aWNlKHApIGNvbnRhaW5lcl9vZihwLCBzdHJ1
Y3QgbGIwMzVxMDJfZGV2aWNlLCBwYW5lbCkKKworc3RhdGljIGludCBsYjAzNXEwMl93cml0ZShz
dHJ1Y3QgbGIwMzVxMDJfZGV2aWNlICpsY2QsIHUxNiByZWcsIHUxNiB2YWwpCit7CisJc3RydWN0
IHNwaV9tZXNzYWdlIG1zZzsKKwlzdHJ1Y3Qgc3BpX3RyYW5zZmVyIGluZGV4X3hmZXIgPSB7CisJ
CS5sZW4JCT0gMywKKwkJLmNzX2NoYW5nZQk9IDEsCisJfTsKKwlzdHJ1Y3Qgc3BpX3RyYW5zZmVy
IHZhbHVlX3hmZXIgPSB7CisJCS5sZW4JCT0gMywKKwl9OworCXU4CWJ1ZmZlclsxNl07CisKKwlz
cGlfbWVzc2FnZV9pbml0KCZtc2cpOworCisJLyogcmVnaXN0ZXIgaW5kZXggKi8KKwlidWZmZXJb
MF0gPSAweDcwOworCWJ1ZmZlclsxXSA9IDB4MDA7CisJYnVmZmVyWzJdID0gcmVnICYgMHg3ZjsK
KwlpbmRleF94ZmVyLnR4X2J1ZiA9IGJ1ZmZlcjsKKwlzcGlfbWVzc2FnZV9hZGRfdGFpbCgmaW5k
ZXhfeGZlciwgJm1zZyk7CisKKwkvKiByZWdpc3RlciB2YWx1ZSAqLworCWJ1ZmZlcls0XSA9IDB4
NzI7CisJYnVmZmVyWzVdID0gdmFsID4+IDg7CisJYnVmZmVyWzZdID0gdmFsOworCXZhbHVlX3hm
ZXIudHhfYnVmID0gYnVmZmVyICsgNDsKKwlzcGlfbWVzc2FnZV9hZGRfdGFpbCgmdmFsdWVfeGZl
ciwgJm1zZyk7CisKKwlyZXR1cm4gc3BpX3N5bmMobGNkLT5zcGksICZtc2cpOworfQorCitzdGF0
aWMgaW50IGxiMDM1cTAyX2luaXQoc3RydWN0IGxiMDM1cTAyX2RldmljZSAqbGNkKQoreworCS8q
IEluaXQgc2VxdWVuY2UgZnJvbSBwYWdlIDI4IG9mIHRoZSBsYjAzNXEwMiBzcGVjLiAqLworCXN0
YXRpYyBjb25zdCBzdHJ1Y3QgeworCQl1MTYgaW5kZXg7CisJCXUxNiB2YWx1ZTsKKwl9IGluaXRf
ZGF0YVtdID0geworCQl7IDB4MDEsIDB4NjMwMCB9LAorCQl7IDB4MDIsIDB4MDIwMCB9LAorCQl7
IDB4MDMsIDB4MDE3NyB9LAorCQl7IDB4MDQsIDB4MDRjNyB9LAorCQl7IDB4MDUsIDB4ZmZjMCB9
LAorCQl7IDB4MDYsIDB4ZTgwNiB9LAorCQl7IDB4MGEsIDB4NDAwOCB9LAorCQl7IDB4MGIsIDB4
MDAwMCB9LAorCQl7IDB4MGQsIDB4MDAzMCB9LAorCQl7IDB4MGUsIDB4MjgwMCB9LAorCQl7IDB4
MGYsIDB4MDAwMCB9LAorCQl7IDB4MTYsIDB4OWY4MCB9LAorCQl7IDB4MTcsIDB4MGEwZiB9LAor
CQl7IDB4MWUsIDB4MDBjMSB9LAorCQl7IDB4MzAsIDB4MDMwMCB9LAorCQl7IDB4MzEsIDB4MDAw
NyB9LAorCQl7IDB4MzIsIDB4MDAwMCB9LAorCQl7IDB4MzMsIDB4MDAwMCB9LAorCQl7IDB4MzQs
IDB4MDcwNyB9LAorCQl7IDB4MzUsIDB4MDAwNCB9LAorCQl7IDB4MzYsIDB4MDMwMiB9LAorCQl7
IDB4MzcsIDB4MDIwMiB9LAorCQl7IDB4M2EsIDB4MGEwZCB9LAorCQl7IDB4M2IsIDB4MDgwNiB9
LAorCX07CisKKwl1bnNpZ25lZCBpbnQgaTsKKwlpbnQgcmV0OworCisJZm9yIChpID0gMDsgaSA8
IEFSUkFZX1NJWkUoaW5pdF9kYXRhKTsgKytpKSB7CisJCXJldCA9IGxiMDM1cTAyX3dyaXRlKGxj
ZCwgaW5pdF9kYXRhW2ldLmluZGV4LAorCQkJCSAgICAgaW5pdF9kYXRhW2ldLnZhbHVlKTsKKwkJ
aWYgKHJldCA8IDApCisJCQlyZXR1cm4gcmV0OworCX0KKworCXJldHVybiAwOworfQorCitzdGF0
aWMgaW50IGxiMDM1cTAyX2Rpc2FibGUoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCit7CisJc3Ry
dWN0IGxiMDM1cTAyX2RldmljZSAqbGNkID0gdG9fbGIwMzVxMDJfZGV2aWNlKHBhbmVsKTsKKwor
CWdwaW9kX3NldF92YWx1ZV9jYW5zbGVlcChsY2QtPmVuYWJsZV9ncGlvLCAwKTsKKworCXJldHVy
biAwOworfQorCitzdGF0aWMgaW50IGxiMDM1cTAyX2VuYWJsZShzdHJ1Y3QgZHJtX3BhbmVsICpw
YW5lbCkKK3sKKwlzdHJ1Y3QgbGIwMzVxMDJfZGV2aWNlICpsY2QgPSB0b19sYjAzNXEwMl9kZXZp
Y2UocGFuZWwpOworCisJZ3Bpb2Rfc2V0X3ZhbHVlX2NhbnNsZWVwKGxjZC0+ZW5hYmxlX2dwaW8s
IDEpOworCisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlf
bW9kZSBsYjAzNXEwMl9tb2RlID0geworCS5jbG9jayA9IDY1MDAsCisJLmhkaXNwbGF5ID0gMzIw
LAorCS5oc3luY19zdGFydCA9IDMyMCArIDIwLAorCS5oc3luY19lbmQgPSAzMjAgKyAyMCArIDIs
CisJLmh0b3RhbCA9IDMyMCArIDIwICsgMiArIDY4LAorCS52ZGlzcGxheSA9IDI0MCwKKwkudnN5
bmNfc3RhcnQgPSAyNDAgKyA0LAorCS52c3luY19lbmQgPSAyNDAgKyA0ICsgMiwKKwkudnRvdGFs
ID0gMjQwICsgNCArIDIgKyAxOCwKKwkudnJlZnJlc2ggPSA2MCwKKwkudHlwZSA9IERSTV9NT0RF
X1RZUEVfRFJJVkVSIHwgRFJNX01PREVfVFlQRV9QUkVGRVJSRUQsCisJLmZsYWdzID0gRFJNX01P
REVfRkxBR19OSFNZTkMgfCBEUk1fTU9ERV9GTEFHX05WU1lOQywKK307CisKK3N0YXRpYyBpbnQg
bGIwMzVxMDJfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQoreworCXN0cnVjdCBk
cm1fY29ubmVjdG9yICpjb25uZWN0b3IgPSBwYW5lbC0+Y29ubmVjdG9yOworCXN0cnVjdCBkcm1f
ZGlzcGxheV9tb2RlICptb2RlOworCisJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShwYW5lbC0+
ZHJtLCAmbGIwMzVxMDJfbW9kZSk7CisJaWYgKCFtb2RlKQorCQlyZXR1cm4gLUVOT01FTTsKKwor
CWRybV9tb2RlX3NldF9uYW1lKG1vZGUpOworCWRybV9tb2RlX3Byb2JlZF9hZGQoY29ubmVjdG9y
LCBtb2RlKTsKKworCWNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLndpZHRoX21tID0gNzA7CisJY29u
bmVjdG9yLT5kaXNwbGF5X2luZm8uaGVpZ2h0X21tID0gNTM7CisJLyoKKwkgKiBGSVhNRTogQWNj
b3JkaW5nIHRvIHRoZSBkYXRhc2hlZXQgcGl4ZWwgZGF0YSBpcyBzYW1wbGVkIG9uIHRoZQorCSAq
IHJpc2luZyBlZGdlIG9mIHRoZSBjbG9jaywgYnV0IHRoZSBjb2RlIHJ1bm5pbmcgb24gdGhlIEd1
bXN0aXggT3Zlcm8KKwkgKiBQYWxvMzUgaW5kaWNhdGVzIHNhbXBsaW5nIG9uIHRoZSBuZWdhdGl2
ZSBlZGdlLiBUaGlzIHNob3VsZCBiZQorCSAqIHRlc3RlZCBvbiBhIHJlYWwgZGV2aWNlLgorCSAq
LworCWNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLmJ1c19mbGFncyA9IERSTV9CVVNfRkxBR19ERV9I
SUdICisJCQkJCSAgfCBEUk1fQlVTX0ZMQUdfU1lOQ19TQU1QTEVfUE9TRURHRQorCQkJCQkgIHwg
RFJNX0JVU19GTEFHX1BJWERBVEFfU0FNUExFX05FR0VER0U7CisKKwlyZXR1cm4gMTsKK30KKwor
c3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fcGFuZWxfZnVuY3MgbGIwMzVxMDJfZnVuY3MgPSB7CisJ
LmRpc2FibGUgPSBsYjAzNXEwMl9kaXNhYmxlLAorCS5lbmFibGUgPSBsYjAzNXEwMl9lbmFibGUs
CisJLmdldF9tb2RlcyA9IGxiMDM1cTAyX2dldF9tb2RlcywKK307CisKK3N0YXRpYyBpbnQgbGIw
MzVxMDJfcHJvYmUoc3RydWN0IHNwaV9kZXZpY2UgKnNwaSkKK3sKKwlzdHJ1Y3QgbGIwMzVxMDJf
ZGV2aWNlICpsY2Q7CisJaW50IHJldDsKKworCWxjZCA9IGRldm1fa3phbGxvYygmc3BpLT5kZXYs
IHNpemVvZigqbGNkKSwgR0ZQX0tFUk5FTCk7CisJaWYgKGxjZCA9PSBOVUxMKQorCQlyZXR1cm4g
LUVOT01FTTsKKworCXNwaV9zZXRfZHJ2ZGF0YShzcGksIGxjZCk7CisJbGNkLT5zcGkgPSBzcGk7
CisKKwlsY2QtPmVuYWJsZV9ncGlvID0gZGV2bV9ncGlvZF9nZXQoJnNwaS0+ZGV2LCAiZW5hYmxl
IiwgR1BJT0RfT1VUX0xPVyk7CisJaWYgKElTX0VSUihsY2QtPmVuYWJsZV9ncGlvKSkgeworCQlk
ZXZfZXJyKCZzcGktPmRldiwgImZhaWxlZCB0byBwYXJzZSBlbmFibGUgZ3Bpb1xuIik7CisJCXJl
dHVybiBQVFJfRVJSKGxjZC0+ZW5hYmxlX2dwaW8pOworCX0KKworCXJldCA9IGxiMDM1cTAyX2lu
aXQobGNkKTsKKwlpZiAocmV0IDwgMCkKKwkJcmV0dXJuIHJldDsKKworCWRybV9wYW5lbF9pbml0
KCZsY2QtPnBhbmVsKTsKKwlsY2QtPnBhbmVsLmRldiA9ICZsY2QtPnNwaS0+ZGV2OworCWxjZC0+
cGFuZWwuZnVuY3MgPSAmbGIwMzVxMDJfZnVuY3M7CisKKwlyZXR1cm4gZHJtX3BhbmVsX2FkZCgm
bGNkLT5wYW5lbCk7Cit9CisKK3N0YXRpYyBpbnQgbGIwMzVxMDJfcmVtb3ZlKHN0cnVjdCBzcGlf
ZGV2aWNlICpzcGkpCit7CisJc3RydWN0IGxiMDM1cTAyX2RldmljZSAqbGNkID0gc3BpX2dldF9k
cnZkYXRhKHNwaSk7CisKKwlkcm1fcGFuZWxfcmVtb3ZlKCZsY2QtPnBhbmVsKTsKKwlsYjAzNXEw
Ml9kaXNhYmxlKCZsY2QtPnBhbmVsKTsKKworCXJldHVybiAwOworfQorCitzdGF0aWMgY29uc3Qg
c3RydWN0IG9mX2RldmljZV9pZCBsYjAzNXEwMl9vZl9tYXRjaFtdID0geworCXsgLmNvbXBhdGli
bGUgPSAibGdwaGlsaXBzLGxiMDM1cTAyIiwgfSwKKwl7fSwKK307CisKK01PRFVMRV9ERVZJQ0Vf
VEFCTEUob2YsIGxiMDM1cTAyX29mX21hdGNoKTsKKworc3RhdGljIHN0cnVjdCBzcGlfZHJpdmVy
IGxiMDM1cTAyX2RyaXZlciA9IHsKKwkucHJvYmUJCT0gbGIwMzVxMDJfcHJvYmUsCisJLnJlbW92
ZQkJPSBsYjAzNXEwMl9yZW1vdmUsCisJLmRyaXZlcgkJPSB7CisJCS5uYW1lCT0gInBhbmVsLWxn
LWxiMDM1cTAyIiwKKwkJLm9mX21hdGNoX3RhYmxlID0gbGIwMzVxMDJfb2ZfbWF0Y2gsCisJfSwK
K307CisKK21vZHVsZV9zcGlfZHJpdmVyKGxiMDM1cTAyX2RyaXZlcik7CisKK01PRFVMRV9BTElB
Uygic3BpOmxncGhpbGlwcyxsYjAzNXEwMiIpOworTU9EVUxFX0FVVEhPUigiVG9taSBWYWxrZWlu
ZW4gPHRvbWkudmFsa2VpbmVuQHRpLmNvbT4iKTsKK01PRFVMRV9ERVNDUklQVElPTigiTEcuUGhp
bGlwcyBMQjAzNVEwMiBMQ0QgUGFuZWwgZHJpdmVyIik7CitNT0RVTEVfTElDRU5TRSgiR1BMIik7
Ci0tIApSZWdhcmRzLAoKTGF1cmVudCBQaW5jaGFydAoKX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxA
bGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxt
YW4vbGlzdGluZm8vZHJpLWRldmVs
