Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 75C0E283AE4
	for <lists+dri-devel@lfdr.de>; Mon,  5 Oct 2020 17:38:41 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id F3A3C89BA1;
	Mon,  5 Oct 2020 15:38:36 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ot1-x341.google.com (mail-ot1-x341.google.com
 [IPv6:2607:f8b0:4864:20::341])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B91A789BA1
 for <dri-devel@lists.freedesktop.org>; Mon,  5 Oct 2020 15:38:35 +0000 (UTC)
Received: by mail-ot1-x341.google.com with SMTP id m12so9045366otr.0
 for <dri-devel@lists.freedesktop.org>; Mon, 05 Oct 2020 08:38:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=ffwll.ch; s=google;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=oe6cviJ6JykXmfkQkS3Y1uQ/ROeeNck12fLcNDxd6XU=;
 b=TeRQ6T3aa3+pe7bWrIEc8ISMfpGhWECJmAt4mcwvFK+JjP0d6A96/xBePN8GtgUyT9
 H3c7YwDdRfdJ2OREuGQ1pd1tSJRI5kRlSX8xKQ5Uy8VSbuKMsTX97efNlsVYF9zt/c3c
 zj3UoMcwUIf36B383nRbsWD9UAxD43vwuAIJU=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=oe6cviJ6JykXmfkQkS3Y1uQ/ROeeNck12fLcNDxd6XU=;
 b=jLGwU+5oKUz3t8GJ2sZCcYLxjrah+p1K8jxW7LkXJbOe7326iUWlXA4SxDqUgB+GVD
 /+qbLVBSw9m6lU8g62f7xAM+xALzVlRmFmhoeF0Fs0fC1N5qlKkst7/JkL4VV5Rp98Cx
 6M+EZdMrvQv7Ey+mw65gp7qe1e2q9nU//JvLZ3HLZwr6w/d7kt+B/46gy2U0W6sIyVDV
 YOtl6kv8/aX9oCqM8hQwlLfckM6NAIQjHssUARkiquKO25pmtWGNPmpmnW/ws2kYvNz0
 sI2XEBiK5HWH4eYT/QIlR6bgJkRWk6ItAXcs1642h2Vac09c/hTCp3CQKnCVQWROPoYA
 N4gQ==
X-Gm-Message-State: AOAM532I6mhCJ6zauWaM+3efs9Wo3r+nxBIZXagz+bboWSgH4uvSQH+r
 ewUTL8Vn7Rm8241GgZkSTaIZsUMAw9UaziCPnmnwvxXfhV536Q==
X-Google-Smtp-Source: ABdhPJzPvdLUaXxkv0pzVTgsNPGG9czu5Gc0dzu84gQWJmVhxUuMCI2vxgE7yhZRL8DigQzMYjY0NxYtgyWznTqPmbs=
X-Received: by 2002:a05:6830:1e56:: with SMTP id
 e22mr11657703otj.303.1601912314775; 
 Mon, 05 Oct 2020 08:38:34 -0700 (PDT)
MIME-Version: 1.0
References: <20201005142656.79736-1-christian.koenig@amd.com>
In-Reply-To: <20201005142656.79736-1-christian.koenig@amd.com>
From: Daniel Vetter <daniel@ffwll.ch>
Date: Mon, 5 Oct 2020 17:38:23 +0200
Message-ID: <CAKMK7uGuce2YbhKv5TzruSg7UX=3MiW+oq8JZd5_oyyLOpEvJA@mail.gmail.com>
Subject: Re: [PATCH] drm/ttm: nuke ttm_bo_evict_mm and rename mgr function v2
To: =?UTF-8?Q?Christian_K=C3=B6nig?= <ckoenig.leichtzumerken@gmail.com>
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: dri-devel <dri-devel@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gTW9uLCBPY3QgNSwgMjAyMCBhdCA0OjI3IFBNIENocmlzdGlhbiBLw7ZuaWcKPGNrb2VuaWcu
bGVpY2h0enVtZXJrZW5AZ21haWwuY29tPiB3cm90ZToKPgo+IE1ha2UgaXQgbW9yZSBjbGVhciB3
aGF0IHRoZSByZXNvdXJjZSBtYW5hZ2VyIGZ1bmN0aW9uCj4gZG9lcyBhbmQgbnVrZSB0aGUgd3Jh
cHBlciBmdW5jdGlvbi4KPgo+IHYyOiBudWtlIHRoZSB3cmFwcGVyCj4KPiBTaWduZWQtb2ZmLWJ5
OiBDaHJpc3RpYW4gS8O2bmlnIDxjaHJpc3RpYW4ua29lbmlnQGFtZC5jb20+CgpSZXZpZXdlZC1i
eTogRGFuaWVsIFZldHRlciA8ZGFuaWVsLnZldHRlckBmZndsbC5jaD4KCkkgdGhpbmsgYWRkaW5n
IGEgYmRldiBiYWNrIHBvaW50ZXIgdG8gcmVzX21hbiB3b3VsZCBiZSBuaWNlIGFuZCB3b3VsZAph
bGxvdyB1cyB0byBkcm9wIHRoYXQgcG9pbnRlciB0b28sIGZvciBzb21lIHJlYWxseSBwcmV0dHkg
b2JqZWN0Cm9yaWVudGVkIGZlZWwgaW4gdGhlIGFwaSA6LSkgQnV0IG1heWJlIGZvbGxvdyB1cCBw
YXRjaC4KLURhbmllbAoKPiAtLS0KPiAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1
X2RlYnVnZnMuYyAgIHwgIDUgKysrKy0KPiAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1k
Z3B1X2d0dF9tZ3IuYyAgIHwgIDIgKy0KPiAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1k
Z3B1X29iamVjdC5jICAgIHwgIDYgKysrKystCj4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2FtZGdwdV92cmFtX21nci5jICB8ICAyICstCj4gIGRyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25v
dXZlYXVfZHJtLmMgICAgICAgICB8ICA1ICsrKystCj4gIGRyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1
L25vdXZlYXVfdHRtLmMgICAgICAgICB8ICA0ICsrLS0KPiAgZHJpdmVycy9ncHUvZHJtL3F4bC9x
eGxfb2JqZWN0LmMgICAgICAgICAgICAgIHwgMTAgKysrKysrKystLQo+ICBkcml2ZXJzL2dwdS9k
cm0vcmFkZW9uL3JhZGVvbl9vYmplY3QuYyAgICAgICAgfCAgNiArKysrKy0KPiAgZHJpdmVycy9n
cHUvZHJtL3R0bS90dG1fYm8uYyAgICAgICAgICAgICAgICAgIHwgMTggLS0tLS0tLS0tLS0tLS0t
LS0KPiAgZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fcmFuZ2VfbWFuYWdlci5jICAgICAgIHwgIDIg
Ky0KPiAgZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fcmVzb3VyY2UuYyAgICAgICAgICAgIHwgMTAg
KysrKystLS0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9kcnYuYyAgICAgICAg
ICAgfCAxMiArKysrKysrKy0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9nbXJp
ZF9tYW5hZ2VyLmMgfCAgMiArLQo+ICBkcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF90aHAu
YyAgICAgICAgICAgfCAgMiArLQo+ICBpbmNsdWRlL2RybS90dG0vdHRtX2JvX2FwaS5oICAgICAg
ICAgICAgICAgICAgfCAyMCAtLS0tLS0tLS0tLS0tLS0tLS0tCj4gIGluY2x1ZGUvZHJtL3R0bS90
dG1fcmVzb3VyY2UuaCAgICAgICAgICAgICAgICB8ICA0ICsrLS0KPiAgMTYgZmlsZXMgY2hhbmdl
ZCwgNDkgaW5zZXJ0aW9ucygrKSwgNjEgZGVsZXRpb25zKC0pCj4KPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RlYnVnZnMuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV9kZWJ1Z2ZzLmMKPiBpbmRleCBhYmUwYzI3MjllMWMuLmE1ZTA4
ZGM1NGU0YSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
ZGVidWdmcy5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RlYnVn
ZnMuYwo+IEBAIC0xMzE5LDYgKzEzMTksNyBAQCBzdGF0aWMgaW50IGFtZGdwdV9kZWJ1Z2ZzX2V2
aWN0X2d0dChzdHJ1Y3Qgc2VxX2ZpbGUgKm0sIHZvaWQgKmRhdGEpCj4gICAgICAgICBzdHJ1Y3Qg
ZHJtX2luZm9fbm9kZSAqbm9kZSA9IChzdHJ1Y3QgZHJtX2luZm9fbm9kZSAqKW0tPnByaXZhdGU7
Cj4gICAgICAgICBzdHJ1Y3QgZHJtX2RldmljZSAqZGV2ID0gbm9kZS0+bWlub3ItPmRldjsKPiAg
ICAgICAgIHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gZHJtX3RvX2FkZXYoZGV2KTsKPiAr
ICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdlciAqbWFuOwo+ICAgICAgICAgaW50IHI7
Cj4KPiAgICAgICAgIHIgPSBwbV9ydW50aW1lX2dldF9zeW5jKGRldi0+ZGV2KTsKPiBAQCAtMTMy
Nyw3ICsxMzI4LDkgQEAgc3RhdGljIGludCBhbWRncHVfZGVidWdmc19ldmljdF9ndHQoc3RydWN0
IHNlcV9maWxlICptLCB2b2lkICpkYXRhKQo+ICAgICAgICAgICAgICAgICByZXR1cm4gcjsKPiAg
ICAgICAgIH0KPgo+IC0gICAgICAgc2VxX3ByaW50ZihtLCAiKCVkKVxuIiwgdHRtX2JvX2V2aWN0
X21tKCZhZGV2LT5tbWFuLmJkZXYsIFRUTV9QTF9UVCkpOwo+ICsgICAgICAgbWFuID0gdHRtX21h
bmFnZXJfdHlwZSgmYWRldi0+bW1hbi5iZGV2LCBUVE1fUExfVFQpOwo+ICsgICAgICAgciA9IHR0
bV9yZXNvdXJjZV9tYW5hZ2VyX2V2aWN0X2FsbCgmYWRldi0+bW1hbi5iZGV2LCBtYW4pOwo+ICsg
ICAgICAgc2VxX3ByaW50ZihtLCAiKCVkKVxuIiwgcik7Cj4KPiAgICAgICAgIHBtX3J1bnRpbWVf
bWFya19sYXN0X2J1c3koZGV2LT5kZXYpOwo+ICAgICAgICAgcG1fcnVudGltZV9wdXRfYXV0b3N1
c3BlbmQoZGV2LT5kZXYpOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9hbWRncHVfZ3R0X21nci5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2d0
dF9tZ3IuYwo+IGluZGV4IGYyMDNlNGE2YTNmMi4uMTcyMTczOWRlZjg0IDEwMDY0NAo+IC0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9ndHRfbWdyLmMKPiArKysgYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ3R0X21nci5jCj4gQEAgLTEzNiw3ICsxMzYs
NyBAQCB2b2lkIGFtZGdwdV9ndHRfbWdyX2Zpbmkoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYp
Cj4KPiAgICAgICAgIHR0bV9yZXNvdXJjZV9tYW5hZ2VyX3NldF91c2VkKG1hbiwgZmFsc2UpOwo+
Cj4gLSAgICAgICByZXQgPSB0dG1fcmVzb3VyY2VfbWFuYWdlcl9mb3JjZV9saXN0X2NsZWFuKCZh
ZGV2LT5tbWFuLmJkZXYsIG1hbik7Cj4gKyAgICAgICByZXQgPSB0dG1fcmVzb3VyY2VfbWFuYWdl
cl9ldmljdF9hbGwoJmFkZXYtPm1tYW4uYmRldiwgbWFuKTsKPiAgICAgICAgIGlmIChyZXQpCj4g
ICAgICAgICAgICAgICAgIHJldHVybjsKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHVfb2JqZWN0LmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9h
bWRncHVfb2JqZWN0LmMKPiBpbmRleCA5NjRmOTUxMmRkNmUuLjFhYTUxNjQyOWM4MCAxMDA2NDQK
PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfb2JqZWN0LmMKPiArKysg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfb2JqZWN0LmMKPiBAQCAtMTAxOSw2
ICsxMDE5LDggQEAgdm9pZCBhbWRncHVfYm9fdW5waW4oc3RydWN0IGFtZGdwdV9ibyAqYm8pCj4g
ICAqLwo+ICBpbnQgYW1kZ3B1X2JvX2V2aWN0X3ZyYW0oc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFk
ZXYpCj4gIHsKPiArICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdlciAqbWFuOwo+ICsK
PiAgICAgICAgIC8qIGxhdGUgMi42LjMzIGZpeCBJR1AgaGliZXJuYXRlIC0gd2UgbmVlZCBwbSBv
cHMgdG8gZG8gdGhpcyBjb3JyZWN0ICovCj4gICNpZm5kZWYgQ09ORklHX0hJQkVSTkFUSU9OCj4g
ICAgICAgICBpZiAoYWRldi0+ZmxhZ3MgJiBBTURfSVNfQVBVKSB7Cj4gQEAgLTEwMjYsNyArMTAy
OCw5IEBAIGludCBhbWRncHVfYm9fZXZpY3RfdnJhbShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRl
dikKPiAgICAgICAgICAgICAgICAgcmV0dXJuIDA7Cj4gICAgICAgICB9Cj4gICNlbmRpZgo+IC0g
ICAgICAgcmV0dXJuIHR0bV9ib19ldmljdF9tbSgmYWRldi0+bW1hbi5iZGV2LCBUVE1fUExfVlJB
TSk7Cj4gKwo+ICsgICAgICAgbWFuID0gdHRtX21hbmFnZXJfdHlwZSgmYWRldi0+bW1hbi5iZGV2
LCBUVE1fUExfVlJBTSk7Cj4gKyAgICAgICByZXR1cm4gdHRtX3Jlc291cmNlX21hbmFnZXJfZXZp
Y3RfYWxsKCZhZGV2LT5tbWFuLmJkZXYsIG1hbik7Cj4gIH0KPgo+ICBzdGF0aWMgY29uc3QgY2hh
ciAqYW1kZ3B1X3ZyYW1fbmFtZXNbXSA9IHsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvYW1kZ3B1X3ZyYW1fbWdyLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9hbWRncHVfdnJhbV9tZ3IuYwo+IGluZGV4IDAxYzExNzFhZmJlMC4uNzc0N2JlNjQ0ZGQwIDEw
MDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92cmFtX21nci5j
Cj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZyYW1fbWdyLmMKPiBA
QCAtMjEyLDcgKzIxMiw3IEBAIHZvaWQgYW1kZ3B1X3ZyYW1fbWdyX2Zpbmkoc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYpCj4KPiAgICAgICAgIHR0bV9yZXNvdXJjZV9tYW5hZ2VyX3NldF91c2Vk
KG1hbiwgZmFsc2UpOwo+Cj4gLSAgICAgICByZXQgPSB0dG1fcmVzb3VyY2VfbWFuYWdlcl9mb3Jj
ZV9saXN0X2NsZWFuKCZhZGV2LT5tbWFuLmJkZXYsIG1hbik7Cj4gKyAgICAgICByZXQgPSB0dG1f
cmVzb3VyY2VfbWFuYWdlcl9ldmljdF9hbGwoJmFkZXYtPm1tYW4uYmRldiwgbWFuKTsKPiAgICAg
ICAgIGlmIChyZXQpCj4gICAgICAgICAgICAgICAgIHJldHVybjsKPgo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X2RybS5jIGIvZHJpdmVycy9ncHUvZHJtL25v
dXZlYXUvbm91dmVhdV9kcm0uYwo+IGluZGV4IDcyNjQwYmNhMTYxNy4uZDE0MWE1ZjAwNGFmIDEw
MDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfZHJtLmMKPiArKysg
Yi9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X2RybS5jCj4gQEAgLTgyMCw2ICs4MjAs
NyBAQCBzdGF0aWMgaW50Cj4gIG5vdXZlYXVfZG9fc3VzcGVuZChzdHJ1Y3QgZHJtX2RldmljZSAq
ZGV2LCBib29sIHJ1bnRpbWUpCj4gIHsKPiAgICAgICAgIHN0cnVjdCBub3V2ZWF1X2RybSAqZHJt
ID0gbm91dmVhdV9kcm0oZGV2KTsKPiArICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdl
ciAqbWFuOwo+ICAgICAgICAgaW50IHJldDsKPgo+ICAgICAgICAgbm91dmVhdV9zdm1fc3VzcGVu
ZChkcm0pOwo+IEBAIC04MzYsNyArODM3LDkgQEAgbm91dmVhdV9kb19zdXNwZW5kKHN0cnVjdCBk
cm1fZGV2aWNlICpkZXYsIGJvb2wgcnVudGltZSkKPiAgICAgICAgIH0KPgo+ICAgICAgICAgTlZf
REVCVUcoZHJtLCAiZXZpY3RpbmcgYnVmZmVycy4uLlxuIik7Cj4gLSAgICAgICB0dG1fYm9fZXZp
Y3RfbW0oJmRybS0+dHRtLmJkZXYsIFRUTV9QTF9WUkFNKTsKPiArCj4gKyAgICAgICBtYW4gPSB0
dG1fbWFuYWdlcl90eXBlKCZkcm0tPnR0bS5iZGV2LCBUVE1fUExfVlJBTSk7Cj4gKyAgICAgICB0
dG1fcmVzb3VyY2VfbWFuYWdlcl9ldmljdF9hbGwoJmRybS0+dHRtLmJkZXYsIG1hbik7Cj4KPiAg
ICAgICAgIE5WX0RFQlVHKGRybSwgIndhaXRpbmcgZm9yIGtlcm5lbCBjaGFubmVscyB0byBnbyBp
ZGxlLi4uXG4iKTsKPiAgICAgICAgIGlmIChkcm0tPmNlY2hhbikgewo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X3R0bS5jIGIvZHJpdmVycy9ncHUvZHJtL25v
dXZlYXUvbm91dmVhdV90dG0uYwo+IGluZGV4IDJmYjEyN2RhMDIwOC4uMGYxYTExNDFlNTI2IDEw
MDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfdHRtLmMKPiArKysg
Yi9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X3R0bS5jCj4gQEAgLTIyMiw3ICsyMjIs
NyBAQCBub3V2ZWF1X3R0bV9maW5pX3ZyYW0oc3RydWN0IG5vdXZlYXVfZHJtICpkcm0pCj4KPiAg
ICAgICAgIGlmIChkcm0tPmNsaWVudC5kZXZpY2UuaW5mby5mYW1pbHkgPj0gTlZfREVWSUNFX0lO
Rk9fVjBfVEVTTEEpIHsKPiAgICAgICAgICAgICAgICAgdHRtX3Jlc291cmNlX21hbmFnZXJfc2V0
X3VzZWQobWFuLCBmYWxzZSk7Cj4gLSAgICAgICAgICAgICAgIHR0bV9yZXNvdXJjZV9tYW5hZ2Vy
X2ZvcmNlX2xpc3RfY2xlYW4oJmRybS0+dHRtLmJkZXYsIG1hbik7Cj4gKyAgICAgICAgICAgICAg
IHR0bV9yZXNvdXJjZV9tYW5hZ2VyX2V2aWN0X2FsbCgmZHJtLT50dG0uYmRldiwgbWFuKTsKPiAg
ICAgICAgICAgICAgICAgdHRtX3Jlc291cmNlX21hbmFnZXJfY2xlYW51cChtYW4pOwo+ICAgICAg
ICAgICAgICAgICB0dG1fc2V0X2RyaXZlcl9tYW5hZ2VyKCZkcm0tPnR0bS5iZGV2LCBUVE1fUExf
VlJBTSwgTlVMTCk7Cj4gICAgICAgICAgICAgICAgIGtmcmVlKG1hbik7Cj4gQEAgLTI2Nyw3ICsy
NjcsNyBAQCBub3V2ZWF1X3R0bV9maW5pX2d0dChzdHJ1Y3Qgbm91dmVhdV9kcm0gKmRybSkKPiAg
ICAgICAgICAgICAgICAgdHRtX3JhbmdlX21hbl9maW5pKCZkcm0tPnR0bS5iZGV2LCBUVE1fUExf
VFQpOwo+ICAgICAgICAgZWxzZSB7Cj4gICAgICAgICAgICAgICAgIHR0bV9yZXNvdXJjZV9tYW5h
Z2VyX3NldF91c2VkKG1hbiwgZmFsc2UpOwo+IC0gICAgICAgICAgICAgICB0dG1fcmVzb3VyY2Vf
bWFuYWdlcl9mb3JjZV9saXN0X2NsZWFuKCZkcm0tPnR0bS5iZGV2LCBtYW4pOwo+ICsgICAgICAg
ICAgICAgICB0dG1fcmVzb3VyY2VfbWFuYWdlcl9ldmljdF9hbGwoJmRybS0+dHRtLmJkZXYsIG1h
bik7Cj4gICAgICAgICAgICAgICAgIHR0bV9yZXNvdXJjZV9tYW5hZ2VyX2NsZWFudXAobWFuKTsK
PiAgICAgICAgICAgICAgICAgdHRtX3NldF9kcml2ZXJfbWFuYWdlcigmZHJtLT50dG0uYmRldiwg
VFRNX1BMX1RULCBOVUxMKTsKPiAgICAgICAgICAgICAgICAga2ZyZWUobWFuKTsKPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL3F4bC9xeGxfb2JqZWN0LmMgYi9kcml2ZXJzL2dwdS9kcm0v
cXhsL3F4bF9vYmplY3QuYwo+IGluZGV4IDViYThhYWMwMGY1Yy4uNTQ3ZDQ2YzE0ZDU2IDEwMDY0
NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9xeGwvcXhsX29iamVjdC5jCj4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL3F4bC9xeGxfb2JqZWN0LmMKPiBAQCAtMzUxLDEwICszNTEsMTYgQEAgaW50IHF4
bF9ib19jaGVja19pZChzdHJ1Y3QgcXhsX2RldmljZSAqcWRldiwgc3RydWN0IHF4bF9ibyAqYm8p
Cj4KPiAgaW50IHF4bF9zdXJmX2V2aWN0KHN0cnVjdCBxeGxfZGV2aWNlICpxZGV2KQo+ICB7Cj4g
LSAgICAgICByZXR1cm4gdHRtX2JvX2V2aWN0X21tKCZxZGV2LT5tbWFuLmJkZXYsIFRUTV9QTF9Q
UklWKTsKPiArICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdlciAqbWFuOwo+ICsKPiAr
ICAgICAgIG1hbiA9IHR0bV9tYW5hZ2VyX3R5cGUoJnFkZXYtPm1tYW4uYmRldiwgVFRNX1BMX1BS
SVYpOwo+ICsgICAgICAgcmV0dXJuIHR0bV9yZXNvdXJjZV9tYW5hZ2VyX2V2aWN0X2FsbCgmcWRl
di0+bW1hbi5iZGV2LCBtYW4pOwo+ICB9Cj4KPiAgaW50IHF4bF92cmFtX2V2aWN0KHN0cnVjdCBx
eGxfZGV2aWNlICpxZGV2KQo+ICB7Cj4gLSAgICAgICByZXR1cm4gdHRtX2JvX2V2aWN0X21tKCZx
ZGV2LT5tbWFuLmJkZXYsIFRUTV9QTF9WUkFNKTsKPiArICAgICAgIHN0cnVjdCB0dG1fcmVzb3Vy
Y2VfbWFuYWdlciAqbWFuOwo+ICsKPiArICAgICAgIG1hbiA9IHR0bV9tYW5hZ2VyX3R5cGUoJnFk
ZXYtPm1tYW4uYmRldiwgVFRNX1BMX1ZSQU0pOwo+ICsgICAgICAgcmV0dXJuIHR0bV9yZXNvdXJj
ZV9tYW5hZ2VyX2V2aWN0X2FsbCgmcWRldi0+bW1hbi5iZGV2LCBtYW4pOwo+ICB9Cj4gZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFkZW9uX29iamVjdC5jIGIvZHJpdmVycy9n
cHUvZHJtL3JhZGVvbi9yYWRlb25fb2JqZWN0LmMKPiBpbmRleCBhMGIyYzQ1NDFhMmEuLjM2ZDI2
MGUzMDJhMSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl9vYmpl
Y3QuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFkZW9uX29iamVjdC5jCj4gQEAg
LTM3NCw2ICszNzQsOSBAQCB2b2lkIHJhZGVvbl9ib191bnBpbihzdHJ1Y3QgcmFkZW9uX2JvICpi
bykKPgo+ICBpbnQgcmFkZW9uX2JvX2V2aWN0X3ZyYW0oc3RydWN0IHJhZGVvbl9kZXZpY2UgKnJk
ZXYpCj4gIHsKPiArICAgICAgIHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2ID0gJnJkZXYtPm1tYW4u
YmRldjsKPiArICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdlciAqbWFuOwo+ICsKPiAg
ICAgICAgIC8qIGxhdGUgMi42LjMzIGZpeCBJR1AgaGliZXJuYXRlIC0gd2UgbmVlZCBwbSBvcHMg
dG8gZG8gdGhpcyBjb3JyZWN0ICovCj4gICNpZm5kZWYgQ09ORklHX0hJQkVSTkFUSU9OCj4gICAg
ICAgICBpZiAocmRldi0+ZmxhZ3MgJiBSQURFT05fSVNfSUdQKSB7Cj4gQEAgLTM4Miw3ICszODUs
OCBAQCBpbnQgcmFkZW9uX2JvX2V2aWN0X3ZyYW0oc3RydWN0IHJhZGVvbl9kZXZpY2UgKnJkZXYp
Cj4gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7Cj4gICAgICAgICB9Cj4gICNlbmRp
Zgo+IC0gICAgICAgcmV0dXJuIHR0bV9ib19ldmljdF9tbSgmcmRldi0+bW1hbi5iZGV2LCBUVE1f
UExfVlJBTSk7Cj4gKyAgICAgICBtYW4gPSB0dG1fbWFuYWdlcl90eXBlKGJkZXYsIFRUTV9QTF9W
UkFNKTsKPiArICAgICAgIHR0bV9yZXNvdXJjZV9tYW5hZ2VyX2V2aWN0X2FsbChiZGV2LCBtYW4p
Owo+ICB9Cj4KPiAgdm9pZCByYWRlb25fYm9fZm9yY2VfZGVsZXRlKHN0cnVjdCByYWRlb25fZGV2
aWNlICpyZGV2KQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9iby5jIGIv
ZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm8uYwo+IGluZGV4IDQwZDFhYzkxYzliZi4uNjEzMTFm
NjlmOWY4IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2JvLmMKPiArKysg
Yi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9iby5jCj4gQEAgLTExNzMsMjQgKzExNzMsNiBAQCBz
aXplX3QgdHRtX2JvX2RtYV9hY2Nfc2l6ZShzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwKPiAgfQo+
ICBFWFBPUlRfU1lNQk9MKHR0bV9ib19kbWFfYWNjX3NpemUpOwo+Cj4gLWludCB0dG1fYm9fZXZp
Y3RfbW0oc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsIHVuc2lnbmVkIG1lbV90eXBlKQo+IC17Cj4g
LSAgICAgICBzdHJ1Y3QgdHRtX3Jlc291cmNlX21hbmFnZXIgKm1hbiA9IHR0bV9tYW5hZ2VyX3R5
cGUoYmRldiwgbWVtX3R5cGUpOwo+IC0KPiAtICAgICAgIGlmIChtZW1fdHlwZSA9PSAwIHx8IG1l
bV90eXBlID49IFRUTV9OVU1fTUVNX1RZUEVTKSB7Cj4gLSAgICAgICAgICAgICAgIHByX2Vycigi
SWxsZWdhbCBtZW1vcnkgbWFuYWdlciBtZW1vcnkgdHlwZSAldVxuIiwgbWVtX3R5cGUpOwo+IC0g
ICAgICAgICAgICAgICByZXR1cm4gLUVJTlZBTDsKPiAtICAgICAgIH0KPiAtCj4gLSAgICAgICBp
ZiAoIW1hbikgewo+IC0gICAgICAgICAgICAgICBwcl9lcnIoIk1lbW9yeSB0eXBlICV1IGhhcyBu
b3QgYmVlbiBpbml0aWFsaXplZFxuIiwgbWVtX3R5cGUpOwo+IC0gICAgICAgICAgICAgICByZXR1
cm4gMDsKPiAtICAgICAgIH0KPiAtCj4gLSAgICAgICByZXR1cm4gdHRtX3Jlc291cmNlX21hbmFn
ZXJfZm9yY2VfbGlzdF9jbGVhbihiZGV2LCBtYW4pOwo+IC19Cj4gLUVYUE9SVF9TWU1CT0wodHRt
X2JvX2V2aWN0X21tKTsKPiAtCj4gIC8qCj4gICAqIGJ1ZmZlciBvYmplY3Qgdm0gZnVuY3Rpb25z
Lgo+ICAgKi8KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fcmFuZ2VfbWFu
YWdlci5jIGIvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fcmFuZ2VfbWFuYWdlci5jCj4gaW5kZXgg
YmQzYzZjNmI0MzI4Li45ZDA4NzI4YmQ5OGUgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L3R0bS90dG1fcmFuZ2VfbWFuYWdlci5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1f
cmFuZ2VfbWFuYWdlci5jCj4gQEAgLTE0OSw3ICsxNDksNyBAQCBpbnQgdHRtX3JhbmdlX21hbl9m
aW5pKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LAo+Cj4gICAgICAgICB0dG1fcmVzb3VyY2VfbWFu
YWdlcl9zZXRfdXNlZChtYW4sIGZhbHNlKTsKPgo+IC0gICAgICAgcmV0ID0gdHRtX3Jlc291cmNl
X21hbmFnZXJfZm9yY2VfbGlzdF9jbGVhbihiZGV2LCBtYW4pOwo+ICsgICAgICAgcmV0ID0gdHRt
X3Jlc291cmNlX21hbmFnZXJfZXZpY3RfYWxsKGJkZXYsIG1hbik7Cj4gICAgICAgICBpZiAocmV0
KQo+ICAgICAgICAgICAgICAgICByZXR1cm4gcmV0Owo+Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS90dG0vdHRtX3Jlc291cmNlLmMgYi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9yZXNv
dXJjZS5jCj4gaW5kZXggN2ZhYTRhNmFlMjhmLi5lMmVlNjZjN2YzOWMgMTAwNjQ0Cj4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fcmVzb3VyY2UuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS90dG0vdHRtX3Jlc291cmNlLmMKPiBAQCAtNzUsMTYgKzc1LDE2IEBAIHZvaWQgdHRtX3Jlc291
cmNlX21hbmFnZXJfaW5pdChzdHJ1Y3QgdHRtX3Jlc291cmNlX21hbmFnZXIgKm1hbiwKPiAgRVhQ
T1JUX1NZTUJPTCh0dG1fcmVzb3VyY2VfbWFuYWdlcl9pbml0KTsKPgo+ICAvKgo+IC0gKiB0dG1f
cmVzb3VyY2VfbWFuYWdlcl9mb3JjZV9saXN0X2NsZWFuCj4gKyAqIHR0bV9yZXNvdXJjZV9tYW5h
Z2VyX2V2aWN0X2FsbAo+ICAgKgo+ICAgKiBAYmRldiAtIGRldmljZSB0byB1c2UKPiAgICogQG1h
biAtIG1hbmFnZXIgdG8gdXNlCj4gICAqCj4gLSAqIEZvcmNlIGFsbCB0aGUgb2JqZWN0cyBvdXQg
b2YgYSBtZW1vcnkgbWFuYWdlciB1bnRpbCBjbGVhbi4KPiArICogRXZpY3QgYWxsIHRoZSBvYmpl
Y3RzIG91dCBvZiBhIG1lbW9yeSBtYW5hZ2VyIHVudGlsIGl0IGlzIGVtcHR5Lgo+ICAgKiBQYXJ0
IG9mIG1lbW9yeSBtYW5hZ2VyIGNsZWFudXAgc2VxdWVuY2UuCj4gICAqLwo+IC1pbnQgdHRtX3Jl
c291cmNlX21hbmFnZXJfZm9yY2VfbGlzdF9jbGVhbihzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwK
PiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdHRtX3Jl
c291cmNlX21hbmFnZXIgKm1hbikKPiAraW50IHR0bV9yZXNvdXJjZV9tYW5hZ2VyX2V2aWN0X2Fs
bChzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdlciAqbWFuKQo+ICB7Cj4gICAgICAgICBz
dHJ1Y3QgdHRtX29wZXJhdGlvbl9jdHggY3R4ID0gewo+ICAgICAgICAgICAgICAgICAuaW50ZXJy
dXB0aWJsZSA9IGZhbHNlLAo+IEBAIC0xMjYsNyArMTI2LDcgQEAgaW50IHR0bV9yZXNvdXJjZV9t
YW5hZ2VyX2ZvcmNlX2xpc3RfY2xlYW4oc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4KPiAgICAg
ICAgIHJldHVybiAwOwo+ICB9Cj4gLUVYUE9SVF9TWU1CT0wodHRtX3Jlc291cmNlX21hbmFnZXJf
Zm9yY2VfbGlzdF9jbGVhbik7Cj4gK0VYUE9SVF9TWU1CT0wodHRtX3Jlc291cmNlX21hbmFnZXJf
ZXZpY3RfYWxsKTsKPgo+ICAvKioKPiAgICogdHRtX3Jlc291cmNlX21hbmFnZXJfZGVidWcKPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfZHJ2LmMgYi9kcml2ZXJz
L2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9kcnYuYwo+IGluZGV4IGZjZGEzYjc2ZTBkZi4uZmY4MmMz
Mzk1YmZhIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2Rydi5j
Cj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfZHJ2LmMKPiBAQCAtNDY4LDcg
KzQ2OCwxMCBAQCBzdGF0aWMgaW50IHZtd19yZXF1ZXN0X2RldmljZShzdHJ1Y3Qgdm13X3ByaXZh
dGUgKmRldl9wcml2KQo+ICAgICAgICAgaWYgKGRldl9wcml2LT5jbWFuKQo+ICAgICAgICAgICAg
ICAgICB2bXdfY21kYnVmX3JlbW92ZV9wb29sKGRldl9wcml2LT5jbWFuKTsKPiAgICAgICAgIGlm
IChkZXZfcHJpdi0+aGFzX21vYikgewo+IC0gICAgICAgICAgICAgICAodm9pZCkgdHRtX2JvX2V2
aWN0X21tKCZkZXZfcHJpdi0+YmRldiwgVk1XX1BMX01PQik7Cj4gKyAgICAgICAgICAgICAgIHN0
cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdlciAqbWFuOwo+ICsKPiArICAgICAgICAgICAgICAgbWFu
ID0gdHRtX21hbmFnZXJfdHlwZSgmZGV2X3ByaXYtPmJkZXYsIFZNV19QTF9NT0IpOwo+ICsgICAg
ICAgICAgICAgICB0dG1fcmVzb3VyY2VfbWFuYWdlcl9ldmljdF9hbGwoJmRldl9wcml2LT5iZGV2
LCBtYW4pOwo+ICAgICAgICAgICAgICAgICB2bXdfb3RhYmxlc190YWtlZG93bihkZXZfcHJpdik7
Cj4gICAgICAgICB9Cj4gICAgICAgICBpZiAoZGV2X3ByaXYtPmNtYW4pCj4gQEAgLTUwMSw3ICs1
MDQsMTAgQEAgc3RhdGljIHZvaWQgdm13X3JlbGVhc2VfZGV2aWNlX2Vhcmx5KHN0cnVjdCB2bXdf
cHJpdmF0ZSAqZGV2X3ByaXYpCj4gICAgICAgICAgICAgICAgIHZtd19jbWRidWZfcmVtb3ZlX3Bv
b2woZGV2X3ByaXYtPmNtYW4pOwo+Cj4gICAgICAgICBpZiAoZGV2X3ByaXYtPmhhc19tb2IpIHsK
PiAtICAgICAgICAgICAgICAgdHRtX2JvX2V2aWN0X21tKCZkZXZfcHJpdi0+YmRldiwgVk1XX1BM
X01PQik7Cj4gKyAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdlciAqbWFu
Owo+ICsKPiArICAgICAgICAgICAgICAgbWFuID0gdHRtX21hbmFnZXJfdHlwZSgmZGV2X3ByaXYt
PmJkZXYsIFZNV19QTF9NT0IpOwo+ICsgICAgICAgICAgICAgICB0dG1fcmVzb3VyY2VfbWFuYWdl
cl9ldmljdF9hbGwoJmRldl9wcml2LT5iZGV2LCBtYW4pOwo+ICAgICAgICAgICAgICAgICB2bXdf
b3RhYmxlc190YWtlZG93bihkZXZfcHJpdik7Cj4gICAgICAgICB9Cj4gIH0KPiBAQCAtMTI1Nyw3
ICsxMjYzLDcgQEAgdm9pZCB2bXdfc3ZnYV9kaXNhYmxlKHN0cnVjdCB2bXdfcHJpdmF0ZSAqZGV2
X3ByaXYpCj4gICAgICAgICBpZiAodHRtX3Jlc291cmNlX21hbmFnZXJfdXNlZChtYW4pKSB7Cj4g
ICAgICAgICAgICAgICAgIHR0bV9yZXNvdXJjZV9tYW5hZ2VyX3NldF91c2VkKG1hbiwgZmFsc2Up
Owo+ICAgICAgICAgICAgICAgICBzcGluX3VubG9jaygmZGV2X3ByaXYtPnN2Z2FfbG9jayk7Cj4g
LSAgICAgICAgICAgICAgIGlmICh0dG1fYm9fZXZpY3RfbW0oJmRldl9wcml2LT5iZGV2LCBUVE1f
UExfVlJBTSkpCj4gKyAgICAgICAgICAgICAgIGlmICh0dG1fcmVzb3VyY2VfbWFuYWdlcl9ldmlj
dF9hbGwoJmRldl9wcml2LT5iZGV2LCBtYW4pKQo+ICAgICAgICAgICAgICAgICAgICAgICAgIERS
TV9FUlJPUigiRmFpbGVkIGV2aWN0aW5nIFZSQU0gYnVmZmVycy5cbiIpOwo+ICAgICAgICAgICAg
ICAgICB2bXdfd3JpdGUoZGV2X3ByaXYsIFNWR0FfUkVHX0VOQUJMRSwKPiAgICAgICAgICAgICAg
ICAgICAgICAgICAgIFNWR0FfUkVHX0VOQUJMRV9ISURFIHwKPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfZ21yaWRfbWFuYWdlci5jIGIvZHJpdmVycy9ncHUvZHJt
L3Ztd2dmeC92bXdnZnhfZ21yaWRfbWFuYWdlci5jCj4gaW5kZXggZGI2NGMzYTkwMjg1Li45ZThh
M2UzMzdiOTYgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfZ21y
aWRfbWFuYWdlci5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfZ21yaWRf
bWFuYWdlci5jCj4gQEAgLTE0Myw3ICsxNDMsNyBAQCB2b2lkIHZtd19nbXJpZF9tYW5fZmluaShz
dHJ1Y3Qgdm13X3ByaXZhdGUgKmRldl9wcml2LCBpbnQgdHlwZSkKPgo+ICAgICAgICAgdHRtX3Jl
c291cmNlX21hbmFnZXJfc2V0X3VzZWQobWFuLCBmYWxzZSk7Cj4KPiAtICAgICAgIHR0bV9yZXNv
dXJjZV9tYW5hZ2VyX2ZvcmNlX2xpc3RfY2xlYW4oJmRldl9wcml2LT5iZGV2LCBtYW4pOwo+ICsg
ICAgICAgdHRtX3Jlc291cmNlX21hbmFnZXJfZXZpY3RfYWxsKCZkZXZfcHJpdi0+YmRldiwgbWFu
KTsKPgo+ICAgICAgICAgdHRtX3Jlc291cmNlX21hbmFnZXJfY2xlYW51cChtYW4pOwo+Cj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X3RocC5jIGIvZHJpdmVycy9n
cHUvZHJtL3Ztd2dmeC92bXdnZnhfdGhwLmMKPiBpbmRleCA2M2ZlN2RhNGNiZjQuLjMyOGQzMzJh
NTVlMiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF90aHAuYwo+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X3RocC5jCj4gQEAgLTE0OSw3ICsx
NDksNyBAQCB2b2lkIHZtd190aHBfZmluaShzdHJ1Y3Qgdm13X3ByaXZhdGUgKmRldl9wcml2KQo+
Cj4gICAgICAgICB0dG1fcmVzb3VyY2VfbWFuYWdlcl9zZXRfdXNlZChtYW4sIGZhbHNlKTsKPgo+
IC0gICAgICAgcmV0ID0gdHRtX3Jlc291cmNlX21hbmFnZXJfZm9yY2VfbGlzdF9jbGVhbigmZGV2
X3ByaXYtPmJkZXYsIG1hbik7Cj4gKyAgICAgICByZXQgPSB0dG1fcmVzb3VyY2VfbWFuYWdlcl9l
dmljdF9hbGwoJmRldl9wcml2LT5iZGV2LCBtYW4pOwo+ICAgICAgICAgaWYgKHJldCkKPiAgICAg
ICAgICAgICAgICAgcmV0dXJuOwo+ICAgICAgICAgc3Bpbl9sb2NrKCZybWFuLT5sb2NrKTsKPiBk
aWZmIC0tZ2l0IGEvaW5jbHVkZS9kcm0vdHRtL3R0bV9ib19hcGkuaCBiL2luY2x1ZGUvZHJtL3R0
bS90dG1fYm9fYXBpLmgKPiBpbmRleCBhMDI5MzVlMGQxMjEuLmY0MDE0ZjQ1YmQ4YiAxMDA2NDQK
PiAtLS0gYS9pbmNsdWRlL2RybS90dG0vdHRtX2JvX2FwaS5oCj4gKysrIGIvaW5jbHVkZS9kcm0v
dHRtL3R0bV9ib19hcGkuaAo+IEBAIC00NDgsMjYgKzQ0OCw2IEBAIGludCB0dG1fYm9faW5pdChz
dHJ1Y3QgdHRtX2RldmljZSAqYmRldiwgc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAg
ICAgICAgICAgICAgICAgc3RydWN0IHNnX3RhYmxlICpzZywgc3RydWN0IGRtYV9yZXN2ICpyZXN2
LAo+ICAgICAgICAgICAgICAgICB2b2lkICgqZGVzdHJveSkgKHN0cnVjdCB0dG1fYnVmZmVyX29i
amVjdCAqKSk7Cj4KPiAtLyoqCj4gLSAqIHR0bV9ib19ldmljdF9tbQo+IC0gKgo+IC0gKiBAYmRl
djogUG9pbnRlciB0byBhIHR0bV9kZXZpY2Ugc3RydWN0Lgo+IC0gKiBAbWVtX3R5cGU6IFRoZSBt
ZW1vcnkgdHlwZS4KPiAtICoKPiAtICogRXZpY3RzIGFsbCBidWZmZXJzIG9uIHRoZSBscnUgbGlz
dCBvZiB0aGUgbWVtb3J5IHR5cGUuCj4gLSAqIFRoaXMgaXMgbm9ybWFsbHkgcGFydCBvZiBhIFZU
IHN3aXRjaCBvciBhbgo+IC0gKiBvdXQtb2YtbWVtb3J5LXNwYWNlLWR1ZS10by1mcmFnbWVudGF0
aW9uIGhhbmRsZXIuCj4gLSAqIFRoZSBjYWxsZXIgbXVzdCBtYWtlIHN1cmUgdGhhdCB0aGVyZSBh
cmUgbm8gb3RoZXIgcHJvY2Vzc2VzCj4gLSAqIGN1cnJlbnRseSB2YWxpZGF0aW5nIGJ1ZmZlcnMs
IGFuZCBjYW4gZG8gdGhhdCBieSB0YWtpbmcgdGhlCj4gLSAqIHN0cnVjdCB0dG1fZGV2aWNlOjp0
dG1fbG9jayBpbiB3cml0ZSBtb2RlLgo+IC0gKgo+IC0gKiBSZXR1cm5zOgo+IC0gKiAtRUlOVkFM
OiBJbnZhbGlkIG9yIHVuaW5pdGlhbGl6ZWQgbWVtb3J5IHR5cGUuCj4gLSAqIC1FUkVTVEFSVFNZ
UzogVGhlIGNhbGwgd2FzIGludGVycnVwdGVkIGJ5IGEgc2lnbmFsIHdoaWxlIHdhaXRpbmcgdG8K
PiAtICogZXZpY3QgYSBidWZmZXIuCj4gLSAqLwo+IC1pbnQgdHRtX2JvX2V2aWN0X21tKHN0cnVj
dCB0dG1fZGV2aWNlICpiZGV2LCB1bnNpZ25lZCBtZW1fdHlwZSk7Cj4gLQo+ICAvKioKPiAgICog
dHRtX2ttYXBfb2JqX3ZpcnR1YWwKPiAgICoKPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9kcm0vdHRt
L3R0bV9yZXNvdXJjZS5oIGIvaW5jbHVkZS9kcm0vdHRtL3R0bV9yZXNvdXJjZS5oCj4gaW5kZXgg
YTYwZmZlNDA5YjYwLi5jZTY4NDZjMDM2OTggMTAwNjQ0Cj4gLS0tIGEvaW5jbHVkZS9kcm0vdHRt
L3R0bV9yZXNvdXJjZS5oCj4gKysrIGIvaW5jbHVkZS9kcm0vdHRtL3R0bV9yZXNvdXJjZS5oCj4g
QEAgLTIzMCw4ICsyMzAsOCBAQCB2b2lkIHR0bV9yZXNvdXJjZV9mcmVlKHN0cnVjdCB0dG1fYnVm
ZmVyX29iamVjdCAqYm8sIHN0cnVjdCB0dG1fcmVzb3VyY2UgKnJlcyk7Cj4gIHZvaWQgdHRtX3Jl
c291cmNlX21hbmFnZXJfaW5pdChzdHJ1Y3QgdHRtX3Jlc291cmNlX21hbmFnZXIgKm1hbiwKPiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgbG9uZyBwX3NpemUpOwo+Cj4g
LWludCB0dG1fcmVzb3VyY2VfbWFuYWdlcl9mb3JjZV9saXN0X2NsZWFuKHN0cnVjdCB0dG1fZGV2
aWNlICpiZGV2LAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0
cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdlciAqbWFuKTsKPiAraW50IHR0bV9yZXNvdXJjZV9tYW5h
Z2VyX2V2aWN0X2FsbChzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwKPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdlciAqbWFuKTsKPgo+
ICB2b2lkIHR0bV9yZXNvdXJjZV9tYW5hZ2VyX2RlYnVnKHN0cnVjdCB0dG1fcmVzb3VyY2VfbWFu
YWdlciAqbWFuLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGRybV9w
cmludGVyICpwKTsKPiAtLQo+IDIuMTcuMQo+CgoKLS0gCkRhbmllbCBWZXR0ZXIKU29mdHdhcmUg
RW5naW5lZXIsIEludGVsIENvcnBvcmF0aW9uCmh0dHA6Ly9ibG9nLmZmd2xsLmNoCl9fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5n
IGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVk
ZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbAo=
