Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 8B53D33FC8
	for <lists+dri-devel@lfdr.de>; Tue,  4 Jun 2019 09:15:54 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 5598C896ED;
	Tue,  4 Jun 2019 07:14:40 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-vs1-xe44.google.com (mail-vs1-xe44.google.com
 [IPv6:2607:f8b0:4864:20::e44])
 by gabe.freedesktop.org (Postfix) with ESMTPS id F1463892EF
 for <dri-devel@lists.freedesktop.org>; Tue,  4 Jun 2019 01:48:57 +0000 (UTC)
Received: by mail-vs1-xe44.google.com with SMTP id m8so3428006vsj.0
 for <dri-devel@lists.freedesktop.org>; Mon, 03 Jun 2019 18:48:57 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=DVl9TtQZ7SO5vjg6FLYb8ERht1BGdi4IXhmbXuQuWao=;
 b=lfdr/zjE+jUa+RRhhDKgUDJNS1maxfqbKYXd1ZDIHSQSu5IyoJY71UzgTRDJLPJ1ml
 iQ4R1uD3hRw8DgI2rV4x6N64aERjsD3IbsrH/QOxBKWgk+x4+eRipeVUSt8XtADJfExe
 Efd+kRHNzO+eeryqZA6WnweIRYbTB0excwswd/XIKJDC0D/IloHeXieetfjYJshNq8so
 3jlSl/HvspSCKhd3UbDq6hEnkGFPU1enDFPQeozRXO4ciZcVyU2cJ8m5QaqJVQ08TtyK
 Ydnnk7lQSKq2obOxuwKShDM5EvYI5i+GqLw2ene3VWt9uvdfFykd4UjH4vaPZ+p5XQoz
 BNjA==
X-Gm-Message-State: APjAAAW8eSwXrcrcVgVNYtROEFzZ9yHbqyhSD0xSSlrZAkfUdSUjZPjZ
 CWpasGH256xXwQNNJp5SkMoGhItyu4u9p2TwYXmgeQ==
X-Google-Smtp-Source: APXvYqz//dmexiMeLDEn3qSv3iOWixkTGTfS9X8MEgzrI/2t9ahSZ4sziMv8L1bmB5dKLe7dOv01R2tIT5fVDGUNnu4=
X-Received: by 2002:a67:1447:: with SMTP id 68mr14412756vsu.170.1559612936526; 
 Mon, 03 Jun 2019 18:48:56 -0700 (PDT)
MIME-Version: 1.0
References: <20190603043251.226549-1-cychiang@chromium.org>
 <20190603043251.226549-2-cychiang@chromium.org>
 <41e7052b-a58c-5a8c-5d94-37237e0c2070@xs4all.nl>
In-Reply-To: <41e7052b-a58c-5a8c-5d94-37237e0c2070@xs4all.nl>
From: Cheng-yi Chiang <cychiang@chromium.org>
Date: Tue, 4 Jun 2019 09:48:29 +0800
Message-ID: <CAFv8NwJ8Hxv0AWQ=gxpC-k2GTUjg+BEW4p0s8Yqepj=r4Pb+sw@mail.gmail.com>
Subject: Re: [PATCH 1/7] video: add HDMI state notifier support
To: Hans Verkuil <hverkuil@xs4all.nl>
X-Mailman-Approved-At: Tue, 04 Jun 2019 07:14:23 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=chromium.org; s=google;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=DVl9TtQZ7SO5vjg6FLYb8ERht1BGdi4IXhmbXuQuWao=;
 b=er5ZsMQ/eM0FnqQ6xY6YDoEllmXA7IG0x51vDQKeNse95+jEIInIkomgxqlYrqymkF
 zEPThcyJX8VITzZyCSkSYBg93GFpsCpzC/+fN2iB34+OfgBimH2CYnlcgcWUOygp1QD/
 wsIuV41zAOi2S0DltRFXTxg1ghOY+3uy/5Xng=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: "moderated list:SOUND - SOC LAYER / DYNAMIC AUDIO POWER MANAGEM..."
 <alsa-devel@alsa-project.org>, Liam Girdwood <lgirdwood@gmail.com>,
 David Airlie <airlied@linux.ie>, dri-devel@lists.freedesktop.org,
 Takashi Iwai <tiwai@suse.com>,
 Laurent Pinchart <Laurent.pinchart@ideasonboard.com>,
 linux-rockchip@lists.infradead.org, Dylan Reid <dgreid@chromium.org>,
 linux-media@vger.kernel.org, devicetree@vger.kernel.org, tzungbi@chromium.org,
 Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>,
 Russell King <rmk+kernel@armlinux.org.uk>, Rob Herring <robh+dt@kernel.org>,
 Jaroslav Kysela <perex@perex.cz>, linux-arm-kernel@lists.infradead.org,
 Greg Kroah-Hartman <gregkh@linuxfoundation.org>,
 Doug Anderson <dianders@chromium.org>,
 linux-kernel <linux-kernel@vger.kernel.org>, Mark Brown <broonie@kernel.org>,
 Dariusz Marcinkiewicz <darekm@google.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gTW9uLCBKdW4gMywgMjAxOSBhdCAzOjQ2IFBNIEhhbnMgVmVya3VpbCA8aHZlcmt1aWxAeHM0
YWxsLm5sPiB3cm90ZToKPgo+IE9uIDYvMy8xOSA2OjMyIEFNLCBDaGVuZy1ZaSBDaGlhbmcgd3Jv
dGU6Cj4gPiBGcm9tOiBIYW5zIFZlcmt1aWwgPGhhbnMudmVya3VpbEBjaXNjby5jb20+Cj4gPgo+
ID4gQWRkIHN1cHBvcnQgZm9yIEhETUkgaG90cGx1ZyBhbmQgRURJRCBub3RpZmllcnMsIHdoaWNo
IGlzIHVzZWQgdG8gY29udmV5Cj4gPiBpbmZvcm1hdGlvbiBmcm9tIEhETUkgZHJpdmVycyB0byB0
aGVpciBDRUMgYW5kIGF1ZGlvIGNvdW50ZXJwYXJ0cy4KPiA+Cj4gPiBCYXNlZCBvbiBhbiBlYXJs
aWVyIHZlcnNpb24gZnJvbSBSdXNzZWxsIEtpbmc6Cj4gPgo+ID4gaHR0cHM6Ly9wYXRjaHdvcmsu
a2VybmVsLm9yZy9wYXRjaC85Mjc3MDQzLwo+ID4KPiA+IFRoZSBoZG1pX25vdGlmaWVyIGlzIGEg
cmVmZXJlbmNlIGNvdW50ZWQgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIEhETUkgc3RhdGUKPiA+IG9m
IGFuIEhETUkgZGV2aWNlLgo+ID4KPiA+IFdoZW4gYSBuZXcgbm90aWZpZXIgaXMgcmVnaXN0ZXJl
ZCB0aGUgY3VycmVudCBzdGF0ZSB3aWxsIGJlIHJlcG9ydGVkIHRvCj4gPiB0aGF0IG5vdGlmaWVy
IGF0IHJlZ2lzdHJhdGlvbiB0aW1lLgo+ID4KPiA+IEJhc2VkIG9uIEhhbnMgVmVya3VpbCdzIHBh
dGNoOgo+ID4KPiA+IGh0dHBzOi8vcGF0Y2h3b3JrLmtlcm5lbC5vcmcvcGF0Y2gvOTQ3MjUyMS8K
Pgo+IEVybSwgeW91IGFyZSBhd2FyZSB0aGF0IHRoaXMgcGF0Y2ggbW9ycGhlZCBpbnRvIGEgQ0VD
LXNwZWNpZmljIG5vdGlmaWVyCj4gZm91bmQgaW4gZHJpdmVycy9tZWRpYS9jZWMvY2VjLW5vdGlm
aWVyLmM/Cj4KPiBJIGRvbid0IHRoaW5rIGl0IG1ha2VzIHNlbnNlIHRvIGhhdmUgdHdvIG5vdGlm
aWVyIGltcGxlbWVudGF0aW9ucyBpbiB0aGUga2VybmVsLgo+IFRoZSBvcmlnaW5hbCBpbnRlbnRp
b24gd2FzIHRvIGhhdmUgdGhlIG5vdGlmaWVyIGRlYWwgd2l0aCBib3RoIENFQyBhbmQgQVNvQwo+
IG5vdGlmaWNhdGlvbnMsIGJ1dCB0aGVyZSB3YXMgbm90IGVub3VnaCBpbnRlcmVzdCBmb3IgdGhl
IEFTb0MgYml0cyBhdCB0aGUgdGltZQo+IGFuZCBpdCB3YXMgZHJvcHBlZC4KPgo+IEkgYW0gcGxh
bm5pbmcgY2hhbmdlcyB0byB0aGUgY2VjLW5vdGlmaWVyIEFQSSwgSSBob3BlIHRvIHdvcmsgb24g
dGhhdCB0aGlzCj4gd2Vlay4gSSdsbCBDQyB5b3Ugd2hlbiBJIHBvc3QgdGhvc2UuIFRob3NlIG1p
Z2h0IGJlIGEgZ29vZCBzdGFydGluZyBwb2ludAo+IHRvIGNvbnZlcnQgdGhlIGNlYy1ub3RpZmll
ciB0byBhbiBoZG1pLW5vdGlmaWVyIGFzIHdhcyBvcmlnaW5hbGx5IGludGVuZGVkLgo+Cj4gSSd2
ZSBhZGRlZCB5b3VyIGNvbGxlYWd1ZSBEYXJpdXN6IE1hcmNpbmtpZXdpY3ogdG8gdGhlIENDIGxp
c3Qgc2luY2UgaGUncyBiZWVuCj4gd29ya2luZyBvbiBzb21lIG5pY2UgY2VjLW5vdGlmaWVyIGlt
cHJvdmVtZW50cyBhcyB3ZWxsLgoKSGkgSGFucywgdGhhbmsgeW91IGZvciBxdWljayByZXBseS4K
SSBhbSBub3QgYXdhcmUgb2YgdGhlIGhpc3Rvcnkgb2YgY2VjLW5vdGlmaWVyIGFuZCBoZG1pLW5v
dGlmaWVyLgpUaGUgcmVhc29uIEkgdG9vayB0aGlzIHBhdGNoIGlzIGJlY2F1c2UgaXRzIGRpZmZl
cmVudCB2ZXJzaW9ucyB3ZXJlCnVzZWQgZXh0ZW5zaXZlbHkgaW4gcm9ja2NoaXAgdHJlZSBhbmQg
Y2hyb21pdW0gdHJlZSBmb3IgeWVhcnMuCkFuZCBoZG1pLW5vdGlmaWVyIHBhdGNoIHBvc3RlZCBh
dApodHRwczovL3BhdGNod29yay5rZXJuZWwub3JnL3BhdGNoLzk0NzI1MjEvIGRpZCBub3QgZ2V0
IG9iamVjdGlvbiBhdAp0aGF0IHRpbWUuCklmIHlvdSB0aGluayBqYWNrIHJlcG9ydGluZyBzaG91
bGQgYmUgc3VwcG9ydGVkIG9uIGNlYy1ub3RpZmllcgppbnN0ZWFkLCBJIGNhbiBsb29rIGludG8g
aXQgYWZ0ZXIgeW91IHBvc3QgdGhlIG5ldyBjaGFuZ2VzIG9uCmNlYy1ub3RpZmllci4KVGhhbmtz
IQoKPgo+IFJlZ2FyZHMsCj4KPiAgICAgICAgIEhhbnMKPgo+ID4KPiA+IE1vZGlmaWVkIGJ5IENo
ZW5nLVlpIENoaWFuZzoKPiA+ICAtIEFkZCBhIHNlY3Rpb24gaW4gTUFJTlRBSU5FUi4KPiA+ICAt
IENoYW5nZXMgY29ubmVjdGVkIGFuZCBoYXNfZWxkIHRvIGJpdGZpZWxkIG9mIHVuc2lnbmVkIGlu
dC4KPiA+ICAtIE90aGVyIG1pbm9yIGZpeGVzIHRvIHBhc3MgY2hlY2twYXRjaC5wbCAtLXN0cmlj
dCBjaGVja3MuCj4gPgo+ID4gU2lnbmVkLW9mZi1ieTogSGFucyBWZXJrdWlsIDxoYW5zLnZlcmt1
aWxAY2lzY28uY29tPgo+ID4gQWNrZWQtYnk6IFBoaWxpcHAgWmFiZWwgPHAuemFiZWxAcGVuZ3V0
cm9uaXguZGU+Cj4gPiBTaWduZWQtb2ZmLWJ5OiBDaGVuZy1ZaSBDaGlhbmcgPGN5Y2hpYW5nQGNo
cm9taXVtLm9yZz4KPiA+IC0tLQo+ID4gVGhlIG9yaWdpbmFsIHBhdGNoIGlzIGF0Cj4gPiBodHRw
czovL2xvcmUua2VybmVsLm9yZy9saW51eC1hcm0ta2VybmVsLzIwMTYxMjEzMTUwODEzLjM3OTY2
LTItaHZlcmt1aWxAeHM0YWxsLm5sCj4gPgo+ID4gIE1BSU5UQUlORVJTICAgICAgICAgICAgICAg
ICAgIHwgICA2ICsrCj4gPiAgZHJpdmVycy92aWRlby9LY29uZmlnICAgICAgICAgfCAgIDMgKwo+
ID4gIGRyaXZlcnMvdmlkZW8vTWFrZWZpbGUgICAgICAgIHwgICAxICsKPiA+ICBkcml2ZXJzL3Zp
ZGVvL2hkbWktbm90aWZpZXIuYyB8IDE0NSArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysrCj4gPiAgaW5jbHVkZS9saW51eC9oZG1pLW5vdGlmaWVyLmggfCAxMTIgKysrKysrKysrKysr
KysrKysrKysrKysrKysKPiA+ICA1IGZpbGVzIGNoYW5nZWQsIDI2NyBpbnNlcnRpb25zKCspCj4g
PiAgY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvdmlkZW8vaGRtaS1ub3RpZmllci5jCj4gPiAg
Y3JlYXRlIG1vZGUgMTAwNjQ0IGluY2x1ZGUvbGludXgvaGRtaS1ub3RpZmllci5oCj4gPgo+ID4g
ZGlmZiAtLWdpdCBhL01BSU5UQUlORVJTIGIvTUFJTlRBSU5FUlMKPiA+IGluZGV4IDVjZmJlYTRj
ZTU3NS4uZmZiNzM3NmY5NTA5IDEwMDY0NAo+ID4gLS0tIGEvTUFJTlRBSU5FUlMKPiA+ICsrKyBi
L01BSU5UQUlORVJTCj4gPiBAQCAtMTY2NzYsNiArMTY2NzYsMTIgQEAgVzogICBodHRwczovL2xp
bnV4dHYub3JnCj4gPiAgUzogICBNYWludGFpbmVkCj4gPiAgRjogICBkcml2ZXJzL21lZGlhL3Bs
YXRmb3JtL3ZpY29kZWMvKgo+ID4KPiA+ICtWSURFTyBGUkFNRVdPUksKPiA+ICtNOiAgIEhhbnMg
VmVya3VpbCA8aHZlcmt1aWxAeHM0YWxsLm5sPgo+ID4gK0w6ICAgbGludXgtbWVkaWFAdmdlci5r
ZXJuZWwub3JnCj4gPiArRjogICBkcml2ZXJzL3ZpZGVvL2hkbWktbm90aWZpZXIuKgo+ID4gK1M6
ICAgTWFpbnRhaW5lZAo+ID4gKwo+ID4gIFZJREVPIE1VTFRJUExFWEVSIERSSVZFUgo+ID4gIE06
ICAgUGhpbGlwcCBaYWJlbCA8cC56YWJlbEBwZW5ndXRyb25peC5kZT4KPiA+ICBMOiAgIGxpbnV4
LW1lZGlhQHZnZXIua2VybmVsLm9yZwo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmlkZW8vS2Nv
bmZpZyBiL2RyaXZlcnMvdmlkZW8vS2NvbmZpZwo+ID4gaW5kZXggODNkM2QyNzFjYTE1Li4wMDBi
YTliYzBhZTcgMTAwNjQ0Cj4gPiAtLS0gYS9kcml2ZXJzL3ZpZGVvL0tjb25maWcKPiA+ICsrKyBi
L2RyaXZlcnMvdmlkZW8vS2NvbmZpZwo+ID4gQEAgLTM0LDYgKzM0LDkgQEAgY29uZmlnIFZJREVP
TU9ERV9IRUxQRVJTCj4gPiAgY29uZmlnIEhETUkKPiA+ICAgICAgIGJvb2wKPiA+Cj4gPiArY29u
ZmlnIEhETUlfTk9USUZJRVJTCj4gPiArICAgICBib29sCj4gPiArCj4gPiAgZW5kaWYgIyBIQVNf
SU9NRU0KPiA+Cj4gPiAgaWYgVlQKPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3ZpZGVvL01ha2Vm
aWxlIGIvZHJpdmVycy92aWRlby9NYWtlZmlsZQo+ID4gaW5kZXggZGY3NjUwYWRlZGU5Li5lZmY0
NzM2MTAyY2EgMTAwNjQ0Cj4gPiAtLS0gYS9kcml2ZXJzL3ZpZGVvL01ha2VmaWxlCj4gPiArKysg
Yi9kcml2ZXJzL3ZpZGVvL01ha2VmaWxlCj4gPiBAQCAtMSw2ICsxLDcgQEAKPiA+ICAjIFNQRFgt
TGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wCj4gPiAgb2JqLSQoQ09ORklHX1ZHQVNUQVRFKSAg
ICAgICAgICAgICs9IHZnYXN0YXRlLm8KPiA+ICBvYmotJChDT05GSUdfSERNSSkgICAgICAgICAg
ICAgICAgKz0gaGRtaS5vCj4gPiArb2JqLSQoQ09ORklHX0hETUlfTk9USUZJRVJTKSAgICAgICs9
IGhkbWktbm90aWZpZXIubwo+ID4KPiA+ICBvYmotJChDT05GSUdfVlQpICAgICAgICAgICAgICAg
Kz0gY29uc29sZS8KPiA+ICBvYmotJChDT05GSUdfRkJfU1RJKSAgICAgICAgICAgKz0gY29uc29s
ZS8KPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3ZpZGVvL2hkbWktbm90aWZpZXIuYyBiL2RyaXZl
cnMvdmlkZW8vaGRtaS1ub3RpZmllci5jCj4gPiBuZXcgZmlsZSBtb2RlIDEwMDY0NAo+ID4gaW5k
ZXggMDAwMDAwMDAwMDAwLi5kMWVlZGY2NjE2NDgKPiA+IC0tLSAvZGV2L251bGwKPiA+ICsrKyBi
L2RyaXZlcnMvdmlkZW8vaGRtaS1ub3RpZmllci5jCj4gPiBAQCAtMCwwICsxLDE0NSBAQAo+ID4g
Ky8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wCj4gPiArLyogaGRtaS1ub3RpZmll
ci5jIC0gbm90aWZ5IGludGVyZXN0ZWQgcGFydGllcyBvZiAoZGlzKWNvbm5lY3QgYW5kIEVESUQK
PiA+ICsgKiBldmVudHMKPiA+ICsgKgo+ID4gKyAqIENvcHlyaWdodCAyMDE2IFJ1c3NlbGwgS2lu
ZyA8cm1rK2tlcm5lbEBhcm0ubGludXgub3JnLnVrPgo+ID4gKyAqIENvcHlyaWdodCAyMDE2IENp
c2NvIFN5c3RlbXMsIEluYy4gYW5kL29yIGl0cyBhZmZpbGlhdGVzLgo+ID4gKyAqIEFsbCByaWdo
dHMgcmVzZXJ2ZWQuCj4gPiArICovCj4gPiArCj4gPiArI2luY2x1ZGUgPGxpbnV4L2V4cG9ydC5o
Pgo+ID4gKyNpbmNsdWRlIDxsaW51eC9oZG1pLW5vdGlmaWVyLmg+Cj4gPiArI2luY2x1ZGUgPGxp
bnV4L3N0cmluZy5oPgo+ID4gKyNpbmNsdWRlIDxsaW51eC9zbGFiLmg+Cj4gPiArI2luY2x1ZGUg
PGxpbnV4L2xpc3QuaD4KPiA+ICsKPiA+ICtzdGF0aWMgTElTVF9IRUFEKGhkbWlfbm90aWZpZXJz
KTsKPiA+ICtzdGF0aWMgREVGSU5FX01VVEVYKGhkbWlfbm90aWZpZXJzX2xvY2spOwo+ID4gKwo+
ID4gK3N0cnVjdCBoZG1pX25vdGlmaWVyICpoZG1pX25vdGlmaWVyX2dldChzdHJ1Y3QgZGV2aWNl
ICpkZXYpCj4gPiArewo+ID4gKyAgICAgc3RydWN0IGhkbWlfbm90aWZpZXIgKm47Cj4gPiArCj4g
PiArICAgICBtdXRleF9sb2NrKCZoZG1pX25vdGlmaWVyc19sb2NrKTsKPiA+ICsgICAgIGxpc3Rf
Zm9yX2VhY2hfZW50cnkobiwgJmhkbWlfbm90aWZpZXJzLCBoZWFkKSB7Cj4gPiArICAgICAgICAg
ICAgIGlmIChuLT5kZXYgPT0gZGV2KSB7Cj4gPiArICAgICAgICAgICAgICAgICAgICAgbXV0ZXhf
dW5sb2NrKCZoZG1pX25vdGlmaWVyc19sb2NrKTsKPiA+ICsgICAgICAgICAgICAgICAgICAgICBr
cmVmX2dldCgmbi0+a3JlZik7Cj4gPiArICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG47Cj4g
PiArICAgICAgICAgICAgIH0KPiA+ICsgICAgIH0KPiA+ICsgICAgIG4gPSBremFsbG9jKHNpemVv
ZigqbiksIEdGUF9LRVJORUwpOwo+ID4gKyAgICAgaWYgKCFuKQo+ID4gKyAgICAgICAgICAgICBn
b3RvIHVubG9jazsKPiA+ICsgICAgIG4tPmRldiA9IGRldjsKPiA+ICsgICAgIG11dGV4X2luaXQo
Jm4tPmxvY2spOwo+ID4gKyAgICAgQkxPQ0tJTkdfSU5JVF9OT1RJRklFUl9IRUFEKCZuLT5ub3Rp
ZmllcnMpOwo+ID4gKyAgICAga3JlZl9pbml0KCZuLT5rcmVmKTsKPiA+ICsgICAgIGxpc3RfYWRk
X3RhaWwoJm4tPmhlYWQsICZoZG1pX25vdGlmaWVycyk7Cj4gPiArdW5sb2NrOgo+ID4gKyAgICAg
bXV0ZXhfdW5sb2NrKCZoZG1pX25vdGlmaWVyc19sb2NrKTsKPiA+ICsgICAgIHJldHVybiBuOwo+
ID4gK30KPiA+ICtFWFBPUlRfU1lNQk9MX0dQTChoZG1pX25vdGlmaWVyX2dldCk7Cj4gPiArCj4g
PiArc3RhdGljIHZvaWQgaGRtaV9ub3RpZmllcl9yZWxlYXNlKHN0cnVjdCBrcmVmICprcmVmKQo+
ID4gK3sKPiA+ICsgICAgIHN0cnVjdCBoZG1pX25vdGlmaWVyICpuID0KPiA+ICsgICAgICAgICAg
ICAgY29udGFpbmVyX29mKGtyZWYsIHN0cnVjdCBoZG1pX25vdGlmaWVyLCBrcmVmKTsKPiA+ICsK
PiA+ICsgICAgIG11dGV4X2xvY2soJmhkbWlfbm90aWZpZXJzX2xvY2spOwo+ID4gKyAgICAgbGlz
dF9kZWwoJm4tPmhlYWQpOwo+ID4gKyAgICAgbXV0ZXhfdW5sb2NrKCZoZG1pX25vdGlmaWVyc19s
b2NrKTsKPiA+ICsgICAgIGtmcmVlKG4tPmVkaWQpOwo+ID4gKyAgICAga2ZyZWUobik7Cj4gPiAr
fQo+ID4gKwo+ID4gK3ZvaWQgaGRtaV9ub3RpZmllcl9wdXQoc3RydWN0IGhkbWlfbm90aWZpZXIg
Km4pCj4gPiArewo+ID4gKyAgICAga3JlZl9wdXQoJm4tPmtyZWYsIGhkbWlfbm90aWZpZXJfcmVs
ZWFzZSk7Cj4gPiArfQo+ID4gK0VYUE9SVF9TWU1CT0xfR1BMKGhkbWlfbm90aWZpZXJfcHV0KTsK
PiA+ICsKPiA+ICtpbnQgaGRtaV9ub3RpZmllcl9yZWdpc3RlcihzdHJ1Y3QgaGRtaV9ub3RpZmll
ciAqbiwgc3RydWN0IG5vdGlmaWVyX2Jsb2NrICpuYikKPiA+ICt7Cj4gPiArICAgICBpbnQgcmV0
ID0gYmxvY2tpbmdfbm90aWZpZXJfY2hhaW5fcmVnaXN0ZXIoJm4tPm5vdGlmaWVycywgbmIpOwo+
ID4gKwo+ID4gKyAgICAgaWYgKHJldCkKPiA+ICsgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiA+
ICsgICAgIGtyZWZfZ2V0KCZuLT5rcmVmKTsKPiA+ICsgICAgIG11dGV4X2xvY2soJm4tPmxvY2sp
Owo+ID4gKyAgICAgaWYgKG4tPmNvbm5lY3RlZCkgewo+ID4gKyAgICAgICAgICAgICBibG9ja2lu
Z19ub3RpZmllcl9jYWxsX2NoYWluKCZuLT5ub3RpZmllcnMsIEhETUlfQ09OTkVDVEVELCBuKTsK
PiA+ICsgICAgICAgICAgICAgaWYgKG4tPmVkaWRfc2l6ZSkKPiA+ICsgICAgICAgICAgICAgICAg
ICAgICBibG9ja2luZ19ub3RpZmllcl9jYWxsX2NoYWluKCZuLT5ub3RpZmllcnMsCj4gPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIRE1JX05FV19F
RElELCBuKTsKPiA+ICsgICAgICAgICAgICAgaWYgKG4tPmhhc19lbGQpCj4gPiArICAgICAgICAg
ICAgICAgICAgICAgYmxvY2tpbmdfbm90aWZpZXJfY2FsbF9jaGFpbigmbi0+bm90aWZpZXJzLAo+
ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSERN
SV9ORVdfRUxELCBuKTsKPiA+ICsgICAgIH0KPiA+ICsgICAgIG11dGV4X3VubG9jaygmbi0+bG9j
ayk7Cj4gPiArICAgICByZXR1cm4gMDsKPiA+ICt9Cj4gPiArRVhQT1JUX1NZTUJPTF9HUEwoaGRt
aV9ub3RpZmllcl9yZWdpc3Rlcik7Cj4gPiArCj4gPiAraW50IGhkbWlfbm90aWZpZXJfdW5yZWdp
c3RlcihzdHJ1Y3QgaGRtaV9ub3RpZmllciAqbiwgc3RydWN0IG5vdGlmaWVyX2Jsb2NrICpuYikK
PiA+ICt7Cj4gPiArICAgICBpbnQgcmV0ID0gYmxvY2tpbmdfbm90aWZpZXJfY2hhaW5fdW5yZWdp
c3Rlcigmbi0+bm90aWZpZXJzLCBuYik7Cj4gPiArCj4gPiArICAgICBpZiAocmV0ID09IDApCj4g
PiArICAgICAgICAgICAgIGhkbWlfbm90aWZpZXJfcHV0KG4pOwo+ID4gKyAgICAgcmV0dXJuIHJl
dDsKPiA+ICt9Cj4gPiArRVhQT1JUX1NZTUJPTF9HUEwoaGRtaV9ub3RpZmllcl91bnJlZ2lzdGVy
KTsKPiA+ICsKPiA+ICt2b2lkIGhkbWlfZXZlbnRfY29ubmVjdChzdHJ1Y3QgaGRtaV9ub3RpZmll
ciAqbikKPiA+ICt7Cj4gPiArICAgICBtdXRleF9sb2NrKCZuLT5sb2NrKTsKPiA+ICsgICAgIG4t
PmNvbm5lY3RlZCA9IHRydWU7Cj4gPiArICAgICBibG9ja2luZ19ub3RpZmllcl9jYWxsX2NoYWlu
KCZuLT5ub3RpZmllcnMsIEhETUlfQ09OTkVDVEVELCBuKTsKPiA+ICsgICAgIG11dGV4X3VubG9j
aygmbi0+bG9jayk7Cj4gPiArfQo+ID4gK0VYUE9SVF9TWU1CT0xfR1BMKGhkbWlfZXZlbnRfY29u
bmVjdCk7Cj4gPiArCj4gPiArdm9pZCBoZG1pX2V2ZW50X2Rpc2Nvbm5lY3Qoc3RydWN0IGhkbWlf
bm90aWZpZXIgKm4pCj4gPiArewo+ID4gKyAgICAgbXV0ZXhfbG9jaygmbi0+bG9jayk7Cj4gPiAr
ICAgICBuLT5jb25uZWN0ZWQgPSBmYWxzZTsKPiA+ICsgICAgIG4tPmhhc19lbGQgPSBmYWxzZTsK
PiA+ICsgICAgIG4tPmVkaWRfc2l6ZSA9IDA7Cj4gPiArICAgICBibG9ja2luZ19ub3RpZmllcl9j
YWxsX2NoYWluKCZuLT5ub3RpZmllcnMsIEhETUlfRElTQ09OTkVDVEVELCBuKTsKPiA+ICsgICAg
IG11dGV4X3VubG9jaygmbi0+bG9jayk7Cj4gPiArfQo+ID4gK0VYUE9SVF9TWU1CT0xfR1BMKGhk
bWlfZXZlbnRfZGlzY29ubmVjdCk7Cj4gPiArCj4gPiAraW50IGhkbWlfZXZlbnRfbmV3X2VkaWQo
c3RydWN0IGhkbWlfbm90aWZpZXIgKm4sIGNvbnN0IHZvaWQgKmVkaWQsIHNpemVfdCBzaXplKQo+
ID4gK3sKPiA+ICsgICAgIG11dGV4X2xvY2soJm4tPmxvY2spOwo+ID4gKyAgICAgaWYgKG4tPmVk
aWRfYWxsb2NhdGVkX3NpemUgPCBzaXplKSB7Cj4gPiArICAgICAgICAgICAgIHZvaWQgKnAgPSBr
bWFsbG9jKHNpemUsIEdGUF9LRVJORUwpOwo+ID4gKwo+ID4gKyAgICAgICAgICAgICBpZiAoIXAp
IHsKPiA+ICsgICAgICAgICAgICAgICAgICAgICBtdXRleF91bmxvY2soJm4tPmxvY2spOwo+ID4g
KyAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtRU5PTUVNOwo+ID4gKyAgICAgICAgICAgICB9
Cj4gPiArICAgICAgICAgICAgIGtmcmVlKG4tPmVkaWQpOwo+ID4gKyAgICAgICAgICAgICBuLT5l
ZGlkID0gcDsKPiA+ICsgICAgICAgICAgICAgbi0+ZWRpZF9hbGxvY2F0ZWRfc2l6ZSA9IHNpemU7
Cj4gPiArICAgICB9Cj4gPiArICAgICBtZW1jcHkobi0+ZWRpZCwgZWRpZCwgc2l6ZSk7Cj4gPiAr
ICAgICBuLT5lZGlkX3NpemUgPSBzaXplOwo+ID4gKyAgICAgYmxvY2tpbmdfbm90aWZpZXJfY2Fs
bF9jaGFpbigmbi0+bm90aWZpZXJzLCBIRE1JX05FV19FRElELCBuKTsKPiA+ICsgICAgIG11dGV4
X3VubG9jaygmbi0+bG9jayk7Cj4gPiArICAgICByZXR1cm4gMDsKPiA+ICt9Cj4gPiArRVhQT1JU
X1NZTUJPTF9HUEwoaGRtaV9ldmVudF9uZXdfZWRpZCk7Cj4gPiArCj4gPiArdm9pZCBoZG1pX2V2
ZW50X25ld19lbGQoc3RydWN0IGhkbWlfbm90aWZpZXIgKm4sIGNvbnN0IHU4IGVsZFsxMjhdKQo+
ID4gK3sKPiA+ICsgICAgIG11dGV4X2xvY2soJm4tPmxvY2spOwo+ID4gKyAgICAgbWVtY3B5KG4t
PmVsZCwgZWxkLCBzaXplb2Yobi0+ZWxkKSk7Cj4gPiArICAgICBuLT5oYXNfZWxkID0gdHJ1ZTsK
PiA+ICsgICAgIGJsb2NraW5nX25vdGlmaWVyX2NhbGxfY2hhaW4oJm4tPm5vdGlmaWVycywgSERN
SV9ORVdfRUxELCBuKTsKPiA+ICsgICAgIG11dGV4X3VubG9jaygmbi0+bG9jayk7Cj4gPiArfQo+
ID4gK0VYUE9SVF9TWU1CT0xfR1BMKGhkbWlfZXZlbnRfbmV3X2VsZCk7Cj4gPiBkaWZmIC0tZ2l0
IGEvaW5jbHVkZS9saW51eC9oZG1pLW5vdGlmaWVyLmggYi9pbmNsdWRlL2xpbnV4L2hkbWktbm90
aWZpZXIuaAo+ID4gbmV3IGZpbGUgbW9kZSAxMDA2NDQKPiA+IGluZGV4IDAwMDAwMDAwMDAwMC4u
YzhmMzUxMTBlM2UzCj4gPiAtLS0gL2Rldi9udWxsCj4gPiArKysgYi9pbmNsdWRlL2xpbnV4L2hk
bWktbm90aWZpZXIuaAo+ID4gQEAgLTAsMCArMSwxMTIgQEAKPiA+ICsvKiBTUERYLUxpY2Vuc2Ut
SWRlbnRpZmllcjogR1BMLTIuMAo+ID4gKyAqIGhkbWktbm90aWZpZXIuaCAtIG5vdGlmeSBpbnRl
cmVzdGVkIHBhcnRpZXMgb2YgKGRpcyljb25uZWN0IGFuZCBFRElECj4gPiArICogZXZlbnRzCj4g
PiArICoKPiA+ICsgKiBDb3B5cmlnaHQgMjAxNiBSdXNzZWxsIEtpbmcgPHJtaytrZXJuZWxAYXJt
LmxpbnV4Lm9yZy51az4KPiA+ICsgKiBDb3B5cmlnaHQgMjAxNiBDaXNjbyBTeXN0ZW1zLCBJbmMu
IGFuZC9vciBpdHMgYWZmaWxpYXRlcy4KPiA+ICsgKiBBbGwgcmlnaHRzIHJlc2VydmVkLgo+ID4g
KyAqLwo+ID4gKwo+ID4gKyNpZm5kZWYgTElOVVhfSERNSV9OT1RJRklFUl9ICj4gPiArI2RlZmlu
ZSBMSU5VWF9IRE1JX05PVElGSUVSX0gKPiA+ICsKPiA+ICsjaW5jbHVkZSA8bGludXgvdHlwZXMu
aD4KPiA+ICsjaW5jbHVkZSA8bGludXgvbm90aWZpZXIuaD4KPiA+ICsjaW5jbHVkZSA8bGludXgv
a3JlZi5oPgo+ID4gKwo+ID4gK2VudW0gewo+ID4gKyAgICAgSERNSV9DT05ORUNURUQsCj4gPiAr
ICAgICBIRE1JX0RJU0NPTk5FQ1RFRCwKPiA+ICsgICAgIEhETUlfTkVXX0VESUQsCj4gPiArICAg
ICBIRE1JX05FV19FTEQsCj4gPiArfTsKPiA+ICsKPiA+ICtzdHJ1Y3QgZGV2aWNlOwo+ID4gKwo+
ID4gK3N0cnVjdCBoZG1pX25vdGlmaWVyIHsKPiA+ICsgICAgIC8qIExvY2sgdG8gcHJvdGVjdCBj
YWxsYmFjayByZWdpc3RyYXRpb24gYW5kIG5vdGlmaWNhdGlvbi4gKi8KPiA+ICsgICAgIHN0cnVj
dCBtdXRleCBsb2NrOwo+ID4gKyAgICAgc3RydWN0IGxpc3RfaGVhZCBoZWFkOwo+ID4gKyAgICAg
c3RydWN0IGtyZWYga3JlZjsKPiA+ICsgICAgIHN0cnVjdCBibG9ja2luZ19ub3RpZmllcl9oZWFk
IG5vdGlmaWVyczsKPiA+ICsgICAgIHN0cnVjdCBkZXZpY2UgKmRldjsKPiA+ICsKPiA+ICsgICAg
IC8qIEN1cnJlbnQgc3RhdGUgKi8KPiA+ICsgICAgIHVuc2lnbmVkIGludCBjb25uZWN0ZWQgOiAx
Owo+ID4gKyAgICAgdW5zaWduZWQgaW50IGhhc19lbGQgOiAxOwo+ID4gKyAgICAgdW5zaWduZWQg
Y2hhciBlbGRbMTI4XTsKPiA+ICsgICAgIHZvaWQgKmVkaWQ7Cj4gPiArICAgICBzaXplX3QgZWRp
ZF9zaXplOwo+ID4gKyAgICAgc2l6ZV90IGVkaWRfYWxsb2NhdGVkX3NpemU7Cj4gPiArfTsKPiA+
ICsKPiA+ICsvKioKPiA+ICsgKiBoZG1pX25vdGlmaWVyX2dldCAtIGZpbmQgb3IgY3JlYXRlIGEg
bmV3IGhkbWlfbm90aWZpZXIgZm9yIHRoZSBnaXZlbiBkZXZpY2UuCj4gPiArICogQGRldjogZGV2
aWNlIHRoYXQgc2VuZHMgdGhlIGV2ZW50cy4KPiA+ICsgKgo+ID4gKyAqIElmIGEgbm90aWZpZXIg
Zm9yIGRldmljZSBAZGV2IGFscmVhZHkgZXhpc3RzLCB0aGVuIGluY3JlYXNlIHRoZSByZWZjb3Vu
dAo+ID4gKyAqIGFuZCByZXR1cm4gdGhhdCBub3RpZmllci4KPiA+ICsgKgo+ID4gKyAqIElmIGl0
IGRvZXNuJ3QgZXhpc3QsIHRoZW4gYWxsb2NhdGUgYSBuZXcgbm90aWZpZXIgc3RydWN0IGFuZCBy
ZXR1cm4gYQo+ID4gKyAqIHBvaW50ZXIgdG8gdGhhdCBuZXcgc3RydWN0Lgo+ID4gKyAqCj4gPiAr
ICogUmV0dXJuIE5VTEwgaWYgdGhlIG1lbW9yeSBjb3VsZCBub3QgYmUgYWxsb2NhdGVkLgo+ID4g
KyAqLwo+ID4gK3N0cnVjdCBoZG1pX25vdGlmaWVyICpoZG1pX25vdGlmaWVyX2dldChzdHJ1Y3Qg
ZGV2aWNlICpkZXYpOwo+ID4gKwo+ID4gKy8qKgo+ID4gKyAqIGhkbWlfbm90aWZpZXJfcHV0IC0g
ZGVjcmVhc2UgcmVmY291bnQgYW5kIGRlbGV0ZSB3aGVuIHRoZSByZWZjb3VudCByZWFjaGVzIDAu
Cj4gPiArICogQG46IG5vdGlmaWVyCj4gPiArICovCj4gPiArdm9pZCBoZG1pX25vdGlmaWVyX3B1
dChzdHJ1Y3QgaGRtaV9ub3RpZmllciAqbik7Cj4gPiArCj4gPiArLyoqCj4gPiArICogaGRtaV9u
b3RpZmllcl9yZWdpc3RlciAtIHJlZ2lzdGVyIHRoZSBub3RpZmllciB3aXRoIHRoZSBub3RpZmll
cl9ibG9jay4KPiA+ICsgKiBAbjogdGhlIEhETUkgbm90aWZpZXIKPiA+ICsgKiBAbmI6IHRoZSBu
b3RpZmllcl9ibG9jawo+ID4gKyAqLwo+ID4gK2ludCBoZG1pX25vdGlmaWVyX3JlZ2lzdGVyKHN0
cnVjdCBoZG1pX25vdGlmaWVyICpuLCBzdHJ1Y3Qgbm90aWZpZXJfYmxvY2sgKm5iKTsKPiA+ICsK
PiA+ICsvKioKPiA+ICsgKiBoZG1pX25vdGlmaWVyX3VucmVnaXN0ZXIgLSB1bnJlZ2lzdGVyIHRo
ZSBub3RpZmllciB3aXRoIHRoZSBub3RpZmllcl9ibG9jay4KPiA+ICsgKiBAbjogdGhlIEhETUkg
bm90aWZpZXIKPiA+ICsgKiBAbmI6IHRoZSBub3RpZmllcl9ibG9jawo+ID4gKyAqLwo+ID4gK2lu
dCBoZG1pX25vdGlmaWVyX3VucmVnaXN0ZXIoc3RydWN0IGhkbWlfbm90aWZpZXIgKm4sCj4gPiAr
ICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3Qgbm90aWZpZXJfYmxvY2sgKm5iKTsKPiA+
ICsKPiA+ICsvKioKPiA+ICsgKiBoZG1pX2V2ZW50X2Nvbm5lY3QgLSBzZW5kIGEgY29ubmVjdCBl
dmVudC4KPiA+ICsgKiBAbjogdGhlIEhETUkgbm90aWZpZXIKPiA+ICsgKgo+ID4gKyAqIFNlbmQg
YW4gSERNSV9DT05ORUNURUQgZXZlbnQgdG8gYW55IHJlZ2lzdGVyZWQgcGFydGllcy4KPiA+ICsg
Ki8KPiA+ICt2b2lkIGhkbWlfZXZlbnRfY29ubmVjdChzdHJ1Y3QgaGRtaV9ub3RpZmllciAqbik7
Cj4gPiArCj4gPiArLyoqCj4gPiArICogaGRtaV9ldmVudF9kaXNjb25uZWN0IC0gc2VuZCBhIGRp
c2Nvbm5lY3QgZXZlbnQuCj4gPiArICogQG46IHRoZSBIRE1JIG5vdGlmaWVyCj4gPiArICoKPiA+
ICsgKiBTZW5kIGFuIEhETUlfRElTQ09OTkVDVEVEIGV2ZW50IHRvIGFueSByZWdpc3RlcmVkIHBh
cnRpZXMuCj4gPiArICovCj4gPiArdm9pZCBoZG1pX2V2ZW50X2Rpc2Nvbm5lY3Qoc3RydWN0IGhk
bWlfbm90aWZpZXIgKm4pOwo+ID4gKwo+ID4gKy8qKgo+ID4gKyAqIGhkbWlfZXZlbnRfbmV3X2Vk
aWQgLSBzZW5kIGEgbmV3IEVESUQgZXZlbnQuCj4gPiArICogQG46IHRoZSBIRE1JIG5vdGlmaWVy
Cj4gPiArICoKPiA+ICsgKiBTZW5kIGFuIEhETUlfTkVXX0VESUQgZXZlbnQgdG8gYW55IHJlZ2lz
dGVyZWQgcGFydGllcy4KPiA+ICsgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgbWFrZSBhIGNvcHkgdGhl
IEVESUQgc28gaXQgY2FuIHJldHVybiAtRU5PTUVNIGlmCj4gPiArICogbm8gbWVtb3J5IGNvdWxk
IGJlIGFsbG9jYXRlZC4KPiA+ICsgKi8KPiA+ICtpbnQgaGRtaV9ldmVudF9uZXdfZWRpZChzdHJ1
Y3QgaGRtaV9ub3RpZmllciAqbiwgY29uc3Qgdm9pZCAqZWRpZCwgc2l6ZV90IHNpemUpOwo+ID4g
Kwo+ID4gKy8qKgo+ID4gKyAqIGhkbWlfZXZlbnRfbmV3X2VsZCAtIHNlbmQgYSBuZXcgRUxEIGV2
ZW50Lgo+ID4gKyAqIEBuOiB0aGUgSERNSSBub3RpZmllcgo+ID4gKyAqCj4gPiArICogU2VuZCBh
biBIRE1JX05FV19FTEQgZXZlbnQgdG8gYW55IHJlZ2lzdGVyZWQgcGFydGllcy4KPiA+ICsgKi8K
PiA+ICt2b2lkIGhkbWlfZXZlbnRfbmV3X2VsZChzdHJ1Y3QgaGRtaV9ub3RpZmllciAqbiwgY29u
c3QgdTggZWxkWzEyOF0pOwo+ID4gKwo+ID4gKyNlbmRpZgo+ID4KPgpfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRy
aS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5v
cmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
