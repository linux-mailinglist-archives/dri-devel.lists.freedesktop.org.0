Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 6DA0E1ADCAA
	for <lists+dri-devel@lfdr.de>; Fri, 17 Apr 2020 13:58:37 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id BEEA96EBB9;
	Fri, 17 Apr 2020 11:58:28 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga09.intel.com (mga09.intel.com [134.134.136.24])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C11586EBB6;
 Fri, 17 Apr 2020 11:58:23 +0000 (UTC)
IronPort-SDR: ujKmBJVQNOVlv4iKjEX5OqOOc18Vs90PUqP/jHQTMejwokCpvxL80Bx7YifD+6X8N+SWL0PQNc
 zoetnRKWig+Q==
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by orsmga102.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 17 Apr 2020 04:58:23 -0700
IronPort-SDR: v1IBL1TWj+t+hCcSgmw8e21nvd488nyPUI5ZiO/hWAfDZR4kCqIGObYrKj4nw0CJ/zMUJqoouQ
 NRe8b90EP8bQ==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.72,394,1580803200"; d="scan'208";a="279491996"
Received: from elewis-mobl.ger.corp.intel.com (HELO
 helsinki.ger.corp.intel.com) ([10.251.94.8])
 by orsmga008.jf.intel.com with ESMTP; 17 Apr 2020 04:58:21 -0700
From: Gwan-gyeong Mun <gwan-gyeong.mun@intel.com>
To: intel-gfx@lists.freedesktop.org
Subject: [PATCH v10 07/14] drm/i915: Program DP SDPs with computed configs
Date: Fri, 17 Apr 2020 15:00:33 +0300
Message-Id: <20200417120040.3432332-8-gwan-gyeong.mun@intel.com>
X-Mailer: git-send-email 2.25.0
In-Reply-To: <20200417120040.3432332-1-gwan-gyeong.mun@intel.com>
References: <20200417120040.3432332-1-gwan-gyeong.mun@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-fbdev@vger.kernel.org, jani.nikula@intel.com,
 dri-devel@lists.freedesktop.org, uma.shankar@intel.com,
 laurent.pinchart@ideasonboard.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SW4gb3JkZXIgdG8gdXNlIGNvbXB1dGVkIGNvbmZpZyBmb3IgRFAgU0RQcyAoRFAgVlNDIFNEUCBh
bmQgRFAgSERSIE1ldGFkYXRhCkluZm9mcmFtZSBTRFApLCBpdCByZXBsYWNlcyBpbnRlbF9kcF92
c2NfZW5hYmxlKCkgZnVuY3Rpb24gYW5kCmludGVsX2RwX2hkcl9tZXRhZGF0YV9lbmFibGUoKSBm
dW5jdGlvbiB0byBpbnRlbF9kcF9zZXRfaW5mb2ZyYW1lcygpCmZ1bmN0aW9uLgpBbmQgaXQgcmVt
b3ZlcyB1bnVzZWQgZnVuY3Rpb25zLgoKQmVmb3JlOgogaW50ZWxfZHBfdnNjX2VuYWJsZSgpIGFu
ZCBpbnRlbF9kcF9oZHJfbWV0YWRhdGFfZW5hYmxlKCkgY29tcHV0ZSBzZHAKIGNvbmZpZ3MgYW5k
IHByb2dyYW0gc2RwIHJlZ2lzdGVycyBvbiBlbmFibGUgY2FsbGJhY2sgb2YgZW5jb2Rlci4KCkFm
dGVyOgogSXQgc2VwYXJhdGVzIGNvbXB1dGluZyBvZiBzZHAgY29uZmlncyBhbmQgcHJvZ3JhbW1p
bmcgb2Ygc2RwIHJlZ2lzdGVyLgogVGhlIGNvbXB1dGUgY29uZmlnIGNhbGxiYWNrIG9mIGVuY29k
ZXIgY2FsbHMgY29tcHV0aW5nIHNkcCBjb25maWdzLgogVGhlIGVuYWJsZSBjYWxsYmFjayBvZiBl
bmNvZGVyIGNhbGxzIHByb2dyYW1taW5nIHNkcCByZWdpc3Rlci4KCnYzOiBSZWJhc2VkCnY1OiBQ
b2xpc2ggY29tbWl0IG1lc3NhZ2UgW1VtYV0KdjEwOiBSZWJhc2VkCgpTaWduZWQtb2ZmLWJ5OiBH
d2FuLWd5ZW9uZyBNdW4gPGd3YW4tZ3llb25nLm11bkBpbnRlbC5jb20+ClJldmlld2VkLWJ5OiBV
bWEgU2hhbmthciA8dW1hLnNoYW5rYXJAaW50ZWwuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMgfCAgIDMgKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfZHAuYyAgfCAyMjkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuaCAgfCAgIDYgLQogMyBmaWxlcyBjaGFuZ2Vk
LCAxIGluc2VydGlvbigrKSwgMjM3IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX2RkaS5jCmluZGV4IGJlNmM2MWJjYmM5Yy4uZDkyNzhkNzU1M2VlIDEwMDY0
NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RkaS5jCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMKQEAgLTM2NjgsOCArMzY2OCw3
IEBAIHN0YXRpYyB2b2lkIGludGVsX2VuYWJsZV9kZGlfZHAoc3RydWN0IGludGVsX2F0b21pY19z
dGF0ZSAqc3RhdGUsCiAKIAlpbnRlbF9lZHBfYmFja2xpZ2h0X29uKGNydGNfc3RhdGUsIGNvbm5f
c3RhdGUpOwogCWludGVsX3Bzcl9lbmFibGUoaW50ZWxfZHAsIGNydGNfc3RhdGUpOwotCWludGVs
X2RwX3ZzY19lbmFibGUoaW50ZWxfZHAsIGNydGNfc3RhdGUsIGNvbm5fc3RhdGUpOwotCWludGVs
X2RwX2hkcl9tZXRhZGF0YV9lbmFibGUoaW50ZWxfZHAsIGNydGNfc3RhdGUsIGNvbm5fc3RhdGUp
OworCWludGVsX2RwX3NldF9pbmZvZnJhbWVzKGVuY29kZXIsIHRydWUsIGNydGNfc3RhdGUsIGNv
bm5fc3RhdGUpOwogCWludGVsX2VkcF9kcnJzX2VuYWJsZShpbnRlbF9kcCwgY3J0Y19zdGF0ZSk7
CiAKIAlpZiAoY3J0Y19zdGF0ZS0+aGFzX2F1ZGlvKQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9kcC5jCmluZGV4IGM0MzUwOTgxNzliNy4uMmU4ZWZlN2FhNzc2IDEwMDY0NAotLS0g
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwLmMKKysrIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcC5jCkBAIC01MjExLDIzNSArNTIxMSw2IEBAIHZv
aWQgaW50ZWxfcmVhZF9kcF9zZHAoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCiAJfQog
fQogCi1zdGF0aWMgdm9pZAotaW50ZWxfZHBfc2V0dXBfdnNjX3NkcChzdHJ1Y3QgaW50ZWxfZHAg
KmludGVsX2RwLAotCQkgICAgICAgY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNf
c3RhdGUsCi0JCSAgICAgICBjb25zdCBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9zdGF0ZSAqY29ubl9z
dGF0ZSkKLXsKLQlzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICppbnRlbF9kaWdfcG9ydCA9IGRw
X3RvX2RpZ19wb3J0KGludGVsX2RwKTsKLQlzdHJ1Y3QgZHBfc2RwIHZzY19zZHAgPSB7fTsKLQot
CS8qIFByZXBhcmUgVlNDIEhlYWRlciBmb3IgU1UgYXMgcGVyIERQIDEuNGEgc3BlYywgVGFibGUg
Mi0xMTkgKi8KLQl2c2Nfc2RwLnNkcF9oZWFkZXIuSEIwID0gMDsKLQl2c2Nfc2RwLnNkcF9oZWFk
ZXIuSEIxID0gMHg3OwotCi0JLyoKLQkgKiBWU0MgU0RQIHN1cHBvcnRpbmcgM0Qgc3RlcmVvLCBQ
U1IyLCBhbmQgUGl4ZWwgRW5jb2RpbmcvCi0JICogQ29sb3JpbWV0cnkgRm9ybWF0IGluZGljYXRp
b24uCi0JICovCi0JdnNjX3NkcC5zZHBfaGVhZGVyLkhCMiA9IDB4NTsKLQotCS8qCi0JICogVlND
IFNEUCBzdXBwb3J0aW5nIDNEIHN0ZXJlbywgKyBQU1IyLCArIFBpeGVsIEVuY29kaW5nLwotCSAq
IENvbG9yaW1ldHJ5IEZvcm1hdCBpbmRpY2F0aW9uIChIQjIgPSAwNWgpLgotCSAqLwotCXZzY19z
ZHAuc2RwX2hlYWRlci5IQjMgPSAweDEzOwotCi0JLyogRFAgMS40YSBzcGVjLCBUYWJsZSAyLTEy
MCAqLwotCXN3aXRjaCAoY3J0Y19zdGF0ZS0+b3V0cHV0X2Zvcm1hdCkgewotCWNhc2UgSU5URUxf
T1VUUFVUX0ZPUk1BVF9ZQ0JDUjQ0NDoKLQkJdnNjX3NkcC5kYlsxNl0gPSAweDEgPDwgNDsgLyog
WUNiQ3IgNDQ0IDogREIxNls3OjRdID0gMWggKi8KLQkJYnJlYWs7Ci0JY2FzZSBJTlRFTF9PVVRQ
VVRfRk9STUFUX1lDQkNSNDIwOgotCQl2c2Nfc2RwLmRiWzE2XSA9IDB4MyA8PCA0OyAvKiBZQ2JD
ciA0MjAgOiBEQjE2Wzc6NF0gPSAzaCAqLwotCQlicmVhazsKLQljYXNlIElOVEVMX09VVFBVVF9G
T1JNQVRfUkdCOgotCWRlZmF1bHQ6Ci0JCS8qIFJHQjogREIxNls3OjRdID0gMGggKi8KLQkJYnJl
YWs7Ci0JfQotCi0Jc3dpdGNoIChjb25uX3N0YXRlLT5jb2xvcnNwYWNlKSB7Ci0JY2FzZSBEUk1f
TU9ERV9DT0xPUklNRVRSWV9CVDcwOV9ZQ0M6Ci0JCXZzY19zZHAuZGJbMTZdIHw9IDB4MTsKLQkJ
YnJlYWs7Ci0JY2FzZSBEUk1fTU9ERV9DT0xPUklNRVRSWV9YVllDQ182MDE6Ci0JCXZzY19zZHAu
ZGJbMTZdIHw9IDB4MjsKLQkJYnJlYWs7Ci0JY2FzZSBEUk1fTU9ERV9DT0xPUklNRVRSWV9YVllD
Q183MDk6Ci0JCXZzY19zZHAuZGJbMTZdIHw9IDB4MzsKLQkJYnJlYWs7Ci0JY2FzZSBEUk1fTU9E
RV9DT0xPUklNRVRSWV9TWUNDXzYwMToKLQkJdnNjX3NkcC5kYlsxNl0gfD0gMHg0OwotCQlicmVh
azsKLQljYXNlIERSTV9NT0RFX0NPTE9SSU1FVFJZX09QWUNDXzYwMToKLQkJdnNjX3NkcC5kYlsx
Nl0gfD0gMHg1OwotCQlicmVhazsKLQljYXNlIERSTV9NT0RFX0NPTE9SSU1FVFJZX0JUMjAyMF9D
WUNDOgotCWNhc2UgRFJNX01PREVfQ09MT1JJTUVUUllfQlQyMDIwX1JHQjoKLQkJdnNjX3NkcC5k
YlsxNl0gfD0gMHg2OwotCQlicmVhazsKLQljYXNlIERSTV9NT0RFX0NPTE9SSU1FVFJZX0JUMjAy
MF9ZQ0M6Ci0JCXZzY19zZHAuZGJbMTZdIHw9IDB4NzsKLQkJYnJlYWs7Ci0JY2FzZSBEUk1fTU9E
RV9DT0xPUklNRVRSWV9EQ0lfUDNfUkdCX0Q2NToKLQljYXNlIERSTV9NT0RFX0NPTE9SSU1FVFJZ
X0RDSV9QM19SR0JfVEhFQVRFUjoKLQkJdnNjX3NkcC5kYlsxNl0gfD0gMHg0OyAvKiBEQ0ktUDMg
KFNNUFRFIFJQIDQzMS0yKSAqLwotCQlicmVhazsKLQlkZWZhdWx0OgotCQkvKiBzUkdCIChJRUMg
NjE5NjYtMi0xKSAvIElUVS1SIEJULjYwMTogREIxNlswOjNdID0gMGggKi8KLQotCQkvKiBSR0It
PllDQkNSIGNvbG9yIGNvbnZlcnNpb24gdXNlcyB0aGUgQlQuNzA5IGNvbG9yIHNwYWNlLiAqLwot
CQlpZiAoY3J0Y19zdGF0ZS0+b3V0cHV0X2Zvcm1hdCA9PSBJTlRFTF9PVVRQVVRfRk9STUFUX1lD
QkNSNDIwKQotCQkJdnNjX3NkcC5kYlsxNl0gfD0gMHgxOyAvKiAweDEsIElUVS1SIEJULjcwOSAq
LwotCQlicmVhazsKLQl9Ci0KLQkvKgotCSAqIEZvciBwaXhlbCBlbmNvZGluZyBmb3JtYXRzIFlD
YkNyNDQ0LCBZQ2JDcjQyMiwgWUNiQ3I0MjAsIGFuZCBZIE9ubHksCi0JICogdGhlIGZvbGxvd2lu
ZyBDb21wb25lbnQgQml0IERlcHRoIHZhbHVlcyBhcmUgZGVmaW5lZDoKLQkgKiAwMDFiID0gOGJw
Yy4KLQkgKiAwMTBiID0gMTBicGMuCi0JICogMDExYiA9IDEyYnBjLgotCSAqIDEwMGIgPSAxNmJw
Yy4KLQkgKi8KLQlzd2l0Y2ggKGNydGNfc3RhdGUtPnBpcGVfYnBwKSB7Ci0JY2FzZSAyNDogLyog
OGJwYyAqLwotCQl2c2Nfc2RwLmRiWzE3XSA9IDB4MTsKLQkJYnJlYWs7Ci0JY2FzZSAzMDogLyog
MTBicGMgKi8KLQkJdnNjX3NkcC5kYlsxN10gPSAweDI7Ci0JCWJyZWFrOwotCWNhc2UgMzY6IC8q
IDEyYnBjICovCi0JCXZzY19zZHAuZGJbMTddID0gMHgzOwotCQlicmVhazsKLQljYXNlIDQ4OiAv
KiAxNmJwYyAqLwotCQl2c2Nfc2RwLmRiWzE3XSA9IDB4NDsKLQkJYnJlYWs7Ci0JZGVmYXVsdDoK
LQkJTUlTU0lOR19DQVNFKGNydGNfc3RhdGUtPnBpcGVfYnBwKTsKLQkJYnJlYWs7Ci0JfQotCi0J
LyoKLQkgKiBEeW5hbWljIFJhbmdlIChCaXQgNykKLQkgKiAwID0gVkVTQSByYW5nZSwgMSA9IENU
QSByYW5nZS4KLQkgKiBhbGwgWUNiQ3IgYXJlIGFsd2F5cyBsaW1pdGVkIHJhbmdlCi0JICovCi0J
dnNjX3NkcC5kYlsxN10gfD0gMHg4MDsKLQotCS8qCi0JICogQ29udGVudCBUeXBlIChCaXRzIDI6
MCkKLQkgKiAwMDBiID0gTm90IGRlZmluZWQuCi0JICogMDAxYiA9IEdyYXBoaWNzLgotCSAqIDAx
MGIgPSBQaG90by4KLQkgKiAwMTFiID0gVmlkZW8uCi0JICogMTAwYiA9IEdhbWUKLQkgKiBBbGwg
b3RoZXIgdmFsdWVzIGFyZSBSRVNFUlZFRC4KLQkgKiBOb3RlOiBTZWUgQ1RBLTg2MS1HIGZvciB0
aGUgZGVmaW5pdGlvbiBhbmQgZXhwZWN0ZWQKLQkgKiBwcm9jZXNzaW5nIGJ5IGEgc3RyZWFtIHNp
bmsgZm9yIHRoZSBhYm92ZSBjb250ZWN0IHR5cGVzLgotCSAqLwotCXZzY19zZHAuZGJbMThdID0g
MDsKLQotCWludGVsX2RpZ19wb3J0LT53cml0ZV9pbmZvZnJhbWUoJmludGVsX2RpZ19wb3J0LT5i
YXNlLAotCQkJY3J0Y19zdGF0ZSwgRFBfU0RQX1ZTQywgJnZzY19zZHAsIHNpemVvZih2c2Nfc2Rw
KSk7Ci19Ci0KLXN0YXRpYyB2b2lkCi1pbnRlbF9kcF9zZXR1cF9oZHJfbWV0YWRhdGFfaW5mb2Zy
YW1lX3NkcChzdHJ1Y3QgaW50ZWxfZHAgKmludGVsX2RwLAotCQkJCQkgIGNvbnN0IHN0cnVjdCBp
bnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLAotCQkJCQkgIGNvbnN0IHN0cnVjdCBkcm1fY29u
bmVjdG9yX3N0YXRlICpjb25uX3N0YXRlKQotewotCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpp
OTE1ID0gZHBfdG9faTkxNShpbnRlbF9kcCk7Ci0Jc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAq
aW50ZWxfZGlnX3BvcnQgPSBkcF90b19kaWdfcG9ydChpbnRlbF9kcCk7Ci0Jc3RydWN0IGRwX3Nk
cCBpbmZvZnJhbWVfc2RwID0ge307Ci0Jc3RydWN0IGhkbWlfZHJtX2luZm9mcmFtZSBkcm1faW5m
b2ZyYW1lID0ge307Ci0JY29uc3QgaW50IGluZm9mcmFtZV9zaXplID0gSERNSV9JTkZPRlJBTUVf
SEVBREVSX1NJWkUgKyBIRE1JX0RSTV9JTkZPRlJBTUVfU0laRTsKLQl1bnNpZ25lZCBjaGFyIGJ1
ZltIRE1JX0lORk9GUkFNRV9IRUFERVJfU0laRSArIEhETUlfRFJNX0lORk9GUkFNRV9TSVpFXTsK
LQlzc2l6ZV90IGxlbjsKLQlpbnQgcmV0OwotCi0JcmV0ID0gZHJtX2hkbWlfaW5mb2ZyYW1lX3Nl
dF9oZHJfbWV0YWRhdGEoJmRybV9pbmZvZnJhbWUsIGNvbm5fc3RhdGUpOwotCWlmIChyZXQpIHsK
LQkJZHJtX2RiZ19rbXMoJmk5MTUtPmRybSwKLQkJCSAgICAiY291bGRuJ3Qgc2V0IEhEUiBtZXRh
ZGF0YSBpbiBpbmZvZnJhbWVcbiIpOwotCQlyZXR1cm47Ci0JfQotCi0JbGVuID0gaGRtaV9kcm1f
aW5mb2ZyYW1lX3BhY2tfb25seSgmZHJtX2luZm9mcmFtZSwgYnVmLCBzaXplb2YoYnVmKSk7Ci0J
aWYgKGxlbiA8IDApIHsKLQkJZHJtX2RiZ19rbXMoJmk5MTUtPmRybSwKLQkJCSAgICAiYnVmZmVy
IHNpemUgaXMgc21hbGxlciB0aGFuIGhkciBtZXRhZGF0YSBpbmZvZnJhbWVcbiIpOwotCQlyZXR1
cm47Ci0JfQotCi0JaWYgKGxlbiAhPSBpbmZvZnJhbWVfc2l6ZSkgewotCQlkcm1fZGJnX2ttcygm
aTkxNS0+ZHJtLCAid3Jvbmcgc3RhdGljIGhkciBtZXRhZGF0YSBzaXplXG4iKTsKLQkJcmV0dXJu
OwotCX0KLQotCS8qCi0JICogU2V0IHVwIHRoZSBpbmZvZnJhbWUgc2RwIHBhY2tldCBmb3IgSERS
IHN0YXRpYyBtZXRhZGF0YS4KLQkgKiBQcmVwYXJlIFZTQyBIZWFkZXIgZm9yIFNVIGFzIHBlciBE
UCAxLjRhIHNwZWMsCi0JICogVGFibGUgMi0xMDAgYW5kIFRhYmxlIDItMTAxCi0JICovCi0KLQkv
KiBQYWNrZXQgSUQsIDAwaCBmb3Igbm9uLUF1ZGlvIElORk9GUkFNRSAqLwotCWluZm9mcmFtZV9z
ZHAuc2RwX2hlYWRlci5IQjAgPSAwOwotCS8qCi0JICogUGFja2V0IFR5cGUgODBoICsgTm9uLWF1
ZGlvIElORk9GUkFNRSBUeXBlIHZhbHVlCi0JICogSERNSV9JTkZPRlJBTUVfVFlQRV9EUk06IDB4
ODcsCi0JICovCi0JaW5mb2ZyYW1lX3NkcC5zZHBfaGVhZGVyLkhCMSA9IGRybV9pbmZvZnJhbWUu
dHlwZTsKLQkvKgotCSAqIExlYXN0IFNpZ25pZmljYW50IEVpZ2h0IEJpdHMgb2YgKERhdGEgQnl0
ZSBDb3VudCDigJMgMSkKLQkgKiBpbmZvZnJhbWVfc2l6ZSAtIDEsCi0JICovCi0JaW5mb2ZyYW1l
X3NkcC5zZHBfaGVhZGVyLkhCMiA9IDB4MUQ7Ci0JLyogSU5GT0ZSQU1FIFNEUCBWZXJzaW9uIE51
bWJlciAqLwotCWluZm9mcmFtZV9zZHAuc2RwX2hlYWRlci5IQjMgPSAoMHgxMyA8PCAyKTsKLQkv
KiBDVEEgSGVhZGVyIEJ5dGUgMiAoSU5GT0ZSQU1FIFZlcnNpb24gTnVtYmVyKSAqLwotCWluZm9m
cmFtZV9zZHAuZGJbMF0gPSBkcm1faW5mb2ZyYW1lLnZlcnNpb247Ci0JLyogQ1RBIEhlYWRlciBC
eXRlIDMgKExlbmd0aCBvZiBJTkZPRlJBTUUpOiBIRE1JX0RSTV9JTkZPRlJBTUVfU0laRSAqLwot
CWluZm9mcmFtZV9zZHAuZGJbMV0gPSBkcm1faW5mb2ZyYW1lLmxlbmd0aDsKLQkvKgotCSAqIENv
cHkgSERNSV9EUk1fSU5GT0ZSQU1FX1NJWkUgc2l6ZSBmcm9tIGEgYnVmZmVyIGFmdGVyCi0JICog
SERNSV9JTkZPRlJBTUVfSEVBREVSX1NJWkUKLQkgKi8KLQlCVUlMRF9CVUdfT04oc2l6ZW9mKGlu
Zm9mcmFtZV9zZHAuZGIpIDwgSERNSV9EUk1fSU5GT0ZSQU1FX1NJWkUgKyAyKTsKLQltZW1jcHko
JmluZm9mcmFtZV9zZHAuZGJbMl0sICZidWZbSERNSV9JTkZPRlJBTUVfSEVBREVSX1NJWkVdLAot
CSAgICAgICBIRE1JX0RSTV9JTkZPRlJBTUVfU0laRSk7Ci0KLQkvKgotCSAqIFNpemUgb2YgRFAg
aW5mb2ZyYW1lIHNkcCBwYWNrZXQgZm9yIEhEUiBzdGF0aWMgbWV0YWRhdGEgaXMgY29uc2lzdCBv
ZgotCSAqIC0gRFAgU0RQIEhlYWRlcihzdHJ1Y3QgZHBfc2RwX2hlYWRlcik6IDQgYnl0ZXMKLQkg
KiAtIFR3byBEYXRhIEJsb2NrczogMiBieXRlcwotCSAqICAgIENUQSBIZWFkZXIgQnl0ZTIgKElO
Rk9GUkFNRSBWZXJzaW9uIE51bWJlcikKLQkgKiAgICBDVEEgSGVhZGVyIEJ5dGUzIChMZW5ndGgg
b2YgSU5GT0ZSQU1FKQotCSAqIC0gSERNSV9EUk1fSU5GT0ZSQU1FX1NJWkU6IDI2IGJ5dGVzCi0J
ICoKLQkgKiBQcmlvciB0byBHRU4xMSdzIEdNUCByZWdpc3RlciBzaXplIGlzIGlkZW50aWNhbCB0
byBEUCBIRFIgc3RhdGljIG1ldGFkYXRhCi0JICogaW5mb2ZyYW1lIHNpemUuIEJ1dCBHRU4xMSsg
aGFzIGxhcmdlciB0aGFuIHRoYXQgc2l6ZSwgd3JpdGVfaW5mb2ZyYW1lCi0JICogd2lsbCBwYWQg
cmVzdCBvZiB0aGUgc2l6ZS4KLQkgKi8KLQlpbnRlbF9kaWdfcG9ydC0+d3JpdGVfaW5mb2ZyYW1l
KCZpbnRlbF9kaWdfcG9ydC0+YmFzZSwgY3J0Y19zdGF0ZSwKLQkJCQkJSERNSV9QQUNLRVRfVFlQ
RV9HQU1VVF9NRVRBREFUQSwKLQkJCQkJJmluZm9mcmFtZV9zZHAsCi0JCQkJCXNpemVvZihzdHJ1
Y3QgZHBfc2RwX2hlYWRlcikgKyAyICsgSERNSV9EUk1fSU5GT0ZSQU1FX1NJWkUpOwotfQotCi12
b2lkIGludGVsX2RwX3ZzY19lbmFibGUoc3RydWN0IGludGVsX2RwICppbnRlbF9kcCwKLQkJCSBj
b25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSwKLQkJCSBjb25zdCBzdHJ1
Y3QgZHJtX2Nvbm5lY3Rvcl9zdGF0ZSAqY29ubl9zdGF0ZSkKLXsKLQlpZiAoIWludGVsX2RwX25l
ZWRzX3ZzY19zZHAoY3J0Y19zdGF0ZSwgY29ubl9zdGF0ZSkpCi0JCXJldHVybjsKLQotCWludGVs
X2RwX3NldHVwX3ZzY19zZHAoaW50ZWxfZHAsIGNydGNfc3RhdGUsIGNvbm5fc3RhdGUpOwotfQot
Ci12b2lkIGludGVsX2RwX2hkcl9tZXRhZGF0YV9lbmFibGUoc3RydWN0IGludGVsX2RwICppbnRl
bF9kcCwKLQkJCQkgIGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLAot
CQkJCSAgY29uc3Qgc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKmNvbm5fc3RhdGUpCi17Ci0J
aWYgKCFjb25uX3N0YXRlLT5oZHJfb3V0cHV0X21ldGFkYXRhKQotCQlyZXR1cm47Ci0KLQlpbnRl
bF9kcF9zZXR1cF9oZHJfbWV0YWRhdGFfaW5mb2ZyYW1lX3NkcChpbnRlbF9kcCwKLQkJCQkJCSAg
Y3J0Y19zdGF0ZSwKLQkJCQkJCSAgY29ubl9zdGF0ZSk7Ci19Ci0KIHN0YXRpYyB1OCBpbnRlbF9k
cF9hdXRvdGVzdF9saW5rX3RyYWluaW5nKHN0cnVjdCBpbnRlbF9kcCAqaW50ZWxfZHApCiB7CiAJ
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUgPSBkcF90b19pOTE1KGludGVsX2RwKTsKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuaCBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuaAppbmRleCBmYWEyYTNjNWVlNGUuLjBk
MmRlMTU3MDNjMyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9kcC5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuaApAQCAt
MTA4LDEyICsxMDgsNiBAQCBpbnQgaW50ZWxfZHBfbGlua19yZXF1aXJlZChpbnQgcGl4ZWxfY2xv
Y2ssIGludCBicHApOwogaW50IGludGVsX2RwX21heF9kYXRhX3JhdGUoaW50IG1heF9saW5rX2Ns
b2NrLCBpbnQgbWF4X2xhbmVzKTsKIGJvb2wgaW50ZWxfZHBfbmVlZHNfdnNjX3NkcChjb25zdCBz
dHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSwKIAkJCSAgICBjb25zdCBzdHJ1Y3Qg
ZHJtX2Nvbm5lY3Rvcl9zdGF0ZSAqY29ubl9zdGF0ZSk7Ci12b2lkIGludGVsX2RwX3ZzY19lbmFi
bGUoc3RydWN0IGludGVsX2RwICppbnRlbF9kcCwKLQkJCSBjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0
Y19zdGF0ZSAqY3J0Y19zdGF0ZSwKLQkJCSBjb25zdCBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9zdGF0
ZSAqY29ubl9zdGF0ZSk7Ci12b2lkIGludGVsX2RwX2hkcl9tZXRhZGF0YV9lbmFibGUoc3RydWN0
IGludGVsX2RwICppbnRlbF9kcCwKLQkJCQkgIGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRl
ICpjcnRjX3N0YXRlLAotCQkJCSAgY29uc3Qgc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKmNv
bm5fc3RhdGUpOwogdm9pZCBpbnRlbF9kcF9zZXRfaW5mb2ZyYW1lcyhzdHJ1Y3QgaW50ZWxfZW5j
b2RlciAqZW5jb2RlciwgYm9vbCBlbmFibGUsCiAJCQkgICAgIGNvbnN0IHN0cnVjdCBpbnRlbF9j
cnRjX3N0YXRlICpjcnRjX3N0YXRlLAogCQkJICAgICBjb25zdCBzdHJ1Y3QgZHJtX2Nvbm5lY3Rv
cl9zdGF0ZSAqY29ubl9zdGF0ZSk7Ci0tIAoyLjI1LjAKCl9fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVs
QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWls
bWFuL2xpc3RpbmZvL2RyaS1kZXZlbAo=
