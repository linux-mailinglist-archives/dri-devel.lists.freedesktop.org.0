Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id E3415E13AB
	for <lists+dri-devel@lfdr.de>; Wed, 23 Oct 2019 10:10:01 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D434D6E993;
	Wed, 23 Oct 2019 08:09:40 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-pf1-x44a.google.com (mail-pf1-x44a.google.com
 [IPv6:2607:f8b0:4864:20::44a])
 by gabe.freedesktop.org (Postfix) with ESMTPS id AB5156E5EF
 for <dri-devel@lists.freedesktop.org>; Tue, 22 Oct 2019 11:47:10 +0000 (UTC)
Received: by mail-pf1-x44a.google.com with SMTP id s137so13149109pfs.18
 for <dri-devel@lists.freedesktop.org>; Tue, 22 Oct 2019 04:47:10 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:date:in-reply-to:message-id:mime-version
 :references:subject:from:to:cc;
 bh=s0s8xkCRDoETkGIRm0ElT2FwVj33VJZ3cTstMqIB3IM=;
 b=PctaBWaKknA+KETFy66WHEyi89kwSrN5M2hnsldAFC62+H19wMHBFzyR+8ppwaH7RL
 L+ljySJZq77V3pQl3EiPHRgP25Ct4pGLlTGUNkDC5yF8YD1zH4R54+SElFhg2BG7hzsG
 JsdYxEZDQ6IPPKtCf5jO2TnxS1oYFtb9HrChO6qOUn4HlTOUfxaOlAvaiottI+LrUXCv
 lltGcsBJyGEmTGW5IA5znCSA8ps75nmzgZDQVuxkNEOcGpLzVEMgfqO+AjDGYLUkp+2D
 QJLhZWP4T2zmau6Qo8z2fhcvK6XKDbOEyfBqQ5ENqilU4pzttKK31DRJw+JugvU3cDtX
 u8rw==
X-Gm-Message-State: APjAAAXEZWqs2zv5Xr9HlmytQvrJoFHKxgzTAogrU232loRUQnYyBCBw
 niLMVKVOIcXHnv+yQtVaQFklAZcug4Zk
X-Google-Smtp-Source: APXvYqy9VizXIvEY2o6/3SHowrevaAyupW9XltTdBSGcXmWEmoUxzrtIaUakSyVtkK+jhJd4Wuu1Vf6Qx09o
X-Received: by 2002:a63:8f41:: with SMTP id r1mr3124518pgn.83.1571744829991;
 Tue, 22 Oct 2019 04:47:09 -0700 (PDT)
Date: Tue, 22 Oct 2019 19:45:04 +0800
In-Reply-To: <20191022114505.196852-1-tzungbi@google.com>
Message-Id: <20191022193301.5.I8247fd099947a7a67ac86479b9972ea98272f547@changeid>
Mime-Version: 1.0
References: <20191022114505.196852-1-tzungbi@google.com>
X-Mailer: git-send-email 2.23.0.866.gb869b98d4c-goog
Subject: [PATCH 5/6] drm: bridge: it6505: report connector status
From: Tzung-Bi Shih <tzungbi@google.com>
To: broonie@kernel.org, robh+dt@kernel.org, narmstrong@baylibre.com
X-Mailman-Approved-At: Wed, 23 Oct 2019 08:09:38 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=google.com; s=20161025;
 h=date:in-reply-to:message-id:mime-version:references:subject:from:to
 :cc;
 bh=s0s8xkCRDoETkGIRm0ElT2FwVj33VJZ3cTstMqIB3IM=;
 b=I0acZyZn7Xa5n4obt1qg6joAIwyf9eiBWk/mW3Nlwg9fcmVvcxkuhvFIyFjP6M92dr
 QdJzMn7/AX2f9zcQntoB5Zkse6Pu+SHBIjb00x3UrLLdWyJg6s2YtB6Fu8qunSioqb/2
 Gycr9cOufMmEc1mn0DSCnsqeWMDvVDc+hZAs/QE9Hp5twycxtJjudehRrb6hEYsFYlXK
 b6yZtGFAEbG3wzWfdNZ4BbfoJEL6PWqgncjY6r2NSDEh+PAPI6wEZdcKJV8BsAcfVWWV
 Bup7DNuh9H23t+2obXziuAUtbntup0JtzB239+cUjg0vNJvV5MsMM7DfaO8j6ficqge6
 lF7A==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: devicetree@vger.kernel.org, alsa-devel@alsa-project.org,
 cychiang@google.com, jonas@kwiboo.se, allen.chen@ite.com.tw,
 jernej.skrabec@siol.net, dri-devel@lists.freedesktop.org,
 Laurent.pinchart@ideasonboard.com, tzungbi@google.com, dgreid@google.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

V2hlbiBhIGNvbm5lY3RvciBjb25uZWN0ZWQgb3IgZGlzY29ubmVjdGVkLCByZXBvcnQgdGhlIGph
Y2sgc3RhdHVzLgoKU2lnbmVkLW9mZi1ieTogVHp1bmctQmkgU2hpaCA8dHp1bmdiaUBnb29nbGUu
Y29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvaXRlLWl0NjUwNS5jIHwgMzkgKysrKysr
KysrKysrKysrKysrKysrKysrKysrLS0KIDEgZmlsZSBjaGFuZ2VkLCAzNyBpbnNlcnRpb25zKCsp
LCAyIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvaXRl
LWl0NjUwNS5jIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9pdGUtaXQ2NTA1LmMKaW5kZXggMWQx
OTE4NGQyMDU2Li42NDVkNzk0N2FjYzIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9icmlk
Z2UvaXRlLWl0NjUwNS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvaXRlLWl0NjUwNS5j
CkBAIC0xODAsNiArMTgwLDEwIEBAIHN0cnVjdCBpdDY1MDUgewogCWJvb2wgcG93ZXJlZDsKIAkv
KiBpdDY1MDUgZHJpdmVyIGhvbGQgb3B0aW9uICovCiAJdW5zaWduZWQgaW50IGRydl9ob2xkOwor
CisJaGRtaV9jb2RlY19wbHVnZ2VkX2NiIHBsdWdnZWRfY2I7CisJc3RydWN0IGRldmljZSAqY29k
ZWNfZGV2OworCWVudW0gZHJtX2Nvbm5lY3Rvcl9zdGF0dXMgbGFzdF9jb25uZWN0b3Jfc3RhdHVz
OwogfTsKIAogc3RhdGljIGNvbnN0IHN0cnVjdCByZWdtYXBfcmFuZ2UgaXQ2NTA1X2JyaWRnZV92
b2xhdGlsZV9yYW5nZXNbXSA9IHsKQEAgLTg4MiwxNSArODg2LDMxIEBAIHN0YXRpYyBjb25zdCBz
dHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9oZWxwZXJfZnVuY3MgaXQ2NTA1X2Nvbm5lY3Rvcl9oZWxwZXJf
ZnVuY3MgPSB7CiAJLmdldF9tb2RlcyA9IGl0NjUwNV9nZXRfbW9kZXMsCiB9OwogCitzdGF0aWMg
dm9pZCBpdDY1MDVfdXBkYXRlX3BsdWdnZWRfc3RhdHVzKHN0cnVjdCBpdDY1MDUgKml0NjUwNSwK
KwkJCQkJIGVudW0gZHJtX2Nvbm5lY3Rvcl9zdGF0dXMgc3RhdHVzKQoreworCWlmIChpdDY1MDUt
PnBsdWdnZWRfY2IgJiYgaXQ2NTA1LT5jb2RlY19kZXYpCisJCWl0NjUwNS0+cGx1Z2dlZF9jYihp
dDY1MDUtPmNvZGVjX2RldiwKKwkJCQkgICBzdGF0dXMgPT0gY29ubmVjdG9yX3N0YXR1c19jb25u
ZWN0ZWQpOworfQorCiBzdGF0aWMgZW51bSBkcm1fY29ubmVjdG9yX3N0YXR1cyBpdDY1MDVfZGV0
ZWN0KHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IsCiAJCQkJCSAgICAgICBib29sIGZv
cmNlKQogewogCXN0cnVjdCBpdDY1MDUgKml0NjUwNSA9IGNvbm5lY3Rvcl90b19pdDY1MDUoY29u
bmVjdG9yKTsKKwllbnVtIGRybV9jb25uZWN0b3Jfc3RhdHVzIHN0YXR1czsKIAogCWlmIChncGlv
ZF9nZXRfdmFsdWUoaXQ2NTA1LT5wZGF0YS5ncGlvZF9ocGQpKQotCQlyZXR1cm4gY29ubmVjdG9y
X3N0YXR1c19kaXNjb25uZWN0ZWQ7CisJCXN0YXR1cyA9IGNvbm5lY3Rvcl9zdGF0dXNfZGlzY29u
bmVjdGVkOworCWVsc2UKKwkJc3RhdHVzID0gY29ubmVjdG9yX3N0YXR1c19jb25uZWN0ZWQ7CisK
KwlpZiAoc3RhdHVzICE9IGl0NjUwNS0+bGFzdF9jb25uZWN0b3Jfc3RhdHVzKSB7CisJCWl0NjUw
NS0+bGFzdF9jb25uZWN0b3Jfc3RhdHVzID0gc3RhdHVzOworCQlpdDY1MDVfdXBkYXRlX3BsdWdn
ZWRfc3RhdHVzKGl0NjUwNSwgc3RhdHVzKTsKKwl9CiAKLQlyZXR1cm4gY29ubmVjdG9yX3N0YXR1
c19jb25uZWN0ZWQ7CisJcmV0dXJuIHN0YXR1czsKIH0KIAogc3RhdGljIGNvbnN0IHN0cnVjdCBk
cm1fY29ubmVjdG9yX2Z1bmNzIGl0NjUwNV9jb25uZWN0b3JfZnVuY3MgPSB7CkBAIC0xMzQxLDEw
ICsxMzYxLDIzIEBAIHN0YXRpYyB2b2lkIGl0NjUwNV9hdWRpb19zaHV0ZG93bihzdHJ1Y3QgZGV2
aWNlICpkZXYsIHZvaWQgKmRhdGEpCiAJaXQ2NTA1LT5lbl9hdWRpbyA9IDA7CiB9CiAKK3N0YXRp
YyBpbnQgaXQ2NTA1X2F1ZGlvX2hvb2tfcGx1Z2dlZF9jYihzdHJ1Y3QgZGV2aWNlICpkZXYsIHZv
aWQgKmRhdGEsCisJCQkJCWhkbWlfY29kZWNfcGx1Z2dlZF9jYiBmbiwKKwkJCQkJc3RydWN0IGRl
dmljZSAqY29kZWNfZGV2KQoreworCXN0cnVjdCBpdDY1MDUgKml0NjUwNSA9IGRhdGE7CisKKwlp
dDY1MDUtPnBsdWdnZWRfY2IgPSBmbjsKKwlpdDY1MDUtPmNvZGVjX2RldiA9IGNvZGVjX2RldjsK
KwlpdDY1MDVfdXBkYXRlX3BsdWdnZWRfc3RhdHVzKGl0NjUwNSwgaXQ2NTA1LT5sYXN0X2Nvbm5l
Y3Rvcl9zdGF0dXMpOworCXJldHVybiAwOworfQorCiBzdGF0aWMgY29uc3Qgc3RydWN0IGhkbWlf
Y29kZWNfb3BzIGl0NjUwNV9hdWRpb19jb2RlY19vcHMgPSB7CiAJLmh3X3BhcmFtcyA9IGl0NjUw
NV9hdWRpb19od19wYXJhbXMsCiAJLnRyaWdnZXIgPSBpdDY1MDVfYXVkaW9fdHJpZ2dlciwKIAku
YXVkaW9fc2h1dGRvd24gPSBpdDY1MDVfYXVkaW9fc2h1dGRvd24sCisJLmhvb2tfcGx1Z2dlZF9j
YiA9IGl0NjUwNV9hdWRpb19ob29rX3BsdWdnZWRfY2IsCiB9OwogCiBzdGF0aWMgaW50IGl0NjUw
NV9yZWdpc3Rlcl9hdWRpb19kcml2ZXIoc3RydWN0IGRldmljZSAqZGV2KQpAQCAtMTM1NCw2ICsx
Mzg3LDcgQEAgc3RhdGljIGludCBpdDY1MDVfcmVnaXN0ZXJfYXVkaW9fZHJpdmVyKHN0cnVjdCBk
ZXZpY2UgKmRldikKIAkJLm9wcyA9ICZpdDY1MDVfYXVkaW9fY29kZWNfb3BzLAogCQkubWF4X2ky
c19jaGFubmVscyA9IDgsCiAJCS5pMnMgPSAxLAorCQkuZGF0YSA9IGl0NjUwNSwKIAl9OwogCXN0
cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXY7CiAKQEAgLTEzNjQsNiArMTM5OCw3IEBAIHN0YXRp
YyBpbnQgaXQ2NTA1X3JlZ2lzdGVyX2F1ZGlvX2RyaXZlcihzdHJ1Y3QgZGV2aWNlICpkZXYpCiAJ
CXJldHVybiBQVFJfRVJSKHBkZXYpOwogCiAJSU5JVF9ERUxBWUVEX1dPUksoJml0NjUwNS0+ZGVs
YXllZF9hdWRpbywgaXQ2NTA1X2RlbGF5ZWRfYXVkaW8pOworCWl0NjUwNS0+bGFzdF9jb25uZWN0
b3Jfc3RhdHVzID0gY29ubmVjdG9yX3N0YXR1c19kaXNjb25uZWN0ZWQ7CiAKIAlEUk1fREVWX0RF
QlVHX0RSSVZFUihkZXYsICJib3VuZCB0byAlcyIsIEhETUlfQ09ERUNfRFJWX05BTUUpOwogCXJl
dHVybiAwOwotLSAKMi4yMy4wLjg2Ni5nYjg2OWI5OGQ0Yy1nb29nCgpfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRy
aS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5v
cmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
