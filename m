Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 3AB3010DDC0
	for <lists+dri-devel@lfdr.de>; Sat, 30 Nov 2019 14:24:53 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1F67C6E12A;
	Sat, 30 Nov 2019 13:24:38 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from NAM04-BN3-obe.outbound.protection.outlook.com
 (mail-eopbgr680107.outbound.protection.outlook.com [40.107.68.107])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 4DCC76E069
 for <dri-devel@lists.freedesktop.org>; Fri, 29 Nov 2019 07:35:13 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=aAXFNtndEnSPUMvC5dVFXtopV/h0SvyXy/CbzqyswXcgTsy3Kb/661TNf3f8n1gPHz7eCcZZG3Yb97abrTvZIZfnVo5ofZOhNYKzvBuJ7N0l/20cEfgpQiwT324UNV86BJCErrsurz+P5y+cvSl9xwAWgf+be56ea/l9NhptHpdsOm9GdF4+Q07mm7dS/+ypo26CpjN+jVHr4iz5Bqc/0UI01C+Gd2eYZnJoR7ne+OWiWFmtbFlB+BUgFaNOUZ8u34Quwzwt8gMR6grYxTYzHZQkmwMTnPofyMLaIgJmg8CI4hs6nflM1jurcPBm6TzxmEC1ym87QrBHaC6xDzxCAw==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=ccEjU4Go9gBHEZcrcru5Fj/zz6u81WrSa7H23C8yWUs=;
 b=QbJCWBfErrvhAN4r8AtoG+4mXLWcM1kckduQg2UUnLjvGX6r9/qnrvhhy7lTcKvkLwB4FjcTLM0Rp9ajZeOcF+y67wYE84NzBpDGGlQ22FeeCcm+tPJ4EHs7nlATt8SVjJs9XrJ5H1wvIk3Vy1TCafRAnl/3GdEIowOfndmHZwMTlprX2EvSYk28XHcEFJB0WvFtFKDvkxZ5C4WR9kFtK7hkQdUxtAu7Llc9lRxyMwdHX79I7MgSNsEHCldKd/EMDdrzJVjkHw4BvYrjK5Cwbj1Ykx0bWO1jEhODJ+nNPWVXorYJrDQgLeZPCjCf1GA9qvyi1vMIs9Bywj0WXvXB4g==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=analogixsemi.com; dmarc=pass action=none
 header.from=analogixsemi.com; dkim=pass header.d=analogixsemi.com; arc=none
Received: from SN6PR04MB4543.namprd04.prod.outlook.com (52.135.120.29) by
 SN6PR04MB4606.namprd04.prod.outlook.com (52.135.120.84) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2474.19; Fri, 29 Nov 2019 07:35:10 +0000
Received: from SN6PR04MB4543.namprd04.prod.outlook.com
 ([fe80::859:2d31:1f00:fa16]) by SN6PR04MB4543.namprd04.prod.outlook.com
 ([fe80::859:2d31:1f00:fa16%5]) with mapi id 15.20.2495.014; Fri, 29 Nov 2019
 07:35:10 +0000
From: Xin Ji <xji@analogixsemi.com>
To: "devel@driverdev.osuosl.org" <devel@driverdev.osuosl.org>, Laurent
 Pinchart <laurent.pinchart@ideasonboard.com>, Andrzej Hajda
 <a.hajda@samsung.com>
Subject: [PATCH v6 2/2] drm/bridge: anx7625: Add anx7625 MIPI DSI/DPI to DP
 bridge driver
Thread-Topic: [PATCH v6 2/2] drm/bridge: anx7625: Add anx7625 MIPI DSI/DPI to
 DP bridge driver
Thread-Index: AQHVpoeHgiMtFa2mg0uI4bX9jPxvXg==
Date: Fri, 29 Nov 2019 07:35:10 +0000
Message-ID: <a5b5d2911a69dfb59c784c957bdb638a3da3c35b.1575012508.git.xji@analogixsemi.com>
References: <cover.1575012508.git.xji@analogixsemi.com>
In-Reply-To: <cover.1575012508.git.xji@analogixsemi.com>
Accept-Language: zh-CN, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: HK2P15301CA0022.APCP153.PROD.OUTLOOK.COM
 (2603:1096:202:1::32) To SN6PR04MB4543.namprd04.prod.outlook.com
 (2603:10b6:805:a8::29)
x-ms-exchange-messagesentrepresentingtype: 1
x-originating-ip: [114.247.245.252]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 27c58f31-5946-450e-2459-08d7749ea9eb
x-ms-traffictypediagnostic: SN6PR04MB4606:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <SN6PR04MB46065822F9E1E49F083A340AC7460@SN6PR04MB4606.namprd04.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:4941;
x-forefront-prvs: 0236114672
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10019020)(376002)(366004)(346002)(39850400004)(396003)(136003)(189003)(199004)(76176011)(6512007)(478600001)(36756003)(5660300002)(25786009)(107886003)(6486002)(256004)(6506007)(14444005)(446003)(186003)(5024004)(2501003)(8936002)(561924002)(11346002)(30864003)(4326008)(2616005)(99286004)(86362001)(81156014)(81166006)(8676002)(52116002)(110136005)(2906002)(7416002)(66476007)(64756008)(3846002)(54906003)(305945005)(66946007)(66446008)(102836004)(66066001)(71190400001)(6436002)(316002)(6116002)(14454004)(66556008)(386003)(118296001)(26005)(7736002)(71200400001)(569006);
 DIR:OUT; SFP:1102; SCL:1; SRVR:SN6PR04MB4606;
 H:SN6PR04MB4543.namprd04.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: analogixsemi.com does not
 designate permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: 1nxFIQwQWa8GGnURv0DSDDzKEVCtlIFGhAlt4q5MnLFRHHepUOBCzbTVkgq21Xe8Lo91OfjwXeRwWSh2d0WWoTywqb/2sR6Akj1FUNgQoWHWZ2C+1CMLZYFLPZldWn+pjI6oL3AY+QVPZE7EXkQuK5L8nrxcQbEDwWAfixrz8LkganLBjw4ZECD8XP7xzeUJ9Wb1rbi08hP2XHDigyLwIUP0ircPGMeBvm4puDhoPNLYym8fxC6j6wQleEeWv4v9f8gAPmbak5cQW37ZGOJk6NC4H0Yj/2N7DwX0J4hX2J+uqHfHdDtOnVRXeQ/1M6aIOxt+e0YWEfe7eQQ1V9tlUdHQkRqiji2SlOe8HI+/YVqx2rTCdjvDQ+c4938mn4wJ5cTngC/l9edW4bNU0NUCvQQhLDeCwSpQSoKZ6/jnP7WMi5O/cwkCoCqXQWToS65r
Content-ID: <1472822FFFA36544B68A4B5D16507A01@namprd04.prod.outlook.com>
MIME-Version: 1.0
X-OriginatorOrg: analogixsemi.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 27c58f31-5946-450e-2459-08d7749ea9eb
X-MS-Exchange-CrossTenant-originalarrivaltime: 29 Nov 2019 07:35:10.6345 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: b099b0b4-f26c-4cf5-9a0f-d5be9acab205
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: jt/8WXV/d7pI5T4uphwNUNZtLSLrjOtzQkaRfSf7AH7alHgW+JIZOAEL3TuE3iZxxPbNuAxu054DoLTqkNHGNg==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: SN6PR04MB4606
X-Mailman-Approved-At: Sat, 30 Nov 2019 13:23:59 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=Analogixsemi.onmicrosoft.com; s=selector2-Analogixsemi-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=ccEjU4Go9gBHEZcrcru5Fj/zz6u81WrSa7H23C8yWUs=;
 b=hwPHEk/+dYbtmoVZ+k1YTB2MOQPF55aKgFAkC8LpGw0c3waT0O2JV1as7OQhxtxhbg7LSgnpRpqWMQwRz5yYq2Y/7WkLkRpLNEFrNZ+IrTJcRmcTK5qtaiZb70rzyV4HoDH07de4GvfLfQbF9JAn2NUifTpvC1iGmf+sqb6STcY=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=xji@analogixsemi.com; 
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Jernej Skrabec <jernej.skrabec@siol.net>,
 Nicolas Boichat <drinkcat@chromium.org>, Pi-Hsun Shih <pihsun@chromium.org>,
 Jonas Karlman <jonas@kwiboo.se>, David Airlie <airlied@linux.ie>,
 Neil Armstrong <narmstrong@baylibre.com>,
 "linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>,
 "dri-devel@lists.freedesktop.org" <dri-devel@lists.freedesktop.org>,
 Sheng Pan <span@analogixsemi.com>, Dan Carpenter <dan.carpenter@oracle.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIEFOWDc2MjUgaXMgYW4gdWx0cmEtbG93IHBvd2VyIDRLIE1vYmlsZSBIRCBUcmFuc21pdHRl
ciBkZXNpZ25lZApmb3IgcG9ydGFibGUgZGV2aWNlLiBJdCBjb252ZXJ0cyBNSVBJIERTSS9EUEkg
dG8gRGlzcGxheVBvcnQgMS4zIDRLLgoKVGhlIEFOWDc2MjUgY2FuIHN1cHBvcnQgYm90aCBVU0Ig
VHlwZS1DIFBEIGZlYXR1cmUgYW5kIE1JUEkgRFNJL0RQSQp0byBEUCBmZWF0dXJlLiBUaGlzIGRy
aXZlciBvbmx5IGVuYWJsZWQgTUlQSSBEU0kvRFBJIHRvIERQIGZlYXR1cmUuCgpTaWduZWQtb2Zm
LWJ5OiBYaW4gSmkgPHhqaUBhbmFsb2dpeHNlbWkuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9i
cmlkZ2UvTWFrZWZpbGUgICAgICAgICAgIHwgICAgMiArLQogZHJpdmVycy9ncHUvZHJtL2JyaWRn
ZS9hbmFsb2dpeC9LY29uZmlnICAgfCAgICA2ICsKIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5h
bG9naXgvTWFrZWZpbGUgIHwgICAgMSArCiBkcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4
L2FueDc2MjUuYyB8IDIwNDUgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysKIGRyaXZlcnMv
Z3B1L2RybS9icmlkZ2UvYW5hbG9naXgvYW54NzYyNS5oIHwgIDQwNiArKysrKysKIDUgZmlsZXMg
Y2hhbmdlZCwgMjQ1OSBpbnNlcnRpb25zKCspLCAxIGRlbGV0aW9uKC0pCiBjcmVhdGUgbW9kZSAx
MDA2NDQgZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9hbng3NjI1LmMKIGNyZWF0ZSBt
b2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FueDc2MjUuaAoKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvTWFrZWZpbGUgYi9kcml2ZXJzL2dwdS9k
cm0vYnJpZGdlL01ha2VmaWxlCmluZGV4IDQ5MzRmY2YuLmJjZDM4OGEgMTAwNjQ0Ci0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9icmlkZ2UvTWFrZWZpbGUKKysrIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRn
ZS9NYWtlZmlsZQpAQCAtMTIsOCArMTIsOCBAQCBvYmotJChDT05GSUdfRFJNX1NJSTkyMzQpICs9
IHNpaTkyMzQubwogb2JqLSQoQ09ORklHX0RSTV9USElORV9USEM2M0xWRDEwMjQpICs9IHRoYzYz
bHZkMTAyNC5vCiBvYmotJChDT05GSUdfRFJNX1RPU0hJQkFfVEMzNTg3NjQpICs9IHRjMzU4NzY0
Lm8KIG9iai0kKENPTkZJR19EUk1fVE9TSElCQV9UQzM1ODc2NykgKz0gdGMzNTg3Njcubwotb2Jq
LSQoQ09ORklHX0RSTV9BTkFMT0dJWF9EUCkgKz0gYW5hbG9naXgvCiBvYmotJChDT05GSUdfRFJN
X0kyQ19BRFY3NTExKSArPSBhZHY3NTExLwogb2JqLSQoQ09ORklHX0RSTV9USV9TTjY1RFNJODYp
ICs9IHRpLXNuNjVkc2k4Ni5vCiBvYmotJChDT05GSUdfRFJNX1RJX1RGUDQxMCkgKz0gdGktdGZw
NDEwLm8KK29iai15ICs9IGFuYWxvZ2l4Lwogb2JqLXkgKz0gc3lub3BzeXMvCmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L0tjb25maWcgYi9kcml2ZXJzL2dwdS9k
cm0vYnJpZGdlL2FuYWxvZ2l4L0tjb25maWcKaW5kZXggZTkzMGZmOS4uYjJmMTI3ZSAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9LY29uZmlnCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9naXgvS2NvbmZpZwpAQCAtMiwzICsyLDkgQEAKIGNvbmZp
ZyBEUk1fQU5BTE9HSVhfRFAKIAl0cmlzdGF0ZQogCWRlcGVuZHMgb24gRFJNCisKK2NvbmZpZyBB
TkFMT0dJWF9BTlg3NjI1CisJdHJpc3RhdGUgIkFuYWxvZ2l4IE1JUEkgdG8gRFAgaW50ZXJmYWNl
IHN1cHBvcnQiCisJaGVscAorCQlBTlg3NjI1IGlzIGFuIHVsdHJhLWxvdyBwb3dlciA0SyBtb2Jp
bGUgSEQgdHJhbnNtaXR0ZXIgZGVzaWduZWQKKwkJZm9yIHBvcnRhYmxlIGRldmljZXMuIEl0IGNv
bnZlcnRzIE1JUEkvRFBJIHRvIERpc3BsYXlQb3J0MS4zIDRLLgpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9NYWtlZmlsZSBiL2RyaXZlcnMvZ3B1L2RybS9icmlk
Z2UvYW5hbG9naXgvTWFrZWZpbGUKaW5kZXggZmRiZjNmZC4uOGE1Mjg2NyAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9NYWtlZmlsZQorKysgYi9kcml2ZXJzL2dw
dS9kcm0vYnJpZGdlL2FuYWxvZ2l4L01ha2VmaWxlCkBAIC0xLDMgKzEsNCBAQAogIyBTUERYLUxp
Y2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vbmx5CitvYmotJChDT05GSUdfQU5BTE9HSVhfQU5Y
NzYyNSkgKz0gYW54NzYyNS5vCiBhbmFsb2dpeF9kcC1vYmpzIDo9IGFuYWxvZ2l4X2RwX2NvcmUu
byBhbmFsb2dpeF9kcF9yZWcubwogb2JqLSQoQ09ORklHX0RSTV9BTkFMT0dJWF9EUCkgKz0gYW5h
bG9naXhfZHAubwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9h
bng3NjI1LmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FueDc2MjUuYwpuZXcg
ZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwLi43MzdmNGEzCi0tLSAvZGV2L251bGwKKysr
IGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9hbng3NjI1LmMKQEAgLTAsMCArMSwy
MDQ1IEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vbmx5CisvKgorICog
Q29weXJpZ2h0KGMpIDIwMTYsIEFuYWxvZ2l4IFNlbWljb25kdWN0b3IuIEFsbCByaWdodHMgcmVz
ZXJ2ZWQuCisgKgorICovCisjaW5jbHVkZSA8bGludXgvZXh0Y29uLmg+CisjaW5jbHVkZSA8bGlu
dXgvZ2NkLmg+CisjaW5jbHVkZSA8bGludXgvZ3Bpby9jb25zdW1lci5oPgorI2luY2x1ZGUgPGxp
bnV4L2kyYy5oPgorI2luY2x1ZGUgPGxpbnV4L2ludGVycnVwdC5oPgorI2luY2x1ZGUgPGxpbnV4
L2lvcG9sbC5oPgorI2luY2x1ZGUgPGxpbnV4L2tlcm5lbC5oPgorI2luY2x1ZGUgPGxpbnV4L21v
ZHVsZS5oPgorI2luY2x1ZGUgPGxpbnV4L211dGV4Lmg+CisjaW5jbHVkZSA8bGludXgvc2xhYi5o
PgorI2luY2x1ZGUgPGxpbnV4L3R5cGVzLmg+CisjaW5jbHVkZSA8bGludXgvd29ya3F1ZXVlLmg+
CisKKyNpbmNsdWRlIDxsaW51eC9vZl9ncGlvLmg+CisjaW5jbHVkZSA8bGludXgvb2ZfZ3JhcGgu
aD4KKyNpbmNsdWRlIDxsaW51eC9vZl9wbGF0Zm9ybS5oPgorCisjaW5jbHVkZSA8ZHJtL2RybV9h
dG9taWNfaGVscGVyLmg+CisjaW5jbHVkZSA8ZHJtL2RybV9icmlkZ2UuaD4KKyNpbmNsdWRlIDxk
cm0vZHJtX2NydGNfaGVscGVyLmg+CisjaW5jbHVkZSA8ZHJtL2RybV9kcF9oZWxwZXIuaD4KKyNp
bmNsdWRlIDxkcm0vZHJtX2VkaWQuaD4KKyNpbmNsdWRlIDxkcm0vZHJtX21pcGlfZHNpLmg+Cisj
aW5jbHVkZSA8ZHJtL2RybV9wYW5lbC5oPgorI2luY2x1ZGUgPGRybS9kcm1fcHJpbnQuaD4KKyNp
bmNsdWRlIDxkcm0vZHJtX3Byb2JlX2hlbHBlci5oPgorCisjaW5jbHVkZSA8dmlkZW8vZGlzcGxh
eV90aW1pbmcuaD4KKworI2luY2x1ZGUgImFueDc2MjUuaCIKKworLyoKKyAqIHRoZXJlIGlzIGEg
c3luYyBpc3N1ZSB3aGlsZSBhY2Nlc3MgSTJDIHJlZ2lzdGVyIGJldHdlZW4gQVAoQ1BVKSBhbmQK
KyAqIGludGVybmFsIGZpcm13YXJlKE9DTSksIHRvIGF2b2lkIHRoZSByYWNlIGNvbmRpdGlvbiwg
QVAgc2hvdWxkIGFjY2VzcworICogdGhlIHJlc2VydmVkIHNsYXZlIGFkZHJlc3MgYmVmb3JlIHNs
YXZlIGFkZHJlc3Mgb2NjdXJzIGNoYW5nZXMuCisgKi8KK3N0YXRpYyBpbnQgaTJjX2FjY2Vzc193
b3JrYXJvdW5kKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCwKKwkJCQkgc3RydWN0IGkyY19jbGll
bnQgKmNsaWVudCkKK3sKKwl1OCBvZmZzZXQ7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmNsaWVu
dC0+ZGV2OworCWludCByZXQ7CisKKwlpZiAoY2xpZW50ID09IGN0eC0+bGFzdF9jbGllbnQpCisJ
CXJldHVybiAwOworCisJY3R4LT5sYXN0X2NsaWVudCA9IGNsaWVudDsKKworCWlmIChjbGllbnQg
PT0gY3R4LT5pMmMudGNwY19jbGllbnQpCisJCW9mZnNldCA9IFJTVkRfMDBfQUREUjsKKwllbHNl
IGlmIChjbGllbnQgPT0gY3R4LT5pMmMudHhfcDBfY2xpZW50KQorCQlvZmZzZXQgPSBSU1ZEX0Qx
X0FERFI7CisJZWxzZSBpZiAoY2xpZW50ID09IGN0eC0+aTJjLnR4X3AxX2NsaWVudCkKKwkJb2Zm
c2V0ID0gUlNWRF82MF9BRERSOworCWVsc2UgaWYgKGNsaWVudCA9PSBjdHgtPmkyYy5yeF9wMF9j
bGllbnQpCisJCW9mZnNldCA9IFJTVkRfMzlfQUREUjsKKwllbHNlIGlmIChjbGllbnQgPT0gY3R4
LT5pMmMucnhfcDFfY2xpZW50KQorCQlvZmZzZXQgPSBSU1ZEXzdGX0FERFI7CisJZWxzZQorCQlv
ZmZzZXQgPSBSU1ZEXzAwX0FERFI7CisKKwlyZXQgPSBpMmNfc21idXNfd3JpdGVfYnl0ZV9kYXRh
KGNsaWVudCwgb2Zmc2V0LCAweDAwKTsKKwlpZiAocmV0IDwgMCkKKwkJRFJNX0RFVl9FUlJPUihk
ZXYsCisJCQkgICAgICAiZmFpbGVkIHRvIGFjY2VzcyBpMmMgaWQ9JXhcbjoleCIsCisJCQkgICAg
ICBjbGllbnQtPmFkZHIsIG9mZnNldCk7CisKKwlyZXR1cm4gcmV0OworfQorCitzdGF0aWMgaW50
IGFueDc2MjVfcmVnX3JlYWQoc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4LAorCQkJICAgIHN0cnVj
dCBpMmNfY2xpZW50ICpjbGllbnQsIHU4IHJlZ19hZGRyKQoreworCWludCByZXQ7CisJc3RydWN0
IGRldmljZSAqZGV2ID0gJmNsaWVudC0+ZGV2OworCisJaTJjX2FjY2Vzc193b3JrYXJvdW5kKGN0
eCwgY2xpZW50KTsKKworCXJldCA9IGkyY19zbWJ1c19yZWFkX2J5dGVfZGF0YShjbGllbnQsIHJl
Z19hZGRyKTsKKwlpZiAocmV0IDwgMCkKKwkJRFJNX0RFVl9FUlJPUihkZXYsICJyZWFkIGkyYyBm
YWlsZWQgaWQ9JXg6JXhcbiIsCisJCQkgICAgICBjbGllbnQtPmFkZHIsIHJlZ19hZGRyKTsKKwor
CXJldHVybiByZXQ7Cit9CisKK3N0YXRpYyBpbnQgYW54NzYyNV9yZWdfYmxvY2tfcmVhZChzdHJ1
Y3QgYW54NzYyNV9kYXRhICpjdHgsCisJCQkJICBzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50LAor
CQkJCSAgdTggcmVnX2FkZHIsIHU4IGxlbiwgdTggKmJ1ZikKK3sKKwlpbnQgcmV0OworCXN0cnVj
dCBkZXZpY2UgKmRldiA9ICZjbGllbnQtPmRldjsKKworCWkyY19hY2Nlc3Nfd29ya2Fyb3VuZChj
dHgsIGNsaWVudCk7CisKKwlyZXQgPSBpMmNfc21idXNfcmVhZF9pMmNfYmxvY2tfZGF0YShjbGll
bnQsIHJlZ19hZGRyLCBsZW4sIGJ1Zik7CisJaWYgKHJldCA8IDApCisJCURSTV9ERVZfRVJST1Io
ZGV2LCAicmVhZCBpMmMgYmxvY2sgZmFpbGVkIGlkPSV4OiV4XG4iLAorCQkJICAgICAgY2xpZW50
LT5hZGRyLCByZWdfYWRkcik7CisKKwlyZXR1cm4gcmV0OworfQorCitzdGF0aWMgaW50IGFueDc2
MjVfcmVnX3dyaXRlKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCwKKwkJCSAgICAgc3RydWN0IGky
Y19jbGllbnQgKmNsaWVudCwKKwkJCSAgICAgdTggcmVnX2FkZHIsIHU4IHJlZ192YWwpCit7CisJ
aW50IHJldDsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY2xpZW50LT5kZXY7CisKKwlpMmNfYWNj
ZXNzX3dvcmthcm91bmQoY3R4LCBjbGllbnQpOworCisJcmV0ID0gaTJjX3NtYnVzX3dyaXRlX2J5
dGVfZGF0YShjbGllbnQsIHJlZ19hZGRyLCByZWdfdmFsKTsKKworCWlmIChyZXQgPCAwKQorCQlE
Uk1fREVWX0VSUk9SKGRldiwgImZhaWxlZCB0byB3cml0ZSBpMmMgaWQ9JXhcbjoleCIsCisJCQkg
ICAgICBjbGllbnQtPmFkZHIsIHJlZ19hZGRyKTsKKworCXJldHVybiByZXQ7Cit9CisKK3N0YXRp
YyBpbnQgYW54NzYyNV93cml0ZV9vcihzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgsCisJCQkgICAg
c3RydWN0IGkyY19jbGllbnQgKmNsaWVudCwKKwkJCSAgICB1OCBvZmZzZXQsIHU4IG1hc2spCit7
CisJaW50IHZhbDsKKworCXZhbCA9IGFueDc2MjVfcmVnX3JlYWQoY3R4LCBjbGllbnQsIG9mZnNl
dCk7CisJaWYgKHZhbCA8IDApCisJCXJldHVybiB2YWw7CisKKwlyZXR1cm4gYW54NzYyNV9yZWdf
d3JpdGUoY3R4LCBjbGllbnQsIG9mZnNldCwgKHZhbCB8IChtYXNrKSkpOworfQorCitzdGF0aWMg
aW50IGFueDc2MjVfd3JpdGVfYW5kKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCwKKwkJCSAgICAg
c3RydWN0IGkyY19jbGllbnQgKmNsaWVudCwKKwkJCSAgICAgdTggb2Zmc2V0LCB1OCBtYXNrKQor
eworCWludCB2YWw7CisKKwl2YWwgPSBhbng3NjI1X3JlZ19yZWFkKGN0eCwgY2xpZW50LCBvZmZz
ZXQpOworCWlmICh2YWwgPCAwKQorCQlyZXR1cm4gdmFsOworCisJcmV0dXJuIGFueDc2MjVfcmVn
X3dyaXRlKGN0eCwgY2xpZW50LCBvZmZzZXQsICh2YWwgJiAobWFzaykpKTsKK30KKworc3RhdGlj
IGludCBhbng3NjI1X3dyaXRlX2FuZF9vcihzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgsCisJCQkJ
c3RydWN0IGkyY19jbGllbnQgKmNsaWVudCwKKwkJCQl1OCBvZmZzZXQsIHU4IGFuZF9tYXNrLCB1
OCBvcl9tYXNrKQoreworCWludCB2YWw7CisKKwl2YWwgPSBhbng3NjI1X3JlZ19yZWFkKGN0eCwg
Y2xpZW50LCBvZmZzZXQpOworCWlmICh2YWwgPCAwKQorCQlyZXR1cm4gdmFsOworCisJcmV0dXJu
IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY2xpZW50LAorCQkJCSBvZmZzZXQsICh2YWwgJiBhbmRf
bWFzaykgfCAob3JfbWFzaykpOworfQorCitzdGF0aWMgaW50IGFueDc2MjVfY29uZmlnX2JpdF9t
YXRyaXgoc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4KQoreworCWludCBpLCByZXQ7CisKKwlyZXQg
PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnR4X3AyX2NsaWVudCwKKwkJCQlBVURJ
T19DT05UUk9MX1JFR0lTVEVSLCAweDgwKTsKKwlmb3IgKGkgPSAwOyBpIDwgMTM7IGkrKykKKwkJ
cmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMudHhfcDJfY2xpZW50LAorCQkJ
CQkgVklERU9fQklUX01BVFJJWF8xMiArIGksCisJCQkJCSAweDE4ICsgaSk7CisKKwlyZXR1cm4g
cmV0OworfQorCitzdGF0aWMgaW50IGFueDc2MjVfcmVhZF9jdHJsX3N0YXR1c19wMChzdHJ1Y3Qg
YW54NzYyNV9kYXRhICpjdHgpCit7CisJcmV0dXJuIGFueDc2MjVfcmVnX3JlYWQoY3R4LCBjdHgt
PmkyYy5yeF9wMF9jbGllbnQsIEFQX0FVWF9DVFJMX1NUQVRVUyk7Cit9CisKK3N0YXRpYyBpbnQg
d2FpdF9hdXhfb3BfZmluaXNoKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCkKK3sKKwlpbnQgdmFs
OworCWludCByZXQ7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7CisK
KwlyZXQgPSByZWFkeF9wb2xsX3RpbWVvdXQoYW54NzYyNV9yZWFkX2N0cmxfc3RhdHVzX3AwLAor
CQkJCSBjdHgsIHZhbCwKKwkJCQkgKCEodmFsICYgQVBfQVVYX0NUUkxfT1BfRU4pIHx8ICh2YWwg
PCAwKSksCisJCQkJIDIwMDAsCisJCQkJIDIwMDAgKiAxNTApOworCWlmIChyZXQpIHsKKwkJRFJN
X0RFVl9FUlJPUihkZXYsICJhdXggb3BlcmF0aW9uIGZhaWxlZCFcbiIpOworCQlyZXR1cm4gLUVJ
TzsKKwl9CisKKwl2YWwgPSBhbng3NjI1X3JlZ19yZWFkKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xp
ZW50LAorCQkJICAgICAgIEFQX0FVWF9DVFJMX1NUQVRVUyk7CisJaWYgKHZhbCA8IDAgfHwgKHZh
bCAmIDB4MEYpKSB7CisJCURSTV9ERVZfRVJST1IoZGV2LCAiYXV4IHN0YXR1cyAlMDJ4XG4iLCB2
YWwpOworCQl2YWwgPSAtRUlPOworCX0KKworCXJldHVybiB2YWw7Cit9CisKK3N0YXRpYyBpbnQg
YW54NzYyNV92aWRlb19tdXRlX2NvbnRyb2woc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4LAorCQkJ
CSAgICAgIHU4IHN0YXR1cykKK3sKKwlpbnQgcmV0OworCisJaWYgKHN0YXR1cykgeyAvKiBtdXRl
IG9uICovCisJCS8qIHNldCBtdXRlIGZsYWcgKi8KKwkJcmV0ID0gYW54NzYyNV93cml0ZV9vcihj
dHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkgICAgICAgQVBfQVZfU1RBVFVTLCBBUF9N
SVBJX01VVEUpOworCQkvKiBjbGVhciBtaXBpIFJYIGVuICovCisJCXJldCB8PSBhbng3NjI1X3dy
aXRlX2FuZChjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkJIEFQX0FWX1NUQVRVUywg
KHU4KX5BUF9NSVBJX1JYX0VOKTsKKwl9IGVsc2UgeyAvKiBtdXRlIG9mZiAqLworCQkvKiBjbGVh
ciBtdXRlIGZsYWcgKi8KKwkJcmV0ID0gYW54NzYyNV93cml0ZV9hbmQoY3R4LCBjdHgtPmkyYy5y
eF9wMF9jbGllbnQsCisJCQkJCUFQX0FWX1NUQVRVUywgKHU4KX5BUF9NSVBJX01VVEUpOworCQkv
KiBzZXQgTUlQSSBSWCBFTiAqLworCQlyZXQgfD0gYW54NzYyNV93cml0ZV9vcihjdHgsIGN0eC0+
aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkJQVBfQVZfU1RBVFVTLCBBUF9NSVBJX1JYX0VOKTsKKwl9
CisKKwlyZXR1cm4gcmV0OworfQorCitzdGF0aWMgaW50IGFueDc2MjVfY29uZmlnX2F1ZGlvX2lu
cHV0KHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCkKK3sKKwlpbnQgcmV0OworCisJLyogY2hhbm5l
bCBudW0gKi8KKwlyZXQgPSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnR4X3AyX2Ns
aWVudCwKKwkJCQlBVURJT19DSEFOTkVMX1NUQVRVU182LCBJMlNfQ0hfMiA8PCA1KTsKKwkvKiBs
YXlvdXQgKi8KKwkvKiBhcyBJMlMgY2hhbm5lbCBpcyAyLCBubyBuZWVkIHRvIHNldCBsYXlvdXQg
Ki8KKworCS8qIEZTICovCisJcmV0IHw9IGFueDc2MjVfd3JpdGVfYW5kX29yKGN0eCwgY3R4LT5p
MmMudHhfcDJfY2xpZW50LAorCQkJCSAgICBBVURJT19DSEFOTkVMX1NUQVRVU180LAorCQkJCSAg
ICAweGYwLCBBVURJT19GU180OEspOworCS8qIHdvcmQgbGVuZ3RoICovCisJcmV0IHw9IGFueDc2
MjVfd3JpdGVfYW5kX29yKGN0eCwgY3R4LT5pMmMudHhfcDJfY2xpZW50LAorCQkJCSAgICBBVURJ
T19DSEFOTkVMX1NUQVRVU181LAorCQkJCSAgICAweGYwLCBBVURJT19XX0xFTl8yNF8yNE1BWCk7
CisJLyogSTJTICovCisJcmV0IHw9IGFueDc2MjVfd3JpdGVfb3IoY3R4LCBjdHgtPmkyYy50eF9w
Ml9jbGllbnQsCisJCQkJQVVESU9fQ0hBTk5FTF9TVEFUVVNfNiwgSTJTX1NMQVZFX01PREUpOwor
CXJldCB8PSBhbng3NjI1X3dyaXRlX2FuZChjdHgsIGN0eC0+aTJjLnR4X3AyX2NsaWVudCwKKwkJ
CQkgQVVESU9fQ09OVFJPTF9SRUdJU1RFUiwgflRETV9USU1JTkdfTU9ERSk7CisJLyogYXVkaW8g
Y2hhbmdlIGZsYWcgKi8KKwlyZXQgfD0gYW54NzYyNV93cml0ZV9vcihjdHgsIGN0eC0+aTJjLnJ4
X3AwX2NsaWVudCwKKwkJCQlBUF9BVl9TVEFUVVMsIEFQX0FVRElPX0NIRyk7CisKKwlpZiAocmV0
IDwgMCkKKwkJRFJNX0VSUk9SKCJmYWlsZWQgdG8gY29uZmlnIGF1ZGlvLlxuIik7CisKKwlyZXR1
cm4gcmV0OworfQorCisvKiByZWR1Y3Rpb24gb2YgZnJhY3Rpb24gYS9iICovCitzdGF0aWMgdm9p
ZCBhbng3NjI1X3JlZHVjdGlvbl9vZl9hX2ZyYWN0aW9uKHVuc2lnbmVkIGxvbmcgKmEsIHVuc2ln
bmVkIGxvbmcgKmIpCit7CisJdW5zaWduZWQgbG9uZyBnY2RfbnVtOworCXVuc2lnbmVkIGxvbmcg
dG1wX2EsIHRtcF9iOworCXUzMiBpID0gMTsKKworCWdjZF9udW0gPSBnY2QoKmEsICpiKTsKKwkq
YSAvPSBnY2RfbnVtOworCSpiIC89IGdjZF9udW07CisKKwl0bXBfYSA9ICphOworCXRtcF9iID0g
KmI7CisKKwl3aGlsZSAoKCphID4gTUFYX1VOU0lHTkVEXzI0QklUKSB8fCAoKmIgPiBNQVhfVU5T
SUdORURfMjRCSVQpKSB7CisJCWkrKzsKKwkJKmEgPSB0bXBfYSAvIGk7CisJCSpiID0gdG1wX2Ig
LyBpOworCX0KKworCS8qCisJICogaW4gdGhlIGVuZCwgbWFrZSBhLCBiIGxhcmdlciB0byBoYXZl
IGhpZ2hlciBPREZDIFBMTAorCSAqIG91dHB1dCBmcmVxdWVuY3kgYWNjdXJhY3kKKwkgKi8KKwl3
aGlsZSAoKCphIDwgTUFYX1VOU0lHTkVEXzI0QklUKSAmJiAoKmIgPCBNQVhfVU5TSUdORURfMjRC
SVQpKSB7CisJCSphIDw8PSAxOworCQkqYiA8PD0gMTsKKwl9CisKKwkqYSA+Pj0gMTsKKwkqYiA+
Pj0gMTsKK30KKworc3RhdGljIGludCBhbng3NjI1X2NhbGN1bGF0ZV9tX24odTMyIHBpeGVsY2xv
Y2ssCisJCQkJIHVuc2lnbmVkIGxvbmcgKm0sCisJCQkJIHVuc2lnbmVkIGxvbmcgKm4sCisJCQkJ
IHU4ICpwb3N0X2RpdmlkZXIpCit7CisJaWYgKHBpeGVsY2xvY2sgPiBQTExfT1VUX0ZSRVFfQUJT
X01BWCAvIFBPU1RfRElWSURFUl9NSU4pIHsKKwkJLyogcGl4ZWwgY2xvY2sgZnJlcXVlbmN5IGlz
IHRvbyBoaWdoICovCisJCURSTV9FUlJPUigicGl4ZWxjbG9jayB0b28gaGlnaCwgYWN0KCVkKSwg
bWF4aW11bSglbHUpXG4iLAorCQkJICBwaXhlbGNsb2NrLAorCQkJICBQTExfT1VUX0ZSRVFfQUJT
X01BWCAvIFBPU1RfRElWSURFUl9NSU4pOworCQlyZXR1cm4gLUVJTlZBTDsKKwl9CisKKwlpZiAo
cGl4ZWxjbG9jayA8IFBMTF9PVVRfRlJFUV9BQlNfTUlOIC8gUE9TVF9ESVZJREVSX01BWCkgewor
CQkvKiBwaXhlbCBjbG9jayBmcmVxdWVuY3kgaXMgdG9vIGxvdyAqLworCQlEUk1fRVJST1IoInBp
eGVsY2xvY2sgdG9vIGxvdywgYWN0KCVkKSwgbWF4aW11bSglbHUpXG4iLAorCQkJICBwaXhlbGNs
b2NrLAorCQkJICBQTExfT1VUX0ZSRVFfQUJTX01JTiAvIFBPU1RfRElWSURFUl9NQVgpOworCQly
ZXR1cm4gLUVJTlZBTDsKKwl9CisKKwlmb3IgKCpwb3N0X2RpdmlkZXIgPSAxOworCQlwaXhlbGNs
b2NrIDwgKFBMTF9PVVRfRlJFUV9NSU4gLyAoKnBvc3RfZGl2aWRlcikpOykKKwkJKnBvc3RfZGl2
aWRlciArPSAxOworCisJaWYgKCpwb3N0X2RpdmlkZXIgPiBQT1NUX0RJVklERVJfTUFYKSB7CisJ
CWZvciAoKnBvc3RfZGl2aWRlciA9IDE7CisJCQkocGl4ZWxjbG9jayA8CisJCQkgKFBMTF9PVVRf
RlJFUV9BQlNfTUlOIC8gKCpwb3N0X2RpdmlkZXIpKSk7KQorCQkJKnBvc3RfZGl2aWRlciArPSAx
OworCisJCWlmICgqcG9zdF9kaXZpZGVyID4gUE9TVF9ESVZJREVSX01BWCkgeworCQkJRFJNX0VS
Uk9SKCJjYW5ub3QgZmluZCBwcm9wZXJ0eSBwb3N0X2RpdmlkZXIoJWQpXG4iLAorCQkJCSAgKnBv
c3RfZGl2aWRlcik7CisJCQlyZXR1cm4gLUVET007CisJCX0KKwl9CisKKwkvKiBwYXRjaCB0byBp
bXByb3ZlIHRoZSBhY2N1cmFjeSAqLworCWlmICgqcG9zdF9kaXZpZGVyID09IDcpIHsKKwkJLyog
MjcsMDAwLDAwMCBpcyBub3QgZGl2aXNpYmxlIGJ5IDcgKi8KKwkJKnBvc3RfZGl2aWRlciA9IDg7
CisJfSBlbHNlIGlmICgqcG9zdF9kaXZpZGVyID09IDExKSB7CisJCS8qIDI3LDAwMCwwMDAgaXMg
bm90IGRpdmlzaWJsZSBieSAxMSAqLworCQkqcG9zdF9kaXZpZGVyID0gMTI7CisJfSBlbHNlIGlm
ICgoKnBvc3RfZGl2aWRlciA9PSAxMykgfHwgKCpwb3N0X2RpdmlkZXIgPT0gMTQpKSB7CisJCS8q
MjcsMDAwLDAwMCBpcyBub3QgZGl2aXNpYmxlIGJ5IDEzIG9yIDE0Ki8KKwkJKnBvc3RfZGl2aWRl
ciA9IDE1OworCX0KKworCWlmIChwaXhlbGNsb2NrICogKCpwb3N0X2RpdmlkZXIpID4gUExMX09V
VF9GUkVRX0FCU19NQVgpIHsKKwkJRFJNX0VSUk9SKCJhY3QgY2xvY2soJXUpIGxhcmdlIHRoYW4g
bWF4aW11bSglbHUpXG4iLAorCQkJICBwaXhlbGNsb2NrICogKCpwb3N0X2RpdmlkZXIpLAorCQkJ
ICBQTExfT1VUX0ZSRVFfQUJTX01BWCk7CisJCXJldHVybiAtRURPTTsKKwl9CisKKwkqbSA9IHBp
eGVsY2xvY2s7CisJKm4gPSBYVEFMX0ZSUSAvICgqcG9zdF9kaXZpZGVyKTsKKworCWFueDc2MjVf
cmVkdWN0aW9uX29mX2FfZnJhY3Rpb24obSwgbik7CisKKwlyZXR1cm4gMDsKK30KKworc3RhdGlj
IGludCBhbng3NjI1X29kZmNfY29uZmlnKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCwKKwkJCSAg
ICAgICB1OCBwb3N0X2RpdmlkZXIpCit7CisJaW50IHJldDsKKworCS8qIGNvbmZpZyBpbnB1dCBy
ZWZlcmVuY2UgY2xvY2sgZnJlcXVlbmN5IDI3TUh6LzE5LjJNSHogKi8KKwlyZXQgPSBhbng3NjI1
X3dyaXRlX2FuZChjdHgsIGN0eC0+aTJjLnJ4X3AxX2NsaWVudCwgTUlQSV9ESUdJVEFMX1BMTF8x
NiwKKwkJCQl+KFJFRl9DTEtfMjcwMDBLSFogPDwgTUlQSV9GUkVGX0RfSU5EKSk7CisJcmV0IHw9
IGFueDc2MjVfd3JpdGVfb3IoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsIE1JUElfRElHSVRB
TF9QTExfMTYsCisJCQkJKFJFRl9DTEtfMjcwMDBLSFogPDwgTUlQSV9GUkVGX0RfSU5EKSk7CisJ
LyogcG9zdCBkaXZpZGVyICovCisJcmV0IHw9IGFueDc2MjVfd3JpdGVfYW5kKGN0eCwgY3R4LT5p
MmMucnhfcDFfY2xpZW50LAorCQkJCSBNSVBJX0RJR0lUQUxfUExMXzgsIDB4MGYpOworCXJldCB8
PSBhbng3NjI1X3dyaXRlX29yKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LCBNSVBJX0RJR0lU
QUxfUExMXzgsCisJCQkJcG9zdF9kaXZpZGVyIDw8IDQpOworCisJLyogYWRkIHBhdGNoIGZvciBN
SVMyLTEyNSAoNXBjcyBBTlg3NjI1IGZhaWwgQVRFIE1CSVNUIHRlc3QpICovCisJcmV0IHw9IGFu
eDc2MjVfd3JpdGVfYW5kKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LCBNSVBJX0RJR0lUQUxf
UExMXzcsCisJCQkJIH5NSVBJX1BMTF9WQ09fVFVORV9SRUdfVkFMKTsKKworCS8qIHJlc2V0IE9E
RkMgUExMICovCisJcmV0IHw9IGFueDc2MjVfd3JpdGVfYW5kKGN0eCwgY3R4LT5pMmMucnhfcDFf
Y2xpZW50LCBNSVBJX0RJR0lUQUxfUExMXzcsCisJCQkJIH5NSVBJX1BMTF9SRVNFVF9OKTsKKwly
ZXQgfD0gYW54NzYyNV93cml0ZV9vcihjdHgsIGN0eC0+aTJjLnJ4X3AxX2NsaWVudCwgTUlQSV9E
SUdJVEFMX1BMTF83LAorCQkJCU1JUElfUExMX1JFU0VUX04pOworCisJaWYgKHJldCA8IDApCisJ
CURSTV9FUlJPUigiSU8gZXJyb3IuXG4iKTsKKworCXJldHVybiByZXQ7Cit9CisKK3N0YXRpYyBp
bnQgYW54NzYyNV9kc2lfdmlkZW9fdGltaW5nX2NvbmZpZyhzdHJ1Y3QgYW54NzYyNV9kYXRhICpj
dHgpCit7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7CisJdW5zaWdu
ZWQgbG9uZyBtLCBuOworCXUxNiBodG90YWw7CisJaW50IHJldDsKKwl1OCBwb3N0X2RpdmlkZXIg
PSAwOworCisJcmV0ID0gYW54NzYyNV9jYWxjdWxhdGVfbV9uKGN0eC0+ZHQucGl4ZWxjbG9jay5t
aW4gKiAxMDAwLAorCQkJCSAgICAmbSwgJm4sICZwb3N0X2RpdmlkZXIpOworCisJaWYgKHJldCkg
eworCQlEUk1fRVJST1IoImNhbm5vdCBnZXQgcHJvcGVydHkgbSBuIHZhbHVlLlxuIik7CisJCXJl
dHVybiByZXQ7CisJfQorCisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiY29tcHV0ZSBNKCVs
dSksIE4oJWx1KSwgZGl2aWRlciglZCkuXG4iLAorCQkJICAgICBtLCBuLCBwb3N0X2RpdmlkZXIp
OworCisJLyogY29uZmlndXJlIHBpeGVsIGNsb2NrICovCisJcmV0ID0gYW54NzYyNV9yZWdfd3Jp
dGUoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsIFBJWEVMX0NMT0NLX0wsCisJCQkJKGN0eC0+
ZHQucGl4ZWxjbG9jay5taW4gLyAxMDAwKSAmIDB4RkYpOworCXJldCB8PSBhbng3NjI1X3JlZ193
cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwgUElYRUxfQ0xPQ0tfSCwKKwkJCQkgKGN0
eC0+ZHQucGl4ZWxjbG9jay5taW4gLyAxMDAwKSA+PiA4KTsKKwkvKiBsYW5lIGNvdW50ICovCisJ
cmV0IHw9IGFueDc2MjVfd3JpdGVfYW5kKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LAorCQkJ
TUlQSV9MQU5FX0NUUkxfMCwgMHhmYyk7CisJcmV0IHw9IGFueDc2MjVfd3JpdGVfb3IoY3R4LCBj
dHgtPmkyYy5yeF9wMV9jbGllbnQsCisJCQkJTUlQSV9MQU5FX0NUUkxfMCwgMyk7CisKKwkvKiBI
dG90YWwgKi8KKwlodG90YWwgPSBjdHgtPmR0LmhhY3RpdmUubWluICsgY3R4LT5kdC5oZnJvbnRf
cG9yY2gubWluICsKKwkJY3R4LT5kdC5oYmFja19wb3JjaC5taW4gKyBjdHgtPmR0LmhzeW5jX2xl
bi5taW47CisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDJfY2xp
ZW50LAorCQkJSE9SSVpPTlRBTF9UT1RBTF9QSVhFTFNfTCwgaHRvdGFsICYgMHhGRik7CisJcmV0
IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDJfY2xpZW50LAorCQkJSE9S
SVpPTlRBTF9UT1RBTF9QSVhFTFNfSCwgaHRvdGFsID4+IDgpOworCS8qIEhhY3RpdmUgKi8KKwly
ZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMl9jbGllbnQsCisJCQlI
T1JJWk9OVEFMX0FDVElWRV9QSVhFTFNfTCwgY3R4LT5kdC5oYWN0aXZlLm1pbiAmIDB4RkYpOwor
CXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AyX2NsaWVudCwKKwkJ
CUhPUklaT05UQUxfQUNUSVZFX1BJWEVMU19ILCBjdHgtPmR0LmhhY3RpdmUubWluID4+IDgpOwor
CS8qIEhGUCAqLworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3Ay
X2NsaWVudCwKKwkJCUhPUklaT05UQUxfRlJPTlRfUE9SQ0hfTCwgY3R4LT5kdC5oZnJvbnRfcG9y
Y2gubWluKTsKKwlyZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMl9j
bGllbnQsCisJCQlIT1JJWk9OVEFMX0ZST05UX1BPUkNIX0gsCisJCQljdHgtPmR0Lmhmcm9udF9w
b3JjaC5taW4gPj4gOCk7CisJLyogSFdTICovCisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0
eCwgY3R4LT5pMmMucnhfcDJfY2xpZW50LAorCQkJSE9SSVpPTlRBTF9TWU5DX1dJRFRIX0wsIGN0
eC0+ZHQuaHN5bmNfbGVuLm1pbik7CisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4
LT5pMmMucnhfcDJfY2xpZW50LAorCQkJSE9SSVpPTlRBTF9TWU5DX1dJRFRIX0gsIGN0eC0+ZHQu
aHN5bmNfbGVuLm1pbiA+PiA4KTsKKwkvKiBIQlAgKi8KKwlyZXQgfD0gYW54NzYyNV9yZWdfd3Jp
dGUoY3R4LCBjdHgtPmkyYy5yeF9wMl9jbGllbnQsCisJCQlIT1JJWk9OVEFMX0JBQ0tfUE9SQ0hf
TCwgY3R4LT5kdC5oYmFja19wb3JjaC5taW4pOworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShj
dHgsIGN0eC0+aTJjLnJ4X3AyX2NsaWVudCwKKwkJCUhPUklaT05UQUxfQkFDS19QT1JDSF9ILCBj
dHgtPmR0LmhiYWNrX3BvcmNoLm1pbiA+PiA4KTsKKwkvKiBWYWN0aXZlICovCisJcmV0IHw9IGFu
eDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDJfY2xpZW50LCBBQ1RJVkVfTElORVNf
TCwKKwkJCWN0eC0+ZHQudmFjdGl2ZS5taW4pOworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShj
dHgsIGN0eC0+aTJjLnJ4X3AyX2NsaWVudCwgQUNUSVZFX0xJTkVTX0gsCisJCQljdHgtPmR0LnZh
Y3RpdmUubWluID4+IDgpOworCS8qIFZGUCAqLworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShj
dHgsIGN0eC0+aTJjLnJ4X3AyX2NsaWVudCwKKwkJCVZFUlRJQ0FMX0ZST05UX1BPUkNILCBjdHgt
PmR0LnZmcm9udF9wb3JjaC5taW4pOworCS8qIFZXUyAqLworCXJldCB8PSBhbng3NjI1X3JlZ193
cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AyX2NsaWVudCwKKwkJCVZFUlRJQ0FMX1NZTkNfV0lEVEgs
IGN0eC0+ZHQudnN5bmNfbGVuLm1pbik7CisJLyogVkJQICovCisJcmV0IHw9IGFueDc2MjVfcmVn
X3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDJfY2xpZW50LAorCQkJVkVSVElDQUxfQkFDS19QT1JD
SCwgY3R4LT5kdC52YmFja19wb3JjaC5taW4pOworCS8qIE0gdmFsdWUgKi8KKwlyZXQgfD0gYW54
NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsCisJCQlNSVBJX1BMTF9N
X05VTV8yM18xNiwgKG0gPj4gMTYpICYgMHhmZik7CisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRl
KGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LAorCQkJTUlQSV9QTExfTV9OVU1fMTVfOCwgKG0g
Pj4gOCkgJiAweGZmKTsKKwlyZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5y
eF9wMV9jbGllbnQsCisJCQlNSVBJX1BMTF9NX05VTV83XzAsIChtICYgMHhmZikpOworCS8qIE4g
dmFsdWUgKi8KKwlyZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9j
bGllbnQsCisJCQlNSVBJX1BMTF9OX05VTV8yM18xNiwgKG4gPj4gMTYpICYgMHhmZik7CisJcmV0
IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LAorCQkJTUlQ
SV9QTExfTl9OVU1fMTVfOCwgKG4gPj4gOCkgJiAweGZmKTsKKwlyZXQgfD0gYW54NzYyNV9yZWdf
d3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsIE1JUElfUExMX05fTlVNXzdfMCwKKwkJ
CShuICYgMHhmZikpOworCS8qIGRpZmYgKi8KKwlyZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4
LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsCisJCQlNSVBJX0RJR0lUQUxfQURKXzEsIDB4MzcpOwor
CisJcmV0IHw9IGFueDc2MjVfb2RmY19jb25maWcoY3R4LCBwb3N0X2RpdmlkZXIgLSAxKTsKKwor
CWlmIChyZXQgPCAwKQorCQlEUk1fRVJST1IoIm1pcGkgZHNpIHNldHVwIElPIGVycm9yLlxuIik7
CisKKwlyZXR1cm4gcmV0OworfQorCitzdGF0aWMgaW50IGFueDc2MjVfc3dhcF9kc2lfbGFuZTMo
c3RydWN0IGFueDc2MjVfZGF0YSAqY3R4KQoreworCWludCB2YWw7CisKKwkvKiBzd2FwIE1JUEkt
RFNJIGRhdGEgbGFuZSAzIFAgYW5kIE4gKi8KKwl2YWwgPSBhbng3NjI1X3JlZ19yZWFkKGN0eCwg
Y3R4LT5pMmMucnhfcDFfY2xpZW50LCBNSVBJX1NXQVApOworCWlmICh2YWwgPCAwKSB7CisJCURS
TV9FUlJPUigiSU8gZXJyb3IgOiBhY2Nlc3MgTUlQSV9TV0FQLlxuIik7CisJCXJldHVybiAtRUlP
OworCX0KKworCXZhbCB8PSAoMSA8PCBNSVBJX1NXQVBfQ0gzKTsKKwlyZXR1cm4gYW54NzYyNV9y
ZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsIE1JUElfU1dBUCwgdmFsKTsKK30K
Kworc3RhdGljIGludCBhbng3NjI1X2FwaV9kc2lfY29uZmlnKHN0cnVjdCBhbng3NjI1X2RhdGEg
KmN0eCkKKworeworCWludCB2YWwsIHJldDsKKworCS8qIHN3YXAgTUlQSS1EU0kgZGF0YSBsYW5l
IDMgUCBhbmQgTiAqLworCXJldCA9IGFueDc2MjVfc3dhcF9kc2lfbGFuZTMoY3R4KTsKKwlpZiAo
cmV0IDwgMCkgeworCQlEUk1fRVJST1IoIklPIGVycm9yIDogc3dhcCBkc2kgbGFuZSAzIGZhaWxl
ZC5cbiIpOworCQlyZXR1cm4gcmV0OworCX0KKworCS8qIERTSSBjbG9jayBzZXR0aW5ncyAqLwor
CXZhbCA9ICgwIDw8IE1JUElfSFNfUFdEX0NMSykJCXwKKwkJKDAgPDwgTUlQSV9IU19SVF9DTEsp
CQl8CisJCSgwIDw8IE1JUElfUERfQ0xLKQkJfAorCQkoMSA8PCBNSVBJX0NMS19SVF9NQU5VQUxf
UERfRU4pCXwKKwkJKDEgPDwgTUlQSV9DTEtfSFNfTUFOVUFMX1BEX0VOKQl8CisJCSgwIDw8IE1J
UElfQ0xLX0RFVF9ERVRfQllQQVNTKQl8CisJCSgwIDw8IE1JUElfQ0xLX01JU1NfQ1RSTCkJfAor
CQkoMCA8PCBNSVBJX1BEX0xQVFhfQ0hfTUFOVUFMX1BEX0VOKTsKKwlyZXQgPSBhbng3NjI1X3Jl
Z193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AxX2NsaWVudCwKKwkJCQlNSVBJX1BIWV9DT05UUk9M
XzMsIHZhbCk7CisKKwkvKgorCSAqIERlY3JlYXNlZCBIUyBwcmVwYXJlIHRpbWluZyBkZWxheSBm
cm9tIDE2MG5zIHRvIDgwbnMgd29yayB3aXRoCisJICogICAgIGEpIERyYWdvbiBib2FyZCA4MTAg
c2VyaWVzIChRdWFsY29tbSBBUCkKKwkgKiAgICAgYikgTW92aW5nIFBpeGVsIERTSSBzb3VyY2Ug
KFBHM0EgcGF0dGVybiBnZW5lcmF0b3IgKworCSAqCVAzMzIgRC1QSFkgUHJvYmUpIGRlZmF1bHQg
RC1QSFkgdGltaW5nCisJICoJNW5zL3N0ZXAKKwkgKi8KKwlyZXQgfD0gYW54NzYyNV9yZWdfd3Jp
dGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsCisJCQkJIE1JUElfVElNRV9IU19QUlBSLCAw
eDEwKTsKKworCS8qIGVuYWJsZSBEU0kgbW9kZSovCisJcmV0IHw9IGFueDc2MjVfd3JpdGVfb3Io
Y3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsIE1JUElfRElHSVRBTF9QTExfMTgsCisJCQkJU0VM
RUNUX0RTSSA8PCBNSVBJX0RQSV9TRUxFQ1QpOworCisJcmV0IHw9IGFueDc2MjVfZHNpX3ZpZGVv
X3RpbWluZ19jb25maWcoY3R4KTsKKwlpZiAocmV0IDwgMCkgeworCQlEUk1fRVJST1IoImRzaSB2
aWRlbyB0aW1pbmcgY29uZmlnIGZhaWxlZFxuIik7CisJCXJldHVybiByZXQ7CisJfQorCisJLyog
dG9nZ2xlIG0sIG4gcmVhZHkgKi8KKwlyZXQgPSBhbng3NjI1X3dyaXRlX2FuZChjdHgsIGN0eC0+
aTJjLnJ4X3AxX2NsaWVudCwgTUlQSV9ESUdJVEFMX1BMTF82LAorCQkJCX4oTUlQSV9NX05VTV9S
RUFEWSB8IE1JUElfTl9OVU1fUkVBRFkpKTsKKwl1c2xlZXBfcmFuZ2UoMTAwMCwgMTEwMCk7CisJ
cmV0IHw9IGFueDc2MjVfd3JpdGVfb3IoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsIE1JUElf
RElHSVRBTF9QTExfNiwKKwkJCQlNSVBJX01fTlVNX1JFQURZIHwgTUlQSV9OX05VTV9SRUFEWSk7
CisKKwkvKiBjb25maWd1cmUgaW50ZWdlciBzdGFibGUgcmVnaXN0ZXIgKi8KKwlyZXQgfD0gYW54
NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9jbGllbnQsCisJCQkJIE1JUElfVklE
RU9fU1RBQkxFX0NOVCwgMHgwMik7CisJLyogcG93ZXIgb24gTUlQSSBSWCAqLworCXJldCB8PSBh
bng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AxX2NsaWVudCwKKwkJCQkgTUlQSV9M
QU5FX0NUUkxfMTAsIDB4MDApOworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+
aTJjLnJ4X3AxX2NsaWVudCwKKwkJCQkgTUlQSV9MQU5FX0NUUkxfMTAsIDB4ODApOworCisJaWYg
KHJldCA8IDApCisJCURSTV9FUlJPUigiSU8gZXJyb3IgOiBtaXBpIGRzaSBlbmFibGUgaW5pdCBm
YWlsZWQuXG4iKTsKKworCXJldHVybiByZXQ7Cit9CisKK3N0YXRpYyBpbnQgYW54NzYyNV9kc2lf
Y29uZmlnKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCkKK3sKKwlzdHJ1Y3QgZGV2aWNlICpkZXYg
PSAmY3R4LT5jbGllbnQtPmRldjsKKwlpbnQgcmV0OworCisJRFJNX0RFVl9ERUJVR19EUklWRVIo
ZGV2LCAiY29uZmlnIGRzaS5cbiIpOworCisJLyogRFNDIGRpc2FibGUgKi8KKwlyZXQgPSBhbng3
NjI1X3dyaXRlX2FuZChjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQlSX0RTQ19DVFJM
XzAsIH5EU0NfRU4pOworCisJcmV0IHw9IGFueDc2MjVfYXBpX2RzaV9jb25maWcoY3R4KTsKKwor
CWlmIChyZXQgPCAwKSB7CisJCURSTV9FUlJPUigiSU8gZXJyb3IgOiBhcGkgZHNpIGNvbmZpZyBl
cnJvci5cbiIpOworCQlyZXR1cm4gcmV0OworCX0KKworCS8qIHNldCBNSVBJIFJYIEVOICovCisJ
cmV0ID0gYW54NzYyNV93cml0ZV9vcihjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCSAg
ICAgICBBUF9BVl9TVEFUVVMsIEFQX01JUElfUlhfRU4pOworCS8qIGNsZWFyIG11dGUgZmxhZyAq
LworCXJldCB8PSBhbng3NjI1X3dyaXRlX2FuZChjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwK
KwkJCQkgQVBfQVZfU1RBVFVTLCAodTgpfkFQX01JUElfTVVURSk7CisJaWYgKHJldCA8IDApCisJ
CURSTV9FUlJPUigiSU8gZXJyb3IgOiBlbmFibGUgbWlwaSByeCBmYWlsZWQuXG4iKTsKKwllbHNl
CisJCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgInN1Y2Nlc3MgdG8gY29uZmlnIERTSVxuIik7
CisKKwlyZXR1cm4gcmV0OworfQorCitzdGF0aWMgaW50IGFueDc2MjVfYXBpX2RwaV9jb25maWco
c3RydWN0IGFueDc2MjVfZGF0YSAqY3R4KQoreworCXUxNiBmcmVxID0gY3R4LT5kdC5waXhlbGNs
b2NrLm1pbiAvIDEwMDA7CisJaW50IHJldDsKKworCS8qIGNvbmZpZ3VyZSBwaXhlbCBjbG9jayAq
LworCXJldCA9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LAor
CQkJCVBJWEVMX0NMT0NLX0wsIGZyZXEgJiAweEZGKTsKKwlyZXQgfD0gYW54NzYyNV9yZWdfd3Jp
dGUoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsCisJCQkJIFBJWEVMX0NMT0NLX0gsIChmcmVx
ID4+IDgpKTsKKworCS8qIHNldCBEUEkgbW9kZSAqLworCS8qIHNldCB0byBEUEkgUExMIG1vZHVs
ZSBzZWwgKi8KKwlyZXQgfD0gYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMV9j
bGllbnQsCisJCQkJIE1JUElfRElHSVRBTF9QTExfOSwgMHgyMCk7CisJLyogcG93ZXIgZG93biBN
SVBJICovCisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xp
ZW50LAorCQkJCSBNSVBJX0xBTkVfQ1RSTF8xMCwgMHgwOCk7CisJLyogZW5hYmxlIERQSSBtb2Rl
ICovCisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50
LAorCQkJCSBNSVBJX0RJR0lUQUxfUExMXzE4LCAweDFDKTsKKwkvKiBzZXQgZmlyc3QgZWRnZSAq
LworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnR4X3AyX2NsaWVudCwK
KwkJCQkgVklERU9fQ09OVFJPTF8wLCAweDA1KTsKKwlpZiAocmV0IDwgMCkKKwkJRFJNX0VSUk9S
KCJJTyBlcnJvciA6IGRwaSBwaHkgc2V0IGZhaWxlZC5cbiIpOworCisJcmV0dXJuIHJldDsKK30K
Kworc3RhdGljIGludCBhbng3NjI1X2RwaV9jb25maWcoc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4
KQoreworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZjdHgtPmNsaWVudC0+ZGV2OworCWludCByZXQ7
CisKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJjb25maWcgZHBpXG4iKTsKKworCS8qIERT
QyBkaXNhYmxlICovCisJcmV0ID0gYW54NzYyNV93cml0ZV9hbmQoY3R4LCBjdHgtPmkyYy5yeF9w
MF9jbGllbnQsCisJCQkJUl9EU0NfQ1RSTF8wLCB+RFNDX0VOKTsKKwlpZiAocmV0IDwgMCkgewor
CQlEUk1fRVJST1IoIklPIGVycm9yIDogZGlzYWJsZSBkc2MgZmFpbGVkLlxuIik7CisJCXJldHVy
biByZXQ7CisJfQorCisJcmV0ID0gYW54NzYyNV9jb25maWdfYml0X21hdHJpeChjdHgpOworCWlm
IChyZXQgPCAwKSB7CisJCURSTV9FUlJPUigiY29uZmlnIGJpdCBtYXRyaXggZmFpbGVkLlxuIik7
CisJCXJldHVybiByZXQ7CisJfQorCisJcmV0ID0gYW54NzYyNV9hcGlfZHBpX2NvbmZpZyhjdHgp
OworCWlmIChyZXQgPCAwKSB7CisJCURSTV9FUlJPUigibWlwaSBwaHkoZHBpKSBzZXR1cCBmYWls
ZWQuXG4iKTsKKwkJcmV0dXJuIHJldDsKKwl9CisKKwkvKiBzZXQgTUlQSSBSWCBFTiAqLworCXJl
dCA9IGFueDc2MjVfd3JpdGVfb3IoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsCisJCQkgICAg
ICAgQVBfQVZfU1RBVFVTLCBBUF9NSVBJX1JYX0VOKTsKKwkvKiBjbGVhciBtdXRlIGZsYWcgKi8K
KwlyZXQgfD0gYW54NzYyNV93cml0ZV9hbmQoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsCisJ
CQkJIEFQX0FWX1NUQVRVUywgKHU4KX5BUF9NSVBJX01VVEUpOworCWlmIChyZXQgPCAwKQorCQlE
Uk1fRVJST1IoIklPIGVycm9yIDogZW5hYmxlIG1pcGkgcnggZmFpbGVkLlxuIik7CisKKwlyZXR1
cm4gcmV0OworfQorCitzdGF0aWMgdm9pZCBhbng3NjI1X2RwX3N0YXJ0KHN0cnVjdCBhbng3NjI1
X2RhdGEgKmN0eCkKK3sKKwlpbnQgcmV0OworCisJaWYgKCFjdHgtPmRpc3BsYXlfdGltaW5nX3Zh
bGlkKSB7CisJCURSTV9FUlJPUigibWlwaSBkcm0gaGF2ZW4ndCBzZXQgZGlzcGxheSB0aW1pbmcg
eWV0LlxuIik7CisJCXJldHVybjsKKwl9CisKKwlhbng3NjI1X2NvbmZpZ19hdWRpb19pbnB1dChj
dHgpOworCisJaWYgKGN0eC0+cGRhdGEuZHNpX3N1cHBvcnRlZCkKKwkJcmV0ID0gYW54NzYyNV9k
c2lfY29uZmlnKGN0eCk7CisJZWxzZQorCQlyZXQgPSBhbng3NjI1X2RwaV9jb25maWcoY3R4KTsK
KworCWlmIChyZXQgPCAwKQorCQlEUk1fRVJST1IoIk1JUEkgcGh5IHNldHVwIGVycm9yLlxuIik7
Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfZHBfc3RvcChzdHJ1Y3QgYW54NzYyNV9kYXRhICpj
dHgpCit7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7CisJaW50IHJl
dDsKKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgInN0b3AgZHAgb3V0cHV0XG4iKTsKKwor
CS8qCisJICogdmlkZW8gZGlzYWJsZTogMHg3MjowOCBiaXQgNyA9IDA7CisJICogYXVkaW8gZGlz
YWJsZTogMHg3MDo4NyBiaXQgMCA9IDA7CisJICovCisJcmV0ID0gYW54NzYyNV93cml0ZV9hbmQo
Y3R4LCBjdHgtPmkyYy50eF9wMF9jbGllbnQsIDB4ODcsIDB4ZmUpOworCXJldCB8PSBhbng3NjI1
X3dyaXRlX2FuZChjdHgsIGN0eC0+aTJjLnR4X3AyX2NsaWVudCwgMHgwOCwgMHg3Zik7CisKKwly
ZXQgfD0gYW54NzYyNV92aWRlb19tdXRlX2NvbnRyb2woY3R4LCAxKTsKKwlpZiAocmV0IDwgMCkK
KwkJRFJNX0VSUk9SKCJJTyBlcnJvciA6IG11dGUgdmlkZW8gZmFpbGVkXG4iKTsKK30KKworc3Rh
dGljIGludCBzcF90eF9yc3RfYXV4KHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCkKK3sKKwlpbnQg
cmV0OworCisJcmV0ID0gYW54NzYyNV93cml0ZV9vcihjdHgsIGN0eC0+aTJjLnR4X3AyX2NsaWVu
dCwgUlNUX0NUUkwyLAorCQkJICAgICAgIEFVWF9SU1QpOworCXJldCB8PSBhbng3NjI1X3dyaXRl
X2FuZChjdHgsIGN0eC0+aTJjLnR4X3AyX2NsaWVudCwgUlNUX0NUUkwyLAorCQkJCSB+QVVYX1JT
VCk7CisJcmV0dXJuIHJldDsKK30KKworc3RhdGljIGludCBzcF90eF9hdXhfd3Ioc3RydWN0IGFu
eDc2MjVfZGF0YSAqY3R4LCB1OCBvZmZzZXQpCit7CisJaW50IHJldDsKKworCXJldCA9IGFueDc2
MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LAorCQkJCUFQX0FVWF9CVUZG
X1NUQVJULCBvZmZzZXQpOworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJj
LnJ4X3AwX2NsaWVudCwKKwkJCQkgQVBfQVVYX0NPTU1BTkQsIDB4MDQpOworCXJldCB8PSBhbng3
NjI1X3dyaXRlX29yKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LAorCQkJCUFQX0FVWF9DVFJM
X1NUQVRVUywgQVBfQVVYX0NUUkxfT1BfRU4pOworCXJldHVybiAocmV0IHwgd2FpdF9hdXhfb3Bf
ZmluaXNoKGN0eCkpOworfQorCitzdGF0aWMgaW50IHNwX3R4X2F1eF9yZChzdHJ1Y3QgYW54NzYy
NV9kYXRhICpjdHgsIHU4IGxlbl9jbWQpCit7CisJaW50IHJldDsKKworCXJldCA9IGFueDc2MjVf
cmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LAorCQkJCUFQX0FVWF9DT01NQU5E
LCBsZW5fY21kKTsKKwlyZXQgfD0gYW54NzYyNV93cml0ZV9vcihjdHgsIGN0eC0+aTJjLnJ4X3Aw
X2NsaWVudCwKKwkJCQlBUF9BVVhfQ1RSTF9TVEFUVVMsIEFQX0FVWF9DVFJMX09QX0VOKTsKKwly
ZXR1cm4gKHJldCB8IHdhaXRfYXV4X29wX2ZpbmlzaChjdHgpKTsKK30KKworc3RhdGljIGludCBz
cF90eF9nZXRfZWRpZF9ibG9jayhzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJaW50IGMg
PSAwOworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZjdHgtPmNsaWVudC0+ZGV2OworCisJc3BfdHhf
YXV4X3dyKGN0eCwgMHg3ZSk7CisJc3BfdHhfYXV4X3JkKGN0eCwgMHgwMSk7CisJYyA9IGFueDc2
MjVfcmVnX3JlYWQoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsIEFQX0FVWF9CVUZGX1NUQVJU
KTsKKwlpZiAoYyA8IDApIHsKKwkJRFJNX0VSUk9SKCJJTyBlcnJvciA6IGFjY2VzcyBBVVggQlVG
Ri5cbiIpOworCQlyZXR1cm4gLUVJTzsKKwl9CisKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYs
ICIgRURJRCBCbG9jayA9ICVkXG4iLCBjICsgMSk7CisKKwlpZiAoYyA+IE1BWF9FRElEX0JMT0NL
KQorCQljID0gMTsKKworCXJldHVybiBjOworfQorCitzdGF0aWMgaW50IGVkaWRfcmVhZChzdHJ1
Y3QgYW54NzYyNV9kYXRhICpjdHgsCisJCSAgICAgdTggb2Zmc2V0LCB1OCAqcGJsb2NrX2J1ZikK
K3sKKwlpbnQgcmV0LCBjbnQ7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5k
ZXY7CisKKwlmb3IgKGNudCA9IDA7IGNudCA8PSBFRElEX1RSWV9DTlQ7IGNudCsrKSB7CisJCXNw
X3R4X2F1eF93cihjdHgsIG9mZnNldCk7CisJCS8qIHNldCBJMkMgcmVhZCBjb20gMHgwMSBtb3Qg
PSAwIGFuZCByZWFkIDE2IGJ5dGVzICovCisJCXJldCA9IHNwX3R4X2F1eF9yZChjdHgsIDB4ZjEp
OworCisJCWlmIChyZXQpIHsKKwkJCXNwX3R4X3JzdF9hdXgoY3R4KTsKKwkJCURSTV9ERVZfREVC
VUdfRFJJVkVSKGRldiwgImVkaWQgcmVhZCBmYWlsZWQsIHJlc2V0IVxuIik7CisJCX0gZWxzZSB7
CisJCQlyZXQgPSBhbng3NjI1X3JlZ19ibG9ja19yZWFkKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xp
ZW50LAorCQkJCQkJICAgICBBUF9BVVhfQlVGRl9TVEFSVCwKKwkJCQkJCSAgICAgTUFYX0RQQ0Rf
QlVGRkVSX1NJWkUsCisJCQkJCQkgICAgIHBibG9ja19idWYpOworCQkJaWYgKHJldCA+IDApCisJ
CQkJYnJlYWs7CisJCX0KKwl9CisKKwlpZiAoY250ID4gRURJRF9UUllfQ05UKQorCQlyZXR1cm4g
LUVJTzsKKworCXJldHVybiAwOworfQorCitzdGF0aWMgaW50IHNlZ21lbnRzX2VkaWRfcmVhZChz
dHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgsCisJCQkgICAgICB1OCBzZWdtZW50LCB1OCAqYnVmLCB1
OCBvZmZzZXQpCit7CisJdTggY250OworCWludCByZXQ7CisJc3RydWN0IGRldmljZSAqZGV2ID0g
JmN0eC0+Y2xpZW50LT5kZXY7CisKKwkvKiB3cml0ZSBhZGRyZXNzIG9ubHkgKi8KKwlyZXQgPSBh
bng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQlBUF9BVVhf
QUREUl83XzAsIDB4MzApOworCXJldCB8PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJj
LnJ4X3AwX2NsaWVudCwKKwkJCQkgQVBfQVVYX0NPTU1BTkQsIDB4MDQpOworCXJldCB8PSBhbng3
NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkgQVBfQVVYX0NU
UkxfU1RBVFVTLAorCQkJCSBBUF9BVVhfQ1RSTF9BRERST05MWSB8IEFQX0FVWF9DVFJMX09QX0VO
KTsKKworCXJldCB8PSB3YWl0X2F1eF9vcF9maW5pc2goY3R4KTsKKwkvKiB3cml0ZSBzZWdtZW50
IGFkZHJlc3MgKi8KKwlyZXQgfD0gc3BfdHhfYXV4X3dyKGN0eCwgc2VnbWVudCk7CisJLyogZGF0
YSByZWFkICovCisJcmV0IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBf
Y2xpZW50LAorCQkJCSBBUF9BVVhfQUREUl83XzAsIDB4NTApOworCWlmIChyZXQpIHsKKwkJRFJN
X0VSUk9SKCJJTyBlcnJvciA6IGF1eCBpbml0aWFsIGZhaWxlZC5cbiIpOworCQlyZXR1cm4gcmV0
OworCX0KKworCWZvciAoY250ID0gMDsgY250IDw9IEVESURfVFJZX0NOVDsgY250KyspIHsKKwkJ
c3BfdHhfYXV4X3dyKGN0eCwgb2Zmc2V0KTsKKwkJLyogc2V0IEkyQyByZWFkIGNvbSAweDAxIG1v
dCA9IDAgYW5kIHJlYWQgMTYgYnl0ZXMgKi8KKwkJcmV0ID0gc3BfdHhfYXV4X3JkKGN0eCwgMHhm
MSk7CisKKwkJaWYgKHJldCkgeworCQkJcmV0ID0gc3BfdHhfcnN0X2F1eChjdHgpOworCQkJRFJN
X0RFVl9FUlJPUihkZXYsICJzZWdtZW50IHJlYWQgZmFpbGVkLCByZXNldCFcbiIpOworCQl9IGVs
c2UgeworCQkJcmV0ID0gYW54NzYyNV9yZWdfYmxvY2tfcmVhZChjdHgsIGN0eC0+aTJjLnJ4X3Aw
X2NsaWVudCwKKwkJCQkJCSAgICAgQVBfQVVYX0JVRkZfU1RBUlQsCisJCQkJCQkgICAgIE1BWF9E
UENEX0JVRkZFUl9TSVpFLCBidWYpOworCQkJaWYgKHJldCA+IDApCisJCQkJYnJlYWs7CisJCX0K
Kwl9CisKKwlpZiAoY250ID4gRURJRF9UUllfQ05UKQorCQlyZXR1cm4gLUVJTzsKKworCXJldHVy
biAwOworfQorCitzdGF0aWMgaW50IHNwX3R4X2VkaWRfcmVhZChzdHJ1Y3QgYW54NzYyNV9kYXRh
ICpjdHgsCisJCQkgICB1OCAqcGVkaWRfYmxvY2tzX2J1ZikKK3sKKwl1OCBvZmZzZXQsIGVkaWRf
cG9zOworCWludCBjb3VudCwgYmxvY2tzX251bTsKKwl1OCBwYmxvY2tfYnVmW01BWF9EUENEX0JV
RkZFUl9TSVpFXTsKKwl1OCBpLCBqOworCXU4IGdfZWRpZF9icmVhayA9IDA7CisJaW50IHJldDsK
KwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKworCS8qIGFkZHJlc3Mg
aW5pdGlhbCAqLworCXJldCA9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBf
Y2xpZW50LAorCQkJCUFQX0FVWF9BRERSXzdfMCwgMHg1MCk7CisJcmV0IHw9IGFueDc2MjVfcmVn
X3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LAorCQkJCSBBUF9BVVhfQUREUl8xNV84
LCAwKTsKKwlyZXQgfD0gYW54NzYyNV93cml0ZV9hbmQoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGll
bnQsCisJCQkJIEFQX0FVWF9BRERSXzE5XzE2LCAweGYwKTsKKwlpZiAocmV0IDwgMCkgeworCQlE
Uk1fRVJST1IoImFjY2VzcyBhdXggY2hhbm5lbCBJTyBlcnJvci5cbiIpOworCQlyZXR1cm4gLUVJ
TzsKKwl9CisKKwlibG9ja3NfbnVtID0gc3BfdHhfZ2V0X2VkaWRfYmxvY2soY3R4KTsKKwlpZiAo
YmxvY2tzX251bSA8IDApCisJCXJldHVybiBibG9ja3NfbnVtOworCisJY291bnQgPSAwOworCisJ
ZG8geworCQlzd2l0Y2ggKGNvdW50KSB7CisJCWNhc2UgMDoKKwkJY2FzZSAxOgorCQkJZm9yIChp
ID0gMDsgaSA8IDg7IGkrKykgeworCQkJCW9mZnNldCA9IChpICsgY291bnQgKiA4KSAqIE1BWF9E
UENEX0JVRkZFUl9TSVpFOworCQkJCWdfZWRpZF9icmVhayA9IGVkaWRfcmVhZChjdHgsIG9mZnNl
dCwKKwkJCQkJCQkgcGJsb2NrX2J1Zik7CisKKwkJCQlpZiAoZ19lZGlkX2JyZWFrKQorCQkJCQli
cmVhazsKKworCQkJCW1lbWNweSgmcGVkaWRfYmxvY2tzX2J1ZltvZmZzZXRdLAorCQkJCSAgICAg
ICBwYmxvY2tfYnVmLAorCQkJCSAgICAgICBNQVhfRFBDRF9CVUZGRVJfU0laRSk7CisJCQl9CisK
KwkJCWJyZWFrOworCQljYXNlIDI6CisJCQlvZmZzZXQgPSAweDAwOworCisJCQlmb3IgKGogPSAw
OyBqIDwgODsgaisrKSB7CisJCQkJZWRpZF9wb3MgPSAoaiArIGNvdW50ICogOCkgKgorCQkJCQlN
QVhfRFBDRF9CVUZGRVJfU0laRTsKKworCQkJCWlmIChnX2VkaWRfYnJlYWsgPT0gMSkKKwkJCQkJ
YnJlYWs7CisKKwkJCQlzZWdtZW50c19lZGlkX3JlYWQoY3R4LCBjb3VudCAvIDIsCisJCQkJCQkg
ICBwYmxvY2tfYnVmLCBvZmZzZXQpOworCQkJCW1lbWNweSgmcGVkaWRfYmxvY2tzX2J1ZltlZGlk
X3Bvc10sCisJCQkJICAgICAgIHBibG9ja19idWYsCisJCQkJICAgICAgIE1BWF9EUENEX0JVRkZF
Ul9TSVpFKTsKKwkJCQlvZmZzZXQgPSBvZmZzZXQgKyAweDEwOworCQkJfQorCisJCQlicmVhazsK
KwkJY2FzZSAzOgorCQkJb2Zmc2V0ID0gMHg4MDsKKworCQkJZm9yIChqID0gMDsgaiA8IDg7IGor
KykgeworCQkJCWVkaWRfcG9zID0gKGogKyBjb3VudCAqIDgpICoKKwkJCQkJTUFYX0RQQ0RfQlVG
RkVSX1NJWkU7CisJCQkJaWYgKGdfZWRpZF9icmVhayA9PSAxKQorCQkJCQlicmVhazsKKworCQkJ
CXNlZ21lbnRzX2VkaWRfcmVhZChjdHgsIGNvdW50IC8gMiwKKwkJCQkJCSAgIHBibG9ja19idWYs
IG9mZnNldCk7CisJCQkJbWVtY3B5KCZwZWRpZF9ibG9ja3NfYnVmW2VkaWRfcG9zXSwKKwkJCQkg
ICAgICAgcGJsb2NrX2J1ZiwKKwkJCQkgICAgICAgTUFYX0RQQ0RfQlVGRkVSX1NJWkUpOworCQkJ
CW9mZnNldCA9IG9mZnNldCArIDB4MTA7CisJCQl9CisKKwkJCWJyZWFrOworCQlkZWZhdWx0Ogor
CQkJYnJlYWs7CisJCX0KKworCQljb3VudCsrOworCisJfSB3aGlsZSAoYmxvY2tzX251bSA+PSBj
b3VudCk7CisKKwkvKiBjaGVjayBlZGlkIGRhdGEgKi8KKwlpZiAoIWRybV9lZGlkX2lzX3ZhbGlk
KChzdHJ1Y3QgZWRpZCAqKXBlZGlkX2Jsb2Nrc19idWYpKSB7CisJCURSTV9ERVZfRVJST1IoZGV2
LCAiV0FSTklORyEgZWRpZCBjaGVjayBmYWlsZWQhXG4iKTsKKwkJcmV0dXJuIC1FSU5WQUw7CisJ
fQorCisJLyogcmVzZXQgYXV4IGNoYW5uZWwgKi8KKwlzcF90eF9yc3RfYXV4KGN0eCk7CisKKwly
ZXR1cm4gKGJsb2Nrc19udW0gKyAxKTsKK30KKworc3RhdGljIHZvaWQgYW54NzYyNV9wb3dlcl9v
bihzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0
eC0+Y2xpZW50LT5kZXY7CisKKwlpZiAoIWN0eC0+cGRhdGEubG93X3Bvd2VyX21vZGUpIHsKKwkJ
RFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiQW54NzYyNSBub3QgbG93IHBvd2VyIG1vZGUhXG4i
KTsKKwkJcmV0dXJuOworCX0KKworCS8qIHBvd2VyIG9uIHBpbiBlbmFibGUgKi8KKwlncGlvZF9z
ZXRfdmFsdWUoY3R4LT5wZGF0YS5ncGlvX3Bfb24sIDEpOworCXVzbGVlcF9yYW5nZSgxMDAwMCwg
MTEwMDApOworCS8qIHBvd2VyIHJlc2V0IHBpbiBlbmFibGUgKi8KKwlncGlvZF9zZXRfdmFsdWUo
Y3R4LT5wZGF0YS5ncGlvX3Jlc2V0LCAxKTsKKwl1c2xlZXBfcmFuZ2UoMTAwMDAsIDExMDAwKTsK
KworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgIkFueDc2MjUgcG93ZXIgb24gIVxuIik7Cit9
CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfcG93ZXJfc3RhbmRieShzdHJ1Y3QgYW54NzYyNV9kYXRh
ICpjdHgpCit7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7CisKKwlp
ZiAoIWN0eC0+cGRhdGEubG93X3Bvd2VyX21vZGUpIHsKKwkJRFJNX0RFVl9ERUJVR19EUklWRVIo
ZGV2LCAiYW54NzYyNSBub3QgbG93IHBvd2VyIG1vZGUhXG4iKTsKKwkJcmV0dXJuOworCX0KKwor
CWdwaW9kX3NldF92YWx1ZShjdHgtPnBkYXRhLmdwaW9fcmVzZXQsIDApOworCXVzbGVlcF9yYW5n
ZSgxMDAwLCAxMTAwKTsKKwlncGlvZF9zZXRfdmFsdWUoY3R4LT5wZGF0YS5ncGlvX3Bfb24sIDAp
OworCXVzbGVlcF9yYW5nZSgxMDAwLCAxMTAwKTsKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYs
ICJhbng3NjI1IHBvd2VyIGRvd25cbiIpOworfQorCisvKiBiYXNpYyBjb25maWd1cmF0aW9ucyBv
ZiBBTlg3NjI1ICovCitzdGF0aWMgdm9pZCBhbng3NjI1X2NvbmZpZyhzdHJ1Y3QgYW54NzYyNV9k
YXRhICpjdHgpCit7CisJYW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGll
bnQsCisJCQkgIFhUQUxfRlJRX1NFTCwgWFRBTF9GUlFfMjdNKTsKK30KKworc3RhdGljIHZvaWQg
YW54NzYyNV9kaXNhYmxlX3BkX3Byb3RvY29sKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCkKK3sK
KwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKwlpbnQgcmV0OworCisJ
LyogcmVzZXQgbWFpbiBvY20gKi8KKwlyZXQgPSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+
aTJjLnJ4X3AwX2NsaWVudCwgMHg4OCwgMHg0MCk7CisJLyogRGlzYWJsZSBQRCAqLworCXJldCB8
PSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkgQVBf
QVZfU1RBVFVTLCBBUF9ESVNBQkxFX1BEKTsKKwkvKiByZWxlYXNlIG1haW4gb2NtICovCisJcmV0
IHw9IGFueDc2MjVfcmVnX3dyaXRlKGN0eCwgY3R4LT5pMmMucnhfcDBfY2xpZW50LCAweDg4LCAw
eDAwKTsKKworCWlmIChyZXQgPCAwKQorCQlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJkaXNh
YmxlIFBEIGZlYXR1cmUgZmFpbGVkLlxuIik7CisJZWxzZQorCQlEUk1fREVWX0RFQlVHX0RSSVZF
UihkZXYsICJkaXNhYmxlIFBEIGZlYXR1cmUgc3VjY2VlZGVkLlxuIik7Cit9CisKK3N0YXRpYyB2
b2lkIGFueDc2MjVfcG93ZXJfb25faW5pdChzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJ
aW50IHJldHJ5X2NvdW50LCBpOworCWludCByZXQ7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0
eC0+Y2xpZW50LT5kZXY7CisKKwlmb3IgKHJldHJ5X2NvdW50ID0gMDsgcmV0cnlfY291bnQgPCAz
OyByZXRyeV9jb3VudCsrKSB7CisJCWFueDc2MjVfcG93ZXJfb24oY3R4KTsKKwkJYW54NzYyNV9j
b25maWcoY3R4KTsKKworCQlmb3IgKGkgPSAwOyBpIDwgT0NNX0xPQURJTkdfVElNRTsgaSsrKSB7
CisJCQkvKiBjaGVjayBpbnRlcmZhY2Ugd29ya2FibGUgKi8KKwkJCXJldCA9IGFueDc2MjVfcmVn
X3JlYWQoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsCisJCQkJCSAgICAgICBGTEFTSF9MT0FE
X1NUQSk7CisJCQlpZiAocmV0IDwgMCkgeworCQkJCURSTV9FUlJPUigiSU8gZXJyb3IgOiBhY2Nl
c3MgZmxhc2ggbG9hZC5cbiIpOworCQkJCXJldHVybjsKKwkJCX0KKwkJCWlmICgocmV0ICYgRkxB
U0hfTE9BRF9TVEFfQ0hLKSA9PSBGTEFTSF9MT0FEX1NUQV9DSEspIHsKKwkJCQlhbng3NjI1X2Rp
c2FibGVfcGRfcHJvdG9jb2woY3R4KTsKKwkJCQlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsCisJ
CQkJCQkgICAgICJGaXJtd2FyZSB2ZXIgJTAyeCUwMngsIiwKKwkJCQkJYW54NzYyNV9yZWdfcmVh
ZChjdHgsCisJCQkJCQkJIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwKKwkJCQkJCQkgT0NNX0ZXX1ZF
UlNJT04pLAorCQkJCQlhbng3NjI1X3JlZ19yZWFkKGN0eCwKKwkJCQkJCQkgY3R4LT5pMmMucnhf
cDBfY2xpZW50LAorCQkJCQkJCSBPQ01fRldfUkVWRVJTSU9OKSk7CisJCQkJRFJNX0RFVl9ERUJV
R19EUklWRVIoZGV2LCAiRHJpdmVyIHZlcnNpb24gJXNcbiIsCisJCQkJCQkgICAgIEFOWDc2MjVf
RFJWX1ZFUlNJT04pOworCisJCQkJcmV0dXJuOworCQkJfQorCQkJdXNsZWVwX3JhbmdlKDEwMDAs
IDExMDApOworCQl9CisJCWFueDc2MjVfcG93ZXJfc3RhbmRieShjdHgpOworCX0KK30KKworc3Rh
dGljIGludCBhbng3NjI1X2V4dGNvbl9ub3RpZmllcihzdHJ1Y3Qgbm90aWZpZXJfYmxvY2sgKm5i
LAorCQkJCSAgIHVuc2lnbmVkIGxvbmcgZXZlbnQsIHZvaWQgKnB0cikKK3sKKwlzdHJ1Y3QgYW54
NzYyNV9kYXRhICpjdHggPQorCQljb250YWluZXJfb2YobmIsIHN0cnVjdCBhbng3NjI1X2RhdGEs
IGV2ZW50X25iKTsKKworCXNjaGVkdWxlX3dvcmsoJmN0eC0+ZXh0Y29uX3dxKTsKKwlyZXR1cm4g
Tk9USUZZX0RPTkU7Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfY2hpcF9jb250cm9sKHN0cnVj
dCBhbng3NjI1X2RhdGEgKmN0eCwgaW50IHN0YXRlKQoreworCXN0cnVjdCBkZXZpY2UgKmRldiA9
ICZjdHgtPmNsaWVudC0+ZGV2OworCisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiYmVmb3Jl
IHNldCwgcG93ZXJfc3RhdGUoJWQpLlxuIiwKKwkJCSAgICAgYXRvbWljX3JlYWQoJmN0eC0+cG93
ZXJfc3RhdHVzKSk7CisKKwlpZiAoIWN0eC0+cGRhdGEubG93X3Bvd2VyX21vZGUpCisJCXJldHVy
bjsKKworCWlmIChzdGF0ZSkgeworCQlhdG9taWNfaW5jKCZjdHgtPnBvd2VyX3N0YXR1cyk7CisJ
CWlmIChhdG9taWNfcmVhZCgmY3R4LT5wb3dlcl9zdGF0dXMpID09IDEpCisJCQlhbng3NjI1X3Bv
d2VyX29uX2luaXQoY3R4KTsKKwl9IGVsc2UgeworCQlpZiAoYXRvbWljX3JlYWQoJmN0eC0+cG93
ZXJfc3RhdHVzKSkgeworCQkJYXRvbWljX2RlYygmY3R4LT5wb3dlcl9zdGF0dXMpOworCisJCQlp
ZiAoYXRvbWljX3JlYWQoJmN0eC0+cG93ZXJfc3RhdHVzKSA9PSAwKQorCQkJCWFueDc2MjVfcG93
ZXJfc3RhbmRieShjdHgpOworCQl9CisJfQorCisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAi
YWZ0ZXIgc2V0LCBwb3dlcl9zdGF0ZSglZCkuXG4iLAorCQkJICAgICBhdG9taWNfcmVhZCgmY3R4
LT5wb3dlcl9zdGF0dXMpKTsKK30KKworc3RhdGljIHZvaWQgYW54NzYyNV9leHRjb25fd29yayhz
dHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspCit7CisJc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4ID0K
KwkJY29udGFpbmVyX29mKHdvcmssIHN0cnVjdCBhbng3NjI1X2RhdGEsIGV4dGNvbl93cSk7CisJ
aW50IHN0YXRlID0gZXh0Y29uX2dldF9zdGF0ZShjdHgtPmV4dGNvbiwgRVhUQ09OX0RJU1BfRFAp
OworCisJbXV0ZXhfbG9jaygmY3R4LT5sb2NrKTsKKwlhbng3NjI1X2NoaXBfY29udHJvbChjdHgs
IHN0YXRlKTsKKwltdXRleF91bmxvY2soJmN0eC0+bG9jayk7Cit9CisKK3N0YXRpYyBpbnQgYW54
NzYyNV9leHRjb25fbm90aWZpZXJfaW5pdChzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJ
aW50IHJldDsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKworCWN0
eC0+ZXZlbnRfbmIubm90aWZpZXJfY2FsbCA9IGFueDc2MjVfZXh0Y29uX25vdGlmaWVyOworCUlO
SVRfV09SSygmY3R4LT5leHRjb25fd3EsIGFueDc2MjVfZXh0Y29uX3dvcmspOworCXJldCA9IGRl
dm1fZXh0Y29uX3JlZ2lzdGVyX25vdGlmaWVyKCZjdHgtPmNsaWVudC0+ZGV2LCBjdHgtPmV4dGNv
biwKKwkJCQkJICAgIEVYVENPTl9ESVNQX0RQLCAmY3R4LT5ldmVudF9uYik7CisJaWYgKHJldCkg
eworCQlEUk1fREVWX0VSUk9SKGRldiwgImZhaWxlZCB0byByZWdpc3RlciBub3RpZmllciBmb3Ig
RFAiKTsKKwkJcmV0dXJuIHJldDsKKwl9CisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyB2b2lkIGFu
eDc2MjVfaW5pdF9ncGlvKHN0cnVjdCBhbng3NjI1X2RhdGEgKnBsYXRmb3JtKQoreworCXN0cnVj
dCBkZXZpY2UgKmRldiA9ICZwbGF0Zm9ybS0+Y2xpZW50LT5kZXY7CisKKwlEUk1fREVWX0RFQlVH
X0RSSVZFUihkZXYsICJhbng3NjI1IGluaXQgZ3Bpb1xuIik7CisKKwkvKiBncGlvIGZvciBjaGlw
IHBvd2VyIGVuYWJsZSAqLworCXBsYXRmb3JtLT5wZGF0YS5ncGlvX3Bfb24gPQorCQlkZXZtX2dw
aW9kX2dldF9vcHRpb25hbChkZXYsICJlbmFibGUiLCBHUElPRF9PVVRfTE9XKTsKKwkvKiBncGlv
IGZvciBjaGlwIHJlc2V0ICovCisJcGxhdGZvcm0tPnBkYXRhLmdwaW9fcmVzZXQgPQorCQlkZXZt
X2dwaW9kX2dldF9vcHRpb25hbChkZXYsICJyZXNldCIsIEdQSU9EX09VVF9MT1cpOworCisJaWYg
KHBsYXRmb3JtLT5wZGF0YS5ncGlvX3Bfb24gJiYgcGxhdGZvcm0tPnBkYXRhLmdwaW9fcmVzZXQp
IHsKKwkJcGxhdGZvcm0tPnBkYXRhLmxvd19wb3dlcl9tb2RlID0gMTsKKwkJRFJNX0RFVl9ERUJV
R19EUklWRVIoZGV2LCAibG93IHBvd2VyIG1vZGUsIHBvbiAlZCwgcmVzZXQgJWQuXG4iLAorCQkJ
CSAgICAgZGVzY190b19ncGlvKHBsYXRmb3JtLT5wZGF0YS5ncGlvX3Bfb24pLAorCQkJCSAgICAg
ZGVzY190b19ncGlvKHBsYXRmb3JtLT5wZGF0YS5ncGlvX3Jlc2V0KSk7CisJfSBlbHNlIHsKKwkJ
cGxhdGZvcm0tPnBkYXRhLmxvd19wb3dlcl9tb2RlID0gMDsKKwkJRFJNX0RFVl9ERUJVR19EUklW
RVIoZGV2LCAibm90IGxvdyBwb3dlciBtb2RlLlxuIik7CisJfQorfQorCitzdGF0aWMgdm9pZCBh
bng3NjI1X3N0b3BfZHBfd29yayhzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJY3R4LT5o
cGRfc3RhdHVzID0gMDsKKwljdHgtPmhwZF9oaWdoX2NudCA9IDA7CisJY3R4LT5kaXNwbGF5X3Rp
bWluZ192YWxpZCA9IDA7CisKKwljdHgtPnNsaW1wb3J0X2VkaWRfcC5lZGlkX2Jsb2NrX251bSA9
IC0xOworCisJaWYgKGN0eC0+cGRhdGEubG93X3Bvd2VyX21vZGUgPT0gMCkKKwkJYW54NzYyNV9k
aXNhYmxlX3BkX3Byb3RvY29sKGN0eCk7Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfc3RhcnRf
ZHBfd29yayhzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJaW50IHJldDsKKwlzdHJ1Y3Qg
ZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKworCWlmIChjdHgtPmhwZF9oaWdoX2Nu
dCA+PSAyKSB7CisJCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImFueDc2MjUgZmlsdGVyIHVz
ZWxlc3MgSFBEXG4iKTsKKwkJcmV0dXJuOworCX0KKworCWN0eC0+aHBkX2hpZ2hfY250Kys7CisK
KwkvKiBub3Qgc3VwcG9ydCBIRENQICovCisJcmV0ID0gYW54NzYyNV93cml0ZV9hbmQoY3R4LCBj
dHgtPmkyYy5yeF9wMV9jbGllbnQsIDB4ZWUsIDB4OWYpOworCisJLyogdHJ5IGF1dGggZmxhZyAq
LworCXJldCB8PSBhbng3NjI1X3dyaXRlX29yKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LCAw
eGVjLCAweDEwKTsKKwkvKiBpbnRlcnJ1cHQgZm9yIERSTSAqLworCXJldCB8PSBhbng3NjI1X3dy
aXRlX29yKGN0eCwgY3R4LT5pMmMucnhfcDFfY2xpZW50LCAweGZmLCAweDAxKTsKKwlpZiAocmV0
IDwgMCkKKwkJcmV0dXJuOworCisJcmV0ID0gYW54NzYyNV9yZWdfcmVhZChjdHgsIGN0eC0+aTJj
LnJ4X3AxX2NsaWVudCwgMHg4Nik7CisJaWYgKHJldCA8IDApCisJCXJldHVybjsKKworCURSTV9E
RVZfREVCVUdfRFJJVkVSKGRldiwgIlNlY3VyZSBPQ00gdmVyc2lvbj0lMDJ4XG4iLCByZXQpOwor
fQorCitzdGF0aWMgaW50IGFueDc2MjVfcmVhZF9ocGRfc3RhdHVzX3AwKHN0cnVjdCBhbng3NjI1
X2RhdGEgKmN0eCkKK3sKKwlyZXR1cm4gYW54NzYyNV9yZWdfcmVhZChjdHgsIGN0eC0+aTJjLnJ4
X3AwX2NsaWVudCwgU1lTVEVNX1NUU1RVUyk7Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfaHBk
X3BvbGxpbmcoc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4KQoreworCWludCByZXQsIHZhbDsKKwlz
dHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKworCWlmIChhdG9taWNfcmVh
ZCgmY3R4LT5wb3dlcl9zdGF0dXMpICE9IDEpIHsKKwkJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2
LCAiTm8gbmVlZCB0byBwb2xpbmcgSFBEIHN0YXR1cy5cbiIpOworCQlyZXR1cm47CisJfQorCisJ
cmV0ID0gcmVhZHhfcG9sbF90aW1lb3V0KGFueDc2MjVfcmVhZF9ocGRfc3RhdHVzX3AwLAorCQkJ
CSBjdHgsIHZhbCwKKwkJCQkgKCh2YWwgJiBIUERfU1RBVFVTKSB8fCAodmFsIDwgMCkpLAorCQkJ
CSA1MDAwLAorCQkJCSA1MDAwICogMTAwKTsKKwlpZiAocmV0KSB7CisJCURSTV9ERVZfRVJST1Io
ZGV2LCAiSFBEIHBvbGxpbmcgdGltZW91dCFcbiIpOworCX0gZWxzZSB7CisJCURSTV9ERVZfREVC
VUdfRFJJVkVSKGRldiwgIkhQRCByYWlzZSB1cC5cbiIpOworCQlhbng3NjI1X3JlZ193cml0ZShj
dHgsIGN0eC0+aTJjLnRjcGNfY2xpZW50LAorCQkJCSAgSU5UUl9BTEVSVF8xLCAweEZGKTsKKwkJ
YW54NzYyNV9yZWdfd3JpdGUoY3R4LCBjdHgtPmkyYy5yeF9wMF9jbGllbnQsCisJCQkJICBJTlRF
UkZBQ0VfQ0hBTkdFX0lOVCwgMCk7CisJfQorCisJYW54NzYyNV9zdGFydF9kcF93b3JrKGN0eCk7
Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfZGlzY29ubmVjdF9jaGVjayhzdHJ1Y3QgYW54NzYy
NV9kYXRhICpjdHgpCit7CisJaWYgKGF0b21pY19yZWFkKCZjdHgtPnBvd2VyX3N0YXR1cykgPT0g
MCkKKwkJYW54NzYyNV9zdG9wX2RwX3dvcmsoY3R4KTsKK30KKworc3RhdGljIHZvaWQgYW54NzYy
NV9sb3dfcG93ZXJfbW9kZV9jaGVjayhzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgsCisJCQkJCSBp
bnQgc3RhdGUpCit7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0eC0+Y2xpZW50LT5kZXY7CisK
KwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJsb3cgcG93ZXIgbW9kZSBjaGVjaywgc3RhdGUo
JWQpLlxuIiwgc3RhdGUpOworCisJaWYgKGN0eC0+cGRhdGEubG93X3Bvd2VyX21vZGUpIHsKKwkJ
YW54NzYyNV9jaGlwX2NvbnRyb2woY3R4LCBzdGF0ZSk7CisJCWlmIChzdGF0ZSkKKwkJCWFueDc2
MjVfaHBkX3BvbGxpbmcoY3R4KTsKKwkJZWxzZQorCQkJYW54NzYyNV9kaXNjb25uZWN0X2NoZWNr
KGN0eCk7CisJfQorfQorCitzdGF0aWMgdm9pZCBkcF9ocGRfY2hhbmdlX2hhbmRsZXIoc3RydWN0
IGFueDc2MjVfZGF0YSAqY3R4LCBib29sIG9uKQoreworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZj
dHgtPmNsaWVudC0+ZGV2OworCisJLyogaHBkIGNoYW5nZWQgKi8KKwlEUk1fREVWX0RFQlVHX0RS
SVZFUihkZXYsICJkcF9ocGRfY2hhbmdlX2RlZmF1bHRfZnVuYzogJWRcbiIsCisJCQkgICAgICh1
MzIpb24pOworCisJaWYgKG9uID09IDApIHsKKwkJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAi
IEhQRCBsb3dcbiIpOworCQlhbng3NjI1X3N0b3BfZHBfd29yayhjdHgpOworCX0gZWxzZSB7CisJ
CURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgIiBIUEQgaGlnaFxuIik7CisJCWFueDc2MjVfc3Rh
cnRfZHBfd29yayhjdHgpOworCX0KKworCWN0eC0+aHBkX3N0YXR1cyA9IDE7Cit9CisKK3N0YXRp
YyBpbnQgYW54NzYyNV9ocGRfY2hhbmdlX2RldGVjdChzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgp
Cit7CisJaW50IGludHJfdmVjdG9yLCBzdGF0dXM7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmN0
eC0+Y2xpZW50LT5kZXY7CisKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJwb3dlcl9zdGF0
dXM9JWRcbiIsCisJCQkgICAgICh1MzIpYXRvbWljX3JlYWQoJmN0eC0+cG93ZXJfc3RhdHVzKSk7
CisKKwlzdGF0dXMgPSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnRjcGNfY2xpZW50
LAorCQkJCSAgIElOVFJfQUxFUlRfMSwgMHhGRik7CisJaWYgKHN0YXR1cyA8IDApIHsKKwkJRFJN
X0VSUk9SKCJJTyBlcnJvciA6IGNsZWFyIGFsZXJ0IHJlZ2lzdGVyLlxuIik7CisJCXJldHVybiBz
dGF0dXM7CisJfQorCisJaW50cl92ZWN0b3IgPSBhbng3NjI1X3JlZ19yZWFkKGN0eCwgY3R4LT5p
MmMucnhfcDBfY2xpZW50LAorCQkJCSAgICAgICBJTlRFUkZBQ0VfQ0hBTkdFX0lOVCk7CisJaWYg
KGludHJfdmVjdG9yIDwgMCkgeworCQlEUk1fRVJST1IoIklPIGVycm9yIDogYWNjZXNzIGludGVy
cnVwdCBjaGFuZ2UgcmVnaXN0ZXIuXG4iKTsKKwkJcmV0dXJuIGludHJfdmVjdG9yOworCX0KKwlE
Uk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICIweDdlOjB4NDQ9JXhcbiIsIGludHJfdmVjdG9yKTsK
KwlzdGF0dXMgPSBhbng3NjI1X3JlZ193cml0ZShjdHgsIGN0eC0+aTJjLnJ4X3AwX2NsaWVudCwK
KwkJCQkgICBJTlRFUkZBQ0VfQ0hBTkdFX0lOVCwKKwkJCQkgICBpbnRyX3ZlY3RvciAmICh+aW50
cl92ZWN0b3IpKTsKKwlpZiAoc3RhdHVzIDwgMCkgeworCQlEUk1fRVJST1IoIklPIGVycm9yIDog
Y2xlYXIgaW50ZXJydXB0IGNoYW5nZSByZWdpc3Rlci5cbiIpOworCQlyZXR1cm4gc3RhdHVzOwor
CX0KKworCWlmICghKGludHJfdmVjdG9yICYgSFBEX1NUQVRVU19DSEFOR0UpKQorCQlyZXR1cm4g
LUVOT0VOVDsKKworCXN0YXR1cyA9IGFueDc2MjVfcmVnX3JlYWQoY3R4LCBjdHgtPmkyYy5yeF9w
MF9jbGllbnQsCisJCQkJICBTWVNURU1fU1RTVFVTKTsKKwlpZiAoc3RhdHVzIDwgMCkgeworCQlE
Uk1fRVJST1IoIklPIGVycm9yIDogY2xlYXIgaW50ZXJydXB0IHN0YXR1cy5cbiIpOworCQlyZXR1
cm4gc3RhdHVzOworCX0KKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgIjB4N2U6MHg0NT0l
eFxuIiwgc3RhdHVzKTsKKwlkcF9ocGRfY2hhbmdlX2hhbmRsZXIoY3R4LCBzdGF0dXMgJiBIUERf
U1RBVFVTKTsKKworCXJldHVybiAwOworfQorCitzdGF0aWMgdm9pZCBhbng3NjI1X3dvcmtfZnVu
YyhzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspCit7CisJaW50IGV2ZW50OworCXN0cnVjdCBhbng3
NjI1X2RhdGEgKmN0eCA9IGNvbnRhaW5lcl9vZih3b3JrLAorCQkJCQkJc3RydWN0IGFueDc2MjVf
ZGF0YSwgd29yayk7CisKKwltdXRleF9sb2NrKCZjdHgtPmxvY2spOworCWV2ZW50ID0gYW54NzYy
NV9ocGRfY2hhbmdlX2RldGVjdChjdHgpOworCW11dGV4X3VubG9jaygmY3R4LT5sb2NrKTsKKwor
CWlmIChldmVudCA8IDApCisJCXJldHVybjsKKworCWlmIChjdHgtPmJyaWRnZV9hdHRhY2hlZCkK
KwkJZHJtX2hlbHBlcl9ocGRfaXJxX2V2ZW50KGN0eC0+Y29ubmVjdG9yLmRldik7Cit9CisKK3N0
YXRpYyBpcnFyZXR1cm5fdCBhbng3NjI1X2ludHJfaHBkX2lzcihpbnQgaXJxLCB2b2lkICpkYXRh
KQoreworCXN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCA9IChzdHJ1Y3QgYW54NzYyNV9kYXRhICop
ZGF0YTsKKworCWlmIChhdG9taWNfcmVhZCgmY3R4LT5wb3dlcl9zdGF0dXMpICE9IDEpCisJCXJl
dHVybiBJUlFfTk9ORTsKKworCXF1ZXVlX3dvcmsoY3R4LT53b3JrcXVldWUsICZjdHgtPndvcmsp
OworCisJcmV0dXJuIElSUV9IQU5ETEVEOworfQorCisjaWZkZWYgQ09ORklHX09GCitzdGF0aWMg
aW50IGFueDc2MjVfcGFyc2VfZHQoc3RydWN0IGRldmljZSAqZGV2LAorCQkJICAgIHN0cnVjdCBh
bng3NjI1X3BsYXRmb3JtX2RhdGEgKnBkYXRhKQoreworCXN0cnVjdCBkZXZpY2Vfbm9kZSAqbnAg
PSBkZXYtPm9mX25vZGU7CisJc3RydWN0IGRldmljZV9ub2RlICpwYW5lbF9ub2RlLCAqb3V0X2Vw
OworCisJb2ZfcHJvcGVydHlfcmVhZF91MzIoZGV2LT5vZl9ub2RlLCAicGFuZWxfZmxhZ3MiLAor
CQkJICAgICAmcGRhdGEtPnBhbmVsX2ZsYWdzKTsKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYs
ICJwYW5lbF9mbGFncyA6ICVkXG4iLCBwZGF0YS0+cGFuZWxfZmxhZ3MpOworCisJaWYgKHBkYXRh
LT5wYW5lbF9mbGFncyA9PSAxKQorCQlwZGF0YS0+aW50ZXJuYWxfcGFuZWwgPSAxOworCWVsc2Ug
aWYgKHBkYXRhLT5wYW5lbF9mbGFncyA9PSAyKQorCQlwZGF0YS0+ZXh0Y29uX3N1cHBvcnRlZCA9
IDE7CisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiJXMgc3VwcG9ydCBleHRjb24sICVzIGlu
dGVybmFsIHBhbmVsXG4iLAorCQkJICAgICBwZGF0YS0+ZXh0Y29uX3N1cHBvcnRlZCA/ICIiIDog
Im5vdCIsCisJCQkgICAgIHBkYXRhLT5pbnRlcm5hbF9wYW5lbCA/ICJoYXMiIDogIm5vIik7CisK
KwlwZGF0YS0+bm9kZS5taXBpX2RzaV9ob3N0X25vZGUgPSBvZl9ncmFwaF9nZXRfcmVtb3RlX25v
ZGUobnAsIDAsIDApOworCWlmIChwZGF0YS0+bm9kZS5taXBpX2RzaV9ob3N0X25vZGUpIHsKKwkJ
b2Zfbm9kZV9wdXQocGRhdGEtPm5vZGUubWlwaV9kc2lfaG9zdF9ub2RlKTsKKwkJcGRhdGEtPmRz
aV9zdXBwb3J0ZWQgPSAxOworCQlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJmb3VuZCBkc2kg
aG9zdCBub2RlLlxuIik7CisJfSBlbHNlIHsKKwkJcGRhdGEtPm5vZGUubWlwaV9kcGlfaG9zdF9u
b2RlID0KKwkJCW9mX2dyYXBoX2dldF9yZW1vdGVfbm9kZShucCwgMSwgMCk7CisKKwkJaWYgKHBk
YXRhLT5ub2RlLm1pcGlfZHBpX2hvc3Rfbm9kZSkgeworCQkJb2Zfbm9kZV9wdXQocGRhdGEtPm5v
ZGUubWlwaV9kcGlfaG9zdF9ub2RlKTsKKwkJCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImZv
dW5kIGRwaSBob3N0IG5vZGUuXG4iKTsKKwkJfQorCX0KKworCURSTV9ERVZfREVCVUdfRFJJVkVS
KGRldiwgImRzaV9zdXBwb3J0ZWQgOiAlZFxuIiwgcGRhdGEtPmRzaV9zdXBwb3J0ZWQpOworCisJ
cGRhdGEtPm5vZGUucGFuZWxfbm9kZSA9IG9mX2dyYXBoX2dldF9wb3J0X2J5X2lkKG5wLCAyKTsK
KwlpZiAocGRhdGEtPm5vZGUucGFuZWxfbm9kZSkgeworCQlvZl9ub2RlX3B1dChwZGF0YS0+bm9k
ZS5wYW5lbF9ub2RlKTsKKwkJb3V0X2VwID0gb2ZfZ2V0X2NoaWxkX2J5X25hbWUocGRhdGEtPm5v
ZGUucGFuZWxfbm9kZSwKKwkJCQkJICAgICAgImVuZHBvaW50Iik7CisJCWlmICghb3V0X2VwKSB7
CisJCQlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJjYW5ub3QgZ2V0IGVuZHBvaW50LlxuIik7
CisJCQlyZXR1cm4gLUVQUk9CRV9ERUZFUjsKKwkJfQorCisJCXBhbmVsX25vZGUgPSBvZl9ncmFw
aF9nZXRfcmVtb3RlX3BvcnRfcGFyZW50KG91dF9lcCk7CisJCW9mX25vZGVfcHV0KG91dF9lcCk7
CisKKwkJcGRhdGEtPnBhbmVsID0gb2ZfZHJtX2ZpbmRfcGFuZWwocGFuZWxfbm9kZSk7CisJCURS
TV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImdldCBwYW5lbCBub2RlLlxuIik7CisJCW9mX25vZGVf
cHV0KHBhbmVsX25vZGUpOworCQlpZiAoSVNfRVJSX09SX05VTEwocGRhdGEtPnBhbmVsKSkKKwkJ
CXJldHVybiAtRVBST0JFX0RFRkVSOworCX0gZWxzZSB7CisJCWlmIChwZGF0YS0+aW50ZXJuYWxf
cGFuZWwpIHsKKwkJCURSTV9FUlJPUigiZmFpbGVkIHRvIGdldCBpbnRlcm5hbCBwYW5lbC5cbiIp
OworCQkJcmV0dXJuIC1FUFJPQkVfREVGRVI7CisJCX0KKwl9CisKKwlyZXR1cm4gMDsKK30KKyNl
bHNlCitzdGF0aWMgaW50IGFueDc2MjVfcGFyc2VfZHQoc3RydWN0IGRldmljZSAqZGV2LAorCQkJ
ICAgIHN0cnVjdCBhbng3NjI1X3BsYXRmb3JtX2RhdGEgKnBkYXRhKQoreworCXJldHVybiAtRU5P
REVWOworfQorI2VuZGlmCisKK3N0YXRpYyBpbmxpbmUgc3RydWN0IGFueDc2MjVfZGF0YSAqY29u
bmVjdG9yX3RvX2FueDc2MjUoc3RydWN0IGRybV9jb25uZWN0b3IgKmMpCit7CisJcmV0dXJuIGNv
bnRhaW5lcl9vZihjLCBzdHJ1Y3QgYW54NzYyNV9kYXRhLCBjb25uZWN0b3IpOworfQorCitzdGF0
aWMgaW5saW5lIHN0cnVjdCBhbng3NjI1X2RhdGEgKmJyaWRnZV90b19hbng3NjI1KHN0cnVjdCBk
cm1fYnJpZGdlICpicmlkZ2UpCit7CisJcmV0dXJuIGNvbnRhaW5lcl9vZihicmlkZ2UsIHN0cnVj
dCBhbng3NjI1X2RhdGEsIGJyaWRnZSk7Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfcG9zdF9k
aXNhYmxlKHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UpCit7CisJc3RydWN0IGFueDc2MjVfZGF0
YSAqY3R4ID0gYnJpZGdlX3RvX2FueDc2MjUoYnJpZGdlKTsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYg
PSAmY3R4LT5jbGllbnQtPmRldjsKKwlpbnQgcmV0OworCisJRFJNX0RFVl9ERUJVR19EUklWRVIo
ZGV2LCAicG9zdCBkaXNhYmxlXG4iKTsKKworCWlmICghY3R4LT5wZGF0YS5wYW5lbCkKKwkJcmV0
dXJuOworCisJcmV0ID0gZHJtX3BhbmVsX3VucHJlcGFyZShjdHgtPnBkYXRhLnBhbmVsKTsKKwlp
ZiAocmV0KQorCQlEUk1fRVJST1IoImZhaWxlZCB0byB1bnByZXBhcmUgcGFuZWw6ICVkXG4iLCBy
ZXQpOworCWVsc2UKKwkJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiYmFja2xpZ2h0IHVucHJl
cGFyZWQuXG4iKTsKKworCWF0b21pY19zZXQoJmN0eC0+cGFuZWxfcG93ZXIsIDApOworfQorCitz
dGF0aWMgdm9pZCBhbng3NjI1X3ByZV9lbmFibGUoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSkK
K3sKKwlzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHggPSBicmlkZ2VfdG9fYW54NzYyNShicmlkZ2Up
OworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZjdHgtPmNsaWVudC0+ZGV2OworCWludCByZXQ7CisK
KwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJwcmUgZW5hYmxlXG4iKTsKKworCWlmICghY3R4
LT5wZGF0YS5wYW5lbCkKKwkJcmV0dXJuOworCisJcmV0ID0gZHJtX3BhbmVsX3ByZXBhcmUoY3R4
LT5wZGF0YS5wYW5lbCk7CisJaWYgKHJldCA8IDApCisJCURSTV9FUlJPUigiZmFpbGVkIHRvIHBy
ZXBhcmUgcGFuZWw6ICVkXG4iLCByZXQpOworCWVsc2UKKwkJRFJNX0RFVl9ERUJVR19EUklWRVIo
ZGV2LCAiYmFja2xpZ2h0IHByZXBhcmVkLlxuIik7CisJYXRvbWljX3NldCgmY3R4LT5wYW5lbF9w
b3dlciwgMSk7Cit9CisKK3N0YXRpYyBpbnQgYW54NzYyNV9nZXRfbW9kZXMoc3RydWN0IGRybV9j
b25uZWN0b3IgKmNvbm5lY3RvcikKK3sKKwlzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHggPSBjb25u
ZWN0b3JfdG9fYW54NzYyNShjb25uZWN0b3IpOworCWludCBlcnIsIG51bV9tb2RlcyA9IDA7CisJ
aW50IHR1cm5fb2ZmX2ZsYWcgPSAwOworCXN0cnVjdCBzX2VkaWRfZGF0YSAqcF9lZGlkID0gJmN0
eC0+c2xpbXBvcnRfZWRpZF9wOworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZjdHgtPmNsaWVudC0+
ZGV2OworCisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiZHJtIGdldCBtb2Rlc1xuIik7CisK
KwlpZiAoY3R4LT5zbGltcG9ydF9lZGlkX3AuZWRpZF9ibG9ja19udW0gPiAwKQorCQlnb3RvIG91
dDsKKworCW11dGV4X2xvY2soJmN0eC0+bG9jayk7CisKKwlpZiAoY3R4LT5wZGF0YS5wYW5lbCAm
JiBhdG9taWNfcmVhZCgmY3R4LT5wYW5lbF9wb3dlcikgPT0gMCkgeworCQl0dXJuX29mZl9mbGFn
ID0gMTsKKwkJYW54NzYyNV9wcmVfZW5hYmxlKCZjdHgtPmJyaWRnZSk7CisJfQorCisJYW54NzYy
NV9sb3dfcG93ZXJfbW9kZV9jaGVjayhjdHgsIDEpOworCisJcF9lZGlkLT5lZGlkX2Jsb2NrX251
bSA9IHNwX3R4X2VkaWRfcmVhZChjdHgsIHBfZWRpZC0+ZWRpZF9yYXdfZGF0YSk7CisKKwllcnIg
PSAtRUlPOworCWlmIChwX2VkaWQtPmVkaWRfYmxvY2tfbnVtIDwgMCkgeworCQlEUk1fRVJST1Io
IkZhaWxlZCB0byByZWFkIEVESUQuXG4iKTsKKwkJZ290byBmYWlsOworCX0KKworCWVyciA9IGRy
bV9jb25uZWN0b3JfdXBkYXRlX2VkaWRfcHJvcGVydHkoY29ubmVjdG9yLAorCQkJCQkJIChzdHJ1
Y3QgZWRpZCAqKQorCQkJCQkJICZwX2VkaWQtPmVkaWRfcmF3X2RhdGEpOworCisJaWYgKGVycikK
KwkJRFJNX0VSUk9SKCJGYWlsZWQgdG8gdXBkYXRlIEVESUQgcHJvcGVydHk6ICVkXG4iLCBlcnIp
OworCitmYWlsOgorCW11dGV4X3VubG9jaygmY3R4LT5sb2NrKTsKKwlhbng3NjI1X2xvd19wb3dl
cl9tb2RlX2NoZWNrKGN0eCwgMCk7CisJaWYgKGN0eC0+cGRhdGEucGFuZWwgJiYgdHVybl9vZmZf
ZmxhZyA9PSAxKQorCQlhbng3NjI1X3Bvc3RfZGlzYWJsZSgmY3R4LT5icmlkZ2UpOworCisJaWYg
KGVycikKKwkJcmV0dXJuIGVycjsKKworb3V0OgorCW51bV9tb2RlcyA9IGRybV9hZGRfZWRpZF9t
b2Rlcyhjb25uZWN0b3IsCisJCQkJICAgICAgIChzdHJ1Y3QgZWRpZCAqKSZwX2VkaWQtPmVkaWRf
cmF3X2RhdGEpOworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgIm51bV9tb2RlcyglZClcbiIs
IG51bV9tb2Rlcyk7CisKKwlyZXR1cm4gbnVtX21vZGVzOworfQorCitzdGF0aWMgZW51bSBkcm1f
bW9kZV9zdGF0dXMKK2FueDc2MjVfY29ubmVjdG9yX21vZGVfdmFsaWQoc3RydWN0IGRybV9jb25u
ZWN0b3IgKmNvbm5lY3RvciwKKwkJCSAgICAgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGUp
Cit7CisJc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4ID0gY29ubmVjdG9yX3RvX2FueDc2MjUoY29u
bmVjdG9yKTsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKworCURS
TV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImRybSBtb2RlcyB2YWxpZCB2ZXJpZnlcbiIpOworCisJ
aWYgKG1vZGUtPmNsb2NrID4gU1VQUE9SVF9QSVhFTF9DTE9DSykKKwkJcmV0dXJuIE1PREVfQ0xP
Q0tfSElHSDsKKworCXJldHVybiBNT0RFX09LOworfQorCitzdGF0aWMgc3RydWN0IGRybV9jb25u
ZWN0b3JfaGVscGVyX2Z1bmNzIGFueDc2MjVfY29ubmVjdG9yX2hlbHBlcl9mdW5jcyA9IHsKKwku
Z2V0X21vZGVzID0gYW54NzYyNV9nZXRfbW9kZXMsCisJLm1vZGVfdmFsaWQgPSBhbng3NjI1X2Nv
bm5lY3Rvcl9tb2RlX3ZhbGlkLAorfTsKKworc3RhdGljIGVudW0gZHJtX2Nvbm5lY3Rvcl9zdGF0
dXMgYW54NzYyNV9kZXRlY3Qoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciwKKwkJCQkJ
CWJvb2wgZm9yY2UpCit7CisJc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4ID0gY29ubmVjdG9yX3Rv
X2FueDc2MjUoY29ubmVjdG9yKTsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQt
PmRldjsKKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImRybSBkZXRlY3RcbiIpOworCisJ
aWYgKGN0eC0+cGRhdGEuaW50ZXJuYWxfcGFuZWwpCisJCXJldHVybiBjb25uZWN0b3Jfc3RhdHVz
X2Nvbm5lY3RlZDsKKworCWlmICghY3R4LT5ocGRfc3RhdHVzKQorCQlyZXR1cm4gY29ubmVjdG9y
X3N0YXR1c19kaXNjb25uZWN0ZWQ7CisKKwlyZXR1cm4gY29ubmVjdG9yX3N0YXR1c19jb25uZWN0
ZWQ7Cit9CisKK3N0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9mdW5jcyBhbng3NjI1
X2Nvbm5lY3Rvcl9mdW5jcyA9IHsKKwkuZmlsbF9tb2RlcyA9IGRybV9oZWxwZXJfcHJvYmVfc2lu
Z2xlX2Nvbm5lY3Rvcl9tb2RlcywKKwkuZGV0ZWN0ID0gYW54NzYyNV9kZXRlY3QsCisJLmRlc3Ry
b3kgPSBkcm1fY29ubmVjdG9yX2NsZWFudXAsCisJLnJlc2V0ID0gZHJtX2F0b21pY19oZWxwZXJf
Y29ubmVjdG9yX3Jlc2V0LAorCS5hdG9taWNfZHVwbGljYXRlX3N0YXRlID0gZHJtX2F0b21pY19o
ZWxwZXJfY29ubmVjdG9yX2R1cGxpY2F0ZV9zdGF0ZSwKKwkuYXRvbWljX2Rlc3Ryb3lfc3RhdGUg
PSBkcm1fYXRvbWljX2hlbHBlcl9jb25uZWN0b3JfZGVzdHJveV9zdGF0ZSwKK307CisKK3N0YXRp
YyBpbnQgYW54NzYyNV9hdHRhY2hfZHNpKHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCkKK3sKKwlz
dHJ1Y3QgbWlwaV9kc2lfaG9zdCAqaG9zdDsKKwlzdHJ1Y3QgbWlwaV9kc2lfZGV2aWNlICpkc2k7
CisJc3RydWN0IGRldmljZV9ub2RlICptaXBpX2hvc3Rfbm9kZTsKKwlzdHJ1Y3QgZGV2aWNlICpk
ZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKwljb25zdCBzdHJ1Y3QgbWlwaV9kc2lfZGV2aWNlX2lu
Zm8gaW5mbyA9IHsKKwkJLnR5cGUgPSAiYW54NzYyNSIsCisJCS5jaGFubmVsID0gMCwKKwkJLm5v
ZGUgPSBOVUxMLAorCX07CisKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJhdHRhY2ggZHNp
XG4iKTsKKworCWlmIChjdHgtPnBkYXRhLmRzaV9zdXBwb3J0ZWQpCisJCW1pcGlfaG9zdF9ub2Rl
ID0gY3R4LT5wZGF0YS5ub2RlLm1pcGlfZHNpX2hvc3Rfbm9kZTsKKwllbHNlCisJCW1pcGlfaG9z
dF9ub2RlID0gY3R4LT5wZGF0YS5ub2RlLm1pcGlfZHBpX2hvc3Rfbm9kZTsKKworCWlmICghbWlw
aV9ob3N0X25vZGUpIHsKKwkJRFJNX0VSUk9SKCJkc2kgaG9zdCBpcyBub3QgY29uZmlndXJlZC5c
biIpOworCQlyZXR1cm4gLUVJTlZBTDsKKwl9CisKKwlob3N0ID0gb2ZfZmluZF9taXBpX2RzaV9o
b3N0X2J5X25vZGUobWlwaV9ob3N0X25vZGUpOworCWlmICghaG9zdCkgeworCQlEUk1fRVJST1Io
ImZhaWxlZCB0byBmaW5kIGRzaSBob3N0LlxuIik7CisJCXJldHVybiAtRUlOVkFMOworCX0KKwor
CWRzaSA9IG1pcGlfZHNpX2RldmljZV9yZWdpc3Rlcl9mdWxsKGhvc3QsICZpbmZvKTsKKwlpZiAo
SVNfRVJSKGRzaSkpIHsKKwkJRFJNX0VSUk9SKCJmYWlsZWQgdG8gY3JlYXRlIGRzaSBkZXZpY2Uu
XG4iKTsKKwkJcmV0dXJuIC1FSU5WQUw7CisJfQorCisJZHNpLT5sYW5lcyA9IDQ7CisJZHNpLT5m
b3JtYXQgPSBNSVBJX0RTSV9GTVRfUkdCODg4OworCWRzaS0+bW9kZV9mbGFncyA9IE1JUElfRFNJ
X01PREVfVklERU8JfAorCQlNSVBJX0RTSV9NT0RFX1ZJREVPX1NZTkNfUFVMU0UJfAorCQlNSVBJ
X0RTSV9NT0RFX0VPVF9QQUNLRVQJfAorCQlNSVBJX0RTSV9NT0RFX1ZJREVPX0hTRTsKKworCWlm
IChtaXBpX2RzaV9hdHRhY2goZHNpKSA8IDApIHsKKwkJRFJNX0VSUk9SKCJmYWlsZWQgdG8gYXR0
YWNoIGRzaSB0byBob3N0LlxuIik7CisJCW1pcGlfZHNpX2RldmljZV91bnJlZ2lzdGVyKGRzaSk7
CisJCXJldHVybiAtRUlOVkFMOworCX0KKworCWN0eC0+ZHNpID0gZHNpOworCisJRFJNX0RFVl9E
RUJVR19EUklWRVIoZGV2LCAiYXR0YWNoIGRzaSBzdWNjZWVkZWQuXG4iKTsKKworCXJldHVybiAw
OworfQorCitzdGF0aWMgdm9pZCBhbng3NjI1X2JyaWRnZV9kZXRhY2goc3RydWN0IGRybV9icmlk
Z2UgKmJyaWRnZSkKK3sKKwlzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHggPSBicmlkZ2VfdG9fYW54
NzYyNShicmlkZ2UpOworCisJaWYgKGN0eC0+ZHNpKSB7CisJCW1pcGlfZHNpX2RldGFjaChjdHgt
PmRzaSk7CisJCW1pcGlfZHNpX2RldmljZV91bnJlZ2lzdGVyKGN0eC0+ZHNpKTsKKwl9CisKKwlp
ZiAoY3R4LT5icmlkZ2VfYXR0YWNoZWQpCisJCWRybV9jb25uZWN0b3JfdW5yZWdpc3RlcigmY3R4
LT5jb25uZWN0b3IpOworfQorCitzdGF0aWMgaW50IGFueDc2MjVfYnJpZGdlX2F0dGFjaChzdHJ1
Y3QgZHJtX2JyaWRnZSAqYnJpZGdlKQoreworCXN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCA9IGJy
aWRnZV90b19hbng3NjI1KGJyaWRnZSk7CisJaW50IGVycjsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYg
PSAmY3R4LT5jbGllbnQtPmRldjsKKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImRybSBh
dHRhY2hcbiIpOworCWlmICghYnJpZGdlLT5lbmNvZGVyKSB7CisJCURSTV9FUlJPUigiUGFyZW50
IGVuY29kZXIgb2JqZWN0IG5vdCBmb3VuZCIpOworCQlyZXR1cm4gLUVOT0RFVjsKKwl9CisKKwll
cnIgPSBkcm1fY29ubmVjdG9yX2luaXQoYnJpZGdlLT5kZXYsICZjdHgtPmNvbm5lY3RvciwKKwkJ
CQkgJmFueDc2MjVfY29ubmVjdG9yX2Z1bmNzLAorCQkJCSAgY3R4LT5wZGF0YS5pbnRlcm5hbF9w
YW5lbCA/CisJCQkJCURSTV9NT0RFX0NPTk5FQ1RPUl9lRFAgOgorCQkJCQlEUk1fTU9ERV9DT05O
RUNUT1JfRGlzcGxheVBvcnQpOworCWlmIChlcnIpIHsKKwkJRFJNX0VSUk9SKCJGYWlsZWQgdG8g
aW5pdGlhbGl6ZSBjb25uZWN0b3I6ICVkXG4iLCBlcnIpOworCQlyZXR1cm4gZXJyOworCX0KKwor
CWRybV9jb25uZWN0b3JfaGVscGVyX2FkZCgmY3R4LT5jb25uZWN0b3IsCisJCQkJICZhbng3NjI1
X2Nvbm5lY3Rvcl9oZWxwZXJfZnVuY3MpOworCisJZXJyID0gZHJtX2Nvbm5lY3Rvcl9yZWdpc3Rl
cigmY3R4LT5jb25uZWN0b3IpOworCWlmIChlcnIpIHsKKwkJRFJNX0VSUk9SKCJGYWlsZWQgdG8g
cmVnaXN0ZXIgY29ubmVjdG9yOiAlZFxuIiwgZXJyKTsKKwkJcmV0dXJuIGVycjsKKwl9CisKKwlj
dHgtPmNvbm5lY3Rvci5wb2xsZWQgPSBEUk1fQ09OTkVDVE9SX1BPTExfSFBEOworCisJZXJyID0g
ZHJtX2Nvbm5lY3Rvcl9hdHRhY2hfZW5jb2RlcigmY3R4LT5jb25uZWN0b3IsIGJyaWRnZS0+ZW5j
b2Rlcik7CisJaWYgKGVycikgeworCQlEUk1fRVJST1IoIkZhaWxlZCB0byBsaW5rIHVwIGNvbm5l
Y3RvciB0byBlbmNvZGVyOiAlZFxuIiwgZXJyKTsKKwkJZHJtX2Nvbm5lY3Rvcl91bnJlZ2lzdGVy
KCZjdHgtPmNvbm5lY3Rvcik7CisJCXJldHVybiBlcnI7CisJfQorCisJZXJyID0gYW54NzYyNV9h
dHRhY2hfZHNpKGN0eCk7CisJaWYgKGVycikgeworCQlEUk1fRVJST1IoIkZhaWxlZCB0byBhdHRh
Y2ggdG8gZHNpIDogJWRcbiIsIGVycik7CisJCWRybV9jb25uZWN0b3JfdW5yZWdpc3RlcigmY3R4
LT5jb25uZWN0b3IpOworCQlyZXR1cm4gZXJyOworCX0KKworCWN0eC0+YnJpZGdlX2F0dGFjaGVk
ID0gMTsKKworCXJldHVybiAwOworfQorCitzdGF0aWMgZW51bSBkcm1fbW9kZV9zdGF0dXMKK2Fu
eDc2MjVfYnJpZGdlX21vZGVfdmFsaWQoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSwKKwkJCSAg
Y29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGUpCit7CisJc3RydWN0IGFueDc2MjVf
ZGF0YSAqY3R4ID0gYnJpZGdlX3RvX2FueDc2MjUoYnJpZGdlKTsKKwlzdHJ1Y3QgZGV2aWNlICpk
ZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImRy
bSBtb2RlIGNoZWNraW5nXG4iKTsKKworCS8qIE1heCAxMjAwcCBhdCA1LjQgR2h6LCBvbmUgbGFu
ZSwgcGl4ZWwgY2xvY2sgMzAwTSAqLworCWlmIChtb2RlLT5jbG9jayA+IFNVUFBPUlRfUElYRUxf
Q0xPQ0spIHsKKwkJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LAorCQkJCSAgICAgImRybSBtb2Rl
IGludmFsaWQsIHBpeGVsY2xvY2sgdG9vIGhpZ2guXG4iKTsKKwkJcmV0dXJuIE1PREVfQ0xPQ0tf
SElHSDsKKwl9CisKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJkcm0gbW9kZSB2YWxpZC5c
biIpOworCisJcmV0dXJuIE1PREVfT0s7Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfYnJpZGdl
X21vZGVfc2V0KHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UsCisJCQkJICAgIGNvbnN0IHN0cnVj
dCBkcm1fZGlzcGxheV9tb2RlICpvbGRfbW9kZSwKKwkJCQkgICAgY29uc3Qgc3RydWN0IGRybV9k
aXNwbGF5X21vZGUgKm1vZGUpCit7CisJc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4ID0gYnJpZGdl
X3RvX2FueDc2MjUoYnJpZGdlKTsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQt
PmRldjsKKworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImRybSBtb2RlIHNldFxuIik7CisK
KwltdXRleF9sb2NrKCZjdHgtPmxvY2spOworCisJY3R4LT5kdC5waXhlbGNsb2NrLm1pbiA9IG1v
ZGUtPmNsb2NrOworCWN0eC0+ZHQuaGFjdGl2ZS5taW4gPSBtb2RlLT5oZGlzcGxheTsKKwljdHgt
PmR0LmhzeW5jX2xlbi5taW4gPSBtb2RlLT5oc3luY19lbmQgLSBtb2RlLT5oc3luY19zdGFydDsK
KwljdHgtPmR0Lmhmcm9udF9wb3JjaC5taW4gPSBtb2RlLT5oc3luY19zdGFydCAtIG1vZGUtPmhk
aXNwbGF5OworCWN0eC0+ZHQuaGJhY2tfcG9yY2gubWluID0gbW9kZS0+aHRvdGFsIC0gbW9kZS0+
aHN5bmNfZW5kOworCWN0eC0+ZHQudmFjdGl2ZS5taW4gPSBtb2RlLT52ZGlzcGxheTsKKwljdHgt
PmR0LnZzeW5jX2xlbi5taW4gPSBtb2RlLT52c3luY19lbmQgLSBtb2RlLT52c3luY19zdGFydDsK
KwljdHgtPmR0LnZmcm9udF9wb3JjaC5taW4gPSBtb2RlLT52c3luY19zdGFydCAtIG1vZGUtPnZk
aXNwbGF5OworCWN0eC0+ZHQudmJhY2tfcG9yY2gubWluID0gbW9kZS0+dnRvdGFsIC0gbW9kZS0+
dnN5bmNfZW5kOworCisJY3R4LT5kaXNwbGF5X3RpbWluZ192YWxpZCA9IDE7CisKKwlEUk1fREVW
X0RFQlVHX0RSSVZFUihkZXYsICJwaXhlbGNsb2NrKCVkKS5cbiIsIGN0eC0+ZHQucGl4ZWxjbG9j
ay5taW4pOworCURSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgImhhY3RpdmUoJWQpLCBoc3luYygl
ZCksIGhmcCglZCksIGhicCglZClcbiIsCisJCQkgICAgIGN0eC0+ZHQuaGFjdGl2ZS5taW4sCisJ
CQkgICAgIGN0eC0+ZHQuaHN5bmNfbGVuLm1pbiwKKwkJCSAgICAgY3R4LT5kdC5oZnJvbnRfcG9y
Y2gubWluLAorCQkJICAgICBjdHgtPmR0LmhiYWNrX3BvcmNoLm1pbik7CisJRFJNX0RFVl9ERUJV
R19EUklWRVIoZGV2LCAidmFjdGl2ZSglZCksIHZzeW5jKCVkKSwgdmZwKCVkKSwgdmJwKCVkKVxu
IiwKKwkJCSAgICAgY3R4LT5kdC52YWN0aXZlLm1pbiwKKwkJCSAgICAgY3R4LT5kdC52c3luY19s
ZW4ubWluLAorCQkJICAgICBjdHgtPmR0LnZmcm9udF9wb3JjaC5taW4sCisJCQkgICAgIGN0eC0+
ZHQudmJhY2tfcG9yY2gubWluKTsKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJoZGlzcGxh
eSglZCksaHN5bmNfc3RhcnQoJWQpLlxuIiwKKwkJCSAgICAgbW9kZS0+aGRpc3BsYXksCisJCQkg
ICAgIG1vZGUtPmhzeW5jX3N0YXJ0KTsKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJoc3lu
Y19lbmQoJWQpLGh0b3RhbCglZCkuXG4iLAorCQkJICAgICBtb2RlLT5oc3luY19lbmQsCisJCQkg
ICAgIG1vZGUtPmh0b3RhbCk7CisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAidmRpc3BsYXko
JWQpLHZzeW5jX3N0YXJ0KCVkKS5cbiIsCisJCQkgICAgIG1vZGUtPnZkaXNwbGF5LAorCQkJICAg
ICBtb2RlLT52c3luY19zdGFydCk7CisJRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAidnN5bmNf
ZW5kKCVkKSx2dG90YWwoJWQpLlxuIiwKKwkJCSAgICAgbW9kZS0+dnN5bmNfZW5kLAorCQkJICAg
ICBtb2RlLT52dG90YWwpOworCisJbXV0ZXhfdW5sb2NrKCZjdHgtPmxvY2spOworfQorCitzdGF0
aWMgdm9pZCBhbng3NjI1X2JyaWRnZV9lbmFibGUoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSkK
K3sKKwlzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHggPSBicmlkZ2VfdG9fYW54NzYyNShicmlkZ2Up
OworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZjdHgtPmNsaWVudC0+ZGV2OworCWludCByZXQ7CisK
KwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJkcm0gZW5hYmxlXG4iKTsKKworCWFueDc2MjVf
bG93X3Bvd2VyX21vZGVfY2hlY2soY3R4LCAxKTsKKworCWlmIChXQVJOX09OKCFhdG9taWNfcmVh
ZCgmY3R4LT5wb3dlcl9zdGF0dXMpKSkKKwkJcmV0dXJuOworCisJaWYgKGN0eC0+cGRhdGEucGFu
ZWwpIHsKKwkJcmV0ID0gZHJtX3BhbmVsX2VuYWJsZShjdHgtPnBkYXRhLnBhbmVsKTsKKwkJaWYg
KHJldCA8IDApIHsKKwkJCURSTV9FUlJPUigiZmFpbGVkIHRvIGVuYWJsZSBwYW5lbDogJWQuXG4i
LCByZXQpOworCQkJcmV0dXJuOworCQl9CisJfQorCisJbXV0ZXhfbG9jaygmY3R4LT5sb2NrKTsK
Kwlhbng3NjI1X2RwX3N0YXJ0KGN0eCk7CisJbXV0ZXhfdW5sb2NrKCZjdHgtPmxvY2spOworfQor
CitzdGF0aWMgdm9pZCBhbng3NjI1X2JyaWRnZV9kaXNhYmxlKHN0cnVjdCBkcm1fYnJpZGdlICpi
cmlkZ2UpCit7CisJc3RydWN0IGFueDc2MjVfZGF0YSAqY3R4ID0gYnJpZGdlX3RvX2FueDc2MjUo
YnJpZGdlKTsKKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY3R4LT5jbGllbnQtPmRldjsKKwlpbnQg
cmV0OworCisJaWYgKFdBUk5fT04oIWF0b21pY19yZWFkKCZjdHgtPnBvd2VyX3N0YXR1cykpKQor
CQlyZXR1cm47CisKKwlEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJkcm0gZGlzYWJsZVxuIik7
CisKKwlpZiAoY3R4LT5wZGF0YS5wYW5lbCkgeworCQlyZXQgPSBkcm1fcGFuZWxfZGlzYWJsZShj
dHgtPnBkYXRhLnBhbmVsKTsKKwkJaWYgKHJldCA8IDApCisJCQlEUk1fRVJST1IoImZhaWxlZCB0
byBkaXNhYmxlIHBhbmVsOiAlZC5cbiIsIHJldCk7CisJfQorCisJRFJNX0RFVl9ERUJVR19EUklW
RVIoZGV2LCAiZHJtIGRpc2FibGVcbiIpOworCW11dGV4X2xvY2soJmN0eC0+bG9jayk7CisKKwlh
bng3NjI1X2RwX3N0b3AoY3R4KTsKKworCWFueDc2MjVfbG93X3Bvd2VyX21vZGVfY2hlY2soY3R4
LCAwKTsKKworCW11dGV4X3VubG9jaygmY3R4LT5sb2NrKTsKK30KKworc3RhdGljIGNvbnN0IHN0
cnVjdCBkcm1fYnJpZGdlX2Z1bmNzIGFueDc2MjVfYnJpZGdlX2Z1bmNzID0geworCS5hdHRhY2gg
PSBhbng3NjI1X2JyaWRnZV9hdHRhY2gsCisJLmRldGFjaCA9IGFueDc2MjVfYnJpZGdlX2RldGFj
aCwKKwkuZGlzYWJsZSA9IGFueDc2MjVfYnJpZGdlX2Rpc2FibGUsCisJLnBvc3RfZGlzYWJsZSA9
IGFueDc2MjVfcG9zdF9kaXNhYmxlLAorCS5wcmVfZW5hYmxlID0gYW54NzYyNV9wcmVfZW5hYmxl
LAorCS5tb2RlX3ZhbGlkID0gYW54NzYyNV9icmlkZ2VfbW9kZV92YWxpZCwKKwkubW9kZV9zZXQg
PSBhbng3NjI1X2JyaWRnZV9tb2RlX3NldCwKKwkuZW5hYmxlID0gYW54NzYyNV9icmlkZ2VfZW5h
YmxlLAorfTsKKworc3RhdGljIGludCBhbng3NjI1X3JlZ2lzdGVyX2kyY19kdW1teV9jbGllbnRz
KHN0cnVjdCBhbng3NjI1X2RhdGEgKmN0eCwKKwkJCQkJICAgICAgc3RydWN0IGkyY19jbGllbnQg
KmNsaWVudCkKK3sKKwljdHgtPmkyYy50eF9wMF9jbGllbnQgPSBpMmNfbmV3X2R1bW15KGNsaWVu
dC0+YWRhcHRlciwKKwkJCQkJICAgICAgVFhfUDBfQUREUiA+PiAxKTsKKwlpZiAoIWN0eC0+aTJj
LnR4X3AwX2NsaWVudCkKKwkJcmV0dXJuIC1FTk9NRU07CisKKwljdHgtPmkyYy50eF9wMV9jbGll
bnQgPSBpMmNfbmV3X2R1bW15KGNsaWVudC0+YWRhcHRlciwKKwkJCQkJICAgICAgVFhfUDFfQURE
UiA+PiAxKTsKKwlpZiAoIWN0eC0+aTJjLnR4X3AxX2NsaWVudCkKKwkJZ290byBmcmVlX3R4X3Aw
OworCisJY3R4LT5pMmMudHhfcDJfY2xpZW50ID0gaTJjX25ld19kdW1teShjbGllbnQtPmFkYXB0
ZXIsCisJCQkJCSAgICAgIFRYX1AyX0FERFIgPj4gMSk7CisJaWYgKCFjdHgtPmkyYy50eF9wMl9j
bGllbnQpCisJCWdvdG8gZnJlZV90eF9wMTsKKworCWN0eC0+aTJjLnJ4X3AwX2NsaWVudCA9IGky
Y19uZXdfZHVtbXkoY2xpZW50LT5hZGFwdGVyLAorCQkJCQkgICAgICBSWF9QMF9BRERSID4+IDEp
OworCWlmICghY3R4LT5pMmMucnhfcDBfY2xpZW50KQorCQlnb3RvIGZyZWVfdHhfcDI7CisKKwlj
dHgtPmkyYy5yeF9wMV9jbGllbnQgPSBpMmNfbmV3X2R1bW15KGNsaWVudC0+YWRhcHRlciwKKwkJ
CQkJICAgICAgUlhfUDFfQUREUiA+PiAxKTsKKwlpZiAoIWN0eC0+aTJjLnJ4X3AxX2NsaWVudCkK
KwkJZ290byBmcmVlX3J4X3AwOworCisJY3R4LT5pMmMucnhfcDJfY2xpZW50ID0gaTJjX25ld19k
dW1teShjbGllbnQtPmFkYXB0ZXIsCisJCQkJCSAgICAgIFJYX1AyX0FERFIgPj4gMSk7CisJaWYg
KCFjdHgtPmkyYy5yeF9wMl9jbGllbnQpCisJCWdvdG8gZnJlZV9yeF9wMTsKKworCWN0eC0+aTJj
LnRjcGNfY2xpZW50ID0gaTJjX25ld19kdW1teShjbGllbnQtPmFkYXB0ZXIsCisJCQkJCSAgICAg
VENQQ19JTlRFUkZBQ0VfQUREUiA+PiAxKTsKKwlpZiAoIWN0eC0+aTJjLnRjcGNfY2xpZW50KQor
CQlnb3RvIGZyZWVfcnhfcDI7CisKKwlyZXR1cm4gMDsKKworZnJlZV9yeF9wMjoKKwlpMmNfdW5y
ZWdpc3Rlcl9kZXZpY2UoY3R4LT5pMmMucnhfcDJfY2xpZW50KTsKK2ZyZWVfcnhfcDE6CisJaTJj
X3VucmVnaXN0ZXJfZGV2aWNlKGN0eC0+aTJjLnJ4X3AxX2NsaWVudCk7CitmcmVlX3J4X3AwOgor
CWkyY191bnJlZ2lzdGVyX2RldmljZShjdHgtPmkyYy5yeF9wMF9jbGllbnQpOworZnJlZV90eF9w
MjoKKwlpMmNfdW5yZWdpc3Rlcl9kZXZpY2UoY3R4LT5pMmMudHhfcDJfY2xpZW50KTsKK2ZyZWVf
dHhfcDE6CisJaTJjX3VucmVnaXN0ZXJfZGV2aWNlKGN0eC0+aTJjLnR4X3AxX2NsaWVudCk7Citm
cmVlX3R4X3AwOgorCWkyY191bnJlZ2lzdGVyX2RldmljZShjdHgtPmkyYy50eF9wMF9jbGllbnQp
OworCisJcmV0dXJuIC1FTk9NRU07Cit9CisKK3N0YXRpYyB2b2lkIGFueDc2MjVfdW5yZWdpc3Rl
cl9pMmNfZHVtbXlfY2xpZW50cyhzdHJ1Y3QgYW54NzYyNV9kYXRhICpjdHgpCit7CisJaTJjX3Vu
cmVnaXN0ZXJfZGV2aWNlKGN0eC0+aTJjLnR4X3AwX2NsaWVudCk7CisJaTJjX3VucmVnaXN0ZXJf
ZGV2aWNlKGN0eC0+aTJjLnR4X3AxX2NsaWVudCk7CisJaTJjX3VucmVnaXN0ZXJfZGV2aWNlKGN0
eC0+aTJjLnR4X3AyX2NsaWVudCk7CisJaTJjX3VucmVnaXN0ZXJfZGV2aWNlKGN0eC0+aTJjLnJ4
X3AwX2NsaWVudCk7CisJaTJjX3VucmVnaXN0ZXJfZGV2aWNlKGN0eC0+aTJjLnJ4X3AxX2NsaWVu
dCk7CisJaTJjX3VucmVnaXN0ZXJfZGV2aWNlKGN0eC0+aTJjLnJ4X3AyX2NsaWVudCk7CisJaTJj
X3VucmVnaXN0ZXJfZGV2aWNlKGN0eC0+aTJjLnRjcGNfY2xpZW50KTsKK30KKworc3RhdGljIGlu
dCBhbng3NjI1X2kyY19wcm9iZShzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50LAorCQkJICAgICBj
b25zdCBzdHJ1Y3QgaTJjX2RldmljZV9pZCAqaWQpCit7CisJc3RydWN0IGFueDc2MjVfZGF0YSAq
cGxhdGZvcm07CisJc3RydWN0IGFueDc2MjVfcGxhdGZvcm1fZGF0YSAqcGRhdGE7CisJaW50IHJl
dCA9IDA7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJmNsaWVudC0+ZGV2OworCisJaWYgKCFpMmNf
Y2hlY2tfZnVuY3Rpb25hbGl0eShjbGllbnQtPmFkYXB0ZXIsCisJCQkJICAgICBJMkNfRlVOQ19T
TUJVU19JMkNfQkxPQ0spKSB7CisJCURSTV9ERVZfRVJST1IoZGV2LCAiYW54NzYyNSdzIGkyYyBi
dXMgZG9lc24ndCBzdXBwb3J0XG4iKTsKKwkJcmV0dXJuIC1FTk9ERVY7CisJfQorCisJcGxhdGZv
cm0gPSBremFsbG9jKHNpemVvZigqcGxhdGZvcm0pLCBHRlBfS0VSTkVMKTsKKwlpZiAoIXBsYXRm
b3JtKSB7CisJCURSTV9ERVZfRVJST1IoZGV2LCAiZmFpbGVkIHRvIGFsbG9jYXRlIGRyaXZlciBk
YXRhXG4iKTsKKwkJcmV0dXJuIC1FTk9NRU07CisJfQorCisJcGRhdGEgPSAmcGxhdGZvcm0tPnBk
YXRhOworCisJcmV0ID0gYW54NzYyNV9wYXJzZV9kdChkZXYsIHBkYXRhKTsKKwlpZiAocmV0KSB7
CisJCWlmIChyZXQgIT0gLUVQUk9CRV9ERUZFUikKKwkJCURSTV9ERVZfRVJST1IoZGV2LCAiZmFp
bGVkIHRvIHBhcnNlIGRldmljZXRyZWUuXG4iKTsKKwkJZ290byBmcmVlX3BsYXRmb3JtOworCX0K
KworCXBsYXRmb3JtLT5jbGllbnQgPSBjbGllbnQ7CisJaTJjX3NldF9jbGllbnRkYXRhKGNsaWVu
dCwgcGxhdGZvcm0pOworCisJYW54NzYyNV9pbml0X2dwaW8ocGxhdGZvcm0pOworCisJaWYgKHBs
YXRmb3JtLT5wZGF0YS5leHRjb25fc3VwcG9ydGVkKSB7CisJCS8qIGdldCBleHRjb24gZGV2aWNl
IGZyb20gRFRTICovCisJCXJldCA9IC1FSU5WQUw7CisJCXBsYXRmb3JtLT5leHRjb24gPSBleHRj
b25fZ2V0X2VkZXZfYnlfcGhhbmRsZShkZXYsIDApOworCQlpZiAoUFRSX0VSUihwbGF0Zm9ybS0+
ZXh0Y29uKSA9PSAtRVBST0JFX0RFRkVSKQorCQkJZ290byBmcmVlX3BsYXRmb3JtOworCisJCWlm
IChJU19FUlIocGxhdGZvcm0tPmV4dGNvbikpIHsKKwkJCURSTV9ERVZfRVJST1IoZGV2LAorCQkJ
CSAgICAgICJjYW4gbm90IGdldCBleHRjb24gZGV2aWNlISIpOworCQkJZ290byBmcmVlX3BsYXRm
b3JtOworCQl9CisKKwkJcmV0ID0gYW54NzYyNV9leHRjb25fbm90aWZpZXJfaW5pdChwbGF0Zm9y
bSk7CisJCWlmIChyZXQpCisJCQlnb3RvIGZyZWVfcGxhdGZvcm07CisJfQorCisJYXRvbWljX3Nl
dCgmcGxhdGZvcm0tPnBvd2VyX3N0YXR1cywgMCk7CisKKwltdXRleF9pbml0KCZwbGF0Zm9ybS0+
bG9jayk7CisKKwlwbGF0Zm9ybS0+cGRhdGEuaW50cF9pcnEgPSBjbGllbnQtPmlycTsKKwlpZiAo
cGxhdGZvcm0tPnBkYXRhLmludHBfaXJxKSB7CisJCUlOSVRfV09SSygmcGxhdGZvcm0tPndvcmss
IGFueDc2MjVfd29ya19mdW5jKTsKKwkJcGxhdGZvcm0tPndvcmtxdWV1ZSA9IGNyZWF0ZV93b3Jr
cXVldWUoImFueDc2MjVfd29yayIpOworCQlpZiAoIXBsYXRmb3JtLT53b3JrcXVldWUpIHsKKwkJ
CURSTV9ERVZfRVJST1IoZGV2LCAiZmFpbGVkIHRvIGNyZWF0ZSB3b3JrIHF1ZXVlXG4iKTsKKwkJ
CXJldCA9IC1FTk9NRU07CisJCQlnb3RvIGZyZWVfcGxhdGZvcm07CisJCX0KKworCQlyZXQgPSBk
ZXZtX3JlcXVlc3RfdGhyZWFkZWRfaXJxKGRldiwgcGxhdGZvcm0tPnBkYXRhLmludHBfaXJxLAor
CQkJCQkJTlVMTCwgYW54NzYyNV9pbnRyX2hwZF9pc3IsCisJCQkJCQlJUlFGX1RSSUdHRVJfRkFM
TElORyB8CisJCQkJCQlJUlFGX09ORVNIT1QsCisJCQkJCQkiYW54NzYyNS1pbnRwIiwgcGxhdGZv
cm0pOworCQlpZiAocmV0KSB7CisJCQlEUk1fREVWX0VSUk9SKGRldiwgImZhaWxlZCB0byByZXF1
ZXN0IGlycVxuIik7CisJCQlnb3RvIGZyZWVfd3E7CisJCX0KKwl9CisKKwlpZiAoYW54NzYyNV9y
ZWdpc3Rlcl9pMmNfZHVtbXlfY2xpZW50cyhwbGF0Zm9ybSwgY2xpZW50KSAhPSAwKSB7CisJCXJl
dCA9IC1FTk9NRU07CisJCURSTV9FUlJPUigiRmFpbGVkIHRvIHJlc2VydmUgSTJDIGJ1cy5cbiIp
OworCQlnb3RvIGZyZWVfd3E7CisJfQorCisJaWYgKHBsYXRmb3JtLT5wZGF0YS5sb3dfcG93ZXJf
bW9kZSA9PSAwKSB7CisJCWFueDc2MjVfZGlzYWJsZV9wZF9wcm90b2NvbChwbGF0Zm9ybSk7CisJ
CWF0b21pY19zZXQoJnBsYXRmb3JtLT5wb3dlcl9zdGF0dXMsIDEpOworCX0KKworCS8qIGFkZCB3
b3JrIGZ1bmN0aW9uICovCisJaWYgKHBsYXRmb3JtLT5wZGF0YS5pbnRwX2lycSkKKwkJcXVldWVf
d29yayhwbGF0Zm9ybS0+d29ya3F1ZXVlLCAmcGxhdGZvcm0tPndvcmspOworCisJcGxhdGZvcm0t
PmJyaWRnZS5mdW5jcyA9ICZhbng3NjI1X2JyaWRnZV9mdW5jczsKKwlpZiAoSVNfRU5BQkxFRChD
T05GSUdfT0YpKQorCQlwbGF0Zm9ybS0+YnJpZGdlLm9mX25vZGUgPSBjbGllbnQtPmRldi5vZl9u
b2RlOworCWRybV9icmlkZ2VfYWRkKCZwbGF0Zm9ybS0+YnJpZGdlKTsKKworCURSTV9ERVZfREVC
VUdfRFJJVkVSKGRldiwgInByb2JlIGRvbmVcbiIpOworCisJcmV0dXJuIDA7CisKK2ZyZWVfd3E6
CisJaWYgKHBsYXRmb3JtLT53b3JrcXVldWUpCisJCWRlc3Ryb3lfd29ya3F1ZXVlKHBsYXRmb3Jt
LT53b3JrcXVldWUpOworCitmcmVlX3BsYXRmb3JtOgorCWtmcmVlKHBsYXRmb3JtKTsKKworCXJl
dHVybiByZXQ7Cit9CisKK3N0YXRpYyBpbnQgYW54NzYyNV9pMmNfcmVtb3ZlKHN0cnVjdCBpMmNf
Y2xpZW50ICpjbGllbnQpCit7CisJc3RydWN0IGFueDc2MjVfZGF0YSAqcGxhdGZvcm0gPSBpMmNf
Z2V0X2NsaWVudGRhdGEoY2xpZW50KTsKKworCWRybV9icmlkZ2VfcmVtb3ZlKCZwbGF0Zm9ybS0+
YnJpZGdlKTsKKworCWlmIChwbGF0Zm9ybS0+cGRhdGEuaW50cF9pcnEpCisJCWRlc3Ryb3lfd29y
a3F1ZXVlKHBsYXRmb3JtLT53b3JrcXVldWUpOworCisJaWYgKHBsYXRmb3JtLT5wZGF0YS5leHRj
b25fc3VwcG9ydGVkKSB7CisJCWRldm1fZXh0Y29uX3VucmVnaXN0ZXJfbm90aWZpZXIoJnBsYXRm
b3JtLT5jbGllbnQtPmRldiwKKwkJCQkJCXBsYXRmb3JtLT5leHRjb24sCisJCQkJCQlFWFRDT05f
RElTUF9EUCwKKwkJCQkJCSZwbGF0Zm9ybS0+ZXZlbnRfbmIpOworCQlmbHVzaF93b3JrKCZwbGF0
Zm9ybS0+ZXh0Y29uX3dxKTsKKwl9CisKKwlhbng3NjI1X3VucmVnaXN0ZXJfaTJjX2R1bW15X2Ns
aWVudHMocGxhdGZvcm0pOworCisJa2ZyZWUocGxhdGZvcm0pOworCXJldHVybiAwOworfQorCitz
dGF0aWMgY29uc3Qgc3RydWN0IGkyY19kZXZpY2VfaWQgYW54NzYyNV9pZFtdID0geworCXsiYW54
NzYyNSIsIDB9LAorCXt9Cit9OworCitNT0RVTEVfREVWSUNFX1RBQkxFKGkyYywgYW54NzYyNV9p
ZCk7CisKKyNpZmRlZiBDT05GSUdfT0YKK3N0YXRpYyBjb25zdCBzdHJ1Y3Qgb2ZfZGV2aWNlX2lk
IGFueF9tYXRjaF90YWJsZVtdID0geworCXsuY29tcGF0aWJsZSA9ICJhbmFsb2dpeCxhbng3NjI1
Iix9LAorCXt9LAorfTsKKyNlbmRpZgorCitzdGF0aWMgc3RydWN0IGkyY19kcml2ZXIgYW54NzYy
NV9kcml2ZXIgPSB7CisJLmRyaXZlciA9IHsKKwkJLm5hbWUgPSAiYW54NzYyNSIsCisjaWZkZWYg
Q09ORklHX09GCisJCS5vZl9tYXRjaF90YWJsZSA9IGFueF9tYXRjaF90YWJsZSwKKyNlbmRpZgor
CX0sCisJLnByb2JlID0gYW54NzYyNV9pMmNfcHJvYmUsCisJLnJlbW92ZSA9IGFueDc2MjVfaTJj
X3JlbW92ZSwKKworCS5pZF90YWJsZSA9IGFueDc2MjVfaWQsCit9OworCittb2R1bGVfaTJjX2Ry
aXZlcihhbng3NjI1X2RyaXZlcik7CisKK01PRFVMRV9ERVNDUklQVElPTigiTUlQSTJEUCBhbng3
NjI1IGRyaXZlciIpOworTU9EVUxFX0FVVEhPUigiWGluIEppIDx4amlAYW5hbG9naXhzZW1pLmNv
bT4iKTsKK01PRFVMRV9MSUNFTlNFKCJHUEwgdjIiKTsKK01PRFVMRV9WRVJTSU9OKEFOWDc2MjVf
RFJWX1ZFUlNJT04pOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dp
eC9hbng3NjI1LmggYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FueDc2MjUuaApu
ZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwLi5jODcxYTZjCi0tLSAvZGV2L251bGwK
KysrIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9hbng3NjI1LmgKQEAgLTAsMCAr
MSw0MDYgQEAKKy8qIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wLW9ubHkgKi8KKy8q
CisgKiBDb3B5cmlnaHQoYykgMjAxNiwgQW5hbG9naXggU2VtaWNvbmR1Y3Rvci4gQWxsIHJpZ2h0
cyByZXNlcnZlZC4KKyAqCisgKi8KKworI2lmbmRlZiBfX0FOWDc2MjVfSF9fCisjZGVmaW5lIF9f
QU5YNzYyNV9IX18KKworI2lmbmRlZiBMT0dfVEFHCisjZGVmaW5lIExPR19UQUcgImFueDc2MjVk
cCIKKyNlbmRpZgorCisjZGVmaW5lIEFOWDc2MjVfRFJWX1ZFUlNJT04gIjAuMS4wNCIKKworLyog
TG9hZGluZyBPQ00gcmUtdHJ5aW5nIHRpbWVzICovCisjZGVmaW5lIE9DTV9MT0FESU5HX1RJTUUg
MTAKKworLyoqKioqKioqKiAgQU5YNzYyNSBSZWdpc3RlciAgKioqKioqKioqKi8KKyNkZWZpbmUg
VFhfUDBfQUREUgkJCQkweDcwCisjZGVmaW5lIFRYX1AxX0FERFIJCQkJMHg3QQorI2RlZmluZSBU
WF9QMl9BRERSCQkJCTB4NzIKKworI2RlZmluZSBSWF9QMF9BRERSCQkJCTB4N2UKKyNkZWZpbmUg
UlhfUDFfQUREUgkJCQkweDg0CisjZGVmaW5lIFJYX1AyX0FERFIJCQkJMHg1NAorCisjZGVmaW5l
IFJTVkRfMDBfQUREUgkJCQkweDAwCisjZGVmaW5lIFJTVkRfRDFfQUREUgkJCQkweEQxCisjZGVm
aW5lIFJTVkRfNjBfQUREUgkJCQkweDYwCisjZGVmaW5lIFJTVkRfMzlfQUREUgkJCQkweDM5Cisj
ZGVmaW5lIFJTVkRfN0ZfQUREUgkJCQkweDdGCisKKyNkZWZpbmUgVENQQ19JTlRFUkZBQ0VfQURE
UgkJCTB4NTgKKworLyogYW54NzYyNSBjbG9jayBmcmVxdWVuY3kgaW4gSHogKi8KKyNkZWZpbmUg
WFRBTF9GUlEgICAgICAgICgyNyAqIDEwMDAwMDApCisKKyNkZWZpbmUgIFBPU1RfRElWSURFUl9N
SU4JMQorI2RlZmluZSAgUE9TVF9ESVZJREVSX01BWAkxNgorI2RlZmluZSAgUExMX09VVF9GUkVR
X01JTgk1MjAwMDAwMDBVTAorI2RlZmluZSAgUExMX09VVF9GUkVRX01BWAk3MzAwMDAwMDBVTAor
I2RlZmluZSAgUExMX09VVF9GUkVRX0FCU19NSU4JMzAwMDAwMDAwVUwKKyNkZWZpbmUgIFBMTF9P
VVRfRlJFUV9BQlNfTUFYCTgwMDAwMDAwMFVMCisjZGVmaW5lICBNQVhfVU5TSUdORURfMjRCSVQJ
MTY3NzcyMTVVTAorCisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqLworLyogUmVnaXN0ZXIgZGVmaW5pdGlvbiBvZiBkZXZpY2Ug
YWRkcmVzcyAweDU4ICovCisKKyNkZWZpbmUgUFJPRFVDVF9JRF9MIDB4MDIKKyNkZWZpbmUgUFJP
RFVDVF9JRF9IIDB4MDMKKworI2RlZmluZSBJTlRSX0FMRVJUXzEgIDB4Q0MKKyNkZWZpbmUgSU5U
Ul9TT0ZUV0FSRV9JTlQgQklUKDMpCisjZGVmaW5lIElOVFJfUkVDRUlWRURfTVNHIEJJVCg1KQor
CisjZGVmaW5lIFNZU1RFTV9TVFNUVVMgMHg0NQorI2RlZmluZSBJTlRFUkZBQ0VfQ0hBTkdFX0lO
VCAweDQ0CisjZGVmaW5lIEhQRF9TVEFUVVNfQ0hBTkdFIDB4ODAKKyNkZWZpbmUgSFBEX1NUQVRV
UyAweDgwCisKKy8qKioqKioqKiBFTkQgb2YgSTJDIEFkZHJlc3MgMHg1OCAqKioqKioqKi8KKwor
LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKi8KKy8qIFJlZ2lzdGVyIGRlZmluaXRpb24gb2YgZGV2aWNlIGFkZHJlc3MgMHg3MCAq
LworI2RlZmluZSAgSTJDX0FERFJfNzBfRFBUWCAgICAgICAgICAgICAgMHg3MAorCisjZGVmaW5l
IFNQX1RYX0xJTktfQldfU0VUX1JFRyAweEEwCisjZGVmaW5lIFNQX1RYX0xBTkVfQ09VTlRfU0VU
X1JFRyAweEExCisKKyNkZWZpbmUgTV9WSURfMCAweEMwCisjZGVmaW5lIE1fVklEXzEgMHhDMQor
I2RlZmluZSBNX1ZJRF8yIDB4QzIKKyNkZWZpbmUgTl9WSURfMCAweEMzCisjZGVmaW5lIE5fVklE
XzEgMHhDNAorI2RlZmluZSBOX1ZJRF8yIDB4QzUKKworLyoqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KKy8qIFJlZ2lzdGVyIGRl
ZmluaXRpb24gb2YgZGV2aWNlIGFkZHJlc3MgMHg3MiAqLworI2RlZmluZSBBVVhfUlNUCTB4MDQK
KyNkZWZpbmUgUlNUX0NUUkwyIDB4MDcKKworI2RlZmluZSBTUF9UWF9UT1RBTF9MSU5FX1NUQV9M
IDB4MjQKKyNkZWZpbmUgU1BfVFhfVE9UQUxfTElORV9TVEFfSCAweDI1CisjZGVmaW5lIFNQX1RY
X0FDVF9MSU5FX1NUQV9MIDB4MjYKKyNkZWZpbmUgU1BfVFhfQUNUX0xJTkVfU1RBX0ggMHgyNwor
I2RlZmluZSBTUF9UWF9WX0ZfUE9SQ0hfU1RBIDB4MjgKKyNkZWZpbmUgU1BfVFhfVl9TWU5DX1NU
QSAweDI5CisjZGVmaW5lIFNQX1RYX1ZfQl9QT1JDSF9TVEEgMHgyQQorI2RlZmluZSBTUF9UWF9U
T1RBTF9QSVhFTF9TVEFfTCAweDJCCisjZGVmaW5lIFNQX1RYX1RPVEFMX1BJWEVMX1NUQV9IIDB4
MkMKKyNkZWZpbmUgU1BfVFhfQUNUX1BJWEVMX1NUQV9MIDB4MkQKKyNkZWZpbmUgU1BfVFhfQUNU
X1BJWEVMX1NUQV9IIDB4MkUKKyNkZWZpbmUgU1BfVFhfSF9GX1BPUkNIX1NUQV9MIDB4MkYKKyNk
ZWZpbmUgU1BfVFhfSF9GX1BPUkNIX1NUQV9IIDB4MzAKKyNkZWZpbmUgU1BfVFhfSF9TWU5DX1NU
QV9MIDB4MzEKKyNkZWZpbmUgU1BfVFhfSF9TWU5DX1NUQV9IIDB4MzIKKyNkZWZpbmUgU1BfVFhf
SF9CX1BPUkNIX1NUQV9MIDB4MzMKKyNkZWZpbmUgU1BfVFhfSF9CX1BPUkNIX1NUQV9IIDB4MzQK
KworI2RlZmluZSBTUF9UWF9WSURfQ1RSTCAweDg0CisjZGVmaW5lIFNQX1RYX0JQQ19NQVNLIDB4
RTAKKyNkZWZpbmUgU1BfVFhfQlBDXzYgICAgMHgwMAorI2RlZmluZSBTUF9UWF9CUENfOCAgICAw
eDIwCisjZGVmaW5lIFNQX1RYX0JQQ18xMCAgIDB4NDAKKyNkZWZpbmUgU1BfVFhfQlBDXzEyICAg
MHg2MAorCisjZGVmaW5lIFZJREVPX0JJVF9NQVRSSVhfMTIgMHg0YworCisjZGVmaW5lIEFVRElP
X0NIQU5ORUxfU1RBVFVTXzEgMHhkMAorI2RlZmluZSBBVURJT19DSEFOTkVMX1NUQVRVU18yIDB4
ZDEKKyNkZWZpbmUgQVVESU9fQ0hBTk5FTF9TVEFUVVNfMyAweGQyCisjZGVmaW5lIEFVRElPX0NI
QU5ORUxfU1RBVFVTXzQgMHhkMworI2RlZmluZSBBVURJT19DSEFOTkVMX1NUQVRVU181IDB4ZDQK
KyNkZWZpbmUgQVVESU9fQ0hBTk5FTF9TVEFUVVNfNiAweGQ1CisjZGVmaW5lIFRETV9TTEFWRV9N
T0RFIDB4MTAKKyNkZWZpbmUgSTJTX1NMQVZFX01PREUgMHgwOAorCisjZGVmaW5lIEFVRElPX0NP
TlRST0xfUkVHSVNURVIgMHhlNgorI2RlZmluZSBURE1fVElNSU5HX01PREUgMHgwOAorCisjZGVm
aW5lICBJMkNfQUREUl83Ml9EUFRYICAgICAgICAgICAgICAweDcyCisKKyNkZWZpbmUgIFZJREVP
X0NPTlRST0xfMCAgMHgwOAorCisjZGVmaW5lICBBQ1RJVkVfTElORVNfTCAgICAgICAgIDB4MTQK
KyNkZWZpbmUgIEFDVElWRV9MSU5FU19IICAgICAgICAgMHgxNSAgLyogbm90ZTogYml0Wzc6Nl0g
YXJlIHJlc2VydmVkICovCisjZGVmaW5lICBWRVJUSUNBTF9GUk9OVF9QT1JDSCAgIDB4MTYKKyNk
ZWZpbmUgIFZFUlRJQ0FMX1NZTkNfV0lEVEggICAgMHgxNworI2RlZmluZSAgVkVSVElDQUxfQkFD
S19QT1JDSCAgICAweDE4CisKKyNkZWZpbmUgIEhPUklaT05UQUxfVE9UQUxfUElYRUxTX0wgICAg
MHgxOQorI2RlZmluZSAgSE9SSVpPTlRBTF9UT1RBTF9QSVhFTFNfSCAgICAweDFBICAvKiBub3Rl
OiBiaXRbNzo2XSBhcmUgcmVzZXJ2ZWQgKi8KKyNkZWZpbmUgIEhPUklaT05UQUxfQUNUSVZFX1BJ
WEVMU19MICAgMHgxQgorI2RlZmluZSAgSE9SSVpPTlRBTF9BQ1RJVkVfUElYRUxTX0ggICAweDFD
ICAvKiBub3RlOiBiaXRbNzo2XSBhcmUgcmVzZXJ2ZWQgKi8KKyNkZWZpbmUgIEhPUklaT05UQUxf
RlJPTlRfUE9SQ0hfTCAgICAgMHgxRAorI2RlZmluZSAgSE9SSVpPTlRBTF9GUk9OVF9QT1JDSF9I
ICAgICAweDFFICAvKiBub3RlOiBiaXRbNzo0XSBhcmUgcmVzZXJ2ZWQgKi8KKyNkZWZpbmUgIEhP
UklaT05UQUxfU1lOQ19XSURUSF9MICAgICAgMHgxRgorI2RlZmluZSAgSE9SSVpPTlRBTF9TWU5D
X1dJRFRIX0ggICAgICAweDIwICAvKiBub3RlOiBiaXRbNzo0XSBhcmUgcmVzZXJ2ZWQgKi8KKyNk
ZWZpbmUgIEhPUklaT05UQUxfQkFDS19QT1JDSF9MICAgICAgMHgyMQorI2RlZmluZSAgSE9SSVpP
TlRBTF9CQUNLX1BPUkNIX0ggICAgICAweDIyICAvKiBub3RlOiBiaXRbNzo0XSBhcmUgcmVzZXJ2
ZWQgKi8KKworLyoqKioqKioqIEVORCBvZiBJMkMgQWRkcmVzcyAweDcyICoqKioqKioqKi8KKy8q
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKiovCisvKiBSZWdpc3RlciBkZWZpbml0aW9uIG9mIGRldmljZSBhZGRyZXNzIDB4N2UgKi8K
KworI2RlZmluZSAgSTJDX0FERFJfN0VfRkxBU0hfQ09OVFJPTExFUiAgMHg3RQorCisjZGVmaW5l
IEZMQVNIX0xPQURfU1RBIDB4MDUKKyNkZWZpbmUgRkxBU0hfTE9BRF9TVEFfQ0hLCUJJVCg3KQor
CisjZGVmaW5lICBYVEFMX0ZSUV9TRUwgICAgMHgzRgorLyogYml0IGZpZWxkIHBvc2l0aW9ucyAq
LworI2RlZmluZSAgWFRBTF9GUlFfU0VMX1BPUyAgICA1CisvKiBiaXQgZmllbGQgdmFsdWVzICov
CisjZGVmaW5lICBYVEFMX0ZSUV8xOU0yICAgKDAgPDwgWFRBTF9GUlFfU0VMX1BPUykKKyNkZWZp
bmUgIFhUQUxfRlJRXzI3TSAgICAoNCA8PCBYVEFMX0ZSUV9TRUxfUE9TKQorCisjZGVmaW5lICBS
X0RTQ19DVFJMXzAgICAgMHg0MAorI2RlZmluZSAgUkVBRF9TVEFUVVNfRU4gIDcKKyNkZWZpbmUg
IENMS18xTUVHX1JCICAgICA2ICAvKiAxTUh6IGNsb2NrIHJlc2V0OyAwPXJlc2V0LCAwPXJlc2V0
IHJlbGVhc2UgKi8KKyNkZWZpbmUgIERTQ19CSVNUX0RPTkUgICAxICAvKiBiaXRbNToxXTogMT1E
U0MgTUJJU1QgcGFzcyAqLworI2RlZmluZSAgRFNDX0VOICAgICAgICAgIDB4MDEgIC8qIDE9RFND
IGVuYWJsZWQsIDA9RFNDIGRpc2FibGVkICovCisKKyNkZWZpbmUgT0NNX0ZXX1ZFUlNJT04gICAw
eDMxCisjZGVmaW5lIE9DTV9GV19SRVZFUlNJT04gMHgzMgorCisjZGVmaW5lIEFQX0FVWF9BRERS
XzdfMCAgIDB4MTEKKyNkZWZpbmUgQVBfQVVYX0FERFJfMTVfOCAgMHgxMgorI2RlZmluZSBBUF9B
VVhfQUREUl8xOV8xNiAweDEzCisKKy8qIG5vdGU6IGJpdFswOjNdIEFVWCBzdGF0dXMsIGJpdCA0
IG9wX2VuLCBiaXQgNSBhZGRyZXNzIG9ubHkgKi8KKyNkZWZpbmUgQVBfQVVYX0NUUkxfU1RBVFVT
IDB4MTQKKyNkZWZpbmUgQVBfQVVYX0NUUkxfT1BfRU4gMHgxMAorI2RlZmluZSBBUF9BVVhfQ1RS
TF9BRERST05MWSAweDIwCisKKyNkZWZpbmUgQVBfQVVYX0JVRkZfU1RBUlQgMHgxNQorI2RlZmlu
ZSBQSVhFTF9DTE9DS19MIDB4MjUKKyNkZWZpbmUgUElYRUxfQ0xPQ0tfSCAweDI2CisKKyNkZWZp
bmUgQVBfQVVYX0NPTU1BTkQgMHgyNyAgLyogY29tK2xlbiAqLworLyogYml0IDAmMTogM0Qgdmlk
ZW8gc3RydWN0dXJlICovCisvKiAweDAxOiBmcmFtZSBwYWNraW5nLCAgMHgwMjpMaW5lIGFsdGVy
bmF0aXZlLCAweDAzOlNpZGUtYnktc2lkZShmdWxsKSAqLworI2RlZmluZSBBUF9BVl9TVEFUVVMg
MHgyOAorI2RlZmluZSBBUF9WSURFT19DSEcgIEJJVCgyKQorI2RlZmluZSBBUF9BVURJT19DSEcg
IEJJVCgzKQorI2RlZmluZSBBUF9NSVBJX01VVEUgIEJJVCg0KSAvKiAxOk1JUEkgaW5wdXQgbXV0
ZSwgMDogdW1tdXRlICovCisjZGVmaW5lIEFQX01JUElfUlhfRU4gQklUKDUpIC8qIDE6IE1JUEkg
UlggaW5wdXQgaW4gIDA6IG5vIFJYIGluICovCisjZGVmaW5lIEFQX0RJU0FCTEVfUEQgQklUKDYp
CisjZGVmaW5lIEFQX0RJU0FCTEVfRElTUExBWSBCSVQoNykKKy8qKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCisvKiBSZWdpc3Rl
ciBkZWZpbml0aW9uIG9mIGRldmljZSBhZGRyZXNzIDB4ODQgKi8KKyNkZWZpbmUgIE1JUElfUEhZ
X0NPTlRST0xfMyAgICAgICAgICAgIDB4MDMKKyNkZWZpbmUgIE1JUElfSFNfUFdEX0NMSyAgICAg
ICAgICAgICAgIDcKKyNkZWZpbmUgIE1JUElfSFNfUlRfQ0xLICAgICAgICAgICAgICAgIDYKKyNk
ZWZpbmUgIE1JUElfUERfQ0xLICAgICAgICAgICAgICAgICAgIDUKKyNkZWZpbmUgIE1JUElfQ0xL
X1JUX01BTlVBTF9QRF9FTiAgICAgIDQKKyNkZWZpbmUgIE1JUElfQ0xLX0hTX01BTlVBTF9QRF9F
TiAgICAgIDMKKyNkZWZpbmUgIE1JUElfQ0xLX0RFVF9ERVRfQllQQVNTICAgICAgIDIKKyNkZWZp
bmUgIE1JUElfQ0xLX01JU1NfQ1RSTCAgICAgICAgICAgIDEKKyNkZWZpbmUgIE1JUElfUERfTFBU
WF9DSF9NQU5VQUxfUERfRU4gIDAKKworI2RlZmluZSAgTUlQSV9MQU5FX0NUUkxfMAkJMHgwNQor
I2RlZmluZSAgTUlQSV9USU1FX0hTX1BSUFIJCTB4MDgKKworLyogQWZ0ZXIgTUlQSSBSWCBwcm90
b2NvbCBsYXllciByZWNlaXZlZCB0aGlzIG1hbnkgdmlkZW8gZnJhbWVzLCAqLworLyogcHJvdG9j
b2wgbGF5ZXIgc3RhcnRzIHRvIHJlY29uc3RydWN0IHZpZGVvIHN0cmVhbSBmcm9tIFBIWSAqLwor
I2RlZmluZSAgTUlQSV9WSURFT19TVEFCTEVfQ05UICAgICAgICAgICAweDBBCisKKyNkZWZpbmUg
IE1JUElfTEFORV9DVFJMXzEwICAgICAgICAgICAgICAgMHgwRgorI2RlZmluZSAgTUlQSV9ESUdJ
VEFMX0FESl8xICAgMHgxQgorCisjZGVmaW5lICBNSVBJX1BMTF9NX05VTV8yM18xNiAgIDB4MUUK
KyNkZWZpbmUgIE1JUElfUExMX01fTlVNXzE1XzggICAgMHgxRgorI2RlZmluZSAgTUlQSV9QTExf
TV9OVU1fN18wICAgICAweDIwCisjZGVmaW5lICBNSVBJX1BMTF9OX05VTV8yM18xNiAgIDB4MjEK
KyNkZWZpbmUgIE1JUElfUExMX05fTlVNXzE1XzggICAgMHgyMgorI2RlZmluZSAgTUlQSV9QTExf
Tl9OVU1fN18wICAgICAweDIzCisKKyNkZWZpbmUgIE1JUElfRElHSVRBTF9QTExfNiAgICAgMHgy
QQorLyogYml0Wzc6Nl06IFZDTyBiYW5kIGNvbnRyb2wsIG9ubHkgZWZmZWN0aXZlICovCisvKiB3
aGVuIE1JUElfUExMX0ZPUkNFX0JBTkRfRU4gKDB4ODQ6MHgyQls2XSkgaXMgMSAqLworI2RlZmlu
ZSAgTUlQSV9NX05VTV9SRUFEWSAgICAgICAgMHgxMAorI2RlZmluZSAgTUlQSV9OX05VTV9SRUFE
WSAgICAgICAgMHgwOAorI2RlZmluZSAgU1RBQkxFX0lOVEVHRVJfQ05UX0VOICAgMHgwNAorI2Rl
ZmluZSAgTUlQSV9QTExfVEVTVF9CSVQgICAgICAgMAorLyogYml0WzE6MF06IHRlc3QgcG9pbnQg
b3V0cHV0IHNlbGVjdCAtICovCisvKiAwMDogVkNPIHBvd2VyLCAwMTogZHZkZF9wZHQsIDEwOiBk
dmRkLCAxMTogdmNveCAqLworCisjZGVmaW5lICBNSVBJX0RJR0lUQUxfUExMXzcgICAgICAweDJC
CisjZGVmaW5lICBNSVBJX1BMTF9GT1JDRV9OX0VOICAgICA3CisjZGVmaW5lICBNSVBJX1BMTF9G
T1JDRV9CQU5EX0VOICA2CisKKyNkZWZpbmUgIE1JUElfUExMX1ZDT19UVU5FX1JFRyAgIDQKKy8q
IGJpdFs1OjRdOiBWQ08gbWV0YWwgY2FwYWNpdGFuY2UgLSAqLworLyogMDA6ICsyMCUgZmFzdCwg
MDE6ICsxMCUgZmFzdCAoZGVmYXVsdCksIDEwOiB0eXBpY2FsLCAxMTogLTEwJSBzbG93ICovCisj
ZGVmaW5lICBNSVBJX1BMTF9WQ09fVFVORV9SRUdfVkFMICAgMHgzMAorCisjZGVmaW5lICBNSVBJ
X1BMTF9QTExfTERPX0JJVCAgICAyCisvKiBiaXRbMzoyXTogdmNvX3YyaSBwb3dlciAtICovCisv
KiAwMDogMS40MFYsIDAxOiAxLjQ1ViAoZGVmYXVsdCksIDEwOiAxLjUwViwgMTE6IDEuNTVWICov
CisjZGVmaW5lICBNSVBJX1BMTF9SRVNFVF9OICAgICAgICAweDAyCisjZGVmaW5lICBNSVBJX0ZS
UV9GT1JDRV9OREVUICAgICAwCisKKyNkZWZpbmUgIE1JUElfQUxFUlRfQ0xSXzAgICAgICAgIDB4
MkQKKyNkZWZpbmUgIEhTX2xpbmtfZXJyb3JfY2xlYXIgICAgIDcKKy8qIFRoaXMgYml0IGl0c2Vs
ZiBpcyBTL0MsIGFuZCBpdCBjbGVhcnMgMHg4NDoweDMxWzddICovCisKKyNkZWZpbmUgIE1JUElf
QUxFUlRfT1VUXzAgICAgICAgIDB4MzEKKyNkZWZpbmUgIGNoZWNrX3N1bV9lcnJfaHNfc3luYyAg
IDcKKy8qIFRoaXMgYml0IGlzIGNsZWFyZWQgYnkgMHg4NDoweDJEWzddICovCisKKyNkZWZpbmUg
IE1JUElfRElHSVRBTF9QTExfOCAgICAweDMzCisjZGVmaW5lICBNSVBJX1BPU1RfRElWX1ZBTCAg
ICAgNAorLyogbiBtZWFucyBkaXZpZGVkIGJ5IChuKzEpLCBuID0gMH4xNSAqLworI2RlZmluZSAg
TUlQSV9FTl9MT0NLX0ZSWiAgICAgIDMKKyNkZWZpbmUgIE1JUElfRlJRX0NPVU5URVJfUlNUICAy
CisjZGVmaW5lICBNSVBJX0ZSUV9TRVRfUkVHXzggICAgMQorLyogYml0IDAgaXMgcmVzZXJ2ZWQg
Ki8KKworI2RlZmluZSAgTUlQSV9ESUdJVEFMX1BMTF85ICAgIDB4MzQKKworI2RlZmluZSAgTUlQ
SV9ESUdJVEFMX1BMTF8xNiAgIDB4M0IKKyNkZWZpbmUgIE1JUElfRlJRX0ZSRUVaRV9OREVUICAg
ICAgICAgIDcKKyNkZWZpbmUgIE1JUElfRlJRX1JFR19TRVRfRU5BQkxFICAgICAgIDYKKyNkZWZp
bmUgIE1JUElfUkVHX0ZPUkNFX1NFTF9FTiAgICAgICAgIDUKKyNkZWZpbmUgIE1JUElfUkVHX1NF
TF9ESVZfUkVHICAgICAgICAgIDQKKyNkZWZpbmUgIE1JUElfUkVHX0ZPUkNFX1BSRV9ESVZfRU4g
ICAgIDMKKy8qIGJpdCAyIGlzIHJlc2VydmVkICovCisjZGVmaW5lICBNSVBJX0ZSRUZfRF9JTkQg
ICAgICAgICAgICAgICAxCisjZGVmaW5lICBSRUZfQ0xLXzI3MDAwS0haICAgIDEKKyNkZWZpbmUg
IFJFRl9DTEtfMTkyMDBLSFogICAgMAorI2RlZmluZSAgTUlQSV9SRUdfUExMX1BMTF9URVNUX0VO
QUJMRSAgMAorCisjZGVmaW5lICBNSVBJX0RJR0lUQUxfUExMXzE4ICAweDNECisjZGVmaW5lICBG
UlFfQ09VTlRfUkJfU0VMICAgICAgIDcKKyNkZWZpbmUgIFJFR19GT1JDRV9QT1NUX0RJVl9FTiAg
NgorI2RlZmluZSAgTUlQSV9EUElfU0VMRUNUICAgICAgICA1CisjZGVmaW5lICBTRUxFQ1RfRFNJ
ICAxCisjZGVmaW5lICBTRUxFQ1RfRFBJICAwCisjZGVmaW5lICBSRUdfQkFVRF9ESVZfUkFUSU8g
ICAgIDAKKworI2RlZmluZSAgSF9CTEFOS19MICAgICAgICAgICAgMHgzRQorLyogZm9yIERTQyBv
bmx5ICovCisjZGVmaW5lICBIX0JMQU5LX0ggICAgICAgICAgICAweDNGCisvKiBmb3IgRFNDIG9u
bHk7IG5vdGU6IGJpdFs3OjZdIGFyZSByZXNlcnZlZCAqLworI2RlZmluZSAgTUlQSV9TV0FQICAw
eDRBCisjZGVmaW5lICBNSVBJX1NXQVBfQ0gwICAgIDcKKyNkZWZpbmUgIE1JUElfU1dBUF9DSDEg
ICAgNgorI2RlZmluZSAgTUlQSV9TV0FQX0NIMiAgICA1CisjZGVmaW5lICBNSVBJX1NXQVBfQ0gz
ICAgIDQKKyNkZWZpbmUgIE1JUElfU1dBUF9DTEsgICAgMworLyogYml0WzI6MF0gYXJlIHJlc2Vy
dmVkICovCisKKy8qKioqKioqKiBFTkQgb2YgSTJDIEFkZHJlc3MgMHg4NCAqKioqKioqKiovCisK
Ky8qIERQQ0QgcmVncyAqLworI2RlZmluZSBEUENEX0RQQ0RfUkVWICAgICAgICAgICAgICAgICAg
MHgwMAorI2RlZmluZSBEUENEX01BWF9MSU5LX1JBVEUgICAgICAgICAgICAgMHgwMQorI2RlZmlu
ZSBEUENEX01BWF9MQU5FX0NPVU5UICAgICAgICAgICAgMHgwMgorCisvKioqKioqKioqICBBTlg3
NjI1IFJlZ2lzdGVyIEVuZCAgKioqKioqKioqKi8KKworLyoqKioqKioqKioqKioqKioqICBEaXNw
bGF5ICoqKioqKioqKioqKioqKioqLworZW51bSBhdWRpb19mcyB7CisJQVVESU9fRlNfNDQxSyAg
PSAweDAwLAorCUFVRElPX0ZTXzQ4SyAgID0gMHgwMiwKKwlBVURJT19GU18zMksgICA9IDB4MDMs
CisJQVVESU9fRlNfODgySyAgPSAweDA4LAorCUFVRElPX0ZTXzk2SyAgID0gMHgwYSwKKwlBVURJ
T19GU18xNzY0SyA9IDB4MGMsCisJQVVESU9fRlNfMTkySyAgPSAweDBlCit9OworCitlbnVtIGF1
ZGlvX3dkX2xlbiB7CisJQVVESU9fV19MRU5fMTZfMjBNQVggPSAweDAyLAorCUFVRElPX1dfTEVO
XzE4XzIwTUFYID0gMHgwNCwKKwlBVURJT19XX0xFTl8xN18yME1BWCA9IDB4MGMsCisJQVVESU9f
V19MRU5fMTlfMjBNQVggPSAweDA4LAorCUFVRElPX1dfTEVOXzIwXzIwTUFYID0gMHgwYSwKKwlB
VURJT19XX0xFTl8yMF8yNE1BWCA9IDB4MDMsCisJQVVESU9fV19MRU5fMjJfMjRNQVggPSAweDA1
LAorCUFVRElPX1dfTEVOXzIxXzI0TUFYID0gMHgwZCwKKwlBVURJT19XX0xFTl8yM18yNE1BWCA9
IDB4MDksCisJQVVESU9fV19MRU5fMjRfMjRNQVggPSAweDBiCit9OworCisjZGVmaW5lIEkyU19D
SF8yCTB4MDEKKyNkZWZpbmUgVERNX0NIXzQJMHgwMworI2RlZmluZSBURE1fQ0hfNgkweDA1Cisj
ZGVmaW5lIFRETV9DSF84CTB4MDcKKworI2RlZmluZSBNQVhfRFBDRF9CVUZGRVJfU0laRQkxNgor
CisjZGVmaW5lIE9ORV9CTE9DS19TSVpFICAgICAgMTI4CisjZGVmaW5lIEZPVVJfQkxPQ0tfU0la
RSAgICAgKDEyOCAqIDQpCisKKyNkZWZpbmUgTUFYX0VESURfQkxPQ0sJMworI2RlZmluZSBFRElE
X1RSWV9DTlQJMworI2RlZmluZSBTVVBQT1JUX1BJWEVMX0NMT0NLCTMwMDAwMAorCitzdHJ1Y3Qg
c19lZGlkX2RhdGEgeworCWludCBlZGlkX2Jsb2NrX251bTsKKwl1OCBlZGlkX3Jhd19kYXRhW0ZP
VVJfQkxPQ0tfU0laRV07Cit9OworCisvKioqKioqKioqKioqKioqKiogIERpc3BsYXkgRW5kICoq
KioqKioqKioqKioqKioqLworCitzdHJ1Y3QgYW54NzYyNV9kZXZpY2Vfbm9kZSB7CisJc3RydWN0
IGRldmljZV9ub2RlICptaXBpX2RzaV9ob3N0X25vZGU7CisJc3RydWN0IGRldmljZV9ub2RlICpt
aXBpX2RwaV9ob3N0X25vZGU7CisJc3RydWN0IGRldmljZV9ub2RlICpwYW5lbF9ub2RlOworfTsK
Kworc3RydWN0IGFueDc2MjVfcGxhdGZvcm1fZGF0YSB7CisJc3RydWN0IGdwaW9fZGVzYyAqZ3Bp
b19wX29uOworCXN0cnVjdCBncGlvX2Rlc2MgKmdwaW9fcmVzZXQ7CisJc3RydWN0IGRybV9wYW5l
bCAqcGFuZWw7CisJaW50IGludHBfaXJxOworCXUzMiBwYW5lbF9mbGFnczsKKwl1MzIgbG93X3Bv
d2VyX21vZGU7CisJdTMyIGRzaV9zdXBwb3J0ZWQ7CisJdTMyIGludGVybmFsX3BhbmVsOworCXUz
MiBleHRjb25fc3VwcG9ydGVkOworCXN0cnVjdCBhbng3NjI1X2RldmljZV9ub2RlIG5vZGU7Cit9
OworCitzdHJ1Y3QgYW54NzYyNV9pMmNfY2xpZW50IHsKKwlzdHJ1Y3QgaTJjX2NsaWVudCAqdHhf
cDBfY2xpZW50OworCXN0cnVjdCBpMmNfY2xpZW50ICp0eF9wMV9jbGllbnQ7CisJc3RydWN0IGky
Y19jbGllbnQgKnR4X3AyX2NsaWVudDsKKwlzdHJ1Y3QgaTJjX2NsaWVudCAqcnhfcDBfY2xpZW50
OworCXN0cnVjdCBpMmNfY2xpZW50ICpyeF9wMV9jbGllbnQ7CisJc3RydWN0IGkyY19jbGllbnQg
KnJ4X3AyX2NsaWVudDsKKwlzdHJ1Y3QgaTJjX2NsaWVudCAqdGNwY19jbGllbnQ7Cit9OworCitz
dHJ1Y3QgYW54NzYyNV9kYXRhIHsKKwlzdHJ1Y3QgYW54NzYyNV9wbGF0Zm9ybV9kYXRhIHBkYXRh
OworCWF0b21pY190IHBvd2VyX3N0YXR1czsKKwlhdG9taWNfdCBwYW5lbF9wb3dlcjsKKwlpbnQg
aHBkX3N0YXR1czsKKwlpbnQgaHBkX2hpZ2hfY250OworCXN0cnVjdCBpMmNfY2xpZW50ICpjbGll
bnQ7CisJc3RydWN0IGFueDc2MjVfaTJjX2NsaWVudCBpMmM7CisJc3RydWN0IGkyY19jbGllbnQg
Kmxhc3RfY2xpZW50OworCXN0cnVjdCBzX2VkaWRfZGF0YSBzbGltcG9ydF9lZGlkX3A7CisJc3Ry
dWN0IHdvcmtfc3RydWN0IHdvcms7CisJc3RydWN0IHdvcmtxdWV1ZV9zdHJ1Y3QgKndvcmtxdWV1
ZTsKKwkvKiBkcm0gYnJpZGdlIG11dGV4IGxvY2sgKi8KKwlzdHJ1Y3QgbXV0ZXggbG9jazsKKwlj
aGFyIGVkaWRfYmxvY2s7CisJc3RydWN0IGRpc3BsYXlfdGltaW5nIGR0OworCXU4IGRpc3BsYXlf
dGltaW5nX3ZhbGlkOworCXN0cnVjdCBkcm1fYnJpZGdlIGJyaWRnZTsKKwl1OCBicmlkZ2VfYXR0
YWNoZWQ7CisJc3RydWN0IGRybV9jb25uZWN0b3IgY29ubmVjdG9yOworCXN0cnVjdCBtaXBpX2Rz
aV9kZXZpY2UgKmRzaTsKKwlzdHJ1Y3QgZHJtX2RwX2xpbmsgbGluazsKKwlzdHJ1Y3QgZHJtX2Rp
c3BsYXlfbW9kZSB2aWRfaW5mbzsKKwlzdHJ1Y3Qgbm90aWZpZXJfYmxvY2sgZXZlbnRfbmI7CisJ
c3RydWN0IGV4dGNvbl9kZXYgKmV4dGNvbjsKKwlzdHJ1Y3Qgd29ya19zdHJ1Y3QgZXh0Y29uX3dx
OworfTsKKworI2VuZGlmICAvKiBfX0FOWDc2MjVfSF9fICovCi0tIAoyLjcuNAoKX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcg
bGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRl
c2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
