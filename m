Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 4D0B6110078
	for <lists+dri-devel@lfdr.de>; Tue,  3 Dec 2019 15:39:58 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 4D5996E79C;
	Tue,  3 Dec 2019 14:39:56 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ed1-f68.google.com (mail-ed1-f68.google.com
 [209.85.208.68])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 41DD389D00
 for <dri-devel@lists.freedesktop.org>; Tue,  3 Dec 2019 14:39:54 +0000 (UTC)
Received: by mail-ed1-f68.google.com with SMTP id v16so3348034edy.6
 for <dri-devel@lists.freedesktop.org>; Tue, 03 Dec 2019 06:39:54 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=oPEnXL1XzID9qd2Be+10pgTMy8eYDYLQQ70JFSTiM08=;
 b=dl3kdsI5hv625MsrqW7boUcenyPeFowMqpEYR2CXqQrWcakSejYdjZl6EMIx5jCl6u
 Ot0gP5fWorXNSSrtbouehwxOz/11lj0JGjtEZ7FjN5KXNvUtFOfWNQ/CL6qYixWwSoq3
 3uxDxBZQlDFELMTzSnlZZGGYd18XIg9IHGgKv/M2XGgMYa48A5m4Z/WUOy1BCLtwTsFv
 1ZZkdPjwpAFz6sQdZAALMhUTYJBDywTBJKRoIZtrS9D44vDASPyh0LQR4aHFmAsV9N81
 qkFfeQ2IF3MQV5oafc89nMDytJr6e/E6+CbljPfVUKE/DgJnSFGINBQpoFUyu2Lmu7M4
 lC2g==
X-Gm-Message-State: APjAAAXRKcxcy3L0FDn9+/bFQtzeUAfZBkdltZgZuYgKZP0iTawSQ1m0
 Y+J9RNclIhuZpEnsUHLBQBRhQVtSgDY=
X-Google-Smtp-Source: APXvYqzRbn4kMG3blB4rjE/8IXtzIA019iAOOXwKpPFVx3J/ESH6lOkHBjRMM7oWmDUk3msDv2NJTw==
X-Received: by 2002:a50:9a66:: with SMTP id o93mr1837413edb.37.1575383992223; 
 Tue, 03 Dec 2019 06:39:52 -0800 (PST)
Received: from mail-wr1-f47.google.com (mail-wr1-f47.google.com.
 [209.85.221.47])
 by smtp.gmail.com with ESMTPSA id lu4sm44325ejb.37.2019.12.03.06.39.51
 for <dri-devel@lists.freedesktop.org>
 (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
 Tue, 03 Dec 2019 06:39:51 -0800 (PST)
Received: by mail-wr1-f47.google.com with SMTP id z7so3897979wrl.13
 for <dri-devel@lists.freedesktop.org>; Tue, 03 Dec 2019 06:39:51 -0800 (PST)
X-Received: by 2002:a5d:6b88:: with SMTP id n8mr5834386wrx.288.1575383991083; 
 Tue, 03 Dec 2019 06:39:51 -0800 (PST)
MIME-Version: 1.0
References: <20191203134816.5319-1-jagan@amarulasolutions.com>
 <20191203134816.5319-4-jagan@amarulasolutions.com>
In-Reply-To: <20191203134816.5319-4-jagan@amarulasolutions.com>
From: Chen-Yu Tsai <wens@csie.org>
Date: Tue, 3 Dec 2019 22:39:41 +0800
X-Gmail-Original-Message-ID: <CAGb2v67kQ391QJhQYYYEdchHpRYBUDji=iYMZ9fKY3aCw0He-Q@mail.gmail.com>
Message-ID: <CAGb2v67kQ391QJhQYYYEdchHpRYBUDji=iYMZ9fKY3aCw0He-Q@mail.gmail.com>
Subject: Re: [PATCH v12 3/7] drm/sun4i: dsi: Add has_mod_clk quirk
To: Jagan Teki <jagan@amarulasolutions.com>
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Mark Rutland <mark.rutland@arm.com>,
 devicetree <devicetree@vger.kernel.org>, David Airlie <airlied@linux.ie>,
 linux-kernel <linux-kernel@vger.kernel.org>,
 linux-sunxi <linux-sunxi@googlegroups.com>, Rob Herring <robh+dt@kernel.org>,
 dri-devel <dri-devel@lists.freedesktop.org>,
 Michael Trimarchi <michael@amarulasolutions.com>,
 linux-amarula <linux-amarula@amarulasolutions.com>,
 linux-arm-kernel <linux-arm-kernel@lists.infradead.org>,
 Icenowy Zheng <icenowy@aosc.io>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVHVlLCBEZWMgMywgMjAxOSBhdCA5OjQ4IFBNIEphZ2FuIFRla2kgPGphZ2FuQGFtYXJ1bGFz
b2x1dGlvbnMuY29tPiB3cm90ZToKPgo+IEFzIHBlciB0aGUgdXNlciBtYW51YWwsIGxvb2sgbGlr
ZSBtb2QgY2xvY2sgaXMgbm90IG1hbmRhdG9yeQo+IGZvciBhbGwgQWxsd2lubmVyIE1JUEkgRFNJ
IGNvbnRyb2xsZXJzLCBpdCBpcyBjb25uZWN0ZWQgdG8KPiBDTEtfRFNJX1NDTEsgZm9yIEEzMSBh
bmQgbm90IGF2YWlsYWJsZSBpbiBBNjQuCj4KPiBTbyBhZGQgaGFzX21vZF9jbGsgcXVpcmsgYW5k
IHByb2Nlc3MgdGhlIG1vZCBjbGsgYWNjb3JkaW5nbHkuCj4KPiBUZXN0ZWQtYnk6IE1lcmxpam4g
V2FqZXIgPG1lcmxpam5Ad2l6enVwLm9yZz4KPiBTaWduZWQtb2ZmLWJ5OiBKYWdhbiBUZWtpIDxq
YWdhbkBhbWFydWxhc29sdXRpb25zLmNvbT4KPiAtLS0KPiBDaGFuZ2VzIGZvciB2MTI6Cj4gLSBu
b25lCj4KPiAgZHJpdmVycy9ncHUvZHJtL3N1bjRpL3N1bjZpX21pcGlfZHNpLmMgfCAzOCArKysr
KysrKysrKysrKysrKystLS0tLS0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vc3VuNGkvc3VuNmlfbWlw
aV9kc2kuaCB8ICA1ICsrKysKPiAgMiBmaWxlcyBjaGFuZ2VkLCAzMiBpbnNlcnRpb25zKCspLCAx
MSBkZWxldGlvbnMoLSkKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vc3VuNGkvc3Vu
NmlfbWlwaV9kc2kuYyBiL2RyaXZlcnMvZ3B1L2RybS9zdW40aS9zdW42aV9taXBpX2RzaS5jCj4g
aW5kZXggYzk1OGNhOWJhZTYzLi44YzRjNTQxMjI0ZGQgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9n
cHUvZHJtL3N1bjRpL3N1bjZpX21pcGlfZHNpLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vc3Vu
NGkvc3VuNmlfbWlwaV9kc2kuYwo+IEBAIC0xMSw2ICsxMSw3IEBACj4gICNpbmNsdWRlIDxsaW51
eC9jcmMtY2NpdHQuaD4KPiAgI2luY2x1ZGUgPGxpbnV4L21vZHVsZS5oPgo+ICAjaW5jbHVkZSA8
bGludXgvb2ZfYWRkcmVzcy5oPgo+ICsjaW5jbHVkZSA8bGludXgvb2ZfZGV2aWNlLmg+Cj4gICNp
bmNsdWRlIDxsaW51eC9waHkvcGh5LW1pcGktZHBoeS5oPgo+ICAjaW5jbHVkZSA8bGludXgvcGh5
L3BoeS5oPgo+ICAjaW5jbHVkZSA8bGludXgvcGxhdGZvcm1fZGV2aWNlLmg+Cj4gQEAgLTEwOTMs
NiArMTA5NCw3IEBAIHN0YXRpYyBpbnQgc3VuNmlfZHNpX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9k
ZXZpY2UgKnBkZXYpCj4gICAgICAgICBkc2ktPmRldiA9IGRldjsKPiAgICAgICAgIGRzaS0+aG9z
dC5vcHMgPSAmc3VuNmlfZHNpX2hvc3Rfb3BzOwo+ICAgICAgICAgZHNpLT5ob3N0LmRldiA9IGRl
djsKPiArICAgICAgIGRzaS0+dmFyaWFudCA9IG9mX2RldmljZV9nZXRfbWF0Y2hfZGF0YShkZXYp
Owo+Cj4gICAgICAgICByZXMgPSBwbGF0Zm9ybV9nZXRfcmVzb3VyY2UocGRldiwgSU9SRVNPVVJD
RV9NRU0sIDApOwo+ICAgICAgICAgYmFzZSA9IGRldm1faW9yZW1hcF9yZXNvdXJjZShkZXYsIHJl
cyk7Cj4gQEAgLTExMjAsMTcgKzExMjIsMjAgQEAgc3RhdGljIGludCBzdW42aV9kc2lfcHJvYmUo
c3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKPiAgICAgICAgICAgICAgICAgcmV0dXJuIFBU
Ul9FUlIoZHNpLT5yZXNldCk7Cj4gICAgICAgICB9Cj4KPiAtICAgICAgIGRzaS0+bW9kX2NsayA9
IGRldm1fY2xrX2dldChkZXYsICJtb2QiKTsKPiAtICAgICAgIGlmIChJU19FUlIoZHNpLT5tb2Rf
Y2xrKSkgewo+IC0gICAgICAgICAgICAgICBkZXZfZXJyKGRldiwgIkNvdWxkbid0IGdldCB0aGUg
RFNJIG1vZCBjbG9ja1xuIik7Cj4gLSAgICAgICAgICAgICAgIHJldHVybiBQVFJfRVJSKGRzaS0+
bW9kX2Nsayk7Cj4gKyAgICAgICBpZiAoZHNpLT52YXJpYW50LT5oYXNfbW9kX2Nsaykgewo+ICsg
ICAgICAgICAgICAgICBkc2ktPm1vZF9jbGsgPSBkZXZtX2Nsa19nZXQoZGV2LCAibW9kIik7Cj4g
KyAgICAgICAgICAgICAgIGlmIChJU19FUlIoZHNpLT5tb2RfY2xrKSkgewo+ICsgICAgICAgICAg
ICAgICAgICAgICAgIGRldl9lcnIoZGV2LCAiQ291bGRuJ3QgZ2V0IHRoZSBEU0kgbW9kIGNsb2Nr
XG4iKTsKPiArICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUFRSX0VSUihkc2ktPm1vZF9j
bGspOwo+ICsgICAgICAgICAgICAgICB9Cj4gICAgICAgICB9Cj4KPiAgICAgICAgIC8qCj4gICAg
ICAgICAgKiBJbiBvcmRlciB0byBvcGVyYXRlIHByb3Blcmx5LCB0aGF0IGNsb2NrIHNlZW1zIHRv
IGJlIGFsd2F5cwo+ICAgICAgICAgICogc2V0IHRvIDI5N01Iei4KPiAgICAgICAgICAqLwo+IC0g
ICAgICAgY2xrX3NldF9yYXRlX2V4Y2x1c2l2ZShkc2ktPm1vZF9jbGssIDI5NzAwMDAwMCk7Cj4g
KyAgICAgICBpZiAoZHNpLT52YXJpYW50LT5oYXNfbW9kX2NsaykKPiArICAgICAgICAgICAgICAg
Y2xrX3NldF9yYXRlX2V4Y2x1c2l2ZShkc2ktPm1vZF9jbGssIDI5NzAwMDAwMCk7CgpUaGUgY2xr
IEFQSSBjYW4gaGFuZGxlIE5VTEwgcG9pbnRlcnMsIHNvIHlvdSBkb24ndCBuZWVkIHRvIGFkZCB0
aGUgaWYgaGVyZS4uLgoKPgo+ICAgICAgICAgZHNpLT5kcGh5ID0gZGV2bV9waHlfZ2V0KGRldiwg
ImRwaHkiKTsKPiAgICAgICAgIGlmIChJU19FUlIoZHNpLT5kcGh5KSkgewo+IEBAIC0xMTYwLDcg
KzExNjUsOCBAQCBzdGF0aWMgaW50IHN1bjZpX2RzaV9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2
aWNlICpwZGV2KQo+ICBlcnJfcG1fZGlzYWJsZToKPiAgICAgICAgIHBtX3J1bnRpbWVfZGlzYWJs
ZShkZXYpOwo+ICBlcnJfdW5wcm90ZWN0X2NsazoKPiAtICAgICAgIGNsa19yYXRlX2V4Y2x1c2l2
ZV9wdXQoZHNpLT5tb2RfY2xrKTsKPiArICAgICAgIGlmIChkc2ktPnZhcmlhbnQtPmhhc19tb2Rf
Y2xrKQo+ICsgICAgICAgICAgICAgICBjbGtfcmF0ZV9leGNsdXNpdmVfcHV0KGRzaS0+bW9kX2Ns
ayk7CgphbmQgaGVyZS4uLgoKPiAgICAgICAgIHJldHVybiByZXQ7Cj4gIH0KPgo+IEBAIC0xMTcy
LDcgKzExNzgsOCBAQCBzdGF0aWMgaW50IHN1bjZpX2RzaV9yZW1vdmUoc3RydWN0IHBsYXRmb3Jt
X2RldmljZSAqcGRldikKPiAgICAgICAgIGNvbXBvbmVudF9kZWwoJnBkZXYtPmRldiwgJnN1bjZp
X2RzaV9vcHMpOwo+ICAgICAgICAgbWlwaV9kc2lfaG9zdF91bnJlZ2lzdGVyKCZkc2ktPmhvc3Qp
Owo+ICAgICAgICAgcG1fcnVudGltZV9kaXNhYmxlKGRldik7Cj4gLSAgICAgICBjbGtfcmF0ZV9l
eGNsdXNpdmVfcHV0KGRzaS0+bW9kX2Nsayk7Cj4gKyAgICAgICBpZiAoZHNpLT52YXJpYW50LT5o
YXNfbW9kX2NsaykKPiArICAgICAgICAgICAgICAgY2xrX3JhdGVfZXhjbHVzaXZlX3B1dChkc2kt
Pm1vZF9jbGspOwoKYW5kIGhlcmUgLi4uCgo+Cj4gICAgICAgICByZXR1cm4gMDsKPiAgfQo+IEBA
IC0xMTg5LDcgKzExOTYsOCBAQCBzdGF0aWMgaW50IF9fbWF5YmVfdW51c2VkIHN1bjZpX2RzaV9y
dW50aW1lX3Jlc3VtZShzdHJ1Y3QgZGV2aWNlICpkZXYpCj4gICAgICAgICB9Cj4KPiAgICAgICAg
IHJlc2V0X2NvbnRyb2xfZGVhc3NlcnQoZHNpLT5yZXNldCk7Cj4gLSAgICAgICBjbGtfcHJlcGFy
ZV9lbmFibGUoZHNpLT5tb2RfY2xrKTsKPiArICAgICAgIGlmIChkc2ktPnZhcmlhbnQtPmhhc19t
b2RfY2xrKQo+ICsgICAgICAgICAgICAgICBjbGtfcHJlcGFyZV9lbmFibGUoZHNpLT5tb2RfY2xr
KTsKCmFuZCBoZXJlLi4uCgo+Cj4gICAgICAgICAvKgo+ICAgICAgICAgICogRW5hYmxlIHRoZSBE
U0kgYmxvY2suCj4gQEAgLTEyMTcsNyArMTIyNSw4IEBAIHN0YXRpYyBpbnQgX19tYXliZV91bnVz
ZWQgc3VuNmlfZHNpX3J1bnRpbWVfc3VzcGVuZChzdHJ1Y3QgZGV2aWNlICpkZXYpCj4gIHsKPiAg
ICAgICAgIHN0cnVjdCBzdW42aV9kc2kgKmRzaSA9IGRldl9nZXRfZHJ2ZGF0YShkZXYpOwo+Cj4g
LSAgICAgICBjbGtfZGlzYWJsZV91bnByZXBhcmUoZHNpLT5tb2RfY2xrKTsKPiArICAgICAgIGlm
IChkc2ktPnZhcmlhbnQtPmhhc19tb2RfY2xrKQo+ICsgICAgICAgICAgICAgICBjbGtfZGlzYWJs
ZV91bnByZXBhcmUoZHNpLT5tb2RfY2xrKTsKCmFuZCBoZXJlLgoKPiAgICAgICAgIHJlc2V0X2Nv
bnRyb2xfYXNzZXJ0KGRzaS0+cmVzZXQpOwo+ICAgICAgICAgcmVndWxhdG9yX2Rpc2FibGUoZHNp
LT5yZWd1bGF0b3IpOwo+Cj4gQEAgLTEyMzAsOSArMTIzOSwxNiBAQCBzdGF0aWMgY29uc3Qgc3Ry
dWN0IGRldl9wbV9vcHMgc3VuNmlfZHNpX3BtX29wcyA9IHsKPiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBOVUxMKQo+ICB9Owo+Cj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3Qgc3VuNmlfZHNpX3Zh
cmlhbnQgc3VuNmlfYTMxX21pcGlfZHNpID0gewo+ICsgICAgICAgLmhhc19tb2RfY2xrID0gdHJ1
ZSwKPiArfTsKPiArCj4gIHN0YXRpYyBjb25zdCBzdHJ1Y3Qgb2ZfZGV2aWNlX2lkIHN1bjZpX2Rz
aV9vZl90YWJsZVtdID0gewo+IC0gICAgICAgeyAuY29tcGF0aWJsZSA9ICJhbGx3aW5uZXIsc3Vu
NmktYTMxLW1pcGktZHNpIiB9LAo+IC0gICAgICAgeyB9Cj4gKyAgICAgICB7Cj4gKyAgICAgICAg
ICAgICAgIC5jb21wYXRpYmxlID0gImFsbHdpbm5lcixzdW42aS1hMzEtbWlwaS1kc2kiLAo+ICsg
ICAgICAgICAgICAgICAuZGF0YSA9ICZzdW42aV9hMzFfbWlwaV9kc2ksCj4gKyAgICAgICB9LAo+
ICsgICAgICAgeyAvKiBzZW50aW5lbCAqLyB9Cj4gIH07Cj4gIE1PRFVMRV9ERVZJQ0VfVEFCTEUo
b2YsIHN1bjZpX2RzaV9vZl90YWJsZSk7Cj4KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L3N1bjRpL3N1bjZpX21pcGlfZHNpLmggYi9kcml2ZXJzL2dwdS9kcm0vc3VuNGkvc3VuNmlfbWlw
aV9kc2kuaAo+IGluZGV4IDNmNDg0NmY1ODFlZi4uZDc5MWM5ZjZmY2NmIDEwMDY0NAo+IC0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9zdW40aS9zdW42aV9taXBpX2RzaS5oCj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL3N1bjRpL3N1bjZpX21pcGlfZHNpLmgKPiBAQCAtMTUsNiArMTUsMTAgQEAKPgo+ICAj
ZGVmaW5lIFNVTjZJX0RTSV9UQ09OX0RJViAgICAgNAo+Cj4gK3N0cnVjdCBzdW42aV9kc2lfdmFy
aWFudCB7Cj4gKyAgICAgICBib29sICAgICAgICAgICAgICAgICAgICBoYXNfbW9kX2NsazsKPiAr
fTsKPiArCgpZb3UgY291bGQgY2hvb3NlIHRvIHB1dCB0aGlzIGFib3ZlIHRoZSBwcm9iZSBmdW5j
dGlvbiwgc2luY2UgdGhpcyBpc24ndCB1c2VkCmFueXdoZXJlIGVsc2UsIGFuZCBhIHBvaW50ZXIg
ZmllbGQgZG9lc24ndCBuZWVkIHRoZSBmdWxsIGRlZmluaXRpb24uCgpDaGVuWXUKCj4gIHN0cnVj
dCBzdW42aV9kc2kgewo+ICAgICAgICAgc3RydWN0IGRybV9jb25uZWN0b3IgICAgY29ubmVjdG9y
Owo+ICAgICAgICAgc3RydWN0IGRybV9lbmNvZGVyICAgICAgZW5jb2RlcjsKPiBAQCAtMzEsNiAr
MzUsNyBAQCBzdHJ1Y3Qgc3VuNmlfZHNpIHsKPiAgICAgICAgIHN0cnVjdCBzdW40aV9kcnYgICAg
ICAgICpkcnY7Cj4gICAgICAgICBzdHJ1Y3QgbWlwaV9kc2lfZGV2aWNlICAqZGV2aWNlOwo+ICAg
ICAgICAgc3RydWN0IGRybV9wYW5lbCAgICAgICAgKnBhbmVsOwo+ICsgICAgICAgY29uc3Qgc3Ry
dWN0IHN1bjZpX2RzaV92YXJpYW50ICAqdmFyaWFudDsKPiAgfTsKPgo+ICBzdGF0aWMgaW5saW5l
IHN0cnVjdCBzdW42aV9kc2kgKmhvc3RfdG9fc3VuNmlfZHNpKHN0cnVjdCBtaXBpX2RzaV9ob3N0
ICpob3N0KQo+IC0tCj4gMi4xOC4wLjMyMS5nZmZjNmZhMGUzCj4KX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmkt
ZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
L21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
