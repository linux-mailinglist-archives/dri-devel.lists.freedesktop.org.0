Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 9C7324A2A7
	for <lists+dri-devel@lfdr.de>; Tue, 18 Jun 2019 15:46:31 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0E9646E191;
	Tue, 18 Jun 2019 13:46:29 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from perceval.ideasonboard.com (perceval.ideasonboard.com
 [213.167.242.64])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 94B726E192
 for <dri-devel@lists.freedesktop.org>; Tue, 18 Jun 2019 13:46:27 +0000 (UTC)
Received: from pendragon.ideasonboard.com
 (dfj612yhrgyx302h3jwwy-3.rev.dnainternet.fi
 [IPv6:2001:14ba:21f5:5b00:ce28:277f:58d7:3ca4])
 by perceval.ideasonboard.com (Postfix) with ESMTPSA id 988E5D5;
 Tue, 18 Jun 2019 15:46:25 +0200 (CEST)
Date: Tue, 18 Jun 2019 16:46:08 +0300
From: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
To: Ulrich Hecht <uli@fpond.eu>
Subject: Re: [PATCH v3 01/10] media: vsp1: drm: Split vsp1_du_setup_lif()
Message-ID: <20190618134608.GD21105@pendragon.ideasonboard.com>
References: <20190617210930.6054-1-laurent.pinchart+renesas@ideasonboard.com>
 <20190617210930.6054-2-laurent.pinchart+renesas@ideasonboard.com>
 <55043232.787113.1560861133484@webmail.strato.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <55043232.787113.1560861133484@webmail.strato.com>
User-Agent: Mutt/1.10.1 (2018-07-13)
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=ideasonboard.com; s=mail; t=1560865585;
 bh=boAtGIf2qHNlE6XrrLHndvrd+4b+xYRiYR+2bFIxjVQ=;
 h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
 b=kuWW12xjx87anZ6Onimp6Ot4kzg7lk0ErRRTzvwg4nv3TnaTfrfnD0rTbe7ZEjXRG
 AIXQMm00yb6DD8ZM1lX61ZSmkKTxBG98G3c8Wt1SWbMVtLFWDh0Zq6RhI4OMzTbCBx
 uztX9Rt5Ds+lCt/6HBor02wGD09N0V5b0o7bfMQM=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-renesas-soc@vger.kernel.org,
 Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>,
 Kieran Bingham <kieran.bingham@ideasonboard.com>,
 dri-devel@lists.freedesktop.org, linux-media@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgVWxyaWNoLAoKT24gVHVlLCBKdW4gMTgsIDIwMTkgYXQgMDI6MzI6MTNQTSArMDIwMCwgVWxy
aWNoIEhlY2h0IHdyb3RlOgo+ID4gT24gSnVuZSAxNywgMjAxOSBhdCAxMTowOSBQTSBMYXVyZW50
IFBpbmNoYXJ0IDxsYXVyZW50LnBpbmNoYXJ0K3JlbmVzYXNAaWRlYXNvbmJvYXJkLmNvbT4gd3Jv
dGU6Cj4gPiAKPiA+IEZyb206IEtpZXJhbiBCaW5naGFtIDxraWVyYW4uYmluZ2hhbStyZW5lc2Fz
QGlkZWFzb25ib2FyZC5jb20+Cj4gPiAKPiA+IEJyZWFrIHZzcDFfZHVfc2V0dXBfbGlmKCkgaW50
byBjb21wb25lbnRzIG1vcmUgc3VpdGVkIHRvIHRoZSBEUk0gQXRvbWljCj4gPiBBUEkuIFRoZSBl
eGlzdGluZyB2c3AxX2R1X3NldHVwX2xpZigpIEFQSSBjYWxsIGlzIG1haW50YWluZWQgYXMgaXQg
aXMKPiA+IHN0aWxsIHVzZWQgZnJvbSB0aGUgRFUuCj4gPiAKPiA+IFNpZ25lZC1vZmYtYnk6IEtp
ZXJhbiBCaW5naGFtIDxraWVyYW4uYmluZ2hhbStyZW5lc2FzQGlkZWFzb25ib2FyZC5jb20+Cj4g
PiBTaWduZWQtb2ZmLWJ5OiBMYXVyZW50IFBpbmNoYXJ0IDxsYXVyZW50LnBpbmNoYXJ0K3JlbmVz
YXNAaWRlYXNvbmJvYXJkLmNvbT4KPiA+IC0tLQo+ID4gQ2hhbmdlcyBzaW5jZSB2MjoKPiA+IAo+
ID4gLSBNaW5vciBmb3JtYXR0aW5nIGNoYW5nZXMKPiA+IC0gRml4IE5VTEwgcG9pbnRlciBkZXJl
ZmVyZW5jZSBpbiB2c3AxX2R1X3NldHVwX2xpZigpCj4gPiAtLS0KPiA+ICBkcml2ZXJzL21lZGlh
L3BsYXRmb3JtL3ZzcDEvdnNwMV9kcm0uYyB8IDIyMCArKysrKysrKysrKysrKysrKystLS0tLS0t
Cj4gPiAgaW5jbHVkZS9tZWRpYS92c3AxLmggICAgICAgICAgICAgICAgICAgfCAgMzIgKysrLQo+
ID4gIDIgZmlsZXMgY2hhbmdlZCwgMTg5IGluc2VydGlvbnMoKyksIDYzIGRlbGV0aW9ucygtKQo+
ID4gCj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9tZWRpYS9wbGF0Zm9ybS92c3AxL3ZzcDFfZHJt
LmMgYi9kcml2ZXJzL21lZGlhL3BsYXRmb3JtL3ZzcDEvdnNwMV9kcm0uYwo+ID4gaW5kZXggYTRh
NDVkNjhhNmVmLi43OTU3ZTE0MzlkZTAgMTAwNjQ0Cj4gPiAtLS0gYS9kcml2ZXJzL21lZGlhL3Bs
YXRmb3JtL3ZzcDEvdnNwMV9kcm0uYwo+ID4gKysrIGIvZHJpdmVycy9tZWRpYS9wbGF0Zm9ybS92
c3AxL3ZzcDFfZHJtLmMKPiA+IEBAIC02MTYsMTAgKzYxNiwxMCBAQCBpbnQgdnNwMV9kdV9pbml0
KHN0cnVjdCBkZXZpY2UgKmRldikKPiA+ICBFWFBPUlRfU1lNQk9MX0dQTCh2c3AxX2R1X2luaXQp
Owo+ID4gIAo+ID4gIC8qKgo+ID4gLSAqIHZzcDFfZHVfc2V0dXBfbGlmIC0gU2V0dXAgdGhlIG91
dHB1dCBwYXJ0IG9mIHRoZSBWU1AgcGlwZWxpbmUKPiA+ICsgKiB2c3AxX2R1X2F0b21pY19tb2Rl
c2V0IC0gQ29uZmlndXJlIHRoZSBtb2RlIGFzIHBhcnQgb2YgYW4gYXRvbWljIHVwZGF0ZQo+ID4g
ICAqIEBkZXY6IHRoZSBWU1AgZGV2aWNlCj4gPiAgICogQHBpcGVfaW5kZXg6IHRoZSBEUk0gcGlw
ZWxpbmUgaW5kZXgKPiA+IC0gKiBAY2ZnOiB0aGUgTElGIGNvbmZpZ3VyYXRpb24KPiA+ICsgKiBA
Y2ZnOiB0aGUgbW9kZSBjb25maWd1cmF0aW9uCj4gPiAgICoKPiA+ICAgKiBDb25maWd1cmUgdGhl
IG91dHB1dCBwYXJ0IG9mIFZTUCBEUk0gcGlwZWxpbmUgZm9yIHRoZSBnaXZlbiBmcmFtZSBAY2Zn
LndpZHRoCj4gPiAgICogYW5kIEBjZmcuaGVpZ2h0LiBUaGlzIHNldHMgdXAgZm9ybWF0cyBvbiB0
aGUgQlJ4IHNvdXJjZSBwYWQsIHRoZSBXUEYgc2luayBhbmQKPiA+IEBAIC02MzYsMTQgKzYzNiwx
MiBAQCBFWFBPUlRfU1lNQk9MX0dQTCh2c3AxX2R1X2luaXQpOwo+ID4gICAqCj4gPiAgICogUmV0
dXJuIDAgb24gc3VjY2VzcyBvciBhIG5lZ2F0aXZlIGVycm9yIGNvZGUgb24gZmFpbHVyZS4KPiA+
ICAgKi8KPiA+IC1pbnQgdnNwMV9kdV9zZXR1cF9saWYoc3RydWN0IGRldmljZSAqZGV2LCB1bnNp
Z25lZCBpbnQgcGlwZV9pbmRleCwKPiA+IC0JCSAgICAgIGNvbnN0IHN0cnVjdCB2c3AxX2R1X2xp
Zl9jb25maWcgKmNmZykKPiA+ICtpbnQgdnNwMV9kdV9hdG9taWNfbW9kZXNldChzdHJ1Y3QgZGV2
aWNlICpkZXYsIHVuc2lnbmVkIGludCBwaXBlX2luZGV4LAo+ID4gKwkJCSAgIGNvbnN0IHN0cnVj
dCB2c3AxX2R1X21vZGVzZXRfY29uZmlnICpjZmcpCj4gPiAgewo+ID4gIAlzdHJ1Y3QgdnNwMV9k
ZXZpY2UgKnZzcDEgPSBkZXZfZ2V0X2RydmRhdGEoZGV2KTsKPiA+ICAJc3RydWN0IHZzcDFfZHJt
X3BpcGVsaW5lICpkcm1fcGlwZTsKPiA+ICAJc3RydWN0IHZzcDFfcGlwZWxpbmUgKnBpcGU7Cj4g
PiAtCXVuc2lnbmVkIGxvbmcgZmxhZ3M7Cj4gPiAtCXVuc2lnbmVkIGludCBpOwo+ID4gIAlpbnQg
cmV0Owo+ID4gIAo+ID4gIAlpZiAocGlwZV9pbmRleCA+PSB2c3AxLT5pbmZvLT5saWZfY291bnQp
Cj4gPiBAQCAtNjUyLDYwICs2NTAsNiBAQCBpbnQgdnNwMV9kdV9zZXR1cF9saWYoc3RydWN0IGRl
dmljZSAqZGV2LCB1bnNpZ25lZCBpbnQgcGlwZV9pbmRleCwKPiA+ICAJZHJtX3BpcGUgPSAmdnNw
MS0+ZHJtLT5waXBlW3BpcGVfaW5kZXhdOwo+ID4gIAlwaXBlID0gJmRybV9waXBlLT5waXBlOwo+
ID4gIAo+ID4gLQlpZiAoIWNmZykgewo+ID4gLQkJc3RydWN0IHZzcDFfYnJ4ICpicng7Cj4gPiAt
Cj4gPiAtCQltdXRleF9sb2NrKCZ2c3AxLT5kcm0tPmxvY2spOwo+ID4gLQo+ID4gLQkJYnJ4ID0g
dG9fYnJ4KCZwaXBlLT5icngtPnN1YmRldik7Cj4gPiAtCj4gPiAtCQkvKgo+ID4gLQkJICogTlVM
TCBjb25maWd1cmF0aW9uIG1lYW5zIHRoZSBDUlRDIGlzIGJlaW5nIGRpc2FibGVkLCBzdG9wCj4g
PiAtCQkgKiB0aGUgcGlwZWxpbmUgYW5kIHR1cm4gdGhlIGxpZ2h0IG9mZi4KPiA+IC0JCSAqLwo+
ID4gLQkJcmV0ID0gdnNwMV9waXBlbGluZV9zdG9wKHBpcGUpOwo+ID4gLQkJaWYgKHJldCA9PSAt
RVRJTUVET1VUKQo+ID4gLQkJCWRldl9lcnIodnNwMS0+ZGV2LCAiRFJNIHBpcGVsaW5lIHN0b3Ag
dGltZW91dFxuIik7Cj4gPiAtCj4gPiAtCQlmb3IgKGkgPSAwOyBpIDwgQVJSQVlfU0laRShwaXBl
LT5pbnB1dHMpOyArK2kpIHsKPiA+IC0JCQlzdHJ1Y3QgdnNwMV9yd3BmICpycGYgPSBwaXBlLT5p
bnB1dHNbaV07Cj4gPiAtCj4gPiAtCQkJaWYgKCFycGYpCj4gPiAtCQkJCWNvbnRpbnVlOwo+ID4g
LQo+ID4gLQkJCS8qCj4gPiAtCQkJICogUmVtb3ZlIHRoZSBSUEYgZnJvbSB0aGUgcGlwZSBhbmQg
dGhlIGxpc3Qgb2YgQlJ4Cj4gPiAtCQkJICogaW5wdXRzLgo+ID4gLQkJCSAqLwo+ID4gLQkJCVdB
Uk5fT04oIXJwZi0+ZW50aXR5LnBpcGUpOwo+ID4gLQkJCXJwZi0+ZW50aXR5LnBpcGUgPSBOVUxM
Owo+ID4gLQkJCWxpc3RfZGVsKCZycGYtPmVudGl0eS5saXN0X3BpcGUpOwo+ID4gLQkJCXBpcGUt
PmlucHV0c1tpXSA9IE5VTEw7Cj4gPiAtCj4gPiAtCQkJYnJ4LT5pbnB1dHNbcnBmLT5icnhfaW5w
dXRdLnJwZiA9IE5VTEw7Cj4gPiAtCQl9Cj4gPiAtCj4gPiAtCQlkcm1fcGlwZS0+ZHVfY29tcGxl
dGUgPSBOVUxMOwo+ID4gLQkJcGlwZS0+bnVtX2lucHV0cyA9IDA7Cj4gPiAtCj4gPiAtCQlkZXZf
ZGJnKHZzcDEtPmRldiwgIiVzOiBwaXBlICV1OiByZWxlYXNpbmcgJXNcbiIsCj4gPiAtCQkJX19m
dW5jX18sIHBpcGUtPmxpZi0+aW5kZXgsCj4gPiAtCQkJQlJYX05BTUUocGlwZS0+YnJ4KSk7Cj4g
PiAtCj4gPiAtCQlsaXN0X2RlbCgmcGlwZS0+YnJ4LT5saXN0X3BpcGUpOwo+ID4gLQkJcGlwZS0+
YnJ4LT5waXBlID0gTlVMTDsKPiA+IC0JCXBpcGUtPmJyeCA9IE5VTEw7Cj4gPiAtCj4gPiAtCQlt
dXRleF91bmxvY2soJnZzcDEtPmRybS0+bG9jayk7Cj4gPiAtCj4gPiAtCQl2c3AxX2RsbV9yZXNl
dChwaXBlLT5vdXRwdXQtPmRsbSk7Cj4gPiAtCQl2c3AxX2RldmljZV9wdXQodnNwMSk7Cj4gPiAt
Cj4gPiAtCQlkZXZfZGJnKHZzcDEtPmRldiwgIiVzOiBwaXBlbGluZSBkaXNhYmxlZFxuIiwgX19m
dW5jX18pOwo+ID4gLQo+ID4gLQkJcmV0dXJuIDA7Cj4gPiAtCX0KPiA+IC0KPiA+ICAJZHJtX3Bp
cGUtPndpZHRoID0gY2ZnLT53aWR0aDsKPiA+ICAJZHJtX3BpcGUtPmhlaWdodCA9IGNmZy0+aGVp
Z2h0Owo+ID4gIAlwaXBlLT5pbnRlcmxhY2VkID0gY2ZnLT5pbnRlcmxhY2VkOwo+ID4gQEAgLTcy
Miw4ICs2NjYsNDMgQEAgaW50IHZzcDFfZHVfc2V0dXBfbGlmKHN0cnVjdCBkZXZpY2UgKmRldiwg
dW5zaWduZWQgaW50IHBpcGVfaW5kZXgsCj4gPiAgCQlnb3RvIHVubG9jazsKPiA+ICAKPiA+ICAJ
cmV0ID0gdnNwMV9kdV9waXBlbGluZV9zZXR1cF9vdXRwdXQodnNwMSwgcGlwZSk7Cj4gPiAtCWlm
IChyZXQgPCAwKQo+ID4gLQkJZ290byB1bmxvY2s7Cj4gPiArCj4gPiArdW5sb2NrOgo+ID4gKwlt
dXRleF91bmxvY2soJnZzcDEtPmRybS0+bG9jayk7Cj4gPiArCj4gPiArCXJldHVybiByZXQ7Cj4g
PiArfQo+ID4gKwo+ID4gKy8qKgo+ID4gKyAqIHZzcDFfZHVfYXRvbWljX2VuYWJsZSAtIEVuYWJs
ZSBhbmQgc3RhcnQgYSBEVSBwaXBlbGluZQo+ID4gKyAqIEBkZXY6IHRoZSBWU1AgZGV2aWNlCj4g
PiArICogQHBpcGVfaW5kZXg6IHRoZSBEUk0gcGlwZWxpbmUgaW5kZXgKPiA+ICsgKiBAY2ZnOiB0
aGUgZW5hYmxlbWVudCBjb25maWd1cmF0aW9uCj4gPiArICoKPiA+ICsgKiBUaGUgQHBpcGVfaW5k
ZXggYXJndW1lbnQgc2VsZWN0cyB3aGljaCBEUk0gcGlwZWxpbmUgdG8gZW5hYmxlLiBUaGUgbnVt
YmVyIG9mCj4gPiArICogYXZhaWxhYmxlIHBpcGVsaW5lcyBkZXBlbmQgb24gdGhlIFZTUCBpbnN0
YW5jZS4KPiAKPiAiZGVwZW5kcyIuCj4gCj4gPiArICoKPiA+ICsgKiBUaGUgY29uZmlndXJhdGlv
biBwYXNzZXMgYSBjYWxsYmFjayBmdW5jdGlvbiB0byByZWdpc3RlciBub3RpZmljYXRpb24gb2YK
PiA+ICsgKiBmcmFtZSBjb21wbGV0aW9uIGV2ZW50cy4KPiA+ICsgKgo+ID4gKyAqIFJldHVybiAw
IG9uIHN1Y2Nlc3Mgb3IgYSBuZWdhdGl2ZSBlcnJvciBjb2RlIG9uIGZhaWx1cmUuCj4gPiArICov
Cj4gPiAraW50IHZzcDFfZHVfYXRvbWljX2VuYWJsZShzdHJ1Y3QgZGV2aWNlICpkZXYsIHVuc2ln
bmVkIGludCBwaXBlX2luZGV4LAo+ID4gKwkJCSAgY29uc3Qgc3RydWN0IHZzcDFfZHVfZW5hYmxl
X2NvbmZpZyAqY2ZnKQo+ID4gK3sKPiA+ICsJc3RydWN0IHZzcDFfZGV2aWNlICp2c3AxID0gZGV2
X2dldF9kcnZkYXRhKGRldik7Cj4gPiArCXN0cnVjdCB2c3AxX2RybV9waXBlbGluZSAqZHJtX3Bp
cGU7Cj4gPiArCXN0cnVjdCB2c3AxX3BpcGVsaW5lICpwaXBlOwo+ID4gKwl1bnNpZ25lZCBsb25n
IGZsYWdzOwo+ID4gKwlpbnQgcmV0Owo+ID4gKwo+ID4gKwlpZiAocGlwZV9pbmRleCA+PSB2c3Ax
LT5pbmZvLT5saWZfY291bnQpCj4gPiArCQlyZXR1cm4gLUVJTlZBTDsKPiA+ICsKPiA+ICsJZHJt
X3BpcGUgPSAmdnNwMS0+ZHJtLT5waXBlW3BpcGVfaW5kZXhdOwo+ID4gKwlwaXBlID0gJmRybV9w
aXBlLT5waXBlOwo+ID4gKwo+ID4gKwltdXRleF9sb2NrKCZ2c3AxLT5kcm0tPmxvY2spOwo+ID4g
IAo+ID4gIAkvKiBFbmFibGUgdGhlIFZTUDEuICovCj4gPiAgCXJldCA9IHZzcDFfZGV2aWNlX2dl
dCh2c3AxKTsKPiA+IEBAIC03NTgsNiArNzM3LDEyMyBAQCBpbnQgdnNwMV9kdV9zZXR1cF9saWYo
c3RydWN0IGRldmljZSAqZGV2LCB1bnNpZ25lZCBpbnQgcGlwZV9pbmRleCwKPiA+ICAJZGV2X2Ri
Zyh2c3AxLT5kZXYsICIlczogcGlwZWxpbmUgZW5hYmxlZFxuIiwgX19mdW5jX18pOwo+ID4gIAo+
ID4gIAlyZXR1cm4gMDsKPiA+ICsKPiA+ICt9Cj4gPiArRVhQT1JUX1NZTUJPTF9HUEwodnNwMV9k
dV9hdG9taWNfZW5hYmxlKTsKPiA+ICsKPiA+ICsvKioKPiA+ICsgKiB2c3AxX2R1X2F0b21pY19k
aXNhYmxlIC0gRGlzYWJsZSBhbmQgc3RvcCBhIERVIHBpcGVsaW5lCj4gPiArICogQGRldjogdGhl
IFZTUCBkZXZpY2UKPiA+ICsgKiBAcGlwZV9pbmRleDogdGhlIERSTSBwaXBlbGluZSBpbmRleAo+
ID4gKyAqCj4gPiArICogVGhlIEBwaXBlX2luZGV4IGFyZ3VtZW50IHNlbGVjdHMgd2hpY2ggRFJN
IHBpcGVsaW5lIHRvIGRpc2FibGUuIFRoZSBudW1iZXIKPiA+ICsgKiBvZiBhdmFpbGFibGUgcGlw
ZWxpbmVzIGRlcGVuZCBvbiB0aGUgVlNQIGluc3RhbmNlLgo+ID4gKyAqCj4gPiArICogUmV0dXJu
IDAgb24gc3VjY2VzcyBvciBhIG5lZ2F0aXZlIGVycm9yIGNvZGUgb24gZmFpbHVyZS4KPiA+ICsg
Ki8KPiA+ICtpbnQgdnNwMV9kdV9hdG9taWNfZGlzYWJsZShzdHJ1Y3QgZGV2aWNlICpkZXYsIHVu
c2lnbmVkIGludCBwaXBlX2luZGV4KQo+ID4gK3sKPiA+ICsJc3RydWN0IHZzcDFfZGV2aWNlICp2
c3AxID0gZGV2X2dldF9kcnZkYXRhKGRldik7Cj4gPiArCXN0cnVjdCB2c3AxX2RybV9waXBlbGlu
ZSAqZHJtX3BpcGU7Cj4gPiArCXN0cnVjdCB2c3AxX3BpcGVsaW5lICpwaXBlOwo+ID4gKwlzdHJ1
Y3QgdnNwMV9icnggKmJyeDsKPiA+ICsJdW5zaWduZWQgaW50IGk7Cj4gPiArCWludCByZXQ7Cj4g
PiArCj4gPiArCWlmIChwaXBlX2luZGV4ID49IHZzcDEtPmluZm8tPmxpZl9jb3VudCkKPiA+ICsJ
CXJldHVybiAtRUlOVkFMOwo+ID4gKwo+ID4gKwlkcm1fcGlwZSA9ICZ2c3AxLT5kcm0tPnBpcGVb
cGlwZV9pbmRleF07Cj4gPiArCXBpcGUgPSAmZHJtX3BpcGUtPnBpcGU7Cj4gPiArCj4gPiArCW11
dGV4X2xvY2soJnZzcDEtPmRybS0+bG9jayk7Cj4gPiArCj4gPiArCWJyeCA9IHRvX2JyeCgmcGlw
ZS0+YnJ4LT5zdWJkZXYpOwo+ID4gKwo+ID4gKwkvKiBTdG9wIHRoZSBwaXBlbGluZSBhbmQgdHVy
biB0aGUgbGlnaHQgb2ZmLiAqLwo+IAo+IEkgbWF5IGhhdmUgbWlzc2VkIHNvbWV0aGluZywgYnV0
IGl0IGlzIG5vdCBjbGVhciB0byBtZSB3aGF0ICJsaWdodCIgcmVmZXJzIHRvIGhlcmUuCgpJdCdz
IGEgbWV0YXBob3IsIG1lYW5pbmcgZGlzYWJsZSBldmVyeXRoaW5nIDotKQoKPiA+ICsJcmV0ID0g
dnNwMV9waXBlbGluZV9zdG9wKHBpcGUpOwo+ID4gKwlpZiAocmV0ID09IC1FVElNRURPVVQpCj4g
PiArCQlkZXZfZXJyKHZzcDEtPmRldiwgIkRSTSBwaXBlbGluZSBzdG9wIHRpbWVvdXRcbiIpOwo+
ID4gKwo+ID4gKwlmb3IgKGkgPSAwOyBpIDwgQVJSQVlfU0laRShwaXBlLT5pbnB1dHMpOyArK2kp
IHsKPiA+ICsJCXN0cnVjdCB2c3AxX3J3cGYgKnJwZiA9IHBpcGUtPmlucHV0c1tpXTsKPiA+ICsK
PiA+ICsJCWlmICghcnBmKQo+ID4gKwkJCWNvbnRpbnVlOwo+ID4gKwo+ID4gKwkJLyogUmVtb3Zl
IHRoZSBSUEYgZnJvbSB0aGUgcGlwZSBhbmQgdGhlIGxpc3Qgb2YgQlJ4IGlucHV0cy4gKi8KPiA+
ICsJCVdBUk5fT04oIXJwZi0+ZW50aXR5LnBpcGUpOwo+ID4gKwkJcnBmLT5lbnRpdHkucGlwZSA9
IE5VTEw7Cj4gPiArCQlsaXN0X2RlbCgmcnBmLT5lbnRpdHkubGlzdF9waXBlKTsKPiA+ICsJCXBp
cGUtPmlucHV0c1tpXSA9IE5VTEw7Cj4gPiArCj4gPiArCQlicngtPmlucHV0c1tycGYtPmJyeF9p
bnB1dF0ucnBmID0gTlVMTDsKPiA+ICsJfQo+ID4gKwo+ID4gKwlkcm1fcGlwZS0+ZHVfY29tcGxl
dGUgPSBOVUxMOwo+ID4gKwlwaXBlLT5udW1faW5wdXRzID0gMDsKPiA+ICsKPiA+ICsJZGV2X2Ri
Zyh2c3AxLT5kZXYsICIlczogcGlwZSAldTogcmVsZWFzaW5nICVzXG4iLCBfX2Z1bmNfXywKPiA+
ICsJCXBpcGUtPmxpZi0+aW5kZXgsIEJSWF9OQU1FKHBpcGUtPmJyeCkpOwo+ID4gKwo+ID4gKwls
aXN0X2RlbCgmcGlwZS0+YnJ4LT5saXN0X3BpcGUpOwo+ID4gKwlwaXBlLT5icngtPnBpcGUgPSBO
VUxMOwo+ID4gKwlwaXBlLT5icnggPSBOVUxMOwo+ID4gKwo+ID4gKwltdXRleF91bmxvY2soJnZz
cDEtPmRybS0+bG9jayk7Cj4gPiArCj4gPiArCXZzcDFfZGxtX3Jlc2V0KHBpcGUtPm91dHB1dC0+
ZGxtKTsKPiA+ICsJdnNwMV9kZXZpY2VfcHV0KHZzcDEpOwo+ID4gKwo+ID4gKwlkZXZfZGJnKHZz
cDEtPmRldiwgIiVzOiBwaXBlbGluZSBkaXNhYmxlZFxuIiwgX19mdW5jX18pOwo+ID4gKwo+ID4g
KwlyZXR1cm4gMDsKPiA+ICt9Cj4gPiArRVhQT1JUX1NZTUJPTF9HUEwodnNwMV9kdV9hdG9taWNf
ZGlzYWJsZSk7Cj4gPiArCj4gPiArLyoqCj4gPiArICogdnNwMV9kdV9zZXR1cF9saWYgLSBTZXR1
cCB0aGUgb3V0cHV0IHBhcnQgb2YgdGhlIFZTUCBwaXBlbGluZQo+ID4gKyAqIEBkZXY6IHRoZSBW
U1AgZGV2aWNlCj4gPiArICogQHBpcGVfaW5kZXg6IHRoZSBEUk0gcGlwZWxpbmUgaW5kZXgKPiA+
ICsgKiBAY2ZnOiB0aGUgTElGIGNvbmZpZ3VyYXRpb24KPiA+ICsgKgo+ID4gKyAqIENvbmZpZ3Vy
ZSB0aGUgb3V0cHV0IHBhcnQgb2YgVlNQIERSTSBwaXBlbGluZSBmb3IgdGhlIGdpdmVuIGZyYW1l
IEBjZmcud2lkdGgKPiA+ICsgKiBhbmQgQGNmZy5oZWlnaHQuIFRoaXMgc2V0cyB1cCBmb3JtYXRz
IG9uIHRoZSBCUnggc291cmNlIHBhZCwgdGhlIFdQRiBzaW5rIGFuZAo+ID4gKyAqIHNvdXJjZSBw
YWRzLCBhbmQgdGhlIExJRiBzaW5rIHBhZC4KPiA+ICsgKgo+ID4gKyAqIFRoZSBAcGlwZV9pbmRl
eCBhcmd1bWVudCBzZWxlY3RzIHdoaWNoIERSTSBwaXBlbGluZSB0byBzZXR1cC4gVGhlIG51bWJl
ciBvZgo+ID4gKyAqIGF2YWlsYWJsZSBwaXBlbGluZXMgZGVwZW5kIG9uIHRoZSBWU1AgaW5zdGFu
Y2UuCj4gPiArICoKPiA+ICsgKiBBcyB0aGUgbWVkaWEgYnVzIGNvZGUgb24gdGhlIGJsZW5kIHVu
aXQgc291cmNlIHBhZCBpcyBjb25kaXRpb25lZCBieSB0aGUKPiA+ICsgKiBjb25maWd1cmF0aW9u
IG9mIGl0cyBzaW5rIDAgcGFkLCB3ZSBhbHNvIHNldCB1cCB0aGUgZm9ybWF0cyBvbiBhbGwgYmxl
bmQgdW5pdAo+ID4gKyAqIHNpbmtzLCBldmVuIGlmIHRoZSBjb25maWd1cmF0aW9uIHdpbGwgYmUg
b3ZlcndyaXR0ZW4gbGF0ZXIgYnkKPiA+ICsgKiB2c3AxX2R1X3NldHVwX3JwZigpLiBUaGlzIGVu
c3VyZXMgdGhhdCB0aGUgYmxlbmQgdW5pdCBjb25maWd1cmF0aW9uIGlzIHNldCB0bwo+ID4gKyAq
IGEgd2VsbCBkZWZpbmVkIHN0YXRlLgo+ID4gKyAqCj4gPiArICogUmV0dXJuIDAgb24gc3VjY2Vz
cyBvciBhIG5lZ2F0aXZlIGVycm9yIGNvZGUgb24gZmFpbHVyZS4KPiA+ICsgKi8KPiA+ICtpbnQg
dnNwMV9kdV9zZXR1cF9saWYoc3RydWN0IGRldmljZSAqZGV2LCB1bnNpZ25lZCBpbnQgcGlwZV9p
bmRleCwKPiA+ICsJCSAgICAgIGNvbnN0IHN0cnVjdCB2c3AxX2R1X2xpZl9jb25maWcgKmNmZykK
PiA+ICt7Cj4gPiArCXN0cnVjdCB2c3AxX2R1X21vZGVzZXRfY29uZmlnIG1vZGVzOwo+ID4gKwlz
dHJ1Y3QgdnNwMV9kdV9lbmFibGVfY29uZmlnIGVuYWJsZTsKPiA+ICsJaW50IHJldDsKPiA+ICsK
PiA+ICsJaWYgKCFjZmcpCj4gPiArCQlyZXR1cm4gdnNwMV9kdV9hdG9taWNfZGlzYWJsZShkZXYs
IHBpcGVfaW5kZXgpOwo+ID4gKwo+ID4gKwltb2Rlcy53aWR0aCA9IGNmZy0+d2lkdGg7Cj4gPiAr
CW1vZGVzLmhlaWdodCA9IGNmZy0+aGVpZ2h0Owo+ID4gKwltb2Rlcy5pbnRlcmxhY2VkID0gY2Zn
LT5pbnRlcmxhY2VkOwo+ID4gKwo+ID4gKwlyZXQgPSB2c3AxX2R1X2F0b21pY19tb2Rlc2V0KGRl
diwgcGlwZV9pbmRleCwgJm1vZGVzKTsKPiA+ICsJaWYgKHJldCkKPiA+ICsJCXJldHVybiByZXQ7
Cj4gPiArCj4gPiArCWVuYWJsZS5jYWxsYmFjayA9IGNmZy0+Y2FsbGJhY2s7Cj4gPiArCWVuYWJs
ZS5jYWxsYmFja19kYXRhID0gY2ZnLT5jYWxsYmFja19kYXRhOwo+ID4gKwo+ID4gKwlyZXR1cm4g
dnNwMV9kdV9hdG9taWNfZW5hYmxlKGRldiwgcGlwZV9pbmRleCwgJmVuYWJsZSk7Cj4gPiAgfQo+
ID4gIEVYUE9SVF9TWU1CT0xfR1BMKHZzcDFfZHVfc2V0dXBfbGlmKTsKPiA+ICAKPiA+IGRpZmYg
LS1naXQgYS9pbmNsdWRlL21lZGlhL3ZzcDEuaCBiL2luY2x1ZGUvbWVkaWEvdnNwMS5oCj4gPiBp
bmRleCBjYzFiMGQ0MmNlOTUuLjU2NjQzZjk3ZDRjOSAxMDA2NDQKPiA+IC0tLSBhL2luY2x1ZGUv
bWVkaWEvdnNwMS5oCj4gPiArKysgYi9pbmNsdWRlL21lZGlhL3ZzcDEuaAo+ID4gQEAgLTIxLDcg
KzIxLDcgQEAgaW50IHZzcDFfZHVfaW5pdChzdHJ1Y3QgZGV2aWNlICpkZXYpOwo+ID4gICNkZWZp
bmUgVlNQMV9EVV9TVEFUVVNfV1JJVEVCQUNLCUJJVCgxKQo+ID4gIAo+ID4gIC8qKgo+ID4gLSAq
IHN0cnVjdCB2c3AxX2R1X2xpZl9jb25maWcgLSBWU1AgTElGIGNvbmZpZ3VyYXRpb24KPiA+ICsg
KiBzdHJ1Y3QgdnNwMV9kdV9saWZfY29uZmlnIC0gVlNQIExJRiBjb25maWd1cmF0aW9uIC0gRGVw
cmVjYXRlZAo+ID4gICAqIEB3aWR0aDogb3V0cHV0IGZyYW1lIHdpZHRoCj4gPiAgICogQGhlaWdo
dDogb3V0cHV0IGZyYW1lIGhlaWdodAo+ID4gICAqIEBpbnRlcmxhY2VkOiB0cnVlIGZvciBpbnRl
cmxhY2VkIHBpcGVsaW5lcwo+ID4gQEAgLTQyLDYgKzQyLDMwIEBAIHN0cnVjdCB2c3AxX2R1X2xp
Zl9jb25maWcgewo+ID4gIGludCB2c3AxX2R1X3NldHVwX2xpZihzdHJ1Y3QgZGV2aWNlICpkZXYs
IHVuc2lnbmVkIGludCBwaXBlX2luZGV4LAo+ID4gIAkJICAgICAgY29uc3Qgc3RydWN0IHZzcDFf
ZHVfbGlmX2NvbmZpZyAqY2ZnKTsKPiA+ICAKPiA+ICsvKioKPiA+ICsgKiBzdHJ1Y3QgdnNwMV9k
dV9tb2Rlc2V0X2NvbmZpZyAtIFZTUCBkaXNwbGF5IG1vZGUgY29uZmlndXJhdGlvbgo+ID4gKyAq
IEB3aWR0aDogb3V0cHV0IGZyYW1lIHdpZHRoCj4gPiArICogQGhlaWdodDogb3V0cHV0IGZyYW1l
IGhlaWdodAo+ID4gKyAqIEBpbnRlcmxhY2VkOiB0cnVlIGZvciBpbnRlcmxhY2VkIHBpcGVsaW5l
cwo+ID4gKyAqLwo+ID4gK3N0cnVjdCB2c3AxX2R1X21vZGVzZXRfY29uZmlnIHsKPiA+ICsJdW5z
aWduZWQgaW50IHdpZHRoOwo+ID4gKwl1bnNpZ25lZCBpbnQgaGVpZ2h0Owo+ID4gKwlib29sIGlu
dGVybGFjZWQ7Cj4gPiArfTsKPiA+ICsKPiA+ICsvKioKPiA+ICsgKiBzdHJ1Y3QgdnNwMV9kdV9l
bmFibGVfY29uZmlnIC0gVlNQIGVuYWJsZSBjb25maWd1cmF0aW9uCj4gPiArICogQGNhbGxiYWNr
OiBmcmFtZSBjb21wbGV0aW9uIGNhbGxiYWNrIGZ1bmN0aW9uIChvcHRpb25hbCkuIFdoZW4gYSBj
YWxsYmFjawo+ID4gKyAqCSAgICAgIGlzIHByb3ZpZGVkLCB0aGUgVlNQIGRyaXZlciBndWFyYW50
ZWVzIHRoYXQgaXQgd2lsbCBiZSBjYWxsZWQgb25jZQo+ID4gKyAqCSAgICAgIGFuZCBvbmx5IG9u
Y2UgZm9yIGVhY2ggdnNwMV9kdV9hdG9taWNfZmx1c2goKSBjYWxsLgo+ID4gKyAqIEBjYWxsYmFj
a19kYXRhOiBkYXRhIHRvIGJlIHBhc3NlZCB0byB0aGUgZnJhbWUgY29tcGxldGlvbiBjYWxsYmFj
awo+ID4gKyAqLwo+ID4gK3N0cnVjdCB2c3AxX2R1X2VuYWJsZV9jb25maWcgewo+ID4gKwl2b2lk
ICgqY2FsbGJhY2spKHZvaWQgKmRhdGEsIHVuc2lnbmVkIGludCBzdGF0dXMsIHUzMiBjcmMpOwo+
ID4gKwl2b2lkICpjYWxsYmFja19kYXRhOwo+ID4gK307Cj4gPiArCj4gPiAgLyoqCj4gPiAgICog
c3RydWN0IHZzcDFfZHVfYXRvbWljX2NvbmZpZyAtIFZTUCBhdG9taWMgY29uZmlndXJhdGlvbiBw
YXJhbWV0ZXJzCj4gPiAgICogQHBpeGVsZm9ybWF0OiBwbGFuZSBwaXhlbCBmb3JtYXQgKFY0TDIg
NENDKQo+ID4gQEAgLTEwNiw2ICsxMzAsMTIgQEAgc3RydWN0IHZzcDFfZHVfYXRvbWljX3BpcGVf
Y29uZmlnIHsKPiA+ICAJc3RydWN0IHZzcDFfZHVfd3JpdGViYWNrX2NvbmZpZyB3cml0ZWJhY2s7
Cj4gPiAgfTsKPiA+ICAKPiA+ICsKPiA+ICtpbnQgdnNwMV9kdV9hdG9taWNfbW9kZXNldChzdHJ1
Y3QgZGV2aWNlICpkZXYsIHVuc2lnbmVkIGludCBwaXBlX2luZGV4LAo+ID4gKwkJICAgIGNvbnN0
IHN0cnVjdCB2c3AxX2R1X21vZGVzZXRfY29uZmlnICpjZmcpOwo+ID4gK2ludCB2c3AxX2R1X2F0
b21pY19lbmFibGUoc3RydWN0IGRldmljZSAqZGV2LCB1bnNpZ25lZCBpbnQgcGlwZV9pbmRleCwK
PiA+ICsJCSAgIGNvbnN0IHN0cnVjdCB2c3AxX2R1X2VuYWJsZV9jb25maWcgKmNmZyk7Cj4gPiAr
aW50IHZzcDFfZHVfYXRvbWljX2Rpc2FibGUoc3RydWN0IGRldmljZSAqZGV2LCB1bnNpZ25lZCBp
bnQgcGlwZV9pbmRleCk7Cj4gPiAgdm9pZCB2c3AxX2R1X2F0b21pY19iZWdpbihzdHJ1Y3QgZGV2
aWNlICpkZXYsIHVuc2lnbmVkIGludCBwaXBlX2luZGV4KTsKPiA+ICBpbnQgdnNwMV9kdV9hdG9t
aWNfdXBkYXRlKHN0cnVjdCBkZXZpY2UgKmRldiwgdW5zaWduZWQgaW50IHBpcGVfaW5kZXgsCj4g
PiAgCQkJICB1bnNpZ25lZCBpbnQgcnBmLAo+IAo+IFdpdGggdGhvc2UgbWlub3IgaXNzdWVzIGZp
eGVkOgo+IAo+IFJldmlld2VkLWJ5OiBVbHJpY2ggSGVjaHQgPHVsaStyZW5lc2FzQGZwb25kLmV1
PgoKLS0gClJlZ2FyZHMsCgpMYXVyZW50IFBpbmNoYXJ0Cl9fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVs
QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWls
bWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
