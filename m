Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 8813056F09
	for <lists+dri-devel@lfdr.de>; Wed, 26 Jun 2019 18:44:53 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 05E8D6E4A0;
	Wed, 26 Jun 2019 16:44:51 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ed1-x543.google.com (mail-ed1-x543.google.com
 [IPv6:2a00:1450:4864:20::543])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 971F06E4A0
 for <dri-devel@lists.freedesktop.org>; Wed, 26 Jun 2019 16:44:48 +0000 (UTC)
Received: by mail-ed1-x543.google.com with SMTP id r12so4226926edo.5
 for <dri-devel@lists.freedesktop.org>; Wed, 26 Jun 2019 09:44:48 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:sender:date:from:to:cc:subject:message-id
 :references:mime-version:content-disposition:in-reply-to:user-agent;
 bh=oselr/m9/Hr9+JHt7Arm6QQl9sjyCVJ1rC0IMcg5BPE=;
 b=ooQGRt/x9pgsc4vycNQ7rFIqJlu0YC09Vq7NL1sBjihSyjPT1hA5p91XYfbgVWiHnt
 +o3v8/US49m/A8NskE2zvZv2lxXHBEEmaejYOZQkOhcNG06v74sceDd66dzEUDHT39if
 fnNGmXi1qMHH5hdvaYfGgq7NoBpxQ5K4EOUt8j5Ht378Bw8Aypft/IA7h8NhWF8ag8Px
 3mFDz37qNlFFZzacBjv+A3mS7CLamY0jz1wPVvWHC1+DfuwJecanuR2e+oW47NQHr3Zv
 og4wCC2poJGrjtd/cKzRaXTJzLhMTCe/63sLi3Pykq0V9YUUjm+7BEFLh/LVFKtVv7rA
 DITA==
X-Gm-Message-State: APjAAAUlU9EUetpy9Tat2qKjrWOnfJlj6F0EG7I0uOclt0Lgzkh835GZ
 6IL/NZ9MzeZWYEjlEkYjZwHB6Q==
X-Google-Smtp-Source: APXvYqzftAq+Swr9G4SiESjI5/0fCVjo3NAsNB3MzQFX+QBB4Q8XwSJP976qbep4Gws1n7OXjeK1tQ==
X-Received: by 2002:a17:906:1953:: with SMTP id
 b19mr4949984eje.309.1561567487243; 
 Wed, 26 Jun 2019 09:44:47 -0700 (PDT)
Received: from phenom.ffwll.local ([2a02:168:569e:0:3106:d637:d723:e855])
 by smtp.gmail.com with ESMTPSA id j30sm5803242edb.8.2019.06.26.09.44.45
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Wed, 26 Jun 2019 09:44:46 -0700 (PDT)
Date: Wed, 26 Jun 2019 18:44:44 +0200
From: Daniel Vetter <daniel@ffwll.ch>
To: Kenny Ho <Kenny.Ho@amd.com>
Subject: Re: [RFC PATCH v3 11/11] drm, cgroup: Allow more aggressive memory
 reclaim
Message-ID: <20190626164444.GX12905@phenom.ffwll.local>
References: <20190626150522.11618-1-Kenny.Ho@amd.com>
 <20190626150522.11618-12-Kenny.Ho@amd.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190626150522.11618-12-Kenny.Ho@amd.com>
X-Operating-System: Linux phenom 4.19.0-5-amd64 
User-Agent: Mutt/1.10.1 (2018-07-13)
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=sender:date:from:to:cc:subject:message-id:references:mime-version
 :content-disposition:in-reply-to:user-agent;
 bh=oselr/m9/Hr9+JHt7Arm6QQl9sjyCVJ1rC0IMcg5BPE=;
 b=clKAKTua6QkxD6qqZp04/CEGb2tdY1HTGdrxWHox6zSXhiwzZmQ5vYGYOT1X0uplJH
 tY5fntPval8PTYEMxuzfsigEquFbFQz8fxNARWRye04EZcE8xzuj+6jQx+YYeSTxsXJH
 TPAiQkQDwEG9VSRZAsVk/0abjppeVscqmeucQ=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: jsparks@cray.com, amd-gfx@lists.freedesktop.org, lkaplan@cray.com,
 alexander.deucher@amd.com, y2kenny@gmail.com, dri-devel@lists.freedesktop.org,
 joseph.greathouse@amd.com, tj@kernel.org, cgroups@vger.kernel.org,
 christian.koenig@amd.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gV2VkLCBKdW4gMjYsIDIwMTkgYXQgMTE6MDU6MjJBTSAtMDQwMCwgS2VubnkgSG8gd3JvdGU6
Cj4gQWxsb3cgRFJNIFRUTSBtZW1vcnkgbWFuYWdlciB0byByZWdpc3RlciBhIHdvcmtfc3RydWN0
LCBzdWNoIHRoYXQsIHdoZW4KPiBhIGRybWNncnAgaXMgdW5kZXIgbWVtb3J5IHByZXNzdXJlLCBt
ZW1vcnkgcmVjbGFpbWluZyBjYW4gYmUgdHJpZ2dlcmVkCj4gaW1tZWRpYXRlbHkuCj4gCj4gQ2hh
bmdlLUlkOiBJMjVhYzA0ZTJkYjljMTlmZjEyNjUyYjg4ZWJmZjE4YjQ0YjI3MDZkOAo+IFNpZ25l
ZC1vZmYtYnk6IEtlbm55IEhvIDxLZW5ueS5Ib0BhbWQuY29tPgo+IC0tLQo+ICBkcml2ZXJzL2dw
dS9kcm0vdHRtL3R0bV9iby5jICAgIHwgNDcgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysrCj4gIGluY2x1ZGUvZHJtL2RybV9jZ3JvdXAuaCAgICAgICAgfCAxNCArKysrKysrKysrCj4g
IGluY2x1ZGUvZHJtL3R0bS90dG1fYm9fZHJpdmVyLmggfCAgMiArKwo+ICBrZXJuZWwvY2dyb3Vw
L2RybS5jICAgICAgICAgICAgIHwgMzMgKysrKysrKysrKysrKysrKysrKysrKysKPiAgNCBmaWxl
cyBjaGFuZ2VkLCA5NiBpbnNlcnRpb25zKCspCj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS90dG0vdHRtX2JvLmMgYi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9iby5jCj4gaW5kZXgg
NzljNTMwZjRhMTk4Li41ZmMzYmM1YmQ0YzUgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L3R0bS90dG1fYm8uYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2JvLmMKPiBAQCAt
MTUwOSw2ICsxNTA5LDQ0IEBAIGludCB0dG1fYm9fZXZpY3RfbW0oc3RydWN0IHR0bV9ib19kZXZp
Y2UgKmJkZXYsIHVuc2lnbmVkIG1lbV90eXBlKQo+ICB9Cj4gIEVYUE9SVF9TWU1CT0wodHRtX2Jv
X2V2aWN0X21tKTsKPiAgCj4gK3N0YXRpYyB2b2lkIHR0bV9ib19yZWNsYWltX3dxKHN0cnVjdCB3
b3JrX3N0cnVjdCAqd29yaykKPiArewoKSSB0aGluayBhIGRlc2lnbiBhIGJpdCBtb3JlIGluc3Bp
cmVkIGJ5IG1lbWNnIGF3YXJlIGNvcmUgc2hyaW5rZXJzIHdvdWxkCmJlIG5pY2UsIGkuZS4gZXhw
bGljaXRseSBwYXNzaW5nOgotIHdoaWNoIGRybV9jZ3JvdXAgbmVlZHMgdG8gYmUgc2hydW5rCi0g
d2hpY2ggdHRtX21lbV9yZWcgKHdlbGwgdGhlIGZhbmN5IG5ldyBhYnN0cmFjdGVkIG91dCBzdHVm
ZiBmb3IgdHJhY2tpbmcKICBzcGVjaWFsIGdwdSBtZW1vcnkgcmVzb3VyY2VzIGxpa2UgdHQgb3Ig
dnJhbSBvciB3aGF0ZXZlcikKLSBob3cgbXVjaCBpdCBuZWVkcyB0byBiZSBzaHJ1bmsKCkkgdGhp
bmsgd2l0aCB0aGF0IGEgbG90IG1vcmUgdGhlIGJvb2sta2VlcGluZyBjb3VsZCBiZSBwdXNoZWQg
aW50byB0aGUKZHJtX2Nncm91cCBjb2RlLCBhbmQgdGhlIGNhbGxiYWNrIGp1c3QgbmVlZHMgdG8g
YWN0dWFsbHkgc2hyaW5rIGVub3VnaCBhcwpyZXF1ZXN0ZWQuCi1EYW5pZWwKCj4gKwlzdHJ1Y3Qg
dHRtX29wZXJhdGlvbl9jdHggY3R4ID0gewo+ICsJCS5pbnRlcnJ1cHRpYmxlID0gZmFsc2UsCj4g
KwkJLm5vX3dhaXRfZ3B1ID0gZmFsc2UsCj4gKwkJLmZsYWdzID0gVFRNX09QVF9GTEFHX0ZPUkNF
X0FMTE9DCj4gKwl9Owo+ICsJc3RydWN0IHR0bV9tZW1fdHlwZV9tYW5hZ2VyICptYW4gPQo+ICsJ
ICAgIGNvbnRhaW5lcl9vZih3b3JrLCBzdHJ1Y3QgdHRtX21lbV90eXBlX21hbmFnZXIsIHJlY2xh
aW1fd3EpOwo+ICsJc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYgPSBtYW4tPmJkZXY7Cj4gKwlz
dHJ1Y3QgZG1hX2ZlbmNlICpmZW5jZTsKPiArCWludCBtZW1fdHlwZTsKPiArCWludCByZXQ7Cj4g
Kwo+ICsJZm9yIChtZW1fdHlwZSA9IDA7IG1lbV90eXBlIDwgVFRNX05VTV9NRU1fVFlQRVM7IG1l
bV90eXBlKyspCj4gKwkJaWYgKCZiZGV2LT5tYW5bbWVtX3R5cGVdID09IG1hbikKPiArCQkJYnJl
YWs7Cj4gKwo+ICsJQlVHX09OKG1lbV90eXBlID49IFRUTV9OVU1fTUVNX1RZUEVTKTsKPiArCj4g
KwlpZiAoIWRybWNncnBfbWVtX3ByZXNzdXJlX3NjYW4oYmRldiwgbWVtX3R5cGUpKQo+ICsJCXJl
dHVybjsKPiArCj4gKwlyZXQgPSB0dG1fbWVtX2V2aWN0X2ZpcnN0KGJkZXYsIG1lbV90eXBlLCBO
VUxMLCAmY3R4KTsKPiArCWlmIChyZXQpCj4gKwkJcmV0dXJuOwo+ICsKPiArCXNwaW5fbG9jaygm
bWFuLT5tb3ZlX2xvY2spOwo+ICsJZmVuY2UgPSBkbWFfZmVuY2VfZ2V0KG1hbi0+bW92ZSk7Cj4g
KwlzcGluX3VubG9jaygmbWFuLT5tb3ZlX2xvY2spOwo+ICsKPiArCWlmIChmZW5jZSkgewo+ICsJ
CXJldCA9IGRtYV9mZW5jZV93YWl0KGZlbmNlLCBmYWxzZSk7Cj4gKwkJZG1hX2ZlbmNlX3B1dChm
ZW5jZSk7Cj4gKwl9Cj4gKwo+ICt9Cj4gKwo+ICBpbnQgdHRtX2JvX2luaXRfbW0oc3RydWN0IHR0
bV9ib19kZXZpY2UgKmJkZXYsIHVuc2lnbmVkIHR5cGUsCj4gIAkJCXVuc2lnbmVkIGxvbmcgcF9z
aXplKQo+ICB7Cj4gQEAgLTE1NDMsNiArMTU4MSwxMyBAQCBpbnQgdHRtX2JvX2luaXRfbW0oc3Ry
dWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHVuc2lnbmVkIHR5cGUsCj4gIAkJSU5JVF9MSVNUX0hF
QUQoJm1hbi0+bHJ1W2ldKTsKPiAgCW1hbi0+bW92ZSA9IE5VTEw7Cj4gIAo+ICsJcHJfZXJyKCJk
cm1jZ3JwICVwIHR5cGUgJWRcbiIsIGJkZXYtPmRkZXYsIHR5cGUpOwo+ICsKPiArCWlmICh0eXBl
IDw9IFRUTV9QTF9WUkFNKSB7Cj4gKwkJSU5JVF9XT1JLKCZtYW4tPnJlY2xhaW1fd3EsIHR0bV9i
b19yZWNsYWltX3dxKTsKPiArCQlkcm1jZ3JwX3JlZ2lzdGVyX2RldmljZV9tbShiZGV2LT5kZGV2
LCB0eXBlLCAmbWFuLT5yZWNsYWltX3dxKTsKPiArCX0KPiArCj4gIAlyZXR1cm4gMDsKPiAgfQo+
ICBFWFBPUlRfU1lNQk9MKHR0bV9ib19pbml0X21tKTsKPiBAQCAtMTYyMCw2ICsxNjY1LDggQEAg
aW50IHR0bV9ib19kZXZpY2VfcmVsZWFzZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldikKPiAg
CQltYW4gPSAmYmRldi0+bWFuW2ldOwo+ICAJCWlmIChtYW4tPmhhc190eXBlKSB7Cj4gIAkJCW1h
bi0+dXNlX3R5cGUgPSBmYWxzZTsKPiArCQkJZHJtY2dycF91bnJlZ2lzdGVyX2RldmljZV9tbShi
ZGV2LT5kZGV2LCBpKTsKPiArCQkJY2FuY2VsX3dvcmtfc3luYygmbWFuLT5yZWNsYWltX3dxKTsK
PiAgCQkJaWYgKChpICE9IFRUTV9QTF9TWVNURU0pICYmIHR0bV9ib19jbGVhbl9tbShiZGV2LCBp
KSkgewo+ICAJCQkJcmV0ID0gLUVCVVNZOwo+ICAJCQkJcHJfZXJyKCJEUk0gbWVtb3J5IG1hbmFn
ZXIgdHlwZSAlZCBpcyBub3QgY2xlYW5cbiIsCj4gZGlmZiAtLWdpdCBhL2luY2x1ZGUvZHJtL2Ry
bV9jZ3JvdXAuaCBiL2luY2x1ZGUvZHJtL2RybV9jZ3JvdXAuaAo+IGluZGV4IDM2MGMxZTZjODA5
Zi4uMTM0ZDZlNTQ3NWYzIDEwMDY0NAo+IC0tLSBhL2luY2x1ZGUvZHJtL2RybV9jZ3JvdXAuaAo+
ICsrKyBiL2luY2x1ZGUvZHJtL2RybV9jZ3JvdXAuaAo+IEBAIC01LDYgKzUsNyBAQAo+ICAjZGVm
aW5lIF9fRFJNX0NHUk9VUF9IX18KPiAgCj4gICNpbmNsdWRlIDxsaW51eC9jZ3JvdXBfZHJtLmg+
Cj4gKyNpbmNsdWRlIDxsaW51eC93b3JrcXVldWUuaD4KPiAgI2luY2x1ZGUgPGRybS90dG0vdHRt
X2JvX2FwaS5oPgo+ICAjaW5jbHVkZSA8ZHJtL3R0bS90dG1fYm9fZHJpdmVyLmg+Cj4gIAo+IEBA
IC0xMiw2ICsxMyw5IEBACj4gIAo+ICBpbnQgZHJtY2dycF9yZWdpc3Rlcl9kZXZpY2Uoc3RydWN0
IGRybV9kZXZpY2UgKmRldmljZSk7Cj4gIGludCBkcm1jZ3JwX3VucmVnaXN0ZXJfZGV2aWNlKHN0
cnVjdCBkcm1fZGV2aWNlICpkZXZpY2UpOwo+ICt2b2lkIGRybWNncnBfcmVnaXN0ZXJfZGV2aWNl
X21tKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHVuc2lnbmVkIHR5cGUsCj4gKwkJc3RydWN0IHdv
cmtfc3RydWN0ICp3cSk7Cj4gK3ZvaWQgZHJtY2dycF91bnJlZ2lzdGVyX2RldmljZV9tbShzdHJ1
Y3QgZHJtX2RldmljZSAqZGV2LCB1bnNpZ25lZCB0eXBlKTsKPiAgYm9vbCBkcm1jZ3JwX2lzX3Nl
bGZfb3JfYW5jZXN0b3Ioc3RydWN0IGRybWNncnAgKnNlbGYsCj4gIAkJc3RydWN0IGRybWNncnAg
KnJlbGF0aXZlKTsKPiAgdm9pZCBkcm1jZ3JwX2NoZ19ib19hbGxvYyhzdHJ1Y3QgZHJtY2dycCAq
ZHJtY2dycCwgc3RydWN0IGRybV9kZXZpY2UgKmRldiwKPiBAQCAtNDAsNiArNDQsMTYgQEAgc3Rh
dGljIGlubGluZSBpbnQgZHJtY2dycF91bnJlZ2lzdGVyX2RldmljZShzdHJ1Y3QgZHJtX2Rldmlj
ZSAqZGV2aWNlKQo+ICAJcmV0dXJuIDA7Cj4gIH0KPiAgCj4gK3N0YXRpYyBpbmxpbmUgdm9pZCBk
cm1jZ3JwX3JlZ2lzdGVyX2RldmljZV9tbShzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LAo+ICsJCXVu
c2lnbmVkIHR5cGUsIHN0cnVjdCB3b3JrX3N0cnVjdCAqd3EpCj4gK3sKPiArfQo+ICsKPiArc3Rh
dGljIGlubGluZSB2b2lkIGRybWNncnBfdW5yZWdpc3Rlcl9kZXZpY2VfbW0oc3RydWN0IGRybV9k
ZXZpY2UgKmRldiwKPiArCQl1bnNpZ25lZCB0eXBlKQo+ICt7Cj4gK30KPiArCj4gIHN0YXRpYyBp
bmxpbmUgYm9vbCBkcm1jZ3JwX2lzX3NlbGZfb3JfYW5jZXN0b3Ioc3RydWN0IGRybWNncnAgKnNl
bGYsCj4gIAkJc3RydWN0IGRybWNncnAgKnJlbGF0aXZlKQo+ICB7Cj4gZGlmZiAtLWdpdCBhL2lu
Y2x1ZGUvZHJtL3R0bS90dG1fYm9fZHJpdmVyLmggYi9pbmNsdWRlL2RybS90dG0vdHRtX2JvX2Ry
aXZlci5oCj4gaW5kZXggNGNiY2I0MWU1YWE5Li4wOTU2Y2E3ODg4ZmMgMTAwNjQ0Cj4gLS0tIGEv
aW5jbHVkZS9kcm0vdHRtL3R0bV9ib19kcml2ZXIuaAo+ICsrKyBiL2luY2x1ZGUvZHJtL3R0bS90
dG1fYm9fZHJpdmVyLmgKPiBAQCAtMjA1LDYgKzIwNSw4IEBAIHN0cnVjdCB0dG1fbWVtX3R5cGVf
bWFuYWdlciB7Cj4gIAkgKiBQcm90ZWN0ZWQgYnkgQG1vdmVfbG9jay4KPiAgCSAqLwo+ICAJc3Ry
dWN0IGRtYV9mZW5jZSAqbW92ZTsKPiArCj4gKwlzdHJ1Y3Qgd29ya19zdHJ1Y3QgcmVjbGFpbV93
cTsKPiAgfTsKPiAgCj4gIC8qKgo+IGRpZmYgLS1naXQgYS9rZXJuZWwvY2dyb3VwL2RybS5jIGIv
a2VybmVsL2Nncm91cC9kcm0uYwo+IGluZGV4IDFjZTEzZGIzNmNlOS4uOTg1YTg5ZTg0OWQzIDEw
MDY0NAo+IC0tLSBhL2tlcm5lbC9jZ3JvdXAvZHJtLmMKPiArKysgYi9rZXJuZWwvY2dyb3VwL2Ry
bS5jCj4gQEAgLTMxLDYgKzMxLDggQEAgc3RydWN0IGRybWNncnBfZGV2aWNlIHsKPiAgCXM2NAkJ
CW1lbV9id19hdmdfYnl0ZXNfcGVyX3VzX2RlZmF1bHQ7Cj4gIAo+ICAJczY0CQkJbWVtX2hpZ2hz
X2RlZmF1bHRbVFRNX1BMX1BSSVYrMV07Cj4gKwo+ICsJc3RydWN0IHdvcmtfc3RydWN0CSptZW1f
cmVjbGFpbV93cVtUVE1fUExfUFJJVl07Cj4gIH07Cj4gIAo+ICAjZGVmaW5lIERSTUNHX0NURl9Q
UklWX1NJWkUgMwo+IEBAIC03OTMsNiArNzk1LDMxIEBAIGludCBkcm1jZ3JwX3VucmVnaXN0ZXJf
ZGV2aWNlKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYpCj4gIH0KPiAgRVhQT1JUX1NZTUJPTChkcm1j
Z3JwX3VucmVnaXN0ZXJfZGV2aWNlKTsKPiAgCj4gK3ZvaWQgZHJtY2dycF9yZWdpc3Rlcl9kZXZp
Y2VfbW0oc3RydWN0IGRybV9kZXZpY2UgKmRldiwgdW5zaWduZWQgdHlwZSwKPiArCQlzdHJ1Y3Qg
d29ya19zdHJ1Y3QgKndxKQo+ICt7Cj4gKwlpZiAoZGV2ID09IE5VTEwgfHwgZGV2LT5wcmltYXJ5
LT5pbmRleCA+IG1heF9taW5vcgo+ICsJCQl8fCB0eXBlID49IFRUTV9QTF9QUklWKQo+ICsJCXJl
dHVybjsKPiArCj4gKwltdXRleF9sb2NrKCZkcm1jZ3JwX211dGV4KTsKPiArCWtub3duX2RybWNn
cnBfZGV2c1tkZXYtPnByaW1hcnktPmluZGV4XS0+bWVtX3JlY2xhaW1fd3FbdHlwZV0gPSB3cTsK
PiArCW11dGV4X3VubG9jaygmZHJtY2dycF9tdXRleCk7Cj4gK30KPiArRVhQT1JUX1NZTUJPTChk
cm1jZ3JwX3JlZ2lzdGVyX2RldmljZV9tbSk7Cj4gKwo+ICt2b2lkIGRybWNncnBfdW5yZWdpc3Rl
cl9kZXZpY2VfbW0oc3RydWN0IGRybV9kZXZpY2UgKmRldiwgdW5zaWduZWQgdHlwZSkKPiArewo+
ICsJaWYgKGRldiA9PSBOVUxMIHx8IGRldi0+cHJpbWFyeS0+aW5kZXggPiBtYXhfbWlub3IKPiAr
CQkJfHwgdHlwZSA+PSBUVE1fUExfUFJJVikKPiArCQlyZXR1cm47Cj4gKwo+ICsJbXV0ZXhfbG9j
aygmZHJtY2dycF9tdXRleCk7Cj4gKwlrbm93bl9kcm1jZ3JwX2RldnNbZGV2LT5wcmltYXJ5LT5p
bmRleF0tPm1lbV9yZWNsYWltX3dxW3R5cGVdID0gTlVMTDsKPiArCW11dGV4X3VubG9jaygmZHJt
Y2dycF9tdXRleCk7Cj4gK30KPiArRVhQT1JUX1NZTUJPTChkcm1jZ3JwX3VucmVnaXN0ZXJfZGV2
aWNlX21tKTsKPiArCj4gIGJvb2wgZHJtY2dycF9pc19zZWxmX29yX2FuY2VzdG9yKHN0cnVjdCBk
cm1jZ3JwICpzZWxmLCBzdHJ1Y3QgZHJtY2dycCAqcmVsYXRpdmUpCj4gIHsKPiAgCWZvciAoOyBz
ZWxmICE9IE5VTEw7IHNlbGYgPSBwYXJlbnRfZHJtY2dycChzZWxmKSkKPiBAQCAtMTAwNCw2ICsx
MDMxLDEyIEBAIHZvaWQgZHJtY2dycF9tZW1fdHJhY2tfbW92ZShzdHJ1Y3QgdHRtX2J1ZmZlcl9v
YmplY3QgKm9sZF9ibywgYm9vbCBldmljdCwKPiAgCj4gIAkJZGRyLT5tZW1fYndfc3RhdHNbRFJN
Q0dSUF9NRU1fQldfQVRUUl9CWVRFX0NSRURJVF0KPiAgCQkJLT0gbW92ZV9pbl9ieXRlczsKPiAr
Cj4gKwkJaWYgKGtub3duX2Rldi0+bWVtX3JlY2xhaW1fd3FbbmV3X21lbV90eXBlXSAhPSBOVUxM
ICYmCj4gKyAgICAgICAgICAgICAgICAgICAgICAgIGRkci0+bWVtX3N0YXRzW25ld19tZW1fdHlw
ZV0gPgo+ICsJCQkJZGRyLT5tZW1faGlnaHNbbmV3X21lbV90eXBlXSkKPiArCQkJc2NoZWR1bGVf
d29yaygKPiArCQkJCWtub3duX2Rldi0+bWVtX3JlY2xhaW1fd3FbbmV3X21lbV90eXBlXSk7Cj4g
IAl9Cj4gIAltdXRleF91bmxvY2soJmtub3duX2Rldi0+bXV0ZXgpOwo+ICB9Cj4gLS0gCj4gMi4y
MS4wCj4gCj4gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18K
PiBkcmktZGV2ZWwgbWFpbGluZyBsaXN0Cj4gZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9y
Zwo+IGh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRl
dmVsCgotLSAKRGFuaWVsIFZldHRlcgpTb2Z0d2FyZSBFbmdpbmVlciwgSW50ZWwgQ29ycG9yYXRp
b24KaHR0cDovL2Jsb2cuZmZ3bGwuY2gKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGlu
Zm8vZHJpLWRldmVs
