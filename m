Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id D33CF2965D
	for <lists+dri-devel@lfdr.de>; Fri, 24 May 2019 12:53:41 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8595F6E0D6;
	Fri, 24 May 2019 10:53:39 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-pg1-x542.google.com (mail-pg1-x542.google.com
 [IPv6:2607:f8b0:4864:20::542])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 4B26D6E0D6
 for <dri-devel@lists.freedesktop.org>; Fri, 24 May 2019 10:53:38 +0000 (UTC)
Received: by mail-pg1-x542.google.com with SMTP id a3so4876486pgb.3
 for <dri-devel@lists.freedesktop.org>; Fri, 24 May 2019 03:53:38 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=Bq5JeR/itXRFWJkFBy/4tSREROqi+e79H6/1fNsKbVM=;
 b=UDE0475ceoiU/xXNAL10dj0JCsfyuLojqY0OyS911luxPErmT3i7i/2OECRMQoPjAl
 N0Yh72aZbCA7UhLoaSGIqx396JJVM2WmuwGRSqlcmM+AR4JkR5SG6qrhYb+Ec9NvqZ4x
 tc3MMQgu66dDywQj5ZQr7hshaNX64A0wvqtJU/6ieuEKV15QaUdO3DOM44Jze62hMnvH
 nCzXKTPfN7YqJnVvCgUb2QZq/rNnUEoRPZpR7ZB0rbR7rBuWCrO92gKyH8fQ/bZneRk6
 XH5VGnseYveIaHzx5kcI6MxjZ19KUmUVHS966H/xsWByDUbmTlL1oKVElt+1ezvYKKkk
 Kt9A==
X-Gm-Message-State: APjAAAXA7waX20qgL3HVVC7TmcOGmsesAR9QH/sQbQB6twaed5U98Pot
 HsBYvpGkkG/X8c6KWxmkah9LjQ==
X-Google-Smtp-Source: APXvYqxfYiF5og1UQq3Y0TjhTFSgxW3pYtju93KNCwdtLt3rerjecQ5de3ix+C1QlDyDCblrS3f7eQ==
X-Received: by 2002:a63:dc09:: with SMTP id s9mr63725852pgg.425.1558694637934; 
 Fri, 24 May 2019 03:43:57 -0700 (PDT)
Received: from localhost.localdomain ([183.82.227.60])
 by smtp.gmail.com with ESMTPSA id h11sm2303416pfn.170.2019.05.24.03.43.52
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Fri, 24 May 2019 03:43:57 -0700 (PDT)
From: Jagan Teki <jagan@amarulasolutions.com>
To: Andrzej Hajda <a.hajda@samsung.com>,
 Laurent Pinchart <Laurent.pinchart@ideasonboard.com>,
 Chen-Yu Tsai <wens@csie.org>, Maxime Ripard <maxime.ripard@bootlin.com>,
 David Airlie <airlied@linux.ie>, Daniel Vetter <daniel@ffwll.ch>,
 Rob Herring <robh+dt@kernel.org>, Mark Rutland <mark.rutland@arm.com>
Subject: [PATCH v2 5/6] drm/bridge: Add Chipone ICN6211 MIPI-DSI/RGB converter
 bridge
Date: Fri, 24 May 2019 16:13:16 +0530
Message-Id: <20190524104317.20287-3-jagan@amarulasolutions.com>
X-Mailer: git-send-email 2.18.0.321.gffc6fa0e3
In-Reply-To: <20190524104317.20287-1-jagan@amarulasolutions.com>
References: <20190524104317.20287-1-jagan@amarulasolutions.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amarulasolutions.com; s=google;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=Bq5JeR/itXRFWJkFBy/4tSREROqi+e79H6/1fNsKbVM=;
 b=OyifHJAO2FY1I6WMV5KWMz4fEKUQ5ksubmjH/U8znuzy2iQ40wQwxbzcoCgrPSjNqP
 UmHNJaiDFOdp0ycz0rXeRxoWHEsSi3zTE00HERGPtcpyteh8cFWNlBv7MWc/Esuibd95
 bM4Jg6ykMobiJdLIlTq44XJJbby9O4wz+2fXI=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: devicetree@vger.kernel.org, linux-kernel@vger.kernel.org,
 dri-devel@lists.freedesktop.org, linux-sunxi@googlegroups.com,
 Jagan Teki <jagan@amarulasolutions.com>,
 Michael Trimarchi <michael@amarulasolutions.com>,
 linux-amarula@amarulasolutions.com, linux-arm-kernel@lists.infradead.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SUNONjIxMSBpcyBNSVBJLURTSS9SR0IgY29udmVydGVyIGJyaWRnZSBmcm9tIGNoaXBvbmUuCkl0
IGhhcyBhIGZsZXhpYmxlIGNvbmZpZ3VyYXRpb24gb2YgTUlQSSBEU0kgc2lnbmFsIGlucHV0CmFu
ZCBwcm9kdWNlIFJHQjU2NSwgUkdCNjY2LCBSR0I4ODggb3V0cHV0IGZvcm1hdC4KCkFkZCBicmlk
Z2UgZHJpdmVyIGZvciBpdC4KClNpZ25lZC1vZmYtYnk6IEphZ2FuIFRla2kgPGphZ2FuQGFtYXJ1
bGFzb2x1dGlvbnMuY29tPgotLS0KTm90ZToKLSBkcm1fcGFuZWxfYnJpZGdlX2FkZCBzZWVtcyBu
b3Qgd29ya2luZyBvciBpbmNvbXBhdGlibGUgCmFzIHBlciBkcml2ZXIgc2V0dXAuIGFueSBpbnB1
dHMgb24gdGhpcyB3b3VsZCBiZSBncmVhdC4KCiBNQUlOVEFJTkVSUyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHwgICA2ICsKIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvS2NvbmZpZyAgICAg
ICAgICAgfCAgMTAgKwogZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9NYWtlZmlsZSAgICAgICAgICB8
ICAgMSArCiBkcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2NoaXBvbmUtaWNuNjIxMS5jIHwgMzQ0ICsr
KysrKysrKysrKysrKysrKysrKysrCiA0IGZpbGVzIGNoYW5nZWQsIDM2MSBpbnNlcnRpb25zKCsp
CiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9jaGlwb25lLWljbjYy
MTEuYwoKZGlmZiAtLWdpdCBhL01BSU5UQUlORVJTIGIvTUFJTlRBSU5FUlMKaW5kZXggNGNjMzBj
MzYwZmRhLi45N2ZmYjI2NWJlZGMgMTAwNjQ0Ci0tLSBhL01BSU5UQUlORVJTCisrKyBiL01BSU5U
QUlORVJTCkBAIC00OTkxLDYgKzQ5OTEsMTIgQEAgVDoJZ2l0IGdpdDovL2Fub25naXQuZnJlZWRl
c2t0b3Aub3JnL2RybS9kcm0tbWlzYwogUzoJTWFpbnRhaW5lZAogRjoJZHJpdmVycy9ncHUvZHJt
L2JvY2hzLwogCitEUk0gRFJJVkVSIEZPUiBDSElQT05FIElDTjYyMTEgTUlQSS1EU0kgdG8gUkdC
IENPTlZFUlRPUiBCUklER0UKK006CUphZ2FuIFRla2kgPGphZ2FuQGFtYXJ1bGFzb2x1dGlvbnMu
Y29tPgorUzoJTWFpbnRhaW5lZAorRjoJZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9jaGlwb25lLWlj
bjYyMTEuYworRjoJRG9jdW1lbnRhdGlvbi9kZXZpY2V0cmVlL2JpbmRpbmdzL2Rpc3BsYXkvYnJp
ZGdlL2NoaXBvbmUsaWNuNjIxMS50eHQKKwogRFJNIERSSVZFUiBGT1IgRkFSQURBWSBUVkUyMDAg
VFYgRU5DT0RFUgogTToJTGludXMgV2FsbGVpaiA8bGludXMud2FsbGVpakBsaW5hcm8ub3JnPgog
VDoJZ2l0IGdpdDovL2Fub25naXQuZnJlZWRlc2t0b3Aub3JnL2RybS9kcm0tbWlzYwpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9LY29uZmlnIGIvZHJpdmVycy9ncHUvZHJtL2Jy
aWRnZS9LY29uZmlnCmluZGV4IDNkZmY5OTk3ZjVlMy4uMmUwNmJlMWFhY2EzIDEwMDY0NAotLS0g
YS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL0tjb25maWcKKysrIGIvZHJpdmVycy9ncHUvZHJtL2Jy
aWRnZS9LY29uZmlnCkBAIC0zNiw2ICszNiwxNiBAQCBjb25maWcgRFJNX0NETlNfRFNJCiAJICBT
dXBwb3J0IENhZGVuY2UgRFBJIHRvIERTSSBicmlkZ2UuIFRoaXMgaXMgYW4gaW50ZXJuYWwKIAkg
IGJyaWRnZSBhbmQgaXMgbWVhbnQgdG8gYmUgZGlyZWN0bHkgZW1iZWRkZWQgaW4gYSBTb0MuCiAK
K2NvbmZpZyBEUk1fQ0hJUE9ORV9JQ042MjExCisJdHJpc3RhdGUgIkNoaXBvbmUgSUNONjIxMSBN
SVBJLURTSS9SR0IgY29udmVydGVyIGJyaWRnZSIKKwlkZXBlbmRzIG9uIERSTSAmJiBEUk1fUEFO
RUwKKwlkZXBlbmRzIG9uIE9GCisJc2VsZWN0IERSTV9NSVBJX0RTSQorCWhlbHAKKwkgIElDTjYy
MTEgaXMgTUlQSS1EU0kvUkdCIGNvbnZlcnRlciBicmlkZ2UgZnJvbSBjaGlwb25lLgorCSAgSXQg
aGFzIGEgZmxleGlibGUgY29uZmlndXJhdGlvbiBvZiBNSVBJIERTSSBzaWduYWwgaW5wdXQKKwkg
IGFuZCBwcm9kdWNlIFJHQjU2NSwgUkdCNjY2LCBSR0I4ODggb3V0cHV0IGZvcm1hdC4KKwogY29u
ZmlnIERSTV9EVU1CX1ZHQV9EQUMKIAl0cmlzdGF0ZSAiRHVtYiBWR0EgREFDIEJyaWRnZSBzdXBw
b3J0IgogCWRlcGVuZHMgb24gT0YKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2Uv
TWFrZWZpbGUgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL01ha2VmaWxlCmluZGV4IDQ5MzRmY2Y1
YTZmOC4uNTQxZmRjY2FkMTBiIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL01h
a2VmaWxlCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvTWFrZWZpbGUKQEAgLTEsNiArMSw3
IEBACiAjIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wCiBvYmotJChDT05GSUdfRFJN
X0FOQUxPR0lYX0FOWDc4WFgpICs9IGFuYWxvZ2l4LWFueDc4eHgubwogb2JqLSQoQ09ORklHX0RS
TV9DRE5TX0RTSSkgKz0gY2Rucy1kc2kubworb2JqLSQoQ09ORklHX0RSTV9DSElQT05FX0lDTjYy
MTEpICs9IGNoaXBvbmUtaWNuNjIxMS5vCiBvYmotJChDT05GSUdfRFJNX0RVTUJfVkdBX0RBQykg
Kz0gZHVtYi12Z2EtZGFjLm8KIG9iai0kKENPTkZJR19EUk1fTFZEU19FTkNPREVSKSArPSBsdmRz
LWVuY29kZXIubwogb2JqLSQoQ09ORklHX0RSTV9NRUdBQ0hJUFNfU1REUFhYWFhfR0VfQjg1MFYz
X0ZXKSArPSBtZWdhY2hpcHMtc3RkcHh4eHgtZ2UtYjg1MHYzLWZ3Lm8KZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9icmlkZ2UvY2hpcG9uZS1pY242MjExLmMgYi9kcml2ZXJzL2dwdS9kcm0v
YnJpZGdlL2NoaXBvbmUtaWNuNjIxMS5jCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAw
MDAwMDAwMC4uNzZlZGRhNTJkYzU3Ci0tLSAvZGV2L251bGwKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2JyaWRnZS9jaGlwb25lLWljbjYyMTEuYwpAQCAtMCwwICsxLDM0NCBAQAorLy8gU1BEWC1MaWNl
bnNlLUlkZW50aWZpZXI6IEdQTC0yLjArCisvKgorICogQ29weXJpZ2h0IChDKSAyMDE4IEFtYXJ1
bGEgU29sdXRpb25zCisgKiBBdXRob3I6IEphZ2FuIFRla2kgPGphZ2FuQGFtYXJ1bGFzb2x1dGlv
bnMuY29tPgorICovCisKKyNpbmNsdWRlIDxkcm0vZHJtX2F0b21pY19oZWxwZXIuaD4KKyNpbmNs
dWRlIDxkcm0vZHJtX2ZiX2hlbHBlci5oPgorI2luY2x1ZGUgPGRybS9kcm1fb2YuaD4KKyNpbmNs
dWRlIDxkcm0vZHJtX3BhbmVsLmg+CisjaW5jbHVkZSA8ZHJtL2RybV9wcmludC5oPgorI2luY2x1
ZGUgPGRybS9kcm1fcHJvYmVfaGVscGVyLmg+CisjaW5jbHVkZSA8ZHJtL2RybV9taXBpX2RzaS5o
PgorCisjaW5jbHVkZSA8bGludXgvZGVsYXkuaD4KKyNpbmNsdWRlIDxsaW51eC9ncGlvL2NvbnN1
bWVyLmg+CisjaW5jbHVkZSA8bGludXgvbW9kdWxlLmg+CisjaW5jbHVkZSA8bGludXgvb2ZfZGV2
aWNlLmg+CisjaW5jbHVkZSA8bGludXgvb2ZfZ3JhcGguaD4KKworI2luY2x1ZGUgPHZpZGVvL21p
cGlfZGlzcGxheS5oPgorCitzdHJ1Y3QgY2hpcG9uZV9icmlkZ2VfZGVzYyB7CisJdW5zaWduZWQg
aW50IGxhbmVzOworCXVuc2lnbmVkIGxvbmcgbW9kZV9mbGFnczsKKwllbnVtIG1pcGlfZHNpX3Bp
eGVsX2Zvcm1hdCBmb3JtYXQ7CisJdm9pZCAoKmNoaXBvbmVfYnJpZGdlX2luaXQpKHN0cnVjdCBk
cm1fYnJpZGdlICpicmlkZ2UpOworfTsKKworc3RydWN0IGNoaXBvbmUgeworCXN0cnVjdCBkZXZp
Y2UgKmRldjsKKwlzdHJ1Y3QgZHJtX2JyaWRnZSBicmlkZ2U7CisJc3RydWN0IGRybV9jb25uZWN0
b3IgY29ubmVjdG9yOworCXN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsOworCWNvbnN0IHN0cnVjdCBk
cm1fZGlzcGxheV9tb2RlICptb2RlOworCWNvbnN0IHN0cnVjdCBjaGlwb25lX2JyaWRnZV9kZXNj
ICpkZXNjOworCisJc3RydWN0IGdwaW9fZGVzYyAqcmVzZXRfZ3BpbzsKK307CisKK3N0YXRpYyBp
bmxpbmUgc3RydWN0IGNoaXBvbmUgKmJyaWRnZV90b19jaGlwb25lKHN0cnVjdCBkcm1fYnJpZGdl
ICpicmlkZ2UpCit7CisJcmV0dXJuIGNvbnRhaW5lcl9vZihicmlkZ2UsIHN0cnVjdCBjaGlwb25l
LCBicmlkZ2UpOworfQorCitzdGF0aWMgaW5saW5lCitzdHJ1Y3QgY2hpcG9uZSAqY29ubmVjdG9y
X3RvX2NoaXBvbmUoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvcikKK3sKKwlyZXR1cm4g
Y29udGFpbmVyX29mKGNvbm5lY3Rvciwgc3RydWN0IGNoaXBvbmUsIGNvbm5lY3Rvcik7Cit9CisK
K3N0YXRpYyBpbnQgY2hpcG9uZV9nZXRfbW9kZXMoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5l
Y3RvcikKK3sKKwlzdHJ1Y3QgY2hpcG9uZSAqaWNuID0gY29ubmVjdG9yX3RvX2NoaXBvbmUoY29u
bmVjdG9yKTsKKworCXJldHVybiBkcm1fcGFuZWxfZ2V0X21vZGVzKGljbi0+cGFuZWwpOworfQor
CitzdGF0aWMgY29uc3QKK3N0cnVjdCBkcm1fY29ubmVjdG9yX2hlbHBlcl9mdW5jcyBjaGlwb25l
X2Nvbm5lY3Rvcl9oZWxwZXJfZnVuY3MgPSB7CisJLmdldF9tb2RlcyA9IGNoaXBvbmVfZ2V0X21v
ZGVzLAorfTsKKworc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fY29ubmVjdG9yX2Z1bmNzIGNoaXBv
bmVfY29ubmVjdG9yX2Z1bmNzID0geworCS5maWxsX21vZGVzID0gZHJtX2hlbHBlcl9wcm9iZV9z
aW5nbGVfY29ubmVjdG9yX21vZGVzLAorCS5kZXN0cm95ID0gZHJtX2Nvbm5lY3Rvcl9jbGVhbnVw
LAorCS5yZXNldCA9IGRybV9hdG9taWNfaGVscGVyX2Nvbm5lY3Rvcl9yZXNldCwKKwkuYXRvbWlj
X2R1cGxpY2F0ZV9zdGF0ZSA9IGRybV9hdG9taWNfaGVscGVyX2Nvbm5lY3Rvcl9kdXBsaWNhdGVf
c3RhdGUsCisJLmF0b21pY19kZXN0cm95X3N0YXRlID0gZHJtX2F0b21pY19oZWxwZXJfY29ubmVj
dG9yX2Rlc3Ryb3lfc3RhdGUsCit9OworCitzdGF0aWMgdm9pZCBjaGlwb25lX2Rpc2FibGUoc3Ry
dWN0IGRybV9icmlkZ2UgKmJyaWRnZSkKK3sKKwlzdHJ1Y3QgY2hpcG9uZSAqaWNuID0gYnJpZGdl
X3RvX2NoaXBvbmUoYnJpZGdlKTsKKwlpbnQgcmV0OworCisJcmV0ID0gZHJtX3BhbmVsX2Rpc2Fi
bGUoYnJpZGdlX3RvX2NoaXBvbmUoYnJpZGdlKS0+cGFuZWwpOworCWlmIChyZXQgPCAwKQorCQlE
Uk1fREVWX0VSUk9SKGljbi0+ZGV2LCAiZXJyb3IgZGlzYWJsaW5nIHBhbmVsICglZClcbiIsIHJl
dCk7Cit9CisKK3N0YXRpYyB2b2lkIGNoaXBvbmVfcG9zdF9kaXNhYmxlKHN0cnVjdCBkcm1fYnJp
ZGdlICpicmlkZ2UpCit7CisJc3RydWN0IGNoaXBvbmUgKmljbiA9IGJyaWRnZV90b19jaGlwb25l
KGJyaWRnZSk7CisJaW50IHJldDsKKworCXJldCA9IGRybV9wYW5lbF91bnByZXBhcmUoaWNuLT5w
YW5lbCk7CisJaWYgKHJldCA8IDApCisJCURSTV9ERVZfRVJST1IoaWNuLT5kZXYsICJlcnJvciB1
bnByZXBhcmluZyBwYW5lbCAoJWQpXG4iLCByZXQpOworCisJbXNsZWVwKDUwKTsKKworCWdwaW9k
X3NldF92YWx1ZShpY24tPnJlc2V0X2dwaW8sIDApOworfQorCitzdGF0aWMgaW5saW5lIGludCBj
aGlwb25lX2RzaV93cml0ZShzdHJ1Y3QgY2hpcG9uZSAqaWNuLCAgY29uc3Qgdm9pZCAqc2VxLAor
CQkJCSAgICBzaXplX3QgbGVuKQoreworCXN0cnVjdCBtaXBpX2RzaV9kZXZpY2UgKmRzaSA9IHRv
X21pcGlfZHNpX2RldmljZShpY24tPmRldik7CisKKwlyZXR1cm4gbWlwaV9kc2lfZ2VuZXJpY193
cml0ZShkc2ksIHNlcSwgbGVuKTsKK30KKworI2RlZmluZSBDSElQT05FX0RTSShpY24sIHNlcS4u
LikJCQkJXAorCXsJCQkJCQkJXAorCQljb25zdCB1OCBkW10gPSB7IHNlcSB9OwkJCQlcCisJCWNo
aXBvbmVfZHNpX3dyaXRlKGljbiwgZCwgQVJSQVlfU0laRShkKSk7CVwKKwl9CisKK3N0YXRpYyB2
b2lkIGljbjYyMTFfYnJpZGdlX2luaXQoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSkKK3sKKwlz
dHJ1Y3QgY2hpcG9uZSAqaWNuID0gYnJpZGdlX3RvX2NoaXBvbmUoYnJpZGdlKTsKKwljb25zdCBz
dHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZSA9IGljbi0+bW9kZTsKKworCUNISVBPTkVfRFNJ
KGljbiwgMHg3QSwgMHhDMSk7CisKKwkvKiBsb3dlciA4IGJpdHMgb2YgaGRpc3BsYXkgKi8KKwlD
SElQT05FX0RTSShpY24sIDB4MjAsIG1vZGUtPmhkaXNwbGF5ICYgMHhmZik7CisKKwkvKiBsb3dl
ciA4IGJpdHMgb2YgdmRpc3BsYXkgKi8KKwlDSElQT05FX0RTSShpY24sIDB4MjEsIG1vZGUtPnZk
aXNwbGF5ICYgMHhmZik7CisKKwkvKioKKwkgKiBsc2IgbmliYmxlOiAybmQgbmliYmxlIG9mIGhk
aXNwbGF5CisJICogbXNiIG5pYmJsZTogMm5kIG5pYmJsZSBvZiB2ZGlzcGxheQorCSAqLworCUNI
SVBPTkVfRFNJKGljbiwgMHgyMiwgKCgobW9kZS0+aGRpc3BsYXkgPj4gOCkgJiAweGYpIHwKKwkJ
ICAgICgoKG1vZGUtPnZkaXNwbGF5ID4+IDgpICYgMHhmKSA8PCA0KSkpOworCisJLyogSEZQICov
CisJQ0hJUE9ORV9EU0koaWNuLCAweDIzLCBtb2RlLT5oc3luY19zdGFydCAtIG1vZGUtPmhkaXNw
bGF5KTsKKworCS8qIEhTWU5DICovCisJQ0hJUE9ORV9EU0koaWNuLCAweDI0LCBtb2RlLT5oc3lu
Y19lbmQgLSBtb2RlLT5oc3luY19zdGFydCk7CisKKwkvKiBIQlAgKi8KKwlDSElQT05FX0RTSShp
Y24sIDB4MjUsIG1vZGUtPmh0b3RhbCAtIG1vZGUtPmhzeW5jX2VuZCk7CisKKwlDSElQT05FX0RT
SShpY24sIDB4MjYsIDB4MDApOworCisJLyogVkZQICovCisJQ0hJUE9ORV9EU0koaWNuLCAweDI3
LCBtb2RlLT52c3luY19zdGFydCAtIG1vZGUtPnZkaXNwbGF5KTsKKworCS8qIFZTWU5DICovCisJ
Q0hJUE9ORV9EU0koaWNuLCAweDI4LCBtb2RlLT52c3luY19lbmQgLSBtb2RlLT52c3luY19zdGFy
dCk7CisKKwkvKiBWQlAgKi8KKwlDSElQT05FX0RTSShpY24sIDB4MjksIG1vZGUtPnZ0b3RhbCAt
IG1vZGUtPnZzeW5jX2VuZCk7CisKKwkvKiBkc2kgc3BlY2lmaWMgc2VxdWVuY2UgKi8KKwlDSElQ
T05FX0RTSShpY24sIE1JUElfRENTX1NFVF9URUFSX09GRiwgMHg4MCk7CisJQ0hJUE9ORV9EU0ko
aWNuLCBNSVBJX0RDU19TRVRfQUREUkVTU19NT0RFLCAweDI4KTsKKwlDSElQT05FX0RTSShpY24s
IDB4QjUsIDB4QTApOworCUNISVBPTkVfRFNJKGljbiwgMHg1QywgMHhGRik7CisJQ0hJUE9ORV9E
U0koaWNuLCBNSVBJX0RDU19TRVRfQ09MVU1OX0FERFJFU1MsIDB4MDEpOworCUNISVBPTkVfRFNJ
KGljbiwgTUlQSV9EQ1NfR0VUX1BPV0VSX1NBVkUsIDB4OTIpOworCUNISVBPTkVfRFNJKGljbiwg
MHg2QiwgMHg3MSk7CisJQ0hJUE9ORV9EU0koaWNuLCAweDY5LCAweDJCKTsKKwlDSElQT05FX0RT
SShpY24sIE1JUElfRENTX0VOVEVSX1NMRUVQX01PREUsIDB4NDApOworCUNISVBPTkVfRFNJKGlj
biwgTUlQSV9EQ1NfRVhJVF9TTEVFUF9NT0RFLCAweDk4KTsKKworCS8qIGljbjYyMTEgc3BlY2lm
aWMgc2VxdWVuY2UgKi8KKwlDSElQT05FX0RTSShpY24sIDB4QjYsIDB4MjApOworCUNISVBPTkVf
RFNJKGljbiwgMHg1MSwgMHgyMCk7CisJQ0hJUE9ORV9EU0koaWNuLCAweDA5LCAweDEwKTsKK30K
Kworc3RhdGljIHZvaWQgY2hpcG9uZV9wcmVfZW5hYmxlKHN0cnVjdCBkcm1fYnJpZGdlICpicmlk
Z2UpCit7CisJc3RydWN0IGNoaXBvbmUgKmljbiA9IGJyaWRnZV90b19jaGlwb25lKGJyaWRnZSk7
CisJaW50IHJldDsKKworCWdwaW9kX3NldF92YWx1ZShpY24tPnJlc2V0X2dwaW8sIDApOworCW1z
bGVlcCgyMCk7CisKKwlncGlvZF9zZXRfdmFsdWUoaWNuLT5yZXNldF9ncGlvLCAxKTsKKwltc2xl
ZXAoNTApOworCisJaWNuLT5kZXNjLT5jaGlwb25lX2JyaWRnZV9pbml0KGJyaWRnZSk7CisKKwly
ZXQgPSBkcm1fcGFuZWxfcHJlcGFyZShpY24tPnBhbmVsKTsKKwlpZiAocmV0IDwgMCkKKwkJRFJN
X0RFVl9FUlJPUihpY24tPmRldiwgImVycm9yIHByZXBhcmluZyBwYW5lbCAoJWQpXG4iLCByZXQp
OworfQorCitzdGF0aWMgdm9pZCBjaGlwb25lX2VuYWJsZShzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJp
ZGdlKQoreworCXN0cnVjdCBjaGlwb25lICppY24gPSBicmlkZ2VfdG9fY2hpcG9uZShicmlkZ2Up
OworCWludCByZXQ7CisKKwlyZXQgPSBkcm1fcGFuZWxfZW5hYmxlKGljbi0+cGFuZWwpOworCWlm
IChyZXQgPCAwKQorCQlEUk1fREVWX0VSUk9SKGljbi0+ZGV2LCAiZXJyb3IgZW5hYmxpbmcgcGFu
ZWwgKCVkKVxuIiwgcmV0KTsKK30KKworc3RhdGljIGludCBjaGlwb25lX2F0dGFjaChzdHJ1Y3Qg
ZHJtX2JyaWRnZSAqYnJpZGdlKQoreworCXN0cnVjdCBjaGlwb25lICppY24gPSBicmlkZ2VfdG9f
Y2hpcG9uZShicmlkZ2UpOworCXN0cnVjdCBkcm1fZGV2aWNlICpkcm0gPSBicmlkZ2UtPmRldjsK
KwlpbnQgcmV0OworCisJaWYgKCFicmlkZ2UtPmVuY29kZXIpIHsKKwkJRFJNX0VSUk9SKCJQYXJl
bnQgZW5jb2RlciBvYmplY3Qgbm90IGZvdW5kIik7CisJCXJldHVybiAtRU5PREVWOworCX0KKwor
CWljbi0+Y29ubmVjdG9yLnBvbGxlZCA9IERSTV9DT05ORUNUT1JfUE9MTF9IUEQ7CisJcmV0ID0g
ZHJtX2Nvbm5lY3Rvcl9pbml0KGRybSwgJmljbi0+Y29ubmVjdG9yLAorCQkJCSAmY2hpcG9uZV9j
b25uZWN0b3JfZnVuY3MsCisJCQkJIERSTV9NT0RFX0NPTk5FQ1RPUl9EUEkpOworCWlmIChyZXQp
IHsKKwkJRFJNX0RFVl9FUlJPUihpY24tPmRldiwKKwkJCSAgICAgICJDb3VsZG4ndCBpbml0aWFs
aXNlIHRoZSByZ2IgY29ubmVjdG9yXG4iKTsKKwkJZ290byBlcnJfb3V0OworCX0KKworCWRybV9j
b25uZWN0b3JfaGVscGVyX2FkZCgmaWNuLT5jb25uZWN0b3IsCisJCQkJICZjaGlwb25lX2Nvbm5l
Y3Rvcl9oZWxwZXJfZnVuY3MpOworCWRybV9jb25uZWN0b3JfcmVnaXN0ZXIoJmljbi0+Y29ubmVj
dG9yKTsKKwlkcm1fY29ubmVjdG9yX2F0dGFjaF9lbmNvZGVyKCZpY24tPmNvbm5lY3RvciwgYnJp
ZGdlLT5lbmNvZGVyKTsKKworCXJldCA9IGRybV9wYW5lbF9hdHRhY2goaWNuLT5wYW5lbCwgJmlj
bi0+Y29ubmVjdG9yKTsKKwlpZiAocmV0KSB7CisJCURSTV9ERVZfRVJST1IoaWNuLT5kZXYsICJD
b3VsZG4ndCBhdHRhY2ggb3VyIHBhbmVsXG4iKTsKKwkJZ290byBlcnJfY2xlYW51cF9jb25uZWN0
b3I7CisJfQorCisJcmV0dXJuIDA7CisKK2Vycl9jbGVhbnVwX2Nvbm5lY3RvcjoKKwlkcm1fZW5j
b2Rlcl9jbGVhbnVwKGJyaWRnZS0+ZW5jb2Rlcik7CitlcnJfb3V0OgorCXJldHVybiByZXQ7Cit9
CisKK3N0YXRpYyB2b2lkIGNoaXBvbmVfZGV0YWNoKHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2Up
Cit7CisJc3RydWN0IGNoaXBvbmUgKmljbiA9IGJyaWRnZV90b19jaGlwb25lKGJyaWRnZSk7CisK
Kwlkcm1fY29ubmVjdG9yX3VucmVnaXN0ZXIoJmljbi0+Y29ubmVjdG9yKTsKKwlkcm1fcGFuZWxf
ZGV0YWNoKGljbi0+cGFuZWwpOworCWljbi0+cGFuZWwgPSBOVUxMOworCWRybV9jb25uZWN0b3Jf
cHV0KCZpY24tPmNvbm5lY3Rvcik7Cit9CisKK3N0YXRpYyBlbnVtIGRybV9tb2RlX3N0YXR1cyBj
aGlwb25lX21vZGVfdmFsaWQoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSwKKwkJCQkJY29uc3Qg
c3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGUpCit7CisJc3RydWN0IGNoaXBvbmUgKmljbiA9
IGJyaWRnZV90b19jaGlwb25lKGJyaWRnZSk7CisKKwkvKiBtb2RlIHRpbWluZ3MgYXJlIHVzZWZ1
bCBkdXJpbmcgYnJpZGdlIGluaXQgKi8KKwlpY24tPm1vZGUgPSBtb2RlOworCisJcmV0dXJuIE1P
REVfT0s7Cit9CisKK3N0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2JyaWRnZV9mdW5jcyBjaGlwb25l
X2JyaWRnZV9mdW5jcyA9IHsKKwkuZGlzYWJsZSA9IGNoaXBvbmVfZGlzYWJsZSwKKwkucG9zdF9k
aXNhYmxlID0gY2hpcG9uZV9wb3N0X2Rpc2FibGUsCisJLmVuYWJsZSA9IGNoaXBvbmVfZW5hYmxl
LAorCS5wcmVfZW5hYmxlID0gY2hpcG9uZV9wcmVfZW5hYmxlLAorCS5hdHRhY2ggPSBjaGlwb25l
X2F0dGFjaCwKKwkuZGV0YWNoID0gY2hpcG9uZV9kZXRhY2gsCisJLm1vZGVfdmFsaWQgPSBjaGlw
b25lX21vZGVfdmFsaWQsCit9OworCitzdGF0aWMgY29uc3Qgc3RydWN0IGNoaXBvbmVfYnJpZGdl
X2Rlc2MgaWNuNjIxMV9kZXNjID0geworCS5sYW5lcwkJCT0gNCwKKwkubW9kZV9mbGFncwkJPSBN
SVBJX0RTSV9NT0RFX1ZJREVPX1NZTkNfUFVMU0UsCisJLmZvcm1hdAkJCT0gTUlQSV9EU0lfRk1U
X1JHQjg4OCwKKwkuY2hpcG9uZV9icmlkZ2VfaW5pdAk9IGljbjYyMTFfYnJpZGdlX2luaXQsCit9
OworCitzdGF0aWMgaW50IGNoaXBvbmVfcHJvYmUoc3RydWN0IG1pcGlfZHNpX2RldmljZSAqZHNp
KQoreworCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZkc2ktPmRldjsKKwljb25zdCBzdHJ1Y3QgY2hp
cG9uZV9icmlkZ2VfZGVzYyAqZGVzYzsKKwlzdHJ1Y3QgY2hpcG9uZSAqaWNuOworCWludCByZXQ7
CisKKwlpY24gPSBkZXZtX2t6YWxsb2MoZGV2LCBzaXplb2Yoc3RydWN0IGNoaXBvbmUpLCBHRlBf
S0VSTkVMKTsKKwlpZiAoIWljbikKKwkJcmV0dXJuIC1FTk9NRU07CisKKwlkZXNjID0gb2ZfZGV2
aWNlX2dldF9tYXRjaF9kYXRhKGRldik7CisKKwlpY24tPmRldiA9IGRldjsKKwlkc2ktPm1vZGVf
ZmxhZ3MgPSBkZXNjLT5tb2RlX2ZsYWdzOworCWRzaS0+Zm9ybWF0ID0gZGVzYy0+Zm9ybWF0Owor
CWRzaS0+bGFuZXMgPSBkZXNjLT5sYW5lczsKKworCWljbi0+cmVzZXRfZ3BpbyA9IGRldm1fZ3Bp
b2RfZ2V0KGRldiwgInJlc2V0IiwgR1BJT0RfT1VUX0xPVyk7CisJaWYgKElTX0VSUihpY24tPnJl
c2V0X2dwaW8pKSB7CisJCURSTV9ERVZfRVJST1IoZGV2LCAiQ291bGRuJ3QgZ2V0IG91ciByZXNl
dCBHUElPXG4iKTsKKwkJcmV0dXJuIFBUUl9FUlIoaWNuLT5yZXNldF9ncGlvKTsKKwl9CisKKwly
ZXQgPSBkcm1fb2ZfZmluZF9wYW5lbF9vcl9icmlkZ2UoaWNuLT5kZXYtPm9mX25vZGUsIDEsIDAs
CisJCQkJCSAgJmljbi0+cGFuZWwsIE5VTEwpOworCWlmIChyZXQgJiYgcmV0ICE9IC1FUFJPQkVf
REVGRVIpIHsKKwkJRFJNX0RFVl9FUlJPUihkZXYsICJDb3VsZG4ndCBmaW5kIHRoZSBwYW5lbCAo
cmV0ID0gJWQpXG4iLCByZXQpOworCQlyZXR1cm4gcmV0OworCX0KKworCWljbi0+YnJpZGdlLmZ1
bmNzID0gJmNoaXBvbmVfYnJpZGdlX2Z1bmNzOworCWljbi0+YnJpZGdlLm9mX25vZGUgPSBkZXYt
Pm9mX25vZGU7CisKKwlkcm1fYnJpZGdlX2FkZCgmaWNuLT5icmlkZ2UpOworCW1pcGlfZHNpX3Nl
dF9kcnZkYXRhKGRzaSwgaWNuKTsKKwlpY24tPmRlc2MgPSBkZXNjOworCisJcmV0dXJuIG1pcGlf
ZHNpX2F0dGFjaChkc2kpOworfQorCitzdGF0aWMgaW50IGNoaXBvbmVfcmVtb3ZlKHN0cnVjdCBt
aXBpX2RzaV9kZXZpY2UgKmRzaSkKK3sKKwlzdHJ1Y3QgY2hpcG9uZSAqaWNuID0gbWlwaV9kc2lf
Z2V0X2RydmRhdGEoZHNpKTsKKworCW1pcGlfZHNpX2RldGFjaChkc2kpOworCWRybV9icmlkZ2Vf
cmVtb3ZlKCZpY24tPmJyaWRnZSk7CisKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIGNvbnN0IHN0
cnVjdCBvZl9kZXZpY2VfaWQgY2hpcG9uZV9vZl9tYXRjaFtdID0geworCXsgLmNvbXBhdGlibGUg
PSAiY2hpcG9uZSxpY242MjExIiwgLmRhdGEgPSAmaWNuNjIxMV9kZXNjIH0sCisJeyAvKiBzZW50
aW5lbCAqLyB9Cit9OworTU9EVUxFX0RFVklDRV9UQUJMRShvZiwgY2hpcG9uZV9vZl9tYXRjaCk7
CisKK3N0YXRpYyBzdHJ1Y3QgbWlwaV9kc2lfZHJpdmVyIGNoaXBvbmVfZHJpdmVyID0geworCS5w
cm9iZSA9IGNoaXBvbmVfcHJvYmUsCisJLnJlbW92ZSA9IGNoaXBvbmVfcmVtb3ZlLAorCS5kcml2
ZXIgPSB7CisJCS5uYW1lID0gImNoaXBvbmUtaWNuNjIxMSIsCisJCS5vd25lciA9IFRISVNfTU9E
VUxFLAorCQkub2ZfbWF0Y2hfdGFibGUgPSBjaGlwb25lX29mX21hdGNoLAorCX0sCit9OworbW9k
dWxlX21pcGlfZHNpX2RyaXZlcihjaGlwb25lX2RyaXZlcik7CisKK01PRFVMRV9BVVRIT1IoIkph
Z2FuIFRla2kgPGphZ2FuQGFtYXJ1bGFzb2x1dGlvbnMuY29tPiIpOworTU9EVUxFX0RFU0NSSVBU
SU9OKCJDaGlwb25lIElDTjYyMTEgTUlQSS1EU0kgdG8gUkdCIENvbnZlcnRvciBCcmlkZ2UiKTsK
K01PRFVMRV9MSUNFTlNFKCJHUEwgdjIiKTsKLS0gCjIuMTguMC4zMjEuZ2ZmYzZmYTBlMwoKX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1h
aWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
