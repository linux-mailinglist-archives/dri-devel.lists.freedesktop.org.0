Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 0B206967AC
	for <lists+dri-devel@lfdr.de>; Tue, 20 Aug 2019 19:37:57 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 554656E43A;
	Tue, 20 Aug 2019 17:37:54 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from perceval.ideasonboard.com (perceval.ideasonboard.com
 [213.167.242.64])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B10336E43A
 for <dri-devel@lists.freedesktop.org>; Tue, 20 Aug 2019 17:37:52 +0000 (UTC)
Received: from pendragon.ideasonboard.com
 (dfj612yhrgyx302h3jwwy-3.rev.dnainternet.fi
 [IPv6:2001:14ba:21f5:5b00:ce28:277f:58d7:3ca4])
 by perceval.ideasonboard.com (Postfix) with ESMTPSA id 9993733D;
 Tue, 20 Aug 2019 19:37:50 +0200 (CEST)
Date: Tue, 20 Aug 2019 20:37:44 +0300
From: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
To: Ulrich Hecht <uli@fpond.eu>
Subject: Re: [PATCH v2 14/19] drm: rcar-du: Add support for CMM
Message-ID: <20190820173744.GG10820@pendragon.ideasonboard.com>
References: <20190706140746.29132-1-jacopo+renesas@jmondi.org>
 <20190706140746.29132-15-jacopo+renesas@jmondi.org>
 <898081800.61387.1563283024145@webmail.strato.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <898081800.61387.1563283024145@webmail.strato.com>
User-Agent: Mutt/1.10.1 (2018-07-13)
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=ideasonboard.com; s=mail; t=1566322670;
 bh=dPC/u8kAobonbkgiPJs62q8QoTtALtI2YssNdbeAWpw=;
 h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
 b=h24iSrKiJk7oTU1vyC2RO52s9TgEysRgl2ajTsWFtzi5E/t3WQ14PG1V3ng2rJpr+
 sUHugf5t+zU5xESAmNuM901otwTMzKQvtKUafBFakgpYEcxFiijHROUpWKhg03mXHB
 pLxQMvY37w5oB260EkgXoDWqHHY2vsnUxcaFVQiw=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: muroya@ksk.co.jp, VenkataRajesh.Kalakodima@in.bosch.com, airlied@linux.ie,
 koji.matsuoka.xm@renesas.com, dri-devel@lists.freedesktop.org,
 linux-kernel@vger.kernel.org, linux-renesas-soc@vger.kernel.org,
 kieran.bingham+renesas@ideasonboard.com,
 Jacopo Mondi <jacopo+renesas@jmondi.org>,
 Harsha.ManjulaMallikarjun@in.bosch.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGVsbG8sCgpPbiBUdWUsIEp1bCAxNiwgMjAxOSBhdCAwMzoxNzowNFBNICswMjAwLCBVbHJpY2gg
SGVjaHQgd3JvdGU6Cj4gPiBPbiBKdWx5IDYsIDIwMTkgYXQgNDowNyBQTSBKYWNvcG8gTW9uZGkg
PGphY29wbytyZW5lc2FzQGptb25kaS5vcmc+IHdyb3RlOgo+ID4gCj4gPiBBZGQgYSBkcml2ZXIg
Zm9yIHRoZSBSLUNhciBEaXNwbGF5IFVuaXQgQ29sb3IgQ29ycmVjdGlvbiBNb2R1bGUuCj4gPiAK
PiA+IEluIG1vc3Qgb2YgR2VuMyBTb0NzLCBlYWNoIERVIG91dHB1dCBjaGFubmVsIGlzIHByb3Zp
ZGVkIHdpdGggYSBDTU0gdW5pdAo+ID4gdG8gcGVyZm9ybSBpbWFnZSBlbmhhbmNlbWVudCBhbmQg
Y29sb3IgY29ycmVjdGlvbi4KPiA+IAo+ID4gQWRkIHN1cHBvcnQgZm9yIENNTSB0aHJvdWdoIGEg
ZHJpdmVyIHRoYXQgc3VwcG9ydHMgY29uZmlndXJhdGlvbiBvZgo+ID4gdGhlIDEtZGltZW5zaW9u
YWwgTFVUIHRhYmxlLiBNb3JlIGFkdmFuY2VkIENNTSBmZWF0dXJlIHdpbGwgYmUKPiA+IGltcGxl
bWVudGVkIG9uIHRvcCBvZiB0aGlzIGJhc2ljIG9uZS4KPiA+IAo+ID4gU2lnbmVkLW9mZi1ieTog
SmFjb3BvIE1vbmRpIDxqYWNvcG8rcmVuZXNhc0BqbW9uZGkub3JnPgo+ID4gLS0tCj4gPiAgZHJp
dmVycy9ncHUvZHJtL3JjYXItZHUvS2NvbmZpZyAgICB8ICAgNyArCj4gPiAgZHJpdmVycy9ncHUv
ZHJtL3JjYXItZHUvTWFrZWZpbGUgICB8ICAgMSArCj4gPiAgZHJpdmVycy9ncHUvZHJtL3JjYXIt
ZHUvcmNhcl9jbW0uYyB8IDI5MiArKysrKysrKysrKysrKysrKysrKysrKysrKysrKwo+ID4gIGRy
aXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfY21tLmggfCAgMzggKysrKwo+ID4gIDQgZmlsZXMg
Y2hhbmdlZCwgMzM4IGluc2VydGlvbnMoKykKPiA+ICBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVy
cy9ncHUvZHJtL3JjYXItZHUvcmNhcl9jbW0uYwo+ID4gIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2
ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2NtbS5oCj4gPiAKPiA+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vcmNhci1kdS9LY29uZmlnIGIvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvS2Nv
bmZpZwo+ID4gaW5kZXggMTUyOTg0OWUyMTdlLi41MzlkMjMyNzkwZDEgMTAwNjQ0Cj4gPiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9LY29uZmlnCj4gPiArKysgYi9kcml2ZXJzL2dwdS9k
cm0vcmNhci1kdS9LY29uZmlnCj4gPiBAQCAtMTMsNiArMTMsMTMgQEAgY29uZmlnIERSTV9SQ0FS
X0RVCj4gPiAgCSAgQ2hvb3NlIHRoaXMgb3B0aW9uIGlmIHlvdSBoYXZlIGFuIFItQ2FyIGNoaXBz
ZXQuCj4gPiAgCSAgSWYgTSBpcyBzZWxlY3RlZCB0aGUgbW9kdWxlIHdpbGwgYmUgY2FsbGVkIHJj
YXItZHUtZHJtLgo+ID4gIAo+ID4gK2NvbmZpZyBEUk1fUkNBUl9DTU0KPiA+ICsJYm9vbCAiUi1D
YXIgRFUgQ29sb3IgTWFuYWdlbWVudCBNb2R1bGUgKENNTSkgU3VwcG9ydCIKPiA+ICsJZGVwZW5k
cyBvbiBEUk0gJiYgT0YKPiA+ICsJZGVwZW5kcyBvbiBEUk1fUkNBUl9EVQo+ID4gKwloZWxwCj4g
PiArCSAgRW5hYmxlIHN1cHBvcnQgZm9yIFItQ2FyIENvbG9yIE1hbmFnZW1lbnQgTW9kdWxlIChD
TU0pLgo+ID4gKwo+ID4gIGNvbmZpZyBEUk1fUkNBUl9EV19IRE1JCj4gPiAgCXRyaXN0YXRlICJS
LUNhciBEVSBHZW4zIEhETUkgRW5jb2RlciBTdXBwb3J0Igo+ID4gIAlkZXBlbmRzIG9uIERSTSAm
JiBPRgo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L01ha2VmaWxlIGIv
ZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvTWFrZWZpbGUKPiA+IGluZGV4IDZjMmVkOWM0NjQ2Ny4u
NGQxMTg3Y2NjM2U1IDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvTWFr
ZWZpbGUKPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L01ha2VmaWxlCj4gPiBAQCAt
MTUsNiArMTUsNyBAQCByY2FyLWR1LWRybS0kKENPTkZJR19EUk1fUkNBUl9MVkRTKQkrPSByY2Fy
X2R1X29mLm8gXAo+ID4gIHJjYXItZHUtZHJtLSQoQ09ORklHX0RSTV9SQ0FSX1ZTUCkJKz0gcmNh
cl9kdV92c3Aubwo+ID4gIHJjYXItZHUtZHJtLSQoQ09ORklHX0RSTV9SQ0FSX1dSSVRFQkFDSykg
Kz0gcmNhcl9kdV93cml0ZWJhY2subwo+ID4gIAo+ID4gK29iai0kKENPTkZJR19EUk1fUkNBUl9D
TU0pCQkrPSByY2FyX2NtbS5vCj4gPiAgb2JqLSQoQ09ORklHX0RSTV9SQ0FSX0RVKQkJKz0gcmNh
ci1kdS1kcm0ubwo+ID4gIG9iai0kKENPTkZJR19EUk1fUkNBUl9EV19IRE1JKQkJKz0gcmNhcl9k
d19oZG1pLm8KPiA+ICBvYmotJChDT05GSUdfRFJNX1JDQVJfTFZEUykJCSs9IHJjYXJfbHZkcy5v
Cj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9jbW0uYyBiL2Ry
aXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfY21tLmMKPiA+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0
Cj4gPiBpbmRleCAwMDAwMDAwMDAwMDAuLjc2ZWQzZmNlMmIzMwo+ID4gLS0tIC9kZXYvbnVsbAo+
ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9jbW0uYwo+ID4gQEAgLTAsMCAr
MSwyOTIgQEAKPiA+ICsvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMCsKPiA+ICsv
Kgo+ID4gKyAqIHJjYXJfY21tLmMgLS0gUi1DYXIgRGlzcGxheSBVbml0IENvbG9yIE1hbmFnZW1l
bnQgTW9kdWxlCj4gPiArICoKPiA+ICsgKiBDb3B5cmlnaHQgKEMpIDIwMTkgSmFjb3BvIE1vbmRp
IDxqYWNvcG8rcmVuZXNhc0BqbW9uZGkub3JnPgo+ID4gKyAqLwo+ID4gKwo+ID4gKyNpbmNsdWRl
IDxsaW51eC9jbGsuaD4KPiA+ICsjaW5jbHVkZSA8bGludXgvaW8uaD4KPiA+ICsjaW5jbHVkZSA8
bGludXgvbW9kdWxlLmg+Cj4gPiArI2luY2x1ZGUgPGxpbnV4L29mLmg+Cj4gPiArI2luY2x1ZGUg
PGxpbnV4L3BsYXRmb3JtX2RldmljZS5oPgo+ID4gKyNpbmNsdWRlIDxsaW51eC9wbS5oPgo+ID4g
Kwo+ID4gKyNpbmNsdWRlIDxkcm0vZHJtX2F0b21pYy5oPgo+ID4gKwo+ID4gKyNpbmNsdWRlICJy
Y2FyX2NtbS5oIgo+ID4gKwo+ID4gKyNkZWZpbmUgQ00yX0xVVF9DVFJMCQkweDAwMDAKPiA+ICsj
ZGVmaW5lIENNMl9MVVRfQ1RSTF9FTgkJQklUKDApCj4gPiArI2RlZmluZSBDTTJfTFVUX1RCTEFf
QkFTRQkweDA2MDAKPiA+ICsjZGVmaW5lIENNMl9MVVRfVEJMQShfX2kpCShDTTJfTFVUX1RCTEFf
QkFTRSArIChfX2kpICogNCkKPiA+ICsKPiA+ICtzdHJ1Y3QgcmNhcl9jbW0gewo+ID4gKwlzdHJ1
Y3QgY2xrICpjbGs7Cj4gPiArCXZvaWQgX19pb21lbSAqYmFzZTsKPiA+ICsJYm9vbCBlbmFibGVk
Owo+ID4gKwo+ID4gKwkvKgo+ID4gKwkgKiByZXN0b3JlOiBMVVQgcmVzdG9yZSBmbGFnCj4gPiAr
CSAqIHJ1bm5pbmc6IExVVCBvcGVyYXRpbmcgZmxhZwo+ID4gKwkgKiBzaXplOiBOdW1iZXIgb2Yg
cHJvZ3JhbW1lZCBlbnRyaWVzIGluIHRoZSBMVVQgdGFibGUKPiA+ICsJICogdGFibGU6IFNjcmF0
Y2ggYnVmZmVyIHdoZXJlIHRvIHN0b3JlIHRoZSBMVVQgdGFibGUgZW50cmllcyB0byBiZQo+ID4g
KwkgKgkgIGxhdGVyIHJlc3RvcmVkLgo+ID4gKwkgKi8KPiA+ICsJc3RydWN0IHsKPiA+ICsJCWJv
b2wgcmVzdG9yZTsKPiA+ICsJCWJvb2wgcnVubmluZzsKPiA+ICsJCXVuc2lnbmVkIGludCBzaXpl
Owo+ID4gKwkJc3RydWN0IGRybV9jb2xvcl9sdXQgdGFibGVbQ01NX0dBTU1BX0xVVF9TSVpFXTsK
PiA+ICsJfSBsdXQ7Cj4gPiArfTsKPiA+ICsKPiA+ICtzdGF0aWMgaW5saW5lIGludCByY2FyX2Nt
bV9yZWFkKHN0cnVjdCByY2FyX2NtbSAqcmNtbSwgdTMyIHJlZykKPiA+ICt7Cj4gPiArCXJldHVy
biBpb3JlYWQzMihyY21tLT5iYXNlICsgcmVnKTsKPiA+ICt9Cj4gPiArCj4gPiArc3RhdGljIGlu
bGluZSB2b2lkIHJjYXJfY21tX3dyaXRlKHN0cnVjdCByY2FyX2NtbSAqcmNtbSwgdTMyIHJlZywg
dTMyIGRhdGEpCj4gPiArewo+ID4gKwlpb3dyaXRlMzIoZGF0YSwgcmNtbS0+YmFzZSArIHJlZyk7
Cj4gPiArfQo+ID4gKwo+ID4gK3N0YXRpYyB2b2lkIHJjYXJfY21tX2x1dF93cml0ZShzdHJ1Y3Qg
cmNhcl9jbW0gKnJjbW0sIHVuc2lnbmVkIGludCBzaXplLAo+ID4gKwkJCSAgICAgICBzdHJ1Y3Qg
ZHJtX2NvbG9yX2x1dCAqbHV0KQo+ID4gK3sKPiA+ICsJdW5zaWduZWQgaW50IGk7Cj4gPiArCj4g
PiArCWZvciAoaSA9IDA7IGkgPCBzaXplOyArK2kpIHsKPiA+ICsJCXN0cnVjdCBkcm1fY29sb3Jf
bHV0ICplbnRyeSA9ICZsdXRbaV07Cj4gPiArCj4gPiArCQl1MzIgdmFsID0gKGVudHJ5LT5yZWQg
JiAweGZmKSA8PCAxNiB8Cj4gPiArCQkJICAoZW50cnktPmdyZWVuICYgMHhmZikgPDwgOCB8Cj4g
PiArCQkJICAoZW50cnktPmJsdWUgJiAweGZmKTsKPiAKPiBJIGRvbid0IHRoaW5rIGl0J3MgY29y
cmVjdCB0byBjdXQgb2ZmIHRoZSBoaWdoIGJpdHMgaGVyZS4gVGhlcmUgaXMgYQo+IGZ1bmN0aW9u
ICJkcm1fY29sb3JfbHV0X2V4dHJhY3QoKSIgZm9yIGNvbnZlcnRpbmcgZHJtX2NvbG9yX2x1dCB2
YWx1ZXMKPiB0byBoYXJkd2FyZSBwcmVjaXNpb24uCj4gCj4gPiArCQlyY2FyX2NtbV93cml0ZShy
Y21tLCBDTTJfTFVUX1RCTEEoaSksIHZhbCk7Cj4gPiArCX0KPiA+ICt9Cj4gPiArCj4gPiArLyoq
Cj4gPiArICogcmNhcl9jbW1fc2V0dXAoKSAtIGNvbmZpZ3VyZSB0aGUgQ01NIHVuaXQKPiA+ICsg
Kgo+ID4gKyAqIEBwZGV2OiBUaGUgcGxhdGZvcm0gZGV2aWNlIGFzc29jaWF0ZWQgd2l0aCB0aGUg
Q01NIGluc3RhbmNlCj4gPiArICogQGNvbmZpZzogVGhlIENSVEMgcHJvdmlkZWQgY29uZmlndXJh
dGlvbi4KPiA+ICsgKgo+ID4gKyAqIENvbmZpZ3VyZSB0aGUgQ01NIHVuaXQgd2l0aCB0aGUgQ1JU
QyBwcm92aWRlZCBjb25maWd1cmF0aW9uLgo+ID4gKyAqIEN1cnJlbnRseSBlbmFibGluZywgZGlz
YWJsaW5nIGFuZCBwcm9ncmFtbWluZyBvZiB0aGUgMS1EIExVVCB1bml0IGlzCj4gPiArICogc3Vw
cG9ydGVkLgo+ID4gKyAqLwo+ID4gK2ludCByY2FyX2NtbV9zZXR1cChzdHJ1Y3QgcGxhdGZvcm1f
ZGV2aWNlICpwZGV2LAo+ID4gKwkJICAgY29uc3Qgc3RydWN0IHJjYXJfY21tX2NvbmZpZyAqY29u
ZmlnKQo+ID4gK3sKPiA+ICsJc3RydWN0IHJjYXJfY21tICpyY21tID0gcGxhdGZvcm1fZ2V0X2Ry
dmRhdGEocGRldik7Cj4gPiArCXVuc2lnbmVkIGludCBpOwo+ID4gKwo+ID4gKwlpZiAoY29uZmln
LT5sdXQuc2l6ZSA+IENNTV9HQU1NQV9MVVRfU0laRSkKPiA+ICsJCXJldHVybiAtRUlOVkFMOwo+
ID4gKwo+ID4gKwkvKgo+ID4gKwkgKiBBcyBjbW1fc2V0dXAgaXMgY2FsbGVkIGJ5IGF0b21pYyBj
b21taXQgdGFpbCBoZWxwZXIsIGl0IG1pZ2h0IGJlCj4gPiArCSAqIGNhbGxlZCBiZWZvcmUgZW5h
YmxpbmcgdGhlIENSVEMgKHdoaWNoIGNhbGxzIGNtbV9lbmFibGUoKSkuCj4gPiArCSAqLwo+ID4g
KwlpZiAoIXJjbW0tPmVuYWJsZWQpIHsKPiA+ICsJCWlmICghY29uZmlnLT5sdXQuZW5hYmxlKQo+
ID4gKwkJCXJldHVybiAwOwo+ID4gKwo+ID4gKwkJLyoKPiA+ICsJCSAqIFN0b3JlIHRoZSBMVVQg
dGFibGUgZW50cmllcyBpbiB0aGUgc2NyYXRjaCBidWZmZXIgdG8gYmUgbGF0ZXIKPiA+ICsJCSAq
IHByb2dyYW1tZWQgYXQgZW5hYmxlIHRpbWUuCj4gPiArCQkgKi8KPiA+ICsJCWZvciAoaSA9IDA7
IGkgPCBjb25maWctPmx1dC5zaXplOyArK2kpCj4gPiArCQkJcmNtbS0+bHV0LnRhYmxlW2ldID0g
Y29uZmlnLT5sdXQudGFibGVbaV07Cj4gPiArCj4gPiArCQlyY21tLT5sdXQuc2l6ZSA9IGNvbmZp
Zy0+bHV0LnNpemU7Cj4gPiArCQlyY21tLT5sdXQucmVzdG9yZSA9IHRydWU7Cj4gPiArCj4gPiAr
CQlyZXR1cm4gMDsKPiA+ICsJfQo+ID4gKwo+ID4gKwkvKiBTdG9wIExVVCBvcGVyYXRpb25zLCBp
ZiByZXF1ZXN0ZWQuICovCj4gPiArCWlmIChyY21tLT5sdXQucnVubmluZyAmJiAhY29uZmlnLT5s
dXQuZW5hYmxlKSB7Cj4gPiArCQlyY2FyX2NtbV93cml0ZShyY21tLCBDTTJfTFVUX0NUUkwsIDAp
Owo+ID4gKwkJcmNtbS0+bHV0LnJ1bm5pbmcgPSAwOwo+ID4gKwkJcmNtbS0+bHV0LnNpemUgPSAw
Owo+ID4gKwo+ID4gKwkJcmV0dXJuIDA7Cj4gPiArCX0KPiA+ICsKPiA+ICsJLyogRW5hYmxlIExV
VCBhbmQgcHJvZ3JhbSB0aGUgbmV3IGdhbW1hIHRhYmxlIHZhbHVlcy4gKi8KPiA+ICsJaWYgKCFy
Y21tLT5sdXQucnVubmluZykgewo+ID4gKwkJcmNhcl9jbW1fd3JpdGUocmNtbSwgQ00yX0xVVF9D
VFJMLCBDTTJfTFVUX0NUUkxfRU4pOwo+ID4gKwkJcmNtbS0+bHV0LnJ1bm5pbmcgPSB0cnVlOwo+
ID4gKwl9Cj4gPiArCj4gPiArCXJjYXJfY21tX2x1dF93cml0ZShyY21tLCBjb25maWctPmx1dC5z
aXplLCBjb25maWctPmx1dC50YWJsZSk7Cj4gPiArCXJjbW0tPmx1dC5zaXplID0gY29uZmlnLT5s
dXQuc2l6ZTsKPiA+ICsKPiA+ICsJcmV0dXJuIDA7Cj4gPiArfQo+ID4gK0VYUE9SVF9TWU1CT0xf
R1BMKHJjYXJfY21tX3NldHVwKTsKPiA+ICsKPiA+ICsvKioKPiA+ICsgKiByY2FyX2NtbV9lbmFi
bGUgLSBlbmFibGUgdGhlIENNTSB1bml0Cj4gPiArICoKPiA+ICsgKiBAcGRldjogVGhlIHBsYXRm
b3JtIGRldmljZSBhc3NvY2lhdGVkIHdpdGggdGhlIENNTSBpbnN0YW5jZQo+ID4gKyAqCj4gPiAr
ICogRW5hYmxlIHRoZSBDTU0gdW5pdCBieSBlbmFibGluZyB0aGUgcGFyZW50IGNsb2NrIGFuZCBl
bmFibGluZyB0aGUgQ01NCj4gPiArICogY29tcG9uZW50cywgc3VjaCBhcyAxLUQgTFVULCBpZiBy
ZXF1ZXN0ZWQuCj4gPiArICovCj4gPiAraW50IHJjYXJfY21tX2VuYWJsZShzdHJ1Y3QgcGxhdGZv
cm1fZGV2aWNlICpwZGV2KQo+ID4gK3sKPiA+ICsJc3RydWN0IHJjYXJfY21tICpyY21tID0gcGxh
dGZvcm1fZ2V0X2RydmRhdGEocGRldik7Cj4gPiArCWludCByZXQ7Cj4gPiArCj4gPiArCWlmICgh
cmNtbSkKPiA+ICsJCXJldHVybiAtRVBST0JFX0RFRkVSOwo+ID4gKwo+ID4gKwlyZXQgPSBjbGtf
cHJlcGFyZV9lbmFibGUocmNtbS0+Y2xrKTsKPiA+ICsJaWYgKHJldCkKPiA+ICsJCXJldHVybiBy
ZXQ7Cj4gPiArCj4gPiArCS8qIEFwcGx5IHRoZSBMVVQgdGFibGUgdmFsdWVzIHNhdmVkIGF0IGNt
bV9zZXR1cCB0aW1lLiAqLwo+ID4gKwlpZiAocmNtbS0+bHV0LnJlc3RvcmUpIHsKPiA+ICsJCXJj
YXJfY21tX3dyaXRlKHJjbW0sIENNMl9MVVRfQ1RSTCwgQ00yX0xVVF9DVFJMX0VOKTsKPiA+ICsJ
CXJjYXJfY21tX2x1dF93cml0ZShyY21tLCByY21tLT5sdXQuc2l6ZSwgcmNtbS0+bHV0LnRhYmxl
KTsKPiA+ICsKPiA+ICsJCXJjbW0tPmx1dC5yZXN0b3JlID0gZmFsc2U7Cj4gPiArCQlyY21tLT5s
dXQucnVubmluZyA9IHRydWU7Cj4gPiArCX0KPiA+ICsKPiA+ICsJcmNtbS0+ZW5hYmxlZCA9IHRy
dWU7Cj4gPiArCj4gPiArCXJldHVybiAwOwo+ID4gK30KPiA+ICtFWFBPUlRfU1lNQk9MX0dQTChy
Y2FyX2NtbV9lbmFibGUpOwo+ID4gKwo+ID4gKy8qKgo+ID4gKyAqIHJjYXJfY21tX2Rpc2FibGUo
KSAtIGRpc2FibGUgdGhlIENNTSB1bml0Cj4gPiArICoKPiA+ICsgKiBEaXNhYmxlIHRoZSBDTU0g
dW5pdCBieSBzdG9wcGluZyB0aGUgcGFyZW50IGNsb2NrLgo+ID4gKyAqCj4gPiArICogQHBkZXY6
IFRoZSBwbGF0Zm9ybSBkZXZpY2UgYXNzb2NpYXRlZCB3aXRoIHRoZSBDTU0gaW5zdGFuY2UKPiA+
ICsgKi8KPiA+ICt2b2lkIHJjYXJfY21tX2Rpc2FibGUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAq
cGRldikKPiA+ICt7Cj4gPiArCXN0cnVjdCByY2FyX2NtbSAqcmNtbSA9IHBsYXRmb3JtX2dldF9k
cnZkYXRhKHBkZXYpOwo+ID4gKwo+ID4gKwlyY2FyX2NtbV93cml0ZShyY21tLCBDTTJfTFVUX0NU
UkwsIDApOwo+ID4gKwo+ID4gKwljbGtfZGlzYWJsZV91bnByZXBhcmUocmNtbS0+Y2xrKTsKPiA+
ICsKPiA+ICsJcmNtbS0+bHV0LnJlc3RvcmUgPSBmYWxzZTsKPiA+ICsJcmNtbS0+bHV0LnJ1bm5p
bmcgPSBmYWxzZTsKPiA+ICsJcmNtbS0+bHV0LnNpemUgPSAwOwo+ID4gKwo+ID4gKwlyY21tLT5l
bmFibGVkID0gZmFsc2U7Cj4gPiArfQo+ID4gK0VYUE9SVF9TWU1CT0xfR1BMKHJjYXJfY21tX2Rp
c2FibGUpOwo+ID4gKwo+ID4gKyNpZmRlZiBDT05GSUdfUE1fU0xFRVAKPiA+ICtzdGF0aWMgaW50
IHJjYXJfY21tX3BtX3N1c3BlbmQoc3RydWN0IGRldmljZSAqZGV2KQo+ID4gK3sKPiA+ICsJc3Ry
dWN0IHJjYXJfY21tICpyY21tID0gZGV2X2dldF9kcnZkYXRhKGRldik7Cj4gPiArCXVuc2lnbmVk
IGludCBpOwo+ID4gKwo+ID4gKwlpZiAoIShyY21tLT5sdXQucnVubmluZyB8fCByY21tLT5sdXQu
cmVzdG9yZSkpCj4gPiArCQlyZXR1cm4gMDsKPiA+ICsKPiA+ICsJLyogU2F2ZSB0aGUgTFVUIHRh
YmxlIGVudHJpZXMgaW4gdGhlIHNjcmF0Y2ggYnVmZmVyIHRhYmxlLiAqLwo+ID4gKwlmb3IgKGkg
PSAwOyBpIDwgcmNtbS0+bHV0LnNpemU7ICsraSkgewo+ID4gKwkJaW50IGVudHJ5ID0gcmNhcl9j
bW1fcmVhZChyY21tLCBDTTJfTFVUX1RCTEEoaSkpOwo+ID4gKwkJc3RydWN0IGRybV9jb2xvcl9s
dXQgKmx1dCA9ICZyY21tLT5sdXQudGFibGVbaV07Cj4gPiArCj4gPiArCQlsdXQtPmJsdWUgPSBl
bnRyeSAmIDB4ZmY7Cj4gPiArCQlsdXQtPmdyZWVuID0gKGVudHJ5ID4+IDgpICYgMHhmZjsKPiA+
ICsJCWx1dC0+cmVkID0gKGVudHJ5ID4+IDE2KSAmIDB4ZmY7Cj4gCj4gTmVlZCB0byBjb252ZXJ0
IHRoZSB2YWx1ZXMgYmFjayB0byBkcm1fY29sb3JfbHV0IHNjYWxlIGhlcmUuIEkgY291bGQKPiBu
b3QgZmluZCBhIGNvdW50ZXJwYXJ0IHRvIGRybV9jb2xvcl9sdXRfZXh0cmFjdCgpLCB0aG91Z2gu
Li4KCkhvdyBhYm91dCBzdG9yaW5nIHRoZSBMVVQgaW4gaGFyZHdhcmUgZm9ybWF0IGludGVybmFs
bHkgPyBJIHdvbmRlciBpZiB3ZQpzaG91bGQgYWx3YXlzIHVwZGF0ZSB0aGUgY2FjaGVkIGNvcHks
IGluIHdoaWNoIGNhc2UgcmNhcl9jbW1fbHV0X3dyaXRlKCkKY291bGQganVzdCB3cml0ZSB0aGUg
TFVUIHZhbHVlcyBmcm9tIHRoZSBjYWNoZS4KCj4gPiArCX0KPiA+ICsKPiA+ICsJcmNtbS0+bHV0
LnJlc3RvcmUgPSB0cnVlOwo+ID4gKwlyY21tLT5sdXQucnVubmluZyA9IGZhbHNlOwo+ID4gKwo+
ID4gKwlyY2FyX2NtbV93cml0ZShyY21tLCBDTTJfTFVUX0NUUkwsIDApOwo+ID4gKwo+ID4gKwly
ZXR1cm4gMDsKPiA+ICt9Cj4gPiArCj4gPiArc3RhdGljIGludCByY2FyX2NtbV9wbV9yZXN1bWUo
c3RydWN0IGRldmljZSAqZGV2KQo+ID4gK3sKPiA+ICsJc3RydWN0IHJjYXJfY21tICpyY21tID0g
ZGV2X2dldF9kcnZkYXRhKGRldik7Cj4gPiArCj4gPiArCWlmICghcmNtbS0+bHV0LnJlc3RvcmUp
Cj4gPiArCQlyZXR1cm4gMDsKPiA+ICsKPiA+ICsJLyogUHJvZ3JhbSB0aGUgTFVUIGVudHJpZXMg
c2F2ZWQgYXQgc3VzcGVuZCB0aW1lLiAqLwo+ID4gKwlyY2FyX2NtbV93cml0ZShyY21tLCBDTTJf
TFVUX0NUUkwsIENNMl9MVVRfQ1RSTF9FTik7Cj4gPiArCXJjYXJfY21tX2x1dF93cml0ZShyY21t
LCByY21tLT5sdXQuc2l6ZSwgcmNtbS0+bHV0LnRhYmxlKTsKPiA+ICsJcmNtbS0+bHV0LnJ1bm5p
bmcgPSB0cnVlOwo+ID4gKwlyY21tLT5sdXQucmVzdG9yZSA9IGZhbHNlOwo+ID4gKwo+ID4gKwly
ZXR1cm4gMDsKPiA+ICt9Cj4gPiArI2VuZGlmCj4gPiArCj4gPiArc3RhdGljIGNvbnN0IHN0cnVj
dCBkZXZfcG1fb3BzIHJjYXJfY21tX3BtX29wcyA9IHsKPiA+ICsJU0VUX1NZU1RFTV9TTEVFUF9Q
TV9PUFMocmNhcl9jbW1fcG1fc3VzcGVuZCwgcmNhcl9jbW1fcG1fcmVzdW1lKQo+ID4gK307Cj4g
PiArCj4gPiArc3RhdGljIGludCByY2FyX2NtbV9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNl
ICpwZGV2KQo+ID4gK3sKPiA+ICsJc3RydWN0IHJjYXJfY21tICpyY21tOwo+ID4gKwlzdHJ1Y3Qg
cmVzb3VyY2UgKnJlczsKPiA+ICsJcmVzb3VyY2Vfc2l6ZV90IHNpemU7Cj4gPiArCj4gPiArCXJj
bW0gPSBkZXZtX2t6YWxsb2MoJnBkZXYtPmRldiwgc2l6ZW9mKCpyY21tKSwgR0ZQX0tFUk5FTCk7
Cj4gPiArCWlmICghcmNtbSkKPiA+ICsJCXJldHVybiAtRU5PTUVNOwo+ID4gKwo+ID4gKwlwbGF0
Zm9ybV9zZXRfZHJ2ZGF0YShwZGV2LCByY21tKTsKPiA+ICsKPiA+ICsJcmVzID0gcGxhdGZvcm1f
Z2V0X3Jlc291cmNlKHBkZXYsIElPUkVTT1VSQ0VfTUVNLCAwKTsKPiA+ICsJc2l6ZSA9IHJlc291
cmNlX3NpemUocmVzKTsKPiA+ICsJaWYgKCFkZXZtX3JlcXVlc3RfbWVtX3JlZ2lvbigmcGRldi0+
ZGV2LCByZXMtPnN0YXJ0LCBzaXplLAo+ID4gKwkJCQkgICAgIGRldl9uYW1lKCZwZGV2LT5kZXYp
KSkgewo+ID4gKwkJZGV2X2VycigmcGRldi0+ZGV2LAo+ID4gKwkJCSJjYW4ndCByZXF1ZXN0IHJl
Z2lvbiBmb3IgcmVzb3VyY2UgJXBSXG4iLCByZXMpOwo+ID4gKwkJcmV0dXJuIC1FQlVTWTsKPiA+
ICsJfQo+ID4gKwo+ID4gKwlyY21tLT5iYXNlID0gZGV2bV9pb3JlbWFwX25vY2FjaGUoJnBkZXYt
PmRldiwgcmVzLT5zdGFydCwgc2l6ZSk7Cj4gPiArCWlmIChJU19FUlIocmNtbS0+YmFzZSkpCj4g
PiArCQlyZXR1cm4gUFRSX0VSUihyY21tLT5iYXNlKTsKPiA+ICsKPiA+ICsJcmNtbS0+Y2xrID0g
ZGV2bV9jbGtfZ2V0KCZwZGV2LT5kZXYsIE5VTEwpOwo+ID4gKwlpZiAoSVNfRVJSKHJjbW0tPmNs
aykpIHsKPiA+ICsJCWRldl9lcnIoJnBkZXYtPmRldiwgIkZhaWxlZCB0byBnZXQgQ01NIGNsb2Nr
Iik7Cj4gPiArCQlyZXR1cm4gUFRSX0VSUihyY21tLT5jbGspOwo+ID4gKwl9Cj4gPiArCj4gPiAr
CXJldHVybiAwOwo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgY29uc3Qgc3RydWN0IG9mX2Rldmlj
ZV9pZCByY2FyX2NtbV9vZl90YWJsZVtdID0gewo+ID4gKwl7IC5jb21wYXRpYmxlID0gInJlbmVz
YXMscmNhci1nZW4zLWNtbSIsIH0sCj4gPiArCXsgLmNvbXBhdGlibGUgPSAicmVuZXNhcyxyY2Fy
LWdlbjItY21tIiwgfSwKPiA+ICsJeyB9LAo+ID4gK307Cj4gPiArCj4gPiArTU9EVUxFX0RFVklD
RV9UQUJMRShvZiwgcmNhcl9jbW1fb2ZfdGFibGUpOwo+ID4gKwo+ID4gK3N0YXRpYyBzdHJ1Y3Qg
cGxhdGZvcm1fZHJpdmVyIHJjYXJfY21tX3BsYXRmb3JtX2RyaXZlciA9IHsKPiA+ICsJLnByb2Jl
CQk9IHJjYXJfY21tX3Byb2JlLAo+ID4gKwkuZHJpdmVyCQk9IHsKPiA+ICsJCS5uYW1lCT0gInJj
YXItY21tIiwKPiA+ICsJCS5wbQk9ICZyY2FyX2NtbV9wbV9vcHMsCj4gPiArCQkub2ZfbWF0Y2hf
dGFibGUgPSByY2FyX2NtbV9vZl90YWJsZSwKPiA+ICsJfSwKPiA+ICt9Owo+ID4gKwo+ID4gK21v
ZHVsZV9wbGF0Zm9ybV9kcml2ZXIocmNhcl9jbW1fcGxhdGZvcm1fZHJpdmVyKTsKPiA+ICsKPiA+
ICtNT0RVTEVfQVVUSE9SKCJKYWNvcG8gTW9uZGkgPGphY29wbytyZW5lc2FzQGptb25kaS5vcmc+
Iik7Cj4gPiArTU9EVUxFX0RFU0NSSVBUSU9OKCJSZW5lc2FzIFItQ2FyIENNTSBEcml2ZXIiKTsK
PiA+ICtNT0RVTEVfTElDRU5TRSgiR1BMIHYyIik7Cj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL3JjYXItZHUvcmNhcl9jbW0uaCBiL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJf
Y21tLmgKPiA+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0Cj4gPiBpbmRleCAwMDAwMDAwMDAwMDAuLjg3
NDRlNzJmMzJjZAo+ID4gLS0tIC9kZXYvbnVsbAo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3Jj
YXItZHUvcmNhcl9jbW0uaAo+ID4gQEAgLTAsMCArMSwzOCBAQAo+ID4gKy8qIFNQRFgtTGljZW5z
ZS1JZGVudGlmaWVyOiBHUEwtMi4wKyAqLwo+ID4gKy8qCj4gPiArICogcmNhcl9jbW0uaCAtLSBS
LUNhciBEaXNwbGF5IFVuaXQgQ29sb3IgTWFuYWdlbWVudCBNb2R1bGUKPiA+ICsgKgo+ID4gKyAq
IENvcHlyaWdodCAoQykgMjAxOSBKYWNvcG8gTW9uZGkgPGphY29wbytyZW5lc2FzQGptb25kaS5v
cmc+Cj4gPiArICovCj4gPiArCj4gPiArI2lmbmRlZiBfX1JDQVJfQ01NX0hfXwo+ID4gKyNkZWZp
bmUgX19SQ0FSX0NNTV9IX18KPiA+ICsKPiA+ICsjZGVmaW5lIENNTV9HQU1NQV9MVVRfU0laRQkJ
MjU2Cj4gPiArCj4gPiArc3RydWN0IHBsYXRmb3JtX2RldmljZTsKPiA+ICtzdHJ1Y3QgZHJtX2Nv
bG9yX2x1dDsKPiA+ICsKPiA+ICsvKioKPiA+ICsgKiBzdHJ1Y3QgcmNhcl9jbW1fY29uZmlnIC0g
Q01NIGNvbmZpZ3VyYXRpb24KPiA+ICsgKgo+ID4gKyAqIEBsdXQ6CTFELUxVVCBjb25maWd1cmF0
aW9uCj4gPiArICogQGx1dC5lbmFibGU6CTFELUxVVCBlbmFibGUgZmxhZwo+ID4gKyAqIEBsdXQu
dGFibGU6CTFELUxVVCB0YWJsZSBlbnRyaWVzLgo+ID4gKyAqIEBsdXQuc2l6ZQkxRC1MVVQgbnVt
YmVyIG9mIGVudHJpZXMuIE1heCBpcyAyNTYuCj4gPiArICovCj4gPiArc3RydWN0IHJjYXJfY21t
X2NvbmZpZyB7Cj4gPiArCXN0cnVjdCB7Cj4gPiArCQlib29sIGVuYWJsZTsKPiA+ICsJCXN0cnVj
dCBkcm1fY29sb3JfbHV0ICp0YWJsZTsKPiA+ICsJCXVuc2lnbmVkIGludCBzaXplOwo+ID4gKwl9
IGx1dDsKPiA+ICt9Owo+ID4gKwo+ID4gK2ludCByY2FyX2NtbV9lbmFibGUoc3RydWN0IHBsYXRm
b3JtX2RldmljZSAqcGRldik7Cj4gPiArdm9pZCByY2FyX2NtbV9kaXNhYmxlKHN0cnVjdCBwbGF0
Zm9ybV9kZXZpY2UgKnBkZXYpOwo+ID4gKwo+ID4gK2ludCByY2FyX2NtbV9zZXR1cChzdHJ1Y3Qg
cGxhdGZvcm1fZGV2aWNlICpwZGV2LAo+ID4gKwkJICAgY29uc3Qgc3RydWN0IHJjYXJfY21tX2Nv
bmZpZyAqY29uZmlnKTsKPiA+ICsKPiA+ICsjZW5kaWYgLyogX19SQ0FSX0NNTV9IX18gKi8KCi0t
IApSZWdhcmRzLAoKTGF1cmVudCBQaW5jaGFydApfX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0
cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9s
aXN0aW5mby9kcmktZGV2ZWw=
