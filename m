Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 8948AD3E26
	for <lists+dri-devel@lfdr.de>; Fri, 11 Oct 2019 13:18:44 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 73CEF6EC18;
	Fri, 11 Oct 2019 11:18:41 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from bhuna.collabora.co.uk (bhuna.collabora.co.uk [46.235.227.227])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 1EF6F6EC18
 for <dri-devel@lists.freedesktop.org>; Fri, 11 Oct 2019 11:18:40 +0000 (UTC)
Received: from [127.0.0.1] (localhost [127.0.0.1])
 (Authenticated sender: andrzej.p) with ESMTPSA id 77EA1290DCE
From: Andrzej Pietrasiewicz <andrzej.p@collabora.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH 2/2] drm/rockchip: Add support for afbc
Date: Fri, 11 Oct 2019 13:18:11 +0200
Message-Id: <20191011111813.20851-3-andrzej.p@collabora.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20191011111813.20851-1-andrzej.p@collabora.com>
References: <20191011111813.20851-1-andrzej.p@collabora.com>
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: David Airlie <airlied@linux.ie>, Liviu Dudau <liviu.dudau@arm.com>,
 Andrzej Pietrasiewicz <andrzej.p@collabora.com>,
 linux-rockchip@lists.infradead.org, linux-arm-kernel@lists.infradead.org,
 kernel@collabora.com, Sean Paul <sean@poorly.run>,
 linux-kernel@vger.kernel.org
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhpcyBwYXRjaCBhZGRzIHN1cHBvcnQgZm9yIGFmYmMgaGFuZGxpbmcuIGFmYmMgaXMgYSBjb21w
cmVzc2VkIGZvcm1hdAp3aGljaCByZWR1Y2VzIHRoZSBuZWNlc3NhcnkgbWVtb3J5IGJhbmR3aWR0
aC4KCkNvLWRldmVsb3BlZC1ieTogTWFyayBZYW8gPG1hcmsueWFvQHJvY2stY2hpcHMuY29tPgpT
aWduZWQtb2ZmLWJ5OiBNYXJrIFlhbyA8bWFyay55YW9Acm9jay1jaGlwcy5jb20+ClNpZ25lZC1v
ZmYtYnk6IEFuZHJ6ZWogUGlldHJhc2lld2ljeiA8YW5kcnplai5wQGNvbGxhYm9yYS5jb20+Ci0t
LQogZHJpdmVycy9ncHUvZHJtL3JvY2tjaGlwL0tjb25maWcgICAgICAgICAgICB8ICAgMSArCiBk
cml2ZXJzL2dwdS9kcm0vcm9ja2NoaXAvcm9ja2NoaXBfZHJtX2ZiLmMgIHwgIDQzICsrKysrKwog
ZHJpdmVycy9ncHUvZHJtL3JvY2tjaGlwL3JvY2tjaGlwX2RybV92b3AuYyB8IDE0MCArKysrKysr
KysrKysrKysrKysrLQogZHJpdmVycy9ncHUvZHJtL3JvY2tjaGlwL3JvY2tjaGlwX2RybV92b3Au
aCB8ICAxMiArKwogZHJpdmVycy9ncHUvZHJtL3JvY2tjaGlwL3JvY2tjaGlwX3ZvcF9yZWcuYyB8
ICA4NiArKysrKysrKysrKy0KIDUgZmlsZXMgY2hhbmdlZCwgMjc4IGluc2VydGlvbnMoKyksIDQg
ZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3JvY2tjaGlwL0tjb25m
aWcgYi9kcml2ZXJzL2dwdS9kcm0vcm9ja2NoaXAvS2NvbmZpZwppbmRleCA2ZjQyMjJmOGJlZWIu
LmZmNDkxZWZjNTJhNSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JvY2tjaGlwL0tjb25m
aWcKKysrIGIvZHJpdmVycy9ncHUvZHJtL3JvY2tjaGlwL0tjb25maWcKQEAgLTUsNiArNSw3IEBA
IGNvbmZpZyBEUk1fUk9DS0NISVAKIAlzZWxlY3QgRFJNX0dFTV9DTUFfSEVMUEVSCiAJc2VsZWN0
IERSTV9LTVNfSEVMUEVSCiAJc2VsZWN0IERSTV9QQU5FTAorCXNlbGVjdCBEUk1fQUZCQwogCXNl
bGVjdCBWSURFT01PREVfSEVMUEVSUwogCXNlbGVjdCBEUk1fQU5BTE9HSVhfRFAgaWYgUk9DS0NI
SVBfQU5BTE9HSVhfRFAKIAlzZWxlY3QgRFJNX0RXX0hETUkgaWYgUk9DS0NISVBfRFdfSERNSQpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3JvY2tjaGlwL3JvY2tjaGlwX2RybV9mYi5jIGIv
ZHJpdmVycy9ncHUvZHJtL3JvY2tjaGlwL3JvY2tjaGlwX2RybV9mYi5jCmluZGV4IDY0Y2E4N2Nm
NmQ1MC4uODczMTg1YjNhNzIxIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcm9ja2NoaXAv
cm9ja2NoaXBfZHJtX2ZiLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3JvY2tjaGlwL3JvY2tjaGlw
X2RybV9mYi5jCkBAIC04LDYgKzgsNyBAQAogI2luY2x1ZGUgPGRybS9kcm0uaD4KICNpbmNsdWRl
IDxkcm0vZHJtUC5oPgogI2luY2x1ZGUgPGRybS9kcm1fYXRvbWljLmg+CisjaW5jbHVkZSA8ZHJt
L2RybV9hZmJjLmg+CiAjaW5jbHVkZSA8ZHJtL2RybV9kYW1hZ2VfaGVscGVyLmg+CiAjaW5jbHVk
ZSA8ZHJtL2RybV9mYl9oZWxwZXIuaD4KICNpbmNsdWRlIDxkcm0vZHJtX2dlbV9mcmFtZWJ1ZmZl
cl9oZWxwZXIuaD4KQEAgLTE4LDYgKzE5LDggQEAKICNpbmNsdWRlICJyb2NrY2hpcF9kcm1fZ2Vt
LmgiCiAjaW5jbHVkZSAicm9ja2NoaXBfZHJtX3Bzci5oIgogCisjZGVmaW5lIFJPQ0tDSElQX01B
WF9BRkJDX1dJRFRICTI1NjAKKwogc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fZnJhbWVidWZmZXJf
ZnVuY3Mgcm9ja2NoaXBfZHJtX2ZiX2Z1bmNzID0gewogCS5kZXN0cm95ICAgICAgID0gZHJtX2dl
bV9mYl9kZXN0cm95LAogCS5jcmVhdGVfaGFuZGxlID0gZHJtX2dlbV9mYl9jcmVhdGVfaGFuZGxl
LApAQCAtMzIsNiArMzUsNDYgQEAgcm9ja2NoaXBfZmJfYWxsb2Moc3RydWN0IGRybV9kZXZpY2Ug
KmRldiwgY29uc3Qgc3RydWN0IGRybV9tb2RlX2ZiX2NtZDIgKm1vZGVfY20KIAlpbnQgcmV0Owog
CWludCBpOwogCisJaWYgKG1vZGVfY21kLT5tb2RpZmllclswXSkgeworCQljb25zdCBzdHJ1Y3Qg
ZHJtX2Zvcm1hdF9pbmZvICppbmZvOworCQlpbnQgYnBwOworCisJCWlmIChtb2RlX2NtZC0+bW9k
aWZpZXJbMF0gJgorCQkJfkRSTV9GT1JNQVRfTU9EX0FSTV9BRkJDKAorCQkJCUFGQkNfRk9STUFU
X01PRF9CTE9DS19TSVpFXzE2eDE2IHwKKwkJCQlBRkJDX0ZPUk1BVF9NT0RfU1BBUlNFCisJCQkg
KQorCQkpIHsKKwkJCURSTV9ERVZfRVJST1IoZGV2LT5kZXYsCisJCQkJIlVuc3VwcG9ydGVkIGZv
cm1hdCBtb2RpZmVyIDB4JWxseFxuIiwKKwkJCQltb2RlX2NtZC0+bW9kaWZpZXJbMF0KKwkJCSk7
CisKKwkJCXJldHVybiBFUlJfUFRSKC1FSU5WQUwpOworCQl9CisKKwkJaWYgKCFkcm1fYWZiY19j
aGVja19vZmZzZXQoZGV2LCBtb2RlX2NtZCkpCisJCQlyZXR1cm4gRVJSX1BUUigtRUlOVkFMKTsK
KworCQlpZiAoIWRybV9hZmJjX2NoZWNrX3NpemVfYWxpZ24oZGV2LCBtb2RlX2NtZCkpCisJCQly
ZXR1cm4gRVJSX1BUUigtRUlOVkFMKTsKKworCQlpZiAobW9kZV9jbWQtPndpZHRoID4gUk9DS0NI
SVBfTUFYX0FGQkNfV0lEVEgpIHsKKwkJCURSTV9ERVZfRVJST1IoZGV2LT5kZXYsCisJCQkJIlVu
c3VwcG9ydGVkIHdpZHRoICVkPiVkXG4iLAorCQkJCW1vZGVfY21kLT53aWR0aCwKKwkJCQlST0NL
Q0hJUF9NQVhfQUZCQ19XSURUSCk7CisKKwkJCXJldHVybiBFUlJfUFRSKC1FSU5WQUwpOworCQl9
CisKKwkJaW5mbyA9IGRybV9nZXRfZm9ybWF0X2luZm8oZGV2LCBtb2RlX2NtZCk7CisJCWJwcCA9
IGluZm8tPmNwcFswXSAqIDg7CisKKwkJaWYgKCFkcm1fYWZiY19jaGVja19mYl9zaXplKGRldiwg
bW9kZV9jbWQsIG9ialswXSwgYnBwKSkKKwkJCXJldHVybiBFUlJfUFRSKC1FSU5WQUwpOworCX0K
KwogCWZiID0ga3phbGxvYyhzaXplb2YoKmZiKSwgR0ZQX0tFUk5FTCk7CiAJaWYgKCFmYikKIAkJ
cmV0dXJuIEVSUl9QVFIoLUVOT01FTSk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcm9j
a2NoaXAvcm9ja2NoaXBfZHJtX3ZvcC5jIGIvZHJpdmVycy9ncHUvZHJtL3JvY2tjaGlwL3JvY2tj
aGlwX2RybV92b3AuYwppbmRleCAyMWI2OGVlYTQ2Y2MuLjBhYzlhYjNiZTNmMSAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL3JvY2tjaGlwL3JvY2tjaGlwX2RybV92b3AuYworKysgYi9kcml2
ZXJzL2dwdS9kcm0vcm9ja2NoaXAvcm9ja2NoaXBfZHJtX3ZvcC5jCkBAIC05MCw5ICs5MCwyMCBA
QAogI2RlZmluZSBWT1BfV0lOX1RPX0lOREVYKHZvcF93aW4pIFwKIAkoKHZvcF93aW4pIC0gKHZv
cF93aW4pLT52b3AtPndpbikKIAorI2RlZmluZSBWT1BfQUZCQ19TRVQodm9wLCBuYW1lLCB2KSBc
CisJZG8geyBcCisJCWlmICgodm9wKS0+ZGF0YS0+YWZiYykgXAorCQkJdm9wX3JlZ19zZXQoKHZv
cCksICYodm9wKS0+ZGF0YS0+YWZiYy0+bmFtZSwgXAorCQkJCTAsIH4wLCB2LCAjbmFtZSk7IFwK
Kwl9IHdoaWxlICgwKQorCiAjZGVmaW5lIHRvX3ZvcCh4KSBjb250YWluZXJfb2YoeCwgc3RydWN0
IHZvcCwgY3J0YykKICNkZWZpbmUgdG9fdm9wX3dpbih4KSBjb250YWluZXJfb2YoeCwgc3RydWN0
IHZvcF93aW4sIGJhc2UpCiAKKyNkZWZpbmUgQUZCQ19GTVRfUkdCNTY1CQkweDAKKyNkZWZpbmUg
QUZCQ19GTVRfVThVOFU4VTgJMHg1CisjZGVmaW5lIEFGQkNfRk1UX1U4VThVOAkJMHg0CisKIC8q
CiAgKiBUaGUgY29lZmZpY2llbnRzIG9mIHRoZSBmb2xsb3dpbmcgbWF0cml4IGFyZSBhbGwgZml4
ZWQgcG9pbnRzLgogICogVGhlIGZvcm1hdCBpcyBTMi4xMCBmb3IgdGhlIDN4MyBwYXJ0IG9mIHRo
ZSBtYXRyaXgsIGFuZCBTOS4xMiBmb3IgdGhlIG9mZnNldHMuCkBAIC0xNjMsNiArMTc0LDcgQEAg
c3RydWN0IHZvcCB7CiAJLyogb3B0aW9uYWwgaW50ZXJuYWwgcmdiIGVuY29kZXIgKi8KIAlzdHJ1
Y3Qgcm9ja2NoaXBfcmdiICpyZ2I7CiAKKwlzdHJ1Y3Qgdm9wX3dpbiAqYWZiY193aW47CiAJc3Ry
dWN0IHZvcF93aW4gd2luW107CiB9OwogCkBAIC0yNzEsNiArMjgzLDI3IEBAIHN0YXRpYyBlbnVt
IHZvcF9kYXRhX2Zvcm1hdCB2b3BfY29udmVydF9mb3JtYXQodWludDMyX3QgZm9ybWF0KQogCX0K
IH0KIAorc3RhdGljIGludCB2b3BfY29udmVydF9hZmJjX2Zvcm1hdCh1aW50MzJfdCBmb3JtYXQp
Cit7CisJc3dpdGNoIChmb3JtYXQpIHsKKwljYXNlIERSTV9GT1JNQVRfWFJHQjg4ODg6CisJY2Fz
ZSBEUk1fRk9STUFUX0FSR0I4ODg4OgorCWNhc2UgRFJNX0ZPUk1BVF9YQkdSODg4ODoKKwljYXNl
IERSTV9GT1JNQVRfQUJHUjg4ODg6CisJCXJldHVybiBBRkJDX0ZNVF9VOFU4VThVODsKKwljYXNl
IERSTV9GT1JNQVRfUkdCODg4OgorCWNhc2UgRFJNX0ZPUk1BVF9CR1I4ODg6CisJCXJldHVybiBB
RkJDX0ZNVF9VOFU4VTg7CisJY2FzZSBEUk1fRk9STUFUX1JHQjU2NToKKwljYXNlIERSTV9GT1JN
QVRfQkdSNTY1OgorCQlyZXR1cm4gQUZCQ19GTVRfUkdCNTY1OworCWRlZmF1bHQ6CisJCURSTV9F
UlJPUigidW5zdXBwb3J0ZWQgYWZiYyBmb3JtYXRbJTA4eF1cbiIsIGZvcm1hdCk7CisJfQorCisJ
cmV0dXJuIC1FSU5WQUw7Cit9CisKIHN0YXRpYyB1aW50MTZfdCBzY2xfdm9wX2NhbF9zY2FsZShl
bnVtIHNjYWxlX21vZGUgbW9kZSwgdWludDMyX3Qgc3JjLAogCQkJCSAgdWludDMyX3QgZHN0LCBi
b29sIGlzX2hvcml6b250YWwsCiAJCQkJICBpbnQgdnN1X21vZGUsIGludCAqdnNraXBsaW5lcykK
QEAgLTU4Nyw2ICs2MjAsMTUgQEAgc3RhdGljIGludCB2b3BfZW5hYmxlKHN0cnVjdCBkcm1fY3J0
YyAqY3J0YykKIAogCQl2b3Bfd2luX2Rpc2FibGUodm9wLCB3aW4pOwogCX0KKworCWlmICh2b3At
PmRhdGEtPmFmYmMpIHsKKwkJLyoKKwkJICogRGlzYWJsZSBBRkJDIGFuZCBmb3JnZXQgdGhlcmUg
d2FzIGEgdm9wIHdpbmRvdyB3aXRoIEFGQkMKKwkJICovCisJCVZPUF9BRkJDX1NFVCh2b3AsIGVu
YWJsZSwgMCk7CisJCXZvcC0+YWZiY193aW4gPSBOVUxMOworCX0KKwogCXNwaW5fdW5sb2NrKCZ2
b3AtPnJlZ19sb2NrKTsKIAogCXZvcF9jZmdfZG9uZSh2b3ApOwpAQCAtNjcxLDYgKzcxMywzNiBA
QCBzdGF0aWMgdm9pZCB2b3BfcGxhbmVfZGVzdHJveShzdHJ1Y3QgZHJtX3BsYW5lICpwbGFuZSkK
IAlkcm1fcGxhbmVfY2xlYW51cChwbGFuZSk7CiB9CiAKK3N0YXRpYyBib29sIHJvY2tjaGlwX21v
ZF9zdXBwb3J0ZWQoc3RydWN0IGRybV9wbGFuZSAqcGxhbmUsCisJCQkJICAgdTMyIGZvcm1hdCwg
dTY0IG1vZGlmaWVyKQoreworCWNvbnN0IHN0cnVjdCBkcm1fZm9ybWF0X2luZm8gKmluZm87CisK
KwlpZiAoV0FSTl9PTihtb2RpZmllciA9PSBEUk1fRk9STUFUX01PRF9JTlZBTElEKSkKKwkJcmV0
dXJuIGZhbHNlOworCisJaWYgKG1vZGlmaWVyID09IERSTV9GT1JNQVRfTU9EX0xJTkVBUikKKwkJ
cmV0dXJuIHRydWU7CisKKwlpZiAobW9kaWZpZXIgJiB+RFJNX0ZPUk1BVF9NT0RfQVJNX0FGQkMo
CisJCQkJQUZCQ19GT1JNQVRfTU9EX0JMT0NLX1NJWkVfMTZ4MTYgfAorCQkJCUFGQkNfRk9STUFU
X01PRF9TUEFSU0UKKwkJCSkKKwkpIHsKKwkJRFJNX0RFQlVHX0tNUygiVW5zdXBwb3J0ZWQgZm9y
bWF0IG1vZGlmZXIgMHglbGx4XG4iLCBtb2RpZmllcik7CisKKwkJcmV0dXJuIGZhbHNlOworCX0K
KworCWluZm8gPSBkcm1fZm9ybWF0X2luZm8oZm9ybWF0KTsKKwlpZiAoaW5mby0+bnVtX3BsYW5l
cyAhPSAxKSB7CisJCURSTV9ERUJVR19LTVMoIkFGQkMgYnVmZmVycyBleHBlY3Qgb25lIHBsYW5l
XG4iKTsKKwkJcmV0dXJuIGZhbHNlOworCX0KKworCXJldHVybiB0cnVlOworfQorCiBzdGF0aWMg
aW50IHZvcF9wbGFuZV9hdG9taWNfY2hlY2soc3RydWN0IGRybV9wbGFuZSAqcGxhbmUsCiAJCQkg
ICBzdHJ1Y3QgZHJtX3BsYW5lX3N0YXRlICpzdGF0ZSkKIHsKQEAgLTcxOSw2ICs3OTEsMzMgQEAg
c3RhdGljIGludCB2b3BfcGxhbmVfYXRvbWljX2NoZWNrKHN0cnVjdCBkcm1fcGxhbmUgKnBsYW5l
LAogCQlyZXR1cm4gLUVJTlZBTDsKIAl9CiAKKwlpZiAoZmItPm1vZGlmaWVyID09IERSTV9GT1JN
QVRfTU9EX0FSTV9BRkJDKAorCQlBRkJDX0ZPUk1BVF9NT0RfQkxPQ0tfU0laRV8xNngxNiB8IEFG
QkNfRk9STUFUX01PRF9TUEFSU0UpKSB7CisJCXN0cnVjdCB2b3AgKnZvcCA9IHRvX3ZvcChjcnRj
KTsKKworCQlpZiAoIXZvcC0+ZGF0YS0+YWZiYykgeworCQkJRFJNX0VSUk9SKCJ2b3AgZG9lcyBu
b3Qgc3VwcG9ydCBBRkJDXG4iKTsKKwkJCXJldHVybiAtRUlOVkFMOworCQl9CisKKwkJcmV0ID0g
dm9wX2NvbnZlcnRfYWZiY19mb3JtYXQoZmItPmZvcm1hdC0+Zm9ybWF0KTsKKwkJaWYgKHJldCA8
IDApCisJCQlyZXR1cm4gcmV0OworCisJCWlmIChzdGF0ZS0+c3JjLngxIHx8IHN0YXRlLT5zcmMu
eTEpIHsKKwkJCURSTV9FUlJPUigiYWZiYyBkb2VzIG5vdCBzdXBwb3J0IG9mZnNldCBkaXNwbGF5
XG4iKTsKKwkJCURSTV9FUlJPUigieHBvcz0lZCwgeXBvcz0lZCwgb2Zmc2V0PSVkXG4iLAorCQkJ
CSAgc3RhdGUtPnNyYy54MSwgc3RhdGUtPnNyYy55MSwgZmItPm9mZnNldHNbMF0pOworCQkJcmV0
dXJuIC1FSU5WQUw7CisJCX0KKworCQlpZiAoc3RhdGUtPnJvdGF0aW9uICYmIHN0YXRlLT5yb3Rh
dGlvbiAhPSBEUk1fTU9ERV9ST1RBVEVfMCkgeworCQkJRFJNX0VSUk9SKCJhZmJjIGRvZXMgbm90
IHN1cHBvcnQgcm90YXRpb25cbiIpOworCQkJRFJNX0VSUk9SKCJyb3RhdGlvbj0lZFxuIiwgc3Rh
dGUtPnJvdGF0aW9uKTsKKwkJCXJldHVybiAtRUlOVkFMOworCQl9CisJfQorCiAJcmV0dXJuIDA7
CiB9CiAKQEAgLTczNSw2ICs4MzQsMTEgQEAgc3RhdGljIHZvaWQgdm9wX3BsYW5lX2F0b21pY19k
aXNhYmxlKHN0cnVjdCBkcm1fcGxhbmUgKnBsYW5lLAogCXNwaW5fbG9jaygmdm9wLT5yZWdfbG9j
ayk7CiAKIAl2b3Bfd2luX2Rpc2FibGUodm9wLCB3aW4pOworCS8qCisJICogRm9yZ2V0IGFib3V0
IHRoZSBBRkJDIHdpbmRvdyBpZiBpdCBpcyBiZWluZyBkaXNhYmxlZAorCSAqLworCWlmICh2b3Bf
d2luID09IHZvcC0+YWZiY193aW4pCisJCXZvcC0+YWZiY193aW4gPSBOVUxMOwogCiAJc3Bpbl91
bmxvY2soJnZvcC0+cmVnX2xvY2spOwogfQpAQCAtNzc0LDYgKzg3OCwxMyBAQCBzdGF0aWMgdm9p
ZCB2b3BfcGxhbmVfYXRvbWljX3VwZGF0ZShzdHJ1Y3QgZHJtX3BsYW5lICpwbGFuZSwKIAlpZiAo
V0FSTl9PTighdm9wLT5pc19lbmFibGVkKSkKIAkJcmV0dXJuOwogCisJLyoKKwkgKiBJZiB1cGRh
dGluZyB0aGUgQUZCQyB3aW5kb3cgdGhlbiBhc3N1bWUgdGhhdAorCSAqIGFmdGVyIHRoZSB1cGRh
dGUgdGhlcmUgd2lsbCBiZSBubyBBRkJDIHdpbmRvdy4KKwkgKi8KKwlpZiAodm9wX3dpbiA9PSB2
b3AtPmFmYmNfd2luKQorCQl2b3AtPmFmYmNfd2luID0gTlVMTDsKKwogCWlmICghc3RhdGUtPnZp
c2libGUpIHsKIAkJdm9wX3BsYW5lX2F0b21pY19kaXNhYmxlKHBsYW5lLCBvbGRfc3RhdGUpOwog
CQlyZXR1cm47CkBAIC04MDgsNiArOTE5LDI0IEBAIHN0YXRpYyB2b2lkIHZvcF9wbGFuZV9hdG9t
aWNfdXBkYXRlKHN0cnVjdCBkcm1fcGxhbmUgKnBsYW5lLAogCiAJc3Bpbl9sb2NrKCZ2b3AtPnJl
Z19sb2NrKTsKIAorCWlmIChmYi0+bW9kaWZpZXIgPT0gRFJNX0ZPUk1BVF9NT0RfQVJNX0FGQkMo
CisJCUFGQkNfRk9STUFUX01PRF9CTE9DS19TSVpFXzE2eDE2IHwgQUZCQ19GT1JNQVRfTU9EX1NQ
QVJTRSkpIHsKKwkJaW50IGFmYmNfZm9ybWF0ID0gdm9wX2NvbnZlcnRfYWZiY19mb3JtYXQoZmIt
PmZvcm1hdC0+Zm9ybWF0KTsKKworCQlWT1BfQUZCQ19TRVQodm9wLCBmb3JtYXQsIGFmYmNfZm9y
bWF0IHwgMSA8PCA0KTsKKwkJVk9QX0FGQkNfU0VUKHZvcCwgaHJlZ19ibG9ja19zcGxpdCwgMCk7
CisJCVZPUF9BRkJDX1NFVCh2b3AsIHdpbl9zZWwsIFZPUF9XSU5fVE9fSU5ERVgodm9wX3dpbikp
OworCQlWT1BfQUZCQ19TRVQodm9wLCBoZHJfcHRyLCBkbWFfYWRkcik7CisJCVZPUF9BRkJDX1NF
VCh2b3AsIHBpY19zaXplLCBhY3RfaW5mbyk7CisKKwkJLyoKKwkJICogVGhlIHdpbmRvdyBiZWlu
ZyB1ZGF0ZWQgYmVjb21lcyB0aGUgQUZCQyB3aW5kb3cKKwkJICovCisJCXZvcC0+YWZiY193aW4g
PSB2b3Bfd2luOworCisJCXByX2luZm8oIkFGQkMgb24gcGxhbmUgJXNcbiIsIHBsYW5lLT5uYW1l
KTsKKwl9CisKIAlWT1BfV0lOX1NFVCh2b3AsIHdpbiwgZm9ybWF0LCBmb3JtYXQpOwogCVZPUF9X
SU5fU0VUKHZvcCwgd2luLCB5cmdiX3ZpciwgRElWX1JPVU5EX1VQKGZiLT5waXRjaGVzWzBdLCA0
KSk7CiAJVk9QX1dJTl9TRVQodm9wLCB3aW4sIHlyZ2JfbXN0LCBkbWFfYWRkcik7CkBAIC05NjQs
NiArMTA5Myw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX3BsYW5lX2Z1bmNzIHZvcF9wbGFu
ZV9mdW5jcyA9IHsKIAkucmVzZXQgPSBkcm1fYXRvbWljX2hlbHBlcl9wbGFuZV9yZXNldCwKIAku
YXRvbWljX2R1cGxpY2F0ZV9zdGF0ZSA9IGRybV9hdG9taWNfaGVscGVyX3BsYW5lX2R1cGxpY2F0
ZV9zdGF0ZSwKIAkuYXRvbWljX2Rlc3Ryb3lfc3RhdGUgPSBkcm1fYXRvbWljX2hlbHBlcl9wbGFu
ZV9kZXN0cm95X3N0YXRlLAorCS5mb3JtYXRfbW9kX3N1cHBvcnRlZCA9IHJvY2tjaGlwX21vZF9z
dXBwb3J0ZWQsCiB9OwogCiBzdGF0aWMgaW50IHZvcF9jcnRjX2VuYWJsZV92Ymxhbmsoc3RydWN0
IGRybV9jcnRjICpjcnRjKQpAQCAtMTE2Myw2ICsxMjkzLDEwIEBAIHN0YXRpYyB2b2lkIHZvcF9j
cnRjX2F0b21pY19mbHVzaChzdHJ1Y3QgZHJtX2NydGMgKmNydGMsCiAKIAlzcGluX2xvY2soJnZv
cC0+cmVnX2xvY2spOwogCisJLyoKKwkgKiBFbmFibGUgQUZCQyBpZiB0aGVyZSBpcyBzb21lIEFG
QkMgd2luZG93LCBkaXNhYmxlIG90aGVyd2lzZQorCSAqLworCVZPUF9BRkJDX1NFVCh2b3AsIGVu
YWJsZSwgdm9wLT5hZmJjX3dpbiAhPSBOVUxMKTsKIAl2b3BfY2ZnX2RvbmUodm9wKTsKIAogCXNw
aW5fdW5sb2NrKCZ2b3AtPnJlZ19sb2NrKTsKQEAgLTE0NzEsNyArMTYwNSw4IEBAIHN0YXRpYyBp
bnQgdm9wX2NyZWF0ZV9jcnRjKHN0cnVjdCB2b3AgKnZvcCkKIAkJCQkJICAgICAgIDAsICZ2b3Bf
cGxhbmVfZnVuY3MsCiAJCQkJCSAgICAgICB3aW5fZGF0YS0+cGh5LT5kYXRhX2Zvcm1hdHMsCiAJ
CQkJCSAgICAgICB3aW5fZGF0YS0+cGh5LT5uZm9ybWF0cywKLQkJCQkJICAgICAgIE5VTEwsIHdp
bl9kYXRhLT50eXBlLCBOVUxMKTsKKwkJCQkJICAgICAgIHdpbl9kYXRhLT5waHktPmZvcm1hdF9t
b2RpZmllcnMsCisJCQkJCSAgICAgICB3aW5fZGF0YS0+dHlwZSwgTlVMTCk7CiAJCWlmIChyZXQp
IHsKIAkJCURSTV9ERVZfRVJST1Iodm9wLT5kZXYsICJmYWlsZWQgdG8gaW5pdCBwbGFuZSAlZFxu
IiwKIAkJCQkgICAgICByZXQpOwpAQCAtMTUxMSw3ICsxNjQ2LDggQEAgc3RhdGljIGludCB2b3Bf
Y3JlYXRlX2NydGMoc3RydWN0IHZvcCAqdm9wKQogCQkJCQkgICAgICAgJnZvcF9wbGFuZV9mdW5j
cywKIAkJCQkJICAgICAgIHdpbl9kYXRhLT5waHktPmRhdGFfZm9ybWF0cywKIAkJCQkJICAgICAg
IHdpbl9kYXRhLT5waHktPm5mb3JtYXRzLAotCQkJCQkgICAgICAgTlVMTCwgd2luX2RhdGEtPnR5
cGUsIE5VTEwpOworCQkJCQkgICAgICAgd2luX2RhdGEtPnBoeS0+Zm9ybWF0X21vZGlmaWVycywK
KwkJCQkJICAgICAgIHdpbl9kYXRhLT50eXBlLCBOVUxMKTsKIAkJaWYgKHJldCkgewogCQkJRFJN
X0RFVl9FUlJPUih2b3AtPmRldiwgImZhaWxlZCB0byBpbml0IG92ZXJsYXkgJWRcbiIsCiAJCQkJ
ICAgICAgcmV0KTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9yb2NrY2hpcC9yb2NrY2hp
cF9kcm1fdm9wLmggYi9kcml2ZXJzL2dwdS9kcm0vcm9ja2NoaXAvcm9ja2NoaXBfZHJtX3ZvcC5o
CmluZGV4IDIxNDlhODg5YzI5ZC4uMzcxYjI4YjkzM2E5IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vcm9ja2NoaXAvcm9ja2NoaXBfZHJtX3ZvcC5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9y
b2NrY2hpcC9yb2NrY2hpcF9kcm1fdm9wLmgKQEAgLTM0LDYgKzM0LDE2IEBAIHN0cnVjdCB2b3Bf
cmVnIHsKIAlib29sIHJlbGF4ZWQ7CiB9OwogCitzdHJ1Y3Qgdm9wX2FmYmMgeworCXN0cnVjdCB2
b3BfcmVnIGVuYWJsZTsKKwlzdHJ1Y3Qgdm9wX3JlZyB3aW5fc2VsOworCXN0cnVjdCB2b3BfcmVn
IGZvcm1hdDsKKwlzdHJ1Y3Qgdm9wX3JlZyBocmVnX2Jsb2NrX3NwbGl0OworCXN0cnVjdCB2b3Bf
cmVnIHBpY19zaXplOworCXN0cnVjdCB2b3BfcmVnIGhkcl9wdHI7CisJc3RydWN0IHZvcF9yZWcg
cnN0bjsKK307CisKIHN0cnVjdCB2b3BfbW9kZXNldCB7CiAJc3RydWN0IHZvcF9yZWcgaHRvdGFs
X3B3OwogCXN0cnVjdCB2b3BfcmVnIGhhY3Rfc3RfZW5kOwpAQCAtMTI4LDYgKzEzOCw3IEBAIHN0
cnVjdCB2b3Bfd2luX3BoeSB7CiAJY29uc3Qgc3RydWN0IHZvcF9zY2xfcmVncyAqc2NsOwogCWNv
bnN0IHVpbnQzMl90ICpkYXRhX2Zvcm1hdHM7CiAJdWludDMyX3QgbmZvcm1hdHM7CisJY29uc3Qg
dWludDY0X3QgKmZvcm1hdF9tb2RpZmllcnM7CiAKIAlzdHJ1Y3Qgdm9wX3JlZyBlbmFibGU7CiAJ
c3RydWN0IHZvcF9yZWcgZ2F0ZTsKQEAgLTE2Nyw2ICsxNzgsNyBAQCBzdHJ1Y3Qgdm9wX2RhdGEg
ewogCWNvbnN0IHN0cnVjdCB2b3BfbWlzYyAqbWlzYzsKIAljb25zdCBzdHJ1Y3Qgdm9wX21vZGVz
ZXQgKm1vZGVzZXQ7CiAJY29uc3Qgc3RydWN0IHZvcF9vdXRwdXQgKm91dHB1dDsKKwljb25zdCBz
dHJ1Y3Qgdm9wX2FmYmMgKmFmYmM7CiAJY29uc3Qgc3RydWN0IHZvcF93aW5feXV2Mnl1dl9kYXRh
ICp3aW5feXV2Mnl1djsKIAljb25zdCBzdHJ1Y3Qgdm9wX3dpbl9kYXRhICp3aW47CiAJdW5zaWdu
ZWQgaW50IHdpbl9zaXplOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3JvY2tjaGlwL3Jv
Y2tjaGlwX3ZvcF9yZWcuYyBiL2RyaXZlcnMvZ3B1L2RybS9yb2NrY2hpcC9yb2NrY2hpcF92b3Bf
cmVnLmMKaW5kZXggN2I5Yzc0NzUwZjZkLi5hMzk4MWYwMzdjOTAgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9yb2NrY2hpcC9yb2NrY2hpcF92b3BfcmVnLmMKKysrIGIvZHJpdmVycy9ncHUv
ZHJtL3JvY2tjaGlwL3JvY2tjaGlwX3ZvcF9yZWcuYwpAQCAtNDQsNiArNDQsMjAgQEAgc3RhdGlj
IGNvbnN0IHVpbnQzMl90IGZvcm1hdHNfd2luX2Z1bGxbXSA9IHsKIAlEUk1fRk9STUFUX05WMjQs
CiB9OwogCitzdGF0aWMgY29uc3QgdWludDY0X3QgZm9ybWF0X21vZGlmaWVyc193aW5fZnVsbFtd
ID0geworCURSTV9GT1JNQVRfTU9EX05PTkUsCisJRFJNX0ZPUk1BVF9NT0RfSU5WQUxJRCwKK307
CisKK3N0YXRpYyBjb25zdCB1aW50NjRfdCBmb3JtYXRfbW9kaWZpZXJzX3dpbl9mdWxsX2FmYmNb
XSA9IHsKKwlEUk1fRk9STUFUX01PRF9BUk1fQUZCQygKKwkJQUZCQ19GT1JNQVRfTU9EX0JMT0NL
X1NJWkVfMTZ4MTYgfAorCQlBRkJDX0ZPUk1BVF9NT0RfU1BBUlNFCisJKSwKKwlEUk1fRk9STUFU
X01PRF9MSU5FQVIsCisJRFJNX0ZPUk1BVF9NT0RfSU5WQUxJRCwKK307CisKIHN0YXRpYyBjb25z
dCB1aW50MzJfdCBmb3JtYXRzX3dpbl9saXRlW10gPSB7CiAJRFJNX0ZPUk1BVF9YUkdCODg4OCwK
IAlEUk1fRk9STUFUX0FSR0I4ODg4LApAQCAtNTUsNiArNjksMTEgQEAgc3RhdGljIGNvbnN0IHVp
bnQzMl90IGZvcm1hdHNfd2luX2xpdGVbXSA9IHsKIAlEUk1fRk9STUFUX0JHUjU2NSwKIH07CiAK
K3N0YXRpYyBjb25zdCB1aW50NjRfdCBmb3JtYXRfbW9kaWZpZXJzX3dpbl9saXRlW10gPSB7CisJ
RFJNX0ZPUk1BVF9NT0RfTElORUFSLAorCURSTV9GT1JNQVRfTU9EX0lOVkFMSUQsCit9OworCiBz
dGF0aWMgY29uc3Qgc3RydWN0IHZvcF9zY2xfcmVncyByazMwMzZfd2luX3NjbCA9IHsKIAkuc2Nh
bGVfeXJnYl94ID0gVk9QX1JFRyhSSzMwMzZfV0lOMF9TQ0xfRkFDVE9SX1lSR0IsIDB4ZmZmZiwg
MHgwKSwKIAkuc2NhbGVfeXJnYl95ID0gVk9QX1JFRyhSSzMwMzZfV0lOMF9TQ0xfRkFDVE9SX1lS
R0IsIDB4ZmZmZiwgMTYpLApAQCAtNjYsNiArODUsNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IHZv
cF93aW5fcGh5IHJrMzAzNl93aW4wX2RhdGEgPSB7CiAJLnNjbCA9ICZyazMwMzZfd2luX3NjbCwK
IAkuZGF0YV9mb3JtYXRzID0gZm9ybWF0c193aW5fZnVsbCwKIAkubmZvcm1hdHMgPSBBUlJBWV9T
SVpFKGZvcm1hdHNfd2luX2Z1bGwpLAorCS5mb3JtYXRfbW9kaWZpZXJzID0gZm9ybWF0X21vZGlm
aWVyc193aW5fZnVsbCwKIAkuZW5hYmxlID0gVk9QX1JFRyhSSzMwMzZfU1lTX0NUUkwsIDB4MSwg
MCksCiAJLmZvcm1hdCA9IFZPUF9SRUcoUkszMDM2X1NZU19DVFJMLCAweDcsIDMpLAogCS5yYl9z
d2FwID0gVk9QX1JFRyhSSzMwMzZfU1lTX0NUUkwsIDB4MSwgMTUpLApAQCAtODEsNiArMTAxLDcg
QEAgc3RhdGljIGNvbnN0IHN0cnVjdCB2b3Bfd2luX3BoeSByazMwMzZfd2luMF9kYXRhID0gewog
c3RhdGljIGNvbnN0IHN0cnVjdCB2b3Bfd2luX3BoeSByazMwMzZfd2luMV9kYXRhID0gewogCS5k
YXRhX2Zvcm1hdHMgPSBmb3JtYXRzX3dpbl9saXRlLAogCS5uZm9ybWF0cyA9IEFSUkFZX1NJWkUo
Zm9ybWF0c193aW5fbGl0ZSksCisJLmZvcm1hdF9tb2RpZmllcnMgPSBmb3JtYXRfbW9kaWZpZXJz
X3dpbl9saXRlLAogCS5lbmFibGUgPSBWT1BfUkVHKFJLMzAzNl9TWVNfQ1RSTCwgMHgxLCAxKSwK
IAkuZm9ybWF0ID0gVk9QX1JFRyhSSzMwMzZfU1lTX0NUUkwsIDB4NywgNiksCiAJLnJiX3N3YXAg
PSBWT1BfUkVHKFJLMzAzNl9TWVNfQ1RSTCwgMHgxLCAxOSksCkBAIC0xNDcsNiArMTY4LDcgQEAg
c3RhdGljIGNvbnN0IHN0cnVjdCB2b3BfZGF0YSByazMwMzZfdm9wID0gewogc3RhdGljIGNvbnN0
IHN0cnVjdCB2b3Bfd2luX3BoeSByazMxMjZfd2luMV9kYXRhID0gewogCS5kYXRhX2Zvcm1hdHMg
PSBmb3JtYXRzX3dpbl9saXRlLAogCS5uZm9ybWF0cyA9IEFSUkFZX1NJWkUoZm9ybWF0c193aW5f
bGl0ZSksCisJLmZvcm1hdF9tb2RpZmllcnMgPSBmb3JtYXRfbW9kaWZpZXJzX3dpbl9saXRlLAog
CS5lbmFibGUgPSBWT1BfUkVHKFJLMzAzNl9TWVNfQ1RSTCwgMHgxLCAxKSwKIAkuZm9ybWF0ID0g
Vk9QX1JFRyhSSzMwMzZfU1lTX0NUUkwsIDB4NywgNiksCiAJLnJiX3N3YXAgPSBWT1BfUkVHKFJL
MzAzNl9TWVNfQ1RSTCwgMHgxLCAxOSksCkBAIC0yMjYsNiArMjQ4LDcgQEAgc3RhdGljIGNvbnN0
IHN0cnVjdCB2b3Bfd2luX3BoeSBweDMwX3dpbjBfZGF0YSA9IHsKIAkuc2NsID0gJnB4MzBfd2lu
X3NjbCwKIAkuZGF0YV9mb3JtYXRzID0gZm9ybWF0c193aW5fZnVsbCwKIAkubmZvcm1hdHMgPSBB
UlJBWV9TSVpFKGZvcm1hdHNfd2luX2Z1bGwpLAorCS5mb3JtYXRfbW9kaWZpZXJzID0gZm9ybWF0
X21vZGlmaWVyc193aW5fZnVsbCwKIAkuZW5hYmxlID0gVk9QX1JFRyhQWDMwX1dJTjBfQ1RSTDAs
IDB4MSwgMCksCiAJLmZvcm1hdCA9IFZPUF9SRUcoUFgzMF9XSU4wX0NUUkwwLCAweDcsIDEpLAog
CS5yYl9zd2FwID0gVk9QX1JFRyhQWDMwX1dJTjBfQ1RSTDAsIDB4MSwgMTIpLApAQCAtMjQxLDYg
KzI2NCw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3Qgdm9wX3dpbl9waHkgcHgzMF93aW4wX2RhdGEg
PSB7CiBzdGF0aWMgY29uc3Qgc3RydWN0IHZvcF93aW5fcGh5IHB4MzBfd2luMV9kYXRhID0gewog
CS5kYXRhX2Zvcm1hdHMgPSBmb3JtYXRzX3dpbl9saXRlLAogCS5uZm9ybWF0cyA9IEFSUkFZX1NJ
WkUoZm9ybWF0c193aW5fbGl0ZSksCisJLmZvcm1hdF9tb2RpZmllcnMgPSBmb3JtYXRfbW9kaWZp
ZXJzX3dpbl9saXRlLAogCS5lbmFibGUgPSBWT1BfUkVHKFBYMzBfV0lOMV9DVFJMMCwgMHgxLCAw
KSwKIAkuZm9ybWF0ID0gVk9QX1JFRyhQWDMwX1dJTjFfQ1RSTDAsIDB4NywgNCksCiAJLnJiX3N3
YXAgPSBWT1BfUkVHKFBYMzBfV0lOMV9DVFJMMCwgMHgxLCAxMiksCkBAIC0yNTMsNiArMjc3LDcg
QEAgc3RhdGljIGNvbnN0IHN0cnVjdCB2b3Bfd2luX3BoeSBweDMwX3dpbjFfZGF0YSA9IHsKIHN0
YXRpYyBjb25zdCBzdHJ1Y3Qgdm9wX3dpbl9waHkgcHgzMF93aW4yX2RhdGEgPSB7CiAJLmRhdGFf
Zm9ybWF0cyA9IGZvcm1hdHNfd2luX2xpdGUsCiAJLm5mb3JtYXRzID0gQVJSQVlfU0laRShmb3Jt
YXRzX3dpbl9saXRlKSwKKwkuZm9ybWF0X21vZGlmaWVycyA9IGZvcm1hdF9tb2RpZmllcnNfd2lu
X2xpdGUsCiAJLmdhdGUgPSBWT1BfUkVHKFBYMzBfV0lOMl9DVFJMMCwgMHgxLCA0KSwKIAkuZW5h
YmxlID0gVk9QX1JFRyhQWDMwX1dJTjJfQ1RSTDAsIDB4MSwgMCksCiAJLmZvcm1hdCA9IFZPUF9S
RUcoUFgzMF9XSU4yX0NUUkwwLCAweDMsIDUpLApAQCAtMzA4LDYgKzMzMyw3IEBAIHN0YXRpYyBj
b25zdCBzdHJ1Y3Qgdm9wX3dpbl9waHkgcmszMDY2X3dpbjBfZGF0YSA9IHsKIAkuc2NsID0gJnJr
MzA2Nl93aW5fc2NsLAogCS5kYXRhX2Zvcm1hdHMgPSBmb3JtYXRzX3dpbl9mdWxsLAogCS5uZm9y
bWF0cyA9IEFSUkFZX1NJWkUoZm9ybWF0c193aW5fZnVsbCksCisJLmZvcm1hdF9tb2RpZmllcnMg
PSBmb3JtYXRfbW9kaWZpZXJzX3dpbl9mdWxsLAogCS5lbmFibGUgPSBWT1BfUkVHKFJLMzA2Nl9T
WVNfQ1RSTDEsIDB4MSwgMCksCiAJLmZvcm1hdCA9IFZPUF9SRUcoUkszMDY2X1NZU19DVFJMMCwg
MHg3LCA0KSwKIAkucmJfc3dhcCA9IFZPUF9SRUcoUkszMDY2X1NZU19DVFJMMCwgMHgxLCAxOSks
CkBAIC0zMjQsNiArMzUwLDcgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCB2b3Bfd2luX3BoeSByazMw
NjZfd2luMV9kYXRhID0gewogCS5zY2wgPSAmcmszMDY2X3dpbl9zY2wsCiAJLmRhdGFfZm9ybWF0
cyA9IGZvcm1hdHNfd2luX2Z1bGwsCiAJLm5mb3JtYXRzID0gQVJSQVlfU0laRShmb3JtYXRzX3dp
bl9mdWxsKSwKKwkuZm9ybWF0X21vZGlmaWVycyA9IGZvcm1hdF9tb2RpZmllcnNfd2luX2Z1bGws
CiAJLmVuYWJsZSA9IFZPUF9SRUcoUkszMDY2X1NZU19DVFJMMSwgMHgxLCAxKSwKIAkuZm9ybWF0
ID0gVk9QX1JFRyhSSzMwNjZfU1lTX0NUUkwwLCAweDcsIDcpLAogCS5yYl9zd2FwID0gVk9QX1JF
RyhSSzMwNjZfU1lTX0NUUkwwLCAweDEsIDIzKSwKQEAgLTMzOSw2ICszNjYsNyBAQCBzdGF0aWMg
Y29uc3Qgc3RydWN0IHZvcF93aW5fcGh5IHJrMzA2Nl93aW4xX2RhdGEgPSB7CiBzdGF0aWMgY29u
c3Qgc3RydWN0IHZvcF93aW5fcGh5IHJrMzA2Nl93aW4yX2RhdGEgPSB7CiAJLmRhdGFfZm9ybWF0
cyA9IGZvcm1hdHNfd2luX2xpdGUsCiAJLm5mb3JtYXRzID0gQVJSQVlfU0laRShmb3JtYXRzX3dp
bl9saXRlKSwKKwkuZm9ybWF0X21vZGlmaWVycyA9IGZvcm1hdF9tb2RpZmllcnNfd2luX2xpdGUs
CiAJLmVuYWJsZSA9IFZPUF9SRUcoUkszMDY2X1NZU19DVFJMMSwgMHgxLCAyKSwKIAkuZm9ybWF0
ID0gVk9QX1JFRyhSSzMwNjZfU1lTX0NUUkwwLCAweDcsIDEwKSwKIAkucmJfc3dhcCA9IFZPUF9S
RUcoUkszMDY2X1NZU19DVFJMMCwgMHgxLCAyNyksCkBAIC00MTgsNiArNDQ2LDcgQEAgc3RhdGlj
IGNvbnN0IHN0cnVjdCB2b3Bfd2luX3BoeSByazMxODhfd2luMF9kYXRhID0gewogCS5zY2wgPSAm
cmszMTg4X3dpbl9zY2wsCiAJLmRhdGFfZm9ybWF0cyA9IGZvcm1hdHNfd2luX2Z1bGwsCiAJLm5m
b3JtYXRzID0gQVJSQVlfU0laRShmb3JtYXRzX3dpbl9mdWxsKSwKKwkuZm9ybWF0X21vZGlmaWVy
cyA9IGZvcm1hdF9tb2RpZmllcnNfd2luX2Z1bGwsCiAJLmVuYWJsZSA9IFZPUF9SRUcoUkszMTg4
X1NZU19DVFJMLCAweDEsIDApLAogCS5mb3JtYXQgPSBWT1BfUkVHKFJLMzE4OF9TWVNfQ1RSTCwg
MHg3LCAzKSwKIAkucmJfc3dhcCA9IFZPUF9SRUcoUkszMTg4X1NZU19DVFJMLCAweDEsIDE1KSwK
QEAgLTQzMiw2ICs0NjEsNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IHZvcF93aW5fcGh5IHJrMzE4
OF93aW4wX2RhdGEgPSB7CiBzdGF0aWMgY29uc3Qgc3RydWN0IHZvcF93aW5fcGh5IHJrMzE4OF93
aW4xX2RhdGEgPSB7CiAJLmRhdGFfZm9ybWF0cyA9IGZvcm1hdHNfd2luX2xpdGUsCiAJLm5mb3Jt
YXRzID0gQVJSQVlfU0laRShmb3JtYXRzX3dpbl9saXRlKSwKKwkuZm9ybWF0X21vZGlmaWVycyA9
IGZvcm1hdF9tb2RpZmllcnNfd2luX2xpdGUsCiAJLmVuYWJsZSA9IFZPUF9SRUcoUkszMTg4X1NZ
U19DVFJMLCAweDEsIDEpLAogCS5mb3JtYXQgPSBWT1BfUkVHKFJLMzE4OF9TWVNfQ1RSTCwgMHg3
LCA2KSwKIAkucmJfc3dhcCA9IFZPUF9SRUcoUkszMTg4X1NZU19DVFJMLCAweDEsIDE5KSwKQEAg
LTUzNyw2ICs1NjcsNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IHZvcF93aW5fcGh5IHJrMzI4OF93
aW4wMV9kYXRhID0gewogCS5zY2wgPSAmcmszMjg4X3dpbl9mdWxsX3NjbCwKIAkuZGF0YV9mb3Jt
YXRzID0gZm9ybWF0c193aW5fZnVsbCwKIAkubmZvcm1hdHMgPSBBUlJBWV9TSVpFKGZvcm1hdHNf
d2luX2Z1bGwpLAorCS5mb3JtYXRfbW9kaWZpZXJzID0gZm9ybWF0X21vZGlmaWVyc193aW5fZnVs
bCwKIAkuZW5hYmxlID0gVk9QX1JFRyhSSzMyODhfV0lOMF9DVFJMMCwgMHgxLCAwKSwKIAkuZm9y
bWF0ID0gVk9QX1JFRyhSSzMyODhfV0lOMF9DVFJMMCwgMHg3LCAxKSwKIAkucmJfc3dhcCA9IFZP
UF9SRUcoUkszMjg4X1dJTjBfQ1RSTDAsIDB4MSwgMTIpLApAQCAtNTU1LDYgKzU4Niw3IEBAIHN0
YXRpYyBjb25zdCBzdHJ1Y3Qgdm9wX3dpbl9waHkgcmszMjg4X3dpbjAxX2RhdGEgPSB7CiBzdGF0
aWMgY29uc3Qgc3RydWN0IHZvcF93aW5fcGh5IHJrMzI4OF93aW4yM19kYXRhID0gewogCS5kYXRh
X2Zvcm1hdHMgPSBmb3JtYXRzX3dpbl9saXRlLAogCS5uZm9ybWF0cyA9IEFSUkFZX1NJWkUoZm9y
bWF0c193aW5fbGl0ZSksCisJLmZvcm1hdF9tb2RpZmllcnMgPSBmb3JtYXRfbW9kaWZpZXJzX3dp
bl9saXRlLAogCS5lbmFibGUgPSBWT1BfUkVHKFJLMzI4OF9XSU4yX0NUUkwwLCAweDEsIDQpLAog
CS5nYXRlID0gVk9QX1JFRyhSSzMyODhfV0lOMl9DVFJMMCwgMHgxLCAwKSwKIAkuZm9ybWF0ID0g
Vk9QX1JFRyhSSzMyODhfV0lOMl9DVFJMMCwgMHg3LCAxKSwKQEAgLTY2Nyw2ICs2OTksNyBAQCBz
dGF0aWMgY29uc3Qgc3RydWN0IHZvcF93aW5fcGh5IHJrMzM2OF93aW4wMV9kYXRhID0gewogCS5z
Y2wgPSAmcmszMjg4X3dpbl9mdWxsX3NjbCwKIAkuZGF0YV9mb3JtYXRzID0gZm9ybWF0c193aW5f
ZnVsbCwKIAkubmZvcm1hdHMgPSBBUlJBWV9TSVpFKGZvcm1hdHNfd2luX2Z1bGwpLAorCS5mb3Jt
YXRfbW9kaWZpZXJzID0gZm9ybWF0X21vZGlmaWVyc193aW5fZnVsbCwKIAkuZW5hYmxlID0gVk9Q
X1JFRyhSSzMzNjhfV0lOMF9DVFJMMCwgMHgxLCAwKSwKIAkuZm9ybWF0ID0gVk9QX1JFRyhSSzMz
NjhfV0lOMF9DVFJMMCwgMHg3LCAxKSwKIAkucmJfc3dhcCA9IFZPUF9SRUcoUkszMzY4X1dJTjBf
Q1RSTDAsIDB4MSwgMTIpLApAQCAtNjg3LDYgKzcyMCw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3Qg
dm9wX3dpbl9waHkgcmszMzY4X3dpbjAxX2RhdGEgPSB7CiBzdGF0aWMgY29uc3Qgc3RydWN0IHZv
cF93aW5fcGh5IHJrMzM2OF93aW4yM19kYXRhID0gewogCS5kYXRhX2Zvcm1hdHMgPSBmb3JtYXRz
X3dpbl9saXRlLAogCS5uZm9ybWF0cyA9IEFSUkFZX1NJWkUoZm9ybWF0c193aW5fbGl0ZSksCisJ
LmZvcm1hdF9tb2RpZmllcnMgPSBmb3JtYXRfbW9kaWZpZXJzX3dpbl9saXRlLAogCS5nYXRlID0g
Vk9QX1JFRyhSSzMzNjhfV0lOMl9DVFJMMCwgMHgxLCAwKSwKIAkuZW5hYmxlID0gVk9QX1JFRyhS
SzMzNjhfV0lOMl9DVFJMMCwgMHgxLCA0KSwKIAkuZm9ybWF0ID0gVk9QX1JFRyhSSzMzNjhfV0lO
Ml9DVFJMMCwgMHgzLCA1KSwKQEAgLTc5OCw2ICs4MzIsNTMgQEAgc3RhdGljIGNvbnN0IHN0cnVj
dCB2b3Bfd2luX3l1djJ5dXZfZGF0YSByazMzOTlfdm9wX2JpZ193aW5feXV2Mnl1dl9kYXRhW10g
PSB7CiAJICAueTJyX2VuID0gVk9QX1JFRyhSSzMzOTlfWVVWMllVVl9XSU4sIDB4MSwgOSkgfSwK
IAl7IC5iYXNlID0gMHhDMCwgLnBoeSA9ICZyazMzOTlfeXV2Mnl1dl93aW4yM19kYXRhIH0sCiAJ
eyAuYmFzZSA9IDB4MTIwLCAucGh5ID0gJnJrMzM5OV95dXYyeXV2X3dpbjIzX2RhdGEgfSwKKwor
fTsKKworc3RhdGljIGNvbnN0IHN0cnVjdCB2b3Bfd2luX3BoeSByazMzOTlfd2luMDFfZGF0YSA9
IHsKKwkuc2NsID0gJnJrMzI4OF93aW5fZnVsbF9zY2wsCisJLmRhdGFfZm9ybWF0cyA9IGZvcm1h
dHNfd2luX2Z1bGwsCisJLm5mb3JtYXRzID0gQVJSQVlfU0laRShmb3JtYXRzX3dpbl9mdWxsKSwK
KwkuZm9ybWF0X21vZGlmaWVycyA9IGZvcm1hdF9tb2RpZmllcnNfd2luX2Z1bGxfYWZiYywKKwku
ZW5hYmxlID0gVk9QX1JFRyhSSzMyODhfV0lOMF9DVFJMMCwgMHgxLCAwKSwKKwkuZm9ybWF0ID0g
Vk9QX1JFRyhSSzMyODhfV0lOMF9DVFJMMCwgMHg3LCAxKSwKKwkucmJfc3dhcCA9IFZPUF9SRUco
UkszMjg4X1dJTjBfQ1RSTDAsIDB4MSwgMTIpLAorCS55X21pcl9lbiA9IFZPUF9SRUcoUkszMjg4
X1dJTjBfQ1RSTDAsIDB4MSwgMjIpLAorCS5hY3RfaW5mbyA9IFZPUF9SRUcoUkszMjg4X1dJTjBf
QUNUX0lORk8sIDB4MWZmZjFmZmYsIDApLAorCS5kc3BfaW5mbyA9IFZPUF9SRUcoUkszMjg4X1dJ
TjBfRFNQX0lORk8sIDB4MGZmZjBmZmYsIDApLAorCS5kc3Bfc3QgPSBWT1BfUkVHKFJLMzI4OF9X
SU4wX0RTUF9TVCwgMHgxZmZmMWZmZiwgMCksCisJLnlyZ2JfbXN0ID0gVk9QX1JFRyhSSzMyODhf
V0lOMF9ZUkdCX01TVCwgMHhmZmZmZmZmZiwgMCksCisJLnV2X21zdCA9IFZPUF9SRUcoUkszMjg4
X1dJTjBfQ0JSX01TVCwgMHhmZmZmZmZmZiwgMCksCisJLnlyZ2JfdmlyID0gVk9QX1JFRyhSSzMy
ODhfV0lOMF9WSVIsIDB4M2ZmZiwgMCksCisJLnV2X3ZpciA9IFZPUF9SRUcoUkszMjg4X1dJTjBf
VklSLCAweDNmZmYsIDE2KSwKKwkuc3JjX2FscGhhX2N0bCA9IFZPUF9SRUcoUkszMjg4X1dJTjBf
U1JDX0FMUEhBX0NUUkwsIDB4ZmYsIDApLAorCS5kc3RfYWxwaGFfY3RsID0gVk9QX1JFRyhSSzMy
ODhfV0lOMF9EU1RfQUxQSEFfQ1RSTCwgMHhmZiwgMCksCit9OworCisvKgorICogcmszMzk5IHZv
cCBiaWcgd2luZG93cyByZWdpc3RlciBsYXlvdXQgaXMgc2FtZSBhcyByazMyODgsIGJ1dCB3ZQor
ICogaGF2ZSBhIHNlcGFyYXRlIHJrMzM5OSB3aW4gZGF0YSBhcnJheSBoZXJlIHNvIHRoYXQgd2Ug
Y2FuIGFkdmVydGlzZQorICogQUZCQyBvbiB0aGUgcHJpbWFyeSBwbGFuZS4KKyAqLworc3RhdGlj
IGNvbnN0IHN0cnVjdCB2b3Bfd2luX2RhdGEgcmszMzk5X3ZvcF93aW5fZGF0YVtdID0geworCXsg
LmJhc2UgPSAweDAwLCAucGh5ID0gJnJrMzM5OV93aW4wMV9kYXRhLAorCSAgLnR5cGUgPSBEUk1f
UExBTkVfVFlQRV9QUklNQVJZIH0sCisJeyAuYmFzZSA9IDB4NDAsIC5waHkgPSAmcmszMjg4X3dp
bjAxX2RhdGEsCisJICAudHlwZSA9IERSTV9QTEFORV9UWVBFX09WRVJMQVkgfSwKKwl7IC5iYXNl
ID0gMHgwMCwgLnBoeSA9ICZyazMyODhfd2luMjNfZGF0YSwKKwkgIC50eXBlID0gRFJNX1BMQU5F
X1RZUEVfT1ZFUkxBWSB9LAorCXsgLmJhc2UgPSAweDUwLCAucGh5ID0gJnJrMzI4OF93aW4yM19k
YXRhLAorCSAgLnR5cGUgPSBEUk1fUExBTkVfVFlQRV9DVVJTT1IgfSwKK307CisKK3N0YXRpYyBj
b25zdCBzdHJ1Y3Qgdm9wX2FmYmMgcmszMzk5X3ZvcF9hZmJjID0geworCS5yc3RuID0gVk9QX1JF
RyhSSzMzOTlfQUZCQ0QwX0NUUkwsIDB4MSwgMyksCisJLmVuYWJsZSA9IFZPUF9SRUcoUkszMzk5
X0FGQkNEMF9DVFJMLCAweDEsIDApLAorCS53aW5fc2VsID0gVk9QX1JFRyhSSzMzOTlfQUZCQ0Qw
X0NUUkwsIDB4MywgMSksCisJLmZvcm1hdCA9IFZPUF9SRUcoUkszMzk5X0FGQkNEMF9DVFJMLCAw
eDFmLCAxNiksCisJLmhyZWdfYmxvY2tfc3BsaXQgPSBWT1BfUkVHKFJLMzM5OV9BRkJDRDBfQ1RS
TCwgMHgxLCAyMSksCisJLmhkcl9wdHIgPSBWT1BfUkVHKFJLMzM5OV9BRkJDRDBfSERSX1BUUiwg
MHhmZmZmZmZmZiwgMCksCisJLnBpY19zaXplID0gVk9QX1JFRyhSSzMzOTlfQUZCQ0QwX1BJQ19T
SVpFLCAweGZmZmZmZmZmLCAwKSwKIH07CiAKIHN0YXRpYyBjb25zdCBzdHJ1Y3Qgdm9wX2RhdGEg
cmszMzk5X3ZvcF9iaWcgPSB7CkBAIC04MDcsOSArODg4LDEwIEBAIHN0YXRpYyBjb25zdCBzdHJ1
Y3Qgdm9wX2RhdGEgcmszMzk5X3ZvcF9iaWcgPSB7CiAJLmNvbW1vbiA9ICZyazMyODhfY29tbW9u
LAogCS5tb2Rlc2V0ID0gJnJrMzI4OF9tb2Rlc2V0LAogCS5vdXRwdXQgPSAmcmszMzk5X291dHB1
dCwKKwkuYWZiYyA9ICZyazMzOTlfdm9wX2FmYmMsCiAJLm1pc2MgPSAmcmszMzY4X21pc2MsCi0J
LndpbiA9IHJrMzM2OF92b3Bfd2luX2RhdGEsCi0JLndpbl9zaXplID0gQVJSQVlfU0laRShyazMz
Njhfdm9wX3dpbl9kYXRhKSwKKwkud2luID0gcmszMzk5X3ZvcF93aW5fZGF0YSwKKwkud2luX3Np
emUgPSBBUlJBWV9TSVpFKHJrMzM5OV92b3Bfd2luX2RhdGEpLAogCS53aW5feXV2Mnl1diA9IHJr
MzM5OV92b3BfYmlnX3dpbl95dXYyeXV2X2RhdGEsCiB9OwogCi0tIAoyLjE3LjEKCl9fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5n
IGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVk
ZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
