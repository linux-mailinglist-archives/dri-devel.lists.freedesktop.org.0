Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A78A4115C7F
	for <lists+dri-devel@lfdr.de>; Sat,  7 Dec 2019 15:04:25 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 41C086E180;
	Sat,  7 Dec 2019 14:04:23 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-lj1-x241.google.com (mail-lj1-x241.google.com
 [IPv6:2a00:1450:4864:20::241])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E22FF6E16B
 for <dri-devel@lists.freedesktop.org>; Sat,  7 Dec 2019 14:04:19 +0000 (UTC)
Received: by mail-lj1-x241.google.com with SMTP id e28so10675360ljo.9
 for <dri-devel@lists.freedesktop.org>; Sat, 07 Dec 2019 06:04:19 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:sender:from:to:cc:subject:date:message-id
 :in-reply-to:references:mime-version:content-transfer-encoding;
 bh=+bbubY9HJTCHfeW+RD8JJSmO1C6KxxFezRDYrdi2hCA=;
 b=oYto/UL9rIDgeAD0+qKfXYKleQK7CwjUdSTtS34vBhqXFYZj83c2Z45xLZT2TBFFK6
 tG9wNP8g9NfBnxm/HDZCJQCjM+g56QcuGhM8qm0S6sQtpBLb6yfEMxBsGPC6lKlbD9GZ
 xcZsXfCb8dcZ+1c5ElUWnzovokUdEIcIW3UzoXzUJLir9zoO6e8Io66sIcgwMxcs/AOg
 zU/1hUe9NJet6FUSNEmXc9adJpeupZNLykQWs7HG9RQy88avvGhbu8MvC0js/NWCj/oK
 1F6P261NGIhc2Iftz0thh6KckZ4p4ZryxVfGcbenK34/JGoLfIgzN4jL+N2YDg4QyGPr
 1F7w==
X-Gm-Message-State: APjAAAVjN2Gvp1kF47wvjLskYawbbomYLn1YHGGzKAFdjTvsVrcypF7P
 xSyllhI5ho1u62qOuurLwOrNAZ/iPbo+lQ==
X-Google-Smtp-Source: APXvYqzUTfqUVkzLVVdf6rt4gq/jut8/BT7asCuk0HlLy1tuUb3fl3pA/m4JQLsuw4+2PA3icjL41w==
X-Received: by 2002:a2e:9855:: with SMTP id e21mr11600738ljj.170.1575727457823; 
 Sat, 07 Dec 2019 06:04:17 -0800 (PST)
Received: from saturn.lan (18.158-248-194.customer.lyse.net. [158.248.194.18])
 by smtp.gmail.com with ESMTPSA id
 w17sm5644188lfn.22.2019.12.07.06.04.15
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Sat, 07 Dec 2019 06:04:17 -0800 (PST)
From: Sam Ravnborg <sam@ravnborg.org>
To: dri-devel@lists.freedesktop.org, Thierry Reding <thierry.reding@gmail.com>,
 Laurent Pinchart <laurent.pinchart@ideasonboard.com>,
 Linus Walleij <linus.walleij@linaro.org>, Sam Ravnborg <sam@ravnborg.org>
Subject: [PATCH v2 05/25] drm/panel: add drm_connector argument to get_modes()
Date: Sat,  7 Dec 2019 15:03:33 +0100
Message-Id: <20191207140353.23967-6-sam@ravnborg.org>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20191207140353.23967-1-sam@ravnborg.org>
References: <20191207140353.23967-1-sam@ravnborg.org>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=sender:from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=+bbubY9HJTCHfeW+RD8JJSmO1C6KxxFezRDYrdi2hCA=;
 b=Pw9uU8qeJAp8ohytY3XGLh+P4CeKQpO16ye+QVFneSGmEAiwyNngUBtZ8rQrDyT7CR
 +iC3fJVyy0jX1kbEIWSTs1IXjbcjd2OHH3o6weweZUSp/P97fLLnEVi6FMq4g/HGVIVc
 zRyRlixn4sVqUvfvRfJGrGbQcTFG3E00U3SHtkv5Isz4y+ef8jblXqn5D3miDZlXM9uK
 khxIxdOlkATRoi+dqxmOWIS2RGRfEN8Uuh8W3bFyTeMdjQwZiOpqZsLvLGJjgmjSC6sM
 kBte7/IwXu2Q3/2Wi5zRZy/izSy+xNY3j/dmcYoItgbObw5Sl+bIXCaejiGqZX1F/rv7
 gppQ==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Neil Armstrong <narmstrong@baylibre.com>, David Airlie <airlied@linux.ie>,
 =?UTF-8?q?Guido=20G=C3=BCnther?= <agx@sigxcpu.org>,
 linux-samsung-soc@vger.kernel.org, Stefan Mavrodiev <stefan@olimex.com>,
 linux-rockchip@lists.infradead.org, Tomi Valkeinen <tomi.valkeinen@ti.com>,
 Jagan Teki <jagan@amarulasolutions.com>, Robert Chiras <robert.chiras@nxp.com>,
 NXP Linux Team <linux-imx@nxp.com>, Jitao Shi <jitao.shi@mediatek.com>,
 Pengutronix Kernel Team <kernel@pengutronix.de>,
 linux-mediatek@lists.infradead.org, Abhinav Kumar <abhinavk@codeaurora.org>,
 linux-tegra@vger.kernel.org, Sean Paul <sean@poorly.run>,
 linux-arm-kernel@lists.infradead.org, Purism Kernel Team <kernel@puri.sm>,
 linux-renesas-soc@vger.kernel.org,
 Boris Brezillon <boris.brezillon@collabora.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VG9kYXkgdGhlIGJyaWRnZSBjcmVhdGVzIHRoZSBkcm1fY29ubmVjdG9yLCBidXQgdGhhdCBpcyBw
bGFubmVkCnRvIGJlIG1vdmVkIHRvIHRoZSBkaXNwbGF5IGRyaXZlcnMuClRvIGZhY2lsaXRhdGUg
dGhpcywgdXBkYXRlIGRybV9wYW5lbF9mdW5jcy5nZXRfbW9kZXMoKSB0bwp0YWtlIGRybV9jb25u
ZWN0b3IgYXMgYW4gYXJndW1lbnQuCkFsbCBwYW5lbCBkcml2ZXJzIGltcGxlbWVudGluZyBnZXRf
bW9kZXMoKSBhcmUgdXBkYXRlZC4KCnYyOgogIC0gZHJvcCBhY2NpZGVudGFsIGNoYW5nZSAoTGF1
cmVudCkKICAtIHVwZGF0ZSBkb2NzIGZvciBnZXRfbW9kZXMgKExhdXJlbnQpCgpTaWduZWQtb2Zm
LWJ5OiBTYW0gUmF2bmJvcmcgPHNhbUByYXZuYm9yZy5vcmc+ClJldmlld2VkLWJ5OiBMYXVyZW50
IFBpbmNoYXJ0IDxsYXVyZW50LnBpbmNoYXJ0QGlkZWFzb25ib2FyZC5jb20+ClJldmlld2VkLWJ5
OiBMaW51cyBXYWxsZWlqIDxsaW51cy53YWxsZWlqQGxpbmFyby5vcmc+CkNjOiBUaGllcnJ5IFJl
ZGluZyA8dGhpZXJyeS5yZWRpbmdAZ21haWwuY29tPgpDYzogTGF1cmVudCBQaW5jaGFydCA8bGF1
cmVudC5waW5jaGFydEBpZGVhc29uYm9hcmQuY29tPgpDYzogTWFhcnRlbiBMYW5raG9yc3QgPG1h
YXJ0ZW4ubGFua2hvcnN0QGxpbnV4LmludGVsLmNvbT4KQ2M6IE1heGltZSBSaXBhcmQgPG1yaXBh
cmRAa2VybmVsLm9yZz4KQ2M6IERhdmlkIEFpcmxpZSA8YWlybGllZEBsaW51eC5pZT4KQ2M6IERh
bmllbCBWZXR0ZXIgPGRhbmllbEBmZndsbC5jaD4KQ2M6IExpbnVzIFdhbGxlaWogPGxpbnVzLndh
bGxlaWpAbGluYXJvLm9yZz4KQ2M6IEphZ2FuIFRla2kgPGphZ2FuQGFtYXJ1bGFzb2x1dGlvbnMu
Y29tPgpDYzogU3RlZmFuIE1hdnJvZGlldiA8c3RlZmFuQG9saW1leC5jb20+CkNjOiBSb2JlcnQg
Q2hpcmFzIDxyb2JlcnQuY2hpcmFzQG54cC5jb20+CkNjOiAiR3VpZG8gR8O8bnRoZXIiIDxhZ3hA
c2lneGNwdS5vcmc+CkNjOiBQdXJpc20gS2VybmVsIFRlYW0gPGtlcm5lbEBwdXJpLnNtPgotLS0K
IGRyaXZlcnMvZ3B1L2RybS9kcm1fcGFuZWwuYyAgICAgICAgICAgICAgICAgICB8ICAyICstCiBk
cml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtYXJtLXZlcnNhdGlsZS5jICAgfCAgNCArLS0KIC4u
Li9kcm0vcGFuZWwvcGFuZWwtZmVpeWFuZy1meTA3MDI0ZGkyNmEzMGQuYyB8ICA0ICstLQogZHJp
dmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWlsaXRlay1pbGk5MzIyLmMgIHwgIDQgKy0tCiBkcml2
ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtaWxpdGVrLWlsaTk4ODFjLmMgfCAgOCArKystLS0KIGRy
aXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1pbm5vbHV4LXAwNzl6Y2EuYyB8IDEzICsrKysrLS0t
LQogLi4uL2dwdS9kcm0vcGFuZWwvcGFuZWwtamRpLWx0MDcwbWUwNTAwMC5jICAgIHwgIDkgKysr
Ky0tLQogLi4uL2RybS9wYW5lbC9wYW5lbC1raW5nZGlzcGxheS1rZDA5N2QwNC5jICAgIHwgMTEg
KysrKy0tLS0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1sZy1sYjAzNXEwMi5jICAgICB8
ICA0ICstLQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWxnLWxnNDU3My5jICAgICAgIHwg
IDggKysrLS0tCiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtbHZkcy5jICAgICAgICAgICAg
fCAgNCArLS0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1uZWMtbmw4MDQ4aGwxMS5jICB8
ICA0ICstLQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW5vdmF0ZWstbnQzOTAxNi5jIHwg
IDQgKy0tCiAuLi4vZHJtL3BhbmVsL3BhbmVsLW9saW1leC1sY2Qtb2xpbnV4aW5vLmMgICAgfCAg
NCArLS0KIC4uLi9ncHUvZHJtL3BhbmVsL3BhbmVsLW9yaXNldGVjaC1vdG04MDA5YS5jICB8ICA5
ICsrKystLS0KIC4uLi9kcm0vcGFuZWwvcGFuZWwtb3NkLW9zZDEwMXQyNTg3LTUzdHMuYyAgICB8
ICA5ICsrKystLS0KIC4uLi9kcm0vcGFuZWwvcGFuZWwtcGFuYXNvbmljLXZ2eDEwZjAzNG4wMC5j
ICB8ICA5ICsrKystLS0KIC4uLi9kcm0vcGFuZWwvcGFuZWwtcmFzcGJlcnJ5cGktdG91Y2hzY3Jl
ZW4uYyB8ICA0ICstLQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJheWRpdW0tcm02NzE5
MS5jIHwgIDYgKystLS0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yYXlkaXVtLXJtNjgy
MDAuYyB8ICA5ICsrKystLS0KIC4uLi9kcm0vcGFuZWwvcGFuZWwtcm9ja3RlY2gtamgwNTduMDA5
MDAuYyAgICB8ICA5ICsrKystLS0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yb25iby1y
YjA3MGQzMC5jICB8IDEwICsrKy0tLS0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1z
dW5nLWxkOTA0MC5jICB8ICA0ICstLQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1
bmctczZkMTZkMC5jIHwgIDQgKy0tCiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ftc3Vu
Zy1zNmUzaGEyLmMgfCAgNCArLS0KIC4uLi9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZl
NjNqMHgwMy5jICB8ICA0ICstLQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmct
czZlNjNtMC5jIHwgIDQgKy0tCiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ftc3VuZy1z
NmU4YWEwLmMgfCAgNCArLS0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zZWlrby00M3d2
ZjFnLmMgICB8ICA5ICsrKystLS0KIC4uLi9ncHUvZHJtL3BhbmVsL3BhbmVsLXNoYXJwLWxxMTAx
cjFzeDAxLmMgICB8ICA5ICsrKystLS0KIC4uLi9ncHUvZHJtL3BhbmVsL3BhbmVsLXNoYXJwLWxz
MDM3djdkdzAxLmMgICB8ICA0ICstLQogLi4uL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2hhcnAtbHMw
NDN0MWxlMDEuYyAgIHwgIDkgKysrKy0tLQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNp
bXBsZS5jICAgICAgICAgIHwgMjcgKysrKysrKysrKy0tLS0tLS0tLQogZHJpdmVycy9ncHUvZHJt
L3BhbmVsL3BhbmVsLXNpdHJvbml4LXN0NzcwMS5jIHwgIDkgKysrKy0tLQogLi4uL2dwdS9kcm0v
cGFuZWwvcGFuZWwtc2l0cm9uaXgtc3Q3Nzg5di5jICAgIHwgIDggKysrLS0tCiBkcml2ZXJzL2dw
dS9kcm0vcGFuZWwvcGFuZWwtc29ueS1hY3g1NjVha20uYyAgfCAgNCArLS0KIGRyaXZlcnMvZ3B1
L2RybS9wYW5lbC9wYW5lbC10cG8tdGQwMjh0dGVjMS5jICB8ICA0ICstLQogZHJpdmVycy9ncHUv
ZHJtL3BhbmVsL3BhbmVsLXRwby10ZDA0M210ZWExLmMgIHwgIDQgKy0tCiBkcml2ZXJzL2dwdS9k
cm0vcGFuZWwvcGFuZWwtdHBvLXRwZzExMC5jICAgICAgfCAgNCArLS0KIGRyaXZlcnMvZ3B1L2Ry
bS9wYW5lbC9wYW5lbC10cnVseS1udDM1NTk3LmMgICB8ICA0ICstLQogaW5jbHVkZS9kcm0vZHJt
X3BhbmVsLmggICAgICAgICAgICAgICAgICAgICAgIHwgIDYgKysrLS0KIDQxIGZpbGVzIGNoYW5n
ZWQsIDE0MyBpbnNlcnRpb25zKCspLCAxMzAgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2RybV9wYW5lbC5jIGIvZHJpdmVycy9ncHUvZHJtL2RybV9wYW5lbC5jCmlu
ZGV4IGMzMTJkNWViMjE0ZC4uNGNhYTczNGI0ZmRlIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vZHJtX3BhbmVsLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2RybV9wYW5lbC5jCkBAIC0yNjEs
NyArMjYxLDcgQEAgaW50IGRybV9wYW5lbF9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFu
ZWwpCiAJCXJldHVybiAtRUlOVkFMOwogCiAJaWYgKHBhbmVsLT5mdW5jcyAmJiBwYW5lbC0+ZnVu
Y3MtPmdldF9tb2RlcykKLQkJcmV0dXJuIHBhbmVsLT5mdW5jcy0+Z2V0X21vZGVzKHBhbmVsKTsK
KwkJcmV0dXJuIHBhbmVsLT5mdW5jcy0+Z2V0X21vZGVzKHBhbmVsLCBwYW5lbC0+Y29ubmVjdG9y
KTsKIAogCXJldHVybiAtRU9QTk9UU1VQUDsKIH0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9wYW5lbC9wYW5lbC1hcm0tdmVyc2F0aWxlLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFu
ZWwtYXJtLXZlcnNhdGlsZS5jCmluZGV4IGEwNTc0ZGMwM2UxNi4uNDFhYTkxZjYwOTc5IDEwMDY0
NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtYXJtLXZlcnNhdGlsZS5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1hcm0tdmVyc2F0aWxlLmMKQEAgLTI2MCw5ICsy
NjAsOSBAQCBzdGF0aWMgaW50IHZlcnNhdGlsZV9wYW5lbF9lbmFibGUoc3RydWN0IGRybV9wYW5l
bCAqcGFuZWwpCiAJcmV0dXJuIDA7CiB9CiAKLXN0YXRpYyBpbnQgdmVyc2F0aWxlX3BhbmVsX2dl
dF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKK3N0YXRpYyBpbnQgdmVyc2F0aWxlX3Bh
bmVsX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCwKKwkJCQkgICAgIHN0cnVjdCBk
cm1fY29ubmVjdG9yICpjb25uZWN0b3IpCiB7Ci0Jc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5l
Y3RvciA9IHBhbmVsLT5jb25uZWN0b3I7CiAJc3RydWN0IHZlcnNhdGlsZV9wYW5lbCAqdnBhbmVs
ID0gdG9fdmVyc2F0aWxlX3BhbmVsKHBhbmVsKTsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAq
bW9kZTsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWZlaXlhbmct
ZnkwNzAyNGRpMjZhMzBkLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtZmVpeWFuZy1m
eTA3MDI0ZGkyNmEzMGQuYwppbmRleCA5OGYxODRiODExODcuLjM3ZDZiNzM5MDk1NCAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWZlaXlhbmctZnkwNzAyNGRpMjZhMzBk
LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWZlaXlhbmctZnkwNzAyNGRpMjZh
MzBkLmMKQEAgLTE2Miw5ICsxNjIsOSBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5
X21vZGUgZmVpeWFuZ19kZWZhdWx0X21vZGUgPSB7CiAJLnR5cGUgPSBEUk1fTU9ERV9UWVBFX0RS
SVZFUiB8IERSTV9NT0RFX1RZUEVfUFJFRkVSUkVELAogfTsKIAotc3RhdGljIGludCBmZWl5YW5n
X2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKK3N0YXRpYyBpbnQgZmVpeWFuZ19n
ZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCisJCQkgICAgIHN0cnVjdCBkcm1fY29u
bmVjdG9yICpjb25uZWN0b3IpCiB7Ci0Jc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciA9
IHBhbmVsLT5jb25uZWN0b3I7CiAJc3RydWN0IGZlaXlhbmcgKmN0eCA9IHBhbmVsX3RvX2ZlaXlh
bmcocGFuZWwpOwogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtaWxpdGVrLWlsaTkzMjIuYyBiL2RyaXZlcnMv
Z3B1L2RybS9wYW5lbC9wYW5lbC1pbGl0ZWstaWxpOTMyMi5jCmluZGV4IDI0OTU1YmVjMTk1OC4u
N2U1MDYyYjA3YWM4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtaWxp
dGVrLWlsaTkzMjIuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtaWxpdGVrLWls
aTkzMjIuYwpAQCAtNjQxLDkgKzY0MSw5IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Rpc3Bs
YXlfbW9kZSBpdHVfcl9idF82NTZfNzIwX21vZGUgPSB7CiAJLmZsYWdzID0gMCwKIH07CiAKLXN0
YXRpYyBpbnQgaWxpOTMyMl9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCitzdGF0
aWMgaW50IGlsaTkzMjJfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsLAorCQkJICAg
ICBzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogewotCXN0cnVjdCBkcm1fY29ubmVj
dG9yICpjb25uZWN0b3IgPSBwYW5lbC0+Y29ubmVjdG9yOwogCXN0cnVjdCBpbGk5MzIyICppbGkg
PSBwYW5lbF90b19pbGk5MzIyKHBhbmVsKTsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9k
ZTsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfaW5mbyAqaW5mbzsKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9wYW5lbC9wYW5lbC1pbGl0ZWstaWxpOTg4MWMuYyBiL2RyaXZlcnMvZ3B1L2RybS9w
YW5lbC9wYW5lbC1pbGl0ZWstaWxpOTg4MWMuYwppbmRleCBlODc4OWU0NjBhMTYuLjFjNjdhNjY4
ZDZiZiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWlsaXRlay1pbGk5
ODgxYy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1pbGl0ZWstaWxpOTg4MWMu
YwpAQCAtMzg3LDkgKzM4Nyw5IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9k
ZSBiYW5hbmFwaV9kZWZhdWx0X21vZGUgPSB7CiAJLnZ0b3RhbAkJPSAxMjgwICsgMTAgKyAxMCAr
IDIwLAogfTsKIAotc3RhdGljIGludCBpbGk5ODgxY19nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5l
bCAqcGFuZWwpCitzdGF0aWMgaW50IGlsaTk4ODFjX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVs
ICpwYW5lbCwKKwkJCSAgICAgIHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCiB7Ci0J
c3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciA9IHBhbmVsLT5jb25uZWN0b3I7CiAJc3Ry
dWN0IGlsaTk4ODFjICpjdHggPSBwYW5lbF90b19pbGk5ODgxYyhwYW5lbCk7CiAJc3RydWN0IGRy
bV9kaXNwbGF5X21vZGUgKm1vZGU7CiAKQEAgLTQwNyw4ICs0MDcsOCBAQCBzdGF0aWMgaW50IGls
aTk4ODFjX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKIAltb2RlLT50eXBlID0g
RFJNX01PREVfVFlQRV9EUklWRVIgfCBEUk1fTU9ERV9UWVBFX1BSRUZFUlJFRDsKIAlkcm1fbW9k
ZV9wcm9iZWRfYWRkKGNvbm5lY3RvciwgbW9kZSk7CiAKLQlwYW5lbC0+Y29ubmVjdG9yLT5kaXNw
bGF5X2luZm8ud2lkdGhfbW0gPSA2MjsKLQlwYW5lbC0+Y29ubmVjdG9yLT5kaXNwbGF5X2luZm8u
aGVpZ2h0X21tID0gMTEwOworCWNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLndpZHRoX21tID0gNjI7
CisJY29ubmVjdG9yLT5kaXNwbGF5X2luZm8uaGVpZ2h0X21tID0gMTEwOwogCiAJcmV0dXJuIDE7
CiB9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtaW5ub2x1eC1wMDc5
emNhLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtaW5ub2x1eC1wMDc5emNhLmMKaW5k
ZXggODNkZjFhYzQyMTFmLi5mYWNmMWJhYjI1MzIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9wYW5lbC9wYW5lbC1pbm5vbHV4LXAwNzl6Y2EuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFu
ZWwvcGFuZWwtaW5ub2x1eC1wMDc5emNhLmMKQEAgLTQwMyw3ICs0MDMsOCBAQCBzdGF0aWMgY29u
c3Qgc3RydWN0IHBhbmVsX2Rlc2MgaW5ub2x1eF9wMDk3cGZnX3BhbmVsX2Rlc2MgPSB7CiAJLnNs
ZWVwX21vZGVfZGVsYXkgPSAxMDAsIC8qIFQxNSAqLwogfTsKIAotc3RhdGljIGludCBpbm5vbHV4
X3BhbmVsX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKK3N0YXRpYyBpbnQgaW5u
b2x1eF9wYW5lbF9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCisJCQkJICAgc3Ry
dWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvcikKIHsKIAlzdHJ1Y3QgaW5ub2x1eF9wYW5lbCAq
aW5ub2x1eCA9IHRvX2lubm9sdXhfcGFuZWwocGFuZWwpOwogCWNvbnN0IHN0cnVjdCBkcm1fZGlz
cGxheV9tb2RlICptID0gaW5ub2x1eC0+ZGVzYy0+bW9kZTsKQEAgLTQxOCwxMyArNDE5LDExIEBA
IHN0YXRpYyBpbnQgaW5ub2x1eF9wYW5lbF9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFu
ZWwpCiAKIAlkcm1fbW9kZV9zZXRfbmFtZShtb2RlKTsKIAotCWRybV9tb2RlX3Byb2JlZF9hZGQo
cGFuZWwtPmNvbm5lY3RvciwgbW9kZSk7CisJZHJtX21vZGVfcHJvYmVkX2FkZChjb25uZWN0b3Is
IG1vZGUpOwogCi0JcGFuZWwtPmNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLndpZHRoX21tID0KLQkJ
CWlubm9sdXgtPmRlc2MtPnNpemUud2lkdGg7Ci0JcGFuZWwtPmNvbm5lY3Rvci0+ZGlzcGxheV9p
bmZvLmhlaWdodF9tbSA9Ci0JCQlpbm5vbHV4LT5kZXNjLT5zaXplLmhlaWdodDsKLQlwYW5lbC0+
Y29ubmVjdG9yLT5kaXNwbGF5X2luZm8uYnBjID0gaW5ub2x1eC0+ZGVzYy0+YnBjOworCWNvbm5l
Y3Rvci0+ZGlzcGxheV9pbmZvLndpZHRoX21tID0gaW5ub2x1eC0+ZGVzYy0+c2l6ZS53aWR0aDsK
Kwljb25uZWN0b3ItPmRpc3BsYXlfaW5mby5oZWlnaHRfbW0gPSBpbm5vbHV4LT5kZXNjLT5zaXpl
LmhlaWdodDsKKwljb25uZWN0b3ItPmRpc3BsYXlfaW5mby5icGMgPSBpbm5vbHV4LT5kZXNjLT5i
cGM7CiAKIAlyZXR1cm4gMTsKIH0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9w
YW5lbC1qZGktbHQwNzBtZTA1MDAwLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtamRp
LWx0MDcwbWUwNTAwMC5jCmluZGV4IDU2MzY0YTkzZjBiOC4uZTZiNjUwYTY0ZmRiIDEwMDY0NAot
LS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtamRpLWx0MDcwbWUwNTAwMC5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1qZGktbHQwNzBtZTA1MDAwLmMKQEAgLTMwMCw3
ICszMDAsOCBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgZGVmYXVsdF9t
b2RlID0gewogCQkuZmxhZ3MgPSAwLAogfTsKIAotc3RhdGljIGludCBqZGlfcGFuZWxfZ2V0X21v
ZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQorc3RhdGljIGludCBqZGlfcGFuZWxfZ2V0X21v
ZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsLAorCQkJICAgICAgIHN0cnVjdCBkcm1fY29ubmVj
dG9yICpjb25uZWN0b3IpCiB7CiAJc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGU7CiAJc3Ry
dWN0IGpkaV9wYW5lbCAqamRpID0gdG9famRpX3BhbmVsKHBhbmVsKTsKQEAgLTMxNiwxMCArMzE3
LDEwIEBAIHN0YXRpYyBpbnQgamRpX3BhbmVsX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpw
YW5lbCkKIAogCWRybV9tb2RlX3NldF9uYW1lKG1vZGUpOwogCi0JZHJtX21vZGVfcHJvYmVkX2Fk
ZChwYW5lbC0+Y29ubmVjdG9yLCBtb2RlKTsKKwlkcm1fbW9kZV9wcm9iZWRfYWRkKGNvbm5lY3Rv
ciwgbW9kZSk7CiAKLQlwYW5lbC0+Y29ubmVjdG9yLT5kaXNwbGF5X2luZm8ud2lkdGhfbW0gPSA5
NTsKLQlwYW5lbC0+Y29ubmVjdG9yLT5kaXNwbGF5X2luZm8uaGVpZ2h0X21tID0gMTUxOworCWNv
bm5lY3Rvci0+ZGlzcGxheV9pbmZvLndpZHRoX21tID0gOTU7CisJY29ubmVjdG9yLT5kaXNwbGF5
X2luZm8uaGVpZ2h0X21tID0gMTUxOwogCiAJcmV0dXJuIDE7CiB9CmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwta2luZ2Rpc3BsYXkta2QwOTdkMDQuYyBiL2RyaXZlcnMv
Z3B1L2RybS9wYW5lbC9wYW5lbC1raW5nZGlzcGxheS1rZDA5N2QwNC5jCmluZGV4IDQ1Zjk2NTU2
ZWM4Yy4uZTZmNTNkNTZkYWY5IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFu
ZWwta2luZ2Rpc3BsYXkta2QwOTdkMDQuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFu
ZWwta2luZ2Rpc3BsYXkta2QwOTdkMDQuYwpAQCAtMzMzLDcgKzMzMyw4IEBAIHN0YXRpYyBjb25z
dCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSBkZWZhdWx0X21vZGUgPSB7CiAJLnZyZWZyZXNoID0g
NjAsCiB9OwogCi1zdGF0aWMgaW50IGtpbmdkaXNwbGF5X3BhbmVsX2dldF9tb2RlcyhzdHJ1Y3Qg
ZHJtX3BhbmVsICpwYW5lbCkKK3N0YXRpYyBpbnQga2luZ2Rpc3BsYXlfcGFuZWxfZ2V0X21vZGVz
KHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsLAorCQkJCSAgICAgICBzdHJ1Y3QgZHJtX2Nvbm5lY3Rv
ciAqY29ubmVjdG9yKQogewogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCkBAIC0z
NDcsMTEgKzM0OCwxMSBAQCBzdGF0aWMgaW50IGtpbmdkaXNwbGF5X3BhbmVsX2dldF9tb2Rlcyhz
dHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKIAogCWRybV9tb2RlX3NldF9uYW1lKG1vZGUpOwogCi0J
ZHJtX21vZGVfcHJvYmVkX2FkZChwYW5lbC0+Y29ubmVjdG9yLCBtb2RlKTsKKwlkcm1fbW9kZV9w
cm9iZWRfYWRkKGNvbm5lY3RvciwgbW9kZSk7CiAKLQlwYW5lbC0+Y29ubmVjdG9yLT5kaXNwbGF5
X2luZm8ud2lkdGhfbW0gPSAxNDc7Ci0JcGFuZWwtPmNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLmhl
aWdodF9tbSA9IDE5NjsKLQlwYW5lbC0+Y29ubmVjdG9yLT5kaXNwbGF5X2luZm8uYnBjID0gODsK
Kwljb25uZWN0b3ItPmRpc3BsYXlfaW5mby53aWR0aF9tbSA9IDE0NzsKKwljb25uZWN0b3ItPmRp
c3BsYXlfaW5mby5oZWlnaHRfbW0gPSAxOTY7CisJY29ubmVjdG9yLT5kaXNwbGF5X2luZm8uYnBj
ID0gODsKIAogCXJldHVybiAxOwogfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVs
L3BhbmVsLWxnLWxiMDM1cTAyLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtbGctbGIw
MzVxMDIuYwppbmRleCA3YTEzODVlODM0ZjAuLjdhM2JkNGQ4MGM3OSAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWxnLWxiMDM1cTAyLmMKKysrIGIvZHJpdmVycy9ncHUv
ZHJtL3BhbmVsL3BhbmVsLWxnLWxiMDM1cTAyLmMKQEAgLTE0MSw5ICsxNDEsOSBAQCBzdGF0aWMg
Y29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgbGIwMzVxMDJfbW9kZSA9IHsKIAkuaGVpZ2h0
X21tID0gNTMsCiB9OwogCi1zdGF0aWMgaW50IGxiMDM1cTAyX2dldF9tb2RlcyhzdHJ1Y3QgZHJt
X3BhbmVsICpwYW5lbCkKK3N0YXRpYyBpbnQgbGIwMzVxMDJfZ2V0X21vZGVzKHN0cnVjdCBkcm1f
cGFuZWwgKnBhbmVsLAorCQkJICAgICAgc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvcikK
IHsKLQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yID0gcGFuZWwtPmNvbm5lY3RvcjsK
IAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAogCW1vZGUgPSBkcm1fbW9kZV9kdXBs
aWNhdGUocGFuZWwtPmRybSwgJmxiMDM1cTAyX21vZGUpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL3BhbmVsL3BhbmVsLWxnLWxnNDU3My5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3Bh
bmVsLWxnLWxnNDU3My5jCmluZGV4IGRiNDg2NWE0YzJiOS4uZmM2NTcyYjRlMmY5IDEwMDY0NAot
LS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtbGctbGc0NTczLmMKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL3BhbmVsL3BhbmVsLWxnLWxnNDU3My5jCkBAIC0yMDksOSArMjA5LDkgQEAgc3Rh
dGljIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlIGRlZmF1bHRfbW9kZSA9IHsKIAkudnJl
ZnJlc2ggPSA2MCwKIH07CiAKLXN0YXRpYyBpbnQgbGc0NTczX2dldF9tb2RlcyhzdHJ1Y3QgZHJt
X3BhbmVsICpwYW5lbCkKK3N0YXRpYyBpbnQgbGc0NTczX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3Bh
bmVsICpwYW5lbCwKKwkJCSAgICBzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogewot
CXN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IgPSBwYW5lbC0+Y29ubmVjdG9yOwogCXN0
cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCiAJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0
ZShwYW5lbC0+ZHJtLCAmZGVmYXVsdF9tb2RlKTsKQEAgLTIyNyw4ICsyMjcsOCBAQCBzdGF0aWMg
aW50IGxnNDU3M19nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCiAJbW9kZS0+dHlw
ZSA9IERSTV9NT0RFX1RZUEVfRFJJVkVSIHwgRFJNX01PREVfVFlQRV9QUkVGRVJSRUQ7CiAJZHJt
X21vZGVfcHJvYmVkX2FkZChjb25uZWN0b3IsIG1vZGUpOwogCi0JcGFuZWwtPmNvbm5lY3Rvci0+
ZGlzcGxheV9pbmZvLndpZHRoX21tID0gNjE7Ci0JcGFuZWwtPmNvbm5lY3Rvci0+ZGlzcGxheV9p
bmZvLmhlaWdodF9tbSA9IDEwMzsKKwljb25uZWN0b3ItPmRpc3BsYXlfaW5mby53aWR0aF9tbSA9
IDYxOworCWNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLmhlaWdodF9tbSA9IDEwMzsKIAogCXJldHVy
biAxOwogfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWx2ZHMuYyBi
L2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1sdmRzLmMKaW5kZXggMjQwNWYyNmU1ZDMxLi5m
NmQ1OGE2MGU1MTQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1sdmRz
LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWx2ZHMuYwpAQCAtMTA2LDEwICsx
MDYsMTAgQEAgc3RhdGljIGludCBwYW5lbF9sdmRzX2VuYWJsZShzdHJ1Y3QgZHJtX3BhbmVsICpw
YW5lbCkKIAlyZXR1cm4gMDsKIH0KIAotc3RhdGljIGludCBwYW5lbF9sdmRzX2dldF9tb2Rlcyhz
dHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKK3N0YXRpYyBpbnQgcGFuZWxfbHZkc19nZXRfbW9kZXMo
c3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCisJCQkJc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5l
Y3RvcikKIHsKIAlzdHJ1Y3QgcGFuZWxfbHZkcyAqbHZkcyA9IHRvX3BhbmVsX2x2ZHMocGFuZWwp
OwotCXN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IgPSBsdmRzLT5wYW5lbC5jb25uZWN0
b3I7CiAJc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGU7CiAKIAltb2RlID0gZHJtX21vZGVf
Y3JlYXRlKGx2ZHMtPnBhbmVsLmRybSk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFu
ZWwvcGFuZWwtbmVjLW5sODA0OGhsMTEuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1u
ZWMtbmw4MDQ4aGwxMS5jCmluZGV4IGZkNTkzNTMyYWIyMy4uYTZjY2RiMDlhYWNlIDEwMDY0NAot
LS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtbmVjLW5sODA0OGhsMTEuYworKysgYi9k
cml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtbmVjLW5sODA0OGhsMTEuYwpAQCAtMTIzLDkgKzEy
Myw5IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSBubDgwNDhfbW9kZSA9
IHsKIAkuaGVpZ2h0X21tID0gNTMsCiB9OwogCi1zdGF0aWMgaW50IG5sODA0OF9nZXRfbW9kZXMo
c3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCitzdGF0aWMgaW50IG5sODA0OF9nZXRfbW9kZXMoc3Ry
dWN0IGRybV9wYW5lbCAqcGFuZWwsCisJCQkgICAgc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5l
Y3RvcikKIHsKLQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yID0gcGFuZWwtPmNvbm5l
Y3RvcjsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAogCW1vZGUgPSBkcm1fbW9k
ZV9kdXBsaWNhdGUocGFuZWwtPmRybSwgJm5sODA0OF9tb2RlKTsKZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1ub3ZhdGVrLW50MzkwMTYuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9wYW5lbC9wYW5lbC1ub3ZhdGVrLW50MzkwMTYuYwppbmRleCA2MGNjZWRjZTUzMGMuLjkxZWE0
OWMwNTYxMSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW5vdmF0ZWst
bnQzOTAxNi5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1ub3ZhdGVrLW50Mzkw
MTYuYwpAQCAtMjA2LDExICsyMDYsMTEgQEAgc3RhdGljIGludCBudDM5MDE2X2Rpc2FibGUoc3Ry
dWN0IGRybV9wYW5lbCAqZHJtX3BhbmVsKQogCXJldHVybiAwOwogfQogCi1zdGF0aWMgaW50IG50
MzkwMTZfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKmRybV9wYW5lbCkKK3N0YXRpYyBpbnQg
bnQzOTAxNl9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqZHJtX3BhbmVsLAorCQkJICAgICBz
dHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogewogCXN0cnVjdCBudDM5MDE2ICpwYW5l
bCA9IHRvX250MzkwMTYoZHJtX3BhbmVsKTsKIAljb25zdCBzdHJ1Y3QgbnQzOTAxNl9wYW5lbF9p
bmZvICpwYW5lbF9pbmZvID0gcGFuZWwtPnBhbmVsX2luZm87Ci0Jc3RydWN0IGRybV9jb25uZWN0
b3IgKmNvbm5lY3RvciA9IGRybV9wYW5lbC0+Y29ubmVjdG9yOwogCXN0cnVjdCBkcm1fZGlzcGxh
eV9tb2RlICptb2RlOwogCiAJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShkcm1fcGFuZWwtPmRy
bSwgJnBhbmVsX2luZm8tPmRpc3BsYXlfbW9kZSk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vcGFuZWwvcGFuZWwtb2xpbWV4LWxjZC1vbGludXhpbm8uYyBiL2RyaXZlcnMvZ3B1L2RybS9w
YW5lbC9wYW5lbC1vbGltZXgtbGNkLW9saW51eGluby5jCmluZGV4IDg3MzhlZjFiNjZkYy4uMmI3
ZTBkZmViYzVlIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtb2xpbWV4
LWxjZC1vbGludXhpbm8uYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtb2xpbWV4
LWxjZC1vbGludXhpbm8uYwpAQCAtMTQxLDEwICsxNDEsMTAgQEAgc3RhdGljIGludCBsY2Rfb2xp
bnV4aW5vX2VuYWJsZShzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKIAlyZXR1cm4gMDsKIH0KIAot
c3RhdGljIGludCBsY2Rfb2xpbnV4aW5vX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5l
bCkKK3N0YXRpYyBpbnQgbGNkX29saW51eGlub19nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAq
cGFuZWwsCisJCQkJICAgc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvcikKIHsKIAlzdHJ1
Y3QgbGNkX29saW51eGlubyAqbGNkID0gdG9fbGNkX29saW51eGlubyhwYW5lbCk7Ci0Jc3RydWN0
IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciA9IGxjZC0+cGFuZWwuY29ubmVjdG9yOwogCXN0cnVj
dCBsY2Rfb2xpbnV4aW5vX2luZm8gKmxjZF9pbmZvID0gJmxjZC0+ZWVwcm9tLmluZm87CiAJc3Ry
dWN0IGRybV9kZXZpY2UgKmRybSA9IGxjZC0+cGFuZWwuZHJtOwogCXN0cnVjdCBsY2Rfb2xpbnV4
aW5vX21vZGUgKmxjZF9tb2RlOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3Bh
bmVsLW9yaXNldGVjaC1vdG04MDA5YS5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW9y
aXNldGVjaC1vdG04MDA5YS5jCmluZGV4IGJmMWY5MjhiMjE1Zi4uNGUxNjA2Yzc5MDcyIDEwMDY0
NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtb3Jpc2V0ZWNoLW90bTgwMDlhLmMK
KysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW9yaXNldGVjaC1vdG04MDA5YS5jCkBA
IC0zNDksNyArMzQ5LDggQEAgc3RhdGljIGludCBvdG04MDA5YV9lbmFibGUoc3RydWN0IGRybV9w
YW5lbCAqcGFuZWwpCiAJcmV0dXJuIDA7CiB9CiAKLXN0YXRpYyBpbnQgb3RtODAwOWFfZ2V0X21v
ZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQorc3RhdGljIGludCBvdG04MDA5YV9nZXRfbW9k
ZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCisJCQkgICAgICBzdHJ1Y3QgZHJtX2Nvbm5lY3Rv
ciAqY29ubmVjdG9yKQogewogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCkBAIC0z
NjQsMTAgKzM2NSwxMCBAQCBzdGF0aWMgaW50IG90bTgwMDlhX2dldF9tb2RlcyhzdHJ1Y3QgZHJt
X3BhbmVsICpwYW5lbCkKIAlkcm1fbW9kZV9zZXRfbmFtZShtb2RlKTsKIAogCW1vZGUtPnR5cGUg
PSBEUk1fTU9ERV9UWVBFX0RSSVZFUiB8IERSTV9NT0RFX1RZUEVfUFJFRkVSUkVEOwotCWRybV9t
b2RlX3Byb2JlZF9hZGQocGFuZWwtPmNvbm5lY3RvciwgbW9kZSk7CisJZHJtX21vZGVfcHJvYmVk
X2FkZChjb25uZWN0b3IsIG1vZGUpOwogCi0JcGFuZWwtPmNvbm5lY3Rvci0+ZGlzcGxheV9pbmZv
LndpZHRoX21tID0gbW9kZS0+d2lkdGhfbW07Ci0JcGFuZWwtPmNvbm5lY3Rvci0+ZGlzcGxheV9p
bmZvLmhlaWdodF9tbSA9IG1vZGUtPmhlaWdodF9tbTsKKwljb25uZWN0b3ItPmRpc3BsYXlfaW5m
by53aWR0aF9tbSA9IG1vZGUtPndpZHRoX21tOworCWNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLmhl
aWdodF9tbSA9IG1vZGUtPmhlaWdodF9tbTsKIAogCXJldHVybiAxOwogfQpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW9zZC1vc2QxMDF0MjU4Ny01M3RzLmMgYi9kcml2
ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtb3NkLW9zZDEwMXQyNTg3LTUzdHMuYwppbmRleCAyYjQw
OTEzODk5ZDguLmIzZTAxMDI4OGMxMCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVs
L3BhbmVsLW9zZC1vc2QxMDF0MjU4Ny01M3RzLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVs
L3BhbmVsLW9zZC1vc2QxMDF0MjU4Ny01M3RzLmMKQEAgLTExMiw3ICsxMTIsOCBAQCBzdGF0aWMg
Y29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgZGVmYXVsdF9tb2RlX29zZDEwMXQyNTg3ID0g
ewogCS5mbGFncyA9IERSTV9NT0RFX0ZMQUdfTkhTWU5DIHwgRFJNX01PREVfRkxBR19OVlNZTkMs
CiB9OwogCi1zdGF0aWMgaW50IG9zZDEwMXQyNTg3X3BhbmVsX2dldF9tb2RlcyhzdHJ1Y3QgZHJt
X3BhbmVsICpwYW5lbCkKK3N0YXRpYyBpbnQgb3NkMTAxdDI1ODdfcGFuZWxfZ2V0X21vZGVzKHN0
cnVjdCBkcm1fcGFuZWwgKnBhbmVsLAorCQkJCSAgICAgICBzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAq
Y29ubmVjdG9yKQogewogCXN0cnVjdCBvc2QxMDF0MjU4N19wYW5lbCAqb3NkMTAxdDI1ODcgPSB0
aV9vc2RfcGFuZWwocGFuZWwpOwogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwpAQCAt
MTI4LDEwICsxMjksMTAgQEAgc3RhdGljIGludCBvc2QxMDF0MjU4N19wYW5lbF9nZXRfbW9kZXMo
c3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCiAKIAlkcm1fbW9kZV9zZXRfbmFtZShtb2RlKTsKIAot
CWRybV9tb2RlX3Byb2JlZF9hZGQocGFuZWwtPmNvbm5lY3RvciwgbW9kZSk7CisJZHJtX21vZGVf
cHJvYmVkX2FkZChjb25uZWN0b3IsIG1vZGUpOwogCi0JcGFuZWwtPmNvbm5lY3Rvci0+ZGlzcGxh
eV9pbmZvLndpZHRoX21tID0gMjE3OwotCXBhbmVsLT5jb25uZWN0b3ItPmRpc3BsYXlfaW5mby5o
ZWlnaHRfbW0gPSAxMzY7CisJY29ubmVjdG9yLT5kaXNwbGF5X2luZm8ud2lkdGhfbW0gPSAyMTc7
CisJY29ubmVjdG9yLT5kaXNwbGF5X2luZm8uaGVpZ2h0X21tID0gMTM2OwogCiAJcmV0dXJuIDE7
CiB9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtcGFuYXNvbmljLXZ2
eDEwZjAzNG4wMC5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXBhbmFzb25pYy12dngx
MGYwMzRuMDAuYwppbmRleCA2NjQ2MDUwNzFkMzQuLjE5YTZlYjQ2MzdjOCAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXBhbmFzb25pYy12dngxMGYwMzRuMDAuYworKysg
Yi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtcGFuYXNvbmljLXZ2eDEwZjAzNG4wMC5jCkBA
IC0xNjYsNyArMTY2LDggQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlIGRl
ZmF1bHRfbW9kZSA9IHsKIAkudnJlZnJlc2ggPSA2MCwKIH07CiAKLXN0YXRpYyBpbnQgd3V4Z2Ff
bnRfcGFuZWxfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQorc3RhdGljIGludCB3
dXhnYV9udF9wYW5lbF9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCisJCQkJICAg
IHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCiB7CiAJc3RydWN0IGRybV9kaXNwbGF5
X21vZGUgKm1vZGU7CiAKQEAgLTE4MCwxMCArMTgxLDEwIEBAIHN0YXRpYyBpbnQgd3V4Z2FfbnRf
cGFuZWxfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQogCiAJZHJtX21vZGVfc2V0
X25hbWUobW9kZSk7CiAKLQlkcm1fbW9kZV9wcm9iZWRfYWRkKHBhbmVsLT5jb25uZWN0b3IsIG1v
ZGUpOworCWRybV9tb2RlX3Byb2JlZF9hZGQoY29ubmVjdG9yLCBtb2RlKTsKIAotCXBhbmVsLT5j
b25uZWN0b3ItPmRpc3BsYXlfaW5mby53aWR0aF9tbSA9IDIxNzsKLQlwYW5lbC0+Y29ubmVjdG9y
LT5kaXNwbGF5X2luZm8uaGVpZ2h0X21tID0gMTM2OworCWNvbm5lY3Rvci0+ZGlzcGxheV9pbmZv
LndpZHRoX21tID0gMjE3OworCWNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLmhlaWdodF9tbSA9IDEz
NjsKIAogCXJldHVybiAxOwogfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3Bh
bmVsLXJhc3BiZXJyeXBpLXRvdWNoc2NyZWVuLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFu
ZWwtcmFzcGJlcnJ5cGktdG91Y2hzY3JlZW4uYwppbmRleCBhZGYyZGFjZTk2ZTMuLjBiOGNjMTk5
YzhkMiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJhc3BiZXJyeXBp
LXRvdWNoc2NyZWVuLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJhc3BiZXJy
eXBpLXRvdWNoc2NyZWVuLmMKQEAgLTMwOSw5ICszMDksOSBAQCBzdGF0aWMgaW50IHJwaV90b3Vj
aHNjcmVlbl9lbmFibGUoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCiAJcmV0dXJuIDA7CiB9CiAK
LXN0YXRpYyBpbnQgcnBpX3RvdWNoc2NyZWVuX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpw
YW5lbCkKK3N0YXRpYyBpbnQgcnBpX3RvdWNoc2NyZWVuX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3Bh
bmVsICpwYW5lbCwKKwkJCQkgICAgIHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCiB7
Ci0Jc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciA9IHBhbmVsLT5jb25uZWN0b3I7CiAJ
c3RydWN0IGRybV9kZXZpY2UgKmRybSA9IHBhbmVsLT5kcm07CiAJdW5zaWduZWQgaW50IGksIG51
bSA9IDA7CiAJc3RhdGljIGNvbnN0IHUzMiBidXNfZm9ybWF0ID0gTUVESUFfQlVTX0ZNVF9SR0I4
ODhfMVgyNDsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yYXlkaXVt
LXJtNjcxOTEuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yYXlkaXVtLXJtNjcxOTEu
YwppbmRleCBmZDY3ZmM2MTg1YzQuLjEyM2JiNjhjZmNiNyAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL3BhbmVsL3BhbmVsLXJheWRpdW0tcm02NzE5MS5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9wYW5lbC9wYW5lbC1yYXlkaXVtLXJtNjcxOTEuYwpAQCAtNDM2LDkgKzQzNiw5IEBAIHN0YXRp
YyBpbnQgcmFkX3BhbmVsX2Rpc2FibGUoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCiAJcmV0dXJu
IDA7CiB9CiAKLXN0YXRpYyBpbnQgcmFkX3BhbmVsX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVs
ICpwYW5lbCkKK3N0YXRpYyBpbnQgcmFkX3BhbmVsX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVs
ICpwYW5lbCwKKwkJCSAgICAgICBzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogewot
CXN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IgPSBwYW5lbC0+Y29ubmVjdG9yOwogCXN0
cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCiAJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0
ZShwYW5lbC0+ZHJtLCAmZGVmYXVsdF9tb2RlKTsKQEAgLTQ1MSw3ICs0NTEsNyBAQCBzdGF0aWMg
aW50IHJhZF9wYW5lbF9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCiAKIAlkcm1f
bW9kZV9zZXRfbmFtZShtb2RlKTsKIAltb2RlLT50eXBlID0gRFJNX01PREVfVFlQRV9EUklWRVIg
fCBEUk1fTU9ERV9UWVBFX1BSRUZFUlJFRDsKLQlkcm1fbW9kZV9wcm9iZWRfYWRkKHBhbmVsLT5j
b25uZWN0b3IsIG1vZGUpOworCWRybV9tb2RlX3Byb2JlZF9hZGQoY29ubmVjdG9yLCBtb2RlKTsK
IAogCWNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLndpZHRoX21tID0gbW9kZS0+d2lkdGhfbW07CiAJ
Y29ubmVjdG9yLT5kaXNwbGF5X2luZm8uaGVpZ2h0X21tID0gbW9kZS0+aGVpZ2h0X21tOwpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJheWRpdW0tcm02ODIwMC5jIGIv
ZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJheWRpdW0tcm02ODIwMC5jCmluZGV4IDk5NGU4
NTU3MjFmNC4uNjZmYTk3NTMwOGVjIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwv
cGFuZWwtcmF5ZGl1bS1ybTY4MjAwLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVs
LXJheWRpdW0tcm02ODIwMC5jCkBAIC0zMzUsNyArMzM1LDggQEAgc3RhdGljIGludCBybTY4MjAw
X2VuYWJsZShzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKIAlyZXR1cm4gMDsKIH0KIAotc3RhdGlj
IGludCBybTY4MjAwX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKK3N0YXRpYyBp
bnQgcm02ODIwMF9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCisJCQkgICAgIHN0
cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCiB7CiAJc3RydWN0IGRybV9kaXNwbGF5X21v
ZGUgKm1vZGU7CiAKQEAgLTM1MCwxMCArMzUxLDEwIEBAIHN0YXRpYyBpbnQgcm02ODIwMF9nZXRf
bW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCiAJZHJtX21vZGVfc2V0X25hbWUobW9kZSk7
CiAKIAltb2RlLT50eXBlID0gRFJNX01PREVfVFlQRV9EUklWRVIgfCBEUk1fTU9ERV9UWVBFX1BS
RUZFUlJFRDsKLQlkcm1fbW9kZV9wcm9iZWRfYWRkKHBhbmVsLT5jb25uZWN0b3IsIG1vZGUpOwor
CWRybV9tb2RlX3Byb2JlZF9hZGQoY29ubmVjdG9yLCBtb2RlKTsKIAotCXBhbmVsLT5jb25uZWN0
b3ItPmRpc3BsYXlfaW5mby53aWR0aF9tbSA9IG1vZGUtPndpZHRoX21tOwotCXBhbmVsLT5jb25u
ZWN0b3ItPmRpc3BsYXlfaW5mby5oZWlnaHRfbW0gPSBtb2RlLT5oZWlnaHRfbW07CisJY29ubmVj
dG9yLT5kaXNwbGF5X2luZm8ud2lkdGhfbW0gPSBtb2RlLT53aWR0aF9tbTsKKwljb25uZWN0b3It
PmRpc3BsYXlfaW5mby5oZWlnaHRfbW0gPSBtb2RlLT5oZWlnaHRfbW07CiAKIAlyZXR1cm4gMTsK
IH0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yb2NrdGVjaC1qaDA1
N24wMDkwMC5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJvY2t0ZWNoLWpoMDU3bjAw
OTAwLmMKaW5kZXggMzEyMzRiNzlkM2IxLi5iMmQ2MWNhYjNjYWQgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yb2NrdGVjaC1qaDA1N24wMDkwMC5jCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yb2NrdGVjaC1qaDA1N24wMDkwMC5jCkBAIC0yMzAsNyAr
MjMwLDggQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlIGRlZmF1bHRfbW9k
ZSA9IHsKIAkuaGVpZ2h0X21tICAgPSAxMzAsCiB9OwogCi1zdGF0aWMgaW50IGpoMDU3bl9nZXRf
bW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCitzdGF0aWMgaW50IGpoMDU3bl9nZXRfbW9k
ZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCisJCQkgICAgc3RydWN0IGRybV9jb25uZWN0b3Ig
KmNvbm5lY3RvcikKIHsKIAlzdHJ1Y3QgamgwNTduICpjdHggPSBwYW5lbF90b19qaDA1N24ocGFu
ZWwpOwogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwpAQCAtMjQ2LDkgKzI0Nyw5IEBA
IHN0YXRpYyBpbnQgamgwNTduX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKIAlk
cm1fbW9kZV9zZXRfbmFtZShtb2RlKTsKIAogCW1vZGUtPnR5cGUgPSBEUk1fTU9ERV9UWVBFX0RS
SVZFUiB8IERSTV9NT0RFX1RZUEVfUFJFRkVSUkVEOwotCXBhbmVsLT5jb25uZWN0b3ItPmRpc3Bs
YXlfaW5mby53aWR0aF9tbSA9IG1vZGUtPndpZHRoX21tOwotCXBhbmVsLT5jb25uZWN0b3ItPmRp
c3BsYXlfaW5mby5oZWlnaHRfbW0gPSBtb2RlLT5oZWlnaHRfbW07Ci0JZHJtX21vZGVfcHJvYmVk
X2FkZChwYW5lbC0+Y29ubmVjdG9yLCBtb2RlKTsKKwljb25uZWN0b3ItPmRpc3BsYXlfaW5mby53
aWR0aF9tbSA9IG1vZGUtPndpZHRoX21tOworCWNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLmhlaWdo
dF9tbSA9IG1vZGUtPmhlaWdodF9tbTsKKwlkcm1fbW9kZV9wcm9iZWRfYWRkKGNvbm5lY3Rvciwg
bW9kZSk7CiAKIAlyZXR1cm4gMTsKIH0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5l
bC9wYW5lbC1yb25iby1yYjA3MGQzMC5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJv
bmJvLXJiMDcwZDMwLmMKaW5kZXggMTcwYTVjZGEyMWI5Li41N2E0NjJjZTIyMWUgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yb25iby1yYjA3MGQzMC5jCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yb25iby1yYjA3MGQzMC5jCkBAIC0xMjAsOSArMTIw
LDkgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlIGRlZmF1bHRfbW9kZSA9
IHsKIAkuaGVpZ2h0X21tCT0gODUsCiB9OwogCi1zdGF0aWMgaW50IHJiMDcwZDMwX3BhbmVsX2dl
dF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKK3N0YXRpYyBpbnQgcmIwNzBkMzBfcGFu
ZWxfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsLAorCQkJCSAgICBzdHJ1Y3QgZHJt
X2Nvbm5lY3RvciAqY29ubmVjdG9yKQogewotCXN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0
b3IgPSBwYW5lbC0+Y29ubmVjdG9yOwogCXN0cnVjdCByYjA3MGQzMF9wYW5lbCAqY3R4ID0gcGFu
ZWxfdG9fcmIwNzBkMzBfcGFuZWwocGFuZWwpOwogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICpt
b2RlOwogCXN0YXRpYyBjb25zdCB1MzIgYnVzX2Zvcm1hdCA9IE1FRElBX0JVU19GTVRfUkdCODg4
XzFYMjQ7CkBAIC0xNDAsOSArMTQwLDkgQEAgc3RhdGljIGludCByYjA3MGQzMF9wYW5lbF9nZXRf
bW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCiAJbW9kZS0+dHlwZSA9IERSTV9NT0RFX1RZ
UEVfRFJJVkVSIHwgRFJNX01PREVfVFlQRV9QUkVGRVJSRUQ7CiAJZHJtX21vZGVfcHJvYmVkX2Fk
ZChjb25uZWN0b3IsIG1vZGUpOwogCi0JcGFuZWwtPmNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLmJw
YyA9IDg7Ci0JcGFuZWwtPmNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLndpZHRoX21tID0gbW9kZS0+
d2lkdGhfbW07Ci0JcGFuZWwtPmNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLmhlaWdodF9tbSA9IG1v
ZGUtPmhlaWdodF9tbTsKKwljb25uZWN0b3ItPmRpc3BsYXlfaW5mby5icGMgPSA4OworCWNvbm5l
Y3Rvci0+ZGlzcGxheV9pbmZvLndpZHRoX21tID0gbW9kZS0+d2lkdGhfbW07CisJY29ubmVjdG9y
LT5kaXNwbGF5X2luZm8uaGVpZ2h0X21tID0gbW9kZS0+aGVpZ2h0X21tOwogCWRybV9kaXNwbGF5
X2luZm9fc2V0X2J1c19mb3JtYXRzKCZjb25uZWN0b3ItPmRpc3BsYXlfaW5mbywKIAkJCQkJICZi
dXNfZm9ybWF0LCAxKTsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVs
LXNhbXN1bmctbGQ5MDQwLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ftc3VuZy1s
ZDkwNDAuYwppbmRleCAyNTA4MDliYTM3YzcuLjNjNTJmMTVmN2ExYyAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctbGQ5MDQwLmMKKysrIGIvZHJpdmVycy9n
cHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctbGQ5MDQwLmMKQEAgLTI2MSw5ICsyNjEsOSBAQCBz
dGF0aWMgaW50IGxkOTA0MF9lbmFibGUoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCiAJcmV0dXJu
IDA7CiB9CiAKLXN0YXRpYyBpbnQgbGQ5MDQwX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpw
YW5lbCkKK3N0YXRpYyBpbnQgbGQ5MDQwX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5l
bCwKKwkJCSAgICBzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogewotCXN0cnVjdCBk
cm1fY29ubmVjdG9yICpjb25uZWN0b3IgPSBwYW5lbC0+Y29ubmVjdG9yOwogCXN0cnVjdCBsZDkw
NDAgKmN0eCA9IHBhbmVsX3RvX2xkOTA0MChwYW5lbCk7CiAJc3RydWN0IGRybV9kaXNwbGF5X21v
ZGUgKm1vZGU7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1z
dW5nLXM2ZDE2ZDAuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZDE2
ZDAuYwppbmRleCBlM2EwMzk3ZTk1M2UuLjcxOTM5YWI3NTdiMSAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZkMTZkMC5jCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZDE2ZDAuYwpAQCAtMTQzLDkgKzE0Myw5IEBAIHN0
YXRpYyBpbnQgczZkMTZkMF9kaXNhYmxlKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQogCXJldHVy
biAwOwogfQogCi1zdGF0aWMgaW50IHM2ZDE2ZDBfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwg
KnBhbmVsKQorc3RhdGljIGludCBzNmQxNmQwX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpw
YW5lbCwKKwkJCSAgICAgc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvcikKIHsKLQlzdHJ1
Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yID0gcGFuZWwtPmNvbm5lY3RvcjsKIAlzdHJ1Y3Qg
ZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAogCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUocGFu
ZWwtPmRybSwgJnNhbXN1bmdfczZkMTZkMF9tb2RlKTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZTNoYTIuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5l
bC9wYW5lbC1zYW1zdW5nLXM2ZTNoYTIuYwppbmRleCA5MzhhYjcyYzU1NDAuLjhlMDIzNmJhNjE0
NSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZlM2hh
Mi5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZTNoYTIuYwpA
QCAtNjQ1LDkgKzY0NSw5IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgczZlM2hhMl9wYW5lbF9kZXNj
IHNhbXN1bmdfczZlM2hmMiA9IHsKIAkudHlwZSA9IEhGMl9UWVBFLAogfTsKIAotc3RhdGljIGlu
dCBzNmUzaGEyX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKK3N0YXRpYyBpbnQg
czZlM2hhMl9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCisJCQkgICAgIHN0cnVj
dCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCiB7Ci0Jc3RydWN0IGRybV9jb25uZWN0b3IgKmNv
bm5lY3RvciA9IHBhbmVsLT5jb25uZWN0b3I7CiAJc3RydWN0IHM2ZTNoYTIgKmN0eCA9IGNvbnRh
aW5lcl9vZihwYW5lbCwgc3RydWN0IHM2ZTNoYTIsIHBhbmVsKTsKIAlzdHJ1Y3QgZHJtX2Rpc3Bs
YXlfbW9kZSAqbW9kZTsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVs
LXNhbXN1bmctczZlNjNqMHgwMy5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1
bmctczZlNjNqMHgwMy5jCmluZGV4IGE2MDYzNWU5MjI2ZC4uYzkzOWQ1YmRlNGYwIDEwMDY0NAot
LS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ftc3VuZy1zNmU2M2oweDAzLmMKKysr
IGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZlNjNqMHgwMy5jCkBAIC00
MDAsOSArNDAwLDkgQEAgc3RhdGljIGludCBzNmU2M2oweDAzX2VuYWJsZShzdHJ1Y3QgZHJtX3Bh
bmVsICpwYW5lbCkKIAlyZXR1cm4gMDsKIH0KIAotc3RhdGljIGludCBzNmU2M2oweDAzX2dldF9t
b2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKK3N0YXRpYyBpbnQgczZlNjNqMHgwM19nZXRf
bW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCisJCQkJc3RydWN0IGRybV9jb25uZWN0b3Ig
KmNvbm5lY3RvcikKIHsKLQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yID0gcGFuZWwt
PmNvbm5lY3RvcjsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAogCW1vZGUgPSBk
cm1fbW9kZV9kdXBsaWNhdGUocGFuZWwtPmRybSwgJmRlZmF1bHRfbW9kZSk7CmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ftc3VuZy1zNmU2M20wLmMgYi9kcml2ZXJz
L2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ftc3VuZy1zNmU2M20wLmMKaW5kZXggYmEwMWFmMGIxNGZk
Li4xZDA5OTA5MmU3NTQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1z
YW1zdW5nLXM2ZTYzbTAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ftc3Vu
Zy1zNmU2M20wLmMKQEAgLTM2Miw5ICszNjIsOSBAQCBzdGF0aWMgaW50IHM2ZTYzbTBfZW5hYmxl
KHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQogCXJldHVybiAwOwogfQogCi1zdGF0aWMgaW50IHM2
ZTYzbTBfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQorc3RhdGljIGludCBzNmU2
M20wX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCwKKwkJCSAgICAgc3RydWN0IGRy
bV9jb25uZWN0b3IgKmNvbm5lY3RvcikKIHsKLQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVj
dG9yID0gcGFuZWwtPmNvbm5lY3RvcjsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsK
IAogCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUocGFuZWwtPmRybSwgJmRlZmF1bHRfbW9kZSk7
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ftc3VuZy1zNmU4YWEw
LmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ftc3VuZy1zNmU4YWEwLmMKaW5kZXgg
ZGJjZWQ2NTAxMjA0Li44YTAyOGQyYmQwZDYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9w
YW5lbC9wYW5lbC1zYW1zdW5nLXM2ZThhYTAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwv
cGFuZWwtc2Ftc3VuZy1zNmU4YWEwLmMKQEAgLTkyMCw5ICs5MjAsOSBAQCBzdGF0aWMgaW50IHM2
ZThhYTBfZW5hYmxlKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQogCXJldHVybiAwOwogfQogCi1z
dGF0aWMgaW50IHM2ZThhYTBfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQorc3Rh
dGljIGludCBzNmU4YWEwX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCwKKwkJCSAg
ICAgc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvcikKIHsKLQlzdHJ1Y3QgZHJtX2Nvbm5l
Y3RvciAqY29ubmVjdG9yID0gcGFuZWwtPmNvbm5lY3RvcjsKIAlzdHJ1Y3QgczZlOGFhMCAqY3R4
ID0gcGFuZWxfdG9fczZlOGFhMChwYW5lbCk7CiAJc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1v
ZGU7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zZWlrby00M3d2
ZjFnLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Vpa28tNDN3dmYxZy5jCmluZGV4
IGIzNjE5YmE0NDNiZC4uYjg3ODkzMGIxN2U0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
cGFuZWwvcGFuZWwtc2Vpa28tNDN3dmYxZy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9w
YW5lbC1zZWlrby00M3d2ZjFnLmMKQEAgLTU2LDkgKzU2LDkgQEAgc3RhdGljIGlubGluZSBzdHJ1
Y3Qgc2Vpa29fcGFuZWwgKnRvX3NlaWtvX3BhbmVsKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQog
CXJldHVybiBjb250YWluZXJfb2YocGFuZWwsIHN0cnVjdCBzZWlrb19wYW5lbCwgYmFzZSk7CiB9
CiAKLXN0YXRpYyBpbnQgc2Vpa29fcGFuZWxfZ2V0X2ZpeGVkX21vZGVzKHN0cnVjdCBzZWlrb19w
YW5lbCAqcGFuZWwpCitzdGF0aWMgaW50IHNlaWtvX3BhbmVsX2dldF9maXhlZF9tb2RlcyhzdHJ1
Y3Qgc2Vpa29fcGFuZWwgKnBhbmVsLAorCQkJCSAgICAgICBzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAq
Y29ubmVjdG9yKQogewotCXN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IgPSBwYW5lbC0+
YmFzZS5jb25uZWN0b3I7CiAJc3RydWN0IGRybV9kZXZpY2UgKmRybSA9IHBhbmVsLT5iYXNlLmRy
bTsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAl1bnNpZ25lZCBpbnQgaSwgbnVt
ID0gMDsKQEAgLTIwOCwxMiArMjA4LDEzIEBAIHN0YXRpYyBpbnQgc2Vpa29fcGFuZWxfZW5hYmxl
KHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQogCXJldHVybiAwOwogfQogCi1zdGF0aWMgaW50IHNl
aWtvX3BhbmVsX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKK3N0YXRpYyBpbnQg
c2Vpa29fcGFuZWxfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsLAorCQkJCSBzdHJ1
Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogewogCXN0cnVjdCBzZWlrb19wYW5lbCAqcCA9
IHRvX3NlaWtvX3BhbmVsKHBhbmVsKTsKIAogCS8qIGFkZCBoYXJkLWNvZGVkIHBhbmVsIG1vZGVz
ICovCi0JcmV0dXJuIHNlaWtvX3BhbmVsX2dldF9maXhlZF9tb2RlcyhwKTsKKwlyZXR1cm4gc2Vp
a29fcGFuZWxfZ2V0X2ZpeGVkX21vZGVzKHAsIGNvbm5lY3Rvcik7CiB9CiAKIHN0YXRpYyBpbnQg
c2Vpa29fcGFuZWxfZ2V0X3RpbWluZ3Moc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2hhcnAtbHExMDFyMXN4MDEuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaGFycC1scTEwMXIxc3gwMS5jCmluZGV4IDVlMTM2
YzNiYTE4NS4uZTc5N2I3MDA2NjFhIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwv
cGFuZWwtc2hhcnAtbHExMDFyMXN4MDEuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFu
ZWwtc2hhcnAtbHExMDFyMXN4MDEuYwpAQCAtMjc4LDcgKzI3OCw4IEBAIHN0YXRpYyBjb25zdCBz
dHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSBkZWZhdWx0X21vZGUgPSB7CiAJLnZyZWZyZXNoID0gNjAs
CiB9OwogCi1zdGF0aWMgaW50IHNoYXJwX3BhbmVsX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVs
ICpwYW5lbCkKK3N0YXRpYyBpbnQgc2hhcnBfcGFuZWxfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFu
ZWwgKnBhbmVsLAorCQkJCSBzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogewogCXN0
cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCkBAIC0yOTIsMTAgKzI5MywxMCBAQCBzdGF0
aWMgaW50IHNoYXJwX3BhbmVsX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKIAog
CWRybV9tb2RlX3NldF9uYW1lKG1vZGUpOwogCi0JZHJtX21vZGVfcHJvYmVkX2FkZChwYW5lbC0+
Y29ubmVjdG9yLCBtb2RlKTsKKwlkcm1fbW9kZV9wcm9iZWRfYWRkKGNvbm5lY3RvciwgbW9kZSk7
CiAKLQlwYW5lbC0+Y29ubmVjdG9yLT5kaXNwbGF5X2luZm8ud2lkdGhfbW0gPSAyMTc7Ci0JcGFu
ZWwtPmNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLmhlaWdodF9tbSA9IDEzNjsKKwljb25uZWN0b3It
PmRpc3BsYXlfaW5mby53aWR0aF9tbSA9IDIxNzsKKwljb25uZWN0b3ItPmRpc3BsYXlfaW5mby5o
ZWlnaHRfbW0gPSAxMzY7CiAKIAlyZXR1cm4gMTsKIH0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9wYW5lbC9wYW5lbC1zaGFycC1sczAzN3Y3ZHcwMS5jIGIvZHJpdmVycy9ncHUvZHJtL3Bh
bmVsL3BhbmVsLXNoYXJwLWxzMDM3djdkdzAxLmMKaW5kZXggZWVhYjc5OThjN2RlLi43MTAzYTk0
NWYwZTggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaGFycC1sczAz
N3Y3ZHcwMS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaGFycC1sczAzN3Y3
ZHcwMS5jCkBAIC0xMDAsOSArMTAwLDkgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxh
eV9tb2RlIGxzMDM3djdkdzAxX21vZGUgPSB7CiAJLmhlaWdodF9tbSA9IDc1LAogfTsKIAotc3Rh
dGljIGludCBsczAzN3Y3ZHcwMV9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCitz
dGF0aWMgaW50IGxzMDM3djdkdzAxX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCwK
KwkJCQkgc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvcikKIHsKLQlzdHJ1Y3QgZHJtX2Nv
bm5lY3RvciAqY29ubmVjdG9yID0gcGFuZWwtPmNvbm5lY3RvcjsKIAlzdHJ1Y3QgZHJtX2Rpc3Bs
YXlfbW9kZSAqbW9kZTsKIAogCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUocGFuZWwtPmRybSwg
JmxzMDM3djdkdzAxX21vZGUpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3Bh
bmVsLXNoYXJwLWxzMDQzdDFsZTAxLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2hh
cnAtbHMwNDN0MWxlMDEuYwppbmRleCBiOTYzYmE0YWI1ODkuLjg1YWU2Y2ZmZGJmYiAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNoYXJwLWxzMDQzdDFsZTAxLmMKKysr
IGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNoYXJwLWxzMDQzdDFsZTAxLmMKQEAgLTIx
MCw3ICsyMTAsOCBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgZGVmYXVs
dF9tb2RlID0gewogCS52cmVmcmVzaCA9IDYwLAogfTsKIAotc3RhdGljIGludCBzaGFycF9udF9w
YW5lbF9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCitzdGF0aWMgaW50IHNoYXJw
X250X3BhbmVsX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCwKKwkJCQkgICAgc3Ry
dWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvcikKIHsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9k
ZSAqbW9kZTsKIApAQCAtMjI0LDEwICsyMjUsMTAgQEAgc3RhdGljIGludCBzaGFycF9udF9wYW5l
bF9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCiAKIAlkcm1fbW9kZV9zZXRfbmFt
ZShtb2RlKTsKIAotCWRybV9tb2RlX3Byb2JlZF9hZGQocGFuZWwtPmNvbm5lY3RvciwgbW9kZSk7
CisJZHJtX21vZGVfcHJvYmVkX2FkZChjb25uZWN0b3IsIG1vZGUpOwogCi0JcGFuZWwtPmNvbm5l
Y3Rvci0+ZGlzcGxheV9pbmZvLndpZHRoX21tID0gNTQ7Ci0JcGFuZWwtPmNvbm5lY3Rvci0+ZGlz
cGxheV9pbmZvLmhlaWdodF9tbSA9IDk1OworCWNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLndpZHRo
X21tID0gNTQ7CisJY29ubmVjdG9yLT5kaXNwbGF5X2luZm8uaGVpZ2h0X21tID0gOTU7CiAKIAly
ZXR1cm4gMTsKIH0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaW1w
bGUuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaW1wbGUuYwppbmRleCBhNWRmNmQ2
ZGQ0NTUuLmQ2Mjk5ZmU2ZDI3NiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3Bh
bmVsLXNpbXBsZS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaW1wbGUuYwpA
QCAtMTE3LDkgKzExNyw5IEBAIHN0YXRpYyBpbmxpbmUgc3RydWN0IHBhbmVsX3NpbXBsZSAqdG9f
cGFuZWxfc2ltcGxlKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQogCXJldHVybiBjb250YWluZXJf
b2YocGFuZWwsIHN0cnVjdCBwYW5lbF9zaW1wbGUsIGJhc2UpOwogfQogCi1zdGF0aWMgdW5zaWdu
ZWQgaW50IHBhbmVsX3NpbXBsZV9nZXRfdGltaW5nc19tb2RlcyhzdHJ1Y3QgcGFuZWxfc2ltcGxl
ICpwYW5lbCkKK3N0YXRpYyB1bnNpZ25lZCBpbnQgcGFuZWxfc2ltcGxlX2dldF90aW1pbmdzX21v
ZGVzKHN0cnVjdCBwYW5lbF9zaW1wbGUgKnBhbmVsLAorCQkJCQkJICAgc3RydWN0IGRybV9jb25u
ZWN0b3IgKmNvbm5lY3RvcikKIHsKLQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yID0g
cGFuZWwtPmJhc2UuY29ubmVjdG9yOwogCXN0cnVjdCBkcm1fZGV2aWNlICpkcm0gPSBwYW5lbC0+
YmFzZS5kcm07CiAJc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGU7CiAJdW5zaWduZWQgaW50
IGksIG51bSA9IDA7CkBAIC0xNTAsOSArMTUwLDkgQEAgc3RhdGljIHVuc2lnbmVkIGludCBwYW5l
bF9zaW1wbGVfZ2V0X3RpbWluZ3NfbW9kZXMoc3RydWN0IHBhbmVsX3NpbXBsZSAqcGFuZWwpCiAJ
cmV0dXJuIG51bTsKIH0KIAotc3RhdGljIHVuc2lnbmVkIGludCBwYW5lbF9zaW1wbGVfZ2V0X2Rp
c3BsYXlfbW9kZXMoc3RydWN0IHBhbmVsX3NpbXBsZSAqcGFuZWwpCitzdGF0aWMgdW5zaWduZWQg
aW50IHBhbmVsX3NpbXBsZV9nZXRfZGlzcGxheV9tb2RlcyhzdHJ1Y3QgcGFuZWxfc2ltcGxlICpw
YW5lbCwKKwkJCQkJCSAgIHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCiB7Ci0Jc3Ry
dWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciA9IHBhbmVsLT5iYXNlLmNvbm5lY3RvcjsKIAlz
dHJ1Y3QgZHJtX2RldmljZSAqZHJtID0gcGFuZWwtPmJhc2UuZHJtOwogCXN0cnVjdCBkcm1fZGlz
cGxheV9tb2RlICptb2RlOwogCXVuc2lnbmVkIGludCBpLCBudW0gPSAwOwpAQCAtMTgxLDkgKzE4
MSw5IEBAIHN0YXRpYyB1bnNpZ25lZCBpbnQgcGFuZWxfc2ltcGxlX2dldF9kaXNwbGF5X21vZGVz
KHN0cnVjdCBwYW5lbF9zaW1wbGUgKnBhbmVsKQogCXJldHVybiBudW07CiB9CiAKLXN0YXRpYyBp
bnQgcGFuZWxfc2ltcGxlX2dldF9ub25fZWRpZF9tb2RlcyhzdHJ1Y3QgcGFuZWxfc2ltcGxlICpw
YW5lbCkKK3N0YXRpYyBpbnQgcGFuZWxfc2ltcGxlX2dldF9ub25fZWRpZF9tb2RlcyhzdHJ1Y3Qg
cGFuZWxfc2ltcGxlICpwYW5lbCwKKwkJCQkJICAgc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5l
Y3RvcikKIHsKLQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yID0gcGFuZWwtPmJhc2Uu
Y29ubmVjdG9yOwogCXN0cnVjdCBkcm1fZGV2aWNlICpkcm0gPSBwYW5lbC0+YmFzZS5kcm07CiAJ
c3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGU7CiAJYm9vbCBoYXNfb3ZlcnJpZGUgPSBwYW5l
bC0+b3ZlcnJpZGVfbW9kZS50eXBlOwpAQCAtMjA0LDcgKzIwNCw3IEBAIHN0YXRpYyBpbnQgcGFu
ZWxfc2ltcGxlX2dldF9ub25fZWRpZF9tb2RlcyhzdHJ1Y3QgcGFuZWxfc2ltcGxlICpwYW5lbCkK
IAogCS8qIE9ubHkgYWRkIHRpbWluZ3MgaWYgb3ZlcnJpZGUgd2FzIG5vdCB0aGVyZSBvciBmYWls
ZWQgdG8gdmFsaWRhdGUgKi8KIAlpZiAobnVtID09IDAgJiYgcGFuZWwtPmRlc2MtPm51bV90aW1p
bmdzKQotCQludW0gPSBwYW5lbF9zaW1wbGVfZ2V0X3RpbWluZ3NfbW9kZXMocGFuZWwpOworCQlu
dW0gPSBwYW5lbF9zaW1wbGVfZ2V0X3RpbWluZ3NfbW9kZXMocGFuZWwsIGNvbm5lY3Rvcik7CiAK
IAkvKgogCSAqIE9ubHkgYWRkIGZpeGVkIG1vZGVzIGlmIHRpbWluZ3Mvb3ZlcnJpZGUgYWRkZWQg
bm8gbW9kZS4KQEAgLTIxNCw3ICsyMTQsNyBAQCBzdGF0aWMgaW50IHBhbmVsX3NpbXBsZV9nZXRf
bm9uX2VkaWRfbW9kZXMoc3RydWN0IHBhbmVsX3NpbXBsZSAqcGFuZWwpCiAJICovCiAJV0FSTl9P
TihwYW5lbC0+ZGVzYy0+bnVtX3RpbWluZ3MgJiYgcGFuZWwtPmRlc2MtPm51bV9tb2Rlcyk7CiAJ
aWYgKG51bSA9PSAwKQotCQludW0gPSBwYW5lbF9zaW1wbGVfZ2V0X2Rpc3BsYXlfbW9kZXMocGFu
ZWwpOworCQludW0gPSBwYW5lbF9zaW1wbGVfZ2V0X2Rpc3BsYXlfbW9kZXMocGFuZWwsIGNvbm5l
Y3Rvcik7CiAKIAljb25uZWN0b3ItPmRpc3BsYXlfaW5mby5icGMgPSBwYW5lbC0+ZGVzYy0+YnBj
OwogCWNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLndpZHRoX21tID0gcGFuZWwtPmRlc2MtPnNpemUu
d2lkdGg7CkBAIC0zMDQsMjMgKzMwNCwyNCBAQCBzdGF0aWMgaW50IHBhbmVsX3NpbXBsZV9lbmFi
bGUoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCiAJcmV0dXJuIDA7CiB9CiAKLXN0YXRpYyBpbnQg
cGFuZWxfc2ltcGxlX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKK3N0YXRpYyBp
bnQgcGFuZWxfc2ltcGxlX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCwKKwkJCQkg
IHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCiB7CiAJc3RydWN0IHBhbmVsX3NpbXBs
ZSAqcCA9IHRvX3BhbmVsX3NpbXBsZShwYW5lbCk7CiAJaW50IG51bSA9IDA7CiAKIAkvKiBwcm9i
ZSBFRElEIGlmIGEgRERDIGJ1cyBpcyBhdmFpbGFibGUgKi8KIAlpZiAocC0+ZGRjKSB7Ci0JCXN0
cnVjdCBlZGlkICplZGlkID0gZHJtX2dldF9lZGlkKHBhbmVsLT5jb25uZWN0b3IsIHAtPmRkYyk7
Ci0JCWRybV9jb25uZWN0b3JfdXBkYXRlX2VkaWRfcHJvcGVydHkocGFuZWwtPmNvbm5lY3Rvciwg
ZWRpZCk7CisJCXN0cnVjdCBlZGlkICplZGlkID0gZHJtX2dldF9lZGlkKGNvbm5lY3RvciwgcC0+
ZGRjKTsKKwkJZHJtX2Nvbm5lY3Rvcl91cGRhdGVfZWRpZF9wcm9wZXJ0eShjb25uZWN0b3IsIGVk
aWQpOwogCQlpZiAoZWRpZCkgewotCQkJbnVtICs9IGRybV9hZGRfZWRpZF9tb2RlcyhwYW5lbC0+
Y29ubmVjdG9yLCBlZGlkKTsKKwkJCW51bSArPSBkcm1fYWRkX2VkaWRfbW9kZXMoY29ubmVjdG9y
LCBlZGlkKTsKIAkJCWtmcmVlKGVkaWQpOwogCQl9CiAJfQogCiAJLyogYWRkIGhhcmQtY29kZWQg
cGFuZWwgbW9kZXMgKi8KLQludW0gKz0gcGFuZWxfc2ltcGxlX2dldF9ub25fZWRpZF9tb2Rlcyhw
KTsKKwludW0gKz0gcGFuZWxfc2ltcGxlX2dldF9ub25fZWRpZF9tb2RlcyhwLCBjb25uZWN0b3Ip
OwogCiAJcmV0dXJuIG51bTsKIH0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9w
YW5lbC1zaXRyb25peC1zdDc3MDEuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaXRy
b25peC1zdDc3MDEuYwppbmRleCBlZTNmMjNmNDU3NTUuLjNlZDNiMWQ2ZDgyZCAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNpdHJvbml4LXN0NzcwMS5jCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaXRyb25peC1zdDc3MDEuYwpAQCAtMjY0LDcgKzI2
NCw4IEBAIHN0YXRpYyBpbnQgc3Q3NzAxX3VucHJlcGFyZShzdHJ1Y3QgZHJtX3BhbmVsICpwYW5l
bCkKIAlyZXR1cm4gMDsKIH0KIAotc3RhdGljIGludCBzdDc3MDFfZ2V0X21vZGVzKHN0cnVjdCBk
cm1fcGFuZWwgKnBhbmVsKQorc3RhdGljIGludCBzdDc3MDFfZ2V0X21vZGVzKHN0cnVjdCBkcm1f
cGFuZWwgKnBhbmVsLAorCQkJICAgIHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCiB7
CiAJc3RydWN0IHN0NzcwMSAqc3Q3NzAxID0gcGFuZWxfdG9fc3Q3NzAxKHBhbmVsKTsKIAljb25z
dCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqZGVzY19tb2RlID0gc3Q3NzAxLT5kZXNjLT5tb2Rl
OwpAQCAtMjgwLDEwICsyODEsMTAgQEAgc3RhdGljIGludCBzdDc3MDFfZ2V0X21vZGVzKHN0cnVj
dCBkcm1fcGFuZWwgKnBhbmVsKQogCX0KIAogCWRybV9tb2RlX3NldF9uYW1lKG1vZGUpOwotCWRy
bV9tb2RlX3Byb2JlZF9hZGQocGFuZWwtPmNvbm5lY3RvciwgbW9kZSk7CisJZHJtX21vZGVfcHJv
YmVkX2FkZChjb25uZWN0b3IsIG1vZGUpOwogCi0JcGFuZWwtPmNvbm5lY3Rvci0+ZGlzcGxheV9p
bmZvLndpZHRoX21tID0gZGVzY19tb2RlLT53aWR0aF9tbTsKLQlwYW5lbC0+Y29ubmVjdG9yLT5k
aXNwbGF5X2luZm8uaGVpZ2h0X21tID0gZGVzY19tb2RlLT5oZWlnaHRfbW07CisJY29ubmVjdG9y
LT5kaXNwbGF5X2luZm8ud2lkdGhfbW0gPSBkZXNjX21vZGUtPndpZHRoX21tOworCWNvbm5lY3Rv
ci0+ZGlzcGxheV9pbmZvLmhlaWdodF9tbSA9IGRlc2NfbW9kZS0+aGVpZ2h0X21tOwogCiAJcmV0
dXJuIDE7CiB9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2l0cm9u
aXgtc3Q3Nzg5di5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNpdHJvbml4LXN0Nzc4
OXYuYwppbmRleCAxMDhhODViYjY2NjcuLjgzNmIwMTMzMTUwNSAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNpdHJvbml4LXN0Nzc4OXYuYworKysgYi9kcml2ZXJzL2dw
dS9kcm0vcGFuZWwvcGFuZWwtc2l0cm9uaXgtc3Q3Nzg5di5jCkBAIC0xNzAsOSArMTcwLDkgQEAg
c3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlIGRlZmF1bHRfbW9kZSA9IHsKIAku
dnJlZnJlc2ggPSA2MCwKIH07CiAKLXN0YXRpYyBpbnQgc3Q3Nzg5dl9nZXRfbW9kZXMoc3RydWN0
IGRybV9wYW5lbCAqcGFuZWwpCitzdGF0aWMgaW50IHN0Nzc4OXZfZ2V0X21vZGVzKHN0cnVjdCBk
cm1fcGFuZWwgKnBhbmVsLAorCQkJICAgICBzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9y
KQogewotCXN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IgPSBwYW5lbC0+Y29ubmVjdG9y
OwogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCiAJbW9kZSA9IGRybV9tb2RlX2R1
cGxpY2F0ZShwYW5lbC0+ZHJtLCAmZGVmYXVsdF9tb2RlKTsKQEAgLTE4OCw4ICsxODgsOCBAQCBz
dGF0aWMgaW50IHN0Nzc4OXZfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQogCW1v
ZGUtPnR5cGUgPSBEUk1fTU9ERV9UWVBFX0RSSVZFUiB8IERSTV9NT0RFX1RZUEVfUFJFRkVSUkVE
OwogCWRybV9tb2RlX3Byb2JlZF9hZGQoY29ubmVjdG9yLCBtb2RlKTsKIAotCXBhbmVsLT5jb25u
ZWN0b3ItPmRpc3BsYXlfaW5mby53aWR0aF9tbSA9IDYxOwotCXBhbmVsLT5jb25uZWN0b3ItPmRp
c3BsYXlfaW5mby5oZWlnaHRfbW0gPSAxMDM7CisJY29ubmVjdG9yLT5kaXNwbGF5X2luZm8ud2lk
dGhfbW0gPSA2MTsKKwljb25uZWN0b3ItPmRpc3BsYXlfaW5mby5oZWlnaHRfbW0gPSAxMDM7CiAK
IAlyZXR1cm4gMTsKIH0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1z
b255LWFjeDU2NWFrbS5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNvbnktYWN4NTY1
YWttLmMKaW5kZXggZDYzODdkOGY4OGEzLi44NDFkYzczYzQ0M2QgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zb255LWFjeDU2NWFrbS5jCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9wYW5lbC9wYW5lbC1zb255LWFjeDU2NWFrbS5jCkBAIC01MjEsOSArNTIxLDkgQEAgc3Rh
dGljIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlIGFjeDU2NWFrbV9tb2RlID0gewogCS5o
ZWlnaHRfbW0gPSA0NiwKIH07CiAKLXN0YXRpYyBpbnQgYWN4NTY1YWttX2dldF9tb2RlcyhzdHJ1
Y3QgZHJtX3BhbmVsICpwYW5lbCkKK3N0YXRpYyBpbnQgYWN4NTY1YWttX2dldF9tb2RlcyhzdHJ1
Y3QgZHJtX3BhbmVsICpwYW5lbCwKKwkJCSAgICAgICBzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29u
bmVjdG9yKQogewotCXN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IgPSBwYW5lbC0+Y29u
bmVjdG9yOwogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCiAJbW9kZSA9IGRybV9t
b2RlX2R1cGxpY2F0ZShwYW5lbC0+ZHJtLCAmYWN4NTY1YWttX21vZGUpOwpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXRwby10ZDAyOHR0ZWMxLmMgYi9kcml2ZXJzL2dw
dS9kcm0vcGFuZWwvcGFuZWwtdHBvLXRkMDI4dHRlYzEuYwppbmRleCBjNDRkNmE2NWMwYWEuLjUy
MzAxNzZiZDhlNiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXRwby10
ZDAyOHR0ZWMxLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXRwby10ZDAyOHR0
ZWMxLmMKQEAgLTI4Nyw5ICsyODcsOSBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5
X21vZGUgdGQwMjh0dGVjMV9tb2RlID0gewogCS5oZWlnaHRfbW0gPSA1OCwKIH07CiAKLXN0YXRp
YyBpbnQgdGQwMjh0dGVjMV9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCitzdGF0
aWMgaW50IHRkMDI4dHRlYzFfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsLAorCQkJ
CXN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCiB7Ci0Jc3RydWN0IGRybV9jb25uZWN0
b3IgKmNvbm5lY3RvciA9IHBhbmVsLT5jb25uZWN0b3I7CiAJc3RydWN0IGRybV9kaXNwbGF5X21v
ZGUgKm1vZGU7CiAKIAltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKHBhbmVsLT5kcm0sICZ0ZDAy
OHR0ZWMxX21vZGUpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXRw
by10ZDA0M210ZWExLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtdHBvLXRkMDQzbXRl
YTEuYwppbmRleCA2MjFiNjVmZWVjMDcuLjcxNmY4ZWQxY2M0NSAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL3BhbmVsL3BhbmVsLXRwby10ZDA0M210ZWExLmMKKysrIGIvZHJpdmVycy9ncHUv
ZHJtL3BhbmVsL3BhbmVsLXRwby10ZDA0M210ZWExLmMKQEAgLTM0Niw5ICszNDYsOSBAQCBzdGF0
aWMgY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgdGQwNDNtdGVhMV9tb2RlID0gewogCS5o
ZWlnaHRfbW0gPSA1NiwKIH07CiAKLXN0YXRpYyBpbnQgdGQwNDNtdGVhMV9nZXRfbW9kZXMoc3Ry
dWN0IGRybV9wYW5lbCAqcGFuZWwpCitzdGF0aWMgaW50IHRkMDQzbXRlYTFfZ2V0X21vZGVzKHN0
cnVjdCBkcm1fcGFuZWwgKnBhbmVsLAorCQkJCXN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0
b3IpCiB7Ci0Jc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciA9IHBhbmVsLT5jb25uZWN0
b3I7CiAJc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGU7CiAKIAltb2RlID0gZHJtX21vZGVf
ZHVwbGljYXRlKHBhbmVsLT5kcm0sICZ0ZDA0M210ZWExX21vZGUpOwpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXRwby10cGcxMTAuYyBiL2RyaXZlcnMvZ3B1L2RybS9w
YW5lbC9wYW5lbC10cG8tdHBnMTEwLmMKaW5kZXggMWE1NDE4YWUyY2NmLi5lNzRjZDlkNDE4Y2Yg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC10cG8tdHBnMTEwLmMKKysr
IGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXRwby10cGcxMTAuYwpAQCAtMzg0LDkgKzM4
NCw5IEBAIHN0YXRpYyBpbnQgdHBnMTEwX2VuYWJsZShzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkK
ICAqIHByZXNlbnRzIHRoZSBtb2RlIHRoYXQgaXMgY29uZmlndXJlZCBmb3IgdGhlIHN5c3RlbSB1
bmRlciB1c2UsCiAgKiBhbmQgd2hpY2ggaXMgZGV0ZWN0ZWQgYnkgcmVhZGluZyB0aGUgcmVnaXN0
ZXJzIG9mIHRoZSBkaXNwbGF5LgogICovCi1zdGF0aWMgaW50IHRwZzExMF9nZXRfbW9kZXMoc3Ry
dWN0IGRybV9wYW5lbCAqcGFuZWwpCitzdGF0aWMgaW50IHRwZzExMF9nZXRfbW9kZXMoc3RydWN0
IGRybV9wYW5lbCAqcGFuZWwsCisJCQkgICAgc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3Rv
cikKIHsKLQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yID0gcGFuZWwtPmNvbm5lY3Rv
cjsKIAlzdHJ1Y3QgdHBnMTEwICp0cGcgPSB0b190cGcxMTAocGFuZWwpOwogCXN0cnVjdCBkcm1f
ZGlzcGxheV9tb2RlICptb2RlOwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwv
cGFuZWwtdHJ1bHktbnQzNTU5Ny5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXRydWx5
LW50MzU1OTcuYwppbmRleCAwZmVlYTI0NTZlMTQuLjAxMmNhNjJiZjMwZSAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXRydWx5LW50MzU1OTcuYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vcGFuZWwvcGFuZWwtdHJ1bHktbnQzNTU5Ny5jCkBAIC00NTQsOSArNDU0LDkgQEAg
c3RhdGljIGludCB0cnVseV9udDM1NTk3X2VuYWJsZShzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkK
IAlyZXR1cm4gMDsKIH0KIAotc3RhdGljIGludCB0cnVseV9udDM1NTk3X2dldF9tb2RlcyhzdHJ1
Y3QgZHJtX3BhbmVsICpwYW5lbCkKK3N0YXRpYyBpbnQgdHJ1bHlfbnQzNTU5N19nZXRfbW9kZXMo
c3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCisJCQkJICAgc3RydWN0IGRybV9jb25uZWN0b3IgKmNv
bm5lY3RvcikKIHsKLQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yID0gcGFuZWwtPmNv
bm5lY3RvcjsKIAlzdHJ1Y3QgdHJ1bHlfbnQzNTU5NyAqY3R4ID0gcGFuZWxfdG9fY3R4KHBhbmVs
KTsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAljb25zdCBzdHJ1Y3QgbnQzNTU5
N19jb25maWcgKmNvbmZpZzsKZGlmZiAtLWdpdCBhL2luY2x1ZGUvZHJtL2RybV9wYW5lbC5oIGIv
aW5jbHVkZS9kcm0vZHJtX3BhbmVsLmgKaW5kZXggYzc1MWM5YjE3ZGYwLi5mYjAxYjhkZjhjMmEg
MTAwNjQ0Ci0tLSBhL2luY2x1ZGUvZHJtL2RybV9wYW5lbC5oCisrKyBiL2luY2x1ZGUvZHJtL2Ry
bV9wYW5lbC5oCkBAIC0xMDUsMTQgKzEwNSwxNiBAQCBzdHJ1Y3QgZHJtX3BhbmVsX2Z1bmNzIHsK
IAkvKioKIAkgKiBAZ2V0X21vZGVzOgogCSAqCi0JICogQWRkIG1vZGVzIHRvIHRoZSBjb25uZWN0
b3IgdGhhdCB0aGUgcGFuZWwgaXMgYXR0YWNoZWQgdG8uCisJICogQWRkIHBhbmVsIG1vZGVzIHRv
IHRoZSBnaXZlbiBjb25uZWN0b3IgYW5kIHJldHVybiB0aGUgbnVtYmVyIG9mCisJICogbW9kZXMg
YWRkZWQuCiAJICoKIAkgKiBUaGlzIGZ1bmN0aW9uIGlzIG1hbmRhdG9yeS4KIAkgKgogCSAqIFJl
dHVybnMgdGhlIG51bWJlciBvZiBtb2RlcyBhZGRlZCwgLUVPUE5PVFNVUFAgaWYgY2FsbGJhY2sK
IAkgKiBpcyBtaXNzaW5nLCAtRUlOVkFMIGlmIHBhbmVsIGlzIE5VTEwuCiAJICovCi0JaW50ICgq
Z2V0X21vZGVzKShzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCk7CisJaW50ICgqZ2V0X21vZGVzKShz
dHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCwKKwkJCSBzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVj
dG9yKTsKIAogCS8qKgogCSAqIEBnZXRfdGltaW5nczoKLS0gCjIuMjAuMQoKX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlz
dApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0
b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
