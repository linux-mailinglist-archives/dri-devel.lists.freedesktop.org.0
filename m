Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id D0A3C9DE22
	for <lists+dri-devel@lfdr.de>; Tue, 27 Aug 2019 08:36:19 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3F88F89A0E;
	Tue, 27 Aug 2019 06:36:16 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from lelv0142.ext.ti.com (lelv0142.ext.ti.com [198.47.23.249])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3BC7889A0E
 for <dri-devel@lists.freedesktop.org>; Tue, 27 Aug 2019 06:36:14 +0000 (UTC)
Received: from lelv0265.itg.ti.com ([10.180.67.224])
 by lelv0142.ext.ti.com (8.15.2/8.15.2) with ESMTP id x7R6a4s3101891;
 Tue, 27 Aug 2019 01:36:04 -0500
Received: from DLEE112.ent.ti.com (dlee112.ent.ti.com [157.170.170.23])
 by lelv0265.itg.ti.com (8.15.2/8.15.2) with ESMTPS id x7R6a4hO076018
 (version=TLSv1.2 cipher=AES256-GCM-SHA384 bits=256 verify=FAIL);
 Tue, 27 Aug 2019 01:36:04 -0500
Received: from DLEE105.ent.ti.com (157.170.170.35) by DLEE112.ent.ti.com
 (157.170.170.23) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256_P256) id 15.1.1713.5; Tue, 27
 Aug 2019 01:36:03 -0500
Received: from fllv0039.itg.ti.com (10.64.41.19) by DLEE105.ent.ti.com
 (157.170.170.35) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256_P256) id 15.1.1713.5 via
 Frontend Transport; Tue, 27 Aug 2019 01:36:03 -0500
Received: from [192.168.2.6] (ileax41-snat.itg.ti.com [10.172.224.153])
 by fllv0039.itg.ti.com (8.15.2/8.15.2) with ESMTP id x7R6a16T119031;
 Tue, 27 Aug 2019 01:36:01 -0500
Subject: Re: [PATCH 11/60] drm/bridge: Add driver for the TI TPD12S015 HDMI
 level shifter
To: Laurent Pinchart <laurent.pinchart@ideasonboard.com>,
 <dri-devel@lists.freedesktop.org>
References: <20190707180852.5512-1-laurent.pinchart@ideasonboard.com>
 <20190707181937.6250-1-laurent.pinchart@ideasonboard.com>
 <20190707181937.6250-8-laurent.pinchart@ideasonboard.com>
From: Tomi Valkeinen <tomi.valkeinen@ti.com>
Message-ID: <3347b6c8-6f2d-17d6-3dc8-e62a3bac634b@ti.com>
Date: Tue, 27 Aug 2019 09:36:00 +0300
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <20190707181937.6250-8-laurent.pinchart@ideasonboard.com>
Content-Language: en-US
X-EXCLAIMER-MD-CONFIG: e1e8a2fd-e40a-4ac6-ac9b-f7e9cc9ee180
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ti.com; s=ti-com-17Q1; t=1566887764;
 bh=wgGw6IWER+g8jOUcjvTlRN3wAgSdyj7GYCRGxn4y6Fc=;
 h=Subject:To:CC:References:From:Date:In-Reply-To;
 b=w9DP2t+r2kvcG61syA51jzlH4Y2RGbfJRh1sDabfG7aYfWIBnRG4xBjbT8HbiJUwo
 mAHxThRgXCtjxziWCspmJH7KJtLtHUhqxJCjY0yBcD7RqAiUkvgpDHnty7+lYp+6gn
 3zMAg+65mqV88dpI+qUhGdQqcErtEx+S/WnmCUEU=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Maxime Ripard <maxime.ripard@bootlin.com>,
 Sebastian Reichel <sebastian.reichel@collabora.com>,
 Sean Paul <sean@poorly.run>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gMDcvMDcvMjAxOSAyMToxOCwgTGF1cmVudCBQaW5jaGFydCB3cm90ZToKPiBUaGUgVEkgVFBE
MTJTMDE1IGlzIGFuIEhETUkgbGV2ZWwgc2hpZnRlciBhbmQgRVNEIHByb3RlY3RvciBjb250cm9s
bGVkCj4gdGhyb3VnaCBHUElPcy4gQWRkIGEgRFJNIGJyaWRnZSBkcml2ZXIgZm9yIHRoZSBkZXZp
Y2UuCj4gCj4gU2lnbmVkLW9mZi1ieTogTGF1cmVudCBQaW5jaGFydCA8bGF1cmVudC5waW5jaGFy
dEBpZGVhc29uYm9hcmQuY29tPgo+IC0tLQo+ICAgZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9LY29u
ZmlnICAgICAgICB8ICAgOCArCj4gICBkcml2ZXJzL2dwdS9kcm0vYnJpZGdlL01ha2VmaWxlICAg
ICAgIHwgICAxICsKPiAgIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvdGktdHBkMTJzMDE1LmMgfCAy
MDQgKysrKysrKysrKysrKysrKysrKysrKysrKysKPiAgIDMgZmlsZXMgY2hhbmdlZCwgMjEzIGlu
c2VydGlvbnMoKykKPiAgIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vYnJpZGdl
L3RpLXRwZDEyczAxNS5jCj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2Uv
S2NvbmZpZyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvS2NvbmZpZwo+IGluZGV4IDI5NWE2MmY2
NWVmOS4uMzkyODY1MWEwODE5IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2Uv
S2NvbmZpZwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvS2NvbmZpZwo+IEBAIC0xNTks
NiArMTU5LDE0IEBAIGNvbmZpZyBEUk1fVElfU042NURTSTg2Cj4gICAJaGVscAo+ICAgCSAgVGV4
YXMgSW5zdHJ1bWVudHMgU042NURTSTg2IERTSSB0byBlRFAgQnJpZGdlIGRyaXZlcgo+ICAgCj4g
K2NvbmZpZyBEUk1fVElfVFBEMTJTMDE1Cj4gKwl0cmlzdGF0ZSAiVEkgVFBEMTJTMDE1IEhETUkg
bGV2ZWwgc2hpZnRlciBhbmQgRVNEIHByb3RlY3Rpb24iCj4gKwlkZXBlbmRzIG9uIE9GCj4gKwlz
ZWxlY3QgRFJNX0tNU19IRUxQRVIKPiArCWhlbHAKPiArCSAgVGV4YXMgSW5zdHJ1bWVudHMgVFBE
MTJTMDE1IEhETUkgbGV2ZWwgc2hpZnRlciBhbmQgRVNEIHByb3RlY3Rpb24KPiArCSAgZHJpdmVy
Lgo+ICsKPiAgIHNvdXJjZSAiZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9LY29uZmln
Igo+ICAgCj4gICBzb3VyY2UgImRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYWR2NzUxMS9LY29uZmln
Igo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL01ha2VmaWxlIGIvZHJpdmVy
cy9ncHUvZHJtL2JyaWRnZS9NYWtlZmlsZQo+IGluZGV4IGU1OTg3YjNhYWY2Mi4uY2U2MzU2NTFl
MzFiIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvTWFrZWZpbGUKPiArKysg
Yi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL01ha2VmaWxlCj4gQEAgLTE3LDQgKzE3LDUgQEAgb2Jq
LSQoQ09ORklHX0RSTV9BTkFMT0dJWF9EUCkgKz0gYW5hbG9naXgvCj4gICBvYmotJChDT05GSUdf
RFJNX0kyQ19BRFY3NTExKSArPSBhZHY3NTExLwo+ICAgb2JqLSQoQ09ORklHX0RSTV9USV9TTjY1
RFNJODYpICs9IHRpLXNuNjVkc2k4Ni5vCj4gICBvYmotJChDT05GSUdfRFJNX1RJX1RGUDQxMCkg
Kz0gdGktdGZwNDEwLm8KPiArb2JqLSQoQ09ORklHX0RSTV9USV9UUEQxMlMwMTUpICs9IHRpLXRw
ZDEyczAxNS5vCj4gICBvYmoteSArPSBzeW5vcHN5cy8KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2JyaWRnZS90aS10cGQxMnMwMTUuYyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvdGkt
dHBkMTJzMDE1LmMKPiBuZXcgZmlsZSBtb2RlIDEwMDY0NAo+IGluZGV4IDAwMDAwMDAwMDAwMC4u
ZDAxZjBjNDEzM2EyCj4gLS0tIC9kZXYvbnVsbAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlk
Z2UvdGktdHBkMTJzMDE1LmMKPiBAQCAtMCwwICsxLDIwNCBAQAo+ICsvLyBTUERYLUxpY2Vuc2Ut
SWRlbnRpZmllcjogR1BMLTIuMAo+ICsvKgo+ICsgKiBUUEQxMlMwMTUgSERNSSBFU0QgcHJvdGVj
dGlvbiAmIGxldmVsIHNoaWZ0ZXIgY2hpcCBkcml2ZXIKPiArICoKPiArICogQ29weXJpZ2h0IChD
KSAyMDEzIFRleGFzIEluc3RydW1lbnRzIEluY29ycG9yYXRlZAo+ICsgKiBBdXRob3I6IFRvbWkg
VmFsa2VpbmVuIDx0b21pLnZhbGtlaW5lbkB0aS5jb20+Cj4gKyAqLwoKWW91IG1heSB3YW50IHRv
IG1lbnRpb24gdGhhdCB0aGUgZHJpdmVyIGlzIGJhc2VkIG9uIGFuIGV4aXN0aW5nIG9tYXBkcm0g
CmRyaXZlci4gT3RoZXJ3aXNlIHRoZSBhYm92ZSBsaW5lcyBkb24ndCBxdWl0ZSBtYWtlIHNlbnNl
IHdoZW4gYWRkaW5nIGEgCm5ldyBkcml2ZXIgPSkuCgo+ICsKPiArI2luY2x1ZGUgPGxpbnV4L2Rl
bGF5Lmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9ncGlvL2NvbnN1bWVyLmg+Cj4gKyNpbmNsdWRlIDxs
aW51eC9pbnRlcnJ1cHQuaD4KPiArI2luY2x1ZGUgPGxpbnV4L21vZHVsZS5oPgo+ICsjaW5jbHVk
ZSA8bGludXgvbXV0ZXguaD4KPiArI2luY2x1ZGUgPGxpbnV4L29mLmg+Cj4gKyNpbmNsdWRlIDxs
aW51eC9vZl9ncmFwaC5oPgo+ICsjaW5jbHVkZSA8bGludXgvcGxhdGZvcm1fZGV2aWNlLmg+Cj4g
Kwo+ICsjaW5jbHVkZSA8ZHJtL2RybV9icmlkZ2UuaD4KPiArCj4gK3N0cnVjdCB0cGQxMnMwMTVf
ZGV2aWNlIHsKPiArCXN0cnVjdCBkcm1fYnJpZGdlIGJyaWRnZTsKPiArCj4gKwlzdHJ1Y3QgZ3Bp
b19kZXNjICpjdF9jcF9ocGRfZ3BpbzsKPiArCXN0cnVjdCBncGlvX2Rlc2MgKmxzX29lX2dwaW87
Cj4gKwlzdHJ1Y3QgZ3Bpb19kZXNjICpocGRfZ3BpbzsKPiArCWludCBocGRfaXJxOwo+ICsKPiAr
CXN0cnVjdCBkcm1fYnJpZGdlICpuZXh0X2JyaWRnZTsKPiArfTsKPiArCj4gK3N0YXRpYyBpbmxp
bmUgc3RydWN0IHRwZDEyczAxNV9kZXZpY2UgKnRvX3RwZDEyczAxNShzdHJ1Y3QgZHJtX2JyaWRn
ZSAqYnJpZGdlKQo+ICt7Cj4gKwlyZXR1cm4gY29udGFpbmVyX29mKGJyaWRnZSwgc3RydWN0IHRw
ZDEyczAxNV9kZXZpY2UsIGJyaWRnZSk7Cj4gK30KPiArCj4gK3N0YXRpYyBpbnQgdHBkMTJzMDE1
X2F0dGFjaChzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlLCBib29sIGNyZWF0ZV9jb25uZWN0b3Ip
Cj4gK3sKPiArCXN0cnVjdCB0cGQxMnMwMTVfZGV2aWNlICp0cGQgPSB0b190cGQxMnMwMTUoYnJp
ZGdlKTsKPiArCWludCByZXQ7Cj4gKwo+ICsJaWYgKGNyZWF0ZV9jb25uZWN0b3IpCj4gKwkJcmV0
dXJuIC1FSU5WQUw7Cj4gKwo+ICsJcmV0ID0gZHJtX2JyaWRnZV9hdHRhY2goYnJpZGdlLT5lbmNv
ZGVyLCB0cGQtPm5leHRfYnJpZGdlLAo+ICsJCQkJYnJpZGdlLCBmYWxzZSk7Cj4gKwlpZiAocmV0
IDwgMCkKPiArCQlyZXR1cm4gcmV0Owo+ICsKPiArCWdwaW9kX3NldF92YWx1ZV9jYW5zbGVlcCh0
cGQtPmN0X2NwX2hwZF9ncGlvLCAxKTsKPiArCWdwaW9kX3NldF92YWx1ZV9jYW5zbGVlcCh0cGQt
PmxzX29lX2dwaW8sIDEpOwoKVGhlc2UgYXJlIGZpbmUgKGFuZCBhcyB0aGV5IHdlcmUgaW4gdGhl
IG9sZCBkcml2ZXIpLCBidXQganVzdCB0YWxraW5nIApvdXQgbG91ZDogTFNfT0UgaXMgbmVlZGVk
IHdoZW4gdGFsa2luZyBvdmVyIGkyYywgYW5kIENUX0NQX0hQRCBpcyBuZWVkZWQgCndoZW4gaW50
ZXJlc3RlZCBpbiBIUEQuCgpOb3Qgc3VyZSB3aGF0IGtpbmQgb2YgcG93ZXItc2F2aW5ncyBhcmUg
cG9zc2libGUsIGJ1dCBhdCBsZWFzdCBpbiB0aGVvcnkgCndlIGNvdWxkIHR1cm4gdGhvc2Ugb2Zm
IGF0IHRpbWVzLiBBdCBsZWFzdCB3aGVuIGdvaW5nIHRvIHN5c3RlbSBzdXNwZW5kLgoKPiArCS8q
IERDLURDIGNvbnZlcnRlciBuZWVkcyBhdCBtYXggMzAwdXMgdG8gZ2V0IHRvIDkwJSBvZiA1Vi4g
Ki8KPiArCXVzbGVlcF9yYW5nZSgzMDAsIDEwMDApOwo+ICsKPiArCXJldHVybiAwOwo+ICt9Cj4g
Kwo+ICtzdGF0aWMgdm9pZCB0cGQxMnMwMTVfZGV0YWNoKHN0cnVjdCBkcm1fYnJpZGdlICpicmlk
Z2UpCj4gK3sKPiArCXN0cnVjdCB0cGQxMnMwMTVfZGV2aWNlICp0cGQgPSB0b190cGQxMnMwMTUo
YnJpZGdlKTsKPiArCj4gKwlncGlvZF9zZXRfdmFsdWVfY2Fuc2xlZXAodHBkLT5jdF9jcF9ocGRf
Z3BpbywgMCk7Cj4gKwlncGlvZF9zZXRfdmFsdWVfY2Fuc2xlZXAodHBkLT5sc19vZV9ncGlvLCAw
KTsKPiArfQo+ICsKPiArc3RhdGljIGVudW0gZHJtX2Nvbm5lY3Rvcl9zdGF0dXMgdHBkMTJzMDE1
X2RldGVjdChzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlKQo+ICt7Cj4gKwlzdHJ1Y3QgdHBkMTJz
MDE1X2RldmljZSAqdHBkID0gdG9fdHBkMTJzMDE1KGJyaWRnZSk7Cj4gKwo+ICsJaWYgKGdwaW9k
X2dldF92YWx1ZV9jYW5zbGVlcCh0cGQtPmhwZF9ncGlvKSkKPiArCQlyZXR1cm4gY29ubmVjdG9y
X3N0YXR1c19jb25uZWN0ZWQ7Cj4gKwllbHNlCj4gKwkJcmV0dXJuIGNvbm5lY3Rvcl9zdGF0dXNf
ZGlzY29ubmVjdGVkOwo+ICt9Cj4gKwo+ICtzdGF0aWMgdm9pZCB0cGQxMnMwMTVfaHBkX2VuYWJs
ZShzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlKQo+ICt7Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lk
IHRwZDEyczAxNV9ocGRfZGlzYWJsZShzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlKQo+ICt7Cj4g
K30KClNob3VsZG4ndCB3ZSBtYW5hZ2UgdGhlIENUX0hQRF9HUElPIGhlcmUsIGFuZCByZXF1ZXN0
IHRoZSBpcnEgaGVyZT8gSSdtIApmaW5lIHdpdGggbGVhdmluZyB0aGF0IGZvciBsYXRlciwgdGhv
dWdoLCBhcyBpdCBtYXkgYmUgYmV0dGVyIHRvIGtlZXAgCnRoaXMgbmV3IGRyaXZlciBhcyBzaW1p
bGFyIHRvIHRoZSBvbGQgb25lIGFzIHBvc3NpYmxlIHRvIHByZXZlbnQgCnJlZ3Jlc3Npb25zIGR1
cmluZyB0aGlzIGJpZyBwYXRjaCBzZXJpZXMuCgpJIGd1ZXNzIGl0J3MgZmluZSBmb3IgYSBicmlk
Z2UgdG8gZG8gaHBkX25vdGlmeSBldmVuIGlmIGhwZF9lbmFibGUgaGFzIApub3QgYmVlbiBjYWxs
ZWQ/Cgo+ICtzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9icmlkZ2VfZnVuY3MgdHBkMTJzMDE1X2Jy
aWRnZV9mdW5jcyA9IHsKPiArCS5hdHRhY2gJCQk9IHRwZDEyczAxNV9hdHRhY2gsCj4gKwkuZGV0
YWNoCQkJPSB0cGQxMnMwMTVfZGV0YWNoLAo+ICsJLmRldGVjdAkJCT0gdHBkMTJzMDE1X2RldGVj
dCwKPiArCS5ocGRfZW5hYmxlCQk9IHRwZDEyczAxNV9ocGRfZW5hYmxlLAo+ICsJLmhwZF9kaXNh
YmxlCQk9IHRwZDEyczAxNV9ocGRfZGlzYWJsZSwKPiArfTsKPiArCj4gK3N0YXRpYyBpcnFyZXR1
cm5fdCB0cGQxMnMwMTVfaHBkX2lzcihpbnQgaXJxLCB2b2lkICpkYXRhKQo+ICt7Cj4gKwlzdHJ1
Y3QgdHBkMTJzMDE1X2RldmljZSAqdHBkID0gZGF0YTsKPiArCXN0cnVjdCBkcm1fYnJpZGdlICpi
cmlkZ2UgPSAmdHBkLT5icmlkZ2U7Cj4gKwo+ICsJZHJtX2JyaWRnZV9ocGRfbm90aWZ5KGJyaWRn
ZSwgdHBkMTJzMDE1X2RldGVjdChicmlkZ2UpKTsKPiArCj4gKwlyZXR1cm4gSVJRX0hBTkRMRUQ7
Cj4gK30KPiArCj4gK3N0YXRpYyBpbnQgdHBkMTJzMDE1X3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9k
ZXZpY2UgKnBkZXYpCj4gK3sKPiArCXN0cnVjdCB0cGQxMnMwMTVfZGV2aWNlICp0cGQ7Cj4gKwlz
dHJ1Y3QgZGV2aWNlX25vZGUgKm5vZGU7Cj4gKwlzdHJ1Y3QgZ3Bpb19kZXNjICpncGlvOwo+ICsJ
aW50IHJldDsKPiArCj4gKwl0cGQgPSBkZXZtX2t6YWxsb2MoJnBkZXYtPmRldiwgc2l6ZW9mKCp0
cGQpLCBHRlBfS0VSTkVMKTsKPiArCWlmICghdHBkKQo+ICsJCXJldHVybiAtRU5PTUVNOwo+ICsK
PiArCXBsYXRmb3JtX3NldF9kcnZkYXRhKHBkZXYsIHRwZCk7Cj4gKwo+ICsJdHBkLT5icmlkZ2Uu
ZnVuY3MgPSAmdHBkMTJzMDE1X2JyaWRnZV9mdW5jczsKPiArCXRwZC0+YnJpZGdlLm9mX25vZGUg
PSBwZGV2LT5kZXYub2Zfbm9kZTsKPiArCXRwZC0+YnJpZGdlLnR5cGUgPSBEUk1fTU9ERV9DT05O
RUNUT1JfSERNSUE7Cj4gKwl0cGQtPmJyaWRnZS5vcHMgPSBEUk1fQlJJREdFX09QX0RFVEVDVDsK
PiArCj4gKwkvKiBHZXQgdGhlIG5leHQgYnJpZGdlLCBjb25uZWN0ZWQgdG8gcG9ydEAxLiAqLwo+
ICsJbm9kZSA9IG9mX2dyYXBoX2dldF9yZW1vdGVfbm9kZShwZGV2LT5kZXYub2Zfbm9kZSwgMSwg
LTEpOwo+ICsJaWYgKCFub2RlKQo+ICsJCXJldHVybiAtRU5PREVWOwo+ICsKPiArCXRwZC0+bmV4
dF9icmlkZ2UgPSBvZl9kcm1fZmluZF9icmlkZ2Uobm9kZSk7Cj4gKwlvZl9ub2RlX3B1dChub2Rl
KTsKPiArCj4gKwlpZiAoIXRwZC0+bmV4dF9icmlkZ2UpCj4gKwkJcmV0dXJuIC1FUFJPQkVfREVG
RVI7Cj4gKwo+ICsJLyogR2V0IHRoZSBjb250cm9sIGFuZCBIUEQgR1BJT3MuICovCj4gKwlncGlv
ID0gZGV2bV9ncGlvZF9nZXRfaW5kZXhfb3B0aW9uYWwoJnBkZXYtPmRldiwgTlVMTCwgMCwKPiAr
CQkJCQkgICAgIEdQSU9EX09VVF9MT1cpOwo+ICsJaWYgKElTX0VSUihncGlvKSkKPiArCQlyZXR1
cm4gUFRSX0VSUihncGlvKTsKPiArCj4gKwl0cGQtPmN0X2NwX2hwZF9ncGlvID0gZ3BpbzsKPiAr
Cj4gKwlncGlvID0gZGV2bV9ncGlvZF9nZXRfaW5kZXhfb3B0aW9uYWwoJnBkZXYtPmRldiwgTlVM
TCwgMSwKPiArCQkJCQkgICAgIEdQSU9EX09VVF9MT1cpOwo+ICsJaWYgKElTX0VSUihncGlvKSkK
PiArCQlyZXR1cm4gUFRSX0VSUihncGlvKTsKPiArCj4gKwl0cGQtPmxzX29lX2dwaW8gPSBncGlv
Owo+ICsKPiArCWdwaW8gPSBkZXZtX2dwaW9kX2dldF9pbmRleCgmcGRldi0+ZGV2LCBOVUxMLCAy
LCBHUElPRF9JTik7Cj4gKwlpZiAoSVNfRVJSKGdwaW8pKQo+ICsJCXJldHVybiBQVFJfRVJSKGdw
aW8pOwo+ICsKPiArCXRwZC0+aHBkX2dwaW8gPSBncGlvOwo+ICsKPiArCS8qIFJlZ2lzdGVyIHRo
ZSBJUlEgaWYgdGhlIEhQRCBHUElPIGlzIElSUS1jYXBhYmxlLiAqLwo+ICsJaWYgKHRwZC0+aHBk
X2dwaW8pCj4gKwkJdHBkLT5ocGRfaXJxID0gZ3Bpb2RfdG9faXJxKHRwZC0+aHBkX2dwaW8pOwoK
V2UgYWx3YXlzIGhhdmUgdHBkLT5ocGRfZ3BpbyBoZXJlLCBkb24ndCB3ZT8KCiAgVG9taQoKLS0g
ClRleGFzIEluc3RydW1lbnRzIEZpbmxhbmQgT3ksIFBvcmtrYWxhbmthdHUgMjIsIDAwMTgwIEhl
bHNpbmtpLgpZLXR1bm51cy9CdXNpbmVzcyBJRDogMDYxNTUyMS00LiBLb3RpcGFpa2thL0RvbWlj
aWxlOiBIZWxzaW5raQpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2
ZWw=
