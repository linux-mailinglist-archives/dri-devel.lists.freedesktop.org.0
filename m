Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 8F69224ED4
	for <lists+dri-devel@lfdr.de>; Tue, 21 May 2019 14:17:47 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A71DA893EB;
	Tue, 21 May 2019 12:17:42 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga04.intel.com (mga04.intel.com [192.55.52.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 41A93893A8;
 Tue, 21 May 2019 12:17:36 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga006.fm.intel.com ([10.253.24.20])
 by fmsmga104.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 21 May 2019 05:17:36 -0700
X-ExtLoop1: 1
Received: from helsinki.fi.intel.com ([10.237.66.174])
 by fmsmga006.fm.intel.com with ESMTP; 21 May 2019 05:17:33 -0700
From: Gwan-gyeong Mun <gwan-gyeong.mun@intel.com>
To: intel-gfx@lists.freedesktop.org
Subject: [PATCH v9 5/6] drm/i915/dp: Change a link bandwidth computation for DP
Date: Tue, 21 May 2019 15:17:20 +0300
Message-Id: <20190521121721.32010-6-gwan-gyeong.mun@intel.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190521121721.32010-1-gwan-gyeong.mun@intel.com>
References: <20190521121721.32010-1-gwan-gyeong.mun@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: dri-devel@lists.freedesktop.org, laurent.pinchart@ideasonboard.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RGF0YSBNL04gY2FsY3VsYXRpb25zIHdlcmUgYXNzdW1lZCBhIGJwcCBhcyBSR0IgZm9ybWF0LiBC
dXQgd2hlbiB3ZSBhcmUKdXNpbmcgWUNiQ3IgNDoyOjAgb3V0cHV0IGZvcm1hdCBvbiBEUCwgd2Ug
c2hvdWxkIGNoYW5nZSBicHAgY2FsY3VsYXRpb25zCmFzIFlDYkNyIDQ6MjowIGZvcm1hdC4gVGhl
IHBpcGVfYnBwIHZhbHVlIHdhcyBhc3N1bWVkIFJHQiBmb3JtYXQsCnRoZXJlZm9yZSwgaXQgd2Fz
IG11bHRpcGxpZWQgd2l0aCAzLiBCdXQgWUNiQ3IgNDoyOjAgcmVxdWlyZXMgYSBtdWx0aXBsaWVy
CnZhbHVlIHRvIDEuNS4KVGhlcmVmb3JlIHdlIG5lZWQgdG8gZGl2aWRlIHBpcGVfYnBwIHRvIDIg
d2hpbGUgRFAgb3V0cHV0IHVzZXMgWUNiQ3I0OjI6MApmb3JtYXQuCiAtIFJHQiBmb3JtYXQgYnBw
ID0gYnBjIHggMwogLSBZQ2JDciA0OjI6MCBmb3JtYXQgYnBwID0gYnBjIHggMS41CgpCdXQgTGlu
ayBNL04gdmFsdWVzIGFyZSBjYWxjdWxhdGVkIGFuZCBhcHBsaWVkIGJhc2VkIG9uIHRoZSBGdWxs
IENsb2NrIGZvcgpZQ2JDciA0OjI6MC4gQW5kIERQIFlDYkNyIDQ6MjowIGRvZXMgbm90IG5lZWQg
dG8gcGl4ZWwgY2xvY2sgZG91YmxlIGZvcgphIGRvdGNsb2NrIGNhbHVhdGlvbi4gT25seSBmb3Ig
SERNSSBZQ2JDciA0OjI6MCBuZWVkcyB0byBwaXhlbCBjbG9jayBkb3VibGUKZm9yIGEgZG90IGNs
b2NrIGNhbGN1bGF0aW9uLgoKSXQgb25seSBhZmZlY3RzIGRwIGFuZCBlZHAgcG9ydCB3aGljaCB1
c2UgWUNiQ3IgNDoyOjAgb3V0cHV0IGZvcm1hdC4KQW5kIGZvciBub3csIGl0IGRvZXMgbm90IGNv
bnNpZGVyIGEgdXNlIGNhc2Ugb2YgRFNDICsgWUNiQ3IgNDoyOjAuCgp2MjoKICBBZGRyZXNzZWQg
cmV2aWV3IGNvbW1lbnRzIGZyb20gVmlsbGUuCiAgUmVtb3ZlIGEgY2hhbmdpbmcgb2YgcGlwZV9i
cHAgb24gaW50ZWxfZGRpX3NldF9waXBlX3NldHRpbmdzKCkuCiAgQmVjYXVzZSB0aGUgcGlwZSBp
cyBydW5uaW5nIGF0IHRoZSBmdWxsIGJwcCwga2VlcCBwaXBlX2JwcCBhcyBSR0IKICBldmVuIHRo
b3VnaCBZQ2JDciA0OjI6MCBvdXRwdXQgZm9ybWF0IGlzIHVzZWQuCiAgQWRkIGEgbGluayBiYW5k
d2lkdGggY29tcHV0YXRpb24gZm9yIFlDYkNyNDoyOjAgb3V0cHV0IGZvcm1hdC4KCnYzOgogIEFk
ZHJlc3NlZCByZWl2ZXcgY29tbWVudHMgZnJvbSBWaWxsZS4KICBJbiBvcmRlciB0byBtYWtlIGNv
ZGVzIHNpbXBsZSwgaXQgYWRkcyBhbmQgdXNlcyBpbnRlbF9kcF9vdXRwdXRfYnBwKCkKICBmdW5j
dGlvbi4KCnY2OgogIExpbmsgTS9OIHZhbHVlcyBhcmUgY2FsY3VsYXRlZCBhbmQgYXBwbGllZCBi
YXNlZCBvbiB0aGUgRnVsbCBDbG9jayBmb3IKICBZQ2JDcjQyMC4gVGhlIEJpdCBwZXIgUGl4ZWwg
bmVlZHMgdG8gYmUgYWRqdXN0ZWQgZm9yIFlVVjQyMCBtb2RlIGFzIGl0CiAgcmVxdWlyZXMgb25s
eSBoYWxmIG9mIHRoZSBSR0IgY2FzZS4KICAgIC0gTGluayBNL04gdmFsdWVzIGFyZSBjYWxjdWxh
dGVkIGFuZCBhcHBsaWVkIGJhc2VkIG9uIHRoZSBGdWxsIENsb2NrCiAgICAtIERhdGEgTS9OIHZh
bHVlcyBuZWVkcyB0byBiZSBjYWxjdWxhdGVkIGNvbnNpZGVyaW5nIHRoZSBkYXRhIGlzIGhhbGYK
ICAgICAgZHVlIHRvIHN1YnNhbXBsaW5nCiAgUmVtb3ZlIGEgZG91Ymxpbmcgb2YgcGl4ZWwgY2xv
Y2sgb24gYSBkb3QgY2xvY2sgY2FsY3VsYXRvciBmb3IKICBEUCBZQ2JDciA0OjI6MC4KICBSZWJh
c2UgYW5kIHJlbW92ZSBhIGR1cGxpY2F0ZSBzZXR0aW5nIG9mIHZzY19zZHAuREIxNy4KICBBZGQg
YSBzZXR0aW5nIG9mIGR5bmFtaWMgcmFuZ2UgYml0IHRvICB2c2Nfc2RwLkRCMTcuCiAgQ2hhbmdl
IENvbnRlbnQgVHlwZSBiaXQgdG8gIkdyYXBoaWNzIiBmcm9tICJOb3QgZGVmaW5lZCIuCiAgQ2hh
bmdlIGEgZGl2aWRpbmcgb2YgcGlwZV9icHAgdG8gbXVsaXBseWluZyB0byBjb25zdGFudCB2YWx1
ZXMgb24gYQogIHN3aXRjaC1jYXNlIHN0YXRlbWVudC4KCnY3OgogIEFkZHJlc3NlZCByZXZpZXcg
Y29tbWVudHMgZnJvbSBWaWxsZS4KICBNb3ZlIGEgc2V0dGluZyBvZiBkeW5hbWljIHJhbmdlIGJp
dCBhbmQgYSBzZXR0aW5nIG9mIGJwYyB3aGljaCBpcyBiYXNlZAogIG9uIHBpcGVfYnBwIHRvIGEg
ImRybS9pOTE1L2RwOiBQcm9ncmFtIFZTQyBIZWFkZXIgYW5kIERCIGZvciBQaXhlbAogIEVuY29k
aW5nL0NvbG9yaW1ldHJ5IEZvcm1hdCIgY29tbWl0LgogIENoYW5nZSBDb250ZW50IFR5cGUgYml0
IHRvICJOb3QgZGVmaW5lZCIgZnJvbSAiR3JhcGhpY3MiLgoKQ2M6IFZpbGxlIFN5cmrDpGzDpCA8
dmlsbGUuc3lyamFsYUBsaW51eC5pbnRlbC5jb20+ClNpZ25lZC1vZmYtYnk6IEd3YW4tZ3llb25n
IE11biA8Z3dhbi1neWVvbmcubXVuQGludGVsLmNvbT4KUmV2aWV3ZWQtYnk6IE1hYXJ0ZW4gTGFu
a2hvcnN0IDxtYWFydGVuLmxhbmtob3JzdEBsaW51eC5pbnRlbC5jb20+Ci0tLQogZHJpdmVycy9n
cHUvZHJtL2k5MTUvaW50ZWxfZGRpLmMgfCAgMyArKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2lu
dGVsX2RwLmMgIHwgMTUgKysrKysrKysrKysrKystCiAyIGZpbGVzIGNoYW5nZWQsIDE2IGluc2Vy
dGlvbnMoKyksIDIgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvaW50ZWxfZGRpLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kZGkuYwppbmRleCAz
ZjI0N2YwOTFkNGMuLmRmMDZlNWJiNDc2NCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvaW50ZWxfZGRpLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGRpLmMKQEAg
LTE0NTcsNyArMTQ1Nyw4IEBAIHN0YXRpYyB2b2lkIGRkaV9kb3RjbG9ja19nZXQoc3RydWN0IGlu
dGVsX2NydGNfc3RhdGUgKnBpcGVfY29uZmlnKQogCWVsc2UKIAkJZG90Y2xvY2sgPSBwaXBlX2Nv
bmZpZy0+cG9ydF9jbG9jazsKIAotCWlmIChwaXBlX2NvbmZpZy0+b3V0cHV0X2Zvcm1hdCA9PSBJ
TlRFTF9PVVRQVVRfRk9STUFUX1lDQkNSNDIwKQorCWlmIChwaXBlX2NvbmZpZy0+b3V0cHV0X2Zv
cm1hdCA9PSBJTlRFTF9PVVRQVVRfRk9STUFUX1lDQkNSNDIwICYmCisJICAgICFpbnRlbF9jcnRj
X2hhc19kcF9lbmNvZGVyKHBpcGVfY29uZmlnKSkKIAkJZG90Y2xvY2sgKj0gMjsKIAogCWlmIChw
aXBlX2NvbmZpZy0+cGl4ZWxfbXVsdGlwbGllcikKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2ludGVsX2RwLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kcC5jCmluZGV4
IDA2YjFkYzI3NDE5Ni4uZDYyZjA4OTgzNjBlIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pbnRlbF9kcC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2RwLmMKQEAg
LTE4NTAsNiArMTg1MCwxOSBAQCBpbnRlbF9kcF9hZGp1c3RfY29tcGxpYW5jZV9jb25maWcoc3Ry
dWN0IGludGVsX2RwICppbnRlbF9kcCwKIAl9CiB9CiAKK3N0YXRpYyBpbnQgaW50ZWxfZHBfb3V0
cHV0X2JwcChjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSwgaW50IGJw
cCkKK3sKKwkvKgorCSAqIGJwcCB2YWx1ZSB3YXMgYXNzdW1lZCB0byBSR0IgZm9ybWF0LiBBbmQg
WUNiQ3IgNDoyOjAgb3V0cHV0CisJICogZm9ybWF0IG9mIHRoZSBudW1iZXIgb2YgYnl0ZXMgcGVy
IHBpeGVsIHdpbGwgYmUgaGFsZiB0aGUgbnVtYmVyCisJICogb2YgYnl0ZXMgb2YgUkdCIHBpeGVs
LgorCSAqLworCWlmIChjcnRjX3N0YXRlLT5vdXRwdXRfZm9ybWF0ID09IElOVEVMX09VVFBVVF9G
T1JNQVRfWUNCQ1I0MjApCisJCWJwcCAvPSAyOworCisJcmV0dXJuIGJwcDsKK30KKwogLyogT3B0
aW1pemUgbGluayBjb25maWcgaW4gb3JkZXI6IG1heCBicHAsIG1pbiBjbG9jaywgbWluIGxhbmVz
ICovCiBzdGF0aWMgaW50CiBpbnRlbF9kcF9jb21wdXRlX2xpbmtfY29uZmlnX3dpZGUoc3RydWN0
IGludGVsX2RwICppbnRlbF9kcCwKQEAgLTIyMjMsNyArMjIzNiw3IEBAIGludGVsX2RwX2NvbXB1
dGVfY29uZmlnKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAogCWlmIChwaXBlX2NvbmZp
Zy0+ZHNjX3BhcmFtcy5jb21wcmVzc2lvbl9lbmFibGUpCiAJCW91dHB1dF9icHAgPSBwaXBlX2Nv
bmZpZy0+ZHNjX3BhcmFtcy5jb21wcmVzc2VkX2JwcDsKIAllbHNlCi0JCW91dHB1dF9icHAgPSBw
aXBlX2NvbmZpZy0+cGlwZV9icHA7CisJCW91dHB1dF9icHAgPSBpbnRlbF9kcF9vdXRwdXRfYnBw
KHBpcGVfY29uZmlnLCBwaXBlX2NvbmZpZy0+cGlwZV9icHApOwogCiAJaW50ZWxfbGlua19jb21w
dXRlX21fbihvdXRwdXRfYnBwLAogCQkJICAgICAgIHBpcGVfY29uZmlnLT5sYW5lX2NvdW50LAot
LSAKMi4yMS4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
XwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcK
aHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
