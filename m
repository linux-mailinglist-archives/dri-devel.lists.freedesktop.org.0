Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 6AB71B7444
	for <lists+dri-devel@lfdr.de>; Thu, 19 Sep 2019 09:36:40 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 66A356FA94;
	Thu, 19 Sep 2019 07:36:19 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-pl1-x644.google.com (mail-pl1-x644.google.com
 [IPv6:2607:f8b0:4864:20::644])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3FA226F4C1
 for <dri-devel@lists.freedesktop.org>; Thu, 19 Sep 2019 06:17:35 +0000 (UTC)
Received: by mail-pl1-x644.google.com with SMTP id e5so1095459pls.9
 for <dri-devel@lists.freedesktop.org>; Wed, 18 Sep 2019 23:17:35 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id;
 bh=gcYzOugfEbxtJgRn/vi2sAdQBGX8hNXzyTCF+mskS2w=;
 b=T8RIHnsxNni5rgRhNtfmenYfgMoJEzUTIHS1719VjXmXDIXbQFzPoXrloUm9JuXPiH
 WAncp+SzAd4KRgvP3bsIZNyyHiDQS57TdEaOLvjzfkDhFg7n5oKZYelaRVo1ojB+xXhl
 /SLMMUOmnBDa1Z5jzu5eL3ciymbpHbZ9G/RlbwHr9WCeRGoR+FRUTSdQgzxHl4szCggE
 9KZ+ygRm3bqCNfGi1W1lDggHzPG5A2Wm2brUjbUQ4nP6K8/USXkRinOGMBEEgbunbwIh
 yrp7YfJ3gaRRKrQP5NzopPqxO1p/h0cY4kD+pbzKViQ0lJQm+8Fs9p+Tr4GtBIB25PAm
 fxaw==
X-Gm-Message-State: APjAAAVtex2DC1WwEv8lmtxKebpNRCmsnLieo+ZY0CKW8cNe3JSkfBsK
 cJKYV1K0ghFjRajUYsbjw39J1bDa0vc=
X-Google-Smtp-Source: APXvYqz1S5CA5kiAyTrG7aVMQSQS/CHe9AyKEKBQTQtik9iBkCNiUj6TNY1NOaz9lAKIhQoyHJpLRg==
X-Received: by 2002:a17:902:a50a:: with SMTP id
 s10mr8111216plq.336.1568873854674; 
 Wed, 18 Sep 2019 23:17:34 -0700 (PDT)
Received: from super-sugar.huaqin.com ([101.78.151.194])
 by smtp.gmail.com with ESMTPSA id w6sm13386750pfj.17.2019.09.18.23.17.32
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Wed, 18 Sep 2019 23:17:34 -0700 (PDT)
From: Jerry Han <jerry.han.hq@gmail.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH 4/9] [v10,
 4/9] drm/panel: Add Boe Himax8279d MIPI-DSI LCD panel
Date: Thu, 19 Sep 2019 14:17:29 +0800
Message-Id: <20190919061729.2440-1-jerry.han.hq@gmail.com>
X-Mailer: git-send-email 2.17.1
X-Mailman-Approved-At: Thu, 19 Sep 2019 07:35:45 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id;
 bh=gcYzOugfEbxtJgRn/vi2sAdQBGX8hNXzyTCF+mskS2w=;
 b=ASL8+AQ/H8vjp9VS9ax/8I8KBbS4IUCe8y2IB07WM2kMfWPHc9YELiQcUHseXEONCv
 7/a3UEzGQh9y6qncCzn3DfJ0F561T5LQH/uzFKMRbAltDj6NVgt2bSxIfB7V7KiSXYHj
 1bGY4VXiWGsvSM/4YgnC/I6+WeJ5Oj6i1EeCP3x1fGnh2QQRpwhr0BgatPSbiatIrz+S
 /gLK3cewf9xTte2f8C4eRpz6dBFaj8m1slYEsLq4s53MGPHM9O98tpuOu010Wve1Ed3K
 qHSBmOgHmavg3CTmCkn5Mv6ngz7Vcw8LLF/ba/qAuSmck7jyQ2hTyRXVJ7Tbwp23NLSM
 ZKEw==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Derek Basehore <dbasehore@chromium.org>, Jerry Han <jerry.han.hq@gmail.com>,
 Jitao Shi <jitao.shi@mediatek.com>,
 Jerry Han <hanxu5@huaqin.corp-partner.google.com>,
 Rock wang <rock_wang@himax.com.cn>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

U3VwcG9ydCBCb2UgSGltYXg4Mjc5ZCA4LjAiIDEyMDB4MTkyMCBURlQgTENEIHBhbmVsLCBpdCBp
cyBhIE1JUEkgRFNJCnBhbmVsLgoKVjQ6Ci0gRnJlZml4IGFsbCBmdW5jdGlvbiBtYWVzIHdpdGgg
Ym9lXyAoU2FtKQotIEZzZWQgImVuYWJsZV9ncGlvIiByZXBsYWNlICJyZXNldF9ncGlvIiwgTWFr
ZSBpdCBsb29rIGNsZWFyZXIgKFNhbSkKLSBTb3J0IGluY2x1ZGUgbGluZXMgYWxwaGFiZXRpY2Fs
bHkgKFNhbSkKLSBGaXhlZCBlbnRyaWVzIGluIHRoZSBtYWtlZmlsZSBtdXN0IGJlIHNvcnRlZCBh
bHBoYWJldGljYWxseSAoU2FtKQotIEFkZCBzZW5kX21pcGlfY21kcyBmdW5jdGlvbiB0byBhdm9p
ZCBkdXBsaWNhdGluZyB0aGUgY29kZSAoU2FtKQotIEFkZCB0aGUgbmVjZXNzYXJ5IGRlbGF5KHJl
c2V0X2RlbGF5X3Q1KSBiZXR3ZWVuIHJlc2V0IGFuZCBzZW5kaW5nCiAgICB0aGUgaW5pdGlhbGl6
YXRpb24gY29tbWFuZCAoUm9jayB3YW5nKQoKVjM6Ci0gUmVtb3ZlIHVubmVjZXNzYXJ5IGRlbGF5
cyBpbiBzZW5kaW5nIGluaXRpYWxpemF0aW9uIGNvbW1hbmRzIChKaXRhbyBTaGkpCgpWMjoKLSBV
c2UgU1BEWCBpZGVudGlmaWVyIChTYW0pCi0gVXNlIG5lY2Vzc2FyeSBoZWFkZXIgZmlsZXMgcmVw
bGFjZSBkcm1QLmggKFNhbSkKLSBEZWxldGUgdW5uZWNlc3NhcnkgaGVhZGVyIGZpbGVzICNpbmNs
dWRlIDxsaW51eC9lcnIuaD4gKFNhbSkKLSBTcGVjaWZpZXMgYSBHUElPcyBhcnJheSB0byBjb250
cm9sIHRoZSByZXNldCB0aW1pbmcsCiAgICBpbnN0ZWFkIG9mIHJlYWRpbmcgImRzaS1yZXNldC1z
ZXF1ZW5jZSIgZGF0YSBmcm9tIERUUyAoU2FtKQotIERlbGV0ZSBiYWNrbGlnaHRfZGlzYWJsZSgp
IGZ1bmN0aW9uIHdoZW4gYWxyZWFkeSBkaXNhYmxlZCAoU2FtKQotIFVzZSBkZXZtX29mX2ZpbmRf
YmFja2xpZ2h0KCkgcmVwbGFjZSBvZl9maW5kX2JhY2tsaWdodF9ieV9ub2RlKCkgKFNhbSkKLSBN
b3ZlIHRoZSBuZWNlc3NhcnkgZGF0YSBpbiB0aGUgRFRTIHRvIHRoZSBjdXJyZW50IGZpbGUsCiAg
ICBsaWtlIHBvcmNoLCBkaXNwbGF5X21vZGUgYW5kIEluaXQgY29kZSBldGMuIChTYW0pCi0gQWRk
IGNvbXBhdGlibGUgZGV2aWNlICJib2UsaGltYXg4Mjc5ZDEwcCIgKFNhbSkKClYxOgotIFN1cHBv
cnQgQm9lIEhpbWF4ODI3OWQgOC4wIiAxMjAweDE5MjAgVEZUIExDRCBwYW5lbCwgaXQgaXMgYSBN
SVBJIERTSQpwYW5lbC4KClNpZ25lZC1vZmYtYnk6IEplcnJ5IEhhbiA8aGFueHU1QGh1YXFpbi5j
b3JwLXBhcnRuZXIuZ29vZ2xlLmNvbT4KQ2M6IEppdGFvIFNoaSA8aml0YW8uc2hpQG1lZGlhdGVr
LmNvbT4KQ2M6IERlcmVrIEJhc2Vob3JlIDxkYmFzZWhvcmVAY2hyb21pdW0ub3JnPgpDYzogUm9j
ayB3YW5nIDxyb2NrX3dhbmdAaGltYXguY29tLmNuPgotLS0KIE1BSU5UQUlORVJTICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHwgIDEyICstCiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwv
S2NvbmZpZyAgICAgICAgICAgICAgICB8ICAyMiArLQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3Bh
bmVsLWJvZS1oaW1heDgyNzlkLmMgfCAyMDEgKysrKysrKysrLS0tLS0tLS0tLQogMyBmaWxlcyBj
aGFuZ2VkLCAxMTQgaW5zZXJ0aW9ucygrKSwgMTIxIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBh
L01BSU5UQUlORVJTIGIvTUFJTlRBSU5FUlMKaW5kZXggN2M2YWMxOGI5MjJlLi5iZDBmYWRiOWVh
MTggMTAwNjQ0Ci0tLSBhL01BSU5UQUlORVJTCisrKyBiL01BSU5UQUlORVJTCkBAIC01MDg1LDYg
KzUwODUsMTIgQEAgVDoJZ2l0IGdpdDovL2Fub25naXQuZnJlZWRlc2t0b3Aub3JnL2RybS9kcm0t
bWlzYwogUzoJTWFpbnRhaW5lZAogRjoJZHJpdmVycy9ncHUvZHJtL2JvY2hzLwogCitEUk0gRFJJ
VkVSIEZPUiBCT0UgSElNQVg4Mjc5RCBQQU5FTFMKK006CUplcnJ5IEhhbiA8aGFueHU1QGh1YXFp
bi5jb3JwLXBhcnRuZXIuZ29vZ2xlLmNvbT4KK1M6CU1haW50YWluZWQKK0Y6CWRyaXZlcnMvZ3B1
L2RybS9wYW5lbC9wYW5lbC1ib2UtaGltYXg4Mjc5ZC5jCitGOglEb2N1bWVudGF0aW9uL2Rldmlj
ZXRyZWUvYmluZGluZ3MvZGlzcGxheS9wYW5lbC9ib2UsaGltYXg4Mjc5ZC50eHQKKwogRFJNIERS
SVZFUiBGT1IgRkFSQURBWSBUVkUyMDAgVFYgRU5DT0RFUgogTToJTGludXMgV2FsbGVpaiA8bGlu
dXMud2FsbGVpakBsaW5hcm8ub3JnPgogVDoJZ2l0IGdpdDovL2Fub25naXQuZnJlZWRlc2t0b3Au
b3JnL2RybS9kcm0tbWlzYwpAQCAtNTExMCwxMiArNTExNiw2IEBAIFM6CU1haW50YWluZWQKIEY6
CWRyaXZlcnMvZ3B1L2RybS90aW55L2lsaTkyMjUuYwogRjoJRG9jdW1lbnRhdGlvbi9kZXZpY2V0
cmVlL2JpbmRpbmdzL2Rpc3BsYXkvaWxpdGVrLGlsaTkyMjUudHh0CiAKLURSTSBEUklWRVIgRk9S
IEJPRSBISU1BWDgyNzlEIFBBTkVMUwotTToJSmVycnkgSGFuIDxoYW54dTVAaHVhcWluLmNvcnAt
cGFydG5lci5nb29nbGUuY29tPgotUzoJTWFpbnRhaW5lZAotRjoJZHJpdmVycy9ncHUvZHJtL3Bh
bmVsL3BhbmVsLWJvZS1oaW1heDgyNzlkLmMKLUY6CURvY3VtZW50YXRpb24vZGV2aWNldHJlZS9i
aW5kaW5ncy9kaXNwbGF5L3BhbmVsL2JvZSxoaW1heDgyNzlkLnR4dAotCiBEUk0gRFJJVkVSIEZP
UiBIWDgzNTdEIFBBTkVMUwogTToJRXJpYyBBbmhvbHQgPGVyaWNAYW5ob2x0Lm5ldD4KIFQ6CWdp
dCBnaXQ6Ly9hbm9uZ2l0LmZyZWVkZXNrdG9wLm9yZy9kcm0vZHJtLW1pc2MKZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9LY29uZmlnIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL0tj
b25maWcKaW5kZXggY2ZkOGM4ODZmZmY3Li42ODNmZjc3YTM3MzMgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9wYW5lbC9LY29uZmlnCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9LY29u
ZmlnCkBAIC0xOCw2ICsxOCwxNyBAQCBjb25maWcgRFJNX1BBTkVMX0FSTV9WRVJTQVRJTEUKIAkg
IHJlZmVyZW5jZSBkZXNpZ25zLiBUaGUgcGFuZWwgaXMgZGV0ZWN0ZWQgdXNpbmcgc3BlY2lhbCBy
ZWdpc3RlcnMKIAkgIGluIHRoZSBWZXJzYXRpbGUgZmFtaWx5IHN5c2NvbiByZWdpc3RlcnMuCiAK
K2NvbmZpZyBEUk1fUEFORUxfQk9FX0hJTUFYODI3OUQKKwl0cmlzdGF0ZSAiQm9lIEhpbWF4ODI3
OWQgcGFuZWwiCisJZGVwZW5kcyBvbiBPRgorCWRlcGVuZHMgb24gRFJNX01JUElfRFNJCisJZGVw
ZW5kcyBvbiBCQUNLTElHSFRfQ0xBU1NfREVWSUNFCisJaGVscAorCSAgU2F5IFkgaGVyZSBpZiB5
b3Ugd2FudCB0byBlbmFibGUgc3VwcG9ydCBmb3IgQm9lIEhpbWF4ODI3OWQKKwkgIFRGVC1MQ0Qg
bW9kdWxlcy4gVGhlIHBhbmVsIGhhcyBhIDEyMDB4MTkyMCByZXNvbHV0aW9uIGFuZCB1c2VzCisJ
ICAyNCBiaXQgUkdCIHBlciBwaXhlbC4gSXQgcHJvdmlkZXMgYSBNSVBJIERTSSBpbnRlcmZhY2Ug
dG8KKwkgIHRoZSBob3N0IGFuZCBoYXMgYSBidWlsdC1pbiBMRUQgYmFja2xpZ2h0LgorCiBjb25m
aWcgRFJNX1BBTkVMX0xWRFMKIAl0cmlzdGF0ZSAiR2VuZXJpYyBMVkRTIHBhbmVsIGRyaXZlciIK
IAlkZXBlbmRzIG9uIE9GCkBAIC0zMzksMTcgKzM1MCw2IEBAIGNvbmZpZyBEUk1fUEFORUxfVFBP
X1REMDQzTVRFQTEKIAkgIFNheSBZIGhlcmUgaWYgeW91IHdhbnQgdG8gZW5hYmxlIHN1cHBvcnQg
Zm9yIFRQTyBURDA0M01URUExIDgwMHg0ODAKIAkgIDQuMyIgcGFuZWwgKGZvdW5kIG9uIHRoZSBP
TUFQMyBQYW5kb3JhIGJvYXJkKS4KIAotY29uZmlnIERSTV9QQU5FTF9CT0VfSElNQVg4Mjc5RAot
CXRyaXN0YXRlICJCb2UgSGltYXg4Mjc5ZCBwYW5lbCIKLQlkZXBlbmRzIG9uIE9GCi0JZGVwZW5k
cyBvbiBEUk1fTUlQSV9EU0kKLQlkZXBlbmRzIG9uIEJBQ0tMSUdIVF9DTEFTU19ERVZJQ0UKLQlo
ZWxwCi0JICBTYXkgWSBoZXJlIGlmIHlvdSB3YW50IHRvIGVuYWJsZSBzdXBwb3J0IGZvciBTYW1l
IHR5cGUKLQkgIFRGVC1MQ0QgbW9kdWxlcy4gVGhlIHBhbmVsIGhhcyBhIDEyMDB4MTkyMCByZXNv
bHV0aW9uIGFuZCB1c2VzCi0JICAyNCBiaXQgUkdCIHBlciBwaXhlbC4gSXQgcHJvdmlkZXMgYSBN
SVBJIERTSSBpbnRlcmZhY2UgdG8KLQkgIHRoZSBob3N0IGFuZCBoYXMgYSBidWlsdC1pbiBMRUQg
YmFja2xpZ2h0LgotCiBjb25maWcgRFJNX1BBTkVMX1RQT19UUEcxMTAKIAl0cmlzdGF0ZSAiVFBP
IFRQRyA4MDB4NDAwIHBhbmVsIgogCWRlcGVuZHMgb24gT0YgJiYgU1BJICYmIEdQSU9MSUIKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1ib2UtaGltYXg4Mjc5ZC5jIGIv
ZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWJvZS1oaW1heDgyNzlkLmMKaW5kZXggNjBmNWY4
YmYyZTE0Li5hYTdkOTEyNzk4MTkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9w
YW5lbC1ib2UtaGltYXg4Mjc5ZC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1i
b2UtaGltYXg4Mjc5ZC5jCkBAIC0xNywxMCArMTcsMTAgQEAKICNpbmNsdWRlIDxsaW51eC9ncGlv
L2NvbnN1bWVyLmg+CiAjaW5jbHVkZSA8bGludXgvcmVndWxhdG9yL2NvbnN1bWVyLmg+CiAKLSNp
bmNsdWRlIDxkcm0vZHJtX21vZGVzLmg+CisjaW5jbHVkZSA8ZHJtL2RybV9kZXZpY2UuaD4KICNp
bmNsdWRlIDxkcm0vZHJtX21pcGlfZHNpLmg+CisjaW5jbHVkZSA8ZHJtL2RybV9tb2Rlcy5oPgog
I2luY2x1ZGUgPGRybS9kcm1fcGFuZWwuaD4KLSNpbmNsdWRlIDxkcm0vZHJtX2RldmljZS5oPgog
I2luY2x1ZGUgPGRybS9kcm1fcHJpbnQuaD4KIAogI2luY2x1ZGUgPHZpZGVvL21pcGlfZGlzcGxh
eS5oPgpAQCAtMzcsMTUgKzM3LDE2IEBAIHN0cnVjdCBwYW5lbF9jbWQgewogc3RydWN0IHBhbmVs
X2Rlc2MgewogCWNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICpkaXNwbGF5X21vZGU7CiAJ
dW5zaWduZWQgaW50IGJwYzsKLQl1bnNpZ25lZCBpbnQgd2lkdGg7Ci0JdW5zaWduZWQgaW50IGhl
aWdodDsKKwl1bnNpZ25lZCBpbnQgd2lkdGhfbW07CisJdW5zaWduZWQgaW50IGhlaWdodF9tbTsK
IAogCXVuc2lnbmVkIGludCBkZWxheV90MTsKIAl1bnNpZ25lZCBpbnQgcmVzZXRfZGVsYXlfdDI7
CiAJdW5zaWduZWQgaW50IHJlc2V0X2RlbGF5X3QzOwogCXVuc2lnbmVkIGludCByZXNldF9kZWxh
eV90NDsKKwl1bnNpZ25lZCBpbnQgcmVzZXRfZGVsYXlfdDU7CiAKLQl1bnNpZ25lZCBsb25nIGZs
YWdzOworCXVuc2lnbmVkIGxvbmcgbW9kZV9mbGFnczsKIAllbnVtIG1pcGlfZHNpX3BpeGVsX2Zv
cm1hdCBmb3JtYXQ7CiAJdW5zaWduZWQgaW50IGxhbmVzOwogCWNvbnN0IHN0cnVjdCBwYW5lbF9j
bWQgKm9uX2NtZHM7CkBAIC01OCw3ICs1OSw3IEBAIHN0cnVjdCBwYW5lbF9pbmZvIHsKIAljb25z
dCBzdHJ1Y3QgcGFuZWxfZGVzYyAqZGVzYzsKIAogCXN0cnVjdCBiYWNrbGlnaHRfZGV2aWNlICpi
YWNrbGlnaHQ7Ci0Jc3RydWN0IGdwaW9fZGVzYyAqcmVzZXRfZ3BpbzsKKwlzdHJ1Y3QgZ3Bpb19k
ZXNjICplbmFibGVfZ3BpbzsKIAlzdHJ1Y3QgZ3Bpb19kZXNjICpwcDMzX2dwaW87CiAJc3RydWN0
IGdwaW9fZGVzYyAqcHAxOF9ncGlvOwogCkBAIC02NiwxOSArNjcsNDkgQEAgc3RydWN0IHBhbmVs
X2luZm8gewogCWJvb2wgZW5hYmxlZDsKIH07CiAKK3N0YXRpYyBpbmxpbmUgc3RydWN0IHBhbmVs
X2luZm8gKnRvX3BhbmVsX2luZm8oc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCit7CisJcmV0dXJu
IGNvbnRhaW5lcl9vZihwYW5lbCwgc3RydWN0IHBhbmVsX2luZm8sIGJhc2UpOworfQorCiB2b2lk
IHNldF9ncGlvcyhzdHJ1Y3QgcGFuZWxfaW5mbyAqcGluZm8sIGludCBlbmFibGUpCiB7Ci0JZ3Bp
b2Rfc2V0X3ZhbHVlKHBpbmZvLT5yZXNldF9ncGlvLCBlbmFibGUpOworCWdwaW9kX3NldF92YWx1
ZShwaW5mby0+ZW5hYmxlX2dwaW8sIGVuYWJsZSk7CiAJZ3Bpb2Rfc2V0X3ZhbHVlKHBpbmZvLT5w
cDMzX2dwaW8sIGVuYWJsZSk7CiAJZ3Bpb2Rfc2V0X3ZhbHVlKHBpbmZvLT5wcDE4X2dwaW8sIGVu
YWJsZSk7CiB9CiAKLXN0YXRpYyBpbmxpbmUgc3RydWN0IHBhbmVsX2luZm8gKnRvX3BhbmVsX2lu
Zm8oc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCitzdGF0aWMgaW50IHNlbmRfbWlwaV9jbWRzKHN0
cnVjdCBkcm1fcGFuZWwgKnBhbmVsLCBjb25zdCBzdHJ1Y3QgcGFuZWxfY21kICpjbWRzKQogewot
CXJldHVybiBjb250YWluZXJfb2YocGFuZWwsIHN0cnVjdCBwYW5lbF9pbmZvLCBiYXNlKTsKKwlz
dHJ1Y3QgcGFuZWxfaW5mbyAqcGluZm8gPSB0b19wYW5lbF9pbmZvKHBhbmVsKTsKKwl1bnNpZ25l
ZCBpbnQgaSA9IDA7CisJaW50IGVycjsKKworCWlmICghY21kcykKKwkJcmV0dXJuIC1FRkFVTFQ7
CisKKwlmb3IgKGkgPSAwOyBjbWRzW2ldLmxlbiAhPSAwOyBpKyspIHsKKwkJY29uc3Qgc3RydWN0
IHBhbmVsX2NtZCAqY21kID0gJmNtZHNbaV07CisKKwkJaWYgKGNtZC0+bGVuID09IDIpCisJCQll
cnIgPSBtaXBpX2RzaV9kY3Nfd3JpdGUocGluZm8tPmxpbmssCisJCQkJCQkgICAgY21kLT5kYXRh
WzFdLCBOVUxMLCAwKTsKKwkJZWxzZQorCQkJZXJyID0gbWlwaV9kc2lfZGNzX3dyaXRlKHBpbmZv
LT5saW5rLAorCQkJCQkJICAgIGNtZC0+ZGF0YVsxXSwgY21kLT5kYXRhICsgMiwKKwkJCQkJCSAg
ICBjbWQtPmxlbiAtIDIpOworCisJCWlmIChlcnIgPCAwKQorCQkJcmV0dXJuIGVycjsKKworCQl1
c2xlZXBfcmFuZ2UoKGNtZC0+ZGF0YVswXSkgKiAxMDAwLAorCQkJICAgICgxICsgY21kLT5kYXRh
WzBdKSAqIDEwMDApOworCX0KKworCXJldHVybiAwOwogfQogCi1zdGF0aWMgaW50IHBhbmVsX2Rp
c2FibGUoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCitzdGF0aWMgaW50IGJvZV9wYW5lbF9kaXNh
YmxlKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQogewogCXN0cnVjdCBwYW5lbF9pbmZvICpwaW5m
byA9IHRvX3BhbmVsX2luZm8ocGFuZWwpOwogCkBAIC04OSw3ICsxMjAsNyBAQCBzdGF0aWMgaW50
IHBhbmVsX2Rpc2FibGUoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCiAJcmV0dXJuIDA7CiB9CiAK
LXN0YXRpYyBpbnQgcGFuZWxfdW5wcmVwYXJlKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQorc3Rh
dGljIGludCBib2VfcGFuZWxfdW5wcmVwYXJlKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQogewog
CXN0cnVjdCBwYW5lbF9pbmZvICpwaW5mbyA9IHRvX3BhbmVsX2luZm8ocGFuZWwpOwogCWludCBl
cnI7CkBAIC05OCwzNCArMTI5LDE0IEBAIHN0YXRpYyBpbnQgcGFuZWxfdW5wcmVwYXJlKHN0cnVj
dCBkcm1fcGFuZWwgKnBhbmVsKQogCQlyZXR1cm4gMDsKIAogCS8qIHNlbmQgb2ZmIGNvZGUgKi8K
LQlpZiAocGluZm8tPmRlc2MtPm9mZl9jbWRzKSB7Ci0JCWNvbnN0IHN0cnVjdCBwYW5lbF9jbWQg
KmNtZHMgPSBwaW5mby0+ZGVzYy0+b2ZmX2NtZHM7Ci0JCXVuc2lnbmVkIGludCBpOwotCi0JCWZv
ciAoaSA9IDA7IGNtZHNbaV0ubGVuICE9IDA7IGkrKykgewotCQkJY29uc3Qgc3RydWN0IHBhbmVs
X2NtZCAqY21kID0gJmNtZHNbaV07Ci0KLQkJCWlmIChjbWQtPmxlbiA9PSAyKQotCQkJCWVyciA9
IG1pcGlfZHNpX2Rjc193cml0ZShwaW5mby0+bGluaywKLQkJCQkJICAgIGNtZC0+ZGF0YVsxXSwg
TlVMTCwgMCk7Ci0JCQllbHNlCi0JCQkJZXJyID0gbWlwaV9kc2lfZGNzX3dyaXRlKHBpbmZvLT5s
aW5rLAotCQkJCQkgICAgY21kLT5kYXRhWzFdLCBjbWQtPmRhdGEgKyAyLAotCQkJCQkgICAgY21k
LT5sZW4gLSAyKTsKLQotCQkJaWYgKGVyciA8IDApIHsKLQkJCQlkZXZfZXJyKHBhbmVsLT5kZXYs
Ci0JCQkJCSJmYWlsZWQgdG8gc2VuZCBEQ1MgT2ZmIENvZGU6ICVkXG4iLAotCQkJCQllcnIpOwot
CQkJCWdvdG8gcG93ZXJvZmY7Ci0JCQl9Ci0JCQlpZiAoY21kLT5kYXRhWzBdKQotCQkJCXVzbGVl
cF9yYW5nZSgoY21kLT5kYXRhWzBdKSAqIDEwMDAsCi0JCQkJCSAgICAoMSArIGNtZC0+ZGF0YVsw
XSkgKiAxMDAwKTsKLQkJfQorCWVyciA9IHNlbmRfbWlwaV9jbWRzKHBhbmVsLCBwaW5mby0+ZGVz
Yy0+b2ZmX2NtZHMpOworCWlmIChlcnIgPCAwKSB7CisJCWRldl9lcnIocGFuZWwtPmRldiwKKwkJ
CSJmYWlsZWQgdG8gc2VuZCBEQ1MgT2ZmIENvZGU6ICVkXG4iLAorCQkJZXJyKTsKKwkJZ290byBw
b3dlcm9mZjsKIAl9CiAKLQl1c2xlZXBfcmFuZ2UoMTAwMCwgMTAwMCk7CiAJc2V0X2dwaW9zKHBp
bmZvLCAwKTsKIAogCXBpbmZvLT5wcmVwYXJlZCA9IGZhbHNlOwpAQCAtMTM3LDcgKzE0OCw3IEBA
IHN0YXRpYyBpbnQgcGFuZWxfdW5wcmVwYXJlKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQogCXJl
dHVybiBlcnI7CiB9CiAKLXN0YXRpYyBpbnQgcGFuZWxfcHJlcGFyZShzdHJ1Y3QgZHJtX3BhbmVs
ICpwYW5lbCkKK3N0YXRpYyBpbnQgYm9lX3BhbmVsX3ByZXBhcmUoc3RydWN0IGRybV9wYW5lbCAq
cGFuZWwpCiB7CiAJc3RydWN0IHBhbmVsX2luZm8gKnBpbmZvID0gdG9fcGFuZWxfaW5mbyhwYW5l
bCk7CiAJY29uc3Qgc3RydWN0IHBhbmVsX2Rlc2MgKmRlc2MgPSBwaW5mby0+ZGVzYzsKQEAgLTE1
Miw0NyArMTYzLDI3IEBAIHN0YXRpYyBpbnQgcGFuZWxfcHJlcGFyZShzdHJ1Y3QgZHJtX3BhbmVs
ICpwYW5lbCkKIAlncGlvZF9zZXRfdmFsdWUocGluZm8tPnBwMzNfZ3BpbywgMSk7CiAKIAkvKiBy
ZXNldCBzZXF1ZW5jZSAqLwotCS8vIFQyICg+IDE0bXMpCiAJdXNsZWVwX3JhbmdlKGRlc2MtPnJl
c2V0X2RlbGF5X3QyLCAxMDAwICsgZGVzYy0+cmVzZXRfZGVsYXlfdDIpOwogCi0JLy8gVDMgKD49
IDBtcykKIAlpZiAoZGVzYy0+cmVzZXRfZGVsYXlfdDMpIHsKLQkJZ3Bpb2Rfc2V0X3ZhbHVlKHBp
bmZvLT5yZXNldF9ncGlvLCAxKTsKKwkJZ3Bpb2Rfc2V0X3ZhbHVlKHBpbmZvLT5lbmFibGVfZ3Bp
bywgMSk7CiAJCXVzbGVlcF9yYW5nZShkZXNjLT5yZXNldF9kZWxheV90MywgMTAwMCArIGRlc2Mt
PnJlc2V0X2RlbGF5X3QzKTsKLQkJZ3Bpb2Rfc2V0X3ZhbHVlKHBpbmZvLT5yZXNldF9ncGlvLCAw
KTsKKwkJZ3Bpb2Rfc2V0X3ZhbHVlKHBpbmZvLT5lbmFibGVfZ3BpbywgMCk7CiAJfQogCi0JLy8g
VDQgKD4gMjB1cykKIAl1c2xlZXBfcmFuZ2UoZGVzYy0+cmVzZXRfZGVsYXlfdDQsIDEwMDAgKyBk
ZXNjLT5yZXNldF9kZWxheV90NCk7Ci0JZ3Bpb2Rfc2V0X3ZhbHVlKHBpbmZvLT5yZXNldF9ncGlv
LCAxKTsKKwlncGlvZF9zZXRfdmFsdWUocGluZm8tPmVuYWJsZV9ncGlvLCAxKTsKKworCWlmIChk
ZXNjLT5yZXNldF9kZWxheV90NSkKKwkJdXNsZWVwX3JhbmdlKGRlc2MtPnJlc2V0X2RlbGF5X3Q1
LCAxMDAwICsgZGVzYy0+cmVzZXRfZGVsYXlfdDUpOwogCiAJLyogc2VuZCBpbml0IGNvZGUgKi8K
LQlpZiAocGluZm8tPmRlc2MtPm9uX2NtZHMpIHsKLQkJY29uc3Qgc3RydWN0IHBhbmVsX2NtZCAq
Y21kcyA9IHBpbmZvLT5kZXNjLT5vbl9jbWRzOwotCQl1bnNpZ25lZCBpbnQgaTsKLQotCQlmb3Ig
KGkgPSAwOyBjbWRzW2ldLmxlbiAhPSAwOyBpKyspIHsKLQkJCWNvbnN0IHN0cnVjdCBwYW5lbF9j
bWQgKmNtZCA9ICZjbWRzW2ldOwotCi0JCQlpZiAoY21kLT5sZW4gPT0gMikKLQkJCQllcnIgPSBt
aXBpX2RzaV9kY3Nfd3JpdGUocGluZm8tPmxpbmssCi0JCQkJCSAgICBjbWQtPmRhdGFbMV0sIE5V
TEwsIDApOwotCQkJZWxzZQotCQkJCWVyciA9IG1pcGlfZHNpX2Rjc193cml0ZShwaW5mby0+bGlu
aywKLQkJCQkJICAgIGNtZC0+ZGF0YVsxXSwgY21kLT5kYXRhICsgMiwKLQkJCQkJICAgIGNtZC0+
bGVuIC0gMik7Ci0KLQkJCWlmIChlcnIgPCAwKSB7Ci0JCQkJZGV2X2VycihwYW5lbC0+ZGV2LAot
CQkJCQkiZmFpbGVkIHRvIHNlbmQgRENTIEluaXQgQ29kZTogJWRcbiIsCi0JCQkJCWVycik7Ci0J
CQkJZ290byBwb3dlcm9mZjsKLQkJCX0KLQotCQkJaWYgKGNtZC0+ZGF0YVswXSkKLQkJCQl1c2xl
ZXBfcmFuZ2UoY21kLT5kYXRhWzBdICogMTAwMCwKLQkJCQkJICAgICgxICsgY21kLT5kYXRhWzBd
KSAqIDEwMDApOwotCQl9CisJZXJyID0gc2VuZF9taXBpX2NtZHMocGFuZWwsIHBpbmZvLT5kZXNj
LT5vbl9jbWRzKTsKKwlpZiAoZXJyIDwgMCkgeworCQlkZXZfZXJyKHBhbmVsLT5kZXYsCisJCQki
ZmFpbGVkIHRvIHNlbmQgRENTIEluaXQgQ29kZTogJWRcbiIsCisJCQllcnIpOworCQlnb3RvIHBv
d2Vyb2ZmOwogCX0KIAogCXBpbmZvLT5wcmVwYXJlZCA9IHRydWU7CkBAIC0yMDQsNyArMTk1LDcg
QEAgc3RhdGljIGludCBwYW5lbF9wcmVwYXJlKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQogCXJl
dHVybiBlcnI7CiB9CiAKLXN0YXRpYyBpbnQgcGFuZWxfZW5hYmxlKHN0cnVjdCBkcm1fcGFuZWwg
KnBhbmVsKQorc3RhdGljIGludCBib2VfcGFuZWxfZW5hYmxlKHN0cnVjdCBkcm1fcGFuZWwgKnBh
bmVsKQogewogCXN0cnVjdCBwYW5lbF9pbmZvICpwaW5mbyA9IHRvX3BhbmVsX2luZm8ocGFuZWwp
OwogCWludCByZXQ7CkBAIC0yMjQsNyArMjE1LDcgQEAgc3RhdGljIGludCBwYW5lbF9lbmFibGUo
c3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCiAJcmV0dXJuIDA7CiB9CiAKLXN0YXRpYyBpbnQgcGFu
ZWxfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQorc3RhdGljIGludCBib2VfcGFu
ZWxfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQogewogCXN0cnVjdCBwYW5lbF9p
bmZvICpwaW5mbyA9IHRvX3BhbmVsX2luZm8ocGFuZWwpOwogCWNvbnN0IHN0cnVjdCBkcm1fZGlz
cGxheV9tb2RlICptID0gcGluZm8tPmRlc2MtPmRpc3BsYXlfbW9kZTsKQEAgLTIzMiw3ICsyMjMs
NyBAQCBzdGF0aWMgaW50IHBhbmVsX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkK
IAogCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUocGFuZWwtPmRybSwgbSk7CiAJaWYgKCFtb2Rl
KSB7Ci0JCURSTV9ERVZfRVJST1IocGFuZWwtPmRybS0+ZGV2LCAiZmFpbGVkIHRvIGFkZCBtb2Rl
ICV1eCV1eEAldVxuIiwKKwkJRFJNX0RFVl9FUlJPUihwYW5lbC0+ZHJtLT5kZXYsICJmYWlsZWQg
dG8gYWRkIG1vZGUgJXV4JXVAJXVcbiIsCiAJCQkJbS0+aGRpc3BsYXksIG0tPnZkaXNwbGF5LCBt
LT52cmVmcmVzaCk7CiAJCXJldHVybiAtRU5PTUVNOwogCX0KQEAgLTI0MSwxOSArMjMyLDE5IEBA
IHN0YXRpYyBpbnQgcGFuZWxfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQogCiAJ
ZHJtX21vZGVfcHJvYmVkX2FkZChwYW5lbC0+Y29ubmVjdG9yLCBtb2RlKTsKIAotCXBhbmVsLT5j
b25uZWN0b3ItPmRpc3BsYXlfaW5mby53aWR0aF9tbSA9IHBpbmZvLT5kZXNjLT53aWR0aDsKLQlw
YW5lbC0+Y29ubmVjdG9yLT5kaXNwbGF5X2luZm8uaGVpZ2h0X21tID0gcGluZm8tPmRlc2MtPmhl
aWdodDsKKwlwYW5lbC0+Y29ubmVjdG9yLT5kaXNwbGF5X2luZm8ud2lkdGhfbW0gPSBwaW5mby0+
ZGVzYy0+d2lkdGhfbW07CisJcGFuZWwtPmNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLmhlaWdodF9t
bSA9IHBpbmZvLT5kZXNjLT5oZWlnaHRfbW07CiAJcGFuZWwtPmNvbm5lY3Rvci0+ZGlzcGxheV9p
bmZvLmJwYyA9IHBpbmZvLT5kZXNjLT5icGM7CiAKIAlyZXR1cm4gMTsKIH0KIAogc3RhdGljIGNv
bnN0IHN0cnVjdCBkcm1fcGFuZWxfZnVuY3MgcGFuZWxfZnVuY3MgPSB7Ci0JLmRpc2FibGUgPSBw
YW5lbF9kaXNhYmxlLAotCS51bnByZXBhcmUgPSBwYW5lbF91bnByZXBhcmUsCi0JLnByZXBhcmUg
PSBwYW5lbF9wcmVwYXJlLAotCS5lbmFibGUgPSBwYW5lbF9lbmFibGUsCi0JLmdldF9tb2RlcyA9
IHBhbmVsX2dldF9tb2RlcywKKwkuZGlzYWJsZSA9IGJvZV9wYW5lbF9kaXNhYmxlLAorCS51bnBy
ZXBhcmUgPSBib2VfcGFuZWxfdW5wcmVwYXJlLAorCS5wcmVwYXJlID0gYm9lX3BhbmVsX3ByZXBh
cmUsCisJLmVuYWJsZSA9IGJvZV9wYW5lbF9lbmFibGUsCisJLmdldF9tb2RlcyA9IGJvZV9wYW5l
bF9nZXRfbW9kZXMsCiB9OwogCiAvKiA4IGluY2ggKi8KQEAgLTU3OSw3ICs1NzAsNyBAQCBzdGF0
aWMgY29uc3Qgc3RydWN0IHBhbmVsX2NtZCBib2VfaGltYXg4Mjc5ZDhwX29uX2NtZHNbXSA9IHsK
IAogc3RhdGljIGNvbnN0IHN0cnVjdCBwYW5lbF9jbWQgYm9lX2hpbWF4ODI3OWQ4cF9vZmZfY21k
c1tdID0gewogCV9JTklUX0NNRCgweDAwLCAweDI4KSwKLQlfSU5JVF9DTUQoMHgwMCwgMHgxMCks
CisJX0lOSVRfQ01EKDB4MDEsIDB4MTApLAogCiAJe30sCiB9OwpAQCAtNTg3LDE0ICs1NzgsMTUg
QEAgc3RhdGljIGNvbnN0IHN0cnVjdCBwYW5lbF9jbWQgYm9lX2hpbWF4ODI3OWQ4cF9vZmZfY21k
c1tdID0gewogc3RhdGljIGNvbnN0IHN0cnVjdCBwYW5lbF9kZXNjIGJvZV9oaW1heDgyNzlkOHBf
cGFuZWxfZGVzYyA9IHsKIAkuZGlzcGxheV9tb2RlID0gJmJvZV9oaW1heDgyNzlkOHBfZGlzcGxh
eV9tb2RlLAogCS5icGMgPSA4LAotCS53aWR0aCA9IDEwNywKLQkuaGVpZ2h0ID0gMTcyLAorCS53
aWR0aF9tbSA9IDEwNywKKwkuaGVpZ2h0X21tID0gMTcyLAogCS5kZWxheV90MSA9IDUwMDAsCiAJ
LnJlc2V0X2RlbGF5X3QyID0gMTQwMDAsCiAJLnJlc2V0X2RlbGF5X3QzID0gMTAwMCwKIAkucmVz
ZXRfZGVsYXlfdDQgPSAxMDAwLAotCS5mbGFncyA9IE1JUElfRFNJX01PREVfVklERU8gfCBNSVBJ
X0RTSV9NT0RFX1ZJREVPX1NZTkNfUFVMU0UgfAotCQkgICAgTUlQSV9EU0lfQ0xPQ0tfTk9OX0NP
TlRJTlVPVVMgfCBNSVBJX0RTSV9NT0RFX0xQTSwKKwkucmVzZXRfZGVsYXlfdDUgPSA1MDAwLAor
CS5tb2RlX2ZsYWdzID0gTUlQSV9EU0lfTU9ERV9WSURFTyB8IE1JUElfRFNJX01PREVfVklERU9f
U1lOQ19QVUxTRSB8CisJCQlNSVBJX0RTSV9DTE9DS19OT05fQ09OVElOVU9VUyB8IE1JUElfRFNJ
X01PREVfTFBNLAogCS5mb3JtYXQgPSBNSVBJX0RTSV9GTVRfUkdCODg4LAogCS5sYW5lcyA9IDQs
CiAJLm9uX2NtZHMgPSBib2VfaGltYXg4Mjc5ZDhwX29uX2NtZHMsCkBAIC05MjEsNyArOTEzLDcg
QEAgc3RhdGljIGNvbnN0IHN0cnVjdCBwYW5lbF9jbWQgYm9lX2hpbWF4ODI3OWQxMHBfb25fY21k
c1tdID0gewogCiBzdGF0aWMgY29uc3Qgc3RydWN0IHBhbmVsX2NtZCBib2VfaGltYXg4Mjc5ZDEw
cF9vZmZfY21kc1tdID0gewogCV9JTklUX0NNRCgweDAwLCAweDI4KSwKLQlfSU5JVF9DTUQoMHgw
MCwgMHgxMCksCisJX0lOSVRfQ01EKDB4MDEsIDB4MTApLAogCiAJe30sCiB9OwpAQCAtOTI5LDE0
ICs5MjEsMTUgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBwYW5lbF9jbWQgYm9lX2hpbWF4ODI3OWQx
MHBfb2ZmX2NtZHNbXSA9IHsKIHN0YXRpYyBjb25zdCBzdHJ1Y3QgcGFuZWxfZGVzYyBib2VfaGlt
YXg4Mjc5ZDEwcF9wYW5lbF9kZXNjID0gewogCS5kaXNwbGF5X21vZGUgPSAmYm9lX2hpbWF4ODI3
OWQxMHBfZGlzcGxheV9tb2RlLAogCS5icGMgPSA4LAotCS53aWR0aCA9IDEzNSwKLQkuaGVpZ2h0
ID0gMjE2LAorCS53aWR0aF9tbSA9IDEzNSwKKwkuaGVpZ2h0X21tID0gMjE2LAogCS5kZWxheV90
MSA9IDUwMDAsCiAJLnJlc2V0X2RlbGF5X3QyID0gMTQwMDAsCiAJLnJlc2V0X2RlbGF5X3QzID0g
MTAwMCwKIAkucmVzZXRfZGVsYXlfdDQgPSAxMDAwLAotCS5mbGFncyA9IE1JUElfRFNJX01PREVf
VklERU8gfCBNSVBJX0RTSV9NT0RFX1ZJREVPX1NZTkNfUFVMU0UgfAotCQkgICAgTUlQSV9EU0lf
Q0xPQ0tfTk9OX0NPTlRJTlVPVVMgfCBNSVBJX0RTSV9NT0RFX0xQTSwKKwkucmVzZXRfZGVsYXlf
dDUgPSA1MDAwLAorCS5tb2RlX2ZsYWdzID0gTUlQSV9EU0lfTU9ERV9WSURFTyB8IE1JUElfRFNJ
X01PREVfVklERU9fU1lOQ19QVUxTRSB8CisJCQlNSVBJX0RTSV9DTE9DS19OT05fQ09OVElOVU9V
UyB8IE1JUElfRFNJX01PREVfTFBNLAogCS5mb3JtYXQgPSBNSVBJX0RTSV9GTVRfUkdCODg4LAog
CS5sYW5lcyA9IDQsCiAJLm9uX2NtZHMgPSBib2VfaGltYXg4Mjc5ZDEwcF9vbl9jbWRzLApAQCAt
OTQ2LDExICs5MzksMTEgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBwYW5lbF9kZXNjIGJvZV9oaW1h
eDgyNzlkMTBwX3BhbmVsX2Rlc2MgPSB7CiBzdGF0aWMgY29uc3Qgc3RydWN0IG9mX2RldmljZV9p
ZCBwYW5lbF9vZl9tYXRjaFtdID0gewogCXsgLmNvbXBhdGlibGUgPSAiYm9lLGhpbWF4ODI3OWQ4
cCIsCiAJICAuZGF0YSA9ICZib2VfaGltYXg4Mjc5ZDhwX3BhbmVsX2Rlc2MKLQl9LAotCXsgLmNv
bXBhdGlibGUgPSAiYm9lLGhpbWF4ODI3OWQxMHAiLAorCX0sIHsgLmNvbXBhdGlibGUgPSAiYm9l
LGhpbWF4ODI3OWQxMHAiLAogCSAgLmRhdGEgPSAmYm9lX2hpbWF4ODI3OWQxMHBfcGFuZWxfZGVz
YwotCX0sCi0JeyB9CisJfSwgeworCQkvKiBzZW50aW5lbCAqLworCX0KIH07CiBNT0RVTEVfREVW
SUNFX1RBQkxFKG9mLCBwYW5lbF9vZl9tYXRjaCk7CiAKQEAgLTk3MywxMiArOTY2LDEyIEBAIHN0
YXRpYyBpbnQgcGFuZWxfYWRkKHN0cnVjdCBwYW5lbF9pbmZvICpwaW5mbykKIAkJcGluZm8tPnBw
MzNfZ3BpbyA9IE5VTEw7CiAJfQogCi0JcGluZm8tPnJlc2V0X2dwaW8gPSBkZXZtX2dwaW9kX2dl
dF9vcHRpb25hbChkZXYsICJlbmFibGUiLAorCXBpbmZvLT5lbmFibGVfZ3BpbyA9IGRldm1fZ3Bp
b2RfZ2V0X29wdGlvbmFsKGRldiwgImVuYWJsZSIsCiAJCQkJCQkgICAgR1BJT0RfT1VUX0xPVyk7
Ci0JaWYgKElTX0VSUihwaW5mby0+cmVzZXRfZ3BpbykpIHsKLQkJZXJyID0gUFRSX0VSUihwaW5m
by0+cmVzZXRfZ3Bpbyk7CisJaWYgKElTX0VSUihwaW5mby0+ZW5hYmxlX2dwaW8pKSB7CisJCWVy
ciA9IFBUUl9FUlIocGluZm8tPmVuYWJsZV9ncGlvKTsKIAkJZGV2X2VycihkZXYsICJmYWlsZWQg
dG8gZ2V0IGVuYWJsZSBncGlvOiAlZFxuIiwgZXJyKTsKLQkJcGluZm8tPnJlc2V0X2dwaW8gPSBO
VUxMOworCQlwaW5mby0+ZW5hYmxlX2dwaW8gPSBOVUxMOwogCX0KIAogCXBpbmZvLT5iYWNrbGln
aHQgPSBkZXZtX29mX2ZpbmRfYmFja2xpZ2h0KGRldik7CkBAIC0xMDA1LDE1ICs5OTgsMTUgQEAg
c3RhdGljIHZvaWQgcGFuZWxfZGVsKHN0cnVjdCBwYW5lbF9pbmZvICpwaW5mbykKIHN0YXRpYyBp
bnQgcGFuZWxfcHJvYmUoc3RydWN0IG1pcGlfZHNpX2RldmljZSAqZHNpKQogewogCXN0cnVjdCBw
YW5lbF9pbmZvICpwaW5mbzsKLQlpbnQgZXJyOwogCWNvbnN0IHN0cnVjdCBwYW5lbF9kZXNjICpk
ZXNjOworCWludCBlcnI7CiAKIAlwaW5mbyA9IGRldm1fa3phbGxvYygmZHNpLT5kZXYsIHNpemVv
ZigqcGluZm8pLCBHRlBfS0VSTkVMKTsKIAlpZiAoIXBpbmZvKQogCQlyZXR1cm4gLUVOT01FTTsK
IAogCWRlc2MgPSBvZl9kZXZpY2VfZ2V0X21hdGNoX2RhdGEoJmRzaS0+ZGV2KTsKLQlkc2ktPm1v
ZGVfZmxhZ3MgPSBkZXNjLT5mbGFnczsKKwlkc2ktPm1vZGVfZmxhZ3MgPSBkZXNjLT5tb2RlX2Zs
YWdzOwogCWRzaS0+Zm9ybWF0ID0gZGVzYy0+Zm9ybWF0OwogCWRzaS0+bGFuZXMgPSBkZXNjLT5s
YW5lczsKIAlwaW5mby0+ZGVzYyA9IGRlc2M7CkBAIC0xMDMzLDEyICsxMDI2LDEyIEBAIHN0YXRp
YyBpbnQgcGFuZWxfcmVtb3ZlKHN0cnVjdCBtaXBpX2RzaV9kZXZpY2UgKmRzaSkKIAlzdHJ1Y3Qg
cGFuZWxfaW5mbyAqcGluZm8gPSBtaXBpX2RzaV9nZXRfZHJ2ZGF0YShkc2kpOwogCWludCBlcnI7
CiAKLQllcnIgPSBwYW5lbF91bnByZXBhcmUoJnBpbmZvLT5iYXNlKTsKKwllcnIgPSBib2VfcGFu
ZWxfdW5wcmVwYXJlKCZwaW5mby0+YmFzZSk7CiAJaWYgKGVyciA8IDApCiAJCURSTV9ERVZfRVJS
T1IoJmRzaS0+ZGV2LCAiZmFpbGVkIHRvIHVucHJlcGFyZSBwYW5lbDogJWRcbiIsCiAJCQkJCQll
cnIpOwogCi0JZXJyID0gcGFuZWxfZGlzYWJsZSgmcGluZm8tPmJhc2UpOworCWVyciA9IGJvZV9w
YW5lbF9kaXNhYmxlKCZwaW5mby0+YmFzZSk7CiAJaWYgKGVyciA8IDApCiAJCURSTV9ERVZfRVJS
T1IoJmRzaS0+ZGV2LCAiZmFpbGVkIHRvIGRpc2FibGUgcGFuZWw6ICVkXG4iLCBlcnIpOwogCkBA
IC0xMDU3LDggKzEwNTAsOCBAQCBzdGF0aWMgdm9pZCBwYW5lbF9zaHV0ZG93bihzdHJ1Y3QgbWlw
aV9kc2lfZGV2aWNlICpkc2kpCiB7CiAJc3RydWN0IHBhbmVsX2luZm8gKnBpbmZvID0gbWlwaV9k
c2lfZ2V0X2RydmRhdGEoZHNpKTsKIAotCXBhbmVsX2Rpc2FibGUoJnBpbmZvLT5iYXNlKTsKLQlw
YW5lbF91bnByZXBhcmUoJnBpbmZvLT5iYXNlKTsKKwlib2VfcGFuZWxfZGlzYWJsZSgmcGluZm8t
PmJhc2UpOworCWJvZV9wYW5lbF91bnByZXBhcmUoJnBpbmZvLT5iYXNlKTsKIH0KIAogc3RhdGlj
IHN0cnVjdCBtaXBpX2RzaV9kcml2ZXIgcGFuZWxfZHJpdmVyID0gewotLSAKMi4xNy4xCgpfX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFp
bGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5m
cmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
