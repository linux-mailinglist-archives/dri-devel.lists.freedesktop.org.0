Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 4043A19DFAB
	for <lists+dri-devel@lfdr.de>; Fri,  3 Apr 2020 22:41:13 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 260736EC9E;
	Fri,  3 Apr 2020 20:41:11 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga04.intel.com (mga04.intel.com [192.55.52.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3EE976EC9C;
 Fri,  3 Apr 2020 20:41:09 +0000 (UTC)
IronPort-SDR: KB9jCe7JG58F2wxT9Zt7l90pWcrzcr1fSunXtsQouMgMeyRtuENAX1lSohX4fzUq9x/0DalRta
 wJ32du6QKMmA==
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga001.jf.intel.com ([10.7.209.18])
 by fmsmga104.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 03 Apr 2020 13:41:08 -0700
IronPort-SDR: p2oeu9A8x5sLQxApKC12/O7CtB8dh26Phyl1RBWBTa0DnfWTKF2TFdTb+HEU/wME4VF8dcbn4e
 FXTpLQBZi+0A==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.72,341,1580803200"; d="scan'208";a="329275348"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by orsmga001.jf.intel.com with SMTP; 03 Apr 2020 13:41:05 -0700
Received: by stinkbox (sSMTP sendmail emulation);
 Fri, 03 Apr 2020 23:41:05 +0300
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH v2 14/17] drm/i915: Replace I915_MODE_FLAG_INHERITED with a
 boolean
Date: Fri,  3 Apr 2020 23:40:05 +0300
Message-Id: <20200403204008.14864-15-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.24.1
In-Reply-To: <20200403204008.14864-1-ville.syrjala@linux.intel.com>
References: <20200403204008.14864-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Daniel Vetter <daniel.vetter@ffwll.ch>, intel-gfx@lists.freedesktop.org,
 Sam Ravnborg <sam@ravnborg.org>, Emil Velikov <emil.l.velikov@gmail.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KClRo
ZXJlJ3Mgbm8gcmVhc29uIGZvciBJOTE1X01PREVfRkxBR19JTkhFUklURUQgdG8gZXhpc3QgYXMg
YSBmbGFnCmFueW1vcmUuIEp1c3QgbWFrZSBpdCBhIGJvb2xlYW4uCgpDQzogU2FtIFJhdm5ib3Jn
IDxzYW1AcmF2bmJvcmcub3JnPgpDYzogRGFuaWVsIFZldHRlciA8ZGFuaWVsLnZldHRlckBmZnds
bC5jaD4KQ2M6IEVtaWwgVmVsaWtvdiA8ZW1pbC5sLnZlbGlrb3ZAZ21haWwuY29tPgpTaWduZWQt
b2ZmLWJ5OiBWaWxsZSBTeXJqw6Rsw6QgPHZpbGxlLnN5cmphbGFAbGludXguaW50ZWwuY29tPgot
LS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfYXRvbWljLmMgICAgICAgfCAg
MiArLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMgICAgICB8
IDE1ICsrKysrKy0tLS0tLS0tLQogLi4uL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3Bs
YXlfdHlwZXMuaCAgICB8ICAyICstCiAzIGZpbGVzIGNoYW5nZWQsIDggaW5zZXJ0aW9ucygrKSwg
MTEgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9hdG9taWMuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfYXRv
bWljLmMKaW5kZXggNTg2M2UzMzlhNDI2Li4yZGVhZmFhOWVjNzQgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfYXRvbWljLmMKKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9hdG9taWMuYwpAQCAtMjQ5LDEwICsyNDksMTAgQEAgaW50
ZWxfY3J0Y19kdXBsaWNhdGVfc3RhdGUoc3RydWN0IGRybV9jcnRjICpjcnRjKQogCWNydGNfc3Rh
dGUtPnVwZGF0ZV93bV9wb3N0ID0gZmFsc2U7CiAJY3J0Y19zdGF0ZS0+Zmlmb19jaGFuZ2VkID0g
ZmFsc2U7CiAJY3J0Y19zdGF0ZS0+cHJlbG9hZF9sdXRzID0gZmFsc2U7CisJY3J0Y19zdGF0ZS0+
aW5oZXJpdGVkID0gZmFsc2U7CiAJY3J0Y19zdGF0ZS0+d20ubmVlZF9wb3N0dmJsX3VwZGF0ZSA9
IGZhbHNlOwogCWNydGNfc3RhdGUtPmZiX2JpdHMgPSAwOwogCWNydGNfc3RhdGUtPnVwZGF0ZV9w
bGFuZXMgPSAwOwotCWNydGNfc3RhdGUtPm1vZGVfZmxhZ3MgJj0gfkk5MTVfTU9ERV9GTEFHX0lO
SEVSSVRFRDsKIAogCXJldHVybiAmY3J0Y19zdGF0ZS0+dWFwaTsKIH0KZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMKaW5kZXggZDg4Y2FkZTQ1YzM1Li41NTAz
Njk0NDQ4MTEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
ZGlzcGxheS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxh
eS5jCkBAIC02NDEzLDggKzY0MTMsNyBAQCBzdGF0aWMgYm9vbCBoc3dfcG9zdF91cGRhdGVfZW5h
YmxlX2lwcyhjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqb2xkX2NydGNfcwogCSAqIFdl
IGNhbid0IHJlYWQgb3V0IElQUyBvbiBicm9hZHdlbGwsIGFzc3VtZSB0aGUgd29yc3QgYW5kCiAJ
ICogZm9yY2libHkgZW5hYmxlIElQUyBvbiB0aGUgZmlyc3QgZmFzdHNldC4KIAkgKi8KLQlpZiAo
bmV3X2NydGNfc3RhdGUtPnVwZGF0ZV9waXBlICYmCi0JICAgIG9sZF9jcnRjX3N0YXRlLT5tb2Rl
X2ZsYWdzICYgSTkxNV9NT0RFX0ZMQUdfSU5IRVJJVEVEKQorCWlmIChuZXdfY3J0Y19zdGF0ZS0+
dXBkYXRlX3BpcGUgJiYgb2xkX2NydGNfc3RhdGUtPmluaGVyaXRlZCkKIAkJcmV0dXJuIHRydWU7
CiAKIAlyZXR1cm4gIW9sZF9jcnRjX3N0YXRlLT5pcHNfZW5hYmxlZDsKQEAgLTEzNTE2LDggKzEz
NTE1LDcgQEAgaW50ZWxfcGlwZV9jb25maWdfY29tcGFyZShjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0
Y19zdGF0ZSAqY3VycmVudF9jb25maWcsCiAJYm9vbCByZXQgPSB0cnVlOwogCXUzMiBicF9nYW1t
YSA9IDA7CiAJYm9vbCBmaXh1cF9pbmhlcml0ZWQgPSBmYXN0c2V0ICYmCi0JCShjdXJyZW50X2Nv
bmZpZy0+bW9kZV9mbGFncyAmIEk5MTVfTU9ERV9GTEFHX0lOSEVSSVRFRCkgJiYKLQkJIShwaXBl
X2NvbmZpZy0+bW9kZV9mbGFncyAmIEk5MTVfTU9ERV9GTEFHX0lOSEVSSVRFRCk7CisJCWN1cnJl
bnRfY29uZmlnLT5pbmhlcml0ZWQgJiYgIXBpcGVfY29uZmlnLT5pbmhlcml0ZWQ7CiAKIAlpZiAo
Zml4dXBfaW5oZXJpdGVkICYmICFmYXN0Ym9vdF9lbmFibGVkKGRldl9wcml2KSkgewogCQlkcm1f
ZGJnX2ttcygmZGV2X3ByaXYtPmRybSwKQEAgLTE0NjY3LDEwICsxNDY2NSw5IEBAIHN0YXRpYyBp
bnQgaW50ZWxfYXRvbWljX2NoZWNrKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCiAJaW50IHJldCwg
aTsKIAlib29sIGFueV9tcyA9IGZhbHNlOwogCi0JLyogQ2F0Y2ggSTkxNV9NT0RFX0ZMQUdfSU5I
RVJJVEVEICovCiAJZm9yX2VhY2hfb2xkbmV3X2ludGVsX2NydGNfaW5fc3RhdGUoc3RhdGUsIGNy
dGMsIG9sZF9jcnRjX3N0YXRlLAogCQkJCQkgICAgbmV3X2NydGNfc3RhdGUsIGkpIHsKLQkJaWYg
KG5ld19jcnRjX3N0YXRlLT5tb2RlX2ZsYWdzICE9IG9sZF9jcnRjX3N0YXRlLT5tb2RlX2ZsYWdz
KQorCQlpZiAobmV3X2NydGNfc3RhdGUtPmluaGVyaXRlZCAhPSBvbGRfY3J0Y19zdGF0ZS0+aW5o
ZXJpdGVkKQogCQkJbmV3X2NydGNfc3RhdGUtPnVhcGkubW9kZV9jaGFuZ2VkID0gdHJ1ZTsKIAl9
CiAKQEAgLTE1MDE2LDcgKzE1MDEzLDcgQEAgc3RhdGljIHZvaWQgaW50ZWxfdXBkYXRlX2NydGMo
c3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUsCiAJICogb2YgZW5hYmxpbmcgdGhlbSBv
biB0aGUgQ1JUQydzIGZpcnN0IGZhc3RzZXQuCiAJICovCiAJaWYgKG5ld19jcnRjX3N0YXRlLT51
cGRhdGVfcGlwZSAmJiAhbW9kZXNldCAmJgotCSAgICBvbGRfY3J0Y19zdGF0ZS0+bW9kZV9mbGFn
cyAmIEk5MTVfTU9ERV9GTEFHX0lOSEVSSVRFRCkKKwkgICAgb2xkX2NydGNfc3RhdGUtPmluaGVy
aXRlZCkKIAkJaW50ZWxfY3J0Y19hcm1fZmlmb191bmRlcnJ1bihjcnRjLCBuZXdfY3J0Y19zdGF0
ZSk7CiB9CiAKQEAgLTE3NDk0LDcgKzE3NDkxLDcgQEAgc3RhdGljIGludCBpbnRlbF9pbml0aWFs
X2NvbW1pdChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2KQogCQkJICogaGFwcGVuIG9ubHkgZm9yIHRo
ZSBmaXJzdCByZWFsIGNvbW1pdCBmcm9tIHVzZXJzcGFjZS4KIAkJCSAqIFNvIHByZXNlcnZlIHRo
ZSBpbmhlcml0ZWQgZmxhZyBmb3IgdGhlIHRpbWUgYmVpbmcuCiAJCQkgKi8KLQkJCWNydGNfc3Rh
dGUtPm1vZGVfZmxhZ3MgfD0gSTkxNV9NT0RFX0ZMQUdfSU5IRVJJVEVEOworCQkJY3J0Y19zdGF0
ZS0+aW5oZXJpdGVkID0gdHJ1ZTsKIAogCQkJcmV0ID0gZHJtX2F0b21pY19hZGRfYWZmZWN0ZWRf
cGxhbmVzKHN0YXRlLCAmY3J0Yy0+YmFzZSk7CiAJCQlpZiAocmV0KQpAQCAtMTgyNjYsNyArMTgy
NjMsNyBAQCBzdGF0aWMgdm9pZCBpbnRlbF9tb2Rlc2V0X3JlYWRvdXRfaHdfc3RhdGUoc3RydWN0
IGRybV9kZXZpY2UgKmRldikKIAkJCSAqIHNldCBhIGZsYWcgdG8gaW5kaWNhdGUgdGhhdCBhIGZ1
bGwgcmVjYWxjdWxhdGlvbiBpcwogCQkJICogbmVlZGVkIG9uIHRoZSBuZXh0IGNvbW1pdC4KIAkJ
CSAqLwotCQkJY3J0Y19zdGF0ZS0+bW9kZV9mbGFncyB8PSBJOTE1X01PREVfRkxBR19JTkhFUklU
RUQ7CisJCQljcnRjX3N0YXRlLT5pbmhlcml0ZWQgPSB0cnVlOwogCiAJCQlpbnRlbF9jcnRjX2Nv
bXB1dGVfcGl4ZWxfcmF0ZShjcnRjX3N0YXRlKTsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3R5cGVzLmggYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfdHlwZXMuaAppbmRleCAyNmRmODU2ZjhiNzIuLmY1
MjliMTRmYmIyYSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9kaXNwbGF5X3R5cGVzLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9kaXNwbGF5X3R5cGVzLmgKQEAgLTY0Miw3ICs2NDIsNiBAQCBzdHJ1Y3QgaW50ZWxfY3J0Y19z
Y2FsZXJfc3RhdGUgewogfTsKIAogLyoge2NydGMsY3J0Y19zdGF0ZX0tPm1vZGVfZmxhZ3MgKi8K
LSNkZWZpbmUgSTkxNV9NT0RFX0ZMQUdfSU5IRVJJVEVEICgxPDwwKQogLyogRmxhZyB0byBnZXQg
c2NhbmxpbmUgdXNpbmcgZnJhbWUgdGltZSBzdGFtcHMgKi8KICNkZWZpbmUgSTkxNV9NT0RFX0ZM
QUdfR0VUX1NDQU5MSU5FX0ZST01fVElNRVNUQU1QICgxPDwxKQogLyogRmxhZyB0byB1c2UgdGhl
IHNjYW5saW5lIGNvdW50ZXIgaW5zdGVhZCBvZiB0aGUgcGl4ZWwgY291bnRlciAqLwpAQCAtODM3
LDYgKzgzNiw3IEBAIHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlIHsKIAlib29sIHVwZGF0ZV93bV9w
cmUsIHVwZGF0ZV93bV9wb3N0OyAvKiB3YXRlcm1hcmtzIGFyZSB1cGRhdGVkICovCiAJYm9vbCBm
aWZvX2NoYW5nZWQ7IC8qIEZJRk8gc3BsaXQgaXMgY2hhbmdlZCAqLwogCWJvb2wgcHJlbG9hZF9s
dXRzOworCWJvb2wgaW5oZXJpdGVkOyAvKiBzdGF0ZSBpbmhlcml0ZWQgZnJvbSBCSU9TPyAqLwog
CiAJLyogUGlwZSBzb3VyY2Ugc2l6ZSAoaWUuIHBhbmVsIGZpdHRlciBpbnB1dCBzaXplKQogCSAq
IEFsbCBwbGFuZXMgd2lsbCBiZSBwb3NpdGlvbmVkIGluc2lkZSB0aGlzIHNwYWNlLAotLSAKMi4y
NC4xCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmkt
ZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6
Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWwK
