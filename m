Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id C463EE6E6A
	for <lists+dri-devel@lfdr.de>; Mon, 28 Oct 2019 09:45:58 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7B1BC89958;
	Mon, 28 Oct 2019 08:45:55 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mx1.suse.de (mx2.suse.de [195.135.220.15])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E0A02899C7
 for <dri-devel@lists.freedesktop.org>; Mon, 28 Oct 2019 08:45:53 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id 66028B1B4;
 Mon, 28 Oct 2019 08:45:52 +0000 (UTC)
From: Thomas Zimmermann <tzimmermann@suse.de>
To: airlied@redhat.com, sean@poorly.run, daniel@ffwll.ch, noralf@tronnes.org,
 sam@ravnborg.org, emil.velikov@collabora.com
Subject: [PATCH 2/3] drm/udl: Allocate GEM object via struct
 drm_driver.gem_create_object
Date: Mon, 28 Oct 2019 09:45:48 +0100
Message-Id: <20191028084549.30243-3-tzimmermann@suse.de>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20191028084549.30243-1-tzimmermann@suse.de>
References: <20191028084549.30243-1-tzimmermann@suse.de>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Thomas Zimmermann <tzimmermann@suse.de>, dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SW4gcHJlcGFyYXRpb24gb2YgYSBzd2l0Y2ggdG8gU0hNRU0sIHVkbCBub3cgYWxsb2NhdGVzIGl0
cyBHRU0Kb2JqZWN0cyB2aWEgc3RydWN0IGRybV9kcml2ZXIuZ2VtX2NyZWF0ZV9vYmplY3QuIE5v
IGZ1bmN0aW9uYWwKY2hhbmdlcyBhcmUgbWFkZS4KCkZvciBTSE1FTSBHRU0gb2JqZWN0cywgdWRs
IHdpbGwgcmVxdWlyZSB0aGUgdXNlIG9mIGEgc3BlY2lhbCBtbWFwCmZ1bmN0aW9uLCB3aGljaCB3
ZSBzZXQgdGhvdWdoIHRoZSBjcmVhdGUtb2JqZWN0IGZ1bmN0aW9uLgoKU2lnbmVkLW9mZi1ieTog
VGhvbWFzIFppbW1lcm1hbm4gPHR6aW1tZXJtYW5uQHN1c2UuZGU+Ci0tLQogZHJpdmVycy9ncHUv
ZHJtL3VkbC91ZGxfZHJ2LmMgfCAgMSArCiBkcml2ZXJzL2dwdS9kcm0vdWRsL3VkbF9kcnYuaCB8
ICAyICsrCiBkcml2ZXJzL2dwdS9kcm0vdWRsL3VkbF9nZW0uYyB8IDI1ICsrKysrKysrKysrKysr
KysrKysrKy0tLS0KIDMgZmlsZXMgY2hhbmdlZCwgMjQgaW5zZXJ0aW9ucygrKSwgNCBkZWxldGlv
bnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdWRsL3VkbF9kcnYuYyBiL2RyaXZl
cnMvZ3B1L2RybS91ZGwvdWRsX2Rydi5jCmluZGV4IDg0MjY2Njk0MzNlNC4uNzc4YTBiNjUyZjY0
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vdWRsL3VkbF9kcnYuYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vdWRsL3VkbF9kcnYuYwpAQCAtNjQsNiArNjQsNyBAQCBzdGF0aWMgc3RydWN0IGRy
bV9kcml2ZXIgZHJpdmVyID0gewogCiAJLyogZ2VtIGhvb2tzICovCiAJLmdlbV9mcmVlX29iamVj
dF91bmxvY2tlZCA9IHVkbF9nZW1fZnJlZV9vYmplY3QsCisJLmdlbV9jcmVhdGVfb2JqZWN0ID0g
dWRsX2RyaXZlcl9nZW1fY3JlYXRlX29iamVjdCwKIAkuZ2VtX3ZtX29wcyA9ICZ1ZGxfZ2VtX3Zt
X29wcywKIAogCS5kdW1iX2NyZWF0ZSA9IHVkbF9kdW1iX2NyZWF0ZSwKZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS91ZGwvdWRsX2Rydi5oIGIvZHJpdmVycy9ncHUvZHJtL3VkbC91ZGxfZHJ2
LmgKaW5kZXggZTEzMDZhNTE5MDNjLi5mYzMxMmU3OTFkMTggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS91ZGwvdWRsX2Rydi5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS91ZGwvdWRsX2Rydi5o
CkBAIC0xMjUsNiArMTI1LDggQEAgaW50IHVkbF9kdW1iX2NyZWF0ZShzdHJ1Y3QgZHJtX2ZpbGUg
KmZpbGVfcHJpdiwKIGludCB1ZGxfZ2VtX21tYXAoc3RydWN0IGRybV9maWxlICpmaWxlX3ByaXYs
IHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCiAJCSB1aW50MzJfdCBoYW5kbGUsIHVpbnQ2NF90ICpv
ZmZzZXQpOwogCitzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKnVkbF9kcml2ZXJfZ2VtX2NyZWF0ZV9v
YmplY3Qoc3RydWN0IGRybV9kZXZpY2UgKmRldiwKKwkJCQkJCSAgICBzaXplX3Qgc2l6ZSk7CiB2
b2lkIHVkbF9nZW1fZnJlZV9vYmplY3Qoc3RydWN0IGRybV9nZW1fb2JqZWN0ICpnZW1fb2JqKTsK
IHN0cnVjdCB1ZGxfZ2VtX29iamVjdCAqdWRsX2dlbV9hbGxvY19vYmplY3Qoc3RydWN0IGRybV9k
ZXZpY2UgKmRldiwKIAkJCQkJICAgIHNpemVfdCBzaXplKTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS91ZGwvdWRsX2dlbS5jIGIvZHJpdmVycy9ncHUvZHJtL3VkbC91ZGxfZ2VtLmMKaW5k
ZXggN2QzYzFiNzNlYTAyLi42Mjg3NDljYzExNDMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS91ZGwvdWRsX2dlbS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS91ZGwvdWRsX2dlbS5jCkBAIC02
LDI2ICs2LDQzIEBACiAjaW5jbHVkZSA8bGludXgvZG1hLWJ1Zi5oPgogI2luY2x1ZGUgPGxpbnV4
L3ZtYWxsb2MuaD4KIAorI2luY2x1ZGUgPGRybS9kcm1fZHJ2Lmg+CiAjaW5jbHVkZSA8ZHJtL2Ry
bV9tb2RlLmg+CiAjaW5jbHVkZSA8ZHJtL2RybV9wcmltZS5oPgogCiAjaW5jbHVkZSAidWRsX2Ry
di5oIgogCi1zdHJ1Y3QgdWRsX2dlbV9vYmplY3QgKnVkbF9nZW1fYWxsb2Nfb2JqZWN0KHN0cnVj
dCBkcm1fZGV2aWNlICpkZXYsCi0JCQkJCSAgICBzaXplX3Qgc2l6ZSkKKy8qCisgKiBIZWxwZXJz
IGZvciBzdHJ1Y3QgZHJtX2RyaXZlcgorICovCisKK3N0cnVjdCBkcm1fZ2VtX29iamVjdCAqdWRs
X2RyaXZlcl9nZW1fY3JlYXRlX29iamVjdChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LAorCQkJCQkJ
ICAgIHNpemVfdCBzaXplKQogewogCXN0cnVjdCB1ZGxfZ2VtX29iamVjdCAqb2JqOwogCiAJb2Jq
ID0ga3phbGxvYyhzaXplb2YoKm9iaiksIEdGUF9LRVJORUwpOworCWlmICghb2JqKQorCQlyZXR1
cm4gTlVMTDsKKworCXJldHVybiAmb2JqLT5iYXNlOworfQorCitzdHJ1Y3QgdWRsX2dlbV9vYmpl
Y3QgKnVkbF9nZW1fYWxsb2Nfb2JqZWN0KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCisJCQkJCSAg
ICBzaXplX3Qgc2l6ZSkKK3sKKwlzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKm9iajsKKworCW9iaiA9
IGRldi0+ZHJpdmVyLT5nZW1fY3JlYXRlX29iamVjdChkZXYsIHNpemUpOwogCWlmIChvYmogPT0g
TlVMTCkKIAkJcmV0dXJuIE5VTEw7CiAKLQlpZiAoZHJtX2dlbV9vYmplY3RfaW5pdChkZXYsICZv
YmotPmJhc2UsIHNpemUpICE9IDApIHsKKwlpZiAoZHJtX2dlbV9vYmplY3RfaW5pdChkZXYsIG9i
aiwgc2l6ZSkgIT0gMCkgewogCQlrZnJlZShvYmopOwogCQlyZXR1cm4gTlVMTDsKIAl9CiAKLQly
ZXR1cm4gb2JqOworCXJldHVybiB0b191ZGxfYm8ob2JqKTsKIH0KIAogc3RhdGljIGludAotLSAK
Mi4yMy4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpk
cmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0
cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
