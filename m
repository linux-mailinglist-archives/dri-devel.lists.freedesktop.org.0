Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id CBDECF1B32
	for <lists+dri-devel@lfdr.de>; Wed,  6 Nov 2019 17:30:02 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 470516E02E;
	Wed,  6 Nov 2019 16:29:59 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ed1-x543.google.com (mail-ed1-x543.google.com
 [IPv6:2a00:1450:4864:20::543])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 02E376E02E;
 Wed,  6 Nov 2019 16:29:57 +0000 (UTC)
Received: by mail-ed1-x543.google.com with SMTP id c4so19902205edl.0;
 Wed, 06 Nov 2019 08:29:57 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=ZhOsGIzKwcmxV2i84iILMrkYIWM1itj56Bt1iGZX5zw=;
 b=nvvtqGeRcRgiu77T435cnD2lMnWFLqLWl6E3fKovQrt5VFql3jBEuOBQ1jabqhWT2q
 CLuv/UBPvbNepx0cgTWeraJC06on/nsWf5Ongi3SohR/4peHhJh7EDyrSsDIMytZ/CbH
 FkRuNvWKhy+YTr2BzDKsSh8+TeHNkKzVfYbcbBRceUjXS2djddQeSwW+7TFqYRmOp4C6
 BEfixDBwP4mDH5McMo5AeJwP473/DUh5SJowxkJyh8/lsjbWbLq2tcQ0VZmimC2y4wYm
 +u8iLEj1obyL/1Hu1ljVpsScXEDbPJ/Q8Kuu8L8jKpERx35SeoaJZwk0kgB8vW3kl8Rw
 OlXA==
X-Gm-Message-State: APjAAAXNwYObVhyZmKZfM+B1wuikAiDa8h8CNjIfbG/8Y5Bgt8tfG9gD
 61RZoa2n6Rk29qaTPcOaKf5lLpTwsSgArFUApkZGPQ==
X-Google-Smtp-Source: APXvYqw5qpUIPzBJKpJK5MaBBx+BRYa25bDNiZ8H29i7NfGOsBmfuP4o+ssZcJrSFjkMMP3trAu4GRpadedH4teLkVA=
X-Received: by 2002:a50:a697:: with SMTP id e23mr3704006edc.264.1573057796426; 
 Wed, 06 Nov 2019 08:29:56 -0800 (PST)
MIME-Version: 1.0
References: <20191105000129.GA6536@onstation.org>
 <CAF6AEGv3gs+LFOP3AGthXd4niFb_XYOuwLfEa2G9eb27b1wMMA@mail.gmail.com>
 <20191105100804.GA9492@onstation.org>
 <CAF6AEGtB+g=4eiB31jkyuBGW7r0TBSh2oMj6TGtSgQ=q1ZV1tg@mail.gmail.com>
 <20191106091335.GA16729@onstation.org>
In-Reply-To: <20191106091335.GA16729@onstation.org>
From: Rob Clark <robdclark@gmail.com>
Date: Wed, 6 Nov 2019 08:29:45 -0800
Message-ID: <CAF6AEGuEO1jg6KhOFWEMUjq4ZQy5w61dWJk6uLWRzHnMZYZv=g@mail.gmail.com>
Subject: Re: [Freedreno] drm/msm: 'pp done time out' errors after async commit
 changes
To: Brian Masney <masneyb@onstation.org>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=ZhOsGIzKwcmxV2i84iILMrkYIWM1itj56Bt1iGZX5zw=;
 b=MzMKRFbA10485jRuvz3tQ8DotJq2PCUsghpbhte/Dk3wiY5LOKVP8lLRnN4m5XzIp8
 QSZ9gq/8jxUyRt9w8OTuPnkZbt+0ljMNlwM4C4eqgN+a/fzZ7/XFNzw07DZfMtOP4rIN
 NMEWnluBhCErVvZc9nS0hJgIWDXrj00FZ7mVGZbIoXiCykoQgemNiJNBse2nr6i1Hmz4
 6/k3YLY6fA/GX44TB0cuRoilpgTPtvWVLJIzTpd7woqc3MyZj97/L8Fpv0VKcz3VwNgj
 bLJNctQizj9a7s53SHWDp6+3SyrC52ukl9X848YIrNjxc+QP001fR6fPEDq05sRScI5i
 XDOw==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Rob Clark <robdclark@chromium.org>,
 freedreno <freedreno@lists.freedesktop.org>,
 Linux Kernel Mailing List <linux-kernel@vger.kernel.org>,
 dri-devel <dri-devel@lists.freedesktop.org>,
 linux-arm-msm <linux-arm-msm@vger.kernel.org>, Sean Paul <sean@poorly.run>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gV2VkLCBOb3YgNiwgMjAxOSBhdCAxOjEzIEFNIEJyaWFuIE1hc25leSA8bWFzbmV5YkBvbnN0
YXRpb24ub3JnPiB3cm90ZToKPgo+IE9uIFR1ZSwgTm92IDA1LCAyMDE5IGF0IDA4OjIzOjI3QU0g
LTA4MDAsIFJvYiBDbGFyayB3cm90ZToKPiA+IE9uIFR1ZSwgTm92IDUsIDIwMTkgYXQgMjowOCBB
TSBCcmlhbiBNYXNuZXkgPG1hc25leWJAb25zdGF0aW9uLm9yZz4gd3JvdGU6Cj4gPiA+IFRoZSAn
cHAgZG9uZSB0aW1lIG91dCcgZXJyb3JzIGdvIGF3YXkgaWYgSSByZXZlcnQgdGhlIGZvbGxvd2lu
ZyB0aHJlZQo+ID4gPiBjb21taXRzOgo+ID4gPgo+ID4gPiBjZDZkOTIzMTY3YjEgKCJkcm0vbXNt
L2RwdTogYXN5bmMgY29tbWl0IHN1cHBvcnQiKQo+ID4gPiBkOTM0YTcxMmM1ZTYgKCJkcm0vbXNt
OiBhZGQgYXRvbWljIHRyYWNlcyIpCj4gPiA+IDJkOTljZWQ3ODdlMyAoImRybS9tc206IGFzeW5j
IGNvbW1pdCBzdXBwb3J0IikKPiA+ID4KPiA+ID4gSSByZXZlcnRlZCB0aGUgZmlyc3Qgb25lIHRv
IGZpeCBhIGNvbXBpbGVyIGVycm9yLCBhbmQgdGhlIHNlY29uZCBvbmUgc28KPiA+ID4gdGhhdCB0
aGUgbGFzdCBwYXRjaCBjYW4gYmUgcmV2ZXJ0ZWQgd2l0aG91dCBhbnkgbWVyZ2UgY29uZmxpY3Rz
Lgo+ID4gPgo+ID4gPiBJIHNlZSB0aGF0IGNydGNfZmx1c2goKSBjYWxscyBtZHA1X2N0bF9jb21t
aXQoKS4gSSB0cmllZCB0byB1c2UKPiA+ID4gY3J0Y19mbHVzaF9hbGwoKSBpbiBtZHA1X2ZsdXNo
X2NvbW1pdCgpIGFuZCB0aGUgY29udGVudHMgb2YgdGhlIGZyYW1lCj4gPiA+IGJ1ZmZlciBkYW5j
ZSBhcm91bmQgdGhlIHNjcmVlbiBsaWtlIGl0cyBvdXQgb2Ygc3luYy4gSSByZW5hbWVkCj4gPiA+
IGNydGNfZmx1c2hfYWxsKCkgdG8gbWRwNV9jcnRjX2ZsdXNoX2FsbCgpIGFuZCByZW1vdmVkIHRo
ZSBzdGF0aWMKPiA+ID4gZGVjbGFyYXRpb24uIEhlcmUncyB0aGUgcmVsZXZhbnQgcGFydCBvZiB3
aGF0IEkgdHJpZWQ6Cj4gPiA+Cj4gPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9tc20vZGlzcC9t
ZHA1L21kcDVfa21zLmMKPiA+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL21zbS9kaXNwL21kcDUv
bWRwNV9rbXMuYwo+ID4gPiBAQCAtMTcxLDcgKzE3MSwxNSBAQCBzdGF0aWMgdm9pZCBtZHA1X3By
ZXBhcmVfY29tbWl0KHN0cnVjdCBtc21fa21zICprbXMsIHN0cnVjdCBkcm1fYXRvbWljX3N0YXRl
ICpzdAo+ID4gPgo+ID4gPiAgc3RhdGljIHZvaWQgbWRwNV9mbHVzaF9jb21taXQoc3RydWN0IG1z
bV9rbXMgKmttcywgdW5zaWduZWQgY3J0Y19tYXNrKQo+ID4gPiAgewo+ID4gPiAtICAgICAgIC8q
IFRPRE8gKi8KPiA+ID4gKyAgICAgICBzdHJ1Y3QgbWRwNV9rbXMgKm1kcDVfa21zID0gdG9fbWRw
NV9rbXModG9fbWRwX2ttcyhrbXMpKTsKPiA+ID4gKyAgICAgICBzdHJ1Y3QgZHJtX2NydGMgKmNy
dGM7Cj4gPiA+ICsKPiA+ID4gKyAgICAgICBmb3JfZWFjaF9jcnRjX21hc2sobWRwNV9rbXMtPmRl
diwgY3J0YywgY3J0Y19tYXNrKSB7Cj4gPiA+ICsgICAgICAgICAgICAgICBpZiAoIWNydGMtPnN0
YXRlLT5hY3RpdmUpCj4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwo+ID4g
PiArCj4gPiA+ICsgICAgICAgICAgICAgICBtZHA1X2NydGNfZmx1c2hfYWxsKGNydGMpOwo+ID4g
PiArICAgICAgIH0KPiA+ID4gIH0KPiA+ID4KPiA+ID4gQW55IHRpcHMgd291bGQgYmUgYXBwcmVj
aWF0ZWQuCj4gPgo+ID4KPiA+IEkgdGhpbmsgdGhpcyBpcyBhbG9uZyB0aGUgbGluZXMgb2Ygd2hh
dCB3ZSBuZWVkIHRvIGVuYWJsZSBhc3luYyBjb21taXQKPiA+IGZvciBtZHA1IChidXQgYWxzbyBy
ZW1vdmluZyB0aGUgZmx1c2ggZnJvbSB0aGUgYXRvbWljLWNvbW1pdCBwYXRoKS4uCj4gPiB0aGUg
cHJpbmNpcGxlIGJlaGluZCB0aGUgYXN5bmMgY29tbWl0IGlzIHRvIGRvIGFsbCB0aGUgYXRvbWlj
IHN0YXRlCj4gPiBjb21taXQgbm9ybWFsbHksIGJ1dCBkZWZlciB3cml0aW5nIHRoZSBmbHVzaCBi
aXRzLiAgVGhpcyB3YXksIGlmIHlvdQo+ID4gZ2V0IGFub3RoZXIgYXN5bmMgdXBkYXRlIGJlZm9y
ZSB0aGUgbmV4dCB2YmxhbmssIHlvdSBqdXN0IGFwcGx5IGl0Cj4gPiBpbW1lZGlhdGVseSBpbnN0
ZWFkIG9mIHdhaXRpbmcgZm9yIHZibGFuay4KPiA+Cj4gPiBCdXQgSSBndWVzcyB5b3UgYXJlIG9u
IGEgY29tbWFuZCBtb2RlIHBhbmVsLCBpZiBJIHJlbWVtYmVyPyAgV2hpY2ggaXMKPiA+IGEgY2Fz
ZSBJIGRpZG4ndCBoYXZlIGEgd2F5IHRvIHRlc3QuICBBbmQgSSdtIG5vdCBlbnRpcmVseSBhYm91
dCBob3cKPiA+IGttc19mdW5jcy0+dnN5bmNfdGltZSgpIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBm
b3IgY21kIG1vZGUgcGFuZWxzLgo+Cj4gWWVzLCB0aGlzIGlzIGEgY29tbWFuZC1tb2RlIHBhbmVs
IGFuZCB0aGVyZSdzIG5vIGhhcmR3YXJlIGZyYW1lIGNvdW50ZXIKPiBhdmFpbGFibGUuIFRoZSBr
ZXkgdG8gZ2V0dGluZyB0aGUgZGlzcGxheSB3b3JraW5nIG9uIHRoaXMgcGhvbmUgd2FzIHRoaXMK
PiBwYXRjaDoKPiBodHRwczovL2dpdC5rZXJuZWwub3JnL3B1Yi9zY20vbGludXgva2VybmVsL2dp
dC90b3J2YWxkcy9saW51eC5naXQvY29tbWl0Lz9pZD0yYmFiNTJhZjZmZTY4YzQzYjMyN2E1N2U1
Y2U1ZmMxMGVlZmRmYWRmCj4KPiA+IFRoYXQgYWxsIHNhaWQsIEkgdGhpbmsgd2Ugc2hvdWxkIGZp
cnN0IGZpeCB3aGF0IGlzIGJyb2tlbiwgYmVmb3JlCj4gPiB3b3JyeWluZyBhYm91dCBleHRlbmRp
bmcgYXN5bmMgY29tbWl0IHN1cHBvcnQgdG8gbWRwNS4uIHdoaWNoCj4gPiBzaG91bGRuJ3QgaGl0
IHRoZSBhc3luYz09dHJ1ZSBwYXRoLCBkdWUgdG8gbm90IGltcGxlbWVudGluZwo+ID4ga21zX2Z1
bmNzLT52c3luY190aW1lKCkuCj4gPgo+ID4gV2hhdCBJIHRoaW5rIGlzIGdvaW5nIG9uIGlzIHRo
YXQsIGluIHRoZSBjbWQgbW9kZSBjYXNlLAo+ID4gbWRwNV93YWl0X2ZsdXNoKCkgKGluZGlyZWN0
bHkpIGNhbGxzIG1kcDVfY3J0Y193YWl0X2Zvcl9wcF9kb25lKCksCj4gPiB3aGljaCB3YWl0cyBm
b3IgYSBwcC1kb25lIGlycSByZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhlcmUgaXMgYSBmbHVzaAo+
ID4gaW4gcHJvZ3Jlc3MuICBTaW5jZSB0aGVyZSBpcyBubyBmbHVzaCBwZW5kaW5nLCB0aGUgaXJx
IG5ldmVyIGNvbWVzLgo+ID4gQnV0IHRoZSBleHBlY3RhdGlvbiBpcyB0aGF0IGttc19mdW5jcy0+
d2FpdF9mbHVzaCgpIHJldHVybnMKPiA+IGltbWVkaWF0ZWx5IGlmIHRoZXJlIGlzIG5vdGhpbmcg
dG8gd2FpdCBmb3IuCj4KPiBJIGRvbid0IHRoaW5rIHRoYXQncyBoYXBwZW5pbmcgaW4gdGhpcyBj
YXNlLiBJIGFkZGVkIHNvbWUgcHJfaW5mbygpCj4gc3RhdGVtZW50cyB0byByZXF1ZXN0X3BwX2Rv
bmVfcGVuZGluZygpIGFuZCBtZHA1X2NydGNfcHBfZG9uZV9pcnEoKS4KPiBIZXJlJ3MgdGhlIGZp
cnN0IHR3byBzZXRzIG9mIG1lc3NhZ2VzIHRoYXQgYXBwZWFyIGluIGRtZXNnOgo+Cj4gWyAgIDE0
LjAxODkwN10gbXNtIGZkOTAwMDAwLm1kc3M6IHBwIGRvbmUgdGltZSBvdXQsIGxtPTAKPiBbICAg
MTQuMDE4OTkzXSByZXF1ZXN0X3BwX2RvbmVfcGVuZGluZzogSEVSRQo+IFsgICAxNC4wNzQyMDhd
IG1kcDVfY3J0Y19wcF9kb25lX2lycTogSEVSRQo+IFsgICAxNC4wNzQzNjhdIENvbnNvbGU6IHN3
aXRjaGluZyB0byBjb2xvdXIgZnJhbWUgYnVmZmVyIGRldmljZSAxMzV4MTIwCj4gWyAgIDE0LjEz
ODkzOF0gbXNtIGZkOTAwMDAwLm1kc3M6IHBwIGRvbmUgdGltZSBvdXQsIGxtPTAKPiBbICAgMTQu
MTM5MDIxXSByZXF1ZXN0X3BwX2RvbmVfcGVuZGluZzogSEVSRQo+IFsgICAxNC4xNTgwOTddIG1k
cDVfY3J0Y19wcF9kb25lX2lycTogSEVSRQo+Cj4gVGhlIG1lc3NhZ2VzIGdvIG9uIGxpa2UgdGhp
cyB3aXRoIHRoZSBzYW1lIHBhdHRlcm4uCj4KPiBJIHRyaWVkIHR3byBkaWZmZXJlbnQgY2hhbmdl
czoKPgo+IDEpIEkgbW92ZWQgdGhlIHJlcXVlc3RfcHBfZG9uZV9wZW5kaW5nKCkgYW5kIGNvcnJl
c3BvbmRpbmcgaWYgc3RhdGVtZW50Cj4gICAgZnJvbSBtZHA1X2NydGNfYXRvbWljX2ZsdXNoKCkg
YW5kIGludG8gbWRwNV9jcnRjX2F0b21pY19iZWdpbigpLgo+Cj4gMikgSSBpbmNyZWFzZWQgdGhl
IHRpbWVvdXQgaW4gd2FpdF9mb3JfY29tcGxldGlvbl90aW1lb3V0KCkgYnkgc2V2ZXJhbAo+ICAg
IGluY3JlbWVudHM7IGFsbCB0aGUgd2F5IHRvIDUgc2Vjb25kcy4KCmluY3JlYXNpbmcgdGhlIHRp
bWVvdXQgd29uJ3QgaGVscCwgYmVjYXVzZSB0aGUgcHAtZG9uZSBpcnEgaGFzIGFscmVhZHkKY29t
ZSBhdCB0aGUgcG9pbnQgd2hlcmUgd2Ugd2FpdCBmb3IgaXQuLgoKbWF5YmUgdGhlIGVhc3kgdGhp
bmcgaXMganVzdCBhZGQgbWRwNV9jcnRjLT5uZWVkc19wcCwgc2V0IHRvIHRydWUKYmVmb3JlIHJl
cXVlc3RpbmcsIGFuZCBmYWxzZSB3aGVuIHdlIGdldCB0aGUgaXJxLi4gYW5kIHRoZW4KbWRwNV9j
cnRjX3dhaXRfZm9yX3BwX2RvbmUoKSBqdXN0IHJldHVybnMgaWYgbmVlZHNfcHA9PWZhbHNlLi4K
CkJSLAotUgoKPiBJIGhhdmVuJ3QgZHVnIGludG8gdGhlIG5ldyBjb2RlIGFueW1vcmUuCj4KPiBC
cmlhbgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmkt
ZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6
Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
