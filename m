Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id DFC3DED027
	for <lists+dri-devel@lfdr.de>; Sat,  2 Nov 2019 18:57:14 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id CBC0F6E4F4;
	Sat,  2 Nov 2019 17:57:02 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wm1-x344.google.com (mail-wm1-x344.google.com
 [IPv6:2a00:1450:4864:20::344])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 9EF9A6E4F4;
 Sat,  2 Nov 2019 17:56:59 +0000 (UTC)
Received: by mail-wm1-x344.google.com with SMTP id t26so7970879wmi.4;
 Sat, 02 Nov 2019 10:56:59 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=KgCN3eDLCLLxgvLwcLPRUvAfY7m1hNtkJ6cy/5CLIlQ=;
 b=X9f9Cn80JksT0/+OM6tXEoICwDPL6KCXzPNfPVM+DGpK4c9xkvOUr3pZ/tYju9viKu
 383LQdh1Wz3QpE3dfpmTKDLHpj4T5xVe1nqYZP+Nor7vX74WBRymlBWxxWTiHHGqPlMn
 bt0tXmkH25tL44TvBKIeNtLZktFOH9Gv4zcnU9i6EdbJGmAP9rimEuixXda4S3NHl5ZI
 oAJx3Ej7xAK4bIZN62c6nGxikENrZclwzuv5fl73ICMqrWaeahYN9F6AgkxlhyhrVLAj
 Uye2i6p3/leEiqGJhBbmk3bOzDAI8qJ4cIAcSz8kn54Y2bBTPCz0PI2gr4ej0njXJo94
 JKNg==
X-Gm-Message-State: APjAAAXK9k5qZR7/T0cSqf4smDozZUqJJmJman4+uM0gbAidIou8Uko2
 GyExEfCzt/N9+/Q8PlTq1jY=
X-Google-Smtp-Source: APXvYqyLc1/offISysokD0OdxAmQjH1j//oM182q1XhuSlplZ67uIsjWLYLulL9JkZb2tJrQTDA8eg==
X-Received: by 2002:a05:600c:22cb:: with SMTP id
 11mr2199541wmg.117.1572717418126; 
 Sat, 02 Nov 2019 10:56:58 -0700 (PDT)
Received: from localhost (p2E5BE2CE.dip0.t-ipconnect.de. [46.91.226.206])
 by smtp.gmail.com with ESMTPSA id i71sm14737287wri.68.2019.11.02.10.56.56
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Sat, 02 Nov 2019 10:56:57 -0700 (PDT)
From: Thierry Reding <thierry.reding@gmail.com>
To: Ben Skeggs <bskeggs@redhat.com>,
	Joerg Roedel <joro@8bytes.org>
Subject: [PATCH v2 8/9] drm/nouveau: gp10b: Add custom L2 cache implementation
Date: Sat,  2 Nov 2019 18:56:36 +0100
Message-Id: <20191102175637.3065-9-thierry.reding@gmail.com>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20191102175637.3065-1-thierry.reding@gmail.com>
References: <20191102175637.3065-1-thierry.reding@gmail.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=KgCN3eDLCLLxgvLwcLPRUvAfY7m1hNtkJ6cy/5CLIlQ=;
 b=nWU0EQiDtPwW5QxBiIORTTGRkgsglc8fjDLPIwQuBoO+/gLIIG17Gx1U+B8QhZIY8W
 OnOFqylKcpVej5MtufBcHUDmGw4ajMffNyjD/fG91Q9mQwKicn14JyrxdzuwGVpf82zf
 4CCEACwSecba1VFahwpsemlBE+NO4OJxG16ZcohkafhSwo5FzQFTtAaLGqVfQT2jNBTK
 tTkCAdTSL2D3jL+O5/vlt7790YxiZvH8k0R4ikUQWARdnhYzT6dis4bMDBg4ZzXRFz5r
 6YliQip1Ur19euAXVw7nOHpBpfAsnlSvlm8kg5T2hJvmd6pkWJtbMxLdppDrZH5YZqFc
 pDsw==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-tegra@vger.kernel.org, nouveau@lists.freedesktop.org,
 Ben Dooks <ben.dooks@codethink.co.uk>, dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogVGhpZXJyeSBSZWRpbmcgPHRyZWRpbmdAbnZpZGlhLmNvbT4KClRoZXJlIGFyZSBleHRy
YSByZWdpc3RlcnMgdGhhdCBuZWVkIHRvIGJlIHByb2dyYW1tZWQgdG8gbWFrZSB0aGUgbGV2ZWwg
MgpjYWNoZSB3b3JrIG9uIEdQMTBCLCBzdWNoIGFzIHRoZSBzdHJlYW0gSUQgcmVnaXN0ZXIgdGhh
dCBpcyB1c2VkIHdoZW4gYW4KU01NVSBpcyB1c2VkIHRvIHRyYW5zbGF0ZSBtZW1vcnkgYWRkcmVz
c2VzLgoKU2lnbmVkLW9mZi1ieTogVGhpZXJyeSBSZWRpbmcgPHRyZWRpbmdAbnZpZGlhLmNvbT4K
LS0tCkNoYW5nZXMgaW4gdjI6Ci0gcmVtb3ZlIElPTU1VX0FQSSBwcm90ZWN0aW9uIHRvIGluY3Jl
YXNlIGNvbXBpbGUgY292ZXJhZ2UKLSByZWxpZXMgb24gZHVtbXkgZGV2X2lvbW11X2Z3c3BlY19n
ZXQoKSBoZWxwZXIKCiAuLi4vZ3B1L2RybS9ub3V2ZWF1L2luY2x1ZGUvbnZrbS9zdWJkZXYvbHRj
LmggfCAgMSArCiAuLi4vZ3B1L2RybS9ub3V2ZWF1L252a20vZW5naW5lL2RldmljZS9iYXNlLmMg
fCAgMiArLQogLi4uL2dwdS9kcm0vbm91dmVhdS9udmttL3N1YmRldi9sdGMvS2J1aWxkICAgIHwg
IDEgKwogLi4uL2dwdS9kcm0vbm91dmVhdS9udmttL3N1YmRldi9sdGMvZ3AxMGIuYyAgIHwgNjUg
KysrKysrKysrKysrKysrKysrKwogLi4uL2dwdS9kcm0vbm91dmVhdS9udmttL3N1YmRldi9sdGMv
cHJpdi5oICAgIHwgIDIgKwogNSBmaWxlcyBjaGFuZ2VkLCA3MCBpbnNlcnRpb25zKCspLCAxIGRl
bGV0aW9uKC0pCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbnZr
bS9zdWJkZXYvbHRjL2dwMTBiLmMKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbm91dmVh
dS9pbmNsdWRlL252a20vc3ViZGV2L2x0Yy5oIGIvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvaW5j
bHVkZS9udmttL3N1YmRldi9sdGMuaAppbmRleCA2NDRkNTI3YzNiOTYuLmQ3NmY2MGQ3ZDI5YSAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvaW5jbHVkZS9udmttL3N1YmRldi9s
dGMuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9pbmNsdWRlL252a20vc3ViZGV2L2x0
Yy5oCkBAIC00MCw0ICs0MCw1IEBAIGludCBnbTEwN19sdGNfbmV3KHN0cnVjdCBudmttX2Rldmlj
ZSAqLCBpbnQsIHN0cnVjdCBudmttX2x0YyAqKik7CiBpbnQgZ20yMDBfbHRjX25ldyhzdHJ1Y3Qg
bnZrbV9kZXZpY2UgKiwgaW50LCBzdHJ1Y3QgbnZrbV9sdGMgKiopOwogaW50IGdwMTAwX2x0Y19u
ZXcoc3RydWN0IG52a21fZGV2aWNlICosIGludCwgc3RydWN0IG52a21fbHRjICoqKTsKIGludCBn
cDEwMl9sdGNfbmV3KHN0cnVjdCBudmttX2RldmljZSAqLCBpbnQsIHN0cnVjdCBudmttX2x0YyAq
Kik7CitpbnQgZ3AxMGJfbHRjX25ldyhzdHJ1Y3QgbnZrbV9kZXZpY2UgKiwgaW50LCBzdHJ1Y3Qg
bnZrbV9sdGMgKiopOwogI2VuZGlmCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbm91dmVh
dS9udmttL2VuZ2luZS9kZXZpY2UvYmFzZS5jIGIvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbnZr
bS9lbmdpbmUvZGV2aWNlL2Jhc2UuYwppbmRleCBiMDYxZGYxMzgxNDIuLjIzMWVjMDA3M2FmMyAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbnZrbS9lbmdpbmUvZGV2aWNlL2Jh
c2UuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9udmttL2VuZ2luZS9kZXZpY2UvYmFz
ZS5jCkBAIC0yMzgwLDcgKzIzODAsNyBAQCBudjEzYl9jaGlwc2V0ID0gewogCS5mdXNlID0gZ20x
MDdfZnVzZV9uZXcsCiAJLmlidXMgPSBncDEwYl9pYnVzX25ldywKIAkuaW1lbSA9IGdrMjBhX2lu
c3RtZW1fbmV3LAotCS5sdGMgPSBncDEwMl9sdGNfbmV3LAorCS5sdGMgPSBncDEwYl9sdGNfbmV3
LAogCS5tYyA9IGdwMTBiX21jX25ldywKIAkubW11ID0gZ3AxMGJfbW11X25ldywKIAkuc2VjYm9v
dCA9IGdwMTBiX3NlY2Jvb3RfbmV3LApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL25vdXZl
YXUvbnZrbS9zdWJkZXYvbHRjL0tidWlsZCBiL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L252a20v
c3ViZGV2L2x0Yy9LYnVpbGQKaW5kZXggMmI2ZDM2ZWE3MDY3Li43MjhkNzUwMTA4NDcgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L252a20vc3ViZGV2L2x0Yy9LYnVpbGQKKysr
IGIvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvbHRjL0tidWlsZApAQCAtNiwz
ICs2LDQgQEAgbnZrbS15ICs9IG52a20vc3ViZGV2L2x0Yy9nbTEwNy5vCiBudmttLXkgKz0gbnZr
bS9zdWJkZXYvbHRjL2dtMjAwLm8KIG52a20teSArPSBudmttL3N1YmRldi9sdGMvZ3AxMDAubwog
bnZrbS15ICs9IG52a20vc3ViZGV2L2x0Yy9ncDEwMi5vCitudmttLXkgKz0gbnZrbS9zdWJkZXYv
bHRjL2dwMTBiLm8KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L252a20vc3Vi
ZGV2L2x0Yy9ncDEwYi5jIGIvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvbHRj
L2dwMTBiLmMKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAwLi5jMDA2M2M3
Y2FhNTAKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9udmttL3N1
YmRldi9sdGMvZ3AxMGIuYwpAQCAtMCwwICsxLDY1IEBACisvKgorICogQ29weXJpZ2h0IChjKSAy
MDE5IE5WSURJQSBDb3Jwb3JhdGlvbi4KKyAqCisgKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFu
dGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYQorICogY29weSBv
ZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAi
U29mdHdhcmUiKSwKKyAqIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rp
b24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24KKyAqIHRoZSByaWdodHMgdG8gdXNlLCBj
b3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLAorICog
YW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25z
IHRvIHdob20gdGhlCisgKiBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3Qg
dG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOgorICoKKyAqIFRoZSBhYm92ZSBjb3B5cmlnaHQg
bm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluCisg
KiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KKyAq
CisgKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBP
RiBBTlkgS0lORCwgRVhQUkVTUyBPUgorICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElN
SVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCisgKiBGSVRORVNTIEZP
UiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiAgSU4gTk8gRVZFTlQg
U0hBTEwKKyAqIFRIRSBDT1BZUklHSFQgSE9MREVSKFMpIE9SIEFVVEhPUihTKSBCRSBMSUFCTEUg
Rk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUgorICogT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElO
IEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsCisgKiBBUklTSU5HIEZS
T00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0Ug
T1IKKyAqIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS4KKyAqCisgKiBBdXRob3JzOiBU
aGllcnJ5IFJlZGluZworICovCisKKyNpbmNsdWRlICJwcml2LmgiCisKK3N0YXRpYyB2b2lkCitn
cDEwYl9sdGNfaW5pdChzdHJ1Y3QgbnZrbV9sdGMgKmx0YykKK3sKKwlzdHJ1Y3QgbnZrbV9kZXZp
Y2UgKmRldmljZSA9IGx0Yy0+c3ViZGV2LmRldmljZTsKKwlzdHJ1Y3QgaW9tbXVfZndzcGVjICpz
cGVjOworCisJbnZrbV93cjMyKGRldmljZSwgMHgxN2UyN2MsIGx0Yy0+bHRjX25yKTsKKwludmtt
X3dyMzIoZGV2aWNlLCAweDE3ZTAwMCwgbHRjLT5sdGNfbnIpOworCW52a21fd3IzMihkZXZpY2Us
IDB4MTAwODAwLCBsdGMtPmx0Y19ucik7CisKKwlzcGVjID0gZGV2X2lvbW11X2Z3c3BlY19nZXQo
ZGV2aWNlLT5kZXYpOworCWlmIChzcGVjKSB7CisJCXUzMiBzaWQgPSBzcGVjLT5pZHNbMF0gJiAw
eGZmZmY7CisKKwkJLyogc3RyZWFtIElEICovCisJCW52a21fd3IzMihkZXZpY2UsIDB4MTYwMDAw
LCBzaWQgPDwgMik7CisJfQorfQorCitzdGF0aWMgY29uc3Qgc3RydWN0IG52a21fbHRjX2Z1bmMK
K2dwMTBiX2x0YyA9IHsKKwkub25laW5pdCA9IGdwMTAwX2x0Y19vbmVpbml0LAorCS5pbml0ID0g
Z3AxMGJfbHRjX2luaXQsCisJLmludHIgPSBncDEwMF9sdGNfaW50ciwKKwkuY2JjX2NsZWFyID0g
Z20xMDdfbHRjX2NiY19jbGVhciwKKwkuY2JjX3dhaXQgPSBnbTEwN19sdGNfY2JjX3dhaXQsCisJ
LnpiYyA9IDE2LAorCS56YmNfY2xlYXJfY29sb3IgPSBnbTEwN19sdGNfemJjX2NsZWFyX2NvbG9y
LAorCS56YmNfY2xlYXJfZGVwdGggPSBnbTEwN19sdGNfemJjX2NsZWFyX2RlcHRoLAorCS56YmNf
Y2xlYXJfc3RlbmNpbCA9IGdwMTAyX2x0Y196YmNfY2xlYXJfc3RlbmNpbCwKKwkuaW52YWxpZGF0
ZSA9IGdmMTAwX2x0Y19pbnZhbGlkYXRlLAorCS5mbHVzaCA9IGdmMTAwX2x0Y19mbHVzaCwKK307
CisKK2ludAorZ3AxMGJfbHRjX25ldyhzdHJ1Y3QgbnZrbV9kZXZpY2UgKmRldmljZSwgaW50IGlu
ZGV4LCBzdHJ1Y3QgbnZrbV9sdGMgKipwbHRjKQoreworCXJldHVybiBudmttX2x0Y19uZXdfKCZn
cDEwYl9sdGMsIGRldmljZSwgaW5kZXgsIHBsdGMpOworfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvbHRjL3ByaXYuaCBiL2RyaXZlcnMvZ3B1L2RybS9u
b3V2ZWF1L252a20vc3ViZGV2L2x0Yy9wcml2LmgKaW5kZXggMmZjZjE4ZTQ2Y2UzLi5lY2E1YTcx
MWIxYjggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L252a20vc3ViZGV2L2x0
Yy9wcml2LmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvbHRjL3By
aXYuaApAQCAtNDYsNCArNDYsNiBAQCB2b2lkIGdtMTA3X2x0Y196YmNfY2xlYXJfZGVwdGgoc3Ry
dWN0IG52a21fbHRjICosIGludCwgY29uc3QgdTMyKTsKIGludCBncDEwMF9sdGNfb25laW5pdChz
dHJ1Y3QgbnZrbV9sdGMgKik7CiB2b2lkIGdwMTAwX2x0Y19pbml0KHN0cnVjdCBudmttX2x0YyAq
KTsKIHZvaWQgZ3AxMDBfbHRjX2ludHIoc3RydWN0IG52a21fbHRjICopOworCit2b2lkIGdwMTAy
X2x0Y196YmNfY2xlYXJfc3RlbmNpbChzdHJ1Y3QgbnZrbV9sdGMgKiwgaW50LCBjb25zdCB1MzIp
OwogI2VuZGlmCi0tIAoyLjIzLjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVk
ZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZv
L2RyaS1kZXZlbA==
