Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 078A74157FD
	for <lists+dri-devel@lfdr.de>; Thu, 23 Sep 2021 07:56:00 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 891B86ECD8;
	Thu, 23 Sep 2021 05:55:54 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from NAM11-CO1-obe.outbound.protection.outlook.com
 (mail-co1nam11on2079.outbound.protection.outlook.com [40.107.220.79])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3A1026ECD5;
 Thu, 23 Sep 2021 05:55:52 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=dDMBZCEWq86BUZd0KEwaEyo8MsXNzXf/aA3/DhptDDoio3N+o5X5S5GoxJqmZAeivYHCS/DH12YF2WdK9Vuh9iCO3kC5yEaCdPlnEBVIIzxgIWYnN5SNYFZvgylOzKMGGVbU1UvnE+n0DbOvVqHVyT+W5id6HmkjfV0KD2SGR8qnJARLV/50Yt8tSEOUtyacudCBc+KJATnlulTmKMEYJV7xnnKhhN7tt+rN19M+PKNMnXgB+0K7SSDgDWI2Y+Dzgr2JvzqFsAla2445/h0Q1R7ovifNWpqMryoD5ZW+3mpOFAo1PFXoZmkg5OWQ091docg5jRXIA5wSyo0T3nuaBQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version; 
 bh=xFT3GGBtBezRkomr9PxdSmqO0j+oXn+cAXGwcSPiSg0=;
 b=CzFvZUCGSm8mfTAQ6rI8L2a/pRSyR4qBfHXqsPxMK8UU6X2RUKtovMq1r/+BSxrInO5GhuXeb25ozx4aWab51bPPavBonNlrKK/Jexz8Q55855l0XkBSyRFHfQH0nVY5ftvRnXDBwAdbhmwrzCfob7rXMfVo6VmpFVCZi/z3Eydb65SRXDMmxr6LsnuzdfptDX74GCC7BPpfV1mC2Q5brnnsGzaEHnNSkl1ujil78iFq1Z/JhjHSb6ghloqsCpVWmM4SMWzlGMmcbfI7TWmOYB8YnU+RBYjAdzGI0j6PRu5gNI3jbVaIYKoSWTk5CLSyrUdS8va7xo2prEpsTGmEBw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=amd.com; s=selector1; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=xFT3GGBtBezRkomr9PxdSmqO0j+oXn+cAXGwcSPiSg0=;
 b=Wj37khVcJPe2i85RAwOlRvad1YRNNLU6VmmsptNpldALcG8w6fonTNvAPoH8XtvDMBhVPfMaE+TBArSiK0GcO2g1xvZvhxGqCSvZGx+YvPqfRnoGsEPDd/5d2+w/+E7NTRT79iH5cxpnvEE1pj64gTsoq7on1NxSyN5oTlz/ka4=
Received: from MN2PR12MB4342.namprd12.prod.outlook.com (2603:10b6:208:264::7)
 by MN2PR12MB3935.namprd12.prod.outlook.com (2603:10b6:208:168::31)
 with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.4544.14; Thu, 23 Sep
 2021 05:55:49 +0000
Received: from MN2PR12MB4342.namprd12.prod.outlook.com
 ([fe80::69b7:2dfa:9867:4a1e]) by MN2PR12MB4342.namprd12.prod.outlook.com
 ([fe80::69b7:2dfa:9867:4a1e%4]) with mapi id 15.20.4544.015; Thu, 23 Sep 2021
 05:55:49 +0000
From: "Paneer Selvam, Arunpravin" <Arunpravin.PaneerSelvam@amd.com>
To: Alex Deucher <alexdeucher@gmail.com>
CC: Maling list - DRI developers <dri-devel@lists.freedesktop.org>, Intel
 Graphics Development <intel-gfx@lists.freedesktop.org>, amd-gfx list
 <amd-gfx@lists.freedesktop.org>, "Koenig, Christian"
 <Christian.Koenig@amd.com>, Matthew Auld <matthew.auld@intel.com>, Daniel
 Vetter <daniel@ffwll.ch>, "Deucher, Alexander" <Alexander.Deucher@amd.com>
Subject: RE: [PATCH 1/2] Enable buddy memory manager support
Thread-Topic: [PATCH 1/2] Enable buddy memory manager support
Thread-Index: AQHXrlShU6eg15d8u0Cyr+WvImb5Y6utTX+AgAPUrZA=
Date: Thu, 23 Sep 2021 05:55:49 +0000
Message-ID: <MN2PR12MB43421017B2BF7B7F55FBEADFE4A39@MN2PR12MB4342.namprd12.prod.outlook.com>
References: <20210920192011.221102-1-Arunpravin.PaneerSelvam@amd.com>
 <CADnq5_O6xXp_JZYjpvsCoPUZMv4AFJ4L_Ocka_A6iUt-kZ2bog@mail.gmail.com>
In-Reply-To: <CADnq5_O6xXp_JZYjpvsCoPUZMv4AFJ4L_Ocka_A6iUt-kZ2bog@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
msip_labels: MSIP_Label_0d814d60-469d-470c-8cb0-58434e2bf457_Enabled=true;
 MSIP_Label_0d814d60-469d-470c-8cb0-58434e2bf457_SetDate=2021-09-23T05:55:45Z; 
 MSIP_Label_0d814d60-469d-470c-8cb0-58434e2bf457_Method=Privileged;
 MSIP_Label_0d814d60-469d-470c-8cb0-58434e2bf457_Name=Public_0;
 MSIP_Label_0d814d60-469d-470c-8cb0-58434e2bf457_SiteId=3dd8961f-e488-4e60-8e11-a82d994e183d;
 MSIP_Label_0d814d60-469d-470c-8cb0-58434e2bf457_ActionId=62baf2ef-3094-4cbf-9e5b-513b3e30107b;
 MSIP_Label_0d814d60-469d-470c-8cb0-58434e2bf457_ContentBits=1
authentication-results: gmail.com; dkim=none (message not signed)
 header.d=none;gmail.com; dmarc=none action=none header.from=amd.com;
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 3b4297ea-113b-4e0e-91ae-08d97e56cb46
x-ms-traffictypediagnostic: MN2PR12MB3935:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <MN2PR12MB3935E066F54234B96BB4E17CE4A39@MN2PR12MB3935.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:309;
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: 5hUCl2ZfvW9Fke4HdytI9CcpquOSoLPVHHSItSpAUwuQsAJwHnVeR6VFW+Faflx6uwRLTDUgReEHQYc4nhfdQTPTw3LLMpdIo89rsSdzzUQg/68HYz3xrvjiLrlCpA9DVW0+mHnifcYhe+BRK7nlG5Wh4IoLCpkwbgZJi/u8ZiZL6vRHxEFkvkL5unnzDwnBk0NbU0w1yhYIrhQcMtXbavqHg5yHKcPgBZoDkxhAtWDORCxFQEzrM+048bxXedn/TZVY3XneRmSX0EMgCSwzYrchnz4inpzvECWg/cwrcqJRsWuW7rZm+fXUiSA8CW0mIAgSWQavNJSeH/IZfeNptqNspPXt5ZEDwBTN0yLxZA01BjShcOmu1EZ6F7adUfH8JNPS722zqCfDT11L+q4inBm6jwS4ONeKiVHiq/AUM5t5iTjTICOphDc/k/WIcQvMNujw29Lo1bn3BD5Dy9V4AgH9MCUUlueQv6yOTw0ooMd4lV2p+NwO4VF1B5tr23iTgNaSayxLSdIQAB8Eglc8Pe13PDb8Ew9BVr+FhxIoOSJwgLrQSfYGIuApUQByDBqAT7DE/FMqoQGknBjSun7MT0OiQT6PWjCkVUTYJJW9Pj4I2SxfcX5k16QDGEh0v2tAyxwtP8jhUHwLD54HWQJ4NyfN+X8q9ItOO/+5jXAWl5gGiu7wTQtFEHUQCu/VUYquxzTplQ7+m/X0CVGwxxtT43wE5Jrh6lMsx1C330FPhjE=
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:MN2PR12MB4342.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(4636009)(366004)(66556008)(55236004)(4326008)(53546011)(6506007)(5660300002)(6916009)(316002)(66446008)(76116006)(54906003)(33656002)(66946007)(66476007)(2906002)(26005)(64756008)(508600001)(83380400001)(30864003)(52536014)(38070700005)(71200400001)(7696005)(122000001)(186003)(8676002)(55016002)(86362001)(8936002)(9686003)(38100700002)(134034003)(579004);
 DIR:OUT; SFP:1101; 
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?RERQemFFL3lwaHo3LzQrTHJQcWVpUkdoOGtTdmJJS3BxdDVZcVAzdEtwenJ2?=
 =?utf-8?B?L0t0bUNvdGZXc1FDM3ZWWDhaZElHK2s2VGdwTUVSalNUN0luUDc4MGVTcEJa?=
 =?utf-8?B?K001R214MHZmREVQdzcwTW1FTDlKSENMZFhabGIyY09WQjNQTzh2emg2STFh?=
 =?utf-8?B?amptRXNDeHVjN1BzblR4VWVkTTlYSEZmczZZbXh3NFlxWVhnR2E0b04wQVR6?=
 =?utf-8?B?eHpsNDdSNU5DRnVGRWVnQWNrVU51bjNnbHE0UWZCVENhTHBEQXNXb2tTS3I4?=
 =?utf-8?B?ME1ldlRyNTF0M0pFUnpSZUI4MlNWRG9OQWgzWXM1Rk5FOHpSN29jd3RjQjBy?=
 =?utf-8?B?N2l4aktNTlZjc25wOHZ5Q3krWHd0d3RNR0pHMkZXSmE5THlra20zdVVzdzhx?=
 =?utf-8?B?VnF5bDg5RXMzSDVENDV4bWNYSWpmV0lMUmV0aEZ4eGdFRCsyZTlDSkllK1Jm?=
 =?utf-8?B?RGc1TGlQQ1JNYlNGK3paZHNuTDFiVk5sdWQ1TW0vb3FWQzkwK2NHTFRjVVBQ?=
 =?utf-8?B?NlNTMmNoZEtsMWI4SXN1bHcrM21UMVVVZEJ0eVMvQ2FBZVlDYXJ1dUExL3NK?=
 =?utf-8?B?cVFQR2labHZra0lZZERYMUZlZVBJZ1dudlBQS1BPRjErYWFQYjZGTlNza2Nl?=
 =?utf-8?B?bEx2cXZsOWpjUzZ4bEF0bVpNU0UrcXBJYzNtWG96SnFxRHJuYTRPOEtyMGI4?=
 =?utf-8?B?QzNtaHRDU21Vd1VzRS9Ta2RUTVhpTDFJZlFxWkJ3TEhxMFlCbGJPaHYwMFEx?=
 =?utf-8?B?NlpVMjF5dXdLR3FoYWd1NmRxS0hBaGdITEUreXdUaU5KTkV6OXpEa0pVcXBs?=
 =?utf-8?B?NWtRVTFEOGtWditoUWZyZU9IK2hubVRickRHNWZJUHF3Q3MxRWV4Mmt5QXlZ?=
 =?utf-8?B?dExET0pGc0h2S3AyZ3VyT1B3R1BkUHZwS0NHZWtld2d1b2ROOTF5blQyWnJ2?=
 =?utf-8?B?Nk82RE9OekZUWmZacWVaVXAvVGN2RzB2L0FWampRYzZ0TDdUZkRjbmp3NHU1?=
 =?utf-8?B?WER0di92MHpaK1NKMHFGRGxtTDdCcmdwUzBQcUdMT3pyQTJLVzVvV3NyOVdC?=
 =?utf-8?B?a1hqcHNHUDR3NkZiSEl6SlhPeWt2Vk1OckZHTVZBUmxPa29VeWgvZ2tjNDVa?=
 =?utf-8?B?S3ZIMkIyNlFaNDE0ZXl0c3hrOU92cDZrMjlIOVA4TkM2Z25JTEVFeW5sVnR3?=
 =?utf-8?B?MFNTRGkwcGZlZW11UnphNGdRVHhtdC8wUVN0ZUJTc0tBRno1TGx3UlBmLzhq?=
 =?utf-8?B?dm1IV3VkcGhoZ20yZmlxa25XWGthZk40eXVwcXFSZWZyazR0U0hnZVpkV3lU?=
 =?utf-8?B?TUpIemlCVFg0M3hvRGlOVXdqemcyMVYxeHlBWm1YbXRHSG5HanQxRERPbTdn?=
 =?utf-8?B?UFByUk1ZbjBRVWdpTkYxcm44V2FxYWRQaytkajMxKy9ZWlB5SDlaUFMwcXlt?=
 =?utf-8?B?akNSSEwxRDQybTJKVE5JNmc5cTd2UmhtTCtXUUtxZFFmR3VtZlJaQjdidnNS?=
 =?utf-8?B?bmNRL0JmRHU2a2hoTkpJWHJ4TTBOZGVPRlBqN3F3TEgySEdPU1lYQmU5WXNq?=
 =?utf-8?B?aEpvblhqUGJTQU9wazl0SXRPS2JJN0VEbmRKT0p5dWcyaEFoajJUVXMxaVdP?=
 =?utf-8?B?Q1hneXFmVkI4enJBdGduQXFFZkRNcjFrZU1KbVRoYkIzYXRIODNMNmFndHI2?=
 =?utf-8?B?UFoxRFNNdjIyK0tzMkhFQlpuZDMySGtWbjUwMUlsNFJRSXlaUC9MTzlDSmM2?=
 =?utf-8?Q?XvAG2a8rdGDgCvuFPy5xrz29dAIxD88SH7+NhL4?=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: MN2PR12MB4342.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 3b4297ea-113b-4e0e-91ae-08d97e56cb46
X-MS-Exchange-CrossTenant-originalarrivaltime: 23 Sep 2021 05:55:49.0510 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: 9h9vK3lRif6Sp3bdg8gGYfD4AcyvvBrvrtNymAcxI65ZyQV6unB1uu1YWvHjxZTTyPYitIIlw9tu+nArVfXE1w==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB3935
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

W0FNRCBQdWJsaWMgVXNlXQ0KDQpIaSBBbGV4LA0KSSB3aWxsIGZpeCB0aGUgbmFtZSBhbmQgc2Vu
ZCBhIGRvY3VtZW50IGluIG15IG5leHQgdmVyc2lvbi4NCg0KVGhhbmtzLA0KQXJ1bg0KLS0tLS1P
cmlnaW5hbCBNZXNzYWdlLS0tLS0NCkZyb206IEFsZXggRGV1Y2hlciA8YWxleGRldWNoZXJAZ21h
aWwuY29tPiANClNlbnQ6IFR1ZXNkYXksIFNlcHRlbWJlciAyMSwgMjAyMSAxMjo1NCBBTQ0KVG86
IFBhbmVlciBTZWx2YW0sIEFydW5wcmF2aW4gPEFydW5wcmF2aW4uUGFuZWVyU2VsdmFtQGFtZC5j
b20+DQpDYzogTWFsaW5nIGxpc3QgLSBEUkkgZGV2ZWxvcGVycyA8ZHJpLWRldmVsQGxpc3RzLmZy
ZWVkZXNrdG9wLm9yZz47IEludGVsIEdyYXBoaWNzIERldmVsb3BtZW50IDxpbnRlbC1nZnhAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnPjsgYW1kLWdmeCBsaXN0IDxhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNr
dG9wLm9yZz47IEtvZW5pZywgQ2hyaXN0aWFuIDxDaHJpc3RpYW4uS29lbmlnQGFtZC5jb20+OyBN
YXR0aGV3IEF1bGQgPG1hdHRoZXcuYXVsZEBpbnRlbC5jb20+OyBEYW5pZWwgVmV0dGVyIDxkYW5p
ZWxAZmZ3bGwuY2g+OyBEZXVjaGVyLCBBbGV4YW5kZXIgPEFsZXhhbmRlci5EZXVjaGVyQGFtZC5j
b20+DQpTdWJqZWN0OiBSZTogW1BBVENIIDEvMl0gRW5hYmxlIGJ1ZGR5IG1lbW9yeSBtYW5hZ2Vy
IHN1cHBvcnQNCg0KT24gTW9uLCBTZXAgMjAsIDIwMjEgYXQgMzoyMSBQTSBBcnVucHJhdmluIDxB
cnVucHJhdmluLlBhbmVlclNlbHZhbUBhbWQuY29tPiB3cm90ZToNCg0KUGxlYXNlIHByZWZpeCB0
aGUgcGF0Y2ggc3ViamVjdCB3aXRoIGRybS4gIEUuZy4sDQpkcm06IEVuYWJsZSBidWRkeSBtZW1v
cnkgbWFuYWdlciBzdXBwb3J0DQoNClNhbWUgZm9yIHRoZSBzZWNvbmQgcGF0Y2gsIGJ1dCBtYWtl
IGl0IGRybS9hbWRncHUgaW5zdGVhZC4NCg0KQWxleA0KDQo+DQo+IFBvcnQgSW50ZWwgYnVkZHkg
c3lzdGVtIG1hbmFnZXIgdG8gZHJtIHJvb3QgZm9sZGVyIEFkZCBDUFUgDQo+IG1hcHBhYmxlL25v
bi1tYXBwYWJsZSByZWdpb24gc3VwcG9ydCB0byB0aGUgZHJtIGJ1ZGR5IG1hbmFnZXINCj4NCj4g
U2lnbmVkLW9mZi1ieTogQXJ1bnByYXZpbiA8QXJ1bnByYXZpbi5QYW5lZXJTZWx2YW1AYW1kLmNv
bT4NCj4gLS0tDQo+ICBkcml2ZXJzL2dwdS9kcm0vTWFrZWZpbGUgICAgfCAgIDIgKy0NCj4gIGRy
aXZlcnMvZ3B1L2RybS9kcm1fYnVkZHkuYyB8IDQ2NSArKysrKysrKysrKysrKysrKysrKysrKysr
KysrKysrKysrKysNCj4gIGluY2x1ZGUvZHJtL2RybV9idWRkeS5oICAgICB8IDE1NCArKysrKysr
KysrKysNCj4gIDMgZmlsZXMgY2hhbmdlZCwgNjIwIGluc2VydGlvbnMoKyksIDEgZGVsZXRpb24o
LSkgIGNyZWF0ZSBtb2RlIDEwMDY0NCANCj4gZHJpdmVycy9ncHUvZHJtL2RybV9idWRkeS5jICBj
cmVhdGUgbW9kZSAxMDA2NDQgDQo+IGluY2x1ZGUvZHJtL2RybV9idWRkeS5oDQo+DQo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vTWFrZWZpbGUgYi9kcml2ZXJzL2dwdS9kcm0vTWFrZWZp
bGUgaW5kZXggDQo+IGExMTg2OTJhNmRmNy4uZmUxYTJmYzA5Njc1IDEwMDY0NA0KPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vTWFrZWZpbGUNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL01ha2VmaWxl
DQo+IEBAIC0xOCw3ICsxOCw3IEBAIGRybS15ICAgICAgIDo9ICAgICAgICBkcm1fYXBlcnR1cmUu
byBkcm1fYXV0aC5vIGRybV9jYWNoZS5vIFwNCj4gICAgICAgICAgICAgICAgIGRybV9kdW1iX2J1
ZmZlcnMubyBkcm1fbW9kZV9jb25maWcubyBkcm1fdmJsYW5rLm8gXA0KPiAgICAgICAgICAgICAg
ICAgZHJtX3N5bmNvYmoubyBkcm1fbGVhc2UubyBkcm1fd3JpdGViYWNrLm8gZHJtX2NsaWVudC5v
IFwNCj4gICAgICAgICAgICAgICAgIGRybV9jbGllbnRfbW9kZXNldC5vIGRybV9hdG9taWNfdWFw
aS5vIGRybV9oZGNwLm8gXA0KPiAtICAgICAgICAgICAgICAgZHJtX21hbmFnZWQubyBkcm1fdmJs
YW5rX3dvcmsubw0KPiArICAgICAgICAgICAgICAgZHJtX21hbmFnZWQubyBkcm1fdmJsYW5rX3dv
cmsubyBkcm1fYnVkZHkubw0KPg0KPiAgZHJtLSQoQ09ORklHX0RSTV9MRUdBQ1kpICs9IGRybV9h
Z3BzdXBwb3J0Lm8gZHJtX2J1ZnMubyBkcm1fY29udGV4dC5vIGRybV9kbWEubyBcDQo+ICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBkcm1fbGVnYWN5X21pc2MubyBkcm1fbG9jay5vIGRybV9t
ZW1vcnkubyANCj4gZHJtX3NjYXR0ZXIubyBcIGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
ZHJtX2J1ZGR5LmMgDQo+IGIvZHJpdmVycy9ncHUvZHJtL2RybV9idWRkeS5jIG5ldyBmaWxlIG1v
ZGUgMTAwNjQ0IGluZGV4IA0KPiAwMDAwMDAwMDAwMDAuLmYwNzkxOWEwMDRiNg0KPiAtLS0gL2Rl
di9udWxsDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fYnVkZHkuYw0KPiBAQCAtMCwwICsx
LDQ2NSBAQA0KPiArLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVA0KPiArLyoNCj4gKyAq
IENvcHlyaWdodCAgIDIwMjEgSW50ZWwgQ29ycG9yYXRpb24gICovDQo+ICsNCj4gKyNpbmNsdWRl
IDxsaW51eC9rbWVtbGVhay5oPg0KPiArI2luY2x1ZGUgPGRybS9kcm1fYnVkZHkuaD4NCj4gKw0K
PiArc3RhdGljIHN0cnVjdCBkcm1fYnVkZHlfYmxvY2sgKmRybV9ibG9ja19hbGxvYyhzdHJ1Y3Qg
ZHJtX2J1ZGR5X21tICptbSwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGRybV9i
dWRkeV9ibG9jayAqcGFyZW50LCB1bnNpZ25lZCBpbnQgb3JkZXIsDQo+ICsgICAgICAgICAgICAg
ICAgICAgICAgIHU2NCBvZmZzZXQpDQo+ICt7DQo+ICsgICAgICAgc3RydWN0IGRybV9idWRkeV9i
bG9jayAqYmxvY2s7DQo+ICsNCj4gKyAgICAgICBCVUdfT04ob3JkZXIgPiBEUk1fQlVERFlfTUFY
X09SREVSKTsNCj4gKw0KPiArICAgICAgIGJsb2NrID0ga21lbV9jYWNoZV96YWxsb2MobW0tPnNs
YWJfYmxvY2tzLCBHRlBfS0VSTkVMKTsNCj4gKyAgICAgICBpZiAoIWJsb2NrKQ0KPiArICAgICAg
ICAgICAgICAgcmV0dXJuIE5VTEw7DQo+ICsNCj4gKyAgICAgICBibG9jay0+aGVhZGVyID0gb2Zm
c2V0Ow0KPiArICAgICAgIGJsb2NrLT5oZWFkZXIgfD0gb3JkZXI7DQo+ICsgICAgICAgYmxvY2st
PnBhcmVudCA9IHBhcmVudDsNCj4gKyAgICAgICBibG9jay0+c3RhcnQgPSBvZmZzZXQgPj4gUEFH
RV9TSElGVDsNCj4gKyAgICAgICBibG9jay0+c2l6ZSA9IChtbS0+Y2h1bmtfc2l6ZSA8PCBvcmRl
cikgPj4gUEFHRV9TSElGVDsNCj4gKw0KPiArICAgICAgIEJVR19PTihibG9jay0+aGVhZGVyICYg
RFJNX0JVRERZX0hFQURFUl9VTlVTRUQpOw0KPiArICAgICAgIHJldHVybiBibG9jazsNCj4gK30N
Cj4gKw0KPiArc3RhdGljIHZvaWQgZHJtX2Jsb2NrX2ZyZWUoc3RydWN0IGRybV9idWRkeV9tbSAq
bW0sIHN0cnVjdCANCj4gK2RybV9idWRkeV9ibG9jayAqYmxvY2spIHsNCj4gKyAgICAgICBrbWVt
X2NhY2hlX2ZyZWUobW0tPnNsYWJfYmxvY2tzLCBibG9jayk7IH0NCj4gKw0KPiArc3RhdGljIHZv
aWQgYWRkX29yZGVyZWQoc3RydWN0IGRybV9idWRkeV9tbSAqbW0sIHN0cnVjdCANCj4gK2RybV9i
dWRkeV9ibG9jayAqYmxvY2spIHsNCj4gKyAgICAgICBzdHJ1Y3QgZHJtX2J1ZGR5X2Jsb2NrICpu
b2RlOw0KPiArDQo+ICsgICAgICAgaWYgKGxpc3RfZW1wdHkoJm1tLT5mcmVlX2xpc3RbZHJtX2J1
ZGR5X2Jsb2NrX29yZGVyKGJsb2NrKV0pKSB7DQo+ICsgICAgICAgICAgICAgICBsaXN0X2FkZCgm
YmxvY2stPmxpbmssDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJm1tLT5mcmVl
X2xpc3RbZHJtX2J1ZGR5X2Jsb2NrX29yZGVyKGJsb2NrKV0pOw0KPiArICAgICAgICAgICAgICAg
cmV0dXJuOw0KPiArICAgICAgIH0NCj4gKw0KPiArICAgICAgIGxpc3RfZm9yX2VhY2hfZW50cnko
bm9kZSwgJm1tLT5mcmVlX2xpc3RbZHJtX2J1ZGR5X2Jsb2NrX29yZGVyKGJsb2NrKV0sIGxpbmsp
DQo+ICsgICAgICAgICAgICAgICBpZiAoYmxvY2stPnN0YXJ0ID4gbm9kZS0+c3RhcnQpDQo+ICsg
ICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KPiArDQo+ICsgICAgICAgX19saXN0X2FkZCgm
YmxvY2stPmxpbmssIG5vZGUtPmxpbmsucHJldiwgJm5vZGUtPmxpbmspOyB9DQo+ICsNCj4gK3N0
YXRpYyB2b2lkIG1hcmtfYWxsb2NhdGVkKHN0cnVjdCBkcm1fYnVkZHlfYmxvY2sgKmJsb2NrKSB7
DQo+ICsgICAgICAgYmxvY2stPmhlYWRlciAmPSB+RFJNX0JVRERZX0hFQURFUl9TVEFURTsNCj4g
KyAgICAgICBibG9jay0+aGVhZGVyIHw9IERSTV9CVUREWV9BTExPQ0FURUQ7DQo+ICsNCj4gKyAg
ICAgICBsaXN0X2RlbCgmYmxvY2stPmxpbmspOw0KPiArfQ0KPiArDQo+ICtzdGF0aWMgdm9pZCBt
YXJrX2ZyZWUoc3RydWN0IGRybV9idWRkeV9tbSAqbW0sDQo+ICsgICAgICAgICAgICAgICAgICAg
ICBzdHJ1Y3QgZHJtX2J1ZGR5X2Jsb2NrICpibG9jaykgew0KPiArICAgICAgIGJsb2NrLT5oZWFk
ZXIgJj0gfkRSTV9CVUREWV9IRUFERVJfU1RBVEU7DQo+ICsgICAgICAgYmxvY2stPmhlYWRlciB8
PSBEUk1fQlVERFlfRlJFRTsNCj4gKw0KPiArICAgICAgIGFkZF9vcmRlcmVkKG1tLCBibG9jayk7
DQo+ICt9DQo+ICsNCj4gK3N0YXRpYyB2b2lkIG1hcmtfc3BsaXQoc3RydWN0IGRybV9idWRkeV9i
bG9jayAqYmxvY2spIHsNCj4gKyAgICAgICBibG9jay0+aGVhZGVyICY9IH5EUk1fQlVERFlfSEVB
REVSX1NUQVRFOw0KPiArICAgICAgIGJsb2NrLT5oZWFkZXIgfD0gRFJNX0JVRERZX1NQTElUOw0K
PiArDQo+ICsgICAgICAgbGlzdF9kZWwoJmJsb2NrLT5saW5rKTsNCj4gK30NCj4gKw0KPiAraW50
IGRybV9idWRkeV9pbml0KHN0cnVjdCBkcm1fYnVkZHlfbW0gKm1tLCB1NjQgc2l6ZSwgdTY0IGNo
dW5rX3NpemUpIA0KPiArew0KPiArICAgICAgIHVuc2lnbmVkIGludCBpOw0KPiArICAgICAgIHU2
NCBvZmZzZXQ7DQo+ICsNCj4gKyAgICAgICBpZiAoc2l6ZSA8IGNodW5rX3NpemUpDQo+ICsgICAg
ICAgICAgICAgICByZXR1cm4gLUVJTlZBTDsNCj4gKw0KPiArICAgICAgIGlmIChjaHVua19zaXpl
IDwgUEFHRV9TSVpFKQ0KPiArICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7DQo+ICsNCj4g
KyAgICAgICBpZiAoIWlzX3Bvd2VyX29mXzIoY2h1bmtfc2l6ZSkpDQo+ICsgICAgICAgICAgICAg
ICByZXR1cm4gLUVJTlZBTDsNCj4gKw0KPiArICAgICAgIHNpemUgPSByb3VuZF9kb3duKHNpemUs
IGNodW5rX3NpemUpOw0KPiArDQo+ICsgICAgICAgbW0tPnNpemUgPSBzaXplOw0KPiArICAgICAg
IG1tLT5jaHVua19zaXplID0gY2h1bmtfc2l6ZTsNCj4gKyAgICAgICBtbS0+bWF4X29yZGVyID0g
aWxvZzIoc2l6ZSkgLSBpbG9nMihjaHVua19zaXplKTsNCj4gKw0KPiArICAgICAgIEJVR19PTiht
bS0+bWF4X29yZGVyID4gRFJNX0JVRERZX01BWF9PUkRFUik7DQo+ICsNCj4gKyAgICAgICBtbS0+
c2xhYl9ibG9ja3MgPSBLTUVNX0NBQ0hFKGRybV9idWRkeV9ibG9jaywgDQo+ICsgU0xBQl9IV0NB
Q0hFX0FMSUdOKTsNCj4gKw0KPiArICAgICAgIGlmICghbW0tPnNsYWJfYmxvY2tzKQ0KPiArICAg
ICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07DQo+ICsNCj4gKyAgICAgICBtbS0+ZnJlZV9saXN0
ID0ga21hbGxvY19hcnJheShtbS0+bWF4X29yZGVyICsgMSwNCj4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBzaXplb2Yoc3RydWN0IGxpc3RfaGVhZCksDQo+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR0ZQX0tFUk5FTCk7DQo+ICsgICAgICAgaWYg
KCFtbS0+ZnJlZV9saXN0KQ0KPiArICAgICAgICAgICAgICAgZ290byBvdXRfZGVzdHJveV9zbGFi
Ow0KPiArDQo+ICsgICAgICAgZm9yIChpID0gMDsgaSA8PSBtbS0+bWF4X29yZGVyOyArK2kpDQo+
ICsgICAgICAgICAgICAgICBJTklUX0xJU1RfSEVBRCgmbW0tPmZyZWVfbGlzdFtpXSk7DQo+ICsN
Cj4gKyAgICAgICBtbS0+bl9yb290cyA9IGh3ZWlnaHQ2NChzaXplKTsNCj4gKw0KPiArICAgICAg
IG1tLT5yb290cyA9IGttYWxsb2NfYXJyYXkobW0tPm5fcm9vdHMsDQo+ICsgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBzaXplb2Yoc3RydWN0IGRybV9idWRkeV9ibG9jayAqKSwNCj4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdGUF9LRVJORUwpOw0KPiArICAgICAg
IGlmICghbW0tPnJvb3RzKQ0KPiArICAgICAgICAgICAgICAgZ290byBvdXRfZnJlZV9saXN0Ow0K
PiArDQo+ICsgICAgICAgb2Zmc2V0ID0gMDsNCj4gKyAgICAgICBpID0gMDsNCj4gKw0KPiArICAg
ICAgIC8qDQo+ICsgICAgICAgICogU3BsaXQgaW50byBwb3dlci1vZi10d28gYmxvY2tzLCBpbiBj
YXNlIHdlIGFyZSBnaXZlbiBhIHNpemUgdGhhdCBpcw0KPiArICAgICAgICAqIG5vdCBpdHNlbGYg
YSBwb3dlci1vZi10d28uDQo+ICsgICAgICAgICovDQo+ICsgICAgICAgZG8gew0KPiArICAgICAg
ICAgICAgICAgc3RydWN0IGRybV9idWRkeV9ibG9jayAqcm9vdDsNCj4gKyAgICAgICAgICAgICAg
IHVuc2lnbmVkIGludCBvcmRlcjsNCj4gKyAgICAgICAgICAgICAgIHU2NCByb290X3NpemU7DQo+
ICsNCj4gKyAgICAgICAgICAgICAgIHJvb3Rfc2l6ZSA9IHJvdW5kZG93bl9wb3dfb2ZfdHdvKHNp
emUpOw0KPiArICAgICAgICAgICAgICAgb3JkZXIgPSBpbG9nMihyb290X3NpemUpIC0gaWxvZzIo
Y2h1bmtfc2l6ZSk7DQo+ICsNCj4gKyAgICAgICAgICAgICAgIHJvb3QgPSBkcm1fYmxvY2tfYWxs
b2MobW0sIE5VTEwsIG9yZGVyLCBvZmZzZXQpOw0KPiArICAgICAgICAgICAgICAgaWYgKCFyb290
KQ0KPiArICAgICAgICAgICAgICAgICAgICAgICBnb3RvIG91dF9mcmVlX3Jvb3RzOw0KPiArDQo+
ICsgICAgICAgICAgICAgICBtYXJrX2ZyZWUobW0sIHJvb3QpOw0KPiArDQo+ICsgICAgICAgICAg
ICAgICBCVUdfT04oaSA+IG1tLT5tYXhfb3JkZXIpOw0KPiArICAgICAgICAgICAgICAgQlVHX09O
KGRybV9idWRkeV9ibG9ja19zaXplKG1tLCByb290KSA8IGNodW5rX3NpemUpOw0KPiArDQo+ICsg
ICAgICAgICAgICAgICBtbS0+cm9vdHNbaV0gPSByb290Ow0KPiArDQo+ICsgICAgICAgICAgICAg
ICBvZmZzZXQgKz0gcm9vdF9zaXplOw0KPiArICAgICAgICAgICAgICAgc2l6ZSAtPSByb290X3Np
emU7DQo+ICsgICAgICAgICAgICAgICBpKys7DQo+ICsgICAgICAgfSB3aGlsZSAoc2l6ZSk7DQo+
ICsNCj4gKyAgICAgICByZXR1cm4gMDsNCj4gKw0KPiArb3V0X2ZyZWVfcm9vdHM6DQo+ICsgICAg
ICAgd2hpbGUgKGktLSkNCj4gKyAgICAgICAgICAgICAgIGRybV9ibG9ja19mcmVlKG1tLCBtbS0+
cm9vdHNbaV0pOw0KPiArICAgICAgIGtmcmVlKG1tLT5yb290cyk7DQo+ICtvdXRfZnJlZV9saXN0
Og0KPiArICAgICAgIGtmcmVlKG1tLT5mcmVlX2xpc3QpOw0KPiArb3V0X2Rlc3Ryb3lfc2xhYjoN
Cj4gKyAgICAgICBrbWVtX2NhY2hlX2Rlc3Ryb3kobW0tPnNsYWJfYmxvY2tzKTsNCj4gKyAgICAg
ICByZXR1cm4gLUVOT01FTTsNCj4gK30NCj4gK0VYUE9SVF9TWU1CT0woZHJtX2J1ZGR5X2luaXQp
Ow0KPiArDQo+ICt2b2lkIGRybV9idWRkeV9maW5pKHN0cnVjdCBkcm1fYnVkZHlfbW0gKm1tKSB7
DQo+ICsgICAgICAgaW50IGk7DQo+ICsNCj4gKyAgICAgICBmb3IgKGkgPSAwOyBpIDwgbW0tPm5f
cm9vdHM7ICsraSkgew0KPiArICAgICAgICAgICAgICAgV0FSTl9PTighZHJtX2J1ZGR5X2Jsb2Nr
X2lzX2ZyZWUobW0tPnJvb3RzW2ldKSk7DQo+ICsgICAgICAgICAgICAgICBkcm1fYmxvY2tfZnJl
ZShtbSwgbW0tPnJvb3RzW2ldKTsNCj4gKyAgICAgICB9DQo+ICsNCj4gKyAgICAgICBrZnJlZSht
bS0+cm9vdHMpOw0KPiArICAgICAgIGtmcmVlKG1tLT5mcmVlX2xpc3QpOw0KPiArICAgICAgIGtt
ZW1fY2FjaGVfZGVzdHJveShtbS0+c2xhYl9ibG9ja3MpOw0KPiArfQ0KPiArRVhQT1JUX1NZTUJP
TChkcm1fYnVkZHlfZmluaSk7DQo+ICsNCj4gK3N0YXRpYyBpbnQgc3BsaXRfYmxvY2soc3RydWN0
IGRybV9idWRkeV9tbSAqbW0sDQo+ICsgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGRybV9i
dWRkeV9ibG9jayAqYmxvY2spIHsNCj4gKyAgICAgICB1bnNpZ25lZCBpbnQgYmxvY2tfb3JkZXIg
PSBkcm1fYnVkZHlfYmxvY2tfb3JkZXIoYmxvY2spIC0gMTsNCj4gKyAgICAgICB1NjQgb2Zmc2V0
ID0gZHJtX2J1ZGR5X2Jsb2NrX29mZnNldChibG9jayk7DQo+ICsNCj4gKyAgICAgICBCVUdfT04o
IWRybV9idWRkeV9ibG9ja19pc19mcmVlKGJsb2NrKSk7DQo+ICsgICAgICAgQlVHX09OKCFkcm1f
YnVkZHlfYmxvY2tfb3JkZXIoYmxvY2spKTsNCj4gKw0KPiArICAgICAgIGJsb2NrLT5sZWZ0ID0g
ZHJtX2Jsb2NrX2FsbG9jKG1tLCBibG9jaywgYmxvY2tfb3JkZXIsIG9mZnNldCk7DQo+ICsgICAg
ICAgaWYgKCFibG9jay0+bGVmdCkNCj4gKyAgICAgICAgICAgICAgIHJldHVybiAtRU5PTUVNOw0K
PiArDQo+ICsgICAgICAgYmxvY2stPnJpZ2h0ID0gZHJtX2Jsb2NrX2FsbG9jKG1tLCBibG9jaywg
YmxvY2tfb3JkZXIsDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBv
ZmZzZXQgKyAobW0tPmNodW5rX3NpemUgPDwgYmxvY2tfb3JkZXIpKTsNCj4gKyAgICAgICBpZiAo
IWJsb2NrLT5yaWdodCkgew0KPiArICAgICAgICAgICAgICAgZHJtX2Jsb2NrX2ZyZWUobW0sIGJs
b2NrLT5sZWZ0KTsNCj4gKyAgICAgICAgICAgICAgIHJldHVybiAtRU5PTUVNOw0KPiArICAgICAg
IH0NCj4gKw0KPiArICAgICAgIG1hcmtfZnJlZShtbSwgYmxvY2stPmxlZnQpOw0KPiArICAgICAg
IG1hcmtfZnJlZShtbSwgYmxvY2stPnJpZ2h0KTsNCj4gKw0KPiArICAgICAgIG1hcmtfc3BsaXQo
YmxvY2spOw0KPiArDQo+ICsgICAgICAgcmV0dXJuIDA7DQo+ICt9DQo+ICsNCj4gK3N0YXRpYyBz
dHJ1Y3QgZHJtX2J1ZGR5X2Jsb2NrICoNCj4gK2dldF9idWRkeShzdHJ1Y3QgZHJtX2J1ZGR5X2Js
b2NrICpibG9jaykgew0KPiArICAgICAgIHN0cnVjdCBkcm1fYnVkZHlfYmxvY2sgKnBhcmVudDsN
Cj4gKw0KPiArICAgICAgIHBhcmVudCA9IGJsb2NrLT5wYXJlbnQ7DQo+ICsgICAgICAgaWYgKCFw
YXJlbnQpDQo+ICsgICAgICAgICAgICAgICByZXR1cm4gTlVMTDsNCj4gKw0KPiArICAgICAgIGlm
IChwYXJlbnQtPmxlZnQgPT0gYmxvY2spDQo+ICsgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50
LT5yaWdodDsNCj4gKw0KPiArICAgICAgIHJldHVybiBwYXJlbnQtPmxlZnQ7DQo+ICt9DQo+ICsN
Cj4gK3N0YXRpYyB2b2lkIF9fZHJtX2J1ZGR5X2ZyZWUoc3RydWN0IGRybV9idWRkeV9tbSAqbW0s
DQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkcm1fYnVkZHlfYmxvY2sg
KmJsb2NrKSB7DQo+ICsgICAgICAgc3RydWN0IGRybV9idWRkeV9ibG9jayAqcGFyZW50Ow0KPiAr
DQo+ICsgICAgICAgd2hpbGUgKChwYXJlbnQgPSBibG9jay0+cGFyZW50KSkgew0KPiArICAgICAg
ICAgICAgICAgc3RydWN0IGRybV9idWRkeV9ibG9jayAqYnVkZHk7DQo+ICsNCj4gKyAgICAgICAg
ICAgICAgIGJ1ZGR5ID0gZ2V0X2J1ZGR5KGJsb2NrKTsNCj4gKw0KPiArICAgICAgICAgICAgICAg
aWYgKCFkcm1fYnVkZHlfYmxvY2tfaXNfZnJlZShidWRkeSkpDQo+ICsgICAgICAgICAgICAgICAg
ICAgICAgIGJyZWFrOw0KPiArDQo+ICsgICAgICAgICAgICAgICBsaXN0X2RlbCgmYnVkZHktPmxp
bmspOw0KPiArDQo+ICsgICAgICAgICAgICAgICBkcm1fYmxvY2tfZnJlZShtbSwgYmxvY2spOw0K
PiArICAgICAgICAgICAgICAgZHJtX2Jsb2NrX2ZyZWUobW0sIGJ1ZGR5KTsNCj4gKw0KPiArICAg
ICAgICAgICAgICAgYmxvY2sgPSBwYXJlbnQ7DQo+ICsgICAgICAgfQ0KPiArDQo+ICsgICAgICAg
bWFya19mcmVlKG1tLCBibG9jayk7DQo+ICt9DQo+ICsNCj4gK3ZvaWQgZHJtX2J1ZGR5X2ZyZWUo
c3RydWN0IGRybV9idWRkeV9tbSAqbW0sDQo+ICsgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBk
cm1fYnVkZHlfYmxvY2sgKmJsb2NrKSB7DQo+ICsgICAgICAgQlVHX09OKCFkcm1fYnVkZHlfYmxv
Y2tfaXNfYWxsb2NhdGVkKGJsb2NrKSk7DQo+ICsgICAgICAgX19kcm1fYnVkZHlfZnJlZShtbSwg
YmxvY2spOw0KPiArfQ0KPiArRVhQT1JUX1NZTUJPTChkcm1fYnVkZHlfZnJlZSk7DQo+ICsNCj4g
K3ZvaWQgZHJtX2J1ZGR5X2ZyZWVfbGlzdChzdHJ1Y3QgZHJtX2J1ZGR5X21tICptbSwgc3RydWN0
IGxpc3RfaGVhZCANCj4gKypvYmplY3RzKSB7DQo+ICsgICAgICAgc3RydWN0IGRybV9idWRkeV9i
bG9jayAqYmxvY2ssICpvbjsNCj4gKw0KPiArICAgICAgIGxpc3RfZm9yX2VhY2hfZW50cnlfc2Fm
ZShibG9jaywgb24sIG9iamVjdHMsIGxpbmspIHsNCj4gKyAgICAgICAgICAgICAgIGRybV9idWRk
eV9mcmVlKG1tLCBibG9jayk7DQo+ICsgICAgICAgICAgICAgICBjb25kX3Jlc2NoZWQoKTsNCj4g
KyAgICAgICB9DQo+ICsgICAgICAgSU5JVF9MSVNUX0hFQUQob2JqZWN0cyk7DQo+ICt9DQo+ICtF
WFBPUlRfU1lNQk9MKGRybV9idWRkeV9mcmVlX2xpc3QpOw0KPiArDQo+ICsvKg0KPiArICogQWxs
b2NhdGUgcG93ZXItb2YtdHdvIGJsb2NrLiBUaGUgb3JkZXIgdmFsdWUgaGVyZSB0cmFuc2xhdGVz
IHRvOg0KPiArICoNCj4gKyAqICAgMCA9IDJeMCAqIG1tLT5jaHVua19zaXplDQo+ICsgKiAgIDEg
PSAyXjEgKiBtbS0+Y2h1bmtfc2l6ZQ0KPiArICogICAyID0gMl4yICogbW0tPmNodW5rX3NpemUN
Cj4gKyAqICAgLi4uDQo+ICsgKi8NCj4gK3N0cnVjdCBkcm1fYnVkZHlfYmxvY2sgKg0KPiArZHJt
X2J1ZGR5X2FsbG9jKHN0cnVjdCBkcm1fYnVkZHlfbW0gKm1tLCB1bnNpZ25lZCBpbnQgb3JkZXIs
DQo+ICsgICAgICAgICAgICAgICBib29sIGJhcl9lbmFibGVkLCB1bnNpZ25lZCBpbnQgbGltaXQs
DQo+ICsgICAgICAgICAgICAgICBlbnVtIGRybV9idWRkeV9hbGxvY19tb2RlIG1vZGUpIHsNCj4g
KyAgICAgICBzdHJ1Y3QgZHJtX2J1ZGR5X2Jsb2NrICpibG9jayA9IE5VTEw7DQo+ICsgICAgICAg
dW5zaWduZWQgaW50IHBhZ2VzOw0KPiArICAgICAgIHVuc2lnbmVkIGludCBpOw0KPiArICAgICAg
IGludCBlcnI7DQo+ICsNCj4gKyAgICAgICBwYWdlcyA9IChtbS0+Y2h1bmtfc2l6ZSA8PCBvcmRl
cikgPj4gUEFHRV9TSElGVDsNCj4gKw0KPiArICAgICAgIGZvciAoaSA9IG9yZGVyOyBpIDw9IG1t
LT5tYXhfb3JkZXI7ICsraSkgew0KPiArICAgICAgICAgICAgICAgaWYgKG1vZGUgPT0gRFJNX0JV
RERZX1RPUF9ET1dOKSB7DQo+ICsgICAgICAgICAgICAgICAgICAgICAgIGlmICghbGlzdF9lbXB0
eSgmbW0tPmZyZWVfbGlzdFtpXSkpIHsNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBibG9jayA9IGxpc3RfZmlyc3RfZW50cnkoJm1tLT5mcmVlX2xpc3RbaV0sDQo+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCANCj4gKyBkcm1f
YnVkZHlfYmxvY2ssIGxpbmspOw0KPiArDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgaWYgKGJhcl9lbmFibGVkKSB7DQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBpZiAoIShibG9jay0+c3RhcnQgPiBsaW1pdCkpDQo+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KPiArICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIH0NCj4gKw0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIGJyZWFrOw0KPiArICAgICAgICAgICAgICAgICAgICAgICB9DQo+ICsgICAgICAgICAgICAg
ICB9IGVsc2UgaWYgKG1vZGUgPT0gRFJNX0JVRERZX0JPVFRPTV9VUCkgew0KPiArICAgICAgICAg
ICAgICAgICAgICAgICBpZiAoIWxpc3RfZW1wdHkoJm1tLT5mcmVlX2xpc3RbaV0pKSB7DQo+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2sgPSBsaXN0X2xhc3RfZW50cnkoJm1t
LT5mcmVlX2xpc3RbaV0sDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHN0cnVjdCANCj4gKyBkcm1fYnVkZHlfYmxvY2ssIGxpbmspOw0KPiArDQo+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJhcl9lbmFibGVkKSB7DQo+ICsgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShibG9jay0+c3RhcnQgPCBs
aW1pdCAmJg0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIChibG9jay0+c3RhcnQgKyBwYWdlcykgPCBsaW1pdCkpDQo+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KPiArICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIH0NCj4gKw0KPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGJyZWFrOw0KPiArICAgICAgICAgICAgICAgICAgICAgICB9DQo+ICsgICAgICAg
ICAgICAgICB9DQo+ICsgICAgICAgfQ0KPiArDQo+ICsgICAgICAgaWYgKCFibG9jaykNCj4gKyAg
ICAgICAgICAgICAgIHJldHVybiBFUlJfUFRSKC1FTk9TUEMpOw0KPiArDQo+ICsgICAgICAgQlVH
X09OKCFkcm1fYnVkZHlfYmxvY2tfaXNfZnJlZShibG9jaykpOw0KPiArDQo+ICsgICAgICAgd2hp
bGUgKGkgIT0gb3JkZXIpIHsNCj4gKyAgICAgICAgICAgICAgIGVyciA9IHNwbGl0X2Jsb2NrKG1t
LCBibG9jayk7DQo+ICsgICAgICAgICAgICAgICBpZiAodW5saWtlbHkoZXJyKSkNCj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgZ290byBvdXRfZnJlZTsNCj4gKw0KPiArICAgICAgICAgICAgICAg
LyogR28gbG93ICovDQo+ICsgICAgICAgICAgICAgICBpZiAobW9kZSA9PSBEUk1fQlVERFlfVE9Q
X0RPV04pDQo+ICsgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrID0gYmxvY2stPnJpZ2h0Ow0K
PiArICAgICAgICAgICAgICAgZWxzZQ0KPiArICAgICAgICAgICAgICAgICAgICAgICBibG9jayA9
IGJsb2NrLT5sZWZ0Ow0KPiArICAgICAgICAgICAgICAgaS0tOw0KPiArICAgICAgIH0NCj4gKw0K
PiArICAgICAgIGlmIChtb2RlID09IERSTV9CVUREWV9UT1BfRE9XTiAmJiBiYXJfZW5hYmxlZCkg
ew0KPiArICAgICAgICAgICAgICAgaWYgKCEoYmxvY2stPnN0YXJ0ID4gbGltaXQpKQ0KPiArICAg
ICAgICAgICAgICAgICAgICAgICByZXR1cm4gRVJSX1BUUigtRU5PU1BDKTsNCj4gKyAgICAgICB9
IGVsc2UgaWYgKG1vZGUgPT0gRFJNX0JVRERZX0JPVFRPTV9VUCAmJiBiYXJfZW5hYmxlZCkgew0K
PiArICAgICAgICAgICAgICAgaWYgKCEoYmxvY2stPnN0YXJ0IDwgbGltaXQgJiYNCj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAoYmxvY2stPnN0YXJ0ICsgcGFnZXMpIDwgbGltaXQp
KQ0KPiArICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRVJSX1BUUigtRU5PU1BDKTsNCj4g
KyAgICAgICB9DQo+ICsNCj4gKyAgICAgICBtYXJrX2FsbG9jYXRlZChibG9jayk7DQo+ICsgICAg
ICAga21lbWxlYWtfdXBkYXRlX3RyYWNlKGJsb2NrKTsNCj4gKyAgICAgICByZXR1cm4gYmxvY2s7
DQo+ICsNCj4gK291dF9mcmVlOg0KPiArICAgICAgIGlmIChpICE9IG9yZGVyKQ0KPiArICAgICAg
ICAgICAgICAgX19kcm1fYnVkZHlfZnJlZShtbSwgYmxvY2spOw0KPiArICAgICAgIHJldHVybiBF
UlJfUFRSKGVycik7DQo+ICt9DQo+ICtFWFBPUlRfU1lNQk9MKGRybV9idWRkeV9hbGxvYyk7DQo+
ICsNCj4gK3N0YXRpYyBpbmxpbmUgYm9vbCBvdmVybGFwcyh1NjQgczEsIHU2NCBlMSwgdTY0IHMy
LCB1NjQgZTIpIHsNCj4gKyAgICAgICByZXR1cm4gczEgPD0gZTIgJiYgZTEgPj0gczI7DQo+ICt9
DQo+ICsNCj4gK3N0YXRpYyBpbmxpbmUgYm9vbCBjb250YWlucyh1NjQgczEsIHU2NCBlMSwgdTY0
IHMyLCB1NjQgZTIpIHsNCj4gKyAgICAgICByZXR1cm4gczEgPD0gczIgJiYgZTEgPj0gZTI7DQo+
ICt9DQo+ICsNCj4gKy8qDQo+ICsgKiBBbGxvY2F0ZSByYW5nZS4gTm90ZSB0aGF0IGl0J3Mgc2Fm
ZSB0byBjaGFpbiB0b2dldGhlciBtdWx0aXBsZSANCj4gK2FsbG9jX3Jhbmdlcw0KPiArICogd2l0
aCB0aGUgc2FtZSBibG9ja3MgbGlzdC4NCj4gKyAqDQo+ICsgKiBJbnRlbmRlZCBmb3IgcHJlLWFs
bG9jYXRpbmcgcG9ydGlvbnMgb2YgdGhlIGFkZHJlc3Mgc3BhY2UsIGZvciANCj4gK2V4YW1wbGUg
dG8NCj4gKyAqIHJlc2VydmUgYSBibG9jayBmb3IgdGhlIGluaXRpYWwgZnJhbWVidWZmZXIgb3Ig
c2ltaWxhciwgaGVuY2UgdGhlIA0KPiArZXhwZWN0YXRpb24NCj4gKyAqIGhlcmUgaXMgdGhhdCBk
cm1fYnVkZHlfYWxsb2MoKSBpcyBzdGlsbCB0aGUgbWFpbiB2ZWhpY2xlIGZvcg0KPiArICogYWxs
b2NhdGlvbnMsIHNvIGlmIHRoYXQncyBub3QgdGhlIGNhc2UgdGhlbiB0aGUgZHJtX21tIHJhbmdl
IA0KPiArYWxsb2NhdG9yIGlzDQo+ICsgKiBwcm9iYWJseSBhIG11Y2ggYmV0dGVyIGZpdCwgYW5k
IHNvIHlvdSBzaG91bGQgcHJvYmFibHkgZ28gdXNlIHRoYXQgaW5zdGVhZC4NCj4gKyAqLw0KPiAr
aW50IGRybV9idWRkeV9hbGxvY19yYW5nZShzdHJ1Y3QgZHJtX2J1ZGR5X21tICptbSwNCj4gKyAg
ICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGxpc3RfaGVhZCAqYmxvY2tzLA0KPiArICAgICAg
ICAgICAgICAgICAgICAgICB1NjQgc3RhcnQsIHU2NCBzaXplKSB7DQo+ICsgICAgICAgc3RydWN0
IGRybV9idWRkeV9ibG9jayAqYmxvY2s7DQo+ICsgICAgICAgc3RydWN0IGRybV9idWRkeV9ibG9j
ayAqYnVkZHk7DQo+ICsgICAgICAgTElTVF9IRUFEKGFsbG9jYXRlZCk7DQo+ICsgICAgICAgTElT
VF9IRUFEKGRmcyk7DQo+ICsgICAgICAgdTY0IGVuZDsNCj4gKyAgICAgICBpbnQgZXJyOw0KPiAr
ICAgICAgIGludCBpOw0KPiArDQo+ICsgICAgICAgaWYgKHNpemUgPCBtbS0+Y2h1bmtfc2l6ZSkN
Cj4gKyAgICAgICAgICAgICAgIHJldHVybiAtRUlOVkFMOw0KPiArDQo+ICsgICAgICAgaWYgKCFJ
U19BTElHTkVEKHNpemUgfCBzdGFydCwgbW0tPmNodW5rX3NpemUpKQ0KPiArICAgICAgICAgICAg
ICAgcmV0dXJuIC1FSU5WQUw7DQo+ICsNCj4gKyAgICAgICBpZiAocmFuZ2Vfb3ZlcmZsb3dzKHN0
YXJ0LCBzaXplLCBtbS0+c2l6ZSkpDQo+ICsgICAgICAgICAgICAgICByZXR1cm4gLUVJTlZBTDsN
Cj4gKw0KPiArICAgICAgIGZvciAoaSA9IDA7IGkgPCBtbS0+bl9yb290czsgKytpKQ0KPiArICAg
ICAgICAgICAgICAgbGlzdF9hZGRfdGFpbCgmbW0tPnJvb3RzW2ldLT50bXBfbGluaywgJmRmcyk7
DQo+ICsNCj4gKyAgICAgICBlbmQgPSBzdGFydCArIHNpemUgLSAxOw0KPiArDQo+ICsgICAgICAg
ZG8gew0KPiArICAgICAgICAgICAgICAgdTY0IGJsb2NrX3N0YXJ0Ow0KPiArICAgICAgICAgICAg
ICAgdTY0IGJsb2NrX2VuZDsNCj4gKw0KPiArICAgICAgICAgICAgICAgYmxvY2sgPSBsaXN0X2Zp
cnN0X2VudHJ5X29yX251bGwoJmRmcywNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkcm1fYnVkZHlfYmxvY2ssDQo+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBfbGluayk7DQo+ICsgICAg
ICAgICAgICAgICBpZiAoIWJsb2NrKQ0KPiArICAgICAgICAgICAgICAgICAgICAgICBicmVhazsN
Cj4gKw0KPiArICAgICAgICAgICAgICAgbGlzdF9kZWwoJmJsb2NrLT50bXBfbGluayk7DQo+ICsN
Cj4gKyAgICAgICAgICAgICAgIGJsb2NrX3N0YXJ0ID0gZHJtX2J1ZGR5X2Jsb2NrX29mZnNldChi
bG9jayk7DQo+ICsgICAgICAgICAgICAgICBibG9ja19lbmQgPSBibG9ja19zdGFydCArIGRybV9i
dWRkeV9ibG9ja19zaXplKG1tLCANCj4gKyBibG9jaykgLSAxOw0KPiArDQo+ICsgICAgICAgICAg
ICAgICBpZiAoIW92ZXJsYXBzKHN0YXJ0LCBlbmQsIGJsb2NrX3N0YXJ0LCBibG9ja19lbmQpKQ0K
PiArICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsNCj4gKw0KPiArICAgICAgICAgICAg
ICAgaWYgKGRybV9idWRkeV9ibG9ja19pc19hbGxvY2F0ZWQoYmxvY2spKSB7DQo+ICsgICAgICAg
ICAgICAgICAgICAgICAgIGVyciA9IC1FTk9TUEM7DQo+ICsgICAgICAgICAgICAgICAgICAgICAg
IGdvdG8gZXJyX2ZyZWU7DQo+ICsgICAgICAgICAgICAgICB9DQo+ICsNCj4gKyAgICAgICAgICAg
ICAgIGlmIChjb250YWlucyhzdGFydCwgZW5kLCBibG9ja19zdGFydCwgYmxvY2tfZW5kKSkgew0K
PiArICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRybV9idWRkeV9ibG9ja19pc19mcmVlKGJs
b2NrKSkgew0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVyciA9IC1FTk9TUEM7
DQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ290byBlcnJfZnJlZTsNCj4gKyAg
ICAgICAgICAgICAgICAgICAgICAgfQ0KPiArDQo+ICsgICAgICAgICAgICAgICAgICAgICAgIG1h
cmtfYWxsb2NhdGVkKGJsb2NrKTsNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgbGlzdF9hZGRf
dGFpbCgmYmxvY2stPmxpbmssICZhbGxvY2F0ZWQpOw0KPiArICAgICAgICAgICAgICAgICAgICAg
ICBjb250aW51ZTsNCj4gKyAgICAgICAgICAgICAgIH0NCj4gKw0KPiArICAgICAgICAgICAgICAg
aWYgKCFkcm1fYnVkZHlfYmxvY2tfaXNfc3BsaXQoYmxvY2spKSB7DQo+ICsgICAgICAgICAgICAg
ICAgICAgICAgIGVyciA9IHNwbGl0X2Jsb2NrKG1tLCBibG9jayk7DQo+ICsgICAgICAgICAgICAg
ICAgICAgICAgIGlmICh1bmxpa2VseShlcnIpKQ0KPiArICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGdvdG8gZXJyX3VuZG87DQo+ICsgICAgICAgICAgICAgICB9DQo+ICsNCj4gKyAgICAg
ICAgICAgICAgIGxpc3RfYWRkKCZibG9jay0+cmlnaHQtPnRtcF9saW5rLCAmZGZzKTsNCj4gKyAg
ICAgICAgICAgICAgIGxpc3RfYWRkKCZibG9jay0+bGVmdC0+dG1wX2xpbmssICZkZnMpOw0KPiAr
ICAgICAgIH0gd2hpbGUgKDEpOw0KPiArDQo+ICsgICAgICAgbGlzdF9zcGxpY2VfdGFpbCgmYWxs
b2NhdGVkLCBibG9ja3MpOw0KPiArICAgICAgIHJldHVybiAwOw0KPiArDQo+ICtlcnJfdW5kbzoN
Cj4gKyAgICAgICAvKg0KPiArICAgICAgICAqIFdlIHJlYWxseSBkb24ndCB3YW50IHRvIGxlYXZl
IGFyb3VuZCBhIGJ1bmNoIG9mIHNwbGl0IGJsb2Nrcywgc2luY2UNCj4gKyAgICAgICAgKiBiaWdn
ZXIgaXMgYmV0dGVyLCBzbyBtYWtlIHN1cmUgd2UgbWVyZ2UgZXZlcnl0aGluZyBiYWNrIGJlZm9y
ZSB3ZQ0KPiArICAgICAgICAqIGZyZWUgdGhlIGFsbG9jYXRlZCBibG9ja3MuDQo+ICsgICAgICAg
ICovDQo+ICsgICAgICAgYnVkZHkgPSBnZXRfYnVkZHkoYmxvY2spOw0KPiArICAgICAgIGlmIChi
dWRkeSAmJg0KPiArICAgICAgICAgICAoZHJtX2J1ZGR5X2Jsb2NrX2lzX2ZyZWUoYmxvY2spICYm
DQo+ICsgICAgICAgICAgICBkcm1fYnVkZHlfYmxvY2tfaXNfZnJlZShidWRkeSkpKQ0KPiArICAg
ICAgICAgICAgICAgX19kcm1fYnVkZHlfZnJlZShtbSwgYmxvY2spOw0KPiArDQo+ICtlcnJfZnJl
ZToNCj4gKyAgICAgICBkcm1fYnVkZHlfZnJlZV9saXN0KG1tLCAmYWxsb2NhdGVkKTsNCj4gKyAg
ICAgICByZXR1cm4gZXJyOw0KPiArfQ0KPiArRVhQT1JUX1NZTUJPTChkcm1fYnVkZHlfYWxsb2Nf
cmFuZ2UpOw0KPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9kcm0vZHJtX2J1ZGR5LmggYi9pbmNsdWRl
L2RybS9kcm1fYnVkZHkuaCBuZXcgDQo+IGZpbGUgbW9kZSAxMDA2NDQgaW5kZXggMDAwMDAwMDAw
MDAwLi41MGU0ZDgxOWEzZGQNCj4gLS0tIC9kZXYvbnVsbA0KPiArKysgYi9pbmNsdWRlL2RybS9k
cm1fYnVkZHkuaA0KPiBAQCAtMCwwICsxLDE1NCBAQA0KPiArLyogU1BEWC1MaWNlbnNlLUlkZW50
aWZpZXI6IE1JVCAqLw0KPiArLyoNCj4gKyAqIENvcHlyaWdodCAgIDIwMjEgSW50ZWwgQ29ycG9y
YXRpb24gICovDQo+ICsNCj4gKyNpZm5kZWYgX19EUk1fQlVERFlfSF9fDQo+ICsjZGVmaW5lIF9f
RFJNX0JVRERZX0hfXw0KPiArDQo+ICsjaW5jbHVkZSA8bGludXgvYml0b3BzLmg+DQo+ICsjaW5j
bHVkZSA8bGludXgvbGlzdC5oPg0KPiArI2luY2x1ZGUgPGxpbnV4L3NsYWIuaD4NCj4gKyNpbmNs
dWRlIDxsaW51eC9zY2hlZC5oPg0KPiArDQo+ICsjZGVmaW5lIHJhbmdlX292ZXJmbG93cyhzdGFy
dCwgc2l6ZSwgbWF4KSAoeyBcDQo+ICsgICAgICAgdHlwZW9mKHN0YXJ0KSBzdGFydF9fID0gKHN0
YXJ0KTsgXA0KPiArICAgICAgIHR5cGVvZihzaXplKSBzaXplX18gPSAoc2l6ZSk7IFwNCj4gKyAg
ICAgICB0eXBlb2YobWF4KSBtYXhfXyA9IChtYXgpOyBcDQo+ICsgICAgICAgKHZvaWQpKCZzdGFy
dF9fID09ICZzaXplX18pOyBcDQo+ICsgICAgICAgKHZvaWQpKCZzdGFydF9fID09ICZtYXhfXyk7
IFwNCj4gKyAgICAgICBzdGFydF9fID49IG1heF9fIHx8IHNpemVfXyA+IG1heF9fIC0gc3RhcnRf
XzsgXA0KPiArfSkNCj4gKw0KPiArZW51bSBkcm1fYnVkZHlfYWxsb2NfbW9kZSB7DQo+ICsgICAg
ICAgIERSTV9CVUREWV9UT1BfRE9XTiA9IDAsDQo+ICsgICAgICAgIERSTV9CVUREWV9CT1RUT01f
VVAsDQo+ICsgICAgICAgIERSTV9CVUREWV9BTExPQ19SQU5HRQ0KPiArfTsNCj4gKw0KPiArc3Ry
dWN0IGRybV9idWRkeV9ibG9jayB7DQo+ICsjZGVmaW5lIERSTV9CVUREWV9IRUFERVJfT0ZGU0VU
IEdFTk1BU0tfVUxMKDYzLCAxMikgI2RlZmluZSANCj4gK0RSTV9CVUREWV9IRUFERVJfU1RBVEUg
IEdFTk1BU0tfVUxMKDExLCAxMCkNCj4gKyNkZWZpbmUgICBEUk1fQlVERFlfQUxMT0NBVEVEICAg
ICAoMSA8PCAxMCkNCj4gKyNkZWZpbmUgICBEUk1fQlVERFlfRlJFRSAgICAgICAgICAoMiA8PCAx
MCkNCj4gKyNkZWZpbmUgICBEUk1fQlVERFlfU1BMSVQgICAgICAgICAoMyA8PCAxMCkNCj4gKy8q
IEZyZWUgdG8gYmUgdXNlZCwgaWYgbmVlZGVkIGluIHRoZSBmdXR1cmUgKi8gI2RlZmluZSANCj4g
K0RSTV9CVUREWV9IRUFERVJfVU5VU0VEIEdFTk1BU0tfVUxMKDksIDYpICNkZWZpbmUgDQo+ICtE
Uk1fQlVERFlfSEVBREVSX09SREVSICBHRU5NQVNLX1VMTCg1LCAwKQ0KPiArICAgICAgIHU2NCBo
ZWFkZXI7DQo+ICsgICAgICAgLyogU3RvcmUgc3RhcnQgYW5kIHNpemUgZmllbGRzIGluIHBhZ2Vz
ICovDQo+ICsgICAgICAgdTY0IHN0YXJ0Ow0KPiArICAgICAgIHU2NCBzaXplOw0KPiArDQo+ICsg
ICAgICAgc3RydWN0IGRybV9idWRkeV9ibG9jayAqbGVmdDsNCj4gKyAgICAgICBzdHJ1Y3QgZHJt
X2J1ZGR5X2Jsb2NrICpyaWdodDsNCj4gKyAgICAgICBzdHJ1Y3QgZHJtX2J1ZGR5X2Jsb2NrICpw
YXJlbnQ7DQo+ICsNCj4gKyAgICAgICB2b2lkICpwcml2YXRlOyAvKiBvd25lZCBieSBjcmVhdG9y
ICovDQo+ICsNCj4gKyAgICAgICAvKg0KPiArICAgICAgICAqIFdoaWxlIHRoZSBibG9jayBpcyBh
bGxvY2F0ZWQgYnkgdGhlIHVzZXIgdGhyb3VnaCBkcm1fYnVkZHlfYWxsb2MqLA0KPiArICAgICAg
ICAqIHRoZSB1c2VyIGhhcyBvd25lcnNoaXAgb2YgdGhlIGxpbmssIGZvciBleGFtcGxlIHRvIG1h
aW50YWluIHdpdGhpbg0KPiArICAgICAgICAqIGEgbGlzdCwgaWYgc28gZGVzaXJlZC4gQXMgc29v
biBhcyB0aGUgYmxvY2sgaXMgZnJlZWQgd2l0aA0KPiArICAgICAgICAqIGRybV9idWRkeV9mcmVl
KiBvd25lcnNoaXAgaXMgZ2l2ZW4gYmFjayB0byB0aGUgbW0uDQo+ICsgICAgICAgICovDQo+ICsg
ICAgICAgc3RydWN0IGxpc3RfaGVhZCBsaW5rOw0KPiArICAgICAgIHN0cnVjdCBsaXN0X2hlYWQg
dG1wX2xpbms7DQo+ICt9Ow0KPiArDQo+ICsvKiBPcmRlci16ZXJvIG11c3QgYmUgYXQgbGVhc3Qg
UEFHRV9TSVpFICovICNkZWZpbmUgDQo+ICtEUk1fQlVERFlfTUFYX09SREVSICg2MyAtIFBBR0Vf
U0hJRlQpDQo+ICsNCj4gKy8qDQo+ICsgKiBCaW5hcnkgQnVkZHkgU3lzdGVtLg0KPiArICoNCj4g
KyAqIExvY2tpbmcgc2hvdWxkIGJlIGhhbmRsZWQgYnkgdGhlIHVzZXIsIGEgc2ltcGxlIG11dGV4
IGFyb3VuZA0KPiArICogZHJtX2J1ZGR5X2FsbG9jKiBhbmQgZHJtX2J1ZGR5X2ZyZWUqIHNob3Vs
ZCBzdWZmaWNlLg0KPiArICovDQo+ICtzdHJ1Y3QgZHJtX2J1ZGR5X21tIHsNCj4gKyAgICAgICBz
dHJ1Y3Qga21lbV9jYWNoZSAqc2xhYl9ibG9ja3M7DQo+ICsgICAgICAgLyogTWFpbnRhaW4gYSBm
cmVlIGxpc3QgZm9yIGVhY2ggb3JkZXIuICovDQo+ICsgICAgICAgc3RydWN0IGxpc3RfaGVhZCAq
ZnJlZV9saXN0Ow0KPiArDQo+ICsgICAgICAgLyoNCj4gKyAgICAgICAgKiBNYWludGFpbiBleHBs
aWNpdCBiaW5hcnkgdHJlZShzKSB0byB0cmFjayB0aGUgYWxsb2NhdGlvbiBvZiB0aGUNCj4gKyAg
ICAgICAgKiBhZGRyZXNzIHNwYWNlLiBUaGlzIGdpdmVzIHVzIGEgc2ltcGxlIHdheSBvZiBmaW5k
aW5nIGEgYnVkZHkgYmxvY2sNCj4gKyAgICAgICAgKiBhbmQgcGVyZm9ybWluZyB0aGUgcG90ZW50
aWFsbHkgcmVjdXJzaXZlIG1lcmdlIHN0ZXAgd2hlbiBmcmVlaW5nIGENCj4gKyAgICAgICAgKiBi
bG9jay4gIE5vZGVzIGFyZSBlaXRoZXIgYWxsb2NhdGVkIG9yIGZyZWUsIGluIHdoaWNoIGNhc2Ug
dGhleSB3aWxsDQo+ICsgICAgICAgICogYWxzbyBleGlzdCBvbiB0aGUgcmVzcGVjdGl2ZSBmcmVl
IGxpc3QuDQo+ICsgICAgICAgICovDQo+ICsgICAgICAgc3RydWN0IGRybV9idWRkeV9ibG9jayAq
KnJvb3RzOw0KPiArDQo+ICsgICAgICAgLyoNCj4gKyAgICAgICAgKiBBbnl0aGluZyBmcm9tIGhl
cmUgaXMgcHVibGljLCBhbmQgcmVtYWlucyBzdGF0aWMgZm9yIHRoZSBsaWZldGltZSBvZg0KPiAr
ICAgICAgICAqIHRoZSBtbS4gRXZlcnl0aGluZyBhYm92ZSBpcyBjb25zaWRlcmVkIGRvLW5vdC10
b3VjaC4NCj4gKyAgICAgICAgKi8NCj4gKyAgICAgICB1bnNpZ25lZCBpbnQgbl9yb290czsNCj4g
KyAgICAgICB1bnNpZ25lZCBpbnQgbWF4X29yZGVyOw0KPiArDQo+ICsgICAgICAgLyogTXVzdCBi
ZSBhdCBsZWFzdCBQQUdFX1NJWkUgKi8NCj4gKyAgICAgICB1NjQgY2h1bmtfc2l6ZTsNCj4gKyAg
ICAgICB1NjQgc2l6ZTsNCj4gK307DQo+ICsNCj4gK3N0YXRpYyBpbmxpbmUgdTY0DQo+ICtkcm1f
YnVkZHlfYmxvY2tfb2Zmc2V0KHN0cnVjdCBkcm1fYnVkZHlfYmxvY2sgKmJsb2NrKSB7DQo+ICsg
ICAgICAgcmV0dXJuIGJsb2NrLT5oZWFkZXIgJiBEUk1fQlVERFlfSEVBREVSX09GRlNFVDsgfQ0K
PiArDQo+ICtzdGF0aWMgaW5saW5lIHVuc2lnbmVkIGludA0KPiArZHJtX2J1ZGR5X2Jsb2NrX29y
ZGVyKHN0cnVjdCBkcm1fYnVkZHlfYmxvY2sgKmJsb2NrKSB7DQo+ICsgICAgICAgcmV0dXJuIGJs
b2NrLT5oZWFkZXIgJiBEUk1fQlVERFlfSEVBREVSX09SREVSOyB9DQo+ICsNCj4gK3N0YXRpYyBp
bmxpbmUgdW5zaWduZWQgaW50DQo+ICtkcm1fYnVkZHlfYmxvY2tfc3RhdGUoc3RydWN0IGRybV9i
dWRkeV9ibG9jayAqYmxvY2spIHsNCj4gKyAgICAgICByZXR1cm4gYmxvY2stPmhlYWRlciAmIERS
TV9CVUREWV9IRUFERVJfU1RBVEU7IH0NCj4gKw0KPiArc3RhdGljIGlubGluZSBib29sDQo+ICtk
cm1fYnVkZHlfYmxvY2tfaXNfYWxsb2NhdGVkKHN0cnVjdCBkcm1fYnVkZHlfYmxvY2sgKmJsb2Nr
KSB7DQo+ICsgICAgICAgcmV0dXJuIGRybV9idWRkeV9ibG9ja19zdGF0ZShibG9jaykgPT0gRFJN
X0JVRERZX0FMTE9DQVRFRDsgfQ0KPiArDQo+ICtzdGF0aWMgaW5saW5lIGJvb2wNCj4gK2RybV9i
dWRkeV9ibG9ja19pc19mcmVlKHN0cnVjdCBkcm1fYnVkZHlfYmxvY2sgKmJsb2NrKSB7DQo+ICsg
ICAgICAgcmV0dXJuIGRybV9idWRkeV9ibG9ja19zdGF0ZShibG9jaykgPT0gRFJNX0JVRERZX0ZS
RUU7IH0NCj4gKw0KPiArc3RhdGljIGlubGluZSBib29sDQo+ICtkcm1fYnVkZHlfYmxvY2tfaXNf
c3BsaXQoc3RydWN0IGRybV9idWRkeV9ibG9jayAqYmxvY2spIHsNCj4gKyAgICAgICByZXR1cm4g
ZHJtX2J1ZGR5X2Jsb2NrX3N0YXRlKGJsb2NrKSA9PSBEUk1fQlVERFlfU1BMSVQ7IH0NCj4gKw0K
PiArc3RhdGljIGlubGluZSB1NjQNCj4gK2RybV9idWRkeV9ibG9ja19zaXplKHN0cnVjdCBkcm1f
YnVkZHlfbW0gKm1tLA0KPiArICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGRybV9idWRkeV9i
bG9jayAqYmxvY2spIHsNCj4gKyAgICAgICByZXR1cm4gbW0tPmNodW5rX3NpemUgPDwgZHJtX2J1
ZGR5X2Jsb2NrX29yZGVyKGJsb2NrKTsgfQ0KPiArDQo+ICtpbnQgZHJtX2J1ZGR5X2luaXQoc3Ry
dWN0IGRybV9idWRkeV9tbSAqbW0sIHU2NCBzaXplLCB1NjQgDQo+ICtjaHVua19zaXplKTsNCj4g
Kw0KPiArdm9pZCBkcm1fYnVkZHlfZmluaShzdHJ1Y3QgZHJtX2J1ZGR5X21tICptbSk7DQo+ICsN
Cj4gK3N0cnVjdCBkcm1fYnVkZHlfYmxvY2sgKg0KPiArZHJtX2J1ZGR5X2FsbG9jKHN0cnVjdCBk
cm1fYnVkZHlfbW0gKm1tLCB1bnNpZ25lZCBpbnQgb3JkZXIsDQo+ICsgICAgICAgICAgICAgICBi
b29sIGJhcl9saW1pdF9lbmFibGVkLCB1bnNpZ25lZCBpbnQgbGltaXQsDQo+ICsgICAgICAgICAg
ICAgICBlbnVtIGRybV9idWRkeV9hbGxvY19tb2RlIG1vZGUpOw0KPiArDQo+ICtpbnQgZHJtX2J1
ZGR5X2FsbG9jX3JhbmdlKHN0cnVjdCBkcm1fYnVkZHlfbW0gKm1tLA0KPiArICAgICAgICAgICAg
ICAgICAgICAgICAgICBzdHJ1Y3QgbGlzdF9oZWFkICpibG9ja3MsDQo+ICsgICAgICAgICAgICAg
ICAgICAgICAgICAgIHU2NCBzdGFydCwgdTY0IHNpemUpOw0KPiArDQo+ICt2b2lkIGRybV9idWRk
eV9mcmVlKHN0cnVjdCBkcm1fYnVkZHlfbW0gKm1tLCBzdHJ1Y3QgZHJtX2J1ZGR5X2Jsb2NrIA0K
PiArKmJsb2NrKTsNCj4gKw0KPiArdm9pZCBkcm1fYnVkZHlfZnJlZV9saXN0KHN0cnVjdCBkcm1f
YnVkZHlfbW0gKm1tLCBzdHJ1Y3QgbGlzdF9oZWFkIA0KPiArKm9iamVjdHMpOw0KPiArDQo+ICsj
ZW5kaWYNCj4gLS0NCj4gMi4yNS4xDQo+DQo=
