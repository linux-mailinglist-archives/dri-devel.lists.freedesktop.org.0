Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id C926F10F029
	for <lists+dri-devel@lfdr.de>; Mon,  2 Dec 2019 20:33:28 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 396DB6E2D1;
	Mon,  2 Dec 2019 19:33:25 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-lf1-x141.google.com (mail-lf1-x141.google.com
 [IPv6:2a00:1450:4864:20::141])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B83056E2D1
 for <dri-devel@lists.freedesktop.org>; Mon,  2 Dec 2019 19:33:22 +0000 (UTC)
Received: by mail-lf1-x141.google.com with SMTP id n25so821226lfl.0
 for <dri-devel@lists.freedesktop.org>; Mon, 02 Dec 2019 11:33:22 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:sender:from:to:cc:subject:date:message-id
 :in-reply-to:references:mime-version:content-transfer-encoding;
 bh=cUTzFjSkhPvKIjHfgaW+3dU8qPyEiQhg7QrWSOQxxds=;
 b=p0jfRzr9U00eqAg1J0frcXR4hb3BGpWRVw2QlhuunSw5VO496SbHQHepjmy30jT+I1
 NB709/Udh6FwkHOkIxHGAdIzttv//UjqLkrpXnrm1OHLwYVZhIJbW2+ksbbdLxKhaZMq
 pi56SJcxTXhkp7fcS5xgqUAPt/bRKTiso3fGUIG9BLDS6zl7Vuqc5Zbl1/lO7YqQWy6j
 JJ3D4FeCsnWeokN3NZ47vpT2QcDXKDC6pGeIMl2ULoWhdSLMhbsxSty7pUfWiz/V9vtH
 SaFC8XxhQZd3upTgKt5isNICaIBrf7bvCyzODMHDWu6EBReTGOqgvsQhZUjcOYlky3Qo
 Fsyw==
X-Gm-Message-State: APjAAAWqGMOX7lUkfDm+u7nRZa4CMMaGazQVCVYbTCx17k2m9ZxG3nAc
 Wth2yIyenAGAKwFBCfHaTdZLhZuIMpo2sQ==
X-Google-Smtp-Source: APXvYqxDivsLTGqUy8E+4QLYOaFwLc0lTC7gki6WbsjLScE0NDfvyPcXclehez7O6GIVOJ4HKvmt5w==
X-Received: by 2002:a19:8a41:: with SMTP id m62mr458601lfd.66.1575315200494;
 Mon, 02 Dec 2019 11:33:20 -0800 (PST)
Received: from saturn.lan (18.158-248-194.customer.lyse.net. [158.248.194.18])
 by smtp.gmail.com with ESMTPSA id
 g13sm79482lfb.74.2019.12.02.11.33.18
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Mon, 02 Dec 2019 11:33:19 -0800 (PST)
From: Sam Ravnborg <sam@ravnborg.org>
To: dri-devel@lists.freedesktop.org, Thierry Reding <thierry.reding@gmail.com>,
 Laurent Pinchart <laurent.pinchart@ideasonboard.com>
Subject: [PATCH v1 08/26] drm/panel: drop drm_device from drm_panel
Date: Mon,  2 Dec 2019 20:32:12 +0100
Message-Id: <20191202193230.21310-9-sam@ravnborg.org>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20191202193230.21310-1-sam@ravnborg.org>
References: <20191202193230.21310-1-sam@ravnborg.org>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=sender:from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=cUTzFjSkhPvKIjHfgaW+3dU8qPyEiQhg7QrWSOQxxds=;
 b=Df/jOSR//JLom2FDd30mlnq/8HoMnWExK6b816JtVTPBGkgbXdYEoeAQmCCo+D6DLu
 1AMxozEK7QuZrJqR5eVFnls1AMqjaOBX0Q4QtPqrag2W5Xgp4hN+8Q9WkUki8XJj7/sw
 HU7pnWG5BBaX+7ks5qve6g7fqfqqmc7MjI7CG9tJ8j3Ybe31ZIvcmh+PmHG4UZM0SKfK
 3+WSGvJSMavONUEdR3zTF1+WM+3sDHVC0xbpgvHEGWLlQIDKknEKExjjtrYLDDpdfZpP
 eQkM/1oz6hk9ULniCqGzTQEC5ftExv1LuiyngDFjllSXlFE0uttBr84gU8Ww79tWxERK
 DtNg==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Neil Armstrong <narmstrong@baylibre.com>, David Airlie <airlied@linux.ie>,
 Laurent Pinchart <Laurent.pinchart@ideasonboard.com>,
 Sam Ravnborg <sam@ravnborg.org>, linux-samsung-soc@vger.kernel.org,
 Stefan Mavrodiev <stefan@olimex.com>, linux-rockchip@lists.infradead.org,
 Tomi Valkeinen <tomi.valkeinen@ti.com>,
 Jagan Teki <jagan@amarulasolutions.com>, Robert Chiras <robert.chiras@nxp.com>,
 =?UTF-8?q?Guido=20G=C3=BCnther?= <agx@sigxcpu.org>,
 NXP Linux Team <linux-imx@nxp.com>, Jitao Shi <jitao.shi@mediatek.com>,
 Pengutronix Kernel Team <kernel@pengutronix.de>,
 linux-mediatek@lists.infradead.org, Abhinav Kumar <abhinavk@codeaurora.org>,
 linux-tegra@vger.kernel.org, Sean Paul <sean@poorly.run>,
 linux-arm-kernel@lists.infradead.org, Purism Kernel Team <kernel@puri.sm>,
 linux-renesas-soc@vger.kernel.org,
 Boris Brezillon <boris.brezillon@collabora.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIHBhbmVsIGRyaXZlcnMgdXNlZCBkcm1fcGFuZWwuZHJtIGZvciB0d28gcHVycG9zZXM6CjEp
IEFyZ3VtZW50IHRvIGRybV9tb2RlX2R1cGxpY2F0ZSgpCjIpIGRybS0+ZGV2IHdhcyB1c2VkIGlu
IGVycm9yIG1lc3NhZ2VzCgpUaGUgZmlyc3QgdXNhZ2UgaXMgcmVwbGFjZWQgd2l0aCBkcm1fY29u
bmVjdG9yLmRldgotIGRybV9jb25uZWN0b3IgaXMgYWxyZWFkeSBjb25uZWN0ZWQgdG8gYSBkcm1f
ZGV2aWNlCiAgYW5kIHdlIGhhdmUgYSB2YWxpZCBjb25uZWN0b3IKClRoZSBzZWNvbmQgdXNhZ2Ug
aXMgcmVwbGFjZWQgd2l0aCBkcm1fcGFuZWwuZGV2Ci0gdGhpcyBtYWtlcyBkcml2ZXJzIG1vcmUg
Y29uc2lzdGVudCBpbiB0aGVpciBkZXYgYXJndW1lbnQKICB1c2VkIGZvciBkZXZfZXJyKCkgYW5k
IGZyaWVuZHMKCldpdGggdGhlc2UgcmVwbGFjZW1lbnRzIHRoZXJlIGFyZSBubyBtb3JlIHVzZXMg
b2YgZHJtX3BhbmVsLmRybSwKc28gaXQgaXMgcmVtb3ZlZCBmcm9tIHN0cnVjdCBkcm1fcGFuZWwu
CldpdGggdGhpcyBjaGFuZ2UgZHJtX3BhbmVsX2F0dGFjaCgpIGFuZCBkcm1fcGFuZWxfZGV0YWNo
KCkKbm8gbG9nbmVyIGhhcyBhbnkgdXNlIGFzIHRoZXkgYXJlIGVtcHR5IGZ1bmN0aW9ucy4KClNp
Z25lZC1vZmYtYnk6IFNhbSBSYXZuYm9yZyA8c2FtQHJhdm5ib3JnLm9yZz4KQ2M6IFRoaWVycnkg
UmVkaW5nIDx0aGllcnJ5LnJlZGluZ0BnbWFpbC5jb20+CkNjOiBMYXVyZW50IFBpbmNoYXJ0IDxM
YXVyZW50LnBpbmNoYXJ0QGlkZWFzb25ib2FyZC5jb20+CkNjOiBTYW0gUmF2bmJvcmcgPHNhbUBy
YXZuYm9yZy5vcmc+CkNjOiBNYWFydGVuIExhbmtob3JzdCA8bWFhcnRlbi5sYW5raG9yc3RAbGlu
dXguaW50ZWwuY29tPgpDYzogTWF4aW1lIFJpcGFyZCA8bXJpcGFyZEBrZXJuZWwub3JnPgpDYzog
RGF2aWQgQWlybGllIDxhaXJsaWVkQGxpbnV4LmllPgpDYzogRGFuaWVsIFZldHRlciA8ZGFuaWVs
QGZmd2xsLmNoPgpDYzogTGludXMgV2FsbGVpaiA8bGludXMud2FsbGVpakBsaW5hcm8ub3JnPgpD
YzogSmFnYW4gVGVraSA8amFnYW5AYW1hcnVsYXNvbHV0aW9ucy5jb20+CkNjOiBTdGVmYW4gTWF2
cm9kaWV2IDxzdGVmYW5Ab2xpbWV4LmNvbT4KQ2M6IFJvYmVydCBDaGlyYXMgPHJvYmVydC5jaGly
YXNAbnhwLmNvbT4KQ2M6ICJHdWlkbyBHw7xudGhlciIgPGFneEBzaWd4Y3B1Lm9yZz4KQ2M6IFB1
cmlzbSBLZXJuZWwgVGVhbSA8a2VybmVsQHB1cmkuc20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2Ry
bV9wYW5lbC5jICAgICAgICAgICAgICAgICAgICAgICB8ICA2IC0tLS0tLQogZHJpdmVycy9ncHUv
ZHJtL3BhbmVsL3BhbmVsLWFybS12ZXJzYXRpbGUuYyAgICAgICB8ICAyICstCiAuLi4vZ3B1L2Ry
bS9wYW5lbC9wYW5lbC1mZWl5YW5nLWZ5MDcwMjRkaTI2YTMwZC5jIHwgIDIgKy0KIGRyaXZlcnMv
Z3B1L2RybS9wYW5lbC9wYW5lbC1pbGl0ZWstaWxpOTMyMi5jICAgICAgfCAxNSArKysrKysrKy0t
LS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1pbGl0ZWstaWxpOTg4MWMuYyAgICAg
fCAgMiArLQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWlubm9sdXgtcDA3OXpjYS5jICAg
ICB8ICA2ICsrKy0tLQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWpkaS1sdDA3MG1lMDUw
MDAuYyAgICB8ICAyICstCiAuLi4vZ3B1L2RybS9wYW5lbC9wYW5lbC1raW5nZGlzcGxheS1rZDA5
N2QwNC5jICAgIHwgIDYgKysrLS0tCiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtbGctbGIw
MzVxMDIuYyAgICAgICAgIHwgIDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1sZy1s
ZzQ1NzMuYyAgICAgICAgICAgfCAgNCArKy0tCiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwt
bHZkcy5jICAgICAgICAgICAgICAgIHwgIDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5l
bC1uZWMtbmw4MDQ4aGwxMS5jICAgICAgfCAgMiArLQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3Bh
bmVsLW5vdmF0ZWstbnQzOTAxNi5jICAgICB8ICAyICstCiAuLi4vZ3B1L2RybS9wYW5lbC9wYW5l
bC1vbGltZXgtbGNkLW9saW51eGluby5jICAgIHwgIDUgKystLS0KIGRyaXZlcnMvZ3B1L2RybS9w
YW5lbC9wYW5lbC1vcmlzZXRlY2gtb3RtODAwOWEuYyAgfCAgMiArLQogLi4uL2dwdS9kcm0vcGFu
ZWwvcGFuZWwtb3NkLW9zZDEwMXQyNTg3LTUzdHMuYyAgICB8ICA0ICsrLS0KIC4uLi9ncHUvZHJt
L3BhbmVsL3BhbmVsLXBhbmFzb25pYy12dngxMGYwMzRuMDAuYyAgfCAgNCArKy0tCiAuLi4vZ3B1
L2RybS9wYW5lbC9wYW5lbC1yYXNwYmVycnlwaS10b3VjaHNjcmVlbi5jIHwgIDUgKystLS0KIGRy
aXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yYXlkaXVtLXJtNjcxOTEuYyAgICAgfCAgMiArLQog
ZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJheWRpdW0tcm02ODIwMC5jICAgICB8ICAyICst
CiAuLi4vZ3B1L2RybS9wYW5lbC9wYW5lbC1yb2NrdGVjaC1qaDA1N24wMDkwMC5jICAgIHwgIDIg
Ky0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yb25iby1yYjA3MGQzMC5jICAgICAgfCAg
MiArLQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZkMTZkMC5jICAgICB8
ICAyICstCiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ftc3VuZy1zNmUzaGEyLmMgICAg
IHwgIDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZTYzajB4MDMu
YyAgfCAgMiArLQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZlNjNtMC5j
ICAgICB8ICAyICstCiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Vpa28tNDN3dmYxZy5j
ICAgICAgIHwgIDkgKysrKy0tLS0tCiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2hhcnAt
bHExMDFyMXN4MDEuYyAgIHwgIDQgKystLQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNo
YXJwLWxzMDM3djdkdzAxLmMgICB8ICAyICstCiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwt
c2hhcnAtbHMwNDN0MWxlMDEuYyAgIHwgIDQgKystLQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3Bh
bmVsLXNpbXBsZS5jICAgICAgICAgICAgICB8IDE1ICsrKysrKy0tLS0tLS0tLQogZHJpdmVycy9n
cHUvZHJtL3BhbmVsL3BhbmVsLXNpdHJvbml4LXN0NzcwMS5jICAgICB8ICAyICstCiBkcml2ZXJz
L2dwdS9kcm0vcGFuZWwvcGFuZWwtc2l0cm9uaXgtc3Q3Nzg5di5jICAgIHwgIDQgKystLQogZHJp
dmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNvbnktYWN4NTY1YWttLmMgICAgICB8ICAyICstCiBk
cml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtdHBvLXRkMDI4dHRlYzEuYyAgICAgIHwgIDIgKy0K
IGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC10cG8tdGQwNDNtdGVhMS5jICAgICAgfCAgMiAr
LQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXRwby10cGcxMTAuYyAgICAgICAgICB8ICAy
ICstCiBpbmNsdWRlL2RybS9kcm1fcGFuZWwuaCAgICAgICAgICAgICAgICAgICAgICAgICAgIHwg
IDcgLS0tLS0tLQogMzggZmlsZXMgY2hhbmdlZCwgNjMgaW5zZXJ0aW9ucygrKSwgODEgZGVsZXRp
b25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2RybV9wYW5lbC5jIGIvZHJpdmVy
cy9ncHUvZHJtL2RybV9wYW5lbC5jCmluZGV4IGZkNDI4YjZkMjViMC4uZWFiNzkzNjZiZjFhIDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vZHJtX3BhbmVsLmMKKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2RybV9wYW5lbC5jCkBAIC0xMTMsMTEgKzExMyw2IEBAIEVYUE9SVF9TWU1CT0woZHJtX3Bh
bmVsX3JlbW92ZSk7CiAgKi8KIGludCBkcm1fcGFuZWxfYXR0YWNoKHN0cnVjdCBkcm1fcGFuZWwg
KnBhbmVsLCBzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogewotCWlmIChwYW5lbC0+
ZHJtKQotCQlyZXR1cm4gLUVCVVNZOwotCi0JcGFuZWwtPmRybSA9IGNvbm5lY3Rvci0+ZGV2Owot
CiAJcmV0dXJuIDA7CiB9CiBFWFBPUlRfU1lNQk9MKGRybV9wYW5lbF9hdHRhY2gpOwpAQCAtMTM0
LDcgKzEyOSw2IEBAIEVYUE9SVF9TWU1CT0woZHJtX3BhbmVsX2F0dGFjaCk7CiAgKi8KIHZvaWQg
ZHJtX3BhbmVsX2RldGFjaChzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKIHsKLQlwYW5lbC0+ZHJt
ID0gTlVMTDsKIH0KIEVYUE9SVF9TWU1CT0woZHJtX3BhbmVsX2RldGFjaCk7CiAKZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1hcm0tdmVyc2F0aWxlLmMgYi9kcml2ZXJz
L2dwdS9kcm0vcGFuZWwvcGFuZWwtYXJtLXZlcnNhdGlsZS5jCmluZGV4IDQxYWE5MWY2MDk3OS4u
NDE0NDRhNzNjOTgwIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtYXJt
LXZlcnNhdGlsZS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1hcm0tdmVyc2F0
aWxlLmMKQEAgLTI3MCw3ICsyNzAsNyBAQCBzdGF0aWMgaW50IHZlcnNhdGlsZV9wYW5lbF9nZXRf
bW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCiAJY29ubmVjdG9yLT5kaXNwbGF5X2luZm8u
aGVpZ2h0X21tID0gdnBhbmVsLT5wYW5lbF90eXBlLT5oZWlnaHRfbW07CiAJY29ubmVjdG9yLT5k
aXNwbGF5X2luZm8uYnVzX2ZsYWdzID0gdnBhbmVsLT5wYW5lbF90eXBlLT5idXNfZmxhZ3M7CiAK
LQltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKHBhbmVsLT5kcm0sICZ2cGFuZWwtPnBhbmVsX3R5
cGUtPm1vZGUpOworCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUoY29ubmVjdG9yLT5kZXYsICZ2
cGFuZWwtPnBhbmVsX3R5cGUtPm1vZGUpOwogCWRybV9tb2RlX3NldF9uYW1lKG1vZGUpOwogCW1v
ZGUtPnR5cGUgPSBEUk1fTU9ERV9UWVBFX0RSSVZFUiB8IERSTV9NT0RFX1RZUEVfUFJFRkVSUkVE
OwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtZmVpeWFuZy1meTA3
MDI0ZGkyNmEzMGQuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1mZWl5YW5nLWZ5MDcw
MjRkaTI2YTMwZC5jCmluZGV4IDM3ZDZiNzM5MDk1NC4uMDE1N2QxODQ0ZTNlIDEwMDY0NAotLS0g
YS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtZmVpeWFuZy1meTA3MDI0ZGkyNmEzMGQuYwor
KysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtZmVpeWFuZy1meTA3MDI0ZGkyNmEzMGQu
YwpAQCAtMTY4LDcgKzE2OCw3IEBAIHN0YXRpYyBpbnQgZmVpeWFuZ19nZXRfbW9kZXMoc3RydWN0
IGRybV9wYW5lbCAqcGFuZWwsCiAJc3RydWN0IGZlaXlhbmcgKmN0eCA9IHBhbmVsX3RvX2ZlaXlh
bmcocGFuZWwpOwogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCi0JbW9kZSA9IGRy
bV9tb2RlX2R1cGxpY2F0ZShwYW5lbC0+ZHJtLCAmZmVpeWFuZ19kZWZhdWx0X21vZGUpOworCW1v
ZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUoY29ubmVjdG9yLT5kZXYsICZmZWl5YW5nX2RlZmF1bHRf
bW9kZSk7CiAJaWYgKCFtb2RlKSB7CiAJCURSTV9ERVZfRVJST1IoJmN0eC0+ZHNpLT5kZXYsICJm
YWlsZWQgdG8gYWRkIG1vZGUgJXV4JXV4QCV1XG4iLAogCQkJICAgICAgZmVpeWFuZ19kZWZhdWx0
X21vZGUuaGRpc3BsYXksCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwt
aWxpdGVrLWlsaTkzMjIuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1pbGl0ZWstaWxp
OTMyMi5jCmluZGV4IDhmZDRjMDUyMTg0MS4uNTcxNzEzNWM5Mjc4IDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtaWxpdGVrLWlsaTkzMjIuYworKysgYi9kcml2ZXJzL2dw
dS9kcm0vcGFuZWwvcGFuZWwtaWxpdGVrLWlsaTkzMjIuYwpAQCAtNjQ1LDYgKzY0NSw3IEBAIHN0
YXRpYyBpbnQgaWxpOTMyMl9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCiAJCQkg
ICAgIHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCiB7CiAJc3RydWN0IGlsaTkzMjIg
KmlsaSA9IHBhbmVsX3RvX2lsaTkzMjIocGFuZWwpOworCXN0cnVjdCBkcm1fZGV2aWNlICpkcm0g
PSBjb25uZWN0b3ItPmRldjsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAlzdHJ1
Y3QgZHJtX2Rpc3BsYXlfaW5mbyAqaW5mbzsKIApAQCAtNjYyLDI2ICs2NjMsMjYgQEAgc3RhdGlj
IGludCBpbGk5MzIyX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCwKIAogCXN3aXRj
aCAoaWxpLT5pbnB1dCkgewogCWNhc2UgSUxJOTMyMl9JTlBVVF9TUkdCX0RVTU1ZXzMyMFgyNDA6
Ci0JCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUocGFuZWwtPmRybSwgJnNyZ2JfMzIweDI0MF9t
b2RlKTsKKwkJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShkcm0sICZzcmdiXzMyMHgyNDBfbW9k
ZSk7CiAJCWJyZWFrOwogCWNhc2UgSUxJOTMyMl9JTlBVVF9TUkdCX0RVTU1ZXzM2MFgyNDA6Ci0J
CW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUocGFuZWwtPmRybSwgJnNyZ2JfMzYweDI0MF9tb2Rl
KTsKKwkJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShkcm0sICZzcmdiXzM2MHgyNDBfbW9kZSk7
CiAJCWJyZWFrOwogCWNhc2UgSUxJOTMyMl9JTlBVVF9QUkdCX1RIUk9VR0g6CiAJY2FzZSBJTEk5
MzIyX0lOUFVUX1BSR0JfQUxJR05FRDoKLQkJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShwYW5l
bC0+ZHJtLCAmcHJnYl8zMjB4MjQwX21vZGUpOworCQltb2RlID0gZHJtX21vZGVfZHVwbGljYXRl
KGRybSwgJnByZ2JfMzIweDI0MF9tb2RlKTsKIAkJYnJlYWs7CiAJY2FzZSBJTEk5MzIyX0lOUFVU
X1lVVl82NDBYMzIwX1lDQkNSOgotCQltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKHBhbmVsLT5k
cm0sICZ5dXZfNjQweDMyMF9tb2RlKTsKKwkJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShkcm0s
ICZ5dXZfNjQweDMyMF9tb2RlKTsKIAkJYnJlYWs7CiAJY2FzZSBJTEk5MzIyX0lOUFVUX1lVVl83
MjBYMzYwX1lDQkNSOgotCQltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKHBhbmVsLT5kcm0sICZ5
dXZfNzIweDM2MF9tb2RlKTsKKwkJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShkcm0sICZ5dXZf
NzIweDM2MF9tb2RlKTsKIAkJYnJlYWs7CiAJY2FzZSBJTEk5MzIyX0lOUFVUX0lUVV9SX0JUNjU2
XzcyMFgzNjBfWUNCQ1I6Ci0JCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUocGFuZWwtPmRybSwg
Jml0dV9yX2J0XzY1Nl83MjBfbW9kZSk7CisJCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUoZHJt
LCAmaXR1X3JfYnRfNjU2XzcyMF9tb2RlKTsKIAkJYnJlYWs7CiAJY2FzZSBJTEk5MzIyX0lOUFVU
X0lUVV9SX0JUNjU2XzY0MFgzMjBfWUNCQ1I6Ci0JCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUo
cGFuZWwtPmRybSwgJml0dV9yX2J0XzY1Nl82NDBfbW9kZSk7CisJCW1vZGUgPSBkcm1fbW9kZV9k
dXBsaWNhdGUoZHJtLCAmaXR1X3JfYnRfNjU2XzY0MF9tb2RlKTsKIAkJYnJlYWs7CiAJZGVmYXVs
dDoKIAkJbW9kZSA9IE5VTEw7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFu
ZWwtaWxpdGVrLWlsaTk4ODFjLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtaWxpdGVr
LWlsaTk4ODFjLmMKaW5kZXggMWM2N2E2NjhkNmJmLi4zMWU1YTRlNjc3NTAgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1pbGl0ZWstaWxpOTg4MWMuYworKysgYi9kcml2
ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtaWxpdGVrLWlsaTk4ODFjLmMKQEAgLTM5Myw3ICszOTMs
NyBAQCBzdGF0aWMgaW50IGlsaTk4ODFjX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5l
bCwKIAlzdHJ1Y3QgaWxpOTg4MWMgKmN0eCA9IHBhbmVsX3RvX2lsaTk4ODFjKHBhbmVsKTsKIAlz
dHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAotCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNh
dGUocGFuZWwtPmRybSwgJmJhbmFuYXBpX2RlZmF1bHRfbW9kZSk7CisJbW9kZSA9IGRybV9tb2Rl
X2R1cGxpY2F0ZShjb25uZWN0b3ItPmRldiwgJmJhbmFuYXBpX2RlZmF1bHRfbW9kZSk7CiAJaWYg
KCFtb2RlKSB7CiAJCWRldl9lcnIoJmN0eC0+ZHNpLT5kZXYsICJmYWlsZWQgdG8gYWRkIG1vZGUg
JXV4JXV4QCV1XG4iLAogCQkJYmFuYW5hcGlfZGVmYXVsdF9tb2RlLmhkaXNwbGF5LApkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWlubm9sdXgtcDA3OXpjYS5jIGIvZHJp
dmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWlubm9sdXgtcDA3OXpjYS5jCmluZGV4IGZhY2YxYmFi
MjUzMi4uYjlkZTM3YThhMGM1IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFu
ZWwtaW5ub2x1eC1wMDc5emNhLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWlu
bm9sdXgtcDA3OXpjYS5jCkBAIC0yMTEsNyArMjExLDcgQEAgc3RhdGljIGludCBpbm5vbHV4X3Bh
bmVsX2VuYWJsZShzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKIAogCXJldCA9IGJhY2tsaWdodF9l
bmFibGUoaW5ub2x1eC0+YmFja2xpZ2h0KTsKIAlpZiAocmV0KSB7Ci0JCURSTV9ERVZfRVJST1Io
cGFuZWwtPmRybS0+ZGV2LAorCQlEUk1fREVWX0VSUk9SKHBhbmVsLT5kZXYsCiAJCQkgICAgICAi
RmFpbGVkIHRvIGVuYWJsZSBiYWNrbGlnaHQgJWRcbiIsIHJldCk7CiAJCXJldHVybiByZXQ7CiAJ
fQpAQCAtNDEwLDkgKzQxMCw5IEBAIHN0YXRpYyBpbnQgaW5ub2x1eF9wYW5lbF9nZXRfbW9kZXMo
c3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCiAJY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUg
Km0gPSBpbm5vbHV4LT5kZXNjLT5tb2RlOwogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2Rl
OwogCi0JbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShwYW5lbC0+ZHJtLCBtKTsKKwltb2RlID0g
ZHJtX21vZGVfZHVwbGljYXRlKGNvbm5lY3Rvci0+ZGV2LCBtKTsKIAlpZiAoIW1vZGUpIHsKLQkJ
RFJNX0RFVl9FUlJPUihwYW5lbC0+ZHJtLT5kZXYsICJmYWlsZWQgdG8gYWRkIG1vZGUgJXV4JXV4
QCV1XG4iLAorCQlEUk1fREVWX0VSUk9SKHBhbmVsLT5kZXYsICJmYWlsZWQgdG8gYWRkIG1vZGUg
JXV4JXV4QCV1XG4iLAogCQkJICAgICAgbS0+aGRpc3BsYXksIG0tPnZkaXNwbGF5LCBtLT52cmVm
cmVzaCk7CiAJCXJldHVybiAtRU5PTUVNOwogCX0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9wYW5lbC9wYW5lbC1qZGktbHQwNzBtZTA1MDAwLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwv
cGFuZWwtamRpLWx0MDcwbWUwNTAwMC5jCmluZGV4IGU2YjY1MGE2NGZkYi4uNGJmZDhjODc3Yzhl
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtamRpLWx0MDcwbWUwNTAw
MC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1qZGktbHQwNzBtZTA1MDAwLmMK
QEAgLTMwNyw3ICszMDcsNyBAQCBzdGF0aWMgaW50IGpkaV9wYW5lbF9nZXRfbW9kZXMoc3RydWN0
IGRybV9wYW5lbCAqcGFuZWwsCiAJc3RydWN0IGpkaV9wYW5lbCAqamRpID0gdG9famRpX3BhbmVs
KHBhbmVsKTsKIAlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmamRpLT5kc2ktPmRldjsKIAotCW1vZGUg
PSBkcm1fbW9kZV9kdXBsaWNhdGUocGFuZWwtPmRybSwgJmRlZmF1bHRfbW9kZSk7CisJbW9kZSA9
IGRybV9tb2RlX2R1cGxpY2F0ZShjb25uZWN0b3ItPmRldiwgJmRlZmF1bHRfbW9kZSk7CiAJaWYg
KCFtb2RlKSB7CiAJCWRldl9lcnIoZGV2LCAiZmFpbGVkIHRvIGFkZCBtb2RlICV1eCV1eEAldVxu
IiwKIAkJCWRlZmF1bHRfbW9kZS5oZGlzcGxheSwgZGVmYXVsdF9tb2RlLnZkaXNwbGF5LApkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWtpbmdkaXNwbGF5LWtkMDk3ZDA0
LmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwta2luZ2Rpc3BsYXkta2QwOTdkMDQuYwpp
bmRleCBlNmY1M2Q1NmRhZjkuLjM1M2VlNmNhYTAxYyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL3BhbmVsL3BhbmVsLWtpbmdkaXNwbGF5LWtkMDk3ZDA0LmMKKysrIGIvZHJpdmVycy9ncHUv
ZHJtL3BhbmVsL3BhbmVsLWtpbmdkaXNwbGF5LWtkMDk3ZDA0LmMKQEAgLTMxMCw3ICszMTAsNyBA
QCBzdGF0aWMgaW50IGtpbmdkaXNwbGF5X3BhbmVsX2VuYWJsZShzdHJ1Y3QgZHJtX3BhbmVsICpw
YW5lbCkKIAogCXJldCA9IGJhY2tsaWdodF9lbmFibGUoa2luZ2Rpc3BsYXktPmJhY2tsaWdodCk7
CiAJaWYgKHJldCkgewotCQlEUk1fREVWX0VSUk9SKHBhbmVsLT5kcm0tPmRldiwKKwkJRFJNX0RF
Vl9FUlJPUihwYW5lbC0+ZGV2LAogCQkJICAgICAgIkZhaWxlZCB0byBlbmFibGUgYmFja2xpZ2h0
ICVkXG4iLCByZXQpOwogCQlyZXR1cm4gcmV0OwogCX0KQEAgLTMzOCw5ICszMzgsOSBAQCBzdGF0
aWMgaW50IGtpbmdkaXNwbGF5X3BhbmVsX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5l
bCwKIHsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAotCW1vZGUgPSBkcm1fbW9k
ZV9kdXBsaWNhdGUocGFuZWwtPmRybSwgJmRlZmF1bHRfbW9kZSk7CisJbW9kZSA9IGRybV9tb2Rl
X2R1cGxpY2F0ZShjb25uZWN0b3ItPmRldiwgJmRlZmF1bHRfbW9kZSk7CiAJaWYgKCFtb2RlKSB7
Ci0JCURSTV9ERVZfRVJST1IocGFuZWwtPmRybS0+ZGV2LCAiZmFpbGVkIHRvIGFkZCBtb2RlICV1
eCV1eEAldVxuIiwKKwkJRFJNX0RFVl9FUlJPUihwYW5lbC0+ZGV2LCAiZmFpbGVkIHRvIGFkZCBt
b2RlICV1eCV1eEAldVxuIiwKIAkJCSAgICAgIGRlZmF1bHRfbW9kZS5oZGlzcGxheSwgZGVmYXVs
dF9tb2RlLnZkaXNwbGF5LAogCQkJICAgICAgZGVmYXVsdF9tb2RlLnZyZWZyZXNoKTsKIAkJcmV0
dXJuIC1FTk9NRU07CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtbGct
bGIwMzVxMDIuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1sZy1sYjAzNXEwMi5jCmlu
ZGV4IDdhM2JkNGQ4MGM3OS4uZTkwZWZlYWJhNGFkIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vcGFuZWwvcGFuZWwtbGctbGIwMzVxMDIuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwv
cGFuZWwtbGctbGIwMzVxMDIuYwpAQCAtMTQ2LDcgKzE0Niw3IEBAIHN0YXRpYyBpbnQgbGIwMzVx
MDJfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsLAogewogCXN0cnVjdCBkcm1fZGlz
cGxheV9tb2RlICptb2RlOwogCi0JbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShwYW5lbC0+ZHJt
LCAmbGIwMzVxMDJfbW9kZSk7CisJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShjb25uZWN0b3It
PmRldiwgJmxiMDM1cTAyX21vZGUpOwogCWlmICghbW9kZSkKIAkJcmV0dXJuIC1FTk9NRU07CiAK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1sZy1sZzQ1NzMuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1sZy1sZzQ1NzMuYwppbmRleCBmYzY1NzJiNGUyZjku
LjIwMjM1ZmYwYmJjNCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWxn
LWxnNDU3My5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1sZy1sZzQ1NzMuYwpA
QCAtMjE0LDkgKzIxNCw5IEBAIHN0YXRpYyBpbnQgbGc0NTczX2dldF9tb2RlcyhzdHJ1Y3QgZHJt
X3BhbmVsICpwYW5lbCwKIHsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAotCW1v
ZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUocGFuZWwtPmRybSwgJmRlZmF1bHRfbW9kZSk7CisJbW9k
ZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShjb25uZWN0b3ItPmRldiwgJmRlZmF1bHRfbW9kZSk7CiAJ
aWYgKCFtb2RlKSB7Ci0JCWRldl9lcnIocGFuZWwtPmRybS0+ZGV2LCAiZmFpbGVkIHRvIGFkZCBt
b2RlICV1eCV1eEAldVxuIiwKKwkJZGV2X2VycihwYW5lbC0+ZGV2LCAiZmFpbGVkIHRvIGFkZCBt
b2RlICV1eCV1eEAldVxuIiwKIAkJCWRlZmF1bHRfbW9kZS5oZGlzcGxheSwgZGVmYXVsdF9tb2Rl
LnZkaXNwbGF5LAogCQkJZGVmYXVsdF9tb2RlLnZyZWZyZXNoKTsKIAkJcmV0dXJuIC1FTk9NRU07
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtbHZkcy5jIGIvZHJpdmVy
cy9ncHUvZHJtL3BhbmVsL3BhbmVsLWx2ZHMuYwppbmRleCBmNmQ1OGE2MGU1MTQuLjVlNDBiNjc0
YmIxNSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWx2ZHMuYworKysg
Yi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtbHZkcy5jCkBAIC0xMTIsNyArMTEyLDcgQEAg
c3RhdGljIGludCBwYW5lbF9sdmRzX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCwK
IAlzdHJ1Y3QgcGFuZWxfbHZkcyAqbHZkcyA9IHRvX3BhbmVsX2x2ZHMocGFuZWwpOwogCXN0cnVj
dCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCi0JbW9kZSA9IGRybV9tb2RlX2NyZWF0ZShsdmRz
LT5wYW5lbC5kcm0pOworCW1vZGUgPSBkcm1fbW9kZV9jcmVhdGUoY29ubmVjdG9yLT5kZXYpOwog
CWlmICghbW9kZSkKIAkJcmV0dXJuIDA7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9w
YW5lbC9wYW5lbC1uZWMtbmw4MDQ4aGwxMS5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVs
LW5lYy1ubDgwNDhobDExLmMKaW5kZXggYTZjY2RiMDlhYWNlLi5jNGY4M2Y2Mzg0ZTEgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1uZWMtbmw4MDQ4aGwxMS5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1uZWMtbmw4MDQ4aGwxMS5jCkBAIC0xMjgsNyAr
MTI4LDcgQEAgc3RhdGljIGludCBubDgwNDhfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBh
bmVsLAogewogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCi0JbW9kZSA9IGRybV9t
b2RlX2R1cGxpY2F0ZShwYW5lbC0+ZHJtLCAmbmw4MDQ4X21vZGUpOworCW1vZGUgPSBkcm1fbW9k
ZV9kdXBsaWNhdGUoY29ubmVjdG9yLT5kZXYsICZubDgwNDhfbW9kZSk7CiAJaWYgKCFtb2RlKQog
CQlyZXR1cm4gLUVOT01FTTsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3Bh
bmVsLW5vdmF0ZWstbnQzOTAxNi5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW5vdmF0
ZWstbnQzOTAxNi5jCmluZGV4IDkxZWE0OWMwNTYxMS4uYTQ3MDgxMGY3ZGJlIDEwMDY0NAotLS0g
YS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtbm92YXRlay1udDM5MDE2LmMKKysrIGIvZHJp
dmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW5vdmF0ZWstbnQzOTAxNi5jCkBAIC0yMTMsNyArMjEz
LDcgQEAgc3RhdGljIGludCBudDM5MDE2X2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpkcm1f
cGFuZWwsCiAJY29uc3Qgc3RydWN0IG50MzkwMTZfcGFuZWxfaW5mbyAqcGFuZWxfaW5mbyA9IHBh
bmVsLT5wYW5lbF9pbmZvOwogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCi0JbW9k
ZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShkcm1fcGFuZWwtPmRybSwgJnBhbmVsX2luZm8tPmRpc3Bs
YXlfbW9kZSk7CisJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShjb25uZWN0b3ItPmRldiwgJnBh
bmVsX2luZm8tPmRpc3BsYXlfbW9kZSk7CiAJaWYgKCFtb2RlKQogCQlyZXR1cm4gLUVOT01FTTsK
IApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW9saW1leC1sY2Qtb2xp
bnV4aW5vLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtb2xpbWV4LWxjZC1vbGludXhp
bm8uYwppbmRleCAyYjdlMGRmZWJjNWUuLmU1NTNlNTg0Mzk5YiAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL3BhbmVsL3BhbmVsLW9saW1leC1sY2Qtb2xpbnV4aW5vLmMKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL3BhbmVsL3BhbmVsLW9saW1leC1sY2Qtb2xpbnV4aW5vLmMKQEAgLTE0Niw3ICsx
NDYsNiBAQCBzdGF0aWMgaW50IGxjZF9vbGludXhpbm9fZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFu
ZWwgKnBhbmVsLAogewogCXN0cnVjdCBsY2Rfb2xpbnV4aW5vICpsY2QgPSB0b19sY2Rfb2xpbnV4
aW5vKHBhbmVsKTsKIAlzdHJ1Y3QgbGNkX29saW51eGlub19pbmZvICpsY2RfaW5mbyA9ICZsY2Qt
PmVlcHJvbS5pbmZvOwotCXN0cnVjdCBkcm1fZGV2aWNlICpkcm0gPSBsY2QtPnBhbmVsLmRybTsK
IAlzdHJ1Y3QgbGNkX29saW51eGlub19tb2RlICpsY2RfbW9kZTsKIAlzdHJ1Y3QgZHJtX2Rpc3Bs
YXlfbW9kZSAqbW9kZTsKIAl1MzIgaSwgbnVtID0gMDsKQEAgLTE1NSw5ICsxNTQsOSBAQCBzdGF0
aWMgaW50IGxjZF9vbGludXhpbm9fZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsLAog
CQlsY2RfbW9kZSA9IChzdHJ1Y3QgbGNkX29saW51eGlub19tb2RlICopCiAJCQkgICAmbGNkLT5l
ZXByb20ucmVzZXJ2ZWRbaSAqIHNpemVvZigqbGNkX21vZGUpXTsKIAotCQltb2RlID0gZHJtX21v
ZGVfY3JlYXRlKGRybSk7CisJCW1vZGUgPSBkcm1fbW9kZV9jcmVhdGUoY29ubmVjdG9yLT5kZXYp
OwogCQlpZiAoIW1vZGUpIHsKLQkJCWRldl9lcnIoZHJtLT5kZXYsICJmYWlsZWQgdG8gYWRkIG1v
ZGUgJXV4JXVAJXVcbiIsCisJCQlkZXZfZXJyKHBhbmVsLT5kZXYsICJmYWlsZWQgdG8gYWRkIG1v
ZGUgJXV4JXVAJXVcbiIsCiAJCQkJbGNkX21vZGUtPmhhY3RpdmUsCiAJCQkJbGNkX21vZGUtPnZh
Y3RpdmUsCiAJCQkJbGNkX21vZGUtPnJlZnJlc2gpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL3BhbmVsL3BhbmVsLW9yaXNldGVjaC1vdG04MDA5YS5jIGIvZHJpdmVycy9ncHUvZHJtL3Bh
bmVsL3BhbmVsLW9yaXNldGVjaC1vdG04MDA5YS5jCmluZGV4IDRlMTYwNmM3OTA3Mi4uYmIwYzk5
MjE3MWU4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtb3Jpc2V0ZWNo
LW90bTgwMDlhLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW9yaXNldGVjaC1v
dG04MDA5YS5jCkBAIC0zNTQsNyArMzU0LDcgQEAgc3RhdGljIGludCBvdG04MDA5YV9nZXRfbW9k
ZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCiB7CiAJc3RydWN0IGRybV9kaXNwbGF5X21vZGUg
Km1vZGU7CiAKLQltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKHBhbmVsLT5kcm0sICZkZWZhdWx0
X21vZGUpOworCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUoY29ubmVjdG9yLT5kZXYsICZkZWZh
dWx0X21vZGUpOwogCWlmICghbW9kZSkgewogCQlEUk1fRVJST1IoImZhaWxlZCB0byBhZGQgbW9k
ZSAldXgldXhAJXVcbiIsCiAJCQkgIGRlZmF1bHRfbW9kZS5oZGlzcGxheSwgZGVmYXVsdF9tb2Rl
LnZkaXNwbGF5LApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW9zZC1v
c2QxMDF0MjU4Ny01M3RzLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtb3NkLW9zZDEw
MXQyNTg3LTUzdHMuYwppbmRleCBiM2UwMTAyODhjMTAuLjI3MzRiNDgzNWRmYSAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW9zZC1vc2QxMDF0MjU4Ny01M3RzLmMKKysr
IGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW9zZC1vc2QxMDF0MjU4Ny01M3RzLmMKQEAg
LTExOCw5ICsxMTgsOSBAQCBzdGF0aWMgaW50IG9zZDEwMXQyNTg3X3BhbmVsX2dldF9tb2Rlcyhz
dHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCwKIAlzdHJ1Y3Qgb3NkMTAxdDI1ODdfcGFuZWwgKm9zZDEw
MXQyNTg3ID0gdGlfb3NkX3BhbmVsKHBhbmVsKTsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAq
bW9kZTsKIAotCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUocGFuZWwtPmRybSwgb3NkMTAxdDI1
ODctPmRlZmF1bHRfbW9kZSk7CisJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShjb25uZWN0b3It
PmRldiwgb3NkMTAxdDI1ODctPmRlZmF1bHRfbW9kZSk7CiAJaWYgKCFtb2RlKSB7Ci0JCWRldl9l
cnIocGFuZWwtPmRybS0+ZGV2LCAiZmFpbGVkIHRvIGFkZCBtb2RlICV1eCV1eEAldVxuIiwKKwkJ
ZGV2X2VycihwYW5lbC0+ZGV2LCAiZmFpbGVkIHRvIGFkZCBtb2RlICV1eCV1eEAldVxuIiwKIAkJ
CW9zZDEwMXQyNTg3LT5kZWZhdWx0X21vZGUtPmhkaXNwbGF5LAogCQkJb3NkMTAxdDI1ODctPmRl
ZmF1bHRfbW9kZS0+dmRpc3BsYXksCiAJCQlvc2QxMDF0MjU4Ny0+ZGVmYXVsdF9tb2RlLT52cmVm
cmVzaCk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtcGFuYXNvbmlj
LXZ2eDEwZjAzNG4wMC5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXBhbmFzb25pYy12
dngxMGYwMzRuMDAuYwppbmRleCAxOWE2ZWI0NjM3YzguLjU3OWFjMGQ4NmVhNCAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXBhbmFzb25pYy12dngxMGYwMzRuMDAuYwor
KysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtcGFuYXNvbmljLXZ2eDEwZjAzNG4wMC5j
CkBAIC0xNzEsOSArMTcxLDkgQEAgc3RhdGljIGludCB3dXhnYV9udF9wYW5lbF9nZXRfbW9kZXMo
c3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCiB7CiAJc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1v
ZGU7CiAKLQltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKHBhbmVsLT5kcm0sICZkZWZhdWx0X21v
ZGUpOworCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUoY29ubmVjdG9yLT5kZXYsICZkZWZhdWx0
X21vZGUpOwogCWlmICghbW9kZSkgewotCQlkZXZfZXJyKHBhbmVsLT5kcm0tPmRldiwgImZhaWxl
ZCB0byBhZGQgbW9kZSAldXgldXhAJXVcbiIsCisJCWRldl9lcnIocGFuZWwtPmRldiwgImZhaWxl
ZCB0byBhZGQgbW9kZSAldXgldXhAJXVcbiIsCiAJCQkJZGVmYXVsdF9tb2RlLmhkaXNwbGF5LCBk
ZWZhdWx0X21vZGUudmRpc3BsYXksCiAJCQkJZGVmYXVsdF9tb2RlLnZyZWZyZXNoKTsKIAkJcmV0
dXJuIC1FTk9NRU07CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtcmFz
cGJlcnJ5cGktdG91Y2hzY3JlZW4uYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yYXNw
YmVycnlwaS10b3VjaHNjcmVlbi5jCmluZGV4IDczMmI3MTExMzk1ZS4uN2Q4YmMxMmEzMDA4IDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtcmFzcGJlcnJ5cGktdG91Y2hz
Y3JlZW4uYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtcmFzcGJlcnJ5cGktdG91
Y2hzY3JlZW4uYwpAQCAtMzE0LDcgKzMxNCw2IEBAIHN0YXRpYyBpbnQgcnBpX3RvdWNoc2NyZWVu
X2VuYWJsZShzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKIHN0YXRpYyBpbnQgcnBpX3RvdWNoc2Ny
ZWVuX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCwKIAkJCQkgICAgIHN0cnVjdCBk
cm1fY29ubmVjdG9yICpjb25uZWN0b3IpCiB7Ci0Jc3RydWN0IGRybV9kZXZpY2UgKmRybSA9IHBh
bmVsLT5kcm07CiAJdW5zaWduZWQgaW50IGksIG51bSA9IDA7CiAJc3RhdGljIGNvbnN0IHUzMiBi
dXNfZm9ybWF0ID0gTUVESUFfQlVTX0ZNVF9SR0I4ODhfMVgyNDsKIApAQCAtMzIyLDkgKzMyMSw5
IEBAIHN0YXRpYyBpbnQgcnBpX3RvdWNoc2NyZWVuX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVs
ICpwYW5lbCwKIAkJY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm0gPSAmcnBpX3RvdWNo
c2NyZWVuX21vZGVzW2ldOwogCQlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAotCQlt
b2RlID0gZHJtX21vZGVfZHVwbGljYXRlKGRybSwgbSk7CisJCW1vZGUgPSBkcm1fbW9kZV9kdXBs
aWNhdGUoY29ubmVjdG9yLT5kZXYsIG0pOwogCQlpZiAoIW1vZGUpIHsKLQkJCWRldl9lcnIoZHJt
LT5kZXYsICJmYWlsZWQgdG8gYWRkIG1vZGUgJXV4JXVAJXVcbiIsCisJCQlkZXZfZXJyKHBhbmVs
LT5kZXYsICJmYWlsZWQgdG8gYWRkIG1vZGUgJXV4JXVAJXVcbiIsCiAJCQkJbS0+aGRpc3BsYXks
IG0tPnZkaXNwbGF5LCBtLT52cmVmcmVzaCk7CiAJCQljb250aW51ZTsKIAkJfQpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJheWRpdW0tcm02NzE5MS5jIGIvZHJpdmVy
cy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJheWRpdW0tcm02NzE5MS5jCmluZGV4IDEyM2JiNjhjZmNi
Ny4uMzEzNjM3ZDUzZDI4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwt
cmF5ZGl1bS1ybTY3MTkxLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJheWRp
dW0tcm02NzE5MS5jCkBAIC00NDEsNyArNDQxLDcgQEAgc3RhdGljIGludCByYWRfcGFuZWxfZ2V0
X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsLAogewogCXN0cnVjdCBkcm1fZGlzcGxheV9t
b2RlICptb2RlOwogCi0JbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShwYW5lbC0+ZHJtLCAmZGVm
YXVsdF9tb2RlKTsKKwltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKGNvbm5lY3Rvci0+ZGV2LCAm
ZGVmYXVsdF9tb2RlKTsKIAlpZiAoIW1vZGUpIHsKIAkJRFJNX0RFVl9FUlJPUihwYW5lbC0+ZGV2
LCAiZmFpbGVkIHRvIGFkZCBtb2RlICV1eCV1eEAldVxuIiwKIAkJCSAgICAgIGRlZmF1bHRfbW9k
ZS5oZGlzcGxheSwgZGVmYXVsdF9tb2RlLnZkaXNwbGF5LApkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL3BhbmVsL3BhbmVsLXJheWRpdW0tcm02ODIwMC5jIGIvZHJpdmVycy9ncHUvZHJtL3Bh
bmVsL3BhbmVsLXJheWRpdW0tcm02ODIwMC5jCmluZGV4IDY2ZmE5NzUzMDhlYy4uZDZhMDMzMjhl
NTk0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtcmF5ZGl1bS1ybTY4
MjAwLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJheWRpdW0tcm02ODIwMC5j
CkBAIC0zNDAsNyArMzQwLDcgQEAgc3RhdGljIGludCBybTY4MjAwX2dldF9tb2RlcyhzdHJ1Y3Qg
ZHJtX3BhbmVsICpwYW5lbCwKIHsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAot
CW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUocGFuZWwtPmRybSwgJmRlZmF1bHRfbW9kZSk7CisJ
bW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShjb25uZWN0b3ItPmRldiwgJmRlZmF1bHRfbW9kZSk7
CiAJaWYgKCFtb2RlKSB7CiAJCURSTV9FUlJPUigiZmFpbGVkIHRvIGFkZCBtb2RlICV1eCV1eEAl
dVxuIiwKIAkJCSAgZGVmYXVsdF9tb2RlLmhkaXNwbGF5LCBkZWZhdWx0X21vZGUudmRpc3BsYXks
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtcm9ja3RlY2gtamgwNTdu
MDA5MDAuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yb2NrdGVjaC1qaDA1N24wMDkw
MC5jCmluZGV4IGIyZDYxY2FiM2NhZC4uM2E0ZjFjMGZjZTg2IDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vcGFuZWwvcGFuZWwtcm9ja3RlY2gtamgwNTduMDA5MDAuYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vcGFuZWwvcGFuZWwtcm9ja3RlY2gtamgwNTduMDA5MDAuYwpAQCAtMjM2LDcgKzIz
Niw3IEBAIHN0YXRpYyBpbnQgamgwNTduX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5l
bCwKIAlzdHJ1Y3QgamgwNTduICpjdHggPSBwYW5lbF90b19qaDA1N24ocGFuZWwpOwogCXN0cnVj
dCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCi0JbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShw
YW5lbC0+ZHJtLCAmZGVmYXVsdF9tb2RlKTsKKwltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKGNv
bm5lY3Rvci0+ZGV2LCAmZGVmYXVsdF9tb2RlKTsKIAlpZiAoIW1vZGUpIHsKIAkJRFJNX0RFVl9F
UlJPUihjdHgtPmRldiwgIkZhaWxlZCB0byBhZGQgbW9kZSAldXgldUAldVxuIiwKIAkJCSAgICAg
IGRlZmF1bHRfbW9kZS5oZGlzcGxheSwgZGVmYXVsdF9tb2RlLnZkaXNwbGF5LApkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJvbmJvLXJiMDcwZDMwLmMgYi9kcml2ZXJz
L2dwdS9kcm0vcGFuZWwvcGFuZWwtcm9uYm8tcmIwNzBkMzAuYwppbmRleCA1N2E0NjJjZTIyMWUu
Ljc0NmEzYTIyMTEwMCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJv
bmJvLXJiMDcwZDMwLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJvbmJvLXJi
MDcwZDMwLmMKQEAgLTEyNyw3ICsxMjcsNyBAQCBzdGF0aWMgaW50IHJiMDcwZDMwX3BhbmVsX2dl
dF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCwKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9k
ZSAqbW9kZTsKIAlzdGF0aWMgY29uc3QgdTMyIGJ1c19mb3JtYXQgPSBNRURJQV9CVVNfRk1UX1JH
Qjg4OF8xWDI0OwogCi0JbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShwYW5lbC0+ZHJtLCAmZGVm
YXVsdF9tb2RlKTsKKwltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKGNvbm5lY3Rvci0+ZGV2LCAm
ZGVmYXVsdF9tb2RlKTsKIAlpZiAoIW1vZGUpIHsKIAkJRFJNX0RFVl9FUlJPUigmY3R4LT5kc2kt
PmRldiwKIAkJCSAgICAgICJGYWlsZWQgdG8gYWRkIG1vZGUgIiBEUk1fTU9ERV9GTVQgIlxuIiwK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZDE2ZDAu
YyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZDE2ZDAuYwppbmRleCA3
MTkzOWFiNzU3YjEuLjIxNTAwNDNkY2Y2YiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3Bh
bmVsL3BhbmVsLXNhbXN1bmctczZkMTZkMC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9w
YW5lbC1zYW1zdW5nLXM2ZDE2ZDAuYwpAQCAtMTQ4LDcgKzE0OCw3IEBAIHN0YXRpYyBpbnQgczZk
MTZkMF9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCiB7CiAJc3RydWN0IGRybV9k
aXNwbGF5X21vZGUgKm1vZGU7CiAKLQltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKHBhbmVsLT5k
cm0sICZzYW1zdW5nX3M2ZDE2ZDBfbW9kZSk7CisJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShj
b25uZWN0b3ItPmRldiwgJnNhbXN1bmdfczZkMTZkMF9tb2RlKTsKIAlpZiAoIW1vZGUpIHsKIAkJ
RFJNX0VSUk9SKCJiYWQgbW9kZSBvciBmYWlsZWQgdG8gYWRkIG1vZGVcbiIpOwogCQlyZXR1cm4g
LUVJTlZBTDsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5n
LXM2ZTNoYTIuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZTNoYTIu
YwppbmRleCA4ZTAyMzZiYTYxNDUuLjM2ZWJkNWE0YWM3YiAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZlM2hhMi5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZTNoYTIuYwpAQCAtNjUxLDcgKzY1MSw3IEBAIHN0YXRp
YyBpbnQgczZlM2hhMl9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCiAJc3RydWN0
IHM2ZTNoYTIgKmN0eCA9IGNvbnRhaW5lcl9vZihwYW5lbCwgc3RydWN0IHM2ZTNoYTIsIHBhbmVs
KTsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAotCW1vZGUgPSBkcm1fbW9kZV9k
dXBsaWNhdGUocGFuZWwtPmRybSwgY3R4LT5kZXNjLT5tb2RlKTsKKwltb2RlID0gZHJtX21vZGVf
ZHVwbGljYXRlKGNvbm5lY3Rvci0+ZGV2LCBjdHgtPmRlc2MtPm1vZGUpOwogCWlmICghbW9kZSkg
ewogCQlEUk1fRVJST1IoImZhaWxlZCB0byBhZGQgbW9kZSAldXgldXhAJXVcbiIsCiAJCQljdHgt
PmRlc2MtPm1vZGUtPmhkaXNwbGF5LCBjdHgtPmRlc2MtPm1vZGUtPnZkaXNwbGF5LApkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZlNjNqMHgwMy5jIGIv
ZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZlNjNqMHgwMy5jCmluZGV4IGM5
MzlkNWJkZTRmMC4uYTM1NzBlMGE5MGE4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFu
ZWwvcGFuZWwtc2Ftc3VuZy1zNmU2M2oweDAzLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVs
L3BhbmVsLXNhbXN1bmctczZlNjNqMHgwMy5jCkBAIC00MDUsNyArNDA1LDcgQEAgc3RhdGljIGlu
dCBzNmU2M2oweDAzX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCwKIHsKIAlzdHJ1
Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAotCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUo
cGFuZWwtPmRybSwgJmRlZmF1bHRfbW9kZSk7CisJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShj
b25uZWN0b3ItPmRldiwgJmRlZmF1bHRfbW9kZSk7CiAJaWYgKCFtb2RlKSB7CiAJCURSTV9FUlJP
UigiZmFpbGVkIHRvIGFkZCBtb2RlICV1eCV1eEAldVxuIiwKIAkJCWRlZmF1bHRfbW9kZS5oZGlz
cGxheSwgZGVmYXVsdF9tb2RlLnZkaXNwbGF5LApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L3BhbmVsL3BhbmVsLXNhbXN1bmctczZlNjNtMC5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3Bh
bmVsLXNhbXN1bmctczZlNjNtMC5jCmluZGV4IDFkMDk5MDkyZTc1NC4uYTVmNzZlYjRmYTI1IDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ftc3VuZy1zNmU2M20wLmMK
KysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZlNjNtMC5jCkBAIC0z
NjcsNyArMzY3LDcgQEAgc3RhdGljIGludCBzNmU2M20wX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3Bh
bmVsICpwYW5lbCwKIHsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAotCW1vZGUg
PSBkcm1fbW9kZV9kdXBsaWNhdGUocGFuZWwtPmRybSwgJmRlZmF1bHRfbW9kZSk7CisJbW9kZSA9
IGRybV9tb2RlX2R1cGxpY2F0ZShjb25uZWN0b3ItPmRldiwgJmRlZmF1bHRfbW9kZSk7CiAJaWYg
KCFtb2RlKSB7CiAJCURSTV9FUlJPUigiZmFpbGVkIHRvIGFkZCBtb2RlICV1eCV1eEAldVxuIiwK
IAkJCSAgZGVmYXVsdF9tb2RlLmhkaXNwbGF5LCBkZWZhdWx0X21vZGUudmRpc3BsYXksCmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Vpa28tNDN3dmYxZy5jIGIvZHJp
dmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNlaWtvLTQzd3ZmMWcuYwppbmRleCAzYmNiYTY0MjM1
YzQuLjRiMzQ1YTI0MmIzZiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVs
LXNlaWtvLTQzd3ZmMWcuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Vpa28t
NDN3dmYxZy5jCkBAIC01OSw3ICs1OSw2IEBAIHN0YXRpYyBpbmxpbmUgc3RydWN0IHNlaWtvX3Bh
bmVsICp0b19zZWlrb19wYW5lbChzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKIHN0YXRpYyBpbnQg
c2Vpa29fcGFuZWxfZ2V0X2ZpeGVkX21vZGVzKHN0cnVjdCBzZWlrb19wYW5lbCAqcGFuZWwsCiAJ
CQkJICAgICAgIHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCiB7Ci0Jc3RydWN0IGRy
bV9kZXZpY2UgKmRybSA9IHBhbmVsLT5iYXNlLmRybTsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9k
ZSAqbW9kZTsKIAl1bnNpZ25lZCBpbnQgaSwgbnVtID0gMDsKIApAQCAtNzEsOSArNzAsOSBAQCBz
dGF0aWMgaW50IHNlaWtvX3BhbmVsX2dldF9maXhlZF9tb2RlcyhzdHJ1Y3Qgc2Vpa29fcGFuZWwg
KnBhbmVsLAogCQlzdHJ1Y3QgdmlkZW9tb2RlIHZtOwogCiAJCXZpZGVvbW9kZV9mcm9tX3RpbWlu
ZyhkdCwgJnZtKTsKLQkJbW9kZSA9IGRybV9tb2RlX2NyZWF0ZShkcm0pOworCQltb2RlID0gZHJt
X21vZGVfY3JlYXRlKGNvbm5lY3Rvci0+ZGV2KTsKIAkJaWYgKCFtb2RlKSB7Ci0JCQlkZXZfZXJy
KGRybS0+ZGV2LCAiZmFpbGVkIHRvIGFkZCBtb2RlICV1eCV1XG4iLAorCQkJZGV2X2VycihwYW5l
bC0+YmFzZS5kZXYsICJmYWlsZWQgdG8gYWRkIG1vZGUgJXV4JXVcbiIsCiAJCQkJZHQtPmhhY3Rp
dmUudHlwLCBkdC0+dmFjdGl2ZS50eXApOwogCQkJY29udGludWU7CiAJCX0KQEAgLTkyLDkgKzkx
LDkgQEAgc3RhdGljIGludCBzZWlrb19wYW5lbF9nZXRfZml4ZWRfbW9kZXMoc3RydWN0IHNlaWtv
X3BhbmVsICpwYW5lbCwKIAlmb3IgKGkgPSAwOyBpIDwgcGFuZWwtPmRlc2MtPm51bV9tb2Rlczsg
aSsrKSB7CiAJCWNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptID0gJnBhbmVsLT5kZXNj
LT5tb2Rlc1tpXTsKIAotCQltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKGRybSwgbSk7CisJCW1v
ZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUoY29ubmVjdG9yLT5kZXYsIG0pOwogCQlpZiAoIW1vZGUp
IHsKLQkJCWRldl9lcnIoZHJtLT5kZXYsICJmYWlsZWQgdG8gYWRkIG1vZGUgJXV4JXVAJXVcbiIs
CisJCQlkZXZfZXJyKHBhbmVsLT5iYXNlLmRldiwgImZhaWxlZCB0byBhZGQgbW9kZSAldXgldUAl
dVxuIiwKIAkJCQltLT5oZGlzcGxheSwgbS0+dmRpc3BsYXksIG0tPnZyZWZyZXNoKTsKIAkJCWNv
bnRpbnVlOwogCQl9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2hh
cnAtbHExMDFyMXN4MDEuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaGFycC1scTEw
MXIxc3gwMS5jCmluZGV4IGU3OTdiNzAwNjYxYS4uMTdkNDA2ZjQ5YzNkIDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2hhcnAtbHExMDFyMXN4MDEuYworKysgYi9kcml2
ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2hhcnAtbHExMDFyMXN4MDEuYwpAQCAtMjgzLDkgKzI4
Myw5IEBAIHN0YXRpYyBpbnQgc2hhcnBfcGFuZWxfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwg
KnBhbmVsLAogewogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCi0JbW9kZSA9IGRy
bV9tb2RlX2R1cGxpY2F0ZShwYW5lbC0+ZHJtLCAmZGVmYXVsdF9tb2RlKTsKKwltb2RlID0gZHJt
X21vZGVfZHVwbGljYXRlKGNvbm5lY3Rvci0+ZGV2LCAmZGVmYXVsdF9tb2RlKTsKIAlpZiAoIW1v
ZGUpIHsKLQkJZGV2X2VycihwYW5lbC0+ZHJtLT5kZXYsICJmYWlsZWQgdG8gYWRkIG1vZGUgJXV4
JXV4QCV1XG4iLAorCQlkZXZfZXJyKHBhbmVsLT5kZXYsICJmYWlsZWQgdG8gYWRkIG1vZGUgJXV4
JXV4QCV1XG4iLAogCQkJZGVmYXVsdF9tb2RlLmhkaXNwbGF5LCBkZWZhdWx0X21vZGUudmRpc3Bs
YXksCiAJCQlkZWZhdWx0X21vZGUudnJlZnJlc2gpOwogCQlyZXR1cm4gLUVOT01FTTsKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaGFycC1sczAzN3Y3ZHcwMS5jIGIv
ZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNoYXJwLWxzMDM3djdkdzAxLmMKaW5kZXggNzEw
M2E5NDVmMGU4Li4xY2YzZjAyNDM1YzEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5l
bC9wYW5lbC1zaGFycC1sczAzN3Y3ZHcwMS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9w
YW5lbC1zaGFycC1sczAzN3Y3ZHcwMS5jCkBAIC0xMDUsNyArMTA1LDcgQEAgc3RhdGljIGludCBs
czAzN3Y3ZHcwMV9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCiB7CiAJc3RydWN0
IGRybV9kaXNwbGF5X21vZGUgKm1vZGU7CiAKLQltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKHBh
bmVsLT5kcm0sICZsczAzN3Y3ZHcwMV9tb2RlKTsKKwltb2RlID0gZHJtX21vZGVfZHVwbGljYXRl
KGNvbm5lY3Rvci0+ZGV2LCAmbHMwMzd2N2R3MDFfbW9kZSk7CiAJaWYgKCFtb2RlKQogCQlyZXR1
cm4gLUVOT01FTTsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNo
YXJwLWxzMDQzdDFsZTAxLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2hhcnAtbHMw
NDN0MWxlMDEuYwppbmRleCA4NWFlNmNmZmRiZmIuLjc5OTVjZjVhOWZjNCAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNoYXJwLWxzMDQzdDFsZTAxLmMKKysrIGIvZHJp
dmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNoYXJwLWxzMDQzdDFsZTAxLmMKQEAgLTIxNSw5ICsy
MTUsOSBAQCBzdGF0aWMgaW50IHNoYXJwX250X3BhbmVsX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3Bh
bmVsICpwYW5lbCwKIHsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAotCW1vZGUg
PSBkcm1fbW9kZV9kdXBsaWNhdGUocGFuZWwtPmRybSwgJmRlZmF1bHRfbW9kZSk7CisJbW9kZSA9
IGRybV9tb2RlX2R1cGxpY2F0ZShjb25uZWN0b3ItPmRldiwgJmRlZmF1bHRfbW9kZSk7CiAJaWYg
KCFtb2RlKSB7Ci0JCWRldl9lcnIocGFuZWwtPmRybS0+ZGV2LCAiZmFpbGVkIHRvIGFkZCBtb2Rl
ICV1eCV1eEAldVxuIiwKKwkJZGV2X2VycihwYW5lbC0+ZGV2LCAiZmFpbGVkIHRvIGFkZCBtb2Rl
ICV1eCV1eEAldVxuIiwKIAkJCQlkZWZhdWx0X21vZGUuaGRpc3BsYXksIGRlZmF1bHRfbW9kZS52
ZGlzcGxheSwKIAkJCQlkZWZhdWx0X21vZGUudnJlZnJlc2gpOwogCQlyZXR1cm4gLUVOT01FTTsK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaW1wbGUuYyBiL2RyaXZl
cnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaW1wbGUuYwppbmRleCBlMjI1NzkxYTZmYjIuLjczZTAw
Mjg4YzAwYyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNpbXBsZS5j
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaW1wbGUuYwpAQCAtMTIwLDcgKzEy
MCw2IEBAIHN0YXRpYyBpbmxpbmUgc3RydWN0IHBhbmVsX3NpbXBsZSAqdG9fcGFuZWxfc2ltcGxl
KHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQogc3RhdGljIHVuc2lnbmVkIGludCBwYW5lbF9zaW1w
bGVfZ2V0X3RpbWluZ3NfbW9kZXMoc3RydWN0IHBhbmVsX3NpbXBsZSAqcGFuZWwsCiAJCQkJCQkg
ICBzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogewotCXN0cnVjdCBkcm1fZGV2aWNl
ICpkcm0gPSBwYW5lbC0+YmFzZS5kcm07CiAJc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGU7
CiAJdW5zaWduZWQgaW50IGksIG51bSA9IDA7CiAKQEAgLTEyOSw5ICsxMjgsOSBAQCBzdGF0aWMg
dW5zaWduZWQgaW50IHBhbmVsX3NpbXBsZV9nZXRfdGltaW5nc19tb2RlcyhzdHJ1Y3QgcGFuZWxf
c2ltcGxlICpwYW5lbCwKIAkJc3RydWN0IHZpZGVvbW9kZSB2bTsKIAogCQl2aWRlb21vZGVfZnJv
bV90aW1pbmcoZHQsICZ2bSk7Ci0JCW1vZGUgPSBkcm1fbW9kZV9jcmVhdGUoZHJtKTsKKwkJbW9k
ZSA9IGRybV9tb2RlX2NyZWF0ZShjb25uZWN0b3ItPmRldik7CiAJCWlmICghbW9kZSkgewotCQkJ
ZGV2X2Vycihkcm0tPmRldiwgImZhaWxlZCB0byBhZGQgbW9kZSAldXgldVxuIiwKKwkJCWRldl9l
cnIocGFuZWwtPmJhc2UuZGV2LCAiZmFpbGVkIHRvIGFkZCBtb2RlICV1eCV1XG4iLAogCQkJCWR0
LT5oYWN0aXZlLnR5cCwgZHQtPnZhY3RpdmUudHlwKTsKIAkJCWNvbnRpbnVlOwogCQl9CkBAIC0x
NTMsMTYgKzE1MiwxNSBAQCBzdGF0aWMgdW5zaWduZWQgaW50IHBhbmVsX3NpbXBsZV9nZXRfdGlt
aW5nc19tb2RlcyhzdHJ1Y3QgcGFuZWxfc2ltcGxlICpwYW5lbCwKIHN0YXRpYyB1bnNpZ25lZCBp
bnQgcGFuZWxfc2ltcGxlX2dldF9kaXNwbGF5X21vZGVzKHN0cnVjdCBwYW5lbF9zaW1wbGUgKnBh
bmVsLAogCQkJCQkJICAgc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvcikKIHsKLQlzdHJ1
Y3QgZHJtX2RldmljZSAqZHJtID0gcGFuZWwtPmJhc2UuZHJtOwogCXN0cnVjdCBkcm1fZGlzcGxh
eV9tb2RlICptb2RlOwogCXVuc2lnbmVkIGludCBpLCBudW0gPSAwOwogCiAJZm9yIChpID0gMDsg
aSA8IHBhbmVsLT5kZXNjLT5udW1fbW9kZXM7IGkrKykgewogCQljb25zdCBzdHJ1Y3QgZHJtX2Rp
c3BsYXlfbW9kZSAqbSA9ICZwYW5lbC0+ZGVzYy0+bW9kZXNbaV07CiAKLQkJbW9kZSA9IGRybV9t
b2RlX2R1cGxpY2F0ZShkcm0sIG0pOworCQltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKGNvbm5l
Y3Rvci0+ZGV2LCBtKTsKIAkJaWYgKCFtb2RlKSB7Ci0JCQlkZXZfZXJyKGRybS0+ZGV2LCAiZmFp
bGVkIHRvIGFkZCBtb2RlICV1eCV1QCV1XG4iLAorCQkJZGV2X2VycihwYW5lbC0+YmFzZS5kZXYs
ICJmYWlsZWQgdG8gYWRkIG1vZGUgJXV4JXVAJXVcbiIsCiAJCQkJbS0+aGRpc3BsYXksIG0tPnZk
aXNwbGF5LCBtLT52cmVmcmVzaCk7CiAJCQljb250aW51ZTsKIAkJfQpAQCAtMTg0LDcgKzE4Miw2
IEBAIHN0YXRpYyB1bnNpZ25lZCBpbnQgcGFuZWxfc2ltcGxlX2dldF9kaXNwbGF5X21vZGVzKHN0
cnVjdCBwYW5lbF9zaW1wbGUgKnBhbmVsLAogc3RhdGljIGludCBwYW5lbF9zaW1wbGVfZ2V0X25v
bl9lZGlkX21vZGVzKHN0cnVjdCBwYW5lbF9zaW1wbGUgKnBhbmVsLAogCQkJCQkgICBzdHJ1Y3Qg
ZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogewotCXN0cnVjdCBkcm1fZGV2aWNlICpkcm0gPSBw
YW5lbC0+YmFzZS5kcm07CiAJc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGU7CiAJYm9vbCBo
YXNfb3ZlcnJpZGUgPSBwYW5lbC0+b3ZlcnJpZGVfbW9kZS50eXBlOwogCXVuc2lnbmVkIGludCBu
dW0gPSAwOwpAQCAtMTkzLDEyICsxOTAsMTIgQEAgc3RhdGljIGludCBwYW5lbF9zaW1wbGVfZ2V0
X25vbl9lZGlkX21vZGVzKHN0cnVjdCBwYW5lbF9zaW1wbGUgKnBhbmVsLAogCQlyZXR1cm4gMDsK
IAogCWlmIChoYXNfb3ZlcnJpZGUpIHsKLQkJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShkcm0s
ICZwYW5lbC0+b3ZlcnJpZGVfbW9kZSk7CisJCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUoY29u
bmVjdG9yLT5kZXYsICZwYW5lbC0+b3ZlcnJpZGVfbW9kZSk7CiAJCWlmIChtb2RlKSB7CiAJCQlk
cm1fbW9kZV9wcm9iZWRfYWRkKGNvbm5lY3RvciwgbW9kZSk7CiAJCQludW0gPSAxOwogCQl9IGVs
c2UgewotCQkJZGV2X2Vycihkcm0tPmRldiwgImZhaWxlZCB0byBhZGQgb3ZlcnJpZGUgbW9kZVxu
Iik7CisJCQlkZXZfZXJyKHBhbmVsLT5iYXNlLmRldiwgImZhaWxlZCB0byBhZGQgb3ZlcnJpZGUg
bW9kZVxuIik7CiAJCX0KIAl9CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9w
YW5lbC1zaXRyb25peC1zdDc3MDEuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaXRy
b25peC1zdDc3MDEuYwppbmRleCAzZWQzYjFkNmQ4MmQuLmMwOGE4NjVhMmE5MyAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNpdHJvbml4LXN0NzcwMS5jCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaXRyb25peC1zdDc3MDEuYwpAQCAtMjcxLDcgKzI3
MSw3IEBAIHN0YXRpYyBpbnQgc3Q3NzAxX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5l
bCwKIAljb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqZGVzY19tb2RlID0gc3Q3NzAxLT5k
ZXNjLT5tb2RlOwogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCi0JbW9kZSA9IGRy
bV9tb2RlX2R1cGxpY2F0ZShwYW5lbC0+ZHJtLCBkZXNjX21vZGUpOworCW1vZGUgPSBkcm1fbW9k
ZV9kdXBsaWNhdGUoY29ubmVjdG9yLT5kZXYsIGRlc2NfbW9kZSk7CiAJaWYgKCFtb2RlKSB7CiAJ
CURSTV9ERVZfRVJST1IoJnN0NzcwMS0+ZHNpLT5kZXYsCiAJCQkgICAgICAiZmFpbGVkIHRvIGFk
ZCBtb2RlICV1eCV1eEAldVxuIiwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9w
YW5lbC1zaXRyb25peC1zdDc3ODl2LmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2l0
cm9uaXgtc3Q3Nzg5di5jCmluZGV4IDgzNmIwMTMzMTUwNS4uZWJlZmUyZjRjMjZiIDEwMDY0NAot
LS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2l0cm9uaXgtc3Q3Nzg5di5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaXRyb25peC1zdDc3ODl2LmMKQEAgLTE3NSw5
ICsxNzUsOSBAQCBzdGF0aWMgaW50IHN0Nzc4OXZfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwg
KnBhbmVsLAogewogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCi0JbW9kZSA9IGRy
bV9tb2RlX2R1cGxpY2F0ZShwYW5lbC0+ZHJtLCAmZGVmYXVsdF9tb2RlKTsKKwltb2RlID0gZHJt
X21vZGVfZHVwbGljYXRlKGNvbm5lY3Rvci0+ZGV2LCAmZGVmYXVsdF9tb2RlKTsKIAlpZiAoIW1v
ZGUpIHsKLQkJZGV2X2VycihwYW5lbC0+ZHJtLT5kZXYsICJmYWlsZWQgdG8gYWRkIG1vZGUgJXV4
JXV4QCV1XG4iLAorCQlkZXZfZXJyKHBhbmVsLT5kZXYsICJmYWlsZWQgdG8gYWRkIG1vZGUgJXV4
JXV4QCV1XG4iLAogCQkJZGVmYXVsdF9tb2RlLmhkaXNwbGF5LCBkZWZhdWx0X21vZGUudmRpc3Bs
YXksCiAJCQlkZWZhdWx0X21vZGUudnJlZnJlc2gpOwogCQlyZXR1cm4gLUVOT01FTTsKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zb255LWFjeDU2NWFrbS5jIGIvZHJp
dmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNvbnktYWN4NTY1YWttLmMKaW5kZXggODQxZGM3M2M0
NDNkLi41YzRiNmY2ZTVjMmQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5l
bC1zb255LWFjeDU2NWFrbS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zb255
LWFjeDU2NWFrbS5jCkBAIC01MjYsNyArNTI2LDcgQEAgc3RhdGljIGludCBhY3g1NjVha21fZ2V0
X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsLAogewogCXN0cnVjdCBkcm1fZGlzcGxheV9t
b2RlICptb2RlOwogCi0JbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShwYW5lbC0+ZHJtLCAmYWN4
NTY1YWttX21vZGUpOworCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUoY29ubmVjdG9yLT5kZXYs
ICZhY3g1NjVha21fbW9kZSk7CiAJaWYgKCFtb2RlKQogCQlyZXR1cm4gLUVOT01FTTsKIApkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXRwby10ZDAyOHR0ZWMxLmMgYi9k
cml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtdHBvLXRkMDI4dHRlYzEuYwppbmRleCA1MjMwMTc2
YmQ4ZTYuLjM3MjUyNTkwYjU0MSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3Bh
bmVsLXRwby10ZDAyOHR0ZWMxLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXRw
by10ZDAyOHR0ZWMxLmMKQEAgLTI5Miw3ICsyOTIsNyBAQCBzdGF0aWMgaW50IHRkMDI4dHRlYzFf
Z2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsLAogewogCXN0cnVjdCBkcm1fZGlzcGxh
eV9tb2RlICptb2RlOwogCi0JbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShwYW5lbC0+ZHJtLCAm
dGQwMjh0dGVjMV9tb2RlKTsKKwltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKGNvbm5lY3Rvci0+
ZGV2LCAmdGQwMjh0dGVjMV9tb2RlKTsKIAlpZiAoIW1vZGUpCiAJCXJldHVybiAtRU5PTUVNOwog
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtdHBvLXRkMDQzbXRlYTEu
YyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC10cG8tdGQwNDNtdGVhMS5jCmluZGV4IDcx
NmY4ZWQxY2M0NS4uNzVmMWYxZjFiNmRlIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFu
ZWwvcGFuZWwtdHBvLXRkMDQzbXRlYTEuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFu
ZWwtdHBvLXRkMDQzbXRlYTEuYwpAQCAtMzUxLDcgKzM1MSw3IEBAIHN0YXRpYyBpbnQgdGQwNDNt
dGVhMV9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCiB7CiAJc3RydWN0IGRybV9k
aXNwbGF5X21vZGUgKm1vZGU7CiAKLQltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKHBhbmVsLT5k
cm0sICZ0ZDA0M210ZWExX21vZGUpOworCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUoY29ubmVj
dG9yLT5kZXYsICZ0ZDA0M210ZWExX21vZGUpOwogCWlmICghbW9kZSkKIAkJcmV0dXJuIC1FTk9N
RU07CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC10cG8tdHBnMTEw
LmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtdHBvLXRwZzExMC5jCmluZGV4IGU3NGNk
OWQ0MThjZi4uYmVlMjEzZWExYTQyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwv
cGFuZWwtdHBvLXRwZzExMC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC10cG8t
dHBnMTEwLmMKQEAgLTM5NCw3ICszOTQsNyBAQCBzdGF0aWMgaW50IHRwZzExMF9nZXRfbW9kZXMo
c3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCiAJY29ubmVjdG9yLT5kaXNwbGF5X2luZm8uaGVpZ2h0
X21tID0gdHBnLT5oZWlnaHQ7CiAJY29ubmVjdG9yLT5kaXNwbGF5X2luZm8uYnVzX2ZsYWdzID0g
dHBnLT5wYW5lbF9tb2RlLT5idXNfZmxhZ3M7CiAKLQltb2RlID0gZHJtX21vZGVfZHVwbGljYXRl
KHBhbmVsLT5kcm0sICZ0cGctPnBhbmVsX21vZGUtPm1vZGUpOworCW1vZGUgPSBkcm1fbW9kZV9k
dXBsaWNhdGUoY29ubmVjdG9yLT5kZXYsICZ0cGctPnBhbmVsX21vZGUtPm1vZGUpOwogCWRybV9t
b2RlX3NldF9uYW1lKG1vZGUpOwogCW1vZGUtPnR5cGUgPSBEUk1fTU9ERV9UWVBFX0RSSVZFUiB8
IERSTV9NT0RFX1RZUEVfUFJFRkVSUkVEOwogCmRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS9kcm1f
cGFuZWwuaCBiL2luY2x1ZGUvZHJtL2RybV9wYW5lbC5oCmluZGV4IGM0ZTgyYjljZTU4Ni4uOTVl
OTQxYzMxYzNiIDEwMDY0NAotLS0gYS9pbmNsdWRlL2RybS9kcm1fcGFuZWwuaAorKysgYi9pbmNs
dWRlL2RybS9kcm1fcGFuZWwuaApAQCAtMTA4LDEzICsxMDgsNiBAQCBzdHJ1Y3QgZHJtX3BhbmVs
X2Z1bmNzIHsKICAqIHN0cnVjdCBkcm1fcGFuZWwgLSBEUk0gcGFuZWwgb2JqZWN0CiAgKi8KIHN0
cnVjdCBkcm1fcGFuZWwgewotCS8qKgotCSAqIEBkcm06Ci0JICoKLQkgKiBEUk0gZGV2aWNlIG93
bmluZyB0aGUgcGFuZWwuCi0JICovCi0Jc3RydWN0IGRybV9kZXZpY2UgKmRybTsKLQogCS8qKgog
CSAqIEBkZXY6CiAJICoKLS0gCjIuMjAuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlz
dGluZm8vZHJpLWRldmVs
