Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id D7885580B7
	for <lists+dri-devel@lfdr.de>; Thu, 27 Jun 2019 12:44:08 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8D4D06E151;
	Thu, 27 Jun 2019 10:44:06 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ot1-x344.google.com (mail-ot1-x344.google.com
 [IPv6:2607:f8b0:4864:20::344])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 33D9E6E151
 for <dri-devel@lists.freedesktop.org>; Thu, 27 Jun 2019 10:44:05 +0000 (UTC)
Received: by mail-ot1-x344.google.com with SMTP id x21so1742892otq.12
 for <dri-devel@lists.freedesktop.org>; Thu, 27 Jun 2019 03:44:05 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=1zaq5T6GTpmrv5ZlTjuXUTUbL++Yv1jUyUGlAv7Kwjw=;
 b=Mn8z4D8I1zuGhYX3ErNvOFNP3fU6PsiUTNLdpROxW2CCXgN/8Cc77gQC8xpsv3r7nl
 i6L8OYokNDto1igNH7md+sWGrEL46Oo+DZ/UJforA2LxxN/cM8moPXfB4SjD8XY1OibU
 d2PL9yzcIwMpFFh1DPTgJnA7eIkQNuVSs/1lp+i894OKUwApZqQkuoIKO+GC9IZNBYIN
 98Dj5K90iZtQGB1G6uumzgCjx322CLGeVDC1Wa5CwNH6GhDbnJQeQt+6/TPpEPG0gxit
 f25w4GQA681eKudg/XfrBTyHvsTza1ZJVAerXyoYpi6/R/Mozo8melowAEVBfg821dm4
 gg4A==
X-Gm-Message-State: APjAAAXCP4kHVZzgIjeiXfB3jqpmAh49iuCDX2ilVMCZ4PuYjpkM4fRN
 HMTXNtSRUHBvLm7ckTYl40WN4fBvPk9spxrGP4BgoA==
X-Google-Smtp-Source: APXvYqzNpkGioPbfZptpk17FYvpFPU1OEve9qqH7G1dkZBtIVsec/DrbT2b5zMpKAtUxEA2eTv/3GGkaWn1ozff8Zu4=
X-Received: by 2002:a05:6830:4b:: with SMTP id
 d11mr2724166otp.106.1561632244405; 
 Thu, 27 Jun 2019 03:44:04 -0700 (PDT)
MIME-Version: 1.0
References: <20190627101813.61430-1-christian.koenig@amd.com>
 <20190627101813.61430-2-christian.koenig@amd.com>
In-Reply-To: <20190627101813.61430-2-christian.koenig@amd.com>
From: Daniel Vetter <daniel@ffwll.ch>
Date: Thu, 27 Jun 2019 12:43:52 +0200
Message-ID: <CAKMK7uGtdSxVSUor8P_8XH+uf4_A-kRfY6h+XnJoizscWE4AOg@mail.gmail.com>
Subject: Re: [PATCH 2/2] dma-buf: cleanup shared fence removal
To: =?UTF-8?Q?Christian_K=C3=B6nig?= <ckoenig.leichtzumerken@gmail.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=1zaq5T6GTpmrv5ZlTjuXUTUbL++Yv1jUyUGlAv7Kwjw=;
 b=AziMy065dQpAIS4ooTJnNFS0z+TJlb0PVVrSxtIs5N/tcyxMky/5VkzHB1I+57ZnHH
 jyK71hjRbjqXuiH2d/R/UMmmXmPx3KYHFh4sPYTZZXpSpHOVn99zEUhxWOKPmu1UaQSS
 LUSjdgNJYlIhzAAhrm/iG3MjUJj+4hk6Lg24o=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: dri-devel <dri-devel@lists.freedesktop.org>,
 amd-gfx list <amd-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVGh1LCBKdW4gMjcsIDIwMTkgYXQgMTI6MTggUE0gQ2hyaXN0aWFuIEvDtm5pZwo8Y2tvZW5p
Zy5sZWljaHR6dW1lcmtlbkBnbWFpbC5jb20+IHdyb3RlOgo+Cj4gV2hpbGUgZnJlZWluZyB1cCBt
ZW1vcnkgaXQgaXMgZWFzaWVyIHRvIHJlbW92ZSBhIGZlbmNlIGZyb20gYSByZXNlcnZhdGlvbgo+
IG9iamVjdCBpbnN0ZWFkIG9mIHNpZ25hbGluZyBpdCBhbmQgaW5zdGFsbGluZyBhIG5ldyBvbmUg
aW4gYWxsIG90aGVyIG9iamVjdHMuCj4KPiBDbGVhbiB0aGlzIHVwIGJ5IGFkZGluZyB0aGUgcmVt
b3ZhbCBmdW5jdGlvbiB0byB0aGUgY29yZSByZXNlcnZhdGlvbiBvYmplY3QKPiBjb2RlIGluc3Rl
YWQgb2YgbWVzc2luZyB3aXRoIHRoZSBpbnRlcm5hbCBpbiBhbWRncHUuCj4KPiBObyBmdW5jdGlv
bmFsIGNoYW5nZS4KPgo+IFNpZ25lZC1vZmYtYnk6IENocmlzdGlhbiBLw7ZuaWcgPGNocmlzdGlh
bi5rb2VuaWdAYW1kLmNvbT4KPiAtLS0KPiAgZHJpdmVycy9kbWEtYnVmL3Jlc2VydmF0aW9uLmMg
ICAgICAgICAgICAgICAgIHwgNjIgKysrKysrKysrKysrKysrKysrKwo+ICAuLi4vZ3B1L2RybS9h
bWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmRfZ3B1dm0uYyAgfCA0NSArLS0tLS0tLS0tLS0tLQo+ICBp
bmNsdWRlL2xpbnV4L3Jlc2VydmF0aW9uLmggICAgICAgICAgICAgICAgICAgfCAgMyArLQo+ICAz
IGZpbGVzIGNoYW5nZWQsIDY1IGluc2VydGlvbnMoKyksIDQ1IGRlbGV0aW9ucygtKQo+Cj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZG1hLWJ1Zi9yZXNlcnZhdGlvbi5jIGIvZHJpdmVycy9kbWEtYnVm
L3Jlc2VydmF0aW9uLmMKPiBpbmRleCBlZjcxMGVmZmVkZmEuLmU0M2EzMTZhMDA1ZCAxMDA2NDQK
PiAtLS0gYS9kcml2ZXJzL2RtYS1idWYvcmVzZXJ2YXRpb24uYwo+ICsrKyBiL2RyaXZlcnMvZG1h
LWJ1Zi9yZXNlcnZhdGlvbi5jCj4gQEAgLTIzMSw2ICsyMzEsNjggQEAgdm9pZCByZXNlcnZhdGlv
bl9vYmplY3RfYWRkX3NoYXJlZF9mZW5jZShzdHJ1Y3QgcmVzZXJ2YXRpb25fb2JqZWN0ICpvYmos
Cj4gIH0KPiAgRVhQT1JUX1NZTUJPTChyZXNlcnZhdGlvbl9vYmplY3RfYWRkX3NoYXJlZF9mZW5j
ZSk7Cj4KPiArLyoqCj4gKyAqIHJlc2VydmF0aW9uX29iamVjdF9yZW1vdmVfc2hhcmVkX2ZlbmNl
IC0gcmVtb3ZlIHNoYXJlZCBmZW5jZXMKPiArICogQG9iajogdGhlIHJlc2VydmF0aW9uIG9iamVj
dAo+ICsgKiBAY29udGV4dDogdGhlIGNvbnRleHQgb2YgdGhlIGZlbmNlcyB0byByZW1vdmUKPiAr
ICoKPiArICogUmVtb3ZlIHNoYXJlZCBmZW5jZXMgYmFzZWQgb24gdGhlaXIgZmVuY2UgY29udGV4
dC4KPiArICovCgpUaGlzIG5lZWRzIGEgc2VyaW91cyBleHBsYW5hdGlvbiBvZiAid2h5PyIuIFJl
bW92aW5nIGZlbmNlcyB3aXRob3V0Cmd1YXJhbnRlZWluZyB0aGV5J3JlIGFsbCBzaWduYWxlZCBp
cyBhIGdvb2Qgd2F5IHRvIGNyZWF0ZSBoYXZvYy4gWW91cgpjb21taXQgbWVzc2FnZSBoYXMgYSBm
ZXcgd29yZHMgYWJvdXQgd2hhdCB5b3UncmUgZG9pbmcgaGVyZSwgYnV0IGl0CnN0aWxsIGRvZXNu
J3QgZXhwbGFpbiB3aHkgdGhpcyBpcyBzYWZlIGFuZCB3aGVuIGV4YWN0bHkgaXQgc2hvdWxkIGJl
CnVzZWQuCgpBbHNvIEknbSBub3Qgc3VyZSAoZGVwZW5kaW5nIHVwb24gd2hhdCB5b3UgdXNlIHRo
aXMgZm9yKSB0aGlzIGlzCmFjdHVhbGx5IGNvcnJlY3Qgb3V0c2lkZSBvZiBhbWRncHUgYW5kIGl0
J3MgaWdub3JhbmNlIG9mIHRoZSBleGNsdXNpdmUKZmVuY2UuCi1EYW5pZWwKCj4gK2ludCByZXNl
cnZhdGlvbl9vYmplY3RfcmVtb3ZlX3NoYXJlZF9mZW5jZShzdHJ1Y3QgcmVzZXJ2YXRpb25fb2Jq
ZWN0ICpvYmosCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVp
bnQ2NF90IGNvbnRleHQpCj4gK3sKPiArICAgICAgIHN0cnVjdCByZXNlcnZhdGlvbl9vYmplY3Rf
bGlzdCAqb2xkLCAqbmV3Owo+ICsgICAgICAgdW5zaWduZWQgaW50IGksIGosIGs7Cj4gKwo+ICsg
ICAgICAgcmVzZXJ2YXRpb25fb2JqZWN0X2Fzc2VydF9oZWxkKG9iaik7Cj4gKwo+ICsgICAgICAg
b2xkID0gcmVzZXJ2YXRpb25fb2JqZWN0X2dldF9saXN0KG9iaik7Cj4gKyAgICAgICBpZiAoIW9s
ZCkKPiArICAgICAgICAgICAgICAgcmV0dXJuIDA7Cj4gKwo+ICsgICAgICAgbmV3ID0ga21hbGxv
YyhvZmZzZXRvZih0eXBlb2YoKm5ldyksIHNoYXJlZFtvbGQtPnNoYXJlZF9tYXhdKSwKPiArICAg
ICAgICAgICAgICAgICAgICAgR0ZQX0tFUk5FTCk7Cj4gKyAgICAgICBpZiAoIW5ldykKPiArICAg
ICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gKwo+ICsgICAgICAgLyogR28gdGhyb3VnaCBh
bGwgdGhlIHNoYXJlZCBmZW5jZXMgaW4gdGhlIHJlc2V2YXRpb24gb2JqZWN0IGFuZCBzb3J0Cj4g
KyAgICAgICAgKiB0aGUgaW50ZXJlc3Rpbmcgb25lcyB0byB0aGUgZW5kIG9mIHRoZSBuZXcgbGlz
dC4KPiArICAgICAgICAqLwo+ICsgICAgICAgZm9yIChpID0gMCwgaiA9IG9sZC0+c2hhcmVkX2Nv
dW50LCBrID0gMDsgaSA8IG9sZC0+c2hhcmVkX2NvdW50OyArK2kpIHsKPiArICAgICAgICAgICAg
ICAgc3RydWN0IGRtYV9mZW5jZSAqZjsKPiArCj4gKyAgICAgICAgICAgICAgIGYgPSByY3VfZGVy
ZWZlcmVuY2VfcHJvdGVjdGVkKG9sZC0+c2hhcmVkW2ldLAo+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICByZXNlcnZhdGlvbl9vYmplY3RfaGVsZChvYmopKTsK
PiArCj4gKyAgICAgICAgICAgICAgIGlmIChmLT5jb250ZXh0ID09IGNvbnRleHQpCj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgUkNVX0lOSVRfUE9JTlRFUihuZXctPnNoYXJlZFstLWpdLCBmKTsK
PiArICAgICAgICAgICAgICAgZWxzZQo+ICsgICAgICAgICAgICAgICAgICAgICAgIFJDVV9JTklU
X1BPSU5URVIobmV3LT5zaGFyZWRbaysrXSwgZik7Cj4gKyAgICAgICB9Cj4gKyAgICAgICBuZXct
PnNoYXJlZF9tYXggPSBvbGQtPnNoYXJlZF9tYXg7Cj4gKyAgICAgICBuZXctPnNoYXJlZF9jb3Vu
dCA9IGs7Cj4gKwo+ICsgICAgICAgLyogSW5zdGFsbCB0aGUgbmV3IGZlbmNlIGxpc3QsIHNlcWNv
dW50IHByb3ZpZGVzIHRoZSBiYXJyaWVycyAqLwo+ICsgICAgICAgcHJlZW1wdF9kaXNhYmxlKCk7
Cj4gKyAgICAgICB3cml0ZV9zZXFjb3VudF9iZWdpbigmb2JqLT5zZXEpOwo+ICsgICAgICAgUkNV
X0lOSVRfUE9JTlRFUihvYmotPmZlbmNlLCBuZXcpOwo+ICsgICAgICAgd3JpdGVfc2VxY291bnRf
ZW5kKCZvYmotPnNlcSk7Cj4gKyAgICAgICBwcmVlbXB0X2VuYWJsZSgpOwo+ICsKPiArICAgICAg
IC8qIERyb3AgdGhlIHJlZmVyZW5jZXMgdG8gdGhlIHJlbW92ZWQgZmVuY2VzICovCj4gKyAgICAg
ICBmb3IgKGkgPSBqLCBrID0gMDsgaSA8IG9sZC0+c2hhcmVkX2NvdW50OyArK2kpIHsKPiArICAg
ICAgICAgICAgICAgc3RydWN0IGRtYV9mZW5jZSAqZjsKPiArCj4gKyAgICAgICAgICAgICAgIGYg
PSByY3VfZGVyZWZlcmVuY2VfcHJvdGVjdGVkKG5ldy0+c2hhcmVkW2ldLAo+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNlcnZhdGlvbl9vYmplY3RfaGVs
ZChvYmopKTsKPiArICAgICAgICAgICAgICAgZG1hX2ZlbmNlX3B1dChmKTsKPiArICAgICAgIH0K
PiArICAgICAgIGtmcmVlX3JjdShvbGQsIHJjdSk7Cj4gKwo+ICsgICAgICAgcmV0dXJuIDA7Cj4g
K30KPiArRVhQT1JUX1NZTUJPTChyZXNlcnZhdGlvbl9vYmplY3RfcmVtb3ZlX3NoYXJlZF9mZW5j
ZSk7Cj4gKwo+ICAvKioKPiAgICogcmVzZXJ2YXRpb25fb2JqZWN0X2FkZF9leGNsX2ZlbmNlIC0g
QWRkIGFuIGV4Y2x1c2l2ZSBmZW5jZS4KPiAgICogQG9iajogdGhlIHJlc2VydmF0aW9uIG9iamVj
dAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYW1ka2Zk
X2dwdXZtLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYW1ka2ZkX2dwdXZt
LmMKPiBpbmRleCAxMGFiYWUzOThlNTEuLjliMjVhZDNkMDAzZSAxMDA2NDQKPiAtLS0gYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYW1ka2ZkX2dwdXZtLmMKPiArKysgYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYW1ka2ZkX2dwdXZtLmMKPiBAQCAtMjI0LDUw
ICsyMjQsNyBAQCBzdGF0aWMgaW50IGFtZGdwdV9hbWRrZmRfcmVtb3ZlX2V2aWN0aW9uX2ZlbmNl
KHN0cnVjdCBhbWRncHVfYm8gKmJvLAo+ICAgICAgICAgaWYgKCFlZikKPiAgICAgICAgICAgICAg
ICAgcmV0dXJuIC1FSU5WQUw7Cj4KPiAtICAgICAgIG9sZCA9IHJlc2VydmF0aW9uX29iamVjdF9n
ZXRfbGlzdChyZXN2KTsKPiAtICAgICAgIGlmICghb2xkKQo+IC0gICAgICAgICAgICAgICByZXR1
cm4gMDsKPiAtCj4gLSAgICAgICBuZXcgPSBrbWFsbG9jKG9mZnNldG9mKHR5cGVvZigqbmV3KSwg
c2hhcmVkW29sZC0+c2hhcmVkX21heF0pLAo+IC0gICAgICAgICAgICAgICAgICAgICBHRlBfS0VS
TkVMKTsKPiAtICAgICAgIGlmICghbmV3KQo+IC0gICAgICAgICAgICAgICByZXR1cm4gLUVOT01F
TTsKPiAtCj4gLSAgICAgICAvKiBHbyB0aHJvdWdoIGFsbCB0aGUgc2hhcmVkIGZlbmNlcyBpbiB0
aGUgcmVzZXZhdGlvbiBvYmplY3QgYW5kIHNvcnQKPiAtICAgICAgICAqIHRoZSBpbnRlcmVzdGlu
ZyBvbmVzIHRvIHRoZSBlbmQgb2YgdGhlIGxpc3QuCj4gLSAgICAgICAgKi8KPiAtICAgICAgIGZv
ciAoaSA9IDAsIGogPSBvbGQtPnNoYXJlZF9jb3VudCwgayA9IDA7IGkgPCBvbGQtPnNoYXJlZF9j
b3VudDsgKytpKSB7Cj4gLSAgICAgICAgICAgICAgIHN0cnVjdCBkbWFfZmVuY2UgKmY7Cj4gLQo+
IC0gICAgICAgICAgICAgICBmID0gcmN1X2RlcmVmZXJlbmNlX3Byb3RlY3RlZChvbGQtPnNoYXJl
ZFtpXSwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVz
ZXJ2YXRpb25fb2JqZWN0X2hlbGQocmVzdikpOwo+IC0KPiAtICAgICAgICAgICAgICAgaWYgKGYt
PmNvbnRleHQgPT0gZWYtPmJhc2UuY29udGV4dCkKPiAtICAgICAgICAgICAgICAgICAgICAgICBS
Q1VfSU5JVF9QT0lOVEVSKG5ldy0+c2hhcmVkWy0tal0sIGYpOwo+IC0gICAgICAgICAgICAgICBl
bHNlCj4gLSAgICAgICAgICAgICAgICAgICAgICAgUkNVX0lOSVRfUE9JTlRFUihuZXctPnNoYXJl
ZFtrKytdLCBmKTsKPiAtICAgICAgIH0KPiAtICAgICAgIG5ldy0+c2hhcmVkX21heCA9IG9sZC0+
c2hhcmVkX21heDsKPiAtICAgICAgIG5ldy0+c2hhcmVkX2NvdW50ID0gazsKPiAtCj4gLSAgICAg
ICAvKiBJbnN0YWxsIHRoZSBuZXcgZmVuY2UgbGlzdCwgc2VxY291bnQgcHJvdmlkZXMgdGhlIGJh
cnJpZXJzICovCj4gLSAgICAgICBwcmVlbXB0X2Rpc2FibGUoKTsKPiAtICAgICAgIHdyaXRlX3Nl
cWNvdW50X2JlZ2luKCZyZXN2LT5zZXEpOwo+IC0gICAgICAgUkNVX0lOSVRfUE9JTlRFUihyZXN2
LT5mZW5jZSwgbmV3KTsKPiAtICAgICAgIHdyaXRlX3NlcWNvdW50X2VuZCgmcmVzdi0+c2VxKTsK
PiAtICAgICAgIHByZWVtcHRfZW5hYmxlKCk7Cj4gLQo+IC0gICAgICAgLyogRHJvcCB0aGUgcmVm
ZXJlbmNlcyB0byB0aGUgcmVtb3ZlZCBmZW5jZXMgb3IgbW92ZSB0aGVtIHRvIGVmX2xpc3QgKi8K
PiAtICAgICAgIGZvciAoaSA9IGosIGsgPSAwOyBpIDwgb2xkLT5zaGFyZWRfY291bnQ7ICsraSkg
ewo+IC0gICAgICAgICAgICAgICBzdHJ1Y3QgZG1hX2ZlbmNlICpmOwo+IC0KPiAtICAgICAgICAg
ICAgICAgZiA9IHJjdV9kZXJlZmVyZW5jZV9wcm90ZWN0ZWQobmV3LT5zaGFyZWRbaV0sCj4gLSAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2VydmF0aW9uX29i
amVjdF9oZWxkKHJlc3YpKTsKPiAtICAgICAgICAgICAgICAgZG1hX2ZlbmNlX3B1dChmKTsKPiAt
ICAgICAgIH0KPiAtICAgICAgIGtmcmVlX3JjdShvbGQsIHJjdSk7Cj4gLQo+IC0gICAgICAgcmV0
dXJuIDA7Cj4gKyAgICAgICByZXR1cm4gcmVzZXJ2YXRpb25fb2JqZWN0X3JlbW92ZV9zaGFyZWRf
ZmVuY2UocmVzdiwgZWYtPmJhc2UuY29udGV4dCk7Cj4gIH0KPgo+ICBzdGF0aWMgaW50IGFtZGdw
dV9hbWRrZmRfYm9fdmFsaWRhdGUoc3RydWN0IGFtZGdwdV9ibyAqYm8sIHVpbnQzMl90IGRvbWFp
biwKPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9saW51eC9yZXNlcnZhdGlvbi5oIGIvaW5jbHVkZS9s
aW51eC9yZXNlcnZhdGlvbi5oCj4gaW5kZXggZjQ3ZTgxOTZkMDM5Li4xYzgzM2E1NmI2NzggMTAw
NjQ0Cj4gLS0tIGEvaW5jbHVkZS9saW51eC9yZXNlcnZhdGlvbi5oCj4gKysrIGIvaW5jbHVkZS9s
aW51eC9yZXNlcnZhdGlvbi5oCj4gQEAgLTIyOSw3ICsyMjksOCBAQCBpbnQgcmVzZXJ2YXRpb25f
b2JqZWN0X3Jlc2VydmVfc2hhcmVkKHN0cnVjdCByZXNlcnZhdGlvbl9vYmplY3QgKm9iaiwKPiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGludCBudW1fZmVu
Y2VzKTsKPiAgdm9pZCByZXNlcnZhdGlvbl9vYmplY3RfYWRkX3NoYXJlZF9mZW5jZShzdHJ1Y3Qg
cmVzZXJ2YXRpb25fb2JqZWN0ICpvYmosCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBzdHJ1Y3QgZG1hX2ZlbmNlICpmZW5jZSk7Cj4gLQo+ICtpbnQgcmVzZXJ2YXRp
b25fb2JqZWN0X3JlbW92ZV9zaGFyZWRfZmVuY2Uoc3RydWN0IHJlc2VydmF0aW9uX29iamVjdCAq
b2JqLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50NjRf
dCBjb250ZXh0KTsKPiAgdm9pZCByZXNlcnZhdGlvbl9vYmplY3RfYWRkX2V4Y2xfZmVuY2Uoc3Ry
dWN0IHJlc2VydmF0aW9uX29iamVjdCAqb2JqLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlKTsKPgo+IC0tCj4gMi4xNy4xCj4K
PiBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwo+IGRyaS1k
ZXZlbCBtYWlsaW5nIGxpc3QKPiBkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCj4gaHR0
cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWwKCgoK
LS0gCkRhbmllbCBWZXR0ZXIKU29mdHdhcmUgRW5naW5lZXIsIEludGVsIENvcnBvcmF0aW9uCis0
MSAoMCkgNzkgMzY1IDU3IDQ4IC0gaHR0cDovL2Jsb2cuZmZ3bGwuY2gKX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApk
cmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Au
b3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
