Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 6305719BC2A
	for <lists+dri-devel@lfdr.de>; Thu,  2 Apr 2020 09:04:34 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B82446E9D5;
	Thu,  2 Apr 2020 07:04:29 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from NAM12-DM6-obe.outbound.protection.outlook.com
 (mail-dm6nam12on2086.outbound.protection.outlook.com [40.107.243.86])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 637D56E9D5
 for <dri-devel@lists.freedesktop.org>; Thu,  2 Apr 2020 07:04:29 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=iq7/qEP0OCt7EMPpz3sP9yiECuZULhPmZQKxQIXjTj7Gu5VGLM7lIgziTWbenSybboYlFYq7cskYJs5ZxByoEBSIb/UszjyPj3+b83oE0hQ1zVL6Mv7PllJDWa4P8qCfZqrqpBFEovSeAGEEWm9YCa/FLWWKSPI3ZnvCThcRmHEQZASqWdPtbjXBnYsCNsXiRGVKm7r5T45iW4Nj3qp9vhICGwT1+gfwi75Lh5l8FK8zTMz9MAcxVq9ncGi5zIp3qOqKG9O3pOFVEJ2FDz1Oi0liKRkxUWX9QQki4U/Y6dY1/Sedu2S2madFP3L3iSKe+x2XGdN9JGlUD7Ov2Sz9WQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=l4MMf4+gr312g9FbNH32VujzuxCFRHB6ARPmWZKDjYM=;
 b=AK75UL2wMfO1eKiZu1SyBKOsu8QrVJTruUAtBcFrDSQ1vJJFZFrll8ElwH/bDaDM8bAYR0Y3VAqzlAakYu1bCiipulXkUdMgTYjqHQktrj9FaIl45nHBu3yLC1EFfXsHrRJW2BJfp+WabjRKW5gK23UYE9jZuBIYeiX+DeZxwT97Ka4irk0bp4/kLAqSeVxZ2nMtHT4B17qtpP+XQ0b8/QwOYRww9PH4TGT738eLSdpT6RBYKTxGUVPQUfGARW9RR4FyeSYencIBm6UyGEv+voPGiM7G1OeW7PoYTRg3M25tj0didOzkAaUBLOREUJvWzkqJhSaT2GtnAwNDq4OmYA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=l4MMf4+gr312g9FbNH32VujzuxCFRHB6ARPmWZKDjYM=;
 b=xs8DLm7B1Pvtj5+rpsqqsmFDmifiY0oqFghhHsK4Hb7IvkKYBPQ+ofuagnN3jCVnaDECTiGMCaE0UKkwfbfcCb9H0z0uBqAlr1GVeGRuEdzBSvkpIc+Qws8wiex5TEJBOGv5AOgDh52eBz0vjlV4gRNOtv+glT1Vx+kRnhTspeY=
Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Christian.Koenig@amd.com; 
Received: from DM6PR12MB4401.namprd12.prod.outlook.com (2603:10b6:5:2a9::15)
 by DM6PR12MB4219.namprd12.prod.outlook.com (2603:10b6:5:217::14) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2856.19; Thu, 2 Apr
 2020 07:04:26 +0000
Received: from DM6PR12MB4401.namprd12.prod.outlook.com
 ([fe80::f164:85c4:1b51:14d2]) by DM6PR12MB4401.namprd12.prod.outlook.com
 ([fe80::f164:85c4:1b51:14d2%4]) with mapi id 15.20.2856.019; Thu, 2 Apr 2020
 07:04:26 +0000
Subject: Re: [PATCH 4/8] drm/nouveau: don't use ttm bo->offset v3
To: Nirmoy Das <nirmoy.aiemd@gmail.com>, dri-devel@lists.freedesktop.org
References: <20200401184247.16643-1-nirmoy.das@amd.com>
 <20200401184247.16643-5-nirmoy.das@amd.com>
From: =?UTF-8?Q?Christian_K=c3=b6nig?= <christian.koenig@amd.com>
Message-ID: <0b194e95-3e1d-2ff8-2ac0-400802e771ea@amd.com>
Date: Thu, 2 Apr 2020 09:04:18 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.0
In-Reply-To: <20200401184247.16643-5-nirmoy.das@amd.com>
Content-Language: en-US
X-ClientProxiedBy: AM0PR0202CA0027.eurprd02.prod.outlook.com
 (2603:10a6:208:1::40) To DM6PR12MB4401.namprd12.prod.outlook.com
 (2603:10b6:5:2a9::15)
MIME-Version: 1.0
X-MS-Exchange-MessageSentRepresentingType: 1
Received: from [IPv6:2a02:908:1252:fb60:be8a:bd56:1f94:86e7]
 (2a02:908:1252:fb60:be8a:bd56:1f94:86e7) by
 AM0PR0202CA0027.eurprd02.prod.outlook.com (2603:10a6:208:1::40) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2878.16 via Frontend
 Transport; Thu, 2 Apr 2020 07:04:23 +0000
X-Originating-IP: [2a02:908:1252:fb60:be8a:bd56:1f94:86e7]
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-HT: Tenant
X-MS-Office365-Filtering-Correlation-Id: 4c0e7ff3-f895-407e-c8ff-08d7d6d41478
X-MS-TrafficTypeDiagnostic: DM6PR12MB4219:|DM6PR12MB4219:
X-MS-Exchange-Transport-Forked: True
X-Microsoft-Antispam-PRVS: <DM6PR12MB4219EDB65639840622B1193283C60@DM6PR12MB4219.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:8882;
X-Forefront-PRVS: 0361212EA8
X-Forefront-Antispam-Report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:DM6PR12MB4401.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFTY:;
 SFS:(10009020)(4636009)(136003)(39860400002)(366004)(346002)(396003)(376002)(4326008)(16526019)(36756003)(66556008)(478600001)(66946007)(7416002)(6486002)(2906002)(31686004)(8676002)(316002)(52116002)(31696002)(186003)(66476007)(86362001)(8936002)(66574012)(2616005)(81166006)(30864003)(5660300002)(6666004)(81156014);
 DIR:OUT; SFP:1101; 
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: Y6wh6z62vfjDsfVbl4Q3ard4V8wisnmPtZJJEcsvH3qoTGU8lbEROUbTRgkKcuI4W8i+H//J/MsKPX6ZkQIyoIuzNYrMmZHO7U5tFXhzojFXRZ4h6Xb9zd5YuTqqhB6S62CtL+XdRuW1zkLeo20RcLemclqctDiUidMlSLyXE3sM9eIMrOIiSqRL82ZZzGGObxWZT8r8/yO65WpQN9F6Tmd2dy0yeSan/Sj9nPtg68zud/H9YYTc0PtB6XpPkkYeNxneu0a9llDBUadEGGT2DBqYNk32haPWAvp4g0bninMweOj+jEJSWY3/zoi38PuN6E4+6dyEfCOwYZNtiEY4Pxwc5Jm78S9JuG+Kg2hdRmllOlHBXs1AilwzqyMJivhBjSPn/GKpOYxUkdYezHw27HvimOnOWl6bI7yko3kOeK0hjUNP8KQlA7QR1KvCmYrt
X-MS-Exchange-AntiSpam-MessageData: YO5tfSC5OJtXx7fA3PmPMOmJiPwHyjqeOQIZAFFIQvh01wztUMhwIfh43/56/QcbwOp9cpV/Co2HeM5P+iChh9JeyUEYLGQkvf3YNsn6osD+CRYdCp3x3KNHXM35BGpIy62/ysWB174J4AJU5Znl01Lf2RR09m2evx4rHY03+aiAfGPPQQa28GyQavZO8ez3vX/CZgu8TNQQieSYITfOAg==
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 4c0e7ff3-f895-407e-c8ff-08d7d6d41478
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 02 Apr 2020 07:04:26.3315 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: xTUCTU60ilmSxJcsoKS+BC/rVgm9Sez+fgf9E5MBRbDtS2LDlK12mym/NaLHN8VM
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM6PR12MB4219
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: thellstrom@vmware.com, airlied@linux.ie, kenny.ho@amd.com,
 brian.welty@intel.com, nirmoy.das@amd.com,
 linux-graphics-maintainer@vmware.com, kraxel@redhat.com,
 alexander.deucher@amd.com, sean@poorly.run, bskeggs@redhat.com
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QW0gMDEuMDQuMjAgdW0gMjA6NDIgc2NocmllYiBOaXJtb3kgRGFzOgo+IFN0b3JlIHR0bSBiby0+
b2Zmc2V0IGluIHN0cnVjdCBub3V2ZWF1X2JvIGluc3RlYWQuCj4KPiBTaWduZWQtb2ZmLWJ5OiBO
aXJtb3kgRGFzIDxuaXJtb3kuZGFzQGFtZC5jb20+CgpBY2tlZC1ieTogQ2hyaXN0aWFuIEvDtm5p
ZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPgoKSXQgd291bGQgaW5kZWVkIGJlIGJldHRlciBp
ZiBvbmUgb2YgdGhlIG5vdXZlYXUgbWFpbnRhaW5lciBjb3VsZCB0YWtlIGEgCmxvb2sgc2luY2Ug
dGhpcyBpcyB0aGUgbGFzdCBkcml2ZXIgYmxvY2tpbmcgdGhpcyBjaGFuZ2UuCgpPbiB0aGUgb3Ro
ZXIgaGFuZCBpdCBpcyBzbyBzdHJhaWdodCBmb3J3YXJkIHRoYXQgaXQgbW9zdCBsaWtlbHkgZG9l
c24ndCAKY2F1c2UgYW55IHByb2JsZW1zLgoKQXMgc29vbiBhcyBJIGdldCBhbiBvayBJJ20gZ29p
bmcgdG8gbWVyZ2UgdGhpcyB0aHJvdWdoIGRybS1taXNjLW5leHQuCgpSZWdhcmRzLApDaHJpc3Rp
YW4uCgo+IC0tLQo+ICAgZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvZGlzcG52MDQvY3J0Yy5jICAg
ICB8ICA2ICsrKy0tLQo+ICAgZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvZGlzcG52MDQvZGlzcC5j
ICAgICB8ICAyICstCj4gICBkcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9kaXNwbnYwNC9vdmVybGF5
LmMgIHwgIDYgKysrLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9kaXNwbnY1MC9iYXNl
NTA3Yy5jIHwgIDIgKy0KPiAgIGRyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L2Rpc3BudjUwL2NvcmU1
MDdkLmMgfCAgMiArLQo+ICAgZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvZGlzcG52NTAvb3ZseTUw
N2UuYyB8ICAyICstCj4gICBkcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9kaXNwbnY1MC93bmR3LmMg
ICAgIHwgIDIgKy0KPiAgIGRyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L2Rpc3BudjUwL3duZHdjMzdl
LmMgfCAgMiArLQo+ICAgZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbm91dmVhdV9hYmkxNi5jICAg
ICB8ICA4ICsrKystLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X2JvLmMg
ICAgICAgIHwgIDggKysrKysrKysKPiAgIGRyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVf
Ym8uaCAgICAgICAgfCAgMyArKysKPiAgIGRyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVf
Y2hhbi5jICAgICAgfCAgMiArLQo+ICAgZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbm91dmVhdV9k
bWVtLmMgICAgICB8ICAyICstCj4gICBkcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X2Zi
Y29uLmMgICAgIHwgIDIgKy0KPiAgIGRyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfZ2Vt
LmMgICAgICAgfCAxMCArKysrKy0tLS0tCj4gICAxNSBmaWxlcyBjaGFuZ2VkLCAzNSBpbnNlcnRp
b25zKCspLCAyNCBkZWxldGlvbnMoLSkKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
bm91dmVhdS9kaXNwbnYwNC9jcnRjLmMgYi9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9kaXNwbnYw
NC9jcnRjLmMKPiBpbmRleCAxZjA4ZGU0MjQxZTAuLmQwNmE5M2YyYjM4YSAxMDA2NDQKPiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9kaXNwbnYwNC9jcnRjLmMKPiArKysgYi9kcml2ZXJz
L2dwdS9kcm0vbm91dmVhdS9kaXNwbnYwNC9jcnRjLmMKPiBAQCAtODQ1LDcgKzg0NSw3IEBAIG52
MDRfY3J0Y19kb19tb2RlX3NldF9iYXNlKHN0cnVjdCBkcm1fY3J0YyAqY3J0YywKPiAgIAkJZmIg
PSBub3V2ZWF1X2ZyYW1lYnVmZmVyKGNydGMtPnByaW1hcnktPmZiKTsKPiAgIAl9Cj4gICAKPiAt
CW52X2NydGMtPmZiLm9mZnNldCA9IGZiLT5udmJvLT5iby5vZmZzZXQ7Cj4gKwludl9jcnRjLT5m
Yi5vZmZzZXQgPSBmYi0+bnZiby0+b2Zmc2V0Owo+ICAgCj4gICAJaWYgKG52X2NydGMtPmx1dC5k
ZXB0aCAhPSBkcm1fZmItPmZvcm1hdC0+ZGVwdGgpIHsKPiAgIAkJbnZfY3J0Yy0+bHV0LmRlcHRo
ID0gZHJtX2ZiLT5mb3JtYXQtPmRlcHRoOwo+IEBAIC0xMDEzLDcgKzEwMTMsNyBAQCBudjA0X2Ny
dGNfY3Vyc29yX3NldChzdHJ1Y3QgZHJtX2NydGMgKmNydGMsIHN0cnVjdCBkcm1fZmlsZSAqZmls
ZV9wcml2LAo+ICAgCQludjA0X2N1cnNvcl91cGxvYWQoZGV2LCBjdXJzb3IsIG52X2NydGMtPmN1
cnNvci5udmJvKTsKPiAgIAo+ICAgCW5vdXZlYXVfYm9fdW5tYXAoY3Vyc29yKTsKPiAtCW52X2Ny
dGMtPmN1cnNvci5vZmZzZXQgPSBudl9jcnRjLT5jdXJzb3IubnZiby0+Ym8ub2Zmc2V0Owo+ICsJ
bnZfY3J0Yy0+Y3Vyc29yLm9mZnNldCA9IG52X2NydGMtPmN1cnNvci5udmJvLT5vZmZzZXQ7Cj4g
ICAJbnZfY3J0Yy0+Y3Vyc29yLnNldF9vZmZzZXQobnZfY3J0YywgbnZfY3J0Yy0+Y3Vyc29yLm9m
ZnNldCk7Cj4gICAJbnZfY3J0Yy0+Y3Vyc29yLnNob3cobnZfY3J0YywgdHJ1ZSk7Cj4gICBvdXQ6
Cj4gQEAgLTExOTEsNyArMTE5MSw3IEBAIG52MDRfY3J0Y19wYWdlX2ZsaXAoc3RydWN0IGRybV9j
cnRjICpjcnRjLCBzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpmYiwKPiAgIAkvKiBJbml0aWFsaXpl
IGEgcGFnZSBmbGlwIHN0cnVjdCAqLwo+ICAgCSpzID0gKHN0cnVjdCBudjA0X3BhZ2VfZmxpcF9z
dGF0ZSkKPiAgIAkJeyB7IH0sIGV2ZW50LCBjcnRjLCBmYi0+Zm9ybWF0LT5jcHBbMF0gKiA4LCBm
Yi0+cGl0Y2hlc1swXSwKPiAtCQkgIG5ld19iby0+Ym8ub2Zmc2V0IH07Cj4gKwkJICBuZXdfYm8t
Pm9mZnNldCB9Owo+ICAgCj4gICAJLyogS2VlcCB2YmxhbmtzIG9uIGR1cmluZyBmbGlwLCBmb3Ig
dGhlIHRhcmdldCBjcnRjIG9mIHRoaXMgZmxpcCAqLwo+ICAgCWRybV9jcnRjX3ZibGFua19nZXQo
Y3J0Yyk7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L2Rpc3BudjA0L2Rp
c3AuYyBiL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L2Rpc3BudjA0L2Rpc3AuYwo+IGluZGV4IDQ0
ZWU4MmQwYzliNi4uODlhNGRkZmNjNTVmIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9u
b3V2ZWF1L2Rpc3BudjA0L2Rpc3AuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L2Rp
c3BudjA0L2Rpc3AuYwo+IEBAIC0xNTEsNyArMTUxLDcgQEAgbnYwNF9kaXNwbGF5X2luaXQoc3Ry
dWN0IGRybV9kZXZpY2UgKmRldiwgYm9vbCByZXN1bWUsIGJvb2wgcnVudGltZSkKPiAgIAkJCWNv
bnRpbnVlOwo+ICAgCj4gICAJCWlmIChudl9jcnRjLT5jdXJzb3Iuc2V0X29mZnNldCkKPiAtCQkJ
bnZfY3J0Yy0+Y3Vyc29yLnNldF9vZmZzZXQobnZfY3J0YywgbnZfY3J0Yy0+Y3Vyc29yLm52Ym8t
PmJvLm9mZnNldCk7Cj4gKwkJCW52X2NydGMtPmN1cnNvci5zZXRfb2Zmc2V0KG52X2NydGMsIG52
X2NydGMtPmN1cnNvci5udmJvLT5vZmZzZXQpOwo+ICAgCQludl9jcnRjLT5jdXJzb3Iuc2V0X3Bv
cyhudl9jcnRjLCBudl9jcnRjLT5jdXJzb3Jfc2F2ZWRfeCwKPiAgIAkJCQkJCSBudl9jcnRjLT5j
dXJzb3Jfc2F2ZWRfeSk7Cj4gICAJfQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbm91
dmVhdS9kaXNwbnYwNC9vdmVybGF5LmMgYi9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9kaXNwbnYw
NC9vdmVybGF5LmMKPiBpbmRleCBhM2EwYTczYWU4YWIuLjk1MjliZDkwNTNlNyAxMDA2NDQKPiAt
LS0gYS9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9kaXNwbnYwNC9vdmVybGF5LmMKPiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vbm91dmVhdS9kaXNwbnYwNC9vdmVybGF5LmMKPiBAQCAtMTUwLDcgKzE1
MCw3IEBAIG52MTBfdXBkYXRlX3BsYW5lKHN0cnVjdCBkcm1fcGxhbmUgKnBsYW5lLCBzdHJ1Y3Qg
ZHJtX2NydGMgKmNydGMsCj4gICAJbnZpZl9tYXNrKGRldiwgTlZfUENSVENfRU5HSU5FX0NUUkwg
KyBzb2ZmMiwgTlZfQ1JUQ19GU0VMX09WRVJMQVksIDApOwo+ICAgCj4gICAJbnZpZl93cjMyKGRl
diwgTlZfUFZJREVPX0JBU0UoZmxpcCksIDApOwo+IC0JbnZpZl93cjMyKGRldiwgTlZfUFZJREVP
X09GRlNFVF9CVUZGKGZsaXApLCBudl9mYi0+bnZiby0+Ym8ub2Zmc2V0KTsKPiArCW52aWZfd3Iz
MihkZXYsIE5WX1BWSURFT19PRkZTRVRfQlVGRihmbGlwKSwgbnZfZmItPm52Ym8tPm9mZnNldCk7
Cj4gICAJbnZpZl93cjMyKGRldiwgTlZfUFZJREVPX1NJWkVfSU4oZmxpcCksIHNyY19oIDw8IDE2
IHwgc3JjX3cpOwo+ICAgCW52aWZfd3IzMihkZXYsIE5WX1BWSURFT19QT0lOVF9JTihmbGlwKSwg
c3JjX3kgPDwgMTYgfCBzcmNfeCk7Cj4gICAJbnZpZl93cjMyKGRldiwgTlZfUFZJREVPX0RTX0RY
KGZsaXApLCAoc3JjX3cgPDwgMjApIC8gY3J0Y193KTsKPiBAQCAtMTcyLDcgKzE3Miw3IEBAIG52
MTBfdXBkYXRlX3BsYW5lKHN0cnVjdCBkcm1fcGxhbmUgKnBsYW5lLCBzdHJ1Y3QgZHJtX2NydGMg
KmNydGMsCj4gICAJaWYgKGZvcm1hdCAmIE5WX1BWSURFT19GT1JNQVRfUExBTkFSKSB7Cj4gICAJ
CW52aWZfd3IzMihkZXYsIE5WX1BWSURFT19VVlBMQU5FX0JBU0UoZmxpcCksIDApOwo+ICAgCQlu
dmlmX3dyMzIoZGV2LCBOVl9QVklERU9fVVZQTEFORV9PRkZTRVRfQlVGRihmbGlwKSwKPiAtCQkJ
bnZfZmItPm52Ym8tPmJvLm9mZnNldCArIGZiLT5vZmZzZXRzWzFdKTsKPiArCQkJbnZfZmItPm52
Ym8tPm9mZnNldCArIGZiLT5vZmZzZXRzWzFdKTsKPiAgIAl9Cj4gICAJbnZpZl93cjMyKGRldiwg
TlZfUFZJREVPX0ZPUk1BVChmbGlwKSwgZm9ybWF0IHwgZmItPnBpdGNoZXNbMF0pOwo+ICAgCW52
aWZfd3IzMihkZXYsIE5WX1BWSURFT19TVE9QLCAwKTsKPiBAQCAtMzk2LDcgKzM5Niw3IEBAIG52
MDRfdXBkYXRlX3BsYW5lKHN0cnVjdCBkcm1fcGxhbmUgKnBsYW5lLCBzdHJ1Y3QgZHJtX2NydGMg
KmNydGMsCj4gICAKPiAgIAlmb3IgKGkgPSAwOyBpIDwgMjsgaSsrKSB7Cj4gICAJCW52aWZfd3Iz
MihkZXYsIE5WX1BWSURFT19CVUZGMF9TVEFSVF9BRERSRVNTICsgNCAqIGksCj4gLQkJCSAgbnZf
ZmItPm52Ym8tPmJvLm9mZnNldCk7Cj4gKwkJCSAgbnZfZmItPm52Ym8tPm9mZnNldCk7Cj4gICAJ
CW52aWZfd3IzMihkZXYsIE5WX1BWSURFT19CVUZGMF9QSVRDSF9MRU5HVEggKyA0ICogaSwKPiAg
IAkJCSAgZmItPnBpdGNoZXNbMF0pOwo+ICAgCQludmlmX3dyMzIoZGV2LCBOVl9QVklERU9fQlVG
RjBfT0ZGU0VUICsgNCAqIGksIDApOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbm91
dmVhdS9kaXNwbnY1MC9iYXNlNTA3Yy5jIGIvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvZGlzcG52
NTAvYmFzZTUwN2MuYwo+IGluZGV4IDAwYTg1ZjFlMWE0YS4uNjc4MjlmMDRiMmM3IDEwMDY0NAo+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L2Rpc3BudjUwL2Jhc2U1MDdjLmMKPiArKysg
Yi9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9kaXNwbnY1MC9iYXNlNTA3Yy5jCj4gQEAgLTI3NCw3
ICsyNzQsNyBAQCBiYXNlNTA3Y19uZXdfKGNvbnN0IHN0cnVjdCBudjUwX3duZHdfZnVuYyAqZnVu
YywgY29uc3QgdTMyICpmb3JtYXQsCj4gICAKPiAgIAlyZXQgPSBudjUwX2RtYWNfY3JlYXRlKCZk
cm0tPmNsaWVudC5kZXZpY2UsICZkaXNwLT5kaXNwLT5vYmplY3QsCj4gICAJCQkgICAgICAgJm9j
bGFzcywgaGVhZCwgJmFyZ3MsIHNpemVvZihhcmdzKSwKPiAtCQkJICAgICAgIGRpc3AtPnN5bmMt
PmJvLm9mZnNldCwgJnduZHctPnduZHcpOwo+ICsJCQkgICAgICAgZGlzcC0+c3luYy0+b2Zmc2V0
LCAmd25kdy0+d25kdyk7Cj4gICAJaWYgKHJldCkgewo+ICAgCQlOVl9FUlJPUihkcm0sICJiYXNl
JTA0eCBhbGxvY2F0aW9uIGZhaWxlZDogJWRcbiIsIG9jbGFzcywgcmV0KTsKPiAgIAkJcmV0dXJu
IHJldDsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvZGlzcG52NTAvY29y
ZTUwN2QuYyBiL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L2Rpc3BudjUwL2NvcmU1MDdkLmMKPiBp
bmRleCBlN2ZjZmE2ZTY0NjcuLjc5M2RjYjJlYTE5NiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dw
dS9kcm0vbm91dmVhdS9kaXNwbnY1MC9jb3JlNTA3ZC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L25vdXZlYXUvZGlzcG52NTAvY29yZTUwN2QuYwo+IEBAIC05OSw3ICs5OSw3IEBAIGNvcmU1MDdk
X25ld18oY29uc3Qgc3RydWN0IG52NTBfY29yZV9mdW5jICpmdW5jLCBzdHJ1Y3Qgbm91dmVhdV9k
cm0gKmRybSwKPiAgIAo+ICAgCXJldCA9IG52NTBfZG1hY19jcmVhdGUoJmRybS0+Y2xpZW50LmRl
dmljZSwgJmRpc3AtPmRpc3AtPm9iamVjdCwKPiAgIAkJCSAgICAgICAmb2NsYXNzLCAwLCAmYXJn
cywgc2l6ZW9mKGFyZ3MpLAo+IC0JCQkgICAgICAgZGlzcC0+c3luYy0+Ym8ub2Zmc2V0LCAmY29y
ZS0+Y2hhbik7Cj4gKwkJCSAgICAgICBkaXNwLT5zeW5jLT5vZmZzZXQsICZjb3JlLT5jaGFuKTsK
PiAgIAlpZiAocmV0KSB7Cj4gICAJCU5WX0VSUk9SKGRybSwgImNvcmUlMDR4IGFsbG9jYXRpb24g
ZmFpbGVkOiAlZFxuIiwgb2NsYXNzLCByZXQpOwo+ICAgCQlyZXR1cm4gcmV0Owo+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9kaXNwbnY1MC9vdmx5NTA3ZS5jIGIvZHJpdmVy
cy9ncHUvZHJtL25vdXZlYXUvZGlzcG52NTAvb3ZseTUwN2UuYwo+IGluZGV4IDhjY2Q5NjExM2Jh
ZC4uNGNjZTEwNzgxNDBhIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L2Rp
c3BudjUwL292bHk1MDdlLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9kaXNwbnY1
MC9vdmx5NTA3ZS5jCj4gQEAgLTE4Niw3ICsxODYsNyBAQCBvdmx5NTA3ZV9uZXdfKGNvbnN0IHN0
cnVjdCBudjUwX3duZHdfZnVuYyAqZnVuYywgY29uc3QgdTMyICpmb3JtYXQsCj4gICAKPiAgIAly
ZXQgPSBudjUwX2RtYWNfY3JlYXRlKCZkcm0tPmNsaWVudC5kZXZpY2UsICZkaXNwLT5kaXNwLT5v
YmplY3QsCj4gICAJCQkgICAgICAgJm9jbGFzcywgMCwgJmFyZ3MsIHNpemVvZihhcmdzKSwKPiAt
CQkJICAgICAgIGRpc3AtPnN5bmMtPmJvLm9mZnNldCwgJnduZHctPnduZHcpOwo+ICsJCQkgICAg
ICAgZGlzcC0+c3luYy0+b2Zmc2V0LCAmd25kdy0+d25kdyk7Cj4gICAJaWYgKHJldCkgewo+ICAg
CQlOVl9FUlJPUihkcm0sICJvdmx5JTA0eCBhbGxvY2F0aW9uIGZhaWxlZDogJWRcbiIsIG9jbGFz
cywgcmV0KTsKPiAgIAkJcmV0dXJuIHJldDsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L25vdXZlYXUvZGlzcG52NTAvd25kdy5jIGIvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvZGlzcG52
NTAvd25kdy5jCj4gaW5kZXggYmI3MzdmOTI4MWU2Li5lZTBmZDgxNzE4NWUgMTAwNjQ0Cj4gLS0t
IGEvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvZGlzcG52NTAvd25kdy5jCj4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL25vdXZlYXUvZGlzcG52NTAvd25kdy5jCj4gQEAgLTUxMSw3ICs1MTEsNyBAQCBu
djUwX3duZHdfcHJlcGFyZV9mYihzdHJ1Y3QgZHJtX3BsYW5lICpwbGFuZSwgc3RydWN0IGRybV9w
bGFuZV9zdGF0ZSAqc3RhdGUpCj4gICAJfQo+ICAgCj4gICAJYXN5dy0+c3RhdGUuZmVuY2UgPSBk
bWFfcmVzdl9nZXRfZXhjbF9yY3UoZmItPm52Ym8tPmJvLmJhc2UucmVzdik7Cj4gLQlhc3l3LT5p
bWFnZS5vZmZzZXRbMF0gPSBmYi0+bnZiby0+Ym8ub2Zmc2V0Owo+ICsJYXN5dy0+aW1hZ2Uub2Zm
c2V0WzBdID0gZmItPm52Ym8tPm9mZnNldDsKPiAgIAo+ICAgCWlmICh3bmR3LT5mdW5jLT5wcmVw
YXJlKSB7Cj4gICAJCWFzeWggPSBudjUwX2hlYWRfYXRvbV9nZXQoYXN5dy0+c3RhdGUuc3RhdGUs
IGFzeXctPnN0YXRlLmNydGMpOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbm91dmVh
dS9kaXNwbnY1MC93bmR3YzM3ZS5jIGIvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvZGlzcG52NTAv
d25kd2MzN2UuYwo+IGluZGV4IGI5MmRjMzQ2MWJiZC4uYmI4NGU0ZDU0YTMzIDEwMDY0NAo+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L2Rpc3BudjUwL3duZHdjMzdlLmMKPiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vbm91dmVhdS9kaXNwbnY1MC93bmR3YzM3ZS5jCj4gQEAgLTI5OCw3ICsy
OTgsNyBAQCB3bmR3YzM3ZV9uZXdfKGNvbnN0IHN0cnVjdCBudjUwX3duZHdfZnVuYyAqZnVuYywg
c3RydWN0IG5vdXZlYXVfZHJtICpkcm0sCj4gICAKPiAgIAlyZXQgPSBudjUwX2RtYWNfY3JlYXRl
KCZkcm0tPmNsaWVudC5kZXZpY2UsICZkaXNwLT5kaXNwLT5vYmplY3QsCj4gICAJCQkgICAgICAg
Jm9jbGFzcywgMCwgJmFyZ3MsIHNpemVvZihhcmdzKSwKPiAtCQkJICAgICAgIGRpc3AtPnN5bmMt
PmJvLm9mZnNldCwgJnduZHctPnduZHcpOwo+ICsJCQkgICAgICAgZGlzcC0+c3luYy0+b2Zmc2V0
LCAmd25kdy0+d25kdyk7Cj4gICAJaWYgKHJldCkgewo+ICAgCQlOVl9FUlJPUihkcm0sICJxbmR3
JTA0eCBhbGxvY2F0aW9uIGZhaWxlZDogJWRcbiIsIG9jbGFzcywgcmV0KTsKPiAgIAkJcmV0dXJu
IHJldDsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbm91dmVhdV9hYmkx
Ni5jIGIvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbm91dmVhdV9hYmkxNi5jCj4gaW5kZXggZTJi
YWUxNDI0NTAyLi5jMzJhOGNhNjdmODIgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL25v
dXZlYXUvbm91dmVhdV9hYmkxNi5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbm91
dmVhdV9hYmkxNi5jCj4gQEAgLTU1OCwxMyArNTU4LDEzIEBAIG5vdXZlYXVfYWJpMTZfaW9jdGxf
bm90aWZpZXJvYmpfYWxsb2MoQUJJMTZfSU9DVExfQVJHUykKPiAgIAlpZiAoZHJtLT5hZ3AuYnJp
ZGdlKSB7Cj4gICAJCWFyZ3MudGFyZ2V0ID0gTlZfRE1BX1YwX1RBUkdFVF9BR1A7Cj4gICAJCWFy
Z3MuYWNjZXNzID0gTlZfRE1BX1YwX0FDQ0VTU19SRFdSOwo+IC0JCWFyZ3Muc3RhcnQgKz0gZHJt
LT5hZ3AuYmFzZSArIGNoYW4tPm50ZnktPmJvLm9mZnNldDsKPiAtCQlhcmdzLmxpbWl0ICs9IGRy
bS0+YWdwLmJhc2UgKyBjaGFuLT5udGZ5LT5iby5vZmZzZXQ7Cj4gKwkJYXJncy5zdGFydCArPSBk
cm0tPmFncC5iYXNlICsgY2hhbi0+bnRmeS0+b2Zmc2V0Owo+ICsJCWFyZ3MubGltaXQgKz0gZHJt
LT5hZ3AuYmFzZSArIGNoYW4tPm50ZnktPm9mZnNldDsKPiAgIAl9IGVsc2Ugewo+ICAgCQlhcmdz
LnRhcmdldCA9IE5WX0RNQV9WMF9UQVJHRVRfVk07Cj4gICAJCWFyZ3MuYWNjZXNzID0gTlZfRE1B
X1YwX0FDQ0VTU19SRFdSOwo+IC0JCWFyZ3Muc3RhcnQgKz0gY2hhbi0+bnRmeS0+Ym8ub2Zmc2V0
Owo+IC0JCWFyZ3MubGltaXQgKz0gY2hhbi0+bnRmeS0+Ym8ub2Zmc2V0Owo+ICsJCWFyZ3Muc3Rh
cnQgKz0gY2hhbi0+bnRmeS0+b2Zmc2V0Owo+ICsJCWFyZ3MubGltaXQgKz0gY2hhbi0+bnRmeS0+
b2Zmc2V0Owo+ICAgCX0KPiAgIAo+ICAgCWNsaWVudC0+cm91dGUgPSBOVkRSTV9PQkpFQ1RfQUJJ
MTY7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfYm8uYyBi
L2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfYm8uYwo+IGluZGV4IDJiNGIyMWIwMmU0
MC4uNjdmMTczYzI2NmFkIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25v
dXZlYXVfYm8uYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfYm8uYwo+
IEBAIC0xMzE3LDYgKzEzMTcsMTQgQEAgbm91dmVhdV9ib19tb3ZlX250Znkoc3RydWN0IHR0bV9i
dWZmZXJfb2JqZWN0ICpibywgYm9vbCBldmljdCwKPiAgIAkJCW5vdXZlYXVfdm1hX3VubWFwKHZt
YSk7Cj4gICAJCX0KPiAgIAl9Cj4gKwo+ICsJaWYgKG5ld19yZWcpIHsKPiArCQlpZiAobmV3X3Jl
Zy0+bW1fbm9kZSkKPiArCQkJbnZiby0+b2Zmc2V0ID0gKG5ld19yZWctPnN0YXJ0IDw8IFBBR0Vf
U0hJRlQpOwo+ICsJCWVsc2UKPiArCQkJbnZiby0+b2Zmc2V0ID0gMDsKPiArCX0KPiArCj4gICB9
Cj4gICAKPiAgIHN0YXRpYyBpbnQKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL25vdXZl
YXUvbm91dmVhdV9iby5oIGIvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbm91dmVhdV9iby5oCj4g
aW5kZXggMzhmOWQ4MzUwOTYzLi5lOTQ0YjRhYTU1NDcgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9n
cHUvZHJtL25vdXZlYXUvbm91dmVhdV9iby5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL25vdXZl
YXUvbm91dmVhdV9iby5oCj4gQEAgLTI0LDYgKzI0LDkgQEAgc3RydWN0IG5vdXZlYXVfYm8gewo+
ICAgCWludCBwYmJvX2luZGV4Owo+ICAgCWJvb2wgdmFsaWRhdGVfbWFwcGVkOwo+ICAgCj4gKwkv
KiBHUFUgYWRkcmVzcyBzcGFjZSBpcyBpbmRlcGVuZGVudCBvZiBDUFUgd29yZCBzaXplICovCj4g
Kwl1aW50NjRfdCBvZmZzZXQ7Cj4gKwo+ICAgCXN0cnVjdCBsaXN0X2hlYWQgdm1hX2xpc3Q7Cj4g
ICAKPiAgIAl1bnNpZ25lZCBjb250aWc6MTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L25vdXZlYXUvbm91dmVhdV9jaGFuLmMgYi9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1
X2NoYW4uYwo+IGluZGV4IGQ5MzgxYTA1MzE2OS4uM2Q3MWRmY2IyZmRlIDEwMDY0NAo+IC0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfY2hhbi5jCj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL25vdXZlYXUvbm91dmVhdV9jaGFuLmMKPiBAQCAtMTYyLDcgKzE2Miw3IEBAIG5vdXZl
YXVfY2hhbm5lbF9wcmVwKHN0cnVjdCBub3V2ZWF1X2RybSAqZHJtLCBzdHJ1Y3QgbnZpZl9kZXZp
Y2UgKmRldmljZSwKPiAgIAkgKiBwdXNoYnVmIGxpdmVzIGluLCB0aGlzIGlzIGJlY2F1c2UgdGhl
IEdFTSBjb2RlIHJlcXVpcmVzIHRoYXQKPiAgIAkgKiB3ZSBiZSBhYmxlIHRvIGNhbGwgb3V0IHRv
IG90aGVyIChpbmRpcmVjdCkgcHVzaCBidWZmZXJzCj4gICAJICovCj4gLQljaGFuLT5wdXNoLmFk
ZHIgPSBjaGFuLT5wdXNoLmJ1ZmZlci0+Ym8ub2Zmc2V0Owo+ICsJY2hhbi0+cHVzaC5hZGRyID0g
Y2hhbi0+cHVzaC5idWZmZXItPm9mZnNldDsKPiAgIAo+ICAgCWlmIChkZXZpY2UtPmluZm8uZmFt
aWx5ID49IE5WX0RFVklDRV9JTkZPX1YwX1RFU0xBKSB7Cj4gICAJCXJldCA9IG5vdXZlYXVfdm1h
X25ldyhjaGFuLT5wdXNoLmJ1ZmZlciwgY2hhbi0+dm1tLAo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X2RtZW0uYyBiL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1
L25vdXZlYXVfZG1lbS5jCj4gaW5kZXggMGFkNWQ4N2I1YThlLi40NzVlZDUzYjk5ZjEgMTAwNjQ0
Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbm91dmVhdV9kbWVtLmMKPiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X2RtZW0uYwo+IEBAIC04OSw3ICs4OSw3IEBA
IHN0YXRpYyB1bnNpZ25lZCBsb25nIG5vdXZlYXVfZG1lbV9wYWdlX2FkZHIoc3RydWN0IHBhZ2Ug
KnBhZ2UpCj4gICAJc3RydWN0IG5vdXZlYXVfZG1lbV9jaHVuayAqY2h1bmsgPSBwYWdlLT56b25l
X2RldmljZV9kYXRhOwo+ICAgCXVuc2lnbmVkIGxvbmcgaWR4ID0gcGFnZV90b19wZm4ocGFnZSkg
LSBjaHVuay0+cGZuX2ZpcnN0Owo+ICAgCj4gLQlyZXR1cm4gKGlkeCA8PCBQQUdFX1NISUZUKSAr
IGNodW5rLT5iby0+Ym8ub2Zmc2V0Owo+ICsJcmV0dXJuIChpZHggPDwgUEFHRV9TSElGVCkgKyBj
aHVuay0+Ym8tPm9mZnNldDsKPiAgIH0KPiAgIAo+ICAgc3RhdGljIHZvaWQgbm91dmVhdV9kbWVt
X3BhZ2VfZnJlZShzdHJ1Y3QgcGFnZSAqcGFnZSkKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL25vdXZlYXUvbm91dmVhdV9mYmNvbi5jIGIvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbm91
dmVhdV9mYmNvbi5jCj4gaW5kZXggMjRkNTQzYTAxZjQzLi4xMzQxYzZmY2EzZWQgMTAwNjQ0Cj4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbm91dmVhdV9mYmNvbi5jCj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL25vdXZlYXUvbm91dmVhdV9mYmNvbi5jCj4gQEAgLTM5Myw3ICszOTMsNyBA
QCBub3V2ZWF1X2ZiY29uX2NyZWF0ZShzdHJ1Y3QgZHJtX2ZiX2hlbHBlciAqaGVscGVyLAo+ICAg
Cj4gICAJLyogVG8gYWxsb3cgcmVzaXplaW5nIHdpdGhvdXQgc3dhcHBpbmcgYnVmZmVycyAqLwo+
ICAgCU5WX0lORk8oZHJtLCAiYWxsb2NhdGVkICVkeCVkIGZiOiAweCVsbHgsIGJvICVwXG4iLAo+
IC0JCWZiLT5iYXNlLndpZHRoLCBmYi0+YmFzZS5oZWlnaHQsIGZiLT5udmJvLT5iby5vZmZzZXQs
IG52Ym8pOwo+ICsJCWZiLT5iYXNlLndpZHRoLCBmYi0+YmFzZS5oZWlnaHQsIGZiLT5udmJvLT5v
ZmZzZXQsIG52Ym8pOwo+ICAgCj4gICAJdmdhX3N3aXRjaGVyb29fY2xpZW50X2ZiX3NldChkZXYt
PnBkZXYsIGluZm8pOwo+ICAgCXJldHVybiAwOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vbm91dmVhdS9ub3V2ZWF1X2dlbS5jIGIvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbm91dmVh
dV9nZW0uYwo+IGluZGV4IGY1ZWNlMWY5NDk3My4uY2FkZmYzN2VhZGU4IDEwMDY0NAo+IC0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfZ2VtLmMKPiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vbm91dmVhdS9ub3V2ZWF1X2dlbS5jCj4gQEAgLTIzMiw3ICsyMzIsNyBAQCBub3V2ZWF1
X2dlbV9pbmZvKHN0cnVjdCBkcm1fZmlsZSAqZmlsZV9wcml2LCBzdHJ1Y3QgZHJtX2dlbV9vYmpl
Y3QgKmdlbSwKPiAgIAkJcmVwLT5kb21haW4gPSBOT1VWRUFVX0dFTV9ET01BSU5fR0FSVDsKPiAg
IAllbHNlCj4gICAJCXJlcC0+ZG9tYWluID0gTk9VVkVBVV9HRU1fRE9NQUlOX1ZSQU07Cj4gLQly
ZXAtPm9mZnNldCA9IG52Ym8tPmJvLm9mZnNldDsKPiArCXJlcC0+b2Zmc2V0ID0gbnZiby0+b2Zm
c2V0Owo+ICAgCWlmICh2bW0tPnZtbS5vYmplY3Qub2NsYXNzID49IE5WSUZfQ0xBU1NfVk1NX05W
NTApIHsKPiAgIAkJdm1hID0gbm91dmVhdV92bWFfZmluZChudmJvLCB2bW0pOwo+ICAgCQlpZiAo
IXZtYSkKPiBAQCAtNTE2LDcgKzUxNiw3IEBAIHZhbGlkYXRlX2xpc3Qoc3RydWN0IG5vdXZlYXVf
Y2hhbm5lbCAqY2hhbiwgc3RydWN0IG5vdXZlYXVfY2xpICpjbGksCj4gICAJCX0KPiAgIAo+ICAg
CQlpZiAoZHJtLT5jbGllbnQuZGV2aWNlLmluZm8uZmFtaWx5IDwgTlZfREVWSUNFX0lORk9fVjBf
VEVTTEEpIHsKPiAtCQkJaWYgKG52Ym8tPmJvLm9mZnNldCA9PSBiLT5wcmVzdW1lZC5vZmZzZXQg
JiYKPiArCQkJaWYgKG52Ym8tPm9mZnNldCA9PSBiLT5wcmVzdW1lZC5vZmZzZXQgJiYKPiAgIAkJ
CSAgICAoKG52Ym8tPmJvLm1lbS5tZW1fdHlwZSA9PSBUVE1fUExfVlJBTSAmJgo+ICAgCQkJICAg
ICAgYi0+cHJlc3VtZWQuZG9tYWluICYgTk9VVkVBVV9HRU1fRE9NQUlOX1ZSQU0pIHx8Cj4gICAJ
CQkgICAgIChudmJvLT5iby5tZW0ubWVtX3R5cGUgPT0gVFRNX1BMX1RUICYmCj4gQEAgLTUyNyw3
ICs1MjcsNyBAQCB2YWxpZGF0ZV9saXN0KHN0cnVjdCBub3V2ZWF1X2NoYW5uZWwgKmNoYW4sIHN0
cnVjdCBub3V2ZWF1X2NsaSAqY2xpLAo+ICAgCQkJCWItPnByZXN1bWVkLmRvbWFpbiA9IE5PVVZF
QVVfR0VNX0RPTUFJTl9HQVJUOwo+ICAgCQkJZWxzZQo+ICAgCQkJCWItPnByZXN1bWVkLmRvbWFp
biA9IE5PVVZFQVVfR0VNX0RPTUFJTl9WUkFNOwo+IC0JCQliLT5wcmVzdW1lZC5vZmZzZXQgPSBu
dmJvLT5iby5vZmZzZXQ7Cj4gKwkJCWItPnByZXN1bWVkLm9mZnNldCA9IG52Ym8tPm9mZnNldDsK
PiAgIAkJCWItPnByZXN1bWVkLnZhbGlkID0gMDsKPiAgIAkJCXJlbG9jcysrOwo+ICAgCQl9Cj4g
QEAgLTgwNSw3ICs4MDUsNyBAQCBub3V2ZWF1X2dlbV9pb2N0bF9wdXNoYnVmKHN0cnVjdCBkcm1f
ZGV2aWNlICpkZXYsIHZvaWQgKmRhdGEsCj4gICAJCQlzdHJ1Y3Qgbm91dmVhdV9ibyAqbnZibyA9
ICh2b2lkICopKHVuc2lnbmVkIGxvbmcpCj4gICAJCQkJYm9bcHVzaFtpXS5ib19pbmRleF0udXNl
cl9wcml2Owo+ICAgCj4gLQkJCU9VVF9SSU5HKGNoYW4sIChudmJvLT5iby5vZmZzZXQgKyBwdXNo
W2ldLm9mZnNldCkgfCAyKTsKPiArCQkJT1VUX1JJTkcoY2hhbiwgKG52Ym8tPm9mZnNldCArIHB1
c2hbaV0ub2Zmc2V0KSB8IDIpOwo+ICAgCQkJT1VUX1JJTkcoY2hhbiwgMCk7Cj4gICAJCX0KPiAg
IAl9IGVsc2Ugewo+IEBAIC04NDAsNyArODQwLDcgQEAgbm91dmVhdV9nZW1faW9jdGxfcHVzaGJ1
ZihzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB2b2lkICpkYXRhLAo+ICAgCQkJfQo+ICAgCj4gICAJ
CQlPVVRfUklORyhjaGFuLCAweDIwMDAwMDAwIHwKPiAtCQkJCSAgICAgIChudmJvLT5iby5vZmZz
ZXQgKyBwdXNoW2ldLm9mZnNldCkpOwo+ICsJCQkJICAgICAgKG52Ym8tPm9mZnNldCArIHB1c2hb
aV0ub2Zmc2V0KSk7Cj4gICAJCQlPVVRfUklORyhjaGFuLCAwKTsKPiAgIAkJCWZvciAoaiA9IDA7
IGogPCBOT1VWRUFVX0RNQV9TS0lQUzsgaisrKQo+ICAgCQkJCU9VVF9SSU5HKGNoYW4sIDApOwoK
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVs
IG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlz
dHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVsCg==
