Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id C6C83F69D8
	for <lists+dri-devel@lfdr.de>; Sun, 10 Nov 2019 16:41:35 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AE8076E783;
	Sun, 10 Nov 2019 15:41:32 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from us-smtp-1.mimecast.com (us-smtp-delivery-1.mimecast.com
 [205.139.110.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C3EB96E637
 for <dri-devel@lists.freedesktop.org>; Sun, 10 Nov 2019 15:41:28 +0000 (UTC)
Received: from mimecast-mx01.redhat.com (mimecast-mx01.redhat.com
 [209.132.183.4]) (Using TLS) by relay.mimecast.com with ESMTP id
 us-mta-438-zUw4FMqkPYmiiu6m1LlTqA-1; Sun, 10 Nov 2019 10:41:23 -0500
Received: from smtp.corp.redhat.com (int-mx03.intmail.prod.int.phx2.redhat.com
 [10.5.11.13])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mimecast-mx01.redhat.com (Postfix) with ESMTPS id 1A3351800DFD;
 Sun, 10 Nov 2019 15:41:22 +0000 (UTC)
Received: from shalem.localdomain.com (ovpn-116-82.ams2.redhat.com
 [10.36.116.82])
 by smtp.corp.redhat.com (Postfix) with ESMTP id 850C3608BB;
 Sun, 10 Nov 2019 15:41:20 +0000 (UTC)
From: Hans de Goede <hdegoede@redhat.com>
To: Maarten Lankhorst <maarten.lankhorst@linux.intel.com>,
 Maxime Ripard <maxime.ripard@bootlin.com>,
 Sean Paul <seanpaul@chromium.org>, Daniel Vetter <daniel.vetter@intel.com>,
 David Airlie <airlied@linux.ie>
Subject: [PATCH 09/12] drm/modes: parse_cmdline: Add support for specifying
 panel_orientation
Date: Sun, 10 Nov 2019 16:40:58 +0100
Message-Id: <20191110154101.26486-10-hdegoede@redhat.com>
In-Reply-To: <20191110154101.26486-1-hdegoede@redhat.com>
References: <20191110154101.26486-1-hdegoede@redhat.com>
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.13
X-MC-Unique: zUw4FMqkPYmiiu6m1LlTqA-1
X-Mimecast-Spam-Score: 0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=redhat.com; 
 s=mimecast20190719; t=1573400487;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=j4YIOAMPjgOYXHITSNwSTanhFHw/P2B0LG5Bc3my+pw=;
 b=hPH+TXZtgMnogm0StmKSE3fbfi7zDcXy8XAIxAFW1Nv9PeJKphA02vnklFk8Uun/JFQ9zx
 cL0AgXZn/1N5ubV4suden53esNg1+CDynr5GfpijRewPMLI0857lsh6qQ4ILmheifkCDxN
 rq4+oyPsmb+AProzf+zm8Fw1HqvGk44=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Hans de Goede <hdegoede@redhat.com>,
 =?UTF-8?q?Mathieu=20Alexandre-T=C3=A9treault?= <alexandretm@amotus.ca>,
 dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

U29tZXRpbWVzIHdlIHdhbnQgdG8gb3ZlcnJpZGUgYSBjb25uZWN0b3IncyBwYW5lbF9vcmllbnRh
dGlvbiBmcm9tIHRoZQprZXJuZWwgY29tbWFuZGxpbmUuIEVpdGhlciBmb3IgdGVzdGluZyBhbmQg
Zm9yIHNwZWNpYWwgY2FzZXMsIGUuZy4gYSBraW9zawpsaWtlIHNldHVwIHdoaWNoIHVzZXMgYSBU
ViBtb3VudGVkIGluIHBvcnRyYWl0IG1vZGUuCgpVc2VycyBjYW4gYWxyZWFkeSBzcGVjaWZ5IGEg
InJvdGF0ZSIgb3B0aW9uIHRocm91Z2ggYSB2aWRlbz0ga2VybmVsIGNtZGxpbmUKb3B0aW9uLiBC
dXQgdGhhdCBvbmx5IHN1cHBvcnRzIDAvMTgwIGRlZ3JlZXMgKHNlZSBkcm1fY2xpZW50X21vZGVz
ZXQgVE9ETykKYW5kIG9ubHkgd29ya3MgZm9yIGluIGtlcm5lbCBtb2Rlc2V0IGNsaWVudHMsIG5v
dCBmb3IgdXNlcnNwYWNlIGttcyB1c2Vycy4KClRoZSAicGFuZWwtb3JpZW50YXRpb24iIGNvbm5l
Y3RvciBwcm9wZXJ0eSBPVE9IIGRvZXMgc3VwcG9ydCA5MC8yNzAgZGVncmVlcwphcyBpdCBsZWF2
ZXMgZGVhbGluZyB3aXRoIHRoZSByb3RhdGlvbiB1cCB0byB1c2Vyc3BhY2UgYW5kIHRoaXMgZG9l
cyB3b3JrCmZvciB1c2Vyc3BhY2Uga21zIGNsaWVudHMgKGF0IGxlYXN0IHRob3NlIHdoaWNoIHN1
cHBvcnQgdGhpcyBwcm9wZXJ0eSkuCgpCdWdMaW5rOiBodHRwczovL2dpdGxhYi5mcmVlZGVza3Rv
cC5vcmcvcGx5bW91dGgvcGx5bW91dGgvbWVyZ2VfcmVxdWVzdHMvODMKU2lnbmVkLW9mZi1ieTog
SGFucyBkZSBHb2VkZSA8aGRlZ29lZGVAcmVkaGF0LmNvbT4KLS0tCiBEb2N1bWVudGF0aW9uL2Zi
L21vZGVkYi5yc3QgICAgICAgICAgICAgICAgICAgfCAgMyArKwogZHJpdmVycy9ncHUvZHJtL2Ry
bV9tb2Rlcy5jICAgICAgICAgICAgICAgICAgIHwgMzIgKysrKysrKysrKysrKysrKysrKwogLi4u
L2dwdS9kcm0vc2VsZnRlc3RzL2RybV9jbWRsaW5lX3NlbGZ0ZXN0cy5oIHwgIDEgKwogLi4uL2Ry
bS9zZWxmdGVzdHMvdGVzdC1kcm1fY21kbGluZV9wYXJzZXIuYyAgIHwgMjIgKysrKysrKysrKysr
KwogaW5jbHVkZS9kcm0vZHJtX2Nvbm5lY3Rvci5oICAgICAgICAgICAgICAgICAgIHwgIDggKysr
KysKIDUgZmlsZXMgY2hhbmdlZCwgNjYgaW5zZXJ0aW9ucygrKQoKZGlmZiAtLWdpdCBhL0RvY3Vt
ZW50YXRpb24vZmIvbW9kZWRiLnJzdCBiL0RvY3VtZW50YXRpb24vZmIvbW9kZWRiLnJzdAppbmRl
eCA5YzRlM2ZkMzllNmQuLjYyNGQwOGZkMjg1NiAxMDA2NDQKLS0tIGEvRG9jdW1lbnRhdGlvbi9m
Yi9tb2RlZGIucnN0CisrKyBiL0RvY3VtZW50YXRpb24vZmIvbW9kZWRiLnJzdApAQCAtNjUsNiAr
NjUsOSBAQCBWYWxpZCBvcHRpb25zIGFyZTo6CiAgIC0gcmVmbGVjdF95IChib29sZWFuKTogUGVy
Zm9ybSBhbiBheGlhbCBzeW1tZXRyeSBvbiB0aGUgWSBheGlzCiAgIC0gcm90YXRlIChpbnRlZ2Vy
KTogUm90YXRlIHRoZSBpbml0aWFsIGZyYW1lYnVmZmVyIGJ5IHgKICAgICBkZWdyZWVzLiBWYWxp
ZCB2YWx1ZXMgYXJlIDAsIDkwLCAxODAgYW5kIDI3MC4KKyAgLSBwYW5lbF9vcmllbnRhdGlvbiwg
b25lIG9mICJub3JtYWwiLCAidXBzaWRlX2Rvd24iLCAibGVmdF9zaWRlX3VwIiwgb3IKKyAgICAi
cmlnaHRfc2lkZV91cCIuIEZvciBLTVMgZHJpdmVycyBvbmx5LCB0aGlzIHNldHMgdGhlICJwYW5l
bCBvcmllbnRhdGlvbiIKKyAgICBwcm9wZXJ0eSBvbiB0aGUga21zIGNvbm5lY3RvciBhcyBoaW50
IGZvciBrbXMgdXNlcnMuCiAKIAogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9kcm1fbW9kZXMuYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fbW9kZXMuYwpp
bmRleCAyZTgyNjAzZjVkMGEuLjExOWZlZDdhYjgxNSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2RybV9tb2Rlcy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fbW9kZXMuYwpAQCAtMTU5
MSw2ICsxNTkxLDMzIEBAIHN0YXRpYyBpbnQgZHJtX21vZGVfcGFyc2VfY21kbGluZV9pbnQoY29u
c3QgY2hhciAqZGVsaW0sIHVuc2lnbmVkIGludCAqaW50X3JldCkKIAlyZXR1cm4gMDsKIH0KIAor
c3RhdGljIGludCBkcm1fbW9kZV9wYXJzZV9wYW5lbF9vcmllbnRhdGlvbihjb25zdCBjaGFyICpk
ZWxpbSwKKwkJCQkJICAgIHN0cnVjdCBkcm1fY21kbGluZV9tb2RlICptb2RlKQoreworCWNvbnN0
IGNoYXIgKnZhbHVlOworCisJaWYgKCpkZWxpbSAhPSAnPScpCisJCXJldHVybiAtRUlOVkFMOwor
CisJdmFsdWUgPSBkZWxpbSArIDE7CisJZGVsaW0gPSBzdHJjaHIodmFsdWUsICcsJyk7CisJaWYg
KCFkZWxpbSkKKwkJZGVsaW0gPSB2YWx1ZSArIHN0cmxlbih2YWx1ZSk7CisKKwlpZiAoIXN0cm5j
bXAodmFsdWUsICJub3JtYWwiLCBkZWxpbSAtIHZhbHVlKSkKKwkJbW9kZS0+cGFuZWxfb3JpZW50
YXRpb24gPSBEUk1fTU9ERV9QQU5FTF9PUklFTlRBVElPTl9OT1JNQUw7CisJZWxzZSBpZiAoIXN0
cm5jbXAodmFsdWUsICJ1cHNpZGVfZG93biIsIGRlbGltIC0gdmFsdWUpKQorCQltb2RlLT5wYW5l
bF9vcmllbnRhdGlvbiA9IERSTV9NT0RFX1BBTkVMX09SSUVOVEFUSU9OX0JPVFRPTV9VUDsKKwll
bHNlIGlmICghc3RybmNtcCh2YWx1ZSwgImxlZnRfc2lkZV91cCIsIGRlbGltIC0gdmFsdWUpKQor
CQltb2RlLT5wYW5lbF9vcmllbnRhdGlvbiA9IERSTV9NT0RFX1BBTkVMX09SSUVOVEFUSU9OX0xF
RlRfVVA7CisJZWxzZSBpZiAoIXN0cm5jbXAodmFsdWUsICJyaWdodF9zaWRlX3VwIiwgZGVsaW0g
LSB2YWx1ZSkpCisJCW1vZGUtPnBhbmVsX29yaWVudGF0aW9uID0gRFJNX01PREVfUEFORUxfT1JJ
RU5UQVRJT05fUklHSFRfVVA7CisJZWxzZQorCQlyZXR1cm4gLUVJTlZBTDsKKworCXJldHVybiAw
OworfQorCiBzdGF0aWMgaW50IGRybV9tb2RlX3BhcnNlX2NtZGxpbmVfb3B0aW9ucyhjb25zdCBj
aGFyICpzdHIsCiAJCQkJCSAgYm9vbCBmcmVlc3RhbmRpbmcsCiAJCQkJCSAgY29uc3Qgc3RydWN0
IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciwKQEAgLTE2NTcsNiArMTY4NCw5IEBAIHN0YXRpYyBp
bnQgZHJtX21vZGVfcGFyc2VfY21kbGluZV9vcHRpb25zKGNvbnN0IGNoYXIgKnN0ciwKIAkJCQly
ZXR1cm4gLUVJTlZBTDsKIAogCQkJbW9kZS0+dHZfbWFyZ2lucy5ib3R0b20gPSBtYXJnaW47CisJ
CX0gZWxzZSBpZiAoIXN0cm5jbXAob3B0aW9uLCAicGFuZWxfb3JpZW50YXRpb24iLCBkZWxpbSAt
IG9wdGlvbikpIHsKKwkJCWlmIChkcm1fbW9kZV9wYXJzZV9wYW5lbF9vcmllbnRhdGlvbihkZWxp
bSwgbW9kZSkpCisJCQkJcmV0dXJuIC1FSU5WQUw7CiAJCX0gZWxzZSB7CiAJCQlyZXR1cm4gLUVJ
TlZBTDsKIAkJfQpAQCAtMTcxNSw2ICsxNzQ1LDggQEAgYm9vbCBkcm1fbW9kZV9wYXJzZV9jb21t
YW5kX2xpbmVfZm9yX2Nvbm5lY3Rvcihjb25zdCBjaGFyICptb2RlX29wdGlvbiwKIAljaGFyICpi
cHBfZW5kX3B0ciA9IE5VTEwsICpyZWZyZXNoX2VuZF9wdHIgPSBOVUxMOwogCWludCBpLCBsZW4s
IHJldDsKIAorCW1vZGUtPnBhbmVsX29yaWVudGF0aW9uID0gRFJNX01PREVfUEFORUxfT1JJRU5U
QVRJT05fVU5LTk9XTjsKKwogI2lmZGVmIENPTkZJR19GQgogCWlmICghbW9kZV9vcHRpb24pCiAJ
CW1vZGVfb3B0aW9uID0gZmJfbW9kZV9vcHRpb247CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vc2VsZnRlc3RzL2RybV9jbWRsaW5lX3NlbGZ0ZXN0cy5oIGIvZHJpdmVycy9ncHUvZHJtL3Nl
bGZ0ZXN0cy9kcm1fY21kbGluZV9zZWxmdGVzdHMuaAppbmRleCBhZWU5MmFjMmNjMjEuLmNlYWM3
YWY5YTE3MiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3NlbGZ0ZXN0cy9kcm1fY21kbGlu
ZV9zZWxmdGVzdHMuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vc2VsZnRlc3RzL2RybV9jbWRsaW5l
X3NlbGZ0ZXN0cy5oCkBAIC02NCwzICs2NCw0IEBAIGNtZGxpbmVfdGVzdChkcm1fY21kbGluZV90
ZXN0X2JwcF9leHRyYV9hbmRfb3B0aW9uKQogY21kbGluZV90ZXN0KGRybV9jbWRsaW5lX3Rlc3Rf
ZXh0cmFfYW5kX29wdGlvbikKIGNtZGxpbmVfdGVzdChkcm1fY21kbGluZV90ZXN0X2ZyZWVzdGFu
ZGluZ19vcHRpb25zKQogY21kbGluZV90ZXN0KGRybV9jbWRsaW5lX3Rlc3RfZnJlZXN0YW5kaW5n
X2ZvcmNlX2VfYW5kX29wdGlvbnMpCitjbWRsaW5lX3Rlc3QoZHJtX2NtZGxpbmVfdGVzdF9wYW5l
bF9vcmllbnRhdGlvbikKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9zZWxmdGVzdHMvdGVz
dC1kcm1fY21kbGluZV9wYXJzZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9zZWxmdGVzdHMvdGVzdC1k
cm1fY21kbGluZV9wYXJzZXIuYwppbmRleCA4MjQ4ZDRhYTVhYWEuLjUyMGYzZTY2YTM4NCAxMDA2
NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3NlbGZ0ZXN0cy90ZXN0LWRybV9jbWRsaW5lX3BhcnNl
ci5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9zZWxmdGVzdHMvdGVzdC1kcm1fY21kbGluZV9wYXJz
ZXIuYwpAQCAtMTA5Miw2ICsxMDkyLDI4IEBAIHN0YXRpYyBpbnQgZHJtX2NtZGxpbmVfdGVzdF9m
cmVlc3RhbmRpbmdfZm9yY2VfZV9hbmRfb3B0aW9ucyh2b2lkICppZ25vcmVkKQogCXJldHVybiAw
OwogfQogCitzdGF0aWMgaW50IGRybV9jbWRsaW5lX3Rlc3RfcGFuZWxfb3JpZW50YXRpb24odm9p
ZCAqaWdub3JlZCkKK3sKKwlzdHJ1Y3QgZHJtX2NtZGxpbmVfbW9kZSBtb2RlID0geyB9OworCisJ
RkFJTF9PTighZHJtX21vZGVfcGFyc2VfY29tbWFuZF9saW5lX2Zvcl9jb25uZWN0b3IoInBhbmVs
X29yaWVudGF0aW9uPXVwc2lkZV9kb3duIiwKKwkJCQkJCQkgICAmbm9fY29ubmVjdG9yLAorCQkJ
CQkJCSAgICZtb2RlKSk7CisJRkFJTF9PTihtb2RlLnNwZWNpZmllZCk7CisJRkFJTF9PTihtb2Rl
LnJlZnJlc2hfc3BlY2lmaWVkKTsKKwlGQUlMX09OKG1vZGUuYnBwX3NwZWNpZmllZCk7CisKKwlG
QUlMX09OKG1vZGUucGFuZWxfb3JpZW50YXRpb24gIT0gRFJNX01PREVfUEFORUxfT1JJRU5UQVRJ
T05fQk9UVE9NX1VQKTsKKworCUZBSUxfT04obW9kZS5yYik7CisJRkFJTF9PTihtb2RlLmN2dCk7
CisJRkFJTF9PTihtb2RlLmludGVybGFjZSk7CisJRkFJTF9PTihtb2RlLm1hcmdpbnMpOworCUZB
SUxfT04obW9kZS5mb3JjZSAhPSBEUk1fRk9SQ0VfVU5TUEVDSUZJRUQpOworCisJcmV0dXJuIDA7
Cit9CisKICNpbmNsdWRlICJkcm1fc2VsZnRlc3QuYyIKIAogc3RhdGljIGludCBfX2luaXQgdGVz
dF9kcm1fY21kbGluZV9pbml0KHZvaWQpCmRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS9kcm1fY29u
bmVjdG9yLmggYi9pbmNsdWRlL2RybS9kcm1fY29ubmVjdG9yLmgKaW5kZXggNjgxY2I1OTBmOTUy
Li5lNjBiYjM2MDI0OTcgMTAwNjQ0Ci0tLSBhL2luY2x1ZGUvZHJtL2RybV9jb25uZWN0b3IuaAor
KysgYi9pbmNsdWRlL2RybS9kcm1fY29ubmVjdG9yLmgKQEAgLTEwNjUsNiArMTA2NSwxNCBAQCBz
dHJ1Y3QgZHJtX2NtZGxpbmVfbW9kZSB7CiAJICovCiAJdW5zaWduZWQgaW50IHJvdGF0aW9uX3Jl
ZmxlY3Rpb247CiAKKwkvKioKKwkgKiBAcGFuZWxfb3JpZW50YXRpb24KKwkgKgorCSAqIGRybS1j
b25uZWN0b3IgInBhbmVsIG9yaWVudGF0aW9uIiBwcm9wZXJ0eSBvdmVycmlkZSB2YWx1ZSwKKwkg
KiBEUk1fTU9ERV9QQU5FTF9PUklFTlRBVElPTl9VTktOT1dOIGlmIG5vdCBzZXQuCisJICovCisJ
ZW51bSBkcm1fcGFuZWxfb3JpZW50YXRpb24gcGFuZWxfb3JpZW50YXRpb247CisKIAkvKioKIAkg
KiBAdHZfbWFyZ2luczogVFYgbWFyZ2lucyB0byBhcHBseSB0byB0aGUgbW9kZS4KIAkgKi8KLS0g
CjIuMjMuMAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18K
ZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0
dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
