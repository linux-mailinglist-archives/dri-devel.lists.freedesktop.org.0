Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 68D9849104
	for <lists+dri-devel@lfdr.de>; Mon, 17 Jun 2019 22:13:23 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id CF3C789E1B;
	Mon, 17 Jun 2019 20:13:20 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-qt1-x843.google.com (mail-qt1-x843.google.com
 [IPv6:2607:f8b0:4864:20::843])
 by gabe.freedesktop.org (Postfix) with ESMTPS id BD77A89FED
 for <dri-devel@lists.freedesktop.org>; Mon, 17 Jun 2019 20:13:19 +0000 (UTC)
Received: by mail-qt1-x843.google.com with SMTP id h21so12355352qtn.13
 for <dri-devel@lists.freedesktop.org>; Mon, 17 Jun 2019 13:13:19 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=oZYBTzCjKl2+1Vgv9NNnipN1E2J5Z7VwpWjiIbQjaNw=;
 b=QCLOhdK4yW9grqLZsl0H/922stcOPaqbH6KBQo4Yf20ItBFraHdEiBBG9CeFjnPQB6
 0rR4nEunMxGjI5wddzkUOeBH//YsTE5tLrhDnf+77bonk1zie3bO4tpPF8IaAbpJrsH5
 9o6ri/3ezPAUDaA/sHkIeKYXGkPjSTc9BjfqlJjr4mM4vVmSSeMG+GXVF4rawPejSyHq
 VqJcVfOf9sa+oRPSaHctN6qllBP+Zmo5KfUXw42ANRvnhOCBFBjcEn+eR6nkyubHxVgf
 p5CXfFkGcW5ohYUDycho3CTJa4DBz1xEL9/ajPSr1yaBl9OB3Xa5uyB1MNXZLi7EZsvq
 EhVg==
X-Gm-Message-State: APjAAAUfkT/symwBJON2EGQAttxz/Hs0CrrkorXzxMCmB5D4elnLNoSt
 bBTdTLFLsuj9fRQVbuj4Kz3DL4omxDE=
X-Google-Smtp-Source: APXvYqwr1QbLxwuGqTLwnzoQMv5ob2tdJ8f6VUT6NfVZIIQQojxgAuLnnyVAWJhOKSWNGNY7YKALKg==
X-Received: by 2002:ac8:5297:: with SMTP id s23mr59148485qtn.230.1560802398810; 
 Mon, 17 Jun 2019 13:13:18 -0700 (PDT)
Received: from rosewood.cam.corp.google.com ([100.100.175.19])
 by smtp.gmail.com with ESMTPSA id r36sm7071563qte.71.2019.06.17.13.13.17
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Mon, 17 Jun 2019 13:13:17 -0700 (PDT)
From: Sean Paul <sean@poorly.run>
To: dri-devel@lists.freedesktop.org,
	freedreno@lists.freedesktop.org
Subject: [PATCH 04/13] drm/msm/dsi_pll_10nm: Release clk hw on destroy and
 failure
Date: Mon, 17 Jun 2019 16:12:49 -0400
Message-Id: <20190617201301.133275-1-sean@poorly.run>
X-Mailer: git-send-email 2.22.0.410.gd8fdbe21b5-goog
In-Reply-To: <20190617200405.131843-1-sean@poorly.run>
References: <20190617200405.131843-1-sean@poorly.run>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=poorly.run; s=google;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=oZYBTzCjKl2+1Vgv9NNnipN1E2J5Z7VwpWjiIbQjaNw=;
 b=GWOBQ419n5oF+8HQsviBMRPtRatpWMfyes95hd9YGvJdinh/P+2Tx/qitZdSyKi9FR
 eRnhgBUJJ38ZcpGaZnrAX8w+tZQqICIT1txV7cDsnB/KVEQr79kY17KQr8vzijzj1UTt
 Gc6bvxWExOhAsh8x/y7s2U4fWS7gwWwGj5iNTmP8HQ9EGb35vd+SXD39GoXki/54Ktk9
 Vvr4LUsL5OuVVy/m4MdtVnuG63Sr6g4hrEPqUtKM61+KfViYf0vblSExVsUFEqCxJvY9
 76dDFoG3j0v37Bq59696fjsuZ3TTKTPMTT6Tnc7t8RXvxSCFg72tIMiglK718Q+muePY
 Am8w==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: David Airlie <airlied@linux.ie>, linux-arm-msm@vger.kernel.org,
 Sean Paul <seanpaul@chromium.org>, Sean Paul <sean@poorly.run>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogU2VhbiBQYXVsIDxzZWFucGF1bEBjaHJvbWl1bS5vcmc+CgpUaGUgMTBubSBwbGwgZHJp
dmVyIGRpZG4ndCBoYXZlIGFueSBmYWlsdXJlLXBhdGggY2xlYW51cCBpbiByZWdpc3RlciwKYW5k
IHRoZSBkZXN0cm95IGZ1bmN0aW9uIGRpZG4ndCB1bnJlZ2lzdGVyIGFueSBvZiB0aGUgaGFyZHdh
cmUuIFRoaXMKcGF0Y2ggYWRkcyBib3RoLgoKVGhlIHJlYXNvbiB0aGluZ3MgaGF2ZW4ndCBiZWVu
IGJsb3dpbmcgdXAgaG9ycmlibHkgaXMgdGhhdCBtc21fZHJ2IGhhcyBhCnJlZmVyZW5jZSBjb3Vu
dCBpc3N1ZSB0aGF0IGtlZXBzIGRldmljZXMgYWxpdmUsIHNvIHRoZSBkZXN0cm95IGZ1bmN0aW9u
CndhcyBuZXZlciBjYWxsZWQuIFRoYXQgd2lsbCBiZSBmaXhlZCBpbiBhIGZvbGxvdy11cCBwYXRj
aC4KClNpZ25lZC1vZmYtYnk6IFNlYW4gUGF1bCA8c2VhbnBhdWxAY2hyb21pdW0ub3JnPgotLS0K
IGRyaXZlcnMvZ3B1L2RybS9tc20vZHNpL3BsbC9kc2lfcGxsXzEwbm0uYyB8IDEwMyArKysrKysr
KysrKysrKystLS0tLS0KIDEgZmlsZSBjaGFuZ2VkLCA3MyBpbnNlcnRpb25zKCspLCAzMCBkZWxl
dGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbXNtL2RzaS9wbGwvZHNpX3Bs
bF8xMG5tLmMgYi9kcml2ZXJzL2dwdS9kcm0vbXNtL2RzaS9wbGwvZHNpX3BsbF8xMG5tLmMKaW5k
ZXggYWFiYWI2MzExMDQzLi42MThiNDk4MzgyOTMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9tc20vZHNpL3BsbC9kc2lfcGxsXzEwbm0uYworKysgYi9kcml2ZXJzL2dwdS9kcm0vbXNtL2Rz
aS9wbGwvZHNpX3BsbF8xMG5tLmMKQEAgLTEwNCw4ICsxMDQsMTMgQEAgc3RydWN0IGRzaV9wbGxf
MTBubSB7CiAJc3RydWN0IGRzaV9wbGxfcmVncyByZWdfc2V0dXA7CiAKIAkvKiBwcml2YXRlIGNs
b2NrczogKi8KLQlzdHJ1Y3QgY2xrX2h3ICpod3NbTlVNX0RTSV9DTE9DS1NfTUFYXTsKLQl1MzIg
bnVtX2h3czsKKwlzdHJ1Y3QgY2xrX2h3ICpvdXRfZGl2X2Nsa19odzsKKwlzdHJ1Y3QgY2xrX2h3
ICpiaXRfY2xrX2h3OworCXN0cnVjdCBjbGtfaHcgKmJ5dGVfY2xrX2h3OworCXN0cnVjdCBjbGtf
aHcgKmJ5XzJfYml0X2Nsa19odzsKKwlzdHJ1Y3QgY2xrX2h3ICpwb3N0X291dF9kaXZfY2xrX2h3
OworCXN0cnVjdCBjbGtfaHcgKnBjbGtfbXV4X2h3OworCXN0cnVjdCBjbGtfaHcgKm91dF9kc2lj
bGtfaHc7CiAKIAkvKiBjbG9jay1wcm92aWRlcjogKi8KIAlzdHJ1Y3QgY2xrX2h3X29uZWNlbGxf
ZGF0YSAqaHdfZGF0YTsKQEAgLTYxNyw4ICs2MjIsMTkgQEAgc3RhdGljIGludCBkc2lfcGxsXzEw
bm1fZ2V0X3Byb3ZpZGVyKHN0cnVjdCBtc21fZHNpX3BsbCAqcGxsLAogc3RhdGljIHZvaWQgZHNp
X3BsbF8xMG5tX2Rlc3Ryb3koc3RydWN0IG1zbV9kc2lfcGxsICpwbGwpCiB7CiAJc3RydWN0IGRz
aV9wbGxfMTBubSAqcGxsXzEwbm0gPSB0b19wbGxfMTBubShwbGwpOworCXN0cnVjdCBkZXZpY2Ug
KmRldiA9ICZwbGxfMTBubS0+cGRldi0+ZGV2OwogCiAJREJHKCJEU0kgUExMJWQiLCBwbGxfMTBu
bS0+aWQpOworCW9mX2Nsa19kZWxfcHJvdmlkZXIoZGV2LT5vZl9ub2RlKTsKKworCWNsa19od191
bnJlZ2lzdGVyX2RpdmlkZXIocGxsXzEwbm0tPm91dF9kc2ljbGtfaHcpOworCWNsa19od191bnJl
Z2lzdGVyX211eChwbGxfMTBubS0+cGNsa19tdXhfaHcpOworCWNsa19od191bnJlZ2lzdGVyX2Zp
eGVkX2ZhY3RvcihwbGxfMTBubS0+cG9zdF9vdXRfZGl2X2Nsa19odyk7CisJY2xrX2h3X3VucmVn
aXN0ZXJfZml4ZWRfZmFjdG9yKHBsbF8xMG5tLT5ieV8yX2JpdF9jbGtfaHcpOworCWNsa19od191
bnJlZ2lzdGVyX2ZpeGVkX2ZhY3RvcihwbGxfMTBubS0+Ynl0ZV9jbGtfaHcpOworCWNsa19od191
bnJlZ2lzdGVyX2RpdmlkZXIocGxsXzEwbm0tPmJpdF9jbGtfaHcpOworCWNsa19od191bnJlZ2lz
dGVyX2RpdmlkZXIocGxsXzEwbm0tPm91dF9kaXZfY2xrX2h3KTsKKwljbGtfaHdfdW5yZWdpc3Rl
cigmcGxsXzEwbm0tPmJhc2UuY2xrX2h3KTsKIH0KIAogLyoKQEAgLTYzOSwxMCArNjU1LDggQEAg
c3RhdGljIGludCBwbGxfMTBubV9yZWdpc3RlcihzdHJ1Y3QgZHNpX3BsbF8xMG5tICpwbGxfMTBu
bSkKIAkJLm9wcyA9ICZjbGtfb3BzX2RzaV9wbGxfMTBubV92Y28sCiAJfTsKIAlzdHJ1Y3QgZGV2
aWNlICpkZXYgPSAmcGxsXzEwbm0tPnBkZXYtPmRldjsKLQlzdHJ1Y3QgY2xrX2h3ICoqaHdzID0g
cGxsXzEwbm0tPmh3czsKIAlzdHJ1Y3QgY2xrX2h3X29uZWNlbGxfZGF0YSAqaHdfZGF0YTsKIAlz
dHJ1Y3QgY2xrX2h3ICpodzsKLQlpbnQgbnVtID0gMDsKIAlpbnQgcmV0OwogCiAJREJHKCJEU0kl
ZCIsIHBsbF8xMG5tLT5pZCk7CkBAIC02NjAsOCArNjc0LDYgQEAgc3RhdGljIGludCBwbGxfMTBu
bV9yZWdpc3RlcihzdHJ1Y3QgZHNpX3BsbF8xMG5tICpwbGxfMTBubSkKIAlpZiAocmV0KQogCQly
ZXR1cm4gcmV0OwogCi0JaHdzW251bSsrXSA9ICZwbGxfMTBubS0+YmFzZS5jbGtfaHc7Ci0KIAlz
bnByaW50ZihjbGtfbmFtZSwgMzIsICJkc2klZF9wbGxfb3V0X2Rpdl9jbGsiLCBwbGxfMTBubS0+
aWQpOwogCXNucHJpbnRmKHBhcmVudCwgMzIsICJkc2klZHZjb19jbGsiLCBwbGxfMTBubS0+aWQp
OwogCkBAIC02NzAsMTAgKzY4MiwxMiBAQCBzdGF0aWMgaW50IHBsbF8xMG5tX3JlZ2lzdGVyKHN0
cnVjdCBkc2lfcGxsXzEwbm0gKnBsbF8xMG5tKQogCQkJCSAgICAgcGxsXzEwbm0tPm1taW8gKwog
CQkJCSAgICAgUkVHX0RTSV8xMG5tX1BIWV9QTExfUExMX09VVERJVl9SQVRFLAogCQkJCSAgICAg
MCwgMiwgQ0xLX0RJVklERVJfUE9XRVJfT0ZfVFdPLCBOVUxMKTsKLQlpZiAoSVNfRVJSKGh3KSkK
LQkJcmV0dXJuIFBUUl9FUlIoaHcpOworCWlmIChJU19FUlIoaHcpKSB7CisJCXJldCA9IFBUUl9F
UlIoaHcpOworCQlnb3RvIGVycl9iYXNlX2Nsa19odzsKKwl9CiAKLQlod3NbbnVtKytdID0gaHc7
CisJcGxsXzEwbm0tPm91dF9kaXZfY2xrX2h3ID0gaHc7CiAKIAlzbnByaW50ZihjbGtfbmFtZSwg
MzIsICJkc2klZF9wbGxfYml0X2NsayIsIHBsbF8xMG5tLT5pZCk7CiAJc25wcmludGYocGFyZW50
LCAzMiwgImRzaSVkX3BsbF9vdXRfZGl2X2NsayIsIHBsbF8xMG5tLT5pZCk7CkBAIC02ODUsMTAg
KzY5OSwxMiBAQCBzdGF0aWMgaW50IHBsbF8xMG5tX3JlZ2lzdGVyKHN0cnVjdCBkc2lfcGxsXzEw
bm0gKnBsbF8xMG5tKQogCQkJCSAgICAgUkVHX0RTSV8xMG5tX1BIWV9DTU5fQ0xLX0NGRzAsCiAJ
CQkJICAgICAwLCA0LCBDTEtfRElWSURFUl9PTkVfQkFTRUQsCiAJCQkJICAgICAmcGxsXzEwbm0t
PnBvc3RkaXZfbG9jayk7Ci0JaWYgKElTX0VSUihodykpCi0JCXJldHVybiBQVFJfRVJSKGh3KTsK
KwlpZiAoSVNfRVJSKGh3KSkgeworCQlyZXQgPSBQVFJfRVJSKGh3KTsKKwkJZ290byBlcnJfb3V0
X2Rpdl9jbGtfaHc7CisJfQogCi0JaHdzW251bSsrXSA9IGh3OworCXBsbF8xMG5tLT5iaXRfY2xr
X2h3ID0gaHc7CiAKIAlzbnByaW50ZihjbGtfbmFtZSwgMzIsICJkc2klZF9waHlfcGxsX291dF9i
eXRlY2xrIiwgcGxsXzEwbm0tPmlkKTsKIAlzbnByaW50ZihwYXJlbnQsIDMyLCAiZHNpJWRfcGxs
X2JpdF9jbGsiLCBwbGxfMTBubS0+aWQpOwpAQCAtNjk2LDEwICs3MTIsMTIgQEAgc3RhdGljIGlu
dCBwbGxfMTBubV9yZWdpc3RlcihzdHJ1Y3QgZHNpX3BsbF8xMG5tICpwbGxfMTBubSkKIAkvKiBE
U0kgQnl0ZSBjbG9jayA9IFZDT19DTEsgLyBPVVRfRElWIC8gQklUX0RJViAvIDggKi8KIAlodyA9
IGNsa19od19yZWdpc3Rlcl9maXhlZF9mYWN0b3IoZGV2LCBjbGtfbmFtZSwgcGFyZW50LAogCQkJ
CQkgIENMS19TRVRfUkFURV9QQVJFTlQsIDEsIDgpOwotCWlmIChJU19FUlIoaHcpKQotCQlyZXR1
cm4gUFRSX0VSUihodyk7CisJaWYgKElTX0VSUihodykpIHsKKwkJcmV0ID0gUFRSX0VSUihodyk7
CisJCWdvdG8gZXJyX2JpdF9jbGtfaHc7CisJfQogCi0JaHdzW251bSsrXSA9IGh3OworCXBsbF8x
MG5tLT5ieXRlX2Nsa19odyA9IGh3OwogCWh3X2RhdGEtPmh3c1tEU0lfQllURV9QTExfQ0xLXSA9
IGh3OwogCiAJc25wcmludGYoY2xrX25hbWUsIDMyLCAiZHNpJWRfcGxsX2J5XzJfYml0X2NsayIs
IHBsbF8xMG5tLT5pZCk7CkBAIC03MDcsMjAgKzcyNSwyNCBAQCBzdGF0aWMgaW50IHBsbF8xMG5t
X3JlZ2lzdGVyKHN0cnVjdCBkc2lfcGxsXzEwbm0gKnBsbF8xMG5tKQogCiAJaHcgPSBjbGtfaHdf
cmVnaXN0ZXJfZml4ZWRfZmFjdG9yKGRldiwgY2xrX25hbWUsIHBhcmVudCwKIAkJCQkJICAwLCAx
LCAyKTsKLQlpZiAoSVNfRVJSKGh3KSkKLQkJcmV0dXJuIFBUUl9FUlIoaHcpOworCWlmIChJU19F
UlIoaHcpKSB7CisJCXJldCA9IFBUUl9FUlIoaHcpOworCQlnb3RvIGVycl9ieXRlX2Nsa19odzsK
Kwl9CiAKLQlod3NbbnVtKytdID0gaHc7CisJcGxsXzEwbm0tPmJ5XzJfYml0X2Nsa19odyA9IGh3
OwogCiAJc25wcmludGYoY2xrX25hbWUsIDMyLCAiZHNpJWRfcGxsX3Bvc3Rfb3V0X2Rpdl9jbGsi
LCBwbGxfMTBubS0+aWQpOwogCXNucHJpbnRmKHBhcmVudCwgMzIsICJkc2klZF9wbGxfb3V0X2Rp
dl9jbGsiLCBwbGxfMTBubS0+aWQpOwogCiAJaHcgPSBjbGtfaHdfcmVnaXN0ZXJfZml4ZWRfZmFj
dG9yKGRldiwgY2xrX25hbWUsIHBhcmVudCwKIAkJCQkJICAwLCAxLCA0KTsKLQlpZiAoSVNfRVJS
KGh3KSkKLQkJcmV0dXJuIFBUUl9FUlIoaHcpOworCWlmIChJU19FUlIoaHcpKSB7CisJCXJldCA9
IFBUUl9FUlIoaHcpOworCQlnb3RvIGVycl9ieV8yX2JpdF9jbGtfaHc7CisJfQogCi0JaHdzW251
bSsrXSA9IGh3OworCXBsbF8xMG5tLT5wb3N0X291dF9kaXZfY2xrX2h3ID0gaHc7CiAKIAlzbnBy
aW50ZihjbGtfbmFtZSwgMzIsICJkc2klZF9wY2xrX211eCIsIHBsbF8xMG5tLT5pZCk7CiAJc25w
cmludGYocGFyZW50LCAzMiwgImRzaSVkX3BsbF9iaXRfY2xrIiwgcGxsXzEwbm0tPmlkKTsKQEAg
LTczNCwxMCArNzU2LDEyIEBAIHN0YXRpYyBpbnQgcGxsXzEwbm1fcmVnaXN0ZXIoc3RydWN0IGRz
aV9wbGxfMTBubSAqcGxsXzEwbm0pCiAJCQkJIH0sIDQsIDAsIHBsbF8xMG5tLT5waHlfY21uX21t
aW8gKwogCQkJCSBSRUdfRFNJXzEwbm1fUEhZX0NNTl9DTEtfQ0ZHMSwKIAkJCQkgMCwgMiwgMCwg
TlVMTCk7Ci0JaWYgKElTX0VSUihodykpCi0JCXJldHVybiBQVFJfRVJSKGh3KTsKKwlpZiAoSVNf
RVJSKGh3KSkgeworCQlyZXQgPSBQVFJfRVJSKGh3KTsKKwkJZ290byBlcnJfcG9zdF9vdXRfZGl2
X2Nsa19odzsKKwl9CiAKLQlod3NbbnVtKytdID0gaHc7CisJcGxsXzEwbm0tPnBjbGtfbXV4X2h3
ID0gaHc7CiAKIAlzbnByaW50ZihjbGtfbmFtZSwgMzIsICJkc2klZF9waHlfcGxsX291dF9kc2lj
bGsiLCBwbGxfMTBubS0+aWQpOwogCXNucHJpbnRmKHBhcmVudCwgMzIsICJkc2klZF9wY2xrX211
eCIsIHBsbF8xMG5tLT5pZCk7CkBAIC03NDgsMTQgKzc3MiwxNCBAQCBzdGF0aWMgaW50IHBsbF8x
MG5tX3JlZ2lzdGVyKHN0cnVjdCBkc2lfcGxsXzEwbm0gKnBsbF8xMG5tKQogCQkJCQlSRUdfRFNJ
XzEwbm1fUEhZX0NNTl9DTEtfQ0ZHMCwKIAkJCQkgICAgIDQsIDQsIENMS19ESVZJREVSX09ORV9C
QVNFRCwKIAkJCQkgICAgICZwbGxfMTBubS0+cG9zdGRpdl9sb2NrKTsKLQlpZiAoSVNfRVJSKGh3
KSkKLQkJcmV0dXJuIFBUUl9FUlIoaHcpOworCWlmIChJU19FUlIoaHcpKSB7CisJCXJldCA9IFBU
Ul9FUlIoaHcpOworCQlnb3RvIGVycl9wY2xrX211eF9odzsKKwl9CiAKLQlod3NbbnVtKytdID0g
aHc7CisJcGxsXzEwbm0tPm91dF9kc2ljbGtfaHcgPSBodzsKIAlod19kYXRhLT5od3NbRFNJX1BJ
WEVMX1BMTF9DTEtdID0gaHc7CiAKLQlwbGxfMTBubS0+bnVtX2h3cyA9IG51bTsKLQogCWh3X2Rh
dGEtPm51bSA9IE5VTV9QUk9WSURFRF9DTEtTOwogCXBsbF8xMG5tLT5od19kYXRhID0gaHdfZGF0
YTsKIApAQCAtNzYzLDEwICs3ODcsMjkgQEAgc3RhdGljIGludCBwbGxfMTBubV9yZWdpc3Rlcihz
dHJ1Y3QgZHNpX3BsbF8xMG5tICpwbGxfMTBubSkKIAkJCQkgICAgIHBsbF8xMG5tLT5od19kYXRh
KTsKIAlpZiAocmV0KSB7CiAJCURSTV9ERVZfRVJST1IoZGV2LCAiZmFpbGVkIHRvIHJlZ2lzdGVy
IGNsayBwcm92aWRlcjogJWRcbiIsIHJldCk7Ci0JCXJldHVybiByZXQ7CisJCWdvdG8gZXJyX2Rz
aWNsa19odzsKIAl9CiAKIAlyZXR1cm4gMDsKKworZXJyX2RzaWNsa19odzoKKwljbGtfaHdfdW5y
ZWdpc3Rlcl9kaXZpZGVyKHBsbF8xMG5tLT5vdXRfZHNpY2xrX2h3KTsKK2Vycl9wY2xrX211eF9o
dzoKKwljbGtfaHdfdW5yZWdpc3Rlcl9tdXgocGxsXzEwbm0tPnBjbGtfbXV4X2h3KTsKK2Vycl9w
b3N0X291dF9kaXZfY2xrX2h3OgorCWNsa19od191bnJlZ2lzdGVyX2ZpeGVkX2ZhY3RvcihwbGxf
MTBubS0+cG9zdF9vdXRfZGl2X2Nsa19odyk7CitlcnJfYnlfMl9iaXRfY2xrX2h3OgorCWNsa19o
d191bnJlZ2lzdGVyX2ZpeGVkX2ZhY3RvcihwbGxfMTBubS0+YnlfMl9iaXRfY2xrX2h3KTsKK2Vy
cl9ieXRlX2Nsa19odzoKKwljbGtfaHdfdW5yZWdpc3Rlcl9maXhlZF9mYWN0b3IocGxsXzEwbm0t
PmJ5dGVfY2xrX2h3KTsKK2Vycl9iaXRfY2xrX2h3OgorCWNsa19od191bnJlZ2lzdGVyX2Rpdmlk
ZXIocGxsXzEwbm0tPmJpdF9jbGtfaHcpOworZXJyX291dF9kaXZfY2xrX2h3OgorCWNsa19od191
bnJlZ2lzdGVyX2RpdmlkZXIocGxsXzEwbm0tPm91dF9kaXZfY2xrX2h3KTsKK2Vycl9iYXNlX2Ns
a19odzoKKwljbGtfaHdfdW5yZWdpc3RlcigmcGxsXzEwbm0tPmJhc2UuY2xrX2h3KTsKKworCXJl
dHVybiByZXQ7CiB9CiAKIHN0cnVjdCBtc21fZHNpX3BsbCAqbXNtX2RzaV9wbGxfMTBubV9pbml0
KHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYsIGludCBpZCkKLS0gClNlYW4gUGF1bCwgU29m
dHdhcmUgRW5naW5lZXIsIEdvb2dsZSAvIENocm9taXVtIE9TCgpfX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1k
ZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcv
bWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
