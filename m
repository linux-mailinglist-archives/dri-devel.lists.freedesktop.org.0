Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id CD0BDA07A6
	for <lists+dri-devel@lfdr.de>; Wed, 28 Aug 2019 18:43:10 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A2DBC89DC0;
	Wed, 28 Aug 2019 16:43:04 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga07.intel.com (mga07.intel.com [134.134.136.100])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 21E7489DBD;
 Wed, 28 Aug 2019 16:43:03 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga001.fm.intel.com ([10.253.24.23])
 by orsmga105.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 28 Aug 2019 09:43:02 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,441,1559545200"; d="scan'208";a="197593820"
Received: from ramaling-i9x.iind.intel.com ([10.99.66.154])
 by fmsmga001.fm.intel.com with ESMTP; 28 Aug 2019 09:43:00 -0700
From: Ramalingam C <ramalingam.c@intel.com>
To: intel-gfx <intel-gfx@lists.freedesktop.org>,
 dri-devel <dri-devel@lists.freedesktop.org>
Subject: [PATCH v12 4/6] misc/mei/hdcp: Fill transcoder index in port info
Date: Wed, 28 Aug 2019 22:12:14 +0530
Message-Id: <20190828164216.405-5-ramalingam.c@intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190828164216.405-1-ramalingam.c@intel.com>
References: <20190828164216.405-1-ramalingam.c@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Jani Nikula <jani.nikula@intel.com>, tomas.winkler@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Rm9yIGdlbjEyKyBwbGF0Zm9ybSB3ZSBuZWVkIHRvIHBhc3MgdGhlIHRyYW5zY29kZXIgaW5mbwph
cyBwYXJ0IG9mIHRoZSBwb3J0IGluZm8gaW50byBNRSBGVy4KClRoaXMgY2hhbmdlIGZpbGxzIHRo
ZSBwYXlsb2FkIGZvciBNRSBGVyBmcm9tIGhkY3BfcG9ydF9kYXRhLgoKdjI6CiAgRG9jIGlzIGVu
aGFuY2VkIGZvciBwaHlzaWNhbF9wb3J0IGFuZCBhdHRhY2hlZF90cmFuc2NvZGVyIFtUb21hc10K
ClNpZ25lZC1vZmYtYnk6IFJhbWFsaW5nYW0gQyA8cmFtYWxpbmdhbS5jQGludGVsLmNvbT4KQWNr
ZWQtYnk6IEphbmkgTmlrdWxhIDxqYW5pLm5pa3VsYUBpbnRlbC5jb20+ClJldmlld2VkLWJ5OiBT
aGFzaGFuayBTaGFybWEgPHNoYXNoYW5rLnNoYXJtYUBpbnRlbC5jb20+CkFja2VkLWJ5OiBUb21h
cyBXaW5rbGVyIDx0b21hcy53aW5rbGVyQGludGVsLmNvbT4KLS0tCiBkcml2ZXJzL21pc2MvbWVp
L2hkY3AvbWVpX2hkY3AuYyB8IDExICsrKysrKysrKysrCiBkcml2ZXJzL21pc2MvbWVpL2hkY3Av
bWVpX2hkY3AuaCB8ICA1ICsrKystCiAyIGZpbGVzIGNoYW5nZWQsIDE1IGluc2VydGlvbnMoKyks
IDEgZGVsZXRpb24oLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL21pc2MvbWVpL2hkY3AvbWVpX2hk
Y3AuYyBiL2RyaXZlcnMvbWlzYy9tZWkvaGRjcC9tZWlfaGRjcC5jCmluZGV4IDM2MzhjNzdlYmEy
Ni4uOTMwMjdmZDk2YzcxIDEwMDY0NAotLS0gYS9kcml2ZXJzL21pc2MvbWVpL2hkY3AvbWVpX2hk
Y3AuYworKysgYi9kcml2ZXJzL21pc2MvbWVpL2hkY3AvbWVpX2hkY3AuYwpAQCAtNTgsNiArNTgs
NyBAQCBtZWlfaGRjcF9pbml0aWF0ZV9zZXNzaW9uKHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0
IGhkY3BfcG9ydF9kYXRhICpkYXRhLAogCiAJc2Vzc2lvbl9pbml0X2luLnBvcnQuaW50ZWdyYXRl
ZF9wb3J0X3R5cGUgPSBkYXRhLT5wb3J0X3R5cGU7CiAJc2Vzc2lvbl9pbml0X2luLnBvcnQucGh5
c2ljYWxfcG9ydCA9ICh1OClkYXRhLT5md19kZGk7CisJc2Vzc2lvbl9pbml0X2luLnBvcnQuYXR0
YWNoZWRfdHJhbnNjb2RlciA9ICh1OClkYXRhLT5md190YzsKIAlzZXNzaW9uX2luaXRfaW4ucHJv
dG9jb2wgPSBkYXRhLT5wcm90b2NvbDsKIAogCWJ5dGUgPSBtZWlfY2xkZXZfc2VuZChjbGRldiwg
KHU4ICopJnNlc3Npb25faW5pdF9pbiwKQEAgLTEyNyw2ICsxMjgsNyBAQCBtZWlfaGRjcF92ZXJp
ZnlfcmVjZWl2ZXJfY2VydF9wcmVwYXJlX2ttKHN0cnVjdCBkZXZpY2UgKmRldiwKIAogCXZlcmlm
eV9yeGNlcnRfaW4ucG9ydC5pbnRlZ3JhdGVkX3BvcnRfdHlwZSA9IGRhdGEtPnBvcnRfdHlwZTsK
IAl2ZXJpZnlfcnhjZXJ0X2luLnBvcnQucGh5c2ljYWxfcG9ydCA9ICh1OClkYXRhLT5md19kZGk7
CisJdmVyaWZ5X3J4Y2VydF9pbi5wb3J0LmF0dGFjaGVkX3RyYW5zY29kZXIgPSAodTgpZGF0YS0+
ZndfdGM7CiAKIAl2ZXJpZnlfcnhjZXJ0X2luLmNlcnRfcnggPSByeF9jZXJ0LT5jZXJ0X3J4Owog
CW1lbWNweSh2ZXJpZnlfcnhjZXJ0X2luLnJfcngsICZyeF9jZXJ0LT5yX3J4LCBIRENQXzJfMl9S
UlhfTEVOKTsKQEAgLTE5Nyw2ICsxOTksNyBAQCBtZWlfaGRjcF92ZXJpZnlfaHByaW1lKHN0cnVj
dCBkZXZpY2UgKmRldiwgc3RydWN0IGhkY3BfcG9ydF9kYXRhICpkYXRhLAogCiAJc2VuZF9ocHJp
bWVfaW4ucG9ydC5pbnRlZ3JhdGVkX3BvcnRfdHlwZSA9IGRhdGEtPnBvcnRfdHlwZTsKIAlzZW5k
X2hwcmltZV9pbi5wb3J0LnBoeXNpY2FsX3BvcnQgPSAodTgpZGF0YS0+ZndfZGRpOworCXNlbmRf
aHByaW1lX2luLnBvcnQuYXR0YWNoZWRfdHJhbnNjb2RlciA9ICh1OClkYXRhLT5md190YzsKIAog
CW1lbWNweShzZW5kX2hwcmltZV9pbi5oX3ByaW1lLCByeF9ocHJpbWUtPmhfcHJpbWUsCiAJICAg
ICAgIEhEQ1BfMl8yX0hfUFJJTUVfTEVOKTsKQEAgLTI1NCw2ICsyNTcsNyBAQCBtZWlfaGRjcF9z
dG9yZV9wYWlyaW5nX2luZm8oc3RydWN0IGRldmljZSAqZGV2LCBzdHJ1Y3QgaGRjcF9wb3J0X2Rh
dGEgKmRhdGEsCiAKIAlwYWlyaW5nX2luZm9faW4ucG9ydC5pbnRlZ3JhdGVkX3BvcnRfdHlwZSA9
IGRhdGEtPnBvcnRfdHlwZTsKIAlwYWlyaW5nX2luZm9faW4ucG9ydC5waHlzaWNhbF9wb3J0ID0g
KHU4KWRhdGEtPmZ3X2RkaTsKKwlwYWlyaW5nX2luZm9faW4ucG9ydC5hdHRhY2hlZF90cmFuc2Nv
ZGVyID0gKHU4KWRhdGEtPmZ3X3RjOwogCiAJbWVtY3B5KHBhaXJpbmdfaW5mb19pbi5lX2toX2tt
LCBwYWlyaW5nX2luZm8tPmVfa2hfa20sCiAJICAgICAgIEhEQ1BfMl8yX0VfS0hfS01fTEVOKTsK
QEAgLTMxMiw2ICszMTYsNyBAQCBtZWlfaGRjcF9pbml0aWF0ZV9sb2NhbGl0eV9jaGVjayhzdHJ1
Y3QgZGV2aWNlICpkZXYsCiAKIAlsY19pbml0X2luLnBvcnQuaW50ZWdyYXRlZF9wb3J0X3R5cGUg
PSBkYXRhLT5wb3J0X3R5cGU7CiAJbGNfaW5pdF9pbi5wb3J0LnBoeXNpY2FsX3BvcnQgPSAodTgp
ZGF0YS0+ZndfZGRpOworCWxjX2luaXRfaW4ucG9ydC5hdHRhY2hlZF90cmFuc2NvZGVyID0gKHU4
KWRhdGEtPmZ3X3RjOwogCiAJYnl0ZSA9IG1laV9jbGRldl9zZW5kKGNsZGV2LCAodTggKikmbGNf
aW5pdF9pbiwgc2l6ZW9mKGxjX2luaXRfaW4pKTsKIAlpZiAoYnl0ZSA8IDApIHsKQEAgLTM2Nyw2
ICszNzIsNyBAQCBtZWlfaGRjcF92ZXJpZnlfbHByaW1lKHN0cnVjdCBkZXZpY2UgKmRldiwgc3Ry
dWN0IGhkY3BfcG9ydF9kYXRhICpkYXRhLAogCiAJdmVyaWZ5X2xwcmltZV9pbi5wb3J0LmludGVn
cmF0ZWRfcG9ydF90eXBlID0gZGF0YS0+cG9ydF90eXBlOwogCXZlcmlmeV9scHJpbWVfaW4ucG9y
dC5waHlzaWNhbF9wb3J0ID0gKHU4KWRhdGEtPmZ3X2RkaTsKKwl2ZXJpZnlfbHByaW1lX2luLnBv
cnQuYXR0YWNoZWRfdHJhbnNjb2RlciA9ICh1OClkYXRhLT5md190YzsKIAogCW1lbWNweSh2ZXJp
ZnlfbHByaW1lX2luLmxfcHJpbWUsIHJ4X2xwcmltZS0+bF9wcmltZSwKIAkgICAgICAgSERDUF8y
XzJfTF9QUklNRV9MRU4pOwpAQCAtNDI0LDYgKzQzMCw3IEBAIHN0YXRpYyBpbnQgbWVpX2hkY3Bf
Z2V0X3Nlc3Npb25fa2V5KHN0cnVjdCBkZXZpY2UgKmRldiwKIAogCWdldF9za2V5X2luLnBvcnQu
aW50ZWdyYXRlZF9wb3J0X3R5cGUgPSBkYXRhLT5wb3J0X3R5cGU7CiAJZ2V0X3NrZXlfaW4ucG9y
dC5waHlzaWNhbF9wb3J0ID0gKHU4KWRhdGEtPmZ3X2RkaTsKKwlnZXRfc2tleV9pbi5wb3J0LmF0
dGFjaGVkX3RyYW5zY29kZXIgPSAodTgpZGF0YS0+ZndfdGM7CiAKIAlieXRlID0gbWVpX2NsZGV2
X3NlbmQoY2xkZXYsICh1OCAqKSZnZXRfc2tleV9pbiwgc2l6ZW9mKGdldF9za2V5X2luKSk7CiAJ
aWYgKGJ5dGUgPCAwKSB7CkBAIC00ODgsNiArNDk1LDcgQEAgbWVpX2hkY3BfcmVwZWF0ZXJfY2hl
Y2tfZmxvd19wcmVwYXJlX2FjayhzdHJ1Y3QgZGV2aWNlICpkZXYsCiAKIAl2ZXJpZnlfcmVwZWF0
ZXJfaW4ucG9ydC5pbnRlZ3JhdGVkX3BvcnRfdHlwZSA9IGRhdGEtPnBvcnRfdHlwZTsKIAl2ZXJp
ZnlfcmVwZWF0ZXJfaW4ucG9ydC5waHlzaWNhbF9wb3J0ID0gKHU4KWRhdGEtPmZ3X2RkaTsKKwl2
ZXJpZnlfcmVwZWF0ZXJfaW4ucG9ydC5hdHRhY2hlZF90cmFuc2NvZGVyID0gKHU4KWRhdGEtPmZ3
X3RjOwogCiAJbWVtY3B5KHZlcmlmeV9yZXBlYXRlcl9pbi5yeF9pbmZvLCByZXBfdG9wb2xvZ3kt
PnJ4X2luZm8sCiAJICAgICAgIEhEQ1BfMl8yX1JYSU5GT19MRU4pOwpAQCAtNTU4LDYgKzU2Niw3
IEBAIHN0YXRpYyBpbnQgbWVpX2hkY3BfdmVyaWZ5X21wcmltZShzdHJ1Y3QgZGV2aWNlICpkZXYs
CiAKIAl2ZXJpZnlfbXByaW1lX2luLnBvcnQuaW50ZWdyYXRlZF9wb3J0X3R5cGUgPSBkYXRhLT5w
b3J0X3R5cGU7CiAJdmVyaWZ5X21wcmltZV9pbi5wb3J0LnBoeXNpY2FsX3BvcnQgPSAodTgpZGF0
YS0+ZndfZGRpOworCXZlcmlmeV9tcHJpbWVfaW4ucG9ydC5hdHRhY2hlZF90cmFuc2NvZGVyID0g
KHU4KWRhdGEtPmZ3X3RjOwogCiAJbWVtY3B5KHZlcmlmeV9tcHJpbWVfaW4ubV9wcmltZSwgc3Ry
ZWFtX3JlYWR5LT5tX3ByaW1lLAogCSAgICAgICBIRENQXzJfMl9NUFJJTUVfTEVOKTsKQEAgLTYx
OSw2ICs2MjgsNyBAQCBzdGF0aWMgaW50IG1laV9oZGNwX2VuYWJsZV9hdXRoZW50aWNhdGlvbihz
dHJ1Y3QgZGV2aWNlICpkZXYsCiAKIAllbmFibGVfYXV0aF9pbi5wb3J0LmludGVncmF0ZWRfcG9y
dF90eXBlID0gZGF0YS0+cG9ydF90eXBlOwogCWVuYWJsZV9hdXRoX2luLnBvcnQucGh5c2ljYWxf
cG9ydCA9ICh1OClkYXRhLT5md19kZGk7CisJZW5hYmxlX2F1dGhfaW4ucG9ydC5hdHRhY2hlZF90
cmFuc2NvZGVyID0gKHU4KWRhdGEtPmZ3X3RjOwogCWVuYWJsZV9hdXRoX2luLnN0cmVhbV90eXBl
ID0gZGF0YS0+c3RyZWFtc1swXS5zdHJlYW1fdHlwZTsKIAogCWJ5dGUgPSBtZWlfY2xkZXZfc2Vu
ZChjbGRldiwgKHU4ICopJmVuYWJsZV9hdXRoX2luLApAQCAtNjczLDYgKzY4Myw3IEBAIG1laV9o
ZGNwX2Nsb3NlX3Nlc3Npb24oc3RydWN0IGRldmljZSAqZGV2LCBzdHJ1Y3QgaGRjcF9wb3J0X2Rh
dGEgKmRhdGEpCiAKIAlzZXNzaW9uX2Nsb3NlX2luLnBvcnQuaW50ZWdyYXRlZF9wb3J0X3R5cGUg
PSBkYXRhLT5wb3J0X3R5cGU7CiAJc2Vzc2lvbl9jbG9zZV9pbi5wb3J0LnBoeXNpY2FsX3BvcnQg
PSAodTgpZGF0YS0+ZndfZGRpOworCXNlc3Npb25fY2xvc2VfaW4ucG9ydC5hdHRhY2hlZF90cmFu
c2NvZGVyID0gKHU4KWRhdGEtPmZ3X3RjOwogCiAJYnl0ZSA9IG1laV9jbGRldl9zZW5kKGNsZGV2
LCAodTggKikmc2Vzc2lvbl9jbG9zZV9pbiwKIAkJCSAgICAgIHNpemVvZihzZXNzaW9uX2Nsb3Nl
X2luKSk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL21pc2MvbWVpL2hkY3AvbWVpX2hkY3AuaCBiL2Ry
aXZlcnMvbWlzYy9tZWkvaGRjcC9tZWlfaGRjcC5oCmluZGV4IGU2MDI4MmViMmQ0OC4uMThmZmM3
NzNmYTE4IDEwMDY0NAotLS0gYS9kcml2ZXJzL21pc2MvbWVpL2hkY3AvbWVpX2hkY3AuaAorKysg
Yi9kcml2ZXJzL21pc2MvbWVpL2hkY3AvbWVpX2hkY3AuaApAQCAtMTg0LDggKzE4NCwxMSBAQCBz
dHJ1Y3QgaGRjcF9jbWRfbm9fZGF0YSB7CiAvKiBVbmlxdWVseSBpZGVudGlmaWVzIHRoZSBoZGNw
IHBvcnQgYmVpbmcgYWRkcmVzc2VkIGZvciBhIGdpdmVuIGNvbW1hbmQuICovCiBzdHJ1Y3QgaGRj
cF9wb3J0X2lkIHsKIAl1OAlpbnRlZ3JhdGVkX3BvcnRfdHlwZTsKKwkvKiBwaHlzaWNhbF9wb3J0
IGlzIHVzZWQgdW50aWwgR2VuMTEuNS4gTXVzdCBiZSB6ZXJvIGZvciBHZW4xMS41KyAqLwogCXU4
CXBoeXNpY2FsX3BvcnQ7Ci0JdTE2CXJlc2VydmVkOworCS8qIGF0dGFjaGVkX3RyYW5zY29kZXIg
aXMgZm9yIEdlbjExLjUrLiBTZXQgdG8gemVybyBmb3IgPEdlbjExLjUgKi8KKwl1OAlhdHRhY2hl
ZF90cmFuc2NvZGVyOworCXU4CXJlc2VydmVkOwogfSBfX3BhY2tlZDsKIAogLyoKLS0gCjIuMjAu
MQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRl
dmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8v
bGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
