Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id D91A856429
	for <lists+dri-devel@lfdr.de>; Wed, 26 Jun 2019 10:13:25 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C5FFF6E2E5;
	Wed, 26 Jun 2019 08:12:36 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wm1-x341.google.com (mail-wm1-x341.google.com
 [IPv6:2a00:1450:4864:20::341])
 by gabe.freedesktop.org (Postfix) with ESMTPS id CBFAD6E171
 for <dri-devel@lists.freedesktop.org>; Tue, 25 Jun 2019 16:35:01 +0000 (UTC)
Received: by mail-wm1-x341.google.com with SMTP id s3so3512629wms.2
 for <dri-devel@lists.freedesktop.org>; Tue, 25 Jun 2019 09:35:01 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=vrI0W6bS0McQj19QWXhKoVrTSOU0J8VgPihi8/PszeI=;
 b=S6qrEk4KporYn9qGrzR1Lanmr5ay8KOkS2ImNU6ax04M2iYVgoXyGKfkKMWpj54hwM
 uJ+hJKfuCwudGtCKLaeDf5K7JhyJRWsrpImo/KI2lql1XfC8wMoaxCzL2+gJpqVaY7zv
 9kMYoWSni+1v3Z+vYBuZ6IJUcLqcEvXyP9BTXrzXegPnHVVSs9sBVi4t+96hFOTy5z6k
 Bm3jd3iRUwcVZTk2cSGdEZqVrTUuGY6pST2rjUv4oCs+Miituam+Qogej07noYDp9S+1
 7DFcsBPzIerRdEzDgjvHdsXgLO1VOIUSQtSlmZL/hbIIQrHyPahfurCoMOoZnZC/yZcz
 r5lw==
X-Gm-Message-State: APjAAAVLPHtXJ7CFXquP92a+sO1rP+2E1PQkr3vcEgDM789fwEZITgjU
 s5NUv/aMaGes2jxWxWKXA+GEkg==
X-Google-Smtp-Source: APXvYqz3kMtpzixVnxZc9H1Kfh+kHcls8129A5lmZg5kt5LowzOPkBnkiHOHjACo8VCQc8yPPH0pyA==
X-Received: by 2002:a1c:6555:: with SMTP id z82mr21077680wmb.129.1561480500524; 
 Tue, 25 Jun 2019 09:35:00 -0700 (PDT)
Received: from debian-brgl.home ([2a01:cb1d:af:5b00:6d6c:8493:1ab5:dad7])
 by smtp.gmail.com with ESMTPSA id g8sm2683795wme.20.2019.06.25.09.34.59
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Tue, 25 Jun 2019 09:35:00 -0700 (PDT)
From: Bartosz Golaszewski <brgl@bgdev.pl>
To: Sekhar Nori <nsekhar@ti.com>, Kevin Hilman <khilman@kernel.org>,
 Lee Jones <lee.jones@linaro.org>,
 Daniel Thompson <daniel.thompson@linaro.org>,
 Jingoo Han <jingoohan1@gmail.com>,
 Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>,
 David Lechner <david@lechnology.com>,
 Linus Walleij <linus.walleij@linaro.org>
Subject: [PATCH 07/12] fbdev: da8xx: add support for a regulator
Date: Tue, 25 Jun 2019 18:34:29 +0200
Message-Id: <20190625163434.13620-8-brgl@bgdev.pl>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190625163434.13620-1-brgl@bgdev.pl>
References: <20190625163434.13620-1-brgl@bgdev.pl>
MIME-Version: 1.0
X-Mailman-Approved-At: Wed, 26 Jun 2019 08:12:13 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=bgdev-pl.20150623.gappssmtp.com; s=20150623;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=vrI0W6bS0McQj19QWXhKoVrTSOU0J8VgPihi8/PszeI=;
 b=PYAuZLZQuMDcDy7kn4Dp7xi/9RxRvvmyhWfmfEj68PC+BfshQ01WkAwGIFz2Da1Nu+
 fxfiOLaJUQq7w6ykZylcXfZUuPHsZ3QWQG9yMCbvo7QyQqz2UMUWT4l9Bitl3VVC6K2F
 L0TjcltZHBHKtRxFLyb/o3NDTieiROr8YZNhTb0X1rLsVpHx1JJ74w87BtRXHFzpCYQf
 Wjg+jLmX1G+RFC9yctx6GObshpk1AW2BRvH9tlZHm8ACITW1NnC8h0JpNJIgY6I59Tlx
 W1FrPl0FZrpBpkkF00+aiDfjd23rUrllhCN8yi7UD5PpvhOsm1qUbM3ztTMuRAB3EHQP
 29Ig==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Bartosz Golaszewski <bgolaszewski@baylibre.com>,
 dri-devel@lists.freedesktop.org, linux-kernel@vger.kernel.org,
 linux-arm-kernel@lists.infradead.org, linux-fbdev@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogQmFydG9zeiBHb2xhc3pld3NraSA8YmdvbGFzemV3c2tpQGJheWxpYnJlLmNvbT4KCldl
IHdhbnQgdG8gcmVtb3ZlIHRoZSBoYWNreSBwbGF0Zm9ybSBkYXRhIGNhbGxiYWNrIGZvciBwb3dl
ciBjb250cm9sLgpBZGQgYSByZWd1bGF0b3IgdG8gdGhlIGRyaXZlciBkYXRhIGFuZCBlbmFibGUv
ZGlzYWJsZSBpdCBuZXh0IHRvCnRoZSBjdXJyZW50IHBhbmVsX3Bvd2VyX2N0cmwoKSBjYWxscy4g
V2Ugd2lsbCB1c2UgaXQgaW4gc3Vic2VxdWVudApwYXRjaCBvbiBkYTg1MC1ldm0uCgpTaWduZWQt
b2ZmLWJ5OiBCYXJ0b3N6IEdvbGFzemV3c2tpIDxiZ29sYXN6ZXdza2lAYmF5bGlicmUuY29tPgot
LS0KIGRyaXZlcnMvdmlkZW8vZmJkZXYvZGE4eHgtZmIuYyB8IDU0ICsrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKy0tLS0KIDEgZmlsZSBjaGFuZ2VkLCA0OSBpbnNlcnRpb25zKCspLCA1IGRl
bGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmlkZW8vZmJkZXYvZGE4eHgtZmIuYyBi
L2RyaXZlcnMvdmlkZW8vZmJkZXYvZGE4eHgtZmIuYwppbmRleCA5ZWE4MTdhYzFkODEuLjRmYTk5
ZmY3OWYzYiAxMDA2NDQKLS0tIGEvZHJpdmVycy92aWRlby9mYmRldi9kYTh4eC1mYi5jCisrKyBi
L2RyaXZlcnMvdmlkZW8vZmJkZXYvZGE4eHgtZmIuYwpAQCAtMTksNiArMTksNyBAQAogI2luY2x1
ZGUgPGxpbnV4L2Nsay5oPgogI2luY2x1ZGUgPGxpbnV4L2NwdWZyZXEuaD4KICNpbmNsdWRlIDxs
aW51eC9jb25zb2xlLmg+CisjaW5jbHVkZSA8bGludXgvcmVndWxhdG9yL2NvbnN1bWVyLmg+CiAj
aW5jbHVkZSA8bGludXgvc3BpbmxvY2suaD4KICNpbmNsdWRlIDxsaW51eC9zbGFiLmg+CiAjaW5j
bHVkZSA8bGludXgvZGVsYXkuaD4KQEAgLTE2NSw2ICsxNjYsNyBAQCBzdHJ1Y3QgZGE4eHhfZmJf
cGFyIHsKICNlbmRpZgogCXVuc2lnbmVkIGludAkJbGNkY19jbGtfcmF0ZTsKIAl2b2lkICgqcGFu
ZWxfcG93ZXJfY3RybCkoaW50KTsKKwlzdHJ1Y3QgcmVndWxhdG9yCSpsY2Rfc3VwcGx5OwogCXUz
MiBwc2V1ZG9fcGFsZXR0ZVsxNl07CiAJc3RydWN0IGZiX3ZpZGVvbW9kZQltb2RlOwogCXN0cnVj
dCBsY2RfY3RybF9jb25maWcJY2ZnOwpAQCAtMTA2Niw2ICsxMDY4LDcgQEAgc3RhdGljIHZvaWQg
bGNkX2RhOHh4X2NwdWZyZXFfZGVyZWdpc3RlcihzdHJ1Y3QgZGE4eHhfZmJfcGFyICpwYXIpCiBz
dGF0aWMgaW50IGZiX3JlbW92ZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpkZXYpCiB7CiAJc3Ry
dWN0IGZiX2luZm8gKmluZm8gPSBkZXZfZ2V0X2RydmRhdGEoJmRldi0+ZGV2KTsKKwlpbnQgcmV0
OwogCiAJaWYgKGluZm8pIHsKIAkJc3RydWN0IGRhOHh4X2ZiX3BhciAqcGFyID0gaW5mby0+cGFy
OwpAQCAtMTA3Myw4ICsxMDc2LDEzIEBAIHN0YXRpYyBpbnQgZmJfcmVtb3ZlKHN0cnVjdCBwbGF0
Zm9ybV9kZXZpY2UgKmRldikKICNpZmRlZiBDT05GSUdfQ1BVX0ZSRVEKIAkJbGNkX2RhOHh4X2Nw
dWZyZXFfZGVyZWdpc3RlcihwYXIpOwogI2VuZGlmCi0JCWlmIChwYXItPnBhbmVsX3Bvd2VyX2N0
cmwpCisJCWlmIChwYXItPnBhbmVsX3Bvd2VyX2N0cmwpIHsKIAkJCXBhci0+cGFuZWxfcG93ZXJf
Y3RybCgwKTsKKwkJfSBlbHNlIGlmIChwYXItPmxjZF9zdXBwbHkpIHsKKwkJCXJldCA9IHJlZ3Vs
YXRvcl9kaXNhYmxlKHBhci0+bGNkX3N1cHBseSk7CisJCQlpZiAocmV0KQorCQkJCXJldHVybiBy
ZXQ7CisJCX0KIAogCQlsY2RfZGlzYWJsZV9yYXN0ZXIoREE4WFhfRlJBTUVfV0FJVCk7CiAJCWxj
ZGNfd3JpdGUoMCwgTENEX1JBU1RFUl9DVFJMX1JFRyk7CkBAIC0xMTc5LDE1ICsxMTg3LDI1IEBA
IHN0YXRpYyBpbnQgY2ZiX2JsYW5rKGludCBibGFuaywgc3RydWN0IGZiX2luZm8gKmluZm8pCiAJ
Y2FzZSBGQl9CTEFOS19VTkJMQU5LOgogCQlsY2RfZW5hYmxlX3Jhc3RlcigpOwogCi0JCWlmIChw
YXItPnBhbmVsX3Bvd2VyX2N0cmwpCisJCWlmIChwYXItPnBhbmVsX3Bvd2VyX2N0cmwpIHsKIAkJ
CXBhci0+cGFuZWxfcG93ZXJfY3RybCgxKTsKKwkJfSBlbHNlIGlmIChwYXItPmxjZF9zdXBwbHkp
IHsKKwkJCXJldCA9IHJlZ3VsYXRvcl9lbmFibGUocGFyLT5sY2Rfc3VwcGx5KTsKKwkJCWlmIChy
ZXQpCisJCQkJcmV0dXJuIHJldDsKKwkJfQogCQlicmVhazsKIAljYXNlIEZCX0JMQU5LX05PUk1B
TDoKIAljYXNlIEZCX0JMQU5LX1ZTWU5DX1NVU1BFTkQ6CiAJY2FzZSBGQl9CTEFOS19IU1lOQ19T
VVNQRU5EOgogCWNhc2UgRkJfQkxBTktfUE9XRVJET1dOOgotCQlpZiAocGFyLT5wYW5lbF9wb3dl
cl9jdHJsKQorCQlpZiAocGFyLT5wYW5lbF9wb3dlcl9jdHJsKSB7CiAJCQlwYXItPnBhbmVsX3Bv
d2VyX2N0cmwoMCk7CisJCX0gZWxzZSBpZiAocGFyLT5sY2Rfc3VwcGx5KSB7CisJCQlyZXQgPSBy
ZWd1bGF0b3JfZGlzYWJsZShwYXItPmxjZF9zdXBwbHkpOworCQkJaWYgKHJldCkKKwkJCQlyZXR1
cm4gcmV0OworCQl9CiAKIAkJbGNkX2Rpc2FibGVfcmFzdGVyKERBOFhYX0ZSQU1FX1dBSVQpOwog
CQlicmVhazsKQEAgLTE0MDEsNiArMTQxOSwyMCBAQCBzdGF0aWMgaW50IGZiX3Byb2JlKHN0cnVj
dCBwbGF0Zm9ybV9kZXZpY2UgKmRldmljZSkKIAkJcGFyLT5wYW5lbF9wb3dlcl9jdHJsKDEpOwog
CX0KIAorCXBhci0+bGNkX3N1cHBseSA9IGRldm1fcmVndWxhdG9yX2dldF9vcHRpb25hbCgmZGV2
aWNlLT5kZXYsICJsY2QiKTsKKwlpZiAoSVNfRVJSKHBhci0+bGNkX3N1cHBseSkpIHsKKwkJaWYg
KFBUUl9FUlIocGFyLT5sY2Rfc3VwcGx5KSA9PSAtRVBST0JFX0RFRkVSKSB7CisJCQlyZXQgPSAt
RVBST0JFX0RFRkVSOworCQkJZ290byBlcnJfcG1fcnVudGltZV9kaXNhYmxlOworCQl9CisKKwkJ
cGFyLT5sY2Rfc3VwcGx5ID0gTlVMTDsKKwl9IGVsc2UgeworCQlyZXQgPSByZWd1bGF0b3JfZW5h
YmxlKHBhci0+bGNkX3N1cHBseSk7CisJCWlmIChyZXQpCisJCQlnb3RvIGVycl9wbV9ydW50aW1l
X2Rpc2FibGU7CisJfQorCiAJZmJfdmlkZW9tb2RlX3RvX3ZhcigmZGE4eHhfZmJfdmFyLCBsY2Rj
X2luZm8pOwogCXBhci0+Y2ZnID0gKmxjZF9jZmc7CiAKQEAgLTE2MDQsMTAgKzE2MzYsMTYgQEAg
c3RhdGljIGludCBmYl9zdXNwZW5kKHN0cnVjdCBkZXZpY2UgKmRldikKIHsKIAlzdHJ1Y3QgZmJf
aW5mbyAqaW5mbyA9IGRldl9nZXRfZHJ2ZGF0YShkZXYpOwogCXN0cnVjdCBkYTh4eF9mYl9wYXIg
KnBhciA9IGluZm8tPnBhcjsKKwlpbnQgcmV0OwogCiAJY29uc29sZV9sb2NrKCk7Ci0JaWYgKHBh
ci0+cGFuZWxfcG93ZXJfY3RybCkKKwlpZiAocGFyLT5wYW5lbF9wb3dlcl9jdHJsKSB7CiAJCXBh
ci0+cGFuZWxfcG93ZXJfY3RybCgwKTsKKwl9IGVsc2UgaWYgKHBhci0+bGNkX3N1cHBseSkgewor
CQlyZXQgPSByZWd1bGF0b3JfZGlzYWJsZShwYXItPmxjZF9zdXBwbHkpOworCQlpZiAocmV0KQor
CQkJcmV0dXJuIHJldDsKKwl9CiAKIAlmYl9zZXRfc3VzcGVuZChpbmZvLCAxKTsKIAlsY2RfZGlz
YWJsZV9yYXN0ZXIoREE4WFhfRlJBTUVfV0FJVCk7CkBAIC0xNjIxLDYgKzE2NTksNyBAQCBzdGF0
aWMgaW50IGZiX3Jlc3VtZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiB7CiAJc3RydWN0IGZiX2luZm8g
KmluZm8gPSBkZXZfZ2V0X2RydmRhdGEoZGV2KTsKIAlzdHJ1Y3QgZGE4eHhfZmJfcGFyICpwYXIg
PSBpbmZvLT5wYXI7CisJaW50IHJldDsKIAogCWNvbnNvbGVfbG9jaygpOwogCXBtX3J1bnRpbWVf
Z2V0X3N5bmMoZGV2KTsKQEAgLTE2MjgsOCArMTY2NywxMyBAQCBzdGF0aWMgaW50IGZiX3Jlc3Vt
ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiAJaWYgKHBhci0+YmxhbmsgPT0gRkJfQkxBTktfVU5CTEFO
SykgewogCQlsY2RfZW5hYmxlX3Jhc3RlcigpOwogCi0JCWlmIChwYXItPnBhbmVsX3Bvd2VyX2N0
cmwpCisJCWlmIChwYXItPnBhbmVsX3Bvd2VyX2N0cmwpIHsKIAkJCXBhci0+cGFuZWxfcG93ZXJf
Y3RybCgxKTsKKwkJfSBlbHNlIGlmIChwYXItPmxjZF9zdXBwbHkpIHsKKwkJCXJldCA9IHJlZ3Vs
YXRvcl9lbmFibGUocGFyLT5sY2Rfc3VwcGx5KTsKKwkJCWlmIChyZXQpCisJCQkJcmV0dXJuIHJl
dDsKKwkJfQogCX0KIAogCWZiX3NldF9zdXNwZW5kKGluZm8sIDApOwotLSAKMi4yMS4wCgpfX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFp
bGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5m
cmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
