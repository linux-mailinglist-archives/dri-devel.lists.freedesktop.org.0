Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 38000E4F6
	for <lists+dri-devel@lfdr.de>; Mon, 29 Apr 2019 16:44:06 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 5C4C88926E;
	Mon, 29 Apr 2019 14:43:51 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mx1.suse.de (mx2.suse.de [195.135.220.15])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 536F489240
 for <dri-devel@lists.freedesktop.org>; Mon, 29 Apr 2019 14:43:49 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id 6C5C0AF61;
 Mon, 29 Apr 2019 14:43:46 +0000 (UTC)
From: Thomas Zimmermann <tzimmermann@suse.de>
To: daniel@ffwll.ch, airlied@linux.ie, kraxel@redhat.com,
 christian.koenig@amd.com, ray.huang@amd.com, Jerry.Zhang@amd.com,
 hdegoede@redhat.com, z.liuxinliang@hisilicon.com, zourongrong@gmail.com,
 kong.kongxinwei@hisilicon.com, puck.chen@hisilicon.com
Subject: [PATCH v3 02/19] drm: Add |struct drm_gem_vram_object| callbacks for
 |struct ttm_bo_driver|
Date: Mon, 29 Apr 2019 16:43:24 +0200
Message-Id: <20190429144341.12615-3-tzimmermann@suse.de>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190429144341.12615-1-tzimmermann@suse.de>
References: <20190429144341.12615-1-tzimmermann@suse.de>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Thomas Zimmermann <tzimmermann@suse.de>, dri-devel@lists.freedesktop.org,
 virtualization@lists.linux-foundation.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIHByb3ZpZGVkIGhlbHBlcnMgY2FuIGJlIHVzZWQgZm9yIHRoZSByZXNwZWN0aXZlIGNhbGxi
YWNrIGZ1bmN0aW9ucwppbiB8c3RydWN0IHR0bV9ib19kcml2ZXJ8LgoKdjI6CgkqIGRybV9pc19n
ZW1fdnJhbSgpIGlzIG5vdyBhIHByaXZhdGUgZnVuY3Rpb24KCSogZG9jdW1lbnRhdGlvbiBmaXhl
cwoKU2lnbmVkLW9mZi1ieTogVGhvbWFzIFppbW1lcm1hbm4gPHR6aW1tZXJtYW5uQHN1c2UuZGU+
Ci0tLQogZHJpdmVycy9ncHUvZHJtL2RybV9nZW1fdnJhbV9oZWxwZXIuYyB8IDUwICsrKysrKysr
KysrKysrKysrKysrKysrKysrKwogaW5jbHVkZS9kcm0vZHJtX2dlbV92cmFtX2hlbHBlci5oICAg
ICB8IDEwICsrKysrKwogMiBmaWxlcyBjaGFuZ2VkLCA2MCBpbnNlcnRpb25zKCspCgpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2RybV9nZW1fdnJhbV9oZWxwZXIuYyBiL2RyaXZlcnMvZ3B1
L2RybS9kcm1fZ2VtX3ZyYW1faGVscGVyLmMKaW5kZXggZDM5ZDhhNWYzNmRmLi5mY2Y2ZTc4ZDky
ZjcgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fZ2VtX3ZyYW1faGVscGVyLmMKKysr
IGIvZHJpdmVycy9ncHUvZHJtL2RybV9nZW1fdnJhbV9oZWxwZXIuYwpAQCAtNDA4LDMgKzQwOCw1
MyBAQCB2b2lkIGRybV9nZW1fdnJhbV9rdW5tYXAoc3RydWN0IGRybV9nZW1fdnJhbV9vYmplY3Qg
KmdibykKIAlkcm1fZ2VtX3ZyYW1fa3VubWFwX2F0KGdibywgJmdiby0+a21hcCk7CiB9CiBFWFBP
UlRfU1lNQk9MKGRybV9nZW1fdnJhbV9rdW5tYXApOworCisvKgorICogSGVscGVycyBmb3Igc3Ry
dWN0IHR0bV9ib19kcml2ZXIKKyAqLworCitzdGF0aWMgYm9vbCBkcm1faXNfZ2VtX3ZyYW0oc3Ry
dWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibykKK3sKKwlyZXR1cm4gKGJvLT5kZXN0cm95ID09IHR0
bV9idWZmZXJfb2JqZWN0X2Rlc3Ryb3kpOworfQorCisvKioKKyAqIGRybV9nZW1fdnJhbV9ib19k
cml2ZXJfZXZpY3RfZmxhZ3MoKSAtIFwKKwlJbXBsZW1lbnRzICZzdHJ1Y3QgdHRtX2JvX2RyaXZl
ci5ldmljdF9mbGFncworICogQGJvOglUVE0gYnVmZmVyIG9iamVjdC4gUmVmZXJzIHRvICZzdHJ1
Y3QgZHJtX2dlbV92cmFtX29iamVjdC5ibworICogQHBsOglUVE0gcGxhY2VtZW50IGluZm9ybWF0
aW9uLgorICovCit2b2lkIGRybV9nZW1fdnJhbV9ib19kcml2ZXJfZXZpY3RfZmxhZ3Moc3RydWN0
IHR0bV9idWZmZXJfb2JqZWN0ICpibywKKwkJCQkJc3RydWN0IHR0bV9wbGFjZW1lbnQgKnBsKQor
eworCXN0cnVjdCBkcm1fZ2VtX3ZyYW1fb2JqZWN0ICpnYm87CisKKwkvKiBUVE0gbWF5IHBhc3Mg
Qk9zIHRoYXQgYXJlIG5vdCBHRU0gVlJBTSBCT3MuICovCisJaWYgKCFkcm1faXNfZ2VtX3ZyYW0o
Ym8pKQorCQlyZXR1cm47CisKKwlnYm8gPSBkcm1fZ2VtX3ZyYW1fb2ZfYm8oYm8pOworCWRybV9n
ZW1fdnJhbV9wbGFjZW1lbnQoZ2JvLCBUVE1fUExfRkxBR19TWVNURU0pOworCSpwbCA9IGdiby0+
cGxhY2VtZW50OworfQorRVhQT1JUX1NZTUJPTChkcm1fZ2VtX3ZyYW1fYm9fZHJpdmVyX2V2aWN0
X2ZsYWdzKTsKKworLyoqCisgKiBkcm1fZ2VtX3ZyYW1fYm9fZHJpdmVyX3ZlcmlmeV9hY2Nlc3Mo
KSAtIFwKKwlJbXBsZW1lbnRzICZzdHJ1Y3QgdHRtX2JvX2RyaXZlci52ZXJpZnlfYWNjZXNzCisg
KiBAYm86CQlUVE0gYnVmZmVyIG9iamVjdC4gUmVmZXJzIHRvICZzdHJ1Y3QgZHJtX2dlbV92cmFt
X29iamVjdC5ibworICogQGZpbHA6CUZpbGUgcG9pbnRlci4KKyAqCisgKiBSZXR1cm5zOgorICog
MCBvbiBzdWNjZXNzLCBvcgorICogYSBuZWdhdGl2ZSBlcnJubyBjb2RlIG90aGVyd2lzZS4KKyAq
LworaW50IGRybV9nZW1fdnJhbV9ib19kcml2ZXJfdmVyaWZ5X2FjY2VzcyhzdHJ1Y3QgdHRtX2J1
ZmZlcl9vYmplY3QgKmJvLAorCQkJCQkgc3RydWN0IGZpbGUgKmZpbHApCit7CisJc3RydWN0IGRy
bV9nZW1fdnJhbV9vYmplY3QgKmdibyA9IGRybV9nZW1fdnJhbV9vZl9ibyhibyk7CisKKwlyZXR1
cm4gZHJtX3ZtYV9ub2RlX3ZlcmlmeV9hY2Nlc3MoJmdiby0+Z2VtLnZtYV9ub2RlLAorCQkJCQkg
IGZpbHAtPnByaXZhdGVfZGF0YSk7Cit9CitFWFBPUlRfU1lNQk9MKGRybV9nZW1fdnJhbV9ib19k
cml2ZXJfdmVyaWZ5X2FjY2Vzcyk7CmRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS9kcm1fZ2VtX3Zy
YW1faGVscGVyLmggYi9pbmNsdWRlL2RybS9kcm1fZ2VtX3ZyYW1faGVscGVyLmgKaW5kZXggMTY3
NjE2ZjU1MmU1Li40ODcyZWRiMDlmZTkgMTAwNjQ0Ci0tLSBhL2luY2x1ZGUvZHJtL2RybV9nZW1f
dnJhbV9oZWxwZXIuaAorKysgYi9pbmNsdWRlL2RybS9kcm1fZ2VtX3ZyYW1faGVscGVyLmgKQEAg
LTg5LDQgKzg5LDE0IEBAIHZvaWQgZHJtX2dlbV92cmFtX2t1bm1hcF9hdChzdHJ1Y3QgZHJtX2dl
bV92cmFtX29iamVjdCAqZ2JvLAogCQkJICAgIHN0cnVjdCB0dG1fYm9fa21hcF9vYmogKmttYXAp
Owogdm9pZCBkcm1fZ2VtX3ZyYW1fa3VubWFwKHN0cnVjdCBkcm1fZ2VtX3ZyYW1fb2JqZWN0ICpn
Ym8pOwogCisvKgorICogSGVscGVycyBmb3Igc3RydWN0IHR0bV9ib19kcml2ZXIKKyAqLworCit2
b2lkIGRybV9nZW1fdnJhbV9ib19kcml2ZXJfZXZpY3RfZmxhZ3Moc3RydWN0IHR0bV9idWZmZXJf
b2JqZWN0ICpibywKKwkJCQkJc3RydWN0IHR0bV9wbGFjZW1lbnQgKnBsKTsKKworaW50IGRybV9n
ZW1fdnJhbV9ib19kcml2ZXJfdmVyaWZ5X2FjY2VzcyhzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3Qg
KmJvLAorCQkJCQkgc3RydWN0IGZpbGUgKmZpbHApOworCiAjZW5kaWYKLS0gCjIuMjEuMAoKX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1h
aWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
