Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id CAEB323853
	for <lists+dri-devel@lfdr.de>; Mon, 20 May 2019 15:38:15 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 4F9F7892A1;
	Mon, 20 May 2019 13:38:11 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wr1-x443.google.com (mail-wr1-x443.google.com
 [IPv6:2a00:1450:4864:20::443])
 by gabe.freedesktop.org (Postfix) with ESMTPS id DB7038928D
 for <dri-devel@lists.freedesktop.org>; Mon, 20 May 2019 13:38:01 +0000 (UTC)
Received: by mail-wr1-x443.google.com with SMTP id m3so1688074wrv.2
 for <dri-devel@lists.freedesktop.org>; Mon, 20 May 2019 06:38:01 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=WK3u8/ndCxq4jioi0PwfFEPZB+6Qz5E/d+j0WFTc0jY=;
 b=RnYLkzqVZnr+PO6ZCy0OyiCA360mbxvGCyMvRKR/+0utpMjQtn3kQDuzwFs59Z4G+p
 7H6iqz8H0l5nEc/wdM2NbI7d64h7DAIecIjcUGDeqL6rsdUgvyK8O2xfmNYqshvLko6E
 Swck+QEqX632viDhBITOES/0sFR5wP3GRFVNhqeUdIz21YN9cFfhTVEKI6In83xL/K9p
 gHxw7afnQje1TlPgjP7CI8DtssbRVj6nf0t4Hbt3Q6Q1bV/I1s0/oKCy1dDQvwasH1kM
 Joxj9XmRvTD6mKk9WhmWL/XHQp4qDXhsycQCsehwJ0DfaRwPJSlldQxJbdEHCj9ofH4E
 D/JA==
X-Gm-Message-State: APjAAAWa1sw6pAt66YKbr9noRJd0G2DNq3fUQs+auf8sGfJDBnOUObyp
 TBnJgtQE+JHoXJkZK8+7ELyQBA==
X-Google-Smtp-Source: APXvYqzUMHoSq9Wq79xRMpZ8XfEvh+NyiLctBUedlrZTgq0sEpkBGkE46QMIlYX5qWgsh1wLwlhF4A==
X-Received: by 2002:adf:f041:: with SMTP id t1mr39880363wro.74.1558359479889; 
 Mon, 20 May 2019 06:37:59 -0700 (PDT)
Received: from bender.baylibre.local
 (lmontsouris-657-1-212-31.w90-63.abo.wanadoo.fr. [90.63.244.31])
 by smtp.gmail.com with ESMTPSA id t19sm12167059wmi.42.2019.05.20.06.37.58
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-SHA bits=128/128);
 Mon, 20 May 2019 06:37:59 -0700 (PDT)
From: Neil Armstrong <narmstrong@baylibre.com>
To: a.hajda@samsung.com,
	Laurent.pinchart@ideasonboard.com
Subject: [PATCH 3/5] drm/bridge: dw-hdmi: Add support for dynamic output
 format setup
Date: Mon, 20 May 2019 15:37:51 +0200
Message-Id: <20190520133753.23871-4-narmstrong@baylibre.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190520133753.23871-1-narmstrong@baylibre.com>
References: <20190520133753.23871-1-narmstrong@baylibre.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=baylibre-com.20150623.gappssmtp.com; s=20150623;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=WK3u8/ndCxq4jioi0PwfFEPZB+6Qz5E/d+j0WFTc0jY=;
 b=j4uX6SCuV87+MjAHfij8Yg59JJHav72YCDp5eiEkuT+Nu01QY4pI8MU6LRjJyFRjYl
 jCbkfPBb1oyu0D6ZoGWOiFGmqpk+EA67BqCO8TvPr4i17/FgiA7CV4uUdVRv8QavufmO
 Tpquff/U2q2P2ptXoCrSSLSc7DgFJ8sbBmzRZpleZhB2sSBFlr49KNvN17ln99+nB0D4
 KO8d+jcrBxyni4Kfd7CdHZD3QBknYuC36kfOJ3xKT3SeM99e802mY3xVAfW1wXgK9eJe
 3I4xAsYSoO3I3235eXfnkGXfpjh3PHBzdjXOYBtPXTQFmBiQWJIuZYu08f7957Uzf03x
 S7Xg==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: jernej.skrabec@siol.net, Neil Armstrong <narmstrong@baylibre.com>,
 maxime.ripard@bootlin.com, jonas@kwiboo.se, dri-devel@lists.freedesktop.org,
 linux-kernel@vger.kernel.org, hverkuil@xs4all.nl,
 linux-amlogic@lists.infradead.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SW4gb3JkZXIgdG8gc3VwcG9ydCB0aGUgSERNSTIuMCBZVVY0MjAsIFlVVjQyMiBhbmQgdGhlIDEw
Yml0LCAxMmJpdCBhbmQKMTZiaXRzIG91dHB1IHVzZSBjYXNlcywgYWRkIHN1cHBvcnQgZm9yIHRo
ZSByZWNlbnRseSBpbnRyb2R1Y2VkIGJyaWRnZQpjYWxsYmFjayBmb3JtYXRfc2V0KCkuCgpUaGlz
IGNhbGxiYWNrIHdpbGwgc2V0dXAgdGhlIG5ldyBpbnB1dCBmb3JtYXQgYW5kIGVuY29kaW5nIGZy
b20gZW5jb2RlciwKdGhlbiB0aGVzZSBpbmZvcm1hdGlvbiB3aWxsIGJlIHVzZWQgaW5zdGVhZCBv
ZiB0aGUgZGVmYXVsdCBvbmVzCmluIHRoZSBkd19oZG1pX3NldHVwKCkgZnVuY3Rpb24uCgpUbyBk
ZXRlcm1pbmUgdGhlIG91dHB1dCBidXMgZm9ybWF0LCBoYXMgYmVlbiBhZGRlZCA6Ci0gc3VwcG9y
dCBmb3IgdGhlIGNvbm5lY3RvciBkaXNwbGF5X2luZm8gYnVzX2Zvcm1hdHMsIHdoZXJlIGEgZml4
ZWQKICBvdXRwdXQgYnVzIGZvcm1hdCBjYW4gYmUgZW5mb3JjZWQgYnkgdGhlIGVuY29kZXIKLSBz
dXBwb3J0IGZvciBzeW5hbWkgb3V0cHV0IGJ1cyBmb3JtYXQgZGVwZW5kaW5nIG9uIHRoZSBpbnB1
dCBmb3JtYXQsCiAgZXNwZWNpYWxseSB0aGUgWVVWNDIwIGlucHV0IGJ1cyBmb3JtYXQsIGVuZm9y
Y2luZyBZVVY0MjAgYXMgb3V0cHV0CiAgd2l0aCB0aGUgY29ycmVjdCBiaXQgZGVwdGgKClNpZ25l
ZC1vZmYtYnk6IE5laWwgQXJtc3Ryb25nIDxuYXJtc3Ryb25nQGJheWxpYnJlLmNvbT4KLS0tCiBk
cml2ZXJzL2dwdS9kcm0vYnJpZGdlL3N5bm9wc3lzL2R3LWhkbWkuYyB8IDEyMSArKysrKysrKysr
KysrKysrKysrKy0tCiAxIGZpbGUgY2hhbmdlZCwgMTEyIGluc2VydGlvbnMoKyksIDkgZGVsZXRp
b25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9zeW5vcHN5cy9kdy1o
ZG1pLmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3N5bm9wc3lzL2R3LWhkbWkuYwppbmRleCBi
NTBjNDljYWY3YWUuLjI4NGNlNTliZThmOCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2Jy
aWRnZS9zeW5vcHN5cy9kdy1oZG1pLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9zeW5v
cHN5cy9kdy1oZG1pLmMKQEAgLTEwMyw2ICsxMDMsOCBAQCBzdHJ1Y3QgaGRtaV92bW9kZSB7CiB9
OwogCiBzdHJ1Y3QgaGRtaV9kYXRhX2luZm8geworCXVuc2lnbmVkIGludCBicmlkZ2VfaW5fYnVz
X2Zvcm1hdDsKKwl1bnNpZ25lZCBpbnQgYnJpZGdlX2luX2VuY29kaW5nOwogCXVuc2lnbmVkIGlu
dCBlbmNfaW5fYnVzX2Zvcm1hdDsKIAl1bnNpZ25lZCBpbnQgZW5jX291dF9idXNfZm9ybWF0Owog
CXVuc2lnbmVkIGludCBlbmNfaW5fZW5jb2Rpbmc7CkBAIC0xODM4LDggKzE4NDAsNTEgQEAgc3Rh
dGljIHZvaWQgaGRtaV9kaXNhYmxlX292ZXJmbG93X2ludGVycnVwdHMoc3RydWN0IGR3X2hkbWkg
KmhkbWkpCiAJCSAgICBIRE1JX0lIX01VVEVfRkNfU1RBVDIpOwogfQogCisvKgorICogVGhlIERX
LUhETUkgQ1NDIGNhbiBvbmx5IGludGVycG9sYXRlIGFuZCBkZWNpbWF0ZSBmcm9tIDQ6MjoyIHRv
IDQ6NDo0L1JHQgorICogYW5kIGZyb20gNDo0OjQvUkdCIHRvIDQ6MjoyLgorICogRGVmYXVsdCB0
byBSR0Igb3V0cHV0IGV4Y2VwdCBpZiA0OjI6MCBhcyBpbnB1dCwgd2hpY2ggQ1NDIGNhbm5vdCBj
b252ZXJ0LgorICovCitzdGF0aWMgdW5zaWduZWQgbG9uZyBkd19oZG1pX2RldGVybWluZV9vdXRw
dXRfYnVzX2Zvcm1hdChzdHJ1Y3QgZHdfaGRtaSAqaGRtaSkKK3sKKwl1bnNpZ25lZCBpbnQgZGVw
dGggPSBoZG1pX2J1c19mbXRfY29sb3JfZGVwdGgoCisJCQkJCWhkbWktPmhkbWlfZGF0YS5lbmNf
aW5fYnVzX2Zvcm1hdCk7CisJYm9vbCBpc180MjAgPSBoZG1pX2J1c19mbXRfaXNfeXV2NDIwKGhk
bWktPmhkbWlfZGF0YS5lbmNfaW5fYnVzX2Zvcm1hdCk7CisJdW5zaWduZWQgbG9uZyBmbXQgPSBN
RURJQV9CVVNfRk1UX1JHQjg4OF8xWDI0OworCisJc3dpdGNoIChkZXB0aCkgeworCWNhc2UgODoK
KwkJaWYgKGlzXzQyMCkKKwkJCWZtdCA9IE1FRElBX0JVU19GTVRfVVlZVllZOF8wXzVYMjQ7CisJ
CWVsc2UKKwkJCWZtdCA9IE1FRElBX0JVU19GTVRfUkdCODg4XzFYMjQ7CisJCWJyZWFrOworCWNh
c2UgMTA6CisJCWlmIChpc180MjApCisJCQlmbXQgPSBNRURJQV9CVVNfRk1UX1VZWVZZWTEwXzBf
NVgzMDsKKwkJZWxzZQorCQkJZm10ID0gTUVESUFfQlVTX0ZNVF9SR0IxMDEwMTBfMVgzMDsKKwkJ
YnJlYWs7CisJY2FzZSAxMjoKKwkJaWYgKGlzXzQyMCkKKwkJCWZtdCA9IE1FRElBX0JVU19GTVRf
VVlZVllZMTJfMF81WDM2OworCQllbHNlCisJCQlmbXQgPSBNRURJQV9CVVNfRk1UX1JHQjEyMTIx
Ml8xWDM2OworCQlicmVhazsKKwljYXNlIDE2OgorCQlpZiAoaXNfNDIwKQorCQkJZm10ID0gTUVE
SUFfQlVTX0ZNVF9VWVlWWVkxNl8wXzVYNDg7CisJCWVsc2UKKwkJCWZtdCA9IE1FRElBX0JVU19G
TVRfUkdCMTYxNjE2XzFYNDg7CisJCWJyZWFrOworCX0KKworCXJldHVybiBmbXQ7Cit9CisKIHN0
YXRpYyBpbnQgZHdfaGRtaV9zZXR1cChzdHJ1Y3QgZHdfaGRtaSAqaGRtaSwgc3RydWN0IGRybV9k
aXNwbGF5X21vZGUgKm1vZGUpCiB7CisJc3RydWN0IGRybV9kaXNwbGF5X2luZm8gKmRpc3BsYXkg
PSAmaGRtaS0+Y29ubmVjdG9yLmRpc3BsYXlfaW5mbzsKIAlpbnQgcmV0OwogCiAJaGRtaV9kaXNh
YmxlX292ZXJmbG93X2ludGVycnVwdHMoaGRtaSk7CkBAIC0xODUzLDkgKzE4OTgsOSBAQCBzdGF0
aWMgaW50IGR3X2hkbWlfc2V0dXAoc3RydWN0IGR3X2hkbWkgKmhkbWksIHN0cnVjdCBkcm1fZGlz
cGxheV9tb2RlICptb2RlKQogCX0KIAogCWlmICgoaGRtaS0+dmljID09IDYpIHx8IChoZG1pLT52
aWMgPT0gNykgfHwKLQkgICAgKGhkbWktPnZpYyA9PSAyMSkgfHwgKGhkbWktPnZpYyA9PSAyMikg
fHwKLQkgICAgKGhkbWktPnZpYyA9PSAyKSB8fCAoaGRtaS0+dmljID09IDMpIHx8Ci0JICAgICho
ZG1pLT52aWMgPT0gMTcpIHx8IChoZG1pLT52aWMgPT0gMTgpKQorCQkgKGhkbWktPnZpYyA9PSAy
MSkgfHwgKGhkbWktPnZpYyA9PSAyMikgfHwKKwkJIChoZG1pLT52aWMgPT0gMikgfHwgKGhkbWkt
PnZpYyA9PSAzKSB8fAorCQkgKGhkbWktPnZpYyA9PSAxNykgfHwgKGhkbWktPnZpYyA9PSAxOCkp
CiAJCWhkbWktPmhkbWlfZGF0YS5lbmNfb3V0X2VuY29kaW5nID0gVjRMMl9ZQ0JDUl9FTkNfNjAx
OwogCWVsc2UKIAkJaGRtaS0+aGRtaV9kYXRhLmVuY19vdXRfZW5jb2RpbmcgPSBWNEwyX1lDQkNS
X0VOQ183MDk7CkBAIC0xODYzLDIyICsxOTA4LDI5IEBAIHN0YXRpYyBpbnQgZHdfaGRtaV9zZXR1
cChzdHJ1Y3QgZHdfaGRtaSAqaGRtaSwgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGUpCiAJ
aGRtaS0+aGRtaV9kYXRhLnZpZGVvX21vZGUubXBpeGVscmVwZXRpdGlvbm91dHB1dCA9IDA7CiAJ
aGRtaS0+aGRtaV9kYXRhLnZpZGVvX21vZGUubXBpeGVscmVwZXRpdGlvbmlucHV0ID0gMDsKIAot
CS8qIFRPRklYOiBHZXQgaW5wdXQgZm9ybWF0IGZyb20gcGxhdCBkYXRhIG9yIGZhbGxiYWNrIHRv
IFJHQjg4OCAqLwotCWlmIChoZG1pLT5wbGF0X2RhdGEtPmlucHV0X2J1c19mb3JtYXQpCisJaWYg
KGhkbWktPmhkbWlfZGF0YS5icmlkZ2VfaW5fYnVzX2Zvcm1hdCkKKwkJaGRtaS0+aGRtaV9kYXRh
LmVuY19pbl9idXNfZm9ybWF0ID0KKwkJCWhkbWktPmhkbWlfZGF0YS5icmlkZ2VfaW5fYnVzX2Zv
cm1hdDsKKwllbHNlIGlmIChoZG1pLT5wbGF0X2RhdGEtPmlucHV0X2J1c19mb3JtYXQpCiAJCWhk
bWktPmhkbWlfZGF0YS5lbmNfaW5fYnVzX2Zvcm1hdCA9CiAJCQloZG1pLT5wbGF0X2RhdGEtPmlu
cHV0X2J1c19mb3JtYXQ7CiAJZWxzZQogCQloZG1pLT5oZG1pX2RhdGEuZW5jX2luX2J1c19mb3Jt
YXQgPSBNRURJQV9CVVNfRk1UX1JHQjg4OF8xWDI0OwogCi0JLyogVE9GSVg6IEdldCBpbnB1dCBl
bmNvZGluZyBmcm9tIHBsYXQgZGF0YSBvciBmYWxsYmFjayB0byBub25lICovCi0JaWYgKGhkbWkt
PnBsYXRfZGF0YS0+aW5wdXRfYnVzX2VuY29kaW5nKQorCWlmIChoZG1pLT5oZG1pX2RhdGEuYnJp
ZGdlX2luX2VuY29kaW5nKQorCQloZG1pLT5oZG1pX2RhdGEuZW5jX2luX2VuY29kaW5nID0KKwkJ
CWhkbWktPmhkbWlfZGF0YS5icmlkZ2VfaW5fZW5jb2Rpbmc7CisJZWxzZSBpZiAoaGRtaS0+cGxh
dF9kYXRhLT5pbnB1dF9idXNfZW5jb2RpbmcpCiAJCWhkbWktPmhkbWlfZGF0YS5lbmNfaW5fZW5j
b2RpbmcgPQogCQkJaGRtaS0+cGxhdF9kYXRhLT5pbnB1dF9idXNfZW5jb2Rpbmc7CiAJZWxzZQog
CQloZG1pLT5oZG1pX2RhdGEuZW5jX2luX2VuY29kaW5nID0gVjRMMl9ZQ0JDUl9FTkNfREVGQVVM
VDsKIAotCS8qIFRPRklYOiBEZWZhdWx0IHRvIFJHQjg4OCBvdXRwdXQgZm9ybWF0ICovCi0JaGRt
aS0+aGRtaV9kYXRhLmVuY19vdXRfYnVzX2Zvcm1hdCA9IE1FRElBX0JVU19GTVRfUkdCODg4XzFY
MjQ7CisJaWYgKGRpc3BsYXktPm51bV9idXNfZm9ybWF0cykKKwkJaGRtaS0+aGRtaV9kYXRhLmVu
Y19vdXRfYnVzX2Zvcm1hdCA9IGRpc3BsYXktPmJ1c19mb3JtYXRzWzBdOworCWVsc2UKKwkJaGRt
aS0+aGRtaV9kYXRhLmVuY19vdXRfYnVzX2Zvcm1hdCA9CisJCQkJZHdfaGRtaV9kZXRlcm1pbmVf
b3V0cHV0X2J1c19mb3JtYXQoaGRtaSk7CiAKIAloZG1pLT5oZG1pX2RhdGEucGl4X3JlcGV0X2Zh
Y3RvciA9IDA7CiAJaGRtaS0+aGRtaV9kYXRhLmhkY3BfZW5hYmxlID0gMDsKQEAgLTIxNTAsNiAr
MjIwMiw1NiBAQCBkd19oZG1pX2JyaWRnZV9tb2RlX3ZhbGlkKHN0cnVjdCBkcm1fYnJpZGdlICpi
cmlkZ2UsCiAJcmV0dXJuIG1vZGVfc3RhdHVzOwogfQogCitzdGF0aWMgYm9vbCBkd19oZG1pX2Ry
bV9icmlkZ2VfZm9ybWF0X3NldChzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlLAorCQkJCQkgY29u
c3QgdTMyIGlucHV0X2J1c19mb3JtYXQsCisJCQkJCSBjb25zdCB1MzIgaW5wdXRfZW5jb2Rpbmcp
Cit7CisJc3RydWN0IGR3X2hkbWkgKmhkbWkgPSBicmlkZ2UtPmRyaXZlcl9wcml2YXRlOworCisJ
LyogRmlsdGVyIHN1cHBvcnRlZCBpbnB1dCBidXMgZm9ybWF0cyAqLworCXN3aXRjaCAoaW5wdXRf
YnVzX2Zvcm1hdCkgeworCWNhc2UgTUVESUFfQlVTX0ZNVF9SR0I4ODhfMVgyNDoKKwljYXNlIE1F
RElBX0JVU19GTVRfUkdCMTAxMDEwXzFYMzA6CisJY2FzZSBNRURJQV9CVVNfRk1UX1JHQjEyMTIx
Ml8xWDM2OgorCWNhc2UgTUVESUFfQlVTX0ZNVF9SR0IxNjE2MTZfMVg0ODoKKwljYXNlIE1FRElB
X0JVU19GTVRfWVVWOF8xWDI0OgorCWNhc2UgTUVESUFfQlVTX0ZNVF9ZVVYxMF8xWDMwOgorCWNh
c2UgTUVESUFfQlVTX0ZNVF9ZVVYxMl8xWDM2OgorCWNhc2UgTUVESUFfQlVTX0ZNVF9ZVVYxNl8x
WDQ4OgorCWNhc2UgTUVESUFfQlVTX0ZNVF9VWVZZOF8xWDE2OgorCWNhc2UgTUVESUFfQlVTX0ZN
VF9VWVZZMTBfMVgyMDoKKwljYXNlIE1FRElBX0JVU19GTVRfVVlWWTEyXzFYMjQ6CisJY2FzZSBN
RURJQV9CVVNfRk1UX1VZWVZZWThfMF81WDI0OgorCWNhc2UgTUVESUFfQlVTX0ZNVF9VWVlWWVkx
MF8wXzVYMzA6CisJY2FzZSBNRURJQV9CVVNfRk1UX1VZWVZZWTEyXzBfNVgzNjoKKwljYXNlIE1F
RElBX0JVU19GTVRfVVlZVllZMTZfMF81WDQ4OgorCQlicmVhazsKKwlkZWZhdWx0OgorCQlkZXZf
ZGJnKGhkbWktPmRldiwgIlVuc3VwcG9ydGVkIElucHV0IGJ1cyBmb3JtYXQgJXhcbiIsCisJCQlp
bnB1dF9idXNfZm9ybWF0KTsKKwkJcmV0dXJuIGZhbHNlOworCX0KKworCS8qIEZpbHRlciBzdXBw
b3J0ZWQgaW5wdXQgYnVzIGVuY29kaW5nICovCisJc3dpdGNoIChpbnB1dF9lbmNvZGluZykgewor
CWNhc2UgVjRMMl9ZQ0JDUl9FTkNfREVGQVVMVDoKKwljYXNlIFY0TDJfWUNCQ1JfRU5DXzYwMToK
KwljYXNlIFY0TDJfWUNCQ1JfRU5DXzcwOToKKwljYXNlIFY0TDJfWUNCQ1JfRU5DX1hWNjAxOgor
CWNhc2UgVjRMMl9ZQ0JDUl9FTkNfWFY3MDk6CisJCWJyZWFrOworCWRlZmF1bHQ6CisJCWRldl9k
YmcoaGRtaS0+ZGV2LCAiVW5zdXBwb3J0ZWQgSW5wdXQgZW5jb2RpbmcgJXhcbiIsCisJCQlpbnB1
dF9idXNfZm9ybWF0KTsKKwkJcmV0dXJuIGZhbHNlOworCX0KKworCWhkbWktPmhkbWlfZGF0YS5i
cmlkZ2VfaW5fYnVzX2Zvcm1hdCA9IGlucHV0X2J1c19mb3JtYXQ7CisJaGRtaS0+aGRtaV9kYXRh
LmJyaWRnZV9pbl9lbmNvZGluZyA9IGlucHV0X2VuY29kaW5nOworCisJcmV0dXJuIHRydWU7Cit9
CisKIHN0YXRpYyB2b2lkIGR3X2hkbWlfYnJpZGdlX21vZGVfc2V0KHN0cnVjdCBkcm1fYnJpZGdl
ICpicmlkZ2UsCiAJCQkJICAgIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICpvcmlnX21v
ZGUsCiAJCQkJICAgIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlKQpAQCAtMjE5
Miw2ICsyMjk0LDcgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fYnJpZGdlX2Z1bmNzIGR3X2hk
bWlfYnJpZGdlX2Z1bmNzID0gewogCS5kaXNhYmxlID0gZHdfaGRtaV9icmlkZ2VfZGlzYWJsZSwK
IAkubW9kZV9zZXQgPSBkd19oZG1pX2JyaWRnZV9tb2RlX3NldCwKIAkubW9kZV92YWxpZCA9IGR3
X2hkbWlfYnJpZGdlX21vZGVfdmFsaWQsCisJLmZvcm1hdF9zZXQgPSBkd19oZG1pX2RybV9icmlk
Z2VfZm9ybWF0X3NldCwKIH07CiAKIHN0YXRpYyBpcnFyZXR1cm5fdCBkd19oZG1pX2kyY19pcnEo
c3RydWN0IGR3X2hkbWkgKmhkbWkpCi0tIAoyLjIxLjAKCl9fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVs
QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWls
bWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
