Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 71E03CEE1C
	for <lists+dri-devel@lfdr.de>; Mon,  7 Oct 2019 23:00:30 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0098889D44;
	Mon,  7 Oct 2019 21:00:27 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from us-smtp-1.mimecast.com (us-smtp-delivery-1.mimecast.com
 [205.139.110.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 9433889C56
 for <dri-devel@lists.freedesktop.org>; Mon,  7 Oct 2019 21:00:25 +0000 (UTC)
Received: from mail-qt1-f198.google.com (mail-qt1-f198.google.com
 [209.85.160.198]) (Using TLS) by relay.mimecast.com with ESMTP id
 us-mta-26-l6yXsPB4O4uOYinrCjO1Lw-1; Mon, 07 Oct 2019 17:00:18 -0400
Received: by mail-qt1-f198.google.com with SMTP id n59so16635872qtd.8
 for <dri-devel@lists.freedesktop.org>; Mon, 07 Oct 2019 14:00:18 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:message-id:subject:from:to:cc:date:in-reply-to
 :references:organization:user-agent:mime-version
 :content-transfer-encoding;
 bh=3xnwdkfaFVtREbouVVQUfnimU2e1egZx/0sGDzL7xMQ=;
 b=SCwgXO9DFGE5lk4bg1kCkxZ3sQCvadSdWfptbYqkTHTdkuojVbctFAaRBdT7svnYvv
 J8Tk0Jy8UwBmaYatZWJ76AF57Yn+TLsM3YPrI/iDZK0by5r97cxLjjaEeGG/9OpbOQqf
 CyNZTCZG+oFk3VCEO1yd3oyTjDmpHN6KtqoFpLP20IeRXoBa0+XWsbaSG8H5Wz/umNDg
 oRg/EUsEyVTll0YuoieT7CkwHy0NwMB+FBW4Hol2oTac1ty67u/9Mksj/vm6WkmvtioF
 /4G6ex8zyafHlbJGdE2LRPNso2gNFAQdo6IE0QGJ0ErQRGyRhdRbPhRLrYukq8pDCnfn
 tb0w==
X-Gm-Message-State: APjAAAUkXpx1CIlINHcdm23pxXCLYHil8svRjT45EdSlGcvWYgGhUbdW
 rvq8n+STQUERXx089OoT6jQf2d9bmI/YzRhKpeBLoJ75hzkRXuOVX8wdWnLFO3Zyqb1zHLK2aPQ
 WuZ2YKqUHcasQu9kQLTDc4BGazEl9
X-Received: by 2002:ac8:50c:: with SMTP id u12mr31895828qtg.322.1570482018456; 
 Mon, 07 Oct 2019 14:00:18 -0700 (PDT)
X-Google-Smtp-Source: APXvYqwUkFPRrTucHE7JvHfGfsM9xr6tMcU9plHqmFJKQBcPC6WKv3CF4ohY6P/Mhz1cDY762yA/bw==
X-Received: by 2002:ac8:50c:: with SMTP id u12mr31895772qtg.322.1570482018092; 
 Mon, 07 Oct 2019 14:00:18 -0700 (PDT)
Received: from dhcp-10-20-1-34.bss.redhat.com ([144.121.20.162])
 by smtp.gmail.com with ESMTPSA id v12sm9135262qtb.5.2019.10.07.14.00.16
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Mon, 07 Oct 2019 14:00:16 -0700 (PDT)
Message-ID: <c3a11e78827e85e73f401e90f0c3a0fee08e9120.camel@redhat.com>
Subject: Re: [PATCH 01/14] drm/amd/display: Add MST atomic routines
From: Lyude Paul <lyude@redhat.com>
To: mikita.lipski@amd.com, amd-gfx@lists.freedesktop.org
Date: Mon, 07 Oct 2019 17:00:15 -0400
In-Reply-To: <20191001161721.13793-2-mikita.lipski@amd.com>
References: <20191001161721.13793-1-mikita.lipski@amd.com>
 <20191001161721.13793-2-mikita.lipski@amd.com>
Organization: Red Hat
User-Agent: Evolution 3.32.4 (3.32.4-1.fc30)
MIME-Version: 1.0
X-MC-Unique: l6yXsPB4O4uOYinrCjO1Lw-1
X-Mimecast-Spam-Score: 0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=redhat.com; 
 s=mimecast20190719; t=1570482024;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=Pzfwhxhto/Rjgpw+1X8fRkRdUWzwn+w2xlb17xO3eNc=;
 b=TG0fy0JEvezq2Ala2h9pHIi7zg9u2D4wcr79yqVhdcx6WpI07ogc1h1kFHjRpMK64YOkzv
 kXderH+HLpa2HHKlOyq2VgD7Mz8qeRUOzynhgtTADzo61mAA8qlJCuDjmYKTusmIDz0IR1
 NcZ7d59kbNaRRCT+fOHk+qlcxxwucho=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Jerry Zuo <Jerry.Zuo@amd.com>,
 Nicholas Kazlauskas <nicholas.kazlauskas@amd.com>,
 dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

U29ycnkgdGhpcyB0b29rIG1lIGEgbGl0dGxlIHdoaWxlIHRvIGdldCB0bywgSSd2ZSBiZWVuIGF0
IFhEQy4KClRoaXMgaXMgY2xvc2VyIHRoZW4sIGJ1dCBzdGlsbCBhIGNvdXBsZSBtb3JlIGlzc3Vl
cyBiZWxvdyAoYWxzby10aGFuayB5b3UgZm9yCmluY2x1ZGluZyB0aGUgY2hhbmdlbG9nISkKCk9u
IFR1ZSwgMjAxOS0xMC0wMSBhdCAxMjoxNyAtMDQwMCwgbWlraXRhLmxpcHNraUBhbWQuY29tIHdy
b3RlOgo+IEZyb206IE1pa2l0YSBMaXBza2kgPG1pa2l0YS5saXBza2lAYW1kLmNvbT4KPiAKPiAt
IEFkZGluZyBlbmNvZGVyIGF0b21pYyBjaGVjayB0byBmaW5kIHZjcGkgc2xvdHMgZm9yIGEgY29u
bmVjdG9yCj4gLSBVc2luZyBEUk0gaGVscGVyIGZ1bmN0aW9ucyB0byBjYWxjdWxhdGUgUEJOCj4g
LSBBZGRpbmcgY29ubmVjdG9yIGF0b21pYyBjaGVjayB0byByZWxlYXNlIHZjcGkgc2xvdHMgaWYg
Y29ubmVjdG9yCj4gbG9zZXMgQ1JUQwo+IC0gQ2FsY3VsYXRlICBQQk4gYW5kIFZDUEkgc2xvdHMg
b25seSBvbmNlIGR1cmluZyBhdG9taWMKPiBjaGVjayBhbmQgc3RvcmUgdGhlbSBvbiBhbWRncHUg
Y29ubmVjdG9yIHRvIGVsaW1pbmF0ZQo+IHJlZHVuZGFudCBjYWxjdWxhdGlvbgo+IC0gQ2FsbCBk
cm1fZHBfbXN0X2F0b21pY19jaGVjayB0byB2ZXJpZnkgdmFsaWRpdHkgb2YgTVNUIHRvcG9sb2d5
Cj4gZHVyaW5nIHN0YXRlIGF0b21pYyBjaGVjawo+IAo+IHYyOiBzcXVhc2hlZCBwcmV2aW91cyAz
IHNlcGFyYXRlIHBhdGNoZXMsIHJlbW92ZWQgRFNDIFBCTiBjYWxjdWxhdGlvbiwKPiBhbmQgYWRk
ZWQgUEJOIGFuZCBWQ1BJIHNsb3RzIHByb3BlcnRpZXMgdG8gYW1kZ3B1IGNvbm5lY3Rvcgo+IAo+
IENjOiBKZXJyeSBadW8gPEplcnJ5Llp1b0BhbWQuY29tPgo+IENjOiBIYXJyeSBXZW50bGFuZCA8
aGFycnkud2VudGxhbmRAYW1kLmNvbT4KPiBDYzogTmljaG9sYXMgS2F6bGF1c2thcyA8bmljaG9s
YXMua2F6bGF1c2thc0BhbWQuY29tPgo+IENjOiBMeXVkZSBQYXVsIDxseXVkZUByZWRoYXQuY29t
Pgo+IFNpZ25lZC1vZmYtYnk6IE1pa2l0YSBMaXBza2kgPG1pa2l0YS5saXBza2lAYW1kLmNvbT4K
PiAtLS0KPiAgLi4uL2dwdS9kcm0vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2FtZGdwdV9kbS5jIHwg
NDIgKysrKysrKysrKysrKysrKysrKwo+ICAuLi4vZ3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVf
ZG0vYW1kZ3B1X2RtLmggfCAgNCArKwo+ICAuLi4vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2FtZGdw
dV9kbV9oZWxwZXJzLmMgfCA0MiArKy0tLS0tLS0tLS0tLS0tLS0tCj4gIC4uLi9kaXNwbGF5L2Ft
ZGdwdV9kbS9hbWRncHVfZG1fbXN0X3R5cGVzLmMgICB8IDMyICsrKysrKysrKysrKysrCj4gIDQg
ZmlsZXMgY2hhbmdlZCwgODEgaW5zZXJ0aW9ucygrKSwgMzkgZGVsZXRpb25zKC0pCj4gCj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVfZG0vYW1kZ3B1X2Rt
LmMKPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVfZG0vYW1kZ3B1X2RtLmMK
PiBpbmRleCAyMzliMWFlODYwMDcuLjNmYzFhZmNjYmIzMyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2FtZGdwdV9kbS5jCj4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9kaXNwbGF5L2FtZGdwdV9kbS9hbWRncHVfZG0uYwo+IEBAIC00NTczLDYg
KzQ1NzMsNDEgQEAgc3RhdGljIGludCBkbV9lbmNvZGVyX2hlbHBlcl9hdG9taWNfY2hlY2soc3Ry
dWN0Cj4gZHJtX2VuY29kZXIgKmVuY29kZXIsCj4gIAkJCQkJICBzdHJ1Y3QgZHJtX2NydGNfc3Rh
dGUgKmNydGNfc3RhdGUsCj4gIAkJCQkJICBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9zdGF0ZQo+ICpj
b25uX3N0YXRlKQo+ICB7Cj4gKwlzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqc3RhdGUgPSBjcnRj
X3N0YXRlLT5zdGF0ZTsKPiArCXN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IgPSBjb25u
X3N0YXRlLT5jb25uZWN0b3I7Cj4gKwlzdHJ1Y3QgYW1kZ3B1X2RtX2Nvbm5lY3RvciAqYWNvbm5l
Y3RvciA9Cj4gdG9fYW1kZ3B1X2RtX2Nvbm5lY3Rvcihjb25uZWN0b3IpOwo+ICsJc3RydWN0IGRt
X2NydGNfc3RhdGUgKmRtX25ld19jcnRjX3N0YXRlID0KPiB0b19kbV9jcnRjX3N0YXRlKGNydGNf
c3RhdGUpOwo+ICsJY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKmFkanVzdGVkX21vZGUg
PSAmY3J0Y19zdGF0ZS0KPiA+YWRqdXN0ZWRfbW9kZTsKPiArCXN0cnVjdCBkcm1fZHBfbXN0X3Rv
cG9sb2d5X21nciAqbXN0X21ncjsKPiArCXN0cnVjdCBkcm1fZHBfbXN0X3BvcnQgKm1zdF9wb3J0
Owo+ICsJaW50IGNsb2NrLCBicHAgPSAwOwo+ICsKPiArCWlmICghZG1fbmV3X2NydGNfc3RhdGUp
Cj4gKwkJcmV0dXJuIDA7CgpZb3UgY2FuIHJlbW92ZSB0aGlzLCBjcnRjX3N0YXRlIHdpbGwgbmV2
ZXIgYmUgTlVMTAo+ICsKPiArCWlmICghYWNvbm5lY3Rvci0+cG9ydCB8fCAhYWNvbm5lY3Rvci0+
ZGNfc2luaykKPiArCQlyZXR1cm4gMDsKPiArCgpUaGlzIG1ha2VzIG1lIHRoaW5rIHRoYXQgdGhp
cyBzaG91bGQgcHJvYmFibHkganVzdCBiZSBtb3ZlZCBpbnRvCmFtZGdwdV9kbV9tc3RfdHlwZXMu
YyBzaW5jZSB3ZSdyZSBub3QgdXNpbmcgdGhpcyBlbmNvZGVyIGNoZWNrIGZvciBhbnl0aGluZwpl
bHNlLCBidXQgSSdsbCBsZWF2ZSB0aGF0IGRlY2lzaW9uIHVwIHRvIHlvdS4KCj4gKwltc3RfcG9y
dCA9IGFjb25uZWN0b3ItPnBvcnQ7Cj4gKwltc3RfbWdyID0gJmFjb25uZWN0b3ItPm1zdF9wb3J0
LT5tc3RfbWdyOwo+ICsKPiArCWlmICghY3J0Y19zdGF0ZS0+Y29ubmVjdG9yc19jaGFuZ2VkICYm
ICFjcnRjX3N0YXRlLT5tb2RlX2NoYW5nZWQpCj4gKwkJcmV0dXJuIDA7Cj4gKwo+ICsJaWYoIXN0
YXRlLT5kdXBsaWNhdGVkKSB7Cj4gKwkJYnBwID0gKHVpbnQ4X3QpY29ubmVjdG9yLT5kaXNwbGF5
X2luZm8uYnBjICogMzsKPiArCQljbG9jayA9IGFkanVzdGVkX21vZGUtPmNsb2NrOwo+ICsJCWFj
b25uZWN0b3ItPnBibiA9IGRybV9kcF9jYWxjX3Bibl9tb2RlKGNsb2NrLCBicHApOwoKV2UgY2Fu
J3QgZG8gdGhpcy4uLgo+ICsJfQo+ICsJYWNvbm5lY3Rvci0+dmNwaV9zbG90cyA9IGRybV9kcF9h
dG9taWNfZmluZF92Y3BpX3Nsb3RzKHN0YXRlLAo+ICsJCQkJCQkJICAgICAgIG1zdF9tZ3IsCj4g
KwkJCQkJCQkgICAgICAgbXN0X3BvcnQsCj4gKwkJCQkJCQkgICAgICAgYWNvbm5lY3Rvci0KPiA+
cGJuKTsKCi4uLmFuZCB3ZSBjYW4ndCBkbyB0aGlzOiB5b3UncmUgbm90IGFsbG93ZWQgdG8gbW9k
aWZ5IGFueXRoaW5nIGR1cmluZyB0aGUKYXRvbWljIGNoZWNrIG90aGVyIHRoYW4gdGhlIGF0b21p
YyBzdGF0ZXMgdGhhdCB3ZXJlIHBhc3NlZCBpbiAoZS5nLiBjcnRjX3N0YXRlCmFsb25nIHdpdGgg
YW55dGhpbmcgaW4gaXQncyByZXNwZWN0aXZlIHN0cnVjdCBkcm1fYXRvbWljX3N0YXRlKS4gUmVt
ZW1iZXIKd2UncmUgdHJ5aW5nIHRvIGNoZWNrIGlmIGEgY29uZmlndXJhdGlvbiBpcyB2YWxpZCBo
ZXJlIC1iZWZvcmUtIHdlJ3ZlCmNvbW1pdHRlZCBhbnl0aGluZyB0byBoYXJkd2FyZS4gU28sIHRo
ZSBwYm4gYW5kIHZjcGkgdmFsdWVzIG5lZWQgdG8gYmUgc3RvcmVkCmluIHRoZSBjb25uZWN0b3In
cyBhdG9taWMgc3RhdGUuCgo+ICsKPiArCWlmIChhY29ubmVjdG9yLT52Y3BpX3Nsb3RzIDwgMCkg
ewo+ICsJCURSTV9ERUJVR19BVE9NSUMoImZhaWxlZCBmaW5kaW5nIHZjcGkgc2xvdHM6ICVkXG4i
LAo+IGFjb25uZWN0b3ItPnZjcGlfc2xvdHMpOwo+ICsJCXJldHVybiBhY29ubmVjdG9yLT52Y3Bp
X3Nsb3RzOwo+ICsJfQo+ICAJcmV0dXJuIDA7Cj4gIH0KPiAgCj4gQEAgLTUxOTcsNiArNTIzMiw4
IEBAIHZvaWQgYW1kZ3B1X2RtX2Nvbm5lY3Rvcl9pbml0X2hlbHBlcihzdHJ1Y3QKPiBhbWRncHVf
ZGlzcGxheV9tYW5hZ2VyICpkbSwKPiAgCWFjb25uZWN0b3ItPmJhc2UuZHBtcyA9IERSTV9NT0RF
X0RQTVNfT0ZGOwo+ICAJYWNvbm5lY3Rvci0+aHBkLmhwZCA9IEFNREdQVV9IUERfTk9ORTsgLyog
bm90IHVzZWQgKi8KPiAgCWFjb25uZWN0b3ItPmF1ZGlvX2luc3QgPSAtMTsKPiArCWFjb25uZWN0
b3ItPnZjcGlfc2xvdHMgPSAwOwo+ICsJYWNvbm5lY3Rvci0+cGJuID0gMDsKPiAgCW11dGV4X2lu
aXQoJmFjb25uZWN0b3ItPmhwZF9sb2NrKTsKPiAgCj4gIAkvKgo+IEBAIC03NTkyLDYgKzc2Mjks
MTEgQEAgc3RhdGljIGludCBhbWRncHVfZG1fYXRvbWljX2NoZWNrKHN0cnVjdCBkcm1fZGV2aWNl
Cj4gKmRldiwKPiAgCWlmIChyZXQpCj4gIAkJZ290byBmYWlsOwo+ICAKPiArCS8qIFBlcmZvcm0g
dmFsaWRhdGlvbiBvZiBNU1QgdG9wb2xvZ3kgaW4gdGhlIHN0YXRlKi8KPiArCXJldCA9IGRybV9k
cF9tc3RfYXRvbWljX2NoZWNrKHN0YXRlKTsKPiArCWlmIChyZXQpCj4gKwkJZ290byBmYWlsOwo+
ICsKPiAgCWlmIChzdGF0ZS0+bGVnYWN5X2N1cnNvcl91cGRhdGUpIHsKPiAgCQkvKgo+ICAJCSAq
IFRoaXMgaXMgYSBmYXN0IGN1cnNvciB1cGRhdGUgY29taW5nIGZyb20gdGhlIHBsYW5lIHVwZGF0
ZQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2Ft
ZGdwdV9kbS5oCj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2FtZGdw
dV9kbS5oCj4gaW5kZXggYzZmZGViZWU3MTg5Li4zY2UxMDQzMjQwOTYgMTAwNjQ0Cj4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2FtZGdwdV9kbS9hbWRncHVfZG0uaAo+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVfZG0vYW1kZ3B1X2RtLmgKPiBAQCAt
MjgwLDYgKzI4MCwxMCBAQCBzdHJ1Y3QgYW1kZ3B1X2RtX2Nvbm5lY3RvciB7Cj4gIAlzdHJ1Y3Qg
YW1kZ3B1X2RtX2Nvbm5lY3RvciAqbXN0X3BvcnQ7Cj4gIAlzdHJ1Y3QgYW1kZ3B1X2VuY29kZXIg
Km1zdF9lbmNvZGVyOwo+ICAKPiArCS8qIE1TVCBzcGVjaWZpYyAqLwo+ICsJdWludDMyX3QgdmNw
aV9zbG90czsKPiArCXVpbnQzMl90IHBibjsKPiArCj4gIAkvKiBUT0RPIHNlZSBpZiB3ZSBjYW4g
bWVyZ2Ugd2l0aCBkZGNfYnVzIG9yIG1ha2UgYSBkbV9jb25uZWN0b3IgKi8KPiAgCXN0cnVjdCBh
bWRncHVfaTJjX2FkYXB0ZXIgKmkyYzsKPiAgCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvZGlzcGxheS9hbWRncHVfZG0vYW1kZ3B1X2RtX2hlbHBlcnMuYwo+IGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9kaXNwbGF5L2FtZGdwdV9kbS9hbWRncHVfZG1faGVscGVycy5jCj4gaW5kZXgg
MTFlNTc4NGFhNjJhLi41MjU2YWJlMzJlOTIgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9kaXNwbGF5L2FtZGdwdV9kbS9hbWRncHVfZG1faGVscGVycy5jCj4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9kaXNwbGF5L2FtZGdwdV9kbS9hbWRncHVfZG1faGVscGVycy5jCj4gQEAg
LTE4NCwxMSArMTg0LDcgQEAgYm9vbCBkbV9oZWxwZXJzX2RwX21zdF93cml0ZV9wYXlsb2FkX2Fs
bG9jYXRpb25fdGFibGUoCj4gIAlzdHJ1Y3QgYW1kZ3B1X2RtX2Nvbm5lY3RvciAqYWNvbm5lY3Rv
cjsKPiAgCXN0cnVjdCBkcm1fZHBfbXN0X3RvcG9sb2d5X21nciAqbXN0X21ncjsKPiAgCXN0cnVj
dCBkcm1fZHBfbXN0X3BvcnQgKm1zdF9wb3J0Owo+IC0JaW50IHNsb3RzID0gMDsKPiAgCWJvb2wg
cmV0Owo+IC0JaW50IGNsb2NrOwo+IC0JaW50IGJwcCA9IDA7Cj4gLQlpbnQgcGJuID0gMDsKPiAg
Cj4gIAlhY29ubmVjdG9yID0gKHN0cnVjdCBhbWRncHVfZG1fY29ubmVjdG9yICopc3RyZWFtLT5k
bV9zdHJlYW1fY29udGV4dDsKPiAgCj4gQEAgLTIwMyw0MiArMTk5LDEwIEBAIGJvb2wgZG1faGVs
cGVyc19kcF9tc3Rfd3JpdGVfcGF5bG9hZF9hbGxvY2F0aW9uX3RhYmxlKAo+ICAJbXN0X3BvcnQg
PSBhY29ubmVjdG9yLT5wb3J0Owo+ICAKPiAgCWlmIChlbmFibGUpIHsKPiAtCQljbG9jayA9IHN0
cmVhbS0+dGltaW5nLnBpeF9jbGtfMTAwaHogLyAxMDsKPiAtCj4gLQkJc3dpdGNoIChzdHJlYW0t
PnRpbWluZy5kaXNwbGF5X2NvbG9yX2RlcHRoKSB7Cj4gLQo+IC0JCWNhc2UgQ09MT1JfREVQVEhf
NjY2Ogo+IC0JCQlicHAgPSA2Owo+IC0JCQlicmVhazsKPiAtCQljYXNlIENPTE9SX0RFUFRIXzg4
ODoKPiAtCQkJYnBwID0gODsKPiAtCQkJYnJlYWs7Cj4gLQkJY2FzZSBDT0xPUl9ERVBUSF8xMDEw
MTA6Cj4gLQkJCWJwcCA9IDEwOwo+IC0JCQlicmVhazsKPiAtCQljYXNlIENPTE9SX0RFUFRIXzEy
MTIxMjoKPiAtCQkJYnBwID0gMTI7Cj4gLQkJCWJyZWFrOwo+IC0JCWNhc2UgQ09MT1JfREVQVEhf
MTQxNDE0Ogo+IC0JCQlicHAgPSAxNDsKPiAtCQkJYnJlYWs7Cj4gLQkJY2FzZSBDT0xPUl9ERVBU
SF8xNjE2MTY6Cj4gLQkJCWJwcCA9IDE2Owo+IC0JCQlicmVhazsKPiAtCQlkZWZhdWx0Ogo+IC0J
CQlBU1NFUlQoYnBwICE9IDApOwo+IC0JCQlicmVhazsKPiAtCQl9Cj4gLQo+IC0JCWJwcCA9IGJw
cCAqIDM7Cj4gLQo+IC0JCS8qIFRPRE8gbmVlZCB0byBrbm93IGxpbmsgcmF0ZSAqLwo+IC0KPiAt
CQlwYm4gPSBkcm1fZHBfY2FsY19wYm5fbW9kZShjbG9jaywgYnBwKTsKPiAtCj4gLQkJc2xvdHMg
PSBkcm1fZHBfZmluZF92Y3BpX3Nsb3RzKG1zdF9tZ3IsIHBibik7Cj4gLQkJcmV0ID0gZHJtX2Rw
X21zdF9hbGxvY2F0ZV92Y3BpKG1zdF9tZ3IsIG1zdF9wb3J0LCBwYm4sIHNsb3RzKTsKPiAgCj4g
KwkJcmV0ID0gZHJtX2RwX21zdF9hbGxvY2F0ZV92Y3BpKG1zdF9tZ3IsIG1zdF9wb3J0LAo+ICsJ
CQkJCSAgICAgICBhY29ubmVjdG9yLT5wYm4sCj4gKwkJCQkJICAgICAgIGFjb25uZWN0b3ItPnZj
cGlfc2xvdHMpOwo+ICAJCWlmICghcmV0KQo+ICAJCQlyZXR1cm4gZmFsc2U7Cj4gIAo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2FtZGdwdV9kbV9t
c3RfdHlwZXMuYwo+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2FtZGdwdV9kbS9hbWRn
cHVfZG1fbXN0X3R5cGVzLmMKPiBpbmRleCAzYWYyYjQyOWZmMWIuLjdmM2NlMjliZDE0YyAxMDA2
NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2FtZGdwdV9k
bV9tc3RfdHlwZXMuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVf
ZG0vYW1kZ3B1X2RtX21zdF90eXBlcy5jCj4gQEAgLTI1MCwxMCArMjUwLDQyIEBAIGRtX21zdF9h
dG9taWNfYmVzdF9lbmNvZGVyKHN0cnVjdCBkcm1fY29ubmVjdG9yCj4gKmNvbm5lY3RvciwKPiAg
CXJldHVybiAmdG9fYW1kZ3B1X2RtX2Nvbm5lY3Rvcihjb25uZWN0b3IpLT5tc3RfZW5jb2Rlci0+
YmFzZTsKPiAgfQo+ICAKPiArc3RhdGljIGludCBkbV9kcF9tc3RfYXRvbWljX2NoZWNrKHN0cnVj
dCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IsCj4gKwkJCQlzdHJ1Y3QgZHJtX2F0b21pY19zdGF0
ZSAqc3RhdGUpCj4gK3sKPiArCXN0cnVjdCBkcm1fY29ubmVjdG9yX3N0YXRlICpuZXdfY29ubl9z
dGF0ZSA9Cj4gKwkJCWRybV9hdG9taWNfZ2V0X25ld19jb25uZWN0b3Jfc3RhdGUoc3RhdGUsIGNv
bm5lY3Rvcik7Cj4gKwlzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9zdGF0ZSAqb2xkX2Nvbm5fc3RhdGUg
PQo+ICsJCQlkcm1fYXRvbWljX2dldF9vbGRfY29ubmVjdG9yX3N0YXRlKHN0YXRlLCBjb25uZWN0
b3IpOwo+ICsJc3RydWN0IGFtZGdwdV9kbV9jb25uZWN0b3IgKmFjb25uZWN0b3IgPQo+IHRvX2Ft
ZGdwdV9kbV9jb25uZWN0b3IoY29ubmVjdG9yKTsKPiArCXN0cnVjdCBkcm1fY3J0Y19zdGF0ZSAq
bmV3X2NydGNfc3RhdGU7Cj4gKwlzdHJ1Y3QgZHJtX2RwX21zdF90b3BvbG9neV9tZ3IgKm1zdF9t
Z3I7Cj4gKwlzdHJ1Y3QgZHJtX2RwX21zdF9wb3J0ICptc3RfcG9ydDsKPiArCj4gKwltc3RfcG9y
dCA9IGFjb25uZWN0b3ItPnBvcnQ7Cj4gKwltc3RfbWdyID0gJmFjb25uZWN0b3ItPm1zdF9wb3J0
LT5tc3RfbWdyOwo+ICsKPiArCWlmICghb2xkX2Nvbm5fc3RhdGUtPmNydGMpCj4gKwkJcmV0dXJu
IDA7Cj4gKwo+ICsJaWYgKG5ld19jb25uX3N0YXRlLT5jcnRjKSB7Cj4gKwkJbmV3X2NydGNfc3Rh
dGUgPSBkcm1fYXRvbWljX2dldF9vbGRfY3J0Y19zdGF0ZShzdGF0ZSwKPiBuZXdfY29ubl9zdGF0
ZS0+Y3J0Yyk7Cj4gKwkJaWYgKCFuZXdfY3J0Y19zdGF0ZSB8fAo+ICsJCSAgICAhZHJtX2F0b21p
Y19jcnRjX25lZWRzX21vZGVzZXQobmV3X2NydGNfc3RhdGUpIHx8Cj4gKwkJICAgIG5ld19jcnRj
X3N0YXRlLT5lbmFibGUpCj4gKwkJCXJldHVybiAwOwo+ICsJCX0KTmVlZCB0byBmaXggdGhlIGlu
ZGVudGluZyBoZXJlLiBUaGUgcmVzdCBsb29rcyBnb29kIHNvIGZhciB0aG91Z2gsIGtlZXAgZ29p
bmchCjopCgo+ICsKPiArCXJldHVybiBkcm1fZHBfYXRvbWljX3JlbGVhc2VfdmNwaV9zbG90cyhz
dGF0ZSwKPiArCQkJCQkJbXN0X21nciwKPiArCQkJCQkJbXN0X3BvcnQpOwo+ICt9Cj4gKwo+ICBz
dGF0aWMgY29uc3Qgc3RydWN0IGRybV9jb25uZWN0b3JfaGVscGVyX2Z1bmNzCj4gZG1fZHBfbXN0
X2Nvbm5lY3Rvcl9oZWxwZXJfZnVuY3MgPSB7Cj4gIAkuZ2V0X21vZGVzID0gZG1fZHBfbXN0X2dl
dF9tb2RlcywKPiAgCS5tb2RlX3ZhbGlkID0gYW1kZ3B1X2RtX2Nvbm5lY3Rvcl9tb2RlX3ZhbGlk
LAo+ICAJLmF0b21pY19iZXN0X2VuY29kZXIgPSBkbV9tc3RfYXRvbWljX2Jlc3RfZW5jb2RlciwK
PiArCS5hdG9taWNfY2hlY2sgPSBkbV9kcF9tc3RfYXRvbWljX2NoZWNrLAo+ICB9Owo+ICAKPiAg
c3RhdGljIHZvaWQgYW1kZ3B1X2RtX2VuY29kZXJfZGVzdHJveShzdHJ1Y3QgZHJtX2VuY29kZXIg
KmVuY29kZXIpCi0tIApDaGVlcnMsCglMeXVkZSBQYXVsCgpfX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZl
bEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFp
bG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
