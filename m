Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id AA9813C6A4
	for <lists+dri-devel@lfdr.de>; Tue, 11 Jun 2019 10:54:41 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AE41D89149;
	Tue, 11 Jun 2019 08:54:38 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ed1-f67.google.com (mail-ed1-f67.google.com
 [209.85.208.67])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 5364E89154
 for <dri-devel@lists.freedesktop.org>; Tue, 11 Jun 2019 08:54:37 +0000 (UTC)
Received: by mail-ed1-f67.google.com with SMTP id k8so18835254edr.11
 for <dri-devel@lists.freedesktop.org>; Tue, 11 Jun 2019 01:54:37 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:subject:to:cc:references:from:message-id:date
 :user-agent:mime-version:in-reply-to:content-language
 :content-transfer-encoding;
 bh=3uzcEie+Ohpl02QogzO6HKa3vZkAr6RMtmIQE/ajIxY=;
 b=LtpX8onA5WSrn6MG+gfzfUidCgwpjNPwgRUQXDjYrnT2kf8HKs0pzEtpUqwRpYleeY
 95Werx7TFwk80vfXMwaIc0NWVAlgMYr09tq38CXBJF4XWo/el9v/apeWVbAm44r75X7I
 dZiTwiB43bDsCUj+YJwcwEsMuKO2ejD3TbRPAqBNicX9Vjh3bGHJOhT0G6DIl5Sx3QJe
 8BE4flvlnNo2J3Kk1WodU8EeAr3wBCf3G8WVd21U9VeegM3mi76m3Rp+WZIERv6ax8Az
 lRXfhL5SsMCHC9rJrLLIfSpoIDp+h3gQKx0FZofn3AfFg2hBqH7r0zLXFU/DIrY1fzRN
 gxSA==
X-Gm-Message-State: APjAAAUzzwHV1M8r/mpdkqzxKQC7TWS1/F/a4nzbVIAqwPS3TudBz/rh
 OWIm/l4NhbYAehgzi2g/A0iOkQ==
X-Google-Smtp-Source: APXvYqyAHxRrGS3STysulUcExa6+FqtFwDiyuJoWwkEl0mB62VVXi/OtKmiTQYlXkcIRTDwF1yQQ4g==
X-Received: by 2002:a50:a935:: with SMTP id l50mr79217474edc.198.1560243275828; 
 Tue, 11 Jun 2019 01:54:35 -0700 (PDT)
Received: from shalem.localdomain (84-106-84-65.cable.dynamic.v4.ziggo.nl.
 [84.106.84.65])
 by smtp.gmail.com with ESMTPSA id e19sm769255eja.91.2019.06.11.01.54.34
 (version=TLS1_3 cipher=AEAD-AES128-GCM-SHA256 bits=128/128);
 Tue, 11 Jun 2019 01:54:35 -0700 (PDT)
Subject: Re: [PATCH 4/5] drm/connector: Split out orientation quirk detection
To: Jani Nikula <jani.nikula@linux.intel.com>,
 Derek Basehore <dbasehore@chromium.org>, linux-kernel@vger.kernel.org
References: <20190611040350.90064-1-dbasehore@chromium.org>
 <20190611040350.90064-5-dbasehore@chromium.org> <87zhmoy270.fsf@intel.com>
From: Hans de Goede <hdegoede@redhat.com>
Message-ID: <01636500-0be5-acf8-5f93-a57383bf4b20@redhat.com>
Date: Tue, 11 Jun 2019 10:54:34 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.6.1
MIME-Version: 1.0
In-Reply-To: <87zhmoy270.fsf@intel.com>
Content-Language: en-US
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Mark Rutland <mark.rutland@arm.com>, devicetree@vger.kernel.org,
 David Airlie <airlied@linux.ie>, Sean Paul <sean@poorly.run>,
 intel-gfx@lists.freedesktop.org, dri-devel@lists.freedesktop.org,
 Maxime Ripard <maxime.ripard@bootlin.com>, Rob Herring <robh+dt@kernel.org>,
 Thierry Reding <thierry.reding@gmail.com>,
 Rodrigo Vivi <rodrigo.vivi@intel.com>, linux-mediatek@lists.infradead.org,
 Sam Ravnborg <sam@ravnborg.org>, linux-arm-kernel@lists.infradead.org,
 Matthias Brugger <matthias.bgg@gmail.com>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGksCgpPbiAxMS0wNi0xOSAxMDowOCwgSmFuaSBOaWt1bGEgd3JvdGU6Cj4gT24gTW9uLCAxMCBK
dW4gMjAxOSwgRGVyZWsgQmFzZWhvcmUgPGRiYXNlaG9yZUBjaHJvbWl1bS5vcmc+IHdyb3RlOgo+
PiBUaGlzIHJlbW92ZXMgdGhlIG9yaWVudGF0aW9uIHF1aXJrIGRldGVjdGlvbiBmcm9tIHRoZSBj
b2RlIHRvIGFkZAo+PiBhbiBvcmllbnRhdGlvbiBwcm9wZXJ0eSB0byBhIHBhbmVsLiBUaGlzIGlz
IHVzZWQgb25seSBmb3IgbGVnYWN5IHg4Ngo+PiBzeXN0ZW1zLCB5ZXQgd2UnZCBsaWtlIHRvIHN0
YXJ0IHVzaW5nIHRoaXMgb24gZGV2aWNldHJlZSBzeXN0ZW1zIHdoZXJlCj4+IHF1aXJrIGRldGVj
dGlvbiBsaWtlIHRoaXMgaXMgbm90IG5lZWRlZC4KPiAKPiBOb3QgbmVlZGVkLCBidXQgbm8gaGFy
bSBkb25lIGVpdGhlciwgcmlnaHQ/Cj4gCj4gSSBndWVzcyBJJ2xsIGRlZmVyIGp1ZGdlbWVudCBv
biB0aGlzIHRvIEhhbnMgYW5kIFZpbGxlIChDYydkKS4KCkhtbSwgSSdtIG5vdCBiaWcgZmFuIG9m
IHRoaXMgY2hhbmdlLiBJdCBhZGRzIGNvZGUgZHVwbGljYXRpb24gYW5kIGFzCm90aGVyIG1vZGVs
cyB3aXRoIHRoZSBzYW1lIGlzc3VlIHVzaW5nIGEgZGlmZmVyZW50IGRyaXZlciBvciBwYW5lbC10
eXBlCnNob3cgdXAgd2Ugd2lsbCBnZXQgbW9yZSBjb2RlIGR1cGxpY2F0aW9uLgoKQWxzbyBJJ20g
bm90IGNvbnZpbmNlZCB0aGF0IGRldmljZXRyZWUgYmFzZWQgcGxhdGZvcm1zIHdpbGwgbm90IG5l
ZWQKdGhpcy4gVGhlIHdob2xlIGRldmljZXRyZWUgYXMgYW4gQUJJIHRoaW5nLCB3aGljaCBtZWFu
cyB0aGF0IGFsbApkZXZpY2V0cmVlIGJpbmRpbmdzIG5lZWQgdG8gYmUgc2V0IGluIHN0b25lIGJl
Zm9yZSB0aGluZ3MgYXJlIG1lcmdlZAppbnRvIHRoZSBtYWlubGluZSwgaXMgZG9uZSBzb2xlbHkg
c28gdGhhdCB3ZSBjYW4gZ2V0IHZlbmRvcnMgdG8gc2hpcApoYXJkd2FyZSB3aXRoIHRoZSBkdGIg
ZmlsZXMgaW5jbHVkZWQgaW4gdGhlIGZpcm13YXJlLgoKSSdtIDEwMCUgc3VyZSB0aGF0IHRoZXJl
IGlzIGUuZy4gQVJNIGhhcmR3YXJlIG91dCB0aGVyZSB3aGljaCB1c2VzCm5vbiB1cHJpZ2h0IG1v
dW50ZWQgTENEIHBhbmVscyAoSSB1c2VkIHRvIGhhdmUgYSBmZXcgQWxsd2lubmVyCnRhYmxldHMg
d2hpY2ggZGlkIHRoaXMpLiBBbmQgZ2l2ZW4gbXkgZXhwZXJpZW5jZSB3aXRoIHRoZSBxdWFsaXR5
Cm9mIGZpcm13YXJlIGJ1bmRsZWQgdGFibGVzIGxpa2UgQUNQSSB0YWJsZXMgSSdtIHF1aXRlIHN1
cmUgdGhhdAppZiB3ZSBldmVyIG1vdmUgdG8gZmlybXdhcmUgaW5jbHVkZWQgZHRiIGZpbGVzIHRo
YXQgd2Ugd2lsbCBuZWVkCnF1aXJrcyBmb3IgdGhvc2UgdG9vLgoKQWxzbyBjYWxsaW5nIHRoaXMg
InVzZWQgb25seSBmb3IgbGVnYWN5IHg4NiBzeXN0ZW1zIiBpcyBhIGJpdAp1bmZhaXIgSU1ITywg
bmV3IFVFRkkgbW9kZWxzIGFyZSBzdGlsbCBiZWluZyBhZGRlZCB0byB0aGUgcXVpcmsgbGlzdAp0
b2RheSwgZm9yIGhhcmR3YXJlIHdoaWNoIGRvZXMgbm90IGV2ZW4gc2hpcCB5ZXQuIEFjdHVhbGx5
IDk5JQpvZiB0aGUgbW9kZWxzIGluIHRoZSBxdWlyayBsaXN0IGFyZSBVRUZJIG9ubHkgbW9kZWxz
LCB3aGljaCBkbwpub3QgZXZlbiBzdXBwb3J0IGNsYXNzaWMgUEMgQklPUyBib290aW5nLCBzbyB0
aG9zZSBzeXN0ZW1zIGFyZQphbnl0aGluZyBidXQgbGVnYWN5LgoKSSBiZWxpZXZlIHRoZSBvbmx5
IHJlYXNvbiB3ZSBoYXZlIG9ubHkgaGFkIHRvIGRlYWwgd2l0aCB0aGlzIG9uIHg4NgpzbyBmYXIg
aXMgYmVjYXVzZSB0aGUgT09UQiBzdXBwb3J0IGZvciBtb3N0IEFSTSBzeXN0ZW1zIGlzIGxlc3Mg
cG9saXNoZWQKdGhlbiB0aGF0IGZvciB4ODYgc3lzdGVtcyBhbmQgb24gQVJNIHN5c3RlbXMgdGhl
cmUgYXJlIHN0aWxsIG1vcmUKaW1wb3J0YW50IGlzc3VlcyB0byB0YWNrbGUgZmlyc3QuCgpSZWdh
cmRzLAoKSGFucwoKCgoKCgo+IAo+IFNpZGUgbm90ZSwgSSdtIGFib3V0IHRvIGFwcGx5IHNvbWUg
KG1pbm9yKSBjb25mbGljdGluZyBjaGFuZ2VzIGluIG91cgo+IC1uZXh0IGFzIHNvb24gYXMgSSBn
ZXQgQ0kgcmVzdWx0cyBvbiBpdC4KPiAKPiAKPiBCUiwKPiBKYW5pLgo+IAo+IAo+Pgo+PiBTaWdu
ZWQtb2ZmLWJ5OiBEZXJlayBCYXNlaG9yZSA8ZGJhc2Vob3JlQGNocm9taXVtLm9yZz4KPj4gLS0t
Cj4+ICAgZHJpdmVycy9ncHUvZHJtL2RybV9jb25uZWN0b3IuYyB8IDE2ICsrKystLS0tLS0tLS0t
LS0KPj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kcC5jIHwgMTQgKysrKysrKysrKyst
LS0KPj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS92bHZfZHNpLmMgIHwgMTQgKysrKysrKysrKy0t
LS0KPj4gICBpbmNsdWRlL2RybS9kcm1fY29ubmVjdG9yLmggICAgIHwgIDIgKy0KPj4gICA0IGZp
bGVzIGNoYW5nZWQsIDI2IGluc2VydGlvbnMoKyksIDIwIGRlbGV0aW9ucygtKQo+Pgo+PiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2RybV9jb25uZWN0b3IuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9kcm1fY29ubmVjdG9yLmMKPj4gaW5kZXggZTE3NTg2YWFhODBmLi41OGEwOWI2NTAyOGIgMTAw
NjQ0Cj4+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fY29ubmVjdG9yLmMKPj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL2RybV9jb25uZWN0b3IuYwo+PiBAQCAtMTg5NCwzMSArMTg5NCwyMyBAQCBF
WFBPUlRfU1lNQk9MKGRybV9jb25uZWN0b3Jfc2V0X3Zycl9jYXBhYmxlX3Byb3BlcnR5KTsKPj4g
ICAgKiBkcm1fY29ubmVjdG9yX2luaXRfcGFuZWxfb3JpZW50YXRpb25fcHJvcGVydHkgLQo+PiAg
ICAqCWluaXRpYWxpemUgdGhlIGNvbm5lY3RlcnMgcGFuZWxfb3JpZW50YXRpb24gcHJvcGVydHkK
Pj4gICAgKiBAY29ubmVjdG9yOiBjb25uZWN0b3IgZm9yIHdoaWNoIHRvIGluaXQgdGhlIHBhbmVs
LW9yaWVudGF0aW9uIHByb3BlcnR5Lgo+PiAtICogQHdpZHRoOiB3aWR0aCBpbiBwaXhlbHMgb2Yg
dGhlIHBhbmVsLCB1c2VkIGZvciBwYW5lbCBxdWlyayBkZXRlY3Rpb24KPj4gLSAqIEBoZWlnaHQ6
IGhlaWdodCBpbiBwaXhlbHMgb2YgdGhlIHBhbmVsLCB1c2VkIGZvciBwYW5lbCBxdWlyayBkZXRl
Y3Rpb24KPj4gICAgKgo+PiAgICAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIG9ubHkgYmUgY2FsbGVk
IGZvciBidWlsdC1pbiBwYW5lbHMsIGFmdGVyIHNldHRpbmcKPj4gICAgKiBjb25uZWN0b3ItPmRp
c3BsYXlfaW5mby5wYW5lbF9vcmllbnRhdGlvbiBmaXJzdCAoaWYga25vd24pLgo+PiAgICAqCj4+
IC0gKiBUaGlzIGZ1bmN0aW9uIHdpbGwgY2hlY2sgZm9yIHBsYXRmb3JtIHNwZWNpZmljIChlLmcu
IERNSSBiYXNlZCkgcXVpcmtzCj4+IC0gKiBvdmVycmlkaW5nIGRpc3BsYXlfaW5mby5wYW5lbF9v
cmllbnRhdGlvbiBmaXJzdCwgdGhlbiBpZiBwYW5lbF9vcmllbnRhdGlvbgo+PiAtICogaXMgbm90
IERSTV9NT0RFX1BBTkVMX09SSUVOVEFUSU9OX1VOS05PV04gaXQgd2lsbCBhdHRhY2ggdGhlCj4+
IC0gKiAicGFuZWwgb3JpZW50YXRpb24iIHByb3BlcnR5IHRvIHRoZSBjb25uZWN0b3IuCj4+ICsg
KiBUaGlzIGZ1bmN0aW9uIHdpbGwgY2hlY2sgaWYgdGhlIHBhbmVsX29yaWVudGF0aW9uIGlzIG5v
dAo+PiArICogRFJNX01PREVfUEFORUxfT1JJRU5UQVRJT05fVU5LTk9XTi4gSWYgbm90LCBpdCB3
aWxsIGF0dGFjaCB0aGUgInBhbmVsCj4+ICsgKiBvcmllbnRhdGlvbiIgcHJvcGVydHkgdG8gdGhl
IGNvbm5lY3Rvci4KPj4gICAgKgo+PiAgICAqIFJldHVybnM6Cj4+ICAgICogWmVybyBvbiBzdWNj
ZXNzLCBuZWdhdGl2ZSBlcnJubyBvbiBmYWlsdXJlLgo+PiAgICAqLwo+PiAgIGludCBkcm1fY29u
bmVjdG9yX2luaXRfcGFuZWxfb3JpZW50YXRpb25fcHJvcGVydHkoCj4+IC0Jc3RydWN0IGRybV9j
b25uZWN0b3IgKmNvbm5lY3RvciwgaW50IHdpZHRoLCBpbnQgaGVpZ2h0KQo+PiArCXN0cnVjdCBk
cm1fY29ubmVjdG9yICpjb25uZWN0b3IpCj4+ICAgewo+PiAgIAlzdHJ1Y3QgZHJtX2RldmljZSAq
ZGV2ID0gY29ubmVjdG9yLT5kZXY7Cj4+ICAgCXN0cnVjdCBkcm1fZGlzcGxheV9pbmZvICppbmZv
ID0gJmNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvOwo+PiAgIAlzdHJ1Y3QgZHJtX3Byb3BlcnR5ICpw
cm9wOwo+PiAtCWludCBvcmllbnRhdGlvbl9xdWlyazsKPj4gLQo+PiAtCW9yaWVudGF0aW9uX3F1
aXJrID0gZHJtX2dldF9wYW5lbF9vcmllbnRhdGlvbl9xdWlyayh3aWR0aCwgaGVpZ2h0KTsKPj4g
LQlpZiAob3JpZW50YXRpb25fcXVpcmsgIT0gRFJNX01PREVfUEFORUxfT1JJRU5UQVRJT05fVU5L
Tk9XTikKPj4gLQkJaW5mby0+cGFuZWxfb3JpZW50YXRpb24gPSBvcmllbnRhdGlvbl9xdWlyazsK
Pj4gICAKPj4gICAJaWYgKGluZm8tPnBhbmVsX29yaWVudGF0aW9uID09IERSTV9NT0RFX1BBTkVM
X09SSUVOVEFUSU9OX1VOS05PV04pCj4+ICAgCQlyZXR1cm4gMDsKPj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2RwLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRl
bF9kcC5jCj4+IGluZGV4IGIwOTlhOWRjMjhmZC4uNzJhYjA5MGVhOTdhIDEwMDY0NAo+PiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kcC5jCj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2ludGVsX2RwLmMKPj4gQEAgLTQwLDYgKzQwLDcgQEAKPj4gICAjaW5jbHVkZSA8ZHJt
L2RybV9lZGlkLmg+Cj4+ICAgI2luY2x1ZGUgPGRybS9kcm1faGRjcC5oPgo+PiAgICNpbmNsdWRl
IDxkcm0vZHJtX3Byb2JlX2hlbHBlci5oPgo+PiArI2luY2x1ZGUgPGRybS9kcm1fdXRpbHMuaD4K
Pj4gICAjaW5jbHVkZSA8ZHJtL2k5MTVfZHJtLmg+Cj4+ICAgCj4+ICAgI2luY2x1ZGUgImk5MTVf
ZGVidWdmcy5oIgo+PiBAQCAtNzI4MSw5ICs3MjgyLDE2IEBAIHN0YXRpYyBib29sIGludGVsX2Vk
cF9pbml0X2Nvbm5lY3RvcihzdHJ1Y3QgaW50ZWxfZHAgKmludGVsX2RwLAo+PiAgIAlpbnRlbF9j
b25uZWN0b3ItPnBhbmVsLmJhY2tsaWdodC5wb3dlciA9IGludGVsX2VkcF9iYWNrbGlnaHRfcG93
ZXI7Cj4+ICAgCWludGVsX3BhbmVsX3NldHVwX2JhY2tsaWdodChjb25uZWN0b3IsIHBpcGUpOwo+
PiAgIAo+PiAtCWlmIChmaXhlZF9tb2RlKQo+PiAtCQlkcm1fY29ubmVjdG9yX2luaXRfcGFuZWxf
b3JpZW50YXRpb25fcHJvcGVydHkoCj4+IC0JCQljb25uZWN0b3IsIGZpeGVkX21vZGUtPmhkaXNw
bGF5LCBmaXhlZF9tb2RlLT52ZGlzcGxheSk7Cj4+ICsJaWYgKGZpeGVkX21vZGUpIHsKPj4gKwkJ
aW50IG9yaWVudGF0aW9uID0gZHJtX2dldF9wYW5lbF9vcmllbnRhdGlvbl9xdWlyaygKPj4gKwkJ
CQlmaXhlZF9tb2RlLT5oZGlzcGxheSwgZml4ZWRfbW9kZS0+dmRpc3BsYXkpOwo+PiArCj4+ICsJ
CWlmIChvcmllbnRhdGlvbiAhPSBEUk1fTU9ERV9QQU5FTF9PUklFTlRBVElPTl9VTktOT1dOKQo+
PiArCQkJY29ubmVjdG9yLT5kaXNwbGF5X2luZm8ucGFuZWxfb3JpZW50YXRpb24gPQo+PiArCQkJ
CW9yaWVudGF0aW9uOwo+PiArCj4+ICsJCWRybV9jb25uZWN0b3JfaW5pdF9wYW5lbF9vcmllbnRh
dGlvbl9wcm9wZXJ0eShjb25uZWN0b3IpOwo+PiArCX0KPj4gICAKPj4gICAJcmV0dXJuIHRydWU7
Cj4+ICAgCj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS92bHZfZHNpLmMgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS92bHZfZHNpLmMKPj4gaW5kZXggYmZlMjg5MWVhYzM3Li4yN2Y4
NmE3ODdmNjAgMTAwNjQ0Cj4+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L3Zsdl9kc2kuYwo+
PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS92bHZfZHNpLmMKPj4gQEAgLTMwLDYgKzMwLDcg
QEAKPj4gICAjaW5jbHVkZSA8ZHJtL2RybV9jcnRjLmg+Cj4+ICAgI2luY2x1ZGUgPGRybS9kcm1f
ZWRpZC5oPgo+PiAgICNpbmNsdWRlIDxkcm0vZHJtX21pcGlfZHNpLmg+Cj4+ICsjaW5jbHVkZSA8
ZHJtL2RybV91dGlscy5oPgo+PiAgIAo+PiAgICNpbmNsdWRlICJpOTE1X2Rydi5oIgo+PiAgICNp
bmNsdWRlICJpbnRlbF9hdG9taWMuaCIKPj4gQEAgLTE2NTAsNiArMTY1MSw3IEBAIHN0YXRpYyB2
b2lkIGludGVsX2RzaV9hZGRfcHJvcGVydGllcyhzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICpjb25u
ZWN0b3IpCj4+ICAgCj4+ICAgCWlmIChjb25uZWN0b3ItPnBhbmVsLmZpeGVkX21vZGUpIHsKPj4g
ICAJCXUzMiBhbGxvd2VkX3NjYWxlcnM7Cj4+ICsJCWludCBvcmllbnRhdGlvbjsKPj4gICAKPj4g
ICAJCWFsbG93ZWRfc2NhbGVycyA9IEJJVChEUk1fTU9ERV9TQ0FMRV9BU1BFQ1QpIHwgQklUKERS
TV9NT0RFX1NDQUxFX0ZVTExTQ1JFRU4pOwo+PiAgIAkJaWYgKCFIQVNfR01DSChkZXZfcHJpdikp
Cj4+IEBAIC0xNjYwLDEyICsxNjYyLDE2IEBAIHN0YXRpYyB2b2lkIGludGVsX2RzaV9hZGRfcHJv
cGVydGllcyhzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICpjb25uZWN0b3IpCj4+ICAgCj4+ICAgCQlj
b25uZWN0b3ItPmJhc2Uuc3RhdGUtPnNjYWxpbmdfbW9kZSA9IERSTV9NT0RFX1NDQUxFX0FTUEVD
VDsKPj4gICAKPj4gLQkJY29ubmVjdG9yLT5iYXNlLmRpc3BsYXlfaW5mby5wYW5lbF9vcmllbnRh
dGlvbiA9Cj4+IC0JCQl2bHZfZHNpX2dldF9wYW5lbF9vcmllbnRhdGlvbihjb25uZWN0b3IpOwo+
PiAtCQlkcm1fY29ubmVjdG9yX2luaXRfcGFuZWxfb3JpZW50YXRpb25fcHJvcGVydHkoCj4+IC0J
CQkJJmNvbm5lY3Rvci0+YmFzZSwKPj4gKwkJb3JpZW50YXRpb24gPSBkcm1fZ2V0X3BhbmVsX29y
aWVudGF0aW9uX3F1aXJrKAo+PiAgIAkJCQljb25uZWN0b3ItPnBhbmVsLmZpeGVkX21vZGUtPmhk
aXNwbGF5LAo+PiAgIAkJCQljb25uZWN0b3ItPnBhbmVsLmZpeGVkX21vZGUtPnZkaXNwbGF5KTsK
Pj4gKwkJaWYgKG9yaWVudGF0aW9uICE9IERSTV9NT0RFX1BBTkVMX09SSUVOVEFUSU9OX1VOS05P
V04pCj4+ICsJCQljb25uZWN0b3ItPmJhc2UuZGlzcGxheV9pbmZvLnBhbmVsX29yaWVudGF0aW9u
ID0gb3JpZW50YXRpb247Cj4+ICsJCWVsc2UKPj4gKwkJCWNvbm5lY3Rvci0+YmFzZS5kaXNwbGF5
X2luZm8ucGFuZWxfb3JpZW50YXRpb24gPQo+PiArCQkJCXZsdl9kc2lfZ2V0X3BhbmVsX29yaWVu
dGF0aW9uKGNvbm5lY3Rvcik7Cj4+ICsKPj4gKwkJZHJtX2Nvbm5lY3Rvcl9pbml0X3BhbmVsX29y
aWVudGF0aW9uX3Byb3BlcnR5KCZjb25uZWN0b3ItPmJhc2UpOwo+PiAgIAl9Cj4+ICAgfQo+PiAg
IAo+PiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9kcm0vZHJtX2Nvbm5lY3Rvci5oIGIvaW5jbHVkZS9k
cm0vZHJtX2Nvbm5lY3Rvci5oCj4+IGluZGV4IDQ3ZTc0OWI3NGU1Zi4uYzI5OTJmN2EwZGQ1IDEw
MDY0NAo+PiAtLS0gYS9pbmNsdWRlL2RybS9kcm1fY29ubmVjdG9yLmgKPj4gKysrIGIvaW5jbHVk
ZS9kcm0vZHJtX2Nvbm5lY3Rvci5oCj4+IEBAIC0xMzcwLDcgKzEzNzAsNyBAQCB2b2lkIGRybV9j
b25uZWN0b3Jfc2V0X2xpbmtfc3RhdHVzX3Byb3BlcnR5KHN0cnVjdCBkcm1fY29ubmVjdG9yICpj
b25uZWN0b3IsCj4+ICAgdm9pZCBkcm1fY29ubmVjdG9yX3NldF92cnJfY2FwYWJsZV9wcm9wZXJ0
eSgKPj4gICAJCXN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IsIGJvb2wgY2FwYWJsZSk7
Cj4+ICAgaW50IGRybV9jb25uZWN0b3JfaW5pdF9wYW5lbF9vcmllbnRhdGlvbl9wcm9wZXJ0eSgK
Pj4gLQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yLCBpbnQgd2lkdGgsIGludCBoZWln
aHQpOwo+PiArCXN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpOwo+PiAgIGludCBkcm1f
Y29ubmVjdG9yX2F0dGFjaF9tYXhfYnBjX3Byb3BlcnR5KHN0cnVjdCBkcm1fY29ubmVjdG9yICpj
b25uZWN0b3IsCj4+ICAgCQkJCQkgIGludCBtaW4sIGludCBtYXgpOwo+IApfX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0
CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3Rv
cC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
