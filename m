Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 1ED551BDCE0
	for <lists+dri-devel@lfdr.de>; Wed, 29 Apr 2020 14:58:24 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 277DA6EE94;
	Wed, 29 Apr 2020 12:58:17 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from asav21.altibox.net (asav21.altibox.net [109.247.116.8])
 by gabe.freedesktop.org (Postfix) with ESMTPS id CECF06EE8B
 for <dri-devel@lists.freedesktop.org>; Wed, 29 Apr 2020 12:57:57 +0000 (UTC)
Received: from localhost.localdomain (unknown [81.166.168.211])
 (using TLSv1.2 with cipher ECDHE-RSA-AES128-SHA256 (128/128 bits))
 (No client certificate requested)
 (Authenticated sender: noralf.tronnes@ebnett.no)
 by asav21.altibox.net (Postfix) with ESMTPSA id 6D2C080190;
 Wed, 29 Apr 2020 14:48:51 +0200 (CEST)
From: =?UTF-8?q?Noralf=20Tr=C3=B8nnes?= <noralf@tronnes.org>
To: dri-devel@lists.freedesktop.org,
	linux-usb@vger.kernel.org
Subject: [PATCH 07/10] drm/format-helper: Add drm_fb_swab()
Date: Wed, 29 Apr 2020 14:48:27 +0200
Message-Id: <20200429124830.27475-8-noralf@tronnes.org>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20200429124830.27475-1-noralf@tronnes.org>
References: <20200429124830.27475-1-noralf@tronnes.org>
MIME-Version: 1.0
X-CMAE-Score: 0
X-CMAE-Analysis: v=2.3 cv=AvXAIt1P c=1 sm=1 tr=0
 a=OYZzhG0JTxDrWp/F2OJbnw==:117 a=OYZzhG0JTxDrWp/F2OJbnw==:17
 a=IkcTkHD0fZMA:10 a=M51BFTxLslgA:10 a=SJz97ENfAAAA:8
 a=BkhVowa2SnULYql5tyEA:9 a=QEXdDO2ut3YA:10 a=vFet0B0WnEQeilDPIY6i:22
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhpcyByZXBsYWNlcyBkcm1fZmJfc3dhYjE2KCkgd2l0aCBkcm1fZmJfc3dhYigpIHN1cHBvcnRp
bmcgMTYgYW5kIDMyLWJpdC4KQWxzbyBtYWtlIHBpeGVsIGxpbmUgY2FjaGluZyBvcHRpb25hbC4K
ClNpZ25lZC1vZmYtYnk6IE5vcmFsZiBUcsO4bm5lcyA8bm9yYWxmQHRyb25uZXMub3JnPgotLS0K
IGRyaXZlcnMvZ3B1L2RybS9kcm1fZm9ybWF0X2hlbHBlci5jIHwgNjEgKysrKysrKysrKysrKysr
KysrKy0tLS0tLS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9kcm1fbWlwaV9kYmkuYyAgICAgIHwgIDIg
Ky0KIGluY2x1ZGUvZHJtL2RybV9mb3JtYXRfaGVscGVyLmggICAgIHwgIDQgKy0KIDMgZmlsZXMg
Y2hhbmdlZCwgNDQgaW5zZXJ0aW9ucygrKSwgMjMgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2RybV9mb3JtYXRfaGVscGVyLmMgYi9kcml2ZXJzL2dwdS9kcm0vZHJt
X2Zvcm1hdF9oZWxwZXIuYwppbmRleCAwODk3Y2I5YWVhZmYuLjVjMTQ3YzQ5NjY4YyAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2RybV9mb3JtYXRfaGVscGVyLmMKKysrIGIvZHJpdmVycy9n
cHUvZHJtL2RybV9mb3JtYXRfaGVscGVyLmMKQEAgLTc5LDM5ICs3OSw2MCBAQCB2b2lkIGRybV9m
Yl9tZW1jcHlfZHN0Y2xpcCh2b2lkIF9faW9tZW0gKmRzdCwgdm9pZCAqdmFkZHIsCiBFWFBPUlRf
U1lNQk9MKGRybV9mYl9tZW1jcHlfZHN0Y2xpcCk7CiAKIC8qKgotICogZHJtX2ZiX3N3YWIxNiAt
IFN3YXAgYnl0ZXMgaW50byBjbGlwIGJ1ZmZlcgotICogQGRzdDogUkdCNTY1IGRlc3RpbmF0aW9u
IGJ1ZmZlcgotICogQHZhZGRyOiBSR0I1NjUgc291cmNlIGJ1ZmZlcgorICogZHJtX2ZiX3N3YWIg
LSBTd2FwIGJ5dGVzIGludG8gY2xpcCBidWZmZXIKKyAqIEBkc3Q6IERlc3RpbmF0aW9uIGJ1ZmZl
cgorICogQHNyYzogU291cmNlIGJ1ZmZlcgogICogQGZiOiBEUk0gZnJhbWVidWZmZXIKICAqIEBj
bGlwOiBDbGlwIHJlY3RhbmdsZSBhcmVhIHRvIGNvcHkKKyAqIEBjYWNoZWQ6IFNvdXJjZSBidWZm
ZXIgaXMgbWFwcGVkIGNhY2hlZCAoZWcuIG5vdCB3cml0ZS1jb21iaW5lZCkKKyAqCisgKiBJZiBA
Y2FjaGVkIGlzIGZhbHNlIGEgdGVtcG9yYXJ5IGJ1ZmZlciBpcyB1c2VkIHRvIGNhY2hlIG9uZSBw
aXhlbCBsaW5lIGF0IGEKKyAqIHRpbWUgdG8gc3BlZWQgdXAgc2xvdyB1bmNhY2hlZCByZWFkcy4K
KyAqCisgKiBUaGlzIGZ1bmN0aW9uIGRvZXMgbm90IGFwcGx5IGNsaXBwaW5nIG9uIGRzdCwgaS5l
LiB0aGUgZGVzdGluYXRpb24KKyAqIGlzIGEgc21hbGwgYnVmZmVyIGNvbnRhaW5pbmcgdGhlIGNs
aXAgcmVjdCBvbmx5LgogICovCi12b2lkIGRybV9mYl9zd2FiMTYodTE2ICpkc3QsIHZvaWQgKnZh
ZGRyLCBzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpmYiwKLQkJICAgc3RydWN0IGRybV9yZWN0ICpj
bGlwKQordm9pZCBkcm1fZmJfc3dhYih2b2lkICpkc3QsIHZvaWQgKnNyYywgc3RydWN0IGRybV9m
cmFtZWJ1ZmZlciAqZmIsCisJCSBzdHJ1Y3QgZHJtX3JlY3QgKmNsaXAsIGJvb2wgY2FjaGVkKQog
ewotCXNpemVfdCBsZW4gPSAoY2xpcC0+eDIgLSBjbGlwLT54MSkgKiBzaXplb2YodTE2KTsKKwl1
OCBjcHAgPSBmYi0+Zm9ybWF0LT5jcHBbMF07CisJc2l6ZV90IGxlbiA9IGRybV9yZWN0X3dpZHRo
KGNsaXApICogY3BwOworCXUxNiAqc3JjMTYsICpkc3QxNiA9IGRzdDsKKwl1MzIgKnNyYzMyLCAq
ZHN0MzIgPSBkc3Q7CiAJdW5zaWduZWQgaW50IHgsIHk7Ci0JdTE2ICpzcmMsICpidWY7CisJdm9p
ZCAqYnVmID0gTlVMTDsKIAotCS8qCi0JICogVGhlIGNtYSBtZW1vcnkgaXMgd3JpdGUtY29tYmlu
ZWQgc28gcmVhZHMgYXJlIHVuY2FjaGVkLgotCSAqIFNwZWVkIHVwIGJ5IGZldGNoaW5nIG9uZSBs
aW5lIGF0IGEgdGltZS4KLQkgKi8KLQlidWYgPSBrbWFsbG9jKGxlbiwgR0ZQX0tFUk5FTCk7Ci0J
aWYgKCFidWYpCisJaWYgKFdBUk5fT05fT05DRShjcHAgPT0gMSkpCiAJCXJldHVybjsKIAorCWlm
ICghY2FjaGVkKQorCQlidWYgPSBrbWFsbG9jKGxlbiwgR0ZQX0tFUk5FTCk7CisKKwlzcmMgKz0g
Y2xpcF9vZmZzZXQoY2xpcCwgZmItPnBpdGNoZXNbMF0sIGNwcCk7CisKIAlmb3IgKHkgPSBjbGlw
LT55MTsgeSA8IGNsaXAtPnkyOyB5KyspIHsKLQkJc3JjID0gdmFkZHIgKyAoeSAqIGZiLT5waXRj
aGVzWzBdKTsKLQkJc3JjICs9IGNsaXAtPngxOwotCQltZW1jcHkoYnVmLCBzcmMsIGxlbik7Ci0J
CXNyYyA9IGJ1ZjsKLQkJZm9yICh4ID0gY2xpcC0+eDE7IHggPCBjbGlwLT54MjsgeCsrKQotCQkJ
KmRzdCsrID0gc3dhYjE2KCpzcmMrKyk7CisJCWlmIChidWYpIHsKKwkJCW1lbWNweShidWYsIHNy
YywgbGVuKTsKKwkJCXNyYzE2ID0gYnVmOworCQkJc3JjMzIgPSBidWY7CisJCX0gZWxzZSB7CisJ
CQlzcmMxNiA9IHNyYzsKKwkJCXNyYzMyID0gc3JjOworCQl9CisKKwkJZm9yICh4ID0gY2xpcC0+
eDE7IHggPCBjbGlwLT54MjsgeCsrKSB7CisJCQlpZiAoY3BwID09IDQpCisJCQkJKmRzdDMyKysg
PSBzd2FiMzIoKnNyYzMyKyspOworCQkJZWxzZQorCQkJCSpkc3QxNisrID0gc3dhYjE2KCpzcmMx
NisrKTsKKwkJfQorCisJCXNyYyArPSBmYi0+cGl0Y2hlc1swXTsKIAl9CiAKIAlrZnJlZShidWYp
OwogfQotRVhQT1JUX1NZTUJPTChkcm1fZmJfc3dhYjE2KTsKK0VYUE9SVF9TWU1CT0woZHJtX2Zi
X3N3YWIpOwogCiBzdGF0aWMgdm9pZCBkcm1fZmJfeHJnYjg4ODhfdG9fcmdiNTY1X2xpbmUodTE2
ICpkYnVmLCB1MzIgKnNidWYsCiAJCQkJCSAgIHVuc2lnbmVkIGludCBwaXhlbHMsCmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vZHJtX21pcGlfZGJpLmMgYi9kcml2ZXJzL2dwdS9kcm0vZHJt
X21pcGlfZGJpLmMKaW5kZXggMTZiZmYxYmU0YjhhLi5iZmVmYmNiNjkyODcgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9kcm1fbWlwaV9kYmkuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vZHJt
X21pcGlfZGJpLmMKQEAgLTIxNyw3ICsyMTcsNyBAQCBpbnQgbWlwaV9kYmlfYnVmX2NvcHkodm9p
ZCAqZHN0LCBzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpmYiwKIAlzd2l0Y2ggKGZiLT5mb3JtYXQt
PmZvcm1hdCkgewogCWNhc2UgRFJNX0ZPUk1BVF9SR0I1NjU6CiAJCWlmIChzd2FwKQotCQkJZHJt
X2ZiX3N3YWIxNihkc3QsIHNyYywgZmIsIGNsaXApOworCQkJZHJtX2ZiX3N3YWIoZHN0LCBzcmMs
IGZiLCBjbGlwLCAhaW1wb3J0X2F0dGFjaCk7CiAJCWVsc2UKIAkJCWRybV9mYl9tZW1jcHkoZHN0
LCBzcmMsIGZiLCBjbGlwKTsKIAkJYnJlYWs7CmRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS9kcm1f
Zm9ybWF0X2hlbHBlci5oIGIvaW5jbHVkZS9kcm0vZHJtX2Zvcm1hdF9oZWxwZXIuaAppbmRleCBh
YzIyMGFhMWEyNDUuLjVmOWUzNzAzMjQ2OCAxMDA2NDQKLS0tIGEvaW5jbHVkZS9kcm0vZHJtX2Zv
cm1hdF9oZWxwZXIuaAorKysgYi9pbmNsdWRlL2RybS9kcm1fZm9ybWF0X2hlbHBlci5oCkBAIC0x
NCw4ICsxNCw4IEBAIHZvaWQgZHJtX2ZiX21lbWNweSh2b2lkICpkc3QsIHZvaWQgKnZhZGRyLCBz
dHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpmYiwKIHZvaWQgZHJtX2ZiX21lbWNweV9kc3RjbGlwKHZv
aWQgX19pb21lbSAqZHN0LCB2b2lkICp2YWRkciwKIAkJCSAgIHN0cnVjdCBkcm1fZnJhbWVidWZm
ZXIgKmZiLAogCQkJICAgc3RydWN0IGRybV9yZWN0ICpjbGlwKTsKLXZvaWQgZHJtX2ZiX3N3YWIx
Nih1MTYgKmRzdCwgdm9pZCAqdmFkZHIsIHN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZiLAotCQkg
ICBzdHJ1Y3QgZHJtX3JlY3QgKmNsaXApOwordm9pZCBkcm1fZmJfc3dhYih2b2lkICpkc3QsIHZv
aWQgKnNyYywgc3RydWN0IGRybV9mcmFtZWJ1ZmZlciAqZmIsCisJCSBzdHJ1Y3QgZHJtX3JlY3Qg
KmNsaXAsIGJvb2wgY2FjaGVkKTsKIHZvaWQgZHJtX2ZiX3hyZ2I4ODg4X3RvX3JnYjU2NSh2b2lk
ICpkc3QsIHZvaWQgKnZhZGRyLAogCQkJICAgICAgIHN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZi
LAogCQkJICAgICAgIHN0cnVjdCBkcm1fcmVjdCAqY2xpcCwgYm9vbCBzd2FiKTsKLS0gCjIuMjMu
MAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRl
dmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8v
bGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVsCg==
