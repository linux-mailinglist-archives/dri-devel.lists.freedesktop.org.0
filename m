Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 2C85CB4C7C
	for <lists+dri-devel@lfdr.de>; Tue, 17 Sep 2019 13:03:57 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 9AA196EBC3;
	Tue, 17 Sep 2019 11:03:54 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga09.intel.com (mga09.intel.com [134.134.136.24])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D9AF06EBCA
 for <dri-devel@lists.freedesktop.org>; Tue, 17 Sep 2019 11:03:51 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga005.jf.intel.com ([10.7.209.41])
 by orsmga102.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 17 Sep 2019 04:03:51 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,516,1559545200"; d="scan'208";a="361820461"
Received: from kscholl-mobl.ger.corp.intel.com (HELO delly.ger.corp.intel.com)
 ([10.252.40.27])
 by orsmga005.jf.intel.com with ESMTP; 17 Sep 2019 04:03:49 -0700
From: Lionel Landwerlin <lionel.g.landwerlin@intel.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH 1/1] drm/syncobj: add sideband payload
Date: Tue, 17 Sep 2019 14:03:43 +0300
Message-Id: <20190917110343.32371-2-lionel.g.landwerlin@intel.com>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20190917110343.32371-1-lionel.g.landwerlin@intel.com>
References: <20190917110343.32371-1-lionel.g.landwerlin@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Jason Ekstrand <jason@jlekstrand.net>,
 Christian Koenig <Christian.Koenig@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIFZ1bGthbiB0aW1lbGluZSBzZW1hcGhvcmVzIGFsbG93IHNpZ25hbGluZyB0byBoYXBwZW4g
b24gdGhlIHBvaW50Cm9mIHRoZSB0aW1lbGluZSB3aXRob3V0IGFsbCBvZiB0aGUgaXRzIGRlcGVu
ZGVuY2llcyB0byBiZSBjcmVhdGVkLgoKVGhlIGN1cnJlbnQgMiBpbXBsZW1lbnRhdGlvbnMgKEFN
RC9JbnRlbCkgb2YgdGhlIFZ1bGthbiBzcGVjIG9uIHRvcCBvZgp0aGUgTGludXgga2VybmVsIGFy
ZSB1c2luZyBhIHRocmVhZCB0byB3YWl0IG9uIHRoZSBkZXBlbmRlbmNpZXMgb2YgYQpnaXZlbiBw
b2ludCB0byBtYXRlcmlhbGl6ZSBhbmQgZGVsYXkgYWN0dWFsIHN1Ym1pc3Npb24gdG8gdGhlIGtl
cm5lbApkcml2ZXIgdW50aWwgdGhlIHdhaXQgY29tcGxldGVzLgoKSWYgYSBiaW5hcnkgc2VtYXBo
b3JlIGlzIHN1Ym1pdHRlZCBmb3Igc2lnbmFsaW5nIGFsb25nIHRoZSBzaWRlIG9mIGEKdGltZWxp
bmUgc2VtYXBob3JlIHdhaXRpbmcgZm9yIGNvbXBsZXRpb24gdGhhdCBtZWFucyB0aGF0IHRoZSBk
cm0Kc3luY29iaiBhc3NvY2lhdGVkIHdpdGggdGhhdCBiaW5hcnkgc2VtYXBob3JlIHdpbGwgbm90
IGhhdmUgYSBETUEKZmVuY2UgYXNzb2NpYXRlZCB3aXRoIGl0IGJ5IHRoZSB0aW1lIHZrUXVldWVT
dWJtaXQoKSByZXR1cm5zLiBUaGlzIGFuZAp0aGUgZmFjdCB0aGF0IGEgYmluYXJ5IHNlbWFwaG9y
ZSBjYW4gYmUgc2lnbmFsZWQgYW5kIHVuc2lnbmFsZWQgYXMKYmVmb3JlIGl0cyBETUEgZmVuY2Vz
IG1hdGVyaWFsaXplIG1lYW4gdGhhdCB3ZSBjYW5ub3QganVzdCByZWx5IG9uIHRoZQpmZW5jZSB3
aXRoaW4gdGhlIHN5bmNvYmogYnV0IHdlIGFsc28gbmVlZCBhIHNpZGViYW5kIHBheWxvYWQgdmVy
aWZ5aW5nCnRoYXQgdGhlIGZlbmNlIGluIHRoZSBzeW5jb2JqIG1hdGNoZXMgdGhlIGxhc3Qgc3Vi
bWlzc2lvbiBmcm9tIHRoZQpWdWxrYW4gQVBJIHBvaW50IG9mIHZpZXcuCgpUaGlzIGNoYW5nZSBh
ZGRzIGEgc2lkZWJhbmQgcGF5bG9hZCB0aGF0IGlzIGluY3JlbWVudGVkIHdpdGggc2lnbmFsZWQK
c3luY29iaiB3aGVuIHZrUXVldWVTdWJtaXQoKSBpcyBjYWxsZWQuIFRoZSBuZXh0IHZrUXVldWVT
dWJtaXQoKQp3YWl0aW5nIG9uIGEgdGhlIHN5bmNvYmogd2lsbCByZWFkIHRoZSBzaWRlYmFuZCBw
YXlsb2FkIGFuZCB3YWl0IGZvciBhCmZlbmNlIGNoYWluIGVsZW1lbnQgd2l0aCBhIHNlcW5vIHN1
cGVyaW9yIG9yIGVxdWFsIHRvIHRoZSBzaWRlYmFuZApwYXlsb2FkIHZhbHVlIHRvIGJlIGFkZGVk
IGludG8gdGhlIGZlbmNlIGNoYWluIGFuZCB1c2UgdGhhdCBmZW5jZSB0bwp0cmlnZ2VyIHRoZSBz
dWJtaXNzaW9uIG9uIHRoZSBrZXJuZWwgZHJpdmVyLgoKdjI6IFVzZSBhIHNlcGFyYXRlIGlvY3Rs
IHRvIGdldC9zZXQgdGhlIHNpZGViYW5kIHZhbHVlIChDaHJpc3RpYW4pCgp2MzogVXNlIDIgaW9j
dGxzIGZvciBnZXQvc2V0IChDaHJpc3RpYW4pCgp2NDogVXNlIGEgc2luZ2xlIG5ldyBpb2N0bAoK
djU6IGEgYnVuY2ggb2YgYmxhdHRhbnQgbWlzdGFrZXMKICAgIFN0b3JlIHBheWxvYWQgYXRvbWlj
YWxseSAoQ2hyaXMpCgp2NjogT25seSB0b3VjaCBhdG9taWMgdmFsdWUgb25jZSAoSmFzb24pCgp2
NzogVXBkYXRlZCBhdG9taWMgdmFsdWUgd2hlbiBpbXBvcnRpbmcgc3luYyBmaWxlCgpTaWduZWQt
b2ZmLWJ5OiBMaW9uZWwgTGFuZHdlcmxpbiA8bGlvbmVsLmcubGFuZHdlcmxpbkBpbnRlbC5jb20+
ClJldmlld2VkLWJ5OiBEYXZpZCBaaG91IDxEYXZpZDEuWmhvdUBhbWQuY29tPiAodjYpCkNjOiBD
aHJpc3RpYW4gS29lbmlnIDxDaHJpc3RpYW4uS29lbmlnQGFtZC5jb20+CkNjOiBKYXNvbiBFa3N0
cmFuZCA8amFzb25Aamxla3N0cmFuZC5uZXQ+CkNjOiBEYXZpZChDaHVuTWluZykgWmhvdSA8RGF2
aWQxLlpob3VAYW1kLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vZHJtX2ludGVybmFsLmggfCAg
MiArKwogZHJpdmVycy9ncHUvZHJtL2RybV9pb2N0bC5jICAgIHwgIDMgKysKIGRyaXZlcnMvZ3B1
L2RybS9kcm1fc3luY29iai5jICB8IDY0ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
LS0KIGluY2x1ZGUvZHJtL2RybV9zeW5jb2JqLmggICAgICB8ICA5ICsrKysrCiBpbmNsdWRlL3Vh
cGkvZHJtL2RybS5oICAgICAgICAgfCAxNyArKysrKysrKysKIDUgZmlsZXMgY2hhbmdlZCwgOTMg
aW5zZXJ0aW9ucygrKSwgMiBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vZHJtX2ludGVybmFsLmggYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2ludGVybmFsLmgKaW5kZXgg
NTFhMjA1NWM4ZjE4Li5lMjk3ZGZkODUwMTkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9k
cm1faW50ZXJuYWwuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2ludGVybmFsLmgKQEAgLTIw
OCw2ICsyMDgsOCBAQCBpbnQgZHJtX3N5bmNvYmpfdGltZWxpbmVfc2lnbmFsX2lvY3RsKHN0cnVj
dCBkcm1fZGV2aWNlICpkZXYsIHZvaWQgKmRhdGEsCiAJCQkJICAgICAgc3RydWN0IGRybV9maWxl
ICpmaWxlX3ByaXZhdGUpOwogaW50IGRybV9zeW5jb2JqX3F1ZXJ5X2lvY3RsKHN0cnVjdCBkcm1f
ZGV2aWNlICpkZXYsIHZvaWQgKmRhdGEsCiAJCQkgICAgc3RydWN0IGRybV9maWxlICpmaWxlX3By
aXZhdGUpOworaW50IGRybV9zeW5jb2JqX2JpbmFyeV9pb2N0bChzdHJ1Y3QgZHJtX2RldmljZSAq
ZGV2LCB2b2lkICpkYXRhLAorCQkJICAgICBzdHJ1Y3QgZHJtX2ZpbGUgKmZpbGVfcHJpdmF0ZSk7
CiAKIC8qIGRybV9mcmFtZWJ1ZmZlci5jICovCiB2b2lkIGRybV9mcmFtZWJ1ZmZlcl9wcmludF9p
bmZvKHN0cnVjdCBkcm1fcHJpbnRlciAqcCwgdW5zaWduZWQgaW50IGluZGVudCwKZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9kcm1faW9jdGwuYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1faW9j
dGwuYwppbmRleCBmNjc1YTNiYjJjODguLjY0NGQwYmM4MDBhNCAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2RybV9pb2N0bC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1faW9jdGwuYwpA
QCAtNzAzLDYgKzcwMyw5IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2lvY3RsX2Rlc2MgZHJt
X2lvY3Rsc1tdID0gewogCQkgICAgICBEUk1fUkVOREVSX0FMTE9XKSwKIAlEUk1fSU9DVExfREVG
KERSTV9JT0NUTF9TWU5DT0JKX1FVRVJZLCBkcm1fc3luY29ial9xdWVyeV9pb2N0bCwKIAkJICAg
ICAgRFJNX1JFTkRFUl9BTExPVyksCisJRFJNX0lPQ1RMX0RFRihEUk1fSU9DVExfU1lOQ09CSl9C
SU5BUlksIGRybV9zeW5jb2JqX2JpbmFyeV9pb2N0bCwKKwkJICAgICAgRFJNX1JFTkRFUl9BTExP
VyksCisKIAlEUk1fSU9DVExfREVGKERSTV9JT0NUTF9DUlRDX0dFVF9TRVFVRU5DRSwgZHJtX2Ny
dGNfZ2V0X3NlcXVlbmNlX2lvY3RsLCAwKSwKIAlEUk1fSU9DVExfREVGKERSTV9JT0NUTF9DUlRD
X1FVRVVFX1NFUVVFTkNFLCBkcm1fY3J0Y19xdWV1ZV9zZXF1ZW5jZV9pb2N0bCwgMCksCiAJRFJN
X0lPQ1RMX0RFRihEUk1fSU9DVExfTU9ERV9DUkVBVEVfTEVBU0UsIGRybV9tb2RlX2NyZWF0ZV9s
ZWFzZV9pb2N0bCwgRFJNX01BU1RFUiksCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vZHJt
X3N5bmNvYmouYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fc3luY29iai5jCmluZGV4IDRiNWM3YjBl
ZDcxNC4uMmRlOGYxMzgwODkwIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vZHJtX3N5bmNv
YmouYworKysgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX3N5bmNvYmouYwpAQCAtNDE4LDggKzQxOCwx
MCBAQCBpbnQgZHJtX3N5bmNvYmpfY3JlYXRlKHN0cnVjdCBkcm1fc3luY29iaiAqKm91dF9zeW5j
b2JqLCB1aW50MzJfdCBmbGFncywKIAlpZiAoZmxhZ3MgJiBEUk1fU1lOQ09CSl9DUkVBVEVfU0lH
TkFMRUQpCiAJCWRybV9zeW5jb2JqX2Fzc2lnbl9udWxsX2hhbmRsZShzeW5jb2JqKTsKIAotCWlm
IChmZW5jZSkKKwlpZiAoZmVuY2UpIHsKIAkJZHJtX3N5bmNvYmpfcmVwbGFjZV9mZW5jZShzeW5j
b2JqLCBmZW5jZSk7CisJCWF0b21pYzY0X3NldCgmc3luY29iai0+YmluYXJ5X3BheWxvYWQsIGZl
bmNlLT5zZXFubyk7CisJfQogCiAJKm91dF9zeW5jb2JqID0gc3luY29iajsKIAlyZXR1cm4gMDsK
QEAgLTYwNCw2ICs2MDYsNyBAQCBzdGF0aWMgaW50IGRybV9zeW5jb2JqX2ltcG9ydF9zeW5jX2Zp
bGVfZmVuY2Uoc3RydWN0IGRybV9maWxlICpmaWxlX3ByaXZhdGUsCiAJfQogCiAJZHJtX3N5bmNv
YmpfcmVwbGFjZV9mZW5jZShzeW5jb2JqLCBmZW5jZSk7CisJYXRvbWljNjRfc2V0KCZzeW5jb2Jq
LT5iaW5hcnlfcGF5bG9hZCwgZmVuY2UtPnNlcW5vKTsKIAlkbWFfZmVuY2VfcHV0KGZlbmNlKTsK
IAlkcm1fc3luY29ial9wdXQoc3luY29iaik7CiAJcmV0dXJuIDA7CkBAIC0xMjI0LDggKzEyMjcs
MTAgQEAgZHJtX3N5bmNvYmpfcmVzZXRfaW9jdGwoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgdm9p
ZCAqZGF0YSwKIAlpZiAocmV0IDwgMCkKIAkJcmV0dXJuIHJldDsKIAotCWZvciAoaSA9IDA7IGkg
PCBhcmdzLT5jb3VudF9oYW5kbGVzOyBpKyspCisJZm9yIChpID0gMDsgaSA8IGFyZ3MtPmNvdW50
X2hhbmRsZXM7IGkrKykgewogCQlkcm1fc3luY29ial9yZXBsYWNlX2ZlbmNlKHN5bmNvYmpzW2ld
LCBOVUxMKTsKKwkJYXRvbWljNjRfc2V0KCZzeW5jb2Jqc1tpXS0+YmluYXJ5X3BheWxvYWQsIDAp
OworCX0KIAogCWRybV9zeW5jb2JqX2FycmF5X2ZyZWUoc3luY29ianMsIGFyZ3MtPmNvdW50X2hh
bmRsZXMpOwogCkBAIC0xMzk1LDYgKzE0MDAsNjEgQEAgaW50IGRybV9zeW5jb2JqX3F1ZXJ5X2lv
Y3RsKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHZvaWQgKmRhdGEsCiAJCWlmIChyZXQpCiAJCQli
cmVhazsKIAl9CisKKwlkcm1fc3luY29ial9hcnJheV9mcmVlKHN5bmNvYmpzLCBhcmdzLT5jb3Vu
dF9oYW5kbGVzKTsKKworCXJldHVybiByZXQ7Cit9CisKK2ludCBkcm1fc3luY29ial9iaW5hcnlf
aW9jdGwoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgdm9pZCAqZGF0YSwKKwkJCSAgICAgc3RydWN0
IGRybV9maWxlICpmaWxlX3ByaXZhdGUpCit7CisJc3RydWN0IGRybV9zeW5jb2JqX2JpbmFyeV9h
cnJheSAqYXJncyA9IGRhdGE7CisJc3RydWN0IGRybV9zeW5jb2JqICoqc3luY29ianM7CisJdTMy
IF9fdXNlciAqYWNjZXNzX2ZsYWdzID0gdTY0X3RvX3VzZXJfcHRyKGFyZ3MtPmFjY2Vzc19mbGFn
cyk7CisJdTY0IF9fdXNlciAqdmFsdWVzID0gdTY0X3RvX3VzZXJfcHRyKGFyZ3MtPnZhbHVlcyk7
CisJdTMyIGk7CisJaW50IHJldDsKKworCWlmICghZHJtX2NvcmVfY2hlY2tfZmVhdHVyZShkZXYs
IERSSVZFUl9TWU5DT0JKX1RJTUVMSU5FKSkKKwkJcmV0dXJuIC1FT1BOT1RTVVBQOworCisJaWYg
KGFyZ3MtPnBhZCAhPSAwKQorCQlyZXR1cm4gLUVJTlZBTDsKKworCWlmIChhcmdzLT5jb3VudF9o
YW5kbGVzID09IDApCisJCXJldHVybiAtRUlOVkFMOworCisJcmV0ID0gZHJtX3N5bmNvYmpfYXJy
YXlfZmluZChmaWxlX3ByaXZhdGUsCisJCQkJICAgICB1NjRfdG9fdXNlcl9wdHIoYXJncy0+aGFu
ZGxlcyksCisJCQkJICAgICBhcmdzLT5jb3VudF9oYW5kbGVzLAorCQkJCSAgICAgJnN5bmNvYmpz
KTsKKwlpZiAocmV0IDwgMCkKKwkJcmV0dXJuIHJldDsKKworCWZvciAoaSA9IDA7IGkgPCBhcmdz
LT5jb3VudF9oYW5kbGVzOyBpKyspIHsKKwkJdTMyIGZsYWdzOworCQl1NjQgdmFsdWU7CisKKwkJ
aWYgKGdldF91c2VyKGZsYWdzLCAmYWNjZXNzX2ZsYWdzW2ldKSkgeworCQkJcmV0ID0gLUVGQVVM
VDsKKwkJCWJyZWFrOworCQl9CisKKwkJaWYgKGZsYWdzICYgRFJNX1NZTkNPQkpfQklOQVJZX1ZB
TFVFX0lOQykKKwkJCXZhbHVlID0gYXRvbWljNjRfaW5jX3JldHVybigmc3luY29ianNbaV0tPmJp
bmFyeV9wYXlsb2FkKSAtIDE7CisJCWVsc2UgaWYgKGZsYWdzICYgRFJNX1NZTkNPQkpfQklOQVJZ
X1ZBTFVFX1JFQUQpCisJCQl2YWx1ZSA9IGF0b21pYzY0X3JlYWQoJnN5bmNvYmpzW2ldLT5iaW5h
cnlfcGF5bG9hZCk7CisKKwkJaWYgKGZsYWdzICYgRFJNX1NZTkNPQkpfQklOQVJZX1ZBTFVFX1JF
QUQpIHsKKwkJCWlmIChwdXRfdXNlcih2YWx1ZSwgJnZhbHVlc1tpXSkpIHsKKwkJCQlyZXQgPSAt
RUZBVUxUOworCQkJCWJyZWFrOworCQkJfQorCQl9CisKKwl9CisKIAlkcm1fc3luY29ial9hcnJh
eV9mcmVlKHN5bmNvYmpzLCBhcmdzLT5jb3VudF9oYW5kbGVzKTsKIAogCXJldHVybiByZXQ7CmRp
ZmYgLS1naXQgYS9pbmNsdWRlL2RybS9kcm1fc3luY29iai5oIGIvaW5jbHVkZS9kcm0vZHJtX3N5
bmNvYmouaAppbmRleCA2Y2Y3MjQzYTFkYzUuLmFhNzZjYjNmOTEwNyAxMDA2NDQKLS0tIGEvaW5j
bHVkZS9kcm0vZHJtX3N5bmNvYmouaAorKysgYi9pbmNsdWRlL2RybS9kcm1fc3luY29iai5oCkBA
IC02MSw2ICs2MSwxNSBAQCBzdHJ1Y3QgZHJtX3N5bmNvYmogewogCSAqIEBmaWxlOiBBIGZpbGUg
YmFja2luZyBmb3IgdGhpcyBzeW5jb2JqLgogCSAqLwogCXN0cnVjdCBmaWxlICpmaWxlOworCS8q
KgorCSAqIEBiaW5hcnlfcGF5bG9hZDogQSA2NGJpdCBwYXlsb2FkIGZvciBiaW5hcnkgc3luY29i
anMuCisJICoKKwkgKiBXZSB1c2UgdGhlIHBheWxvYWQgdmFsdWUgdG8gd2FpdCBvbiBiaW5hcnkg
c3luY29iaiBmZW5jZXMgdG8KKwkgKiBtYXRlcmlhbGl6ZS4gSXQgaXMgYSByZXNlcnZhdGlvbiBt
ZWNoYW5pc20gZm9yIHRoZSBzaWduYWxlciB0bworCSAqIGV4cHJlc3MgdGhhdCBhdCBzb21lIHBv
aW50IGluIHRoZSBmdXR1cmUgYSBkbWEgZmVuY2Ugd2l0aCB0aGUgc2FtZQorCSAqIHNlcW5vIHdp
bGwgYmUgcHV0IGludG8gdGhlIHN5bmNvYmouCisJICovCisJYXRvbWljNjRfdCBiaW5hcnlfcGF5
bG9hZDsKIH07CiAKIHZvaWQgZHJtX3N5bmNvYmpfZnJlZShzdHJ1Y3Qga3JlZiAqa3JlZik7CmRp
ZmYgLS1naXQgYS9pbmNsdWRlL3VhcGkvZHJtL2RybS5oIGIvaW5jbHVkZS91YXBpL2RybS9kcm0u
aAppbmRleCA4YTViMmY4ZjhlYjkuLjc4YTBhNDEzYjc4OCAxMDA2NDQKLS0tIGEvaW5jbHVkZS91
YXBpL2RybS9kcm0uaAorKysgYi9pbmNsdWRlL3VhcGkvZHJtL2RybS5oCkBAIC03ODUsNiArNzg1
LDIyIEBAIHN0cnVjdCBkcm1fc3luY29ial90aW1lbGluZV9hcnJheSB7CiAJX191MzIgcGFkOwog
fTsKIAorc3RydWN0IGRybV9zeW5jb2JqX2JpbmFyeV9hcnJheSB7CisJLyogQSBwb2ludGVyIHRv
IGFuIGFycmF5IG9mIHUzMiBzeW5jb2JqIGhhbmRsZXMuICovCisJX191NjQgaGFuZGxlczsKKwkv
KiBBIHBvaW50ZXIgdG8gYW4gYXJyYXkgb2YgdTMyIGFjY2VzcyBmbGFncyBmb3IgZWFjaCBoYW5k
bGUuICovCisJX191NjQgYWNjZXNzX2ZsYWdzOworCS8qIFRoZSBiaW5hcnkgdmFsdWUgb2YgYSBz
eW5jb2JqIGlzIHJlYWQgYmVmb3JlIGl0IGlzIGluY3JlbWVudGVkLiAqLworI2RlZmluZSBEUk1f
U1lOQ09CSl9CSU5BUllfVkFMVUVfUkVBRCAoMXUgPDwgMCkKKyNkZWZpbmUgRFJNX1NZTkNPQkpf
QklOQVJZX1ZBTFVFX0lOQyAgKDF1IDw8IDEpCisJLyogQSBwb2ludGVyIHRvIGFuIGFycmF5IG9m
IHU2NCB2YWx1ZXMgd3JpdHRlbiB0byBieSB0aGUga2VybmVsIGlmIHRoZQorCSAqIGhhbmRsZSBp
cyBmbGFnZ2VkIGZvciByZWFkaW5nLgorCSAqLworCV9fdTY0IHZhbHVlczsKKwkvKiBUaGUgbGVu
Z3RoIG9mIHRoZSAzIGFycmF5cyBhYm92ZS4gKi8KKwlfX3UzMiBjb3VudF9oYW5kbGVzOworCV9f
dTMyIHBhZDsKK307CiAKIC8qIFF1ZXJ5IGN1cnJlbnQgc2Nhbm91dCBzZXF1ZW5jZSBudW1iZXIg
Ki8KIHN0cnVjdCBkcm1fY3J0Y19nZXRfc2VxdWVuY2UgewpAQCAtOTQ2LDYgKzk2Miw3IEBAIGV4
dGVybiAiQyIgewogI2RlZmluZSBEUk1fSU9DVExfU1lOQ09CSl9RVUVSWQkJRFJNX0lPV1IoMHhD
Qiwgc3RydWN0IGRybV9zeW5jb2JqX3RpbWVsaW5lX2FycmF5KQogI2RlZmluZSBEUk1fSU9DVExf
U1lOQ09CSl9UUkFOU0ZFUglEUk1fSU9XUigweENDLCBzdHJ1Y3QgZHJtX3N5bmNvYmpfdHJhbnNm
ZXIpCiAjZGVmaW5lIERSTV9JT0NUTF9TWU5DT0JKX1RJTUVMSU5FX1NJR05BTAlEUk1fSU9XUigw
eENELCBzdHJ1Y3QgZHJtX3N5bmNvYmpfdGltZWxpbmVfYXJyYXkpCisjZGVmaW5lIERSTV9JT0NU
TF9TWU5DT0JKX0JJTkFSWQlEUk1fSU9XUigweENFLCBzdHJ1Y3QgZHJtX3N5bmNvYmpfYmluYXJ5
X2FycmF5KQogCiAvKioKICAqIERldmljZSBzcGVjaWZpYyBpb2N0bHMgc2hvdWxkIG9ubHkgYmUg
aW4gdGhlaXIgcmVzcGVjdGl2ZSBoZWFkZXJzCi0tIAoyLjIzLjAKCl9fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJp
LWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9y
Zy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
