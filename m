Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id AC94EEBEEA
	for <lists+dri-devel@lfdr.de>; Fri,  1 Nov 2019 09:10:08 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 937A46F754;
	Fri,  1 Nov 2019 08:09:56 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from smtp.codeaurora.org (smtp.codeaurora.org [198.145.29.96])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 96C286F6DF
 for <dri-devel@lists.freedesktop.org>; Fri,  1 Nov 2019 06:28:15 +0000 (UTC)
Received: by smtp.codeaurora.org (Postfix, from userid 1000)
 id 64FEE60F36; Fri,  1 Nov 2019 06:28:15 +0000 (UTC)
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
 pdx-caf-mail.web.codeaurora.org
X-Spam-Level: 
X-Spam-Status: No, score=-2.7 required=2.0 tests=ALL_TRUSTED,BAYES_00,
 DKIM_INVALID,DKIM_SIGNED,SPF_NONE autolearn=no autolearn_force=no
 version=3.4.0
Received: from kgunda-linux.qualcomm.com
 (blr-c-bdr-fw-01_globalnat_allzones-outside.qualcomm.com [103.229.19.19])
 (using TLSv1.2 with cipher ECDHE-RSA-AES128-SHA256 (128/128 bits))
 (No client certificate requested)
 (Authenticated sender: kgunda@smtp.codeaurora.org)
 by smtp.codeaurora.org (Postfix) with ESMTPSA id 1400360EB7;
 Fri,  1 Nov 2019 06:28:05 +0000 (UTC)
DMARC-Filter: OpenDMARC Filter v1.3.2 smtp.codeaurora.org 1400360EB7
From: Kiran Gunda <kgunda@codeaurora.org>
To: bjorn.andersson@linaro.org, jingoohan1@gmail.com, lee.jones@linaro.org,
 b.zolnierkie@samsung.com, dri-devel@lists.freedesktop.org,
 daniel.thompson@linaro.org, jacek.anaszewski@gmail.com, pavel@ucw.cz,
 robh+dt@kernel.org, mark.rutland@arm.com, linux-leds@vger.kernel.org,
 devicetree@vger.kernel.org, linux-kernel@vger.kernel.org,
 Andy Gross <agross@kernel.org>, linux-arm-msm@vger.kernel.org,
 linux-fbdev@vger.kernel.org
Subject: [PATCH V10 6/8] backlight: qcom-wled: Add support for WLED4
 peripheral.
Date: Fri,  1 Nov 2019 11:57:02 +0530
Message-Id: <1572589624-6095-7-git-send-email-kgunda@codeaurora.org>
X-Mailer: git-send-email 1.9.1
In-Reply-To: <1572589624-6095-1-git-send-email-kgunda@codeaurora.org>
References: <1572589624-6095-1-git-send-email-kgunda@codeaurora.org>
X-Mailman-Approved-At: Fri, 01 Nov 2019 08:09:55 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=codeaurora.org; s=default; t=1572589695;
 bh=VJaggXKkAdhdvmaFJtZWH3RtC9vQplMy8u1lGYxGYTg=;
 h=From:To:Cc:Subject:Date:In-Reply-To:References:From;
 b=Y2hcxqs8MyKWxub3aHRhn7jeNU4pymCBuuE/Zp0+kf0bsvZ/9dMvwfSrudwXZOgi+
 AJuSjqHwZtvj9gF03zXOsJwSKCn9AVaFwVhAzmn7Wo6mCzL7UKR3/ZfJH5SqO4dJSb
 9L46Awqqik9zaMEzjNGptGQLMv8iBfRHrqAqkvFI=
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=codeaurora.org; s=default; t=1572589691;
 bh=VJaggXKkAdhdvmaFJtZWH3RtC9vQplMy8u1lGYxGYTg=;
 h=From:To:Cc:Subject:Date:In-Reply-To:References:From;
 b=HmLf5JaGY6YIvpYlkJBtpMfvi6jnTYUra3AgS9InadVmwFMZrTWNjiJp5ZHxlVTpa
 cquKypffS85HG0OEmQiOA2HIOOElQsZ0ip9qyCcy+Y0lluug6gjYEjyjEJgKBm7UKb
 gFfWAanxPKgEcTp8ivWNHae7SuIwacDj8GSBkbEM=
X-Mailman-Original-Authentication-Results: pdx-caf-mail.web.codeaurora.org;
 dmarc=none (p=none dis=none)
 header.from=codeaurora.org
X-Mailman-Original-Authentication-Results: pdx-caf-mail.web.codeaurora.org;
 spf=none
 smtp.mailfrom=kgunda@codeaurora.org
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Kiran Gunda <kgunda@codeaurora.org>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

V0xFRDQgcGVyaXBoZXJhbCBpcyBwcmVzZW50IG9uIHNvbWUgUE1JQ3MgbGlrZSBwbWk4OTk4IGFu
ZApwbTY2MGwuIEl0IGhhcyBhIGRpZmZlcmVudCByZWdpc3RlciBtYXAgYW5kIGNvbmZpZ3VyYXRp
b25zCmFyZSBhbHNvIGRpZmZlcmVudC4gQWRkIHN1cHBvcnQgZm9yIGl0LgoKU2lnbmVkLW9mZi1i
eTogS2lyYW4gR3VuZGEgPGtndW5kYUBjb2RlYXVyb3JhLm9yZz4KUmV2aWV3ZWQtYnk6IEJqb3Ju
IEFuZGVyc3NvbiA8Ympvcm4uYW5kZXJzc29uQGxpbmFyby5vcmc+ClJldmlld2VkLWJ5OiBEYW5p
ZWwgVGhvbXBzb24gPGRhbmllbC50aG9tcHNvbkBsaW5hcm8ub3JnPgotLS0KIGRyaXZlcnMvdmlk
ZW8vYmFja2xpZ2h0L3Fjb20td2xlZC5jIHwgMjU1ICsrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKysrKysrLQogMSBmaWxlIGNoYW5nZWQsIDI1MyBpbnNlcnRpb25zKCspLCAyIGRlbGV0aW9u
cygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmlkZW8vYmFja2xpZ2h0L3Fjb20td2xlZC5jIGIv
ZHJpdmVycy92aWRlby9iYWNrbGlnaHQvcWNvbS13bGVkLmMKaW5kZXggNDVlZWRhNC4uNTM4NmNh
OSAxMDA2NDQKLS0tIGEvZHJpdmVycy92aWRlby9iYWNrbGlnaHQvcWNvbS13bGVkLmMKKysrIGIv
ZHJpdmVycy92aWRlby9iYWNrbGlnaHQvcWNvbS13bGVkLmMKQEAgLTE3LDcgKzE3LDcgQEAKIAog
I2RlZmluZSBXTEVEM19TSU5LX1JFR19CUklHSFRfTUFYCQkJMHhGRkYKIAotLyogV0xFRDMgY29u
dHJvbCByZWdpc3RlcnMgKi8KKy8qIFdMRUQzL1dMRUQ0IGNvbnRyb2wgcmVnaXN0ZXJzICovCiAj
ZGVmaW5lIFdMRUQzX0NUUkxfUkVHX01PRF9FTgkJCQkweDQ2CiAjZGVmaW5lICBXTEVEM19DVFJM
X1JFR19NT0RfRU5fTUFTSwkJCUJJVCg3KQogI2RlZmluZSAgV0xFRDNfQ1RSTF9SRUdfTU9EX0VO
X1NISUZUCQkJNwpAQCAtMzEsNyArMzEsNyBAQAogI2RlZmluZSBXTEVEM19DVFJMX1JFR19JTElN
SVQJCQkJMHg0ZQogI2RlZmluZSAgV0xFRDNfQ1RSTF9SRUdfSUxJTUlUX01BU0sJCQlHRU5NQVNL
KDIsIDApCiAKLS8qIFdMRUQzIHNpbmsgcmVnaXN0ZXJzICovCisvKiBXTEVEMy9XTEVENCBzaW5r
IHJlZ2lzdGVycyAqLwogI2RlZmluZSBXTEVEM19TSU5LX1JFR19TWU5DCQkJCTB4NDcKICNkZWZp
bmUgIFdMRUQzX1NJTktfUkVHX1NZTkNfQ0xFQVIJCQkweDAwCiAKQEAgLTU2LDYgKzU2LDI4IEBA
CiAjZGVmaW5lIFdMRUQzX1NJTktfUkVHX1NUUl9DQUJDKG4pCQkJKDB4NjYgKyAobiAqIDB4MTAp
KQogI2RlZmluZSAgV0xFRDNfU0lOS19SRUdfU1RSX0NBQkNfTUFTSwkJCUJJVCg3KQogCisvKiBX
TEVENCBzcGVjaWZpYyBzaW5rIHJlZ2lzdGVycyAqLworI2RlZmluZSBXTEVENF9TSU5LX1JFR19D
VVJSX1NJTksJCQkweDQ2CisjZGVmaW5lICBXTEVENF9TSU5LX1JFR19DVVJSX1NJTktfTUFTSwkJ
CUdFTk1BU0soNywgNCkKKyNkZWZpbmUgIFdMRUQ0X1NJTktfUkVHX0NVUlJfU0lOS19TSEZUCQkJ
NAorCisvKiBXTEVENCBzcGVjaWZpYyBwZXItJ3N0cmluZycgcmVnaXN0ZXJzIGJlbG93ICovCisj
ZGVmaW5lIFdMRUQ0X1NJTktfUkVHX1NUUl9NT0RfRU4obikJCQkoMHg1MCArIChuICogMHgxMCkp
CisjZGVmaW5lICBXTEVENF9TSU5LX1JFR19TVFJfTU9EX01BU0sJCQlCSVQoNykKKworI2RlZmlu
ZSBXTEVENF9TSU5LX1JFR19TVFJfRlVMTF9TQ0FMRV9DVVJSKG4pCQkoMHg1MiArIChuICogMHgx
MCkpCisjZGVmaW5lICBXTEVENF9TSU5LX1JFR19TVFJfRlVMTF9TQ0FMRV9DVVJSX01BU0sJR0VO
TUFTSygzLCAwKQorCisjZGVmaW5lIFdMRUQ0X1NJTktfUkVHX1NUUl9NT0RfU1JDKG4pCQkJKDB4
NTMgKyAobiAqIDB4MTApKQorI2RlZmluZSAgV0xFRDRfU0lOS19SRUdfU1RSX01PRF9TUkNfTUFT
SwkJQklUKDApCisjZGVmaW5lICBXTEVENF9TSU5LX1JFR19TVFJfTU9EX1NSQ19JTlQJCQkweDAw
CisjZGVmaW5lICBXTEVENF9TSU5LX1JFR19TVFJfTU9EX1NSQ19FWFQJCQkweDAxCisKKyNkZWZp
bmUgV0xFRDRfU0lOS19SRUdfU1RSX0NBQkMobikJCQkoMHg1NiArIChuICogMHgxMCkpCisjZGVm
aW5lICBXTEVENF9TSU5LX1JFR19TVFJfQ0FCQ19NQVNLCQkJQklUKDcpCisKKyNkZWZpbmUgV0xF
RDRfU0lOS19SRUdfQlJJR0hUKG4pCQkJKDB4NTcgKyAobiAqIDB4MTApKQorCiBzdHJ1Y3Qgd2xl
ZF92YXJfY2ZnIHsKIAljb25zdCB1MzIgKnZhbHVlczsKIAl1MzIgKCpmbikodTMyKTsKQEAgLTkw
LDYgKzExMiw3IEBAIHN0cnVjdCB3bGVkIHsKIAlzdHJ1Y3QgZGV2aWNlICpkZXY7CiAJc3RydWN0
IHJlZ21hcCAqcmVnbWFwOwogCXUxNiBjdHJsX2FkZHI7CisJdTE2IHNpbmtfYWRkcjsKIAl1MTYg
bWF4X3N0cmluZ19jb3VudDsKIAl1MzIgYnJpZ2h0bmVzczsKIAl1MzIgbWF4X2JyaWdodG5lc3M7
CkBAIC0xMTYsNiArMTM5LDI5IEBAIHN0YXRpYyBpbnQgd2xlZDNfc2V0X2JyaWdodG5lc3Moc3Ry
dWN0IHdsZWQgKndsZWQsIHUxNiBicmlnaHRuZXNzKQogCXJldHVybiAwOwogfQogCitzdGF0aWMg
aW50IHdsZWQ0X3NldF9icmlnaHRuZXNzKHN0cnVjdCB3bGVkICp3bGVkLCB1MTYgYnJpZ2h0bmVz
cykKK3sKKwlpbnQgcmMsIGk7CisJdTE2IGxvd19saW1pdCA9IHdsZWQtPm1heF9icmlnaHRuZXNz
ICogNCAvIDEwMDA7CisJdTggdlsyXTsKKworCS8qIFdMRUQ0J3MgbG93ZXIgbGltaXQgb2Ygb3Bl
cmF0aW9uIGlzIDAuNCUgKi8KKwlpZiAoYnJpZ2h0bmVzcyA+IDAgJiYgYnJpZ2h0bmVzcyA8IGxv
d19saW1pdCkKKwkJYnJpZ2h0bmVzcyA9IGxvd19saW1pdDsKKworCXZbMF0gPSBicmlnaHRuZXNz
ICYgMHhmZjsKKwl2WzFdID0gKGJyaWdodG5lc3MgPj4gOCkgJiAweGY7CisKKwlmb3IgKGkgPSAw
OyAgaSA8IHdsZWQtPmNmZy5udW1fc3RyaW5nczsgKytpKSB7CisJCXJjID0gcmVnbWFwX2J1bGtf
d3JpdGUod2xlZC0+cmVnbWFwLCB3bGVkLT5zaW5rX2FkZHIgKworCQkJCSAgICAgICBXTEVENF9T
SU5LX1JFR19CUklHSFQoaSksIHYsIDIpOworCQlpZiAocmMgPCAwKQorCQkJcmV0dXJuIHJjOwor
CX0KKworCXJldHVybiAwOworfQorCiBzdGF0aWMgaW50IHdsZWRfbW9kdWxlX2VuYWJsZShzdHJ1
Y3Qgd2xlZCAqd2xlZCwgaW50IHZhbCkKIHsKIAlpbnQgcmM7CkBAIC0yNjcsNiArMzEzLDEyMCBA
QCBzdGF0aWMgaW50IHdsZWQzX3NldHVwKHN0cnVjdCB3bGVkICp3bGVkKQogCS5lbmFibGVkX3N0
cmluZ3MgPSB7MCwgMSwgMiwgM30sCiB9OwogCitzdGF0aWMgaW50IHdsZWQ0X3NldHVwKHN0cnVj
dCB3bGVkICp3bGVkKQoreworCWludCByYywgdGVtcCwgaSwgajsKKwl1MTYgYWRkcjsKKwl1OCBz
aW5rX2VuID0gMDsKKwl1MzIgc2lua19jZmcgPSAwOworCisJcmMgPSByZWdtYXBfdXBkYXRlX2Jp
dHMod2xlZC0+cmVnbWFwLAorCQkJCXdsZWQtPmN0cmxfYWRkciArIFdMRUQzX0NUUkxfUkVHX09W
UCwKKwkJCQlXTEVEM19DVFJMX1JFR19PVlBfTUFTSywgd2xlZC0+Y2ZnLm92cCk7CisJaWYgKHJj
IDwgMCkKKwkJcmV0dXJuIHJjOworCisJcmMgPSByZWdtYXBfdXBkYXRlX2JpdHMod2xlZC0+cmVn
bWFwLAorCQkJCXdsZWQtPmN0cmxfYWRkciArIFdMRUQzX0NUUkxfUkVHX0lMSU1JVCwKKwkJCQlX
TEVEM19DVFJMX1JFR19JTElNSVRfTUFTSywKKwkJCQl3bGVkLT5jZmcuYm9vc3RfaV9saW1pdCk7
CisJaWYgKHJjIDwgMCkKKwkJcmV0dXJuIHJjOworCisJcmMgPSByZWdtYXBfdXBkYXRlX2JpdHMo
d2xlZC0+cmVnbWFwLAorCQkJCXdsZWQtPmN0cmxfYWRkciArIFdMRUQzX0NUUkxfUkVHX0ZSRVEs
CisJCQkJV0xFRDNfQ1RSTF9SRUdfRlJFUV9NQVNLLAorCQkJCXdsZWQtPmNmZy5zd2l0Y2hfZnJl
cSk7CisJaWYgKHJjIDwgMCkKKwkJcmV0dXJuIHJjOworCisJcmMgPSByZWdtYXBfcmVhZCh3bGVk
LT5yZWdtYXAsIHdsZWQtPnNpbmtfYWRkciArCisJCQkgV0xFRDRfU0lOS19SRUdfQ1VSUl9TSU5L
LCAmc2lua19jZmcpOworCWlmIChyYyA8IDApCisJCXJldHVybiByYzsKKworCWZvciAoaSA9IDA7
IGkgPCB3bGVkLT5jZmcubnVtX3N0cmluZ3M7IGkrKykgeworCQlqID0gd2xlZC0+Y2ZnLmVuYWJs
ZWRfc3RyaW5nc1tpXTsKKwkJdGVtcCA9IGogKyBXTEVENF9TSU5LX1JFR19DVVJSX1NJTktfU0hG
VDsKKwkJc2lua19lbiB8PSAxIDw8IHRlbXA7CisJfQorCisJaWYgKHNpbmtfY2ZnID09IHNpbmtf
ZW4pCisJCXJldHVybiAwOworCisJcmMgPSByZWdtYXBfdXBkYXRlX2JpdHMod2xlZC0+cmVnbWFw
LAorCQkJCXdsZWQtPnNpbmtfYWRkciArIFdMRUQ0X1NJTktfUkVHX0NVUlJfU0lOSywKKwkJCQlX
TEVENF9TSU5LX1JFR19DVVJSX1NJTktfTUFTSywgMCk7CisJaWYgKHJjIDwgMCkKKwkJcmV0dXJu
IHJjOworCisJcmMgPSByZWdtYXBfdXBkYXRlX2JpdHMod2xlZC0+cmVnbWFwLCB3bGVkLT5jdHJs
X2FkZHIgKworCQkJCVdMRUQzX0NUUkxfUkVHX01PRF9FTiwKKwkJCQlXTEVEM19DVFJMX1JFR19N
T0RfRU5fTUFTSywgMCk7CisJaWYgKHJjIDwgMCkKKwkJcmV0dXJuIHJjOworCisJLyogUGVyIHNp
bmsvc3RyaW5nIGNvbmZpZ3VyYXRpb24gKi8KKwlmb3IgKGkgPSAwOyBpIDwgd2xlZC0+Y2ZnLm51
bV9zdHJpbmdzOyBpKyspIHsKKwkJaiA9IHdsZWQtPmNmZy5lbmFibGVkX3N0cmluZ3NbaV07CisK
KwkJYWRkciA9IHdsZWQtPnNpbmtfYWRkciArCisJCQkJV0xFRDRfU0lOS19SRUdfU1RSX01PRF9F
TihqKTsKKwkJcmMgPSByZWdtYXBfdXBkYXRlX2JpdHMod2xlZC0+cmVnbWFwLCBhZGRyLAorCQkJ
CQlXTEVENF9TSU5LX1JFR19TVFJfTU9EX01BU0ssCisJCQkJCVdMRUQ0X1NJTktfUkVHX1NUUl9N
T0RfTUFTSyk7CisJCWlmIChyYyA8IDApCisJCQlyZXR1cm4gcmM7CisKKwkJYWRkciA9IHdsZWQt
PnNpbmtfYWRkciArCisJCQkJV0xFRDRfU0lOS19SRUdfU1RSX0ZVTExfU0NBTEVfQ1VSUihqKTsK
KwkJcmMgPSByZWdtYXBfdXBkYXRlX2JpdHMod2xlZC0+cmVnbWFwLCBhZGRyLAorCQkJCQlXTEVE
NF9TSU5LX1JFR19TVFJfRlVMTF9TQ0FMRV9DVVJSX01BU0ssCisJCQkJCXdsZWQtPmNmZy5zdHJp
bmdfaV9saW1pdCk7CisJCWlmIChyYyA8IDApCisJCQlyZXR1cm4gcmM7CisKKwkJYWRkciA9IHds
ZWQtPnNpbmtfYWRkciArCisJCQkJV0xFRDRfU0lOS19SRUdfU1RSX0NBQkMoaik7CisJCXJjID0g
cmVnbWFwX3VwZGF0ZV9iaXRzKHdsZWQtPnJlZ21hcCwgYWRkciwKKwkJCQkJV0xFRDRfU0lOS19S
RUdfU1RSX0NBQkNfTUFTSywKKwkJCQkJd2xlZC0+Y2ZnLmNhYmMgPworCQkJCQlXTEVENF9TSU5L
X1JFR19TVFJfQ0FCQ19NQVNLIDogMCk7CisJCWlmIChyYyA8IDApCisJCQlyZXR1cm4gcmM7CisJ
fQorCisJcmMgPSByZWdtYXBfdXBkYXRlX2JpdHMod2xlZC0+cmVnbWFwLCB3bGVkLT5jdHJsX2Fk
ZHIgKworCQkJCVdMRUQzX0NUUkxfUkVHX01PRF9FTiwKKwkJCQlXTEVEM19DVFJMX1JFR19NT0Rf
RU5fTUFTSywKKwkJCQlXTEVEM19DVFJMX1JFR19NT0RfRU5fTUFTSyk7CisJaWYgKHJjIDwgMCkK
KwkJcmV0dXJuIHJjOworCisJcmMgPSByZWdtYXBfdXBkYXRlX2JpdHMod2xlZC0+cmVnbWFwLAor
CQkJCXdsZWQtPnNpbmtfYWRkciArIFdMRUQ0X1NJTktfUkVHX0NVUlJfU0lOSywKKwkJCQlXTEVE
NF9TSU5LX1JFR19DVVJSX1NJTktfTUFTSywgc2lua19lbik7CisJaWYgKHJjIDwgMCkKKwkJcmV0
dXJuIHJjOworCisJcmMgPSB3bGVkX3N5bmNfdG9nZ2xlKHdsZWQpOworCWlmIChyYyA8IDApIHsK
KwkJZGV2X2Vycih3bGVkLT5kZXYsICJGYWlsZWQgdG8gdG9nZ2xlIHN5bmMgcmVnIHJjOiVkXG4i
LCByYyk7CisJCXJldHVybiByYzsKKwl9CisKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIGNvbnN0
IHN0cnVjdCB3bGVkX2NvbmZpZyB3bGVkNF9jb25maWdfZGVmYXVsdHMgPSB7CisJLmJvb3N0X2lf
bGltaXQgPSA0LAorCS5zdHJpbmdfaV9saW1pdCA9IDEwLAorCS5vdnAgPSAxLAorCS5udW1fc3Ry
aW5ncyA9IDQsCisJLnN3aXRjaF9mcmVxID0gMTEsCisJLmNhYmMgPSBmYWxzZSwKK307CisKIHN0
YXRpYyBjb25zdCB1MzIgd2xlZDNfYm9vc3RfaV9saW1pdF92YWx1ZXNbXSA9IHsKIAkxMDUsIDM4
NSwgNTI1LCA4MDUsIDk4MCwgMTI2MCwgMTQwMCwgMTY4MCwKIH07CkBAIC0yNzYsNiArNDM2LDE1
IEBAIHN0YXRpYyBpbnQgd2xlZDNfc2V0dXAoc3RydWN0IHdsZWQgKndsZWQpCiAJLnNpemUgPSBB
UlJBWV9TSVpFKHdsZWQzX2Jvb3N0X2lfbGltaXRfdmFsdWVzKSwKIH07CiAKK3N0YXRpYyBjb25z
dCB1MzIgd2xlZDRfYm9vc3RfaV9saW1pdF92YWx1ZXNbXSA9IHsKKwkxMDUsIDI4MCwgNDUwLCA2
MjAsIDk3MCwgMTE1MCwgMTMwMCwgMTUwMCwKK307CisKK3N0YXRpYyBjb25zdCBzdHJ1Y3Qgd2xl
ZF92YXJfY2ZnIHdsZWQ0X2Jvb3N0X2lfbGltaXRfY2ZnID0geworCS52YWx1ZXMgPSB3bGVkNF9i
b29zdF9pX2xpbWl0X3ZhbHVlcywKKwkuc2l6ZSA9IEFSUkFZX1NJWkUod2xlZDRfYm9vc3RfaV9s
aW1pdF92YWx1ZXMpLAorfTsKKwogc3RhdGljIGNvbnN0IHUzMiB3bGVkM19vdnBfdmFsdWVzW10g
PSB7CiAJMzUsIDMyLCAyOSwgMjcsCiB9OwpAQCAtMjg1LDYgKzQ1NCwxNSBAQCBzdGF0aWMgaW50
IHdsZWQzX3NldHVwKHN0cnVjdCB3bGVkICp3bGVkKQogCS5zaXplID0gQVJSQVlfU0laRSh3bGVk
M19vdnBfdmFsdWVzKSwKIH07CiAKK3N0YXRpYyBjb25zdCB1MzIgd2xlZDRfb3ZwX3ZhbHVlc1td
ID0geworCTMxMTAwLCAyOTYwMCwgMTk2MDAsIDE4MTAwLAorfTsKKworc3RhdGljIGNvbnN0IHN0
cnVjdCB3bGVkX3Zhcl9jZmcgd2xlZDRfb3ZwX2NmZyA9IHsKKwkudmFsdWVzID0gd2xlZDRfb3Zw
X3ZhbHVlcywKKwkuc2l6ZSA9IEFSUkFZX1NJWkUod2xlZDRfb3ZwX3ZhbHVlcyksCit9OworCiBz
dGF0aWMgdTMyIHdsZWQzX251bV9zdHJpbmdzX3ZhbHVlc19mbih1MzIgaWR4KQogewogCXJldHVy
biBpZHggKyAxOwpAQCAtMjk1LDYgKzQ3MywxMSBAQCBzdGF0aWMgdTMyIHdsZWQzX251bV9zdHJp
bmdzX3ZhbHVlc19mbih1MzIgaWR4KQogCS5zaXplID0gMywKIH07CiAKK3N0YXRpYyBjb25zdCBz
dHJ1Y3Qgd2xlZF92YXJfY2ZnIHdsZWQ0X251bV9zdHJpbmdzX2NmZyA9IHsKKwkuZm4gPSB3bGVk
M19udW1fc3RyaW5nc192YWx1ZXNfZm4sCisJLnNpemUgPSA0LAorfTsKKwogc3RhdGljIHUzMiB3
bGVkM19zd2l0Y2hfZnJlcV92YWx1ZXNfZm4odTMyIGlkeCkKIHsKIAlyZXR1cm4gMTkyMDAgLyAo
MiAqICgxICsgaWR4KSk7CkBAIC0zMDksMTAgKzQ5MiwyNCBAQCBzdGF0aWMgdTMyIHdsZWQzX3N3
aXRjaF9mcmVxX3ZhbHVlc19mbih1MzIgaWR4KQogCS5zaXplID0gMjYsCiB9OwogCitzdGF0aWMg
Y29uc3QgdTMyIHdsZWQ0X3N0cmluZ19pX2xpbWl0X3ZhbHVlc1tdID0geworCTAsIDI1MDAsIDUw
MDAsIDc1MDAsIDEwMDAwLCAxMjUwMCwgMTUwMDAsIDE3NTAwLCAyMDAwMCwKKwkyMjUwMCwgMjUw
MDAsIDI3NTAwLCAzMDAwMCwKK307CisKK3N0YXRpYyBjb25zdCBzdHJ1Y3Qgd2xlZF92YXJfY2Zn
IHdsZWQ0X3N0cmluZ19pX2xpbWl0X2NmZyA9IHsKKwkudmFsdWVzID0gd2xlZDRfc3RyaW5nX2lf
bGltaXRfdmFsdWVzLAorCS5zaXplID0gQVJSQVlfU0laRSh3bGVkNF9zdHJpbmdfaV9saW1pdF92
YWx1ZXMpLAorfTsKKwogc3RhdGljIGNvbnN0IHN0cnVjdCB3bGVkX3Zhcl9jZmcgd2xlZDNfc3Ry
aW5nX2NmZyA9IHsKIAkuc2l6ZSA9IDgsCiB9OwogCitzdGF0aWMgY29uc3Qgc3RydWN0IHdsZWRf
dmFyX2NmZyB3bGVkNF9zdHJpbmdfY2ZnID0geworCS5zaXplID0gMTYsCit9OworCiBzdGF0aWMg
dTMyIHdsZWRfdmFsdWVzKGNvbnN0IHN0cnVjdCB3bGVkX3Zhcl9jZmcgKmNmZywgdTMyIGlkeCkK
IHsKIAlpZiAoaWR4ID49IGNmZy0+c2l6ZSkKQEAgLTM2MSw2ICs1NTgsMzQgQEAgc3RhdGljIGlu
dCB3bGVkX2NvbmZpZ3VyZShzdHJ1Y3Qgd2xlZCAqd2xlZCwgaW50IHZlcnNpb24pCiAJCX0sCiAJ
fTsKIAorCWNvbnN0IHN0cnVjdCB3bGVkX3UzMl9vcHRzIHdsZWQ0X29wdHNbXSA9IHsKKwkJewor
CQkJLm5hbWUgPSAicWNvbSxjdXJyZW50LWJvb3N0LWxpbWl0IiwKKwkJCS52YWxfcHRyID0gJmNm
Zy0+Ym9vc3RfaV9saW1pdCwKKwkJCS5jZmcgPSAmd2xlZDRfYm9vc3RfaV9saW1pdF9jZmcsCisJ
CX0sCisJCXsKKwkJCS5uYW1lID0gInFjb20sY3VycmVudC1saW1pdC1taWNyb2FtcCIsCisJCQku
dmFsX3B0ciA9ICZjZmctPnN0cmluZ19pX2xpbWl0LAorCQkJLmNmZyA9ICZ3bGVkNF9zdHJpbmdf
aV9saW1pdF9jZmcsCisJCX0sCisJCXsKKwkJCS5uYW1lID0gInFjb20sb3ZwLW1pbGxpdm9sdCIs
CisJCQkudmFsX3B0ciA9ICZjZmctPm92cCwKKwkJCS5jZmcgPSAmd2xlZDRfb3ZwX2NmZywKKwkJ
fSwKKwkJeworCQkJLm5hbWUgPSAicWNvbSxzd2l0Y2hpbmctZnJlcSIsCisJCQkudmFsX3B0ciA9
ICZjZmctPnN3aXRjaF9mcmVxLAorCQkJLmNmZyA9ICZ3bGVkM19zd2l0Y2hfZnJlcV9jZmcsCisJ
CX0sCisJCXsKKwkJCS5uYW1lID0gInFjb20sbnVtLXN0cmluZ3MiLAorCQkJLnZhbF9wdHIgPSAm
Y2ZnLT5udW1fc3RyaW5ncywKKwkJCS5jZmcgPSAmd2xlZDRfbnVtX3N0cmluZ3NfY2ZnLAorCQl9
LAorCX07CisKIAljb25zdCBzdHJ1Y3Qgd2xlZF9ib29sX29wdHMgYm9vbF9vcHRzW10gPSB7CiAJ
CXsgInFjb20sY3Mtb3V0IiwgJmNmZy0+Y3Nfb3V0X2VuLCB9LAogCQl7ICJxY29tLGV4dC1nZW4i
LCAmY2ZnLT5leHRfZ2VuLCB9LApAQCAtMzg1LDYgKzYxMCwyMiBAQCBzdGF0aWMgaW50IHdsZWRf
Y29uZmlndXJlKHN0cnVjdCB3bGVkICp3bGVkLCBpbnQgdmVyc2lvbikKIAkJKmNmZyA9IHdsZWQz
X2NvbmZpZ19kZWZhdWx0czsKIAkJd2xlZC0+d2xlZF9zZXRfYnJpZ2h0bmVzcyA9IHdsZWQzX3Nl
dF9icmlnaHRuZXNzOwogCQl3bGVkLT5tYXhfc3RyaW5nX2NvdW50ID0gMzsKKwkJd2xlZC0+c2lu
a19hZGRyID0gd2xlZC0+Y3RybF9hZGRyOworCQlicmVhazsKKworCWNhc2UgNDoKKwkJdTMyX29w
dHMgPSB3bGVkNF9vcHRzOworCQlzaXplID0gQVJSQVlfU0laRSh3bGVkNF9vcHRzKTsKKwkJKmNm
ZyA9IHdsZWQ0X2NvbmZpZ19kZWZhdWx0czsKKwkJd2xlZC0+d2xlZF9zZXRfYnJpZ2h0bmVzcyA9
IHdsZWQ0X3NldF9icmlnaHRuZXNzOworCQl3bGVkLT5tYXhfc3RyaW5nX2NvdW50ID0gNDsKKwor
CQlwcm9wX2FkZHIgPSBvZl9nZXRfYWRkcmVzcyhkZXYtPm9mX25vZGUsIDEsIE5VTEwsIE5VTEwp
OworCQlpZiAoIXByb3BfYWRkcikgeworCQkJZGV2X2Vycih3bGVkLT5kZXYsICJpbnZhbGlkIElP
IHJlc291cmNlc1xuIik7CisJCQlyZXR1cm4gLUVJTlZBTDsKKwkJfQorCQl3bGVkLT5zaW5rX2Fk
ZHIgPSBiZTMyX3RvX2NwdSgqcHJvcF9hZGRyKTsKIAkJYnJlYWs7CiAKIAlkZWZhdWx0OgpAQCAt
NDgzLDYgKzcyNCwxNCBAQCBzdGF0aWMgaW50IHdsZWRfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2Rl
dmljZSAqcGRldikKIAkJfQogCQlicmVhazsKIAorCWNhc2UgNDoKKwkJcmMgPSB3bGVkNF9zZXR1
cCh3bGVkKTsKKwkJaWYgKHJjKSB7CisJCQlkZXZfZXJyKCZwZGV2LT5kZXYsICJ3bGVkNF9zZXR1
cCBmYWlsZWRcbiIpOworCQkJcmV0dXJuIHJjOworCQl9CisJCWJyZWFrOworCiAJZGVmYXVsdDoK
IAkJZGV2X2Vycih3bGVkLT5kZXYsICJJbnZhbGlkIFdMRUQgdmVyc2lvblxuIik7CiAJCWJyZWFr
OwpAQCAtNTAzLDYgKzc1Miw4IEBAIHN0YXRpYyBpbnQgd2xlZF9wcm9iZShzdHJ1Y3QgcGxhdGZv
cm1fZGV2aWNlICpwZGV2KQogCiBzdGF0aWMgY29uc3Qgc3RydWN0IG9mX2RldmljZV9pZCB3bGVk
X21hdGNoX3RhYmxlW10gPSB7CiAJeyAuY29tcGF0aWJsZSA9ICJxY29tLHBtODk0MS13bGVkIiwg
LmRhdGEgPSAodm9pZCAqKTMgfSwKKwl7IC5jb21wYXRpYmxlID0gInFjb20scG1pODk5OC13bGVk
IiwgLmRhdGEgPSAodm9pZCAqKTQgfSwKKwl7IC5jb21wYXRpYmxlID0gInFjb20scG02NjBsLXds
ZWQiLCAuZGF0YSA9ICh2b2lkICopNCB9LAogCXt9CiB9OwogTU9EVUxFX0RFVklDRV9UQUJMRShv
Ziwgd2xlZF9tYXRjaF90YWJsZSk7Ci0tIApUaGUgUXVhbGNvbW0gSW5ub3ZhdGlvbiBDZW50ZXIs
IEluYy4gaXMgYSBtZW1iZXIgb2YgdGhlIENvZGUgQXVyb3JhIEZvcnVtLAogYSBMaW51eCBGb3Vu
ZGF0aW9uIENvbGxhYm9yYXRpdmUgUHJvamVjdAoKX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vZHJpLWRldmVs
