Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 33A5D1E486
	for <lists+dri-devel@lfdr.de>; Wed, 15 May 2019 00:18:47 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 52E9B8934F;
	Tue, 14 May 2019 22:18:44 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-pf1-x44a.google.com (mail-pf1-x44a.google.com
 [IPv6:2607:f8b0:4864:20::44a])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A4FA58934F
 for <dri-devel@lists.freedesktop.org>; Tue, 14 May 2019 22:18:42 +0000 (UTC)
Received: by mail-pf1-x44a.google.com with SMTP id j18so246030pfi.20
 for <dri-devel@lists.freedesktop.org>; Tue, 14 May 2019 15:18:42 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:date:in-reply-to:message-id:mime-version
 :references:subject:from:to:cc;
 bh=RIwHnp54hJO+5QL8Jiq7slAdlqrhJ7VpMjCOwlgo2uI=;
 b=aO+WiEZK+7cS3TKvLtGu6UtDEjS6nOXLNmVKxoRgblwOC5s53/uc99JaSpopWJEZgo
 aGPutuInInXnn0JE9tMzKIaafsrePAQphuBnPES1jdwrDTC703+SMClVAgRtDPR3ZIBY
 r3XBg6GQuSn/ozbPipvmLQBentEQQam06G1ibYqMxAOd5kLWJmOG3KaNvte3ZvkuE2a2
 tpgoPHZRLAdeQ0NMLe+jk2+Xacc9uZJ9wJaljDAvjw9S6nH9A9CRMx3CI0xItNwPdJIP
 lxt20y7L2cPphlOCaK9XNkFYTYJ1ykIPMLM9wtKdBdgS62ygTUPcMq5Y8HMv6bCoPqd/
 OUOw==
X-Gm-Message-State: APjAAAW/TvpHA7E5H6FM/OrpJIcMd9CnsU04qdg6Ot5BqvevR85fJjY9
 imLZ0h7/BE6RruIRL0GGZE6aHHSm509Ln54F7SwLSQ==
X-Google-Smtp-Source: APXvYqzdXECc9nvIE6J1lJsrrGi3IprpeI0jyVTtrrLCGERlFeAROqK3Pw+rdAE1q+3n1mkyySZudah1jkqBu091mJ/icA==
X-Received: by 2002:a63:e711:: with SMTP id b17mr40245383pgi.202.1557872321948; 
 Tue, 14 May 2019 15:18:41 -0700 (PDT)
Date: Tue, 14 May 2019 15:16:58 -0700
In-Reply-To: <20190514221711.248228-1-brendanhiggins@google.com>
Message-Id: <20190514221711.248228-6-brendanhiggins@google.com>
Mime-Version: 1.0
References: <20190514221711.248228-1-brendanhiggins@google.com>
X-Mailer: git-send-email 2.21.0.1020.gf2820cf01a-goog
Subject: [PATCH v4 05/18] kunit: test: add the concept of expectations
From: Brendan Higgins <brendanhiggins@google.com>
To: frowand.list@gmail.com, gregkh@linuxfoundation.org, jpoimboe@redhat.com, 
 keescook@google.com, kieran.bingham@ideasonboard.com, mcgrof@kernel.org, 
 peterz@infradead.org, robh@kernel.org, sboyd@kernel.org, shuah@kernel.org, 
 tytso@mit.edu, yamada.masahiro@socionext.com
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=google.com; s=20161025;
 h=date:in-reply-to:message-id:mime-version:references:subject:from:to
 :cc;
 bh=RIwHnp54hJO+5QL8Jiq7slAdlqrhJ7VpMjCOwlgo2uI=;
 b=t6G+Cisj7ClNtKr8sPuXbuhzL3FB7hlBoKS8iE6fX6q/jasgf13nqBXCCq8Sr3HJ/Q
 tAjc/Mco9i9GtYzA/xZzPatrnQzxHORCnu71G+lBACkit9kKS+sXy5wMvoZDufMxSqZP
 rFNyC2W7kTcQUX0RYENi2GxL/vOqtFhmi5ogtI+RgsFE5FH78s+Vr2RELNVFEjRFWRe8
 Uy27u5bCyikGAWrKCmyxw8VXweEXyclDuvbaPItbaa4mO1yP0WXl9pBObK8yFiYm6Dgk
 s7U+51vFHvhPOxfX7Xj79xd4zJsZjFczMv3brrjRkhl5vvPD+MQs0NsdTjAyJvcGRZVM
 j1KQ==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: pmladek@suse.com, linux-doc@vger.kernel.org, amir73il@gmail.com,
 Brendan Higgins <brendanhiggins@google.com>, dri-devel@lists.freedesktop.org,
 Alexander.Levin@microsoft.com, linux-kselftest@vger.kernel.org,
 linux-nvdimm@lists.01.org, khilman@baylibre.com, knut.omang@oracle.com,
 wfg@linux.intel.com, joel@jms.id.au, rientjes@google.com, jdike@addtoit.com,
 dan.carpenter@oracle.com, devicetree@vger.kernel.org,
 linux-kbuild@vger.kernel.org, Tim.Bird@sony.com, linux-um@lists.infradead.org,
 rostedt@goodmis.org, julia.lawall@lip6.fr, kunit-dev@googlegroups.com,
 richard@nod.at, rdunlap@infradead.org, linux-kernel@vger.kernel.org,
 mpe@ellerman.id.au, linux-fsdevel@vger.kernel.org, logang@deltatee.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QWRkIHN1cHBvcnQgZm9yIGV4cGVjdGF0aW9ucywgd2hpY2ggYWxsb3cgcHJvcGVydGllcyB0byBi
ZSBzcGVjaWZpZWQgYW5kCnRoZW4gdmVyaWZpZWQgaW4gdGVzdHMuCgpTaWduZWQtb2ZmLWJ5OiBC
cmVuZGFuIEhpZ2dpbnMgPGJyZW5kYW5oaWdnaW5zQGdvb2dsZS5jb20+ClJldmlld2VkLWJ5OiBH
cmVnIEtyb2FoLUhhcnRtYW4gPGdyZWdraEBsaW51eGZvdW5kYXRpb24ub3JnPgpSZXZpZXdlZC1i
eTogTG9nYW4gR3VudGhvcnBlIDxsb2dhbmdAZGVsdGF0ZWUuY29tPgotLS0KIGluY2x1ZGUva3Vu
aXQvdGVzdC5oIHwgNTE4ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysKIGt1bml0L3Rlc3QuYyAgICAgICAgIHwgIDY2ICsrKysrKwogMiBmaWxlcyBjaGFuZ2VkLCA1
ODQgaW5zZXJ0aW9ucygrKQoKZGlmZiAtLWdpdCBhL2luY2x1ZGUva3VuaXQvdGVzdC5oIGIvaW5j
bHVkZS9rdW5pdC90ZXN0LmgKaW5kZXggNGJjODM5ODg0YTgzYy4uODYxODdiYTA2OWE1ZCAxMDA2
NDQKLS0tIGEvaW5jbHVkZS9rdW5pdC90ZXN0LmgKKysrIGIvaW5jbHVkZS9rdW5pdC90ZXN0LmgK
QEAgLTI3MSw0ICsyNzEsNTIyIEBAIHZvaWQgX19wcmludGYoMywgNCkga3VuaXRfcHJpbnRrKGNv
bnN0IGNoYXIgKmxldmVsLAogI2RlZmluZSBrdW5pdF9lcnIodGVzdCwgZm10LCAuLi4pIFwKIAkJ
a3VuaXRfcHJpbnRrKEtFUk5fRVJSLCB0ZXN0LCBmbXQsICMjX19WQV9BUkdTX18pCiAKK3N0YXRp
YyBpbmxpbmUgc3RydWN0IGt1bml0X3N0cmVhbSAqa3VuaXRfZXhwZWN0X3N0YXJ0KHN0cnVjdCBr
dW5pdCAqdGVzdCwKKwkJCQkJCSAgICAgIGNvbnN0IGNoYXIgKmZpbGUsCisJCQkJCQkgICAgICBj
b25zdCBjaGFyICpsaW5lKQoreworCXN0cnVjdCBrdW5pdF9zdHJlYW0gKnN0cmVhbSA9IGt1bml0
X25ld19zdHJlYW0odGVzdCk7CisKKwlrdW5pdF9zdHJlYW1fYWRkKHN0cmVhbSwgIkVYUEVDVEFU
SU9OIEZBSUxFRCBhdCAlczolc1xuXHQiLCBmaWxlLCBsaW5lKTsKKworCXJldHVybiBzdHJlYW07
Cit9CisKK3N0YXRpYyBpbmxpbmUgdm9pZCBrdW5pdF9leHBlY3RfZW5kKHN0cnVjdCBrdW5pdCAq
dGVzdCwKKwkJCQkgICAgYm9vbCBzdWNjZXNzLAorCQkJCSAgICBzdHJ1Y3Qga3VuaXRfc3RyZWFt
ICpzdHJlYW0pCit7CisJaWYgKCFzdWNjZXNzKQorCQlrdW5pdF9mYWlsKHRlc3QsIHN0cmVhbSk7
CisJZWxzZQorCQlrdW5pdF9zdHJlYW1fY2xlYXIoc3RyZWFtKTsKK30KKworI2RlZmluZSBLVU5J
VF9FWFBFQ1RfU1RBUlQodGVzdCkgXAorCQlrdW5pdF9leHBlY3Rfc3RhcnQodGVzdCwgX19GSUxF
X18sIF9fc3RyaW5naWZ5KF9fTElORV9fKSkKKworI2RlZmluZSBLVU5JVF9FWFBFQ1RfRU5EKHRl
c3QsIHN1Y2Nlc3MsIHN0cmVhbSkgXAorCQlrdW5pdF9leHBlY3RfZW5kKHRlc3QsIHN1Y2Nlc3Ms
IHN0cmVhbSkKKworI2RlZmluZSBLVU5JVF9FWFBFQ1RfTVNHKHRlc3QsIHN1Y2Nlc3MsIG1lc3Nh
Z2UsIGZtdCwgLi4uKSBkbyB7CQkgICAgICAgXAorCXN0cnVjdCBrdW5pdF9zdHJlYW0gKl9fc3Ry
ZWFtID0gS1VOSVRfRVhQRUNUX1NUQVJUKHRlc3QpOwkgICAgICAgXAorCQkJCQkJCQkJICAgICAg
IFwKKwlrdW5pdF9zdHJlYW1fYWRkKF9fc3RyZWFtLCBtZXNzYWdlKTsJCQkJICAgICAgIFwKKwlr
dW5pdF9zdHJlYW1fYWRkKF9fc3RyZWFtLCBmbXQsICMjX19WQV9BUkdTX18pOwkJCSAgICAgICBc
CisJS1VOSVRfRVhQRUNUX0VORCh0ZXN0LCBzdWNjZXNzLCBfX3N0cmVhbSk7CQkJICAgICAgIFwK
K30gd2hpbGUgKDApCisKKyNkZWZpbmUgS1VOSVRfRVhQRUNUKHRlc3QsIHN1Y2Nlc3MsIG1lc3Nh
Z2UpIGRvIHsJCQkgICAgICAgXAorCXN0cnVjdCBrdW5pdF9zdHJlYW0gKl9fc3RyZWFtID0gS1VO
SVRfRVhQRUNUX1NUQVJUKHRlc3QpOwkgICAgICAgXAorCQkJCQkJCQkJICAgICAgIFwKKwlrdW5p
dF9zdHJlYW1fYWRkKF9fc3RyZWFtLCBtZXNzYWdlKTsJCQkJICAgICAgIFwKKwlLVU5JVF9FWFBF
Q1RfRU5EKHRlc3QsIHN1Y2Nlc3MsIF9fc3RyZWFtKTsJCQkgICAgICAgXAorfSB3aGlsZSAoMCkK
KworLyoqCisgKiBLVU5JVF9TVUNDRUVEKCkgLSBBIG5vLW9wIGV4cGVjdGF0aW9uLiBPbmx5IGV4
aXN0cyBmb3IgY29kZSBjbGFyaXR5LgorICogQHRlc3Q6IFRoZSB0ZXN0IGNvbnRleHQgb2JqZWN0
LgorICoKKyAqIFRoZSBvcHBvc2l0ZSBvZiBLVU5JVF9GQUlMKCksIGl0IGlzIGFuIGV4cGVjdGF0
aW9uIHRoYXQgY2Fubm90IGZhaWwuIEluIG90aGVyCisgKiB3b3JkcywgaXQgZG9lcyBub3RoaW5n
IGFuZCBvbmx5IGV4aXN0cyBmb3IgY29kZSBjbGFyaXR5LiBTZWUKKyAqIEtVTklUX0VYUEVDVF9U
UlVFKCkgZm9yIG1vcmUgaW5mb3JtYXRpb24uCisgKi8KKyNkZWZpbmUgS1VOSVRfU1VDQ0VFRCh0
ZXN0KSBkbyB7fSB3aGlsZSAoMCkKKworLyoqCisgKiBLVU5JVF9GQUlMKCkgLSBBbHdheXMgY2F1
c2VzIGEgdGVzdCB0byBmYWlsIHdoZW4gZXZhbHVhdGVkLgorICogQHRlc3Q6IFRoZSB0ZXN0IGNv
bnRleHQgb2JqZWN0LgorICogQGZtdDogYW4gaW5mb3JtYXRpb25hbCBtZXNzYWdlIHRvIGJlIHBy
aW50ZWQgd2hlbiB0aGUgYXNzZXJ0aW9uIGlzIG1hZGUuCisgKiBALi4uOiBzdHJpbmcgZm9ybWF0
IGFyZ3VtZW50cy4KKyAqCisgKiBUaGUgb3Bwb3NpdGUgb2YgS1VOSVRfU1VDQ0VFRCgpLCBpdCBp
cyBhbiBleHBlY3RhdGlvbiB0aGF0IGFsd2F5cyBmYWlscy4gSW4KKyAqIG90aGVyIHdvcmRzLCBp
dCBhbHdheXMgcmVzdWx0cyBpbiBhIGZhaWxlZCBleHBlY3RhdGlvbiwgYW5kIGNvbnNlcXVlbnRs
eQorICogYWx3YXlzIGNhdXNlcyB0aGUgdGVzdCBjYXNlIHRvIGZhaWwgd2hlbiBldmFsdWF0ZWQu
IFNlZSBLVU5JVF9FWFBFQ1RfVFJVRSgpCisgKiBmb3IgbW9yZSBpbmZvcm1hdGlvbi4KKyAqLwor
I2RlZmluZSBLVU5JVF9GQUlMKHRlc3QsIGZtdCwgLi4uKSBkbyB7CQkJCQkgICAgICAgXAorCXN0
cnVjdCBrdW5pdF9zdHJlYW0gKl9fc3RyZWFtID0gS1VOSVRfRVhQRUNUX1NUQVJUKHRlc3QpOwkg
ICAgICAgXAorCQkJCQkJCQkJICAgICAgIFwKKwlrdW5pdF9zdHJlYW1fYWRkKF9fc3RyZWFtLCBm
bXQsICMjX19WQV9BUkdTX18pOwkJCSAgICAgICBcCisJS1VOSVRfRVhQRUNUX0VORCh0ZXN0LCBm
YWxzZSwgX19zdHJlYW0pOwkJCSAgICAgICBcCit9IHdoaWxlICgwKQorCisvKioKKyAqIEtVTklU
X0VYUEVDVF9UUlVFKCkgLSBDYXVzZXMgYSB0ZXN0IGZhaWx1cmUgd2hlbiB0aGUgZXhwcmVzc2lv
biBpcyBub3QgdHJ1ZS4KKyAqIEB0ZXN0OiBUaGUgdGVzdCBjb250ZXh0IG9iamVjdC4KKyAqIEBj
b25kaXRpb246IGFuIGFyYml0cmFyeSBib29sZWFuIGV4cHJlc3Npb24uIFRoZSB0ZXN0IGZhaWxz
IHdoZW4gdGhpcyBkb2VzCisgKiBub3QgZXZhbHVhdGUgdG8gdHJ1ZS4KKyAqCisgKiBUaGlzIGFu
ZCBleHBlY3RhdGlvbnMgb2YgdGhlIGZvcm0gYEtVTklUX0VYUEVDVF8qYCB3aWxsIGNhdXNlIHRo
ZSB0ZXN0IGNhc2UKKyAqIHRvIGZhaWwgd2hlbiB0aGUgc3BlY2lmaWVkIGNvbmRpdGlvbiBpcyBu
b3QgbWV0OyBob3dldmVyLCBpdCB3aWxsIG5vdCBwcmV2ZW50CisgKiB0aGUgdGVzdCBjYXNlIGZy
b20gY29udGludWluZyB0byBydW47IHRoaXMgaXMgb3RoZXJ3aXNlIGtub3duIGFzIGFuCisgKiAq
ZXhwZWN0YXRpb24gZmFpbHVyZSouCisgKi8KKyNkZWZpbmUgS1VOSVRfRVhQRUNUX1RSVUUodGVz
dCwgY29uZGl0aW9uKQkJCQkgICAgICAgXAorCQlLVU5JVF9FWFBFQ1QodGVzdCwgKGNvbmRpdGlv
biksCQkJCSAgICAgICBcCisJCSAgICAgICAiRXhwZWN0ZWQgIiAjY29uZGl0aW9uICIgaXMgdHJ1
ZSwgYnV0IGlzIGZhbHNlLlxuIikKKworI2RlZmluZSBLVU5JVF9FWFBFQ1RfVFJVRV9NU0codGVz
dCwgY29uZGl0aW9uLCBmbXQsIC4uLikJCSAgICAgICBcCisJCUtVTklUX0VYUEVDVF9NU0codGVz
dCwgKGNvbmRpdGlvbiksCQkJICAgICAgIFwKKwkJCQkiRXhwZWN0ZWQgIiAjY29uZGl0aW9uICIg
aXMgdHJ1ZSwgYnV0IGlzIGZhbHNlLlxuIixcCisJCQkJZm10LCAjI19fVkFfQVJHU19fKQorCisv
KioKKyAqIEtVTklUX0VYUEVDVF9GQUxTRSgpIC0gTWFrZXMgYSB0ZXN0IGZhaWx1cmUgd2hlbiB0
aGUgZXhwcmVzc2lvbiBpcyBub3QgZmFsc2UuCisgKiBAdGVzdDogVGhlIHRlc3QgY29udGV4dCBv
YmplY3QuCisgKiBAY29uZGl0aW9uOiBhbiBhcmJpdHJhcnkgYm9vbGVhbiBleHByZXNzaW9uLiBU
aGUgdGVzdCBmYWlscyB3aGVuIHRoaXMgZG9lcworICogbm90IGV2YWx1YXRlIHRvIGZhbHNlLgor
ICoKKyAqIFNldHMgYW4gZXhwZWN0YXRpb24gdGhhdCBAY29uZGl0aW9uIGV2YWx1YXRlcyB0byBm
YWxzZS4gU2VlCisgKiBLVU5JVF9FWFBFQ1RfVFJVRSgpIGZvciBtb3JlIGluZm9ybWF0aW9uLgor
ICovCisjZGVmaW5lIEtVTklUX0VYUEVDVF9GQUxTRSh0ZXN0LCBjb25kaXRpb24pCQkJCSAgICAg
ICBcCisJCUtVTklUX0VYUEVDVCh0ZXN0LCAhKGNvbmRpdGlvbiksCQkJICAgICAgIFwKKwkJICAg
ICAgICJFeHBlY3RlZCAiICNjb25kaXRpb24gIiBpcyBmYWxzZSwgYnV0IGlzIHRydWUuIikKKwor
I2RlZmluZSBLVU5JVF9FWFBFQ1RfRkFMU0VfTVNHKHRlc3QsIGNvbmRpdGlvbiwgZm10LCAuLi4p
CQkgICAgICAgXAorCQlLVU5JVF9FWFBFQ1RfTVNHKHRlc3QsICEoY29uZGl0aW9uKSwJCQkgICAg
ICAgXAorCQkJCSJFeHBlY3RlZCAiICNjb25kaXRpb24gIiBpcyBmYWxzZSwgYnV0IGlzIHRydWUu
XG4iLFwKKwkJCQlmbXQsICMjX19WQV9BUkdTX18pCisKK3ZvaWQga3VuaXRfZXhwZWN0X2JpbmFy
eV9tc2coc3RydWN0IGt1bml0ICp0ZXN0LAorCQkJICAgICBsb25nIGxvbmcgbGVmdCwgY29uc3Qg
Y2hhciAqbGVmdF9uYW1lLAorCQkJICAgICBsb25nIGxvbmcgcmlnaHQsIGNvbnN0IGNoYXIgKnJp
Z2h0X25hbWUsCisJCQkgICAgIGJvb2wgY29tcGFyZV9yZXN1bHQsCisJCQkgICAgIGNvbnN0IGNo
YXIgKmNvbXBhcmVfbmFtZSwKKwkJCSAgICAgY29uc3QgY2hhciAqZmlsZSwKKwkJCSAgICAgY29u
c3QgY2hhciAqbGluZSwKKwkJCSAgICAgY29uc3QgY2hhciAqZm10LCAuLi4pOworCitzdGF0aWMg
aW5saW5lIHZvaWQga3VuaXRfZXhwZWN0X2JpbmFyeShzdHJ1Y3Qga3VuaXQgKnRlc3QsCisJCQkJ
ICAgICAgIGxvbmcgbG9uZyBsZWZ0LCBjb25zdCBjaGFyICpsZWZ0X25hbWUsCisJCQkJICAgICAg
IGxvbmcgbG9uZyByaWdodCwgY29uc3QgY2hhciAqcmlnaHRfbmFtZSwKKwkJCQkgICAgICAgYm9v
bCBjb21wYXJlX3Jlc3VsdCwKKwkJCQkgICAgICAgY29uc3QgY2hhciAqY29tcGFyZV9uYW1lLAor
CQkJCSAgICAgICBjb25zdCBjaGFyICpmaWxlLAorCQkJCSAgICAgICBjb25zdCBjaGFyICpsaW5l
KQoreworCWt1bml0X2V4cGVjdF9iaW5hcnlfbXNnKHRlc3QsCisJCQkJbGVmdCwgbGVmdF9uYW1l
LAorCQkJCXJpZ2h0LCByaWdodF9uYW1lLAorCQkJCWNvbXBhcmVfcmVzdWx0LAorCQkJCWNvbXBh
cmVfbmFtZSwKKwkJCQlmaWxlLAorCQkJCWxpbmUsCisJCQkJTlVMTCk7Cit9CisKK3ZvaWQga3Vu
aXRfZXhwZWN0X3B0cl9iaW5hcnlfbXNnKHN0cnVjdCBrdW5pdCAqdGVzdCwKKwkJCQkgdm9pZCAq
bGVmdCwgY29uc3QgY2hhciAqbGVmdF9uYW1lLAorCQkJCSB2b2lkICpyaWdodCwgY29uc3QgY2hh
ciAqcmlnaHRfbmFtZSwKKwkJCQkgYm9vbCBjb21wYXJlX3Jlc3VsdCwKKwkJCQkgY29uc3QgY2hh
ciAqY29tcGFyZV9uYW1lLAorCQkJCSBjb25zdCBjaGFyICpmaWxlLAorCQkJCSBjb25zdCBjaGFy
ICpsaW5lLAorCQkJCSBjb25zdCBjaGFyICpmbXQsIC4uLik7CisKK3N0YXRpYyBpbmxpbmUgdm9p
ZCBrdW5pdF9leHBlY3RfcHRyX2JpbmFyeShzdHJ1Y3Qga3VuaXQgKnRlc3QsCisJCQkJCSAgIHZv
aWQgKmxlZnQsIGNvbnN0IGNoYXIgKmxlZnRfbmFtZSwKKwkJCQkJICAgdm9pZCAqcmlnaHQsIGNv
bnN0IGNoYXIgKnJpZ2h0X25hbWUsCisJCQkJCSAgIGJvb2wgY29tcGFyZV9yZXN1bHQsCisJCQkJ
CSAgIGNvbnN0IGNoYXIgKmNvbXBhcmVfbmFtZSwKKwkJCQkJICAgY29uc3QgY2hhciAqZmlsZSwK
KwkJCQkJICAgY29uc3QgY2hhciAqbGluZSkKK3sKKwlrdW5pdF9leHBlY3RfcHRyX2JpbmFyeV9t
c2codGVzdCwKKwkJCQkgICAgbGVmdCwgbGVmdF9uYW1lLAorCQkJCSAgICByaWdodCwgcmlnaHRf
bmFtZSwKKwkJCQkgICAgY29tcGFyZV9yZXN1bHQsCisJCQkJICAgIGNvbXBhcmVfbmFtZSwKKwkJ
CQkgICAgZmlsZSwKKwkJCQkgICAgbGluZSwKKwkJCQkgICAgTlVMTCk7Cit9CisKKy8qCisgKiBB
IGZhY3RvcnkgbWFjcm8gZm9yIGRlZmluaW5nIHRoZSBleHBlY3RhdGlvbnMgZm9yIHRoZSBiYXNp
YyBjb21wYXJpc29ucworICogZGVmaW5lZCBmb3IgdGhlIGJ1aWx0IGluIHR5cGVzLgorICoKKyAq
IFVuZm9ydHVuYXRlbHksIHRoZXJlIGlzIG5vIGNvbW1vbiB0eXBlIHRoYXQgYWxsIHR5cGVzIGNh
biBiZSBwcm9tb3RlZCB0byBmb3IKKyAqIHdoaWNoIGFsbCB0aGUgYmluYXJ5IG9wZXJhdG9ycyBi
ZWhhdmUgdGhlIHNhbWUgd2F5IGFzIGZvciB0aGUgYWN0dWFsIHR5cGVzCisgKiAoZm9yIGV4YW1w
bGUsIHRoZXJlIGlzIG5vIHR5cGUgdGhhdCBsb25nIGxvbmcgYW5kIHVuc2lnbmVkIGxvbmcgbG9u
ZyBjYW4KKyAqIGJvdGggYmUgY2FzdCB0byB3aGVyZSB0aGUgY29tcGFyaXNvbiByZXN1bHQgaXMg
cHJlc2VydmVkIGZvciBhbGwgdmFsdWVzKS4gU28KKyAqIHRoZSBiZXN0IHdlIGNhbiBkbyBpcyBk
byB0aGUgY29tcGFyaXNvbiBpbiB0aGUgb3JpZ2luYWwgdHlwZXMgYW5kIHRoZW4gY29lcmNlCisg
KiBldmVyeXRoaW5nIHRvIGxvbmcgbG9uZyBmb3IgcHJpbnRpbmc7IHRoaXMgd2F5LCB0aGUgY29t
cGFyaXNvbiBiZWhhdmVzCisgKiBjb3JyZWN0bHkgYW5kIHRoZSBwcmludGVkIG91dCB2YWx1ZSB1
c3VhbGx5IG1ha2VzIHNlbnNlIHdpdGhvdXQKKyAqIGludGVycHJldGF0aW9uLCBidXQgY2FuIGFs
d2F5cyBiZSBpbnRlcnByZXR0ZWQgdG8gZmlndXJlIG91dCB0aGUgYWN0dWFsCisgKiB2YWx1ZS4K
KyAqLworI2RlZmluZSBLVU5JVF9FWFBFQ1RfQklOQVJZKHRlc3QsIGxlZnQsIGNvbmRpdGlvbiwg
cmlnaHQpIGRvIHsJCSAgICAgICBcCisJdHlwZW9mKGxlZnQpIF9fbGVmdCA9IChsZWZ0KTsJCQkJ
CSAgICAgICBcCisJdHlwZW9mKHJpZ2h0KSBfX3JpZ2h0ID0gKHJpZ2h0KTsJCQkJICAgICAgIFwK
KwlrdW5pdF9leHBlY3RfYmluYXJ5KHRlc3QsCQkJCQkgICAgICAgXAorCQkJICAgIChsb25nIGxv
bmcpIF9fbGVmdCwgI2xlZnQsCQkJICAgICAgIFwKKwkJCSAgICAobG9uZyBsb25nKSBfX3JpZ2h0
LCAjcmlnaHQsCQkgICAgICAgXAorCQkJICAgIF9fbGVmdCBjb25kaXRpb24gX19yaWdodCwgI2Nv
bmRpdGlvbiwJICAgICAgIFwKKwkJCSAgICBfX0ZJTEVfXywgX19zdHJpbmdpZnkoX19MSU5FX18p
KTsJCSAgICAgICBcCit9IHdoaWxlICgwKQorCisjZGVmaW5lIEtVTklUX0VYUEVDVF9CSU5BUllf
TVNHKHRlc3QsIGxlZnQsIGNvbmRpdGlvbiwgcmlnaHQsIGZtdCwgLi4uKSBkbyB7ICAgXAorCXR5
cGVvZihsZWZ0KSBfX2xlZnQgPSAobGVmdCk7CQkJCQkgICAgICAgXAorCXR5cGVvZihyaWdodCkg
X19yaWdodCA9IChyaWdodCk7CQkJCSAgICAgICBcCisJa3VuaXRfZXhwZWN0X2JpbmFyeV9tc2co
dGVzdCwJCQkJCSAgICAgICBcCisJCQkJKGxvbmcgbG9uZykgX19sZWZ0LCAjbGVmdCwJCSAgICAg
ICBcCisJCQkJKGxvbmcgbG9uZykgX19yaWdodCwgI3JpZ2h0LAkJICAgICAgIFwKKwkJCQlfX2xl
ZnQgY29uZGl0aW9uIF9fcmlnaHQsICNjb25kaXRpb24sCSAgICAgICBcCisJCQkJX19GSUxFX18s
IF9fc3RyaW5naWZ5KF9fTElORV9fKSwJICAgICAgIFwKKwkJCQlmbXQsICMjX19WQV9BUkdTX18p
OwkJCSAgICAgICBcCit9IHdoaWxlICgwKQorCisvKgorICogSnVzdCBsaWtlIEtVTklUX0VYUEVD
VF9CSU5BUlksIGJ1dCBmb3IgY29tcGFyaW5nIHBvaW50ZXIgdHlwZXMuCisgKi8KKyNkZWZpbmUg
S1VOSVRfRVhQRUNUX1BUUl9CSU5BUlkodGVzdCwgbGVmdCwgY29uZGl0aW9uLCByaWdodCkgZG8g
ewkgICAgICAgXAorCXR5cGVvZihsZWZ0KSBfX2xlZnQgPSAobGVmdCk7CQkJCQkgICAgICAgXAor
CXR5cGVvZihyaWdodCkgX19yaWdodCA9IChyaWdodCk7CQkJCSAgICAgICBcCisJa3VuaXRfZXhw
ZWN0X3B0cl9iaW5hcnkodGVzdCwJCQkJCSAgICAgICBcCisJCQkgICAgKHZvaWQgKikgX19sZWZ0
LCAjbGVmdCwJCQkgICAgICAgXAorCQkJICAgICh2b2lkICopIF9fcmlnaHQsICNyaWdodCwJCQkg
ICAgICAgXAorCQkJICAgIF9fbGVmdCBjb25kaXRpb24gX19yaWdodCwgI2NvbmRpdGlvbiwJICAg
ICAgIFwKKwkJCSAgICBfX0ZJTEVfXywgX19zdHJpbmdpZnkoX19MSU5FX18pKTsJCSAgICAgICBc
Cit9IHdoaWxlICgwKQorCisjZGVmaW5lIEtVTklUX0VYUEVDVF9QVFJfQklOQVJZX01TRyh0ZXN0
LAkJCQkgICAgICAgXAorCQkJCSAgICBsZWZ0LAkJCQkgICAgICAgXAorCQkJCSAgICBjb25kaXRp
b24sCQkJCSAgICAgICBcCisJCQkJICAgIHJpZ2h0LAkJCQkgICAgICAgXAorCQkJCSAgICBmbXQs
CQkJCSAgICAgICBcCisJCQkJICAgIC4uLikgZG8gewkJCQkgICAgICAgXAorCXR5cGVvZihsZWZ0
KSBfX2xlZnQgPSAobGVmdCk7CQkJCQkgICAgICAgXAorCXR5cGVvZihyaWdodCkgX19yaWdodCA9
IChyaWdodCk7CQkJCSAgICAgICBcCisJa3VuaXRfZXhwZWN0X3B0cl9iaW5hcnlfbXNnKHRlc3Qs
CQkJCSAgICAgICBcCisJCQkJICAgICh2b2lkICopIF9fbGVmdCwgI2xlZnQsCQkgICAgICAgXAor
CQkJCSAgICAodm9pZCAqKSBfX3JpZ2h0LCAjcmlnaHQsCQkgICAgICAgXAorCQkJCSAgICBfX2xl
ZnQgY29uZGl0aW9uIF9fcmlnaHQsICNjb25kaXRpb24sICAgICAgXAorCQkJCSAgICBfX0ZJTEVf
XywgX19zdHJpbmdpZnkoX19MSU5FX18pLAkgICAgICAgXAorCQkJCSAgICBmbXQsICMjX19WQV9B
UkdTX18pOwkJICAgICAgIFwKK30gd2hpbGUgKDApCisKKy8qKgorICogS1VOSVRfRVhQRUNUX0VR
KCkgLSBTZXRzIGFuIGV4cGVjdGF0aW9uIHRoYXQgQGxlZnQgYW5kIEByaWdodCBhcmUgZXF1YWwu
CisgKiBAdGVzdDogVGhlIHRlc3QgY29udGV4dCBvYmplY3QuCisgKiBAbGVmdDogYW4gYXJiaXRy
YXJ5IGV4cHJlc3Npb24gdGhhdCBldmFsdWF0ZXMgdG8gYSBwcmltaXRpdmUgQyB0eXBlLgorICog
QHJpZ2h0OiBhbiBhcmJpdHJhcnkgZXhwcmVzc2lvbiB0aGF0IGV2YWx1YXRlcyB0byBhIHByaW1p
dGl2ZSBDIHR5cGUuCisgKgorICogU2V0cyBhbiBleHBlY3RhdGlvbiB0aGF0IHRoZSB2YWx1ZXMg
dGhhdCBAbGVmdCBhbmQgQHJpZ2h0IGV2YWx1YXRlIHRvIGFyZQorICogZXF1YWwuIFRoaXMgaXMg
c2VtYW50aWNhbGx5IGVxdWl2YWxlbnQgdG8KKyAqIEtVTklUX0VYUEVDVF9UUlVFKEB0ZXN0LCAo
QGxlZnQpID09IChAcmlnaHQpKS4gU2VlIEtVTklUX0VYUEVDVF9UUlVFKCkgZm9yCisgKiBtb3Jl
IGluZm9ybWF0aW9uLgorICovCisjZGVmaW5lIEtVTklUX0VYUEVDVF9FUSh0ZXN0LCBsZWZ0LCBy
aWdodCkgXAorCQlLVU5JVF9FWFBFQ1RfQklOQVJZKHRlc3QsIGxlZnQsID09LCByaWdodCkKKwor
I2RlZmluZSBLVU5JVF9FWFBFQ1RfRVFfTVNHKHRlc3QsIGxlZnQsIHJpZ2h0LCBmbXQsIC4uLikJ
CSAgICAgICBcCisJCUtVTklUX0VYUEVDVF9CSU5BUllfTVNHKHRlc3QsCQkJCSAgICAgICBcCisJ
CQkJCWxlZnQsCQkJCSAgICAgICBcCisJCQkJCT09LAkJCQkgICAgICAgXAorCQkJCQlyaWdodCwJ
CQkJICAgICAgIFwKKwkJCQkJZm10LAkJCQkgICAgICAgXAorCQkJCQkjI19fVkFfQVJHU19fKQor
CisvKioKKyAqIEtVTklUX0VYUEVDVF9QVFJfRVEoKSAtIEV4cGVjdHMgdGhhdCBwb2ludGVycyBA
bGVmdCBhbmQgQHJpZ2h0IGFyZSBlcXVhbC4KKyAqIEB0ZXN0OiBUaGUgdGVzdCBjb250ZXh0IG9i
amVjdC4KKyAqIEBsZWZ0OiBhbiBhcmJpdHJhcnkgZXhwcmVzc2lvbiB0aGF0IGV2YWx1YXRlcyB0
byBhIHBvaW50ZXIuCisgKiBAcmlnaHQ6IGFuIGFyYml0cmFyeSBleHByZXNzaW9uIHRoYXQgZXZh
bHVhdGVzIHRvIGEgcG9pbnRlci4KKyAqCisgKiBTZXRzIGFuIGV4cGVjdGF0aW9uIHRoYXQgdGhl
IHZhbHVlcyB0aGF0IEBsZWZ0IGFuZCBAcmlnaHQgZXZhbHVhdGUgdG8gYXJlCisgKiBlcXVhbC4g
VGhpcyBpcyBzZW1hbnRpY2FsbHkgZXF1aXZhbGVudCB0bworICogS1VOSVRfRVhQRUNUX1RSVUUo
QHRlc3QsIChAbGVmdCkgPT0gKEByaWdodCkpLiBTZWUgS1VOSVRfRVhQRUNUX1RSVUUoKSBmb3IK
KyAqIG1vcmUgaW5mb3JtYXRpb24uCisgKi8KKyNkZWZpbmUgS1VOSVRfRVhQRUNUX1BUUl9FUSh0
ZXN0LCBsZWZ0LCByaWdodCkgXAorCQlLVU5JVF9FWFBFQ1RfUFRSX0JJTkFSWSh0ZXN0LCBsZWZ0
LCA9PSwgcmlnaHQpCisKKyNkZWZpbmUgS1VOSVRfRVhQRUNUX1BUUl9FUV9NU0codGVzdCwgbGVm
dCwgcmlnaHQsIGZtdCwgLi4uKQkJICAgICAgIFwKKwkJS1VOSVRfRVhQRUNUX1BUUl9CSU5BUllf
TVNHKHRlc3QsCQkJICAgICAgIFwKKwkJCQkJICAgIGxlZnQsCQkJICAgICAgIFwKKwkJCQkJICAg
ID09LAkJCQkgICAgICAgXAorCQkJCQkgICAgcmlnaHQsCQkJICAgICAgIFwKKwkJCQkJICAgIGZt
dCwJCQkgICAgICAgXAorCQkJCQkgICAgIyNfX1ZBX0FSR1NfXykKKworLyoqCisgKiBLVU5JVF9F
WFBFQ1RfTkUoKSAtIEFuIGV4cGVjdGF0aW9uIHRoYXQgQGxlZnQgYW5kIEByaWdodCBhcmUgbm90
IGVxdWFsLgorICogQHRlc3Q6IFRoZSB0ZXN0IGNvbnRleHQgb2JqZWN0LgorICogQGxlZnQ6IGFu
IGFyYml0cmFyeSBleHByZXNzaW9uIHRoYXQgZXZhbHVhdGVzIHRvIGEgcHJpbWl0aXZlIEMgdHlw
ZS4KKyAqIEByaWdodDogYW4gYXJiaXRyYXJ5IGV4cHJlc3Npb24gdGhhdCBldmFsdWF0ZXMgdG8g
YSBwcmltaXRpdmUgQyB0eXBlLgorICoKKyAqIFNldHMgYW4gZXhwZWN0YXRpb24gdGhhdCB0aGUg
dmFsdWVzIHRoYXQgQGxlZnQgYW5kIEByaWdodCBldmFsdWF0ZSB0byBhcmUgbm90CisgKiBlcXVh
bC4gVGhpcyBpcyBzZW1hbnRpY2FsbHkgZXF1aXZhbGVudCB0bworICogS1VOSVRfRVhQRUNUX1RS
VUUoQHRlc3QsIChAbGVmdCkgIT0gKEByaWdodCkpLiBTZWUgS1VOSVRfRVhQRUNUX1RSVUUoKSBm
b3IKKyAqIG1vcmUgaW5mb3JtYXRpb24uCisgKi8KKyNkZWZpbmUgS1VOSVRfRVhQRUNUX05FKHRl
c3QsIGxlZnQsIHJpZ2h0KSBcCisJCUtVTklUX0VYUEVDVF9CSU5BUlkodGVzdCwgbGVmdCwgIT0s
IHJpZ2h0KQorCisjZGVmaW5lIEtVTklUX0VYUEVDVF9ORV9NU0codGVzdCwgbGVmdCwgcmlnaHQs
IGZtdCwgLi4uKQkJICAgICAgIFwKKwkJS1VOSVRfRVhQRUNUX0JJTkFSWV9NU0codGVzdCwJCQkJ
ICAgICAgIFwKKwkJCQkJbGVmdCwJCQkJICAgICAgIFwKKwkJCQkJIT0sCQkJCSAgICAgICBcCisJ
CQkJCXJpZ2h0LAkJCQkgICAgICAgXAorCQkJCQlmbXQsCQkJCSAgICAgICBcCisJCQkJCSMjX19W
QV9BUkdTX18pCisKKy8qKgorICogS1VOSVRfRVhQRUNUX1BUUl9ORSgpIC0gRXhwZWN0cyB0aGF0
IHBvaW50ZXJzIEBsZWZ0IGFuZCBAcmlnaHQgYXJlIG5vdCBlcXVhbC4KKyAqIEB0ZXN0OiBUaGUg
dGVzdCBjb250ZXh0IG9iamVjdC4KKyAqIEBsZWZ0OiBhbiBhcmJpdHJhcnkgZXhwcmVzc2lvbiB0
aGF0IGV2YWx1YXRlcyB0byBhIHBvaW50ZXIuCisgKiBAcmlnaHQ6IGFuIGFyYml0cmFyeSBleHBy
ZXNzaW9uIHRoYXQgZXZhbHVhdGVzIHRvIGEgcG9pbnRlci4KKyAqCisgKiBTZXRzIGFuIGV4cGVj
dGF0aW9uIHRoYXQgdGhlIHZhbHVlcyB0aGF0IEBsZWZ0IGFuZCBAcmlnaHQgZXZhbHVhdGUgdG8g
YXJlIG5vdAorICogZXF1YWwuIFRoaXMgaXMgc2VtYW50aWNhbGx5IGVxdWl2YWxlbnQgdG8KKyAq
IEtVTklUX0VYUEVDVF9UUlVFKEB0ZXN0LCAoQGxlZnQpICE9IChAcmlnaHQpKS4gU2VlIEtVTklU
X0VYUEVDVF9UUlVFKCkgZm9yCisgKiBtb3JlIGluZm9ybWF0aW9uLgorICovCisjZGVmaW5lIEtV
TklUX0VYUEVDVF9QVFJfTkUodGVzdCwgbGVmdCwgcmlnaHQpIFwKKwkJS1VOSVRfRVhQRUNUX1BU
Ul9CSU5BUlkodGVzdCwgbGVmdCwgIT0sIHJpZ2h0KQorCisjZGVmaW5lIEtVTklUX0VYUEVDVF9Q
VFJfTkVfTVNHKHRlc3QsIGxlZnQsIHJpZ2h0LCBmbXQsIC4uLikJCSAgICAgICBcCisJCUtVTklU
X0VYUEVDVF9QVFJfQklOQVJZX01TRyh0ZXN0LAkJCSAgICAgICBcCisJCQkJCSAgICBsZWZ0LAkJ
CSAgICAgICBcCisJCQkJCSAgICAhPSwJCQkJICAgICAgIFwKKwkJCQkJICAgIHJpZ2h0LAkJCSAg
ICAgICBcCisJCQkJCSAgICBmbXQsCQkJICAgICAgIFwKKwkJCQkJICAgICMjX19WQV9BUkdTX18p
CisKKy8qKgorICogS1VOSVRfRVhQRUNUX0xUKCkgLSBBbiBleHBlY3RhdGlvbiB0aGF0IEBsZWZ0
IGlzIGxlc3MgdGhhbiBAcmlnaHQuCisgKiBAdGVzdDogVGhlIHRlc3QgY29udGV4dCBvYmplY3Qu
CisgKiBAbGVmdDogYW4gYXJiaXRyYXJ5IGV4cHJlc3Npb24gdGhhdCBldmFsdWF0ZXMgdG8gYSBw
cmltaXRpdmUgQyB0eXBlLgorICogQHJpZ2h0OiBhbiBhcmJpdHJhcnkgZXhwcmVzc2lvbiB0aGF0
IGV2YWx1YXRlcyB0byBhIHByaW1pdGl2ZSBDIHR5cGUuCisgKgorICogU2V0cyBhbiBleHBlY3Rh
dGlvbiB0aGF0IHRoZSB2YWx1ZSB0aGF0IEBsZWZ0IGV2YWx1YXRlcyB0byBpcyBsZXNzIHRoYW4g
dGhlCisgKiB2YWx1ZSB0aGF0IEByaWdodCBldmFsdWF0ZXMgdG8uIFRoaXMgaXMgc2VtYW50aWNh
bGx5IGVxdWl2YWxlbnQgdG8KKyAqIEtVTklUX0VYUEVDVF9UUlVFKEB0ZXN0LCAoQGxlZnQpIDwg
KEByaWdodCkpLiBTZWUgS1VOSVRfRVhQRUNUX1RSVUUoKSBmb3IKKyAqIG1vcmUgaW5mb3JtYXRp
b24uCisgKi8KKyNkZWZpbmUgS1VOSVRfRVhQRUNUX0xUKHRlc3QsIGxlZnQsIHJpZ2h0KSBcCisJ
CUtVTklUX0VYUEVDVF9CSU5BUlkodGVzdCwgbGVmdCwgPCwgcmlnaHQpCisKKyNkZWZpbmUgS1VO
SVRfRVhQRUNUX0xUX01TRyh0ZXN0LCBsZWZ0LCByaWdodCwgZm10LCAuLi4pCQkgICAgICAgXAor
CQlLVU5JVF9FWFBFQ1RfQklOQVJZX01TRyh0ZXN0LAkJCQkgICAgICAgXAorCQkJCQlsZWZ0LAkJ
CQkgICAgICAgXAorCQkJCQk8LAkJCQkgICAgICAgXAorCQkJCQlyaWdodCwJCQkJICAgICAgIFwK
KwkJCQkJZm10LAkJCQkgICAgICAgXAorCQkJCQkjI19fVkFfQVJHU19fKQorCisvKioKKyAqIEtV
TklUX0VYUEVDVF9MRSgpIC0gRXhwZWN0cyB0aGF0IEBsZWZ0IGlzIGxlc3MgdGhhbiBvciBlcXVh
bCB0byBAcmlnaHQuCisgKiBAdGVzdDogVGhlIHRlc3QgY29udGV4dCBvYmplY3QuCisgKiBAbGVm
dDogYW4gYXJiaXRyYXJ5IGV4cHJlc3Npb24gdGhhdCBldmFsdWF0ZXMgdG8gYSBwcmltaXRpdmUg
QyB0eXBlLgorICogQHJpZ2h0OiBhbiBhcmJpdHJhcnkgZXhwcmVzc2lvbiB0aGF0IGV2YWx1YXRl
cyB0byBhIHByaW1pdGl2ZSBDIHR5cGUuCisgKgorICogU2V0cyBhbiBleHBlY3RhdGlvbiB0aGF0
IHRoZSB2YWx1ZSB0aGF0IEBsZWZ0IGV2YWx1YXRlcyB0byBpcyBsZXNzIHRoYW4gb3IKKyAqIGVx
dWFsIHRvIHRoZSB2YWx1ZSB0aGF0IEByaWdodCBldmFsdWF0ZXMgdG8uIFNlbWFudGljYWxseSB0
aGlzIGlzIGVxdWl2YWxlbnQKKyAqIHRvIEtVTklUX0VYUEVDVF9UUlVFKEB0ZXN0LCAoQGxlZnQp
IDw9IChAcmlnaHQpKS4gU2VlIEtVTklUX0VYUEVDVF9UUlVFKCkgZm9yCisgKiBtb3JlIGluZm9y
bWF0aW9uLgorICovCisjZGVmaW5lIEtVTklUX0VYUEVDVF9MRSh0ZXN0LCBsZWZ0LCByaWdodCkg
XAorCQlLVU5JVF9FWFBFQ1RfQklOQVJZKHRlc3QsIGxlZnQsIDw9LCByaWdodCkKKworI2RlZmlu
ZSBLVU5JVF9FWFBFQ1RfTEVfTVNHKHRlc3QsIGxlZnQsIHJpZ2h0LCBmbXQsIC4uLikJCSAgICAg
ICBcCisJCUtVTklUX0VYUEVDVF9CSU5BUllfTVNHKHRlc3QsCQkJCSAgICAgICBcCisJCQkJCWxl
ZnQsCQkJCSAgICAgICBcCisJCQkJCTw9LAkJCQkgICAgICAgXAorCQkJCQlyaWdodCwJCQkJICAg
ICAgIFwKKwkJCQkJZm10LAkJCQkgICAgICAgXAorCQkJCQkjI19fVkFfQVJHU19fKQorCisvKioK
KyAqIEtVTklUX0VYUEVDVF9HVCgpIC0gQW4gZXhwZWN0YXRpb24gdGhhdCBAbGVmdCBpcyBncmVh
dGVyIHRoYW4gQHJpZ2h0LgorICogQHRlc3Q6IFRoZSB0ZXN0IGNvbnRleHQgb2JqZWN0LgorICog
QGxlZnQ6IGFuIGFyYml0cmFyeSBleHByZXNzaW9uIHRoYXQgZXZhbHVhdGVzIHRvIGEgcHJpbWl0
aXZlIEMgdHlwZS4KKyAqIEByaWdodDogYW4gYXJiaXRyYXJ5IGV4cHJlc3Npb24gdGhhdCBldmFs
dWF0ZXMgdG8gYSBwcmltaXRpdmUgQyB0eXBlLgorICoKKyAqIFNldHMgYW4gZXhwZWN0YXRpb24g
dGhhdCB0aGUgdmFsdWUgdGhhdCBAbGVmdCBldmFsdWF0ZXMgdG8gaXMgZ3JlYXRlciB0aGFuCisg
KiB0aGUgdmFsdWUgdGhhdCBAcmlnaHQgZXZhbHVhdGVzIHRvLiBUaGlzIGlzIHNlbWFudGljYWxs
eSBlcXVpdmFsZW50IHRvCisgKiBLVU5JVF9FWFBFQ1RfVFJVRShAdGVzdCwgKEBsZWZ0KSA+IChA
cmlnaHQpKS4gU2VlIEtVTklUX0VYUEVDVF9UUlVFKCkgZm9yCisgKiBtb3JlIGluZm9ybWF0aW9u
LgorICovCisjZGVmaW5lIEtVTklUX0VYUEVDVF9HVCh0ZXN0LCBsZWZ0LCByaWdodCkgXAorCQlL
VU5JVF9FWFBFQ1RfQklOQVJZKHRlc3QsIGxlZnQsID4sIHJpZ2h0KQorCisjZGVmaW5lIEtVTklU
X0VYUEVDVF9HVF9NU0codGVzdCwgbGVmdCwgcmlnaHQsIGZtdCwgLi4uKQkJICAgICAgIFwKKwkJ
S1VOSVRfRVhQRUNUX0JJTkFSWV9NU0codGVzdCwJCQkJICAgICAgIFwKKwkJCQkJbGVmdCwJCQkJ
ICAgICAgIFwKKwkJCQkJPiwJCQkJICAgICAgIFwKKwkJCQkJcmlnaHQsCQkJCSAgICAgICBcCisJ
CQkJCWZtdCwJCQkJICAgICAgIFwKKwkJCQkJIyNfX1ZBX0FSR1NfXykKKworLyoqCisgKiBLVU5J
VF9FWFBFQ1RfR0UoKSAtIEV4cGVjdHMgdGhhdCBAbGVmdCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1
YWwgdG8gQHJpZ2h0LgorICogQHRlc3Q6IFRoZSB0ZXN0IGNvbnRleHQgb2JqZWN0LgorICogQGxl
ZnQ6IGFuIGFyYml0cmFyeSBleHByZXNzaW9uIHRoYXQgZXZhbHVhdGVzIHRvIGEgcHJpbWl0aXZl
IEMgdHlwZS4KKyAqIEByaWdodDogYW4gYXJiaXRyYXJ5IGV4cHJlc3Npb24gdGhhdCBldmFsdWF0
ZXMgdG8gYSBwcmltaXRpdmUgQyB0eXBlLgorICoKKyAqIFNldHMgYW4gZXhwZWN0YXRpb24gdGhh
dCB0aGUgdmFsdWUgdGhhdCBAbGVmdCBldmFsdWF0ZXMgdG8gaXMgZ3JlYXRlciB0aGFuCisgKiB0
aGUgdmFsdWUgdGhhdCBAcmlnaHQgZXZhbHVhdGVzIHRvLiBUaGlzIGlzIHNlbWFudGljYWxseSBl
cXVpdmFsZW50IHRvCisgKiBLVU5JVF9FWFBFQ1RfVFJVRShAdGVzdCwgKEBsZWZ0KSA+PSAoQHJp
Z2h0KSkuIFNlZSBLVU5JVF9FWFBFQ1RfVFJVRSgpIGZvcgorICogbW9yZSBpbmZvcm1hdGlvbi4K
KyAqLworI2RlZmluZSBLVU5JVF9FWFBFQ1RfR0UodGVzdCwgbGVmdCwgcmlnaHQpIFwKKwkJS1VO
SVRfRVhQRUNUX0JJTkFSWSh0ZXN0LCBsZWZ0LCA+PSwgcmlnaHQpCisKKyNkZWZpbmUgS1VOSVRf
RVhQRUNUX0dFX01TRyh0ZXN0LCBsZWZ0LCByaWdodCwgZm10LCAuLi4pCQkgICAgICAgXAorCQlL
VU5JVF9FWFBFQ1RfQklOQVJZX01TRyh0ZXN0LAkJCQkgICAgICAgXAorCQkJCQlsZWZ0LAkJCQkg
ICAgICAgXAorCQkJCQk+PSwJCQkJICAgICAgIFwKKwkJCQkJcmlnaHQsCQkJCSAgICAgICBcCisJ
CQkJCWZtdCwJCQkJICAgICAgIFwKKwkJCQkJIyNfX1ZBX0FSR1NfXykKKworLyoqCisgKiBLVU5J
VF9FWFBFQ1RfU1RSRVEoKSAtIEV4cGVjdHMgdGhhdCBzdHJpbmdzIEBsZWZ0IGFuZCBAcmlnaHQg
YXJlIGVxdWFsLgorICogQHRlc3Q6IFRoZSB0ZXN0IGNvbnRleHQgb2JqZWN0LgorICogQGxlZnQ6
IGFuIGFyYml0cmFyeSBleHByZXNzaW9uIHRoYXQgZXZhbHVhdGVzIHRvIGEgbnVsbCB0ZXJtaW5h
dGVkIHN0cmluZy4KKyAqIEByaWdodDogYW4gYXJiaXRyYXJ5IGV4cHJlc3Npb24gdGhhdCBldmFs
dWF0ZXMgdG8gYSBudWxsIHRlcm1pbmF0ZWQgc3RyaW5nLgorICoKKyAqIFNldHMgYW4gZXhwZWN0
YXRpb24gdGhhdCB0aGUgdmFsdWVzIHRoYXQgQGxlZnQgYW5kIEByaWdodCBldmFsdWF0ZSB0byBh
cmUKKyAqIGVxdWFsLiBUaGlzIGlzIHNlbWFudGljYWxseSBlcXVpdmFsZW50IHRvCisgKiBLVU5J
VF9FWFBFQ1RfVFJVRShAdGVzdCwgIXN0cmNtcCgoQGxlZnQpLCAoQHJpZ2h0KSkpLiBTZWUgS1VO
SVRfRVhQRUNUX1RSVUUoKQorICogZm9yIG1vcmUgaW5mb3JtYXRpb24uCisgKi8KKyNkZWZpbmUg
S1VOSVRfRVhQRUNUX1NUUkVRKHRlc3QsIGxlZnQsIHJpZ2h0KSBkbyB7CQkJICAgICAgIFwKKwlz
dHJ1Y3Qga3VuaXRfc3RyZWFtICpfX3N0cmVhbSA9IEtVTklUX0VYUEVDVF9TVEFSVCh0ZXN0KTsJ
ICAgICAgIFwKKwl0eXBlb2YobGVmdCkgX19sZWZ0ID0gKGxlZnQpOwkJCQkJICAgICAgIFwKKwl0
eXBlb2YocmlnaHQpIF9fcmlnaHQgPSAocmlnaHQpOwkJCQkgICAgICAgXAorCQkJCQkJCQkJICAg
ICAgIFwKKwlrdW5pdF9zdHJlYW1fYWRkKF9fc3RyZWFtLCAiRXhwZWN0ZWQgIiAjbGVmdCAiID09
ICIgI3JpZ2h0ICIsIGJ1dFxuIik7IFwKKwlrdW5pdF9zdHJlYW1fYWRkKF9fc3RyZWFtLCAiXHRc
dCVzID09ICVzXG4iLCAjbGVmdCwgX19sZWZ0KTsJICAgICAgIFwKKwlrdW5pdF9zdHJlYW1fYWRk
KF9fc3RyZWFtLCAiXHRcdCVzID09ICVzXG4iLCAjcmlnaHQsIF9fcmlnaHQpOwkgICAgICAgXAor
CQkJCQkJCQkJICAgICAgIFwKKwlLVU5JVF9FWFBFQ1RfRU5EKHRlc3QsICFzdHJjbXAobGVmdCwg
cmlnaHQpLCBfX3N0cmVhbSk7CQkgICAgICAgXAorfSB3aGlsZSAoMCkKKworI2RlZmluZSBLVU5J
VF9FWFBFQ1RfU1RSRVFfTVNHKHRlc3QsIGxlZnQsIHJpZ2h0LCBmbXQsIC4uLikgZG8gewkgICAg
ICAgXAorCXN0cnVjdCBrdW5pdF9zdHJlYW0gKl9fc3RyZWFtID0gS1VOSVRfRVhQRUNUX1NUQVJU
KHRlc3QpOwkgICAgICAgXAorCXR5cGVvZihsZWZ0KSBfX2xlZnQgPSAobGVmdCk7CQkJCQkgICAg
ICAgXAorCXR5cGVvZihyaWdodCkgX19yaWdodCA9IChyaWdodCk7CQkJCSAgICAgICBcCisJCQkJ
CQkJCQkgICAgICAgXAorCWt1bml0X3N0cmVhbV9hZGQoX19zdHJlYW0sICJFeHBlY3RlZCAiICNs
ZWZ0ICIgPT0gIiAjcmlnaHQgIiwgYnV0XG4iKTsgXAorCWt1bml0X3N0cmVhbV9hZGQoX19zdHJl
YW0sICJcdFx0JXMgPT0gJXNcbiIsICNsZWZ0LCBfX2xlZnQpOwkgICAgICAgXAorCWt1bml0X3N0
cmVhbV9hZGQoX19zdHJlYW0sICJcdFx0JXMgPT0gJXNcbiIsICNyaWdodCwgX19yaWdodCk7CSAg
ICAgICBcCisJa3VuaXRfc3RyZWFtX2FkZChfX3N0cmVhbSwgZm10LCAjI19fVkFfQVJHU19fKTsJ
CQkgICAgICAgXAorCQkJCQkJCQkJICAgICAgIFwKKwlLVU5JVF9FWFBFQ1RfRU5EKHRlc3QsICFz
dHJjbXAobGVmdCwgcmlnaHQpLCBfX3N0cmVhbSk7CQkgICAgICAgXAorfSB3aGlsZSAoMCkKKwor
LyoqCisgKiBLVU5JVF9FWFBFQ1RfU1RSTkVRKCkgLSBFeHBlY3RzIHRoYXQgc3RyaW5ncyBAbGVm
dCBhbmQgQHJpZ2h0IGFyZSBub3QgZXF1YWwuCisgKiBAdGVzdDogVGhlIHRlc3QgY29udGV4dCBv
YmplY3QuCisgKiBAbGVmdDogYW4gYXJiaXRyYXJ5IGV4cHJlc3Npb24gdGhhdCBldmFsdWF0ZXMg
dG8gYSBudWxsIHRlcm1pbmF0ZWQgc3RyaW5nLgorICogQHJpZ2h0OiBhbiBhcmJpdHJhcnkgZXhw
cmVzc2lvbiB0aGF0IGV2YWx1YXRlcyB0byBhIG51bGwgdGVybWluYXRlZCBzdHJpbmcuCisgKgor
ICogU2V0cyBhbiBleHBlY3RhdGlvbiB0aGF0IHRoZSB2YWx1ZXMgdGhhdCBAbGVmdCBhbmQgQHJp
Z2h0IGV2YWx1YXRlIHRvIGFyZQorICogbm90IGVxdWFsLiBUaGlzIGlzIHNlbWFudGljYWxseSBl
cXVpdmFsZW50IHRvCisgKiBLVU5JVF9FWFBFQ1RfVFJVRShAdGVzdCwgc3RyY21wKChAbGVmdCks
IChAcmlnaHQpKSkuIFNlZSBLVU5JVF9FWFBFQ1RfVFJVRSgpCisgKiBmb3IgbW9yZSBpbmZvcm1h
dGlvbi4KKyAqLworI2RlZmluZSBLVU5JVF9FWFBFQ1RfU1RSTkVRKHRlc3QsIGxlZnQsIHJpZ2h0
KSBkbyB7CQkJICAgICAgIFwKKwlzdHJ1Y3Qga3VuaXRfc3RyZWFtICpfX3N0cmVhbSA9IEtVTklU
X0VYUEVDVF9TVEFSVCh0ZXN0KTsJICAgICAgIFwKKwl0eXBlb2YobGVmdCkgX19sZWZ0ID0gKGxl
ZnQpOwkJCQkJICAgICAgIFwKKwl0eXBlb2YocmlnaHQpIF9fcmlnaHQgPSAocmlnaHQpOwkJCQkg
ICAgICAgXAorCQkJCQkJCQkJICAgICAgIFwKKwlrdW5pdF9zdHJlYW1fYWRkKF9fc3RyZWFtLCAi
RXhwZWN0ZWQgIiAjbGVmdCAiICE9ICIgI3JpZ2h0ICIsIGJ1dFxuIik7IFwKKwlrdW5pdF9zdHJl
YW1fYWRkKF9fc3RyZWFtLCAiXHRcdCVzID09ICVzXG4iLCAjbGVmdCwgX19sZWZ0KTsJICAgICAg
IFwKKwlrdW5pdF9zdHJlYW1fYWRkKF9fc3RyZWFtLCAiXHRcdCVzID09ICVzXG4iLCAjcmlnaHQs
IF9fcmlnaHQpOwkgICAgICAgXAorCQkJCQkJCQkJICAgICAgIFwKKwlLVU5JVF9FWFBFQ1RfRU5E
KHRlc3QsIHN0cmNtcChsZWZ0LCByaWdodCksIF9fc3RyZWFtKTsJCSAgICAgICBcCit9IHdoaWxl
ICgwKQorCisjZGVmaW5lIEtVTklUX0VYUEVDVF9TVFJORVFfTVNHKHRlc3QsIGxlZnQsIHJpZ2h0
LCBmbXQsIC4uLikgZG8gewkgICAgICAgXAorCXN0cnVjdCBrdW5pdF9zdHJlYW0gKl9fc3RyZWFt
ID0gS1VOSVRfRVhQRUNUX1NUQVJUKHRlc3QpOwkgICAgICAgXAorCXR5cGVvZihsZWZ0KSBfX2xl
ZnQgPSAobGVmdCk7CQkJCQkgICAgICAgXAorCXR5cGVvZihyaWdodCkgX19yaWdodCA9IChyaWdo
dCk7CQkJCSAgICAgICBcCisJCQkJCQkJCQkgICAgICAgXAorCWt1bml0X3N0cmVhbV9hZGQoX19z
dHJlYW0sICJFeHBlY3RlZCAiICNsZWZ0ICIgIT0gIiAjcmlnaHQgIiwgYnV0XG4iKTsgXAorCWt1
bml0X3N0cmVhbV9hZGQoX19zdHJlYW0sICJcdFx0JXMgPT0gJXNcbiIsICNsZWZ0LCBfX2xlZnQp
OwkgICAgICAgXAorCWt1bml0X3N0cmVhbV9hZGQoX19zdHJlYW0sICJcdFx0JXMgPT0gJXNcbiIs
ICNyaWdodCwgX19yaWdodCk7CSAgICAgICBcCisJa3VuaXRfc3RyZWFtX2FkZChfX3N0cmVhbSwg
Zm10LCAjI19fVkFfQVJHU19fKTsJCQkgICAgICAgXAorCQkJCQkJCQkJICAgICAgIFwKKwlLVU5J
VF9FWFBFQ1RfRU5EKHRlc3QsIHN0cmNtcChsZWZ0LCByaWdodCksIF9fc3RyZWFtKTsJCSAgICAg
ICBcCit9IHdoaWxlICgwKQorCisvKioKKyAqIEtVTklUX0VYUEVDVF9OT1RfRVJSX09SX05VTEwo
KSAtIEV4cGVjdHMgdGhhdCBAcHRyIGlzIG5vdCBudWxsIGFuZCBub3QgZXJyLgorICogQHRlc3Q6
IFRoZSB0ZXN0IGNvbnRleHQgb2JqZWN0LgorICogQHB0cjogYW4gYXJiaXRyYXJ5IHBvaW50ZXIu
CisgKgorICogU2V0cyBhbiBleHBlY3RhdGlvbiB0aGF0IHRoZSB2YWx1ZSB0aGF0IEBwdHIgZXZh
bHVhdGVzIHRvIGlzIG5vdCBudWxsIGFuZCBub3QKKyAqIGFuIGVycm5vIHN0b3JlZCBpbiBhIHBv
aW50ZXIuIFRoaXMgaXMgc2VtYW50aWNhbGx5IGVxdWl2YWxlbnQgdG8KKyAqIEtVTklUX0VYUEVD
VF9UUlVFKEB0ZXN0LCAhSVNfRVJSX09SX05VTEwoQHB0cikpLiBTZWUgS1VOSVRfRVhQRUNUX1RS
VUUoKSBmb3IKKyAqIG1vcmUgaW5mb3JtYXRpb24uCisgKi8KKyNkZWZpbmUgS1VOSVRfRVhQRUNU
X05PVF9FUlJfT1JfTlVMTCh0ZXN0LCBwdHIpIGRvIHsJCQkgICAgICAgXAorCXN0cnVjdCBrdW5p
dF9zdHJlYW0gKl9fc3RyZWFtID0gS1VOSVRfRVhQRUNUX1NUQVJUKHRlc3QpOwkgICAgICAgXAor
CXR5cGVvZihwdHIpIF9fcHRyID0gKHB0cik7CQkJCQkgICAgICAgXAorCQkJCQkJCQkJICAgICAg
IFwKKwlpZiAoIV9fcHRyKQkJCQkJCQkgICAgICAgXAorCQlrdW5pdF9zdHJlYW1fYWRkKF9fc3Ry
ZWFtLAkJCQkgICAgICAgXAorCQkJICAgICAgIkV4cGVjdGVkICIgI3B0ciAiIGlzIG5vdCBudWxs
LCBidXQgaXMuIik7ICAgICAgIFwKKwlpZiAoSVNfRVJSKF9fcHRyKSkJCQkJCQkgICAgICAgXAor
CQlrdW5pdF9zdHJlYW1fYWRkKF9fc3RyZWFtLAkJCQkgICAgICAgXAorCQkJICAgICAgIkV4cGVj
dGVkICIgI3B0ciAiIGlzIG5vdCBlcnJvciwgYnV0IGlzOiAlbGQiLCAgIFwKKwkJCSAgICAgIFBU
Ul9FUlIoX19wdHIpKTsJCQkJICAgICAgIFwKKwkJCQkJCQkJCSAgICAgICBcCisJS1VOSVRfRVhQ
RUNUX0VORCh0ZXN0LCAhSVNfRVJSX09SX05VTEwoX19wdHIpLCBfX3N0cmVhbSk7CSAgICAgICBc
Cit9IHdoaWxlICgwKQorCisjZGVmaW5lIEtVTklUX0VYUEVDVF9OT1RfRVJSX09SX05VTExfTVNH
KHRlc3QsIHB0ciwgZm10LCAuLi4pIGRvIHsJICAgICAgIFwKKwlzdHJ1Y3Qga3VuaXRfc3RyZWFt
ICpfX3N0cmVhbSA9IEtVTklUX0VYUEVDVF9TVEFSVCh0ZXN0KTsJICAgICAgIFwKKwl0eXBlb2Yo
cHRyKSBfX3B0ciA9IChwdHIpOwkJCQkJICAgICAgIFwKKwkJCQkJCQkJCSAgICAgICBcCisJaWYg
KCFfX3B0cikgewkJCQkJCQkgICAgICAgXAorCQlrdW5pdF9zdHJlYW1fYWRkKF9fc3RyZWFtLAkJ
CQkgICAgICAgXAorCQkJICAgICAgIkV4cGVjdGVkICIgI3B0ciAiIGlzIG5vdCBudWxsLCBidXQg
aXMuIik7ICAgICAgIFwKKwkJa3VuaXRfc3RyZWFtX2FkZChfX3N0cmVhbSwgZm10LCAjI19fVkFf
QVJHU19fKTsJCSAgICAgICBcCisJfQkJCQkJCQkJICAgICAgIFwKKwlpZiAoSVNfRVJSKF9fcHRy
KSkgewkJCQkJCSAgICAgICBcCisJCWt1bml0X3N0cmVhbV9hZGQoX19zdHJlYW0sCQkJCSAgICAg
ICBcCisJCQkgICAgICAiRXhwZWN0ZWQgIiAjcHRyICIgaXMgbm90IGVycm9yLCBidXQgaXM6ICVs
ZCIsICAgXAorCQkJICAgICAgUFRSX0VSUihfX3B0cikpOwkJCQkgICAgICAgXAorCQkJCQkJCQkJ
ICAgICAgIFwKKwkJa3VuaXRfc3RyZWFtX2FkZChfX3N0cmVhbSwgZm10LCAjI19fVkFfQVJHU19f
KTsJCSAgICAgICBcCisJfQkJCQkJCQkJICAgICAgIFwKKwlLVU5JVF9FWFBFQ1RfRU5EKHRlc3Qs
ICFJU19FUlJfT1JfTlVMTChfX3B0ciksIF9fc3RyZWFtKTsJICAgICAgIFwKK30gd2hpbGUgKDAp
CisKICNlbmRpZiAvKiBfS1VOSVRfVEVTVF9IICovCmRpZmYgLS1naXQgYS9rdW5pdC90ZXN0LmMg
Yi9rdW5pdC90ZXN0LmMKaW5kZXggMGJiNmY1M2E3Zjg3ZS4uZTA3MjdhZmI1ZDhhOSAxMDA2NDQK
LS0tIGEva3VuaXQvdGVzdC5jCisrKyBiL2t1bml0L3Rlc3QuYwpAQCAtMzI5LDMgKzMyOSw2OSBA
QCB2b2lkIGt1bml0X3ByaW50ayhjb25zdCBjaGFyICpsZXZlbCwKIAogCXZhX2VuZChhcmdzKTsK
IH0KKwordm9pZCBrdW5pdF9leHBlY3RfYmluYXJ5X21zZyhzdHJ1Y3Qga3VuaXQgKnRlc3QsCisJ
CQkgICAgIGxvbmcgbG9uZyBsZWZ0LCBjb25zdCBjaGFyICpsZWZ0X25hbWUsCisJCQkgICAgIGxv
bmcgbG9uZyByaWdodCwgY29uc3QgY2hhciAqcmlnaHRfbmFtZSwKKwkJCSAgICAgYm9vbCBjb21w
YXJlX3Jlc3VsdCwKKwkJCSAgICAgY29uc3QgY2hhciAqY29tcGFyZV9uYW1lLAorCQkJICAgICBj
b25zdCBjaGFyICpmaWxlLAorCQkJICAgICBjb25zdCBjaGFyICpsaW5lLAorCQkJICAgICBjb25z
dCBjaGFyICpmbXQsIC4uLikKK3sKKwlzdHJ1Y3Qga3VuaXRfc3RyZWFtICpzdHJlYW0gPSBrdW5p
dF9leHBlY3Rfc3RhcnQodGVzdCwgZmlsZSwgbGluZSk7CisJc3RydWN0IHZhX2Zvcm1hdCB2YWY7
CisJdmFfbGlzdCBhcmdzOworCisJa3VuaXRfc3RyZWFtX2FkZChzdHJlYW0sCisJCQkgIkV4cGVj
dGVkICVzICVzICVzLCBidXRcbiIsCisJCQkgbGVmdF9uYW1lLCBjb21wYXJlX25hbWUsIHJpZ2h0
X25hbWUpOworCWt1bml0X3N0cmVhbV9hZGQoc3RyZWFtLCAiXHRcdCVzID09ICVsbGRcbiIsIGxl
ZnRfbmFtZSwgbGVmdCk7CisJa3VuaXRfc3RyZWFtX2FkZChzdHJlYW0sICJcdFx0JXMgPT0gJWxs
ZCIsIHJpZ2h0X25hbWUsIHJpZ2h0KTsKKworCWlmIChmbXQpIHsKKwkJdmFfc3RhcnQoYXJncywg
Zm10KTsKKworCQl2YWYuZm10ID0gZm10OworCQl2YWYudmEgPSAmYXJnczsKKworCQlrdW5pdF9z
dHJlYW1fYWRkKHN0cmVhbSwgIlxuJXBWIiwgJnZhZik7CisKKwkJdmFfZW5kKGFyZ3MpOworCX0K
KworCWt1bml0X2V4cGVjdF9lbmQodGVzdCwgY29tcGFyZV9yZXN1bHQsIHN0cmVhbSk7Cit9CisK
K3ZvaWQga3VuaXRfZXhwZWN0X3B0cl9iaW5hcnlfbXNnKHN0cnVjdCBrdW5pdCAqdGVzdCwKKwkJ
CQkgdm9pZCAqbGVmdCwgY29uc3QgY2hhciAqbGVmdF9uYW1lLAorCQkJCSB2b2lkICpyaWdodCwg
Y29uc3QgY2hhciAqcmlnaHRfbmFtZSwKKwkJCQkgYm9vbCBjb21wYXJlX3Jlc3VsdCwKKwkJCQkg
Y29uc3QgY2hhciAqY29tcGFyZV9uYW1lLAorCQkJCSBjb25zdCBjaGFyICpmaWxlLAorCQkJCSBj
b25zdCBjaGFyICpsaW5lLAorCQkJCSBjb25zdCBjaGFyICpmbXQsIC4uLikKK3sKKwlzdHJ1Y3Qg
a3VuaXRfc3RyZWFtICpzdHJlYW0gPSBrdW5pdF9leHBlY3Rfc3RhcnQodGVzdCwgZmlsZSwgbGlu
ZSk7CisJc3RydWN0IHZhX2Zvcm1hdCB2YWY7CisJdmFfbGlzdCBhcmdzOworCisJa3VuaXRfc3Ry
ZWFtX2FkZChzdHJlYW0sCisJCQkgIkV4cGVjdGVkICVzICVzICVzLCBidXRcbiIsCisJCQkgbGVm
dF9uYW1lLCBjb21wYXJlX25hbWUsIHJpZ2h0X25hbWUpOworCWt1bml0X3N0cmVhbV9hZGQoc3Ry
ZWFtLCAiXHRcdCVzID09ICVwS1xuIiwgbGVmdF9uYW1lLCBsZWZ0KTsKKwlrdW5pdF9zdHJlYW1f
YWRkKHN0cmVhbSwgIlx0XHQlcyA9PSAlcEsiLCByaWdodF9uYW1lLCByaWdodCk7CisKKwlpZiAo
Zm10KSB7CisJCXZhX3N0YXJ0KGFyZ3MsIGZtdCk7CisKKwkJdmFmLmZtdCA9IGZtdDsKKwkJdmFm
LnZhID0gJmFyZ3M7CisKKwkJa3VuaXRfc3RyZWFtX2FkZChzdHJlYW0sICJcbiVwViIsICZ2YWYp
OworCisJCXZhX2VuZChhcmdzKTsKKwl9CisKKwlrdW5pdF9leHBlY3RfZW5kKHRlc3QsIGNvbXBh
cmVfcmVzdWx0LCBzdHJlYW0pOworfQotLSAKMi4yMS4wLjEwMjAuZ2YyODIwY2YwMWEtZ29vZwoK
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVs
IG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlz
dHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
