Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 3ACAAEF9E8
	for <lists+dri-devel@lfdr.de>; Tue,  5 Nov 2019 10:47:40 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3F6546E97F;
	Tue,  5 Nov 2019 09:47:38 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from us-smtp-delivery-1.mimecast.com (us-smtp-1.mimecast.com
 [205.139.110.61])
 by gabe.freedesktop.org (Postfix) with ESMTPS id ECC0B6E97F
 for <dri-devel@lists.freedesktop.org>; Tue,  5 Nov 2019 09:47:35 +0000 (UTC)
Received: from mimecast-mx01.redhat.com (mimecast-mx01.redhat.com
 [209.132.183.4]) (Using TLS) by relay.mimecast.com with ESMTP id
 us-mta-46-RxtztDTkO-6lwAaNTGeb4g-1; Tue, 05 Nov 2019 04:47:28 -0500
Received: from smtp.corp.redhat.com (int-mx04.intmail.prod.int.phx2.redhat.com
 [10.5.11.14])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mimecast-mx01.redhat.com (Postfix) with ESMTPS id 2DC5E1005500;
 Tue,  5 Nov 2019 09:47:27 +0000 (UTC)
Received: from sirius.home.kraxel.org (ovpn-116-69.ams2.redhat.com
 [10.36.116.69])
 by smtp.corp.redhat.com (Postfix) with ESMTP id 54DBA5D9C9;
 Tue,  5 Nov 2019 09:47:26 +0000 (UTC)
Received: by sirius.home.kraxel.org (Postfix, from userid 1000)
 id 6F35516E08; Tue,  5 Nov 2019 10:47:25 +0100 (CET)
Date: Tue, 5 Nov 2019 10:47:25 +0100
From: Gerd Hoffmann <kraxel@redhat.com>
To: Thomas Zimmermann <tzimmermann@suse.de>
Subject: Re: [PATCH 5/9] drm/ast: Split ast_set_vbios_mode_info()
Message-ID: <20191105094725.qompqqc7vtjbhhzz@sirius.home.kraxel.org>
References: <20191028154928.4058-1-tzimmermann@suse.de>
 <20191028154928.4058-6-tzimmermann@suse.de>
MIME-Version: 1.0
In-Reply-To: <20191028154928.4058-6-tzimmermann@suse.de>
User-Agent: NeoMutt/20180716
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.14
X-MC-Unique: RxtztDTkO-6lwAaNTGeb4g-1
X-Mimecast-Spam-Score: 0
Content-Disposition: inline
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=redhat.com; 
 s=mimecast20190719; t=1572947255;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=0JxMwPjIxda7imFkUVVzrL/9JG1+dX9WIT/1unp7gDM=;
 b=Ti+Tchsz1rRxVkFvn2w0mEikWCSc30eFZrAmU2CkWtKSrqj9k27IsDRmp64BkwBsPY0iRT
 6JSRwoM0Ip5FpGfWs0kyXn3+JNUhPtH37OPQrdZqLBsoqyLj2kVRs2TRfWa4fatusSBdJK
 +7drXKzr3QMXK2IE1wlAIFbBbY9Ampo=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: airlied@redhat.com, chen@aspeedtech.com, sam@ravnborg.org,
 dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gTW9uLCBPY3QgMjgsIDIwMTkgYXQgMDQ6NDk6MjRQTSArMDEwMCwgVGhvbWFzIFppbW1lcm1h
bm4gd3JvdGU6Cj4gVGhlIGltcGxlbWVudGF0aW9uIG9mIGFzdF9zZXRfdmJpb3NfbW9kZSgpIGNv
bnZlcnRzIGEgRFJNIGRpc3BsYXkgbW9kZQo+IGFuZCBmcmFtZWJ1ZmZlciBpbnRvIGFuIGFkanVz
dGVkIG1vZGUgYW5kIHN0b3JlcyBpbmZvcm1hdGlvbiBmb3IgdGhlCj4gdmlkZW8gQklPUyB0byBz
ZXZlcmFsIHNjcmF0Y2ggcmVnc2l0ZXJzLgo+IAo+IEhlcmUgd2Ugc3BsaXQgdGhlIGZ1bmN0aW9u
IGludG8gaW5kaXZpZHVhbCBmdW5jdGlvbnMgdGhhdCBkbyB0aGUKPiBjb252ZXJzaW9uLCBzZXQg
dGhlIFZCSU9TIG1vZGUgaW5mb3JtYXRpb24gYW5kIGZvcm1hdCBpbmZvcm1hdGlvbi4KPiBUaGlz
IG1ha2VzIGl0IGNvbXBhdGlibGUgd2l0aCBzdXBwb3J0IGZvciBwcmltYXJ5IHBsYW5lcyBhbmQg
YXRvbWljCj4gbW9kZXNldHRpbmcuCgpBY2tlZC1ieTogR2VyZCBIb2ZmbWFubiA8a3JheGVsQHJl
ZGhhdC5jb20+Cgo+IAo+IFNpZ25lZC1vZmYtYnk6IFRob21hcyBaaW1tZXJtYW5uIDx0emltbWVy
bWFubkBzdXNlLmRlPgo+IC0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vYXN0L2FzdF9tb2RlLmMgfCAx
MTEgKysrKysrKysrKysrKysrKysrKysrLS0tLS0tLS0tLS0tCj4gIDEgZmlsZSBjaGFuZ2VkLCA3
MiBpbnNlcnRpb25zKCspLCAzOSBkZWxldGlvbnMoLSkKPiAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2FzdC9hc3RfbW9kZS5jIGIvZHJpdmVycy9ncHUvZHJtL2FzdC9hc3RfbW9kZS5j
Cj4gaW5kZXggNWZlYjY4NzE5MWUwLi5jNGM5ZmNhMGYwMGMgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2FzdC9hc3RfbW9kZS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FzdC9hc3Rf
bW9kZS5jCj4gQEAgLTgyLDEzICs4MiwxMiBAQCBzdGF0aWMgdm9pZCBhc3RfY3J0Y19sb2FkX2x1
dChzdHJ1Y3QgZHJtX2NydGMgKmNydGMpCj4gIAkJYXN0X2xvYWRfcGFsZXR0ZV9pbmRleChhc3Qs
IGksICpyKysgPj4gOCwgKmcrKyA+PiA4LCAqYisrID4+IDgpOwo+ICB9Cj4gIAo+IC1zdGF0aWMg
Ym9vbCBhc3RfZ2V0X3ZiaW9zX21vZGVfaW5mbyhzdHJ1Y3QgZHJtX2NydGMgKmNydGMsIHN0cnVj
dCBkcm1fZGlzcGxheV9tb2RlICptb2RlLAo+ICtzdGF0aWMgYm9vbCBhc3RfZ2V0X3ZiaW9zX21v
ZGVfaW5mbyhjb25zdCBzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpmYiwKPiArCQkJCSAgICBjb25z
dCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZSwKPiAgCQkJCSAgICBzdHJ1Y3QgZHJtX2Rp
c3BsYXlfbW9kZSAqYWRqdXN0ZWRfbW9kZSwKPiAgCQkJCSAgICBzdHJ1Y3QgYXN0X3ZiaW9zX21v
ZGVfaW5mbyAqdmJpb3NfbW9kZSkKPiAgewo+IC0Jc3RydWN0IGFzdF9wcml2YXRlICphc3QgPSBj
cnRjLT5kZXYtPmRldl9wcml2YXRlOwo+IC0JY29uc3Qgc3RydWN0IGRybV9mcmFtZWJ1ZmZlciAq
ZmIgPSBjcnRjLT5wcmltYXJ5LT5mYjsKPiAtCXUzMiByZWZyZXNoX3JhdGVfaW5kZXggPSAwLCBt
b2RlX2lkLCBjb2xvcl9pbmRleCwgcmVmcmVzaF9yYXRlOwo+ICsJdTMyIHJlZnJlc2hfcmF0ZV9p
bmRleCA9IDAsIHJlZnJlc2hfcmF0ZTsKPiAgCWNvbnN0IHN0cnVjdCBhc3RfdmJpb3NfZW5odGFi
bGUgKmJlc3QgPSBOVUxMOwo+ICAJdTMyIGhib3JkZXIsIHZib3JkZXI7Cj4gIAlib29sIGNoZWNr
X3N5bmM7Cj4gQEAgLTk2LDIyICs5NSwxOSBAQCBzdGF0aWMgYm9vbCBhc3RfZ2V0X3ZiaW9zX21v
ZGVfaW5mbyhzdHJ1Y3QgZHJtX2NydGMgKmNydGMsIHN0cnVjdCBkcm1fZGlzcGxheV9tbwo+ICAJ
c3dpdGNoIChmYi0+Zm9ybWF0LT5jcHBbMF0gKiA4KSB7Cj4gIAljYXNlIDg6Cj4gIAkJdmJpb3Nf
bW9kZS0+c3RkX3RhYmxlID0gJnZiaW9zX3N0ZHRhYmxlW1ZHQU1vZGVJbmRleF07Cj4gLQkJY29s
b3JfaW5kZXggPSBWR0FNb2RlSW5kZXggLSAxOwo+ICAJCWJyZWFrOwo+ICAJY2FzZSAxNjoKPiAg
CQl2Ymlvc19tb2RlLT5zdGRfdGFibGUgPSAmdmJpb3Nfc3RkdGFibGVbSGlDTW9kZUluZGV4XTsK
PiAtCQljb2xvcl9pbmRleCA9IEhpQ01vZGVJbmRleDsKPiAgCQlicmVhazsKPiAgCWNhc2UgMjQ6
Cj4gIAljYXNlIDMyOgo+ICAJCXZiaW9zX21vZGUtPnN0ZF90YWJsZSA9ICZ2Ymlvc19zdGR0YWJs
ZVtUcnVlQ01vZGVJbmRleF07Cj4gLQkJY29sb3JfaW5kZXggPSBUcnVlQ01vZGVJbmRleDsKPiAg
CQlicmVhazsKPiAgCWRlZmF1bHQ6Cj4gIAkJcmV0dXJuIGZhbHNlOwo+ICAJfQo+ICAKPiAtCXN3
aXRjaCAoY3J0Yy0+bW9kZS5jcnRjX2hkaXNwbGF5KSB7Cj4gKwlzd2l0Y2ggKG1vZGUtPmNydGNf
aGRpc3BsYXkpIHsKPiAgCWNhc2UgNjQwOgo+ICAJCXZiaW9zX21vZGUtPmVuaF90YWJsZSA9ICZy
ZXNfNjQweDQ4MFtyZWZyZXNoX3JhdGVfaW5kZXhdOwo+ICAJCWJyZWFrOwo+IEBAIC0xMjIsNyAr
MTE4LDcgQEAgc3RhdGljIGJvb2wgYXN0X2dldF92Ymlvc19tb2RlX2luZm8oc3RydWN0IGRybV9j
cnRjICpjcnRjLCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW8KPiAgCQl2Ymlvc19tb2RlLT5lbmhfdGFi
bGUgPSAmcmVzXzEwMjR4NzY4W3JlZnJlc2hfcmF0ZV9pbmRleF07Cj4gIAkJYnJlYWs7Cj4gIAlj
YXNlIDEyODA6Cj4gLQkJaWYgKGNydGMtPm1vZGUuY3J0Y192ZGlzcGxheSA9PSA4MDApCj4gKwkJ
aWYgKG1vZGUtPmNydGNfdmRpc3BsYXkgPT0gODAwKQo+ICAJCQl2Ymlvc19tb2RlLT5lbmhfdGFi
bGUgPSAmcmVzXzEyODB4ODAwW3JlZnJlc2hfcmF0ZV9pbmRleF07Cj4gIAkJZWxzZQo+ICAJCQl2
Ymlvc19tb2RlLT5lbmhfdGFibGUgPSAmcmVzXzEyODB4MTAyNFtyZWZyZXNoX3JhdGVfaW5kZXhd
Owo+IEBAIC0xMzQsNyArMTMwLDcgQEAgc3RhdGljIGJvb2wgYXN0X2dldF92Ymlvc19tb2RlX2lu
Zm8oc3RydWN0IGRybV9jcnRjICpjcnRjLCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW8KPiAgCQl2Ymlv
c19tb2RlLT5lbmhfdGFibGUgPSAmcmVzXzE0NDB4OTAwW3JlZnJlc2hfcmF0ZV9pbmRleF07Cj4g
IAkJYnJlYWs7Cj4gIAljYXNlIDE2MDA6Cj4gLQkJaWYgKGNydGMtPm1vZGUuY3J0Y192ZGlzcGxh
eSA9PSA5MDApCj4gKwkJaWYgKG1vZGUtPmNydGNfdmRpc3BsYXkgPT0gOTAwKQo+ICAJCQl2Ymlv
c19tb2RlLT5lbmhfdGFibGUgPSAmcmVzXzE2MDB4OTAwW3JlZnJlc2hfcmF0ZV9pbmRleF07Cj4g
IAkJZWxzZQo+ICAJCQl2Ymlvc19tb2RlLT5lbmhfdGFibGUgPSAmcmVzXzE2MDB4MTIwMFtyZWZy
ZXNoX3JhdGVfaW5kZXhdOwo+IEBAIC0xNDMsNyArMTM5LDcgQEAgc3RhdGljIGJvb2wgYXN0X2dl
dF92Ymlvc19tb2RlX2luZm8oc3RydWN0IGRybV9jcnRjICpjcnRjLCBzdHJ1Y3QgZHJtX2Rpc3Bs
YXlfbW8KPiAgCQl2Ymlvc19tb2RlLT5lbmhfdGFibGUgPSAmcmVzXzE2ODB4MTA1MFtyZWZyZXNo
X3JhdGVfaW5kZXhdOwo+ICAJCWJyZWFrOwo+ICAJY2FzZSAxOTIwOgo+IC0JCWlmIChjcnRjLT5t
b2RlLmNydGNfdmRpc3BsYXkgPT0gMTA4MCkKPiArCQlpZiAobW9kZS0+Y3J0Y192ZGlzcGxheSA9
PSAxMDgwKQo+ICAJCQl2Ymlvc19tb2RlLT5lbmhfdGFibGUgPSAmcmVzXzE5MjB4MTA4MFtyZWZy
ZXNoX3JhdGVfaW5kZXhdOwo+ICAJCWVsc2UKPiAgCQkJdmJpb3NfbW9kZS0+ZW5oX3RhYmxlID0g
JnJlc18xOTIweDEyMDBbcmVmcmVzaF9yYXRlX2luZGV4XTsKPiBAQCAtMTU0LDcgKzE1MCw4IEBA
IHN0YXRpYyBib29sIGFzdF9nZXRfdmJpb3NfbW9kZV9pbmZvKHN0cnVjdCBkcm1fY3J0YyAqY3J0
Yywgc3RydWN0IGRybV9kaXNwbGF5X21vCj4gIAo+ICAJcmVmcmVzaF9yYXRlID0gZHJtX21vZGVf
dnJlZnJlc2gobW9kZSk7Cj4gIAljaGVja19zeW5jID0gdmJpb3NfbW9kZS0+ZW5oX3RhYmxlLT5m
bGFncyAmIFdpZGVTY3JlZW5Nb2RlOwo+IC0JZG8gewo+ICsKPiArCXdoaWxlICgxKSB7Cj4gIAkJ
Y29uc3Qgc3RydWN0IGFzdF92Ymlvc19lbmh0YWJsZSAqbG9vcCA9IHZiaW9zX21vZGUtPmVuaF90
YWJsZTsKPiAgCj4gIAkJd2hpbGUgKGxvb3AtPnJlZnJlc2hfcmF0ZSAhPSAweGZmKSB7Cj4gQEAg
LTE3OCw3ICsxNzUsOCBAQCBzdGF0aWMgYm9vbCBhc3RfZ2V0X3ZiaW9zX21vZGVfaW5mbyhzdHJ1
Y3QgZHJtX2NydGMgKmNydGMsIHN0cnVjdCBkcm1fZGlzcGxheV9tbwo+ICAJCWlmIChiZXN0IHx8
ICFjaGVja19zeW5jKQo+ICAJCQlicmVhazsKPiAgCQljaGVja19zeW5jID0gMDsKPiAtCX0gd2hp
bGUgKDEpOwo+ICsJfQo+ICsKPiAgCWlmIChiZXN0KQo+ICAJCXZiaW9zX21vZGUtPmVuaF90YWJs
ZSA9IGJlc3Q7Cj4gIAo+IEBAIC0yMDMsMzQgKzIwMSw2NSBAQCBzdGF0aWMgYm9vbCBhc3RfZ2V0
X3ZiaW9zX21vZGVfaW5mbyhzdHJ1Y3QgZHJtX2NydGMgKmNydGMsIHN0cnVjdCBkcm1fZGlzcGxh
eV9tbwo+ICAJCQkJCSB2Ymlvc19tb2RlLT5lbmhfdGFibGUtPnZmcCArCj4gIAkJCQkJIHZiaW9z
X21vZGUtPmVuaF90YWJsZS0+dnN5bmMpOwo+ICAKPiAtCXJlZnJlc2hfcmF0ZV9pbmRleCA9IHZi
aW9zX21vZGUtPmVuaF90YWJsZS0+cmVmcmVzaF9yYXRlX2luZGV4Owo+IC0JbW9kZV9pZCA9IHZi
aW9zX21vZGUtPmVuaF90YWJsZS0+bW9kZV9pZDsKPiArCXJldHVybiB0cnVlOwo+ICt9Cj4gIAo+
IC0JaWYgKGFzdC0+Y2hpcCA9PSBBU1QxMTgwKSB7Cj4gLQkJLyogVE9ETyAxMTgwICovCj4gLQl9
IGVsc2Ugewo+IC0JCWFzdF9zZXRfaW5kZXhfcmVnKGFzdCwgQVNUX0lPX0NSVENfUE9SVCwgMHg4
YywgKHU4KSgoY29sb3JfaW5kZXggJiAweGYpIDw8IDQpKTsKPiAtCQlhc3Rfc2V0X2luZGV4X3Jl
Zyhhc3QsIEFTVF9JT19DUlRDX1BPUlQsIDB4OGQsIHJlZnJlc2hfcmF0ZV9pbmRleCAmIDB4ZmYp
Owo+IC0JCWFzdF9zZXRfaW5kZXhfcmVnKGFzdCwgQVNUX0lPX0NSVENfUE9SVCwgMHg4ZSwgbW9k
ZV9pZCAmIDB4ZmYpOwo+IC0KPiAtCQlhc3Rfc2V0X2luZGV4X3JlZyhhc3QsIEFTVF9JT19DUlRD
X1BPUlQsIDB4OTEsIDB4MDApOwo+IC0JCWlmICh2Ymlvc19tb2RlLT5lbmhfdGFibGUtPmZsYWdz
ICYgTmV3TW9kZUluZm8pIHsKPiAtCQkJYXN0X3NldF9pbmRleF9yZWcoYXN0LCBBU1RfSU9fQ1JU
Q19QT1JULCAweDkxLCAweGE4KTsKPiAtCQkJYXN0X3NldF9pbmRleF9yZWcoYXN0LCBBU1RfSU9f
Q1JUQ19QT1JULCAweDkyLAo+IC0JCQkJCSAgZmItPmZvcm1hdC0+Y3BwWzBdICogOCk7Cj4gLQkJ
CWFzdF9zZXRfaW5kZXhfcmVnKGFzdCwgQVNUX0lPX0NSVENfUE9SVCwgMHg5MywgYWRqdXN0ZWRf
bW9kZS0+Y2xvY2sgLyAxMDAwKTsKPiAtCQkJYXN0X3NldF9pbmRleF9yZWcoYXN0LCBBU1RfSU9f
Q1JUQ19QT1JULCAweDk0LCBhZGp1c3RlZF9tb2RlLT5jcnRjX2hkaXNwbGF5KTsKPiAtCQkJYXN0
X3NldF9pbmRleF9yZWcoYXN0LCBBU1RfSU9fQ1JUQ19QT1JULCAweDk1LCBhZGp1c3RlZF9tb2Rl
LT5jcnRjX2hkaXNwbGF5ID4+IDgpOwo+IC0KPiAtCQkJYXN0X3NldF9pbmRleF9yZWcoYXN0LCBB
U1RfSU9fQ1JUQ19QT1JULCAweDk2LCBhZGp1c3RlZF9tb2RlLT5jcnRjX3ZkaXNwbGF5KTsKPiAt
CQkJYXN0X3NldF9pbmRleF9yZWcoYXN0LCBBU1RfSU9fQ1JUQ19QT1JULCAweDk3LCBhZGp1c3Rl
ZF9tb2RlLT5jcnRjX3ZkaXNwbGF5ID4+IDgpOwo+IC0JCX0KPiArc3RhdGljIHZvaWQgYXN0X3Nl
dF92Ymlvc19jb2xvcl9yZWcoc3RydWN0IGRybV9jcnRjICpjcnRjLAo+ICsJCQkJICAgIGNvbnN0
IHN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZiLAo+ICsJCQkJICAgIGNvbnN0IHN0cnVjdCBhc3Rf
dmJpb3NfbW9kZV9pbmZvICp2Ymlvc19tb2RlKQo+ICt7Cj4gKwlzdHJ1Y3QgYXN0X3ByaXZhdGUg
KmFzdCA9IGNydGMtPmRldi0+ZGV2X3ByaXZhdGU7Cj4gKwl1MzIgY29sb3JfaW5kZXg7Cj4gKwo+
ICsJc3dpdGNoIChmYi0+Zm9ybWF0LT5jcHBbMF0pIHsKPiArCWNhc2UgMToKPiArCQljb2xvcl9p
bmRleCA9IFZHQU1vZGVJbmRleCAtIDE7Cj4gKwkJYnJlYWs7Cj4gKwljYXNlIDI6Cj4gKwkJY29s
b3JfaW5kZXggPSBIaUNNb2RlSW5kZXg7Cj4gKwkJYnJlYWs7Cj4gKwljYXNlIDM6Cj4gKwljYXNl
IDQ6Cj4gKwkJY29sb3JfaW5kZXggPSBUcnVlQ01vZGVJbmRleDsKPiArCWRlZmF1bHQ6Cj4gKwkJ
cmV0dXJuOwo+ICAJfQo+ICAKPiAtCXJldHVybiB0cnVlOwo+ICsJYXN0X3NldF9pbmRleF9yZWco
YXN0LCBBU1RfSU9fQ1JUQ19QT1JULCAweDhjLCAodTgpKChjb2xvcl9pbmRleCAmIDB4MGYpIDw8
IDQpKTsKPiArCj4gKwlhc3Rfc2V0X2luZGV4X3JlZyhhc3QsIEFTVF9JT19DUlRDX1BPUlQsIDB4
OTEsIDB4MDApOwo+ICsKPiArCWlmICh2Ymlvc19tb2RlLT5lbmhfdGFibGUtPmZsYWdzICYgTmV3
TW9kZUluZm8pIHsKPiArCQlhc3Rfc2V0X2luZGV4X3JlZyhhc3QsIEFTVF9JT19DUlRDX1BPUlQs
IDB4OTEsIDB4YTgpOwo+ICsJCWFzdF9zZXRfaW5kZXhfcmVnKGFzdCwgQVNUX0lPX0NSVENfUE9S
VCwgMHg5MiwgZmItPmZvcm1hdC0+Y3BwWzBdICogOCk7Cj4gKwl9Cj4gK30KPiArCj4gK3N0YXRp
YyB2b2lkIGFzdF9zZXRfdmJpb3NfbW9kZV9yZWcoc3RydWN0IGRybV9jcnRjICpjcnRjLAo+ICsJ
CQkJICAgY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKmFkanVzdGVkX21vZGUsCj4gKwkJ
CQkgICBjb25zdCBzdHJ1Y3QgYXN0X3ZiaW9zX21vZGVfaW5mbyAqdmJpb3NfbW9kZSkKPiArewo+
ICsJc3RydWN0IGFzdF9wcml2YXRlICphc3QgPSBjcnRjLT5kZXYtPmRldl9wcml2YXRlOwo+ICsJ
dTMyIHJlZnJlc2hfcmF0ZV9pbmRleCwgbW9kZV9pZDsKPiArCj4gKwlyZWZyZXNoX3JhdGVfaW5k
ZXggPSB2Ymlvc19tb2RlLT5lbmhfdGFibGUtPnJlZnJlc2hfcmF0ZV9pbmRleDsKPiArCW1vZGVf
aWQgPSB2Ymlvc19tb2RlLT5lbmhfdGFibGUtPm1vZGVfaWQ7Cj4gKwo+ICsJYXN0X3NldF9pbmRl
eF9yZWcoYXN0LCBBU1RfSU9fQ1JUQ19QT1JULCAweDhkLCByZWZyZXNoX3JhdGVfaW5kZXggJiAw
eGZmKTsKPiArCWFzdF9zZXRfaW5kZXhfcmVnKGFzdCwgQVNUX0lPX0NSVENfUE9SVCwgMHg4ZSwg
bW9kZV9pZCAmIDB4ZmYpOwo+ICAKPiArCWFzdF9zZXRfaW5kZXhfcmVnKGFzdCwgQVNUX0lPX0NS
VENfUE9SVCwgMHg5MSwgMHgwMCk7Cj4gIAo+ICsJaWYgKHZiaW9zX21vZGUtPmVuaF90YWJsZS0+
ZmxhZ3MgJiBOZXdNb2RlSW5mbykgewo+ICsJCWFzdF9zZXRfaW5kZXhfcmVnKGFzdCwgQVNUX0lP
X0NSVENfUE9SVCwgMHg5MSwgMHhhOCk7Cj4gKwkJYXN0X3NldF9pbmRleF9yZWcoYXN0LCBBU1Rf
SU9fQ1JUQ19QT1JULCAweDkzLCBhZGp1c3RlZF9tb2RlLT5jbG9jayAvIDEwMDApOwo+ICsJCWFz
dF9zZXRfaW5kZXhfcmVnKGFzdCwgQVNUX0lPX0NSVENfUE9SVCwgMHg5NCwgYWRqdXN0ZWRfbW9k
ZS0+Y3J0Y19oZGlzcGxheSk7Cj4gKwkJYXN0X3NldF9pbmRleF9yZWcoYXN0LCBBU1RfSU9fQ1JU
Q19QT1JULCAweDk1LCBhZGp1c3RlZF9tb2RlLT5jcnRjX2hkaXNwbGF5ID4+IDgpOwo+ICsJCWFz
dF9zZXRfaW5kZXhfcmVnKGFzdCwgQVNUX0lPX0NSVENfUE9SVCwgMHg5NiwgYWRqdXN0ZWRfbW9k
ZS0+Y3J0Y192ZGlzcGxheSk7Cj4gKwkJYXN0X3NldF9pbmRleF9yZWcoYXN0LCBBU1RfSU9fQ1JU
Q19QT1JULCAweDk3LCBhZGp1c3RlZF9tb2RlLT5jcnRjX3ZkaXNwbGF5ID4+IDgpOwo+ICsJfQo+
ICB9Cj4gKwo+ICBzdGF0aWMgdm9pZCBhc3Rfc2V0X3N0ZF9yZWcoc3RydWN0IGRybV9jcnRjICpj
cnRjLCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZSwKPiAgCQkJICAgIHN0cnVjdCBhc3Rf
dmJpb3NfbW9kZV9pbmZvICp2Ymlvc19tb2RlKQo+ICB7Cj4gQEAgLTU4MSwyMCArNjEwLDI0IEBA
IHN0YXRpYyBpbnQgYXN0X2NydGNfbW9kZV9zZXQoc3RydWN0IGRybV9jcnRjICpjcnRjLAo+ICB7
Cj4gIAlzdHJ1Y3QgZHJtX2RldmljZSAqZGV2ID0gY3J0Yy0+ZGV2Owo+ICAJc3RydWN0IGFzdF9w
cml2YXRlICphc3QgPSBjcnRjLT5kZXYtPmRldl9wcml2YXRlOwo+ICsJY29uc3Qgc3RydWN0IGRy
bV9mcmFtZWJ1ZmZlciAqZmIgPSBjcnRjLT5wcmltYXJ5LT5mYjsKPiAgCXN0cnVjdCBhc3RfdmJp
b3NfbW9kZV9pbmZvIHZiaW9zX21vZGU7Cj4gLQlib29sIHJldDsKPiArCWJvb2wgc3VjYzsKPiAr
Cj4gIAlpZiAoYXN0LT5jaGlwID09IEFTVDExODApIHsKPiAgCQlEUk1fRVJST1IoIkFTVCAxMTgw
IG1vZGVzZXR0aW5nIG5vdCBzdXBwb3J0ZWRcbiIpOwo+ICAJCXJldHVybiAtRUlOVkFMOwo+ICAJ
fQo+ICAKPiAtCXJldCA9IGFzdF9nZXRfdmJpb3NfbW9kZV9pbmZvKGNydGMsIG1vZGUsIGFkanVz
dGVkX21vZGUsICZ2Ymlvc19tb2RlKTsKPiAtCWlmIChyZXQgPT0gZmFsc2UpCj4gKwlzdWNjID0g
YXN0X2dldF92Ymlvc19tb2RlX2luZm8oZmIsIG1vZGUsIGFkanVzdGVkX21vZGUsICZ2Ymlvc19t
b2RlKTsKPiArCWlmICghc3VjYykKPiAgCQlyZXR1cm4gLUVJTlZBTDsKPiArCj4gIAlhc3Rfb3Bl
bl9rZXkoYXN0KTsKPiAgCj4gKwlhc3Rfc2V0X3ZiaW9zX2NvbG9yX3JlZyhjcnRjLCBmYiwgJnZi
aW9zX21vZGUpOwo+ICsJYXN0X3NldF92Ymlvc19tb2RlX3JlZyhjcnRjLCBhZGp1c3RlZF9tb2Rl
LCAmdmJpb3NfbW9kZSk7Cj4gIAlhc3Rfc2V0X2luZGV4X3JlZyhhc3QsIEFTVF9JT19DUlRDX1BP
UlQsIDB4YTEsIDB4MDYpOwo+IC0KPiAgCWFzdF9zZXRfc3RkX3JlZyhjcnRjLCBhZGp1c3RlZF9t
b2RlLCAmdmJpb3NfbW9kZSk7Cj4gIAlhc3Rfc2V0X2NydGNfcmVnKGNydGMsIGFkanVzdGVkX21v
ZGUsICZ2Ymlvc19tb2RlKTsKPiAgCWFzdF9zZXRfb2Zmc2V0X3JlZyhjcnRjKTsKPiAtLSAKPiAy
LjIzLjAKPiAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
CmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpo
dHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
