Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 482E2A1161
	for <lists+dri-devel@lfdr.de>; Thu, 29 Aug 2019 08:05:58 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AFCCD89F85;
	Thu, 29 Aug 2019 06:05:48 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from NAM03-CO1-obe.outbound.protection.outlook.com
 (mail-eopbgr790087.outbound.protection.outlook.com [40.107.79.87])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 6A61489F82;
 Thu, 29 Aug 2019 06:05:47 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=YOOnm65+8DVPzLNgLBopgvAcbKfSblTKWX3+6e8qFKcVEa3Qjdw+yJaFvjPcNApWuWvKahl6l89xJv3Wu3Ipu6R3WH8q4VJRe7asX0GUw6/E4K38kCKIOuPMF9FODPqHj3UR3V2WGQ5A4nK7U8pB2jDBvE58tnsZJ4/tnGYPTQKXvjju2DHQQSdxVMPVX5m4k8GRVicfPj69WipF/56LDZzemx5yTRyVUyPq2YuwLofFW/DkXHQiqcI4INLBsRqDmWL4/l7IUCtYZEGXjk9ATq0jul6/I7ZP/hHVWCh/6NBe9qB+eH3+9+32wyrpz7vztGky9cJtUq4i6ILqmGMS6g==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=s6EPMox26fU5F2yp9AcfPra6fm+DXi302zWJUO9/tUM=;
 b=Y4/QAdTMqcZcaWOG8AxWXLRLc1qJnPhIkHlI/ycqtJrVY0BdfLZtqbejheSms6oXfqpdCB+BYabRqWsP6m/zoPxB7PJIcZS2meDEpvm0yQ5u9rABzMgiLfRZK+iHAzQcWCZy0EtXwW5a+9KsVkr9sos1EnAREpLGh7+49/IQiiBt5nSPpOpp068mLpLBz+/xlZl2Ba7l7VLGG0e3fCekrQ5NwSTaFvLbmKQfpvpXhtPT58YS3ie+byyinkOwzn2eCsHbtZzMPQvW1pxMW6kiwdmEkNsY2J8LmTO0XBkVlCvwEwJ956KcHUoANgMFntKb6FoCACX8hpYet0f0ONu2IA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=none (sender ip is
 165.204.84.17) smtp.rcpttodomain=cray.com smtp.mailfrom=amd.com;
 dmarc=permerror action=none header.from=amd.com; dkim=none (message not
 signed); arc=none
Received: from CH2PR12CA0005.namprd12.prod.outlook.com (2603:10b6:610:57::15)
 by BN6PR12MB1267.namprd12.prod.outlook.com (2603:10b6:404:17::13)
 with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2199.20; Thu, 29 Aug
 2019 06:05:44 +0000
Received: from CO1NAM03FT045.eop-NAM03.prod.protection.outlook.com
 (2a01:111:f400:7e48::200) by CH2PR12CA0005.outlook.office365.com
 (2603:10b6:610:57::15) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2220.18 via Frontend
 Transport; Thu, 29 Aug 2019 06:05:44 +0000
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
Received: from SATLEXCHOV01.amd.com (165.204.84.17) by
 CO1NAM03FT045.mail.protection.outlook.com (10.152.81.214) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384) id
 15.20.2220.16 via Frontend Transport; Thu, 29 Aug 2019 06:05:44 +0000
Received: from kho-5039A.amd.com (10.180.168.240) by SATLEXCHOV01.amd.com
 (10.181.40.71) with Microsoft SMTP Server id 14.3.389.1; Thu, 29 Aug 2019
 01:05:42 -0500
From: Kenny Ho <Kenny.Ho@amd.com>
To: <y2kenny@gmail.com>, <cgroups@vger.kernel.org>,
 <dri-devel@lists.freedesktop.org>, <amd-gfx@lists.freedesktop.org>,
 <tj@kernel.org>, <alexander.deucher@amd.com>, <christian.koenig@amd.com>,
 <felix.kuehling@amd.com>, <joseph.greathouse@amd.com>, <jsparks@cray.com>,
 <lkaplan@cray.com>, <daniel@ffwll.ch>
Subject: [PATCH RFC v4 02/16] cgroup: Introduce cgroup for drm subsystem
Date: Thu, 29 Aug 2019 02:05:19 -0400
Message-ID: <20190829060533.32315-3-Kenny.Ho@amd.com>
X-Mailer: git-send-email 2.22.0
In-Reply-To: <20190829060533.32315-1-Kenny.Ho@amd.com>
References: <20190829060533.32315-1-Kenny.Ho@amd.com>
MIME-Version: 1.0
X-EOPAttributedMessage: 0
X-MS-Office365-Filtering-HT: Tenant
X-Forefront-Antispam-Report: CIP:165.204.84.17; IPV:NLI; CTRY:US; EFV:NLI;
 SFV:NSPM;
 SFS:(10009020)(4636009)(376002)(39860400002)(346002)(136003)(396003)(2980300002)(428003)(199004)(189003)(5660300002)(86362001)(47776003)(6666004)(356004)(1076003)(478600001)(2201001)(2870700001)(2906002)(316002)(70206006)(70586007)(50466002)(110136005)(48376002)(53416004)(426003)(36756003)(4326008)(305945005)(53936002)(8936002)(8676002)(81156014)(186003)(51416003)(2616005)(11346002)(446003)(476003)(76176011)(5024004)(14444005)(7696005)(126002)(486006)(81166006)(50226002)(336012)(26005)(921003)(1121003)(2101003)(83996005);
 DIR:OUT; SFP:1101; SCL:1; SRVR:BN6PR12MB1267; H:SATLEXCHOV01.amd.com; FPR:;
 SPF:None; LANG:en; PTR:InfoDomainNonexistent; A:1; MX:1; 
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-Correlation-Id: caf341a5-4743-4ef4-28f8-08d72c46edc3
X-Microsoft-Antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600166)(711020)(4605104)(1401327)(4618075)(2017052603328);
 SRVR:BN6PR12MB1267; 
X-MS-TrafficTypeDiagnostic: BN6PR12MB1267:
X-Microsoft-Antispam-PRVS: <BN6PR12MB12672D332DBBA12243361DBC83A20@BN6PR12MB1267.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:8882;
X-Forefront-PRVS: 0144B30E41
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam-Message-Info: Is/OMQpFy8pXu8KcjTArZldv4Mepd09Di21K+1ZZUrYFaLZsNuhyelAmGqu2ykIjMd1C69MRUZEdDGdwzBy4M5LCkRZBVcByyzHTHc4erqEhhDplPuPRHHpuZu0zLbhsacZdAmK72BECH10jMuVcXqvr61dmYuTkVMCRPBp39mtel+FFs2y8PQGMnBtZWKDPrwxYx6X7XXQPwdIk+E8A5yBCMiEVJ5HFVzfVGoz3/+Bx+a6ZIltSmZdp2Ino2SoBoTSQd7hIEnIfI4NEfuqWYrk2KEb7J6j5AdTd/37rRUePlxRSubCR/Guk9oRRwvCf22yAP6lUs9LMskDCAqOfc17QVfxmCyowP7cprFguhYtboCQoSewjRLTczGrZYKzctrJrbuAnIvl4q+a1A0J5OQgfMeMV//7ua9hsVtxlprg=
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 29 Aug 2019 06:05:44.1292 (UTC)
X-MS-Exchange-CrossTenant-Network-Message-Id: caf341a5-4743-4ef4-28f8-08d72c46edc3
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-OriginalAttributedTenantConnectingIp: TenantId=3dd8961f-e488-4e60-8e11-a82d994e183d; Ip=[165.204.84.17];
 Helo=[SATLEXCHOV01.amd.com]
X-MS-Exchange-CrossTenant-FromEntityHeader: HybridOnPrem
X-MS-Exchange-Transport-CrossTenantHeadersStamped: BN6PR12MB1267
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=s6EPMox26fU5F2yp9AcfPra6fm+DXi302zWJUO9/tUM=;
 b=DIgzN0K2bhawl7vChxfradlfciqZ6J/8jD8900FSQAicN0F0nOZY3Coo5B6M+iHKZf4O9jjb1nQipqvK56BJwaM/wWGBDL9b+bzgnrNTG2unukKc9rCbpvsXr7incVH+ZeEutYfiPdKh/NcTO/wIX7AjQnhbA/ey31ABYtfk1UM=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is
 165.204.84.17)
 smtp.mailfrom=amd.com; cray.com; dkim=none (message not signed)
 header.d=none;cray.com; dmarc=permerror action=none header.from=amd.com;
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Kenny Ho <Kenny.Ho@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

V2l0aCB0aGUgaW5jcmVhc2VkIGltcG9ydGFuY2Ugb2YgbWFjaGluZSBsZWFybmluZywgZGF0YSBz
Y2llbmNlIGFuZApvdGhlciBjbG91ZC1iYXNlZCBhcHBsaWNhdGlvbnMsIEdQVXMgYXJlIGFscmVh
ZHkgaW4gcHJvZHVjdGlvbiB1c2UgaW4KZGF0YSBjZW50ZXJzIHRvZGF5LiAgRXhpc3RpbmcgR1BV
IHJlc291cmNlIG1hbmFnZW1lbnQgaXMgdmVyeSBjb2Fyc2UKZ3JhaW4sIGhvd2V2ZXIsIGFzIHN5
c2FkbWlucyBhcmUgb25seSBhYmxlIHRvIGRpc3RyaWJ1dGUgd29ya2xvYWQgb24gYQpwZXItR1BV
IGJhc2lzLiAgQW4gYWx0ZXJuYXRpdmUgaXMgdG8gdXNlIEdQVSB2aXJ0dWFsaXphdGlvbiAod2l0
aCBvcgp3aXRob3V0IFNSSU9WKSBidXQgaXQgZ2VuZXJhbGx5IGFjdHMgb24gdGhlIGVudGlyZSBH
UFUgaW5zdGVhZCBvZiB0aGUKc3BlY2lmaWMgcmVzb3VyY2VzIGluIGEgR1BVLiAgV2l0aCBhIGRy
bSBjZ3JvdXAgY29udHJvbGxlciwgd2UgY2FuCmVuYWJsZSBhbHRlcm5hdGUsIGZpbmUtZ3JhaW4s
IHN1Yi1HUFUgcmVzb3VyY2UgbWFuYWdlbWVudCAoaW4gYWRkaXRpb24KdG8gd2hhdCBtYXkgYmUg
YXZhaWxhYmxlIHZpYSBHUFUgdmlydHVhbGl6YXRpb24uKQoKQ2hhbmdlLUlkOiBJNjgzMGQzOTkw
ZjYzZjBjMTNhYmViYTI5YjFkMzMwY2YyODg4MjgzMQpTaWduZWQtb2ZmLWJ5OiBLZW5ueSBIbyA8
S2VubnkuSG9AYW1kLmNvbT4KLS0tCiBEb2N1bWVudGF0aW9uL2FkbWluLWd1aWRlL2Nncm91cC12
Mi5yc3QgfCAxOCArKysrLQogRG9jdW1lbnRhdGlvbi9jZ3JvdXAtdjEvZHJtLnJzdCAgICAgICAg
IHwgIDEgKwogaW5jbHVkZS9saW51eC9jZ3JvdXBfZHJtLmggICAgICAgICAgICAgIHwgOTIgKysr
KysrKysrKysrKysrKysrKysrKysrKwogaW5jbHVkZS9saW51eC9jZ3JvdXBfc3Vic3lzLmggICAg
ICAgICAgIHwgIDQgKysKIGluaXQvS2NvbmZpZyAgICAgICAgICAgICAgICAgICAgICAgICAgICB8
ICA1ICsrCiBrZXJuZWwvY2dyb3VwL01ha2VmaWxlICAgICAgICAgICAgICAgICAgfCAgMSArCiBr
ZXJuZWwvY2dyb3VwL2RybS5jICAgICAgICAgICAgICAgICAgICAgfCA0MiArKysrKysrKysrKwog
NyBmaWxlcyBjaGFuZ2VkLCAxNjEgaW5zZXJ0aW9ucygrKSwgMiBkZWxldGlvbnMoLSkKIGNyZWF0
ZSBtb2RlIDEwMDY0NCBEb2N1bWVudGF0aW9uL2Nncm91cC12MS9kcm0ucnN0CiBjcmVhdGUgbW9k
ZSAxMDA2NDQgaW5jbHVkZS9saW51eC9jZ3JvdXBfZHJtLmgKIGNyZWF0ZSBtb2RlIDEwMDY0NCBr
ZXJuZWwvY2dyb3VwL2RybS5jCgpkaWZmIC0tZ2l0IGEvRG9jdW1lbnRhdGlvbi9hZG1pbi1ndWlk
ZS9jZ3JvdXAtdjIucnN0IGIvRG9jdW1lbnRhdGlvbi9hZG1pbi1ndWlkZS9jZ3JvdXAtdjIucnN0
CmluZGV4IDg4ZTc0NjA3NDI1Mi4uMjkzNjQyM2EzZmQ1IDEwMDY0NAotLS0gYS9Eb2N1bWVudGF0
aW9uL2FkbWluLWd1aWRlL2Nncm91cC12Mi5yc3QKKysrIGIvRG9jdW1lbnRhdGlvbi9hZG1pbi1n
dWlkZS9jZ3JvdXAtdjIucnN0CkBAIC02MSw4ICs2MSwxMCBAQCB2MSBpcyBhdmFpbGFibGUgdW5k
ZXIgRG9jdW1lbnRhdGlvbi9jZ3JvdXAtdjEvLgogICAgICA1LTYuIERldmljZQogICAgICA1LTcu
IFJETUEKICAgICAgICA1LTctMS4gUkRNQSBJbnRlcmZhY2UgRmlsZXMKLSAgICAgNS04LiBNaXNj
Ci0gICAgICAgNS04LTEuIHBlcmZfZXZlbnQKKyAgICAgNS04LiBEUk0KKyAgICAgICA1LTgtMS4g
RFJNIEludGVyZmFjZSBGaWxlcworICAgICA1LTkuIE1pc2MKKyAgICAgICA1LTktMS4gcGVyZl9l
dmVudAogICAgICA1LU4uIE5vbi1ub3JtYXRpdmUgaW5mb3JtYXRpb24KICAgICAgICA1LU4tMS4g
Q1BVIGNvbnRyb2xsZXIgcm9vdCBjZ3JvdXAgcHJvY2VzcyBiZWhhdmlvdXIKICAgICAgICA1LU4t
Mi4gSU8gY29udHJvbGxlciByb290IGNncm91cCBwcm9jZXNzIGJlaGF2aW91cgpAQCAtMTg4OSw2
ICsxODkxLDE4IEBAIFJETUEgSW50ZXJmYWNlIEZpbGVzCiAJICBvY3JkbWExIGhjYV9oYW5kbGU9
MSBoY2Ffb2JqZWN0PTIzCiAKIAorRFJNCistLS0KKworVGhlICJkcm0iIGNvbnRyb2xsZXIgcmVn
dWxhdGVzIHRoZSBkaXN0cmlidXRpb24gYW5kIGFjY291bnRpbmcgb2YKK29mIERSTSAoRGlyZWN0
IFJlbmRlcmluZyBNYW5hZ2VyKSBhbmQgR1BVLXJlbGF0ZWQgcmVzb3VyY2VzLgorCitEUk0gSW50
ZXJmYWNlIEZpbGVzCit+fn5+fn5+fn5+fn5+fn5+fn5+fgorCitUT0RPCisKKwogTWlzYwogLS0t
LQogCmRpZmYgLS1naXQgYS9Eb2N1bWVudGF0aW9uL2Nncm91cC12MS9kcm0ucnN0IGIvRG9jdW1l
bnRhdGlvbi9jZ3JvdXAtdjEvZHJtLnJzdApuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAw
MDAwMDAwMDAuLjVmNTY1OGUxZjVlZAotLS0gL2Rldi9udWxsCisrKyBiL0RvY3VtZW50YXRpb24v
Y2dyb3VwLXYxL2RybS5yc3QKQEAgLTAsMCArMSBAQAorUGxlYXNlIHNlZSAuLi9jZ3JvdXAtdjIu
cnN0IGZvciBkZXRhaWxzCmRpZmYgLS1naXQgYS9pbmNsdWRlL2xpbnV4L2Nncm91cF9kcm0uaCBi
L2luY2x1ZGUvbGludXgvY2dyb3VwX2RybS5oCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAw
MDAwMDAwMDAwMC4uOTcxMTY2ZjlkZDc4Ci0tLSAvZGV2L251bGwKKysrIGIvaW5jbHVkZS9saW51
eC9jZ3JvdXBfZHJtLmgKQEAgLTAsMCArMSw5MiBAQAorLyogU1BEWC1MaWNlbnNlLUlkZW50aWZp
ZXI6IE1JVAorICogQ29weXJpZ2h0IDIwMTkgQWR2YW5jZWQgTWljcm8gRGV2aWNlcywgSW5jLgor
ICovCisjaWZuZGVmIF9DR1JPVVBfRFJNX0gKKyNkZWZpbmUgX0NHUk9VUF9EUk1fSAorCisjaWZk
ZWYgQ09ORklHX0NHUk9VUF9EUk0KKworI2luY2x1ZGUgPGxpbnV4L2Nncm91cC5oPgorCisvKioK
KyAqIFRoZSBEUk0gY2dyb3VwIGNvbnRyb2xsZXIgZGF0YSBzdHJ1Y3R1cmUuCisgKi8KK3N0cnVj
dCBkcm1jZyB7CisJc3RydWN0IGNncm91cF9zdWJzeXNfc3RhdGUJY3NzOworfTsKKworLyoqCisg
KiBjc3NfdG9fZHJtY2cgLSBnZXQgdGhlIGNvcnJlc3BvbmRpbmcgZHJtY2cgcmVmIGZyb20gYSBj
Z3JvdXBfc3Vic3lzX3N0YXRlCisgKiBAY3NzOiB0aGUgdGFyZ2V0IGNncm91cF9zdWJzeXNfc3Rh
dGUKKyAqCisgKiBSZXR1cm46IERSTSBjZ3JvdXAgdGhhdCBjb250YWlucyB0aGUgQGNzcworICov
CitzdGF0aWMgaW5saW5lIHN0cnVjdCBkcm1jZyAqY3NzX3RvX2RybWNnKHN0cnVjdCBjZ3JvdXBf
c3Vic3lzX3N0YXRlICpjc3MpCit7CisJcmV0dXJuIGNzcyA/IGNvbnRhaW5lcl9vZihjc3MsIHN0
cnVjdCBkcm1jZywgY3NzKSA6IE5VTEw7Cit9CisKKy8qKgorICogZHJtY2dfZ2V0IC0gZ2V0IHRo
ZSBkcm1jZyByZWZlcmVuY2UgdGhhdCBhIHRhc2sgYmVsb25ncyB0bworICogQHRhc2s6IHRoZSB0
YXJnZXQgdGFzaworICoKKyAqIFRoaXMgaW5jcmVhc2UgdGhlIHJlZmVyZW5jZSBjb3VudCBvZiB0
aGUgY3NzIHRoYXQgdGhlIEB0YXNrIGJlbG9uZ3MgdG8KKyAqCisgKiBSZXR1cm46IHJlZmVyZW5j
ZSB0byB0aGUgRFJNIGNncm91cCB0aGUgdGFzayBiZWxvbmdzIHRvCisgKi8KK3N0YXRpYyBpbmxp
bmUgc3RydWN0IGRybWNnICpkcm1jZ19nZXQoc3RydWN0IHRhc2tfc3RydWN0ICp0YXNrKQorewor
CXJldHVybiBjc3NfdG9fZHJtY2codGFza19nZXRfY3NzKHRhc2ssIGRybV9jZ3JwX2lkKSk7Cit9
CisKKy8qKgorICogZHJtY2dfcHV0IC0gcHV0IGEgZHJtY2cgcmVmZXJlbmNlCisgKiBAZHJtY2c6
IHRoZSB0YXJnZXQgZHJtY2cKKyAqCisgKiBQdXQgYSByZWZlcmVuY2Ugb2J0YWluZWQgdmlhIGRy
bWNnX2dldAorICovCitzdGF0aWMgaW5saW5lIHZvaWQgZHJtY2dfcHV0KHN0cnVjdCBkcm1jZyAq
ZHJtY2cpCit7CisJaWYgKGRybWNnKQorCQljc3NfcHV0KCZkcm1jZy0+Y3NzKTsKK30KKworLyoq
CisgKiBkcm1jZ19wYXJlbnQgLSBmaW5kIHRoZSBwYXJlbnQgb2YgYSBkcm0gY2dyb3VwCisgKiBA
Y2c6IHRoZSB0YXJnZXQgZHJtY2cKKyAqCisgKiBUaGlzIGRvZXMgbm90IGluY3JlYXNlIHRoZSBy
ZWZlcmVuY2UgY291bnQgb2YgdGhlIHBhcmVudCBjZ3JvdXAKKyAqCisgKiBSZXR1cm46IHBhcmVu
dCBEUk0gY2dyb3VwIG9mIEBjZworICovCitzdGF0aWMgaW5saW5lIHN0cnVjdCBkcm1jZyAqZHJt
Y2dfcGFyZW50KHN0cnVjdCBkcm1jZyAqY2cpCit7CisJcmV0dXJuIGNzc190b19kcm1jZyhjZy0+
Y3NzLnBhcmVudCk7Cit9CisKKyNlbHNlIC8qIENPTkZJR19DR1JPVVBfRFJNICovCisKK3N0cnVj
dCBkcm1jZyB7Cit9OworCitzdGF0aWMgaW5saW5lIHN0cnVjdCBkcm1jZyAqY3NzX3RvX2RybWNn
KHN0cnVjdCBjZ3JvdXBfc3Vic3lzX3N0YXRlICpjc3MpCit7CisJcmV0dXJuIE5VTEw7Cit9CisK
K3N0YXRpYyBpbmxpbmUgc3RydWN0IGRybWNnICpkcm1jZ19nZXQoc3RydWN0IHRhc2tfc3RydWN0
ICp0YXNrKQoreworCXJldHVybiBOVUxMOworfQorCitzdGF0aWMgaW5saW5lIHZvaWQgZHJtY2df
cHV0KHN0cnVjdCBkcm1jZyAqZHJtY2cpCit7Cit9CisKK3N0YXRpYyBpbmxpbmUgc3RydWN0IGRy
bWNnICpkcm1jZ19wYXJlbnQoc3RydWN0IGRybWNnICpjZykKK3sKKwlyZXR1cm4gTlVMTDsKK30K
KworI2VuZGlmCS8qIENPTkZJR19DR1JPVVBfRFJNICovCisjZW5kaWYJLyogX0NHUk9VUF9EUk1f
SCAqLwpkaWZmIC0tZ2l0IGEvaW5jbHVkZS9saW51eC9jZ3JvdXBfc3Vic3lzLmggYi9pbmNsdWRl
L2xpbnV4L2Nncm91cF9zdWJzeXMuaAppbmRleCBhY2I3N2RjZmYzYjQuLmRkZWRhZDgwOWU4YiAx
MDA2NDQKLS0tIGEvaW5jbHVkZS9saW51eC9jZ3JvdXBfc3Vic3lzLmgKKysrIGIvaW5jbHVkZS9s
aW51eC9jZ3JvdXBfc3Vic3lzLmgKQEAgLTYxLDYgKzYxLDEwIEBAIFNVQlNZUyhwaWRzKQogU1VC
U1lTKHJkbWEpCiAjZW5kaWYKIAorI2lmIElTX0VOQUJMRUQoQ09ORklHX0NHUk9VUF9EUk0pCitT
VUJTWVMoZHJtKQorI2VuZGlmCisKIC8qCiAgKiBUaGUgZm9sbG93aW5nIHN1YnN5c3RlbXMgYXJl
IG5vdCBzdXBwb3J0ZWQgb24gdGhlIGRlZmF1bHQgaGllcmFyY2h5LgogICovCmRpZmYgLS1naXQg
YS9pbml0L0tjb25maWcgYi9pbml0L0tjb25maWcKaW5kZXggOGI5ZmZlMjM2ZTRmLi4wMWQzNDUz
ZjZlMDQgMTAwNjQ0Ci0tLSBhL2luaXQvS2NvbmZpZworKysgYi9pbml0L0tjb25maWcKQEAgLTg3
Niw2ICs4NzYsMTEgQEAgY29uZmlnIENHUk9VUF9SRE1BCiAJICBBdHRhY2hpbmcgcHJvY2Vzc2Vz
IHdpdGggYWN0aXZlIFJETUEgcmVzb3VyY2VzIHRvIHRoZSBjZ3JvdXAKIAkgIGhpZXJhcmNoeSBp
cyBhbGxvd2VkIGV2ZW4gaWYgY2FuIGNyb3NzIHRoZSBoaWVyYXJjaHkncyBsaW1pdC4KIAorY29u
ZmlnIENHUk9VUF9EUk0KKwlib29sICJEUk0gY29udHJvbGxlciAoRVhQRVJJTUVOVEFMKSIKKwlo
ZWxwCisJICBQcm92aWRlcyBhY2NvdW50aW5nIGFuZCBlbmZvcmNlbWVudCBvZiByZXNvdXJjZXMg
aW4gdGhlIERSTSBzdWJzeXN0ZW0uCisKIGNvbmZpZyBDR1JPVVBfRlJFRVpFUgogCWJvb2wgIkZy
ZWV6ZXIgY29udHJvbGxlciIKIAloZWxwCmRpZmYgLS1naXQgYS9rZXJuZWwvY2dyb3VwL01ha2Vm
aWxlIGIva2VybmVsL2Nncm91cC9NYWtlZmlsZQppbmRleCA1ZDdhNzZiZmJiYjcuLjMxZjE4NmY1
ODEyMSAxMDA2NDQKLS0tIGEva2VybmVsL2Nncm91cC9NYWtlZmlsZQorKysgYi9rZXJuZWwvY2dy
b3VwL01ha2VmaWxlCkBAIC00LDUgKzQsNiBAQCBvYmoteSA6PSBjZ3JvdXAubyByc3RhdC5vIG5h
bWVzcGFjZS5vIGNncm91cC12MS5vIGZyZWV6ZXIubwogb2JqLSQoQ09ORklHX0NHUk9VUF9GUkVF
WkVSKSArPSBsZWdhY3lfZnJlZXplci5vCiBvYmotJChDT05GSUdfQ0dST1VQX1BJRFMpICs9IHBp
ZHMubwogb2JqLSQoQ09ORklHX0NHUk9VUF9SRE1BKSArPSByZG1hLm8KK29iai0kKENPTkZJR19D
R1JPVVBfRFJNKSArPSBkcm0ubwogb2JqLSQoQ09ORklHX0NQVVNFVFMpICs9IGNwdXNldC5vCiBv
YmotJChDT05GSUdfQ0dST1VQX0RFQlVHKSArPSBkZWJ1Zy5vCmRpZmYgLS1naXQgYS9rZXJuZWwv
Y2dyb3VwL2RybS5jIGIva2VybmVsL2Nncm91cC9kcm0uYwpuZXcgZmlsZSBtb2RlIDEwMDY0NApp
bmRleCAwMDAwMDAwMDAwMDAuLmU5Nzg2MWIzY2IzMAotLS0gL2Rldi9udWxsCisrKyBiL2tlcm5l
bC9jZ3JvdXAvZHJtLmMKQEAgLTAsMCArMSw0MiBAQAorLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZp
ZXI6IE1JVAorLy8gQ29weXJpZ2h0IDIwMTkgQWR2YW5jZWQgTWljcm8gRGV2aWNlcywgSW5jLgor
I2luY2x1ZGUgPGxpbnV4L3NsYWIuaD4KKyNpbmNsdWRlIDxsaW51eC9jZ3JvdXAuaD4KKyNpbmNs
dWRlIDxsaW51eC9jZ3JvdXBfZHJtLmg+CisKK3N0YXRpYyBzdHJ1Y3QgZHJtY2cgKnJvb3RfZHJt
Y2cgX19yZWFkX21vc3RseTsKKworc3RhdGljIHZvaWQgZHJtY2dfY3NzX2ZyZWUoc3RydWN0IGNn
cm91cF9zdWJzeXNfc3RhdGUgKmNzcykKK3sKKwlzdHJ1Y3QgZHJtY2cgKmRybWNnID0gY3NzX3Rv
X2RybWNnKGNzcyk7CisKKwlrZnJlZShkcm1jZyk7Cit9CisKK3N0YXRpYyBzdHJ1Y3QgY2dyb3Vw
X3N1YnN5c19zdGF0ZSAqCitkcm1jZ19jc3NfYWxsb2Moc3RydWN0IGNncm91cF9zdWJzeXNfc3Rh
dGUgKnBhcmVudF9jc3MpCit7CisJc3RydWN0IGRybWNnICpwYXJlbnQgPSBjc3NfdG9fZHJtY2co
cGFyZW50X2Nzcyk7CisJc3RydWN0IGRybWNnICpkcm1jZzsKKworCWRybWNnID0ga3phbGxvYyhz
aXplb2Yoc3RydWN0IGRybWNnKSwgR0ZQX0tFUk5FTCk7CisJaWYgKCFkcm1jZykKKwkJcmV0dXJu
IEVSUl9QVFIoLUVOT01FTSk7CisKKwlpZiAoIXBhcmVudCkKKwkJcm9vdF9kcm1jZyA9IGRybWNn
OworCisJcmV0dXJuICZkcm1jZy0+Y3NzOworfQorCitzdHJ1Y3QgY2Z0eXBlIGZpbGVzW10gPSB7
CisJeyB9CS8qIHRlcm1pbmF0ZSAqLworfTsKKworc3RydWN0IGNncm91cF9zdWJzeXMgZHJtX2Nn
cnBfc3Vic3lzID0geworCS5jc3NfYWxsb2MJPSBkcm1jZ19jc3NfYWxsb2MsCisJLmNzc19mcmVl
CT0gZHJtY2dfY3NzX2ZyZWUsCisJLmVhcmx5X2luaXQJPSBmYWxzZSwKKwkubGVnYWN5X2NmdHlw
ZXMJPSBmaWxlcywKKwkuZGZsX2NmdHlwZXMJPSBmaWxlcywKK307Ci0tIAoyLjIyLjAKCl9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWls
aW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZy
ZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
