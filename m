Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id E6F9A11509D
	for <lists+dri-devel@lfdr.de>; Fri,  6 Dec 2019 13:47:44 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 731046FA03;
	Fri,  6 Dec 2019 12:47:42 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mx1.suse.de (mx2.suse.de [195.135.220.15])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E20756F9FF
 for <dri-devel@lists.freedesktop.org>; Fri,  6 Dec 2019 12:47:19 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id 4B456B3FD;
 Fri,  6 Dec 2019 12:47:18 +0000 (UTC)
From: Thomas Zimmermann <tzimmermann@suse.de>
To: airlied@redhat.com, daniel@ffwll.ch, sam@ravnborg.org, kraxel@redhat.com,
 emil.velikov@collabora.com, noralf@tronnes.org, zboszor@pr.hu
Subject: [PATCH v2 7/9] drm/udl: Remove struct udl_device.active_fb_16
Date: Fri,  6 Dec 2019 13:47:11 +0100
Message-Id: <20191206124713.5748-8-tzimmermann@suse.de>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20191206124713.5748-1-tzimmermann@suse.de>
References: <20191206124713.5748-1-tzimmermann@suse.de>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Daniel Vetter <daniel.vetter@ffwll.ch>,
 Thomas Zimmermann <tzimmermann@suse.de>, dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIHVkbCBkcml2ZXIgc3RvcmVzIHRoZSBjdXJyZW50bHkgYWN0aXZlIGZyYW1lYnVmZmVyIHRv
IGtub3cgZnJvbQp3aGVyZSB0byBhY2NlcHQgZGFtYWdlIHVwZGF0ZXMuCgpXaXRoIHRoZSBjb252
ZXJzaW9uIHRvIHBsYW5lLXN0YXRlIGRhbWFnZSBoYW5kbGluZywgdGhpcyBpcyBub3QgbmVjZXNz
YXJ5CmFueSBsb25nZXIuIFRoZSBjdXJyZW50bHkgYWN0aXZlIGZyYW1lYnVmZmVyIGFuZCBkYW1h
Z2VkIGFyZWEgYXJlIGFsd2F5cwpzdG9yZWQgaW4gdGhlIHBsYW5lIHN0YXRlLgoKU2lnbmVkLW9m
Zi1ieTogVGhvbWFzIFppbW1lcm1hbm4gPHR6aW1tZXJtYW5uQHN1c2UuZGU+ClJldmlld2VkLWJ5
OiBEYW5pZWwgVmV0dGVyIDxkYW5pZWwudmV0dGVyQGZmd2xsLmNoPgotLS0KIGRyaXZlcnMvZ3B1
L2RybS91ZGwvdWRsX2Rydi5oICAgICB8IDQgLS0tLQogZHJpdmVycy9ncHUvZHJtL3VkbC91ZGxf
ZmIuYyAgICAgIHwgOCAtLS0tLS0tLQogZHJpdmVycy9ncHUvZHJtL3VkbC91ZGxfbWFpbi5jICAg
IHwgMyAtLS0KIGRyaXZlcnMvZ3B1L2RybS91ZGwvdWRsX21vZGVzZXQuYyB8IDkgLS0tLS0tLS0t
CiA0IGZpbGVzIGNoYW5nZWQsIDI0IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS91ZGwvdWRsX2Rydi5oIGIvZHJpdmVycy9ncHUvZHJtL3VkbC91ZGxfZHJ2LmgKaW5k
ZXggNzA3NTZmOGQ0ZTY2Li5hNzYzOTc4MzFjZWUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS91ZGwvdWRsX2Rydi5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS91ZGwvdWRsX2Rydi5oCkBAIC01
NSwxMCArNTUsNiBAQCBzdHJ1Y3QgdWRsX2RldmljZSB7CiAKIAlzdHJ1Y3QgZHJtX3NpbXBsZV9k
aXNwbGF5X3BpcGUgZGlzcGxheV9waXBlOwogCi0JLyogYWN0aXZlIGZyYW1lYnVmZmVyIG9uIHRo
ZSAxNi1iaXQgY2hhbm5lbCAqLwotCWNvbnN0IHN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmFjdGl2
ZV9mYl8xNjsKLQlzcGlubG9ja190IGFjdGl2ZV9mYl8xNl9sb2NrOwotCiAJc3RydWN0IG11dGV4
IGdlbV9sb2NrOwogCiAJaW50IHNrdV9waXhlbF9saW1pdDsKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS91ZGwvdWRsX2ZiLmMgYi9kcml2ZXJzL2dwdS9kcm0vdWRsL3VkbF9mYi5jCmluZGV4
IDk4Y2MyYWIzYTkxNi4uMzk3YzYyMTQyOTc4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
dWRsL3VkbF9mYi5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS91ZGwvdWRsX2ZiLmMKQEAgLTg3LDcg
Kzg3LDYgQEAgaW50IHVkbF9oYW5kbGVfZGFtYWdlKHN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZi
LCBpbnQgeCwgaW50IHksCiAJCSAgICAgIGludCB3aWR0aCwgaW50IGhlaWdodCkKIHsKIAlzdHJ1
Y3QgZHJtX2RldmljZSAqZGV2ID0gZmItPmRldjsKLQlzdHJ1Y3QgdWRsX2RldmljZSAqdWRsID0g
dG9fdWRsKGRldik7CiAJc3RydWN0IGRtYV9idWZfYXR0YWNobWVudCAqaW1wb3J0X2F0dGFjaCA9
IGZiLT5vYmpbMF0tPmltcG9ydF9hdHRhY2g7CiAJaW50IGksIHJldCwgdG1wX3JldDsKIAljaGFy
ICpjbWQ7CkBAIC05NiwxMyArOTUsNiBAQCBpbnQgdWRsX2hhbmRsZV9kYW1hZ2Uoc3RydWN0IGRy
bV9mcmFtZWJ1ZmZlciAqZmIsIGludCB4LCBpbnQgeSwKIAlpbnQgbG9nX2JwcDsKIAl2b2lkICp2
YWRkcjsKIAotCXNwaW5fbG9jaygmdWRsLT5hY3RpdmVfZmJfMTZfbG9jayk7Ci0JaWYgKHVkbC0+
YWN0aXZlX2ZiXzE2ICE9IGZiKSB7Ci0JCXNwaW5fdW5sb2NrKCZ1ZGwtPmFjdGl2ZV9mYl8xNl9s
b2NrKTsKLQkJcmV0dXJuIDA7Ci0JfQotCXNwaW5fdW5sb2NrKCZ1ZGwtPmFjdGl2ZV9mYl8xNl9s
b2NrKTsKLQogCXJldCA9IHVkbF9sb2dfY3BwKGZiLT5mb3JtYXQtPmNwcFswXSk7CiAJaWYgKHJl
dCA8IDApCiAJCXJldHVybiByZXQ7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdWRsL3Vk
bF9tYWluLmMgYi9kcml2ZXJzL2dwdS9kcm0vdWRsL3VkbF9tYWluLmMKaW5kZXggZmYzZTk4NjY2
ZThjLi41Mzg3MTg5MTk5MTYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS91ZGwvdWRsX21h
aW4uYworKysgYi9kcml2ZXJzL2dwdS9kcm0vdWRsL3VkbF9tYWluLmMKQEAgLTMxNCw5ICszMTQs
NiBAQCBpbnQgdWRsX2luaXQoc3RydWN0IHVkbF9kZXZpY2UgKnVkbCkKIAogCURSTV9ERUJVRygi
XG4iKTsKIAotCXVkbC0+YWN0aXZlX2ZiXzE2ID0gTlVMTDsKLQlzcGluX2xvY2tfaW5pdCgmdWRs
LT5hY3RpdmVfZmJfMTZfbG9jayk7Ci0KIAltdXRleF9pbml0KCZ1ZGwtPmdlbV9sb2NrKTsKIAog
CWlmICghdWRsX3BhcnNlX3ZlbmRvcl9kZXNjcmlwdG9yKGRldiwgdWRsLT51ZGV2KSkgewpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3VkbC91ZGxfbW9kZXNldC5jIGIvZHJpdmVycy9ncHUv
ZHJtL3VkbC91ZGxfbW9kZXNldC5jCmluZGV4IDI4YzBkOTMxNDFkMS4uMjFjMGI5NTIxNGNhIDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vdWRsL3VkbF9tb2Rlc2V0LmMKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL3VkbC91ZGxfbW9kZXNldC5jCkBAIC0yOTIsOSArMjkyLDYgQEAgdWRsX3NpbXBs
ZV9kaXNwbGF5X3BpcGVfZW5hYmxlKHN0cnVjdCBkcm1fc2ltcGxlX2Rpc3BsYXlfcGlwZSAqcGlw
ZSwKIAogCXdycHRyID0gdWRsX2R1bW15X3JlbmRlcih3cnB0cik7CiAKLQlzcGluX2xvY2soJnVk
bC0+YWN0aXZlX2ZiXzE2X2xvY2spOwotCXVkbC0+YWN0aXZlX2ZiXzE2ID0gZmI7Ci0Jc3Bpbl91
bmxvY2soJnVkbC0+YWN0aXZlX2ZiXzE2X2xvY2spOwogCXVkbC0+bW9kZV9idWZfbGVuID0gd3Jw
dHIgLSBidWY7CiAKIAl1ZGxfaGFuZGxlX2RhbWFnZShmYiwgMCwgMCwgZmItPndpZHRoLCBmYi0+
aGVpZ2h0KTsKQEAgLTMzOSwxNiArMzM2LDEwIEBAIHN0YXRpYyB2b2lkCiB1ZGxfc2ltcGxlX2Rp
c3BsYXlfcGlwZV91cGRhdGUoc3RydWN0IGRybV9zaW1wbGVfZGlzcGxheV9waXBlICpwaXBlLAog
CQkJICAgICAgIHN0cnVjdCBkcm1fcGxhbmVfc3RhdGUgKm9sZF9wbGFuZV9zdGF0ZSkKIHsKLQlz
dHJ1Y3QgZHJtX2RldmljZSAqZGV2ID0gcGlwZS0+Y3J0Yy5kZXY7Ci0Jc3RydWN0IHVkbF9kZXZp
Y2UgKnVkbCA9IGRldi0+ZGV2X3ByaXZhdGU7CiAJc3RydWN0IGRybV9wbGFuZV9zdGF0ZSAqc3Rh
dGUgPSBwaXBlLT5wbGFuZS5zdGF0ZTsKIAlzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpmYiA9IHN0
YXRlLT5mYjsKIAlzdHJ1Y3QgZHJtX3JlY3QgcmVjdDsKIAotCXNwaW5fbG9jaygmdWRsLT5hY3Rp
dmVfZmJfMTZfbG9jayk7Ci0JdWRsLT5hY3RpdmVfZmJfMTYgPSBmYjsKLQlzcGluX3VubG9jaygm
dWRsLT5hY3RpdmVfZmJfMTZfbG9jayk7Ci0KIAlpZiAoIWZiKQogCQlyZXR1cm47CiAKLS0gCjIu
MjMuMAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJp
LWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBz
Oi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
