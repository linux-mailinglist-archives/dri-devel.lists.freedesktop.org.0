Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 9E411F1B42
	for <lists+dri-devel@lfdr.de>; Wed,  6 Nov 2019 17:31:37 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 06B7F6EDD7;
	Wed,  6 Nov 2019 16:31:35 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from bhuna.collabora.co.uk (bhuna.collabora.co.uk
 [IPv6:2a00:1098:0:82:1000:25:2eeb:e3e3])
 by gabe.freedesktop.org (Postfix) with ESMTPS id ED86B6EDD7
 for <dri-devel@lists.freedesktop.org>; Wed,  6 Nov 2019 16:31:33 +0000 (UTC)
Received: from [127.0.0.1] (localhost [127.0.0.1])
 (Authenticated sender: aratiu) with ESMTPSA id 1D2F728FDBA
From: Adrian Ratiu <adrian.ratiu@collabora.com>
To: linux-arm-kernel@lists.infradead.org,
 linux-stm32@st-md-mailman.stormreply.com,
 linux-rockchip@lists.infradead.org
Subject: [PATCH v2 1/4] drm: bridge: dw_mipi_dsi: access registers via a regmap
Date: Wed,  6 Nov 2019 18:30:28 +0200
Message-Id: <20191106163031.808061-2-adrian.ratiu@collabora.com>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20191106163031.808061-1-adrian.ratiu@collabora.com>
References: <20191106163031.808061-1-adrian.ratiu@collabora.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Neil Armstrong <narmstrong@baylibre.com>,
 Emil Velikov <emil.l.velikov@gmail.com>, linux-kernel@vger.kernel.org,
 dri-devel@lists.freedesktop.org,
 Boris Brezillon <boris.brezillon@collabora.com>, kernel@collabora.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Q29udmVydCB0aGUgY29tbW9uIGJyaWRnZSBjb2RlIGFuZCB0aGUgdHdvIHJvY2tjaGlwICYgc3Rt
IGRyaXZlcnMKd2hpY2ggY3VycmVudGx5IHVzZSBpdCB0byB0aGUgcmVnbWFwIEFQSSBpbiBhbnRp
Y2lwYXRpb24gZm9yIGZ1cnRoZXIKY2hhbmdlcyB0byBtYWtlIGl0IG1vcmUgZ2VuZXJpYyBhbmQg
YWRkIG9sZGVyIERTSSBob3N0IGNvbnRyb2xsZXIKc3VwcG9ydCBhcyBmb3VuZCBvbiBpLm14NiBi
YXNlZCBkZXZpY2VzLgoKVGhlIHJlZ21hcCBiZWNvbWVzIGFuIGludGVybmFsIHN0YXRlIG9mIHRo
ZSBicmlkZ2UuIE5vIGZ1bmN0aW9uYWwKY2hhbmdlcyBvdGhlciB0aGFuIHJlcXVpcmluZyB0aGUg
cGxhdGZvcm0gZHJpdmVycyB0byB1c2UgdGhlCnByZS1jb25maWd1cmVkIHJlZ21hcCBzdXBwbGll
ZCBieSB0aGUgYnJpZGdlIGFmdGVyIGl0cyBwcm9iZSgpIGNhbGwKaW5zdGVhZCBvZiBpb3JlbXAn
aW5nIHRoZSByZWdpc3RlcnMgdGhlbXNlbHZlcy4KCkluIHN1YnNlcXVlbnQgY29tbWl0cyB0aGUg
YnJpZGdlIHdpbGwgYmVjb21lIGFibGUgdG8gZGV0ZWN0IHRoZQpEU0kgaG9zdCBjb3JlIHZlcnNp
b24gYW5kIGluaXQgdGhlIHJlZ21hcCB3aXRoIGRpZmZlcmVudCByZWdpc3RlcgpsYXlvdXRzLiBU
aGUgcGxhdGZvcm0gZHJpdmVycyB3aWxsIGNvbnRpbnVlIHRvIHVzZSB0aGUgcmVnbWFwIHdpdGhv
dXQKbW9kaWZpY2F0aW9ucyBvciB3b3JyeWluZyBhYm91dCB0aGUgc3BlY2lmaWMgbGF5b3V0IGlu
IHVzZSAoaW4gb3RoZXIKd29yZHMgdGhlIGxheW91dCBpcyBhYnN0cmFjdGVkIGF3YXkgdmlhIHRo
ZSByZWdtYXApLgoKU3VnZ2VzdGVkLWJ5OiBCb3JpcyBCcmV6aWxsb24gPGJvcmlzLmJyZXppbGxv
bkBjb2xsYWJvcmEuY29tPgpSZXZpZXdlZC1ieTogTmVpbCBBcm1zdHJvbmcgPG5hcm1zdHJvbmdA
YmF5bGlicmUuY29tPgpSZXZpZXdlZC1ieTogRW1pbCBWZWxpa292IDxlbWlsLmwudmVsaWtvdkBn
bWFpbC5jb20+ClNpZ25lZC1vZmYtYnk6IEFkcmlhbiBSYXRpdSA8YWRyaWFuLnJhdGl1QGNvbGxh
Ym9yYS5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9zeW5vcHN5cy9kdy1taXBpLWRz
aS5jIHwgMjE1ICsrKysrKysrKystLS0tLS0tLQogLi4uL2dwdS9kcm0vcm9ja2NoaXAvZHctbWlw
aS1kc2ktcm9ja2NoaXAuYyAgIHwgIDE3ICstCiBkcml2ZXJzL2dwdS9kcm0vc3RtL2R3X21pcGlf
ZHNpLXN0bS5jICAgICAgICAgfCAgMzQgKystCiBpbmNsdWRlL2RybS9icmlkZ2UvZHdfbWlwaV9k
c2kuaCAgICAgICAgICAgICAgfCAgIDIgKy0KIDQgZmlsZXMgY2hhbmdlZCwgMTQ1IGluc2VydGlv
bnMoKyksIDEyMyBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJp
ZGdlL3N5bm9wc3lzL2R3LW1pcGktZHNpLmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3N5bm9w
c3lzL2R3LW1pcGktZHNpLmMKaW5kZXggYjZlNzkzYmI2NTNjLi42Y2I1NzgwN2YzZjkgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2Uvc3lub3BzeXMvZHctbWlwaS1kc2kuYworKysg
Yi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3N5bm9wc3lzL2R3LW1pcGktZHNpLmMKQEAgLTE1LDYg
KzE1LDcgQEAKICNpbmNsdWRlIDxsaW51eC9tb2R1bGUuaD4KICNpbmNsdWRlIDxsaW51eC9vZl9k
ZXZpY2UuaD4KICNpbmNsdWRlIDxsaW51eC9wbV9ydW50aW1lLmg+CisjaW5jbHVkZSA8bGludXgv
cmVnbWFwLmg+CiAjaW5jbHVkZSA8bGludXgvcmVzZXQuaD4KIAogI2luY2x1ZGUgPHZpZGVvL21p
cGlfZGlzcGxheS5oPgpAQCAtMjI2LDcgKzIyNyw3IEBAIHN0cnVjdCBkd19taXBpX2RzaSB7CiAJ
c3RydWN0IG1pcGlfZHNpX2hvc3QgZHNpX2hvc3Q7CiAJc3RydWN0IGRybV9icmlkZ2UgKnBhbmVs
X2JyaWRnZTsKIAlzdHJ1Y3QgZGV2aWNlICpkZXY7Ci0Jdm9pZCBfX2lvbWVtICpiYXNlOworCXN0
cnVjdCByZWdtYXAgKnJlZ3M7CiAKIAlzdHJ1Y3QgY2xrICpwY2xrOwogCkBAIC0yNDksNiArMjUw
LDEzIEBAIHN0cnVjdCBkd19taXBpX2RzaSB7CiAJY29uc3Qgc3RydWN0IGR3X21pcGlfZHNpX3Bs
YXRfZGF0YSAqcGxhdF9kYXRhOwogfTsKIAorc3RhdGljIGNvbnN0IHN0cnVjdCByZWdtYXBfY29u
ZmlnIGR3X21pcGlfZHNpX3JlZ21hcF9jZmcgPSB7CisJLnJlZ19iaXRzID0gMzIsCisJLnZhbF9i
aXRzID0gMzIsCisJLnJlZ19zdHJpZGUgPSA0LAorCS5uYW1lID0gImR3LW1pcGktZHNpIiwKK307
CisKIC8qCiAgKiBDaGVjayBpZiBlaXRoZXIgYSBsaW5rIHRvIGEgbWFzdGVyIG9yIHNsYXZlIGlz
IHByZXNlbnQKICAqLwpAQCAtMjgwLDE2ICsyODgsNiBAQCBzdGF0aWMgaW5saW5lIHN0cnVjdCBk
d19taXBpX2RzaSAqYnJpZGdlX3RvX2RzaShzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlKQogCXJl
dHVybiBjb250YWluZXJfb2YoYnJpZGdlLCBzdHJ1Y3QgZHdfbWlwaV9kc2ksIGJyaWRnZSk7CiB9
CiAKLXN0YXRpYyBpbmxpbmUgdm9pZCBkc2lfd3JpdGUoc3RydWN0IGR3X21pcGlfZHNpICpkc2ks
IHUzMiByZWcsIHUzMiB2YWwpCi17Ci0Jd3JpdGVsKHZhbCwgZHNpLT5iYXNlICsgcmVnKTsKLX0K
LQotc3RhdGljIGlubGluZSB1MzIgZHNpX3JlYWQoc3RydWN0IGR3X21pcGlfZHNpICpkc2ksIHUz
MiByZWcpCi17Ci0JcmV0dXJuIHJlYWRsKGRzaS0+YmFzZSArIHJlZyk7Ci19Ci0KIHN0YXRpYyBp
bnQgZHdfbWlwaV9kc2lfaG9zdF9hdHRhY2goc3RydWN0IG1pcGlfZHNpX2hvc3QgKmhvc3QsCiAJ
CQkJICAgc3RydWN0IG1pcGlfZHNpX2RldmljZSAqZGV2aWNlKQogewpAQCAtMzY2LDI5ICszNjQs
MjkgQEAgc3RhdGljIHZvaWQgZHdfbWlwaV9tZXNzYWdlX2NvbmZpZyhzdHJ1Y3QgZHdfbWlwaV9k
c2kgKmRzaSwKIAlpZiAobHBtKQogCQl2YWwgfD0gQ01EX01PREVfQUxMX0xQOwogCi0JZHNpX3dy
aXRlKGRzaSwgRFNJX0xQQ0xLX0NUUkwsIGxwbSA/IDAgOiBQSFlfVFhSRVFVRVNUQ0xLSFMpOwot
CWRzaV93cml0ZShkc2ksIERTSV9DTURfTU9ERV9DRkcsIHZhbCk7CisJcmVnbWFwX3dyaXRlKGRz
aS0+cmVncywgRFNJX0xQQ0xLX0NUUkwsIGxwbSA/IDAgOiBQSFlfVFhSRVFVRVNUQ0xLSFMpOwor
CXJlZ21hcF93cml0ZShkc2ktPnJlZ3MsIERTSV9DTURfTU9ERV9DRkcsIHZhbCk7CiB9CiAKIHN0
YXRpYyBpbnQgZHdfbWlwaV9kc2lfZ2VuX3BrdF9oZHJfd3JpdGUoc3RydWN0IGR3X21pcGlfZHNp
ICpkc2ksIHUzMiBoZHJfdmFsKQogewogCWludCByZXQ7Ci0JdTMyIHZhbCwgbWFzazsKKwl1MzIg
dmFsID0gMCwgbWFzazsKIAotCXJldCA9IHJlYWRsX3BvbGxfdGltZW91dChkc2ktPmJhc2UgKyBE
U0lfQ01EX1BLVF9TVEFUVVMsCi0JCQkJIHZhbCwgISh2YWwgJiBHRU5fQ01EX0ZVTEwpLCAxMDAw
LAotCQkJCSBDTURfUEtUX1NUQVRVU19USU1FT1VUX1VTKTsKKwlyZXQgPSByZWdtYXBfcmVhZF9w
b2xsX3RpbWVvdXQoZHNpLT5yZWdzLCBEU0lfQ01EX1BLVF9TVEFUVVMsCisJCQkJICAgICAgIHZh
bCwgISh2YWwgJiBHRU5fQ01EX0ZVTEwpLCAxMDAwLAorCQkJCSAgICAgICBDTURfUEtUX1NUQVRV
U19USU1FT1VUX1VTKTsKIAlpZiAocmV0KSB7CiAJCWRldl9lcnIoZHNpLT5kZXYsICJmYWlsZWQg
dG8gZ2V0IGF2YWlsYWJsZSBjb21tYW5kIEZJRk9cbiIpOwogCQlyZXR1cm4gcmV0OwogCX0KIAot
CWRzaV93cml0ZShkc2ksIERTSV9HRU5fSERSLCBoZHJfdmFsKTsKKwlyZWdtYXBfd3JpdGUoZHNp
LT5yZWdzLCBEU0lfR0VOX0hEUiwgaGRyX3ZhbCk7CiAKIAltYXNrID0gR0VOX0NNRF9FTVBUWSB8
IEdFTl9QTERfV19FTVBUWTsKLQlyZXQgPSByZWFkbF9wb2xsX3RpbWVvdXQoZHNpLT5iYXNlICsg
RFNJX0NNRF9QS1RfU1RBVFVTLAotCQkJCSB2YWwsICh2YWwgJiBtYXNrKSA9PSBtYXNrLAotCQkJ
CSAxMDAwLCBDTURfUEtUX1NUQVRVU19USU1FT1VUX1VTKTsKKwlyZXQgPSByZWdtYXBfcmVhZF9w
b2xsX3RpbWVvdXQoZHNpLT5yZWdzLCBEU0lfQ01EX1BLVF9TVEFUVVMsCisJCQkJICAgICAgIHZh
bCwgKHZhbCAmIG1hc2spID09IG1hc2ssCisJCQkJICAgICAgIDEwMDAsIENNRF9QS1RfU1RBVFVT
X1RJTUVPVVRfVVMpOwogCWlmIChyZXQpIHsKIAkJZGV2X2Vycihkc2ktPmRldiwgImZhaWxlZCB0
byB3cml0ZSBjb21tYW5kIEZJRk9cbiIpOwogCQlyZXR1cm4gcmV0OwpAQCAtNDAzLDI0ICs0MDEs
MjYgQEAgc3RhdGljIGludCBkd19taXBpX2RzaV93cml0ZShzdHJ1Y3QgZHdfbWlwaV9kc2kgKmRz
aSwKIAljb25zdCB1OCAqdHhfYnVmID0gcGFja2V0LT5wYXlsb2FkOwogCWludCBsZW4gPSBwYWNr
ZXQtPnBheWxvYWRfbGVuZ3RoLCBwbGRfZGF0YV9ieXRlcyA9IHNpemVvZih1MzIpLCByZXQ7CiAJ
X19sZTMyIHdvcmQ7Ci0JdTMyIHZhbDsKKwl1MzIgdmFsID0gMDsKIAogCXdoaWxlIChsZW4pIHsK
IAkJaWYgKGxlbiA8IHBsZF9kYXRhX2J5dGVzKSB7CiAJCQl3b3JkID0gMDsKIAkJCW1lbWNweSgm
d29yZCwgdHhfYnVmLCBsZW4pOwotCQkJZHNpX3dyaXRlKGRzaSwgRFNJX0dFTl9QTERfREFUQSwg
bGUzMl90b19jcHUod29yZCkpOworCQkJcmVnbWFwX3dyaXRlKGRzaS0+cmVncywgRFNJX0dFTl9Q
TERfREFUQSwKKwkJCQkgICAgIGxlMzJfdG9fY3B1KHdvcmQpKTsKIAkJCWxlbiA9IDA7CiAJCX0g
ZWxzZSB7CiAJCQltZW1jcHkoJndvcmQsIHR4X2J1ZiwgcGxkX2RhdGFfYnl0ZXMpOwotCQkJZHNp
X3dyaXRlKGRzaSwgRFNJX0dFTl9QTERfREFUQSwgbGUzMl90b19jcHUod29yZCkpOworCQkJcmVn
bWFwX3dyaXRlKGRzaS0+cmVncywgRFNJX0dFTl9QTERfREFUQSwKKwkJCQkgICAgIGxlMzJfdG9f
Y3B1KHdvcmQpKTsKIAkJCXR4X2J1ZiArPSBwbGRfZGF0YV9ieXRlczsKIAkJCWxlbiAtPSBwbGRf
ZGF0YV9ieXRlczsKIAkJfQogCi0JCXJldCA9IHJlYWRsX3BvbGxfdGltZW91dChkc2ktPmJhc2Ug
KyBEU0lfQ01EX1BLVF9TVEFUVVMsCi0JCQkJCSB2YWwsICEodmFsICYgR0VOX1BMRF9XX0ZVTEwp
LCAxMDAwLAotCQkJCQkgQ01EX1BLVF9TVEFUVVNfVElNRU9VVF9VUyk7CisJCXJldCA9IHJlZ21h
cF9yZWFkX3BvbGxfdGltZW91dChkc2ktPnJlZ3MsIERTSV9DTURfUEtUX1NUQVRVUywKKwkJCQkJ
ICAgICAgIHZhbCwgISh2YWwgJiBHRU5fUExEX1dfRlVMTCksCisJCQkJCSAgICAgICAxMDAwLCBD
TURfUEtUX1NUQVRVU19USU1FT1VUX1VTKTsKIAkJaWYgKHJldCkgewogCQkJZGV2X2Vycihkc2kt
PmRldiwKIAkJCQkiZmFpbGVkIHRvIGdldCBhdmFpbGFibGUgd3JpdGUgcGF5bG9hZCBGSUZPXG4i
KTsKQEAgLTQzOCwxMiArNDM4LDEyIEBAIHN0YXRpYyBpbnQgZHdfbWlwaV9kc2lfcmVhZChzdHJ1
Y3QgZHdfbWlwaV9kc2kgKmRzaSwKIHsKIAlpbnQgaSwgaiwgcmV0LCBsZW4gPSBtc2ctPnJ4X2xl
bjsKIAl1OCAqYnVmID0gbXNnLT5yeF9idWY7Ci0JdTMyIHZhbDsKKwl1MzIgdmFsID0gMDsKIAog
CS8qIFdhaXQgZW5kIG9mIHRoZSByZWFkIG9wZXJhdGlvbiAqLwotCXJldCA9IHJlYWRsX3BvbGxf
dGltZW91dChkc2ktPmJhc2UgKyBEU0lfQ01EX1BLVF9TVEFUVVMsCi0JCQkJIHZhbCwgISh2YWwg
JiBHRU5fUkRfQ01EX0JVU1kpLAotCQkJCSAxMDAwLCBDTURfUEtUX1NUQVRVU19USU1FT1VUX1VT
KTsKKwlyZXQgPSByZWdtYXBfcmVhZF9wb2xsX3RpbWVvdXQoZHNpLT5yZWdzLCBEU0lfQ01EX1BL
VF9TVEFUVVMsCisJCQkJICAgICAgIHZhbCwgISh2YWwgJiBHRU5fUkRfQ01EX0JVU1kpLAorCQkJ
CSAgICAgICAxMDAwLCBDTURfUEtUX1NUQVRVU19USU1FT1VUX1VTKTsKIAlpZiAocmV0KSB7CiAJ
CWRldl9lcnIoZHNpLT5kZXYsICJUaW1lb3V0IGR1cmluZyByZWFkIG9wZXJhdGlvblxuIik7CiAJ
CXJldHVybiByZXQ7CkBAIC00NTEsMTUgKzQ1MSwxNSBAQCBzdGF0aWMgaW50IGR3X21pcGlfZHNp
X3JlYWQoc3RydWN0IGR3X21pcGlfZHNpICpkc2ksCiAKIAlmb3IgKGkgPSAwOyBpIDwgbGVuOyBp
ICs9IDQpIHsKIAkJLyogUmVhZCBmaWZvIG11c3Qgbm90IGJlIGVtcHR5IGJlZm9yZSBhbGwgYnl0
ZXMgYXJlIHJlYWQgKi8KLQkJcmV0ID0gcmVhZGxfcG9sbF90aW1lb3V0KGRzaS0+YmFzZSArIERT
SV9DTURfUEtUX1NUQVRVUywKLQkJCQkJIHZhbCwgISh2YWwgJiBHRU5fUExEX1JfRU1QVFkpLAot
CQkJCQkgMTAwMCwgQ01EX1BLVF9TVEFUVVNfVElNRU9VVF9VUyk7CisJCXJldCA9IHJlZ21hcF9y
ZWFkX3BvbGxfdGltZW91dChkc2ktPnJlZ3MsIERTSV9DTURfUEtUX1NUQVRVUywKKwkJCQkJICAg
ICAgIHZhbCwgISh2YWwgJiBHRU5fUExEX1JfRU1QVFkpLAorCQkJCQkgICAgICAgMTAwMCwgQ01E
X1BLVF9TVEFUVVNfVElNRU9VVF9VUyk7CiAJCWlmIChyZXQpIHsKIAkJCWRldl9lcnIoZHNpLT5k
ZXYsICJSZWFkIHBheWxvYWQgRklGTyBpcyBlbXB0eVxuIik7CiAJCQlyZXR1cm4gcmV0OwogCQl9
CiAKLQkJdmFsID0gZHNpX3JlYWQoZHNpLCBEU0lfR0VOX1BMRF9EQVRBKTsKKwkJcmVnbWFwX3Jl
YWQoZHNpLT5yZWdzLCBEU0lfR0VOX1BMRF9EQVRBLCAmdmFsKTsKIAkJZm9yIChqID0gMDsgaiA8
IDQgJiYgaiArIGkgPCBsZW47IGorKykKIAkJCWJ1ZltpICsgal0gPSB2YWwgPj4gKDggKiBqKTsK
IAl9CkBAIC01MzYsMjkgKzUzNiwyOSBAQCBzdGF0aWMgdm9pZCBkd19taXBpX2RzaV92aWRlb19t
b2RlX2NvbmZpZyhzdHJ1Y3QgZHdfbWlwaV9kc2kgKmRzaSkKIAl9CiAjZW5kaWYgLyogQ09ORklH
X0RFQlVHX0ZTICovCiAKLQlkc2lfd3JpdGUoZHNpLCBEU0lfVklEX01PREVfQ0ZHLCB2YWwpOwor
CXJlZ21hcF93cml0ZShkc2ktPnJlZ3MsIERTSV9WSURfTU9ERV9DRkcsIHZhbCk7CiB9CiAKIHN0
YXRpYyB2b2lkIGR3X21pcGlfZHNpX3NldF9tb2RlKHN0cnVjdCBkd19taXBpX2RzaSAqZHNpLAog
CQkJCSB1bnNpZ25lZCBsb25nIG1vZGVfZmxhZ3MpCiB7Ci0JZHNpX3dyaXRlKGRzaSwgRFNJX1BX
Ul9VUCwgUkVTRVQpOworCXJlZ21hcF93cml0ZShkc2ktPnJlZ3MsIERTSV9QV1JfVVAsIFJFU0VU
KTsKIAogCWlmIChtb2RlX2ZsYWdzICYgTUlQSV9EU0lfTU9ERV9WSURFTykgewotCQlkc2lfd3Jp
dGUoZHNpLCBEU0lfTU9ERV9DRkcsIEVOQUJMRV9WSURFT19NT0RFKTsKKwkJcmVnbWFwX3dyaXRl
KGRzaS0+cmVncywgRFNJX01PREVfQ0ZHLCBFTkFCTEVfVklERU9fTU9ERSk7CiAJCWR3X21pcGlf
ZHNpX3ZpZGVvX21vZGVfY29uZmlnKGRzaSk7Ci0JCWRzaV93cml0ZShkc2ksIERTSV9MUENMS19D
VFJMLCBQSFlfVFhSRVFVRVNUQ0xLSFMpOworCQlyZWdtYXBfd3JpdGUoZHNpLT5yZWdzLCBEU0lf
TFBDTEtfQ1RSTCwgUEhZX1RYUkVRVUVTVENMS0hTKTsKIAl9IGVsc2UgewotCQlkc2lfd3JpdGUo
ZHNpLCBEU0lfTU9ERV9DRkcsIEVOQUJMRV9DTURfTU9ERSk7CisJCXJlZ21hcF93cml0ZShkc2kt
PnJlZ3MsIERTSV9NT0RFX0NGRywgRU5BQkxFX0NNRF9NT0RFKTsKIAl9CiAKLQlkc2lfd3JpdGUo
ZHNpLCBEU0lfUFdSX1VQLCBQT1dFUlVQKTsKKwlyZWdtYXBfd3JpdGUoZHNpLT5yZWdzLCBEU0lf
UFdSX1VQLCBQT1dFUlVQKTsKIH0KIAogc3RhdGljIHZvaWQgZHdfbWlwaV9kc2lfZGlzYWJsZShz
dHJ1Y3QgZHdfbWlwaV9kc2kgKmRzaSkKIHsKLQlkc2lfd3JpdGUoZHNpLCBEU0lfUFdSX1VQLCBS
RVNFVCk7Ci0JZHNpX3dyaXRlKGRzaSwgRFNJX1BIWV9SU1RaLCBQSFlfUlNUWik7CisJcmVnbWFw
X3dyaXRlKGRzaS0+cmVncywgRFNJX1BXUl9VUCwgUkVTRVQpOworCXJlZ21hcF93cml0ZShkc2kt
PnJlZ3MsIERTSV9QSFlfUlNUWiwgUEhZX1JTVFopOwogfQogCiBzdGF0aWMgdm9pZCBkd19taXBp
X2RzaV9pbml0KHN0cnVjdCBkd19taXBpX2RzaSAqZHNpKQpAQCAtNTczLDE0ICs1NzMsMTQgQEAg
c3RhdGljIHZvaWQgZHdfbWlwaV9kc2lfaW5pdChzdHJ1Y3QgZHdfbWlwaV9kc2kgKmRzaSkKIAkg
Ki8KIAl1MzIgZXNjX2Nsa19kaXZpc2lvbiA9IChkc2ktPmxhbmVfbWJwcyA+PiAzKSAvIDIwICsg
MTsKIAotCWRzaV93cml0ZShkc2ksIERTSV9QV1JfVVAsIFJFU0VUKTsKKwlyZWdtYXBfd3JpdGUo
ZHNpLT5yZWdzLCBEU0lfUFdSX1VQLCBSRVNFVCk7CiAKIAkvKgogCSAqIFRPRE8gZHcgZHJ2IGlt
cHJvdmVtZW50cwogCSAqIHRpbWVvdXQgY2xvY2sgZGl2aXNpb24gc2hvdWxkIGJlIGNvbXB1dGVk
IHdpdGggdGhlCiAJICogaGlnaCBzcGVlZCB0cmFuc21pc3Npb24gY291bnRlciB0aW1lb3V0IGFu
ZCBieXRlIGxhbmUuLi4KIAkgKi8KLQlkc2lfd3JpdGUoZHNpLCBEU0lfQ0xLTUdSX0NGRywgVE9f
Q0xLX0RJVklTSU9OKDEwKSB8CisJcmVnbWFwX3dyaXRlKGRzaS0+cmVncywgRFNJX0NMS01HUl9D
RkcsIFRPX0NMS19ESVZJU0lPTigxMCkgfAogCQkgIFRYX0VTQ19DTEtfRElWSVNJT04oZXNjX2Ns
a19kaXZpc2lvbikpOwogfQogCkBAIC02MDksMjIgKzYwOSwyMiBAQCBzdGF0aWMgdm9pZCBkd19t
aXBpX2RzaV9kcGlfY29uZmlnKHN0cnVjdCBkd19taXBpX2RzaSAqZHNpLAogCWlmIChtb2RlLT5m
bGFncyAmIERSTV9NT0RFX0ZMQUdfTkhTWU5DKQogCQl2YWwgfD0gSFNZTkNfQUNUSVZFX0xPVzsK
IAotCWRzaV93cml0ZShkc2ksIERTSV9EUElfVkNJRCwgRFBJX1ZDSUQoZHNpLT5jaGFubmVsKSk7
Ci0JZHNpX3dyaXRlKGRzaSwgRFNJX0RQSV9DT0xPUl9DT0RJTkcsIGNvbG9yKTsKLQlkc2lfd3Jp
dGUoZHNpLCBEU0lfRFBJX0NGR19QT0wsIHZhbCk7CisJcmVnbWFwX3dyaXRlKGRzaS0+cmVncywg
RFNJX0RQSV9WQ0lELCBEUElfVkNJRChkc2ktPmNoYW5uZWwpKTsKKwlyZWdtYXBfd3JpdGUoZHNp
LT5yZWdzLCBEU0lfRFBJX0NPTE9SX0NPRElORywgY29sb3IpOworCXJlZ21hcF93cml0ZShkc2kt
PnJlZ3MsIERTSV9EUElfQ0ZHX1BPTCwgdmFsKTsKIAkvKgogCSAqIFRPRE8gZHcgZHJ2IGltcHJv
dmVtZW50cwogCSAqIGxhcmdlc3QgcGFja2V0IHNpemVzIGR1cmluZyBoZnAgb3IgZHVyaW5nIHZz
YS92cGIvdmZwCiAJICogc2hvdWxkIGJlIGNvbXB1dGVkIGFjY29yZGluZyB0byBieXRlIGxhbmUs
IGxhbmUgbnVtYmVyIGFuZCBvbmx5CiAJICogaWYgc2VuZGluZyBscCBjbWRzIGluIGhpZ2ggc3Bl
ZWQgaXMgZW5hYmxlIChQSFlfVFhSRVFVRVNUQ0xLSFMpCiAJICovCi0JZHNpX3dyaXRlKGRzaSwg
RFNJX0RQSV9MUF9DTURfVElNLCBPVVRWQUNUX0xQQ01EX1RJTUUoNCkKKwlyZWdtYXBfd3JpdGUo
ZHNpLT5yZWdzLCBEU0lfRFBJX0xQX0NNRF9USU0sIE9VVFZBQ1RfTFBDTURfVElNRSg0KQogCQkg
IHwgSU5WQUNUX0xQQ01EX1RJTUUoNCkpOwogfQogCiBzdGF0aWMgdm9pZCBkd19taXBpX2RzaV9w
YWNrZXRfaGFuZGxlcl9jb25maWcoc3RydWN0IGR3X21pcGlfZHNpICpkc2kpCiB7Ci0JZHNpX3dy
aXRlKGRzaSwgRFNJX1BDS0hETF9DRkcsIENSQ19SWF9FTiB8IEVDQ19SWF9FTiB8IEJUQV9FTik7
CisJcmVnbWFwX3dyaXRlKGRzaS0+cmVncywgRFNJX1BDS0hETF9DRkcsIENSQ19SWF9FTiB8IEVD
Q19SWF9FTiB8IEJUQV9FTik7CiB9CiAKIHN0YXRpYyB2b2lkIGR3X21pcGlfZHNpX3ZpZGVvX3Bh
Y2tldF9jb25maWcoc3RydWN0IGR3X21pcGlfZHNpICpkc2ksCkBAIC02MzgsNyArNjM4LDcgQEAg
c3RhdGljIHZvaWQgZHdfbWlwaV9kc2lfdmlkZW9fcGFja2V0X2NvbmZpZyhzdHJ1Y3QgZHdfbWlw
aV9kc2kgKmRzaSwKIAkgKiBub24tYnVyc3QgdmlkZW8gbW9kZXMsIHNlZSBkd19taXBpX2RzaV92
aWRlb19tb2RlX2NvbmZpZygpLi4uCiAJICovCiAKLQlkc2lfd3JpdGUoZHNpLCBEU0lfVklEX1BL
VF9TSVpFLAorCXJlZ21hcF93cml0ZShkc2ktPnJlZ3MsIERTSV9WSURfUEtUX1NJWkUsCiAJCSAg
ICAgICBkd19taXBpX2lzX2R1YWxfbW9kZShkc2kpID8KIAkJCQlWSURfUEtUX1NJWkUobW9kZS0+
aGRpc3BsYXkgLyAyKSA6CiAJCQkJVklEX1BLVF9TSVpFKG1vZGUtPmhkaXNwbGF5KSk7CkBAIC02
NTEsMTQgKzY1MSwxNSBAQCBzdGF0aWMgdm9pZCBkd19taXBpX2RzaV9jb21tYW5kX21vZGVfY29u
ZmlnKHN0cnVjdCBkd19taXBpX2RzaSAqZHNpKQogCSAqIGNvbXB1dGUgaGlnaCBzcGVlZCB0cmFu
c21pc3Npb24gY291bnRlciB0aW1lb3V0IGFjY29yZGluZwogCSAqIHRvIHRoZSB0aW1lb3V0IGNs
b2NrIGRpdmlzaW9uIChUT19DTEtfRElWSVNJT04pIGFuZCBieXRlIGxhbmUuLi4KIAkgKi8KLQlk
c2lfd3JpdGUoZHNpLCBEU0lfVE9fQ05UX0NGRywgSFNUWF9UT19DTlQoMTAwMCkgfCBMUFJYX1RP
X0NOVCgxMDAwKSk7CisJcmVnbWFwX3dyaXRlKGRzaS0+cmVncywgRFNJX1RPX0NOVF9DRkcsCisJ
CSAgICAgSFNUWF9UT19DTlQoMTAwMCkgfCBMUFJYX1RPX0NOVCgxMDAwKSk7CiAJLyoKIAkgKiBU
T0RPIGR3IGRydiBpbXByb3ZlbWVudHMKIAkgKiB0aGUgQnVzLVR1cm4tQXJvdW5kIFRpbWVvdXQg
Q291bnRlciBzaG91bGQgYmUgY29tcHV0ZWQKIAkgKiBhY2NvcmRpbmcgdG8gYnl0ZSBsYW5lLi4u
CiAJICovCi0JZHNpX3dyaXRlKGRzaSwgRFNJX0JUQV9UT19DTlQsIDB4ZDAwKTsKLQlkc2lfd3Jp
dGUoZHNpLCBEU0lfTU9ERV9DRkcsIEVOQUJMRV9DTURfTU9ERSk7CisJcmVnbWFwX3dyaXRlKGRz
aS0+cmVncywgRFNJX0JUQV9UT19DTlQsIDB4ZDAwKTsKKwlyZWdtYXBfd3JpdGUoZHNpLT5yZWdz
LCBEU0lfTU9ERV9DRkcsIEVOQUJMRV9DTURfTU9ERSk7CiB9CiAKIC8qIEdldCBsYW5lIGJ5dGUg
Y2xvY2sgY3ljbGVzLiAqLwpAQCAtNjkyLDEzICs2OTMsMTMgQEAgc3RhdGljIHZvaWQgZHdfbWlw
aV9kc2lfbGluZV90aW1lcl9jb25maWcoc3RydWN0IGR3X21pcGlfZHNpICpkc2ksCiAJICogY29t
cHV0YXRpb25zIGJlbG93IG1heSBiZSBpbXByb3ZlZC4uLgogCSAqLwogCWxiY2MgPSBkd19taXBp
X2RzaV9nZXRfaGNvbXBvbmVudF9sYmNjKGRzaSwgbW9kZSwgaHRvdGFsKTsKLQlkc2lfd3JpdGUo
ZHNpLCBEU0lfVklEX0hMSU5FX1RJTUUsIGxiY2MpOworCXJlZ21hcF93cml0ZShkc2ktPnJlZ3Ms
IERTSV9WSURfSExJTkVfVElNRSwgbGJjYyk7CiAKIAlsYmNjID0gZHdfbWlwaV9kc2lfZ2V0X2hj
b21wb25lbnRfbGJjYyhkc2ksIG1vZGUsIGhzYSk7Ci0JZHNpX3dyaXRlKGRzaSwgRFNJX1ZJRF9I
U0FfVElNRSwgbGJjYyk7CisJcmVnbWFwX3dyaXRlKGRzaS0+cmVncywgRFNJX1ZJRF9IU0FfVElN
RSwgbGJjYyk7CiAKIAlsYmNjID0gZHdfbWlwaV9kc2lfZ2V0X2hjb21wb25lbnRfbGJjYyhkc2ks
IG1vZGUsIGhicCk7Ci0JZHNpX3dyaXRlKGRzaSwgRFNJX1ZJRF9IQlBfVElNRSwgbGJjYyk7CisJ
cmVnbWFwX3dyaXRlKGRzaS0+cmVncywgRFNJX1ZJRF9IQlBfVElNRSwgbGJjYyk7CiB9CiAKIHN0
YXRpYyB2b2lkIGR3X21pcGlfZHNpX3ZlcnRpY2FsX3RpbWluZ19jb25maWcoc3RydWN0IGR3X21p
cGlfZHNpICpkc2ksCkBAIC03MTEsMTAgKzcxMiwxMCBAQCBzdGF0aWMgdm9pZCBkd19taXBpX2Rz
aV92ZXJ0aWNhbF90aW1pbmdfY29uZmlnKHN0cnVjdCBkd19taXBpX2RzaSAqZHNpLAogCXZmcCA9
IG1vZGUtPnZzeW5jX3N0YXJ0IC0gbW9kZS0+dmRpc3BsYXk7CiAJdmJwID0gbW9kZS0+dnRvdGFs
IC0gbW9kZS0+dnN5bmNfZW5kOwogCi0JZHNpX3dyaXRlKGRzaSwgRFNJX1ZJRF9WQUNUSVZFX0xJ
TkVTLCB2YWN0aXZlKTsKLQlkc2lfd3JpdGUoZHNpLCBEU0lfVklEX1ZTQV9MSU5FUywgdnNhKTsK
LQlkc2lfd3JpdGUoZHNpLCBEU0lfVklEX1ZGUF9MSU5FUywgdmZwKTsKLQlkc2lfd3JpdGUoZHNp
LCBEU0lfVklEX1ZCUF9MSU5FUywgdmJwKTsKKwlyZWdtYXBfd3JpdGUoZHNpLT5yZWdzLCBEU0lf
VklEX1ZBQ1RJVkVfTElORVMsIHZhY3RpdmUpOworCXJlZ21hcF93cml0ZShkc2ktPnJlZ3MsIERT
SV9WSURfVlNBX0xJTkVTLCB2c2EpOworCXJlZ21hcF93cml0ZShkc2ktPnJlZ3MsIERTSV9WSURf
VkZQX0xJTkVTLCB2ZnApOworCXJlZ21hcF93cml0ZShkc2ktPnJlZ3MsIERTSV9WSURfVkJQX0xJ
TkVTLCB2YnApOwogfQogCiBzdGF0aWMgdm9pZCBkd19taXBpX2RzaV9kcGh5X3RpbWluZ19jb25m
aWcoc3RydWN0IGR3X21pcGlfZHNpICpkc2kpCkBAIC03MjksMTkgKzczMCwyNCBAQCBzdGF0aWMg
dm9pZCBkd19taXBpX2RzaV9kcGh5X3RpbWluZ19jb25maWcoc3RydWN0IGR3X21pcGlfZHNpICpk
c2kpCiAJICogRFNJX0NNRF9NT0RFX0NGRy5NQVhfUkRfUEtUX1NJWkVfTFAgKHNlZSBDTURfTU9E
RV9BTExfTFApCiAJICovCiAKLQlod192ZXJzaW9uID0gZHNpX3JlYWQoZHNpLCBEU0lfVkVSU0lP
TikgJiBWRVJTSU9OOworCXJlZ21hcF9yZWFkKGRzaS0+cmVncywgRFNJX1ZFUlNJT04sICZod192
ZXJzaW9uKTsKKwlod192ZXJzaW9uICY9IFZFUlNJT047CiAKIAlpZiAoaHdfdmVyc2lvbiA+PSBI
V1ZFUl8xMzEpIHsKLQkJZHNpX3dyaXRlKGRzaSwgRFNJX1BIWV9UTVJfQ0ZHLCBQSFlfSFMyTFBf
VElNRV9WMTMxKDB4NDApIHwKLQkJCSAgUEhZX0xQMkhTX1RJTUVfVjEzMSgweDQwKSk7Ci0JCWRz
aV93cml0ZShkc2ksIERTSV9QSFlfVE1SX1JEX0NGRywgTUFYX1JEX1RJTUVfVjEzMSgxMDAwMCkp
OworCQlyZWdtYXBfd3JpdGUoZHNpLT5yZWdzLCBEU0lfUEhZX1RNUl9DRkcsCisJCQkgICAgIFBI
WV9IUzJMUF9USU1FX1YxMzEoMHg0MCkgfAorCQkJICAgICBQSFlfTFAySFNfVElNRV9WMTMxKDB4
NDApKTsKKwkJcmVnbWFwX3dyaXRlKGRzaS0+cmVncywgRFNJX1BIWV9UTVJfUkRfQ0ZHLAorCQkJ
ICAgICBNQVhfUkRfVElNRV9WMTMxKDEwMDAwKSk7CiAJfSBlbHNlIHsKLQkJZHNpX3dyaXRlKGRz
aSwgRFNJX1BIWV9UTVJfQ0ZHLCBQSFlfSFMyTFBfVElNRSgweDQwKSB8Ci0JCQkgIFBIWV9MUDJI
U19USU1FKDB4NDApIHwgTUFYX1JEX1RJTUUoMTAwMDApKTsKKwkJcmVnbWFwX3dyaXRlKGRzaS0+
cmVncywgRFNJX1BIWV9UTVJfQ0ZHLAorCQkJICAgICBQSFlfSFMyTFBfVElNRSgweDQwKSB8CisJ
CQkgICAgIFBIWV9MUDJIU19USU1FKDB4NDApIHwKKwkJCSAgICAgTUFYX1JEX1RJTUUoMTAwMDAp
KTsKIAl9CiAKLQlkc2lfd3JpdGUoZHNpLCBEU0lfUEhZX1RNUl9MUENMS19DRkcsIFBIWV9DTEtI
UzJMUF9USU1FKDB4NDApCi0JCSAgfCBQSFlfQ0xLTFAySFNfVElNRSgweDQwKSk7CisJcmVnbWFw
X3dyaXRlKGRzaS0+cmVncywgRFNJX1BIWV9UTVJfTFBDTEtfQ0ZHLAorCQkgICAgIFBIWV9DTEtI
UzJMUF9USU1FKDB4NDApIHwgUEhZX0NMS0xQMkhTX1RJTUUoMHg0MCkpOwogfQogCiBzdGF0aWMg
dm9pZCBkd19taXBpX2RzaV9kcGh5X2ludGVyZmFjZV9jb25maWcoc3RydWN0IGR3X21pcGlfZHNp
ICpkc2kpCkBAIC03NTEsNDYgKzc1Nyw0OSBAQCBzdGF0aWMgdm9pZCBkd19taXBpX2RzaV9kcGh5
X2ludGVyZmFjZV9jb25maWcoc3RydWN0IGR3X21pcGlfZHNpICpkc2kpCiAJICogc3RvcCB3YWl0
IHRpbWUgc2hvdWxkIGJlIHRoZSBtYXhpbXVtIGJldHdlZW4gaG9zdCBkc2kKIAkgKiBhbmQgcGFu
ZWwgc3RvcCB3YWl0IHRpbWVzCiAJICovCi0JZHNpX3dyaXRlKGRzaSwgRFNJX1BIWV9JRl9DRkcs
IFBIWV9TVE9QX1dBSVRfVElNRSgweDIwKSB8Ci0JCSAgTl9MQU5FUyhkc2ktPmxhbmVzKSk7CisJ
cmVnbWFwX3dyaXRlKGRzaS0+cmVncywgRFNJX1BIWV9JRl9DRkcsCisJCSAgICAgUEhZX1NUT1Bf
V0FJVF9USU1FKDB4MjApIHwgTl9MQU5FUyhkc2ktPmxhbmVzKSk7CiB9CiAKIHN0YXRpYyB2b2lk
IGR3X21pcGlfZHNpX2RwaHlfaW5pdChzdHJ1Y3QgZHdfbWlwaV9kc2kgKmRzaSkKIHsKIAkvKiBD
bGVhciBQSFkgc3RhdGUgKi8KLQlkc2lfd3JpdGUoZHNpLCBEU0lfUEhZX1JTVFosIFBIWV9ESVNG
T1JDRVBMTCB8IFBIWV9ESVNBQkxFQ0xLCi0JCSAgfCBQSFlfUlNUWiB8IFBIWV9TSFVURE9XTlop
OwotCWRzaV93cml0ZShkc2ksIERTSV9QSFlfVFNUX0NUUkwwLCBQSFlfVU5URVNUQ0xSKTsKLQlk
c2lfd3JpdGUoZHNpLCBEU0lfUEhZX1RTVF9DVFJMMCwgUEhZX1RFU1RDTFIpOwotCWRzaV93cml0
ZShkc2ksIERTSV9QSFlfVFNUX0NUUkwwLCBQSFlfVU5URVNUQ0xSKTsKKwlyZWdtYXBfd3JpdGUo
ZHNpLT5yZWdzLCBEU0lfUEhZX1JTVFosIFBIWV9ESVNGT1JDRVBMTCB8IFBIWV9ESVNBQkxFQ0xL
CisJCSAgICAgfCBQSFlfUlNUWiB8IFBIWV9TSFVURE9XTlopOworCXJlZ21hcF93cml0ZShkc2kt
PnJlZ3MsIERTSV9QSFlfVFNUX0NUUkwwLCBQSFlfVU5URVNUQ0xSKTsKKwlyZWdtYXBfd3JpdGUo
ZHNpLT5yZWdzLCBEU0lfUEhZX1RTVF9DVFJMMCwgUEhZX1RFU1RDTFIpOworCXJlZ21hcF93cml0
ZShkc2ktPnJlZ3MsIERTSV9QSFlfVFNUX0NUUkwwLCBQSFlfVU5URVNUQ0xSKTsKIH0KIAogc3Rh
dGljIHZvaWQgZHdfbWlwaV9kc2lfZHBoeV9lbmFibGUoc3RydWN0IGR3X21pcGlfZHNpICpkc2kp
CiB7Ci0JdTMyIHZhbDsKKwl1MzIgdmFsID0gMDsKIAlpbnQgcmV0OwogCi0JZHNpX3dyaXRlKGRz
aSwgRFNJX1BIWV9SU1RaLCBQSFlfRU5GT1JDRVBMTCB8IFBIWV9FTkFCTEVDTEsgfAotCQkgIFBI
WV9VTlJTVFogfCBQSFlfVU5TSFVURE9XTlopOworCXJlZ21hcF93cml0ZShkc2ktPnJlZ3MsIERT
SV9QSFlfUlNUWiwgUEhZX0VORk9SQ0VQTEwgfCBQSFlfRU5BQkxFQ0xLIHwKKwkJICAgICBQSFlf
VU5SU1RaIHwgUEhZX1VOU0hVVERPV05aKTsKIAotCXJldCA9IHJlYWRsX3BvbGxfdGltZW91dChk
c2ktPmJhc2UgKyBEU0lfUEhZX1NUQVRVUywgdmFsLAotCQkJCSB2YWwgJiBQSFlfTE9DSywgMTAw
MCwgUEhZX1NUQVRVU19USU1FT1VUX1VTKTsKKwlyZXQgPSByZWdtYXBfcmVhZF9wb2xsX3RpbWVv
dXQoZHNpLT5yZWdzLCBEU0lfUEhZX1NUQVRVUywKKwkJCQkgICAgICAgdmFsLCB2YWwgJiBQSFlf
TE9DSywKKwkJCQkgICAgICAgMTAwMCwgUEhZX1NUQVRVU19USU1FT1VUX1VTKTsKIAlpZiAocmV0
KQogCQlEUk1fREVCVUdfRFJJVkVSKCJmYWlsZWQgdG8gd2FpdCBwaHkgbG9jayBzdGF0ZVxuIik7
CiAKLQlyZXQgPSByZWFkbF9wb2xsX3RpbWVvdXQoZHNpLT5iYXNlICsgRFNJX1BIWV9TVEFUVVMs
Ci0JCQkJIHZhbCwgdmFsICYgUEhZX1NUT1BfU1RBVEVfQ0xLX0xBTkUsIDEwMDAsCi0JCQkJIFBI
WV9TVEFUVVNfVElNRU9VVF9VUyk7CisJcmV0ID0gcmVnbWFwX3JlYWRfcG9sbF90aW1lb3V0KGRz
aS0+cmVncywgRFNJX1BIWV9TVEFUVVMsCisJCQkJICAgICAgIHZhbCwgdmFsICYgUEhZX1NUT1Bf
U1RBVEVfQ0xLX0xBTkUsIDEwMDAsCisJCQkJICAgICAgIFBIWV9TVEFUVVNfVElNRU9VVF9VUyk7
CiAJaWYgKHJldCkKIAkJRFJNX0RFQlVHX0RSSVZFUigiZmFpbGVkIHRvIHdhaXQgcGh5IGNsayBs
YW5lIHN0b3Agc3RhdGVcbiIpOwogfQogCiBzdGF0aWMgdm9pZCBkd19taXBpX2RzaV9jbGVhcl9l
cnIoc3RydWN0IGR3X21pcGlfZHNpICpkc2kpCiB7Ci0JZHNpX3JlYWQoZHNpLCBEU0lfSU5UX1NU
MCk7Ci0JZHNpX3JlYWQoZHNpLCBEU0lfSU5UX1NUMSk7Ci0JZHNpX3dyaXRlKGRzaSwgRFNJX0lO
VF9NU0swLCAwKTsKLQlkc2lfd3JpdGUoZHNpLCBEU0lfSU5UX01TSzEsIDApOworCXUzMiB2YWw7
CisKKwlyZWdtYXBfcmVhZChkc2ktPnJlZ3MsIERTSV9JTlRfU1QwLCAmdmFsKTsKKwlyZWdtYXBf
cmVhZChkc2ktPnJlZ3MsIERTSV9JTlRfU1QxLCAmdmFsKTsKKwlyZWdtYXBfd3JpdGUoZHNpLT5y
ZWdzLCBEU0lfSU5UX01TSzAsIDApOworCXJlZ21hcF93cml0ZShkc2ktPnJlZ3MsIERTSV9JTlRf
TVNLMSwgMCk7CiB9CiAKIHN0YXRpYyB2b2lkIGR3X21pcGlfZHNpX2JyaWRnZV9wb3N0X2Rpc2Fi
bGUoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSkKQEAgLTk3NywxMSArOTg2LDEzIEBAIHN0YXRp
YyB2b2lkIGR3X21pcGlfZHNpX2RlYnVnZnNfcmVtb3ZlKHN0cnVjdCBkd19taXBpX2RzaSAqZHNp
KSB7IH0KIAogc3RhdGljIHN0cnVjdCBkd19taXBpX2RzaSAqCiBfX2R3X21pcGlfZHNpX3Byb2Jl
KHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYsCi0JCSAgICBjb25zdCBzdHJ1Y3QgZHdfbWlw
aV9kc2lfcGxhdF9kYXRhICpwbGF0X2RhdGEpCisJCSAgICBzdHJ1Y3QgZHdfbWlwaV9kc2lfcGxh
dF9kYXRhICpwbGF0X2RhdGEpCiB7CiAJc3RydWN0IGRldmljZSAqZGV2ID0gJnBkZXYtPmRldjsK
IAlzdHJ1Y3QgcmVzZXRfY29udHJvbCAqYXBiX3JzdDsKIAlzdHJ1Y3QgZHdfbWlwaV9kc2kgKmRz
aTsKKwlzdHJ1Y3QgcmVzb3VyY2UgKnJlczsKKwl2b2lkIF9faW9tZW0gKnJlZ3M7CiAJaW50IHJl
dDsKIAogCWRzaSA9IGRldm1fa3phbGxvYyhkZXYsIHNpemVvZigqZHNpKSwgR0ZQX0tFUk5FTCk7
CkBAIC05OTYsMTUgKzEwMDcsMjkgQEAgX19kd19taXBpX2RzaV9wcm9iZShzdHJ1Y3QgcGxhdGZv
cm1fZGV2aWNlICpwZGV2LAogCQlyZXR1cm4gRVJSX1BUUigtRU5PREVWKTsKIAl9CiAKLQlpZiAo
IXBsYXRfZGF0YS0+YmFzZSkgewotCQlkc2ktPmJhc2UgPSBkZXZtX3BsYXRmb3JtX2lvcmVtYXBf
cmVzb3VyY2UocGRldiwgMCk7Ci0JCWlmIChJU19FUlIoZHNpLT5iYXNlKSkKLQkJCXJldHVybiBF
UlJfUFRSKC1FTk9ERVYpOworCXJlcyA9IHBsYXRmb3JtX2dldF9yZXNvdXJjZShwZGV2LCBJT1JF
U09VUkNFX01FTSwgMCk7CisJaWYgKElTX0VSUihyZXMpKSB7CisJCXJldCA9IFBUUl9FUlIocmVz
KTsKKwkJRFJNX0VSUk9SKCJGYWlsZWQgdG8gZ2V0IHBsYXRmb3JtIHJlc291cmNlOiAlZFxuIiwg
cmV0KTsKKwkJcmV0dXJuIEVSUl9QVFIocmV0KTsKKwl9CisKKwlyZWdzID0gZGV2bV9pb3JlbWFw
X3Jlc291cmNlKGRldiwgcmVzKTsKKwlpZiAoSVNfRVJSKHJlZ3MpKSB7CisJCXJldCA9IFBUUl9F
UlIocmVncyk7CisJCURSTV9FUlJPUigiRmFpbGVkIHRvIG1hcCBEU0kgcmVnaXN0ZXJzOiAlZFxu
IiwgcmV0KTsKKwkJcmV0dXJuIEVSUl9QVFIocmV0KTsKKwl9CiAKLQl9IGVsc2UgewotCQlkc2kt
PmJhc2UgPSBwbGF0X2RhdGEtPmJhc2U7CisJZHNpLT5yZWdzID0gZGV2bV9yZWdtYXBfaW5pdF9t
bWlvKGRldiwgcmVncywgJmR3X21pcGlfZHNpX3JlZ21hcF9jZmcpOworCWlmIChJU19FUlIoZHNp
LT5yZWdzKSkgeworCQlyZXQgPSBQVFJfRVJSKGRzaS0+cmVncyk7CisJCURSTV9FUlJPUigiRmFp
bGVkIHRvIGNyZWF0ZSBEVyBNSVBJIERTSSByZWdtYXA6ICVkXG4iLCByZXQpOworCQlyZXR1cm4g
RVJSX1BUUihyZXQpOwogCX0KIAorCXBsYXRfZGF0YS0+cmVncyA9IGRzaS0+cmVnczsKKwogCWRz
aS0+cGNsayA9IGRldm1fY2xrX2dldChkZXYsICJwY2xrIik7CiAJaWYgKElTX0VSUihkc2ktPnBj
bGspKSB7CiAJCXJldCA9IFBUUl9FUlIoZHNpLT5wY2xrKTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9yb2NrY2hpcC9kdy1taXBpLWRzaS1yb2NrY2hpcC5jIGIvZHJpdmVycy9ncHUvZHJt
L3JvY2tjaGlwL2R3LW1pcGktZHNpLXJvY2tjaGlwLmMKaW5kZXggYmMwNzNlYzVjMTgzLi4zMjFk
NjZmMDU5OGUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9yb2NrY2hpcC9kdy1taXBpLWRz
aS1yb2NrY2hpcC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9yb2NrY2hpcC9kdy1taXBpLWRzaS1y
b2NrY2hpcC5jCkBAIC0yMTIsNyArMjEyLDcgQEAgc3RydWN0IHJvY2tjaGlwX2R3X2RzaV9jaGlw
X2RhdGEgewogc3RydWN0IGR3X21pcGlfZHNpX3JvY2tjaGlwIHsKIAlzdHJ1Y3QgZGV2aWNlICpk
ZXY7CiAJc3RydWN0IGRybV9lbmNvZGVyIGVuY29kZXI7Ci0Jdm9pZCBfX2lvbWVtICpiYXNlOwor
CXN0cnVjdCByZWdtYXAgKnJlZ3M7CiAKIAlzdHJ1Y3QgcmVnbWFwICpncmZfcmVnbWFwOwogCXN0
cnVjdCBjbGsgKnBsbHJlZl9jbGs7CkBAIC0yOTcsMTIgKzI5NywxNSBAQCBzdGF0aWMgaW50IG1h
eF9tYnBzX3RvX3BhcmFtZXRlcih1bnNpZ25lZCBpbnQgbWF4X21icHMpCiAKIHN0YXRpYyBpbmxp
bmUgdm9pZCBkc2lfd3JpdGUoc3RydWN0IGR3X21pcGlfZHNpX3JvY2tjaGlwICpkc2ksIHUzMiBy
ZWcsIHUzMiB2YWwpCiB7Ci0Jd3JpdGVsKHZhbCwgZHNpLT5iYXNlICsgcmVnKTsKKwlyZWdtYXBf
d3JpdGUoZHNpLT5yZWdzLCByZWcsIHZhbCk7CiB9CiAKIHN0YXRpYyBpbmxpbmUgdTMyIGRzaV9y
ZWFkKHN0cnVjdCBkd19taXBpX2RzaV9yb2NrY2hpcCAqZHNpLCB1MzIgcmVnKQogewotCXJldHVy
biByZWFkbChkc2ktPmJhc2UgKyByZWcpOworCXUzMiB2YWw7CisKKwlyZWdtYXBfcmVhZChkc2kt
PnJlZ3MsIHJlZywgJnZhbCk7CisJcmV0dXJuIHZhbDsKIH0KIAogc3RhdGljIGlubGluZSB2b2lk
IGRzaV9zZXQoc3RydWN0IGR3X21pcGlfZHNpX3JvY2tjaGlwICpkc2ksIHUzMiByZWcsIHUzMiBt
YXNrKQpAQCAtODk5LDExICs5MDIsNiBAQCBzdGF0aWMgaW50IGR3X21pcGlfZHNpX3JvY2tjaGlw
X3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCiAJCXJldHVybiAtRU5PTUVNOwog
CiAJcmVzID0gcGxhdGZvcm1fZ2V0X3Jlc291cmNlKHBkZXYsIElPUkVTT1VSQ0VfTUVNLCAwKTsK
LQlkc2ktPmJhc2UgPSBkZXZtX2lvcmVtYXBfcmVzb3VyY2UoZGV2LCByZXMpOwotCWlmIChJU19F
UlIoZHNpLT5iYXNlKSkgewotCQlEUk1fREVWX0VSUk9SKGRldiwgIlVuYWJsZSB0byBnZXQgZHNp
IHJlZ2lzdGVyc1xuIik7Ci0JCXJldHVybiBQVFJfRVJSKGRzaS0+YmFzZSk7Ci0JfQogCiAJaSA9
IDA7CiAJd2hpbGUgKGNkYXRhW2ldLnJlZykgewpAQCAtOTU0LDcgKzk1Miw2IEBAIHN0YXRpYyBp
bnQgZHdfbWlwaV9kc2lfcm9ja2NoaXBfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRl
dikKIAl9CiAKIAlkc2ktPmRldiA9IGRldjsKLQlkc2ktPnBkYXRhLmJhc2UgPSBkc2ktPmJhc2U7
CiAJZHNpLT5wZGF0YS5tYXhfZGF0YV9sYW5lcyA9IGRzaS0+Y2RhdGEtPm1heF9kYXRhX2xhbmVz
OwogCWRzaS0+cGRhdGEucGh5X29wcyA9ICZkd19taXBpX2RzaV9yb2NrY2hpcF9waHlfb3BzOwog
CWRzaS0+cGRhdGEuaG9zdF9vcHMgPSAmZHdfbWlwaV9kc2lfcm9ja2NoaXBfaG9zdF9vcHM7CkBA
IC05NzAsNiArOTY3LDggQEAgc3RhdGljIGludCBkd19taXBpX2RzaV9yb2NrY2hpcF9wcm9iZShz
dHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQogCQlnb3RvIGVycl9jbGtkaXNhYmxlOwogCX0K
IAorCWRzaS0+cmVncyA9IGRzaS0+cGRhdGEucmVnczsKKwogCXJldHVybiAwOwogCiBlcnJfY2xr
ZGlzYWJsZToKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9zdG0vZHdfbWlwaV9kc2ktc3Rt
LmMgYi9kcml2ZXJzL2dwdS9kcm0vc3RtL2R3X21pcGlfZHNpLXN0bS5jCmluZGV4IDUxNGVmZWZi
MDAxNi4uODEzNzNjNTA5ZTM1IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vc3RtL2R3X21p
cGlfZHNpLXN0bS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9zdG0vZHdfbWlwaV9kc2ktc3RtLmMK
QEAgLTEyLDYgKzEyLDcgQEAKICNpbmNsdWRlIDxsaW51eC9tb2R1bGUuaD4KICNpbmNsdWRlIDxs
aW51eC9wbGF0Zm9ybV9kZXZpY2UuaD4KICNpbmNsdWRlIDxsaW51eC9yZWd1bGF0b3IvY29uc3Vt
ZXIuaD4KKyNpbmNsdWRlIDxsaW51eC9yZWdtYXAuaD4KIAogI2luY2x1ZGUgPHZpZGVvL21pcGlf
ZGlzcGxheS5oPgogCkBAIC0xOSw2ICsyMCw4IEBACiAjaW5jbHVkZSA8ZHJtL2RybV9taXBpX2Rz
aS5oPgogI2luY2x1ZGUgPGRybS9kcm1fcHJpbnQuaD4KIAorI2RlZmluZSBEUklWRVJfTkFNRSAi
c3RtMzItZGlzcGxheS1kc2kiCisKICNkZWZpbmUgSFdWRVJfMTMwCQkJMHgzMTMzMzAwMAkvKiBJ
UCB2ZXJzaW9uIDEuMzAgKi8KICNkZWZpbmUgSFdWRVJfMTMxCQkJMHgzMTMzMzEwMAkvKiBJUCB2
ZXJzaW9uIDEuMzEgKi8KIApAQCAtNzUsNyArNzgsNyBAQCBlbnVtIGRzaV9jb2xvciB7CiAjZGVm
aW5lIFRJTUVPVVRfVVMJMjAwMDAwCiAKIHN0cnVjdCBkd19taXBpX2RzaV9zdG0gewotCXZvaWQg
X19pb21lbSAqYmFzZTsKKwlzdHJ1Y3QgcmVnbWFwICpyZWdzOwogCXN0cnVjdCBjbGsgKnBsbHJl
Zl9jbGs7CiAJc3RydWN0IGR3X21pcGlfZHNpICpkc2k7CiAJdTMyIGh3X3ZlcnNpb247CkBAIC04
NiwxMiArODksMTUgQEAgc3RydWN0IGR3X21pcGlfZHNpX3N0bSB7CiAKIHN0YXRpYyBpbmxpbmUg
dm9pZCBkc2lfd3JpdGUoc3RydWN0IGR3X21pcGlfZHNpX3N0bSAqZHNpLCB1MzIgcmVnLCB1MzIg
dmFsKQogewotCXdyaXRlbCh2YWwsIGRzaS0+YmFzZSArIHJlZyk7CisJcmVnbWFwX3dyaXRlKGRz
aS0+cmVncywgcmVnLCB2YWwpOwogfQogCiBzdGF0aWMgaW5saW5lIHUzMiBkc2lfcmVhZChzdHJ1
Y3QgZHdfbWlwaV9kc2lfc3RtICpkc2ksIHUzMiByZWcpCiB7Ci0JcmV0dXJuIHJlYWRsKGRzaS0+
YmFzZSArIHJlZyk7CisJdTMyIHZhbDsKKworCXJlZ21hcF9yZWFkKGRzaS0+cmVncywgcmVnLCAm
dmFsKTsKKwlyZXR1cm4gdmFsOwogfQogCiBzdGF0aWMgaW5saW5lIHZvaWQgZHNpX3NldChzdHJ1
Y3QgZHdfbWlwaV9kc2lfc3RtICpkc2ksIHUzMiByZWcsIHUzMiBtYXNrKQpAQCAtMjAyLDE1ICsy
MDgsMTUgQEAgc3RhdGljIGludCBkd19taXBpX2RzaV9waHlfaW5pdCh2b2lkICpwcml2X2RhdGEp
CiAKIAkvKiBFbmFibGUgdGhlIHJlZ3VsYXRvciAqLwogCWRzaV9zZXQoZHNpLCBEU0lfV1JQQ1Is
IFdSUENSX1JFR0VOIHwgV1JQQ1JfQkdSRU4pOwotCXJldCA9IHJlYWRsX3BvbGxfdGltZW91dChk
c2ktPmJhc2UgKyBEU0lfV0lTUiwgdmFsLCB2YWwgJiBXSVNSX1JSUywKLQkJCQkgU0xFRVBfVVMs
IFRJTUVPVVRfVVMpOworCXJldCA9IHJlZ21hcF9yZWFkX3BvbGxfdGltZW91dChkc2ktPnJlZ3Ms
IERTSV9XSVNSLCB2YWwsIHZhbCAmIFdJU1JfUlJTLAorCQkJCSAgICAgICBTTEVFUF9VUywgVElN
RU9VVF9VUyk7CiAJaWYgKHJldCkKIAkJRFJNX0RFQlVHX0RSSVZFUigiIVRJTUVPVVQhIHdhaXRp
bmcgUkVHVSwgbGV0J3MgY29udGludWVcbiIpOwogCiAJLyogRW5hYmxlIHRoZSBEU0kgUExMICYg
d2FpdCBmb3IgaXRzIGxvY2sgKi8KIAlkc2lfc2V0KGRzaSwgRFNJX1dSUENSLCBXUlBDUl9QTExF
Tik7Ci0JcmV0ID0gcmVhZGxfcG9sbF90aW1lb3V0KGRzaS0+YmFzZSArIERTSV9XSVNSLCB2YWws
IHZhbCAmIFdJU1JfUExMTFMsCi0JCQkJIFNMRUVQX1VTLCBUSU1FT1VUX1VTKTsKKwlyZXQgPSBy
ZWdtYXBfcmVhZF9wb2xsX3RpbWVvdXQoZHNpLT5yZWdzLCBEU0lfV0lTUiwgdmFsLAorCQkJCSAg
ICAgICB2YWwgJiBXSVNSX1BMTExTLCBTTEVFUF9VUywgVElNRU9VVF9VUyk7CiAJaWYgKHJldCkK
IAkJRFJNX0RFQlVHX0RSSVZFUigiIVRJTUVPVVQhIHdhaXRpbmcgUExMLCBsZXQncyBjb250aW51
ZVxuIik7CiAKQEAgLTMzMiwyMSArMzM4LDEyIEBAIHN0YXRpYyBpbnQgZHdfbWlwaV9kc2lfc3Rt
X3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCiAJc3RydWN0IGRldmljZSAqZGV2
ID0gJnBkZXYtPmRldjsKIAlzdHJ1Y3QgZHdfbWlwaV9kc2lfc3RtICpkc2k7CiAJc3RydWN0IGNs
ayAqcGNsazsKLQlzdHJ1Y3QgcmVzb3VyY2UgKnJlczsKIAlpbnQgcmV0OwogCiAJZHNpID0gZGV2
bV9remFsbG9jKGRldiwgc2l6ZW9mKCpkc2kpLCBHRlBfS0VSTkVMKTsKIAlpZiAoIWRzaSkKIAkJ
cmV0dXJuIC1FTk9NRU07CiAKLQlyZXMgPSBwbGF0Zm9ybV9nZXRfcmVzb3VyY2UocGRldiwgSU9S
RVNPVVJDRV9NRU0sIDApOwotCWRzaS0+YmFzZSA9IGRldm1faW9yZW1hcF9yZXNvdXJjZShkZXYs
IHJlcyk7Ci0JaWYgKElTX0VSUihkc2ktPmJhc2UpKSB7Ci0JCXJldCA9IFBUUl9FUlIoZHNpLT5i
YXNlKTsKLQkJRFJNX0VSUk9SKCJVbmFibGUgdG8gZ2V0IGRzaSByZWdpc3RlcnMgJWRcbiIsIHJl
dCk7Ci0JCXJldHVybiByZXQ7Ci0JfQotCiAJZHNpLT52ZGRfc3VwcGx5ID0gZGV2bV9yZWd1bGF0
b3JfZ2V0KGRldiwgInBoeS1kc2kiKTsKIAlpZiAoSVNfRVJSKGRzaS0+dmRkX3N1cHBseSkpIHsK
IAkJcmV0ID0gUFRSX0VSUihkc2ktPnZkZF9zdXBwbHkpOwpAQCAtMzk2LDcgKzM5Myw2IEBAIHN0
YXRpYyBpbnQgZHdfbWlwaV9kc2lfc3RtX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBk
ZXYpCiAJCWdvdG8gZXJyX2RzaV9wcm9iZTsKIAl9CiAKLQlkd19taXBpX2RzaV9zdG1fcGxhdF9k
YXRhLmJhc2UgPSBkc2ktPmJhc2U7CiAJZHdfbWlwaV9kc2lfc3RtX3BsYXRfZGF0YS5wcml2X2Rh
dGEgPSBkc2k7CiAKIAlwbGF0Zm9ybV9zZXRfZHJ2ZGF0YShwZGV2LCBkc2kpOwpAQCAtNDA4LDYg
KzQwNCw4IEBAIHN0YXRpYyBpbnQgZHdfbWlwaV9kc2lfc3RtX3Byb2JlKHN0cnVjdCBwbGF0Zm9y
bV9kZXZpY2UgKnBkZXYpCiAJCWdvdG8gZXJyX2RzaV9wcm9iZTsKIAl9CiAKKwlkc2ktPnJlZ3Mg
PSBkd19taXBpX2RzaV9zdG1fcGxhdF9kYXRhLnJlZ3M7CisKIAlyZXR1cm4gMDsKIAogZXJyX2Rz
aV9wcm9iZToKQEAgLTQ3NCw3ICs0NzIsNyBAQCBzdGF0aWMgc3RydWN0IHBsYXRmb3JtX2RyaXZl
ciBkd19taXBpX2RzaV9zdG1fZHJpdmVyID0gewogCS5yZW1vdmUJCT0gZHdfbWlwaV9kc2lfc3Rt
X3JlbW92ZSwKIAkuZHJpdmVyCQk9IHsKIAkJLm9mX21hdGNoX3RhYmxlID0gZHdfbWlwaV9kc2lf
c3RtX2R0X2lkcywKLQkJLm5hbWUJPSAic3RtMzItZGlzcGxheS1kc2kiLAorCQkubmFtZQk9IERS
SVZFUl9OQU1FLAogCQkucG0gPSAmZHdfbWlwaV9kc2lfc3RtX3BtX29wcywKIAl9LAogfTsKZGlm
ZiAtLWdpdCBhL2luY2x1ZGUvZHJtL2JyaWRnZS9kd19taXBpX2RzaS5oIGIvaW5jbHVkZS9kcm0v
YnJpZGdlL2R3X21pcGlfZHNpLmgKaW5kZXggOTRjYzY0YTM0MmUxLi5lY2MxODk3ZWZhNjIgMTAw
NjQ0Ci0tLSBhL2luY2x1ZGUvZHJtL2JyaWRnZS9kd19taXBpX2RzaS5oCisrKyBiL2luY2x1ZGUv
ZHJtL2JyaWRnZS9kd19taXBpX2RzaS5oCkBAIC0zNyw3ICszNyw3IEBAIHN0cnVjdCBkd19taXBp
X2RzaV9ob3N0X29wcyB7CiB9OwogCiBzdHJ1Y3QgZHdfbWlwaV9kc2lfcGxhdF9kYXRhIHsKLQl2
b2lkIF9faW9tZW0gKmJhc2U7CisJc3RydWN0IHJlZ21hcCAqcmVnczsKIAl1bnNpZ25lZCBpbnQg
bWF4X2RhdGFfbGFuZXM7CiAKIAllbnVtIGRybV9tb2RlX3N0YXR1cyAoKm1vZGVfdmFsaWQpKHZv
aWQgKnByaXZfZGF0YSwKLS0gCjIuMjMuMAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlz
dGluZm8vZHJpLWRldmVs
