Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 4C7DDFAB7F
	for <lists+dri-devel@lfdr.de>; Wed, 13 Nov 2019 08:56:45 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 42EB86E5BE;
	Wed, 13 Nov 2019 07:56:16 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from onstation.org (onstation.org [52.200.56.107])
 by gabe.freedesktop.org (Postfix) with ESMTPS id CFB076EB13;
 Tue, 12 Nov 2019 10:49:07 +0000 (UTC)
Received: from localhost.localdomain (c-98-239-145-235.hsd1.wv.comcast.net
 [98.239.145.235])
 (using TLSv1.3 with cipher TLS_AES_256_GCM_SHA384 (256/256 bits))
 (No client certificate requested) (Authenticated sender: masneyb)
 by onstation.org (Postfix) with ESMTPSA id 50CD63E994;
 Tue, 12 Nov 2019 10:49:06 +0000 (UTC)
From: Brian Masney <masneyb@onstation.org>
To: jeffrey.l.hugo@gmail.com,
	robdclark@chromium.org,
	robdclark@gmail.com
Subject: [PATCH] drm/msm/mdp5: enable autocommit
Date: Tue, 12 Nov 2019 05:48:54 -0500
Message-Id: <20191112104854.20850-1-masneyb@onstation.org>
X-Mailer: git-send-email 2.21.0
MIME-Version: 1.0
X-Mailman-Approved-At: Wed, 13 Nov 2019 07:55:45 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=onstation.org; s=default; t=1573555746;
 bh=56ifQmgIzk3QXd4ORBHCD/aXCQu1OaqK5LRDM7xRI0s=;
 h=From:To:Cc:Subject:Date:From;
 b=dWQQ90/o3DxsIwd6loRXS354139AX5Nqm5dr5Wlf342PS5ZdeV40xWKrb1AX1emWj
 vQidP1SbtQaohvBFo+ZiVZAbbbRstbVrK+LDNH3oreZ9w8bnYByy4gAuGvX4bM0QNS
 CBW2SxH0TXfba7EY8xTgeh86q6Yd1pYfvGuRO6d4=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: sean@poorly.run, linux-arm-msm@vger.kernel.org,
 freedreno@lists.freedesktop.org, linux-kernel@vger.kernel.org,
 dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

U2luY2UgdGhlIGludHJvZHVjdGlvbiBvZiBjb21taXQgMmQ5OWNlZDc4N2UzICgiZHJtL21zbTog
YXN5bmMgY29tbWl0CnN1cHBvcnQiKSwgY29tbWFuZC1tb2RlIHBhbmVscyBiZWdhbiB0aHJvd2lu
ZyB0aGUgZm9sbG93aW5nIGVycm9yczoKCiAgICBtc20gZmQ5MDAwMDAubWRzczogcHAgZG9uZSB0
aW1lIG91dCwgbG09MAoKTGV0J3MgZml4IHRoaXMgYnkgZW5hYmxpbmcgdGhlIGF1dG9yZWZyZXNo
IGZlYXR1cmUgdGhhdCdzIGF2YWlsYWJsZSBpbgp0aGUgTURQIHN0YXJ0aW5nIGF0IHZlcnNpb24g
MS4wLiBUaGlzIHdpbGwgY2F1c2UgdGhlIE1EUCB0bwphdXRvbWF0aWNhbGx5IHNlbmQgYSBmcmFt
ZSB0byB0aGUgcGFuZWwgZXZlcnkgdGltZSB0aGUgcGFuZWwgaW52b2tlcwp0aGUgVEUgc2lnbmFs
LCB3aGljaCB3aWxsIHRyaWdnZXIgdGhlIFBQX0RPTkUgSVJRLiBUaGlzIHJlcXVpcmVzIG5vdApz
ZW5kaW5nIGEgU1RBUlQgc2lnbmFsIGZvciBjb21tYW5kLW1vZGUgcGFuZWxzLgoKVGhpcyBmaXhl
cyB0aGUgZXJyb3IgYW5kIGdpdmVzIHVzIGEgY291bnRlciBmb3IgY29tbWFuZC1tb2RlIHBhbmVs
cyB0aGF0CndlIGNhbiB1c2UgdG8gaW1wbGVtZW50IGFzeW5jIGNvbW1pdCBzdXBwb3J0IGZvciB0
aGUgTURQNSBpbiBhIGZvbGxvdyB1cApwYXRjaC4KClNpZ25lZC1vZmYtYnk6IEJyaWFuIE1hc25l
eSA8bWFzbmV5YkBvbnN0YXRpb24ub3JnPgpTdWdnZXN0ZWQtYnk6IEplZmZyZXkgSHVnbyA8amVm
ZnJleS5sLmh1Z29AZ21haWwuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9tc20vZGlzcC9tZHA1
L21kcDVfY3J0Yy5jIHwgMTUgKysrKysrKysrKysrKystCiBkcml2ZXJzL2dwdS9kcm0vbXNtL2Rp
c3AvbWRwNS9tZHA1X2N0bC5jICB8ICA5ICstLS0tLS0tLQogMiBmaWxlcyBjaGFuZ2VkLCAxNSBp
bnNlcnRpb25zKCspLCA5IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9tc20vZGlzcC9tZHA1L21kcDVfY3J0Yy5jIGIvZHJpdmVycy9ncHUvZHJtL21zbS9kaXNwL21k
cDUvbWRwNV9jcnRjLmMKaW5kZXggMDVjYzA0ZjcyOWQ2Li41MzkzNDhjYjYzMzEgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9tc20vZGlzcC9tZHA1L21kcDVfY3J0Yy5jCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9tc20vZGlzcC9tZHA1L21kcDVfY3J0Yy5jCkBAIC00NTYsNiArNDU2LDcgQEAg
c3RhdGljIHZvaWQgbWRwNV9jcnRjX2F0b21pY19lbmFibGUoc3RydWN0IGRybV9jcnRjICpjcnRj
LAogewogCXN0cnVjdCBtZHA1X2NydGMgKm1kcDVfY3J0YyA9IHRvX21kcDVfY3J0YyhjcnRjKTsK
IAlzdHJ1Y3QgbWRwNV9jcnRjX3N0YXRlICptZHA1X2NzdGF0ZSA9IHRvX21kcDVfY3J0Y19zdGF0
ZShjcnRjLT5zdGF0ZSk7CisJc3RydWN0IG1kcDVfcGlwZWxpbmUgKnBpcGVsaW5lID0gJm1kcDVf
Y3N0YXRlLT5waXBlbGluZTsKIAlzdHJ1Y3QgbWRwNV9rbXMgKm1kcDVfa21zID0gZ2V0X2ttcyhj
cnRjKTsKIAlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmbWRwNV9rbXMtPnBkZXYtPmRldjsKIApAQCAt
NDkzLDkgKzQ5NCwyMSBAQCBzdGF0aWMgdm9pZCBtZHA1X2NydGNfYXRvbWljX2VuYWJsZShzdHJ1
Y3QgZHJtX2NydGMgKmNydGMsCiAKIAltZHBfaXJxX3JlZ2lzdGVyKCZtZHA1X2ttcy0+YmFzZSwg
Jm1kcDVfY3J0Yy0+ZXJyKTsKIAotCWlmIChtZHA1X2NzdGF0ZS0+Y21kX21vZGUpCisJaWYgKG1k
cDVfY3N0YXRlLT5jbWRfbW9kZSkgewogCQltZHBfaXJxX3JlZ2lzdGVyKCZtZHA1X2ttcy0+YmFz
ZSwgJm1kcDVfY3J0Yy0+cHBfZG9uZSk7CiAKKwkJLyoKKwkJICogRW5hYmxlIGF1dG9yZWZyZXNo
IHNvIHdlIGdldCByZWd1bGFyIHBpbmcvcG9uZyBJUlFzLgorCQkgKiAtIEJpdCAzMSBpcyB0aGUg
ZW5hYmxlIGJpdAorCQkgKiAtIEJpdHMgMC0xNSByZXByZXNlbnQgdGhlIGZyYW1lIGNvdW50LCBz
cGVjaWZpY2FsbHkgaG93IG1hbnkKKwkJICogICBURSBldmVudHMgYmVmb3JlIHRoZSBNRFAgc2Vu
ZHMgYSBmcmFtZS4KKwkJICovCisJCW1kcDVfd3JpdGUobWRwNV9rbXMsCisJCQkgICBSRUdfTURQ
NV9QUF9BVVRPUkVGUkVTSF9DT05GSUcocGlwZWxpbmUtPm1peGVyLT5wcCksCisJCQkgICBCSVQo
MzEpIHwgQklUKDApKTsKKwkJY3J0Y19mbHVzaF9hbGwoY3J0Yyk7CisJfQorCiAJbWRwNV9jcnRj
LT5lbmFibGVkID0gdHJ1ZTsKIH0KIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL21zbS9k
aXNwL21kcDUvbWRwNV9jdGwuYyBiL2RyaXZlcnMvZ3B1L2RybS9tc20vZGlzcC9tZHA1L21kcDVf
Y3RsLmMKaW5kZXggMDMwMjc5ZDdiNjRiLi5hZWUyOTVhYmFkYTMgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9tc20vZGlzcC9tZHA1L21kcDVfY3RsLmMKKysrIGIvZHJpdmVycy9ncHUvZHJt
L21zbS9kaXNwL21kcDUvbWRwNV9jdGwuYwpAQCAtMTg3LDE0ICsxODcsNyBAQCBzdGF0aWMgYm9v
bCBzdGFydF9zaWduYWxfbmVlZGVkKHN0cnVjdCBtZHA1X2N0bCAqY3RsLAogCWlmICghY3RsLT5l
bmNvZGVyX2VuYWJsZWQpCiAJCXJldHVybiBmYWxzZTsKIAotCXN3aXRjaCAoaW50Zi0+dHlwZSkg
ewotCWNhc2UgSU5URl9XQjoKLQkJcmV0dXJuIHRydWU7Ci0JY2FzZSBJTlRGX0RTSToKLQkJcmV0
dXJuIGludGYtPm1vZGUgPT0gTURQNV9JTlRGX0RTSV9NT0RFX0NPTU1BTkQ7Ci0JZGVmYXVsdDoK
LQkJcmV0dXJuIGZhbHNlOwotCX0KKwlyZXR1cm4gaW50Zi0+dHlwZSA9PSBJTlRGX1dCOwogfQog
CiAvKgotLSAKMi4yMS4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3Rv
cC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmkt
ZGV2ZWw=
