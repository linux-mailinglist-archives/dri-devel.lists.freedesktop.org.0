Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id AF9F31037F6
	for <lists+dri-devel@lfdr.de>; Wed, 20 Nov 2019 11:52:38 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 10B7E6E22F;
	Wed, 20 Nov 2019 10:52:36 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-oi1-f196.google.com (mail-oi1-f196.google.com
 [209.85.167.196])
 by gabe.freedesktop.org (Postfix) with ESMTPS id CF2886E22B;
 Wed, 20 Nov 2019 10:52:34 +0000 (UTC)
Received: by mail-oi1-f196.google.com with SMTP id o12so11954838oic.9;
 Wed, 20 Nov 2019 02:52:34 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=0XJsWOiRBHmD2kFFkY9kcnlnvFi6tJbcT90YhvqGyXk=;
 b=GDQhvft1vIUTfIqMajQobu9Ube8+PJx9+LRpmTNQJX3ou3MHItcTo1jplYqYR3EFo1
 PXXcAgPUB+wqcovvsS9+X4EHFUJWJ1d0+ew7c5PWGB+n1lRcm1Xmdzcp2ymm5R3PWoo2
 aa4NggkIvNj/uLf6l1Yu2qJWR1E81cQWU2Q+RCtuNb0An6dO/IDr8ffBSPLill3AmRus
 eyxjvAUC8dOd7TFdCLH37lmTolD+0LqLi2l7diRDJuk7HTcdqNff3oQ0rdg1T3NKgOfg
 gjq64A45pkAMWuX/FzIxM3ORk2xfgtwJX2JrZaGyh0LdjM0mUePgEG9ayPdmr+gccS0X
 iZ8w==
X-Gm-Message-State: APjAAAXtB4Y65cSMwOZia2XgN47C3TKSzaMJrvQPVfUvZhBkRGrROpV5
 8ImApiuuglNXwc4+q6HlwSG6dYdWypEaq9Ph3VQ=
X-Google-Smtp-Source: APXvYqwjeK8wGKLpVWDbUsiy3/KlqoGVkGuPGsBhhnC19t6bK2aUnaLaipUiMNwoRc1MrCUzVHSwZIqPrINSdEqrGGc=
X-Received: by 2002:aca:530c:: with SMTP id h12mr2293868oib.110.1574247153834; 
 Wed, 20 Nov 2019 02:52:33 -0800 (PST)
MIME-Version: 1.0
References: <20191017121901.13699-1-kherbst@redhat.com>
 <20191119214955.GA223696@google.com>
 <CACO55tu+8VeyMw1Lb6QvNspaJm9LDgoRbooVhr0s3v9uBt=feg@mail.gmail.com>
 <20191120101816.GX11621@lahna.fi.intel.com>
In-Reply-To: <20191120101816.GX11621@lahna.fi.intel.com>
From: "Rafael J. Wysocki" <rafael@kernel.org>
Date: Wed, 20 Nov 2019 11:52:22 +0100
Message-ID: <CAJZ5v0g4vp1C+zHU5nOVnkGsOjBvLaphK1kK=qAT6b=mK8kpsA@mail.gmail.com>
Subject: Re: [PATCH v4] pci: prevent putting nvidia GPUs into lower device
 states on certain intel bridges
To: Mika Westerberg <mika.westerberg@intel.com>
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Karol Herbst <kherbst@redhat.com>, Linux PM <linux-pm@vger.kernel.org>,
 Linux PCI <linux-pci@vger.kernel.org>,
 Mario Limonciello <Mario.Limonciello@dell.com>,
 "Rafael J . Wysocki" <rjw@rjwysocki.net>, LKML <linux-kernel@vger.kernel.org>,
 dri-devel <dri-devel@lists.freedesktop.org>,
 Bjorn Helgaas <helgaas@kernel.org>, nouveau <nouveau@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gV2VkLCBOb3YgMjAsIDIwMTkgYXQgMTE6MTggQU0gTWlrYSBXZXN0ZXJiZXJnCjxtaWthLndl
c3RlcmJlcmdAaW50ZWwuY29tPiB3cm90ZToKPgo+IEhpIEthcm9sLAo+Cj4gT24gVHVlLCBOb3Yg
MTksIDIwMTkgYXQgMTE6MjY6NDVQTSArMDEwMCwgS2Fyb2wgSGVyYnN0IHdyb3RlOgo+ID4gT24g
VHVlLCBOb3YgMTksIDIwMTkgYXQgMTA6NTAgUE0gQmpvcm4gSGVsZ2FhcyA8aGVsZ2Fhc0BrZXJu
ZWwub3JnPiB3cm90ZToKPiA+ID4KPiA+ID4gWytjYyBEYXZlXQo+ID4gPgo+ID4gPiBPbiBUaHUs
IE9jdCAxNywgMjAxOSBhdCAwMjoxOTowMVBNICswMjAwLCBLYXJvbCBIZXJic3Qgd3JvdGU6Cj4g
PiA+ID4gRml4ZXMgc3RhdGUgdHJhbnNpdGlvbnMgb2YgTnZpZGlhIFBhc2NhbCBHUFVzIGZyb20g
RDNjb2xkIGludG8gaGlnaGVyIGRldmljZQo+ID4gPiA+IHN0YXRlcy4KPiA+ID4gPgo+ID4gPiA+
IHYyOiBjb252ZXJ0IHRvIHBjaV9kZXYgcXVpcmsKPiA+ID4gPiAgICAgcHV0IGEgcHJvcGVyIHRl
Y2huaWNhbCBleHBsYW5hdGlvbiBvZiB0aGUgaXNzdWUgYXMgYSBpbi1jb2RlIGNvbW1lbnQKPiA+
ID4gPiB2MzogZGlzYWJsZSBpdCBvbmx5IGZvciBjZXJ0YWluIGNvbWJpbmF0aW9ucyBvZiBpbnRl
bCBhbmQgbnZpZGlhIGhhcmR3YXJlCj4gPiA+ID4gdjQ6IHNpbXBsaWZ5IHF1aXJrIGJ5IHNldHRp
bmcgZmxhZyBvbiB0aGUgR1BVIGl0c2VsZgo+ID4gPgo+ID4gPiBJIGhhdmUgemVybyBjb25maWRl
bmNlIHRoYXQgd2UgdW5kZXJzdGFuZCB0aGUgcmVhbCBwcm9ibGVtLCBidXQgd2UgZG8KPiA+ID4g
bmVlZCB0byBkbyBzb21ldGhpbmcgd2l0aCB0aGlzLiAgSSdsbCBtZXJnZSBpdCBmb3IgdjUuNSBp
ZiB3ZSBnZXQgdGhlCj4gPiA+IG1pbm9yIHByb2NlZHVyYWwgc3R1ZmYgYmVsb3cgc3RyYWlnaHRl
bmVkIG91dC4KPiA+ID4KPiA+Cj4gPiBUaGFua3MsIGFuZCBJIGFncmVlIHdpdGggeW91ciBzdGF0
ZW1lbnQsIGJ1dCBhdCB0aGlzIHBvaW50IEkgdGhpbmsKPiA+IG9ubHkgSW50ZWwgY2FuIGhlbHAg
b3V0IGRpZ2dpbmcgZGVlcGVyIGFzIEkgc2VlIG5vIHdheSB0byBkZWJ1ZyB0aGlzCj4gPiBmdXJ0
aGVyLgo+Cj4gSSBkb24ndCBoYXZlIGFueXRoaW5nIGFnYWluc3QgdGhpcyBwYXRjaCwgYXMgbG9u
ZyBhcyB0aGUgcXVpcmsgc3RheXMKPiBsaW1pdGVkIHRvIHRoZSBwYXJ0aWN1bGFyIHJvb3QgcG9y
dCBsZWFkaW5nIHRvIHRoZSBOVklESUEgR1BVLiBUaGUKPiByZWFzb24gd2h5IEkgdGhpbmsgaXQg
c2hvdWxkIHRvIGJlIGxpbWl0ZWQgaXMgdGhhdCBJJ20gcHJldHR5IGNlcnRhaW4KPiB0aGUgcHJv
YmxlbSBpcyBub3QgaW4gdGhlIHJvb3QgcG9ydCBpdHNlbGYuIEkgaGF2ZSBoZXJlIGEgS0JMIGJh
c2VkCj4gVGhpbmtwYWQgWDEgQ2FyYm9uIDZ0aCBnZW4gdGhhdCBjYW4gcHV0IHRoZSBUQlQgY29u
dHJvbGxlciBpbnRvIEQzY29sZAo+IChpdCBpcyBjb25uZWN0ZWQgdG8gUENIIHJvb3QgcG9ydCkg
YW5kIGl0IHdha2VzIHVwIHRoZXJlIGp1c3QgZmluZSwgc28KPiBkb24ndCB3YW50IHRvIGJyZWFr
IHRoYXQuCj4KPiBOb3csIFBDSWUgZGV2aWNlcyBjYW5ub3QgZ28gaW50byBEM2NvbGQgYWxsIGJ5
IHRoZW1zZWx2ZXMuIFRoZXkgYWx3YXlzCj4gbmVlZCBoZWxwIGZyb20gdGhlIHBsYXRmb3JtIHNp
ZGUgd2hpY2ggaXMgQUNQSSBpbiB0aGlzIGNhc2UuIFRoaXMgaXMKPiBkb25lIGJ5IGhhdmluZyB0
aGUgZGV2aWNlIHRvIGhhdmUgX1BSMyBtZXRob2QgdGhhdCByZXR1cm5zIG9uZSBvciBtb3JlCj4g
cG93ZXIgcmVzb3VyY2VzIHRoYXQgdGhlIE9TIGlzIHN1cHBvc2VkIHRvIHR1cm4gb2ZmIHdoZW4g
dGhlIGRldmljZSBpcwo+IHB1dCBpbnRvIEQzY29sZC4gQWxsIG9mIHRoYXQgaXMgaW1wbGVtZW50
ZWQgYXMgZm9ybSBvZiBBQ1BJIG1ldGhvZHMgdGhhdAo+IHByZXR0eSBtdWNoIGRvIHRoZSBoYXJk
d2FyZSBzcGVjaWZpYyB0aGluZ3MgdGhhdCBhcmUgb3V0c2lkZSBvZiBQQ0llCj4gc3BlYyB0byBn
ZXQgdGhlIGRldmljZSBpbnRvIEQzY29sZC4gQXQgaGlnaCBsZXZlbCB0aGUgX09GRigpIG1ldGhv
ZAo+IGNhdXNlcyB0aGUgcm9vdCBwb3J0IHRvIGJyb2FkY2FzdCBQTUVfVHVybl9PZmYgbWVzc2Fn
ZSB0aGF0IHJlc3VsdHMgdGhlCj4gbGluayB0byBlbnRlciBMMi8zIHJlYWR5LCBpdCB0aGVuIGFz
c2VydHMgUEVSU1QsIGNvbmZpZ3VyZXMgV0FLRSAoYm90aAo+IGNhbiBiZSBHUElPcykgYW5kIGZp
bmFsbHkgcmVtb3ZlcyBwb3dlciAoaWYgdGhlIGxpbmsgZ29lcyBpbnRvIEwzLAo+IG90aGVyd2lz
ZSBpdCBnb2VzIGludG8gTDIpLgo+Cj4gSSB0aGluayB0aGlzIGlzIHdoZXJlIHRoZSBwcm9ibGVt
IGFjdHVhbGx5IGxpZXMgLSB0aGUgQVNMIG1ldGhvZHMgdGhhdAo+IGFyZSB1c2VkIHRvIHB1dCB0
aGUgZGV2aWNlIGludG8gRDNjb2xkIGFuZCBiYWNrLiBXZSBrbm93IHRoYXQgaW4gV2luZG93cwo+
IHRoaXMgYWxsIHdvcmtzIGZpbmUgc28gdW5sZXNzIFdpbmRvd3MgcXVpcmtzIHRoZSByb290IHBv
cnQgdGhlIHNhbWUgd2F5Cj4gdGhlcmUgaXMgYW5vdGhlciByZWFzb24gYmVoaW5kIHRoaXMuCj4K
PiBJbiBjYXNlIG9mIERlbGwgWFBTIDk1NjAgKElJUkMgdGhhdCdzIHRoZSBtYWNoaW5lIHlvdSBo
YXZlKSB0aGUKPiBjb3JyZXNwb25kaW5nIHBvd2VyIHJlc291cmNlIGlzIGNhbGxlZCBcX1NCLlBD
STAuUEVHMC5QRzAwIGFuZCBpdHMKPiBfT04vX09GRiBtZXRob2RzIGVuZCB1cCBjYWxsaW5nIFBH
T04oKS9QR09GKCkgYWNjb3JkaW5nbHkuIFRoZSBtZXRob2RzCj4gaXRzZWxmIGRvIGxvdHMgb2Yg
dGhpbmdzIGFuZCBpdCBpcyBoYXJkIHRvIGZvbGxvdyB0aGUgZGlzc2Fzc2VtYmxlZAo+IEFTTCB3
aGljaCBkb2VzIG5vdCBoYXZlIGFueSBjb21tZW50cyBidXQgdGhlcmUgYXJlIGNvdXBsZSBvZiB0
aGluZ3MgdGhhdAo+IHN0YW5kIG91dCB3aGVyZSB3ZSBtYXkgZ28gaW50byBhIGRpZmZlcmVudCBw
YXRoLiBPbmUgb2YgdGhlbSBpcyB0aGlzIGluCj4gdGhlIFBHT0YoKSBtZXRob2Q6Cj4KPiAgICBJ
ZiAoKChPU1lTIDw9IDB4MDdEOSkgfHwgKChPU1lTID09IDB4MDdERikgJiYgKF9SRVYgPT0gMHgw
NSkpKSkKPgo+IFRoZSAoKE9TWVMgPT0gMHgwN0RGKSAmJiAoX1JFViA9PSAweDA1KSkgY2hlY2tz
IHNwZWNpZmljYWxseSBmb3IgTGludXgKPiAoc2VlIFsxXSBhbmQgMThkNzhiNjRmZGRjICgiQUNQ
SSAvIGluaXQ6IE1ha2UgaXQgcG9zc2libGUgdG8gb3ZlcnJpZGUKPiBfUkVWIikpIHNvIGl0IG1p
Z2h0IGJlIHRoYXQgRGVsbCBwZW9wbGUgdGVzdGVkIHRoaXMgYXQgc29tZSBwb2ludCBpbgo+IExp
bnV4IGFzIHdlbGwuIEFkZGVkIE1hcmlvIGluIGNhc2UgaGUgaGFzIGFueSBpZGVhcy4KPgo+IFBy
ZXZpb3VzbHkgSSBzdWdnZXN0ZWQgeW91IHRvIHRyeSB0aGUgQUNQSSBtZXRob2QgdHJhY2luZyB0
byBzZWUgd2hhdAo+IGhhcHBlbnMgaW5zaWRlIFBHT0YoKS4gRGlkIHlvdSBoYXZlIHRpbWUgdG8g
dHJ5IGl0PyBJdCBtYXkgcHJvdmlkZSBtb3JlCj4gaW5mb3JtYXRpb24gYWJvdXQgdGhhdCBpcyBo
YXBwZW5pbmcgaW5zaWRlIHRob3NlIG1ldGhvZHMgYW5kIGhvcGVmdWxseQo+IHBvaW50IHVzIHRv
IHRoZSByb290IGNhdXNlLgo+Cj4gQWxzbyBpZiB5b3UgaGF2ZW4ndCB0cmllZCBhbHJlYWR5IHBh
c3NpbmcgYWNwaV9yZXZfb3ZlcnJpZGUgaW4gdGhlCj4gY29tbWFuZCBsaW5lIG1ha2VzIHRoZSBf
UkVWIHRvIHJldHVybiA1IHNvIGl0IHNob3VsZCBnbyBpbnRvIHRoZSAiTGludXgiCj4gcGF0aCBp
biBQR09GKCkuCgpPaCwgc28gZG9lcyBpdCBsb29rIGxpa2Ugd2UgYXJlIHRyeWluZyB0byB3b3Jr
IGFyb3VuZCBBTUwgdGhhdCB0cmllZAp0byB3b3JrIGFyb3VuZCBzb21lIHByb2JsZW1hdGljIGJl
aGF2aW9yIGluIExpbnV4IGF0IG9uZSBwb2ludD8KCj4gWzFdIGh0dHBzOi8vd3d3Lmtlcm5lbC5v
cmcvZG9jL2h0bWwvbGF0ZXN0L2Zpcm13YXJlLWd1aWRlL2FjcGkvb3NpLmh0bWwjZG8tbm90LXVz
ZS1yZXYKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJp
LWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBz
Oi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
