Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id C648BCB643
	for <lists+dri-devel@lfdr.de>; Fri,  4 Oct 2019 10:35:04 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id BF3226EAF7;
	Fri,  4 Oct 2019 08:35:01 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga18.intel.com (mga18.intel.com [134.134.136.126])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C92BC89B12;
 Fri,  4 Oct 2019 08:34:59 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga008.fm.intel.com ([10.253.24.58])
 by orsmga106.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 04 Oct 2019 01:34:58 -0700
X-IronPort-AV: E=Sophos;i="5.67,255,1566889200"; d="scan'208";a="191521032"
Received: from paaron-mobl.ger.corp.intel.com (HELO [10.251.93.134])
 ([10.251.93.134])
 by fmsmga008-auth.fm.intel.com with ESMTP/TLS/AES256-SHA;
 04 Oct 2019 01:34:57 -0700
Subject: Re: [Intel-gfx] [PATCH 4/5] drm/mm: Convert drm_mm_node booleans to
 bitops
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
References: <20191003210100.22250-1-chris@chris-wilson.co.uk>
 <20191003210100.22250-4-chris@chris-wilson.co.uk>
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
Organization: Intel Corporation UK Plc
Message-ID: <21261188-c96e-60d5-69de-63f95048d185@linux.intel.com>
Date: Fri, 4 Oct 2019 09:34:56 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <20191003210100.22250-4-chris@chris-wilson.co.uk>
Content-Language: en-US
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: dri-devel@lists.freedesktop.org
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Ck9uIDAzLzEwLzIwMTkgMjI6MDAsIENocmlzIFdpbHNvbiB3cm90ZToKPiBBIHN0cmFpZ2h0Zm9y
d2FyZCBjb252ZXJzaW9uIG9mIGFzc2lnbm1lbnQgYW5kIGNoZWNraW5nIG9mIHRoZSBib29sZWFu
Cj4gc3RhdGUgZmxhZ3MgKGFsbG9jYXRlZCwgc2Nhbm5lZCkgaW50byBub24tYXRvbWljIGJpdG9w
cy4gVGhlIGNhbGxlcgo+IHJlbWFpbnMgcmVzcG9uc2libGUgZm9yIGFsbCBsb2NraW5nIGFyb3Vu
ZCB0aGUgZHJtX21tIGFuZCBpdHMgbm9kZXMuCj4gCj4gU2lnbmVkLW9mZi1ieTogQ2hyaXMgV2ls
c29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+Cj4gLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0v
ZHJtX21tLmMgICAgICAgICAgICAgICAgICAgICAgIHwgMTggKysrKysrKysrLS0tLS0tLS0tCj4g
ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fZXhlY2J1ZmZlci5jIHwgIDIgKy0K
PiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtLmMgICAgICAgICAgICAgICAgfCAgNCAr
Ky0tCj4gICBpbmNsdWRlL2RybS9kcm1fbW0uaCAgICAgICAgICAgICAgICAgICAgICAgICAgIHwg
IDcgKysrKy0tLQo+ICAgNCBmaWxlcyBjaGFuZ2VkLCAxNiBpbnNlcnRpb25zKCspLCAxNSBkZWxl
dGlvbnMoLSkKPiAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2RybV9tbS5jIGIvZHJp
dmVycy9ncHUvZHJtL2RybV9tbS5jCj4gaW5kZXggOTkzMTJiZGM2MjczLi5hOWNhYjVlNTM3MzEg
MTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2RybV9tbS5jCj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL2RybV9tbS5jCj4gQEAgLTQyNiw3ICs0MjYsNyBAQCBpbnQgZHJtX21tX3Jlc2VydmVf
bm9kZShzdHJ1Y3QgZHJtX21tICptbSwgc3RydWN0IGRybV9tbV9ub2RlICpub2RlKQo+ICAgCj4g
ICAJbGlzdF9hZGQoJm5vZGUtPm5vZGVfbGlzdCwgJmhvbGUtPm5vZGVfbGlzdCk7Cj4gICAJZHJt
X21tX2ludGVydmFsX3RyZWVfYWRkX25vZGUoaG9sZSwgbm9kZSk7Cj4gLQlub2RlLT5hbGxvY2F0
ZWQgPSB0cnVlOwo+ICsJX19zZXRfYml0KERSTV9NTV9OT0RFX0FMTE9DQVRFRF9CSVQsICZub2Rl
LT5mbGFncyk7Cj4gICAJbm9kZS0+aG9sZV9zaXplID0gMDsKPiAgIAo+ICAgCXJtX2hvbGUoaG9s
ZSk7Cj4gQEAgLTU0NSw3ICs1NDUsNyBAQCBpbnQgZHJtX21tX2luc2VydF9ub2RlX2luX3Jhbmdl
KHN0cnVjdCBkcm1fbW0gKiBjb25zdCBtbSwKPiAgIAo+ICAgCQlsaXN0X2FkZCgmbm9kZS0+bm9k
ZV9saXN0LCAmaG9sZS0+bm9kZV9saXN0KTsKPiAgIAkJZHJtX21tX2ludGVydmFsX3RyZWVfYWRk
X25vZGUoaG9sZSwgbm9kZSk7Cj4gLQkJbm9kZS0+YWxsb2NhdGVkID0gdHJ1ZTsKPiArCQlfX3Nl
dF9iaXQoRFJNX01NX05PREVfQUxMT0NBVEVEX0JJVCwgJm5vZGUtPmZsYWdzKTsKPiAgIAo+ICAg
CQlybV9ob2xlKGhvbGUpOwo+ICAgCQlpZiAoYWRqX3N0YXJ0ID4gaG9sZV9zdGFydCkKPiBAQCAt
NTYzLDcgKzU2Myw3IEBAIEVYUE9SVF9TWU1CT0woZHJtX21tX2luc2VydF9ub2RlX2luX3Jhbmdl
KTsKPiAgIAo+ICAgc3RhdGljIGlubGluZSBib29sIGRybV9tbV9ub2RlX3NjYW5uZWRfYmxvY2so
Y29uc3Qgc3RydWN0IGRybV9tbV9ub2RlICpub2RlKQo+ICAgewo+IC0JcmV0dXJuIG5vZGUtPnNj
YW5uZWRfYmxvY2s7Cj4gKwlyZXR1cm4gdGVzdF9iaXQoRFJNX01NX05PREVfU0NBTk5FRF9CSVQs
ICZub2RlLT5mbGFncyk7Cj4gICB9Cj4gICAKPiAgIC8qKgo+IEBAIC01ODksNyArNTg5LDcgQEAg
dm9pZCBkcm1fbW1fcmVtb3ZlX25vZGUoc3RydWN0IGRybV9tbV9ub2RlICpub2RlKQo+ICAgCj4g
ICAJZHJtX21tX2ludGVydmFsX3RyZWVfcmVtb3ZlKG5vZGUsICZtbS0+aW50ZXJ2YWxfdHJlZSk7
Cj4gICAJbGlzdF9kZWwoJm5vZGUtPm5vZGVfbGlzdCk7Cj4gLQlub2RlLT5hbGxvY2F0ZWQgPSBm
YWxzZTsKPiArCV9fY2xlYXJfYml0KERSTV9NTV9OT0RFX0FMTE9DQVRFRF9CSVQsICZub2RlLT5m
bGFncyk7Cj4gICAKPiAgIAlpZiAoZHJtX21tX2hvbGVfZm9sbG93cyhwcmV2X25vZGUpKQo+ICAg
CQlybV9ob2xlKHByZXZfbm9kZSk7Cj4gQEAgLTYyNyw4ICs2MjcsOCBAQCB2b2lkIGRybV9tbV9y
ZXBsYWNlX25vZGUoc3RydWN0IGRybV9tbV9ub2RlICpvbGQsIHN0cnVjdCBkcm1fbW1fbm9kZSAq
bmV3KQo+ICAgCQkJCSZtbS0+aG9sZXNfYWRkcik7Cj4gICAJfQo+ICAgCj4gLQlvbGQtPmFsbG9j
YXRlZCA9IGZhbHNlOwo+IC0JbmV3LT5hbGxvY2F0ZWQgPSB0cnVlOwo+ICsJX19jbGVhcl9iaXQo
RFJNX01NX05PREVfQUxMT0NBVEVEX0JJVCwgJm9sZC0+ZmxhZ3MpOwo+ICsJX19zZXRfYml0KERS
TV9NTV9OT0RFX0FMTE9DQVRFRF9CSVQsICZuZXctPmZsYWdzKTsKPiAgIH0KPiAgIEVYUE9SVF9T
WU1CT0woZHJtX21tX3JlcGxhY2Vfbm9kZSk7Cj4gICAKPiBAQCAtNzM4LDcgKzczOCw3IEBAIGJv
b2wgZHJtX21tX3NjYW5fYWRkX2Jsb2NrKHN0cnVjdCBkcm1fbW1fc2NhbiAqc2NhbiwKPiAgIAlE
Uk1fTU1fQlVHX09OKG5vZGUtPm1tICE9IG1tKTsKPiAgIAlEUk1fTU1fQlVHX09OKCFkcm1fbW1f
bm9kZV9hbGxvY2F0ZWQobm9kZSkpOwo+ICAgCURSTV9NTV9CVUdfT04oZHJtX21tX25vZGVfc2Nh
bm5lZF9ibG9jayhub2RlKSk7Cj4gLQlub2RlLT5zY2FubmVkX2Jsb2NrID0gdHJ1ZTsKPiArCV9f
c2V0X2JpdChEUk1fTU1fTk9ERV9TQ0FOTkVEX0JJVCwgJm5vZGUtPmZsYWdzKTsKPiAgIAltbS0+
c2Nhbl9hY3RpdmUrKzsKPiAgIAo+ICAgCS8qIFJlbW92ZSB0aGlzIGJsb2NrIGZyb20gdGhlIG5v
ZGVfbGlzdCBzbyB0aGF0IHdlIGVubGFyZ2UgdGhlIGhvbGUKPiBAQCAtODI0LDcgKzgyNCw3IEBA
IGJvb2wgZHJtX21tX3NjYW5fcmVtb3ZlX2Jsb2NrKHN0cnVjdCBkcm1fbW1fc2NhbiAqc2NhbiwK
PiAgIAo+ICAgCURSTV9NTV9CVUdfT04obm9kZS0+bW0gIT0gc2Nhbi0+bW0pOwo+ICAgCURSTV9N
TV9CVUdfT04oIWRybV9tbV9ub2RlX3NjYW5uZWRfYmxvY2sobm9kZSkpOwo+IC0Jbm9kZS0+c2Nh
bm5lZF9ibG9jayA9IGZhbHNlOwo+ICsJX19jbGVhcl9iaXQoRFJNX01NX05PREVfU0NBTk5FRF9C
SVQsICZub2RlLT5mbGFncyk7Cj4gICAKPiAgIAlEUk1fTU1fQlVHX09OKCFub2RlLT5tbS0+c2Nh
bl9hY3RpdmUpOwo+ICAgCW5vZGUtPm1tLT5zY2FuX2FjdGl2ZS0tOwo+IEBAIC05MjIsNyArOTIy
LDcgQEAgdm9pZCBkcm1fbW1faW5pdChzdHJ1Y3QgZHJtX21tICptbSwgdTY0IHN0YXJ0LCB1NjQg
c2l6ZSkKPiAgIAo+ICAgCS8qIENsZXZlciB0cmljayB0byBhdm9pZCBhIHNwZWNpYWwgY2FzZSBp
biB0aGUgZnJlZSBob2xlIHRyYWNraW5nLiAqLwo+ICAgCUlOSVRfTElTVF9IRUFEKCZtbS0+aGVh
ZF9ub2RlLm5vZGVfbGlzdCk7Cj4gLQltbS0+aGVhZF9ub2RlLmFsbG9jYXRlZCA9IGZhbHNlOwo+
ICsJbW0tPmhlYWRfbm9kZS5mbGFncyA9IDA7Cj4gICAJbW0tPmhlYWRfbm9kZS5tbSA9IG1tOwo+
ICAgCW1tLT5oZWFkX25vZGUuc3RhcnQgPSBzdGFydCArIHNpemU7Cj4gICAJbW0tPmhlYWRfbm9k
ZS5zaXplID0gLXNpemU7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9p
OTE1X2dlbV9leGVjYnVmZmVyLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1f
ZXhlY2J1ZmZlci5jCj4gaW5kZXggMjBkOGE2Mjk3OTg1Li5jMDQ5MTk5YTFkZjUgMTAwNjQ0Cj4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2V4ZWNidWZmZXIuYwo+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9leGVjYnVmZmVyLmMKPiBAQCAt
OTA2LDcgKzkwNiw3IEBAIHN0YXRpYyB2b2lkIHJlbG9jX2NhY2hlX2luaXQoc3RydWN0IHJlbG9j
X2NhY2hlICpjYWNoZSwKPiAgIAljYWNoZS0+dXNlXzY0Yml0X3JlbG9jID0gSEFTXzY0QklUX1JF
TE9DKGk5MTUpOwo+ICAgCWNhY2hlLT5oYXNfZmVuY2UgPSBjYWNoZS0+Z2VuIDwgNDsKPiAgIAlj
YWNoZS0+bmVlZHNfdW5mZW5jZWQgPSBJTlRFTF9JTkZPKGk5MTUpLT51bmZlbmNlZF9uZWVkc19h
bGlnbm1lbnQ7Cj4gLQljYWNoZS0+bm9kZS5hbGxvY2F0ZWQgPSBmYWxzZTsKPiArCWNhY2hlLT5u
b2RlLmZsYWdzID0gMDsKPiAgIAljYWNoZS0+Y2UgPSBOVUxMOwo+ICAgCWNhY2hlLT5ycSA9IE5V
TEw7Cj4gICAJY2FjaGUtPnJxX3NpemUgPSAwOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pOTE1X2dlbS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW0uYwo+IGlu
ZGV4IGZhOGUwMjhhYzBiNS4uNzA0NjA2N2Y3MGMxIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfZ2VtLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dl
bS5jCj4gQEAgLTM1MSw3ICszNTEsNyBAQCBpOTE1X2dlbV9ndHRfcHJlYWQoc3RydWN0IGRybV9p
OTE1X2dlbV9vYmplY3QgKm9iaiwKPiAgIAkJCQkJICAgICAgIFBJTl9OT0VWSUNUKTsKPiAgIAlp
ZiAoIUlTX0VSUih2bWEpKSB7Cj4gICAJCW5vZGUuc3RhcnQgPSBpOTE1X2dndHRfb2Zmc2V0KHZt
YSk7Cj4gLQkJbm9kZS5hbGxvY2F0ZWQgPSBmYWxzZTsKPiArCQlub2RlLmZsYWdzID0gMDsKPiAg
IAl9IGVsc2Ugewo+ICAgCQlyZXQgPSBpbnNlcnRfbWFwcGFibGVfbm9kZShnZ3R0LCAmbm9kZSwg
UEFHRV9TSVpFKTsKPiAgIAkJaWYgKHJldCkKPiBAQCAtNTYxLDcgKzU2MSw3IEBAIGk5MTVfZ2Vt
X2d0dF9wd3JpdGVfZmFzdChzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqLAo+ICAgCQkJ
CQkgICAgICAgUElOX05PRVZJQ1QpOwo+ICAgCWlmICghSVNfRVJSKHZtYSkpIHsKPiAgIAkJbm9k
ZS5zdGFydCA9IGk5MTVfZ2d0dF9vZmZzZXQodm1hKTsKPiAtCQlub2RlLmFsbG9jYXRlZCA9IGZh
bHNlOwo+ICsJCW5vZGUuZmxhZ3MgPSAwOwo+ICAgCX0gZWxzZSB7Cj4gICAJCXJldCA9IGluc2Vy
dF9tYXBwYWJsZV9ub2RlKGdndHQsICZub2RlLCBQQUdFX1NJWkUpOwo+ICAgCQlpZiAocmV0KQo+
IGRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS9kcm1fbW0uaCBiL2luY2x1ZGUvZHJtL2RybV9tbS5o
Cj4gaW5kZXggMmMzYmJiNDNjN2QxLi5kNzkzOWMwNTQyNTkgMTAwNjQ0Cj4gLS0tIGEvaW5jbHVk
ZS9kcm0vZHJtX21tLmgKPiArKysgYi9pbmNsdWRlL2RybS9kcm1fbW0uaAo+IEBAIC0xNjgsOCAr
MTY4LDkgQEAgc3RydWN0IGRybV9tbV9ub2RlIHsKPiAgIAlzdHJ1Y3QgcmJfbm9kZSByYl9ob2xl
X2FkZHI7Cj4gICAJdTY0IF9fc3VidHJlZV9sYXN0Owo+ICAgCXU2NCBob2xlX3NpemU7Cj4gLQli
b29sIGFsbG9jYXRlZCA6IDE7Cj4gLQlib29sIHNjYW5uZWRfYmxvY2sgOiAxOwo+ICsJdW5zaWdu
ZWQgbG9uZyBmbGFnczsKPiArI2RlZmluZSBEUk1fTU1fTk9ERV9BTExPQ0FURURfQklUCTAKPiAr
I2RlZmluZSBEUk1fTU1fTk9ERV9TQ0FOTkVEX0JJVAkJMQo+ICAgI2lmZGVmIENPTkZJR19EUk1f
REVCVUdfTU0KPiAgIAlkZXBvdF9zdGFja19oYW5kbGVfdCBzdGFjazsKPiAgICNlbmRpZgo+IEBA
IC0yNTMsNyArMjU0LDcgQEAgc3RydWN0IGRybV9tbV9zY2FuIHsKPiAgICAqLwo+ICAgc3RhdGlj
IGlubGluZSBib29sIGRybV9tbV9ub2RlX2FsbG9jYXRlZChjb25zdCBzdHJ1Y3QgZHJtX21tX25v
ZGUgKm5vZGUpCj4gICB7Cj4gLQlyZXR1cm4gbm9kZS0+YWxsb2NhdGVkOwo+ICsJcmV0dXJuIHRl
c3RfYml0KERSTV9NTV9OT0RFX0FMTE9DQVRFRF9CSVQsICZub2RlLT5mbGFncyk7Cj4gICB9Cj4g
ICAKPiAgIC8qKgo+IAoKUmV2aWV3ZWQtYnk6IFR2cnRrbyBVcnN1bGluIDx0dnJ0a28udXJzdWxp
bkBpbnRlbC5jb20+CgpSZWdhcmRzLAoKVHZydGtvCl9fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxp
c3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFu
L2xpc3RpbmZvL2RyaS1kZXZlbA==
