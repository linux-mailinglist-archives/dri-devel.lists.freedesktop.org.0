Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 9935B5E2EB
	for <lists+dri-devel@lfdr.de>; Wed,  3 Jul 2019 13:39:17 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id F1E646E11F;
	Wed,  3 Jul 2019 11:39:14 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 625036E121
 for <dri-devel@lists.freedesktop.org>; Wed,  3 Jul 2019 11:39:13 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from orsmga006.jf.intel.com ([10.7.209.51])
 by fmsmga106.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 03 Jul 2019 04:39:12 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.63,446,1557212400"; d="scan'208";a="169110528"
Received: from dkruchix-mobl.ccr.corp.intel.com (HELO intel.com)
 ([10.251.93.237])
 by orsmga006.jf.intel.com with ESMTP; 03 Jul 2019 04:39:11 -0700
Date: Wed, 3 Jul 2019 12:39:10 +0100
From: Eric Engestrom <eric.engestrom@intel.com>
To: Jonathan Gray <jsg@jsg.id.au>
Subject: Re: [PATCH libdrm] xf86drm: open correct render node on non-linux
Message-ID: <20190703113910.hpin5icrf7q7cy6i@intel.com>
References: <20190512165204.47554-1-jsg@jsg.id.au>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190512165204.47554-1-jsg@jsg.id.au>
Organization: Intel Corporation (UK) Ltd. - Co. Reg. 1134945 - Pipers Way,
 Swindon SN3 1RJ
User-Agent: NeoMutt/20180716
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gTW9uZGF5LCAyMDE5LTA1LTEzIDAyOjUyOjA0ICsxMDAwLCBKb25hdGhhbiBHcmF5IHdyb3Rl
Ogo+IGRybSByZW5kZXIgbm9kZXMgaGF2ZSB0aGUgc2FtZSBtYWpvciBhcyBkcm0gcHJpbWFyeSBk
ZXZpY2VzIGJ1dCBvZmZzZXQKPiB0aGUgbWlub3IgYnkgYSBiYXNlIG9mIDEyOC4KPiAKPiBJIGV4
cGVjdGVkIHRoZSBuYW1lIG9mIHRoZSBkZXZpY2UgdG8gaGF2ZSBudW1iZXJpbmcgc3RhcnRpbmcg
YXQgMCB3aGVuCj4gdGhlc2Ugbm9uLWxpbnV4IGNvZGVwYXRocyB3ZXJlIGFkZGVkIChiZWZvcmUg
T3BlbkJTRCBoYWQgcmVuZGVyIG5vZGVzKS4KPiAKPiBTaWduZWQtb2ZmLWJ5OiBKb25hdGhhbiBH
cmF5IDxqc2dAanNnLmlkLmF1PgoKSSBkaWRuJ3QgY2hlY2sgdGhhdCBPcGVuQlNEIGlzIHRoZSB3
YXkgeW91IHNheSwgYnV0IHRoZSBsaWJkcm0gY29kZSBoZXJlCm1hdGNoZXMgd2l0aCB0aGF0LCBz
byB0aGlzIHBhdGNoIGlzCkFja2VkLWJ5OiBFcmljIEVuZ2VzdHJvbSA8ZXJpYy5lbmdlc3Ryb21A
aW50ZWwuY29tPgphbmQgcHVzaGVkIDopCgo+IC0tLQo+ICB4Zjg2ZHJtLmMgfCAyNCArKysrKyst
LS0tLS0tLS0tLS0tLS0tLS0KPiAgMSBmaWxlIGNoYW5nZWQsIDYgaW5zZXJ0aW9ucygrKSwgMTgg
ZGVsZXRpb25zKC0pCj4gCj4gZGlmZiAtLWdpdCBhL3hmODZkcm0uYyBiL3hmODZkcm0uYwo+IGlu
ZGV4IDQyMDIyY2FjLi4wNzYzZmQyNiAxMDA2NDQKPiAtLS0gYS94Zjg2ZHJtLmMKPiArKysgYi94
Zjg2ZHJtLmMKPiBAQCAtMjkzMSw3ICsyOTMxLDcgQEAgc3RhdGljIGNoYXIgKmRybUdldE1pbm9y
TmFtZUZvckZEKGludCBmZCwgaW50IHR5cGUpCj4gICAgICBjaGFyIGJ1ZltQQVRIX01BWCArIDFd
Owo+ICAgICAgY29uc3QgY2hhciAqZGV2X25hbWU7Cj4gICAgICB1bnNpZ25lZCBpbnQgbWFqLCBt
aW47Cj4gLSAgICBpbnQgbiwgYmFzZTsKPiArICAgIGludCBuOwo+ICAKPiAgICAgIGlmIChmc3Rh
dChmZCwgJnNidWYpKQo+ICAgICAgICAgIHJldHVybiBOVUxMOwo+IEBAIC0yOTU2LDExICsyOTU2
LDcgQEAgc3RhdGljIGNoYXIgKmRybUdldE1pbm9yTmFtZUZvckZEKGludCBmZCwgaW50IHR5cGUp
Cj4gICAgICAgICAgcmV0dXJuIE5VTEw7Cj4gICAgICB9Owo+ICAKPiAtICAgIGJhc2UgPSBkcm1H
ZXRNaW5vckJhc2UodHlwZSk7Cj4gLSAgICBpZiAoYmFzZSA8IDApCj4gLSAgICAgICAgcmV0dXJu
IE5VTEw7Cj4gLQo+IC0gICAgbiA9IHNucHJpbnRmKGJ1Ziwgc2l6ZW9mKGJ1ZiksIGRldl9uYW1l
LCBEUk1fRElSX05BTUUsIG1pbiAtIGJhc2UpOwo+ICsgICAgbiA9IHNucHJpbnRmKGJ1Ziwgc2l6
ZW9mKGJ1ZiksIGRldl9uYW1lLCBEUk1fRElSX05BTUUsIG1pbik7Cj4gICAgICBpZiAobiA9PSAt
MSB8fCBuID49IHNpemVvZihidWYpKQo+ICAgICAgICAgIHJldHVybiBOVUxMOwo+ICAKPiBAQCAt
Mzg1NCw3ICszODUwLDcgQEAgZHJtX3B1YmxpYyBpbnQgZHJtR2V0RGV2aWNlMihpbnQgZmQsIHVp
bnQzMl90IGZsYWdzLCBkcm1EZXZpY2VQdHIgKmRldmljZSkKPiAgICAgIGNoYXIgICAgICAgICAg
ICAgbm9kZVtQQVRIX01BWCArIDFdOwo+ICAgICAgY29uc3QgY2hhciAgICAgICpkZXZfbmFtZTsK
PiAgICAgIGludCAgICAgICAgICAgICAgbm9kZV90eXBlLCBzdWJzeXN0ZW1fdHlwZTsKPiAtICAg
IGludCAgICAgICAgICAgICAgbWFqLCBtaW4sIG4sIHJldCwgYmFzZTsKPiArICAgIGludCAgICAg
ICAgICAgICAgbWFqLCBtaW4sIG4sIHJldDsKPiAgCj4gICAgICBpZiAoZmQgPT0gLTEgfHwgZGV2
aWNlID09IE5VTEwpCj4gICAgICAgICAgcmV0dXJuIC1FSU5WQUw7Cj4gQEAgLTM4ODYsMTEgKzM4
ODIsNyBAQCBkcm1fcHVibGljIGludCBkcm1HZXREZXZpY2UyKGludCBmZCwgdWludDMyX3QgZmxh
Z3MsIGRybURldmljZVB0ciAqZGV2aWNlKQo+ICAgICAgICAgIHJldHVybiAtRUlOVkFMOwo+ICAg
ICAgfTsKPiAgCj4gLSAgICBiYXNlID0gZHJtR2V0TWlub3JCYXNlKG5vZGVfdHlwZSk7Cj4gLSAg
ICBpZiAoYmFzZSA8IDApCj4gLSAgICAgICAgcmV0dXJuIC1FSU5WQUw7Cj4gLQo+IC0gICAgbiA9
IHNucHJpbnRmKG5vZGUsIFBBVEhfTUFYLCBkZXZfbmFtZSwgRFJNX0RJUl9OQU1FLCBtaW4gLSBi
YXNlKTsKPiArICAgIG4gPSBzbnByaW50Zihub2RlLCBQQVRIX01BWCwgZGV2X25hbWUsIERSTV9E
SVJfTkFNRSwgbWluKTsKPiAgICAgIGlmIChuID09IC0xIHx8IG4gPj0gUEFUSF9NQVgpCj4gICAg
ICAgIHJldHVybiAtZXJybm87Cj4gICAgICBpZiAoc3RhdChub2RlLCAmc2J1ZikpCj4gQEAgLTQx
MTAsNyArNDEwMiw3IEBAIGRybV9wdWJsaWMgY2hhciAqZHJtR2V0RGV2aWNlTmFtZUZyb21GZDIo
aW50IGZkKQo+ICAgICAgY2hhciAgICAgICAgICAgICBub2RlW1BBVEhfTUFYICsgMV07Cj4gICAg
ICBjb25zdCBjaGFyICAgICAgKmRldl9uYW1lOwo+ICAgICAgaW50ICAgICAgICAgICAgICBub2Rl
X3R5cGU7Cj4gLSAgICBpbnQgICAgICAgICAgICAgIG1haiwgbWluLCBuLCBiYXNlOwo+ICsgICAg
aW50ICAgICAgICAgICAgICBtYWosIG1pbiwgbjsKPiAgCj4gICAgICBpZiAoZnN0YXQoZmQsICZz
YnVmKSkKPiAgICAgICAgICByZXR1cm4gTlVMTDsKPiBAQCAtNDEzOSwxMSArNDEzMSw3IEBAIGRy
bV9wdWJsaWMgY2hhciAqZHJtR2V0RGV2aWNlTmFtZUZyb21GZDIoaW50IGZkKQo+ICAgICAgICAg
IHJldHVybiBOVUxMOwo+ICAgICAgfTsKPiAgCj4gLSAgICBiYXNlID0gZHJtR2V0TWlub3JCYXNl
KG5vZGVfdHlwZSk7Cj4gLSAgICBpZiAoYmFzZSA8IDApCj4gLSAgICAgICAgcmV0dXJuIE5VTEw7
Cj4gLQo+IC0gICAgbiA9IHNucHJpbnRmKG5vZGUsIFBBVEhfTUFYLCBkZXZfbmFtZSwgRFJNX0RJ
Ul9OQU1FLCBtaW4gLSBiYXNlKTsKPiArICAgIG4gPSBzbnByaW50Zihub2RlLCBQQVRIX01BWCwg
ZGV2X25hbWUsIERSTV9ESVJfTkFNRSwgbWluKTsKPiAgICAgIGlmIChuID09IC0xIHx8IG4gPj0g
UEFUSF9NQVgpCj4gICAgICAgIHJldHVybiBOVUxMOwo+ICAKPiAtLSAKPiAyLjIxLjAKPiAKPiBf
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwo+IGRyaS1kZXZl
bCBtYWlsaW5nIGxpc3QKPiBkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCj4gaHR0cHM6
Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWwKX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxp
bmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
