Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id ED4C8150967
	for <lists+dri-devel@lfdr.de>; Mon,  3 Feb 2020 16:14:27 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B49696EC3B;
	Mon,  3 Feb 2020 15:14:25 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga18.intel.com (mga18.intel.com [134.134.136.126])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 9F9E16EC38;
 Mon,  3 Feb 2020 15:14:23 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by orsmga106.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 03 Feb 2020 07:14:23 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.70,398,1574150400"; d="scan'208";a="223966514"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by orsmga008.jf.intel.com with SMTP; 03 Feb 2020 07:14:20 -0800
Received: by stinkbox (sSMTP sendmail emulation);
 Mon, 03 Feb 2020 17:14:20 +0200
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH 12/26] drm/dp: Redo drm_dp_downstream_max_clock() as
 drm_dp_downstream_max_dotclock()
Date: Mon,  3 Feb 2020 17:13:29 +0200
Message-Id: <20200203151343.14378-13-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.24.1
In-Reply-To: <20200203151343.14378-1-ville.syrjala@linux.intel.com>
References: <20200203151343.14378-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KCldl
IHdhbnQgdG8gZGlmZmVyZW50aWF0ZSBiZXR3ZWVuIHRoZSBERlAgZG90Y2xvY2sgYW5kIFRNRFMg
Y2xvY2sKbGltaXRzLiBMZXQncyBjb252ZXJ0IHRoZSBjdXJyZW50IHRoaW5nIHRvIGp1c3QgZ2l2
ZSB1cyB0aGUKZG90Y2xvY2sgbGltaXQuCgpTaWduZWQtb2ZmLWJ5OiBWaWxsZSBTeXJqw6Rsw6Qg
PHZpbGxlLnN5cmphbGFAbGludXguaW50ZWwuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9kcm1f
ZHBfaGVscGVyLmMgICAgICAgICB8IDQyICsrKysrKysrKystLS0tLS0tLS0tLS0tLS0KIGRyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYyB8ICA0ICstLQogaW5jbHVkZS9kcm0v
ZHJtX2RwX2hlbHBlci5oICAgICAgICAgICAgIHwgIDQgKy0tCiAzIGZpbGVzIGNoYW5nZWQsIDIw
IGluc2VydGlvbnMoKyksIDMwIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9kcm1fZHBfaGVscGVyLmMgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2RwX2hlbHBlci5jCmlu
ZGV4IDcxNjRiOWQyNzRlMS4uMGFlNjg0OTc0NGMyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vZHJtX2RwX2hlbHBlci5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fZHBfaGVscGVyLmMK
QEAgLTQyMywzNyArNDIzLDMyIEBAIGJvb2wgZHJtX2RwX2Rvd25zdHJlYW1faXNfdG1kcyhjb25z
dCB1OCBkcGNkW0RQX1JFQ0VJVkVSX0NBUF9TSVpFXSwKIEVYUE9SVF9TWU1CT0woZHJtX2RwX2Rv
d25zdHJlYW1faXNfdG1kcyk7CiAKIC8qKgotICogZHJtX2RwX2Rvd25zdHJlYW1fbWF4X2Nsb2Nr
KCkgLSBleHRyYWN0IGJyYW5jaCBkZXZpY2UgbWF4Ci0gKiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHBpeGVsIHJhdGUgZm9yIGxlZ2FjeSBWR0EKLSAqICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgY29udmVydGVyIG9yIG1heCBUTURTIGNsb2NrCi0gKiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHJhdGUgZm9yIG90aGVycworICogZHJtX2RwX2Rvd25zdHJl
YW1fbWF4X2RvdGNsb2NrKCkgLSBleHRyYWN0IGRvd25zdHJlYW0gZmFjaW5nIHBvcnQgbWF4IGRv
dCBjbG9jawogICogQGRwY2Q6IERpc3BsYXlQb3J0IGNvbmZpZ3VyYXRpb24gZGF0YQogICogQHBv
cnRfY2FwOiBwb3J0IGNhcGFiaWxpdGllcwogICoKLSAqIFJldHVybnMgbWF4IGNsb2NrIGluIGtI
eiBvbiBzdWNjZXNzIG9yIDAgaWYgbWF4IGNsb2NrIG5vdCBkZWZpbmVkCisgKiBSZXR1cm5zIGRv
d25zdHJlYW0gZmFjaW5nIHBvcnQgbWF4IGRvdCBjbG9jayBpbiBrSHogb24gc3VjY2VzcywKKyAq
IG9yIDAgaWYgbWF4IGNsb2NrIG5vdCBkZWZpbmVkCiAgKi8KLWludCBkcm1fZHBfZG93bnN0cmVh
bV9tYXhfY2xvY2soY29uc3QgdTggZHBjZFtEUF9SRUNFSVZFUl9DQVBfU0laRV0sCi0JCQkJY29u
c3QgdTggcG9ydF9jYXBbNF0pCitpbnQgZHJtX2RwX2Rvd25zdHJlYW1fbWF4X2RvdGNsb2NrKGNv
bnN0IHU4IGRwY2RbRFBfUkVDRUlWRVJfQ0FQX1NJWkVdLAorCQkJCSAgIGNvbnN0IHU4IHBvcnRf
Y2FwWzRdKQogewotCWludCB0eXBlID0gcG9ydF9jYXBbMF0gJiBEUF9EU19QT1JUX1RZUEVfTUFT
SzsKLQlib29sIGRldGFpbGVkX2NhcF9pbmZvID0gZHBjZFtEUF9ET1dOU1RSRUFNUE9SVF9QUkVT
RU5UXSAmCi0JCURQX0RFVEFJTEVEX0NBUF9JTkZPX0FWQUlMQUJMRTsKKwlpZiAoIWRybV9kcF9p
c19icmFuY2goZHBjZCkpCisJCXJldHVybiAwOwogCi0JaWYgKCFkZXRhaWxlZF9jYXBfaW5mbykK
KwlpZiAoZHBjZFtEUF9EUENEX1JFVl0gPCAweDExKQogCQlyZXR1cm4gMDsKIAotCXN3aXRjaCAo
dHlwZSkgeworCXN3aXRjaCAocG9ydF9jYXBbMF0gJiBEUF9EU19QT1JUX1RZUEVfTUFTSykgewog
CWNhc2UgRFBfRFNfUE9SVF9UWVBFX1ZHQToKLQkJcmV0dXJuIHBvcnRfY2FwWzFdICogOCAqIDEw
MDA7Ci0JY2FzZSBEUF9EU19QT1JUX1RZUEVfRFZJOgotCWNhc2UgRFBfRFNfUE9SVF9UWVBFX0hE
TUk6Ci0JY2FzZSBEUF9EU19QT1JUX1RZUEVfRFBfRFVBTE1PREU6Ci0JCXJldHVybiBwb3J0X2Nh
cFsxXSAqIDI1MDA7CisJCWlmICgoZHBjZFtEUF9ET1dOU1RSRUFNUE9SVF9QUkVTRU5UXSAmIERQ
X0RFVEFJTEVEX0NBUF9JTkZPX0FWQUlMQUJMRSkgPT0gMCkKKwkJCXJldHVybiAwOworCQlyZXR1
cm4gcG9ydF9jYXBbMV0gKiA4MDAwOwogCWRlZmF1bHQ6CiAJCXJldHVybiAwOwogCX0KIH0KLUVY
UE9SVF9TWU1CT0woZHJtX2RwX2Rvd25zdHJlYW1fbWF4X2Nsb2NrKTsKK0VYUE9SVF9TWU1CT0wo
ZHJtX2RwX2Rvd25zdHJlYW1fbWF4X2RvdGNsb2NrKTsKIAogLyoqCiAgICogZHJtX2RwX2Rvd25z
dHJlYW1fbWF4X2JwYygpIC0gZXh0cmFjdCBkb3duc3RyZWFtIGZhY2luZyBwb3J0IG1heApAQCAt
NTk2LDE0ICs1OTEsOSBAQCB2b2lkIGRybV9kcF9kb3duc3RyZWFtX2RlYnVnKHN0cnVjdCBzZXFf
ZmlsZSAqbSwKIAkJc2VxX3ByaW50ZihtLCAiXHRcdFNXOiAlZC4lZFxuIiwgcmV2WzBdLCByZXZb
MV0pOwogCiAJaWYgKGRldGFpbGVkX2NhcF9pbmZvKSB7Ci0JCWNsayA9IGRybV9kcF9kb3duc3Ry
ZWFtX21heF9jbG9jayhkcGNkLCBwb3J0X2NhcCk7Ci0KLQkJaWYgKGNsayA+IDApIHsKLQkJCWlm
ICh0eXBlID09IERQX0RTX1BPUlRfVFlQRV9WR0EpCi0JCQkJc2VxX3ByaW50ZihtLCAiXHRcdE1h
eCBkb3QgY2xvY2s6ICVkIGtIelxuIiwgY2xrKTsKLQkJCWVsc2UKLQkJCQlzZXFfcHJpbnRmKG0s
ICJcdFx0TWF4IFRNRFMgY2xvY2s6ICVkIGtIelxuIiwgY2xrKTsKLQkJfQorCQljbGsgPSBkcm1f
ZHBfZG93bnN0cmVhbV9tYXhfZG90Y2xvY2soZHBjZCwgcG9ydF9jYXApOworCQlpZiAoY2xrID4g
MCkKKwkJCXNlcV9wcmludGYobSwgIlx0XHRNYXggZG90IGNsb2NrOiAlZCBrSHpcbiIsIGNsayk7
CiAKIAkJYnBjID0gZHJtX2RwX2Rvd25zdHJlYW1fbWF4X2JwYyhkcGNkLCBwb3J0X2NhcCwgZWRp
ZCk7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAu
YyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYwppbmRleCA3MDY3NTBm
OTM3OWUuLjIyYzU5OTVlMzFhNyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF9kcC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
ZHAuYwpAQCAtMjUyLDggKzI1Miw4IEBAIGludGVsX2RwX2Rvd25zdHJlYW1fbWF4X2RvdGNsb2Nr
KHN0cnVjdCBpbnRlbF9kcCAqaW50ZWxfZHApCiAJaWYgKHR5cGUgIT0gRFBfRFNfUE9SVF9UWVBF
X1ZHQSkKIAkJcmV0dXJuIG1heF9kb3RjbGs7CiAKLQlkc19tYXhfZG90Y2xrID0gZHJtX2RwX2Rv
d25zdHJlYW1fbWF4X2Nsb2NrKGludGVsX2RwLT5kcGNkLAotCQkJCQkJICAgIGludGVsX2RwLT5k
b3duc3RyZWFtX3BvcnRzKTsKKwlkc19tYXhfZG90Y2xrID0gZHJtX2RwX2Rvd25zdHJlYW1fbWF4
X2RvdGNsb2NrKGludGVsX2RwLT5kcGNkLAorCQkJCQkJICAgICAgIGludGVsX2RwLT5kb3duc3Ry
ZWFtX3BvcnRzKTsKIAogCWlmIChkc19tYXhfZG90Y2xrICE9IDApCiAJCW1heF9kb3RjbGsgPSBt
aW4obWF4X2RvdGNsaywgZHNfbWF4X2RvdGNsayk7CmRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS9k
cm1fZHBfaGVscGVyLmggYi9pbmNsdWRlL2RybS9kcm1fZHBfaGVscGVyLmgKaW5kZXggNjI2Mzdh
Y2FlZmVlLi4zOWMxZmFmN2RlZGUgMTAwNjQ0Ci0tLSBhL2luY2x1ZGUvZHJtL2RybV9kcF9oZWxw
ZXIuaAorKysgYi9pbmNsdWRlL2RybS9kcm1fZHBfaGVscGVyLmgKQEAgLTE0ODAsOCArMTQ4MCw4
IEBAIGJvb2wgZHJtX2RwX2Rvd25zdHJlYW1faXNfdHlwZShjb25zdCB1OCBkcGNkW0RQX1JFQ0VJ
VkVSX0NBUF9TSVpFXSwKIGJvb2wgZHJtX2RwX2Rvd25zdHJlYW1faXNfdG1kcyhjb25zdCB1OCBk
cGNkW0RQX1JFQ0VJVkVSX0NBUF9TSVpFXSwKIAkJCSAgICAgICBjb25zdCB1OCBwb3J0X2NhcFs0
XSwKIAkJCSAgICAgICBjb25zdCBzdHJ1Y3QgZWRpZCAqZWRpZCk7Ci1pbnQgZHJtX2RwX2Rvd25z
dHJlYW1fbWF4X2Nsb2NrKGNvbnN0IHU4IGRwY2RbRFBfUkVDRUlWRVJfQ0FQX1NJWkVdLAotCQkJ
CWNvbnN0IHU4IHBvcnRfY2FwWzRdKTsKK2ludCBkcm1fZHBfZG93bnN0cmVhbV9tYXhfZG90Y2xv
Y2soY29uc3QgdTggZHBjZFtEUF9SRUNFSVZFUl9DQVBfU0laRV0sCisJCQkJICAgY29uc3QgdTgg
cG9ydF9jYXBbNF0pOwogaW50IGRybV9kcF9kb3duc3RyZWFtX21heF9icGMoY29uc3QgdTggZHBj
ZFtEUF9SRUNFSVZFUl9DQVBfU0laRV0sCiAJCQkgICAgICBjb25zdCB1OCBwb3J0X2NhcFs0XSwK
IAkJCSAgICAgIGNvbnN0IHN0cnVjdCBlZGlkICplZGlkKTsKLS0gCjIuMjQuMQoKX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcg
bGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRl
c2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVsCg==
