Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 41275F1664
	for <lists+dri-devel@lfdr.de>; Wed,  6 Nov 2019 13:56:20 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0D0386ED1B;
	Wed,  6 Nov 2019 12:56:18 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from us-smtp-delivery-1.mimecast.com (us-smtp-2.mimecast.com
 [207.211.31.81])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 4B19F6ED1B
 for <dri-devel@lists.freedesktop.org>; Wed,  6 Nov 2019 12:56:16 +0000 (UTC)
Received: from mimecast-mx01.redhat.com (mimecast-mx01.redhat.com
 [209.132.183.4]) (Using TLS) by relay.mimecast.com with ESMTP id
 us-mta-357-ZVwANfiBN6ueCADKu7GQcA-1; Wed, 06 Nov 2019 07:56:13 -0500
Received: from smtp.corp.redhat.com (int-mx06.intmail.prod.int.phx2.redhat.com
 [10.5.11.16])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mimecast-mx01.redhat.com (Postfix) with ESMTPS id 7E4D81800D6B;
 Wed,  6 Nov 2019 12:56:11 +0000 (UTC)
Received: from sirius.home.kraxel.org (ovpn-116-69.ams2.redhat.com
 [10.36.116.69])
 by smtp.corp.redhat.com (Postfix) with ESMTP id 559CE5C240;
 Wed,  6 Nov 2019 12:56:10 +0000 (UTC)
Received: by sirius.home.kraxel.org (Postfix, from userid 1000)
 id 6032611AAA; Wed,  6 Nov 2019 13:56:08 +0100 (CET)
Date: Wed, 6 Nov 2019 13:56:08 +0100
From: Gerd Hoffmann <kraxel@redhat.com>
To: Thomas Zimmermann <tzimmermann@suse.de>
Subject: Re: [PATCH v2 4/4] drm/udl: Remove struct udl_gem_object and functions
Message-ID: <20191106125608.zuizqqgjhdlxdzor@sirius.home.kraxel.org>
References: <20191106104722.19700-1-tzimmermann@suse.de>
 <20191106104722.19700-5-tzimmermann@suse.de>
MIME-Version: 1.0
In-Reply-To: <20191106104722.19700-5-tzimmermann@suse.de>
User-Agent: NeoMutt/20180716
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.16
X-MC-Unique: ZVwANfiBN6ueCADKu7GQcA-1
X-Mimecast-Spam-Score: 0
Content-Disposition: inline
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=redhat.com; 
 s=mimecast20190719; t=1573044974;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=4Si64xwcK93mfQL+f+HmTDsPVBU0OVvEkk+AhMPvIaA=;
 b=QBtSKjqaJNuD/m99OUzymp2lepCP88KYnBAEq1goyMJjcH5VQC0lVOK3KUpovVOaLUnhpo
 Tn1YJoKjuCYOVa+w9i2jUzlyybcIAkqOc1cxjzrUBjW4rvjPh9MlUy/t6ogbGaBjzarpyG
 qRuIvrsXpPhzcz08FfTHwWS9gtn0m4s=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: sean@poorly.run, dri-devel@lists.freedesktop.org, airlied@redhat.com,
 sam@ravnborg.org, emil.velikov@collabora.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gV2VkLCBOb3YgMDYsIDIwMTkgYXQgMTE6NDc6MjJBTSArMDEwMCwgVGhvbWFzIFppbW1lcm1h
bm4gd3JvdGU6Cj4gU2ltcGx5IHJlbW92ZXMgYWxsIHRoZSBvYnNvbGV0ZSBHRU0gY29kZSBmcm9t
IHVkbC4gTm8gZnVuY3Rpb25hbAo+IGNoYW5nZXMuCj4gCj4gU2lnbmVkLW9mZi1ieTogVGhvbWFz
IFppbW1lcm1hbm4gPHR6aW1tZXJtYW5uQHN1c2UuZGU+CgpBY2tlZC1ieTogR2VyZCBIb2ZmbWFu
biA8a3JheGVsQHJlZGhhdC5jb20+Cgo+IC0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vdWRsL01ha2Vm
aWxlICAgICB8ICAgMiArLQo+ICBkcml2ZXJzL2dwdS9kcm0vdWRsL3VkbF9kbWFidWYuYyB8IDI1
NCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS91ZGwv
dWRsX2Rydi5oICAgIHwgIDI5IC0tLS0KPiAgZHJpdmVycy9ncHUvZHJtL3VkbC91ZGxfZ2VtLmMg
ICAgfCAyMDYgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQo+ICA0IGZpbGVzIGNoYW5nZWQsIDEg
aW5zZXJ0aW9uKCspLCA0OTAgZGVsZXRpb25zKC0pCj4gIGRlbGV0ZSBtb2RlIDEwMDY0NCBkcml2
ZXJzL2dwdS9kcm0vdWRsL3VkbF9kbWFidWYuYwo+IAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vdWRsL01ha2VmaWxlIGIvZHJpdmVycy9ncHUvZHJtL3VkbC9NYWtlZmlsZQo+IGluZGV4
IGU1YmI2Zjc1N2UxMS4uOWM0MjgyMGFlMzNkIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS91ZGwvTWFrZWZpbGUKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vdWRsL01ha2VmaWxlCj4gQEAg
LTEsNCArMSw0IEBACj4gICMgU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb25seQo+
IC11ZGwteSA6PSB1ZGxfZHJ2Lm8gdWRsX21vZGVzZXQubyB1ZGxfY29ubmVjdG9yLm8gdWRsX2Vu
Y29kZXIubyB1ZGxfbWFpbi5vIHVkbF9mYi5vIHVkbF90cmFuc2Zlci5vIHVkbF9nZW0ubyB1ZGxf
ZG1hYnVmLm8KPiArdWRsLXkgOj0gdWRsX2Rydi5vIHVkbF9tb2Rlc2V0Lm8gdWRsX2Nvbm5lY3Rv
ci5vIHVkbF9lbmNvZGVyLm8gdWRsX21haW4ubyB1ZGxfZmIubyB1ZGxfdHJhbnNmZXIubyB1ZGxf
Z2VtLm8KPiAgCj4gIG9iai0kKENPTkZJR19EUk1fVURMKSA6PSB1ZGwubwo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vdWRsL3VkbF9kbWFidWYuYyBiL2RyaXZlcnMvZ3B1L2RybS91ZGwv
dWRsX2RtYWJ1Zi5jCj4gZGVsZXRlZCBmaWxlIG1vZGUgMTAwNjQ0Cj4gaW5kZXggYjFjMWVlNjRk
ZTU5Li4wMDAwMDAwMDAwMDAKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vdWRsL3VkbF9kbWFidWYu
Ywo+ICsrKyAvZGV2L251bGwKPiBAQCAtMSwyNTQgKzAsMCBAQAo+IC0vLyBTUERYLUxpY2Vuc2Ut
SWRlbnRpZmllcjogR1BMLTIuMC1vci1sYXRlcgo+IC0vKgo+IC0gKiB1ZGxfZG1hYnVmLmMKPiAt
ICoKPiAtICogQ29weXJpZ2h0IChjKSAyMDE0IFRoZSBDaHJvbWl1bSBPUyBBdXRob3JzCj4gLSAq
Lwo+IC0KPiAtI2luY2x1ZGUgPGxpbnV4L3NobWVtX2ZzLmg+Cj4gLSNpbmNsdWRlIDxsaW51eC9k
bWEtYnVmLmg+Cj4gLQo+IC0jaW5jbHVkZSA8ZHJtL2RybV9wcmltZS5oPgo+IC0KPiAtI2luY2x1
ZGUgInVkbF9kcnYuaCIKPiAtCj4gLXN0cnVjdCB1ZGxfZHJtX2RtYWJ1Zl9hdHRhY2htZW50IHsK
PiAtCXN0cnVjdCBzZ190YWJsZSBzZ3Q7Cj4gLQllbnVtIGRtYV9kYXRhX2RpcmVjdGlvbiBkaXI7
Cj4gLQlib29sIGlzX21hcHBlZDsKPiAtfTsKPiAtCj4gLXN0YXRpYyBpbnQgdWRsX2F0dGFjaF9k
bWFfYnVmKHN0cnVjdCBkbWFfYnVmICpkbWFidWYsCj4gLQkJCSAgICAgIHN0cnVjdCBkbWFfYnVm
X2F0dGFjaG1lbnQgKmF0dGFjaCkKPiAtewo+IC0Jc3RydWN0IHVkbF9kcm1fZG1hYnVmX2F0dGFj
aG1lbnQgKnVkbF9hdHRhY2g7Cj4gLQo+IC0JRFJNX0RFQlVHX1BSSU1FKCJbREVWOiVzXSBzaXpl
OiV6ZFxuIiwgZGV2X25hbWUoYXR0YWNoLT5kZXYpLAo+IC0JCQlhdHRhY2gtPmRtYWJ1Zi0+c2l6
ZSk7Cj4gLQo+IC0JdWRsX2F0dGFjaCA9IGt6YWxsb2Moc2l6ZW9mKCp1ZGxfYXR0YWNoKSwgR0ZQ
X0tFUk5FTCk7Cj4gLQlpZiAoIXVkbF9hdHRhY2gpCj4gLQkJcmV0dXJuIC1FTk9NRU07Cj4gLQo+
IC0JdWRsX2F0dGFjaC0+ZGlyID0gRE1BX05PTkU7Cj4gLQlhdHRhY2gtPnByaXYgPSB1ZGxfYXR0
YWNoOwo+IC0KPiAtCXJldHVybiAwOwo+IC19Cj4gLQo+IC1zdGF0aWMgdm9pZCB1ZGxfZGV0YWNo
X2RtYV9idWYoc3RydWN0IGRtYV9idWYgKmRtYWJ1ZiwKPiAtCQkJICAgICAgIHN0cnVjdCBkbWFf
YnVmX2F0dGFjaG1lbnQgKmF0dGFjaCkKPiAtewo+IC0Jc3RydWN0IHVkbF9kcm1fZG1hYnVmX2F0
dGFjaG1lbnQgKnVkbF9hdHRhY2ggPSBhdHRhY2gtPnByaXY7Cj4gLQlzdHJ1Y3Qgc2dfdGFibGUg
KnNndDsKPiAtCj4gLQlpZiAoIXVkbF9hdHRhY2gpCj4gLQkJcmV0dXJuOwo+IC0KPiAtCURSTV9E
RUJVR19QUklNRSgiW0RFVjolc10gc2l6ZTolemRcbiIsIGRldl9uYW1lKGF0dGFjaC0+ZGV2KSwK
PiAtCQkJYXR0YWNoLT5kbWFidWYtPnNpemUpOwo+IC0KPiAtCXNndCA9ICZ1ZGxfYXR0YWNoLT5z
Z3Q7Cj4gLQo+IC0JaWYgKHVkbF9hdHRhY2gtPmRpciAhPSBETUFfTk9ORSkKPiAtCQlkbWFfdW5t
YXBfc2coYXR0YWNoLT5kZXYsIHNndC0+c2dsLCBzZ3QtPm5lbnRzLAo+IC0JCQkJdWRsX2F0dGFj
aC0+ZGlyKTsKPiAtCj4gLQlzZ19mcmVlX3RhYmxlKHNndCk7Cj4gLQlrZnJlZSh1ZGxfYXR0YWNo
KTsKPiAtCWF0dGFjaC0+cHJpdiA9IE5VTEw7Cj4gLX0KPiAtCj4gLXN0YXRpYyBzdHJ1Y3Qgc2df
dGFibGUgKnVkbF9tYXBfZG1hX2J1ZihzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2htZW50ICphdHRhY2gs
Cj4gLQkJCQkJZW51bSBkbWFfZGF0YV9kaXJlY3Rpb24gZGlyKQo+IC17Cj4gLQlzdHJ1Y3QgdWRs
X2RybV9kbWFidWZfYXR0YWNobWVudCAqdWRsX2F0dGFjaCA9IGF0dGFjaC0+cHJpdjsKPiAtCXN0
cnVjdCB1ZGxfZ2VtX29iamVjdCAqb2JqID0gdG9fdWRsX2JvKGF0dGFjaC0+ZG1hYnVmLT5wcml2
KTsKPiAtCXN0cnVjdCBkcm1fZGV2aWNlICpkZXYgPSBvYmotPmJhc2UuZGV2Owo+IC0Jc3RydWN0
IHVkbF9kZXZpY2UgKnVkbCA9IGRldi0+ZGV2X3ByaXZhdGU7Cj4gLQlzdHJ1Y3Qgc2NhdHRlcmxp
c3QgKnJkLCAqd3I7Cj4gLQlzdHJ1Y3Qgc2dfdGFibGUgKnNndCA9IE5VTEw7Cj4gLQl1bnNpZ25l
ZCBpbnQgaTsKPiAtCWludCBwYWdlX2NvdW50Owo+IC0JaW50IG5lbnRzLCByZXQ7Cj4gLQo+IC0J
RFJNX0RFQlVHX1BSSU1FKCJbREVWOiVzXSBzaXplOiV6ZCBkaXI9JWRcbiIsIGRldl9uYW1lKGF0
dGFjaC0+ZGV2KSwKPiAtCQkJYXR0YWNoLT5kbWFidWYtPnNpemUsIGRpcik7Cj4gLQo+IC0JLyog
anVzdCByZXR1cm4gY3VycmVudCBzZ3QgaWYgYWxyZWFkeSByZXF1ZXN0ZWQuICovCj4gLQlpZiAo
dWRsX2F0dGFjaC0+ZGlyID09IGRpciAmJiB1ZGxfYXR0YWNoLT5pc19tYXBwZWQpCj4gLQkJcmV0
dXJuICZ1ZGxfYXR0YWNoLT5zZ3Q7Cj4gLQo+IC0JaWYgKCFvYmotPnBhZ2VzKSB7Cj4gLQkJcmV0
ID0gdWRsX2dlbV9nZXRfcGFnZXMob2JqKTsKPiAtCQlpZiAocmV0KSB7Cj4gLQkJCURSTV9FUlJP
UigiZmFpbGVkIHRvIG1hcCBwYWdlcy5cbiIpOwo+IC0JCQlyZXR1cm4gRVJSX1BUUihyZXQpOwo+
IC0JCX0KPiAtCX0KPiAtCj4gLQlwYWdlX2NvdW50ID0gb2JqLT5iYXNlLnNpemUgLyBQQUdFX1NJ
WkU7Cj4gLQlvYmotPnNnID0gZHJtX3ByaW1lX3BhZ2VzX3RvX3NnKG9iai0+cGFnZXMsIHBhZ2Vf
Y291bnQpOwo+IC0JaWYgKElTX0VSUihvYmotPnNnKSkgewo+IC0JCURSTV9FUlJPUigiZmFpbGVk
IHRvIGFsbG9jYXRlIHNndC5cbiIpOwo+IC0JCXJldHVybiBFUlJfQ0FTVChvYmotPnNnKTsKPiAt
CX0KPiAtCj4gLQlzZ3QgPSAmdWRsX2F0dGFjaC0+c2d0Owo+IC0KPiAtCXJldCA9IHNnX2FsbG9j
X3RhYmxlKHNndCwgb2JqLT5zZy0+b3JpZ19uZW50cywgR0ZQX0tFUk5FTCk7Cj4gLQlpZiAocmV0
KSB7Cj4gLQkJRFJNX0VSUk9SKCJmYWlsZWQgdG8gYWxsb2Mgc2d0LlxuIik7Cj4gLQkJcmV0dXJu
IEVSUl9QVFIoLUVOT01FTSk7Cj4gLQl9Cj4gLQo+IC0JbXV0ZXhfbG9jaygmdWRsLT5nZW1fbG9j
ayk7Cj4gLQo+IC0JcmQgPSBvYmotPnNnLT5zZ2w7Cj4gLQl3ciA9IHNndC0+c2dsOwo+IC0JZm9y
IChpID0gMDsgaSA8IHNndC0+b3JpZ19uZW50czsgKytpKSB7Cj4gLQkJc2dfc2V0X3BhZ2Uod3Is
IHNnX3BhZ2UocmQpLCByZC0+bGVuZ3RoLCByZC0+b2Zmc2V0KTsKPiAtCQlyZCA9IHNnX25leHQo
cmQpOwo+IC0JCXdyID0gc2dfbmV4dCh3cik7Cj4gLQl9Cj4gLQo+IC0JaWYgKGRpciAhPSBETUFf
Tk9ORSkgewo+IC0JCW5lbnRzID0gZG1hX21hcF9zZyhhdHRhY2gtPmRldiwgc2d0LT5zZ2wsIHNn
dC0+b3JpZ19uZW50cywgZGlyKTsKPiAtCQlpZiAoIW5lbnRzKSB7Cj4gLQkJCURSTV9FUlJPUigi
ZmFpbGVkIHRvIG1hcCBzZ2wgd2l0aCBpb21tdS5cbiIpOwo+IC0JCQlzZ19mcmVlX3RhYmxlKHNn
dCk7Cj4gLQkJCXNndCA9IEVSUl9QVFIoLUVJTyk7Cj4gLQkJCWdvdG8gZXJyX3VubG9jazsKPiAt
CQl9Cj4gLQl9Cj4gLQo+IC0JdWRsX2F0dGFjaC0+aXNfbWFwcGVkID0gdHJ1ZTsKPiAtCXVkbF9h
dHRhY2gtPmRpciA9IGRpcjsKPiAtCWF0dGFjaC0+cHJpdiA9IHVkbF9hdHRhY2g7Cj4gLQo+IC1l
cnJfdW5sb2NrOgo+IC0JbXV0ZXhfdW5sb2NrKCZ1ZGwtPmdlbV9sb2NrKTsKPiAtCXJldHVybiBz
Z3Q7Cj4gLX0KPiAtCj4gLXN0YXRpYyB2b2lkIHVkbF91bm1hcF9kbWFfYnVmKHN0cnVjdCBkbWFf
YnVmX2F0dGFjaG1lbnQgKmF0dGFjaCwKPiAtCQkJICAgICAgc3RydWN0IHNnX3RhYmxlICpzZ3Qs
Cj4gLQkJCSAgICAgIGVudW0gZG1hX2RhdGFfZGlyZWN0aW9uIGRpcikKPiAtewo+IC0JLyogTm90
aGluZyB0byBkby4gKi8KPiAtCURSTV9ERUJVR19QUklNRSgiW0RFVjolc10gc2l6ZTolemQgZGly
OiVkXG4iLCBkZXZfbmFtZShhdHRhY2gtPmRldiksCj4gLQkJCWF0dGFjaC0+ZG1hYnVmLT5zaXpl
LCBkaXIpOwo+IC19Cj4gLQo+IC1zdGF0aWMgdm9pZCAqdWRsX2RtYWJ1Zl9rbWFwKHN0cnVjdCBk
bWFfYnVmICpkbWFfYnVmLCB1bnNpZ25lZCBsb25nIHBhZ2VfbnVtKQo+IC17Cj4gLQkvKiBUT0RP
ICovCj4gLQo+IC0JcmV0dXJuIE5VTEw7Cj4gLX0KPiAtCj4gLXN0YXRpYyB2b2lkIHVkbF9kbWFi
dWZfa3VubWFwKHN0cnVjdCBkbWFfYnVmICpkbWFfYnVmLAo+IC0JCQkgICAgICB1bnNpZ25lZCBs
b25nIHBhZ2VfbnVtLCB2b2lkICphZGRyKQo+IC17Cj4gLQkvKiBUT0RPICovCj4gLX0KPiAtCj4g
LXN0YXRpYyBpbnQgdWRsX2RtYWJ1Zl9tbWFwKHN0cnVjdCBkbWFfYnVmICpkbWFfYnVmLAo+IC0J
CQkgICBzdHJ1Y3Qgdm1fYXJlYV9zdHJ1Y3QgKnZtYSkKPiAtewo+IC0JLyogVE9ETyAqLwo+IC0K
PiAtCXJldHVybiAtRUlOVkFMOwo+IC19Cj4gLQo+IC1zdGF0aWMgY29uc3Qgc3RydWN0IGRtYV9i
dWZfb3BzIHVkbF9kbWFidWZfb3BzID0gewo+IC0JLmF0dGFjaAkJCT0gdWRsX2F0dGFjaF9kbWFf
YnVmLAo+IC0JLmRldGFjaAkJCT0gdWRsX2RldGFjaF9kbWFfYnVmLAo+IC0JLm1hcF9kbWFfYnVm
CQk9IHVkbF9tYXBfZG1hX2J1ZiwKPiAtCS51bm1hcF9kbWFfYnVmCQk9IHVkbF91bm1hcF9kbWFf
YnVmLAo+IC0JLm1hcAkJCT0gdWRsX2RtYWJ1Zl9rbWFwLAo+IC0JLnVubWFwCQkJPSB1ZGxfZG1h
YnVmX2t1bm1hcCwKPiAtCS5tbWFwCQkJPSB1ZGxfZG1hYnVmX21tYXAsCj4gLQkucmVsZWFzZQkJ
PSBkcm1fZ2VtX2RtYWJ1Zl9yZWxlYXNlLAo+IC19Owo+IC0KPiAtc3RydWN0IGRtYV9idWYgKnVk
bF9nZW1fcHJpbWVfZXhwb3J0KHN0cnVjdCBkcm1fZ2VtX29iamVjdCAqb2JqLCBpbnQgZmxhZ3Mp
Cj4gLXsKPiAtCURFRklORV9ETUFfQlVGX0VYUE9SVF9JTkZPKGV4cF9pbmZvKTsKPiAtCj4gLQll
eHBfaW5mby5vcHMgPSAmdWRsX2RtYWJ1Zl9vcHM7Cj4gLQlleHBfaW5mby5zaXplID0gb2JqLT5z
aXplOwo+IC0JZXhwX2luZm8uZmxhZ3MgPSBmbGFnczsKPiAtCWV4cF9pbmZvLnByaXYgPSBvYmo7
Cj4gLQo+IC0JcmV0dXJuIGRybV9nZW1fZG1hYnVmX2V4cG9ydChvYmotPmRldiwgJmV4cF9pbmZv
KTsKPiAtfQo+IC0KPiAtc3RhdGljIGludCB1ZGxfcHJpbWVfY3JlYXRlKHN0cnVjdCBkcm1fZGV2
aWNlICpkZXYsCj4gLQkJCSAgICBzaXplX3Qgc2l6ZSwKPiAtCQkJICAgIHN0cnVjdCBzZ190YWJs
ZSAqc2csCj4gLQkJCSAgICBzdHJ1Y3QgdWRsX2dlbV9vYmplY3QgKipvYmpfcCkKPiAtewo+IC0J
c3RydWN0IHVkbF9nZW1fb2JqZWN0ICpvYmo7Cj4gLQlpbnQgbnBhZ2VzOwo+IC0KPiAtCW5wYWdl
cyA9IHNpemUgLyBQQUdFX1NJWkU7Cj4gLQo+IC0JKm9ial9wID0gTlVMTDsKPiAtCW9iaiA9IHVk
bF9nZW1fYWxsb2Nfb2JqZWN0KGRldiwgbnBhZ2VzICogUEFHRV9TSVpFKTsKPiAtCWlmICghb2Jq
KQo+IC0JCXJldHVybiAtRU5PTUVNOwo+IC0KPiAtCW9iai0+c2cgPSBzZzsKPiAtCW9iai0+cGFn
ZXMgPSBrdm1hbGxvY19hcnJheShucGFnZXMsIHNpemVvZihzdHJ1Y3QgcGFnZSAqKSwgR0ZQX0tF
Uk5FTCk7Cj4gLQlpZiAob2JqLT5wYWdlcyA9PSBOVUxMKSB7Cj4gLQkJRFJNX0VSUk9SKCJvYmog
cGFnZXMgaXMgTlVMTCAlZFxuIiwgbnBhZ2VzKTsKPiAtCQlyZXR1cm4gLUVOT01FTTsKPiAtCX0K
PiAtCj4gLQlkcm1fcHJpbWVfc2dfdG9fcGFnZV9hZGRyX2FycmF5cyhzZywgb2JqLT5wYWdlcywg
TlVMTCwgbnBhZ2VzKTsKPiAtCj4gLQkqb2JqX3AgPSBvYmo7Cj4gLQlyZXR1cm4gMDsKPiAtfQo+
IC0KPiAtc3RydWN0IGRybV9nZW1fb2JqZWN0ICp1ZGxfZ2VtX3ByaW1lX2ltcG9ydChzdHJ1Y3Qg
ZHJtX2RldmljZSAqZGV2LAo+IC0JCQkJc3RydWN0IGRtYV9idWYgKmRtYV9idWYpCj4gLXsKPiAt
CXN0cnVjdCBkbWFfYnVmX2F0dGFjaG1lbnQgKmF0dGFjaDsKPiAtCXN0cnVjdCBzZ190YWJsZSAq
c2c7Cj4gLQlzdHJ1Y3QgdWRsX2dlbV9vYmplY3QgKnVvYmo7Cj4gLQlpbnQgcmV0Owo+IC0KPiAt
CS8qIG5lZWQgdG8gYXR0YWNoICovCj4gLQlnZXRfZGV2aWNlKGRldi0+ZGV2KTsKPiAtCWF0dGFj
aCA9IGRtYV9idWZfYXR0YWNoKGRtYV9idWYsIGRldi0+ZGV2KTsKPiAtCWlmIChJU19FUlIoYXR0
YWNoKSkgewo+IC0JCXB1dF9kZXZpY2UoZGV2LT5kZXYpOwo+IC0JCXJldHVybiBFUlJfQ0FTVChh
dHRhY2gpOwo+IC0JfQo+IC0KPiAtCWdldF9kbWFfYnVmKGRtYV9idWYpOwo+IC0KPiAtCXNnID0g
ZG1hX2J1Zl9tYXBfYXR0YWNobWVudChhdHRhY2gsIERNQV9CSURJUkVDVElPTkFMKTsKPiAtCWlm
IChJU19FUlIoc2cpKSB7Cj4gLQkJcmV0ID0gUFRSX0VSUihzZyk7Cj4gLQkJZ290byBmYWlsX2Rl
dGFjaDsKPiAtCX0KPiAtCj4gLQlyZXQgPSB1ZGxfcHJpbWVfY3JlYXRlKGRldiwgZG1hX2J1Zi0+
c2l6ZSwgc2csICZ1b2JqKTsKPiAtCWlmIChyZXQpCj4gLQkJZ290byBmYWlsX3VubWFwOwo+IC0K
PiAtCXVvYmotPmJhc2UuaW1wb3J0X2F0dGFjaCA9IGF0dGFjaDsKPiAtCj4gLQlyZXR1cm4gJnVv
YmotPmJhc2U7Cj4gLQo+IC1mYWlsX3VubWFwOgo+IC0JZG1hX2J1Zl91bm1hcF9hdHRhY2htZW50
KGF0dGFjaCwgc2csIERNQV9CSURJUkVDVElPTkFMKTsKPiAtZmFpbF9kZXRhY2g6Cj4gLQlkbWFf
YnVmX2RldGFjaChkbWFfYnVmLCBhdHRhY2gpOwo+IC0JZG1hX2J1Zl9wdXQoZG1hX2J1Zik7Cj4g
LQlwdXRfZGV2aWNlKGRldi0+ZGV2KTsKPiAtCXJldHVybiBFUlJfUFRSKHJldCk7Cj4gLX0KPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3VkbC91ZGxfZHJ2LmggYi9kcml2ZXJzL2dwdS9k
cm0vdWRsL3VkbF9kcnYuaAo+IGluZGV4IDYzMGU2NGFiYzk4Ni4uOTg3ZDk5YWUyZGZhIDEwMDY0
NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS91ZGwvdWRsX2Rydi5oCj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL3VkbC91ZGxfZHJ2LmgKPiBAQCAtNzMsMTggKzczLDggQEAgc3RydWN0IHVkbF9kZXZp
Y2Ugewo+ICAKPiAgI2RlZmluZSB0b191ZGwoeCkgY29udGFpbmVyX29mKHgsIHN0cnVjdCB1ZGxf
ZGV2aWNlLCBkcm0pCj4gIAo+IC1zdHJ1Y3QgdWRsX2dlbV9vYmplY3Qgewo+IC0Jc3RydWN0IGRy
bV9nZW1fb2JqZWN0IGJhc2U7Cj4gLQlzdHJ1Y3QgcGFnZSAqKnBhZ2VzOwo+IC0Jdm9pZCAqdm1h
cHBpbmc7Cj4gLQlzdHJ1Y3Qgc2dfdGFibGUgKnNnOwo+IC19Owo+IC0KPiAtI2RlZmluZSB0b191
ZGxfYm8oeCkgY29udGFpbmVyX29mKHgsIHN0cnVjdCB1ZGxfZ2VtX29iamVjdCwgYmFzZSkKPiAt
Cj4gIHN0cnVjdCB1ZGxfZnJhbWVidWZmZXIgewo+ICAJc3RydWN0IGRybV9mcmFtZWJ1ZmZlciBi
YXNlOwo+IC0Jc3RydWN0IHVkbF9nZW1fb2JqZWN0ICpvYmo7Cj4gIAlzdHJ1Y3QgZHJtX2dlbV9z
aG1lbV9vYmplY3QgKnNobWVtOwo+ICAJYm9vbCBhY3RpdmVfMTY7IC8qIGFjdGl2ZSBvbiB0aGUg
MTYtYml0IGNoYW5uZWwgKi8KPiAgfTsKPiBAQCAtMTIwLDI3ICsxMTAsOCBAQCBpbnQgdWRsX3Jl
bmRlcl9obGluZShzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCBpbnQgbG9nX2JwcCwgc3RydWN0IHVy
YiAqKnVyYl9wdHIsCj4gIAkJICAgICB1MzIgYnl0ZV9vZmZzZXQsIHUzMiBkZXZpY2VfYnl0ZV9v
ZmZzZXQsIHUzMiBieXRlX3dpZHRoLAo+ICAJCSAgICAgaW50ICppZGVudF9wdHIsIGludCAqc2Vu
dF9wdHIpOwo+ICAKPiAtaW50IHVkbF9kdW1iX2NyZWF0ZShzdHJ1Y3QgZHJtX2ZpbGUgKmZpbGVf
cHJpdiwKPiAtCQkgICAgc3RydWN0IGRybV9kZXZpY2UgKmRldiwKPiAtCQkgICAgc3RydWN0IGRy
bV9tb2RlX2NyZWF0ZV9kdW1iICphcmdzKTsKPiAtaW50IHVkbF9nZW1fbW1hcChzdHJ1Y3QgZHJt
X2ZpbGUgKmZpbGVfcHJpdiwgc3RydWN0IGRybV9kZXZpY2UgKmRldiwKPiAtCQkgdWludDMyX3Qg
aGFuZGxlLCB1aW50NjRfdCAqb2Zmc2V0KTsKPiAtCj4gIHN0cnVjdCBkcm1fZ2VtX29iamVjdCAq
dWRsX2RyaXZlcl9nZW1fY3JlYXRlX29iamVjdChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LAo+ICAJ
CQkJCQkgICAgc2l6ZV90IHNpemUpOwo+IC12b2lkIHVkbF9nZW1fZnJlZV9vYmplY3Qoc3RydWN0
IGRybV9nZW1fb2JqZWN0ICpnZW1fb2JqKTsKPiAtc3RydWN0IHVkbF9nZW1fb2JqZWN0ICp1ZGxf
Z2VtX2FsbG9jX29iamVjdChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LAo+IC0JCQkJCSAgICBzaXpl
X3Qgc2l6ZSk7Cj4gLXN0cnVjdCBkbWFfYnVmICp1ZGxfZ2VtX3ByaW1lX2V4cG9ydChzdHJ1Y3Qg
ZHJtX2dlbV9vYmplY3QgKm9iaiwgaW50IGZsYWdzKTsKPiAtc3RydWN0IGRybV9nZW1fb2JqZWN0
ICp1ZGxfZ2VtX3ByaW1lX2ltcG9ydChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LAo+IC0JCQkJc3Ry
dWN0IGRtYV9idWYgKmRtYV9idWYpOwo+IC0KPiAtaW50IHVkbF9nZW1fZ2V0X3BhZ2VzKHN0cnVj
dCB1ZGxfZ2VtX29iamVjdCAqb2JqKTsKPiAtdm9pZCB1ZGxfZ2VtX3B1dF9wYWdlcyhzdHJ1Y3Qg
dWRsX2dlbV9vYmplY3QgKm9iaik7Cj4gLWludCB1ZGxfZ2VtX3ZtYXAoc3RydWN0IHVkbF9nZW1f
b2JqZWN0ICpvYmopOwo+IC12b2lkIHVkbF9nZW1fdnVubWFwKHN0cnVjdCB1ZGxfZ2VtX29iamVj
dCAqb2JqKTsKPiAtaW50IHVkbF9kcm1fZ2VtX21tYXAoc3RydWN0IGZpbGUgKmZpbHAsIHN0cnVj
dCB2bV9hcmVhX3N0cnVjdCAqdm1hKTsKPiAtdm1fZmF1bHRfdCB1ZGxfZ2VtX2ZhdWx0KHN0cnVj
dCB2bV9mYXVsdCAqdm1mKTsKPiAgCj4gIGludCB1ZGxfaGFuZGxlX2RhbWFnZShzdHJ1Y3QgdWRs
X2ZyYW1lYnVmZmVyICpmYiwgaW50IHgsIGludCB5LAo+ICAJCSAgICAgIGludCB3aWR0aCwgaW50
IGhlaWdodCk7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS91ZGwvdWRsX2dlbS5jIGIv
ZHJpdmVycy9ncHUvZHJtL3VkbC91ZGxfZ2VtLmMKPiBpbmRleCAzNTU0ZmZmYmYxZGIuLmFjODJl
MDY0NjNiZCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vdWRsL3VkbF9nZW0uYwo+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS91ZGwvdWRsX2dlbS5jCj4gQEAgLTgwLDIwOSArODAsMyBAQCBz
dHJ1Y3QgZHJtX2dlbV9vYmplY3QgKnVkbF9kcml2ZXJfZ2VtX2NyZWF0ZV9vYmplY3Qoc3RydWN0
IGRybV9kZXZpY2UgKmRldiwKPiAgCj4gIAlyZXR1cm4gb2JqOwo+ICB9Cj4gLQo+IC1zdHJ1Y3Qg
dWRsX2dlbV9vYmplY3QgKnVkbF9nZW1fYWxsb2Nfb2JqZWN0KHN0cnVjdCBkcm1fZGV2aWNlICpk
ZXYsCj4gLQkJCQkJICAgIHNpemVfdCBzaXplKQo+IC17Cj4gLQlzdHJ1Y3QgZHJtX2dlbV9vYmpl
Y3QgKm9iajsKPiAtCj4gLQlvYmogPSBkZXYtPmRyaXZlci0+Z2VtX2NyZWF0ZV9vYmplY3QoZGV2
LCBzaXplKTsKPiAtCWlmIChvYmogPT0gTlVMTCkKPiAtCQlyZXR1cm4gTlVMTDsKPiAtCj4gLQlp
ZiAoZHJtX2dlbV9vYmplY3RfaW5pdChkZXYsIG9iaiwgc2l6ZSkgIT0gMCkgewo+IC0JCWtmcmVl
KG9iaik7Cj4gLQkJcmV0dXJuIE5VTEw7Cj4gLQl9Cj4gLQo+IC0JcmV0dXJuIHRvX3VkbF9ibyhv
YmopOwo+IC19Cj4gLQo+IC1zdGF0aWMgaW50Cj4gLXVkbF9nZW1fY3JlYXRlKHN0cnVjdCBkcm1f
ZmlsZSAqZmlsZSwKPiAtCSAgICAgICBzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LAo+IC0JICAgICAg
IHVpbnQ2NF90IHNpemUsCj4gLQkgICAgICAgdWludDMyX3QgKmhhbmRsZV9wKQo+IC17Cj4gLQlz
dHJ1Y3QgdWRsX2dlbV9vYmplY3QgKm9iajsKPiAtCWludCByZXQ7Cj4gLQl1MzIgaGFuZGxlOwo+
IC0KPiAtCXNpemUgPSByb3VuZHVwKHNpemUsIFBBR0VfU0laRSk7Cj4gLQo+IC0Jb2JqID0gdWRs
X2dlbV9hbGxvY19vYmplY3QoZGV2LCBzaXplKTsKPiAtCWlmIChvYmogPT0gTlVMTCkKPiAtCQly
ZXR1cm4gLUVOT01FTTsKPiAtCj4gLQlyZXQgPSBkcm1fZ2VtX2hhbmRsZV9jcmVhdGUoZmlsZSwg
Jm9iai0+YmFzZSwgJmhhbmRsZSk7Cj4gLQlpZiAocmV0KSB7Cj4gLQkJZHJtX2dlbV9vYmplY3Rf
cmVsZWFzZSgmb2JqLT5iYXNlKTsKPiAtCQlrZnJlZShvYmopOwo+IC0JCXJldHVybiByZXQ7Cj4g
LQl9Cj4gLQo+IC0JZHJtX2dlbV9vYmplY3RfcHV0X3VubG9ja2VkKCZvYmotPmJhc2UpOwo+IC0J
KmhhbmRsZV9wID0gaGFuZGxlOwo+IC0JcmV0dXJuIDA7Cj4gLX0KPiAtCj4gLWludCB1ZGxfZHVt
Yl9jcmVhdGUoc3RydWN0IGRybV9maWxlICpmaWxlLAo+IC0JCSAgICBzdHJ1Y3QgZHJtX2Rldmlj
ZSAqZGV2LAo+IC0JCSAgICBzdHJ1Y3QgZHJtX21vZGVfY3JlYXRlX2R1bWIgKmFyZ3MpCj4gLXsK
PiAtCWFyZ3MtPnBpdGNoID0gYXJncy0+d2lkdGggKiBESVZfUk9VTkRfVVAoYXJncy0+YnBwLCA4
KTsKPiAtCWFyZ3MtPnNpemUgPSBhcmdzLT5waXRjaCAqIGFyZ3MtPmhlaWdodDsKPiAtCXJldHVy
biB1ZGxfZ2VtX2NyZWF0ZShmaWxlLCBkZXYsCj4gLQkJCSAgICAgIGFyZ3MtPnNpemUsICZhcmdz
LT5oYW5kbGUpOwo+IC19Cj4gLQo+IC1pbnQgdWRsX2RybV9nZW1fbW1hcChzdHJ1Y3QgZmlsZSAq
ZmlscCwgc3RydWN0IHZtX2FyZWFfc3RydWN0ICp2bWEpCj4gLXsKPiAtCXN0cnVjdCBkcm1fZ2Vt
X29iamVjdCAqb2JqOwo+IC0JaW50IHJldDsKPiAtCj4gLQlyZXQgPSBkcm1fZ2VtX21tYXAoZmls
cCwgdm1hKTsKPiAtCWlmIChyZXQpCj4gLQkJcmV0dXJuIHJldDsKPiAtCj4gLQlvYmogPSB2bWEt
PnZtX3ByaXZhdGVfZGF0YTsKPiAtCj4gLQl2bWEtPnZtX2ZsYWdzICY9IH5WTV9QRk5NQVA7Cj4g
LQl2bWEtPnZtX2ZsYWdzIHw9IFZNX01JWEVETUFQOwo+IC0KPiAtCXZtYS0+dm1fcGFnZV9wcm90
ID0gdm1fZ2V0X3BhZ2VfcHJvdCh2bWEtPnZtX2ZsYWdzKTsKPiAtCWlmIChvYmotPmltcG9ydF9h
dHRhY2gpCj4gLQkJdm1hLT52bV9wYWdlX3Byb3QgPSBwZ3Byb3Rfd3JpdGVjb21iaW5lKHZtYS0+
dm1fcGFnZV9wcm90KTsKPiAtCj4gLQlyZXR1cm4gcmV0Owo+IC19Cj4gLQo+IC12bV9mYXVsdF90
IHVkbF9nZW1fZmF1bHQoc3RydWN0IHZtX2ZhdWx0ICp2bWYpCj4gLXsKPiAtCXN0cnVjdCB2bV9h
cmVhX3N0cnVjdCAqdm1hID0gdm1mLT52bWE7Cj4gLQlzdHJ1Y3QgdWRsX2dlbV9vYmplY3QgKm9i
aiA9IHRvX3VkbF9ibyh2bWEtPnZtX3ByaXZhdGVfZGF0YSk7Cj4gLQlzdHJ1Y3QgcGFnZSAqcGFn
ZTsKPiAtCXVuc2lnbmVkIGludCBwYWdlX29mZnNldDsKPiAtCj4gLQlwYWdlX29mZnNldCA9ICh2
bWYtPmFkZHJlc3MgLSB2bWEtPnZtX3N0YXJ0KSA+PiBQQUdFX1NISUZUOwo+IC0KPiAtCWlmICgh
b2JqLT5wYWdlcykKPiAtCQlyZXR1cm4gVk1fRkFVTFRfU0lHQlVTOwo+IC0KPiAtCXBhZ2UgPSBv
YmotPnBhZ2VzW3BhZ2Vfb2Zmc2V0XTsKPiAtCXJldHVybiB2bWZfaW5zZXJ0X3BhZ2Uodm1hLCB2
bWYtPmFkZHJlc3MsIHBhZ2UpOwo+IC19Cj4gLQo+IC1pbnQgdWRsX2dlbV9nZXRfcGFnZXMoc3Ry
dWN0IHVkbF9nZW1fb2JqZWN0ICpvYmopCj4gLXsKPiAtCXN0cnVjdCBwYWdlICoqcGFnZXM7Cj4g
LQo+IC0JaWYgKG9iai0+cGFnZXMpCj4gLQkJcmV0dXJuIDA7Cj4gLQo+IC0JcGFnZXMgPSBkcm1f
Z2VtX2dldF9wYWdlcygmb2JqLT5iYXNlKTsKPiAtCWlmIChJU19FUlIocGFnZXMpKQo+IC0JCXJl
dHVybiBQVFJfRVJSKHBhZ2VzKTsKPiAtCj4gLQlvYmotPnBhZ2VzID0gcGFnZXM7Cj4gLQo+IC0J
cmV0dXJuIDA7Cj4gLX0KPiAtCj4gLXZvaWQgdWRsX2dlbV9wdXRfcGFnZXMoc3RydWN0IHVkbF9n
ZW1fb2JqZWN0ICpvYmopCj4gLXsKPiAtCWlmIChvYmotPmJhc2UuaW1wb3J0X2F0dGFjaCkgewo+
IC0JCWt2ZnJlZShvYmotPnBhZ2VzKTsKPiAtCQlvYmotPnBhZ2VzID0gTlVMTDsKPiAtCQlyZXR1
cm47Cj4gLQl9Cj4gLQo+IC0JZHJtX2dlbV9wdXRfcGFnZXMoJm9iai0+YmFzZSwgb2JqLT5wYWdl
cywgZmFsc2UsIGZhbHNlKTsKPiAtCW9iai0+cGFnZXMgPSBOVUxMOwo+IC19Cj4gLQo+IC1pbnQg
dWRsX2dlbV92bWFwKHN0cnVjdCB1ZGxfZ2VtX29iamVjdCAqb2JqKQo+IC17Cj4gLQlpbnQgcGFn
ZV9jb3VudCA9IG9iai0+YmFzZS5zaXplIC8gUEFHRV9TSVpFOwo+IC0JaW50IHJldDsKPiAtCj4g
LQlpZiAob2JqLT5iYXNlLmltcG9ydF9hdHRhY2gpIHsKPiAtCQlvYmotPnZtYXBwaW5nID0gZG1h
X2J1Zl92bWFwKG9iai0+YmFzZS5pbXBvcnRfYXR0YWNoLT5kbWFidWYpOwo+IC0JCWlmICghb2Jq
LT52bWFwcGluZykKPiAtCQkJcmV0dXJuIC1FTk9NRU07Cj4gLQkJcmV0dXJuIDA7Cj4gLQl9Cj4g
LQo+IC0JcmV0ID0gdWRsX2dlbV9nZXRfcGFnZXMob2JqKTsKPiAtCWlmIChyZXQpCj4gLQkJcmV0
dXJuIHJldDsKPiAtCj4gLQlvYmotPnZtYXBwaW5nID0gdm1hcChvYmotPnBhZ2VzLCBwYWdlX2Nv
dW50LCAwLCBQQUdFX0tFUk5FTCk7Cj4gLQlpZiAoIW9iai0+dm1hcHBpbmcpCj4gLQkJcmV0dXJu
IC1FTk9NRU07Cj4gLQlyZXR1cm4gMDsKPiAtfQo+IC0KPiAtdm9pZCB1ZGxfZ2VtX3Z1bm1hcChz
dHJ1Y3QgdWRsX2dlbV9vYmplY3QgKm9iaikKPiAtewo+IC0JaWYgKG9iai0+YmFzZS5pbXBvcnRf
YXR0YWNoKSB7Cj4gLQkJZG1hX2J1Zl92dW5tYXAob2JqLT5iYXNlLmltcG9ydF9hdHRhY2gtPmRt
YWJ1Ziwgb2JqLT52bWFwcGluZyk7Cj4gLQkJcmV0dXJuOwo+IC0JfQo+IC0KPiAtCXZ1bm1hcChv
YmotPnZtYXBwaW5nKTsKPiAtCj4gLQl1ZGxfZ2VtX3B1dF9wYWdlcyhvYmopOwo+IC19Cj4gLQo+
IC12b2lkIHVkbF9nZW1fZnJlZV9vYmplY3Qoc3RydWN0IGRybV9nZW1fb2JqZWN0ICpnZW1fb2Jq
KQo+IC17Cj4gLQlzdHJ1Y3QgdWRsX2dlbV9vYmplY3QgKm9iaiA9IHRvX3VkbF9ibyhnZW1fb2Jq
KTsKPiAtCj4gLQlpZiAob2JqLT52bWFwcGluZykKPiAtCQl1ZGxfZ2VtX3Z1bm1hcChvYmopOwo+
IC0KPiAtCWlmIChnZW1fb2JqLT5pbXBvcnRfYXR0YWNoKSB7Cj4gLQkJZHJtX3ByaW1lX2dlbV9k
ZXN0cm95KGdlbV9vYmosIG9iai0+c2cpOwo+IC0JCXB1dF9kZXZpY2UoZ2VtX29iai0+ZGV2LT5k
ZXYpOwo+IC0JfQo+IC0KPiAtCWlmIChvYmotPnBhZ2VzKQo+IC0JCXVkbF9nZW1fcHV0X3BhZ2Vz
KG9iaik7Cj4gLQo+IC0JZHJtX2dlbV9mcmVlX21tYXBfb2Zmc2V0KGdlbV9vYmopOwo+IC19Cj4g
LQo+IC0vKiB0aGUgZHVtYiBpbnRlcmZhY2UgZG9lc24ndCB3b3JrIHdpdGggdGhlIEdFTSBzdHJh
aWdodCBNTUFQCj4gLSAgIGludGVyZmFjZSwgaXQgZXhwZWN0cyB0byBkbyBNTUFQIG9uIHRoZSBk
cm0gZmQsIGxpa2Ugbm9ybWFsICovCj4gLWludCB1ZGxfZ2VtX21tYXAoc3RydWN0IGRybV9maWxl
ICpmaWxlLCBzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LAo+IC0JCSB1aW50MzJfdCBoYW5kbGUsIHVp
bnQ2NF90ICpvZmZzZXQpCj4gLXsKPiAtCXN0cnVjdCB1ZGxfZ2VtX29iamVjdCAqZ29iajsKPiAt
CXN0cnVjdCBkcm1fZ2VtX29iamVjdCAqb2JqOwo+IC0Jc3RydWN0IHVkbF9kZXZpY2UgKnVkbCA9
IHRvX3VkbChkZXYpOwo+IC0JaW50IHJldCA9IDA7Cj4gLQo+IC0JbXV0ZXhfbG9jaygmdWRsLT5n
ZW1fbG9jayk7Cj4gLQlvYmogPSBkcm1fZ2VtX29iamVjdF9sb29rdXAoZmlsZSwgaGFuZGxlKTsK
PiAtCWlmIChvYmogPT0gTlVMTCkgewo+IC0JCXJldCA9IC1FTk9FTlQ7Cj4gLQkJZ290byB1bmxv
Y2s7Cj4gLQl9Cj4gLQlnb2JqID0gdG9fdWRsX2JvKG9iaik7Cj4gLQo+IC0JcmV0ID0gdWRsX2dl
bV9nZXRfcGFnZXMoZ29iaik7Cj4gLQlpZiAocmV0KQo+IC0JCWdvdG8gb3V0Owo+IC0JcmV0ID0g
ZHJtX2dlbV9jcmVhdGVfbW1hcF9vZmZzZXQob2JqKTsKPiAtCWlmIChyZXQpCj4gLQkJZ290byBv
dXQ7Cj4gLQo+IC0JKm9mZnNldCA9IGRybV92bWFfbm9kZV9vZmZzZXRfYWRkcigmZ29iai0+YmFz
ZS52bWFfbm9kZSk7Cj4gLQo+IC1vdXQ6Cj4gLQlkcm1fZ2VtX29iamVjdF9wdXRfdW5sb2NrZWQo
JmdvYmotPmJhc2UpOwo+IC11bmxvY2s6Cj4gLQltdXRleF91bmxvY2soJnVkbC0+Z2VtX2xvY2sp
Owo+IC0JcmV0dXJuIHJldDsKPiAtfQo+IC0tIAo+IDIuMjMuMAo+IAoKX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApk
cmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Au
b3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
