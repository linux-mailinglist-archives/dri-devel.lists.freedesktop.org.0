Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 0396797D8C
	for <lists+dri-devel@lfdr.de>; Wed, 21 Aug 2019 16:48:13 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 32F366E94F;
	Wed, 21 Aug 2019 14:48:10 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ot1-x342.google.com (mail-ot1-x342.google.com
 [IPv6:2607:f8b0:4864:20::342])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A9A176E953
 for <dri-devel@lists.freedesktop.org>; Wed, 21 Aug 2019 14:48:08 +0000 (UTC)
Received: by mail-ot1-x342.google.com with SMTP id r20so2294974ota.5
 for <dri-devel@lists.freedesktop.org>; Wed, 21 Aug 2019 07:48:08 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=xGU7bkT9vLd+Korz7H3WdbaTt535XsygaJXVGMw3Hg8=;
 b=iwI4n4LT52GfWpkVKwisKSmO7ZlULlzXFCNzWsA+kpbOaXpkUQ/2gn/IvUe2VW86b1
 anLGA+5pD8gg0Txi1IX7EG215h0ygegJSuMGIFtOM4e9c6uL1vDc3A+xt+83rUnJu5VQ
 yCqZmhuFjqBOr39wiFKEOI87bAaM8ReyD6xWnhQV6VwcX8PE+dYEC7IDJhY+5pL/zJE9
 u9OknVrRQzmRuFT0D25JK/u1P556kh80XNOTAS7emeOn18N4198LUToo8siIOXY1sJ7L
 d7SxgsRSggBe11+WZ+wmtbyxoagW+THCnEu/EMmS1AqEv2WvAZSSF9Zb8SokxaToKJM9
 UmGA==
X-Gm-Message-State: APjAAAVttvPstMVKfADIUYc97tCvImIm1nQ07iSIVoE2+rfU9dua2Ras
 tPh41kv1fbqRHZcXrbsijwQS9qzLjkRKbotclujpLrhqL1g=
X-Google-Smtp-Source: APXvYqxf8WR/wPyHUA18b1yiMISe9RCdbxyIg6EdQJVgH8O27pehTtpi7GpzqYiDc7UTTOBWE+1/pP3Xj6pw3vYkd/E=
X-Received: by 2002:a9d:1ca3:: with SMTP id l35mr25916897ota.106.1566398887676; 
 Wed, 21 Aug 2019 07:48:07 -0700 (PDT)
MIME-Version: 1.0
References: <20190820145336.15649-1-daniel.vetter@ffwll.ch>
 <20190820145336.15649-4-daniel.vetter@ffwll.ch>
 <a9190400-2414-8d83-0f37-61eb0f16504a@shipmail.org>
 <45aaf1ba-e8b8-d92e-7ae2-39ed746ffa3a@shipmail.org>
 <CAKMK7uE0Zp86jbGyWnNBOsGA=tiNAwYP8WqdH-AHEYthWPf7jw@mail.gmail.com>
 <2b1ac3ab-4a21-88cc-e518-90f675528ab4@shipmail.org>
In-Reply-To: <2b1ac3ab-4a21-88cc-e518-90f675528ab4@shipmail.org>
From: Daniel Vetter <daniel.vetter@ffwll.ch>
Date: Wed, 21 Aug 2019 16:47:56 +0200
Message-ID: <CAKMK7uHEAkjneZ5k=XfuJ9hftErt7F_UOQoZaUQkpoDkBiCX+w@mail.gmail.com>
Subject: Re: [PATCH 3/3] drm/ttm: remove ttm_bo_wait_unreserved
To: =?UTF-8?Q?Thomas_Hellstr=C3=B6m_=28VMware=29?= <thomas_os@shipmail.org>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=xGU7bkT9vLd+Korz7H3WdbaTt535XsygaJXVGMw3Hg8=;
 b=DFHPBRChR/lEJUYFxfPTFzwM2kcXdnLFeBCDOOPpORQgACAUwk1P/kmBr2pnuvDvVO
 LhKt3OCx+UazTNp036bBE69UYQTtfxELqLTfoPBKAk5t4mR2bCaah5t86F0300X9zBBI
 0QS8BKrR9zp1lDsXTmWSu1bddSJN5pTJhiJTE=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Thomas Hellstrom <thellstrom@vmware.com>,
 Intel Graphics Development <intel-gfx@lists.freedesktop.org>,
 DRI Development <dri-devel@lists.freedesktop.org>,
 Huang Rui <ray.huang@amd.com>,
 VMware Graphics <linux-graphics-maintainer@vmware.com>,
 Gerd Hoffmann <kraxel@redhat.com>, Daniel Vetter <daniel.vetter@intel.com>,
 Christian Koenig <christian.koenig@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gV2VkLCBBdWcgMjEsIDIwMTkgYXQgNDoyNyBQTSBUaG9tYXMgSGVsbHN0csO2bSAoVk13YXJl
KQo8dGhvbWFzX29zQHNoaXBtYWlsLm9yZz4gd3JvdGU6Cj4gT24gOC8yMS8xOSA0OjA5IFBNLCBE
YW5pZWwgVmV0dGVyIHdyb3RlOgo+ID4gT24gV2VkLCBBdWcgMjEsIDIwMTkgYXQgMjo0NyBQTSBU
aG9tYXMgSGVsbHN0csO2bSAoVk13YXJlKQo+ID4gPHRob21hc19vc0BzaGlwbWFpbC5vcmc+IHdy
b3RlOgo+ID4+IE9uIDgvMjEvMTkgMjo0MCBQTSwgVGhvbWFzIEhlbGxzdHLDtm0gKFZNd2FyZSkg
d3JvdGU6Cj4gPj4+IE9uIDgvMjAvMTkgNDo1MyBQTSwgRGFuaWVsIFZldHRlciB3cm90ZToKPiA+
Pj4+IFdpdGggbm91dmVhdSBmaXhlZCBhbGwgdHRtLXVzaW5nIGRyaXZlcyBoYXZlIHRoZSBjb3Jy
ZWN0IG5lc3Rpbmcgb2YKPiA+Pj4+IG1tYXBfc2VtIHZzIGRtYV9yZXN2LCBhbmQgd2UgY2FuIGp1
c3QgbG9jayB0aGUgYnVmZmVyLgo+ID4+Pj4KPiA+Pj4+IEFzc3VtaW5nIEkgZGlkbid0IHNjcmV3
IHVwIGFueXRoaW5nIHdpdGggbXkgYXVkaXQgb2YgY291cnNlLgo+ID4+Pj4KPiA+Pj4+IFNpZ25l
ZC1vZmYtYnk6IERhbmllbCBWZXR0ZXIgPGRhbmllbC52ZXR0ZXJAaW50ZWwuY29tPgo+ID4+Pj4g
Q2M6IENocmlzdGlhbiBLb2VuaWcgPGNocmlzdGlhbi5rb2VuaWdAYW1kLmNvbT4KPiA+Pj4+IENj
OiBIdWFuZyBSdWkgPHJheS5odWFuZ0BhbWQuY29tPgo+ID4+Pj4gQ2M6IEdlcmQgSG9mZm1hbm4g
PGtyYXhlbEByZWRoYXQuY29tPgo+ID4+Pj4gQ2M6ICJWTXdhcmUgR3JhcGhpY3MiIDxsaW51eC1n
cmFwaGljcy1tYWludGFpbmVyQHZtd2FyZS5jb20+Cj4gPj4+PiBDYzogVGhvbWFzIEhlbGxzdHJv
bSA8dGhlbGxzdHJvbUB2bXdhcmUuY29tPgo+ID4+Pj4gLS0tCj4gPj4+PiAgICBkcml2ZXJzL2dw
dS9kcm0vdHRtL3R0bV9iby5jICAgIHwgMzQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tCj4gPj4+PiAgICBkcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9ib192bS5jIHwgMjYgKy0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLQo+ID4+Pj4gICAgaW5jbHVkZS9kcm0vdHRtL3R0bV9ib19hcGku
aCAgICB8ICAxIC0KPiA+Pj4+ICAgIDMgZmlsZXMgY2hhbmdlZCwgMSBpbnNlcnRpb24oKyksIDYw
IGRlbGV0aW9ucygtKQo+ID4+Pj4KPiA+Pj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
dHRtL3R0bV9iby5jIGIvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm8uYwo+ID4+Pj4gaW5kZXgg
MjBmZjU2ZjI3YWE0Li5hOTUyZGQ2MjRiMDYgMTAwNjQ0Cj4gPj4+PiAtLS0gYS9kcml2ZXJzL2dw
dS9kcm0vdHRtL3R0bV9iby5jCj4gPj4+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9i
by5jCj4gPj4+PiBAQCAtMTk1NCwzNyArMTk1NCwzIEBAIHZvaWQgdHRtX2JvX3N3YXBvdXRfYWxs
KHN0cnVjdCB0dG1fYm9fZGV2aWNlCj4gPj4+PiAqYmRldikKPiA+Pj4+ICAgICAgICAgICAgOwo+
ID4+Pj4gICAgfQo+ID4+Pj4gICAgRVhQT1JUX1NZTUJPTCh0dG1fYm9fc3dhcG91dF9hbGwpOwo+
ID4+Pj4gLQo+ID4+Pj4gLS8qKgo+ID4+Pj4gLSAqIHR0bV9ib193YWl0X3VucmVzZXJ2ZWQgLSBp
bnRlcnJ1cHRpYmxlIHdhaXQgZm9yIGEgYnVmZmVyIG9iamVjdAo+ID4+Pj4gdG8gYmVjb21lCj4g
Pj4+PiAtICogdW5yZXNlcnZlZAo+ID4+Pj4gLSAqCj4gPj4+PiAtICogQGJvOiBQb2ludGVyIHRv
IGJ1ZmZlcgo+ID4+Pj4gLSAqLwo+ID4+Pj4gLWludCB0dG1fYm9fd2FpdF91bnJlc2VydmVkKHN0
cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8pCj4gPj4+PiAtewo+ID4+Pj4gLSAgICBpbnQgcmV0
Owo+ID4+Pj4gLQo+ID4+Pj4gLSAgICAvKgo+ID4+Pj4gLSAgICAgKiBJbiB0aGUgYWJzZW5zZSBv
ZiBhIHdhaXRfdW5sb2NrZWQgQVBJLAo+ID4+Pj4gLSAgICAgKiBVc2UgdGhlIGJvOjp3dV9tdXRl
eCB0byBhdm9pZCB0cmlnZ2VyaW5nIGxpdmVsb2NrcyBkdWUgdG8KPiA+Pj4+IC0gICAgICogY29u
Y3VycmVudCB1c2Ugb2YgdGhpcyBmdW5jdGlvbi4gTm90ZSB0aGF0IHRoaXMgdXNlIG9mCj4gPj4+
PiAtICAgICAqIGJvOjp3dV9tdXRleCBjYW4gZ28gYXdheSBpZiB3ZSBjaGFuZ2UgbG9ja2luZyBv
cmRlciB0bwo+ID4+Pj4gLSAgICAgKiBtbWFwX3NlbSAtPiBibzo6cmVzZXJ2ZS4KPiA+Pj4+IC0g
ICAgICovCj4gPj4+PiAtICAgIHJldCA9IG11dGV4X2xvY2tfaW50ZXJydXB0aWJsZSgmYm8tPnd1
X211dGV4KTsKPiA+Pj4+IC0gICAgaWYgKHVubGlrZWx5KHJldCAhPSAwKSkKPiA+Pj4+IC0gICAg
ICAgIHJldHVybiAtRVJFU1RBUlRTWVM7Cj4gPj4+PiAtICAgIGlmICghZG1hX3Jlc3ZfaXNfbG9j
a2VkKGJvLT5iYXNlLnJlc3YpKQo+ID4+Pj4gLSAgICAgICAgZ290byBvdXRfdW5sb2NrOwo+ID4+
Pj4gLSAgICByZXQgPSBkbWFfcmVzdl9sb2NrX2ludGVycnVwdGlibGUoYm8tPmJhc2UucmVzdiwg
TlVMTCk7Cj4gPj4+PiAtICAgIGlmIChyZXQgPT0gLUVJTlRSKQo+ID4+Pj4gLSAgICAgICAgcmV0
ID0gLUVSRVNUQVJUU1lTOwo+ID4+Pj4gLSAgICBpZiAodW5saWtlbHkocmV0ICE9IDApKQo+ID4+
Pj4gLSAgICAgICAgZ290byBvdXRfdW5sb2NrOwo+ID4+Pj4gLSAgICBkbWFfcmVzdl91bmxvY2so
Ym8tPmJhc2UucmVzdik7Cj4gPj4+PiAtCj4gPj4+PiAtb3V0X3VubG9jazoKPiA+Pj4+IC0gICAg
bXV0ZXhfdW5sb2NrKCZiby0+d3VfbXV0ZXgpOwo+ID4+Pj4gLSAgICByZXR1cm4gcmV0Owo+ID4+
Pj4gLX0KPiA+Pj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9ib192bS5j
Cj4gPj4+PiBiL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2JvX3ZtLmMKPiA+Pj4+IGluZGV4IDc2
ZWVkYjk2MzY5My4uNTA1ZTE3ODdhZWVhIDEwMDY0NAo+ID4+Pj4gLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL3R0bS90dG1fYm9fdm0uYwo+ID4+Pj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1f
Ym9fdm0uYwo+ID4+Pj4gQEAgLTEyNSwzMSArMTI1LDcgQEAgc3RhdGljIHZtX2ZhdWx0X3QgdHRt
X2JvX3ZtX2ZhdWx0KHN0cnVjdAo+ID4+Pj4gdm1fZmF1bHQgKnZtZikKPiA+Pj4+ICAgICAgICAg
ICAgJmJkZXYtPm1hbltiby0+bWVtLm1lbV90eXBlXTsKPiA+Pj4+ICAgICAgICBzdHJ1Y3Qgdm1f
YXJlYV9zdHJ1Y3QgY3ZtYTsKPiA+Pj4+ICAgIC0gICAgLyoKPiA+Pj4+IC0gICAgICogV29yayBh
cm91bmQgbG9ja2luZyBvcmRlciByZXZlcnNhbCBpbiBmYXVsdCAvIG5vcGZuCj4gPj4+PiAtICAg
ICAqIGJldHdlZW4gbW1hcF9zZW0gYW5kIGJvX3Jlc2VydmU6IFBlcmZvcm0gYSB0cnlsb2NrIG9w
ZXJhdGlvbgo+ID4+Pj4gLSAgICAgKiBmb3IgcmVzZXJ2ZSwgYW5kIGlmIGl0IGZhaWxzLCByZXRy
eSB0aGUgZmF1bHQgYWZ0ZXIgd2FpdGluZwo+ID4+Pj4gLSAgICAgKiBmb3IgdGhlIGJ1ZmZlciB0
byBiZWNvbWUgdW5yZXNlcnZlZC4KPiA+Pj4+IC0gICAgICovCj4gPj4+PiAtICAgIGlmICh1bmxp
a2VseSghZG1hX3Jlc3ZfdHJ5bG9jayhiby0+YmFzZS5yZXN2KSkpIHsKPiA+Pj4+IC0gICAgICAg
IGlmICh2bWYtPmZsYWdzICYgRkFVTFRfRkxBR19BTExPV19SRVRSWSkgewo+ID4+Pj4gLSAgICAg
ICAgICAgIGlmICghKHZtZi0+ZmxhZ3MgJiBGQVVMVF9GTEFHX1JFVFJZX05PV0FJVCkpIHsKPiA+
Pj4+IC0gICAgICAgICAgICAgICAgdHRtX2JvX2dldChibyk7Cj4gPj4+PiAtIHVwX3JlYWQoJnZt
Zi0+dm1hLT52bV9tbS0+bW1hcF9zZW0pOwo+ID4+Pj4gLSAgICAgICAgICAgICAgICAodm9pZCkg
dHRtX2JvX3dhaXRfdW5yZXNlcnZlZChibyk7Cj4gPj4+PiAtICAgICAgICAgICAgICAgIHR0bV9i
b19wdXQoYm8pOwo+ID4+Pj4gLSAgICAgICAgICAgIH0KPiA+Pj4+IC0KPiA+Pj4+IC0gICAgICAg
ICAgICByZXR1cm4gVk1fRkFVTFRfUkVUUlk7Cj4gPj4+PiAtICAgICAgICB9Cj4gPj4+PiAtCj4g
Pj4+PiAtICAgICAgICAvKgo+ID4+Pj4gLSAgICAgICAgICogSWYgd2UnZCB3YW50IHRvIGNoYW5n
ZSBsb2NraW5nIG9yZGVyIHRvCj4gPj4+PiAtICAgICAgICAgKiBtbWFwX3NlbSAtPiBibzo6cmVz
ZXJ2ZSwgd2UnZCB1c2UgYSBibG9ja2luZyByZXNlcnZlIGhlcmUKPiA+Pj4+IC0gICAgICAgICAq
IGluc3RlYWQgb2YgcmV0cnlpbmcgdGhlIGZhdWx0Li4uCj4gPj4+PiAtICAgICAgICAgKi8KPiA+
Pj4gSSB0aGluayB5b3Ugc2hvdWxkIGp1c3RpZnkgd2h5IHRoZSBhYm92ZSBjb2RlIGlzIHJlbW92
ZWQsIHNpbmNlIHRoZQo+ID4+PiBjb21tZW50cyBhY3R1YWxseSBvdXRsaW5lcyB3aGF0IHRvIGRv
IGlmIHdlIGNoYW5nZSBsb2NraW5nIG9yZGVyLgo+ID4+Pgo+ID4+PiBUaGUgY29kZSB0aGF0J3Mg
cmVtb3ZlZCBhYm92ZSBpcyBub3QgZm9yIGFkanVzdGluZyBsb2NraW5nIG9yZGVycyBidXQKPiA+
Pj4gdG8gZGVjcmVhc2UgdGhlIG1tIGxhdGVuY3kgYnkgcmVsZWFzaW5nIHRoZSBtbWFwX3NlbSB3
aGlsZSB3YWl0aW5nIGZvcgo+ID4+PiBibyByZXNlcnZlIHdoaWNoIGluIHR1cm4gbWlnaHQgYmUg
d2FpdGluZyBmb3IgR1BVLiBBdCBhIG1pbmltdW0gd2UKPiA+Pj4gc2hvdWxkIGhhdmUgYSBzZXBh
cmF0ZSBwYXRjaCB3aXRoIGp1c3RpZmljYXRpb24uCj4gPj4+Cj4gPj4+IE5vdGUgdGhhdCB0aGUg
Y2FsbGVyIGhlcmUgZW5zdXJlcyBsb2NraW5nIHByb2dyZXNzIGJ5IGFkanVzdGluZyB0aGUKPiA+
Pj4gUkVUUlkgZmxhZ3MgYWZ0ZXIgYSByZXRyeS4KPiA+IFRoYXQgd291bGQgYmUgcGF0Y2hlcyAx
JjIgaW4gdGhpcyBzZXJpZXMuCj4gPgo+IEhtbT8gVGhvc2Ugc2VlbSB0byB0b3VjaCBvbmx5IGRt
YS1idWYgYW5kIG5vdXZlYXUgbm90IHR0bT8gIEkgbWVhbiB0aGlzCj4gcGF0Y2ggc2hvdWxkIGxv
b2sgYWxvbmcgdGhlIGxpbmVzIG9mIChiYXNlZCBvbiBhbiBvbGRlciB0cmVlKSB0bwo+IGltcGxl
bWVudCB0aGUgbmV3IGxvY2tpbmctb3JkZXIgbW1hcF9zZW0tPnJlc2VydmF0aW9uLAoKT25seSBu
b3V2ZWF1IHdhcyBicmVha2luZyB3YXMgZG9pbmcgY29weV8qX3VzZXIgb3IgZ2V0X3VzZXJfcGFn
ZXMKd2hpbGUgaG9sZGluZyBkbWFfcmVzdiBsb2Nrcywgbm8gb25lIGVsc2UuIFNvIG5vdGhpbmcg
ZWxzZSBuZWVkZWQgdG8KYmUgY2hhbmdlZC4gQnV0IHBhdGNoIDEgY29udGFpbnMgdGhlIGZ1bGwg
YXVkaXQuIEkgbWlnaHQgaGF2ZSBtaXNzZWQKc29tZXRoaW5nLgoKPiBidXQgdG8ga2VlcCB0aGUg
bW0gbGF0ZW5jeSBvcHRpbWl6YXRpb24gdXNpbmcgdGhlIFJFVFJZIGZ1bmN0aW9uYWxpdHk6CgpT
dGlsbCBubyBpZGVhIHdoeSB0aGlzIGlzIG5lZWRlZD8gQWxsIHRoZSBjb21tZW50cyBoZXJlIGFu
ZCB0aGUgY29kZQphbmQgaGlzdG9yeSBzZWVtIGxpa2UgdGhleSd2ZSBiZWVuIGFib3V0IHRoZSBt
bWFwX3NlbSB2cyBkbWFfcmVzdgppbnZlcnNpb24gYmV0d2VlbiBkcml2ZXIgaW9jdGxzIGFuZCBm
YXVsdCBoYW5kbGluZyBoZXJlLiBPbmNlIHRoYXQncwpvZmZpY2lhbGx5IGZpeGVkIHRoZXJlJ3Mg
bm8gcmVhc29uIHRvIHBsYXkgZ2FtZXMgaGVyZSBhbmQgcmV0cnkgbG9vcHMKLSBwcmV2aW91c2x5
IHRoYXQgd2FzIG5lY2Vzc2FyeSBiZWNhdXNlIHRoZSBvbGQgdHRtX2JvX3ZtX2ZhdWx0IGhhZCBh
CmJ1c3kgc3BpbiBhbmQgdGhhdCdzIGRlZmluaXRlbHkgbm90IG5pY2UuIElmIGl0J3MgbmVlZGVk
IEkgdGhpbmsgaXQKc2hvdWxkIGJlIGEgc2Vjb25kIHBhdGNoIG9uIHRvcCwgdG8ga2VlcCB0aGlz
IGFsbCBjbGVhci4gSSBoYWQgdG8KYXVkaXQgYW4gZW5vcm1vdXMgYW1vdW50IG9mIGNvZGUsIEkn
ZCBsaWtlIHRvIG1ha2Ugc3VyZSBJIGRpZG4ndCBtaXNzCmFueXRoaW5nIGJlZm9yZSB3ZSBzdGFy
dCB0byBtYWtlIHRoaXMgc3VwZXIgZmFuY3kgYWdhaW4uIEZ1cnRoZXIKcGF0Y2hlcyBvbiB0b3Ag
aXMgb2J2aW91c2x5IGFsbCBmaW5lIHdpdGggbWUuCi1EYW5pZWwKCj4gVGhhbmtzLAo+IFRob21h
cwo+Cj4KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm9fdm0uYyBiL2Ry
aXZlcnMvZ3B1L2RybS90dG0vdHRtX2JvX3ZtLmMKPiBpbmRleCA4NWY1YmNiZTBjNzYuLjY4NDgy
YzY3YjlmNyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9ib192bS5jCj4g
KysrIGIvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm9fdm0uYwo+IEBAIC0xMjUsMzAgKzEyNSwy
MCBAQCBzdGF0aWMgdm1fZmF1bHRfdCB0dG1fYm9fdm1fZmF1bHQoc3RydWN0IHZtX2ZhdWx0ICp2
bWYpCj4gICAgICAgICAgICAgICAgICAmYmRldi0+bWFuW2JvLT5tZW0ubWVtX3R5cGVdOwo+ICAg
ICAgICAgIHN0cnVjdCB2bV9hcmVhX3N0cnVjdCBjdm1hOwo+Cj4gLSAgICAgICAvKgo+IC0gICAg
ICAgICogV29yayBhcm91bmQgbG9ja2luZyBvcmRlciByZXZlcnNhbCBpbiBmYXVsdCAvIG5vcGZu
Cj4gLSAgICAgICAgKiBiZXR3ZWVuIG1tYXBfc2VtIGFuZCBib19yZXNlcnZlOiBQZXJmb3JtIGEg
dHJ5bG9jayBvcGVyYXRpb24KPiAtICAgICAgICAqIGZvciByZXNlcnZlLCBhbmQgaWYgaXQgZmFp
bHMsIHJldHJ5IHRoZSBmYXVsdCBhZnRlciB3YWl0aW5nCj4gLSAgICAgICAgKiBmb3IgdGhlIGJ1
ZmZlciB0byBiZWNvbWUgdW5yZXNlcnZlZC4KPiAtICAgICAgICAqLwo+ICsgICAgICAgLyogQXZv
aWQgYmxvY2tpbmcgb24gcmVzZXJ2YXRpb24gd2l0aCBtbWFwX3NlbSBoZWxkLCBpZiBwb3NzaWJs
ZSAqLwo+ICAgICAgICAgIGlmICh1bmxpa2VseSghcmVzZXJ2YXRpb25fb2JqZWN0X3RyeWxvY2so
Ym8tPmJhc2UucmVzdikpKSB7Cj4gLSAgICAgICAgICAgICAgIGlmICh2bWYtPmZsYWdzICYgRkFV
TFRfRkxBR19BTExPV19SRVRSWSkgewo+IC0gICAgICAgICAgICAgICAgICAgICAgIGlmICghKHZt
Zi0+ZmxhZ3MgJiBGQVVMVF9GTEFHX1JFVFJZX05PV0FJVCkpIHsKPiAtICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHR0bV9ib19nZXQoYm8pOwo+IC0gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgdXBfcmVhZCgmdm1mLT52bWEtPnZtX21tLT5tbWFwX3NlbSk7Cj4gLSAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAodm9pZCkgdHRtX2JvX3dhaXRfdW5yZXNlcnZlZChibyk7
Cj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0dG1fYm9fcHV0KGJvKTsKPiAtICAg
ICAgICAgICAgICAgICAgICAgICB9Cj4gKyAgICAgICAgICAgICAgIGlmICgodm1mLT5mbGFncyAm
IEZBVUxUX0ZMQUdfQUxMT1dfUkVUUlkpICYmCj4gKyAgICAgICAgICAgICAgICAgICAhKHZtZi0+
ZmxhZ3MgJiBGQVVMVF9GTEFHX1JFVFJZX05PV0FJVCkpIHsKPiArICAgICAgICAgICAgICAgICAg
ICAgICB0dG1fYm9fZ2V0KGJvKTsKPiArICAgICAgICAgICAgICAgICAgICAgICB1cF9yZWFkKCZ2
bWYtPnZtYS0+dm1fbW0tPm1tYXBfc2VtKTsKPiArICAgICAgICAgICAgICAgICAgICAgICAodm9p
ZCkgdHRtX2JvX3dhaXRfdW5yZXNlcnZlZChibyk7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAg
dHRtX2JvX3B1dChibyk7Cj4KPiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFZNX0ZB
VUxUX1JFVFJZOwo+ICAgICAgICAgICAgICAgICAgfQo+Cj4gLSAgICAgICAgICAgICAgIC8qCj4g
LSAgICAgICAgICAgICAgICAqIElmIHdlJ2Qgd2FudCB0byBjaGFuZ2UgbG9ja2luZyBvcmRlciB0
bwo+IC0gICAgICAgICAgICAgICAgKiBtbWFwX3NlbSAtPiBibzo6cmVzZXJ2ZSwgd2UnZCB1c2Ug
YSBibG9ja2luZyByZXNlcnZlIGhlcmUKPiAtICAgICAgICAgICAgICAgICogaW5zdGVhZCBvZiBy
ZXRyeWluZyB0aGUgZmF1bHQuLi4KPiAtICAgICAgICAgICAgICAgICovCj4gLSAgICAgICAgICAg
ICAgIHJldHVybiBWTV9GQVVMVF9OT1BBR0U7Cj4gKyAgICAgICAgICAgICAgIGlmIChyZXNlcnZh
dGlvbl9vYmplY3RfbG9ja19pbnRlcnJ1cHRpYmxlKGJvLT5iYXNlLnJlc3YsIE5VTEwpKQo+ICsg
ICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBWTV9GQVVMVF9OT1BBR0U7Cj4gICAgICAgICAg
fQo+Cj4KCgotLSAKRGFuaWVsIFZldHRlcgpTb2Z0d2FyZSBFbmdpbmVlciwgSW50ZWwgQ29ycG9y
YXRpb24KKzQxICgwKSA3OSAzNjUgNTcgNDggLSBodHRwOi8vYmxvZy5mZndsbC5jaApfX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGlu
ZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVl
ZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
