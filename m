Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 3416A15340F
	for <lists+dri-devel@lfdr.de>; Wed,  5 Feb 2020 16:40:28 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8D5AD89C83;
	Wed,  5 Feb 2020 15:40:14 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-yw1-xc44.google.com (mail-yw1-xc44.google.com
 [IPv6:2607:f8b0:4864:20::c44])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 507C589C27;
 Wed,  5 Feb 2020 15:40:13 +0000 (UTC)
Received: by mail-yw1-xc44.google.com with SMTP id 192so2795588ywy.0;
 Wed, 05 Feb 2020 07:40:13 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=VRZfR8evcWkAoQkq4CyMdOWNjI14snDPp/Kq1WJjhzU=;
 b=oOMUp2ecD7SH2M5Xf2bD7mhjx+9VCXeh/fhpStLfunYc1Y5CyVa6hEEx9kEjRfmk4o
 /JfStv70wR1dE9josL06wAFv0sS8OGd8z+Duokq9CTuNhwqJgfVrVYem9HUifs9uzbeI
 GZwiQCNNKI28/UjloeBSG9hL2cZvIHGmI0MVFnJZlnDJ2r56ksHpeblAYFvm8pvOSYp0
 8DXWAGMMHJvPXInT2Sm/bphseoCI3/IMplvuuh4gMd84DKiDs6+2CpyzKyS8xXou8vqk
 W/N3ZbviJI0IHiR9xXxseuQjYHDLMfak/7omJ1Nt7Ekdejm09fKQThSF3/rqfDhLHOXW
 DxOw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=VRZfR8evcWkAoQkq4CyMdOWNjI14snDPp/Kq1WJjhzU=;
 b=as4kGNLtm29VDrEV3Ve+cNpOyJKnafzLNFAU8l/Y7NziCtFmYzxncLow9M5oa4Mm9o
 SwPlSiiwRGoVaZ6uU8rqo1K9TRwcQ7eOid2eWc1127bCRf1zhaybNmjfU4kcjKDeTIHo
 5F2GXevRYPSYkhfGjuaDZA42A9k72lV4JxTMskM2Ah3GUhZHj6LmIgYgYtTn3rMdNhh1
 8/ss5Zpxiozwe8fZghgLm4rGEBZRa84BgjuYcJnvDEUMz1eihMtMxehcHGMzyCEtC0el
 qlvUibFkfWdf+d8XxKzzxIs4OyYeYLaBC2MkXuVdjnuHUhlWAlgfgWetNWctj5HmDL8q
 1cNw==
X-Gm-Message-State: APjAAAV2ikj6tMmWe0AYOgMGS917QJJK+zzzk0tn2+0RHjbrtea6d5uk
 VxckMUXEAoz3e1UcQ1ET1E34dWgu
X-Google-Smtp-Source: APXvYqxRgZJdVk9p5eiCZi2qPLYx+ZK+hpZvQH5xCJSTCSpeqz4Oi8p3Jrl5ogUJsHL2GsuMp/g4ug==
X-Received: by 2002:a81:5ed6:: with SMTP id s205mr10736570ywb.91.1580917210836; 
 Wed, 05 Feb 2020 07:40:10 -0800 (PST)
Received: from tr4.amd.com (atlvpn.amd.com. [165.204.84.11])
 by smtp.gmail.com with ESMTPSA id q185sm61256ywh.61.2020.02.05.07.40.09
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Wed, 05 Feb 2020 07:40:10 -0800 (PST)
From: Alex Deucher <alexdeucher@gmail.com>
X-Google-Original-From: Alex Deucher <alexander.deucher@amd.com>
To: amd-gfx@lists.freedesktop.org,
	dri-devel@lists.freedesktop.org
Subject: [PATCH 02/15] drm/amdgpu/ttm: move debugfs init into core amdgpu
 debugfs
Date: Wed,  5 Feb 2020 10:39:47 -0500
Message-Id: <20200205154000.536145-3-alexander.deucher@amd.com>
X-Mailer: git-send-email 2.24.1
In-Reply-To: <20200205154000.536145-1-alexander.deucher@amd.com>
References: <20200205154000.536145-1-alexander.deucher@amd.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Alex Deucher <alexander.deucher@amd.com>,
 =?UTF-8?q?Christian=20K=C3=B6nig?= <christian.koenig@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SW4gb3JkZXIgdG8gcmVtb3ZlIHRoZSBsb2FkIGFuZCB1bmxvYWQgZHJtIGNhbGxiYWNrcywKd2Ug
bmVlZCB0byByZW9yZGVyIHRoZSBpbml0IHNlcXVlbmNlIHRvIG1vdmUgYWxsIHRoZSBkcm0KZGVi
dWdmcyBmaWxlIGhhbmRsaW5nLiAgRG8gdGhpcyBmb3IgdHRtLgoKQWNrZWQtYnk6IENocmlzdGlh
biBLw7ZuaWcgPGNocmlzdGlhbi5rb2VuaWdAYW1kLmNvbT4KU2lnbmVkLW9mZi1ieTogQWxleCBE
ZXVjaGVyIDxhbGV4YW5kZXIuZGV1Y2hlckBhbWQuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2FtZGdwdV9kZWJ1Z2ZzLmMgfCAxMCArKysrKysrKysrCiBkcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9hbWRncHVfdHRtLmMgICAgIHwgMTQgKystLS0tLS0tLS0tLS0KIGRyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90dG0uaCAgICAgfCAgMyArKysKIDMgZmlsZXMg
Y2hhbmdlZCwgMTUgaW5zZXJ0aW9ucygrKSwgMTIgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RlYnVnZnMuYyBiL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kZWJ1Z2ZzLmMKaW5kZXggNThiNWUxYjRmODE0Li5mNDk2
MDRjMGQwYjggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9k
ZWJ1Z2ZzLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RlYnVnZnMu
YwpAQCAtMTIxNiw2ICsxMjE2LDggQEAgREVGSU5FX1NJTVBMRV9BVFRSSUJVVEUoZm9wc19pYl9w
cmVlbXB0LCBOVUxMLAogCiBpbnQgYW1kZ3B1X2RlYnVnZnNfaW5pdChzdHJ1Y3QgYW1kZ3B1X2Rl
dmljZSAqYWRldikKIHsKKwlpbnQgcjsKKwogCWFkZXYtPmRlYnVnZnNfcHJlZW1wdCA9CiAJCWRl
YnVnZnNfY3JlYXRlX2ZpbGUoImFtZGdwdV9wcmVlbXB0X2liIiwgMDYwMCwKIAkJCQkgICAgYWRl
di0+ZGRldi0+cHJpbWFyeS0+ZGVidWdmc19yb290LCBhZGV2LApAQCAtMTIyNSwxMiArMTIyNywy
MCBAQCBpbnQgYW1kZ3B1X2RlYnVnZnNfaW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikK
IAkJcmV0dXJuIC1FSU87CiAJfQogCisJLyogUmVnaXN0ZXIgZGVidWdmcyBlbnRyaWVzIGZvciBh
bWRncHVfdHRtICovCisJciA9IGFtZGdwdV90dG1fZGVidWdmc19pbml0KGFkZXYpOworCWlmIChy
KSB7CisJCURSTV9FUlJPUigiRmFpbGVkIHRvIGluaXQgZGVidWdmc1xuIik7CisJCXJldHVybiBy
OworCX0KKwogCXJldHVybiBhbWRncHVfZGVidWdmc19hZGRfZmlsZXMoYWRldiwgYW1kZ3B1X2Rl
YnVnZnNfbGlzdCwKIAkJCQkJQVJSQVlfU0laRShhbWRncHVfZGVidWdmc19saXN0KSk7CiB9CiAK
IHZvaWQgYW1kZ3B1X2RlYnVnZnNfZmluaShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKIHsK
KwlhbWRncHVfdHRtX2RlYnVnZnNfZmluaShhZGV2KTsKIAlkZWJ1Z2ZzX3JlbW92ZShhZGV2LT5k
ZWJ1Z2ZzX3ByZWVtcHQpOwogfQogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfdHRtLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdHRt
LmMKaW5kZXggNTZmNzQzNjk4ODY4Li4wYzM1OTc4NjI2ZDIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90dG0uYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9hbWRncHVfdHRtLmMKQEAgLTY2LDkgKzY2LDYgQEAgc3RhdGljIGludCBhbWRncHVf
bWFwX2J1ZmZlcihzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAogCQkJICAgICBzdHJ1Y3Qg
YW1kZ3B1X3JpbmcgKnJpbmcsCiAJCQkgICAgIHVpbnQ2NF90ICphZGRyKTsKIAotc3RhdGljIGlu
dCBhbWRncHVfdHRtX2RlYnVnZnNfaW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldik7Ci1z
dGF0aWMgdm9pZCBhbWRncHVfdHRtX2RlYnVnZnNfZmluaShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
YWRldik7Ci0KIHN0YXRpYyBpbnQgYW1kZ3B1X2ludmFsaWRhdGVfY2FjaGVzKHN0cnVjdCB0dG1f
Ym9fZGV2aWNlICpiZGV2LCB1aW50MzJfdCBmbGFncykKIHsKIAlyZXR1cm4gMDsKQEAgLTE5MTEs
MTIgKzE5MDgsNiBAQCBpbnQgYW1kZ3B1X3R0bV9pbml0KHN0cnVjdCBhbWRncHVfZGV2aWNlICph
ZGV2KQogCQlyZXR1cm4gcjsKIAl9CiAKLQkvKiBSZWdpc3RlciBkZWJ1Z2ZzIGVudHJpZXMgZm9y
IGFtZGdwdV90dG0gKi8KLQlyID0gYW1kZ3B1X3R0bV9kZWJ1Z2ZzX2luaXQoYWRldik7Ci0JaWYg
KHIpIHsKLQkJRFJNX0VSUk9SKCJGYWlsZWQgdG8gaW5pdCBkZWJ1Z2ZzXG4iKTsKLQkJcmV0dXJu
IHI7Ci0JfQogCXJldHVybiAwOwogfQogCkBAIC0xOTM4LDcgKzE5MjksNiBAQCB2b2lkIGFtZGdw
dV90dG1fZmluaShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKIAlpZiAoIWFkZXYtPm1tYW4u
aW5pdGlhbGl6ZWQpCiAJCXJldHVybjsKIAotCWFtZGdwdV90dG1fZGVidWdmc19maW5pKGFkZXYp
OwogCWFtZGdwdV90dG1fdHJhaW5pbmdfcmVzZXJ2ZV92cmFtX2ZpbmkoYWRldik7CiAJLyogcmV0
dXJuIHRoZSBJUCBEaXNjb3ZlcnkgVE1SIG1lbW9yeSBiYWNrIHRvIFZSQU0gKi8KIAlhbWRncHVf
Ym9fZnJlZV9rZXJuZWwoJmFkZXYtPmRpc2NvdmVyeV9tZW1vcnksIE5VTEwsIE5VTEwpOwpAQCAt
MjU0NSw3ICsyNTM1LDcgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCB7CiAKICNlbmRpZgogCi1zdGF0
aWMgaW50IGFtZGdwdV90dG1fZGVidWdmc19pbml0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2
KQoraW50IGFtZGdwdV90dG1fZGVidWdmc19pbml0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2
KQogewogI2lmIGRlZmluZWQoQ09ORklHX0RFQlVHX0ZTKQogCXVuc2lnbmVkIGNvdW50OwpAQCAt
MjU4MSw3ICsyNTcxLDcgQEAgc3RhdGljIGludCBhbWRncHVfdHRtX2RlYnVnZnNfaW5pdChzdHJ1
Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKICNlbmRpZgogfQogCi1zdGF0aWMgdm9pZCBhbWRncHVf
dHRtX2RlYnVnZnNfZmluaShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKK3ZvaWQgYW1kZ3B1
X3R0bV9kZWJ1Z2ZzX2Zpbmkoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCiB7CiAjaWYgZGVm
aW5lZChDT05GSUdfREVCVUdfRlMpCiAJdW5zaWduZWQgaTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90dG0uaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L2FtZGdwdV90dG0uaAppbmRleCBmMWViZDQyNDUxMGMuLjJjNGFkNWI1ODlkMCAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3R0bS5oCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90dG0uaApAQCAtMTMzLDQgKzEzMyw3IEBAIHVp
bnQ2NF90IGFtZGdwdV90dG1fdHRfcGRlX2ZsYWdzKHN0cnVjdCB0dG1fdHQgKnR0bSwgc3RydWN0
IHR0bV9tZW1fcmVnICptZW0pOwogdWludDY0X3QgYW1kZ3B1X3R0bV90dF9wdGVfZmxhZ3Moc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSwKIAkJCQkgc3RydWN0
IHR0bV9tZW1fcmVnICptZW0pOwogCitpbnQgYW1kZ3B1X3R0bV9kZWJ1Z2ZzX2luaXQoc3RydWN0
IGFtZGdwdV9kZXZpY2UgKmFkZXYpOwordm9pZCBhbWRncHVfdHRtX2RlYnVnZnNfZmluaShzdHJ1
Y3QgYW1kZ3B1X2RldmljZSAqYWRldik7CisKICNlbmRpZgotLSAKMi4yNC4xCgpfX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBs
aXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVz
a3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWwK
