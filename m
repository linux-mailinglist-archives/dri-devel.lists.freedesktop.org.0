Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id AF87D9C6C7
	for <lists+dri-devel@lfdr.de>; Mon, 26 Aug 2019 02:20:21 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3A6C0899C4;
	Mon, 26 Aug 2019 00:19:56 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from lb3-smtp-cloud9.xs4all.net (lb3-smtp-cloud9.xs4all.net
 [194.109.24.30])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 5F6306E0FE
 for <dri-devel@lists.freedesktop.org>; Sun, 25 Aug 2019 13:12:56 +0000 (UTC)
Received: from [IPv6:2001:983:e9a7:1:7020:eb81:fead:d93b]
 ([IPv6:2001:983:e9a7:1:7020:eb81:fead:d93b])
 by smtp-cloud9.xs4all.net with ESMTPA
 id 1sK9ipzoFzaKO1sKBiCe2A; Sun, 25 Aug 2019 15:12:54 +0200
Subject: Re: [PATCH v7 5/9] drm: tda998x: use cec_notifier_conn_(un)register
To: Dariusz Marcinkiewicz <darekm@google.com>,
 dri-devel@lists.freedesktop.org, linux-media@vger.kernel.org
References: <20190814104520.6001-1-darekm@google.com>
 <20190814104520.6001-6-darekm@google.com>
From: Hans Verkuil <hverkuil-cisco@xs4all.nl>
Message-ID: <1e7fdf30-3723-857a-68fd-139f396856b7@xs4all.nl>
Date: Sun, 25 Aug 2019 15:12:49 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.6.1
MIME-Version: 1.0
In-Reply-To: <20190814104520.6001-6-darekm@google.com>
Content-Language: en-US
X-CMAE-Envelope: MS4wfD0fOt9mfrzmV3IgV/uuKEoGzKJP/P6EzDr0kMFNQssoX8s5YNV5+YgUiIvVh6d3LVB8y6IDWaT0wbrf3ehxU1TCvmh0aFbp8L2IqcHC85Us3obOfjj8
 TPWTUsShSvSpqV5RdMUC7o9fMEDFE516SgNflSAMdldChyJ8k5CKL9RbA0mX55Sc7p0cACKjsT7KzH46533qjuwPjm1pCoTIR9k68fI2joJinaFHxIsB3E9m
 NAnij23C3GM+vFOkTEvorGWuykO9t8Ux9iP9tVkpThHhUNI7uBbNtVOZXRZaT/hz+SqrKNoQTYeECMl7IWRuDvM9yWxEUNOF3qEVSwaap4rfD9q2zhNvWV3i
 3xTHJhf11QsG//0484cEbv9TRhgWOzfYxGH54TSclwlb4HaGWHrzm7m2MG/uax4xKzK3F3RuWrO6jZSc7qrjYD+ab6sTFdXpFNyidhg1nUgbb97QcU+dMOAm
 hpKwQkNQlMNXrT68
X-Mailman-Approved-At: Mon, 26 Aug 2019 00:18:57 +0000
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: David Airlie <airlied@linux.ie>, Russell King <linux@armlinux.org.uk>,
 linux-kernel@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gOC8xNC8xOSAxMjo0NSBQTSwgRGFyaXVzeiBNYXJjaW5raWV3aWN6IHdyb3RlOgo+IFVzZSB0
aGUgbmV3IGNlY19ub3RpZmllcl9jb25uXyh1bilyZWdpc3RlcigpIGZ1bmN0aW9ucyB0bwo+ICh1
bilyZWdpc3RlciB0aGUgbm90aWZpZXIgZm9yIHRoZSBIRE1JIGNvbm5lY3RvciwgYW5kIGZpbGwK
PiBpbiB0aGUgY2VjX2Nvbm5lY3Rvcl9pbmZvLgo+IAo+IENoYW5nZXMgc2luY2UgdjY6Cj4gICAg
ICAgICAtIG1vdmUgY2VjX25vdGlmaWVyX2Nvbm5fdW5yZWdpc3RlciB0byB0ZGE5OTh4X2JyaWRn
ZV9kZXRhY2gsCj4gCS0gYWRkIGEgbXV0ZXggcHJvdGVjdGluZyBhY2Nlc3NlcyB0byBhIENFQyBu
b3RpZmllci4KPiBDaGFuZ2VzIHNpbmNlIHYyOgo+IAktIGNlY19ub3RpZmllcl9waHlzX2FkZHJf
aW52YWxpZGF0ZSB3aGVyZSBhcHByb3ByaWF0ZSwKPiAJLSBkb24ndCBjaGVjayBmb3IgTlVMTCBu
b3RpZmllciBiZWZvcmUgY2FsbGluZwo+IAljZWNfbm90aWZpZXJfY29ubl91bnJlZ2lzdGVyLgo+
IENoYW5nZXMgc2luY2UgdjE6Cj4gCUFkZCBtZW1vcnkgYmFycmllciB0byBtYWtlIHN1cmUgdGhh
dCB0aGUgbm90aWZpZXIKPiAJYmVjb21lcyB2aXNpYmxlIHRvIHRoZSBpcnEgdGhyZWFkIG9uY2Ug
aXQgaXMKPiAJZnVsbHkgY29uc3RydWN0ZWQuCj4gCj4gU2lnbmVkLW9mZi1ieTogRGFyaXVzeiBN
YXJjaW5raWV3aWN6IDxkYXJla21AZ29vZ2xlLmNvbT4KPiAtLS0KPiAgZHJpdmVycy9ncHUvZHJt
L2kyYy90ZGE5OTh4X2Rydi5jIHwgMzYgKysrKysrKysrKysrKysrKysrKysrLS0tLS0tLS0tLQo+
ICAxIGZpbGUgY2hhbmdlZCwgMjUgaW5zZXJ0aW9ucygrKSwgMTEgZGVsZXRpb25zKC0pCj4gCj4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pMmMvdGRhOTk4eF9kcnYuYyBiL2RyaXZlcnMv
Z3B1L2RybS9pMmMvdGRhOTk4eF9kcnYuYwo+IGluZGV4IDYxZTA0MjkxOGE3ZmMuLjY0MzQ4MDQx
NTQ3M2YgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2kyYy90ZGE5OTh4X2Rydi5jCj4g
KysrIGIvZHJpdmVycy9ncHUvZHJtL2kyYy90ZGE5OTh4X2Rydi5jCj4gQEAgLTgyLDYgKzgyLDgg
QEAgc3RydWN0IHRkYTk5OHhfcHJpdiB7Cj4gIAl1OCBhdWRpb19wb3J0X2VuYWJsZVtBVURJT19S
T1VURV9OVU1dOwo+ICAJc3RydWN0IHRkYTk5NTBfZ2x1ZSBjZWNfZ2x1ZTsKPiAgCXN0cnVjdCBn
cGlvX2Rlc2MgKmNhbGliOwo+ICsKPiArCXN0cnVjdCBtdXRleCBjZWNfbm90aWZpeV9tdXRleDsK
PiAgCXN0cnVjdCBjZWNfbm90aWZpZXIgKmNlY19ub3RpZnk7Cj4gIH07Cj4gIAo+IEBAIC04MDUs
OCArODA3LDExIEBAIHN0YXRpYyBpcnFyZXR1cm5fdCB0ZGE5OTh4X2lycV90aHJlYWQoaW50IGly
cSwgdm9pZCAqZGF0YSkKPiAgCQkJCXRkYTk5OHhfZWRpZF9kZWxheV9zdGFydChwcml2KTsKPiAg
CQkJfSBlbHNlIHsKPiAgCQkJCXNjaGVkdWxlX3dvcmsoJnByaXYtPmRldGVjdF93b3JrKTsKPiAt
CQkJCWNlY19ub3RpZmllcl9zZXRfcGh5c19hZGRyKHByaXYtPmNlY19ub3RpZnksCj4gLQkJCQkJ
CSAgIENFQ19QSFlTX0FERFJfSU5WQUxJRCk7Cj4gKwo+ICsJCQkJbXV0ZXhfbG9jaygmcHJpdi0+
Y2VjX25vdGlmaXlfbXV0ZXgpOwo+ICsJCQkJY2VjX25vdGlmaWVyX3BoeXNfYWRkcl9pbnZhbGlk
YXRlKAo+ICsJCQkJCQlwcml2LT5jZWNfbm90aWZ5KTsKPiArCQkJCW11dGV4X3VubG9jaygmcHJp
di0+Y2VjX25vdGlmaXlfbXV0ZXgpOwo+ICAJCQl9Cj4gIAo+ICAJCQloYW5kbGVkID0gdHJ1ZTsK
PiBAQCAtMTMzMSw2ICsxMzM2LDggQEAgc3RhdGljIGludCB0ZGE5OTh4X2Nvbm5lY3Rvcl9pbml0
KHN0cnVjdCB0ZGE5OTh4X3ByaXYgKnByaXYsCj4gIAkJCQkgIHN0cnVjdCBkcm1fZGV2aWNlICpk
cm0pCj4gIHsKPiAgCXN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IgPSAmcHJpdi0+Y29u
bmVjdG9yOwo+ICsJc3RydWN0IGNlY19jb25uZWN0b3JfaW5mbyBjb25uX2luZm87Cj4gKwlzdHJ1
Y3QgY2VjX25vdGlmaWVyICpub3RpZmllcjsKPiAgCWludCByZXQ7Cj4gIAo+ICAJY29ubmVjdG9y
LT5pbnRlcmxhY2VfYWxsb3dlZCA9IDE7Cj4gQEAgLTEzNDcsNiArMTM1NCwxNiBAQCBzdGF0aWMg
aW50IHRkYTk5OHhfY29ubmVjdG9yX2luaXQoc3RydWN0IHRkYTk5OHhfcHJpdiAqcHJpdiwKPiAg
CWlmIChyZXQpCj4gIAkJcmV0dXJuIHJldDsKPiAgCj4gKwljZWNfZmlsbF9jb25uX2luZm9fZnJv
bV9kcm0oJmNvbm5faW5mbywgY29ubmVjdG9yKTsKPiArCj4gKwlub3RpZmllciA9IGNlY19ub3Rp
Zmllcl9jb25uX3JlZ2lzdGVyKHByaXYtPmNlY19nbHVlLnBhcmVudCwKPiArCQkJCQkgICAgICBO
VUxMLCAmY29ubl9pbmZvKTsKPiArCQlyZXR1cm4gLUVOT01FTTsKCllvdSBkcm9wcGVkIGEgJ2lm
ICghbm90aWZpZXIpJyBiZWZvcmUgdGhlIHJldHVybiEKCkFmdGVyIGFkZGluZyBiYWNrIHRoaXMg
J2lmJyBpdCB3b3JrZWQgZmluZSBvbiBteSBCZWFnbGVCb25lIEJsYWNrIGJvYXJkLApzbyBhZnRl
ciBmaXhpbmcgdGhpcyB5b3UgY2FuIGFkZCBteToKClRlc3RlZC1ieTogSGFucyBWZXJrdWlsIDxo
dmVya3VpbC1jaXNjb0B4czRhbGwubmw+Cgp0YWcuCgpSZWdhcmRzLAoKCUhhbnMKCj4gKwo+ICsJ
bXV0ZXhfbG9jaygmcHJpdi0+Y2VjX25vdGlmaXlfbXV0ZXgpOwo+ICsJcHJpdi0+Y2VjX25vdGlm
eSA9IG5vdGlmaWVyOwo+ICsJbXV0ZXhfdW5sb2NrKCZwcml2LT5jZWNfbm90aWZpeV9tdXRleCk7
Cj4gKwo+ICAJZHJtX2Nvbm5lY3Rvcl9hdHRhY2hfZW5jb2RlcigmcHJpdi0+Y29ubmVjdG9yLAo+
ICAJCQkJICAgICBwcml2LT5icmlkZ2UuZW5jb2Rlcik7Cj4gIAo+IEBAIC0xMzY2LDYgKzEzODMs
MTEgQEAgc3RhdGljIHZvaWQgdGRhOTk4eF9icmlkZ2VfZGV0YWNoKHN0cnVjdCBkcm1fYnJpZGdl
ICpicmlkZ2UpCj4gIHsKPiAgCXN0cnVjdCB0ZGE5OTh4X3ByaXYgKnByaXYgPSBicmlkZ2VfdG9f
dGRhOTk4eF9wcml2KGJyaWRnZSk7Cj4gIAo+ICsJbXV0ZXhfbG9jaygmcHJpdi0+Y2VjX25vdGlm
aXlfbXV0ZXgpOwo+ICsJY2VjX25vdGlmaWVyX2Nvbm5fdW5yZWdpc3Rlcihwcml2LT5jZWNfbm90
aWZ5KTsKPiArCXByaXYtPmNlY19ub3RpZnkgPSBOVUxMOwo+ICsJbXV0ZXhfdW5sb2NrKCZwcml2
LT5jZWNfbm90aWZpeV9tdXRleCk7Cj4gKwo+ICAJZHJtX2Nvbm5lY3Rvcl9jbGVhbnVwKCZwcml2
LT5jb25uZWN0b3IpOwo+ICB9Cj4gIAo+IEBAIC0xNzg5LDkgKzE4MTEsNiBAQCBzdGF0aWMgdm9p
ZCB0ZGE5OTh4X2Rlc3Ryb3koc3RydWN0IGRldmljZSAqZGV2KQo+ICAJY2FuY2VsX3dvcmtfc3lu
YygmcHJpdi0+ZGV0ZWN0X3dvcmspOwo+ICAKPiAgCWkyY191bnJlZ2lzdGVyX2RldmljZShwcml2
LT5jZWMpOwo+IC0KPiAtCWlmIChwcml2LT5jZWNfbm90aWZ5KQo+IC0JCWNlY19ub3RpZmllcl9w
dXQocHJpdi0+Y2VjX25vdGlmeSk7Cj4gIH0KPiAgCj4gIHN0YXRpYyBpbnQgdGRhOTk4eF9jcmVh
dGUoc3RydWN0IGRldmljZSAqZGV2KQo+IEBAIC0xODEyLDYgKzE4MzEsNyBAQCBzdGF0aWMgaW50
IHRkYTk5OHhfY3JlYXRlKHN0cnVjdCBkZXZpY2UgKmRldikKPiAgCW11dGV4X2luaXQoJnByaXYt
Pm11dGV4KTsJLyogcHJvdGVjdCB0aGUgcGFnZSBhY2Nlc3MgKi8KPiAgCW11dGV4X2luaXQoJnBy
aXYtPmF1ZGlvX211dGV4KTsgLyogcHJvdGVjdCBhY2Nlc3MgZnJvbSBhdWRpbyB0aHJlYWQgKi8K
PiAgCW11dGV4X2luaXQoJnByaXYtPmVkaWRfbXV0ZXgpOwo+ICsJbXV0ZXhfaW5pdCgmcHJpdi0+
Y2VjX25vdGlmaXlfbXV0ZXgpOwo+ICAJSU5JVF9MSVNUX0hFQUQoJnByaXYtPmJyaWRnZS5saXN0
KTsKPiAgCWluaXRfd2FpdHF1ZXVlX2hlYWQoJnByaXYtPmVkaWRfZGVsYXlfd2FpdHEpOwo+ICAJ
dGltZXJfc2V0dXAoJnByaXYtPmVkaWRfZGVsYXlfdGltZXIsIHRkYTk5OHhfZWRpZF9kZWxheV9k
b25lLCAwKTsKPiBAQCAtMTkxNiwxMiArMTkzNiw2IEBAIHN0YXRpYyBpbnQgdGRhOTk4eF9jcmVh
dGUoc3RydWN0IGRldmljZSAqZGV2KQo+ICAJCWNlY193cml0ZShwcml2LCBSRUdfQ0VDX1JYU0hQ
RElOVEVOQSwgQ0VDX1JYU0hQRExFVl9IUEQpOwo+ICAJfQo+ICAKPiAtCXByaXYtPmNlY19ub3Rp
ZnkgPSBjZWNfbm90aWZpZXJfZ2V0KGRldik7Cj4gLQlpZiAoIXByaXYtPmNlY19ub3RpZnkpIHsK
PiAtCQlyZXQgPSAtRU5PTUVNOwo+IC0JCWdvdG8gZmFpbDsKPiAtCX0KPiAtCj4gIAlwcml2LT5j
ZWNfZ2x1ZS5wYXJlbnQgPSBkZXY7Cj4gIAlwcml2LT5jZWNfZ2x1ZS5kYXRhID0gcHJpdjsKPiAg
CXByaXYtPmNlY19nbHVlLmluaXQgPSB0ZGE5OTh4X2NlY19ob29rX2luaXQ7Cj4gCgpfX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGlu
ZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVl
ZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
