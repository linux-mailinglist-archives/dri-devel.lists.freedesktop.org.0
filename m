Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 243CA35496C
	for <lists+dri-devel@lfdr.de>; Tue,  6 Apr 2021 01:47:31 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 67ECA89F92;
	Mon,  5 Apr 2021 23:47:24 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-lj1-x22e.google.com (mail-lj1-x22e.google.com
 [IPv6:2a00:1450:4864:20::22e])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E23D289F9F
 for <dri-devel@lists.freedesktop.org>; Mon,  5 Apr 2021 23:47:22 +0000 (UTC)
Received: by mail-lj1-x22e.google.com with SMTP id u9so14357708ljd.11
 for <dri-devel@lists.freedesktop.org>; Mon, 05 Apr 2021 16:47:22 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=linaro.org; s=google;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=xX9xY0GD54DMJGU72WqFsnQ5eH5ln8YmnbLFt/ArpQQ=;
 b=HsFImk/vG58HygtsNmia/4X5adlwhdIhD1eUHzLp5TUGOGPbu5HcVbV6bqgyh9lLr2
 DZlSqGlqUNRdyGc3iIPOcijx7c0ozu5P8SK/4xGtf/SGt3o8O+39XYIHQjJRl+JUfYEO
 VVXnL50NI1XcQH+U9LYSShSEN2quG+WyWLx8HGE93/syNFX4tuQcmfmXmQ+omYqX7566
 1nKlvcqzjLh6SUjz/0FVnumFyKnfuk0Kp/XjHbi/R/ed8pShNvLmIb8o78ng8mfR6u5T
 IwDc7Az4uit5b4JJtkrQSzIDe1IHnTKFhKyU4v3dd1DSrybxnR0vEGbkKpDPwrUBWBWs
 6J4Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=xX9xY0GD54DMJGU72WqFsnQ5eH5ln8YmnbLFt/ArpQQ=;
 b=cwT8a9XuZ6oCOidFV11Gfsk2SK+xasY8Pgs6hyg9JnD17YdQwUmZz9DsNbwJTysI+P
 CIbnMEAWMdWbdN+ob+Q8Nw6MB2mBZ9lHNloiCSlhFhhNsqzEpTYpqcPT9onzgCK8RK7P
 FfFHStBco/oGgIlKVb5iSvhIj4ygQhQ4vCF5JqNA6wWmWXbl7W7fxQ5JFdlpddstkK8G
 J5t+8AsGqzZrkqwQ8dTt1Y+7IHUGzLQiAY0d82iOFKt9a7C9IbcEmhkVQ+rkcyVQFnfr
 gqKdJRO0GknOfvOSRUfBG+NDkfwF4/6ymqzzPOsVRpzDvggIhG/RcJsFiCu8z84c9pei
 fUMg==
X-Gm-Message-State: AOAM532yaqukVcVvRtBJMS5hGem3OifiQRJr/Yqyphd32k80W9vII6Hc
 bQ107wQPmrI+Aczy0V90m+hWbQ==
X-Google-Smtp-Source: ABdhPJzhUv/10inHZOygtf8PnpiwHgCmmPEMzabhY1prH/BqZxJ5U8ksow1qr0+isnj/dGQdb+wFIw==
X-Received: by 2002:a2e:9b95:: with SMTP id z21mr17531046lji.112.1617666441273; 
 Mon, 05 Apr 2021 16:47:21 -0700 (PDT)
Received: from localhost.localdomain
 (c-14cb225c.014-348-6c756e10.bbcust.telenor.se. [92.34.203.20])
 by smtp.gmail.com with ESMTPSA id d27sm1941930lfm.203.2021.04.05.16.47.20
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Mon, 05 Apr 2021 16:47:20 -0700 (PDT)
From: Linus Walleij <linus.walleij@linaro.org>
To: Thierry Reding <thierry.reding@gmail.com>, Sam Ravnborg <sam@ravnborg.org>,
 dri-devel@lists.freedesktop.org
Subject: [PATCH 2/2] drm/panel: lms397kf04: Add driver for LMS397KF04
Date: Tue,  6 Apr 2021 01:47:13 +0200
Message-Id: <20210405234713.3190693-2-linus.walleij@linaro.org>
X-Mailer: git-send-email 2.29.2
In-Reply-To: <20210405234713.3190693-1-linus.walleij@linaro.org>
References: <20210405234713.3190693-1-linus.walleij@linaro.org>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhpcyBhZGRzIGEgbmV3IGRyaXZlciBmb3IgdGhlIFNhbXN1bmcgTE1TMzk3S0YwNApEUEkgZGlz
cGxheSBjb250cm9sbGVkIG92ZXIgU1BJLgoKU2lnbmVkLW9mZi1ieTogTGludXMgV2FsbGVpaiA8
bGludXMud2FsbGVpakBsaW5hcm8ub3JnPgotLS0KIE1BSU5UQUlORVJTICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICB8ICAgNyArCiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvS2NvbmZp
ZyAgICAgICAgICAgICAgICAgfCAgIDggKwogZHJpdmVycy9ncHUvZHJtL3BhbmVsL01ha2VmaWxl
ICAgICAgICAgICAgICAgIHwgICAxICsKIC4uLi9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmct
bG1zMzk3a2YwNC5jICB8IDQyMSArKysrKysrKysrKysrKysrKysKIDQgZmlsZXMgY2hhbmdlZCwg
NDM3IGluc2VydGlvbnMoKykKIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vcGFu
ZWwvcGFuZWwtc2Ftc3VuZy1sbXMzOTdrZjA0LmMKCmRpZmYgLS1naXQgYS9NQUlOVEFJTkVSUyBi
L01BSU5UQUlORVJTCmluZGV4IGQ5MmY4NWNhODMxZC4uNmQzMjQzMmFkZWJlIDEwMDY0NAotLS0g
YS9NQUlOVEFJTkVSUworKysgYi9NQUlOVEFJTkVSUwpAQCAtNTczMSw2ICs1NzMxLDEzIEBAIFM6
CU1haW50YWluZWQKIEY6CURvY3VtZW50YXRpb24vZGV2aWNldHJlZS9iaW5kaW5ncy9kaXNwbGF5
L3BhbmVsL3JheWRpdW0scm02NzE5MS55YW1sCiBGOglkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFu
ZWwtcmF5ZGl1bS1ybTY3MTkxLmMKIAorRFJNIERSSVZFUiBGT1IgU0FNU1VORyBMTVMzOTdLRjA0
IFBBTkVMUworTToJTGludXMgV2FsbGVpaiA8bGludXMud2FsbGVpakBsaW5hcm8ub3JnPgorUzoJ
TWFpbnRhaW5lZAorVDoJZ2l0IGdpdDovL2Fub25naXQuZnJlZWRlc2t0b3Aub3JnL2RybS9kcm0t
bWlzYworRjoJRG9jdW1lbnRhdGlvbi9kZXZpY2V0cmVlL2JpbmRpbmdzL2Rpc3BsYXkvcGFuZWwv
c2Ftc3VuZyxsbXMzOTdrZjA0LnlhbWwKK0Y6CWRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1z
YW1zdW5nLWxtczM5N2tmMDQuYworCiBEUk0gRFJJVkVSIEZPUiBTSVRST05JWCBTVDc3MDMgUEFO
RUxTCiBNOglHdWlkbyBHw7xudGhlciA8YWd4QHNpZ3hjcHUub3JnPgogUjoJUHVyaXNtIEtlcm5l
bCBUZWFtIDxrZXJuZWxAcHVyaS5zbT4KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5l
bC9LY29uZmlnIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL0tjb25maWcKaW5kZXggNDg5NDkxMzkz
NmU5Li44ZTI0YTkyYWQ5Y2UgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9LY29u
ZmlnCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9LY29uZmlnCkBAIC0zNDgsNiArMzQ4LDE0
IEBAIGNvbmZpZyBEUk1fUEFORUxfU0FNU1VOR19TNkQxNkQwCiAJZGVwZW5kcyBvbiBEUk1fTUlQ
SV9EU0kKIAlzZWxlY3QgVklERU9NT0RFX0hFTFBFUlMKIAorY29uZmlnIERSTV9QQU5FTF9TQU1T
VU5HX0xNUzM5N0tGMDQKKwl0cmlzdGF0ZSAiU2Ftc3VuZyBMTVMzOTdLRjA0IERQSSBwYW5lbCIK
KwlkZXBlbmRzIG9uIE9GICYmIFNQSSAmJiBHUElPTElCCisJZGVwZW5kcyBvbiBCQUNLTElHSFRf
Q0xBU1NfREVWSUNFCisJaGVscAorCSAgU2F5IFkgaGVyZSBpZiB5b3Ugd2FudCB0byBlbmFibGUg
c3VwcG9ydCBmb3IgdGhlIFNhbXN1bmcKKwkgIExNUzM5N0tGMDQgNDgweDgwMCBEUEkgcGFuZWwu
CisKIGNvbmZpZyBEUk1fUEFORUxfU0FNU1VOR19TNkUzSEEyCiAJdHJpc3RhdGUgIlNhbXN1bmcg
UzZFM0hBMiBEU0kgdmlkZW8gbW9kZSBwYW5lbCIKIAlkZXBlbmRzIG9uIE9GCmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvTWFrZWZpbGUgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwv
TWFrZWZpbGUKaW5kZXggY2FlNGQ5NzZjMDY5Li5kZTIzZDAwOTM3ZGIgMTAwNjQ0Ci0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9wYW5lbC9NYWtlZmlsZQorKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwv
TWFrZWZpbGUKQEAgLTMzLDYgKzMzLDcgQEAgb2JqLSQoQ09ORklHX0RSTV9QQU5FTF9SQVNQQkVS
UllQSV9UT1VDSFNDUkVFTikgKz0gcGFuZWwtcmFzcGJlcnJ5cGktdG91Y2hzY3JlZW4KIG9iai0k
KENPTkZJR19EUk1fUEFORUxfUkFZRElVTV9STTY3MTkxKSArPSBwYW5lbC1yYXlkaXVtLXJtNjcx
OTEubwogb2JqLSQoQ09ORklHX0RSTV9QQU5FTF9SQVlESVVNX1JNNjgyMDApICs9IHBhbmVsLXJh
eWRpdW0tcm02ODIwMC5vCiBvYmotJChDT05GSUdfRFJNX1BBTkVMX1JPTkJPX1JCMDcwRDMwKSAr
PSBwYW5lbC1yb25iby1yYjA3MGQzMC5vCitvYmotJChDT05GSUdfRFJNX1BBTkVMX1NBTVNVTkdf
TE1TMzk3S0YwNCkgKz0gcGFuZWwtc2Ftc3VuZy1sbXMzOTdrZjA0Lm8KIG9iai0kKENPTkZJR19E
Uk1fUEFORUxfU0FNU1VOR19MRDkwNDApICs9IHBhbmVsLXNhbXN1bmctbGQ5MDQwLm8KIG9iai0k
KENPTkZJR19EUk1fUEFORUxfU0FNU1VOR19TNkQxNkQwKSArPSBwYW5lbC1zYW1zdW5nLXM2ZDE2
ZDAubwogb2JqLSQoQ09ORklHX0RSTV9QQU5FTF9TQU1TVU5HX1M2RTNIQTIpICs9IHBhbmVsLXNh
bXN1bmctczZlM2hhMi5vCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwt
c2Ftc3VuZy1sbXMzOTdrZjA0LmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ftc3Vu
Zy1sbXMzOTdrZjA0LmMKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAwLi40
MTI5MGNhZGMzNTEKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFu
ZWwtc2Ftc3VuZy1sbXMzOTdrZjA0LmMKQEAgLTAsMCArMSw0MjEgQEAKKy8vIFNQRFgtTGljZW5z
ZS1JZGVudGlmaWVyOiBHUEwtMi4wCisvKgorICogUGFuZWwgZHJpdmVyIGZvciB0aGUgU2Ftc3Vu
ZyBMTVMzOTdLRjA0IDQ4MHg4MDAgRFBJIFJHQiBwYW5lbC4KKyAqIEFjY29yZGluZyB0byB0aGUg
ZGF0YSBzaGVldCB0aGUgZGlzcGxheSBjb250cm9sbGVyIGlzIGNhbGxlZCBEQjc0MzAKKyAqIExp
bnVzIFdhbGxlaWogPGxpbnVzLndhbGxlaWpAbGluYXJvLm9yZz4KKyAqLworI2luY2x1ZGUgPGRy
bS9kcm1fbW9kZXMuaD4KKyNpbmNsdWRlIDxkcm0vZHJtX3BhbmVsLmg+CisKKyNpbmNsdWRlIDxs
aW51eC9kZWxheS5oPgorI2luY2x1ZGUgPGxpbnV4L2dwaW8vY29uc3VtZXIuaD4KKyNpbmNsdWRl
IDxsaW51eC9pbml0Lmg+CisjaW5jbHVkZSA8bGludXgva2VybmVsLmg+CisjaW5jbHVkZSA8bGlu
dXgvbWVkaWEtYnVzLWZvcm1hdC5oPgorI2luY2x1ZGUgPGxpbnV4L21vZHVsZS5oPgorI2luY2x1
ZGUgPGxpbnV4L29mLmg+CisjaW5jbHVkZSA8bGludXgvcmVndWxhdG9yL2NvbnN1bWVyLmg+Cisj
aW5jbHVkZSA8bGludXgvc3BpL3NwaS5oPgorCisjaW5jbHVkZSA8dmlkZW8vbWlwaV9kaXNwbGF5
Lmg+CisKKyNkZWZpbmUgTE1TMzk3X01BTlVGQUNUVVJFUl9DTUQJCTB4YjAKKyNkZWZpbmUgTE1T
Mzk3X1VOS05PV05fQjQJCTB4YjQKKyNkZWZpbmUgTE1TMzk3X1VTRVJfU0VMRUNUCQkweGI1Cisj
ZGVmaW5lIExNUzM5N19VTktOT1dOX0I3CQkweGI3CisjZGVmaW5lIExNUzM5N19VTktOT1dOX0I4
CQkweGI4CisjZGVmaW5lIExNUzM5N19QQU5FTF9EUklWSU5HCQkweGMwCisjZGVmaW5lIExNUzM5
N19TT1VSQ0VfQ09OVFJPTAkJMHhjMQorI2RlZmluZSBMTVMzOTdfR0FURV9JTlRFUkZBQ0UJCTB4
YzQKKyNkZWZpbmUgTE1TMzk3X0RJU1BMQVlfSF9USU1JTkcJCTB4YzUKKyNkZWZpbmUgTE1TMzk3
X1JHQl9TWU5DX09QVElPTgkJMHhjNgorI2RlZmluZSBMTVMzOTdfR0FNTUFfU0VUX1JFRAkJMHhj
OAorI2RlZmluZSBMTVMzOTdfR0FNTUFfU0VUX0dSRUVOCQkweGM5CisjZGVmaW5lIExNUzM5N19H
QU1NQV9TRVRfQkxVRQkJMHhjYQorI2RlZmluZSBMTVMzOTdfQklBU19DVVJSRU5UX0NUUkwJMHhk
MQorI2RlZmluZSBMTVMzOTdfRERWX0NUUkwJCQkweGQyCisjZGVmaW5lIExNUzM5N19HQU1NQV9D
VFJMX1JFRgkJMHhkMworI2RlZmluZSBMTVMzOTdfVU5LTk9XTl9ENAkJMHhkNAorI2RlZmluZSBM
TVMzOTdfRENEQ19DVFJMCQkweGQ1CisjZGVmaW5lIExNUzM5N19WQ0xfQ1RSTAkJCTB4ZDYKKyNk
ZWZpbmUgTE1TMzk3X1VOS05PV05fRjgJCTB4ZjgKKyNkZWZpbmUgTE1TMzk3X1VOS05PV05fRkMJ
CTB4ZmMKKworI2RlZmluZSBEQVRBX01BU0sJMHgxMDAKKworLyoqCisgKiBzdHJ1Y3QgbG1zMzk3
a2YwNCAtIHN0YXRlIGNvbnRhaW5lciBmb3IgdGhlIExNUzM5N2tmMDQgcGFuZWwKKyAqLworc3Ry
dWN0IGxtczM5N2tmMDQgeworCS8qKgorCSAqIEBkZXY6IHRoZSBjb250YWluZXIgZGV2aWNlCisJ
ICovCisJc3RydWN0IGRldmljZSAqZGV2OworCS8qKgorCSAqIEBzcGk6IHRoZSBjb3JyZXNwb25k
aW5nIFNQSSBkZXZpY2UKKwkgKi8KKwlzdHJ1Y3Qgc3BpX2RldmljZSAqc3BpOworCS8qKgorCSAq
IEBwYW5lbDogdGhlIERSTSBwYW5lbCBpbnN0YW5jZSBmb3IgdGhpcyBkZXZpY2UKKwkgKi8KKwlz
dHJ1Y3QgZHJtX3BhbmVsIHBhbmVsOworCS8qKgorCSAqIEB3aWR0aDogdGhlIHdpZHRoIG9mIHRo
aXMgcGFuZWwgaW4gbW0KKwkgKi8KKwl1MzIgd2lkdGg7CisJLyoqCisJICogQGhlaWdodDogdGhl
IGhlaWdodCBvZiB0aGlzIHBhbmVsIGluIG1tCisJICovCisJdTMyIGhlaWdodDsKKwkvKioKKwkg
KiBAcmVzZXQ6IHJlc2V0IEdQSU8gbGluZQorCSAqLworCXN0cnVjdCBncGlvX2Rlc2MgKnJlc2V0
OworCS8qKgorCSAqIEByZWd1bGF0b3JzOiBWQ0NJTyBhbmQgVklPIHN1cHBseSByZWd1bGF0b3Jz
CisJICovCisJc3RydWN0IHJlZ3VsYXRvcl9idWxrX2RhdGEgcmVndWxhdG9yc1syXTsKK307CisK
K3N0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSBsbXMzOTdrZjA0X21vZGUgPSB7
CisJLyoKKwkgKiAzMSBucyBwZXJpb2QgbWluIChodG90YWwqdnRvdGFsKnZyZWZyZXNoKS8xMDAw
CisJICogZ2l2ZXMgYSBWcmVmcmVzaCBvZiB+NzEgSHouCisJICovCisJLmNsb2NrID0gMzIyNTgs
CisJLmhkaXNwbGF5ID0gNDgwLAorCS5oc3luY19zdGFydCA9IDQ4MCArIDEwLAorCS5oc3luY19l
bmQgPSA0ODAgKyAxMCArIDQsCisJLmh0b3RhbCA9IDQ4MCArIDEwICsgNCArIDQwLAorCS52ZGlz
cGxheSA9IDgwMCwKKwkudnN5bmNfc3RhcnQgPSA4MDAgKyA2LAorCS52c3luY19lbmQgPSA4MDAg
KyA2ICsgMSwKKwkudnRvdGFsID0gODAwICsgNiArIDEgKyA3LAorCS53aWR0aF9tbSA9IDUzLAor
CS5oZWlnaHRfbW0gPSA4NywKKwkuZmxhZ3MgPSBEUk1fTU9ERV9GTEFHX05WU1lOQyB8IERSTV9N
T0RFX0ZMQUdfTkhTWU5DLAorfTsKKworc3RhdGljIGlubGluZSBzdHJ1Y3QgbG1zMzk3a2YwNCAq
dG9fbG1zMzk3a2YwNChzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKK3sKKwlyZXR1cm4gY29udGFp
bmVyX29mKHBhbmVsLCBzdHJ1Y3QgbG1zMzk3a2YwNCwgcGFuZWwpOworfQorCitzdGF0aWMgaW50
IGxtczM5N2tmMDRfd3JpdGVfd29yZChzdHJ1Y3QgbG1zMzk3a2YwNCAqbG1zLCB1MTYgZGF0YSkK
K3sKKwkvKiBTUEkgYnVmZmVycyBhcmUgYWx3YXlzIGluIENQVSBvcmRlciAqLworCXJldHVybiBz
cGlfd3JpdGUobG1zLT5zcGksICZkYXRhLCAyKTsKK30KKworc3RhdGljIGludCBsbXMzOTdrZjA0
X2Rjc193cml0ZShzdHJ1Y3QgbG1zMzk3a2YwNCAqbG1zLCBjb25zdCB1OCAqZGF0YSwgc2l6ZV90
IGxlbikKK3sKKwlpbnQgcmV0OworCisJZGV2X2RiZyhsbXMtPmRldiwgIlNQSSB3cml0aW5nIGRj
cyBzZXE6ICUqcGhcbiIsIChpbnQpbGVuLCBkYXRhKTsKKworCS8qCisJICogVGhpcyBzZW5kcyA5
IGJpdHMgd2l0aCB0aGUgZmlyc3QgYml0IChiaXQgOCkgc2V0IHRvIDAKKwkgKiBUaGlzIGluZGlj
YXRlcyB0aGF0IHRoaXMgaXMgYSBjb21tYW5kLiBBbnl0aGluZyBhZnRlciB0aGUKKwkgKiBjb21t
YW5kIGlzIGRhdGEuCisJICovCisJcmV0ID0gbG1zMzk3a2YwNF93cml0ZV93b3JkKGxtcywgKmRh
dGEpOworCisJd2hpbGUgKCFyZXQgJiYgLS1sZW4pIHsKKwkJKytkYXRhOworCQkvKiBUaGlzIHNl
bmRzIDkgYml0cyB3aXRoIHRoZSBmaXJzdCBiaXQgKGJpdCA4KSBzZXQgdG8gMSAqLworCQlyZXQg
PSBsbXMzOTdrZjA0X3dyaXRlX3dvcmQobG1zLCAqZGF0YSB8IERBVEFfTUFTSyk7CisJfQorCisJ
aWYgKHJldCkgeworCQlkZXZfZXJyKGxtcy0+ZGV2LCAiU1BJIGVycm9yICVkIHdyaXRpbmcgZGNz
IHNlcTogJSpwaFxuIiwgcmV0LAorCQkJKGludClsZW4sIGRhdGEpOworCX0KKworCXJldHVybiBy
ZXQ7Cit9CisKKyNkZWZpbmUgbG1zMzk3a2YwNF9kY3Nfd3JpdGVfc2VxX3N0YXRpYyhjdHgsIHNl
cSAuLi4pIFwKKwkoeyBcCisJCXN0YXRpYyBjb25zdCB1OCBkW10gPSB7IHNlcSB9OyBcCisJCWxt
czM5N2tmMDRfZGNzX3dyaXRlKGN0eCwgZCwgQVJSQVlfU0laRShkKSk7IFwKKwl9KQorCitzdGF0
aWMgaW50IGxtczM5N2tmMDRfcG93ZXJfb24oc3RydWN0IGxtczM5N2tmMDQgKmxtcykKK3sKKwlp
bnQgcmV0OworCisJLyogUG93ZXIgdXAgKi8KKwlyZXQgPSByZWd1bGF0b3JfYnVsa19lbmFibGUo
QVJSQVlfU0laRShsbXMtPnJlZ3VsYXRvcnMpLAorCQkJCSAgICBsbXMtPnJlZ3VsYXRvcnMpOwor
CWlmIChyZXQpIHsKKwkJZGV2X2VycihsbXMtPmRldiwgImZhaWxlZCB0byBlbmFibGUgcmVndWxh
dG9yczogJWRcbiIsIHJldCk7CisJCXJldHVybiByZXQ7CisJfQorCW1zbGVlcCg1MCk7CisKKwkv
KiBBc3NlcnQgcmVzZXQgPj0xIG1zICovCisJZ3Bpb2Rfc2V0X3ZhbHVlX2NhbnNsZWVwKGxtcy0+
cmVzZXQsIDEpOworCW1zbGVlcCgxKTsKKwkvKiBEZS1hc3NlcnQgcmVzZXQgKi8KKwlncGlvZF9z
ZXRfdmFsdWVfY2Fuc2xlZXAobG1zLT5yZXNldCwgMCk7CisJLyogV2FpdCA+PSAxMCBtcyAqLwor
CW1zbGVlcCgxMCk7CisJZGV2X2luZm8obG1zLT5kZXYsICJkZS1hc3NlcnRlZCBSRVNFVFxuIik7
CisKKwkvKgorCSAqIFRoaXMgaXMgc2V0IHRvIDB4MGEgKFJHQi9CR1Igb3JkZXIgKyBob3Jpem9u
dGFsIGZsaXApIGluIG9yZGVyCisJICogdG8gbWFrZSB0aGUgZGlzcGxheSBiZWhhdmUgbm9ybWFs
bHkuIElmIHRoaXMgaXMgbm90IHNldCB0aGUgZGlzcGxheXMKKwkgKiBub3JtYWwgb3V0cHV0IGJl
aGF2aW91ciBpcyBob3Jpem9udGFsbHkgZmxpcHBlZCBhbmQgQkdSIG9yZGVyZWQuIERvCisJICog
aXQgdHdpY2UgYmVjYXVzZSB0aGUgZmlyc3QgbWVzc2FnZSBkb2Vzbid0IGFsd2F5cyAidGFrZSIu
CisJICovCisJbG1zMzk3a2YwNF9kY3Nfd3JpdGVfc2VxX3N0YXRpYyhsbXMsIE1JUElfRENTX1NF
VF9BRERSRVNTX01PREUsIDB4MGEpOworCWxtczM5N2tmMDRfZGNzX3dyaXRlX3NlcV9zdGF0aWMo
bG1zLCBNSVBJX0RDU19TRVRfQUREUkVTU19NT0RFLCAweDBhKTsKKwkvKiBDYWxsZWQgIkFjY2Vz
cyBwcm90ZWN0aW9uIG9mZiIgaW4gdmVuZG9yIGNvZGUgKi8KKwlsbXMzOTdrZjA0X2Rjc193cml0
ZV9zZXFfc3RhdGljKGxtcywgTE1TMzk3X01BTlVGQUNUVVJFUl9DTUQsIDB4MDApOworCWxtczM5
N2tmMDRfZGNzX3dyaXRlX3NlcV9zdGF0aWMobG1zLCBMTVMzOTdfUEFORUxfRFJJVklORywgMHgy
OCwgMHgwOCk7CisJbG1zMzk3a2YwNF9kY3Nfd3JpdGVfc2VxX3N0YXRpYyhsbXMsIExNUzM5N19T
T1VSQ0VfQ09OVFJPTCwKKwkJCQkJMHgwMSwgMHgzMCwgMHgxNSwgMHgwNSwgMHgyMik7CisJbG1z
Mzk3a2YwNF9kY3Nfd3JpdGVfc2VxX3N0YXRpYyhsbXMsIExNUzM5N19HQVRFX0lOVEVSRkFDRSwK
KwkJCQkJMHgxMCwgMHgwMSwgMHgwMCk7CisJbG1zMzk3a2YwNF9kY3Nfd3JpdGVfc2VxX3N0YXRp
YyhsbXMsIExNUzM5N19ESVNQTEFZX0hfVElNSU5HLAorCQkJCQkweDA2LCAweDU1LCAweDAzLCAw
eDA3LCAweDBiLAorCQkJCQkweDMzLCAweDAwLCAweDAxLCAweDAzKTsKKwkvKgorCSAqIDB4MDAg
aW4gZGF0YXNoZWV0IDB4MDEgaW4gdmVuZG9yIGNvZGUgMHgwMCwgaXQgc2VlbXMgMHgwMSBtZWFu
cworCSAqIERFIGFjdGl2ZSBoaWdoIGFuZCAweDAwIG1lYW5zIERFIGFjdGl2ZSBsb3cuCisJICov
CisJbG1zMzk3a2YwNF9kY3Nfd3JpdGVfc2VxX3N0YXRpYyhsbXMsIExNUzM5N19SR0JfU1lOQ19P
UFRJT04sIDB4MDEpOworCWxtczM5N2tmMDRfZGNzX3dyaXRlX3NlcV9zdGF0aWMobG1zLCBMTVMz
OTdfR0FNTUFfU0VUX1JFRCwKKwkJLyogUiBwb3NpdGl2ZSBnYW1tYSAqLyAweDAwLAorCQkweDBB
LCAweDMxLCAweDNCLCAweDRFLCAweDU4LCAweDU5LCAweDVCLCAweDU4LCAweDVFLCAweDYyLAor
CQkweDYwLCAweDYxLCAweDVFLCAweDYyLCAweDU1LCAweDU1LCAweDdGLCAweDA4LAorCQkvKiBS
IG5lZ2F0aXZlIGdhbW1hICovIDB4MDAsCisJCTB4MEEsIDB4MzEsIDB4M0IsIDB4NEUsIDB4NTgs
IDB4NTksIDB4NUIsIDB4NTgsIDB4NUUsIDB4NjIsCisJCTB4NjAsIDB4NjEsIDB4NUUsIDB4NjIs
IDB4NTUsIDB4NTUsIDB4N0YsIDB4MDgpOworCWxtczM5N2tmMDRfZGNzX3dyaXRlX3NlcV9zdGF0
aWMobG1zLCBMTVMzOTdfR0FNTUFfU0VUX0dSRUVOLAorCQkvKiBHIHBvc2l0aXZlIGdhbW1hICov
IDB4MDAsCisJCTB4MjUsIDB4MTUsIDB4MjgsIDB4M0QsIDB4NEEsIDB4NDgsIDB4NEMsIDB4NEEs
IDB4NTIsIDB4NTksCisJCTB4NTksIDB4NUIsIDB4NTYsIDB4NjAsIDB4NUQsIDB4NTUsIDB4N0Ys
IDB4MEEsCisJCS8qIEcgbmVnYXRpdmUgZ2FtbWEgKi8gMHgwMCwKKwkJMHgyNSwgMHgxNSwgMHgy
OCwgMHgzRCwgMHg0QSwgMHg0OCwgMHg0QywgMHg0QSwgMHg1MiwgMHg1OSwKKwkJMHg1OSwgMHg1
QiwgMHg1NiwgMHg2MCwgMHg1RCwgMHg1NSwgMHg3RiwgMHgwQSk7CisJbG1zMzk3a2YwNF9kY3Nf
d3JpdGVfc2VxX3N0YXRpYyhsbXMsIExNUzM5N19HQU1NQV9TRVRfQkxVRSwKKwkJLyogQiBwb3Np
dGl2ZSBnYW1tYSAqLyAweDAwLAorCQkweDQ4LCAweDEwLCAweDFGLCAweDJGLCAweDM1LCAweDM4
LCAweDNELCAweDNDLCAweDQ1LCAweDRELAorCQkweDRFLCAweDUyLCAweDUxLCAweDYwLCAweDdG
LCAweDdFLCAweDdGLCAweDBDLAorCQkvKiBCIG5lZ2F0aXZlIGdhbW1hICovIDB4MDAsCisJCTB4
NDgsIDB4MTAsIDB4MUYsIDB4MkYsIDB4MzUsIDB4MzgsIDB4M0QsIDB4M0MsIDB4NDUsIDB4NEQs
CisJCTB4NEUsIDB4NTIsIDB4NTEsIDB4NjAsIDB4N0YsIDB4N0UsIDB4N0YsIDB4MEMpOworCWxt
czM5N2tmMDRfZGNzX3dyaXRlX3NlcV9zdGF0aWMobG1zLCBMTVMzOTdfQklBU19DVVJSRU5UX0NU
UkwsCisJCQkJCTB4MzMsIDB4MTMpOworCWxtczM5N2tmMDRfZGNzX3dyaXRlX3NlcV9zdGF0aWMo
bG1zLCBMTVMzOTdfRERWX0NUUkwsCisJCQkJCTB4MTEsIDB4MDAsIDB4MDApOworCWxtczM5N2tm
MDRfZGNzX3dyaXRlX3NlcV9zdGF0aWMobG1zLCBMTVMzOTdfR0FNTUFfQ1RSTF9SRUYsCisJCQkJ
CTB4NTAsIDB4NTApOworCWxtczM5N2tmMDRfZGNzX3dyaXRlX3NlcV9zdGF0aWMobG1zLCBMTVMz
OTdfRENEQ19DVFJMLAorCQkJCQkweDJmLCAweDExLCAweDFlLCAweDQ2KTsKKwlsbXMzOTdrZjA0
X2Rjc193cml0ZV9zZXFfc3RhdGljKGxtcywgTE1TMzk3X1ZDTF9DVFJMLAorCQkJCQkweDExLCAw
eDBhKTsKKworCXJldHVybiAwOworfQorCitzdGF0aWMgdm9pZCBsbXMzOTdrZjA0X3Bvd2VyX29m
ZihzdHJ1Y3QgbG1zMzk3a2YwNCAqbG1zKQoreworCS8qIEdvIGludG8gUkVTRVQgYW5kIGRpc2Fi
bGUgcmVndWxhdG9ycyAqLworCWdwaW9kX3NldF92YWx1ZV9jYW5zbGVlcChsbXMtPnJlc2V0LCAx
KTsKKwlyZWd1bGF0b3JfYnVsa19kaXNhYmxlKEFSUkFZX1NJWkUobG1zLT5yZWd1bGF0b3JzKSwK
KwkJCSAgICAgICBsbXMtPnJlZ3VsYXRvcnMpOworfQorCitzdGF0aWMgaW50IGxtczM5N2tmMDRf
dW5wcmVwYXJlKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQoreworCXN0cnVjdCBsbXMzOTdrZjA0
ICpsbXMgPSB0b19sbXMzOTdrZjA0KHBhbmVsKTsKKworCWxtczM5N2tmMDRfcG93ZXJfb2ZmKGxt
cyk7CisKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIGludCBsbXMzOTdrZjA0X2Rpc2FibGUoc3Ry
dWN0IGRybV9wYW5lbCAqcGFuZWwpCit7CisJc3RydWN0IGxtczM5N2tmMDQgKmxtcyA9IHRvX2xt
czM5N2tmMDQocGFuZWwpOworCisJbG1zMzk3a2YwNF9kY3Nfd3JpdGVfc2VxX3N0YXRpYyhsbXMs
IE1JUElfRENTX1NFVF9ESVNQTEFZX09GRik7CisJbXNsZWVwKDI1KTsKKwlsbXMzOTdrZjA0X2Rj
c193cml0ZV9zZXFfc3RhdGljKGxtcywgTUlQSV9EQ1NfRU5URVJfU0xFRVBfTU9ERSk7CisJbXNs
ZWVwKDEyMCk7CisKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIGludCBsbXMzOTdrZjA0X3ByZXBh
cmUoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCit7CisJc3RydWN0IGxtczM5N2tmMDQgKmxtcyA9
IHRvX2xtczM5N2tmMDQocGFuZWwpOworCWludCByZXQ7CisKKwlyZXQgPSBsbXMzOTdrZjA0X3Bv
d2VyX29uKGxtcyk7CisJaWYgKHJldCkKKwkJcmV0dXJuIHJldDsKKworCXJldHVybiAwOworfQor
CitzdGF0aWMgaW50IGxtczM5N2tmMDRfZW5hYmxlKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQor
eworCXN0cnVjdCBsbXMzOTdrZjA0ICpsbXMgPSB0b19sbXMzOTdrZjA0KHBhbmVsKTsKKworCS8q
IEV4aXQgc2xlZXAgbW9kZSAqLworCWxtczM5N2tmMDRfZGNzX3dyaXRlX3NlcV9zdGF0aWMobG1z
LCBNSVBJX0RDU19FWElUX1NMRUVQX01PREUpOworCW1zbGVlcCgyMCk7CisKKwkvKiBOVk0gKG5v
bi12b2xhdGlsZSBtZW1vcnkpIGxvYWQgc2VxdWVuY2UgKi8KKwlsbXMzOTdrZjA0X2Rjc193cml0
ZV9zZXFfc3RhdGljKGxtcywgTE1TMzk3X1VOS05PV05fRDQsCisJCQkJCTB4NTIsIDB4NWUpOwor
CWxtczM5N2tmMDRfZGNzX3dyaXRlX3NlcV9zdGF0aWMobG1zLCBMTVMzOTdfVU5LTk9XTl9GOCwK
KwkJCQkJMHgwMSwgMHhmNSwgMHhmMiwgMHg3MSwgMHg0NCk7CisJbG1zMzk3a2YwNF9kY3Nfd3Jp
dGVfc2VxX3N0YXRpYyhsbXMsIExNUzM5N19VTktOT1dOX0ZDLAorCQkJCQkweDAwLCAweDA4KTsK
Kwltc2xlZXAoMTUwKTsKKworCS8qIENBQkMgdHVybiBvbiBzZXF1ZW5jZSAoQkMgPSBiYWNrbGln
aHQgY29udHJvbCkgKi8KKwlsbXMzOTdrZjA0X2Rjc193cml0ZV9zZXFfc3RhdGljKGxtcywgTE1T
Mzk3X1VOS05PV05fQjQsCisJCQkJCTB4MGYsIDB4MDAsIDB4NTApOworCWxtczM5N2tmMDRfZGNz
X3dyaXRlX3NlcV9zdGF0aWMobG1zLCBMTVMzOTdfVVNFUl9TRUxFQ1QsIDB4ODApOworCWxtczM5
N2tmMDRfZGNzX3dyaXRlX3NlcV9zdGF0aWMobG1zLCBMTVMzOTdfVU5LTk9XTl9CNywgMHgyNCk7
CisJbG1zMzk3a2YwNF9kY3Nfd3JpdGVfc2VxX3N0YXRpYyhsbXMsIExNUzM5N19VTktOT1dOX0I4
LCAweDAxKTsKKworCS8qIFR1cm4gb24gZGlzcGxheSAqLworCWxtczM5N2tmMDRfZGNzX3dyaXRl
X3NlcV9zdGF0aWMobG1zLCBNSVBJX0RDU19TRVRfRElTUExBWV9PTik7CisKKwkvKiBVcGRhdGUg
YnJpZ2h0bmVzcyAqLworCisJcmV0dXJuIDA7Cit9CisKKy8qKgorICogbG1zMzk3a2YwNF9nZXRf
bW9kZXMoKSAtIHJldHVybiB0aGUgbW9kZQorICogQHBhbmVsOiB0aGUgcGFuZWwgdG8gZ2V0IHRo
ZSBtb2RlIGZvcgorICogQGNvbm5lY3RvcjogcmVmZXJlbmNlIHRvIHRoZSBjZW50cmFsIERSTSBj
b25uZWN0b3IgY29udHJvbCBzdHJ1Y3R1cmUKKyAqLworc3RhdGljIGludCBsbXMzOTdrZjA0X2dl
dF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCwKKwkJCSAgICBzdHJ1Y3QgZHJtX2Nvbm5l
Y3RvciAqY29ubmVjdG9yKQoreworCXN0cnVjdCBsbXMzOTdrZjA0ICpsbXMgPSB0b19sbXMzOTdr
ZjA0KHBhbmVsKTsKKwlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKKwlzdGF0aWMgY29u
c3QgdTMyIGJ1c19mb3JtYXQgPSBNRURJQV9CVVNfRk1UX1JHQjg4OF8xWDI0OworCisJbW9kZSA9
IGRybV9tb2RlX2R1cGxpY2F0ZShjb25uZWN0b3ItPmRldiwgJmxtczM5N2tmMDRfbW9kZSk7CisJ
aWYgKCFtb2RlKSB7CisJCWRldl9lcnIobG1zLT5kZXYsICJmYWlsZWQgdG8gYWRkIG1vZGVcbiIp
OworCQlyZXR1cm4gLUVOT01FTTsKKwl9CisKKwljb25uZWN0b3ItPmRpc3BsYXlfaW5mby53aWR0
aF9tbSA9IG1vZGUtPndpZHRoX21tOworCWNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLmhlaWdodF9t
bSA9IG1vZGUtPmhlaWdodF9tbTsKKwljb25uZWN0b3ItPmRpc3BsYXlfaW5mby5idXNfZmxhZ3Mg
PQorCQlEUk1fQlVTX0ZMQUdfUElYREFUQV9EUklWRV9ORUdFREdFOworCWRybV9kaXNwbGF5X2lu
Zm9fc2V0X2J1c19mb3JtYXRzKCZjb25uZWN0b3ItPmRpc3BsYXlfaW5mbywKKwkJCQkJICZidXNf
Zm9ybWF0LCAxKTsKKworCWRybV9tb2RlX3NldF9uYW1lKG1vZGUpOworCW1vZGUtPnR5cGUgPSBE
Uk1fTU9ERV9UWVBFX0RSSVZFUiB8IERSTV9NT0RFX1RZUEVfUFJFRkVSUkVEOworCisJZHJtX21v
ZGVfcHJvYmVkX2FkZChjb25uZWN0b3IsIG1vZGUpOworCisJcmV0dXJuIDE7Cit9CisKK3N0YXRp
YyBjb25zdCBzdHJ1Y3QgZHJtX3BhbmVsX2Z1bmNzIGxtczM5N2tmMDRfZHJtX2Z1bmNzID0gewor
CS5kaXNhYmxlID0gbG1zMzk3a2YwNF9kaXNhYmxlLAorCS51bnByZXBhcmUgPSBsbXMzOTdrZjA0
X3VucHJlcGFyZSwKKwkucHJlcGFyZSA9IGxtczM5N2tmMDRfcHJlcGFyZSwKKwkuZW5hYmxlID0g
bG1zMzk3a2YwNF9lbmFibGUsCisJLmdldF9tb2RlcyA9IGxtczM5N2tmMDRfZ2V0X21vZGVzLAor
fTsKKworc3RhdGljIGludCBsbXMzOTdrZjA0X3Byb2JlKHN0cnVjdCBzcGlfZGV2aWNlICpzcGkp
Cit7CisJc3RydWN0IGRldmljZSAqZGV2ID0gJnNwaS0+ZGV2OworCXN0cnVjdCBsbXMzOTdrZjA0
ICpsbXM7CisJaW50IHJldDsKKworCWxtcyA9IGRldm1fa3phbGxvYyhkZXYsIHNpemVvZigqbG1z
KSwgR0ZQX0tFUk5FTCk7CisJaWYgKCFsbXMpCisJCXJldHVybiAtRU5PTUVNOworCWxtcy0+ZGV2
ID0gZGV2OworCisJLyoKKwkgKiBWQ0kgICBpcyB0aGUgYW5hbG9nIHZvbHRhZ2Ugc3VwcGx5CisJ
ICogVkNDSU8gaXMgdGhlIGRpZ2l0YWwgSS9PIHZvbHRhZ2Ugc3VwcGx5CisJICovCisJbG1zLT5y
ZWd1bGF0b3JzWzBdLnN1cHBseSA9ICJ2Y2kiOworCWxtcy0+cmVndWxhdG9yc1sxXS5zdXBwbHkg
PSAidmNjaW8iOworCXJldCA9IGRldm1fcmVndWxhdG9yX2J1bGtfZ2V0KGRldiwKKwkJCQkgICAg
ICBBUlJBWV9TSVpFKGxtcy0+cmVndWxhdG9ycyksCisJCQkJICAgICAgbG1zLT5yZWd1bGF0b3Jz
KTsKKwlpZiAocmV0KQorCQlyZXR1cm4gZGV2X2Vycl9wcm9iZShkZXYsIHJldCwgImZhaWxlZCB0
byBnZXQgcmVndWxhdG9yc1xuIik7CisKKwkvKiBUaGlzIGFzc2VydHMgdGhlIFJFU0VUIHNpZ25h
bCwgcHV0dGluZyB0aGUgZGlzcGxheSBpbnRvIHJlc2V0ICovCisJbG1zLT5yZXNldCA9IGRldm1f
Z3Bpb2RfZ2V0KGRldiwgInJlc2V0IiwgR1BJT0RfT1VUX0hJR0gpOworCWlmIChJU19FUlIobG1z
LT5yZXNldCkpIHsKKwkJZGV2X2VycihkZXYsICJubyBSRVNFVCBHUElPXG4iKTsKKwkJcmV0dXJu
IC1FTk9ERVY7CisJfQorCisJc3BpLT5iaXRzX3Blcl93b3JkID0gOTsKKwkvKiBQcmVzZXJ2ZSBl
LmcuIFNQSV8zV0lSRSBzZXR0aW5nICovCisJc3BpLT5tb2RlIHw9IFNQSV9NT0RFXzM7CisJcmV0
ID0gc3BpX3NldHVwKHNwaSk7CisJaWYgKHJldCA8IDApIHsKKwkJZGV2X2VycihkZXYsICJzcGkg
c2V0dXAgZmFpbGVkLlxuIik7CisJCXJldHVybiByZXQ7CisJfQorCWxtcy0+c3BpID0gc3BpOwor
CisJZHJtX3BhbmVsX2luaXQoJmxtcy0+cGFuZWwsIGRldiwgJmxtczM5N2tmMDRfZHJtX2Z1bmNz
LAorCQkgICAgICAgRFJNX01PREVfQ09OTkVDVE9SX0RQSSk7CisKKwkvKiBGSVhNRTogaWYgbm8g
ZXh0ZXJuYWwgYmFja2xpZ2h0LCB1c2UgaW50ZXJuYWwgYmFja2xpZ2h0ICovCisJcmV0ID0gZHJt
X3BhbmVsX29mX2JhY2tsaWdodCgmbG1zLT5wYW5lbCk7CisJaWYgKHJldCkgeworCQlkZXZfaW5m
byhkZXYsICJmYWlsZWQgdG8gYWRkIGJhY2tsaWdodFxuIik7CisJCXJldHVybiByZXQ7CisJfQor
CisJc3BpX3NldF9kcnZkYXRhKHNwaSwgbG1zKTsKKworCWRybV9wYW5lbF9hZGQoJmxtcy0+cGFu
ZWwpOworCWRldl9pbmZvKGRldiwgImFkZGVkIHBhbmVsXG4iKTsKKworCXJldHVybiAwOworfQor
CitzdGF0aWMgaW50IGxtczM5N2tmMDRfcmVtb3ZlKHN0cnVjdCBzcGlfZGV2aWNlICpzcGkpCit7
CisJc3RydWN0IGxtczM5N2tmMDQgKmxtcyA9IHNwaV9nZXRfZHJ2ZGF0YShzcGkpOworCisJZHJt
X3BhbmVsX3JlbW92ZSgmbG1zLT5wYW5lbCk7CisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyBjb25z
dCBzdHJ1Y3Qgb2ZfZGV2aWNlX2lkIGxtczM5N2tmMDRfbWF0Y2hbXSA9IHsKKwl7IC5jb21wYXRp
YmxlID0gInNhbXN1bmcsbG1zMzk3a2YwNCIsIH0sCisJe30sCit9OworTU9EVUxFX0RFVklDRV9U
QUJMRShvZiwgbG1zMzk3a2YwNF9tYXRjaCk7CisKK3N0YXRpYyBzdHJ1Y3Qgc3BpX2RyaXZlciBs
bXMzOTdrZjA0X2RyaXZlciA9IHsKKwkucHJvYmUJCT0gbG1zMzk3a2YwNF9wcm9iZSwKKwkucmVt
b3ZlCQk9IGxtczM5N2tmMDRfcmVtb3ZlLAorCS5kcml2ZXIJCT0geworCQkubmFtZQk9ICJsbXMz
OTdrZjA0LXBhbmVsIiwKKwkJLm9mX21hdGNoX3RhYmxlID0gbG1zMzk3a2YwNF9tYXRjaCwKKwl9
LAorfTsKK21vZHVsZV9zcGlfZHJpdmVyKGxtczM5N2tmMDRfZHJpdmVyKTsKKworTU9EVUxFX0FV
VEhPUigiTGludXMgV2FsbGVpaiA8bGludXMud2FsbGVpakBsaW5hcm8ub3JnPiIpOworTU9EVUxF
X0RFU0NSSVBUSU9OKCJTYW1zdW5nIExNUzM5N0tGMDQgcGFuZWwgZHJpdmVyIik7CitNT0RVTEVf
TElDRU5TRSgiR1BMIHYyIik7Ci0tIAoyLjI5LjIKCl9fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxp
c3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFu
L2xpc3RpbmZvL2RyaS1kZXZlbAo=
