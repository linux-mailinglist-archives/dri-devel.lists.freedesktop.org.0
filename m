Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 7DC7C27772
	for <lists+dri-devel@lfdr.de>; Thu, 23 May 2019 09:51:06 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0E62D89CB5;
	Thu, 23 May 2019 07:51:04 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from perceval.ideasonboard.com (perceval.ideasonboard.com
 [IPv6:2001:4b98:dc2:55:216:3eff:fef7:d647])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0410389CB3
 for <dri-devel@lists.freedesktop.org>; Thu, 23 May 2019 07:51:02 +0000 (UTC)
Received: from pendragon.ideasonboard.com (85-76-106-214-nat.elisa-mobile.fi
 [85.76.106.214])
 by perceval.ideasonboard.com (Postfix) with ESMTPSA id 83BEB583;
 Thu, 23 May 2019 09:50:59 +0200 (CEST)
Date: Thu, 23 May 2019 10:50:41 +0300
From: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
To: Torsten Duwe <duwe@lst.de>
Subject: Re: [PATCH 4/6] drm/bridge: Add Analogix anx6345 support
Message-ID: <20190523075041.GC4745@pendragon.ideasonboard.com>
References: <20190523065013.2719D68B05@newverein.lst.de>
 <20190523065356.0734568BFE@newverein.lst.de>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190523065356.0734568BFE@newverein.lst.de>
User-Agent: Mutt/1.10.1 (2018-07-13)
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=ideasonboard.com; s=mail; t=1558597860;
 bh=8DVuL3RjQjj+HbHIVK9L9c04qiqdcwg0ZqlcM2bxiTM=;
 h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
 b=UGcBYuN5kTiA80eV/LPf85+YpO9jkJV5wFPFy918W3ppTNpqnva8JW/ivqj0XVB6o
 11RoTq4dxth5v0Z/psxpepft4ElSSsAJq8hF2XkZS03XAMIBWhNpNigqNUcG5PuggS
 OuTaPns0hmQWn5JlHCStpxXGURoAHWUwVxaV0qCc=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Mark Rutland <mark.rutland@arm.com>, devicetree@vger.kernel.org,
 Maxime Ripard <maxime.ripard@bootlin.com>,
 Greg Kroah-Hartman <gregkh@linuxfoundation.org>, linux-kernel@vger.kernel.org,
 dri-devel@lists.freedesktop.org, Vasily Khoruzhick <anarsoul@gmail.com>,
 David Airlie <airlied@linux.ie>, Chen-Yu Tsai <wens@csie.org>,
 Rob Herring <robh+dt@kernel.org>, Thierry Reding <thierry.reding@gmail.com>,
 Harald Geyer <harald@ccbib.org>, Sean Paul <seanpaul@chromium.org>,
 Thomas Gleixner <tglx@linutronix.de>, linux-arm-kernel@lists.infradead.org,
 Icenowy Zheng <icenowy@aosc.io>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgVG9yc3RlbiwKClRoYW5rIHlvdSBmb3IgdGhlIHBhdGNoLgoKT24gVGh1LCBNYXkgMjMsIDIw
MTkgYXQgMDg6NTM6NTZBTSArMDIwMCwgVG9yc3RlbiBEdXdlIHdyb3RlOgo+IEZyb206IEljZW5v
d3kgWmhlbmcgPGljZW5vd3lAYW9zYy5pbz4KPiAKPiBUaGUgQU5YNjM0NSBpcyBhbiB1bHRyYS1s
b3cgcG93ZXIgRGlzcGxheVBvd2VyL2VEUCB0cmFuc21pdHRlciBkZXNpZ25lZAo+IGZvciBwb3J0
YWJsZSBkZXZpY2VzLiBUaGlzIGRyaXZlciBhZGRzIGluaXRpYWwgc3VwcG9ydCBmb3IgUkdCIHRv
IGVEUAo+IG1vZGUsIHdpdGhvdXQgSFBEIGFuZCBpbnRlcnJ1cHRzLgo+IAo+IFRoaXMgaXMgYSBj
b25maWd1cmF0aW9uIHVzdWFsbHkgc2VlbiBpbiBlRFAgYXBwbGljYXRpb25zLgo+IAo+IFNpZ25l
ZC1vZmYtYnk6IEljZW5vd3kgWmhlbmcgPGljZW5vd3lAYW9zYy5pbz4KPiBTaWduZWQtb2ZmLWJ5
OiBWYXNpbHkgS2hvcnV6aGljayA8YW5hcnNvdWxAZ21haWwuY29tPgo+IFNpZ25lZC1vZmYtYnk6
IFRvcnN0ZW4gRHV3ZSA8ZHV3ZUBzdXNlLmRlPgo+IC0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vYnJp
ZGdlL2FuYWxvZ2l4L0tjb25maWcgICAgICAgICAgICB8ICAxMSArCj4gIGRyaXZlcnMvZ3B1L2Ry
bS9icmlkZ2UvYW5hbG9naXgvTWFrZWZpbGUgICAgICAgICAgIHwgICAxICsKPiAgZHJpdmVycy9n
cHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9hbmFsb2dpeC1hbng2MzQ1LmMgfCA4MDggKysrKysrKysr
KysrKysrKysrKysrCj4gIC4uLi9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9hbmFsb2dpeC1pMmMt
ZHB0eC5jICAgIHwgICAyICstCj4gIC4uLi9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9hbmFsb2dp
eC1pMmMtZHB0eC5oICAgIHwgICA4ICsKPiAgLi4uL2RybS9icmlkZ2UvYW5hbG9naXgvYW5hbG9n
aXgtaTJjLXR4Y29tbW9uLmggICAgfCAgIDMgKwo+ICA2IGZpbGVzIGNoYW5nZWQsIDgzMiBpbnNl
cnRpb25zKCspLCAxIGRlbGV0aW9uKC0pCj4gIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dw
dS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FuYWxvZ2l4LWFueDYzNDUuYwo+IAo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L0tjb25maWcgYi9kcml2ZXJzL2dwdS9k
cm0vYnJpZGdlL2FuYWxvZ2l4L0tjb25maWcKPiBpbmRleCBlZDJkMDVjMTI1NDYuLjNjNmVjNTM1
ZDM2MSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L0tjb25m
aWcKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L0tjb25maWcKPiBAQCAt
MSwzICsxLDE0IEBACj4gICMgU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb25seQo+
ICtjb25maWcgRFJNX0FOQUxPR0lYX0FOWDYzNDUKPiArCXRyaXN0YXRlICJBbmFsb2dpeCBBTlg2
MzQ1IGJyaWRnZSIKPiArCXNlbGVjdCBEUk1fQU5BTE9HSVhfRFBfSTJDCj4gKwlzZWxlY3QgRFJN
X0tNU19IRUxQRVIKPiArCXNlbGVjdCBSRUdNQVBfSTJDCj4gKwloZWxwCj4gKwkgIEFOWDYzNDUg
aXMgYW4gdWx0cmEtbG93IEZ1bGwtSEQgRGlzcGxheVBvcnQvZURQCj4gKwkgIHRyYW5zbWl0dGVy
IGRlc2lnbmVkIGZvciBwb3J0YWJsZSBkZXZpY2VzLiBUaGUKPiArCSAgQU5YNjM0NSB0cmFuc2Zv
cm1zIHRoZSBMVlRUTCBSR0Igb3V0cHV0IG9mIGFuCj4gKwkgIGFwcGxpY2F0aW9uIHByb2Nlc3Nv
ciB0byBlRFAgb3IgRGlzcGxheVBvcnQuCj4gKwo+ICBjb25maWcgRFJNX0FOQUxPR0lYX0FOWDc4
WFgKPiAgCXRyaXN0YXRlICJBbmFsb2dpeCBBTlg3OFhYIGJyaWRnZSIKPiAgCXNlbGVjdCBEUk1f
QU5BTE9HSVhfRFBfSTJDCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5h
bG9naXgvTWFrZWZpbGUgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L01ha2VmaWxl
Cj4gaW5kZXggMmQ1MjNiNjc0ODdkLi4xMmZlZDdiMDRlMWUgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9NYWtlZmlsZQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9icmlkZ2UvYW5hbG9naXgvTWFrZWZpbGUKPiBAQCAtMSw2ICsxLDcgQEAKPiAgIyBTUERYLUxp
Y2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vbmx5Cj4gIGFuYWxvZ2l4X2RwLW9ianMgOj0gYW5h
bG9naXhfZHBfY29yZS5vIGFuYWxvZ2l4X2RwX3JlZy5vCj4gIGFuYWxvZ2l4X2RwX2kyYy1vYmpz
IDo9IGFuYWxvZ2l4LWkyYy1kcHR4Lm8KPiArb2JqLSQoQ09ORklHX0RSTV9BTkFMT0dJWF9BTlg2
MzQ1KSArPSBhbmFsb2dpeC1hbng2MzQ1Lm8KPiAgb2JqLSQoQ09ORklHX0RSTV9BTkFMT0dJWF9B
Tlg3OFhYKSArPSBhbmFsb2dpeC1hbng3OHh4Lm8KPiAgb2JqLSQoQ09ORklHX0RSTV9BTkFMT0dJ
WF9EUCkgKz0gYW5hbG9naXhfZHAubwo+ICBvYmotJChDT05GSUdfRFJNX0FOQUxPR0lYX0RQX0ky
QykgKz0gYW5hbG9naXhfZHBfaTJjLm8KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2Jy
aWRnZS9hbmFsb2dpeC9hbmFsb2dpeC1hbng2MzQ1LmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdl
L2FuYWxvZ2l4L2FuYWxvZ2l4LWFueDYzNDUuYwo+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0Cj4gaW5k
ZXggMDAwMDAwMDAwMDAwLi4zNmYzOGE5ZjA0MmEKPiAtLS0gL2Rldi9udWxsCj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9hbmFsb2dpeC1hbng2MzQ1LmMKPiBAQCAtMCww
ICsxLDgxMCBAQAo+ICsvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMAo+ICsvKgo+
ICsgKiBDb3B5cmlnaHQoYykgSWNlbm93eSBaaGVuZyA8aWNlbm93eUBhb3NjLmlvPgo+ICsgKiBC
YXNlZCBvbiBhbmFsb2dpeC1hbng2MzQ1LmMsIHdoaWNoIGlzOgo+ICsgKiAgIENvcHlyaWdodChj
KSAyMDE2LCBBbmFsb2dpeCBTZW1pY29uZHVjdG9yLgo+ICsgKi8KPiArI2luY2x1ZGUgPGxpbnV4
L2RlbGF5Lmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9lcnIuaD4KPiArI2luY2x1ZGUgPGxpbnV4L2lu
dGVycnVwdC5oPgo+ICsjaW5jbHVkZSA8bGludXgvaTJjLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9r
ZXJuZWwuaD4KPiArI2luY2x1ZGUgPGxpbnV4L21vZHVsZS5oPgo+ICsjaW5jbHVkZSA8bGludXgv
b2ZfcGxhdGZvcm0uaD4KPiArI2luY2x1ZGUgPGxpbnV4L3JlZ21hcC5oPgo+ICsjaW5jbHVkZSA8
bGludXgvdHlwZXMuaD4KPiArI2luY2x1ZGUgPGxpbnV4L2dwaW8vY29uc3VtZXIuaD4KPiArI2lu
Y2x1ZGUgPGxpbnV4L3JlZ3VsYXRvci9jb25zdW1lci5oPgo+ICsKPiArI2luY2x1ZGUgPGRybS9k
cm1fYXRvbWljX2hlbHBlci5oPgo+ICsjaW5jbHVkZSA8ZHJtL2RybV9wcm9iZV9oZWxwZXIuaD4K
PiArI2luY2x1ZGUgPGRybS9kcm1fY3J0Yy5oPgo+ICsjaW5jbHVkZSA8ZHJtL2RybV9jcnRjX2hl
bHBlci5oPgo+ICsjaW5jbHVkZSA8ZHJtL2RybV9kcF9oZWxwZXIuaD4KPiArI2luY2x1ZGUgPGRy
bS9kcm1fZWRpZC5oPgo+ICsjaW5jbHVkZSA8ZHJtL2RybV9vZi5oPgo+ICsjaW5jbHVkZSA8ZHJt
L2RybV9wcmludC5oPgo+ICsjaW5jbHVkZSA8ZHJtL2RybV9wYW5lbC5oPgoKQ291bGQgeW91IHBs
ZWFzZSBzb3J0IHRoZSBpbmNsdWRlcyBhbHBoYWJldGljYWxseSB0byBtYWtlIGl0IGVhc2VyIHRv
CmxvY2F0ZSBkdXBsaWNhdGVzID8KCj4gKwo+ICsjaW5jbHVkZSAiYW5hbG9naXgtaTJjLWRwdHgu
aCIKPiArI2luY2x1ZGUgImFuYWxvZ2l4LWkyYy10eGNvbW1vbi5oIgo+ICsKPiArI2RlZmluZSBJ
MkNfTlVNX0FERFJFU1NFUwkyCj4gKyNkZWZpbmUgSTJDX0lEWF9EUFRYCQkwCj4gKyNkZWZpbmUg
STJDX0lEWF9UWENPTQkJMQo+ICsKPiArI2RlZmluZSBQT0xMX0RFTEFZCQk1MDAwMCAvKiB1cyAq
Lwo+ICsjZGVmaW5lIFBPTExfVElNRU9VVAkJNTAwMDAwMCAvKiB1cyAqLwo+ICsKPiArc3RhdGlj
IGNvbnN0IHU4IGFueDYzNDVfaTJjX2FkZHJlc3Nlc1tdID0gewo+ICsJW0kyQ19JRFhfRFBUWF0J
PSBBTkFMT0dJWF9JMkNfRFBUWCwKPiArCVtJMkNfSURYX1RYQ09NXQk9IEFOQUxPR0lYX0kyQ19U
WENPTU1PTiwKPiArfTsKPiArCj4gK3N0cnVjdCBhbng2MzQ1IHsKPiArCXN0cnVjdCBkcm1fZHBf
YXV4IGF1eDsKPiArCXN0cnVjdCBkcm1fYnJpZGdlIGJyaWRnZTsKPiArCXN0cnVjdCBpMmNfY2xp
ZW50ICpjbGllbnQ7Cj4gKwlzdHJ1Y3QgZWRpZCAqZWRpZDsKPiArCXN0cnVjdCBkcm1fY29ubmVj
dG9yIGNvbm5lY3RvcjsKPiArCXN0cnVjdCBkcm1fZHBfbGluayBsaW5rOwo+ICsJc3RydWN0IGRy
bV9wYW5lbCAqcGFuZWw7Cj4gKwlzdHJ1Y3QgcmVndWxhdG9yICpkdmRkMTI7Cj4gKwlzdHJ1Y3Qg
cmVndWxhdG9yICpkdmRkMjU7Cj4gKwlzdHJ1Y3QgZ3Bpb19kZXNjICpncGlvZF9yZXNldDsKPiAr
CXN0cnVjdCBtdXRleCBsb2NrOwoKUGxlYXNlIGFkZCBhIGNvbW1lbnQgdG8gZXhwbGFpbiB3aGF0
IHRoZSBsb2NrIHByb3RlY3RzLgoKPiArCj4gKwkvKgo+ICsJICogSTJDIFNsYXZlIGFkZHJlc3Nl
cyBvZiBBTlg2MzQ1IGFyZSBtYXBwZWQgYXMgRFBUWCBhbmQgU1lTCj4gKwkgKi8KClRoaXMgY2Fu
IGhvbGQgb24gYSBzaW5nbGUgbGluZSBjb21tZW50LgoKPiArCXN0cnVjdCBpMmNfY2xpZW50ICpp
MmNfY2xpZW50c1tJMkNfTlVNX0FERFJFU1NFU107Cj4gKwlzdHJ1Y3QgcmVnbWFwICptYXBbSTJD
X05VTV9BRERSRVNTRVNdOwo+ICsKPiArCXUxNiBjaGlwaWQ7Cj4gKwl1OCBkcGNkW0RQX1JFQ0VJ
VkVSX0NBUF9TSVpFXTsKPiArCj4gKwlib29sIHBvd2VyZWQ7Cj4gK307Cj4gKwo+ICtzdGF0aWMg
aW5saW5lIHN0cnVjdCBhbng2MzQ1ICpjb25uZWN0b3JfdG9fYW54NjM0NShzdHJ1Y3QgZHJtX2Nv
bm5lY3RvciAqYykKPiArewo+ICsJcmV0dXJuIGNvbnRhaW5lcl9vZihjLCBzdHJ1Y3QgYW54NjM0
NSwgY29ubmVjdG9yKTsKPiArfQo+ICsKPiArc3RhdGljIGlubGluZSBzdHJ1Y3QgYW54NjM0NSAq
YnJpZGdlX3RvX2FueDYzNDUoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSkKPiArewo+ICsJcmV0
dXJuIGNvbnRhaW5lcl9vZihicmlkZ2UsIHN0cnVjdCBhbng2MzQ1LCBicmlkZ2UpOwo+ICt9Cj4g
Kwo+ICtzdGF0aWMgaW50IGFueDYzNDVfc2V0X2JpdHMoc3RydWN0IHJlZ21hcCAqbWFwLCB1OCBy
ZWcsIHU4IG1hc2spCj4gK3sKPiArCXJldHVybiByZWdtYXBfdXBkYXRlX2JpdHMobWFwLCByZWcs
IG1hc2ssIG1hc2spOwo+ICt9Cj4gKwo+ICtzdGF0aWMgaW50IGFueDYzNDVfY2xlYXJfYml0cyhz
dHJ1Y3QgcmVnbWFwICptYXAsIHU4IHJlZywgdTggbWFzaykKPiArewo+ICsJcmV0dXJuIHJlZ21h
cF91cGRhdGVfYml0cyhtYXAsIHJlZywgbWFzaywgMCk7Cj4gK30KPiArCj4gK3N0YXRpYyBzc2l6
ZV90IGFueDYzNDVfYXV4X3RyYW5zZmVyKHN0cnVjdCBkcm1fZHBfYXV4ICphdXgsCj4gKwkJCQkg
ICAgc3RydWN0IGRybV9kcF9hdXhfbXNnICptc2cpCj4gK3sKPiArCXN0cnVjdCBhbng2MzQ1ICph
bng2MzQ1ID0gY29udGFpbmVyX29mKGF1eCwgc3RydWN0IGFueDYzNDUsIGF1eCk7Cj4gKwo+ICsJ
cmV0dXJuIGFueF9hdXhfdHJhbnNmZXIoYW54NjM0NS0+bWFwW0kyQ19JRFhfRFBUWF0sIG1zZyk7
Cj4gK30KPiArCj4gK3N0YXRpYyBpbnQgYW54NjM0NV9kcF9saW5rX3RyYWluaW5nKHN0cnVjdCBh
bng2MzQ1ICphbng2MzQ1KQo+ICt7Cj4gKwl1bnNpZ25lZCBpbnQgdmFsdWU7Cj4gKwl1OCBkcF9i
dzsKPiArCWludCBlcnI7Cj4gKwo+ICsJZXJyID0gYW54NjM0NV9jbGVhcl9iaXRzKGFueDYzNDUt
Pm1hcFtJMkNfSURYX1RYQ09NXSwKPiArCQkJCSBTUF9QT1dFUkRPV05fQ1RSTF9SRUcsCj4gKwkJ
CQkgU1BfVE9UQUxfUEQpOwo+ICsJaWYgKGVycikKPiArCQlyZXR1cm4gZXJyOwo+ICsKPiArCWVy
ciA9IGRybV9kcF9kcGNkX3JlYWRiKCZhbng2MzQ1LT5hdXgsIERQX01BWF9MSU5LX1JBVEUsICZk
cF9idyk7Cj4gKwlpZiAoZXJyIDwgMCkKPiArCQlyZXR1cm4gZXJyOwo+ICsKPiArCXN3aXRjaCAo
ZHBfYncpIHsKPiArCWNhc2UgRFBfTElOS19CV18xXzYyOgo+ICsJY2FzZSBEUF9MSU5LX0JXXzJf
NzoKPiArCQlicmVhazsKPiArCj4gKwlkZWZhdWx0Ogo+ICsJCURSTV9ERUJVR19LTVMoIkRQIGJh
bmR3aWR0aCAoJSMwMngpIG5vdCBzdXBwb3J0ZWRcbiIsIGRwX2J3KTsKPiArCQlyZXR1cm4gLUVJ
TlZBTDsKPiArCX0KPiArCj4gKwllcnIgPSBhbng2MzQ1X3NldF9iaXRzKGFueDYzNDUtPm1hcFtJ
MkNfSURYX1RYQ09NXSwgU1BfVklEX0NUUkwxX1JFRywKPiArCQkJICAgICAgIFNQX1ZJREVPX01V
VEUpOwo+ICsJaWYgKGVycikKPiArCQlyZXR1cm4gZXJyOwo+ICsKPiArCWVyciA9IGFueDYzNDVf
Y2xlYXJfYml0cyhhbng2MzQ1LT5tYXBbSTJDX0lEWF9UWENPTV0sCj4gKwkJCQkgU1BfVklEX0NU
UkwxX1JFRywgU1BfVklERU9fRU4pOwo+ICsJaWYgKGVycikKPiArCQlyZXR1cm4gZXJyOwo+ICsK
PiArCS8qIEdldCBEUENEIGluZm8gKi8KPiArCWVyciA9IGRybV9kcF9kcGNkX3JlYWQoJmFueDYz
NDUtPmF1eCwgRFBfRFBDRF9SRVYsCj4gKwkJCSAgICAgICAmYW54NjM0NS0+ZHBjZCwgRFBfUkVD
RUlWRVJfQ0FQX1NJWkUpOwo+ICsJaWYgKGVyciA8IDApIHsKPiArCQlEUk1fRVJST1IoIkZhaWxl
ZCB0byByZWFkIERQQ0Q6ICVkXG4iLCBlcnIpOwo+ICsJCXJldHVybiBlcnI7Cj4gKwl9Cj4gKwo+
ICsJLyogQ2xlYXIgY2hhbm5lbCB4IFNFUkRFUyBwb3dlciBkb3duICovCj4gKwllcnIgPSBhbng2
MzQ1X2NsZWFyX2JpdHMoYW54NjM0NS0+bWFwW0kyQ19JRFhfRFBUWF0sCj4gKwkJCQkgU1BfRFBf
QU5BTE9HX1BPV0VSX0RPV05fUkVHLCBTUF9DSDBfUEQpOwo+ICsJaWYgKGVycikKPiArCQlyZXR1
cm4gZXJyOwo+ICsKPiArCS8qIENoZWNrIGxpbmsgY2FwYWJpbGl0aWVzICovCj4gKwllcnIgPSBk
cm1fZHBfbGlua19wcm9iZSgmYW54NjM0NS0+YXV4LCAmYW54NjM0NS0+bGluayk7Cj4gKwlpZiAo
ZXJyIDwgMCkgewo+ICsJCURSTV9FUlJPUigiRmFpbGVkIHRvIHByb2JlIGxpbmsgY2FwYWJpbGl0
aWVzOiAlZFxuIiwgZXJyKTsKPiArCQlyZXR1cm4gZXJyOwo+ICsJfQo+ICsKPiArCS8qIFBvd2Vy
IHVwIHRoZSBzaW5rICovCj4gKwllcnIgPSBkcm1fZHBfbGlua19wb3dlcl91cCgmYW54NjM0NS0+
YXV4LCAmYW54NjM0NS0+bGluayk7Cj4gKwlpZiAoZXJyIDwgMCkgewo+ICsJCURSTV9FUlJPUigi
RmFpbGVkIHRvIHBvd2VyIHVwIERpc3BsYXlQb3J0IGxpbms6ICVkXG4iLCBlcnIpOwo+ICsJCXJl
dHVybiBlcnI7Cj4gKwl9Cj4gKwo+ICsJLyogUG9zc2libHkgZW5hYmxlIGRvd25zcHJlYWQgb24g
dGhlIHNpbmsgKi8KPiArCWVyciA9IHJlZ21hcF93cml0ZShhbng2MzQ1LT5tYXBbSTJDX0lEWF9E
UFRYXSwKPiArCQkJICAgU1BfRFBfRE9XTlNQUkVBRF9DVFJMMV9SRUcsIDApOwo+ICsJaWYgKGVy
cikKPiArCQlyZXR1cm4gZXJyOwo+ICsKPiArCWlmIChhbng2MzQ1LT5kcGNkW0RQX01BWF9ET1dO
U1BSRUFEXSAmIERQX01BWF9ET1dOU1BSRUFEXzBfNSkgewo+ICsJCURSTV9ERUJVRygiRW5hYmxl
IGRvd25zcHJlYWQgb24gdGhlIHNpbmtcbiIpOwo+ICsJCS8qIDQwMDBQUE0gKi8KPiArCQllcnIg
PSByZWdtYXBfd3JpdGUoYW54NjM0NS0+bWFwW0kyQ19JRFhfRFBUWF0sCj4gKwkJCQkgICBTUF9E
UF9ET1dOU1BSRUFEX0NUUkwxX1JFRywgOCk7Cj4gKwkJaWYgKGVycikKPiArCQkJcmV0dXJuIGVy
cjsKPiArCj4gKwkJZXJyID0gZHJtX2RwX2RwY2Rfd3JpdGViKCZhbng2MzQ1LT5hdXgsIERQX0RP
V05TUFJFQURfQ1RSTCwKPiArCQkJCQkgRFBfU1BSRUFEX0FNUF8wXzUpOwo+ICsJCWlmIChlcnIg
PCAwKQo+ICsJCQlyZXR1cm4gZXJyOwo+ICsJfSBlbHNlIHsKPiArCQllcnIgPSBkcm1fZHBfZHBj
ZF93cml0ZWIoJmFueDYzNDUtPmF1eCwgRFBfRE9XTlNQUkVBRF9DVFJMLCAwKTsKPiArCQlpZiAo
ZXJyIDwgMCkKPiArCQkJcmV0dXJuIGVycjsKPiArCX0KPiArCj4gKwkvKiBTZXQgdGhlIGxhbmUg
Y291bnQgYW5kIHRoZSBsaW5rIHJhdGUgb24gdGhlIHNpbmsgKi8KPiArCWlmIChkcm1fZHBfZW5o
YW5jZWRfZnJhbWVfY2FwKGFueDYzNDUtPmRwY2QpKQo+ICsJCWVyciA9IGFueDYzNDVfc2V0X2Jp
dHMoYW54NjM0NS0+bWFwW0kyQ19JRFhfRFBUWF0sCj4gKwkJCQkgICAgICAgU1BfRFBfU1lTVEVN
X0NUUkxfQkFTRSArIDQsCj4gKwkJCQkgICAgICAgU1BfRU5IQU5DRURfTU9ERSk7Cj4gKwllbHNl
Cj4gKwkJZXJyID0gYW54NjM0NV9jbGVhcl9iaXRzKGFueDYzNDUtPm1hcFtJMkNfSURYX0RQVFhd
LAo+ICsJCQkJCSBTUF9EUF9TWVNURU1fQ1RSTF9CQVNFICsgNCwKPiArCQkJCQkgU1BfRU5IQU5D
RURfTU9ERSk7Cj4gKwlpZiAoZXJyKQo+ICsJCXJldHVybiBlcnI7Cj4gKwo+ICsJdmFsdWUgPSBk
cm1fZHBfbGlua19yYXRlX3RvX2J3X2NvZGUoYW54NjM0NS0+bGluay5yYXRlKTsKPiArCWVyciA9
IHJlZ21hcF93cml0ZShhbng2MzQ1LT5tYXBbSTJDX0lEWF9EUFRYXSwKPiArCQkJICAgU1BfRFBf
TUFJTl9MSU5LX0JXX1NFVF9SRUcsIHZhbHVlKTsKPiArCWlmIChlcnIpCj4gKwkJcmV0dXJuIGVy
cjsKPiArCj4gKwllcnIgPSByZWdtYXBfd3JpdGUoYW54NjM0NS0+bWFwW0kyQ19JRFhfRFBUWF0s
Cj4gKwkJCSAgIFNQX0RQX0xBTkVfQ09VTlRfU0VUX1JFRywgYW54NjM0NS0+bGluay5udW1fbGFu
ZXMpOwo+ICsJaWYgKGVycikKPiArCQlyZXR1cm4gZXJyOwo+ICsKPiArCWVyciA9IGRybV9kcF9s
aW5rX2NvbmZpZ3VyZSgmYW54NjM0NS0+YXV4LCAmYW54NjM0NS0+bGluayk7Cj4gKwlpZiAoZXJy
IDwgMCkgewo+ICsJCURSTV9FUlJPUigiRmFpbGVkIHRvIGNvbmZpZ3VyZSBEaXNwbGF5UG9ydCBs
aW5rOiAlZFxuIiwgZXJyKTsKPiArCQlyZXR1cm4gZXJyOwo+ICsJfQo+ICsKPiArCS8qIFN0YXJ0
IHRyYWluaW5nIG9uIHRoZSBzb3VyY2UgKi8KPiArCWVyciA9IHJlZ21hcF93cml0ZShhbng2MzQ1
LT5tYXBbSTJDX0lEWF9EUFRYXSwgU1BfRFBfTFRfQ1RSTF9SRUcsCj4gKwkJCSAgIFNQX0xUX0VO
KTsKPiArCWlmIChlcnIpCj4gKwkJcmV0dXJuIGVycjsKPiArCj4gKwllcnIgPSByZWdtYXBfcmVh
ZF9wb2xsX3RpbWVvdXQoYW54NjM0NS0+bWFwW0kyQ19JRFhfRFBUWF0sCj4gKwkJCQkgICAgICAg
U1BfRFBfTFRfQ1RSTF9SRUcsCj4gKwkJCQkgICAgICAgdmFsdWUsICEodmFsdWUgJiBTUF9EUF9M
VF9JTlBST0dSRVNTKSwKPiArCQkJCSAgICAgICBQT0xMX0RFTEFZLCBQT0xMX1RJTUVPVVQpOwo+
ICsJaWYgKGVycikKPiArCQlyZXR1cm4gZXJyOwo+ICsKPiArCXJldHVybiAwOwo+ICt9Cj4gKwo+
ICtzdGF0aWMgaW50IGFueDYzNDVfdHhfaW5pdGlhbGl6YXRpb24oc3RydWN0IGFueDYzNDUgKmFu
eDYzNDUpCj4gK3sKPiArCWludCBlcnIsIGk7Cj4gKwo+ICsJLyogRklYTUU6IGhhcmRjb2RlIGNv
bG9yIGRlcHRoIG5vdyAqLwo+ICsJZXJyID0gcmVnbWFwX3dyaXRlKGFueDYzNDUtPm1hcFtJMkNf
SURYX1RYQ09NXSwgU1BfVklEX0NUUkwyX1JFRywKPiArCQkJICAgU1BfSU5fQlBDXzZCSVQgPDwg
U1BfSU5fQlBDX1NISUZUKTsKPiArCWlmIChlcnIpCj4gKwkJcmV0dXJuIGVycjsKPiArCj4gKwll
cnIgPSByZWdtYXBfd3JpdGUoYW54NjM0NS0+bWFwW0kyQ19JRFhfRFBUWF0sIFNQX0RQX1BMTF9D
VFJMX1JFRywgMCk7Cj4gKwlpZiAoZXJyKQo+ICsJCXJldHVybiBlcnI7Cj4gKwo+ICsJZXJyID0g
cmVnbWFwX3dyaXRlKGFueDYzNDUtPm1hcFtJMkNfSURYX1RYQ09NXSwKPiArCQkJICAgU1BfQU5B
TE9HX0RFQlVHMV9SRUcsIDApOwo+ICsJaWYgKGVycikKPiArCQlyZXR1cm4gZXJyOwo+ICsKPiAr
CWVyciA9IHJlZ21hcF93cml0ZShhbng2MzQ1LT5tYXBbSTJDX0lEWF9EUFRYXSwKPiArCQkJICAg
U1BfRFBfTElOS19ERUJVR19DVFJMX1JFRywKPiArCQkJICAgU1BfTkVXX1BSQlM3IHwgU1BfTV9W
SURfREVCVUcpOwo+ICsJaWYgKGVycikKPiArCQlyZXR1cm4gZXJyOwo+ICsKPiArCWVyciA9IHJl
Z21hcF93cml0ZShhbng2MzQ1LT5tYXBbSTJDX0lEWF9EUFRYXSwKPiArCQkJICAgU1BfRFBfQU5B
TE9HX1BPV0VSX0RPV05fUkVHLCAwKTsKPiArCWlmIChlcnIpCj4gKwkJcmV0dXJuIGVycjsKPiAr
Cj4gKwkvKiBGb3JjZSBIUEQgKi8KPiArCWVyciA9IGFueDYzNDVfc2V0X2JpdHMoYW54NjM0NS0+
bWFwW0kyQ19JRFhfRFBUWF0sCj4gKwkJCSAgICAgICBTUF9EUF9TWVNURU1fQ1RSTF9CQVNFICsg
MywKPiArCQkJICAgICAgIFNQX0hQRF9GT1JDRSB8IFNQX0hQRF9DVFJMKTsKPiArCWlmIChlcnIp
Cj4gKwkJcmV0dXJuIGVycjsKPiArCj4gKwlmb3IgKGkgPSAwOyBpIDwgNDsgaSsrKSB7Cj4gKwkJ
LyogNCBsYW5lcyAqLwo+ICsJCWVyciA9IHJlZ21hcF93cml0ZShhbng2MzQ1LT5tYXBbSTJDX0lE
WF9EUFRYXSwKPiArCQkJCSAgIFNQX0RQX0xBTkUwX0xUX0NUUkxfUkVHICsgaSwgMCk7Cj4gKwkJ
aWYgKGVycikKPiArCQkJcmV0dXJuIGVycjsKPiArCX0KPiArCj4gKwkvKiBSZXNldCBBVVggKi8K
PiArCWVyciA9IGFueDYzNDVfc2V0X2JpdHMoYW54NjM0NS0+bWFwW0kyQ19JRFhfVFhDT01dLAo+
ICsJCQkgICAgICAgU1BfUkVTRVRfQ1RSTDJfUkVHLCBTUF9BVVhfUlNUKTsKPiArCWlmIChlcnIp
Cj4gKwkJcmV0dXJuIGVycjsKPiArCj4gKwllcnIgPSBhbng2MzQ1X2NsZWFyX2JpdHMoYW54NjM0
NS0+bWFwW0kyQ19JRFhfVFhDT01dLAo+ICsJCQkJIFNQX1JFU0VUX0NUUkwyX1JFRywgU1BfQVVY
X1JTVCk7Cj4gKwlpZiAoZXJyKQo+ICsJCXJldHVybiBlcnI7Cj4gKwo+ICsJcmV0dXJuIDA7Cj4g
K30KPiArCj4gK3N0YXRpYyB2b2lkIGFueDYzNDVfcG93ZXJvbihzdHJ1Y3QgYW54NjM0NSAqYW54
NjM0NSkKPiArewo+ICsJaW50IGVycjsKPiArCj4gKwkvKiBFbnN1cmUgcmVzZXQgaXMgYXNzZXJ0
ZWQgYmVmb3JlIHN0YXJ0aW5nIHBvd2VyIG9uIHNlcXVlbmNlICovCj4gKwlncGlvZF9zZXRfdmFs
dWVfY2Fuc2xlZXAoYW54NjM0NS0+Z3Bpb2RfcmVzZXQsIDEpOwo+ICsJdXNsZWVwX3JhbmdlKDEw
MDAsIDIwMDApOwo+ICsKPiArCWVyciA9IHJlZ3VsYXRvcl9lbmFibGUoYW54NjM0NS0+ZHZkZDEy
KTsKPiArCWlmIChlcnIpIHsKPiArCQlEUk1fRVJST1IoIkZhaWxlZCB0byBlbmFibGUgRFZERDEy
IHJlZ3VsYXRvcjogJWRcbiIsCj4gKwkJCSAgZXJyKTsKPiArCQlyZXR1cm47Cj4gKwl9Cj4gKwo+
ICsJLyogVDEgLSBkZWxheSBiZXR3ZWVuIFZERDEyIGFuZCBWREQyNSBzaG91bGQgYmUgMC0ybXMg
Ki8KPiArCXVzbGVlcF9yYW5nZSgxMDAwLCAyMDAwKTsKPiArCj4gKwllcnIgPSByZWd1bGF0b3Jf
ZW5hYmxlKGFueDYzNDUtPmR2ZGQyNSk7Cj4gKwlpZiAoZXJyKSB7Cj4gKwkJRFJNX0VSUk9SKCJG
YWlsZWQgdG8gZW5hYmxlIERWREQyNSByZWd1bGF0b3I6ICVkXG4iLAo+ICsJCQkgIGVycik7Cj4g
KwkJcmV0dXJuOwo+ICsJfQo+ICsKPiArCS8qIFQyIC0gZGVsYXkgYmV0d2VlbiBSRVNFVE4gYW5k
IGFsbCBwb3dlciByYWlsIHN0YWJsZSwKPiArCSAqIHNob3VsZCBiZSAyLTVtcwo+ICsJICovCj4g
Kwl1c2xlZXBfcmFuZ2UoMjAwMCwgNTAwMCk7Cj4gKwo+ICsJZ3Bpb2Rfc2V0X3ZhbHVlX2NhbnNs
ZWVwKGFueDYzNDUtPmdwaW9kX3Jlc2V0LCAwKTsKPiArCj4gKwkvKiBQb3dlciBvbiByZWdpc3Rl
cnMgbW9kdWxlICovCj4gKwlhbng2MzQ1X3NldF9iaXRzKGFueDYzNDUtPm1hcFtJMkNfSURYX1RY
Q09NXSwgU1BfUE9XRVJET1dOX0NUUkxfUkVHLAo+ICsJCQkgU1BfSERDUF9QRCB8IFNQX0FVRElP
X1BEIHwgU1BfVklERU9fUEQgfCBTUF9MSU5LX1BEKTsKPiArCWFueDYzNDVfY2xlYXJfYml0cyhh
bng2MzQ1LT5tYXBbSTJDX0lEWF9UWENPTV0sIFNQX1BPV0VSRE9XTl9DVFJMX1JFRywKPiArCQkJ
ICAgU1BfUkVHSVNURVJfUEQgfCBTUF9UT1RBTF9QRCk7Cj4gKwo+ICsJaWYgKGFueDYzNDUtPnBh
bmVsKQo+ICsJCWRybV9wYW5lbF9wcmVwYXJlKGFueDYzNDUtPnBhbmVsKTsKPiArCj4gKwlhbng2
MzQ1LT5wb3dlcmVkID0gdHJ1ZTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgYW54NjM0NV9wb3dl
cm9mZihzdHJ1Y3QgYW54NjM0NSAqYW54NjM0NSkKPiArewo+ICsJaW50IGVycjsKPiArCj4gKwln
cGlvZF9zZXRfdmFsdWVfY2Fuc2xlZXAoYW54NjM0NS0+Z3Bpb2RfcmVzZXQsIDEpOwo+ICsJdXNs
ZWVwX3JhbmdlKDEwMDAsIDIwMDApOwo+ICsKPiArCWlmIChhbng2MzQ1LT5wYW5lbCkKPiArCQlk
cm1fcGFuZWxfdW5wcmVwYXJlKGFueDYzNDUtPnBhbmVsKTsKPiArCj4gKwllcnIgPSByZWd1bGF0
b3JfZGlzYWJsZShhbng2MzQ1LT5kdmRkMjUpOwo+ICsJaWYgKGVycikgewo+ICsJCURSTV9FUlJP
UigiRmFpbGVkIHRvIGRpc2FibGUgRFZERDI1IHJlZ3VsYXRvcjogJWRcbiIsCj4gKwkJCSAgZXJy
KTsKPiArCQlyZXR1cm47Cj4gKwl9Cj4gKwo+ICsJdXNsZWVwX3JhbmdlKDUwMDAsIDEwMDAwKTsK
PiArCj4gKwllcnIgPSByZWd1bGF0b3JfZGlzYWJsZShhbng2MzQ1LT5kdmRkMTIpOwo+ICsJaWYg
KGVycikgewo+ICsJCURSTV9FUlJPUigiRmFpbGVkIHRvIGRpc2FibGUgRFZERDEyIHJlZ3VsYXRv
cjogJWRcbiIsCj4gKwkJCSAgZXJyKTsKPiArCQlyZXR1cm47Cj4gKwl9Cj4gKwo+ICsJdXNsZWVw
X3JhbmdlKDEwMDAsIDIwMDApOwo+ICsKPiArCWFueDYzNDUtPnBvd2VyZWQgPSBmYWxzZTsKPiAr
fQo+ICsKPiArc3RhdGljIGludCBhbng2MzQ1X3N0YXJ0KHN0cnVjdCBhbng2MzQ1ICphbng2MzQ1
KQo+ICt7Cj4gKwlpbnQgZXJyOwo+ICsKPiArCWlmICghYW54NjM0NS0+cG93ZXJlZCkKPiArCQlh
bng2MzQ1X3Bvd2Vyb24oYW54NjM0NSk7Cj4gKwo+ICsJLyogUG93ZXIgb24gbmVlZGVkIG1vZHVs
ZXMgKi8KPiArCWVyciA9IGFueDYzNDVfY2xlYXJfYml0cyhhbng2MzQ1LT5tYXBbSTJDX0lEWF9U
WENPTV0sCj4gKwkJCQlTUF9QT1dFUkRPV05fQ1RSTF9SRUcsCj4gKwkJCQlTUF9WSURFT19QRCB8
IFNQX0xJTktfUEQpOwo+ICsKPiArCWVyciA9IGFueDYzNDVfdHhfaW5pdGlhbGl6YXRpb24oYW54
NjM0NSk7Cj4gKwlpZiAoZXJyKSB7Cj4gKwkJRFJNX0VSUk9SKCJGYWlsZWQgRGlzcGxheVBvcnQg
dHJhbnNtaXR0ZXIgaW5pdGlhbGl6YXRpb246ICVkXG4iLCBlcnIpOwo+ICsJCWFueDYzNDVfcG93
ZXJvZmYoYW54NjM0NSk7Cj4gKwkJcmV0dXJuIGVycjsKPiArCX0KPiArCj4gKwllcnIgPSBhbng2
MzQ1X2RwX2xpbmtfdHJhaW5pbmcoYW54NjM0NSk7Cj4gKwlpZiAoZXJyKSB7Cj4gKwkJRFJNX0VS
Uk9SKCJGYWlsZWQgbGluayB0cmFpbmluZzogJWRcbiIsIGVycik7Cj4gKwkJYW54NjM0NV9wb3dl
cm9mZihhbng2MzQ1KTsKPiArCQlyZXR1cm4gZXJyOwo+ICsJfQo+ICsKPiArCS8qCj4gKwkgKiBU
aGlzIGRlbGF5IHNlZW1zIHRvIGhlbHAga2VlcCB0aGUgaGFyZHdhcmUgaW4gYSBnb29kIHN0YXRl
LiBXaXRob3V0Cj4gKwkgKiBpdCwgdGhlcmUgYXJlIHRpbWVzIHdoZXJlIGl0IGZhaWxzIHNpbGVu
dGx5Lgo+ICsJICovCj4gKwl1c2xlZXBfcmFuZ2UoMTAwMDAsIDE1MDAwKTsKPiArCj4gKwlyZXR1
cm4gMDsKPiArfQo+ICsKPiArc3RhdGljIGludCBhbng2MzQ1X2NvbmZpZ19kcF9vdXRwdXQoc3Ry
dWN0IGFueDYzNDUgKmFueDYzNDUpCj4gK3sKPiArCWludCBlcnI7Cj4gKwo+ICsJZXJyID0gYW54
NjM0NV9jbGVhcl9iaXRzKGFueDYzNDUtPm1hcFtJMkNfSURYX1RYQ09NXSwgU1BfVklEX0NUUkwx
X1JFRywKPiArCQkJCSBTUF9WSURFT19NVVRFKTsKPiArCWlmIChlcnIpCj4gKwkJcmV0dXJuIGVy
cjsKPiArCj4gKwkvKiBFbmFibGUgRFAgb3V0cHV0ICovCj4gKwllcnIgPSBhbng2MzQ1X3NldF9i
aXRzKGFueDYzNDUtPm1hcFtJMkNfSURYX1RYQ09NXSwgU1BfVklEX0NUUkwxX1JFRywKPiArCQkJ
ICAgICAgIFNQX1ZJREVPX0VOKTsKPiArCWlmIChlcnIpCj4gKwkJcmV0dXJuIGVycjsKPiArCj4g
KwkvKiBGb3JjZSBzdHJlYW0gdmFsaWQgKi8KPiArCWVyciA9IGFueDYzNDVfc2V0X2JpdHMoYW54
NjM0NS0+bWFwW0kyQ19JRFhfRFBUWF0sCj4gKwkJCSAgICAgICBTUF9EUF9TWVNURU1fQ1RSTF9C
QVNFICsgMywKPiArCQkJICAgICAgIFNQX1NUUk1fRk9SQ0UgfCBTUF9TVFJNX0NUUkwpOwo+ICsJ
aWYgKGVycikKPiArCQlyZXR1cm4gZXJyOwo+ICsKPiArCXJldHVybiAwOwo+ICt9Cj4gKwo+ICtz
dGF0aWMgaW50IGFueDYzNDVfZ2V0X2Rvd25zdHJlYW1faW5mbyhzdHJ1Y3QgYW54NjM0NSAqYW54
NjM0NSkKPiArewo+ICsJdTggdmFsdWU7Cj4gKwlpbnQgZXJyOwo+ICsKPiArCWVyciA9IGRybV9k
cF9kcGNkX3JlYWRiKCZhbng2MzQ1LT5hdXgsIERQX1NJTktfQ09VTlQsICZ2YWx1ZSk7Cj4gKwlp
ZiAoZXJyIDwgMCkgewo+ICsJCURSTV9FUlJPUigiR2V0IHNpbmsgY291bnQgZmFpbGVkICVkXG4i
LCBlcnIpOwo+ICsJCXJldHVybiBlcnI7Cj4gKwl9Cj4gKwo+ICsJaWYgKCFEUF9HRVRfU0lOS19D
T1VOVCh2YWx1ZSkpIHsKPiArCQlEUk1fRVJST1IoIkRvd25zdHJlYW0gZGlzY29ubmVjdGVkXG4i
KTsKPiArCQlyZXR1cm4gLUVJTzsKPiArCX0KPiArCj4gKwlyZXR1cm4gMDsKPiArfQo+ICsKPiAr
c3RhdGljIGludCBhbng2MzQ1X2dldF9tb2RlcyhzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVj
dG9yKQo+ICt7Cj4gKwlzdHJ1Y3QgYW54NjM0NSAqYW54NjM0NSA9IGNvbm5lY3Rvcl90b19hbng2
MzQ1KGNvbm5lY3Rvcik7Cj4gKwlpbnQgZXJyLCBudW1fbW9kZXMgPSAwOwo+ICsJYm9vbCBwb3dl
cl9vZmYgPSBmYWxzZTsKPiArCj4gKwltdXRleF9sb2NrKCZhbng2MzQ1LT5sb2NrKTsKPiArCj4g
KwlpZiAoIWFueDYzNDUtPmVkaWQpIHsKCkNvdWxkIHRoZSBjaGlwIGJlIHVzZWQgd2l0aCBhIGhv
dC1wbHVnZ2FibGUgZGlzcGxheSwgb3IgaXMgaXQgZ3VhcmFudGVlZAp0aGF0IEVESUQgd2lsbCBu
ZXZlciBjaGFuZ2UgPwoKPiArCQlpZiAoIWFueDYzNDUtPnBvd2VyZWQpIHsKPiArCQkJYW54NjM0
NV9wb3dlcm9uKGFueDYzNDUpOwo+ICsJCQlwb3dlcl9vZmYgPSB0cnVlOwo+ICsJCX0KPiArCj4g
KwkJZXJyID0gYW54NjM0NV9nZXRfZG93bnN0cmVhbV9pbmZvKGFueDYzNDUpOwo+ICsJCWlmIChl
cnIpIHsKPiArCQkJRFJNX0VSUk9SKCJGYWlsZWQgdG8gZ2V0IGRvd25zdHJlYW0gaW5mbzogJWRc
biIsIGVycik7Cj4gKwkJCWdvdG8gdW5sb2NrOwo+ICsJCX0KPiArCj4gKwkJYW54NjM0NS0+ZWRp
ZCA9IGRybV9nZXRfZWRpZChjb25uZWN0b3IsICZhbng2MzQ1LT5hdXguZGRjKTsKPiArCQlpZiAo
IWFueDYzNDUtPmVkaWQpCj4gKwkJCURSTV9FUlJPUigiRmFpbGVkIHRvIHJlYWQgRURJRCBmcm9t
IHBhbmVsXG4iKTsKPiArCj4gKwkJZXJyID0gZHJtX2Nvbm5lY3Rvcl91cGRhdGVfZWRpZF9wcm9w
ZXJ0eShjb25uZWN0b3IsCj4gKwkJCQkJCQkgYW54NjM0NS0+ZWRpZCk7Cj4gKwkJaWYgKGVycikg
ewo+ICsJCQlEUk1fRVJST1IoIkZhaWxlZCB0byB1cGRhdGUgRURJRCBwcm9wZXJ0eTogJWRcbiIs
IGVycik7Cj4gKwkJCWdvdG8gdW5sb2NrOwo+ICsJCX0KPiArCX0KPiArCj4gKwludW1fbW9kZXMg
Kz0gZHJtX2FkZF9lZGlkX21vZGVzKGNvbm5lY3RvciwgYW54NjM0NS0+ZWRpZCk7Cj4gKwo+ICt1
bmxvY2s6Cj4gKwlpZiAocG93ZXJfb2ZmKQo+ICsJCWFueDYzNDVfcG93ZXJvZmYoYW54NjM0NSk7
Cj4gKwo+ICsJbXV0ZXhfdW5sb2NrKCZhbng2MzQ1LT5sb2NrKTsKPiArCj4gKwlpZiAoIW51bV9t
b2RlcyAmJiBhbng2MzQ1LT5wYW5lbCkKPiArCQludW1fbW9kZXMgKz0gZHJtX3BhbmVsX2dldF9t
b2Rlcyhhbng2MzQ1LT5wYW5lbCk7Cj4gKwo+ICsJcmV0dXJuIG51bV9tb2RlczsKPiArfQo+ICsK
PiArc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fY29ubmVjdG9yX2hlbHBlcl9mdW5jcyBhbng2MzQ1
X2Nvbm5lY3Rvcl9oZWxwZXJfZnVuY3MgPSB7Cj4gKwkuZ2V0X21vZGVzID0gYW54NjM0NV9nZXRf
bW9kZXMsCj4gK307Cj4gKwo+ICtzdGF0aWMgdm9pZAo+ICthbng2MzQ1X2Nvbm5lY3Rvcl9kZXN0
cm95KHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCj4gK3sKPiArCXN0cnVjdCBhbng2
MzQ1ICphbng2MzQ1ID0gY29ubmVjdG9yX3RvX2FueDYzNDUoY29ubmVjdG9yKTsKPiArCj4gKwlp
ZiAoYW54NjM0NS0+cGFuZWwpCj4gKwkJZHJtX3BhbmVsX2RldGFjaChhbng2MzQ1LT5wYW5lbCk7
Cj4gKwlkcm1fY29ubmVjdG9yX2NsZWFudXAoY29ubmVjdG9yKTsKPiArfQo+ICsKPiArc3RhdGlj
IGNvbnN0IHN0cnVjdCBkcm1fY29ubmVjdG9yX2Z1bmNzIGFueDYzNDVfY29ubmVjdG9yX2Z1bmNz
ID0gewo+ICsJLmZpbGxfbW9kZXMgPSBkcm1faGVscGVyX3Byb2JlX3NpbmdsZV9jb25uZWN0b3Jf
bW9kZXMsCj4gKwkuZGVzdHJveSA9IGFueDYzNDVfY29ubmVjdG9yX2Rlc3Ryb3ksCj4gKwkucmVz
ZXQgPSBkcm1fYXRvbWljX2hlbHBlcl9jb25uZWN0b3JfcmVzZXQsCj4gKwkuYXRvbWljX2R1cGxp
Y2F0ZV9zdGF0ZSA9IGRybV9hdG9taWNfaGVscGVyX2Nvbm5lY3Rvcl9kdXBsaWNhdGVfc3RhdGUs
Cj4gKwkuYXRvbWljX2Rlc3Ryb3lfc3RhdGUgPSBkcm1fYXRvbWljX2hlbHBlcl9jb25uZWN0b3Jf
ZGVzdHJveV9zdGF0ZSwKPiArfTsKPiArCj4gK3N0YXRpYyBpbnQgYW54NjM0NV9icmlkZ2VfYXR0
YWNoKHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UpCj4gK3sKPiArCXN0cnVjdCBhbng2MzQ1ICph
bng2MzQ1ID0gYnJpZGdlX3RvX2FueDYzNDUoYnJpZGdlKTsKPiArCWludCBlcnI7Cj4gKwo+ICsJ
aWYgKCFicmlkZ2UtPmVuY29kZXIpIHsKPiArCQlEUk1fRVJST1IoIlBhcmVudCBlbmNvZGVyIG9i
amVjdCBub3QgZm91bmQiKTsKPiArCQlyZXR1cm4gLUVOT0RFVjsKPiArCX0KPiArCj4gKwkvKiBS
ZWdpc3RlciBhdXggY2hhbm5lbCAqLwo+ICsJYW54NjM0NS0+YXV4Lm5hbWUgPSAiRFAtQVVYIjsK
PiArCWFueDYzNDUtPmF1eC5kZXYgPSAmYW54NjM0NS0+Y2xpZW50LT5kZXY7Cj4gKwlhbng2MzQ1
LT5hdXgudHJhbnNmZXIgPSBhbng2MzQ1X2F1eF90cmFuc2ZlcjsKPiArCj4gKwllcnIgPSBkcm1f
ZHBfYXV4X3JlZ2lzdGVyKCZhbng2MzQ1LT5hdXgpOwo+ICsJaWYgKGVyciA8IDApIHsKPiArCQlE
Uk1fRVJST1IoIkZhaWxlZCB0byByZWdpc3RlciBhdXggY2hhbm5lbDogJWRcbiIsIGVycik7Cj4g
KwkJcmV0dXJuIGVycjsKPiArCX0KPiArCj4gKwllcnIgPSBkcm1fY29ubmVjdG9yX2luaXQoYnJp
ZGdlLT5kZXYsICZhbng2MzQ1LT5jb25uZWN0b3IsCj4gKwkJCQkgJmFueDYzNDVfY29ubmVjdG9y
X2Z1bmNzLAo+ICsJCQkJIERSTV9NT0RFX0NPTk5FQ1RPUl9lRFApOwo+ICsJaWYgKGVycikgewo+
ICsJCURSTV9FUlJPUigiRmFpbGVkIHRvIGluaXRpYWxpemUgY29ubmVjdG9yOiAlZFxuIiwgZXJy
KTsKPiArCQlyZXR1cm4gZXJyOwo+ICsJfQo+ICsKPiArCWRybV9jb25uZWN0b3JfaGVscGVyX2Fk
ZCgmYW54NjM0NS0+Y29ubmVjdG9yLAo+ICsJCQkJICZhbng2MzQ1X2Nvbm5lY3Rvcl9oZWxwZXJf
ZnVuY3MpOwo+ICsKPiArCWVyciA9IGRybV9jb25uZWN0b3JfcmVnaXN0ZXIoJmFueDYzNDUtPmNv
bm5lY3Rvcik7Cj4gKwlpZiAoZXJyKSB7Cj4gKwkJRFJNX0VSUk9SKCJGYWlsZWQgdG8gcmVnaXN0
ZXIgY29ubmVjdG9yOiAlZFxuIiwgZXJyKTsKPiArCQlyZXR1cm4gZXJyOwo+ICsJfQo+ICsKPiAr
CWFueDYzNDUtPmNvbm5lY3Rvci5wb2xsZWQgPSBEUk1fQ09OTkVDVE9SX1BPTExfSFBEOwo+ICsK
PiArCWVyciA9IGRybV9jb25uZWN0b3JfYXR0YWNoX2VuY29kZXIoJmFueDYzNDUtPmNvbm5lY3Rv
ciwKPiArCQkJCQkgICBicmlkZ2UtPmVuY29kZXIpOwo+ICsJaWYgKGVycikgewo+ICsJCURSTV9F
UlJPUigiRmFpbGVkIHRvIGxpbmsgdXAgY29ubmVjdG9yIHRvIGVuY29kZXI6ICVkXG4iLCBlcnIp
Owo+ICsJCXJldHVybiBlcnI7Cj4gKwl9Cj4gKwo+ICsJaWYgKGFueDYzNDUtPnBhbmVsKSB7Cj4g
KwkJZXJyID0gZHJtX3BhbmVsX2F0dGFjaChhbng2MzQ1LT5wYW5lbCwgJmFueDYzNDUtPmNvbm5l
Y3Rvcik7Cj4gKwkJaWYgKGVycikgewo+ICsJCQlEUk1fRVJST1IoIkZhaWxlZCB0byBhdHRhY2gg
cGFuZWw6ICVkXG4iLCBlcnIpOwo+ICsJCQlyZXR1cm4gZXJyOwo+ICsJCX0KPiArCX0KPiArCj4g
KwlyZXR1cm4gMDsKPiArfQo+ICsKPiArc3RhdGljIGVudW0gZHJtX21vZGVfc3RhdHVzCj4gK2Fu
eDYzNDVfYnJpZGdlX21vZGVfdmFsaWQoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSwKPiArCQkJ
ICBjb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZSkKPiArewo+ICsJaWYgKG1vZGUt
PmZsYWdzICYgRFJNX01PREVfRkxBR19JTlRFUkxBQ0UpCj4gKwkJcmV0dXJuIE1PREVfTk9fSU5U
RVJMQUNFOwo+ICsKPiArCS8qIE1heCAxMjAwcCBhdCA1LjQgR2h6LCBvbmUgbGFuZSAqLwo+ICsJ
aWYgKG1vZGUtPmNsb2NrID4gMTU0MDAwKQo+ICsJCXJldHVybiBNT0RFX0NMT0NLX0hJR0g7Cj4g
Kwo+ICsJcmV0dXJuIE1PREVfT0s7Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lkIGFueDYzNDVfYnJp
ZGdlX2Rpc2FibGUoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSkKPiArewo+ICsJc3RydWN0IGFu
eDYzNDUgKmFueDYzNDUgPSBicmlkZ2VfdG9fYW54NjM0NShicmlkZ2UpOwo+ICsKPiArCS8qIFBv
d2VyIG9mZiBhbGwgbW9kdWxlcyBleGNlcHQgY29uZmlndXJhdGlvbiByZWdpc3RlcnMgYWNjZXNz
ICovCj4gKwlhbng2MzQ1X3NldF9iaXRzKGFueDYzNDUtPm1hcFtJMkNfSURYX1RYQ09NXSwgU1Bf
UE9XRVJET1dOX0NUUkxfUkVHLAo+ICsJCQkgU1BfSERDUF9QRCB8IFNQX0FVRElPX1BEIHwgU1Bf
VklERU9fUEQgfCBTUF9MSU5LX1BEKTsKPiArCWlmIChhbng2MzQ1LT5wYW5lbCkKPiArCQlkcm1f
cGFuZWxfZGlzYWJsZShhbng2MzQ1LT5wYW5lbCk7CgpIb3cgYWJvdXQgdXNpbmcgdGhlIGRybV9w
YW5lbF9icmlkZ2UgaW5mcmFzdHJ1Y3R1cmUgPyBJdCB3b3VsZCBiZSBlYXNpZXIKdGhhbiBoYW5k
bGluZyB0aGUgcGFuZWwgbWFudWFsbHksIGFzIHRoZSBicmlkZ2UgY29yZSB3aWxsIGRvIGl0IGZv
ciB5b3UuCgo+ICsKPiArCWlmIChhbng2MzQ1LT5wb3dlcmVkKQo+ICsJCWFueDYzNDVfcG93ZXJv
ZmYoYW54NjM0NSk7Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lkIGFueDYzNDVfYnJpZGdlX2VuYWJs
ZShzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlKQo+ICt7Cj4gKwlzdHJ1Y3QgYW54NjM0NSAqYW54
NjM0NSA9IGJyaWRnZV90b19hbng2MzQ1KGJyaWRnZSk7Cj4gKwlpbnQgZXJyOwo+ICsKPiArCWlm
IChhbng2MzQ1LT5wYW5lbCkKPiArCQlkcm1fcGFuZWxfZW5hYmxlKGFueDYzNDUtPnBhbmVsKTsK
PiArCj4gKwllcnIgPSBhbng2MzQ1X3N0YXJ0KGFueDYzNDUpOwo+ICsJaWYgKGVycikgewo+ICsJ
CURSTV9FUlJPUigiRmFpbGVkIHRvIGluaXRpYWxpemU6ICVkXG4iLCBlcnIpOwo+ICsJCXJldHVy
bjsKPiArCX0KPiArCj4gKwllcnIgPSBhbng2MzQ1X2NvbmZpZ19kcF9vdXRwdXQoYW54NjM0NSk7
Cj4gKwlpZiAoZXJyKQo+ICsJCURSTV9FUlJPUigiRmFpbGVkIHRvIGVuYWJsZSBEUCBvdXRwdXQ6
ICVkXG4iLCBlcnIpOwo+ICt9Cj4gKwo+ICtzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9icmlkZ2Vf
ZnVuY3MgYW54NjM0NV9icmlkZ2VfZnVuY3MgPSB7Cj4gKwkuYXR0YWNoID0gYW54NjM0NV9icmlk
Z2VfYXR0YWNoLAo+ICsJLm1vZGVfdmFsaWQgPSBhbng2MzQ1X2JyaWRnZV9tb2RlX3ZhbGlkLAo+
ICsJLmRpc2FibGUgPSBhbng2MzQ1X2JyaWRnZV9kaXNhYmxlLAo+ICsJLmVuYWJsZSA9IGFueDYz
NDVfYnJpZGdlX2VuYWJsZSwKPiArfTsKPiArCj4gK3N0YXRpYyB2b2lkIHVucmVnaXN0ZXJfaTJj
X2R1bW15X2NsaWVudHMoc3RydWN0IGFueDYzNDUgKmFueDYzNDUpCj4gK3sKPiArCXVuc2lnbmVk
IGludCBpOwo+ICsKPiArCWZvciAoaSA9IDE7IGkgPCBBUlJBWV9TSVpFKGFueDYzNDUtPmkyY19j
bGllbnRzKTsgaSsrKQo+ICsJCWlmIChhbng2MzQ1LT5pMmNfY2xpZW50c1tpXSAmJgo+ICsJCSAg
ICBhbng2MzQ1LT5pMmNfY2xpZW50c1tpXS0+YWRkciAhPSBhbng2MzQ1LT5jbGllbnQtPmFkZHIp
Cj4gKwkJCWkyY191bnJlZ2lzdGVyX2RldmljZShhbng2MzQ1LT5pMmNfY2xpZW50c1tpXSk7Cj4g
K30KPiArCj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3QgcmVnbWFwX2NvbmZpZyBhbng2MzQ1X3JlZ21h
cF9jb25maWcgPSB7Cj4gKwkucmVnX2JpdHMgPSA4LAo+ICsJLnZhbF9iaXRzID0gOCwKPiArCS5t
YXhfcmVnaXN0ZXIgPSAweGZmLAo+ICsJLmNhY2hlX3R5cGUgPSBSRUdDQUNIRV9OT05FLAo+ICt9
Owo+ICsKPiArc3RhdGljIGNvbnN0IHUxNiBhbng2MzQ1X2NoaXBpZF9saXN0W10gPSB7Cj4gKwkw
eDYzNDUsCj4gK307Cj4gKwo+ICtzdGF0aWMgaW50IGFueDYzNDVfaTJjX3Byb2JlKHN0cnVjdCBp
MmNfY2xpZW50ICpjbGllbnQsCj4gKwkJCSAgICAgY29uc3Qgc3RydWN0IGkyY19kZXZpY2VfaWQg
KmlkKQo+ICt7Cj4gKwlzdHJ1Y3QgYW54NjM0NSAqYW54NjM0NTsKPiArCXN0cnVjdCBkZXZpY2Ug
KmRldjsKPiArCXVuc2lnbmVkIGludCBpLCBpZGwsIGlkaCwgdmVyc2lvbjsKPiArCWJvb2wgZm91
bmQgPSBmYWxzZTsKPiArCWludCBlcnI7Cj4gKwo+ICsJYW54NjM0NSA9IGRldm1fa3phbGxvYygm
Y2xpZW50LT5kZXYsIHNpemVvZigqYW54NjM0NSksIEdGUF9LRVJORUwpOwo+ICsJaWYgKCFhbng2
MzQ1KQo+ICsJCXJldHVybiAtRU5PTUVNOwo+ICsKPiArCW11dGV4X2luaXQoJmFueDYzNDUtPmxv
Y2spOwo+ICsKPiArCWFueDYzNDUtPmJyaWRnZS5vZl9ub2RlID0gY2xpZW50LT5kZXYub2Zfbm9k
ZTsKPiArCj4gKwlhbng2MzQ1LT5jbGllbnQgPSBjbGllbnQ7Cj4gKwlpMmNfc2V0X2NsaWVudGRh
dGEoY2xpZW50LCBhbng2MzQ1KTsKPiArCj4gKwlkZXYgPSAmYW54NjM0NS0+Y2xpZW50LT5kZXY7
Cj4gKwo+ICsJZXJyID0gZHJtX29mX2ZpbmRfcGFuZWxfb3JfYnJpZGdlKGNsaWVudC0+ZGV2Lm9m
X25vZGUsIDEsIDAsCj4gKwkJCQkJICAmYW54NjM0NS0+cGFuZWwsIE5VTEwpOwo+ICsJaWYgKGVy
ciA9PSAtRVBST0JFX0RFRkVSKQo+ICsJCXJldHVybiBlcnI7Cj4gKwo+ICsJaWYgKGVycikKPiAr
CQlEUk1fREVCVUcoIk5vIHBhbmVsIGZvdW5kXG4iKTsKClNob3VsZG4ndCB0aGlzIGJlIGZhdGFs
ID8KCj4gKwo+ICsJLyogMS4yViBkaWdpdGFsIGNvcmUgcG93ZXIgcmVndWxhdG9yICAqLwo+ICsJ
YW54NjM0NS0+ZHZkZDEyID0gZGV2bV9yZWd1bGF0b3JfZ2V0KGRldiwgImR2ZGQxMi1zdXBwbHki
KTsKPiArCWlmIChJU19FUlIoYW54NjM0NS0+ZHZkZDEyKSkgewo+ICsJCURSTV9FUlJPUigiRFZE
RDEyIHJlZ3VsYXRvciBub3QgZm91bmRcbiIpOwo+ICsJCXJldHVybiBQVFJfRVJSKGFueDYzNDUt
PmR2ZGQxMik7Cj4gKwl9Cj4gKwo+ICsJLyogMi41ViBkaWdpdGFsIGNvcmUgcG93ZXIgcmVndWxh
dG9yICAqLwo+ICsJYW54NjM0NS0+ZHZkZDI1ID0gZGV2bV9yZWd1bGF0b3JfZ2V0KGRldiwgImR2
ZGQyNS1zdXBwbHkiKTsKPiArCWlmIChJU19FUlIoYW54NjM0NS0+ZHZkZDI1KSkgewo+ICsJCURS
TV9FUlJPUigiRFZERDI1IHJlZ3VsYXRvciBub3QgZm91bmRcbiIpOwo+ICsJCXJldHVybiBQVFJf
RVJSKGFueDYzNDUtPmR2ZGQyNSk7Cj4gKwl9Cj4gKwo+ICsJLyogR1BJTyBmb3IgY2hpcCByZXNl
dCAqLwo+ICsJYW54NjM0NS0+Z3Bpb2RfcmVzZXQgPSBkZXZtX2dwaW9kX2dldChkZXYsICJyZXNl
dCIsIEdQSU9EX09VVF9MT1cpOwo+ICsJaWYgKElTX0VSUihhbng2MzQ1LT5ncGlvZF9yZXNldCkp
IHsKPiArCQlEUk1fRVJST1IoIlJlc2V0IGdwaW8gbm90IGZvdW5kXG4iKTsKPiArCQlyZXR1cm4g
UFRSX0VSUihhbng2MzQ1LT5ncGlvZF9yZXNldCk7Cj4gKwl9Cj4gKwo+ICsJLyogTWFwIHNsYXZl
IGFkZHJlc3NlcyBvZiBBTlg2MzQ1ICovCj4gKwlmb3IgKGkgPSAwOyBpIDwgSTJDX05VTV9BRERS
RVNTRVM7IGkrKykgewo+ICsJCWlmIChhbng2MzQ1X2kyY19hZGRyZXNzZXNbaV0gPj4gMSAhPSBj
bGllbnQtPmFkZHIpCj4gKwkJCWFueDYzNDUtPmkyY19jbGllbnRzW2ldID0gaTJjX25ld19kdW1t
eShjbGllbnQtPmFkYXB0ZXIsCj4gKwkJCQkJCWFueDYzNDVfaTJjX2FkZHJlc3Nlc1tpXSA+PiAx
KTsKPiArCQllbHNlCj4gKwkJCWFueDYzNDUtPmkyY19jbGllbnRzW2ldID0gY2xpZW50Owo+ICsK
PiArCQlpZiAoIWFueDYzNDUtPmkyY19jbGllbnRzW2ldKSB7Cj4gKwkJCWVyciA9IC1FTk9NRU07
Cj4gKwkJCURSTV9FUlJPUigiRmFpbGVkIHRvIHJlc2VydmUgSTJDIGJ1cyAlMDJ4XG4iLAo+ICsJ
CQkJICBhbng2MzQ1X2kyY19hZGRyZXNzZXNbaV0pOwo+ICsJCQlnb3RvIGVycl91bnJlZ2lzdGVy
X2kyYzsKPiArCQl9Cj4gKwo+ICsJCWFueDYzNDUtPm1hcFtpXSA9IGRldm1fcmVnbWFwX2luaXRf
aTJjKGFueDYzNDUtPmkyY19jbGllbnRzW2ldLAo+ICsJCQkJCQkgICAgICAgJmFueDYzNDVfcmVn
bWFwX2NvbmZpZyk7Cj4gKwkJaWYgKElTX0VSUihhbng2MzQ1LT5tYXBbaV0pKSB7Cj4gKwkJCWVy
ciA9IFBUUl9FUlIoYW54NjM0NS0+bWFwW2ldKTsKPiArCQkJRFJNX0VSUk9SKCJGYWlsZWQgcmVn
bWFwIGluaXRpYWxpemF0aW9uICUwMnhcbiIsCj4gKwkJCQkgIGFueDYzNDVfaTJjX2FkZHJlc3Nl
c1tpXSk7Cj4gKwkJCWdvdG8gZXJyX3VucmVnaXN0ZXJfaTJjOwo+ICsJCX0KPiArCX0KPiArCj4g
KwkvKiBMb29rIGZvciBzdXBwb3J0ZWQgY2hpcCBJRCAqLwo+ICsJYW54NjM0NV9wb3dlcm9uKGFu
eDYzNDUpOwo+ICsKPiArCWVyciA9IHJlZ21hcF9yZWFkKGFueDYzNDUtPm1hcFtJMkNfSURYX1RY
Q09NXSwgU1BfREVWSUNFX0lETF9SRUcsCj4gKwkJCSAgJmlkbCk7Cj4gKwlpZiAoZXJyKQo+ICsJ
CWdvdG8gZXJyX3Bvd2Vyb2ZmOwo+ICsKPiArCWVyciA9IHJlZ21hcF9yZWFkKGFueDYzNDUtPm1h
cFtJMkNfSURYX1RYQ09NXSwgU1BfREVWSUNFX0lESF9SRUcsCj4gKwkJCSAgJmlkaCk7Cj4gKwlp
ZiAoZXJyKQo+ICsJCWdvdG8gZXJyX3Bvd2Vyb2ZmOwo+ICsKPiArCWFueDYzNDUtPmNoaXBpZCA9
ICh1OClpZGwgfCAoKHU4KWlkaCA8PCA4KTsKPiArCj4gKwllcnIgPSByZWdtYXBfcmVhZChhbng2
MzQ1LT5tYXBbSTJDX0lEWF9UWENPTV0sIFNQX0RFVklDRV9WRVJTSU9OX1JFRywKPiArCQkJICAm
dmVyc2lvbik7Cj4gKwlpZiAoZXJyKQo+ICsJCWdvdG8gZXJyX3Bvd2Vyb2ZmOwo+ICsKPiArCWZv
ciAoaSA9IDA7IGkgPCBBUlJBWV9TSVpFKGFueDYzNDVfY2hpcGlkX2xpc3QpOyBpKyspIHsKPiAr
CQlpZiAoYW54NjM0NS0+Y2hpcGlkID09IGFueDYzNDVfY2hpcGlkX2xpc3RbaV0pIHsKPiArCQkJ
RFJNX0lORk8oIkZvdW5kIEFOWCV4ICh2ZXIuICVkKSBlRFAgVHJhbnNtaXR0ZXJcbiIsCj4gKwkJ
CQkgYW54NjM0NS0+Y2hpcGlkLCB2ZXJzaW9uKTsKPiArCQkJZm91bmQgPSB0cnVlOwo+ICsJCQli
cmVhazsKPiArCQl9Cj4gKwl9Cj4gKwo+ICsJaWYgKCFmb3VuZCkgewo+ICsJCURSTV9FUlJPUigi
QU5YJXggKHZlci4gJWQpIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBkcml2ZXJcbiIsCj4gKwkJCSAg
YW54NjM0NS0+Y2hpcGlkLCB2ZXJzaW9uKTsKPiArCQllcnIgPSAtRU5PREVWOwo+ICsJCWdvdG8g
ZXJyX3Bvd2Vyb2ZmOwo+ICsJfQoKSWYgeW91IG1vdmVkIHRoZSBjaGlwIGRldGVjdGlvbiBjb2Rl
IHRvIGEgc2VwYXJhdGUgZnVuY3Rpb24sIHlvdSBjb3VsZAp3cml0ZSB0aGlzCgoJYW54NjM0NV9w
b3dlcm9uKGFueDYzNDUpOwoJcmV0ID0gYW54NjM0NV9kZXRlY3QoYW54NjM0NSk7Cglhbng2MzQ1
X3Bvd2Vyb2ZmKGFueDYzNDUpOwoKCWlmIChyZXQgPCAwKSB7CgkJLi4uCgl9CgphbmQgcmVtb3Zl
IHRoZSBwb3dlciBvZmYgZXJyb3IgbGFiZWwuIFVwIHRvIHlvdS4KCj4gKwo+ICsJYW54NjM0NS0+
YnJpZGdlLmZ1bmNzID0gJmFueDYzNDVfYnJpZGdlX2Z1bmNzOwo+ICsKPiArCWRybV9icmlkZ2Vf
YWRkKCZhbng2MzQ1LT5icmlkZ2UpOwo+ICsKPiArCWFueDYzNDVfcG93ZXJvZmYoYW54NjM0NSk7
Cj4gKwo+ICsJcmV0dXJuIDA7Cj4gKwo+ICtlcnJfcG93ZXJvZmY6Cj4gKwlhbng2MzQ1X3Bvd2Vy
b2ZmKGFueDYzNDUpOwo+ICsKPiArZXJyX3VucmVnaXN0ZXJfaTJjOgo+ICsJdW5yZWdpc3Rlcl9p
MmNfZHVtbXlfY2xpZW50cyhhbng2MzQ1KTsKPiArCXJldHVybiBlcnI7Cj4gK30KPiArCj4gK3N0
YXRpYyBpbnQgYW54NjM0NV9pMmNfcmVtb3ZlKHN0cnVjdCBpMmNfY2xpZW50ICpjbGllbnQpCj4g
K3sKPiArCXN0cnVjdCBhbng2MzQ1ICphbng2MzQ1ID0gaTJjX2dldF9jbGllbnRkYXRhKGNsaWVu
dCk7Cj4gKwo+ICsJZHJtX2JyaWRnZV9yZW1vdmUoJmFueDYzNDUtPmJyaWRnZSk7Cj4gKwo+ICsJ
dW5yZWdpc3Rlcl9pMmNfZHVtbXlfY2xpZW50cyhhbng2MzQ1KTsKPiArCj4gKwlrZnJlZShhbng2
MzQ1LT5lZGlkKTsKCgltdXRleF9jbGVhbnVwKCZhbng2MzQ1LT5sb2NrKTsKCj4gKwo+ICsJcmV0
dXJuIDA7Cj4gK30KPiArCj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3QgaTJjX2RldmljZV9pZCBhbng2
MzQ1X2lkW10gPSB7Cj4gKwl7ICJhbng2MzQ1IiwgMCB9LAo+ICsJeyAvKiBzZW50aW5lbCAqLyB9
Cj4gK307Cj4gK01PRFVMRV9ERVZJQ0VfVEFCTEUoaTJjLCBhbng2MzQ1X2lkKTsKPiArCj4gK3N0
YXRpYyBjb25zdCBzdHJ1Y3Qgb2ZfZGV2aWNlX2lkIGFueDYzNDVfbWF0Y2hfdGFibGVbXSA9IHsK
PiArCXsgLmNvbXBhdGlibGUgPSAiYW5hbG9naXgsYW54NjM0NSIsIH0sCj4gKwl7IC8qIHNlbnRp
bmVsICovIH0sCj4gK307Cj4gK01PRFVMRV9ERVZJQ0VfVEFCTEUob2YsIGFueDYzNDVfbWF0Y2hf
dGFibGUpOwo+ICsKPiArc3RhdGljIHN0cnVjdCBpMmNfZHJpdmVyIGFueDYzNDVfZHJpdmVyID0g
ewo+ICsJLmRyaXZlciA9IHsKPiArCQkgICAubmFtZSA9ICJhbng2MzQ1IiwKPiArCQkgICAub2Zf
bWF0Y2hfdGFibGUgPSBvZl9tYXRjaF9wdHIoYW54NjM0NV9tYXRjaF90YWJsZSksCj4gKwkJICB9
LAo+ICsJLnByb2JlID0gYW54NjM0NV9pMmNfcHJvYmUsCj4gKwkucmVtb3ZlID0gYW54NjM0NV9p
MmNfcmVtb3ZlLAo+ICsJLmlkX3RhYmxlID0gYW54NjM0NV9pZCwKPiArfTsKPiArbW9kdWxlX2ky
Y19kcml2ZXIoYW54NjM0NV9kcml2ZXIpOwo+ICsKPiArTU9EVUxFX0RFU0NSSVBUSU9OKCJBTlg2
MzQ1IGVEUCBUcmFuc21pdHRlciBkcml2ZXIiKTsKPiArTU9EVUxFX0FVVEhPUigiSWNlbm93eSBa
aGVuZyA8aWNlbm93eUBhb3NjLmlvPiIpOwo+ICtNT0RVTEVfTElDRU5TRSgiR1BMIHYyIik7Cj4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9naXgvYW5hbG9naXgtaTJj
LWRwdHguYyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9naXgvYW5hbG9naXgtaTJjLWRw
dHguYwo+IGluZGV4IDljYjMwOTYyMDMyZS4uNTNiMGU3M2Q2YTI0IDEwMDY0NAo+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9naXgvYW5hbG9naXgtaTJjLWRwdHguYwo+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYW5hbG9naXgvYW5hbG9naXgtaTJjLWRwdHguYwo+IEBA
IC0xMTcsNyArMTE3LDcgQEAgc3NpemVfdCBhbnhfYXV4X3RyYW5zZmVyKHN0cnVjdCByZWdtYXAg
Km1hcF9kcHR4LCBzdHJ1Y3QgZHJtX2RwX2F1eF9tc2cgKm1zZykKPiAgCWVsc2UJLyogRm9yIG5v
bi16ZXJvLXNpemVkIHNldCB0aGUgbGVuZ3RoIGZpZWxkLiAqLwo+ICAJCWN0cmwxIHw9IChtc2ct
PnNpemUgLSAxKSA8PCBTUF9BVVhfTEVOR1RIX1NISUZUOwo+ICAKPiAtCWlmICgobXNnLT5yZXF1
ZXN0ICYgRFBfQVVYX0kyQ19SRUFEKSA9PSAwKSB7Cj4gKwlpZiAoKG1zZy0+c2l6ZSA+IDApICYm
ICgobXNnLT5yZXF1ZXN0ICYgRFBfQVVYX0kyQ19SRUFEKSA9PSAwKSkgewo+ICAJCS8qIFdoZW4g
V1JJVEUgfCBNT1Qgd3JpdGUgdmFsdWVzIHRvIGRhdGEgYnVmZmVyICovCj4gIAkJZXJyID0gcmVn
bWFwX2J1bGtfd3JpdGUobWFwX2RwdHgsCj4gIAkJCQkJU1BfRFBfQlVGX0RBVEEwX1JFRywgYnVm
ZmVyLAoKVGhpcyBhbmQgdGhlIGNoYW5nZXMgYmVsb3cgc2hvdWxkIGJlIHNwbGl0IHRvIGEgc2Vw
YXJhdGUgcGF0Y2guCgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxv
Z2l4L2FuYWxvZ2l4LWkyYy1kcHR4LmggYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4
L2FuYWxvZ2l4LWkyYy1kcHR4LmgKPiBpbmRleCBjMmNhODU0NjEzYTAuLmIyOWEwYjNiYzIzYyAx
MDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FuYWxvZ2l4LWky
Yy1kcHR4LmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FuYWxvZ2l4
LWkyYy1kcHR4LmgKPiBAQCAtNzUsNyArNzUsMTEgQEAKPiAgI2RlZmluZSBTUF9DSEFfU1RBCQkJ
QklUKDIpCj4gIC8qIEJpdHMgZm9yIERQIFN5c3RlbSBDb250cm9sIFJlZ2lzdGVyIDMgKi8KPiAg
I2RlZmluZSBTUF9IUERfU1RBVFVTCQkJQklUKDYpCj4gKyNkZWZpbmUgU1BfSFBEX0ZPUkNFCQkJ
QklUKDUpCj4gKyNkZWZpbmUgU1BfSFBEX0NUUkwJCQlCSVQoNCkKPiAgI2RlZmluZSBTUF9TVFJN
X1ZBTElECQkJQklUKDIpCj4gKyNkZWZpbmUgU1BfU1RSTV9GT1JDRQkJCUJJVCgxKQo+ICsjZGVm
aW5lIFNQX1NUUk1fQ1RSTAkJCUJJVCgwKQo+ICAvKiBCaXRzIGZvciBEUCBTeXN0ZW0gQ29udHJv
bCBSZWdpc3RlciA0ICovCj4gICNkZWZpbmUgU1BfRU5IQU5DRURfTU9ERQkJQklUKDMpCj4gIAo+
IEBAIC0xMjAsNiArMTI0LDkgQEAKPiAgI2RlZmluZSBTUF9MSU5LX0JXX1NFVF9NQVNLCQkweDFm
Cj4gICNkZWZpbmUgU1BfSU5JVElBTF9TTElNX01fQVVEX1NFTAlCSVQoNSkKPiAgCj4gKy8qIERQ
IExhbmUgQ291bnQgU2V0dGluZyBSZWdpc3RlciAqLwo+ICsjZGVmaW5lIFNQX0RQX0xBTkVfQ09V
TlRfU0VUX1JFRwkweGExCj4gKwo+ICAvKiBEUCBUcmFpbmluZyBQYXR0ZXJuIFNldCBSZWdpc3Rl
ciAqLwo+ICAjZGVmaW5lIFNQX0RQX1RSQUlOSU5HX1BBVFRFUk5fU0VUX1JFRwkweGEyCj4gIAo+
IEBAIC0xMzMsNiArMTQwLDcgQEAKPiAgCj4gIC8qIERQIExpbmsgVHJhaW5pbmcgQ29udHJvbCBS
ZWdpc3RlciAqLwo+ICAjZGVmaW5lIFNQX0RQX0xUX0NUUkxfUkVHCQkweGE4Cj4gKyNkZWZpbmUg
U1BfRFBfTFRfSU5QUk9HUkVTUwkJMHg4MAo+ICAjZGVmaW5lIFNQX0xUX0VSUk9SX1RZUEVfTUFT
SwkJMHg3MAo+ICAjICBkZWZpbmUgU1BfTFRfTk9fRVJST1IJCTB4MDAKPiAgIyAgZGVmaW5lIFNQ
X0xUX0FVWF9XUklURV9FUlJPUgkJMHgwMQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
YnJpZGdlL2FuYWxvZ2l4L2FuYWxvZ2l4LWkyYy10eGNvbW1vbi5oIGIvZHJpdmVycy9ncHUvZHJt
L2JyaWRnZS9hbmFsb2dpeC9hbmFsb2dpeC1pMmMtdHhjb21tb24uaAo+IGluZGV4IDdkNjgzNTcz
ZTk3MC4uNDgwYzk4YTIyNWIxIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2Uv
YW5hbG9naXgvYW5hbG9naXgtaTJjLXR4Y29tbW9uLmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
YnJpZGdlL2FuYWxvZ2l4L2FuYWxvZ2l4LWkyYy10eGNvbW1vbi5oCj4gQEAgLTE4Myw2ICsxODMs
OSBAQAo+ICAjZGVmaW5lIFNQX1ZCSVQJCQkJQklUKDEpCj4gICNkZWZpbmUgU1BfQVVESU9fTEFZ
T1VUCQkJQklUKDApCj4gIAo+ICsvKiBBbmFsb2cgRGVidWcgUmVnaXN0ZXIgMSAqLwo+ICsjZGVm
aW5lIFNQX0FOQUxPR19ERUJVRzFfUkVHCQkweGRjCj4gKwo+ICAvKiBBbmFsb2cgRGVidWcgUmVn
aXN0ZXIgMiAqLwo+ICAjZGVmaW5lIFNQX0FOQUxPR19ERUJVRzJfUkVHCQkweGRkCj4gICNkZWZp
bmUgU1BfRk9SQ0VfU1dfT0ZGX0JZUEFTUwkJMHgyMAoKLS0gClJlZ2FyZHMsCgpMYXVyZW50IFBp
bmNoYXJ0Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRy
aS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRw
czovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
