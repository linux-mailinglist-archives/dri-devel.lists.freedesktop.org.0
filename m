Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 158B496D5B
	for <lists+dri-devel@lfdr.de>; Wed, 21 Aug 2019 01:21:52 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B8C306E8E3;
	Tue, 20 Aug 2019 23:21:46 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-qk1-x749.google.com (mail-qk1-x749.google.com
 [IPv6:2607:f8b0:4864:20::749])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B49F26E8E3
 for <dri-devel@lists.freedesktop.org>; Tue, 20 Aug 2019 23:21:43 +0000 (UTC)
Received: by mail-qk1-x749.google.com with SMTP id q62so231687qkd.3
 for <dri-devel@lists.freedesktop.org>; Tue, 20 Aug 2019 16:21:43 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:date:in-reply-to:message-id:mime-version
 :references:subject:from:to:cc;
 bh=tkCfSiy4b5qRvmQQFJy8V77mN5PoF0IOrQeRy2ua5uQ=;
 b=LdOO/IsyMWruk3dFwZKJsKPQrIzOChK+QOr0kfof5qW1YQPStReO6cPIfHq9n8Stsn
 6YHGCHW9xT0QbHLiGwov3oxLvpi4sN0p8HdF9vxtWdwhr/WkzKUsYnSpwY4R68fXREZv
 c0Nsuxldan1FnPZld/vVXud+0Qag4M+UUZsoJdYFA5i/VFo+yGrcxKGpqnjz8XMsd5Ov
 ws/Ikjy8Bty0xbwE64Y+8BpwNAQHwX26nTPo1vU3ZwOP1TRYTtOIGqHW+qUdc5ngk5ox
 O81e6qIm2J7m1X0a/1HmNYivWcwNLN1NNyNrQ89p62R9wGku928J2OgTFvID1kVp9Y1V
 wUow==
X-Gm-Message-State: APjAAAVO1+qi6GU2EcDf6lk9OmrHtU2Hm0m2GfhGXv+zvJ/VI8UsIIhN
 8KHfiCjGR86q/VfJ8jRCYONNjY+0Dbhjng8ND42Icw==
X-Google-Smtp-Source: APXvYqyXdT9h6Ykg2jVNk/Jza+Qt0Werwpo3z9jK/nhGy41eGtI+Icc+Ud5zURqLyLnShM/kprj1tanjl8c2OFoLz0TFSw==
X-Received: by 2002:ae9:e313:: with SMTP id v19mr28437688qkf.22.1566343301943; 
 Tue, 20 Aug 2019 16:21:41 -0700 (PDT)
Date: Tue, 20 Aug 2019 16:20:45 -0700
In-Reply-To: <20190820232046.50175-1-brendanhiggins@google.com>
Message-Id: <20190820232046.50175-18-brendanhiggins@google.com>
Mime-Version: 1.0
References: <20190820232046.50175-1-brendanhiggins@google.com>
X-Mailer: git-send-email 2.23.0.rc1.153.gdeed80330f-goog
Subject: [PATCH v14 17/18] kernel/sysctl-test: Add null pointer test for
 sysctl.c:proc_dointvec()
From: Brendan Higgins <brendanhiggins@google.com>
To: frowand.list@gmail.com, gregkh@linuxfoundation.org, jpoimboe@redhat.com, 
 keescook@google.com, kieran.bingham@ideasonboard.com, mcgrof@kernel.org, 
 peterz@infradead.org, robh@kernel.org, sboyd@kernel.org, shuah@kernel.org, 
 tytso@mit.edu, yamada.masahiro@socionext.com
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=google.com; s=20161025;
 h=date:in-reply-to:message-id:mime-version:references:subject:from:to
 :cc;
 bh=tkCfSiy4b5qRvmQQFJy8V77mN5PoF0IOrQeRy2ua5uQ=;
 b=Q/77uMAC1TZsAHqXrxdHlqhl30+jOg1uOthDAQFEp3n4XXeOV6Li20J8huWjE+Nq42
 mlOU3LU63iXRJ1HBtrLtI0omTPtO9XjqS725ZVfmUWEDqS2P0rywnTfOdItmL+kLeEtc
 cBeBAERSRF/biotvG4lP5QTn161Y7B8sDaoIba1OhcO1IF9jWQfBhiswM7oI0TRssC+9
 wdhaqJcwRD5EneR+mIdNHTwZw2xtcp2U7nuRZ6nyo5TD57TQuPkj3me2K6pRTUGEnZIA
 a/wsceq+3BIKUlJd2ow6nFvEF5HpTRQc2R5n2SGHT7zuGIpQZSZxcniykX8rn8AKK4gv
 y29g==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: pmladek@suse.com, linux-doc@vger.kernel.org, amir73il@gmail.com,
 Brendan Higgins <brendanhiggins@google.com>, dri-devel@lists.freedesktop.org,
 Alexander.Levin@microsoft.com, linux-kselftest@vger.kernel.org,
 linux-nvdimm@lists.01.org, khilman@baylibre.com, knut.omang@oracle.com,
 wfg@linux.intel.com, joel@jms.id.au, rientjes@google.com,
 Iurii Zaikin <yzaikin@google.com>, jdike@addtoit.com, dan.carpenter@oracle.com,
 devicetree@vger.kernel.org, linux-kbuild@vger.kernel.org, Tim.Bird@sony.com,
 linux-um@lists.infradead.org, rostedt@goodmis.org, julia.lawall@lip6.fr,
 kunit-dev@googlegroups.com, richard@nod.at, rdunlap@infradead.org,
 linux-kernel@vger.kernel.org, mpe@ellerman.id.au,
 linux-fsdevel@vger.kernel.org, logang@deltatee.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogSXVyaWkgWmFpa2luIDx5emFpa2luQGdvb2dsZS5jb20+CgpLVW5pdCB0ZXN0cyBmb3Ig
aW5pdGlhbGl6ZWQgZGF0YSBiZWhhdmlvciBvZiBwcm9jX2RvaW50dmVjIHRoYXQgaXMKZXhwbGlj
aXRseSBjaGVja2VkIGluIHRoZSBjb2RlLiBJbmNsdWRlcyBiYXNpYyBwYXJzaW5nIHRlc3RzIGlu
Y2x1ZGluZwppbnQgbWluL21heCBvdmVyZmxvdy4KClNpZ25lZC1vZmYtYnk6IEl1cmlpIFphaWtp
biA8eXphaWtpbkBnb29nbGUuY29tPgpTaWduZWQtb2ZmLWJ5OiBCcmVuZGFuIEhpZ2dpbnMgPGJy
ZW5kYW5oaWdnaW5zQGdvb2dsZS5jb20+ClJldmlld2VkLWJ5OiBHcmVnIEtyb2FoLUhhcnRtYW4g
PGdyZWdraEBsaW51eGZvdW5kYXRpb24ub3JnPgpSZXZpZXdlZC1ieTogTG9nYW4gR3VudGhvcnBl
IDxsb2dhbmdAZGVsdGF0ZWUuY29tPgpBY2tlZC1ieTogTHVpcyBDaGFtYmVybGFpbiA8bWNncm9m
QGtlcm5lbC5vcmc+ClJldmlld2VkLWJ5OiBTdGVwaGVuIEJveWQgPHNib3lkQGtlcm5lbC5vcmc+
Ci0tLQoga2VybmVsL01ha2VmaWxlICAgICAgfCAgIDIgKwoga2VybmVsL3N5c2N0bC10ZXN0LmMg
fCAzOTIgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKwogbGliL0tj
b25maWcuZGVidWcgICAgfCAgMTEgKysKIDMgZmlsZXMgY2hhbmdlZCwgNDA1IGluc2VydGlvbnMo
KykKIGNyZWF0ZSBtb2RlIDEwMDY0NCBrZXJuZWwvc3lzY3RsLXRlc3QuYwoKZGlmZiAtLWdpdCBh
L2tlcm5lbC9NYWtlZmlsZSBiL2tlcm5lbC9NYWtlZmlsZQppbmRleCBlZjBkOTVhMTkwYjQxLi42
M2U5ZWE2MTIyYzJjIDEwMDY0NAotLS0gYS9rZXJuZWwvTWFrZWZpbGUKKysrIGIva2VybmVsL01h
a2VmaWxlCkBAIC0xMTMsNiArMTEzLDggQEAgb2JqLSQoQ09ORklHX1RPUlRVUkVfVEVTVCkgKz0g
dG9ydHVyZS5vCiBvYmotJChDT05GSUdfSEFTX0lPTUVNKSArPSBpb21lbS5vCiBvYmotJChDT05G
SUdfUlNFUSkgKz0gcnNlcS5vCiAKK29iai0kKENPTkZJR19TWVNDVExfS1VOSVRfVEVTVCkgKz0g
c3lzY3RsLXRlc3QubworCiBvYmotJChDT05GSUdfR0NDX1BMVUdJTl9TVEFDS0xFQUspICs9IHN0
YWNrbGVhay5vCiBLQVNBTl9TQU5JVElaRV9zdGFja2xlYWsubyA6PSBuCiBLQ09WX0lOU1RSVU1F
TlRfc3RhY2tsZWFrLm8gOj0gbgpkaWZmIC0tZ2l0IGEva2VybmVsL3N5c2N0bC10ZXN0LmMgYi9r
ZXJuZWwvc3lzY3RsLXRlc3QuYwpuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwMDAw
MDAwLi4yYTYzMjQxYTg0NTNiCi0tLSAvZGV2L251bGwKKysrIGIva2VybmVsL3N5c2N0bC10ZXN0
LmMKQEAgLTAsMCArMSwzOTIgQEAKKy8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4w
CisvKgorICogS1VuaXQgdGVzdCBvZiBwcm9jIHN5c2N0bC4KKyAqLworCisjaW5jbHVkZSA8a3Vu
aXQvdGVzdC5oPgorI2luY2x1ZGUgPGxpbnV4L3N5c2N0bC5oPgorCisjZGVmaW5lIEtVTklUX1BS
T0NfUkVBRCAwCisjZGVmaW5lIEtVTklUX1BST0NfV1JJVEUgMQorCitzdGF0aWMgaW50IGlfemVy
bzsKK3N0YXRpYyBpbnQgaV9vbmVfaHVuZHJlZCA9IDEwMDsKKworLyoKKyAqIFRlc3QgdGhhdCBw
cm9jX2RvaW50dmVjIHdpbGwgbm90IHRyeSB0byB1c2UgYSBOVUxMIC5kYXRhIGZpZWxkIGV2ZW4g
d2hlbiB0aGUKKyAqIGxlbmd0aCBpcyBub24temVyby4KKyAqLworc3RhdGljIHZvaWQgc3lzY3Rs
X3Rlc3RfYXBpX2RvaW50dmVjX251bGxfdGJsX2RhdGEoc3RydWN0IGt1bml0ICp0ZXN0KQorewor
CXN0cnVjdCBjdGxfdGFibGUgbnVsbF9kYXRhX3RhYmxlID0geworCQkucHJvY25hbWUgPSAiZm9v
IiwKKwkJLyoKKwkJICogSGVyZSB3ZSBhcmUgdGVzdGluZyB0aGF0IHByb2NfZG9pbnR2ZWMgYmVo
YXZlcyBjb3JyZWN0bHkgd2hlbgorCQkgKiB3ZSBnaXZlIGl0IGEgTlVMTCAuZGF0YSBmaWVsZC4g
Tm9ybWFsbHkgdGhpcyB3b3VsZCBwb2ludCB0byBhCisJCSAqIHBpZWNlIG9mIG1lbW9yeSB3aGVy
ZSB0aGUgdmFsdWUgd291bGQgYmUgc3RvcmVkLgorCQkgKi8KKwkJLmRhdGEJCT0gTlVMTCwKKwkJ
Lm1heGxlbgkJPSBzaXplb2YoaW50KSwKKwkJLm1vZGUJCT0gMDY0NCwKKwkJLnByb2NfaGFuZGxl
cgk9IHByb2NfZG9pbnR2ZWMsCisJCS5leHRyYTEJCT0gJmlfemVybywKKwkJLmV4dHJhMiAgICAg
ICAgID0gJmlfb25lX2h1bmRyZWQsCisJfTsKKwkvKgorCSAqIHByb2NfZG9pbnR2ZWMgZXhwZWN0
cyBhIGJ1ZmZlciBpbiB1c2VyIHNwYWNlLCBzbyB3ZSBhbGxvY2F0ZSBvbmUuIFdlCisJICogYWxz
byBuZWVkIHRvIGNhc3QgaXQgdG8gX191c2VyIHNvIHNwYXJzZSBkb2Vzbid0IGdldCBtYWQuCisJ
ICovCisJdm9pZCBfX3VzZXIgKmJ1ZmZlciA9ICh2b2lkIF9fdXNlciAqKWt1bml0X2t6YWxsb2Mo
dGVzdCwgc2l6ZW9mKGludCksCisJCQkJCQkJICAgR0ZQX1VTRVIpOworCXNpemVfdCBsZW47CisJ
bG9mZl90IHBvczsKKworCS8qCisJICogV2UgZG9uJ3QgY2FyZSB3aGF0IHRoZSBzdGFydGluZyBs
ZW5ndGggaXMgc2luY2UgcHJvY19kb2ludHZlYyBzaG91bGQKKwkgKiBub3QgdHJ5IHRvIHJlYWQg
YmVjYXVzZSAuZGF0YSBpcyBOVUxMLgorCSAqLworCWxlbiA9IDEyMzQ7CisJS1VOSVRfRVhQRUNU
X0VRKHRlc3QsIDAsIHByb2NfZG9pbnR2ZWMoJm51bGxfZGF0YV90YWJsZSwKKwkJCQkJICAgICAg
IEtVTklUX1BST0NfUkVBRCwgYnVmZmVyLCAmbGVuLAorCQkJCQkgICAgICAgJnBvcykpOworCUtV
TklUX0VYUEVDVF9FUSh0ZXN0LCAoc2l6ZV90KTAsIGxlbik7CisKKwkvKgorCSAqIFNlZSBhYm92
ZS4KKwkgKi8KKwlsZW4gPSAxMjM0OworCUtVTklUX0VYUEVDVF9FUSh0ZXN0LCAwLCBwcm9jX2Rv
aW50dmVjKCZudWxsX2RhdGFfdGFibGUsCisJCQkJCSAgICAgICBLVU5JVF9QUk9DX1dSSVRFLCBi
dWZmZXIsICZsZW4sCisJCQkJCSAgICAgICAmcG9zKSk7CisJS1VOSVRfRVhQRUNUX0VRKHRlc3Qs
IChzaXplX3QpMCwgbGVuKTsKK30KKworLyoKKyAqIFNpbWlsYXIgdG8gdGhlIHByZXZpb3VzIHRl
c3QsIHdlIGNyZWF0ZSBhIHN0cnVjdCBjdHJsX3RhYmxlIHRoYXQgaGFzIGEgLmRhdGEKKyAqIGZp
ZWxkIHRoYXQgcHJvY19kb2ludHZlYyBjYW5ub3QgZG8gYW55dGhpbmcgd2l0aDsgaG93ZXZlciwg
dGhpcyB0aW1lIGl0IGlzCisgKiBiZWNhdXNlIHdlIHRlbGwgcHJvY19kb2ludHZlYyB0aGF0IHRo
ZSBzaXplIGlzIDAuCisgKi8KK3N0YXRpYyB2b2lkIHN5c2N0bF90ZXN0X2FwaV9kb2ludHZlY190
YWJsZV9tYXhsZW5fdW5zZXQoc3RydWN0IGt1bml0ICp0ZXN0KQoreworCWludCBkYXRhID0gMDsK
KwlzdHJ1Y3QgY3RsX3RhYmxlIGRhdGFfbWF4bGVuX3Vuc2V0X3RhYmxlID0geworCQkucHJvY25h
bWUgPSAiZm9vIiwKKwkJLmRhdGEJCT0gJmRhdGEsCisJCS8qCisJCSAqIFNvIC5kYXRhIGlzIG5v
IGxvbmdlciBOVUxMLCBidXQgd2UgdGVsbCBwcm9jX2RvaW50dmVjIGl0cworCQkgKiBsZW5ndGgg
aXMgMCwgc28gaXQgc3RpbGwgc2hvdWxkbid0IHRyeSB0byB1c2UgaXQuCisJCSAqLworCQkubWF4
bGVuCQk9IDAsCisJCS5tb2RlCQk9IDA2NDQsCisJCS5wcm9jX2hhbmRsZXIJPSBwcm9jX2RvaW50
dmVjLAorCQkuZXh0cmExCQk9ICZpX3plcm8sCisJCS5leHRyYTIgICAgICAgICA9ICZpX29uZV9o
dW5kcmVkLAorCX07CisJdm9pZCBfX3VzZXIgKmJ1ZmZlciA9ICh2b2lkIF9fdXNlciAqKWt1bml0
X2t6YWxsb2ModGVzdCwgc2l6ZW9mKGludCksCisJCQkJCQkJICAgR0ZQX1VTRVIpOworCXNpemVf
dCBsZW47CisJbG9mZl90IHBvczsKKworCS8qCisJICogQXMgYmVmb3JlLCB3ZSBkb24ndCBjYXJl
IHdoYXQgYnVmZmVyIGxlbmd0aCBpcyBiZWNhdXNlIHByb2NfZG9pbnR2ZWMKKwkgKiBjYW5ub3Qg
ZG8gYW55dGhpbmcgYmVjYXVzZSBpdHMgaW50ZXJuYWwgLmRhdGEgYnVmZmVyIGhhcyB6ZXJvIGxl
bmd0aC4KKwkgKi8KKwlsZW4gPSAxMjM0OworCUtVTklUX0VYUEVDVF9FUSh0ZXN0LCAwLCBwcm9j
X2RvaW50dmVjKCZkYXRhX21heGxlbl91bnNldF90YWJsZSwKKwkJCQkJICAgICAgIEtVTklUX1BS
T0NfUkVBRCwgYnVmZmVyLCAmbGVuLAorCQkJCQkgICAgICAgJnBvcykpOworCUtVTklUX0VYUEVD
VF9FUSh0ZXN0LCAoc2l6ZV90KTAsIGxlbik7CisKKwkvKgorCSAqIFNlZSBwcmV2aW91cyBjb21t
ZW50LgorCSAqLworCWxlbiA9IDEyMzQ7CisJS1VOSVRfRVhQRUNUX0VRKHRlc3QsIDAsIHByb2Nf
ZG9pbnR2ZWMoJmRhdGFfbWF4bGVuX3Vuc2V0X3RhYmxlLAorCQkJCQkgICAgICAgS1VOSVRfUFJP
Q19XUklURSwgYnVmZmVyLCAmbGVuLAorCQkJCQkgICAgICAgJnBvcykpOworCUtVTklUX0VYUEVD
VF9FUSh0ZXN0LCAoc2l6ZV90KTAsIGxlbik7Cit9CisKKy8qCisgKiBIZXJlIHdlIHByb3ZpZGUg
YSB2YWxpZCBzdHJ1Y3QgY3RsX3RhYmxlLCBidXQgd2UgdHJ5IHRvIHJlYWQgYW5kIHdyaXRlIGZy
b20KKyAqIGl0IHVzaW5nIGEgYnVmZmVyIG9mIHplcm8gbGVuZ3RoLCBzbyBpdCBzaG91bGQgc3Rp
bGwgZmFpbCBpbiBhIHNpbWlsYXIgd2F5IGFzCisgKiBiZWZvcmUuCisgKi8KK3N0YXRpYyB2b2lk
IHN5c2N0bF90ZXN0X2FwaV9kb2ludHZlY190YWJsZV9sZW5faXNfemVybyhzdHJ1Y3Qga3VuaXQg
KnRlc3QpCit7CisJaW50IGRhdGEgPSAwOworCS8qIEdvb2QgdGFibGUuICovCisJc3RydWN0IGN0
bF90YWJsZSB0YWJsZSA9IHsKKwkJLnByb2NuYW1lID0gImZvbyIsCisJCS5kYXRhCQk9ICZkYXRh
LAorCQkubWF4bGVuCQk9IHNpemVvZihpbnQpLAorCQkubW9kZQkJPSAwNjQ0LAorCQkucHJvY19o
YW5kbGVyCT0gcHJvY19kb2ludHZlYywKKwkJLmV4dHJhMQkJPSAmaV96ZXJvLAorCQkuZXh0cmEy
ICAgICAgICAgPSAmaV9vbmVfaHVuZHJlZCwKKwl9OworCXZvaWQgX191c2VyICpidWZmZXIgPSAo
dm9pZCBfX3VzZXIgKilrdW5pdF9remFsbG9jKHRlc3QsIHNpemVvZihpbnQpLAorCQkJCQkJCSAg
IEdGUF9VU0VSKTsKKwkvKgorCSAqIEhvd2V2ZXIsIG5vdyBvdXIgcmVhZC93cml0ZSBidWZmZXIg
aGFzIHplcm8gbGVuZ3RoLgorCSAqLworCXNpemVfdCBsZW4gPSAwOworCWxvZmZfdCBwb3M7CisK
KwlLVU5JVF9FWFBFQ1RfRVEodGVzdCwgMCwgcHJvY19kb2ludHZlYygmdGFibGUsIEtVTklUX1BS
T0NfUkVBRCwgYnVmZmVyLAorCQkJCQkgICAgICAgJmxlbiwgJnBvcykpOworCUtVTklUX0VYUEVD
VF9FUSh0ZXN0LCAoc2l6ZV90KTAsIGxlbik7CisKKwlLVU5JVF9FWFBFQ1RfRVEodGVzdCwgMCwg
cHJvY19kb2ludHZlYygmdGFibGUsIEtVTklUX1BST0NfV1JJVEUsIGJ1ZmZlciwKKwkJCQkJICAg
ICAgICZsZW4sICZwb3MpKTsKKwlLVU5JVF9FWFBFQ1RfRVEodGVzdCwgKHNpemVfdCkwLCBsZW4p
OworfQorCisvKgorICogVGVzdCB0aGF0IHByb2NfZG9pbnR2ZWMgcmVmdXNlcyB0byByZWFkIHdo
ZW4gdGhlIGZpbGUgcG9zaXRpb24gaXMgbm9uLXplcm8uCisgKi8KK3N0YXRpYyB2b2lkIHN5c2N0
bF90ZXN0X2FwaV9kb2ludHZlY190YWJsZV9yZWFkX2J1dF9wb3NpdGlvbl9zZXQoCisJCXN0cnVj
dCBrdW5pdCAqdGVzdCkKK3sKKwlpbnQgZGF0YSA9IDA7CisJLyogR29vZCB0YWJsZS4gKi8KKwlz
dHJ1Y3QgY3RsX3RhYmxlIHRhYmxlID0geworCQkucHJvY25hbWUgPSAiZm9vIiwKKwkJLmRhdGEJ
CT0gJmRhdGEsCisJCS5tYXhsZW4JCT0gc2l6ZW9mKGludCksCisJCS5tb2RlCQk9IDA2NDQsCisJ
CS5wcm9jX2hhbmRsZXIJPSBwcm9jX2RvaW50dmVjLAorCQkuZXh0cmExCQk9ICZpX3plcm8sCisJ
CS5leHRyYTIgICAgICAgICA9ICZpX29uZV9odW5kcmVkLAorCX07CisJdm9pZCBfX3VzZXIgKmJ1
ZmZlciA9ICh2b2lkIF9fdXNlciAqKWt1bml0X2t6YWxsb2ModGVzdCwgc2l6ZW9mKGludCksCisJ
CQkJCQkJICAgR0ZQX1VTRVIpOworCS8qCisJICogV2UgZG9uJ3QgY2FyZSBhYm91dCBvdXIgYnVm
ZmVyIGxlbmd0aCBiZWNhdXNlIHdlIHN0YXJ0IG9mZiB3aXRoIGEKKwkgKiBub24temVybyBmaWxl
IHBvc2l0aW9uLgorCSAqLworCXNpemVfdCBsZW4gPSAxMjM0OworCS8qCisJICogcHJvY19kb2lu
dHZlYyBzaG91bGQgcmVmdXNlIHRvIHJlYWQgaW50byB0aGUgYnVmZmVyIHNpbmNlIHRoZSBmaWxl
CisJICogcG9zIGlzIG5vbi16ZXJvLgorCSAqLworCWxvZmZfdCBwb3MgPSAxOworCisJS1VOSVRf
RVhQRUNUX0VRKHRlc3QsIDAsIHByb2NfZG9pbnR2ZWMoJnRhYmxlLCBLVU5JVF9QUk9DX1JFQUQs
IGJ1ZmZlciwKKwkJCQkJICAgICAgICZsZW4sICZwb3MpKTsKKwlLVU5JVF9FWFBFQ1RfRVEodGVz
dCwgKHNpemVfdCkwLCBsZW4pOworfQorCisvKgorICogVGVzdCB0aGF0IHdlIGNhbiByZWFkIGEg
dHdvIGRpZ2l0IG51bWJlciBpbiBhIHN1ZmZpY2llbnRseSBzaXplIGJ1ZmZlci4KKyAqIE5vdGhp
bmcgZmFuY3kuCisgKi8KK3N0YXRpYyB2b2lkIHN5c2N0bF90ZXN0X2RvaW50dmVjX3JlYWRfaGFw
cHlfc2luZ2xlX3Bvc2l0aXZlKHN0cnVjdCBrdW5pdCAqdGVzdCkKK3sKKwlpbnQgZGF0YSA9IDA7
CisJLyogR29vZCB0YWJsZS4gKi8KKwlzdHJ1Y3QgY3RsX3RhYmxlIHRhYmxlID0geworCQkucHJv
Y25hbWUgPSAiZm9vIiwKKwkJLmRhdGEJCT0gJmRhdGEsCisJCS5tYXhsZW4JCT0gc2l6ZW9mKGlu
dCksCisJCS5tb2RlCQk9IDA2NDQsCisJCS5wcm9jX2hhbmRsZXIJPSBwcm9jX2RvaW50dmVjLAor
CQkuZXh0cmExCQk9ICZpX3plcm8sCisJCS5leHRyYTIgICAgICAgICA9ICZpX29uZV9odW5kcmVk
LAorCX07CisJc2l6ZV90IGxlbiA9IDQ7CisJbG9mZl90IHBvcyA9IDA7CisJY2hhciAqYnVmZmVy
ID0ga3VuaXRfa3phbGxvYyh0ZXN0LCBsZW4sIEdGUF9VU0VSKTsKKwljaGFyIF9fdXNlciAqdXNl
cl9idWZmZXIgPSAoY2hhciBfX3VzZXIgKilidWZmZXI7CisJLyogU3RvcmUgMTMgaW4gdGhlIGRh
dGEgZmllbGQuICovCisJKigoaW50ICopdGFibGUuZGF0YSkgPSAxMzsKKworCUtVTklUX0VYUEVD
VF9FUSh0ZXN0LCAwLCBwcm9jX2RvaW50dmVjKCZ0YWJsZSwgS1VOSVRfUFJPQ19SRUFELAorCQkJ
CQkgICAgICAgdXNlcl9idWZmZXIsICZsZW4sICZwb3MpKTsKKwlLVU5JVF9BU1NFUlRfRVEodGVz
dCwgKHNpemVfdCkzLCBsZW4pOworCWJ1ZmZlcltsZW5dID0gJ1wwJzsKKwkvKiBBbmQgd2UgcmVh
ZCAxMyBiYWNrIG91dC4gKi8KKwlLVU5JVF9FWFBFQ1RfU1RSRVEodGVzdCwgIjEzXG4iLCBidWZm
ZXIpOworfQorCisvKgorICogU2FtZSBhcyBwcmV2aW91cyB0ZXN0LCBqdXN0IG5vdyB3aXRoIG5l
Z2F0aXZlIG51bWJlcnMuCisgKi8KK3N0YXRpYyB2b2lkIHN5c2N0bF90ZXN0X2RvaW50dmVjX3Jl
YWRfaGFwcHlfc2luZ2xlX25lZ2F0aXZlKHN0cnVjdCBrdW5pdCAqdGVzdCkKK3sKKwlpbnQgZGF0
YSA9IDA7CisJLyogR29vZCB0YWJsZS4gKi8KKwlzdHJ1Y3QgY3RsX3RhYmxlIHRhYmxlID0gewor
CQkucHJvY25hbWUgPSAiZm9vIiwKKwkJLmRhdGEJCT0gJmRhdGEsCisJCS5tYXhsZW4JCT0gc2l6
ZW9mKGludCksCisJCS5tb2RlCQk9IDA2NDQsCisJCS5wcm9jX2hhbmRsZXIJPSBwcm9jX2RvaW50
dmVjLAorCQkuZXh0cmExCQk9ICZpX3plcm8sCisJCS5leHRyYTIgICAgICAgICA9ICZpX29uZV9o
dW5kcmVkLAorCX07CisJc2l6ZV90IGxlbiA9IDU7CisJbG9mZl90IHBvcyA9IDA7CisJY2hhciAq
YnVmZmVyID0ga3VuaXRfa3phbGxvYyh0ZXN0LCBsZW4sIEdGUF9VU0VSKTsKKwljaGFyIF9fdXNl
ciAqdXNlcl9idWZmZXIgPSAoY2hhciBfX3VzZXIgKilidWZmZXI7CisJKigoaW50ICopdGFibGUu
ZGF0YSkgPSAtMTY7CisKKwlLVU5JVF9FWFBFQ1RfRVEodGVzdCwgMCwgcHJvY19kb2ludHZlYygm
dGFibGUsIEtVTklUX1BST0NfUkVBRCwKKwkJCQkJICAgICAgIHVzZXJfYnVmZmVyLCAmbGVuLCAm
cG9zKSk7CisJS1VOSVRfQVNTRVJUX0VRKHRlc3QsIChzaXplX3QpNCwgbGVuKTsKKwlidWZmZXJb
bGVuXSA9ICdcMCc7CisJS1VOSVRfRVhQRUNUX1NUUkVRKHRlc3QsICItMTZcbiIsIChjaGFyICop
YnVmZmVyKTsKK30KKworLyoKKyAqIFRlc3QgdGhhdCBhIHNpbXBsZSBwb3NpdGl2ZSB3cml0ZSB3
b3Jrcy4KKyAqLworc3RhdGljIHZvaWQgc3lzY3RsX3Rlc3RfZG9pbnR2ZWNfd3JpdGVfaGFwcHlf
c2luZ2xlX3Bvc2l0aXZlKHN0cnVjdCBrdW5pdCAqdGVzdCkKK3sKKwlpbnQgZGF0YSA9IDA7CisJ
LyogR29vZCB0YWJsZS4gKi8KKwlzdHJ1Y3QgY3RsX3RhYmxlIHRhYmxlID0geworCQkucHJvY25h
bWUgPSAiZm9vIiwKKwkJLmRhdGEJCT0gJmRhdGEsCisJCS5tYXhsZW4JCT0gc2l6ZW9mKGludCks
CisJCS5tb2RlCQk9IDA2NDQsCisJCS5wcm9jX2hhbmRsZXIJPSBwcm9jX2RvaW50dmVjLAorCQku
ZXh0cmExCQk9ICZpX3plcm8sCisJCS5leHRyYTIgICAgICAgICA9ICZpX29uZV9odW5kcmVkLAor
CX07CisJY2hhciBpbnB1dFtdID0gIjkiOworCXNpemVfdCBsZW4gPSBzaXplb2YoaW5wdXQpIC0g
MTsKKwlsb2ZmX3QgcG9zID0gMDsKKwljaGFyICpidWZmZXIgPSBrdW5pdF9remFsbG9jKHRlc3Qs
IGxlbiwgR0ZQX1VTRVIpOworCWNoYXIgX191c2VyICp1c2VyX2J1ZmZlciA9IChjaGFyIF9fdXNl
ciAqKWJ1ZmZlcjsKKworCW1lbWNweShidWZmZXIsIGlucHV0LCBsZW4pOworCisJS1VOSVRfRVhQ
RUNUX0VRKHRlc3QsIDAsIHByb2NfZG9pbnR2ZWMoJnRhYmxlLCBLVU5JVF9QUk9DX1dSSVRFLAor
CQkJCQkgICAgICAgdXNlcl9idWZmZXIsICZsZW4sICZwb3MpKTsKKwlLVU5JVF9FWFBFQ1RfRVEo
dGVzdCwgc2l6ZW9mKGlucHV0KSAtIDEsIGxlbik7CisJS1VOSVRfRVhQRUNUX0VRKHRlc3QsIHNp
emVvZihpbnB1dCkgLSAxLCAoc2l6ZV90KXBvcyk7CisJS1VOSVRfRVhQRUNUX0VRKHRlc3QsIDks
ICooKGludCAqKXRhYmxlLmRhdGEpKTsKK30KKworLyoKKyAqIFNhbWUgYXMgcHJldmlvdXMgdGVz
dCwgYnV0IG5vdyB3aXRoIG5lZ2F0aXZlIG51bWJlcnMuCisgKi8KK3N0YXRpYyB2b2lkIHN5c2N0
bF90ZXN0X2RvaW50dmVjX3dyaXRlX2hhcHB5X3NpbmdsZV9uZWdhdGl2ZShzdHJ1Y3Qga3VuaXQg
KnRlc3QpCit7CisJaW50IGRhdGEgPSAwOworCXN0cnVjdCBjdGxfdGFibGUgdGFibGUgPSB7CisJ
CS5wcm9jbmFtZSA9ICJmb28iLAorCQkuZGF0YQkJPSAmZGF0YSwKKwkJLm1heGxlbgkJPSBzaXpl
b2YoaW50KSwKKwkJLm1vZGUJCT0gMDY0NCwKKwkJLnByb2NfaGFuZGxlcgk9IHByb2NfZG9pbnR2
ZWMsCisJCS5leHRyYTEJCT0gJmlfemVybywKKwkJLmV4dHJhMiAgICAgICAgID0gJmlfb25lX2h1
bmRyZWQsCisJfTsKKwljaGFyIGlucHV0W10gPSAiLTkiOworCXNpemVfdCBsZW4gPSBzaXplb2Yo
aW5wdXQpIC0gMTsKKwlsb2ZmX3QgcG9zID0gMDsKKwljaGFyICpidWZmZXIgPSBrdW5pdF9remFs
bG9jKHRlc3QsIGxlbiwgR0ZQX1VTRVIpOworCWNoYXIgX191c2VyICp1c2VyX2J1ZmZlciA9IChj
aGFyIF9fdXNlciAqKWJ1ZmZlcjsKKworCW1lbWNweShidWZmZXIsIGlucHV0LCBsZW4pOworCisJ
S1VOSVRfRVhQRUNUX0VRKHRlc3QsIDAsIHByb2NfZG9pbnR2ZWMoJnRhYmxlLCBLVU5JVF9QUk9D
X1dSSVRFLAorCQkJCQkgICAgICAgdXNlcl9idWZmZXIsICZsZW4sICZwb3MpKTsKKwlLVU5JVF9F
WFBFQ1RfRVEodGVzdCwgc2l6ZW9mKGlucHV0KSAtIDEsIGxlbik7CisJS1VOSVRfRVhQRUNUX0VR
KHRlc3QsIHNpemVvZihpbnB1dCkgLSAxLCAoc2l6ZV90KXBvcyk7CisJS1VOSVRfRVhQRUNUX0VR
KHRlc3QsIC05LCAqKChpbnQgKil0YWJsZS5kYXRhKSk7Cit9CisKKy8qCisgKiBUZXN0IHRoYXQg
d3JpdGluZyBhIHZhbHVlIHNtYWxsZXIgdGhhbiB0aGUgbWluaW11bSBwb3NzaWJsZSB2YWx1ZSBp
cyBub3QKKyAqIGFsbG93ZWQuCisgKi8KK3N0YXRpYyB2b2lkIHN5c2N0bF90ZXN0X2FwaV9kb2lu
dHZlY193cml0ZV9zaW5nbGVfbGVzc19pbnRfbWluKAorCQlzdHJ1Y3Qga3VuaXQgKnRlc3QpCit7
CisJaW50IGRhdGEgPSAwOworCXN0cnVjdCBjdGxfdGFibGUgdGFibGUgPSB7CisJCS5wcm9jbmFt
ZSA9ICJmb28iLAorCQkuZGF0YQkJPSAmZGF0YSwKKwkJLm1heGxlbgkJPSBzaXplb2YoaW50KSwK
KwkJLm1vZGUJCT0gMDY0NCwKKwkJLnByb2NfaGFuZGxlcgk9IHByb2NfZG9pbnR2ZWMsCisJCS5l
eHRyYTEJCT0gJmlfemVybywKKwkJLmV4dHJhMiAgICAgICAgID0gJmlfb25lX2h1bmRyZWQsCisJ
fTsKKwlzaXplX3QgbWF4X2xlbiA9IDMyLCBsZW4gPSBtYXhfbGVuOworCWxvZmZfdCBwb3MgPSAw
OworCWNoYXIgKmJ1ZmZlciA9IGt1bml0X2t6YWxsb2ModGVzdCwgbWF4X2xlbiwgR0ZQX1VTRVIp
OworCWNoYXIgX191c2VyICp1c2VyX2J1ZmZlciA9IChjaGFyIF9fdXNlciAqKWJ1ZmZlcjsKKwl1
bnNpZ25lZCBsb25nIGFic19vZl9sZXNzX3RoYW5fbWluID0gKHVuc2lnbmVkIGxvbmcpSU5UX01B
WAorCQkJCQkgICAgIC0gKElOVF9NQVggKyBJTlRfTUlOKSArIDE7CisKKwkvKgorCSAqIFdlIHVz
ZSB0aGlzIHJpZ21hcm9sZSB0byBjcmVhdGUgYSBzdHJpbmcgdGhhdCBjb250YWlucyBhIHZhbHVl
IG9uZQorCSAqIGxlc3MgdGhhbiB0aGUgbWluaW11bSBhY2NlcHRlZCB2YWx1ZS4KKwkgKi8KKwlL
VU5JVF9BU1NFUlRfTFQodGVzdCwKKwkJCShzaXplX3Qpc25wcmludGYoYnVmZmVyLCBtYXhfbGVu
LCAiLSVsdSIsCisJCQkJCSBhYnNfb2ZfbGVzc190aGFuX21pbiksCisJCQltYXhfbGVuKTsKKwor
CUtVTklUX0VYUEVDVF9FUSh0ZXN0LCAtRUlOVkFMLCBwcm9jX2RvaW50dmVjKCZ0YWJsZSwgS1VO
SVRfUFJPQ19XUklURSwKKwkJCQkJCSAgICAgdXNlcl9idWZmZXIsICZsZW4sICZwb3MpKTsKKwlL
VU5JVF9FWFBFQ1RfRVEodGVzdCwgbWF4X2xlbiwgbGVuKTsKKwlLVU5JVF9FWFBFQ1RfRVEodGVz
dCwgMCwgKigoaW50ICopdGFibGUuZGF0YSkpOworfQorCisvKgorICogVGVzdCB0aGF0IHdyaXRp
bmcgdGhlIG1heGltdW0gcG9zc2libGUgdmFsdWUgd29ya3MuCisgKi8KK3N0YXRpYyB2b2lkIHN5
c2N0bF90ZXN0X2FwaV9kb2ludHZlY193cml0ZV9zaW5nbGVfZ3JlYXRlcl9pbnRfbWF4KAorCQlz
dHJ1Y3Qga3VuaXQgKnRlc3QpCit7CisJaW50IGRhdGEgPSAwOworCXN0cnVjdCBjdGxfdGFibGUg
dGFibGUgPSB7CisJCS5wcm9jbmFtZSA9ICJmb28iLAorCQkuZGF0YQkJPSAmZGF0YSwKKwkJLm1h
eGxlbgkJPSBzaXplb2YoaW50KSwKKwkJLm1vZGUJCT0gMDY0NCwKKwkJLnByb2NfaGFuZGxlcgk9
IHByb2NfZG9pbnR2ZWMsCisJCS5leHRyYTEJCT0gJmlfemVybywKKwkJLmV4dHJhMiAgICAgICAg
ID0gJmlfb25lX2h1bmRyZWQsCisJfTsKKwlzaXplX3QgbWF4X2xlbiA9IDMyLCBsZW4gPSBtYXhf
bGVuOworCWxvZmZfdCBwb3MgPSAwOworCWNoYXIgKmJ1ZmZlciA9IGt1bml0X2t6YWxsb2ModGVz
dCwgbWF4X2xlbiwgR0ZQX1VTRVIpOworCWNoYXIgX191c2VyICp1c2VyX2J1ZmZlciA9IChjaGFy
IF9fdXNlciAqKWJ1ZmZlcjsKKwl1bnNpZ25lZCBsb25nIGdyZWF0ZXJfdGhhbl9tYXggPSAodW5z
aWduZWQgbG9uZylJTlRfTUFYICsgMTsKKworCUtVTklUX0FTU0VSVF9HVCh0ZXN0LCBncmVhdGVy
X3RoYW5fbWF4LCAodW5zaWduZWQgbG9uZylJTlRfTUFYKTsKKwlLVU5JVF9BU1NFUlRfTFQodGVz
dCwgKHNpemVfdClzbnByaW50ZihidWZmZXIsIG1heF9sZW4sICIlbHUiLAorCQkJCQkgICAgICAg
Z3JlYXRlcl90aGFuX21heCksCisJCQltYXhfbGVuKTsKKwlLVU5JVF9FWFBFQ1RfRVEodGVzdCwg
LUVJTlZBTCwgcHJvY19kb2ludHZlYygmdGFibGUsIEtVTklUX1BST0NfV1JJVEUsCisJCQkJCQkg
ICAgIHVzZXJfYnVmZmVyLCAmbGVuLCAmcG9zKSk7CisJS1VOSVRfQVNTRVJUX0VRKHRlc3QsIG1h
eF9sZW4sIGxlbik7CisJS1VOSVRfRVhQRUNUX0VRKHRlc3QsIDAsICooKGludCAqKXRhYmxlLmRh
dGEpKTsKK30KKworc3RhdGljIHN0cnVjdCBrdW5pdF9jYXNlIHN5c2N0bF90ZXN0X2Nhc2VzW10g
PSB7CisJS1VOSVRfQ0FTRShzeXNjdGxfdGVzdF9hcGlfZG9pbnR2ZWNfbnVsbF90YmxfZGF0YSks
CisJS1VOSVRfQ0FTRShzeXNjdGxfdGVzdF9hcGlfZG9pbnR2ZWNfdGFibGVfbWF4bGVuX3Vuc2V0
KSwKKwlLVU5JVF9DQVNFKHN5c2N0bF90ZXN0X2FwaV9kb2ludHZlY190YWJsZV9sZW5faXNfemVy
byksCisJS1VOSVRfQ0FTRShzeXNjdGxfdGVzdF9hcGlfZG9pbnR2ZWNfdGFibGVfcmVhZF9idXRf
cG9zaXRpb25fc2V0KSwKKwlLVU5JVF9DQVNFKHN5c2N0bF90ZXN0X2RvaW50dmVjX3JlYWRfaGFw
cHlfc2luZ2xlX3Bvc2l0aXZlKSwKKwlLVU5JVF9DQVNFKHN5c2N0bF90ZXN0X2RvaW50dmVjX3Jl
YWRfaGFwcHlfc2luZ2xlX25lZ2F0aXZlKSwKKwlLVU5JVF9DQVNFKHN5c2N0bF90ZXN0X2RvaW50
dmVjX3dyaXRlX2hhcHB5X3NpbmdsZV9wb3NpdGl2ZSksCisJS1VOSVRfQ0FTRShzeXNjdGxfdGVz
dF9kb2ludHZlY193cml0ZV9oYXBweV9zaW5nbGVfbmVnYXRpdmUpLAorCUtVTklUX0NBU0Uoc3lz
Y3RsX3Rlc3RfYXBpX2RvaW50dmVjX3dyaXRlX3NpbmdsZV9sZXNzX2ludF9taW4pLAorCUtVTklU
X0NBU0Uoc3lzY3RsX3Rlc3RfYXBpX2RvaW50dmVjX3dyaXRlX3NpbmdsZV9ncmVhdGVyX2ludF9t
YXgpLAorCXt9Cit9OworCitzdGF0aWMgc3RydWN0IGt1bml0X3N1aXRlIHN5c2N0bF90ZXN0X3N1
aXRlID0geworCS5uYW1lID0gInN5c2N0bF90ZXN0IiwKKwkudGVzdF9jYXNlcyA9IHN5c2N0bF90
ZXN0X2Nhc2VzLAorfTsKKwora3VuaXRfdGVzdF9zdWl0ZShzeXNjdGxfdGVzdF9zdWl0ZSk7CmRp
ZmYgLS1naXQgYS9saWIvS2NvbmZpZy5kZWJ1ZyBiL2xpYi9LY29uZmlnLmRlYnVnCmluZGV4IDU5
NjBlMjk4MGE4YTAuLmE0MjU3NDE5MDdiMGQgMTAwNjQ0Ci0tLSBhL2xpYi9LY29uZmlnLmRlYnVn
CisrKyBiL2xpYi9LY29uZmlnLmRlYnVnCkBAIC0xOTY1LDYgKzE5NjUsMTcgQEAgY29uZmlnIFRF
U1RfU1lTQ1RMCiAKIAkgIElmIHVuc3VyZSwgc2F5IE4uCiAKK2NvbmZpZyBTWVNDVExfS1VOSVRf
VEVTVAorCWJvb2wgIktVbml0IHRlc3QgZm9yIHN5c2N0bCIKKwlkZXBlbmRzIG9uIEtVTklUCisJ
aGVscAorCSAgVGhpcyBidWlsZHMgdGhlIHByb2Mgc3lzY3RsIHVuaXQgdGVzdCwgd2hpY2ggcnVu
cyBvbiBib290LgorCSAgVGVzdHMgdGhlIEFQSSBjb250cmFjdCBhbmQgaW1wbGVtZW50YXRpb24g
Y29ycmVjdG5lc3Mgb2Ygc3lzY3RsLgorCSAgRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gS1VuaXQg
YW5kIHVuaXQgdGVzdHMgaW4gZ2VuZXJhbCBwbGVhc2UgcmVmZXIKKwkgIHRvIHRoZSBLVW5pdCBk
b2N1bWVudGF0aW9uIGluIERvY3VtZW50YXRpb24vZGV2LXRvb2xzL2t1bml0Ly4KKworCSAgSWYg
dW5zdXJlLCBzYXkgTi4KKwogY29uZmlnIFRFU1RfVURFTEFZCiAJdHJpc3RhdGUgInVkZWxheSB0
ZXN0IGRyaXZlciIKIAloZWxwCi0tIAoyLjIzLjAucmMxLjE1My5nZGVlZDgwMzMwZi1nb29nCgpf
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwg
bWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0
cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
