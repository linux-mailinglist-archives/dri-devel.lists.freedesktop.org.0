Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 6707E1E620F
	for <lists+dri-devel@lfdr.de>; Thu, 28 May 2020 15:23:09 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1BD5F6E527;
	Thu, 28 May 2020 13:23:07 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from foss.arm.com (foss.arm.com [217.140.110.172])
 by gabe.freedesktop.org (Postfix) with ESMTP id 0E69C6E527
 for <dri-devel@lists.freedesktop.org>; Thu, 28 May 2020 13:23:04 +0000 (UTC)
Received: from usa-sjc-imap-foss1.foss.arm.com (unknown [10.121.207.14])
 by usa-sjc-mx-foss1.foss.arm.com (Postfix) with ESMTP id C511DD6E;
 Thu, 28 May 2020 06:23:03 -0700 (PDT)
Received: from [192.168.1.84] (unknown [172.31.20.19])
 by usa-sjc-imap-foss1.foss.arm.com (Postfix) with ESMTPSA id 482683F52E;
 Thu, 28 May 2020 06:23:02 -0700 (PDT)
Subject: Re: [PATCH 10/15] drm/panfrost: add regulators to devfreq
To: =?UTF-8?B?Q2zDqW1lbnQgUMOpcm9u?= <peron.clem@gmail.com>,
 Rob Herring <robh@kernel.org>, Tomeu Vizoso <tomeu.vizoso@collabora.com>,
 Alyssa Rosenzweig <alyssa.rosenzweig@collabora.com>,
 Viresh Kumar <vireshk@kernel.org>, Nishanth Menon <nm@ti.com>,
 Stephen Boyd <sboyd@kernel.org>, Maxime Ripard <mripard@kernel.org>,
 Chen-Yu Tsai <wens@csie.org>
References: <20200510165538.19720-1-peron.clem@gmail.com>
 <20200510165538.19720-11-peron.clem@gmail.com>
From: Steven Price <steven.price@arm.com>
Message-ID: <2f0d2cd6-481c-26ce-fcef-ee5b4fdb249b@arm.com>
Date: Thu, 28 May 2020 14:23:00 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101
 Thunderbird/68.7.0
MIME-Version: 1.0
In-Reply-To: <20200510165538.19720-11-peron.clem@gmail.com>
Content-Language: en-GB
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-kernel@vger.kernel.org, dri-devel@lists.freedesktop.org
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gMTAvMDUvMjAyMCAxNzo1NSwgQ2zDqW1lbnQgUMOpcm9uIHdyb3RlOgo+IFNvbWUgT1BQIHRh
YmxlcyBzcGVjaWZ5IHZvbHRhZ2UgZm9yIGVhY2ggZnJlcXVlbmN5LiBEZXZmcmVxIGNhbgo+IGhh
bmRsZSB0aGVzZSByZWd1bGF0b3JzIGJ1dCB0aGV5IHNob3VsZCBiZSBnZXQgb25seSAxIHRpbWUg
dG8gYXZvaWQKPiBpc3N1ZSBhbmQga25vdyB3aG8gaXMgaW4gY2hhcmdlLgo+IAo+IElmIE9QUCB0
YWJsZSBpcyBwcm9iZSBkb24ndCBpbml0IHJlZ3VsYXRvci4KPiAKPiBTaWduZWQtb2ZmLWJ5OiBD
bMOpbWVudCBQw6lyb24gPHBlcm9uLmNsZW1AZ21haWwuY29tPgoKVGhpcyBsb29rcyBsaWtlIGl0
IHNob3VsZCB3b3JrIC0gdGhhbmtzIGZvciBkb2luZyB0aGlzIQoKUmV2aWV3ZWQtYnk6IFN0ZXZl
biBQcmljZSA8c3RldmVuLnByaWNlQGFybS5jb20+Cgo+IC0tLQo+ICAgZHJpdmVycy9ncHUvZHJt
L3BhbmZyb3N0L3BhbmZyb3N0X2RldmZyZXEuYyB8IDE5ICsrKysrKysrKysrKysrKysrKysKPiAg
IGRyaXZlcnMvZ3B1L2RybS9wYW5mcm9zdC9wYW5mcm9zdF9kZXZmcmVxLmggfCAgMiArKwo+ICAg
ZHJpdmVycy9ncHUvZHJtL3BhbmZyb3N0L3BhbmZyb3N0X2RldmljZS5jICB8IDExICsrKysrKyst
LS0tCj4gICAzIGZpbGVzIGNoYW5nZWQsIDI4IGluc2VydGlvbnMoKyksIDQgZGVsZXRpb25zKC0p
Cj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5mcm9zdC9wYW5mcm9zdF9kZXZm
cmVxLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZnJvc3QvcGFuZnJvc3RfZGV2ZnJlcS5jCj4gaW5k
ZXggZmNlMjFjNjgyNDE0Li45ZmZlYTBkNGEwODcgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL3BhbmZyb3N0L3BhbmZyb3N0X2RldmZyZXEuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9w
YW5mcm9zdC9wYW5mcm9zdF9kZXZmcmVxLmMKPiBAQCAtOTMsNiArOTMsNyBAQCBpbnQgcGFuZnJv
c3RfZGV2ZnJlcV9pbml0KHN0cnVjdCBwYW5mcm9zdF9kZXZpY2UgKnBmZGV2KQo+ICAgCXVuc2ln
bmVkIGxvbmcgY3VyX2ZyZXE7Cj4gICAJc3RydWN0IGRldmljZSAqZGV2ID0gJnBmZGV2LT5wZGV2
LT5kZXY7Cj4gICAJc3RydWN0IGRldmZyZXEgKmRldmZyZXE7Cj4gKwlzdHJ1Y3Qgb3BwX3RhYmxl
ICpvcHBfdGFibGU7Cj4gICAJc3RydWN0IHRoZXJtYWxfY29vbGluZ19kZXZpY2UgKmNvb2xpbmc7
Cj4gICAJc3RydWN0IHBhbmZyb3N0X2RldmZyZXEgKnBmZGV2ZnJlcSA9ICZwZmRldi0+cGZkZXZm
cmVxOwo+ICAgCj4gQEAgLTEwMiw2ICsxMDMsMTkgQEAgaW50IHBhbmZyb3N0X2RldmZyZXFfaW5p
dChzdHJ1Y3QgcGFuZnJvc3RfZGV2aWNlICpwZmRldikKPiAgIAo+ICAgCXNwaW5fbG9ja19pbml0
KCZwZmRldmZyZXEtPmxvY2spOwo+ICAgCj4gKwlvcHBfdGFibGUgPSBkZXZfcG1fb3BwX3NldF9y
ZWd1bGF0b3JzKGRldiwgcGZkZXYtPmNvbXAtPnN1cHBseV9uYW1lcywKPiArCQkJCQkgICAgICBw
ZmRldi0+Y29tcC0+bnVtX3N1cHBsaWVzKTsKPiArCWlmIChJU19FUlIob3BwX3RhYmxlKSkgewo+
ICsJCXJldCA9IFBUUl9FUlIob3BwX3RhYmxlKTsKPiArCQkvKiBDb250aW51ZSBpZiB0aGUgb3B0
aW9uYWwgcmVndWxhdG9yIGlzIG1pc3NpbmcgKi8KPiArCQlpZiAocmV0ICE9IC1FTk9ERVYpIHsK
PiArCQkJRFJNX0RFVl9FUlJPUihkZXYsICJDb3VsZG4ndCBzZXQgT1BQIHJlZ3VsYXRvcnNcbiIp
Owo+ICsJCQlnb3RvIGVycl9maW5pOwo+ICsJCX0KPiArCX0gZWxzZSB7Cj4gKwkJcGZkZXZmcmVx
LT5yZWd1bGF0b3JzX29wcF90YWJsZSA9IG9wcF90YWJsZTsKPiArCX0KPiArCj4gICAJcmV0ID0g
ZGV2X3BtX29wcF9vZl9hZGRfdGFibGUoZGV2KTsKPiAgIAlpZiAocmV0KSB7Cj4gICAJCURSTV9E
RVZfRVJST1IoZGV2LCAiQ291bGRuJ3QgYWRkIE9QUCB0YWJsZVxuIik7Cj4gQEAgLTE1Nyw2ICsx
NzEsMTEgQEAgdm9pZCBwYW5mcm9zdF9kZXZmcmVxX2Zpbmkoc3RydWN0IHBhbmZyb3N0X2Rldmlj
ZSAqcGZkZXYpCj4gICAJCWRldl9wbV9vcHBfb2ZfcmVtb3ZlX3RhYmxlKCZwZmRldi0+cGRldi0+
ZGV2KTsKPiAgIAkJcGZkZXZmcmVxLT5vcHBfb2ZfdGFibGVfYWRkZWQgPSBmYWxzZTsKPiAgIAl9
Cj4gKwo+ICsJaWYgKHBmZGV2ZnJlcS0+cmVndWxhdG9yc19vcHBfdGFibGUpIHsKPiArCQlkZXZf
cG1fb3BwX3B1dF9yZWd1bGF0b3JzKHBmZGV2ZnJlcS0+cmVndWxhdG9yc19vcHBfdGFibGUpOwo+
ICsJCXBmZGV2ZnJlcS0+cmVndWxhdG9yc19vcHBfdGFibGUgPSBOVUxMOwo+ICsJfQo+ICAgfQo+
ICAgCj4gICB2b2lkIHBhbmZyb3N0X2RldmZyZXFfcmVzdW1lKHN0cnVjdCBwYW5mcm9zdF9kZXZp
Y2UgKnBmZGV2KQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZnJvc3QvcGFuZnJv
c3RfZGV2ZnJlcS5oIGIvZHJpdmVycy9ncHUvZHJtL3BhbmZyb3N0L3BhbmZyb3N0X2RldmZyZXEu
aAo+IGluZGV4IGFkZDIwM2NiMDBjMi4uMzQ3Y2RlNDc4NmNmIDEwMDY0NAo+IC0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9wYW5mcm9zdC9wYW5mcm9zdF9kZXZmcmVxLmgKPiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vcGFuZnJvc3QvcGFuZnJvc3RfZGV2ZnJlcS5oCj4gQEAgLTgsMTIgKzgsMTQgQEAKPiAg
ICNpbmNsdWRlIDxsaW51eC9rdGltZS5oPgo+ICAgCj4gICBzdHJ1Y3QgZGV2ZnJlcTsKPiArc3Ry
dWN0IG9wcF90YWJsZTsKPiAgIHN0cnVjdCB0aGVybWFsX2Nvb2xpbmdfZGV2aWNlOwo+ICAgCj4g
ICBzdHJ1Y3QgcGFuZnJvc3RfZGV2aWNlOwo+ICAgCj4gICBzdHJ1Y3QgcGFuZnJvc3RfZGV2ZnJl
cSB7Cj4gICAJc3RydWN0IGRldmZyZXEgKmRldmZyZXE7Cj4gKwlzdHJ1Y3Qgb3BwX3RhYmxlICpy
ZWd1bGF0b3JzX29wcF90YWJsZTsKPiAgIAlzdHJ1Y3QgdGhlcm1hbF9jb29saW5nX2RldmljZSAq
Y29vbGluZzsKPiAgIAlib29sIG9wcF9vZl90YWJsZV9hZGRlZDsKPiAgIAo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vcGFuZnJvc3QvcGFuZnJvc3RfZGV2aWNlLmMgYi9kcml2ZXJzL2dw
dS9kcm0vcGFuZnJvc3QvcGFuZnJvc3RfZGV2aWNlLmMKPiBpbmRleCA2N2VlZGY2NGU4MmQuLjhi
MTdmYjJlMzM2OSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZnJvc3QvcGFuZnJv
c3RfZGV2aWNlLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZnJvc3QvcGFuZnJvc3RfZGV2
aWNlLmMKPiBAQCAtMjIyLDEwICsyMjIsMTMgQEAgaW50IHBhbmZyb3N0X2RldmljZV9pbml0KHN0
cnVjdCBwYW5mcm9zdF9kZXZpY2UgKnBmZGV2KQo+ICAgCQlnb3RvIGVycl9vdXQwOwo+ICAgCX0K
PiAgIAo+IC0JZXJyID0gcGFuZnJvc3RfcmVndWxhdG9yX2luaXQocGZkZXYpOwo+IC0JaWYgKGVy
cikgewo+IC0JCWRldl9lcnIocGZkZXYtPmRldiwgInJlZ3VsYXRvciBpbml0IGZhaWxlZCAlZFxu
IiwgZXJyKTsKPiAtCQlnb3RvIGVycl9vdXQxOwo+ICsJLyogT1BQIHdpbGwgaGFuZGxlIHJlZ3Vs
YXRvcnMgKi8KPiArCWlmICghcGZkZXYtPnBmZGV2ZnJlcS5vcHBfb2ZfdGFibGVfYWRkZWQpIHsK
PiArCQllcnIgPSBwYW5mcm9zdF9yZWd1bGF0b3JfaW5pdChwZmRldik7Cj4gKwkJaWYgKGVycikg
ewo+ICsJCQlkZXZfZXJyKHBmZGV2LT5kZXYsICJyZWd1bGF0b3IgaW5pdCBmYWlsZWQgJWRcbiIs
IGVycik7Cj4gKwkJCWdvdG8gZXJyX291dDE7Cj4gKwkJfQo+ICAgCX0KPiAgIAo+ICAgCWVyciA9
IHBhbmZyb3N0X3Jlc2V0X2luaXQocGZkZXYpOwo+IAoKX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxA
bGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxt
YW4vbGlzdGluZm8vZHJpLWRldmVsCg==
