Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id D45954921F
	for <lists+dri-devel@lfdr.de>; Mon, 17 Jun 2019 23:10:12 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 105956E0AC;
	Mon, 17 Jun 2019 21:10:07 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from perceval.ideasonboard.com (perceval.ideasonboard.com
 [213.167.242.64])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 631886E0AE
 for <dri-devel@lists.freedesktop.org>; Mon, 17 Jun 2019 21:10:02 +0000 (UTC)
Received: from pendragon.bb.dnainternet.fi
 (dfj612yhrgyx302h3jwwy-3.rev.dnainternet.fi
 [IPv6:2001:14ba:21f5:5b00:ce28:277f:58d7:3ca4])
 by perceval.ideasonboard.com (Postfix) with ESMTPSA id 4716A9CB;
 Mon, 17 Jun 2019 23:09:56 +0200 (CEST)
From: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH v3 10/10] drm: rcar-du: Centralise routing configuration in
 commit tail handler
Date: Tue, 18 Jun 2019 00:09:30 +0300
Message-Id: <20190617210930.6054-11-laurent.pinchart+renesas@ideasonboard.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190617210930.6054-1-laurent.pinchart+renesas@ideasonboard.com>
References: <20190617210930.6054-1-laurent.pinchart+renesas@ideasonboard.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=ideasonboard.com; s=mail; t=1560805796;
 bh=XqW+5p1f6r4wDh54kbLE4UxlG1K0extzmO8WwOGKpf4=;
 h=From:To:Cc:Subject:Date:In-Reply-To:References:From;
 b=vmh+CG+aQNQQc4A7XgVD+FQS/+IUgdqFsnv6eQLKKd7OrTNb2Fl96AB+rxC064tL1
 QRP+PVfTproFxXwaG0Y5J59Wp5hf9SkI4HkINiWkMEHa3X07ZgHH2YxMCqlTwmN15K
 sofd0tkPnB+Qwn0b3Vv3HtWqu1YlCUzVNJzYZ5fI=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-renesas-soc@vger.kernel.org,
 Kieran Bingham <kieran.bingham@ideasonboard.com>, linux-media@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Um91dGluZyBjb25maWd1cmF0aW9uIGZvciB0aGUgRFUgaXMgY29tcGxleC4gRGVwZW5kaW5nIG9u
IHRoZSBTb0MKZ2VuZXJhdGlvbiB2YXJpb3VzIHJvdXRpbmcgb3B0aW9ucyBhcmUgYXZhaWxhYmxl
OgoKLSBUaGUgVlNQIHRvIERVIHJvdXRpbmcgaXMgbm90IGF2YWlsYWJsZSBvbiBHZW4xLCBpcyBj
b25maWd1cmFibGUgb24KICBHZW4yIGFuZCBpcyBmaXhlZCBvbiBHZW4zLiBXaGVuIGNvbmZpZ3Vy
YWJsZSwgdGhlIHJvdXRpbmcgYWZmZWN0cyBib3RoCiAgQ1JUQyBncm91cHMgYnV0IGlzIHNldCBp
biBhIHJlZ2lzdGVyIG9mIHRoZSBmaXJzdCBDUlRDIGdyb3VwLgotIFRoZSBEVSBjaGFubmVsIHRv
IERQQUQgb3V0cHV0IHJvdXRpbmcgaXMgZXhwbGljaXRseSBjb25maWd1cmFibGUgb24KICBzb21l
IFNvQ3Mgb2YgdGhlIEdlbjIgYW5kIEdlbjMgZmFtaWx5LiBXaGVuIGNvbmZpZ3VyYWJsZSwgdGhl
IERQQUQKICBvdXRwdXRzIG5ldmVyIG9mZmVyIHJvdXRpbmcgb3B0aW9ucyB0byBDUlRDcyBiZWxv
bmdpbmcgdG8gZGlmZmVyZW50CiAgZ3JvdXBzLgotIE9uIGFsbCBTb0NzIHRoZSByb3V0aW5nIG9m
IERVIGNoYW5uZWxzIHRvIERVIHBpbiBjb250cm9sbGVycyAoaW50ZXJuYWwKICBvdXRwdXQgb2Yg
dGhlIERVIGNoYW5uZWxzKSBjYW4gYmUgc3dhcHBlZCB3aXRoaW4gYSBncm91cC4gVGhpcyBmZWF0
dXJlCiAgaXMgb25seSB1c2VkIG9uIEdlbjEgdG8gY29udHJvbCByb3V0aW5nIG9mIHRoZSBEUEFE
MSBvdXRwdXQuCgpSb3V0aW5nIGlzIHRodXMgaGFuZGxlZCBhdCB0aGUgZ3JvdXAgbGV2ZWwsIGJ1
dCBmb3IgR2VuMiBoYXJkd2FyZQpyZXF1aXJlcyBjb25maWd1cmF0aW9uIG9mIHRoZSBEUEFEMSBh
bmQgVlNQRDEgcm91dGluZyBpbiB0aGUgZmlyc3QgZ3JvdXAKZXZlbiB3aGVuIG9ubHkgdGhlIHNl
Y29uZCBncm91cCBpcyBlbmFibGVkLgoKUm91dGluZyBhdCB0aGUgZ3JvdXAgbGV2ZWwgaXMgY3Vy
cmVudGx5IGNvbmZpZ3VyZWQgd2hlbiBhcHBseWluZyBDUlRDCmNvbmZpZ3VyYXRpb24uIEdsb2Jh
bCByb3V0aW5nIGlzIGNvbmZpZ3VyZWQgYXQgdGhlIHNhbWUgdGltZSwgYW5kIGlzCmFkZGl0aW9u
YWxseSBjb25maWd1cmVkIGJ5IHRoZSBwbGFuZSBzZXR1cCBjb2RlIHRvIHNldCBWU1BEMSByb3V0
aW5nLgpUaGlzIHJlc3VsdHMgaW4gY29kZSBwYXRocyB0aGF0IGFyZSBkaWZmaWN1bHQgdG8gZm9s
bG93LgoKU2ltcGxpZnkgdGhlIHJvdXRpbmcgY29uZmlndXJhdGlvbiBieSBwZXJmb3JtaW5nIGl0
IGFsbCBkaXJlY3RseSwgYmFzZWQKb24gQ1JUQyBhbmQgQ1JUQyBncm91cCBzdGF0ZS4gR3JvdXAt
bGV2ZWwgcm91dGluZyBpcyBtb3ZlZCB0byBncm91cApzZXR1cCBhcyBpdCBvbmx5IGRlcGVuZHMg
b24gdGhlIGdyb3VwIHN0YXRlIGFuZCB0aGUgc3RhdGUgb2YgdGhlIENSVENzCml0IGNvbnRhaW5z
LiBHbG9iYWwgcm91dGluZyBpcyBtb3ZlZCB0byB0aGUgY29tbWl0IHRhaWwgaGFuZGxlciwgYW5k
CmJhc2VkIG9uIGdsb2JhbCBEVSBzdGF0ZS4KClNpZ25lZC1vZmYtYnk6IExhdXJlbnQgUGluY2hh
cnQgPGxhdXJlbnQucGluY2hhcnQrcmVuZXNhc0BpZGVhc29uYm9hcmQuY29tPgotLS0KIGRyaXZl
cnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfY3J0Yy5jICB8ICAgMyArLQogZHJpdmVycy9ncHUv
ZHJtL3JjYXItZHUvcmNhcl9kdV9kcnYuaCAgIHwgICAxIC0KIGRyaXZlcnMvZ3B1L2RybS9yY2Fy
LWR1L3JjYXJfZHVfZ3JvdXAuYyB8IDE1NCArKysrKysrKysrKysrKysrLS0tLS0tLS0KIGRyaXZl
cnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfZ3JvdXAuaCB8ICAgMyArLQogZHJpdmVycy9ncHUv
ZHJtL3JjYXItZHUvcmNhcl9kdV9rbXMuYyAgIHwgIDE2ICstLQogZHJpdmVycy9ncHUvZHJtL3Jj
YXItZHUvcmNhcl9kdV9wbGFuZS5jIHwgIDEwICstCiA2IGZpbGVzIGNoYW5nZWQsIDExNSBpbnNl
cnRpb25zKCspLCA3MiBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
cmNhci1kdS9yY2FyX2R1X2NydGMuYyBiL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVf
Y3J0Yy5jCmluZGV4IGFiNWMyODhmOWQwOS4uZjZlYTE5Njc0YTMxIDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X2NydGMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0v
cmNhci1kdS9yY2FyX2R1X2NydGMuYwpAQCAtNjk1LDkgKzY5NSw4IEBAIGludCByY2FyX2R1X2Ny
dGNfYXRvbWljX21vZGVzZXQoc3RydWN0IGRybV9kZXZpY2UgKmRldiwKIAkJICAgICFjcnRjX3N0
YXRlLT5hY3RpdmUpCiAJCQljb250aW51ZTsKIAotCQkvKiBDb25maWd1cmUgZGlzcGxheSB0aW1p
bmdzIGFuZCBvdXRwdXQgcm91dGluZy4gKi8KKwkJLyogQ29uZmlndXJlIGRpc3BsYXkgdGltaW5n
cy4gKi8KIAkJcmNhcl9kdV9jcnRjX3NldF9kaXNwbGF5X3RpbWluZyhyY3J0Yyk7Ci0JCXJjYXJf
ZHVfZ3JvdXBfc2V0X3JvdXRpbmcocmNydGMtPmdyb3VwKTsKIAogCQlpZiAocmNhcl9kdV9oYXMo
cmNydGMtPmRldiwgUkNBUl9EVV9GRUFUVVJFX1ZTUDFfU09VUkNFKSkKIAkJCXJjYXJfZHVfdnNw
X21vZGVzZXQocmNydGMpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNh
cl9kdV9kcnYuaCBiL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfZHJ2LmgKaW5kZXgg
MGNjMDk4NGJmMmVhLi40ZTNhMTI0OTYwOTggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9y
Y2FyLWR1L3JjYXJfZHVfZHJ2LmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9k
dV9kcnYuaApAQCAtOTIsNyArOTIsNiBAQCBzdHJ1Y3QgcmNhcl9kdV9kZXZpY2UgewogCX0gcHJv
cHM7CiAKIAl1bnNpZ25lZCBpbnQgZHBhZDBfc291cmNlOwotCXVuc2lnbmVkIGludCBkcGFkMV9z
b3VyY2U7CiAJdW5zaWduZWQgaW50IHZzcGQxX3Npbms7CiB9OwogCmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X2dyb3VwLmMgYi9kcml2ZXJzL2dwdS9kcm0vcmNh
ci1kdS9yY2FyX2R1X2dyb3VwLmMKaW5kZXggN2M5MTQ1Nzc4NTY3Li4yNjFiYWFmN2MxZjUgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfZ3JvdXAuYworKysgYi9k
cml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X2dyb3VwLmMKQEAgLTQ2LDYgKzQ2LDEwIEBA
IHZvaWQgcmNhcl9kdV9ncm91cF93cml0ZShzdHJ1Y3QgcmNhcl9kdV9ncm91cCAqcmdycCwgdTMy
IHJlZywgdTMyIGRhdGEpCiAJcmNhcl9kdV93cml0ZShyZ3JwLT5kZXYsIHJncnAtPm1taW9fb2Zm
c2V0ICsgcmVnLCBkYXRhKTsKIH0KIAorLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KKyAqIFN0YXRp
YyBHcm91cCBTZXR1cAorICovCisKIHN0YXRpYyB2b2lkIHJjYXJfZHVfZ3JvdXBfc2V0dXBfcGlu
cyhzdHJ1Y3QgcmNhcl9kdV9ncm91cCAqcmdycCkKIHsKIAl1MzIgZGVmcjYgPSBERUZSNl9DT0RF
OwpAQCAtNTksMzcgKzYzLDYgQEAgc3RhdGljIHZvaWQgcmNhcl9kdV9ncm91cF9zZXR1cF9waW5z
KHN0cnVjdCByY2FyX2R1X2dyb3VwICpyZ3JwKQogCXJjYXJfZHVfZ3JvdXBfd3JpdGUocmdycCwg
REVGUjYsIGRlZnI2KTsKIH0KIAotc3RhdGljIHZvaWQgcmNhcl9kdV9ncm91cF9zZXR1cF9kZWZy
OChzdHJ1Y3QgcmNhcl9kdV9ncm91cCAqcmdycCkKLXsKLQlzdHJ1Y3QgcmNhcl9kdV9kZXZpY2Ug
KnJjZHUgPSByZ3JwLT5kZXY7Ci0JdTMyIGRlZnI4ID0gREVGUjhfQ09ERTsKLQotCWlmIChyY2R1
LT5pbmZvLT5nZW4gPCAzKSB7Ci0JCWRlZnI4IHw9IERFRlI4X0RFRkU4OwotCi0JCS8qCi0JCSAq
IE9uIEdlbjIgdGhlIERFRlI4IHJlZ2lzdGVyIGZvciB0aGUgZmlyc3QgZ3JvdXAgYWxzbyBjb250
cm9scwotCQkgKiBSR0Igb3V0cHV0IHJvdXRpbmcgdG8gRFBBRDAgYW5kIFZTUEQxIHJvdXRpbmcg
dG8gRFUwLzEvMiBmb3IKLQkJICogRFUgaW5zdGFuY2VzIHRoYXQgc3VwcG9ydCBpdC4KLQkJICov
Ci0JCWlmIChyZ3JwLT5pbmRleCA9PSAwKSB7Ci0JCQlkZWZyOCB8PSBERUZSOF9EUkdCU19EVShy
Y2R1LT5kcGFkMF9zb3VyY2UpOwotCQkJaWYgKHJncnAtPmRldi0+dnNwZDFfc2luayA9PSAyKQot
CQkJCWRlZnI4IHw9IERFRlI4X1ZTQ1M7Ci0JCX0KLQl9IGVsc2UgewotCQkvKgotCQkgKiBPbiBH
ZW4zIFZTUEQgcm91dGluZyBjYW4ndCBiZSBjb25maWd1cmVkLCBhbmQgRFBBRCByb3V0aW5nCi0J
CSAqIGlzIHNldCBpbiB0aGUgZ3JvdXAgY29ycmVzcG9uZGluZyB0byB0aGUgRFBBRCBvdXRwdXQg
KG5vIEdlbjMKLQkJICogU29DIGhhcyBtdWx0aXBsZSBEUEFEIHNvdXJjZXMgYmVsb25naW5nIHRv
IHNlcGFyYXRlIGdyb3VwcykuCi0JCSAqLwotCQlpZiAocmdycC0+aW5kZXggPT0gcmNkdS0+ZHBh
ZDBfc291cmNlIC8gMikKLQkJCWRlZnI4IHw9IERFRlI4X0RSR0JTX0RVKHJjZHUtPmRwYWQwX3Nv
dXJjZSk7Ci0JfQotCi0JcmNhcl9kdV9ncm91cF93cml0ZShyZ3JwLCBERUZSOCwgZGVmcjgpOwot
fQotCiBzdGF0aWMgdm9pZCByY2FyX2R1X2dyb3VwX3NldHVwX2RpZHNyKHN0cnVjdCByY2FyX2R1
X2dyb3VwICpyZ3JwKQogewogCXN0cnVjdCByY2FyX2R1X2RldmljZSAqcmNkdSA9IHJncnAtPmRl
djsKQEAgLTE1MywxMCArMTI2LDggQEAgc3RhdGljIHZvaWQgcmNhcl9kdV9ncm91cF9zZXR1cChz
dHJ1Y3QgcmNhcl9kdV9ncm91cCAqcmdycCkKIAogCXJjYXJfZHVfZ3JvdXBfc2V0dXBfcGlucyhy
Z3JwKTsKIAotCWlmIChyY2R1LT5pbmZvLT5nZW4gPj0gMikgewotCQlyY2FyX2R1X2dyb3VwX3Nl
dHVwX2RlZnI4KHJncnApOworCWlmIChyY2R1LT5pbmZvLT5nZW4gPj0gMikKIAkJcmNhcl9kdV9n
cm91cF9zZXR1cF9kaWRzcihyZ3JwKTsKLQl9CiAKIAlpZiAocmNkdS0+aW5mby0+Z2VuID49IDMp
CiAJCXJjYXJfZHVfZ3JvdXBfd3JpdGUocmdycCwgREVGUjEwLCBERUZSMTBfQ09ERSB8IERFRlIx
MF9ERUZFMTApOwpAQCAtMTc0LDYgKzE0NSwxMCBAQCBzdGF0aWMgdm9pZCByY2FyX2R1X2dyb3Vw
X3NldHVwKHN0cnVjdCByY2FyX2R1X2dyb3VwICpyZ3JwKQogCW11dGV4X3VubG9jaygmcmdycC0+
bG9jayk7CiB9CiAKKy8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCisgKiBTdGFydCAmIFN0b3AKKyAq
LworCiBzdGF0aWMgdm9pZCBfX3JjYXJfZHVfZ3JvdXBfc3RhcnRfc3RvcChzdHJ1Y3QgcmNhcl9k
dV9ncm91cCAqcmdycCwgYm9vbCBzdGFydCkKIHsKIAlzdHJ1Y3QgcmNhcl9kdV9kZXZpY2UgKnJj
ZHUgPSByZ3JwLT5kZXY7CkBAIC0yMjksMjYgKzIwNCw2MyBAQCB2b2lkIHJjYXJfZHVfZ3JvdXBf
cmVzdGFydChzdHJ1Y3QgcmNhcl9kdV9ncm91cCAqcmdycCkKIAlfX3JjYXJfZHVfZ3JvdXBfc3Rh
cnRfc3RvcChyZ3JwLCB0cnVlKTsKIH0KIAorLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KKyAqIElu
cHV0IGFuZCBPdXRwdXQgUm91dGluZworICovCisKK3N0YXRpYyB2b2lkIHJjYXJfZHVfZ3JvdXBf
c2V0dXBfZGVmcjgoc3RydWN0IHJjYXJfZHVfZ3JvdXAgKnJncnApCit7CisJc3RydWN0IHJjYXJf
ZHVfZGV2aWNlICpyY2R1ID0gcmdycC0+ZGV2OworCXUzMiBkZWZyOCA9IERFRlI4X0NPREU7CisK
KwlpZiAocmNkdS0+aW5mby0+Z2VuIDwgMykgeworCQlkZWZyOCB8PSBERUZSOF9ERUZFODsKKwor
CQkvKgorCQkgKiBPbiBHZW4yIHRoZSBERUZSOCByZWdpc3RlciBmb3IgdGhlIGZpcnN0IGdyb3Vw
IGFsc28gY29udHJvbHMKKwkJICogUkdCIG91dHB1dCByb3V0aW5nIHRvIERQQUQwIGFuZCBWU1BE
MSByb3V0aW5nIHRvIERVMC8xLzIgZm9yCisJCSAqIERVIGluc3RhbmNlcyB0aGF0IHN1cHBvcnQg
aXQuCisJCSAqLworCQlpZiAocmdycC0+aW5kZXggPT0gMCkgeworCQkJZGVmcjggfD0gREVGUjhf
RFJHQlNfRFUocmNkdS0+ZHBhZDBfc291cmNlKTsKKwkJCWlmIChyZ3JwLT5kZXYtPnZzcGQxX3Np
bmsgPT0gMikKKwkJCQlkZWZyOCB8PSBERUZSOF9WU0NTOworCQl9CisJfSBlbHNlIHsKKwkJLyoK
KwkJICogT24gR2VuMyBWU1BEIHJvdXRpbmcgY2FuJ3QgYmUgY29uZmlndXJlZCwgYW5kIERQQUQg
cm91dGluZworCQkgKiBpcyBzZXQgaW4gdGhlIGdyb3VwIGNvcnJlc3BvbmRpbmcgdG8gdGhlIERQ
QUQgb3V0cHV0IChubyBHZW4zCisJCSAqIFNvQyBoYXMgbXVsdGlwbGUgRFBBRCBzb3VyY2VzIGJl
bG9uZ2luZyB0byBzZXBhcmF0ZSBncm91cHMpLgorCQkgKi8KKwkJaWYgKHJncnAtPmluZGV4ID09
IHJjZHUtPmRwYWQwX3NvdXJjZSAvIDIpCisJCQlkZWZyOCB8PSBERUZSOF9EUkdCU19EVShyY2R1
LT5kcGFkMF9zb3VyY2UpOworCX0KKworCXJjYXJfZHVfZ3JvdXBfd3JpdGUocmdycCwgREVGUjgs
IGRlZnI4KTsKK30KKwogaW50IHJjYXJfZHVfc2V0X2RwYWQwX3ZzcDFfcm91dGluZyhzdHJ1Y3Qg
cmNhcl9kdV9kZXZpY2UgKnJjZHUpCiB7CiAJc3RydWN0IHJjYXJfZHVfZ3JvdXAgKnJncnA7CiAJ
c3RydWN0IHJjYXJfZHVfY3J0YyAqY3J0YzsKLQl1bnNpZ25lZCBpbnQgaW5kZXg7CiAJaW50IHJl
dDsKIAotCWlmIChyY2R1LT5pbmZvLT5nZW4gPCAyKQorCS8qCisJICogT25seSBHZW4yIGhhcmR3
YXJlIGhhcyBnbG9iYWwgcm91dGluZyBub3QgaGFuZGxlZCBpbiB0aGUgZ3JvdXAgdGhhdAorCSAq
IGhvbGRzIHRoZSBjb3JyZXNwb25kaW5nIENSVENzLgorCSAqLworCWlmIChyY2R1LT5pbmZvLT5n
ZW4gIT0gMikKIAkJcmV0dXJuIDA7CiAKIAkvKgogCSAqIFJHQiBvdXRwdXQgcm91dGluZyB0byBE
UEFEMCBhbmQgVlNQMUQgcm91dGluZyB0byBEVTAvMS8yIGFyZQotCSAqIGNvbmZpZ3VyZWQgaW4g
dGhlIERFRlI4IHJlZ2lzdGVyIG9mIHRoZSBmaXJzdCBncm91cCBvbiBHZW4yIGFuZCB0aGUKLQkg
KiBsYXN0IGdyb3VwIG9uIEdlbjMuIEFzIHRoaXMgZnVuY3Rpb24gY2FuIGJlIGNhbGxlZCB3aXRo
IHRoZSBEVQotCSAqIGNoYW5uZWxzIG9mIHRoZSBjb3JyZXNwb25kaW5nIENSVENzIGRpc2FibGVk
LCB3ZSBuZWVkIHRvIGVuYWJsZSB0aGUKLQkgKiBncm91cCBjbG9jayBiZWZvcmUgYWNjZXNzaW5n
IHRoZSByZWdpc3Rlci4KKwkgKiBjb25maWd1cmVkIGluIHRoZSBERUZSOCByZWdpc3RlciBvZiB0
aGUgZmlyc3QgZ3JvdXAgb24gR2VuMi4gQXMgdGhpcworCSAqIGZ1bmN0aW9uIGNhbiBiZSBjYWxs
ZWQgd2l0aCB0aGUgRFUgY2hhbm5lbHMgb2YgdGhlIGNvcnJlc3BvbmRpbmcKKwkgKiBDUlRDcyBk
aXNhYmxlZCwgd2UgbmVlZCB0byBlbmFibGUgdGhlIGdyb3VwIGNsb2NrIGJlZm9yZSBhY2Nlc3Np
bmcKKwkgKiB0aGUgcmVnaXN0ZXIuCiAJICovCi0JaW5kZXggPSByY2R1LT5pbmZvLT5nZW4gPCAz
ID8gMCA6IERJVl9ST1VORF9VUChyY2R1LT5udW1fY3J0Y3MsIDIpIC0gMTsKLQlyZ3JwID0gJnJj
ZHUtPmdyb3Vwc1tpbmRleF07Ci0JY3J0YyA9ICZyY2R1LT5jcnRjc1tpbmRleCAqIDJdOworCXJn
cnAgPSAmcmNkdS0+Z3JvdXBzWzBdOworCWNydGMgPSAmcmNkdS0+Y3J0Y3NbMF07CiAKIAlyZXQg
PSBjbGtfcHJlcGFyZV9lbmFibGUoY3J0Yy0+Y2xvY2spOwogCWlmIChyZXQgPCAwKQpAQCAtMzAy
LDE5ICszMTQsMzMgQEAgc3RhdGljIHZvaWQgcmNhcl9kdV9ncm91cF9zZXRfZHBhZF9sZXZlbHMo
c3RydWN0IHJjYXJfZHVfZ3JvdXAgKnJncnApCiAJcmNhcl9kdV9ncm91cF93cml0ZShyZ3JwLCBE
T0ZMUiwgZG9mbHIpOwogfQogCi1pbnQgcmNhcl9kdV9ncm91cF9zZXRfcm91dGluZyhzdHJ1Y3Qg
cmNhcl9kdV9ncm91cCAqcmdycCkKK3N0YXRpYyB2b2lkIHJjYXJfZHVfZ3JvdXBfc2V0X3JvdXRp
bmcoc3RydWN0IHJjYXJfZHVfZ3JvdXAgKnJncnApCiB7CiAJc3RydWN0IHJjYXJfZHVfZGV2aWNl
ICpyY2R1ID0gcmdycC0+ZGV2OwogCXUzMiBkb3JjciA9IHJjYXJfZHVfZ3JvdXBfcmVhZChyZ3Jw
LCBET1JDUik7CisJYm9vbCBzcDFfdG9fcGluMiA9IGZhbHNlOwogCiAJZG9yY3IgJj0gfihET1JD
Ul9QRzJUIHwgRE9SQ1JfREsyUyB8IERPUkNSX1BHMkRfTUFTSyk7CiAKIAkvKgotCSAqIFNldCB0
aGUgRFBBRDEgcGlucyBzb3VyY2VzLiBTZWxlY3QgQ1JUQyAwIGlmIGV4cGxpY2l0bHkgcmVxdWVz
dGVkIGFuZAotCSAqIENSVEMgMSBpbiBhbGwgb3RoZXIgY2FzZXMgdG8gYXZvaWQgY2xvbmluZyBD
UlRDIDAgdG8gRFBBRDAgYW5kIERQQUQxCi0JICogYnkgZGVmYXVsdC4KKwkgKiBDb25maWd1cmUg
dGhlIHN1cGVycG9zaXRpb24gcHJvY2Vzc29yIHRvIHBpbiBjb250cm9sbGVyIHJvdXRpbmcuCisJ
ICogSGFyZGNvZGUgdGhlIGFzc2lnbm1lbnQsIGV4Y2VwdCBvbiBHZW4xIHdoZXJlIHdlIHVzZSBp
dCB0byByb3V0ZSB0aGUKKwkgKiBEVSBjaGFubmVscyB0byBEUEFEMS4gVGhlcmUgd2Ugcm91dGUg
Q1JUQyAwIHRvIERQQUQxIGlmIGV4cGxpY2l0bHkKKwkgKiByZXF1ZXN0ZWQsIGFuZCBDUlRDIDEg
aW4gYWxsIG90aGVyIGNhc2VzIHRvIGF2b2lkIGNsb25pbmcgQ1JUQyAwIHRvCisJICogRFBBRDAg
YW5kIERQQUQxIGJ5IGRlZmF1bHQuCiAJICovCi0JaWYgKHJjZHUtPmRwYWQxX3NvdXJjZSA9PSBy
Z3JwLT5pbmRleCAqIDIpCisJaWYgKHJjZHUtPmluZm8tPmdlbiA9PSAxICYmIHJncnAtPmluZGV4
ID09IDApIHsKKwkJc3RydWN0IHJjYXJfZHVfY3J0Y19zdGF0ZSAqcnN0YXRlOworCQlzdHJ1Y3Qg
cmNhcl9kdV9jcnRjICpyY3J0YzsKKworCQlyY3J0YyA9ICZyY2R1LT5jcnRjc1swXTsKKwkJcnN0
YXRlID0gdG9fcmNhcl9jcnRjX3N0YXRlKHJjcnRjLT5jcnRjLnN0YXRlKTsKKworCQlpZiAocnN0
YXRlLT5vdXRwdXRzICYgQklUKFJDQVJfRFVfT1VUUFVUX0RQQUQxKSkKKwkJCXNwMV90b19waW4y
ID0gdHJ1ZTsKKwl9CisKKwlpZiAoc3AxX3RvX3BpbjIpCiAJCWRvcmNyIHw9IERPUkNSX1BHMkRf
RFMxOwogCWVsc2UKIAkJZG9yY3IgfD0gRE9SQ1JfUEcyVCB8IERPUkNSX0RLMlMgfCBET1JDUl9Q
RzJEX0RTMjsKQEAgLTMyMyw3ICszNDksNyBAQCBpbnQgcmNhcl9kdV9ncm91cF9zZXRfcm91dGlu
ZyhzdHJ1Y3QgcmNhcl9kdV9ncm91cCAqcmdycCkKIAogCXJjYXJfZHVfZ3JvdXBfc2V0X2RwYWRf
bGV2ZWxzKHJncnApOwogCi0JcmV0dXJuIHJjYXJfZHVfc2V0X2RwYWQwX3ZzcDFfcm91dGluZyhy
Z3JwLT5kZXYpOworCXJjYXJfZHVfZ3JvdXBfc2V0dXBfZGVmcjgocmdycCk7CiB9CiAKIC8qIC0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tCkBAIC00MzAsMjAgKzQ1NiwzNiBAQCByY2FyX2R1X2dldF9uZXdf
Z3JvdXBfc3RhdGUoc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnN0YXRlLAogaW50IHJjYXJfZHVf
Z3JvdXBfYXRvbWljX2NoZWNrKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCiAJCQkgICAgICAgc3Ry
dWN0IGRybV9hdG9taWNfc3RhdGUgKnN0YXRlKQogewotCXN0cnVjdCBkcm1fY3J0Y19zdGF0ZSAq
Y3J0Y19zdGF0ZTsKKwlzdGF0aWMgY29uc3QgdTMyIGRwYWRfbWFzayA9IEJJVChSQ0FSX0RVX09V
VFBVVF9EUEFEMSkKKwkJCQkgICB8IEJJVChSQ0FSX0RVX09VVFBVVF9EUEFEMCk7CisJc3RydWN0
IGRybV9jcnRjX3N0YXRlICpvbGRfY3J0Y19zdGF0ZTsKKwlzdHJ1Y3QgZHJtX2NydGNfc3RhdGUg
Km5ld19jcnRjX3N0YXRlOwogCXN0cnVjdCBkcm1fY3J0YyAqY3J0YzsKIAl1bnNpZ25lZCBpbnQg
aTsKIAotCWZvcl9lYWNoX25ld19jcnRjX2luX3N0YXRlKHN0YXRlLCBjcnRjLCBjcnRjX3N0YXRl
LCBpKSB7CisJZm9yX2VhY2hfb2xkbmV3X2NydGNfaW5fc3RhdGUoc3RhdGUsIGNydGMsIG9sZF9j
cnRjX3N0YXRlLCBuZXdfY3J0Y19zdGF0ZSwgaSkgewogCQlzdHJ1Y3QgcmNhcl9kdV9jcnRjICpy
Y3J0YyA9IHRvX3JjYXJfY3J0YyhjcnRjKTsKKwkJc3RydWN0IHJjYXJfZHVfY3J0Y19zdGF0ZSAq
b2xkX3JjcnRjX3N0YXRlOworCQlzdHJ1Y3QgcmNhcl9kdV9jcnRjX3N0YXRlICpuZXdfcmNydGNf
c3RhdGU7CiAJCXN0cnVjdCByY2FyX2R1X2dyb3VwX3N0YXRlICpnc3RhdGU7CiAKIAkJZ3N0YXRl
ID0gcmNhcl9kdV9nZXRfZ3JvdXBfc3RhdGUoc3RhdGUsIHJjcnRjLT5ncm91cCk7CiAJCWlmIChJ
U19FUlIoZ3N0YXRlKSkKIAkJCXJldHVybiBQVFJfRVJSKGdzdGF0ZSk7CiAKLQkJaWYgKGNydGNf
c3RhdGUtPmFjdGl2ZSkKKwkJaWYgKG5ld19jcnRjX3N0YXRlLT5hY3RpdmUpCiAJCQlnc3RhdGUt
PmVuYWJsZWQgPSB0cnVlOworCisJCWlmICghbmV3X2NydGNfc3RhdGUtPmFjdGl2ZV9jaGFuZ2Vk
ICYmCisJCSAgICAhbmV3X2NydGNfc3RhdGUtPmNvbm5lY3RvcnNfY2hhbmdlZCkKKwkJCWNvbnRp
bnVlOworCisJCW9sZF9yY3J0Y19zdGF0ZSA9IHRvX3JjYXJfY3J0Y19zdGF0ZShvbGRfY3J0Y19z
dGF0ZSk7CisJCW5ld19yY3J0Y19zdGF0ZSA9IHRvX3JjYXJfY3J0Y19zdGF0ZShuZXdfY3J0Y19z
dGF0ZSk7CisKKwkJaWYgKChvbGRfcmNydGNfc3RhdGUtPm91dHB1dHMgJiBkcGFkX21hc2spICE9
CisJCSAgICAobmV3X3JjcnRjX3N0YXRlLT5vdXRwdXRzICYgZHBhZF9tYXNrKSkKKwkJCWdzdGF0
ZS0+ZHBhZF9yb3V0aW5nX2NoYW5nZWQgPSB0cnVlOwogCX0KIAogCXJldHVybiAwOwpAQCAtNDYz
LDggKzUwNSwxNCBAQCB2b2lkIHJjYXJfZHVfZ3JvdXBfYXRvbWljX3NldHVwKHN0cnVjdCBkcm1f
ZGV2aWNlICpkZXYsCiAJCW9sZF9zdGF0ZSA9IHRvX3JjYXJfZ3JvdXBfc3RhdGUob2xkX3BzdGF0
ZSk7CiAJCW5ld19zdGF0ZSA9IHRvX3JjYXJfZ3JvdXBfc3RhdGUobmV3X3BzdGF0ZSk7CiAKLQkJ
aWYgKCFvbGRfc3RhdGUtPmVuYWJsZWQgJiYgbmV3X3N0YXRlLT5lbmFibGVkKQorCQlpZiAoIW5l
d19zdGF0ZS0+ZW5hYmxlZCkKKwkJCWNvbnRpbnVlOworCisJCWlmICghb2xkX3N0YXRlLT5lbmFi
bGVkKQogCQkJcmNhcl9kdV9ncm91cF9zZXR1cChyZ3JwKTsKKworCQlpZiAoIW9sZF9zdGF0ZS0+
ZW5hYmxlZCB8fCBuZXdfc3RhdGUtPmRwYWRfcm91dGluZ19jaGFuZ2VkKQorCQkJcmNhcl9kdV9n
cm91cF9zZXRfcm91dGluZyhyZ3JwKTsKIAl9CiB9CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9yY2FyLWR1L3JjYXJfZHVfZ3JvdXAuaCBiL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3Jj
YXJfZHVfZ3JvdXAuaAppbmRleCAyMGVmZDIyNTFlYzQuLmIzMWIzYmY4Y2I5NCAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9ncm91cC5oCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfZ3JvdXAuaApAQCAtNTgsMTEgKzU4LDEzIEBAIHN0cnVj
dCByY2FyX2R1X2dyb3VwIHsKICAqIHN0cnVjdCByY2FyX2R1X2dyb3VwX3N0YXRlIC0gRHJpdmVy
LXNwZWNpZmljIGdyb3VwIHN0YXRlCiAgKiBAc3RhdGU6IGJhc2UgRFJNIHByaXZhdGUgc3RhdGUK
ICAqIEBlbmFibGVkOiB0cnVlIGlmIGF0IGxlYXN0IG9uZSBDUlRDIGluIHRoZSBncm91cCBpcyBl
bmFibGVkCisgKiBAZHBhZF9yb3V0aW5nX2NoYW5nZWQ6IHNldCBpZiBDUlRDIHRvIERQQUQgb3V0
cHV0IHJvdXRpbmcgaGFzIGNoYW5nZWQKICAqLwogc3RydWN0IHJjYXJfZHVfZ3JvdXBfc3RhdGUg
ewogCXN0cnVjdCBkcm1fcHJpdmF0ZV9zdGF0ZSBzdGF0ZTsKIAogCWJvb2wgZW5hYmxlZDsKKwli
b29sIGRwYWRfcm91dGluZ19jaGFuZ2VkOwogfTsKIAogI2RlZmluZSB0b19yY2FyX2dyb3VwX3N0
YXRlKHMpIFwKQEAgLTczLDcgKzc1LDYgQEAgdm9pZCByY2FyX2R1X2dyb3VwX3dyaXRlKHN0cnVj
dCByY2FyX2R1X2dyb3VwICpyZ3JwLCB1MzIgcmVnLCB1MzIgZGF0YSk7CiAKIHZvaWQgcmNhcl9k
dV9ncm91cF9zdGFydF9zdG9wKHN0cnVjdCByY2FyX2R1X2dyb3VwICpyZ3JwLCBib29sIHN0YXJ0
KTsKIHZvaWQgcmNhcl9kdV9ncm91cF9yZXN0YXJ0KHN0cnVjdCByY2FyX2R1X2dyb3VwICpyZ3Jw
KTsKLWludCByY2FyX2R1X2dyb3VwX3NldF9yb3V0aW5nKHN0cnVjdCByY2FyX2R1X2dyb3VwICpy
Z3JwKTsKIAogaW50IHJjYXJfZHVfc2V0X2RwYWQwX3ZzcDFfcm91dGluZyhzdHJ1Y3QgcmNhcl9k
dV9kZXZpY2UgKnJjZHUpOwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9y
Y2FyX2R1X2ttcy5jIGIvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9rbXMuYwppbmRl
eCA2NTM5NjEzNGZiYTEuLjc3ODA2MGJmZDM4MyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L3JjYXItZHUvcmNhcl9kdV9rbXMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2Fy
X2R1X2ttcy5jCkBAIC0zOTMsMTQgKzM5MywxNCBAQCBzdGF0aWMgdm9pZCByY2FyX2R1X2F0b21p
Y19jb21taXRfdGFpbChzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqb2xkX3N0YXRlKQogCXN0cnVj
dCByY2FyX2R1X2RldmljZSAqcmNkdSA9IGRldi0+ZGV2X3ByaXZhdGU7CiAJc3RydWN0IGRybV9j
cnRjX3N0YXRlICpjcnRjX3N0YXRlOwogCXN0cnVjdCBkcm1fY3J0YyAqY3J0YzsKKwl1bnNpZ25l
ZCBpbnQgdnNwZDFfc2luayA9IHJjZHUtPnZzcGQxX3Npbms7CisJdW5zaWduZWQgaW50IGRwYWQw
X3NvdXJjZSA9IHJjZHUtPmRwYWQwX3NvdXJjZTsKIAl1bnNpZ25lZCBpbnQgaTsKIAogCS8qCi0J
ICogU3RvcmUgUkdCIHJvdXRpbmcgdG8gRFBBRDAgYW5kIERQQUQxLCB0aGUgaGFyZHdhcmUgd2ls
bCBiZSBjb25maWd1cmVkCi0JICogd2hlbiBzdGFydGluZyB0aGUgQ1JUQ3MuCisJICogU3RvcmUg
UkdCIHJvdXRpbmcgdG8gRFBBRDAsIHRoZSBoYXJkd2FyZSB3aWxsIGJlIGNvbmZpZ3VyZWQgd2hl
bgorCSAqIHNldHRpbmcgdXAgdGhlIGdyb3Vwcy4KIAkgKi8KLQlyY2R1LT5kcGFkMV9zb3VyY2Ug
PSAtMTsKLQogCWZvcl9lYWNoX25ld19jcnRjX2luX3N0YXRlKG9sZF9zdGF0ZSwgY3J0YywgY3J0
Y19zdGF0ZSwgaSkgewogCQlzdHJ1Y3QgcmNhcl9kdV9jcnRjX3N0YXRlICpyY3J0Y19zdGF0ZSA9
CiAJCQl0b19yY2FyX2NydGNfc3RhdGUoY3J0Y19zdGF0ZSk7CkBAIC00MDgsOSArNDA4LDYgQEAg
c3RhdGljIHZvaWQgcmNhcl9kdV9hdG9taWNfY29tbWl0X3RhaWwoc3RydWN0IGRybV9hdG9taWNf
c3RhdGUgKm9sZF9zdGF0ZSkKIAogCQlpZiAocmNydGNfc3RhdGUtPm91dHB1dHMgJiBCSVQoUkNB
Ul9EVV9PVVRQVVRfRFBBRDApKQogCQkJcmNkdS0+ZHBhZDBfc291cmNlID0gcmNydGMtPmluZGV4
OwotCi0JCWlmIChyY3J0Y19zdGF0ZS0+b3V0cHV0cyAmIEJJVChSQ0FSX0RVX09VVFBVVF9EUEFE
MSkpCi0JCQlyY2R1LT5kcGFkMV9zb3VyY2UgPSByY3J0Yy0+aW5kZXg7CiAJfQogCiAJLyogQXBw
bHkgdGhlIGF0b21pYyB1cGRhdGUuICovCkBAIC00MjEsNiArNDE4LDExIEBAIHN0YXRpYyB2b2lk
IHJjYXJfZHVfYXRvbWljX2NvbW1pdF90YWlsKHN0cnVjdCBkcm1fYXRvbWljX3N0YXRlICpvbGRf
c3RhdGUpCiAJcmNhcl9kdV9jcnRjX2F0b21pY19tb2Rlc2V0KGRldiwgb2xkX3N0YXRlKTsKIAlk
cm1fYXRvbWljX2hlbHBlcl9jb21taXRfcGxhbmVzKGRldiwgb2xkX3N0YXRlLAogCQkJCQlEUk1f
UExBTkVfQ09NTUlUX0FDVElWRV9PTkxZKTsKKworCWlmIChyY2R1LT52c3BkMV9zaW5rICE9IHZz
cGQxX3NpbmsgfHwKKwkgICAgcmNkdS0+ZHBhZDBfc291cmNlICE9IGRwYWQwX3NvdXJjZSkKKwkJ
cmNhcl9kdV9zZXRfZHBhZDBfdnNwMV9yb3V0aW5nKHJjZHUpOworCiAJZHJtX2F0b21pY19oZWxw
ZXJfY29tbWl0X21vZGVzZXRfZW5hYmxlcyhkZXYsIG9sZF9zdGF0ZSk7CiAKIAlyY2FyX2R1X2Ny
dGNfYXRvbWljX2VudGVyX3N0YW5kYnkoZGV2LCBvbGRfc3RhdGUpOwpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9wbGFuZS5jIGIvZHJpdmVycy9ncHUvZHJtL3Jj
YXItZHUvcmNhcl9kdV9wbGFuZS5jCmluZGV4IGM2NDMwMDI3MTY5Zi4uOWJmMzI1ODVkYWIzIDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X3BsYW5lLmMKKysrIGIv
ZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9wbGFuZS5jCkBAIC01NTIsMTQgKzU1Miw4
IEBAIHZvaWQgX19yY2FyX2R1X3BsYW5lX3NldHVwKHN0cnVjdCByY2FyX2R1X2dyb3VwICpyZ3Jw
LAogCWlmIChyY2R1LT5pbmZvLT5nZW4gPCAzKQogCQlyY2FyX2R1X3BsYW5lX3NldHVwX3NjYW5v
dXQocmdycCwgc3RhdGUpOwogCi0JaWYgKHN0YXRlLT5zb3VyY2UgPT0gUkNBUl9EVV9QTEFORV9W
U1BEMSkgewotCQl1bnNpZ25lZCBpbnQgdnNwZDFfc2luayA9IHJncnAtPmluZGV4ID8gMiA6IDA7
Ci0KLQkJaWYgKHJjZHUtPnZzcGQxX3NpbmsgIT0gdnNwZDFfc2luaykgewotCQkJcmNkdS0+dnNw
ZDFfc2luayA9IHZzcGQxX3Npbms7Ci0JCQlyY2FyX2R1X3NldF9kcGFkMF92c3AxX3JvdXRpbmco
cmNkdSk7Ci0JCX0KLQl9CisJaWYgKHN0YXRlLT5zb3VyY2UgPT0gUkNBUl9EVV9QTEFORV9WU1BE
MSkKKwkJcmNkdS0+dnNwZDFfc2luayA9IHJncnAtPmluZGV4ID8gMiA6IDA7CiB9CiAKIGludCBf
X3JjYXJfZHVfcGxhbmVfYXRvbWljX2NoZWNrKHN0cnVjdCBkcm1fcGxhbmUgKnBsYW5lLAotLSAK
UmVnYXJkcywKCkxhdXJlbnQgUGluY2hhcnQKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3Rz
LmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xp
c3RpbmZvL2RyaS1kZXZlbA==
