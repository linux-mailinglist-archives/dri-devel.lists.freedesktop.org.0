Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id E72CC296F20
	for <lists+dri-devel@lfdr.de>; Fri, 23 Oct 2020 14:28:24 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A7B106E58E;
	Fri, 23 Oct 2020 12:28:22 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wm1-x342.google.com (mail-wm1-x342.google.com
 [IPv6:2a00:1450:4864:20::342])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 722616E529
 for <dri-devel@lists.freedesktop.org>; Fri, 23 Oct 2020 12:28:20 +0000 (UTC)
Received: by mail-wm1-x342.google.com with SMTP id e2so1324496wme.1
 for <dri-devel@lists.freedesktop.org>; Fri, 23 Oct 2020 05:28:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=ffwll.ch; s=google;
 h=from:to:cc:subject:date:message-id:mime-version
 :content-transfer-encoding;
 bh=9H0cfAalVpaVAr+ZurbtobLmSRPH0ZSpTKul8nAD2Ok=;
 b=Z1xcnfE8Bt6tm1a2leErZxHasjxxMEsOmaeO2fHkcPe1IlOwts+SOEU5/XiqB/Ihyw
 tsoZqzcIMr1TmwnPizNG/YJutSCu5XbK0unwlQlRFP2ddy8vdb0YitYM1xH2yJxmMWqT
 U4S2FShy09EPE6aoj/puVrHs6PQ0bKe4BASfM=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:mime-version
 :content-transfer-encoding;
 bh=9H0cfAalVpaVAr+ZurbtobLmSRPH0ZSpTKul8nAD2Ok=;
 b=lwWVJ6/BfhgmdNKhZVsr4yGxk8dSOgFxUL02Rei/a0MuBlS8NSJiPrsleemHdp5riF
 dkHhHRULcqfF31wqgjnBM9KVJJXnG8Hu2Urv06qnnr5c1lizsDNoFI5dTgDcoDSrddkU
 3Ft52W69qr8pdc6Sqr9L4fZk/GONJEuHvp0ccAtMBhD4oj6Cdk5xsz/qYYLdaWBY+FwF
 3dN5IPnKqmuVSsbAvGgwqCjdu4ITUECilAJknW97QzS9angGMBi6sgssyoaZHuA5nlv6
 8IughhwJyIyKw+259/ho0kmKvAJN2B24cWrHhyWVqtqvLVQK4kKM6zg70x/Uj4DqlxoK
 R9cA==
X-Gm-Message-State: AOAM531Z1Ve6URne6LZtPRyBTKHEgiBpUsN6GEI61mwUleFKgd27Yf9/
 7hbBWjkSQ+VxzcGp9pH8Z5OwHq9KHJxrnh3a
X-Google-Smtp-Source: ABdhPJy+ek9hiuB1Skbl78nIch25dRHBaRCQH+8hrtMTdaj+D7aDphQWmJtFak1ZGwZ9OYpaEpLZFQ==
X-Received: by 2002:a1c:cc07:: with SMTP id h7mr2165606wmb.55.1603456098818;
 Fri, 23 Oct 2020 05:28:18 -0700 (PDT)
Received: from phenom.ffwll.local ([2a02:168:57f4:0:efd0:b9e5:5ae6:c2fa])
 by smtp.gmail.com with ESMTPSA id j5sm3133451wrx.88.2020.10.23.05.28.17
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Fri, 23 Oct 2020 05:28:17 -0700 (PDT)
From: Daniel Vetter <daniel.vetter@ffwll.ch>
To: DRI Development <dri-devel@lists.freedesktop.org>
Subject: [PATCH 1/5] drm/radeon: Stop changing the drm_driver struct
Date: Fri, 23 Oct 2020 14:28:07 +0200
Message-Id: <20201023122811.2374118-1-daniel.vetter@ffwll.ch>
X-Mailer: git-send-email 2.28.0
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Daniel Vetter <daniel.vetter@ffwll.ch>,
 Intel Graphics Development <intel-gfx@lists.freedesktop.org>,
 amd-gfx@lists.freedesktop.org, Alex Deucher <alexander.deucher@amd.com>,
 Daniel Vetter <daniel.vetter@intel.com>,
 =?UTF-8?q?Christian=20K=C3=B6nig?= <christian.koenig@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

V2l0aCBvbmx5IHRoZSBrbXMgZHJpdmVyIGxlZnQsIHdlIGNhbiBmb2xkIHRoaXMgaW4uIFRoaXMg
bWVhbnMKd2UgbmVlZCB0byBtb3ZlIHRoZSBpb2N0bCB0YWJsZSwgd2hpY2ggbWVhbnMgb25lIGFk
ZGl0aW9uYWwgaW9jdGwKbXVzdCBiZSBkZWZpbmVkIGluIGhlYWRlcnMuCgpBbHNvIHRoZXJlJ3Mg
YSBjb25mbGljdCBiZXR3ZWVuIHRoZSByYWRlb25faW5pdCBtYWNybyBhbmQgdGhlIG1vZHVsZQpp
bml0IGZ1bmN0aW9uLCBzbyByZW5hbWUgdGhlIG1vZHVsZSBmdW5jdGlvbnMgdG8gYXZvaWQgdGhh
dC4KClNpZ25lZC1vZmYtYnk6IERhbmllbCBWZXR0ZXIgPGRhbmllbC52ZXR0ZXJAaW50ZWwuY29t
PgpDYzogQWxleCBEZXVjaGVyIDxhbGV4YW5kZXIuZGV1Y2hlckBhbWQuY29tPgpDYzogIkNocmlz
dGlhbiBLw7ZuaWciIDxjaHJpc3RpYW4ua29lbmlnQGFtZC5jb20+CkNjOiBhbWQtZ2Z4QGxpc3Rz
LmZyZWVkZXNrdG9wLm9yZwpTaWduZWQtb2ZmLWJ5OiBEYW5pZWwgVmV0dGVyIDxkYW5pZWwudmV0
dGVyQGZmd2xsLmNoPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFkZW9uLmggICAgIHwg
IDEgKwogZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fZHJ2LmMgfCA4NSArKysrKysrKysr
KysrKysrKysrKy0tLS0tLS0tLQogZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fa21zLmMg
fCA0OSArLS0tLS0tLS0tLS0tLS0tLQogMyBmaWxlcyBjaGFuZ2VkLCA2MiBpbnNlcnRpb25zKCsp
LCA3MyBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3Jh
ZGVvbi5oIGIvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb24uaAppbmRleCA1ZDU0YmNjZWJk
NGQuLmY0NzU3ODVkNjQ5MSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRl
b24uaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbi5oCkBAIC0yMjQ0LDYgKzIy
NDQsNyBAQCBpbnQgcmFkZW9uX2dlbV9zZXRfdGlsaW5nX2lvY3RsKHN0cnVjdCBkcm1fZGV2aWNl
ICpkZXYsIHZvaWQgKmRhdGEsCiAJCQkJc3RydWN0IGRybV9maWxlICpmaWxwKTsKIGludCByYWRl
b25fZ2VtX2dldF90aWxpbmdfaW9jdGwoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgdm9pZCAqZGF0
YSwKIAkJCQlzdHJ1Y3QgZHJtX2ZpbGUgKmZpbHApOworaW50IHJhZGVvbl9pbmZvX2lvY3RsKHN0
cnVjdCBkcm1fZGV2aWNlICpkZXYsIHZvaWQgKmRhdGEsIHN0cnVjdCBkcm1fZmlsZSAqZmlscCk7
CiAKIC8qIFZSQU0gc2NyYXRjaCBwYWdlIGZvciBIRFAgYnVnLCBkZWZhdWx0IHZyYW0gcGFnZSAq
Lwogc3RydWN0IHI2MDBfdnJhbV9zY3JhdGNoIHsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9yYWRlb24vcmFkZW9uX2Rydi5jIGIvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fZHJ2
LmMKaW5kZXggNjUwNjFjOTQ5YWVlLi45YzExZTM2YWQzM2EgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9yYWRlb24vcmFkZW9uX2Rydi5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24v
cmFkZW9uX2Rydi5jCkBAIC01MSw2ICs1MSw3IEBACiAjaW5jbHVkZSA8ZHJtL3JhZGVvbl9kcm0u
aD4KIAogI2luY2x1ZGUgInJhZGVvbl9kcnYuaCIKKyNpbmNsdWRlICJyYWRlb24uaCIKIAogLyoK
ICAqIEtNUyB3cmFwcGVyLgpAQCAtMTI5LDggKzEzMCw2IEBAIGV4dGVybiBpbnQgcmFkZW9uX2dl
dF9jcnRjX3NjYW5vdXRwb3Moc3RydWN0IGRybV9kZXZpY2UgKmRldiwgdW5zaWduZWQgaW50IGNy
dGMsCiAJCQkJICAgICAga3RpbWVfdCAqc3RpbWUsIGt0aW1lX3QgKmV0aW1lLAogCQkJCSAgICAg
IGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlKTsKIGV4dGVybiBib29sIHJhZGVv
bl9pc19weChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2KTsKLWV4dGVybiBjb25zdCBzdHJ1Y3QgZHJt
X2lvY3RsX2Rlc2MgcmFkZW9uX2lvY3Rsc19rbXNbXTsKLWV4dGVybiBpbnQgcmFkZW9uX21heF9r
bXNfaW9jdGw7CiBpbnQgcmFkZW9uX21tYXAoc3RydWN0IGZpbGUgKmZpbHAsIHN0cnVjdCB2bV9h
cmVhX3N0cnVjdCAqdm1hKTsKIGludCByYWRlb25fbW9kZV9kdW1iX21tYXAoc3RydWN0IGRybV9m
aWxlICpmaWxwLAogCQkJICBzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LApAQCAtNTg0LDkgKzU4Myw1
NSBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGZpbGVfb3BlcmF0aW9ucyByYWRlb25fZHJpdmVyX2tt
c19mb3BzID0gewogI2VuZGlmCiB9OwogCitzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9pb2N0bF9k
ZXNjIHJhZGVvbl9pb2N0bHNfa21zW10gPSB7CisJRFJNX0lPQ1RMX0RFRl9EUlYoUkFERU9OX0NQ
X0lOSVQsIGRybV9pbnZhbGlkX29wLCBEUk1fQVVUSHxEUk1fTUFTVEVSfERSTV9ST09UX09OTFkp
LAorCURSTV9JT0NUTF9ERUZfRFJWKFJBREVPTl9DUF9TVEFSVCwgZHJtX2ludmFsaWRfb3AsIERS
TV9BVVRIfERSTV9NQVNURVJ8RFJNX1JPT1RfT05MWSksCisJRFJNX0lPQ1RMX0RFRl9EUlYoUkFE
RU9OX0NQX1NUT1AsIGRybV9pbnZhbGlkX29wLCBEUk1fQVVUSHxEUk1fTUFTVEVSfERSTV9ST09U
X09OTFkpLAorCURSTV9JT0NUTF9ERUZfRFJWKFJBREVPTl9DUF9SRVNFVCwgZHJtX2ludmFsaWRf
b3AsIERSTV9BVVRIfERSTV9NQVNURVJ8RFJNX1JPT1RfT05MWSksCisJRFJNX0lPQ1RMX0RFRl9E
UlYoUkFERU9OX0NQX0lETEUsIGRybV9pbnZhbGlkX29wLCBEUk1fQVVUSCksCisJRFJNX0lPQ1RM
X0RFRl9EUlYoUkFERU9OX0NQX1JFU1VNRSwgZHJtX2ludmFsaWRfb3AsIERSTV9BVVRIKSwKKwlE
Uk1fSU9DVExfREVGX0RSVihSQURFT05fUkVTRVQsIGRybV9pbnZhbGlkX29wLCBEUk1fQVVUSCks
CisJRFJNX0lPQ1RMX0RFRl9EUlYoUkFERU9OX0ZVTExTQ1JFRU4sIGRybV9pbnZhbGlkX29wLCBE
Uk1fQVVUSCksCisJRFJNX0lPQ1RMX0RFRl9EUlYoUkFERU9OX1NXQVAsIGRybV9pbnZhbGlkX29w
LCBEUk1fQVVUSCksCisJRFJNX0lPQ1RMX0RFRl9EUlYoUkFERU9OX0NMRUFSLCBkcm1faW52YWxp
ZF9vcCwgRFJNX0FVVEgpLAorCURSTV9JT0NUTF9ERUZfRFJWKFJBREVPTl9WRVJURVgsIGRybV9p
bnZhbGlkX29wLCBEUk1fQVVUSCksCisJRFJNX0lPQ1RMX0RFRl9EUlYoUkFERU9OX0lORElDRVMs
IGRybV9pbnZhbGlkX29wLCBEUk1fQVVUSCksCisJRFJNX0lPQ1RMX0RFRl9EUlYoUkFERU9OX1RF
WFRVUkUsIGRybV9pbnZhbGlkX29wLCBEUk1fQVVUSCksCisJRFJNX0lPQ1RMX0RFRl9EUlYoUkFE
RU9OX1NUSVBQTEUsIGRybV9pbnZhbGlkX29wLCBEUk1fQVVUSCksCisJRFJNX0lPQ1RMX0RFRl9E
UlYoUkFERU9OX0lORElSRUNULCBkcm1faW52YWxpZF9vcCwgRFJNX0FVVEh8RFJNX01BU1RFUnxE
Uk1fUk9PVF9PTkxZKSwKKwlEUk1fSU9DVExfREVGX0RSVihSQURFT05fVkVSVEVYMiwgZHJtX2lu
dmFsaWRfb3AsIERSTV9BVVRIKSwKKwlEUk1fSU9DVExfREVGX0RSVihSQURFT05fQ01EQlVGLCBk
cm1faW52YWxpZF9vcCwgRFJNX0FVVEgpLAorCURSTV9JT0NUTF9ERUZfRFJWKFJBREVPTl9HRVRQ
QVJBTSwgZHJtX2ludmFsaWRfb3AsIERSTV9BVVRIKSwKKwlEUk1fSU9DVExfREVGX0RSVihSQURF
T05fRkxJUCwgZHJtX2ludmFsaWRfb3AsIERSTV9BVVRIKSwKKwlEUk1fSU9DVExfREVGX0RSVihS
QURFT05fQUxMT0MsIGRybV9pbnZhbGlkX29wLCBEUk1fQVVUSCksCisJRFJNX0lPQ1RMX0RFRl9E
UlYoUkFERU9OX0ZSRUUsIGRybV9pbnZhbGlkX29wLCBEUk1fQVVUSCksCisJRFJNX0lPQ1RMX0RF
Rl9EUlYoUkFERU9OX0lOSVRfSEVBUCwgZHJtX2ludmFsaWRfb3AsIERSTV9BVVRIfERSTV9NQVNU
RVJ8RFJNX1JPT1RfT05MWSksCisJRFJNX0lPQ1RMX0RFRl9EUlYoUkFERU9OX0lSUV9FTUlULCBk
cm1faW52YWxpZF9vcCwgRFJNX0FVVEgpLAorCURSTV9JT0NUTF9ERUZfRFJWKFJBREVPTl9JUlFf
V0FJVCwgZHJtX2ludmFsaWRfb3AsIERSTV9BVVRIKSwKKwlEUk1fSU9DVExfREVGX0RSVihSQURF
T05fU0VUUEFSQU0sIGRybV9pbnZhbGlkX29wLCBEUk1fQVVUSCksCisJRFJNX0lPQ1RMX0RFRl9E
UlYoUkFERU9OX1NVUkZfQUxMT0MsIGRybV9pbnZhbGlkX29wLCBEUk1fQVVUSCksCisJRFJNX0lP
Q1RMX0RFRl9EUlYoUkFERU9OX1NVUkZfRlJFRSwgZHJtX2ludmFsaWRfb3AsIERSTV9BVVRIKSwK
KwkvKiBLTVMgKi8KKwlEUk1fSU9DVExfREVGX0RSVihSQURFT05fR0VNX0lORk8sIHJhZGVvbl9n
ZW1faW5mb19pb2N0bCwgRFJNX0FVVEh8RFJNX1JFTkRFUl9BTExPVyksCisJRFJNX0lPQ1RMX0RF
Rl9EUlYoUkFERU9OX0dFTV9DUkVBVEUsIHJhZGVvbl9nZW1fY3JlYXRlX2lvY3RsLCBEUk1fQVVU
SHxEUk1fUkVOREVSX0FMTE9XKSwKKwlEUk1fSU9DVExfREVGX0RSVihSQURFT05fR0VNX01NQVAs
IHJhZGVvbl9nZW1fbW1hcF9pb2N0bCwgRFJNX0FVVEh8RFJNX1JFTkRFUl9BTExPVyksCisJRFJN
X0lPQ1RMX0RFRl9EUlYoUkFERU9OX0dFTV9TRVRfRE9NQUlOLCByYWRlb25fZ2VtX3NldF9kb21h
aW5faW9jdGwsIERSTV9BVVRIfERSTV9SRU5ERVJfQUxMT1cpLAorCURSTV9JT0NUTF9ERUZfRFJW
KFJBREVPTl9HRU1fUFJFQUQsIHJhZGVvbl9nZW1fcHJlYWRfaW9jdGwsIERSTV9BVVRIKSwKKwlE
Uk1fSU9DVExfREVGX0RSVihSQURFT05fR0VNX1BXUklURSwgcmFkZW9uX2dlbV9wd3JpdGVfaW9j
dGwsIERSTV9BVVRIKSwKKwlEUk1fSU9DVExfREVGX0RSVihSQURFT05fR0VNX1dBSVRfSURMRSwg
cmFkZW9uX2dlbV93YWl0X2lkbGVfaW9jdGwsIERSTV9BVVRIfERSTV9SRU5ERVJfQUxMT1cpLAor
CURSTV9JT0NUTF9ERUZfRFJWKFJBREVPTl9DUywgcmFkZW9uX2NzX2lvY3RsLCBEUk1fQVVUSHxE
Uk1fUkVOREVSX0FMTE9XKSwKKwlEUk1fSU9DVExfREVGX0RSVihSQURFT05fSU5GTywgcmFkZW9u
X2luZm9faW9jdGwsIERSTV9BVVRIfERSTV9SRU5ERVJfQUxMT1cpLAorCURSTV9JT0NUTF9ERUZf
RFJWKFJBREVPTl9HRU1fU0VUX1RJTElORywgcmFkZW9uX2dlbV9zZXRfdGlsaW5nX2lvY3RsLCBE
Uk1fQVVUSHxEUk1fUkVOREVSX0FMTE9XKSwKKwlEUk1fSU9DVExfREVGX0RSVihSQURFT05fR0VN
X0dFVF9USUxJTkcsIHJhZGVvbl9nZW1fZ2V0X3RpbGluZ19pb2N0bCwgRFJNX0FVVEh8RFJNX1JF
TkRFUl9BTExPVyksCisJRFJNX0lPQ1RMX0RFRl9EUlYoUkFERU9OX0dFTV9CVVNZLCByYWRlb25f
Z2VtX2J1c3lfaW9jdGwsIERSTV9BVVRIfERSTV9SRU5ERVJfQUxMT1cpLAorCURSTV9JT0NUTF9E
RUZfRFJWKFJBREVPTl9HRU1fVkEsIHJhZGVvbl9nZW1fdmFfaW9jdGwsIERSTV9BVVRIfERSTV9S
RU5ERVJfQUxMT1cpLAorCURSTV9JT0NUTF9ERUZfRFJWKFJBREVPTl9HRU1fT1AsIHJhZGVvbl9n
ZW1fb3BfaW9jdGwsIERSTV9BVVRIfERSTV9SRU5ERVJfQUxMT1cpLAorCURSTV9JT0NUTF9ERUZf
RFJWKFJBREVPTl9HRU1fVVNFUlBUUiwgcmFkZW9uX2dlbV91c2VycHRyX2lvY3RsLCBEUk1fQVVU
SHxEUk1fUkVOREVSX0FMTE9XKSwKK307CisKIHN0YXRpYyBzdHJ1Y3QgZHJtX2RyaXZlciBrbXNf
ZHJpdmVyID0gewogCS5kcml2ZXJfZmVhdHVyZXMgPQotCSAgICBEUklWRVJfR0VNIHwgRFJJVkVS
X1JFTkRFUiwKKwkgICAgRFJJVkVSX0dFTSB8IERSSVZFUl9SRU5ERVIgfCBEUklWRVJfTU9ERVNF
VCwKIAkubG9hZCA9IHJhZGVvbl9kcml2ZXJfbG9hZF9rbXMsCiAJLm9wZW4gPSByYWRlb25fZHJp
dmVyX29wZW5fa21zLAogCS5wb3N0Y2xvc2UgPSByYWRlb25fZHJpdmVyX3Bvc3RjbG9zZV9rbXMs
CkBAIC01OTcsNiArNjQyLDcgQEAgc3RhdGljIHN0cnVjdCBkcm1fZHJpdmVyIGttc19kcml2ZXIg
PSB7CiAJLmlycV91bmluc3RhbGwgPSByYWRlb25fZHJpdmVyX2lycV91bmluc3RhbGxfa21zLAog
CS5pcnFfaGFuZGxlciA9IHJhZGVvbl9kcml2ZXJfaXJxX2hhbmRsZXJfa21zLAogCS5pb2N0bHMg
PSByYWRlb25faW9jdGxzX2ttcywKKwkubnVtX2lvY3RscyA9IEFSUkFZX1NJWkUocmFkZW9uX2lv
Y3Rsc19rbXMpLAogCS5kdW1iX2NyZWF0ZSA9IHJhZGVvbl9tb2RlX2R1bWJfY3JlYXRlLAogCS5k
dW1iX21hcF9vZmZzZXQgPSByYWRlb25fbW9kZV9kdW1iX21tYXAsCiAJLmZvcHMgPSAmcmFkZW9u
X2RyaXZlcl9rbXNfZm9wcywKQEAgLTYxMyw5ICs2NTksNiBAQCBzdGF0aWMgc3RydWN0IGRybV9k
cml2ZXIga21zX2RyaXZlciA9IHsKIAkucGF0Y2hsZXZlbCA9IEtNU19EUklWRVJfUEFUQ0hMRVZF
TCwKIH07CiAKLXN0YXRpYyBzdHJ1Y3QgZHJtX2RyaXZlciAqZHJpdmVyOwotc3RhdGljIHN0cnVj
dCBwY2lfZHJpdmVyICpwZHJpdmVyOwotCiBzdGF0aWMgc3RydWN0IHBjaV9kcml2ZXIgcmFkZW9u
X2ttc19wY2lfZHJpdmVyID0gewogCS5uYW1lID0gRFJJVkVSX05BTUUsCiAJLmlkX3RhYmxlID0g
cGNpaWRsaXN0LApAQCAtNjI1LDQxICs2NjgsMzMgQEAgc3RhdGljIHN0cnVjdCBwY2lfZHJpdmVy
IHJhZGVvbl9rbXNfcGNpX2RyaXZlciA9IHsKIAkuZHJpdmVyLnBtID0gJnJhZGVvbl9wbV9vcHMs
CiB9OwogCi1zdGF0aWMgaW50IF9faW5pdCByYWRlb25faW5pdCh2b2lkKQorc3RhdGljIGludCBf
X2luaXQgcmFkZW9uX21vZHVsZV9pbml0KHZvaWQpCiB7CiAJaWYgKHZnYWNvbl90ZXh0X2ZvcmNl
KCkgJiYgcmFkZW9uX21vZGVzZXQgPT0gLTEpIHsKIAkJRFJNX0lORk8oIlZHQUNPTiBkaXNhYmxl
IHJhZGVvbiBrZXJuZWwgbW9kZXNldHRpbmcuXG4iKTsKIAkJcmFkZW9uX21vZGVzZXQgPSAwOwog
CX0KLQkvKiBzZXQgdG8gbW9kZXNldHRpbmcgYnkgZGVmYXVsdCBpZiBub3Qgbm9tb2Rlc2V0ICov
Ci0JaWYgKHJhZGVvbl9tb2Rlc2V0ID09IC0xKQotCQlyYWRlb25fbW9kZXNldCA9IDE7Ci0KLQlp
ZiAocmFkZW9uX21vZGVzZXQgPT0gMSkgewotCQlEUk1fSU5GTygicmFkZW9uIGtlcm5lbCBtb2Rl
c2V0dGluZyBlbmFibGVkLlxuIik7Ci0JCWRyaXZlciA9ICZrbXNfZHJpdmVyOwotCQlwZHJpdmVy
ID0gJnJhZGVvbl9rbXNfcGNpX2RyaXZlcjsKLQkJZHJpdmVyLT5kcml2ZXJfZmVhdHVyZXMgfD0g
RFJJVkVSX01PREVTRVQ7Ci0JCWRyaXZlci0+bnVtX2lvY3RscyA9IHJhZGVvbl9tYXhfa21zX2lv
Y3RsOwotCQlyYWRlb25fcmVnaXN0ZXJfYXRweF9oYW5kbGVyKCk7Ci0KLQl9IGVsc2UgeworCisJ
aWYgKHJhZGVvbl9tb2Rlc2V0ID09IDApIHsKIAkJRFJNX0VSUk9SKCJObyBVTVMgc3VwcG9ydCBp
biByYWRlb24gbW9kdWxlIVxuIik7CiAJCXJldHVybiAtRUlOVkFMOwogCX0KIAotCXJldHVybiBw
Y2lfcmVnaXN0ZXJfZHJpdmVyKHBkcml2ZXIpOworCURSTV9JTkZPKCJyYWRlb24ga2VybmVsIG1v
ZGVzZXR0aW5nIGVuYWJsZWQuXG4iKTsKKwlyYWRlb25fcmVnaXN0ZXJfYXRweF9oYW5kbGVyKCk7
CisKKwlyZXR1cm4gcGNpX3JlZ2lzdGVyX2RyaXZlcigmcmFkZW9uX2ttc19wY2lfZHJpdmVyKTsK
IH0KIAotc3RhdGljIHZvaWQgX19leGl0IHJhZGVvbl9leGl0KHZvaWQpCitzdGF0aWMgdm9pZCBf
X2V4aXQgcmFkZW9uX21vZHVsZV9leGl0KHZvaWQpCiB7Ci0JcGNpX3VucmVnaXN0ZXJfZHJpdmVy
KHBkcml2ZXIpOworCXBjaV91bnJlZ2lzdGVyX2RyaXZlcigmcmFkZW9uX2ttc19wY2lfZHJpdmVy
KTsKIAlyYWRlb25fdW5yZWdpc3Rlcl9hdHB4X2hhbmRsZXIoKTsKIAltbXVfbm90aWZpZXJfc3lu
Y2hyb25pemUoKTsKIH0KIAotbW9kdWxlX2luaXQocmFkZW9uX2luaXQpOwotbW9kdWxlX2V4aXQo
cmFkZW9uX2V4aXQpOworbW9kdWxlX2luaXQocmFkZW9uX21vZHVsZV9pbml0KTsKK21vZHVsZV9l
eGl0KHJhZGVvbl9tb2R1bGVfZXhpdCk7CiAKIE1PRFVMRV9BVVRIT1IoRFJJVkVSX0FVVEhPUik7
CiBNT0RVTEVfREVTQ1JJUFRJT04oRFJJVkVSX0RFU0MpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL3JhZGVvbi9yYWRlb25fa21zLmMgYi9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVv
bl9rbXMuYwppbmRleCA5OWVlNjBmOGI2MDQuLmFiYjNiZGQ5Y2EyNSAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fa21zLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3Jh
ZGVvbi9yYWRlb25fa21zLmMKQEAgLTIyMSw3ICsyMjEsNyBAQCBzdGF0aWMgdm9pZCByYWRlb25f
c2V0X2ZpbHBfcmlnaHRzKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCiAgKiBldGMuIChhbGwgYXNp
Y3MpLgogICogUmV0dXJucyAwIG9uIHN1Y2Nlc3MsIC1FSU5WQUwgb24gZmFpbHVyZS4KICAqLwot
c3RhdGljIGludCByYWRlb25faW5mb19pb2N0bChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB2b2lk
ICpkYXRhLCBzdHJ1Y3QgZHJtX2ZpbGUgKmZpbHApCitpbnQgcmFkZW9uX2luZm9faW9jdGwoc3Ry
dWN0IGRybV9kZXZpY2UgKmRldiwgdm9pZCAqZGF0YSwgc3RydWN0IGRybV9maWxlICpmaWxwKQog
ewogCXN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2ID0gZGV2LT5kZXZfcHJpdmF0ZTsKIAlzdHJ1
Y3QgZHJtX3JhZGVvbl9pbmZvICppbmZvID0gZGF0YTsKQEAgLTg2Niw1MCArODY2LDMgQEAgdm9p
ZCByYWRlb25fZGlzYWJsZV92Ymxhbmtfa21zKHN0cnVjdCBkcm1fY3J0YyAqY3J0YykKIAlyYWRl
b25faXJxX3NldChyZGV2KTsKIAlzcGluX3VubG9ja19pcnFyZXN0b3JlKCZyZGV2LT5pcnEubG9j
aywgaXJxZmxhZ3MpOwogfQotCi1jb25zdCBzdHJ1Y3QgZHJtX2lvY3RsX2Rlc2MgcmFkZW9uX2lv
Y3Rsc19rbXNbXSA9IHsKLQlEUk1fSU9DVExfREVGX0RSVihSQURFT05fQ1BfSU5JVCwgZHJtX2lu
dmFsaWRfb3AsIERSTV9BVVRIfERSTV9NQVNURVJ8RFJNX1JPT1RfT05MWSksCi0JRFJNX0lPQ1RM
X0RFRl9EUlYoUkFERU9OX0NQX1NUQVJULCBkcm1faW52YWxpZF9vcCwgRFJNX0FVVEh8RFJNX01B
U1RFUnxEUk1fUk9PVF9PTkxZKSwKLQlEUk1fSU9DVExfREVGX0RSVihSQURFT05fQ1BfU1RPUCwg
ZHJtX2ludmFsaWRfb3AsIERSTV9BVVRIfERSTV9NQVNURVJ8RFJNX1JPT1RfT05MWSksCi0JRFJN
X0lPQ1RMX0RFRl9EUlYoUkFERU9OX0NQX1JFU0VULCBkcm1faW52YWxpZF9vcCwgRFJNX0FVVEh8
RFJNX01BU1RFUnxEUk1fUk9PVF9PTkxZKSwKLQlEUk1fSU9DVExfREVGX0RSVihSQURFT05fQ1Bf
SURMRSwgZHJtX2ludmFsaWRfb3AsIERSTV9BVVRIKSwKLQlEUk1fSU9DVExfREVGX0RSVihSQURF
T05fQ1BfUkVTVU1FLCBkcm1faW52YWxpZF9vcCwgRFJNX0FVVEgpLAotCURSTV9JT0NUTF9ERUZf
RFJWKFJBREVPTl9SRVNFVCwgZHJtX2ludmFsaWRfb3AsIERSTV9BVVRIKSwKLQlEUk1fSU9DVExf
REVGX0RSVihSQURFT05fRlVMTFNDUkVFTiwgZHJtX2ludmFsaWRfb3AsIERSTV9BVVRIKSwKLQlE
Uk1fSU9DVExfREVGX0RSVihSQURFT05fU1dBUCwgZHJtX2ludmFsaWRfb3AsIERSTV9BVVRIKSwK
LQlEUk1fSU9DVExfREVGX0RSVihSQURFT05fQ0xFQVIsIGRybV9pbnZhbGlkX29wLCBEUk1fQVVU
SCksCi0JRFJNX0lPQ1RMX0RFRl9EUlYoUkFERU9OX1ZFUlRFWCwgZHJtX2ludmFsaWRfb3AsIERS
TV9BVVRIKSwKLQlEUk1fSU9DVExfREVGX0RSVihSQURFT05fSU5ESUNFUywgZHJtX2ludmFsaWRf
b3AsIERSTV9BVVRIKSwKLQlEUk1fSU9DVExfREVGX0RSVihSQURFT05fVEVYVFVSRSwgZHJtX2lu
dmFsaWRfb3AsIERSTV9BVVRIKSwKLQlEUk1fSU9DVExfREVGX0RSVihSQURFT05fU1RJUFBMRSwg
ZHJtX2ludmFsaWRfb3AsIERSTV9BVVRIKSwKLQlEUk1fSU9DVExfREVGX0RSVihSQURFT05fSU5E
SVJFQ1QsIGRybV9pbnZhbGlkX29wLCBEUk1fQVVUSHxEUk1fTUFTVEVSfERSTV9ST09UX09OTFkp
LAotCURSTV9JT0NUTF9ERUZfRFJWKFJBREVPTl9WRVJURVgyLCBkcm1faW52YWxpZF9vcCwgRFJN
X0FVVEgpLAotCURSTV9JT0NUTF9ERUZfRFJWKFJBREVPTl9DTURCVUYsIGRybV9pbnZhbGlkX29w
LCBEUk1fQVVUSCksCi0JRFJNX0lPQ1RMX0RFRl9EUlYoUkFERU9OX0dFVFBBUkFNLCBkcm1faW52
YWxpZF9vcCwgRFJNX0FVVEgpLAotCURSTV9JT0NUTF9ERUZfRFJWKFJBREVPTl9GTElQLCBkcm1f
aW52YWxpZF9vcCwgRFJNX0FVVEgpLAotCURSTV9JT0NUTF9ERUZfRFJWKFJBREVPTl9BTExPQywg
ZHJtX2ludmFsaWRfb3AsIERSTV9BVVRIKSwKLQlEUk1fSU9DVExfREVGX0RSVihSQURFT05fRlJF
RSwgZHJtX2ludmFsaWRfb3AsIERSTV9BVVRIKSwKLQlEUk1fSU9DVExfREVGX0RSVihSQURFT05f
SU5JVF9IRUFQLCBkcm1faW52YWxpZF9vcCwgRFJNX0FVVEh8RFJNX01BU1RFUnxEUk1fUk9PVF9P
TkxZKSwKLQlEUk1fSU9DVExfREVGX0RSVihSQURFT05fSVJRX0VNSVQsIGRybV9pbnZhbGlkX29w
LCBEUk1fQVVUSCksCi0JRFJNX0lPQ1RMX0RFRl9EUlYoUkFERU9OX0lSUV9XQUlULCBkcm1faW52
YWxpZF9vcCwgRFJNX0FVVEgpLAotCURSTV9JT0NUTF9ERUZfRFJWKFJBREVPTl9TRVRQQVJBTSwg
ZHJtX2ludmFsaWRfb3AsIERSTV9BVVRIKSwKLQlEUk1fSU9DVExfREVGX0RSVihSQURFT05fU1VS
Rl9BTExPQywgZHJtX2ludmFsaWRfb3AsIERSTV9BVVRIKSwKLQlEUk1fSU9DVExfREVGX0RSVihS
QURFT05fU1VSRl9GUkVFLCBkcm1faW52YWxpZF9vcCwgRFJNX0FVVEgpLAotCS8qIEtNUyAqLwot
CURSTV9JT0NUTF9ERUZfRFJWKFJBREVPTl9HRU1fSU5GTywgcmFkZW9uX2dlbV9pbmZvX2lvY3Rs
LCBEUk1fQVVUSHxEUk1fUkVOREVSX0FMTE9XKSwKLQlEUk1fSU9DVExfREVGX0RSVihSQURFT05f
R0VNX0NSRUFURSwgcmFkZW9uX2dlbV9jcmVhdGVfaW9jdGwsIERSTV9BVVRIfERSTV9SRU5ERVJf
QUxMT1cpLAotCURSTV9JT0NUTF9ERUZfRFJWKFJBREVPTl9HRU1fTU1BUCwgcmFkZW9uX2dlbV9t
bWFwX2lvY3RsLCBEUk1fQVVUSHxEUk1fUkVOREVSX0FMTE9XKSwKLQlEUk1fSU9DVExfREVGX0RS
VihSQURFT05fR0VNX1NFVF9ET01BSU4sIHJhZGVvbl9nZW1fc2V0X2RvbWFpbl9pb2N0bCwgRFJN
X0FVVEh8RFJNX1JFTkRFUl9BTExPVyksCi0JRFJNX0lPQ1RMX0RFRl9EUlYoUkFERU9OX0dFTV9Q
UkVBRCwgcmFkZW9uX2dlbV9wcmVhZF9pb2N0bCwgRFJNX0FVVEgpLAotCURSTV9JT0NUTF9ERUZf
RFJWKFJBREVPTl9HRU1fUFdSSVRFLCByYWRlb25fZ2VtX3B3cml0ZV9pb2N0bCwgRFJNX0FVVEgp
LAotCURSTV9JT0NUTF9ERUZfRFJWKFJBREVPTl9HRU1fV0FJVF9JRExFLCByYWRlb25fZ2VtX3dh
aXRfaWRsZV9pb2N0bCwgRFJNX0FVVEh8RFJNX1JFTkRFUl9BTExPVyksCi0JRFJNX0lPQ1RMX0RF
Rl9EUlYoUkFERU9OX0NTLCByYWRlb25fY3NfaW9jdGwsIERSTV9BVVRIfERSTV9SRU5ERVJfQUxM
T1cpLAotCURSTV9JT0NUTF9ERUZfRFJWKFJBREVPTl9JTkZPLCByYWRlb25faW5mb19pb2N0bCwg
RFJNX0FVVEh8RFJNX1JFTkRFUl9BTExPVyksCi0JRFJNX0lPQ1RMX0RFRl9EUlYoUkFERU9OX0dF
TV9TRVRfVElMSU5HLCByYWRlb25fZ2VtX3NldF90aWxpbmdfaW9jdGwsIERSTV9BVVRIfERSTV9S
RU5ERVJfQUxMT1cpLAotCURSTV9JT0NUTF9ERUZfRFJWKFJBREVPTl9HRU1fR0VUX1RJTElORywg
cmFkZW9uX2dlbV9nZXRfdGlsaW5nX2lvY3RsLCBEUk1fQVVUSHxEUk1fUkVOREVSX0FMTE9XKSwK
LQlEUk1fSU9DVExfREVGX0RSVihSQURFT05fR0VNX0JVU1ksIHJhZGVvbl9nZW1fYnVzeV9pb2N0
bCwgRFJNX0FVVEh8RFJNX1JFTkRFUl9BTExPVyksCi0JRFJNX0lPQ1RMX0RFRl9EUlYoUkFERU9O
X0dFTV9WQSwgcmFkZW9uX2dlbV92YV9pb2N0bCwgRFJNX0FVVEh8RFJNX1JFTkRFUl9BTExPVyks
Ci0JRFJNX0lPQ1RMX0RFRl9EUlYoUkFERU9OX0dFTV9PUCwgcmFkZW9uX2dlbV9vcF9pb2N0bCwg
RFJNX0FVVEh8RFJNX1JFTkRFUl9BTExPVyksCi0JRFJNX0lPQ1RMX0RFRl9EUlYoUkFERU9OX0dF
TV9VU0VSUFRSLCByYWRlb25fZ2VtX3VzZXJwdHJfaW9jdGwsIERSTV9BVVRIfERSTV9SRU5ERVJf
QUxMT1cpLAotfTsKLWludCByYWRlb25fbWF4X2ttc19pb2N0bCA9IEFSUkFZX1NJWkUocmFkZW9u
X2lvY3Rsc19rbXMpOwotLSAKMi4yOC4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5m
cmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0
aW5mby9kcmktZGV2ZWwK
