Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 476AFFC5A9
	for <lists+dri-devel@lfdr.de>; Thu, 14 Nov 2019 12:50:37 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AB74F6E1F5;
	Thu, 14 Nov 2019 11:50:33 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from foss.arm.com (foss.arm.com [217.140.110.172])
 by gabe.freedesktop.org (Postfix) with ESMTP id 2AE286E1D3;
 Thu, 14 Nov 2019 11:50:32 +0000 (UTC)
Received: from usa-sjc-imap-foss1.foss.arm.com (unknown [10.121.207.14])
 by usa-sjc-mx-foss1.foss.arm.com (Postfix) with ESMTP id 37AA231B;
 Thu, 14 Nov 2019 03:50:31 -0800 (PST)
Received: from [10.1.194.43] (e112269-lin.cambridge.arm.com [10.1.194.43])
 by usa-sjc-imap-foss1.foss.arm.com (Postfix) with ESMTPSA id 9CE5B3F6C4;
 Thu, 14 Nov 2019 03:50:29 -0800 (PST)
Subject: Re: [PATCH 1/3] dma_resv: prime lockdep annotations
To: Daniel Vetter <daniel.vetter@ffwll.ch>
References: <20191104173801.2972-1-daniel.vetter@ffwll.ch>
 <c0a0c70d-e6fe-1103-2888-1ce1425f4a5d@arm.com>
 <CAKMK7uHr7a=t6tvDeirOk+Scypkcwfpj9wnmAn1ue6xxcL30Gw@mail.gmail.com>
From: Steven Price <steven.price@arm.com>
Message-ID: <ce56e491-0899-ed15-a614-95442f7a7b37@arm.com>
Date: Thu, 14 Nov 2019 11:50:28 +0000
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.0
MIME-Version: 1.0
In-Reply-To: <CAKMK7uHr7a=t6tvDeirOk+Scypkcwfpj9wnmAn1ue6xxcL30Gw@mail.gmail.com>
Content-Language: en-GB
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Thomas Hellstrom <thellstrom@vmware.com>,
 Tomeu Vizoso <tomeu.vizoso@collabora.com>,
 Intel Graphics Development <intel-gfx@lists.freedesktop.org>,
 DRI Development <dri-devel@lists.freedesktop.org>,
 VMware Graphics <linux-graphics-maintainer@vmware.com>,
 Gerd Hoffmann <kraxel@redhat.com>, Thomas Zimmermann <tzimmermann@suse.de>,
 Daniel Vetter <daniel.vetter@intel.com>,
 Alex Deucher <alexander.deucher@amd.com>, Dave Airlie <airlied@redhat.com>,
 =?UTF-8?Q?Christian_K=c3=b6nig?= <christian.koenig@amd.com>,
 Ben Skeggs <bskeggs@redhat.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gMTEvMTEvMjAxOSAxNTo0MiwgRGFuaWVsIFZldHRlciB3cm90ZToKPiBPbiBNb24sIE5vdiAx
MSwgMjAxOSBhdCAyOjExIFBNIFN0ZXZlbiBQcmljZSA8c3RldmVuLnByaWNlQGFybS5jb20+IHdy
b3RlOgo+Pgo+PiBPbiAwNC8xMS8yMDE5IDE3OjM3LCBEYW5pZWwgVmV0dGVyIHdyb3RlOgo+Pj4g
RnVsbCBhdWRpdCBvZiBldmVyeW9uZToKPj4+Cj4+PiAtIGk5MTUsIHJhZGVvbiwgYW1kZ3B1IHNo
b3VsZCBiZSBjbGVhbiBwZXIgdGhlaXIgbWFpbnRhaW5lcnMuCj4+Pgo+Pj4gLSB2cmFtIGhlbHBl
cnMgc2hvdWxkIGJlIGZpbmUsIHRoZXkgZG9uJ3QgZG8gY29tbWFuZCBzdWJtaXNzaW9uLCBzbwo+
Pj4gICByZWFsbHkgbm8gYnVzaW5lc3MgaG9sZGluZyBzdHJ1Y3RfbXV0ZXggd2hpbGUgZG9pbmcg
Y29weV8qX3VzZXIuIEJ1dAo+Pj4gICBJIGhhdmVuJ3QgY2hlY2tlZCB0aGVtIGFsbC4KPj4+Cj4+
PiAtIHBhbmZyb3N0IHNlZW1zIHRvIGRtYV9yZXN2X2xvY2sgb25seSBpbiBwYW5mcm9zdF9qb2Jf
cHVzaCwgd2hpY2gKPj4+ICAgbG9va3MgY2xlYW4uCj4+Pgo+Pj4gLSB2M2QgaG9sZHMgZG1hX3Jl
c3YgbG9ja3MgaW4gdGhlIHRhaWwgb2YgaXRzIHYzZF9zdWJtaXRfY2xfaW9jdGwoKSwKPj4+ICAg
Y29weWluZyBmcm9tL3RvIHVzZXJzcGFjZSBoYXBwZW5zIGFsbCBpbiB2M2RfbG9va3VwX2JvcyB3
aGljaCBpcwo+Pj4gICBvdXRzaWRlIG9mIHRoZSBjcml0aWNhbCBzZWN0aW9uLgo+Pj4KPj4+IC0g
dm13Z2Z4IGhhcyBhIGJ1bmNoIG9mIGlvY3RscyB0aGF0IGRvIHRoZWlyIG93biBjb3B5XypfdXNl
cjoKPj4+ICAgLSB2bXdfZXhlY2J1Zl9wcm9jZXNzOiBGaXJzdCB0aGlzIGRvZXMgc29tZSBjb3Bp
ZXMgaW4KPj4+ICAgICB2bXdfZXhlY2J1Zl9jbWRidWYoKSBhbmQgYWxzbyBpbiB0aGUgdm13X2V4
ZWNidWZfcHJvY2VzcygpIGl0c2VsZi4KPj4+ICAgICBUaGVuIGNvbWVzIHRoZSB1c3VhbCB0dG0g
cmVzZXJ2ZS92YWxpZGF0ZSBzZXF1ZW5jZSwgdGhlbiBhY3R1YWwKPj4+ICAgICBzdWJtaXNzaW9u
L2ZlbmNpbmcsIHRoZW4gdW5yZXNlcnZpbmcsIGFuZCBmaW5hbGx5IHNvbWUgbW9yZQo+Pj4gICAg
IGNvcHlfdG9fdXNlciBpbiB2bXdfZXhlY2J1Zl9jb3B5X2ZlbmNlX3VzZXIuIEdsb3NzaW5nIG92
ZXIgdG9ucyBvZgo+Pj4gICAgIGRldGFpbHMsIGJ1dCBsb29rcyBhbGwgc2FmZS4KPj4+ICAgLSB2
bXdfZmVuY2VfZXZlbnRfaW9jdGw6IE5vIHR0bV9yZXNlcnZlL2RtYV9yZXN2X2xvY2sgYW55d2hl
cmUgdG8gYmUKPj4+ICAgICBzZWVuLCBzZWVtcyB0byBvbmx5IGNyZWF0ZSBhIGZlbmNlIGFuZCBj
b3B5IGl0IG91dC4KPj4+ICAgLSBhIHBpbGUgb2Ygc21hbGxlciBpb2N0bCBpbiB2bXdnZnhfaW9j
dGwuYywgbm8gcmVzZXJ2YXRpb25zIHRvIGJlCj4+PiAgICAgZm91bmQgdGhlcmUuCj4+PiAgIFN1
bW1hcnk6IHZtd2dmeCBzZWVtcyB0byBiZSBmaW5lIHRvby4KPj4+Cj4+PiAtIHZpcnRpbzogVGhl
cmUncyB2aXJ0aW9fZ3B1X2V4ZWNidWZmZXJfaW9jdGwsIHdoaWNoIGRvZXMgYWxsIHRoZQo+Pj4g
ICBjb3B5aW5nIGZyb20gdXNlcnNwYWNlIGJlZm9yZSBldmVuIGxvb2tpbmcgdXAgb2JqZWN0cyB0
aHJvdWdoIHRoZWlyCj4+PiAgIGhhbmRsZXMsIHNvIHNhZmUuIFBsdXMgdGhlIGdldHBhcmFtL2dl
dGNhcHMgaW9jdGwsIGFsc28gYm90aCBzYWZlLgo+Pj4KPj4+IC0gcXhsIG9ubHkgaGFzIHF4bF9l
eGVjYnVmZmVyX2lvY3RsLCB3aGljaCBjYWxscyBpbnRvCj4+PiAgIHF4bF9wcm9jZXNzX3Npbmds
ZV9jb21tYW5kLiBUaGVyZSdzIGEgbG92ZWx5IGNvbW1lbnQgYmVmb3JlIHRoZQo+Pj4gICBfX2Nv
cHlfZnJvbV91c2VyX2luYXRvbWljIHRoYXQgdGhlIHNsb3dwYXRoIHNob3VsZCBiZSBjb3BpZWQg
ZnJvbQo+Pj4gICBpOTE1LCBidXQgSSBndWVzcyB0aGF0IG5ldmVyIGhhcHBlbmVkLiBUcnkgbm90
IHRvIGJlIHVubHVja3kgYW5kIGdldAo+Pj4gICB5b3VyIENTIGRhdGEgZXZpY3RlZCBiZXR3ZWVu
IHdoZW4gaXQncyB3cml0dGVuIGFuZCB0aGUga2VybmVsIHRyaWVzCj4+PiAgIHRvIHJlYWQgaXQu
IFRoZSBvbmx5IG90aGVyIGNvcHlfZnJvbV91c2VyIGlzIGZvciByZWxvY3MsIGJ1dCB0aG9zZQo+
Pj4gICBhcmUgZG9uZSBiZWZvcmUgcXhsX3JlbGVhc2VfcmVzZXJ2ZV9saXN0KCksIHdoaWNoIHNl
ZW1zIHRvIGJlIHRoZQo+Pj4gICBvbmx5IHRoaW5nIHJlc2VydmluZyBidWZmZXJzIChpbiB0aGUg
dHRtL2RtYV9yZXN2IHNlbnNlKSBpbiB0aGF0Cj4+PiAgIGNvZGUuIFNvIGxvb2tzIHNhZmUuCj4+
Pgo+Pj4gLSBBIGRlYnVnZnMgZmlsZSBpbiBub3V2ZWF1X2RlYnVnZnNfcHN0YXRlX3NldCgpIGFu
ZCB0aGUgdXNpZiBpb2N0bCBpbgo+Pj4gICB1c2lmX2lvY3RsKCkgbG9vayBzYWZlLiBub3V2ZWF1
X2dlbV9pb2N0bF9wdXNoYnVmKCkgb3RvaCBicmVha3MgdGhpcwo+Pj4gICBldmVyeXdoZXJlIGFu
ZCBuZWVkcyB0byBiZSBmaXhlZCB1cC4KPj4+Cj4+PiB2MjogVGhvbWFzIHBvaW50ZWQgYXQgdGhh
dCB2bXdnZnggY2FsbHMgZG1hX3Jlc3ZfaW5pdCB3aGlsZSBpdCBob2xkcyBhCj4+PiBkbWFfcmVz
diBsb2NrIG9mIGEgZGlmZmVyZW50IG9iamVjdCBhbHJlYWR5LiBDaHJpc3RpYW4gbWVudGlvbmVk
IHRoYXQKPj4+IHR0bSBjb3JlIGRvZXMgdGhpcyB0b28gZm9yIGdob3N0IG9iamVjdHMuIGludGVs
LWdmeC1jaSBoaWdobGlnaHRlZAo+Pj4gdGhhdCBpOTE1IGhhcyBzaW1pbGFyIGlzc3Vlcy4KPj4+
Cj4+PiBVbmZvcnR1bmF0ZWx5IHdlIGNhbid0IGRvIHRoaXMgaW4gdGhlIHVzdWFsIG1vZHVsZSBp
bml0IGZ1bmN0aW9ucywKPj4+IGJlY2F1c2Uga2VybmVsIHRocmVhZHMgZG9uJ3QgaGF2ZSBhbiAt
Pm1tIC0gd2UgaGF2ZSB0byB3YWl0IGFyb3VuZCBmb3IKPj4+IHNvbWUgdXNlciB0aHJlYWQgdG8g
ZG8gdGhpcy4KPj4+Cj4+PiBTb2x1dGlvbiBpcyB0byBzcGF3biBhIHdvcmtlciAoYnV0IG9ubHkg
b25jZSkuIEl0J3MgaG9ycmlibGUsIGJ1dCBpdAo+Pj4gd29ya3MuCj4+Pgo+Pj4gdjM6IFdlIGNh
biBhbGxvY2F0ZSBtbSEgKENocmlzKS4gSG9ycmlibGUgd29ya2VyIGhhY2sgb3V0LCBjbGVhbgo+
Pj4gaW5pdGNhbGwgc29sdXRpb24gaW4uCj4+Pgo+Pj4gdjQ6IEFubm90YXRlIHdpdGggX19pbml0
IChSb2IgSGVycmluZykKPj4+Cj4+PiBDYzogUm9iIEhlcnJpbmcgPHJvYmhAa2VybmVsLm9yZz4K
Pj4+IENjOiBBbGV4IERldWNoZXIgPGFsZXhhbmRlci5kZXVjaGVyQGFtZC5jb20+Cj4+PiBDYzog
Q2hyaXN0aWFuIEvDtm5pZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPgo+Pj4gQ2M6IENocmlz
IFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVrPgo+Pj4gQ2M6IFRob21hcyBaaW1tZXJt
YW5uIDx0emltbWVybWFubkBzdXNlLmRlPgo+Pj4gQ2M6IFJvYiBIZXJyaW5nIDxyb2JoQGtlcm5l
bC5vcmc+Cj4+PiBDYzogVG9tZXUgVml6b3NvIDx0b21ldS52aXpvc29AY29sbGFib3JhLmNvbT4K
Pj4+IENjOiBFcmljIEFuaG9sdCA8ZXJpY0BhbmhvbHQubmV0Pgo+Pj4gQ2M6IERhdmUgQWlybGll
IDxhaXJsaWVkQHJlZGhhdC5jb20+Cj4+PiBDYzogR2VyZCBIb2ZmbWFubiA8a3JheGVsQHJlZGhh
dC5jb20+Cj4+PiBDYzogQmVuIFNrZWdncyA8YnNrZWdnc0ByZWRoYXQuY29tPgo+Pj4gQ2M6ICJW
TXdhcmUgR3JhcGhpY3MiIDxsaW51eC1ncmFwaGljcy1tYWludGFpbmVyQHZtd2FyZS5jb20+Cj4+
PiBDYzogVGhvbWFzIEhlbGxzdHJvbSA8dGhlbGxzdHJvbUB2bXdhcmUuY29tPgo+Pj4gUmV2aWV3
ZWQtYnk6IENocmlzdGlhbiBLw7ZuaWcgPGNocmlzdGlhbi5rb2VuaWdAYW1kLmNvbT4KPj4+IFJl
dmlld2VkLWJ5OiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KPj4+IFRl
c3RlZC1ieTogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+Cj4+PiBTaWdu
ZWQtb2ZmLWJ5OiBEYW5pZWwgVmV0dGVyIDxkYW5pZWwudmV0dGVyQGludGVsLmNvbT4KPj4+IC0t
LQo+Pj4gIGRyaXZlcnMvZG1hLWJ1Zi9kbWEtcmVzdi5jIHwgMjQgKysrKysrKysrKysrKysrKysr
KysrKysrCj4+PiAgMSBmaWxlIGNoYW5nZWQsIDI0IGluc2VydGlvbnMoKykKPj4+Cj4+PiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9kbWEtYnVmL2RtYS1yZXN2LmMgYi9kcml2ZXJzL2RtYS1idWYvZG1h
LXJlc3YuYwo+Pj4gaW5kZXggNzA5MDAyNTE1NTUwLi5hMDVmZjU0MmJlMjIgMTAwNjQ0Cj4+PiAt
LS0gYS9kcml2ZXJzL2RtYS1idWYvZG1hLXJlc3YuYwo+Pj4gKysrIGIvZHJpdmVycy9kbWEtYnVm
L2RtYS1yZXN2LmMKPj4+IEBAIC0zNCw2ICszNCw3IEBACj4+Pgo+Pj4gICNpbmNsdWRlIDxsaW51
eC9kbWEtcmVzdi5oPgo+Pj4gICNpbmNsdWRlIDxsaW51eC9leHBvcnQuaD4KPj4+ICsjaW5jbHVk
ZSA8bGludXgvc2NoZWQvbW0uaD4KPj4+Cj4+PiAgLyoqCj4+PiAgICogRE9DOiBSZXNlcnZhdGlv
biBPYmplY3QgT3ZlcnZpZXcKPj4+IEBAIC05NSw2ICs5NiwyOSBAQCBzdGF0aWMgdm9pZCBkbWFf
cmVzdl9saXN0X2ZyZWUoc3RydWN0IGRtYV9yZXN2X2xpc3QgKmxpc3QpCj4+PiAgICAgICBrZnJl
ZV9yY3UobGlzdCwgcmN1KTsKPj4+ICB9Cj4+Pgo+Pj4gKyNpZiBJU19FTkFCTEVEKENPTkZJR19M
T0NLREVQKQo+Pj4gK3N0YXRpYyB2b2lkIF9faW5pdCBkbWFfcmVzdl9sb2NrZGVwKHZvaWQpCj4+
PiArewo+Pj4gKyAgICAgc3RydWN0IG1tX3N0cnVjdCAqbW0gPSBtbV9hbGxvYygpOwo+Pj4gKyAg
ICAgc3RydWN0IGRtYV9yZXN2IG9iajsKPj4+ICsKPj4+ICsgICAgIGlmICghbW0pCj4+PiArICAg
ICAgICAgICAgIHJldHVybjsKPj4+ICsKPj4+ICsgICAgIGRtYV9yZXN2X2luaXQoJm9iaik7Cj4+
PiArCj4+PiArICAgICBkb3duX3JlYWQoJm1tLT5tbWFwX3NlbSk7Cj4+PiArICAgICB3d19tdXRl
eF9sb2NrKCZvYmoubG9jaywgTlVMTCk7Cj4+PiArICAgICBmc19yZWNsYWltX2FjcXVpcmUoR0ZQ
X0tFUk5FTCk7Cj4+PiArICAgICBmc19yZWNsYWltX3JlbGVhc2UoR0ZQX0tFUk5FTCk7Cj4+PiAr
ICAgICB3d19tdXRleF91bmxvY2soJm9iai5sb2NrKTsKPj4+ICsgICAgIHVwX3JlYWQoJm1tLT5t
bWFwX3NlbSk7Cj4+PiArCj4+Cj4+IE5pdDogdHJhaWxpbmcgd2hpdGVzcGFjZQo+Pgo+Pj4gKyAg
ICAgbW1wdXQobW0pOwo+Pj4gK30KPj4+ICtzdWJzeXNfaW5pdGNhbGwoZG1hX3Jlc3ZfbG9ja2Rl
cCk7Cj4+Cj4+IFRoaXMgZXhwZWN0cyBhIGZ1bmN0aW9uIHJldHVybmluZyBpbnQsIGJ1dCBkbWFf
cmVzdl9sb2NrZGVwKCkgaXMgdm9pZC4KPj4gQ2F1c2luZzoKPj4KPj4gZHJpdmVycy9kbWEtYnVm
L2RtYS1yZXN2LmM6MTE5OjE3OiBlcnJvcjogaW5pdGlhbGl6YXRpb24gb2Yg4oCYaW5pdGNhbGxf
dOKAmQo+PiB7YWthIOKAmGludCAoKikodm9pZCnigJl9IGZyb20gaW5jb21wYXRpYmxlIHBvaW50
ZXIgdHlwZSDigJh2b2lkICgqKSh2b2lkKeKAmQo+PiBbLVdlcnJvcj1pbmNvbXBhdGlibGUtcG9p
bnRlci10eXBlc10KPj4gIHN1YnN5c19pbml0Y2FsbChkbWFfcmVzdl9sb2NrZGVwKTsKPj4KPj4g
VGhlIGJlbG93IGZpeGVzIGl0IGZvciBtZS4KPiAKPiBVaCwgc28gX3RoYXRfIHdhcyB3aGF0IHRo
ZSAwZGF5IHRoaW5nIHdhcyBhbGwgYWJvdXQsIEkgdG90YWxseSBtaXNyZWFkCj4gdGhhdCBjb21w
bGV0ZWx5LiBUaGFua3MgZm9yIHRoZSBwYXRjaC4KPiAKPiBSZXZpZXdlZC1ieTogRGFuaWVsIFZl
dHRlciA8ZGFuaWVsLnZldHRlckBmZndsbC5jaD4KPiAKPiBBc2lkZSwgZG8geW91IG5lZWQgY29t
bWl0IHJpZ2h0cyBmb3IgcHVzaGluZyB0aGlzIGtpbmQgb2Ygc3R1ZmY/CgpJIGd1ZXNzIGl0J3Mg
YWJvdXQgdGltZSBJIGdvdCByb3VuZCB0byByZXF1ZXN0aW5nIHRoYXQ6CgpodHRwczovL2dpdGxh
Yi5mcmVlZGVza3RvcC5vcmcvZnJlZWRlc2t0b3AvZnJlZWRlc2t0b3AvaXNzdWVzLzIwOAoKVGhh
bmtzLAoKU3RldmUKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
Cmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
