Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 023126CA0C
	for <lists+dri-devel@lfdr.de>; Thu, 18 Jul 2019 09:40:12 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 408A16E329;
	Thu, 18 Jul 2019 07:40:06 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-qt1-x841.google.com (mail-qt1-x841.google.com
 [IPv6:2607:f8b0:4864:20::841])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 783C46E2A9
 for <dri-devel@lists.freedesktop.org>; Wed, 17 Jul 2019 22:03:14 +0000 (UTC)
Received: by mail-qt1-x841.google.com with SMTP id x22so20146984qtp.12
 for <dri-devel@lists.freedesktop.org>; Wed, 17 Jul 2019 15:03:14 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=eUlTffAvSCym+EN8x6Xer387d72KBIqU0xjI+Qp9AZQ=;
 b=oA0Tg/yAqsT97/hEmnfznWpBkXSdSS2xtmAR7LITdjiv5nKDpYwmDVBy9Vj+tgLTm/
 bH+dELc1nBDyQ2+NrYWxUw6z9MINI+Ijhw36hGr9H1nFBQRlD4MtPWO2Pbyms25jymxO
 vSclU06JZZVIotsaBkJgK5bYr5ZH0wdwvwRP7Ic2IUbZqezxDmkFD9YYQjBwPKj5YFGE
 vmbNeiT4oPA77oUuEgmddvOi5/RsLZm+NhLC0akgfR21w0bOl/omgNGPukRg+p0VhK2t
 JciOTL8rwvgnhZXzS6XZMA90gbm2iJMRpmMZxq/kr8tqMc+Gu+n5mNK4mPpO0G3YJ6mG
 QC4Q==
X-Gm-Message-State: APjAAAXBhVlemnESAI0l089n4pjNcPCkBw5ZgpkopcDFyUOFlb5TvUKS
 FeGX/EEKtX1EXYjNnnLy4M0BMZXCrCaooXEvUx1aWQ==
X-Google-Smtp-Source: APXvYqwlZ/+M4C2ZxvRJLy8gaEXSFZyKFFT5fxDNnE2XZA0FFCCziGYDv5isP9eILwhLMyxH0KfusFXlDRxsixsO5GA=
X-Received: by 2002:aed:3b1c:: with SMTP id p28mr28131013qte.312.1563400993457; 
 Wed, 17 Jul 2019 15:03:13 -0700 (PDT)
MIME-Version: 1.0
References: <20190627080116.40264-1-jitao.shi@mediatek.com>
 <20190627080116.40264-7-jitao.shi@mediatek.com>
 <1561945387.17120.4.camel@mtksdaap41>
In-Reply-To: <1561945387.17120.4.camel@mtksdaap41>
From: Ryan Case <ryandcase@chromium.org>
Date: Wed, 17 Jul 2019 15:03:02 -0700
Message-ID: <CACjz--m8BuJbe80m7HfakVi8uXj5mTj72=6YZ5+OAa-gF29M8Q@mail.gmail.com>
Subject: Re: [v5 6/7] drm/mediatek: change the dsi phytiming calculate method
To: CK Hu <ck.hu@mediatek.com>
X-Mailman-Approved-At: Thu, 18 Jul 2019 07:39:55 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=chromium.org; s=google;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=eUlTffAvSCym+EN8x6Xer387d72KBIqU0xjI+Qp9AZQ=;
 b=mRBQVsxJ5hH7rx0TDoqbXg3hVL+LxBLAH/7WcvKGedYSVPk79cuwiagqxujDX9kDgl
 yOKEhn8NeODMUeWG4XjuJuub6jwZh0qQGYAFL+JU+F0uC+liJCT37Cvb92U0Wcw79QTz
 zunhLyVbf7FSSRSTmGugqijqQ7/8tB3XKe/oY=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Mark Rutland <mark.rutland@arm.com>, devicetree@vger.kernel.org,
 David Airlie <airlied@linux.ie>, stonea168@163.com,
 dri-devel@lists.freedesktop.org, yingjoe.chen@mediatek.com,
 Ajay Kumar <ajaykumar.rs@samsung.com>, Vincent Palatin <vpalatin@chromium.org>,
 cawa.cheng@mediatek.com, Russell King <rmk+kernel@arm.linux.org.uk>,
 Thierry Reding <treding@nvidia.com>, linux-pwm@vger.kernel.org,
 Jitao Shi <jitao.shi@mediatek.com>, Sascha Hauer <kernel@pengutronix.de>,
 Pawel Moll <pawel.moll@arm.com>, Ian Campbell <ijc+devicetree@hellion.org.uk>,
 Rob Herring <robh+dt@kernel.org>, linux-mediatek@lists.infradead.org,
 Andy Yan <andy.yan@rock-chips.com>, Matthias Brugger <matthias.bgg@gmail.com>,
 eddie.huang@mediatek.com, linux-arm-kernel@lists.infradead.org,
 Rahul Sharma <rahul.sharma@samsung.com>, srv_heupstream@mediatek.com,
 linux-kernel@vger.kernel.org, Sean Paul <seanpaul@chromium.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gU3VuLCBKdW4gMzAsIDIwMTkgYXQgNjo0MyBQTSBDSyBIdSA8Y2suaHVAbWVkaWF0ZWsuY29t
PiB3cm90ZToKPgo+IEhpLCBKaXRhbzoKPgo+IE9uIFRodSwgMjAxOS0wNi0yNyBhdCAxNjowMSAr
MDgwMCwgSml0YW8gU2hpIHdyb3RlOgo+ID4gQ2hhbmdlIHRoZSBtZXRob2Qgb2YgZnJhbWUgcmF0
ZSBjYWxjIHdoaWNoIGNhbiBnZXQgbW9yZSBhY2N1cmF0ZQo+ID4gZnJhbWUgcmF0ZS4KPiA+Cj4g
PiBkYXRhIHJhdGUgPSBwaXhlbF9jbG9jayAqIGJpdF9wZXJfcGl4ZWwgLyBsYW5lcwo+ID4gQWRq
dXN0IGhmcF93YyB0byBhZGFwdCB0aGUgYWRkaXRpb25hbCBwaHlfZGF0YQo+ID4KPiA+IGlmIE1J
UElfRFNJX01PREVfVklERU9fQlVSU1QKPiA+ICAgICAgIGhmcF93YyA9IGhmcCAqIGJwcCAtIGRh
dGFfcGh5X2N5Y2xlcyAqIGxhbmVzIC0gMTIgLSA2Owo+ID4gZWxzZQo+ID4gICAgICAgaGZwX3dj
ID0gaGZwICogYnBwIC0gZGF0YV9waHlfY3ljbGVzICogbGFuZXMgLSAxMjsKPiA+Cj4gPiBOb3Rl
Ogo+ID4gLy8oMjogMSBmb3Igc3luYywgMSBmb3IgcGh5IGlkbGUpCj4gPiBkYXRhX3BoeV9jeWNs
ZXMgPSBUX2hzX2V4aXQgKyBUX2xweCArIFRfaHNfcHJlcGFyZSArIFRfaHNfemVybyArIDI7Cj4g
Pgo+ID4gYnBwOiBiaXQgcGVyIHBpeGVsCj4gPgo+ID4gU2lnbmVkLW9mZi1ieTogSml0YW8gU2hp
IDxqaXRhby5zaGlAbWVkaWF0ZWsuY29tPgo+ID4gVGVzdGVkLWJ5OiBSeWFuIENhc2UgPHJ5YW5k
Y2FzZUBjaHJvbWl1bS5vcmc+Cj4gPiBSZXZpZXdlZC1ieTogQ0sgSHUgPGNrLmh1QG1lZGlhdGVr
LmNvbT4KPgo+IFRoaXMgdmVyc2lvbiBpcyBkaWZmZXJlbnQgdGhhbiBwcmV2aW91cyB2ZXJzaW9u
LCBzbyB5b3Ugc2hvdWxkIHJlbW92ZQo+IFJldmlld2VkLWJ5IHRhZy4gRm9yIHRoaXMgdmVyc2lv
biwgSSBzdGlsbCBnaXZlIHlvdSBhCj4KPiBSZXZpZXdlZC1ieTogQ0sgSHUgPGNrLmh1QG1lZGlh
dGVrLmNvbT4KPgo+ID4gLS0tCj4gPiAgZHJpdmVycy9ncHUvZHJtL21lZGlhdGVrL210a19kc2ku
YyB8IDExNyArKysrKysrKysrKysrKysrKysrKy0tLS0tLS0tLQo+ID4gIDEgZmlsZSBjaGFuZ2Vk
LCA4MCBpbnNlcnRpb25zKCspLCAzNyBkZWxldGlvbnMoLSkKPiA+Cj4gPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL21lZGlhdGVrL210a19kc2kuYyBiL2RyaXZlcnMvZ3B1L2RybS9tZWRp
YXRlay9tdGtfZHNpLmMKPiA+IGluZGV4IDE2MjFlOGNkYWNjMi4uY2VmZGNiMTUwOWNiIDEwMDY0
NAo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL21lZGlhdGVrL210a19kc2kuYwo+ID4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL21lZGlhdGVrL210a19kc2kuYwo+ID4gQEAgLTE0NCwxMiArMTQ0LDYg
QEAKPiA+ICAjZGVmaW5lIERBVEFfMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMHhm
ZiA8PCAxNikKPiA+ICAjZGVmaW5lIERBVEFfMSAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAoMHhmZiA8PCAyNCkKPiA+Cj4gPiAtI2RlZmluZSBUX0xQWCAgICAgICAgICAgICAgICA1Cj4g
PiAtI2RlZmluZSBUX0hTX1BSRVAgICAgNgo+ID4gLSNkZWZpbmUgVF9IU19UUkFJTCAgIDgKPiA+
IC0jZGVmaW5lIFRfSFNfRVhJVCAgICA3Cj4gPiAtI2RlZmluZSBUX0hTX1pFUk8gICAgMTAKPiA+
IC0KPiA+ICAjZGVmaW5lIE5TX1RPX0NZQ0xFKG4sIGMpICAgICgobikgLyAoYykgKyAoKChuKSAl
IChjKSkgPyAxIDogMCkpCj4gPgo+ID4gICNkZWZpbmUgTVRLX0RTSV9IT1NUX0lTX1JFQUQodHlw
ZSkgXAo+ID4gQEAgLTE1OCw2ICsxNTIsMjUgQEAKPiA+ICAgICAgICh0eXBlID09IE1JUElfRFNJ
X0dFTkVSSUNfUkVBRF9SRVFVRVNUXzJfUEFSQU0pIHx8IFwKPiA+ICAgICAgICh0eXBlID09IE1J
UElfRFNJX0RDU19SRUFEKSkKPiA+Cj4gPiArc3RydWN0IG10a19waHlfdGltaW5nIHsKPiA+ICsg
ICAgIHUzMiBscHg7Cj4gPiArICAgICB1MzIgZGFfaHNfcHJlcGFyZTsKPiA+ICsgICAgIHUzMiBk
YV9oc196ZXJvOwo+ID4gKyAgICAgdTMyIGRhX2hzX3RyYWlsOwo+ID4gKwo+ID4gKyAgICAgdTMy
IHRhX2dvOwo+ID4gKyAgICAgdTMyIHRhX3N1cmU7Cj4gPiArICAgICB1MzIgdGFfZ2V0Owo+ID4g
KyAgICAgdTMyIGRhX2hzX2V4aXQ7Cj4gPiArCj4gPiArICAgICB1MzIgY2xrX2hzX3plcm87Cj4g
PiArICAgICB1MzIgY2xrX2hzX3RyYWlsOwo+ID4gKwo+ID4gKyAgICAgdTMyIGNsa19oc19wcmVw
YXJlOwo+ID4gKyAgICAgdTMyIGNsa19oc19wb3N0Owo+ID4gKyAgICAgdTMyIGNsa19oc19leGl0
Owo+ID4gK307Cj4gPiArCj4gPiAgc3RydWN0IHBoeTsKPiA+Cj4gPiAgc3RydWN0IG10a19kc2lf
ZHJpdmVyX2RhdGEgewo+ID4gQEAgLTE4OCw2ICsyMDEsNyBAQCBzdHJ1Y3QgbXRrX2RzaSB7Cj4g
PiAgICAgICBlbnVtIG1pcGlfZHNpX3BpeGVsX2Zvcm1hdCBmb3JtYXQ7Cj4gPiAgICAgICB1bnNp
Z25lZCBpbnQgbGFuZXM7Cj4gPiAgICAgICBzdHJ1Y3QgdmlkZW9tb2RlIHZtOwo+ID4gKyAgICAg
c3RydWN0IG10a19waHlfdGltaW5nIHBoeV90aW1pbmc7Cj4gPiAgICAgICBpbnQgcmVmY291bnQ7
Cj4gPiAgICAgICBib29sIGVuYWJsZWQ7Cj4gPiAgICAgICB1MzIgaXJxX2RhdGE7Cj4gPiBAQCAt
MjIxLDE3ICsyMzUsMzYgQEAgc3RhdGljIHZvaWQgbXRrX2RzaV9waHlfdGltY29uZmlnKHN0cnVj
dCBtdGtfZHNpICpkc2kpCj4gPiAgewo+ID4gICAgICAgdTMyIHRpbWNvbjAsIHRpbWNvbjEsIHRp
bWNvbjIsIHRpbWNvbjM7Cj4gPiAgICAgICB1MzIgdWksIGN5Y2xlX3RpbWU7Cj4gPiArICAgICBz
dHJ1Y3QgbXRrX3BoeV90aW1pbmcgKnRpbWluZyA9ICZkc2ktPnBoeV90aW1pbmc7Cj4gPiArCj4g
PiArICAgICB1aSA9IDEwMDAwMDAwMDAgLyBkc2ktPmRhdGFfcmF0ZTsKPiA+ICsgICAgIGN5Y2xl
X3RpbWUgPSBkaXZfdTY0KDgwMDAwMDAwMDBVTEwsIGRzaS0+ZGF0YV9yYXRlKTsKPiA+ICsKPiA+
ICsgICAgIHRpbWluZy0+bHB4ID0gTlNfVE9fQ1lDTEUoNjAsIGN5Y2xlX3RpbWUpOwo+ID4gKyAg
ICAgdGltaW5nLT5kYV9oc19wcmVwYXJlID0gTlNfVE9fQ1lDTEUoNDAgKyA1ICogdWksIGN5Y2xl
X3RpbWUpOwo+ID4gKyAgICAgdGltaW5nLT5kYV9oc196ZXJvID0gTlNfVE9fQ1lDTEUoMTEwICsg
NiAqIHVpLCBjeWNsZV90aW1lKTsKPiA+ICsgICAgIHRpbWluZy0+ZGFfaHNfdHJhaWwgPSBOU19U
T19DWUNMRSg4MCArIDQgKiB1aSwgY3ljbGVfdGltZSk7Cj4gPgo+ID4gLSAgICAgdWkgPSAxMDAw
IC8gZHNpLT5kYXRhX3JhdGUgKyAweDAxOwo+ID4gLSAgICAgY3ljbGVfdGltZSA9IDgwMDAgLyBk
c2ktPmRhdGFfcmF0ZSArIDB4MDE7Cj4gPiArICAgICB0aW1pbmctPnRhX2dvID0gNCAqIHRpbWlu
Zy0+bHB4Owo+ID4gKyAgICAgdGltaW5nLT50YV9zdXJlID0gMyAqIHRpbWluZy0+bHB4IC8gMjsK
PiA+ICsgICAgIHRpbWluZy0+dGFfZ2V0ID0gNSAqIHRpbWluZy0+bHB4Owo+ID4gKyAgICAgdGlt
aW5nLT5kYV9oc19leGl0ID0gMiAqIHRpbWluZy0+bHB4Owo+ID4KPiA+IC0gICAgIHRpbWNvbjAg
PSBUX0xQWCB8IFRfSFNfUFJFUCA8PCA4IHwgVF9IU19aRVJPIDw8IDE2IHwgVF9IU19UUkFJTCA8
PCAyNDsKPiA+IC0gICAgIHRpbWNvbjEgPSA0ICogVF9MUFggfCAoMyAqIFRfTFBYIC8gMikgPDwg
OCB8IDUgKiBUX0xQWCA8PCAxNiB8Cj4gPiAtICAgICAgICAgICAgICAgVF9IU19FWElUIDw8IDI0
Owo+ID4gLSAgICAgdGltY29uMiA9ICgoTlNfVE9fQ1lDTEUoMHg2NCwgY3ljbGVfdGltZSkgKyAw
eGEpIDw8IDI0KSB8Cj4gPiAtICAgICAgICAgICAgICAgKE5TX1RPX0NZQ0xFKDB4MTUwLCBjeWNs
ZV90aW1lKSA8PCAxNik7Cj4gPiAtICAgICB0aW1jb24zID0gTlNfVE9fQ1lDTEUoMHg0MCwgY3lj
bGVfdGltZSkgfCAoMiAqIFRfTFBYKSA8PCAxNiB8Cj4gPiAtICAgICAgICAgICAgICAgTlNfVE9f
Q1lDTEUoODAgKyA1MiAqIHVpLCBjeWNsZV90aW1lKSA8PCA4Owo+ID4gKyAgICAgdGltaW5nLT5j
bGtfaHNfemVybyA9IE5TX1RPX0NZQ0xFKDMzNiwgY3ljbGVfdGltZSk7Cj4gPiArICAgICB0aW1p
bmctPmNsa19oc190cmFpbCA9IE5TX1RPX0NZQ0xFKDEwMCwgY3ljbGVfdGltZSkgKyAxMDsKPiA+
ICsKPiA+ICsgICAgIHRpbWluZy0+Y2xrX2hzX3ByZXBhcmUgPSBOU19UT19DWUNMRSg2NCwgY3lj
bGVfdGltZSk7Cj4gPiArICAgICB0aW1pbmctPmNsa19oc19wb3N0ID0gTlNfVE9fQ1lDTEUoODAg
KyA1MiAqIHVpLCBjeWNsZV90aW1lKTsKPiA+ICsgICAgIHRpbWluZy0+Y2xrX2hzX2V4aXQgPSAy
ICogdGltaW5nLT5scHg7Cj4gPiArCj4gPiArICAgICB0aW1jb24wID0gdGltaW5nLT5scHggfCB0
aW1pbmctPmRhX2hzX3ByZXBhcmUgPDwgOCB8Cj4gPiArICAgICAgICAgICAgICAgdGltaW5nLT5k
YV9oc196ZXJvIDw8IDE2IHwgdGltaW5nLT5kYV9oc190cmFpbCA8PCAyNDsKPiA+ICsgICAgIHRp
bWNvbjEgPSB0aW1pbmctPnRhX2dvIHwgdGltaW5nLT50YV9zdXJlIDw8IDggfAo+ID4gKyAgICAg
ICAgICAgICAgIHRpbWluZy0+dGFfZ2V0IDw8IDE2IHwgdGltaW5nLT5kYV9oc19leGl0IDw8IDI0
Owo+ID4gKyAgICAgdGltY29uMiA9IDEgPDwgOCB8IHRpbWluZy0+Y2xrX2hzX3plcm8gPDwgMTYg
fAo+ID4gKyAgICAgICAgICAgICAgIHRpbWluZy0+Y2xrX2hzX3RyYWlsIDw8IDI0Owo+ID4gKyAg
ICAgdGltY29uMyA9IHRpbWluZy0+Y2xrX2hzX3ByZXBhcmUgfCB0aW1pbmctPmNsa19oc19wb3N0
IDw8IDggfAo+ID4gKyAgICAgICAgICAgICAgIHRpbWluZy0+Y2xrX2hzX2V4aXQgPDwgMTY7Cj4g
Pgo+ID4gICAgICAgd3JpdGVsKHRpbWNvbjAsIGRzaS0+cmVncyArIERTSV9QSFlfVElNRUNPTjAp
Owo+ID4gICAgICAgd3JpdGVsKHRpbWNvbjEsIGRzaS0+cmVncyArIERTSV9QSFlfVElNRUNPTjEp
Owo+ID4gQEAgLTQxOCw3ICs0NTEsOCBAQCBzdGF0aWMgdm9pZCBtdGtfZHNpX2NvbmZpZ192ZG9f
dGltaW5nKHN0cnVjdCBtdGtfZHNpICpkc2kpCj4gPiAgICAgICB1MzIgaG9yaXpvbnRhbF9zeW5j
X2FjdGl2ZV9ieXRlOwo+ID4gICAgICAgdTMyIGhvcml6b250YWxfYmFja3BvcmNoX2J5dGU7Cj4g
PiAgICAgICB1MzIgaG9yaXpvbnRhbF9mcm9udHBvcmNoX2J5dGU7Cj4gPiAtICAgICB1MzIgZHNp
X3RtcF9idWZfYnBwOwo+ID4gKyAgICAgdTMyIGRzaV90bXBfYnVmX2JwcCwgZGF0YV9waHlfY3lj
bGVzOwo+ID4gKyAgICAgc3RydWN0IG10a19waHlfdGltaW5nICp0aW1pbmcgPSAmZHNpLT5waHlf
dGltaW5nOwo+ID4KPiA+ICAgICAgIHN0cnVjdCB2aWRlb21vZGUgKnZtID0gJmRzaS0+dm07Cj4g
Pgo+ID4gQEAgLTQ0NSw3ICs0NzksMzQgQEAgc3RhdGljIHZvaWQgbXRrX2RzaV9jb25maWdfdmRv
X3RpbWluZyhzdHJ1Y3QgbXRrX2RzaSAqZHNpKQo+ID4gICAgICAgICAgICAgICBob3Jpem9udGFs
X2JhY2twb3JjaF9ieXRlID0gKCh2bS0+aGJhY2tfcG9yY2ggKyB2bS0+aHN5bmNfbGVuKSAqCj4g
PiAgICAgICAgICAgICAgICAgICAgICAgZHNpX3RtcF9idWZfYnBwIC0gMTApOwo+ID4KPiA+IC0g
ICAgIGhvcml6b250YWxfZnJvbnRwb3JjaF9ieXRlID0gKHZtLT5oZnJvbnRfcG9yY2ggKiBkc2lf
dG1wX2J1Zl9icHAgLSAxMik7Cj4gPiArICAgICBkYXRhX3BoeV9jeWNsZXMgPSB0aW1pbmctPmxw
eCArIHRpbWluZy0+ZGFfaHNfcHJlcGFyZSArCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHRpbWluZy0+ZGFfaHNfemVybyArIHRpbWluZy0+ZGFfaHNfZXhpdCArIDI7Cj4gPiAr
Cj4gPiArICAgICBpZiAoZHNpLT5tb2RlX2ZsYWdzICYgTUlQSV9EU0lfTU9ERV9WSURFT19CVVJT
VCkgewo+ID4gKyAgICAgICAgICAgICBpZiAodm0tPmhmcm9udF9wb3JjaCAqIGRzaV90bXBfYnVm
X2JwcCA+Cj4gPiArICAgICAgICAgICAgICAgICBkYXRhX3BoeV9jeWNsZXMgKiBkc2ktPmxhbmVz
ICsgMTgpIHsKPiA+ICsgICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsX2Zyb250cG9yY2hf
Ynl0ZSA9IHZtLT5oZnJvbnRfcG9yY2ggKgo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgZHNpX3RtcF9idWZfYnBwIC0KPiA+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfcGh5X2N5Y2xlcyAq
Cj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBk
c2ktPmxhbmVzIC0gMTg7Cj4gPiArICAgICAgICAgICAgIH0gZWxzZSB7Cj4gPiArICAgICAgICAg
ICAgICAgICAgICAgRFJNX1dBUk4oIkhGUCBsZXNzIHRoYW4gZC1waHksIEZQUyB3aWxsIHVuZGVy
IDYwSHpcbiIpOwo+ID4gKyAgICAgICAgICAgICAgICAgICAgIGhvcml6b250YWxfZnJvbnRwb3Jj
aF9ieXRlID0gdm0tPmhmcm9udF9wb3JjaCAqCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBkc2lfdG1wX2J1Zl9icHA7Cj4gPiArICAgICAgICAg
ICAgIH0KPiA+ICsgICAgIH0gZWxzZSB7Cj4gPiArICAgICAgICAgICAgIGlmICh2bS0+aGZyb250
X3BvcmNoICogZHNpX3RtcF9idWZfYnBwID4KPiA+ICsgICAgICAgICAgICAgICAgIGRhdGFfcGh5
X2N5Y2xlcyAqIGRzaS0+bGFuZXMgKyAxMikgewo+ID4gKyAgICAgICAgICAgICAgICAgICAgIGhv
cml6b250YWxfZnJvbnRwb3JjaF9ieXRlID0gdm0tPmhmcm9udF9wb3JjaCAqCj4gPiArICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkc2lfdG1wX2J1Zl9i
cHAgLQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgZGF0YV9waHlfY3ljbGVzICoKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGRzaS0+bGFuZXMgLSAxMjsKPiA+ICsgICAgICAgICAgICAgfSBl
bHNlIHsKPiA+ICsgICAgICAgICAgICAgICAgICAgICBEUk1fV0FSTigiSEZQIGxlc3MgdGhhbiBk
LXBoeSwgRlBTIHdpbGwgdW5kZXIgNjBIelxuIik7Cj4gPiArICAgICAgICAgICAgICAgICAgICAg
aG9yaXpvbnRhbF9mcm9udHBvcmNoX2J5dGUgPSB2bS0+aGZyb250X3BvcmNoICoKPiA+ICsgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRzaV90bXBfYnVm
X2JwcDsKPiA+ICsgICAgICAgICAgICAgfQo+ID4gKyAgICAgfQo+ID4KPiA+ICAgICAgIHdyaXRl
bChob3Jpem9udGFsX3N5bmNfYWN0aXZlX2J5dGUsIGRzaS0+cmVncyArIERTSV9IU0FfV0MpOwo+
ID4gICAgICAgd3JpdGVsKGhvcml6b250YWxfYmFja3BvcmNoX2J5dGUsIGRzaS0+cmVncyArIERT
SV9IQlBfV0MpOwo+ID4gQEAgLTU0NSw4ICs2MDYsNyBAQCBzdGF0aWMgaW50IG10a19kc2lfcG93
ZXJvbihzdHJ1Y3QgbXRrX2RzaSAqZHNpKQo+ID4gIHsKPiA+ICAgICAgIHN0cnVjdCBkZXZpY2Ug
KmRldiA9IGRzaS0+LT5ob3N0LmRldjsKPiA+ICAgICAgIGludCByZXQ7Cj4gPiAtICAgICB1NjQg
cGl4ZWxfY2xvY2ssIHRvdGFsX2JpdHM7Cj4gPiAtICAgICB1MzIgaHRvdGFsLCBodG90YWxfYml0
cywgYml0X3Blcl9waXhlbCwgb3ZlcmhlYWRfY3ljbGVzLCBvdmVyaGVhZF9iaXRzOwo+ID4gKyAg
ICAgdTMyIGJpdF9wZXJfcGl4ZWw7Cj4gPgo+ID4gICAgICAgaWYgKCsrZHNpLT5yZWZjb3VudCAh
PSAxKQo+ID4gICAgICAgICAgICAgICByZXR1cm4gMDsKPiA+IEBAIC01NjUsMjQgKzYyNSw3IEBA
IHN0YXRpYyBpbnQgbXRrX2RzaV9wb3dlcm9uKHN0cnVjdCBtdGtfZHNpICpkc2kpCj4gPiAgICAg
ICAgICAgICAgIGJyZWFrOwo+ID4gICAgICAgfQo+ID4KPiA+IC0gICAgIC8qKgo+ID4gLSAgICAg
ICogaHRvdGFsX3RpbWUgPSBodG90YWwgKiBieXRlX3Blcl9waXhlbCAvIG51bV9sYW5lcwo+ID4g
LSAgICAgICogb3ZlcmhlYWRfdGltZSA9IGxweCArIGhzX3ByZXBhcmUgKyBoc196ZXJvICsgaHNf
dHJhaWwgKyBoc19leGl0Cj4gPiAtICAgICAgKiBtaXBpX3JhdGlvID0gKGh0b3RhbF90aW1lICsg
b3ZlcmhlYWRfdGltZSkgLyBodG90YWxfdGltZQo+ID4gLSAgICAgICogZGF0YV9yYXRlID0gcGl4
ZWxfY2xvY2sgKiBiaXRfcGVyX3BpeGVsICogbWlwaV9yYXRpbyAvIG51bV9sYW5lczsKPiA+IC0g
ICAgICAqLwo+ID4gLSAgICAgcGl4ZWxfY2xvY2sgPSBkc2ktPnZtLnBpeGVsY2xvY2s7Cj4gPiAt
ICAgICBodG90YWwgPSBkc2ktPnZtLmhhY3RpdmUgKyBkc2ktPnZtLmhiYWNrX3BvcmNoICsgZHNp
LT52bS5oZnJvbnRfcG9yY2ggKwo+ID4gLSAgICAgICAgICAgICAgICAgICAgIGRzaS0+dm0uaHN5
bmNfbGVuOwo+ID4gLSAgICAgaHRvdGFsX2JpdHMgPSBodG90YWwgKiBiaXRfcGVyX3BpeGVsOwo+
ID4gLQo+ID4gLSAgICAgb3ZlcmhlYWRfY3ljbGVzID0gVF9MUFggKyBUX0hTX1BSRVAgKyBUX0hT
X1pFUk8gKyBUX0hTX1RSQUlMICsKPiA+IC0gICAgICAgICAgICAgICAgICAgICBUX0hTX0VYSVQ7
Cj4gPiAtICAgICBvdmVyaGVhZF9iaXRzID0gb3ZlcmhlYWRfY3ljbGVzICogZHNpLT5sYW5lcyAq
IDg7Cj4gPiAtICAgICB0b3RhbF9iaXRzID0gaHRvdGFsX2JpdHMgKyBvdmVyaGVhZF9iaXRzOwo+
ID4gLQo+ID4gLSAgICAgZHNpLT5kYXRhX3JhdGUgPSBESVZfUk9VTkRfVVBfVUxMKHBpeGVsX2Ns
b2NrICogdG90YWxfYml0cywKPiA+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBodG90YWwgKiBkc2ktPmxhbmVzKTsKPiA+ICsgICAgIGRzaS0+ZGF0YV9yYXRlID0gRElW
X1JPVU5EX1VQX1VMTChkc2ktPnZtLnBpeGVsY2xvY2sgKiBiaXRfcGVyX3BpeGVsLCBkc2ktPmxh
bmVzKTsKCm5pdDogV3JhcCB0aGlzIGxpbmUsIGl0J3Mgb3ZlciA4MCBjaGFyYWN0ZXJzLgoKPiA+
Cj4gPiAgICAgICByZXQgPSBjbGtfc2V0X3JhdGUoZHNpLT5oc19jbGssIGRzaS0+ZGF0YV9yYXRl
KTsKPiA+ICAgICAgIGlmIChyZXQgPCAwKSB7Cj4KPgpfX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBs
aXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1h
bi9saXN0aW5mby9kcmktZGV2ZWw=
