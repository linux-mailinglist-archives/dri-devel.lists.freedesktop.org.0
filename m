Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id DB9569B7C1C
	for <lists+dri-devel@lfdr.de>; Thu, 31 Oct 2024 14:48:24 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 301A810E89D;
	Thu, 31 Oct 2024 13:48:23 +0000 (UTC)
Authentication-Results: gabe.freedesktop.org;
	dkim=pass (1024-bit key; unprotected) header.d=amd.com header.i=@amd.com header.b="1MxJ5tfq";
	dkim-atps=neutral
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from NAM11-CO1-obe.outbound.protection.outlook.com
 (mail-co1nam11on2068.outbound.protection.outlook.com [40.107.220.68])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D20CC10E89D;
 Thu, 31 Oct 2024 13:48:21 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector10001; d=microsoft.com; cv=none;
 b=lX8ADHfYOyzeItAnTCPkMTrWwpgylbAMfnesnAcJWo7R+nQ6yQFQnOeLzVa65tusytYhwNFW6Rvb4vrDmlnKHnHMQikxK2UYfh0JAWFLxXdm3NIMun3Dl1X7u94cew7oMEmGG8eb6JIvIuA3Owd0+iTY+4BgBvR1ArlvJKVCTu8Ztc+Ta9EitaU16/6HJrEEgqewYp1ZyR6N8QjzxxtMIIA0dghfIBpnj/nL0Kj2977mENP6JXWTg5cbvEDGA5386CfbqbzwwsLKbCmI9RG413YgMZvIbBAtVFtSrtvmNnOrsabJycW/b5l9Q+Kds0k66I4TYS47vvQGLocvTS+vAA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector10001;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=9oS12YK+GFrv8E+74724C3u2tJRlq/RBEkIXRnsDTMU=;
 b=Aw4UiAAeQhtIlNYbebysBbHotjBRA9S3C54wVLTRpvaZ+ZR6MHTZwzxiBtvb4t7zZRKq+hryJ4RUO65cUksDd+Wzpeq5MxuNlBEh4Bbde1GPobfXIzPwZVL8/pVhsxRZmuuvqxqWH3l/RmC2rCM3vMyFh6w5xPf4p3Mof0sceDrpRBjNlveQ6llN4naZEBADZaZEG94/yiZamjpBvwDktcPGEMFqZ6FNdIah4zaTX5+PYNu7woMYGTzAKZg3XxNTa2eL60qyMfAnkP40od2TbP2fqHfEDA9k/qzKlNhnSRaQ0QspRwK8Yf7zkKZwG9TCjHLATQnRztQqB3/16aVykQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=amd.com; s=selector1; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=9oS12YK+GFrv8E+74724C3u2tJRlq/RBEkIXRnsDTMU=;
 b=1MxJ5tfqFeUiphSi+Hyjy9wuTBI3d8WsFGgjM0E0HMUuzVXR2qKtCJYK1PObZ5SOasEeMYEfxyzUjRTpoelYlPdxqZPy+oI+HyK8BG74w8wHl+Y5P4sfWaQowPShLL17IIwLgnJXBGut3P23KDS//oT/RSPAl3M33FPmZGgwb+8=
Received: from SA1PR12MB8599.namprd12.prod.outlook.com (2603:10b6:806:254::7)
 by PH8PR12MB7109.namprd12.prod.outlook.com (2603:10b6:510:22f::16)
 with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.8069.28; Thu, 31 Oct
 2024 13:48:14 +0000
Received: from SA1PR12MB8599.namprd12.prod.outlook.com
 ([fe80::25da:4b98:9743:616b]) by SA1PR12MB8599.namprd12.prod.outlook.com
 ([fe80::25da:4b98:9743:616b%3]) with mapi id 15.20.8093.024; Thu, 31 Oct 2024
 13:48:14 +0000
From: "Li, Yunxiang (Teddy)" <Yunxiang.Li@amd.com>
To: =?utf-8?B?Q2hyaXN0aWFuIEvDtm5pZw==?= <ckoenig.leichtzumerken@gmail.com>,
 "dri-devel@lists.freedesktop.org" <dri-devel@lists.freedesktop.org>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>, "Koenig,
 Christian" <Christian.Koenig@amd.com>, "tvrtko.ursulin@igalia.com"
 <tvrtko.ursulin@igalia.com>
CC: "Deucher, Alexander" <Alexander.Deucher@amd.com>
Subject: RE: [PATCH v6 5/5] drm/amdgpu: track bo memory stats at runtime
Thread-Topic: [PATCH v6 5/5] drm/amdgpu: track bo memory stats at runtime
Thread-Index: AQHbJwUt4PbNHJpqN0KKwqsOZUoQGrKg2ckAgAADsbA=
Date: Thu, 31 Oct 2024 13:48:14 +0000
Message-ID: <SA1PR12MB8599A6C097FACA601831465FED552@SA1PR12MB8599.namprd12.prod.outlook.com>
References: <20241025174113.554-1-Yunxiang.Li@amd.com>
 <20241025174113.554-6-Yunxiang.Li@amd.com>
 <a4b907e6-2a23-4e22-bc26-607f05c91821@gmail.com>
In-Reply-To: <a4b907e6-2a23-4e22-bc26-607f05c91821@gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
msip_labels: MSIP_Label_f265efc6-e181-49d6-80f4-fae95cf838a0_ActionId=74ee702d-7165-4373-bafe-fca13a599dd3;
 MSIP_Label_f265efc6-e181-49d6-80f4-fae95cf838a0_ContentBits=0;
 MSIP_Label_f265efc6-e181-49d6-80f4-fae95cf838a0_Enabled=true;
 MSIP_Label_f265efc6-e181-49d6-80f4-fae95cf838a0_Method=Privileged;
 MSIP_Label_f265efc6-e181-49d6-80f4-fae95cf838a0_Name=Open Source;
 MSIP_Label_f265efc6-e181-49d6-80f4-fae95cf838a0_SetDate=2024-10-31T13:07:31Z;
 MSIP_Label_f265efc6-e181-49d6-80f4-fae95cf838a0_SiteId=3dd8961f-e488-4e60-8e11-a82d994e183d;
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=amd.com;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: SA1PR12MB8599:EE_|PH8PR12MB7109:EE_
x-ms-office365-filtering-correlation-id: 61a30eb5-b36b-432a-0978-08dcf9b2aad6
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0; ARA:13230040|376014|366016|1800799024|38070700018;
x-microsoft-antispam-message-info: =?utf-8?B?YnlGQmdocGJDKzJsQTRZL1VJZlBuSFVTT0VOZEszbmZKNXdoTmdQNlczc3Vh?=
 =?utf-8?B?SGdVTmcrT0xHVWpVaXdhV0NSdnJyTUgyS2Q1RytaTHlndjhjbTA4NnhwSERq?=
 =?utf-8?B?T0ZOZWZNcXJkakkxTFBycHc3MW1LQTdRV0FjcEl4TFhycXIxMEtvZVRhTmVm?=
 =?utf-8?B?bURQRzJKUmpxWHEyb0QxdzQvb0UzdDhvcnIxWG16Nm1oV0pLZGJjZUpQVTZi?=
 =?utf-8?B?ZFRtYUc5eUpBOXdnUUY1VERUTEpPbjkzdzZjeWh6Q2hHRnU0STJxS0Vhamp2?=
 =?utf-8?B?ODd5RGtpNXN4SmdMbjZMa2hyc0l5TjYxZHhpbm5vWUdmYWpjQjhEUHQ0bktr?=
 =?utf-8?B?VGlZZ056Zmlnd0hDQ0xOMzYvTHpQUVdMV2dPcW8rWm1WWERnYUpYdDhCUmNU?=
 =?utf-8?B?Y0M0TjMyYXNISXNWMjlvQlhyeWxnWmxrbm9mVU1TaUhNOVlMb3A5YTYxbUZh?=
 =?utf-8?B?WEhYL0FUa2JpQTAvSCtqRzliem1xNWhTWXgyTUJFbEFReUpud2ZZNENzN3gv?=
 =?utf-8?B?TGVHT2J0ZVVKQlVhWUJQNVlNdVBKL1ZBb0xjdHZUZjd6djcxTTVVd3RMWDc0?=
 =?utf-8?B?aDNmeno3bWlOSTM1ak16YmpmbVNZTFExNko1cjM1OEdPMWM0MjVhdmduR29o?=
 =?utf-8?B?Rjd2djcvWjRTczFTSFFnTFZiSEVwYldLOHlrZUlqMFFFc2crSjNqMW5kemZG?=
 =?utf-8?B?TUNPT3h0OW9weUZONHF3N1R0b3Q0T2dwNjNrYzVIM04xdWdUOXprNmZLTzNS?=
 =?utf-8?B?Z0E0QWZ0ZGtIRU5rVDZmdzgzRTgzcFhxK0EzT0VlTzdUN2NFWm4rWWFFaW81?=
 =?utf-8?B?bGFEWDJWdGVjOElXOE9oWGdjd3NSeEJSbFZaMStOeC8xZFNVL1U0cXVWMGZD?=
 =?utf-8?B?UFQzMkFkRmZWRG5KMlptd1VtQ2tmYit4dGsrbHhZZFBta2RxOU5STzdGK0s4?=
 =?utf-8?B?L1pHNkxvRGZmSTVKZlgvSTlpYWQwWXIxMnpGbmtvbWUwNlZlYnJKUzNNYjBn?=
 =?utf-8?B?UURLbEJ6WEk2clZQd2dhMFlPcXl6Z1Bkd0prdk5XNWwvWEJERDRod0ZUVlNJ?=
 =?utf-8?B?VFEzUjk3Z0liM2M4VkFXYytKTkZCWWlvVE9LWUVZaHhuNXhCcDlQTE5XUGlG?=
 =?utf-8?B?bnhGR0hQZVY2azFxZCt5dHhRKzkyU0JkREtoeXBGYzFCMFl3QkVoUnJKSkVW?=
 =?utf-8?B?QklGb3R6dFRpR2ZRNEY1UUZqVUpueDNTa05oQysveWgxd25zaWd6N0l3MnYy?=
 =?utf-8?B?RHFEMGplWTJxY2VDTk1kZEVOWlhMS3FUYThZaS9NSTNjc3hXWmpwL3pTR09O?=
 =?utf-8?B?b2JJc3M2YW5BT2tETHpvbTdNS0hyaUJIcUNwOTBTWnJCc1BFN0RCUE5YakVE?=
 =?utf-8?B?andRVkpBUXFERE5LaUZvME5nYk5Hd1FicnpIN1RTR0lSaE1UNTFSKzcrWFNt?=
 =?utf-8?B?QVVFNlJXdWx3YkJrU1V2emNqS3N0ODNjL2Z2R2ZvdTQvbm0wYTRFVG54cG1N?=
 =?utf-8?B?VzYxNERZZWJrbnVjSkFJYjd0ZjkyWXFsbEpNSDJVcVdsV0JpdDREaU95UkFD?=
 =?utf-8?B?YWUvQ2RpaDdwelljSGNVSzlPTHF5S0NQbDZUbGFmbkRiaDltcGVwZGtaZXVY?=
 =?utf-8?B?TGlPdzMzM1FqZ25DQWxuWC9RTHRPLzh3Q0lTQnFvdWM2WFZKREk1c24vZUcz?=
 =?utf-8?B?K2g3VHRFbS9WMmRqcjJxQ3FTZlJCallKc2NkZW5Kd2VxMm9vSER6RmNvWEpD?=
 =?utf-8?Q?7cRIc2BxtRi6tCUBX/X/S/E9sAHjnMFfF3NnOi5?=
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:SA1PR12MB8599.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(13230040)(376014)(366016)(1800799024)(38070700018); DIR:OUT; SFP:1101; 
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?dmNvVVZwUlRKd2Uwd0RoTUdFWnRIN3ZrM0hqcFRDRktSTklqN0k3cEhnTU1F?=
 =?utf-8?B?WmQ2UGR3dDA1a0Z0elc4bVZQTUYzRHc2dWZoUXRRdkFVeTBzVHhGRTZjNjcz?=
 =?utf-8?B?UzlpcXdSZHNDUU80Zi9DU1NUQkMxeTV6TWo3N292bjJwVEl4amJndVg0cDEz?=
 =?utf-8?B?ckNaNDlWNHNMOXVaQmNSQmd4TC81VmRSd3MycHkxdFdTOTdaNW5GL0FkUjJY?=
 =?utf-8?B?RE1KT3BZOWFmWlpHTHhzYmVXMndoM0pqeGFZeEpWblYxNnJvbUNlcWFQTUFq?=
 =?utf-8?B?bjdNclRaUWptZDRUWkZvVVNIQU10YnF2d0V2ak1KQzZEelNLeCtTdGg2SVRp?=
 =?utf-8?B?MjVGY21veEpZTi9vQ1NieXFpRERBSk1GWjYyclZXanI2Ry85Szd1ZG9KZFBC?=
 =?utf-8?B?UlNra21EM2ZLWkZqczYyWFlGM2FteVdNdGhPNmdRN2ZaREYwYjdSOU05ejVm?=
 =?utf-8?B?a0lIUDNvdVV3SXR5MDl2VUQ4QncxYVNvdE1XRXA3VXZkczU5NFJHSGVxOWtK?=
 =?utf-8?B?bzJPOGp4a3JWRlpMKzFabENGWXMrWFRrTy9aOG82S3V0WTYrUm4yd2NXdTlH?=
 =?utf-8?B?b0VxWEgxT0JCYjFOM0hKdXNmNWFrNko4TWY0bXM4aUJ4OEdOZ0w5R0JFQnJr?=
 =?utf-8?B?SEY4NUo5YVhnSDNvd3R5NzFialZDL2Z6Tk9ia1pBcG9yc3RiQmdDOXpFMjAz?=
 =?utf-8?B?Sm1Sam4xaDlWNm9CVnZYUmFIVDBCRExsbHBVS0hNV3grSTNFSUpKay9UWmJK?=
 =?utf-8?B?MkxTQ0s5NEprc25QaCtDN09JdDBXRWNGYzJkZkJUUnhhQU5SYVpNSVFua1Vv?=
 =?utf-8?B?RkpkMkNYbFNwcFF4ZUk0ajg4Q3Y0NlBzNHlTL3I5cFZaSXgwODJRaWZpK2li?=
 =?utf-8?B?bFA0SDZrR3NXbWV1SW5vaEtUYmVLWHVEK0xrUzFwd05INWJhV0NyZU9RaXhU?=
 =?utf-8?B?OGluSHpKSFJsZHkwV1RacmFXc2ZZMVhYOFZDRDAzR25hK3dINmRpYnRwcGpF?=
 =?utf-8?B?QXlCeVRxSk0yQVpDUERpRThYMlFaRnBpdzJNTHBwaTBDYUMvN1JUNWZTQk1K?=
 =?utf-8?B?ckpWeklVMFJnSTNxUHZoQVAwOVdMMzRORFhIM1NDaFQ3a2VxLzhDUWVORHlR?=
 =?utf-8?B?WTBSM0poOC8zTXhDVEVTNzQyclNhVjdYelB0SmNXSmd6d24wRmFvSTZNTGhT?=
 =?utf-8?B?aVV3RXpTd0xNUm1mQ1dhOS9Sb01PZEdhd3oyRUlLQ3ZvQlJCUDhDb2g0OXp6?=
 =?utf-8?B?WTBRdnpHUWtwYkJjRW5sQURoNGx0cXZjWGtYaWUrMmJhaktITlBsbjNUMzlq?=
 =?utf-8?B?VHM3Q0dmd29FSXhFVlA4Mk5OR0p3ZFpXa016Slp2N1VzMzJicGZhWC9zWHQ5?=
 =?utf-8?B?empYWTljNjVaanAxZzVkQ1hIZlVJck9kbWVqSlVuQnREdEhaZXhnNHhvcFR4?=
 =?utf-8?B?Um1DejJXVzFvc3VzSkZiT1owaFNBV3RORVdTaTNVS3kyWmY1RzEvbUhEeW53?=
 =?utf-8?B?L1Z1N1pVeUY3akFwVHZ4NEpWR21leVYvTDdXWWpKblg3UXpSRVZCYzltQmM2?=
 =?utf-8?B?Y05FUnpKbEpOQ05xazRsRGdBVkFkcE5LSkQ1NmEyMmMwd2lESTMwd0ljdCtm?=
 =?utf-8?B?am9VcVI0MWpjWDNDMHlFdDdlVHNXM1VjOUJVcmZtQnRwVHVnYnJRTkpyYjE2?=
 =?utf-8?B?WkYrc3o0MWFPUmJmaTJvaE1FKzhRRFlOMlZXUk1FRWhYWk5JUzZLVGVFTXVZ?=
 =?utf-8?B?QVRXWGdKcjhiZHNZdGJqb0lDa1VTMnlEWnd4QTE3SFFnSzZvRzZMWUprNjdk?=
 =?utf-8?B?d3NyTDRsVzdXRnlNdytiK3IveW5OM1I4Lzd5UEc0Nnl6TjczUm00cmNESWFl?=
 =?utf-8?B?cXlNZ05yQUY0bXVBVmtzaENPWDk4VGtCMnoyWmtCZ1M2b2tsSmdSSXRtY05W?=
 =?utf-8?B?dWcyZzFnQjRvU2JOMWZHNnZxOHFwYmxQQVhSeXpVOXRNYnUwd3hFSG1kdUlu?=
 =?utf-8?B?SEh3cng1RS94ZGllZHBZWVZHVXQyS2s4UkNYWkxuL0dLTkZWQlB4YVpKbWxN?=
 =?utf-8?B?VTlUYXdDeVZ1R3ZuVGJtUkFtdHdDaUwvcVpTeFByb0ZYMXNmZ2x5NTIvTDhX?=
 =?utf-8?Q?iwQQ=3D?=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: SA1PR12MB8599.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 61a30eb5-b36b-432a-0978-08dcf9b2aad6
X-MS-Exchange-CrossTenant-originalarrivaltime: 31 Oct 2024 13:48:14.5288 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: bsAHPiEsuV3q6xvNzwO2kqgqb6IVAwvyz//KZNzHZvMm9vQHp5DjtkWtQdeocsbH0G/EnYuW2zolvdior7fMjQ==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: PH8PR12MB7109
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

W1B1YmxpY10NCg0KPiBGcm9tOiBDaHJpc3RpYW4gS8O2bmlnIDxja29lbmlnLmxlaWNodHp1bWVy
a2VuQGdtYWlsLmNvbT4NCj4gU2VudDogVGh1cnNkYXksIE9jdG9iZXIgMzEsIDIwMjQgODo1NA0K
PiBBbSAyNS4xMC4yNCB1bSAxOTo0MSBzY2hyaWViIFl1bnhpYW5nIExpOg0KPiA+IEJlZm9yZSwg
ZXZlcnkgdGltZSBmZGluZm8gaXMgcXVlcmllZCB3ZSB0cnkgdG8gbG9jayBhbGwgdGhlIEJPcyBp
biB0aGUNCj4gPiBWTSBhbmQgY2FsY3VsYXRlIG1lbW9yeSB1c2FnZSBmcm9tIHNjcmF0Y2guIFRo
aXMgd29ya3Mgb2theSBpZiB0aGUNCj4gPiBmZGluZm8gaXMgcmFyZWx5IHJlYWQgYW5kIHRoZSBW
TXMgZG9uJ3QgaGF2ZSBhIHRvbiBvZiBCT3MuIElmIGVpdGhlcg0KPiA+IG9mIHRoZXNlIGNvbmRp
dGlvbnMgaXMgbm90IHRydWUsIHdlIGdldCBhIG1hc3NpdmUgcGVyZm9ybWFuY2UgaGl0Lg0KPiA+
DQo+ID4gSW4gdGhpcyBuZXcgcmV2aXNpb24sIHdlIHRyYWNrIHRoZSBCT3MgYXMgdGhleSBjaGFu
Z2Ugc3RhdGVzLiBUaGlzIHdheQ0KPiA+IHdoZW4gdGhlIGZkaW5mbyBpcyBxdWVyaWVkIHdlIG9u
bHkgbmVlZCB0byB0YWtlIHRoZSBzdGF0dXMgbG9jayBhbmQNCj4gPiBjb3B5IG91dCB0aGUgdXNh
Z2Ugc3RhdHMgd2l0aCBtaW5pbWFsIGltcGFjdCB0byB0aGUgcnVudGltZSBwZXJmb3JtYW5jZS4N
Cj4gPg0KPiA+IFNpZ25lZC1vZmYtYnk6IFl1bnhpYW5nIExpIDxZdW54aWFuZy5MaUBhbWQuY29t
Pg0KPiA+IC0tLQ0KPiA+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RtYV9i
dWYuYyB8ICAxNCArLQ0KPiA+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2Zk
aW5mby5jICB8ICAxMCArLQ0KPiA+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1
X29iamVjdC5jICB8IDEwNyArKystLS0tLS0tLQ0KPiA+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1X29iamVjdC5oICB8ICAgNSArLQ0KPiA+ICAgZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvYW1kZ3B1X3R0bS5oICAgICB8ICAgMiArLQ0KPiA+ICAgZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvYW1kZ3B1X3ZtLmMgICAgICB8IDE4OSArKysrKysrKysrKysrKystLS0tLQ0K
PiA+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtLmggICAgICB8ICAxMiAr
LQ0KPiA+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtX3B0LmMgICB8ICAg
MSArDQo+ID4gICA4IGZpbGVzIGNoYW5nZWQsIDE5OSBpbnNlcnRpb25zKCspLCAxNDEgZGVsZXRp
b25zKC0pDQo+ID4NCj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
YW1kZ3B1X2RtYV9idWYuYw0KPiA+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1
X2RtYV9idWYuYw0KPiA+IGluZGV4IGIxNDQ0MDQ5MDIyNTUuLjFkOGEwZmYzYzg2MDQgMTAwNjQ0
DQo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RtYV9idWYuYw0K
PiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kbWFfYnVmLmMNCj4g
PiBAQCAtMzYsNiArMzYsNyBAQA0KPiA+ICAgI2luY2x1ZGUgImFtZGdwdV9nZW0uaCINCj4gPiAg
ICNpbmNsdWRlICJhbWRncHVfZG1hX2J1Zi5oIg0KPiA+ICAgI2luY2x1ZGUgImFtZGdwdV94Z21p
LmgiDQo+ID4gKyNpbmNsdWRlICJhbWRncHVfdm0uaCINCj4gPiAgICNpbmNsdWRlIDxkcm0vYW1k
Z3B1X2RybS5oPg0KPiA+ICAgI2luY2x1ZGUgPGRybS90dG0vdHRtX3R0Lmg+DQo+ID4gICAjaW5j
bHVkZSA8bGludXgvZG1hLWJ1Zi5oPg0KPiA+IEBAIC0xOTAsNiArMTkxLDEzIEBAIHN0YXRpYyB2
b2lkIGFtZGdwdV9kbWFfYnVmX3VubWFwKHN0cnVjdA0KPiBkbWFfYnVmX2F0dGFjaG1lbnQgKmF0
dGFjaCwNCj4gPiAgICAgfQ0KPiA+ICAgfQ0KPiA+DQo+ID4gK3N0YXRpYyB2b2lkIGFtZGdwdV9k
bWFfYnVmX3JlbGVhc2Uoc3RydWN0IGRtYV9idWYgKmJ1Zikgew0KPiA+ICsgICBzdHJ1Y3QgYW1k
Z3B1X2JvICpibyA9IGdlbV90b19hbWRncHVfYm8oYnVmLT5wcml2KTsNCj4gPiArICAgYW1kZ3B1
X3ZtX2JvX3VwZGF0ZV9zaGFyZWQoYm8sIC0xKTsNCj4gPiArICAgZHJtX2dlbV9kbWFidWZfcmVs
ZWFzZShidWYpOw0KPg0KPiBQbGVhc2UgcnVuIGNoZWNrcGF0Y2gucGwgb24gdGhlIHBhdGNoLiBB
cyBmYXIgYXMgSSBjYW4gc2VlIGl0IHdvdWxkIGNvbXBsYWluIGFib3V0DQo+IHRoZSBjb2Rpbmcg
c3R5bGUgaGVyZSAoZW1wdHkgbGluZSBiZXR3ZWVuIGRlY2xhcmF0aW9uIGFuZCBjb2RlKS4NCj4N
Cj4gTm90IG11Y2ggb2YgYW4gaXNzdWUgYnV0IHdlIHdvdWxkIGxpa2UgdG8gcHJldmVudCB1cHN0
cmVhbSBmcm9tIGNvbXBsYWluaW5nIGFib3V0DQo+IHN1Y2ggdGhpbmdzLg0KDQpXaWxsIGRvDQoN
Cj4gPiArfQ0KPiA+ICsNCj4gPiAgIC8qKg0KPiA+ICAgICogYW1kZ3B1X2RtYV9idWZfYmVnaW5f
Y3B1X2FjY2VzcyAtICZkbWFfYnVmX29wcy5iZWdpbl9jcHVfYWNjZXNzDQo+IGltcGxlbWVudGF0
aW9uDQo+ID4gICAgKiBAZG1hX2J1ZjogU2hhcmVkIERNQSBidWZmZXINCj4gPiBAQCAtMjM3LDcg
KzI0NSw3IEBAIGNvbnN0IHN0cnVjdCBkbWFfYnVmX29wcyBhbWRncHVfZG1hYnVmX29wcyA9IHsN
Cj4gPiAgICAgLnVucGluID0gYW1kZ3B1X2RtYV9idWZfdW5waW4sDQo+ID4gICAgIC5tYXBfZG1h
X2J1ZiA9IGFtZGdwdV9kbWFfYnVmX21hcCwNCj4gPiAgICAgLnVubWFwX2RtYV9idWYgPSBhbWRn
cHVfZG1hX2J1Zl91bm1hcCwNCj4gPiAtICAgLnJlbGVhc2UgPSBkcm1fZ2VtX2RtYWJ1Zl9yZWxl
YXNlLA0KPiA+ICsgICAucmVsZWFzZSA9IGFtZGdwdV9kbWFfYnVmX3JlbGVhc2UsDQo+ID4gICAg
IC5iZWdpbl9jcHVfYWNjZXNzID0gYW1kZ3B1X2RtYV9idWZfYmVnaW5fY3B1X2FjY2VzcywNCj4g
PiAgICAgLm1tYXAgPSBkcm1fZ2VtX2RtYWJ1Zl9tbWFwLA0KPiA+ICAgICAudm1hcCA9IGRybV9n
ZW1fZG1hYnVmX3ZtYXAsDQo+ID4gQEAgLTI2NSw4ICsyNzMsMTAgQEAgc3RydWN0IGRtYV9idWYg
KmFtZGdwdV9nZW1fcHJpbWVfZXhwb3J0KHN0cnVjdA0KPiBkcm1fZ2VtX29iamVjdCAqZ29iaiwN
Cj4gPiAgICAgICAgICAgICByZXR1cm4gRVJSX1BUUigtRVBFUk0pOw0KPiA+DQo+ID4gICAgIGJ1
ZiA9IGRybV9nZW1fcHJpbWVfZXhwb3J0KGdvYmosIGZsYWdzKTsNCj4gPiAtICAgaWYgKCFJU19F
UlIoYnVmKSkNCj4gPiArICAgaWYgKCFJU19FUlIoYnVmKSkgew0KPiA+ICAgICAgICAgICAgIGJ1
Zi0+b3BzID0gJmFtZGdwdV9kbWFidWZfb3BzOw0KPiA+ICsgICAgICAgICAgIGFtZGdwdV92bV9i
b191cGRhdGVfc2hhcmVkKGJvLCArMSk7DQo+ID4gKyAgIH0NCj4gPg0KPiA+ICAgICByZXR1cm4g
YnVmOw0KPiA+ICAgfQ0KPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9hbWRncHVfZmRpbmZvLmMNCj4gPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdw
dV9mZGluZm8uYw0KPiA+IGluZGV4IDdhOTU3Mzk1OGQ4N2MuLmUwZTA5ZjdiMzlkMTAgMTAwNjQ0
DQo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2ZkaW5mby5jDQo+
ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2ZkaW5mby5jDQo+ID4g
QEAgLTYwLDcgKzYwLDcgQEAgdm9pZCBhbWRncHVfc2hvd19mZGluZm8oc3RydWN0IGRybV9wcmlu
dGVyICpwLCBzdHJ1Y3QNCj4gZHJtX2ZpbGUgKmZpbGUpDQo+ID4gICAgIHN0cnVjdCBhbWRncHVf
ZnByaXYgKmZwcml2ID0gZmlsZS0+ZHJpdmVyX3ByaXY7DQo+ID4gICAgIHN0cnVjdCBhbWRncHVf
dm0gKnZtID0gJmZwcml2LT52bTsNCj4gPg0KPiA+IC0gICBzdHJ1Y3QgYW1kZ3B1X21lbV9zdGF0
cyBzdGF0c1tfX0FNREdQVV9QTF9MQVNUICsgMV0gPSB7IH07DQo+ID4gKyAgIHN0cnVjdCBhbWRn
cHVfbWVtX3N0YXRzIHN0YXRzW19fQU1ER1BVX1BMX0xBU1RdID0geyB9Ow0KPiA+ICAgICBrdGlt
ZV90IHVzYWdlW0FNREdQVV9IV19JUF9OVU1dOw0KPiA+ICAgICBjb25zdCBjaGFyICpwbF9uYW1l
W10gPSB7DQo+ID4gICAgICAgICAgICAgW1RUTV9QTF9WUkFNXSA9ICJ2cmFtIiwNCj4gPiBAQCAt
NzAsMTMgKzcwLDcgQEAgdm9pZCBhbWRncHVfc2hvd19mZGluZm8oc3RydWN0IGRybV9wcmludGVy
ICpwLCBzdHJ1Y3QNCj4gZHJtX2ZpbGUgKmZpbGUpDQo+ID4gICAgIHVuc2lnbmVkIGludCBod19p
cCwgaTsNCj4gPiAgICAgaW50IHJldDsNCj4gPg0KPiA+IC0gICByZXQgPSBhbWRncHVfYm9fcmVz
ZXJ2ZSh2bS0+cm9vdC5ibywgZmFsc2UpOw0KPiA+IC0gICBpZiAocmV0KQ0KPiA+IC0gICAgICAg
ICAgIHJldHVybjsNCj4gPiAtDQo+ID4gLSAgIGFtZGdwdV92bV9nZXRfbWVtb3J5KHZtLCBzdGF0
cywgQVJSQVlfU0laRShzdGF0cykpOw0KPiA+IC0gICBhbWRncHVfYm9fdW5yZXNlcnZlKHZtLT5y
b290LmJvKTsNCj4gPiAtDQo+ID4gKyAgIGFtZGdwdV92bV9nZXRfbWVtb3J5KHZtLCBzdGF0cyk7
DQo+ID4gICAgIGFtZGdwdV9jdHhfbWdyX3VzYWdlKCZmcHJpdi0+Y3R4X21nciwgdXNhZ2UpOw0K
PiA+DQo+ID4gICAgIC8qDQo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L2FtZGdwdV9vYmplY3QuYw0KPiA+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1k
Z3B1X29iamVjdC5jDQo+ID4gaW5kZXggMjQzNmI3YzlhZDEyYi4uOTg1NjMxMjRmZjk5YyAxMDA2
NDQNCj4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfb2JqZWN0LmMN
Cj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfb2JqZWN0LmMNCj4g
PiBAQCAtMTE1Niw3ICsxMTU2LDcgQEAgdm9pZCBhbWRncHVfYm9fbW92ZV9ub3RpZnkoc3RydWN0
IHR0bV9idWZmZXJfb2JqZWN0DQo+ICpibywNCj4gPiAgICAgICAgICAgICByZXR1cm47DQo+ID4N
Cj4gPiAgICAgYWJvID0gdHRtX3RvX2FtZGdwdV9ibyhibyk7DQo+ID4gLSAgIGFtZGdwdV92bV9i
b19pbnZhbGlkYXRlKGFibywgZXZpY3QpOw0KPiA+ICsgICBhbWRncHVfdm1fYm9fbW92ZShhYm8s
IG5ld19tZW0sIGV2aWN0KTsNCj4gPg0KPiA+ICAgICBhbWRncHVfYm9fa3VubWFwKGFibyk7DQo+
ID4NCj4gPiBAQCAtMTE2OSw4NiArMTE2OSw2IEBAIHZvaWQgYW1kZ3B1X2JvX21vdmVfbm90aWZ5
KHN0cnVjdA0KPiB0dG1fYnVmZmVyX29iamVjdCAqYm8sDQo+ID4gICAgICAgICAgICAgICAgICAg
ICAgICAgIG9sZF9tZW0gPyBvbGRfbWVtLT5tZW1fdHlwZSA6IC0xKTsNCj4gPiAgIH0NCj4gPg0K
PiA+IC12b2lkIGFtZGdwdV9ib19nZXRfbWVtb3J5KHN0cnVjdCBhbWRncHVfYm8gKmJvLA0KPiA+
IC0gICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgYW1kZ3B1X21lbV9zdGF0cyAqc3RhdHMsDQo+
ID4gLSAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGludCBzeikNCj4gPiAtew0KPiA+IC0g
ICBjb25zdCB1bnNpZ25lZCBpbnQgZG9tYWluX3RvX3BsW10gPSB7DQo+ID4gLSAgICAgICAgICAg
W2lsb2cyKEFNREdQVV9HRU1fRE9NQUlOX0NQVSldICAgICAgPSBUVE1fUExfU1lTVEVNLA0KPiA+
IC0gICAgICAgICAgIFtpbG9nMihBTURHUFVfR0VNX0RPTUFJTl9HVFQpXSAgICAgID0gVFRNX1BM
X1RULA0KPiA+IC0gICAgICAgICAgIFtpbG9nMihBTURHUFVfR0VNX0RPTUFJTl9WUkFNKV0gICAg
ID0gVFRNX1BMX1ZSQU0sDQo+ID4gLSAgICAgICAgICAgW2lsb2cyKEFNREdQVV9HRU1fRE9NQUlO
X0dEUyldICAgICAgPQ0KPiBBTURHUFVfUExfR0RTLA0KPiA+IC0gICAgICAgICAgIFtpbG9nMihB
TURHUFVfR0VNX0RPTUFJTl9HV1MpXSAgICAgID0NCj4gQU1ER1BVX1BMX0dXUywNCj4gPiAtICAg
ICAgICAgICBbaWxvZzIoQU1ER1BVX0dFTV9ET01BSU5fT0EpXSAgICAgICA9IEFNREdQVV9QTF9P
QSwNCj4gPiAtICAgICAgICAgICBbaWxvZzIoQU1ER1BVX0dFTV9ET01BSU5fRE9PUkJFTEwpXSA9
DQo+IEFNREdQVV9QTF9ET09SQkVMTCwNCj4gPiAtICAgfTsNCj4gPiAtICAgc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYgPSBhbWRncHVfdHRtX2FkZXYoYm8tPnRiby5iZGV2KTsNCj4gPiAtICAg
c3RydWN0IHR0bV9yZXNvdXJjZSAqcmVzID0gYm8tPnRiby5yZXNvdXJjZTsNCj4gPiAtICAgc3Ry
dWN0IGRybV9nZW1fb2JqZWN0ICpvYmogPSAmYm8tPnRiby5iYXNlOw0KPiA+IC0gICB1aW50NjRf
dCBzaXplID0gYW1kZ3B1X2JvX3NpemUoYm8pOw0KPiA+IC0gICB1bnNpZ25lZCBpbnQgdHlwZTsN
Cj4gPiAtDQo+ID4gLSAgIGlmICghcmVzKSB7DQo+ID4gLSAgICAgICAgICAgLyoNCj4gPiAtICAg
ICAgICAgICAgKiBJZiBubyBiYWNraW5nIHN0b3JlIHVzZSBvbmUgb2YgdGhlIHByZWZlcnJlZCBk
b21haW4gZm9yIGJhc2ljDQo+ID4gLSAgICAgICAgICAgICogc3RhdHMuIFdlIHRha2UgdGhlIE1T
QiBzaW5jZSB0aGF0IHNob3VsZCBnaXZlIGEgcmVhc29uYWJsZQ0KPiA+IC0gICAgICAgICAgICAq
IHZpZXcuDQo+ID4gLSAgICAgICAgICAgICovDQo+ID4gLSAgICAgICAgICAgQlVJTERfQlVHX09O
KFRUTV9QTF9WUkFNIDwgVFRNX1BMX1RUIHx8DQo+ID4gLSAgICAgICAgICAgICAgICAgICAgICAg
IFRUTV9QTF9WUkFNIDwgVFRNX1BMX1NZU1RFTSk7DQo+ID4gLSAgICAgICAgICAgdHlwZSA9IGZs
cyhiby0+cHJlZmVycmVkX2RvbWFpbnMgJg0KPiBBTURHUFVfR0VNX0RPTUFJTl9NQVNLKTsNCj4g
PiAtICAgICAgICAgICBpZiAoIXR5cGUpDQo+ID4gLSAgICAgICAgICAgICAgICAgICByZXR1cm47
DQo+ID4gLSAgICAgICAgICAgdHlwZS0tOw0KPiA+IC0gICAgICAgICAgIGlmIChkcm1fV0FSTl9P
Tl9PTkNFKCZhZGV2LT5kZGV2LA0KPiA+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHR5cGUgPj0gQVJSQVlfU0laRShkb21haW5fdG9fcGwpKSkNCj4gPiAtICAgICAgICAgICAgICAg
ICAgIHJldHVybjsNCj4gPiAtICAgICAgICAgICB0eXBlID0gZG9tYWluX3RvX3BsW3R5cGVdOw0K
PiA+IC0gICB9IGVsc2Ugew0KPiA+IC0gICAgICAgICAgIHR5cGUgPSByZXMtPm1lbV90eXBlOw0K
PiA+IC0gICB9DQo+ID4gLQ0KPiA+IC0gICAvKiBTcXVhc2ggc29tZSBpbnRvICdjcHUnIHRvIGtl
ZXAgdGhlIGxlZ2FjeSB1c2Vyc3BhY2Ugdmlldy4gKi8NCj4gPiAtICAgc3dpdGNoICh0eXBlKSB7
DQo+ID4gLSAgIGNhc2UgVFRNX1BMX1ZSQU06DQo+ID4gLSAgIGNhc2UgVFRNX1BMX1RUOg0KPiA+
IC0gICBjYXNlIFRUTV9QTF9TWVNURU06DQo+ID4gLSAgICAgICAgICAgYnJlYWs7DQo+ID4gLSAg
IGRlZmF1bHQ6DQo+ID4gLSAgICAgICAgICAgdHlwZSA9IFRUTV9QTF9TWVNURU07DQo+ID4gLSAg
ICAgICAgICAgYnJlYWs7DQo+ID4gLSAgIH0NCj4gPiAtDQo+ID4gLSAgIGlmIChkcm1fV0FSTl9P
Tl9PTkNFKCZhZGV2LT5kZGV2LCB0eXBlID49IHN6KSkNCj4gPiAtICAgICAgICAgICByZXR1cm47
DQo+ID4gLQ0KPiA+IC0gICAvKiBEUk0gc3RhdHMgY29tbW9uIGZpZWxkczogKi8NCj4gPiAtDQo+
ID4gLSAgIGlmIChkcm1fZ2VtX29iamVjdF9pc19zaGFyZWRfZm9yX21lbW9yeV9zdGF0cyhvYmop
KQ0KPiA+IC0gICAgICAgICAgIHN0YXRzW3R5cGVdLmRybS5zaGFyZWQgKz0gc2l6ZTsNCj4gPiAt
ICAgZWxzZQ0KPiA+IC0gICAgICAgICAgIHN0YXRzW3R5cGVdLmRybS5wcml2YXRlICs9IHNpemU7
DQo+ID4gLQ0KPiA+IC0gICBpZiAocmVzKSB7DQo+ID4gLSAgICAgICAgICAgc3RhdHNbdHlwZV0u
ZHJtLnJlc2lkZW50ICs9IHNpemU7DQo+ID4gLQ0KPiA+IC0gICAgICAgICAgIGlmICghZG1hX3Jl
c3ZfdGVzdF9zaWduYWxlZChvYmotPnJlc3YsDQo+IERNQV9SRVNWX1VTQUdFX0JPT0tLRUVQKSkN
Cj4gPiAtICAgICAgICAgICAgICAgICAgIHN0YXRzW3R5cGVdLmRybS5hY3RpdmUgKz0gc2l6ZTsN
Cj4gPiAtICAgICAgICAgICBlbHNlIGlmIChiby0+ZmxhZ3MgJiBBTURHUFVfR0VNX0NSRUFURV9E
SVNDQVJEQUJMRSkNCj4gPiAtICAgICAgICAgICAgICAgICAgIHN0YXRzW3R5cGVdLmRybS5wdXJn
ZWFibGUgKz0gc2l6ZTsNCj4gPiAtICAgfQ0KPiA+IC0NCj4gPiAtICAgLyogYW1kZ3B1IHNwZWNp
ZmljIHN0YXRzOiAqLw0KPiA+IC0NCj4gPiAtICAgaWYgKGJvLT5wcmVmZXJyZWRfZG9tYWlucyAm
IEFNREdQVV9HRU1fRE9NQUlOX1ZSQU0pIHsNCj4gPiAtICAgICAgICAgICBzdGF0c1tUVE1fUExf
VlJBTV0ucmVxdWVzdGVkICs9IHNpemU7DQo+ID4gLSAgICAgICAgICAgaWYgKHR5cGUgIT0gVFRN
X1BMX1ZSQU0pDQo+ID4gLSAgICAgICAgICAgICAgICAgICBzdGF0c1tUVE1fUExfVlJBTV0uZXZp
Y3RlZCArPSBzaXplOw0KPiA+IC0gICB9IGVsc2UgaWYgKGJvLT5wcmVmZXJyZWRfZG9tYWlucyAm
IEFNREdQVV9HRU1fRE9NQUlOX0dUVCkgew0KPiA+IC0gICAgICAgICAgIHN0YXRzW1RUTV9QTF9U
VF0ucmVxdWVzdGVkICs9IHNpemU7DQo+ID4gLSAgIH0NCj4gPiAtfQ0KPiA+IC0NCj4gPiAgIC8q
Kg0KPiA+ICAgICogYW1kZ3B1X2JvX3JlbGVhc2Vfbm90aWZ5IC0gbm90aWZpY2F0aW9uIGFib3V0
IGEgQk8gYmVpbmcgcmVsZWFzZWQNCj4gPiAgICAqIEBibzogcG9pbnRlciB0byBhIGJ1ZmZlciBv
YmplY3QNCj4gPiBAQCAtMTQ2Myw2ICsxMzgzLDMxIEBAIHU2NCBhbWRncHVfYm9fZ3B1X29mZnNl
dF9ub19jaGVjayhzdHJ1Y3QNCj4gYW1kZ3B1X2JvICpibykNCj4gPiAgICAgcmV0dXJuIGFtZGdw
dV9nbWNfc2lnbl9leHRlbmQob2Zmc2V0KTsNCj4gPiAgIH0NCj4gPg0KPiA+ICt1aW50MzJfdCBh
bWRncHVfYm9fZ2V0X3ByZWZlcnJlZF9wbGFjZW1lbnQoc3RydWN0IGFtZGdwdV9ibyAqYm8pIHsN
Cj4gPiArICAgdWludDMyX3QgZG9tYWluID0gYm8tPnByZWZlcnJlZF9kb21haW5zICYNCj4gQU1E
R1BVX0dFTV9ET01BSU5fTUFTSzsNCj4gPiArICAgaWYgKCFkb21haW4pDQo+ID4gKyAgICAgICAg
ICAgcmV0dXJuIFRUTV9QTF9TWVNURU07DQo+ID4gKw0KPiA+ICsgICBzd2l0Y2ggKGlsb2cyKGRv
bWFpbikpIHsNCj4gPiArICAgICAgICAgICBjYXNlIEFNREdQVV9HRU1fRE9NQUlOX0NQVToNCj4g
PiArICAgICAgICAgICAgICAgICAgIHJldHVybiBUVE1fUExfU1lTVEVNOw0KPiA+ICsgICAgICAg
ICAgIGNhc2UgQU1ER1BVX0dFTV9ET01BSU5fR1RUOg0KPiA+ICsgICAgICAgICAgICAgICAgICAg
cmV0dXJuIFRUTV9QTF9UVDsNCj4gPiArICAgICAgICAgICBjYXNlIEFNREdQVV9HRU1fRE9NQUlO
X1ZSQU06DQo+ID4gKyAgICAgICAgICAgICAgICAgICByZXR1cm4gVFRNX1BMX1ZSQU07DQo+ID4g
KyAgICAgICAgICAgY2FzZSBBTURHUFVfR0VNX0RPTUFJTl9HRFM6DQo+ID4gKyAgICAgICAgICAg
ICAgICAgICByZXR1cm4gQU1ER1BVX1BMX0dEUzsNCj4gPiArICAgICAgICAgICBjYXNlIEFNREdQ
VV9HRU1fRE9NQUlOX0dXUzoNCj4gPiArICAgICAgICAgICAgICAgICAgIHJldHVybiBBTURHUFVf
UExfR1dTOw0KPiA+ICsgICAgICAgICAgIGNhc2UgQU1ER1BVX0dFTV9ET01BSU5fT0E6DQo+ID4g
KyAgICAgICAgICAgICAgICAgICByZXR1cm4gQU1ER1BVX1BMX09BOw0KPiA+ICsgICAgICAgICAg
IGNhc2UgQU1ER1BVX0dFTV9ET01BSU5fRE9PUkJFTEw6DQo+ID4gKyAgICAgICAgICAgICAgICAg
ICByZXR1cm4gQU1ER1BVX1BMX0RPT1JCRUxMOw0KPiA+ICsgICAgICAgICAgIGRlZmF1bHQ6DQo+
ID4gKyAgICAgICAgICAgICAgICAgICByZXR1cm4gVFRNX1BMX1NZU1RFTTsNCj4NCj4gSWYgSSdt
IG5vdCBjb21wbGV0ZWx5IG1pc3Rha2VuIHRoYXQgd29uJ3Qgd29yayBsaWtlIHRoYXQuDQo+DQo+
IFRoZSBBTURHUFVfR0VNX0RPTUFJTl8qIGRlZmluZXMgYXJlIG1hc2tzIGFuZCBub3Qgc2hpZnRz
Lg0KDQpZZWFoIHlvdSBhcmUgcmlnaHQsIHNob3VsZCBoYXZlIGJlZW4gcm91bmRkb3duX3Bvd19v
Zl90d28NCg0KPiA+ICsgICB9DQo+ID4gK30NCj4gPiArDQo+ID4gICAvKioNCj4gPiAgICAqIGFt
ZGdwdV9ib19nZXRfcHJlZmVycmVkX2RvbWFpbiAtIGdldCBwcmVmZXJyZWQgZG9tYWluDQo+ID4g
ICAgKiBAYWRldjogYW1kZ3B1IGRldmljZSBvYmplY3QNCj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X29iamVjdC5oDQo+ID4gYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9hbWRncHVfb2JqZWN0LmgNCj4gPiBpbmRleCBiZTY3Njk4NTJlY2U0Li5i
ZDU4YThiMGVjZTY2IDEwMDY0NA0KPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2FtZGdwdV9vYmplY3QuaA0KPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdV9vYmplY3QuaA0KPiA+IEBAIC0zMCw2ICszMCw3IEBADQo+ID4NCj4gPiAgICNpbmNsdWRl
IDxkcm0vYW1kZ3B1X2RybS5oPg0KPiA+ICAgI2luY2x1ZGUgImFtZGdwdS5oIg0KPiA+ICsjaW5j
bHVkZSAiYW1kZ3B1X3R0bS5oIg0KPiA+ICAgI2luY2x1ZGUgImFtZGdwdV9yZXNfY3Vyc29yLmgi
DQo+DQo+IFdoeSBpcyB0aGF0IG5lY2Vzc2FyeT8NCg0KSSBnb3QgYSBjb21waWxlIGVycm9yIG90
aGVyd2lzZSBmb3IgdGhvc2UgQU1ER1BVX1BMXyoNCg0KPiA+DQo+ID4gICAjaWZkZWYgQ09ORklH
X01NVV9OT1RJRklFUg0KPiA+IEBAIC0zMDAsOSArMzAxLDcgQEAgaW50IGFtZGdwdV9ib19zeW5j
X3dhaXRfcmVzdihzdHJ1Y3QgYW1kZ3B1X2RldmljZQ0KPiAqYWRldiwgc3RydWN0IGRtYV9yZXN2
ICpyZXN2LA0KPiA+ICAgaW50IGFtZGdwdV9ib19zeW5jX3dhaXQoc3RydWN0IGFtZGdwdV9ibyAq
Ym8sIHZvaWQgKm93bmVyLCBib29sIGludHIpOw0KPiA+ICAgdTY0IGFtZGdwdV9ib19ncHVfb2Zm
c2V0KHN0cnVjdCBhbWRncHVfYm8gKmJvKTsNCj4gPiAgIHU2NCBhbWRncHVfYm9fZ3B1X29mZnNl
dF9ub19jaGVjayhzdHJ1Y3QgYW1kZ3B1X2JvICpibyk7IC12b2lkDQo+ID4gYW1kZ3B1X2JvX2dl
dF9tZW1vcnkoc3RydWN0IGFtZGdwdV9ibyAqYm8sDQo+ID4gLSAgICAgICAgICAgICAgICAgICAg
IHN0cnVjdCBhbWRncHVfbWVtX3N0YXRzICpzdGF0cywNCj4gPiAtICAgICAgICAgICAgICAgICAg
ICAgdW5zaWduZWQgaW50IHNpemUpOw0KPiA+ICt1aW50MzJfdCBhbWRncHVfYm9fZ2V0X3ByZWZl
cnJlZF9wbGFjZW1lbnQoc3RydWN0IGFtZGdwdV9ibyAqYm8pOw0KPiA+ICAgdWludDMyX3QgYW1k
Z3B1X2JvX2dldF9wcmVmZXJyZWRfZG9tYWluKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0K
PiA+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MzJfdCBkb21h
aW4pOw0KPiA+DQo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdV90dG0uaA0KPiA+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3R0bS5o
DQo+ID4gaW5kZXggMjg1MmE2MDY0YzlhYy4uYTkwODhlODY0ZmRlNCAxMDA2NDQNCj4gPiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdHRtLmgNCj4gPiArKysgYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdHRtLmgNCj4gPiBAQCAtMjYsOCArMjYsOCBA
QA0KPiA+DQo+ID4gICAjaW5jbHVkZSA8bGludXgvZG1hLWRpcmVjdGlvbi5oPg0KPiA+ICAgI2lu
Y2x1ZGUgPGRybS9ncHVfc2NoZWR1bGVyLmg+DQo+ID4gKyNpbmNsdWRlIDxkcm0vdHRtL3R0bV9w
bGFjZW1lbnQuaD4NCj4gPiAgICNpbmNsdWRlICJhbWRncHVfdnJhbV9tZ3IuaCINCj4gPiAtI2lu
Y2x1ZGUgImFtZGdwdS5oIg0KPg0KPiBMb29rcyBsaWtlIGEgdmFsdWFibGUgY2xlYW51cCwgYnV0
IHNob3VsZCBwcm9iYWJseSBhIHNlcGFyYXRlIHBhdGNoLg0KDQpXaXRob3V0IHRoaXMgdGhlcmUn
cyBhIGNpcmN1bGFyIGluY2x1ZGUgdGhhdCBicmVha3MgY29tcGlsYXRpb24gY29tYmluZWQgd2l0
aCB0aGUgYWJvdmUNCg0KPiA+DQo+ID4gICAjZGVmaW5lIEFNREdQVV9QTF9HRFMgICAgICAgICAg
ICAgKFRUTV9QTF9QUklWICsgMCkNCj4gPiAgICNkZWZpbmUgQU1ER1BVX1BMX0dXUyAgICAgICAg
ICAgICAoVFRNX1BMX1BSSVYgKyAxKQ0KPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHVfdm0uYw0KPiA+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
YW1kZ3B1X3ZtLmMNCj4gPiBpbmRleCA5ZmFiNjRlZGQwNTMwLi5hYmQzNWMxOGRkYWE4IDEwMDY0
NA0KPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92bS5jDQo+ID4g
KysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtLmMNCj4gPiBAQCAtMzYs
NiArMzYsNyBAQA0KPiA+ICAgI2luY2x1ZGUgPGRybS90dG0vdHRtX3R0Lmg+DQo+ID4gICAjaW5j
bHVkZSA8ZHJtL2RybV9leGVjLmg+DQo+ID4gICAjaW5jbHVkZSAiYW1kZ3B1LmgiDQo+ID4gKyNp
bmNsdWRlICJhbWRncHVfdm0uaCINCj4gPiAgICNpbmNsdWRlICJhbWRncHVfdHJhY2UuaCINCj4g
PiAgICNpbmNsdWRlICJhbWRncHVfYW1ka2ZkLmgiDQo+ID4gICAjaW5jbHVkZSAiYW1kZ3B1X2dt
Yy5oIg0KPiA+IEBAIC0zMTAsNiArMzExLDk0IEBAIHN0YXRpYyB2b2lkIGFtZGdwdV92bV9ib19y
ZXNldF9zdGF0ZV9tYWNoaW5lKHN0cnVjdA0KPiBhbWRncHVfdm0gKnZtKQ0KPiA+ICAgICBzcGlu
X3VubG9jaygmdm0tPnN0YXR1c19sb2NrKTsNCj4gPiAgIH0NCj4gPg0KPiA+ICsvKioNCj4gPiAr
ICogYW1kZ3B1X3ZtX3VwZGF0ZV9zaGFyZWQgLSBoZWxwZXIgdG8gdXBkYXRlIHNoYXJlZCBtZW1v
cnkgc3RhdA0KPiA+ICsgKiBAYmFzZTogYmFzZSBzdHJ1Y3R1cmUgZm9yIHRyYWNraW5nIEJPIHVz
YWdlIGluIGEgVk0NCj4gPiArICogQHNpZ246IGlmIHdlIHNob3VsZCBhZGQgKCsxKSBvciBzdWJ0
cmFjdCAoLTEpIGZyb20gdGhlIHNoYXJlZCBzdGF0DQo+ID4gKyAqDQo+ID4gKyAqIFRha2VzIHRo
ZSB2bSBzdGF0dXNfbG9jayBhbmQgdXBkYXRlcyB0aGUgc2hhcmVkIG1lbW9yeSBzdGF0LiBJZg0K
PiA+ICt0aGUgYmFzaWMNCj4gPiArICogc3RhdCBjaGFuZ2VkIChlLmcuIGJ1ZmZlciB3YXMgbW92
ZWQpIGFtZGdwdV92bV91cGRhdGVfc3RhdHMgbmVlZA0KPiA+ICt0byBiZSBjYWxsZWQNCj4gPiAr
ICogYXMgd2VsbC4NCj4gPiArICovDQo+ID4gK3N0YXRpYyB2b2lkIGFtZGdwdV92bV91cGRhdGVf
c2hhcmVkKHN0cnVjdCBhbWRncHVfdm1fYm9fYmFzZSAqYmFzZSwNCj4gPiAraW50IHNpZ24pIHsN
Cj4gPiArICAgc3RydWN0IGFtZGdwdV92bSAqdm0gPSBiYXNlLT52bTsNCj4gPiArICAgc3RydWN0
IGFtZGdwdV9ibyAqYm8gPSBiYXNlLT5ibzsNCj4gPiArICAgc3RydWN0IHR0bV9yZXNvdXJjZSAq
cmVzOw0KPiA+ICsgICBpbnQ2NF90IHNpemU7DQo+ID4gKyAgIHVpbnQzMl90IHR5cGU7DQo+ID4g
Kw0KPiA+ICsgICBpZiAoIXZtIHx8ICFibykNCj4gPiArICAgICAgICAgICByZXR1cm47DQo+ID4g
Kw0KPiA+ICsgICBzaXplID0gc2lnbiAqIGFtZGdwdV9ib19zaXplKGJvKTsNCj4gPiArICAgaWYg
KChyZXMgPSBiby0+dGJvLnJlc291cmNlKSkNCj4gPiArICAgICAgICAgICB0eXBlID0gcmVzLT5t
ZW1fdHlwZTsNCj4gPiArICAgZWxzZQ0KPiA+ICsgICAgICAgICAgIHR5cGUgPSBhbWRncHVfYm9f
Z2V0X3ByZWZlcnJlZF9wbGFjZW1lbnQoYm8pOw0KPg0KPiBBcyBkaXNjdXNzZWQgd2l0aCBUdnJ0
a28gdGhhdCB3b24ndCB3b3JrIGxpa2UgdGhpcy4NCj4NCj4gRWl0aGVyIHVzZSB0aGUgcHJlZmVy
cmVkIHBsYWNlbWVudCBvciB0aGUgYWN0dWFsIGJhY2tpbmcgc3RvcmUsIGJ1dCBkb24ndCB1c2Ug
YQ0KPiBmYWxsYmFjayBoZXJlLg0KDQpJIGhhZCBhIGZvbGxvdyB1cCBkaXNjdXNzaW9uIHdpdGgg
VHZydGtvIGhlcmUgaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvYXJjaGl2ZXMvYW1kLWdm
eC8yMDI0LU9jdG9iZXIvMTE2MDI0Lmh0bWwgaXQgc2VlbXMgbGlrZSB0aGlzIGlzIHRoZSBpbnRl
bmRlZCBzZW1hbnRpY3MgZm9yIHRoZSBkcm0tdG90YWwtKiBzdGF0cy4gSSBjYW4gc2VlIGl0IGdv
aW5nIGJvdGggd2F5cywgSSBndWVzcyBpdCdzIGp1c3QgdXAgdG8gd2hpY2ggZGVzaWduIGlzIG1v
c3QgdXNlZnVsIGZvciB3aG9tIGV2ZXIgaXMgcmVhZGluZyB0aGUgc3RhdHMuDQoNCkN1cnJlbnQg
ZGVzaWduIGlzIGZvciBpdCB0byBtZWFuICJhbGwgdGhlIGJ1ZmZlciBjdXJyZW50bHkgYXQgWCIg
KyAiYWxsIHRoZSBidWZmZXIgdGhhdCB3YW50cyB0byBiZSBhdCBYIGJ1dCBjdXJyZW50bHkgZG9u
J3QgaGF2ZSBhIGJhY2tpbmciDQpUaGUgYWx0ZXJuYXRpdmUgSSBndWVzcyBpcyBmb3IgaXQgdG8g
bWVhbiAiYWxsIHRoZSBidWZmZXIgdGhhdCB3YW50cyB0byBiZSBhdCBYIg0KDQpCdHcsIEknbSBo
YXZpbmcgdHJvdWJsZSBmaWd1cmluZyBvdXQgd2hlcmUgSSBzaG91bGQgYWNjb3VudCBmb3IgZHJt
LWFjdGl2ZS0qIGl0J3MgZm9yIGJ1ZmZlcnMgdGhhdCBhcmUgY3VycmVudGx5IGJlaW5nIHVzZWQg
KGUuZy4gaGF2ZSBhIGZlbmNlIG5vdCBzaWduYWxlZCkgaXQgc2VlbXMgbGlrZSB0aGUgd29yayBz
Y2hlZHVsaW5nIHBhcnQgaXMgcXVpdGUgZmFyIHJlbW92ZWQgZnJvbSB0aGUgaW5kaXZpZHVhbCBC
T3MuLi4NCg0KPiA+ICsgICBpZiAodHlwZSA+PSBfX0FNREdQVV9QTF9MQVNUKQ0KPiA+ICsgICAg
ICAgICAgIHJldHVybjsNCj4gPiArDQo+ID4gKyAgIHNwaW5fbG9jaygmdm0tPnN0YXR1c19sb2Nr
KTsNCj4gPiArICAgdm0tPnN0YXRzW3R5cGVdLmRybS5zaGFyZWQgKz0gc2l6ZTsNCj4gPiArICAg
dm0tPnN0YXRzW3R5cGVdLmRybS5wcml2YXRlIC09IHNpemU7DQo+ID4gKyAgIHNwaW5fdW5sb2Nr
KCZ2bS0+c3RhdHVzX2xvY2spOw0KPiA+ICt9DQo+ID4gKw0KPiA+ICsvKioNCj4gPiArICogYW1k
Z3B1X3ZtX3VwZGF0ZV9zdGF0cyAtIGhlbHBlciB0byB1cGRhdGUgbm9ybWFsIG1lbW9yeSBzdGF0
DQo+ID4gKyAqIEBiYXNlOiBiYXNlIHN0cnVjdHVyZSBmb3IgdHJhY2tpbmcgQk8gdXNhZ2UgaW4g
YSBWTQ0KPiA+ICsgKiBAbmV3X3JlczogIGlmIG5vdCBOVUxMLCB0aGUgdHRtX3Jlc291cmNlIHRv
IHVzZSBmb3IgdGhlIHB1cnBvc2Ugb2YNCj4gPiArYWNjb3VudGluZw0KPiA+ICsgKiAoaS5lLiBp
Z25vcmUgdGhlIG9uZSBpbiB0aGUgQk8pDQo+ID4gKyAqIEBzaWduOiBpZiB3ZSBzaG91bGQgYWRk
ICgrMSkgb3Igc3VidHJhY3QgKC0xKSBmcm9tIHRoZSBzdGF0DQo+ID4gKyAqDQo+ID4gKyAqIFRh
a2VzIHRoZSB2bSBzdGF0dXNfbG9jayBhbmQgdXBkYXRlcyB0aGUgYmFzaWMgbWVtb3J5IHN0YXQu
IElmIHRoZQ0KPiA+ICtzaGFyZWQNCj4gPiArICogc3RhdCBjaGFuZ2VkIChlLmcuIGJ1ZmZlciB3
YXMgZXhwb3J0ZWQpIGFtZGdwdV92bV91cGRhdGVfc2hhcmVkDQo+ID4gK25lZWQgdG8gYmUNCj4g
PiArICogY2FsbGVkIGFzIHdlbGwuDQo+ID4gKyAqLw0KPiA+ICt2b2lkIGFtZGdwdV92bV91cGRh
dGVfc3RhdHMoc3RydWN0IGFtZGdwdV92bV9ib19iYXNlICpiYXNlLA0KPiA+ICsgICAgICAgICAg
ICAgICAgICAgICAgIHN0cnVjdCB0dG1fcmVzb3VyY2UgKm5ld19yZXMsIGludCBzaWduKSB7DQo+
ID4gKyAgIHN0cnVjdCBhbWRncHVfdm0gKnZtID0gYmFzZS0+dm07DQo+ID4gKyAgIHN0cnVjdCBh
bWRncHVfYm8gKmJvID0gYmFzZS0+Ym87DQo+ID4gKyAgIHN0cnVjdCB0dG1fcmVzb3VyY2UgKnJl
czsNCj4gPiArICAgaW50NjRfdCBzaXplOw0KPiA+ICsgICB1aW50MzJfdCB0eXBlOw0KPiA+ICsg
ICBib29sIHNoYXJlZDsNCj4gPiArDQo+ID4gKyAgIGlmICghdm0gfHwgIWJvKQ0KPiA+ICsgICAg
ICAgICAgIHJldHVybjsNCj4gPiArDQo+ID4gKyAgIHNpemUgPSBzaWduICogYW1kZ3B1X2JvX3Np
emUoYm8pOw0KPiA+ICsgICByZXMgPSBuZXdfcmVzID8gbmV3X3JlcyA6IGJvLT50Ym8ucmVzb3Vy
Y2U7DQo+ID4gKyAgIHR5cGUgPSByZXMgPyByZXMtPm1lbV90eXBlIDogYW1kZ3B1X2JvX2dldF9w
cmVmZXJyZWRfcGxhY2VtZW50KGJvKTsNCj4NCj4gU2FtZSBoZXJlLiBEb24ndCB1c2UgdGhlIHBy
ZWZlcnJlZCBkb21haW4gYXMgZmFsbGJhY2suDQo+DQo+ID4gKyAgIHNoYXJlZCA9IGRybV9nZW1f
b2JqZWN0X2lzX3NoYXJlZF9mb3JfbWVtb3J5X3N0YXRzKCZiby0+dGJvLmJhc2UpOw0KPiA+ICsN
Cj4gPiArICAgaWYgKHR5cGUgPj0gX19BTURHUFVfUExfTEFTVCkNCj4gPiArICAgICAgICAgICBy
ZXR1cm47DQo+ID4gKw0KPiA+ICsgICBzcGluX2xvY2soJnZtLT5zdGF0dXNfbG9jayk7DQo+ID4g
Kw0KPiA+ICsgICBpZiAoc2hhcmVkKQ0KPiA+ICsgICAgICAgICAgIHZtLT5zdGF0c1t0eXBlXS5k
cm0uc2hhcmVkICs9IHNpemU7DQo+ID4gKyAgIGVsc2UNCj4gPiArICAgICAgICAgICB2bS0+c3Rh
dHNbdHlwZV0uZHJtLnByaXZhdGUgKz0gc2l6ZTsNCj4gPiArICAgaWYgKHJlcykNCj4gPiArICAg
ICAgICAgICB2bS0+c3RhdHNbdHlwZV0uZHJtLnJlc2lkZW50ICs9IHNpemU7DQo+ID4gKyAgIGlm
IChiby0+ZmxhZ3MgJiBBTURHUFVfR0VNX0NSRUFURV9ESVNDQVJEQUJMRSkNCj4gPiArICAgICAg
ICAgICB2bS0+c3RhdHNbdHlwZV0uZHJtLnB1cmdlYWJsZSArPSBzaXplOw0KPiA+ICsNCj4gPiAr
ICAgaWYgKGJvLT5wcmVmZXJyZWRfZG9tYWlucyAmIEFNREdQVV9HRU1fRE9NQUlOX1ZSQU0pIHsN
Cj4gPiArICAgICAgICAgICB2bS0+c3RhdHNbVFRNX1BMX1ZSQU1dLnJlcXVlc3RlZCArPSBzaXpl
Ow0KPiA+ICsgICAgICAgICAgIGlmICh0eXBlICE9IFRUTV9QTF9WUkFNKQ0KPiA+ICsgICAgICAg
ICAgICAgICAgICAgdm0tPnN0YXRzW1RUTV9QTF9WUkFNXS5ldmljdGVkICs9IHNpemU7DQo+DQo+
IFRoYXQgY2hlY2sgaXMgcHJvYmFibHkgbm90IGNvcnJlY3QuIFdlIGhhdmUgQk9zIHdoaWNoIGNh
biBiZSBwbGFjZWQgaW4gYm90aA0KPiBWUkFNIGFuZCBHVFQuDQoNClRoYXQgaXMgdHJ1ZSwgYnV0
IGRvZXMgaXQgbWFrZSBzZW5zZSB0byBjb3VudCBpdCB0b3dhcmRzIGV2aWN0ZWQgaWYgc2F5IG91
ciBwaWNraW5nIG9yZGVyIHByZWZlcnMgVlJBTSBvdmVyIEdUVD8NCg0KPiA+ICsgICB9IGVsc2Ug
aWYgKGJvLT5wcmVmZXJyZWRfZG9tYWlucyAmIEFNREdQVV9HRU1fRE9NQUlOX0dUVCkgew0KPiA+
ICsgICAgICAgICAgICAgICAgICAgdm0tPnN0YXRzW1RUTV9QTF9UVF0ucmVxdWVzdGVkICs9IHNp
emU7DQo+ID4gKyAgIH0NCj4gPiArDQo+ID4gKyAgIHNwaW5fdW5sb2NrKCZ2bS0+c3RhdHVzX2xv
Y2spOw0KPiA+ICt9DQo+ID4gKw0KPiA+ICAgLyoqDQo+ID4gICAgKiBhbWRncHVfdm1fYm9fYmFz
ZV9pbml0IC0gQWRkcyBibyB0byB0aGUgbGlzdCBvZiBib3MgYXNzb2NpYXRlZCB3aXRoIHRoZSB2
bQ0KPiA+ICAgICoNCj4gPiBAQCAtMzMyLDYgKzQyMSw3IEBAIHZvaWQgYW1kZ3B1X3ZtX2JvX2Jh
c2VfaW5pdChzdHJ1Y3QNCj4gYW1kZ3B1X3ZtX2JvX2Jhc2UgKmJhc2UsDQo+ID4gICAgICAgICAg
ICAgcmV0dXJuOw0KPiA+ICAgICBiYXNlLT5uZXh0ID0gYm8tPnZtX2JvOw0KPiA+ICAgICBiby0+
dm1fYm8gPSBiYXNlOw0KPiA+ICsgICBhbWRncHVfdm1fdXBkYXRlX3N0YXRzKGJhc2UsIE5VTEws
ICsxKTsNCj4gPg0KPiA+ICAgICBpZiAoIWFtZGdwdV92bV9pc19ib19hbHdheXNfdmFsaWQodm0s
IGJvKSkNCj4gPiAgICAgICAgICAgICByZXR1cm47DQo+ID4gQEAgLTEwODIsNTMgKzExNzIsMTEg
QEAgaW50IGFtZGdwdV92bV91cGRhdGVfcmFuZ2Uoc3RydWN0DQo+IGFtZGdwdV9kZXZpY2UgKmFk
ZXYsIHN0cnVjdCBhbWRncHVfdm0gKnZtLA0KPiA+ICAgICByZXR1cm4gcjsNCj4gPiAgIH0NCj4g
Pg0KPiA+IC1zdGF0aWMgdm9pZCBhbWRncHVfdm1fYm9fZ2V0X21lbW9yeShzdHJ1Y3QgYW1kZ3B1
X2JvX3ZhICpib192YSwNCj4gPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVj
dCBhbWRncHVfbWVtX3N0YXRzICpzdGF0cywNCj4gPiAtICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHVuc2lnbmVkIGludCBzaXplKQ0KPiA+IC17DQo+ID4gLSAgIHN0cnVjdCBhbWRncHVf
dm0gKnZtID0gYm9fdmEtPmJhc2Uudm07DQo+ID4gLSAgIHN0cnVjdCBhbWRncHVfYm8gKmJvID0g
Ym9fdmEtPmJhc2UuYm87DQo+ID4gLQ0KPiA+IC0gICBpZiAoIWJvKQ0KPiA+IC0gICAgICAgICAg
IHJldHVybjsNCj4gPiAtDQo+ID4gLSAgIC8qDQo+ID4gLSAgICAqIEZvciBub3cgaWdub3JlIEJP
cyB3aGljaCBhcmUgY3VycmVudGx5IGxvY2tlZCBhbmQgcG90ZW50aWFsbHkNCj4gPiAtICAgICog
Y2hhbmdpbmcgdGhlaXIgbG9jYXRpb24uDQo+ID4gLSAgICAqLw0KPiA+IC0gICBpZiAoIWFtZGdw
dV92bV9pc19ib19hbHdheXNfdmFsaWQodm0sIGJvKSAmJg0KPiA+IC0gICAgICAgIWRtYV9yZXN2
X3RyeWxvY2soYm8tPnRiby5iYXNlLnJlc3YpKQ0KPiA+IC0gICAgICAgICAgIHJldHVybjsNCj4g
PiAtDQo+ID4gLSAgIGFtZGdwdV9ib19nZXRfbWVtb3J5KGJvLCBzdGF0cywgc2l6ZSk7DQo+ID4g
LSAgIGlmICghYW1kZ3B1X3ZtX2lzX2JvX2Fsd2F5c192YWxpZCh2bSwgYm8pKQ0KPiA+IC0gICAg
ICAgICAgIGRtYV9yZXN2X3VubG9jayhiby0+dGJvLmJhc2UucmVzdik7DQo+ID4gLX0NCj4gPiAt
DQo+ID4gICB2b2lkIGFtZGdwdV92bV9nZXRfbWVtb3J5KHN0cnVjdCBhbWRncHVfdm0gKnZtLA0K
PiA+IC0gICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgYW1kZ3B1X21lbV9zdGF0cyAqc3RhdHMs
DQo+ID4gLSAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGludCBzaXplKQ0KPiA+ICsgICAg
ICAgICAgICAgICAgICAgICBzdHJ1Y3QgYW1kZ3B1X21lbV9zdGF0cyBzdGF0c1tfX0FNREdQVV9Q
TF9MQVNUXSkNCj4gPiAgIHsNCj4gPiAtICAgc3RydWN0IGFtZGdwdV9ib192YSAqYm9fdmEsICp0
bXA7DQo+ID4gLQ0KPiA+ICAgICBzcGluX2xvY2soJnZtLT5zdGF0dXNfbG9jayk7DQo+ID4gLSAg
IGxpc3RfZm9yX2VhY2hfZW50cnlfc2FmZShib192YSwgdG1wLCAmdm0tPmlkbGUsIGJhc2Uudm1f
c3RhdHVzKQ0KPiA+IC0gICAgICAgICAgIGFtZGdwdV92bV9ib19nZXRfbWVtb3J5KGJvX3ZhLCBz
dGF0cywgc2l6ZSk7DQo+ID4gLQ0KPiA+IC0gICBsaXN0X2Zvcl9lYWNoX2VudHJ5X3NhZmUoYm9f
dmEsIHRtcCwgJnZtLT5ldmljdGVkLCBiYXNlLnZtX3N0YXR1cykNCj4gPiAtICAgICAgICAgICBh
bWRncHVfdm1fYm9fZ2V0X21lbW9yeShib192YSwgc3RhdHMsIHNpemUpOw0KPiA+IC0NCj4gPiAt
ICAgbGlzdF9mb3JfZWFjaF9lbnRyeV9zYWZlKGJvX3ZhLCB0bXAsICZ2bS0+cmVsb2NhdGVkLCBi
YXNlLnZtX3N0YXR1cykNCj4gPiAtICAgICAgICAgICBhbWRncHVfdm1fYm9fZ2V0X21lbW9yeShi
b192YSwgc3RhdHMsIHNpemUpOw0KPiA+IC0NCj4gPiAtICAgbGlzdF9mb3JfZWFjaF9lbnRyeV9z
YWZlKGJvX3ZhLCB0bXAsICZ2bS0+bW92ZWQsIGJhc2Uudm1fc3RhdHVzKQ0KPiA+IC0gICAgICAg
ICAgIGFtZGdwdV92bV9ib19nZXRfbWVtb3J5KGJvX3ZhLCBzdGF0cywgc2l6ZSk7DQo+ID4gLQ0K
PiA+IC0gICBsaXN0X2Zvcl9lYWNoX2VudHJ5X3NhZmUoYm9fdmEsIHRtcCwgJnZtLT5pbnZhbGlk
YXRlZCwgYmFzZS52bV9zdGF0dXMpDQo+ID4gLSAgICAgICAgICAgYW1kZ3B1X3ZtX2JvX2dldF9t
ZW1vcnkoYm9fdmEsIHN0YXRzLCBzaXplKTsNCj4gPiAtDQo+ID4gLSAgIGxpc3RfZm9yX2VhY2hf
ZW50cnlfc2FmZShib192YSwgdG1wLCAmdm0tPmRvbmUsIGJhc2Uudm1fc3RhdHVzKQ0KPiA+IC0g
ICAgICAgICAgIGFtZGdwdV92bV9ib19nZXRfbWVtb3J5KGJvX3ZhLCBzdGF0cywgc2l6ZSk7DQo+
ID4gKyAgIG1lbWNweShzdGF0cywgdm0tPnN0YXRzLCBzaXplb2YoKnN0YXRzKSAqIF9fQU1ER1BV
X1BMX0xBU1QpOw0KPiA+ICAgICBzcGluX3VubG9jaygmdm0tPnN0YXR1c19sb2NrKTsNCj4gPiAg
IH0NCj4gPg0KPiA+IEBAIC0yMDcxLDYgKzIxMTksNyBAQCB2b2lkIGFtZGdwdV92bV9ib19kZWwo
c3RydWN0IGFtZGdwdV9kZXZpY2UNCj4gKmFkZXYsDQo+ID4gICAgICAgICAgICAgICAgICAgICBp
ZiAoKmJhc2UgIT0gJmJvX3ZhLT5iYXNlKQ0KPiA+ICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBjb250aW51ZTsNCj4gPg0KPiA+ICsgICAgICAgICAgICAgICAgICAgYW1kZ3B1X3ZtX3VwZGF0
ZV9zdGF0cygqYmFzZSwgTlVMTCwgLTEpOw0KPiA+ICAgICAgICAgICAgICAgICAgICAgKmJhc2Ug
PSBib192YS0+YmFzZS5uZXh0Ow0KPiA+ICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQo+ID4g
ICAgICAgICAgICAgfQ0KPiA+IEBAIC0yMTM2LDYgKzIxODUsMjIgQEAgYm9vbCBhbWRncHVfdm1f
ZXZpY3RhYmxlKHN0cnVjdCBhbWRncHVfYm8gKmJvKQ0KPiA+ICAgICByZXR1cm4gdHJ1ZTsNCj4g
PiAgIH0NCj4gPg0KPiA+ICsvKioNCj4gPiArICogYW1kZ3B1X3ZtX2JvX3VwZGF0ZV9zaGFyZWQg
LSBjYWxsZWQgd2hlbiBibyBnZXRzIHNoYXJlZC91bnNoYXJlZA0KPiA+ICsgKg0KPiA+ICsgKiBA
Ym86IGFtZGdwdSBidWZmZXIgb2JqZWN0DQo+ID4gKyAqIEBzaWduOiBpZiB3ZSBzaG91bGQgYWRk
ICgrMSkgb3Igc3VidHJhY3QgKC0xKSB0aGUgbWVtb3J5IHN0YXQNCj4gPiArICoNCj4gPiArICog
VXBkYXRlIHRoZSBwZXIgVk0gc3RhdHMgZm9yIGFsbCB0aGUgdm0gICovIHZvaWQNCj4gPiArYW1k
Z3B1X3ZtX2JvX3VwZGF0ZV9zaGFyZWQoc3RydWN0IGFtZGdwdV9ibyAqYm8sIGludCBzaWduKSB7
DQo+ID4gKyAgIHN0cnVjdCBhbWRncHVfdm1fYm9fYmFzZSAqYm9fYmFzZTsNCj4gPiArDQo+ID4g
KyAgIGZvciAoYm9fYmFzZSA9IGJvLT52bV9ibzsgYm9fYmFzZTsgYm9fYmFzZSA9IGJvX2Jhc2Ut
Pm5leHQpDQo+ID4gKyAgICAgICAgICAgYW1kZ3B1X3ZtX3VwZGF0ZV9zaGFyZWQoYm9fYmFzZSwg
c2lnbik7IH0NCj4gPiArDQo+ID4gICAvKioNCj4gPiAgICAqIGFtZGdwdV92bV9ib19pbnZhbGlk
YXRlIC0gbWFyayB0aGUgYm8gYXMgaW52YWxpZA0KPiA+ICAgICoNCj4gPiBAQCAtMjE2OSw2ICsy
MjM0LDI4IEBAIHZvaWQgYW1kZ3B1X3ZtX2JvX2ludmFsaWRhdGUoc3RydWN0IGFtZGdwdV9ibw0K
PiAqYm8sIGJvb2wgZXZpY3RlZCkNCj4gPiAgICAgfQ0KPiA+ICAgfQ0KPiA+DQo+ID4gKy8qKg0K
PiA+ICsgKiBhbWRncHVfdm1fYm9fbW92ZSAtIGhhbmRsZSBCTyBtb3ZlDQo+ID4gKyAqDQo+ID4g
KyAqIEBibzogYW1kZ3B1IGJ1ZmZlciBvYmplY3QNCj4gPiArICogQG5ld19tZW06IHRoZSBuZXcg
cGxhY2VtZW50IG9mIHRoZSBCTyBtb3ZlDQo+ID4gKyAqIEBldmljdGVkOiBpcyB0aGUgQk8gZXZp
Y3RlZA0KPiA+ICsgKg0KPiA+ICsgKiBVcGRhdGUgdGhlIG1lbW9yeSBzdGF0cyBmb3IgdGhlIG5l
dyBwbGFjZW1lbnQgYW5kIG1hcmsgQGJvIGFzIGludmFsaWQuDQo+ID4gKyAqLw0KPiA+ICt2b2lk
IGFtZGdwdV92bV9ib19tb3ZlKHN0cnVjdCBhbWRncHVfYm8gKmJvLCBzdHJ1Y3QgdHRtX3Jlc291
cmNlDQo+ICpuZXdfbWVtLA0KPiA+ICsgICAgICAgICAgICAgICAgICBib29sIGV2aWN0ZWQpDQo+
ID4gK3sNCj4gPiArICAgc3RydWN0IGFtZGdwdV92bV9ib19iYXNlICpib19iYXNlOw0KPiA+ICsN
Cj4gPiArICAgZm9yIChib19iYXNlID0gYm8tPnZtX2JvOyBib19iYXNlOyBib19iYXNlID0gYm9f
YmFzZS0+bmV4dCkgew0KPiA+ICsgICAgICAgICAgIGFtZGdwdV92bV91cGRhdGVfc3RhdHMoYm9f
YmFzZSwgYm8tPnRiby5yZXNvdXJjZSwgLTEpOw0KPiA+ICsgICAgICAgICAgIGFtZGdwdV92bV91
cGRhdGVfc3RhdHMoYm9fYmFzZSwgbmV3X21lbSwgKzEpOw0KPiA+ICsgICB9DQo+ID4gKw0KPiA+
ICsgICBhbWRncHVfdm1fYm9faW52YWxpZGF0ZShibywgZXZpY3RlZCk7IH0NCj4gPiArDQo+ID4g
ICAvKioNCj4gPiAgICAqIGFtZGdwdV92bV9nZXRfYmxvY2tfc2l6ZSAtIGNhbGN1bGF0ZSBWTSBw
YWdlIHRhYmxlIHNpemUgYXMgcG93ZXIgb2YgdHdvDQo+ID4gICAgKg0KPiA+IEBAIC0yNTg1LDYg
KzI2NzIsMTggQEAgdm9pZCBhbWRncHVfdm1fcmVsZWFzZV9jb21wdXRlKHN0cnVjdA0KPiBhbWRn
cHVfZGV2aWNlICphZGV2LCBzdHJ1Y3QgYW1kZ3B1X3ZtICp2bSkNCj4gPiAgICAgdm0tPmlzX2Nv
bXB1dGVfY29udGV4dCA9IGZhbHNlOw0KPiA+ICAgfQ0KPiA+DQo+ID4gK3N0YXRpYyBpbnQgYW1k
Z3B1X3ZtX3N0YXRzX2lzX3plcm8oc3RydWN0IGFtZGdwdV92bSAqdm0pIHsNCj4gPiArICAgaW50
IGlzX3plcm8gPSAxOw0KPiA+ICsgICBmb3IgKGludCBpID0gMDsgaSA8IF9fQU1ER1BVX1BMX0xB
U1Q7ICsraSkgew0KPiA+ICsgICAgICAgICAgIGlzX3plcm8gPSBkcm1fbWVtb3J5X3N0YXRzX2lz
X3plcm8oJnZtLT5zdGF0c1tpXS5kcm0pICYmDQo+ID4gKyAgICAgICAgICAgICAgICAgICAgIHZt
LT5zdGF0cy0+ZXZpY3RlZCA9PSAwICYmIHZtLT5zdGF0cy0+cmVxdWVzdGVkID09IDA7DQo+ID4g
KyAgICAgICAgICAgaWYgKCFpc196ZXJvKQ0KPiA+ICsgICAgICAgICAgICAgICAgICAgYnJlYWs7
DQo+DQo+IEp1c3QgbWFrZSB0aGF0IGFuICJpZiAoLi4uKSByZXR1cm4gZmFsc2UiLCBubyBuZWVk
IGZvciB0aGUgbG9jYWwgdmFyaWFibGUuDQo+DQo+IFJlZ2FyZHMsDQo+IENocmlzdGlhbi4NCj4N
Cg0KRCdvaCENCg0KVGVkZHkNCg==
