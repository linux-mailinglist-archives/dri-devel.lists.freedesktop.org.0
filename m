Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 881AF7FB47B
	for <lists+dri-devel@lfdr.de>; Tue, 28 Nov 2023 09:42:47 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 41EEF10E45A;
	Tue, 28 Nov 2023 08:42:36 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from fanzine2.igalia.com (fanzine.igalia.com [178.60.130.6])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0672C10E45A
 for <dri-devel@lists.freedesktop.org>; Tue, 28 Nov 2023 08:42:33 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=igalia.com; 
 s=20170329;
 h=MIME-Version:Content-Transfer-Encoding:Content-Type:References:
 In-Reply-To:Date:Cc:To:From:Subject:Message-ID:Sender:Reply-To:Content-ID:
 Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc
 :Resent-Message-ID:List-Id:List-Help:List-Unsubscribe:List-Subscribe:
 List-Post:List-Owner:List-Archive;
 bh=/6qjIDt4O69URYU/mbkprh7dvrAcKAQBoBZSFsQUro0=; b=o+sjBEhm8Hv9QxK1TjSPvlm2K2
 /Qwx4dvhgyxB0S87D653VlrCwJPqfaqS4Wl6+z4YnLfJ0Az3S78zrypTZ/jsqY0D5F1HHh4FfGv8A
 +iaww1beZljlqyOiMXKdl52uI0JrSdhGrnoWFAPiQ7DYVhVmnQaL1nrnrCmEaSN0bqH947T36sUuC
 XTKCQKwqK/xuLm+cN0Ytbuiv0VflMg+slAs4UTgDfvoZ5OxlyWEWnBKX0lrV5XrYKn0+OtoXl/J8S
 2mw4s5uUY2rBp+o8E4gE52nX+v+T1dYeZZUqJG8XxYKEtJpY95MVY1A4Pym8yroVyBs9lZUY0n6M+
 mHNxqGmw==;
Received: from 93.49.60.213.dynamic.reverse-mundo-r.com ([213.60.49.93]
 helo=[192.168.0.100]) by fanzine2.igalia.com with esmtpsa 
 (Cipher TLS1.3:ECDHE_SECP256R1__RSA_PSS_RSAE_SHA256__AES_256_GCM:256) (Exim)
 id 1r7tff-007xcz-JL; Tue, 28 Nov 2023 09:42:19 +0100
Message-ID: <a8cdbe3f24a9887c606fb0c6204f082d98cc6e66.camel@igalia.com>
Subject: Re: [PATCH v3 10/17] drm/v3d: Detach the CSD job BO setup
From: Iago Toral <itoral@igalia.com>
To: =?ISO-8859-1?Q?Ma=EDra?= Canal <mcanal@igalia.com>, Melissa Wen
 <mwen@igalia.com>, David Airlie <airlied@gmail.com>, Daniel Vetter
 <daniel@ffwll.ch>, Maarten Lankhorst <maarten.lankhorst@linux.intel.com>, 
 Maxime Ripard <mripard@kernel.org>, Thomas Zimmermann <tzimmermann@suse.de>
Date: Tue, 28 Nov 2023 09:42:19 +0100
In-Reply-To: <20231127185723.10348-12-mcanal@igalia.com>
References: <20231127185723.10348-2-mcanal@igalia.com>
 <20231127185723.10348-12-mcanal@igalia.com>
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: base64
User-Agent: Evolution 3.48.1-0ubuntu1 
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Boris Brezillon <boris.brezillon@collabora.com>, kernel-dev@igalia.com,
 dri-devel@lists.freedesktop.org
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RWwgbHVuLCAyNy0xMS0yMDIzIGEgbGFzIDE1OjQ4IC0wMzAwLCBNYcOtcmEgQ2FuYWwgZXNjcmli
acOzOgo+IEZyb206IE1lbGlzc2EgV2VuIDxtd2VuQGlnYWxpYS5jb20+Cj4gCj4gRGV0YWNoIENT
RCBqb2Igc2V0dXAgZnJvbSBDU0Qgc3VibWlzc2lvbiBpb2N0bCB0byByZXVzZSBpdCBpbiBDUFUK
PiBzdWJtaXNzaW9uIGlvY3RsIGZvciBpbmRpcmVjdCBDU0Qgam9iLgo+IAo+IFNpZ25lZC1vZmYt
Ynk6IE1lbGlzc2EgV2VuIDxtd2VuQGlnYWxpYS5jb20+Cj4gQ28tZGV2ZWxvcGVkLWJ5OiBNYcOt
cmEgQ2FuYWwgPG1jYW5hbEBpZ2FsaWEuY29tPgo+IFNpZ25lZC1vZmYtYnk6IE1hw61yYSBDYW5h
bCA8bWNhbmFsQGlnYWxpYS5jb20+Cj4gLS0tCj4gwqBkcml2ZXJzL2dwdS9kcm0vdjNkL3YzZF9z
dWJtaXQuYyB8IDY4ICsrKysrKysrKysrKysrKysrKysrLS0tLS0tLS0tLQo+IC0tCj4gwqAxIGZp
bGUgY2hhbmdlZCwgNDIgaW5zZXJ0aW9ucygrKSwgMjYgZGVsZXRpb25zKC0pCj4gCj4gZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS92M2QvdjNkX3N1Ym1pdC5jCj4gYi9kcml2ZXJzL2dwdS9k
cm0vdjNkL3YzZF9zdWJtaXQuYwo+IGluZGV4IGMxMzRiMTEzYjE4MS4uZWIyNmZlMWUyN2UzIDEw
MDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS92M2QvdjNkX3N1Ym1pdC5jCj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL3YzZC92M2Rfc3VibWl0LmMKPiBAQCAtMjU2LDYgKzI1Niw0NSBAQCB2M2Rf
YXR0YWNoX2ZlbmNlc19hbmRfdW5sb2NrX3Jlc2VydmF0aW9uKHN0cnVjdAo+IGRybV9maWxlICpm
aWxlX3ByaXYsCj4gwqDCoMKgwqDCoMKgwqDCoH0KPiDCoH0KPiDCoAo+ICtzdGF0aWMgaW50Cj4g
K3YzZF9zZXR1cF9jc2Rfam9ic19hbmRfYm9zKHN0cnVjdCBkcm1fZmlsZSAqZmlsZV9wcml2LAo+
ICvCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBzdHJ1
Y3QgdjNkX2RldiAqdjNkLAo+ICvCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoCBzdHJ1Y3QgZHJtX3YzZF9zdWJtaXRfY3NkICphcmdzLAo+ICvCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBzdHJ1Y3QgdjNkX2Nz
ZF9qb2IgKipqb2IsCj4gK8KgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgIHN0cnVjdCB2M2Rfam9iICoqY2xlYW5fam9iLAo+ICvCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBzdHJ1Y3QgdjNkX3N1Ym1pdF9leHQg
KnNlLAo+ICvCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oCBzdHJ1Y3Qgd3dfYWNxdWlyZV9jdHggKmFjcXVpcmVfY3R4KQo+ICt7Cj4gK8KgwqDCoMKgwqDC
oMKgaW50IHJldDsKPiArCj4gK8KgwqDCoMKgwqDCoMKgcmV0ID0gdjNkX2pvYl9hbGxvY2F0ZSgo
dm9pZCAqKWpvYiwgc2l6ZW9mKCoqam9iKSk7Cj4gK8KgwqDCoMKgwqDCoMKgaWYgKHJldCkKPiAr
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgcmV0dXJuIHJldDsKPiArCj4gK8KgwqDCoMKg
wqDCoMKgcmV0ID0gdjNkX2pvYl9pbml0KHYzZCwgZmlsZV9wcml2LCAmKCpqb2IpLT5iYXNlLAo+
ICvCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCB2M2Rf
am9iX2ZyZWUsIGFyZ3MtPmluX3N5bmMsIHNlLCBWM0RfQ1NEKTsKPiArwqDCoMKgwqDCoMKgwqBp
ZiAocmV0KQoKCldlIHNob3VsZCBmcmVlIHRoZSBqb2IgaGVyZS4KCj4gK8KgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoHJldHVybiByZXQ7Cj4gKwo+ICvCoMKgwqDCoMKgwqDCoHJldCA9IHYz
ZF9qb2JfYWxsb2NhdGUoKHZvaWQgKiljbGVhbl9qb2IsCj4gc2l6ZW9mKCoqY2xlYW5fam9iKSk7
Cj4gK8KgwqDCoMKgwqDCoMKgaWYgKHJldCkKPiArwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgcmV0dXJuIHJldDsKPiArCj4gK8KgwqDCoMKgwqDCoMKgcmV0ID0gdjNkX2pvYl9pbml0KHYz
ZCwgZmlsZV9wcml2LCAqY2xlYW5fam9iLAo+ICvCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoCB2M2Rfam9iX2ZyZWUsIDAsIE5VTEwsIFYzRF9DQUNIRV9D
TEVBTik7Cj4gK8KgwqDCoMKgwqDCoMKgaWYgKHJldCkKCldlIHNob3VsZCBmcmVlIGpvYiBhbmQg
Y2xlYW5fam9iIGhlcmUuCgo+ICvCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqByZXR1cm4g
cmV0Owo+ICsKPiArwqDCoMKgwqDCoMKgwqAoKmpvYiktPmFyZ3MgPSAqYXJnczsKPiArCj4gK8Kg
wqDCoMKgwqDCoMKgcmV0ID0gdjNkX2xvb2t1cF9ib3MoJnYzZC0+ZHJtLCBmaWxlX3ByaXYsICpj
bGVhbl9qb2IsCj4gK8KgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoCBhcmdzLT5ib19oYW5kbGVzLCBhcmdzLQo+ID5ib19oYW5kbGVfY291bnQpOwo+
ICvCoMKgwqDCoMKgwqDCoGlmIChyZXQpCgpTYW1lIGhlcmUuCgpJIHRoaW5rIHdlIHByb2JhYmx5
IHdhbnQgdG8gaGF2ZSBhIGZhaWwgbGFiZWwgd2hlcmUgd2UgZG8gdGhpcyBhbmQganVzdApqdW1w
IHRoZXJlIGZyb20gYWxsIHRoZSBwYXRocyBJIG1lbnRpb25lZCBhYm92ZS4KCj4gK8KgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoHJldHVybiByZXQ7Cj4gKwo+ICvCoMKgwqDCoMKgwqDCoHJl
dHVybiB2M2RfbG9ja19ib19yZXNlcnZhdGlvbnMoKmNsZWFuX2pvYiwgYWNxdWlyZV9jdHgpOwo+
ICt9Cj4gKwo+IMKgc3RhdGljIHZvaWQKPiDCoHYzZF9wdXRfbXVsdGlzeW5jX3Bvc3RfZGVwcyhz
dHJ1Y3QgdjNkX3N1Ym1pdF9leHQgKnNlKQo+IMKgewo+IEBAIC03MDAsMzIgKzczOSw5IEBAIHYz
ZF9zdWJtaXRfY3NkX2lvY3RsKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCj4gdm9pZCAqZGF0YSwK
PiDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoH0KPiDCoMKgwqDCoMKgwqDCoMKgfQo+
IMKgCj4gLcKgwqDCoMKgwqDCoMKgcmV0ID0gdjNkX2pvYl9hbGxvY2F0ZSgodm9pZCAqKSZqb2Is
IHNpemVvZigqam9iKSk7Cj4gLcKgwqDCoMKgwqDCoMKgaWYgKHJldCkKPiAtwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgcmV0dXJuIHJldDsKPiAtCj4gLcKgwqDCoMKgwqDCoMKgcmV0ID0g
djNkX2pvYl9pbml0KHYzZCwgZmlsZV9wcml2LCAmam9iLT5iYXNlLAo+IC3CoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCB2M2Rfam9iX2ZyZWUsIGFyZ3Mt
PmluX3N5bmMsICZzZSwKPiBWM0RfQ1NEKTsKPiAtwqDCoMKgwqDCoMKgwqBpZiAocmV0KQo+IC3C
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqBnb3RvIGZhaWw7Cj4gLQo+IC3CoMKgwqDCoMKg
wqDCoHJldCA9IHYzZF9qb2JfYWxsb2NhdGUoKHZvaWQgKikmY2xlYW5fam9iLAo+IHNpemVvZigq
Y2xlYW5fam9iKSk7Cj4gLcKgwqDCoMKgwqDCoMKgaWYgKHJldCkKPiAtwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgZ290byBmYWlsOwo+IC0KPiAtwqDCoMKgwqDCoMKgwqByZXQgPSB2M2Rf
am9iX2luaXQodjNkLCBmaWxlX3ByaXYsIGNsZWFuX2pvYiwKPiAtwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgdjNkX2pvYl9mcmVlLCAwLCBOVUxMLCBW
M0RfQ0FDSEVfQ0xFQU4pOwo+IC3CoMKgwqDCoMKgwqDCoGlmIChyZXQpCj4gLcKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoGdvdG8gZmFpbDsKPiAtCj4gLcKgwqDCoMKgwqDCoMKgam9iLT5h
cmdzID0gKmFyZ3M7Cj4gLQo+IC3CoMKgwqDCoMKgwqDCoHJldCA9IHYzZF9sb29rdXBfYm9zKGRl
diwgZmlsZV9wcml2LCBjbGVhbl9qb2IsCj4gLcKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBhcmdzLT5ib19oYW5kbGVzLCBhcmdzLQo+ID5ib19o
YW5kbGVfY291bnQpOwo+IC3CoMKgwqDCoMKgwqDCoGlmIChyZXQpCj4gLcKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoGdvdG8gZmFpbDsKPiAtCj4gLcKgwqDCoMKgwqDCoMKgcmV0ID0gdjNk
X2xvY2tfYm9fcmVzZXJ2YXRpb25zKGNsZWFuX2pvYiwgJmFjcXVpcmVfY3R4KTsKPiArwqDCoMKg
wqDCoMKgwqByZXQgPSB2M2Rfc2V0dXBfY3NkX2pvYnNfYW5kX2JvcyhmaWxlX3ByaXYsIHYzZCwg
YXJncywKPiArwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgICZqb2IsICZjbGVhbl9qb2IsICZzZSwKPiAr
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgICZhY3F1aXJlX2N0eCk7Cj4gwqDCoMKgwqDCoMKgwqDCoGlm
IChyZXQpCj4gwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqBnb3RvIGZhaWw7Cj4gwqAK
Cg==

