Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 5CB5111FC3
	for <lists+dri-devel@lfdr.de>; Thu,  2 May 2019 18:10:16 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 644008970E;
	Thu,  2 May 2019 16:10:13 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from EUR01-VE1-obe.outbound.protection.outlook.com
 (mail-eopbgr140084.outbound.protection.outlook.com [40.107.14.84])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2FCFF89700
 for <dri-devel@lists.freedesktop.org>; Thu,  2 May 2019 16:10:11 +0000 (UTC)
Received: from VI1PR0801MB1935.eurprd08.prod.outlook.com (10.173.73.149) by
 VI1PR0801MB2080.eurprd08.prod.outlook.com (10.173.75.8) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1856.11; Thu, 2 May 2019 16:10:09 +0000
Received: from VI1PR0801MB1935.eurprd08.prod.outlook.com
 ([fe80::ec0c:910f:7b71:aff4]) by VI1PR0801MB1935.eurprd08.prod.outlook.com
 ([fe80::ec0c:910f:7b71:aff4%7]) with mapi id 15.20.1856.008; Thu, 2 May 2019
 16:10:09 +0000
From: Ben Davis <Ben.Davis@arm.com>
To: "dri-devel@lists.freedesktop.org" <dri-devel@lists.freedesktop.org>
Subject: [PATCH v4 1/2] drm: Add writeback_dest_x,y,w,h properties
Thread-Topic: [PATCH v4 1/2] drm: Add writeback_dest_x,y,w,h properties
Thread-Index: AQHVAQGDKQyFqqQxLkerU+Fz0XpoAg==
Date: Thu, 2 May 2019 16:10:09 +0000
Message-ID: <1556813386-18823-2-git-send-email-ben.davis@arm.com>
References: <1556813386-18823-1-git-send-email-ben.davis@arm.com>
In-Reply-To: <1556813386-18823-1-git-send-email-ben.davis@arm.com>
Accept-Language: en-GB, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [217.140.106.53]
x-clientproxiedby: LO2P123CA0018.GBRP123.PROD.OUTLOOK.COM
 (2603:10a6:600:a6::30) To VI1PR0801MB1935.eurprd08.prod.outlook.com
 (2603:10a6:800:89::21)
x-ms-exchange-messagesentrepresentingtype: 1
x-mailer: git-send-email 2.7.4
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 9a4ca712-00a3-41a1-964f-08d6cf18a5d1
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600141)(711020)(4605104)(4618075)(2017052603328)(7193020);
 SRVR:VI1PR0801MB2080; 
x-ms-traffictypediagnostic: VI1PR0801MB2080:
nodisclaimer: True
x-microsoft-antispam-prvs: <VI1PR0801MB2080FC6F2F23D6079BBE33DDE5340@VI1PR0801MB2080.eurprd08.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:359;
x-forefront-prvs: 0025434D2D
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(376002)(366004)(39860400002)(136003)(346002)(396003)(189003)(199004)(5660300002)(76176011)(14454004)(52116002)(305945005)(6512007)(54906003)(6116002)(71190400001)(6486002)(3846002)(66446008)(73956011)(66946007)(64756008)(66556008)(66476007)(53936002)(7736002)(71200400001)(2906002)(26005)(5640700003)(2351001)(6436002)(50226002)(99286004)(316002)(8936002)(386003)(81156014)(6506007)(8676002)(102836004)(14444005)(256004)(86362001)(478600001)(44832011)(2501003)(81166006)(476003)(2616005)(186003)(446003)(11346002)(68736007)(486006)(36756003)(4326008)(6916009)(72206003)(66066001)(25786009)(5024004)(142933001);
 DIR:OUT; SFP:1101; SCL:1; SRVR:VI1PR0801MB2080;
 H:VI1PR0801MB1935.eurprd08.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: arm.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: Zb4GIMDG0pxsOWRF+Cj7w0gpDRAmiFTB60vbTV7umOWTSkhGsc/3qx2JN3ZulS7HBQOvSR6rIo6DRktI1O14C672cEhp7VKiVcw6RVfW1DeSOs3waTcNGqhaG0Qu9DtvwJHsO3io2U/OY0I+r56o2QSknL8iHUW1EJOW2IASRhlXhaPuP+xdkcyxBdkCbNxmU1dfnDt9ipY2FJZh1GdTG6vCx/tcSf/mlaqlat27J3FBMlOZ3QRqxBd/iCUB8ET29E1Hp/fnyMB9hFpf87PINaKSFvtRFaPbBB9Ujdf+PdLOB0cjUE35AmbEXB/Gd79mImgBvZl1dy8PL9xf8Fb5m8TDbX6XVuU+CMf0RX9IKggA+y7+0t1yHwrc7D/OcgFx58RF3NdrKO2Dhgg001omINAn+7H6FjQOmcc/EO03jTs=
MIME-Version: 1.0
X-OriginatorOrg: arm.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 9a4ca712-00a3-41a1-964f-08d6cf18a5d1
X-MS-Exchange-CrossTenant-originalarrivaltime: 02 May 2019 16:10:09.1057 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: f34e5979-57d9-4aaa-ad4d-b122a662184d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-Transport-CrossTenantHeadersStamped: VI1PR0801MB2080
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=armh.onmicrosoft.com; 
 s=selector1-arm-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=RuE5x2/q/4Teoro44psVv54GvLB8LZNyWjKg0YMKyV0=;
 b=NURRssf7EzgE1aqtGq/g8iZqA+ccz8Lj1DKGRqgJI+vWEkVBQTzwvW4cYB26yE+F4y1MJHl6pzqJKS8lzseMc5ffn2iaUyLdmJ52bWsyBn7rJvFONlXqpgPCYgZOkeP+baACGfHinoJsP97u0U9q7h4jgY68ai75l0ZyZe6yk0Y=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Ben.Davis@arm.com; 
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: "airlied@linux.ie" <airlied@linux.ie>, Liviu Dudau <Liviu.Dudau@arm.com>,
 "linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>,
 "maxime.ripard@bootlin.com" <maxime.ripard@bootlin.com>, nd <nd@arm.com>,
 "sean@poorly.run" <sean@poorly.run>, Ben Davis <Ben.Davis@arm.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QWRkIG5ldyBwcm9wZXJ0aWVzIHRvIHNwZWNpZnkgeCx5IGNvb3JkaW5hdGVzIGFuZA0Kd2lkdGgg
YW5kIGhlaWdodCBmb3Igd3JpdGViYWNrLg0KDQpUaGVzZSBhcmUgcmVzZXQgdG8gMCBvbiBkdXBs
aWNhdGluZyBzdGF0ZSB0byBwcm92aWRlDQpyb2J1c3RuZXNzIGFnYWluc3QgYWNjaWRlbnRhbCBz
Y2FsaW5nLg0KDQpTaWduZWQtb2ZmLWJ5OiBCZW4gRGF2aXMgPGJlbi5kYXZpc0Bhcm0uY29tPg0K
LS0tDQogZHJpdmVycy9ncHUvZHJtL2RybV9hdG9taWNfc3RhdGVfaGVscGVyLmMgfCAgNiArKysN
CiBkcml2ZXJzL2dwdS9kcm0vZHJtX2F0b21pY191YXBpLmMgICAgICAgICB8IDE3ICsrKysrKysr
DQogZHJpdmVycy9ncHUvZHJtL2RybV93cml0ZWJhY2suYyAgICAgICAgICAgfCA2NiArKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrDQogaW5jbHVkZS9kcm0vZHJtX2Nvbm5lY3Rvci5oICAg
ICAgICAgICAgICAgfCAyMyArKysrKysrKysrKw0KIGluY2x1ZGUvZHJtL2RybV9tb2RlX2NvbmZp
Zy5oICAgICAgICAgICAgIHwgMjAgKysrKysrKysrKw0KIDUgZmlsZXMgY2hhbmdlZCwgMTMyIGlu
c2VydGlvbnMoKykNCg0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fYXRvbWljX3N0
YXRlX2hlbHBlci5jIGIvZHJpdmVycy9ncHUvZHJtL2RybV9hdG9taWNfc3RhdGVfaGVscGVyLmMN
CmluZGV4IDI1YTk1YjkuLjU5NzNjYTMgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL2dwdS9kcm0vZHJt
X2F0b21pY19zdGF0ZV9oZWxwZXIuYw0KKysrIGIvZHJpdmVycy9ncHUvZHJtL2RybV9hdG9taWNf
c3RhdGVfaGVscGVyLmMNCkBAIC0zODIsNiArMzgyLDEyIEBAIF9fZHJtX2F0b21pY19oZWxwZXJf
Y29ubmVjdG9yX2R1cGxpY2F0ZV9zdGF0ZShzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9y
LA0KIA0KIAkvKiBEb24ndCBjb3B5IG92ZXIgYSB3cml0ZWJhY2sgam9iLCB0aGV5IGFyZSB1c2Vk
IG9ubHkgb25jZSAqLw0KIAlzdGF0ZS0+d3JpdGViYWNrX2pvYiA9IE5VTEw7DQorDQorCS8qIEF1
dG8gY2xlYXIgd3JpdGViYWNrIGNvb3JkaW5hdGVzLCBzaG91bGQgb25seSBiZSB1c2VkIG9uY2Ug
Ki8NCisJc3RhdGUtPndyaXRlYmFja19kZXN0X3ggPSAwOw0KKwlzdGF0ZS0+d3JpdGViYWNrX2Rl
c3RfeSA9IDA7DQorCXN0YXRlLT53cml0ZWJhY2tfZGVzdF93ID0gMDsNCisJc3RhdGUtPndyaXRl
YmFja19kZXN0X2ggPSAwOw0KIH0NCiBFWFBPUlRfU1lNQk9MKF9fZHJtX2F0b21pY19oZWxwZXJf
Y29ubmVjdG9yX2R1cGxpY2F0ZV9zdGF0ZSk7DQogDQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2RybV9hdG9taWNfdWFwaS5jIGIvZHJpdmVycy9ncHUvZHJtL2RybV9hdG9taWNfdWFwaS5j
DQppbmRleCBkNTIwYTA0Li43ZDNmYjdmIDEwMDY0NA0KLS0tIGEvZHJpdmVycy9ncHUvZHJtL2Ry
bV9hdG9taWNfdWFwaS5jDQorKysgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2F0b21pY191YXBpLmMN
CkBAIC03NjUsNiArNzY1LDE0IEBAIHN0YXRpYyBpbnQgZHJtX2F0b21pY19jb25uZWN0b3Jfc2V0
X3Byb3BlcnR5KHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IsDQogCQkJcmV0dXJuIC1F
SU5WQUw7DQogCQl9DQogCQlzdGF0ZS0+Y29udGVudF9wcm90ZWN0aW9uID0gdmFsOw0KKwl9IGVs
c2UgaWYgKHByb3BlcnR5ID09IGNvbmZpZy0+cHJvcF93cml0ZWJhY2tfZGVzdF94KSB7DQorCQlz
dGF0ZS0+d3JpdGViYWNrX2Rlc3RfeCA9IHZhbDsNCisJfSBlbHNlIGlmIChwcm9wZXJ0eSA9PSBj
b25maWctPnByb3Bfd3JpdGViYWNrX2Rlc3RfeSkgew0KKwkJc3RhdGUtPndyaXRlYmFja19kZXN0
X3kgPSB2YWw7DQorCX0gZWxzZSBpZiAocHJvcGVydHkgPT0gY29uZmlnLT5wcm9wX3dyaXRlYmFj
a19kZXN0X3cpIHsNCisJCXN0YXRlLT53cml0ZWJhY2tfZGVzdF93ID0gdmFsOw0KKwl9IGVsc2Ug
aWYgKHByb3BlcnR5ID09IGNvbmZpZy0+cHJvcF93cml0ZWJhY2tfZGVzdF9oKSB7DQorCQlzdGF0
ZS0+d3JpdGViYWNrX2Rlc3RfaCA9IHZhbDsNCiAJfSBlbHNlIGlmIChwcm9wZXJ0eSA9PSBjb25m
aWctPndyaXRlYmFja19mYl9pZF9wcm9wZXJ0eSkgew0KIAkJc3RydWN0IGRybV9mcmFtZWJ1ZmZl
ciAqZmIgPSBkcm1fZnJhbWVidWZmZXJfbG9va3VwKGRldiwgTlVMTCwgdmFsKTsNCiAJCWludCBy
ZXQgPSBkcm1fYXRvbWljX3NldF93cml0ZWJhY2tfZmJfZm9yX2Nvbm5lY3RvcihzdGF0ZSwgZmIp
Ow0KQEAgLTgzNyw2ICs4NDUsMTUgQEAgZHJtX2F0b21pY19jb25uZWN0b3JfZ2V0X3Byb3BlcnR5
KHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IsDQogCQkqdmFsID0gc3RhdGUtPnNjYWxp
bmdfbW9kZTsNCiAJfSBlbHNlIGlmIChwcm9wZXJ0eSA9PSBjb25uZWN0b3ItPmNvbnRlbnRfcHJv
dGVjdGlvbl9wcm9wZXJ0eSkgew0KIAkJKnZhbCA9IHN0YXRlLT5jb250ZW50X3Byb3RlY3Rpb247
DQorCX0gZWxzZSBpZiAocHJvcGVydHkgPT0gY29uZmlnLT5wcm9wX3dyaXRlYmFja19kZXN0X3gp
IHsNCisJCS8qIEF1dG8gY2xlYXIgd2IgY28tb3JkaW5hdGVzIHRvIHByZXZlbnQgYWNjaWRlbnRh
bCBzY2FsaW5nICovDQorCQkqdmFsID0gMDsNCisJfSBlbHNlIGlmIChwcm9wZXJ0eSA9PSBjb25m
aWctPnByb3Bfd3JpdGViYWNrX2Rlc3RfeSkgew0KKwkJKnZhbCA9IDA7DQorCX0gZWxzZSBpZiAo
cHJvcGVydHkgPT0gY29uZmlnLT5wcm9wX3dyaXRlYmFja19kZXN0X3cpIHsNCisJCSp2YWwgPSAw
Ow0KKwl9IGVsc2UgaWYgKHByb3BlcnR5ID09IGNvbmZpZy0+cHJvcF93cml0ZWJhY2tfZGVzdF9o
KSB7DQorCQkqdmFsID0gMDsNCiAJfSBlbHNlIGlmIChwcm9wZXJ0eSA9PSBjb25maWctPndyaXRl
YmFja19mYl9pZF9wcm9wZXJ0eSkgew0KIAkJLyogV3JpdGViYWNrIGZyYW1lYnVmZmVyIGlzIG9u
ZS1zaG90LCB3cml0ZSBhbmQgZm9yZ2V0ICovDQogCQkqdmFsID0gMDsNCmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vZHJtX3dyaXRlYmFjay5jIGIvZHJpdmVycy9ncHUvZHJtL2RybV93cml0
ZWJhY2suYw0KaW5kZXggYzIwZTZmZS4uN2M1M2FiZCAxMDA2NDQNCi0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9kcm1fd3JpdGViYWNrLmMNCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fd3JpdGViYWNr
LmMNCkBAIC03NCw2ICs3NCwzMCBAQA0KICAqCWFwcGxpY2F0aW9ucyBtYWtpbmcgdXNlIG9mIHdy
aXRlYmFjayBjb25uZWN0b3JzICphbHdheXMqIHJldHJpZXZlIGFuDQogICoJb3V0LWZlbmNlIGZv
ciB0aGUgY29tbWl0IGFuZCB1c2UgaXQgYXBwcm9wcmlhdGVseS4NCiAgKglGcm9tIHVzZXJzcGFj
ZSwgdGhpcyBwcm9wZXJ0eSB3aWxsIGFsd2F5cyByZWFkIGFzIHplcm8uDQorICoNCisgKiAgIldS
SVRFQkFDS19ERVNUX1giOg0KKyAqCVRoZSB4LWNvb3JkaW5hdGUgdG8gd3JpdGUgYmFjayBvbnRv
IHRoZSBvdXRwdXQgd3JpdGViYWNrIGZyYW1lYnVmZmVyLg0KKyAqCTAgYWN0cyBhcyBkZWZhdWx0
LiBJZiBub24temVybyB0aGUgY29tcG9zaXRpb24gd2lsbCBiZSB0cmFuc2xhdGVkDQorICoJaG9y
aXpvbnRhbGx5IGluIHRoZSBidWZmZXIgYnkgdGhlIGFtb3VudCBzcGVjaWZpZWQuIFRoaXMgaXMg
dGhlIGNhc2UNCisgKglldmVuIGlmIG5vdCBzY2FsaW5nIG9uIHdyaXRlYmFjay4NCisgKg0KKyAq
ICAiV1JJVEVCQUNLX0RFU1RfWSI6DQorICoJVGhlIHktY29vcmRpbmF0ZSB0byB3cml0ZSBiYWNr
IG9udG8gdGhlIG91dHB1dCB3cml0ZWJhY2sgZnJhbWVidWZmZXIuDQorICoJMCBhY3RzIGFzIGRl
ZmF1bHQuIElmIG5vbi16ZXJvIHRoZSBjb21wb3NpdGlvbiB3aWxsIGJlIHRyYW5zbGF0ZWQNCisg
Kgl2ZXJ0aWNhbGx5IGluIHRoZSBidWZmZXIgYnkgdGhlIGFtb3VudCBzcGVjaWZpZWQuIFRoaXMg
aXMgdGhlIGNhc2UgZXZlbg0KKyAqCWlmIG5vdCBzY2FsaW5nIG9uIHdyaXRlYmFjay4NCisgKg0K
KyAqICAiV1JJVEVCQUNLX0RFU1RfVyI6DQorICoJVGhlIHdpZHRoIG9mIHRoZSBjb21wb3NpdGlv
biB0byB3cml0ZSBiYWNrLiAwIGFjdHMgYXMgZGVmYXVsdC4gSWYNCisgKglub24temVybyB0aGUg
Y29tcG9zaXRpb24gd2lsbCBiZSBzY2FsZWQgdG8gbWF0Y2ggdGhlIGdpdmVuIHdpZHRoLg0KKyAq
CUlmIHNjYWxpbmcgYm90aCBXUklURUJBQ0tfREVTVF9XIGFuZCBXUklURUJBQ0tfREVTVF9IIHNo
b3VsZCBiZQ0KKyAqCXNldCBhcyBub24temVyby4NCisgKg0KKyAqICAiV1JJVEVCQUNLX0RFU1Rf
SCI6DQorICoJVGhlIGhlaWdodCBvZiB0aGUgY29tcG9zaXRpb24gdG8gd3JpdGUgYmFjay4gMCBh
Y3RzIGFzIGRlZmF1bHQuIElmDQorICoJbm9uLXplcm8gdGhlIGNvbXBvc2l0aW9uIHdpbGwgYmUg
c2NhbGVkIHRvIG1hdGNoIHRoZSBnaXZlbiBoZWlnaHQuDQorICoJSWYgc2NhbGluZyBib3RoIFdS
SVRFQkFDS19ERVNUX1cgYW5kIFdSSVRFQkFDS19ERVNUX0ggc2hvdWxkIGJlDQorICoJc2V0IGFz
IG5vbi16ZXJvLg0KICAqLw0KIA0KICNkZWZpbmUgZmVuY2VfdG9fd2JfY29ubmVjdG9yKHgpIGNv
bnRhaW5lcl9vZih4LT5sb2NrLCBcDQpAQCAtMTQxLDYgKzE2NSwzOCBAQCBzdGF0aWMgaW50IGNy
ZWF0ZV93cml0ZWJhY2tfcHJvcGVydGllcyhzdHJ1Y3QgZHJtX2RldmljZSAqZGV2KQ0KIAkJZGV2
LT5tb2RlX2NvbmZpZy53cml0ZWJhY2tfb3V0X2ZlbmNlX3B0cl9wcm9wZXJ0eSA9IHByb3A7DQog
CX0NCiANCisJaWYgKCFkZXYtPm1vZGVfY29uZmlnLnByb3Bfd3JpdGViYWNrX2Rlc3RfeCkgew0K
KwkJcHJvcCA9IGRybV9wcm9wZXJ0eV9jcmVhdGVfcmFuZ2UoZGV2LCBEUk1fTU9ERV9QUk9QX0FU
T01JQywNCisJCQkJCQkgIldSSVRFQkFDS19ERVNUX1giLCAwLCBVSU5UX01BWCk7DQorCQlpZiAo
IXByb3ApDQorCQkJcmV0dXJuIC1FTk9NRU07DQorCQlkZXYtPm1vZGVfY29uZmlnLnByb3Bfd3Jp
dGViYWNrX2Rlc3RfeCA9IHByb3A7DQorCX0NCisNCisJaWYgKCFkZXYtPm1vZGVfY29uZmlnLnBy
b3Bfd3JpdGViYWNrX2Rlc3RfeSkgew0KKwkJcHJvcCA9IGRybV9wcm9wZXJ0eV9jcmVhdGVfcmFu
Z2UoZGV2LCBEUk1fTU9ERV9QUk9QX0FUT01JQywNCisJCQkJCQkgIldSSVRFQkFDS19ERVNUX1ki
LCAwLCBVSU5UX01BWCk7DQorCQlpZiAoIXByb3ApDQorCQkJcmV0dXJuIC1FTk9NRU07DQorCQlk
ZXYtPm1vZGVfY29uZmlnLnByb3Bfd3JpdGViYWNrX2Rlc3RfeSA9IHByb3A7DQorCX0NCisNCisJ
aWYgKCFkZXYtPm1vZGVfY29uZmlnLnByb3Bfd3JpdGViYWNrX2Rlc3Rfdykgew0KKwkJcHJvcCA9
IGRybV9wcm9wZXJ0eV9jcmVhdGVfcmFuZ2UoZGV2LCBEUk1fTU9ERV9QUk9QX0FUT01JQywNCisJ
CQkJCQkgIldSSVRFQkFDS19ERVNUX1ciLCAwLCBVSU5UX01BWCk7DQorCQlpZiAoIXByb3ApDQor
CQkJcmV0dXJuIC1FTk9NRU07DQorCQlkZXYtPm1vZGVfY29uZmlnLnByb3Bfd3JpdGViYWNrX2Rl
c3RfdyA9IHByb3A7DQorCX0NCisNCisJaWYgKCFkZXYtPm1vZGVfY29uZmlnLnByb3Bfd3JpdGVi
YWNrX2Rlc3RfaCkgew0KKwkJcHJvcCA9IGRybV9wcm9wZXJ0eV9jcmVhdGVfcmFuZ2UoZGV2LCBE
Uk1fTU9ERV9QUk9QX0FUT01JQywNCisJCQkJCQkgIldSSVRFQkFDS19ERVNUX0giLCAwLCBVSU5U
X01BWCk7DQorCQlpZiAoIXByb3ApDQorCQkJcmV0dXJuIC1FTk9NRU07DQorCQlkZXYtPm1vZGVf
Y29uZmlnLnByb3Bfd3JpdGViYWNrX2Rlc3RfaCA9IHByb3A7DQorCX0NCisNCiAJcmV0dXJuIDA7
DQogfQ0KIA0KQEAgLTIyNSw2ICsyODEsMTYgQEAgaW50IGRybV93cml0ZWJhY2tfY29ubmVjdG9y
X2luaXQoc3RydWN0IGRybV9kZXZpY2UgKmRldiwNCiAJZHJtX29iamVjdF9hdHRhY2hfcHJvcGVy
dHkoJmNvbm5lY3Rvci0+YmFzZSwNCiAJCQkJICAgY29uZmlnLT53cml0ZWJhY2tfcGl4ZWxfZm9y
bWF0c19wcm9wZXJ0eSwNCiAJCQkJICAgYmxvYi0+YmFzZS5pZCk7DQorDQorCWRybV9vYmplY3Rf
YXR0YWNoX3Byb3BlcnR5KCZjb25uZWN0b3ItPmJhc2UsDQorCQkJCSAgIGNvbmZpZy0+cHJvcF93
cml0ZWJhY2tfZGVzdF94LCAwKTsNCisJZHJtX29iamVjdF9hdHRhY2hfcHJvcGVydHkoJmNvbm5l
Y3Rvci0+YmFzZSwNCisJCQkJICAgY29uZmlnLT5wcm9wX3dyaXRlYmFja19kZXN0X3ksIDApOw0K
Kwlkcm1fb2JqZWN0X2F0dGFjaF9wcm9wZXJ0eSgmY29ubmVjdG9yLT5iYXNlLA0KKwkJCQkgICBj
b25maWctPnByb3Bfd3JpdGViYWNrX2Rlc3RfdywgMCk7DQorCWRybV9vYmplY3RfYXR0YWNoX3By
b3BlcnR5KCZjb25uZWN0b3ItPmJhc2UsDQorCQkJCSAgIGNvbmZpZy0+cHJvcF93cml0ZWJhY2tf
ZGVzdF9oLCAwKTsNCisNCiAJd2JfY29ubmVjdG9yLT5waXhlbF9mb3JtYXRzX2Jsb2JfcHRyID0g
YmxvYjsNCiANCiAJcmV0dXJuIDA7DQpkaWZmIC0tZ2l0IGEvaW5jbHVkZS9kcm0vZHJtX2Nvbm5l
Y3Rvci5oIGIvaW5jbHVkZS9kcm0vZHJtX2Nvbm5lY3Rvci5oDQppbmRleCA4ZmUyMmFiLi40Yzc3
MDFlIDEwMDY0NA0KLS0tIGEvaW5jbHVkZS9kcm0vZHJtX2Nvbm5lY3Rvci5oDQorKysgYi9pbmNs
dWRlL2RybS9kcm1fY29ubmVjdG9yLmgNCkBAIC01MTUsNiArNTE1LDI1IEBAIHN0cnVjdCBkcm1f
Y29ubmVjdG9yX3N0YXRlIHsNCiAJICovDQogCXN0cnVjdCBkcm1fd3JpdGViYWNrX2pvYiAqd3Jp
dGViYWNrX2pvYjsNCiANCisJLyoqIEB3cml0ZWJhY2tfZGVzdF94OiB4IGNvb3JkIHRvIHdyaXRl
IHBsYW5lIHRvIG9uIHdiIGJ1ZmZlcg0KKwkgKiAgVGhlIHdyaXR0ZW4gYmFjayBjb21wb3NpdGlv
biB3aWxsIGJlIHRyYW5zbGF0ZWQgYnkgdGhpcw0KKwkgKiAgYW1vdW50IGhvcml6b250YWxseSBv
biB0aGUgb3V0cHV0IGJ1ZmZlci4NCisJICovDQorCS8qKiBAd3JpdGViYWNrX2Rlc3RfeTogeSBj
b29yZCB0byB3cml0ZSBwbGFuZSB0byBvbiB3YiBidWZmZXINCisJICogIFRoZSB3cml0dGVuIGJh
Y2sgY29tcG9zaXRpb24gd2lsbCBiZSB0cmFuc2xhdGVkIGJ5IHRoaXMNCisJICogIGFtb3VudCB2
ZXJ0aWNhbGx5IG9uIHRoZSBvdXRwdXQgYnVmZmVyLg0KKwkgKi8NCisJLyoqIEB3cml0ZWJhY2tf
ZGVzdF93OiB3aWR0aCBvZiBwbGFuZSB0byB3cml0ZSB0byB3YiBidWZmZXINCisJICogIFRoZSB3
cml0dGVuIGJhY2sgY29tcG9zaXRpb24gd2lsbCBiZSBzY2FsZWQgdG8gbWF0Y2ggdGhpcw0KKwkg
KiAgaGVpZ2h0IGRpbWVuc2lvbiBvbiB0aGUgb3V0cHV0IGJ1ZmZlci4gSWdub3JlZCBpZiAwLg0K
KwkgKi8NCisJLyoqIEB3cml0ZWJhY2tfZGVzdF9oOiBoZWlnaHQgb2YgcGxhbmUgdG8gd3JpdGUg
dG8gd2IgYnVmZmVyDQorCSAqICBUaGUgd3JpdHRlbiBiYWNrIGNvbXBvc2l0aW9uIHdpbGwgYmUg
c2NhbGVkIHRvIG1hdGNoIHRoaXMNCisJICogIHdpZHRoIGRpbWVuc2lvbiBvbiB0aGUgb3V0cHV0
IGJ1ZmZlci4gSWdub3JlZCBpZiAwLg0KKwkgKi8NCisJdWludDMyX3Qgd3JpdGViYWNrX2Rlc3Rf
eCwgd3JpdGViYWNrX2Rlc3RfeSwNCisJCSB3cml0ZWJhY2tfZGVzdF93LCB3cml0ZWJhY2tfZGVz
dF9oOw0KKw0KIAkvKioNCiAJICogQG1heF9yZXF1ZXN0ZWRfYnBjOiBDb25uZWN0b3IgcHJvcGVy
dHkgdG8gbGltaXQgdGhlIG1heGltdW0gYml0DQogCSAqIGRlcHRoIG9mIHRoZSBwaXhlbHMuDQpA
QCAtNzA0LDYgKzcyMywxMCBAQCBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9mdW5jcyB7DQogCSAqIGNs
ZWFuZWQgdXAgYnkgY2FsbGluZyB0aGUgQGF0b21pY19kZXN0cm95X3N0YXRlIGhvb2sgaW4gdGhp
cw0KIAkgKiBzdHJ1Y3R1cmUuDQogCSAqDQorCSAqIFN0YXRlIHJlbGF0aW5nIHRvIHdyaXRlYmFj
ayBpbmNsdWRpbmcgd3JpdGViYWNrX2pvYiBhbmQNCisJICogd3JpdGViYWNrX2Rlc3RfeCx5LHcs
aCBpcyBub3QgaW50ZW5kZWQgdG8gYmUgcmV1c2VkIGFuZCBzbyB3aWxsIG5vdA0KKwkgKiBiZSBk
dXBsaWNhdGVkIGFuZCB3aWxsIGluc3RlYWQgYmUgcmVzZXQgdG8gTlVMTC8wIHJlc3BlY3RpdmVs
eS4NCisJICoNCiAJICogVGhpcyBjYWxsYmFjayBpcyBtYW5kYXRvcnkgZm9yIGF0b21pYyBkcml2
ZXJzLg0KIAkgKg0KIAkgKiBBdG9taWMgZHJpdmVycyB3aGljaCBkb24ndCBzdWJjbGFzcyAmc3Ry
dWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgc2hvdWxkIHVzZQ0KZGlmZiAtLWdpdCBhL2luY2x1ZGUv
ZHJtL2RybV9tb2RlX2NvbmZpZy5oIGIvaW5jbHVkZS9kcm0vZHJtX21vZGVfY29uZmlnLmgNCmlu
ZGV4IDdmNjBlOGUuLjQwY2U0YTggMTAwNjQ0DQotLS0gYS9pbmNsdWRlL2RybS9kcm1fbW9kZV9j
b25maWcuaA0KKysrIGIvaW5jbHVkZS9kcm0vZHJtX21vZGVfY29uZmlnLmgNCkBAIC02MjIsNiAr
NjIyLDI2IEBAIHN0cnVjdCBkcm1fbW9kZV9jb25maWcgew0KIAkgKi8NCiAJc3RydWN0IGRybV9w
cm9wZXJ0eSAqcHJvcF9jcnRjX2g7DQogCS8qKg0KKwkgKiBAcHJvcF93cml0ZWJhY2tfZGVzdF94
OiBXcml0ZWJhY2sgY29ubmVjdG9yIHByb3BlcnR5IGZvciB0aGUgY3J0Yw0KKwkgKiBvdXRwdXQg
ZGVzdGluYXRpb24gcG9zaXRpb24gaW4gdGhlIHdyaXRlYmFjayBidWZmZXIuDQorCSAqLw0KKwlz
dHJ1Y3QgZHJtX3Byb3BlcnR5ICpwcm9wX3dyaXRlYmFja19kZXN0X3g7DQorCS8qKg0KKwkgKiBA
cHJvcF93cml0ZWJhY2tfZGVzdF95OiBXcml0ZWJhY2sgY29ubmVjdG9yIHByb3BlcnR5IGZvciB0
aGUgY3J0Yw0KKwkgKiBvdXRwdXQgZGVzdGluYXRpb24gcG9zaXRpb24gaW4gdGhlIHdyaXRlYmFj
ayBidWZmZXIuDQorCSAqLw0KKwlzdHJ1Y3QgZHJtX3Byb3BlcnR5ICpwcm9wX3dyaXRlYmFja19k
ZXN0X3k7DQorCS8qKg0KKwkgKiBAcHJvcF93cml0ZWJhY2tfZGVzdF93OiBXcml0ZWJhY2sgY29u
bmVjdG9yIHByb3BlcnR5IGZvciB0aGUgY3J0Yw0KKwkgKiBvdXRwdXQgZGVzdGluYXRpb24gcG9z
aXRpb24gaW4gdGhlIHdyaXRlYmFjayBidWZmZXIuDQorCSAqLw0KKwlzdHJ1Y3QgZHJtX3Byb3Bl
cnR5ICpwcm9wX3dyaXRlYmFja19kZXN0X3c7DQorCS8qKg0KKwkgKiBAcHJvcF93cml0ZWJhY2tf
ZGVzdF9oOiBXcml0ZWJhY2sgY29ubmVjdG9yIHByb3BlcnR5IGZvciB0aGUgY3J0Yw0KKwkgKiBv
dXRwdXQgZGVzdGluYXRpb24gcG9zaXRpb24gaW4gdGhlIHdyaXRlYmFjayBidWZmZXIuDQorCSAq
Lw0KKwlzdHJ1Y3QgZHJtX3Byb3BlcnR5ICpwcm9wX3dyaXRlYmFja19kZXN0X2g7DQorCS8qKg0K
IAkgKiBAcHJvcF9mYl9pZDogRGVmYXVsdCBhdG9taWMgcGxhbmUgcHJvcGVydHkgdG8gc3BlY2lm
eSB0aGUNCiAJICogJmRybV9mcmFtZWJ1ZmZlci4NCiAJICovDQotLSANCjIuNy40DQoNCl9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWls
aW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZy
ZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
