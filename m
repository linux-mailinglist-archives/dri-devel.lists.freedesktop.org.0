Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id E27D01629E
	for <lists+dri-devel@lfdr.de>; Tue,  7 May 2019 13:13:54 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AFA986E79B;
	Tue,  7 May 2019 11:13:51 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from NAM01-BY2-obe.outbound.protection.outlook.com
 (mail-eopbgr810085.outbound.protection.outlook.com [40.107.81.85])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 770266E79B;
 Tue,  7 May 2019 11:13:50 +0000 (UTC)
Received: from DM5PR12MB1546.namprd12.prod.outlook.com (10.172.36.23) by
 DM5PR12MB1929.namprd12.prod.outlook.com (10.175.85.9) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1856.11; Tue, 7 May 2019 11:13:48 +0000
Received: from DM5PR12MB1546.namprd12.prod.outlook.com
 ([fe80::70fc:f26c:1e22:73ba]) by DM5PR12MB1546.namprd12.prod.outlook.com
 ([fe80::70fc:f26c:1e22:73ba%10]) with mapi id 15.20.1856.012; Tue, 7 May 2019
 11:13:48 +0000
From: "Koenig, Christian" <Christian.Koenig@amd.com>
To: "Zhou, David(ChunMing)" <David1.Zhou@amd.com>, "Zhou, David(ChunMing)"
 <David1.Zhou@amd.com>, "Liang, Prike" <Prike.Liang@amd.com>,
 "dri-devel@lists.freedesktop.org" <dri-devel@lists.freedesktop.org>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: Re: [PATCH 1/2] drm/ttm: fix busy memory to fail other user v6
Thread-Topic: [PATCH 1/2] drm/ttm: fix busy memory to fail other user v6
Thread-Index: AQHVBLhzEpGLJ43PNEqgNfgyqPuuKaZffLwAgAAEJQCAAAGEAA==
Date: Tue, 7 May 2019 11:13:48 +0000
Message-ID: <6c90881c-1cf3-3b04-c6e0-c6eea5914f9b@amd.com>
References: <20190507093642.7859-1-david1.zhou@amd.com>
 <f4b1ddf2-b80b-260e-54c9-b0e62ecbe90b@amd.com>
 <f6a63550-3c1d-41b7-d0c3-98f567695f59@amd.com>
In-Reply-To: <f6a63550-3c1d-41b7-d0c3-98f567695f59@amd.com>
Accept-Language: de-DE, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
user-agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.6.1
x-originating-ip: [2a02:908:1252:fb60:be8a:bd56:1f94:86e7]
x-clientproxiedby: AM3PR03CA0062.eurprd03.prod.outlook.com
 (2603:10a6:207:5::20) To DM5PR12MB1546.namprd12.prod.outlook.com
 (2603:10b6:4:8::23)
x-ms-exchange-messagesentrepresentingtype: 1
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 65f48d42-a24a-4bb4-8324-08d6d2dd138a
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600141)(711020)(4605104)(4618075)(2017052603328)(7193020);
 SRVR:DM5PR12MB1929; 
x-ms-traffictypediagnostic: DM5PR12MB1929:
x-microsoft-antispam-prvs: <DM5PR12MB19297F369B74A928D2C9001D83310@DM5PR12MB1929.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:8882;
x-forefront-prvs: 0030839EEE
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(376002)(396003)(39860400002)(136003)(366004)(346002)(199004)(189003)(6436002)(6246003)(68736007)(36756003)(450100002)(46003)(71200400001)(66476007)(65826007)(31696002)(73956011)(58126008)(76176011)(66446008)(66946007)(2201001)(71190400001)(66556008)(64756008)(2906002)(52116002)(186003)(6486002)(6512007)(64126003)(53936002)(25786009)(256004)(14444005)(2501003)(8676002)(81166006)(99286004)(110136005)(229853002)(8936002)(5660300002)(81156014)(11346002)(478600001)(65956001)(65806001)(316002)(31686004)(446003)(476003)(72206003)(7736002)(305945005)(486006)(2616005)(6116002)(102836004)(14454004)(86362001)(386003)(6506007);
 DIR:OUT; SFP:1101; SCL:1; SRVR:DM5PR12MB1929;
 H:DM5PR12MB1546.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: KG6/WVTgHIIILEhUcwhZzJTJExDBYv/iBWZj/b/39BuoJOoZmNheCnwCRHkm8eY2qSseD51t8LSAof99bGBaHW7R9QWoXph+4Uz3pQod3cixWaLATWHOMBDJl161hq6UvoQW7RZ2J7ohuNE5D5P5S6srZwogs5oHk2X4lFHhwPoCFqP1KDkxTC9dqxXlykDJrYPpxoFZFt+QG+AGxd0Ggqv04G3zW75LzvN316n0GpBzqWejeivvF/bBvfWW6q4Ap+DXVQlhQIvMxvzyTxp4HZC6RZZeM4Py+5y5QfTbt6juixEtjgV/BKr5w8qDtBtITF5x6qk3wzOLJOYBOqcIbUNVA8xlnKl5ntKLK7OuuotKmIA/U/W5jB3AOpzaNCQESIoUcGhTkJ8qM7/1zID6t1lSGGT6op44waPCKC8RbGE=
Content-ID: <B4B6F5559B1C824790EC33A8494B7152@namprd12.prod.outlook.com>
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 65f48d42-a24a-4bb4-8324-08d6d2dd138a
X-MS-Exchange-CrossTenant-originalarrivaltime: 07 May 2019 11:13:48.2458 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM5PR12MB1929
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amd-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=xEzrxrkDORuy340NsvpLW9o/mhlL0ezs2cr4Qo2iM+M=;
 b=NHhp7GxIkb54ViMEX+MUU+lNknymnqm1kclsqFsP/m8+LHBoSuORW+VRKtLntZ2cMXEddGkhlpEimJ9PWmYRt/SYL37w76YqFFwna4gEsGIGZgdqx1zxpx1G2OXNoxQNEa8dfwHvQbNtvJTLk8hdWImm9StWDqZT0urwPerkCp8=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Christian.Koenig@amd.com; 
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QW0gMDcuMDUuMTkgdW0gMTM6MDggc2NocmllYiB6aG91Y20xOg0KPg0KPg0KPiBPbiAyMDE55bm0
MDXmnIgwN+aXpSAxODo1MywgS29lbmlnLCBDaHJpc3RpYW4gd3JvdGU6DQo+PiBBbSAwNy4wNS4x
OSB1bSAxMTozNiBzY2hyaWViIENodW5taW5nIFpob3U6DQo+Pj4gaGVhdnkgZ3B1IGpvYiBjb3Vs
ZCBvY2N1cHkgbWVtb3J5IGxvbmcgdGltZSwgd2hpY2ggbGVhZCBvdGhlciB1c2VyIA0KPj4+IGZh
aWwgdG8gZ2V0IG1lbW9yeS4NCj4+Pg0KPj4+IGJhc2ljYWxseSBwaWNrIHVwIENocmlzdGlhbiBp
ZGVhOg0KPj4+DQo+Pj4gMS4gUmVzZXJ2ZSB0aGUgQk8gaW4gREMgdXNpbmcgYSB3d19tdXRleCB0
aWNrZXQgKHRyaXZpYWwpLg0KPj4+IDIuIElmIHdlIHRoZW4gcnVuIGludG8gdGhpcyBFQlVTWSBj
b25kaXRpb24gaW4gVFRNIGNoZWNrIGlmIHRoZSBCTyANCj4+PiB3ZSBuZWVkIG1lbW9yeSBmb3Ig
KG9yIHJhdGhlciB0aGUgd3dfbXV0ZXggb2YgaXRzIHJlc2VydmF0aW9uIA0KPj4+IG9iamVjdCkg
aGFzIGEgdGlja2V0IGFzc2lnbmVkLg0KPj4+IDMuIElmIHdlIGhhdmUgYSB0aWNrZXQgd2UgZ3Jh
YiBhIHJlZmVyZW5jZSB0byB0aGUgZmlyc3QgQk8gb24gdGhlIA0KPj4+IExSVSwgZHJvcCB0aGUg
TFJVIGxvY2sgYW5kIHRyeSB0byBncmFiIHRoZSByZXNlcnZhdGlvbiBsb2NrIHdpdGggdGhlIA0K
Pj4+IHRpY2tldC4NCj4+PiA0LiBJZiBnZXR0aW5nIHRoZSByZXNlcnZhdGlvbiBsb2NrIHdpdGgg
dGhlIHRpY2tldCBzdWNjZWVkZWQgd2UgDQo+Pj4gY2hlY2sgaWYgdGhlIEJPIGlzIHN0aWxsIHRo
ZSBmaXJzdCBvbmUgb24gdGhlIExSVSBpbiBxdWVzdGlvbiAodGhlIA0KPj4+IEJPIGNvdWxkIGhh
dmUgbW92ZWQpLg0KPj4+IDUuIElmIHRoZSBCTyBpcyBzdGlsbCB0aGUgZmlyc3Qgb25lIG9uIHRo
ZSBMUlUgaW4gcXVlc3Rpb24gd2UgdHJ5IHRvIA0KPj4+IGV2aWN0IGl0IGFzIHdlIHdvdWxkIGV2
aWN0IGFueSBvdGhlciBCTy4NCj4+PiA2LiBJZiBhbnkgb2YgdGhlICJJZidzIiBhYm92ZSBmYWls
IHdlIGp1c3QgYmFjayBvZmYgYW5kIHJldHVybiAtRUJVU1kuDQo+Pj4NCj4+PiB2MjogZml4IHNv
bWUgbWlub3IgY2hlY2sNCj4+PiB2MzogYWRkcmVzcyBDaHJpc3RpYW4gdjIgY29tbWVudHMuDQo+
Pj4gdjQ6IGZpeCBzb21lIG1pc3NpbmcNCj4+PiB2NTogaGFuZGxlIGZpcnN0X2JvIHVubG9jayBh
bmQgYm9fZ2V0L3B1dA0KPj4+IHY2OiBhYnN0cmFjdCB1bmlmaWVkIGl0ZXJhdGUgZnVuY3Rpb24s
IGFuZCBoYW5kbGUgYWxsIHBvc3NpYmxlIA0KPj4+IHVzZWNhc2Ugbm90IG9ubHkgcGlubmVkIGJv
Lg0KPj4+DQo+Pj4gQ2hhbmdlLUlkOiBJMjE0MjNmYjkyMmY4ODU0NjVmMTM4MzNjNDFkZjFlMTM0
MzY0YThlNw0KPj4+IFNpZ25lZC1vZmYtYnk6IENodW5taW5nIFpob3UgPGRhdmlkMS56aG91QGFt
ZC5jb20+DQo+Pj4gLS0tDQo+Pj4gwqDCoCBkcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9iby5jIHwg
MTEzIA0KPj4+ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKy0tLS0tDQo+Pj4gwqDCoCAx
IGZpbGUgY2hhbmdlZCwgOTcgaW5zZXJ0aW9ucygrKSwgMTYgZGVsZXRpb25zKC0pDQo+Pj4NCj4+
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm8uYyANCj4+PiBiL2RyaXZl
cnMvZ3B1L2RybS90dG0vdHRtX2JvLmMNCj4+PiBpbmRleCA4NTAyYjNlZDJkODguLmJiZjFkMTRk
MDBhNyAxMDA2NDQNCj4+PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9iby5jDQo+Pj4g
KysrIGIvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm8uYw0KPj4+IEBAIC03NjYsMTEgKzc2Niwx
MyBAQCBFWFBPUlRfU1lNQk9MKHR0bV9ib19ldmljdGlvbl92YWx1YWJsZSk7DQo+Pj4gwqDCoMKg
ICogYi4gT3RoZXJ3aXNlLCB0cnlsb2NrIGl0Lg0KPj4+IMKgwqDCoCAqLw0KPj4+IMKgwqAgc3Rh
dGljIGJvb2wgdHRtX2JvX2V2aWN0X3N3YXBvdXRfYWxsb3dhYmxlKHN0cnVjdCANCj4+PiB0dG1f
YnVmZmVyX29iamVjdCAqYm8sDQo+Pj4gLcKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgc3RydWN0IHR0
bV9vcGVyYXRpb25fY3R4ICpjdHgsIGJvb2wgKmxvY2tlZCkNCj4+PiArwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoCBzdHJ1Y3QgdHRtX29wZXJhdGlvbl9jdHggKmN0eCwgYm9vbCAqbG9ja2VkLCBib29s
ICpidXN5KQ0KPj4+IMKgwqAgew0KPj4+IMKgwqDCoMKgwqDCoCBib29sIHJldCA9IGZhbHNlOw0K
Pj4+IMKgwqAgwqDCoMKgwqDCoMKgICpsb2NrZWQgPSBmYWxzZTsNCj4+PiArwqDCoMKgIGlmIChi
dXN5KQ0KPj4+ICvCoMKgwqDCoMKgwqDCoCAqYnVzeSA9IGZhbHNlOw0KPj4+IMKgwqDCoMKgwqDC
oCBpZiAoYm8tPnJlc3YgPT0gY3R4LT5yZXN2KSB7DQo+Pj4gwqDCoMKgwqDCoMKgwqDCoMKgwqAg
cmVzZXJ2YXRpb25fb2JqZWN0X2Fzc2VydF9oZWxkKGJvLT5yZXN2KTsNCj4+PiDCoMKgwqDCoMKg
wqDCoMKgwqDCoCBpZiAoY3R4LT5mbGFncyAmIFRUTV9PUFRfRkxBR19BTExPV19SRVNfRVZJQ1QN
Cj4+PiBAQCAtNzc5LDM1ICs3ODEsNDUgQEAgc3RhdGljIGJvb2wgDQo+Pj4gdHRtX2JvX2V2aWN0
X3N3YXBvdXRfYWxsb3dhYmxlKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sDQo+Pj4gwqDC
oMKgwqDCoMKgIH0gZWxzZSB7DQo+Pj4gwqDCoMKgwqDCoMKgwqDCoMKgwqAgKmxvY2tlZCA9IHJl
c2VydmF0aW9uX29iamVjdF90cnlsb2NrKGJvLT5yZXN2KTsNCj4+PiDCoMKgwqDCoMKgwqDCoMKg
wqDCoCByZXQgPSAqbG9ja2VkOw0KPj4+ICvCoMKgwqDCoMKgwqDCoCBpZiAoIXJldCAmJiBidXN5
KQ0KPj4+ICvCoMKgwqDCoMKgwqDCoMKgwqDCoMKgICpidXN5ID0gdHJ1ZTsNCj4+PiDCoMKgwqDC
oMKgwqAgfQ0KPj4+IMKgwqAgwqDCoMKgwqDCoMKgIHJldHVybiByZXQ7DQo+Pj4gwqDCoCB9DQo+
Pj4gwqDCoCAtc3RhdGljIGludCB0dG1fbWVtX2V2aWN0X2ZpcnN0KHN0cnVjdCB0dG1fYm9fZGV2
aWNlICpiZGV2LA0KPj4+IC3CoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgdWlu
dDMyX3QgbWVtX3R5cGUsDQo+Pj4gLcKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oCBjb25zdCBzdHJ1Y3QgdHRtX3BsYWNlICpwbGFjZSwNCj4+PiAtwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgIHN0cnVjdCB0dG1fb3BlcmF0aW9uX2N0eCAqY3R4KQ0KPj4+ICtz
dGF0aWMgc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0Kg0KPj4+ICt0dG1fbWVtX2ZpbmRfZXZpdGFi
bGVfYm8oc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsDQo+Pj4gK8KgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoCBzdHJ1Y3QgdHRtX21lbV90eXBlX21hbmFnZXIgKm1hbiwNCj4+PiArwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgIGNvbnN0IHN0cnVjdCB0dG1fcGxhY2UgKnBsYWNlLA0KPj4+ICvCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqAgc3RydWN0IHR0bV9vcGVyYXRpb25fY3R4ICpjdHgsDQo+Pj4g
K8KgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKipmaXJz
dF9ibywNCj4+PiArwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIGJvb2wgKmxvY2tlZCkNCj4+PiDC
oMKgIHsNCj4+PiAtwqDCoMKgIHN0cnVjdCB0dG1fYm9fZ2xvYmFsICpnbG9iID0gYmRldi0+Z2xv
YjsNCj4+PiAtwqDCoMKgIHN0cnVjdCB0dG1fbWVtX3R5cGVfbWFuYWdlciAqbWFuID0gJmJkZXYt
Pm1hblttZW1fdHlwZV07DQo+Pj4gwqDCoMKgwqDCoMKgIHN0cnVjdCB0dG1fYnVmZmVyX29iamVj
dCAqYm8gPSBOVUxMOw0KPj4+IC3CoMKgwqAgYm9vbCBsb2NrZWQgPSBmYWxzZTsNCj4+PiAtwqDC
oMKgIHVuc2lnbmVkIGk7DQo+Pj4gLcKgwqDCoCBpbnQgcmV0Ow0KPj4+ICvCoMKgwqAgaW50IGk7
DQo+Pj4gwqDCoCAtwqDCoMKgIHNwaW5fbG9jaygmZ2xvYi0+bHJ1X2xvY2spOw0KPj4+ICvCoMKg
wqAgaWYgKGZpcnN0X2JvKQ0KPj4+ICvCoMKgwqDCoMKgwqDCoCAqZmlyc3RfYm8gPSBOVUxMOw0K
Pj4+IMKgwqDCoMKgwqDCoCBmb3IgKGkgPSAwOyBpIDwgVFRNX01BWF9CT19QUklPUklUWTsgKytp
KSB7DQo+Pj4gwqDCoMKgwqDCoMKgwqDCoMKgwqAgbGlzdF9mb3JfZWFjaF9lbnRyeShibywgJm1h
bi0+bHJ1W2ldLCBscnUpIHsNCj4+PiAtwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBpZiAoIXR0bV9i
b19ldmljdF9zd2Fwb3V0X2FsbG93YWJsZShibywgY3R4LCAmbG9ja2VkKSkNCj4+PiArwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoCBib29sIGJ1c3kgPSBmYWxzZTsNCj4+PiArwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoCBpZiAoIXR0bV9ib19ldmljdF9zd2Fwb3V0X2FsbG93YWJsZShibywgY3R4LCBsb2Nr
ZWQsDQo+Pj4gK8KgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgICZidXN5KSkgew0KPj4gQSBuZXdsaW5lIGJldHdlZW4gZGVjbGFyYXRp
b24gYW5kIGNvZGUgcGxlYXNlLg0KPj4NCj4+PiArwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgIGlmIChmaXJzdF9ibyAmJiAhKCpmaXJzdF9ibykgJiYgYnVzeSkgew0KPj4+ICvCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCB0dG1fYm9fZ2V0KGJvKTsNCj4+PiArwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgKmZpcnN0X2JvID0gYm87DQo+Pj4g
K8KgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCB9DQo+Pj4gwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgIGNvbnRpbnVlOw0KPj4+ICvCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
IH0NCj4+PiDCoMKgIMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgaWYgKHBsYWNlICYmICFi
ZGV2LT5kcml2ZXItPmV2aWN0aW9uX3ZhbHVhYmxlKGJvLA0KPj4+IMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgIHBsYWNlKSkgew0KPj4+IC3CoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgaWYg
KGxvY2tlZCkNCj4+PiArwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIGlmICgqbG9ja2Vk
KQ0KPj4+IMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIHJlc2Vy
dmF0aW9uX29iamVjdF91bmxvY2soYm8tPnJlc3YpOw0KPj4+IMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoCBjb250aW51ZTsNCj4+PiDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgIH0NCj4+PiArDQo+Pj4gwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBicmVhazsNCj4+
PiDCoMKgwqDCoMKgwqDCoMKgwqDCoCB9DQo+Pj4gwqDCoCBAQCAtODE4LDkgKzgzMCw2NiBAQCBz
dGF0aWMgaW50IHR0bV9tZW1fZXZpY3RfZmlyc3Qoc3RydWN0IA0KPj4+IHR0bV9ib19kZXZpY2Ug
KmJkZXYsDQo+Pj4gwqDCoMKgwqDCoMKgwqDCoMKgwqAgYm8gPSBOVUxMOw0KPj4+IMKgwqDCoMKg
wqDCoCB9DQo+Pj4gwqDCoCArwqDCoMKgIHJldHVybiBibzsNCj4+PiArfQ0KPj4+ICsNCj4+PiAr
c3RhdGljIGludCB0dG1fbWVtX2V2aWN0X2ZpcnN0KHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2
LA0KPj4+ICvCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgdWludDMyX3QgbWVt
X3R5cGUsDQo+Pj4gK8KgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBjb25zdCBz
dHJ1Y3QgdHRtX3BsYWNlICpwbGFjZSwNCj4+PiArwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgIHN0cnVjdCB0dG1fb3BlcmF0aW9uX2N0eCAqY3R4KQ0KPj4+ICt7DQo+Pj4gK8Kg
wqDCoCBzdHJ1Y3QgdHRtX2JvX2dsb2JhbCAqZ2xvYiA9IGJkZXYtPmdsb2I7DQo+Pj4gK8KgwqDC
oCBzdHJ1Y3QgdHRtX21lbV90eXBlX21hbmFnZXIgKm1hbiA9ICZiZGV2LT5tYW5bbWVtX3R5cGVd
Ow0KPj4+ICvCoMKgwqAgc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibyA9IE5VTEwsICpmaXJz
dF9ibyA9IE5VTEw7DQo+Pj4gK8KgwqDCoCBib29sIGxvY2tlZCA9IGZhbHNlOw0KPj4+ICvCoMKg
wqAgaW50IHJldDsNCj4+PiArDQo+Pj4gK8KgwqDCoCBzcGluX2xvY2soJmdsb2ItPmxydV9sb2Nr
KTsNCj4+PiArwqDCoMKgIGJvID0gdHRtX21lbV9maW5kX2V2aXRhYmxlX2JvKGJkZXYsIG1hbiwg
cGxhY2UsIGN0eCwgJmZpcnN0X2JvLA0KPj4+ICvCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqAgJmxvY2tlZCk7DQo+Pj4gwqDCoMKgwqDCoMKgIGlmICghYm8pIHsNCj4+
PiArwqDCoMKgwqDCoMKgwqAgc3RydWN0IHR0bV9vcGVyYXRpb25fY3R4IGJ1c3lfY3R4Ow0KPj4+
ICsNCj4+PiDCoMKgwqDCoMKgwqDCoMKgwqDCoCBzcGluX3VubG9jaygmZ2xvYi0+bHJ1X2xvY2sp
Ow0KPj4+IC3CoMKgwqDCoMKgwqDCoCByZXR1cm4gLUVCVVNZOw0KPj4+ICvCoMKgwqDCoMKgwqDC
oCAvKiBjaGVjayBpZiBvdGhlciB1c2VyIG9jY3VweSBtZW1vcnkgdG9vIGxvbmcgdGltZSAqLw0K
Pj4+ICvCoMKgwqDCoMKgwqDCoCBpZiAoIWZpcnN0X2JvIHx8ICFjdHggfHwgIWN0eC0+cmVzdiB8
fCAhY3R4LT5yZXN2LT5sb2NrLmN0eCkgew0KPj4+ICvCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIGlm
IChmaXJzdF9ibykNCj4+PiArwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIHR0bV9ib19w
dXQoZmlyc3RfYm8pOw0KPj4+ICvCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIHJldHVybiAtRUJVU1k7
DQo+Pj4gK8KgwqDCoMKgwqDCoMKgIH0NCj4+PiArwqDCoMKgwqDCoMKgwqAgaWYgKGZpcnN0X2Jv
LT5yZXN2ID09IGN0eC0+cmVzdikgew0KPj4+ICvCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIHR0bV9i
b19wdXQoZmlyc3RfYm8pOw0KPj4+ICvCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIHJldHVybiAtRUJV
U1k7DQo+Pj4gK8KgwqDCoMKgwqDCoMKgIH0NCj4+PiArwqDCoMKgwqDCoMKgwqAgaWYgKGN0eC0+
aW50ZXJydXB0aWJsZSkNCj4+PiArwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCByZXQgPSB3d19tdXRl
eF9sb2NrX2ludGVycnVwdGlibGUoJmZpcnN0X2JvLT5yZXN2LT5sb2NrLA0KPj4+ICvCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIGN0eC0+
cmVzdi0+bG9jay5jdHgpOw0KPj4+ICvCoMKgwqDCoMKgwqDCoCBlbHNlDQo+Pj4gK8KgwqDCoMKg
wqDCoMKgwqDCoMKgwqAgcmV0ID0gd3dfbXV0ZXhfbG9jaygmZmlyc3RfYm8tPnJlc3YtPmxvY2ss
IA0KPj4+IGN0eC0+cmVzdi0+bG9jay5jdHgpOw0KPj4+ICvCoMKgwqDCoMKgwqDCoCBpZiAocmV0
KSB7DQo+Pj4gK8KgwqDCoMKgwqDCoMKgwqDCoMKgwqAgdHRtX2JvX3B1dChmaXJzdF9ibyk7DQo+
Pj4gK8KgwqDCoMKgwqDCoMKgwqDCoMKgwqAgcmV0dXJuIHJldDsNCj4+PiArwqDCoMKgwqDCoMKg
wqAgfQ0KPj4+ICvCoMKgwqDCoMKgwqDCoCBzcGluX2xvY2soJmdsb2ItPmxydV9sb2NrKTsNCj4+
PiArwqDCoMKgwqDCoMKgwqAgLyogcHJldmlvdXMgYnVzeSByZXN2IGxvY2sgaXMgaGVsZCBieSBh
Ym92ZSwgaWRsZSBub3csDQo+Pj4gK8KgwqDCoMKgwqDCoMKgwqAgKiBzbyBsZXQgdGhlbSBldmlj
dGFibGUuDQo+Pj4gK8KgwqDCoMKgwqDCoMKgwqAgKi8NCj4+PiArwqDCoMKgwqDCoMKgwqAgYnVz
eV9jdHguaW50ZXJydXB0aWJsZSA9IGN0eC0+aW50ZXJydXB0aWJsZTsNCj4+PiArwqDCoMKgwqDC
oMKgwqAgYnVzeV9jdHgubm9fd2FpdF9ncHXCoMKgID0gY3R4LT5ub193YWl0X2dwdTsNCj4+PiAr
wqDCoMKgwqDCoMKgwqAgYnVzeV9jdHgucmVzdsKgwqDCoMKgwqDCoMKgwqDCoMKgID0gZmlyc3Rf
Ym8tPnJlc3Y7DQo+Pj4gK8KgwqDCoMKgwqDCoMKgIGJ1c3lfY3R4LmZsYWdzwqDCoMKgwqDCoMKg
wqDCoMKgwqAgPSBUVE1fT1BUX0ZMQUdfQUxMT1dfUkVTX0VWSUNUOw0KPj4+ICsNCj4+PiArwqDC
oMKgwqDCoMKgwqAgYm8gPSB0dG1fbWVtX2ZpbmRfZXZpdGFibGVfYm8oYmRldiwgbWFuLCBwbGFj
ZSwgJmJ1c3lfY3R4LCANCj4+PiBOVUxMLA0KPj4+ICvCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCAmbG9ja2VkKTsNCj4+PiArwqDCoMKgwqDCoMKgwqAg
aWYgKGJvICYmIChiby0+cmVzdiA9PSBmaXJzdF9iby0+cmVzdikpDQo+Pj4gK8KgwqDCoMKgwqDC
oMKgwqDCoMKgwqAgbG9ja2VkID0gdHJ1ZTsNCj4+PiArwqDCoMKgwqDCoMKgwqAgZWxzZSBpZiAo
Ym8pDQo+Pj4gK8KgwqDCoMKgwqDCoMKgwqDCoMKgwqAgd3dfbXV0ZXhfdW5sb2NrKCZmaXJzdF9i
by0+cmVzdi0+bG9jayk7DQo+Pj4gK8KgwqDCoMKgwqDCoMKgIGlmICghYm8pIHsNCj4+PiArwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoCBzcGluX3VubG9jaygmZ2xvYi0+bHJ1X2xvY2spOw0KPj4+ICvC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgIHR0bV9ib19wdXQoZmlyc3RfYm8pOw0KPj4+ICvCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgIHJldHVybiAtRUJVU1k7DQo+Pj4gK8KgwqDCoMKgwqDCoMKgIH0NCj4+
PiDCoMKgwqDCoMKgwqAgfQ0KPj4+IMKgwqAgwqDCoMKgwqDCoMKgIGtyZWZfZ2V0KCZiby0+bGlz
dF9rcmVmKTsNCj4+PiBAQCAtODI5LDExICs4OTgsMTUgQEAgc3RhdGljIGludCB0dG1fbWVtX2V2
aWN0X2ZpcnN0KHN0cnVjdCANCj4+PiB0dG1fYm9fZGV2aWNlICpiZGV2LA0KPj4+IMKgwqDCoMKg
wqDCoMKgwqDCoMKgIHJldCA9IHR0bV9ib19jbGVhbnVwX3JlZnMoYm8sIGN0eC0+aW50ZXJydXB0
aWJsZSwNCj4+PiDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqAgY3R4LT5ub193YWl0X2dwdSwgbG9ja2VkKTsNCj4+PiDCoMKgwqDCoMKgwqDCoMKgwqDCoCBr
cmVmX3B1dCgmYm8tPmxpc3Rfa3JlZiwgdHRtX2JvX3JlbGVhc2VfbGlzdCk7DQo+Pj4gK8KgwqDC
oMKgwqDCoMKgIGlmIChmaXJzdF9ibykNCj4+PiArwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCB0dG1f
Ym9fcHV0KGZpcnN0X2JvKTsNCj4+PiDCoMKgwqDCoMKgwqDCoMKgwqDCoCByZXR1cm4gcmV0Ow0K
Pj4+IMKgwqDCoMKgwqDCoCB9DQo+Pj4gwqDCoCDCoMKgwqDCoMKgwqAgdHRtX2JvX2RlbF9mcm9t
X2xydShibyk7DQo+Pj4gwqDCoMKgwqDCoMKgIHNwaW5fdW5sb2NrKCZnbG9iLT5scnVfbG9jayk7
DQo+Pj4gK8KgwqDCoCBpZiAoZmlyc3RfYm8pDQo+Pj4gK8KgwqDCoMKgwqDCoMKgIHR0bV9ib19w
dXQoZmlyc3RfYm8pOw0KPj4+IMKgwqAgwqDCoMKgwqDCoMKgIHJldCA9IHR0bV9ib19ldmljdChi
bywgY3R4KTsNCj4+PiDCoMKgwqDCoMKgwqAgaWYgKGxvY2tlZCkgew0KPj4+IEBAIC04OTksNiAr
OTcyLDEzIEBAIHN0YXRpYyBpbnQgdHRtX2JvX21lbV9mb3JjZV9zcGFjZShzdHJ1Y3QgDQo+Pj4g
dHRtX2J1ZmZlcl9vYmplY3QgKmJvLA0KPj4+IMKgwqAgew0KPj4+IMKgwqDCoMKgwqDCoCBzdHJ1
Y3QgdHRtX2JvX2RldmljZSAqYmRldiA9IGJvLT5iZGV2Ow0KPj4+IMKgwqDCoMKgwqDCoCBzdHJ1
Y3QgdHRtX21lbV90eXBlX21hbmFnZXIgKm1hbiA9ICZiZGV2LT5tYW5bbWVtX3R5cGVdOw0KPj4+
ICvCoMKgwqAgc3RydWN0IHR0bV9vcGVyYXRpb25fY3R4IG5hdGl2ZV9jdHggPSB7DQo+Pj4gK8Kg
wqDCoMKgwqDCoMKgIC5pbnRlcnJ1cHRpYmxlID0gZmFsc2UsDQo+Pj4gK8KgwqDCoMKgwqDCoMKg
IC5ub193YWl0X2dwdSA9IGZhbHNlLA0KPj4+ICvCoMKgwqDCoMKgwqDCoCAucmVzdiA9IGJvLT5y
ZXN2LA0KPj4+ICvCoMKgwqDCoMKgwqDCoCAuZmxhZ3MgPSAwDQo+Pj4gK8KgwqDCoCB9Ow0KPj4+
ICvCoMKgwqAgc3RydWN0IHR0bV9vcGVyYXRpb25fY3R4ICpldmljdF9jdHggPSBjdHggPyBjdHgg
OiAmbmF0aXZlX2N0eDsNCj4+IEkgdGhvdWdodCB3ZSBtYWRlIHRoZSBjdHggcGFyYW1ldGVyIG1h
bmRhdG9yeSwgZGlkbid0IHdlPyBDb3VsZCBiZSB0aGF0DQo+PiBJIHJlbWVtYmVyIHRoYXQgaW5j
b3JyZWN0bHkuDQo+IFByaWtlIHNhaWQgaGUgc2VlIGN0eC0+cmVzdiBpcyBudWxsLCBpbiB0aGF0
IGNhc2UsIGNvZGUgZG9lc24ndCBydW4gDQo+IGludG8gYnVzeSBwYXRoLg0KPiBPaCwgYXMgeW91
IG1lbnRpb25lZCBoZXJlLCB3ZSBuZWVkIGFkZCAucmVzdj1iby0+cmVzdiBmb3IgZXZlcnkgDQo+
IHR0bV9vcGVyYXRpb25fY3R4LiBUaGF0J3MgYSBodWdlIGNoYW5nZSB3aGljaCB3aWxsIGNyb3Nz
IGFsbCB2ZW5kb3IgDQo+IGRyaXZlcnMuDQo+DQo+IENhbiB3ZSBqdXN0IGZvcmNlIHRvIGV2YWx1
YXRlIGV2aWN0X2N0eC0+cmVzdiA9IGJvLT5yZXN2PyBUaGF0IG1lYW5zIA0KPiB3ZSBqdXN0IGFk
ZCBvbmUgZXh0cmEgbGluZTogZXZpY3RfY3R4LT5yZXN2ID0gYm8tPnJlc3YuIEhvdyBhYm91dCB0
aGF0Pw0KDQpXZWxsIG9ubHkgaWYgY3R4LT5yZXN2IGlzIE5VTEwsIG90aGVyd2lzZSB3ZSB3b3Vs
ZCBvdmVyd3JpdGUgc29tZSANCnJlc2VydmF0aW9uIGNvbnRleHQgZ2l2ZW4gYnkgdGhlIGRyaXZl
ci4NCg0KUHJvYmFibHkgYmV0dGVyIHRvIGdpdmUgdGhlIGFjcXVpcl9jdHggYXMgc2VwYXJhdGUg
cGFyYW1ldGVyIHRvIA0KdHRtX21lbV9ldmljdF9maXJzdCgpLg0KDQpDaHJpc3RpYW4uDQoNCj4N
Cj4gLURhdmlkDQo+Pg0KPj4gQ2hyaXN0aWFuLg0KPj4NCj4+PiDCoMKgwqDCoMKgwqAgaW50IHJl
dDsNCj4+PiDCoMKgIMKgwqDCoMKgwqDCoCBkbyB7DQo+Pj4gQEAgLTkwNyw3ICs5ODcsNyBAQCBz
dGF0aWMgaW50IHR0bV9ib19tZW1fZm9yY2Vfc3BhY2Uoc3RydWN0IA0KPj4+IHR0bV9idWZmZXJf
b2JqZWN0ICpibywNCj4+PiDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIHJldHVybiByZXQ7
DQo+Pj4gwqDCoMKgwqDCoMKgwqDCoMKgwqAgaWYgKG1lbS0+bW1fbm9kZSkNCj4+PiDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgIGJyZWFrOw0KPj4+IC3CoMKgwqDCoMKgwqDCoCByZXQgPSB0
dG1fbWVtX2V2aWN0X2ZpcnN0KGJkZXYsIG1lbV90eXBlLCBwbGFjZSwgY3R4KTsNCj4+PiArwqDC
oMKgwqDCoMKgwqAgcmV0ID0gdHRtX21lbV9ldmljdF9maXJzdChiZGV2LCBtZW1fdHlwZSwgcGxh
Y2UsIGV2aWN0X2N0eCk7DQo+Pj4gwqDCoMKgwqDCoMKgwqDCoMKgwqAgaWYgKHVubGlrZWx5KHJl
dCAhPSAwKSkNCj4+PiDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIHJldHVybiByZXQ7DQo+
Pj4gwqDCoMKgwqDCoMKgIH0gd2hpbGUgKDEpOw0KPj4+IEBAIC0xNzg0LDcgKzE4NjQsOCBAQCBp
bnQgdHRtX2JvX3N3YXBvdXQoc3RydWN0IHR0bV9ib19nbG9iYWwgKmdsb2IsIA0KPj4+IHN0cnVj
dCB0dG1fb3BlcmF0aW9uX2N0eCAqY3R4KQ0KPj4+IMKgwqDCoMKgwqDCoCBzcGluX2xvY2soJmds
b2ItPmxydV9sb2NrKTsNCj4+PiDCoMKgwqDCoMKgwqAgZm9yIChpID0gMDsgaSA8IFRUTV9NQVhf
Qk9fUFJJT1JJVFk7ICsraSkgew0KPj4+IMKgwqDCoMKgwqDCoMKgwqDCoMKgIGxpc3RfZm9yX2Vh
Y2hfZW50cnkoYm8sICZnbG9iLT5zd2FwX2xydVtpXSwgc3dhcCkgew0KPj4+IC3CoMKgwqDCoMKg
wqDCoMKgwqDCoMKgIGlmICh0dG1fYm9fZXZpY3Rfc3dhcG91dF9hbGxvd2FibGUoYm8sIGN0eCwg
JmxvY2tlZCkpIHsNCj4+PiArwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBpZiAodHRtX2JvX2V2aWN0
X3N3YXBvdXRfYWxsb3dhYmxlKGJvLCBjdHgsICZsb2NrZWQsDQo+Pj4gK8KgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBOVUxMKSkgew0K
Pj4+IMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCByZXQgPSAwOw0KPj4+IMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBicmVhazsNCj4+PiDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgIH0NCj4NCg0KX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlz
dGluZm8vZHJpLWRldmVs
