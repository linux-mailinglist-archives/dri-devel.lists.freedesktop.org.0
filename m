Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id D6F53877ADF
	for <lists+dri-devel@lfdr.de>; Mon, 11 Mar 2024 07:23:58 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C479010E0C9;
	Mon, 11 Mar 2024 06:23:54 +0000 (UTC)
Authentication-Results: gabe.freedesktop.org;
	dkim=fail reason="key not found in DNS" (0-bit key; unprotected) header.d=ite.com.tw header.i=@ite.com.tw header.b="oEKfVs3D";
	dkim-atps=neutral
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from ironport.ite.com.tw (60-251-196-230.hinet-ip.hinet.net
 [60.251.196.230])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D39FF10E0C9
 for <dri-devel@lists.freedesktop.org>; Mon, 11 Mar 2024 06:23:50 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=ite.com.tw; s=dkim;
 h=from:to:cc:subject:date:message-id:references:
 in-reply-to:content-transfer-encoding:mime-version;
 bh=J77vapNj8pKkBjmHn3kK6SevoUW55fRcQjccfKM2LQw=;
 b=oEKfVs3DG+EfDzT+5qpeG8KTD5iIWWYUCVDzTgjV77cND+HYBr/KJLkz
 CVnqLASaevl1lzewB9IaIxnPic6maNXa4ZcaYrkv0CxB4Vg8UF4ZnIaJO
 N7GQMQr3URLJR7zCf3J2d88zU5WNn+ZX6qO8piEiyWzIjnDZd7G1FX8gt
 dk0c0SwHxRCCiqWUzmPu799ZEUBV5avFKGYFMjXUw/tahRLdStkcnLL0b
 fieZf14z4rvQSOKzPd4aKZ5bR/h2yvrCNHyop7IxnL8MrQblUmhRWZq9O
 gLFVROBb0t/3A06JH0CeoSnAG6j1z1dZMWxoBypPKR+UzJ8wo0CcBTe1w w==;
Received: from unknown (HELO mse.ite.com.tw) ([192.168.35.30])
 by ironport.ite.com.tw with ESMTP; 11 Mar 2024 14:23:48 +0800
Received: from CSBMAIL1.internal.ite.com.tw (CSBMAIL1.internal.ite.com.tw
 [192.168.65.58]) by mse.ite.com.tw with ESMTP id 42B6Ng4l035291;
 Mon, 11 Mar 2024 14:23:42 +0800 (GMT-8)
 (envelope-from kuro.chung@ite.com.tw)
Received: from CSBMAIL1.internal.ite.com.tw (192.168.65.58) by
 CSBMAIL1.internal.ite.com.tw (192.168.65.58) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id
 15.1.2507.35; Mon, 11 Mar 2024 14:23:42 +0800
Received: from CSBMAIL1.internal.ite.com.tw ([fe80::c9da:6689:2b22:a2d6]) by
 CSBMAIL1.internal.ite.com.tw ([fe80::c9da:6689:2b22:a2d6%3]) with mapi id
 15.01.2507.035; Mon, 11 Mar 2024 14:23:42 +0800
From: <kuro.chung@ite.com.tw>
To: <treapking@chromium.org>
CC: <allen.chen@ite.com.tw>, <Kenneth.Hung@ite.com.tw>,
 <kuro.chung@ite.corp-partner.google.com>, <andrzej.hajda@intel.com>,
 <neil.armstrong@linaro.org>, <rfoss@kernel.org>,
 <Laurent.pinchart@ideasonboard.com>, <jonas@kwiboo.se>,
 <jernej.skrabec@gmail.com>, <maarten.lankhorst@linux.intel.com>,
 <mripard@kernel.org>, <tzimmermann@suse.de>, <airlied@gmail.com>,
 <daniel@ffwll.ch>, <dri-devel@lists.freedesktop.org>,
 <linux-kernel@vger.kernel.org>
Subject: RE: [PATCH v4 1/1] drm/bridge: it6505: fix hibernate to resume no
 display issue
Thread-Topic: [PATCH v4 1/1] drm/bridge: it6505: fix hibernate to resume no
 display issue
Thread-Index: AQHacfEPSHH9ad2lwEK8fZpiBJbxCLEx2URQ
Date: Mon, 11 Mar 2024 06:23:41 +0000
Message-ID: <0a90f94e7f1f4b6ebb2ec1b3b8a3f05f@ite.com.tw>
References: <20240308090548.269625-1-kuro.chung@ite.com.tw>
 <20240308090548.269625-2-kuro.chung@ite.com.tw>
 <CAEXTbpemo3FDkOUf_3Wb0dbQxHKjP5OykdkkvK-xgHgqCR4pkQ@mail.gmail.com>
In-Reply-To: <CAEXTbpemo3FDkOUf_3Wb0dbQxHKjP5OykdkkvK-xgHgqCR4pkQ@mail.gmail.com>
Accept-Language: en-US
Content-Language: zh-TW
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [192.168.70.11]
x-tm-snts-smtp: 4049F96699DCAB84EB159C18A3F948D2E7F7F4880A8E1FCDC9ED43F3ED373CDD2002:8
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-MAIL: mse.ite.com.tw 42B6Ng4l035291
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgUGluLXllbiBMaW4sIA0KDQoxLiBXaGF0IHdvdWxkIGhhcHBlbiBpZiB3ZSByZW1vdmUgdGhl
IGxvb3AgYW5kIG9ubHkgY2hlY2sgdGhlIHZpZGVvIGVycm9yIGludGVycnVwdHMgb25jZT8gSWYg
YW5vdGhlciB2aWRlbyBlcnJvciBpbnRlcnJ1cHQgY29tZXMgb3V0LCB3ZSBoYW5kbGUgaXQgaW4g
dGhlIG5leHQgaW50ZXJydXB0IGhhbmRsZXIuIFdpbGwgdGhpcyBsZWFkIHRvIGFuIGluZmluaXRl
IGxvb3A/DQoNCjIuIFdoeSBkbyB3ZSBydW4gdGhlIGxvb3AgZm9yIDEwIHRpbWVzICgxMDBtcyBh
cyB5b3UgbWVudGlvbmVkKSwgYnV0IG5vdCA1IHRpbWVzIG9yIDIwIHRpbWVzPyBEb2VzIHRoaXMg
IjEwMG1zIiBjb21lIGZyb20gdGhlIGhhcmR3YXJlIHNwZWMgb3IgeW91ciBleHBlcmllbmNlIG9u
IGRlYnVnZ2luZyB0aGlzIGlzc3VlPyBJIGd1ZXNzIGl0J3Mgb2theSBpZiBpdCdzICJJIHRyaWVk
IGl0IGEgZmV3IHRpbWVzIGFuZCAxMDBtcyBzZWVtcyB0byBiZSBqdXN0IGVub3VnaCIsIGJ1dCBJ
IHdvdWxkIHByZWZlciB5b3UgdG8gd3JpdGUgdGhhdCBkb3duIGluIHRoZSBjb2RlIGNvbW1lbnRz
Lg0KDQogIC0+IFRoaXMgdmlkZW8gZXJyb3IgaW50ZXJydXB0IGxvb3AgaXNzdWUgaGFwcGVuIHdo
ZW4gc3lzdGVtIHNsZWVwIC0+cmVzdW1lIGFuZCBTT0MgdHVybiBvbiBEUEkgc2lnbmFsLg0KCVRo
ZSB2aWRlbyBzaWduYWwgbWlnaHQgYmUgc3RhYmxlIGltbWVkaWF0ZWx5LCBidXQgaW4gc29tZSBj
YXNlLCA2NTA1IHdpbGwgd2VudCBpbnRvIHZpZGVvIGVycm9yIGxvb3ANCglBbmQgbm90IG9ubHkg
dmlkZW8gRklGTyBlcnJvciBpbnRlcnJ1cHQsIGJ1dCBhbHNvIFNDRFQgaW50ZXJydXB0IGhhcHBl
bihTQ1REIG9uL29mZikuDQoJVGhlIFNDRCBpbnRlcnJ1cHQgd2lsbCBhbHNvIHRyaWdnZXIgbGlu
ayB0cmFpbmluZywgYW5kIHRoaXMgd2lsbCBjYXVzZSBtb3JlICJubyBkaXNwbGF5IGlzc3VlIiB3
aGVuIGNvbm5lY3QgY2VydGFpbiBUWUVQLUMgRFAgYWx0IG1vZGUgZG9ja2luZy4NCglXaGVuIHRl
c3RpbmcgYXQgdGhlIHBsYXRmb3JtIHdoaWNoIGhhdmUgdmlkZW8gbG9vcCBpc3N1ZSwgdGhlIHZp
ZGVvIGVycm9yIGxvb3AgaGFwcGVuIGluIGFib3V0IDEvMzUwKHNsZWVwL3Jlc3VtZSBsb29wKQ0K
CUFuZCA5MCUgY2FuIHN0YWJsZSBpbiAxMDBtcywgMTAlIG5lZWQgMTUwfjIwMG1zLiBzbyB3ZSB3
YWl0IDEwMG1zIGluIGxvb3AuCQ0KDQoNCi0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQpGcm9t
OiBQaW4teWVuIExpbiA8dHJlYXBraW5nQGNocm9taXVtLm9yZz4gDQpTZW50OiBTYXR1cmRheSwg
TWFyY2ggOSwgMjAyNCAzOjEyIFBNDQpUbzogS3VybyBDaHVuZyAo6ZCY5LuV5bu3KSA8a3Vyby5j
aHVuZ0BpdGUuY29tLnR3Pg0KQ2M6IEFsbGVuIENoZW4gPGFsbGVuLmNoZW5AaXRlLmNvbS50dz47
IEtlbm5ldGggSHVuZyAo5rSq5a625YCrKSA8S2VubmV0aC5IdW5nQGl0ZS5jb20udHc+OyBLdXJv
IENodW5nIDxrdXJvLmNodW5nQGl0ZS5jb3JwLXBhcnRuZXIuZ29vZ2xlLmNvbT47IEFuZHJ6ZWog
SGFqZGEgPGFuZHJ6ZWouaGFqZGFAaW50ZWwuY29tPjsgTmVpbCBBcm1zdHJvbmcgPG5laWwuYXJt
c3Ryb25nQGxpbmFyby5vcmc+OyBSb2JlcnQgRm9zcyA8cmZvc3NAa2VybmVsLm9yZz47IExhdXJl
bnQgUGluY2hhcnQgPExhdXJlbnQucGluY2hhcnRAaWRlYXNvbmJvYXJkLmNvbT47IEpvbmFzIEth
cmxtYW4gPGpvbmFzQGt3aWJvby5zZT47IEplcm5laiBTa3JhYmVjIDxqZXJuZWouc2tyYWJlY0Bn
bWFpbC5jb20+OyBNYWFydGVuIExhbmtob3JzdCA8bWFhcnRlbi5sYW5raG9yc3RAbGludXguaW50
ZWwuY29tPjsgTWF4aW1lIFJpcGFyZCA8bXJpcGFyZEBrZXJuZWwub3JnPjsgVGhvbWFzIFppbW1l
cm1hbm4gPHR6aW1tZXJtYW5uQHN1c2UuZGU+OyBEYXZpZCBBaXJsaWUgPGFpcmxpZWRAZ21haWwu
Y29tPjsgRGFuaWVsIFZldHRlciA8ZGFuaWVsQGZmd2xsLmNoPjsgb3BlbiBsaXN0OkRSTSBEUklW
RVJTIDxkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnPjsgb3BlbiBsaXN0IDxsaW51eC1r
ZXJuZWxAdmdlci5rZXJuZWwub3JnPg0KU3ViamVjdDogUmU6IFtQQVRDSCB2NCAxLzFdIGRybS9i
cmlkZ2U6IGl0NjUwNTogZml4IGhpYmVybmF0ZSB0byByZXN1bWUgbm8gZGlzcGxheSBpc3N1ZQ0K
DQpIaSBLdXJvLA0KDQpPbiBGcmksIE1hciA4LCAyMDI0IGF0IDQ6NTTigK9QTSBrdXJvIDxrdXJv
LmNodW5nQGl0ZS5jb20udHc+IHdyb3RlOg0KPg0KPiBGcm9tOiBLdXJvIDxrdXJvLmNodW5nQGl0
ZS5jb20udHc+DQo+DQo+IElURSBhZGRlZCBhIEZJRk8gcmVzZXQgYml0IGZvciBpbnB1dCB2aWRl
by4gV2hlbiBzeXN0ZW0gcG93ZXIgcmVzdW1lLCANCj4gdGhlIFRUTCBpbnB1dCBvZiBpdDY1MDUg
bWF5IGdldCBzb21lIG5vaXNlIGJlZm9yZSB2aWRlbyBzaWduYWwgc3RhYmxlIA0KPiBhbmQgdGhl
IGhhcmR3YXJlIGZ1bmN0aW9uIHJlc2V0IGlzIHJlcXVpcmVkLg0KPiBCdXQgdGhlIGlucHV0IEZJ
Rk8gcmVzZXQgd2lsbCBhbHNvIHRyaWdnZXIgZXJyb3IgaW50ZXJydXB0cyBvZiBvdXRwdXQgbW9k
dWxlIHJpc2luZy4NCj4gVGh1cywgaXQ2NTA1IGhhdmUgdG8gd2FpdCBhIHBlcmlvZCBjYW4gY2xl
YXIgdGhvc2UgZXhwZWN0ZWQgZXJyb3IgDQo+IGludGVycnVwdHMgY2F1c2VkIGJ5IG1hbnVhbCBo
YXJkd2FyZSByZXNldCBpbiBvbmUgaW50ZXJydXB0IGhhbmRsZXIgY2FsbGluZyB0byBhdm9pZCBp
bnRlcnJ1cHQgbG9vcGluZy4NCj4NCj4gU2lnbmVkLW9mZi1ieTogS3VybyBDaHVuZyA8a3Vyby5j
aHVuZ0BpdGUuY29ycC1wYXJ0bmVyLmdvb2dsZS5jb20+DQo+DQo+IC0tLQ0KPiAgZHJpdmVycy9n
cHUvZHJtL2JyaWRnZS9pdGUtaXQ2NTA1LmMgfCA1MCANCj4gKysrKysrKysrKysrKysrKysrKyst
LS0tLS0tLS0NCj4gIDEgZmlsZSBjaGFuZ2VkLCAzNSBpbnNlcnRpb25zKCspLCAxNSBkZWxldGlv
bnMoLSkNCj4NCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvaXRlLWl0NjUw
NS5jIA0KPiBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvaXRlLWl0NjUwNS5jDQo+IGluZGV4IGI1
M2RhOWJiNjVhMTYuLmVmZjg4OGZlN2MyZTcgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9icmlkZ2UvaXRlLWl0NjUwNS5jDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvaXRl
LWl0NjUwNS5jDQo+IEBAIC0xMzE4LDYgKzEzMTgsOCBAQCBzdGF0aWMgdm9pZCBpdDY1MDVfdmlk
ZW9fcmVzZXQoc3RydWN0IGl0NjUwNSAqaXQ2NTA1KQ0KPiAgICAgICAgIGl0NjUwNV9zZXRfYml0
cyhpdDY1MDUsIFJFR19EQVRBX01VVEVfQ1RSTCwgRU5fVklEX01VVEUsIEVOX1ZJRF9NVVRFKTsN
Cj4gICAgICAgICBpdDY1MDVfc2V0X2JpdHMoaXQ2NTA1LCBSRUdfSU5GT0ZSQU1FX0NUUkwsIEVO
X1ZJRF9DVFJMX1BLVCwgMHgwMCk7DQo+ICAgICAgICAgaXQ2NTA1X3NldF9iaXRzKGl0NjUwNSwg
UkVHX1JFU0VUX0NUUkwsIFZJREVPX1JFU0VULCANCj4gVklERU9fUkVTRVQpOw0KPiArICAgICAg
IGl0NjUwNV9zZXRfYml0cyhpdDY1MDUsIFJFR19WSURfQlVTX0NUUkwxLCBUWF9GSUZPX1JFU0VU
LCAweDAyKTsNCj4gKyAgICAgICBpdDY1MDVfc2V0X2JpdHMoaXQ2NTA1LCBSRUdfVklEX0JVU19D
VFJMMSwgVFhfRklGT19SRVNFVCwgDQo+ICsgMHgwMCk7DQo+ICAgICAgICAgaXQ2NTA1X3NldF9i
aXRzKGl0NjUwNSwgUkVHXzUwMV9GSUZPX0NUUkwsIFJTVF81MDFfRklGTywgUlNUXzUwMV9GSUZP
KTsNCj4gICAgICAgICBpdDY1MDVfc2V0X2JpdHMoaXQ2NTA1LCBSRUdfNTAxX0ZJRk9fQ1RSTCwg
UlNUXzUwMV9GSUZPLCAweDAwKTsNCj4gICAgICAgICBpdDY1MDVfc2V0X2JpdHMoaXQ2NTA1LCBS
RUdfUkVTRVRfQ1RSTCwgVklERU9fUkVTRVQsIDB4MDApOyBAQCANCj4gLTI0NzUsMzEgKzI0Nzcs
NDkgQEAgc3RhdGljIHZvaWQgaXQ2NTA1X2lycV9saW5rX3RyYWluX2ZhaWwoc3RydWN0IGl0NjUw
NSAqaXQ2NTA1KQ0KPiAgICAgICAgIHNjaGVkdWxlX3dvcmsoJml0NjUwNS0+bGlua193b3Jrcyk7
DQo+ICB9DQo+DQo+IC1zdGF0aWMgdm9pZCBpdDY1MDVfaXJxX3ZpZGVvX2ZpZm9fZXJyb3Ioc3Ry
dWN0IGl0NjUwNSAqaXQ2NTA1KQ0KPiArc3RhdGljIGJvb2wgaXQ2NTA1X3Rlc3RfYml0KHVuc2ln
bmVkIGludCBiaXQsIGNvbnN0IHVuc2lnbmVkIGludCANCj4gKyphZGRyKQ0KPiAgew0KPiAtICAg
ICAgIHN0cnVjdCBkZXZpY2UgKmRldiA9ICZpdDY1MDUtPmNsaWVudC0+ZGV2Ow0KPiArICAgICAg
IHJldHVybiAxICYgKGFkZHJbYml0IC8gQklUU19QRVJfQllURV0gPj4gKGJpdCAlIA0KPiArQklU
U19QRVJfQllURSkpOyB9DQo+DQo+IC0gICAgICAgRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAi
dmlkZW8gZmlmbyBvdmVyZmxvdyBpbnRlcnJ1cHQiKTsNCj4gLSAgICAgICBpdDY1MDUtPmF1dG9f
dHJhaW5fcmV0cnkgPSBBVVRPX1RSQUlOX1JFVFJZOw0KPiAtICAgICAgIGZsdXNoX3dvcmsoJml0
NjUwNS0+bGlua193b3Jrcyk7DQo+IC0gICAgICAgaXQ2NTA1X3N0b3BfaGRjcChpdDY1MDUpOw0K
PiAtICAgICAgIGl0NjUwNV92aWRlb19yZXNldChpdDY1MDUpOw0KPiArc3RhdGljIGJvb2wgaXQ2
NTA1X2lzX3ZpZGVvX2Vycm9yX2ludChjb25zdCBpbnQgKmludF9zdGF0dXMpIHsNCj4gKyAgICAg
ICBpZiAoKGl0NjUwNV90ZXN0X2JpdChCSVRfSU5UX1ZJRF9GSUZPX0VSUk9SLCAodW5zaWduZWQg
aW50ICopaW50X3N0YXR1cykpIHx8IChpdDY1MDVfdGVzdF9iaXQoQklUX0lOVF9JT19GSUZPX09W
RVJGTE9XLCAodW5zaWduZWQgaW50ICopaW50X3N0YXR1cykpKQ0KPiArICAgICAgICAgICAgICAg
cmV0dXJuIDE7DQo+ICsgICAgICAgcmV0dXJuIDA7DQo+ICB9DQo+DQo+IC1zdGF0aWMgdm9pZCBp
dDY1MDVfaXJxX2lvX2xhdGNoX2ZpZm9fb3ZlcmZsb3coc3RydWN0IGl0NjUwNSAqaXQ2NTA1KQ0K
PiArc3RhdGljIHZvaWQgaXQ2NTA1X2lycV92aWRlb19lcnJvcl9oYW5kbGVyKHN0cnVjdCBpdDY1
MDUgKml0NjUwNSkNCj4gIHsNCj4gICAgICAgICBzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmaXQ2NTA1
LT5jbGllbnQtPmRldjsNCj4gKyAgICAgICBpbnQgaW50X3N0YXR1c1szXSA9IHswfTsNCj4gKyAg
ICAgICBpbnQgcmVnXzBkOw0KPiArICAgICAgIGludCBpOw0KPg0KPiAtICAgICAgIERSTV9ERVZf
REVCVUdfRFJJVkVSKGRldiwgIklPIGxhdGNoIGZpZm8gb3ZlcmZsb3cgaW50ZXJydXB0Iik7DQo+
ICAgICAgICAgaXQ2NTA1LT5hdXRvX3RyYWluX3JldHJ5ID0gQVVUT19UUkFJTl9SRVRSWTsNCj4g
ICAgICAgICBmbHVzaF93b3JrKCZpdDY1MDUtPmxpbmtfd29ya3MpOw0KPiAgICAgICAgIGl0NjUw
NV9zdG9wX2hkY3AoaXQ2NTA1KTsNCj4gICAgICAgICBpdDY1MDVfdmlkZW9fcmVzZXQoaXQ2NTA1
KTsNCj4gLX0NCj4NCj4gLXN0YXRpYyBib29sIGl0NjUwNV90ZXN0X2JpdCh1bnNpZ25lZCBpbnQg
Yml0LCBjb25zdCB1bnNpZ25lZCBpbnQgDQo+ICphZGRyKSAtew0KPiAtICAgICAgIHJldHVybiAx
ICYgKGFkZHJbYml0IC8gQklUU19QRVJfQllURV0gPj4gKGJpdCAlIEJJVFNfUEVSX0JZVEUpKTsN
Cj4gKyAgICAgICBEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJWaWRlbyBFcnJvciByZXNldCB3
YWl0IHZpZGVvLi4uIik7DQo+ICsNCg0KSSBzdGlsbCBkb24ndCBzZWUgYW55IGNvZGUgY29tbWVu
dCBhcm91bmQgdGhlIGZvbGxvd2luZyBzZWN0aW9uLg0KDQo+ICsgICAgICAgZm9yIChpID0gMDsg
aSA8IDEwOyBpKyspIHsNCj4gKyAgICAgICAgICAgICAgIHVzbGVlcF9yYW5nZSgxMDAwMCwgMTEw
MDApOw0KPiArICAgICAgICAgICAgICAgaW50X3N0YXR1c1syXSA9IGl0NjUwNV9yZWFkKGl0NjUw
NSwgSU5UX1NUQVRVU18wMyk7DQo+ICsgICAgICAgICAgICAgICByZWdfMGQgPSBpdDY1MDVfcmVh
ZChpdDY1MDUsIFJFR19TWVNURU1fU1RTKTsNCj4gKyAgICAgICAgICAgICAgIGl0NjUwNV93cml0
ZShpdDY1MDUsIElOVF9TVEFUVVNfMDMsIGludF9zdGF0dXNbMl0pOw0KPiArDQo+ICsgICAgICAg
ICAgICAgICBEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJyZWcwOCA9IDB4JTAyeCIsIGludF9z
dGF0dXNbMl0pOw0KPiArICAgICAgICAgICAgICAgRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAi
cmVnMEQgPSAweCUwMngiLCByZWdfMGQpOw0KPiArDQo+ICsgICAgICAgICAgICAgICBpZiAoKHJl
Z18wZCAmIFZJREVPX1NUQikgJiYgKHJlZ18wZCA+PSAwKSkNCj4gKyAgICAgICAgICAgICAgICAg
ICAgICAgYnJlYWs7DQo+ICsNCj4gKyAgICAgICAgICAgICAgIGlmIChpdDY1MDVfaXNfdmlkZW9f
ZXJyb3JfaW50KGludF9zdGF0dXMpKSB7DQo+ICsgICAgICAgICAgICAgICAgICAgICAgIGl0NjUw
NV92aWRlb19yZXNldChpdDY1MDUpOw0KPiArICAgICAgICAgICAgICAgICAgICAgICBEUk1fREVW
X0RFQlVHX0RSSVZFUihkZXYsICJWaWRlbyBFcnJvciByZXNldCB3YWl0IHZpZGVvICglZCkiLCBp
KTsNCj4gKyAgICAgICAgICAgICAgIH0NCj4gKyAgICAgICB9DQoNCk9rYXkgbGV0IG1lIG1ha2Ug
dGhlIHF1ZXN0aW9ucyBtb3JlIHNwZWNpZmljOg0KDQoxLiBXaGF0IHdvdWxkIGhhcHBlbiBpZiB3
ZSByZW1vdmUgdGhlIGxvb3AgYW5kIG9ubHkgY2hlY2sgdGhlIHZpZGVvIGVycm9yIGludGVycnVw
dHMgb25jZT8gSWYgYW5vdGhlciB2aWRlbyBlcnJvciBpbnRlcnJ1cHQgY29tZXMgb3V0LCB3ZSBo
YW5kbGUgaXQgaW4gdGhlIG5leHQgaW50ZXJydXB0IGhhbmRsZXIuIFdpbGwgdGhpcyBsZWFkIHRv
IGFuIGluZmluaXRlIGxvb3A/DQoNCjIuIFdoeSBkbyB3ZSBydW4gdGhlIGxvb3AgZm9yIDEwIHRp
bWVzICgxMDBtcyBhcyB5b3UgbWVudGlvbmVkKSwgYnV0IG5vdCA1IHRpbWVzIG9yIDIwIHRpbWVz
PyBEb2VzIHRoaXMgIjEwMG1zIiBjb21lIGZyb20gdGhlIGhhcmR3YXJlIHNwZWMgb3IgeW91ciBl
eHBlcmllbmNlIG9uIGRlYnVnZ2luZyB0aGlzIGlzc3VlPyBJIGd1ZXNzIGl0J3Mgb2theSBpZiBp
dCdzICJJIHRyaWVkIGl0IGEgZmV3IHRpbWVzIGFuZCAxMDBtcyBzZWVtcyB0byBiZSBqdXN0IGVu
b3VnaCIsIGJ1dCBJIHdvdWxkIHByZWZlciB5b3UgdG8gd3JpdGUgdGhhdCBkb3duIGluIHRoZSBj
b2RlIGNvbW1lbnRzLg0KDQo+ICB9DQo+DQo+ICBzdGF0aWMgaXJxcmV0dXJuX3QgaXQ2NTA1X2lu
dF90aHJlYWRlZF9oYW5kbGVyKGludCB1bnVzZWQsIHZvaWQgDQo+ICpkYXRhKSBAQCAtMjUxOSw4
ICsyNTM5LDYgQEAgc3RhdGljIGlycXJldHVybl90IGl0NjUwNV9pbnRfdGhyZWFkZWRfaGFuZGxl
cihpbnQgdW51c2VkLCB2b2lkICpkYXRhKQ0KPiAgICAgICAgICAgICAgICAgeyBCSVRfSU5UX0hE
Q1BfS1NWX0NIRUNLLCBpdDY1MDVfaXJxX2hkY3Bfa3N2X2NoZWNrIH0sDQo+ICAgICAgICAgICAg
ICAgICB7IEJJVF9JTlRfQVVESU9fRklGT19FUlJPUiwgaXQ2NTA1X2lycV9hdWRpb19maWZvX2Vy
cm9yIH0sDQo+ICAgICAgICAgICAgICAgICB7IEJJVF9JTlRfTElOS19UUkFJTl9GQUlMLCBpdDY1
MDVfaXJxX2xpbmtfdHJhaW5fZmFpbCB9LA0KPiAtICAgICAgICAgICAgICAgeyBCSVRfSU5UX1ZJ
RF9GSUZPX0VSUk9SLCBpdDY1MDVfaXJxX3ZpZGVvX2ZpZm9fZXJyb3IgfSwNCj4gLSAgICAgICAg
ICAgICAgIHsgQklUX0lOVF9JT19GSUZPX09WRVJGTE9XLCBpdDY1MDVfaXJxX2lvX2xhdGNoX2Zp
Zm9fb3ZlcmZsb3cgfSwNCj4gICAgICAgICB9Ow0KPiAgICAgICAgIGludCBpbnRfc3RhdHVzWzNd
LCBpOw0KPg0KPiBAQCAtMjU1MCw2ICsyNTY4LDggQEAgc3RhdGljIGlycXJldHVybl90IGl0NjUw
NV9pbnRfdGhyZWFkZWRfaGFuZGxlcihpbnQgdW51c2VkLCB2b2lkICpkYXRhKQ0KPiAgICAgICAg
ICAgICAgICAgICAgICAgICBpZiAoaXQ2NTA1X3Rlc3RfYml0KGlycV92ZWNbaV0uYml0LCAodW5z
aWduZWQgaW50ICopaW50X3N0YXR1cykpDQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgaXJxX3ZlY1tpXS5oYW5kbGVyKGl0NjUwNSk7DQo+ICAgICAgICAgICAgICAgICB9DQo+ICsg
ICAgICAgICAgICAgICBpZiAoaXQ2NTA1X2lzX3ZpZGVvX2Vycm9yX2ludChpbnRfc3RhdHVzKSkN
Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgaXQ2NTA1X2lycV92aWRlb19lcnJvcl9oYW5kbGVy
KGl0NjUwNSk7DQo+ICAgICAgICAgfQ0KPg0KPiAgICAgICAgIHBtX3J1bnRpbWVfcHV0X3N5bmMo
ZGV2KTsNCj4gLS0NCj4gMi4yNS4xDQo+DQoNClJlZ2FyZHMsDQpQaW4teWVuDQo=
