Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 81BFDF2A74
	for <lists+dri-devel@lfdr.de>; Thu,  7 Nov 2019 10:21:15 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 851F26F3C1;
	Thu,  7 Nov 2019 09:21:13 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-oi1-x242.google.com (mail-oi1-x242.google.com
 [IPv6:2607:f8b0:4864:20::242])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 70CB76F3C1
 for <dri-devel@lists.freedesktop.org>; Thu,  7 Nov 2019 09:21:12 +0000 (UTC)
Received: by mail-oi1-x242.google.com with SMTP id l20so1329600oie.10
 for <dri-devel@lists.freedesktop.org>; Thu, 07 Nov 2019 01:21:12 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=wkB3pvaoHcK6PXHW0nWCS8Lh2+nquLI1yvQNZqFpQPk=;
 b=hhk5g+fSPKd/Myzzd+8u5oM00EEoiOqw566CeFY/s4ZPmbBuSxTx5qs4ovqqWrWut9
 gSWxQ0wcj5k7ZesaPnBjPRBsrRMpGRU7xGyGs2cEYmFx0xXKf97DHdc4F5yifM6Jv5QR
 lGbmLT+k0VpAM0rbl1nlk0+bc0rmFvmNqrVOX8uF2ZD49CvRTEOR+6wnxprE2z5Qc7Sh
 5F6QLGExDZdYrQzHHSU45iZiJXPxAeisvKUgEXOq6EW330q2Vcc1BlnYFP9SYzKBt2h1
 9FkherKr52oOVFySB0eLgsGvjpMz1HrOIS6jQzb1wcPCbq3q7Ac7uA2LHf0bwjTosaAh
 fmJg==
X-Gm-Message-State: APjAAAXdpEKVgyGoeQDCUQW2jC2Ucr1eW9PSe2u/788s6dtJsQQVvCXF
 Arblt6/oyh6313uVh7JLk7exTzzYH1Mpo793W023Tw==
X-Google-Smtp-Source: APXvYqxIkBEBL08bake34YGET4/0R5mjVOGAaPjKRRdr8cLeFYtUGIgONoCXyTa5eFKhgmHHK8pNPni+qNxcRFly/Iw=
X-Received: by 2002:aca:ead7:: with SMTP id i206mr2564450oih.128.1573118471472; 
 Thu, 07 Nov 2019 01:21:11 -0800 (PST)
MIME-Version: 1.0
References: <20191106094400.445834-1-paul.kocialkowski@bootlin.com>
 <20191106094400.445834-3-paul.kocialkowski@bootlin.com>
 <CAMeQTsa=SWXHt8ZvToa9x5qc6W29B6B4Ssvixs3nd-w=+dYGzA@mail.gmail.com>
 <20191107083140.GJ23790@phenom.ffwll.local>
 <CAMeQTsZ59B-h8TEyKnc03rz4-aXrAcx3wyWZqDG218Z1RxC5-w@mail.gmail.com>
In-Reply-To: <CAMeQTsZ59B-h8TEyKnc03rz4-aXrAcx3wyWZqDG218Z1RxC5-w@mail.gmail.com>
From: Daniel Vetter <daniel@ffwll.ch>
Date: Thu, 7 Nov 2019 10:20:59 +0100
Message-ID: <CAKMK7uEo92PA68fr7f3==Pyht7CMRrsukm_orQw1L3f9pztiUQ@mail.gmail.com>
Subject: Re: [PATCH 2/2] drm/gma500: Add page flip support on psb/cdv
To: Patrik Jakobsson <patrik.r.jakobsson@gmail.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=wkB3pvaoHcK6PXHW0nWCS8Lh2+nquLI1yvQNZqFpQPk=;
 b=j3OomyK+jeNw1lNFEhquq+zzugQtZzFFP8HdWu55GFkh0gMoLehyGbbN4976FiU+1S
 EzFd12d/LtzXmafMFECVDZQvHlxhJW9kMKc1vZMFrKaTTVQx9I+ABpDS1GITBrTGvdKQ
 9tdU8pW9+XfTkJjoEtH3fApEcfjCi+cFWKWSg=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: David Airlie <airlied@linux.ie>,
 linux-kernel <linux-kernel@vger.kernel.org>,
 dri-devel <dri-devel@lists.freedesktop.org>,
 Paul Kocialkowski <paul.kocialkowski@bootlin.com>,
 James Hilliard <james.hilliard1@gmail.com>,
 Thomas Petazzoni <thomas.petazzoni@bootlin.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVGh1LCBOb3YgNywgMjAxOSBhdCAxMDowOCBBTSBQYXRyaWsgSmFrb2Jzc29uCjxwYXRyaWsu
ci5qYWtvYnNzb25AZ21haWwuY29tPiB3cm90ZToKPgo+IE9uIFRodSwgTm92IDcsIDIwMTkgYXQg
OTozMSBBTSBEYW5pZWwgVmV0dGVyIDxkYW5pZWxAZmZ3bGwuY2g+IHdyb3RlOgo+ID4KPiA+IE9u
IFdlZCwgTm92IDA2LCAyMDE5IGF0IDA0OjI0OjU5UE0gKzAxMDAsIFBhdHJpayBKYWtvYnNzb24g
d3JvdGU6Cj4gPiA+IE9uIFdlZCwgTm92IDYsIDIwMTkgYXQgMTA6NDQgQU0gUGF1bCBLb2NpYWxr
b3dza2kKPiA+ID4gPHBhdWwua29jaWFsa293c2tpQGJvb3RsaW4uY29tPiB3cm90ZToKPiA+ID4g
Pgo+ID4gPiA+IExlZ2FjeSAobm9uLWF0b21pYykgcGFnZSBmbGlwIHN1cHBvcnQgaXMgYWRkZWQg
dG8gdGhlIGRyaXZlciBieSB1c2luZyB0aGUKPiA+ID4gPiBtb2RlX3NldF9iYXNlIENSVEMgZnVu
Y3Rpb24sIHRoYXQgYWxsb3dzIGNvbmZpZ3VyaW5nIGEgbmV3IGZyYW1lYnVmZmVyIGZvcgo+ID4g
PiA+IGRpc3BsYXkuIFNpbmNlIHRoZSBmdW5jdGlvbiByZXF1aXJlcyB0aGUgcHJpbWFyeSBwbGFu
ZSdzIGZiIHRvIGJlIHNldAo+ID4gPiA+IGFscmVhZHksIHRoaXMgaXMgZG9uZSBwcmlvciB0byBj
YWxsaW5nIHRoZSBmdW5jdGlvbiBpbiB0aGUgcGFnZSBmbGlwIGhlbHBlcgo+ID4gPiA+IGFuZCBy
ZXZlcnRlZCBpZiB0aGUgZmxpcCBmYWlscy4KPiA+ID4gPgo+ID4gPiA+IFRoZSB2YmxhbmsgaW50
ZXJydXB0IGhhbmRsZXIgaXMgYWxzbyByZWZhY3RvcmVkIHRvIHN1cHBvcnQgcGFzc2luZyBhbiBl
dmVudC4KPiA+ID4gPiBUaGUgUElQRV9URV9TVEFUVVMgYml0IGlzIGFsc28gY29uc2lkZXJlZCB0
byBpbmRpY2F0ZSB2Ymxhbmsgb24gbWVkZmllbGQKPiA+ID4gPiBvbmx5LCBhcyBleHBsYWluZWQg
aW4gcHNiX2VuYWJsZV92YmxhbmsuCj4gPiA+ID4KPiA+ID4gPiBJdCB3YXMgdGVzdGVkIGJ5IHJ1
bm5pbmcgd2VzdG9uIG9uIGJvdGggcG91bHNibyBhbmQgY2VkYXJ0cmFpbC4KPiA+ID4gPgo+ID4g
PiA+IFNpZ25lZC1vZmYtYnk6IFBhdWwgS29jaWFsa293c2tpIDxwYXVsLmtvY2lhbGtvd3NraUBi
b290bGluLmNvbT4KPiA+ID4gPiAtLS0KPiA+ID4gPiAgZHJpdmVycy9ncHUvZHJtL2dtYTUwMC9j
ZHZfaW50ZWxfZGlzcGxheS5jIHwgIDEgKwo+ID4gPiA+ICBkcml2ZXJzL2dwdS9kcm0vZ21hNTAw
L2dtYV9kaXNwbGF5LmMgICAgICAgfCA0NiArKysrKysrKysrKysrKysrKysrKysrCj4gPiA+ID4g
IGRyaXZlcnMvZ3B1L2RybS9nbWE1MDAvZ21hX2Rpc3BsYXkuaCAgICAgICB8ICA2ICsrKwo+ID4g
PiA+ICBkcml2ZXJzL2dwdS9kcm0vZ21hNTAwL3BzYl9pbnRlbF9kaXNwbGF5LmMgfCAgMSArCj4g
PiA+ID4gIGRyaXZlcnMvZ3B1L2RybS9nbWE1MDAvcHNiX2ludGVsX2Rydi5oICAgICB8ICAzICsr
Cj4gPiA+ID4gIGRyaXZlcnMvZ3B1L2RybS9nbWE1MDAvcHNiX2lycS5jICAgICAgICAgICB8IDE4
ICsrKysrKystLQo+ID4gPiA+ICA2IGZpbGVzIGNoYW5nZWQsIDcyIGluc2VydGlvbnMoKyksIDMg
ZGVsZXRpb25zKC0pCj4gPiA+ID4KPiA+ID4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2dtYTUwMC9jZHZfaW50ZWxfZGlzcGxheS5jIGIvZHJpdmVycy9ncHUvZHJtL2dtYTUwMC9jZHZf
aW50ZWxfZGlzcGxheS5jCj4gPiA+ID4gaW5kZXggOGI3ODQ5NDdlZDNiLi43MTA5ZDNkMTliZTAg
MTAwNjQ0Cj4gPiA+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2dtYTUwMC9jZHZfaW50ZWxfZGlz
cGxheS5jCj4gPiA+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2dtYTUwMC9jZHZfaW50ZWxfZGlz
cGxheS5jCj4gPiA+ID4gQEAgLTk3OSw2ICs5NzksNyBAQCBjb25zdCBzdHJ1Y3QgZHJtX2NydGNf
ZnVuY3MgY2R2X2ludGVsX2NydGNfZnVuY3MgPSB7Cj4gPiA+ID4gICAgICAgICAuZ2FtbWFfc2V0
ID0gZ21hX2NydGNfZ2FtbWFfc2V0LAo+ID4gPiA+ICAgICAgICAgLnNldF9jb25maWcgPSBnbWFf
Y3J0Y19zZXRfY29uZmlnLAo+ID4gPiA+ICAgICAgICAgLmRlc3Ryb3kgPSBnbWFfY3J0Y19kZXN0
cm95LAo+ID4gPiA+ICsgICAgICAgLnBhZ2VfZmxpcCA9IGdtYV9jcnRjX3BhZ2VfZmxpcCwKPiA+
ID4gPiAgfTsKPiA+ID4gPgo+ID4gPiA+ICBjb25zdCBzdHJ1Y3QgZ21hX2Nsb2NrX2Z1bmNzIGNk
dl9jbG9ja19mdW5jcyA9IHsKPiA+ID4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2dt
YTUwMC9nbWFfZGlzcGxheS5jIGIvZHJpdmVycy9ncHUvZHJtL2dtYTUwMC9nbWFfZGlzcGxheS5j
Cj4gPiA+ID4gaW5kZXggYmMwN2FlMmE5YTFkLi4xN2YxMzY5ODVkMjEgMTAwNjQ0Cj4gPiA+ID4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2dtYTUwMC9nbWFfZGlzcGxheS5jCj4gPiA+ID4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2dtYTUwMC9nbWFfZGlzcGxheS5jCj4gPiA+ID4gQEAgLTUwMyw2ICs1
MDMsNTIgQEAgdm9pZCBnbWFfY3J0Y19kZXN0cm95KHN0cnVjdCBkcm1fY3J0YyAqY3J0YykKPiA+
ID4gPiAgICAgICAgIGtmcmVlKGdtYV9jcnRjKTsKPiA+ID4gPiAgfQo+ID4gPiA+Cj4gPiA+ID4g
K2ludCBnbWFfY3J0Y19wYWdlX2ZsaXAoc3RydWN0IGRybV9jcnRjICpjcnRjLAo+ID4gPiA+ICsg
ICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGRybV9mcmFtZWJ1ZmZlciAqZmIsCj4gPiA+ID4g
KyAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgZHJtX3BlbmRpbmdfdmJsYW5rX2V2ZW50ICpl
dmVudCwKPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgIHVpbnQzMl90IHBhZ2VfZmxpcF9m
bGFncywKPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkcm1fbW9kZXNldF9h
Y3F1aXJlX2N0eCAqY3R4KQo+ID4gPiA+ICt7Cj4gPiA+ID4gKyAgICAgICBzdHJ1Y3QgZ21hX2Ny
dGMgKmdtYV9jcnRjID0gdG9fZ21hX2NydGMoY3J0Yyk7Cj4gPiA+ID4gKyAgICAgICBzdHJ1Y3Qg
ZHJtX2ZyYW1lYnVmZmVyICpjdXJyZW50X2ZiID0gY3J0Yy0+cHJpbWFyeS0+ZmI7Cj4gPiA+ID4g
KyAgICAgICBzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpvbGRfZmIgPSBjcnRjLT5wcmltYXJ5LT5v
bGRfZmI7Cj4gPiA+ID4gKyAgICAgICBjb25zdCBzdHJ1Y3QgZHJtX2NydGNfaGVscGVyX2Z1bmNz
ICpjcnRjX2Z1bmNzID0gY3J0Yy0+aGVscGVyX3ByaXZhdGU7Cj4gPiA+ID4gKyAgICAgICBzdHJ1
Y3QgZHJtX2RldmljZSAqZGV2ID0gY3J0Yy0+ZGV2Owo+ID4gPiA+ICsgICAgICAgdW5zaWduZWQg
bG9uZyBmbGFnczsKPiA+ID4gPiArICAgICAgIGludCByZXQ7Cj4gPiA+ID4gKwo+ID4gPiA+ICsg
ICAgICAgaWYgKCFjcnRjX2Z1bmNzLT5tb2RlX3NldF9iYXNlKQo+ID4gPiA+ICsgICAgICAgICAg
ICAgICByZXR1cm4gLUVJTlZBTDsKPiA+ID4gPiArCj4gPiA+ID4gKyAgICAgICAvKiBVc2luZyBt
b2RlX3NldF9iYXNlIHJlcXVpcmVzIHRoZSBuZXcgZmIgdG8gYmUgc2V0IGFscmVhZHkuICovCj4g
PiA+ID4gKyAgICAgICBjcnRjLT5wcmltYXJ5LT5mYiA9IGZiOwo+ID4gPiA+ICsKPiA+ID4gPiAr
ICAgICAgIGlmIChldmVudCkgewo+ID4gPiA+ICsgICAgICAgICAgICAgICBzcGluX2xvY2tfaXJx
c2F2ZSgmZGV2LT5ldmVudF9sb2NrLCBmbGFncyk7Cj4gPiA+ID4gKwo+ID4gPiA+ICsgICAgICAg
ICAgICAgICBXQVJOX09OKGRybV9jcnRjX3ZibGFua19nZXQoY3J0YykgIT0gMCk7Cj4gPiA+ID4g
Kwo+ID4gPiA+ICsgICAgICAgICAgICAgICBnbWFfY3J0Yy0+cGFnZV9mbGlwX2V2ZW50ID0gZXZl
bnQ7Cj4gPiA+ID4gKwo+ID4gPiA+ICsgICAgICAgICAgICAgICAvKiBDYWxsIHRoaXMgbG9ja2Vk
IGlmIHdlIHdhbnQgYW4gZXZlbnQgYXQgdmJsYW5rIGludGVycnVwdC4gKi8KPiA+ID4gPiArICAg
ICAgICAgICAgICAgcmV0ID0gY3J0Y19mdW5jcy0+bW9kZV9zZXRfYmFzZShjcnRjLCBjcnRjLT54
LCBjcnRjLT55LCBvbGRfZmIpOwo+ID4gPiA+ICsgICAgICAgICAgICAgICBpZiAocmV0KSB7Cj4g
PiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgZ21hX2NydGMtPnBhZ2VfZmxpcF9ldmVudCA9
IE5VTEw7Cj4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgZHJtX2NydGNfdmJsYW5rX3B1
dChjcnRjKTsKPiA+ID4gPiArICAgICAgICAgICAgICAgfQo+ID4gPiA+ICsKPiA+ID4gPiArICAg
ICAgICAgICAgICAgc3Bpbl91bmxvY2tfaXJxcmVzdG9yZSgmZGV2LT5ldmVudF9sb2NrLCBmbGFn
cyk7Cj4gPiA+ID4gKyAgICAgICB9IGVsc2Ugewo+ID4gPiA+ICsgICAgICAgICAgICAgICByZXQg
PSBjcnRjX2Z1bmNzLT5tb2RlX3NldF9iYXNlKGNydGMsIGNydGMtPngsIGNydGMtPnksIG9sZF9m
Yik7Cj4gPiA+ID4gKyAgICAgICB9Cj4gPiA+ID4gKwo+ID4gPiA+ICsgICAgICAgLyogUmVzdG9y
ZSBwcmV2aW91cyBmYiBpbiBjYXNlIG9mIGZhaWx1cmUuICovCj4gPiA+ID4gKyAgICAgICBpZiAo
cmV0KQo+ID4gPiA+ICsgICAgICAgICAgICAgICBjcnRjLT5wcmltYXJ5LT5mYiA9IGN1cnJlbnRf
ZmI7Cj4gPiA+ID4gKwo+ID4gPiA+ICsgICAgICAgcmV0dXJuIHJldDsKPiA+ID4gPiArfQo+ID4g
PiA+ICsKPiA+ID4gPiAgaW50IGdtYV9jcnRjX3NldF9jb25maWcoc3RydWN0IGRybV9tb2RlX3Nl
dCAqc2V0LAo+ID4gPiA+ICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkcm1fbW9kZXNl
dF9hY3F1aXJlX2N0eCAqY3R4KQo+ID4gPiA+ICB7Cj4gPiA+ID4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9nbWE1MDAvZ21hX2Rpc3BsYXkuaCBiL2RyaXZlcnMvZ3B1L2RybS9nbWE1MDAv
Z21hX2Rpc3BsYXkuaAo+ID4gPiA+IGluZGV4IGZkYmQ3ZWNhYTU5Yy4uN2JkNmMxZWU4YjIxIDEw
MDY0NAo+ID4gPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9nbWE1MDAvZ21hX2Rpc3BsYXkuaAo+
ID4gPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9nbWE1MDAvZ21hX2Rpc3BsYXkuaAo+ID4gPiA+
IEBAIC0xMSw2ICsxMSw3IEBACj4gPiA+ID4gICNkZWZpbmUgX0dNQV9ESVNQTEFZX0hfCj4gPiA+
ID4KPiA+ID4gPiAgI2luY2x1ZGUgPGxpbnV4L3BtX3J1bnRpbWUuaD4KPiA+ID4gPiArI2luY2x1
ZGUgPGRybS9kcm1fdmJsYW5rLmg+Cj4gPiA+ID4KPiA+ID4gPiAgc3RydWN0IGRybV9lbmNvZGVy
Owo+ID4gPiA+ICBzdHJ1Y3QgZHJtX21vZGVfc2V0Owo+ID4gPiA+IEBAIC03MSw2ICs3MiwxMSBA
QCBleHRlcm4gdm9pZCBnbWFfY3J0Y19wcmVwYXJlKHN0cnVjdCBkcm1fY3J0YyAqY3J0Yyk7Cj4g
PiA+ID4gIGV4dGVybiB2b2lkIGdtYV9jcnRjX2NvbW1pdChzdHJ1Y3QgZHJtX2NydGMgKmNydGMp
Owo+ID4gPiA+ICBleHRlcm4gdm9pZCBnbWFfY3J0Y19kaXNhYmxlKHN0cnVjdCBkcm1fY3J0YyAq
Y3J0Yyk7Cj4gPiA+ID4gIGV4dGVybiB2b2lkIGdtYV9jcnRjX2Rlc3Ryb3koc3RydWN0IGRybV9j
cnRjICpjcnRjKTsKPiA+ID4gPiArZXh0ZXJuIGludCBnbWFfY3J0Y19wYWdlX2ZsaXAoc3RydWN0
IGRybV9jcnRjICpjcnRjLAo+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0
cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZiLAo+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHN0cnVjdCBkcm1fcGVuZGluZ192YmxhbmtfZXZlbnQgKmV2ZW50LAo+ID4gPiA+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQzMl90IHBhZ2VfZmxpcF9mbGFncywKPiA+
ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgZHJtX21vZGVzZXRfYWNx
dWlyZV9jdHggKmN0eCk7Cj4gPiA+ID4gIGV4dGVybiBpbnQgZ21hX2NydGNfc2V0X2NvbmZpZyhz
dHJ1Y3QgZHJtX21vZGVfc2V0ICpzZXQsCj4gPiA+ID4gICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHN0cnVjdCBkcm1fbW9kZXNldF9hY3F1aXJlX2N0eCAqY3R4KTsKPiA+ID4gPgo+ID4g
PiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vZ21hNTAwL3BzYl9pbnRlbF9kaXNwbGF5
LmMgYi9kcml2ZXJzL2dwdS9kcm0vZ21hNTAwL3BzYl9pbnRlbF9kaXNwbGF5LmMKPiA+ID4gPiBp
bmRleCA0MjU2NDEwNTM1ZjAuLmZlZDNiNTYzZTYyZSAxMDA2NDQKPiA+ID4gPiAtLS0gYS9kcml2
ZXJzL2dwdS9kcm0vZ21hNTAwL3BzYl9pbnRlbF9kaXNwbGF5LmMKPiA+ID4gPiArKysgYi9kcml2
ZXJzL2dwdS9kcm0vZ21hNTAwL3BzYl9pbnRlbF9kaXNwbGF5LmMKPiA+ID4gPiBAQCAtNDMyLDYg
KzQzMiw3IEBAIGNvbnN0IHN0cnVjdCBkcm1fY3J0Y19mdW5jcyBwc2JfaW50ZWxfY3J0Y19mdW5j
cyA9IHsKPiA+ID4gPiAgICAgICAgIC5nYW1tYV9zZXQgPSBnbWFfY3J0Y19nYW1tYV9zZXQsCj4g
PiA+ID4gICAgICAgICAuc2V0X2NvbmZpZyA9IGdtYV9jcnRjX3NldF9jb25maWcsCj4gPiA+ID4g
ICAgICAgICAuZGVzdHJveSA9IGdtYV9jcnRjX2Rlc3Ryb3ksCj4gPiA+ID4gKyAgICAgICAucGFn
ZV9mbGlwID0gZ21hX2NydGNfcGFnZV9mbGlwLAo+ID4gPiA+ICB9Owo+ID4gPiA+Cj4gPiA+ID4g
IGNvbnN0IHN0cnVjdCBnbWFfY2xvY2tfZnVuY3MgcHNiX2Nsb2NrX2Z1bmNzID0gewo+ID4gPiA+
IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vZ21hNTAwL3BzYl9pbnRlbF9kcnYuaCBiL2Ry
aXZlcnMvZ3B1L2RybS9nbWE1MDAvcHNiX2ludGVsX2Rydi5oCj4gPiA+ID4gaW5kZXggY2RmMTAz
MzNkMWMyLi4xNmM2MTM2Zjc3OGIgMTAwNjQ0Cj4gPiA+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2dtYTUwMC9wc2JfaW50ZWxfZHJ2LmgKPiA+ID4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vZ21h
NTAwL3BzYl9pbnRlbF9kcnYuaAo+ID4gPiA+IEBAIC0xMiw2ICsxMiw3IEBACj4gPiA+ID4gICNp
bmNsdWRlIDxkcm0vZHJtX2NydGNfaGVscGVyLmg+Cj4gPiA+ID4gICNpbmNsdWRlIDxkcm0vZHJt
X2VuY29kZXIuaD4KPiA+ID4gPiAgI2luY2x1ZGUgPGRybS9kcm1fcHJvYmVfaGVscGVyLmg+Cj4g
PiA+ID4gKyNpbmNsdWRlIDxkcm0vZHJtX3ZibGFuay5oPgo+ID4gPiA+ICAjaW5jbHVkZSA8bGlu
dXgvZ3Bpby5oPgo+ID4gPiA+ICAjaW5jbHVkZSAiZ21hX2Rpc3BsYXkuaCIKPiA+ID4gPgo+ID4g
PiA+IEBAIC0xODIsNiArMTgzLDggQEAgc3RydWN0IGdtYV9jcnRjIHsKPiA+ID4gPiAgICAgICAg
IHN0cnVjdCBwc2JfaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZTsKPiA+ID4gPgo+ID4gPiA+
ICAgICAgICAgY29uc3Qgc3RydWN0IGdtYV9jbG9ja19mdW5jcyAqY2xvY2tfZnVuY3M7Cj4gPiA+
ID4gKwo+ID4gPiA+ICsgICAgICAgc3RydWN0IGRybV9wZW5kaW5nX3ZibGFua19ldmVudCAqcGFn
ZV9mbGlwX2V2ZW50Owo+ID4gPiA+ICB9Owo+ID4gPiA+Cj4gPiA+ID4gICNkZWZpbmUgdG9fZ21h
X2NydGMoeCkgXAo+ID4gPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vZ21hNTAwL3Bz
Yl9pcnEuYyBiL2RyaXZlcnMvZ3B1L2RybS9nbWE1MDAvcHNiX2lycS5jCj4gPiA+ID4gaW5kZXgg
ZTYyNjVmYjg1NjI2Li5mNzg3YTUxZjYzMzUgMTAwNjQ0Cj4gPiA+ID4gLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2dtYTUwMC9wc2JfaXJxLmMKPiA+ID4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vZ21h
NTAwL3BzYl9pcnEuYwo+ID4gPiA+IEBAIC0xNjUsMTEgKzE2NSwyMyBAQCBzdGF0aWMgdm9pZCBt
aWRfcGlwZV9ldmVudF9oYW5kbGVyKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIGludCBwaXBlKQo+
ID4gPiA+ICAgICAgICAgICAgICAgICAiJXMsIGNhbid0IGNsZWFyIHN0YXR1cyBiaXRzIGZvciBw
aXBlICVkLCBpdHMgdmFsdWUgPSAweCV4LlxuIiwKPiA+ID4gPiAgICAgICAgICAgICAgICAgX19m
dW5jX18sIHBpcGUsIFBTQl9SVkRDMzIocGlwZV9zdGF0X3JlZykpOwo+ID4gPiA+Cj4gPiA+ID4g
LSAgICAgICBpZiAocGlwZV9zdGF0X3ZhbCAmIFBJUEVfVkJMQU5LX1NUQVRVUykKPiA+ID4gPiAt
ICAgICAgICAgICAgICAgZHJtX2hhbmRsZV92YmxhbmsoZGV2LCBwaXBlKTsKPiA+ID4gPiArICAg
ICAgIGlmIChwaXBlX3N0YXRfdmFsICYgUElQRV9WQkxBTktfU1RBVFVTIHx8Cj4gPiA+ID4gKyAg
ICAgICAgICAgKElTX01GTEQoZGV2KSAmJiBwaXBlX3N0YXRfdmFsICYgUElQRV9URV9TVEFUVVMp
KSB7Cj4gPiA+ID4gKyAgICAgICAgICAgICAgIHN0cnVjdCBkcm1fY3J0YyAqY3J0YyA9IGRybV9j
cnRjX2Zyb21faW5kZXgoZGV2LCBwaXBlKTsKPiA+ID4gPiArICAgICAgICAgICAgICAgc3RydWN0
IGdtYV9jcnRjICpnbWFfY3J0YyA9IHRvX2dtYV9jcnRjKGNydGMpOwo+ID4gPiA+ICsgICAgICAg
ICAgICAgICB1bnNpZ25lZCBsb25nIGZsYWdzOwo+ID4gPiA+Cj4gPiA+ID4gLSAgICAgICBpZiAo
cGlwZV9zdGF0X3ZhbCAmIFBJUEVfVEVfU1RBVFVTKQo+ID4gPiA+ICAgICAgICAgICAgICAgICBk
cm1faGFuZGxlX3ZibGFuayhkZXYsIHBpcGUpOwo+ID4gPiA+ICsKPiA+ID4gPiArICAgICAgICAg
ICAgICAgc3Bpbl9sb2NrX2lycXNhdmUoJmRldi0+ZXZlbnRfbG9jaywgZmxhZ3MpOwo+ID4gPiA+
ICsgICAgICAgICAgICAgICBpZiAoZ21hX2NydGMtPnBhZ2VfZmxpcF9ldmVudCkgewo+ID4gPiA+
ICsgICAgICAgICAgICAgICAgICAgICAgIGRybV9jcnRjX3NlbmRfdmJsYW5rX2V2ZW50KGNydGMs
Cj4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgZ21hX2NydGMtPnBhZ2VfZmxpcF9ldmVudCk7Cj4gPiA+ID4gKyAgICAgICAgICAgICAgICAg
ICAgICAgZ21hX2NydGMtPnBhZ2VfZmxpcF9ldmVudCA9IE5VTEw7Cj4gPiA+ID4gKyAgICAgICAg
ICAgICAgICAgICAgICAgZHJtX2NydGNfdmJsYW5rX3B1dChjcnRjKTsKPiA+ID4gPiArICAgICAg
ICAgICAgICAgfQo+ID4gPiA+ICsgICAgICAgICAgICAgICBzcGluX3VubG9ja19pcnFyZXN0b3Jl
KCZkZXYtPmV2ZW50X2xvY2ssIGZsYWdzKTsKPiA+ID4gPiArICAgICAgIH0KPiA+ID4gPiAgfQo+
ID4gPiA+Cj4gPiA+ID4gIC8qCj4gPiA+ID4gLS0KPiA+ID4gPiAyLjIzLjAKPiA+ID4gPgo+ID4g
Pgo+ID4gPiBMb29rcyBnb29kIQo+ID4gPgo+ID4gPiBSZXZpZXdlZC1ieTogUGF0cmlrIEpha29i
c3NvbiA8cGF0cmlrLnIuamFrb2Jzc29uQGdtYWlsLmNvbT4KPiA+Cj4gPiBJJ20gYXNzdW1pbmcg
eW91J2xsIGFsc28gcHVzaCB0aGVzZT8KPiA+Cj4gPiBBbHdheXMgY29uZnVzaW5nIHdoZW4gbWFp
bnRhaW5lci9jb21taXR0ZXJzIHItYiBidXQgZG9uJ3Qgc2F5IGFueXRoaW5nCj4gPiBhYm91dCBw
dXNoaW5nIHRoZSBwYXRjaC4gR29vZCBjaGFuY2VzIGl0J2xsIGZhbGwgdGhyb3VnaCBjcmFja3Mg
aWYgdGhhdAo+ID4gaGFwcGVucy4KPiA+IC1EYW5pZWwKPgo+IEFoIHNvcnJ5LCBJIGFsc28gZmlu
ZCBpdCBjb25mdXNpbmcuIEknbGwgcHVzaCB0aGVzZS4KClRoYW5rcy4KCkFsc28gZm9yIGEgcXVp
Y2sgY2hlY2sgd2hldGhlciBzb21lb25lIGlzIGNvbW1pdHRlciBvciBub3Q6Cmh0dHBzOi8vcGVv
cGxlLmZyZWVkZXNrdG9wLm9yZy9+c2VhbnBhdWwvd2hvbWlzYy5odG1sCgpPbmNlIHdlJ3JlIG9u
IGdpdGxhYiBpdCBzaG91bGQgYmUgYSBsb3QgZWFzaWVyIHNpbmNlIHRoZSBsaXN0IG9mCmNvbW1p
dHRlcnMgaXMgYWxsIHRoZXJlIGluIHRoZSB3ZWIgdWkuCi1EYW5pZWwKCj4KPiAtUGF0cmlrCj4K
PiA+IC0tCj4gPiBEYW5pZWwgVmV0dGVyCj4gPiBTb2Z0d2FyZSBFbmdpbmVlciwgSW50ZWwgQ29y
cG9yYXRpb24KPiA+IGh0dHA6Ly9ibG9nLmZmd2xsLmNoCgoKCi0tIApEYW5pZWwgVmV0dGVyClNv
ZnR3YXJlIEVuZ2luZWVyLCBJbnRlbCBDb3Jwb3JhdGlvbgorNDEgKDApIDc5IDM2NSA1NyA0OCAt
IGh0dHA6Ly9ibG9nLmZmd2xsLmNoCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVk
ZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZv
L2RyaS1kZXZlbA==
