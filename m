Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id A568F1B75FF
	for <lists+dri-devel@lfdr.de>; Fri, 24 Apr 2020 14:54:41 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0EE6A89D63;
	Fri, 24 Apr 2020 12:54:35 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga17.intel.com (mga17.intel.com [192.55.52.151])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 408C789D5F;
 Fri, 24 Apr 2020 12:54:33 +0000 (UTC)
IronPort-SDR: 3eanGcRWil6M62QXevqIg5POs4mRRZYsn87lrjEKfpx2J1LlYr4s9ni+pk1p5QkLZh3Jfj/7eI
 2XsKtW8wNtnw==
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga005.jf.intel.com ([10.7.209.41])
 by fmsmga107.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 24 Apr 2020 05:54:32 -0700
IronPort-SDR: NEJdMHHc3ZD2gZXb5oHGzeYKdjBpKsHUIYjcRZ47RaXAbIijC06oakr1NT+8mNvOiG5mKQ9vTJ
 qh40wOeSl29Q==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.73,311,1583222400"; d="scan'208";a="430756381"
Received: from unknown (HELO jeevan-desktop.iind.intel.com) ([10.223.74.85])
 by orsmga005.jf.intel.com with ESMTP; 24 Apr 2020 05:54:29 -0700
From: Jeevan B <jeevan.b@intel.com>
To: dri-devel@lists.freedesktop.org,
	intel-gfx@lists.freedesktop.org
Subject: [PATCH 4/5] drm/amdgpu: utilize subconnector property for DP through
 atombios
Date: Fri, 24 Apr 2020 18:20:54 +0530
Message-Id: <1587732655-17544-4-git-send-email-jeevan.b@intel.com>
X-Mailer: git-send-email 2.7.4
In-Reply-To: <1587732655-17544-1-git-send-email-jeevan.b@intel.com>
References: <1587732655-17544-1-git-send-email-jeevan.b@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: jani.nikula@intel.com, Oleg Vasilev <oleg.vasilev@intel.com>,
 amd-gfx@lists.freedesktop.org, Jeevan B <jeevan.b@intel.com>,
 uma.shankar@intel.com, Alex Deucher <alexander.deucher@amd.com>,
 =?UTF-8?q?Christian=20K=C3=B6nig?= <christian.koenig@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogT2xlZyBWYXNpbGV2IDxvbGVnLnZhc2lsZXZAaW50ZWwuY29tPgoKU2luY2UgRFAtc3Bl
Y2lmaWMgaW5mb3JtYXRpb24gaXMgc3RvcmVkIGluIGRyaXZlcidzIHN0cnVjdHVyZXMsIGV2ZXJ5
CmRyaXZlciBuZWVkcyB0byBpbXBsZW1lbnQgc3ViY29ubmVjdG9yIHByb3BlcnR5IGJ5IGl0c2Vs
Zi4KCnYyOiByZWJhc2UKCnYzOiByZW5hbWVkIGEgZnVuY3Rpb24gY2FsbAoKQ2M6IEFsZXggRGV1
Y2hlciA8YWxleGFuZGVyLmRldWNoZXJAYW1kLmNvbT4KQ2M6IENocmlzdGlhbiBLw7ZuaWcgPGNo
cmlzdGlhbi5rb2VuaWdAYW1kLmNvbT4KQ2M6IERhdmlkIChDaHVuTWluZykgWmhvdSA8RGF2aWQx
Llpob3VAYW1kLmNvbT4KQ2M6IGFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnClNpZ25lZC1v
ZmYtYnk6IEplZXZhbiBCIDxqZWV2YW4uYkBpbnRlbC5jb20+ClNpZ25lZC1vZmYtYnk6IE9sZWcg
VmFzaWxldiA8b2xlZy52YXNpbGV2QGludGVsLmNvbT4KUmV2aWV3ZWQtYnk6IEVtaWwgVmVsaWtv
diA8ZW1pbC52ZWxpa292QGNvbGxhYm9yYS5jb20+CkFja2VkLWJ5OiBBbGV4IERldWNoZXIgPGFs
ZXhhbmRlci5kZXVjaGVyQGFtZC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
YW1kZ3B1X2Nvbm5lY3RvcnMuYyB8IDEwICsrKysrKysrKysKIGRyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2FtZGdwdV9tb2RlLmggICAgICAgfCAgMSArCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hdG9tYmlvc19kcC5jICAgICAgIHwgMTggKysrKysrKysrKysrKysrKystCiAzIGZpbGVz
IGNoYW5nZWQsIDI4IGluc2VydGlvbnMoKyksIDEgZGVsZXRpb24oLSkKCmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfY29ubmVjdG9ycy5jIGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2Nvbm5lY3RvcnMuYwppbmRleCBmMzU1ZDlhLi44OTU1
YzRmIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfY29ubmVj
dG9ycy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9jb25uZWN0b3Jz
LmMKQEAgLTI2LDYgKzI2LDcgQEAKIAogI2luY2x1ZGUgPGRybS9kcm1fZWRpZC5oPgogI2luY2x1
ZGUgPGRybS9kcm1fZmJfaGVscGVyLmg+CisjaW5jbHVkZSA8ZHJtL2RybV9kcF9oZWxwZXIuaD4K
ICNpbmNsdWRlIDxkcm0vZHJtX3Byb2JlX2hlbHBlci5oPgogI2luY2x1ZGUgPGRybS9hbWRncHVf
ZHJtLmg+CiAjaW5jbHVkZSAiYW1kZ3B1LmgiCkBAIC0xNDA1LDYgKzE0MDYsMTAgQEAgYW1kZ3B1
X2Nvbm5lY3Rvcl9kcF9kZXRlY3Qoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciwgYm9v
bCBmb3JjZSkKIAkJcG1fcnVudGltZV9wdXRfYXV0b3N1c3BlbmQoY29ubmVjdG9yLT5kZXYtPmRl
dik7CiAJfQogCisJZHJtX2RwX3NldF9zdWJjb25uZWN0b3JfcHJvcGVydHkoJmFtZGdwdV9jb25u
ZWN0b3ItPmJhc2UsCisJCQkJCSByZXQsCisJCQkJCSBhbWRncHVfZGlnX2Nvbm5lY3Rvci0+ZHBj
ZCwKKwkJCQkJIGFtZGdwdV9kaWdfY29ubmVjdG9yLT5kb3duc3RyZWFtX3BvcnRzKTsKIAlyZXR1
cm4gcmV0OwogfQogCkBAIC0xOTUxLDYgKzE5NTYsMTEgQEAgYW1kZ3B1X2Nvbm5lY3Rvcl9hZGQo
c3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCiAJaWYgKGhhc19hdXgpCiAJCWFtZGdwdV9hdG9t
Ymlvc19kcF9hdXhfaW5pdChhbWRncHVfY29ubmVjdG9yKTsKIAorCWlmIChjb25uZWN0b3JfdHlw
ZSA9PSBEUk1fTU9ERV9DT05ORUNUT1JfRGlzcGxheVBvcnQgfHwKKwkgICAgY29ubmVjdG9yX3R5
cGUgPT0gRFJNX01PREVfQ09OTkVDVE9SX2VEUCkgeworCQlkcm1fY29ubmVjdG9yX2F0dGFjaF9k
cF9zdWJjb25uZWN0b3JfcHJvcGVydHkoJmFtZGdwdV9jb25uZWN0b3ItPmJhc2UpOworCX0KKwog
CXJldHVybjsKIAogZmFpbGVkOgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X21vZGUuaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9tb2Rl
LmgKaW5kZXggMzdiYTA3ZS4uMDRhNDMwZSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvYW1kZ3B1X21vZGUuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9h
bWRncHVfbW9kZS5oCkBAIC00NjksNiArNDY5LDcgQEAgc3RydWN0IGFtZGdwdV9lbmNvZGVyIHsK
IHN0cnVjdCBhbWRncHVfY29ubmVjdG9yX2F0b21fZGlnIHsKIAkvKiBkaXNwbGF5cG9ydCAqLwog
CXU4IGRwY2RbRFBfUkVDRUlWRVJfQ0FQX1NJWkVdOworCXU4IGRvd25zdHJlYW1fcG9ydHNbRFBf
TUFYX0RPV05TVFJFQU1fUE9SVFNdOwogCXU4IGRwX3NpbmtfdHlwZTsKIAlpbnQgZHBfY2xvY2s7
CiAJaW50IGRwX2xhbmVfY291bnQ7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hdG9tYmlvc19kcC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYXRvbWJpb3Nf
ZHAuYwppbmRleCA5Yjc0Y2ZkLi45MDBiMjcyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hdG9tYmlvc19kcC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2F0b21iaW9zX2RwLmMKQEAgLTMyOCw2ICszMjgsMjIgQEAgc3RhdGljIHZvaWQgYW1kZ3B1X2F0
b21iaW9zX2RwX3Byb2JlX291aShzdHJ1Y3QgYW1kZ3B1X2Nvbm5lY3RvciAqYW1kZ3B1X2Nvbm5l
Y3QKIAkJCSAgICAgIGJ1ZlswXSwgYnVmWzFdLCBidWZbMl0pOwogfQogCitzdGF0aWMgdm9pZCBh
bWRncHVfYXRvbWJpb3NfZHBfZHNfcG9ydHMoc3RydWN0IGFtZGdwdV9jb25uZWN0b3IgKmFtZGdw
dV9jb25uZWN0b3IpCit7CisJc3RydWN0IGFtZGdwdV9jb25uZWN0b3JfYXRvbV9kaWcgKmRpZ19j
b25uZWN0b3IgPSBhbWRncHVfY29ubmVjdG9yLT5jb25fcHJpdjsKKwlpbnQgcmV0OworCisJaWYg
KGRpZ19jb25uZWN0b3ItPmRwY2RbRFBfRFBDRF9SRVZdID4gMHgxMCkgeworCQlyZXQgPSBkcm1f
ZHBfZHBjZF9yZWFkKCZhbWRncHVfY29ubmVjdG9yLT5kZGNfYnVzLT5hdXgsCisJCQkJICAgICAg
IERQX0RPV05TVFJFQU1fUE9SVF8wLAorCQkJCSAgICAgICBkaWdfY29ubmVjdG9yLT5kb3duc3Ry
ZWFtX3BvcnRzLAorCQkJCSAgICAgICBEUF9NQVhfRE9XTlNUUkVBTV9QT1JUUyk7CisJCWlmIChy
ZXQpCisJCQltZW1zZXQoZGlnX2Nvbm5lY3Rvci0+ZG93bnN0cmVhbV9wb3J0cywgMCwKKwkJCSAg
ICAgICBEUF9NQVhfRE9XTlNUUkVBTV9QT1JUUyk7CisJfQorfQorCiBpbnQgYW1kZ3B1X2F0b21i
aW9zX2RwX2dldF9kcGNkKHN0cnVjdCBhbWRncHVfY29ubmVjdG9yICphbWRncHVfY29ubmVjdG9y
KQogewogCXN0cnVjdCBhbWRncHVfY29ubmVjdG9yX2F0b21fZGlnICpkaWdfY29ubmVjdG9yID0g
YW1kZ3B1X2Nvbm5lY3Rvci0+Y29uX3ByaXY7CkBAIC0zNDMsNyArMzU5LDcgQEAgaW50IGFtZGdw
dV9hdG9tYmlvc19kcF9nZXRfZHBjZChzdHJ1Y3QgYW1kZ3B1X2Nvbm5lY3RvciAqYW1kZ3B1X2Nv
bm5lY3RvcikKIAkJCSAgICAgIGRpZ19jb25uZWN0b3ItPmRwY2QpOwogCiAJCWFtZGdwdV9hdG9t
Ymlvc19kcF9wcm9iZV9vdWkoYW1kZ3B1X2Nvbm5lY3Rvcik7Ci0KKwkJYW1kZ3B1X2F0b21iaW9z
X2RwX2RzX3BvcnRzKGFtZGdwdV9jb25uZWN0b3IpOwogCQlyZXR1cm4gMDsKIAl9CiAKLS0gCjIu
Ny40CgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmkt
ZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6
Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWwK
