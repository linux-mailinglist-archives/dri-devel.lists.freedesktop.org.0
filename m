Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id F3D2B991DD
	for <lists+dri-devel@lfdr.de>; Thu, 22 Aug 2019 13:15:49 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0EC206EAF5;
	Thu, 22 Aug 2019 11:15:46 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga18.intel.com (mga18.intel.com [134.134.136.126])
 by gabe.freedesktop.org (Postfix) with ESMTPS id BFD8A6EAF4;
 Thu, 22 Aug 2019 11:15:37 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga003.fm.intel.com ([10.253.24.29])
 by orsmga106.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 22 Aug 2019 04:15:37 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,416,1559545200"; d="scan'208";a="186537493"
Received: from ramaling-i9x.iind.intel.com ([10.99.66.154])
 by FMSMGA003.fm.intel.com with ESMTP; 22 Aug 2019 04:15:35 -0700
From: Ramalingam C <ramalingam.c@intel.com>
To: intel-gfx <intel-gfx@lists.freedesktop.org>,
 dri-devel <dri-devel@lists.freedesktop.org>
Subject: [PATCH v7 5/6] drm/i915/hdcp: updating the transcoder of the hdcp port
Date: Thu, 22 Aug 2019 16:44:44 +0530
Message-Id: <20190822111445.29350-6-ramalingam.c@intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190822111445.29350-1-ramalingam.c@intel.com>
References: <20190822111445.29350-1-ramalingam.c@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Jani Nikula <jani.nikula@intel.com>, tomas.winkler@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gZ2VuMTIrIHBsYXRmb3JtcywgSERDUCBIVyBpcyBhc3NvY2lhdGVkIHRvIHRoZSB0cmFuc2Nv
ZGVyLgpIZW5jZSBvbiBldmVyeSBtb2Rlc2V0IGFzc29jaWF0ZWQgdHJhbnNjb2RlciBpcyB1cGRh
dGVkIGludG8gdGhlCmludGVsX2hkY3AuCgpTaWduZWQtb2ZmLWJ5OiBSYW1hbGluZ2FtIEMgPHJh
bWFsaW5nYW0uY0BpbnRlbC5jb20+Ci0tLQogLi4uL2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlz
cGxheV90eXBlcy5oICAgIHwgIDcgKysrCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2lu
dGVsX2RwLmMgICAgICAgfCAgMyArKwogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9oZGNwLmMgICAgIHwgNDkgKysrKysrKysrKysrKysrKysrLQogZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF9oZGNwLmggICAgIHwgIDIgKwogZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9oZG1pLmMgICAgIHwgIDMgKysKIDUgZmlsZXMgY2hhbmdlZCwgNjMgaW5z
ZXJ0aW9ucygrKSwgMSBkZWxldGlvbigtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV90eXBlcy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9kaXNwbGF5X3R5cGVzLmgKaW5kZXggNDQ5YWJhZWE2MTlmLi5jNmI5Zjcx
OThlZTMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlz
cGxheV90eXBlcy5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlz
cGxheV90eXBlcy5oCkBAIC0zODgsNiArMzg4LDEzIEBAIHN0cnVjdCBpbnRlbF9oZGNwIHsKIAl3
YWl0X3F1ZXVlX2hlYWRfdCBjcF9pcnFfcXVldWU7CiAJYXRvbWljX3QgY3BfaXJxX2NvdW50Owog
CWludCBjcF9pcnFfY291bnRfY2FjaGVkOworCisJLyoKKwkgKiBIRENQIHJlZ2lzdGVyIGFjY2Vz
cyBmb3IgZ2VuMTIrIG5lZWQgdGhlIHRyYW5zY29kZXIgYXNzb2NpYXRlZC4KKwkgKiBUcmFuc2Nv
ZGVyIGF0dGFjaGVkIHRvIHRoZSBjb25uZWN0b3IgY291bGQgYmUgY2hhbmdlZCBhdCBtb2Rlc2V0
LgorCSAqIEhlbmNlIGNhY2hpbmcgdGhlIHRyYW5zY29kZXIgaGVyZS4KKwkgKi8KKwllbnVtIHRy
YW5zY29kZXIgdHJhbnM7CiB9OwogCiBzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yIHsKZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYwppbmRleCA5MjFhZDBhMmY3YmEuLmJhNTMxN2Q1
NmRhNyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcC5j
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYwpAQCAtMjI0NCw2
ICsyMjQ0LDkgQEAgaW50ZWxfZHBfY29tcHV0ZV9jb25maWcoc3RydWN0IGludGVsX2VuY29kZXIg
KmVuY29kZXIsCiAKIAlpbnRlbF9wc3JfY29tcHV0ZV9jb25maWcoaW50ZWxfZHAsIHBpcGVfY29u
ZmlnKTsKIAorCWludGVsX2hkY3BfdHJhbnNjb2Rlcl9jb25maWcoaW50ZWxfY29ubmVjdG9yLAor
CQkJCSAgICAgcGlwZV9jb25maWctPmNwdV90cmFuc2NvZGVyKTsKKwogCXJldHVybiAwOwogfQog
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2hkY3AuYyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfaGRjcC5jCmluZGV4IDUzNDgzMmY0
MzVkYy4uMjY0YmRhNWQ0ODRjIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2hkY3AuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVs
X2hkY3AuYwpAQCAtMTc2MiwxMyArMTc2Miw2MCBAQCBlbnVtIG1laV9md19kZGkgaW50ZWxfZ2V0
X21laV9md19kZGlfaW5kZXgoZW51bSBwb3J0IHBvcnQpCiAJfQogfQogCitzdGF0aWMgaW5saW5l
CitlbnVtIG1laV9md190YyBpbnRlbF9nZXRfbWVpX2Z3X3RjKGVudW0gdHJhbnNjb2RlciB0YykK
K3sKKwlzd2l0Y2ggKHRjKSB7CisJY2FzZSBUUkFOU0NPREVSX0EgLi4uIFRSQU5TQ09ERVJfRDoK
KwkJcmV0dXJuIChlbnVtIG1laV9md190YykodGMgfCAweDEwKTsKKwljYXNlIFRSQU5TQ09ERVJf
RURQOgorCQlyZXR1cm4gTUVJX1RDX0VEUDsKKwljYXNlIFRSQU5TQ09ERVJfRFNJXzA6CisJCXJl
dHVybiBNRUlfVENfRFNJMDsKKwljYXNlIFRSQU5TQ09ERVJfRFNJXzE6CisJCXJldHVybiBNRUlf
VENfRFNJMTsKKwlkZWZhdWx0OgorCQlyZXR1cm4gTUVJX0lOVkFMSURfVFJBTlNDT0RFUjsKKwl9
Cit9CisKK3ZvaWQgaW50ZWxfaGRjcF90cmFuc2NvZGVyX2NvbmZpZyhzdHJ1Y3QgaW50ZWxfY29u
bmVjdG9yICpjb25uZWN0b3IsCisJCQkJICBlbnVtIHRyYW5zY29kZXIgdHJhbnMpCit7CisJc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShjb25uZWN0b3ItPmJhc2Uu
ZGV2KTsKKwlzdHJ1Y3QgaW50ZWxfaGRjcCAqaGRjcCA9ICZjb25uZWN0b3ItPmhkY3A7CisKKwlp
ZiAoIWhkY3AtPnNoaW0pCisJCXJldHVybjsKKworCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49
IDEyKSB7CisJCW11dGV4X2xvY2soJmhkY3AtPm11dGV4KTsKKwkJaGRjcC0+dHJhbnMgPSB0cmFu
czsKKwkJaGRjcC0+cG9ydF9kYXRhLmZ3X3RjID0gaW50ZWxfZ2V0X21laV9md190Yyh0cmFucyk7
CisJCW11dGV4X3VubG9jaygmaGRjcC0+bXV0ZXgpOworCX0KK30KKwogc3RhdGljIGlubGluZSBp
bnQgaW5pdGlhbGl6ZV9oZGNwX3BvcnRfZGF0YShzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICpjb25u
ZWN0b3IsCiAJCQkJCSAgICBjb25zdCBzdHJ1Y3QgaW50ZWxfaGRjcF9zaGltICpzaGltKQogewor
CXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoY29ubmVjdG9yLT5i
YXNlLmRldik7CiAJc3RydWN0IGludGVsX2hkY3AgKmhkY3AgPSAmY29ubmVjdG9yLT5oZGNwOwog
CXN0cnVjdCBoZGNwX3BvcnRfZGF0YSAqZGF0YSA9ICZoZGNwLT5wb3J0X2RhdGE7CisJc3RydWN0
IGludGVsX2NydGMgKmNydGM7CisKKwlpZiAoSU5URUxfR0VOKGRldl9wcml2KSA8IDEyKSB7CisJ
CWRhdGEtPmZ3X2RkaSA9CisJCQlpbnRlbF9nZXRfbWVpX2Z3X2RkaV9pbmRleChjb25uZWN0b3It
PmVuY29kZXItPnBvcnQpOworCX0gZWxzZSB7CisJCWNydGMgPSB0b19pbnRlbF9jcnRjKGNvbm5l
Y3Rvci0+YmFzZS5zdGF0ZS0+Y3J0Yyk7CisJCWlmIChjcnRjKSB7CisJCQloZGNwLT50cmFucyA9
IGNydGMtPmNvbmZpZy0+Y3B1X3RyYW5zY29kZXI7CisJCQlkYXRhLT5md190YyA9IGludGVsX2dl
dF9tZWlfZndfdGMoaGRjcC0+dHJhbnMpOworCQl9CisJCWRhdGEtPmZ3X2RkaSA9IGludGVsX2dl
dF9tZWlfZndfZGRpX2luZGV4KFBPUlRfTk9ORSk7CisJfQogCi0JZGF0YS0+ZndfZGRpID0gaW50
ZWxfZ2V0X21laV9md19kZGlfaW5kZXgoY29ubmVjdG9yLT5lbmNvZGVyLT5wb3J0KTsKIAlkYXRh
LT5wb3J0X3R5cGUgPSAodTgpSERDUF9QT1JUX1RZUEVfSU5URUdSQVRFRDsKIAlkYXRhLT5wcm90
b2NvbCA9ICh1OClzaGltLT5wcm90b2NvbDsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9oZGNwLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2hkY3AuaAppbmRleCAxMzU1NWIwNTQ5MzAuLjEwNDFiMmMxMWZlOSAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9oZGNwLmgKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9oZGNwLmgKQEAgLTE5LDYgKzE5LDggQEAgc3Ry
dWN0IGludGVsX2hkY3Bfc2hpbTsKIHZvaWQgaW50ZWxfaGRjcF9hdG9taWNfY2hlY2soc3RydWN0
IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciwKIAkJCSAgICAgc3RydWN0IGRybV9jb25uZWN0b3Jf
c3RhdGUgKm9sZF9zdGF0ZSwKIAkJCSAgICAgc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKm5l
d19zdGF0ZSk7Cit2b2lkIGludGVsX2hkY3BfdHJhbnNjb2Rlcl9jb25maWcoc3RydWN0IGludGVs
X2Nvbm5lY3RvciAqY29ubmVjdG9yLAorCQkJCSAgZW51bSB0cmFuc2NvZGVyIHRyYW5zKTsKIGlu
dCBpbnRlbF9oZGNwX2luaXQoc3RydWN0IGludGVsX2Nvbm5lY3RvciAqY29ubmVjdG9yLAogCQkg
ICAgY29uc3Qgc3RydWN0IGludGVsX2hkY3Bfc2hpbSAqaGRjcF9zaGltKTsKIGludCBpbnRlbF9o
ZGNwX2VuYWJsZShzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICpjb25uZWN0b3IsIHU4IGNvbnRlbnRf
dHlwZSk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2hk
bWkuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfaGRtaS5jCmluZGV4IGUw
MmYwZmFlY2YwMi4uNmU5YmI2YmQxZWUyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2hkbWkuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2hkbWkuYwpAQCAtMjQzMSw2ICsyNDMxLDkgQEAgaW50IGludGVsX2hkbWlfY29tcHV0
ZV9jb25maWcoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCiAJCXJldHVybiAtRUlOVkFM
OwogCX0KIAorCWludGVsX2hkY3BfdHJhbnNjb2Rlcl9jb25maWcoaW50ZWxfaGRtaS0+YXR0YWNo
ZWRfY29ubmVjdG9yLAorCQkJCSAgICAgcGlwZV9jb25maWctPmNwdV90cmFuc2NvZGVyKTsKKwog
CXJldHVybiAwOwogfQogCi0tIAoyLjIwLjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3Rz
LmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xp
c3RpbmZvL2RyaS1kZXZlbA==
