Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id ACAEA5DE70
	for <lists+dri-devel@lfdr.de>; Wed,  3 Jul 2019 09:13:33 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 464686E0CD;
	Wed,  3 Jul 2019 07:13:22 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from lelv0142.ext.ti.com (lelv0142.ext.ti.com [198.47.23.249])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 4AF8989E5F
 for <dri-devel@lists.freedesktop.org>; Tue,  2 Jul 2019 15:17:30 +0000 (UTC)
Received: from fllv0035.itg.ti.com ([10.64.41.0])
 by lelv0142.ext.ti.com (8.15.2/8.15.2) with ESMTP id x62FHPaf098046;
 Tue, 2 Jul 2019 10:17:25 -0500
Received: from DLEE108.ent.ti.com (dlee108.ent.ti.com [157.170.170.38])
 by fllv0035.itg.ti.com (8.15.2/8.15.2) with ESMTPS id x62FHPJs039339
 (version=TLSv1.2 cipher=AES256-GCM-SHA384 bits=256 verify=FAIL);
 Tue, 2 Jul 2019 10:17:25 -0500
Received: from DLEE111.ent.ti.com (157.170.170.22) by DLEE108.ent.ti.com
 (157.170.170.38) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256_P256) id 15.1.1713.5; Tue, 2 Jul
 2019 10:17:24 -0500
Received: from fllv0040.itg.ti.com (10.64.41.20) by DLEE111.ent.ti.com
 (157.170.170.22) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256_P256) id 15.1.1713.5 via
 Frontend Transport; Tue, 2 Jul 2019 10:17:24 -0500
Received: from [10.250.97.31] (ileax41-snat.itg.ti.com [10.172.224.153])
 by fllv0040.itg.ti.com (8.15.2/8.15.2) with ESMTP id x62FHM9t069759;
 Tue, 2 Jul 2019 10:17:22 -0500
Subject: Re: [PATCH 3/4] backlight: add led-backlight driver
To: Daniel Thompson <daniel.thompson@linaro.org>
References: <20190701151423.30768-1-jjhiblot@ti.com>
 <20190701151423.30768-4-jjhiblot@ti.com>
 <20190702095434.d426lichmaffz7a5@holly.lan>
 <531e237c-b570-5270-6fc3-6629a8bf7acd@ti.com>
 <20190702130434.frbx7jkec27ejbpo@holly.lan>
From: Jean-Jacques Hiblot <jjhiblot@ti.com>
Message-ID: <72c45311-c710-dc2d-a6de-68e44ea8436a@ti.com>
Date: Tue, 2 Jul 2019 17:17:21 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.7.1
MIME-Version: 1.0
In-Reply-To: <20190702130434.frbx7jkec27ejbpo@holly.lan>
Content-Language: en-US
X-EXCLAIMER-MD-CONFIG: e1e8a2fd-e40a-4ac6-ac9b-f7e9cc9ee180
X-Mailman-Approved-At: Wed, 03 Jul 2019 07:13:21 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ti.com; s=ti-com-17Q1; t=1562080645;
 bh=gbwaCwQ6fKN5XjRRfFOG0wr4S/ub75myonMsutcPDTM=;
 h=Subject:To:CC:References:From:Date:In-Reply-To;
 b=M1moEhmEKouKlWaark8V5FQfal96qP/W7IcJmFE2p59eCpDlRYwcu/9EKoGMKBVaN
 aBq5Ds7g3DJmweK7ZGVGT0oERT8/Re+/g+M0+3TCVWD6M+Mu8pNpFWIW3j77qZH/DZ
 Vjybw+k6LcQU1X9HDCpVIipqPSgdriBftB6EXnhM=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: mark.rutland@arm.com, jingoohan1@gmail.com, tomi.valkeinen@ti.com,
 linux-kernel@vger.kernel.org, dri-devel@lists.freedesktop.org,
 robh+dt@kernel.org, jacek.anaszewski@gmail.com, pavel@ucw.cz,
 lee.jones@linaro.org, linux-leds@vger.kernel.org, dmurphy@ti.com
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RGFuaWVsLAoKT24gMDIvMDcvMjAxOSAxNTowNCwgRGFuaWVsIFRob21wc29uIHdyb3RlOgo+IE9u
IFR1ZSwgSnVsIDAyLCAyMDE5IGF0IDEyOjU5OjUzUE0gKzAyMDAsIEplYW4tSmFjcXVlcyBIaWJs
b3Qgd3JvdGU6Cj4+IEhpIERhbmllbCwKPj4KPj4gT24gMDIvMDcvMjAxOSAxMTo1NCwgRGFuaWVs
IFRob21wc29uIHdyb3RlOgo+Pj4gT24gTW9uLCBKdWwgMDEsIDIwMTkgYXQgMDU6MTQ6MjJQTSAr
MDIwMCwgSmVhbi1KYWNxdWVzIEhpYmxvdCB3cm90ZToKPj4+PiBGcm9tOiBUb21pIFZhbGtlaW5l
biA8dG9taS52YWxrZWluZW5AdGkuY29tPgo+Pj4+Cj4+Pj4gVGhpcyBwYXRjaCBhZGRzIGEgbGVk
LWJhY2tsaWdodCBkcml2ZXIgKGxlZF9ibCksIHdoaWNoIGlzIG1vc3RseSBzaW1pbGFyIHRvCj4+
Pj4gcHdtX2JsIGV4Y2VwdCB0aGUgZHJpdmVyIHVzZXMgYSBMRUQgY2xhc3MgZHJpdmVyIHRvIGFk
anVzdCB0aGUgYnJpZ2h0bmVzcwo+Pj4+IGluIHRoZSBIVy4KPj4+Pgo+Pj4+IFNpZ25lZC1vZmYt
Ynk6IFRvbWkgVmFsa2VpbmVuIDx0b21pLnZhbGtlaW5lbkB0aS5jb20+Cj4+Pj4gU2lnbmVkLW9m
Zi1ieTogSmVhbi1KYWNxdWVzIEhpYmxvdCA8ampoaWJsb3RAdGkuY29tPgo+Pj4+IC0tLQo+Pj4+
ICAgIGRyaXZlcnMvdmlkZW8vYmFja2xpZ2h0L0tjb25maWcgIHwgICA3ICsKPj4+PiAgICBkcml2
ZXJzL3ZpZGVvL2JhY2tsaWdodC9NYWtlZmlsZSB8ICAgMSArCj4+Pj4gICAgZHJpdmVycy92aWRl
by9iYWNrbGlnaHQvbGVkX2JsLmMgfCAyMTcgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
Kwo+Pj4+ICAgIDMgZmlsZXMgY2hhbmdlZCwgMjI1IGluc2VydGlvbnMoKykKPj4+PiAgICBjcmVh
dGUgbW9kZSAxMDA2NDQgZHJpdmVycy92aWRlby9iYWNrbGlnaHQvbGVkX2JsLmMKPj4+Pgo+Pj4+
IGRpZmYgLS1naXQgYS9kcml2ZXJzL3ZpZGVvL2JhY2tsaWdodC9LY29uZmlnIGIvZHJpdmVycy92
aWRlby9iYWNrbGlnaHQvS2NvbmZpZwo+Pj4+IGluZGV4IDhiMDgxZDYxNzczZS4uNTg1YTE3ODc2
MThjIDEwMDY0NAo+Pj4+IC0tLSBhL2RyaXZlcnMvdmlkZW8vYmFja2xpZ2h0L0tjb25maWcKPj4+
PiArKysgYi9kcml2ZXJzL3ZpZGVvL2JhY2tsaWdodC9LY29uZmlnCj4+Pj4gQEAgLTQ1OCw2ICs0
NTgsMTMgQEAgY29uZmlnIEJBQ0tMSUdIVF9SQVZFX1NQCj4+Pj4gICAgCWhlbHAKPj4+PiAgICAJ
ICBTdXBwb3J0IGZvciBiYWNrbGlnaHQgY29udHJvbCBvbiBSQVZFIFNQIGRldmljZS4KPj4+PiAr
Y29uZmlnIEJBQ0tMSUdIVF9MRUQKPj4+PiArCXRyaXN0YXRlICJHZW5lcmljIExFRCBiYXNlZCBC
YWNrbGlnaHQgRHJpdmVyIgo+Pj4+ICsJZGVwZW5kcyBvbiBMRURTX0NMQVNTICYmIE9GCj4+Pj4g
KwloZWxwCj4+Pj4gKwkgIElmIHlvdSBoYXZlIGEgTENEIGJhY2tsaWdodCBhZGp1c3RhYmxlIGJ5
IExFRCBjbGFzcyBkcml2ZXIsIHNheSBZCj4+Pj4gKwkgIHRvIGVuYWJsZSB0aGlzIGRyaXZlci4K
Pj4+PiArCj4+Pj4gICAgZW5kaWYgIyBCQUNLTElHSFRfQ0xBU1NfREVWSUNFCj4+Pj4gICAgZW5k
bWVudQo+Pj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3ZpZGVvL2JhY2tsaWdodC9NYWtlZmlsZSBi
L2RyaXZlcnMvdmlkZW8vYmFja2xpZ2h0L01ha2VmaWxlCj4+Pj4gaW5kZXggNjNjNTA3YzA3NDM3
Li4yYTY3NjQyOTY2YTUgMTAwNjQ0Cj4+Pj4gLS0tIGEvZHJpdmVycy92aWRlby9iYWNrbGlnaHQv
TWFrZWZpbGUKPj4+PiArKysgYi9kcml2ZXJzL3ZpZGVvL2JhY2tsaWdodC9NYWtlZmlsZQo+Pj4+
IEBAIC01NywzICs1Nyw0IEBAIG9iai0kKENPTkZJR19CQUNLTElHSFRfVFBTNjUyMTcpCSs9IHRw
czY1MjE3X2JsLm8KPj4+PiAgICBvYmotJChDT05GSUdfQkFDS0xJR0hUX1dNODMxWCkJCSs9IHdt
ODMxeF9ibC5vCj4+Pj4gICAgb2JqLSQoQ09ORklHX0JBQ0tMSUdIVF9BUkNYQ05OKSAJKz0gYXJj
eGNubl9ibC5vCj4+Pj4gICAgb2JqLSQoQ09ORklHX0JBQ0tMSUdIVF9SQVZFX1NQKQkJKz0gcmF2
ZS1zcC1iYWNrbGlnaHQubwo+Pj4+ICtvYmotJChDT05GSUdfQkFDS0xJR0hUX0xFRCkJCSs9IGxl
ZF9ibC5vCj4+Pj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmlkZW8vYmFja2xpZ2h0L2xlZF9ibC5j
IGIvZHJpdmVycy92aWRlby9iYWNrbGlnaHQvbGVkX2JsLmMKPj4+PiBuZXcgZmlsZSBtb2RlIDEw
MDY0NAo+Pj4+IGluZGV4IDAwMDAwMDAwMDAwMC4uZTY5OTkyNGNjMmJjCj4+Pj4gLS0tIC9kZXYv
bnVsbAo+Pj4+ICsrKyBiL2RyaXZlcnMvdmlkZW8vYmFja2xpZ2h0L2xlZF9ibC5jCj4+Pj4gQEAg
LTAsMCArMSwyMTcgQEAKPj4+PiArLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAK
Pj4+PiArLyoKPj4+PiArICogQ29weXJpZ2h0IChDKSAyMDE1LTIwMTggVGV4YXMgSW5zdHJ1bWVu
dHMgSW5jb3Jwb3JhdGVkIC0gIGh0dHA6Ly93d3cudGkuY29tLwo+Pj4+ICsgKiBBdXRob3I6IFRv
bWkgVmFsa2VpbmVuIDx0b21pLnZhbGtlaW5lbkB0aS5jb20+Cj4+Pj4gKyAqCj4+Pj4gKyAqIEJh
c2VkIG9uIHB3bV9ibC5jCj4+Pj4gKyAqLwo+Pj4+ICsKPj4+PiArI2luY2x1ZGUgPGxpbnV4L2Jh
Y2tsaWdodC5oPgo+Pj4+ICsjaW5jbHVkZSA8bGludXgvZ3Bpby9jb25zdW1lci5oPgo+Pj4+ICsj
aW5jbHVkZSA8bGludXgvbGVkcy5oPgo+Pj4+ICsjaW5jbHVkZSA8bGludXgvbW9kdWxlLmg+Cj4+
Pj4gKyNpbmNsdWRlIDxsaW51eC9wbGF0Zm9ybV9kZXZpY2UuaD4KPj4+PiArI2luY2x1ZGUgPGxp
bnV4L3JlZ3VsYXRvci9jb25zdW1lci5oPgo+Pj4+ICsjaW5jbHVkZSA8bGludXgvc2xhYi5oPgo+
Pj4+ICsKPj4+PiArc3RydWN0IGxlZF9ibF9kYXRhIHsKPj4+PiArCXN0cnVjdCBkZXZpY2UJCSpk
ZXY7Cj4+Pj4gKwlzdHJ1Y3QgYmFja2xpZ2h0X2RldmljZQkqYmxfZGV2Owo+Pj4+ICsKPj4+PiAr
CXVuc2lnbmVkIGludAkJKmxldmVsczsKPj4+PiArCWJvb2wJCQllbmFibGVkOwo+Pj4+ICsJc3Ry
dWN0IHJlZ3VsYXRvcgkqcG93ZXJfc3VwcGx5Owo+Pj4+ICsJc3RydWN0IGdwaW9fZGVzYwkqZW5h
YmxlX2dwaW87Cj4+PiBGb3IgdGhlIFBXTSBkcml2ZXIgdGhlIHBvd2VyX3N1cHBseSBhbmQgZW5h
YmxlX2dwaW8gYXJlIHBhcnQgb2YgbWFuYWdpbmcKPj4+IGEgZHVtYiBMRUQgZHJpdmVyIGRldmlj
ZSB0aGF0IGlzIGRvd25zdHJlYW0gb2YgdGhlIFBXTS4KPj4+Cj4+PiBXaGF0IGlzIHRoZWlyIHB1
cnBvc2Ugd2hlbiB3ZSB3cmFwIGFuIExFRCBkZXZpY2U/IFB1dCBhbm90aGVyIHdoeSB3aHkgaXNu
J3QKPj4+IHRoZSBMRUQgZGV2aWNlIGRyaXZlciByZXNwb25zaWJsZSBmb3IgdGhpcz8KPj4gVGhp
cyBxdWVzdGlvbiBjYW1lIHVwIHdoZW4gdGhlIHBhdGNoIHdhcyBmaXJzdCBwcm9wb3NlZCBpbiAy
MDE1LiBIZXJlIGlzIHRoZQo+PiBhbnN3ZXIgZnJvbSBUb21pIGF0IHRoZSB0aW1lLiBJdCBpcyBz
dGlsbCByZWxldmFudC4KPj4KPj4gIlRoZXNlIGFyZSBmb3IgdGhlIGJhY2tsaWdodCwgbm90IGZv
ciB0aGUgTEVEIGNoaXAuIFNvICJMRUQiIGhlcmUgaXMgYQo+PiBjaGlwIHRoYXQgcHJvZHVjZXMg
KG1vc3QgbGlrZWx5KSBhIFBXTSBzaWduYWwsIGFuZCAiYmFja2xpZ2h0IiBpcyB0aGUKPj4gY29s
bGVjdGlvbiBvZiBjb21wb25lbnRzIHRoYXQgdXNlIHRoZSBQV00gdG8gcHJvZHVjZSB0aGUgYmFj
a2xpZ2h0Cj4+IGl0c2VsZiwgYW5kIHVzZSB0aGUgcG93ZXItc3VwcGx5IGFuZCBncGlvcy4iCj4g
RXhwYW5kZWQgc2lnbmlmaWNhbnRseSBpbiB0aGUgYXNzb2NpYXRlZCB0aHJlYWQsIHJpZ2h0Pwo+
IGh0dHBzOi8vcGF0Y2h3b3JrLmtlcm5lbC5vcmcvcGF0Y2gvNzI5Mzk5MS8KPgo+IEFsc28gc3Rp
bGwgcmVsZXZhbnQgaXMgd2hldGhlciB0aGUgTEVEIGRldmljZSBpcyBiZWluZyBjb3JyZWN0bHkK
PiBtb2RlbGxlZCBpZiB0aGUgYWN0IG9mIHR1cm5pbmcgb24gdGhlIExFRCBkb2Vzbid0LCBpbiBm
YWN0LCB0dXJuIHRoZSBMRUQKPiBvbi4gSXMgaXQgKnJlYWxseSogYSBjb3JyZWN0IGltcGxlbWVu
dGF0aW9uIG9mIGFuIExFRCBkZXZpY2UgdGhhdAo+IHNldHRpbmcgaXQgdG8gTEVEX0ZVTEwgdXNp
bmcgc3lzZnMgZG9lc24ndCBjYXVzZSBpdCB0byBsaWdodCB1cD8KCldoYXQgSSB1bmRlcnN0b29k
IGZyb20gdGhlIGRpc2N1c3Npb24gYmV0d2VlbiBSb2IgYW5kIFRvbWkgaXMgdGhhdCB0aGUgCmNo
aWxkLW5vZGUgb2YgdGhlIExFRCBjb250cm9sbGVyIHNob3VsZCBiZSBjb25zaWRlcmVkIGEgYmFj
a2xpZ2h0IApkZXZpY2UsIG5vdCBhIHNpbXBsZSBMRUQuIEknbSBub3Qgc3VyZSBpZiB0aGUgc3lz
ZnMgaW50ZXJmYWNlIGlzIHN0aWxsIApyZWxldmFudCBpbiB0aGF0IGNhc2UuIE1heWJlIGl0IHNo
b3VsZCBqdXN0IGJlIGRpc2FibGVkIGJ5IHRoZSBiYWNrbGlnaHQgCmRyaXZlciAocG9zc2libGUg
d2l0aCBsZWRfc3lzZnNfZGlzYWJsZSgpKQoKPgo+IEFjdHVhbGx5IHRoZXJlIGlzIGFub3RoZXIg
YXJlYSB3aGVyZSBJIHRoaW5rIGFuIExFRCBiYWNrbGlnaHQgc2hvdWxkCj4gcGVyaGFwcyBiZSBo
ZWxkIHRvIGEgaGlnaGVyIHN0YW5kYXJkIHRoYW4gYSBQV00gYmFja2xpZ2h0IGFuZCB0aGF0IGlz
Cj4gaGFuZGxpbmcgYmFja2xpZ2h0cyBjb21wb3NlZCBvZiBtdWx0aXBsZSBMRURzLgo+Cj4gVXNp
bmcgdGhlIFRMQzU5MXh4IGV4YW1wbGVzIGZyb20gdGhlIHRocmVhZCBhYm92ZS4uLiB0aGVzZSBh
cmUKPiBtdWx0aS1jaGFubmVsICg4IG9yIDE2KSBMRUQgY29udHJvbGxlcnMgYW5kIEkgZG9uJ3Qg
dGhpbmsgaXRzCj4gc3BlY3VsYXRpdmUgdG8gYXNzdW1lIHRoYXQgYSBiYWNrbGlnaHQgY291bGQg
Y29uc3RydWN0ZWQgdXNpbmcKPiBvbmUgb2YgdGhlc2UgY291bGQgcmVxdWlyZSBtdWx0aXBsZSBM
RURzLgoKSW4gdGhhdCBjYXNlLCB0aGUgZGV2aWNlLXRyZWUgbW9kZWwgbXVzdCBiZSBxdWl0ZSBk
aWZmZXJlbnQuCgpBY3R1YWxseSB0aGUgYmVzdCB3YXkgdG8gZG8gdGhhdCBpcyB0byB1c2UgdGhl
IG1vZGVsIGZyb20gVG9taSAKaHR0cHM6Ly9wYXRjaHdvcmsua2VybmVsLm9yZy9wYXRjaC83Mjkz
OTkxLyBhbmQgbW9kaWZ5IGl0IHRvIGhhbmRsZSBtb3JlIAp0aGFuIG9uZSBMRUQKPGh0dHBzOi8v
cGF0Y2h3b3JrLmtlcm5lbC5vcmcvcGF0Y2gvNzI5Mzk5MS8+CgpJJ20gbm90IGNvbXBsZXRlbHkg
c3VyZSB0aGF0IHBlb3BsZSB3b3VsZCBzdGFydCBtYWtpbmcgcmVhbCBiYWNrbGlnaHQgCnRoaXMg
d2F5IHRob3VnaC4gSXQgaXMgbXVjaCBtb3JlIHByb2JhYmxlIHRoYXQgdGhlIG91cHV0IG9mIHRo
ZSBsZWQgY3RybCAKaXMgY29ubmVjdGVkIHRvIGEgc2luZ2xlIGNvbnRyb2wgaW5wdXQgb2YgYSBy
ZWFsIGJhY2tsaWdodCB0aGFuIHRvIAphY3R1YWwgTEVEcy4KCgpKSgoKPgo+Cj4gRGFuaWVsLgo+
Cj4KPj4+PiArCj4+Pj4gKwlzdHJ1Y3QgbGVkX2NsYXNzZGV2ICpsZWRfY2RldjsKPj4+PiArCj4+
Pj4gKwl1bnNpZ25lZCBpbnQgbWF4X2JyaWdodG5lc3M7Cj4+Pj4gKwl1bnNpZ25lZCBpbnQgZGVm
YXVsdF9icmlnaHRuZXNzOwo+Pj4+ICt9Owo+Pj4+ICsKPj4+PiArc3RhdGljIHZvaWQgbGVkX2Js
X3NldF9icmlnaHRuZXNzKHN0cnVjdCBsZWRfYmxfZGF0YSAqcHJpdiwgaW50IGJyaWdodG5lc3Mp
Cj4+Pj4gK3sKPj4+PiArCWludCBlcnI7Cj4+Pj4gKwo+Pj4+ICsJaWYgKCFwcml2LT5lbmFibGVk
KSB7Cj4+Pj4gKwkJZXJyID0gcmVndWxhdG9yX2VuYWJsZShwcml2LT5wb3dlcl9zdXBwbHkpOwo+
Pj4+ICsJCWlmIChlcnIgPCAwKQo+Pj4+ICsJCQlkZXZfZXJyKHByaXYtPmRldiwgImZhaWxlZCB0
byBlbmFibGUgcG93ZXIgc3VwcGx5XG4iKTsKPj4+PiArCj4+Pj4gKwkJaWYgKHByaXYtPmVuYWJs
ZV9ncGlvKQo+Pj4+ICsJCQlncGlvZF9zZXRfdmFsdWVfY2Fuc2xlZXAocHJpdi0+ZW5hYmxlX2dw
aW8sIDEpOwo+Pj4+ICsJfQo+Pj4+ICsKPj4+PiArCWxlZF9zZXRfYnJpZ2h0bmVzcyhwcml2LT5s
ZWRfY2RldiwgcHJpdi0+bGV2ZWxzW2JyaWdodG5lc3NdKTsKPj4+PiArCj4+Pj4gKwlwcml2LT5l
bmFibGVkID0gdHJ1ZTsKPj4+PiArfQo+Pj4+ICsKPj4+PiArc3RhdGljIHZvaWQgbGVkX2JsX3Bv
d2VyX29mZihzdHJ1Y3QgbGVkX2JsX2RhdGEgKnByaXYpCj4+Pj4gK3sKPj4+PiArCWlmICghcHJp
di0+ZW5hYmxlZCkKPj4+PiArCQlyZXR1cm47Cj4+Pj4gKwo+Pj4+ICsJbGVkX3NldF9icmlnaHRu
ZXNzKHByaXYtPmxlZF9jZGV2LCBMRURfT0ZGKTsKPj4+PiArCj4+Pj4gKwlpZiAocHJpdi0+ZW5h
YmxlX2dwaW8pCj4+Pj4gKwkJZ3Bpb2Rfc2V0X3ZhbHVlX2NhbnNsZWVwKHByaXYtPmVuYWJsZV9n
cGlvLCAwKTsKPj4+PiArCj4+Pj4gKwlyZWd1bGF0b3JfZGlzYWJsZShwcml2LT5wb3dlcl9zdXBw
bHkpOwo+Pj4+ICsKPj4+PiArCXByaXYtPmVuYWJsZWQgPSBmYWxzZTsKPj4+PiArfQo+Pj4+ICsK
Pj4+PiArc3RhdGljIGludCBsZWRfYmxfdXBkYXRlX3N0YXR1cyhzdHJ1Y3QgYmFja2xpZ2h0X2Rl
dmljZSAqYmwpCj4+Pj4gK3sKPj4+PiArCXN0cnVjdCBsZWRfYmxfZGF0YSAqcHJpdiA9IGJsX2dl
dF9kYXRhKGJsKTsKPj4+PiArCWludCBicmlnaHRuZXNzID0gYmwtPnByb3BzLmJyaWdodG5lc3M7
Cj4+Pj4gKwo+Pj4+ICsJaWYgKGJsLT5wcm9wcy5wb3dlciAhPSBGQl9CTEFOS19VTkJMQU5LIHx8
Cj4+Pj4gKwkgICAgYmwtPnByb3BzLmZiX2JsYW5rICE9IEZCX0JMQU5LX1VOQkxBTksgfHwKPj4+
PiArCSAgICBibC0+cHJvcHMuc3RhdGUgJiBCTF9DT1JFX0ZCQkxBTkspCj4+Pj4gKwkJYnJpZ2h0
bmVzcyA9IDA7Cj4+Pj4gKwo+Pj4+ICsJaWYgKGJyaWdodG5lc3MgPiAwKQo+Pj4+ICsJCWxlZF9i
bF9zZXRfYnJpZ2h0bmVzcyhwcml2LCBicmlnaHRuZXNzKTsKPj4+PiArCWVsc2UKPj4+PiArCQls
ZWRfYmxfcG93ZXJfb2ZmKHByaXYpOwo+Pj4+ICsKPj4+PiArCXJldHVybiAwOwo+Pj4+ICt9Cj4+
Pj4gKwo+Pj4+ICtzdGF0aWMgY29uc3Qgc3RydWN0IGJhY2tsaWdodF9vcHMgbGVkX2JsX29wcyA9
IHsKPj4+PiArCS51cGRhdGVfc3RhdHVzCT0gbGVkX2JsX3VwZGF0ZV9zdGF0dXMsCj4+Pj4gK307
Cj4+Pj4gKwo+Pj4+ICtzdGF0aWMgaW50IGxlZF9ibF9wYXJzZV9kdChzdHJ1Y3QgZGV2aWNlICpk
ZXYsCj4+Pj4gKwkJCSAgIHN0cnVjdCBsZWRfYmxfZGF0YSAqcHJpdikKPj4+PiArewo+Pj4+ICsJ
c3RydWN0IGRldmljZV9ub2RlICpub2RlID0gZGV2LT5vZl9ub2RlOwo+Pj4+ICsJaW50IG51bV9s
ZXZlbHM7Cj4+Pj4gKwl1MzIgKmxldmVsczsKPj4+PiArCXUzMiB2YWx1ZTsKPj4+PiArCWludCBy
ZXQ7Cj4+Pj4gKwo+Pj4+ICsJaWYgKCFub2RlKQo+Pj4+ICsJCXJldHVybiAtRU5PREVWOwo+Pj4+
ICsKPj4+PiArCW51bV9sZXZlbHMgPSBvZl9wcm9wZXJ0eV9jb3VudF91MzJfZWxlbXMobm9kZSwg
ImJyaWdodG5lc3MtbGV2ZWxzIik7Cj4+PiBJcyB0aGVyZSBhbnkgcmVhc29uIHRoYXQgdGhpcyBm
dW5jdGlvbiBjYW5ub3QgdXNlIHRoZSAobW9yZSBnZW5lcmljKQo+Pj4gZGV2aWNlIHByb3BlcnR5
IEFQSSB0aHJvdWdob3V0IHRoaXMgZnVuY3Rpb24/Cj4+IE5vIHJlYXNvbi4gVGhlIGNvZGUgaXMg
YSBiaXQgb2xkLCBhbmQgY2FuIGRvIHdpdGggYW4gdXBkYXRlLgo+Pgo+PiBBcmUgeW91IHRoaW5r
aW5nIG9mIG9mX3Byb3BlcnR5X3JlYWRfdTMyX2FycmF5KCksIG9yIGFub3RoZXIgZnVuY3Rpb24g
Pwo+Pgo+PiBKSgo+Pgo+Pj4KPj4+Cj4+PiBEYW5pZWwuCj4+Pgo+Pj4KPj4+PiArCWlmIChudW1f
bGV2ZWxzIDwgMCkKPj4+PiArCQlyZXR1cm4gbnVtX2xldmVsczsKPj4+PiArCj4+Pj4gKwlsZXZl
bHMgPSBkZXZtX2t6YWxsb2MoZGV2LCBzaXplb2YodTMyKSAqIG51bV9sZXZlbHMsIEdGUF9LRVJO
RUwpOwo+Pj4+ICsJaWYgKCFsZXZlbHMpCj4+Pj4gKwkJcmV0dXJuIC1FTk9NRU07Cj4+Pj4gKwo+
Pj4+ICsJcmV0ID0gb2ZfcHJvcGVydHlfcmVhZF91MzJfYXJyYXkobm9kZSwgImJyaWdodG5lc3Mt
bGV2ZWxzIiwKPj4+PiArCQkJCQkgbGV2ZWxzLAo+Pj4+ICsJCQkJCSBudW1fbGV2ZWxzKTsKPj4+
PiArCWlmIChyZXQgPCAwKQo+Pj4+ICsJCXJldHVybiByZXQ7Cj4+Pj4gKwo+Pj4+ICsJcmV0ID0g
b2ZfcHJvcGVydHlfcmVhZF91MzIobm9kZSwgImRlZmF1bHQtYnJpZ2h0bmVzcy1sZXZlbCIsICZ2
YWx1ZSk7Cj4+Pj4gKwlpZiAocmV0IDwgMCkKPj4+PiArCQlyZXR1cm4gcmV0Owo+Pj4+ICsKPj4+
PiArCWlmICh2YWx1ZSA+PSBudW1fbGV2ZWxzKSB7Cj4+Pj4gKwkJZGV2X2VycihkZXYsICJpbnZh
bGlkIGRlZmF1bHQtYnJpZ2h0bmVzcy1sZXZlbFxuIik7Cj4+Pj4gKwkJcmV0dXJuIC1FSU5WQUw7
Cj4+Pj4gKwl9Cj4+Pj4gKwo+Pj4+ICsJcHJpdi0+bGV2ZWxzID0gbGV2ZWxzOwo+Pj4+ICsJcHJp
di0+bWF4X2JyaWdodG5lc3MgPSBudW1fbGV2ZWxzIC0gMTsKPj4+PiArCXByaXYtPmRlZmF1bHRf
YnJpZ2h0bmVzcyA9IHZhbHVlOwo+Pj4+ICsKPj4+PiArCXJldHVybiAwOwo+Pj4+ICt9Cj4+Pj4g
Kwo+Pj4+ICtzdGF0aWMgaW50IGxlZF9ibF9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpw
ZGV2KQo+Pj4+ICt7Cj4+Pj4gKwlzdHJ1Y3QgYmFja2xpZ2h0X3Byb3BlcnRpZXMgcHJvcHM7Cj4+
Pj4gKwlzdHJ1Y3QgbGVkX2JsX2RhdGEgKnByaXY7Cj4+Pj4gKwlpbnQgcmV0Owo+Pj4+ICsKPj4+
PiArCXByaXYgPSBkZXZtX2t6YWxsb2MoJnBkZXYtPmRldiwgc2l6ZW9mKCpwcml2KSwgR0ZQX0tF
Uk5FTCk7Cj4+Pj4gKwlpZiAoIXByaXYpCj4+Pj4gKwkJcmV0dXJuIC1FTk9NRU07Cj4+Pj4gKwo+
Pj4+ICsJcGxhdGZvcm1fc2V0X2RydmRhdGEocGRldiwgcHJpdik7Cj4+Pj4gKwo+Pj4+ICsJcHJp
di0+ZGV2ID0gJnBkZXYtPmRldjsKPj4+PiArCXByaXYtPmxlZF9jZGV2ID0gdG9fbGVkX2NsYXNz
ZGV2KHBkZXYtPmRldi5wYXJlbnQpOwo+Pj4+ICsKPj4+PiArCXJldCA9IGxlZF9ibF9wYXJzZV9k
dCgmcGRldi0+ZGV2LCBwcml2KTsKPj4+PiArCWlmIChyZXQgPCAwKSB7Cj4+Pj4gKwkJaWYgKHJl
dCAhPSAtRVBST0JFX0RFRkVSKQo+Pj4+ICsJCQlkZXZfZXJyKCZwZGV2LT5kZXYsICJmYWlsZWQg
dG8gcGFyc2UgRFQgZGF0YVxuIik7Cj4+Pj4gKwkJcmV0dXJuIHJldDsKPj4+PiArCX0KPj4+PiAr
Cj4+Pj4gKwlwcml2LT5lbmFibGVfZ3BpbyA9IGRldm1fZ3Bpb2RfZ2V0X29wdGlvbmFsKCZwZGV2
LT5kZXYsICJlbmFibGUiLAo+Pj4+ICsJCQkgICAgR1BJT0RfT1VUX0xPVyk7Cj4+Pj4gKwlpZiAo
SVNfRVJSKHByaXYtPmVuYWJsZV9ncGlvKSkgewo+Pj4+ICsJCXJldCA9IFBUUl9FUlIocHJpdi0+
ZW5hYmxlX2dwaW8pOwo+Pj4+ICsJCWdvdG8gZXJyOwo+Pj4+ICsJfQo+Pj4+ICsKPj4+PiArCXBy
aXYtPnBvd2VyX3N1cHBseSA9IGRldm1fcmVndWxhdG9yX2dldCgmcGRldi0+ZGV2LCAicG93ZXIi
KTsKPj4+PiArCWlmIChJU19FUlIocHJpdi0+cG93ZXJfc3VwcGx5KSkgewo+Pj4+ICsJCXJldCA9
IFBUUl9FUlIocHJpdi0+cG93ZXJfc3VwcGx5KTsKPj4+PiArCQlnb3RvIGVycjsKPj4+PiArCX0K
Pj4+PiArCj4+Pj4gKwltZW1zZXQoJnByb3BzLCAwLCBzaXplb2Yoc3RydWN0IGJhY2tsaWdodF9w
cm9wZXJ0aWVzKSk7Cj4+Pj4gKwlwcm9wcy50eXBlID0gQkFDS0xJR0hUX1JBVzsKPj4+PiArCXBy
b3BzLm1heF9icmlnaHRuZXNzID0gcHJpdi0+bWF4X2JyaWdodG5lc3M7Cj4+Pj4gKwlwcml2LT5i
bF9kZXYgPSBiYWNrbGlnaHRfZGV2aWNlX3JlZ2lzdGVyKGRldl9uYW1lKCZwZGV2LT5kZXYpLAo+
Pj4+ICsJCQkmcGRldi0+ZGV2LCBwcml2LCAmbGVkX2JsX29wcywgJnByb3BzKTsKPj4+PiArCWlm
IChJU19FUlIocHJpdi0+YmxfZGV2KSkgewo+Pj4+ICsJCWRldl9lcnIoJnBkZXYtPmRldiwgImZh
aWxlZCB0byByZWdpc3RlciBiYWNrbGlnaHRcbiIpOwo+Pj4+ICsJCXJldCA9IFBUUl9FUlIocHJp
di0+YmxfZGV2KTsKPj4+PiArCQlnb3RvIGVycjsKPj4+PiArCX0KPj4+PiArCj4+Pj4gKwlwcml2
LT5ibF9kZXYtPnByb3BzLmJyaWdodG5lc3MgPSBwcml2LT5kZWZhdWx0X2JyaWdodG5lc3M7Cj4+
Pj4gKwliYWNrbGlnaHRfdXBkYXRlX3N0YXR1cyhwcml2LT5ibF9kZXYpOwo+Pj4+ICsKPj4+PiAr
CXJldHVybiAwOwo+Pj4+ICsKPj4+PiArZXJyOgo+Pj4+ICsKPj4+PiArCXJldHVybiByZXQ7Cj4+
Pj4gK30KPj4+PiArCj4+Pj4gK3N0YXRpYyBpbnQgbGVkX2JsX3JlbW92ZShzdHJ1Y3QgcGxhdGZv
cm1fZGV2aWNlICpwZGV2KQo+Pj4+ICt7Cj4+Pj4gKwlzdHJ1Y3QgbGVkX2JsX2RhdGEgKnByaXYg
PSBwbGF0Zm9ybV9nZXRfZHJ2ZGF0YShwZGV2KTsKPj4+PiArCXN0cnVjdCBiYWNrbGlnaHRfZGV2
aWNlICpibCA9IHByaXYtPmJsX2RldjsKPj4+PiArCj4+Pj4gKwliYWNrbGlnaHRfZGV2aWNlX3Vu
cmVnaXN0ZXIoYmwpOwo+Pj4+ICsKPj4+PiArCWxlZF9ibF9wb3dlcl9vZmYocHJpdik7Cj4+Pj4g
Kwo+Pj4+ICsJcmV0dXJuIDA7Cj4+Pj4gK30KPj4+PiArCj4+Pj4gK3N0YXRpYyBjb25zdCBzdHJ1
Y3Qgb2ZfZGV2aWNlX2lkIGxlZF9ibF9vZl9tYXRjaFtdID0gewo+Pj4+ICsJeyAuY29tcGF0aWJs
ZSA9ICJsZWQtYmFja2xpZ2h0IiB9LAo+Pj4+ICsJeyB9Cj4+Pj4gK307Cj4+Pj4gKwo+Pj4+ICtN
T0RVTEVfREVWSUNFX1RBQkxFKG9mLCBsZWRfYmxfb2ZfbWF0Y2gpOwo+Pj4+ICsKPj4+PiArc3Rh
dGljIHN0cnVjdCBwbGF0Zm9ybV9kcml2ZXIgbGVkX2JsX2RyaXZlciA9IHsKPj4+PiArCS5kcml2
ZXIJCT0gewo+Pj4+ICsJCS5uYW1lCQk9ICJsZWQtYmFja2xpZ2h0IiwKPj4+PiArCQkub2ZfbWF0
Y2hfdGFibGUJPSBvZl9tYXRjaF9wdHIobGVkX2JsX29mX21hdGNoKSwKPj4+PiArCX0sCj4+Pj4g
KwkucHJvYmUJCT0gbGVkX2JsX3Byb2JlLAo+Pj4+ICsJLnJlbW92ZQkJPSBsZWRfYmxfcmVtb3Zl
LAo+Pj4+ICt9Owo+Pj4+ICsKPj4+PiArbW9kdWxlX3BsYXRmb3JtX2RyaXZlcihsZWRfYmxfZHJp
dmVyKTsKPj4+PiArCj4+Pj4gK01PRFVMRV9ERVNDUklQVElPTigiTEVEIGJhc2VkIEJhY2tsaWdo
dCBEcml2ZXIiKTsKPj4+PiArTU9EVUxFX0xJQ0VOU0UoIkdQTCIpOwo+Pj4+ICtNT0RVTEVfQUxJ
QVMoInBsYXRmb3JtOmxlZC1iYWNrbGlnaHQiKTsKPj4+PiAtLSAKPj4+PiAyLjE3LjEKPj4+Pgpf
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwg
bWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0
cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
