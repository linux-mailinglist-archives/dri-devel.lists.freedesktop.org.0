Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id D4C90274AD4
	for <lists+dri-devel@lfdr.de>; Tue, 22 Sep 2020 23:10:19 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 36EFF6E311;
	Tue, 22 Sep 2020 21:10:17 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ua1-f68.google.com (mail-ua1-f68.google.com
 [209.85.222.68])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C62B46E311;
 Tue, 22 Sep 2020 21:10:15 +0000 (UTC)
Received: by mail-ua1-f68.google.com with SMTP id g16so5949754uan.5;
 Tue, 22 Sep 2020 14:10:15 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=y3bqfEWtFeqz84XjleRuAjyIAbuP49WihE9gT5z0Xpk=;
 b=fO6bQpILKIsW7/BDVLxkHI14RiujScJ6nudt0iPWZs3KzTlWpfKWIRUcCc/JJ5ORd6
 GBcYzjxTyTAK/kuwWmSMv3zdMSHxX9GBWVJIuL4cxp6n3Bvy9Mem1pXiGryf6pwzUmP4
 8QT+fNb/woDd5EHufJZoeEZsmKERufB9ioGdcqdQkt74PpTkyR4eGT0IwUY4vzGFm6bt
 PmR/G27+eyogLwhwudnPJP6eUrgN3kqP+wm1qSogR+iAu0UKXCuX3sM3Re2HnEspJNqK
 ZfpTCHT8+By6dzouag+75vZ1hGFrem8vsvF1A5V319p8bG6FXEk2QwDMdkGsLSd8/Hfj
 r7gg==
X-Gm-Message-State: AOAM5317bBNPO4oyFHEN7CngdjpkFVaS7YiljMWBBqQ8ItFyfZQwBdk0
 /R6wjq3S5EUr2TJqr5xbsDwPaSt2kyfSeA/y4l6013zgcso=
X-Google-Smtp-Source: ABdhPJwf458xGexI6j9rzdx76r+ZgU0CiTh4q+ebSzA/OSJtbqpD6+k8+n46tHaIl1obplPxHctYUXzksc5F574jzus=
X-Received: by 2002:a9f:24d4:: with SMTP id 78mr4744540uar.47.1600809014913;
 Tue, 22 Sep 2020 14:10:14 -0700 (PDT)
MIME-Version: 1.0
References: <20200922210510.156220-1-lyude@redhat.com>
In-Reply-To: <20200922210510.156220-1-lyude@redhat.com>
From: Ilia Mirkin <imirkin@alum.mit.edu>
Date: Tue, 22 Sep 2020 17:10:03 -0400
Message-ID: <CAKb7UvhAb0wFd9Qi1FGJ=TAYZJ9DYXL6XXMfnG49xEO=a9TuYg@mail.gmail.com>
Subject: Re: [PATCH] drm/nouveau/kms/nv50-: Fix clock checking algorithm in
 nv50_dp_mode_valid()
To: Lyude Paul <lyude@redhat.com>
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: David Airlie <airlied@linux.ie>, nouveau <nouveau@lists.freedesktop.org>,
 open list <linux-kernel@vger.kernel.org>,
 "open list:DRM DRIVER FOR NVIDIA GEFORCE/QUADRO GPUS"
 <dri-devel@lists.freedesktop.org>, Ben Skeggs <bskeggs@redhat.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Q2FuIHdlIHVzZSA2YnBjIG9uIGFyYml0cmFyeSBEUCBtb25pdG9ycywgb3IgaXMgdGhlcmUgYSBj
YXBhYmlsaXR5IGZvcgppdD8gTWF5YmUgb25seSB1c2UgNmJwYyBpZiBkaXNwbGF5X2luZm8uYnBj
ID09IDYgYW5kIG90aGVyd2lzZSB1c2UgOD8KCk9uIFR1ZSwgU2VwIDIyLCAyMDIwIGF0IDU6MDYg
UE0gTHl1ZGUgUGF1bCA8bHl1ZGVAcmVkaGF0LmNvbT4gd3JvdGU6Cj4KPiBXaGlsZSBJIHRob3Vn
aHQgSSBoYWQgdGhpcyBjb3JyZWN0IChzaW5jZSBpdCBhY3R1YWxseSBkaWQgcmVqZWN0IG1vZGVz
Cj4gbGlrZSBJIGV4cGVjdGVkIGR1cmluZyB0ZXN0aW5nKSwgVmlsbGUgU3lyamFsYSBmcm9tIElu
dGVsIHBvaW50ZWQgb3V0Cj4gdGhhdCB0aGUgbG9naWMgaGVyZSBpc24ndCBjb3JyZWN0LiBtYXhf
Y2xvY2sgcmVmZXJzIHRvIHRoZSBtYXggc3ltYm9sCj4gcmF0ZSBzdXBwb3J0ZWQgYnkgdGhlIGVu
Y29kZXIsIHNvIGxpbWl0aW5nIGNsb2NrIHRvIGRzX2Nsb2NrIHVzaW5nIG1heCgpCj4gZG9lc24n
dCBtYWtlIHNlbnNlLiBBZGRpdGlvbmFsbHksIHdlIHdhbnQgdG8gY2hlY2sgYWdhaW5zdCA2YnBj
IGZvciB0aGUKPiB0aW1lIGJlaW5nIHNpbmNlIHRoYXQncyB0aGUgbWluaW11bSBwb3NzaWJsZSBi
cGMgaGVyZSwgbm90IHRoZSByZXBvcnRlZAo+IGJwYyBmcm9tIHRoZSBjb25uZWN0b3IuIFNlZToK
Pgo+IGh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL2FyY2hpdmVzL2RyaS1kZXZlbC8yMDIw
LVNlcHRlbWJlci8yODAyNzYuaHRtbAo+Cj4gRm9yIG1vcmUgaW5mby4KPgo+IFNvLCBsZXQncyBy
ZXdyaXRlIHRoaXMgdXNpbmcgVmlsbGUncyBhZHZpY2UuCj4KPiBTaWduZWQtb2ZmLWJ5OiBMeXVk
ZSBQYXVsIDxseXVkZUByZWRoYXQuY29tPgo+IEZpeGVzOiA0MDlkMzgxMzliNDIgKCJkcm0vbm91
dmVhdS9rbXMvbnY1MC06IFVzZSBkb3duc3RyZWFtIERQIGNsb2NrIGxpbWl0cyBmb3IgbW9kZSB2
YWxpZGF0aW9uIikKPiBDYzogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4Lmlu
dGVsLmNvbT4KPiBDYzogTHl1ZGUgUGF1bCA8bHl1ZGVAcmVkaGF0LmNvbT4KPiBDYzogQmVuIFNr
ZWdncyA8YnNrZWdnc0ByZWRoYXQuY29tPgo+IC0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vbm91dmVh
dS9ub3V2ZWF1X2RwLmMgfCAyMyArKysrKysrKysrKysrLS0tLS0tLS0tLQo+ICAxIGZpbGUgY2hh
bmdlZCwgMTMgaW5zZXJ0aW9ucygrKSwgMTAgZGVsZXRpb25zKC0pCj4KPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbm91dmVhdV9kcC5jIGIvZHJpdmVycy9ncHUvZHJtL25v
dXZlYXUvbm91dmVhdV9kcC5jCj4gaW5kZXggN2I2NDBlMDViZDRjZC4uMjRjODFlNDIzZDM0OSAx
MDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X2RwLmMKPiArKysg
Yi9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X2RwLmMKPiBAQCAtMjMxLDIzICsyMzEs
MjYgQEAgbnY1MF9kcF9tb2RlX3ZhbGlkKHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3Is
Cj4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2Rl
LAo+ICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCAqb3V0X2Nsb2NrKQo+ICB7Cj4gLSAgICAg
ICBjb25zdCB1bnNpZ25lZCBtaW5fY2xvY2sgPSAyNTAwMDsKPiAtICAgICAgIHVuc2lnbmVkIG1h
eF9jbG9jaywgZHNfY2xvY2ssIGNsb2NrOwo+ICsgICAgICAgY29uc3QgdW5zaWduZWQgaW50IG1p
bl9jbG9jayA9IDI1MDAwOwo+ICsgICAgICAgdW5zaWduZWQgaW50IG1heF9jbG9jaywgZHNfY2xv
Y2ssIGNsb2NrOwo+ICsgICAgICAgY29uc3QgdTggYnBwID0gMTg7IC8qIDYgYnBjICovCj4gICAg
ICAgICBlbnVtIGRybV9tb2RlX3N0YXR1cyByZXQ7Cj4KPiAgICAgICAgIGlmIChtb2RlLT5mbGFn
cyAmIERSTV9NT0RFX0ZMQUdfSU5URVJMQUNFICYmICFvdXRwLT5jYXBzLmRwX2ludGVybGFjZSkK
PiAgICAgICAgICAgICAgICAgcmV0dXJuIE1PREVfTk9fSU5URVJMQUNFOwo+Cj4gICAgICAgICBt
YXhfY2xvY2sgPSBvdXRwLT5kcC5saW5rX25yICogb3V0cC0+ZHAubGlua19idzsKPiAtICAgICAg
IGRzX2Nsb2NrID0gZHJtX2RwX2Rvd25zdHJlYW1fbWF4X2RvdGNsb2NrKG91dHAtPmRwLmRwY2Qs
Cj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRw
LT5kcC5kb3duc3RyZWFtX3BvcnRzKTsKPiAtICAgICAgIGlmIChkc19jbG9jaykKPiAtICAgICAg
ICAgICAgICAgbWF4X2Nsb2NrID0gbWluKG1heF9jbG9jaywgZHNfY2xvY2spOwo+IC0KPiAtICAg
ICAgIGNsb2NrID0gbW9kZS0+Y2xvY2sgKiAoY29ubmVjdG9yLT5kaXNwbGF5X2luZm8uYnBjICog
MykgLyAxMDsKPiAtICAgICAgIHJldCA9IG5vdXZlYXVfY29ubl9tb2RlX2Nsb2NrX3ZhbGlkKG1v
ZGUsIG1pbl9jbG9jaywgbWF4X2Nsb2NrLAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgJmNsb2NrKTsKPiArICAgICAgIGNsb2NrID0gbW9kZS0+Y2xvY2sgKiBi
cHAgLyA4Owo+ICsgICAgICAgaWYgKGNsb2NrID4gbWF4X2Nsb2NrKQo+ICsgICAgICAgICAgICAg
ICByZXR1cm4gTU9ERV9DTE9DS19ISUdIOwo+ICsKPiArICAgICAgIGRzX2Nsb2NrID0gZHJtX2Rw
X2Rvd25zdHJlYW1fbWF4X2RvdGNsb2NrKG91dHAtPmRwLmRwY2QsIG91dHAtPmRwLmRvd25zdHJl
YW1fcG9ydHMpOwo+ICsgICAgICAgaWYgKGRzX2Nsb2NrICYmIG1vZGUtPmNsb2NrID4gZHNfY2xv
Y2spCj4gKyAgICAgICAgICAgICAgIHJldHVybiBNT0RFX0NMT0NLX0hJR0g7Cj4gKwo+ICsgICAg
ICAgcmV0ID0gbm91dmVhdV9jb25uX21vZGVfY2xvY2tfdmFsaWQobW9kZSwgbWluX2Nsb2NrLCBt
YXhfY2xvY2ssICZjbG9jayk7Cj4gICAgICAgICBpZiAob3V0X2Nsb2NrKQo+ICAgICAgICAgICAg
ICAgICAqb3V0X2Nsb2NrID0gY2xvY2s7Cj4gKwo+ICAgICAgICAgcmV0dXJuIHJldDsKPiAgfQo+
IC0tCj4gMi4yNi4yCj4KPiBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fXwo+IGRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKPiBkcmktZGV2ZWxAbGlzdHMuZnJlZWRl
c2t0b3Aub3JnCj4gaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5m
by9kcmktZGV2ZWwKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
Cmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
Cg==
