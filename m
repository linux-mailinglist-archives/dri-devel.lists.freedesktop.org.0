Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 1E3748DD59
	for <lists+dri-devel@lfdr.de>; Wed, 14 Aug 2019 20:47:44 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id F2EBE6E7EC;
	Wed, 14 Aug 2019 18:47:38 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-pf1-x444.google.com (mail-pf1-x444.google.com
 [IPv6:2607:f8b0:4864:20::444])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7B3E66E7DC
 for <dri-devel@lists.freedesktop.org>; Wed, 14 Aug 2019 18:47:27 +0000 (UTC)
Received: by mail-pf1-x444.google.com with SMTP id 129so7187521pfa.4
 for <dri-devel@lists.freedesktop.org>; Wed, 14 Aug 2019 11:47:27 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references;
 bh=sfKXX+o4Qp2/I5oLyNwYp5frrb8P6SiEjD+Gvi5BkT0=;
 b=KyLtMnj+0yy33lvGFlXdZ62yL6Bauln9svLL1lbCm+ImlAoaLjOT3n/OWROGmJQ/LE
 2XvZDR+OmEHWquL5T/muMCVijm7n2CGDAskTdINHtgUs04mUZlHLUTrSwEnVISrja0hn
 DO7/xf38lCjr0ZQ3wMFyfo45BHcL9YfPCX1d3scr1ZxPwt35bz0u0mypwnnAMRgyMgtJ
 Gu0HwT4M6hDCPd04Y0eKfpebLriowq9+Chafk1uFAEcFZ+1Y63ppqHpfmzUr7kEmHSnP
 mpWcpqHJUSz6ArgbGamTUHNWDTRCIhVQGLRtQjk0bIRXVIDXDpoGgvE3sZTJRNpvm2+w
 46aA==
X-Gm-Message-State: APjAAAWAVDpYsTuHgekZuQjWuZp8iusd89cQtqOLsJrw7K27ROarBAME
 hChdBcOA6e445J6MOhaENa+JpA==
X-Google-Smtp-Source: APXvYqyti+/OTVYfzLGL5f/MtTZ6Q0iILK/4POxjmbTxxzDN0spGBwaiT/XdSekW3R43JNlWtf0cCw==
X-Received: by 2002:a17:90a:5288:: with SMTP id
 w8mr1079972pjh.61.1565808446871; 
 Wed, 14 Aug 2019 11:47:26 -0700 (PDT)
Received: from localhost.localdomain ([2601:1c2:680:1319:692:26ff:feda:3a81])
 by smtp.gmail.com with ESMTPSA id
 y16sm610855pfc.36.2019.08.14.11.47.25
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Wed, 14 Aug 2019 11:47:26 -0700 (PDT)
From: John Stultz <john.stultz@linaro.org>
To: lkml <linux-kernel@vger.kernel.org>
Subject: [RESEND][PATCH v3 13/26] drm: kirin: Reanme dc_ops to kirin_drm_data
Date: Wed, 14 Aug 2019 18:46:49 +0000
Message-Id: <20190814184702.54275-14-john.stultz@linaro.org>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20190814184702.54275-1-john.stultz@linaro.org>
References: <20190814184702.54275-1-john.stultz@linaro.org>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=linaro.org; s=google;
 h=from:to:cc:subject:date:message-id:in-reply-to:references;
 bh=sfKXX+o4Qp2/I5oLyNwYp5frrb8P6SiEjD+Gvi5BkT0=;
 b=T9iZEwFJF+TJKY0hHgQxpaN4a7p8bUuNIhxCNxLQu39fiS3b6qpIngIlGx0/PsKPxL
 5BhpUZFNY4Y1uicrCiOl/ecaqtix8bpnBrPTriSTl+FU6MvKZhD40K1X9tpi1TJvUPHm
 ZcAJO5JN/u2+RtuXPVeqCXTc3hi688nlSKe/ziB84VAnL9rED7HxiWWfh4RFYEADZwot
 SFUn3RzcO/DdUz0dukUuu57PdnIWrfbgtu4pdiouqY8sD6tKNiQFqbIJ2WGGR0Ld88tt
 +rvamYv9LUD5NWc/6TOtfO5PHTojq78/3MAmbMdtuZTQZHWhgnPjE3bkqg75GhB2aJe5
 AbPQ==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Xu YiPing <xuyiping@hisilicon.com>, David Airlie <airlied@linux.ie>,
 dri-devel <dri-devel@lists.freedesktop.org>,
 Xinliang Liu <z.liuxinliang@hisilicon.com>,
 Rongrong Zou <zourongrong@gmail.com>, Sam Ravnborg <sam@ravnborg.org>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogWHUgWWlQaW5nIDx4dXlpcGluZ0BoaXNpbGljb24uY29tPgoKQXMgcGFydCBvZiByZWZh
Y3RvcmluZyB0aGUga2lyaW4gZHJpdmVyIHRvIGJldHRlciBzdXBwb3J0CmRpZmZlcmVudCBoYXJk
d2FyZSByZXZpc2lvbnMsIHRoaXMgcGF0Y2ggcmVuYW1lcyB0aGUKc3RydWN0IGtpcmluX2RjX29w
cyB0byBzdHJ1Y3Qga2lyaW5fZHJtX2RhdGEgYW5kIGNsZWFucwp1cCB0aGUgcmVsYXRlZCB2YXJp
YWJsZSBuYW1lcy4KCkNjOiBSb25ncm9uZyBab3UgPHpvdXJvbmdyb25nQGdtYWlsLmNvbT4KQ2M6
IFhpbmxpYW5nIExpdSA8ei5saXV4aW5saWFuZ0BoaXNpbGljb24uY29tPgpDYzogRGF2aWQgQWly
bGllIDxhaXJsaWVkQGxpbnV4LmllPgpDYzogRGFuaWVsIFZldHRlciA8ZGFuaWVsQGZmd2xsLmNo
PgpDYzogZHJpLWRldmVsIDxkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnPgpDYzogU2Ft
IFJhdm5ib3JnIDxzYW1AcmF2bmJvcmcub3JnPgpSZXZpZXdlZC1ieTogU2FtIFJhdm5ib3JnIDxz
YW1AcmF2bmJvcmcub3JnPgpTaWduZWQtb2ZmLWJ5OiBYdSBZaVBpbmcgPHh1eWlwaW5nQGhpc2ls
aWNvbi5jb20+Cltqc3R1bHR6OiByZXdvcmRlZCBjb21taXQgbWVzc2FnZV0KU2lnbmVkLW9mZi1i
eTogSm9obiBTdHVsdHogPGpvaG4uc3R1bHR6QGxpbmFyby5vcmc+Ci0tLQogZHJpdmVycy9ncHUv
ZHJtL2hpc2lsaWNvbi9raXJpbi9raXJpbl9kcm1fYWRlLmMgfCAgMiArLQogZHJpdmVycy9ncHUv
ZHJtL2hpc2lsaWNvbi9raXJpbi9raXJpbl9kcm1fZHJ2LmMgfCAxNiArKysrKysrKy0tLS0tLS0t
CiBkcml2ZXJzL2dwdS9kcm0vaGlzaWxpY29uL2tpcmluL2tpcmluX2RybV9kcnYuaCB8ICA0ICsr
LS0KIDMgZmlsZXMgY2hhbmdlZCwgMTEgaW5zZXJ0aW9ucygrKSwgMTEgZGVsZXRpb25zKC0pCgpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2hpc2lsaWNvbi9raXJpbi9raXJpbl9kcm1fYWRl
LmMgYi9kcml2ZXJzL2dwdS9kcm0vaGlzaWxpY29uL2tpcmluL2tpcmluX2RybV9hZGUuYwppbmRl
eCAzYWQxZTI5MGJmNTguLmFjYWUyODE1ZWRlZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2hpc2lsaWNvbi9raXJpbi9raXJpbl9kcm1fYWRlLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2hp
c2lsaWNvbi9raXJpbi9raXJpbl9kcm1fYWRlLmMKQEAgLTEwNTUsNyArMTA1NSw3IEBAIHN0YXRp
YyB2b2lkIGFkZV9kcm1fY2xlYW51cChzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQogewog
fQogCi1jb25zdCBzdHJ1Y3Qga2lyaW5fZGNfb3BzIGFkZV9kY19vcHMgPSB7CitzdHJ1Y3Qga2ly
aW5fZHJtX2RhdGEgYWRlX2RyaXZlcl9kYXRhID0gewogCS5pbml0ID0gYWRlX2RybV9pbml0LAog
CS5jbGVhbnVwID0gYWRlX2RybV9jbGVhbnVwCiB9OwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2hpc2lsaWNvbi9raXJpbi9raXJpbl9kcm1fZHJ2LmMgYi9kcml2ZXJzL2dwdS9kcm0vaGlz
aWxpY29uL2tpcmluL2tpcmluX2RybV9kcnYuYwppbmRleCBiZmUwNTA1YWM0YTAuLjYwYzE2NDYy
M2Y1NiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2hpc2lsaWNvbi9raXJpbi9raXJpbl9k
cm1fZHJ2LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2hpc2lsaWNvbi9raXJpbi9raXJpbl9kcm1f
ZHJ2LmMKQEAgLTI4LDEyICsyOCwxMiBAQAogCiAjaW5jbHVkZSAia2lyaW5fZHJtX2Rydi5oIgog
Ci1zdGF0aWMgc3RydWN0IGtpcmluX2RjX29wcyAqZGNfb3BzOworc3RhdGljIHN0cnVjdCBraXJp
bl9kcm1fZGF0YSAqZHJpdmVyX2RhdGE7CiAKIHN0YXRpYyBpbnQga2lyaW5fZHJtX2ttc19jbGVh
bnVwKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYpCiB7CiAJZHJtX2ttc19oZWxwZXJfcG9sbF9maW5p
KGRldik7Ci0JZGNfb3BzLT5jbGVhbnVwKHRvX3BsYXRmb3JtX2RldmljZShkZXYtPmRldikpOwor
CWRyaXZlcl9kYXRhLT5jbGVhbnVwKHRvX3BsYXRmb3JtX2RldmljZShkZXYtPmRldikpOwogCWRy
bV9tb2RlX2NvbmZpZ19jbGVhbnVwKGRldik7CiAKIAlyZXR1cm4gMDsKQEAgLTY3LDcgKzY3LDcg
QEAgc3RhdGljIGludCBraXJpbl9kcm1fa21zX2luaXQoc3RydWN0IGRybV9kZXZpY2UgKmRldikK
IAlraXJpbl9kcm1fbW9kZV9jb25maWdfaW5pdChkZXYpOwogCiAJLyogZGlzcGxheSBjb250cm9s
bGVyIGluaXQgKi8KLQlyZXQgPSBkY19vcHMtPmluaXQodG9fcGxhdGZvcm1fZGV2aWNlKGRldi0+
ZGV2KSk7CisJcmV0ID0gZHJpdmVyX2RhdGEtPmluaXQodG9fcGxhdGZvcm1fZGV2aWNlKGRldi0+
ZGV2KSk7CiAJaWYgKHJldCkKIAkJZ290byBlcnJfbW9kZV9jb25maWdfY2xlYW51cDsKIApAQCAt
OTgsNyArOTgsNyBAQCBzdGF0aWMgaW50IGtpcmluX2RybV9rbXNfaW5pdChzdHJ1Y3QgZHJtX2Rl
dmljZSAqZGV2KQogZXJyX3VuYmluZF9hbGw6CiAJY29tcG9uZW50X3VuYmluZF9hbGwoZGV2LT5k
ZXYsIGRldik7CiBlcnJfZGNfY2xlYW51cDoKLQlkY19vcHMtPmNsZWFudXAodG9fcGxhdGZvcm1f
ZGV2aWNlKGRldi0+ZGV2KSk7CisJZHJpdmVyX2RhdGEtPmNsZWFudXAodG9fcGxhdGZvcm1fZGV2
aWNlKGRldi0+ZGV2KSk7CiBlcnJfbW9kZV9jb25maWdfY2xlYW51cDoKIAlkcm1fbW9kZV9jb25m
aWdfY2xlYW51cChkZXYpOwogCkBAIC0xOTYsOCArMTk2LDggQEAgc3RhdGljIGludCBraXJpbl9k
cm1fcGxhdGZvcm1fcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKIAlzdHJ1Y3Qg
Y29tcG9uZW50X21hdGNoICptYXRjaCA9IE5VTEw7CiAJc3RydWN0IGRldmljZV9ub2RlICpyZW1v
dGU7CiAKLQlkY19vcHMgPSAoc3RydWN0IGtpcmluX2RjX29wcyAqKW9mX2RldmljZV9nZXRfbWF0
Y2hfZGF0YShkZXYpOwotCWlmICghZGNfb3BzKSB7CisJZHJpdmVyX2RhdGEgPSAoc3RydWN0IGtp
cmluX2RybV9kYXRhICopb2ZfZGV2aWNlX2dldF9tYXRjaF9kYXRhKGRldik7CisJaWYgKCFkcml2
ZXJfZGF0YSkgewogCQlEUk1fRVJST1IoImZhaWxlZCB0byBnZXQgZHQgaWQgZGF0YVxuIik7CiAJ
CXJldHVybiAtRUlOVkFMOwogCX0KQEAgLTIxNSwxMyArMjE1LDEzIEBAIHN0YXRpYyBpbnQga2ly
aW5fZHJtX3BsYXRmb3JtX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCiBzdGF0
aWMgaW50IGtpcmluX2RybV9wbGF0Zm9ybV9yZW1vdmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAq
cGRldikKIHsKIAljb21wb25lbnRfbWFzdGVyX2RlbCgmcGRldi0+ZGV2LCAma2lyaW5fZHJtX29w
cyk7Ci0JZGNfb3BzID0gTlVMTDsKKwlkcml2ZXJfZGF0YSA9IE5VTEw7CiAJcmV0dXJuIDA7CiB9
CiAKIHN0YXRpYyBjb25zdCBzdHJ1Y3Qgb2ZfZGV2aWNlX2lkIGtpcmluX2RybV9kdF9pZHNbXSA9
IHsKIAl7IC5jb21wYXRpYmxlID0gImhpc2lsaWNvbixoaTYyMjAtYWRlIiwKLQkgIC5kYXRhID0g
JmFkZV9kY19vcHMsCisJICAuZGF0YSA9ICZhZGVfZHJpdmVyX2RhdGEsCiAJfSwKIAl7IC8qIGVu
ZCBub2RlICovIH0sCiB9OwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2hpc2lsaWNvbi9r
aXJpbi9raXJpbl9kcm1fZHJ2LmggYi9kcml2ZXJzL2dwdS9kcm0vaGlzaWxpY29uL2tpcmluL2tp
cmluX2RybV9kcnYuaAppbmRleCBkNDdjYmI0Mjc5NzkuLmNkMmVhYTY1M2RiNyAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2hpc2lsaWNvbi9raXJpbi9raXJpbl9kcm1fZHJ2LmgKKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2hpc2lsaWNvbi9raXJpbi9raXJpbl9kcm1fZHJ2LmgKQEAgLTM0LDEx
ICszNCwxMSBAQCBzdHJ1Y3Qga2lyaW5fcGxhbmUgewogfTsKIAogLyogZGlzcGxheSBjb250cm9s
bGVyIGluaXQvY2xlYW51cCBvcHMgKi8KLXN0cnVjdCBraXJpbl9kY19vcHMgeworc3RydWN0IGtp
cmluX2RybV9kYXRhIHsKIAlpbnQgKCppbml0KShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2
KTsKIAl2b2lkICgqY2xlYW51cCkoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldik7CiB9Owog
Ci1leHRlcm4gY29uc3Qgc3RydWN0IGtpcmluX2RjX29wcyBhZGVfZGNfb3BzOworZXh0ZXJuIHN0
cnVjdCBraXJpbl9kcm1fZGF0YSBhZGVfZHJpdmVyX2RhdGE7CiAKICNlbmRpZiAvKiBfX0tJUklO
X0RSTV9EUlZfSF9fICovCi0tIAoyLjE3LjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3Rz
LmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xp
c3RpbmZvL2RyaS1kZXZlbA==
