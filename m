Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id D3D0F178E60
	for <lists+dri-devel@lfdr.de>; Wed,  4 Mar 2020 11:29:11 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A3B7E6EB0F;
	Wed,  4 Mar 2020 10:28:59 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from ste-pvt-msa2.bahnhof.se (ste-pvt-msa2.bahnhof.se
 [213.80.101.71])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0A96A6EB08
 for <dri-devel@lists.freedesktop.org>; Wed,  4 Mar 2020 10:28:54 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by ste-pvt-msa2.bahnhof.se (Postfix) with ESMTP id 92FA73F50E;
 Wed,  4 Mar 2020 11:28:52 +0100 (CET)
Authentication-Results: ste-pvt-msa2.bahnhof.se; dkim=pass (1024-bit key;
 unprotected) header.d=shipmail.org header.i=@shipmail.org header.b=MqLjps25; 
 dkim-atps=neutral
X-Virus-Scanned: Debian amavisd-new at bahnhof.se
X-Spam-Flag: NO
X-Spam-Score: -2.099
X-Spam-Level: 
X-Spam-Status: No, score=-2.099 tagged_above=-999 required=6.31
 tests=[BAYES_00=-1.9, DKIM_SIGNED=0.1, DKIM_VALID=-0.1,
 DKIM_VALID_AU=-0.1, DKIM_VALID_EF=-0.1, URIBL_BLOCKED=0.001]
 autolearn=ham autolearn_force=no
Authentication-Results: ste-ftg-msa2.bahnhof.se (amavisd-new);
 dkim=pass (1024-bit key) header.d=shipmail.org
Received: from ste-pvt-msa2.bahnhof.se ([127.0.0.1])
 by localhost (ste-ftg-msa2.bahnhof.se [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 5m1gArvW3r0h; Wed,  4 Mar 2020 11:28:50 +0100 (CET)
Received: from mail1.shipmail.org (h-205-35.A357.priv.bahnhof.se
 [155.4.205.35]) (Authenticated sender: mb878879)
 by ste-pvt-msa2.bahnhof.se (Postfix) with ESMTPA id 6474E3FDC1;
 Wed,  4 Mar 2020 11:28:50 +0100 (CET)
Received: from localhost.localdomain.localdomain
 (h-205-35.A357.priv.bahnhof.se [155.4.205.35])
 by mail1.shipmail.org (Postfix) with ESMTPSA id AAB4B360653;
 Wed,  4 Mar 2020 11:28:48 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=shipmail.org; s=mail;
 t=1583317728; bh=OqSVoovR/+c4qu+cIitn9nr+0rwe7G3GlfCeEEsfKXA=;
 h=From:To:Cc:Subject:Date:In-Reply-To:References:From;
 b=MqLjps25hpLAqnful3hHzjtnD9iz/vTMvaNrAZ4xMWwsq8+xFOo4KFJ8DJvrfHhUk
 FkhoSKw/lXUwiDdDgYVdhWjui+Q5qOF3fK+cKWXpTxlXDZI2KON179zV1hj8muxIJp
 DzCSe7tuExwYqU/EVynkBiLfvB+ORNPB2n1FGb2k=
From: =?UTF-8?q?Thomas=20Hellstr=C3=B6m=20=28VMware=29?=
 <thomas_os@shipmail.org>
To: linux-mm@kvack.org, dri-devel@lists.freedesktop.org,
 linux-kernel@vger.kernel.org
Subject: [PATCH v6 7/9] drm: Add a drm_get_unmapped_area() helper
Date: Wed,  4 Mar 2020 11:28:38 +0100
Message-Id: <20200304102840.2801-8-thomas_os@shipmail.org>
X-Mailer: git-send-email 2.21.1
In-Reply-To: <20200304102840.2801-1-thomas_os@shipmail.org>
References: <20200304102840.2801-1-thomas_os@shipmail.org>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Thomas Hellstrom <thellstrom@vmware.com>, Michal Hocko <mhocko@suse.com>,
 pv-drivers@vmware.com, Roland Scheidegger <sroland@vmware.com>,
 Dan Williams <dan.j.williams@intel.com>, Ralph Campbell <rcampbell@nvidia.com>,
 "Matthew Wilcox \(Oracle\)" <willy@infradead.org>,
 =?UTF-8?q?J=C3=A9r=C3=B4me=20Glisse?= <jglisse@redhat.com>,
 linux-graphics-maintainer@vmware.com,
 Andrew Morton <akpm@linux-foundation.org>,
 =?UTF-8?q?Christian=20K=C3=B6nig?= <christian.koenig@amd.com>,
 "Kirill A. Shutemov" <kirill.shutemov@linux.intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogVGhvbWFzIEhlbGxzdHJvbSA8dGhlbGxzdHJvbUB2bXdhcmUuY29tPgoKVW5hbGlnbmVk
IHZpcnR1YWwgYWRkcmVzc2VzIG1ha2VzIGl0IHVubGlrZWx5IHRoYXQgaHVnZSBwYWdlLXRhYmxl
IGVudHJpZXMKY2FuIGJlIHVzZWQuClNvIGFsaWduIHZpcnR1YWwgYnVmZmVyIG9iamVjdCBhZGRy
ZXNzIGh1Z2UgcGFnZSBib3VuZGFyaWVzIHRvIHRoZQp1bmRlcmx5aW5nIHBoeXNpY2FsIGFkZHJl
c3MgaHVnZSBwYWdlIGJvdW5kYXJpZXMgdGFraW5nIGJ1ZmZlciBvYmplY3QKc2l6ZXMgaW50byBh
Y2NvdW50IHRvIGRldGVybWluZSB3aGVuIGl0IG1pZ2h0IGJlIHBvc3NpYmxlIHRvIHVzZSBodWdl
CnBhZ2UtdGFibGUgZW50cmllcy4KCkNjOiBBbmRyZXcgTW9ydG9uIDxha3BtQGxpbnV4LWZvdW5k
YXRpb24ub3JnPgpDYzogTWljaGFsIEhvY2tvIDxtaG9ja29Ac3VzZS5jb20+CkNjOiAiTWF0dGhl
dyBXaWxjb3ggKE9yYWNsZSkiIDx3aWxseUBpbmZyYWRlYWQub3JnPgpDYzogIktpcmlsbCBBLiBT
aHV0ZW1vdiIgPGtpcmlsbC5zaHV0ZW1vdkBsaW51eC5pbnRlbC5jb20+CkNjOiBSYWxwaCBDYW1w
YmVsbCA8cmNhbXBiZWxsQG52aWRpYS5jb20+CkNjOiAiSsOpcsO0bWUgR2xpc3NlIiA8amdsaXNz
ZUByZWRoYXQuY29tPgpDYzogIkNocmlzdGlhbiBLw7ZuaWciIDxjaHJpc3RpYW4ua29lbmlnQGFt
ZC5jb20+CkNjOiBEYW4gV2lsbGlhbXMgPGRhbi5qLndpbGxpYW1zQGludGVsLmNvbT4KU2lnbmVk
LW9mZi1ieTogVGhvbWFzIEhlbGxzdHJvbSA8dGhlbGxzdHJvbUB2bXdhcmUuY29tPgpSZXZpZXdl
ZC1ieTogUm9sYW5kIFNjaGVpZGVnZ2VyIDxzcm9sYW5kQHZtd2FyZS5jb20+CkFja2VkLWJ5OiBD
aHJpc3RpYW4gS8O2bmlnIDxjaHJpc3RpYW4ua29lbmlnQGFtZC5jb20+Ci0tLQogZHJpdmVycy9n
cHUvZHJtL2RybV9maWxlLmMgfCAxNDAgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKwogaW5jbHVkZS9kcm0vZHJtX2ZpbGUuaCAgICAgfCAgIDkgKysrCiAyIGZpbGVzIGNoYW5n
ZWQsIDE0OSBpbnNlcnRpb25zKCspCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2RybV9m
aWxlLmMgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2ZpbGUuYwppbmRleCA5MmQxNjcyNGY5NDkuLjc3
ZTY5MTIwMmI1MiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2RybV9maWxlLmMKKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2RybV9maWxlLmMKQEAgLTQ4LDYgKzQ4LDExIEBACiAjaW5jbHVkZSAi
ZHJtX2ludGVybmFsLmgiCiAjaW5jbHVkZSAiZHJtX2xlZ2FjeS5oIgogCisjaWZkZWYgQ09ORklH
X01NVQorI2luY2x1ZGUgPHVhcGkvYXNtL21tYW4uaD4KKyNpbmNsdWRlIDxkcm0vZHJtX3ZtYV9t
YW5hZ2VyLmg+CisjZW5kaWYKKwogLyogZnJvbSBCS0wgcHVzaGRvd24gKi8KIERFRklORV9NVVRF
WChkcm1fZ2xvYmFsX211dGV4KTsKIApAQCAtNzk2LDMgKzgwMSwxMzggQEAgc3RydWN0IGZpbGUg
Km1vY2tfZHJtX2dldGZpbGUoc3RydWN0IGRybV9taW5vciAqbWlub3IsIHVuc2lnbmVkIGludCBm
bGFncykKIAlyZXR1cm4gZmlsZTsKIH0KIEVYUE9SVF9TWU1CT0xfRk9SX1RFU1RTX09OTFkobW9j
a19kcm1fZ2V0ZmlsZSk7CisKKyNpZmRlZiBDT05GSUdfTU1VCisjaWZkZWYgQ09ORklHX1RSQU5T
UEFSRU5UX0hVR0VQQUdFCisvKgorICogZHJtX2FkZHJfaW5mbGF0ZSgpIGF0dGVtcHRzIHRvIGNv
bnN0cnVjdCBhbiBhbGlnbmVkIGFyZWEgYnkgaW5mbGF0aW5nCisgKiB0aGUgYXJlYSBzaXplIGFu
ZCBza2lwcGluZyB0aGUgdW5hbGlnbmVkIHN0YXJ0IG9mIHRoZSBhcmVhLgorICogYWRhcHRlZCBm
cm9tIHNobWVtX2dldF91bm1hcHBlZF9hcmVhKCkKKyAqLworc3RhdGljIHVuc2lnbmVkIGxvbmcg
ZHJtX2FkZHJfaW5mbGF0ZSh1bnNpZ25lZCBsb25nIGFkZHIsCisJCQkJICAgICAgdW5zaWduZWQg
bG9uZyBsZW4sCisJCQkJICAgICAgdW5zaWduZWQgbG9uZyBwZ29mZiwKKwkJCQkgICAgICB1bnNp
Z25lZCBsb25nIGZsYWdzLAorCQkJCSAgICAgIHVuc2lnbmVkIGxvbmcgaHVnZV9zaXplKQorewor
CXVuc2lnbmVkIGxvbmcgb2Zmc2V0LCBpbmZsYXRlZF9sZW47CisJdW5zaWduZWQgbG9uZyBpbmZs
YXRlZF9hZGRyOworCXVuc2lnbmVkIGxvbmcgaW5mbGF0ZWRfb2Zmc2V0OworCisJb2Zmc2V0ID0g
KHBnb2ZmIDw8IFBBR0VfU0hJRlQpICYgKGh1Z2Vfc2l6ZSAtIDEpOworCWlmIChvZmZzZXQgJiYg
b2Zmc2V0ICsgbGVuIDwgMiAqIGh1Z2Vfc2l6ZSkKKwkJcmV0dXJuIGFkZHI7CisJaWYgKChhZGRy
ICYgKGh1Z2Vfc2l6ZSAtIDEpKSA9PSBvZmZzZXQpCisJCXJldHVybiBhZGRyOworCisJaW5mbGF0
ZWRfbGVuID0gbGVuICsgaHVnZV9zaXplIC0gUEFHRV9TSVpFOworCWlmIChpbmZsYXRlZF9sZW4g
PiBUQVNLX1NJWkUpCisJCXJldHVybiBhZGRyOworCWlmIChpbmZsYXRlZF9sZW4gPCBsZW4pCisJ
CXJldHVybiBhZGRyOworCisJaW5mbGF0ZWRfYWRkciA9IGN1cnJlbnQtPm1tLT5nZXRfdW5tYXBw
ZWRfYXJlYShOVUxMLCAwLCBpbmZsYXRlZF9sZW4sCisJCQkJCQkgICAgICAgMCwgZmxhZ3MpOwor
CWlmIChJU19FUlJfVkFMVUUoaW5mbGF0ZWRfYWRkcikpCisJCXJldHVybiBhZGRyOworCWlmIChp
bmZsYXRlZF9hZGRyICYgflBBR0VfTUFTSykKKwkJcmV0dXJuIGFkZHI7CisKKwlpbmZsYXRlZF9v
ZmZzZXQgPSBpbmZsYXRlZF9hZGRyICYgKGh1Z2Vfc2l6ZSAtIDEpOworCWluZmxhdGVkX2FkZHIg
Kz0gb2Zmc2V0IC0gaW5mbGF0ZWRfb2Zmc2V0OworCWlmIChpbmZsYXRlZF9vZmZzZXQgPiBvZmZz
ZXQpCisJCWluZmxhdGVkX2FkZHIgKz0gaHVnZV9zaXplOworCisJaWYgKGluZmxhdGVkX2FkZHIg
PiBUQVNLX1NJWkUgLSBsZW4pCisJCXJldHVybiBhZGRyOworCisJcmV0dXJuIGluZmxhdGVkX2Fk
ZHI7Cit9CisKKy8qKgorICogZHJtX2dldF91bm1hcHBlZF9hcmVhKCkgLSBHZXQgYW4gdW51c2Vk
IHVzZXItc3BhY2UgdmlydHVhbCBtZW1vcnkgYXJlYQorICogc3VpdGFibGUgZm9yIGh1Z2UgcGFn
ZSB0YWJsZSBlbnRyaWVzLgorICogQGZpbGU6IFRoZSBzdHJ1Y3QgZmlsZSByZXByZXNlbnRpbmcg
dGhlIGFkZHJlc3Mgc3BhY2UgYmVpbmcgbW1hcCgpJ2QuCisgKiBAdWFkZHI6IFN0YXJ0IGFkZHJl
c3Mgc3VnZ2VzdGVkIGJ5IHVzZXItc3BhY2UuCisgKiBAbGVuOiBMZW5ndGggb2YgdGhlIGFyZWEu
CisgKiBAcGdvZmY6IFRoZSBwYWdlIG9mZnNldCBpbnRvIHRoZSBhZGRyZXNzIHNwYWNlLgorICog
QGZsYWdzOiBtbWFwIGZsYWdzCisgKiBAbWdyOiBUaGUgYWRkcmVzcyBzcGFjZSBtYW5hZ2VyIHVz
ZWQgYnkgdGhlIGRybSBkcml2ZXIuIFRoaXMgYXJndW1lbnQgY2FuCisgKiBwcm9iYWJseSBiZSBy
ZW1vdmVkIGF0IHNvbWUgcG9pbnQgd2hlbiBhbGwgZHJpdmVycyB1c2UgdGhlIHNhbWUKKyAqIGFk
ZHJlc3Mgc3BhY2UgbWFuYWdlci4KKyAqCisgKiBUaGlzIGZ1bmN0aW9uIGF0dGVtcHRzIHRvIGZp
bmQgYW4gdW51c2VkIHVzZXItc3BhY2UgdmlydHVhbCBtZW1vcnkgYXJlYQorICogdGhhdCBjYW4g
YWNjb21tb2RhdGUgdGhlIHNpemUgd2Ugd2FudCB0byBtYXAsIGFuZCB0aGF0IGlzIHByb3Blcmx5
CisgKiBhbGlnbmVkIHRvIGZhY2lsaXRhdGUgaHVnZSBwYWdlIHRhYmxlIGVudHJpZXMgbWF0Y2hp
bmcgYWN0dWFsCisgKiBodWdlIHBhZ2VzIG9yIGh1Z2UgcGFnZSBhbGlnbmVkIG1lbW9yeSBpbiBi
dWZmZXIgb2JqZWN0cy4gQnVmZmVyIG9iamVjdHMKKyAqIGFyZSBhc3N1bWVkIHRvIHN0YXJ0IGF0
IGh1Z2UgcGFnZSBib3VuZGFyeSBwZm5zIChpbyBtZW1vcnkpIG9yIGJlCisgKiBwb3B1bGF0ZWQg
YnkgaHVnZSBwYWdlcyBhbGlnbmVkIHRvIHRoZSBzdGFydCBvZiB0aGUgYnVmZmVyIG9iamVjdAor
ICogKHN5c3RlbS0gb3IgY29oZXJlbnQgbWVtb3J5KS4gQWRhcHRlZCBmcm9tIHNobWVtX2dldF91
bm1hcHBlZF9hcmVhLgorICoKKyAqIFJldHVybjogYWxpZ25lZCB1c2VyLXNwYWNlIGFkZHJlc3Mu
CisgKi8KK3Vuc2lnbmVkIGxvbmcgZHJtX2dldF91bm1hcHBlZF9hcmVhKHN0cnVjdCBmaWxlICpm
aWxlLAorCQkJCSAgICB1bnNpZ25lZCBsb25nIHVhZGRyLCB1bnNpZ25lZCBsb25nIGxlbiwKKwkJ
CQkgICAgdW5zaWduZWQgbG9uZyBwZ29mZiwgdW5zaWduZWQgbG9uZyBmbGFncywKKwkJCQkgICAg
c3RydWN0IGRybV92bWFfb2Zmc2V0X21hbmFnZXIgKm1ncikKK3sKKwl1bnNpZ25lZCBsb25nIGFk
ZHI7CisJdW5zaWduZWQgbG9uZyBpbmZsYXRlZF9hZGRyOworCXN0cnVjdCBkcm1fdm1hX29mZnNl
dF9ub2RlICpub2RlOworCisJaWYgKGxlbiA+IFRBU0tfU0laRSkKKwkJcmV0dXJuIC1FTk9NRU07
CisKKwkvKgorCSAqIEBwZ29mZiBpcyB0aGUgZmlsZSBwYWdlLW9mZnNldCB0aGUgaHVnZSBwYWdl
IGJvdW5kYXJpZXMgb2YKKwkgKiB3aGljaCB0eXBpY2FsbHkgYWxpZ25zIHRvIHBoeXNpY2FsIGFk
ZHJlc3MgaHVnZSBwYWdlIGJvdW5kYXJpZXMuCisJICogVGhhdCdzIG5vdCB0cnVlIGZvciBEUk0s
IGhvd2V2ZXIsIHdoZXJlIHBoeXNpY2FsIGFkZHJlc3MgaHVnZQorCSAqIHBhZ2UgYm91bmRhcmll
cyBpbnN0ZWFkIGFyZSBhbGlnbmVkIHdpdGggdGhlIG9mZnNldCBmcm9tCisJICogYnVmZmVyIG9i
amVjdCBzdGFydC4gU28gYWRqdXN0IEBwZ29mZiB0byBiZSB0aGUgb2Zmc2V0IGZyb20KKwkgKiBi
dWZmZXIgb2JqZWN0IHN0YXJ0LgorCSAqLworCWRybV92bWFfb2Zmc2V0X2xvY2tfbG9va3VwKG1n
cik7CisJbm9kZSA9IGRybV92bWFfb2Zmc2V0X2xvb2t1cF9sb2NrZWQobWdyLCBwZ29mZiwgMSk7
CisJaWYgKG5vZGUpCisJCXBnb2ZmIC09IG5vZGUtPnZtX25vZGUuc3RhcnQ7CisJZHJtX3ZtYV9v
ZmZzZXRfdW5sb2NrX2xvb2t1cChtZ3IpOworCisJYWRkciA9IGN1cnJlbnQtPm1tLT5nZXRfdW5t
YXBwZWRfYXJlYShmaWxlLCB1YWRkciwgbGVuLCBwZ29mZiwgZmxhZ3MpOworCWlmIChJU19FUlJf
VkFMVUUoYWRkcikpCisJCXJldHVybiBhZGRyOworCWlmIChhZGRyICYgflBBR0VfTUFTSykKKwkJ
cmV0dXJuIGFkZHI7CisJaWYgKGFkZHIgPiBUQVNLX1NJWkUgLSBsZW4pCisJCXJldHVybiBhZGRy
OworCisJaWYgKGxlbiA8IEhQQUdFX1BNRF9TSVpFKQorCQlyZXR1cm4gYWRkcjsKKwlpZiAoZmxh
Z3MgJiBNQVBfRklYRUQpCisJCXJldHVybiBhZGRyOworCS8qCisJICogT3VyIHByaW9yaXR5IGlz
IHRvIHN1cHBvcnQgTUFQX1NIQVJFRCBtYXBwZWQgaHVnZWx5OworCSAqIGFuZCBzdXBwb3J0IE1B
UF9QUklWQVRFIG1hcHBlZCBodWdlbHkgdG9vLCB1bnRpbCBpdCBpcyBDT1dlZC4KKwkgKiBCdXQg
aWYgY2FsbGVyIHNwZWNpZmllZCBhbiBhZGRyZXNzIGhpbnQsIHJlc3BlY3QgdGhhdCBhcyBiZWZv
cmUuCisJICovCisJaWYgKHVhZGRyKQorCQlyZXR1cm4gYWRkcjsKKworCWluZmxhdGVkX2FkZHIg
PSBkcm1fYWRkcl9pbmZsYXRlKGFkZHIsIGxlbiwgcGdvZmYsIGZsYWdzLAorCQkJCQkgSFBBR0Vf
UE1EX1NJWkUpOworCisJaWYgKElTX0VOQUJMRUQoQ09ORklHX0hBVkVfQVJDSF9UUkFOU1BBUkVO
VF9IVUdFUEFHRV9QVUQpICYmCisJICAgIGxlbiA+PSBIUEFHRV9QVURfU0laRSkKKwkJaW5mbGF0
ZWRfYWRkciA9IGRybV9hZGRyX2luZmxhdGUoaW5mbGF0ZWRfYWRkciwgbGVuLCBwZ29mZiwKKwkJ
CQkJCSBmbGFncywgSFBBR0VfUFVEX1NJWkUpOworCXJldHVybiBpbmZsYXRlZF9hZGRyOworfQor
I2Vsc2UgLyogQ09ORklHX1RSQU5TUEFSRU5UX0hVR0VQQUdFICovCit1bnNpZ25lZCBsb25nIGRy
bV9nZXRfdW5tYXBwZWRfYXJlYShzdHJ1Y3QgZmlsZSAqZmlsZSwKKwkJCQkgICAgdW5zaWduZWQg
bG9uZyB1YWRkciwgdW5zaWduZWQgbG9uZyBsZW4sCisJCQkJICAgIHVuc2lnbmVkIGxvbmcgcGdv
ZmYsIHVuc2lnbmVkIGxvbmcgZmxhZ3MsCisJCQkJICAgIHN0cnVjdCBkcm1fdm1hX29mZnNldF9t
YW5hZ2VyICptZ3IpCit7CisJcmV0dXJuIGN1cnJlbnQtPm1tLT5nZXRfdW5tYXBwZWRfYXJlYShm
aWxlLCB1YWRkciwgbGVuLCBwZ29mZiwgZmxhZ3MpOworfQorI2VuZGlmIC8qIENPTkZJR19UUkFO
U1BBUkVOVF9IVUdFUEFHRSAqLworI2VuZGlmIC8qIENPTkZJR19NTVUgKi8KZGlmZiAtLWdpdCBh
L2luY2x1ZGUvZHJtL2RybV9maWxlLmggYi9pbmNsdWRlL2RybS9kcm1fZmlsZS5oCmluZGV4IDhi
MDk5YjM0NzgxNy4uZmQ4OGZjYjM4MGQyIDEwMDY0NAotLS0gYS9pbmNsdWRlL2RybS9kcm1fZmls
ZS5oCisrKyBiL2luY2x1ZGUvZHJtL2RybV9maWxlLmgKQEAgLTM5MCw0ICszOTAsMTMgQEAgdm9p
ZCBkcm1fc2VuZF9ldmVudChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCBzdHJ1Y3QgZHJtX3BlbmRp
bmdfZXZlbnQgKmUpOwogCiBzdHJ1Y3QgZmlsZSAqbW9ja19kcm1fZ2V0ZmlsZShzdHJ1Y3QgZHJt
X21pbm9yICptaW5vciwgdW5zaWduZWQgaW50IGZsYWdzKTsKIAorI2lmZGVmIENPTkZJR19NTVUK
K3N0cnVjdCBkcm1fdm1hX29mZnNldF9tYW5hZ2VyOwordW5zaWduZWQgbG9uZyBkcm1fZ2V0X3Vu
bWFwcGVkX2FyZWEoc3RydWN0IGZpbGUgKmZpbGUsCisJCQkJICAgIHVuc2lnbmVkIGxvbmcgdWFk
ZHIsIHVuc2lnbmVkIGxvbmcgbGVuLAorCQkJCSAgICB1bnNpZ25lZCBsb25nIHBnb2ZmLCB1bnNp
Z25lZCBsb25nIGZsYWdzLAorCQkJCSAgICBzdHJ1Y3QgZHJtX3ZtYV9vZmZzZXRfbWFuYWdlciAq
bWdyKTsKKyNlbmRpZiAvKiBDT05GSUdfTU1VICovCisKKwogI2VuZGlmIC8qIF9EUk1fRklMRV9I
XyAqLwotLSAKMi4yMS4xCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3Rv
cC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmkt
ZGV2ZWwK
