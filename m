Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 92449AA145
	for <lists+dri-devel@lfdr.de>; Thu,  5 Sep 2019 13:26:06 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 761936E081;
	Thu,  5 Sep 2019 11:26:04 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from perceval.ideasonboard.com (perceval.ideasonboard.com
 [213.167.242.64])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 137DF6E081
 for <dri-devel@lists.freedesktop.org>; Thu,  5 Sep 2019 11:26:03 +0000 (UTC)
Received: from pendragon.ideasonboard.com
 (dfj612yhrgyx302h3jwwy-3.rev.dnainternet.fi
 [IPv6:2001:14ba:21f5:5b00:ce28:277f:58d7:3ca4])
 by perceval.ideasonboard.com (Postfix) with ESMTPSA id DB06126D;
 Thu,  5 Sep 2019 13:26:00 +0200 (CEST)
Date: Thu, 5 Sep 2019 14:25:54 +0300
From: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
To: Jacopo Mondi <jacopo@jmondi.org>
Subject: Re: [PATCH v3 14/14] drm: rcar-du: Force CMM enablement when resuming
Message-ID: <20190905112554.GH5035@pendragon.ideasonboard.com>
References: <20190825135154.11488-1-jacopo+renesas@jmondi.org>
 <20190825135154.11488-15-jacopo+renesas@jmondi.org>
 <20190827000517.GC5274@pendragon.ideasonboard.com>
 <20190905105809.iguzoqenlcriqegk@uno.localdomain>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190905105809.iguzoqenlcriqegk@uno.localdomain>
User-Agent: Mutt/1.10.1 (2018-07-13)
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=ideasonboard.com; s=mail; t=1567682761;
 bh=PDM2yg84iLZxQ9w4hCMgxPNjGc9GtOUOGtLLgc+7y2w=;
 h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
 b=f+Hpg8NSUg1iGUf3k42bWXSJbLsMLp6/KZKiry+7CLg0Kil9hX+LlHRrMHKteTgDq
 xESEcAnQjuF0Y8cy/KfKZ8tfYzI+Vn6/nI/uXJsiMB2g0n6FqA18hvlizMnIxbXsk8
 pgHr0nJvYMV27Ysa2JcCE65YJT167kPsP585+iY0=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: muroya@ksk.co.jp, uli@fpond.eu, horms@verge.net.au,
 VenkataRajesh.Kalakodima@in.bosch.com, airlied@linux.ie,
 koji.matsuoka.xm@renesas.com, dri-devel@lists.freedesktop.org,
 linux-kernel@vger.kernel.org, linux-renesas-soc@vger.kernel.org,
 kieran.bingham+renesas@ideasonboard.com, geert@linux-m68k.org,
 Jacopo Mondi <jacopo+renesas@jmondi.org>,
 Harsha.ManjulaMallikarjun@in.bosch.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgSmFjb3BvLAoKT24gVGh1LCBTZXAgMDUsIDIwMTkgYXQgMTI6NTg6MDlQTSArMDIwMCwgSmFj
b3BvIE1vbmRpIHdyb3RlOgo+IE9uIFR1ZSwgQXVnIDI3LCAyMDE5IGF0IDAzOjA1OjE3QU0gKzAz
MDAsIExhdXJlbnQgUGluY2hhcnQgd3JvdGU6Cj4gPiBIaSBKYWNvcG8sCj4gPgo+ID4gKFF1ZXN0
aW9uIGZvciBEYW5pZWwgYmVsb3cpCj4gPgo+ID4gVGhhbmsgeW91IGZvciB0aGUgcGF0Y2guCj4g
Pgo+ID4gT24gU3VuLCBBdWcgMjUsIDIwMTkgYXQgMDM6NTE6NTRQTSArMDIwMCwgSmFjb3BvIE1v
bmRpIHdyb3RlOgo+ID4+IFdoZW4gcmVzdW1pbmcgZnJvbSBzeXN0ZW0gc3VzcGVuZCwgdGhlIERV
IGRyaXZlciBpcyByZXNwb25zaWJsZSBmb3IKPiA+PiByZXByb2dyYW1taW5nIGFuZCBlbmFibGlu
ZyB0aGUgQ01NIHVuaXQgaWYgaXQgd2FzIGluIHVzZSBhdCB0aGUgdGltZQo+ID4+IHRoZSBzeXN0
ZW0gZW50ZXJlZCB0aGUgc3VzcGVuZCBzdGF0ZS4KPiA+Pgo+ID4+IEZvcmNlIHRoZSBjb2xvcl9t
Z210X2NoYW5nZWQgZmxhZyB0byB0cnVlIGlmIGFueSBvZiB0aGUgRFJNIGNvbG9yCj4gPj4gdHJh
bnNmb3JtYXRpb24gcHJvcGVydGllcyB3YXMgc2V0IGluIHRoZSBDUlRDIHN0YXRlIGR1cGxpY2F0
ZWQgYXQKPiA+PiBzdXNwZW5kIHRpbWUsIGFzIHRoZSBDTU0gZ2V0cyByZXByb2dyYW1tZWQgb25s
eSBpZiBzYWlkIGZsYWcgaXMgYWN0aXZlIGluCj4gPj4gdGhlIHJjYXJfZHVfYXRvbWljX2NvbW1p
dF91cGRhdGVfY21tKCkgbWV0aG9kLgo+ID4+Cj4gPj4gU2lnbmVkLW9mZi1ieTogSmFjb3BvIE1v
bmRpIDxqYWNvcG8rcmVuZXNhc0BqbW9uZGkub3JnPgo+ID4+IC0tLQo+ID4+ICBkcml2ZXJzL2dw
dS9kcm0vcmNhci1kdS9yY2FyX2R1X2Rydi5jIHwgMjEgKysrKysrKysrKysrKysrKysrKysrCj4g
Pj4gIDEgZmlsZSBjaGFuZ2VkLCAyMSBpbnNlcnRpb25zKCspCj4gPj4KPiA+PiBkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9kcnYuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9yY2FyLWR1L3JjYXJfZHVfZHJ2LmMKPiA+PiBpbmRleCAwMTg0ODBhOGYzNWMuLjZlMzg0OTVm
Yjc4ZiAxMDA2NDQKPiA+PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X2Ry
di5jCj4gPj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9kcnYuYwo+ID4+
IEBAIC0xNyw2ICsxNyw3IEBACj4gPj4gICNpbmNsdWRlIDxsaW51eC9zbGFiLmg+Cj4gPj4gICNp
bmNsdWRlIDxsaW51eC93YWl0Lmg+Cj4gPj4KPiA+PiArI2luY2x1ZGUgPGRybS9kcm1fYXRvbWlj
Lmg+Cj4gPj4gICNpbmNsdWRlIDxkcm0vZHJtX2F0b21pY19oZWxwZXIuaD4KPiA+PiAgI2luY2x1
ZGUgPGRybS9kcm1fZmJfY21hX2hlbHBlci5oPgo+ID4+ICAjaW5jbHVkZSA8ZHJtL2RybV9mYl9o
ZWxwZXIuaD4KPiA+PiBAQCAtNDgyLDYgKzQ4MywyNiBAQCBzdGF0aWMgaW50IHJjYXJfZHVfcG1f
c3VzcGVuZChzdHJ1Y3QgZGV2aWNlICpkZXYpCj4gPj4gIHN0YXRpYyBpbnQgcmNhcl9kdV9wbV9y
ZXN1bWUoc3RydWN0IGRldmljZSAqZGV2KQo+ID4+ICB7Cj4gPj4gIAlzdHJ1Y3QgcmNhcl9kdV9k
ZXZpY2UgKnJjZHUgPSBkZXZfZ2V0X2RydmRhdGEoZGV2KTsKPiA+PiArCXN0cnVjdCBkcm1fYXRv
bWljX3N0YXRlICpzdGF0ZSA9IHJjZHUtPmRkZXYtPm1vZGVfY29uZmlnLnN1c3BlbmRfc3RhdGU7
Cj4gPj4gKwl1bnNpZ25lZCBpbnQgaTsKPiA+PiArCj4gPj4gKwlmb3IgKGkgPSAwOyBpIDwgcmNk
dS0+bnVtX2NydGNzOyArK2kpIHsKPiA+PiArCQlzdHJ1Y3QgZHJtX2NydGMgKmNydGMgPSAmcmNk
dS0+Y3J0Y3NbaV0uY3J0YzsKPiA+PiArCQlzdHJ1Y3QgZHJtX2NydGNfc3RhdGUgKmNydGNfc3Rh
dGU7Cj4gPj4gKwo+ID4+ICsJCWNydGNfc3RhdGUgPSBkcm1fYXRvbWljX2dldF9leGlzdGluZ19j
cnRjX3N0YXRlKHN0YXRlLCBjcnRjKTsKPiA+PiArCQlpZiAoIWNydGNfc3RhdGUpCj4gPj4gKwkJ
CWNvbnRpbnVlOwo+ID4KPiA+IFNob3VsZG4ndCB5b3UgZ2V0IHRoZSBuZXcgc3RhdGUgaGVyZSA/
Cj4gCj4gSSBoYXZlIGZvbGxvd2VkIHRoZSBkcm1fYXRvbWljX2hlbHBlcl9zdXNwZW5kKCkgY2Fs
bCBzdGFjaywgdGhhdCBjYWxscwo+IGRybV9hdG9taWNfaGVscGVyX2R1cGxpY2F0ZV9zdGF0ZSgp
IHdoaWNoIHRoZW4gYXNzaWduIHRoZSBjcnRjdCBzdGF0ZQo+IHdpdGggZHJtX2F0b21pY19nZXRf
Y3J0Y19zdGF0ZSgpLCB3aGVyZSBJIHJlYWQ6Cj4gCj4gICAgICAgIAljcnRjX3N0YXRlID0gZHJt
X2F0b21pY19nZXRfZXhpc3RpbmdfY3J0Y19zdGF0ZShzdGF0ZSwgY3J0Yyk7Cj4gICAgICAgICAu
Li4KPiAJc3RhdGUtPmNydGNzW2luZGV4XS5zdGF0ZSA9IGNydGNfc3RhdGU7Cj4gCXN0YXRlLT5j
cnRjc1tpbmRleF0ub2xkX3N0YXRlID0gY3J0Yy0+c3RhdGU7Cj4gCXN0YXRlLT5jcnRjc1tpbmRl
eF0ubmV3X3N0YXRlID0gY3J0Y19zdGF0ZTsKPiAKPiBTbyBzdGF0ZSBvciBuZXdfc3RhdGUgZm9y
IHRoZSBwdXJwb3NlIG9mIGdldHRpbmcgYmFjayB0aGUgY3J0YyBzdGF0ZQo+IGFyZSB0aGUgc2Ft
ZSBpZiBJJ20gbm90IG1pc3Rha2VuLgoKSXQgc2VlbXMgdG8gYmUgdGhlIGNhc2UsIGJ1dCB0aGUg
ZG9jdW1lbnRhdGlvbiBvZgpkcm1fYXRvbWljX2dldF9leGlzdGluZ19jcnRjX3N0YXRlKCkgc3Rh
dGVzCgogKiBUaGlzIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQsIEBkcm1fYXRvbWljX2dldF9vbGRf
Y3J0Y19zdGF0ZSBvcgogKiBAZHJtX2F0b21pY19nZXRfbmV3X2NydGNfc3RhdGUgc2hvdWxkIGJl
IHVzZWQgaW5zdGVhZC4KCkkgd291bGQgdGh1cyB1c2UgZHJtX2F0b21pY19nZXRfbmV3X2NydGNf
c3RhdGUoKS4KCj4gPj4gKwo+ID4+ICsJCS8qCj4gPj4gKwkJICogRm9yY2UgcmUtZW5hYmxlbWVu
dCBvZiBDTU0gYWZ0ZXIgc3lzdGVtIHJlc3VtZSBpZiBhbnkKPiA+PiArCQkgKiBvZiB0aGUgRFJN
IGNvbG9yIHRyYW5zZm9ybWF0aW9uIHByb3BlcnRpZXMgd2FzIHNldCBpbgo+ID4+ICsJCSAqIHRo
ZSBzdGF0ZSBzYXZlZCBhdCBzeXN0ZW0gc3VzcGVuZCB0aW1lLgo+ID4+ICsJCSAqLwo+ID4+ICsJ
CWlmIChjcnRjX3N0YXRlLT5nYW1tYV9sdXQgfHwgY3J0Y19zdGF0ZS0+ZGVnYW1tYV9sdXQgfHwK
PiA+PiArCQkgICAgY3J0Y19zdGF0ZS0+Y3RtKQo+ID4KPiA+IFdlIGRvbid0IHN1cHBvcnQgZGVn
YW1tYV9sdXQgb3IgY3JtLCBzbyBJIHdvdWxkIGRyb3AgdGhvc2UuCj4gCj4geWVhaCwgSSBhZGRl
ZCB0aGVtIGFzIGl0IHdhcyBsZXNzIGNvZGUgdG8gY2hhbmdlIHdoZW4gd2UnbGwgc3VwcG9ydAo+
IHRoZW0uIEJ1dCBmb3Igbm93IHRoZXkgY291bGQgYmUgcmVtb3ZlZC4KPiAKPiA+IFdpdGggdGhl
c2Ugc21hbGwgaXNzdWVzIGFkZHJlc3NlZCwKPiA+Cj4gPiBSZXZpZXdlZC1ieTogTGF1cmVudCBQ
aW5jaGFydCA8bGF1cmVudC5waW5jaGFydEBpZGVhc29uYm9hcmQuY29tPgo+ID4KPiA+IFNob3Vs
ZG4ndCB3ZSBob3dldmVyIHNxdWFzaCB0aGlzIHdpdGggdGhlIHByZXZpb3VzIHBhdGNoIHRvIGF2
b2lkCj4gPiBiaXNlY3Rpb24gaXNzdWVzID8KPiAKPiBXaGljaCBvbmUgaW4geW91ciBvcGluaW9u
Pwo+ICJkcm06IHJjYXItZHU6IGttczogVXBkYXRlIENNTSBpbiBhdG9taWMgY29tbWl0IHRhaWwi
ID8KPiBJdCBzZWVtcyB0byBtZSB0aGV5IGRvIHF1aXRlIGRpZmZlcmVudCB0aGluZ3MgdGhvdWdo
Li4KClllcywgYnV0IHN1c3BlbmQvcmVzdW1lIHdpbGwgYmUgYnJva2VuIGFmdGVyIDEzLzE0IHdp
dGhvdXQgMTQvMTQuIE5vdAp0aGUgZW5kIG9mIHRoZSB3b3JsZCwgYnV0IG5vdCByZWFsbHkgbmlj
ZSBpZiB3ZSBuZWVkIHRvIGJpc2VjdApzdXNwZW5kL3Jlc3VtZSBpc3N1ZXMuCgo+ID4+ICsJCQlj
cnRjX3N0YXRlLT5jb2xvcl9tZ210X2NoYW5nZWQgPSB0cnVlOwo+ID4KPiA+IERhbmllbCwgaXMg
dGhpcyBzb21ldGhpbmcgdGhhdCB3b3VsZCBtYWtlIHNlbnNlIGluIHRoZSBLTVMgY29yZSAob3IK
PiA+IGhlbHBlcnMpID8KPiA+Cj4gPj4gKwl9Cj4gPj4KPiA+PiAgCXJldHVybiBkcm1fbW9kZV9j
b25maWdfaGVscGVyX3Jlc3VtZShyY2R1LT5kZGV2KTsKPiA+PiAgfQoKLS0gClJlZ2FyZHMsCgpM
YXVyZW50IFBpbmNoYXJ0Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9w
Lm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1k
ZXZlbA==
