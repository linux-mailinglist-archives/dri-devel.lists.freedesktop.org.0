Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 9106A4B2BD
	for <lists+dri-devel@lfdr.de>; Wed, 19 Jun 2019 09:11:20 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 676376E2E1;
	Wed, 19 Jun 2019 07:10:30 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mo6-p02-ob.smtp.rzone.de (mo6-p02-ob.smtp.rzone.de
 [IPv6:2a01:238:20a:202:5302::7])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8FD0E6E167
 for <dri-devel@lists.freedesktop.org>; Tue, 18 Jun 2019 13:12:04 +0000 (UTC)
X-RZG-AUTH: ":OWANVUa4dPFUgKR/3dpvnYP0Np73amq+g13rqGzmt2bYDnKIKaws6YXTsc4="
X-RZG-CLASS-ID: mo00
Received: from oxapp03-03.back.ox.d0m.de by smtp-ox.front (RZmta 44.24 AUTH)
 with ESMTPSA id h0a328v5IDBw10z
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-SHA384 (curve X9_62_prime256v1
 with 256 ECDH bits, eq. 3072 bits RSA))
 (Client did not present a certificate);
 Tue, 18 Jun 2019 15:11:58 +0200 (CEST)
Date: Tue, 18 Jun 2019 15:11:58 +0200 (CEST)
From: Ulrich Hecht <uli@fpond.eu>
To: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>,
 dri-devel@lists.freedesktop.org
Message-ID: <963088307.790511.1560863518157@webmail.strato.com>
In-Reply-To: <20190617210930.6054-7-laurent.pinchart+renesas@ideasonboard.com>
References: <20190617210930.6054-1-laurent.pinchart+renesas@ideasonboard.com>
 <20190617210930.6054-7-laurent.pinchart+renesas@ideasonboard.com>
Subject: Re: [PATCH v3 06/10] drm: rcar-du: Handle CRTC configuration from
 commit tail handler
MIME-Version: 1.0
X-Priority: 3
Importance: Medium
X-Mailer: Open-Xchange Mailer v7.8.4-Rev58
X-Originating-IP: 85.212.220.45
X-Originating-Client: open-xchange-appsuite
X-Mailman-Approved-At: Wed, 19 Jun 2019 07:10:14 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 t=1560863523; 
 s=strato-dkim-0002; d=fpond.eu;
 h=Subject:References:In-Reply-To:Message-ID:Cc:To:From:Date:
 X-RZG-CLASS-ID:X-RZG-AUTH:From:Subject:Sender;
 bh=YZMuVoEGu4omSRG1UgZYjR3t98qytdJxoPC7tDpGha0=;
 b=o0oUcKqm0Zi7COQNa0eTfi6KcB2SHId9kUVzV5e2DIuIdhivo54NWuJU6WiQUZs/Ea
 7V0OYGLIIYS/bCWxqc4TMm3RqubFvc25D1VXzdZq8r3JZdHPc4axaSRNrFMfAOU+v70q
 eNENsD15EL5vEtPyXU63k0TTM8r2el+jQp/Wg9hoy0jehVdxmQ7aEhUIZ/09cbqCFYyQ
 7Xz3xvwh6lcXeZjpjnl7nZbendUQZTefrggwFfiZbtHhLeUpinhQaI897jAj951QiEE9
 wK1czcTLzrG+U8yAiqg77vLKt07MZtoHdjriYVp0MYJ99848uJSyd+Ge8cgcftNTH1pR
 s+ew==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-renesas-soc@vger.kernel.org,
 Kieran Bingham <kieran.bingham@ideasonboard.com>, linux-media@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Cj4gT24gSnVuZSAxNywgMjAxOSBhdCAxMTowOSBQTSBMYXVyZW50IFBpbmNoYXJ0IDxsYXVyZW50
LnBpbmNoYXJ0K3JlbmVzYXNAaWRlYXNvbmJvYXJkLmNvbT4gd3JvdGU6Cj4gCj4gCj4gRnJvbTog
S2llcmFuIEJpbmdoYW0gPGtpZXJhbi5iaW5naGFtK3JlbmVzYXNAaWRlYXNvbmJvYXJkLmNvbT4K
PiAKPiBUaGUgQ1JUQyBtb2RlIHNldHRpbmcgYW5kIHJvdXRpbmcgY29uZmlndXJhdGlvbiBhcmUg
cGVyZm9ybWVkIGF0IHRoZQo+IGVhcmxpZXN0IG9mIGF0b21pYyBlbmFibGUgYW5kIGF0b21pYyBi
ZWdpbiwgdG8gZW5zdXJlIHRoYXQgYSB2YWxpZAo+IGNvbmZpZ3VyYXRpb24gaXMgYXBwbGllZCB0
byB0aGUgaGFyZHdhcmUgYmVmb3JlIHRoZSBDUlRDIGdldHMgZW5hYmxlZAo+IGFuZCBiZWZvcmUg
cGxhbmVzIGFyZSBzZXR1cCAodGhlIGxhdHRlciBiZWluZyByZXF1aXJlZCBpbiBwYXJ0aWN1bGFy
IGJ5Cj4gdGhlIFZTUCkuIFRoaXMgcmVxdWlyZXMgdGhlIHJjYXJfZHVfY3J0YyBzdHJ1Y3R1cmUg
dG8gdHJhY2sgdGhlIENSVEMKPiBlbmFibGVkIHN0YXRlLgo+IAo+IFNpbXBsaWZ5IHRoZSBjb2Rl
IGFuZCByZW1vdmUgdGhlIG1hbnVhbCBzdGF0ZSB0cmFja2luZyBieSBtb3ZpbmcgQ1JUQwo+IHNl
dHVwIHRvIGEgbmV3IHJjYXJfZHVfY3J0Y19hdG9taWNfbW9kZXNldCgpIGZ1bmN0aW9uLCBjYWxs
ZWQgZGlyZWN0bHkKPiBmcm9tIHRoZSBjb21taXQgdGFpbCBoYW5kbGVyLiBUaGUgZnVuY3Rpb24g
aXRlcmF0ZXMgb3ZlciBhbGwgQ1JUQ3MgaW4KPiB0aGUgc3RhdGUgdHJhbnNhY3Rpb24gYW5kIHBl
cmZvcm1zIENSVEMgbW9kZSBzZXR0aW5nLCByb3V0aW5nCj4gY29uZmlndXJhdGlvbiBhbmQgVlNQ
IGNvbmZpZ3VyYXRpb24uCj4gCj4gZHJtX2NydGNfdmJsYW5rX29uKCkgaGFzIHRvIGJlIGNhbGxl
ZCBmcm9tIHRoZSBhdG9taWMgYmVnaW4gaGFuZGxlciwgdG8KPiBlbnN1cmUgdGhhdCB2ZXJ0aWNh
bCBibGFua2luZyByZXBvcnRpbmcgaXMgZW5hYmxlZCBiZWZvcmUgdGhlIGNhbGwgdG8KPiBkcm1f
Y3J0Y192YmxhbmtfZ2V0KCkgaW4gdGhlIGF0b21pYyBmbHVzaCBoYW5kbGVyLiBBcyB0aGUKPiBk
cm1fY3J0Y192Ymxhbmtfb24oKSBhbmQgZHJtX2NydGNfdmJsYW5rX29mZigpIGNhbGxzIGRvbid0
IG5lZWQgdG8gYmUKPiBiYWxhbmNlZCB0aGlzIGlzIG5vdCBhbiBpc3N1ZS4gQSBiYWxhbmNlZCBh
bHRlcm5hdGl2ZSB3b3VsZCBoYXZlIGJlZW4gdG8KPiBjYWxsIGRybV9jcnRjX3ZibGFua19vbigp
IGFuZCBkcm1fY3J0Y192Ymxhbmtfb2ZmKCkgZnJvbSB0aGUgQ1JUQyBleGl0Cj4gYW5kIGVudGVy
IHN0YW5kYnkgaGFuZGxlcnMgcmVzcGVjdGl2ZWx5LCBidXQKPiBkcm1fYXRvbWljX2hlbHBlcl9j
b21taXRfbW9kZXNldF9kaXNhYmxlcygpIGNvbXBsYWlucyBpZgo+IGRybV9jcnRjX3ZibGFua19v
ZmYoKSBoYXNuJ3QgYmVlbiBjYWxsZWQgYnkgdGhlIGF0b21pYyBkaXNhYmxlIGhhbmRsZXIuCj4g
Cj4gQXMgYSByZXN1bHQsIHRoZSB2c3AxX2R1X2F0b21pY19mbHVzaCgpIG9wZXJhdGlvbiBjYW4g
YmUgY2FsbGVkIHdpdGggdGhlCj4gRFJNIHBpcGVsaW5lIGRpc2FibGVkLiBDb3JyZWN0IG9wZXJh
dGlvbiBoYXMgYmVlbiBlbnN1cmVkIGJ5ICJtZWRpYToKPiB2c3AxOiBkcm06IERvbid0IGNvbmZp
Z3VyZSBoYXJkd2FyZSB3aGVuIHRoZSBwaXBlbGluZSBpcyBkaXNhYmxlZCIuCj4gCj4gU2lnbmVk
LW9mZi1ieTogS2llcmFuIEJpbmdoYW0gPGtpZXJhbi5iaW5naGFtK3JlbmVzYXNAaWRlYXNvbmJv
YXJkLmNvbT4KPiBTaWduZWQtb2ZmLWJ5OiBMYXVyZW50IFBpbmNoYXJ0IDxsYXVyZW50LnBpbmNo
YXJ0K3JlbmVzYXNAaWRlYXNvbmJvYXJkLmNvbT4KPiAtLS0KPiBDaGFuZ2VzIHNpbmNlIHYyOgo+
IAo+IC0gRGVjb25zdHJ1Y3QgcmNhcl9kdV9jcnRjX3NldHVwKCkgY29tcGxldGVseQo+IC0tLQo+
ICBkcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X2NydGMuYyB8IDg5ICsrKysrKysrKysr
LS0tLS0tLS0tLS0tLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfY3J0Yy5o
IHwgIDQgKy0KPiAgZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9rbXMuYyAgfCAgMSAr
Cj4gIDMgZmlsZXMgY2hhbmdlZCwgNDIgaW5zZXJ0aW9ucygrKSwgNTIgZGVsZXRpb25zKC0pCj4g
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfY3J0Yy5jIGIv
ZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9jcnRjLmMKPiBpbmRleCAyM2Y0YmRlZjBl
M2EuLmQxMWE0NzRmNmY3MiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9y
Y2FyX2R1X2NydGMuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfY3J0
Yy5jCj4gQEAgLTQ3OCwyMiArNDc4LDYgQEAgc3RhdGljIHZvaWQgcmNhcl9kdV9jcnRjX3dhaXRf
cGFnZV9mbGlwKHN0cnVjdCByY2FyX2R1X2NydGMgKnJjcnRjKQo+ICAgKiBTdGFydC9TdG9wIGFu
ZCBTdXNwZW5kL1Jlc3VtZQo+ICAgKi8KPiAgCj4gLXN0YXRpYyB2b2lkIHJjYXJfZHVfY3J0Y19z
ZXR1cChzdHJ1Y3QgcmNhcl9kdV9jcnRjICpyY3J0YykKPiAtewo+IC0JLyogQ29uZmlndXJlIGRp
c3BsYXkgdGltaW5ncyBhbmQgb3V0cHV0IHJvdXRpbmcgKi8KPiAtCXJjYXJfZHVfY3J0Y19zZXRf
ZGlzcGxheV90aW1pbmcocmNydGMpOwo+IC0JcmNhcl9kdV9ncm91cF9zZXRfcm91dGluZyhyY3J0
Yy0+Z3JvdXApOwo+IC0KPiAtCS8qIEVuYWJsZSB0aGUgVlNQIGNvbXBvc2l0b3IuICovCj4gLQlp
ZiAocmNhcl9kdV9oYXMocmNydGMtPmRldiwgUkNBUl9EVV9GRUFUVVJFX1ZTUDFfU09VUkNFKSkg
ewo+IC0JCXJjYXJfZHVfdnNwX21vZGVzZXQocmNydGMpOwo+IC0JCXJjYXJfZHVfdnNwX2VuYWJs
ZShyY3J0Yyk7Cj4gLQl9Cj4gLQo+IC0JLyogVHVybiB2ZXJ0aWNhbCBibGFua2luZyBpbnRlcnJ1
cHQgcmVwb3J0aW5nIG9uLiAqLwo+IC0JZHJtX2NydGNfdmJsYW5rX29uKCZyY3J0Yy0+Y3J0Yyk7
Cj4gLX0KPiAtCj4gIHN0YXRpYyBpbnQgcmNhcl9kdV9jcnRjX2V4aXRfc3RhbmRieShzdHJ1Y3Qg
cmNhcl9kdV9jcnRjICpyY3J0YykKPiAgewo+ICAJaW50IHJldDsKPiBAQCAtNTM0LDI0ICs1MTgs
NiBAQCBzdGF0aWMgdm9pZCByY2FyX2R1X2NydGNfZW50ZXJfc3RhbmRieShzdHJ1Y3QgcmNhcl9k
dV9jcnRjICpyY3J0YykKPiAgCWNsa19kaXNhYmxlX3VucHJlcGFyZShyY3J0Yy0+Y2xvY2spOwo+
ICB9Cj4gIAo+IC1zdGF0aWMgdm9pZCByY2FyX2R1X2NydGNfZ2V0KHN0cnVjdCByY2FyX2R1X2Ny
dGMgKnJjcnRjKQo+IC17Cj4gLQkvKgo+IC0JICogR3VhcmQgYWdhaW5zdCBkb3VibGUtZ2V0LCBh
cyB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkIGZyb20gYm90aCB0aGUKPiAtCSAqIC5hdG9taWNfZW5h
YmxlKCkgYW5kIC5hdG9taWNfYmVnaW4oKSBoYW5kbGVycy4KPiAtCSAqLwo+IC0JaWYgKHJjcnRj
LT5pbml0aWFsaXplZCkKPiAtCQlyZXR1cm47Cj4gLQo+IC0JcmNhcl9kdV9jcnRjX3NldHVwKHJj
cnRjKTsKPiAtCXJjcnRjLT5pbml0aWFsaXplZCA9IHRydWU7Cj4gLX0KPiAtCj4gLXN0YXRpYyB2
b2lkIHJjYXJfZHVfY3J0Y19wdXQoc3RydWN0IHJjYXJfZHVfY3J0YyAqcmNydGMpCj4gLXsKPiAt
CXJjcnRjLT5pbml0aWFsaXplZCA9IGZhbHNlOwo+IC19Cj4gLQo+ICBzdGF0aWMgdm9pZCByY2Fy
X2R1X2NydGNfc3RhcnQoc3RydWN0IHJjYXJfZHVfY3J0YyAqcmNydGMpCj4gIHsKPiAgCWJvb2wg
aW50ZXJsYWNlZDsKPiBAQCAtNzE2LDYgKzY4Miw0MCBAQCBpbnQgcmNhcl9kdV9jcnRjX2F0b21p
Y19lbnRlcl9zdGFuZGJ5KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCj4gIAlyZXR1cm4gMDsKPiAg
fQo+ICAKPiArLyoKPiArICogQ29uZmlndXJlIHRoZSBtb2RlIGZvciBhbGwgQ1JUQ3MgdGhhdCBy
ZXF1aXJlIGl0LiBGb3Igbm93IHdlIG9ubHkgaGFuZGxlIG1vZGUKPiArICogc2V0IG9uIHRoZSBW
U1AsIENSVEMgY29uZmlndXJhdGlvbiB3aWxsIGJlIGhhbmRsZWQgbGF0ZXIuCj4gKyAqLwo+ICtp
bnQgcmNhcl9kdV9jcnRjX2F0b21pY19tb2Rlc2V0KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCj4g
KwkJCQlzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqc3RhdGUpCj4gK3sKPiArCXN0cnVjdCBkcm1f
Y3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZTsKPiArCXN0cnVjdCBkcm1fY3J0YyAqY3J0YzsKPiArCXVu
c2lnbmVkIGludCBpOwo+ICsKPiArCWZvcl9lYWNoX25ld19jcnRjX2luX3N0YXRlKHN0YXRlLCBj
cnRjLCBjcnRjX3N0YXRlLCBpKSB7Cj4gKwkJc3RydWN0IHJjYXJfZHVfY3J0YyAqcmNydGMgPSB0
b19yY2FyX2NydGMoY3J0Yyk7Cj4gKwo+ICsJCS8qCj4gKwkJICogU2tpcCBjb21taXRzIHRoYXQg
ZG9uJ3QgY2hhbmdlIHRoZSBtb2RlLiBXZSBtYW51YWxseSBza2lwCj4gKwkJICogaW5hY3RpdmUg
Q1JUQ3MgYXMgZGlzYWJsaW5nIGEgQ1JUQyBpcyBjb25zaWRlcmVkIGFzIGEgbW9kZQo+ICsJCSAq
IHNldCBieSBkcm1fYXRvbWljX2NydGNfbmVlZHNfbW9kZXNldCgpLgo+ICsJCSAqLwo+ICsJCWlm
ICghZHJtX2F0b21pY19jcnRjX25lZWRzX21vZGVzZXQoY3J0Y19zdGF0ZSkgfHwKPiArCQkgICAg
IWNydGNfc3RhdGUtPmFjdGl2ZSkKPiArCQkJY29udGludWU7Cj4gKwo+ICsJCS8qIENvbmZpZ3Vy
ZSBkaXNwbGF5IHRpbWluZ3MgYW5kIG91dHB1dCByb3V0aW5nLiAqLwo+ICsJCXJjYXJfZHVfY3J0
Y19zZXRfZGlzcGxheV90aW1pbmcocmNydGMpOwo+ICsJCXJjYXJfZHVfZ3JvdXBfc2V0X3JvdXRp
bmcocmNydGMtPmdyb3VwKTsKPiArCj4gKwkJaWYgKHJjYXJfZHVfaGFzKHJjcnRjLT5kZXYsIFJD
QVJfRFVfRkVBVFVSRV9WU1AxX1NPVVJDRSkpCj4gKwkJCXJjYXJfZHVfdnNwX21vZGVzZXQocmNy
dGMpOwo+ICsJfQo+ICsKPiArCXJldHVybiAwOwo+ICt9Cj4gKwo+ICBzdGF0aWMgdm9pZCByY2Fy
X2R1X2NydGNfYXRvbWljX2VuYWJsZShzdHJ1Y3QgZHJtX2NydGMgKmNydGMsCj4gIAkJCQkgICAg
ICAgc3RydWN0IGRybV9jcnRjX3N0YXRlICpvbGRfc3RhdGUpCj4gIHsKPiBAQCAtNzIzLDggKzcy
Myw2IEBAIHN0YXRpYyB2b2lkIHJjYXJfZHVfY3J0Y19hdG9taWNfZW5hYmxlKHN0cnVjdCBkcm1f
Y3J0YyAqY3J0YywKPiAgCXN0cnVjdCByY2FyX2R1X2NydGNfc3RhdGUgKnJzdGF0ZSA9IHRvX3Jj
YXJfY3J0Y19zdGF0ZShjcnRjLT5zdGF0ZSk7Cj4gIAlzdHJ1Y3QgcmNhcl9kdV9kZXZpY2UgKnJj
ZHUgPSByY3J0Yy0+ZGV2Owo+ICAKPiAtCXJjYXJfZHVfY3J0Y19nZXQocmNydGMpOwo+IC0KPiAg
CS8qCj4gIAkgKiBPbiBEMy9FMyB0aGUgZG90IGNsb2NrIGlzIHByb3ZpZGVkIGJ5IHRoZSBMVkRT
IGVuY29kZXIgYXR0YWNoZWQgdG8KPiAgCSAqIHRoZSBEVSBjaGFubmVsLiBXZSBuZWVkIHRvIGVu
YWJsZSBpdHMgY2xvY2sgb3V0cHV0IGV4cGxpY2l0bHkgaWYKPiBAQCAtNzQxLDYgKzczOSw5IEBA
IHN0YXRpYyB2b2lkIHJjYXJfZHVfY3J0Y19hdG9taWNfZW5hYmxlKHN0cnVjdCBkcm1fY3J0YyAq
Y3J0YywKPiAgCQkJCSAgICAgbW9kZS0+Y2xvY2sgKiAxMDAwKTsKPiAgCX0KPiAgCj4gKwlpZiAo
cmNhcl9kdV9oYXMocmNydGMtPmRldiwgUkNBUl9EVV9GRUFUVVJFX1ZTUDFfU09VUkNFKSkKPiAr
CQlyY2FyX2R1X3ZzcF9lbmFibGUocmNydGMpOwo+ICsKPiAgCXJjYXJfZHVfY3J0Y19zdGFydChy
Y3J0Yyk7Cj4gIH0KPiAgCj4gQEAgLTc1Miw3ICs3NTMsNiBAQCBzdGF0aWMgdm9pZCByY2FyX2R1
X2NydGNfYXRvbWljX2Rpc2FibGUoc3RydWN0IGRybV9jcnRjICpjcnRjLAo+ICAJc3RydWN0IHJj
YXJfZHVfZGV2aWNlICpyY2R1ID0gcmNydGMtPmRldjsKPiAgCj4gIAlyY2FyX2R1X2NydGNfc3Rv
cChyY3J0Yyk7Cj4gLQlyY2FyX2R1X2NydGNfcHV0KHJjcnRjKTsKPiAgCj4gIAlpZiAocmNkdS0+
aW5mby0+bHZkc19jbGtfbWFzayAmIEJJVChyY3J0Yy0+aW5kZXgpICYmCj4gIAkgICAgcnN0YXRl
LT5vdXRwdXRzID09IEJJVChSQ0FSX0RVX09VVFBVVF9EUEFEMCkpIHsKPiBAQCAtNzgxLDE5ICs3
ODEsOCBAQCBzdGF0aWMgdm9pZCByY2FyX2R1X2NydGNfYXRvbWljX2JlZ2luKHN0cnVjdCBkcm1f
Y3J0YyAqY3J0YywKPiAgCj4gIAlXQVJOX09OKCFjcnRjLT5zdGF0ZS0+ZW5hYmxlKTsKPiAgCj4g
LQkvKgo+IC0JICogSWYgYSBtb2RlIHNldCBpcyBpbiBwcm9ncmVzcyB3ZSBjYW4gYmUgY2FsbGVk
IHdpdGggdGhlIENSVEMgZGlzYWJsZWQuCj4gLQkgKiBXZSB0aHVzIG5lZWQgdG8gZmlyc3QgZ2V0
IGFuZCBzZXR1cCB0aGUgQ1JUQyBpbiBvcmRlciB0byBjb25maWd1cmUKPiAtCSAqIHBsYW5lcy4g
V2UgbXVzdCAqbm90KiBwdXQgdGhlIENSVEMgaW4gLmF0b21pY19mbHVzaCgpLCBhcyBpdCBtdXN0
IGJlCj4gLQkgKiBrZXB0IGF3YWtlIHVudGlsIHRoZSAuYXRvbWljX2VuYWJsZSgpIGNhbGwgdGhh
dCB3aWxsIGZvbGxvdy4gVGhlIGdldAo+IC0JICogb3BlcmF0aW9uIGluIC5hdG9taWNfZW5hYmxl
KCkgd2lsbCBpbiB0aGF0IGNhc2UgYmUgYSBuby1vcCwgYW5kIHRoZQo+IC0JICogQ1JUQyB3aWxs
IGJlIHB1dCBsYXRlciBpbiAuYXRvbWljX2Rpc2FibGUoKS4KPiAtCSAqCj4gLQkgKiBJZiBhIG1v
ZGUgc2V0IGlzIG5vdCBpbiBwcm9ncmVzcyB0aGUgQ1JUQyBpcyBlbmFibGVkLCBhbmQgdGhlCj4g
LQkgKiBmb2xsb3dpbmcgZ2V0IGNhbGwgd2lsbCBiZSBhIG5vLW9wLiBUaGVyZSBpcyB0aHVzIG5v
IG5lZWQgdG8gYmFsYW5jZQo+IC0JICogaXQgaW4gLmF0b21pY19mbHVzaCgpIGVpdGhlci4KPiAt
CSAqLwo+IC0JcmNhcl9kdV9jcnRjX2dldChyY3J0Yyk7Cj4gKwkvKiBUdXJuIHZlcnRpY2FsIGJs
YW5raW5nIGludGVycnVwdCByZXBvcnRpbmcgb24uICovCj4gKwlkcm1fY3J0Y192Ymxhbmtfb24o
JnJjcnRjLT5jcnRjKTsKPiAgCj4gIAlpZiAocmNhcl9kdV9oYXMocmNydGMtPmRldiwgUkNBUl9E
VV9GRUFUVVJFX1ZTUDFfU09VUkNFKSkKPiAgCQlyY2FyX2R1X3ZzcF9hdG9taWNfYmVnaW4ocmNy
dGMpOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X2NydGMu
aCBiL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfY3J0Yy5oCj4gaW5kZXggM2NlNzYx
MDc5M2IyLi42MWQ3OWFhN2M4ZTggMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JjYXIt
ZHUvcmNhcl9kdV9jcnRjLmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1
X2NydGMuaAo+IEBAIC0zMCw3ICszMCw2IEBAIHN0cnVjdCByY2FyX2R1X3ZzcDsKPiAgICogQGV4
dGNsb2NrOiBleHRlcm5hbCBwaXhlbCBkb3QgY2xvY2sgKG9wdGlvbmFsKQo+ICAgKiBAbW1pb19v
ZmZzZXQ6IG9mZnNldCBvZiB0aGUgQ1JUQyByZWdpc3RlcnMgaW4gdGhlIERVIE1NSU8gYmxvY2sK
PiAgICogQGluZGV4OiBDUlRDIGhhcmR3YXJlIGluZGV4Cj4gLSAqIEBpbml0aWFsaXplZDogd2hl
dGhlciB0aGUgQ1JUQyBoYXMgYmVlbiBpbml0aWFsaXplZCBhbmQgY2xvY2tzIGVuYWJsZWQKPiAg
ICogQGRzeXNyOiBjYWNoZWQgdmFsdWUgb2YgdGhlIERTWVNSIHJlZ2lzdGVyCj4gICAqIEB2Ymxh
bmtfZW5hYmxlOiB3aGV0aGVyIHZibGFuayBldmVudHMgYXJlIGVuYWJsZWQgb24gdGhpcyBDUlRD
Cj4gICAqIEBldmVudDogZXZlbnQgdG8gcG9zdCB3aGVuIHRoZSBwZW5kaW5nIHBhZ2UgZmxpcCBj
b21wbGV0ZXMKPiBAQCAtNTEsNyArNTAsNiBAQCBzdHJ1Y3QgcmNhcl9kdV9jcnRjIHsKPiAgCXN0
cnVjdCBjbGsgKmV4dGNsb2NrOwo+ICAJdW5zaWduZWQgaW50IG1taW9fb2Zmc2V0Owo+ICAJdW5z
aWduZWQgaW50IGluZGV4Owo+IC0JYm9vbCBpbml0aWFsaXplZDsKPiAgCj4gIAl1MzIgZHN5c3I7
Cj4gIAo+IEBAIC0xMTEsNiArMTA5LDggQEAgaW50IHJjYXJfZHVfY3J0Y19hdG9taWNfZXhpdF9z
dGFuZGJ5KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCj4gIAkJCQkgICAgIHN0cnVjdCBkcm1fYXRv
bWljX3N0YXRlICpzdGF0ZSk7Cj4gIGludCByY2FyX2R1X2NydGNfYXRvbWljX2VudGVyX3N0YW5k
Ynkoc3RydWN0IGRybV9kZXZpY2UgKmRldiwKPiAgCQkJCSAgICAgIHN0cnVjdCBkcm1fYXRvbWlj
X3N0YXRlICpzdGF0ZSk7Cj4gK2ludCByY2FyX2R1X2NydGNfYXRvbWljX21vZGVzZXQoc3RydWN0
IGRybV9kZXZpY2UgKmRldiwKPiArCQkJCXN0cnVjdCBkcm1fYXRvbWljX3N0YXRlICpzdGF0ZSk7
Cj4gIAo+ICB2b2lkIHJjYXJfZHVfY3J0Y19kc3lzcl9jbHJfc2V0KHN0cnVjdCByY2FyX2R1X2Ny
dGMgKnJjcnRjLCB1MzIgY2xyLCB1MzIgc2V0KTsKPiAgCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfa21zLmMgYi9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9y
Y2FyX2R1X2ttcy5jCj4gaW5kZXggNTk2ODBkZTI3MWNjLi4xNDRjMGMxYjE1OTEgMTAwNjQ0Cj4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9rbXMuYwo+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfa21zLmMKPiBAQCAtNDEyLDYgKzQxMiw3IEBAIHN0
YXRpYyB2b2lkIHJjYXJfZHVfYXRvbWljX2NvbW1pdF90YWlsKHN0cnVjdCBkcm1fYXRvbWljX3N0
YXRlICpvbGRfc3RhdGUpCj4gIAlyY2FyX2R1X2NydGNfYXRvbWljX2V4aXRfc3RhbmRieShkZXYs
IG9sZF9zdGF0ZSk7Cj4gIAo+ICAJZHJtX2F0b21pY19oZWxwZXJfY29tbWl0X21vZGVzZXRfZGlz
YWJsZXMoZGV2LCBvbGRfc3RhdGUpOwo+ICsJcmNhcl9kdV9jcnRjX2F0b21pY19tb2Rlc2V0KGRl
diwgb2xkX3N0YXRlKTsKPiAgCWRybV9hdG9taWNfaGVscGVyX2NvbW1pdF9wbGFuZXMoZGV2LCBv
bGRfc3RhdGUsCj4gIAkJCQkJRFJNX1BMQU5FX0NPTU1JVF9BQ1RJVkVfT05MWSk7Cj4gIAlkcm1f
YXRvbWljX2hlbHBlcl9jb21taXRfbW9kZXNldF9lbmFibGVzKGRldiwgb2xkX3N0YXRlKTsKPiAt
LSAKPiBSZWdhcmRzLAo+IAo+IExhdXJlbnQgUGluY2hhcnQKPgoKUmV2aWV3ZWQtYnk6IFVscmlj
aCBIZWNodCA8dWxpK3JlbmVzYXNAZnBvbmQuZXU+CgpDVQpVbGkKX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmkt
ZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
L21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
