Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 60BA0117DA0
	for <lists+dri-devel@lfdr.de>; Tue, 10 Dec 2019 03:19:40 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 888A16E546;
	Tue, 10 Dec 2019 02:19:34 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
X-Greylist: delayed 429 seconds by postgrey-1.36 at gabe;
 Tue, 10 Dec 2019 02:19:33 UTC
Received: from mga07.intel.com (mga07.intel.com [134.134.136.100])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 4BAD16E546;
 Tue, 10 Dec 2019 02:19:33 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga006.fm.intel.com ([10.253.24.20])
 by orsmga105.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 09 Dec 2019 18:12:23 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.69,297,1571727600"; d="scan'208";a="414280906"
Received: from fmsmsx105.amr.corp.intel.com ([10.18.124.203])
 by fmsmga006.fm.intel.com with ESMTP; 09 Dec 2019 18:12:23 -0800
Received: from fmsmsx117.amr.corp.intel.com ([169.254.3.27]) by
 FMSMSX105.amr.corp.intel.com ([169.254.4.47]) with mapi id 14.03.0439.000;
 Mon, 9 Dec 2019 18:12:23 -0800
From: "Souza, Jose" <jose.souza@intel.com>
To: "ville.syrjala@linux.intel.com" <ville.syrjala@linux.intel.com>,
 "intel-gfx@lists.freedesktop.org" <intel-gfx@lists.freedesktop.org>
Subject: Re: [Intel-gfx] [PATCH 4/5] drm/i915: Introduce
 intel_crtc_state_reset()
Thread-Topic: [Intel-gfx] [PATCH 4/5] drm/i915: Introduce
 intel_crtc_state_reset()
Thread-Index: AQHVlXcXHyeMt8qsnE2VVVPbcE6lq6ezWbEA
Date: Tue, 10 Dec 2019 02:12:23 +0000
Message-ID: <9b92a5891023e5fa0ea1cb42c5e2eb688d51e7ad.camel@intel.com>
References: <20191107142417.11107-1-ville.syrjala@linux.intel.com>
 <20191107142417.11107-4-ville.syrjala@linux.intel.com>
In-Reply-To: <20191107142417.11107-4-ville.syrjala@linux.intel.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [10.98.40.69]
Content-ID: <0964EC3B1719F545B7D82107AF6020AD@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: "dri-devel@lists.freedesktop.org" <dri-devel@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVGh1LCAyMDE5LTExLTA3IGF0IDE2OjI0ICswMjAwLCBWaWxsZSBTeXJqYWxhIHdyb3RlOg0K
PiBGcm9tOiBWaWxsZSBTeXJqw6Rsw6QgPHZpbGxlLnN5cmphbGFAbGludXguaW50ZWwuY29tPg0K
PiANCj4gV2UgaGF2ZSBhIGZldyBwbGFjZXMgd2hlcmUgd2Ugd2FudCB0byByZXNldCBhIGNydGMg
c3RhdGUgdG8gaXRzDQo+IGRlZmF1bHQgdmFsdWVzLiBMZXQncyBhZGQgYSBoZWxwZXIgZm9yIHRo
YXQuIFdlJ2xsIG5lZWQgdGhlIG5ldw0KPiBfX2RybV9hdG9taWNfaGVscGVyX2NydGNfc3RhdGVf
cmVzZXQoKSBoZWxwZXIgZm9yIHRoaXMgdG8gYWxsb3cNCj4gdXMgdG8ganVzdCByZXNldCB0aGUg
c3RhdGUgaXRzZWxmIHdpdGhvdXQgY2xvYmJlcmluZyB0aGUNCj4gY3J0Yy0+c3RhdGUgcG9pbnRl
ci4NCj4gDQo+IEFuZCB3aGlsZSBhdCBpdCBsZXQncyB6ZXJvIG91dCB0aGUgd2hvbGUgdGhpbmcs
IGV4Y2VwdCBhIGZldw0KPiBjaG9pY2UgbWVtYmVyIHdoaWNoIHdlJ2xsIG1hcmsgYXMgImludmFs
aWQiLiBBbmQgdGhhbmtzIHRvIHRoaXMNCj4gd2UgY2FuIG5vdyBudWtlIGludGVsX2NydGNfaW5p
dF9zY2FsZXJzKCkuDQo+IA0KPiBTaWduZWQtb2ZmLWJ5OiBWaWxsZSBTeXJqw6Rsw6QgPHZpbGxl
LnN5cmphbGFAbGludXguaW50ZWwuY29tPg0KPiAtLS0NCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jIHwgNDcgKysrKysrKysrLS0tLS0tLS0tDQo+IC0tDQo+
ICAxIGZpbGUgY2hhbmdlZCwgMjIgaW5zZXJ0aW9ucygrKSwgMjUgZGVsZXRpb25zKC0pDQo+IA0K
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5
LmMNCj4gYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYw0KPiBp
bmRleCBlNjI5MTg0MTA1M2YuLmZkNDEyMDUzM2MzZiAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMNCj4gKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMNCj4gQEAgLTE2NCw3ICsxNjQsNiBAQCBz
dGF0aWMgdm9pZCB2bHZfcHJlcGFyZV9wbGwoc3RydWN0IGludGVsX2NydGMNCj4gKmNydGMsDQo+
ICAJCQkgICAgY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUNCj4gKnBpcGVfY29uZmlnKTsN
Cj4gIHN0YXRpYyB2b2lkIGNodl9wcmVwYXJlX3BsbChzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YywN
Cj4gIAkJCSAgICBjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZQ0KPiAqcGlwZV9jb25maWcp
Ow0KPiAtc3RhdGljIHZvaWQgaW50ZWxfY3J0Y19pbml0X3NjYWxlcnMoc3RydWN0IGludGVsX2Ny
dGNfc3RhdGUNCj4gKmNydGNfc3RhdGUpOw0KPiAgc3RhdGljIHZvaWQgc2t5bGFrZV9wZml0X2Vu
YWJsZShjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZQ0KPiAqY3J0Y19zdGF0ZSk7DQo+ICBz
dGF0aWMgdm9pZCBpcm9ubGFrZV9wZml0X2Rpc2FibGUoY29uc3Qgc3RydWN0IGludGVsX2NydGNf
c3RhdGUNCj4gKm9sZF9jcnRjX3N0YXRlKTsNCj4gIHN0YXRpYyB2b2lkIGlyb25sYWtlX3BmaXRf
ZW5hYmxlKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlDQo+ICpjcnRjX3N0YXRlKTsNCj4g
QEAgLTEwNjU1LDggKzEwNjU0LDYgQEAgc3RhdGljIGJvb2wgaGFzd2VsbF9nZXRfcGlwZV9jb25m
aWcoc3RydWN0DQo+IGludGVsX2NydGMgKmNydGMsDQo+ICAJdTY0IHBvd2VyX2RvbWFpbl9tYXNr
Ow0KPiAgCWJvb2wgYWN0aXZlOw0KPiAgDQo+IC0JaW50ZWxfY3J0Y19pbml0X3NjYWxlcnMocGlw
ZV9jb25maWcpOw0KPiAtDQo+ICAJcGlwZV9jb25maWctPm1hc3Rlcl90cmFuc2NvZGVyID0gSU5W
QUxJRF9UUkFOU0NPREVSOw0KPiAgDQo+ICAJcG93ZXJfZG9tYWluID0gUE9XRVJfRE9NQUlOX1BJ
UEUoY3J0Yy0+cGlwZSk7DQo+IEBAIC0xMTcwNCw2ICsxMTcwMSwyMCBAQCBzdGF0aWMgdm9pZCBp
cm9ubGFrZV9wY2hfY2xvY2tfZ2V0KHN0cnVjdA0KPiBpbnRlbF9jcnRjICpjcnRjLA0KPiAgCQkJ
CQkgJnBpcGVfY29uZmlnLT5mZGlfbV9uKTsNCj4gIH0NCj4gIA0KPiArc3RhdGljIHZvaWQgaW50
ZWxfY3J0Y19zdGF0ZV9yZXNldChzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZQ0KPiAqY3J0Y19zdGF0
ZSwNCj4gKwkJCQkgICBzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YykNCj4gK3sNCj4gKwltZW1zZXQo
Y3J0Y19zdGF0ZSwgMCwgc2l6ZW9mKCpjcnRjX3N0YXRlKSk7DQo+ICsNCj4gKwlfX2RybV9hdG9t
aWNfaGVscGVyX2NydGNfc3RhdGVfcmVzZXQoJmNydGNfc3RhdGUtPnVhcGksICZjcnRjLQ0KPiA+
YmFzZSk7DQo+ICsNCj4gKwljcnRjX3N0YXRlLT5jcHVfdHJhbnNjb2RlciA9IElOVkFMSURfVFJB
TlNDT0RFUjsNCj4gKwljcnRjX3N0YXRlLT5tYXN0ZXJfdHJhbnNjb2RlciA9IElOVkFMSURfVFJB
TlNDT0RFUjsNCg0KQXQgbGVhc3QgbWFzdGVyX3RyYW5zY29kZXIgaXMgc2V0IHRvIGludmFsaWQg
YWdhaW4gYnV0IHdlIGNhbiByZW1vdmUNCnRoZSByZWR1bmRhbnQgc2V0cyBsYXRlcg0KDQpSZXZp
ZXdlZC1ieTogSm9zw6kgUm9iZXJ0byBkZSBTb3V6YSA8am9zZS5zb3V6YUBpbnRlbC5jb20+DQoN
Cj4gKwljcnRjX3N0YXRlLT5oc3dfd29ya2Fyb3VuZF9waXBlID0gSU5WQUxJRF9QSVBFOw0KPiAr
CWNydGNfc3RhdGUtPm91dHB1dF9mb3JtYXQgPSBJTlRFTF9PVVRQVVRfRk9STUFUX0lOVkFMSUQ7
DQo+ICsJY3J0Y19zdGF0ZS0+c2NhbGVyX3N0YXRlLnNjYWxlcl9pZCA9IC0xOw0KPiArfQ0KPiAr
DQo+ICAvKiBSZXR1cm5zIHRoZSBjdXJyZW50bHkgcHJvZ3JhbW1lZCBtb2RlIG9mIHRoZSBnaXZl
biBlbmNvZGVyLiAqLw0KPiAgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKg0KPiAgaW50ZWxfZW5j
b2Rlcl9jdXJyZW50X21vZGUoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIpDQo+IEBAIC0x
MTcyOSw3ICsxMTc0MCw3IEBAIGludGVsX2VuY29kZXJfY3VycmVudF9tb2RlKHN0cnVjdA0KPiBp
bnRlbF9lbmNvZGVyICplbmNvZGVyKQ0KPiAgCQlyZXR1cm4gTlVMTDsNCj4gIAl9DQo+ICANCj4g
LQljcnRjX3N0YXRlLT51YXBpLmNydGMgPSAmY3J0Yy0+YmFzZTsNCj4gKwlpbnRlbF9jcnRjX3N0
YXRlX3Jlc2V0KGNydGNfc3RhdGUsIGNydGMpOw0KPiAgDQo+ICAJaWYgKCFkZXZfcHJpdi0+ZGlz
cGxheS5nZXRfcGlwZV9jb25maWcoY3J0YywgY3J0Y19zdGF0ZSkpIHsNCj4gIAkJa2ZyZWUoY3J0
Y19zdGF0ZSk7DQo+IEBAIC0xMzU3NywxOCArMTM1ODgsMTQgQEAgdmVyaWZ5X2NydGNfc3RhdGUo
c3RydWN0IGludGVsX2NydGMgKmNydGMsDQo+ICAJc3RydWN0IGRybV9kZXZpY2UgKmRldiA9IGNy
dGMtPmJhc2UuZGV2Ow0KPiAgCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRv
X2k5MTUoZGV2KTsNCj4gIAlzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlcjsNCj4gLQlzdHJ1
Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqcGlwZV9jb25maWc7DQo+IC0Jc3RydWN0IGRybV9hdG9taWNf
c3RhdGUgKnN0YXRlOw0KPiArCXN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpwaXBlX2NvbmZpZyA9
IG9sZF9jcnRjX3N0YXRlOw0KPiArCXN0cnVjdCBkcm1fYXRvbWljX3N0YXRlICpzdGF0ZSA9IG9s
ZF9jcnRjX3N0YXRlLT51YXBpLnN0YXRlOw0KPiAgCWJvb2wgYWN0aXZlOw0KPiAgDQo+IC0Jc3Rh
dGUgPSBvbGRfY3J0Y19zdGF0ZS0+dWFwaS5zdGF0ZTsNCj4gIAlfX2RybV9hdG9taWNfaGVscGVy
X2NydGNfZGVzdHJveV9zdGF0ZSgmb2xkX2NydGNfc3RhdGUtPnVhcGkpOw0KPiAgCWludGVsX2Ny
dGNfZnJlZV9od19zdGF0ZShvbGRfY3J0Y19zdGF0ZSk7DQo+IC0NCj4gLQlwaXBlX2NvbmZpZyA9
IG9sZF9jcnRjX3N0YXRlOw0KPiAtCW1lbXNldChwaXBlX2NvbmZpZywgMCwgc2l6ZW9mKCpwaXBl
X2NvbmZpZykpOw0KPiAtCXBpcGVfY29uZmlnLT51YXBpLmNydGMgPSAmY3J0Yy0+YmFzZTsNCj4g
LQlwaXBlX2NvbmZpZy0+dWFwaS5zdGF0ZSA9IHN0YXRlOw0KPiArCWludGVsX2NydGNfc3RhdGVf
cmVzZXQob2xkX2NydGNfc3RhdGUsIGNydGMpOw0KPiArCW9sZF9jcnRjX3N0YXRlLT51YXBpLnN0
YXRlID0gc3RhdGU7DQo+ICANCj4gIAlEUk1fREVCVUdfS01TKCJbQ1JUQzolZDolc11cbiIsIGNy
dGMtPmJhc2UuYmFzZS5pZCwgY3J0Yy0NCj4gPmJhc2UubmFtZSk7DQo+ICANCj4gQEAgLTE1NzQ1
LDE1ICsxNTc1Miw2IEBAIGludGVsX2N1cnNvcl9wbGFuZV9jcmVhdGUoc3RydWN0DQo+IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2LA0KPiAgCXJldHVybiBFUlJfUFRSKHJldCk7DQo+ICB9DQo+
ICANCj4gLXN0YXRpYyB2b2lkIGludGVsX2NydGNfaW5pdF9zY2FsZXJzKHN0cnVjdCBpbnRlbF9j
cnRjX3N0YXRlDQo+ICpjcnRjX3N0YXRlKQ0KPiAtew0KPiAtCXN0cnVjdCBpbnRlbF9jcnRjX3Nj
YWxlcl9zdGF0ZSAqc2NhbGVyX3N0YXRlID0NCj4gLQkJJmNydGNfc3RhdGUtPnNjYWxlcl9zdGF0
ZTsNCj4gLQ0KPiAtCW1lbXNldChzY2FsZXJfc3RhdGUsIDAsIHNpemVvZigqc2NhbGVyX3N0YXRl
KSk7DQo+IC0Jc2NhbGVyX3N0YXRlLT5zY2FsZXJfaWQgPSAtMTsNCj4gLX0NCj4gLQ0KPiAgI2Rl
ZmluZSBJTlRFTF9DUlRDX0ZVTkNTIFwNCj4gIAkuZ2FtbWFfc2V0ID0gZHJtX2F0b21pY19oZWxw
ZXJfbGVnYWN5X2dhbW1hX3NldCwgXA0KPiAgCS5zZXRfY29uZmlnID0gZHJtX2F0b21pY19oZWxw
ZXJfc2V0X2NvbmZpZywgXA0KPiBAQCAtMTU4MzYsOSArMTU4MzQsOSBAQCBzdGF0aWMgc3RydWN0
IGludGVsX2NydGMNCj4gKmludGVsX2NydGNfYWxsb2Modm9pZCkNCj4gIAkJcmV0dXJuIEVSUl9Q
VFIoLUVOT01FTSk7DQo+ICAJfQ0KPiAgDQo+IC0JX19kcm1fYXRvbWljX2hlbHBlcl9jcnRjX3Jl
c2V0KCZjcnRjLT5iYXNlLCAmY3J0Y19zdGF0ZS0+dWFwaSk7DQo+IC0JaW50ZWxfY3J0Y19pbml0
X3NjYWxlcnMoY3J0Y19zdGF0ZSk7DQo+ICsJaW50ZWxfY3J0Y19zdGF0ZV9yZXNldChjcnRjX3N0
YXRlLCBjcnRjKTsNCj4gIA0KPiArCWNydGMtPmJhc2Uuc3RhdGUgPSAmY3J0Y19zdGF0ZS0+dWFw
aTsNCj4gIAljcnRjLT5jb25maWcgPSBjcnRjX3N0YXRlOw0KPiAgDQo+ICAJcmV0dXJuIGNydGM7
DQo+IEBAIC0xNzQxNCw4ICsxNzQxMiw3IEBAIHN0YXRpYyB2b2lkDQo+IGludGVsX21vZGVzZXRf
cmVhZG91dF9od19zdGF0ZShzdHJ1Y3QgZHJtX2RldmljZSAqZGV2KQ0KPiAgDQo+ICAJCV9fZHJt
X2F0b21pY19oZWxwZXJfY3J0Y19kZXN0cm95X3N0YXRlKCZjcnRjX3N0YXRlLQ0KPiA+dWFwaSk7
DQo+ICAJCWludGVsX2NydGNfZnJlZV9od19zdGF0ZShjcnRjX3N0YXRlKTsNCj4gLQkJbWVtc2V0
KGNydGNfc3RhdGUsIDAsIHNpemVvZigqY3J0Y19zdGF0ZSkpOw0KPiAtCQlfX2RybV9hdG9taWNf
aGVscGVyX2NydGNfcmVzZXQoJmNydGMtPmJhc2UsDQo+ICZjcnRjX3N0YXRlLT51YXBpKTsNCj4g
KwkJaW50ZWxfY3J0Y19zdGF0ZV9yZXNldChjcnRjX3N0YXRlLCBjcnRjKTsNCj4gIA0KPiAgCQlj
cnRjX3N0YXRlLT5ody5hY3RpdmUgPSBjcnRjX3N0YXRlLT5ody5lbmFibGUgPQ0KPiAgCQkJZGV2
X3ByaXYtPmRpc3BsYXkuZ2V0X3BpcGVfY29uZmlnKGNydGMsDQo+IGNydGNfc3RhdGUpOw0KX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1h
aWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVsCg==
