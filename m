Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 603F6113D21
	for <lists+dri-devel@lfdr.de>; Thu,  5 Dec 2019 09:36:08 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B5B156F5E2;
	Thu,  5 Dec 2019 08:36:05 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from EUR03-DB5-obe.outbound.protection.outlook.com
 (mail-eopbgr40083.outbound.protection.outlook.com [40.107.4.83])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 4A56C6F5E2
 for <dri-devel@lists.freedesktop.org>; Thu,  5 Dec 2019 08:36:04 +0000 (UTC)
Received: from AM6PR08CA0032.eurprd08.prod.outlook.com (2603:10a6:20b:c0::20)
 by AM0PR08MB4468.eurprd08.prod.outlook.com (2603:10a6:208:145::10)
 with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2516.12; Thu, 5 Dec
 2019 08:36:01 +0000
Received: from AM5EUR03FT030.eop-EUR03.prod.protection.outlook.com
 (2a01:111:f400:7e08::204) by AM6PR08CA0032.outlook.office365.com
 (2603:10a6:20b:c0::20) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2516.12 via Frontend
 Transport; Thu, 5 Dec 2019 08:36:01 +0000
Received-SPF: Pass (protection.outlook.com: domain of arm.com designates
 63.35.35.123 as permitted sender) receiver=protection.outlook.com;
 client-ip=63.35.35.123; helo=64aa7808-outbound-1.mta.getcheckrecipient.com;
Received: from 64aa7808-outbound-1.mta.getcheckrecipient.com (63.35.35.123) by
 AM5EUR03FT030.mail.protection.outlook.com (10.152.16.117) with
 Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2495.18 via Frontend Transport; Thu, 5 Dec 2019 08:36:01 +0000
Received: ("Tessian outbound 25173d5f5683:v37");
 Thu, 05 Dec 2019 08:36:00 +0000
X-CheckRecipientChecked: true
X-CR-MTA-CID: 2a6b0409a2bad344
X-CR-MTA-TID: 64aa7808
Received: from bf5a46e4d812.4
 by 64aa7808-outbound-1.mta.getcheckrecipient.com id
 2CAB80B6-F600-4403-8CE7-BA339EB32632.1; 
 Thu, 05 Dec 2019 08:35:55 +0000
Received: from EUR02-VE1-obe.outbound.protection.outlook.com
 by 64aa7808-outbound-1.mta.getcheckrecipient.com with ESMTPS id bf5a46e4d812.4
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384);
 Thu, 05 Dec 2019 08:35:55 +0000
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=ELb55Zv8J1bvjhImmX+7nrZN0XvIPkVoWwqFARt6GvUe/5tUOgpn54c391DVDGwlk5jKPNt//xTvZXHCtLXr6PAKXvZOxMR2B8AMwc1l438OV25tZ7yh/3FJpHfsSWv4STYMfnmvE9ExURe9C7a5iTrluTwp5Qyr37v2tR9prvyWGT/JA4GHyb1V+oHkwEvb8a5m+skc6ttD9/11p9APK0frh57lk3mipGvPM6KU41DLihjfEzs/E2JTFwgcHrnzwhICRl96r689OlbzrAJk86z/MglHFVUfax19kfwkW0qzDZv7SRHyJ1M7CK7JAmywHzYmhsULkAPVOuhptX4g5Q==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=MNE7+1y7dTmC5k0mi/fzuSuQhBHPcnvW+WNpDf6IaTM=;
 b=Vg2cjakBM4qFODjAjiFNrd3FLLjZVC2/5A5msjwiERiYUqavCYML9PJ9eAoOR4hvAvpkcM0uYmHqajm1T33G9AZ6SVb6ahxJX7dK+YuNEttAqmsQsacvOgaD0Lo54Jz+sqX3Hh61m70rsROJ6KD5hRAuQU6yU24N4XZIyjzhmN8QOxSL+IUjgYjXH1RQQQIN3IHoH+Jsy297H7qWGyJ0a/j7jdp5oh5CdTA9EIINni1+oI6SE9pmDfuoVjj56JaX3VvT6O0gJT2+GMaC5Nwna0Zqr39Ate2xVh6zpkS2UlQ+GBEsZoT4Z5Xq2Cjw/4tBga1uV1FUbori+x+IPCv+eA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=arm.com; dmarc=pass action=none header.from=arm.com; dkim=pass
 header.d=arm.com; arc=none
Received: from VE1PR08MB5006.eurprd08.prod.outlook.com (10.255.159.31) by
 AM0SPR01MB0026.eurprd08.prod.outlook.com (52.135.152.154) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2516.12; Thu, 5 Dec 2019 08:35:51 +0000
Received: from VE1PR08MB5006.eurprd08.prod.outlook.com
 ([fe80::f984:b0c7:bce9:144e]) by VE1PR08MB5006.eurprd08.prod.outlook.com
 ([fe80::f984:b0c7:bce9:144e%2]) with mapi id 15.20.2495.014; Thu, 5 Dec 2019
 08:35:51 +0000
From: "james qian wang (Arm Technology China)" <james.qian.wang@arm.com>
To: Mihail Atanassov <Mihail.Atanassov@arm.com>
Subject: [PATCH v5 3/5] drm/komeda: Build side by side display output pipeline
Thread-Topic: [PATCH v5 3/5] drm/komeda: Build side by side display output
 pipeline
Thread-Index: AQHVq0cAtaKlsvJA1kSs3IYKkTMm9w==
Date: Thu, 5 Dec 2019 08:35:51 +0000
Message-ID: <20191205083436.11060-4-james.qian.wang@arm.com>
References: <20191205083436.11060-1-james.qian.wang@arm.com>
In-Reply-To: <20191205083436.11060-1-james.qian.wang@arm.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [113.29.88.7]
x-clientproxiedby: HK0PR03CA0105.apcprd03.prod.outlook.com
 (2603:1096:203:b0::21) To VE1PR08MB5006.eurprd08.prod.outlook.com
 (2603:10a6:803:113::31)
Authentication-Results-Original: spf=none (sender IP is )
 smtp.mailfrom=james.qian.wang@arm.com; 
x-ms-exchange-messagesentrepresentingtype: 1
x-mailer: git-send-email 2.20.1
x-ms-publictraffictype: Email
X-MS-Office365-Filtering-HT: Tenant
X-MS-Office365-Filtering-Correlation-Id: 649b1c63-427f-4259-805d-08d7795e28a5
X-MS-TrafficTypeDiagnostic: AM0SPR01MB0026:|AM0SPR01MB0026:|AM0PR08MB4468:
x-ms-exchange-transport-forked: True
X-Microsoft-Antispam-PRVS: <AM0PR08MB4468746B1C636E2E29D84E6CB35C0@AM0PR08MB4468.eurprd08.prod.outlook.com>
x-checkrecipientrouted: true
x-ms-oob-tlc-oobclassifiers: OLM:1284;OLM:1284;
x-forefront-prvs: 02426D11FE
X-Forefront-Antispam-Report-Untrusted: SFV:NSPM;
 SFS:(10009020)(4636009)(346002)(376002)(39860400002)(136003)(396003)(366004)(199004)(189003)(8676002)(5660300002)(71200400001)(71190400001)(7736002)(86362001)(305945005)(2906002)(316002)(36756003)(103116003)(50226002)(1076003)(81156014)(81166006)(6862004)(8936002)(55236004)(6636002)(4326008)(99286004)(186003)(478600001)(11346002)(2616005)(102836004)(26005)(25786009)(76176011)(52116002)(14454004)(6506007)(66446008)(6116002)(54906003)(66946007)(66476007)(66556008)(64756008)(3846002)(37006003)(6436002)(14444005)(6486002)(6512007);
 DIR:OUT; SFP:1101; SCL:1; SRVR:AM0SPR01MB0026;
 H:VE1PR08MB5006.eurprd08.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: arm.com does not designate
 permitted sender hosts)
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam-Untrusted: BCL:0;
X-Microsoft-Antispam-Message-Info-Original: NK1o6x8zWlGzhx1pdK2jpoUp3ydsJVhto+F5qIMlc0V7aX0v/dNZImAjwUdnwOwEgjY5UgUwVgtvswO9GQTicikQFgWPH8jP+f48oWIS98g3MdOjXE+n5jt4ZodCK1FH15SjYXUveFag7ADLQVyw2RxMK4tO9ACrhzQMEdYXNv1i9EadL3z3aVfzB/YwwmCa3MefqODV8OvylCmJ0iRyh09WmMtPmhf4Q4HzMyTaLlMqGDgtHKBeKQNkLSfvNfDK9w+zBZvwRaFj0GsCIEcqAHYtSplgs8yGTXMPxw+kd/9r2uiWNaN5Rw5MyR8mrdpUUojHITx08VWL5wCLF6qn9GD6Wxsa940PaPmtn0aAzU1xZfhLZ8o8w4Z0wuUTVbvlWszUEJwPzNBQL2Nk8iVC8lS1KC/LLASjFYIqHfnlKdd8rKqApsOnVwCZPhHEXqwi
MIME-Version: 1.0
X-MS-Exchange-Transport-CrossTenantHeadersStamped: AM0SPR01MB0026
Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=james.qian.wang@arm.com; 
X-EOPAttributedMessage: 0
X-MS-Exchange-Transport-CrossTenantHeadersStripped: AM5EUR03FT030.eop-EUR03.prod.protection.outlook.com
X-Forefront-Antispam-Report: CIP:63.35.35.123; IPV:CAL; SCL:-1; CTRY:IE;
 EFV:NLI; SFV:NSPM;
 SFS:(10009020)(4636009)(39860400002)(396003)(136003)(376002)(346002)(199004)(189003)(50466002)(22756006)(4326008)(26826003)(70206006)(6862004)(356004)(478600001)(11346002)(76130400001)(3846002)(14454004)(103116003)(6116002)(6486002)(316002)(36906005)(6512007)(23756003)(54906003)(37006003)(6636002)(70586007)(305945005)(86362001)(25786009)(36756003)(6506007)(7736002)(5660300002)(336012)(2906002)(102836004)(26005)(99286004)(1076003)(8746002)(2616005)(8936002)(50226002)(76176011)(186003)(8676002)(81156014)(14444005)(81166006);
 DIR:OUT; SFP:1101; SCL:1; SRVR:AM0PR08MB4468;
 H:64aa7808-outbound-1.mta.getcheckrecipient.com; FPR:; SPF:Pass; LANG:en;
 PTR:ec2-63-35-35-123.eu-west-1.compute.amazonaws.com; A:1; MX:1; 
X-MS-Office365-Filtering-Correlation-Id-Prvs: a9afa293-b141-40ab-1bf0-08d7795e2288
NoDisclaimer: True
X-Forefront-PRVS: 02426D11FE
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: HLq68WEQ8Ibj8HX8Fqj7/+vYPLtDiIEt8VRdgTWvXZSSk67KVOMRxNfGaXXbiiNOtEopLpY6/tdAQdz1qrSh3bdDMIAOdHb1FH3zgLX7zu3/qnXm5n9N9E1yfpZ9SIPnFj1/CkAW/w37Q4h5VWGF9gaXZAYLXOxKTp39EBpjOaqdZMz/So4WLLM0ad9ay0cvu4QcPlfYc7yGw72qtbsl4KzG/gtHjTEpoYWwvhM1w4Yph25dzrTUgA5O6gdJQZxi9nf8KtTocY7icHE/riuxqLe0Kzjn2yLzt6ZombWr6JLPr6KDTj5i2ps6xfa8PE0miWUGQCI8lqI2POvUNUuipKUHeXf9QqI6qz63MLpqgjiYso4T+YYshPQjOy0qcadUEaMefdrgfKieH5QOhDUObpwKHodqHatKiaJA3nya7U6Oy9+G6R/cXNDlqhA/7L85
X-OriginatorOrg: arm.com
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 05 Dec 2019 08:36:01.1135 (UTC)
X-MS-Exchange-CrossTenant-Network-Message-Id: 649b1c63-427f-4259-805d-08d7795e28a5
X-MS-Exchange-CrossTenant-Id: f34e5979-57d9-4aaa-ad4d-b122a662184d
X-MS-Exchange-CrossTenant-OriginalAttributedTenantConnectingIp: TenantId=f34e5979-57d9-4aaa-ad4d-b122a662184d; Ip=[63.35.35.123];
 Helo=[64aa7808-outbound-1.mta.getcheckrecipient.com]
X-MS-Exchange-CrossTenant-FromEntityHeader: HybridOnPrem
X-MS-Exchange-Transport-CrossTenantHeadersStamped: AM0PR08MB4468
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=armh.onmicrosoft.com; 
 s=selector2-armh-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=MNE7+1y7dTmC5k0mi/fzuSuQhBHPcnvW+WNpDf6IaTM=;
 b=YgugMVQw3wg3iG1rEvvDfl5fmBAHtD+2QfCMPJLo007NUXu3UgpmGwoWF83AREsU75XRNdarbhZb3UK30urj2x2cOJyFivd80iTAse7xJjpl48p3gHkTpxzt64ohpTz+j/IFQfTjq7/lHKgxKoF3qymBb9JF5xCJJiWyWyZlLG8=
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=armh.onmicrosoft.com; 
 s=selector2-armh-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=MNE7+1y7dTmC5k0mi/fzuSuQhBHPcnvW+WNpDf6IaTM=;
 b=YgugMVQw3wg3iG1rEvvDfl5fmBAHtD+2QfCMPJLo007NUXu3UgpmGwoWF83AREsU75XRNdarbhZb3UK30urj2x2cOJyFivd80iTAse7xJjpl48p3gHkTpxzt64ohpTz+j/IFQfTjq7/lHKgxKoF3qymBb9JF5xCJJiWyWyZlLG8=
X-Mailman-Original-Authentication-Results: spf=pass (sender IP is 63.35.35.123)
 smtp.mailfrom=arm.com; lists.freedesktop.org; dkim=pass (signature was
 verified) header.d=armh.onmicrosoft.com;lists.freedesktop.org;
 dmarc=bestguesspass action=none header.from=arm.com;
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: nd <nd@arm.com>, "Oscar
 Zhang \(Arm Technology China\)" <Oscar.Zhang@arm.com>,
 "Tiannan Zhu \(Arm Technology China\)" <Tiannan.Zhu@arm.com>,
 "Jonathan Chai \(Arm Technology China\)" <Jonathan.Chai@arm.com>,
 "linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>,
 "dri-devel@lists.freedesktop.org" <dri-devel@lists.freedesktop.org>, "Julien
 Yin \(Arm Technology China\)" <Julien.Yin@arm.com>, "Channing Chen \(Arm
 Technology China\)" <Channing.Chen@arm.com>, "james qian wang \(Arm Technology
 China\)" <james.qian.wang@arm.com>, "Thomas Sun \(Arm Technology
 China\)" <thomas.Sun@arm.com>,
 "Lowry Li \(Arm Technology China\)" <Lowry.Li@arm.com>,
 Ben Davis <Ben.Davis@arm.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Rm9yIHNpZGUgYnkgc2lkZSwgdGhlIHNsYXZlIHBpcGVsaW5lIG1lcmdlcyB0byBtYXN0ZXIgdmlh
IGltYWdlIHByb2Nlc3NvcgoKIHNsYXZlLWxheWVycyAtPiBzbGF2ZS1jb21waXotPiBzbGF2ZS1p
bXByb2MtCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKIG1h
c3Rlci1sYXllcnMgLT4gbWFzdGVyLWNvbXBpeiAtLS0tLS0tLS0tLS0tPiBtYXN0ZXItaW1wcm9j
IC0+Cgp2MzogUmViYXNlLgoKU2lnbmVkLW9mZi1ieTogSmFtZXMgUWlhbiBXYW5nIChBcm0gVGVj
aG5vbG9neSBDaGluYSkgPGphbWVzLnFpYW4ud2FuZ0Bhcm0uY29tPgotLS0KIC4uLi9hcm0vZGlz
cGxheS9rb21lZGEvZDcxL2Q3MV9jb21wb25lbnQuYyAgICB8ICA0ICsrCiAuLi4vZ3B1L2RybS9h
cm0vZGlzcGxheS9rb21lZGEva29tZWRhX2NydGMuYyAgfCAxOCArKysrKy0tCiAuLi4vZHJtL2Fy
bS9kaXNwbGF5L2tvbWVkYS9rb21lZGFfcGlwZWxpbmUuaCAgfCAgMSArCiAuLi4vZGlzcGxheS9r
b21lZGEva29tZWRhX3BpcGVsaW5lX3N0YXRlLmMgICAgfCA1MSArKysrKysrKysrKysrKy0tLS0t
CiAuLi4vYXJtL2Rpc3BsYXkva29tZWRhL2tvbWVkYV93Yl9jb25uZWN0b3IuYyAgfCAgMiArLQog
NSBmaWxlcyBjaGFuZ2VkLCA1NiBpbnNlcnRpb25zKCspLCAyMCBkZWxldGlvbnMoLSkKCmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYXJtL2Rpc3BsYXkva29tZWRhL2Q3MS9kNzFfY29tcG9u
ZW50LmMgYi9kcml2ZXJzL2dwdS9kcm0vYXJtL2Rpc3BsYXkva29tZWRhL2Q3MS9kNzFfY29tcG9u
ZW50LmMKaW5kZXggYjY1MTdjNDZlNjcwLi42ZGFkZjQ0MTNlZjMgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9hcm0vZGlzcGxheS9rb21lZGEvZDcxL2Q3MV9jb21wb25lbnQuYworKysgYi9k
cml2ZXJzL2dwdS9kcm0vYXJtL2Rpc3BsYXkva29tZWRhL2Q3MS9kNzFfY29tcG9uZW50LmMKQEAg
LTEwODUsNiArMTA4NSwxMCBAQCBzdGF0aWMgdm9pZCBkNzFfaW1wcm9jX3VwZGF0ZShzdHJ1Y3Qg
a29tZWRhX2NvbXBvbmVudCAqYywKIAllbHNlIGlmIChzdC0+Y29sb3JfZm9ybWF0ID09IERSTV9D
T0xPUl9GT1JNQVRfWUNSQ0I0NDQpCiAJCWN0cmwgfD0gSVBTX0NUUkxfWVVWOwogCisJLyogc2xh
dmUgaW5wdXQgaGFzIGJlZW4gZW5hYmxlZCwgbWVhbnMgc2lkZSBieSBzaWRlICovCisJaWYgKGhh
c19iaXQoMSwgc3RhdGUtPmFjdGl2ZV9pbnB1dHMpKQorCQljdHJsIHw9IElQU19DVFJMX1NCUzsK
KwogCW1hbGlkcF93cml0ZTMyX21hc2socmVnLCBCTEtfQ09OVFJPTCwgbWFzaywgY3RybCk7CiB9
CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hcm0vZGlzcGxheS9rb21lZGEva29tZWRh
X2NydGMuYyBiL2RyaXZlcnMvZ3B1L2RybS9hcm0vZGlzcGxheS9rb21lZGEva29tZWRhX2NydGMu
YwppbmRleCBjZWU5YTE2OTJlNzEuLjI0OTI4YjkyMmZiZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2FybS9kaXNwbGF5L2tvbWVkYS9rb21lZGFfY3J0Yy5jCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9hcm0vZGlzcGxheS9rb21lZGEva29tZWRhX2NydGMuYwpAQCAtMzg1LDE1ICszODUsMjMg
QEAga29tZWRhX2NydGNfYXRvbWljX2ZsdXNoKHN0cnVjdCBkcm1fY3J0YyAqY3J0YywKIAlrb21l
ZGFfY3J0Y19kb19mbHVzaChjcnRjLCBvbGQpOwogfQogCi0vKiBSZXR1cm5zIHRoZSBtaW5pbXVt
IGZyZXF1ZW5jeSBvZiB0aGUgYWNsayByYXRlIChtYWluIGVuZ2luZSBjbG9jaykgaW4gSHogKi8K
Ky8qCisgKiBSZXR1cm5zIHRoZSBtaW5pbXVtIGZyZXF1ZW5jeSBvZiB0aGUgYWNsayByYXRlICht
YWluIGVuZ2luZSBjbG9jaykgaW4gSHouCisgKgorICogVGhlIERQVSBvdXRwdXQgY2FuIGJlIHNw
bGl0IGludG8gdHdvIGhhbHZlcywgdG8gc3RheSB3aXRoaW4gdGhlIGJhbmR3aWR0aAorICogY2Fw
YWJpbGl0aWVzIG9mIHRoZSBleHRlcm5hbCBsaW5rIChkdWFsLWxpbmsgbW9kZSkuCisgKiBJbiB0
aGVzZSBjYXNlcywgZWFjaCBvdXRwdXQgbGluayBydW5zIGF0IGhhbGYgdGhlIHBpeGVsIGNsb2Nr
IHJhdGUgb2YgdGhlCisgKiBjb21iaW5lZCBkaXNwbGF5LCBhbmQgaGFzIGhhbGYgdGhlIG51bWJl
ciBvZiBwaXhlbHMuCisgKiBCZXNpZGUgc3BsaXQgdGhlIG91dHB1dCwgdGhlIERQVSBpbnRlcm5h
bCBwaXhlbCBwcm9jZXNzaW5nIGFsc28gY2FuIGJlIHNwbGl0CisgKiBpbnRvIHR3byBoYWx2ZXMg
KExFRlQvUklHSFQpIGFuZCBoYW5kbGVzIGJ5IHR3byBwaXBlbGluZXMgc2ltdWx0YW5lb3VzbHku
CisgKiBTbyBpZiBzaWRlIGJ5IHNpZGUsIHRoZSBwaXBlbGluZSAobWFpbiBlbmdpbmUgY2xvY2sp
IGFsc28gY2FuIHJ1biBhdCBoYWxmCisgKiB0aGUgY2xvY2sgcmF0ZSBvZiB0aGUgY29tYmluZWQg
ZGlzcGxheS4KKyAqLwogc3RhdGljIHVuc2lnbmVkIGxvbmcKIGtvbWVkYV9jYWxjX21pbl9hY2xr
X3JhdGUoc3RydWN0IGtvbWVkYV9jcnRjICprY3J0YywKIAkJCSAgdW5zaWduZWQgbG9uZyBweGxj
bGspCiB7Ci0JLyogT25jZSBkdWFsLWxpbmsgb25lIGRpc3BsYXkgcGlwZWxpbmUgZHJpdmVzIHR3
byBkaXNwbGF5IG91dHB1dHMsCi0JICogdGhlIGFjbGsgbmVlZHMgcnVuIG9uIHRoZSBkb3VibGUg
cmF0ZSBvZiBweGxjbGsKLQkgKi8KLQlpZiAoa2NydGMtPm1hc3Rlci0+ZHVhbF9saW5rKQorCWlm
IChrY3J0Yy0+bWFzdGVyLT5kdWFsX2xpbmsgJiYgIWtjcnRjLT5zaWRlX2J5X3NpZGUpCiAJCXJl
dHVybiBweGxjbGsgKiAyOwogCWVsc2UKIAkJcmV0dXJuIHB4bGNsazsKZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9hcm0vZGlzcGxheS9rb21lZGEva29tZWRhX3BpcGVsaW5lLmggYi9kcml2
ZXJzL2dwdS9kcm0vYXJtL2Rpc3BsYXkva29tZWRhL2tvbWVkYV9waXBlbGluZS5oCmluZGV4IDRj
MDk0NmZiYWFjMS4uNTlhODFiNDQ3NmRmIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYXJt
L2Rpc3BsYXkva29tZWRhL2tvbWVkYV9waXBlbGluZS5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9h
cm0vZGlzcGxheS9rb21lZGEva29tZWRhX3BpcGVsaW5lLmgKQEAgLTU0MCw2ICs1NDAsNyBAQCBz
dHJ1Y3Qga29tZWRhX2NydGNfc3RhdGU7CiBzdHJ1Y3Qga29tZWRhX2NydGM7CiAKIHZvaWQgcGlw
ZWxpbmVfY29tcG9zaXRpb25fc2l6ZShzdHJ1Y3Qga29tZWRhX2NydGNfc3RhdGUgKmtjcnRjX3N0
LAorCQkJICAgICAgIGJvb2wgc2lkZV9ieV9zaWRlLAogCQkJICAgICAgIHUxNiAqaHNpemUsIHUx
NiAqdnNpemUpOwogCiBpbnQga29tZWRhX2J1aWxkX2xheWVyX2RhdGFfZmxvdyhzdHJ1Y3Qga29t
ZWRhX2xheWVyICpsYXllciwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hcm0vZGlzcGxh
eS9rb21lZGEva29tZWRhX3BpcGVsaW5lX3N0YXRlLmMgYi9kcml2ZXJzL2dwdS9kcm0vYXJtL2Rp
c3BsYXkva29tZWRhL2tvbWVkYV9waXBlbGluZV9zdGF0ZS5jCmluZGV4IDEwYTBkYzkyOTFiOC4u
YjFlOTBmZWI1YzU1IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYXJtL2Rpc3BsYXkva29t
ZWRhL2tvbWVkYV9waXBlbGluZV9zdGF0ZS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hcm0vZGlz
cGxheS9rb21lZGEva29tZWRhX3BpcGVsaW5lX3N0YXRlLmMKQEAgLTY1NCwxMiArNjU0LDEzIEBA
IGtvbWVkYV9tZXJnZXJfdmFsaWRhdGUoc3RydWN0IGtvbWVkYV9tZXJnZXIgKm1lcmdlciwKIH0K
IAogdm9pZCBwaXBlbGluZV9jb21wb3NpdGlvbl9zaXplKHN0cnVjdCBrb21lZGFfY3J0Y19zdGF0
ZSAqa2NydGNfc3QsCisJCQkgICAgICAgYm9vbCBzaWRlX2J5X3NpZGUsCiAJCQkgICAgICAgdTE2
ICpoc2l6ZSwgdTE2ICp2c2l6ZSkKIHsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbSA9ICZr
Y3J0Y19zdC0+YmFzZS5hZGp1c3RlZF9tb2RlOwogCiAJaWYgKGhzaXplKQotCQkqaHNpemUgPSBt
LT5oZGlzcGxheTsKKwkJKmhzaXplID0gc2lkZV9ieV9zaWRlID8gbS0+aGRpc3BsYXkgLyAyIDog
bS0+aGRpc3BsYXk7CiAJaWYgKHZzaXplKQogCQkqdnNpemUgPSBtLT52ZGlzcGxheTsKIH0KQEAg
LTY3MCwxMiArNjcxLDE0IEBAIGtvbWVkYV9jb21waXpfc2V0X2lucHV0KHN0cnVjdCBrb21lZGFf
Y29tcGl6ICpjb21waXosCiAJCQlzdHJ1Y3Qga29tZWRhX2RhdGFfZmxvd19jZmcgKmRmbG93KQog
ewogCXN0cnVjdCBkcm1fYXRvbWljX3N0YXRlICpkcm1fc3QgPSBrY3J0Y19zdC0+YmFzZS5zdGF0
ZTsKKwlzdHJ1Y3QgZHJtX2NydGMgKmNydGMgPSBrY3J0Y19zdC0+YmFzZS5jcnRjOwogCXN0cnVj
dCBrb21lZGFfY29tcG9uZW50X3N0YXRlICpjX3N0LCAqb2xkX3N0OwogCXN0cnVjdCBrb21lZGFf
Y29tcGl6X2lucHV0X2NmZyAqY2luOwogCXUxNiBjb21waXpfdywgY29tcGl6X2g7CiAJaW50IGlk
eCA9IGRmbG93LT5ibGVuZGluZ196b3JkZXI7CiAKLQlwaXBlbGluZV9jb21wb3NpdGlvbl9zaXpl
KGtjcnRjX3N0LCAmY29tcGl6X3csICZjb21waXpfaCk7CisJcGlwZWxpbmVfY29tcG9zaXRpb25f
c2l6ZShrY3J0Y19zdCwgdG9fa2NydGMoY3J0YyktPnNpZGVfYnlfc2lkZSwKKwkJCQkgICZjb21w
aXpfdywgJmNvbXBpel9oKTsKIAkvKiBjaGVjayBkaXNwbGF5IHJlY3QgKi8KIAlpZiAoKGRmbG93
LT5vdXRfeCArIGRmbG93LT5vdXRfdyA+IGNvbXBpel93KSB8fAogCSAgICAoZGZsb3ctPm91dF95
ICsgZGZsb3ctPm91dF9oID4gY29tcGl6X2gpIHx8CkBAIC02ODcsNyArNjkwLDcgQEAga29tZWRh
X2NvbXBpel9zZXRfaW5wdXQoc3RydWN0IGtvbWVkYV9jb21waXogKmNvbXBpeiwKIAl9CiAKIAlj
X3N0ID0ga29tZWRhX2NvbXBvbmVudF9nZXRfc3RhdGVfYW5kX3NldF91c2VyKCZjb21waXotPmJh
c2UsIGRybV9zdCwKLQkJCWtjcnRjX3N0LT5iYXNlLmNydGMsIGtjcnRjX3N0LT5iYXNlLmNydGMp
OworCQkJY3J0YywgY3J0Yyk7CiAJaWYgKElTX0VSUihjX3N0KSkKIAkJcmV0dXJuIFBUUl9FUlIo
Y19zdCk7CiAKQEAgLTcyMSwxNyArNzI0LDE5IEBAIGtvbWVkYV9jb21waXpfdmFsaWRhdGUoc3Ry
dWN0IGtvbWVkYV9jb21waXogKmNvbXBpeiwKIAkJICAgICAgIHN0cnVjdCBrb21lZGFfY3J0Y19z
dGF0ZSAqc3RhdGUsCiAJCSAgICAgICBzdHJ1Y3Qga29tZWRhX2RhdGFfZmxvd19jZmcgKmRmbG93
KQogeworCXN0cnVjdCBkcm1fY3J0YyAqY3J0YyA9IHN0YXRlLT5iYXNlLmNydGM7CiAJc3RydWN0
IGtvbWVkYV9jb21wb25lbnRfc3RhdGUgKmNfc3Q7CiAJc3RydWN0IGtvbWVkYV9jb21waXpfc3Rh
dGUgKnN0OwogCiAJY19zdCA9IGtvbWVkYV9jb21wb25lbnRfZ2V0X3N0YXRlX2FuZF9zZXRfdXNl
cigmY29tcGl6LT5iYXNlLAotCQkJc3RhdGUtPmJhc2Uuc3RhdGUsIHN0YXRlLT5iYXNlLmNydGMs
IHN0YXRlLT5iYXNlLmNydGMpOworCQkJc3RhdGUtPmJhc2Uuc3RhdGUsIGNydGMsIGNydGMpOwog
CWlmIChJU19FUlIoY19zdCkpCiAJCXJldHVybiBQVFJfRVJSKGNfc3QpOwogCiAJc3QgPSB0b19j
b21waXpfc3QoY19zdCk7CiAKLQlwaXBlbGluZV9jb21wb3NpdGlvbl9zaXplKHN0YXRlLCAmc3Qt
PmhzaXplLCAmc3QtPnZzaXplKTsKKwlwaXBlbGluZV9jb21wb3NpdGlvbl9zaXplKHN0YXRlLCB0
b19rY3J0YyhjcnRjKS0+c2lkZV9ieV9zaWRlLAorCQkJCSAgJnN0LT5oc2l6ZSwgJnN0LT52c2l6
ZSk7CiAKIAlrb21lZGFfY29tcG9uZW50X3NldF9vdXRwdXQoJmRmbG93LT5pbnB1dCwgJmNvbXBp
ei0+YmFzZSwgMCk7CiAKQEAgLTc1Nyw3ICs3NjIsOCBAQCBrb21lZGFfY29tcGl6X3ZhbGlkYXRl
KHN0cnVjdCBrb21lZGFfY29tcGl6ICpjb21waXosCiBzdGF0aWMgaW50CiBrb21lZGFfaW1wcm9j
X3ZhbGlkYXRlKHN0cnVjdCBrb21lZGFfaW1wcm9jICppbXByb2MsCiAJCSAgICAgICBzdHJ1Y3Qg
a29tZWRhX2NydGNfc3RhdGUgKmtjcnRjX3N0LAotCQkgICAgICAgc3RydWN0IGtvbWVkYV9kYXRh
X2Zsb3dfY2ZnICpkZmxvdykKKwkJICAgICAgIHN0cnVjdCBrb21lZGFfZGF0YV9mbG93X2NmZyAq
bV9kZmxvdywKKwkJICAgICAgIHN0cnVjdCBrb21lZGFfZGF0YV9mbG93X2NmZyAqc19kZmxvdykK
IHsKIAlzdHJ1Y3QgZHJtX2NydGMgKmNydGMgPSBrY3J0Y19zdC0+YmFzZS5jcnRjOwogCXN0cnVj
dCBkcm1fY3J0Y19zdGF0ZSAqY3J0Y19zdCA9ICZrY3J0Y19zdC0+YmFzZTsKQEAgLTc3MSw4ICs3
NzcsOCBAQCBrb21lZGFfaW1wcm9jX3ZhbGlkYXRlKHN0cnVjdCBrb21lZGFfaW1wcm9jICppbXBy
b2MsCiAKIAlzdCA9IHRvX2ltcHJvY19zdChjX3N0KTsKIAotCXN0LT5oc2l6ZSA9IGRmbG93LT5p
bl93OwotCXN0LT52c2l6ZSA9IGRmbG93LT5pbl9oOworCXN0LT5oc2l6ZSA9IG1fZGZsb3ctPmlu
X3c7CisJc3QtPnZzaXplID0gbV9kZmxvdy0+aW5faDsKIAogCWlmIChkcm1fYXRvbWljX2NydGNf
bmVlZHNfbW9kZXNldChjcnRjX3N0KSkgewogCQl1MzIgb3V0cHV0X2RlcHRocywgb3V0cHV0X2Zv
cm1hdHM7CkBAIC04MDgsOCArODE0LDEwIEBAIGtvbWVkYV9pbXByb2NfdmFsaWRhdGUoc3RydWN0
IGtvbWVkYV9pbXByb2MgKmltcHJvYywKIAkJZHJtX2N0bV90b19jb2VmZnMoa2NydGNfc3QtPmJh
c2UuY3RtLCBzdC0+Y3RtX2NvZWZmcyk7CiAJfQogCi0Ja29tZWRhX2NvbXBvbmVudF9hZGRfaW5w
dXQoJnN0LT5iYXNlLCAmZGZsb3ctPmlucHV0LCAwKTsKLQlrb21lZGFfY29tcG9uZW50X3NldF9v
dXRwdXQoJmRmbG93LT5pbnB1dCwgJmltcHJvYy0+YmFzZSwgMCk7CisJa29tZWRhX2NvbXBvbmVu
dF9hZGRfaW5wdXQoJnN0LT5iYXNlLCAmbV9kZmxvdy0+aW5wdXQsIDApOworCWlmIChzX2RmbG93
KQorCQlrb21lZGFfY29tcG9uZW50X2FkZF9pbnB1dCgmc3QtPmJhc2UsICZzX2RmbG93LT5pbnB1
dCwgMSk7CisJa29tZWRhX2NvbXBvbmVudF9zZXRfb3V0cHV0KCZtX2RmbG93LT5pbnB1dCwgJmlt
cHJvYy0+YmFzZSwgMCk7CiAKIAlyZXR1cm4gMDsKIH0KQEAgLTExNDYsNyArMTE1NCw3IEBAIGtv
bWVkYV9zcGxpdF9zYnNfbWFzdGVyX2RhdGFfZmxvdyhzdHJ1Y3Qga29tZWRhX2NydGNfc3RhdGUg
KmtjcnRjX3N0LAogCXUzMiBkaXNwX2VuZCA9IG1hc3Rlci0+b3V0X3ggKyBtYXN0ZXItPm91dF93
OwogCXUxNiBib3VuZGFyeTsKIAotCXBpcGVsaW5lX2NvbXBvc2l0aW9uX3NpemUoa2NydGNfc3Qs
ICZib3VuZGFyeSwgTlVMTCk7CisJcGlwZWxpbmVfY29tcG9zaXRpb25fc2l6ZShrY3J0Y19zdCwg
dHJ1ZSwgJmJvdW5kYXJ5LCBOVUxMKTsKIAogCWlmIChkaXNwX2VuZCA8PSBib3VuZGFyeSkgewog
CQkvKiB0aGUgbWFzdGVyIHZpZXdwb3J0IG9ubHkgbG9jYXRlZCBpbiBtYXN0ZXIgc2lkZSwgbm8g
bmVlZApAQCAtMTIwOSw3ICsxMjE3LDcgQEAga29tZWRhX3NwbGl0X3Nic19zbGF2ZV9kYXRhX2Zs
b3coc3RydWN0IGtvbWVkYV9jcnRjX3N0YXRlICprY3J0Y19zdCwKIHsKIAl1MTYgYm91bmRhcnk7
CiAKLQlwaXBlbGluZV9jb21wb3NpdGlvbl9zaXplKGtjcnRjX3N0LCAmYm91bmRhcnksIE5VTEwp
OworCXBpcGVsaW5lX2NvbXBvc2l0aW9uX3NpemUoa2NydGNfc3QsIHRydWUsICZib3VuZGFyeSwg
TlVMTCk7CiAKIAlpZiAoc2xhdmUtPm91dF94IDwgYm91bmRhcnkpIHsKIAkJRFJNX0RFQlVHX0FU
T01JQygiU0JTIFNsYXZlIHBsYW5lIGlzIG9ubHkgYWxsb3dlZCB0byBjb25maWd1cmUgdGhlIHJp
Z2h0IHBhcnQgZnJhbWUuXG4iKTsKQEAgLTEzODQsNyArMTM5MiwyMCBAQCBpbnQga29tZWRhX2J1
aWxkX2Rpc3BsYXlfZGF0YV9mbG93KHN0cnVjdCBrb21lZGFfY3J0YyAqa2NydGMsCiAJbWVtc2V0
KCZtX2RmbG93LCAwLCBzaXplb2YobV9kZmxvdykpOwogCW1lbXNldCgmc19kZmxvdywgMCwgc2l6
ZW9mKHNfZGZsb3cpKTsKIAotCWlmIChzbGF2ZSAmJiBoYXNfYml0KHNsYXZlLT5pZCwga2NydGNf
c3QtPmFjdGl2ZV9waXBlcykpIHsKKwkvKiBidWlsZCBzbGF2ZSBvdXRwdXQgZGF0YSBmbG93ICov
CisJaWYgKGtjcnRjLT5zaWRlX2J5X3NpZGUpIHsKKwkJLyogb24gc2lkZSBieSBzaWRlLCB0aGUg
c2xhdmUgZGF0YSBmbG93cyBpbnRvIHRoZSBpbXByb2Mgb2YKKwkJICogaXRzZWxmIGZpcnN0LCBh
bmQgdGhlbiBtZXJnZSBpdCBpbnRvIG1hc3RlcidzIGltYWdlIHByb2Nlc3NvcgorCQkgKi8KKwkJ
ZXJyID0ga29tZWRhX2NvbXBpel92YWxpZGF0ZShzbGF2ZS0+Y29tcGl6LCBrY3J0Y19zdCwgJnNf
ZGZsb3cpOworCQlpZiAoZXJyKQorCQkJcmV0dXJuIGVycjsKKworCQllcnIgPSBrb21lZGFfaW1w
cm9jX3ZhbGlkYXRlKHNsYXZlLT5pbXByb2MsIGtjcnRjX3N0LAorCQkJCQkgICAgICZzX2RmbG93
LCBOVUxMKTsKKwkJaWYgKGVycikKKwkJCXJldHVybiBlcnI7CisJfSBlbHNlIGlmIChzbGF2ZSAm
JiBoYXNfYml0KHNsYXZlLT5pZCwga2NydGNfc3QtPmFjdGl2ZV9waXBlcykpIHsKIAkJZXJyID0g
a29tZWRhX2NvbXBpel92YWxpZGF0ZShzbGF2ZS0+Y29tcGl6LCBrY3J0Y19zdCwgJnNfZGZsb3cp
OwogCQlpZiAoZXJyKQogCQkJcmV0dXJuIGVycjsKQEAgLTE0MDAsNyArMTQyMSw5IEBAIGludCBr
b21lZGFfYnVpbGRfZGlzcGxheV9kYXRhX2Zsb3coc3RydWN0IGtvbWVkYV9jcnRjICprY3J0YywK
IAlpZiAoZXJyKQogCQlyZXR1cm4gZXJyOwogCi0JZXJyID0ga29tZWRhX2ltcHJvY192YWxpZGF0
ZShtYXN0ZXItPmltcHJvYywga2NydGNfc3QsICZtX2RmbG93KTsKKwkvKiBvbiBzaWRlIGJ5IHNp
ZGUsIG1lcmdlIHRoZSBzbGF2ZSBkZmxvdyBpbnRvIG1hc3RlciAqLworCWVyciA9IGtvbWVkYV9p
bXByb2NfdmFsaWRhdGUobWFzdGVyLT5pbXByb2MsIGtjcnRjX3N0LCAmbV9kZmxvdywKKwkJCQkg
ICAgIGtjcnRjLT5zaWRlX2J5X3NpZGUgPyAmc19kZmxvdyA6IE5VTEwpOwogCWlmIChlcnIpCiAJ
CXJldHVybiBlcnI7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hcm0vZGlzcGxheS9r
b21lZGEva29tZWRhX3diX2Nvbm5lY3Rvci5jIGIvZHJpdmVycy9ncHUvZHJtL2FybS9kaXNwbGF5
L2tvbWVkYS9rb21lZGFfd2JfY29ubmVjdG9yLmMKaW5kZXggZTQ2NWNjNDg3OWM5Li4xN2VhMDIx
NDg4YWEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hcm0vZGlzcGxheS9rb21lZGEva29t
ZWRhX3diX2Nvbm5lY3Rvci5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hcm0vZGlzcGxheS9rb21l
ZGEva29tZWRhX3diX2Nvbm5lY3Rvci5jCkBAIC0yMSw3ICsyMSw3IEBAIGtvbWVkYV93Yl9pbml0
X2RhdGFfZmxvdyhzdHJ1Y3Qga29tZWRhX2xheWVyICp3Yl9sYXllciwKIAlkZmxvdy0+b3V0X2gg
PSBmYi0+aGVpZ2h0OwogCiAJLyogdGhlIHdyaXRlIGJhY2sgZGF0YSBjb21lcyBmcm9tIHRoZSBj
b21waXogKi8KLQlwaXBlbGluZV9jb21wb3NpdGlvbl9zaXplKGtjcnRjX3N0LCAmZGZsb3ctPmlu
X3csICZkZmxvdy0+aW5faCk7CisJcGlwZWxpbmVfY29tcG9zaXRpb25fc2l6ZShrY3J0Y19zdCwg
ZmFsc2UsICZkZmxvdy0+aW5fdywgJmRmbG93LT5pbl9oKTsKIAlkZmxvdy0+aW5wdXQuY29tcG9u
ZW50ID0gJndiX2xheWVyLT5iYXNlLnBpcGVsaW5lLT5jb21waXotPmJhc2U7CiAJLyogY29tcGl6
IGRvZXNuJ3Qgb3V0cHV0IGFscGhhICovCiAJZGZsb3ctPnBpeGVsX2JsZW5kX21vZGUgPSBEUk1f
TU9ERV9CTEVORF9QSVhFTF9OT05FOwotLSAKMi4yMC4xCgpfX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZl
bEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFp
bG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
