Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 7BC77CFD5C
	for <lists+dri-devel@lfdr.de>; Tue,  8 Oct 2019 17:16:48 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3A8F46E834;
	Tue,  8 Oct 2019 15:16:46 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ed1-x544.google.com (mail-ed1-x544.google.com
 [IPv6:2a00:1450:4864:20::544])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 434656E833
 for <dri-devel@lists.freedesktop.org>; Tue,  8 Oct 2019 15:16:44 +0000 (UTC)
Received: by mail-ed1-x544.google.com with SMTP id y91so15932666ede.9
 for <dri-devel@lists.freedesktop.org>; Tue, 08 Oct 2019 08:16:44 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:sender:date:from:to:cc:subject:message-id
 :references:mime-version:content-disposition
 :content-transfer-encoding:in-reply-to:user-agent;
 bh=Y18M7FpZLYQ4AHZC3lTzpfUfQIRjK/tKaYkSFr2hlDw=;
 b=Q5NNY/AYtd61rqz3WZ4A3G+GW+tI5AqNiRn4FfAsIxUXKIeXnRmMc70oOWIfjk/cz5
 E3GB5ui5etxU9AJh1Wrs7AeDY7JOEbYTmstF3NCMmBBO5x/TdwlgQrqb9ThdXdERETaY
 rCIGTavQPzo2lv3U7MrdAHftupnGPi7Qs6EBqxNwqYox6PS5AcGH+9Csz1HfJDhwFJK/
 vROsDqDVeYhWw21efKfZwGHo8xOAiawsi0VKQlG/cx8QovqCllQGljuJtPAr5U0rkOzT
 7plqwEf3G6420ECkqiXC5Lwcnhl1V+mhMd/vyVGjdvIvOpOUGMORA3V+hhu22z8AI/In
 yUCg==
X-Gm-Message-State: APjAAAUE43hpUqdnzKP7Fk+xCI+PQsgmdMJQ8pl9KddsnJt+EIx3YbRp
 p2GOeYzwByRcbkk+iwXlZS1znoLwl/o=
X-Google-Smtp-Source: APXvYqxxzLKqyRJxfxi9AcGjy7lPOeJRJmMe75JoEvrpcEAwLPKwMnACd1nYcnMdNTlJL5keL+PmxQ==
X-Received: by 2002:aa7:df16:: with SMTP id c22mr34449305edy.22.1570547802628; 
 Tue, 08 Oct 2019 08:16:42 -0700 (PDT)
Received: from phenom.ffwll.local (212-51-149-96.fiber7.init7.net.
 [212.51.149.96])
 by smtp.gmail.com with ESMTPSA id i30sm3954482ede.32.2019.10.08.08.16.41
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Tue, 08 Oct 2019 08:16:41 -0700 (PDT)
Date: Tue, 8 Oct 2019 17:16:39 +0200
From: Daniel Vetter <daniel@ffwll.ch>
To: Christian =?iso-8859-1?Q?K=F6nig?= <ckoenig.leichtzumerken@gmail.com>,
 Gerd Hoffmann <kraxel@redhat.com>
Subject: Re: [PATCH 1/3] dma-buf: add dma_resv_ctx for deadlock handling
Message-ID: <20191008151639.GP16989@phenom.ffwll.local>
References: <20190918175525.49441-1-christian.koenig@amd.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190918175525.49441-1-christian.koenig@amd.com>
X-Operating-System: Linux phenom 5.2.0-2-amd64 
User-Agent: Mutt/1.10.1 (2018-07-13)
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=sender:date:from:to:cc:subject:message-id:references:mime-version
 :content-disposition:content-transfer-encoding:in-reply-to
 :user-agent;
 bh=Y18M7FpZLYQ4AHZC3lTzpfUfQIRjK/tKaYkSFr2hlDw=;
 b=EYbRN6T+x2O3tqhQ0Oz/AMLFatpLOrYtfsOTSvvpxPmjR8L+PsLXsgGQmg13VnZk0C
 5mKhgedeY2azb++nSMvntMzqe0LFL3DCpCI1n1m7oOoSvG04nG0dUXKOfeck0/KWsnSR
 mno3rqqJ29doBd2IcV3dVxcNlt8T3Wck5o2S8=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: dri-devel@lists.freedesktop.org, linux-media@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gV2VkLCBTZXAgMTgsIDIwMTkgYXQgMDc6NTU6MjNQTSArMDIwMCwgQ2hyaXN0aWFuIEvDtm5p
ZyB3cm90ZToKPiBUaGUgd3dfbXV0ZXggZnJhbWV3b3JrIGFsbG93cyBmb3IgZGV0ZWN0aW5nIGRl
YWRsb2NrcyB3aGVuIG11bHRpcGxlCj4gdGhyZWFkcyB0cnkgdG8gYWNxdWlyZSB0aGUgc2FtZSBz
ZXQgb2YgbG9ja3MgaW4gZGlmZmVyZW50IG9yZGVyLgo+IAo+IFRoZSBwcm9ibGVtIGlzIHRoYXQg
aGFuZGxpbmcgdGhvc2UgZGVhZGxvY2tzIHdhcyB0aGUgYnVyZGVuIG9mIHRoZSB1c2VyIG9mCj4g
dGhlIHd3X211dGV4IGltcGxlbWVudGF0aW9uIGFuZCBhdCBsZWFzdCBzb21lIHVzZXJzIGRpZG4n
dCBnb3QgdGhhdCByaWdodAo+IG9uIHRoZSBmaXJzdCB0cnkuCj4gCj4gU28gaW50cm9kdWNlIGEg
bmV3IGRtYV9yZXN2X2N0eCBvYmplY3Qgd2hpY2ggY2FuIGJlIHVzZWQgdG8KPiBzaW1wbGlmeSB0
aGUgZGVhZGxvY2sgaGFuZGxpbmcuIFRoaXMgaXMgZG9uZSBieSB0cmFja2luZyBhbGwgbG9ja2Vk
Cj4gZG1hX3Jlc3Ygb2JqZWN0cyBpbiB0aGUgY29udGV4dCBhcyB3ZWxsIGFzIHRoZSBsYXN0IGNv
bnRlbmRlZCBvYmplY3QuCj4gCj4gV2hlbiBhIGRlYWRsb2NrIG9jY3Vyc2Ugd2Ugbm93IHVubG9j
ayBhbGwgcHJldmlvdXNseSBsb2NrZWQgb2JqZWN0cyBhbmQKPiBhY3F1aXJlIHRoZSBjb250ZW5k
ZWQgbG9jayBpbiB0aGUgc2xvdyBwYXRoLiBBZnRlciB0aGlzIGlzIGRvbmUgLUVERUFETEsKPiBp
cyBzdGlsbCByZXR1cm5lZCB0byBzaWduYWwgdGhhdCBhbGwgb3RoZXIgbG9ja3Mgbm93IG5lZWQg
dG8gYmUKPiByZS1hY3F1aXJlZCBhZ2Fpbi4KPiAKPiBTaWduZWQtb2ZmLWJ5OiBDaHJpc3RpYW4g
S8O2bmlnIDxjaHJpc3RpYW4ua29lbmlnQGFtZC5jb20+CgpJIHBvbmRlcmVkIHRoaXMgcXVpdGUg
YSBiaXQsIHNvbWUgdGhvdWdodHM6CgotIGRvaW5nIHRoaXMgb3ZlciBkbWEtYnVmIG1lYW5zIHdl
IGNhbiBvbmx5IHVzZSB0aGlzIGZvciB0aGUgd3dfbXV0eAogIGRhbmNlLCBub3QgZm9yIGFueXRo
aW5nIGVsc2UuIFdoaWNoIG1lYW5zIHdlIG5lZWQgYW5vdGhlciBsYXllciBvbiB0b3AKICBmb3Ig
c2hhcmVkIGV4ZWNidWYgdXRpbHMgKHdoaWNoIEdlcmQgaGFzIHN0YXJ0ZWQgbG9va2luZyBpbnRv
LCBidXQgSQogIGZlbHQgbGlrZSBub3QgcXVpdGUgdGhlIHJpZ2h0IGFwcHJvYWNoIHlldCBpbiBo
aXMgZmlyc3QgZHJhZnQgc2VyaWVzKS4KCi0gV2l0aCB0aGUgdHRtL2dlbSBtZXJnZXIgd2UgY291
bGQganVzdCBwdXQgdGhpcyBpbnRvIGRybV9nZW1fb2JqZWN0LCBhbmQKICB0dG0vZ2VtIGhlbHBl
cnMgY291bGQgc3RpbGwgdXNlIGl0LiBQbHVzIHdlIGNvdWxkIGJ1aWxkIHNvbWUgc2hhcmVkCiAg
ZXhlY2J1ZiB1dGlscyBvbiB0b3Agb2YgdGhpcywgYnkgZXNzZW50aWFsbHkgbWVyZ2luZyB0dG1f
b3BlcmF0aW9uX2N0eAogIGludG8gZHJtX2dlbV9vcGVyYXRpb25fY3R4LiBJIHRoaW5rIHRoaXMg
d291bGQgYWxzbyBzaW1wbGlmeSB0aGUgdHRtCiAgcGFyYW1ldGVycyBhIGJpdCwgc2luY2UgY3Vy
cmVudGx5IHRoZSB0dG1fb3BlcmF0aW9uX2N0eCBkb2Vzbid0IGhhdmUgYW4KICBleHBsaWNpdCBw
b2ludGVyIHRvIHRoZSB3d19hY3F1aXJlX2N0eCAod2hpY2ggZmVlbHMgbGlrZSBhbiBvdmVyc2ln
aHQgdG8KICBtZSkuCgotIEFzaWRlLCBxdWljayBxdWVzdGlvbjogQW55IHJlYXNvbiB3aHkgc3Ry
dWN0IGFtZGdwdV9jc19wYXJzZXIgZG9lc24ndAogIHN1YmNsYXNzIHR0bV9vcGVyYXRpb25fY3R4
PyBGcm9tIG15IG5haXZlIHVuZGVyc3RhbmRpbmcgdGhpcyB3b3VsZCBtYWtlCiAgdG9ucyBvZiBz
ZW5zZSAuLi4KCi0gTWF5YmUgd2UgY291bGQgZXZlbiBidWlsZCBzb21lIGxydS9ldmljdGlvbiBo
ZWxwZXJzIG9uIHRvcCwgcGVyaGFwcyB3aXRoCiAgdHdvIGxpc3RzLCBvbmUgZm9yIHRoZSBzZXQg
b2YgYnVmZmVycyBpbiB0aGUgZXhlY2J1ZiwgdGhlIG90aGVyIGZvcgogIGFkZGl0aW9uYWwgYnVm
ZmVycyB3ZSd2ZSByZXNlcnZlZCBhcyBwYXJ0IG9mIHRoZSBldmljdGlvbiBkYW5jZSAodG8KICBz
b2x2ZSB0aGUgVE9ETyBpbiB0dG1fbWVtX2V2aWN0X3dhaXRfYnVzeSkuCgotIE9ubHkgZG93bnNp
ZGUgd291bGQgYmUgdGhhdCBkcml2ZXJzIG91dHNpZGUgb2YgZHJpdmVycy9ncHUgd29uJ3QgYmUg
YWJsZQogIHRvIHVzZSB0aGVzZSBoZWxwZXJzLiBJIGRvbid0IHNlZSBhbnkgaW1tZWRpYXRlIG5v
ciBuZWFyLWZ1dHVyZSBuZWVkIGZvcgogIHRoYXQuIEFsbCBvdGhlciBkcml2ZXJzIHVzZSBzbyBs
aXR0bGUgbWVtb3J5IHRoZXkgZG9uJ3QgbmVlZCB0bwogIHBhcnRpY2lwYXRlIGluIHRoZSBtdWx0
aS1sb2NrIGRhbmNlLCB0aGV5IGp1c3QgcGluIHRoZSBmZXcgYnVmZmVycyB0aGV5CiAgbmVlZCBh
bmQgY2FsbCBpdCBhIGRheS4KCk9mYyBub3QgZXZlcnl0aGluZyBhYm92ZSB3b3VsZCBuZWVkIHRv
IGJlIGRvbmUgcmlnaHQgYXdheSwgdGhhdCdzIG1vcmUKaWRlYXMgZm9yIHRvZG8ucnN0IGVudHJp
ZXMgdG8gbWFrZSBzdXJlIHdlIGFsbCBhZ3JlZSBvbiB0aGUgcm91Z2gKZGlyZWN0aW9uLgoKVGhv
dWdodHM/CgpBbHNvIGFkZGluZyBHZXJkIEhvZmZtYW5uLCBzaW5jZSBoZSBsb29rZWQgaW50byB0
aGlzLgoKQ2hlZXJzLCBEYW5pZWwKPiAtLS0KPiAgZHJpdmVycy9kbWEtYnVmL01ha2VmaWxlICAg
ICAgIHwgICAyICstCj4gIGRyaXZlcnMvZG1hLWJ1Zi9kbWEtcmVzdi1jdHguYyB8IDEwOCArKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysKPiAgaW5jbHVkZS9saW51eC9kbWEtcmVzdi1j
dHguaCAgIHwgIDY4ICsrKysrKysrKysrKysrKysrKysrKwo+ICBpbmNsdWRlL2xpbnV4L2RtYS1y
ZXN2LmggICAgICAgfCAgIDEgKwo+ICA0IGZpbGVzIGNoYW5nZWQsIDE3OCBpbnNlcnRpb25zKCsp
LCAxIGRlbGV0aW9uKC0pCj4gIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2RtYS1idWYvZG1h
LXJlc3YtY3R4LmMKPiAgY3JlYXRlIG1vZGUgMTAwNjQ0IGluY2x1ZGUvbGludXgvZG1hLXJlc3Yt
Y3R4LmgKPiAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9kbWEtYnVmL01ha2VmaWxlIGIvZHJpdmVy
cy9kbWEtYnVmL01ha2VmaWxlCj4gaW5kZXggMDM0NzlkYTA2NDIyLi5kYTc3MDFjODVkZTIgMTAw
NjQ0Cj4gLS0tIGEvZHJpdmVycy9kbWEtYnVmL01ha2VmaWxlCj4gKysrIGIvZHJpdmVycy9kbWEt
YnVmL01ha2VmaWxlCj4gQEAgLTEsNiArMSw2IEBACj4gICMgU1BEWC1MaWNlbnNlLUlkZW50aWZp
ZXI6IEdQTC0yLjAtb25seQo+ICBvYmoteSA6PSBkbWEtYnVmLm8gZG1hLWZlbmNlLm8gZG1hLWZl
bmNlLWFycmF5Lm8gZG1hLWZlbmNlLWNoYWluLm8gXAo+IC0JIGRtYS1yZXN2Lm8gc2Vxbm8tZmVu
Y2Uubwo+ICsJIGRtYS1yZXN2Lm8gZG1hLXJlc3YtY3R4Lm8gc2Vxbm8tZmVuY2Uubwo+ICBvYmot
JChDT05GSUdfU1lOQ19GSUxFKQkJKz0gc3luY19maWxlLm8KPiAgb2JqLSQoQ09ORklHX1NXX1NZ
TkMpCQkrPSBzd19zeW5jLm8gc3luY19kZWJ1Zy5vCj4gIG9iai0kKENPTkZJR19VRE1BQlVGKQkJ
Kz0gdWRtYWJ1Zi5vCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZG1hLWJ1Zi9kbWEtcmVzdi1jdHgu
YyBiL2RyaXZlcnMvZG1hLWJ1Zi9kbWEtcmVzdi1jdHguYwo+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0
Cj4gaW5kZXggMDAwMDAwMDAwMDAwLi5jYWQxMGZhNmY4MGIKPiAtLS0gL2Rldi9udWxsCj4gKysr
IGIvZHJpdmVycy9kbWEtYnVmL2RtYS1yZXN2LWN0eC5jCj4gQEAgLTAsMCArMSwxMDggQEAKPiAr
Ly8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb25seQo+ICsvKgo+ICsgKiBDb3B5
cmlnaHQgMjAxOSBBZHZhbmNlZCBNaWNybyBEZXZpY2VzLCBJbmMuCj4gKyAqCj4gKyAqIFBlcm1p
c3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9i
dGFpbmluZyBhCj4gKyAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1
bWVudGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiksCj4gKyAqIHRvIGRlYWwgaW4gdGhlIFNv
ZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24K
PiArICogdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRp
c3RyaWJ1dGUsIHN1YmxpY2Vuc2UsCj4gKyAqIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29m
dHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZQo+ICsgKiBTb2Z0d2FyZSBp
cyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25z
Ogo+ICsgKgo+ICsgKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNz
aW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbgo+ICsgKiBhbGwgY29waWVzIG9yIHN1YnN0
YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KPiArICoKPiArICogVEhFIFNPRlRXQVJF
IElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJF
U1MgT1IKPiArICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FS
UkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCj4gKyAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxB
UiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuICBJTiBOTyBFVkVOVCBTSEFMTAo+ICsgKiBU
SEUgQ09QWVJJR0hUIEhPTERFUihTKSBPUiBBVVRIT1IoUykgQkUgTElBQkxFIEZPUiBBTlkgQ0xB
SU0sIERBTUFHRVMgT1IKPiArICogT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElP
TiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsCj4gKyAqIEFSSVNJTkcgRlJPTSwgT1VU
IE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUgo+ICsg
KiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuCj4gKyAqCj4gKyAqIEF1dGhvcnM6Cj4g
KyAqCUNocmlzdGlhbiBLw7ZuaWcgPGNocmlzdGlhbi5rb2VuaWdAYW1kLmNvbT4KPiArICovCj4g
Kwo+ICsjaW5jbHVkZSA8bGludXgvZG1hLXJlc3YtY3R4Lmg+Cj4gKwo+ICsvKioKPiArICogZG1h
X3Jlc3ZfY3R4X2luaXQgLSBpbml0aWFsaXplIGEgcmVzZXJ2YXRpb24gY29udGV4dAo+ICsgKiBA
Y3R4OiB0aGUgY29udGV4dCB0byBpbml0aWFsaXplCj4gKyAqCj4gKyAqIFN0YXJ0IHVzaW5nIHRo
aXMgcmVzZXJ2YXRpb24gY29udGV4dCB0byBsb2NrIHJlc2VydmF0aW9uIG9iamVjdHMgZm9yIHVw
ZGF0ZS4KPiArICovCj4gK3ZvaWQgZG1hX3Jlc3ZfY3R4X2luaXQoc3RydWN0IGRtYV9yZXN2X2N0
eCAqY3R4KQo+ICt7Cj4gKwl3d19hY3F1aXJlX2luaXQoJmN0eC0+YmFzZSwgJnJlc2VydmF0aW9u
X3d3X2NsYXNzKTsKPiArCWluaXRfbGxpc3RfaGVhZCgmY3R4LT5sb2NrZWQpOwo+ICsJY3R4LT5j
b250ZW5kZWQgPSBOVUxMOwo+ICt9Cj4gK0VYUE9SVF9TWU1CT0woZG1hX3Jlc3ZfY3R4X2luaXQp
Owo+ICsKPiArLyoqCj4gKyAqIGRtYV9yZXN2X2N0eF91bmxvY2tfYWxsIC0gdW5sb2NrIGFsbCBy
ZXNlcnZhdGlvbiBvYmplY3RzCj4gKyAqIEBjdHg6IHRoZSBjb250ZXh0IHdoaWNoIGhvbGRzIHRo
ZSByZXNlcnZhdGlvbiBvYmplY3RzCj4gKyAqCj4gKyAqIFVubG9ja3MgYWxsIHJlc2VydmF0aW9u
IG9iamVjdHMgbG9ja2VkIHdpdGggdGhpcyBjb250ZXh0Lgo+ICsgKi8KPiArdm9pZCBkbWFfcmVz
dl9jdHhfdW5sb2NrX2FsbChzdHJ1Y3QgZG1hX3Jlc3ZfY3R4ICpjdHgpCj4gK3sKPiArCXN0cnVj
dCBkbWFfcmVzdiAqb2JqLCAqbmV4dDsKPiArCj4gKwlpZiAoY3R4LT5jb250ZW5kZWQpCj4gKwkJ
ZG1hX3Jlc3ZfdW5sb2NrKGN0eC0+Y29udGVuZGVkKTsKPiArCWN0eC0+Y29udGVuZGVkID0gTlVM
TDsKPiArCj4gKwlsbGlzdF9mb3JfZWFjaF9lbnRyeV9zYWZlKG9iaiwgbmV4dCwgY3R4LT5sb2Nr
ZWQuZmlyc3QsIGxvY2tlZCkKPiArCQl3d19tdXRleF91bmxvY2soJm9iai0+bG9jayk7Cj4gKwlp
bml0X2xsaXN0X2hlYWQoJmN0eC0+bG9ja2VkKTsKPiArfQo+ICtFWFBPUlRfU1lNQk9MKGRtYV9y
ZXN2X2N0eF91bmxvY2tfYWxsKTsKPiArCj4gKy8qKgo+ICsgKiBkbWFfcmVzdl9jdHhfbG9jayAt
IGxvY2sgYSByZXNlcnZhdGlvbiBvYmplY3Qgd2l0aCBkZWFkbG9jayBoYW5kbGluZwo+ICsgKiBA
Y3R4OiB0aGUgY29udGV4dCB3aGljaCBzaG91bGQgYmUgdXNlZCB0byBsb2NrIHRoZSBvYmplY3QK
PiArICogQG9iajogdGhlIG9iamVjdCB3aGljaCBuZWVkcyB0byBiZSBsb2NrZWQKPiArICogQGlu
dGVycnVwdGlibGU6IGlmIHdlIHNob3VsZCB3YWl0IGludGVycnVwdGlibGUKPiArICoKPiArICog
VXNlIEBjdHggdG8gbG9jayB0aGUgcmVzZXJ2YXRpb24gb2JqZWN0LiBJZiBhIGRlYWRsb2NrIGlz
IGRldGVjdGVkIHdlIGJhY2tvZmYKPiArICogYnkgcmVsZWFzaW5nIGFsbCBsb2NrZWQgb2JqZWN0
cyBhbmQgdXNlIHRoZSBzbG93IHBhdGggdG8gbG9jayB0aGUgcmVzZXJ2YXRpb24KPiArICogb2Jq
ZWN0LiBBZnRlciBzdWNjZXNzZnVsbHkgbG9ja2luZyBpbiB0aGUgc2xvdyBwYXRoIC1FREVBRExL
IGlzIHJldHVybmVkIHRvCj4gKyAqIHNpZ25hbCB0aGF0IGFsbCBvdGhlciBsb2NrcyBtdXN0IGJl
IHJlLXRha2VuIGFzIHdlbGwuCj4gKyAqLwo+ICtpbnQgZG1hX3Jlc3ZfY3R4X2xvY2soc3RydWN0
IGRtYV9yZXN2X2N0eCAqY3R4LCBzdHJ1Y3QgZG1hX3Jlc3YgKm9iaiwKPiArCQkgICAgICBib29s
IGludGVycnVwdGlibGUpCj4gK3sKPiArCWludCByZXQgPSAwOwo+ICsKPiArCWlmICh1bmxpa2Vs
eShjdHgtPmNvbnRlbmRlZCA9PSBvYmopKQo+ICsJCWN0eC0+Y29udGVuZGVkID0gTlVMTDsKPiAr
CWVsc2UgaWYgKGludGVycnVwdGlibGUpCj4gKwkJcmV0ID0gZG1hX3Jlc3ZfbG9ja19pbnRlcnJ1
cHRpYmxlKG9iaiwgJmN0eC0+YmFzZSk7Cj4gKwllbHNlCj4gKwkJcmV0ID0gZG1hX3Jlc3ZfbG9j
ayhvYmosICZjdHgtPmJhc2UpOwo+ICsKPiArCWlmIChsaWtlbHkoIXJldCkpIHsKPiArCQkvKiBk
b24ndCB1c2UgbGxpc3RfYWRkIGhlcmUsIHdlIGhhdmUgc2VwYXJhdGUgbG9ja2luZyAqLwo+ICsJ
CW9iai0+bG9ja2VkLm5leHQgPSBjdHgtPmxvY2tlZC5maXJzdDsKPiArCQljdHgtPmxvY2tlZC5m
aXJzdCA9ICZvYmotPmxvY2tlZDsKPiArCQlyZXR1cm4gMDsKPiArCX0KPiArCWlmICh1bmxpa2Vs
eShyZXQgIT0gLUVERUFETEspKQo+ICsJCXJldHVybiByZXQ7Cj4gKwo+ICsJZG1hX3Jlc3ZfY3R4
X3VubG9ja19hbGwoY3R4KTsKPiArCj4gKwlpZiAoaW50ZXJydXB0aWJsZSkgewo+ICsJCXJldCA9
IGRtYV9yZXN2X2xvY2tfc2xvd19pbnRlcnJ1cHRpYmxlKG9iaiwgJmN0eC0+YmFzZSk7Cj4gKwkJ
aWYgKHVubGlrZWx5KHJldCkpCj4gKwkJCXJldHVybiByZXQ7Cj4gKwl9IGVsc2Ugewo+ICsJCWRt
YV9yZXN2X2xvY2tfc2xvdyhvYmosICZjdHgtPmJhc2UpOwo+ICsJfQo+ICsKPiArCWN0eC0+Y29u
dGVuZGVkID0gb2JqOwo+ICsJcmV0dXJuIC1FREVBRExLOwo+ICt9Cj4gK0VYUE9SVF9TWU1CT0wo
ZG1hX3Jlc3ZfY3R4X2xvY2spOwo+IGRpZmYgLS1naXQgYS9pbmNsdWRlL2xpbnV4L2RtYS1yZXN2
LWN0eC5oIGIvaW5jbHVkZS9saW51eC9kbWEtcmVzdi1jdHguaAo+IG5ldyBmaWxlIG1vZGUgMTAw
NjQ0Cj4gaW5kZXggMDAwMDAwMDAwMDAwLi44NjQ3M2RlNjUxNjcKPiAtLS0gL2Rldi9udWxsCj4g
KysrIGIvaW5jbHVkZS9saW51eC9kbWEtcmVzdi1jdHguaAo+IEBAIC0wLDAgKzEsNjggQEAKPiAr
Ly8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb25seQo+ICsvKgo+ICsgKiBDb3B5
cmlnaHQgMjAxOSBBZHZhbmNlZCBNaWNybyBEZXZpY2VzLCBJbmMuCj4gKyAqCj4gKyAqIFBlcm1p
c3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9i
dGFpbmluZyBhCj4gKyAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1
bWVudGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiksCj4gKyAqIHRvIGRlYWwgaW4gdGhlIFNv
ZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24K
PiArICogdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRp
c3RyaWJ1dGUsIHN1YmxpY2Vuc2UsCj4gKyAqIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29m
dHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZQo+ICsgKiBTb2Z0d2FyZSBp
cyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25z
Ogo+ICsgKgo+ICsgKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNz
aW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbgo+ICsgKiBhbGwgY29waWVzIG9yIHN1YnN0
YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KPiArICoKPiArICogVEhFIFNPRlRXQVJF
IElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJF
U1MgT1IKPiArICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FS
UkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCj4gKyAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxB
UiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuICBJTiBOTyBFVkVOVCBTSEFMTAo+ICsgKiBU
SEUgQ09QWVJJR0hUIEhPTERFUihTKSBPUiBBVVRIT1IoUykgQkUgTElBQkxFIEZPUiBBTlkgQ0xB
SU0sIERBTUFHRVMgT1IKPiArICogT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElP
TiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsCj4gKyAqIEFSSVNJTkcgRlJPTSwgT1VU
IE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUgo+ICsg
KiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuCj4gKyAqCj4gKyAqIEF1dGhvcnM6Cj4g
KyAqCUNocmlzdGlhbiBLw7ZuaWcgPGNocmlzdGlhbi5rb2VuaWdAYW1kLmNvbT4KPiArICovCj4g
Kwo+ICsjaWZuZGVmIF9MSU5VWF9ETUFfUkVTVl9DVFhfSAo+ICsjZGVmaW5lIF9MSU5VWF9ETUFf
UkVTVl9DVFhfSAo+ICsKPiArI2luY2x1ZGUgPGxpbnV4L2xsaXN0Lmg+Cj4gKyNpbmNsdWRlIDxs
aW51eC9kbWEtcmVzdi5oPgo+ICsKPiArLyoqCj4gKyAqIHN0cnVjdCBkbWFfcmVzdl9jdHggLSBj
b250ZXh0IHRvIGxvY2sgcmVzZXJ2YXRpb24gb2JqZWN0cwo+ICsgKiBAYmFzZTogd3dfYWNxdWly
ZV9jdHggdXNlZCBmb3IgZGVhZGxvY2sgZGV0ZWN0aW9uCj4gKyAqIEBsb2NrZWQ6IGxpc3Qgb2Yg
ZG1hX3Jlc3Ygb2JqZWN0cyBsb2NrZWQgaW4gdGhpcyBjb250ZXh0Cj4gKyAqIEBjb250ZW5kZWQ6
IGNvbnRlbmRlZCBkbWFfcmVzdiBvYmplY3QKPiArICovCj4gK3N0cnVjdCBkbWFfcmVzdl9jdHgg
ewo+ICsJc3RydWN0IHd3X2FjcXVpcmVfY3R4IGJhc2U7Cj4gKwlzdHJ1Y3QgbGxpc3RfaGVhZCBs
b2NrZWQ7Cj4gKwlzdHJ1Y3QgZG1hX3Jlc3YgKmNvbnRlbmRlZDsKPiArfTsKPiArCj4gKy8qKgo+
ICsgKiBkbWFfcmVzdl9jdHhfZG9uZSAtIHdyYXBwZXIgZm9yIHd3X2FjcXVpcmVfZG9uZQo+ICsg
KiBAY3R4OiB0aGUgcmVzZXJ2YXRpb24gY29udGV4dCB3aGljaCBpcyBkb25lIHdpdGggbG9ja2lu
Zwo+ICsgKi8KPiArc3RhdGljIGlubGluZSB2b2lkIGRtYV9yZXN2X2N0eF9kb25lKHN0cnVjdCBk
bWFfcmVzdl9jdHggKmN0eCkKPiArewo+ICsJd3dfYWNxdWlyZV9kb25lKCZjdHgtPmJhc2UpOwo+
ICt9Cj4gKwo+ICsvKioKPiArICogZG1hX3Jlc3ZfY3R4X2ZpbmkgLSB3cmFwcGVyIGZvciB3d19h
Y3F1aXJlX2ZpbmkKPiArICogQGN0eDogdGhlIHJlc2VydmF0aW9uIGNvbnRleHQgd2hpY2ggaXMg
ZmluaXNoZWQKPiArICovCj4gK3N0YXRpYyBpbmxpbmUgdm9pZCBkbWFfcmVzdl9jdHhfZmluaShz
dHJ1Y3QgZG1hX3Jlc3ZfY3R4ICpjdHgpCj4gK3sKPiArCXd3X2FjcXVpcmVfZmluaSgmY3R4LT5i
YXNlKTsKPiArfQo+ICsKPiArdm9pZCBkbWFfcmVzdl9jdHhfaW5pdChzdHJ1Y3QgZG1hX3Jlc3Zf
Y3R4ICpjdHgpOwo+ICt2b2lkIGRtYV9yZXN2X2N0eF91bmxvY2tfYWxsKHN0cnVjdCBkbWFfcmVz
dl9jdHggKmN0eCk7Cj4gK2ludCBkbWFfcmVzdl9jdHhfbG9jayhzdHJ1Y3QgZG1hX3Jlc3ZfY3R4
ICpjdHgsIHN0cnVjdCBkbWFfcmVzdiAqb2JqLAo+ICsJCSAgICAgIGJvb2wgaW50ZXJydXB0aWJs
ZSk7Cj4gKwo+ICsjZW5kaWYgLyogX0xJTlVYX0RNQV9SRVNWX0NUWF9IICovCj4gZGlmZiAtLWdp
dCBhL2luY2x1ZGUvbGludXgvZG1hLXJlc3YuaCBiL2luY2x1ZGUvbGludXgvZG1hLXJlc3YuaAo+
IGluZGV4IGVlNTBkMTBmMDUyYi4uMTI2NzgyMmMyNjY5IDEwMDY0NAo+IC0tLSBhL2luY2x1ZGUv
bGludXgvZG1hLXJlc3YuaAo+ICsrKyBiL2luY2x1ZGUvbGludXgvZG1hLXJlc3YuaAo+IEBAIC03
MSw2ICs3MSw3IEBAIHN0cnVjdCBkbWFfcmVzdl9saXN0IHsKPiAgICovCj4gIHN0cnVjdCBkbWFf
cmVzdiB7Cj4gIAlzdHJ1Y3Qgd3dfbXV0ZXggbG9jazsKPiArCXN0cnVjdCBsbGlzdF9ub2RlIGxv
Y2tlZDsKPiAgCXNlcWNvdW50X3Qgc2VxOwo+ICAKPiAgCXN0cnVjdCBkbWFfZmVuY2UgX19yY3Ug
KmZlbmNlX2V4Y2w7Cj4gLS0gCj4gMi4xNy4xCj4gCgotLSAKRGFuaWVsIFZldHRlcgpTb2Z0d2Fy
ZSBFbmdpbmVlciwgSW50ZWwgQ29ycG9yYXRpb24KaHR0cDovL2Jsb2cuZmZ3bGwuY2gKX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxp
bmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
