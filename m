Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 45C1F5F3B2
	for <lists+dri-devel@lfdr.de>; Thu,  4 Jul 2019 09:27:07 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8DBB96E2C4;
	Thu,  4 Jul 2019 07:25:57 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-pl1-x641.google.com (mail-pl1-x641.google.com
 [IPv6:2607:f8b0:4864:20::641])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 80E806E202
 for <dri-devel@lists.freedesktop.org>; Wed,  3 Jul 2019 21:46:05 +0000 (UTC)
Received: by mail-pl1-x641.google.com with SMTP id 9so1928033ple.5
 for <dri-devel@lists.freedesktop.org>; Wed, 03 Jul 2019 14:46:05 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references;
 bh=zx6p9K9lBYtbVfdxa7E9OnZzYHo7cm8q4NKF1jFk2vQ=;
 b=dWtBAESUzFpE9BabEn/KurDBmemI8Zdwgrhcry/QZangAcObYVDNTAEwW5kO1j2wf7
 VROITdzKfsTDx8MtgoBfMOq7bzgtrrFG441L7FibzjaiQtohCWfYKSA73o6U2beKTGUY
 wEPmNBzw27uwYlqYf3bI73glnwfS2A9t1qAjySAZSPU0bPlFrOfALoO2EGYgB75K7EhQ
 7OVCK7dr8wMh82k2J2eELiqD3jmhqhT8Ldv15g1CXImXYXB1ClTg3JZ/DnXVWT12BpxQ
 pBfFqBa9DO/lDnjj/2unhKHEmgSGTy0nkLM1r+2JzaHoaIKPyXWFrW1O+3t2Y36+vMU7
 t4tQ==
X-Gm-Message-State: APjAAAUqU1CFff5gsbi3uKcRQHNIHQcejO78KkF0QdnvDAYsTW+wSIUU
 II7vTLpy92OZ8U+FLmrHGUY=
X-Google-Smtp-Source: APXvYqx16nR2nWAm9waiTKlwYBW1mcVclHa0AJSa1jWJk8KRcugsb0ueWRyGFc0m86URdEj47nYudg==
X-Received: by 2002:a17:902:467:: with SMTP id
 94mr44502981ple.131.1562190365060; 
 Wed, 03 Jul 2019 14:46:05 -0700 (PDT)
Received: from aw-bldr-10.qualcomm.com (i-global254.qualcomm.com.
 [199.106.103.254])
 by smtp.gmail.com with ESMTPSA id f72sm3485566pjg.10.2019.07.03.14.46.03
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Wed, 03 Jul 2019 14:46:04 -0700 (PDT)
From: Jeffrey Hugo <jeffrey.l.hugo@gmail.com>
To: a.hajda@samsung.com, Laurent.pinchart@ideasonboard.com, airlied@linux.ie,
 daniel@ffwll.ch
Subject: [PATCH 2/2] drm/bridge: ti-sn65dsi86: Add support to be a DSI device
Date: Wed,  3 Jul 2019 14:45:59 -0700
Message-Id: <20190703214559.41368-1-jeffrey.l.hugo@gmail.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20190703214326.41269-1-jeffrey.l.hugo@gmail.com>
References: <20190703214326.41269-1-jeffrey.l.hugo@gmail.com>
X-Mailman-Approved-At: Thu, 04 Jul 2019 07:25:13 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references;
 bh=zx6p9K9lBYtbVfdxa7E9OnZzYHo7cm8q4NKF1jFk2vQ=;
 b=fj3T9tNJFEWbtVpZXRo+hjywY6BfqlB3kcFaMZt1Bfzs3mV57SVLLVWlo7/ANdnUDn
 Rxpg115anMep/E9qFsA8CtRjKbtzrbfrPKrwHnIR60RCysDKx4JdE5VakjTfI4dmOpYo
 8VzlERbiw/ypU/xXiolpy+oP/lIFtk1PEKTqXXTsSRbwxzMSuGW+gxuCYqyEQjn8mzZO
 mwdI91c/ZFeaZzxGCHTCiGhzRNdMDQhpUbpZYtV9cB74RkZUC1u4UvUfHpgpZXC6chol
 EO6CWBgKnZ8gJy4s0OHWjUy8uur3njDB+5DciKQVUCLanWN5gJ4MzihEkMamYzSdrSni
 zCVA==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Jeffrey Hugo <jeffrey.l.hugo@gmail.com>, linux-arm-msm@vger.kernel.org,
 linux-kernel@vger.kernel.org, dri-devel@lists.freedesktop.org,
 bjorn.andersson@linaro.org, broonie@kernel.org
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIHRpLXNuNjVkc2k4NiBjYW4gYmUgY29uZmlndXJlZCBpbiB0d28gd2F5cyAtIHZpYSBpMmMg
b3IgImluYmFuZCIgdmlhCkRTSS4gIFRoZSBEU0kgb3B0aW9uIGNhbiBiZSB1c2VmdWwgb24gcGxh
dGZvcm1zIHdoZXJlIHRoZSBpMmMgbGluayBkb2VzCm5vdCBzZWVtIHRvIGJlIHdpcmVkIHVwLgoK
VG8gc3VwcG9ydCBjb25maWd1cmF0aW9uIHZpYSBEU0ksIHJlZ2lzdGVyIGFzIGEgRFNJIGRldmlj
ZSwgdXNlIHRoZQpwcm92aWRlZCBEU0kgZGV2aWNlIGluc3RlYWQgb2YgY3JlYXRpbmcgb3VyIG93
biwgYW5kIHV0aWxpemUgdGhlIHJlZ21hcC1kc2kKc3VwcG9ydCB0byBhYnN0cmFjdCBhd2F5IHRo
ZSBpbml0IGRpZmZlcmVuY2VzIGJldHdlZW4gaTJjIGFuZCBEU0kuCgpTaWduZWQtb2ZmLWJ5OiBK
ZWZmcmV5IEh1Z28gPGplZmZyZXkubC5odWdvQGdtYWlsLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9k
cm0vYnJpZGdlL0tjb25maWcgICAgICAgIHwgICAxICsKIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2Uv
dGktc242NWRzaTg2LmMgfCAxNjAgKysrKysrKysrKysrKysrKysrKy0tLS0tLS0KIDIgZmlsZXMg
Y2hhbmdlZCwgMTE3IGluc2VydGlvbnMoKyksIDQ0IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvS2NvbmZpZyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2Uv
S2NvbmZpZwppbmRleCBlZTc3NzQ2OTI5M2EuLmI3NGM4ZWY0N2NiNiAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2JyaWRnZS9LY29uZmlnCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2Uv
S2NvbmZpZwpAQCAtMTQzLDYgKzE0Myw3IEBAIGNvbmZpZyBEUk1fVElfU042NURTSTg2CiAJZGVw
ZW5kcyBvbiBPRgogCXNlbGVjdCBEUk1fS01TX0hFTFBFUgogCXNlbGVjdCBSRUdNQVBfSTJDCisJ
c2VsZWN0IFJFR01BUF9EU0kKIAlzZWxlY3QgRFJNX1BBTkVMCiAJc2VsZWN0IERSTV9NSVBJX0RT
SQogCWhlbHAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvdGktc242NWRzaTg2
LmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3RpLXNuNjVkc2k4Ni5jCmluZGV4IGI3N2E1MmQw
NTA2MS4uNDVmYjkxYWZkMDFiIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3Rp
LXNuNjVkc2k4Ni5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvdGktc242NWRzaTg2LmMK
QEAgLTI1OCwxOCArMjU4LDIyIEBAIHN0YXRpYyBpbnQgdGlfc25fYnJpZGdlX2F0dGFjaChzdHJ1
Y3QgZHJtX2JyaWRnZSAqYnJpZGdlKQogCSAqIHdpbGwgc2F0aXNmeSBtb3N0IG9mIHRoZSBleGlz
dGluZyBob3N0IGRyaXZlcnMuIE9uY2UgdGhlIGhvc3QgZHJpdmVyCiAJICogaXMgZml4ZWQgd2Ug
Y2FuIG1vdmUgdGhlIGJlbG93IGNvZGUgdG8gYnJpZGdlIHByb2JlIHNhZmVseS4KIAkgKi8KLQlo
b3N0ID0gb2ZfZmluZF9taXBpX2RzaV9ob3N0X2J5X25vZGUocGRhdGEtPmhvc3Rfbm9kZSk7Ci0J
aWYgKCFob3N0KSB7Ci0JCURSTV9FUlJPUigiZmFpbGVkIHRvIGZpbmQgZHNpIGhvc3RcbiIpOwot
CQlyZXQgPSAtRU5PREVWOwotCQlnb3RvIGVycl9kc2lfaG9zdDsKLQl9Ci0KLQlkc2kgPSBtaXBp
X2RzaV9kZXZpY2VfcmVnaXN0ZXJfZnVsbChob3N0LCAmaW5mbyk7Ci0JaWYgKElTX0VSUihkc2kp
KSB7Ci0JCURSTV9FUlJPUigiZmFpbGVkIHRvIGNyZWF0ZSBkc2kgZGV2aWNlXG4iKTsKLQkJcmV0
ID0gUFRSX0VSUihkc2kpOwotCQlnb3RvIGVycl9kc2lfaG9zdDsKKwlpZiAoIXBkYXRhLT5kc2kp
IHsKKwkJaG9zdCA9IG9mX2ZpbmRfbWlwaV9kc2lfaG9zdF9ieV9ub2RlKHBkYXRhLT5ob3N0X25v
ZGUpOworCQlpZiAoIWhvc3QpIHsKKwkJCURSTV9FUlJPUigiZmFpbGVkIHRvIGZpbmQgZHNpIGhv
c3RcbiIpOworCQkJcmV0ID0gLUVOT0RFVjsKKwkJCWdvdG8gZXJyX2RzaV9ob3N0OworCQl9CisK
KwkJZHNpID0gbWlwaV9kc2lfZGV2aWNlX3JlZ2lzdGVyX2Z1bGwoaG9zdCwgJmluZm8pOworCQlp
ZiAoSVNfRVJSKGRzaSkpIHsKKwkJCURSTV9FUlJPUigiZmFpbGVkIHRvIGNyZWF0ZSBkc2kgZGV2
aWNlXG4iKTsKKwkJCXJldCA9IFBUUl9FUlIoZHNpKTsKKwkJCWdvdG8gZXJyX2RzaV9ob3N0Owor
CQl9CisJfSBlbHNlIHsKKwkJZHNpID0gcGRhdGEtPmRzaTsKIAl9CiAKIAkvKiBUT0RPOiBzZXR0
aW5nIHRvIDQgbGFuZXMgYWx3YXlzIGZvciBub3cgKi8KQEAgLTI5MCw3ICsyOTQsOSBAQCBzdGF0
aWMgaW50IHRpX3NuX2JyaWRnZV9hdHRhY2goc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSkKIAkJ
RFJNX0VSUk9SKCJmYWlsZWQgdG8gYXR0YWNoIGRzaSB0byBob3N0XG4iKTsKIAkJZ290byBlcnJf
ZHNpX2F0dGFjaDsKIAl9Ci0JcGRhdGEtPmRzaSA9IGRzaTsKKworCWlmICghcGRhdGEtPmRzaSkK
KwkJcGRhdGEtPmRzaSA9IGRzaTsKIAogCS8qIGF0dGFjaCBwYW5lbCB0byBicmlkZ2UgKi8KIAlk
cm1fcGFuZWxfYXR0YWNoKHBkYXRhLT5wYW5lbCwgJnBkYXRhLT5jb25uZWN0b3IpOwpAQCAtMjk4
LDcgKzMwNCw4IEBAIHN0YXRpYyBpbnQgdGlfc25fYnJpZGdlX2F0dGFjaChzdHJ1Y3QgZHJtX2Jy
aWRnZSAqYnJpZGdlKQogCXJldHVybiAwOwogCiBlcnJfZHNpX2F0dGFjaDoKLQltaXBpX2RzaV9k
ZXZpY2VfdW5yZWdpc3Rlcihkc2kpOworCWlmICghcGRhdGEtPmRzaSkKKwkJbWlwaV9kc2lfZGV2
aWNlX3VucmVnaXN0ZXIoZHNpKTsKIGVycl9kc2lfaG9zdDoKIAlkcm1fY29ubmVjdG9yX2NsZWFu
dXAoJnBkYXRhLT5jb25uZWN0b3IpOwogCXJldHVybiByZXQ7CkBAIC02NTYsMzAgKzY2MywyMyBA
QCBzdGF0aWMgaW50IHRpX3NuX2JyaWRnZV9wYXJzZV9kc2lfaG9zdChzdHJ1Y3QgdGlfc25fYnJp
ZGdlICpwZGF0YSkKIAlyZXR1cm4gMDsKIH0KIAotc3RhdGljIGludCB0aV9zbl9icmlkZ2VfcHJv
YmUoc3RydWN0IGkyY19jbGllbnQgKmNsaWVudCwKLQkJCSAgICAgIGNvbnN0IHN0cnVjdCBpMmNf
ZGV2aWNlX2lkICppZCkKK3N0YXRpYyBpbnQgdGlfc25fYnJpZGdlX2NvbW1vbl9wcm9iZShzdHJ1
Y3QgZGV2aWNlICpkZXYsIHN0cnVjdCByZWdtYXAgKnJlZ21hcCwKKwkJCQkgICAgIHN0cnVjdCBt
aXBpX2RzaV9kZXZpY2UgKmRzaSkKIHsKIAlzdHJ1Y3QgdGlfc25fYnJpZGdlICpwZGF0YTsKIAlp
bnQgcmV0OwogCi0JaWYgKCFpMmNfY2hlY2tfZnVuY3Rpb25hbGl0eShjbGllbnQtPmFkYXB0ZXIs
IEkyQ19GVU5DX0kyQykpIHsKLQkJRFJNX0VSUk9SKCJkZXZpY2UgZG9lc24ndCBzdXBwb3J0IEky
Q1xuIik7Ci0JCXJldHVybiAtRU5PREVWOwotCX0KLQotCXBkYXRhID0gZGV2bV9remFsbG9jKCZj
bGllbnQtPmRldiwgc2l6ZW9mKHN0cnVjdCB0aV9zbl9icmlkZ2UpLAorCXBkYXRhID0gZGV2bV9r
emFsbG9jKGRldiwgc2l6ZW9mKHN0cnVjdCB0aV9zbl9icmlkZ2UpLAogCQkJICAgICBHRlBfS0VS
TkVMKTsKIAlpZiAoIXBkYXRhKQogCQlyZXR1cm4gLUVOT01FTTsKIAotCXBkYXRhLT5yZWdtYXAg
PSBkZXZtX3JlZ21hcF9pbml0X2kyYyhjbGllbnQsCi0JCQkJCSAgICAgJnRpX3NuX2JyaWRnZV9y
ZWdtYXBfY29uZmlnKTsKLQlpZiAoSVNfRVJSKHBkYXRhLT5yZWdtYXApKSB7Ci0JCURSTV9FUlJP
UigicmVnbWFwIGkyYyBpbml0IGZhaWxlZFxuIik7Ci0JCXJldHVybiBQVFJfRVJSKHBkYXRhLT5y
ZWdtYXApOwotCX0KKwlwZGF0YS0+cmVnbWFwID0gcmVnbWFwOwogCi0JcGRhdGEtPmRldiA9ICZj
bGllbnQtPmRldjsKKwlwZGF0YS0+ZGV2ID0gZGV2OworCisJaWYgKGRzaSkKKwkJcGRhdGEtPmRz
aSA9IGRzaTsKIAogCXJldCA9IGRybV9vZl9maW5kX3BhbmVsX29yX2JyaWRnZShwZGF0YS0+ZGV2
LT5vZl9ub2RlLCAxLCAwLAogCQkJCQkgICZwZGF0YS0+cGFuZWwsIE5VTEwpOwpAQCAtNjg4LDcg
KzY4OCw3IEBAIHN0YXRpYyBpbnQgdGlfc25fYnJpZGdlX3Byb2JlKHN0cnVjdCBpMmNfY2xpZW50
ICpjbGllbnQsCiAJCXJldHVybiByZXQ7CiAJfQogCi0JZGV2X3NldF9kcnZkYXRhKCZjbGllbnQt
PmRldiwgcGRhdGEpOworCWRldl9zZXRfZHJ2ZGF0YShkZXYsIHBkYXRhKTsKIAogCXBkYXRhLT5l
bmFibGVfZ3BpbyA9IGRldm1fZ3Bpb2RfZ2V0KHBkYXRhLT5kZXYsICJlbmFibGUiLAogCQkJCQkg
ICAgR1BJT0RfT1VUX0xPVyk7CkBAIC03MTksMjUgKzcxOSwyMSBAQCBzdGF0aWMgaW50IHRpX3Nu
X2JyaWRnZV9wcm9iZShzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50LAogCiAJcG1fcnVudGltZV9l
bmFibGUocGRhdGEtPmRldik7CiAKLQlpMmNfc2V0X2NsaWVudGRhdGEoY2xpZW50LCBwZGF0YSk7
Ci0KIAlwZGF0YS0+YXV4Lm5hbWUgPSAidGktc242NWRzaTg2LWF1eCI7Ci0JcGRhdGEtPmF1eC5k
ZXYgPSBwZGF0YS0+ZGV2OworCXBkYXRhLT5hdXguZGV2ID0gZGV2OwogCXBkYXRhLT5hdXgudHJh
bnNmZXIgPSB0aV9zbl9hdXhfdHJhbnNmZXI7CiAJZHJtX2RwX2F1eF9yZWdpc3RlcigmcGRhdGEt
PmF1eCk7CiAKIAlwZGF0YS0+YnJpZGdlLmZ1bmNzID0gJnRpX3NuX2JyaWRnZV9mdW5jczsKLQlw
ZGF0YS0+YnJpZGdlLm9mX25vZGUgPSBjbGllbnQtPmRldi5vZl9ub2RlOworCXBkYXRhLT5icmlk
Z2Uub2Zfbm9kZSA9IGRldi0+b2Zfbm9kZTsKIAogCWRybV9icmlkZ2VfYWRkKCZwZGF0YS0+YnJp
ZGdlKTsKIAogCXJldHVybiAwOwogfQogCi1zdGF0aWMgaW50IHRpX3NuX2JyaWRnZV9yZW1vdmUo
c3RydWN0IGkyY19jbGllbnQgKmNsaWVudCkKK3N0YXRpYyBpbnQgdGlfc25fYnJpZGdlX2NvbW1v
bl9yZW1vdmUoc3RydWN0IHRpX3NuX2JyaWRnZSAqcGRhdGEpCiB7Ci0Jc3RydWN0IHRpX3NuX2Jy
aWRnZSAqcGRhdGEgPSBpMmNfZ2V0X2NsaWVudGRhdGEoY2xpZW50KTsKLQogCWlmICghcGRhdGEp
CiAJCXJldHVybiAtRUlOVkFMOwogCkBAIC03NTUsMTEgKzc1MSw1MyBAQCBzdGF0aWMgaW50IHRp
X3NuX2JyaWRnZV9yZW1vdmUoc3RydWN0IGkyY19jbGllbnQgKmNsaWVudCkKIAlyZXR1cm4gMDsK
IH0KIAotc3RhdGljIHN0cnVjdCBpMmNfZGV2aWNlX2lkIHRpX3NuX2JyaWRnZV9pZFtdID0gewor
c3RhdGljIGludCB0aV9zbl9icmlkZ2VfaTJjX3JlbW92ZShzdHJ1Y3QgaTJjX2NsaWVudCAqY2xp
ZW50KQoreworCXJldHVybiB0aV9zbl9icmlkZ2VfY29tbW9uX3JlbW92ZShpMmNfZ2V0X2NsaWVu
dGRhdGEoY2xpZW50KSk7Cit9CisKK3N0YXRpYyBpbnQgdGlfc25fYnJpZGdlX2kyY19wcm9iZShz
dHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50LAorCQkJICAgICAgY29uc3Qgc3RydWN0IGkyY19kZXZp
Y2VfaWQgKmlkKQoreworCXN0cnVjdCByZWdtYXAgKnJlZ21hcDsKKworCWlmICghaTJjX2NoZWNr
X2Z1bmN0aW9uYWxpdHkoY2xpZW50LT5hZGFwdGVyLCBJMkNfRlVOQ19JMkMpKSB7CisJCURSTV9F
UlJPUigiZGV2aWNlIGRvZXNuJ3Qgc3VwcG9ydCBJMkNcbiIpOworCQlyZXR1cm4gLUVOT0RFVjsK
Kwl9CisKKwlyZWdtYXAgPSBkZXZtX3JlZ21hcF9pbml0X2kyYyhjbGllbnQsICZ0aV9zbl9icmlk
Z2VfcmVnbWFwX2NvbmZpZyk7CisJaWYgKElTX0VSUihyZWdtYXApKSB7CisJCURSTV9FUlJPUigi
cmVnbWFwIGkyYyBpbml0IGZhaWxlZFxuIik7CisJCXJldHVybiBQVFJfRVJSKHJlZ21hcCk7CisJ
fQorCisJcmV0dXJuIHRpX3NuX2JyaWRnZV9jb21tb25fcHJvYmUoJmNsaWVudC0+ZGV2LCByZWdt
YXAsIE5VTEwpOworfQorCitzdGF0aWMgaW50IHRpX3NuX2JyaWRnZV9kc2lfcHJvYmUoc3RydWN0
IG1pcGlfZHNpX2RldmljZSAqZHNpKQoreworCXN0cnVjdCByZWdtYXAgKnJlZ21hcDsKKworCXJl
Z21hcCA9IGRldm1fcmVnbWFwX2luaXRfZHNpKGRzaSwgJnRpX3NuX2JyaWRnZV9yZWdtYXBfY29u
ZmlnKTsKKwlpZiAoSVNfRVJSKHJlZ21hcCkpIHsKKwkJRFJNX0VSUk9SKCJyZWdtYXAgZHNpIGlu
aXQgZmFpbGVkXG4iKTsKKwkJcmV0dXJuIFBUUl9FUlIocmVnbWFwKTsKKwl9CisKKwlyZXR1cm4g
dGlfc25fYnJpZGdlX2NvbW1vbl9wcm9iZSgmZHNpLT5kZXYsIHJlZ21hcCwgZHNpKTsKK30KKwor
c3RhdGljIGludCB0aV9zbl9icmlkZ2VfZHNpX3JlbW92ZShzdHJ1Y3QgbWlwaV9kc2lfZGV2aWNl
ICpkc2kpCit7CisJcmV0dXJuIHRpX3NuX2JyaWRnZV9jb21tb25fcmVtb3ZlKG1pcGlfZHNpX2dl
dF9kcnZkYXRhKGRzaSkpOworfQorCitzdGF0aWMgc3RydWN0IGkyY19kZXZpY2VfaWQgdGlfc25f
YnJpZGdlX2kyY19pZFtdID0gewogCXsgInRpLHNuNjVkc2k4NiIsIDB9LAogCXt9LAogfTsKLU1P
RFVMRV9ERVZJQ0VfVEFCTEUoaTJjLCB0aV9zbl9icmlkZ2VfaWQpOworTU9EVUxFX0RFVklDRV9U
QUJMRShpMmMsIHRpX3NuX2JyaWRnZV9pMmNfaWQpOwogCiBzdGF0aWMgY29uc3Qgc3RydWN0IG9m
X2RldmljZV9pZCB0aV9zbl9icmlkZ2VfbWF0Y2hfdGFibGVbXSA9IHsKIAl7LmNvbXBhdGlibGUg
PSAidGksc242NWRzaTg2In0sCkBAIC03NjcsMTcgKzgwNSw1MSBAQCBzdGF0aWMgY29uc3Qgc3Ry
dWN0IG9mX2RldmljZV9pZCB0aV9zbl9icmlkZ2VfbWF0Y2hfdGFibGVbXSA9IHsKIH07CiBNT0RV
TEVfREVWSUNFX1RBQkxFKG9mLCB0aV9zbl9icmlkZ2VfbWF0Y2hfdGFibGUpOwogCi1zdGF0aWMg
c3RydWN0IGkyY19kcml2ZXIgdGlfc25fYnJpZGdlX2RyaXZlciA9IHsKK3N0YXRpYyBzdHJ1Y3Qg
aTJjX2RyaXZlciB0aV9zbl9icmlkZ2VfaTJjX2RyaXZlciA9IHsKIAkuZHJpdmVyID0gewogCQku
bmFtZSA9ICJ0aV9zbjY1ZHNpODYiLAogCQkub2ZfbWF0Y2hfdGFibGUgPSB0aV9zbl9icmlkZ2Vf
bWF0Y2hfdGFibGUsCiAJCS5wbSA9ICZ0aV9zbl9icmlkZ2VfcG1fb3BzLAogCX0sCi0JLnByb2Jl
ID0gdGlfc25fYnJpZGdlX3Byb2JlLAotCS5yZW1vdmUgPSB0aV9zbl9icmlkZ2VfcmVtb3ZlLAot
CS5pZF90YWJsZSA9IHRpX3NuX2JyaWRnZV9pZCwKKwkucHJvYmUgPSB0aV9zbl9icmlkZ2VfaTJj
X3Byb2JlLAorCS5yZW1vdmUgPSB0aV9zbl9icmlkZ2VfaTJjX3JlbW92ZSwKKwkuaWRfdGFibGUg
PSB0aV9zbl9icmlkZ2VfaTJjX2lkLAogfTsKLW1vZHVsZV9pMmNfZHJpdmVyKHRpX3NuX2JyaWRn
ZV9kcml2ZXIpOworCitzdGF0aWMgc3RydWN0IG1pcGlfZHNpX2RyaXZlciB0aV9zbl9icmlkZ2Vf
ZHNpX2RyaXZlciA9IHsKKwkuZHJpdmVyID0geworCQkubmFtZSA9ICJ0aV9zbjY1ZHNpODYiLAor
CQkub2ZfbWF0Y2hfdGFibGUgPSB0aV9zbl9icmlkZ2VfbWF0Y2hfdGFibGUsCisJCS5wbSA9ICZ0
aV9zbl9icmlkZ2VfcG1fb3BzLAorCX0sCisJLnByb2JlID0gdGlfc25fYnJpZGdlX2RzaV9wcm9i
ZSwKKwkucmVtb3ZlID0gdGlfc25fYnJpZGdlX2RzaV9yZW1vdmUsCit9OworCitzdGF0aWMgaW50
IF9faW5pdCB0aXNuNjVkc2k4Nl9pbml0KHZvaWQpCit7CisJaW50IHJldDsKKworCXJldCA9IGky
Y19hZGRfZHJpdmVyKCZ0aV9zbl9icmlkZ2VfaTJjX2RyaXZlcik7CisKKwlpZiAocmV0KQorCQly
ZXR1cm4gcmV0OworCisJcmV0ID0gbWlwaV9kc2lfZHJpdmVyX3JlZ2lzdGVyKCZ0aV9zbl9icmlk
Z2VfZHNpX2RyaXZlcik7CisKKwlpZiAocmV0KQorCQlpMmNfZGVsX2RyaXZlcigmdGlfc25fYnJp
ZGdlX2kyY19kcml2ZXIpOworCisJcmV0dXJuIHJldDsKK30KK21vZHVsZV9pbml0KHRpc242NWRz
aTg2X2luaXQpOworCitzdGF0aWMgdm9pZCBfX2V4aXQgdGlzbjY1ZHNpODZfZXhpdCh2b2lkKQor
eworCWkyY19kZWxfZHJpdmVyKCZ0aV9zbl9icmlkZ2VfaTJjX2RyaXZlcik7CisJbWlwaV9kc2lf
ZHJpdmVyX3VucmVnaXN0ZXIoJnRpX3NuX2JyaWRnZV9kc2lfZHJpdmVyKTsKK30KK21vZHVsZV9l
eGl0KHRpc242NWRzaTg2X2V4aXQpOwogCiBNT0RVTEVfQVVUSE9SKCJTYW5kZWVwIFBhbmRhIDxz
cGFuZGFAY29kZWF1cm9yYS5vcmc+Iik7CiBNT0RVTEVfREVTQ1JJUFRJT04oInNuNjVkc2k4NiBE
U0kgdG8gZURQIGJyaWRnZSBkcml2ZXIiKTsKLS0gCjIuMTcuMQoKX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmkt
ZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
L21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
