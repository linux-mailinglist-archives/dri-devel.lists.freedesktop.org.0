Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id B1AD633C6E9
	for <lists+dri-devel@lfdr.de>; Mon, 15 Mar 2021 20:37:40 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 4DD2A89B27;
	Mon, 15 Mar 2021 19:37:36 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from foo.stuge.se (foo.stuge.se [212.116.89.98])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 316FA89B27
 for <dri-devel@lists.freedesktop.org>; Mon, 15 Mar 2021 19:37:34 +0000 (UTC)
Received: (qmail 10167 invoked by uid 1000); 15 Mar 2021 19:37:29 -0000
Message-ID: <20210315193729.10166.qmail@stuge.se>
Date: Mon, 15 Mar 2021 19:37:29 +0000
From: Peter Stuge <peter@stuge.se>
To: Noralf =?utf-8?Q?Tr=C3=B8nnes?= <noralf@tronnes.org>
Subject: Re: [PATCH v8 3/3] drm: Add GUD USB Display driver
References: <20210313112545.37527-1-noralf@tronnes.org>
 <20210313112545.37527-4-noralf@tronnes.org>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20210313112545.37527-4-noralf@tronnes.org>
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: hudson@trmm.net, markus@raatikainen.cc,
 Daniel Vetter <daniel.vetter@ffwll.ch>, linux-usb@vger.kernel.org,
 dri-devel@lists.freedesktop.org, th020394@gmail.com, lkundrak@v3.sk,
 pontus.fuchs@gmail.com, sam@ravnborg.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgTm9yYWxmLAoKc3VwZXIgZmFpciBjYWxsIHdpdGggdGhlIEJFIHRlc3RpbmcsIGxldCdzIGhv
cGUgZm9yIHNvbWUgdGVzdGluZyBzb29uaXNoLgoKCkkgd2FzIHRoaW5raW5nIGFib3V0IG15IGRl
dmljZSBkb2luZyBwcm90b2NvbCBTVEFMTCB3aGVuIEkgdHJ5IHRvCnJldHVybiAwIGJ5dGVzLCBh
bmQgd2hpbGUgaXQgKmlzKiBhIGJ1ZyBpbiBteSBkZXZpY2UsIGZyb20gYSBzdGFuZGFyZHMKcG9p
bnQgb2YgdmlldyBpdCdzIGFjdHVhbGx5IGNvbXBsZXRlbHkgdmFsaWQsIGlmIG5vdCBleHBlY3Rl
ZDoKCi0tODwtLSB1c2JfMjAucGRmIDguNS4zLjQgU1RBTEwgSGFuZHNoYWtlcyBSZXR1cm5lZCBi
eSBDb250cm9sIFBpcGVzCklmIHRoZSBkZXZpY2UgaXMgdW5hYmxlIHRvIGNvbXBsZXRlIGEgY29t
bWFuZCwgaXQgcmV0dXJucyBhIFNUQUxMIGluIHRoZQpEYXRhIGFuZC9vciBTdGF0dXMgc3RhZ2Vz
IG9mIHRoZSBjb250cm9sIHRyYW5zZmVyLiBVbmxpa2UgdGhlIGNhc2Ugb2YgYQpmdW5jdGlvbmFs
IHN0YWxsLCBwcm90b2NvbCBzdGFsbCBkb2VzIG5vdCBpbmRpY2F0ZSBhbiBlcnJvciB3aXRoIHRo
ZSBkZXZpY2UuCi0tPjgtLQoKSSB0aGluayBpdCdzIGZhaXIgdG8gc2F5IHRoYXQgYSBkZXZpY2Ug
Y2FuJ3QgY29tcGxldGUgdGhlIGNvbW1hbmQKd2hlbiBpdCBoYXMgbm8gZGF0YSB0byByZXR1cm4u
CgpTbyBob3cgYWJvdXQgYWxsb3dpbmcgU1RBTEwgZm9yIG9wdGlvbmFsIEdVRF9SRVFfR0VUXzpz
IHRvIG1lYW4gdGhlIHNhbWUKYXMgYSAwIGJ5dGUgcmVzcG9uc2U/IFNob3VsZCBJIHByb3Bvc2Ug
YSBzZXBhcmF0ZSBwYXRjaCBmb3IgaXQgbGF0ZXI/CgoKTm9yYWxmIFRyw7hubmVzIHdyb3RlOgo+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9ndWQvZ3VkX2Nvbm5lY3Rvci5jCi4uCj4gK3N0YXRpYyBp
bnQgZ3VkX2Nvbm5lY3Rvcl9nZXRfbW9kZXMoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3Rv
cikKLi4KPiArCXJldCA9IGd1ZF91c2JfZ2V0KGdkcm0sIEdVRF9SRVFfR0VUX0NPTk5FQ1RPUl9F
RElELCBjb25uZWN0b3ItPmluZGV4LAo+ICsJCQkgIGVkaWRfY3R4LmJ1ZiwgR1VEX0NPTk5FQ1RP
Ul9NQVhfRURJRF9MRU4pOwoKaWYgKHJldCA9PSAtRVBJUEUpCglyZXQgPSAwOwoKPiArCWlmIChy
ZXQgPiAwICYmIHJldCAlIEVESURfTEVOR1RIKSB7Cj4gKwkJZ3VkX2Nvbm5fZXJyKGNvbm5lY3Rv
ciwgIkludmFsaWQgRURJRCBzaXplIiwgcmV0KTsKPiArCX0gZWxzZSBpZiAocmV0ID4gMCkgewo+
ICsJCWVkaWRfY3R4LmxlbiA9IHJldDsKPiArCQllZGlkID0gZHJtX2RvX2dldF9lZGlkKGNvbm5l
Y3RvciwgZ3VkX2Nvbm5lY3Rvcl9nZXRfZWRpZF9ibG9jaywgJmVkaWRfY3R4KTsKPiArCX0KCgo+
ICtzdGF0aWMgaW50IGd1ZF9jb25uZWN0b3JfYWRkX3Byb3BlcnRpZXMoc3RydWN0IGd1ZF9kZXZp
Y2UgKmdkcm0sIHN0cnVjdCBndWRfY29ubmVjdG9yICpnY29ubikKLi4KPiArCXJldCA9IGd1ZF91
c2JfZ2V0KGdkcm0sIEdVRF9SRVFfR0VUX0NPTk5FQ1RPUl9QUk9QRVJUSUVTLCBjb25uZWN0b3It
PmluZGV4LAo+ICsJCQkgIHByb3BlcnRpZXMsIEdVRF9DT05ORUNUT1JfUFJPUEVSVElFU19NQVhf
TlVNICogc2l6ZW9mKCpwcm9wZXJ0aWVzKSk7CgppZiAocmV0ID09IC1FUElQRSkKCXJldCA9IDA7
Cgo+ICsJaWYgKHJldCA8PSAwKQo+ICsJCWdvdG8gb3V0Owo+ICsJaWYgKHJldCAlIHNpemVvZigq
cHJvcGVydGllcykpIHsKPiArCQlyZXQgPSAtRUlPOwo+ICsJCWdvdG8gb3V0Owo+ICsJfQoKCj4g
KysrIGIvZHJpdmVycy9ncHUvZHJtL2d1ZC9ndWRfZHJ2LmMKLi4KLi4KPiArc3RhdGljIGludCBn
dWRfZ2V0X3Byb3BlcnRpZXMoc3RydWN0IGd1ZF9kZXZpY2UgKmdkcm0pCi4uCj4gKwlyZXQgPSBn
dWRfdXNiX2dldChnZHJtLCBHVURfUkVRX0dFVF9QUk9QRVJUSUVTLCAwLAo+ICsJCQkgIHByb3Bl
cnRpZXMsIEdVRF9QUk9QRVJUSUVTX01BWF9OVU0gKiBzaXplb2YoKnByb3BlcnRpZXMpKTsKCmlm
IChyZXQgPT0gLUVQSVBFKQoJcmV0ID0gMDsKCj4gKwlpZiAocmV0IDw9IDApCj4gKwkJZ290byBv
dXQ7Cj4gKwlpZiAocmV0ICUgc2l6ZW9mKCpwcm9wZXJ0aWVzKSkgewo+ICsJCXJldCA9IC1FSU87
Cj4gKwkJZ290byBvdXQ7Cj4gKwl9CgoKVGhlbiBJIGxvb2tlZCB3aGV0aGVyIGEgZGV2aWNlIGNv
dWxkIGNhdXNlIHRyb3VibGUgaW4gdGhlIGRyaXZlciBieQpyZXR1cm5pbmcgY29tcGxleC91bmV4
cGVjdGVkIGRhdGEsIGFuZCBmb3VuZCB0aGlzOgoKPiArc3RhdGljIGludCBndWRfcHJvYmUoc3Ry
dWN0IHVzYl9pbnRlcmZhY2UgKmludGYsIGNvbnN0IHN0cnVjdCB1c2JfZGV2aWNlX2lkICppZCkK
Li4KPiArCS8qIEFkZCByb29tIGZvciBlbXVsYXRlZCBYUkdCODg4OCAqLwo+ICsJZm9ybWF0cyA9
IGRldm1fa21hbGxvY19hcnJheShkZXYsIEdVRF9GT1JNQVRTX01BWF9OVU0gKyAxLCBzaXplb2Yo
KmZvcm1hdHMpLCBHRlBfS0VSTkVMKTsKCkl0IGxvb2tzIGxpa2UgdGhpcyArMSBhbmQgdGhlIHdh
eSB4cmdiODg4OF9lbXVsYXRpb25fZm9ybWF0IHdvcmtzIG1lYW5zCnRoYXQgYW4gaW50ZXJmYWNl
IHdpbGwgbm90IGFsd2F5cyB3b3JrIGNvcnJlY3RseSBpZiBtdWx0aXBsZSBlbXVsYXRlZApmb3Jt
YXRzIChSMSwgWFJHQjExMTEsIFJHQjU2NSkgYXJlIHJldHVybmVkLCBiZWNhdXNlIG9ubHkgb25l
IGVtdWxhdGVkCm1vZGUgaXMgYWRkZWQgYWZ0ZXIgdGhlIGxvb3AsIHdpdGggc3RydWN0IGRybV9m
b3JtYXRfaW5mbyBmb3IgdGhlIGxhc3QKZW11bGF0ZWQgZm9ybWF0IHJldHVybmVkIGJ5IHRoZSBk
ZXZpY2UuIFNvIHVzZXJzcGFjZSB3b3VsZCBvbmx5IHNlZSB0aGUKbGFzdCBlbXVsYXRlZCBtb2Rl
IGFuZCB0aGUgYnVsayBvdXRwdXQgd291bGQgb25seSBldmVyIHVzZSB0aGF0CnBhcnRpY3VsYXIg
cGl4ZWwgZm9ybWF0LCBhbnkgZWFybGllciBvbmVzIHdvdWxkIGJlIHVuYXZhaWxhYmxlPwoKSWYg
dGhpcyBpcyBFV09OVEZJWCB0aGVuIGhvdyBhYm91dCBhZGRpbmcgYW4gZXJyb3IgbWVzc2FnZSBp
ZiBtdWx0aXBsZQplbXVsYXRlZCBtb2RlcyBhcmUgcmV0dXJuZWQgYW5kIGlnbm9yZSBhbGwgYnV0
IHRoZSBmaXJzdCwgcmF0aGVyIHRoYW4KYWxsIGJ1dCB0aGUgbGFzdD8KCgpSZWxhdGVkOiBDYW4g
dXNlcnNwYWNlIGZpbmQgb3V0IHdoaWNoIEdVRF9QSVhFTF9GT1JNQVRfKiBpcyBiZWhpbmQgYW4K
ZW11bGF0ZWQgZm9ybWF0PyBJdCdzIG5lZWRlZCB0byBkZWNpZGUgaG93IHRoZSBlbXVsYXRlZCBm
cmFtZWJ1ZmZlcgpzaG91bGQgYmUgdXNlZCwgaW4gcGFydGljdWxhciB0byBub3QgdXNlIEcgb3Ig
QiBpZiBHVURfUElYRUxfRk9STUFUX1IxLgoKCj4gKwkJc3dpdGNoIChmb3JtYXQpIHsKPiArCQlj
YXNlIEdVRF9EUk1fRk9STUFUX1IxOgo+ICsJCQlmYWxsdGhyb3VnaDsKPiArCQljYXNlIEdVRF9E
Uk1fRk9STUFUX1hSR0IxMTExOgo+ICsJCQlpZiAoIXhyZ2I4ODg4X2VtdWxhdGlvbl9mb3JtYXQp
Cj4gKwkJCQl4cmdiODg4OF9lbXVsYXRpb25fZm9ybWF0ID0gaW5mbzsKPiArCQkJYnJlYWs7Cj4g
KwkJY2FzZSBEUk1fRk9STUFUX1JHQjU2NToKPiArCQkJcmdiNTY1X3N1cHBvcnRlZCA9IHRydWU7
Cj4gKwkJCWlmICgheHJnYjg4ODhfZW11bGF0aW9uX2Zvcm1hdCkKPiArCQkJCXhyZ2I4ODg4X2Vt
dWxhdGlvbl9mb3JtYXQgPSBpbmZvOwo+ICsJCQlicmVhazsKCkNvdWxkIFJHQjU2NSBnbyBiZWZv
cmUgWFJHQjExMSAob3IgUjEpIGFuZCBhbHNvIGZhbGx0aHJvdWdoOyBpbiB0aGlzCmNvbnN0cnVj
dD8gTm90IHRlcnJpYmx5IGltcG9ydGFudCwgYnV0IHRoZSByZXBldGl0aW9uIGNhdWdodCBteSBl
eWUuCgoKVGhlbiwgaW4gZ3VkX2Nvbm5lY3Rvci5jIEkgc2F3IHRoaXMsIHdoaWNoIHN1cnByaXNl
ZCBtZToKCitpbnQgZ3VkX2Nvbm5lY3Rvcl9maWxsX3Byb3BlcnRpZXMoc3RydWN0IGRybV9jb25u
ZWN0b3Jfc3RhdGUgKmNvbm5lY3Rvcl9zdGF0ZSwKLi4KKwkJaWYgKHByb3AgPT0gR1VEX1BST1BF
UlRZX0JBQ0tMSUdIVF9CUklHSFRORVNTKSB7CisJCQl2YWwgPSBjb25uZWN0b3Jfc3RhdGUtPnR2
LmJyaWdodG5lc3M7CisJCX0gZWxzZSB7CgpXaHkgaXMgdGhpcyB1c2luZyB0di5icmlnaHRuZXNz
IHJhdGhlciB0aGFuIHNheSBnY29ubi0+aW5pdGlhbF9icmlnaHRuZXNzPwoKSXQgbG9va3MgbGlr
ZSB0aGUgZW5kIHJlc3VsdCBtaWdodCBiZSB0aGUgc2FtZSBiZWNhdXNlIHR2LmJyaWdodG5lc3Mg
aXMKc2V0IHRvIGdjb25uLT5pbml0aWFsX2JyaWdodG5lc3MgaW4gZ3VkX2Nvbm5lY3Rvcl9yZXNl
dCgpIGJ1dCBpdCdzIGEKbGl0dGxlIGNvbmZ1c2luZyB0byBtZSwgc2luY2UgYSBHVUQgYmFja2xp
Z2h0IGlzbid0IGEgZHJtL1RWIHRoaW5nPwoKClRoYW5rcyBhIGxvdAoKLy9QZXRlcgpfX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGlu
ZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVl
ZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWwK
