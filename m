Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 7000D218AAC
	for <lists+dri-devel@lfdr.de>; Wed,  8 Jul 2020 17:02:09 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 6E32C6E8E2;
	Wed,  8 Jul 2020 15:02:03 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ot1-x343.google.com (mail-ot1-x343.google.com
 [IPv6:2607:f8b0:4864:20::343])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 882E36E8E2
 for <dri-devel@lists.freedesktop.org>; Wed,  8 Jul 2020 15:02:01 +0000 (UTC)
Received: by mail-ot1-x343.google.com with SMTP id w17so29310014otl.4
 for <dri-devel@lists.freedesktop.org>; Wed, 08 Jul 2020 08:02:01 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=ffwll.ch; s=google;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=xnvnczozBBcp48MYhIL4k8d048bjLCb67Tbr1lAP6do=;
 b=dD5sbTVINSKYG6LI8iQIb9/dRfXH6cSTzpYbhSu6T6LdbXmUXhAvSg2Yf1ql5S/GIP
 fTKLZIIted9X52koEacmyJkMLlkXNwxf+kHd73I6H4rocqm3VfnrPlsy4KZk72N+ycSg
 1t332EW+ntbZ6j5/alVBXw7PigSseR8MGMEO0=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=xnvnczozBBcp48MYhIL4k8d048bjLCb67Tbr1lAP6do=;
 b=q64Qqw73NozljYsnEQ2PU4PDiyKolHI/NCJdHVedff0AAobCYYH85Kx6wLZmIZjMbW
 mZHcxGoBII6CaueCkYwBBew7uWf9pPxPRvJqU3MCv/bhsOaN0ePaiI7Tg1i/IeDPZ2+D
 8+VjBLzHVLWTHF7CqsMWZVAIgip+KUGx2pSpY3XxX4uhQ0Dmd3HHeNQM874ASK4HBRnW
 EajyHknH208H8QdPR2SKUVQRRFEvO5K0tTjav1jJv0UgZ1J9txtRp0W716YQAmiIROcU
 SblkrwbKGumZWLmFtOKmkYv3IHjBQ0CUU/aqoRzZ5mkGHYxOYeViarLSBOb8QXREm9bq
 YFhw==
X-Gm-Message-State: AOAM531wB5hPaYJ+t0/POGhv0dgd+PvrnRjJKDGJtKp/9QyyF9o8+ONT
 NY+yiyvflk07uyDLjS6XIldInVmAs+YOMJ0Pnzrrzw==
X-Google-Smtp-Source: ABdhPJwIxjemNVY+1W1eWrvVFue8y6i42o6Q6XDtKw2tLXebnxb96cPjMlsiMpRHLAkcTFrwW5YgHUhqPwVhBHMfXIE=
X-Received: by 2002:a05:6830:1d0:: with SMTP id
 r16mr39652535ota.188.1594220519515; 
 Wed, 08 Jul 2020 08:01:59 -0700 (PDT)
MIME-Version: 1.0
References: <20200707160012.1299338-1-chris@chris-wilson.co.uk>
 <CALqoU4y61Yc5ndaLSO3WoGSPxGm1nJJufk3U=uxhZe3sT1Xyzg@mail.gmail.com>
 <159414243217.17526.6453360763938648186@build.alporthouse.com>
 <CALqoU4ypBqcAo+xH2usVRffKzR6AkgGdJBmQ0vWe9MZ1kTHCqw@mail.gmail.com>
 <159414692385.17526.10068675168880429917@build.alporthouse.com>
 <b8e6d844-f096-8efc-1252-ef430069d080@amd.com>
 <20200708095405.GJ3278063@phenom.ffwll.local>
 <d59a0057-31db-ce8e-e83d-cd9e023a9ab2@amd.com>
In-Reply-To: <d59a0057-31db-ce8e-e83d-cd9e023a9ab2@amd.com>
From: Daniel Vetter <daniel@ffwll.ch>
Date: Wed, 8 Jul 2020 17:01:48 +0200
Message-ID: <CAKMK7uF1nXT-q-rJK0s2yUQa8h8qJmzO=p-ouzvXVQ5HgkE9Qg@mail.gmail.com>
Subject: Re: [PATCH 1/2] drm/vgem: Do not allocate backing shmemfs file for an
 import dmabuf object
To: =?UTF-8?Q?Christian_K=C3=B6nig?= <christian.koenig@amd.com>
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: =?UTF-8?Q?Thomas_Hellstr=C3=B6m?= <thomas_os@shipmail.org>,
 "# v4.10+" <stable@vger.kernel.org>, lepton <ytht.net@gmail.com>,
 dri-devel <dri-devel@lists.freedesktop.org>,
 Chris Wilson <chris@chris-wilson.co.uk>,
 intel-gfx <intel-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gV2VkLCBKdWwgOCwgMjAyMCBhdCA0OjM3IFBNIENocmlzdGlhbiBLw7ZuaWcgPGNocmlzdGlh
bi5rb2VuaWdAYW1kLmNvbT4gd3JvdGU6Cj4KPiBBbSAwOC4wNy4yMCB1bSAxMTo1NCBzY2hyaWVi
IERhbmllbCBWZXR0ZXI6Cj4gPiBPbiBXZWQsIEp1bCAwOCwgMjAyMCBhdCAxMToyMjowMEFNICsw
MjAwLCBDaHJpc3RpYW4gS8O2bmlnIHdyb3RlOgo+ID4+IEFtIDA3LjA3LjIwIHVtIDIwOjM1IHNj
aHJpZWIgQ2hyaXMgV2lsc29uOgo+ID4+PiBRdW90aW5nIGxlcHRvbiAoMjAyMC0wNy0wNyAxOTox
Nzo1MSkKPiA+Pj4+IE9uIFR1ZSwgSnVsIDcsIDIwMjAgYXQgMTA6MjAgQU0gQ2hyaXMgV2lsc29u
IDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+IHdyb3RlOgo+ID4+Pj4+IFF1b3RpbmcgbGVwdG9u
ICgyMDIwLTA3LTA3IDE4OjA1OjIxKQo+ID4+Pj4+PiBPbiBUdWUsIEp1bCA3LCAyMDIwIGF0IDk6
MDAgQU0gQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+IHdyb3RlOgo+ID4+
Pj4+Pj4gSWYgd2UgYXNzaWduIG9iai0+ZmlscCwgd2UgYmVsaWV2ZSB0aGF0IHRoZSBjcmVhdGUg
dmdlbSBibyBpcyBuYXRpdmUgYW5kCj4gPj4+Pj4+PiBhbGxvdyBkaXJlY3Qgb3BlcmF0aW9ucyBs
aWtlIG1tYXAoKSBhc3N1bWluZyBpdCBiZWhhdmVzIGFzIGJhY2tlZCBieSBhCj4gPj4+Pj4+PiBz
aG1lbWZzIGlub2RlLiBXaGVuIGltcG9ydGVkIGZyb20gYSBkbWFidWYsIHRoZSBvYmotPnBhZ2Vz
IGFyZQo+ID4+Pj4+Pj4gbm90IGFsd2F5cyBtZWFuaW5nZnVsIGFuZCB0aGUgc2htZW1mcyBiYWNr
aW5nIHN0b3JlIG1pc2xlYWRpbmcuCj4gPj4+Pj4+Pgo+ID4+Pj4+Pj4gTm90ZSwgdGhhdCByZWd1
bGFyIG1tYXAgYWNjZXNzIHRvIGEgdmdlbSBibyBpcyB2aWEgdGhlIGR1bWIgYnVmZmVyIEFQSSwK
PiA+Pj4+Pj4+IGFuZCB0aGF0IHJlamVjdHMgYXR0ZW1wdHMgdG8gbW1hcCBhbiBpbXBvcnRlZCBk
bWFidWYsCj4gPj4+Pj4+IFdoYXQgZG8geW91IG1lYW4gYnkgInJlZ3VsYXIgbW1hcCBhY2Nlc3Mi
IGhlcmU/ICBJdCBsb29rcyBsaWtlIHZnZW0gaXMKPiA+Pj4+Pj4gdXNpbmcgdmdlbV9nZW1fZHVt
Yl9tYXAgYXMgLmR1bWJfbWFwX29mZnNldCBjYWxsYmFjayB0aGVuIGl0IGRvZXNuJ3QgY2FsbAo+
ID4+Pj4+PiBkcm1fZ2VtX2R1bWJfbWFwX29mZnNldAo+ID4+Pj4+IEFzIEkgdG9vIGZvdW5kIG91
dCwgYW5kIHNvIGhhZCB0byBjb3JyZWN0IG15IHN0b3J5IHRlbGxpbmcuCj4gPj4+Pj4KPiA+Pj4+
PiBCeSByZWd1bGFyIG1tYXAoKSBhY2Nlc3MgSSBtZWFuIG1tYXAgb24gdGhlIHZnZW0gYm8gW3Zp
YSB0aGUgZHVtYiBidWZmZXIKPiA+Pj4+PiBBUEldIGFzIG9wcG9zZWQgdG8gbW1hcCgpIHZpYSBh
biBleHBvcnRlZCBkbWEtYnVmIGZkLiBJIGhhZCB0byBsb29rIGF0Cj4gPj4+Pj4gaWd0IHRvIHNl
ZSBob3cgaXQgd2FzIGJlaW5nIHVzZWQuCj4gPj4+PiBOb3cgaXQgc2VlbXMgeW91ciBmaXggaXMg
dG8gZGlzYWJsZSAicmVndWxhciBtbWFwIiBvbiBpbXBvcnRlZCBkbWEgYnVmCj4gPj4+PiBmb3Ig
dmdlbS4gSSBhbSBub3QgcmVhbGx5IGEgZ3JhcGhpYyBndXksIGJ1dCB0aGVuIHRoZSBhcGkgbG9v
a3MgbGlrZToKPiA+Pj4+IGZvciBhIGdlbSBoYW5kbGUsIHVzZXIgc3BhY2UgaGFzIHRvIGd1ZXNz
IHRvIGZpbmQgb3V0IHRoZSB3YXkgdG8gbW1hcAo+ID4+Pj4gaXQuIElmIHVzZXIgc3BhY2UgZ3Vl
c3Mgd3JvbmcsIHRoZW4gaXQgd2lsbCBmYWlsIHRvIG1tYXAuIElzIHRoaXMgdGhlCj4gPj4+PiBl
eHBlY3RlZCB3YXkKPiA+Pj4+IGZvciBwZW9wbGUgdG8gaGFuZGxlIGdwdSBidWZmZXI/Cj4gPj4+
IFlvdSBlaXRoZXIgaGF2ZSBhIGR1bWIgYnVmZmVyIGhhbmRsZSwgb3IgYSBkbWEtYnVmIGZkLiBJ
ZiB5b3UgaGF2ZSB0aGUKPiA+Pj4gaGFuZGxlLCB5b3UgaGF2ZSB0byB1c2UgdGhlIGR1bWIgYnVm
ZmVyIEFQSSwgdGhlcmUncyBubyBvdGhlciB3YXkgdG8KPiA+Pj4gbW1hcCBpdC4gSWYgeW91IGhh
dmUgdGhlIGRtYS1idWYgZmQsIHlvdSBzaG91bGQgbW1hcCBpdCBkaXJlY3RseS4gVGhvc2UKPiA+
Pj4gdHdvIGFyZSBjbGVhci4KPiA+Pj4KPiA+Pj4gSXQncyB3aGVuIHlvdSBpbXBvcnQgdGhlIGRt
YS1idWYgaW50byB2Z2VtIGFuZCBjcmVhdGUgYSBoYW5kbGUgb3V0IG9mCj4gPj4+IGl0LCB0aGF0
J3Mgd2hlbiB0aGUgaGFuZGxlIGlzIG5vIGxvbmdlciBmaXJzdCBjbGFzcyBhbmQgY2VydGFpbiB1
QVBJCj4gPj4+IFt0aGUgZHVtYiBidWZmZXIgQVBJIGluIHBhcnRpY3VsYXJdIGZhaWwuCj4gPj4+
Cj4gPj4+IEl0J3Mgbm90IGJyaWxsaWFudCwgYXMgeW91IHNheSwgaXQgcmVxdWlyZXMgdGhlIHVz
ZXIgdG8gcmVtZW1iZXIgdGhlCj4gPj4+IGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgaGFuZGxlcywg
YnV0IGF0IHRoZSBzYW1lIHRpbWUgaXQgZG9lcyBwcmV2ZW50Cj4gPj4+IHRoZW0gZmFsbGluZyBp
bnRvIGNvaGVyZW5jeSB0cmFwcyBieSBmb3JjaW5nIHRoZW0gdG8gdXNlIHRoZSByaWdodAo+ID4+
PiBkcml2ZXIgdG8gaGFuZGxlIHRoZSBvYmplY3QsIGFuZCBoYXZlIHRvIGNvbnNpZGVyIHRoZSBh
ZGRpdGlvbmFsIGlvY3Rscwo+ID4+PiB0aGF0IGdvIGFsb25nIHdpdGggdGhhdCBhY2Nlc3MuCj4g
Pj4gWWVzLCBDaHJpcyBpcyByaWdodC4gTWFwcGluZyBETUEtYnVmIHRocm91Z2ggdGhlIG1tYXAo
KSBBUElzIG9mIGFuIGltcG9ydGVyCj4gPj4gaXMgaWxsZWdhbC4KPiA+Pgo+ID4+IFdoYXQgd2Ug
Y291bGQgbWF5YmUgdHJ5IHRvIGRvIGlzIHRvIHJlZGlyZWN0IHRoaXMgbW1hcCgpIEFQSSBjYWxs
IG9uIHRoZQo+ID4+IGltcG9ydGVyIHRvIHRoZSBleHBvcnRlciwgYnV0IEknbSBwcmV0dHkgc3Vy
ZSB0aGF0IHRoZSBmcyBsYXllciB3b3VsZG4ndAo+ID4+IGxpa2UgdGhhdCB3aXRob3V0IGNoYW5n
ZXMuCj4gPiBXZSBhbHJlYWR5IGRvIHRoYXQsIHRoZXJlJ3MgYSBmdWxsIGhlbHBlci1pZmllZCBw
YXRoIGZyb20gSSB0aGluayBzaG1lbQo+ID4gaGVscGVycyB0aHJvdWdoIHByaW1lIGhlbHBlcnMg
dG8gZm9yd2FyZCB0aGlzIGFsbC4gSW5jbHVkaW5nIGhhbmRsaW5nCj4gPiBidWZmZXIgb2Zmc2V0
cyBhbmQgYWxsIHRoZSBvdGhlciBsb2x6IGJhY2smZm9ydGguCj4KPiBPaCwgdGhhdCBtb3N0IGxp
a2VseSB3b24ndCB3b3JrIGNvcnJlY3RseSB3aXRoIHVucGlubmVkIERNQS1idWZzIGFuZAo+IG5l
ZWRzIHRvIGJlIGF2b2lkZWQuCj4KPiBFYWNoIGZpbGUgZGVzY3JpcHRvciBpcyBhc3NvY2lhdGVk
IHdpdGggYW4gc3RydWN0IGFkZHJlc3Nfc3BhY2UuIEFuZAo+IHdoZW4geW91IG1tYXAoKSB0aHJv
dWdoIHRoZSBpbXBvcnRlciBieSByZWRpcmVjdGluZyB0aGUgc3lzdGVtIGNhbGwgdG8KPiB0aGUg
ZXhwb3J0ZXIgeW91IGVuZCB1cCB3aXRoIHRoZSB3cm9uZyBzdHJ1Y3QgYWRkcmVzc19zcGFjZSBp
biB5b3VyIFZNQS4KPgo+IFRoYXQgaW4gdHVybiBjYW4gZ28gdXAgZWFzaWx5IGluIGZsYW1lcyB3
aGVuIHRoZSBleHBvcnRlciB0cmllcyB0bwo+IGludmFsaWRhdGUgdGhlIENQVSBtYXBwaW5ncyBm
b3IgaXRzIERNQS1idWYgd2hpbGUgbW92aW5nIGl0Lgo+Cj4gV2hlcmUgYXJlIHdlIGRvaW5nIHRo
aXM/IE15IGxhc3Qgc3RhdHVzIHdhcyB0aGF0IHRoaXMgaXMgZm9yYmlkZGVuLgoKSG0gSSB0aG91
Z2h0IHdlJ3JlIGRvaW5nIGFsbCB0aGF0IGFscmVhZHksIGJ1dCBsb29raW5nIGF0IHRoZSBjb2Rl
CmFnYWluIHdlJ3JlIG9ubHkgZG9pbmcgdGhpcyB3aGVuIG9wZW5pbmcgYSBuZXcgZHJtIGZkIG9y
IGRtYS1idWYgZmQuClNvIHRoZSByaWdodCBmaWxlLT5mX21hcHBpbmcgaXMgYWx3YXlzIHNldCBh
dCBmaWxlIGNyZWF0aW9uIHRpbWUuCgpBbmQgd2UgaW5kZWVkIGRvbid0IGZyb2IgdGhpcyBtb3Jl
IHdoZW4gZ29pbmcgYW5vdGhlciBpbmRpcmVjdGlvbiAuLi4KTWF5YmUgd2Ugc2NyZXdlZCB1cCBz
b21ldGhpbmcgc29tZXdoZXJlIDotLwoKQWxzbyBJIHRob3VnaHQgdGhlIG1hcHBpbmcgaXMgb25s
eSB0YWtlbiBhZnRlciB0aGUgdm1hIGlzIGluc3RhdGlhdGVkLApvdGhlcndpc2UgdGhlIHRyaWNr
cyB3ZSdyZSBwbGF5aW5nIHdpdGggZG1hLWJ1ZiBhbHJlYWR5IHdvdWxkbid0IHdvcms6CmRtYS1i
dWYgaGFzIHRoZSBidWZmZXIgYWx3YXlzIGF0IG9mZnNldCAwLCB3aGVyZWFzIGdlbSBkcm1fZmQg
bW1hcCBoYXMKaXQgc29tZXdoZXJlIGVsc2UuIFdlIGFscmVhZHkgYWRqdXN0IHZtYS0+dm1fcGdv
ZmYsIHNvIEknbSB3b25kZXJpbmcKd2hldGhlciB3ZSBjb3VsZCBhZGp1c3Qgdm1fZmlsZSB0b28u
IE9yIGlzIHRoYXQgdGhlIHRoaW5nIHRoYXQncwpmb3JiaWRkZW4/Ci1EYW5pZWwKCj4gQ2hyaXN0
aWFuLgo+Cj4gPiBPZiBjb3Vyc2UgdGhlcmUncyBzdGlsbCB0aGUgcHJvYmxlbSB0aGF0IG1hbnkg
ZHJpdmVycyBkb24ndCBmb3J3YXJkIHRoZQo+ID4gY2FjaGUgY29oZXJlbmN5IGNhbGxzIGZvciBi
ZWdpbi9lbmQgY3B1IGFjY2Vzcywgc28gaW4gYSBidW5jaCBvZiBjYXNlcwo+ID4geW91J2xsIGNh
Y2hlIGNhY2hlbGluZSBkaXJ0IHNvdXAuIEJ1dCB0aGF0J3Mga2luZGEgc3RhbmRhcmQgcHJvY2Vk
dXJlIGZvcgo+ID4gZG1hLWJ1ZiA6LVAKPiA+Cj4gPiBCdXQgeWVhaCB0cnlpbmcgdG8gaGFuZGxl
IHRoZSBtbWFwIGFzIGFuIGltcG9ydGVyLCBieXBhc3NpbmcgdGhlIGV4cG9ydDoKPiA+IG5vcGUu
IFRoZSBvbmUgZXhjZXB0aW9uIGlzIGlmIHlvdSBoYXZlIHNvbWUga2luZCBvZiBmYW5jeSBnYXJ0
IHdpdGgKPiA+IGNwdS12aXNpYmxlIHBjaSBiYXIgKGxpa2UgYXQgbGVhc3QgaW50ZWdyYXRlZCBp
bnRlbCBncHVzIGhhdmUpLiBCdXQgaW4KPiA+IHRoYXQgY2FzZSB0aGUgbW1hcCB2ZXJ5IG11Y2gg
bG9va3MmYWN0cyBsaWtlIGRldmljZSBhY2Nlc3MgaW4gZXZlcnkgd2F5Lgo+ID4KPiA+IENoZWVy
cywgRGFuaWVsCj4gPgo+ID4+IFJlZ2FyZHMsCj4gPj4gQ2hyaXN0aWFuLgo+ID4+Cj4gPj4KPiA+
Pj4gLUNocmlzCj4KCgotLSAKRGFuaWVsIFZldHRlcgpTb2Z0d2FyZSBFbmdpbmVlciwgSW50ZWwg
Q29ycG9yYXRpb24KaHR0cDovL2Jsb2cuZmZ3bGwuY2gKX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxA
bGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxt
YW4vbGlzdGluZm8vZHJpLWRldmVsCg==
