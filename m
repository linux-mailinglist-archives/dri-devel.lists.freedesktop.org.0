Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 6D37834F2D1
	for <lists+dri-devel@lfdr.de>; Tue, 30 Mar 2021 23:12:12 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 24E456E97F;
	Tue, 30 Mar 2021 21:12:08 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-lj1-x230.google.com (mail-lj1-x230.google.com
 [IPv6:2a00:1450:4864:20::230])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D3D516E97F
 for <dri-devel@lists.freedesktop.org>; Tue, 30 Mar 2021 21:12:06 +0000 (UTC)
Received: by mail-lj1-x230.google.com with SMTP id 184so21424271ljf.9
 for <dri-devel@lists.freedesktop.org>; Tue, 30 Mar 2021 14:12:06 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=subject:to:cc:references:from:message-id:date:user-agent
 :mime-version:in-reply-to:content-language:content-transfer-encoding;
 bh=/QDZgYZJXyG2sgrbclvxHliZliBt5pR/K5tKY7peYII=;
 b=rto5zuAN1ZSPsZSS/28Y1jkyHbkdJRSW7XFLeCigJkUZbo4JYZ46iTqecXApHlgIDZ
 0Q2VD/jub5aI53H4idix7EhjHD+1VvriuYr31NRWku1mKYYTDhh4ehuAi/ViIE+zYbLI
 6B5w323EBWsf1Sye7s9W93iLOTSeYaHxqKZKbkn22hTXICMxiuOPUeyVT7S8AaEVDI4r
 +hBgHF6mmkWa3Z6VUf4zRRQP9q8Bm7/ZT5D+yxEKYbCx7szcyzcoWz7ruSzdM3hgMhiw
 jgJS9jR2qBWaIEGHyaEVYyerInHBTw47vMrli9zcLOhqqS4XlgC8HU917KXkWsd3l0xh
 rF0A==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:subject:to:cc:references:from:message-id:date
 :user-agent:mime-version:in-reply-to:content-language
 :content-transfer-encoding;
 bh=/QDZgYZJXyG2sgrbclvxHliZliBt5pR/K5tKY7peYII=;
 b=QF++bupSz0+ggVGhACqDH/k8fzX/gxzgp+SdGs10ctucgNHLO4y4B8mfWXvyo/LNUN
 l9g3AaF31dD5vNdKZNwD3ZpP4nAM7qrRAfls8XM8ANxO098gHxgdCVXgmNedJSGGtWoD
 +jfq1hX7lJFM3qguQKDZC8DPcmOo3PothmvOLEjJWVgNO6R0zZiHEtVL4Ad3qYJw7nRU
 plb46XQ7TDjxjz3uK7UNo1EoQ5vIXwWN5FXzWqTcQfGyrD2dtRlWKitCx9ijDrHrj6iW
 UduCgkLlIPp3BpW3b43Ec17s7sHXMuXEaFN5T9FHsUCe3/YGf7QnlmNvbYpwCyiJcYwk
 Cvzg==
X-Gm-Message-State: AOAM531Ezoir32SbxgU/V/rhUg4lF8PcgEwGaNMt73wF45W5rkWIbpkR
 RSmL/cKU1qPMt4HwMOU9ZIbVUxJ0G7A=
X-Google-Smtp-Source: ABdhPJwmK+yMgmEL9da7mSBFIlaJhmeb2TuSyf5vGJEJf5dGqY5ltvL/42K1NXITsHjmGyANWIF6Qg==
X-Received: by 2002:a2e:b555:: with SMTP id a21mr70416ljn.69.1617138724520;
 Tue, 30 Mar 2021 14:12:04 -0700 (PDT)
Received: from [192.168.2.145] (109-252-193-98.dynamic.spd-mgts.ru.
 [109.252.193.98])
 by smtp.googlemail.com with ESMTPSA id r27sm12lfm.188.2021.03.30.14.12.03
 (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
 Tue, 30 Mar 2021 14:12:04 -0700 (PDT)
Subject: Re: [PATCH v6 06/10] gpu: host1x: Cleanup and refcounting for
 syncpoints
To: Mikko Perttunen <mperttunen@nvidia.com>, thierry.reding@gmail.com,
 jonathanh@nvidia.com
References: <20210329133836.2115236-1-mperttunen@nvidia.com>
 <20210329133836.2115236-7-mperttunen@nvidia.com>
From: Dmitry Osipenko <digetx@gmail.com>
Message-ID: <0a75a45c-6e52-d303-621c-b2aaef9a18cf@gmail.com>
Date: Wed, 31 Mar 2021 00:12:03 +0300
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101
 Thunderbird/78.8.1
MIME-Version: 1.0
In-Reply-To: <20210329133836.2115236-7-mperttunen@nvidia.com>
Content-Language: en-US
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-tegra@vger.kernel.org, dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

MjkuMDMuMjAyMSAxNjozOCwgTWlra28gUGVydHR1bmVuINC/0LjRiNC10YI6Cj4gQWRkIHJlZmVy
ZW5jZSBjb3VudGluZyBmb3IgYWxsb2NhdGVkIHN5bmNwb2ludHMgdG8gYWxsb3cga2VlcGluZwo+
IHRoZW0gYWxsb2NhdGVkIHdoaWxlIGpvYnMgYXJlIHJlZmVyZW5jaW5nIHRoZW0uIEFkZGl0aW9u
YWxseSwKPiBjbGVhbiB1cCB2YXJpb3VzIHBsYWNlcyB1c2luZyBzeW5jcG9pbnQgSURzIHRvIHVz
ZSBob3N0MXhfc3luY3B0Cj4gcG9pbnRlcnMgaW5zdGVhZC4KPiAKPiBTaWduZWQtb2ZmLWJ5OiBN
aWtrbyBQZXJ0dHVuZW4gPG1wZXJ0dHVuZW5AbnZpZGlhLmNvbT4KPiAtLS0KPiB2NToKPiAtIFJl
bW92ZSBob3N0MXhfc3luY3B0X3B1dCBpbiBzdWJtaXQgY29kZSwgYXMgam9iX3B1dCBhbHJlYWR5
Cj4gICBwdXRzIHRoZSBzeW5jcG9pbnQuCj4gLSBDaGFuZ2VzIGR1ZSB0byByZWJhc2UgaW4gVkkg
ZHJpdmVyLgo+IHY0Ogo+IC0gVXBkYXRlIGZyb20gX2ZyZWUgdG8gX3B1dCBpbiBWSSBkcml2ZXIg
YXMgd2VsbAo+IC0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vdGVncmEvZGMuYyAgICAgICAgICAgICB8
ICA0ICstCj4gIGRyaXZlcnMvZ3B1L2RybS90ZWdyYS9kcm0uYyAgICAgICAgICAgIHwgMTQgKyst
LS0KPiAgZHJpdmVycy9ncHUvZHJtL3RlZ3JhL2dyMmQuYyAgICAgICAgICAgfCAgNCArLQo+ICBk
cml2ZXJzL2dwdS9kcm0vdGVncmEvZ3IzZC5jICAgICAgICAgICB8ICA0ICstCj4gIGRyaXZlcnMv
Z3B1L2RybS90ZWdyYS92aWMuYyAgICAgICAgICAgIHwgIDQgKy0KPiAgZHJpdmVycy9ncHUvaG9z
dDF4L2NkbWEuYyAgICAgICAgICAgICAgfCAxMSArKy0tCj4gIGRyaXZlcnMvZ3B1L2hvc3QxeC9k
ZXYuaCAgICAgICAgICAgICAgIHwgIDcgKystCj4gIGRyaXZlcnMvZ3B1L2hvc3QxeC9ody9jZG1h
X2h3LmMgICAgICAgIHwgIDIgKy0KPiAgZHJpdmVycy9ncHUvaG9zdDF4L2h3L2NoYW5uZWxfaHcu
YyAgICAgfCAxMCArKy0tCj4gIGRyaXZlcnMvZ3B1L2hvc3QxeC9ody9kZWJ1Z19ody5jICAgICAg
IHwgIDIgKy0KPiAgZHJpdmVycy9ncHUvaG9zdDF4L2pvYi5jICAgICAgICAgICAgICAgfCAgNSAr
LQo+ICBkcml2ZXJzL2dwdS9ob3N0MXgvc3luY3B0LmMgICAgICAgICAgICB8IDc1ICsrKysrKysr
KysrKysrKysrKystLS0tLS0tCj4gIGRyaXZlcnMvZ3B1L2hvc3QxeC9zeW5jcHQuaCAgICAgICAg
ICAgIHwgIDMgKysKPiAgZHJpdmVycy9zdGFnaW5nL21lZGlhL3RlZ3JhLXZpZGVvL3ZpLmMgfCAg
NCArLQo+ICBpbmNsdWRlL2xpbnV4L2hvc3QxeC5oICAgICAgICAgICAgICAgICB8ICA4ICstLQo+
ICAxNSBmaWxlcyBjaGFuZ2VkLCA5OCBpbnNlcnRpb25zKCspLCA1OSBkZWxldGlvbnMoLSkKPiAK
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3RlZ3JhL2RjLmMgYi9kcml2ZXJzL2dwdS9k
cm0vdGVncmEvZGMuYwo+IGluZGV4IDU2MzVmYWMwMWUzZS4uNDE2ZDYwMzZjZjQ3IDEwMDY0NAo+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS90ZWdyYS9kYy5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L3RlZ3JhL2RjLmMKPiBAQCAtMjE0MSw3ICsyMTQxLDcgQEAgc3RhdGljIGludCB0ZWdyYV9kY19p
bml0KHN0cnVjdCBob3N0MXhfY2xpZW50ICpjbGllbnQpCj4gIAkJZHJtX3BsYW5lX2NsZWFudXAo
cHJpbWFyeSk7Cj4gIAo+ICAJaG9zdDF4X2NsaWVudF9pb21tdV9kZXRhY2goY2xpZW50KTsKPiAt
CWhvc3QxeF9zeW5jcHRfZnJlZShkYy0+c3luY3B0KTsKPiArCWhvc3QxeF9zeW5jcHRfcHV0KGRj
LT5zeW5jcHQpOwo+ICAKPiAgCXJldHVybiBlcnI7Cj4gIH0KPiBAQCAtMjE2Niw3ICsyMTY2LDcg
QEAgc3RhdGljIGludCB0ZWdyYV9kY19leGl0KHN0cnVjdCBob3N0MXhfY2xpZW50ICpjbGllbnQp
Cj4gIAl9Cj4gIAo+ICAJaG9zdDF4X2NsaWVudF9pb21tdV9kZXRhY2goY2xpZW50KTsKPiAtCWhv
c3QxeF9zeW5jcHRfZnJlZShkYy0+c3luY3B0KTsKPiArCWhvc3QxeF9zeW5jcHRfcHV0KGRjLT5z
eW5jcHQpOwo+ICAKPiAgCXJldHVybiAwOwo+ICB9Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS90ZWdyYS9kcm0uYyBiL2RyaXZlcnMvZ3B1L2RybS90ZWdyYS9kcm0uYwo+IGluZGV4IDkw
NzA5YzM4Yzk5My4uY2U1YmRjNThkMzE1IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS90
ZWdyYS9kcm0uYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS90ZWdyYS9kcm0uYwo+IEBAIC0xNzQs
NyArMTc0LDcgQEAgaW50IHRlZ3JhX2RybV9zdWJtaXQoc3RydWN0IHRlZ3JhX2RybV9jb250ZXh0
ICpjb250ZXh0LAo+ICAJc3RydWN0IGRybV90ZWdyYV9zeW5jcHQgc3luY3B0Owo+ICAJc3RydWN0
IGhvc3QxeCAqaG9zdDF4ID0gZGV2X2dldF9kcnZkYXRhKGRybS0+ZGV2LT5wYXJlbnQpOwo+ICAJ
c3RydWN0IGRybV9nZW1fb2JqZWN0ICoqcmVmczsKPiAtCXN0cnVjdCBob3N0MXhfc3luY3B0ICpz
cDsKPiArCXN0cnVjdCBob3N0MXhfc3luY3B0ICpzcCA9IE5VTEw7Cj4gIAlzdHJ1Y3QgaG9zdDF4
X2pvYiAqam9iOwo+ICAJdW5zaWduZWQgaW50IG51bV9yZWZzOwo+ICAJaW50IGVycjsKPiBAQCAt
MzAxLDggKzMwMSw4IEBAIGludCB0ZWdyYV9kcm1fc3VibWl0KHN0cnVjdCB0ZWdyYV9kcm1fY29u
dGV4dCAqY29udGV4dCwKPiAgCQlnb3RvIGZhaWw7Cj4gIAl9Cj4gIAo+IC0JLyogY2hlY2sgd2hl
dGhlciBzeW5jcG9pbnQgSUQgaXMgdmFsaWQgKi8KPiAtCXNwID0gaG9zdDF4X3N5bmNwdF9nZXQo
aG9zdDF4LCBzeW5jcHQuaWQpOwo+ICsJLyogU3luY3BvaW50IHJlZiB3aWxsIGJlIGRyb3BwZWQg
b24gam9iIHJlbGVhc2UuICovCj4gKwlzcCA9IGhvc3QxeF9zeW5jcHRfZ2V0X2J5X2lkKGhvc3Qx
eCwgc3luY3B0LmlkKTsKPiAgCWlmICghc3ApIHsKPiAgCQllcnIgPSAtRU5PRU5UOwo+ICAJCWdv
dG8gZmFpbDsKPiBAQCAtMzExLDcgKzMxMSw3IEBAIGludCB0ZWdyYV9kcm1fc3VibWl0KHN0cnVj
dCB0ZWdyYV9kcm1fY29udGV4dCAqY29udGV4dCwKPiAgCWpvYi0+aXNfYWRkcl9yZWcgPSBjb250
ZXh0LT5jbGllbnQtPm9wcy0+aXNfYWRkcl9yZWc7Cj4gIAlqb2ItPmlzX3ZhbGlkX2NsYXNzID0g
Y29udGV4dC0+Y2xpZW50LT5vcHMtPmlzX3ZhbGlkX2NsYXNzOwo+ICAJam9iLT5zeW5jcHRfaW5j
cnMgPSBzeW5jcHQuaW5jcnM7Cj4gLQlqb2ItPnN5bmNwdF9pZCA9IHN5bmNwdC5pZDsKPiArCWpv
Yi0+c3luY3B0ID0gc3A7Cj4gIAlqb2ItPnRpbWVvdXQgPSAxMDAwMDsKPiAgCj4gIAlpZiAoYXJn
cy0+dGltZW91dCAmJiBhcmdzLT50aW1lb3V0IDwgMTAwMDApCj4gQEAgLTM4Myw3ICszODMsNyBA
QCBzdGF0aWMgaW50IHRlZ3JhX3N5bmNwdF9yZWFkKHN0cnVjdCBkcm1fZGV2aWNlICpkcm0sIHZv
aWQgKmRhdGEsCj4gIAlzdHJ1Y3QgZHJtX3RlZ3JhX3N5bmNwdF9yZWFkICphcmdzID0gZGF0YTsK
PiAgCXN0cnVjdCBob3N0MXhfc3luY3B0ICpzcDsKPiAgCj4gLQlzcCA9IGhvc3QxeF9zeW5jcHRf
Z2V0KGhvc3QsIGFyZ3MtPmlkKTsKPiArCXNwID0gaG9zdDF4X3N5bmNwdF9nZXRfYnlfaWRfbm9y
ZWYoaG9zdCwgYXJncy0+aWQpOwo+ICAJaWYgKCFzcCkKPiAgCQlyZXR1cm4gLUVJTlZBTDsKPiAg
Cj4gQEAgLTM5OCw3ICszOTgsNyBAQCBzdGF0aWMgaW50IHRlZ3JhX3N5bmNwdF9pbmNyKHN0cnVj
dCBkcm1fZGV2aWNlICpkcm0sIHZvaWQgKmRhdGEsCj4gIAlzdHJ1Y3QgZHJtX3RlZ3JhX3N5bmNw
dF9pbmNyICphcmdzID0gZGF0YTsKPiAgCXN0cnVjdCBob3N0MXhfc3luY3B0ICpzcDsKPiAgCj4g
LQlzcCA9IGhvc3QxeF9zeW5jcHRfZ2V0KGhvc3QxeCwgYXJncy0+aWQpOwo+ICsJc3AgPSBob3N0
MXhfc3luY3B0X2dldF9ieV9pZF9ub3JlZihob3N0MXgsIGFyZ3MtPmlkKTsKPiAgCWlmICghc3Ap
Cj4gIAkJcmV0dXJuIC1FSU5WQUw7Cj4gIAo+IEBAIC00MTIsNyArNDEyLDcgQEAgc3RhdGljIGlu
dCB0ZWdyYV9zeW5jcHRfd2FpdChzdHJ1Y3QgZHJtX2RldmljZSAqZHJtLCB2b2lkICpkYXRhLAo+
ICAJc3RydWN0IGRybV90ZWdyYV9zeW5jcHRfd2FpdCAqYXJncyA9IGRhdGE7Cj4gIAlzdHJ1Y3Qg
aG9zdDF4X3N5bmNwdCAqc3A7Cj4gIAo+IC0Jc3AgPSBob3N0MXhfc3luY3B0X2dldChob3N0MXgs
IGFyZ3MtPmlkKTsKPiArCXNwID0gaG9zdDF4X3N5bmNwdF9nZXRfYnlfaWRfbm9yZWYoaG9zdDF4
LCBhcmdzLT5pZCk7Cj4gIAlpZiAoIXNwKQo+ICAJCXJldHVybiAtRUlOVkFMOwo+ICAKPiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3RlZ3JhL2dyMmQuYyBiL2RyaXZlcnMvZ3B1L2RybS90
ZWdyYS9ncjJkLmMKPiBpbmRleCBhZGJlMmRkY2RhMTkuLmRlMjg4Y2JhMzkwNSAxMDA2NDQKPiAt
LS0gYS9kcml2ZXJzL2dwdS9kcm0vdGVncmEvZ3IyZC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L3RlZ3JhL2dyMmQuYwo+IEBAIC02Nyw3ICs2Nyw3IEBAIHN0YXRpYyBpbnQgZ3IyZF9pbml0KHN0
cnVjdCBob3N0MXhfY2xpZW50ICpjbGllbnQpCj4gIGRldGFjaDoKPiAgCWhvc3QxeF9jbGllbnRf
aW9tbXVfZGV0YWNoKGNsaWVudCk7Cj4gIGZyZWU6Cj4gLQlob3N0MXhfc3luY3B0X2ZyZWUoY2xp
ZW50LT5zeW5jcHRzWzBdKTsKPiArCWhvc3QxeF9zeW5jcHRfcHV0KGNsaWVudC0+c3luY3B0c1sw
XSk7Cj4gIHB1dDoKPiAgCWhvc3QxeF9jaGFubmVsX3B1dChncjJkLT5jaGFubmVsKTsKPiAgCXJl
dHVybiBlcnI7Cj4gQEAgLTg2LDcgKzg2LDcgQEAgc3RhdGljIGludCBncjJkX2V4aXQoc3RydWN0
IGhvc3QxeF9jbGllbnQgKmNsaWVudCkKPiAgCQlyZXR1cm4gZXJyOwo+ICAKPiAgCWhvc3QxeF9j
bGllbnRfaW9tbXVfZGV0YWNoKGNsaWVudCk7Cj4gLQlob3N0MXhfc3luY3B0X2ZyZWUoY2xpZW50
LT5zeW5jcHRzWzBdKTsKPiArCWhvc3QxeF9zeW5jcHRfcHV0KGNsaWVudC0+c3luY3B0c1swXSk7
Cj4gIAlob3N0MXhfY2hhbm5lbF9wdXQoZ3IyZC0+Y2hhbm5lbCk7Cj4gIAo+ICAJcmV0dXJuIDA7
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS90ZWdyYS9ncjNkLmMgYi9kcml2ZXJzL2dw
dS9kcm0vdGVncmEvZ3IzZC5jCj4gaW5kZXggYjBiODE1NGU4MTA0Li4yNDQ0MmFkZTBkYTMgMTAw
NjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3RlZ3JhL2dyM2QuYwo+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS90ZWdyYS9ncjNkLmMKPiBAQCAtNzYsNyArNzYsNyBAQCBzdGF0aWMgaW50IGdyM2Rf
aW5pdChzdHJ1Y3QgaG9zdDF4X2NsaWVudCAqY2xpZW50KQo+ICBkZXRhY2g6Cj4gIAlob3N0MXhf
Y2xpZW50X2lvbW11X2RldGFjaChjbGllbnQpOwo+ICBmcmVlOgo+IC0JaG9zdDF4X3N5bmNwdF9m
cmVlKGNsaWVudC0+c3luY3B0c1swXSk7Cj4gKwlob3N0MXhfc3luY3B0X3B1dChjbGllbnQtPnN5
bmNwdHNbMF0pOwo+ICBwdXQ6Cj4gIAlob3N0MXhfY2hhbm5lbF9wdXQoZ3IzZC0+Y2hhbm5lbCk7
Cj4gIAlyZXR1cm4gZXJyOwo+IEBAIC05NCw3ICs5NCw3IEBAIHN0YXRpYyBpbnQgZ3IzZF9leGl0
KHN0cnVjdCBob3N0MXhfY2xpZW50ICpjbGllbnQpCj4gIAkJcmV0dXJuIGVycjsKPiAgCj4gIAlo
b3N0MXhfY2xpZW50X2lvbW11X2RldGFjaChjbGllbnQpOwo+IC0JaG9zdDF4X3N5bmNwdF9mcmVl
KGNsaWVudC0+c3luY3B0c1swXSk7Cj4gKwlob3N0MXhfc3luY3B0X3B1dChjbGllbnQtPnN5bmNw
dHNbMF0pOwo+ICAJaG9zdDF4X2NoYW5uZWxfcHV0KGdyM2QtPmNoYW5uZWwpOwo+ICAKPiAgCXJl
dHVybiAwOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdGVncmEvdmljLmMgYi9kcml2
ZXJzL2dwdS9kcm0vdGVncmEvdmljLmMKPiBpbmRleCA3N2UxMjg4MzI5MjAuLjcyYWVhMWNjMGNm
YSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vdGVncmEvdmljLmMKPiArKysgYi9kcml2
ZXJzL2dwdS9kcm0vdGVncmEvdmljLmMKPiBAQCAtMjE0LDcgKzIxNCw3IEBAIHN0YXRpYyBpbnQg
dmljX2luaXQoc3RydWN0IGhvc3QxeF9jbGllbnQgKmNsaWVudCkKPiAgCXJldHVybiAwOwo+ICAK
PiAgZnJlZV9zeW5jcHQ6Cj4gLQlob3N0MXhfc3luY3B0X2ZyZWUoY2xpZW50LT5zeW5jcHRzWzBd
KTsKPiArCWhvc3QxeF9zeW5jcHRfcHV0KGNsaWVudC0+c3luY3B0c1swXSk7Cj4gIGZyZWVfY2hh
bm5lbDoKPiAgCWhvc3QxeF9jaGFubmVsX3B1dCh2aWMtPmNoYW5uZWwpOwo+ICBkZXRhY2g6Cj4g
QEAgLTIzOCw3ICsyMzgsNyBAQCBzdGF0aWMgaW50IHZpY19leGl0KHN0cnVjdCBob3N0MXhfY2xp
ZW50ICpjbGllbnQpCj4gIAlpZiAoZXJyIDwgMCkKPiAgCQlyZXR1cm4gZXJyOwo+ICAKPiAtCWhv
c3QxeF9zeW5jcHRfZnJlZShjbGllbnQtPnN5bmNwdHNbMF0pOwo+ICsJaG9zdDF4X3N5bmNwdF9w
dXQoY2xpZW50LT5zeW5jcHRzWzBdKTsKPiAgCWhvc3QxeF9jaGFubmVsX3B1dCh2aWMtPmNoYW5u
ZWwpOwo+ICAJaG9zdDF4X2NsaWVudF9pb21tdV9kZXRhY2goY2xpZW50KTsKPiAgCj4gZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2hvc3QxeC9jZG1hLmMgYi9kcml2ZXJzL2dwdS9ob3N0MXgvY2Rt
YS5jCj4gaW5kZXggZThkM2ZkYTkxZDhhLi42ZTZjYTc3NGY2OGQgMTAwNjQ0Cj4gLS0tIGEvZHJp
dmVycy9ncHUvaG9zdDF4L2NkbWEuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2hvc3QxeC9jZG1hLmMK
PiBAQCAtMjczLDE1ICsyNzMsMTMgQEAgc3RhdGljIGludCBob3N0MXhfY2RtYV93YWl0X3B1c2hi
dWZmZXJfc3BhY2Uoc3RydWN0IGhvc3QxeCAqaG9zdDF4LAo+ICBzdGF0aWMgdm9pZCBjZG1hX3N0
YXJ0X3RpbWVyX2xvY2tlZChzdHJ1Y3QgaG9zdDF4X2NkbWEgKmNkbWEsCj4gIAkJCQkgICAgc3Ry
dWN0IGhvc3QxeF9qb2IgKmpvYikKPiAgewo+IC0Jc3RydWN0IGhvc3QxeCAqaG9zdCA9IGNkbWFf
dG9faG9zdDF4KGNkbWEpOwo+IC0KPiAgCWlmIChjZG1hLT50aW1lb3V0LmNsaWVudCkgewo+ICAJ
CS8qIHRpbWVyIGFscmVhZHkgc3RhcnRlZCAqLwo+ICAJCXJldHVybjsKPiAgCX0KPiAgCj4gIAlj
ZG1hLT50aW1lb3V0LmNsaWVudCA9IGpvYi0+Y2xpZW50Owo+IC0JY2RtYS0+dGltZW91dC5zeW5j
cHQgPSBob3N0MXhfc3luY3B0X2dldChob3N0LCBqb2ItPnN5bmNwdF9pZCk7Cj4gKwljZG1hLT50
aW1lb3V0LnN5bmNwdCA9IGpvYi0+c3luY3B0Owo+ICAJY2RtYS0+dGltZW91dC5zeW5jcHRfdmFs
ID0gam9iLT5zeW5jcHRfZW5kOwo+ICAJY2RtYS0+dGltZW91dC5zdGFydF9rdGltZSA9IGt0aW1l
X2dldCgpOwo+ICAKPiBAQCAtMzEyLDcgKzMxMCw2IEBAIHN0YXRpYyB2b2lkIHN0b3BfY2RtYV90
aW1lcl9sb2NrZWQoc3RydWN0IGhvc3QxeF9jZG1hICpjZG1hKQo+ICBzdGF0aWMgdm9pZCB1cGRh
dGVfY2RtYV9sb2NrZWQoc3RydWN0IGhvc3QxeF9jZG1hICpjZG1hKQo+ICB7Cj4gIAlib29sIHNp
Z25hbCA9IGZhbHNlOwo+IC0Jc3RydWN0IGhvc3QxeCAqaG9zdDF4ID0gY2RtYV90b19ob3N0MXgo
Y2RtYSk7Cj4gIAlzdHJ1Y3QgaG9zdDF4X2pvYiAqam9iLCAqbjsKPiAgCj4gIAkvKiBJZiBDRE1B
IGlzIHN0b3BwZWQsIHF1ZXVlIGlzIGNsZWFyZWQgYW5kIHdlIGNhbiByZXR1cm4gKi8KPiBAQCAt
MzI0LDggKzMyMSw3IEBAIHN0YXRpYyB2b2lkIHVwZGF0ZV9jZG1hX2xvY2tlZChzdHJ1Y3QgaG9z
dDF4X2NkbWEgKmNkbWEpCj4gIAkgKiB0byBjb25zdW1lIGFzIG1hbnkgc3luYyBxdWV1ZSBlbnRy
aWVzIGFzIHBvc3NpYmxlIHdpdGhvdXQgYmxvY2tpbmcKPiAgCSAqLwo+ICAJbGlzdF9mb3JfZWFj
aF9lbnRyeV9zYWZlKGpvYiwgbiwgJmNkbWEtPnN5bmNfcXVldWUsIGxpc3QpIHsKPiAtCQlzdHJ1
Y3QgaG9zdDF4X3N5bmNwdCAqc3AgPQo+IC0JCQlob3N0MXhfc3luY3B0X2dldChob3N0MXgsIGpv
Yi0+c3luY3B0X2lkKTsKPiArCQlzdHJ1Y3QgaG9zdDF4X3N5bmNwdCAqc3AgPSBqb2ItPnN5bmNw
dDsKPiAgCj4gIAkJLyogQ2hlY2sgd2hldGhlciB0aGlzIHN5bmNwdCBoYXMgY29tcGxldGVkLCBh
bmQgYmFpbCBpZiBub3QgKi8KPiAgCQlpZiAoIWhvc3QxeF9zeW5jcHRfaXNfZXhwaXJlZChzcCwg
am9iLT5zeW5jcHRfZW5kKSkgewo+IEBAIC00OTksOCArNDk1LDcgQEAgaW50IGhvc3QxeF9jZG1h
X2JlZ2luKHN0cnVjdCBob3N0MXhfY2RtYSAqY2RtYSwgc3RydWN0IGhvc3QxeF9qb2IgKmpvYikK
PiAgCQlpZiAoIWNkbWEtPnRpbWVvdXQuaW5pdGlhbGl6ZWQpIHsKPiAgCQkJaW50IGVycjsKPiAg
Cj4gLQkJCWVyciA9IGhvc3QxeF9od19jZG1hX3RpbWVvdXRfaW5pdChob3N0MXgsIGNkbWEsCj4g
LQkJCQkJCQkgIGpvYi0+c3luY3B0X2lkKTsKPiArCQkJZXJyID0gaG9zdDF4X2h3X2NkbWFfdGlt
ZW91dF9pbml0KGhvc3QxeCwgY2RtYSk7Cj4gIAkJCWlmIChlcnIpIHsKPiAgCQkJCW11dGV4X3Vu
bG9jaygmY2RtYS0+bG9jayk7Cj4gIAkJCQlyZXR1cm4gZXJyOwo+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9ob3N0MXgvZGV2LmggYi9kcml2ZXJzL2dwdS9ob3N0MXgvZGV2LmgKPiBpbmRleCBm
NzgxYTliMGYzOWQuLjYzMDEwYWUzN2E5NyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9ob3N0
MXgvZGV2LmgKPiArKysgYi9kcml2ZXJzL2dwdS9ob3N0MXgvZGV2LmgKPiBAQCAtMzcsNyArMzcs
NyBAQCBzdHJ1Y3QgaG9zdDF4X2NkbWFfb3BzIHsKPiAgCXZvaWQgKCpzdGFydCkoc3RydWN0IGhv
c3QxeF9jZG1hICpjZG1hKTsKPiAgCXZvaWQgKCpzdG9wKShzdHJ1Y3QgaG9zdDF4X2NkbWEgKmNk
bWEpOwo+ICAJdm9pZCAoKmZsdXNoKShzdHJ1Y3QgIGhvc3QxeF9jZG1hICpjZG1hKTsKPiAtCWlu
dCAoKnRpbWVvdXRfaW5pdCkoc3RydWN0IGhvc3QxeF9jZG1hICpjZG1hLCB1bnNpZ25lZCBpbnQg
c3luY3B0KTsKPiArCWludCAoKnRpbWVvdXRfaW5pdCkoc3RydWN0IGhvc3QxeF9jZG1hICpjZG1h
KTsKPiAgCXZvaWQgKCp0aW1lb3V0X2Rlc3Ryb3kpKHN0cnVjdCBob3N0MXhfY2RtYSAqY2RtYSk7
Cj4gIAl2b2lkICgqZnJlZXplKShzdHJ1Y3QgaG9zdDF4X2NkbWEgKmNkbWEpOwo+ICAJdm9pZCAo
KnJlc3VtZSkoc3RydWN0IGhvc3QxeF9jZG1hICpjZG1hLCB1MzIgZ2V0cHRyKTsKPiBAQCAtMjYx
LDEwICsyNjEsOSBAQCBzdGF0aWMgaW5saW5lIHZvaWQgaG9zdDF4X2h3X2NkbWFfZmx1c2goc3Ry
dWN0IGhvc3QxeCAqaG9zdCwKPiAgfQo+ICAKPiAgc3RhdGljIGlubGluZSBpbnQgaG9zdDF4X2h3
X2NkbWFfdGltZW91dF9pbml0KHN0cnVjdCBob3N0MXggKmhvc3QsCj4gLQkJCQkJICAgICAgc3Ry
dWN0IGhvc3QxeF9jZG1hICpjZG1hLAo+IC0JCQkJCSAgICAgIHVuc2lnbmVkIGludCBzeW5jcHQp
Cj4gKwkJCQkJICAgICAgc3RydWN0IGhvc3QxeF9jZG1hICpjZG1hKQo+ICB7Cj4gLQlyZXR1cm4g
aG9zdC0+Y2RtYV9vcC0+dGltZW91dF9pbml0KGNkbWEsIHN5bmNwdCk7Cj4gKwlyZXR1cm4gaG9z
dC0+Y2RtYV9vcC0+dGltZW91dF9pbml0KGNkbWEpOwo+ICB9Cj4gIAo+ICBzdGF0aWMgaW5saW5l
IHZvaWQgaG9zdDF4X2h3X2NkbWFfdGltZW91dF9kZXN0cm95KHN0cnVjdCBob3N0MXggKmhvc3Qs
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2hvc3QxeC9ody9jZG1hX2h3LmMgYi9kcml2ZXJz
L2dwdS9ob3N0MXgvaHcvY2RtYV9ody5jCj4gaW5kZXggMmYzYmY5NGNmMzY1Li5lNDljZDViOGY3
MzUgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvaG9zdDF4L2h3L2NkbWFfaHcuYwo+ICsrKyBi
L2RyaXZlcnMvZ3B1L2hvc3QxeC9ody9jZG1hX2h3LmMKPiBAQCAtMjk1LDcgKzI5NSw3IEBAIHN0
YXRpYyB2b2lkIGNkbWFfdGltZW91dF9oYW5kbGVyKHN0cnVjdCB3b3JrX3N0cnVjdCAqd29yaykK
PiAgLyoKPiAgICogSW5pdCB0aW1lb3V0IHJlc291cmNlcwo+ICAgKi8KPiAtc3RhdGljIGludCBj
ZG1hX3RpbWVvdXRfaW5pdChzdHJ1Y3QgaG9zdDF4X2NkbWEgKmNkbWEsIHVuc2lnbmVkIGludCBz
eW5jcHQpCj4gK3N0YXRpYyBpbnQgY2RtYV90aW1lb3V0X2luaXQoc3RydWN0IGhvc3QxeF9jZG1h
ICpjZG1hKQo+ICB7Cj4gIAlJTklUX0RFTEFZRURfV09SSygmY2RtYS0+dGltZW91dC53cSwgY2Rt
YV90aW1lb3V0X2hhbmRsZXIpOwo+ICAJY2RtYS0+dGltZW91dC5pbml0aWFsaXplZCA9IHRydWU7
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2hvc3QxeC9ody9jaGFubmVsX2h3LmMgYi9kcml2
ZXJzL2dwdS9ob3N0MXgvaHcvY2hhbm5lbF9ody5jCj4gaW5kZXggNWVhYTI5ZDE3MWM5Li5kNGMy
OGZhZjI3ZDEgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvaG9zdDF4L2h3L2NoYW5uZWxfaHcu
Ywo+ICsrKyBiL2RyaXZlcnMvZ3B1L2hvc3QxeC9ody9jaGFubmVsX2h3LmMKPiBAQCAtODYsOCAr
ODYsNyBAQCBzdGF0aWMgdm9pZCBzdWJtaXRfZ2F0aGVycyhzdHJ1Y3QgaG9zdDF4X2pvYiAqam9i
KQo+ICAKPiAgc3RhdGljIGlubGluZSB2b2lkIHN5bmNocm9uaXplX3N5bmNwdF9iYXNlKHN0cnVj
dCBob3N0MXhfam9iICpqb2IpCj4gIHsKPiAtCXN0cnVjdCBob3N0MXggKmhvc3QgPSBkZXZfZ2V0
X2RydmRhdGEoam9iLT5jaGFubmVsLT5kZXYtPnBhcmVudCk7Cj4gLQlzdHJ1Y3QgaG9zdDF4X3N5
bmNwdCAqc3AgPSBob3N0LT5zeW5jcHQgKyBqb2ItPnN5bmNwdF9pZDsKPiArCXN0cnVjdCBob3N0
MXhfc3luY3B0ICpzcCA9IGpvYi0+c3luY3B0Owo+ICAJdW5zaWduZWQgaW50IGlkOwo+ICAJdTMy
IHZhbHVlOwo+ICAKPiBAQCAtMTE4LDcgKzExNyw3IEBAIHN0YXRpYyB2b2lkIGhvc3QxeF9jaGFu
bmVsX3NldF9zdHJlYW1pZChzdHJ1Y3QgaG9zdDF4X2NoYW5uZWwgKmNoYW5uZWwpCj4gIHN0YXRp
YyBpbnQgY2hhbm5lbF9zdWJtaXQoc3RydWN0IGhvc3QxeF9qb2IgKmpvYikKPiAgewo+ICAJc3Ry
dWN0IGhvc3QxeF9jaGFubmVsICpjaCA9IGpvYi0+Y2hhbm5lbDsKPiAtCXN0cnVjdCBob3N0MXhf
c3luY3B0ICpzcDsKPiArCXN0cnVjdCBob3N0MXhfc3luY3B0ICpzcCA9IGpvYi0+c3luY3B0Owo+
ICAJdTMyIHVzZXJfc3luY3B0X2luY3JzID0gam9iLT5zeW5jcHRfaW5jcnM7Cj4gIAl1MzIgcHJl
dl9tYXggPSAwOwo+ICAJdTMyIHN5bmN2YWw7Cj4gQEAgLTEyNiwxMCArMTI1LDkgQEAgc3RhdGlj
IGludCBjaGFubmVsX3N1Ym1pdChzdHJ1Y3QgaG9zdDF4X2pvYiAqam9iKQo+ICAJc3RydWN0IGhv
c3QxeF93YWl0bGlzdCAqY29tcGxldGVkX3dhaXRlciA9IE5VTEw7Cj4gIAlzdHJ1Y3QgaG9zdDF4
ICpob3N0ID0gZGV2X2dldF9kcnZkYXRhKGNoLT5kZXYtPnBhcmVudCk7Cj4gIAo+IC0Jc3AgPSBo
b3N0LT5zeW5jcHQgKyBqb2ItPnN5bmNwdF9pZDsKPiAgCXRyYWNlX2hvc3QxeF9jaGFubmVsX3N1
Ym1pdChkZXZfbmFtZShjaC0+ZGV2KSwKPiAgCQkJCSAgICBqb2ItPm51bV9nYXRoZXJzLCBqb2It
Pm51bV9yZWxvY3MsCj4gLQkJCQkgICAgam9iLT5zeW5jcHRfaWQsIGpvYi0+c3luY3B0X2luY3Jz
KTsKPiArCQkJCSAgICBqb2ItPnN5bmNwdC0+aWQsIGpvYi0+c3luY3B0X2luY3JzKTsKPiAgCj4g
IAkvKiBiZWZvcmUgZXJyb3IgY2hlY2tzLCByZXR1cm4gY3VycmVudCBtYXggKi8KPiAgCXByZXZf
bWF4ID0gam9iLT5zeW5jcHRfZW5kID0gaG9zdDF4X3N5bmNwdF9yZWFkX21heChzcCk7Cj4gQEAg
LTE2Myw3ICsxNjEsNyBAQCBzdGF0aWMgaW50IGNoYW5uZWxfc3VibWl0KHN0cnVjdCBob3N0MXhf
am9iICpqb2IpCj4gIAkJaG9zdDF4X2NkbWFfcHVzaCgmY2gtPmNkbWEsCj4gIAkJCQkgaG9zdDF4
X29wY29kZV9zZXRjbGFzcyhIT1NUMVhfQ0xBU1NfSE9TVDFYLAo+ICAJCQkJCWhvc3QxeF91Y2xh
c3Nfd2FpdF9zeW5jcHRfcigpLCAxKSwKPiAtCQkJCSBob3N0MXhfY2xhc3NfaG9zdF93YWl0X3N5
bmNwdChqb2ItPnN5bmNwdF9pZCwKPiArCQkJCSBob3N0MXhfY2xhc3NfaG9zdF93YWl0X3N5bmNw
dChqb2ItPnN5bmNwdC0+aWQsCj4gIAkJCQkJaG9zdDF4X3N5bmNwdF9yZWFkX21heChzcCkpKTsK
PiAgCX0KPiAgCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2hvc3QxeC9ody9kZWJ1Z19ody5j
IGIvZHJpdmVycy9ncHUvaG9zdDF4L2h3L2RlYnVnX2h3LmMKPiBpbmRleCBmMzFiY2ZhMWI4Mzcu
LmNlYjQ4MjI5ZDE0YiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9ob3N0MXgvaHcvZGVidWdf
aHcuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2hvc3QxeC9ody9kZWJ1Z19ody5jCj4gQEAgLTIwNCw3
ICsyMDQsNyBAQCBzdGF0aWMgdm9pZCBzaG93X2NoYW5uZWxfZ2F0aGVycyhzdHJ1Y3Qgb3V0cHV0
ICpvLCBzdHJ1Y3QgaG9zdDF4X2NkbWEgKmNkbWEpCj4gIAkJdW5zaWduZWQgaW50IGk7Cj4gIAo+
ICAJCWhvc3QxeF9kZWJ1Z19vdXRwdXQobywgIlxuJXA6IEpPQiwgc3luY3B0X2lkPSVkLCBzeW5j
cHRfdmFsPSVkLCBmaXJzdF9nZXQ9JTA4eCwgdGltZW91dD0lZCBudW1fc2xvdHM9JWQsIG51bV9o
YW5kbGVzPSVkXG4iLAo+IC0JCQkJICAgIGpvYiwgam9iLT5zeW5jcHRfaWQsIGpvYi0+c3luY3B0
X2VuZCwKPiArCQkJCSAgICBqb2IsIGpvYi0+c3luY3B0LT5pZCwgam9iLT5zeW5jcHRfZW5kLAo+
ICAJCQkJICAgIGpvYi0+Zmlyc3RfZ2V0LCBqb2ItPnRpbWVvdXQsCj4gIAkJCQkgICAgam9iLT5u
dW1fc2xvdHMsIGpvYi0+bnVtX3VucGlucyk7Cj4gIAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9ob3N0MXgvam9iLmMgYi9kcml2ZXJzL2dwdS9ob3N0MXgvam9iLmMKPiBpbmRleCA4MmQwYTYw
YmEzZjcuLmFkYmRjMjI1ZGU4ZCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9ob3N0MXgvam9i
LmMKPiArKysgYi9kcml2ZXJzL2dwdS9ob3N0MXgvam9iLmMKPiBAQCAtNzksNiArNzksOSBAQCBz
dGF0aWMgdm9pZCBqb2JfZnJlZShzdHJ1Y3Qga3JlZiAqcmVmKQo+ICB7Cj4gIAlzdHJ1Y3QgaG9z
dDF4X2pvYiAqam9iID0gY29udGFpbmVyX29mKHJlZiwgc3RydWN0IGhvc3QxeF9qb2IsIHJlZik7
Cj4gIAo+ICsJaWYgKGpvYi0+c3luY3B0KQo+ICsJCWhvc3QxeF9zeW5jcHRfcHV0KGpvYi0+c3lu
Y3B0KTsKPiArCj4gIAlrZnJlZShqb2IpOwo+ICB9Cj4gIAo+IEBAIC02NzQsNyArNjc3LDcgQEAg
RVhQT1JUX1NZTUJPTChob3N0MXhfam9iX3VucGluKTsKPiAgICovCj4gIHZvaWQgaG9zdDF4X2pv
Yl9kdW1wKHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGhvc3QxeF9qb2IgKmpvYikKPiAgewo+
IC0JZGV2X2RiZyhkZXYsICIgICAgU1lOQ1BUX0lEICAgJWRcbiIsIGpvYi0+c3luY3B0X2lkKTsK
PiArCWRldl9kYmcoZGV2LCAiICAgIFNZTkNQVF9JRCAgICVkXG4iLCBqb2ItPnN5bmNwdC0+aWQp
Owo+ICAJZGV2X2RiZyhkZXYsICIgICAgU1lOQ1BUX1ZBTCAgJWRcbiIsIGpvYi0+c3luY3B0X2Vu
ZCk7Cj4gIAlkZXZfZGJnKGRldiwgIiAgICBGSVJTVF9HRVQgICAweCV4XG4iLCBqb2ItPmZpcnN0
X2dldCk7Cj4gIAlkZXZfZGJnKGRldiwgIiAgICBUSU1FT1VUICAgICAlZFxuIiwgam9iLT50aW1l
b3V0KTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvaG9zdDF4L3N5bmNwdC5jIGIvZHJpdmVy
cy9ncHUvaG9zdDF4L3N5bmNwdC5jCj4gaW5kZXggOGRhNGJiY2U4YjlkLi43YmI1ZGU4YzNkNjMg
MTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvaG9zdDF4L3N5bmNwdC5jCj4gKysrIGIvZHJpdmVy
cy9ncHUvaG9zdDF4L3N5bmNwdC5jCj4gQEAgLTkwLDYgKzkwLDggQEAgc3RydWN0IGhvc3QxeF9z
eW5jcHQgKmhvc3QxeF9zeW5jcHRfYWxsb2Moc3RydWN0IGhvc3QxeCAqaG9zdCwKPiAgCWVsc2UK
PiAgCQlzcC0+Y2xpZW50X21hbmFnZWQgPSBmYWxzZTsKPiAgCj4gKwlrcmVmX2luaXQoJnNwLT5y
ZWYpOwo+ICsKPiAgCW11dGV4X3VubG9jaygmaG9zdC0+c3luY3B0X211dGV4KTsKPiAgCXJldHVy
biBzcDsKPiAgCj4gQEAgLTM4Myw3ICszODUsNyBAQCBpbnQgaG9zdDF4X3N5bmNwdF9pbml0KHN0
cnVjdCBob3N0MXggKmhvc3QpCj4gICAqIGhvc3QxeCBjbGllbnQgZHJpdmVycyBjYW4gdXNlIHRo
aXMgZnVuY3Rpb24gdG8gYWxsb2NhdGUgYSBzeW5jcG9pbnQgZm9yCj4gICAqIHN1YnNlcXVlbnQg
dXNlLiBBIHN5bmNwb2ludCByZXR1cm5lZCBieSB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgcmVzZXJ2
ZWQgZm9yCj4gICAqIHVzZSBieSB0aGUgY2xpZW50IGV4Y2x1c2l2ZWx5LiBXaGVuIG5vIGxvbmdl
ciB1c2luZyBhIHN5bmNwb2ludCwgYSBob3N0MXgKPiAtICogY2xpZW50IGRyaXZlciBuZWVkcyB0
byByZWxlYXNlIGl0IHVzaW5nIGhvc3QxeF9zeW5jcHRfZnJlZSgpLgo+ICsgKiBjbGllbnQgZHJp
dmVyIG5lZWRzIHRvIHJlbGVhc2UgaXQgdXNpbmcgaG9zdDF4X3N5bmNwdF9wdXQoKS4KPiAgICov
Cj4gIHN0cnVjdCBob3N0MXhfc3luY3B0ICpob3N0MXhfc3luY3B0X3JlcXVlc3Qoc3RydWN0IGhv
c3QxeF9jbGllbnQgKmNsaWVudCwKPiAgCQkJCQkgICAgdW5zaWduZWQgbG9uZyBmbGFncykKPiBA
QCAtMzk0LDIwICszOTYsOSBAQCBzdHJ1Y3QgaG9zdDF4X3N5bmNwdCAqaG9zdDF4X3N5bmNwdF9y
ZXF1ZXN0KHN0cnVjdCBob3N0MXhfY2xpZW50ICpjbGllbnQsCj4gIH0KPiAgRVhQT1JUX1NZTUJP
TChob3N0MXhfc3luY3B0X3JlcXVlc3QpOwo+ICAKPiAtLyoqCj4gLSAqIGhvc3QxeF9zeW5jcHRf
ZnJlZSgpIC0gZnJlZSBhIHJlcXVlc3RlZCBzeW5jcG9pbnQKPiAtICogQHNwOiBob3N0MXggc3lu
Y3BvaW50Cj4gLSAqCj4gLSAqIFJlbGVhc2UgYSBzeW5jcG9pbnQgcHJldmlvdXNseSBhbGxvY2F0
ZWQgdXNpbmcgaG9zdDF4X3N5bmNwdF9yZXF1ZXN0KCkuIEEKPiAtICogaG9zdDF4IGNsaWVudCBk
cml2ZXIgc2hvdWxkIGNhbGwgdGhpcyB3aGVuIHRoZSBzeW5jcG9pbnQgaXMgbm8gbG9uZ2VyIGlu
Cj4gLSAqIHVzZS4gTm90ZSB0aGF0IGNsaWVudCBkcml2ZXJzIG11c3QgZW5zdXJlIHRoYXQgdGhl
IHN5bmNwb2ludCBkb2Vzbid0IHJlbWFpbgo+IC0gKiB1bmRlciB0aGUgY29udHJvbCBvZiBoYXJk
d2FyZSBhZnRlciBjYWxsaW5nIHRoaXMgZnVuY3Rpb24sIG90aGVyd2lzZSB0d28KPiAtICogY2xp
ZW50cyBtYXkgZW5kIHVwIHRyeWluZyB0byBhY2Nlc3MgdGhlIHNhbWUgc3luY3BvaW50IGNvbmN1
cnJlbnRseS4KPiAtICovCj4gLXZvaWQgaG9zdDF4X3N5bmNwdF9mcmVlKHN0cnVjdCBob3N0MXhf
c3luY3B0ICpzcCkKPiArc3RhdGljIHZvaWQgc3luY3B0X3JlbGVhc2Uoc3RydWN0IGtyZWYgKnJl
ZikKPiAgewo+IC0JaWYgKCFzcCkKPiAtCQlyZXR1cm47Cj4gKwlzdHJ1Y3QgaG9zdDF4X3N5bmNw
dCAqc3AgPSBjb250YWluZXJfb2YocmVmLCBzdHJ1Y3QgaG9zdDF4X3N5bmNwdCwgcmVmKTsKPiAg
Cj4gIAltdXRleF9sb2NrKCZzcC0+aG9zdC0+c3luY3B0X211dGV4KTsKPiAgCj4gQEAgLTQxOSw3
ICs0MTAsMjMgQEAgdm9pZCBob3N0MXhfc3luY3B0X2ZyZWUoc3RydWN0IGhvc3QxeF9zeW5jcHQg
KnNwKQo+ICAKPiAgCW11dGV4X3VubG9jaygmc3AtPmhvc3QtPnN5bmNwdF9tdXRleCk7Cj4gIH0K
PiAtRVhQT1JUX1NZTUJPTChob3N0MXhfc3luY3B0X2ZyZWUpOwo+ICsKPiArLyoqCj4gKyAqIGhv
c3QxeF9zeW5jcHRfcHV0KCkgLSBmcmVlIGEgcmVxdWVzdGVkIHN5bmNwb2ludAo+ICsgKiBAc3A6
IGhvc3QxeCBzeW5jcG9pbnQKPiArICoKPiArICogUmVsZWFzZSBhIHN5bmNwb2ludCBwcmV2aW91
c2x5IGFsbG9jYXRlZCB1c2luZyBob3N0MXhfc3luY3B0X3JlcXVlc3QoKS4gQQo+ICsgKiBob3N0
MXggY2xpZW50IGRyaXZlciBzaG91bGQgY2FsbCB0aGlzIHdoZW4gdGhlIHN5bmNwb2ludCBpcyBu
byBsb25nZXIgaW4KPiArICogdXNlLgo+ICsgKi8KPiArdm9pZCBob3N0MXhfc3luY3B0X3B1dChz
dHJ1Y3QgaG9zdDF4X3N5bmNwdCAqc3ApCj4gK3sKPiArCWlmICghc3ApCj4gKwkJcmV0dXJuOwo+
ICsKPiArCWtyZWZfcHV0KCZzcC0+cmVmLCBzeW5jcHRfcmVsZWFzZSk7Cj4gK30KPiArRVhQT1JU
X1NZTUJPTChob3N0MXhfc3luY3B0X3B1dCk7Cj4gIAo+ICB2b2lkIGhvc3QxeF9zeW5jcHRfZGVp
bml0KHN0cnVjdCBob3N0MXggKmhvc3QpCj4gIHsKPiBAQCAtNDg2LDE2ICs0OTMsNDggQEAgdW5z
aWduZWQgaW50IGhvc3QxeF9zeW5jcHRfbmJfbWxvY2tzKHN0cnVjdCBob3N0MXggKmhvc3QpCj4g
IH0KPiAgCj4gIC8qKgo+IC0gKiBob3N0MXhfc3luY3B0X2dldCgpIC0gb2J0YWluIGEgc3luY3Bv
aW50IGJ5IElECj4gKyAqIGhvc3QxeF9zeW5jcHRfZ2V0X2J5X2lkKCkgLSBvYnRhaW4gYSBzeW5j
cG9pbnQgYnkgSUQKPiArICogQGhvc3Q6IGhvc3QxeCBjb250cm9sbGVyCj4gKyAqIEBpZDogc3lu
Y3BvaW50IElECj4gKyAqLwo+ICtzdHJ1Y3QgaG9zdDF4X3N5bmNwdCAqaG9zdDF4X3N5bmNwdF9n
ZXRfYnlfaWQoc3RydWN0IGhvc3QxeCAqaG9zdCwKPiArCQkJCQkgICAgICB1bnNpZ25lZCBpbnQg
aWQpCj4gK3sKPiArCWlmIChpZCA+PSBob3N0LT5pbmZvLT5uYl9wdHMpCj4gKwkJcmV0dXJuIE5V
TEw7Cj4gKwo+ICsJaWYgKGtyZWZfZ2V0X3VubGVzc196ZXJvKCZob3N0LT5zeW5jcHRbaWRdLnJl
ZikpCj4gKwkJcmV0dXJuICZob3N0LT5zeW5jcHRbaWRdOwo+ICsJZWxzZQo+ICsJCXJldHVybiBO
VUxMOwo+ICt9Cj4gK0VYUE9SVF9TWU1CT0woaG9zdDF4X3N5bmNwdF9nZXRfYnlfaWQpOwo+ICsK
PiArLyoqCj4gKyAqIGhvc3QxeF9zeW5jcHRfZ2V0X2J5X2lkX25vcmVmKCkgLSBvYnRhaW4gYSBz
eW5jcG9pbnQgYnkgSUQgYnV0IGRvbid0Cj4gKyAqIAlpbmNyZWFzZSB0aGUgcmVmY291bnQuCj4g
ICAqIEBob3N0OiBob3N0MXggY29udHJvbGxlcgo+ICAgKiBAaWQ6IHN5bmNwb2ludCBJRAo+ICAg
Ki8KPiAtc3RydWN0IGhvc3QxeF9zeW5jcHQgKmhvc3QxeF9zeW5jcHRfZ2V0KHN0cnVjdCBob3N0
MXggKmhvc3QsIHVuc2lnbmVkIGludCBpZCkKPiArc3RydWN0IGhvc3QxeF9zeW5jcHQgKmhvc3Qx
eF9zeW5jcHRfZ2V0X2J5X2lkX25vcmVmKHN0cnVjdCBob3N0MXggKmhvc3QsCj4gKwkJCQkJCSAg
ICB1bnNpZ25lZCBpbnQgaWQpCj4gIHsKPiAgCWlmIChpZCA+PSBob3N0LT5pbmZvLT5uYl9wdHMp
Cj4gIAkJcmV0dXJuIE5VTEw7Cj4gIAo+IC0JcmV0dXJuIGhvc3QtPnN5bmNwdCArIGlkOwo+ICsJ
cmV0dXJuICZob3N0LT5zeW5jcHRbaWRdOwo+ICt9Cj4gK0VYUE9SVF9TWU1CT0woaG9zdDF4X3N5
bmNwdF9nZXRfYnlfaWRfbm9yZWYpOwo+ICsKPiArLyoqCj4gKyAqIGhvc3QxeF9zeW5jcHRfZ2V0
KCkgLSBpbmNyZW1lbnQgc3luY3BvaW50IHJlZmNvdW50Cj4gKyAqIEBzcDogc3luY3BvaW50Cj4g
KyAqLwo+ICtzdHJ1Y3QgaG9zdDF4X3N5bmNwdCAqaG9zdDF4X3N5bmNwdF9nZXQoc3RydWN0IGhv
c3QxeF9zeW5jcHQgKnNwKQo+ICt7Cj4gKwlrcmVmX2dldCgmc3AtPnJlZik7Cj4gKwo+ICsJcmV0
dXJuIHNwOwo+ICB9Cj4gIEVYUE9SVF9TWU1CT0woaG9zdDF4X3N5bmNwdF9nZXQpOwo+ICAKPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvaG9zdDF4L3N5bmNwdC5oIGIvZHJpdmVycy9ncHUvaG9z
dDF4L3N5bmNwdC5oCj4gaW5kZXggM2FhNmIyNWIxYjljLi5hNjc2NmY4ZDU1ZWUgMTAwNjQ0Cj4g
LS0tIGEvZHJpdmVycy9ncHUvaG9zdDF4L3N5bmNwdC5oCj4gKysrIGIvZHJpdmVycy9ncHUvaG9z
dDF4L3N5bmNwdC5oCj4gQEAgLTExLDYgKzExLDcgQEAKPiAgI2luY2x1ZGUgPGxpbnV4L2F0b21p
Yy5oPgo+ICAjaW5jbHVkZSA8bGludXgvaG9zdDF4Lmg+Cj4gICNpbmNsdWRlIDxsaW51eC9rZXJu
ZWwuaD4KPiArI2luY2x1ZGUgPGxpbnV4L2tyZWYuaD4KPiAgI2luY2x1ZGUgPGxpbnV4L3NjaGVk
Lmg+Cj4gIAo+ICAjaW5jbHVkZSAiaW50ci5oIgo+IEBAIC0yNiw2ICsyNyw4IEBAIHN0cnVjdCBo
b3N0MXhfc3luY3B0X2Jhc2Ugewo+ICB9Owo+ICAKPiAgc3RydWN0IGhvc3QxeF9zeW5jcHQgewo+
ICsJc3RydWN0IGtyZWYgcmVmOwo+ICsKPiAgCXVuc2lnbmVkIGludCBpZDsKPiAgCWF0b21pY190
IG1pbl92YWw7Cj4gIAlhdG9taWNfdCBtYXhfdmFsOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3N0
YWdpbmcvbWVkaWEvdGVncmEtdmlkZW8vdmkuYyBiL2RyaXZlcnMvc3RhZ2luZy9tZWRpYS90ZWdy
YS12aWRlby92aS5jCj4gaW5kZXggN2EwOTA2MWNkYTU3Li43ZTBjYjU1MjliNDkgMTAwNjQ0Cj4g
LS0tIGEvZHJpdmVycy9zdGFnaW5nL21lZGlhL3RlZ3JhLXZpZGVvL3ZpLmMKPiArKysgYi9kcml2
ZXJzL3N0YWdpbmcvbWVkaWEvdGVncmEtdmlkZW8vdmkuYwo+IEBAIC0xMTMxLDggKzExMzEsOCBA
QCBzdGF0aWMgdm9pZCB0ZWdyYV9jaGFubmVsX2hvc3QxeF9zeW5jcHRzX2ZyZWUoc3RydWN0IHRl
Z3JhX3ZpX2NoYW5uZWwgKmNoYW4pCj4gIAlpbnQgaTsKPiAgCj4gIAlmb3IgKGkgPSAwOyBpIDwg
Y2hhbi0+bnVtZ2FuZ3BvcnRzOyBpKyspIHsKPiAtCQlob3N0MXhfc3luY3B0X2ZyZWUoY2hhbi0+
bXdfYWNrX3NwW2ldKTsKPiAtCQlob3N0MXhfc3luY3B0X2ZyZWUoY2hhbi0+ZnJhbWVfc3RhcnRf
c3BbaV0pOwo+ICsJCWhvc3QxeF9zeW5jcHRfcHV0KGNoYW4tPm13X2Fja19zcFtpXSk7Cj4gKwkJ
aG9zdDF4X3N5bmNwdF9wdXQoY2hhbi0+ZnJhbWVfc3RhcnRfc3BbaV0pOwo+ICAJfQo+ICB9Cj4g
IAo+IGRpZmYgLS1naXQgYS9pbmNsdWRlL2xpbnV4L2hvc3QxeC5oIGIvaW5jbHVkZS9saW51eC9o
b3N0MXguaAo+IGluZGV4IDcxMzdjZTBlMzVkNC4uMTA3YWVhMjliY2NiIDEwMDY0NAo+IC0tLSBh
L2luY2x1ZGUvbGludXgvaG9zdDF4LmgKPiArKysgYi9pbmNsdWRlL2xpbnV4L2hvc3QxeC5oCj4g
QEAgLTE0Miw3ICsxNDIsOSBAQCBzdHJ1Y3QgaG9zdDF4X3N5bmNwdF9iYXNlOwo+ICBzdHJ1Y3Qg
aG9zdDF4X3N5bmNwdDsKPiAgc3RydWN0IGhvc3QxeDsKPiAgCj4gLXN0cnVjdCBob3N0MXhfc3lu
Y3B0ICpob3N0MXhfc3luY3B0X2dldChzdHJ1Y3QgaG9zdDF4ICpob3N0LCB1MzIgaWQpOwo+ICtz
dHJ1Y3QgaG9zdDF4X3N5bmNwdCAqaG9zdDF4X3N5bmNwdF9nZXRfYnlfaWQoc3RydWN0IGhvc3Qx
eCAqaG9zdCwgdTMyIGlkKTsKPiArc3RydWN0IGhvc3QxeF9zeW5jcHQgKmhvc3QxeF9zeW5jcHRf
Z2V0X2J5X2lkX25vcmVmKHN0cnVjdCBob3N0MXggKmhvc3QsIHUzMiBpZCk7Cj4gK3N0cnVjdCBo
b3N0MXhfc3luY3B0ICpob3N0MXhfc3luY3B0X2dldChzdHJ1Y3QgaG9zdDF4X3N5bmNwdCAqc3Ap
Owo+ICB1MzIgaG9zdDF4X3N5bmNwdF9pZChzdHJ1Y3QgaG9zdDF4X3N5bmNwdCAqc3ApOwo+ICB1
MzIgaG9zdDF4X3N5bmNwdF9yZWFkX21pbihzdHJ1Y3QgaG9zdDF4X3N5bmNwdCAqc3ApOwo+ICB1
MzIgaG9zdDF4X3N5bmNwdF9yZWFkX21heChzdHJ1Y3QgaG9zdDF4X3N5bmNwdCAqc3ApOwo+IEBA
IC0xNTMsNyArMTU1LDcgQEAgaW50IGhvc3QxeF9zeW5jcHRfd2FpdChzdHJ1Y3QgaG9zdDF4X3N5
bmNwdCAqc3AsIHUzMiB0aHJlc2gsIGxvbmcgdGltZW91dCwKPiAgCQkgICAgICAgdTMyICp2YWx1
ZSk7Cj4gIHN0cnVjdCBob3N0MXhfc3luY3B0ICpob3N0MXhfc3luY3B0X3JlcXVlc3Qoc3RydWN0
IGhvc3QxeF9jbGllbnQgKmNsaWVudCwKPiAgCQkJCQkgICAgdW5zaWduZWQgbG9uZyBmbGFncyk7
Cj4gLXZvaWQgaG9zdDF4X3N5bmNwdF9mcmVlKHN0cnVjdCBob3N0MXhfc3luY3B0ICpzcCk7Cj4g
K3ZvaWQgaG9zdDF4X3N5bmNwdF9wdXQoc3RydWN0IGhvc3QxeF9zeW5jcHQgKnNwKTsKPiAgc3Ry
dWN0IGhvc3QxeF9zeW5jcHQgKmhvc3QxeF9zeW5jcHRfYWxsb2Moc3RydWN0IGhvc3QxeCAqaG9z
dCwKPiAgCQkJCQkgIHVuc2lnbmVkIGxvbmcgZmxhZ3MsCj4gIAkJCQkJICBjb25zdCBjaGFyICpu
YW1lKTsKPiBAQCAtMjIxLDcgKzIyMyw3IEBAIHN0cnVjdCBob3N0MXhfam9iIHsKPiAgCWRtYV9h
ZGRyX3QgKnJlbG9jX2FkZHJfcGh5czsKPiAgCj4gIAkvKiBTeW5jIHBvaW50IGlkLCBudW1iZXIg
b2YgaW5jcmVtZW50cyBhbmQgZW5kIHJlbGF0ZWQgdG8gdGhlIHN1Ym1pdCAqLwo+IC0JdTMyIHN5
bmNwdF9pZDsKPiArCXN0cnVjdCBob3N0MXhfc3luY3B0ICpzeW5jcHQ7Cj4gIAl1MzIgc3luY3B0
X2luY3JzOwo+ICAJdTMyIHN5bmNwdF9lbmQ7Cj4gIAo+IAoKVGVzdGVkLWJ5OiBEbWl0cnkgT3Np
cGVua28gPGRpZ2V0eEBnbWFpbC5jb20+Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZy
ZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3Rp
bmZvL2RyaS1kZXZlbAo=
