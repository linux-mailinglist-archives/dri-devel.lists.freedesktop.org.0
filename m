Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 62A3641CE8
	for <lists+dri-devel@lfdr.de>; Wed, 12 Jun 2019 08:56:02 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 896DC892EA;
	Wed, 12 Jun 2019 06:54:36 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-pf1-x443.google.com (mail-pf1-x443.google.com
 [IPv6:2607:f8b0:4864:20::443])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A9B2F891E2;
 Tue, 11 Jun 2019 18:54:06 +0000 (UTC)
Received: by mail-pf1-x443.google.com with SMTP id j2so8000730pfe.6;
 Tue, 11 Jun 2019 11:54:06 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id;
 bh=a7exgUE5+Ckf3spJswr8NPh9kkurBJIWw8+JyBM57Bg=;
 b=LfrCrs1X2FdHtxwBLJk2f3KQro1+o5dbLYSFLkGgzd5WANOKRtmgqIe+V5OU0NSHHA
 cwuOzNcKLm3P9qrq5kv+II7cX4VxYFafkHMhZ0lZUZPFubBPBxd1TdlpPB46olebql5R
 ESot0nlwVDZ7Ss96MUP1HKDZp8jYHazMW1tXxt4ij5WW29V5Bq9T4CwtM6GmW7D+biNe
 n6387Qz4pB2chg8t4C1CBZMdQjnuzhBAtn4WQM1LuUFVjRoqLUUvlDUELF+pZCoPCBqu
 d0lBhZmNRnMSZKM/pQYEfaOsBDjz2dK7islk08JvnRzyVRo2pdsM7v3gdwgtag0mk38H
 FbKA==
X-Gm-Message-State: APjAAAU+qaHNNg0fvscUhB9177paE7NRNJS3NvYYhqXGSqH8jSqykYy3
 NpYmdgg7+dVk8EGFpualiMY=
X-Google-Smtp-Source: APXvYqwiJfJu4q93VVguhNyBehPxtLl/ema3O5noveVF2dTXAassYTIjDhc3MS9S0kfeHQ1RL+VGAg==
X-Received: by 2002:a63:cc4b:: with SMTP id q11mr21654448pgi.43.1560279245552; 
 Tue, 11 Jun 2019 11:54:05 -0700 (PDT)
Received: from aw-bldr-10.qualcomm.com (i-global254.qualcomm.com.
 [199.106.103.254])
 by smtp.gmail.com with ESMTPSA id q36sm5035650pgl.23.2019.06.11.11.54.03
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Tue, 11 Jun 2019 11:54:04 -0700 (PDT)
From: Jeffrey Hugo <jeffrey.l.hugo@gmail.com>
To: robdclark@gmail.com, sean@poorly.run, airlied@linux.ie, daniel@ffwll.ch,
 jcrouse@codeaurora.org
Subject: [PATCH v3] drm/msm/adreno: Add A540 support
Date: Tue, 11 Jun 2019 11:54:00 -0700
Message-Id: <20190611185400.14463-1-jeffrey.l.hugo@gmail.com>
X-Mailer: git-send-email 2.17.1
X-Mailman-Approved-At: Wed, 12 Jun 2019 06:53:41 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id;
 bh=a7exgUE5+Ckf3spJswr8NPh9kkurBJIWw8+JyBM57Bg=;
 b=JpO4Wc35TOtuwRp96cQR2I20vODDt1roNJRNK+3lQPzX5IDIpBEnBaVO5l3z07YRCf
 eCsCaHHZ+eOyHp7i1/l3RPLvOeO6pDWipFCEyzih1SqfRQuIbPyEEn/JSa5C5Wr06OuX
 Xa96cn/KDbC2XrHq8ZPV14dzI/h02R7zdFvlDiua7EkphOwzRyxfeSFO6pIR4mvNS2S4
 1aNImpmbclp3HbbTzH2oaP3h5eurGZsWKmlYI8/8BBD5xn1YuPo4RHWhvfTm4kFvtEkA
 5S311GGQmmuqPa/ohKOhWbYXUqSdClgUCEDhCV12ZAZbhPo+WaqZfg5gy7+uqeFXBXd2
 Yamg==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: marc.w.gonzalez@free.fr, linux-arm-msm@vger.kernel.org,
 Jeffrey Hugo <jeffrey.l.hugo@gmail.com>, linux-kernel@vger.kernel.org,
 dri-devel@lists.freedesktop.org, bjorn.andersson@linaro.org,
 freedreno@lists.freedesktop.org
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIEE1NDAgaXMgYSBkZXJpdmF0aXZlIG9mIHRoZSBBNTMwLCBhbmQgaXMgZm91bmQgaW4gdGhl
IE1TTTg5OTggU29DLgoKU2lnbmVkLW9mZi1ieTogSmVmZnJleSBIdWdvIDxqZWZmcmV5LmwuaHVn
b0BnbWFpbC5jb20+Ci0tLQoKdjM6Ci1BZGp1c3RlZCBNRVJDSVUgZm9yIEE1NDAgZm9yIGJlc3Qg
cGVyZm9ybWFuY2UuCgogZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8vYTV4eC54bWwuaCAgICAg
IHwgMjggKysrKy0tLS0KIGRyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2E1eHhfZ3B1LmMgICAg
ICB8IDI2ICsrKysrKystCiBkcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hNXh4X3Bvd2VyLmMg
ICAgfCA3NiArKysrKysrKysrKysrKysrKysrKystCiBkcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVu
by9hZHJlbm9fZGV2aWNlLmMgfCAxOCArKysrKwogZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8v
YWRyZW5vX2dwdS5oICAgIHwgIDYgKysKIDUgZmlsZXMgY2hhbmdlZCwgMTM3IGluc2VydGlvbnMo
KyksIDE3IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRy
ZW5vL2E1eHgueG1sLmggYi9kcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hNXh4LnhtbC5oCmlu
ZGV4IGNmNGZlMTRkZGQ2ZS4uNGE2MWQ0ZTcyYzk4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vbXNtL2FkcmVuby9hNXh4LnhtbC5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5v
L2E1eHgueG1sLmgKQEAgLTgsMTkgKzgsMTkgQEAgVGhpcyBmaWxlIHdhcyBnZW5lcmF0ZWQgYnkg
dGhlIHJ1bGVzLW5nLW5nIGhlYWRlcmdlbiB0b29sIGluIHRoaXMgZ2l0IHJlcG9zaXRvcnkKIGdp
dCBjbG9uZSBodHRwczovL2dpdGh1Yi5jb20vZnJlZWRyZW5vL2Vudnl0b29scy5naXQKIAogVGhl
IHJ1bGVzLW5nLW5nIHNvdXJjZSBmaWxlcyB0aGlzIGhlYWRlciB3YXMgZ2VuZXJhdGVkIGZyb20g
YXJlOgotLSAvaG9tZS9yb2JjbGFyay9zcmMvZW52eXRvb2xzL3JubmRiL2FkcmVuby54bWwgICAg
ICAgICAgICAgICAoICAgIDUwMSBieXRlcywgZnJvbSAyMDE4LTA3LTAzIDE5OjM3OjEzKQotLSAv
aG9tZS9yb2JjbGFyay9zcmMvZW52eXRvb2xzL3JubmRiL2ZyZWVkcmVub19jb3B5cmlnaHQueG1s
ICAoICAgMTU3MiBieXRlcywgZnJvbSAyMDE4LTA3LTAzIDE5OjM3OjEzKQotLSAvaG9tZS9yb2Jj
bGFyay9zcmMvZW52eXRvb2xzL3JubmRiL2FkcmVuby9hMnh4LnhtbCAgICAgICAgICAoICA0MjQ2
MyBieXRlcywgZnJvbSAyMDE4LTExLTE5IDEzOjQ0OjAzKQotLSAvaG9tZS9yb2JjbGFyay9zcmMv
ZW52eXRvb2xzL3JubmRiL2FkcmVuby9hZHJlbm9fY29tbW9uLnhtbCAoICAxNDIwMSBieXRlcywg
ZnJvbSAyMDE4LTEyLTAyIDE3OjI5OjU0KQotLSAvaG9tZS9yb2JjbGFyay9zcmMvZW52eXRvb2xz
L3JubmRiL2FkcmVuby9hZHJlbm9fcG00LnhtbCAgICAoICA0MzA1MiBieXRlcywgZnJvbSAyMDE4
LTEyLTAyIDE3OjI5OjU0KQotLSAvaG9tZS9yb2JjbGFyay9zcmMvZW52eXRvb2xzL3JubmRiL2Fk
cmVuby9hM3h4LnhtbCAgICAgICAgICAoICA4Mzg0MCBieXRlcywgZnJvbSAyMDE4LTA3LTAzIDE5
OjM3OjEzKQotLSAvaG9tZS9yb2JjbGFyay9zcmMvZW52eXRvb2xzL3JubmRiL2FkcmVuby9hNHh4
LnhtbCAgICAgICAgICAoIDExMjA4NiBieXRlcywgZnJvbSAyMDE4LTA3LTAzIDE5OjM3OjEzKQot
LSAvaG9tZS9yb2JjbGFyay9zcmMvZW52eXRvb2xzL3JubmRiL2FkcmVuby9hNXh4LnhtbCAgICAg
ICAgICAoIDE0NzI0MCBieXRlcywgZnJvbSAyMDE4LTEyLTAyIDE3OjI5OjU0KQotLSAvaG9tZS9y
b2JjbGFyay9zcmMvZW52eXRvb2xzL3JubmRiL2FkcmVuby9hNnh4LnhtbCAgICAgICAgICAoIDE0
MDc5MCBieXRlcywgZnJvbSAyMDE4LTEyLTAyIDE3OjI5OjU0KQotLSAvaG9tZS9yb2JjbGFyay9z
cmMvZW52eXRvb2xzL3JubmRiL2FkcmVuby9hNnh4X2dtdS54bWwgICAgICAoICAxMDQzMSBieXRl
cywgZnJvbSAyMDE4LTA5LTE0IDEzOjAzOjA3KQotLSAvaG9tZS9yb2JjbGFyay9zcmMvZW52eXRv
b2xzL3JubmRiL2FkcmVuby9vY21lbS54bWwgICAgICAgICAoICAgMTc3MyBieXRlcywgZnJvbSAy
MDE4LTA3LTAzIDE5OjM3OjEzKQotCi1Db3B5cmlnaHQgKEMpIDIwMTMtMjAxOCBieSB0aGUgZm9s
bG93aW5nIGF1dGhvcnM6CistIC9ob21lL3VidW50dS9lbnZ5dG9vbHMvZW52eXRvb2xzL3JubmRi
Ly4vYWRyZW5vLnhtbCAgICAgICAgICAgICAoICAgIDUwMSBieXRlcywgZnJvbSAyMDE5LTA1LTI5
IDAxOjI4OjE1KQorLSAvaG9tZS91YnVudHUvZW52eXRvb2xzL2Vudnl0b29scy9ybm5kYi9mcmVl
ZHJlbm9fY29weXJpZ2h0LnhtbCAgKCAgIDE1NzIgYnl0ZXMsIGZyb20gMjAxOS0wNS0yOSAwMToy
ODoxNSkKKy0gL2hvbWUvdWJ1bnR1L2Vudnl0b29scy9lbnZ5dG9vbHMvcm5uZGIvYWRyZW5vL2Ey
eHgueG1sICAgICAgICAgICggIDc5NjA4IGJ5dGVzLCBmcm9tIDIwMTktMDUtMjkgMDE6Mjg6MTUp
CistIC9ob21lL3VidW50dS9lbnZ5dG9vbHMvZW52eXRvb2xzL3JubmRiL2FkcmVuby9hZHJlbm9f
Y29tbW9uLnhtbCAoICAxNDIzOSBieXRlcywgZnJvbSAyMDE5LTA1LTI5IDAxOjI4OjE1KQorLSAv
aG9tZS91YnVudHUvZW52eXRvb2xzL2Vudnl0b29scy9ybm5kYi9hZHJlbm8vYWRyZW5vX3BtNC54
bWwgICAgKCAgNDMxNTUgYnl0ZXMsIGZyb20gMjAxOS0wNS0yOSAwMToyODoxNSkKKy0gL2hvbWUv
dWJ1bnR1L2Vudnl0b29scy9lbnZ5dG9vbHMvcm5uZGIvYWRyZW5vL2EzeHgueG1sICAgICAgICAg
ICggIDgzODQwIGJ5dGVzLCBmcm9tIDIwMTktMDUtMjkgMDE6Mjg6MTUpCistIC9ob21lL3VidW50
dS9lbnZ5dG9vbHMvZW52eXRvb2xzL3JubmRiL2FkcmVuby9hNHh4LnhtbCAgICAgICAgICAoIDEx
MjA4NiBieXRlcywgZnJvbSAyMDE5LTA1LTI5IDAxOjI4OjE1KQorLSAvaG9tZS91YnVudHUvZW52
eXRvb2xzL2Vudnl0b29scy9ybm5kYi9hZHJlbm8vYTV4eC54bWwgICAgICAgICAgKCAxNDcyOTEg
Ynl0ZXMsIGZyb20gMjAxOS0wNS0yOSAxNDo1MTo0MSkKKy0gL2hvbWUvdWJ1bnR1L2Vudnl0b29s
cy9lbnZ5dG9vbHMvcm5uZGIvYWRyZW5vL2E2eHgueG1sICAgICAgICAgICggMTQ4NDYxIGJ5dGVz
LCBmcm9tIDIwMTktMDUtMjkgMDE6Mjg6MTUpCistIC9ob21lL3VidW50dS9lbnZ5dG9vbHMvZW52
eXRvb2xzL3JubmRiL2FkcmVuby9hNnh4X2dtdS54bWwgICAgICAoICAxMDQzMSBieXRlcywgZnJv
bSAyMDE5LTA1LTI5IDAxOjI4OjE1KQorLSAvaG9tZS91YnVudHUvZW52eXRvb2xzL2Vudnl0b29s
cy9ybm5kYi9hZHJlbm8vb2NtZW0ueG1sICAgICAgICAgKCAgIDE3NzMgYnl0ZXMsIGZyb20gMjAx
OS0wNS0yOSAwMToyODoxNSkKKworQ29weXJpZ2h0IChDKSAyMDEzLTIwMTkgYnkgdGhlIGZvbGxv
d2luZyBhdXRob3JzOgogLSBSb2IgQ2xhcmsgPHJvYmRjbGFya0BnbWFpbC5jb20+IChyb2JjbGFy
aykKIC0gSWxpYSBNaXJraW4gPGltaXJraW5AYWx1bS5taXQuZWR1PiAoaW1pcmtpbikKIApAQCAt
MjE0OCw2ICsyMTQ4LDggQEAgc3RhdGljIGlubGluZSB1aW50MzJfdCBBNVhYX1ZTQ19SRVNPTFZF
X0NOVExfWSh1aW50MzJfdCB2YWwpCiAKICNkZWZpbmUgUkVHX0E1WFhfSExTUV9USU1FT1VUX1RI
UkVTSE9MRF8xCQkJMHgwMDAwMGUwMQogCisjZGVmaW5lIFJFR19BNVhYX0hMU1FfREJHX0VDT19D
TlRMCQkJCTB4MDAwMDBlMDQKKwogI2RlZmluZSBSRUdfQTVYWF9ITFNRX0FERFJfTU9ERV9DTlRM
CQkJCTB4MDAwMDBlMDUKIAogI2RlZmluZSBSRUdfQTVYWF9ITFNRX01PREVfQ05UTAkJCQkJMHgw
MDAwMGUwNgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8vYTV4eF9ncHUu
YyBiL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2E1eHhfZ3B1LmMKaW5kZXggZTVmY2VmYTQ5
ZjE5Li41NTY0MDJmMTg5MDggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5v
L2E1eHhfZ3B1LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8vYTV4eF9ncHUuYwpA
QCAtMzE4LDEyICszMTgsMTggQEAgc3RhdGljIGNvbnN0IHN0cnVjdCB7CiAKIHZvaWQgYTV4eF9z
ZXRfaHdjZyhzdHJ1Y3QgbXNtX2dwdSAqZ3B1LCBib29sIHN0YXRlKQogeworCXN0cnVjdCBhZHJl
bm9fZ3B1ICphZHJlbm9fZ3B1ID0gdG9fYWRyZW5vX2dwdShncHUpOwogCXVuc2lnbmVkIGludCBp
OwogCiAJZm9yIChpID0gMDsgaSA8IEFSUkFZX1NJWkUoYTV4eF9od2NnKTsgaSsrKQogCQlncHVf
d3JpdGUoZ3B1LCBhNXh4X2h3Y2dbaV0ub2Zmc2V0LAogCQkJc3RhdGUgPyBhNXh4X2h3Y2dbaV0u
dmFsdWUgOiAwKTsKIAorCWlmIChhZHJlbm9faXNfYTU0MChhZHJlbm9fZ3B1KSkgeworCQlncHVf
d3JpdGUoZ3B1LCBSRUdfQTVYWF9SQkJNX0NMT0NLX0RFTEFZX0dQTVUsIHN0YXRlID8gMHgwMDAw
MDc3MCA6IDApOworCQlncHVfd3JpdGUoZ3B1LCBSRUdfQTVYWF9SQkJNX0NMT0NLX0hZU1RfR1BN
VSwgc3RhdGUgPyAweDAwMDAwMDA0IDogMCk7CisJfQorCiAJZ3B1X3dyaXRlKGdwdSwgUkVHX0E1
WFhfUkJCTV9DTE9DS19DTlRMLCBzdGF0ZSA/IDB4QUFBOEFBMDAgOiAwKTsKIAlncHVfd3JpdGUo
Z3B1LCBSRUdfQTVYWF9SQkJNX0lTREJfQ05ULCBzdGF0ZSA/IDB4MTgyIDogMHgxODApOwogfQpA
QCAtNTA3LDYgKzUxMyw5IEBAIHN0YXRpYyBpbnQgYTV4eF9od19pbml0KHN0cnVjdCBtc21fZ3B1
ICpncHUpCiAKIAlncHVfd3JpdGUoZ3B1LCBSRUdfQTVYWF9WQklGX1JPVU5EX1JPQklOX1FPU19B
UkIsIDB4MDAwMDAwMDMpOwogCisJaWYgKGFkcmVub19pc19hNTQwKGFkcmVub19ncHUpKQorCQln
cHVfd3JpdGUoZ3B1LCBSRUdfQTVYWF9WQklGX0dBVEVfT0ZGX1dSUkVRX0VOLCAweDAwMDAwMDA5
KTsKKwogCS8qIE1ha2UgYWxsIGJsb2NrcyBjb250cmlidXRlIHRvIHRoZSBHUFUgQlVTWSBwZXJm
IGNvdW50ZXIgKi8KIAlncHVfd3JpdGUoZ3B1LCBSRUdfQTVYWF9SQkJNX1BFUkZDVFJfR1BVX0JV
U1lfTUFTS0VELCAweEZGRkZGRkZGKTsKIApAQCAtNTY3LDcgKzU3NiwxMCBAQCBzdGF0aWMgaW50
IGE1eHhfaHdfaW5pdChzdHJ1Y3QgbXNtX2dwdSAqZ3B1KQogCWdwdV93cml0ZShncHUsIFJFR19B
NVhYX1VDSEVfR01FTV9SQU5HRV9NQVhfSEksIDB4MDAwMDAwMDApOwogCiAJZ3B1X3dyaXRlKGdw
dSwgUkVHX0E1WFhfQ1BfTUVRX1RIUkVTSE9MRFMsIDB4NDApOwotCWdwdV93cml0ZShncHUsIFJF
R19BNVhYX0NQX01FUkNJVV9TSVpFLCAweDQwKTsKKwlpZiAoYWRyZW5vX2lzX2E1MzAoYWRyZW5v
X2dwdSkpCisJCWdwdV93cml0ZShncHUsIFJFR19BNVhYX0NQX01FUkNJVV9TSVpFLCAweDQwKTsK
KwlpZiAoYWRyZW5vX2lzX2E1NDAoYWRyZW5vX2dwdSkpCisJCWdwdV93cml0ZShncHUsIFJFR19B
NVhYX0NQX01FUkNJVV9TSVpFLCAweDQwMCk7CiAJZ3B1X3dyaXRlKGdwdSwgUkVHX0E1WFhfQ1Bf
Uk9RX1RIUkVTSE9MRFNfMiwgMHg4MDAwMDA2MCk7CiAJZ3B1X3dyaXRlKGdwdSwgUkVHX0E1WFhf
Q1BfUk9RX1RIUkVTSE9MRFNfMSwgMHg0MDIwMUIxNik7CiAKQEAgLTU5Miw2ICs2MDQsOCBAQCBz
dGF0aWMgaW50IGE1eHhfaHdfaW5pdChzdHJ1Y3QgbXNtX2dwdSAqZ3B1KQogCS8qIFNldCB0aGUg
aGlnaGVzdCBiYW5rIGJpdCAqLwogCWdwdV93cml0ZShncHUsIFJFR19BNVhYX1RQTDFfTU9ERV9D
TlRMLCAyIDw8IDcpOwogCWdwdV93cml0ZShncHUsIFJFR19BNVhYX1JCX01PREVfQ05UTCwgMiA8
PCAxKTsKKwlpZiAoYWRyZW5vX2lzX2E1NDAoYWRyZW5vX2dwdSkpCisJCWdwdV93cml0ZShncHUs
IFJFR19BNVhYX1VDSEVfREJHX0VDT19DTlRMXzIsIDIpOwogCiAJLyogUHJvdGVjdCByZWdpc3Rl
cnMgZnJvbSB0aGUgQ1AgKi8KIAlncHVfd3JpdGUoZ3B1LCBSRUdfQTVYWF9DUF9QUk9URUNUX0NO
VEwsIDB4MDAwMDAwMDcpOwpAQCAtNjQyLDYgKzY1NiwxNiBAQCBzdGF0aWMgaW50IGE1eHhfaHdf
aW5pdChzdHJ1Y3QgbXNtX2dwdSAqZ3B1KQogCQlSRUdfQTVYWF9SQkJNX1NFQ1ZJRF9UU0JfVFJV
U1RFRF9CQVNFX0hJLCAweDAwMDAwMDAwKTsKIAlncHVfd3JpdGUoZ3B1LCBSRUdfQTVYWF9SQkJN
X1NFQ1ZJRF9UU0JfVFJVU1RFRF9TSVpFLCAweDAwMDAwMDAwKTsKIAorCS8qCisJICogVlBDIGNv
cm5lciBjYXNlIHdpdGggbG9jYWwgbWVtb3J5IGxvYWQga2lsbCBsZWFkcyB0byBjb3JydXB0CisJ
ICogaW50ZXJuYWwgc3RhdGUuIE5vcm1hbCBEaXNhYmxlIGRvZXMgbm90IHdvcmsgZm9yIGFsbCBh
NXggY2hpcHMuCisJICogU28gZG8gdGhlIGZvbGxvd2luZyBzZXR0aW5nIHRvIGRpc2FibGUgaXQu
CisJICovCisJaWYgKGFkcmVub19ncHUtPmluZm8tPnF1aXJrcyAmIEFEUkVOT19RVUlSS19MTUxP
QURLSUxMX0RJU0FCTEUpIHsKKwkJZ3B1X3JtdyhncHUsIFJFR19BNVhYX1ZQQ19EQkdfRUNPX0NO
VEwsIDAsIEJJVCgyMykpOworCQlncHVfcm13KGdwdSwgUkVHX0E1WFhfSExTUV9EQkdfRUNPX0NO
VEwsIEJJVCgxOCksIDApOworCX0KKwogCXJldCA9IGFkcmVub19od19pbml0KGdwdSk7CiAJaWYg
KHJldCkKIAkJcmV0dXJuIHJldDsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRy
ZW5vL2E1eHhfcG93ZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2E1eHhfcG93ZXIu
YwppbmRleCA3MGU2NWM5NGU1MjUuLmJmMTJjNjFmOTMzMSAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL21zbS9hZHJlbm8vYTV4eF9wb3dlci5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9tc20v
YWRyZW5vL2E1eHhfcG93ZXIuYwpAQCAtMzIsNiArMzIsMTggQEAKICNkZWZpbmUgQUdDX1BPV0VS
X0NPTkZJR19QUk9EVUNUSU9OX0lEIDEKICNkZWZpbmUgQUdDX0lOSVRfTVNHX1ZBTFVFIDB4QkFC
RUZBQ0UKIAorLyogQUdDX0xNX0NPTkZJRyAoQTU0MCspICovCisjZGVmaW5lIEFHQ19MTV9DT05G
SUcgKDEzNi80KQorI2RlZmluZSBBR0NfTE1fQ09ORklHX0dQVV9WRVJTSU9OX1NISUZUIDE3Cisj
ZGVmaW5lIEFHQ19MTV9DT05GSUdfRU5BQkxFX0dQTVVfQURBUFRJVkUgMQorI2RlZmluZSBBR0Nf
TE1fQ09ORklHX1RIUk9UVExFX0RJU0FCTEUgKDIgPDwgOCkKKyNkZWZpbmUgQUdDX0xNX0NPTkZJ
R19JU0VOU0VfRU5BQkxFICgxIDw8IDQpCisjZGVmaW5lIEFHQ19MTV9DT05GSUdfRU5BQkxFX0VS
Uk9SICgzIDw8IDQpCisjZGVmaW5lIEFHQ19MTV9DT05GSUdfTExNX0VOQUJMRUQgKDEgPDwgMTYp
CisjZGVmaW5lIEFHQ19MTV9DT05GSUdfQkNMX0RJU0FCTEVEICgxIDw8IDI0KQorCisjZGVmaW5l
IEFHQ19MRVZFTF9DT05GSUcgKDE0MC80KQorCiBzdGF0aWMgc3RydWN0IHsKIAl1aW50MzJfdCBy
ZWc7CiAJdWludDMyX3QgdmFsdWU7CkBAIC0xMTYsNyArMTI4LDcgQEAgc3RhdGljIGlubGluZSB1
aW50MzJfdCBfZ2V0X212b2x0cyhzdHJ1Y3QgbXNtX2dwdSAqZ3B1LCB1aW50MzJfdCBmcmVxKQog
fQogCiAvKiBTZXR1cCB0aGVybWFsIGxpbWl0IG1hbmFnZW1lbnQgKi8KLXN0YXRpYyB2b2lkIGE1
eHhfbG1fc2V0dXAoc3RydWN0IG1zbV9ncHUgKmdwdSkKK3N0YXRpYyB2b2lkIGE1MzBfbG1fc2V0
dXAoc3RydWN0IG1zbV9ncHUgKmdwdSkKIHsKIAlzdHJ1Y3QgYWRyZW5vX2dwdSAqYWRyZW5vX2dw
dSA9IHRvX2FkcmVub19ncHUoZ3B1KTsKIAlzdHJ1Y3QgYTV4eF9ncHUgKmE1eHhfZ3B1ID0gdG9f
YTV4eF9ncHUoYWRyZW5vX2dwdSk7CkBAIC0xNjUsNiArMTc3LDQ1IEBAIHN0YXRpYyB2b2lkIGE1
eHhfbG1fc2V0dXAoc3RydWN0IG1zbV9ncHUgKmdwdSkKIAlncHVfd3JpdGUoZ3B1LCBBR0NfSU5J
VF9NU0dfTUFHSUMsIEFHQ19JTklUX01TR19WQUxVRSk7CiB9CiAKKyNkZWZpbmUgUEFZTE9BRF9T
SVpFKF9zaXplKSAoKF9zaXplKSAqIHNpemVvZih1MzIpKQorI2RlZmluZSBMTV9EQ1ZTX0xJTUlU
IDEKKyNkZWZpbmUgTEVWRUxfQ09ORklHIH4oMHgzMDMpCisKK3N0YXRpYyB2b2lkIGE1NDBfbG1f
c2V0dXAoc3RydWN0IG1zbV9ncHUgKmdwdSkKK3sKKwlzdHJ1Y3QgYWRyZW5vX2dwdSAqYWRyZW5v
X2dwdSA9IHRvX2FkcmVub19ncHUoZ3B1KTsKKwl1MzIgY29uZmlnOworCisJLyogVGhlIGJhdHRl
cnkgY3VycmVudCBsaW1pdGVyIGlzbid0IGVuYWJsZWQgZm9yIEE1NDAgKi8KKwljb25maWcgPSBB
R0NfTE1fQ09ORklHX0JDTF9ESVNBQkxFRDsKKwljb25maWcgfD0gYWRyZW5vX2dwdS0+cmV2LnBh
dGNoaWQgPDwgQUdDX0xNX0NPTkZJR19HUFVfVkVSU0lPTl9TSElGVDsKKworCS8qIEZvciBub3cg
ZGlzYWJsZSBHUE1VIHNpZGUgdGhyb3R0bGluZyAqLworCWNvbmZpZyB8PSBBR0NfTE1fQ09ORklH
X1RIUk9UVExFX0RJU0FCTEU7CisKKwkvKiBVbnRpbCB3ZSBnZXQgY2xvY2sgc2NhbGluZyAwIGlz
IGFsd2F5cyB0aGUgYWN0aXZlIHBvd2VyIGxldmVsICovCisJZ3B1X3dyaXRlKGdwdSwgUkVHX0E1
WFhfR1BNVV9HUE1VX1ZPTFRBR0UsIDB4ODAwMDAwMDAgfCAwKTsKKworCS8qIEZpeGVkIGF0IDYw
MDAgZm9yIG5vdyAqLworCWdwdV93cml0ZShncHUsIFJFR19BNVhYX0dQTVVfR1BNVV9QV1JfVEhS
RVNIT0xELCAweDgwMDAwMDAwIHwgNjAwMCk7CisKKwlncHVfd3JpdGUoZ3B1LCBBR0NfTVNHX1NU
QVRFLCAweDgwMDAwMDAxKTsKKwlncHVfd3JpdGUoZ3B1LCBBR0NfTVNHX0NPTU1BTkQsIEFHQ19Q
T1dFUl9DT05GSUdfUFJPRFVDVElPTl9JRCk7CisKKwlncHVfd3JpdGUoZ3B1LCBBR0NfTVNHX1BB
WUxPQUQoMCksIDU0NDgpOworCWdwdV93cml0ZShncHUsIEFHQ19NU0dfUEFZTE9BRCgxKSwgMSk7
CisKKwlncHVfd3JpdGUoZ3B1LCBBR0NfTVNHX1BBWUxPQUQoMiksIF9nZXRfbXZvbHRzKGdwdSwg
Z3B1LT5mYXN0X3JhdGUpKTsKKwlncHVfd3JpdGUoZ3B1LCBBR0NfTVNHX1BBWUxPQUQoMyksIGdw
dS0+ZmFzdF9yYXRlIC8gMTAwMDAwMCk7CisKKwlncHVfd3JpdGUoZ3B1LCBBR0NfTVNHX1BBWUxP
QUQoQUdDX0xNX0NPTkZJRyksIGNvbmZpZyk7CisJZ3B1X3dyaXRlKGdwdSwgQUdDX01TR19QQVlM
T0FEKEFHQ19MRVZFTF9DT05GSUcpLCBMRVZFTF9DT05GSUcpOworCWdwdV93cml0ZShncHUsIEFH
Q19NU0dfUEFZTE9BRF9TSVpFLAorCVBBWUxPQURfU0laRShBR0NfTEVWRUxfQ09ORklHICsgMSkp
OworCisJZ3B1X3dyaXRlKGdwdSwgQUdDX0lOSVRfTVNHX01BR0lDLCBBR0NfSU5JVF9NU0dfVkFM
VUUpOworfQorCiAvKiBFbmFibGUgU1AvVFAgY3Bvd2VyIGNvbGxhcHNlICovCiBzdGF0aWMgdm9p
ZCBhNXh4X3BjX2luaXQoc3RydWN0IG1zbV9ncHUgKmdwdSkKIHsKQEAgLTIwNiw3ICsyNTcsOCBA
QCBzdGF0aWMgaW50IGE1eHhfZ3BtdV9pbml0KHN0cnVjdCBtc21fZ3B1ICpncHUpCiAJCXJldHVy
biAtRUlOVkFMOwogCX0KIAotCWdwdV93cml0ZShncHUsIFJFR19BNVhYX0dQTVVfV0ZJX0NPTkZJ
RywgMHg0MDE0KTsKKwlpZiAoYWRyZW5vX2lzX2E1MzAoYWRyZW5vX2dwdSkpCisJCWdwdV93cml0
ZShncHUsIFJFR19BNVhYX0dQTVVfV0ZJX0NPTkZJRywgMHg0MDE0KTsKIAogCS8qIEtpY2sgb2Zm
IHRoZSBHUE1VICovCiAJZ3B1X3dyaXRlKGdwdSwgUkVHX0E1WFhfR1BNVV9DTTNfU1lTUkVTRVQs
IDB4MCk7CkBAIC0yMjAsMTIgKzI3MiwyNiBAQCBzdGF0aWMgaW50IGE1eHhfZ3BtdV9pbml0KHN0
cnVjdCBtc21fZ3B1ICpncHUpCiAJCURSTV9FUlJPUigiJXM6IEdQTVUgZmlybXdhcmUgaW5pdGlh
bGl6YXRpb24gdGltZWQgb3V0XG4iLAogCQkJZ3B1LT5uYW1lKTsKIAorCWlmICghYWRyZW5vX2lz
X2E1MzAoYWRyZW5vX2dwdSkpIHsKKwkJdTMyIHZhbCA9IGdwdV9yZWFkKGdwdSwgUkVHX0E1WFhf
R1BNVV9HRU5FUkFMXzEpOworCisJCWlmICh2YWwpCisJCQlEUk1fRVJST1IoIiVzOiBHUE1VIGZp
cm13YXJlIGluaXRpYWxpemF0aW9uIGZhaWxlZDogJWRcbiIsCisJCQkJICBncHUtPm5hbWUsIHZh
bCk7CisJfQorCiAJcmV0dXJuIDA7CiB9CiAKIC8qIEVuYWJsZSBsaW1pdHMgbWFuYWdlbWVudCAq
Lwogc3RhdGljIHZvaWQgYTV4eF9sbV9lbmFibGUoc3RydWN0IG1zbV9ncHUgKmdwdSkKIHsKKwlz
dHJ1Y3QgYWRyZW5vX2dwdSAqYWRyZW5vX2dwdSA9IHRvX2FkcmVub19ncHUoZ3B1KTsKKworCS8q
IFRoaXMgaW5pdCBzZXF1ZW5jZSBvbmx5IGFwcGxpZXMgdG8gQTUzMCAqLworCWlmICghYWRyZW5v
X2lzX2E1MzAoYWRyZW5vX2dwdSkpCisJCXJldHVybjsKKwogCWdwdV93cml0ZShncHUsIFJFR19B
NVhYX0dEUE1fSU5UX01BU0ssIDB4MCk7CiAJZ3B1X3dyaXRlKGdwdSwgUkVHX0E1WFhfR0RQTV9J
TlRfRU4sIDB4MEEpOwogCWdwdV93cml0ZShncHUsIFJFR19BNVhYX0dQTVVfR1BNVV9WT0xUQUdF
X0lOVFJfRU5fTUFTSywgMHgwMSk7CkBAIC0yMzcsMTAgKzMwMywxNCBAQCBzdGF0aWMgdm9pZCBh
NXh4X2xtX2VuYWJsZShzdHJ1Y3QgbXNtX2dwdSAqZ3B1KQogCiBpbnQgYTV4eF9wb3dlcl9pbml0
KHN0cnVjdCBtc21fZ3B1ICpncHUpCiB7CisJc3RydWN0IGFkcmVub19ncHUgKmFkcmVub19ncHUg
PSB0b19hZHJlbm9fZ3B1KGdwdSk7CiAJaW50IHJldDsKIAogCS8qIFNldCB1cCB0aGUgbGltaXRz
IG1hbmFnZW1lbnQgKi8KLQlhNXh4X2xtX3NldHVwKGdwdSk7CisJaWYgKGFkcmVub19pc19hNTMw
KGFkcmVub19ncHUpKQorCQlhNTMwX2xtX3NldHVwKGdwdSk7CisJZWxzZQorCQlhNTQwX2xtX3Nl
dHVwKGdwdSk7CiAKIAkvKiBTZXQgdXAgU1AvVFAgcG93ZXIgY29sbHBhc2UgKi8KIAlhNXh4X3Bj
X2luaXQoZ3B1KTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2FkcmVu
b19kZXZpY2UuYyBiL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2FkcmVub19kZXZpY2UuYwpp
bmRleCBiOTA3MjQ1ZDNkOTYuLmNiN2RhZGFmMTY2OSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL21zbS9hZHJlbm8vYWRyZW5vX2RldmljZS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9tc20v
YWRyZW5vL2FkcmVub19kZXZpY2UuYwpAQCAtMTQ0LDYgKzE0NCwyNCBAQCBzdGF0aWMgY29uc3Qg
c3RydWN0IGFkcmVub19pbmZvIGdwdWxpc3RbXSA9IHsKIAkJCUFEUkVOT19RVUlSS19GQVVMVF9E
RVRFQ1RfTUFTSywKIAkJLmluaXQgPSBhNXh4X2dwdV9pbml0LAogCQkuemFwZncgPSAiYTUzMF96
YXAubWR0IiwKKwl9LCB7CisJCS5yZXYgPSBBRFJFTk9fUkVWKDUsIDQsIDAsIDIpLAorCQkucmV2
biA9IDU0MCwKKwkJLm5hbWUgPSAiQTU0MCIsCisJCS5mdyA9IHsKKwkJCVtBRFJFTk9fRldfUE00
XSA9ICJhNTMwX3BtNC5mdyIsCisJCQlbQURSRU5PX0ZXX1BGUF0gPSAiYTUzMF9wZnAuZnciLAor
CQkJW0FEUkVOT19GV19HUE1VXSA9ICJhNTQwX2dwbXUuZncyIiwKKwkJfSwKKwkJLmdtZW0gPSBT
Wl8xTSwKKwkJLyoKKwkJICogSW5jcmVhc2UgaW5hY3RpdmUgcGVyaW9kIHRvIDI1MCB0byBhdm9p
ZCBib3VuY2luZworCQkgKiB0aGUgR0RTQyB3aGljaCBhcHBlYXJzIHRvIG1ha2UgaXQgZ3J1bXB5
CisJCSAqLworCQkuaW5hY3RpdmVfcGVyaW9kID0gMjUwLAorCQkucXVpcmtzID0gQURSRU5PX1FV
SVJLX0xNTE9BREtJTExfRElTQUJMRSwKKwkJLmluaXQgPSBhNXh4X2dwdV9pbml0LAorCQkuemFw
ZncgPSAiYTU0MF96YXAubWR0IiwKIAl9LCB7CiAJCS5yZXYgPSBBRFJFTk9fUkVWKDYsIDMsIDAs
IEFOWV9JRCksCiAJCS5yZXZuID0gNjMwLApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL21z
bS9hZHJlbm8vYWRyZW5vX2dwdS5oIGIvZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8vYWRyZW5v
X2dwdS5oCmluZGV4IDA5MjU2MDZlYzliNS4uZDY3YzFhNjljNDlhIDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hZHJlbm9fZ3B1LmgKKysrIGIvZHJpdmVycy9ncHUvZHJt
L21zbS9hZHJlbm8vYWRyZW5vX2dwdS5oCkBAIC02MSw2ICs2MSw3IEBAIGVudW0gewogZW51bSBh
ZHJlbm9fcXVpcmtzIHsKIAlBRFJFTk9fUVVJUktfVFdPX1BBU1NfVVNFX1dGSSA9IDEsCiAJQURS
RU5PX1FVSVJLX0ZBVUxUX0RFVEVDVF9NQVNLID0gMiwKKwlBRFJFTk9fUVVJUktfTE1MT0FES0lM
TF9ESVNBQkxFID0gMywKIH07CiAKIHN0cnVjdCBhZHJlbm9fcmV2IHsKQEAgLTIyMSw2ICsyMjIs
MTEgQEAgc3RhdGljIGlubGluZSBpbnQgYWRyZW5vX2lzX2E1MzAoc3RydWN0IGFkcmVub19ncHUg
KmdwdSkKIAlyZXR1cm4gZ3B1LT5yZXZuID09IDUzMDsKIH0KIAorc3RhdGljIGlubGluZSBpbnQg
YWRyZW5vX2lzX2E1NDAoc3RydWN0IGFkcmVub19ncHUgKmdwdSkKK3sKKwlyZXR1cm4gZ3B1LT5y
ZXZuID09IDU0MDsKK30KKwogaW50IGFkcmVub19nZXRfcGFyYW0oc3RydWN0IG1zbV9ncHUgKmdw
dSwgdWludDMyX3QgcGFyYW0sIHVpbnQ2NF90ICp2YWx1ZSk7CiBjb25zdCBzdHJ1Y3QgZmlybXdh
cmUgKmFkcmVub19yZXF1ZXN0X2Z3KHN0cnVjdCBhZHJlbm9fZ3B1ICphZHJlbm9fZ3B1LAogCQlj
b25zdCBjaGFyICpmd25hbWUpOwotLSAKMi4xNy4xCgpfX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBs
aXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1h
bi9saXN0aW5mby9kcmktZGV2ZWw=
