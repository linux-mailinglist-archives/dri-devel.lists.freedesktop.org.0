Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 05E8510EB37
	for <lists+dri-devel@lfdr.de>; Mon,  2 Dec 2019 15:01:52 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A94096E1D6;
	Mon,  2 Dec 2019 14:01:49 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
X-Greylist: delayed 806 seconds by postgrey-1.36 at gabe;
 Mon, 02 Dec 2019 14:01:48 UTC
Received: from a27-186.smtp-out.us-west-2.amazonses.com
 (a27-186.smtp-out.us-west-2.amazonses.com [54.240.27.186])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0F6C56E1D6
 for <dri-devel@lists.freedesktop.org>; Mon,  2 Dec 2019 14:01:48 +0000 (UTC)
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
 aws-us-west-2-caf-mail-1.web.codeaurora.org
X-Spam-Level: 
X-Spam-Status: No, score=-1.0 required=2.0 tests=ALL_TRUSTED,SPF_NONE,
 URIBL_BLOCKED autolearn=unavailable autolearn_force=no version=3.4.0
DMARC-Filter: OpenDMARC Filter v1.3.2 smtp.codeaurora.org F39AEC774B7
From: Chandan Uddaraju <chandanu@codeaurora.org>
To: freedreno@lists.freedesktop.org, linux-arm-msm@vger.kernel.org,
 devicetree@vger.kernel.org, seanpaul@chromium.org
Subject: [DPU PATCH v3 5/5] drm/msm/dpu: add display port support in DPU
Date: Mon, 2 Dec 2019 13:48:20 +0000
Message-ID: <0101016ec6de7c89-e8ad8013-fc19-4b28-9619-e09158d0588b-000000@us-west-2.amazonses.com>
X-Mailer: git-send-email 1.9.1
In-Reply-To: <1575294437-6129-1-git-send-email-chandanu@codeaurora.org>
References: <1575294437-6129-1-git-send-email-chandanu@codeaurora.org>
X-SES-Outgoing: 2019.12.02-54.240.27.186
Feedback-ID: 1.us-west-2.CZuq2qbDmUIuT3qdvXlRHZZCpfZqZ4GtG9v3VKgRyF0=:AmazonSES
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt;
 c=relaxed/simple; 
 s=zsmsymrwgfyinv5wlfyidntwsjeeldzt; d=codeaurora.org; t=1575294500;
 h=From:To:Cc:Subject:Date:Message-Id:In-Reply-To:References;
 bh=aUmKR1I7xGJWCJj7CxMrnRk1XrTBCNpoZ6xtTH9cpKY=;
 b=AOKEUvAJ9rt6HsehspQ5zW9HRLf2H/PCwqmLiTZLrhR3fOkfAQNVJ8DK+tQ5TFxu
 J2PaEFmd4Xn/KxTp9ZJY0AqTPiRPEEcQMhAbVtVPBHUzcX7FVr0ZXKBZEcevHHVbdTN
 /DKVNxMJzSZ1eNqzlR18cvLFXfcLMtiBNr+T3njM=
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt;
 c=relaxed/simple; 
 s=gdwg2y3kokkkj5a55z2ilkup5wp5hhxx; d=amazonses.com; t=1575294500;
 h=From:To:Cc:Subject:Date:Message-Id:In-Reply-To:References:Feedback-ID;
 bh=aUmKR1I7xGJWCJj7CxMrnRk1XrTBCNpoZ6xtTH9cpKY=;
 b=XoMj6CSVe42Pwk0U8n8ErdbObZEI7JCxDuNoh9uWM3T+v33pOHiQgSuWxLqycKcs
 x8zWSsqxvWxBewvQmxAG9d5R0NyC4Y17mwScxdO2tcZXPiL7zQ+QDxBJeYCC2VBV63V
 jhwKSuuiyt0ECy3fgZfvodLg3uPI0xBPNFiZMsiU=
X-Mailman-Original-Authentication-Results: aws-us-west-2-caf-mail-1.web.codeaurora.org;
 dmarc=none (p=none dis=none) header.from=codeaurora.org
X-Mailman-Original-Authentication-Results: aws-us-west-2-caf-mail-1.web.codeaurora.org;
 spf=none smtp.mailfrom=chandanu@codeaurora.org
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: dri-devel@lists.freedesktop.org, hoegsberg@google.com,
 abhinavk@codeaurora.org, Chandan Uddaraju <chandanu@codeaurora.org>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogSmV5a3VtYXIgU2Fua2FyYW4gPGpzYW5rYUBjb2RlYXVyb3JhLm9yZz4KCkFkZCBkaXNw
bGF5IHBvcnQgc3VwcG9ydCBpbiBEUFUgYnkgY3JlYXRpbmcgaG9va3MKZm9yIERQIGVuY29kZXIg
ZW51bWVyYXRpb24gYW5kIGVuY29kZXIgbW9kZQppbml0aWFsaXphdGlvbi4KClRoaXMgY2hhbmdl
IGlzIGJhc2VkIG9uIHRoZSBTRE04NDUgRGlzcGxheSBwb3J0CmRyaXZlciBjaGFuZ2VzWzFdLgoK
Y2hhbmdlcyBpbiB2MjoKCS0gcmViYXNlIG9uIFsyXSAoU2VhbiBQYXVsKQoJLSByZW1vdmUgdW53
YW50ZWQgZXJyb3IgY2hlY2tzIGFuZAoJICBzd2l0Y2ggY2FzZXMgKEpvcmRhbiBDcm91c2UpCgpb
MV0gaHR0cHM6Ly9sd24ubmV0L0FydGljbGVzLzc2ODI2NS8KWzJdIGh0dHBzOi8vbGttbC5vcmcv
bGttbC8yMDE4LzExLzE3Lzg3CgpjaGFuZ2VzIGluIFYzOgotLSBNb3ZlZCB0aGlzIGNoYW5nZSBh
cyBwYXJ0IG9mIHRoZSBEUCBkcml2ZXIgY2hhbmdlcy4KLS0gQWRkcmVzc2VkIGNvbXBpbGF0aW9u
IGlzc3VlcyBvbiB0aGUgbGF0ZXN0IGNvZGUgYmFzZS4KClNpZ25lZC1vZmYtYnk6IEpleWt1bWFy
IFNhbmthcmFuIDxqc2Fua2FAY29kZWF1cm9yYS5vcmc+ClNpZ25lZC1vZmYtYnk6IENoYW5kYW4g
VWRkYXJhanUgPGNoYW5kYW51QGNvZGVhdXJvcmEub3JnPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9t
c20vZGlzcC9kcHUxL2RwdV9lbmNvZGVyLmMgfCAgOCArKy0tCiBkcml2ZXJzL2dwdS9kcm0vbXNt
L2Rpc3AvZHB1MS9kcHVfa21zLmMgICAgIHwgNjUgKysrKysrKysrKysrKysrKysrKysrKysrLS0t
LS0KIDIgZmlsZXMgY2hhbmdlZCwgNTggaW5zZXJ0aW9ucygrKSwgMTUgZGVsZXRpb25zKC0pCgpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL21zbS9kaXNwL2RwdTEvZHB1X2VuY29kZXIuYyBi
L2RyaXZlcnMvZ3B1L2RybS9tc20vZGlzcC9kcHUxL2RwdV9lbmNvZGVyLmMKaW5kZXggMjlhYzdk
My4uZjgyZDk5MCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL21zbS9kaXNwL2RwdTEvZHB1
X2VuY29kZXIuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vbXNtL2Rpc3AvZHB1MS9kcHVfZW5jb2Rl
ci5jCkBAIC0yMDM3LDcgKzIwMzcsNyBAQCBzdGF0aWMgaW50IGRwdV9lbmNvZGVyX3NldHVwX2Rp
c3BsYXkoc3RydWN0IGRwdV9lbmNvZGVyX3ZpcnQgKmRwdV9lbmMsCiB7CiAJaW50IHJldCA9IDA7
CiAJaW50IGkgPSAwOwotCWVudW0gZHB1X2ludGZfdHlwZSBpbnRmX3R5cGU7CisJZW51bSBkcHVf
aW50Zl90eXBlIGludGZfdHlwZSA9IElOVEZfTk9ORTsKIAlzdHJ1Y3QgZHB1X2VuY19waHlzX2lu
aXRfcGFyYW1zIHBoeXNfcGFyYW1zOwogCiAJaWYgKCFkcHVfZW5jKSB7CkBAIC0yMDU5LDkgKzIw
NTksOSBAQCBzdGF0aWMgaW50IGRwdV9lbmNvZGVyX3NldHVwX2Rpc3BsYXkoc3RydWN0IGRwdV9l
bmNvZGVyX3ZpcnQgKmRwdV9lbmMsCiAJY2FzZSBEUk1fTU9ERV9FTkNPREVSX0RTSToKIAkJaW50
Zl90eXBlID0gSU5URl9EU0k7CiAJCWJyZWFrOwotCWRlZmF1bHQ6Ci0JCURQVV9FUlJPUl9FTkMo
ZHB1X2VuYywgInVuc3VwcG9ydGVkIGRpc3BsYXkgaW50ZXJmYWNlIHR5cGVcbiIpOwotCQlyZXR1
cm4gLUVJTlZBTDsKKwljYXNlIERSTV9NT0RFX0VOQ09ERVJfVE1EUzoKKwkJaW50Zl90eXBlID0g
SU5URl9EUDsKKwkJYnJlYWs7CiAJfQogCiAJV0FSTl9PTihkaXNwX2luZm8tPm51bV9vZl9oX3Rp
bGVzIDwgMSk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbXNtL2Rpc3AvZHB1MS9kcHVf
a21zLmMgYi9kcml2ZXJzL2dwdS9kcm0vbXNtL2Rpc3AvZHB1MS9kcHVfa21zLmMKaW5kZXggNmM5
MmYwZi4uZDVjMjkwYyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL21zbS9kaXNwL2RwdTEv
ZHB1X2ttcy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9tc20vZGlzcC9kcHUxL2RwdV9rbXMuYwpA
QCAtNDIxLDYgKzQyMSwzMyBAQCBzdGF0aWMgaW50IF9kcHVfa21zX2luaXRpYWxpemVfZHNpKHN0
cnVjdCBkcm1fZGV2aWNlICpkZXYsCiAJcmV0dXJuIHJjOwogfQogCitzdGF0aWMgaW50IF9kcHVf
a21zX2luaXRpYWxpemVfZGlzcGxheXBvcnQoc3RydWN0IGRybV9kZXZpY2UgKmRldiwKKwkJCQkJ
ICAgIHN0cnVjdCBtc21fZHJtX3ByaXZhdGUgKnByaXYsCisJCQkJCSAgICBzdHJ1Y3QgZHB1X2tt
cyAqZHB1X2ttcykKK3sKKwlzdHJ1Y3QgZHJtX2VuY29kZXIgKmVuY29kZXIgPSBOVUxMOworCWlu
dCByYyA9IDA7CisKKwlpZiAoIXByaXYtPmRwKQorCQlyZXR1cm4gcmM7CisKKwllbmNvZGVyID0g
ZHB1X2VuY29kZXJfaW5pdChkZXYsIERSTV9NT0RFX0VOQ09ERVJfVE1EUyk7CisJaWYgKElTX0VS
UihlbmNvZGVyKSkgeworCQlEUFVfRVJST1IoImVuY29kZXIgaW5pdCBmYWlsZWQgZm9yIGRzaSBk
aXNwbGF5XG4iKTsKKwkJcmV0dXJuIFBUUl9FUlIoZW5jb2Rlcik7OworCX0KKworCXJjID0gbXNt
X2RwX21vZGVzZXRfaW5pdChwcml2LT5kcCwgZGV2LCBlbmNvZGVyKTsKKwlpZiAocmMpIHsKKwkJ
RFBVX0VSUk9SKCJtb2Rlc2V0X2luaXQgZmFpbGVkIGZvciBEUCwgcmMgPSAlZFxuIiwgcmMpOwor
CQlkcm1fZW5jb2Rlcl9jbGVhbnVwKGVuY29kZXIpOworCQlyZXR1cm4gcmM7CisJfQorCisJcHJp
di0+ZW5jb2RlcnNbcHJpdi0+bnVtX2VuY29kZXJzKytdID0gZW5jb2RlcjsKKwlyZXR1cm4gcmM7
Cit9CisKIC8qKgogICogX2RwdV9rbXNfc2V0dXBfZGlzcGxheXMgLSBjcmVhdGUgZW5jb2RlcnMs
IGJyaWRnZXMgYW5kIGNvbm5lY3RvcnMKICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9y
IHVuZGVybHlpbmcgZGlzcGxheXMKQEAgLTQzMywxMiArNDYwLDIxIEBAIHN0YXRpYyBpbnQgX2Rw
dV9rbXNfc2V0dXBfZGlzcGxheXMoc3RydWN0IGRybV9kZXZpY2UgKmRldiwKIAkJCQkgICAgc3Ry
dWN0IG1zbV9kcm1fcHJpdmF0ZSAqcHJpdiwKIAkJCQkgICAgc3RydWN0IGRwdV9rbXMgKmRwdV9r
bXMpCiB7Ci0JLyoqCi0JICogRXh0ZW5kIHRoaXMgZnVuY3Rpb24gdG8gaW5pdGlhbGl6ZSBvdGhl
cgotCSAqIHR5cGVzIG9mIGRpc3BsYXlzCi0JICovCisJaW50IHJjID0gMDsKKworCXJjID0gX2Rw
dV9rbXNfaW5pdGlhbGl6ZV9kc2koZGV2LCBwcml2LCBkcHVfa21zKTsKKwlpZiAocmMpIHsKKwkJ
RFBVX0VSUk9SKCJpbml0aWFsaXplX2RzaSBmYWlsZWQsIHJjID0gJWRcbiIsIHJjKTsKKwkJcmV0
dXJuIHJjOworCX0KIAotCXJldHVybiBfZHB1X2ttc19pbml0aWFsaXplX2RzaShkZXYsIHByaXYs
IGRwdV9rbXMpOworCXJjID0gX2RwdV9rbXNfaW5pdGlhbGl6ZV9kaXNwbGF5cG9ydChkZXYsIHBy
aXYsIGRwdV9rbXMpOworCWlmIChyYykgeworCQlEUFVfRVJST1IoImluaXRpYWxpemVfRFAgZmFp
bGVkLCByYyA9ICVkXG4iLCByYyk7CisJCXJldHVybiByYzsKKwl9CisKKwlyZXR1cm4gcmM7CiB9
CiAKIHN0YXRpYyB2b2lkIF9kcHVfa21zX2RybV9vYmpfZGVzdHJveShzdHJ1Y3QgZHB1X2ttcyAq
ZHB1X2ttcykKQEAgLTYyNiwxMyArNjYyLDIwIEBAIHN0YXRpYyB2b2lkIF9kcHVfa21zX3NldF9l
bmNvZGVyX21vZGUoc3RydWN0IG1zbV9rbXMgKmttcywKIAlpbmZvLmNhcGFiaWxpdGllcyA9IGNt
ZF9tb2RlID8gTVNNX0RJU1BMQVlfQ0FQX0NNRF9NT0RFIDoKIAkJCU1TTV9ESVNQTEFZX0NBUF9W
SURfTU9ERTsKIAotCS8qIFRPRE86IE5vIHN1cHBvcnQgZm9yIERTSSBzd2FwICovCi0JZm9yIChp
ID0gMDsgaSA8IEFSUkFZX1NJWkUocHJpdi0+ZHNpKTsgaSsrKSB7Ci0JCWlmIChwcml2LT5kc2lb
aV0pIHsKLQkJCWluZm8uaF90aWxlX2luc3RhbmNlW2luZm8ubnVtX29mX2hfdGlsZXNdID0gaTsK
LQkJCWluZm8ubnVtX29mX2hfdGlsZXMrKzsKKwlzd2l0Y2ggKGluZm8uaW50Zl90eXBlKSB7CisJ
Y2FzZSBEUk1fTU9ERV9FTkNPREVSX0RTSToKKwkJLyogVE9ETzogTm8gc3VwcG9ydCBmb3IgRFNJ
IHN3YXAgKi8KKwkJZm9yIChpID0gMDsgaSA8IEFSUkFZX1NJWkUocHJpdi0+ZHNpKTsgaSsrKSB7
CisJCQlpZiAocHJpdi0+ZHNpW2ldKSB7CisJCQkJaW5mby5oX3RpbGVfaW5zdGFuY2VbaW5mby5u
dW1fb2ZfaF90aWxlc10gPSBpOworCQkJCWluZm8ubnVtX29mX2hfdGlsZXMrKzsKKwkJCX0KIAkJ
fQotCX0KKwkJYnJlYWs7CisJY2FzZSBEUk1fTU9ERV9FTkNPREVSX1RNRFM6CisJCWluZm8ubnVt
X29mX2hfdGlsZXMgPSAxOworCQlicmVhazsKKwl9OwogCiAJcmMgPSBkcHVfZW5jb2Rlcl9zZXR1
cChlbmNvZGVyLT5kZXYsIGVuY29kZXIsICZpbmZvKTsKIAlpZiAocmMpCi0tIApUaGUgUXVhbGNv
bW0gSW5ub3ZhdGlvbiBDZW50ZXIsIEluYy4gaXMgYSBtZW1iZXIgb2YgdGhlIENvZGUgQXVyb3Jh
IEZvcnVtLAphIExpbnV4IEZvdW5kYXRpb24gQ29sbGFib3JhdGl2ZSBQcm9qZWN0CgpfX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGlu
ZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVl
ZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
