Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 7DD5E1C985
	for <lists+dri-devel@lfdr.de>; Tue, 14 May 2019 15:39:05 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E502C89294;
	Tue, 14 May 2019 13:39:02 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail.kernel.org (mail.kernel.org [198.145.29.99])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 9D65D89294
 for <dri-devel@lists.freedesktop.org>; Tue, 14 May 2019 13:39:01 +0000 (UTC)
Received: from mail-qt1-f170.google.com (mail-qt1-f170.google.com
 [209.85.160.170])
 (using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
 (No client certificate requested)
 by mail.kernel.org (Postfix) with ESMTPSA id 5BE522147A
 for <dri-devel@lists.freedesktop.org>; Tue, 14 May 2019 13:39:01 +0000 (UTC)
Received: by mail-qt1-f170.google.com with SMTP id t1so10062891qtc.12
 for <dri-devel@lists.freedesktop.org>; Tue, 14 May 2019 06:39:01 -0700 (PDT)
X-Gm-Message-State: APjAAAWe6urD0uYvTl+H/BqTJ1JSvmYynxz0lTWRbCb0V2NqMfqclQos
 kG5jsDdLfv4UVU9fqWodjW8S9F3L3svMMhsTFQ==
X-Google-Smtp-Source: APXvYqwWD5pvw/KzHM2o/SW3pVtW1Fc8U2tVdpHrrf3ZCUVhEdpIAe8D9/db4Cgi/kdtrzY/CLYkWjG60UdUGXNXhKk=
X-Received: by 2002:a0c:d2f2:: with SMTP id x47mr28256681qvh.90.1557841140598; 
 Tue, 14 May 2019 06:39:00 -0700 (PDT)
MIME-Version: 1.0
References: <20190513175554.31804-1-ezequiel@collabora.com>
In-Reply-To: <20190513175554.31804-1-ezequiel@collabora.com>
From: Rob Herring <robh@kernel.org>
Date: Tue, 14 May 2019 08:38:49 -0500
X-Gmail-Original-Message-ID: <CAL_JsqLtDXxA5c_zP8SnKecWF+CMcG_eCvMKhaHjVtqQqswY0g@mail.gmail.com>
Message-ID: <CAL_JsqLtDXxA5c_zP8SnKecWF+CMcG_eCvMKhaHjVtqQqswY0g@mail.gmail.com>
Subject: Re: [PATCH] drm/panfrost: Make devfreq truly optional
To: Ezequiel Garcia <ezequiel@collabora.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=kernel.org; s=default; t=1557841141;
 bh=gW1OeRb3rbvbajcsVeBE+TIK0nN0AQzoNTfzs0oZZ/4=;
 h=References:In-Reply-To:From:Date:Subject:To:Cc:From;
 b=fV+oqKMohuxllJS7lTmIXblg52+1GoAFfSIcT6jJpIM10ME24WArHRCvkfRKyLWAG
 x4J9Y2FeU4RdqepLDHwbp7qLUEPYNSW4oyb4Nm108oPZ2EinywG+WwHsdKhNJGQKcw
 igfprG6lxSU06g/Xsossq0uClgLiyd3Wl2f1y00E=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: David Airlie <airlied@linux.ie>,
 dri-devel <dri-devel@lists.freedesktop.org>, kernel@collabora.com,
 Tomeu Vizoso <tomeu.vizoso@collabora.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gTW9uLCBNYXkgMTMsIDIwMTkgYXQgMTI6NTYgUE0gRXplcXVpZWwgR2FyY2lhIDxlemVxdWll
bEBjb2xsYWJvcmEuY29tPiB3cm90ZToKPgo+IEN1cnJlbnRseSwgdGhlcmUgaXMgc29tZSBsb2dp
YyB0byBtYWtlIGRldmZyZXEgb3B0aW9uYWwsCj4gYnV0IGl0IGZhaWxzIHRvIGNvdmVyIHNvbWUg
Y2FzZXMgc3VjaCBhcyAhQ09ORklHX1BNX0RFVkZSRVEuCgpGYWlscyBob3c/IGNvbXBpbGluZz8g
cnVudGltZT8gT3IganVzdCBidWlsZHMgZXh0cmEgY29kZT8KCj4gTW9yZW92ZXIsIGRlcGVuZGlu
ZyBvbiByZXR1cm4gY29kZXMgaXMgbm90IHJlc2lsaWVudCB0byBjaGFuZ2UsCj4gc28gbGV0J3Mg
dGFrZSBhIGRpZmZlcmVudCBhcHByb2FjaCwgaW50cm9kdWNpbmcgcHJvcGVyCj4gc3R1YnMgYW5k
IG9ubHkgY29uZGl0aW9uYWxseSBjb21waWxpbmcgdGhlIGRldmZyZXEgc3VwcG9ydC4KClRoZSBk
b3duc2lkZSBoZXJlIGlzIGFub3RoZXIgYnVpbGQgdGltZSBjb25maWd1cmF0aW9uIHRvIHRlc3Qu
IElzbid0CmRldmZyZXEgZXNzZW50aWFsbHkgZ29pbmcgdG8gYmUgcmVxdWlyZWQgdG8gcnVuIHRo
ZSBHUFUgYXQgaGlnaGVyCmZyZXF1ZW5jaWVzIGFuZCB0byBub3QgbWVsdCBpdD8KCj4KPiBTaWdu
ZWQtb2ZmLWJ5OiBFemVxdWllbCBHYXJjaWEgPGV6ZXF1aWVsQGNvbGxhYm9yYS5jb20+Cj4gLS0t
Cj4gIGRyaXZlcnMvZ3B1L2RybS9wYW5mcm9zdC9NYWtlZmlsZSAgICAgICAgICAgfCAgMyArKy0K
PiAgZHJpdmVycy9ncHUvZHJtL3BhbmZyb3N0L3BhbmZyb3N0X2RldmZyZXEuYyB8IDEzICsrLS0t
LS0tLS0tLS0KPiAgZHJpdmVycy9ncHUvZHJtL3BhbmZyb3N0L3BhbmZyb3N0X2RldmZyZXEuaCB8
IDE5ICsrKysrKysrKysrKysrKysrLS0KPiAgMyBmaWxlcyBjaGFuZ2VkLCAyMSBpbnNlcnRpb25z
KCspLCAxNCBkZWxldGlvbnMoLSkKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFu
ZnJvc3QvTWFrZWZpbGUgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZnJvc3QvTWFrZWZpbGUKPiBpbmRl
eCA2ZGU3MmQxM2M1OGYuLjhiNjkwNjcyZjlkOSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9k
cm0vcGFuZnJvc3QvTWFrZWZpbGUKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZnJvc3QvTWFr
ZWZpbGUKPiBAQCAtMywxMCArMywxMSBAQAo+ICBwYW5mcm9zdC15IDo9IFwKPiAgICAgICAgIHBh
bmZyb3N0X2Rydi5vIFwKPiAgICAgICAgIHBhbmZyb3N0X2RldmljZS5vIFwKPiAtICAgICAgIHBh
bmZyb3N0X2RldmZyZXEubyBcCj4gICAgICAgICBwYW5mcm9zdF9nZW0ubyBcCj4gICAgICAgICBw
YW5mcm9zdF9ncHUubyBcCj4gICAgICAgICBwYW5mcm9zdF9qb2IubyBcCj4gICAgICAgICBwYW5m
cm9zdF9tbXUubwo+Cj4gK3BhbmZyb3N0LSQoQ09ORklHX1BNX0RFVkZSRVEpICs9IHBhbmZyb3N0
X2RldmZyZXEubwo+ICsKPiAgb2JqLSQoQ09ORklHX0RSTV9QQU5GUk9TVCkgKz0gcGFuZnJvc3Qu
bwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZnJvc3QvcGFuZnJvc3RfZGV2ZnJl
cS5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmZyb3N0L3BhbmZyb3N0X2RldmZyZXEuYwo+IGluZGV4
IDIzOGJkMWQ4OWQ0My4uMjlmY2ZmZGYyZDU3IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9wYW5mcm9zdC9wYW5mcm9zdF9kZXZmcmVxLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFu
ZnJvc3QvcGFuZnJvc3RfZGV2ZnJlcS5jCj4gQEAgLTE0MCw4ICsxNDAsOCBAQCBpbnQgcGFuZnJv
c3RfZGV2ZnJlcV9pbml0KHN0cnVjdCBwYW5mcm9zdF9kZXZpY2UgKnBmZGV2KQo+ICAgICAgICAg
ICAgICAgICByZXR1cm4gMDsKPgo+ICAgICAgICAgcmV0ID0gZGV2X3BtX29wcF9vZl9hZGRfdGFi
bGUoJnBmZGV2LT5wZGV2LT5kZXYpOwo+IC0gICAgICAgaWYgKHJldCA9PSAtRU5PREVWKSAvKiBP
cHRpb25hbCwgY29udGludWUgd2l0aG91dCBkZXZmcmVxICovCj4gLSAgICAgICAgICAgICAgIHJl
dHVybiAwOwo+ICsgICAgICAgaWYgKHJldCkKPiArICAgICAgICAgICAgICAgcmV0dXJuIHJldDsK
Pgo+ICAgICAgICAgcGFuZnJvc3RfZGV2ZnJlcV9yZXNldChwZmRldik7Cj4KPiBAQCAtMTcwLDkg
KzE3MCw2IEBAIHZvaWQgcGFuZnJvc3RfZGV2ZnJlcV9yZXN1bWUoc3RydWN0IHBhbmZyb3N0X2Rl
dmljZSAqcGZkZXYpCj4gIHsKPiAgICAgICAgIGludCBpOwo+Cj4gLSAgICAgICBpZiAoIXBmZGV2
LT5kZXZmcmVxLmRldmZyZXEpCj4gLSAgICAgICAgICAgICAgIHJldHVybjsKPiAtCj4gICAgICAg
ICBwYW5mcm9zdF9kZXZmcmVxX3Jlc2V0KHBmZGV2KTsKPiAgICAgICAgIGZvciAoaSA9IDA7IGkg
PCBOVU1fSk9CX1NMT1RTOyBpKyspCj4gICAgICAgICAgICAgICAgIHBmZGV2LT5kZXZmcmVxLnNs
b3RbaV0uYnVzeSA9IGZhbHNlOwo+IEBAIC0xODIsOSArMTc5LDYgQEAgdm9pZCBwYW5mcm9zdF9k
ZXZmcmVxX3Jlc3VtZShzdHJ1Y3QgcGFuZnJvc3RfZGV2aWNlICpwZmRldikKPgo+ICB2b2lkIHBh
bmZyb3N0X2RldmZyZXFfc3VzcGVuZChzdHJ1Y3QgcGFuZnJvc3RfZGV2aWNlICpwZmRldikKPiAg
ewo+IC0gICAgICAgaWYgKCFwZmRldi0+ZGV2ZnJlcS5kZXZmcmVxKQo+IC0gICAgICAgICAgICAg
ICByZXR1cm47Cj4gLQo+ICAgICAgICAgZGV2ZnJlcV9zdXNwZW5kX2RldmljZShwZmRldi0+ZGV2
ZnJlcS5kZXZmcmVxKTsKPiAgfQo+Cj4gQEAgLTE5NCw5ICsxODgsNiBAQCBzdGF0aWMgdm9pZCBw
YW5mcm9zdF9kZXZmcmVxX3VwZGF0ZV91dGlsaXphdGlvbihzdHJ1Y3QgcGFuZnJvc3RfZGV2aWNl
ICpwZmRldiwgaQo+ICAgICAgICAga3RpbWVfdCBub3c7Cj4gICAgICAgICBrdGltZV90IGxhc3Q7
Cj4KPiAtICAgICAgIGlmICghcGZkZXYtPmRldmZyZXEuZGV2ZnJlcSkKPiAtICAgICAgICAgICAg
ICAgcmV0dXJuOwo+IC0KPiAgICAgICAgIG5vdyA9IGt0aW1lX2dldCgpOwo+ICAgICAgICAgbGFz
dCA9IHBmZGV2LT5kZXZmcmVxLnNsb3Rbc2xvdF0udGltZV9sYXN0X3VwZGF0ZTsKPgo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZnJvc3QvcGFuZnJvc3RfZGV2ZnJlcS5oIGIvZHJp
dmVycy9ncHUvZHJtL3BhbmZyb3N0L3BhbmZyb3N0X2RldmZyZXEuaAo+IGluZGV4IGViOTk5NTMx
ZWQ5MC4uNzZiNTZhOGRlNmUzIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5mcm9z
dC9wYW5mcm9zdF9kZXZmcmVxLmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZnJvc3QvcGFu
ZnJvc3RfZGV2ZnJlcS5oCj4gQEAgLTQsMTEgKzQsMjYgQEAKPiAgI2lmbmRlZiBfX1BBTkZST1NU
X0RFVkZSRVFfSF9fCj4gICNkZWZpbmUgX19QQU5GUk9TVF9ERVZGUkVRX0hfXwo+Cj4gKyNpZiBk
ZWZpbmVkKENPTkZJR19QTV9ERVZGUkVRKQo+ICBpbnQgcGFuZnJvc3RfZGV2ZnJlcV9pbml0KHN0
cnVjdCBwYW5mcm9zdF9kZXZpY2UgKnBmZGV2KTsKPiAtCj4gIHZvaWQgcGFuZnJvc3RfZGV2ZnJl
cV9yZXN1bWUoc3RydWN0IHBhbmZyb3N0X2RldmljZSAqcGZkZXYpOwo+ICB2b2lkIHBhbmZyb3N0
X2RldmZyZXFfc3VzcGVuZChzdHJ1Y3QgcGFuZnJvc3RfZGV2aWNlICpwZmRldik7Cj4gLQo+ICB2
b2lkIHBhbmZyb3N0X2RldmZyZXFfcmVjb3JkX3RyYW5zaXRpb24oc3RydWN0IHBhbmZyb3N0X2Rl
dmljZSAqcGZkZXYsIGludCBzbG90KTsKPiArI2Vsc2UKPiArc3RhdGljIGlubGluZSBpbnQgcGFu
ZnJvc3RfZGV2ZnJlcV9pbml0KHN0cnVjdCBwYW5mcm9zdF9kZXZpY2UgKnBmZGV2KQo+ICt7Cj4g
KyAgICAgICByZXR1cm4gMDsKPiArfQo+ICsKPiArc3RhdGljIGlubGluZSB2b2lkIHBhbmZyb3N0
X2RldmZyZXFfcmVzdW1lKHN0cnVjdCBwYW5mcm9zdF9kZXZpY2UgKnBmZGV2KQo+ICt7fQo+ICsK
PiArc3RhdGljIGlubGluZSB2b2lkIHBhbmZyb3N0X2RldmZyZXFfc3VzcGVuZChzdHJ1Y3QgcGFu
ZnJvc3RfZGV2aWNlICpwZmRldikKPiAre30KPiArCj4gK3N0YXRpYyBpbmxpbmUgdm9pZAo+ICtw
YW5mcm9zdF9kZXZmcmVxX3JlY29yZF90cmFuc2l0aW9uKHN0cnVjdCBwYW5mcm9zdF9kZXZpY2Ug
KnBmZGV2LCBpbnQgc2xvdCkKPiAre30KPiArI2VuZGlmCj4KPiAgI2VuZGlmIC8qIF9fUEFORlJP
U1RfREVWRlJFUV9IX18gKi8KPiAtLQo+IDIuMjAuMQo+Cl9fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVs
QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWls
bWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
