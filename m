Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 1231871972
	for <lists+dri-devel@lfdr.de>; Tue, 23 Jul 2019 15:38:16 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C58816E28C;
	Tue, 23 Jul 2019 13:38:12 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-lf1-x142.google.com (mail-lf1-x142.google.com
 [IPv6:2a00:1450:4864:20::142])
 by gabe.freedesktop.org (Postfix) with ESMTPS id CC5B76E28A
 for <dri-devel@lists.freedesktop.org>; Tue, 23 Jul 2019 13:38:10 +0000 (UTC)
Received: by mail-lf1-x142.google.com with SMTP id b29so22139016lfq.1
 for <dri-devel@lists.freedesktop.org>; Tue, 23 Jul 2019 06:38:10 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=NoM+u3eZl93GWMw56RZ3gY4cqzVCzROKb5N4Ny2Ql9w=;
 b=tg8uyW4FkHbh75YpxsxsQQPYcE3QNS3SCZgVSKhbNosY6RhpNjYTecs9kPtz8I9I0z
 6eF1iN9cCoQ8dBRkvpfuYY4jT5HkGloWVuxcOcKf8YUKZJhUUrSrozZuWlRegWZGsCkJ
 t4NnKjGT1ICSiJO/FTZGHHcDMWaSIa+ME0g3bwUL1WJGaWEBdXldUlr1wn6eBfZeuvKi
 qkp5hOPDr3nwTU8rmSZTdk3GQrljOYH7/p00+fXhOB4X2TFTwPRvh9ydu073A0sd5QVT
 Emy9LXLNWJUerFnCYv5y7ooirdExj0uOm16jTUKX/mnYundBdElHTmfHitGFoWaZUiA+
 cATQ==
X-Gm-Message-State: APjAAAV4ejg9tXMCAkQHMuAhlzdd/2QmouY/M6u1nSzUxqL76mIDWmVQ
 SrOFYYDWxBio9vgKkJx+mEjj3A==
X-Google-Smtp-Source: APXvYqx/agNR9O0NxKWUkg0HTDap2yeWtdIJN0/09VO7UVwZ1XEO3sMglPZrXN5ijjEJJJiv9xKMNQ==
X-Received: by 2002:a19:6b0e:: with SMTP id d14mr34277883lfa.174.1563889089021; 
 Tue, 23 Jul 2019 06:38:09 -0700 (PDT)
Received: from genomnajs.ideon.se ([85.235.10.227])
 by smtp.gmail.com with ESMTPSA id l24sm8069411lji.78.2019.07.23.06.38.07
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Tue, 23 Jul 2019 06:38:07 -0700 (PDT)
From: Linus Walleij <linus.walleij@linaro.org>
To: Daniel Tang <dt.tangr@gmail.com>,
	Fabian Vogt <fabian@ritter-vogt.de>
Subject: [PATCH 3/3] RFT: ARM: nspire: Move CLCD set-up to device tree
Date: Tue, 23 Jul 2019 15:37:55 +0200
Message-Id: <20190723133755.22677-4-linus.walleij@linaro.org>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190723133755.22677-1-linus.walleij@linaro.org>
References: <20190723133755.22677-1-linus.walleij@linaro.org>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=linaro.org; s=google;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=NoM+u3eZl93GWMw56RZ3gY4cqzVCzROKb5N4Ny2Ql9w=;
 b=GMZgH5hTIHYVDXVgnx9aTggTXry9d3EtswgkQeikW0/PTMcVYOrZSxHk9v2MEb3QXV
 DIFyjJfVuLIT9kvL0KTxyaEkBZV4yX8glp2E3OMotZ2KRvNuyDjwJqpysO24v78btCyM
 imtGhXXuyYMvbtv4whsweOS9Iq7tAraY6fTDb2cZU8KGrhfTVXopZIxrG2xm8vdJv7lO
 KIR41z+4Nw4SRa2Y/b0mptGPh5BLSYeo+gVxMr/t6ehv4pdpCt5ob+LxgMYFMlrLT+Ko
 QR7zKgoS2CQECU6VrtultzQvkp/iNXIMsVrxHHSIK7Yv1hoZkDjOBcrgQZjHFGcSUFEe
 KUPg==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: dri-devel@lists.freedesktop.org, linux-arm-kernel@lists.infradead.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhpcyBtb3ZlcyB0aGUgbnNwaXJlIG92ZXIgdG8gdXNpbmcgdGhlIGRldmljZSB0cmVlIHRvCnNl
dC11cCBhbmQgcHJvYmUgdGhlIFBMMTExIERSTSBkcml2ZXIgYW5kIHVzZSB0aGUgcGFuZWxzCmZy
b20gdGhlIHNpbXBsZS1wYW5lbCBkcml2ZXJzLgoKQ2M6IERhbmllbCBUYW5nIDxkdC50YW5nckBn
bWFpbC5jb20+CkNjOiBGYWJpYW4gVm9ndCA8ZmFiaWFuQHJpdHRlci12b2d0LmRlPgpTaWduZWQt
b2ZmLWJ5OiBMaW51cyBXYWxsZWlqIDxsaW51cy53YWxsZWlqQGxpbmFyby5vcmc+Ci0tLQogYXJj
aC9hcm0vYm9vdC9kdHMvbnNwaXJlLWNsYXNzaWMuZHRzaSB8ICAxOSArKysrLQogYXJjaC9hcm0v
Ym9vdC9kdHMvbnNwaXJlLWN4LmR0cyAgICAgICB8ICAxOCArKystCiBhcmNoL2FybS9ib290L2R0
cy9uc3BpcmUuZHRzaSAgICAgICAgIHwgIDEwICsrLQogYXJjaC9hcm0vbWFjaC1uc3BpcmUvTWFr
ZWZpbGUgICAgICAgICB8ICAgMSAtCiBhcmNoL2FybS9tYWNoLW5zcGlyZS9jbGNkLmMgICAgICAg
ICAgIHwgMTE0IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiBhcmNoL2FybS9tYWNoLW5zcGly
ZS9jbGNkLmggICAgICAgICAgIHwgIDEwIC0tLQogYXJjaC9hcm0vbWFjaC1uc3BpcmUvbnNwaXJl
LmMgICAgICAgICB8ICAyNSAtLS0tLS0KIDcgZmlsZXMgY2hhbmdlZCwgNDMgaW5zZXJ0aW9ucygr
KSwgMTU0IGRlbGV0aW9ucygtKQogZGVsZXRlIG1vZGUgMTAwNjQ0IGFyY2gvYXJtL21hY2gtbnNw
aXJlL2NsY2QuYwogZGVsZXRlIG1vZGUgMTAwNjQ0IGFyY2gvYXJtL21hY2gtbnNwaXJlL2NsY2Qu
aAoKZGlmZiAtLWdpdCBhL2FyY2gvYXJtL2Jvb3QvZHRzL25zcGlyZS1jbGFzc2ljLmR0c2kgYi9h
cmNoL2FybS9ib290L2R0cy9uc3BpcmUtY2xhc3NpYy5kdHNpCmluZGV4IGM1M2Y0Mjc3Nzg1MS4u
ZmFiZDgyNzBmMTY4IDEwMDY0NAotLS0gYS9hcmNoL2FybS9ib290L2R0cy9uc3BpcmUtY2xhc3Np
Yy5kdHNpCisrKyBiL2FyY2gvYXJtL2Jvb3QvZHRzL25zcGlyZS1jbGFzc2ljLmR0c2kKQEAgLTgs
NyArOCwxMyBAQAogL2luY2x1ZGUvICJuc3BpcmUuZHRzaSIKIAogJmxjZCB7Ci0JbGNkLXR5cGUg
PSAiY2xhc3NpYyI7CisJcG9ydCB7CisJCWNsY2RfcGFkczogZW5kcG9pbnQgeworCQkJcmVtb3Rl
LWVuZHBvaW50ID0gPCZwYW5lbF9pbj47CisJCQkvKiBEdW1teSB2YWx1ZXMsIHNpbmNlIHdlIGFy
ZSBncmF5c2NhbGUgKi8KKwkJCWFybSxwbDExeCx0ZnQtcjBnMGIwLXBhZHMgPSA8MCA4IDE2PjsK
KwkJfTsKKwl9OwogfTsKIAogJmZhc3RfdGltZXIgewpAQCAtNjksNiArNzUsMTcgQEAKIAkJCSNp
bnRlcnJ1cHQtY2VsbHMgPSA8MT47CiAJCX07CiAJfTsKKworCXBhbmVsIHsKKwkJY29tcGF0aWJs
ZSA9ICJ0aSxuc3BpcmUtY2xhc3NpYy1sY2QtcGFuZWwiOworCQlwb3J0cyB7CisJCQlwb3J0IHsK
KwkJCQlwYW5lbF9pbjogZW5kcG9pbnQgeworCQkJCQlyZW1vdGUtZW5kcG9pbnQgPSA8JmNsY2Rf
cGFkcz47CisJCQkJfTsKKwkJCX07CisJCX07CisJfTsKIAljaG9zZW4gewogCQlib290YXJncyA9
ICJkZWJ1ZyBlYXJseXByaW50ayBjb25zb2xlPXR0eTAgY29uc29sZT10dHlTMCwxMTUyMDBuOCBy
b290PS9kZXYvcmFtMCI7CiAJfTsKZGlmZiAtLWdpdCBhL2FyY2gvYXJtL2Jvb3QvZHRzL25zcGly
ZS1jeC5kdHMgYi9hcmNoL2FybS9ib290L2R0cy9uc3BpcmUtY3guZHRzCmluZGV4IGRhOTVjMzcz
NjY1MS4uMTU1MWQwZDAxODlmIDEwMDY0NAotLS0gYS9hcmNoL2FybS9ib290L2R0cy9uc3BpcmUt
Y3guZHRzCisrKyBiL2FyY2gvYXJtL2Jvb3QvZHRzL25zcGlyZS1jeC5kdHMKQEAgLTksNyArOSwx
MiBAQAogL2luY2x1ZGUvICJuc3BpcmUuZHRzaSIKIAogJmxjZCB7Ci0JbGNkLXR5cGUgPSAiY3gi
OworCXBvcnQgeworCQljbGNkX3BhZHM6IGVuZHBvaW50IHsKKwkJCXJlbW90ZS1lbmRwb2ludCA9
IDwmcGFuZWxfaW4+OworCQkJYXJtLHBsMTF4LHRmdC1yMGcwYjAtcGFkcyA9IDwwIDggMTY+Owor
CQl9OworCX07CiB9OwogCiAmZmFzdF90aW1lciB7CkBAIC0xMDYsNiArMTExLDE3IEBACiAJCQl9
OwogCQl9OwogCX07CisKKwlwYW5lbCB7CisJCWNvbXBhdGlibGUgPSAidGksbnNwaXJlLWN4LWxj
ZC1wYW5lbCI7CisJCXBvcnRzIHsKKwkJCXBvcnQgeworCQkJCXBhbmVsX2luOiBlbmRwb2ludCB7
CisJCQkJCXJlbW90ZS1lbmRwb2ludCA9IDwmY2xjZF9wYWRzPjsKKwkJCQl9OworCQkJfTsKKwkJ
fTsKKwl9OwogCWNob3NlbiB7CiAJCWJvb3RhcmdzID0gImRlYnVnIGVhcmx5cHJpbnRrIGNvbnNv
bGU9dHR5MCBjb25zb2xlPXR0eUFNQTAsMTE1MjAwbjggcm9vdD0vZGV2L3JhbTAiOwogCX07CmRp
ZmYgLS1naXQgYS9hcmNoL2FybS9ib290L2R0cy9uc3BpcmUuZHRzaSBiL2FyY2gvYXJtL2Jvb3Qv
ZHRzL25zcGlyZS5kdHNpCmluZGV4IGMzNWZkNjY2NzcxNi4uZDlhMGZkNzUyNGRjIDEwMDY0NAot
LS0gYS9hcmNoL2FybS9ib290L2R0cy9uc3BpcmUuZHRzaQorKysgYi9hcmNoL2FybS9ib290L2R0
cy9uc3BpcmUuZHRzaQpAQCAtOTUsOCArOTUsMTQgQEAKIAkJCXJlZyA9IDwweEMwMDAwMDAwIDB4
MTAwMD47CiAJCQlpbnRlcnJ1cHRzID0gPDIxPjsKIAotCQkJY2xvY2tzID0gPCZhcGJfcGNsaz47
Ci0JCQljbG9jay1uYW1lcyA9ICJhcGJfcGNsayI7CisJCQkvKgorCQkJICogV2UgYXNzdW1lIHRo
ZSBzYW1lIGNsb2NrIGlzIGZlZCB0byBBUEIgYW5kIENMQ0RDTEsuCisJCQkgKiBUaGVyZSBpcyBz
b21lIGNvZGUgdG8gc2NhbGUgdGhlIGNsb2NrIGRvd24gYnkgYSBmYWN0b3IKKwkJCSAqIDQ4IGZv
ciB0aGUgZGlzcGxheSBzbyBsaWtlbHkgdGhlIGZyZXF1ZW5jeSB0byB0aGUKKwkJCSAqIGRpc3Bs
YXkgaXMgMU1IeiBhbmQgdGhlIENMQ0RDTEsgaXMgNDggTUh6LgorCQkJICovCisJCQljbG9ja3Mg
PSA8JmFwYl9wY2xrPiwgPCZhcGJfcGNsaz47CisJCQljbG9jay1uYW1lcyA9ICJjbGNkY2xrIiwg
ImFwYl9wY2xrIjsKIAkJfTsKIAogCQlhZGM6IGFkY0BDNDAwMDAwMCB7CmRpZmYgLS1naXQgYS9h
cmNoL2FybS9tYWNoLW5zcGlyZS9NYWtlZmlsZSBiL2FyY2gvYXJtL21hY2gtbnNwaXJlL01ha2Vm
aWxlCmluZGV4IDFkNTY4YzYwMDQ1Mi4uNDcxNmI5YjlhYTdiIDEwMDY0NAotLS0gYS9hcmNoL2Fy
bS9tYWNoLW5zcGlyZS9NYWtlZmlsZQorKysgYi9hcmNoL2FybS9tYWNoLW5zcGlyZS9NYWtlZmls
ZQpAQCAtMSwzICsxLDIgQEAKICMgU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb25s
eQogb2JqLXkJCQkJKz0gbnNwaXJlLm8KLW9iai15CQkJCSs9IGNsY2QubwpkaWZmIC0tZ2l0IGEv
YXJjaC9hcm0vbWFjaC1uc3BpcmUvY2xjZC5jIGIvYXJjaC9hcm0vbWFjaC1uc3BpcmUvY2xjZC5j
CmRlbGV0ZWQgZmlsZSBtb2RlIDEwMDY0NAppbmRleCA0NDczOGRjYjM5MWQuLjAwMDAwMDAwMDAw
MAotLS0gYS9hcmNoL2FybS9tYWNoLW5zcGlyZS9jbGNkLmMKKysrIC9kZXYvbnVsbApAQCAtMSwx
MTQgKzAsMCBAQAotLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb25seQotLyoK
LSAqCWxpbnV4L2FyY2gvYXJtL21hY2gtbnNwaXJlL2NsY2QuYwotICoKLSAqCUNvcHlyaWdodCAo
QykgMjAxMyBEYW5pZWwgVGFuZyA8dGFuZ3JzQHRhbmdycy5pZC5hdT4KLSAqLwotCi0jaW5jbHVk
ZSA8bGludXgvaW5pdC5oPgotI2luY2x1ZGUgPGxpbnV4L29mLmg+Ci0jaW5jbHVkZSA8bGludXgv
YW1iYS9idXMuaD4KLSNpbmNsdWRlIDxsaW51eC9hbWJhL2NsY2QuaD4KLSNpbmNsdWRlIDxsaW51
eC9kbWEtbWFwcGluZy5oPgotCi1zdGF0aWMgc3RydWN0IGNsY2RfcGFuZWwgbnNwaXJlX2N4X2xj
ZF9wYW5lbCA9IHsKLQkubW9kZQkJPSB7Ci0JCS5uYW1lCQk9ICJDb2xvciBMQ0QiLAotCQkucmVm
cmVzaAk9IDYwLAotCQkueHJlcwkJPSAzMjAsCi0JCS55cmVzCQk9IDI0MCwKLQkJLnN5bmMJCT0g
MCwKLQkJLnZtb2RlCQk9IEZCX1ZNT0RFX05PTklOVEVSTEFDRUQsCi0JCS5waXhjbG9jawk9IDEs
Ci0JCS5oc3luY19sZW4JPSA2LAotCQkudnN5bmNfbGVuCT0gMSwKLQkJLnJpZ2h0X21hcmdpbgk9
IDUwLAotCQkubGVmdF9tYXJnaW4JPSAzOCwKLQkJLmxvd2VyX21hcmdpbgk9IDMsCi0JCS51cHBl
cl9tYXJnaW4JPSAxNywKLQl9LAotCS53aWR0aAkJPSA2NSwgLyogfjYuNTAgY20gKi8KLQkuaGVp
Z2h0CQk9IDQ5LCAvKiB+NC44NyBjbSAqLwotCS50aW0yCQk9IFRJTTJfSVBDLAotCS5jbnRsCQk9
IENOVExfTENEVEZUIHwgQ05UTF9MQ0RWQ09NUCgxKSwKLQkuYnBwCQk9IDE2LAotCS5jYXBzCQk9
IENMQ0RfQ0FQXzU2NSwKLX07Ci0KLXN0YXRpYyBzdHJ1Y3QgY2xjZF9wYW5lbCBuc3BpcmVfY2xh
c3NpY19sY2RfcGFuZWwgPSB7Ci0JLm1vZGUJCT0gewotCQkubmFtZQkJPSAiR3JheXNjYWxlIExD
RCIsCi0JCS5yZWZyZXNoCT0gNjAsCi0JCS54cmVzCQk9IDMyMCwKLQkJLnlyZXMJCT0gMjQwLAot
CQkuc3luYwkJPSBGQl9TWU5DX0hPUl9ISUdIX0FDVCB8IEZCX1NZTkNfVkVSVF9ISUdIX0FDVCwK
LQkJLnZtb2RlCQk9IEZCX1ZNT0RFX05PTklOVEVSTEFDRUQsCi0JCS5waXhjbG9jawk9IDEsCi0J
CS5oc3luY19sZW4JPSA2LAotCQkudnN5bmNfbGVuCT0gMSwKLQkJLnJpZ2h0X21hcmdpbgk9IDYs
Ci0JCS5sZWZ0X21hcmdpbgk9IDYsCi0JfSwKLQkud2lkdGgJCT0gNzEsIC8qIDcuMTFjbSAqLwot
CS5oZWlnaHQJCT0gNTMsIC8qIDUuMzNjbSAqLwotCS50aW0yCQk9IDB4ODAwMDdkMCwKLQkuY250
bAkJPSBDTlRMX0xDRE1PTk84LAotCS5icHAJCT0gOCwKLQkuZ3JheXNjYWxlCT0gMSwKLQkuY2Fw
cwkJPSBDTENEX0NBUF81NTUxLAotfTsKLQotaW50IG5zcGlyZV9jbGNkX3NldHVwKHN0cnVjdCBj
bGNkX2ZiICpmYikKLXsKLQlzdHJ1Y3QgY2xjZF9wYW5lbCAqcGFuZWw7Ci0Jc2l6ZV90IHBhbmVs
X3NpemU7Ci0JY29uc3QgY2hhciAqdHlwZTsKLQlkbWFfYWRkcl90IGRtYTsKLQlpbnQgZXJyOwot
Ci0JQlVHX09OKCFmYi0+ZGV2LT5kZXYub2Zfbm9kZSk7Ci0KLQllcnIgPSBvZl9wcm9wZXJ0eV9y
ZWFkX3N0cmluZyhmYi0+ZGV2LT5kZXYub2Zfbm9kZSwgImxjZC10eXBlIiwgJnR5cGUpOwotCWlm
IChlcnIpIHsKLQkJcHJfZXJyKCJDTENEOiBDb3VsZCBub3QgZmluZCBsY2QtdHlwZSBwcm9wZXJ0
eVxuIik7Ci0JCXJldHVybiBlcnI7Ci0JfQotCi0JaWYgKCFzdHJjbXAodHlwZSwgImN4IikpIHsK
LQkJcGFuZWwgPSAmbnNwaXJlX2N4X2xjZF9wYW5lbDsKLQl9IGVsc2UgaWYgKCFzdHJjbXAodHlw
ZSwgImNsYXNzaWMiKSkgewotCQlwYW5lbCA9ICZuc3BpcmVfY2xhc3NpY19sY2RfcGFuZWw7Ci0J
fSBlbHNlIHsKLQkJcHJfZXJyKCJDTENEOiBVbmtub3duIGxjZC10eXBlICVzXG4iLCB0eXBlKTsK
LQkJcmV0dXJuIC1FSU5WQUw7Ci0JfQotCi0JcGFuZWxfc2l6ZSA9ICgocGFuZWwtPm1vZGUueHJl
cyAqIHBhbmVsLT5tb2RlLnlyZXMpICogcGFuZWwtPmJwcCkgLyA4OwotCXBhbmVsX3NpemUgPSBB
TElHTihwYW5lbF9zaXplLCBQQUdFX1NJWkUpOwotCi0JZmItPmZiLnNjcmVlbl9iYXNlID0gZG1h
X2FsbG9jX3djKCZmYi0+ZGV2LT5kZXYsIHBhbmVsX3NpemUsICZkbWEsCi0JCQkJCSAgR0ZQX0tF
Uk5FTCk7Ci0KLQlpZiAoIWZiLT5mYi5zY3JlZW5fYmFzZSkgewotCQlwcl9lcnIoIkNMQ0Q6IHVu
YWJsZSB0byBtYXAgZnJhbWVidWZmZXJcbiIpOwotCQlyZXR1cm4gLUVOT01FTTsKLQl9Ci0KLQlm
Yi0+ZmIuZml4LnNtZW1fc3RhcnQgPSBkbWE7Ci0JZmItPmZiLmZpeC5zbWVtX2xlbiA9IHBhbmVs
X3NpemU7Ci0JZmItPnBhbmVsID0gcGFuZWw7Ci0KLQlyZXR1cm4gMDsKLX0KLQotaW50IG5zcGly
ZV9jbGNkX21tYXAoc3RydWN0IGNsY2RfZmIgKmZiLCBzdHJ1Y3Qgdm1fYXJlYV9zdHJ1Y3QgKnZt
YSkKLXsKLQlyZXR1cm4gZG1hX21tYXBfd2MoJmZiLT5kZXYtPmRldiwgdm1hLCBmYi0+ZmIuc2Ny
ZWVuX2Jhc2UsCi0JCQkgICBmYi0+ZmIuZml4LnNtZW1fc3RhcnQsIGZiLT5mYi5maXguc21lbV9s
ZW4pOwotfQotCi12b2lkIG5zcGlyZV9jbGNkX3JlbW92ZShzdHJ1Y3QgY2xjZF9mYiAqZmIpCi17
Ci0JZG1hX2ZyZWVfd2MoJmZiLT5kZXYtPmRldiwgZmItPmZiLmZpeC5zbWVtX2xlbiwgZmItPmZi
LnNjcmVlbl9iYXNlLAotCQkgICAgZmItPmZiLmZpeC5zbWVtX3N0YXJ0KTsKLX0KZGlmZiAtLWdp
dCBhL2FyY2gvYXJtL21hY2gtbnNwaXJlL2NsY2QuaCBiL2FyY2gvYXJtL21hY2gtbnNwaXJlL2Ns
Y2QuaApkZWxldGVkIGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggN2YzNmJkODUxMWM1Li4wMDAwMDAw
MDAwMDAKLS0tIGEvYXJjaC9hcm0vbWFjaC1uc3BpcmUvY2xjZC5oCisrKyAvZGV2L251bGwKQEAg
LTEsMTAgKzAsMCBAQAotLyogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb25seSAq
LwotLyoKLSAqCWxpbnV4L2FyY2gvYXJtL21hY2gtbnNwaXJlL2NsY2QuaAotICoKLSAqCUNvcHly
aWdodCAoQykgMjAxMyBEYW5pZWwgVGFuZyA8dGFuZ3JzQHRhbmdycy5pZC5hdT4KLSAqLwotCi1p
bnQgbnNwaXJlX2NsY2Rfc2V0dXAoc3RydWN0IGNsY2RfZmIgKmZiKTsKLWludCBuc3BpcmVfY2xj
ZF9tbWFwKHN0cnVjdCBjbGNkX2ZiICpmYiwgc3RydWN0IHZtX2FyZWFfc3RydWN0ICp2bWEpOwot
dm9pZCBuc3BpcmVfY2xjZF9yZW1vdmUoc3RydWN0IGNsY2RfZmIgKmZiKTsKZGlmZiAtLWdpdCBh
L2FyY2gvYXJtL21hY2gtbnNwaXJlL25zcGlyZS5jIGIvYXJjaC9hcm0vbWFjaC1uc3BpcmUvbnNw
aXJlLmMKaW5kZXggOTU3YmQwYzBmYmQ1Li4yZDRhYmIwMjg4YjkgMTAwNjQ0Ci0tLSBhL2FyY2gv
YXJtL21hY2gtbnNwaXJlL25zcGlyZS5jCisrKyBiL2FyY2gvYXJtL21hY2gtbnNwaXJlL25zcGly
ZS5jCkBAIC0xMiwxNCArMTIsMTIgQEAKICNpbmNsdWRlIDxsaW51eC9pcnFjaGlwL2FybS12aWMu
aD4KICNpbmNsdWRlIDxsaW51eC9jbGtkZXYuaD4KICNpbmNsdWRlIDxsaW51eC9hbWJhL2J1cy5o
PgotI2luY2x1ZGUgPGxpbnV4L2FtYmEvY2xjZC5oPgogCiAjaW5jbHVkZSA8YXNtL21hY2gvYXJj
aC5oPgogI2luY2x1ZGUgPGFzbS9tYWNoLXR5cGVzLmg+CiAjaW5jbHVkZSA8YXNtL21hY2gvbWFw
Lmg+CiAKICNpbmNsdWRlICJtbWlvLmgiCi0jaW5jbHVkZSAiY2xjZC5oIgogCiBzdGF0aWMgY29u
c3QgY2hhciAqY29uc3QgbnNwaXJlX2R0X21hdGNoW10gX19pbml0Y29uc3QgPSB7CiAJInRpLG5z
cGlyZSIsCkBAIC0yOSwyOCArMjcsNiBAQCBzdGF0aWMgY29uc3QgY2hhciAqY29uc3QgbnNwaXJl
X2R0X21hdGNoW10gX19pbml0Y29uc3QgPSB7CiAJTlVMTCwKIH07CiAKLXN0YXRpYyBzdHJ1Y3Qg
Y2xjZF9ib2FyZCBuc3BpcmVfY2xjZF9kYXRhID0gewotCS5uYW1lCQk9ICJMQ0QiLAotCS5jYXBz
CQk9IENMQ0RfQ0FQXzU1NTEgfCBDTENEX0NBUF81NjUsCi0JLmNoZWNrCQk9IGNsY2RmYl9jaGVj
aywKLQkuZGVjb2RlCQk9IGNsY2RmYl9kZWNvZGUsCi0JLnNldHVwCQk9IG5zcGlyZV9jbGNkX3Nl
dHVwLAotCS5tbWFwCQk9IG5zcGlyZV9jbGNkX21tYXAsCi0JLnJlbW92ZQkJPSBuc3BpcmVfY2xj
ZF9yZW1vdmUsCi19OwotCi0KLXN0YXRpYyBzdHJ1Y3Qgb2ZfZGV2X2F1eGRhdGEgbnNwaXJlX2F1
eGRhdGFbXSBfX2luaXRkYXRhID0gewotCU9GX0RFVl9BVVhEQVRBKCJhcm0scGwxMTEiLCBOU1BJ
UkVfTENEX1BIWVNfQkFTRSwKLQkJCU5VTEwsICZuc3BpcmVfY2xjZF9kYXRhKSwKLQl7IH0KLX07
Ci0KLXN0YXRpYyB2b2lkIF9faW5pdCBuc3BpcmVfaW5pdCh2b2lkKQotewotCW9mX3BsYXRmb3Jt
X2RlZmF1bHRfcG9wdWxhdGUoTlVMTCwgbnNwaXJlX2F1eGRhdGEsIE5VTEwpOwotfQotCiBzdGF0
aWMgdm9pZCBuc3BpcmVfcmVzdGFydChlbnVtIHJlYm9vdF9tb2RlIG1vZGUsIGNvbnN0IGNoYXIg
KmNtZCkKIHsKIAl2b2lkIF9faW9tZW0gKmJhc2UgPSBpb3JlbWFwKE5TUElSRV9NSVNDX1BIWVNf
QkFTRSwgU1pfNEspOwpAQCAtNjIsNiArMzgsNSBAQCBzdGF0aWMgdm9pZCBuc3BpcmVfcmVzdGFy
dChlbnVtIHJlYm9vdF9tb2RlIG1vZGUsIGNvbnN0IGNoYXIgKmNtZCkKIAogRFRfTUFDSElORV9T
VEFSVChOU1BJUkUsICJUSS1OU1BJUkUiKQogCS5kdF9jb21wYXQJPSBuc3BpcmVfZHRfbWF0Y2gs
Ci0JLmluaXRfbWFjaGluZQk9IG5zcGlyZV9pbml0LAogCS5yZXN0YXJ0CT0gbnNwaXJlX3Jlc3Rh
cnQsCiBNQUNISU5FX0VORAotLSAKMi4yMS4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0
cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9s
aXN0aW5mby9kcmktZGV2ZWw=
