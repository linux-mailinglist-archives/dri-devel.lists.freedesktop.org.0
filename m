Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id E769917A0DB
	for <lists+dri-devel@lfdr.de>; Thu,  5 Mar 2020 09:13:51 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0C51C6E408;
	Thu,  5 Mar 2020 08:13:50 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mailout1.w1.samsung.com (mailout1.w1.samsung.com
 [210.118.77.11])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2C47D6E408
 for <dri-devel@lists.freedesktop.org>; Thu,  5 Mar 2020 08:13:49 +0000 (UTC)
Received: from eucas1p2.samsung.com (unknown [182.198.249.207])
 by mailout1.w1.samsung.com (KnoxPortal) with ESMTP id
 20200305081345euoutp01c379ef18203f212352965e912d51cbda~5WkvLg80a1492314923euoutp01D
 for <dri-devel@lists.freedesktop.org>; Thu,  5 Mar 2020 08:13:45 +0000 (GMT)
DKIM-Filter: OpenDKIM Filter v2.11.0 mailout1.w1.samsung.com
 20200305081345euoutp01c379ef18203f212352965e912d51cbda~5WkvLg80a1492314923euoutp01D
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=samsung.com;
 s=mail20170921; t=1583396025;
 bh=8GwUKEqPb511dY0B/HRym3VyWGWahe4WeolVX4eTbo8=;
 h=Subject:To:Cc:From:Date:In-Reply-To:References:From;
 b=qGsJ6hngmvQJuYUrHWBNzA1XhVq6UKJ0GvB2BVPD0czKz30cwKGfi4FlqrQ+pZfOG
 EwK2T9H7M8a3Phd23ZSBM+Ln2t8vrsHFUByb0KuHjYiVGwMhNiiwDM3j9PljmCcZ83
 11uKHsuGC/Q7z6CAOrmye7DgKhdwkaXuKFwTCbi8=
Received: from eusmges3new.samsung.com (unknown [203.254.199.245]) by
 eucas1p1.samsung.com (KnoxPortal) with ESMTP id
 20200305081345eucas1p13fe9d222088f4cd58b0186e08b06fc86~5Wku-S6rR1265412654eucas1p1P;
 Thu,  5 Mar 2020 08:13:45 +0000 (GMT)
Received: from eucas1p1.samsung.com ( [182.198.249.206]) by
 eusmges3new.samsung.com (EUCPMTA) with SMTP id E7.6C.60698.9B4B06E5; Thu,  5
 Mar 2020 08:13:45 +0000 (GMT)
Received: from eusmtrp2.samsung.com (unknown [182.198.249.139]) by
 eucas1p2.samsung.com (KnoxPortal) with ESMTPA id
 20200305081344eucas1p210aadafaa9d38b58c2f1b06b7b8544ec~5WkunS-fA2347923479eucas1p2y;
 Thu,  5 Mar 2020 08:13:44 +0000 (GMT)
Received: from eusmgms2.samsung.com (unknown [182.198.249.180]) by
 eusmtrp2.samsung.com (KnoxPortal) with ESMTP id
 20200305081344eusmtrp28c189d2d69397b778eb2c901fc43c2e4~5WkumsxMc3101531015eusmtrp2u;
 Thu,  5 Mar 2020 08:13:44 +0000 (GMT)
X-AuditID: cbfec7f5-a0fff7000001ed1a-77-5e60b4b9ac57
Received: from eusmtip2.samsung.com ( [203.254.199.222]) by
 eusmgms2.samsung.com (EUCPMTA) with SMTP id 91.9F.07950.8B4B06E5; Thu,  5
 Mar 2020 08:13:44 +0000 (GMT)
Received: from [106.120.51.15] (unknown [106.120.51.15]) by
 eusmtip2.samsung.com (KnoxPortal) with ESMTPA id
 20200305081344eusmtip21ed1ba3d09382b43068bf9856d10bc95~5WkuL4OVc1057510575eusmtip2k;
 Thu,  5 Mar 2020 08:13:44 +0000 (GMT)
Subject: Re: [PATCH] drm/exynos: Fix cleanup of IOMMU related objects
To: Inki Dae <inki.dae@samsung.com>, dri-devel@lists.freedesktop.org,
 linux-samsung-soc@vger.kernel.org
From: Marek Szyprowski <m.szyprowski@samsung.com>
Message-ID: <3939a892-5d30-9647-30aa-81e3c9244c4f@samsung.com>
Date: Thu, 5 Mar 2020 09:13:44 +0100
User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:68.0) Gecko/20100101
 Thunderbird/68.5.0
MIME-Version: 1.0
In-Reply-To: <d392e79f-7209-d7f6-0f1a-3d3d6e4c4473@samsung.com>
Content-Language: en-US
X-Brightmail-Tracker: H4sIAAAAAAAAA+NgFprNKsWRmVeSWpSXmKPExsWy7djPc7o7tyTEGZzYKWxxa905VouNM9az
 Wlz5+p7NYtL9CSwWM87vY7KYMfklmwObx/3u40wefVtWMXp83iQXwBzFZZOSmpNZllqkb5fA
 lfF6wSbmgvWGFZ2XljE2MJ7W6GLk5JAQMJF4duoQaxcjF4eQwApGiV/TLzFDOF8YJZqe/4TK
 fGaUOLDuACtMy5cP6xkhEssZJdatfcUO4bxllNg5+Q47SJWwgKvE2e7nzCC2iECmxIEn0xlB
 bGaBdkaJtcfjQWw2AUOJrrddbF2MHBy8AnYSnXMLQMIsAioSy049YgGxRQViJWavPAxm8woI
 Spyc+YQFpJxTwF5i/ZR4iInyEs1bZzND2OISt57MZwI5R0JgEbvEr0f/WCCOdpFo/byXCcIW
 lnh1fAs7hC0j8X8nTEMzo8TDc2vZIZweRonLTTMYIaqsJe6c+wV2KLOApsT6XfoQYUeJ3o+X
 2EHCEgJ8EjfeCkIcwScxadt0Zogwr0RHmxBEtZrErOPr4NYevHCJeQKj0iwkn81C8s4sJO/M
 Qti7gJFlFaN4amlxbnpqsXFearlecWJucWleul5yfu4mRmCSOf3v+NcdjPv+JB1iFOBgVOLh
 fTE1Pk6INbGsuDL3EKMEB7OSCK+wKVCINyWxsiq1KD++qDQntfgQozQHi5I4r/Gil7FCAumJ
 JanZqakFqUUwWSYOTqkGxlKeya5dp7c69Ok4sCfEKokFxJk6vDqyaME91jrFnS0zYv3ml659
 +GD16rSCvSohe31PlzdVeW9ZM0Fo9UlmfXUjziOGs4TtvwR9dRE//VDn6Vn5Z/MTd31NVWaw
 Zeg4t19A7tFuVs53MVOSzeZxCn0Q5WOtz9WQKeS/ljqVb//D/XvmXlxSqcRSnJFoqMVcVJwI
 AJYM31AuAwAA
X-Brightmail-Tracker: H4sIAAAAAAAAA+NgFlrLIsWRmVeSWpSXmKPExsVy+t/xe7o7tiTEGWz+ZGlxa905VouNM9az
 Wlz5+p7NYtL9CSwWM87vY7KYMfklmwObx/3u40wefVtWMXp83iQXwBylZ1OUX1qSqpCRX1xi
 qxRtaGGkZ2hpoWdkYqlnaGwea2VkqqRvZ5OSmpNZllqkb5egl/F6wSbmgvWGFZ2XljE2MJ7W
 6GLk5JAQMJH48mE9I4gtJLCUUWLqBTeIuIzEyWkNrBC2sMSfa11sXYxcQDWvGSVObesGaxAW
 cJU42/2cGcQWEciUeNm8nhmkiFmgnVHiyL4OdoiOY4wSLTMWglWxCRhKdL0FGcXBwStgJ9E5
 twAkzCKgIrHs1CMWEFtUIFbixswOJhCbV0BQ4uTMJywg5ZwC9hLrp8SDhJkFzCTmbX7IDGHL
 SzRvnQ1li0vcejKfaQKj0Cwk3bOQtMxC0jILScsCRpZVjCKppcW56bnFRnrFibnFpXnpesn5
 uZsYgVG17djPLTsYu94FH2IU4GBU4uFdYJ4QJ8SaWFZcmXuIUYKDWUmEV9g0Pk6INyWxsiq1
 KD++qDQntfgQoynQbxOZpUST84ERn1cSb2hqaG5haWhubG5sZqEkztshcDBGSCA9sSQ1OzW1
 ILUIpo+Jg1OqgTHb8puzXmq1TNFdfwXN2uYtm7WKAk59vah+oPONx/xFP/Y5Kd47/SPg7uWJ
 J8P+8mo13dyWmiVgkRzbq3n9b9WssM81h96lu+8Ri8t+/+ehxNW1cvXnr9u5SXjdqJl9lY9Z
 Ir/auuHs6sAd/deq6z59VZDPft5z0MK76N1FwdoY87nqaq07XiixFGckGmoxFxUnAgDCfwP5
 wAIAAA==
X-CMS-MailID: 20200305081344eucas1p210aadafaa9d38b58c2f1b06b7b8544ec
X-Msg-Generator: CA
X-RootMTR: 20200302142822eucas1p1749e7cd54ad0b8657b753a8b720ccba2
X-EPHeader: CA
CMS-TYPE: 201P
X-CMS-RootMailID: 20200302142822eucas1p1749e7cd54ad0b8657b753a8b720ccba2
References: <CGME20200302142822eucas1p1749e7cd54ad0b8657b753a8b720ccba2@eucas1p1.samsung.com>
 <20200302142709.15007-1-m.szyprowski@samsung.com>
 <d392e79f-7209-d7f6-0f1a-3d3d6e4c4473@samsung.com>
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Andrzej Hajda <a.hajda@samsung.com>, Seung-Woo Kim <sw0312.kim@samsung.com>,
 Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgSW5raSwKCk9uIDA1LjAzLjIwMjAgMDk6MDEsIElua2kgRGFlIHdyb3RlOgo+IEhpIE1hcmVr
LAo+Cj4gMjAuIDMuIDIuIOyYpO2bhCAxMToyN+yXkCBNYXJlayBTenlwcm93c2tpIOydtCjqsIAp
IOyTtCDquIA6Cj4+IFN0b3JlIHRoZSBJT01NVSBtYXBwaW5nIGNyZWF0ZWQgYnkgZGV2aWNlIGNv
cmUgb2YgZWFjaCBFeHlub3MgRFJNCj4+IHN1Yi1kZXZpY2UgYW5kIHJlc3RvcmUgaXQgd2hlbiBF
eHlub3MgRFJNIGRyaXZlciBpcyB1bmJvdW5kLiBUaGlzIGZpeGVzCj4+IElPTU1VIGluaXRpYWxp
emF0aW9uIGZhaWx1cmUgZm9yIHRoZSBzZWNvbmQgdGltZSB3aGVuIGRlZmVycmVkIHByb2JlIGlz
Cj4+IHRyaWdnZXJlZCBmcm9tIHRoZSBiaW5kKCkgY2FsbGJhY2sgb2YgbWFzdGVyJ3MgY29tcG91
bmQgRFJNIGRyaXZlci4KPj4KPj4gU2lnbmVkLW9mZi1ieTogTWFyZWsgU3p5cHJvd3NraSA8bS5z
enlwcm93c2tpQHNhbXN1bmcuY29tPgo+PiAtLS0KPj4gICBkcml2ZXJzL2dwdS9kcm0vZXh5bm9z
L2V4eW5vczU0MzNfZHJtX2RlY29uLmMgfCAgNSArKystLQo+PiAgIGRyaXZlcnMvZ3B1L2RybS9l
eHlub3MvZXh5bm9zN19kcm1fZGVjb24uYyAgICB8ICA1ICsrKy0tCj4+ICAgZHJpdmVycy9ncHUv
ZHJtL2V4eW5vcy9leHlub3NfZHJtX2RtYS5jICAgICAgIHwgMjIgKysrKysrKysrKystLS0tLS0t
LQo+PiAgIGRyaXZlcnMvZ3B1L2RybS9leHlub3MvZXh5bm9zX2RybV9kcnYuaCAgICAgICB8ICA2
ICsrKy0tCj4+ICAgZHJpdmVycy9ncHUvZHJtL2V4eW5vcy9leHlub3NfZHJtX2ZpbWMuYyAgICAg
IHwgIDUgKysrLS0KPj4gICBkcml2ZXJzL2dwdS9kcm0vZXh5bm9zL2V4eW5vc19kcm1fZmltZC5j
ICAgICAgfCAgNSArKystLQo+PiAgIGRyaXZlcnMvZ3B1L2RybS9leHlub3MvZXh5bm9zX2RybV9n
MmQuYyAgICAgICB8ICA1ICsrKy0tCj4+ICAgZHJpdmVycy9ncHUvZHJtL2V4eW5vcy9leHlub3Nf
ZHJtX2dzYy5jICAgICAgIHwgIDUgKysrLS0KPj4gICBkcml2ZXJzL2dwdS9kcm0vZXh5bm9zL2V4
eW5vc19kcm1fcm90YXRvci5jICAgfCAgNSArKystLQo+PiAgIGRyaXZlcnMvZ3B1L2RybS9leHlu
b3MvZXh5bm9zX2RybV9zY2FsZXIuYyAgICB8ICA2ICsrKy0tCj4+ICAgZHJpdmVycy9ncHUvZHJt
L2V4eW5vcy9leHlub3NfbWl4ZXIuYyAgICAgICAgIHwgIDcgKysrKy0tCj4+ICAgMTEgZmlsZXMg
Y2hhbmdlZCwgNDcgaW5zZXJ0aW9ucygrKSwgMjkgZGVsZXRpb25zKC0pCj4+Cj4+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vZXh5bm9zL2V4eW5vczU0MzNfZHJtX2RlY29uLmMgYi9kcml2
ZXJzL2dwdS9kcm0vZXh5bm9zL2V4eW5vczU0MzNfZHJtX2RlY29uLmMKPj4gaW5kZXggODQyOGFl
MTJkZmE1Li4xZjc5YmMyYTg4MWUgMTAwNjQ0Cj4+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9leHlu
b3MvZXh5bm9zNTQzM19kcm1fZGVjb24uYwo+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vZXh5bm9z
L2V4eW5vczU0MzNfZHJtX2RlY29uLmMKPj4gQEAgLTU1LDYgKzU1LDcgQEAgc3RhdGljIGNvbnN0
IGNoYXIgKiBjb25zdCBkZWNvbl9jbGtzX25hbWVbXSA9IHsKPj4gICBzdHJ1Y3QgZGVjb25fY29u
dGV4dCB7Cj4+ICAgCXN0cnVjdCBkZXZpY2UJCQkqZGV2Owo+PiAgIAlzdHJ1Y3QgZHJtX2Rldmlj
ZQkJKmRybV9kZXY7Cj4+ICsJdm9pZAkJCQkqZG1hX3ByaXY7Cj4+ICAgCXN0cnVjdCBleHlub3Nf
ZHJtX2NydGMJCSpjcnRjOwo+PiAgIAlzdHJ1Y3QgZXh5bm9zX2RybV9wbGFuZQkJcGxhbmVzW1dJ
TkRPV1NfTlJdOwo+PiAgIAlzdHJ1Y3QgZXh5bm9zX2RybV9wbGFuZV9jb25maWcJY29uZmlnc1tX
SU5ET1dTX05SXTsKPj4gQEAgLTY0NCw3ICs2NDUsNyBAQCBzdGF0aWMgaW50IGRlY29uX2JpbmQo
c3RydWN0IGRldmljZSAqZGV2LCBzdHJ1Y3QgZGV2aWNlICptYXN0ZXIsIHZvaWQgKmRhdGEpCj4+
ICAgCj4+ICAgCWRlY29uX2NsZWFyX2NoYW5uZWxzKGN0eC0+Y3J0Yyk7Cj4+ICAgCj4+IC0JcmV0
dXJuIGV4eW5vc19kcm1fcmVnaXN0ZXJfZG1hKGRybV9kZXYsIGRldik7Cj4+ICsJcmV0dXJuIGV4
eW5vc19kcm1fcmVnaXN0ZXJfZG1hKGRybV9kZXYsIGRldiwgJmN0eC0+ZG1hX3ByaXYpOwo+PiAg
IH0KPj4gICAKPj4gICBzdGF0aWMgdm9pZCBkZWNvbl91bmJpbmQoc3RydWN0IGRldmljZSAqZGV2
LCBzdHJ1Y3QgZGV2aWNlICptYXN0ZXIsIHZvaWQgKmRhdGEpCj4+IEBAIC02NTQsNyArNjU1LDcg
QEAgc3RhdGljIHZvaWQgZGVjb25fdW5iaW5kKHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGRl
dmljZSAqbWFzdGVyLCB2b2lkICpkYXRhKQo+PiAgIAlkZWNvbl9hdG9taWNfZGlzYWJsZShjdHgt
PmNydGMpOwo+PiAgIAo+PiAgIAkvKiBkZXRhY2ggdGhpcyBzdWIgZHJpdmVyIGZyb20gaW9tbXUg
bWFwcGluZyBpZiBzdXBwb3J0ZWQuICovCj4+IC0JZXh5bm9zX2RybV91bnJlZ2lzdGVyX2RtYShj
dHgtPmRybV9kZXYsIGN0eC0+ZGV2KTsKPj4gKwlleHlub3NfZHJtX3VucmVnaXN0ZXJfZG1hKGN0
eC0+ZHJtX2RldiwgY3R4LT5kZXYsICZjdHgtPmRtYV9wcml2KTsKPj4gICB9Cj4+ICAgCj4+ICAg
c3RhdGljIGNvbnN0IHN0cnVjdCBjb21wb25lbnRfb3BzIGRlY29uX2NvbXBvbmVudF9vcHMgPSB7
Cj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vZXh5bm9zL2V4eW5vczdfZHJtX2RlY29u
LmMgYi9kcml2ZXJzL2dwdS9kcm0vZXh5bm9zL2V4eW5vczdfZHJtX2RlY29uLmMKPj4gaW5kZXgg
ZmY1OWM2NDFmYTgwLi4xZWVkMzMyNzk5OWYgMTAwNjQ0Cj4+IC0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9leHlub3MvZXh5bm9zN19kcm1fZGVjb24uYwo+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vZXh5
bm9zL2V4eW5vczdfZHJtX2RlY29uLmMKPj4gQEAgLTQwLDYgKzQwLDcgQEAKPj4gICBzdHJ1Y3Qg
ZGVjb25fY29udGV4dCB7Cj4+ICAgCXN0cnVjdCBkZXZpY2UJCQkqZGV2Owo+PiAgIAlzdHJ1Y3Qg
ZHJtX2RldmljZQkJKmRybV9kZXY7Cj4+ICsJdm9pZAkJCQkqZG1hX3ByaXY7Cj4+ICAgCXN0cnVj
dCBleHlub3NfZHJtX2NydGMJCSpjcnRjOwo+PiAgIAlzdHJ1Y3QgZXh5bm9zX2RybV9wbGFuZQkJ
cGxhbmVzW1dJTkRPV1NfTlJdOwo+PiAgIAlzdHJ1Y3QgZXh5bm9zX2RybV9wbGFuZV9jb25maWcJ
Y29uZmlnc1tXSU5ET1dTX05SXTsKPj4gQEAgLTEyNywxMyArMTI4LDEzIEBAIHN0YXRpYyBpbnQg
ZGVjb25fY3R4X2luaXRpYWxpemUoc3RydWN0IGRlY29uX2NvbnRleHQgKmN0eCwKPj4gICAKPj4g
ICAJZGVjb25fY2xlYXJfY2hhbm5lbHMoY3R4LT5jcnRjKTsKPj4gICAKPj4gLQlyZXR1cm4gZXh5
bm9zX2RybV9yZWdpc3Rlcl9kbWEoZHJtX2RldiwgY3R4LT5kZXYpOwo+PiArCXJldHVybiBleHlu
b3NfZHJtX3JlZ2lzdGVyX2RtYShkcm1fZGV2LCBjdHgtPmRldiwgJmN0eC0+ZG1hX3ByaXYpOwo+
PiAgIH0KPj4gICAKPj4gICBzdGF0aWMgdm9pZCBkZWNvbl9jdHhfcmVtb3ZlKHN0cnVjdCBkZWNv
bl9jb250ZXh0ICpjdHgpCj4+ICAgewo+PiAgIAkvKiBkZXRhY2ggdGhpcyBzdWIgZHJpdmVyIGZy
b20gaW9tbXUgbWFwcGluZyBpZiBzdXBwb3J0ZWQuICovCj4+IC0JZXh5bm9zX2RybV91bnJlZ2lz
dGVyX2RtYShjdHgtPmRybV9kZXYsIGN0eC0+ZGV2KTsKPj4gKwlleHlub3NfZHJtX3VucmVnaXN0
ZXJfZG1hKGN0eC0+ZHJtX2RldiwgY3R4LT5kZXYsICZjdHgtPmRtYV9wcml2KTsKPj4gICB9Cj4+
ICAgCj4+ICAgc3RhdGljIHUzMiBkZWNvbl9jYWxjX2Nsa2RpdihzdHJ1Y3QgZGVjb25fY29udGV4
dCAqY3R4LAo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2V4eW5vcy9leHlub3NfZHJt
X2RtYS5jIGIvZHJpdmVycy9ncHUvZHJtL2V4eW5vcy9leHlub3NfZHJtX2RtYS5jCj4+IGluZGV4
IDllYmMwMjc2ODg0Ny4uNDgyYmVjNzc1NmZhIDEwMDY0NAo+PiAtLS0gYS9kcml2ZXJzL2dwdS9k
cm0vZXh5bm9zL2V4eW5vc19kcm1fZG1hLmMKPj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2V4eW5v
cy9leHlub3NfZHJtX2RtYS5jCj4+IEBAIC01OCw3ICs1OCw3IEBAIHN0YXRpYyBpbmxpbmUgdm9p
ZCBjbGVhcl9kbWFfbWF4X3NlZ19zaXplKHN0cnVjdCBkZXZpY2UgKmRldikKPj4gICAgKiBtYXBw
aW5nLgo+PiAgICAqLwo+PiAgIHN0YXRpYyBpbnQgZHJtX2lvbW11X2F0dGFjaF9kZXZpY2Uoc3Ry
dWN0IGRybV9kZXZpY2UgKmRybV9kZXYsCj4+IC0JCQkJc3RydWN0IGRldmljZSAqc3ViZHJ2X2Rl
dikKPj4gKwkJCQlzdHJ1Y3QgZGV2aWNlICpzdWJkcnZfZGV2LCB2b2lkICoqZG1hX3ByaXYpCj4+
ICAgewo+PiAgIAlzdHJ1Y3QgZXh5bm9zX2RybV9wcml2YXRlICpwcml2ID0gZHJtX2Rldi0+ZGV2
X3ByaXZhdGU7Cj4+ICAgCWludCByZXQ7Cj4+IEBAIC03NCw3ICs3NCw4IEBAIHN0YXRpYyBpbnQg
ZHJtX2lvbW11X2F0dGFjaF9kZXZpY2Uoc3RydWN0IGRybV9kZXZpY2UgKmRybV9kZXYsCj4+ICAg
CQlyZXR1cm4gcmV0Owo+PiAgIAo+PiAgIAlpZiAoSVNfRU5BQkxFRChDT05GSUdfQVJNX0RNQV9V
U0VfSU9NTVUpKSB7Cj4+IC0JCWlmICh0b19kbWFfaW9tbXVfbWFwcGluZyhzdWJkcnZfZGV2KSkK
Pj4gKwkJKmRtYV9wcml2ID0gdG9fZG1hX2lvbW11X21hcHBpbmcoc3ViZHJ2X2Rldik7Cj4+ICsJ
CWlmICgqZG1hX3ByaXYpCj4+ICAgCQkJYXJtX2lvbW11X2RldGFjaF9kZXZpY2Uoc3ViZHJ2X2Rl
dik7Cj4+ICAgCj4+ICAgCQlyZXQgPSBhcm1faW9tbXVfYXR0YWNoX2RldmljZShzdWJkcnZfZGV2
LCBwcml2LT5tYXBwaW5nKTsKPj4gQEAgLTk4LDE5ICs5OSwyMSBAQCBzdGF0aWMgaW50IGRybV9p
b21tdV9hdHRhY2hfZGV2aWNlKHN0cnVjdCBkcm1fZGV2aWNlICpkcm1fZGV2LAo+PiAgICAqIG1h
cHBpbmcKPj4gICAgKi8KPj4gICBzdGF0aWMgdm9pZCBkcm1faW9tbXVfZGV0YWNoX2RldmljZShz
dHJ1Y3QgZHJtX2RldmljZSAqZHJtX2RldiwKPj4gLQkJCQlzdHJ1Y3QgZGV2aWNlICpzdWJkcnZf
ZGV2KQo+PiArCQkJCSAgICBzdHJ1Y3QgZGV2aWNlICpzdWJkcnZfZGV2LCB2b2lkICoqZG1hX3By
aXYpCj4+ICAgewo+PiAgIAlzdHJ1Y3QgZXh5bm9zX2RybV9wcml2YXRlICpwcml2ID0gZHJtX2Rl
di0+ZGV2X3ByaXZhdGU7Cj4+ICAgCj4+IC0JaWYgKElTX0VOQUJMRUQoQ09ORklHX0FSTV9ETUFf
VVNFX0lPTU1VKSkKPj4gKwlpZiAoSVNfRU5BQkxFRChDT05GSUdfQVJNX0RNQV9VU0VfSU9NTVUp
KSB7Cj4+ICAgCQlhcm1faW9tbXVfZGV0YWNoX2RldmljZShzdWJkcnZfZGV2KTsKPj4gLQllbHNl
IGlmIChJU19FTkFCTEVEKENPTkZJR19JT01NVV9ETUEpKQo+PiArCQlhcm1faW9tbXVfYXR0YWNo
X2RldmljZShzdWJkcnZfZGV2LCAqZG1hX3ByaXYpOwo+IEkgZG9uJ3Qgc2VlIHdoeSBhcm1faW9t
bXVfYXR0YWNoX2RldmljZSBmdW5jdGlvbiBzaG91bGQgYmUgY2FsbGVkIGFnYWluIGF0IGRybV9p
b21tdV9kZXRhY2hfZGV2aWNlIGZ1bmN0aW9uLgo+IEkgdGhpbmsgaXQgc2hvdWxkIGJlIG5vIHBy
b2JsZW0gd2l0aG91dCBhcm1faW9tbXVfYXR0YWNoX2RldmljZSBjYWxsLgoKSWYgZGV2aWNlIGlz
IG5vdCBhdHRhY2hlZCBhZ2FpbiB0byB0aGUgbWFwcGluZyBjcmVhdGVkIGJ5IHRoZSBETUEgCmZy
YW1ld29yaywgaXQgd2lsbCBiZSBsYXRlciBjb25zaWRlcmVkIGFzIGEgZGV2aWNlIHdpdGhvdXQg
SU9NTVUuCgo+IElmIHRoZXJlIGlzIGFueSBwcm9ibGVtIHdpdGhvdXQgYXJtX2lvbW11X2F0dGFj
aF9kZXZpY2UgZnVuY3Rpb24gY2FsbCB0aGVuIG1heWJlIGdldHRpbmcgd3Jvbmcgc29tZXdoZXJl
IGJ1dCBub3QgaGVyZS4KClRoZSBwcm9ibGVtIHdpbGwgYmUgZHVyaW5nIHRoZSBzZWNvbmQgaW5p
dGlhbGl6YXRpb24gb2YgRXh5bm9zIERSTSwgCm1haW5seSBpZiB0aGUgZmlyc3QgaW5pdGlhbGl6
YXRpb24gaXMgaW50ZXJydXB0ZWQgYnkgZGVmZXJyZWQgcHJvYmUuIApUaGlzIGlzc3VlIHdvdWxk
IGJlIGFsc28gdmlzaWJsZSB3aGVuIEV4eW5vcyBEUk0gaXMgY29tcGlsZWQgYXMgbW9kdWxlIAph
bmQgbG9hZGVkLCByZW1vdmVkIGFuZCBsb2FkZWQgYWdhaW4uIFNhZGx5LCBkdWUgdG8gc29tZSBj
aXJjdWxhciAKZGVwZW5kZW5jaWVzLCB0aGlzIGlzIG5vdCB5ZXQgcG9zc2libGUgd2l0aG91dCB0
aGUgaGFja3MuCgpCZXN0IHJlZ2FyZHMKLS0gCk1hcmVrIFN6eXByb3dza2ksIFBoRApTYW1zdW5n
IFImRCBJbnN0aXR1dGUgUG9sYW5kCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVl
ZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5m
by9kcmktZGV2ZWwK
