Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 15DD04B2D4
	for <lists+dri-devel@lfdr.de>; Wed, 19 Jun 2019 09:12:06 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 509606E2E3;
	Wed, 19 Jun 2019 07:11:43 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mo6-p01-ob.smtp.rzone.de (mo6-p01-ob.smtp.rzone.de
 [IPv6:2a01:238:20a:202:5301::4])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 52FA06E1D8
 for <dri-devel@lists.freedesktop.org>; Tue, 18 Jun 2019 14:12:09 +0000 (UTC)
X-RZG-AUTH: ":OWANVUa4dPFUgKR/3dpvnYP0Np73amq+g13rqGzmt2bYDnKIKaws6YXTsc4="
X-RZG-CLASS-ID: mo00
Received: from oxapp03-03.back.ox.d0m.de by smtp-ox.front (RZmta 44.24 AUTH)
 with ESMTPSA id h0a328v5IEC11hG
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-SHA384 (curve X9_62_prime256v1
 with 256 ECDH bits, eq. 3072 bits RSA))
 (Client did not present a certificate);
 Tue, 18 Jun 2019 16:12:01 +0200 (CEST)
Date: Tue, 18 Jun 2019 16:12:01 +0200 (CEST)
From: Ulrich Hecht <uli@fpond.eu>
To: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>,
 dri-devel@lists.freedesktop.org
Message-ID: <611022872.795369.1560867121209@webmail.strato.com>
In-Reply-To: <20190617210930.6054-11-laurent.pinchart+renesas@ideasonboard.com>
References: <20190617210930.6054-1-laurent.pinchart+renesas@ideasonboard.com>
 <20190617210930.6054-11-laurent.pinchart+renesas@ideasonboard.com>
Subject: Re: [PATCH v3 10/10] drm: rcar-du: Centralise routing configuration
 in commit tail handler
MIME-Version: 1.0
X-Priority: 3
Importance: Medium
X-Mailer: Open-Xchange Mailer v7.8.4-Rev58
X-Originating-IP: 85.212.220.45
X-Originating-Client: open-xchange-appsuite
X-Mailman-Approved-At: Wed, 19 Jun 2019 07:10:14 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 t=1560867127; 
 s=strato-dkim-0002; d=fpond.eu;
 h=Subject:References:In-Reply-To:Message-ID:Cc:To:From:Date:
 X-RZG-CLASS-ID:X-RZG-AUTH:From:Subject:Sender;
 bh=nolS6R0CPI/aNbg1T3oLJ64umMyO/XTJx3ViH9ha9A4=;
 b=svCHdZvCWAY3mpYhj/+7Lfpxd9OP5lQMd17AzHdZjcfTAD0iBOLVcL0zNr8QZAwcai
 NAFHRoHR5pIU05++doqtvpN6hNaqZ8rfbPDRNmceusJw1cz/ZoFU4w3bDqd9vU4xkr2L
 kEtLBuyGgFj3swS9ssoJHWdRACDak9WmuKtjD+jE2xE2mchfHSM0tHPE+jLCVyAB+VAo
 rTU2S6J2KwBuqoNgmA1wGLchmZGav8UhMJz5z5C4q9WdvYH2SP1/IWILdrnxY/zjLwMt
 YFa96mTYbP3bMOuQbDabCP/WmmhCiOVhcfVyI61Lzalj1eygm1Bvv/W3EresR8k5hAzw
 2G4A==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-renesas-soc@vger.kernel.org,
 Kieran Bingham <kieran.bingham@ideasonboard.com>, linux-media@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhhbmsgeW91IGZvciB5b3VyIHBhdGNoLgoKPiBPbiBKdW5lIDE3LCAyMDE5IGF0IDExOjA5IFBN
IExhdXJlbnQgUGluY2hhcnQgPGxhdXJlbnQucGluY2hhcnQrcmVuZXNhc0BpZGVhc29uYm9hcmQu
Y29tPiB3cm90ZToKPiAKPiAKPiBSb3V0aW5nIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBEVSBpcyBj
b21wbGV4LiBEZXBlbmRpbmcgb24gdGhlIFNvQwo+IGdlbmVyYXRpb24gdmFyaW91cyByb3V0aW5n
IG9wdGlvbnMgYXJlIGF2YWlsYWJsZToKPiAKPiAtIFRoZSBWU1AgdG8gRFUgcm91dGluZyBpcyBu
b3QgYXZhaWxhYmxlIG9uIEdlbjEsIGlzIGNvbmZpZ3VyYWJsZSBvbgo+ICAgR2VuMiBhbmQgaXMg
Zml4ZWQgb24gR2VuMy4gV2hlbiBjb25maWd1cmFibGUsIHRoZSByb3V0aW5nIGFmZmVjdHMgYm90
aAo+ICAgQ1JUQyBncm91cHMgYnV0IGlzIHNldCBpbiBhIHJlZ2lzdGVyIG9mIHRoZSBmaXJzdCBD
UlRDIGdyb3VwLgo+IC0gVGhlIERVIGNoYW5uZWwgdG8gRFBBRCBvdXRwdXQgcm91dGluZyBpcyBl
eHBsaWNpdGx5IGNvbmZpZ3VyYWJsZSBvbgo+ICAgc29tZSBTb0NzIG9mIHRoZSBHZW4yIGFuZCBH
ZW4zIGZhbWlseS4gV2hlbiBjb25maWd1cmFibGUsIHRoZSBEUEFECj4gICBvdXRwdXRzIG5ldmVy
IG9mZmVyIHJvdXRpbmcgb3B0aW9ucyB0byBDUlRDcyBiZWxvbmdpbmcgdG8gZGlmZmVyZW50Cj4g
ICBncm91cHMuCj4gLSBPbiBhbGwgU29DcyB0aGUgcm91dGluZyBvZiBEVSBjaGFubmVscyB0byBE
VSBwaW4gY29udHJvbGxlcnMgKGludGVybmFsCj4gICBvdXRwdXQgb2YgdGhlIERVIGNoYW5uZWxz
KSBjYW4gYmUgc3dhcHBlZCB3aXRoaW4gYSBncm91cC4gVGhpcyBmZWF0dXJlCj4gICBpcyBvbmx5
IHVzZWQgb24gR2VuMSB0byBjb250cm9sIHJvdXRpbmcgb2YgdGhlIERQQUQxIG91dHB1dC4KPiAK
PiBSb3V0aW5nIGlzIHRodXMgaGFuZGxlZCBhdCB0aGUgZ3JvdXAgbGV2ZWwsIGJ1dCBmb3IgR2Vu
MiBoYXJkd2FyZQo+IHJlcXVpcmVzIGNvbmZpZ3VyYXRpb24gb2YgdGhlIERQQUQxIGFuZCBWU1BE
MSByb3V0aW5nIGluIHRoZSBmaXJzdCBncm91cAo+IGV2ZW4gd2hlbiBvbmx5IHRoZSBzZWNvbmQg
Z3JvdXAgaXMgZW5hYmxlZC4KClRoYXQncyAiRFBBRDAgYW5kIFZTUEQxIiwgaXNuJ3QgaXQ/Cgo+
IAo+IFJvdXRpbmcgYXQgdGhlIGdyb3VwIGxldmVsIGlzIGN1cnJlbnRseSBjb25maWd1cmVkIHdo
ZW4gYXBwbHlpbmcgQ1JUQwo+IGNvbmZpZ3VyYXRpb24uIEdsb2JhbCByb3V0aW5nIGlzIGNvbmZp
Z3VyZWQgYXQgdGhlIHNhbWUgdGltZSwgYW5kIGlzCj4gYWRkaXRpb25hbGx5IGNvbmZpZ3VyZWQg
YnkgdGhlIHBsYW5lIHNldHVwIGNvZGUgdG8gc2V0IFZTUEQxIHJvdXRpbmcuCj4gVGhpcyByZXN1
bHRzIGluIGNvZGUgcGF0aHMgdGhhdCBhcmUgZGlmZmljdWx0IHRvIGZvbGxvdy4KPiAKPiBTaW1w
bGlmeSB0aGUgcm91dGluZyBjb25maWd1cmF0aW9uIGJ5IHBlcmZvcm1pbmcgaXQgYWxsIGRpcmVj
dGx5LCBiYXNlZAo+IG9uIENSVEMgYW5kIENSVEMgZ3JvdXAgc3RhdGUuIEdyb3VwLWxldmVsIHJv
dXRpbmcgaXMgbW92ZWQgdG8gZ3JvdXAKPiBzZXR1cCBhcyBpdCBvbmx5IGRlcGVuZHMgb24gdGhl
IGdyb3VwIHN0YXRlIGFuZCB0aGUgc3RhdGUgb2YgdGhlIENSVENzCj4gaXQgY29udGFpbnMuIEds
b2JhbCByb3V0aW5nIGlzIG1vdmVkIHRvIHRoZSBjb21taXQgdGFpbCBoYW5kbGVyLCBhbmQKPiBi
YXNlZCBvbiBnbG9iYWwgRFUgc3RhdGUuCj4gCj4gU2lnbmVkLW9mZi1ieTogTGF1cmVudCBQaW5j
aGFydCA8bGF1cmVudC5waW5jaGFydCtyZW5lc2FzQGlkZWFzb25ib2FyZC5jb20+Cj4gLS0tCj4g
IGRyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfY3J0Yy5jICB8ICAgMyArLQo+ICBkcml2
ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X2Rydi5oICAgfCAgIDEgLQo+ICBkcml2ZXJzL2dw
dS9kcm0vcmNhci1kdS9yY2FyX2R1X2dyb3VwLmMgfCAxNTQgKysrKysrKysrKysrKysrKy0tLS0t
LS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfZ3JvdXAuaCB8ICAgMyArLQo+
ICBkcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X2ttcy5jICAgfCAgMTYgKy0tCj4gIGRy
aXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfcGxhbmUuYyB8ICAxMCArLQo+ICA2IGZpbGVz
IGNoYW5nZWQsIDExNSBpbnNlcnRpb25zKCspLCA3MiBkZWxldGlvbnMoLSkKPiAKPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9jcnRjLmMgYi9kcml2ZXJzL2dw
dS9kcm0vcmNhci1kdS9yY2FyX2R1X2NydGMuYwo+IGluZGV4IGFiNWMyODhmOWQwOS4uZjZlYTE5
Njc0YTMxIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfY3J0
Yy5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9jcnRjLmMKPiBAQCAt
Njk1LDkgKzY5NSw4IEBAIGludCByY2FyX2R1X2NydGNfYXRvbWljX21vZGVzZXQoc3RydWN0IGRy
bV9kZXZpY2UgKmRldiwKPiAgCQkgICAgIWNydGNfc3RhdGUtPmFjdGl2ZSkKPiAgCQkJY29udGlu
dWU7Cj4gIAo+IC0JCS8qIENvbmZpZ3VyZSBkaXNwbGF5IHRpbWluZ3MgYW5kIG91dHB1dCByb3V0
aW5nLiAqLwo+ICsJCS8qIENvbmZpZ3VyZSBkaXNwbGF5IHRpbWluZ3MuICovCj4gIAkJcmNhcl9k
dV9jcnRjX3NldF9kaXNwbGF5X3RpbWluZyhyY3J0Yyk7Cj4gLQkJcmNhcl9kdV9ncm91cF9zZXRf
cm91dGluZyhyY3J0Yy0+Z3JvdXApOwo+ICAKPiAgCQlpZiAocmNhcl9kdV9oYXMocmNydGMtPmRl
diwgUkNBUl9EVV9GRUFUVVJFX1ZTUDFfU09VUkNFKSkKPiAgCQkJcmNhcl9kdV92c3BfbW9kZXNl
dChyY3J0Yyk7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVf
ZHJ2LmggYi9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X2Rydi5oCj4gaW5kZXggMGNj
MDk4NGJmMmVhLi40ZTNhMTI0OTYwOTggMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3Jj
YXItZHUvcmNhcl9kdV9kcnYuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJf
ZHVfZHJ2LmgKPiBAQCAtOTIsNyArOTIsNiBAQCBzdHJ1Y3QgcmNhcl9kdV9kZXZpY2Ugewo+ICAJ
fSBwcm9wczsKPiAgCj4gIAl1bnNpZ25lZCBpbnQgZHBhZDBfc291cmNlOwo+IC0JdW5zaWduZWQg
aW50IGRwYWQxX3NvdXJjZTsKPiAgCXVuc2lnbmVkIGludCB2c3BkMV9zaW5rOwo+ICB9Owo+ICAK
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9ncm91cC5jIGIv
ZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9ncm91cC5jCj4gaW5kZXggN2M5MTQ1Nzc4
NTY3Li4yNjFiYWFmN2MxZjUgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUv
cmNhcl9kdV9ncm91cC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9n
cm91cC5jCj4gQEAgLTQ2LDYgKzQ2LDEwIEBAIHZvaWQgcmNhcl9kdV9ncm91cF93cml0ZShzdHJ1
Y3QgcmNhcl9kdV9ncm91cCAqcmdycCwgdTMyIHJlZywgdTMyIGRhdGEpCj4gIAlyY2FyX2R1X3dy
aXRlKHJncnAtPmRldiwgcmdycC0+bW1pb19vZmZzZXQgKyByZWcsIGRhdGEpOwo+ICB9Cj4gIAo+
ICsvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQo+ICsgKiBTdGF0aWMgR3JvdXAgU2V0dXAKPiArICov
Cj4gKwo+ICBzdGF0aWMgdm9pZCByY2FyX2R1X2dyb3VwX3NldHVwX3BpbnMoc3RydWN0IHJjYXJf
ZHVfZ3JvdXAgKnJncnApCj4gIHsKPiAgCXUzMiBkZWZyNiA9IERFRlI2X0NPREU7Cj4gQEAgLTU5
LDM3ICs2Myw2IEBAIHN0YXRpYyB2b2lkIHJjYXJfZHVfZ3JvdXBfc2V0dXBfcGlucyhzdHJ1Y3Qg
cmNhcl9kdV9ncm91cCAqcmdycCkKPiAgCXJjYXJfZHVfZ3JvdXBfd3JpdGUocmdycCwgREVGUjYs
IGRlZnI2KTsKPiAgfQo+ICAKPiAtc3RhdGljIHZvaWQgcmNhcl9kdV9ncm91cF9zZXR1cF9kZWZy
OChzdHJ1Y3QgcmNhcl9kdV9ncm91cCAqcmdycCkKPiAtewo+IC0Jc3RydWN0IHJjYXJfZHVfZGV2
aWNlICpyY2R1ID0gcmdycC0+ZGV2Owo+IC0JdTMyIGRlZnI4ID0gREVGUjhfQ09ERTsKPiAtCj4g
LQlpZiAocmNkdS0+aW5mby0+Z2VuIDwgMykgewo+IC0JCWRlZnI4IHw9IERFRlI4X0RFRkU4Owo+
IC0KPiAtCQkvKgo+IC0JCSAqIE9uIEdlbjIgdGhlIERFRlI4IHJlZ2lzdGVyIGZvciB0aGUgZmly
c3QgZ3JvdXAgYWxzbyBjb250cm9scwo+IC0JCSAqIFJHQiBvdXRwdXQgcm91dGluZyB0byBEUEFE
MCBhbmQgVlNQRDEgcm91dGluZyB0byBEVTAvMS8yIGZvcgo+IC0JCSAqIERVIGluc3RhbmNlcyB0
aGF0IHN1cHBvcnQgaXQuCj4gLQkJICovCj4gLQkJaWYgKHJncnAtPmluZGV4ID09IDApIHsKPiAt
CQkJZGVmcjggfD0gREVGUjhfRFJHQlNfRFUocmNkdS0+ZHBhZDBfc291cmNlKTsKPiAtCQkJaWYg
KHJncnAtPmRldi0+dnNwZDFfc2luayA9PSAyKQo+IC0JCQkJZGVmcjggfD0gREVGUjhfVlNDUzsK
PiAtCQl9Cj4gLQl9IGVsc2Ugewo+IC0JCS8qCj4gLQkJICogT24gR2VuMyBWU1BEIHJvdXRpbmcg
Y2FuJ3QgYmUgY29uZmlndXJlZCwgYW5kIERQQUQgcm91dGluZwo+IC0JCSAqIGlzIHNldCBpbiB0
aGUgZ3JvdXAgY29ycmVzcG9uZGluZyB0byB0aGUgRFBBRCBvdXRwdXQgKG5vIEdlbjMKPiAtCQkg
KiBTb0MgaGFzIG11bHRpcGxlIERQQUQgc291cmNlcyBiZWxvbmdpbmcgdG8gc2VwYXJhdGUgZ3Jv
dXBzKS4KPiAtCQkgKi8KPiAtCQlpZiAocmdycC0+aW5kZXggPT0gcmNkdS0+ZHBhZDBfc291cmNl
IC8gMikKPiAtCQkJZGVmcjggfD0gREVGUjhfRFJHQlNfRFUocmNkdS0+ZHBhZDBfc291cmNlKTsK
PiAtCX0KPiAtCj4gLQlyY2FyX2R1X2dyb3VwX3dyaXRlKHJncnAsIERFRlI4LCBkZWZyOCk7Cj4g
LX0KPiAtCj4gIHN0YXRpYyB2b2lkIHJjYXJfZHVfZ3JvdXBfc2V0dXBfZGlkc3Ioc3RydWN0IHJj
YXJfZHVfZ3JvdXAgKnJncnApCj4gIHsKPiAgCXN0cnVjdCByY2FyX2R1X2RldmljZSAqcmNkdSA9
IHJncnAtPmRldjsKPiBAQCAtMTUzLDEwICsxMjYsOCBAQCBzdGF0aWMgdm9pZCByY2FyX2R1X2dy
b3VwX3NldHVwKHN0cnVjdCByY2FyX2R1X2dyb3VwICpyZ3JwKQo+ICAKPiAgCXJjYXJfZHVfZ3Jv
dXBfc2V0dXBfcGlucyhyZ3JwKTsKPiAgCj4gLQlpZiAocmNkdS0+aW5mby0+Z2VuID49IDIpIHsK
PiAtCQlyY2FyX2R1X2dyb3VwX3NldHVwX2RlZnI4KHJncnApOwo+ICsJaWYgKHJjZHUtPmluZm8t
PmdlbiA+PSAyKQo+ICAJCXJjYXJfZHVfZ3JvdXBfc2V0dXBfZGlkc3IocmdycCk7Cj4gLQl9Cj4g
IAo+ICAJaWYgKHJjZHUtPmluZm8tPmdlbiA+PSAzKQo+ICAJCXJjYXJfZHVfZ3JvdXBfd3JpdGUo
cmdycCwgREVGUjEwLCBERUZSMTBfQ09ERSB8IERFRlIxMF9ERUZFMTApOwo+IEBAIC0xNzQsNiAr
MTQ1LDEwIEBAIHN0YXRpYyB2b2lkIHJjYXJfZHVfZ3JvdXBfc2V0dXAoc3RydWN0IHJjYXJfZHVf
Z3JvdXAgKnJncnApCj4gIAltdXRleF91bmxvY2soJnJncnAtPmxvY2spOwo+ICB9Cj4gIAo+ICsv
KiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLQo+ICsgKiBTdGFydCAmIFN0b3AKPiArICovCj4gKwo+ICBz
dGF0aWMgdm9pZCBfX3JjYXJfZHVfZ3JvdXBfc3RhcnRfc3RvcChzdHJ1Y3QgcmNhcl9kdV9ncm91
cCAqcmdycCwgYm9vbCBzdGFydCkKPiAgewo+ICAJc3RydWN0IHJjYXJfZHVfZGV2aWNlICpyY2R1
ID0gcmdycC0+ZGV2Owo+IEBAIC0yMjksMjYgKzIwNCw2MyBAQCB2b2lkIHJjYXJfZHVfZ3JvdXBf
cmVzdGFydChzdHJ1Y3QgcmNhcl9kdV9ncm91cCAqcmdycCkKPiAgCV9fcmNhcl9kdV9ncm91cF9z
dGFydF9zdG9wKHJncnAsIHRydWUpOwo+ICB9Cj4gIAo+ICsvKiAtLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LQo+ICsgKiBJbnB1dCBhbmQgT3V0cHV0IFJvdXRpbmcKPiArICovCj4gKwo+ICtzdGF0aWMgdm9p
ZCByY2FyX2R1X2dyb3VwX3NldHVwX2RlZnI4KHN0cnVjdCByY2FyX2R1X2dyb3VwICpyZ3JwKQo+
ICt7Cj4gKwlzdHJ1Y3QgcmNhcl9kdV9kZXZpY2UgKnJjZHUgPSByZ3JwLT5kZXY7Cj4gKwl1MzIg
ZGVmcjggPSBERUZSOF9DT0RFOwo+ICsKPiArCWlmIChyY2R1LT5pbmZvLT5nZW4gPCAzKSB7Cj4g
KwkJZGVmcjggfD0gREVGUjhfREVGRTg7Cj4gKwo+ICsJCS8qCj4gKwkJICogT24gR2VuMiB0aGUg
REVGUjggcmVnaXN0ZXIgZm9yIHRoZSBmaXJzdCBncm91cCBhbHNvIGNvbnRyb2xzCj4gKwkJICog
UkdCIG91dHB1dCByb3V0aW5nIHRvIERQQUQwIGFuZCBWU1BEMSByb3V0aW5nIHRvIERVMC8xLzIg
Zm9yCj4gKwkJICogRFUgaW5zdGFuY2VzIHRoYXQgc3VwcG9ydCBpdC4KPiArCQkgKi8KPiArCQlp
ZiAocmdycC0+aW5kZXggPT0gMCkgewo+ICsJCQlkZWZyOCB8PSBERUZSOF9EUkdCU19EVShyY2R1
LT5kcGFkMF9zb3VyY2UpOwo+ICsJCQlpZiAocmdycC0+ZGV2LT52c3BkMV9zaW5rID09IDIpCj4g
KwkJCQlkZWZyOCB8PSBERUZSOF9WU0NTOwo+ICsJCX0KPiArCX0gZWxzZSB7Cj4gKwkJLyoKPiAr
CQkgKiBPbiBHZW4zIFZTUEQgcm91dGluZyBjYW4ndCBiZSBjb25maWd1cmVkLCBhbmQgRFBBRCBy
b3V0aW5nCj4gKwkJICogaXMgc2V0IGluIHRoZSBncm91cCBjb3JyZXNwb25kaW5nIHRvIHRoZSBE
UEFEIG91dHB1dCAobm8gR2VuMwo+ICsJCSAqIFNvQyBoYXMgbXVsdGlwbGUgRFBBRCBzb3VyY2Vz
IGJlbG9uZ2luZyB0byBzZXBhcmF0ZSBncm91cHMpLgo+ICsJCSAqLwo+ICsJCWlmIChyZ3JwLT5p
bmRleCA9PSByY2R1LT5kcGFkMF9zb3VyY2UgLyAyKQo+ICsJCQlkZWZyOCB8PSBERUZSOF9EUkdC
U19EVShyY2R1LT5kcGFkMF9zb3VyY2UpOwo+ICsJfQo+ICsKPiArCXJjYXJfZHVfZ3JvdXBfd3Jp
dGUocmdycCwgREVGUjgsIGRlZnI4KTsKPiArfQo+ICsKPiAgaW50IHJjYXJfZHVfc2V0X2RwYWQw
X3ZzcDFfcm91dGluZyhzdHJ1Y3QgcmNhcl9kdV9kZXZpY2UgKnJjZHUpCj4gIHsKPiAgCXN0cnVj
dCByY2FyX2R1X2dyb3VwICpyZ3JwOwo+ICAJc3RydWN0IHJjYXJfZHVfY3J0YyAqY3J0YzsKPiAt
CXVuc2lnbmVkIGludCBpbmRleDsKPiAgCWludCByZXQ7Cj4gIAo+IC0JaWYgKHJjZHUtPmluZm8t
PmdlbiA8IDIpCj4gKwkvKgo+ICsJICogT25seSBHZW4yIGhhcmR3YXJlIGhhcyBnbG9iYWwgcm91
dGluZyBub3QgaGFuZGxlZCBpbiB0aGUgZ3JvdXAgdGhhdAo+ICsJICogaG9sZHMgdGhlIGNvcnJl
c3BvbmRpbmcgQ1JUQ3MuCj4gKwkgKi8KPiArCWlmIChyY2R1LT5pbmZvLT5nZW4gIT0gMikKPiAg
CQlyZXR1cm4gMDsKPiAgCj4gIAkvKgo+ICAJICogUkdCIG91dHB1dCByb3V0aW5nIHRvIERQQUQw
IGFuZCBWU1AxRCByb3V0aW5nIHRvIERVMC8xLzIgYXJlCgoiVlNQRDEiPwoKPiAtCSAqIGNvbmZp
Z3VyZWQgaW4gdGhlIERFRlI4IHJlZ2lzdGVyIG9mIHRoZSBmaXJzdCBncm91cCBvbiBHZW4yIGFu
ZCB0aGUKPiAtCSAqIGxhc3QgZ3JvdXAgb24gR2VuMy4gQXMgdGhpcyBmdW5jdGlvbiBjYW4gYmUg
Y2FsbGVkIHdpdGggdGhlIERVCj4gLQkgKiBjaGFubmVscyBvZiB0aGUgY29ycmVzcG9uZGluZyBD
UlRDcyBkaXNhYmxlZCwgd2UgbmVlZCB0byBlbmFibGUgdGhlCj4gLQkgKiBncm91cCBjbG9jayBi
ZWZvcmUgYWNjZXNzaW5nIHRoZSByZWdpc3Rlci4KPiArCSAqIGNvbmZpZ3VyZWQgaW4gdGhlIERF
RlI4IHJlZ2lzdGVyIG9mIHRoZSBmaXJzdCBncm91cCBvbiBHZW4yLiBBcyB0aGlzCj4gKwkgKiBm
dW5jdGlvbiBjYW4gYmUgY2FsbGVkIHdpdGggdGhlIERVIGNoYW5uZWxzIG9mIHRoZSBjb3JyZXNw
b25kaW5nCj4gKwkgKiBDUlRDcyBkaXNhYmxlZCwgd2UgbmVlZCB0byBlbmFibGUgdGhlIGdyb3Vw
IGNsb2NrIGJlZm9yZSBhY2Nlc3NpbmcKPiArCSAqIHRoZSByZWdpc3Rlci4KPiAgCSAqLwo+IC0J
aW5kZXggPSByY2R1LT5pbmZvLT5nZW4gPCAzID8gMCA6IERJVl9ST1VORF9VUChyY2R1LT5udW1f
Y3J0Y3MsIDIpIC0gMTsKPiAtCXJncnAgPSAmcmNkdS0+Z3JvdXBzW2luZGV4XTsKPiAtCWNydGMg
PSAmcmNkdS0+Y3J0Y3NbaW5kZXggKiAyXTsKPiArCXJncnAgPSAmcmNkdS0+Z3JvdXBzWzBdOwo+
ICsJY3J0YyA9ICZyY2R1LT5jcnRjc1swXTsKPiAgCj4gIAlyZXQgPSBjbGtfcHJlcGFyZV9lbmFi
bGUoY3J0Yy0+Y2xvY2spOwo+ICAJaWYgKHJldCA8IDApCj4gQEAgLTMwMiwxOSArMzE0LDMzIEBA
IHN0YXRpYyB2b2lkIHJjYXJfZHVfZ3JvdXBfc2V0X2RwYWRfbGV2ZWxzKHN0cnVjdCByY2FyX2R1
X2dyb3VwICpyZ3JwKQo+ICAJcmNhcl9kdV9ncm91cF93cml0ZShyZ3JwLCBET0ZMUiwgZG9mbHIp
Owo+ICB9Cj4gIAo+IC1pbnQgcmNhcl9kdV9ncm91cF9zZXRfcm91dGluZyhzdHJ1Y3QgcmNhcl9k
dV9ncm91cCAqcmdycCkKPiArc3RhdGljIHZvaWQgcmNhcl9kdV9ncm91cF9zZXRfcm91dGluZyhz
dHJ1Y3QgcmNhcl9kdV9ncm91cCAqcmdycCkKPiAgewo+ICAJc3RydWN0IHJjYXJfZHVfZGV2aWNl
ICpyY2R1ID0gcmdycC0+ZGV2Owo+ICAJdTMyIGRvcmNyID0gcmNhcl9kdV9ncm91cF9yZWFkKHJn
cnAsIERPUkNSKTsKPiArCWJvb2wgc3AxX3RvX3BpbjIgPSBmYWxzZTsKPiAgCj4gIAlkb3JjciAm
PSB+KERPUkNSX1BHMlQgfCBET1JDUl9ESzJTIHwgRE9SQ1JfUEcyRF9NQVNLKTsKPiAgCj4gIAkv
Kgo+IC0JICogU2V0IHRoZSBEUEFEMSBwaW5zIHNvdXJjZXMuIFNlbGVjdCBDUlRDIDAgaWYgZXhw
bGljaXRseSByZXF1ZXN0ZWQgYW5kCj4gLQkgKiBDUlRDIDEgaW4gYWxsIG90aGVyIGNhc2VzIHRv
IGF2b2lkIGNsb25pbmcgQ1JUQyAwIHRvIERQQUQwIGFuZCBEUEFEMQo+IC0JICogYnkgZGVmYXVs
dC4KPiArCSAqIENvbmZpZ3VyZSB0aGUgc3VwZXJwb3NpdGlvbiBwcm9jZXNzb3IgdG8gcGluIGNv
bnRyb2xsZXIgcm91dGluZy4KPiArCSAqIEhhcmRjb2RlIHRoZSBhc3NpZ25tZW50LCBleGNlcHQg
b24gR2VuMSB3aGVyZSB3ZSB1c2UgaXQgdG8gcm91dGUgdGhlCj4gKwkgKiBEVSBjaGFubmVscyB0
byBEUEFEMS4gVGhlcmUgd2Ugcm91dGUgQ1JUQyAwIHRvIERQQUQxIGlmIGV4cGxpY2l0bHkKPiAr
CSAqIHJlcXVlc3RlZCwgYW5kIENSVEMgMSBpbiBhbGwgb3RoZXIgY2FzZXMgdG8gYXZvaWQgY2xv
bmluZyBDUlRDIDAgdG8KPiArCSAqIERQQUQwIGFuZCBEUEFEMSBieSBkZWZhdWx0Lgo+ICAJICov
Cj4gLQlpZiAocmNkdS0+ZHBhZDFfc291cmNlID09IHJncnAtPmluZGV4ICogMikKPiArCWlmIChy
Y2R1LT5pbmZvLT5nZW4gPT0gMSAmJiByZ3JwLT5pbmRleCA9PSAwKSB7Cj4gKwkJc3RydWN0IHJj
YXJfZHVfY3J0Y19zdGF0ZSAqcnN0YXRlOwo+ICsJCXN0cnVjdCByY2FyX2R1X2NydGMgKnJjcnRj
Owo+ICsKPiArCQlyY3J0YyA9ICZyY2R1LT5jcnRjc1swXTsKPiArCQlyc3RhdGUgPSB0b19yY2Fy
X2NydGNfc3RhdGUocmNydGMtPmNydGMuc3RhdGUpOwo+ICsKPiArCQlpZiAocnN0YXRlLT5vdXRw
dXRzICYgQklUKFJDQVJfRFVfT1VUUFVUX0RQQUQxKSkKPiArCQkJc3AxX3RvX3BpbjIgPSB0cnVl
Owo+ICsJfQo+ICsKPiArCWlmIChzcDFfdG9fcGluMikKPiAgCQlkb3JjciB8PSBET1JDUl9QRzJE
X0RTMTsKPiAgCWVsc2UKPiAgCQlkb3JjciB8PSBET1JDUl9QRzJUIHwgRE9SQ1JfREsyUyB8IERP
UkNSX1BHMkRfRFMyOwo+IEBAIC0zMjMsNyArMzQ5LDcgQEAgaW50IHJjYXJfZHVfZ3JvdXBfc2V0
X3JvdXRpbmcoc3RydWN0IHJjYXJfZHVfZ3JvdXAgKnJncnApCj4gIAo+ICAJcmNhcl9kdV9ncm91
cF9zZXRfZHBhZF9sZXZlbHMocmdycCk7Cj4gIAo+IC0JcmV0dXJuIHJjYXJfZHVfc2V0X2RwYWQw
X3ZzcDFfcm91dGluZyhyZ3JwLT5kZXYpOwo+ICsJcmNhcl9kdV9ncm91cF9zZXR1cF9kZWZyOChy
Z3JwKTsKPiAgfQo+ICAKPiAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KPiBAQCAtNDMwLDIwICs0
NTYsMzYgQEAgcmNhcl9kdV9nZXRfbmV3X2dyb3VwX3N0YXRlKHN0cnVjdCBkcm1fYXRvbWljX3N0
YXRlICpzdGF0ZSwKPiAgaW50IHJjYXJfZHVfZ3JvdXBfYXRvbWljX2NoZWNrKHN0cnVjdCBkcm1f
ZGV2aWNlICpkZXYsCj4gIAkJCSAgICAgICBzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqc3RhdGUp
Cj4gIHsKPiAtCXN0cnVjdCBkcm1fY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZTsKPiArCXN0YXRpYyBj
b25zdCB1MzIgZHBhZF9tYXNrID0gQklUKFJDQVJfRFVfT1VUUFVUX0RQQUQxKQo+ICsJCQkJICAg
fCBCSVQoUkNBUl9EVV9PVVRQVVRfRFBBRDApOwo+ICsJc3RydWN0IGRybV9jcnRjX3N0YXRlICpv
bGRfY3J0Y19zdGF0ZTsKPiArCXN0cnVjdCBkcm1fY3J0Y19zdGF0ZSAqbmV3X2NydGNfc3RhdGU7
Cj4gIAlzdHJ1Y3QgZHJtX2NydGMgKmNydGM7Cj4gIAl1bnNpZ25lZCBpbnQgaTsKPiAgCj4gLQlm
b3JfZWFjaF9uZXdfY3J0Y19pbl9zdGF0ZShzdGF0ZSwgY3J0YywgY3J0Y19zdGF0ZSwgaSkgewo+
ICsJZm9yX2VhY2hfb2xkbmV3X2NydGNfaW5fc3RhdGUoc3RhdGUsIGNydGMsIG9sZF9jcnRjX3N0
YXRlLCBuZXdfY3J0Y19zdGF0ZSwgaSkgewo+ICAJCXN0cnVjdCByY2FyX2R1X2NydGMgKnJjcnRj
ID0gdG9fcmNhcl9jcnRjKGNydGMpOwo+ICsJCXN0cnVjdCByY2FyX2R1X2NydGNfc3RhdGUgKm9s
ZF9yY3J0Y19zdGF0ZTsKPiArCQlzdHJ1Y3QgcmNhcl9kdV9jcnRjX3N0YXRlICpuZXdfcmNydGNf
c3RhdGU7Cj4gIAkJc3RydWN0IHJjYXJfZHVfZ3JvdXBfc3RhdGUgKmdzdGF0ZTsKPiAgCj4gIAkJ
Z3N0YXRlID0gcmNhcl9kdV9nZXRfZ3JvdXBfc3RhdGUoc3RhdGUsIHJjcnRjLT5ncm91cCk7Cj4g
IAkJaWYgKElTX0VSUihnc3RhdGUpKQo+ICAJCQlyZXR1cm4gUFRSX0VSUihnc3RhdGUpOwo+ICAK
PiAtCQlpZiAoY3J0Y19zdGF0ZS0+YWN0aXZlKQo+ICsJCWlmIChuZXdfY3J0Y19zdGF0ZS0+YWN0
aXZlKQo+ICAJCQlnc3RhdGUtPmVuYWJsZWQgPSB0cnVlOwo+ICsKPiArCQlpZiAoIW5ld19jcnRj
X3N0YXRlLT5hY3RpdmVfY2hhbmdlZCAmJgo+ICsJCSAgICAhbmV3X2NydGNfc3RhdGUtPmNvbm5l
Y3RvcnNfY2hhbmdlZCkKPiArCQkJY29udGludWU7Cj4gKwo+ICsJCW9sZF9yY3J0Y19zdGF0ZSA9
IHRvX3JjYXJfY3J0Y19zdGF0ZShvbGRfY3J0Y19zdGF0ZSk7Cj4gKwkJbmV3X3JjcnRjX3N0YXRl
ID0gdG9fcmNhcl9jcnRjX3N0YXRlKG5ld19jcnRjX3N0YXRlKTsKPiArCj4gKwkJaWYgKChvbGRf
cmNydGNfc3RhdGUtPm91dHB1dHMgJiBkcGFkX21hc2spICE9Cj4gKwkJICAgIChuZXdfcmNydGNf
c3RhdGUtPm91dHB1dHMgJiBkcGFkX21hc2spKQo+ICsJCQlnc3RhdGUtPmRwYWRfcm91dGluZ19j
aGFuZ2VkID0gdHJ1ZTsKPiAgCX0KPiAgCj4gIAlyZXR1cm4gMDsKPiBAQCAtNDYzLDggKzUwNSwx
NCBAQCB2b2lkIHJjYXJfZHVfZ3JvdXBfYXRvbWljX3NldHVwKHN0cnVjdCBkcm1fZGV2aWNlICpk
ZXYsCj4gIAkJb2xkX3N0YXRlID0gdG9fcmNhcl9ncm91cF9zdGF0ZShvbGRfcHN0YXRlKTsKPiAg
CQluZXdfc3RhdGUgPSB0b19yY2FyX2dyb3VwX3N0YXRlKG5ld19wc3RhdGUpOwo+ICAKPiAtCQlp
ZiAoIW9sZF9zdGF0ZS0+ZW5hYmxlZCAmJiBuZXdfc3RhdGUtPmVuYWJsZWQpCj4gKwkJaWYgKCFu
ZXdfc3RhdGUtPmVuYWJsZWQpCj4gKwkJCWNvbnRpbnVlOwo+ICsKPiArCQlpZiAoIW9sZF9zdGF0
ZS0+ZW5hYmxlZCkKPiAgCQkJcmNhcl9kdV9ncm91cF9zZXR1cChyZ3JwKTsKPiArCj4gKwkJaWYg
KCFvbGRfc3RhdGUtPmVuYWJsZWQgfHwgbmV3X3N0YXRlLT5kcGFkX3JvdXRpbmdfY2hhbmdlZCkK
PiArCQkJcmNhcl9kdV9ncm91cF9zZXRfcm91dGluZyhyZ3JwKTsKPiAgCX0KPiAgfQo+ICAKPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9ncm91cC5oIGIvZHJp
dmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9ncm91cC5oCj4gaW5kZXggMjBlZmQyMjUxZWM0
Li5iMzFiM2JmOGNiOTQgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNh
cl9kdV9ncm91cC5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9ncm91
cC5oCj4gQEAgLTU4LDExICs1OCwxMyBAQCBzdHJ1Y3QgcmNhcl9kdV9ncm91cCB7Cj4gICAqIHN0
cnVjdCByY2FyX2R1X2dyb3VwX3N0YXRlIC0gRHJpdmVyLXNwZWNpZmljIGdyb3VwIHN0YXRlCj4g
ICAqIEBzdGF0ZTogYmFzZSBEUk0gcHJpdmF0ZSBzdGF0ZQo+ICAgKiBAZW5hYmxlZDogdHJ1ZSBp
ZiBhdCBsZWFzdCBvbmUgQ1JUQyBpbiB0aGUgZ3JvdXAgaXMgZW5hYmxlZAo+ICsgKiBAZHBhZF9y
b3V0aW5nX2NoYW5nZWQ6IHNldCBpZiBDUlRDIHRvIERQQUQgb3V0cHV0IHJvdXRpbmcgaGFzIGNo
YW5nZWQKPiAgICovCj4gIHN0cnVjdCByY2FyX2R1X2dyb3VwX3N0YXRlIHsKPiAgCXN0cnVjdCBk
cm1fcHJpdmF0ZV9zdGF0ZSBzdGF0ZTsKPiAgCj4gIAlib29sIGVuYWJsZWQ7Cj4gKwlib29sIGRw
YWRfcm91dGluZ19jaGFuZ2VkOwo+ICB9Owo+ICAKPiAgI2RlZmluZSB0b19yY2FyX2dyb3VwX3N0
YXRlKHMpIFwKPiBAQCAtNzMsNyArNzUsNiBAQCB2b2lkIHJjYXJfZHVfZ3JvdXBfd3JpdGUoc3Ry
dWN0IHJjYXJfZHVfZ3JvdXAgKnJncnAsIHUzMiByZWcsIHUzMiBkYXRhKTsKPiAgCj4gIHZvaWQg
cmNhcl9kdV9ncm91cF9zdGFydF9zdG9wKHN0cnVjdCByY2FyX2R1X2dyb3VwICpyZ3JwLCBib29s
IHN0YXJ0KTsKPiAgdm9pZCByY2FyX2R1X2dyb3VwX3Jlc3RhcnQoc3RydWN0IHJjYXJfZHVfZ3Jv
dXAgKnJncnApOwo+IC1pbnQgcmNhcl9kdV9ncm91cF9zZXRfcm91dGluZyhzdHJ1Y3QgcmNhcl9k
dV9ncm91cCAqcmdycCk7Cj4gIAo+ICBpbnQgcmNhcl9kdV9zZXRfZHBhZDBfdnNwMV9yb3V0aW5n
KHN0cnVjdCByY2FyX2R1X2RldmljZSAqcmNkdSk7Cj4gIAo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X2ttcy5jIGIvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUv
cmNhcl9kdV9rbXMuYwo+IGluZGV4IDY1Mzk2MTM0ZmJhMS4uNzc4MDYwYmZkMzgzIDEwMDY0NAo+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfa21zLmMKPiArKysgYi9kcml2
ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X2ttcy5jCj4gQEAgLTM5MywxNCArMzkzLDE0IEBA
IHN0YXRpYyB2b2lkIHJjYXJfZHVfYXRvbWljX2NvbW1pdF90YWlsKHN0cnVjdCBkcm1fYXRvbWlj
X3N0YXRlICpvbGRfc3RhdGUpCj4gIAlzdHJ1Y3QgcmNhcl9kdV9kZXZpY2UgKnJjZHUgPSBkZXYt
PmRldl9wcml2YXRlOwo+ICAJc3RydWN0IGRybV9jcnRjX3N0YXRlICpjcnRjX3N0YXRlOwo+ICAJ
c3RydWN0IGRybV9jcnRjICpjcnRjOwo+ICsJdW5zaWduZWQgaW50IHZzcGQxX3NpbmsgPSByY2R1
LT52c3BkMV9zaW5rOwo+ICsJdW5zaWduZWQgaW50IGRwYWQwX3NvdXJjZSA9IHJjZHUtPmRwYWQw
X3NvdXJjZTsKPiAgCXVuc2lnbmVkIGludCBpOwo+ICAKPiAgCS8qCj4gLQkgKiBTdG9yZSBSR0Ig
cm91dGluZyB0byBEUEFEMCBhbmQgRFBBRDEsIHRoZSBoYXJkd2FyZSB3aWxsIGJlIGNvbmZpZ3Vy
ZWQKPiAtCSAqIHdoZW4gc3RhcnRpbmcgdGhlIENSVENzLgo+ICsJICogU3RvcmUgUkdCIHJvdXRp
bmcgdG8gRFBBRDAsIHRoZSBoYXJkd2FyZSB3aWxsIGJlIGNvbmZpZ3VyZWQgd2hlbgo+ICsJICog
c2V0dGluZyB1cCB0aGUgZ3JvdXBzLgo+ICAJICovCj4gLQlyY2R1LT5kcGFkMV9zb3VyY2UgPSAt
MTsKPiAtCj4gIAlmb3JfZWFjaF9uZXdfY3J0Y19pbl9zdGF0ZShvbGRfc3RhdGUsIGNydGMsIGNy
dGNfc3RhdGUsIGkpIHsKPiAgCQlzdHJ1Y3QgcmNhcl9kdV9jcnRjX3N0YXRlICpyY3J0Y19zdGF0
ZSA9Cj4gIAkJCXRvX3JjYXJfY3J0Y19zdGF0ZShjcnRjX3N0YXRlKTsKPiBAQCAtNDA4LDkgKzQw
OCw2IEBAIHN0YXRpYyB2b2lkIHJjYXJfZHVfYXRvbWljX2NvbW1pdF90YWlsKHN0cnVjdCBkcm1f
YXRvbWljX3N0YXRlICpvbGRfc3RhdGUpCj4gIAo+ICAJCWlmIChyY3J0Y19zdGF0ZS0+b3V0cHV0
cyAmIEJJVChSQ0FSX0RVX09VVFBVVF9EUEFEMCkpCj4gIAkJCXJjZHUtPmRwYWQwX3NvdXJjZSA9
IHJjcnRjLT5pbmRleDsKPiAtCj4gLQkJaWYgKHJjcnRjX3N0YXRlLT5vdXRwdXRzICYgQklUKFJD
QVJfRFVfT1VUUFVUX0RQQUQxKSkKPiAtCQkJcmNkdS0+ZHBhZDFfc291cmNlID0gcmNydGMtPmlu
ZGV4Owo+ICAJfQo+ICAKPiAgCS8qIEFwcGx5IHRoZSBhdG9taWMgdXBkYXRlLiAqLwo+IEBAIC00
MjEsNiArNDE4LDExIEBAIHN0YXRpYyB2b2lkIHJjYXJfZHVfYXRvbWljX2NvbW1pdF90YWlsKHN0
cnVjdCBkcm1fYXRvbWljX3N0YXRlICpvbGRfc3RhdGUpCj4gIAlyY2FyX2R1X2NydGNfYXRvbWlj
X21vZGVzZXQoZGV2LCBvbGRfc3RhdGUpOwo+ICAJZHJtX2F0b21pY19oZWxwZXJfY29tbWl0X3Bs
YW5lcyhkZXYsIG9sZF9zdGF0ZSwKPiAgCQkJCQlEUk1fUExBTkVfQ09NTUlUX0FDVElWRV9PTkxZ
KTsKPiArCj4gKwlpZiAocmNkdS0+dnNwZDFfc2luayAhPSB2c3BkMV9zaW5rIHx8Cj4gKwkgICAg
cmNkdS0+ZHBhZDBfc291cmNlICE9IGRwYWQwX3NvdXJjZSkKPiArCQlyY2FyX2R1X3NldF9kcGFk
MF92c3AxX3JvdXRpbmcocmNkdSk7Cj4gKwo+ICAJZHJtX2F0b21pY19oZWxwZXJfY29tbWl0X21v
ZGVzZXRfZW5hYmxlcyhkZXYsIG9sZF9zdGF0ZSk7Cj4gIAo+ICAJcmNhcl9kdV9jcnRjX2F0b21p
Y19lbnRlcl9zdGFuZGJ5KGRldiwgb2xkX3N0YXRlKTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL3JjYXItZHUvcmNhcl9kdV9wbGFuZS5jIGIvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUv
cmNhcl9kdV9wbGFuZS5jCj4gaW5kZXggYzY0MzAwMjcxNjlmLi45YmYzMjU4NWRhYjMgMTAwNjQ0
Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9wbGFuZS5jCj4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9wbGFuZS5jCj4gQEAgLTU1MiwxNCArNTUy
LDggQEAgdm9pZCBfX3JjYXJfZHVfcGxhbmVfc2V0dXAoc3RydWN0IHJjYXJfZHVfZ3JvdXAgKnJn
cnAsCj4gIAlpZiAocmNkdS0+aW5mby0+Z2VuIDwgMykKPiAgCQlyY2FyX2R1X3BsYW5lX3NldHVw
X3NjYW5vdXQocmdycCwgc3RhdGUpOwo+ICAKPiAtCWlmIChzdGF0ZS0+c291cmNlID09IFJDQVJf
RFVfUExBTkVfVlNQRDEpIHsKPiAtCQl1bnNpZ25lZCBpbnQgdnNwZDFfc2luayA9IHJncnAtPmlu
ZGV4ID8gMiA6IDA7Cj4gLQo+IC0JCWlmIChyY2R1LT52c3BkMV9zaW5rICE9IHZzcGQxX3Npbmsp
IHsKPiAtCQkJcmNkdS0+dnNwZDFfc2luayA9IHZzcGQxX3Npbms7Cj4gLQkJCXJjYXJfZHVfc2V0
X2RwYWQwX3ZzcDFfcm91dGluZyhyY2R1KTsKPiAtCQl9Cj4gLQl9Cj4gKwlpZiAoc3RhdGUtPnNv
dXJjZSA9PSBSQ0FSX0RVX1BMQU5FX1ZTUEQxKQo+ICsJCXJjZHUtPnZzcGQxX3NpbmsgPSByZ3Jw
LT5pbmRleCA/IDIgOiAwOwo+ICB9Cj4gIAo+ICBpbnQgX19yY2FyX2R1X3BsYW5lX2F0b21pY19j
aGVjayhzdHJ1Y3QgZHJtX3BsYW5lICpwbGFuZSwKPiAtLSAKPiBSZWdhcmRzLAo+IAo+IExhdXJl
bnQgUGluY2hhcnQKPgoKQ1UKVWxpCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVk
ZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZv
L2RyaS1kZXZlbA==
