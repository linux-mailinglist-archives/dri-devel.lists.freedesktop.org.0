Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 59D3C6B723
	for <lists+dri-devel@lfdr.de>; Wed, 17 Jul 2019 09:08:20 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8A1826E25A;
	Wed, 17 Jul 2019 07:08:03 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mo6-p01-ob.smtp.rzone.de (mo6-p01-ob.smtp.rzone.de
 [IPv6:2a01:238:20a:202:5301::8])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 4EC9189C69
 for <dri-devel@lists.freedesktop.org>; Tue, 16 Jul 2019 13:17:21 +0000 (UTC)
X-RZG-AUTH: ":OWANVUa4dPFUgKR/3dpvnYP0Np73amq+g13rqGzmt2bYDnKIKaws6YXTsc4="
X-RZG-CLASS-ID: mo00
Received: from oxapp06-01.back.ox.d0m.de by smtp-ox.front (RZmta 44.24 AUTH)
 with ESMTPSA id h0a328v6GDH4cPK
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (curve X9_62_prime256v1
 with 256 ECDH bits, eq. 3072 bits RSA))
 (Client did not present a certificate);
 Tue, 16 Jul 2019 15:17:04 +0200 (CEST)
Date: Tue, 16 Jul 2019 15:17:04 +0200 (CEST)
From: Ulrich Hecht <uli@fpond.eu>
To: Jacopo Mondi <jacopo+renesas@jmondi.org>,
 laurent.pinchart@ideasonboard.com,
 kieran.bingham+renesas@ideasonboard.com, airlied@linux.ie, daniel@ffwll.ch
Message-ID: <898081800.61387.1563283024145@webmail.strato.com>
In-Reply-To: <20190706140746.29132-15-jacopo+renesas@jmondi.org>
References: <20190706140746.29132-1-jacopo+renesas@jmondi.org>
 <20190706140746.29132-15-jacopo+renesas@jmondi.org>
Subject: Re: [PATCH v2 14/19] drm: rcar-du: Add support for CMM
MIME-Version: 1.0
X-Priority: 3
Importance: Medium
X-Mailer: Open-Xchange Mailer v7.8.4-Rev59
X-Originating-IP: 85.212.152.154
X-Originating-Client: open-xchange-appsuite
X-Mailman-Approved-At: Wed, 17 Jul 2019 07:08:01 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 t=1563283025; 
 s=strato-dkim-0002; d=fpond.eu;
 h=Subject:References:In-Reply-To:Message-ID:Cc:To:From:Date:
 X-RZG-CLASS-ID:X-RZG-AUTH:From:Subject:Sender;
 bh=OS2v6I9JcXOokb1wPv5qJe7kCP2KgZTfl6ZryXOWzjM=;
 b=gmNKymhE/agJmQPxJl/7cTEiF/EEO6dkLtB0iH9IgQ5QlWzfBBqFC3BlfzN1AFBWWs
 RkWMvrjr6K4voupmcb/4gUyb5Eub1Ej6wv5iNe/Z0quYnUVVxZw2ocFP17pFZ+9IKDhz
 QLzaWAJsqkBHeiyqWMtDtZJ/ZLIp2jBqYf9M4lEg8L44642TpBuXnFoYmoerbq+zAbbN
 Y+sPkm6IrywfGdcaCwEucgwcFF+YuNIvUHaZ2hMfk0tKnBV5fG9Uyfflmq5kTaYB82oR
 Z6q7EgE+Ext0+AGJtSlyOou7m9ur2V3Jea/yZeXf7GtxQ/8yk2qC+d/6dW6s3RyQvpd0
 aL6Q==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: muroya@ksk.co.jp, koji.matsuoka.xm@renesas.com,
 dri-devel@lists.freedesktop.org, linux-kernel@vger.kernel.org,
 linux-renesas-soc@vger.kernel.org, VenkataRajesh.Kalakodima@in.bosch.com,
 Harsha.ManjulaMallikarjun@in.bosch.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhhbmtzIGZvciB5b3VyIHBhdGNoIQoKPiBPbiBKdWx5IDYsIDIwMTkgYXQgNDowNyBQTSBKYWNv
cG8gTW9uZGkgPGphY29wbytyZW5lc2FzQGptb25kaS5vcmc+IHdyb3RlOgo+IAo+IAo+IEFkZCBh
IGRyaXZlciBmb3IgdGhlIFItQ2FyIERpc3BsYXkgVW5pdCBDb2xvciBDb3JyZWN0aW9uIE1vZHVs
ZS4KPiAKPiBJbiBtb3N0IG9mIEdlbjMgU29DcywgZWFjaCBEVSBvdXRwdXQgY2hhbm5lbCBpcyBw
cm92aWRlZCB3aXRoIGEgQ01NIHVuaXQKPiB0byBwZXJmb3JtIGltYWdlIGVuaGFuY2VtZW50IGFu
ZCBjb2xvciBjb3JyZWN0aW9uLgo+IAo+IEFkZCBzdXBwb3J0IGZvciBDTU0gdGhyb3VnaCBhIGRy
aXZlciB0aGF0IHN1cHBvcnRzIGNvbmZpZ3VyYXRpb24gb2YKPiB0aGUgMS1kaW1lbnNpb25hbCBM
VVQgdGFibGUuIE1vcmUgYWR2YW5jZWQgQ01NIGZlYXR1cmUgd2lsbCBiZQo+IGltcGxlbWVudGVk
IG9uIHRvcCBvZiB0aGlzIGJhc2ljIG9uZS4KPiAKPiBTaWduZWQtb2ZmLWJ5OiBKYWNvcG8gTW9u
ZGkgPGphY29wbytyZW5lc2FzQGptb25kaS5vcmc+Cj4gLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9y
Y2FyLWR1L0tjb25maWcgICAgfCAgIDcgKwo+ICBkcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9NYWtl
ZmlsZSAgIHwgICAxICsKPiAgZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9jbW0uYyB8IDI5
MiArKysrKysrKysrKysrKysrKysrKysrKysrKysrKwo+ICBkcml2ZXJzL2dwdS9kcm0vcmNhci1k
dS9yY2FyX2NtbS5oIHwgIDM4ICsrKysKPiAgNCBmaWxlcyBjaGFuZ2VkLCAzMzggaW5zZXJ0aW9u
cygrKQo+ICBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9j
bW0uYwo+ICBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9j
bW0uaAo+IAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9LY29uZmlnIGIv
ZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvS2NvbmZpZwo+IGluZGV4IDE1Mjk4NDllMjE3ZS4uNTM5
ZDIzMjc5MGQxIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L0tjb25maWcK
PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9LY29uZmlnCj4gQEAgLTEzLDYgKzEzLDEz
IEBAIGNvbmZpZyBEUk1fUkNBUl9EVQo+ICAJICBDaG9vc2UgdGhpcyBvcHRpb24gaWYgeW91IGhh
dmUgYW4gUi1DYXIgY2hpcHNldC4KPiAgCSAgSWYgTSBpcyBzZWxlY3RlZCB0aGUgbW9kdWxlIHdp
bGwgYmUgY2FsbGVkIHJjYXItZHUtZHJtLgo+ICAKPiArY29uZmlnIERSTV9SQ0FSX0NNTQo+ICsJ
Ym9vbCAiUi1DYXIgRFUgQ29sb3IgTWFuYWdlbWVudCBNb2R1bGUgKENNTSkgU3VwcG9ydCIKPiAr
CWRlcGVuZHMgb24gRFJNICYmIE9GCj4gKwlkZXBlbmRzIG9uIERSTV9SQ0FSX0RVCj4gKwloZWxw
Cj4gKwkgIEVuYWJsZSBzdXBwb3J0IGZvciBSLUNhciBDb2xvciBNYW5hZ2VtZW50IE1vZHVsZSAo
Q01NKS4KPiArCj4gIGNvbmZpZyBEUk1fUkNBUl9EV19IRE1JCj4gIAl0cmlzdGF0ZSAiUi1DYXIg
RFUgR2VuMyBIRE1JIEVuY29kZXIgU3VwcG9ydCIKPiAgCWRlcGVuZHMgb24gRFJNICYmIE9GCj4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L01ha2VmaWxlIGIvZHJpdmVycy9n
cHUvZHJtL3JjYXItZHUvTWFrZWZpbGUKPiBpbmRleCA2YzJlZDljNDY0NjcuLjRkMTE4N2NjYzNl
NSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9NYWtlZmlsZQo+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L01ha2VmaWxlCj4gQEAgLTE1LDYgKzE1LDcgQEAgcmNh
ci1kdS1kcm0tJChDT05GSUdfRFJNX1JDQVJfTFZEUykJKz0gcmNhcl9kdV9vZi5vIFwKPiAgcmNh
ci1kdS1kcm0tJChDT05GSUdfRFJNX1JDQVJfVlNQKQkrPSByY2FyX2R1X3ZzcC5vCj4gIHJjYXIt
ZHUtZHJtLSQoQ09ORklHX0RSTV9SQ0FSX1dSSVRFQkFDSykgKz0gcmNhcl9kdV93cml0ZWJhY2su
bwo+ICAKPiArb2JqLSQoQ09ORklHX0RSTV9SQ0FSX0NNTSkJCSs9IHJjYXJfY21tLm8KPiAgb2Jq
LSQoQ09ORklHX0RSTV9SQ0FSX0RVKQkJKz0gcmNhci1kdS1kcm0ubwo+ICBvYmotJChDT05GSUdf
RFJNX1JDQVJfRFdfSERNSSkJCSs9IHJjYXJfZHdfaGRtaS5vCj4gIG9iai0kKENPTkZJR19EUk1f
UkNBUl9MVkRTKQkJKz0gcmNhcl9sdmRzLm8KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L3JjYXItZHUvcmNhcl9jbW0uYyBiL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfY21tLmMK
PiBuZXcgZmlsZSBtb2RlIDEwMDY0NAo+IGluZGV4IDAwMDAwMDAwMDAwMC4uNzZlZDNmY2UyYjMz
Cj4gLS0tIC9kZXYvbnVsbAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfY21t
LmMKPiBAQCAtMCwwICsxLDI5MiBAQAo+ICsvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BM
LTIuMCsKPiArLyoKPiArICogcmNhcl9jbW0uYyAtLSBSLUNhciBEaXNwbGF5IFVuaXQgQ29sb3Ig
TWFuYWdlbWVudCBNb2R1bGUKPiArICoKPiArICogQ29weXJpZ2h0IChDKSAyMDE5IEphY29wbyBN
b25kaSA8amFjb3BvK3JlbmVzYXNAam1vbmRpLm9yZz4KPiArICovCj4gKwo+ICsjaW5jbHVkZSA8
bGludXgvY2xrLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9pby5oPgo+ICsjaW5jbHVkZSA8bGludXgv
bW9kdWxlLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9vZi5oPgo+ICsjaW5jbHVkZSA8bGludXgvcGxh
dGZvcm1fZGV2aWNlLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9wbS5oPgo+ICsKPiArI2luY2x1ZGUg
PGRybS9kcm1fYXRvbWljLmg+Cj4gKwo+ICsjaW5jbHVkZSAicmNhcl9jbW0uaCIKPiArCj4gKyNk
ZWZpbmUgQ00yX0xVVF9DVFJMCQkweDAwMDAKPiArI2RlZmluZSBDTTJfTFVUX0NUUkxfRU4JCUJJ
VCgwKQo+ICsjZGVmaW5lIENNMl9MVVRfVEJMQV9CQVNFCTB4MDYwMAo+ICsjZGVmaW5lIENNMl9M
VVRfVEJMQShfX2kpCShDTTJfTFVUX1RCTEFfQkFTRSArIChfX2kpICogNCkKPiArCj4gK3N0cnVj
dCByY2FyX2NtbSB7Cj4gKwlzdHJ1Y3QgY2xrICpjbGs7Cj4gKwl2b2lkIF9faW9tZW0gKmJhc2U7
Cj4gKwlib29sIGVuYWJsZWQ7Cj4gKwo+ICsJLyoKPiArCSAqIHJlc3RvcmU6IExVVCByZXN0b3Jl
IGZsYWcKPiArCSAqIHJ1bm5pbmc6IExVVCBvcGVyYXRpbmcgZmxhZwo+ICsJICogc2l6ZTogTnVt
YmVyIG9mIHByb2dyYW1tZWQgZW50cmllcyBpbiB0aGUgTFVUIHRhYmxlCj4gKwkgKiB0YWJsZTog
U2NyYXRjaCBidWZmZXIgd2hlcmUgdG8gc3RvcmUgdGhlIExVVCB0YWJsZSBlbnRyaWVzIHRvIGJl
Cj4gKwkgKgkgIGxhdGVyIHJlc3RvcmVkLgo+ICsJICovCj4gKwlzdHJ1Y3Qgewo+ICsJCWJvb2wg
cmVzdG9yZTsKPiArCQlib29sIHJ1bm5pbmc7Cj4gKwkJdW5zaWduZWQgaW50IHNpemU7Cj4gKwkJ
c3RydWN0IGRybV9jb2xvcl9sdXQgdGFibGVbQ01NX0dBTU1BX0xVVF9TSVpFXTsKPiArCX0gbHV0
Owo+ICt9Owo+ICsKPiArc3RhdGljIGlubGluZSBpbnQgcmNhcl9jbW1fcmVhZChzdHJ1Y3QgcmNh
cl9jbW0gKnJjbW0sIHUzMiByZWcpCj4gK3sKPiArCXJldHVybiBpb3JlYWQzMihyY21tLT5iYXNl
ICsgcmVnKTsKPiArfQo+ICsKPiArc3RhdGljIGlubGluZSB2b2lkIHJjYXJfY21tX3dyaXRlKHN0
cnVjdCByY2FyX2NtbSAqcmNtbSwgdTMyIHJlZywgdTMyIGRhdGEpCj4gK3sKPiArCWlvd3JpdGUz
MihkYXRhLCByY21tLT5iYXNlICsgcmVnKTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgcmNhcl9j
bW1fbHV0X3dyaXRlKHN0cnVjdCByY2FyX2NtbSAqcmNtbSwgdW5zaWduZWQgaW50IHNpemUsCj4g
KwkJCSAgICAgICBzdHJ1Y3QgZHJtX2NvbG9yX2x1dCAqbHV0KQo+ICt7Cj4gKwl1bnNpZ25lZCBp
bnQgaTsKPiArCj4gKwlmb3IgKGkgPSAwOyBpIDwgc2l6ZTsgKytpKSB7Cj4gKwkJc3RydWN0IGRy
bV9jb2xvcl9sdXQgKmVudHJ5ID0gJmx1dFtpXTsKPiArCj4gKwkJdTMyIHZhbCA9IChlbnRyeS0+
cmVkICYgMHhmZikgPDwgMTYgfAo+ICsJCQkgIChlbnRyeS0+Z3JlZW4gJiAweGZmKSA8PCA4IHwK
PiArCQkJICAoZW50cnktPmJsdWUgJiAweGZmKTsKCkkgZG9uJ3QgdGhpbmsgaXQncyBjb3JyZWN0
IHRvIGN1dCBvZmYgdGhlIGhpZ2ggYml0cyBoZXJlLiBUaGVyZSBpcyBhIGZ1bmN0aW9uICJkcm1f
Y29sb3JfbHV0X2V4dHJhY3QoKSIgZm9yIGNvbnZlcnRpbmcgZHJtX2NvbG9yX2x1dCB2YWx1ZXMg
dG8gaGFyZHdhcmUgcHJlY2lzaW9uLgoKPiArCQlyY2FyX2NtbV93cml0ZShyY21tLCBDTTJfTFVU
X1RCTEEoaSksIHZhbCk7Cj4gKwl9Cj4gK30KPiArCj4gKy8qKgo+ICsgKiByY2FyX2NtbV9zZXR1
cCgpIC0gY29uZmlndXJlIHRoZSBDTU0gdW5pdAo+ICsgKgo+ICsgKiBAcGRldjogVGhlIHBsYXRm
b3JtIGRldmljZSBhc3NvY2lhdGVkIHdpdGggdGhlIENNTSBpbnN0YW5jZQo+ICsgKiBAY29uZmln
OiBUaGUgQ1JUQyBwcm92aWRlZCBjb25maWd1cmF0aW9uLgo+ICsgKgo+ICsgKiBDb25maWd1cmUg
dGhlIENNTSB1bml0IHdpdGggdGhlIENSVEMgcHJvdmlkZWQgY29uZmlndXJhdGlvbi4KPiArICog
Q3VycmVudGx5IGVuYWJsaW5nLCBkaXNhYmxpbmcgYW5kIHByb2dyYW1taW5nIG9mIHRoZSAxLUQg
TFVUIHVuaXQgaXMKPiArICogc3VwcG9ydGVkLgo+ICsgKi8KPiAraW50IHJjYXJfY21tX3NldHVw
KHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYsCj4gKwkJICAgY29uc3Qgc3RydWN0IHJjYXJf
Y21tX2NvbmZpZyAqY29uZmlnKQo+ICt7Cj4gKwlzdHJ1Y3QgcmNhcl9jbW0gKnJjbW0gPSBwbGF0
Zm9ybV9nZXRfZHJ2ZGF0YShwZGV2KTsKPiArCXVuc2lnbmVkIGludCBpOwo+ICsKPiArCWlmIChj
b25maWctPmx1dC5zaXplID4gQ01NX0dBTU1BX0xVVF9TSVpFKQo+ICsJCXJldHVybiAtRUlOVkFM
Owo+ICsKPiArCS8qCj4gKwkgKiBBcyBjbW1fc2V0dXAgaXMgY2FsbGVkIGJ5IGF0b21pYyBjb21t
aXQgdGFpbCBoZWxwZXIsIGl0IG1pZ2h0IGJlCj4gKwkgKiBjYWxsZWQgYmVmb3JlIGVuYWJsaW5n
IHRoZSBDUlRDICh3aGljaCBjYWxscyBjbW1fZW5hYmxlKCkpLgo+ICsJICovCj4gKwlpZiAoIXJj
bW0tPmVuYWJsZWQpIHsKPiArCQlpZiAoIWNvbmZpZy0+bHV0LmVuYWJsZSkKPiArCQkJcmV0dXJu
IDA7Cj4gKwo+ICsJCS8qCj4gKwkJICogU3RvcmUgdGhlIExVVCB0YWJsZSBlbnRyaWVzIGluIHRo
ZSBzY3JhdGNoIGJ1ZmZlciB0byBiZSBsYXRlcgo+ICsJCSAqIHByb2dyYW1tZWQgYXQgZW5hYmxl
IHRpbWUuCj4gKwkJICovCj4gKwkJZm9yIChpID0gMDsgaSA8IGNvbmZpZy0+bHV0LnNpemU7ICsr
aSkKPiArCQkJcmNtbS0+bHV0LnRhYmxlW2ldID0gY29uZmlnLT5sdXQudGFibGVbaV07Cj4gKwo+
ICsJCXJjbW0tPmx1dC5zaXplID0gY29uZmlnLT5sdXQuc2l6ZTsKPiArCQlyY21tLT5sdXQucmVz
dG9yZSA9IHRydWU7Cj4gKwo+ICsJCXJldHVybiAwOwo+ICsJfQo+ICsKPiArCS8qIFN0b3AgTFVU
IG9wZXJhdGlvbnMsIGlmIHJlcXVlc3RlZC4gKi8KPiArCWlmIChyY21tLT5sdXQucnVubmluZyAm
JiAhY29uZmlnLT5sdXQuZW5hYmxlKSB7Cj4gKwkJcmNhcl9jbW1fd3JpdGUocmNtbSwgQ00yX0xV
VF9DVFJMLCAwKTsKPiArCQlyY21tLT5sdXQucnVubmluZyA9IDA7Cj4gKwkJcmNtbS0+bHV0LnNp
emUgPSAwOwo+ICsKPiArCQlyZXR1cm4gMDsKPiArCX0KPiArCj4gKwkvKiBFbmFibGUgTFVUIGFu
ZCBwcm9ncmFtIHRoZSBuZXcgZ2FtbWEgdGFibGUgdmFsdWVzLiAqLwo+ICsJaWYgKCFyY21tLT5s
dXQucnVubmluZykgewo+ICsJCXJjYXJfY21tX3dyaXRlKHJjbW0sIENNMl9MVVRfQ1RSTCwgQ00y
X0xVVF9DVFJMX0VOKTsKPiArCQlyY21tLT5sdXQucnVubmluZyA9IHRydWU7Cj4gKwl9Cj4gKwo+
ICsJcmNhcl9jbW1fbHV0X3dyaXRlKHJjbW0sIGNvbmZpZy0+bHV0LnNpemUsIGNvbmZpZy0+bHV0
LnRhYmxlKTsKPiArCXJjbW0tPmx1dC5zaXplID0gY29uZmlnLT5sdXQuc2l6ZTsKPiArCj4gKwly
ZXR1cm4gMDsKPiArfQo+ICtFWFBPUlRfU1lNQk9MX0dQTChyY2FyX2NtbV9zZXR1cCk7Cj4gKwo+
ICsvKioKPiArICogcmNhcl9jbW1fZW5hYmxlIC0gZW5hYmxlIHRoZSBDTU0gdW5pdAo+ICsgKgo+
ICsgKiBAcGRldjogVGhlIHBsYXRmb3JtIGRldmljZSBhc3NvY2lhdGVkIHdpdGggdGhlIENNTSBp
bnN0YW5jZQo+ICsgKgo+ICsgKiBFbmFibGUgdGhlIENNTSB1bml0IGJ5IGVuYWJsaW5nIHRoZSBw
YXJlbnQgY2xvY2sgYW5kIGVuYWJsaW5nIHRoZSBDTU0KPiArICogY29tcG9uZW50cywgc3VjaCBh
cyAxLUQgTFVULCBpZiByZXF1ZXN0ZWQuCj4gKyAqLwo+ICtpbnQgcmNhcl9jbW1fZW5hYmxlKHN0
cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCj4gK3sKPiArCXN0cnVjdCByY2FyX2NtbSAqcmNt
bSA9IHBsYXRmb3JtX2dldF9kcnZkYXRhKHBkZXYpOwo+ICsJaW50IHJldDsKPiArCj4gKwlpZiAo
IXJjbW0pCj4gKwkJcmV0dXJuIC1FUFJPQkVfREVGRVI7Cj4gKwo+ICsJcmV0ID0gY2xrX3ByZXBh
cmVfZW5hYmxlKHJjbW0tPmNsayk7Cj4gKwlpZiAocmV0KQo+ICsJCXJldHVybiByZXQ7Cj4gKwo+
ICsJLyogQXBwbHkgdGhlIExVVCB0YWJsZSB2YWx1ZXMgc2F2ZWQgYXQgY21tX3NldHVwIHRpbWUu
ICovCj4gKwlpZiAocmNtbS0+bHV0LnJlc3RvcmUpIHsKPiArCQlyY2FyX2NtbV93cml0ZShyY21t
LCBDTTJfTFVUX0NUUkwsIENNMl9MVVRfQ1RSTF9FTik7Cj4gKwkJcmNhcl9jbW1fbHV0X3dyaXRl
KHJjbW0sIHJjbW0tPmx1dC5zaXplLCByY21tLT5sdXQudGFibGUpOwo+ICsKPiArCQlyY21tLT5s
dXQucmVzdG9yZSA9IGZhbHNlOwo+ICsJCXJjbW0tPmx1dC5ydW5uaW5nID0gdHJ1ZTsKPiArCX0K
PiArCj4gKwlyY21tLT5lbmFibGVkID0gdHJ1ZTsKPiArCj4gKwlyZXR1cm4gMDsKPiArfQo+ICtF
WFBPUlRfU1lNQk9MX0dQTChyY2FyX2NtbV9lbmFibGUpOwo+ICsKPiArLyoqCj4gKyAqIHJjYXJf
Y21tX2Rpc2FibGUoKSAtIGRpc2FibGUgdGhlIENNTSB1bml0Cj4gKyAqCj4gKyAqIERpc2FibGUg
dGhlIENNTSB1bml0IGJ5IHN0b3BwaW5nIHRoZSBwYXJlbnQgY2xvY2suCj4gKyAqCj4gKyAqIEBw
ZGV2OiBUaGUgcGxhdGZvcm0gZGV2aWNlIGFzc29jaWF0ZWQgd2l0aCB0aGUgQ01NIGluc3RhbmNl
Cj4gKyAqLwo+ICt2b2lkIHJjYXJfY21tX2Rpc2FibGUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAq
cGRldikKPiArewo+ICsJc3RydWN0IHJjYXJfY21tICpyY21tID0gcGxhdGZvcm1fZ2V0X2RydmRh
dGEocGRldik7Cj4gKwo+ICsJcmNhcl9jbW1fd3JpdGUocmNtbSwgQ00yX0xVVF9DVFJMLCAwKTsK
PiArCj4gKwljbGtfZGlzYWJsZV91bnByZXBhcmUocmNtbS0+Y2xrKTsKPiArCj4gKwlyY21tLT5s
dXQucmVzdG9yZSA9IGZhbHNlOwo+ICsJcmNtbS0+bHV0LnJ1bm5pbmcgPSBmYWxzZTsKPiArCXJj
bW0tPmx1dC5zaXplID0gMDsKPiArCj4gKwlyY21tLT5lbmFibGVkID0gZmFsc2U7Cj4gK30KPiAr
RVhQT1JUX1NZTUJPTF9HUEwocmNhcl9jbW1fZGlzYWJsZSk7Cj4gKwo+ICsjaWZkZWYgQ09ORklH
X1BNX1NMRUVQCj4gK3N0YXRpYyBpbnQgcmNhcl9jbW1fcG1fc3VzcGVuZChzdHJ1Y3QgZGV2aWNl
ICpkZXYpCj4gK3sKPiArCXN0cnVjdCByY2FyX2NtbSAqcmNtbSA9IGRldl9nZXRfZHJ2ZGF0YShk
ZXYpOwo+ICsJdW5zaWduZWQgaW50IGk7Cj4gKwo+ICsJaWYgKCEocmNtbS0+bHV0LnJ1bm5pbmcg
fHwgcmNtbS0+bHV0LnJlc3RvcmUpKQo+ICsJCXJldHVybiAwOwo+ICsKPiArCS8qIFNhdmUgdGhl
IExVVCB0YWJsZSBlbnRyaWVzIGluIHRoZSBzY3JhdGNoIGJ1ZmZlciB0YWJsZS4gKi8KPiArCWZv
ciAoaSA9IDA7IGkgPCByY21tLT5sdXQuc2l6ZTsgKytpKSB7Cj4gKwkJaW50IGVudHJ5ID0gcmNh
cl9jbW1fcmVhZChyY21tLCBDTTJfTFVUX1RCTEEoaSkpOwo+ICsJCXN0cnVjdCBkcm1fY29sb3Jf
bHV0ICpsdXQgPSAmcmNtbS0+bHV0LnRhYmxlW2ldOwo+ICsKPiArCQlsdXQtPmJsdWUgPSBlbnRy
eSAmIDB4ZmY7Cj4gKwkJbHV0LT5ncmVlbiA9IChlbnRyeSA+PiA4KSAmIDB4ZmY7Cj4gKwkJbHV0
LT5yZWQgPSAoZW50cnkgPj4gMTYpICYgMHhmZjsKCk5lZWQgdG8gY29udmVydCB0aGUgdmFsdWVz
IGJhY2sgdG8gZHJtX2NvbG9yX2x1dCBzY2FsZSBoZXJlLiBJIGNvdWxkIG5vdCBmaW5kIGEgY291
bnRlcnBhcnQgdG8gZHJtX2NvbG9yX2x1dF9leHRyYWN0KCksIHRob3VnaC4uLgoKPiArCX0KPiAr
Cj4gKwlyY21tLT5sdXQucmVzdG9yZSA9IHRydWU7Cj4gKwlyY21tLT5sdXQucnVubmluZyA9IGZh
bHNlOwo+ICsKPiArCXJjYXJfY21tX3dyaXRlKHJjbW0sIENNMl9MVVRfQ1RSTCwgMCk7Cj4gKwo+
ICsJcmV0dXJuIDA7Cj4gK30KPiArCj4gK3N0YXRpYyBpbnQgcmNhcl9jbW1fcG1fcmVzdW1lKHN0
cnVjdCBkZXZpY2UgKmRldikKPiArewo+ICsJc3RydWN0IHJjYXJfY21tICpyY21tID0gZGV2X2dl
dF9kcnZkYXRhKGRldik7Cj4gKwo+ICsJaWYgKCFyY21tLT5sdXQucmVzdG9yZSkKPiArCQlyZXR1
cm4gMDsKPiArCj4gKwkvKiBQcm9ncmFtIHRoZSBMVVQgZW50cmllcyBzYXZlZCBhdCBzdXNwZW5k
IHRpbWUuICovCj4gKwlyY2FyX2NtbV93cml0ZShyY21tLCBDTTJfTFVUX0NUUkwsIENNMl9MVVRf
Q1RSTF9FTik7Cj4gKwlyY2FyX2NtbV9sdXRfd3JpdGUocmNtbSwgcmNtbS0+bHV0LnNpemUsIHJj
bW0tPmx1dC50YWJsZSk7Cj4gKwlyY21tLT5sdXQucnVubmluZyA9IHRydWU7Cj4gKwlyY21tLT5s
dXQucmVzdG9yZSA9IGZhbHNlOwo+ICsKPiArCXJldHVybiAwOwo+ICt9Cj4gKyNlbmRpZgo+ICsK
PiArc3RhdGljIGNvbnN0IHN0cnVjdCBkZXZfcG1fb3BzIHJjYXJfY21tX3BtX29wcyA9IHsKPiAr
CVNFVF9TWVNURU1fU0xFRVBfUE1fT1BTKHJjYXJfY21tX3BtX3N1c3BlbmQsIHJjYXJfY21tX3Bt
X3Jlc3VtZSkKPiArfTsKPiArCj4gK3N0YXRpYyBpbnQgcmNhcl9jbW1fcHJvYmUoc3RydWN0IHBs
YXRmb3JtX2RldmljZSAqcGRldikKPiArewo+ICsJc3RydWN0IHJjYXJfY21tICpyY21tOwo+ICsJ
c3RydWN0IHJlc291cmNlICpyZXM7Cj4gKwlyZXNvdXJjZV9zaXplX3Qgc2l6ZTsKPiArCj4gKwly
Y21tID0gZGV2bV9remFsbG9jKCZwZGV2LT5kZXYsIHNpemVvZigqcmNtbSksIEdGUF9LRVJORUwp
Owo+ICsJaWYgKCFyY21tKQo+ICsJCXJldHVybiAtRU5PTUVNOwo+ICsKPiArCXBsYXRmb3JtX3Nl
dF9kcnZkYXRhKHBkZXYsIHJjbW0pOwo+ICsKPiArCXJlcyA9IHBsYXRmb3JtX2dldF9yZXNvdXJj
ZShwZGV2LCBJT1JFU09VUkNFX01FTSwgMCk7Cj4gKwlzaXplID0gcmVzb3VyY2Vfc2l6ZShyZXMp
Owo+ICsJaWYgKCFkZXZtX3JlcXVlc3RfbWVtX3JlZ2lvbigmcGRldi0+ZGV2LCByZXMtPnN0YXJ0
LCBzaXplLAo+ICsJCQkJICAgICBkZXZfbmFtZSgmcGRldi0+ZGV2KSkpIHsKPiArCQlkZXZfZXJy
KCZwZGV2LT5kZXYsCj4gKwkJCSJjYW4ndCByZXF1ZXN0IHJlZ2lvbiBmb3IgcmVzb3VyY2UgJXBS
XG4iLCByZXMpOwo+ICsJCXJldHVybiAtRUJVU1k7Cj4gKwl9Cj4gKwo+ICsJcmNtbS0+YmFzZSA9
IGRldm1faW9yZW1hcF9ub2NhY2hlKCZwZGV2LT5kZXYsIHJlcy0+c3RhcnQsIHNpemUpOwo+ICsJ
aWYgKElTX0VSUihyY21tLT5iYXNlKSkKPiArCQlyZXR1cm4gUFRSX0VSUihyY21tLT5iYXNlKTsK
PiArCj4gKwlyY21tLT5jbGsgPSBkZXZtX2Nsa19nZXQoJnBkZXYtPmRldiwgTlVMTCk7Cj4gKwlp
ZiAoSVNfRVJSKHJjbW0tPmNsaykpIHsKPiArCQlkZXZfZXJyKCZwZGV2LT5kZXYsICJGYWlsZWQg
dG8gZ2V0IENNTSBjbG9jayIpOwo+ICsJCXJldHVybiBQVFJfRVJSKHJjbW0tPmNsayk7Cj4gKwl9
Cj4gKwo+ICsJcmV0dXJuIDA7Cj4gK30KPiArCj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3Qgb2ZfZGV2
aWNlX2lkIHJjYXJfY21tX29mX3RhYmxlW10gPSB7Cj4gKwl7IC5jb21wYXRpYmxlID0gInJlbmVz
YXMscmNhci1nZW4zLWNtbSIsIH0sCj4gKwl7IC5jb21wYXRpYmxlID0gInJlbmVzYXMscmNhci1n
ZW4yLWNtbSIsIH0sCj4gKwl7IH0sCj4gK307Cj4gKwo+ICtNT0RVTEVfREVWSUNFX1RBQkxFKG9m
LCByY2FyX2NtbV9vZl90YWJsZSk7Cj4gKwo+ICtzdGF0aWMgc3RydWN0IHBsYXRmb3JtX2RyaXZl
ciByY2FyX2NtbV9wbGF0Zm9ybV9kcml2ZXIgPSB7Cj4gKwkucHJvYmUJCT0gcmNhcl9jbW1fcHJv
YmUsCj4gKwkuZHJpdmVyCQk9IHsKPiArCQkubmFtZQk9ICJyY2FyLWNtbSIsCj4gKwkJLnBtCT0g
JnJjYXJfY21tX3BtX29wcywKPiArCQkub2ZfbWF0Y2hfdGFibGUgPSByY2FyX2NtbV9vZl90YWJs
ZSwKPiArCX0sCj4gK307Cj4gKwo+ICttb2R1bGVfcGxhdGZvcm1fZHJpdmVyKHJjYXJfY21tX3Bs
YXRmb3JtX2RyaXZlcik7Cj4gKwo+ICtNT0RVTEVfQVVUSE9SKCJKYWNvcG8gTW9uZGkgPGphY29w
bytyZW5lc2FzQGptb25kaS5vcmc+Iik7Cj4gK01PRFVMRV9ERVNDUklQVElPTigiUmVuZXNhcyBS
LUNhciBDTU0gRHJpdmVyIik7Cj4gK01PRFVMRV9MSUNFTlNFKCJHUEwgdjIiKTsKPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9jbW0uaCBiL2RyaXZlcnMvZ3B1L2Ry
bS9yY2FyLWR1L3JjYXJfY21tLmgKPiBuZXcgZmlsZSBtb2RlIDEwMDY0NAo+IGluZGV4IDAwMDAw
MDAwMDAwMC4uODc0NGU3MmYzMmNkCj4gLS0tIC9kZXYvbnVsbAo+ICsrKyBiL2RyaXZlcnMvZ3B1
L2RybS9yY2FyLWR1L3JjYXJfY21tLmgKPiBAQCAtMCwwICsxLDM4IEBACj4gKy8qIFNQRFgtTGlj
ZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wKyAqLwo+ICsvKgo+ICsgKiByY2FyX2NtbS5oIC0tIFIt
Q2FyIERpc3BsYXkgVW5pdCBDb2xvciBNYW5hZ2VtZW50IE1vZHVsZQo+ICsgKgo+ICsgKiBDb3B5
cmlnaHQgKEMpIDIwMTkgSmFjb3BvIE1vbmRpIDxqYWNvcG8rcmVuZXNhc0BqbW9uZGkub3JnPgo+
ICsgKi8KPiArCj4gKyNpZm5kZWYgX19SQ0FSX0NNTV9IX18KPiArI2RlZmluZSBfX1JDQVJfQ01N
X0hfXwo+ICsKPiArI2RlZmluZSBDTU1fR0FNTUFfTFVUX1NJWkUJCTI1Ngo+ICsKPiArc3RydWN0
IHBsYXRmb3JtX2RldmljZTsKPiArc3RydWN0IGRybV9jb2xvcl9sdXQ7Cj4gKwo+ICsvKioKPiAr
ICogc3RydWN0IHJjYXJfY21tX2NvbmZpZyAtIENNTSBjb25maWd1cmF0aW9uCj4gKyAqCj4gKyAq
IEBsdXQ6CTFELUxVVCBjb25maWd1cmF0aW9uCj4gKyAqIEBsdXQuZW5hYmxlOgkxRC1MVVQgZW5h
YmxlIGZsYWcKPiArICogQGx1dC50YWJsZToJMUQtTFVUIHRhYmxlIGVudHJpZXMuCj4gKyAqIEBs
dXQuc2l6ZQkxRC1MVVQgbnVtYmVyIG9mIGVudHJpZXMuIE1heCBpcyAyNTYuCj4gKyAqLwo+ICtz
dHJ1Y3QgcmNhcl9jbW1fY29uZmlnIHsKPiArCXN0cnVjdCB7Cj4gKwkJYm9vbCBlbmFibGU7Cj4g
KwkJc3RydWN0IGRybV9jb2xvcl9sdXQgKnRhYmxlOwo+ICsJCXVuc2lnbmVkIGludCBzaXplOwo+
ICsJfSBsdXQ7Cj4gK307Cj4gKwo+ICtpbnQgcmNhcl9jbW1fZW5hYmxlKHN0cnVjdCBwbGF0Zm9y
bV9kZXZpY2UgKnBkZXYpOwo+ICt2b2lkIHJjYXJfY21tX2Rpc2FibGUoc3RydWN0IHBsYXRmb3Jt
X2RldmljZSAqcGRldik7Cj4gKwo+ICtpbnQgcmNhcl9jbW1fc2V0dXAoc3RydWN0IHBsYXRmb3Jt
X2RldmljZSAqcGRldiwKPiArCQkgICBjb25zdCBzdHJ1Y3QgcmNhcl9jbW1fY29uZmlnICpjb25m
aWcpOwo+ICsKPiArI2VuZGlmIC8qIF9fUkNBUl9DTU1fSF9fICovCj4gLS0gCj4gMi4yMS4wCj4K
CkNVClVsaQpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpk
cmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0
cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
