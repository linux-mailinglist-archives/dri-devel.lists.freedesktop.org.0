Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 0D9007FBDB
	for <lists+dri-devel@lfdr.de>; Fri,  2 Aug 2019 16:14:27 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 85E006EE70;
	Fri,  2 Aug 2019 14:14:23 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from smtp.domeneshop.no (smtp.domeneshop.no
 [IPv6:2a01:5b40:0:3005::1])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 400176EE70
 for <dri-devel@lists.freedesktop.org>; Fri,  2 Aug 2019 14:14:22 +0000 (UTC)
Received: from 211.81-166-168.customer.lyse.net ([81.166.168.211]:57635
 helo=[192.168.10.173])
 by smtp.domeneshop.no with esmtpsa (TLS1.2:ECDHE_RSA_AES_128_GCM_SHA256:128)
 (Exim 4.84_2) (envelope-from <noralf@tronnes.org>)
 id 1htYK3-00016M-Bu; Fri, 02 Aug 2019 16:14:19 +0200
Subject: Re: [4/4] drm/panel/ili9341: Support DPI panels
To: David Lechner <david@lechnology.com>, dri-devel@lists.freedesktop.org
References: <20190801135249.28803-5-noralf@tronnes.org>
 <d1d748f9-7b9e-64bf-8fe9-b8a991d9bb2b@lechnology.com>
From: =?UTF-8?Q?Noralf_Tr=c3=b8nnes?= <noralf@tronnes.org>
Message-ID: <691ea60a-09d0-a26e-b859-6272df24975a@tronnes.org>
Date: Fri, 2 Aug 2019 16:14:14 +0200
User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <d1d748f9-7b9e-64bf-8fe9-b8a991d9bb2b@lechnology.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt;
 c=relaxed/relaxed; d=tronnes.org; s=ds201810; 
 h=Content-Transfer-Encoding:Content-Type:In-Reply-To:MIME-Version:Date:Message-ID:From:References:Cc:To:Subject;
 bh=/t6DSh2wogz7bFkaXV4tCbeJfRKN6F/Vf392+a6UDM4=; 
 b=l2ZKYwUEpYKzT19LnWVqteLyc+02Lb+sgqN6dWfz7nKgBMmXsi/KCI6HNGswtQi20KKoC72Fo8rIStSV/hhEktQ4ghws316yTnpcr65RVtAuPae9woiEmv6Ju/vayaoTda4X3EASgFgUYL+XY7cE04r225JeQj3JFjTEJQV7zG+4k8rK+YBKWqTKqEa0m2EtyqZhsikq59h0zgd5fpQXsYzazvD4TnaUytVMp4xAV8gAH5SqteBAedut5JgTIZt4lLHwx0w4Y6cTOdCi4pNEiHOyHnFP8HR0h6Uw9ayIlSHq2W8hx+zz/KsqrhJCq0LBoesuOtrDZ1AbTcaDI+emEw==;
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: daniel.vetter@ffwll.ch, emil.l.velikov@gmail.com, josef@lusticky.cz,
 thierry.reding@gmail.com, laurent.pinchart@ideasonboard.com, sam@ravnborg.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

CgpEZW4gMDEuMDguMjAxOSAyMS4xMCwgc2tyZXYgRGF2aWQgTGVjaG5lcjoKPiBPbiA4LzEvMTkg
ODo1MiBBTSwgTm9yYWxmIFRyw7hubmVzIHdyb3RlOgo+PiBBZGQgc3VwcG9ydCBmb3IgcGFuZWxz
IHRoYXQgdXNlIHRoZSBEUEkgaW50ZXJmYWNlLgo+PiBJTEk5MzQxIGhhcyBvbmJvYXJkIFJBTSBz
byB0aGUgYXNzdW1wdGlvbiBtYWRlIGhlcmUgaXMgdGhhdCBhbGwgc3VjaAo+PiBwYW5lbHMgc3Vw
cG9ydCBwaXhlbCB1cGxvYWQgb3ZlciBEQkkuCj4+Cj4+IFRoZSBwcmVzZW5jZS9hYnNlbnNlIG9m
IHRoZSBEZXZpY2UgVHJlZSAncG9ydCcgbm9kZSBkZWNpZGVzIHdoaWNoCj4+IGludGVyZmFjZSBp
cyB1c2VkIGZvciBwaXhlbCB0cmFuc2Zlci4KPj4KPj4gU2lnbmVkLW9mZi1ieTogTm9yYWxmIFRy
w7hubmVzIDxub3JhbGZAdHJvbm5lcy5vcmc+Cj4+IC0tLQo+PiDCoCBkcml2ZXJzL2dwdS9kcm0v
cGFuZWwvcGFuZWwtaWxpdGVrLWlsaTkzNDEuYyB8IDU2ICsrKysrKysrKysrKysrKystLS0tCj4+
IMKgIDEgZmlsZSBjaGFuZ2VkLCA0NSBpbnNlcnRpb25zKCspLCAxMSBkZWxldGlvbnMoLSkKPj4K
Pj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1pbGl0ZWstaWxpOTM0
MS5jCj4+IGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWlsaXRlay1pbGk5MzQxLmMKPj4g
aW5kZXggZjYwODJmYTJhMzg5Li43Y2JmZDczOWM3ZmQgMTAwNjQ0Cj4+IC0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9wYW5lbC9wYW5lbC1pbGl0ZWstaWxpOTM0MS5jCj4+ICsrKyBiL2RyaXZlcnMvZ3B1
L2RybS9wYW5lbC9wYW5lbC1pbGl0ZWstaWxpOTM0MS5jCj4+IEBAIC0xMSw2ICsxMSw3IEBACj4+
IMKgICNpbmNsdWRlIDxsaW51eC9ncGlvL2NvbnN1bWVyLmg+Cj4+IMKgICNpbmNsdWRlIDxsaW51
eC9tb2R1bGUuaD4KPj4gwqAgI2luY2x1ZGUgPGxpbnV4L29mX2RldmljZS5oPgo+PiArI2luY2x1
ZGUgPGxpbnV4L29mX2dyYXBoLmg+Cj4+IMKgICNpbmNsdWRlIDxsaW51eC9wbS5oPgo+PiDCoCAj
aW5jbHVkZSA8bGludXgvcHJvcGVydHkuaD4KPj4gwqAgI2luY2x1ZGUgPGxpbnV4L3JlZ3VsYXRv
ci9jb25zdW1lci5oPgo+PiBAQCAtNTMsMTEgKzU0LDEzIEBACj4+IMKgIHN0cnVjdCBpbGk5MzQx
X2NvbmZpZyB7Cj4+IMKgwqDCoMKgwqAgY29uc3Qgc3RydWN0IGRybV9wYW5lbF9mdW5jcyAqZnVu
Y3M7Cj4+IMKgwqDCoMKgwqAgY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGU7Cj4+
ICvCoMKgwqAgYm9vbCBub19kcGk7Cj4gCj4gQ2FuIHdlIGludmVydCB0aGlzIHRvIHVzZSBwb3Np
dGl2ZSBsb2dpYz8gaS5lLiB1c2VfZHBpIGluc3RlYWQgb2YKPiBub19kcGkuCj4gCgpUaGlzIGlz
IGEgY2FwYWJpbGl0eSBmbGFnLiBJIGNvdWxkIGNhbGwgaXQgaGFzX2RwaSBhbmQgYWRkIGEgY29t
bWVudAphYm91dCB3aGF0IGl0IGRvZXMuCgpOb3JhbGYuCgo+PiDCoCB9Owo+PiDCoCDCoCBzdHJ1
Y3QgaWxpOTM0MSB7Cj4+IMKgwqDCoMKgwqAgc3RydWN0IG1pcGlfZGJpX2RldiBkYmlkZXY7IC8q
IFRoaXMgbXVzdCBiZSB0aGUgZmlyc3QgZW50cnkgKi8KPj4gwqDCoMKgwqDCoCBzdHJ1Y3QgZHJt
X3BhbmVsIHBhbmVsOwo+PiArwqDCoMKgIGJvb2wgdXNlX2RwaTsKPj4gwqDCoMKgwqDCoCBzdHJ1
Y3QgcmVndWxhdG9yICpyZWd1bGF0b3I7Cj4+IMKgwqDCoMKgwqAgc3RydWN0IGJhY2tsaWdodF9k
ZXZpY2UgKmJhY2tsaWdodDsKPj4gwqDCoMKgwqDCoCBjb25zdCBzdHJ1Y3QgaWxpOTM0MV9jb25m
aWcgKmNvbmY7Cj4+IEBAIC0xNzQsNiArMTc3LDcgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1f
ZGlzcGxheV9tb2RlCj4+IHl4MjQwcXYyOV9tb2RlID0gewo+PiDCoCBzdGF0aWMgY29uc3Qgc3Ry
dWN0IGlsaTkzNDFfY29uZmlnIHl4MjQwcXYyOV9kYXRhID0gewo+PiDCoMKgwqDCoMKgIC5mdW5j
cyA9ICZ5eDI0MHF2MjlfZnVuY3MsCj4+IMKgwqDCoMKgwqAgLm1vZGUgPSAmeXgyNDBxdjI5X21v
ZGUsCj4+ICvCoMKgwqAgLm5vX2RwaSA9IHRydWUsCj4+IMKgIH07Cj4+IMKgIMKgIHN0YXRpYyBp
bnQgbWkwMjgzcXRfcHJlcGFyZShzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKPj4gQEAgLTI5MSw2
ICsyOTUsNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgbWkwMjgzcXRf
bW9kZQo+PiA9IHsKPj4gwqAgc3RhdGljIGNvbnN0IHN0cnVjdCBpbGk5MzQxX2NvbmZpZyBtaTAy
ODNxdF9kYXRhID0gewo+PiDCoMKgwqDCoMKgIC5mdW5jcyA9ICZtaTAyODNxdF9kcm1fZnVuY3Ms
Cj4+IMKgwqDCoMKgwqAgLm1vZGUgPSAmbWkwMjgzcXRfbW9kZSwKPj4gK8KgwqDCoCAubm9fZHBp
ID0gdHJ1ZSwKPj4gwqAgfTsKPj4gwqAgwqAgLyogTGVnYWN5LCBEUk0gZHJpdmVyIG5hbWUgaXMg
QUJJICovCj4+IEBAIC0zMDMsNiArMzA4LDcgQEAgc3RhdGljIGludCBpbGk5MzQxX3Byb2JlKHN0
cnVjdCBzcGlfZGV2aWNlICpzcGkpCj4+IMKgwqDCoMKgwqAgY29uc3Qgc3RydWN0IHNwaV9kZXZp
Y2VfaWQgKnNwaV9pZDsKPj4gwqDCoMKgwqDCoCBzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmc3BpLT5k
ZXY7Cj4+IMKgwqDCoMKgwqAgc3RydWN0IGRybV9kcml2ZXIgKmRyaXZlcjsKPj4gK8KgwqDCoCBz
dHJ1Y3QgZGV2aWNlX25vZGUgKnBvcnQ7Cj4+IMKgwqDCoMKgwqAgc3RydWN0IG1pcGlfZGJpICpk
Ymk7Cj4+IMKgwqDCoMKgwqAgc3RydWN0IGdwaW9fZGVzYyAqZGM7Cj4+IMKgwqDCoMKgwqAgc3Ry
dWN0IGlsaTkzNDEgKmlsaTsKPj4gQEAgLTM1NywyMSArMzYzLDQ0IEBAIHN0YXRpYyBpbnQgaWxp
OTM0MV9wcm9iZShzdHJ1Y3Qgc3BpX2RldmljZSAqc3BpKQo+PiDCoMKgwqDCoMKgIGlsaS0+cGFu
ZWwuZGV2ID0gZGV2Owo+PiDCoMKgwqDCoMKgIGlsaS0+cGFuZWwuZnVuY3MgPSBpbGktPmNvbmYt
PmZ1bmNzOwo+PiDCoCAtwqDCoMKgIGlmIChpbGktPmNvbmYgPT0gJm1pMDI4M3F0X2RhdGEpCj4+
IC3CoMKgwqDCoMKgwqDCoCBkcml2ZXIgPSAmbWkwMjgzcXRfZHJtX2RyaXZlcjsKPj4gLcKgwqDC
oCBlbHNlCj4+IC3CoMKgwqDCoMKgwqDCoCBkcml2ZXIgPSAmaWxpOTM0MV9kcm1fZHJpdmVyOwo+
PiDCoCAtwqDCoMKgIHJldHVybiBkcm1fbWlwaV9kYmlfcGFuZWxfcmVnaXN0ZXIoJmlsaS0+cGFu
ZWwsICZpbGktPmRiaWRldiwKPj4gZHJpdmVyLAo+PiAtwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqAgaWxpLT5jb25mLT5tb2RlLCByb3RhdGlvbik7Cj4+ICvCoMKg
wqAgcG9ydCA9IG9mX2dldF9jaGlsZF9ieV9uYW1lKGRldi0+b2Zfbm9kZSwgInBvcnQiKTsKPj4g
K8KgwqDCoCBpZiAocG9ydCkgewo+PiArwqDCoMKgwqDCoMKgwqAgb2Zfbm9kZV9wdXQocG9ydCk7
Cj4+ICvCoMKgwqDCoMKgwqDCoCBpbGktPnVzZV9kcGkgPSB0cnVlOwo+PiArwqDCoMKgIH0KPj4g
Kwo+PiArwqDCoMKgIGlmIChpbGktPmNvbmYtPm5vX2RwaSkKPj4gK8KgwqDCoMKgwqDCoMKgIGls
aS0+dXNlX2RwaSA9IGZhbHNlOwo+IAo+IHRoZW4gdGhpcyBjYW4ganVzdCBiZSBpbGktPnVzZV9k
cGkgPSBpbGktPmNvbmYtPnVzZV9kcGkuCj4gCj4+ICsKPj4gK8KgwqDCoCBpZiAoaWxpLT51c2Vf
ZHBpKSB7Cj4+ICvCoMKgwqDCoMKgwqDCoCByZXQgPSBkcm1fcGFuZWxfYWRkKCZpbGktPnBhbmVs
KTsKPj4gK8KgwqDCoCB9IGVsc2Ugewo+PiArwqDCoMKgwqDCoMKgwqAgaWYgKGlsaS0+Y29uZiA9
PSAmbWkwMjgzcXRfZGF0YSkKPj4gK8KgwqDCoMKgwqDCoMKgwqDCoMKgwqAgZHJpdmVyID0gJm1p
MDI4M3F0X2RybV9kcml2ZXI7Cj4+ICvCoMKgwqDCoMKgwqDCoCBlbHNlCj4+ICvCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgIGRyaXZlciA9ICZpbGk5MzQxX2RybV9kcml2ZXI7Cj4+ICsKPj4gK8KgwqDC
oMKgwqDCoMKgIHJldCA9IGRybV9taXBpX2RiaV9wYW5lbF9yZWdpc3RlcigmaWxpLT5wYW5lbCwg
JmlsaS0+ZGJpZGV2LAo+PiBkcml2ZXIsCj4+ICvCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBpbGktPmNvbmYtPm1vZGUsIHJvdGF0aW9uKTsKPj4gK8Kg
wqDCoCB9Cj4+ICsKPj4gK8KgwqDCoCByZXR1cm4gcmV0Owo+PiDCoCB9Cj4+IMKgIMKgIHN0YXRp
YyBpbnQgaWxpOTM0MV9yZW1vdmUoc3RydWN0IHNwaV9kZXZpY2UgKnNwaSkKPj4gwqAgewo+PiDC
oMKgwqDCoMKgIHN0cnVjdCBpbGk5MzQxICppbGkgPSBzcGlfZ2V0X2RydmRhdGEoc3BpKTsKPj4g
wqAgLcKgwqDCoCBkcm1fZGV2X3VucGx1ZygmaWxpLT5kYmlkZXYuZHJtKTsKPj4gLcKgwqDCoCBk
cm1fYXRvbWljX2hlbHBlcl9zaHV0ZG93bigmaWxpLT5kYmlkZXYuZHJtKTsKPj4gK8KgwqDCoCBp
ZiAoaWxpLT51c2VfZHBpKSB7Cj4+ICvCoMKgwqDCoMKgwqDCoCBkcm1fcGFuZWxfcmVtb3ZlKCZp
bGktPnBhbmVsKTsKPj4gK8KgwqDCoMKgwqDCoMKgIGRybV9wYW5lbF9kaXNhYmxlKCZpbGktPnBh
bmVsKTsKPj4gK8KgwqDCoMKgwqDCoMKgIGRybV9wYW5lbF91bnByZXBhcmUoJmlsaS0+cGFuZWwp
Owo+PiArwqDCoMKgwqDCoMKgwqAga2ZyZWUoaWxpKTsKPj4gK8KgwqDCoCB9IGVsc2Ugewo+PiAr
wqDCoMKgwqDCoMKgwqAgZHJtX2Rldl91bnBsdWcoJmlsaS0+ZGJpZGV2LmRybSk7Cj4+ICvCoMKg
wqDCoMKgwqDCoCBkcm1fYXRvbWljX2hlbHBlcl9zaHV0ZG93bigmaWxpLT5kYmlkZXYuZHJtKTsK
Pj4gK8KgwqDCoCB9Cj4+IMKgIMKgwqDCoMKgwqAgcmV0dXJuIDA7Cj4+IMKgIH0KPj4gQEAgLTM4
MCwyMSArNDA5LDI2IEBAIHN0YXRpYyB2b2lkIGlsaTkzNDFfc2h1dGRvd24oc3RydWN0IHNwaV9k
ZXZpY2UKPj4gKnNwaSkKPj4gwqAgewo+PiDCoMKgwqDCoMKgIHN0cnVjdCBpbGk5MzQxICppbGkg
PSBzcGlfZ2V0X2RydmRhdGEoc3BpKTsKPj4gwqAgLcKgwqDCoCBkcm1fYXRvbWljX2hlbHBlcl9z
aHV0ZG93bigmaWxpLT5kYmlkZXYuZHJtKTsKPj4gK8KgwqDCoCBpZiAoIWlsaS0+dXNlX2RwaSkK
Pj4gK8KgwqDCoMKgwqDCoMKgIGRybV9hdG9taWNfaGVscGVyX3NodXRkb3duKCZpbGktPmRiaWRl
di5kcm0pOwo+PiDCoCB9Cj4+IMKgIMKgIHN0YXRpYyBpbnQgX19tYXliZV91bnVzZWQgaWxpOTM0
MV9wbV9zdXNwZW5kKHN0cnVjdCBkZXZpY2UgKmRldikKPj4gwqAgewo+PiDCoMKgwqDCoMKgIHN0
cnVjdCBpbGk5MzQxICppbGkgPSBkZXZfZ2V0X2RydmRhdGEoZGV2KTsKPj4gwqAgLcKgwqDCoCBy
ZXR1cm4gZHJtX21vZGVfY29uZmlnX2hlbHBlcl9zdXNwZW5kKCZpbGktPmRiaWRldi5kcm0pOwo+
PiArwqDCoMKgIGlmICghaWxpLT51c2VfZHBpKQo+PiArwqDCoMKgwqDCoMKgwqAgcmV0dXJuIGRy
bV9tb2RlX2NvbmZpZ19oZWxwZXJfc3VzcGVuZCgmaWxpLT5kYmlkZXYuZHJtKTsKPj4gKwo+PiAr
wqDCoMKgIHJldHVybiAwOwo+PiDCoCB9Cj4+IMKgIMKgIHN0YXRpYyBpbnQgX19tYXliZV91bnVz
ZWQgaWxpOTM0MV9wbV9yZXN1bWUoc3RydWN0IGRldmljZSAqZGV2KQo+PiDCoCB7Cj4+IMKgwqDC
oMKgwqAgc3RydWN0IGlsaTkzNDEgKmlsaSA9IGRldl9nZXRfZHJ2ZGF0YShkZXYpOwo+PiDCoCAt
wqDCoMKgIGRybV9tb2RlX2NvbmZpZ19oZWxwZXJfcmVzdW1lKCZpbGktPmRiaWRldi5kcm0pOwo+
PiArwqDCoMKgIGlmICghaWxpLT51c2VfZHBpKQo+PiArwqDCoMKgwqDCoMKgwqAgZHJtX21vZGVf
Y29uZmlnX2hlbHBlcl9yZXN1bWUoJmlsaS0+ZGJpZGV2LmRybSk7Cj4+IMKgIMKgwqDCoMKgwqAg
cmV0dXJuIDA7Cj4+IMKgIH0KPj4KPiAKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGlu
Zm8vZHJpLWRldmVs
