Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 18D0C10FF0
	for <lists+dri-devel@lfdr.de>; Thu,  2 May 2019 01:05:10 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id CBABE8933C;
	Wed,  1 May 2019 23:05:07 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-vk1-xa49.google.com (mail-vk1-xa49.google.com
 [IPv6:2607:f8b0:4864:20::a49])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 37C05892F0
 for <dri-devel@lists.freedesktop.org>; Wed,  1 May 2019 23:05:06 +0000 (UTC)
Received: by mail-vk1-xa49.google.com with SMTP id m76so242076vkf.22
 for <dri-devel@lists.freedesktop.org>; Wed, 01 May 2019 16:05:06 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:date:in-reply-to:message-id:mime-version
 :references:subject:from:to:cc;
 bh=PFBS31SOQXYxw4yS+C4amFknlw8hawiRGGMxTbQ36y4=;
 b=IxALswFIWhmYTJqgzyI1RI/6xmbPbh83kKEoIZ2AYL9HjUqhL4PP32IbA5gcK9dmYZ
 lrEJJoQLnm0RocQR93h1GyvVFf8YmI37QohQZSm6eL+uRFxEpKBpRyGWkoaSt4CWd/Qq
 5KJH1oO+CEiAJDFUUz1+MrKsC2fcb3/bfCGVhDZxQ/Cl1UyfReGekAlVLui1oiJIiL6Q
 ePqW+BcAJF4xzYCyfMlXU33OO9P+kBVTytcy3dCpR8MbAP04PFkA7d4L3Y7Ne3MB1oQ6
 jjl39C7oDnZwz7wRKI/+yxpIUGWCzviQAJaLAD+fg3gUOg6On9Qfc4kU/P9Df3g3Cl3J
 ym2w==
X-Gm-Message-State: APjAAAX8RNUthw1QXaGHX40YIWeic++BrVblkJyzXqH8yHPbhiNFD7Ti
 s5CnxYFdS/RsV5+MqZ40yS9DI/fLlGxEnkohM0NTlw==
X-Google-Smtp-Source: APXvYqyW0QaIJ9/fn349r10l0ts9l27TIANLui0Et8DiwcFOvDM/az2AcijbBC7llTdGDodV01VSlxHM/JSGOugaJ7WgKw==
X-Received: by 2002:a67:ed44:: with SMTP id m4mr319097vsp.112.1556751905107;
 Wed, 01 May 2019 16:05:05 -0700 (PDT)
Date: Wed,  1 May 2019 16:01:25 -0700
In-Reply-To: <20190501230126.229218-1-brendanhiggins@google.com>
Message-Id: <20190501230126.229218-17-brendanhiggins@google.com>
Mime-Version: 1.0
References: <20190501230126.229218-1-brendanhiggins@google.com>
X-Mailer: git-send-email 2.21.0.593.g511ec345e18-goog
Subject: [PATCH v2 16/17] kernel/sysctl-test: Add null pointer test for
 sysctl.c:proc_dointvec()
From: Brendan Higgins <brendanhiggins@google.com>
To: frowand.list@gmail.com, gregkh@linuxfoundation.org, keescook@google.com, 
 kieran.bingham@ideasonboard.com, mcgrof@kernel.org, robh@kernel.org, 
 sboyd@kernel.org, shuah@kernel.org
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=google.com; s=20161025;
 h=date:in-reply-to:message-id:mime-version:references:subject:from:to
 :cc;
 bh=PFBS31SOQXYxw4yS+C4amFknlw8hawiRGGMxTbQ36y4=;
 b=CT9czlwnMnLnA2cs0qndAQOiX2aPx2OSYAqbzTjXJr/BBhWM9cK1PNnFVhmDqrO9Nj
 NkQml1h79HIx2biFYzVc5UeKJHOL44Q1INMyy/lKH50HhKXx0N2SESZFVEWWH6yuHvkr
 2d6C1BrjDq9fm2aFqJ+RhhcZDwa6yMEiVjAniuAxk7neMUkPfEJfF16rOpLWJxCNajJr
 sTVm9wiXxWgnLk64sKD4lOyDUkMUaKjOKM/EZahUgPoF4dqE866ndUC4DZs0iOz20pxU
 e+hRKa5endOO4JBLJiHhqK2KxRUvVFsiFIdK7rmY4OLCE+PpIn9AVR8dqbRl4NI3BEJG
 KcAg==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: pmladek@suse.com, linux-doc@vger.kernel.org, amir73il@gmail.com,
 Brendan Higgins <brendanhiggins@google.com>, dri-devel@lists.freedesktop.org,
 Alexander.Levin@microsoft.com, linux-kselftest@vger.kernel.org,
 linux-nvdimm@lists.01.org, khilman@baylibre.com, knut.omang@oracle.com,
 wfg@linux.intel.com, joel@jms.id.au, rientjes@google.com,
 Iurii Zaikin <yzaikin@google.com>, jdike@addtoit.com, dan.carpenter@oracle.com,
 devicetree@vger.kernel.org, linux-kbuild@vger.kernel.org, Tim.Bird@sony.com,
 linux-um@lists.infradead.org, rostedt@goodmis.org, julia.lawall@lip6.fr,
 dan.j.williams@intel.com, kunit-dev@googlegroups.com, richard@nod.at,
 linux-kernel@vger.kernel.org, mpe@ellerman.id.au,
 linux-fsdevel@vger.kernel.org, logang@deltatee.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogSXVyaWkgWmFpa2luIDx5emFpa2luQGdvb2dsZS5jb20+CgpLVW5pdCB0ZXN0cyBmb3Ig
aW5pdGlhbGl6ZWQgZGF0YSBiZWhhdmlvciBvZiBwcm9jX2RvaW50dmVjIHRoYXQgaXMKZXhwbGlj
aXRseSBjaGVja2VkIGluIHRoZSBjb2RlLiBJbmNsdWRlcyBiYXNpYyBwYXJzaW5nIHRlc3RzIGlu
Y2x1ZGluZwppbnQgbWluL21heCBvdmVyZmxvdy4KClNpZ25lZC1vZmYtYnk6IEl1cmlpIFphaWtp
biA8eXphaWtpbkBnb29nbGUuY29tPgpTaWduZWQtb2ZmLWJ5OiBCcmVuZGFuIEhpZ2dpbnMgPGJy
ZW5kYW5oaWdnaW5zQGdvb2dsZS5jb20+Ci0tLQoga2VybmVsL01ha2VmaWxlICAgICAgfCAgIDIg
Kwoga2VybmVsL3N5c2N0bC10ZXN0LmMgfCAyOTIgKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrKwogbGliL0tjb25maWcuZGVidWcgICAgfCAgIDYgKwogMyBmaWxlcyBj
aGFuZ2VkLCAzMDAgaW5zZXJ0aW9ucygrKQogY3JlYXRlIG1vZGUgMTAwNjQ0IGtlcm5lbC9zeXNj
dGwtdGVzdC5jCgpkaWZmIC0tZ2l0IGEva2VybmVsL01ha2VmaWxlIGIva2VybmVsL01ha2VmaWxl
CmluZGV4IDZjNTdlNzg4MTdkYWQuLmM4MWE4OTc2YjZhNGIgMTAwNjQ0Ci0tLSBhL2tlcm5lbC9N
YWtlZmlsZQorKysgYi9rZXJuZWwvTWFrZWZpbGUKQEAgLTExMiw2ICsxMTIsOCBAQCBvYmotJChD
T05GSUdfSEFTX0lPTUVNKSArPSBpb21lbS5vCiBvYmotJChDT05GSUdfWk9ORV9ERVZJQ0UpICs9
IG1lbXJlbWFwLm8KIG9iai0kKENPTkZJR19SU0VRKSArPSByc2VxLm8KIAorb2JqLSQoQ09ORklH
X1NZU0NUTF9LVU5JVF9URVNUKSArPSBzeXNjdGwtdGVzdC5vCisKIG9iai0kKENPTkZJR19HQ0Nf
UExVR0lOX1NUQUNLTEVBSykgKz0gc3RhY2tsZWFrLm8KIEtBU0FOX1NBTklUSVpFX3N0YWNrbGVh
ay5vIDo9IG4KIEtDT1ZfSU5TVFJVTUVOVF9zdGFja2xlYWsubyA6PSBuCmRpZmYgLS1naXQgYS9r
ZXJuZWwvc3lzY3RsLXRlc3QuYyBiL2tlcm5lbC9zeXNjdGwtdGVzdC5jCm5ldyBmaWxlIG1vZGUg
MTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAwMDAuLmEwZmJhNmI2ZmMyZGMKLS0tIC9kZXYvbnVsbAor
KysgYi9rZXJuZWwvc3lzY3RsLXRlc3QuYwpAQCAtMCwwICsxLDI5MiBAQAorLy8gU1BEWC1MaWNl
bnNlLUlkZW50aWZpZXI6IEdQTC0yLjAKKy8qCisgKiBLVW5pdCB0ZXN0IG9mIHByb2Mgc3lzY3Rs
LgorICovCisKKyNpbmNsdWRlIDxrdW5pdC90ZXN0Lmg+CisjaW5jbHVkZSA8bGludXgvcHJpbnRr
Lmg+CisjaW5jbHVkZSA8bGludXgvc3lzY3RsLmg+CisjaW5jbHVkZSA8bGludXgvdWFjY2Vzcy5o
PgorCitzdGF0aWMgaW50IGlfemVybzsKK3N0YXRpYyBpbnQgaV9vbmVfaHVuZHJlZCA9IDEwMDsK
Kworc3RydWN0IHRlc3Rfc3lzY3RsX2RhdGEgeworCWludCBpbnRfMDAwMTsKKwlpbnQgaW50XzAw
MDI7CisJaW50IGludF8wMDAzWzRdOworCisJdW5zaWduZWQgaW50IHVpbnRfMDAwMTsKKworCWNo
YXIgc3RyaW5nXzAwMDFbNjVdOworfTsKKworc3RhdGljIHN0cnVjdCB0ZXN0X3N5c2N0bF9kYXRh
IHRlc3RfZGF0YSA9IHsKKwkuaW50XzAwMDEgPSA2MCwKKwkuaW50XzAwMDIgPSAxLAorCisJLmlu
dF8wMDAzWzBdID0gMCwKKwkuaW50XzAwMDNbMV0gPSAxLAorCS5pbnRfMDAwM1syXSA9IDIsCisJ
LmludF8wMDAzWzNdID0gMywKKworCS51aW50XzAwMDEgPSAzMTQsCisKKwkuc3RyaW5nXzAwMDEg
PSAiKG5vbmUpIiwKK307CisKK3N0YXRpYyB2b2lkIHN5c2N0bF90ZXN0X2RvaW50dmVjX251bGxf
dGJsX2RhdGEoc3RydWN0IGt1bml0ICp0ZXN0KQoreworCXN0cnVjdCBjdGxfdGFibGUgdGFibGUg
PSB7CisJCS5wcm9jbmFtZSA9ICJmb28iLAorCQkuZGF0YQkJPSBOVUxMLAorCQkubWF4bGVuCQk9
IHNpemVvZihpbnQpLAorCQkubW9kZQkJPSAwNjQ0LAorCQkucHJvY19oYW5kbGVyCT0gcHJvY19k
b2ludHZlYywKKwkJLmV4dHJhMQkJPSAmaV96ZXJvLAorCQkuZXh0cmEyICAgICAgICAgPSAmaV9v
bmVfaHVuZHJlZCwKKwl9OworCXZvaWQgICpidWZmZXIgPSBrdW5pdF9remFsbG9jKHRlc3QsIHNp
emVvZihpbnQpLCBHRlBfVVNFUik7CisJc2l6ZV90IGxlbjsKKwlsb2ZmX3QgcG9zOworCisJbGVu
ID0gMTIzNDsKKwlLVU5JVF9FWFBFQ1RfRVEodGVzdCwgMCwgcHJvY19kb2ludHZlYygmdGFibGUs
IDAsIGJ1ZmZlciwgJmxlbiwgJnBvcykpOworCUtVTklUX0VYUEVDVF9FUSh0ZXN0LCAwLCBsZW4p
OworCWxlbiA9IDEyMzQ7CisJS1VOSVRfRVhQRUNUX0VRKHRlc3QsIDAsIHByb2NfZG9pbnR2ZWMo
JnRhYmxlLCAxLCBidWZmZXIsICZsZW4sICZwb3MpKTsKKwlLVU5JVF9FWFBFQ1RfRVEodGVzdCwg
MCwgbGVuKTsKK30KKworc3RhdGljIHZvaWQgc3lzY3RsX3Rlc3RfZG9pbnR2ZWNfdGFibGVfbWF4
bGVuX3Vuc2V0KHN0cnVjdCBrdW5pdCAqdGVzdCkKK3sKKwlzdHJ1Y3QgY3RsX3RhYmxlIHRhYmxl
ID0geworCQkucHJvY25hbWUgPSAiZm9vIiwKKwkJLmRhdGEJCT0gJnRlc3RfZGF0YS5pbnRfMDAw
MSwKKwkJLm1heGxlbgkJPSAwLAorCQkubW9kZQkJPSAwNjQ0LAorCQkucHJvY19oYW5kbGVyCT0g
cHJvY19kb2ludHZlYywKKwkJLmV4dHJhMQkJPSAmaV96ZXJvLAorCQkuZXh0cmEyICAgICAgICAg
PSAmaV9vbmVfaHVuZHJlZCwKKwl9OworCXZvaWQgICpidWZmZXIgPSBrdW5pdF9remFsbG9jKHRl
c3QsIHNpemVvZihpbnQpLCBHRlBfVVNFUik7CisJc2l6ZV90IGxlbjsKKwlsb2ZmX3QgcG9zOwor
CisJbGVuID0gMTIzNDsKKwlLVU5JVF9FWFBFQ1RfRVEodGVzdCwgMCwgcHJvY19kb2ludHZlYygm
dGFibGUsIDAsIGJ1ZmZlciwgJmxlbiwgJnBvcykpOworCUtVTklUX0VYUEVDVF9FUSh0ZXN0LCAw
LCBsZW4pOworCWxlbiA9IDEyMzQ7CisJS1VOSVRfRVhQRUNUX0VRKHRlc3QsIDAsIHByb2NfZG9p
bnR2ZWMoJnRhYmxlLCAxLCBidWZmZXIsICZsZW4sICZwb3MpKTsKKwlLVU5JVF9FWFBFQ1RfRVEo
dGVzdCwgMCwgbGVuKTsKK30KKworc3RhdGljIHZvaWQgc3lzY3RsX3Rlc3RfZG9pbnR2ZWNfdGFi
bGVfbGVuX2lzX3plcm8oc3RydWN0IGt1bml0ICp0ZXN0KQoreworCXN0cnVjdCBjdGxfdGFibGUg
dGFibGUgPSB7CisJCS5wcm9jbmFtZSA9ICJmb28iLAorCQkuZGF0YQkJPSAmdGVzdF9kYXRhLmlu
dF8wMDAxLAorCQkubWF4bGVuCQk9IHNpemVvZihpbnQpLAorCQkubW9kZQkJPSAwNjQ0LAorCQku
cHJvY19oYW5kbGVyCT0gcHJvY19kb2ludHZlYywKKwkJLmV4dHJhMQkJPSAmaV96ZXJvLAorCQku
ZXh0cmEyICAgICAgICAgPSAmaV9vbmVfaHVuZHJlZCwKKwl9OworCXZvaWQgICpidWZmZXIgPSBr
dW5pdF9remFsbG9jKHRlc3QsIHNpemVvZihpbnQpLCBHRlBfVVNFUik7CisJc2l6ZV90IGxlbjsK
Kwlsb2ZmX3QgcG9zOworCisJbGVuID0gMDsKKwlLVU5JVF9FWFBFQ1RfRVEodGVzdCwgMCwgcHJv
Y19kb2ludHZlYygmdGFibGUsIDAsIGJ1ZmZlciwgJmxlbiwgJnBvcykpOworCUtVTklUX0VYUEVD
VF9FUSh0ZXN0LCAwLCBsZW4pOworCUtVTklUX0VYUEVDVF9FUSh0ZXN0LCAwLCBwcm9jX2RvaW50
dmVjKCZ0YWJsZSwgMSwgYnVmZmVyLCAmbGVuLCAmcG9zKSk7CisJS1VOSVRfRVhQRUNUX0VRKHRl
c3QsIDAsIGxlbik7Cit9CisKK3N0YXRpYyB2b2lkIHN5c2N0bF90ZXN0X2RvaW50dmVjX3RhYmxl
X3JlYWRfYnV0X3Bvc2l0aW9uX3NldChzdHJ1Y3Qga3VuaXQgKnRlc3QpCit7CisJc3RydWN0IGN0
bF90YWJsZSB0YWJsZSA9IHsKKwkJLnByb2NuYW1lID0gImZvbyIsCisJCS5kYXRhCQk9ICZ0ZXN0
X2RhdGEuaW50XzAwMDEsCisJCS5tYXhsZW4JCT0gc2l6ZW9mKGludCksCisJCS5tb2RlCQk9IDA2
NDQsCisJCS5wcm9jX2hhbmRsZXIJPSBwcm9jX2RvaW50dmVjLAorCQkuZXh0cmExCQk9ICZpX3pl
cm8sCisJCS5leHRyYTIgICAgICAgICA9ICZpX29uZV9odW5kcmVkLAorCX07CisJdm9pZCAgKmJ1
ZmZlciA9IGt1bml0X2t6YWxsb2ModGVzdCwgc2l6ZW9mKGludCksIEdGUF9VU0VSKTsKKwlzaXpl
X3QgbGVuOworCWxvZmZfdCBwb3M7CisKKwlsZW4gPSAxMjM0OworCXBvcyA9IDE7CisJS1VOSVRf
RVhQRUNUX0VRKHRlc3QsIDAsIHByb2NfZG9pbnR2ZWMoJnRhYmxlLCAwLCBidWZmZXIsICZsZW4s
ICZwb3MpKTsKKwlLVU5JVF9FWFBFQ1RfRVEodGVzdCwgMCwgbGVuKTsKK30KKworc3RhdGljIHZv
aWQgc3lzY3RsX3Rlc3RfZG9pbnR2ZWNfaGFwcHlfc2luZ2xlX3Bvc2l0aXZlKHN0cnVjdCBrdW5p
dCAqdGVzdCkKK3sKKwlzdHJ1Y3QgY3RsX3RhYmxlIHRhYmxlID0geworCQkucHJvY25hbWUgPSAi
Zm9vIiwKKwkJLmRhdGEJCT0gJnRlc3RfZGF0YS5pbnRfMDAwMSwKKwkJLm1heGxlbgkJPSBzaXpl
b2YoaW50KSwKKwkJLm1vZGUJCT0gMDY0NCwKKwkJLnByb2NfaGFuZGxlcgk9IHByb2NfZG9pbnR2
ZWMsCisJCS5leHRyYTEJCT0gJmlfemVybywKKwkJLmV4dHJhMiAgICAgICAgID0gJmlfb25lX2h1
bmRyZWQsCisJfTsKKwljaGFyIGlucHV0W10gPSAiOSI7CisJc2l6ZV90IGxlbiA9IHNpemVvZihp
bnB1dCkgLSAxOworCWxvZmZfdCBwb3MgPSAwOworCisJdGFibGUuZGF0YSA9IGt1bml0X2t6YWxs
b2ModGVzdCwgc2l6ZW9mKGludCksIEdGUF9VU0VSKTsKKwlLVU5JVF9FWFBFQ1RfRVEodGVzdCwg
MCwgcHJvY19kb2ludHZlYygmdGFibGUsIDEsIGlucHV0LCAmbGVuLCAmcG9zKSk7CisJS1VOSVRf
RVhQRUNUX0VRKHRlc3QsIHNpemVvZihpbnB1dCkgLSAxLCBsZW4pOworCUtVTklUX0VYUEVDVF9F
USh0ZXN0LCBzaXplb2YoaW5wdXQpIC0gMSwgcG9zKTsKKwlLVU5JVF9FWFBFQ1RfRVEodGVzdCwg
OSwgKihpbnQgKil0YWJsZS5kYXRhKTsKK30KKworc3RhdGljIHZvaWQgc3lzY3RsX3Rlc3RfZG9p
bnR2ZWNfaGFwcHlfc2luZ2xlX25lZ2F0aXZlKHN0cnVjdCBrdW5pdCAqdGVzdCkKK3sKKwlzdHJ1
Y3QgY3RsX3RhYmxlIHRhYmxlID0geworCQkucHJvY25hbWUgPSAiZm9vIiwKKwkJLmRhdGEJCT0g
JnRlc3RfZGF0YS5pbnRfMDAwMSwKKwkJLm1heGxlbgkJPSBzaXplb2YoaW50KSwKKwkJLm1vZGUJ
CT0gMDY0NCwKKwkJLnByb2NfaGFuZGxlcgk9IHByb2NfZG9pbnR2ZWMsCisJCS5leHRyYTEJCT0g
JmlfemVybywKKwkJLmV4dHJhMiAgICAgICAgID0gJmlfb25lX2h1bmRyZWQsCisJfTsKKwljaGFy
IGlucHV0W10gPSAiLTkiOworCXNpemVfdCBsZW4gPSBzaXplb2YoaW5wdXQpIC0gMTsKKwlsb2Zm
X3QgcG9zID0gMDsKKworCXRhYmxlLmRhdGEgPSBrdW5pdF9remFsbG9jKHRlc3QsIHNpemVvZihp
bnQpLCBHRlBfVVNFUik7CisJS1VOSVRfRVhQRUNUX0VRKHRlc3QsIDAsIHByb2NfZG9pbnR2ZWMo
JnRhYmxlLCAxLCBpbnB1dCwgJmxlbiwgJnBvcykpOworCUtVTklUX0VYUEVDVF9FUSh0ZXN0LCBz
aXplb2YoaW5wdXQpIC0gMSwgbGVuKTsKKwlLVU5JVF9FWFBFQ1RfRVEodGVzdCwgc2l6ZW9mKGlu
cHV0KSAtIDEsIHBvcyk7CisJS1VOSVRfRVhQRUNUX0VRKHRlc3QsIC05LCAqKGludCAqKXRhYmxl
LmRhdGEpOworfQorCitzdGF0aWMgdm9pZCBzeXNjdGxfdGVzdF9kb2ludHZlY19zaW5nbGVfbGVz
c19pbnRfbWluKHN0cnVjdCBrdW5pdCAqdGVzdCkKK3sKKwlzdHJ1Y3QgY3RsX3RhYmxlIHRhYmxl
ID0geworCQkucHJvY25hbWUgPSAiZm9vIiwKKwkJLmRhdGEJCT0gJnRlc3RfZGF0YS5pbnRfMDAw
MSwKKwkJLm1heGxlbgkJPSBzaXplb2YoaW50KSwKKwkJLm1vZGUJCT0gMDY0NCwKKwkJLnByb2Nf
aGFuZGxlcgk9IHByb2NfZG9pbnR2ZWMsCisJCS5leHRyYTEJCT0gJmlfemVybywKKwkJLmV4dHJh
MiAgICAgICAgID0gJmlfb25lX2h1bmRyZWQsCisJfTsKKwljaGFyIGlucHV0WzMyXTsKKwlzaXpl
X3QgbGVuID0gc2l6ZW9mKGlucHV0KSAtIDE7CisJbG9mZl90IHBvcyA9IDA7CisJbG9uZyBsZXNz
X3RoYW5fbWluID0gKGxvbmcpSU5UX01JTiAtIDE7CisKKwlLVU5JVF9FWFBFQ1RfTFQodGVzdCwg
bGVzc190aGFuX21pbiwgSU5UX01JTik7CisJS1VOSVRfRVhQRUNUX0xUKHRlc3QsCisJCQlzbnBy
aW50ZihpbnB1dCwgc2l6ZW9mKGlucHV0KSwgIiVsZCIsIGxlc3NfdGhhbl9taW4pLAorCQkJc2l6
ZW9mKGlucHV0KSk7CisKKwl0YWJsZS5kYXRhID0ga3VuaXRfa3phbGxvYyh0ZXN0LCBzaXplb2Yo
aW50KSwgR0ZQX1VTRVIpOworCUtVTklUX0VYUEVDVF9FUSh0ZXN0LCAtRUlOVkFMLAorCQkJcHJv
Y19kb2ludHZlYygmdGFibGUsIDEsIGlucHV0LCAmbGVuLCAmcG9zKSk7CisJS1VOSVRfRVhQRUNU
X0VRKHRlc3QsIHNpemVvZihpbnB1dCkgLSAxLCBsZW4pOworCUtVTklUX0VYUEVDVF9FUSh0ZXN0
LCAwLCAqKGludCAqKXRhYmxlLmRhdGEpOworfQorCitzdGF0aWMgdm9pZCBzeXNjdGxfdGVzdF9k
b2ludHZlY19zaW5nbGVfZ3JlYXRlcl9pbnRfbWF4KHN0cnVjdCBrdW5pdCAqdGVzdCkKK3sKKwlz
dHJ1Y3QgY3RsX3RhYmxlIHRhYmxlID0geworCQkucHJvY25hbWUgPSAiZm9vIiwKKwkJLmRhdGEJ
CT0gJnRlc3RfZGF0YS5pbnRfMDAwMSwKKwkJLm1heGxlbgkJPSBzaXplb2YoaW50KSwKKwkJLm1v
ZGUJCT0gMDY0NCwKKwkJLnByb2NfaGFuZGxlcgk9IHByb2NfZG9pbnR2ZWMsCisJCS5leHRyYTEJ
CT0gJmlfemVybywKKwkJLmV4dHJhMiAgICAgICAgID0gJmlfb25lX2h1bmRyZWQsCisJfTsKKwlj
aGFyIGlucHV0WzMyXTsKKwlzaXplX3QgbGVuID0gc2l6ZW9mKGlucHV0KSAtIDE7CisJbG9mZl90
IHBvcyA9IDA7CisJbG9uZyBncmVhdGVyX3RoYW5fbWF4ID0gKGxvbmcpSU5UX01BWCArIDE7CisK
KwlLVU5JVF9FWFBFQ1RfR1QodGVzdCwgZ3JlYXRlcl90aGFuX21heCwgSU5UX01BWCk7CisJS1VO
SVRfRVhQRUNUX0xUKHRlc3QsIHNucHJpbnRmKGlucHV0LCBzaXplb2YoaW5wdXQpLCAiJWxkIiwK
KwkJCQkgICAgICAgZ3JlYXRlcl90aGFuX21heCksCisJCQlzaXplb2YoaW5wdXQpKTsKKwl0YWJs
ZS5kYXRhID0ga3VuaXRfa3phbGxvYyh0ZXN0LCBzaXplb2YoaW50KSwgR0ZQX1VTRVIpOworCUtV
TklUX0VYUEVDVF9FUSh0ZXN0LCAtRUlOVkFMLAorCQkJcHJvY19kb2ludHZlYygmdGFibGUsIDEs
IGlucHV0LCAmbGVuLCAmcG9zKSk7CisJS1VOSVRfRVhQRUNUX0VRKHRlc3QsIHNpemVvZihpbnB1
dCkgLSAxLCBsZW4pOworCUtVTklUX0VYUEVDVF9FUSh0ZXN0LCAwLCAqKGludCAqKXRhYmxlLmRh
dGEpOworfQorCitzdGF0aWMgaW50IHN5c2N0bF90ZXN0X2luaXQoc3RydWN0IGt1bml0ICp0ZXN0
KQoreworCXJldHVybiAwOworfQorCisvKgorICogVGhpcyBpcyBydW4gb25jZSBhZnRlciBlYWNo
IHRlc3QgY2FzZSwgc2VlIHRoZSBjb21tZW50IG9uIGV4YW1wbGVfdGVzdF9tb2R1bGUKKyAqIGZv
ciBtb3JlIGluZm9ybWF0aW9uLgorICovCitzdGF0aWMgdm9pZCBzeXNjdGxfdGVzdF9leGl0KHN0
cnVjdCBrdW5pdCAqdGVzdCkKK3sKK30KKworLyoKKyAqIEhlcmUgd2UgbWFrZSBhIGxpc3Qgb2Yg
YWxsIHRoZSB0ZXN0IGNhc2VzIHdlIHdhbnQgdG8gYWRkIHRvIHRoZSB0ZXN0IG1vZHVsZQorICog
YmVsb3cuCisgKi8KK3N0YXRpYyBzdHJ1Y3Qga3VuaXRfY2FzZSBzeXNjdGxfdGVzdF9jYXNlc1td
ID0geworCS8qCisJICogVGhpcyBpcyBhIGhlbHBlciB0byBjcmVhdGUgYSB0ZXN0IGNhc2Ugb2Jq
ZWN0IGZyb20gYSB0ZXN0IGNhc2UKKwkgKiBmdW5jdGlvbjsgaXRzIGV4YWN0IGZ1bmN0aW9uIGlz
IG5vdCBpbXBvcnRhbnQgdG8gdW5kZXJzdGFuZCBob3cgdG8KKwkgKiB1c2UgS1VuaXQsIGp1c3Qg
a25vdyB0aGF0IHRoaXMgaXMgaG93IHlvdSBhc3NvY2lhdGUgdGVzdCBjYXNlcyB3aXRoIGEKKwkg
KiB0ZXN0IG1vZHVsZS4KKwkgKi8KKwlLVU5JVF9DQVNFKHN5c2N0bF90ZXN0X2RvaW50dmVjX251
bGxfdGJsX2RhdGEpLAorCUtVTklUX0NBU0Uoc3lzY3RsX3Rlc3RfZG9pbnR2ZWNfdGFibGVfbWF4
bGVuX3Vuc2V0KSwKKwlLVU5JVF9DQVNFKHN5c2N0bF90ZXN0X2RvaW50dmVjX3RhYmxlX2xlbl9p
c196ZXJvKSwKKwlLVU5JVF9DQVNFKHN5c2N0bF90ZXN0X2RvaW50dmVjX3RhYmxlX3JlYWRfYnV0
X3Bvc2l0aW9uX3NldCksCisJS1VOSVRfQ0FTRShzeXNjdGxfdGVzdF9kb2ludHZlY19oYXBweV9z
aW5nbGVfcG9zaXRpdmUpLAorCUtVTklUX0NBU0Uoc3lzY3RsX3Rlc3RfZG9pbnR2ZWNfaGFwcHlf
c2luZ2xlX25lZ2F0aXZlKSwKKwlLVU5JVF9DQVNFKHN5c2N0bF90ZXN0X2RvaW50dmVjX3Npbmds
ZV9sZXNzX2ludF9taW4pLAorCUtVTklUX0NBU0Uoc3lzY3RsX3Rlc3RfZG9pbnR2ZWNfc2luZ2xl
X2dyZWF0ZXJfaW50X21heCksCisJe30sCit9OworCisvKgorICogVGhpcyBkZWZpbmVzIGEgc3Vp
dGUgb3IgZ3JvdXBpbmcgb2YgdGVzdHMuCisgKgorICogVGVzdCBjYXNlcyBhcmUgZGVmaW5lZCBh
cyBiZWxvbmdpbmcgdG8gdGhlIHN1aXRlIGJ5IGFkZGluZyB0aGVtIHRvCisgKiBgdGVzdF9jYXNl
c2AuCisgKgorICogT2Z0ZW4gaXQgaXMgZGVzaXJhYmxlIHRvIHJ1biBzb21lIGZ1bmN0aW9uIHdo
aWNoIHdpbGwgc2V0IHVwIHRoaW5ncyB3aGljaAorICogd2lsbCBiZSB1c2VkIGJ5IGV2ZXJ5IHRl
c3Q7IHRoaXMgaXMgYWNjb21wbGlzaGVkIHdpdGggYW4gYGluaXRgIGZ1bmN0aW9uCisgKiB3aGlj
aCBydW5zIGJlZm9yZSBlYWNoIHRlc3QgY2FzZSBpcyBpbnZva2VkLiBTaW1pbGFybHksIGFuIGBl
eGl0YCBmdW5jdGlvbgorICogbWF5IGJlIHNwZWNpZmllZCB3aGljaCBydW5zIGFmdGVyIGV2ZXJ5
IHRlc3QgY2FzZSBhbmQgY2FuIGJlIHVzZWQgdG8gZm9yCisgKiBjbGVhbnVwLiBGb3IgY2xhcml0
eSwgcnVubmluZyB0ZXN0cyBpbiBhIHRlc3QgbW9kdWxlIHdvdWxkIGJlaGF2ZSBhcyBmb2xsb3dz
OgorICoKKyAqIG1vZHVsZS5pbml0KHRlc3QpOworICogbW9kdWxlLnRlc3RfY2FzZVswXSh0ZXN0
KTsKKyAqIG1vZHVsZS5leGl0KHRlc3QpOworICogbW9kdWxlLmluaXQodGVzdCk7CisgKiBtb2R1
bGUudGVzdF9jYXNlWzFdKHRlc3QpOworICogbW9kdWxlLmV4aXQodGVzdCk7CisgKiAuLi47Cisg
Ki8KK3N0YXRpYyBzdHJ1Y3Qga3VuaXRfbW9kdWxlIHN5c2N0bF90ZXN0X21vZHVsZSA9IHsKKwku
bmFtZSA9ICJzeXNjdGxfdGVzdCIsCisJLmluaXQgPSBzeXNjdGxfdGVzdF9pbml0LAorCS5leGl0
ID0gc3lzY3RsX3Rlc3RfZXhpdCwKKwkudGVzdF9jYXNlcyA9IHN5c2N0bF90ZXN0X2Nhc2VzLAor
fTsKKworLyoKKyAqIFRoaXMgcmVnaXN0ZXJzIHRoZSBhYm92ZSB0ZXN0IG1vZHVsZSB0ZWxsaW5n
IEtVbml0IHRoYXQgdGhpcyBpcyBhIHN1aXRlIG9mCisgKiB0ZXN0cyB0aGF0IG5lZWQgdG8gYmUg
cnVuLgorICovCittb2R1bGVfdGVzdChzeXNjdGxfdGVzdF9tb2R1bGUpOwpkaWZmIC0tZ2l0IGEv
bGliL0tjb25maWcuZGVidWcgYi9saWIvS2NvbmZpZy5kZWJ1ZwppbmRleCBkNWE0YTQwMzZkMmY4
Li43NzJhZjRlYzcwMTExIDEwMDY0NAotLS0gYS9saWIvS2NvbmZpZy5kZWJ1ZworKysgYi9saWIv
S2NvbmZpZy5kZWJ1ZwpAQCAtMTkwOCw2ICsxOTA4LDEyIEBAIGNvbmZpZyBURVNUX1NZU0NUTAog
CiAJICBJZiB1bnN1cmUsIHNheSBOLgogCitjb25maWcgU1lTQ1RMX0tVTklUX1RFU1QKKwlib29s
ICJLVW5pdCB0ZXN0IGZvciBzeXNjdGwiCisJZGVwZW5kcyBvbiBLVU5JVAorCWhlbHAKKwkgIEVu
YWJsZXMgS1VuaXQgc3lzY3RsIHRlc3QuCisKIGNvbmZpZyBURVNUX1VERUxBWQogCXRyaXN0YXRl
ICJ1ZGVsYXkgdGVzdCBkcml2ZXIiCiAJaGVscAotLSAKMi4yMS4wLjU5My5nNTExZWMzNDVlMTgt
Z29vZwoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJp
LWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBz
Oi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
