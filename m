Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 0A21017A0BD
	for <lists+dri-devel@lfdr.de>; Thu,  5 Mar 2020 08:57:01 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8C2496E471;
	Thu,  5 Mar 2020 07:56:56 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mailout1.samsung.com (mailout1.samsung.com [203.254.224.24])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3660E6E075
 for <dri-devel@lists.freedesktop.org>; Thu,  5 Mar 2020 07:56:55 +0000 (UTC)
Received: from epcas1p3.samsung.com (unknown [182.195.41.47])
 by mailout1.samsung.com (KnoxPortal) with ESMTP id
 20200305075652epoutp01562d675362beb7a5cda7cb610aad5e85~5WWAG0Ehf2664026640epoutp01n
 for <dri-devel@lists.freedesktop.org>; Thu,  5 Mar 2020 07:56:52 +0000 (GMT)
DKIM-Filter: OpenDKIM Filter v2.11.0 mailout1.samsung.com
 20200305075652epoutp01562d675362beb7a5cda7cb610aad5e85~5WWAG0Ehf2664026640epoutp01n
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=samsung.com;
 s=mail20170921; t=1583395013;
 bh=ArpVCAdKy8Hgkz5KqbxSnrIGxHtVOFIMJSDU61w7xNU=;
 h=Subject:To:Cc:From:Date:In-Reply-To:References:From;
 b=k1o34oCtxjdnFRwQ43Uw5JVoANLsTYL27ytODagQjr7CGmc9ncp5tqjRWEzvtkXNi
 e5jzU4cU/LBTZoPQT3tfjosBET6CaLHmIR+Afg++z9g9yJPuivzsVrB438LTquogsY
 HFy9tCgbHHPG+FggXkkovqsPhEFJNXJqnlSxHF0Y=
Received: from epsnrtp1.localdomain (unknown [182.195.42.162]) by
 epcas1p1.samsung.com (KnoxPortal) with ESMTP id
 20200305075652epcas1p19aa4f6ae0e8d3d3364f719626854025f~5WV-wgI5D0491704917epcas1p1i;
 Thu,  5 Mar 2020 07:56:52 +0000 (GMT)
Received: from epsmges1p1.samsung.com (unknown [182.195.40.157]) by
 epsnrtp1.localdomain (Postfix) with ESMTP id 48Y3433msKzMqYlr; Thu,  5 Mar
 2020 07:56:51 +0000 (GMT)
Received: from epcas1p3.samsung.com ( [182.195.41.47]) by
 epsmges1p1.samsung.com (Symantec Messaging Gateway) with SMTP id
 33.BF.57028.BB0B06E5; Thu,  5 Mar 2020 16:56:44 +0900 (KST)
Received: from epsmtrp2.samsung.com (unknown [182.195.40.14]) by
 epcas1p4.samsung.com (KnoxPortal) with ESMTPA id
 20200305075643epcas1p4b44ea9e7c3e599c2bfc0c980f1dfcdc0~5WV3UxLNw2201622016epcas1p4R;
 Thu,  5 Mar 2020 07:56:43 +0000 (GMT)
Received: from epsmgms1p2new.samsung.com (unknown [182.195.42.42]) by
 epsmtrp2.samsung.com (KnoxPortal) with ESMTP id
 20200305075643epsmtrp2bcd37b214c86eb37d7967ae6b63c10ac~5WV3UKLqM0621306213epsmtrp2X;
 Thu,  5 Mar 2020 07:56:43 +0000 (GMT)
X-AuditID: b6c32a35-50bff7000001dec4-ef-5e60b0bb8f9b
Received: from epsmtip2.samsung.com ( [182.195.34.31]) by
 epsmgms1p2new.samsung.com (Symantec Messaging Gateway) with SMTP id
 9F.F3.06569.BB0B06E5; Thu,  5 Mar 2020 16:56:43 +0900 (KST)
Received: from [10.113.221.211] (unknown [10.113.221.211]) by
 epsmtip2.samsung.com (KnoxPortal) with ESMTPA id
 20200305075643epsmtip23d84fca7255836e8839a9de7b67cde73~5WV3Ho_Y-1610716107epsmtip2e;
 Thu,  5 Mar 2020 07:56:43 +0000 (GMT)
Subject: Re: [PATCH] drm/exynos: Fix cleanup of IOMMU related objects
To: Marek Szyprowski <m.szyprowski@samsung.com>,
 dri-devel@lists.freedesktop.org, linux-samsung-soc@vger.kernel.org
From: Inki Dae <inki.dae@samsung.com>
Message-ID: <d392e79f-7209-d7f6-0f1a-3d3d6e4c4473@samsung.com>
Date: Thu, 5 Mar 2020 17:01:06 +0900
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.0
MIME-Version: 1.0
In-Reply-To: <20200302142709.15007-1-m.szyprowski@samsung.com>
Content-Language: en-US
X-Brightmail-Tracker: H4sIAAAAAAAAA02Se0hTcRTH+e1u16u0uG1mB4vSW/4xycdNl/NJoZWQgRBEFrhu7jLFvbh3
 i4qwyCjxUS01l+UjMwzNtKFhoZUrfGCZglZqKyvL8o+EmRHZa9s18r/vOb/P93fO+f0Ogckq
 8EAix2BmOQOjo3A/8Z1HioiwztYDmZHDX5Fq/NagRHXb1iJRjczP4irbs/siVfNjp4/KVvoZ
 34KnvinqFaWebWtEqXP2tenYvtyEbJbRsFwQa8gyanIM2kRq5251slq5OZIOo2NVMVSQgdGz
 iVRKWnrY9hyduy4VdIjRWdypdIbnqYikBM5oMbNB2UbenEixJo3OFGsK5xk9bzFow7OM+jg6
 MnKT0g0eyM1+OvZHbHJsPNz624GfQD83FCJfAshoqJ0ZEhciP0JGdiAYGr2CCYELwWBB++LJ
 NwTPnaU+/ywlDROLVBeC4rpyiRDMIvhe58I9lJzcBk+LpjGP9ictUPWnx+vGyDMImnvVHo2T
 IWC98cbLS8kksFcXiD1aTG6AlxWlbi9BrCT3wsA8IyAroP/SlBfxdePW7i6JcOUqGJ+qEQl6
 HeS3X/Y2B+QTHJpdE4tdp0DP5JxE0HKY6W1bzAfC3JcuXDDkI7DaBkRCUIDA+f6FWKCi4MH1
 UpGnI4xUQMu9CCEdDHcXqpBQeTl8mS+WeBAgpVBwWiYgFPQMv0SCBhiqt+KCToVrH4sk51Fw
 5ZLZKpfMU7lknsr/hWuRuBEFsCZer2V52kQv/W478i5lqLIDlQ2mORBJIGqZ9FO5OlMmYQ7x
 R/QOBARG+UvlSndKqmGOHGU5o5qz6FjegZTul7digSuzjO4VN5jVtHJTVFSUKprerKRpapX0
 bYYiU0ZqGTOby7ImlvvnExG+gSdQWae2490xzj42XeMXe3Uy7111mOKm887IcSc2M7qre708
 Jn7HuE9ip6Wbs184NTH5qS4u7sypq1+baLlmqOTi/h+POxLq1yaHtFXVH24YF7nWNPUrPuTt
 mYvHo+tGXy087NWtrkn/bevbupB1LlbqDCj89b1emnEwpC/U5/VYykkXJeazGToU43jmL16T
 ijWqAwAA
X-Brightmail-Tracker: H4sIAAAAAAAAA+NgFvrKLMWRmVeSWpSXmKPExsWy7bCSvO7uDQlxBr9WSFrcWneO1WLjjPWs
 Fle+vmezmHF+H5PF2iN32S1mTH7J5sDmcb/7OJNH35ZVjB6fN8kFMEdx2aSk5mSWpRbp2yVw
 ZZy9+Z+l4JBOxYZ/h9gaGP+odDFyckgImEj0Lr/N3MXIxSEksJtRovflQdYuRg6ghITElq0c
 EKawxOHDxRAlbxkluo8+ZQXpFRZwlTjb/ZwZxBYRKJV41X+fEaSIWaCdUeLIvg52iI6JjBKb
 P/ewgFSxCahKTFxxnw3E5hWwk9g0rwMsziKgInFj+mSwSaICERLPt99ghKgRlDg58wlYDSdQ
 /cSDe8E2MwuoS/yZd4kZwhaXuPVkPhOELS/RvHU28wRGoVlI2mchaZmFpGUWkpYFjCyrGCVT
 C4pz03OLDQuM8lLL9YoTc4tL89L1kvNzNzGCI0NLawfjiRPxhxgFOBiVeHgdZsTHCbEmlhVX
 5h5ilOBgVhLhFTYFCvGmJFZWpRblxxeV5qQWH2KU5mBREueVzz8WKSSQnliSmp2aWpBaBJNl
 4uCUamAUV3aNiQu/tbRd/8rTI2rTJwrk3Cz5oyF3PLxR98SP0uDZchUfP6cyH1lRJlt74Lln
 j8nPGKvLwdr2uhtdvJb/eP5csnf92Z8JfufYn76/OfeE2tMre99P/rJpQo6mgIjalaICPlXl
 nu+PzeQKvXOZLn+avvzG5Y6ff5h3zJBU6X8e+Virie2hEktxRqKhFnNRcSIAAqOH0IgCAAA=
X-CMS-MailID: 20200305075643epcas1p4b44ea9e7c3e599c2bfc0c980f1dfcdc0
X-Msg-Generator: CA
X-Sendblock-Type: SVC_REQ_APPROVE
CMS-TYPE: 101P
DLP-Filter: Pass
X-CFilter-Loop: Reflected
X-CMS-RootMailID: 20200302142822eucas1p1749e7cd54ad0b8657b753a8b720ccba2
References: <CGME20200302142822eucas1p1749e7cd54ad0b8657b753a8b720ccba2@eucas1p1.samsung.com>
 <20200302142709.15007-1-m.szyprowski@samsung.com>
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Andrzej Hajda <a.hajda@samsung.com>, Seung-Woo Kim <sw0312.kim@samsung.com>,
 Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgTWFyZWssCgoyMC4gMy4gMi4g7Jik7ZuEIDExOjI37JeQIE1hcmVrIFN6eXByb3dza2kg7J20
KOqwgCkg7JO0IOq4gDoKPiBTdG9yZSB0aGUgSU9NTVUgbWFwcGluZyBjcmVhdGVkIGJ5IGRldmlj
ZSBjb3JlIG9mIGVhY2ggRXh5bm9zIERSTQo+IHN1Yi1kZXZpY2UgYW5kIHJlc3RvcmUgaXQgd2hl
biBFeHlub3MgRFJNIGRyaXZlciBpcyB1bmJvdW5kLiBUaGlzIGZpeGVzCj4gSU9NTVUgaW5pdGlh
bGl6YXRpb24gZmFpbHVyZSBmb3IgdGhlIHNlY29uZCB0aW1lIHdoZW4gZGVmZXJyZWQgcHJvYmUg
aXMKPiB0cmlnZ2VyZWQgZnJvbSB0aGUgYmluZCgpIGNhbGxiYWNrIG9mIG1hc3RlcidzIGNvbXBv
dW5kIERSTSBkcml2ZXIuCj4gCj4gU2lnbmVkLW9mZi1ieTogTWFyZWsgU3p5cHJvd3NraSA8bS5z
enlwcm93c2tpQHNhbXN1bmcuY29tPgo+IC0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vZXh5bm9zL2V4
eW5vczU0MzNfZHJtX2RlY29uLmMgfCAgNSArKystLQo+ICBkcml2ZXJzL2dwdS9kcm0vZXh5bm9z
L2V4eW5vczdfZHJtX2RlY29uLmMgICAgfCAgNSArKystLQo+ICBkcml2ZXJzL2dwdS9kcm0vZXh5
bm9zL2V4eW5vc19kcm1fZG1hLmMgICAgICAgfCAyMiArKysrKysrKysrKy0tLS0tLS0tCj4gIGRy
aXZlcnMvZ3B1L2RybS9leHlub3MvZXh5bm9zX2RybV9kcnYuaCAgICAgICB8ICA2ICsrKy0tCj4g
IGRyaXZlcnMvZ3B1L2RybS9leHlub3MvZXh5bm9zX2RybV9maW1jLmMgICAgICB8ICA1ICsrKy0t
Cj4gIGRyaXZlcnMvZ3B1L2RybS9leHlub3MvZXh5bm9zX2RybV9maW1kLmMgICAgICB8ICA1ICsr
Ky0tCj4gIGRyaXZlcnMvZ3B1L2RybS9leHlub3MvZXh5bm9zX2RybV9nMmQuYyAgICAgICB8ICA1
ICsrKy0tCj4gIGRyaXZlcnMvZ3B1L2RybS9leHlub3MvZXh5bm9zX2RybV9nc2MuYyAgICAgICB8
ICA1ICsrKy0tCj4gIGRyaXZlcnMvZ3B1L2RybS9leHlub3MvZXh5bm9zX2RybV9yb3RhdG9yLmMg
ICB8ICA1ICsrKy0tCj4gIGRyaXZlcnMvZ3B1L2RybS9leHlub3MvZXh5bm9zX2RybV9zY2FsZXIu
YyAgICB8ICA2ICsrKy0tCj4gIGRyaXZlcnMvZ3B1L2RybS9leHlub3MvZXh5bm9zX21peGVyLmMg
ICAgICAgICB8ICA3ICsrKystLQo+ICAxMSBmaWxlcyBjaGFuZ2VkLCA0NyBpbnNlcnRpb25zKCsp
LCAyOSBkZWxldGlvbnMoLSkKPiAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2V4eW5v
cy9leHlub3M1NDMzX2RybV9kZWNvbi5jIGIvZHJpdmVycy9ncHUvZHJtL2V4eW5vcy9leHlub3M1
NDMzX2RybV9kZWNvbi5jCj4gaW5kZXggODQyOGFlMTJkZmE1Li4xZjc5YmMyYTg4MWUgMTAwNjQ0
Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2V4eW5vcy9leHlub3M1NDMzX2RybV9kZWNvbi5jCj4g
KysrIGIvZHJpdmVycy9ncHUvZHJtL2V4eW5vcy9leHlub3M1NDMzX2RybV9kZWNvbi5jCj4gQEAg
LTU1LDYgKzU1LDcgQEAgc3RhdGljIGNvbnN0IGNoYXIgKiBjb25zdCBkZWNvbl9jbGtzX25hbWVb
XSA9IHsKPiAgc3RydWN0IGRlY29uX2NvbnRleHQgewo+ICAJc3RydWN0IGRldmljZQkJCSpkZXY7
Cj4gIAlzdHJ1Y3QgZHJtX2RldmljZQkJKmRybV9kZXY7Cj4gKwl2b2lkCQkJCSpkbWFfcHJpdjsK
PiAgCXN0cnVjdCBleHlub3NfZHJtX2NydGMJCSpjcnRjOwo+ICAJc3RydWN0IGV4eW5vc19kcm1f
cGxhbmUJCXBsYW5lc1tXSU5ET1dTX05SXTsKPiAgCXN0cnVjdCBleHlub3NfZHJtX3BsYW5lX2Nv
bmZpZwljb25maWdzW1dJTkRPV1NfTlJdOwo+IEBAIC02NDQsNyArNjQ1LDcgQEAgc3RhdGljIGlu
dCBkZWNvbl9iaW5kKHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGRldmljZSAqbWFzdGVyLCB2
b2lkICpkYXRhKQo+ICAKPiAgCWRlY29uX2NsZWFyX2NoYW5uZWxzKGN0eC0+Y3J0Yyk7Cj4gIAo+
IC0JcmV0dXJuIGV4eW5vc19kcm1fcmVnaXN0ZXJfZG1hKGRybV9kZXYsIGRldik7Cj4gKwlyZXR1
cm4gZXh5bm9zX2RybV9yZWdpc3Rlcl9kbWEoZHJtX2RldiwgZGV2LCAmY3R4LT5kbWFfcHJpdik7
Cj4gIH0KPiAgCj4gIHN0YXRpYyB2b2lkIGRlY29uX3VuYmluZChzdHJ1Y3QgZGV2aWNlICpkZXYs
IHN0cnVjdCBkZXZpY2UgKm1hc3Rlciwgdm9pZCAqZGF0YSkKPiBAQCAtNjU0LDcgKzY1NSw3IEBA
IHN0YXRpYyB2b2lkIGRlY29uX3VuYmluZChzdHJ1Y3QgZGV2aWNlICpkZXYsIHN0cnVjdCBkZXZp
Y2UgKm1hc3Rlciwgdm9pZCAqZGF0YSkKPiAgCWRlY29uX2F0b21pY19kaXNhYmxlKGN0eC0+Y3J0
Yyk7Cj4gIAo+ICAJLyogZGV0YWNoIHRoaXMgc3ViIGRyaXZlciBmcm9tIGlvbW11IG1hcHBpbmcg
aWYgc3VwcG9ydGVkLiAqLwo+IC0JZXh5bm9zX2RybV91bnJlZ2lzdGVyX2RtYShjdHgtPmRybV9k
ZXYsIGN0eC0+ZGV2KTsKPiArCWV4eW5vc19kcm1fdW5yZWdpc3Rlcl9kbWEoY3R4LT5kcm1fZGV2
LCBjdHgtPmRldiwgJmN0eC0+ZG1hX3ByaXYpOwo+ICB9Cj4gIAo+ICBzdGF0aWMgY29uc3Qgc3Ry
dWN0IGNvbXBvbmVudF9vcHMgZGVjb25fY29tcG9uZW50X29wcyA9IHsKPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2V4eW5vcy9leHlub3M3X2RybV9kZWNvbi5jIGIvZHJpdmVycy9ncHUv
ZHJtL2V4eW5vcy9leHlub3M3X2RybV9kZWNvbi5jCj4gaW5kZXggZmY1OWM2NDFmYTgwLi4xZWVk
MzMyNzk5OWYgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2V4eW5vcy9leHlub3M3X2Ry
bV9kZWNvbi5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2V4eW5vcy9leHlub3M3X2RybV9kZWNv
bi5jCj4gQEAgLTQwLDYgKzQwLDcgQEAKPiAgc3RydWN0IGRlY29uX2NvbnRleHQgewo+ICAJc3Ry
dWN0IGRldmljZQkJCSpkZXY7Cj4gIAlzdHJ1Y3QgZHJtX2RldmljZQkJKmRybV9kZXY7Cj4gKwl2
b2lkCQkJCSpkbWFfcHJpdjsKPiAgCXN0cnVjdCBleHlub3NfZHJtX2NydGMJCSpjcnRjOwo+ICAJ
c3RydWN0IGV4eW5vc19kcm1fcGxhbmUJCXBsYW5lc1tXSU5ET1dTX05SXTsKPiAgCXN0cnVjdCBl
eHlub3NfZHJtX3BsYW5lX2NvbmZpZwljb25maWdzW1dJTkRPV1NfTlJdOwo+IEBAIC0xMjcsMTMg
KzEyOCwxMyBAQCBzdGF0aWMgaW50IGRlY29uX2N0eF9pbml0aWFsaXplKHN0cnVjdCBkZWNvbl9j
b250ZXh0ICpjdHgsCj4gIAo+ICAJZGVjb25fY2xlYXJfY2hhbm5lbHMoY3R4LT5jcnRjKTsKPiAg
Cj4gLQlyZXR1cm4gZXh5bm9zX2RybV9yZWdpc3Rlcl9kbWEoZHJtX2RldiwgY3R4LT5kZXYpOwo+
ICsJcmV0dXJuIGV4eW5vc19kcm1fcmVnaXN0ZXJfZG1hKGRybV9kZXYsIGN0eC0+ZGV2LCAmY3R4
LT5kbWFfcHJpdik7Cj4gIH0KPiAgCj4gIHN0YXRpYyB2b2lkIGRlY29uX2N0eF9yZW1vdmUoc3Ry
dWN0IGRlY29uX2NvbnRleHQgKmN0eCkKPiAgewo+ICAJLyogZGV0YWNoIHRoaXMgc3ViIGRyaXZl
ciBmcm9tIGlvbW11IG1hcHBpbmcgaWYgc3VwcG9ydGVkLiAqLwo+IC0JZXh5bm9zX2RybV91bnJl
Z2lzdGVyX2RtYShjdHgtPmRybV9kZXYsIGN0eC0+ZGV2KTsKPiArCWV4eW5vc19kcm1fdW5yZWdp
c3Rlcl9kbWEoY3R4LT5kcm1fZGV2LCBjdHgtPmRldiwgJmN0eC0+ZG1hX3ByaXYpOwo+ICB9Cj4g
IAo+ICBzdGF0aWMgdTMyIGRlY29uX2NhbGNfY2xrZGl2KHN0cnVjdCBkZWNvbl9jb250ZXh0ICpj
dHgsCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9leHlub3MvZXh5bm9zX2RybV9kbWEu
YyBiL2RyaXZlcnMvZ3B1L2RybS9leHlub3MvZXh5bm9zX2RybV9kbWEuYwo+IGluZGV4IDllYmMw
Mjc2ODg0Ny4uNDgyYmVjNzc1NmZhIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9leHlu
b3MvZXh5bm9zX2RybV9kbWEuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9leHlub3MvZXh5bm9z
X2RybV9kbWEuYwo+IEBAIC01OCw3ICs1OCw3IEBAIHN0YXRpYyBpbmxpbmUgdm9pZCBjbGVhcl9k
bWFfbWF4X3NlZ19zaXplKHN0cnVjdCBkZXZpY2UgKmRldikKPiAgICogbWFwcGluZy4KPiAgICov
Cj4gIHN0YXRpYyBpbnQgZHJtX2lvbW11X2F0dGFjaF9kZXZpY2Uoc3RydWN0IGRybV9kZXZpY2Ug
KmRybV9kZXYsCj4gLQkJCQlzdHJ1Y3QgZGV2aWNlICpzdWJkcnZfZGV2KQo+ICsJCQkJc3RydWN0
IGRldmljZSAqc3ViZHJ2X2Rldiwgdm9pZCAqKmRtYV9wcml2KQo+ICB7Cj4gIAlzdHJ1Y3QgZXh5
bm9zX2RybV9wcml2YXRlICpwcml2ID0gZHJtX2Rldi0+ZGV2X3ByaXZhdGU7Cj4gIAlpbnQgcmV0
Owo+IEBAIC03NCw3ICs3NCw4IEBAIHN0YXRpYyBpbnQgZHJtX2lvbW11X2F0dGFjaF9kZXZpY2Uo
c3RydWN0IGRybV9kZXZpY2UgKmRybV9kZXYsCj4gIAkJcmV0dXJuIHJldDsKPiAgCj4gIAlpZiAo
SVNfRU5BQkxFRChDT05GSUdfQVJNX0RNQV9VU0VfSU9NTVUpKSB7Cj4gLQkJaWYgKHRvX2RtYV9p
b21tdV9tYXBwaW5nKHN1YmRydl9kZXYpKQo+ICsJCSpkbWFfcHJpdiA9IHRvX2RtYV9pb21tdV9t
YXBwaW5nKHN1YmRydl9kZXYpOwo+ICsJCWlmICgqZG1hX3ByaXYpCj4gIAkJCWFybV9pb21tdV9k
ZXRhY2hfZGV2aWNlKHN1YmRydl9kZXYpOwo+ICAKPiAgCQlyZXQgPSBhcm1faW9tbXVfYXR0YWNo
X2RldmljZShzdWJkcnZfZGV2LCBwcml2LT5tYXBwaW5nKTsKPiBAQCAtOTgsMTkgKzk5LDIxIEBA
IHN0YXRpYyBpbnQgZHJtX2lvbW11X2F0dGFjaF9kZXZpY2Uoc3RydWN0IGRybV9kZXZpY2UgKmRy
bV9kZXYsCj4gICAqIG1hcHBpbmcKPiAgICovCj4gIHN0YXRpYyB2b2lkIGRybV9pb21tdV9kZXRh
Y2hfZGV2aWNlKHN0cnVjdCBkcm1fZGV2aWNlICpkcm1fZGV2LAo+IC0JCQkJc3RydWN0IGRldmlj
ZSAqc3ViZHJ2X2RldikKPiArCQkJCSAgICBzdHJ1Y3QgZGV2aWNlICpzdWJkcnZfZGV2LCB2b2lk
ICoqZG1hX3ByaXYpCj4gIHsKPiAgCXN0cnVjdCBleHlub3NfZHJtX3ByaXZhdGUgKnByaXYgPSBk
cm1fZGV2LT5kZXZfcHJpdmF0ZTsKPiAgCj4gLQlpZiAoSVNfRU5BQkxFRChDT05GSUdfQVJNX0RN
QV9VU0VfSU9NTVUpKQo+ICsJaWYgKElTX0VOQUJMRUQoQ09ORklHX0FSTV9ETUFfVVNFX0lPTU1V
KSkgewo+ICAJCWFybV9pb21tdV9kZXRhY2hfZGV2aWNlKHN1YmRydl9kZXYpOwo+IC0JZWxzZSBp
ZiAoSVNfRU5BQkxFRChDT05GSUdfSU9NTVVfRE1BKSkKPiArCQlhcm1faW9tbXVfYXR0YWNoX2Rl
dmljZShzdWJkcnZfZGV2LCAqZG1hX3ByaXYpOwoKSSBkb24ndCBzZWUgd2h5IGFybV9pb21tdV9h
dHRhY2hfZGV2aWNlIGZ1bmN0aW9uIHNob3VsZCBiZSBjYWxsZWQgYWdhaW4gYXQgZHJtX2lvbW11
X2RldGFjaF9kZXZpY2UgZnVuY3Rpb24uCkkgdGhpbmsgaXQgc2hvdWxkIGJlIG5vIHByb2JsZW0g
d2l0aG91dCBhcm1faW9tbXVfYXR0YWNoX2RldmljZSBjYWxsLgpJZiB0aGVyZSBpcyBhbnkgcHJv
YmxlbSB3aXRob3V0IGFybV9pb21tdV9hdHRhY2hfZGV2aWNlIGZ1bmN0aW9uIGNhbGwgdGhlbiBt
YXliZSBnZXR0aW5nIHdyb25nIHNvbWV3aGVyZSBidXQgbm90IGhlcmUuCgpUaGFua3MsCklua2kg
RGFlCgo+ICsJfSBlbHNlIGlmIChJU19FTkFCTEVEKENPTkZJR19JT01NVV9ETUEpKQo+ICAJCWlv
bW11X2RldGFjaF9kZXZpY2UocHJpdi0+bWFwcGluZywgc3ViZHJ2X2Rldik7Cj4gIAo+ICAJY2xl
YXJfZG1hX21heF9zZWdfc2l6ZShzdWJkcnZfZGV2KTsKPiAgfQpfX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1k
ZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcv
bWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWwK
