Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id E7A04E4F7
	for <lists+dri-devel@lfdr.de>; Mon, 29 Apr 2019 16:44:08 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 2D65E89260;
	Mon, 29 Apr 2019 14:43:51 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mx1.suse.de (mx2.suse.de [195.135.220.15])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 53B0189242
 for <dri-devel@lists.freedesktop.org>; Mon, 29 Apr 2019 14:43:49 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id 865A9AF8A;
 Mon, 29 Apr 2019 14:43:47 +0000 (UTC)
From: Thomas Zimmermann <tzimmermann@suse.de>
To: daniel@ffwll.ch, airlied@linux.ie, kraxel@redhat.com,
 christian.koenig@amd.com, ray.huang@amd.com, Jerry.Zhang@amd.com,
 hdegoede@redhat.com, z.liuxinliang@hisilicon.com, zourongrong@gmail.com,
 kong.kongxinwei@hisilicon.com, puck.chen@hisilicon.com
Subject: [PATCH v3 04/19] drm: Add drm_gem_vram_fill_create_dumb() to create
 dumb buffers
Date: Mon, 29 Apr 2019 16:43:26 +0200
Message-Id: <20190429144341.12615-5-tzimmermann@suse.de>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190429144341.12615-1-tzimmermann@suse.de>
References: <20190429144341.12615-1-tzimmermann@suse.de>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Thomas Zimmermann <tzimmermann@suse.de>, dri-devel@lists.freedesktop.org,
 virtualization@lists.linux-foundation.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIGhlbHBlciBmdW5jdGlvbiBkcm1fZ2VtX3ZyYW1fZmlsbF9jcmVhdGVfZHVtYigpIGltcGxl
bWVudHMgbW9zdCBvZgpzdHJ1Y3QgZHJtX2RyaXZlci5kdW1iX2NyZWF0ZSgpIGZvciBHRU0tVlJB
TSBidWZmZXIgb2JqZWN0cy4gSXQncyBub3QgYQpmdWxsIGltcGxlbWVuYXRpb24gb2YgdGhlIGNh
bGxiYWNrLCBhcyBzZXZlcmFsIGRyaXZlci1zcGVjaWZpYyBwYXJhbWV0ZXJzCmFyZSBzdGlsbCBy
ZXF1aXJlZC4KCnYyOgoJKiBkb2N1bWVudGF0aW9uIGZpeGVzCgpTaWduZWQtb2ZmLWJ5OiBUaG9t
YXMgWmltbWVybWFubiA8dHppbW1lcm1hbm5Ac3VzZS5kZT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0v
ZHJtX2dlbV92cmFtX2hlbHBlci5jIHwgNjIgKysrKysrKysrKysrKysrKysrKysrKysrKysrCiBp
bmNsdWRlL2RybS9kcm1fZ2VtX3ZyYW1faGVscGVyLmggICAgIHwgIDggKysrKwogMiBmaWxlcyBj
aGFuZ2VkLCA3MCBpbnNlcnRpb25zKCspCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2Ry
bV9nZW1fdnJhbV9oZWxwZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fZ2VtX3ZyYW1faGVscGVy
LmMKaW5kZXggMzFiZjZjMTA3OWIwLi5lNWEwZGNmOTdiYTggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9kcm1fZ2VtX3ZyYW1faGVscGVyLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2RybV9n
ZW1fdnJhbV9oZWxwZXIuYwpAQCAtMSw2ICsxLDcgQEAKIC8qIFNQRFgtTGljZW5zZS1JZGVudGlm
aWVyOiBHUEwtMi4wLW9yLWxhdGVyICovCiAKICNpbmNsdWRlIDxkcm0vZHJtX2dlbV92cmFtX2hl
bHBlci5oPgorI2luY2x1ZGUgPGRybS9kcm1fbW9kZS5oPgogI2luY2x1ZGUgPGRybS90dG0vdHRt
X3BhZ2VfYWxsb2MuaD4KIAogLyoqCkBAIC00MDksNiArNDEwLDY3IEBAIHZvaWQgZHJtX2dlbV92
cmFtX2t1bm1hcChzdHJ1Y3QgZHJtX2dlbV92cmFtX29iamVjdCAqZ2JvKQogfQogRVhQT1JUX1NZ
TUJPTChkcm1fZ2VtX3ZyYW1fa3VubWFwKTsKIAorLyoqCisgKiBkcm1fZ2VtX3ZyYW1fZmlsbF9j
cmVhdGVfZHVtYigpIC0gXAorCUhlbHBlciBmb3IgaW1wbGVtZW50aW5nICZzdHJ1Y3QgZHJtX2Ry
aXZlci5kdW1iX2NyZWF0ZQorICogQGZpbGU6CQl0aGUgRFJNIGZpbGUKKyAqIEBkZXY6CQl0aGUg
RFJNIGRldmljZQorICogQGJkZXY6CQl0aGUgVFRNIEJPIGRldmljZSBtYW5hZ2luZyB0aGUgYnVm
ZmVyIG9iamVjdAorICogQHBnX2FsaWduOgkJdGhlIGJ1ZmZlcidzIGFsaWdubWVudCBpbiBtdWx0
aXBsZXMgb2YgdGhlIHBhZ2Ugc2l6ZQorICogQGludGVycnVwdGlibGU6CXNsZWVwIGludGVycnVw
dGlibGUgaWYgd2FpdGluZyBmb3IgbWVtb3J5CisgKiBAYXJnczoJCXRoZSBhcmd1bWVudHMgYXMg
cHJvdmlkZWQgdG8gXAorCQkJCSZzdHJ1Y3QgZHJtX2RyaXZlci5kdW1iX2NyZWF0ZQorICoKKyAq
IFRoaXMgaGVscGVyIGZ1bmN0aW9uIGZpbGxzICZzdHJ1Y3QgZHJtX21vZGVfY3JlYXRlX2R1bWIs
IHdoaWNoIGlzIHVzZWQKKyAqIGJ5ICZzdHJ1Y3QgZHJtX2RyaXZlci5kdW1iX2NyZWF0ZS4gSW1w
bGVtZW50YXRpb25zIG9mIHRoaXMgaW50ZXJmYWNlCisgKiBzaG91bGQgZm9yd2FyZHMgdGhlaXIg
YXJndW1lbnRzIHRvIHRoaXMgaGVscGVyLCBwbHVzIHRoZSBkcml2ZXItc3BlY2lmaWMKKyAqIHBh
cmFtZXRlcnMuCisgKgorICogUmV0dXJuczoKKyAqIDAgb24gc3VjY2Vzcywgb3IKKyAqIGEgbmVn
YXRpdmUgZXJyb3IgY29kZSBvdGhlcndpc2UuCisgKi8KK2ludCBkcm1fZ2VtX3ZyYW1fZmlsbF9j
cmVhdGVfZHVtYihzdHJ1Y3QgZHJtX2ZpbGUgKmZpbGUsCisJCQkJICBzdHJ1Y3QgZHJtX2Rldmlj
ZSAqZGV2LAorCQkJCSAgc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCisJCQkJICB1aW50MzJf
dCBwZ19hbGlnbiwKKwkJCQkgIGJvb2wgaW50ZXJydXB0aWJsZSwKKwkJCQkgIHN0cnVjdCBkcm1f
bW9kZV9jcmVhdGVfZHVtYiAqYXJncykKK3sKKwlzaXplX3QgcGl0Y2gsIHNpemU7CisJc3RydWN0
IGRybV9nZW1fdnJhbV9vYmplY3QgKmdibzsKKwlpbnQgcmV0OworCXUzMiBoYW5kbGU7CisKKwlw
aXRjaCA9IGFyZ3MtPndpZHRoICogKChhcmdzLT5icHAgKyA3KSAvIDgpOworCXNpemUgPSBwaXRj
aCAqIGFyZ3MtPmhlaWdodDsKKworCXNpemUgPSByb3VuZHVwKHNpemUsIFBBR0VfU0laRSk7CisJ
aWYgKCFzaXplKQorCQlyZXR1cm4gLUVJTlZBTDsKKworCWdibyA9IGRybV9nZW1fdnJhbV9jcmVh
dGUoZGV2LCBiZGV2LCBzaXplLCBwZ19hbGlnbiwgaW50ZXJydXB0aWJsZSk7CisJaWYgKElTX0VS
UihnYm8pKQorCQlyZXR1cm4gUFRSX0VSUihnYm8pOworCisJcmV0ID0gZHJtX2dlbV9oYW5kbGVf
Y3JlYXRlKGZpbGUsICZnYm8tPmdlbSwgJmhhbmRsZSk7CisJaWYgKHJldCkKKwkJZ290byBlcnJf
ZHJtX2dlbV9vYmplY3RfcHV0X3VubG9ja2VkOworCisJZHJtX2dlbV9vYmplY3RfcHV0X3VubG9j
a2VkKCZnYm8tPmdlbSk7CisKKwlhcmdzLT5waXRjaCA9IHBpdGNoOworCWFyZ3MtPnNpemUgPSBz
aXplOworCWFyZ3MtPmhhbmRsZSA9IGhhbmRsZTsKKworCXJldHVybiAwOworCitlcnJfZHJtX2dl
bV9vYmplY3RfcHV0X3VubG9ja2VkOgorCWRybV9nZW1fb2JqZWN0X3B1dF91bmxvY2tlZCgmZ2Jv
LT5nZW0pOworCXJldHVybiByZXQ7Cit9CitFWFBPUlRfU1lNQk9MKGRybV9nZW1fdnJhbV9maWxs
X2NyZWF0ZV9kdW1iKTsKKwogLyoKICAqIEhlbHBlcnMgZm9yIHN0cnVjdCB0dG1fYm9fZHJpdmVy
CiAgKi8KZGlmZiAtLWdpdCBhL2luY2x1ZGUvZHJtL2RybV9nZW1fdnJhbV9oZWxwZXIuaCBiL2lu
Y2x1ZGUvZHJtL2RybV9nZW1fdnJhbV9oZWxwZXIuaAppbmRleCA5OTk4MjU5MGUzMmEuLjFlYjQy
OTE5YjlmYiAxMDA2NDQKLS0tIGEvaW5jbHVkZS9kcm0vZHJtX2dlbV92cmFtX2hlbHBlci5oCisr
KyBiL2luY2x1ZGUvZHJtL2RybV9nZW1fdnJhbV9oZWxwZXIuaApAQCAtOCw2ICs4LDcgQEAKICNp
bmNsdWRlIDxkcm0vdHRtL3R0bV9wbGFjZW1lbnQuaD4KICNpbmNsdWRlIDxsaW51eC9rZXJuZWwu
aD4gLyogZm9yIGNvbnRhaW5lcl9vZigpICovCiAKK3N0cnVjdCBkcm1fbW9kZV9jcmVhdGVfZHVt
YjsKIHN0cnVjdCBmaWxwOwogCiAjZGVmaW5lIERSTV9HRU1fVlJBTV9QTF9GTEFHX1ZSQU0JVFRN
X1BMX0ZMQUdfVlJBTQpAQCAtODksNiArOTAsMTMgQEAgdm9pZCBkcm1fZ2VtX3ZyYW1fa3VubWFw
X2F0KHN0cnVjdCBkcm1fZ2VtX3ZyYW1fb2JqZWN0ICpnYm8sCiAJCQkgICAgc3RydWN0IHR0bV9i
b19rbWFwX29iaiAqa21hcCk7CiB2b2lkIGRybV9nZW1fdnJhbV9rdW5tYXAoc3RydWN0IGRybV9n
ZW1fdnJhbV9vYmplY3QgKmdibyk7CiAKK2ludCBkcm1fZ2VtX3ZyYW1fZmlsbF9jcmVhdGVfZHVt
YihzdHJ1Y3QgZHJtX2ZpbGUgKmZpbGUsCisJCQkJICBzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LAor
CQkJCSAgc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCisJCQkJICB1aW50MzJfdCBwZ19hbGln
biwKKwkJCQkgIGJvb2wgaW50ZXJydXB0aWJsZSwKKwkJCQkgIHN0cnVjdCBkcm1fbW9kZV9jcmVh
dGVfZHVtYiAqYXJncyk7CisKIC8qCiAgKiBIZWxwZXJzIGZvciBzdHJ1Y3QgdHRtX2JvX2RyaXZl
cgogICovCi0tIAoyLjIxLjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNr
dG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2Ry
aS1kZXZlbA==
