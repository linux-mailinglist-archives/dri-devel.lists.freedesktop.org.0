Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A3A255530B
	for <lists+dri-devel@lfdr.de>; Tue, 25 Jun 2019 17:15:51 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 366366E145;
	Tue, 25 Jun 2019 15:15:49 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2B23E6E145
 for <dri-devel@lists.freedesktop.org>; Tue, 25 Jun 2019 15:15:48 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx07.intmail.prod.int.phx2.redhat.com
 [10.5.11.22])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id 7AF7775734;
 Tue, 25 Jun 2019 15:15:47 +0000 (UTC)
Received: from gondolin (dhcp-192-222.str.redhat.com [10.33.192.222])
 by smtp.corp.redhat.com (Postfix) with ESMTP id C9B91100033E;
 Tue, 25 Jun 2019 15:15:43 +0000 (UTC)
Date: Tue, 25 Jun 2019 17:15:41 +0200
From: Cornelia Huck <cohuck@redhat.com>
To: Gerd Hoffmann <kraxel@redhat.com>
Subject: Sleeping while atomic in virtio-gpu edid handling
Message-ID: <20190625171541.05528049.cohuck@redhat.com>
Organization: Red Hat GmbH
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.84 on 10.5.11.22
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.25]); Tue, 25 Jun 2019 15:15:47 +0000 (UTC)
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: virtio-dev@lists.oasis-open.org, dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgR2VyZCwKCmZsaXBwaW5nIHRoZSB2aXJ0aW8tZ3B1IGVkaWQgc3VwcG9ydCBpbiBRRU1VIHRv
IGRlZmF1bHQgZW5hYmxlZCBleHBvc2VkCnRoZSBmb2xsb3dpbmcgYmFja3RyYWNlIGluIG15IGd1
ZXN0IChmcm9tIG15IGJpc2VjdCBydW4gZG93biB0byB0aGUKaW5pdGlhbCBjb21taXQgaW4gTGlu
dXgpOgoKW2RybV0gdmlyZ2wgM2QgYWNjZWxlcmF0aW9uIG5vdCBzdXBwb3J0ZWQgYnkgZ3Vlc3QK
W2RybV0gRURJRCBzdXBwb3J0IGF2YWlsYWJsZS4KW2RybV0gbnVtYmVyIG9mIHNjYW5vdXRzOiAx
Cltkcm1dIG51bWJlciBvZiBjYXAgc2V0czogMApCVUc6IHNsZWVwaW5nIGZ1bmN0aW9uIGNhbGxl
ZCBmcm9tIGludmFsaWQgY29udGV4dCBhdCBtbS9zbGFiLmg6NDIxCmluX2F0b21pYygpOiAxLCBp
cnFzX2Rpc2FibGVkKCk6IDAsIHBpZDogNywgbmFtZToga3dvcmtlci8wOjEKMyBsb2NrcyBoZWxk
IGJ5IGt3b3JrZXIvMDoxLzc6CiAjMDogKF9fX19wdHJ2YWxfX19fKSAoKHdxX2NvbXBsZXRpb24p
ImV2ZW50cyIpeysuKy59LCBhdDogcHJvY2Vzc19vbmVfd29yaysweDFjOC8weDYxOAogIzE6IChf
X19fcHRydmFsX19fXykgKCh3b3JrX2NvbXBsZXRpb24pKCZ2Z3ZxLT5kZXF1ZXVlX3dvcmspKXsr
LisufSwgYXQ6IHByb2Nlc3Nfb25lX3dvcmsrMHgxYzgvMHg2MTgKICMyOiAoX19fX3B0cnZhbF9f
X18pICgmKCZ2Z2Rldi0+ZGlzcGxheV9pbmZvX2xvY2spLT5ybG9jayl7Ky4rLn0sIGF0OiB2aXJ0
aW9fZ3B1X2NtZF9nZXRfZWRpZF9jYisweDZlLzB4YzAKQ1BVOiAwIFBJRDogNyBDb21tOiBrd29y
a2VyLzA6MSBUYWludGVkOiBHICAgICAgICBXICAgICAgICAgNC4yMC4wLXJjMSsgIzE0MgpIYXJk
d2FyZSBuYW1lOiBRRU1VIDI5NjQgUUVNVSAoS1ZNL0xpbnV4KQpXb3JrcXVldWU6IGV2ZW50cyB2
aXJ0aW9fZ3B1X2RlcXVldWVfY3RybF9mdW5jCkNhbGwgVHJhY2U6CihbPDAwMDAwMDAwMDAxMTJh
MmM+XSBzaG93X3N0YWNrKzB4NTQvMHhkMCkKIFs8MDAwMDAwMDAwMGJhN2JkMD5dIGR1bXBfc3Rh
Y2srMHg5MC8weGM4IAogWzwwMDAwMDAwMDAwMWE4Y2Y4Pl0gX19fbWlnaHRfc2xlZXArMHgyNDAv
MHgyNTggCiBbPDAwMDAwMDAwMDAzNTYwZTY+XSBfX2ttYWxsb2Nfbm9kZSsweDJkZS8weDQ3OCAK
IFs8MDAwMDAwMDAwMDdlMGY2ND5dIGRybV9wcm9wZXJ0eV9jcmVhdGVfYmxvYi5wYXJ0LjArMHgz
Yy8weDEzOCAKIFs8MDAwMDAwMDAwMDdlMWJmZT5dIGRybV9wcm9wZXJ0eV9yZXBsYWNlX2dsb2Jh
bF9ibG9iKzB4YjYvMHgxMTggCiBbPDAwMDAwMDAwMDA3ZGVkYWM+XSBkcm1fY29ubmVjdG9yX3Vw
ZGF0ZV9lZGlkX3Byb3BlcnR5KzB4OGMvMHhiMCAKIFs8MDAwMDAwMDAwMDdmZWJlOD5dIHZpcnRp
b19ncHVfY21kX2dldF9lZGlkX2NiKzB4ODgvMHhjMCAKIFs8MDAwMDAwMDAwMDdmZjAzYT5dIHZp
cnRpb19ncHVfZGVxdWV1ZV9jdHJsX2Z1bmMrMHgxNDIvMHgyMDAgCiBbPDAwMDAwMDAwMDAxOGZk
YmM+XSBwcm9jZXNzX29uZV93b3JrKzB4Mjg0LzB4NjE4IAogWzwwMDAwMDAwMDAwMTkwMTlhPl0g
d29ya2VyX3RocmVhZCsweDRhLzB4M2YwIAogWzwwMDAwMDAwMDAwMTk3YzkyPl0ga3RocmVhZCsw
eDE1Mi8weDE3MCAKIFs8MDAwMDAwMDAwMGJjYWM3Nj5dIGtlcm5lbF90aHJlYWRfc3RhcnRlcisw
eDYvMHhjIAogWzwwMDAwMDAwMDAwYmNhYzcwPl0ga2VybmVsX3RocmVhZF9zdGFydGVyKzB4MC8w
eGMgCjMgbG9ja3MgaGVsZCBieSBrd29ya2VyLzA6MS83OgogIzA6IChfX19fcHRydmFsX19fXykg
KCh3cV9jb21wbGV0aW9uKSJldmVudHMiKXsrLisufSwgYXQ6IHByb2Nlc3Nfb25lX3dvcmsrMHgx
YzgvMHg2MTgKICMxOiAoX19fX3B0cnZhbF9fX18pICgod29ya19jb21wbGV0aW9uKSgmdmd2cS0+
ZGVxdWV1ZV93b3JrKSl7Ky4rLn0sIGF0OiBwcm9jZXNzX29uZV93b3JrKzB4MWM4LzB4NjE4CiAj
MjogKF9fX19wdHJ2YWxfX19fKSAoJigmdmdkZXYtPmRpc3BsYXlfaW5mb19sb2NrKS0+cmxvY2sp
eysuKy59LCBhdDogdmlydGlvX2dwdV9jbWRfZ2V0X2VkaWRfY2IrMHg2ZS8weGMwCnZpcnRpb19n
cHUgdmlydGlvNTogZmIxOiB2aXJ0aW9kcm1mYiBmcmFtZSBidWZmZXIgZGV2aWNlCltkcm1dIElu
aXRpYWxpemVkIHZpcnRpb19ncHUgMC4xLjAgMCBmb3IgdmlydGlvNSBvbiBtaW5vciAxCgpUaGlz
IGlzIGFuIHMzOTB4IGd1ZXN0LCBydW4gdmlhIHRjZzsgdGhlIHN0YWNrIHRyYWNlIGlzIHRyaWdn
ZXJlZCBib3RoCmZvciB2aXJ0aW8tZ3B1LWNjdyBhbmQgdmlydGlvLWdwdS1wY2kgZGV2aWNlcywg
c28gaXQncyBwcm9iYWJseQpzb21ldGhpbmcgZ2VuZXJpYy4gVGhlIGRldmljZSBzZWVtcyB0byBp
bml0aWFsaXplIGZpbmUsIGJ1dCBJIGhhdmUgbm90CnRyaWVkIHRvIGFjdHVhbGx5IHVzZSBpdCAo
SSBzaW1wbHkga2VlcCBhIHZpcnRpby1ncHUgZGV2aWNlIGluIG15IFFFTVUKY29tbWFuZCBsaW5l
IGZvciBzYW5pdHkgY2hlY2tpbmcuKQoKQXMgc2FpZCwgSSBiaXNlY3RlZCB0aGlzIGRvd24gdG8g
dGhlIGluaXRpYWwgY29tbWl0Cgpjb21taXQgYjRiMDFiNDk5NWZiMTViNTVhMmQwNjdlYjQwNTkx
N2Y1YWIzMjcwOSAocmVmcy9iaXNlY3QvYmFkKQpBdXRob3I6IEdlcmQgSG9mZm1hbm4gPGtyYXhl
bEByZWRoYXQuY29tPgpEYXRlOiAgIFR1ZSBPY3QgMzAgMDc6MzI6MDYgMjAxOCArMDEwMAoKICAg
IGRybS92aXJ0aW86IGFkZCBlZGlkIHN1cHBvcnQKICAgIAogICAgbGludXggZ3Vlc3QgZHJpdmVy
IGltcGxlbWVudGF0aW9uIG9mIHRoZSBWSVJUSU9fR1BVX0ZfRURJRCBmZWF0dXJlLgogICAgCiAg
ICBTaWduZWQtb2ZmLWJ5OiBHZXJkIEhvZmZtYW5uIDxrcmF4ZWxAcmVkaGF0LmNvbT4KICAgIEFj
a2VkLWJ5OiBEYW5pZWwgVmV0dGVyIDxkYW5pZWxAZmZ3bGwuY2g+CiAgICBMaW5rOiBodHRwOi8v
cGF0Y2h3b3JrLmZyZWVkZXNrdG9wLm9yZy9wYXRjaC9tc2dpZC8yMDE4MTAzMDA2MzIwNi4xOTUy
OC0zLWtyYXhlbEByZWRoYXQuY29tCgpzbyBpdCBzZWVtcyB0byBoYXZlIGFsd2F5cyBiZWVuIHBy
ZXNlbnQsIGJ1dCBJIGp1c3Qgbm90aWNlZCBpdCBub3cgdGhhdAp0aGUgZGVmYXVsdCBmb3IgZWRp
ZCBpbiBRRU1VIGhhcyBjaGFuZ2VkLgoKSSBoYXZlIG5vdCB0cmllZCBpdCB3aXRoIGEgbm9uLXMz
OTB4IGd1ZXN0LCB0aG91Z2guCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNr
dG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2Ry
aS1kZXZlbA==
