Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 8CD4947C5C
	for <lists+dri-devel@lfdr.de>; Mon, 17 Jun 2019 10:26:55 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C05338916C;
	Mon, 17 Jun 2019 08:26:52 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ot1-x349.google.com (mail-ot1-x349.google.com
 [IPv6:2607:f8b0:4864:20::349])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2ABC589169
 for <dri-devel@lists.freedesktop.org>; Mon, 17 Jun 2019 08:26:51 +0000 (UTC)
Received: by mail-ot1-x349.google.com with SMTP id a21so4575160otk.17
 for <dri-devel@lists.freedesktop.org>; Mon, 17 Jun 2019 01:26:51 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:date:in-reply-to:message-id:mime-version
 :references:subject:from:to:cc;
 bh=gZ+9xC5KPPhv369oCZ1vxt4+jN+Anpbdk6WP0wSiLWo=;
 b=JsX9Ov86y2pFX+YdYLfpZzJbom1b07TwD/U1VdKvujgBi8t7xpuaDkBkULIhSEqvrm
 MCAE1CM4qu0OZ7my56G8XUo6IKNIF0mHVowMqm8UrHVTGzqufIaU5T0SJq2MOa5RMxpn
 oO4eSZQTQVOIq04K5XwNpomqWRT2h+xXXZqKf9Ga3fi6FHOPCAQgGLrA+ZK2TvgT4UM3
 UXPF4DZggXJUPXiOW9OzPuHEZuM1r8DjgF0iq2xvNIydZNn3ozHzhRPohYY56181m8jg
 7plparWpGiVgIFndwSZg+b8I+Mu+RGROfuoBUkB/SVm3YpcbWRwopNerhM/5RblzUxD6
 ESpA==
X-Gm-Message-State: APjAAAW092DeMIKg9LcW3wPxxC6p37LAW0/1nPCFi+dm5ojIQJDEfGVd
 slwJU4gQDcwI6p3lFDkmlZVhyll9AC9MT0UpW22f7A==
X-Google-Smtp-Source: APXvYqyMn6qZKBhsMqKJ2JMa3ygLrdqQlx2RNuES7sUG5Tsk066321j5G+NbiQ1zQmpd+d8jWGh9EF5uXNDvbrZIeQgXNg==
X-Received: by 2002:a9d:2ac4:: with SMTP id e62mr53413718otb.173.1560760010079; 
 Mon, 17 Jun 2019 01:26:50 -0700 (PDT)
Date: Mon, 17 Jun 2019 01:25:58 -0700
In-Reply-To: <20190617082613.109131-1-brendanhiggins@google.com>
Message-Id: <20190617082613.109131-4-brendanhiggins@google.com>
Mime-Version: 1.0
References: <20190617082613.109131-1-brendanhiggins@google.com>
X-Mailer: git-send-email 2.22.0.410.gd8fdbe21b5-goog
Subject: [PATCH v5 03/18] kunit: test: add string_stream a std::stream like
 string builder
From: Brendan Higgins <brendanhiggins@google.com>
To: frowand.list@gmail.com, gregkh@linuxfoundation.org, jpoimboe@redhat.com, 
 keescook@google.com, kieran.bingham@ideasonboard.com, mcgrof@kernel.org, 
 peterz@infradead.org, robh@kernel.org, sboyd@kernel.org, shuah@kernel.org, 
 tytso@mit.edu, yamada.masahiro@socionext.com
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=google.com; s=20161025;
 h=date:in-reply-to:message-id:mime-version:references:subject:from:to
 :cc;
 bh=gZ+9xC5KPPhv369oCZ1vxt4+jN+Anpbdk6WP0wSiLWo=;
 b=epdmDpOr2t1eNHyC3/MYITA8hScEY7QYuY4ZFPlm5uuZWlGMPtMox1mtfCn2AwFhDe
 GIY/3wif/tyaEbw0lsVTxUTEWyGOM+6nmz8t2m8Stni7C+TyAZQ0Qs9wP41O8r6M+WEk
 s1OhP7f49nBF8IqYZYqW6PqKKvUMsgGMZ123JlVT0LKucnHEjwsfAeysqZBzi5JpxLlP
 iz9nl07MsqJwVU1SzO1vlJCPGrhRk05NoSiTDrJsoD7hYZgORuurCiMzBFmpa4oykzDN
 vjNpUcsjfy9horEsseCfcB3B9rpxaBXdmoul1zJNAVEfIItMB1oJGnYjI5jC9XJckKPQ
 JzoQ==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: pmladek@suse.com, linux-doc@vger.kernel.org, amir73il@gmail.com,
 Brendan Higgins <brendanhiggins@google.com>, dri-devel@lists.freedesktop.org,
 Alexander.Levin@microsoft.com, linux-kselftest@vger.kernel.org,
 linux-nvdimm@lists.01.org, khilman@baylibre.com, knut.omang@oracle.com,
 wfg@linux.intel.com, joel@jms.id.au, rientjes@google.com, jdike@addtoit.com,
 dan.carpenter@oracle.com, devicetree@vger.kernel.org,
 linux-kbuild@vger.kernel.org, Tim.Bird@sony.com, linux-um@lists.infradead.org,
 rostedt@goodmis.org, julia.lawall@lip6.fr, kunit-dev@googlegroups.com,
 richard@nod.at, rdunlap@infradead.org, linux-kernel@vger.kernel.org,
 mpe@ellerman.id.au, linux-fsdevel@vger.kernel.org, logang@deltatee.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QSBudW1iZXIgb2YgdGVzdCBmZWF0dXJlcyBuZWVkIHRvIGRvIHByZXR0eSBjb21wbGljYXRlZCBz
dHJpbmcgcHJpbnRpbmcKd2hlcmUgaXQgbWF5IG5vdCBiZSBwb3NzaWJsZSB0byByZWx5IG9uIGEg
c2luZ2xlIHByZWFsbG9jYXRlZCBzdHJpbmcKd2l0aCBwYXJhbWV0ZXJzLgoKU28gcHJvdmlkZSBh
IGxpYnJhcnkgZm9yIGNvbnN0cnVjdGluZyB0aGUgc3RyaW5nIGFzIHlvdSBnbyBzaW1pbGFyIHRv
CkMrKydzIHN0ZDo6c3RyaW5nLgoKU2lnbmVkLW9mZi1ieTogQnJlbmRhbiBIaWdnaW5zIDxicmVu
ZGFuaGlnZ2luc0Bnb29nbGUuY29tPgpSZXZpZXdlZC1ieTogR3JlZyBLcm9haC1IYXJ0bWFuIDxn
cmVna2hAbGludXhmb3VuZGF0aW9uLm9yZz4KUmV2aWV3ZWQtYnk6IExvZ2FuIEd1bnRob3JwZSA8
bG9nYW5nQGRlbHRhdGVlLmNvbT4KLS0tCkNoYW5nZXMgU2luY2UgTGFzdCBSZXZpc2lvbjoKIC0g
UmVuYW1lZCBuZXdfc3RyaW5nX3N0cmVhbSgpIHRvIGFsbG9jX3N0cmluZ19zdHJlYW0oKSBhcyBz
dWdnZXN0ZWQgYnkKICAgU3RlcGhlbiBCb3lkLgogLSBNYWRlIHN0cmluZy1zdHJlYW0gYSBLVW5p
dCBtYW5hZ2VkIG9iamVjdCAtIGJhc2VkIG9uIGEgc3VnZ2VzdGlvbgogICBtYWRlIGJ5IFN0ZXBo
ZW4gQm95ZC4KIC0gTWFkZSBhIG51bWJlciBvZiBvdGhlciBzbWFsbCBjaGFuZ2VzIGxpa2UgcmVu
YW1pbmcgcGFyYW1ldGVycyBhcwogICBzdWdnZXN0ZWQgYnkgU3RlcGhlbiBCb3lkLgotLS0KIGlu
Y2x1ZGUva3VuaXQvc3RyaW5nLXN0cmVhbS5oIHwgIDQ5ICsrKysrKysrKysrKwoga3VuaXQvTWFr
ZWZpbGUgICAgICAgICAgICAgICAgfCAgIDMgKy0KIGt1bml0L3N0cmluZy1zdHJlYW0uYyAgICAg
ICAgIHwgMTQ3ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysKIDMgZmlsZXMgY2hh
bmdlZCwgMTk4IGluc2VydGlvbnMoKyksIDEgZGVsZXRpb24oLSkKIGNyZWF0ZSBtb2RlIDEwMDY0
NCBpbmNsdWRlL2t1bml0L3N0cmluZy1zdHJlYW0uaAogY3JlYXRlIG1vZGUgMTAwNjQ0IGt1bml0
L3N0cmluZy1zdHJlYW0uYwoKZGlmZiAtLWdpdCBhL2luY2x1ZGUva3VuaXQvc3RyaW5nLXN0cmVh
bS5oIGIvaW5jbHVkZS9rdW5pdC9zdHJpbmctc3RyZWFtLmgKbmV3IGZpbGUgbW9kZSAxMDA2NDQK
aW5kZXggMDAwMDAwMDAwMDAwMC4uMDU1MmEwNTc4MWFmZQotLS0gL2Rldi9udWxsCisrKyBiL2lu
Y2x1ZGUva3VuaXQvc3RyaW5nLXN0cmVhbS5oCkBAIC0wLDAgKzEsNDkgQEAKKy8qIFNQRFgtTGlj
ZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wICovCisvKgorICogQysrIHN0cmVhbSBzdHlsZSBzdHJp
bmcgYnVpbGRlciB1c2VkIGluIEtVbml0IGZvciBidWlsZGluZyBtZXNzYWdlcy4KKyAqCisgKiBD
b3B5cmlnaHQgKEMpIDIwMTksIEdvb2dsZSBMTEMuCisgKiBBdXRob3I6IEJyZW5kYW4gSGlnZ2lu
cyA8YnJlbmRhbmhpZ2dpbnNAZ29vZ2xlLmNvbT4KKyAqLworCisjaWZuZGVmIF9LVU5JVF9TVFJJ
TkdfU1RSRUFNX0gKKyNkZWZpbmUgX0tVTklUX1NUUklOR19TVFJFQU1fSAorCisjaW5jbHVkZSA8
bGludXgvdHlwZXMuaD4KKyNpbmNsdWRlIDxsaW51eC9zcGlubG9jay5oPgorI2luY2x1ZGUgPGxp
bnV4L2tyZWYuaD4KKyNpbmNsdWRlIDxzdGRhcmcuaD4KKworc3RydWN0IHN0cmluZ19zdHJlYW1f
ZnJhZ21lbnQgeworCXN0cnVjdCBsaXN0X2hlYWQgbm9kZTsKKwljaGFyICpmcmFnbWVudDsKK307
CisKK3N0cnVjdCBzdHJpbmdfc3RyZWFtIHsKKwlzaXplX3QgbGVuZ3RoOworCXN0cnVjdCBsaXN0
X2hlYWQgZnJhZ21lbnRzOworCS8qIGxlbmd0aCBhbmQgZnJhZ21lbnRzIGFyZSBwcm90ZWN0ZWQg
YnkgdGhpcyBsb2NrICovCisJc3BpbmxvY2tfdCBsb2NrOworfTsKKworc3RydWN0IGt1bml0Owor
CitzdHJ1Y3Qgc3RyaW5nX3N0cmVhbSAqYWxsb2Nfc3RyaW5nX3N0cmVhbShzdHJ1Y3Qga3VuaXQg
KnRlc3QpOworCit2b2lkIHN0cmluZ19zdHJlYW1fZ2V0KHN0cnVjdCBzdHJpbmdfc3RyZWFtICpz
dHJlYW0pOworCitpbnQgc3RyaW5nX3N0cmVhbV9wdXQoc3RydWN0IHN0cmluZ19zdHJlYW0gKnN0
cmVhbSk7CisKK2ludCBzdHJpbmdfc3RyZWFtX2FkZChzdHJ1Y3Qgc3RyaW5nX3N0cmVhbSAqc3Ry
ZWFtLCBjb25zdCBjaGFyICpmbXQsIC4uLik7CisKK2ludCBzdHJpbmdfc3RyZWFtX3ZhZGQoc3Ry
dWN0IHN0cmluZ19zdHJlYW0gKnN0cmVhbSwKKwkJICAgICAgIGNvbnN0IGNoYXIgKmZtdCwKKwkJ
ICAgICAgIHZhX2xpc3QgYXJncyk7CisKK2NoYXIgKnN0cmluZ19zdHJlYW1fZ2V0X3N0cmluZyhz
dHJ1Y3Qgc3RyaW5nX3N0cmVhbSAqc3RyZWFtKTsKKwordm9pZCBzdHJpbmdfc3RyZWFtX2NsZWFy
KHN0cnVjdCBzdHJpbmdfc3RyZWFtICpzdHJlYW0pOworCitib29sIHN0cmluZ19zdHJlYW1faXNf
ZW1wdHkoc3RydWN0IHN0cmluZ19zdHJlYW0gKnN0cmVhbSk7CisKKyNlbmRpZiAvKiBfS1VOSVRf
U1RSSU5HX1NUUkVBTV9IICovCmRpZmYgLS1naXQgYS9rdW5pdC9NYWtlZmlsZSBiL2t1bml0L01h
a2VmaWxlCmluZGV4IDVlZmRjNGRlYTJjMDguLjI3NWI1NjVhMGU4MWYgMTAwNjQ0Ci0tLSBhL2t1
bml0L01ha2VmaWxlCisrKyBiL2t1bml0L01ha2VmaWxlCkBAIC0xICsxLDIgQEAKLW9iai0kKENP
TkZJR19LVU5JVCkgKz0JCQl0ZXN0Lm8KK29iai0kKENPTkZJR19LVU5JVCkgKz0JCQl0ZXN0Lm8g
XAorCQkJCQlzdHJpbmctc3RyZWFtLm8KZGlmZiAtLWdpdCBhL2t1bml0L3N0cmluZy1zdHJlYW0u
YyBiL2t1bml0L3N0cmluZy1zdHJlYW0uYwpuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAw
MDAwMDAwMDAwLi4wNDYzYTkyZGFkNzRiCi0tLSAvZGV2L251bGwKKysrIGIva3VuaXQvc3RyaW5n
LXN0cmVhbS5jCkBAIC0wLDAgKzEsMTQ3IEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjog
R1BMLTIuMAorLyoKKyAqIEMrKyBzdHJlYW0gc3R5bGUgc3RyaW5nIGJ1aWxkZXIgdXNlZCBpbiBL
VW5pdCBmb3IgYnVpbGRpbmcgbWVzc2FnZXMuCisgKgorICogQ29weXJpZ2h0IChDKSAyMDE5LCBH
b29nbGUgTExDLgorICogQXV0aG9yOiBCcmVuZGFuIEhpZ2dpbnMgPGJyZW5kYW5oaWdnaW5zQGdv
b2dsZS5jb20+CisgKi8KKworI2luY2x1ZGUgPGxpbnV4L2xpc3QuaD4KKyNpbmNsdWRlIDxsaW51
eC9zbGFiLmg+CisjaW5jbHVkZSA8a3VuaXQvc3RyaW5nLXN0cmVhbS5oPgorI2luY2x1ZGUgPGt1
bml0L3Rlc3QuaD4KKworaW50IHN0cmluZ19zdHJlYW1fdmFkZChzdHJ1Y3Qgc3RyaW5nX3N0cmVh
bSAqc3RyZWFtLAorCQkgICAgICAgY29uc3QgY2hhciAqZm10LAorCQkgICAgICAgdmFfbGlzdCBh
cmdzKQoreworCXN0cnVjdCBzdHJpbmdfc3RyZWFtX2ZyYWdtZW50ICpmcmFnX2NvbnRhaW5lcjsK
KwlpbnQgbGVuOworCXZhX2xpc3QgYXJnc19mb3JfY291bnRpbmc7CisJdW5zaWduZWQgbG9uZyBm
bGFnczsKKworCS8qIE1ha2UgYSBjb3B5IGJlY2F1c2UgYHZzbnByaW50ZmAgY291bGQgY2hhbmdl
IGl0ICovCisJdmFfY29weShhcmdzX2Zvcl9jb3VudGluZywgYXJncyk7CisKKwkvKiBOZWVkIHNw
YWNlIGZvciBudWxsIGJ5dGUuICovCisJbGVuID0gdnNucHJpbnRmKE5VTEwsIDAsIGZtdCwgYXJn
c19mb3JfY291bnRpbmcpICsgMTsKKworCXZhX2VuZChhcmdzX2Zvcl9jb3VudGluZyk7CisKKwlm
cmFnX2NvbnRhaW5lciA9IGttYWxsb2Moc2l6ZW9mKCpmcmFnX2NvbnRhaW5lciksIEdGUF9LRVJO
RUwpOworCWlmICghZnJhZ19jb250YWluZXIpCisJCXJldHVybiAtRU5PTUVNOworCisJZnJhZ19j
b250YWluZXItPmZyYWdtZW50ID0ga21hbGxvYyhsZW4sIEdGUF9LRVJORUwpOworCWlmICghZnJh
Z19jb250YWluZXItPmZyYWdtZW50KSB7CisJCWtmcmVlKGZyYWdfY29udGFpbmVyKTsKKwkJcmV0
dXJuIC1FTk9NRU07CisJfQorCisJbGVuID0gdnNucHJpbnRmKGZyYWdfY29udGFpbmVyLT5mcmFn
bWVudCwgbGVuLCBmbXQsIGFyZ3MpOworCXNwaW5fbG9ja19pcnFzYXZlKCZzdHJlYW0tPmxvY2ss
IGZsYWdzKTsKKwlzdHJlYW0tPmxlbmd0aCArPSBsZW47CisJbGlzdF9hZGRfdGFpbCgmZnJhZ19j
b250YWluZXItPm5vZGUsICZzdHJlYW0tPmZyYWdtZW50cyk7CisJc3Bpbl91bmxvY2tfaXJxcmVz
dG9yZSgmc3RyZWFtLT5sb2NrLCBmbGFncyk7CisKKwlyZXR1cm4gMDsKK30KKworaW50IHN0cmlu
Z19zdHJlYW1fYWRkKHN0cnVjdCBzdHJpbmdfc3RyZWFtICpzdHJlYW0sIGNvbnN0IGNoYXIgKmZt
dCwgLi4uKQoreworCXZhX2xpc3QgYXJnczsKKwlpbnQgcmVzdWx0OworCisJdmFfc3RhcnQoYXJn
cywgZm10KTsKKwlyZXN1bHQgPSBzdHJpbmdfc3RyZWFtX3ZhZGQoc3RyZWFtLCBmbXQsIGFyZ3Mp
OworCXZhX2VuZChhcmdzKTsKKworCXJldHVybiByZXN1bHQ7Cit9CisKK3ZvaWQgc3RyaW5nX3N0
cmVhbV9jbGVhcihzdHJ1Y3Qgc3RyaW5nX3N0cmVhbSAqc3RyZWFtKQoreworCXN0cnVjdCBzdHJp
bmdfc3RyZWFtX2ZyYWdtZW50ICpmcmFnX2NvbnRhaW5lciwgKmZyYWdfY29udGFpbmVyX3NhZmU7
CisJdW5zaWduZWQgbG9uZyBmbGFnczsKKworCXNwaW5fbG9ja19pcnFzYXZlKCZzdHJlYW0tPmxv
Y2ssIGZsYWdzKTsKKwlsaXN0X2Zvcl9lYWNoX2VudHJ5X3NhZmUoZnJhZ19jb250YWluZXIsCisJ
CQkJIGZyYWdfY29udGFpbmVyX3NhZmUsCisJCQkJICZzdHJlYW0tPmZyYWdtZW50cywKKwkJCQkg
bm9kZSkgeworCQlsaXN0X2RlbCgmZnJhZ19jb250YWluZXItPm5vZGUpOworCQlrZnJlZShmcmFn
X2NvbnRhaW5lci0+ZnJhZ21lbnQpOworCQlrZnJlZShmcmFnX2NvbnRhaW5lcik7CisJfQorCXN0
cmVhbS0+bGVuZ3RoID0gMDsKKwlzcGluX3VubG9ja19pcnFyZXN0b3JlKCZzdHJlYW0tPmxvY2ss
IGZsYWdzKTsKK30KKworY2hhciAqc3RyaW5nX3N0cmVhbV9nZXRfc3RyaW5nKHN0cnVjdCBzdHJp
bmdfc3RyZWFtICpzdHJlYW0pCit7CisJc3RydWN0IHN0cmluZ19zdHJlYW1fZnJhZ21lbnQgKmZy
YWdfY29udGFpbmVyOworCXNpemVfdCBidWZfbGVuID0gc3RyZWFtLT5sZW5ndGggKyAxOyAvKiAr
MSBmb3IgbnVsbCBieXRlLiAqLworCWNoYXIgKmJ1ZjsKKwl1bnNpZ25lZCBsb25nIGZsYWdzOwor
CisJYnVmID0ga3phbGxvYyhidWZfbGVuLCBHRlBfS0VSTkVMKTsKKwlpZiAoIWJ1ZikKKwkJcmV0
dXJuIE5VTEw7CisKKwlzcGluX2xvY2tfaXJxc2F2ZSgmc3RyZWFtLT5sb2NrLCBmbGFncyk7CisJ
bGlzdF9mb3JfZWFjaF9lbnRyeShmcmFnX2NvbnRhaW5lciwgJnN0cmVhbS0+ZnJhZ21lbnRzLCBu
b2RlKQorCQlzdHJsY2F0KGJ1ZiwgZnJhZ19jb250YWluZXItPmZyYWdtZW50LCBidWZfbGVuKTsK
KwlzcGluX3VubG9ja19pcnFyZXN0b3JlKCZzdHJlYW0tPmxvY2ssIGZsYWdzKTsKKworCXJldHVy
biBidWY7Cit9CisKK2Jvb2wgc3RyaW5nX3N0cmVhbV9pc19lbXB0eShzdHJ1Y3Qgc3RyaW5nX3N0
cmVhbSAqc3RyZWFtKQoreworCWJvb2wgaXNfZW1wdHk7CisJdW5zaWduZWQgbG9uZyBmbGFnczsK
KworCXNwaW5fbG9ja19pcnFzYXZlKCZzdHJlYW0tPmxvY2ssIGZsYWdzKTsKKwlpc19lbXB0eSA9
IGxpc3RfZW1wdHkoJnN0cmVhbS0+ZnJhZ21lbnRzKTsKKwlzcGluX3VubG9ja19pcnFyZXN0b3Jl
KCZzdHJlYW0tPmxvY2ssIGZsYWdzKTsKKworCXJldHVybiBpc19lbXB0eTsKK30KKworc3RhdGlj
IGludCBzdHJpbmdfc3RyZWFtX2luaXQoc3RydWN0IGt1bml0X3Jlc291cmNlICpyZXMsIHZvaWQg
KmNvbnRleHQpCit7CisJc3RydWN0IHN0cmluZ19zdHJlYW0gKnN0cmVhbTsKKworCXN0cmVhbSA9
IGt6YWxsb2Moc2l6ZW9mKCpzdHJlYW0pLCBHRlBfS0VSTkVMKTsKKwlpZiAoIXN0cmVhbSkKKwkJ
cmV0dXJuIC1FTk9NRU07CisKKwlyZXMtPmFsbG9jYXRpb24gPSBzdHJlYW07CisJSU5JVF9MSVNU
X0hFQUQoJnN0cmVhbS0+ZnJhZ21lbnRzKTsKKwlzcGluX2xvY2tfaW5pdCgmc3RyZWFtLT5sb2Nr
KTsKKworCXJldHVybiAwOworfQorCitzdGF0aWMgdm9pZCBzdHJpbmdfc3RyZWFtX2ZyZWUoc3Ry
dWN0IGt1bml0X3Jlc291cmNlICpyZXMpCit7CisJc3RydWN0IHN0cmluZ19zdHJlYW0gKnN0cmVh
bSA9IHJlcy0+YWxsb2NhdGlvbjsKKworCXN0cmluZ19zdHJlYW1fY2xlYXIoc3RyZWFtKTsKKwlr
ZnJlZShzdHJlYW0pOworfQorCitzdHJ1Y3Qgc3RyaW5nX3N0cmVhbSAqYWxsb2Nfc3RyaW5nX3N0
cmVhbShzdHJ1Y3Qga3VuaXQgKnRlc3QpCit7CisJc3RydWN0IGt1bml0X3Jlc291cmNlICpyZXM7
CisKKwlyZXMgPSBrdW5pdF9hbGxvY19yZXNvdXJjZSh0ZXN0LAorCQkJCSAgIHN0cmluZ19zdHJl
YW1faW5pdCwKKwkJCQkgICBzdHJpbmdfc3RyZWFtX2ZyZWUsCisJCQkJICAgTlVMTCk7CisKKwlp
ZiAoIXJlcykKKwkJcmV0dXJuIE5VTEw7CisKKwlyZXR1cm4gcmVzLT5hbGxvY2F0aW9uOworfQot
LSAKMi4yMi4wLjQxMC5nZDhmZGJlMjFiNS1nb29nCgpfX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBs
aXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1h
bi9saXN0aW5mby9kcmktZGV2ZWw=
