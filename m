Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id EA9B9EC95B
	for <lists+dri-devel@lfdr.de>; Fri,  1 Nov 2019 21:07:06 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id EAEF06F85C;
	Fri,  1 Nov 2019 20:07:04 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-io1-xd44.google.com (mail-io1-xd44.google.com
 [IPv6:2607:f8b0:4864:20::d44])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 85F3C6F85C
 for <dri-devel@lists.freedesktop.org>; Fri,  1 Nov 2019 20:07:04 +0000 (UTC)
Received: by mail-io1-xd44.google.com with SMTP id k1so354699ioj.6
 for <dri-devel@lists.freedesktop.org>; Fri, 01 Nov 2019 13:07:04 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=+9XbHQUSxDq9B2fBuL9mDt+Zz+PE63ygUr4teBcOseY=;
 b=Im8aNQ8LpglHMyGTtdcPmzqjGz/w42PRCaOpP4jiyQnusSIgpxlg/mGY2T5s6YhkFZ
 RSlo3nk4ElynEdQ6oGaWswM4lt3ivAl0xb/VkMpNgGExjbO8PNQJvKbKWssYHZSicsJS
 AraOdBoAATlNNxuaYCKwXGnqLDfJZ0Ewh/RiBLKMLBoyscTh+UWepf7D8B/rLHKFrlZm
 C2E90kkdYbDaxtktFAN/9fQU5rV40tWzpDTZepVhy48ruAGmoS5dGMPqnj+JTozbV3o8
 H2I4MvgheQucB2BtuMqFEnfZVHCi3C4io9MA3yhZ7mwroSQYvylz4Fp4Xq231xOT9VjV
 FkSA==
X-Gm-Message-State: APjAAAVjRfN8MZ8ma0MrROyMb7K3xkvb5Ddthu6MWmxcqITF/SMxKUsO
 7M4VHw4eLr2kGJpi1v9hmFCgXkj/xI7NmOjg82wG4Q==
X-Google-Smtp-Source: APXvYqy5n1vXsytW26bqTvpzaABeBZZwvUCZ1vuhjQ9ddqyBcvJTAEptTluBPDHwD+Uc3eNC9nM15zbChm4srlB/2JY=
X-Received: by 2002:a6b:b4ca:: with SMTP id d193mr12235813iof.71.1572638823824; 
 Fri, 01 Nov 2019 13:07:03 -0700 (PDT)
MIME-Version: 1.0
References: <20191101180713.5470-1-robdclark@gmail.com>
In-Reply-To: <20191101180713.5470-1-robdclark@gmail.com>
From: Sean Paul <sean@poorly.run>
Date: Fri, 1 Nov 2019 16:06:28 -0400
Message-ID: <CAMavQKKMjge6MwH=-DS5Ngs8ZE5G_x_Vncy+YoqYrC0s0AfX=Q@mail.gmail.com>
Subject: Re: [PATCH 1/2] drm/atomic: fix self-refresh helpers crtc state
 dereference
To: Rob Clark <robdclark@gmail.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=poorly.run; s=google;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=+9XbHQUSxDq9B2fBuL9mDt+Zz+PE63ygUr4teBcOseY=;
 b=Hg7SwH8Os7Mt6Hy5Uhc0YprZslXlv3Ffm9C6jPfxEHM2Ognx2JG+/k69EhxhCjVV3p
 DxA17xvbkTRBGClk7UCA62LE3l+9O0GmKVqNgjbnZ0voqByFL6KL18CU5cJQcffecmmr
 +HCyerf1ruUnvbA7D3QD7oWcMPjRjH1rRHqPSMJG+ILWH5FEB5hEYc0q3GTmlLUWBImn
 uuAUzGzdJQR6IhBrEBH9glsmaWhJ5Z/DcWnxLb9elJ5Xzn4hqi69EsJg8JMRcb9YE/fI
 57T3s4sr3T+f+OeTmHIIpHNZ80jQm3BdYtkRZglRhmwKZSM52CvnDcCYeB+oDDu3CtV3
 /wbg==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Rob Clark <robdclark@chromium.org>, David Airlie <airlied@linux.ie>,
 open list <linux-kernel@vger.kernel.org>, Sean Paul <seanpaul@chromium.org>,
 dri-devel <dri-devel@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gRnJpLCBOb3YgMSwgMjAxOSBhdCAyOjA5IFBNIFJvYiBDbGFyayA8cm9iZGNsYXJrQGdtYWls
LmNvbT4gd3JvdGU6Cj4KPiBGcm9tOiBSb2IgQ2xhcmsgPHJvYmRjbGFya0BjaHJvbWl1bS5vcmc+
Cj4KPiBkcm1fc2VsZl9yZWZyZXNoX2hlbHBlcl91cGRhdGVfYXZnX3RpbWVzKCkgd2FzIGluY29y
cmVjdGx5IGFjY2Vzc2luZyB0aGUKPiBuZXcgaW5jb21pbmcgc3RhdGUgYWZ0ZXIgZHJtX2F0b21p
Y19oZWxwZXJfY29tbWl0X2h3X2RvbmUoKS4gIEJ1dCB0aGlzCj4gc3RhdGUgbWlnaHQgaGF2ZSBh
bHJlYWR5IGJlZW4gc3VwZXJjZWVkZWQgYnkgYW4gIW5vbmJsb2NrIGF0b21pYyB1cGRhdGUKPiBy
ZXN1bHRpbmcgaW4gZGVyZWZlcmVuY2luZyBhbiBhbHJlYWR5IGZyZWUnZCBjcnRjX3N0YXRlLgo+
Cj4gRml4ZXM6IGQ0ZGE0ZTMzMzQxYyAoImRybTogTWVhc3VyZSBTZWxmIFJlZnJlc2ggRW50cnkv
RXhpdCB0aW1lcyB0byBhdm9pZCB0aHJhc2hpbmciKQo+IENjOiBTZWFuIFBhdWwgPHNlYW5wYXVs
QGNocm9taXVtLm9yZz4KPiBTaWduZWQtb2ZmLWJ5OiBSb2IgQ2xhcmsgPHJvYmRjbGFya0BjaHJv
bWl1bS5vcmc+Cj4gLS0tCj4gVE9ETyBJICp0aGluayogdGhpcyB3aWxsIG1vcmUgb3IgbGVzcyBk
byB0aGUgcmlnaHQgdGhpbmcuLiBhbHRob3VnaHQgSSdtCj4gbm90IDEwMCUgc3VyZSBpZiwgZm9y
IGV4YW1wbGUsIHdlIGVudGVyIHBzciBpbiBhIG5vbmJsb2NrIGNvbW1pdCwgYW5kCj4gdGhlbiBs
ZWF2ZSBwc3IgaW4gYSAhbm9uYmxvY2sgY29tbWl0IHRoYXQgb3ZlcnRha2VzIHRoZSBjb21wbGV0
aW9uIG9mCj4gdGhlIG5vbmJsb2NrIGNvbW1pdC4gIE5vdCBzdXJlIGlmIHRoaXMgc29ydCBvZiBz
Y2VuYXJpbyBjYW4gaGFwcGVuIGluCj4gcHJhY3RpY2UuICBCdXQgbm90IGNyYXNoaW5nIGlzIGJl
dHRlciB0aGFuIGNyYXNoaW5nLCBzbyBJIGd1ZXNzIHdlCj4gc2hvdWxkIGVpdGhlciB0YWtlIHRo
aXMgcGF0Y2ggb3IgcmV2ZXIgdGhlIHNlbGYtcmVmcmVzaCBoZWxwZXJzIHVudGlsCj4gU2VhbiBj
YW4gZmlndXJlIG91dCBhIGJldHRlciBzb2x1dGlvbi4KPgo+ICBkcml2ZXJzL2dwdS9kcm0vZHJt
X2F0b21pY19oZWxwZXIuYyAgICAgICB8ICAyICsrCj4gIGRyaXZlcnMvZ3B1L2RybS9kcm1fc2Vs
Zl9yZWZyZXNoX2hlbHBlci5jIHwgMTEgKysrKysrLS0tLS0KPiAgaW5jbHVkZS9kcm0vZHJtX2F0
b21pYy5oICAgICAgICAgICAgICAgICAgfCAgOCArKysrKysrKwo+ICAzIGZpbGVzIGNoYW5nZWQs
IDE2IGluc2VydGlvbnMoKyksIDUgZGVsZXRpb25zKC0pCj4KPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2RybV9hdG9taWNfaGVscGVyLmMgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2F0b21p
Y19oZWxwZXIuYwo+IGluZGV4IDNlZjJhYzUyY2U5NC4uNzMyYmQwY2U5MjQxIDEwMDY0NAo+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fYXRvbWljX2hlbHBlci5jCj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL2RybV9hdG9taWNfaGVscGVyLmMKPiBAQCAtMjI0MCw2ICsyMjQwLDggQEAgdm9pZCBk
cm1fYXRvbWljX2hlbHBlcl9jb21taXRfaHdfZG9uZShzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAq
b2xkX3N0YXRlKQo+ICAgICAgICAgaW50IGk7Cj4KPiAgICAgICAgIGZvcl9lYWNoX29sZG5ld19j
cnRjX2luX3N0YXRlKG9sZF9zdGF0ZSwgY3J0Yywgb2xkX2NydGNfc3RhdGUsIG5ld19jcnRjX3N0
YXRlLCBpKSB7Cj4gKyAgICAgICAgICAgICAgIG9sZF9zdGF0ZS0+Y3J0Y3NbaV0ubmV3X3NlbGZf
cmVmcmVzaF9hY3RpdmUgPSBuZXdfY3J0Y19zdGF0ZS0+c2VsZl9yZWZyZXNoX2FjdGl2ZTsKPiAr
Cj4gICAgICAgICAgICAgICAgIGNvbW1pdCA9IG5ld19jcnRjX3N0YXRlLT5jb21taXQ7Cj4gICAg
ICAgICAgICAgICAgIGlmICghY29tbWl0KQo+ICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRp
bnVlOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vZHJtX3NlbGZfcmVmcmVzaF9oZWxw
ZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fc2VsZl9yZWZyZXNoX2hlbHBlci5jCj4gaW5kZXgg
NjhmNDc2NWE1ODk2Li43N2I5MDc5ZmE1NzggMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2RybV9zZWxmX3JlZnJlc2hfaGVscGVyLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX3Nl
bGZfcmVmcmVzaF9oZWxwZXIuYwo+IEBAIC0xNDMsMTkgKzE0MywyMCBAQCB2b2lkIGRybV9zZWxm
X3JlZnJlc2hfaGVscGVyX3VwZGF0ZV9hdmdfdGltZXMoc3RydWN0IGRybV9hdG9taWNfc3RhdGUg
KnN0YXRlLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1
bnNpZ25lZCBpbnQgY29tbWl0X3RpbWVfbXMpCj4gIHsKPiAgICAgICAgIHN0cnVjdCBkcm1fY3J0
YyAqY3J0YzsKPiAtICAgICAgIHN0cnVjdCBkcm1fY3J0Y19zdGF0ZSAqb2xkX2NydGNfc3RhdGUs
ICpuZXdfY3J0Y19zdGF0ZTsKPiArICAgICAgIHN0cnVjdCBkcm1fY3J0Y19zdGF0ZSAqb2xkX2Ny
dGNfc3RhdGU7Cj4gICAgICAgICBpbnQgaTsKPgo+IC0gICAgICAgZm9yX2VhY2hfb2xkbmV3X2Ny
dGNfaW5fc3RhdGUoc3RhdGUsIGNydGMsIG9sZF9jcnRjX3N0YXRlLAo+IC0gICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgbmV3X2NydGNfc3RhdGUsIGkpIHsKPiArICAgICAgIGZv
cl9lYWNoX29sZF9jcnRjX2luX3N0YXRlKHN0YXRlLCBjcnRjLCBvbGRfY3J0Y19zdGF0ZSwgaSkg
ewo+ICsgICAgICAgICAgICAgICBib29sIG5ld19zZWxmX3JlZnJlc2hfYWN0aXZlID0KPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLT5jcnRjc1tpXS5uZXdfc2VsZl9yZWZy
ZXNoX2FjdGl2ZTsKPiAgICAgICAgICAgICAgICAgc3RydWN0IGRybV9zZWxmX3JlZnJlc2hfZGF0
YSAqc3JfZGF0YSA9IGNydGMtPnNlbGZfcmVmcmVzaF9kYXRhOwo+ICAgICAgICAgICAgICAgICBz
dHJ1Y3QgZXdtYV9wc3JfdGltZSAqdGltZTsKPgo+ICAgICAgICAgICAgICAgICBpZiAob2xkX2Ny
dGNfc3RhdGUtPnNlbGZfcmVmcmVzaF9hY3RpdmUgPT0KPiAtICAgICAgICAgICAgICAgICAgIG5l
d19jcnRjX3N0YXRlLT5zZWxmX3JlZnJlc2hfYWN0aXZlKQo+ICsgICAgICAgICAgICAgICAgICAg
bmV3X3NlbGZfcmVmcmVzaF9hY3RpdmUpCj4gICAgICAgICAgICAgICAgICAgICAgICAgY29udGlu
dWU7Cj4KPiAtICAgICAgICAgICAgICAgaWYgKG5ld19jcnRjX3N0YXRlLT5zZWxmX3JlZnJlc2hf
YWN0aXZlKQo+ICsgICAgICAgICAgICAgICBpZiAobmV3X3NlbGZfcmVmcmVzaF9hY3RpdmUpCj4g
ICAgICAgICAgICAgICAgICAgICAgICAgdGltZSA9ICZzcl9kYXRhLT5lbnRyeV9hdmdfbXM7Cj4g
ICAgICAgICAgICAgICAgIGVsc2UKPiAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lID0gJnNy
X2RhdGEtPmV4aXRfYXZnX21zOwo+IGRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS9kcm1fYXRvbWlj
LmggYi9pbmNsdWRlL2RybS9kcm1fYXRvbWljLmgKPiBpbmRleCA5MjdlMTIwNWQ3YWEuLjg2YmFm
MmIzOGJiMyAxMDA2NDQKPiAtLS0gYS9pbmNsdWRlL2RybS9kcm1fYXRvbWljLmgKPiArKysgYi9p
bmNsdWRlL2RybS9kcm1fYXRvbWljLmgKPiBAQCAtMTU1LDYgKzE1NSwxNCBAQCBzdHJ1Y3QgX19k
cm1fY3J0Y3Nfc3RhdGUgewo+ICAgICAgICAgc3RydWN0IGRybV9jcnRjICpwdHI7Cj4gICAgICAg
ICBzdHJ1Y3QgZHJtX2NydGNfc3RhdGUgKnN0YXRlLCAqb2xkX3N0YXRlLCAqbmV3X3N0YXRlOwo+
Cj4gKyAgICAgICAvKioKPiArICAgICAgICAqIEBuZXdfc2VsZl9yZWZyZXNoX2FjdGl2ZToKPiAr
ICAgICAgICAqCj4gKyAgICAgICAgKiBkcm1fYXRvbWljX2hlbHBlcl9jb21taXRfaHdfZG9uZSgp
IHN0YXNoZXMgbmV3X2NydGNfc3RhdGUtPnNlbGZfcmVmcmVzaF9hY3RpdmUKPiArICAgICAgICAq
IHNvIHRoYXQgaXQgY2FuIGJlIGFjY2Vzc2VkIGxhdGUgaW4gZHJtX3NlbGZfcmVmcmVzaF9oZWxw
ZXJfdXBkYXRlX2F2Z190aW1lcygpLgo+ICsgICAgICAgICovCj4gKyAgICAgICBib29sIG5ld19z
ZWxmX3JlZnJlc2hfYWN0aXZlOwo+ICsKCkluc3RlYWQgb2Ygc3Rhc2hpbmcgdGhpcyBpbiBjcnRj
LCB3ZSBjb3VsZCBnZW5lcmF0ZSBhIGJpdG1hc2sgbG9jYWwgdG8KY29tbWl0X3RhaWwgYW5kIHBh
c3MgdGhhdCB0byBjYWxjX2F2Z190aW1lcz8gVGhhdCB3YXkgd2UgZG9uJ3QgaGF2ZSB0bwp3b3Jy
eSBhYm91dCBzb21lb25lIHVzaW5nIHRoaXMgd2hlbiB0aGV5IHNob3VsZG4ndAoKU2VhbgoKPiAg
ICAgICAgIC8qKgo+ICAgICAgICAgICogQGNvbW1pdDoKPiAgICAgICAgICAqCj4gLS0KPiAyLjIx
LjAKPgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmkt
ZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6
Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
