Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 0E007CB8E0
	for <lists+dri-devel@lfdr.de>; Fri,  4 Oct 2019 13:04:35 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id ED94D6EB21;
	Fri,  4 Oct 2019 11:04:30 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from lb1-smtp-cloud7.xs4all.net (lb1-smtp-cloud7.xs4all.net
 [194.109.24.24])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 9F1836EB21
 for <dri-devel@lists.freedesktop.org>; Fri,  4 Oct 2019 11:04:29 +0000 (UTC)
Received: from [192.168.2.10] ([46.9.232.237])
 by smtp-cloud7.xs4all.net with ESMTPA
 id GLNoiwY6vjZ8vGLNritbDB; Fri, 04 Oct 2019 13:04:27 +0200
To: Maling list - DRI developers <dri-devel@lists.freedesktop.org>,
 Linux Media Mailing List <linux-media@vger.kernel.org>
From: Hans Verkuil <hverkuil@xs4all.nl>
Subject: [PATCH] cec: add cec_adapter to cec_notifier_cec_adap_unregister()
Message-ID: <e9fc8740-6be6-43a7-beee-ce2d7b54936e@xs4all.nl>
Date: Fri, 4 Oct 2019 13:04:24 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.0
MIME-Version: 1.0
Content-Language: en-US
X-CMAE-Envelope: MS4wfLWRQlKmNlblcHEPumlVlIq2ryrGKGuDgOxOWi0YRflICRmoNPGlqPmPTfu+cZX+ahQy/jgjpI0kdIEctXAvXeuVY9N8KqdZ5yOaJW2K5jRP7GsCYxQH
 VIl6DtYOtZqW5376lUbAPODFKnq+j0D/1ZO2QPexVf15Oo14aIuYH4CrudsMyHUl3V97x/UCRyhBlv0/vjqwYozWLhdTMkHYWnCOJKJXv6vJmUph05oG+hIx
 oNTjlwlLzmITL/eXUc3Z3HC6zCoQgxXILZn9rBsk0486xvkQDwuHpi53z+f5rk/ohQXu8571CJ3JDWSzmbxA+P/Q3cRH+bCpr2M1xPfg4mI=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Mauro Carvalho Chehab <mchehab@kernel.org>,
 Dariusz Marcinkiewicz <darekm@google.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SXQgaXMgcG9zc2libGUgZm9yIG9uZSBIRE1JIGNvbm5lY3RvciB0byBoYXZlIG11bHRpcGxlIENF
QyBhZGFwdGVycy4gVGhlCnR5cGljYWwgcmVhbC13b3JsZCBzY2VuYXJpbyBpcyB0aGF0IHdoZXJl
IG9uZSBhZGFwdGVyIGlzIHVzZWQgd2hlbiB0aGUgZGV2aWNlCmlzIGluIHN0YW5kYnksIGFuZCBv
bmUgdGhhdCdzIGJldHRlci9zbWFydGVyIHdoZW4gdGhlIGRldmljZSBpcyBwb3dlcmVkIHVwLgoK
VGhlIGNlYy1ub3RpZmllciBjaGFuZ2VzIHdlcmUgbWFkZSB3aXRoIHRoYXQgaW4gbWluZCwgYnV0
IEkgbWlzc2VkIHRoYXQgaW4Kb3JkZXIgdG8gc3VwcG9ydCB0aGlzIHlvdSBuZWVkIHRvIHRlbGwg
Y2VjX25vdGlmaWVyX2NlY19hZGFwX3VucmVnaXN0ZXIoKQp3aGljaCBhZGFwdGVyIHlvdSBhcmUg
dW5yZWdpc3RlcmluZyBmcm9tIHRoZSBub3RpZmllci4KCkFkZCB0aGlzIGFkZGl0aW9uYWwgYXJn
dW1lbnQuIEl0IGlzIGN1cnJlbnRseSB1bnVzZWQsIGJ1dCBvbmNlIGFsbCBkcml2ZXJzCnVzZSB0
aGlzLCB0aGUgQ0VDIGNvcmUgd2lsbCBiZSBhZGFwdGVkIGZvciB0aGVzZSB1c2UtY2FzZXMuCgpT
aWduZWQtb2ZmLWJ5OiBIYW5zIFZlcmt1aWwgPGh2ZXJrdWlsLWNpc2NvQHhzNGFsbC5ubD4KLS0t
ClRoaXMgcGF0Y2ggc2hvdWxkIGdvIGluIHZpYSB0aGUgZHJtIHN1YnN5c3RlbSBzaW5jZSBhbGwg
Q0VDIGFkYXB0ZXJzIGluIHRoZQpkcm0gc3Vic3lzdGVtIGhhdmUgYmVlbiBjb252ZXJ0ZWQgdG8g
dXNlIGNlY19ub3RpZmllcl9jZWNfYWRhcF91bnJlZ2lzdGVyKCkuClRoZSBtZWRpYSBzdWJzeXN0
ZW0gc3RpbGwgaGFzIG9sZGVyIGRybSBkcml2ZXJzIHRoYXQgd2VyZW4ndCBjb252ZXJ0ZWQgdG8g
dXNlCmNlY19ub3RpZmllcl9jZWNfYWRhcF91bnJlZ2lzdGVyKCkuCgpUaGlzIHdpbGwgb25seSBi
ZSBhIHByb2JsZW0gaWYgYSBuZXcgQ0VDIGFkYXB0ZXIgZHJpdmVyIGlzIGFkZGVkIHRvIHRoZSBt
ZWRpYQpzdWJzeXN0ZW0gZm9yIHY1LjUsIGJ1dCBJIGFtIG5vdCBhd2FyZSBvZiBhbnkgcGxhbnMg
Zm9yIHRoYXQuIFNob3VsZCBpdCBoYXBwZW4sCnRoZW4gdGhhdCBqdXN0IG1lYW5zIHRoYXQgdGhl
IG1lZGlhIHN1YnN5c3RlbSBuZWVkcyB0byByZXNvbHZlIGEgZmFpcmx5IHRyaXZpYWwKbWVyZ2Ug
Y29uZmxpY3QuCgpWaWxsZSwgTWF1cm8sIGNhbiB5b3UgcmV2aWV3L2Fjaz8KLS0tCmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3N5bm9wc3lzL2R3LWhkbWktY2VjLmMgYi9kcml2
ZXJzL2dwdS9kcm0vYnJpZGdlL3N5bm9wc3lzL2R3LWhkbWktY2VjLmMKaW5kZXggYWMxZTAwMWQw
ODgyLi43MGFiNGZiZGMyM2UgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2Uvc3lu
b3BzeXMvZHctaGRtaS1jZWMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3N5bm9wc3lz
L2R3LWhkbWktY2VjLmMKQEAgLTI4NSw3ICsyODUsNyBAQCBzdGF0aWMgaW50IGR3X2hkbWlfY2Vj
X3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCgogCXJldCA9IGNlY19yZWdpc3Rl
cl9hZGFwdGVyKGNlYy0+YWRhcCwgcGRldi0+ZGV2LnBhcmVudCk7CiAJaWYgKHJldCA8IDApIHsK
LQkJY2VjX25vdGlmaWVyX2NlY19hZGFwX3VucmVnaXN0ZXIoY2VjLT5ub3RpZnkpOworCQljZWNf
bm90aWZpZXJfY2VjX2FkYXBfdW5yZWdpc3RlcihjZWMtPm5vdGlmeSwgY2VjLT5hZGFwKTsKIAkJ
cmV0dXJuIHJldDsKIAl9CgpAQCAtMzAyLDcgKzMwMiw3IEBAIHN0YXRpYyBpbnQgZHdfaGRtaV9j
ZWNfcmVtb3ZlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCiB7CiAJc3RydWN0IGR3X2hk
bWlfY2VjICpjZWMgPSBwbGF0Zm9ybV9nZXRfZHJ2ZGF0YShwZGV2KTsKCi0JY2VjX25vdGlmaWVy
X2NlY19hZGFwX3VucmVnaXN0ZXIoY2VjLT5ub3RpZnkpOworCWNlY19ub3RpZmllcl9jZWNfYWRh
cF91bnJlZ2lzdGVyKGNlYy0+bm90aWZ5LCBjZWMtPmFkYXApOwogCWNlY191bnJlZ2lzdGVyX2Fk
YXB0ZXIoY2VjLT5hZGFwKTsKCiAJcmV0dXJuIDA7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vaTJjL3RkYTk5NTAuYyBiL2RyaXZlcnMvZ3B1L2RybS9pMmMvdGRhOTk1MC5jCmluZGV4IGE1
YTc1YmRlYjdhNS4uNWIwM2ZkZDFlYWE0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTJj
L3RkYTk5NTAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTJjL3RkYTk5NTAuYwpAQCAtNDY1LDcg
KzQ2NSw3IEBAIHN0YXRpYyBpbnQgdGRhOTk1MF9wcm9iZShzdHJ1Y3QgaTJjX2NsaWVudCAqY2xp
ZW50LAoKIAlyZXQgPSBjZWNfcmVnaXN0ZXJfYWRhcHRlcihwcml2LT5hZGFwLCBwcml2LT5oZG1p
KTsKIAlpZiAocmV0IDwgMCkgewotCQljZWNfbm90aWZpZXJfY2VjX2FkYXBfdW5yZWdpc3Rlcihw
cml2LT5ub3RpZnkpOworCQljZWNfbm90aWZpZXJfY2VjX2FkYXBfdW5yZWdpc3Rlcihwcml2LT5u
b3RpZnksIHByaXYtPmFkYXApOwogCQlyZXR1cm4gcmV0OwogCX0KCkBAIC00ODIsNyArNDgyLDcg
QEAgc3RhdGljIGludCB0ZGE5OTUwX3JlbW92ZShzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50KQog
ewogCXN0cnVjdCB0ZGE5OTUwX3ByaXYgKnByaXYgPSBpMmNfZ2V0X2NsaWVudGRhdGEoY2xpZW50
KTsKCi0JY2VjX25vdGlmaWVyX2NlY19hZGFwX3VucmVnaXN0ZXIocHJpdi0+bm90aWZ5KTsKKwlj
ZWNfbm90aWZpZXJfY2VjX2FkYXBfdW5yZWdpc3Rlcihwcml2LT5ub3RpZnksIHByaXYtPmFkYXAp
OwogCWNlY191bnJlZ2lzdGVyX2FkYXB0ZXIocHJpdi0+YWRhcCk7CgogCXJldHVybiAwOwpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9tZWRpYS9jZWMvY2VjLW5vdGlmaWVyLmMgYi9kcml2ZXJzL21lZGlh
L2NlYy9jZWMtbm90aWZpZXIuYwppbmRleCA0ZDgyYTU1MjIwNzIuLjdjZjQyYjEzM2RiYyAxMDA2
NDQKLS0tIGEvZHJpdmVycy9tZWRpYS9jZWMvY2VjLW5vdGlmaWVyLmMKKysrIGIvZHJpdmVycy9t
ZWRpYS9jZWMvY2VjLW5vdGlmaWVyLmMKQEAgLTE1MywxMyArMTUzLDE0IEBAIGNlY19ub3RpZmll
cl9jZWNfYWRhcF9yZWdpc3RlcihzdHJ1Y3QgZGV2aWNlICpoZG1pX2RldiwgY29uc3QgY2hhciAq
Y29ubl9uYW1lLAogfQogRVhQT1JUX1NZTUJPTF9HUEwoY2VjX25vdGlmaWVyX2NlY19hZGFwX3Jl
Z2lzdGVyKTsKCi12b2lkIGNlY19ub3RpZmllcl9jZWNfYWRhcF91bnJlZ2lzdGVyKHN0cnVjdCBj
ZWNfbm90aWZpZXIgKm4pCit2b2lkIGNlY19ub3RpZmllcl9jZWNfYWRhcF91bnJlZ2lzdGVyKHN0
cnVjdCBjZWNfbm90aWZpZXIgKm4sCisJCQkJICAgICAgc3RydWN0IGNlY19hZGFwdGVyICphZGFw
KQogewogCWlmICghbikKIAkJcmV0dXJuOwoKIAltdXRleF9sb2NrKCZuLT5sb2NrKTsKLQluLT5j
ZWNfYWRhcC0+bm90aWZpZXIgPSBOVUxMOworCWFkYXAtPm5vdGlmaWVyID0gTlVMTDsKIAluLT5j
ZWNfYWRhcCA9IE5VTEw7CiAJbi0+Y2FsbGJhY2sgPSBOVUxMOwogCW11dGV4X3VubG9jaygmbi0+
bG9jayk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL21lZGlhL3BsYXRmb3JtL2Nyb3MtZWMtY2VjL2Ny
b3MtZWMtY2VjLmMgYi9kcml2ZXJzL21lZGlhL3BsYXRmb3JtL2Nyb3MtZWMtY2VjL2Nyb3MtZWMt
Y2VjLmMKaW5kZXggNGEzYjM4MTBmZDg5Li5mMDQ4ZTg5OTQ3ODUgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvbWVkaWEvcGxhdGZvcm0vY3Jvcy1lYy1jZWMvY3Jvcy1lYy1jZWMuYworKysgYi9kcml2ZXJz
L21lZGlhL3BsYXRmb3JtL2Nyb3MtZWMtY2VjL2Nyb3MtZWMtY2VjLmMKQEAgLTMxNCw3ICszMTQs
OCBAQCBzdGF0aWMgaW50IGNyb3NfZWNfY2VjX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2Ug
KnBkZXYpCiAJcmV0dXJuIDA7Cgogb3V0X3Byb2JlX25vdGlmeToKLQljZWNfbm90aWZpZXJfY2Vj
X2FkYXBfdW5yZWdpc3Rlcihjcm9zX2VjX2NlYy0+bm90aWZ5KTsKKwljZWNfbm90aWZpZXJfY2Vj
X2FkYXBfdW5yZWdpc3Rlcihjcm9zX2VjX2NlYy0+bm90aWZ5LAorCQkJCQkgY3Jvc19lY19jZWMt
PmFkYXApOwogb3V0X3Byb2JlX2FkYXB0ZXI6CiAJY2VjX2RlbGV0ZV9hZGFwdGVyKGNyb3NfZWNf
Y2VjLT5hZGFwKTsKIAlyZXR1cm4gcmV0OwpAQCAtMzM1LDcgKzMzNiw4IEBAIHN0YXRpYyBpbnQg
Y3Jvc19lY19jZWNfcmVtb3ZlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCiAJCXJldHVy
biByZXQ7CiAJfQoKLQljZWNfbm90aWZpZXJfY2VjX2FkYXBfdW5yZWdpc3Rlcihjcm9zX2VjX2Nl
Yy0+bm90aWZ5KTsKKwljZWNfbm90aWZpZXJfY2VjX2FkYXBfdW5yZWdpc3Rlcihjcm9zX2VjX2Nl
Yy0+bm90aWZ5LAorCQkJCQkgY3Jvc19lY19jZWMtPmFkYXApOwogCWNlY191bnJlZ2lzdGVyX2Fk
YXB0ZXIoY3Jvc19lY19jZWMtPmFkYXApOwoKIAlyZXR1cm4gMDsKZGlmZiAtLWdpdCBhL2RyaXZl
cnMvbWVkaWEvcGxhdGZvcm0vbWVzb24vYW8tY2VjLWcxMmEuYyBiL2RyaXZlcnMvbWVkaWEvcGxh
dGZvcm0vbWVzb24vYW8tY2VjLWcxMmEuYwppbmRleCAzYjM5ZTg3NTI5MmUuLjcwZjg3NWI0YTAx
ZSAxMDA2NDQKLS0tIGEvZHJpdmVycy9tZWRpYS9wbGF0Zm9ybS9tZXNvbi9hby1jZWMtZzEyYS5j
CisrKyBiL2RyaXZlcnMvbWVkaWEvcGxhdGZvcm0vbWVzb24vYW8tY2VjLWcxMmEuYwpAQCAtNzM2
LDcgKzczNiw3IEBAIHN0YXRpYyBpbnQgbWVzb25fYW9fY2VjX2cxMmFfcHJvYmUoc3RydWN0IHBs
YXRmb3JtX2RldmljZSAqcGRldikKIAljbGtfZGlzYWJsZV91bnByZXBhcmUoYW9fY2VjLT5jb3Jl
KTsKCiBvdXRfcHJvYmVfbm90aWZ5OgotCWNlY19ub3RpZmllcl9jZWNfYWRhcF91bnJlZ2lzdGVy
KGFvX2NlYy0+bm90aWZ5KTsKKwljZWNfbm90aWZpZXJfY2VjX2FkYXBfdW5yZWdpc3Rlcihhb19j
ZWMtPm5vdGlmeSwgYW9fY2VjLT5hZGFwKTsKCiBvdXRfcHJvYmVfYWRhcHRlcjoKIAljZWNfZGVs
ZXRlX2FkYXB0ZXIoYW9fY2VjLT5hZGFwKTsKQEAgLTc1Miw3ICs3NTIsNyBAQCBzdGF0aWMgaW50
IG1lc29uX2FvX2NlY19nMTJhX3JlbW92ZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQoK
IAljbGtfZGlzYWJsZV91bnByZXBhcmUoYW9fY2VjLT5jb3JlKTsKCi0JY2VjX25vdGlmaWVyX2Nl
Y19hZGFwX3VucmVnaXN0ZXIoYW9fY2VjLT5ub3RpZnkpOworCWNlY19ub3RpZmllcl9jZWNfYWRh
cF91bnJlZ2lzdGVyKGFvX2NlYy0+bm90aWZ5LCBhb19jZWMtPmFkYXApOwoKIAljZWNfdW5yZWdp
c3Rlcl9hZGFwdGVyKGFvX2NlYy0+YWRhcCk7CgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9tZWRpYS9w
bGF0Zm9ybS9tZXNvbi9hby1jZWMuYyBiL2RyaXZlcnMvbWVkaWEvcGxhdGZvcm0vbWVzb24vYW8t
Y2VjLmMKaW5kZXggNjRlZDU0OWJmMDEyLi45Mjg1OWE2ZDAwNmYgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvbWVkaWEvcGxhdGZvcm0vbWVzb24vYW8tY2VjLmMKKysrIGIvZHJpdmVycy9tZWRpYS9wbGF0
Zm9ybS9tZXNvbi9hby1jZWMuYwpAQCAtNjg4LDcgKzY4OCw3IEBAIHN0YXRpYyBpbnQgbWVzb25f
YW9fY2VjX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCiAJY2xrX2Rpc2FibGVf
dW5wcmVwYXJlKGFvX2NlYy0+Y29yZSk7Cgogb3V0X3Byb2JlX25vdGlmeToKLQljZWNfbm90aWZp
ZXJfY2VjX2FkYXBfdW5yZWdpc3Rlcihhb19jZWMtPm5vdGlmeSk7CisJY2VjX25vdGlmaWVyX2Nl
Y19hZGFwX3VucmVnaXN0ZXIoYW9fY2VjLT5ub3RpZnksIGFvX2NlYy0+YWRhcCk7Cgogb3V0X3By
b2JlX2FkYXB0ZXI6CiAJY2VjX2RlbGV0ZV9hZGFwdGVyKGFvX2NlYy0+YWRhcCk7CkBAIC03MDQs
NyArNzA0LDcgQEAgc3RhdGljIGludCBtZXNvbl9hb19jZWNfcmVtb3ZlKHN0cnVjdCBwbGF0Zm9y
bV9kZXZpY2UgKnBkZXYpCgogCWNsa19kaXNhYmxlX3VucHJlcGFyZShhb19jZWMtPmNvcmUpOwoK
LQljZWNfbm90aWZpZXJfY2VjX2FkYXBfdW5yZWdpc3Rlcihhb19jZWMtPm5vdGlmeSk7CisJY2Vj
X25vdGlmaWVyX2NlY19hZGFwX3VucmVnaXN0ZXIoYW9fY2VjLT5ub3RpZnksIGFvX2NlYy0+YWRh
cCk7CiAJY2VjX3VucmVnaXN0ZXJfYWRhcHRlcihhb19jZWMtPmFkYXApOwoKIAlyZXR1cm4gMDsK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvbWVkaWEvcGxhdGZvcm0vczVwLWNlYy9zNXBfY2VjLmMgYi9k
cml2ZXJzL21lZGlhL3BsYXRmb3JtL3M1cC1jZWMvczVwX2NlYy5jCmluZGV4IDZkZGNjMzViMGJi
ZC4uMmEzZTdmZmVmZTBhIDEwMDY0NAotLS0gYS9kcml2ZXJzL21lZGlhL3BsYXRmb3JtL3M1cC1j
ZWMvczVwX2NlYy5jCisrKyBiL2RyaXZlcnMvbWVkaWEvcGxhdGZvcm0vczVwLWNlYy9zNXBfY2Vj
LmMKQEAgLTIzOSw3ICsyMzksNyBAQCBzdGF0aWMgaW50IHM1cF9jZWNfcHJvYmUoc3RydWN0IHBs
YXRmb3JtX2RldmljZSAqcGRldikKIAlyZXR1cm4gMDsKCiBlcnJfbm90aWZpZXI6Ci0JY2VjX25v
dGlmaWVyX2NlY19hZGFwX3VucmVnaXN0ZXIoY2VjLT5ub3RpZmllcik7CisJY2VjX25vdGlmaWVy
X2NlY19hZGFwX3VucmVnaXN0ZXIoY2VjLT5ub3RpZmllciwgY2VjLT5hZGFwKTsKCiBlcnJfZGVs
ZXRlX2FkYXB0ZXI6CiAJY2VjX2RlbGV0ZV9hZGFwdGVyKGNlYy0+YWRhcCk7CkBAIC0yNTAsNyAr
MjUwLDcgQEAgc3RhdGljIGludCBzNXBfY2VjX3JlbW92ZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNl
ICpwZGV2KQogewogCXN0cnVjdCBzNXBfY2VjX2RldiAqY2VjID0gcGxhdGZvcm1fZ2V0X2RydmRh
dGEocGRldik7CgotCWNlY19ub3RpZmllcl9jZWNfYWRhcF91bnJlZ2lzdGVyKGNlYy0+bm90aWZp
ZXIpOworCWNlY19ub3RpZmllcl9jZWNfYWRhcF91bnJlZ2lzdGVyKGNlYy0+bm90aWZpZXIsIGNl
Yy0+YWRhcCk7CiAJY2VjX3VucmVnaXN0ZXJfYWRhcHRlcihjZWMtPmFkYXApOwogCXBtX3J1bnRp
bWVfZGlzYWJsZSgmcGRldi0+ZGV2KTsKIAlyZXR1cm4gMDsKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
bWVkaWEvcGxhdGZvcm0vc2Vjby1jZWMvc2Vjby1jZWMuYyBiL2RyaXZlcnMvbWVkaWEvcGxhdGZv
cm0vc2Vjby1jZWMvc2Vjby1jZWMuYwppbmRleCA5Y2Q2MGZlMTg2N2MuLjU0YjBkNTFlOWM1NSAx
MDA2NDQKLS0tIGEvZHJpdmVycy9tZWRpYS9wbGF0Zm9ybS9zZWNvLWNlYy9zZWNvLWNlYy5jCisr
KyBiL2RyaXZlcnMvbWVkaWEvcGxhdGZvcm0vc2Vjby1jZWMvc2Vjby1jZWMuYwpAQCAtNjcxLDcg
KzY3MSw3IEBAIHN0YXRpYyBpbnQgc2Vjb2NlY19wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNl
ICpwZGV2KQogCXJldHVybiByZXQ7CgogZXJyX25vdGlmaWVyOgotCWNlY19ub3RpZmllcl9jZWNf
YWRhcF91bnJlZ2lzdGVyKHNlY29jZWMtPm5vdGlmaWVyKTsKKwljZWNfbm90aWZpZXJfY2VjX2Fk
YXBfdW5yZWdpc3RlcihzZWNvY2VjLT5ub3RpZmllciwgc2Vjb2NlYy0+Y2VjX2FkYXApOwogZXJy
X2RlbGV0ZV9hZGFwdGVyOgogCWNlY19kZWxldGVfYWRhcHRlcihzZWNvY2VjLT5jZWNfYWRhcCk7
CiBlcnI6CkBAIC02OTIsNyArNjkyLDcgQEAgc3RhdGljIGludCBzZWNvY2VjX3JlbW92ZShzdHJ1
Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQoKIAkJZGV2X2RiZygmcGRldi0+ZGV2LCAiSVIgZGlz
YWJsZWQiKTsKIAl9Ci0JY2VjX25vdGlmaWVyX2NlY19hZGFwX3VucmVnaXN0ZXIoc2Vjb2NlYy0+
bm90aWZpZXIpOworCWNlY19ub3RpZmllcl9jZWNfYWRhcF91bnJlZ2lzdGVyKHNlY29jZWMtPm5v
dGlmaWVyLCBzZWNvY2VjLT5jZWNfYWRhcCk7CiAJY2VjX3VucmVnaXN0ZXJfYWRhcHRlcihzZWNv
Y2VjLT5jZWNfYWRhcCk7CgogCXJlbGVhc2VfcmVnaW9uKEJSQV9TTUJfQkFTRV9BRERSLCA3KTsK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvbWVkaWEvcGxhdGZvcm0vc3RpL2NlYy9zdGloLWNlYy5jIGIv
ZHJpdmVycy9tZWRpYS9wbGF0Zm9ybS9zdGkvY2VjL3N0aWgtY2VjLmMKaW5kZXggODExOGM3MzY1
ZDNmLi5mMGM3M2U2NGI1ODYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvbWVkaWEvcGxhdGZvcm0vc3Rp
L2NlYy9zdGloLWNlYy5jCisrKyBiL2RyaXZlcnMvbWVkaWEvcGxhdGZvcm0vc3RpL2NlYy9zdGlo
LWNlYy5jCkBAIC0zNTksNyArMzU5LDcgQEAgc3RhdGljIGludCBzdGloX2NlY19wcm9iZShzdHJ1
Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQogCXJldHVybiAwOwoKIGVycl9ub3RpZmllcjoKLQlj
ZWNfbm90aWZpZXJfY2VjX2FkYXBfdW5yZWdpc3RlcihjZWMtPm5vdGlmaWVyKTsKKwljZWNfbm90
aWZpZXJfY2VjX2FkYXBfdW5yZWdpc3RlcihjZWMtPm5vdGlmaWVyLCBjZWMtPmFkYXApOwoKIGVy
cl9kZWxldGVfYWRhcHRlcjoKIAljZWNfZGVsZXRlX2FkYXB0ZXIoY2VjLT5hZGFwKTsKQEAgLTM3
MCw3ICszNzAsNyBAQCBzdGF0aWMgaW50IHN0aWhfY2VjX3JlbW92ZShzdHJ1Y3QgcGxhdGZvcm1f
ZGV2aWNlICpwZGV2KQogewogCXN0cnVjdCBzdGloX2NlYyAqY2VjID0gcGxhdGZvcm1fZ2V0X2Ry
dmRhdGEocGRldik7CgotCWNlY19ub3RpZmllcl9jZWNfYWRhcF91bnJlZ2lzdGVyKGNlYy0+bm90
aWZpZXIpOworCWNlY19ub3RpZmllcl9jZWNfYWRhcF91bnJlZ2lzdGVyKGNlYy0+bm90aWZpZXIs
IGNlYy0+YWRhcCk7CiAJY2VjX3VucmVnaXN0ZXJfYWRhcHRlcihjZWMtPmFkYXApOwoKIAlyZXR1
cm4gMDsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvbWVkaWEvcGxhdGZvcm0vdGVncmEtY2VjL3RlZ3Jh
X2NlYy5jIGIvZHJpdmVycy9tZWRpYS9wbGF0Zm9ybS90ZWdyYS1jZWMvdGVncmFfY2VjLmMKaW5k
ZXggYTYzMjYwMjEzMWYyLi5hOTljYWFjNTlmNDQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvbWVkaWEv
cGxhdGZvcm0vdGVncmEtY2VjL3RlZ3JhX2NlYy5jCisrKyBiL2RyaXZlcnMvbWVkaWEvcGxhdGZv
cm0vdGVncmEtY2VjL3RlZ3JhX2NlYy5jCkBAIC00MDksNyArNDA5LDcgQEAgc3RhdGljIGludCB0
ZWdyYV9jZWNfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKIAlyZXR1cm4gMDsK
CiBlcnJfbm90aWZpZXI6Ci0JY2VjX25vdGlmaWVyX2NlY19hZGFwX3VucmVnaXN0ZXIoY2VjLT5u
b3RpZmllcik7CisJY2VjX25vdGlmaWVyX2NlY19hZGFwX3VucmVnaXN0ZXIoY2VjLT5ub3RpZmll
ciwgY2VjLT5hZGFwKTsKIGVycl9hZGFwdGVyOgogCWNlY19kZWxldGVfYWRhcHRlcihjZWMtPmFk
YXApOwogZXJyX2NsazoKQEAgLTQyMyw3ICs0MjMsNyBAQCBzdGF0aWMgaW50IHRlZ3JhX2NlY19y
ZW1vdmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKCiAJY2xrX2Rpc2FibGVfdW5wcmVw
YXJlKGNlYy0+Y2xrKTsKCi0JY2VjX25vdGlmaWVyX2NlY19hZGFwX3VucmVnaXN0ZXIoY2VjLT5u
b3RpZmllcik7CisJY2VjX25vdGlmaWVyX2NlY19hZGFwX3VucmVnaXN0ZXIoY2VjLT5ub3RpZmll
ciwgY2VjLT5hZGFwKTsKIAljZWNfdW5yZWdpc3Rlcl9hZGFwdGVyKGNlYy0+YWRhcCk7CgogCXJl
dHVybiAwOwpkaWZmIC0tZ2l0IGEvaW5jbHVkZS9tZWRpYS9jZWMtbm90aWZpZXIuaCBiL2luY2x1
ZGUvbWVkaWEvY2VjLW5vdGlmaWVyLmgKaW5kZXggZjE2MWY4YTQ5M2FjLi45ODVhZmVhMWVlMzYg
MTAwNjQ0Ci0tLSBhL2luY2x1ZGUvbWVkaWEvY2VjLW5vdGlmaWVyLmgKKysrIGIvaW5jbHVkZS9t
ZWRpYS9jZWMtbm90aWZpZXIuaApAQCAtOTMsOCArOTMsMTAgQEAgY2VjX25vdGlmaWVyX2NlY19h
ZGFwX3JlZ2lzdGVyKHN0cnVjdCBkZXZpY2UgKmhkbWlfZGV2LCBjb25zdCBjaGFyICpjb25uX25h
bWUsCiAgKiBjZWNfbm90aWZpZXJfY2VjX2FkYXBfdW5yZWdpc3RlciAtIGRlY3JlYXNlIHJlZmNv
dW50IGFuZCBkZWxldGUgd2hlbiB0aGUKICAqIHJlZmNvdW50IHJlYWNoZXMgMC4KICAqIEBuOiBu
b3RpZmllci4gSWYgTlVMTCwgdGhlbiB0aGlzIGZ1bmN0aW9uIGRvZXMgbm90aGluZy4KKyAqIEBh
ZGFwOiB0aGUgY2VjIGFkYXB0ZXIgdGhhdCByZWdpc3RlcmVkIHRoaXMgbm90aWZpZXIuCiAgKi8K
LXZvaWQgY2VjX25vdGlmaWVyX2NlY19hZGFwX3VucmVnaXN0ZXIoc3RydWN0IGNlY19ub3RpZmll
ciAqbik7Cit2b2lkIGNlY19ub3RpZmllcl9jZWNfYWRhcF91bnJlZ2lzdGVyKHN0cnVjdCBjZWNf
bm90aWZpZXIgKm4sCisJCQkJICAgICAgc3RydWN0IGNlY19hZGFwdGVyICphZGFwKTsKCiAvKioK
ICAqIGNlY19ub3RpZmllcl9zZXRfcGh5c19hZGRyIC0gc2V0IGEgbmV3IHBoeXNpY2FsIGFkZHJl
c3MuCkBAIC0xNjAsNyArMTYyLDggQEAgY2VjX25vdGlmaWVyX2NlY19hZGFwX3JlZ2lzdGVyKHN0
cnVjdCBkZXZpY2UgKmhkbWlfZGV2LCBjb25zdCBjaGFyICpjb25uX25hbWUsCiAJcmV0dXJuIChz
dHJ1Y3QgY2VjX25vdGlmaWVyICopMHhkZWFkZmVlZDsKIH0KCi1zdGF0aWMgaW5saW5lIHZvaWQg
Y2VjX25vdGlmaWVyX2NlY19hZGFwX3VucmVnaXN0ZXIoc3RydWN0IGNlY19ub3RpZmllciAqbikK
K3N0YXRpYyBpbmxpbmUgdm9pZCBjZWNfbm90aWZpZXJfY2VjX2FkYXBfdW5yZWdpc3RlcihzdHJ1
Y3QgY2VjX25vdGlmaWVyICpuLAorCQkJCQkJICAgIHN0cnVjdCBjZWNfYWRhcHRlciAqYWRhcCkK
IHsKIH0KCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRy
aS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRw
czovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
