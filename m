Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 87232B3365
	for <lists+dri-devel@lfdr.de>; Mon, 16 Sep 2019 04:30:38 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 71DAB6E0DE;
	Mon, 16 Sep 2019 02:30:34 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mailgw01.mediatek.com (unknown [1.203.163.78])
 by gabe.freedesktop.org (Postfix) with ESMTP id 5E7786E0DE
 for <dri-devel@lists.freedesktop.org>; Mon, 16 Sep 2019 02:30:29 +0000 (UTC)
X-UUID: 4db4ce98e293406487393391eb94d4bb-20190916
X-UUID: 4db4ce98e293406487393391eb94d4bb-20190916
Received: from mtkcas35.mediatek.inc [(172.27.4.253)] by mailgw01.mediatek.com
 (envelope-from <jitao.shi@mediatek.com>)
 (mailgw01.mediatek.com ESMTP with TLS)
 with ESMTP id 1520966293; Mon, 16 Sep 2019 10:29:59 +0800
Received: from MTKCAS32.mediatek.inc (172.27.4.184) by MTKMBS33N2.mediatek.inc
 (172.27.4.76) with Microsoft SMTP Server (TLS) id 15.0.1395.4;
 Mon, 16 Sep 2019 10:29:58 +0800
Received: from mszsdclx1018.gcn.mediatek.inc (172.27.4.253) by
 MTKCAS32.mediatek.inc (172.27.4.170) with Microsoft SMTP Server id
 15.0.1395.4 via Frontend Transport; Mon, 16 Sep 2019 10:29:57 +0800
From: Jitao Shi <jitao.shi@mediatek.com>
To: Sam Ravnborg <sam@ravnborg.org>, David Airlie <airlied@linux.ie>, Daniel
 Vetter <daniel@ffwll.ch>, <dri-devel@lists.freedesktop.org>,
 <linux-kernel@vger.kernel.org>
Subject: [PATCH v5 2/8] drm/panel: support for BOE tv101wum-nl6 wuxga dsi
 video mode panel
Date: Mon, 16 Sep 2019 10:29:35 +0800
Message-ID: <20190916022941.15404-3-jitao.shi@mediatek.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190916022941.15404-1-jitao.shi@mediatek.com>
References: <20190916022941.15404-1-jitao.shi@mediatek.com>
MIME-Version: 1.0
X-TM-SNTS-SMTP: 53653145F8BD84F635CCA4A127D180A548D890103D2ACA4AD286BFF9E5321B462000:8
X-MTK: N
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Jitao Shi <jitao.shi@mediatek.com>, srv_heupstream@mediatek.com,
 stonea168@163.com, cawa.cheng@mediatek.com, yingjoe.chen@mediatek.com,
 eddie.huang@mediatek.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QWRkIGRyaXZlciBmb3IgQk9FIHR2MTAxd3VtLW5sNiBwYW5lbCBpcyBhIDEwLjEiIDEyMDB4MTky
MCBwYW5lbC4KClNpZ25lZC1vZmYtYnk6IEppdGFvIFNoaSA8aml0YW8uc2hpQG1lZGlhdGVrLmNv
bT4KUmV2aWV3ZWQtYnk6IFNhbSBSYXZuYm9yZyA8c2FtQHJhdm5ib3JnLm9yZz4KLS0tCiBkcml2
ZXJzL2dwdS9kcm0vcGFuZWwvS2NvbmZpZyAgICAgICAgICAgICAgICAgfCAgIDkgKwogZHJpdmVy
cy9ncHUvZHJtL3BhbmVsL01ha2VmaWxlICAgICAgICAgICAgICAgIHwgICAxICsKIC4uLi9ncHUv
ZHJtL3BhbmVsL3BhbmVsLWJvZS10djEwMXd1bS1ubDYuYyAgICB8IDcwOSArKysrKysrKysrKysr
KysrKysKIDMgZmlsZXMgY2hhbmdlZCwgNzE5IGluc2VydGlvbnMoKykKIGNyZWF0ZSBtb2RlIDEw
MDY0NCBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtYm9lLXR2MTAxd3VtLW5sNi5jCgpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL0tjb25maWcgYi9kcml2ZXJzL2dwdS9kcm0v
cGFuZWwvS2NvbmZpZwppbmRleCBkOWQ5MzFhYTZlMjYuLmFmY2FkYjM1ODVmYiAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL0tjb25maWcKKysrIGIvZHJpdmVycy9ncHUvZHJtL3Bh
bmVsL0tjb25maWcKQEAgLTE4LDYgKzE4LDE1IEBAIGNvbmZpZyBEUk1fUEFORUxfQVJNX1ZFUlNB
VElMRQogCSAgcmVmZXJlbmNlIGRlc2lnbnMuIFRoZSBwYW5lbCBpcyBkZXRlY3RlZCB1c2luZyBz
cGVjaWFsIHJlZ2lzdGVycwogCSAgaW4gdGhlIFZlcnNhdGlsZSBmYW1pbHkgc3lzY29uIHJlZ2lz
dGVycy4KIAorY29uZmlnIERSTV9QQU5FTF9CT0VfVFYxMDFXVU1fTkw2CisJdHJpc3RhdGUgIkJP
RSBUVjEwMVdVTSAxMjAweDE5MjAgcGFuZWwiCisJZGVwZW5kcyBvbiBPRgorCWRlcGVuZHMgb24g
RFJNX01JUElfRFNJCisJZGVwZW5kcyBvbiBCQUNLTElHSFRfQ0xBU1NfREVWSUNFCisJaGVscAor
CSAgU2F5IFkgaGVyZSBpZiB5b3Ugd2FudCB0byBzdXBwb3J0IGZvciBCT0UgVFYxMDFXVU0gV1VY
R0EgUEFORUwKKwkgIERTSSBWaWRlbyBNb2RlIHBhbmVsCisKIGNvbmZpZyBEUk1fUEFORUxfTFZE
UwogCXRyaXN0YXRlICJHZW5lcmljIExWRFMgcGFuZWwgZHJpdmVyIgogCWRlcGVuZHMgb24gT0YK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9NYWtlZmlsZSBiL2RyaXZlcnMvZ3B1
L2RybS9wYW5lbC9NYWtlZmlsZQppbmRleCBmYjBjYjNhYWE5ZTYuLmJkMjZiNmFjMDM5ZSAxMDA2
NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL01ha2VmaWxlCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9wYW5lbC9NYWtlZmlsZQpAQCAtMSw1ICsxLDYgQEAKICMgU1BEWC1MaWNlbnNlLUlkZW50
aWZpZXI6IEdQTC0yLjAKIG9iai0kKENPTkZJR19EUk1fUEFORUxfQVJNX1ZFUlNBVElMRSkgKz0g
cGFuZWwtYXJtLXZlcnNhdGlsZS5vCitvYmotJChDT05GSUdfRFJNX1BBTkVMX0JPRV9UVjEwMVdV
TV9OTDYpICs9IHBhbmVsLWJvZS10djEwMXd1bS1ubDYubwogb2JqLSQoQ09ORklHX0RSTV9QQU5F
TF9MVkRTKSArPSBwYW5lbC1sdmRzLm8KIG9iai0kKENPTkZJR19EUk1fUEFORUxfU0lNUExFKSAr
PSBwYW5lbC1zaW1wbGUubwogb2JqLSQoQ09ORklHX0RSTV9QQU5FTF9GRUlZQU5HX0ZZMDcwMjRE
STI2QTMwRCkgKz0gcGFuZWwtZmVpeWFuZy1meTA3MDI0ZGkyNmEzMGQubwpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWJvZS10djEwMXd1bS1ubDYuYyBiL2RyaXZlcnMv
Z3B1L2RybS9wYW5lbC9wYW5lbC1ib2UtdHYxMDF3dW0tbmw2LmMKbmV3IGZpbGUgbW9kZSAxMDA2
NDQKaW5kZXggMDAwMDAwMDAwMDAwLi5lMjc1MjliODBkNzgKLS0tIC9kZXYvbnVsbAorKysgYi9k
cml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtYm9lLXR2MTAxd3VtLW5sNi5jCkBAIC0wLDAgKzEs
NzA5IEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMAorLyoKKyAqIENvcHly
aWdodCAoYykgMjAxOCBNZWRpYVRlayBJbmMuCisgKiBBdXRob3I6IEppdGFvIFNoaSA8aml0YW8u
c2hpQG1lZGlhdGVrLmNvbT4KKyAqLworCisjaW5jbHVkZSA8bGludXgvYmFja2xpZ2h0Lmg+Cisj
aW5jbHVkZSA8bGludXgvZGVsYXkuaD4KKyNpbmNsdWRlIDxsaW51eC9ncGlvL2NvbnN1bWVyLmg+
CisjaW5jbHVkZSA8bGludXgvbW9kdWxlLmg+CisjaW5jbHVkZSA8bGludXgvb2YuaD4KKyNpbmNs
dWRlIDxsaW51eC9vZl9kZXZpY2UuaD4KKyNpbmNsdWRlIDxsaW51eC9yZWd1bGF0b3IvY29uc3Vt
ZXIuaD4KKworI2luY2x1ZGUgPGRybS9kcm1fY3J0Yy5oPgorI2luY2x1ZGUgPGRybS9kcm1fbWlw
aV9kc2kuaD4KKyNpbmNsdWRlIDxkcm0vZHJtX3BhbmVsLmg+CisKKyNpbmNsdWRlIDx2aWRlby9t
aXBpX2Rpc3BsYXkuaD4KKworc3RydWN0IHBhbmVsX2Rlc2MgeworCWNvbnN0IHN0cnVjdCBkcm1f
ZGlzcGxheV9tb2RlICptb2RlczsKKwl1bnNpZ25lZCBpbnQgYnBjOworCisJLyoqCisJICogQHdp
ZHRoX21tOiB3aWR0aCBvZiB0aGUgcGFuZWwncyBhY3RpdmUgZGlzcGxheSBhcmVhCisJICogQGhl
aWdodF9tbTogaGVpZ2h0IG9mIHRoZSBwYW5lbCdzIGFjdGl2ZSBkaXNwbGF5IGFyZWEKKwkgKi8K
KwlzdHJ1Y3QgeworCQl1bnNpZ25lZCBpbnQgd2lkdGhfbW07CisJCXVuc2lnbmVkIGludCBoZWln
aHRfbW07CisJfSBzaXplOworCisJdW5zaWduZWQgbG9uZyBtb2RlX2ZsYWdzOworCWVudW0gbWlw
aV9kc2lfcGl4ZWxfZm9ybWF0IGZvcm1hdDsKKwljb25zdCBzdHJ1Y3QgcGFuZWxfaW5pdF9jbWQg
KmluaXRfY21kczsKKwl1bnNpZ25lZCBpbnQgbGFuZXM7Cit9OworCitzdHJ1Y3QgYm9lX3BhbmVs
IHsKKwlzdHJ1Y3QgZHJtX3BhbmVsIGJhc2U7CisJc3RydWN0IG1pcGlfZHNpX2RldmljZSAqZHNp
OworCisJY29uc3Qgc3RydWN0IHBhbmVsX2Rlc2MgKmRlc2M7CisKKwlzdHJ1Y3QgYmFja2xpZ2h0
X2RldmljZSAqYmFja2xpZ2h0OworCXN0cnVjdCByZWd1bGF0b3IgKnBwMTgwMDsKKwlzdHJ1Y3Qg
cmVndWxhdG9yICphdmVlOworCXN0cnVjdCByZWd1bGF0b3IgKmF2ZGQ7CisJc3RydWN0IGdwaW9f
ZGVzYyAqZW5hYmxlX2dwaW87CisKKwlib29sIHByZXBhcmVkOworCWJvb2wgZW5hYmxlZDsKKwor
CWNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOworfTsKKworZW51bSBkc2lfY21k
X3R5cGUgeworCUlOSVRfRENTX0NNRCwKKwlERUxBWV9DTUQsCit9OworCitzdHJ1Y3QgcGFuZWxf
aW5pdF9jbWQgeworCWVudW0gZHNpX2NtZF90eXBlIHR5cGU7CisJc2l6ZV90IGxlbjsKKwljb25z
dCBjaGFyICpkYXRhOworfTsKKworI2RlZmluZSBfSU5JVF9EQ1NfQ01EKC4uLikgeyBcCisJLnR5
cGUgPSBJTklUX0RDU19DTUQsIFwKKwkubGVuID0gc2l6ZW9mKChjaGFyW10pe19fVkFfQVJHU19f
fSksIFwKKwkuZGF0YSA9IChjaGFyW10pe19fVkFfQVJHU19ffSB9CisKKyNkZWZpbmUgX0lOSVRf
REVMQVlfQ01EKC4uLikgeyBcCisJLnR5cGUgPSBERUxBWV9DTUQsXAorCS5sZW4gPSBzaXplb2Yo
KGNoYXJbXSl7X19WQV9BUkdTX199KSwgXAorCS5kYXRhID0gKGNoYXJbXSl7X19WQV9BUkdTX199
IH0KKworc3RhdGljIGNvbnN0IHN0cnVjdCBwYW5lbF9pbml0X2NtZCBib2VfaW5pdF9jbWRbXSA9
IHsKKwlfSU5JVF9ERUxBWV9DTUQoMjQpLAorCV9JTklUX0RDU19DTUQoMHhCMCwgMHgwNSksCisJ
X0lOSVRfRENTX0NNRCgweEIxLCAweEU1KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjMsIDB4NTIpLAor
CV9JTklUX0RDU19DTUQoMHhCMCwgMHgwMCksCisJX0lOSVRfRENTX0NNRCgweEIzLCAweDg4KSwK
KwlfSU5JVF9EQ1NfQ01EKDB4QjAsIDB4MDQpLAorCV9JTklUX0RDU19DTUQoMHhCOCwgMHgwMCks
CisJX0lOSVRfRENTX0NNRCgweEIwLCAweDAwKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjYsIDB4MDMp
LAorCV9JTklUX0RDU19DTUQoMHhCQSwgMHg4QiksCisJX0lOSVRfRENTX0NNRCgweEJGLCAweDFB
KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzAsIDB4MEYpLAorCV9JTklUX0RDU19DTUQoMHhDMiwgMHgw
QyksCisJX0lOSVRfRENTX0NNRCgweEMzLCAweDAyKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzQsIDB4
MEMpLAorCV9JTklUX0RDU19DTUQoMHhDNSwgMHgwMiksCisJX0lOSVRfRENTX0NNRCgweEIwLCAw
eDAxKSwKKwlfSU5JVF9EQ1NfQ01EKDB4RTAsIDB4MjYpLAorCV9JTklUX0RDU19DTUQoMHhFMSwg
MHgyNiksCisJX0lOSVRfRENTX0NNRCgweERDLCAweDAwKSwKKwlfSU5JVF9EQ1NfQ01EKDB4REQs
IDB4MDApLAorCV9JTklUX0RDU19DTUQoMHhDQywgMHgyNiksCisJX0lOSVRfRENTX0NNRCgweENE
LCAweDI2KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzgsIDB4MDApLAorCV9JTklUX0RDU19DTUQoMHhD
OSwgMHgwMCksCisJX0lOSVRfRENTX0NNRCgweEQyLCAweDAzKSwKKwlfSU5JVF9EQ1NfQ01EKDB4
RDMsIDB4MDMpLAorCV9JTklUX0RDU19DTUQoMHhFNiwgMHgwNCksCisJX0lOSVRfRENTX0NNRCgw
eEU3LCAweDA0KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzQsIDB4MDkpLAorCV9JTklUX0RDU19DTUQo
MHhDNSwgMHgwOSksCisJX0lOSVRfRENTX0NNRCgweEQ4LCAweDBBKSwKKwlfSU5JVF9EQ1NfQ01E
KDB4RDksIDB4MEEpLAorCV9JTklUX0RDU19DTUQoMHhDMiwgMHgwQiksCisJX0lOSVRfRENTX0NN
RCgweEMzLCAweDBCKSwKKwlfSU5JVF9EQ1NfQ01EKDB4RDYsIDB4MEMpLAorCV9JTklUX0RDU19D
TUQoMHhENywgMHgwQyksCisJX0lOSVRfRENTX0NNRCgweEMwLCAweDA1KSwKKwlfSU5JVF9EQ1Nf
Q01EKDB4QzEsIDB4MDUpLAorCV9JTklUX0RDU19DTUQoMHhENCwgMHgwNiksCisJX0lOSVRfRENT
X0NNRCgweEQ1LCAweDA2KSwKKwlfSU5JVF9EQ1NfQ01EKDB4Q0EsIDB4MDcpLAorCV9JTklUX0RD
U19DTUQoMHhDQiwgMHgwNyksCisJX0lOSVRfRENTX0NNRCgweERFLCAweDA4KSwKKwlfSU5JVF9E
Q1NfQ01EKDB4REYsIDB4MDgpLAorCV9JTklUX0RDU19DTUQoMHhCMCwgMHgwMiksCisJX0lOSVRf
RENTX0NNRCgweEMwLCAweDAwKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzEsIDB4MEQpLAorCV9JTklU
X0RDU19DTUQoMHhDMiwgMHgxNyksCisJX0lOSVRfRENTX0NNRCgweEMzLCAweDI2KSwKKwlfSU5J
VF9EQ1NfQ01EKDB4QzQsIDB4MzEpLAorCV9JTklUX0RDU19DTUQoMHhDNSwgMHgxQyksCisJX0lO
SVRfRENTX0NNRCgweEM2LCAweDJDKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzcsIDB4MzMpLAorCV9J
TklUX0RDU19DTUQoMHhDOCwgMHgzMSksCisJX0lOSVRfRENTX0NNRCgweEM5LCAweDM3KSwKKwlf
SU5JVF9EQ1NfQ01EKDB4Q0EsIDB4MzcpLAorCV9JTklUX0RDU19DTUQoMHhDQiwgMHgzNyksCisJ
X0lOSVRfRENTX0NNRCgweENDLCAweDM5KSwKKwlfSU5JVF9EQ1NfQ01EKDB4Q0QsIDB4MkUpLAor
CV9JTklUX0RDU19DTUQoMHhDRSwgMHgyRiksCisJX0lOSVRfRENTX0NNRCgweENGLCAweDJGKSwK
KwlfSU5JVF9EQ1NfQ01EKDB4RDAsIDB4MDcpLAorCV9JTklUX0RDU19DTUQoMHhEMiwgMHgwMCks
CisJX0lOSVRfRENTX0NNRCgweEQzLCAweDBEKSwKKwlfSU5JVF9EQ1NfQ01EKDB4RDQsIDB4MTcp
LAorCV9JTklUX0RDU19DTUQoMHhENSwgMHgyNiksCisJX0lOSVRfRENTX0NNRCgweEQ2LCAweDMx
KSwKKwlfSU5JVF9EQ1NfQ01EKDB4RDcsIDB4M0YpLAorCV9JTklUX0RDU19DTUQoMHhEOCwgMHgz
RiksCisJX0lOSVRfRENTX0NNRCgweEQ5LCAweDNGKSwKKwlfSU5JVF9EQ1NfQ01EKDB4REEsIDB4
M0YpLAorCV9JTklUX0RDU19DTUQoMHhEQiwgMHgzNyksCisJX0lOSVRfRENTX0NNRCgweERDLCAw
eDM3KSwKKwlfSU5JVF9EQ1NfQ01EKDB4REQsIDB4MzcpLAorCV9JTklUX0RDU19DTUQoMHhERSwg
MHgzOSksCisJX0lOSVRfRENTX0NNRCgweERGLCAweDJFKSwKKwlfSU5JVF9EQ1NfQ01EKDB4RTAs
IDB4MkYpLAorCV9JTklUX0RDU19DTUQoMHhFMSwgMHgyRiksCisJX0lOSVRfRENTX0NNRCgweEUy
LCAweDA3KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjAsIDB4MDMpLAorCV9JTklUX0RDU19DTUQoMHhD
OCwgMHgwQiksCisJX0lOSVRfRENTX0NNRCgweEM5LCAweDA3KSwKKwlfSU5JVF9EQ1NfQ01EKDB4
QzMsIDB4MDApLAorCV9JTklUX0RDU19DTUQoMHhFNywgMHgwMCksCisJX0lOSVRfRENTX0NNRCgw
eEM1LCAweDJBKSwKKwlfSU5JVF9EQ1NfQ01EKDB4REUsIDB4MkEpLAorCV9JTklUX0RDU19DTUQo
MHhDQSwgMHg0MyksCisJX0lOSVRfRENTX0NNRCgweEM5LCAweDA3KSwKKwlfSU5JVF9EQ1NfQ01E
KDB4RTQsIDB4QzApLAorCV9JTklUX0RDU19DTUQoMHhFNSwgMHgwRCksCisJX0lOSVRfRENTX0NN
RCgweENCLCAweDAwKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjAsIDB4MDYpLAorCV9JTklUX0RDU19D
TUQoMHhCOCwgMHhBNSksCisJX0lOSVRfRENTX0NNRCgweEMwLCAweEE1KSwKKwlfSU5JVF9EQ1Nf
Q01EKDB4QzcsIDB4MEYpLAorCV9JTklUX0RDU19DTUQoMHhENSwgMHgzMiksCisJX0lOSVRfRENT
X0NNRCgweEI4LCAweDAwKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzAsIDB4MDApLAorCV9JTklUX0RD
U19DTUQoMHhCQywgMHgwMCksCisJX0lOSVRfRENTX0NNRCgweEIwLCAweDA3KSwKKwlfSU5JVF9E
Q1NfQ01EKDB4QjEsIDB4MDApLAorCV9JTklUX0RDU19DTUQoMHhCMiwgMHgwMiksCisJX0lOSVRf
RENTX0NNRCgweEIzLCAweDBGKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjQsIDB4MjUpLAorCV9JTklU
X0RDU19DTUQoMHhCNSwgMHgzOSksCisJX0lOSVRfRENTX0NNRCgweEI2LCAweDRFKSwKKwlfSU5J
VF9EQ1NfQ01EKDB4QjcsIDB4NzIpLAorCV9JTklUX0RDU19DTUQoMHhCOCwgMHg5NyksCisJX0lO
SVRfRENTX0NNRCgweEI5LCAweERDKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QkEsIDB4MjIpLAorCV9J
TklUX0RDU19DTUQoMHhCQiwgMHhBNCksCisJX0lOSVRfRENTX0NNRCgweEJDLCAweDJCKSwKKwlf
SU5JVF9EQ1NfQ01EKDB4QkQsIDB4MkYpLAorCV9JTklUX0RDU19DTUQoMHhCRSwgMHhBOSksCisJ
X0lOSVRfRENTX0NNRCgweEJGLCAweDI1KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzAsIDB4NjEpLAor
CV9JTklUX0RDU19DTUQoMHhDMSwgMHg5NyksCisJX0lOSVRfRENTX0NNRCgweEMyLCAweEIyKSwK
KwlfSU5JVF9EQ1NfQ01EKDB4QzMsIDB4Q0QpLAorCV9JTklUX0RDU19DTUQoMHhDNCwgMHhEOSks
CisJX0lOSVRfRENTX0NNRCgweEM1LCAweEU3KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzYsIDB4RjQp
LAorCV9JTklUX0RDU19DTUQoMHhDNywgMHhGQSksCisJX0lOSVRfRENTX0NNRCgweEM4LCAweEZD
KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzksIDB4MDApLAorCV9JTklUX0RDU19DTUQoMHhDQSwgMHgw
MCksCisJX0lOSVRfRENTX0NNRCgweENCLCAweDE2KSwKKwlfSU5JVF9EQ1NfQ01EKDB4Q0MsIDB4
QUYpLAorCV9JTklUX0RDU19DTUQoMHhDRCwgMHhGRiksCisJX0lOSVRfRENTX0NNRCgweENFLCAw
eEZGKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjAsIDB4MDgpLAorCV9JTklUX0RDU19DTUQoMHhCMSwg
MHgwNCksCisJX0lOSVRfRENTX0NNRCgweEIyLCAweDA1KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjMs
IDB4MTEpLAorCV9JTklUX0RDU19DTUQoMHhCNCwgMHgyNCksCisJX0lOSVRfRENTX0NNRCgweEI1
LCAweDM5KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjYsIDB4NEYpLAorCV9JTklUX0RDU19DTUQoMHhC
NywgMHg3MiksCisJX0lOSVRfRENTX0NNRCgweEI4LCAweDk4KSwKKwlfSU5JVF9EQ1NfQ01EKDB4
QjksIDB4REMpLAorCV9JTklUX0RDU19DTUQoMHhCQSwgMHgyMyksCisJX0lOSVRfRENTX0NNRCgw
eEJCLCAweEE2KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QkMsIDB4MkMpLAorCV9JTklUX0RDU19DTUQo
MHhCRCwgMHgzMCksCisJX0lOSVRfRENTX0NNRCgweEJFLCAweEFBKSwKKwlfSU5JVF9EQ1NfQ01E
KDB4QkYsIDB4MjYpLAorCV9JTklUX0RDU19DTUQoMHhDMCwgMHg2MiksCisJX0lOSVRfRENTX0NN
RCgweEMxLCAweDlCKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzIsIDB4QjUpLAorCV9JTklUX0RDU19D
TUQoMHhDMywgMHhDRiksCisJX0lOSVRfRENTX0NNRCgweEM0LCAweERCKSwKKwlfSU5JVF9EQ1Nf
Q01EKDB4QzUsIDB4RTgpLAorCV9JTklUX0RDU19DTUQoMHhDNiwgMHhGNSksCisJX0lOSVRfRENT
X0NNRCgweEM3LCAweEZBKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzgsIDB4RkMpLAorCV9JTklUX0RD
U19DTUQoMHhDOSwgMHgwMCksCisJX0lOSVRfRENTX0NNRCgweENBLCAweDAwKSwKKwlfSU5JVF9E
Q1NfQ01EKDB4Q0IsIDB4MTYpLAorCV9JTklUX0RDU19DTUQoMHhDQywgMHhBRiksCisJX0lOSVRf
RENTX0NNRCgweENELCAweEZGKSwKKwlfSU5JVF9EQ1NfQ01EKDB4Q0UsIDB4RkYpLAorCV9JTklU
X0RDU19DTUQoMHhCMCwgMHgwOSksCisJX0lOSVRfRENTX0NNRCgweEIxLCAweDA0KSwKKwlfSU5J
VF9EQ1NfQ01EKDB4QjIsIDB4MDIpLAorCV9JTklUX0RDU19DTUQoMHhCMywgMHgxNiksCisJX0lO
SVRfRENTX0NNRCgweEI0LCAweDI0KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjUsIDB4M0IpLAorCV9J
TklUX0RDU19DTUQoMHhCNiwgMHg0RiksCisJX0lOSVRfRENTX0NNRCgweEI3LCAweDczKSwKKwlf
SU5JVF9EQ1NfQ01EKDB4QjgsIDB4OTkpLAorCV9JTklUX0RDU19DTUQoMHhCOSwgMHhFMCksCisJ
X0lOSVRfRENTX0NNRCgweEJBLCAweDI2KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QkIsIDB4QUQpLAor
CV9JTklUX0RDU19DTUQoMHhCQywgMHgzNiksCisJX0lOSVRfRENTX0NNRCgweEJELCAweDNBKSwK
KwlfSU5JVF9EQ1NfQ01EKDB4QkUsIDB4QUUpLAorCV9JTklUX0RDU19DTUQoMHhCRiwgMHgyQSks
CisJX0lOSVRfRENTX0NNRCgweEMwLCAweDY2KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzEsIDB4OUUp
LAorCV9JTklUX0RDU19DTUQoMHhDMiwgMHhCOCksCisJX0lOSVRfRENTX0NNRCgweEMzLCAweEQx
KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzQsIDB4REQpLAorCV9JTklUX0RDU19DTUQoMHhDNSwgMHhF
OSksCisJX0lOSVRfRENTX0NNRCgweEM2LCAweEY2KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzcsIDB4
RkEpLAorCV9JTklUX0RDU19DTUQoMHhDOCwgMHhGQyksCisJX0lOSVRfRENTX0NNRCgweEM5LCAw
eDAwKSwKKwlfSU5JVF9EQ1NfQ01EKDB4Q0EsIDB4MDApLAorCV9JTklUX0RDU19DTUQoMHhDQiwg
MHgxNiksCisJX0lOSVRfRENTX0NNRCgweENDLCAweEFGKSwKKwlfSU5JVF9EQ1NfQ01EKDB4Q0Qs
IDB4RkYpLAorCV9JTklUX0RDU19DTUQoMHhDRSwgMHhGRiksCisJX0lOSVRfRENTX0NNRCgweEIw
LCAweDBBKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjEsIDB4MDApLAorCV9JTklUX0RDU19DTUQoMHhC
MiwgMHgwMiksCisJX0lOSVRfRENTX0NNRCgweEIzLCAweDBGKSwKKwlfSU5JVF9EQ1NfQ01EKDB4
QjQsIDB4MjUpLAorCV9JTklUX0RDU19DTUQoMHhCNSwgMHgzOSksCisJX0lOSVRfRENTX0NNRCgw
eEI2LCAweDRFKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjcsIDB4NzIpLAorCV9JTklUX0RDU19DTUQo
MHhCOCwgMHg5NyksCisJX0lOSVRfRENTX0NNRCgweEI5LCAweERDKSwKKwlfSU5JVF9EQ1NfQ01E
KDB4QkEsIDB4MjIpLAorCV9JTklUX0RDU19DTUQoMHhCQiwgMHhBNCksCisJX0lOSVRfRENTX0NN
RCgweEJDLCAweDJCKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QkQsIDB4MkYpLAorCV9JTklUX0RDU19D
TUQoMHhCRSwgMHhBOSksCisJX0lOSVRfRENTX0NNRCgweEJGLCAweDI1KSwKKwlfSU5JVF9EQ1Nf
Q01EKDB4QzAsIDB4NjEpLAorCV9JTklUX0RDU19DTUQoMHhDMSwgMHg5NyksCisJX0lOSVRfRENT
X0NNRCgweEMyLCAweEIyKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzMsIDB4Q0QpLAorCV9JTklUX0RD
U19DTUQoMHhDNCwgMHhEOSksCisJX0lOSVRfRENTX0NNRCgweEM1LCAweEU3KSwKKwlfSU5JVF9E
Q1NfQ01EKDB4QzYsIDB4RjQpLAorCV9JTklUX0RDU19DTUQoMHhDNywgMHhGQSksCisJX0lOSVRf
RENTX0NNRCgweEM4LCAweEZDKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzksIDB4MDApLAorCV9JTklU
X0RDU19DTUQoMHhDQSwgMHgwMCksCisJX0lOSVRfRENTX0NNRCgweENCLCAweDE2KSwKKwlfSU5J
VF9EQ1NfQ01EKDB4Q0MsIDB4QUYpLAorCV9JTklUX0RDU19DTUQoMHhDRCwgMHhGRiksCisJX0lO
SVRfRENTX0NNRCgweENFLCAweEZGKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjAsIDB4MEIpLAorCV9J
TklUX0RDU19DTUQoMHhCMSwgMHgwNCksCisJX0lOSVRfRENTX0NNRCgweEIyLCAweDA1KSwKKwlf
SU5JVF9EQ1NfQ01EKDB4QjMsIDB4MTEpLAorCV9JTklUX0RDU19DTUQoMHhCNCwgMHgyNCksCisJ
X0lOSVRfRENTX0NNRCgweEI1LCAweDM5KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjYsIDB4NEYpLAor
CV9JTklUX0RDU19DTUQoMHhCNywgMHg3MiksCisJX0lOSVRfRENTX0NNRCgweEI4LCAweDk4KSwK
KwlfSU5JVF9EQ1NfQ01EKDB4QjksIDB4REMpLAorCV9JTklUX0RDU19DTUQoMHhCQSwgMHgyMyks
CisJX0lOSVRfRENTX0NNRCgweEJCLCAweEE2KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QkMsIDB4MkMp
LAorCV9JTklUX0RDU19DTUQoMHhCRCwgMHgzMCksCisJX0lOSVRfRENTX0NNRCgweEJFLCAweEFB
KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QkYsIDB4MjYpLAorCV9JTklUX0RDU19DTUQoMHhDMCwgMHg2
MiksCisJX0lOSVRfRENTX0NNRCgweEMxLCAweDlCKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzIsIDB4
QjUpLAorCV9JTklUX0RDU19DTUQoMHhDMywgMHhDRiksCisJX0lOSVRfRENTX0NNRCgweEM0LCAw
eERCKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzUsIDB4RTgpLAorCV9JTklUX0RDU19DTUQoMHhDNiwg
MHhGNSksCisJX0lOSVRfRENTX0NNRCgweEM3LCAweEZBKSwKKwlfSU5JVF9EQ1NfQ01EKDB4Qzgs
IDB4RkMpLAorCV9JTklUX0RDU19DTUQoMHhDOSwgMHgwMCksCisJX0lOSVRfRENTX0NNRCgweENB
LCAweDAwKSwKKwlfSU5JVF9EQ1NfQ01EKDB4Q0IsIDB4MTYpLAorCV9JTklUX0RDU19DTUQoMHhD
QywgMHhBRiksCisJX0lOSVRfRENTX0NNRCgweENELCAweEZGKSwKKwlfSU5JVF9EQ1NfQ01EKDB4
Q0UsIDB4RkYpLAorCV9JTklUX0RDU19DTUQoMHhCMCwgMHgwQyksCisJX0lOSVRfRENTX0NNRCgw
eEIxLCAweDA0KSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjIsIDB4MDIpLAorCV9JTklUX0RDU19DTUQo
MHhCMywgMHgxNiksCisJX0lOSVRfRENTX0NNRCgweEI0LCAweDI0KSwKKwlfSU5JVF9EQ1NfQ01E
KDB4QjUsIDB4M0IpLAorCV9JTklUX0RDU19DTUQoMHhCNiwgMHg0RiksCisJX0lOSVRfRENTX0NN
RCgweEI3LCAweDczKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjgsIDB4OTkpLAorCV9JTklUX0RDU19D
TUQoMHhCOSwgMHhFMCksCisJX0lOSVRfRENTX0NNRCgweEJBLCAweDI2KSwKKwlfSU5JVF9EQ1Nf
Q01EKDB4QkIsIDB4QUQpLAorCV9JTklUX0RDU19DTUQoMHhCQywgMHgzNiksCisJX0lOSVRfRENT
X0NNRCgweEJELCAweDNBKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QkUsIDB4QUUpLAorCV9JTklUX0RD
U19DTUQoMHhCRiwgMHgyQSksCisJX0lOSVRfRENTX0NNRCgweEMwLCAweDY2KSwKKwlfSU5JVF9E
Q1NfQ01EKDB4QzEsIDB4OUUpLAorCV9JTklUX0RDU19DTUQoMHhDMiwgMHhCOCksCisJX0lOSVRf
RENTX0NNRCgweEMzLCAweEQxKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QzQsIDB4REQpLAorCV9JTklU
X0RDU19DTUQoMHhDNSwgMHhFOSksCisJX0lOSVRfRENTX0NNRCgweEM2LCAweEY2KSwKKwlfSU5J
VF9EQ1NfQ01EKDB4QzcsIDB4RkEpLAorCV9JTklUX0RDU19DTUQoMHhDOCwgMHhGQyksCisJX0lO
SVRfRENTX0NNRCgweEM5LCAweDAwKSwKKwlfSU5JVF9EQ1NfQ01EKDB4Q0EsIDB4MDApLAorCV9J
TklUX0RDU19DTUQoMHhDQiwgMHgxNiksCisJX0lOSVRfRENTX0NNRCgweENDLCAweEFGKSwKKwlf
SU5JVF9EQ1NfQ01EKDB4Q0QsIDB4RkYpLAorCV9JTklUX0RDU19DTUQoMHhDRSwgMHhGRiksCisJ
X0lOSVRfRENTX0NNRCgweEIwLCAweDAwKSwKKwlfSU5JVF9EQ1NfQ01EKDB4QjMsIDB4MDgpLAor
CV9JTklUX0RDU19DTUQoMHhCMCwgMHgwNCksCisJX0lOSVRfRENTX0NNRCgweEI4LCAweDY4KSwK
KwlfSU5JVF9ERUxBWV9DTUQoMTUwKSwKKwl7fSwKK307CisKK3N0YXRpYyBpbmxpbmUgc3RydWN0
IGJvZV9wYW5lbCAqdG9fYm9lX3BhbmVsKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQoreworCXJl
dHVybiBjb250YWluZXJfb2YocGFuZWwsIHN0cnVjdCBib2VfcGFuZWwsIGJhc2UpOworfQorCitz
dGF0aWMgaW50IGJvZV9wYW5lbF9pbml0KHN0cnVjdCBib2VfcGFuZWwgKmJvZSkKK3sKKwlzdHJ1
Y3QgbWlwaV9kc2lfZGV2aWNlICpkc2kgPSBib2UtPmRzaTsKKwlzdHJ1Y3QgZHJtX3BhbmVsICpw
YW5lbCA9ICZib2UtPmJhc2U7CisJaW50IGVyciwgaTsKKworCWlmIChib2UtPmRlc2MtPmluaXRf
Y21kcykgeworCQljb25zdCBzdHJ1Y3QgcGFuZWxfaW5pdF9jbWQgKmluaXRfY21kcyA9IGJvZS0+
ZGVzYy0+aW5pdF9jbWRzOworCisJCWZvciAoaSA9IDA7IGluaXRfY21kc1tpXS5sZW4gIT0gMDsg
aSsrKSB7CisJCQljb25zdCBzdHJ1Y3QgcGFuZWxfaW5pdF9jbWQgKmNtZCA9ICZpbml0X2NtZHNb
aV07CisKKwkJCXN3aXRjaCAoY21kLT50eXBlKSB7CisJCQljYXNlIERFTEFZX0NNRDoKKwkJCQlt
c2xlZXAoY21kLT5kYXRhWzBdKTsKKwkJCQllcnIgPSAwOworCQkJCWJyZWFrOworCisJCQljYXNl
IElOSVRfRENTX0NNRDoKKwkJCQllcnIgPSBtaXBpX2RzaV9kY3Nfd3JpdGUoZHNpLCBjbWQtPmRh
dGFbMF0sCisJCQkJCQkJIGNtZC0+bGVuIDw9IDEgPyBOVUxMIDoKKwkJCQkJCQkgJmNtZC0+ZGF0
YVsxXSwKKwkJCQkJCQkgY21kLT5sZW4gLSAxKTsKKwkJCQlicmVhazsKKwkJCX0KKworCQkJaWYg
KGVyciA8IDApIHsKKwkJCQlkZXZfZXJyKHBhbmVsLT5kZXYsCisJCQkJCSJmYWlsZWQgdG8gd3Jp
dGUgY29tbWFuZCAldVxuIiwgaSk7CisJCQkJcmV0dXJuIGVycjsKKwkJCX0KKwkJfQorCX0KKwly
ZXR1cm4gMDsKK30KKworc3RhdGljIGludCBib2VfcGFuZWxfb2ZmKHN0cnVjdCBib2VfcGFuZWwg
KmJvZSkKK3sKKwlzdHJ1Y3QgbWlwaV9kc2lfZGV2aWNlICpkc2kgPSBib2UtPmRzaTsKKwlpbnQg
cmV0OworCisJZHNpLT5tb2RlX2ZsYWdzICY9IH5NSVBJX0RTSV9NT0RFX0xQTTsKKworCXJldCA9
IG1pcGlfZHNpX2Rjc19lbnRlcl9zbGVlcF9tb2RlKGRzaSk7CisJaWYgKHJldCA8IDApCisJCXJl
dHVybiByZXQ7CisKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIGludCBib2VfcGFuZWxfZGlzYWJs
ZShzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKK3sKKwlzdHJ1Y3QgYm9lX3BhbmVsICpib2UgPSB0
b19ib2VfcGFuZWwocGFuZWwpOworCisJaWYgKCFib2UtPmVuYWJsZWQpCisJCXJldHVybiAwOwor
CisJYmFja2xpZ2h0X2Rpc2FibGUoYm9lLT5iYWNrbGlnaHQpOworCisJYm9lLT5lbmFibGVkID0g
ZmFsc2U7CisKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIGludCBib2VfcGFuZWxfdW5wcmVwYXJl
KHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQoreworCXN0cnVjdCBib2VfcGFuZWwgKmJvZSA9IHRv
X2JvZV9wYW5lbChwYW5lbCk7CisJaW50IHJldDsKKworCWlmICghYm9lLT5wcmVwYXJlZCkKKwkJ
cmV0dXJuIDA7CisKKwlyZXQgPSBib2VfcGFuZWxfb2ZmKGJvZSk7CisJaWYgKHJldCA8IDApIHsK
KwkJZGV2X2VycihwYW5lbC0+ZGV2LCAiZmFpbGVkIHRvIHNldCBwYW5lbCBvZmY6ICVkXG4iLCBy
ZXQpOworCQlyZXR1cm4gcmV0OworCX0KKworCW1zbGVlcCgxNTApOworCWdwaW9kX3NldF92YWx1
ZShib2UtPmVuYWJsZV9ncGlvLCAwKTsKKwl1c2xlZXBfcmFuZ2UoNTAwLCAxMDAwKTsKKwlyZWd1
bGF0b3JfZGlzYWJsZShib2UtPmF2ZWUpOworCXJlZ3VsYXRvcl9kaXNhYmxlKGJvZS0+YXZkZCk7
CisJdXNsZWVwX3JhbmdlKDUwMDAsIDcwMDApOworCXJlZ3VsYXRvcl9kaXNhYmxlKGJvZS0+cHAx
ODAwKTsKKworCWJvZS0+cHJlcGFyZWQgPSBmYWxzZTsKKworCXJldHVybiAwOworfQorCitzdGF0
aWMgaW50IGJvZV9wYW5lbF9wcmVwYXJlKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQoreworCXN0
cnVjdCBib2VfcGFuZWwgKmJvZSA9IHRvX2JvZV9wYW5lbChwYW5lbCk7CisJaW50IHJldDsKKwor
CWlmIChib2UtPnByZXBhcmVkKQorCQlyZXR1cm4gMDsKKworCWdwaW9kX3NldF92YWx1ZShib2Ut
PmVuYWJsZV9ncGlvLCAwKTsKKwl1c2xlZXBfcmFuZ2UoMTAwMCwgMTUwMCk7CisKKwlyZXQgPSBy
ZWd1bGF0b3JfZW5hYmxlKGJvZS0+cHAxODAwKTsKKwlpZiAocmV0IDwgMCkKKwkJcmV0dXJuIHJl
dDsKKworCXVzbGVlcF9yYW5nZSgzMDAwLCA1MDAwKTsKKworCXJldCA9IHJlZ3VsYXRvcl9lbmFi
bGUoYm9lLT5hdmRkKTsKKwlpZiAocmV0IDwgMCkKKwkJZ290byBwb3dlcm9mZjF2ODsKKwlyZXQg
PSByZWd1bGF0b3JfZW5hYmxlKGJvZS0+YXZlZSk7CisJaWYgKHJldCA8IDApCisJCWdvdG8gcG93
ZXJvZmZhdmRkOworCisJbXNsZWVwKDEwMCk7CisKKwlncGlvZF9zZXRfdmFsdWUoYm9lLT5lbmFi
bGVfZ3BpbywgMSk7CisJdXNsZWVwX3JhbmdlKDEwMDAwLCAxMjAwMCk7CisKKwlyZXQgPSBib2Vf
cGFuZWxfaW5pdChib2UpOworCWlmIChyZXQgPCAwKSB7CisJCWRldl9lcnIocGFuZWwtPmRldiwg
ImZhaWxlZCB0byBpbml0IHBhbmVsOiAlZFxuIiwgcmV0KTsKKwkJZ290byBwb3dlcm9mZjsKKwl9
CisKKwlib2UtPnByZXBhcmVkID0gdHJ1ZTsKKworCXJldHVybiAwOworCitwb3dlcm9mZjoKKwly
ZWd1bGF0b3JfZGlzYWJsZShib2UtPmF2ZWUpOworcG93ZXJvZmZhdmRkOgorCXJlZ3VsYXRvcl9k
aXNhYmxlKGJvZS0+YXZkZCk7Citwb3dlcm9mZjF2ODoKKwl1c2xlZXBfcmFuZ2UoNTAwMCwgNzAw
MCk7CisJcmVndWxhdG9yX2Rpc2FibGUoYm9lLT5wcDE4MDApOworCWdwaW9kX3NldF92YWx1ZShi
b2UtPmVuYWJsZV9ncGlvLCAwKTsKKworCXJldHVybiByZXQ7Cit9CisKK3N0YXRpYyBpbnQgYm9l
X3BhbmVsX2VuYWJsZShzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKK3sKKwlzdHJ1Y3QgYm9lX3Bh
bmVsICpib2UgPSB0b19ib2VfcGFuZWwocGFuZWwpOworCWludCByZXQ7CisKKwlpZiAoYm9lLT5l
bmFibGVkKQorCQlyZXR1cm4gMDsKKworCXJldCA9IGJhY2tsaWdodF9lbmFibGUoYm9lLT5iYWNr
bGlnaHQpOworCWlmIChyZXQpIHsKKwkJZGV2X2VycihwYW5lbC0+ZGV2LCAiRmFpbGVkIHRvIGVu
YWJsZSBiYWNrbGlnaHQgJWRcbiIsCisJCQlyZXQpOworCQlyZXR1cm4gcmV0OworCX0KKworCWJv
ZS0+ZW5hYmxlZCA9IHRydWU7CisKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIGNvbnN0IHN0cnVj
dCBkcm1fZGlzcGxheV9tb2RlIGJvZV90djEwMXd1bV9ubDZfZGVmYXVsdF9tb2RlID0geworCS5j
bG9jayA9IDE1OTQyNSwKKwkuaGRpc3BsYXkgPSAxMjAwLAorCS5oc3luY19zdGFydCA9IDEyMDAg
KyAxMDAsCisJLmhzeW5jX2VuZCA9IDEyMDAgKyAxMDAgKyA0MCwKKwkuaHRvdGFsID0gMTIwMCAr
IDEwMCArIDQwICsgMjQsCisJLnZkaXNwbGF5ID0gMTkyMCwKKwkudnN5bmNfc3RhcnQgPSAxOTIw
ICsgMTAsCisJLnZzeW5jX2VuZCA9IDE5MjAgKyAxMCArIDE0LAorCS52dG90YWwgPSAxOTIwICsg
MTAgKyAxNCArIDQsCisJLnZyZWZyZXNoID0gNjAsCit9OworCitzdGF0aWMgY29uc3Qgc3RydWN0
IHBhbmVsX2Rlc2MgYm9lX3R2MTAxd3VtX25sNl9kZXNjID0geworCS5tb2RlcyA9ICZib2VfdHYx
MDF3dW1fbmw2X2RlZmF1bHRfbW9kZSwKKwkuYnBjID0gOCwKKwkuc2l6ZSA9IHsKKwkJLndpZHRo
X21tID0gMTM1LAorCQkuaGVpZ2h0X21tID0gMjE2LAorCX0sCisJLmxhbmVzID0gNCwKKwkuZm9y
bWF0ID0gTUlQSV9EU0lfRk1UX1JHQjg4OCwKKwkubW9kZV9mbGFncyA9IE1JUElfRFNJX01PREVf
VklERU8gfCBNSVBJX0RTSV9NT0RFX1ZJREVPX1NZTkNfUFVMU0UgfAorCQkgICAgICBNSVBJX0RT
SV9NT0RFX0xQTSwKKwkuaW5pdF9jbWRzID0gYm9lX2luaXRfY21kLAorfTsKKworc3RhdGljIGlu
dCBib2VfcGFuZWxfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQoreworCXN0cnVj
dCBib2VfcGFuZWwgKmJvZSA9IHRvX2JvZV9wYW5lbChwYW5lbCk7CisJY29uc3Qgc3RydWN0IGRy
bV9kaXNwbGF5X21vZGUgKm0gPSBib2UtPmRlc2MtPm1vZGVzOworCXN0cnVjdCBkcm1fZGlzcGxh
eV9tb2RlICptb2RlOworCisJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShwYW5lbC0+ZHJtLCBt
KTsKKwlpZiAoIW1vZGUpIHsKKwkJZGV2X2VycihwYW5lbC0+ZGV2LCAiZmFpbGVkIHRvIGFkZCBt
b2RlICV1eCV1QCV1XG4iLAorCQkJbS0+aGRpc3BsYXksIG0tPnZkaXNwbGF5LCBtLT52cmVmcmVz
aCk7CisJCXJldHVybiAtRU5PTUVNOworCX0KKworCW1vZGUtPnR5cGUgPSBEUk1fTU9ERV9UWVBF
X0RSSVZFUiB8IERSTV9NT0RFX1RZUEVfUFJFRkVSUkVEOworCWRybV9tb2RlX3NldF9uYW1lKG1v
ZGUpOworCWRybV9tb2RlX3Byb2JlZF9hZGQocGFuZWwtPmNvbm5lY3RvciwgbW9kZSk7CisKKwlw
YW5lbC0+Y29ubmVjdG9yLT5kaXNwbGF5X2luZm8ud2lkdGhfbW0gPSBib2UtPmRlc2MtPnNpemUu
d2lkdGhfbW07CisJcGFuZWwtPmNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLmhlaWdodF9tbSA9IGJv
ZS0+ZGVzYy0+c2l6ZS5oZWlnaHRfbW07CisJcGFuZWwtPmNvbm5lY3Rvci0+ZGlzcGxheV9pbmZv
LmJwYyA9IGJvZS0+ZGVzYy0+YnBjOworCisJcmV0dXJuIDE7Cit9CisKK3N0YXRpYyBjb25zdCBz
dHJ1Y3QgZHJtX3BhbmVsX2Z1bmNzIGJvZV9wYW5lbF9mdW5jcyA9IHsKKwkuZGlzYWJsZSA9IGJv
ZV9wYW5lbF9kaXNhYmxlLAorCS51bnByZXBhcmUgPSBib2VfcGFuZWxfdW5wcmVwYXJlLAorCS5w
cmVwYXJlID0gYm9lX3BhbmVsX3ByZXBhcmUsCisJLmVuYWJsZSA9IGJvZV9wYW5lbF9lbmFibGUs
CisJLmdldF9tb2RlcyA9IGJvZV9wYW5lbF9nZXRfbW9kZXMsCit9OworCitzdGF0aWMgaW50IGJv
ZV9wYW5lbF9hZGQoc3RydWN0IGJvZV9wYW5lbCAqYm9lKQoreworCXN0cnVjdCBkZXZpY2UgKmRl
diA9ICZib2UtPmRzaS0+ZGV2OworCisJYm9lLT5hdmRkID0gZGV2bV9yZWd1bGF0b3JfZ2V0KGRl
diwgImF2ZGQiKTsKKwlpZiAoSVNfRVJSKGJvZS0+YXZkZCkpCisJCXJldHVybiBQVFJfRVJSKGJv
ZS0+YXZkZCk7CisKKwlib2UtPmF2ZWUgPSBkZXZtX3JlZ3VsYXRvcl9nZXQoZGV2LCAiYXZlZSIp
OworCWlmIChJU19FUlIoYm9lLT5hdmVlKSkKKwkJcmV0dXJuIFBUUl9FUlIoYm9lLT5hdmVlKTsK
KworCWJvZS0+cHAxODAwID0gZGV2bV9yZWd1bGF0b3JfZ2V0KGRldiwgInBwMTgwMCIpOworCWlm
IChJU19FUlIoYm9lLT5wcDE4MDApKQorCQlyZXR1cm4gUFRSX0VSUihib2UtPnBwMTgwMCk7CisK
Kwlib2UtPmVuYWJsZV9ncGlvID0gZGV2bV9ncGlvZF9nZXQoZGV2LCAiZW5hYmxlIiwgR1BJT0Rf
T1VUX0xPVyk7CisJaWYgKElTX0VSUihib2UtPmVuYWJsZV9ncGlvKSkgeworCQlkZXZfZXJyKGRl
diwgImNhbm5vdCBnZXQgcmVzZXQtZ3Bpb3MgJWxkXG4iLAorCQkJUFRSX0VSUihib2UtPmVuYWJs
ZV9ncGlvKSk7CisJCXJldHVybiBQVFJfRVJSKGJvZS0+ZW5hYmxlX2dwaW8pOworCX0KKworCWdw
aW9kX3NldF92YWx1ZShib2UtPmVuYWJsZV9ncGlvLCAwKTsKKworCWJvZS0+YmFja2xpZ2h0ID0g
ZGV2bV9vZl9maW5kX2JhY2tsaWdodChkZXYpOworCWlmIChJU19FUlIoYm9lLT5iYWNrbGlnaHQp
KQorCQlyZXR1cm4gUFRSX0VSUihib2UtPmJhY2tsaWdodCk7CisKKwlkcm1fcGFuZWxfaW5pdCgm
Ym9lLT5iYXNlKTsKKwlib2UtPmJhc2UuZnVuY3MgPSAmYm9lX3BhbmVsX2Z1bmNzOworCWJvZS0+
YmFzZS5kZXYgPSAmYm9lLT5kc2ktPmRldjsKKworCXJldHVybiBkcm1fcGFuZWxfYWRkKCZib2Ut
PmJhc2UpOworfQorCitzdGF0aWMgaW50IGJvZV9wYW5lbF9wcm9iZShzdHJ1Y3QgbWlwaV9kc2lf
ZGV2aWNlICpkc2kpCit7CisJc3RydWN0IGJvZV9wYW5lbCAqYm9lOworCWludCByZXQ7CisJY29u
c3Qgc3RydWN0IHBhbmVsX2Rlc2MgKmRlc2M7CisKKwlib2UgPSBkZXZtX2t6YWxsb2MoJmRzaS0+
ZGV2LCBzaXplb2YoKmJvZSksIEdGUF9LRVJORUwpOworCWlmICghYm9lKQorCQlyZXR1cm4gLUVO
T01FTTsKKworCWRlc2MgPSBvZl9kZXZpY2VfZ2V0X21hdGNoX2RhdGEoJmRzaS0+ZGV2KTsKKwlk
c2ktPmxhbmVzID0gZGVzYy0+bGFuZXM7CisJZHNpLT5mb3JtYXQgPSBkZXNjLT5mb3JtYXQ7CisJ
ZHNpLT5tb2RlX2ZsYWdzID0gZGVzYy0+bW9kZV9mbGFnczsKKwlib2UtPmRlc2MgPSBkZXNjOwor
CWJvZS0+ZHNpID0gZHNpOworCXJldCA9IGJvZV9wYW5lbF9hZGQoYm9lKTsKKwlpZiAocmV0IDwg
MCkKKwkJcmV0dXJuIHJldDsKKworCW1pcGlfZHNpX3NldF9kcnZkYXRhKGRzaSwgYm9lKTsKKwor
CXJldHVybiBtaXBpX2RzaV9hdHRhY2goZHNpKTsKK30KKworc3RhdGljIGludCBib2VfcGFuZWxf
cmVtb3ZlKHN0cnVjdCBtaXBpX2RzaV9kZXZpY2UgKmRzaSkKK3sKKwlzdHJ1Y3QgYm9lX3BhbmVs
ICpib2UgPSBtaXBpX2RzaV9nZXRfZHJ2ZGF0YShkc2kpOworCWludCByZXQ7CisKKwlyZXQgPSBi
b2VfcGFuZWxfZGlzYWJsZSgmYm9lLT5iYXNlKTsKKwlpZiAocmV0IDwgMCkKKwkJZGV2X2Vycigm
ZHNpLT5kZXYsICJmYWlsZWQgdG8gZGlzYWJsZSBwYW5lbDogJWRcbiIsIHJldCk7CisKKwlyZXQg
PSBtaXBpX2RzaV9kZXRhY2goZHNpKTsKKwlpZiAocmV0IDwgMCkKKwkJZGV2X2VycigmZHNpLT5k
ZXYsICJmYWlsZWQgdG8gZGV0YWNoIGZyb20gRFNJIGhvc3Q6ICVkXG4iLCByZXQpOworCisJaWYg
KGJvZS0+YmFzZS5kZXYpCisJCWRybV9wYW5lbF9yZW1vdmUoJmJvZS0+YmFzZSk7CisKKwlyZXR1
cm4gMDsKK30KKworc3RhdGljIHZvaWQgYm9lX3BhbmVsX3NodXRkb3duKHN0cnVjdCBtaXBpX2Rz
aV9kZXZpY2UgKmRzaSkKK3sKKwlzdHJ1Y3QgYm9lX3BhbmVsICpib2UgPSBtaXBpX2RzaV9nZXRf
ZHJ2ZGF0YShkc2kpOworCisJYm9lX3BhbmVsX2Rpc2FibGUoJmJvZS0+YmFzZSk7Cit9CisKK3N0
YXRpYyBjb25zdCBzdHJ1Y3Qgb2ZfZGV2aWNlX2lkIGJvZV9vZl9tYXRjaFtdID0geworCXsgLmNv
bXBhdGlibGUgPSAiYm9lLHR2MTAxd3VtLW5sNiIsCisJICAuZGF0YSA9ICZib2VfdHYxMDF3dW1f
bmw2X2Rlc2MKKwl9LAorCXsgLyogc2VudGluZWwgKi8gfQorfTsKK01PRFVMRV9ERVZJQ0VfVEFC
TEUob2YsIGJvZV9vZl9tYXRjaCk7CisKK3N0YXRpYyBzdHJ1Y3QgbWlwaV9kc2lfZHJpdmVyIGJv
ZV9wYW5lbF9kcml2ZXIgPSB7CisJLmRyaXZlciA9IHsKKwkJLm5hbWUgPSAicGFuZWwtYm9lLXR2
MTAxd3VtLW5sNiIsCisJCS5vZl9tYXRjaF90YWJsZSA9IGJvZV9vZl9tYXRjaCwKKwl9LAorCS5w
cm9iZSA9IGJvZV9wYW5lbF9wcm9iZSwKKwkucmVtb3ZlID0gYm9lX3BhbmVsX3JlbW92ZSwKKwku
c2h1dGRvd24gPSBib2VfcGFuZWxfc2h1dGRvd24sCit9OworbW9kdWxlX21pcGlfZHNpX2RyaXZl
cihib2VfcGFuZWxfZHJpdmVyKTsKKworTU9EVUxFX0FVVEhPUigiSml0YW8gU2hpIDxqaXRhby5z
aGlAbWVkaWF0ZWsuY29tPiIpOworTU9EVUxFX0RFU0NSSVBUSU9OKCJCT0UgdHYxMDF3dW0tbmw2
IDEyMDB4MTkyMCB2aWRlbyBtb2RlIHBhbmVsIGRyaXZlciIpOworTU9EVUxFX0xJQ0VOU0UoIkdQ
TCB2MiIpOwotLSAKMi4yMS4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVz
a3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9k
cmktZGV2ZWw=
