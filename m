Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id E65842CD68
	for <lists+dri-devel@lfdr.de>; Tue, 28 May 2019 19:15:04 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E3BE46E283;
	Tue, 28 May 2019 17:14:55 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-pl1-x644.google.com (mail-pl1-x644.google.com
 [IPv6:2607:f8b0:4864:20::644])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 1F2296E02F;
 Tue, 28 May 2019 17:06:18 +0000 (UTC)
Received: by mail-pl1-x644.google.com with SMTP id bb3so978161plb.13;
 Tue, 28 May 2019 10:06:18 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id;
 bh=Ydxy9Vm+UUHZwMpZmWqub2N/J5c96RxBnZTvV04Gl14=;
 b=cmfGqEsEhnA3RH5WQuR3prZuOh7hHDPs0zSHyodhtxRgCdhqIlvC12ahlOnVvYIzdh
 XHoU9rjrdav++BBJpcWix/YyKwR2Z141IOEy15jhBxt0zCcFWTeuvyp70CxnkJMo+7nC
 Xr1g60An4UAmK5BpLZFmUm7oZui864KUsM9D175/kwaoBcBWJHqibligEAZVLHcb/dWk
 wK8kJiNdPey/0sgh3EgDXbVq/XvDMr1PcDQFxH3qP0bv8G3nSipSBzNGY3+jLT/yvc0K
 OQzYt3URzhSFPJZ0IuxiqdpS4YXU8/O7wUQWwpz4gW4z5DdkoMm+sOMQTA0JVYS2V7kc
 UwNA==
X-Gm-Message-State: APjAAAX2P6fgT7bevTXEuyaElFFObfi+i7r8kytBEghI7Bq9mcCNUW/a
 nBaJtPUhQYqSi5mELUy8I5M=
X-Google-Smtp-Source: APXvYqxls+cn2sXjlHyn6D8iVjW+UOFHhjpxNdLtDQqvOhi5/kU+v320BL5PCh326Dl2suuvmejkKA==
X-Received: by 2002:a17:902:e65:: with SMTP id
 92mr19595305plw.13.1559063177629; 
 Tue, 28 May 2019 10:06:17 -0700 (PDT)
Received: from aw-bldr-10.qualcomm.com (i-global254.qualcomm.com.
 [199.106.103.254])
 by smtp.gmail.com with ESMTPSA id q6sm11237483pfg.7.2019.05.28.10.06.16
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Tue, 28 May 2019 10:06:17 -0700 (PDT)
From: Jeffrey Hugo <jeffrey.l.hugo@gmail.com>
To: robdclark@gmail.com, sean@poorly.run, airlied@linux.ie, daniel@ffwll.ch,
 jcrouse@codeaurora.org
Subject: [PATCH] drm/msm/adreno: Add A540 support
Date: Tue, 28 May 2019 10:06:12 -0700
Message-Id: <20190528170612.39003-1-jeffrey.l.hugo@gmail.com>
X-Mailer: git-send-email 2.17.1
X-Mailman-Approved-At: Tue, 28 May 2019 17:13:51 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id;
 bh=Ydxy9Vm+UUHZwMpZmWqub2N/J5c96RxBnZTvV04Gl14=;
 b=VBFGbTRYbpvpsQaJMola+p9hgodWQnO9dpwCJV2aLSnit30517prjMQENqHtIGwKec
 zRGgYvrntvKFYeGj/tUTzOZkfL1d7Uo88EXsbqAj079cTcH8b93anIpfvXTZQ5HA25l2
 01vONSaBrJxnZK+4T1fdg7Uq9UQl6NhvfZP3CtQqyCKI+MelYu6dPka3tnZDbjeopYde
 RsWreMdTPI6FzwBVPBhtdzGMDSp84kAW0FFmB0KXtqRZ+QA7FVYPnNavB6Itmc/rV8Ci
 H5E45HlUri3gHBe/J1/QDffv01jUUBNlFFzmlnecr0NHnARtwmmBYMP5W7EGUUMGFrij
 yOTg==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: marc.w.gonzalez@free.fr, linux-arm-msm@vger.kernel.org,
 Jeffrey Hugo <jeffrey.l.hugo@gmail.com>, linux-kernel@vger.kernel.org,
 dri-devel@lists.freedesktop.org, bjorn.andersson@linaro.org,
 freedreno@lists.freedesktop.org
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIEE1NDAgaXMgYSBkZXJpdmF0aXZlIG9mIHRoZSBBNTMwLCBhbmQgaXMgZm91bmQgaW4gdGhl
IE1TTTg5OTggU29DLgoKU2lnbmVkLW9mZi1ieTogSmVmZnJleSBIdWdvIDxqZWZmcmV5LmwuaHVn
b0BnbWFpbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8vYTV4eF9ncHUuYyAg
ICAgIHwgMjIgKysrKysrKwogZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8vYTV4eF9wb3dlci5j
ICAgIHwgNzYgKysrKysrKysrKysrKysrKysrKysrLQogZHJpdmVycy9ncHUvZHJtL21zbS9hZHJl
bm8vYWRyZW5vX2RldmljZS5jIHwgMTggKysrKysKIGRyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5v
L2FkcmVub19ncHUuaCAgICB8ICA2ICsrCiA0IGZpbGVzIGNoYW5nZWQsIDExOSBpbnNlcnRpb25z
KCspLCAzIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRy
ZW5vL2E1eHhfZ3B1LmMgYi9kcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hNXh4X2dwdS5jCmlu
ZGV4IGU1ZmNlZmE0OWYxOS4uN2NhOGZkZTIyZmQ4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vbXNtL2FkcmVuby9hNXh4X2dwdS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5v
L2E1eHhfZ3B1LmMKQEAgLTMxOCwxMiArMzE4LDE5IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3Qgewog
CiB2b2lkIGE1eHhfc2V0X2h3Y2coc3RydWN0IG1zbV9ncHUgKmdwdSwgYm9vbCBzdGF0ZSkKIHsK
KwlzdHJ1Y3QgYWRyZW5vX2dwdSAqYWRyZW5vX2dwdSA9IHRvX2FkcmVub19ncHUoZ3B1KTsKIAl1
bnNpZ25lZCBpbnQgaTsKIAogCWZvciAoaSA9IDA7IGkgPCBBUlJBWV9TSVpFKGE1eHhfaHdjZyk7
IGkrKykKIAkJZ3B1X3dyaXRlKGdwdSwgYTV4eF9od2NnW2ldLm9mZnNldCwKIAkJCXN0YXRlID8g
YTV4eF9od2NnW2ldLnZhbHVlIDogMCk7CiAKKwlpZiAoYWRyZW5vX2lzX2E1NDAoYWRyZW5vX2dw
dSkpIHsKKwkJZ3B1X3dyaXRlKGdwdSwgUkVHX0E1WFhfUkJCTV9DTE9DS19IWVNUX0dQTVUsIDB4
MDAwMDAyMjIpOworCQlncHVfd3JpdGUoZ3B1LCBSRUdfQTVYWF9SQkJNX0NMT0NLX0RFTEFZX0dQ
TVUsIDB4MDAwMDA3NzApOworCQlncHVfd3JpdGUoZ3B1LCBSRUdfQTVYWF9SQkJNX0NMT0NLX0hZ
U1RfR1BNVSwgMHgwMDAwMDAwNCk7CisJfQorCiAJZ3B1X3dyaXRlKGdwdSwgUkVHX0E1WFhfUkJC
TV9DTE9DS19DTlRMLCBzdGF0ZSA/IDB4QUFBOEFBMDAgOiAwKTsKIAlncHVfd3JpdGUoZ3B1LCBS
RUdfQTVYWF9SQkJNX0lTREJfQ05ULCBzdGF0ZSA/IDB4MTgyIDogMHgxODApOwogfQpAQCAtNTA3
LDYgKzUxNCw5IEBAIHN0YXRpYyBpbnQgYTV4eF9od19pbml0KHN0cnVjdCBtc21fZ3B1ICpncHUp
CiAKIAlncHVfd3JpdGUoZ3B1LCBSRUdfQTVYWF9WQklGX1JPVU5EX1JPQklOX1FPU19BUkIsIDB4
MDAwMDAwMDMpOwogCisJaWYgKGFkcmVub19pc19hNTQwKGFkcmVub19ncHUpKQorCQlncHVfd3Jp
dGUoZ3B1LCBSRUdfQTVYWF9WQklGX0dBVEVfT0ZGX1dSUkVRX0VOLCAweDAwMDAwMDA5KTsKKwog
CS8qIE1ha2UgYWxsIGJsb2NrcyBjb250cmlidXRlIHRvIHRoZSBHUFUgQlVTWSBwZXJmIGNvdW50
ZXIgKi8KIAlncHVfd3JpdGUoZ3B1LCBSRUdfQTVYWF9SQkJNX1BFUkZDVFJfR1BVX0JVU1lfTUFT
S0VELCAweEZGRkZGRkZGKTsKIApAQCAtNTkyLDYgKzYwMiw4IEBAIHN0YXRpYyBpbnQgYTV4eF9o
d19pbml0KHN0cnVjdCBtc21fZ3B1ICpncHUpCiAJLyogU2V0IHRoZSBoaWdoZXN0IGJhbmsgYml0
ICovCiAJZ3B1X3dyaXRlKGdwdSwgUkVHX0E1WFhfVFBMMV9NT0RFX0NOVEwsIDIgPDwgNyk7CiAJ
Z3B1X3dyaXRlKGdwdSwgUkVHX0E1WFhfUkJfTU9ERV9DTlRMLCAyIDw8IDEpOworCWlmIChhZHJl
bm9faXNfYTU0MChhZHJlbm9fZ3B1KSkKKwkJZ3B1X3dyaXRlKGdwdSwgUkVHX0E1WFhfVUNIRV9E
QkdfRUNPX0NOVExfMiwgMik7CiAKIAkvKiBQcm90ZWN0IHJlZ2lzdGVycyBmcm9tIHRoZSBDUCAq
LwogCWdwdV93cml0ZShncHUsIFJFR19BNVhYX0NQX1BST1RFQ1RfQ05UTCwgMHgwMDAwMDAwNyk7
CkBAIC02NDIsNiArNjU0LDE2IEBAIHN0YXRpYyBpbnQgYTV4eF9od19pbml0KHN0cnVjdCBtc21f
Z3B1ICpncHUpCiAJCVJFR19BNVhYX1JCQk1fU0VDVklEX1RTQl9UUlVTVEVEX0JBU0VfSEksIDB4
MDAwMDAwMDApOwogCWdwdV93cml0ZShncHUsIFJFR19BNVhYX1JCQk1fU0VDVklEX1RTQl9UUlVT
VEVEX1NJWkUsIDB4MDAwMDAwMDApOwogCisJLyoKKwkgKiBWUEMgY29ybmVyIGNhc2Ugd2l0aCBs
b2NhbCBtZW1vcnkgbG9hZCBraWxsIGxlYWRzIHRvIGNvcnJ1cHQKKwkgKiBpbnRlcm5hbCBzdGF0
ZS4gTm9ybWFsIERpc2FibGUgZG9lcyBub3Qgd29yayBmb3IgYWxsIGE1eCBjaGlwcy4KKwkgKiBT
byBkbyB0aGUgZm9sbG93aW5nIHNldHRpbmcgdG8gZGlzYWJsZSBpdC4KKwkgKi8KKwlpZiAoYWRy
ZW5vX2dwdS0+aW5mby0+cXVpcmtzICYgQURSRU5PX1FVSVJLX0xNTE9BREtJTExfRElTQUJMRSkg
eworCQlncHVfcm13KGdwdSwgUkVHX0E1WFhfVlBDX0RCR19FQ09fQ05UTCwgMCwgQklUKDIzKSk7
CisJCWdwdV9ybXcoZ3B1LCAweEUwNCwgQklUKDE4KSwgMCk7IC8qUkVHX0E1WFhfSExTUV9EQkdf
RUNPX0NOVEwqLworCX0KKwogCXJldCA9IGFkcmVub19od19pbml0KGdwdSk7CiAJaWYgKHJldCkK
IAkJcmV0dXJuIHJldDsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2E1
eHhfcG93ZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2E1eHhfcG93ZXIuYwppbmRl
eCA3MGU2NWM5NGU1MjUuLjVjYjMyNWM2ZWI4ZiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L21zbS9hZHJlbm8vYTV4eF9wb3dlci5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5v
L2E1eHhfcG93ZXIuYwpAQCAtMzIsNiArMzIsMTggQEAKICNkZWZpbmUgQUdDX1BPV0VSX0NPTkZJ
R19QUk9EVUNUSU9OX0lEIDEKICNkZWZpbmUgQUdDX0lOSVRfTVNHX1ZBTFVFIDB4QkFCRUZBQ0UK
IAorLyogQUdDX0xNX0NPTkZJRyAoQTU0MCspICovCisjZGVmaW5lIEFHQ19MTV9DT05GSUcgKDEz
Ni80KQorI2RlZmluZSBBR0NfTE1fQ09ORklHX0dQVV9WRVJTSU9OX1NISUZUIDE3CisjZGVmaW5l
IEFHQ19MTV9DT05GSUdfRU5BQkxFX0dQTVVfQURBUFRJVkUgMQorI2RlZmluZSBBR0NfTE1fQ09O
RklHX1RIUk9UVExFX0RJU0FCTEUgKDIgPDwgOCkKKyNkZWZpbmUgQUdDX0xNX0NPTkZJR19JU0VO
U0VfRU5BQkxFICgxIDw8IDQpCisjZGVmaW5lIEFHQ19MTV9DT05GSUdfRU5BQkxFX0VSUk9SICgz
IDw8IDQpCisjZGVmaW5lIEFHQ19MTV9DT05GSUdfTExNX0VOQUJMRUQgKDEgPDwgMTYpCisjZGVm
aW5lIEFHQ19MTV9DT05GSUdfQkNMX0RJU0FCTEVEICgxIDw8IDI0KQorCisjZGVmaW5lIEFHQ19M
RVZFTF9DT05GSUcgKDE0MC80KQorCiBzdGF0aWMgc3RydWN0IHsKIAl1aW50MzJfdCByZWc7CiAJ
dWludDMyX3QgdmFsdWU7CkBAIC0xMTYsNyArMTI4LDcgQEAgc3RhdGljIGlubGluZSB1aW50MzJf
dCBfZ2V0X212b2x0cyhzdHJ1Y3QgbXNtX2dwdSAqZ3B1LCB1aW50MzJfdCBmcmVxKQogfQogCiAv
KiBTZXR1cCB0aGVybWFsIGxpbWl0IG1hbmFnZW1lbnQgKi8KLXN0YXRpYyB2b2lkIGE1eHhfbG1f
c2V0dXAoc3RydWN0IG1zbV9ncHUgKmdwdSkKK3N0YXRpYyB2b2lkIGE1MzBfbG1fc2V0dXAoc3Ry
dWN0IG1zbV9ncHUgKmdwdSkKIHsKIAlzdHJ1Y3QgYWRyZW5vX2dwdSAqYWRyZW5vX2dwdSA9IHRv
X2FkcmVub19ncHUoZ3B1KTsKIAlzdHJ1Y3QgYTV4eF9ncHUgKmE1eHhfZ3B1ID0gdG9fYTV4eF9n
cHUoYWRyZW5vX2dwdSk7CkBAIC0xNjUsNiArMTc3LDQ1IEBAIHN0YXRpYyB2b2lkIGE1eHhfbG1f
c2V0dXAoc3RydWN0IG1zbV9ncHUgKmdwdSkKIAlncHVfd3JpdGUoZ3B1LCBBR0NfSU5JVF9NU0df
TUFHSUMsIEFHQ19JTklUX01TR19WQUxVRSk7CiB9CiAKKyNkZWZpbmUgUEFZTE9BRF9TSVpFKF9z
aXplKSAoKF9zaXplKSAqIHNpemVvZih1MzIpKQorI2RlZmluZSBMTV9EQ1ZTX0xJTUlUIDEKKyNk
ZWZpbmUgTEVWRUxfQ09ORklHIH4oMHgzMDMpCisKK3N0YXRpYyB2b2lkIGE1NDBfbG1fc2V0dXAo
c3RydWN0IG1zbV9ncHUgKmdwdSkKK3sKKwlzdHJ1Y3QgYWRyZW5vX2dwdSAqYWRyZW5vX2dwdSA9
IHRvX2FkcmVub19ncHUoZ3B1KTsKKwl1MzIgY29uZmlnOworCisJLyogVGhlIGJhdHRlcnkgY3Vy
cmVudCBsaW1pdGVyIGlzbid0IGVuYWJsZWQgZm9yIEE1NDAgKi8KKwljb25maWcgPSBBR0NfTE1f
Q09ORklHX0JDTF9ESVNBQkxFRDsKKwljb25maWcgfD0gYWRyZW5vX2dwdS0+cmV2LnBhdGNoaWQg
PDwgQUdDX0xNX0NPTkZJR19HUFVfVkVSU0lPTl9TSElGVDsKKworCS8qIEZvciBub3cgZGlzYWJs
ZSBHUE1VIHNpZGUgdGhyb3R0bGluZyAqLworCWNvbmZpZyB8PSBBR0NfTE1fQ09ORklHX1RIUk9U
VExFX0RJU0FCTEU7CisKKwkvKiBVbnRpbCB3ZSBnZXQgY2xvY2sgc2NhbGluZyAwIGlzIGFsd2F5
cyB0aGUgYWN0aXZlIHBvd2VyIGxldmVsICovCisJZ3B1X3dyaXRlKGdwdSwgUkVHX0E1WFhfR1BN
VV9HUE1VX1ZPTFRBR0UsIDB4ODAwMDAwMDAgfCAwKTsKKworCS8qIEZpeGVkIGF0IDYwMDAgZm9y
IG5vdyAqLworCWdwdV93cml0ZShncHUsIFJFR19BNVhYX0dQTVVfR1BNVV9QV1JfVEhSRVNIT0xE
LCAweDgwMDAwMDAwIHwgNjAwMCk7CisKKwlncHVfd3JpdGUoZ3B1LCBBR0NfTVNHX1NUQVRFLCAw
eDgwMDAwMDAxKTsKKwlncHVfd3JpdGUoZ3B1LCBBR0NfTVNHX0NPTU1BTkQsIEFHQ19QT1dFUl9D
T05GSUdfUFJPRFVDVElPTl9JRCk7CisKKwlncHVfd3JpdGUoZ3B1LCBBR0NfTVNHX1BBWUxPQUQo
MCksIDU0NDgpOyAvL21hZ2ljIG51bWJlcj8KKwlncHVfd3JpdGUoZ3B1LCBBR0NfTVNHX1BBWUxP
QUQoMSksIDEpOworCisJZ3B1X3dyaXRlKGdwdSwgQUdDX01TR19QQVlMT0FEKDIpLCBfZ2V0X212
b2x0cyhncHUsIGdwdS0+ZmFzdF9yYXRlKSk7CisJZ3B1X3dyaXRlKGdwdSwgQUdDX01TR19QQVlM
T0FEKDMpLCBncHUtPmZhc3RfcmF0ZSAvIDEwMDAwMDApOworCisJZ3B1X3dyaXRlKGdwdSwgQUdD
X01TR19QQVlMT0FEKEFHQ19MTV9DT05GSUcpLCBjb25maWcpOworCWdwdV93cml0ZShncHUsIEFH
Q19NU0dfUEFZTE9BRChBR0NfTEVWRUxfQ09ORklHKSwgTEVWRUxfQ09ORklHKTsKKwlncHVfd3Jp
dGUoZ3B1LCBBR0NfTVNHX1BBWUxPQURfU0laRSwKKwlQQVlMT0FEX1NJWkUoQUdDX0xFVkVMX0NP
TkZJRyArIDEpKTsKKworCWdwdV93cml0ZShncHUsIEFHQ19JTklUX01TR19NQUdJQywgQUdDX0lO
SVRfTVNHX1ZBTFVFKTsKK30KKwogLyogRW5hYmxlIFNQL1RQIGNwb3dlciBjb2xsYXBzZSAqLwog
c3RhdGljIHZvaWQgYTV4eF9wY19pbml0KHN0cnVjdCBtc21fZ3B1ICpncHUpCiB7CkBAIC0yMDYs
NyArMjU3LDggQEAgc3RhdGljIGludCBhNXh4X2dwbXVfaW5pdChzdHJ1Y3QgbXNtX2dwdSAqZ3B1
KQogCQlyZXR1cm4gLUVJTlZBTDsKIAl9CiAKLQlncHVfd3JpdGUoZ3B1LCBSRUdfQTVYWF9HUE1V
X1dGSV9DT05GSUcsIDB4NDAxNCk7CisJaWYgKGFkcmVub19pc19hNTMwKGFkcmVub19ncHUpKQor
CQlncHVfd3JpdGUoZ3B1LCBSRUdfQTVYWF9HUE1VX1dGSV9DT05GSUcsIDB4NDAxNCk7CiAKIAkv
KiBLaWNrIG9mZiB0aGUgR1BNVSAqLwogCWdwdV93cml0ZShncHUsIFJFR19BNVhYX0dQTVVfQ00z
X1NZU1JFU0VULCAweDApOwpAQCAtMjIwLDEyICsyNzIsMjYgQEAgc3RhdGljIGludCBhNXh4X2dw
bXVfaW5pdChzdHJ1Y3QgbXNtX2dwdSAqZ3B1KQogCQlEUk1fRVJST1IoIiVzOiBHUE1VIGZpcm13
YXJlIGluaXRpYWxpemF0aW9uIHRpbWVkIG91dFxuIiwKIAkJCWdwdS0+bmFtZSk7CiAKKwlpZiAo
IWFkcmVub19pc19hNTMwKGFkcmVub19ncHUpKSB7CisJCXUzMiB2YWwgPSBncHVfcmVhZChncHUs
IFJFR19BNVhYX0dQTVVfR0VORVJBTF8xKTsKKworCQlpZiAodmFsKQorCQkJRFJNX0VSUk9SKCIl
czogR1BNVSBmaXJtd2FyZSBpbml0aWFsaXphdGlvbiBmYWlsZWQ6ICVkXG4iLAorCQkJCSAgZ3B1
LT5uYW1lLCB2YWwpOworCX0KKwogCXJldHVybiAwOwogfQogCiAvKiBFbmFibGUgbGltaXRzIG1h
bmFnZW1lbnQgKi8KIHN0YXRpYyB2b2lkIGE1eHhfbG1fZW5hYmxlKHN0cnVjdCBtc21fZ3B1ICpn
cHUpCiB7CisJc3RydWN0IGFkcmVub19ncHUgKmFkcmVub19ncHUgPSB0b19hZHJlbm9fZ3B1KGdw
dSk7CisKKwkvKiBUaGlzIGluaXQgc2VxdWVuY2Ugb25seSBhcHBsaWVzIHRvIEE1MzAgKi8KKwlp
ZiAoIWFkcmVub19pc19hNTMwKGFkcmVub19ncHUpKQorCQlyZXR1cm47CisKIAlncHVfd3JpdGUo
Z3B1LCBSRUdfQTVYWF9HRFBNX0lOVF9NQVNLLCAweDApOwogCWdwdV93cml0ZShncHUsIFJFR19B
NVhYX0dEUE1fSU5UX0VOLCAweDBBKTsKIAlncHVfd3JpdGUoZ3B1LCBSRUdfQTVYWF9HUE1VX0dQ
TVVfVk9MVEFHRV9JTlRSX0VOX01BU0ssIDB4MDEpOwpAQCAtMjM3LDEwICszMDMsMTQgQEAgc3Rh
dGljIHZvaWQgYTV4eF9sbV9lbmFibGUoc3RydWN0IG1zbV9ncHUgKmdwdSkKIAogaW50IGE1eHhf
cG93ZXJfaW5pdChzdHJ1Y3QgbXNtX2dwdSAqZ3B1KQogeworCXN0cnVjdCBhZHJlbm9fZ3B1ICph
ZHJlbm9fZ3B1ID0gdG9fYWRyZW5vX2dwdShncHUpOwogCWludCByZXQ7CiAKIAkvKiBTZXQgdXAg
dGhlIGxpbWl0cyBtYW5hZ2VtZW50ICovCi0JYTV4eF9sbV9zZXR1cChncHUpOworCWlmIChhZHJl
bm9faXNfYTUzMChhZHJlbm9fZ3B1KSkKKwkJYTUzMF9sbV9zZXR1cChncHUpOworCWVsc2UKKwkJ
YTU0MF9sbV9zZXR1cChncHUpOwogCiAJLyogU2V0IHVwIFNQL1RQIHBvd2VyIGNvbGxwYXNlICov
CiAJYTV4eF9wY19pbml0KGdwdSk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbXNtL2Fk
cmVuby9hZHJlbm9fZGV2aWNlLmMgYi9kcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hZHJlbm9f
ZGV2aWNlLmMKaW5kZXggYjkwNzI0NWQzZDk2Li5jYjdkYWRhZjE2NjkgMTAwNjQ0Ci0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2FkcmVub19kZXZpY2UuYworKysgYi9kcml2ZXJzL2dw
dS9kcm0vbXNtL2FkcmVuby9hZHJlbm9fZGV2aWNlLmMKQEAgLTE0NCw2ICsxNDQsMjQgQEAgc3Rh
dGljIGNvbnN0IHN0cnVjdCBhZHJlbm9faW5mbyBncHVsaXN0W10gPSB7CiAJCQlBRFJFTk9fUVVJ
UktfRkFVTFRfREVURUNUX01BU0ssCiAJCS5pbml0ID0gYTV4eF9ncHVfaW5pdCwKIAkJLnphcGZ3
ID0gImE1MzBfemFwLm1kdCIsCisJfSwgeworCQkucmV2ID0gQURSRU5PX1JFVig1LCA0LCAwLCAy
KSwKKwkJLnJldm4gPSA1NDAsCisJCS5uYW1lID0gIkE1NDAiLAorCQkuZncgPSB7CisJCQlbQURS
RU5PX0ZXX1BNNF0gPSAiYTUzMF9wbTQuZnciLAorCQkJW0FEUkVOT19GV19QRlBdID0gImE1MzBf
cGZwLmZ3IiwKKwkJCVtBRFJFTk9fRldfR1BNVV0gPSAiYTU0MF9ncG11LmZ3MiIsCisJCX0sCisJ
CS5nbWVtID0gU1pfMU0sCisJCS8qCisJCSAqIEluY3JlYXNlIGluYWN0aXZlIHBlcmlvZCB0byAy
NTAgdG8gYXZvaWQgYm91bmNpbmcKKwkJICogdGhlIEdEU0Mgd2hpY2ggYXBwZWFycyB0byBtYWtl
IGl0IGdydW1weQorCQkgKi8KKwkJLmluYWN0aXZlX3BlcmlvZCA9IDI1MCwKKwkJLnF1aXJrcyA9
IEFEUkVOT19RVUlSS19MTUxPQURLSUxMX0RJU0FCTEUsCisJCS5pbml0ID0gYTV4eF9ncHVfaW5p
dCwKKwkJLnphcGZ3ID0gImE1NDBfemFwLm1kdCIsCiAJfSwgewogCQkucmV2ID0gQURSRU5PX1JF
Vig2LCAzLCAwLCBBTllfSUQpLAogCQkucmV2biA9IDYzMCwKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9tc20vYWRyZW5vL2FkcmVub19ncHUuaCBiL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRy
ZW5vL2FkcmVub19ncHUuaAppbmRleCAwOTI1NjA2ZWM5YjUuLmQ2N2MxYTY5YzQ5YSAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8vYWRyZW5vX2dwdS5oCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9tc20vYWRyZW5vL2FkcmVub19ncHUuaApAQCAtNjEsNiArNjEsNyBAQCBlbnVt
IHsKIGVudW0gYWRyZW5vX3F1aXJrcyB7CiAJQURSRU5PX1FVSVJLX1RXT19QQVNTX1VTRV9XRkkg
PSAxLAogCUFEUkVOT19RVUlSS19GQVVMVF9ERVRFQ1RfTUFTSyA9IDIsCisJQURSRU5PX1FVSVJL
X0xNTE9BREtJTExfRElTQUJMRSA9IDMsCiB9OwogCiBzdHJ1Y3QgYWRyZW5vX3JldiB7CkBAIC0y
MjEsNiArMjIyLDExIEBAIHN0YXRpYyBpbmxpbmUgaW50IGFkcmVub19pc19hNTMwKHN0cnVjdCBh
ZHJlbm9fZ3B1ICpncHUpCiAJcmV0dXJuIGdwdS0+cmV2biA9PSA1MzA7CiB9CiAKK3N0YXRpYyBp
bmxpbmUgaW50IGFkcmVub19pc19hNTQwKHN0cnVjdCBhZHJlbm9fZ3B1ICpncHUpCit7CisJcmV0
dXJuIGdwdS0+cmV2biA9PSA1NDA7Cit9CisKIGludCBhZHJlbm9fZ2V0X3BhcmFtKHN0cnVjdCBt
c21fZ3B1ICpncHUsIHVpbnQzMl90IHBhcmFtLCB1aW50NjRfdCAqdmFsdWUpOwogY29uc3Qgc3Ry
dWN0IGZpcm13YXJlICphZHJlbm9fcmVxdWVzdF9mdyhzdHJ1Y3QgYWRyZW5vX2dwdSAqYWRyZW5v
X2dwdSwKIAkJY29uc3QgY2hhciAqZnduYW1lKTsKLS0gCjIuMTcuMQoKX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApk
cmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Au
b3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
