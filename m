Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 5EB0C2FB13
	for <lists+dri-devel@lfdr.de>; Thu, 30 May 2019 13:40:36 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id DAD166E150;
	Thu, 30 May 2019 11:39:58 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-pl1-x642.google.com (mail-pl1-x642.google.com
 [IPv6:2607:f8b0:4864:20::642])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 99FF06E07B;
 Wed, 29 May 2019 15:21:02 +0000 (UTC)
Received: by mail-pl1-x642.google.com with SMTP id f97so1208252plb.5;
 Wed, 29 May 2019 08:21:02 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references;
 bh=IkATlvlCrVOZBfhjVhP1r1FxcLO6wfdKByy/6kr3hyo=;
 b=RonUR7TgWpQXr1oMmGiK04GgoIrtRaUZtyvRcQ9QWVzgLLSJ+dtpDsz/TzEjVIXaXr
 6taA/pEssnY3Jd+JscA1jttPwusnpaVYa89w8QBkCyHmJYXBkcJbJmPACvrc8uPr06g1
 oefVvoV7ZHGskKoG+e5i/wb+ckSJwGgzPV3vlHVDxCLiGsY3PI5115Q56rIRGR7KvUcK
 YdM5KRtEXtclgA7IFcuD8eKBO2+fIpSQdngW1d/WrIJZdKVt59MS0V5wj5TRJO3rsGnf
 LJlOh2v5ykrN7qq/NcQUaxovStAn2PO0Gk7MFu24Wq+ItcgHXClxFFWCnCJifGcUTsUL
 drKA==
X-Gm-Message-State: APjAAAX99g0OBIrUjf1lalo+VMjuSJMG/VegNhVJkgIrk+RM7XwnBzy1
 sTkAxKkmVK2ab/KWOUDp4iE=
X-Google-Smtp-Source: APXvYqwM8haXPfzuSU9Uh0ePjvyLcNT90xNF1JcqKOh9cv6uK+gr6jL+ThWa3dKSGV7mIb84cRCipw==
X-Received: by 2002:a17:902:b407:: with SMTP id
 x7mr142500688plr.28.1559143262000; 
 Wed, 29 May 2019 08:21:02 -0700 (PDT)
Received: from aw-bldr-10.qualcomm.com (i-global254.qualcomm.com.
 [199.106.103.254])
 by smtp.gmail.com with ESMTPSA id r7sm6198321pjb.8.2019.05.29.08.20.58
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Wed, 29 May 2019 08:20:59 -0700 (PDT)
From: Jeffrey Hugo <jeffrey.l.hugo@gmail.com>
To: robdclark@gmail.com, sean@poorly.run, airlied@linux.ie, daniel@ffwll.ch,
 jcrouse@codeaurora.org
Subject: [PATCH v2 2/2] drm/msm/adreno: Add A540 support
Date: Wed, 29 May 2019 08:20:22 -0700
Message-Id: <20190529152022.42799-3-jeffrey.l.hugo@gmail.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20190529152022.42799-1-jeffrey.l.hugo@gmail.com>
References: <20190529152022.42799-1-jeffrey.l.hugo@gmail.com>
X-Mailman-Approved-At: Thu, 30 May 2019 11:39:54 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references;
 bh=IkATlvlCrVOZBfhjVhP1r1FxcLO6wfdKByy/6kr3hyo=;
 b=eoLK9LxhvNMQU3nZc9X6swn6YIJArcsB3JYz4/CoTyxTxBL7DICQCm49HD3CBit1q9
 jI/uBsHSNFzIO0QF7Lu07bdNZmzR4wiiDWWdX/d0aQG3JlrKHlWUJx7MUqR7RSyeRRD/
 c7nC8UCDoRAf2oJqp6KQW/IrtnCf60gDrtziLw2g9BNcgfyG/DAc1og6cOkvMSxBKNUo
 EUFJyIupRteYESZ3R3ai8G2QLjKjVO1IZdF5+GZS6Q4RQg3jdYxhzwthXOGrQ1e2d2wf
 nR6TaQpumrixjJhiVVw8DNvc3/f7UNbxJITNfkypxe9VsiYr80ai4xIRjkcF5OxUacQf
 l5JQ==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: marc.w.gonzalez@free.fr, linux-arm-msm@vger.kernel.org,
 Jeffrey Hugo <jeffrey.l.hugo@gmail.com>, linux-kernel@vger.kernel.org,
 dri-devel@lists.freedesktop.org, bjorn.andersson@linaro.org,
 freedreno@lists.freedesktop.org
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIEE1NDAgaXMgYSBkZXJpdmF0aXZlIG9mIHRoZSBBNTMwLCBhbmQgaXMgZm91bmQgaW4gdGhl
IE1TTTg5OTggU29DLgoKU2lnbmVkLW9mZi1ieTogSmVmZnJleSBIdWdvIDxqZWZmcmV5LmwuaHVn
b0BnbWFpbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8vYTV4eC54bWwuaCAg
ICAgIHwgMjggKysrKy0tLS0KIGRyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2E1eHhfZ3B1LmMg
ICAgICB8IDIxICsrKysrKwogZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8vYTV4eF9wb3dlci5j
ICAgIHwgNzYgKysrKysrKysrKysrKysrKysrKysrLQogZHJpdmVycy9ncHUvZHJtL21zbS9hZHJl
bm8vYWRyZW5vX2RldmljZS5jIHwgMTggKysrKysKIGRyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5v
L2FkcmVub19ncHUuaCAgICB8ICA2ICsrCiA1IGZpbGVzIGNoYW5nZWQsIDEzMyBpbnNlcnRpb25z
KCspLCAxNiBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbXNtL2Fk
cmVuby9hNXh4LnhtbC5oIGIvZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8vYTV4eC54bWwuaApp
bmRleCBjZjRmZTE0ZGRkNmUuLjRhNjFkNGU3MmM5OCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL21zbS9hZHJlbm8vYTV4eC54bWwuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVu
by9hNXh4LnhtbC5oCkBAIC04LDE5ICs4LDE5IEBAIFRoaXMgZmlsZSB3YXMgZ2VuZXJhdGVkIGJ5
IHRoZSBydWxlcy1uZy1uZyBoZWFkZXJnZW4gdG9vbCBpbiB0aGlzIGdpdCByZXBvc2l0b3J5CiBn
aXQgY2xvbmUgaHR0cHM6Ly9naXRodWIuY29tL2ZyZWVkcmVuby9lbnZ5dG9vbHMuZ2l0CiAKIFRo
ZSBydWxlcy1uZy1uZyBzb3VyY2UgZmlsZXMgdGhpcyBoZWFkZXIgd2FzIGdlbmVyYXRlZCBmcm9t
IGFyZToKLS0gL2hvbWUvcm9iY2xhcmsvc3JjL2Vudnl0b29scy9ybm5kYi9hZHJlbm8ueG1sICAg
ICAgICAgICAgICAgKCAgICA1MDEgYnl0ZXMsIGZyb20gMjAxOC0wNy0wMyAxOTozNzoxMykKLS0g
L2hvbWUvcm9iY2xhcmsvc3JjL2Vudnl0b29scy9ybm5kYi9mcmVlZHJlbm9fY29weXJpZ2h0Lnht
bCAgKCAgIDE1NzIgYnl0ZXMsIGZyb20gMjAxOC0wNy0wMyAxOTozNzoxMykKLS0gL2hvbWUvcm9i
Y2xhcmsvc3JjL2Vudnl0b29scy9ybm5kYi9hZHJlbm8vYTJ4eC54bWwgICAgICAgICAgKCAgNDI0
NjMgYnl0ZXMsIGZyb20gMjAxOC0xMS0xOSAxMzo0NDowMykKLS0gL2hvbWUvcm9iY2xhcmsvc3Jj
L2Vudnl0b29scy9ybm5kYi9hZHJlbm8vYWRyZW5vX2NvbW1vbi54bWwgKCAgMTQyMDEgYnl0ZXMs
IGZyb20gMjAxOC0xMi0wMiAxNzoyOTo1NCkKLS0gL2hvbWUvcm9iY2xhcmsvc3JjL2Vudnl0b29s
cy9ybm5kYi9hZHJlbm8vYWRyZW5vX3BtNC54bWwgICAgKCAgNDMwNTIgYnl0ZXMsIGZyb20gMjAx
OC0xMi0wMiAxNzoyOTo1NCkKLS0gL2hvbWUvcm9iY2xhcmsvc3JjL2Vudnl0b29scy9ybm5kYi9h
ZHJlbm8vYTN4eC54bWwgICAgICAgICAgKCAgODM4NDAgYnl0ZXMsIGZyb20gMjAxOC0wNy0wMyAx
OTozNzoxMykKLS0gL2hvbWUvcm9iY2xhcmsvc3JjL2Vudnl0b29scy9ybm5kYi9hZHJlbm8vYTR4
eC54bWwgICAgICAgICAgKCAxMTIwODYgYnl0ZXMsIGZyb20gMjAxOC0wNy0wMyAxOTozNzoxMykK
LS0gL2hvbWUvcm9iY2xhcmsvc3JjL2Vudnl0b29scy9ybm5kYi9hZHJlbm8vYTV4eC54bWwgICAg
ICAgICAgKCAxNDcyNDAgYnl0ZXMsIGZyb20gMjAxOC0xMi0wMiAxNzoyOTo1NCkKLS0gL2hvbWUv
cm9iY2xhcmsvc3JjL2Vudnl0b29scy9ybm5kYi9hZHJlbm8vYTZ4eC54bWwgICAgICAgICAgKCAx
NDA3OTAgYnl0ZXMsIGZyb20gMjAxOC0xMi0wMiAxNzoyOTo1NCkKLS0gL2hvbWUvcm9iY2xhcmsv
c3JjL2Vudnl0b29scy9ybm5kYi9hZHJlbm8vYTZ4eF9nbXUueG1sICAgICAgKCAgMTA0MzEgYnl0
ZXMsIGZyb20gMjAxOC0wOS0xNCAxMzowMzowNykKLS0gL2hvbWUvcm9iY2xhcmsvc3JjL2Vudnl0
b29scy9ybm5kYi9hZHJlbm8vb2NtZW0ueG1sICAgICAgICAgKCAgIDE3NzMgYnl0ZXMsIGZyb20g
MjAxOC0wNy0wMyAxOTozNzoxMykKLQotQ29weXJpZ2h0IChDKSAyMDEzLTIwMTggYnkgdGhlIGZv
bGxvd2luZyBhdXRob3JzOgorLSAvaG9tZS91YnVudHUvZW52eXRvb2xzL2Vudnl0b29scy9ybm5k
Yi8uL2FkcmVuby54bWwgICAgICAgICAgICAgKCAgICA1MDEgYnl0ZXMsIGZyb20gMjAxOS0wNS0y
OSAwMToyODoxNSkKKy0gL2hvbWUvdWJ1bnR1L2Vudnl0b29scy9lbnZ5dG9vbHMvcm5uZGIvZnJl
ZWRyZW5vX2NvcHlyaWdodC54bWwgICggICAxNTcyIGJ5dGVzLCBmcm9tIDIwMTktMDUtMjkgMDE6
Mjg6MTUpCistIC9ob21lL3VidW50dS9lbnZ5dG9vbHMvZW52eXRvb2xzL3JubmRiL2FkcmVuby9h
Mnh4LnhtbCAgICAgICAgICAoICA3OTYwOCBieXRlcywgZnJvbSAyMDE5LTA1LTI5IDAxOjI4OjE1
KQorLSAvaG9tZS91YnVudHUvZW52eXRvb2xzL2Vudnl0b29scy9ybm5kYi9hZHJlbm8vYWRyZW5v
X2NvbW1vbi54bWwgKCAgMTQyMzkgYnl0ZXMsIGZyb20gMjAxOS0wNS0yOSAwMToyODoxNSkKKy0g
L2hvbWUvdWJ1bnR1L2Vudnl0b29scy9lbnZ5dG9vbHMvcm5uZGIvYWRyZW5vL2FkcmVub19wbTQu
eG1sICAgICggIDQzMTU1IGJ5dGVzLCBmcm9tIDIwMTktMDUtMjkgMDE6Mjg6MTUpCistIC9ob21l
L3VidW50dS9lbnZ5dG9vbHMvZW52eXRvb2xzL3JubmRiL2FkcmVuby9hM3h4LnhtbCAgICAgICAg
ICAoICA4Mzg0MCBieXRlcywgZnJvbSAyMDE5LTA1LTI5IDAxOjI4OjE1KQorLSAvaG9tZS91YnVu
dHUvZW52eXRvb2xzL2Vudnl0b29scy9ybm5kYi9hZHJlbm8vYTR4eC54bWwgICAgICAgICAgKCAx
MTIwODYgYnl0ZXMsIGZyb20gMjAxOS0wNS0yOSAwMToyODoxNSkKKy0gL2hvbWUvdWJ1bnR1L2Vu
dnl0b29scy9lbnZ5dG9vbHMvcm5uZGIvYWRyZW5vL2E1eHgueG1sICAgICAgICAgICggMTQ3Mjkx
IGJ5dGVzLCBmcm9tIDIwMTktMDUtMjkgMTQ6NTE6NDEpCistIC9ob21lL3VidW50dS9lbnZ5dG9v
bHMvZW52eXRvb2xzL3JubmRiL2FkcmVuby9hNnh4LnhtbCAgICAgICAgICAoIDE0ODQ2MSBieXRl
cywgZnJvbSAyMDE5LTA1LTI5IDAxOjI4OjE1KQorLSAvaG9tZS91YnVudHUvZW52eXRvb2xzL2Vu
dnl0b29scy9ybm5kYi9hZHJlbm8vYTZ4eF9nbXUueG1sICAgICAgKCAgMTA0MzEgYnl0ZXMsIGZy
b20gMjAxOS0wNS0yOSAwMToyODoxNSkKKy0gL2hvbWUvdWJ1bnR1L2Vudnl0b29scy9lbnZ5dG9v
bHMvcm5uZGIvYWRyZW5vL29jbWVtLnhtbCAgICAgICAgICggICAxNzczIGJ5dGVzLCBmcm9tIDIw
MTktMDUtMjkgMDE6Mjg6MTUpCisKK0NvcHlyaWdodCAoQykgMjAxMy0yMDE5IGJ5IHRoZSBmb2xs
b3dpbmcgYXV0aG9yczoKIC0gUm9iIENsYXJrIDxyb2JkY2xhcmtAZ21haWwuY29tPiAocm9iY2xh
cmspCiAtIElsaWEgTWlya2luIDxpbWlya2luQGFsdW0ubWl0LmVkdT4gKGltaXJraW4pCiAKQEAg
LTIxNDgsNiArMjE0OCw4IEBAIHN0YXRpYyBpbmxpbmUgdWludDMyX3QgQTVYWF9WU0NfUkVTT0xW
RV9DTlRMX1kodWludDMyX3QgdmFsKQogCiAjZGVmaW5lIFJFR19BNVhYX0hMU1FfVElNRU9VVF9U
SFJFU0hPTERfMQkJCTB4MDAwMDBlMDEKIAorI2RlZmluZSBSRUdfQTVYWF9ITFNRX0RCR19FQ09f
Q05UTAkJCQkweDAwMDAwZTA0CisKICNkZWZpbmUgUkVHX0E1WFhfSExTUV9BRERSX01PREVfQ05U
TAkJCQkweDAwMDAwZTA1CiAKICNkZWZpbmUgUkVHX0E1WFhfSExTUV9NT0RFX0NOVEwJCQkJCTB4
MDAwMDBlMDYKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2E1eHhfZ3B1
LmMgYi9kcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hNXh4X2dwdS5jCmluZGV4IGU1ZmNlZmE0
OWYxOS4uMTM2NTI4NjMxMDNmIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVu
by9hNXh4X2dwdS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2E1eHhfZ3B1LmMK
QEAgLTMxOCwxMiArMzE4LDE4IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgewogCiB2b2lkIGE1eHhf
c2V0X2h3Y2coc3RydWN0IG1zbV9ncHUgKmdwdSwgYm9vbCBzdGF0ZSkKIHsKKwlzdHJ1Y3QgYWRy
ZW5vX2dwdSAqYWRyZW5vX2dwdSA9IHRvX2FkcmVub19ncHUoZ3B1KTsKIAl1bnNpZ25lZCBpbnQg
aTsKIAogCWZvciAoaSA9IDA7IGkgPCBBUlJBWV9TSVpFKGE1eHhfaHdjZyk7IGkrKykKIAkJZ3B1
X3dyaXRlKGdwdSwgYTV4eF9od2NnW2ldLm9mZnNldCwKIAkJCXN0YXRlID8gYTV4eF9od2NnW2ld
LnZhbHVlIDogMCk7CiAKKwlpZiAoYWRyZW5vX2lzX2E1NDAoYWRyZW5vX2dwdSkpIHsKKwkJZ3B1
X3dyaXRlKGdwdSwgUkVHX0E1WFhfUkJCTV9DTE9DS19ERUxBWV9HUE1VLCBzdGF0ZSA/IDB4MDAw
MDA3NzAgOiAwKTsKKwkJZ3B1X3dyaXRlKGdwdSwgUkVHX0E1WFhfUkJCTV9DTE9DS19IWVNUX0dQ
TVUsIHN0YXRlID8gMHgwMDAwMDAwNCA6IDApOworCX0KKwogCWdwdV93cml0ZShncHUsIFJFR19B
NVhYX1JCQk1fQ0xPQ0tfQ05UTCwgc3RhdGUgPyAweEFBQThBQTAwIDogMCk7CiAJZ3B1X3dyaXRl
KGdwdSwgUkVHX0E1WFhfUkJCTV9JU0RCX0NOVCwgc3RhdGUgPyAweDE4MiA6IDB4MTgwKTsKIH0K
QEAgLTUwNyw2ICs1MTMsOSBAQCBzdGF0aWMgaW50IGE1eHhfaHdfaW5pdChzdHJ1Y3QgbXNtX2dw
dSAqZ3B1KQogCiAJZ3B1X3dyaXRlKGdwdSwgUkVHX0E1WFhfVkJJRl9ST1VORF9ST0JJTl9RT1Nf
QVJCLCAweDAwMDAwMDAzKTsKIAorCWlmIChhZHJlbm9faXNfYTU0MChhZHJlbm9fZ3B1KSkKKwkJ
Z3B1X3dyaXRlKGdwdSwgUkVHX0E1WFhfVkJJRl9HQVRFX09GRl9XUlJFUV9FTiwgMHgwMDAwMDAw
OSk7CisKIAkvKiBNYWtlIGFsbCBibG9ja3MgY29udHJpYnV0ZSB0byB0aGUgR1BVIEJVU1kgcGVy
ZiBjb3VudGVyICovCiAJZ3B1X3dyaXRlKGdwdSwgUkVHX0E1WFhfUkJCTV9QRVJGQ1RSX0dQVV9C
VVNZX01BU0tFRCwgMHhGRkZGRkZGRik7CiAKQEAgLTU5Miw2ICs2MDEsOCBAQCBzdGF0aWMgaW50
IGE1eHhfaHdfaW5pdChzdHJ1Y3QgbXNtX2dwdSAqZ3B1KQogCS8qIFNldCB0aGUgaGlnaGVzdCBi
YW5rIGJpdCAqLwogCWdwdV93cml0ZShncHUsIFJFR19BNVhYX1RQTDFfTU9ERV9DTlRMLCAyIDw8
IDcpOwogCWdwdV93cml0ZShncHUsIFJFR19BNVhYX1JCX01PREVfQ05UTCwgMiA8PCAxKTsKKwlp
ZiAoYWRyZW5vX2lzX2E1NDAoYWRyZW5vX2dwdSkpCisJCWdwdV93cml0ZShncHUsIFJFR19BNVhY
X1VDSEVfREJHX0VDT19DTlRMXzIsIDIpOwogCiAJLyogUHJvdGVjdCByZWdpc3RlcnMgZnJvbSB0
aGUgQ1AgKi8KIAlncHVfd3JpdGUoZ3B1LCBSRUdfQTVYWF9DUF9QUk9URUNUX0NOVEwsIDB4MDAw
MDAwMDcpOwpAQCAtNjQyLDYgKzY1MywxNiBAQCBzdGF0aWMgaW50IGE1eHhfaHdfaW5pdChzdHJ1
Y3QgbXNtX2dwdSAqZ3B1KQogCQlSRUdfQTVYWF9SQkJNX1NFQ1ZJRF9UU0JfVFJVU1RFRF9CQVNF
X0hJLCAweDAwMDAwMDAwKTsKIAlncHVfd3JpdGUoZ3B1LCBSRUdfQTVYWF9SQkJNX1NFQ1ZJRF9U
U0JfVFJVU1RFRF9TSVpFLCAweDAwMDAwMDAwKTsKIAorCS8qCisJICogVlBDIGNvcm5lciBjYXNl
IHdpdGggbG9jYWwgbWVtb3J5IGxvYWQga2lsbCBsZWFkcyB0byBjb3JydXB0CisJICogaW50ZXJu
YWwgc3RhdGUuIE5vcm1hbCBEaXNhYmxlIGRvZXMgbm90IHdvcmsgZm9yIGFsbCBhNXggY2hpcHMu
CisJICogU28gZG8gdGhlIGZvbGxvd2luZyBzZXR0aW5nIHRvIGRpc2FibGUgaXQuCisJICovCisJ
aWYgKGFkcmVub19ncHUtPmluZm8tPnF1aXJrcyAmIEFEUkVOT19RVUlSS19MTUxPQURLSUxMX0RJ
U0FCTEUpIHsKKwkJZ3B1X3JtdyhncHUsIFJFR19BNVhYX1ZQQ19EQkdfRUNPX0NOVEwsIDAsIEJJ
VCgyMykpOworCQlncHVfcm13KGdwdSwgUkVHX0E1WFhfSExTUV9EQkdfRUNPX0NOVEwsIEJJVCgx
OCksIDApOworCX0KKwogCXJldCA9IGFkcmVub19od19pbml0KGdwdSk7CiAJaWYgKHJldCkKIAkJ
cmV0dXJuIHJldDsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2E1eHhf
cG93ZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2E1eHhfcG93ZXIuYwppbmRleCA3
MGU2NWM5NGU1MjUuLmJmMTJjNjFmOTMzMSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL21z
bS9hZHJlbm8vYTV4eF9wb3dlci5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2E1
eHhfcG93ZXIuYwpAQCAtMzIsNiArMzIsMTggQEAKICNkZWZpbmUgQUdDX1BPV0VSX0NPTkZJR19Q
Uk9EVUNUSU9OX0lEIDEKICNkZWZpbmUgQUdDX0lOSVRfTVNHX1ZBTFVFIDB4QkFCRUZBQ0UKIAor
LyogQUdDX0xNX0NPTkZJRyAoQTU0MCspICovCisjZGVmaW5lIEFHQ19MTV9DT05GSUcgKDEzNi80
KQorI2RlZmluZSBBR0NfTE1fQ09ORklHX0dQVV9WRVJTSU9OX1NISUZUIDE3CisjZGVmaW5lIEFH
Q19MTV9DT05GSUdfRU5BQkxFX0dQTVVfQURBUFRJVkUgMQorI2RlZmluZSBBR0NfTE1fQ09ORklH
X1RIUk9UVExFX0RJU0FCTEUgKDIgPDwgOCkKKyNkZWZpbmUgQUdDX0xNX0NPTkZJR19JU0VOU0Vf
RU5BQkxFICgxIDw8IDQpCisjZGVmaW5lIEFHQ19MTV9DT05GSUdfRU5BQkxFX0VSUk9SICgzIDw8
IDQpCisjZGVmaW5lIEFHQ19MTV9DT05GSUdfTExNX0VOQUJMRUQgKDEgPDwgMTYpCisjZGVmaW5l
IEFHQ19MTV9DT05GSUdfQkNMX0RJU0FCTEVEICgxIDw8IDI0KQorCisjZGVmaW5lIEFHQ19MRVZF
TF9DT05GSUcgKDE0MC80KQorCiBzdGF0aWMgc3RydWN0IHsKIAl1aW50MzJfdCByZWc7CiAJdWlu
dDMyX3QgdmFsdWU7CkBAIC0xMTYsNyArMTI4LDcgQEAgc3RhdGljIGlubGluZSB1aW50MzJfdCBf
Z2V0X212b2x0cyhzdHJ1Y3QgbXNtX2dwdSAqZ3B1LCB1aW50MzJfdCBmcmVxKQogfQogCiAvKiBT
ZXR1cCB0aGVybWFsIGxpbWl0IG1hbmFnZW1lbnQgKi8KLXN0YXRpYyB2b2lkIGE1eHhfbG1fc2V0
dXAoc3RydWN0IG1zbV9ncHUgKmdwdSkKK3N0YXRpYyB2b2lkIGE1MzBfbG1fc2V0dXAoc3RydWN0
IG1zbV9ncHUgKmdwdSkKIHsKIAlzdHJ1Y3QgYWRyZW5vX2dwdSAqYWRyZW5vX2dwdSA9IHRvX2Fk
cmVub19ncHUoZ3B1KTsKIAlzdHJ1Y3QgYTV4eF9ncHUgKmE1eHhfZ3B1ID0gdG9fYTV4eF9ncHUo
YWRyZW5vX2dwdSk7CkBAIC0xNjUsNiArMTc3LDQ1IEBAIHN0YXRpYyB2b2lkIGE1eHhfbG1fc2V0
dXAoc3RydWN0IG1zbV9ncHUgKmdwdSkKIAlncHVfd3JpdGUoZ3B1LCBBR0NfSU5JVF9NU0dfTUFH
SUMsIEFHQ19JTklUX01TR19WQUxVRSk7CiB9CiAKKyNkZWZpbmUgUEFZTE9BRF9TSVpFKF9zaXpl
KSAoKF9zaXplKSAqIHNpemVvZih1MzIpKQorI2RlZmluZSBMTV9EQ1ZTX0xJTUlUIDEKKyNkZWZp
bmUgTEVWRUxfQ09ORklHIH4oMHgzMDMpCisKK3N0YXRpYyB2b2lkIGE1NDBfbG1fc2V0dXAoc3Ry
dWN0IG1zbV9ncHUgKmdwdSkKK3sKKwlzdHJ1Y3QgYWRyZW5vX2dwdSAqYWRyZW5vX2dwdSA9IHRv
X2FkcmVub19ncHUoZ3B1KTsKKwl1MzIgY29uZmlnOworCisJLyogVGhlIGJhdHRlcnkgY3VycmVu
dCBsaW1pdGVyIGlzbid0IGVuYWJsZWQgZm9yIEE1NDAgKi8KKwljb25maWcgPSBBR0NfTE1fQ09O
RklHX0JDTF9ESVNBQkxFRDsKKwljb25maWcgfD0gYWRyZW5vX2dwdS0+cmV2LnBhdGNoaWQgPDwg
QUdDX0xNX0NPTkZJR19HUFVfVkVSU0lPTl9TSElGVDsKKworCS8qIEZvciBub3cgZGlzYWJsZSBH
UE1VIHNpZGUgdGhyb3R0bGluZyAqLworCWNvbmZpZyB8PSBBR0NfTE1fQ09ORklHX1RIUk9UVExF
X0RJU0FCTEU7CisKKwkvKiBVbnRpbCB3ZSBnZXQgY2xvY2sgc2NhbGluZyAwIGlzIGFsd2F5cyB0
aGUgYWN0aXZlIHBvd2VyIGxldmVsICovCisJZ3B1X3dyaXRlKGdwdSwgUkVHX0E1WFhfR1BNVV9H
UE1VX1ZPTFRBR0UsIDB4ODAwMDAwMDAgfCAwKTsKKworCS8qIEZpeGVkIGF0IDYwMDAgZm9yIG5v
dyAqLworCWdwdV93cml0ZShncHUsIFJFR19BNVhYX0dQTVVfR1BNVV9QV1JfVEhSRVNIT0xELCAw
eDgwMDAwMDAwIHwgNjAwMCk7CisKKwlncHVfd3JpdGUoZ3B1LCBBR0NfTVNHX1NUQVRFLCAweDgw
MDAwMDAxKTsKKwlncHVfd3JpdGUoZ3B1LCBBR0NfTVNHX0NPTU1BTkQsIEFHQ19QT1dFUl9DT05G
SUdfUFJPRFVDVElPTl9JRCk7CisKKwlncHVfd3JpdGUoZ3B1LCBBR0NfTVNHX1BBWUxPQUQoMCks
IDU0NDgpOworCWdwdV93cml0ZShncHUsIEFHQ19NU0dfUEFZTE9BRCgxKSwgMSk7CisKKwlncHVf
d3JpdGUoZ3B1LCBBR0NfTVNHX1BBWUxPQUQoMiksIF9nZXRfbXZvbHRzKGdwdSwgZ3B1LT5mYXN0
X3JhdGUpKTsKKwlncHVfd3JpdGUoZ3B1LCBBR0NfTVNHX1BBWUxPQUQoMyksIGdwdS0+ZmFzdF9y
YXRlIC8gMTAwMDAwMCk7CisKKwlncHVfd3JpdGUoZ3B1LCBBR0NfTVNHX1BBWUxPQUQoQUdDX0xN
X0NPTkZJRyksIGNvbmZpZyk7CisJZ3B1X3dyaXRlKGdwdSwgQUdDX01TR19QQVlMT0FEKEFHQ19M
RVZFTF9DT05GSUcpLCBMRVZFTF9DT05GSUcpOworCWdwdV93cml0ZShncHUsIEFHQ19NU0dfUEFZ
TE9BRF9TSVpFLAorCVBBWUxPQURfU0laRShBR0NfTEVWRUxfQ09ORklHICsgMSkpOworCisJZ3B1
X3dyaXRlKGdwdSwgQUdDX0lOSVRfTVNHX01BR0lDLCBBR0NfSU5JVF9NU0dfVkFMVUUpOworfQor
CiAvKiBFbmFibGUgU1AvVFAgY3Bvd2VyIGNvbGxhcHNlICovCiBzdGF0aWMgdm9pZCBhNXh4X3Bj
X2luaXQoc3RydWN0IG1zbV9ncHUgKmdwdSkKIHsKQEAgLTIwNiw3ICsyNTcsOCBAQCBzdGF0aWMg
aW50IGE1eHhfZ3BtdV9pbml0KHN0cnVjdCBtc21fZ3B1ICpncHUpCiAJCXJldHVybiAtRUlOVkFM
OwogCX0KIAotCWdwdV93cml0ZShncHUsIFJFR19BNVhYX0dQTVVfV0ZJX0NPTkZJRywgMHg0MDE0
KTsKKwlpZiAoYWRyZW5vX2lzX2E1MzAoYWRyZW5vX2dwdSkpCisJCWdwdV93cml0ZShncHUsIFJF
R19BNVhYX0dQTVVfV0ZJX0NPTkZJRywgMHg0MDE0KTsKIAogCS8qIEtpY2sgb2ZmIHRoZSBHUE1V
ICovCiAJZ3B1X3dyaXRlKGdwdSwgUkVHX0E1WFhfR1BNVV9DTTNfU1lTUkVTRVQsIDB4MCk7CkBA
IC0yMjAsMTIgKzI3MiwyNiBAQCBzdGF0aWMgaW50IGE1eHhfZ3BtdV9pbml0KHN0cnVjdCBtc21f
Z3B1ICpncHUpCiAJCURSTV9FUlJPUigiJXM6IEdQTVUgZmlybXdhcmUgaW5pdGlhbGl6YXRpb24g
dGltZWQgb3V0XG4iLAogCQkJZ3B1LT5uYW1lKTsKIAorCWlmICghYWRyZW5vX2lzX2E1MzAoYWRy
ZW5vX2dwdSkpIHsKKwkJdTMyIHZhbCA9IGdwdV9yZWFkKGdwdSwgUkVHX0E1WFhfR1BNVV9HRU5F
UkFMXzEpOworCisJCWlmICh2YWwpCisJCQlEUk1fRVJST1IoIiVzOiBHUE1VIGZpcm13YXJlIGlu
aXRpYWxpemF0aW9uIGZhaWxlZDogJWRcbiIsCisJCQkJICBncHUtPm5hbWUsIHZhbCk7CisJfQor
CiAJcmV0dXJuIDA7CiB9CiAKIC8qIEVuYWJsZSBsaW1pdHMgbWFuYWdlbWVudCAqLwogc3RhdGlj
IHZvaWQgYTV4eF9sbV9lbmFibGUoc3RydWN0IG1zbV9ncHUgKmdwdSkKIHsKKwlzdHJ1Y3QgYWRy
ZW5vX2dwdSAqYWRyZW5vX2dwdSA9IHRvX2FkcmVub19ncHUoZ3B1KTsKKworCS8qIFRoaXMgaW5p
dCBzZXF1ZW5jZSBvbmx5IGFwcGxpZXMgdG8gQTUzMCAqLworCWlmICghYWRyZW5vX2lzX2E1MzAo
YWRyZW5vX2dwdSkpCisJCXJldHVybjsKKwogCWdwdV93cml0ZShncHUsIFJFR19BNVhYX0dEUE1f
SU5UX01BU0ssIDB4MCk7CiAJZ3B1X3dyaXRlKGdwdSwgUkVHX0E1WFhfR0RQTV9JTlRfRU4sIDB4
MEEpOwogCWdwdV93cml0ZShncHUsIFJFR19BNVhYX0dQTVVfR1BNVV9WT0xUQUdFX0lOVFJfRU5f
TUFTSywgMHgwMSk7CkBAIC0yMzcsMTAgKzMwMywxNCBAQCBzdGF0aWMgdm9pZCBhNXh4X2xtX2Vu
YWJsZShzdHJ1Y3QgbXNtX2dwdSAqZ3B1KQogCiBpbnQgYTV4eF9wb3dlcl9pbml0KHN0cnVjdCBt
c21fZ3B1ICpncHUpCiB7CisJc3RydWN0IGFkcmVub19ncHUgKmFkcmVub19ncHUgPSB0b19hZHJl
bm9fZ3B1KGdwdSk7CiAJaW50IHJldDsKIAogCS8qIFNldCB1cCB0aGUgbGltaXRzIG1hbmFnZW1l
bnQgKi8KLQlhNXh4X2xtX3NldHVwKGdwdSk7CisJaWYgKGFkcmVub19pc19hNTMwKGFkcmVub19n
cHUpKQorCQlhNTMwX2xtX3NldHVwKGdwdSk7CisJZWxzZQorCQlhNTQwX2xtX3NldHVwKGdwdSk7
CiAKIAkvKiBTZXQgdXAgU1AvVFAgcG93ZXIgY29sbHBhc2UgKi8KIAlhNXh4X3BjX2luaXQoZ3B1
KTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2FkcmVub19kZXZpY2Uu
YyBiL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2FkcmVub19kZXZpY2UuYwppbmRleCBiOTA3
MjQ1ZDNkOTYuLmNiN2RhZGFmMTY2OSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL21zbS9h
ZHJlbm8vYWRyZW5vX2RldmljZS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2Fk
cmVub19kZXZpY2UuYwpAQCAtMTQ0LDYgKzE0NCwyNCBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGFk
cmVub19pbmZvIGdwdWxpc3RbXSA9IHsKIAkJCUFEUkVOT19RVUlSS19GQVVMVF9ERVRFQ1RfTUFT
SywKIAkJLmluaXQgPSBhNXh4X2dwdV9pbml0LAogCQkuemFwZncgPSAiYTUzMF96YXAubWR0IiwK
Kwl9LCB7CisJCS5yZXYgPSBBRFJFTk9fUkVWKDUsIDQsIDAsIDIpLAorCQkucmV2biA9IDU0MCwK
KwkJLm5hbWUgPSAiQTU0MCIsCisJCS5mdyA9IHsKKwkJCVtBRFJFTk9fRldfUE00XSA9ICJhNTMw
X3BtNC5mdyIsCisJCQlbQURSRU5PX0ZXX1BGUF0gPSAiYTUzMF9wZnAuZnciLAorCQkJW0FEUkVO
T19GV19HUE1VXSA9ICJhNTQwX2dwbXUuZncyIiwKKwkJfSwKKwkJLmdtZW0gPSBTWl8xTSwKKwkJ
LyoKKwkJICogSW5jcmVhc2UgaW5hY3RpdmUgcGVyaW9kIHRvIDI1MCB0byBhdm9pZCBib3VuY2lu
ZworCQkgKiB0aGUgR0RTQyB3aGljaCBhcHBlYXJzIHRvIG1ha2UgaXQgZ3J1bXB5CisJCSAqLwor
CQkuaW5hY3RpdmVfcGVyaW9kID0gMjUwLAorCQkucXVpcmtzID0gQURSRU5PX1FVSVJLX0xNTE9B
REtJTExfRElTQUJMRSwKKwkJLmluaXQgPSBhNXh4X2dwdV9pbml0LAorCQkuemFwZncgPSAiYTU0
MF96YXAubWR0IiwKIAl9LCB7CiAJCS5yZXYgPSBBRFJFTk9fUkVWKDYsIDMsIDAsIEFOWV9JRCks
CiAJCS5yZXZuID0gNjMwLApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8v
YWRyZW5vX2dwdS5oIGIvZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8vYWRyZW5vX2dwdS5oCmlu
ZGV4IDA5MjU2MDZlYzliNS4uZDY3YzFhNjljNDlhIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vbXNtL2FkcmVuby9hZHJlbm9fZ3B1LmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL21zbS9hZHJl
bm8vYWRyZW5vX2dwdS5oCkBAIC02MSw2ICs2MSw3IEBAIGVudW0gewogZW51bSBhZHJlbm9fcXVp
cmtzIHsKIAlBRFJFTk9fUVVJUktfVFdPX1BBU1NfVVNFX1dGSSA9IDEsCiAJQURSRU5PX1FVSVJL
X0ZBVUxUX0RFVEVDVF9NQVNLID0gMiwKKwlBRFJFTk9fUVVJUktfTE1MT0FES0lMTF9ESVNBQkxF
ID0gMywKIH07CiAKIHN0cnVjdCBhZHJlbm9fcmV2IHsKQEAgLTIyMSw2ICsyMjIsMTEgQEAgc3Rh
dGljIGlubGluZSBpbnQgYWRyZW5vX2lzX2E1MzAoc3RydWN0IGFkcmVub19ncHUgKmdwdSkKIAly
ZXR1cm4gZ3B1LT5yZXZuID09IDUzMDsKIH0KIAorc3RhdGljIGlubGluZSBpbnQgYWRyZW5vX2lz
X2E1NDAoc3RydWN0IGFkcmVub19ncHUgKmdwdSkKK3sKKwlyZXR1cm4gZ3B1LT5yZXZuID09IDU0
MDsKK30KKwogaW50IGFkcmVub19nZXRfcGFyYW0oc3RydWN0IG1zbV9ncHUgKmdwdSwgdWludDMy
X3QgcGFyYW0sIHVpbnQ2NF90ICp2YWx1ZSk7CiBjb25zdCBzdHJ1Y3QgZmlybXdhcmUgKmFkcmVu
b19yZXF1ZXN0X2Z3KHN0cnVjdCBhZHJlbm9fZ3B1ICphZHJlbm9fZ3B1LAogCQljb25zdCBjaGFy
ICpmd25hbWUpOwotLSAKMi4xNy4xCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVl
ZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5m
by9kcmktZGV2ZWw=
