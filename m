Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A265A86549
	for <lists+dri-devel@lfdr.de>; Thu,  8 Aug 2019 17:12:12 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id F2D686E864;
	Thu,  8 Aug 2019 15:12:06 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from bhuna.collabora.co.uk (bhuna.collabora.co.uk [46.235.227.227])
 by gabe.freedesktop.org (Postfix) with ESMTPS id BACC36E864
 for <dri-devel@lists.freedesktop.org>; Thu,  8 Aug 2019 15:12:04 +0000 (UTC)
Received: from localhost.localdomain (unknown
 [IPv6:2a01:e0a:2c:6930:5cf4:84a1:2763:fe0d])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
 (No client certificate requested) (Authenticated sender: bbrezillon)
 by bhuna.collabora.co.uk (Postfix) with ESMTPSA id 8492F28CAA2;
 Thu,  8 Aug 2019 16:12:01 +0100 (BST)
From: Boris Brezillon <boris.brezillon@collabora.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH RFC 08/19] drm/bridge: Introduce drm_bridge_chain_get_{first,
 last, next}_bridge()
Date: Thu,  8 Aug 2019 17:11:39 +0200
Message-Id: <20190808151150.16336-9-boris.brezillon@collabora.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190808151150.16336-1-boris.brezillon@collabora.com>
References: <20190808151150.16336-1-boris.brezillon@collabora.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Jernej Skrabec <jernej.skrabec@siol.net>,
 Laurent Pinchart <Laurent.pinchart@ideasonboard.com>,
 Neil Armstrong <narmstrong@baylibre.com>, Jonas Karlman <jonas@kwiboo.se>,
 Seung-Woo Kim <sw0312.kim@samsung.com>,
 Kyungmin Park <kyungmin.park@samsung.com>,
 Thierry Reding <thierry.reding@gmail.com>, Chris Healy <Chris.Healy@zii.aero>,
 Boris Brezillon <boris.brezillon@collabora.com>, kernel@collabora.com,
 Sam Ravnborg <sam@ravnborg.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QW5kIHVzZSB0aGVtIGluIGRyaXZlcnMgYWNjZXNzaW5nIHRoZSBlbmNvZGVyLT5icmlkZ2Ugb3Ig
YnJpZGdlLT5uZXh0CmZpZWxkcyBkaXJlY3RseS4gVGhpcyBpcyBwYXJ0IG9mIG91ciBhdHRlbXB0
IHRvIG1ha2UgdGhlIGJyaWRnZSBjaGFpbgphIGRvdWJsZS1saW5rZWQgbGlzdCBiYXNlZCBvbiB0
aGUgZ2VuZXJpYyBsaXN0IGhlbHBlcnMuCgpTaWduZWQtb2ZmLWJ5OiBCb3JpcyBCcmV6aWxsb24g
PGJvcmlzLmJyZXppbGxvbkBjb2xsYWJvcmEuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9kcm1f
YnJpZGdlLmMgICAgICAgICAgIHwgNTIgKysrKysrKysrKysrKysrKysrKysrKysrKysKIGRyaXZl
cnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfaGRtaS5jICAgIHwgIDIgKy0KIGRyaXZlcnMvZ3B1L2Ry
bS9tc20vZWRwL2VkcF9icmlkZ2UuYyAgIHwgIDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9vbWFwZHJt
L29tYXBfZHJ2LmMgICAgIHwgIDcgKystLQogZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vb21hcF9l
bmNvZGVyLmMgfCAgMyArLQogZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9kdV9jcnRjLmMg
fCAxMCArKystLQogZHJpdmVycy9ncHUvZHJtL3ZjNC92YzRfZHNpLmMgICAgICAgICAgfCAgNCAr
LQogaW5jbHVkZS9kcm0vZHJtX2JyaWRnZS5oICAgICAgICAgICAgICAgfCAgNiArKysKIDggZmls
ZXMgY2hhbmdlZCwgNzUgaW5zZXJ0aW9ucygrKSwgMTEgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2RybV9icmlkZ2UuYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fYnJp
ZGdlLmMKaW5kZXggMmJmOWExOWUxMWJmLi5iOTZiYmJhMDViYTkgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9kcm1fYnJpZGdlLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2RybV9icmlkZ2Uu
YwpAQCAtMTYwLDYgKzE2MCw1OCBAQCB2b2lkIGRybV9icmlkZ2VfZGV0YWNoKHN0cnVjdCBkcm1f
YnJpZGdlICpicmlkZ2UpCiAJYnJpZGdlLT5kZXYgPSBOVUxMOwogfQogCisvKioKKyAqIGRybV9i
cmlkZ2VfY2hhaW5fZ2V0X2ZpcnN0X2JyaWRnZSgpIC0gR2V0IHRoZSBmaXJzdCBicmlkZ2UgaW4g
dGhlIGNoYWluCisgKiBAZW5jb2RlcjogZW5jb2RlciBvYmplY3QKKyAqCisgKiBSRVRVUk5TOgor
ICogdGhlIGZpcnN0IGJyaWRnZSBpbiB0aGUgZW5jb2RlciBjaGFpbiwgb3IgTlVMTCBpZiB0aGVy
ZSdzIG5vIGJyaWRnZQorICogYXR0YWNoZWQgdG8gdGhpcyBlbmNvZGVyLgorICovCitzdHJ1Y3Qg
ZHJtX2JyaWRnZSAqCitkcm1fYnJpZGdlX2NoYWluX2dldF9maXJzdF9icmlkZ2Uoc3RydWN0IGRy
bV9lbmNvZGVyICplbmNvZGVyKQoreworCXJldHVybiBlbmNvZGVyLT5icmlkZ2U7Cit9CitFWFBP
UlRfU1lNQk9MKGRybV9icmlkZ2VfY2hhaW5fZ2V0X2ZpcnN0X2JyaWRnZSk7CisKKy8qKgorICog
ZHJtX2JyaWRnZV9jaGFpbl9nZXRfbGFzdF9icmlkZ2UoKSAtIEdldCB0aGUgbGFzdCBicmlkZ2Ug
aW4gdGhlIGNoYWluCisgKiBAZW5jb2RlcjogZW5jb2RlciBvYmplY3QKKyAqCisgKiBSRVRVUk5T
OgorICogdGhlIGxhc3QgYnJpZGdlIGluIHRoZSBlbmNvZGVyIGNoYWluLCBvciBOVUxMIGlmIHRo
ZXJlJ3Mgbm8gYnJpZGdlCisgKiBhdHRhY2hlZCB0byB0aGlzIGVuY29kZXIuCisgKi8KK3N0cnVj
dCBkcm1fYnJpZGdlICoKK2RybV9icmlkZ2VfY2hhaW5fZ2V0X2xhc3RfYnJpZGdlKHN0cnVjdCBk
cm1fZW5jb2RlciAqZW5jb2RlcikKK3sKKwlzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlID0gZW5j
b2Rlci0+YnJpZGdlOworCisJd2hpbGUoYnJpZGdlICYmIGJyaWRnZS0+bmV4dCkKKwkJYnJpZGdl
ID0gYnJpZGdlLT5uZXh0OworCisJcmV0dXJuIGJyaWRnZTsKK30KK0VYUE9SVF9TWU1CT0woZHJt
X2JyaWRnZV9jaGFpbl9nZXRfbGFzdF9icmlkZ2UpOworCisvKioKKyAqIGRybV9icmlkZ2VfY2hh
aW5fZ2V0X25leHRfYnJpZGdlKCkgLSBHZXQgdGhlIG5leHQgYnJpZGdlIGluIHRoZSBjaGFpbgor
ICogQGJyaWRnZTogYnJpZGdlIG9iamVjdAorICoKKyAqIFJFVFVSTlM6CisgKiB0aGUgbmV4dCBi
cmlkZ2UgaW4gdGhlIGNoYWluLCBvciBOVUxMIGlmIHRoZXJlJ3MgQGJyaWRnZSBpcyB0aGUgbGFz
dC4KKyAqLworc3RydWN0IGRybV9icmlkZ2UgKgorZHJtX2JyaWRnZV9jaGFpbl9nZXRfbmV4dF9i
cmlkZ2Uoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSkKK3sKKwlpZiAoIWJyaWRnZSB8fCAhYnJp
ZGdlLT5lbmNvZGVyKQorCQlyZXR1cm4gTlVMTDsKKworCXJldHVybiBicmlkZ2UtPm5leHQ7Cit9
CitFWFBPUlRfU1lNQk9MKGRybV9icmlkZ2VfY2hhaW5fZ2V0X25leHRfYnJpZGdlKTsKKwogLyoq
CiAgKiBET0M6IGJyaWRnZSBjYWxsYmFja3MKICAqCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vbWVkaWF0ZWsvbXRrX2hkbWkuYyBiL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfaGRt
aS5jCmluZGV4IDZlYzNkMjU4NDUzOS4uMTdlNmQ3OTMwM2UwIDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vbWVkaWF0ZWsvbXRrX2hkbWkuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vbWVkaWF0
ZWsvbXRrX2hkbWkuYwpAQCAtMTI0Myw3ICsxMjQzLDcgQEAgc3RhdGljIGludCBtdGtfaGRtaV9j
b25uX21vZGVfdmFsaWQoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm4sCiAJCW1vZGUtPmhkaXNw
bGF5LCBtb2RlLT52ZGlzcGxheSwgbW9kZS0+dnJlZnJlc2gsCiAJCSEhKG1vZGUtPmZsYWdzICYg
RFJNX01PREVfRkxBR19JTlRFUkxBQ0UpLCBtb2RlLT5jbG9jayAqIDEwMDApOwogCi0JaWYgKGhk
bWktPmJyaWRnZS5uZXh0KSB7CisJaWYgKGRybV9icmlkZ2VfY2hhaW5fZ2V0X25leHRfYnJpZGdl
KCZoZG1pLT5icmlkZ2UpKSB7CiAJCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlIGFkanVzdGVkX21v
ZGU7CiAKIAkJZHJtX21vZGVfY29weSgmYWRqdXN0ZWRfbW9kZSwgbW9kZSk7CmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vbXNtL2VkcC9lZHBfYnJpZGdlLmMgYi9kcml2ZXJzL2dwdS9kcm0v
bXNtL2VkcC9lZHBfYnJpZGdlLmMKaW5kZXggMjk1MGJiYTRhY2E5Li42ZDJkNDA1NTgwZDIgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9tc20vZWRwL2VkcF9icmlkZ2UuYworKysgYi9kcml2
ZXJzL2dwdS9kcm0vbXNtL2VkcC9lZHBfYnJpZGdlLmMKQEAgLTU2LDcgKzU2LDcgQEAgc3RhdGlj
IHZvaWQgZWRwX2JyaWRnZV9tb2RlX3NldChzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlLAogCiAJ
bGlzdF9mb3JfZWFjaF9lbnRyeShjb25uZWN0b3IsICZkZXYtPm1vZGVfY29uZmlnLmNvbm5lY3Rv
cl9saXN0LCBoZWFkKSB7CiAJCWlmICgoY29ubmVjdG9yLT5lbmNvZGVyICE9IE5VTEwpICYmCi0J
CQkoY29ubmVjdG9yLT5lbmNvZGVyLT5icmlkZ2UgPT0gYnJpZGdlKSkgeworCQkgICAgKGRybV9i
cmlkZ2VfY2hhaW5fZ2V0X2ZpcnN0X2JyaWRnZShjb25uZWN0b3ItPmVuY29kZXIpID09IGJyaWRn
ZSkpIHsKIAkJCW1zbV9lZHBfY3RybF90aW1pbmdfY2ZnKGVkcC0+Y3RybCwKIAkJCQlhZGp1c3Rl
ZF9tb2RlLCAmY29ubmVjdG9yLT5kaXNwbGF5X2luZm8pOwogCQkJYnJlYWs7CmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vb21hcGRybS9vbWFwX2Rydi5jIGIvZHJpdmVycy9ncHUvZHJtL29t
YXBkcm0vb21hcF9kcnYuYwppbmRleCAyMjRlYzZmZGM4MDAuLjQxZmI5OGE5MTQxYiAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vb21hcF9kcnYuYworKysgYi9kcml2ZXJzL2dw
dS9kcm0vb21hcGRybS9vbWFwX2Rydi5jCkBAIC0yMTUsMTEgKzIxNSwxMCBAQCBzdGF0aWMgaW50
IG9tYXBfZGlzcGxheV9pZChzdHJ1Y3Qgb21hcF9kc3NfZGV2aWNlICpvdXRwdXQpCiAJCW5vZGUg
PSBkaXNwbGF5LT5kZXYtPm9mX25vZGU7CiAJCW9tYXBkc3NfZGV2aWNlX3B1dChkaXNwbGF5KTsK
IAl9IGVsc2UgaWYgKG91dHB1dC0+YnJpZGdlKSB7Ci0JCXN0cnVjdCBkcm1fYnJpZGdlICpicmlk
Z2UgPSBvdXRwdXQtPmJyaWRnZTsKLQotCQl3aGlsZSAoYnJpZGdlLT5uZXh0KQotCQkJYnJpZGdl
ID0gYnJpZGdlLT5uZXh0OworCQlzdHJ1Y3QgZHJtX2VuY29kZXIgKmVuY29kZXIgPSBvdXRwdXQt
PmJyaWRnZS0+ZW5jb2RlcjsKKwkJc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZTsKIAorCQlicmlk
Z2UgPSBkcm1fYnJpZGdlX2NoYWluX2dldF9sYXN0X2JyaWRnZShlbmNvZGVyKTsKIAkJbm9kZSA9
IGJyaWRnZS0+b2Zfbm9kZTsKIAl9IGVsc2UgaWYgKG91dHB1dC0+cGFuZWwpIHsKIAkJbm9kZSA9
IG91dHB1dC0+cGFuZWwtPmRldi0+b2Zfbm9kZTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9vbWFwZHJtL29tYXBfZW5jb2Rlci5jIGIvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vb21hcF9l
bmNvZGVyLmMKaW5kZXggMjRiYmU5ZjJhMzJlLi43MjdhNmJlYTM4MDcgMTAwNjQ0Ci0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9vbWFwZHJtL29tYXBfZW5jb2Rlci5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9vbWFwZHJtL29tYXBfZW5jb2Rlci5jCkBAIC0xMjYsNyArMTI2LDggQEAgc3RhdGljIHZvaWQg
b21hcF9lbmNvZGVyX21vZGVfc2V0KHN0cnVjdCBkcm1fZW5jb2RlciAqZW5jb2RlciwKIAlmb3Ig
KGRzc2RldiA9IG91dHB1dDsgZHNzZGV2OyBkc3NkZXYgPSBkc3NkZXYtPm5leHQpCiAJCW9tYXBf
ZW5jb2Rlcl91cGRhdGVfdmlkZW9tb2RlX2ZsYWdzKCZ2bSwgZHNzZGV2LT5idXNfZmxhZ3MpOwog
Ci0JZm9yIChicmlkZ2UgPSBvdXRwdXQtPmJyaWRnZTsgYnJpZGdlOyBicmlkZ2UgPSBicmlkZ2Ut
Pm5leHQpIHsKKwlmb3IgKGJyaWRnZSA9IGRybV9icmlkZ2VfY2hhaW5fZ2V0X2ZpcnN0X2JyaWRn
ZShlbmNvZGVyKTsKKwkgICAgIGJyaWRnZTsgYnJpZGdlID0gZHJtX2JyaWRnZV9jaGFpbl9nZXRf
bmV4dF9icmlkZ2UoYnJpZGdlKSkgewogCQlpZiAoIWJyaWRnZS0+dGltaW5ncykKIAkJCWNvbnRp
bnVlOwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X2NydGMu
YyBiL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfZHVfY3J0Yy5jCmluZGV4IDJkYTQ2ZTNk
YzRhZS4uZjJhZTRjNDEwMjQ0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9y
Y2FyX2R1X2NydGMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2R1X2NydGMu
YwpAQCAtMTQsNiArMTQsNyBAQAogCiAjaW5jbHVkZSA8ZHJtL2RybV9hdG9taWMuaD4KICNpbmNs
dWRlIDxkcm0vZHJtX2F0b21pY19oZWxwZXIuaD4KKyNpbmNsdWRlIDxkcm0vZHJtX2JyaWRnZS5o
PgogI2luY2x1ZGUgPGRybS9kcm1fY3J0Yy5oPgogI2luY2x1ZGUgPGRybS9kcm1fZGV2aWNlLmg+
CiAjaW5jbHVkZSA8ZHJtL2RybV9mYl9jbWFfaGVscGVyLmg+CkBAIC02ODAsOSArNjgxLDEwIEBA
IHN0YXRpYyB2b2lkIHJjYXJfZHVfY3J0Y19hdG9taWNfZW5hYmxlKHN0cnVjdCBkcm1fY3J0YyAq
Y3J0YywKIAkJCXJjZHUtPmVuY29kZXJzW1JDQVJfRFVfT1VUUFVUX0xWRFMwICsgcmNydGMtPmlu
ZGV4XTsKIAkJY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGUgPQogCQkJJmNydGMt
PnN0YXRlLT5hZGp1c3RlZF9tb2RlOworCQlzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlOwogCi0J
CXJjYXJfbHZkc19jbGtfZW5hYmxlKGVuY29kZXItPmJhc2UuYnJpZGdlLAotCQkJCSAgICAgbW9k
ZS0+Y2xvY2sgKiAxMDAwKTsKKwkJYnJpZGdlID0gZHJtX2JyaWRnZV9jaGFpbl9nZXRfZmlyc3Rf
YnJpZGdlKCZlbmNvZGVyLT5iYXNlKTsKKwkJcmNhcl9sdmRzX2Nsa19lbmFibGUoYnJpZGdlLCBt
b2RlLT5jbG9jayAqIDEwMDApOwogCX0KIAogCXJjYXJfZHVfY3J0Y19zdGFydChyY3J0Yyk7CkBA
IC03MDIsMTIgKzcwNCwxNCBAQCBzdGF0aWMgdm9pZCByY2FyX2R1X2NydGNfYXRvbWljX2Rpc2Fi
bGUoc3RydWN0IGRybV9jcnRjICpjcnRjLAogCSAgICByc3RhdGUtPm91dHB1dHMgPT0gQklUKFJD
QVJfRFVfT1VUUFVUX0RQQUQwKSkgewogCQlzdHJ1Y3QgcmNhcl9kdV9lbmNvZGVyICplbmNvZGVy
ID0KIAkJCXJjZHUtPmVuY29kZXJzW1JDQVJfRFVfT1VUUFVUX0xWRFMwICsgcmNydGMtPmluZGV4
XTsKKwkJc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZTsKIAogCQkvKgogCQkgKiBEaXNhYmxlIHRo
ZSBMVkRTIGNsb2NrIG91dHB1dCwgc2VlCiAJCSAqIHJjYXJfZHVfY3J0Y19hdG9taWNfZW5hYmxl
KCkuCiAJCSAqLwotCQlyY2FyX2x2ZHNfY2xrX2Rpc2FibGUoZW5jb2Rlci0+YmFzZS5icmlkZ2Up
OworCQlicmlkZ2UgPSBkcm1fYnJpZGdlX2NoYWluX2dldF9maXJzdF9icmlkZ2UoJmVuY29kZXIt
PmJhc2UpOworCQlyY2FyX2x2ZHNfY2xrX2Rpc2FibGUoYnJpZGdlKTsKIAl9CiAKIAlzcGluX2xv
Y2tfaXJxKCZjcnRjLT5kZXYtPmV2ZW50X2xvY2spOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL3ZjNC92YzRfZHNpLmMgYi9kcml2ZXJzL2dwdS9kcm0vdmM0L3ZjNF9kc2kuYwppbmRleCBk
N2NkNzIwYzRlZmEuLmExNjk4NDE3OTI3ZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3Zj
NC92YzRfZHNpLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3ZjNC92YzRfZHNpLmMKQEAgLTE2Mjks
OCArMTYyOSwxMCBAQCBzdGF0aWMgdm9pZCB2YzRfZHNpX3VuYmluZChzdHJ1Y3QgZGV2aWNlICpk
ZXYsIHN0cnVjdCBkZXZpY2UgKm1hc3RlciwKIAlzdHJ1Y3QgZHJtX2RldmljZSAqZHJtID0gZGV2
X2dldF9kcnZkYXRhKG1hc3Rlcik7CiAJc3RydWN0IHZjNF9kZXYgKnZjNCA9IHRvX3ZjNF9kZXYo
ZHJtKTsKIAlzdHJ1Y3QgdmM0X2RzaSAqZHNpID0gZGV2X2dldF9kcnZkYXRhKGRldik7CisJc3Ry
dWN0IGRybV9icmlkZ2UgKmJyaWRnZTsKIAotCWlmIChkc2ktPmVuY29kZXItPmJyaWRnZSkKKwli
cmlkZ2UgPSBkcm1fYnJpZGdlX2NoYWluX2dldF9maXJzdF9icmlkZ2UoZHNpLT5lbmNvZGVyKTsK
KwlpZiAoYnJpZGdlKQogCQlwbV9ydW50aW1lX2Rpc2FibGUoZGV2KTsKIAogCXZjNF9kc2lfZW5j
b2Rlcl9kZXN0cm95KGRzaS0+ZW5jb2Rlcik7CmRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS9kcm1f
YnJpZGdlLmggYi9pbmNsdWRlL2RybS9kcm1fYnJpZGdlLmgKaW5kZXggMzA1N2UyMTUzZjYyLi5k
NDI5YmQxYzAwZjkgMTAwNjQ0Ci0tLSBhL2luY2x1ZGUvZHJtL2RybV9icmlkZ2UuaAorKysgYi9p
bmNsdWRlL2RybS9kcm1fYnJpZGdlLmgKQEAgLTQwOSw2ICs0MDksMTIgQEAgc3RydWN0IGRybV9i
cmlkZ2UgKm9mX2RybV9maW5kX2JyaWRnZShzdHJ1Y3QgZGV2aWNlX25vZGUgKm5wKTsKIGludCBk
cm1fYnJpZGdlX2F0dGFjaChzdHJ1Y3QgZHJtX2VuY29kZXIgKmVuY29kZXIsIHN0cnVjdCBkcm1f
YnJpZGdlICpicmlkZ2UsCiAJCSAgICAgIHN0cnVjdCBkcm1fYnJpZGdlICpwcmV2aW91cyk7CiAK
K3N0cnVjdCBkcm1fYnJpZGdlICoKK2RybV9icmlkZ2VfY2hhaW5fZ2V0X2ZpcnN0X2JyaWRnZShz
dHJ1Y3QgZHJtX2VuY29kZXIgKmVuY29kZXIpOworc3RydWN0IGRybV9icmlkZ2UgKgorZHJtX2Jy
aWRnZV9jaGFpbl9nZXRfbGFzdF9icmlkZ2Uoc3RydWN0IGRybV9lbmNvZGVyICplbmNvZGVyKTsK
K3N0cnVjdCBkcm1fYnJpZGdlICoKK2RybV9icmlkZ2VfY2hhaW5fZ2V0X25leHRfYnJpZGdlKHN0
cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UpOwogYm9vbCBkcm1fYnJpZGdlX2NoYWluX21vZGVfZml4
dXAoc3RydWN0IGRybV9lbmNvZGVyICplbmNvZGVyLAogCQkJCSBjb25zdCBzdHJ1Y3QgZHJtX2Rp
c3BsYXlfbW9kZSAqbW9kZSwKIAkJCQkgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKmFkanVzdGVk
X21vZGUpOwotLSAKMi4yMS4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVz
a3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9k
cmktZGV2ZWw=
