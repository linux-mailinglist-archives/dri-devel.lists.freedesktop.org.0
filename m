Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 2499C23B9AA
	for <lists+dri-devel@lfdr.de>; Tue,  4 Aug 2020 13:38:13 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 2F81E6E461;
	Tue,  4 Aug 2020 11:38:11 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from NAM11-BN8-obe.outbound.protection.outlook.com
 (mail-bn8nam11on2084.outbound.protection.outlook.com [40.107.236.84])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 6873F6E461
 for <dri-devel@lists.freedesktop.org>; Tue,  4 Aug 2020 11:38:10 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=lX4aowt1FeupShnMqGguSRkKpN0rE8E1m9ivaJInDZa9cpQeiIq73XMMWGSLZ25CDxqrgI9ngW5t8d8omL71JCG3j8SqGvprUugHMRl/rlAuXVzybHHlvynug1zNrtFaXAfekicKxhT2lCbK98pt+l+rG6GIuWpGPqlVZ9zu/OTXyK6ekzWCaaTSgQtfLTzCBsi6J0+vRbFf2kCp52etBPiQ2g/w1GwfxkD8pU8zPiSfhdq57zGk6Tugw4+yBuskRhRsoHwap55KavDWEVnFzkBGVfDVYgMsUfIbUcZ9QffFbDZZxy8f5XY5Rx9b8QS47htOihHDFc7wWV2shOWTlA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=rR6WQt7xAgM+xC1PBO2z766pAHX3DkFVKDuv7nkqjW4=;
 b=iaisBIkUcaZ0R69w9+CHF4QJlDZB/eoPbptlseAUMAUKAe7HGMQq91nV80Y/7AzjJhBuVNsT51vX79L0aEOteHDcPisZBj+xh77XGl2FiUIYE7E1PLSPXTTJhk4sPCvqC/ocmqRUGOBuH3w7ps2sjk69FeC3oddWF7OSJo+3PRq2feXbnL0SsplGhHZLLaEFrsOhswwqw8w7jOnw+sHlpNEUQYhHvu+PYxDdtOEMdlCDQnKZMUWk2lD+9+qjNsWCXofJgKNWuRK73dVSd6G/yjYZHphWxSkUSpqI9V6DKkYxrhCs4v1x6Sxe+ljyZHp5OOS5TyuUbyqdrb5jeUdF3A==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=rR6WQt7xAgM+xC1PBO2z766pAHX3DkFVKDuv7nkqjW4=;
 b=jfNrjEex4T/cra82TGz/5pcwfOrrKAHk6snSEb8wrWpe5cePyTR3urYIN4dzqpfYcW3SrL0VZOgW5p7aOR3b9pN+vMPojGt+/LI9uSO6KU+QRI85Ttpk7FG310c9lFo8XCJP3YxSzATiZniOKfK02kPRsN+OJq4DFQuyuhxmyhU=
Authentication-Results: redhat.com; dkim=none (message not signed)
 header.d=none;redhat.com; dmarc=none action=none header.from=amd.com;
Received: from MN2PR12MB3775.namprd12.prod.outlook.com (2603:10b6:208:159::19)
 by MN2PR12MB4111.namprd12.prod.outlook.com (2603:10b6:208:1de::22)
 with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.3239.20; Tue, 4 Aug
 2020 11:38:04 +0000
Received: from MN2PR12MB3775.namprd12.prod.outlook.com
 ([fe80::a16e:8812:b4c0:918d]) by MN2PR12MB3775.namprd12.prod.outlook.com
 ([fe80::a16e:8812:b4c0:918d%6]) with mapi id 15.20.3239.022; Tue, 4 Aug 2020
 11:38:04 +0000
Subject: Re: [PATCH 55/59] drm/ttm: drop type manager has_type
To: Dave Airlie <airlied@gmail.com>, dri-devel@lists.freedesktop.org
References: <20200804025632.3868079-1-airlied@gmail.com>
 <20200804025632.3868079-56-airlied@gmail.com>
From: =?UTF-8?Q?Christian_K=c3=b6nig?= <christian.koenig@amd.com>
Message-ID: <602a5911-d208-a141-0d15-4b8a0dbd8a3c@amd.com>
Date: Tue, 4 Aug 2020 13:37:59 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101
 Thunderbird/68.10.0
In-Reply-To: <20200804025632.3868079-56-airlied@gmail.com>
Content-Language: en-US
X-ClientProxiedBy: AM0PR10CA0118.EURPRD10.PROD.OUTLOOK.COM
 (2603:10a6:208:e6::35) To MN2PR12MB3775.namprd12.prod.outlook.com
 (2603:10b6:208:159::19)
MIME-Version: 1.0
X-MS-Exchange-MessageSentRepresentingType: 1
Received: from [IPv6:2a02:908:1252:fb60:be8a:bd56:1f94:86e7]
 (2a02:908:1252:fb60:be8a:bd56:1f94:86e7) by
 AM0PR10CA0118.EURPRD10.PROD.OUTLOOK.COM (2603:10a6:208:e6::35) with Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.3239.17 via Frontend Transport; Tue, 4 Aug 2020 11:38:03 +0000
X-Originating-IP: [2a02:908:1252:fb60:be8a:bd56:1f94:86e7]
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-HT: Tenant
X-MS-Office365-Filtering-Correlation-Id: baa98566-b91a-4e44-e426-08d8386ad9ba
X-MS-TrafficTypeDiagnostic: MN2PR12MB4111:
X-Microsoft-Antispam-PRVS: <MN2PR12MB41111F2DFFA820C2B09E2724834A0@MN2PR12MB4111.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:4502;
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: aTYh7EVG2BHU9yBz+cs49vrZtVR1jOvSTZtzPxGgKWqqNheK1X/yLVAVT4rJsC6ndWXAs9WoXLaBAZ/SjOttldWZSJR0i0kVj+ZUOszPOZE/jtArfC4kr3ibasgKvAQULeGiX+lCAEpoI0HmnZADztBnYQcRxGZHo6ainjnhSFjvOQkG/mrc1r+cOmxnP4CZxHGo49artQ4bTl8iAURHPG+j00Tv9lDrvy87FelYoyJyRbCMpK5i2Oyow2SpTW+gckZi4zcPfYKO3qOpcc8veZgfB8wThOL2qEJVBGMrr/Y/6M1xJBXutuKxfEuByLOWqgSLM/mdg2s7goVgb47v00M+SIU7RarXn9QUQqQyScYRAYM3pyi2hzFSCGzObB+L
X-Forefront-Antispam-Report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:MN2PR12MB3775.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFTY:;
 SFS:(4636009)(136003)(346002)(396003)(376002)(39860400002)(366004)(478600001)(6486002)(86362001)(2906002)(6666004)(66574015)(316002)(16526019)(186003)(83380400001)(52116002)(8936002)(66556008)(31696002)(4326008)(66946007)(31686004)(2616005)(66476007)(36756003)(8676002)(5660300002)(43740500002);
 DIR:OUT; SFP:1101; 
X-MS-Exchange-AntiSpam-MessageData: /anl4Wyh0yaqv3sSFpap4URQc4hV0iZ3ZXdzpfq3KAIbpjhCDf7VTbvGAgcWeschZwmiBA8veodocIS02dr7KlJ5tK3QtRdBg2grvuchyoEWV9DDP4ZhCVjt1sjBsGwJNcP+6kdRt+5obhJzyADLevrR7WEJZ0Pb3wNUkVanuJ7Be8+nbOlM3Yqe5SVK/NiT5NA6SNQgD3RU+qhG+p4Re0hEIKIo6MxYlF1Y36T55iaBlzVUSLzx/VKTGcs8exkbWXi4iMxJJlomQZ3kXETXz3mOYshlcS9OLCBFQVMW0ZvF51k4YRBYvY5JgOodRGpEuwD6qAg7bcXqA1/VjIpzSm2KOKTZRE6IVvlrmN2RwGX42hNqaywQTWq7xiSWGswtDlNtdshh1+eDEAow31bbZaghcSp9cQYeNoDniD38yijs0sNth0v9zg2CsgQEpMWC+V3T47LmdXfs5IM0rC5deN8rb+Xj9Uzzr+vNYjIrkXtjRX/WeSDmEknhfSUZjOaw5id23ZCzHh2BPJ7xHxUaQ1ZM2yQsn/Xgk3j6+g8WrvSk43h1+wPx+0JuHUDhcuS83BjzT2drcb57vvbz2rNWeYgKjij1/ujEK4K6YgpKOV+E8s+PypMkRwxIDVKrNm72beDFCkTRdv+7AAaipLD0X7/1OXLznBmvwOkog9KNi7J76rcu/vpC2GcY10VyUDzzQ9l6yhKk/qxpvw1jwyx9yg==
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: baa98566-b91a-4e44-e426-08d8386ad9ba
X-MS-Exchange-CrossTenant-AuthSource: MN2PR12MB3775.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 04 Aug 2020 11:38:04.6616 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: stUVb/NrX6dnC3LOKjxNOKXdG6vSuRva/9IrCl30ArgCH5nof6t4QmwteR79/DRw
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB4111
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: sroland@vmware.com, linux-graphics-maintainer@vmware.com,
 bskeggs@redhat.com, kraxel@redhat.com
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QW0gMDQuMDguMjAgdW0gMDQ6NTYgc2NocmllYiBEYXZlIEFpcmxpZToKPiBGcm9tOiBEYXZlIEFp
cmxpZSA8YWlybGllZEByZWRoYXQuY29tPgo+Cj4gdW5kZXIgZHJpdmVyIGNvbnRyb2wsIHRoaXMg
ZmxhZyBpc24ndCBuZWVkZWQgYW55bW9yZSwKPiByZW1vdmUgdGhlIEFQSSB0aGF0IHVzZWQgdG8g
YWNjZXNzIGl0LCBhbmQgY29uc29sZGlhdGUKPiB3aXRoIHRoZSB1c2VkIGFwaS4KPgo+IFNpZ25l
ZC1vZmYtYnk6IERhdmUgQWlybGllIDxhaXJsaWVkQHJlZGhhdC5jb20+CgpSZXZpZXdlZC1ieTog
Q2hyaXN0aWFuIEvDtm5pZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPgoKPiAtLS0KPiAgIGRy
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9ndHRfbWdyLmMgICB8ICAyICstCj4gICBk
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdnJhbV9tZ3IuYyAgfCAgMiArLQo+ICAg
ZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbm91dmVhdV90dG0uYyAgICAgICAgIHwgIDQgKystLQo+
ICAgZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm8uYyAgICAgICAgICAgICAgICAgIHwgIDggKysr
LS0tLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2JvX21hbmFnZXIuYyAgICAgICAgICB8
ICAyICstCj4gICBkcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9nbXJpZF9tYW5hZ2VyLmMg
fCAgMiArLQo+ICAgZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfdGhwLmMgICAgICAgICAg
IHwgIDIgKy0KPiAgIGluY2x1ZGUvZHJtL3R0bS90dG1fYm9fZHJpdmVyLmggICAgICAgICAgICAg
ICB8IDE3IC0tLS0tLS0tLS0tLS0tLS0tCj4gICA4IGZpbGVzIGNoYW5nZWQsIDEwIGluc2VydGlv
bnMoKyksIDI5IGRlbGV0aW9ucygtKQo+Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2FtZGdwdV9ndHRfbWdyLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9h
bWRncHVfZ3R0X21nci5jCj4gaW5kZXggOWZjM2Q4NzZlZDM4Li43MTQ2MWQ2NTJmY2MgMTAwNjQ0
Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2d0dF9tZ3IuYwo+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9ndHRfbWdyLmMKPiBAQCAtMTQ2
LDcgKzE0Niw3IEBAIHZvaWQgYW1kZ3B1X2d0dF9tZ3JfZmluaShzdHJ1Y3QgYW1kZ3B1X2Rldmlj
ZSAqYWRldikKPiAgIAlzdHJ1Y3QgYW1kZ3B1X2d0dF9tZ3IgKm1nciA9IHRvX2d0dF9tZ3IobWFu
KTsKPiAgIAlpbnQgcmV0Owo+ICAgCj4gLQl0dG1fbWVtX3R5cGVfbWFuYWdlcl9kaXNhYmxlKG1h
bik7Cj4gKwl0dG1fbWVtX3R5cGVfbWFuYWdlcl9zZXRfdXNlZChtYW4sIGZhbHNlKTsKPiAgIAo+
ICAgCXJldCA9IHR0bV9tZW1fdHlwZV9tYW5hZ2VyX2ZvcmNlX2xpc3RfY2xlYW4oJmFkZXYtPm1t
YW4uYmRldiwgbWFuKTsKPiAgIAlpZiAocmV0KQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9hbWRncHVfdnJhbV9tZ3IuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L2FtZGdwdV92cmFtX21nci5jCj4gaW5kZXggNjg0Njk4Y2RmNzcyLi44Y2M0NGMzZDJmZGQg
MTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZyYW1fbWdy
LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdnJhbV9tZ3IuYwo+
IEBAIC0yMjMsNyArMjIzLDcgQEAgdm9pZCBhbWRncHVfdnJhbV9tZ3JfZmluaShzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldikKPiAgIAlzdHJ1Y3QgYW1kZ3B1X3ZyYW1fbWdyICptZ3IgPSB0b192
cmFtX21ncihtYW4pOwo+ICAgCWludCByZXQ7Cj4gICAKPiAtCXR0bV9tZW1fdHlwZV9tYW5hZ2Vy
X2Rpc2FibGUobWFuKTsKPiArCXR0bV9tZW1fdHlwZV9tYW5hZ2VyX3NldF91c2VkKG1hbiwgZmFs
c2UpOwo+ICAgCj4gICAJcmV0ID0gdHRtX21lbV90eXBlX21hbmFnZXJfZm9yY2VfbGlzdF9jbGVh
bigmYWRldi0+bW1hbi5iZGV2LCBtYW4pOwo+ICAgCWlmIChyZXQpCj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfdHRtLmMgYi9kcml2ZXJzL2dwdS9kcm0vbm91
dmVhdS9ub3V2ZWF1X3R0bS5jCj4gaW5kZXggZDQwOGUxNDg1Y2NlLi4yMjE4NWE4ZGNmYTEgMTAw
NjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbm91dmVhdV90dG0uYwo+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfdHRtLmMKPiBAQCAtMTk0LDcgKzE5NCw3
IEBAIG5vdXZlYXVfdHRtX2ZpbmlfdnJhbShzdHJ1Y3Qgbm91dmVhdV9kcm0gKmRybSkKPiAgIAlz
dHJ1Y3QgdHRtX21lbV90eXBlX21hbmFnZXIgKm1hbiA9IHR0bV9tYW5hZ2VyX3R5cGUoJmRybS0+
dHRtLmJkZXYsIFRUTV9QTF9WUkFNKTsKPiAgIAo+ICAgCWlmIChkcm0tPmNsaWVudC5kZXZpY2Uu
aW5mby5mYW1pbHkgPj0gTlZfREVWSUNFX0lORk9fVjBfVEVTTEEpIHsKPiAtCQl0dG1fbWVtX3R5
cGVfbWFuYWdlcl9kaXNhYmxlKG1hbik7Cj4gKwkJdHRtX21lbV90eXBlX21hbmFnZXJfc2V0X3Vz
ZWQobWFuLCBmYWxzZSk7Cj4gICAJCXR0bV9tZW1fdHlwZV9tYW5hZ2VyX2ZvcmNlX2xpc3RfY2xl
YW4oJmRybS0+dHRtLmJkZXYsIG1hbik7Cj4gICAJCXR0bV9tZW1fdHlwZV9tYW5hZ2VyX2NsZWFu
dXAobWFuKTsKPiAgIAkJdHRtX3NldF9kcml2ZXJfbWFuYWdlcigmZHJtLT50dG0uYmRldiwgVFRN
X1BMX1ZSQU0sIE5VTEwpOwo+IEBAIC0yNTMsNyArMjUzLDcgQEAgbm91dmVhdV90dG1fZmluaV9n
dHQoc3RydWN0IG5vdXZlYXVfZHJtICpkcm0pCj4gICAJICAgIGRybS0+YWdwLmJyaWRnZSkKPiAg
IAkJdHRtX3JhbmdlX21hbl9maW5pKCZkcm0tPnR0bS5iZGV2LCBUVE1fUExfVFQpOwo+ICAgCWVs
c2Ugewo+IC0JCXR0bV9tZW1fdHlwZV9tYW5hZ2VyX2Rpc2FibGUobWFuKTsKPiArCQl0dG1fbWVt
X3R5cGVfbWFuYWdlcl9zZXRfdXNlZChtYW4sIGZhbHNlKTsKPiAgIAkJdHRtX21lbV90eXBlX21h
bmFnZXJfZm9yY2VfbGlzdF9jbGVhbigmZHJtLT50dG0uYmRldiwgbWFuKTsKPiAgIAkJdHRtX21l
bV90eXBlX21hbmFnZXJfY2xlYW51cChtYW4pOwo+ICAgCQl0dG1fc2V0X2RyaXZlcl9tYW5hZ2Vy
KCZkcm0tPnR0bS5iZGV2LCBUVE1fUExfVFQsIE5VTEwpOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vdHRtL3R0bV9iby5jIGIvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm8uYwo+IGlu
ZGV4IDEyYWJlNDZiZmJjMS4uY2RhMzNiNGFmNjgxIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1
L2RybS90dG0vdHRtX2JvLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9iby5jCj4g
QEAgLTgwLDcgKzgwLDYgQEAgc3RhdGljIGlubGluZSBpbnQgdHRtX21lbV90eXBlX2Zyb21fcGxh
Y2UoY29uc3Qgc3RydWN0IHR0bV9wbGFjZSAqcGxhY2UsCj4gICB2b2lkIHR0bV9tZW1fdHlwZV9t
YW5hZ2VyX2RlYnVnKHN0cnVjdCB0dG1fbWVtX3R5cGVfbWFuYWdlciAqbWFuLAo+ICAgCQkJCXN0
cnVjdCBkcm1fcHJpbnRlciAqcCkKPiAgIHsKPiAtCWRybV9wcmludGYocCwgIiAgICBoYXNfdHlw
ZTogJWRcbiIsIG1hbi0+aGFzX3R5cGUpOwo+ICAgCWRybV9wcmludGYocCwgIiAgICB1c2VfdHlw
ZTogJWRcbiIsIG1hbi0+dXNlX3R5cGUpOwo+ICAgCWRybV9wcmludGYocCwgIiAgICB1c2VfdHQ6
ICVkXG4iLCBtYW4tPnVzZV90dCk7Cj4gICAJZHJtX3ByaW50ZihwLCAiICAgIHNpemU6ICVsbHVc
biIsIG1hbi0+c2l6ZSk7Cj4gQEAgLTEwMDMsNyArMTAwMiw3IEBAIHN0YXRpYyBpbnQgdHRtX2Jv
X21lbV9wbGFjZW1lbnQoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAgIAkJcmV0dXJu
IHJldDsKPiAgIAo+ICAgCW1hbiA9IHR0bV9tYW5hZ2VyX3R5cGUoYmRldiwgbWVtX3R5cGUpOwo+
IC0JaWYgKCFtYW4tPmhhc190eXBlIHx8ICFtYW4tPnVzZV90eXBlKQo+ICsJaWYgKCFtYW4gfHwg
IW1hbi0+dXNlX3R5cGUpCj4gICAJCXJldHVybiAtRUJVU1k7Cj4gICAKPiAgIAlpZiAoIXR0bV9i
b19tdF9jb21wYXRpYmxlKG1hbiwgbWVtX3R5cGUsIHBsYWNlLCAmY3VyX2ZsYWdzKSkKPiBAQCAt
MTQ2Miw3ICsxNDYxLDcgQEAgaW50IHR0bV9ib19ldmljdF9tbShzdHJ1Y3QgdHRtX2JvX2Rldmlj
ZSAqYmRldiwgdW5zaWduZWQgbWVtX3R5cGUpCj4gICAJCXJldHVybiAtRUlOVkFMOwo+ICAgCX0K
PiAgIAo+IC0JaWYgKCFtYW4tPmhhc190eXBlKSB7Cj4gKwlpZiAoIW1hbikgewo+ICAgCQlwcl9l
cnIoIk1lbW9yeSB0eXBlICV1IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZFxuIiwgbWVtX3R5cGUp
Owo+ICAgCQlyZXR1cm4gMDsKPiAgIAl9Cj4gQEAgLTE0NzYsNyArMTQ3NSw2IEBAIHZvaWQgdHRt
X21lbV90eXBlX21hbmFnZXJfaW5pdChzdHJ1Y3QgdHRtX21lbV90eXBlX21hbmFnZXIgKm1hbiwK
PiAgIHsKPiAgIAl1bnNpZ25lZCBpOwo+ICAgCj4gLQlCVUdfT04obWFuLT5oYXNfdHlwZSk7Cj4g
ICAJbWFuLT51c2VfaW9fcmVzZXJ2ZV9scnUgPSBmYWxzZTsKPiAgIAltdXRleF9pbml0KCZtYW4t
PmlvX3Jlc2VydmVfbXV0ZXgpOwo+ICAgCXNwaW5fbG9ja19pbml0KCZtYW4tPm1vdmVfbG9jayk7
Cj4gQEAgLTE1NTcsNyArMTU1NSw3IEBAIGludCB0dG1fYm9fZGV2aWNlX3JlbGVhc2Uoc3RydWN0
IHR0bV9ib19kZXZpY2UgKmJkZXYpCj4gICAJc3RydWN0IHR0bV9tZW1fdHlwZV9tYW5hZ2VyICpt
YW47Cj4gICAKPiAgIAltYW4gPSB0dG1fbWFuYWdlcl90eXBlKGJkZXYsIFRUTV9QTF9TWVNURU0p
Owo+IC0JdHRtX21lbV90eXBlX21hbmFnZXJfZGlzYWJsZShtYW4pOwo+ICsJdHRtX21lbV90eXBl
X21hbmFnZXJfc2V0X3VzZWQobWFuLCBmYWxzZSk7Cj4gICAJdHRtX3NldF9kcml2ZXJfbWFuYWdl
cihiZGV2LCBUVE1fUExfU1lTVEVNLCBOVUxMKTsKPiAgIAo+ICAgCW11dGV4X2xvY2soJnR0bV9n
bG9iYWxfbXV0ZXgpOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9ib19t
YW5hZ2VyLmMgYi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9ib19tYW5hZ2VyLmMKPiBpbmRleCAx
YjcyNDVjZTMzNTYuLjY2NzlkYzExOTM0ZiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
dHRtL3R0bV9ib19tYW5hZ2VyLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9ib19t
YW5hZ2VyLmMKPiBAQCAtMTUyLDcgKzE1Miw3IEBAIGludCB0dG1fcmFuZ2VfbWFuX2Zpbmkoc3Ry
dWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCj4gICAJc3RydWN0IGRybV9tbSAqbW0gPSAmcm1hbi0+
bW07Cj4gICAJaW50IHJldDsKPiAgIAo+IC0JdHRtX21lbV90eXBlX21hbmFnZXJfZGlzYWJsZSht
YW4pOwo+ICsJdHRtX21lbV90eXBlX21hbmFnZXJfc2V0X3VzZWQobWFuLCBmYWxzZSk7Cj4gICAK
PiAgIAlyZXQgPSB0dG1fbWVtX3R5cGVfbWFuYWdlcl9mb3JjZV9saXN0X2NsZWFuKGJkZXYsIG1h
bik7Cj4gICAJaWYgKHJldCkKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92
bXdnZnhfZ21yaWRfbWFuYWdlci5jIGIvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfZ21y
aWRfbWFuYWdlci5jCj4gaW5kZXggYzNmYTI1MTYxZmQwLi5jYTUwMzcxODQ4MTQgMTAwNjQ0Cj4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfZ21yaWRfbWFuYWdlci5jCj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfZ21yaWRfbWFuYWdlci5jCj4gQEAgLTE0
Myw3ICsxNDMsNyBAQCB2b2lkIHZtd19nbXJpZF9tYW5fZmluaShzdHJ1Y3Qgdm13X3ByaXZhdGUg
KmRldl9wcml2LCBpbnQgdHlwZSkKPiAgIAlzdHJ1Y3QgdHRtX21lbV90eXBlX21hbmFnZXIgKm1h
biA9IHR0bV9tYW5hZ2VyX3R5cGUoJmRldl9wcml2LT5iZGV2LCB0eXBlKTsKPiAgIAlzdHJ1Y3Qg
dm13Z2Z4X2dtcmlkX21hbiAqZ21hbiA9IHRvX2dtcmlkX21hbmFnZXIobWFuKTsKPiAgIAo+IC0J
dHRtX21lbV90eXBlX21hbmFnZXJfZGlzYWJsZShtYW4pOwo+ICsJdHRtX21lbV90eXBlX21hbmFn
ZXJfc2V0X3VzZWQobWFuLCBmYWxzZSk7Cj4gICAKPiAgIAl0dG1fbWVtX3R5cGVfbWFuYWdlcl9m
b3JjZV9saXN0X2NsZWFuKCZkZXZfcHJpdi0+YmRldiwgbWFuKTsKPiAgIAo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF90aHAuYyBiL2RyaXZlcnMvZ3B1L2RybS92
bXdnZngvdm13Z2Z4X3RocC5jCj4gaW5kZXggMGI5YzI5MjQ5MzkzLi40MTEwZTgzMDkxODggMTAw
NjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfdGhwLmMKPiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF90aHAuYwo+IEBAIC0xNTIsNyArMTUyLDcgQEAg
dm9pZCB2bXdfdGhwX2Zpbmkoc3RydWN0IHZtd19wcml2YXRlICpkZXZfcHJpdikKPiAgIAlzdHJ1
Y3QgZHJtX21tICptbSA9ICZybWFuLT5tbTsKPiAgIAlpbnQgcmV0Owo+ICAgCj4gLQl0dG1fbWVt
X3R5cGVfbWFuYWdlcl9kaXNhYmxlKG1hbik7Cj4gKwl0dG1fbWVtX3R5cGVfbWFuYWdlcl9zZXRf
dXNlZChtYW4sIGZhbHNlKTsKPiAgIAo+ICAgCXJldCA9IHR0bV9tZW1fdHlwZV9tYW5hZ2VyX2Zv
cmNlX2xpc3RfY2xlYW4oJmRldl9wcml2LT5iZGV2LCBtYW4pOwo+ICAgCWlmIChyZXQpCj4gZGlm
ZiAtLWdpdCBhL2luY2x1ZGUvZHJtL3R0bS90dG1fYm9fZHJpdmVyLmggYi9pbmNsdWRlL2RybS90
dG0vdHRtX2JvX2RyaXZlci5oCj4gaW5kZXggZDU2NDZkN2NhYzYwLi4zMDA5MzQyODllNjQgMTAw
NjQ0Cj4gLS0tIGEvaW5jbHVkZS9kcm0vdHRtL3R0bV9ib19kcml2ZXIuaAo+ICsrKyBiL2luY2x1
ZGUvZHJtL3R0bS90dG1fYm9fZHJpdmVyLmgKPiBAQCAtMTExLDcgKzExMSw2IEBAIHN0cnVjdCB0
dG1fbWVtX3R5cGVfbWFuYWdlcl9mdW5jIHsKPiAgIC8qKgo+ICAgICogc3RydWN0IHR0bV9tZW1f
dHlwZV9tYW5hZ2VyCj4gICAgKgo+IC0gKiBAaGFzX3R5cGU6IFRoZSBtZW1vcnkgdHlwZSBoYXMg
YmVlbiBpbml0aWFsaXplZC4KPiAgICAqIEB1c2VfdHlwZTogVGhlIG1lbW9yeSB0eXBlIGlzIGVu
YWJsZWQuCj4gICAgKiBAZmxhZ3M6IFRUTV9NRU1UWVBFX1hYIGZsYWdzIGlkZW50aWZ5aW5nIHRo
ZSB0cmFpdHMgb2YgdGhlIG1lbW9yeQo+ICAgICogbWFuYWdlZCBieSB0aGlzIG1lbW9yeSB0eXBl
Lgo+IEBAIC0xNDEsOCArMTQwLDYgQEAgc3RydWN0IHR0bV9tZW1fdHlwZV9tYW5hZ2VyIHsKPiAg
IAkvKgo+ICAgCSAqIE5vIHByb3RlY3Rpb24uIENvbnN0YW50IGZyb20gc3RhcnQuCj4gICAJICov
Cj4gLQo+IC0JYm9vbCBoYXNfdHlwZTsKPiAgIAlib29sIHVzZV90eXBlOwo+ICAgCWJvb2wgdXNl
X3R0Owo+ICAgCXVpbnQ2NF90IHNpemU7Cj4gQEAgLTY3OCwyMyArNjc1LDkgQEAgc3RhdGljIGlu
bGluZSB2b2lkIHR0bV9ib191bnJlc2VydmUoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibykK
PiAgICAqLwo+ICAgc3RhdGljIGlubGluZSB2b2lkIHR0bV9tZW1fdHlwZV9tYW5hZ2VyX3NldF91
c2VkKHN0cnVjdCB0dG1fbWVtX3R5cGVfbWFuYWdlciAqbWFuLCBib29sIHVzZWQpCj4gICB7Cj4g
LQltYW4tPmhhc190eXBlID0gdHJ1ZTsKPiAgIAltYW4tPnVzZV90eXBlID0gdXNlZDsKPiAgIH0K
PiAgIAo+IC0vKioKPiAtICogdHRtX21lbV90eXBlX21hbmFnZXJfZGlzYWJsZS4KPiAtICoKPiAt
ICogQG1hbjogQSBtZW1vcnkgbWFuYWdlciBvYmplY3QuCj4gLSAqCj4gLSAqIEluZGljYXRlIHRo
ZSBtYW5hZ2VyIGlzIG5vdCB0byBiZSB1c2VkIGFuZCBkZXJlZ2lzdGVyZWQuICh0ZW1wb3Jhcnkg
ZHVyaW5nIHJld29yaykuCj4gLSAqLwo+IC1zdGF0aWMgaW5saW5lIHZvaWQgdHRtX21lbV90eXBl
X21hbmFnZXJfZGlzYWJsZShzdHJ1Y3QgdHRtX21lbV90eXBlX21hbmFnZXIgKm1hbikKPiAtewo+
IC0JbWFuLT5oYXNfdHlwZSA9IGZhbHNlOwo+IC0JbWFuLT51c2VfdHlwZSA9IGZhbHNlOwo+IC19
Cj4gLQo+ICAgLyoqCj4gICAgKiB0dG1fbWVtX3R5cGVfbWFuYWdlcl9jbGVhbnVwCj4gICAgKgoK
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVs
IG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlz
dHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVsCg==
