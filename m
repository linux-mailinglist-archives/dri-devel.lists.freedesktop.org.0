Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id E4F87103D6C
	for <lists+dri-devel@lfdr.de>; Wed, 20 Nov 2019 15:41:13 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8214A6EA62;
	Wed, 20 Nov 2019 14:41:10 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga05.intel.com (mga05.intel.com [192.55.52.43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C77F46E330;
 Wed, 20 Nov 2019 14:41:09 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by fmsmga105.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 20 Nov 2019 06:41:02 -0800
X-IronPort-AV: E=Sophos;i="5.69,222,1571727600"; d="scan'208";a="200736464"
Received: from jnikula-mobl3.fi.intel.com (HELO localhost) ([10.237.66.161])
 by orsmga008-auth.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 20 Nov 2019 06:40:52 -0800
From: Jani Nikula <jani.nikula@linux.intel.com>
To: Rajat Jain <rajatja@google.com>, Maarten Lankhorst
 <maarten.lankhorst@linux.intel.com>, Maxime Ripard <mripard@kernel.org>,
 Sean Paul <sean@poorly.run>, David Airlie <airlied@linux.ie>, Daniel
 Vetter <daniel@ffwll.ch>, Joonas Lahtinen
 <joonas.lahtinen@linux.intel.com>, Rodrigo Vivi <rodrigo.vivi@intel.com>,
 Ville =?utf-8?B?U3lyasOkbMOk?= <ville.syrjala@linux.intel.com>, Chris
 Wilson <chris@chris-wilson.co.uk>, Imre Deak <imre.deak@intel.com>,
 =?utf-8?Q?Jos=C3=A9?= Roberto de Souza <jose.souza@intel.com>,
 linux-kernel@vger.kernel.org, dri-devel@lists.freedesktop.org,
 intel-gfx@lists.freedesktop.org, gregkh@linuxfoundation.org,
 mathewk@google.com, Daniel Thompson <daniel.thompson@linaro.org>, Jonathan
 Corbet <corbet@lwn.net>, Pavel Machek <pavel@denx.de>,
 seanpaul@google.com, Duncan Laurie <dlaurie@google.com>,
 jsbarnes@google.com, Thierry Reding <thierry.reding@gmail.com>
Subject: Re: [PATCH v2 1/3] drm/i915: Move the code to populate ACPI device ID
 into intel_acpi
In-Reply-To: <20191104194147.185642-1-rajatja@google.com>
Organization: Intel Finland Oy - BIC 0357606-4 - Westendinkatu 7, 02160 Espoo
References: <20191023001206.15741-1-rajatja@google.com>
 <20191104194147.185642-1-rajatja@google.com>
Date: Wed, 20 Nov 2019 16:40:49 +0200
Message-ID: <87wobuwqz2.fsf@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Rajat Jain <rajatja@google.com>, rajatxjain@gmail.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gTW9uLCAwNCBOb3YgMjAxOSwgUmFqYXQgSmFpbiA8cmFqYXRqYUBnb29nbGUuY29tPiB3cm90
ZToKPiBNb3ZlIHRoZSBjb2RlIHRoYXQgcG9wdWxhdGVzIHRoZSBBQ1BJIGRldmljZSBJRCBmb3Ig
ZGV2aWNlcywgaW50bwo+IG1vcmUgYXBwcmlwcmlhdGUgaW50ZWxfYWNwaS5jLiBUaGlzIGlzIGRv
bmUgaW4gcHJlcGFyYXRpb24gZm9yIG1vcmUKPiB1c2VycyBvZiB0aGlzIGNvZGUgKGluIG5leHQg
cGF0Y2gpLgoKSSBkb24ndCB0aGluayB5b3VyIHVzZSBvZiB0aGUgY29kZSBtYWtlcyBzZW5zZSAo
SSdsbCBleHBsYWluIGluIHJlcGx5IHRvCnRoZSBvdGhlciBwYXRjaGVzKSBidXQgSSBjb3VsZCBi
ZSBwZXJzdWFkZWQgdG8gbW92ZSB0aGUgY29kZSB0bwppbnRlbF9hY3BpLmMuCgo+IFNpZ25lZC1v
ZmYtYnk6IFJhamF0IEphaW4gPHJhamF0amFAZ29vZ2xlLmNvbT4KPiBDaGFuZ2UtSWQ6IElmYjNi
ZDQ1ODczNDk4NWMyYTc4YmE2ODJlNmYwYTJlNjNlMDYyNmNhCgpQbGVhc2UgZHJvcCBDaGFuZ2Ut
SWRzLgoKPiAtLS0KPiB2MjogdjEgZG9lc24ndCBleGlzdC4gRm91bmQgZXhpc3RpbmcgY29kZSBp
biBpOTE1IGRyaXZlciB0byBhc3NpZ24gdGhlIEFDUEkgSUQKPiAgICAgd2hpY2ggaXMgd2hhdCBJ
IHBsYW4gdG8gcmUtdXNlLgo+ICAgICAKPgo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2FjcGkuYyAgICAgfCA4NyArKysrKysrKysrKysrKysrKysrCj4gIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfYWNwaS5oICAgICB8ICA2ICsrCj4gIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfb3ByZWdpb24uYyB8IDgwICstLS0tLS0tLS0tLS0tLS0t
Cj4gIDMgZmlsZXMgY2hhbmdlZCwgOTcgaW5zZXJ0aW9ucygrKSwgNzYgZGVsZXRpb25zKC0pCj4K
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9hY3BpLmMg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2FjcGkuYwo+IGluZGV4IDM0NTZk
MzNmZWI0Ni4uNzQ4ZDliMzEyNWRkIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfYWNwaS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9hY3BpLmMKPiBAQCAtMTU2LDMgKzE1Niw5MCBAQCB2b2lkIGludGVsX3JlZ2lzdGVy
X2RzbV9oYW5kbGVyKHZvaWQpCj4gIHZvaWQgaW50ZWxfdW5yZWdpc3Rlcl9kc21faGFuZGxlcih2
b2lkKQo+ICB7Cj4gIH0KPiArCj4gKy8qCj4gKyAqIEFDUEkgU3BlY2lmaWNhdGlvbiwgUmV2aXNp
b24gNS4wLCBBcHBlbmRpeCBCLjMuMiBfRE9EIChFbnVtZXJhdGUgQWxsIERldmljZXMKPiArICog
QXR0YWNoZWQgdG8gdGhlIERpc3BsYXkgQWRhcHRlcikuCj4gKyAqLwo+ICsjZGVmaW5lIEFDUElf
RElTUExBWV9JTkRFWF9TSElGVAkJMAo+ICsjZGVmaW5lIEFDUElfRElTUExBWV9JTkRFWF9NQVNL
CQkJKDB4ZiA8PCAwKQo+ICsjZGVmaW5lIEFDUElfRElTUExBWV9QT1JUX0FUVEFDSE1FTlRfU0hJ
RlQJNAo+ICsjZGVmaW5lIEFDUElfRElTUExBWV9QT1JUX0FUVEFDSE1FTlRfTUFTSwkoMHhmIDw8
IDQpCj4gKyNkZWZpbmUgQUNQSV9ESVNQTEFZX1RZUEVfU0hJRlQJCQk4Cj4gKyNkZWZpbmUgQUNQ
SV9ESVNQTEFZX1RZUEVfTUFTSwkJCSgweGYgPDwgOCkKPiArI2RlZmluZSBBQ1BJX0RJU1BMQVlf
VFlQRV9PVEhFUgkJCSgwIDw8IDgpCj4gKyNkZWZpbmUgQUNQSV9ESVNQTEFZX1RZUEVfVkdBCQkJ
KDEgPDwgOCkKPiArI2RlZmluZSBBQ1BJX0RJU1BMQVlfVFlQRV9UVgkJCSgyIDw8IDgpCj4gKyNk
ZWZpbmUgQUNQSV9ESVNQTEFZX1RZUEVfRVhURVJOQUxfRElHSVRBTAkoMyA8PCA4KQo+ICsjZGVm
aW5lIEFDUElfRElTUExBWV9UWVBFX0lOVEVSTkFMX0RJR0lUQUwJKDQgPDwgOCkKPiArI2RlZmlu
ZSBBQ1BJX1ZFTkRPUl9TUEVDSUZJQ19TSElGVAkJMTIKPiArI2RlZmluZSBBQ1BJX1ZFTkRPUl9T
UEVDSUZJQ19NQVNLCQkoMHhmIDw8IDEyKQo+ICsjZGVmaW5lIEFDUElfQklPU19DQU5fREVURUNU
CQkJKDEgPDwgMTYpCj4gKyNkZWZpbmUgQUNQSV9ERVBFTkRTX09OX1ZHQQkJCSgxIDw8IDE3KQo+
ICsjZGVmaW5lIEFDUElfUElQRV9JRF9TSElGVAkJCTE4Cj4gKyNkZWZpbmUgQUNQSV9QSVBFX0lE
X01BU0sJCQkoNyA8PCAxOCkKPiArI2RlZmluZSBBQ1BJX0RFVklDRV9JRF9TQ0hFTUUJCQkoMVVM
TCA8PCAzMSkKPiArCj4gK3N0YXRpYyB1MzIgYWNwaV9kaXNwbGF5X3R5cGUoc3RydWN0IGludGVs
X2Nvbm5lY3RvciAqY29ubmVjdG9yKQo+ICt7Cj4gKwl1MzIgZGlzcGxheV90eXBlOwo+ICsKPiAr
CXN3aXRjaCAoY29ubmVjdG9yLT5iYXNlLmNvbm5lY3Rvcl90eXBlKSB7Cj4gKwljYXNlIERSTV9N
T0RFX0NPTk5FQ1RPUl9WR0E6Cj4gKwljYXNlIERSTV9NT0RFX0NPTk5FQ1RPUl9EVklBOgo+ICsJ
CWRpc3BsYXlfdHlwZSA9IEFDUElfRElTUExBWV9UWVBFX1ZHQTsKPiArCQlicmVhazsKPiArCWNh
c2UgRFJNX01PREVfQ09OTkVDVE9SX0NvbXBvc2l0ZToKPiArCWNhc2UgRFJNX01PREVfQ09OTkVD
VE9SX1NWSURFTzoKPiArCWNhc2UgRFJNX01PREVfQ09OTkVDVE9SX0NvbXBvbmVudDoKPiArCWNh
c2UgRFJNX01PREVfQ09OTkVDVE9SXzlQaW5ESU46Cj4gKwljYXNlIERSTV9NT0RFX0NPTk5FQ1RP
Ul9UVjoKPiArCQlkaXNwbGF5X3R5cGUgPSBBQ1BJX0RJU1BMQVlfVFlQRV9UVjsKPiArCQlicmVh
azsKPiArCWNhc2UgRFJNX01PREVfQ09OTkVDVE9SX0RWSUk6Cj4gKwljYXNlIERSTV9NT0RFX0NP
Tk5FQ1RPUl9EVklEOgo+ICsJY2FzZSBEUk1fTU9ERV9DT05ORUNUT1JfRGlzcGxheVBvcnQ6Cj4g
KwljYXNlIERSTV9NT0RFX0NPTk5FQ1RPUl9IRE1JQToKPiArCWNhc2UgRFJNX01PREVfQ09OTkVD
VE9SX0hETUlCOgo+ICsJCWRpc3BsYXlfdHlwZSA9IEFDUElfRElTUExBWV9UWVBFX0VYVEVSTkFM
X0RJR0lUQUw7Cj4gKwkJYnJlYWs7Cj4gKwljYXNlIERSTV9NT0RFX0NPTk5FQ1RPUl9MVkRTOgo+
ICsJY2FzZSBEUk1fTU9ERV9DT05ORUNUT1JfZURQOgo+ICsJY2FzZSBEUk1fTU9ERV9DT05ORUNU
T1JfRFNJOgo+ICsJCWRpc3BsYXlfdHlwZSA9IEFDUElfRElTUExBWV9UWVBFX0lOVEVSTkFMX0RJ
R0lUQUw7Cj4gKwkJYnJlYWs7Cj4gKwljYXNlIERSTV9NT0RFX0NPTk5FQ1RPUl9Vbmtub3duOgo+
ICsJY2FzZSBEUk1fTU9ERV9DT05ORUNUT1JfVklSVFVBTDoKPiArCQlkaXNwbGF5X3R5cGUgPSBB
Q1BJX0RJU1BMQVlfVFlQRV9PVEhFUjsKPiArCQlicmVhazsKPiArCWRlZmF1bHQ6Cj4gKwkJTUlT
U0lOR19DQVNFKGNvbm5lY3Rvci0+YmFzZS5jb25uZWN0b3JfdHlwZSk7Cj4gKwkJZGlzcGxheV90
eXBlID0gQUNQSV9ESVNQTEFZX1RZUEVfT1RIRVI7Cj4gKwkJYnJlYWs7Cj4gKwl9Cj4gKwo+ICsJ
cmV0dXJuIGRpc3BsYXlfdHlwZTsKPiArfQo+ICsKPiArdm9pZCBpbnRlbF9wb3B1bGF0ZV9hY3Bp
X2lkc19mb3JfYWxsX2Nvbm5lY3RvcnMoc3RydWN0IGRybV9kZXZpY2UgKmRybV9kZXYpCgpQbGFz
ZSB1c2UgaW50ZWxfZm9vXyBwcmVmaXggZm9yIGZ1bmN0aW9ucyBpbiBpbnRlbF9mb28uYywKaS5l
LiBpbnRlbF9hY3BpXyBoZXJlLiBTYXksIGludGVsX2FjcGlfZGV2aWNlX2lkX3VwZGF0ZSgpIG9y
IHNvbWV0aGluZy4KClBsZWFzZSBhbHdheXMgcHJlZmVyIHN0cnVjdCBkcm1faTkxNV9wcml2YXRl
ICppOTE1IG92ZXIgc3RydWN0CmRybV9kZXZpY2UgKiBwb2ludGVycyBpbiBpOTE1IGNvZGUuCgo+
ICt7Cj4gKwlzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICpjb25uZWN0b3I7Cj4gKwlzdHJ1Y3QgZHJt
X2Nvbm5lY3Rvcl9saXN0X2l0ZXIgY29ubl9pdGVyOwo+ICsJdTggZGlzcGxheV9pbmRleFsxNl0g
PSB7fTsKPiArCXUzMiBkZXZpY2VfaWQsIHR5cGU7Cj4gKwo+ICsJLyogUG9wdWxhdGUgdGhlIEFD
UEkgSURzIGZvciBhbGwgY29ubmVjdG9ycyBmb3IgYSBnaXZlbiBkcm1fZGV2aWNlICovCj4gKwlk
cm1fY29ubmVjdG9yX2xpc3RfaXRlcl9iZWdpbihkcm1fZGV2LCAmY29ubl9pdGVyKTsKPiArCWZv
cl9lYWNoX2ludGVsX2Nvbm5lY3Rvcl9pdGVyKGNvbm5lY3RvciwgJmNvbm5faXRlcikgewo+ICsK
ClN1cGVyZmx1b3VzIG5ld2xpbmUsIHRoZSBkZXZpY2VfaWQgYW5kIHR5cGUgbG9jYWwgdmFycyBj
b3VsZCBiZSBoZXJlIGFzCmluIHRoZSBvcmlnaW5hbC4KCj4gKwkJZGV2aWNlX2lkID0gYWNwaV9k
aXNwbGF5X3R5cGUoY29ubmVjdG9yKTsKPiArCj4gKwkJLyogVXNlIGRpc3BsYXkgdHlwZSBzcGVj
aWZpYyBkaXNwbGF5IGluZGV4LiAqLwo+ICsJCXR5cGUgPSAoZGV2aWNlX2lkICYgQUNQSV9ESVNQ
TEFZX1RZUEVfTUFTSykKPiArCQkJPj4gQUNQSV9ESVNQTEFZX1RZUEVfU0hJRlQ7Cj4gKwkJZGV2
aWNlX2lkIHw9IGRpc3BsYXlfaW5kZXhbdHlwZV0rKyA8PCBBQ1BJX0RJU1BMQVlfSU5ERVhfU0hJ
RlQ7Cj4gKwo+ICsJCWNvbm5lY3Rvci0+YWNwaV9kZXZpY2VfaWQgPSBkZXZpY2VfaWQ7Cj4gKwl9
Cj4gKwlkcm1fY29ubmVjdG9yX2xpc3RfaXRlcl9lbmQoJmNvbm5faXRlcik7Cj4gK30KPiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9hY3BpLmggYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2FjcGkuaAo+IGluZGV4IDFjNTc2YjNmYjcx
Mi4uOGY2ZDg1MGRmNmZhIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3Bs
YXkvaW50ZWxfYWNwaS5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9hY3BpLmgKPiBAQCAtNiwxMiArNiwxOCBAQAo+ICAjaWZuZGVmIF9fSU5URUxfQUNQSV9IX18K
PiAgI2RlZmluZSBfX0lOVEVMX0FDUElfSF9fCj4gIAo+ICsjaW5jbHVkZSAiaW50ZWxfZGlzcGxh
eV90eXBlcy5oIgo+ICsKClBsZWFzZSBwcmVmZXIgZm9yd2FyZCBkZWNsYXJhdGlvbnMgb3ZlciBh
ZGRpbmcgbmV3IGluY2x1ZGVzLgoKc3RydWN0IGRybV9pOTE1X3ByaXZhdGU7Cgo+ICAjaWZkZWYg
Q09ORklHX0FDUEkKPiAgdm9pZCBpbnRlbF9yZWdpc3Rlcl9kc21faGFuZGxlcih2b2lkKTsKPiAg
dm9pZCBpbnRlbF91bnJlZ2lzdGVyX2RzbV9oYW5kbGVyKHZvaWQpOwo+ICt2b2lkIGludGVsX3Bv
cHVsYXRlX2FjcGlfaWRzX2Zvcl9hbGxfY29ubmVjdG9ycyhzdHJ1Y3QgZHJtX2RldmljZSAqZHJt
X2Rldik7Cj4gICNlbHNlCj4gIHN0YXRpYyBpbmxpbmUgdm9pZCBpbnRlbF9yZWdpc3Rlcl9kc21f
aGFuZGxlcih2b2lkKSB7IHJldHVybjsgfQo+ICBzdGF0aWMgaW5saW5lIHZvaWQgaW50ZWxfdW5y
ZWdpc3Rlcl9kc21faGFuZGxlcih2b2lkKSB7IHJldHVybjsgfQo+ICtzdGF0aWMgaW5saW5lIHZv
aWQKPiArc3RhdGljIGlubGluZSB2b2lkCgpXaG9vcHMuCgo+ICtpbnRlbF9wb3B1bGF0ZV9hY3Bp
X2lkc19mb3JfYWxsX2Nvbm5lY3RvcnMoc3RydWN0IGRybV9kZXZpY2UgKmRybV9kZXYpIHsgfQo+
ICAjZW5kaWYgLyogQ09ORklHX0FDUEkgKi8KPiAgCj4gICNlbmRpZiAvKiBfX0lOVEVMX0FDUElf
SF9fICovCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
b3ByZWdpb24uYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfb3ByZWdpb24u
Ywo+IGluZGV4IDk2OWFkZTYyMzY5MS4uZjU5NzZhNmFiM2M0IDEwMDY0NAo+IC0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfb3ByZWdpb24uYwo+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfb3ByZWdpb24uYwo+IEBAIC0zNSw2ICszNSw3IEBA
Cj4gICNpbmNsdWRlICJkaXNwbGF5L2ludGVsX3BhbmVsLmgiCj4gIAo+ICAjaW5jbHVkZSAiaTkx
NV9kcnYuaCIKPiArI2luY2x1ZGUgImludGVsX2FjcGkuaCIKPiAgI2luY2x1ZGUgImludGVsX2Rp
c3BsYXlfdHlwZXMuaCIKPiAgI2luY2x1ZGUgImludGVsX29wcmVnaW9uLmgiCj4gIAo+IEBAIC0y
NDIsMjkgKzI0Myw2IEBAIHN0cnVjdCBvcHJlZ2lvbl9hc2xlX2V4dCB7Cj4gICNkZWZpbmUgU1dT
Q0lfU0JDQl9QT1NUX1ZCRV9QTQkJU1dTQ0lfRlVOQ1RJT05fQ09ERShTV1NDSV9TQkNCLCAxOSkK
PiAgI2RlZmluZSBTV1NDSV9TQkNCX0VOQUJMRV9ESVNBQkxFX0FVRElPCVNXU0NJX0ZVTkNUSU9O
X0NPREUoU1dTQ0lfU0JDQiwgMjEpCj4gIAo+IC0vKgo+IC0gKiBBQ1BJIFNwZWNpZmljYXRpb24s
IFJldmlzaW9uIDUuMCwgQXBwZW5kaXggQi4zLjIgX0RPRCAoRW51bWVyYXRlIEFsbCBEZXZpY2Vz
Cj4gLSAqIEF0dGFjaGVkIHRvIHRoZSBEaXNwbGF5IEFkYXB0ZXIpLgo+IC0gKi8KPiAtI2RlZmlu
ZSBBQ1BJX0RJU1BMQVlfSU5ERVhfU0hJRlQJCTAKPiAtI2RlZmluZSBBQ1BJX0RJU1BMQVlfSU5E
RVhfTUFTSwkJCSgweGYgPDwgMCkKPiAtI2RlZmluZSBBQ1BJX0RJU1BMQVlfUE9SVF9BVFRBQ0hN
RU5UX1NISUZUCTQKPiAtI2RlZmluZSBBQ1BJX0RJU1BMQVlfUE9SVF9BVFRBQ0hNRU5UX01BU0sJ
KDB4ZiA8PCA0KQo+IC0jZGVmaW5lIEFDUElfRElTUExBWV9UWVBFX1NISUZUCQkJOAo+IC0jZGVm
aW5lIEFDUElfRElTUExBWV9UWVBFX01BU0sJCQkoMHhmIDw8IDgpCj4gLSNkZWZpbmUgQUNQSV9E
SVNQTEFZX1RZUEVfT1RIRVIJCQkoMCA8PCA4KQo+IC0jZGVmaW5lIEFDUElfRElTUExBWV9UWVBF
X1ZHQQkJCSgxIDw8IDgpCj4gLSNkZWZpbmUgQUNQSV9ESVNQTEFZX1RZUEVfVFYJCQkoMiA8PCA4
KQo+IC0jZGVmaW5lIEFDUElfRElTUExBWV9UWVBFX0VYVEVSTkFMX0RJR0lUQUwJKDMgPDwgOCkK
PiAtI2RlZmluZSBBQ1BJX0RJU1BMQVlfVFlQRV9JTlRFUk5BTF9ESUdJVEFMCSg0IDw8IDgpCj4g
LSNkZWZpbmUgQUNQSV9WRU5ET1JfU1BFQ0lGSUNfU0hJRlQJCTEyCj4gLSNkZWZpbmUgQUNQSV9W
RU5ET1JfU1BFQ0lGSUNfTUFTSwkJKDB4ZiA8PCAxMikKPiAtI2RlZmluZSBBQ1BJX0JJT1NfQ0FO
X0RFVEVDVAkJCSgxIDw8IDE2KQo+IC0jZGVmaW5lIEFDUElfREVQRU5EU19PTl9WR0EJCQkoMSA8
PCAxNykKPiAtI2RlZmluZSBBQ1BJX1BJUEVfSURfU0hJRlQJCQkxOAo+IC0jZGVmaW5lIEFDUElf
UElQRV9JRF9NQVNLCQkJKDcgPDwgMTgpCj4gLSNkZWZpbmUgQUNQSV9ERVZJQ0VfSURfU0NIRU1F
CQkJKDEgPDwgMzEpCj4gLQo+ICAjZGVmaW5lIE1BWF9EU0xQCTE1MDAKPiAgCj4gIHN0YXRpYyBp
bnQgc3dzY2koc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAo+IEBAIC02NjIsNTQg
KzY0MCwxMiBAQCBzdGF0aWMgdm9pZCBzZXRfZGlkKHN0cnVjdCBpbnRlbF9vcHJlZ2lvbiAqb3By
ZWdpb24sIGludCBpLCB1MzIgdmFsKQo+ICAJfQo+ICB9Cj4gIAo+IC1zdGF0aWMgdTMyIGFjcGlf
ZGlzcGxheV90eXBlKHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvcikKPiAtewo+IC0J
dTMyIGRpc3BsYXlfdHlwZTsKPiAtCj4gLQlzd2l0Y2ggKGNvbm5lY3Rvci0+YmFzZS5jb25uZWN0
b3JfdHlwZSkgewo+IC0JY2FzZSBEUk1fTU9ERV9DT05ORUNUT1JfVkdBOgo+IC0JY2FzZSBEUk1f
TU9ERV9DT05ORUNUT1JfRFZJQToKPiAtCQlkaXNwbGF5X3R5cGUgPSBBQ1BJX0RJU1BMQVlfVFlQ
RV9WR0E7Cj4gLQkJYnJlYWs7Cj4gLQljYXNlIERSTV9NT0RFX0NPTk5FQ1RPUl9Db21wb3NpdGU6
Cj4gLQljYXNlIERSTV9NT0RFX0NPTk5FQ1RPUl9TVklERU86Cj4gLQljYXNlIERSTV9NT0RFX0NP
Tk5FQ1RPUl9Db21wb25lbnQ6Cj4gLQljYXNlIERSTV9NT0RFX0NPTk5FQ1RPUl85UGluRElOOgo+
IC0JY2FzZSBEUk1fTU9ERV9DT05ORUNUT1JfVFY6Cj4gLQkJZGlzcGxheV90eXBlID0gQUNQSV9E
SVNQTEFZX1RZUEVfVFY7Cj4gLQkJYnJlYWs7Cj4gLQljYXNlIERSTV9NT0RFX0NPTk5FQ1RPUl9E
VklJOgo+IC0JY2FzZSBEUk1fTU9ERV9DT05ORUNUT1JfRFZJRDoKPiAtCWNhc2UgRFJNX01PREVf
Q09OTkVDVE9SX0Rpc3BsYXlQb3J0Ogo+IC0JY2FzZSBEUk1fTU9ERV9DT05ORUNUT1JfSERNSUE6
Cj4gLQljYXNlIERSTV9NT0RFX0NPTk5FQ1RPUl9IRE1JQjoKPiAtCQlkaXNwbGF5X3R5cGUgPSBB
Q1BJX0RJU1BMQVlfVFlQRV9FWFRFUk5BTF9ESUdJVEFMOwo+IC0JCWJyZWFrOwo+IC0JY2FzZSBE
Uk1fTU9ERV9DT05ORUNUT1JfTFZEUzoKPiAtCWNhc2UgRFJNX01PREVfQ09OTkVDVE9SX2VEUDoK
PiAtCWNhc2UgRFJNX01PREVfQ09OTkVDVE9SX0RTSToKPiAtCQlkaXNwbGF5X3R5cGUgPSBBQ1BJ
X0RJU1BMQVlfVFlQRV9JTlRFUk5BTF9ESUdJVEFMOwo+IC0JCWJyZWFrOwo+IC0JY2FzZSBEUk1f
TU9ERV9DT05ORUNUT1JfVW5rbm93bjoKPiAtCWNhc2UgRFJNX01PREVfQ09OTkVDVE9SX1ZJUlRV
QUw6Cj4gLQkJZGlzcGxheV90eXBlID0gQUNQSV9ESVNQTEFZX1RZUEVfT1RIRVI7Cj4gLQkJYnJl
YWs7Cj4gLQlkZWZhdWx0Ogo+IC0JCU1JU1NJTkdfQ0FTRShjb25uZWN0b3ItPmJhc2UuY29ubmVj
dG9yX3R5cGUpOwo+IC0JCWRpc3BsYXlfdHlwZSA9IEFDUElfRElTUExBWV9UWVBFX09USEVSOwo+
IC0JCWJyZWFrOwo+IC0JfQo+IC0KPiAtCXJldHVybiBkaXNwbGF5X3R5cGU7Cj4gLX0KPiAtCj4g
IHN0YXRpYyB2b2lkIGludGVsX2RpZGxfb3V0cHV0cyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
ZGV2X3ByaXYpCj4gIHsKPiAgCXN0cnVjdCBpbnRlbF9vcHJlZ2lvbiAqb3ByZWdpb24gPSAmZGV2
X3ByaXYtPm9wcmVnaW9uOwo+ICAJc3RydWN0IGludGVsX2Nvbm5lY3RvciAqY29ubmVjdG9yOwo+
ICAJc3RydWN0IGRybV9jb25uZWN0b3JfbGlzdF9pdGVyIGNvbm5faXRlcjsKPiAgCWludCBpID0g
MCwgbWF4X291dHB1dHM7Cj4gLQlpbnQgZGlzcGxheV9pbmRleFsxNl0gPSB7fTsKPiAgCj4gIAkv
Kgo+ICAJICogSW4gdGhlb3J5LCBkaWQyLCB0aGUgZXh0ZW5kZWQgZGlkbCwgZ2V0cyBhZGRlZCBh
dCBvcHJlZ2lvbiB2ZXJzaW9uCj4gQEAgLTcyMSwyMCArNjU3LDEyIEBAIHN0YXRpYyB2b2lkIGlu
dGVsX2RpZGxfb3V0cHV0cyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCj4gIAlt
YXhfb3V0cHV0cyA9IEFSUkFZX1NJWkUob3ByZWdpb24tPmFjcGktPmRpZGwpICsKPiAgCQlBUlJB
WV9TSVpFKG9wcmVnaW9uLT5hY3BpLT5kaWQyKTsKPiAgCj4gKwlpbnRlbF9wb3B1bGF0ZV9hY3Bp
X2lkc19mb3JfYWxsX2Nvbm5lY3RvcnMoJmRldl9wcml2LT5kcm0pOwo+ICsKCkFzIHRoZSBhY3Bp
X2RldmljZV9pZHMgd2lsbCBiZSB1c2VkIGVsc2V3aGVyZSB0b28sIG1heWJlIHRoaXMgY2FsbCBu
ZWVkcwp0byBiZSBtb3ZlZCB0byBhIGhpZ2hlciBsZXZlbCBhbmQgY2FsbGVkIG9uIHRoZSByZXN1
bWUgcGF0aC4gKnNocnVnKgoKQlIsCkphbmkuCgo+ICAJZHJtX2Nvbm5lY3Rvcl9saXN0X2l0ZXJf
YmVnaW4oJmRldl9wcml2LT5kcm0sICZjb25uX2l0ZXIpOwo+ICAJZm9yX2VhY2hfaW50ZWxfY29u
bmVjdG9yX2l0ZXIoY29ubmVjdG9yLCAmY29ubl9pdGVyKSB7Cj4gLQkJdTMyIGRldmljZV9pZCwg
dHlwZTsKPiAtCj4gLQkJZGV2aWNlX2lkID0gYWNwaV9kaXNwbGF5X3R5cGUoY29ubmVjdG9yKTsK
PiAtCj4gLQkJLyogVXNlIGRpc3BsYXkgdHlwZSBzcGVjaWZpYyBkaXNwbGF5IGluZGV4LiAqLwo+
IC0JCXR5cGUgPSAoZGV2aWNlX2lkICYgQUNQSV9ESVNQTEFZX1RZUEVfTUFTSykKPiAtCQkJPj4g
QUNQSV9ESVNQTEFZX1RZUEVfU0hJRlQ7Cj4gLQkJZGV2aWNlX2lkIHw9IGRpc3BsYXlfaW5kZXhb
dHlwZV0rKyA8PCBBQ1BJX0RJU1BMQVlfSU5ERVhfU0hJRlQ7Cj4gLQo+IC0JCWNvbm5lY3Rvci0+
YWNwaV9kZXZpY2VfaWQgPSBkZXZpY2VfaWQ7Cj4gIAkJaWYgKGkgPCBtYXhfb3V0cHV0cykKPiAt
CQkJc2V0X2RpZChvcHJlZ2lvbiwgaSwgZGV2aWNlX2lkKTsKPiArCQkJc2V0X2RpZChvcHJlZ2lv
biwgaSwgY29ubmVjdG9yLT5hY3BpX2RldmljZV9pZCk7Cj4gIAkJaSsrOwo+ICAJfQo+ICAJZHJt
X2Nvbm5lY3Rvcl9saXN0X2l0ZXJfZW5kKCZjb25uX2l0ZXIpOwoKLS0gCkphbmkgTmlrdWxhLCBJ
bnRlbCBPcGVuIFNvdXJjZSBHcmFwaGljcyBDZW50ZXIKX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxA
bGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxt
YW4vbGlzdGluZm8vZHJpLWRldmVs
