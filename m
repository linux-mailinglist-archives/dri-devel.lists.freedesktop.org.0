Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 1B40A1008B1
	for <lists+dri-devel@lfdr.de>; Mon, 18 Nov 2019 16:52:16 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D61216E5DD;
	Mon, 18 Nov 2019 15:52:10 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from us-smtp-1.mimecast.com (us-smtp-delivery-1.mimecast.com
 [205.139.110.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 339906E5D3
 for <dri-devel@lists.freedesktop.org>; Mon, 18 Nov 2019 15:51:58 +0000 (UTC)
Received: from mimecast-mx01.redhat.com (mimecast-mx01.redhat.com
 [209.132.183.4]) (Using TLS) by relay.mimecast.com with ESMTP id
 us-mta-332-Y2R-y3KLPAGSFkglTK7A1A-1; Mon, 18 Nov 2019 10:51:53 -0500
Received: from smtp.corp.redhat.com (int-mx01.intmail.prod.int.phx2.redhat.com
 [10.5.11.11])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mimecast-mx01.redhat.com (Postfix) with ESMTPS id 01850189F1F5;
 Mon, 18 Nov 2019 15:51:52 +0000 (UTC)
Received: from shalem.localdomain.com (unknown [10.36.118.166])
 by smtp.corp.redhat.com (Postfix) with ESMTP id 40904600CD;
 Mon, 18 Nov 2019 15:51:50 +0000 (UTC)
From: Hans de Goede <hdegoede@redhat.com>
To: Maarten Lankhorst <maarten.lankhorst@linux.intel.com>,
 Maxime Ripard <mripard@kernel.org>, Sean Paul <seanpaul@chromium.org>,
 Daniel Vetter <daniel.vetter@intel.com>, David Airlie <airlied@linux.ie>
Subject: [PATCH v3 08/13] drm/modes: parse_cmdline: Allow specifying
 stand-alone options
Date: Mon, 18 Nov 2019 16:51:29 +0100
Message-Id: <20191118155134.30468-8-hdegoede@redhat.com>
In-Reply-To: <20191118155134.30468-1-hdegoede@redhat.com>
References: <20191118155134.30468-1-hdegoede@redhat.com>
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.11
X-MC-Unique: Y2R-y3KLPAGSFkglTK7A1A-1
X-Mimecast-Spam-Score: 0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=redhat.com; 
 s=mimecast20190719; t=1574092317;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=qg+sNK0VRFUfxsmHfbNkWzz/2RkrwycmcaFIC3Px6YI=;
 b=Boy6CyeLxeStfC30AWlFhT4o21KMMxc+wNuAS2jcYxwJo96NxAxNAAYBcX3hhZtCE82nD/
 ojhZ+D2z6cvaVL6QCnJsCG/MMRil01u7dusKxLeNI/ovDwkTyiDixOGlVMK3T3KpixYbez
 9SrhdT4ytJTyNQl9Mm2NezwS4VjoGdM=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Hans de Goede <hdegoede@redhat.com>,
 Derek Basehore <dbasehore@chromium.org>,
 =?UTF-8?q?Mathieu=20Alexandre-T=C3=A9treault?= <alexandretm@amotus.ca>,
 dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

U29tZSBvcHRpb25zIHdoaWNoIGNhbiBiZSBzcGVjaWZpZWQgb24gdGhlIGNvbW1hbmRsaW5lLCBz
dWNoIGFzCm1hcmdpbl9yaWdodD0uLi4sIG1hcmdpbl9sZWZ0PS4uLiwgZXRjLiBhcmUgYXBwbGll
ZCBub3Qgb25seSB0byB0aGUKc3BlY2lmaWVkIG1vZGUsIGJ1dCB0byBhbGwgbW9kZXMuIEFzIHN1
Y2ggaXQgd291bGQgYmUgbmljZSBpZiB0aGUgdXNlcgpjYW4gc2ltcGx5IHNheSBlLmcuCnZpZGVv
PUhETUktMTptYXJnaW5fcmlnaHQ9MTQsbWFyZ2luX2xlZnQ9MjQsbWFyZ2luX2JvdHRvbT0zNixt
YXJnaW5fdG9wPTQyCgpUaGlzIGNvbW1pdCByZWZhY3RvcnMgZHJtX21vZGVfcGFyc2VfY29tbWFu
ZF9saW5lX2Zvcl9jb25uZWN0b3IoKSB0bwphZGQgc3VwcG9ydCBmb3IgdGhpcywgYW5kIGFzIGEg
bmljZSBzaWRlIGVmZmVjdCBhbHNvIGNsZWFucyB1cCB0aGUKZnVuY3Rpb24gYSBiaXQuCgpBY2tl
ZC1ieTogTWF4aW1lIFJpcGFyZCA8bXJpcGFyZEBrZXJuZWwub3JnPgpTaWduZWQtb2ZmLWJ5OiBI
YW5zIGRlIEdvZWRlIDxoZGVnb2VkZUByZWRoYXQuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9k
cm1fbW9kZXMuYyAgICAgICAgICAgICAgICAgICB8IDkyICsrKysrKystLS0tLS0tLS0tLS0KIC4u
Li9ncHUvZHJtL3NlbGZ0ZXN0cy9kcm1fY21kbGluZV9zZWxmdGVzdHMuaCB8ICAyICsKIC4uLi9k
cm0vc2VsZnRlc3RzL3Rlc3QtZHJtX2NtZGxpbmVfcGFyc2VyLmMgICB8IDUwICsrKysrKysrKysK
IDMgZmlsZXMgY2hhbmdlZCwgODYgaW5zZXJ0aW9ucygrKSwgNTggZGVsZXRpb25zKC0pCgpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2RybV9tb2Rlcy5jIGIvZHJpdmVycy9ncHUvZHJtL2Ry
bV9tb2Rlcy5jCmluZGV4IDcyODI4ZmE5ZmM5MS4uMmU4MjYwM2Y1ZDBhIDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vZHJtX21vZGVzLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2RybV9tb2Rl
cy5jCkBAIC0xNjc3LDE3ICsxNjc3LDYgQEAgc3RhdGljIGNvbnN0IGNoYXIgKiBjb25zdCBkcm1f
bmFtZWRfbW9kZXNfd2hpdGVsaXN0W10gPSB7CiAJIlBBTCIsCiB9OwogCi1zdGF0aWMgYm9vbCBk
cm1fbmFtZWRfbW9kZV9pc19pbl93aGl0ZWxpc3QoY29uc3QgY2hhciAqbW9kZSwgdW5zaWduZWQg
aW50IHNpemUpCi17Ci0JaW50IGk7Ci0KLQlmb3IgKGkgPSAwOyBpIDwgQVJSQVlfU0laRShkcm1f
bmFtZWRfbW9kZXNfd2hpdGVsaXN0KTsgaSsrKQotCQlpZiAoIXN0cm5jbXAobW9kZSwgZHJtX25h
bWVkX21vZGVzX3doaXRlbGlzdFtpXSwgc2l6ZSkpCi0JCQlyZXR1cm4gdHJ1ZTsKLQotCXJldHVy
biBmYWxzZTsKLX0KLQogLyoqCiAgKiBkcm1fbW9kZV9wYXJzZV9jb21tYW5kX2xpbmVfZm9yX2Nv
bm5lY3RvciAtIHBhcnNlIGNvbW1hbmQgbGluZSBtb2RlbGluZSBmb3IgY29ubmVjdG9yCiAgKiBA
bW9kZV9vcHRpb246IG9wdGlvbmFsIHBlciBjb25uZWN0b3IgbW9kZSBvcHRpb24KQEAgLTE3MTgs
NyArMTcwNyw3IEBAIGJvb2wgZHJtX21vZGVfcGFyc2VfY29tbWFuZF9saW5lX2Zvcl9jb25uZWN0
b3IoY29uc3QgY2hhciAqbW9kZV9vcHRpb24sCiAJCQkJCSAgICAgICBzdHJ1Y3QgZHJtX2NtZGxp
bmVfbW9kZSAqbW9kZSkKIHsKIAljb25zdCBjaGFyICpuYW1lOwotCWJvb2wgbmFtZWRfbW9kZSA9
IGZhbHNlLCBwYXJzZV9leHRyYXMgPSBmYWxzZTsKKwlib29sIGZyZWVzdGFuZGluZyA9IGZhbHNl
LCBwYXJzZV9leHRyYXMgPSBmYWxzZTsKIAl1bnNpZ25lZCBpbnQgYnBwX29mZiA9IDAsIHJlZnJl
c2hfb2ZmID0gMCwgb3B0aW9uc19vZmYgPSAwOwogCXVuc2lnbmVkIGludCBtb2RlX2VuZCA9IDA7
CiAJY29uc3QgY2hhciAqYnBwX3B0ciA9IE5VTEwsICpyZWZyZXNoX3B0ciA9IE5VTEwsICpleHRy
YV9wdHIgPSBOVUxMOwpAQCAtMTczOCw0OSArMTcyNywxNCBAQCBib29sIGRybV9tb2RlX3BhcnNl
X2NvbW1hbmRfbGluZV9mb3JfY29ubmVjdG9yKGNvbnN0IGNoYXIgKm1vZGVfb3B0aW9uLAogCiAJ
bmFtZSA9IG1vZGVfb3B0aW9uOwogCi0JLyoKLQkgKiBUaGlzIGlzIGEgYml0IGNvbnZvbHV0ZWQu
IFRvIGRpZmZlcmVudGlhdGUgYmV0d2VlbiB0aGUKLQkgKiBuYW1lZCBtb2RlcyBhbmQgcG9vcmx5
IGZvcm1hdHRlZCByZXNvbHV0aW9ucywgd2UgbmVlZCBhCi0JICogYnVuY2ggb2YgdGhpbmdzOgot
CSAqICAgLSBXZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSBmaXJzdCBjaGFyYWN0ZXIgKHdo
aWNoCi0JICogICAgIHdvdWxkIGJlIG91ciByZXNvbHV0aW9uIGluIFgpIGlzIGEgZGlnaXQuCi0J
ICogICAtIElmIG5vdCwgdGhlbiBpdCdzIGVpdGhlciBhIG5hbWVkIG1vZGUgb3IgYSBmb3JjZSBv
bi9vZmYuCi0JICogICAgIFRvIGRpc3Rpbmd1aXNoIGJldHdlZW4gdGhlIHR3bywgd2UgbmVlZCB0
byBydW4gdGhlCi0JICogICAgIGV4dHJhIHBhcnNpbmcgZnVuY3Rpb24sIGFuZCBpZiBub3QsIHRo
ZW4gd2UgY29uc2lkZXIgaXQKLQkgKiAgICAgYSBuYW1lZCBtb2RlLgotCSAqCi0JICogSWYgdGhp
cyBpc24ndCBlbm91Z2gsIHdlIHNob3VsZCBhZGQgbW9yZSBoZXVyaXN0aWNzIGhlcmUsCi0JICog
YW5kIG1hdGNoaW5nIHVuaXQtdGVzdHMuCi0JICovCi0JaWYgKCFpc2RpZ2l0KG5hbWVbMF0pICYm
IG5hbWVbMF0gIT0gJ3gnKSB7Ci0JCXVuc2lnbmVkIGludCBuYW1lbGVuID0gc3RybGVuKG5hbWUp
OwotCi0JCS8qCi0JCSAqIE9ubHkgdGhlIGZvcmNlIG9uL29mZiBvcHRpb25zIGNhbiBiZSBpbiB0
aGF0IGNhc2UsCi0JCSAqIGFuZCB0aGV5IGFsbCB0YWtlIGEgc2luZ2xlIGNoYXJhY3Rlci4KLQkJ
ICovCi0JCWlmIChuYW1lbGVuID09IDEpIHsKLQkJCXJldCA9IGRybV9tb2RlX3BhcnNlX2NtZGxp
bmVfZXh0cmEobmFtZSwgbmFtZWxlbiwgdHJ1ZSwKLQkJCQkJCQkgICBjb25uZWN0b3IsIG1vZGUp
OwotCQkJaWYgKCFyZXQpCi0JCQkJcmV0dXJuIHRydWU7Ci0JCX0KLQotCQluYW1lZF9tb2RlID0g
dHJ1ZTsKLQl9Ci0KIAkvKiBUcnkgdG8gbG9jYXRlIHRoZSBicHAgYW5kIHJlZnJlc2ggc3BlY2lm
aWVycywgaWYgYW55ICovCiAJYnBwX3B0ciA9IHN0cmNocihuYW1lLCAnLScpOwogCWlmIChicHBf
cHRyKQogCQlicHBfb2ZmID0gYnBwX3B0ciAtIG5hbWU7CiAKIAlyZWZyZXNoX3B0ciA9IHN0cmNo
cihuYW1lLCAnQCcpOwotCWlmIChyZWZyZXNoX3B0cikgewotCQlpZiAobmFtZWRfbW9kZSkKLQkJ
CXJldHVybiBmYWxzZTsKLQorCWlmIChyZWZyZXNoX3B0cikKIAkJcmVmcmVzaF9vZmYgPSByZWZy
ZXNoX3B0ciAtIG5hbWU7Ci0JfQogCiAJLyogTG9jYXRlIHRoZSBzdGFydCBvZiBuYW1lZCBvcHRp
b25zICovCiAJb3B0aW9uc19wdHIgPSBzdHJjaHIobmFtZSwgJywnKTsKQEAgLTE4MDAsMjMgKzE3
NTQsNDUgQEAgYm9vbCBkcm1fbW9kZV9wYXJzZV9jb21tYW5kX2xpbmVfZm9yX2Nvbm5lY3Rvcihj
b25zdCBjaGFyICptb2RlX29wdGlvbiwKIAkJcGFyc2VfZXh0cmFzID0gdHJ1ZTsKIAl9CiAKLQlp
ZiAobmFtZWRfbW9kZSkgewotCQlpZiAobW9kZV9lbmQgKyAxID4gRFJNX0RJU1BMQVlfTU9ERV9M
RU4pCi0JCQlyZXR1cm4gZmFsc2U7CisJLyogRmlyc3QgY2hlY2sgZm9yIGEgbmFtZWQgbW9kZSAq
LworCWZvciAoaSA9IDA7IGkgPCBBUlJBWV9TSVpFKGRybV9uYW1lZF9tb2Rlc193aGl0ZWxpc3Qp
OyBpKyspIHsKKwkJcmV0ID0gc3RyX2hhc19wcmVmaXgobmFtZSwgZHJtX25hbWVkX21vZGVzX3do
aXRlbGlzdFtpXSk7CisJCWlmIChyZXQgPT0gbW9kZV9lbmQpIHsKKwkJCWlmIChyZWZyZXNoX3B0
cikKKwkJCQlyZXR1cm4gZmFsc2U7IC8qIG5hbWVkICsgcmVmcmVzaCBpcyBpbnZhbGlkICovCiAK
LQkJaWYgKCFkcm1fbmFtZWRfbW9kZV9pc19pbl93aGl0ZWxpc3QobmFtZSwgbW9kZV9lbmQpKQot
CQkJcmV0dXJuIGZhbHNlOworCQkJc3RyY3B5KG1vZGUtPm5hbWUsIGRybV9uYW1lZF9tb2Rlc193
aGl0ZWxpc3RbaV0pOworCQkJbW9kZS0+c3BlY2lmaWVkID0gdHJ1ZTsKKwkJCWJyZWFrOworCQl9
CisJfQogCi0JCXN0cnNjcHkobW9kZS0+bmFtZSwgbmFtZSwgbW9kZV9lbmQgKyAxKTsKLQl9IGVs
c2UgeworCS8qIE5vIG5hbWVkIG1vZGU/IENoZWNrIGZvciBhIG5vcm1hbCBtb2RlIGFyZ3VtZW50
LCBlLmcuIDEwMjR4NzY4ICovCisJaWYgKCFtb2RlLT5zcGVjaWZpZWQgJiYgaXNkaWdpdChuYW1l
WzBdKSkgewogCQlyZXQgPSBkcm1fbW9kZV9wYXJzZV9jbWRsaW5lX3Jlc19tb2RlKG5hbWUsIG1v
ZGVfZW5kLAogCQkJCQkJICAgICAgcGFyc2VfZXh0cmFzLAogCQkJCQkJICAgICAgY29ubmVjdG9y
LAogCQkJCQkJICAgICAgbW9kZSk7CiAJCWlmIChyZXQpCiAJCQlyZXR1cm4gZmFsc2U7CisKKwkJ
bW9kZS0+c3BlY2lmaWVkID0gdHJ1ZTsKKwl9CisKKwkvKiBObyBtb2RlPyBDaGVjayBmb3IgZnJl
ZXN0YW5kaW5nIGV4dHJhcyBhbmQvb3Igb3B0aW9ucyAqLworCWlmICghbW9kZS0+c3BlY2lmaWVk
KSB7CisJCXVuc2lnbmVkIGludCBsZW4gPSBzdHJsZW4obW9kZV9vcHRpb24pOworCisJCWlmIChi
cHBfcHRyIHx8IHJlZnJlc2hfcHRyKQorCQkJcmV0dXJuIGZhbHNlOyAvKiBzeW50YXggZXJyb3Ig
Ki8KKworCQlpZiAobGVuID09IDEgfHwgKGxlbiA+PSAyICYmIG1vZGVfb3B0aW9uWzFdID09ICcs
JykpCisJCQlleHRyYV9wdHIgPSBtb2RlX29wdGlvbjsKKwkJZWxzZQorCQkJb3B0aW9uc19wdHIg
PSBtb2RlX29wdGlvbiAtIDE7CisKKwkJZnJlZXN0YW5kaW5nID0gdHJ1ZTsKIAl9Ci0JbW9kZS0+
c3BlY2lmaWVkID0gdHJ1ZTsKIAogCWlmIChicHBfcHRyKSB7CiAJCXJldCA9IGRybV9tb2RlX3Bh
cnNlX2NtZGxpbmVfYnBwKGJwcF9wdHIsICZicHBfZW5kX3B0ciwgbW9kZSk7CkBAIC0xODUyLDcg
KzE4MjgsNyBAQCBib29sIGRybV9tb2RlX3BhcnNlX2NvbW1hbmRfbGluZV9mb3JfY29ubmVjdG9y
KGNvbnN0IGNoYXIgKm1vZGVfb3B0aW9uLAogCQllbHNlCiAJCQlsZW4gPSBzdHJsZW4oZXh0cmFf
cHRyKTsKIAotCQlyZXQgPSBkcm1fbW9kZV9wYXJzZV9jbWRsaW5lX2V4dHJhKGV4dHJhX3B0ciwg
bGVuLCBmYWxzZSwKKwkJcmV0ID0gZHJtX21vZGVfcGFyc2VfY21kbGluZV9leHRyYShleHRyYV9w
dHIsIGxlbiwgZnJlZXN0YW5kaW5nLAogCQkJCQkJICAgY29ubmVjdG9yLCBtb2RlKTsKIAkJaWYg
KHJldCkKIAkJCXJldHVybiBmYWxzZTsKQEAgLTE4NjAsNyArMTgzNiw3IEBAIGJvb2wgZHJtX21v
ZGVfcGFyc2VfY29tbWFuZF9saW5lX2Zvcl9jb25uZWN0b3IoY29uc3QgY2hhciAqbW9kZV9vcHRp
b24sCiAKIAlpZiAob3B0aW9uc19wdHIpIHsKIAkJcmV0ID0gZHJtX21vZGVfcGFyc2VfY21kbGlu
ZV9vcHRpb25zKG9wdGlvbnNfcHRyICsgMSwKLQkJCQkJCSAgICAgZmFsc2UsCisJCQkJCQkgICAg
IGZyZWVzdGFuZGluZywKIAkJCQkJCSAgICAgY29ubmVjdG9yLCBtb2RlKTsKIAkJaWYgKHJldCkK
IAkJCXJldHVybiBmYWxzZTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9zZWxmdGVzdHMv
ZHJtX2NtZGxpbmVfc2VsZnRlc3RzLmggYi9kcml2ZXJzL2dwdS9kcm0vc2VsZnRlc3RzL2RybV9j
bWRsaW5lX3NlbGZ0ZXN0cy5oCmluZGV4IDAwM2UyYzNmZmMzOS4uYWVlOTJhYzJjYzIxIDEwMDY0
NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vc2VsZnRlc3RzL2RybV9jbWRsaW5lX3NlbGZ0ZXN0cy5o
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9zZWxmdGVzdHMvZHJtX2NtZGxpbmVfc2VsZnRlc3RzLmgK
QEAgLTYyLDMgKzYyLDUgQEAgY21kbGluZV90ZXN0KGRybV9jbWRsaW5lX3Rlc3RfbXVsdGlwbGVf
b3B0aW9ucykKIGNtZGxpbmVfdGVzdChkcm1fY21kbGluZV90ZXN0X2ludmFsaWRfb3B0aW9uKQog
Y21kbGluZV90ZXN0KGRybV9jbWRsaW5lX3Rlc3RfYnBwX2V4dHJhX2FuZF9vcHRpb24pCiBjbWRs
aW5lX3Rlc3QoZHJtX2NtZGxpbmVfdGVzdF9leHRyYV9hbmRfb3B0aW9uKQorY21kbGluZV90ZXN0
KGRybV9jbWRsaW5lX3Rlc3RfZnJlZXN0YW5kaW5nX29wdGlvbnMpCitjbWRsaW5lX3Rlc3QoZHJt
X2NtZGxpbmVfdGVzdF9mcmVlc3RhbmRpbmdfZm9yY2VfZV9hbmRfb3B0aW9ucykKZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9zZWxmdGVzdHMvdGVzdC1kcm1fY21kbGluZV9wYXJzZXIuYyBi
L2RyaXZlcnMvZ3B1L2RybS9zZWxmdGVzdHMvdGVzdC1kcm1fY21kbGluZV9wYXJzZXIuYwppbmRl
eCBiYzRkYjAxN2U5OTMuLjgyNDhkNGFhNWFhYSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L3NlbGZ0ZXN0cy90ZXN0LWRybV9jbWRsaW5lX3BhcnNlci5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9zZWxmdGVzdHMvdGVzdC1kcm1fY21kbGluZV9wYXJzZXIuYwpAQCAtMTA0Miw2ICsxMDQyLDU2
IEBAIHN0YXRpYyBpbnQgZHJtX2NtZGxpbmVfdGVzdF9leHRyYV9hbmRfb3B0aW9uKHZvaWQgKmln
bm9yZWQpCiAJcmV0dXJuIDA7CiB9CiAKK3N0YXRpYyBpbnQgZHJtX2NtZGxpbmVfdGVzdF9mcmVl
c3RhbmRpbmdfb3B0aW9ucyh2b2lkICppZ25vcmVkKQoreworCXN0cnVjdCBkcm1fY21kbGluZV9t
b2RlIG1vZGUgPSB7IH07CisKKwlGQUlMX09OKCFkcm1fbW9kZV9wYXJzZV9jb21tYW5kX2xpbmVf
Zm9yX2Nvbm5lY3RvcigibWFyZ2luX3JpZ2h0PTE0LG1hcmdpbl9sZWZ0PTI0LG1hcmdpbl9ib3R0
b209MzYsbWFyZ2luX3RvcD00MiIsCisJCQkJCQkJICAgJm5vX2Nvbm5lY3RvciwKKwkJCQkJCQkg
ICAmbW9kZSkpOworCUZBSUxfT04obW9kZS5zcGVjaWZpZWQpOworCUZBSUxfT04obW9kZS5yZWZy
ZXNoX3NwZWNpZmllZCk7CisJRkFJTF9PTihtb2RlLmJwcF9zcGVjaWZpZWQpOworCisJRkFJTF9P
Tihtb2RlLnR2X21hcmdpbnMucmlnaHQgIT0gMTQpOworCUZBSUxfT04obW9kZS50dl9tYXJnaW5z
LmxlZnQgIT0gMjQpOworCUZBSUxfT04obW9kZS50dl9tYXJnaW5zLmJvdHRvbSAhPSAzNik7CisJ
RkFJTF9PTihtb2RlLnR2X21hcmdpbnMudG9wICE9IDQyKTsKKworCUZBSUxfT04obW9kZS5yYik7
CisJRkFJTF9PTihtb2RlLmN2dCk7CisJRkFJTF9PTihtb2RlLmludGVybGFjZSk7CisJRkFJTF9P
Tihtb2RlLm1hcmdpbnMpOworCUZBSUxfT04obW9kZS5mb3JjZSAhPSBEUk1fRk9SQ0VfVU5TUEVD
SUZJRUQpOworCisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyBpbnQgZHJtX2NtZGxpbmVfdGVzdF9m
cmVlc3RhbmRpbmdfZm9yY2VfZV9hbmRfb3B0aW9ucyh2b2lkICppZ25vcmVkKQoreworCXN0cnVj
dCBkcm1fY21kbGluZV9tb2RlIG1vZGUgPSB7IH07CisKKwlGQUlMX09OKCFkcm1fbW9kZV9wYXJz
ZV9jb21tYW5kX2xpbmVfZm9yX2Nvbm5lY3RvcigiZSxtYXJnaW5fcmlnaHQ9MTQsbWFyZ2luX2xl
ZnQ9MjQsbWFyZ2luX2JvdHRvbT0zNixtYXJnaW5fdG9wPTQyIiwKKwkJCQkJCQkgICAmbm9fY29u
bmVjdG9yLAorCQkJCQkJCSAgICZtb2RlKSk7CisJRkFJTF9PTihtb2RlLnNwZWNpZmllZCk7CisJ
RkFJTF9PTihtb2RlLnJlZnJlc2hfc3BlY2lmaWVkKTsKKwlGQUlMX09OKG1vZGUuYnBwX3NwZWNp
ZmllZCk7CisKKwlGQUlMX09OKG1vZGUudHZfbWFyZ2lucy5yaWdodCAhPSAxNCk7CisJRkFJTF9P
Tihtb2RlLnR2X21hcmdpbnMubGVmdCAhPSAyNCk7CisJRkFJTF9PTihtb2RlLnR2X21hcmdpbnMu
Ym90dG9tICE9IDM2KTsKKwlGQUlMX09OKG1vZGUudHZfbWFyZ2lucy50b3AgIT0gNDIpOworCisJ
RkFJTF9PTihtb2RlLnJiKTsKKwlGQUlMX09OKG1vZGUuY3Z0KTsKKwlGQUlMX09OKG1vZGUuaW50
ZXJsYWNlKTsKKwlGQUlMX09OKG1vZGUubWFyZ2lucyk7CisJRkFJTF9PTihtb2RlLmZvcmNlICE9
IERSTV9GT1JDRV9PTik7CisKKwlyZXR1cm4gMDsKK30KKwogI2luY2x1ZGUgImRybV9zZWxmdGVz
dC5jIgogCiBzdGF0aWMgaW50IF9faW5pdCB0ZXN0X2RybV9jbWRsaW5lX2luaXQodm9pZCkKLS0g
CjIuMjMuMAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18K
ZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0
dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
