Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 4925BEE606
	for <lists+dri-devel@lfdr.de>; Mon,  4 Nov 2019 18:33:47 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 566C86E78C;
	Mon,  4 Nov 2019 17:33:45 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from us-smtp-delivery-1.mimecast.com (us-smtp-1.mimecast.com
 [207.211.31.81])
 by gabe.freedesktop.org (Postfix) with ESMTPS id AD0C96E78C
 for <dri-devel@lists.freedesktop.org>; Mon,  4 Nov 2019 17:33:43 +0000 (UTC)
Received: from mimecast-mx01.redhat.com (mimecast-mx01.redhat.com
 [209.132.183.4]) (Using TLS) by relay.mimecast.com with ESMTP id
 us-mta-149-BOKr1PBBNByJ6qT6wX4yEA-1; Mon, 04 Nov 2019 12:33:38 -0500
Received: from smtp.corp.redhat.com (int-mx06.intmail.prod.int.phx2.redhat.com
 [10.5.11.16])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mimecast-mx01.redhat.com (Postfix) with ESMTPS id 847CA8017DD;
 Mon,  4 Nov 2019 17:33:33 +0000 (UTC)
Received: from redhat.com (unknown [10.20.6.178])
 by smtp.corp.redhat.com (Postfix) with ESMTPS id 89C995C557;
 Mon,  4 Nov 2019 17:33:27 +0000 (UTC)
Date: Mon, 4 Nov 2019 12:33:25 -0500
From: Jerome Glisse <jglisse@redhat.com>
To: John Hubbard <jhubbard@nvidia.com>
Subject: Re: [PATCH v2 05/18] mm/gup: introduce pin_user_pages*() and FOLL_PIN
Message-ID: <20191104173325.GD5134@redhat.com>
References: <20191103211813.213227-1-jhubbard@nvidia.com>
 <20191103211813.213227-6-jhubbard@nvidia.com>
MIME-Version: 1.0
In-Reply-To: <20191103211813.213227-6-jhubbard@nvidia.com>
User-Agent: Mutt/1.12.1 (2019-06-15)
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.16
X-MC-Unique: BOKr1PBBNByJ6qT6wX4yEA-1
X-Mimecast-Spam-Score: 0
Content-Disposition: inline
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=redhat.com; 
 s=mimecast20190719; t=1572888822;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=yb3yyO2PYYBql1Fagu7xeohR5a32M0AhAOb3BjMNyXY=;
 b=GQpRsC5biVZrcUCmm8/d04vdDBWTuHXVl8fb8jnmz/BzWrplmXBDOnR98lt+lHYe5O/hHE
 9oWG3Fr/fLPXSyC3dqzkScENA9u159VHaMg1ma8eS+XpmYO3EEfQKxKr2ZNHoMSNcYUrNr
 J/0gg23fD/hQuRHU0rEkm6E4WJ5AkjI=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Michal Hocko <mhocko@suse.com>, Jan Kara <jack@suse.cz>,
 kvm@vger.kernel.org, linux-doc@vger.kernel.org,
 David Airlie <airlied@linux.ie>, Dave Chinner <david@fromorbit.com>,
 dri-devel@lists.freedesktop.org, linux-mm@kvack.org,
 Paul Mackerras <paulus@samba.org>, linux-kselftest@vger.kernel.org,
 Ira Weiny <ira.weiny@intel.com>, Jonathan Corbet <corbet@lwn.net>,
 linux-rdma@vger.kernel.org, Michael Ellerman <mpe@ellerman.id.au>,
 Christoph Hellwig <hch@infradead.org>, Jason Gunthorpe <jgg@ziepe.ca>,
 Vlastimil Babka <vbabka@suse.cz>,
 =?iso-8859-1?Q?Bj=F6rn_T=F6pel?= <bjorn.topel@intel.com>,
 linux-media@vger.kernel.org, Shuah Khan <shuah@kernel.org>,
 linux-block@vger.kernel.org, Alex Williamson <alex.williamson@redhat.com>,
 Al Viro <viro@zeniv.linux.org.uk>, Dan Williams <dan.j.williams@intel.com>,
 Mauro Carvalho Chehab <mchehab@kernel.org>, bpf@vger.kernel.org,
 Magnus Karlsson <magnus.karlsson@intel.com>, Jens Axboe <axboe@kernel.dk>,
 netdev@vger.kernel.org, LKML <linux-kernel@vger.kernel.org>,
 linux-fsdevel@vger.kernel.org, Andrew Morton <akpm@linux-foundation.org>,
 linuxppc-dev@lists.ozlabs.org, "David S . Miller" <davem@davemloft.net>,
 Mike Kravetz <mike.kravetz@oracle.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gU3VuLCBOb3YgMDMsIDIwMTkgYXQgMDE6MTg6MDBQTSAtMDgwMCwgSm9obiBIdWJiYXJkIHdy
b3RlOgo+IEludHJvZHVjZSBwaW5fdXNlcl9wYWdlcyooKSB2YXJpYXRpb25zIG9mIGdldF91c2Vy
X3BhZ2VzKigpIGNhbGxzLAo+IGFuZCBhbHNvIHBpbl9sb25ndGVybV9wYWdlcyooKSB2YXJpYXRp
b25zLgo+IAo+IFRoZXNlIHZhcmlhbnRzIGFsbCBzZXQgRk9MTF9QSU4sIHdoaWNoIGlzIGFsc28g
aW50cm9kdWNlZCwgYW5kCj4gdGhvcm91Z2hseSBkb2N1bWVudGVkLgo+IAo+IFRoZSBwaW5fbG9u
Z3Rlcm0qKCkgdmFyaWFudHMgYWxzbyBzZXQgRk9MTF9MT05HVEVSTSwgaW4gYWRkaXRpb24KPiB0
byBGT0xMX1BJTjoKPiAKPiAgICAgcGluX3VzZXJfcGFnZXMoKQo+ICAgICBwaW5fdXNlcl9wYWdl
c19yZW1vdGUoKQo+ICAgICBwaW5fdXNlcl9wYWdlc19mYXN0KCkKPiAKPiAgICAgcGluX2xvbmd0
ZXJtX3BhZ2VzKCkKPiAgICAgcGluX2xvbmd0ZXJtX3BhZ2VzX3JlbW90ZSgpCj4gICAgIHBpbl9s
b25ndGVybV9wYWdlc19mYXN0KCkKPiAKPiBBbGwgcGFnZXMgdGhhdCBhcmUgcGlubmVkIHZpYSB0
aGUgYWJvdmUgY2FsbHMsIG11c3QgYmUgdW5waW5uZWQgdmlhCj4gcHV0X3VzZXJfcGFnZSgpLgo+
IAo+IFRoZSB1bmRlcmx5aW5nIHJ1bGVzIGFyZToKPiAKPiAqIFRoZXNlIGFyZSBndXAtaW50ZXJu
YWwgZmxhZ3MsIHNvIHRoZSBjYWxsIHNpdGVzIHNob3VsZCBub3QgZGlyZWN0bHkKPiBzZXQgRk9M
TF9QSU4gbm9yIEZPTExfTE9OR1RFUk0uIFRoYXQgYmVoYXZpb3IgaXMgZW5mb3JjZWQgd2l0aAo+
IGFzc2VydGlvbnMsIGZvciB0aGUgbmV3IEZPTExfUElOIGZsYWcuIEhvd2V2ZXIsIGZvciB0aGUg
cHJlLWV4aXN0aW5nCj4gRk9MTF9MT05HVEVSTSBmbGFnLCB3aGljaCBoYXMgc29tZSBjYWxsIHNp
dGVzIHRoYXQgc3RpbGwgZGlyZWN0bHkKPiBzZXQgRk9MTF9MT05HVEVSTSwgdGhlcmUgaXMgbm8g
YXNzZXJ0aW9uIHlldC4KPiAKPiAqIENhbGwgc2l0ZXMgdGhhdCB3YW50IHRvIGluZGljYXRlIHRo
YXQgdGhleSBhcmUgZ29pbmcgdG8gZG8gRGlyZWN0SU8KPiAgICgiRElPIikgb3Igc29tZXRoaW5n
IHdpdGggc2ltaWxhciBjaGFyYWN0ZXJpc3RpY3MsIHNob3VsZCBjYWxsIGEKPiAgIGdldF91c2Vy
X3BhZ2VzKCktbGlrZSB3cmFwcGVyIGNhbGwgdGhhdCBzZXRzIEZPTExfUElOLiBUaGVzZSB3cmFw
cGVycwo+ICAgd2lsbDoKPiAgICAgICAgICogU3RhcnQgd2l0aCAicGluX3VzZXJfcGFnZXMiIGlu
c3RlYWQgb2YgImdldF91c2VyX3BhZ2VzIi4gVGhhdAo+ICAgICAgICAgICBtYWtlcyBpdCBlYXN5
IHRvIGZpbmQgYW5kIGF1ZGl0IHRoZSBjYWxsIHNpdGVzLgo+ICAgICAgICAgKiBTZXQgRk9MTF9Q
SU4KPiAKPiAqIEZvciBwYWdlcyB0aGF0IGFyZSByZWNlaXZlZCB2aWEgRk9MTF9QSU4sIHRob3Nl
IHBhZ2VzIG11c3QgYmUgcmV0dXJuZWQKPiAgIHZpYSBwdXRfdXNlcl9wYWdlKCkuCj4gCj4gVGhh
bmtzIHRvIEphbiBLYXJhIGFuZCBWbGFzdGltaWwgQmFia2EgZm9yIGV4cGxhaW5pbmcgdGhlIDQg
Y2FzZXMKPiBpbiB0aGlzIGRvY3VtZW50YXRpb24uIChJJ3ZlIHJld29yZGVkIGl0IGFuZCBleHBh
bmRlZCBvbiBpdCBzbGlnaHRseS4pCj4gCj4gQ2M6IEpvbmF0aGFuIENvcmJldCA8Y29yYmV0QGx3
bi5uZXQ+Cj4gQ2M6IElyYSBXZWlueSA8aXJhLndlaW55QGludGVsLmNvbT4KPiBTaWduZWQtb2Zm
LWJ5OiBKb2huIEh1YmJhcmQgPGpodWJiYXJkQG52aWRpYS5jb20+CgpGZXcgbml0cGljayBiZWxv
d3MsIG5vbmV0aGVsZXNzOgoKUmV2aWV3ZWQtYnk6IErDqXLDtG1lIEdsaXNzZSA8amdsaXNzZUBy
ZWRoYXQuY29tPgoKPiAtLS0KPiAgRG9jdW1lbnRhdGlvbi92bS9pbmRleC5yc3QgICAgICAgICAg
fCAgIDEgKwo+ICBEb2N1bWVudGF0aW9uL3ZtL3Bpbl91c2VyX3BhZ2VzLnJzdCB8IDIxMiArKysr
KysrKysrKysrKysrKysrKysrCj4gIGluY2x1ZGUvbGludXgvbW0uaCAgICAgICAgICAgICAgICAg
IHwgIDYyICsrKysrKy0KPiAgbW0vZ3VwLmMgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAy
NjUgKysrKysrKysrKysrKysrKysrKysrKysrKy0tLQo+ICA0IGZpbGVzIGNoYW5nZWQsIDUxNCBp
bnNlcnRpb25zKCspLCAyNiBkZWxldGlvbnMoLSkKPiAgY3JlYXRlIG1vZGUgMTAwNjQ0IERvY3Vt
ZW50YXRpb24vdm0vcGluX3VzZXJfcGFnZXMucnN0Cj4gCgpbLi4uXQoKPiBkaWZmIC0tZ2l0IGEv
RG9jdW1lbnRhdGlvbi92bS9waW5fdXNlcl9wYWdlcy5yc3QgYi9Eb2N1bWVudGF0aW9uL3ZtL3Bp
bl91c2VyX3BhZ2VzLnJzdAo+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0Cj4gaW5kZXggMDAwMDAwMDAw
MDAwLi4zOTEwZjQ5Y2E5OGMKPiAtLS0gL2Rldi9udWxsCj4gKysrIGIvRG9jdW1lbnRhdGlvbi92
bS9waW5fdXNlcl9wYWdlcy5yc3QKClsuLi5dCgo+ICsKPiArRk9MTF9QSU4sIEZPTExfR0VULCBG
T0xMX0xPTkdURVJNOiB3aGVuIHRvIHVzZSB3aGljaCBmbGFncwo+ICs9PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Cj4gKwo+ICtUaGFua3Mg
dG8gSmFuIEthcmEsIFZsYXN0aW1pbCBCYWJrYSBhbmQgc2V2ZXJhbCBvdGhlciAtbW0gcGVvcGxl
LCBmb3IgZGVzY3JpYmluZwo+ICt0aGVzZSBjYXRlZ29yaWVzOgo+ICsKPiArQ0FTRSAxOiBEaXJl
Y3QgSU8gKERJTykKPiArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KPiArVGhlcmUgYXJlIEdVUCBy
ZWZlcmVuY2VzIHRvIHBhZ2VzIHRoYXQgYXJlIHNlcnZpbmcKPiArYXMgRElPIGJ1ZmZlcnMuIFRo
ZXNlIGJ1ZmZlcnMgYXJlIG5lZWRlZCBmb3IgYSByZWxhdGl2ZWx5IHNob3J0IHRpbWUgKHNvIHRo
ZXkKPiArYXJlIG5vdCAibG9uZyB0ZXJtIikuIE5vIHNwZWNpYWwgc3luY2hyb25pemF0aW9uIHdp
dGggcGFnZV9ta2NsZWFuKCkgb3IKPiArbXVubWFwKCkgaXMgcHJvdmlkZWQuIFRoZXJlZm9yZSwg
ZmxhZ3MgdG8gc2V0IGF0IHRoZSBjYWxsIHNpdGUgYXJlOiA6Ogo+ICsKPiArICAgIEZPTExfUElO
Cj4gKwo+ICsuLi5idXQgcmF0aGVyIHRoYW4gc2V0dGluZyBGT0xMX1BJTiBkaXJlY3RseSwgY2Fs
bCBzaXRlcyBzaG91bGQgdXNlIG9uZSBvZgo+ICt0aGUgcGluX3VzZXJfcGFnZXMqKCkgcm91dGlu
ZXMgdGhhdCBzZXQgRk9MTF9QSU4uCj4gKwo+ICtDQVNFIDI6IFJETUEKPiArLS0tLS0tLS0tLS0t
Cj4gK1RoZXJlIGFyZSBHVVAgcmVmZXJlbmNlcyB0byBwYWdlcyB0aGF0IGFyZSBzZXJ2aW5nIGFz
IERNQQo+ICtidWZmZXJzLiBUaGVzZSBidWZmZXJzIGFyZSBuZWVkZWQgZm9yIGEgbG9uZyB0aW1l
ICgibG9uZyB0ZXJtIikuIE5vIHNwZWNpYWwKPiArc3luY2hyb25pemF0aW9uIHdpdGggcGFnZV9t
a2NsZWFuKCkgb3IgbXVubWFwKCkgaXMgcHJvdmlkZWQuIFRoZXJlZm9yZSwgZmxhZ3MKPiArdG8g
c2V0IGF0IHRoZSBjYWxsIHNpdGUgYXJlOiA6Ogo+ICsKPiArICAgIEZPTExfUElOIHwgRk9MTF9M
T05HVEVSTQo+ICsKPiArTk9URTogU29tZSBwYWdlcywgc3VjaCBhcyBEQVggcGFnZXMsIGNhbm5v
dCBiZSBwaW5uZWQgd2l0aCBsb25ndGVybSBwaW5zLiBUaGF0J3MKPiArYmVjYXVzZSBEQVggcGFn
ZXMgZG8gbm90IGhhdmUgYSBzZXBhcmF0ZSBwYWdlIGNhY2hlLCBhbmQgc28gInBpbm5pbmciIGlt
cGxpZXMKPiArbG9ja2luZyBkb3duIGZpbGUgc3lzdGVtIGJsb2Nrcywgd2hpY2ggaXMgbm90ICh5
ZXQpIHN1cHBvcnRlZCBpbiB0aGF0IHdheS4KPiArCj4gK0NBU0UgMzogT0RQCj4gKy0tLS0tLS0t
LS0tCj4gKyhNZWxsYW5veC9JbmZpbmliYW5kIE9uIERlbWFuZCBQYWdpbmc6IHRoZSBoYXJkd2Fy
ZSBzdXBwb3J0cwo+ICtyZXBsYXlhYmxlIHBhZ2UgZmF1bHRpbmcpLiBUaGVyZSBhcmUgR1VQIHJl
ZmVyZW5jZXMgdG8gcGFnZXMgc2VydmluZyBhcyBETUEKPiArYnVmZmVycy4gRm9yIE9EUCwgTU1V
IG5vdGlmaWVycyBhcmUgdXNlZCB0byBzeW5jaHJvbml6ZSB3aXRoIHBhZ2VfbWtjbGVhbigpCj4g
K2FuZCBtdW5tYXAoKS4gVGhlcmVmb3JlLCBub3JtYWwgR1VQIGNhbGxzIGFyZSBzdWZmaWNpZW50
LCBzbyBuZWl0aGVyIGZsYWcKPiArbmVlZHMgdG8gYmUgc2V0LgoKSSB3b3VsZCBub3QgaW5jbHVk
ZSBPRFAgb3IgYW55dGhpbmcgbGlrZSBpdCBoZXJlLCB0aGV5IGRvIG5vdCB1c2UKR1VQIGFueW1v
cmUgYW5kIGkgYmVsaWV2ZSBpdCBpcyBtb3JlIGNvbmZ1c2luZyBoZXJlLiBJIHdvdWxkIGhvdy0K
ZXZlciBpbmNsdWRlIHNvbWUgdGV4dCBpbiB0aGlzIGRvY3VtZW50YXRpb24gZXhwbGFpbmluZyB0
aGF0IGhhcmQtCndhcmUgdGhhdCBzdXBwb3J0IHBhZ2UgZmF1bHQgaXMgc3VwZXJpb3IgYXMgaXQg
ZG9lcyBub3QgaW5jdXIgYW55Cm9mIHRoZSBpc3N1ZXMgZGVzY3JpYmVkIGhlcmUuCgo+ICsKPiAr
Q0FTRSA0OiBQaW5uaW5nIGZvciBzdHJ1Y3QgcGFnZSBtYW5pcHVsYXRpb24gb25seQo+ICstLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCj4gK0hlcmUsIG5v
cm1hbCBHVVAgY2FsbHMgYXJlIHN1ZmZpY2llbnQsIHNvIG5laXRoZXIgZmxhZyBuZWVkcyB0byBi
ZSBzZXQuCj4gKwoKWy4uLl0KCj4gZGlmZiAtLWdpdCBhL21tL2d1cC5jIGIvbW0vZ3VwLmMKPiBp
bmRleCAxOTlkYTk5ZThmZmMuLjFhZWE0ODQyNzg3OSAxMDA2NDQKPiAtLS0gYS9tbS9ndXAuYwo+
ICsrKyBiL21tL2d1cC5jCgpbLi4uXQoKPiBAQCAtMTAxNCw3ICsxMDE4LDE2IEBAIHN0YXRpYyBf
X2Fsd2F5c19pbmxpbmUgbG9uZyBfX2dldF91c2VyX3BhZ2VzX2xvY2tlZChzdHJ1Y3QgdGFza19z
dHJ1Y3QgKnRzaywKPiAgCQlCVUdfT04oKmxvY2tlZCAhPSAxKTsKPiAgCX0KPiAgCj4gLQlpZiAo
cGFnZXMpCj4gKwkvKgo+ICsJICogRk9MTF9QSU4gYW5kIEZPTExfR0VUIGFyZSBtdXR1YWxseSBl
eGNsdXNpdmUuIFRyYWRpdGlvbmFsIGJlaGF2aW9yCj4gKwkgKiBpcyB0byBzZXQgRk9MTF9HRVQg
aWYgdGhlIGNhbGxlciB3YW50cyBwYWdlc1tdIGZpbGxlZCBpbiAoYnV0IGhhcwo+ICsJICogY2Fy
ZWxlc3NseSBmYWlsZWQgdG8gc3BlY2lmeSBGT0xMX0dFVCksIHNvIGtlZXAgZG9pbmcgdGhhdCwg
YnV0IG9ubHkKPiArCSAqIGZvciBGT0xMX0dFVCwgbm90IGZvciB0aGUgbmV3ZXIgRk9MTF9QSU4u
Cj4gKwkgKgo+ICsJICogRk9MTF9QSU4gYWx3YXlzIGV4cGVjdHMgcGFnZXMgdG8gYmUgbm9uLW51
bGwsIGJ1dCBubyBuZWVkIHRvIGFzc2VydAo+ICsJICogdGhhdCBoZXJlLCBhcyBhbnkgZmFpbHVy
ZXMgd2lsbCBiZSBvYnZpb3VzIGVub3VnaC4KPiArCSAqLwo+ICsJaWYgKHBhZ2VzICYmICEoZmxh
Z3MgJiBGT0xMX1BJTikpCj4gIAkJZmxhZ3MgfD0gRk9MTF9HRVQ7CgpEaWQgeW91IGxvb2sgYXQg
dXNlciB0aGF0IGhhdmUgcGFnZXMgYW5kIG5vdCBGT0xMX0dFVCBzZXQgPwpJIGJlbGlldmUgaXQg
d291bGQgYmUgYmV0dGVyIHRvIGZpcnN0IGZpeCB0aGVtIHRvIGVuZCB1cAp3aXRoIEZPTExfR0VU
IHNldCBhbmQgdGhlbiBlcnJvciBvdXQgaWYgcGFnZXMgaXMgIT0gTlVMTCBidXQKbm9yIEZPTExf
R0VUIG9yIEZPTExfUElOIGlzIHNldC4KCj4gIAo+ICAJcGFnZXNfZG9uZSA9IDA7Cgo+IEBAIC0y
MzczLDI0ICsyNDAyLDkgQEAgc3RhdGljIGludCBfX2d1cF9sb25ndGVybV91bmxvY2tlZCh1bnNp
Z25lZCBsb25nIHN0YXJ0LCBpbnQgbnJfcGFnZXMsCj4gIAlyZXR1cm4gcmV0Owo+ICB9Cj4gIAo+
IC0vKioKPiAtICogZ2V0X3VzZXJfcGFnZXNfZmFzdCgpIC0gcGluIHVzZXIgcGFnZXMgaW4gbWVt
b3J5Cj4gLSAqIEBzdGFydDoJc3RhcnRpbmcgdXNlciBhZGRyZXNzCj4gLSAqIEBucl9wYWdlczoJ
bnVtYmVyIG9mIHBhZ2VzIGZyb20gc3RhcnQgdG8gcGluCj4gLSAqIEBndXBfZmxhZ3M6CWZsYWdz
IG1vZGlmeWluZyBwaW4gYmVoYXZpb3VyCj4gLSAqIEBwYWdlczoJYXJyYXkgdGhhdCByZWNlaXZl
cyBwb2ludGVycyB0byB0aGUgcGFnZXMgcGlubmVkLgo+IC0gKgkJU2hvdWxkIGJlIGF0IGxlYXN0
IG5yX3BhZ2VzIGxvbmcuCj4gLSAqCj4gLSAqIEF0dGVtcHQgdG8gcGluIHVzZXIgcGFnZXMgaW4g
bWVtb3J5IHdpdGhvdXQgdGFraW5nIG1tLT5tbWFwX3NlbS4KPiAtICogSWYgbm90IHN1Y2Nlc3Nm
dWwsIGl0IHdpbGwgZmFsbCBiYWNrIHRvIHRha2luZyB0aGUgbG9jayBhbmQKPiAtICogY2FsbGlu
ZyBnZXRfdXNlcl9wYWdlcygpLgo+IC0gKgo+IC0gKiBSZXR1cm5zIG51bWJlciBvZiBwYWdlcyBw
aW5uZWQuIFRoaXMgbWF5IGJlIGZld2VyIHRoYW4gdGhlIG51bWJlcgo+IC0gKiByZXF1ZXN0ZWQu
IElmIG5yX3BhZ2VzIGlzIDAgb3IgbmVnYXRpdmUsIHJldHVybnMgMC4gSWYgbm8gcGFnZXMKPiAt
ICogd2VyZSBwaW5uZWQsIHJldHVybnMgLWVycm5vLgo+IC0gKi8KPiAtaW50IGdldF91c2VyX3Bh
Z2VzX2Zhc3QodW5zaWduZWQgbG9uZyBzdGFydCwgaW50IG5yX3BhZ2VzLAo+IC0JCQl1bnNpZ25l
ZCBpbnQgZ3VwX2ZsYWdzLCBzdHJ1Y3QgcGFnZSAqKnBhZ2VzKQo+ICtzdGF0aWMgaW50IGludGVy
bmFsX2dldF91c2VyX3BhZ2VzX2Zhc3QodW5zaWduZWQgbG9uZyBzdGFydCwgaW50IG5yX3BhZ2Vz
LAo+ICsJCQkJCXVuc2lnbmVkIGludCBndXBfZmxhZ3MsCj4gKwkJCQkJc3RydWN0IHBhZ2UgKipw
YWdlcykKClVzdWFseSBmdW5jdGlvbiBhcmUgcmVuYW1lIHRvIF9vbGRfZnVuY19uYW1lIGllIGFk
ZCBfIGluIGZyb250LiBTbwpoZXJlIGl0IHdvdWxkIGJlY29tZSBfZ2V0X3VzZXJfcGFnZXNfZmFz
dCBidXQgaSBrbm93IHNvbWUgcGVvcGxlCmRvbid0IGxpa2UgdGhhdCBhcyBzb21ldGltZXMgd2Ug
ZW5kdXAgd2l0aCBfX19mdW5jdGlvbl9vdmVybG9hZGVkIDopCgo+ICB7Cj4gIAl1bnNpZ25lZCBs
b25nIGFkZHIsIGxlbiwgZW5kOwo+ICAJaW50IG5yID0gMCwgcmV0ID0gMDsKCgo+IEBAIC0yNDM1
LDQgKzI0NDksMjE1IEBAIGludCBnZXRfdXNlcl9wYWdlc19mYXN0KHVuc2lnbmVkIGxvbmcgc3Rh
cnQsIGludCBucl9wYWdlcywKClsuLi5dCgo+ICsvKioKPiArICogcGluX3VzZXJfcGFnZXNfcmVt
b3RlKCkgLSBwaW4gcGFnZXMgZm9yICh0eXBpY2FsbHkpIHVzZSBieSBEaXJlY3QgSU8sIGFuZAo+
ICsgKiByZXR1cm4gdGhlIHBhZ2VzIHRvIHRoZSB1c2VyLgoKTm90IGEgZmFuIG9mICh0eXBpY2Fs
bHkpIG1heWJlOgpwaW5fdXNlcl9wYWdlc19yZW1vdGUoKSAtIHBpbiBwYWdlcyBvZiBhIHJlbW90
ZSBwcm9jZXNzICh0YXNrICE9IGN1cnJlbnQpCgpJIHRoaW5rIGhlcmUgdGhlIHJlbW90ZSBwYXJ0
IGlmIG1vcmUgaW1wb3J0YW50IHRoYXQgRElPLiBSZW1vdGUgaXMgdXNlIGJ5Cm90aGVyIHRoaW5n
IHRoYXQgRElPLgoKPiArICoKPiArICogTmVhcmx5IHRoZSBzYW1lIGFzIGdldF91c2VyX3BhZ2Vz
X3JlbW90ZSgpLCBleGNlcHQgdGhhdCBGT0xMX1BJTiBpcyBzZXQuIFNlZQo+ICsgKiBnZXRfdXNl
cl9wYWdlc19yZW1vdGUoKSBmb3IgZG9jdW1lbnRhdGlvbiBvbiB0aGUgZnVuY3Rpb24gYXJndW1l
bnRzLCBiZWNhdXNlCj4gKyAqIHRoZSBhcmd1bWVudHMgaGVyZSBhcmUgaWRlbnRpY2FsLgo+ICsg
Kgo+ICsgKiBGT0xMX1BJTiBtZWFucyB0aGF0IHRoZSBwYWdlcyBtdXN0IGJlIHJlbGVhc2VkIHZp
YSBwdXRfdXNlcl9wYWdlKCkuIFBsZWFzZQo+ICsgKiBzZWUgRG9jdW1lbnRhdGlvbi92bS9waW5f
dXNlcl9wYWdlcy5yc3QgZm9yIGRldGFpbHMuCj4gKyAqCj4gKyAqIFRoaXMgaXMgaW50ZW5kZWQg
Zm9yIENhc2UgMSAoRElPKSBpbiBEb2N1bWVudGF0aW9uL3ZtL3Bpbl91c2VyX3BhZ2VzLnJzdC4g
SXQKPiArICogaXMgTk9UIGludGVuZGVkIGZvciBDYXNlIDIgKFJETUE6IGxvbmctdGVybSBwaW5z
KS4KPiArICovCj4gK2xvbmcgcGluX3VzZXJfcGFnZXNfcmVtb3RlKHN0cnVjdCB0YXNrX3N0cnVj
dCAqdHNrLCBzdHJ1Y3QgbW1fc3RydWN0ICptbSwKPiArCQkJICAgdW5zaWduZWQgbG9uZyBzdGFy
dCwgdW5zaWduZWQgbG9uZyBucl9wYWdlcywKPiArCQkJICAgdW5zaWduZWQgaW50IGd1cF9mbGFn
cywgc3RydWN0IHBhZ2UgKipwYWdlcywKPiArCQkJICAgc3RydWN0IHZtX2FyZWFfc3RydWN0ICoq
dm1hcywgaW50ICpsb2NrZWQpCj4gK3sKPiArCS8qIEZPTExfR0VUIGFuZCBGT0xMX1BJTiBhcmUg
bXV0dWFsbHkgZXhjbHVzaXZlLiAqLwo+ICsJaWYgKFdBUk5fT05fT05DRShndXBfZmxhZ3MgJiBG
T0xMX0dFVCkpCj4gKwkJcmV0dXJuIC1FSU5WQUw7Cj4gKwo+ICsJZ3VwX2ZsYWdzIHw9IEZPTExf
VE9VQ0ggfCBGT0xMX1JFTU9URSB8IEZPTExfUElOOwo+ICsKPiArCXJldHVybiBfX2dldF91c2Vy
X3BhZ2VzX2xvY2tlZCh0c2ssIG1tLCBzdGFydCwgbnJfcGFnZXMsIHBhZ2VzLCB2bWFzLAo+ICsJ
CQkJICAgICAgIGxvY2tlZCwgZ3VwX2ZsYWdzKTsKPiArfQo+ICtFWFBPUlRfU1lNQk9MKHBpbl91
c2VyX3BhZ2VzX3JlbW90ZSk7Cj4gKwo+ICsvKioKPiArICogcGluX2xvbmd0ZXJtX3BhZ2VzX3Jl
bW90ZSgpIC0gcGluIHBhZ2VzIGZvciAodHlwaWNhbGx5KSB1c2UgYnkgRGlyZWN0IElPLCBhbmQK
PiArICogcmV0dXJuIHRoZSBwYWdlcyB0byB0aGUgdXNlci4KCkkgdGhpbmsgeW91IGNvcHkgcGFz
dGVkIHRoaXMgZnJvbSBwaW5fdXNlcl9wYWdlc19yZW1vdGUoKSA6KQoKPiArICoKPiArICogTmVh
cmx5IHRoZSBzYW1lIGFzIGdldF91c2VyX3BhZ2VzX3JlbW90ZSgpLCBidXQgbm90ZSB0aGF0IEZP
TExfVE9VQ0ggaXMgbm90Cj4gKyAqIHNldCwgYW5kIEZPTExfUElOIGFuZCBGT0xMX0xPTkdURVJN
IGFyZSBzZXQuIFNlZSBnZXRfdXNlcl9wYWdlc19yZW1vdGUoKSBmb3IKPiArICogZG9jdW1lbnRh
dGlvbiBvbiB0aGUgZnVuY3Rpb24gYXJndW1lbnRzLCBiZWNhdXNlIHRoZSBhcmd1bWVudHMgaGVy
ZSBhcmUKPiArICogaWRlbnRpY2FsLgo+ICsgKgo+ICsgKiBGT0xMX1BJTiBtZWFucyB0aGF0IHRo
ZSBwYWdlcyBtdXN0IGJlIHJlbGVhc2VkIHZpYSBwdXRfdXNlcl9wYWdlKCkuIFBsZWFzZQo+ICsg
KiBzZWUgRG9jdW1lbnRhdGlvbi92bS9waW5fdXNlcl9wYWdlcy5yc3QgZm9yIGZ1cnRoZXIgZGV0
YWlscy4KPiArICoKPiArICogRk9MTF9MT05HVEVSTSBtZWFucyB0aGF0IHRoZSBwYWdlcyBhcmUg
YmVpbmcgcGlubmVkIGZvciAibG9uZyB0ZXJtIiB1c2UsCj4gKyAqIHR5cGljYWxseSBieSBhIG5v
bi1DUFUgZGV2aWNlLCBhbmQgd2UgY2Fubm90IGJlIHN1cmUgdGhhdCB3YWl0aW5nIGZvciBhCj4g
KyAqIHBpbm5lZCBwYWdlIHRvIGJlY29tZSB1bnBpbiB3aWxsIGJlIGVmZmVjdGl2ZS4KPiArICoK
PiArICogVGhpcyBpcyBpbnRlbmRlZCBmb3IgQ2FzZSAyIChSRE1BOiBsb25nLXRlcm0gcGlucykg
aW4KPiArICogRG9jdW1lbnRhdGlvbi92bS9waW5fdXNlcl9wYWdlcy5yc3QuCj4gKyAqLwo+ICts
b25nIHBpbl9sb25ndGVybV9wYWdlc19yZW1vdGUoc3RydWN0IHRhc2tfc3RydWN0ICp0c2ssIHN0
cnVjdCBtbV9zdHJ1Y3QgKm1tLAo+ICsJCQkgICAgICAgdW5zaWduZWQgbG9uZyBzdGFydCwgdW5z
aWduZWQgbG9uZyBucl9wYWdlcywKPiArCQkJICAgICAgIHVuc2lnbmVkIGludCBndXBfZmxhZ3Ms
IHN0cnVjdCBwYWdlICoqcGFnZXMsCj4gKwkJCSAgICAgICBzdHJ1Y3Qgdm1fYXJlYV9zdHJ1Y3Qg
Kip2bWFzLCBpbnQgKmxvY2tlZCkKPiArewo+ICsJLyogRk9MTF9HRVQgYW5kIEZPTExfUElOIGFy
ZSBtdXR1YWxseSBleGNsdXNpdmUuICovCj4gKwlpZiAoV0FSTl9PTl9PTkNFKGd1cF9mbGFncyAm
IEZPTExfR0VUKSkKPiArCQlyZXR1cm4gLUVJTlZBTDsKPiArCj4gKwkvKgo+ICsJICogRklYTUU6
IGFzIG5vdGVkIGluIHRoZSBnZXRfdXNlcl9wYWdlc19yZW1vdGUoKSBpbXBsZW1lbnRhdGlvbiwg
aXQKPiArCSAqIGlzIG5vdCB5ZXQgcG9zc2libGUgdG8gc2FmZWx5IHNldCBGT0xMX0xPTkdURVJN
IGhlcmUuIEZPTExfTE9OR1RFUk0KPiArCSAqIG5lZWRzIHRvIGJlIHNldCwgYnV0IGZvciBub3cg
dGhlIGJlc3Qgd2UgY2FuIGRvIGlzIGEgIlRPRE8iIGl0ZW0uCj4gKwkgKi8KPiArCWd1cF9mbGFn
cyB8PSBGT0xMX1JFTU9URSB8IEZPTExfUElOOwoKV291bGRuJ3QgaXQgYmUgYmV0dGVyIHRvIG5v
dCBhZGQgcGluX2xvbmd0ZXJtX3BhZ2VzX3JlbW90ZSgpIHVudGlsCml0IGNhbiBiZSBwcm9wZXJs
eSBpbXBsZW1lbnRlZCA/CgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3Rv
cC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmkt
ZGV2ZWw=
