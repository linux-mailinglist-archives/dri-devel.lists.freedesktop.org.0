Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id A26772F99D
	for <lists+dri-devel@lfdr.de>; Thu, 30 May 2019 11:40:32 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 51DA06E14D;
	Thu, 30 May 2019 09:40:29 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8FA936E14D;
 Thu, 30 May 2019 09:40:27 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 16731982-1500050 for multiple; Thu, 30 May 2019 10:40:12 +0100
MIME-Version: 1.0
To: Janusz Krzysztofik <janusz.krzysztofik@linux.intel.com>,
 intel-gfx@lists.freedesktop.org
From: Chris Wilson <chris@chris-wilson.co.uk>
In-Reply-To: <20190530092426.23880-2-janusz.krzysztofik@linux.intel.com>
References: <20190530092426.23880-1-janusz.krzysztofik@linux.intel.com>
 <20190530092426.23880-2-janusz.krzysztofik@linux.intel.com>
Message-ID: <155920920944.2224.169121808439828849@skylake-alporthouse-com>
User-Agent: alot/0.6
Subject: Re: [RFC PATCH 1/1] drm/i915: Split off pci_driver.remove() tail to
 drm_driver.release()
Date: Thu, 30 May 2019 10:40:09 +0100
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: David Airlie <airlied@linux.ie>, linux-kernel@vger.kernel.org,
 dri-devel@lists.freedesktop.org, Rodrigo Vivi <rodrigo.vivi@intel.com>,
 Janusz Krzysztofik <janusz.krzysztofik@linux.intel.com>,
 Michal Wajdeczko <michal.wajdeczko@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

UXVvdGluZyBKYW51c3ogS3J6eXN6dG9maWsgKDIwMTktMDUtMzAgMTA6MjQ6MjYpCj4gSW4gb3Jk
ZXIgdG8gc3VwcG9ydCBkcml2ZXIgaG90IHVuYmluZCwgc29tZSBjbGVhbnVwIG9wZXJhdGlvbnMs
IG5vdwo+IHBlcmZvcm1lZCBvbiBQQ0kgZHJpdmVyIHJlbW92ZSwgbXVzdCBiZSBjYWxsZWQgbGF0
ZXIsIGFmdGVyIGFsbCBkZXZpY2UKPiBmaWxlIGRlc2NyaXB0b3JzIGFyZSBjbG9zZWQuCj4gCj4g
U3BsaXQgb3V0IHRob3NlIG9wZXJhdGlvbnMgZnJvbSB0aGUgdGFpbCBvZiBwY2lfZHJpdmVyLnJl
bW92ZSgpCj4gY2FsbGJhY2sgYW5kIHB1dCB0aGVtIGludG8gZHJtX2RyaXZlci5yZWxlYXNlKCkg
d2hpY2ggaXMgY2FsbGVkIGFzIHNvb24KPiBhcyBhbGwgcmVmZXJlbmNlcyB0byB0aGUgZHJpdmVy
IGFyZSBwdXQuICBBcyBhIHJlc3VsdCwgdGhvc2UgY2xlYW51cHMKPiB3aWxsIGJlIG5vdyBydW4g
b24gbGFzdCBkcm1fZGV2X3B1dCgpLCBlaXRoZXIgc3RpbGwgY2FsbGVkIGZyb20KPiBwY2lfZHJp
dmVyLnJlbW92ZSgpIGlmIGFsbCBkZXZpY2UgZmlsZSBkZXNjcmlwdG9ycyBhcmUgYWxyZWFkeSBj
bG9zZWQsCj4gb3Igb24gbGFzdCBkcm1fcmVsZWFzZSgpIGZpbGUgb3BlcmF0aW9uLgo+IAo+IFNp
Z25lZC1vZmYtYnk6IEphbnVzeiBLcnp5c3p0b2ZpayA8amFudXN6LmtyenlzenRvZmlrQGxpbnV4
LmludGVsLmNvbT4KPiAtLS0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYyB8IDE3
ICsrKysrKysrKysrKystLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmggfCAg
MSArCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtLmMgfCAxMCArKysrKysrKystCj4g
IDMgZmlsZXMgY2hhbmdlZCwgMjMgaW5zZXJ0aW9ucygrKSwgNSBkZWxldGlvbnMoLSkKPiAKPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfZHJ2LmMKPiBpbmRleCA4M2QyZWI5ZTc0Y2IuLjhiZTY5Zjg0ZWI2ZCAx
MDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5jCj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYwo+IEBAIC03MzgsNiArNzM4LDcgQEAgc3RhdGlj
IGludCBpOTE1X2xvYWRfbW9kZXNldF9pbml0KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYpCj4gIAo+
ICBjbGVhbnVwX2dlbToKPiAgICAgICAgIGk5MTVfZ2VtX3N1c3BlbmQoZGV2X3ByaXYpOwo+ICsg
ICAgICAgaTkxNV9nZW1fZmluaV9odyhkZXZfcHJpdik7Cj4gICAgICAgICBpOTE1X2dlbV9maW5p
KGRldl9wcml2KTsKPiAgY2xlYW51cF9tb2Rlc2V0Ogo+ICAgICAgICAgaW50ZWxfbW9kZXNldF9j
bGVhbnVwKGRldik7Cj4gQEAgLTE2ODUsNyArMTY4Niw2IEBAIHN0YXRpYyB2b2lkIGk5MTVfZHJp
dmVyX2NsZWFudXBfaHcoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQo+ICAgICAg
ICAgICAgICAgICBwY2lfZGlzYWJsZV9tc2kocGRldik7Cj4gIAo+ICAgICAgICAgcG1fcW9zX3Jl
bW92ZV9yZXF1ZXN0KCZkZXZfcHJpdi0+cG1fcW9zKTsKPiAtICAgICAgIGk5MTVfZ2d0dF9jbGVh
bnVwX2h3KGRldl9wcml2KTsKPiAgfQo+ICAKPiAgLyoqCj4gQEAgLTE5MDksNiArMTkwOSw3IEBA
IGludCBpOTE1X2RyaXZlcl9sb2FkKHN0cnVjdCBwY2lfZGV2ICpwZGV2LCBjb25zdCBzdHJ1Y3Qg
cGNpX2RldmljZV9pZCAqZW50KQoKV291bGQgaXQgbWFrZSBzZW5zZSB0byByZW5hbWUgbG9hZC91
bmxvYWQgZnJvbSB0aGUgbGVnYWN5IGRybSBzdHVicyBvdmVyCnRvIG1hdGNoIHRoZSBwY2kgZW50
cnkgcG9pbnRzPwoKPiAgb3V0X2NsZWFudXBfaHc6Cj4gICAgICAgICBpOTE1X2RyaXZlcl9jbGVh
bnVwX2h3KGRldl9wcml2KTsKPiArICAgICAgIGk5MTVfZ2d0dF9jbGVhbnVwX2h3KGRldl9wcml2
KTsKPiAgb3V0X2NsZWFudXBfbW1pbzoKPiAgICAgICAgIGk5MTVfZHJpdmVyX2NsZWFudXBfbW1p
byhkZXZfcHJpdik7Cj4gIG91dF9ydW50aW1lX3BtX3B1dDoKPiBAQCAtMTk2MCwyMSArMTk2MSwy
OSBAQCB2b2lkIGk5MTVfZHJpdmVyX3VubG9hZChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2KQo+ICAg
ICAgICAgY2FuY2VsX2RlbGF5ZWRfd29ya19zeW5jKCZkZXZfcHJpdi0+Z3B1X2Vycm9yLmhhbmdj
aGVja193b3JrKTsKPiAgICAgICAgIGk5MTVfcmVzZXRfZXJyb3Jfc3RhdGUoZGV2X3ByaXYpOwo+
ICAKPiAtICAgICAgIGk5MTVfZ2VtX2ZpbmkoZGV2X3ByaXYpOwo+ICsgICAgICAgaTkxNV9nZW1f
ZmluaV9odyhkZXZfcHJpdik7Cj4gIAo+ICAgICAgICAgaW50ZWxfcG93ZXJfZG9tYWluc19maW5p
X2h3KGRldl9wcml2KTsKPiAgCj4gICAgICAgICBpOTE1X2RyaXZlcl9jbGVhbnVwX2h3KGRldl9w
cml2KTsKPiAtICAgICAgIGk5MTVfZHJpdmVyX2NsZWFudXBfbW1pbyhkZXZfcHJpdik7Cj4gIAo+
ICAgICAgICAgZW5hYmxlX3JwbV93YWtlcmVmX2Fzc2VydHMoZGV2X3ByaXYpOwo+IC0gICAgICAg
aW50ZWxfcnVudGltZV9wbV9jbGVhbnVwKGRldl9wcml2KTsKPiAgfQo+ICAKPiAgc3RhdGljIHZv
aWQgaTkxNV9kcml2ZXJfcmVsZWFzZShzdHJ1Y3QgZHJtX2RldmljZSAqZGV2KQo+ICB7Cj4gICAg
ICAgICBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGRldik7Cj4g
IAo+ICsgICAgICAgZGlzYWJsZV9ycG1fd2FrZXJlZl9hc3NlcnRzKGRldl9wcml2KTsKPiArCj4g
KyAgICAgICBpOTE1X2dlbV9maW5pKGRldl9wcml2KTsKPiArCj4gKyAgICAgICBpOTE1X2dndHRf
Y2xlYW51cF9odyhkZXZfcHJpdik7Cj4gKyAgICAgICBpOTE1X2RyaXZlcl9jbGVhbnVwX21taW8o
ZGV2X3ByaXYpOwo+ICsKPiArICAgICAgIGVuYWJsZV9ycG1fd2FrZXJlZl9hc3NlcnRzKGRldl9w
cml2KTsKPiArICAgICAgIGludGVsX3J1bnRpbWVfcG1fY2xlYW51cChkZXZfcHJpdik7CgpXZSBz
aG91bGQgcmVhbGx5IHByb3BhZ2F0ZSB0aGUgcmVsZWFzZSBub21lbmNsYXR1cmUgZG93biBhbmQg
cmVwbGFjZSBvdXIKbWl4ZWQgZmluaS9jbGVhbnVwLiBDb25zaXN0ZW5jeSBpcyBoZWxwZnVsIHdo
ZW4gdHJ5aW5nIHRvIHdvcmsgb3V0IHdoaWNoCnBoYXNlIHRoZSBjb2RlIGlzIGluLgoKPiAgICAg
ICAgIGk5MTVfZHJpdmVyX2NsZWFudXBfZWFybHkoZGV2X3ByaXYpOwo+ICAgICAgICAgaTkxNV9k
cml2ZXJfZGVzdHJveShkZXZfcHJpdik7Cj4gIH0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV9kcnYuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKPiBp
bmRleCBhMjY2NGVhMTM5NWIuLmQwOGU3YmQ4MzU0NCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X2Rydi5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9k
cnYuaAo+IEBAIC0zMDQ3LDYgKzMwNDcsNyBAQCB2b2lkIGk5MTVfZ2VtX2luaXRfbW1pbyhzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSk7Cj4gIGludCBfX211c3RfY2hlY2sgaTkxNV9nZW1f
aW5pdChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpOwo+ICBpbnQgX19tdXN0X2No
ZWNrIGk5MTVfZ2VtX2luaXRfaHcoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KTsK
PiAgdm9pZCBpOTE1X2dlbV9pbml0X3N3aXp6bGluZyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
ZGV2X3ByaXYpOwo+ICt2b2lkIGk5MTVfZ2VtX2ZpbmlfaHcoc3RydWN0IGRybV9pOTE1X3ByaXZh
dGUgKmRldl9wcml2KTsKPiAgdm9pZCBpOTE1X2dlbV9maW5pKHN0cnVjdCBkcm1faTkxNV9wcml2
YXRlICpkZXZfcHJpdik7Cj4gIGludCBpOTE1X2dlbV93YWl0X2Zvcl9pZGxlKHN0cnVjdCBkcm1f
aTkxNV9wcml2YXRlICpkZXZfcHJpdiwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNp
Z25lZCBpbnQgZmxhZ3MsIGxvbmcgdGltZW91dCk7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfZ2VtLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbS5jCj4g
aW5kZXggN2NhZmQ1NjEyZjcxLi5jNmE4ZTY2NWE2YmEgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9nZW0uYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
Z2VtLmMKPiBAQCAtNDY2Nyw3ICs0NjY3LDcgQEAgaW50IGk5MTVfZ2VtX2luaXQoc3RydWN0IGRy
bV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQo+ICAgICAgICAgcmV0dXJuIHJldDsKPiAgfQo+ICAK
PiAtdm9pZCBpOTE1X2dlbV9maW5pKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikK
PiArdm9pZCBpOTE1X2dlbV9maW5pX2h3KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJp
dikKPiAgewo+ICAgICAgICAgR0VNX0JVR19PTihkZXZfcHJpdi0+Z3QuYXdha2UpOwo+ICAKPiBA
QCAtNDY4MSw2ICs0NjgxLDE0IEBAIHZvaWQgaTkxNV9nZW1fZmluaShzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqZGV2X3ByaXYpCj4gICAgICAgICBpbnRlbF91Y19maW5pX2h3KGRldl9wcml2KTsK
PiAgICAgICAgIGludGVsX3VjX2ZpbmkoZGV2X3ByaXYpOwoKPiAgICAgICAgIGludGVsX2VuZ2lu
ZXNfY2xlYW51cChkZXZfcHJpdik7CgppbnRlbF9lbmdpbmVzX2NsZWFudXAgLT4gaTkxNV9nZW1f
ZmluaSAtLSB0aGF0IGlzIGluIHByaW5jaXBsZSBqdXN0CmZyZWVpbmcgc3RydWN0cy4gT25lIHNp
ZGUgZWZmZWN0IGl0IGRvZXMgaGF2ZSBpcyB0byBtYWtlIGFsbCBlbmdpbmVzCnVuYXZhaWxhYmxl
IChidXQgaXQgZG9lc24ndCB1cGRhdGUgdGhlIGVuZ2luZV9tYXNrIHNvIHRoZSBpbmNvbnNpc3Rl
bmN5Cm1pZ2h0IGNhdGNoIHVzIG91dCBpZiBpdCBpcyBub3Qgb25lIG9mIHRoZSBsYXN0IGNsZWFu
dXAgYWN0aW9ucykuCgppbnRlbF91Y19maW5pKCkgaXMgYSBiaXQgb2YgYSBtaXhlZCBiYWcuIEl0
IGxvb2tzIGxpa2UgaXQgZmx1c2hlcwpydW50aW1lIHN0YXRlLCBzbyBwcmVmZXJyYWJseSB0aGF0
IGZsdXNoIHNob3VsZCBiZSBtb3ZlZCB0byB0aGUgCl9maW5pX2h3IHNvIHRoYXQgX2ZpbmkgaXMg
cHVyZSBjbGVhbnVwLiBTbyBmb3IgdGhlIHRpbWUgYmVpbmcsIGJlc3QgdG8KbGVhdmUgaW50ZWxf
dWNfZmluaSgpIGhlcmUuCgo+ICsgICAgICAgbXV0ZXhfdW5sb2NrKCZkZXZfcHJpdi0+ZHJtLnN0
cnVjdF9tdXRleCk7Cj4gKwo+ICsgICAgICAgaTkxNV9nZW1fZHJhaW5fZnJlZWRfb2JqZWN0cyhk
ZXZfcHJpdik7Cj4gK30KPiArCj4gK3ZvaWQgaTkxNV9nZW1fZmluaShzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqZGV2X3ByaXYpCj4gK3sKPiArICAgICAgIG11dGV4X2xvY2soJmRldl9wcml2LT5k
cm0uc3RydWN0X211dGV4KTsKPiAgICAgICAgIGk5MTVfZ2VtX2NvbnRleHRzX2ZpbmkoZGV2X3By
aXYpOwo+ICAgICAgICAgaTkxNV9nZW1fZmluaV9zY3JhdGNoKGRldl9wcml2KTsKPiAgICAgICAg
IG11dGV4X3VubG9jaygmZGV2X3ByaXYtPmRybS5zdHJ1Y3RfbXV0ZXgpOwoKVGhhdCBzcGxpdCBs
b29rcyBzZW5zaWJsZSB0byBtZSwgd2l0aCB0aGUgY29uc2lkZXJhdGlvbiBhcyB0byB3aGV0aGVy
CmRlZmVyIGludGVsX2VuZ2luZXNfY2xlYW51cCgpIGFzIHdlbGwsClJldmlld2VkLWJ5OiBDaHJp
cyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KLUNocmlzCl9fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QK
ZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9w
Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
