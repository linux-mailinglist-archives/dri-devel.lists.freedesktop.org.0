Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 6F14F1169E6
	for <lists+dri-devel@lfdr.de>; Mon,  9 Dec 2019 10:46:47 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 68D7789FF9;
	Mon,  9 Dec 2019 09:46:37 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
X-Greylist: delayed 322 seconds by postgrey-1.36 at gabe;
 Sat, 07 Dec 2019 11:17:11 UTC
Received: from r3-11.sinamail.sina.com.cn (r3-11.sinamail.sina.com.cn
 [202.108.3.11])
 by gabe.freedesktop.org (Postfix) with SMTP id 6CEDD6E0C5
 for <dri-devel@lists.freedesktop.org>; Sat,  7 Dec 2019 11:17:11 +0000 (UTC)
Received: from unknown (HELO localhost.localdomain)([221.219.2.62])
 by sina.com with ESMTP
 id 5DEB88F0000007DD; Sat, 7 Dec 2019 19:11:46 +0800 (CST)
X-Sender: hdanton@sina.com
X-Auth-ID: hdanton@sina.com
X-SMAIL-MID: 46209449283549
From: Hillf Danton <hdanton@sina.com>
To: syzbot <syzbot+f11cda116c57db68c227@syzkaller.appspotmail.com>
Subject: Re: KASAN: use-after-free Read in fb_mode_is_equal
Date: Sat,  7 Dec 2019 19:11:35 +0800
Message-Id: <20191207111135.23312-1-hdanton@sina.com>
MIME-Version: 1.0
X-Mailman-Approved-At: Mon, 09 Dec 2019 09:46:36 +0000
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-fbdev@vger.kernel.org, b.zolnierkie@samsung.com,
 daniel.vetter@ffwll.ch, mojha@codeaurora.org, shile.zhang@linux.alibaba.com,
 syzkaller-bugs@googlegroups.com, linux-kernel@vger.kernel.org,
 dri-devel@lists.freedesktop.org, Hillf Danton <hdanton@sina.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Ck9uIFNhdCwgMDcgRGVjIDIwMTkgMDI6MDU6MDggLTA4MDAKPiBIZWxsbywKPiAKPiBzeXpib3Qg
Zm91bmQgdGhlIGZvbGxvd2luZyBjcmFzaCBvbjoKPiAKPiBIRUFEIGNvbW1pdDogICAgN2FkYTkw
ZWIgTWVyZ2UgdGFnICdkcm0tbmV4dC0yMDE5LTEyLTA2JyBvZiBnaXQ6Ly9hbm9uZ2l0Li4uCj4g
Z2l0IHRyZWU6ICAgICAgIHVwc3RyZWFtCj4gY29uc29sZSBvdXRwdXQ6IGh0dHBzOi8vc3l6a2Fs
bGVyLmFwcHNwb3QuY29tL3gvbG9nLnR4dD94PTE2OTk3YzgyZTAwMDAwCj4ga2VybmVsIGNvbmZp
ZzogIGh0dHBzOi8vc3l6a2FsbGVyLmFwcHNwb3QuY29tL3gvLmNvbmZpZz94PWYwN2EyMzAyMGZk
N2QyMWEKPiBkYXNoYm9hcmQgbGluazogaHR0cHM6Ly9zeXprYWxsZXIuYXBwc3BvdC5jb20vYnVn
P2V4dGlkPWYxMWNkYTExNmM1N2RiNjhjMjI3Cj4gY29tcGlsZXI6ICAgICAgIGdjYyAoR0NDKSA5
LjAuMCAyMDE4MTIzMSAoZXhwZXJpbWVudGFsKQo+IAo+IFVuZm9ydHVuYXRlbHksIEkgZG9uJ3Qg
aGF2ZSBhbnkgcmVwcm9kdWNlciBmb3IgdGhpcyBjcmFzaCB5ZXQuCj4gCj4gSU1QT1JUQU5UOiBp
ZiB5b3UgZml4IHRoZSBidWcsIHBsZWFzZSBhZGQgdGhlIGZvbGxvd2luZyB0YWcgdG8gdGhlIGNv
bW1pdDoKPiBSZXBvcnRlZC1ieTogc3l6Ym90K2YxMWNkYTExNmM1N2RiNjhjMjI3QHN5emthbGxl
ci5hcHBzcG90bWFpbC5jb20KPiAKPiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KPiBCVUc6IEtBU0FOOiB1c2UtYWZ0ZXIt
ZnJlZSBpbiBmYl9tb2RlX2lzX2VxdWFsKzB4Mjk3LzB4MzAwICAKPiBkcml2ZXJzL3ZpZGVvL2Zi
ZGV2L2NvcmUvbW9kZWRiLmM6OTI0Cj4gUmVhZCBvZiBzaXplIDQgYXQgYWRkciBmZmZmODg4MDk5
MmQ1ZDljIGJ5IHRhc2sgc3l6LWV4ZWN1dG9yLjAvMzIyODMKPiAKPiBDUFU6IDAgUElEOiAzMjI4
MyBDb21tOiBzeXotZXhlY3V0b3IuMCBOb3QgdGFpbnRlZCA1LjQuMC1zeXprYWxsZXIgIzAKPiBI
YXJkd2FyZSBuYW1lOiBHb29nbGUgR29vZ2xlIENvbXB1dGUgRW5naW5lL0dvb2dsZSBDb21wdXRl
IEVuZ2luZSwgQklPUyAgCj4gR29vZ2xlIDAxLzAxLzIwMTEKPiBDYWxsIFRyYWNlOgo+ICAgX19k
dW1wX3N0YWNrIGxpYi9kdW1wX3N0YWNrLmM6NzcgW2lubGluZV0KPiAgIGR1bXBfc3RhY2srMHgx
OTcvMHgyMTAgbGliL2R1bXBfc3RhY2suYzoxMTgKPiAgIHByaW50X2FkZHJlc3NfZGVzY3JpcHRp
b24uY29uc3Rwcm9wLjAuY29sZCsweGQ0LzB4MzBiIG1tL2thc2FuL3JlcG9ydC5jOjM3NAo+ICAg
X19rYXNhbl9yZXBvcnQuY29sZCsweDFiLzB4NDEgbW0va2FzYW4vcmVwb3J0LmM6NTA2Cj4gICBr
YXNhbl9yZXBvcnQrMHgxMi8weDIwIG1tL2thc2FuL2NvbW1vbi5jOjYzOQo+ICAgX19hc2FuX3Jl
cG9ydF9sb2FkNF9ub2Fib3J0KzB4MTQvMHgyMCBtbS9rYXNhbi9nZW5lcmljX3JlcG9ydC5jOjEz
NAo+ICAgZmJfbW9kZV9pc19lcXVhbCsweDI5Ny8weDMwMCBkcml2ZXJzL3ZpZGVvL2ZiZGV2L2Nv
cmUvbW9kZWRiLmM6OTI0Cj4gICBmYmNvbl9tb2RlX2RlbGV0ZWQrMHgxMmMvMHgxOTAgZHJpdmVy
cy92aWRlby9mYmRldi9jb3JlL2ZiY29uLmM6MzA2MAo+ICAgZmJfc2V0X3ZhcisweGFiOS8weGRk
MCBkcml2ZXJzL3ZpZGVvL2ZiZGV2L2NvcmUvZmJtZW0uYzo5NzEKPiAgIGRvX2ZiX2lvY3RsKzB4
MzkwLzB4N2QwIGRyaXZlcnMvdmlkZW8vZmJkZXYvY29yZS9mYm1lbS5jOjExMDQKPiAgIGZiX2lv
Y3RsKzB4ZTYvMHgxMzAgZHJpdmVycy92aWRlby9mYmRldi9jb3JlL2ZibWVtLmM6MTE4MAo+ICAg
dmZzX2lvY3RsIGZzL2lvY3RsLmM6NDcgW2lubGluZV0KPiAgIGZpbGVfaW9jdGwgZnMvaW9jdGwu
Yzo1NDUgW2lubGluZV0KPiAgIGRvX3Zmc19pb2N0bCsweDk3Ny8weDE0ZTAgZnMvaW9jdGwuYzo3
MzIKPiAgIGtzeXNfaW9jdGwrMHhhYi8weGQwIGZzL2lvY3RsLmM6NzQ5Cj4gICBfX2RvX3N5c19p
b2N0bCBmcy9pb2N0bC5jOjc1NiBbaW5saW5lXQo+ICAgX19zZV9zeXNfaW9jdGwgZnMvaW9jdGwu
Yzo3NTQgW2lubGluZV0KPiAgIF9feDY0X3N5c19pb2N0bCsweDczLzB4YjAgZnMvaW9jdGwuYzo3
NTQKPiAgIGRvX3N5c2NhbGxfNjQrMHhmYS8weDc5MCBhcmNoL3g4Ni9lbnRyeS9jb21tb24uYzoy
OTQKPiAgIGVudHJ5X1NZU0NBTExfNjRfYWZ0ZXJfaHdmcmFtZSsweDQ5LzB4YmUKPiBSSVA6IDAw
MzM6MHg0NWE2ZjkKPiBDb2RlOiBhZCBiNiBmYiBmZiBjMyA2NiAyZSAwZiAxZiA4NCAwMCAwMCAw
MCAwMCAwMCA2NiA5MCA0OCA4OSBmOCA0OCA4OSBmNyAgCj4gNDggODkgZDYgNDggODkgY2EgNGQg
ODkgYzIgNGQgODkgYzggNGMgOGIgNGMgMjQgMDggMGYgMDUgPDQ4PiAzZCAwMSBmMCBmZiAgCj4g
ZmYgMGYgODMgN2IgYjYgZmIgZmYgYzMgNjYgMmUgMGYgMWYgODQgMDAgMDAgMDAgMDAKPiBSU1A6
IDAwMmI6MDAwMDdmN2FlZmQ1NGM3OCBFRkxBR1M6IDAwMDAwMjQ2IE9SSUdfUkFYOiAwMDAwMDAw
MDAwMDAwMDEwCj4gUkFYOiBmZmZmZmZmZmZmZmZmZmRhIFJCWDogMDAwMDAwMDAwMDAwMDAwMyBS
Q1g6IDAwMDAwMDAwMDA0NWE2ZjkKPiBSRFg6IDAwMDAwMDAwMjAwMDAwMDAgUlNJOiAwMDAwMDAw
MDAwMDA0NjAxIFJESTogMDAwMDAwMDAwMDAwMDAwMwo+IFJCUDogMDAwMDAwMDAwMDc1YmYyMCBS
MDg6IDAwMDAwMDAwMDAwMDAwMDAgUjA5OiAwMDAwMDAwMDAwMDAwMDAwCj4gUjEwOiAwMDAwMDAw
MDAwMDAwMDAwIFIxMTogMDAwMDAwMDAwMDAwMDI0NiBSMTI6IDAwMDA3ZjdhZWZkNTU2ZDQKPiBS
MTM6IDAwMDAwMDAwMDA0YzJlZjcgUjE0OiAwMDAwMDAwMDAwNGQ4MTM4IFIxNTogMDAwMDAwMDBm
ZmZmZmZmZgo+IAo+IEFsbG9jYXRlZCBieSB0YXNrIDkyMDU6Cj4gICBzYXZlX3N0YWNrKzB4MjMv
MHg5MCBtbS9rYXNhbi9jb21tb24uYzo3Mgo+ICAgc2V0X3RyYWNrIG1tL2thc2FuL2NvbW1vbi5j
OjgwIFtpbmxpbmVdCj4gICBfX2thc2FuX2ttYWxsb2MgbW0va2FzYW4vY29tbW9uLmM6NTEzIFtp
bmxpbmVdCj4gICBfX2thc2FuX2ttYWxsb2MuY29uc3Rwcm9wLjArMHhjZi8weGUwIG1tL2thc2Fu
L2NvbW1vbi5jOjQ4Ngo+ICAga2FzYW5fa21hbGxvYysweDkvMHgxMCBtbS9rYXNhbi9jb21tb24u
Yzo1MjcKPiAgIGttZW1fY2FjaGVfYWxsb2NfdHJhY2UrMHgxNTgvMHg3OTAgbW0vc2xhYi5jOjM1
NTEKPiAgIGttYWxsb2MgaW5jbHVkZS9saW51eC9zbGFiLmg6NTU2IFtpbmxpbmVdCj4gICBmYl9h
ZGRfdmlkZW9tb2RlIGRyaXZlcnMvdmlkZW8vZmJkZXYvY29yZS9tb2RlZGIuYzoxMDczIFtpbmxp
bmVdCj4gICBmYl9hZGRfdmlkZW9tb2RlKzB4MmZiLzB4NjEwIGRyaXZlcnMvdmlkZW8vZmJkZXYv
Y29yZS9tb2RlZGIuYzoxMDU3Cj4gICBmYl9zZXRfdmFyKzB4NWVmLzB4ZGQwIGRyaXZlcnMvdmlk
ZW8vZmJkZXYvY29yZS9mYm1lbS5jOjEwNDEKPiAgIGRvX2ZiX2lvY3RsKzB4MzkwLzB4N2QwIGRy
aXZlcnMvdmlkZW8vZmJkZXYvY29yZS9mYm1lbS5jOjExMDQKPiAgIGZiX2lvY3RsKzB4ZTYvMHgx
MzAgZHJpdmVycy92aWRlby9mYmRldi9jb3JlL2ZibWVtLmM6MTE4MAo+ICAgdmZzX2lvY3RsIGZz
L2lvY3RsLmM6NDcgW2lubGluZV0KPiAgIGZpbGVfaW9jdGwgZnMvaW9jdGwuYzo1NDUgW2lubGlu
ZV0KPiAgIGRvX3Zmc19pb2N0bCsweDk3Ny8weDE0ZTAgZnMvaW9jdGwuYzo3MzIKPiAgIGtzeXNf
aW9jdGwrMHhhYi8weGQwIGZzL2lvY3RsLmM6NzQ5Cj4gICBfX2RvX3N5c19pb2N0bCBmcy9pb2N0
bC5jOjc1NiBbaW5saW5lXQo+ICAgX19zZV9zeXNfaW9jdGwgZnMvaW9jdGwuYzo3NTQgW2lubGlu
ZV0KPiAgIF9feDY0X3N5c19pb2N0bCsweDczLzB4YjAgZnMvaW9jdGwuYzo3NTQKPiAgIGRvX3N5
c2NhbGxfNjQrMHhmYS8weDc5MCBhcmNoL3g4Ni9lbnRyeS9jb21tb24uYzoyOTQKPiAgIGVudHJ5
X1NZU0NBTExfNjRfYWZ0ZXJfaHdmcmFtZSsweDQ5LzB4YmUKPiAKPiBGcmVlZCBieSB0YXNrIDMy
Mjc2Ogo+ICAgc2F2ZV9zdGFjaysweDIzLzB4OTAgbW0va2FzYW4vY29tbW9uLmM6NzIKPiAgIHNl
dF90cmFjayBtbS9rYXNhbi9jb21tb24uYzo4MCBbaW5saW5lXQo+ICAga2FzYW5fc2V0X2ZyZWVf
aW5mbyBtbS9rYXNhbi9jb21tb24uYzozMzUgW2lubGluZV0KPiAgIF9fa2FzYW5fc2xhYl9mcmVl
KzB4MTAyLzB4MTUwIG1tL2thc2FuL2NvbW1vbi5jOjQ3NAo+ICAga2FzYW5fc2xhYl9mcmVlKzB4
ZS8weDEwIG1tL2thc2FuL2NvbW1vbi5jOjQ4Mwo+ICAgX19jYWNoZV9mcmVlIG1tL3NsYWIuYzoz
NDI2IFtpbmxpbmVdCj4gICBrZnJlZSsweDEwYS8weDJjMCBtbS9zbGFiLmM6Mzc1Nwo+ICAgZmJf
ZGVsZXRlX3ZpZGVvbW9kZSsweDNmYS8weDU0MCBkcml2ZXJzL3ZpZGVvL2ZiZGV2L2NvcmUvbW9k
ZWRiLmM6MTEwNAo+ICAgZmJfc2V0X3ZhcisweGFjOC8weGRkMCBkcml2ZXJzL3ZpZGVvL2ZiZGV2
L2NvcmUvZmJtZW0uYzo5NzQKPiAgIGRvX2ZiX2lvY3RsKzB4MzkwLzB4N2QwIGRyaXZlcnMvdmlk
ZW8vZmJkZXYvY29yZS9mYm1lbS5jOjExMDQKPiAgIGZiX2lvY3RsKzB4ZTYvMHgxMzAgZHJpdmVy
cy92aWRlby9mYmRldi9jb3JlL2ZibWVtLmM6MTE4MAo+ICAgdmZzX2lvY3RsIGZzL2lvY3RsLmM6
NDcgW2lubGluZV0KPiAgIGZpbGVfaW9jdGwgZnMvaW9jdGwuYzo1NDUgW2lubGluZV0KPiAgIGRv
X3Zmc19pb2N0bCsweDk3Ny8weDE0ZTAgZnMvaW9jdGwuYzo3MzIKPiAgIGtzeXNfaW9jdGwrMHhh
Yi8weGQwIGZzL2lvY3RsLmM6NzQ5Cj4gICBfX2RvX3N5c19pb2N0bCBmcy9pb2N0bC5jOjc1NiBb
aW5saW5lXQo+ICAgX19zZV9zeXNfaW9jdGwgZnMvaW9jdGwuYzo3NTQgW2lubGluZV0KPiAgIF9f
eDY0X3N5c19pb2N0bCsweDczLzB4YjAgZnMvaW9jdGwuYzo3NTQKPiAgIGRvX3N5c2NhbGxfNjQr
MHhmYS8weDc5MCBhcmNoL3g4Ni9lbnRyeS9jb21tb24uYzoyOTQKPiAgIGVudHJ5X1NZU0NBTExf
NjRfYWZ0ZXJfaHdmcmFtZSsweDQ5LzB4YmUKPiAKPiBUaGUgYnVnZ3kgYWRkcmVzcyBiZWxvbmdz
IHRvIHRoZSBvYmplY3QgYXQgZmZmZjg4ODA5OTJkNWQ4MAo+ICAgd2hpY2ggYmVsb25ncyB0byB0
aGUgY2FjaGUga21hbGxvYy05NiBvZiBzaXplIDk2Cj4gVGhlIGJ1Z2d5IGFkZHJlc3MgaXMgbG9j
YXRlZCAyOCBieXRlcyBpbnNpZGUgb2YKPiAgIDk2LWJ5dGUgcmVnaW9uIFtmZmZmODg4MDk5MmQ1
ZDgwLCBmZmZmODg4MDk5MmQ1ZGUwKQo+IFRoZSBidWdneSBhZGRyZXNzIGJlbG9uZ3MgdG8gdGhl
IHBhZ2U6Cj4gcGFnZTpmZmZmZWEwMDAyNjRiNTQwIHJlZmNvdW50OjEgbWFwY291bnQ6MCBtYXBw
aW5nOmZmZmY4ODgwYWE0MDA1NDAgIAo+IGluZGV4OjB4MAo+IHJhdzogMDBmZmZlMDAwMDAwMDIw
MCBmZmZmZWEwMDAyNTQ3MGM4IGZmZmZlYTAwMDI5OTI1MDggZmZmZjg4ODBhYTQwMDU0MAo+IHJh
dzogMDAwMDAwMDAwMDAwMDAwMCBmZmZmODg4MDk5MmQ1MDAwIDAwMDAwMDAxMDAwMDAwMjAgMDAw
MDAwMDAwMDAwMDAwMAo+IHBhZ2UgZHVtcGVkIGJlY2F1c2U6IGthc2FuOiBiYWQgYWNjZXNzIGRl
dGVjdGVkCj4gCj4gTWVtb3J5IHN0YXRlIGFyb3VuZCB0aGUgYnVnZ3kgYWRkcmVzczoKPiAgIGZm
ZmY4ODgwOTkyZDVjODA6IDAwIDAwIDAwIDAwIDAwIDAwIDAwIDAwIDAwIDAwIDAwIGZjIGZjIGZj
IGZjIGZjCj4gICBmZmZmODg4MDk5MmQ1ZDAwOiAwMCAwMCAwMCAwMCAwMCAwMCAwMCAwMCAwMCAw
MCAwMCAwMCBmYyBmYyBmYyBmYwo+ID4gZmZmZjg4ODA5OTJkNWQ4MDogZmIgZmIgZmIgZmIgZmIg
ZmIgZmIgZmIgZmIgZmIgZmIgZmIgZmMgZmMgZmMgZmMKPiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIF4KPiAgIGZmZmY4ODgwOTkyZDVlMDA6IDAwIDAwIDAwIDAwIDAwIDAwIDAwIDAwIDAw
IDAwIGZjIGZjIGZjIGZjIGZjIGZjCj4gICBmZmZmODg4MDk5MmQ1ZTgwOiAwMCAwMCAwMCAwMCAw
MCAwMCAwMCAwMCAwMCAwMCBmYyBmYyBmYyBmYyBmYyBmYwo+ID09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKUmVzZXQgbW9k
ZSB0aGF0IHdpbGwgYmUgZGVsZXRlZCB0byBhdm9pZCBVQUYuCgotLS0gYS9kcml2ZXJzL3ZpZGVv
L2ZiZGV2L2NvcmUvZmJjb24uYworKysgYi9kcml2ZXJzL3ZpZGVvL2ZiZGV2L2NvcmUvZmJjb24u
YwpAQCAtMzA1OCw2ICszMDU4LDcgQEAgaW50IGZiY29uX21vZGVfZGVsZXRlZChzdHJ1Y3QgZmJf
aW5mbyAqaQogCQlpZiAoIXAgfHwgIXAtPm1vZGUpCiAJCQljb250aW51ZTsKIAkJaWYgKGZiX21v
ZGVfaXNfZXF1YWwocC0+bW9kZSwgbW9kZSkpIHsKKwkJCXAtPm1vZGUgPSBOVUxMOwogCQkJZm91
bmQgPSAxOwogCQkJYnJlYWs7CiAJCX0KCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZy
ZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3Rp
bmZvL2RyaS1kZXZlbA==
