Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id A576E71970
	for <lists+dri-devel@lfdr.de>; Tue, 23 Jul 2019 15:38:11 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C96576E228;
	Tue, 23 Jul 2019 13:38:08 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-lj1-x241.google.com (mail-lj1-x241.google.com
 [IPv6:2a00:1450:4864:20::241])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 730896E228
 for <dri-devel@lists.freedesktop.org>; Tue, 23 Jul 2019 13:38:06 +0000 (UTC)
Received: by mail-lj1-x241.google.com with SMTP id x25so41131009ljh.2
 for <dri-devel@lists.freedesktop.org>; Tue, 23 Jul 2019 06:38:06 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=GyBL54uJUg2m+QxxPgdjICGLYK38bj57Ff5SS54KJ84=;
 b=ChyTcBPPyoK2sGkUzWjno6CvrQfovhHCK+tzE71HYMiTwB3Xj9KCnpQDYOhW6P1l9z
 5kK1X9yCiA/4FgMTew2WHEneAzomF5rwGPIuHVUJwe6loH4FuynAsQz9xg+hc4kNx0x+
 a49c0eCqC7/l05pZF5tew48E24hHtUZ1F7+DpXWGqyn7pUPUD3pzhKQ5LSnjby2eKJx6
 lsN+qLEZPYsk3FeCga3AMvDEIyC2eP0DKZnLcPU9uR0U6ZdbL8a4G66HqFxgePEFL9SD
 T3sfIE/Rbe0aB27hUyhSGjZxoSAOVI81DV6OCsEKnQWsKri5nsy94pusIXayPZbsuJnb
 XvVQ==
X-Gm-Message-State: APjAAAVmWJS5DPDXH32AhxokQNcGFrazO7xEUMD6cY4+RDd78PIj6J+g
 ypU0C9adhxxniqFoftxa6/Zblg==
X-Google-Smtp-Source: APXvYqzGir2Qt5qxQ+5S5zcanbbG7bQz8sJnAmsCJJKqOXEHkxbEdtfpLObO+UInqTKVqt98wUTPew==
X-Received: by 2002:a2e:781a:: with SMTP id t26mr39491275ljc.28.1563889084464; 
 Tue, 23 Jul 2019 06:38:04 -0700 (PDT)
Received: from genomnajs.ideon.se ([85.235.10.227])
 by smtp.gmail.com with ESMTPSA id l24sm8069411lji.78.2019.07.23.06.38.02
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Tue, 23 Jul 2019 06:38:03 -0700 (PDT)
From: Linus Walleij <linus.walleij@linaro.org>
To: Daniel Tang <dt.tangr@gmail.com>,
	Fabian Vogt <fabian@ritter-vogt.de>
Subject: [PATCH 1/3] RFT: drm/pl111: Support grayscale
Date: Tue, 23 Jul 2019 15:37:53 +0200
Message-Id: <20190723133755.22677-2-linus.walleij@linaro.org>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190723133755.22677-1-linus.walleij@linaro.org>
References: <20190723133755.22677-1-linus.walleij@linaro.org>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=linaro.org; s=google;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=GyBL54uJUg2m+QxxPgdjICGLYK38bj57Ff5SS54KJ84=;
 b=uIYvb8MvC9wkOgu4ZqcZpMAUdOOoYxGs9AUNUM+zaZBCT/7x26riSySUpBm1+h8d5/
 6L7bpN7N2U3zMDv/tJoo4NZ43xQV1KQrSJxmlwYkCeWHuTuThw+a9StzvdgAWum+S6eL
 4MRUO5OxI0DZ9NXXeW11cbLH/5kj3xI5aV5/UGGPWcM7EgDybtPMAeYNsd3JdkyN+1az
 Uc1EbIliEURo8r21lV/2ifhyBJfvIQveik0y9wkR3B7yECd/bWVEUIedXTXx3mAw2350
 KMxKZgoCe0+DYaArMg0b9b/SY6GLNTNn04+yvKy4P/xyTTC9qlcuw3hjQ3eKay6M4pnq
 TvJQ==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: dri-devel@lists.freedesktop.org, linux-arm-kernel@lists.infradead.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

TWlncmF0aW5nIHRoZSBUSSBuc3BpcmUgY2FsY3VsYXRvcnMgdG8gdXNlIHRoZSBQTDExMSBkcml2
ZXIgZm9yCmZyYW1lYnVmZmVyIHJlcXVpcmVzIGdyYXlzY2FsZSBzdXBwb3J0IGZvciB0aGUgZWxk
ZXIgcGFuZWwKd2hpY2ggdXNlcyA4Yml0IGdyYXlzY2FsZSBvbmx5LgoKRFJNIGRvZXMgbm90IHN1
cHBvcnQgOGJpdCBncmF5c2NhbGUgZnJhbWVidWZmZXJzIGluIG1lbW9yeSwKYnV0IGJ5IGRlZmlu
aW5nIHRoZSBidXMgZm9ybWF0IHRvIGJlIE1FRElBX0JVU19GTVRfWThfMVg4IHdlCmNhbiBnZXQg
dGhlIGhhcmR3YXJlIHRvIHR1cm4gb24gYSBncmF5c2NhbGluZyBmZWF0dXJlIGFuZApjb252ZXJ0
IHRoZSBSR0IgZnJhbWVidWZmZXIgdG8gZ3JheXNjYWxlIGZvciB1cy4KCkNjOiBEYW5pZWwgVGFu
ZyA8ZHQudGFuZ3JAZ21haWwuY29tPgpDYzogRmFiaWFuIFZvZ3QgPGZhYmlhbkByaXR0ZXItdm9n
dC5kZT4KU2lnbmVkLW9mZi1ieTogTGludXMgV2FsbGVpaiA8bGludXMud2FsbGVpakBsaW5hcm8u
b3JnPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9wbDExMS9wbDExMV9kaXNwbGF5LmMgfCAyOCArKysr
KysrKysrKysrKysrKysrKysrKysrLS0KIGluY2x1ZGUvbGludXgvYW1iYS9jbGNkLXJlZ3MuaCAg
ICAgICAgfCAgMSArCiAyIGZpbGVzIGNoYW5nZWQsIDI3IGluc2VydGlvbnMoKyksIDIgZGVsZXRp
b25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BsMTExL3BsMTExX2Rpc3BsYXku
YyBiL2RyaXZlcnMvZ3B1L2RybS9wbDExMS9wbDExMV9kaXNwbGF5LmMKaW5kZXggMTVkMjc1NWZk
YmE0Li41ODdiNGQxNDhjMTggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wbDExMS9wbDEx
MV9kaXNwbGF5LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BsMTExL3BsMTExX2Rpc3BsYXkuYwpA
QCAtMTI2LDEyICsxMjYsMTcgQEAgc3RhdGljIHZvaWQgcGwxMTFfZGlzcGxheV9lbmFibGUoc3Ry
dWN0IGRybV9zaW1wbGVfZGlzcGxheV9waXBlICpwaXBlLAogCXN0cnVjdCBkcm1fZnJhbWVidWZm
ZXIgKmZiID0gcGxhbmUtPnN0YXRlLT5mYjsKIAlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVj
dG9yID0gcHJpdi0+Y29ubmVjdG9yOwogCXN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UgPSBwcml2
LT5icmlkZ2U7CisJYm9vbCBncmF5c2NhbGUgPSBmYWxzZTsKIAl1MzIgY250bDsKIAl1MzIgcHBs
LCBoc3csIGhmcCwgaGJwOwogCXUzMiBscHAsIHZzdywgdmZwLCB2YnA7CiAJdTMyIGNwbCwgdGlt
MjsKIAlpbnQgcmV0OwogCisJaWYgKGNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLm51bV9idXNfZm9y
bWF0cyA9PSAxICYmCisJICAgIGNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLmJ1c19mb3JtYXRzWzBd
ID09IE1FRElBX0JVU19GTVRfWThfMVg4KQorCQlncmF5c2NhbGUgPSB0cnVlOworCiAJcmV0ID0g
Y2xrX3NldF9yYXRlKHByaXYtPmNsaywgbW9kZS0+Y2xvY2sgKiAxMDAwKTsKIAlpZiAocmV0KSB7
CiAJCWRldl9lcnIoZHJtLT5kZXYsCkBAIC0xODUsNiArMTkwLDE1IEBAIHN0YXRpYyB2b2lkIHBs
MTExX2Rpc3BsYXlfZW5hYmxlKHN0cnVjdCBkcm1fc2ltcGxlX2Rpc3BsYXlfcGlwZSAqcGlwZSwK
IAkJaWYgKGNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLmJ1c19mbGFncyAmCiAJCSAgICBEUk1fQlVT
X0ZMQUdfUElYREFUQV9EUklWRV9ORUdFREdFKQogCQkJdGltMiB8PSBUSU0yX0lQQzsKKworCQkv
KgorCQkgKiBUaGUgQUMgcGluIGJpYXMgZnJlcXVlbmN5IGlzIHNldCB0byBtYXggY291bnQgd2hl
biB1c2luZworCQkgKiBncmF5c2NhbGUgc28gYXQgbGVhc3Qgb25jZSBpbiBhIHdoaWxlIHdlIHdp
bGwgcmV2ZXJzZQorCQkgKiBwb2xhcml0eSBhbmQgZ2V0IHJpZCBvZiBhbnkgREMgYnVpbHQgdXAg
dGhhdCBjb3VsZAorCQkgKiBkYW1hZ2UgdGhlIGRpc3BsYXkuCisJCSAqLworCQlpZiAoZ3JheXNj
YWxlKQorCQkJdGltMiB8PSBUSU0yX0FDQl9NQVNLOwogCX0KIAogCWlmIChicmlkZ2UpIHsKQEAg
LTIxNiw4ICsyMzAsMTggQEAgc3RhdGljIHZvaWQgcGwxMTFfZGlzcGxheV9lbmFibGUoc3RydWN0
IGRybV9zaW1wbGVfZGlzcGxheV9waXBlICpwaXBlLAogCiAJd3JpdGVsKDAsIHByaXYtPnJlZ3Mg
KyBDTENEX1RJTTMpOwogCi0JLyogSGFyZC1jb2RlIFRGVCBwYW5lbCAqLwotCWNudGwgPSBDTlRM
X0xDREVOIHwgQ05UTF9MQ0RURlQgfCBDTlRMX0xDRFZDT01QKDEpOworCS8qCisJICogRGV0ZWN0
IGdyYXlzY2FsZSBidXMgZm9ybWF0LiBXZSBkbyBub3Qgc3VwcG9ydCBhIGdyYXlzY2FsZSBtb2Rl
CisJICogdG93YXJkIHVzZXJzcGFjZSwgaW5zdGVhZCB3ZSBleHBvc2UgYW4gUkdCMjQgYnVmZmVy
IGFuZCB0aGVuIHRoZQorCSAqIGhhcmR3YXJlIHdpbGwgYWN0aXZhdGUgaXRzIGdyYXlzY2FsZXIg
dG8gY29udmVydCB0byB0aGUgZ3JheXNjYWxlCisJICogZm9ybWF0LgorCSAqLworCWlmIChncmF5
c2NhbGUpCisJCWNudGwgPSBDTlRMX0xDREVOIHwgQ05UTF9MQ0RNT05PODsKKwllbHNlCisJCS8q
IEVsc2Ugd2UgYXNzdW1lIFRGVCBkaXNwbGF5ICovCisJCWNudGwgPSBDTlRMX0xDREVOIHwgQ05U
TF9MQ0RURlQgfCBDTlRMX0xDRFZDT01QKDEpOworCiAJLyogT24gdGhlIFNUIE1pY3JvIHZhcmlh
bnQsIGFzc3VtZSBhbGwgMjQgYml0cyBhcmUgY29ubmVjdGVkICovCiAJaWYgKHByaXYtPnZhcmlh
bnQtPnN0X2JpdG11eF9jb250cm9sKQogCQljbnRsIHw9IENOVExfU1RfQ0RXSURfMjQ7CmRpZmYg
LS1naXQgYS9pbmNsdWRlL2xpbnV4L2FtYmEvY2xjZC1yZWdzLmggYi9pbmNsdWRlL2xpbnV4L2Ft
YmEvY2xjZC1yZWdzLmgKaW5kZXggNTE2YTZmZGE4M2M1Li40MjFiMGZhOTBkNmEgMTAwNjQ0Ci0t
LSBhL2luY2x1ZGUvbGludXgvYW1iYS9jbGNkLXJlZ3MuaAorKysgYi9pbmNsdWRlL2xpbnV4L2Ft
YmEvY2xjZC1yZWdzLmgKQEAgLTQyLDYgKzQyLDcgQEAKICNkZWZpbmUgVElNMl9QQ0RfTE9fTUFT
SwlHRU5NQVNLKDQsIDApCiAjZGVmaW5lIFRJTTJfUENEX0xPX0JJVFMJNQogI2RlZmluZSBUSU0y
X0NMS1NFTAkJKDEgPDwgNSkKKyNkZWZpbmUgVElNMl9BQ0JfTUFTSwkJR0VOTUFTSygxMCwgNikK
ICNkZWZpbmUgVElNMl9JVlMJCSgxIDw8IDExKQogI2RlZmluZSBUSU0yX0lIUwkJKDEgPDwgMTIp
CiAjZGVmaW5lIFRJTTJfSVBDCQkoMSA8PCAxMykKLS0gCjIuMjEuMAoKX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApk
cmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Au
b3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
