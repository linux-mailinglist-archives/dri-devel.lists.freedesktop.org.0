Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 7AD44649A7
	for <lists+dri-devel@lfdr.de>; Wed, 10 Jul 2019 17:31:55 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E8CA76E103;
	Wed, 10 Jul 2019 15:31:51 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ed1-x544.google.com (mail-ed1-x544.google.com
 [IPv6:2a00:1450:4864:20::544])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 585E36E0E4
 for <dri-devel@lists.freedesktop.org>; Wed, 10 Jul 2019 15:31:50 +0000 (UTC)
Received: by mail-ed1-x544.google.com with SMTP id m10so2593852edv.6
 for <dri-devel@lists.freedesktop.org>; Wed, 10 Jul 2019 08:31:50 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:sender:date:from:to:cc:subject:message-id
 :references:mime-version:content-disposition:in-reply-to:user-agent;
 bh=ocN7/cBYyrU5poofivukhwMh3P0S3fhz1GDXH8ZAHuI=;
 b=jTf5m6YgzbmzEquNDTWHyGtY55QEuysJRKbTRnqzOzJCJMsYxdF7K/W7RM/ivXWF8f
 AZEor1ctKlrbdF2U4hzGp9g6aE5SU9OOPQHJyQOwOfki+xpNvA24tPhDqjx9Mkc7i/4R
 fxDUKuqbM3JMFPXDh0CpGNqri/nP5pqMH8S+ietvO9ooDfOf1VjxNim+Yqpft2SfDvj3
 G6UvEDV/wCVTSsGxo0b+QIOV+qoTRAwQkK2at6f8D08a65VezmBpsBjGP0Ra2sdPwNdV
 SzkmQVNacYL3rC+650qEyctfpfAqcjwcTzRTaqdrFZCN2v0soRA4ZEp/zYChGNUi4+ob
 0Scg==
X-Gm-Message-State: APjAAAUBvytc7CBh/kS3c3XvR24Nvh8e+zjR+ou0t8ENhsNyEXMPlXru
 R7An1hUrFBn09LzWc1UHvOWQCA==
X-Google-Smtp-Source: APXvYqyTlULGdEkoqpq/nZS8upohmJFMGzCe/MD4FIzxFmwwUj01rvzeZjjNuk1rKwEbn7n75WbLVw==
X-Received: by 2002:a50:94d9:: with SMTP id t25mr32402644eda.32.1562772709027; 
 Wed, 10 Jul 2019 08:31:49 -0700 (PDT)
Received: from phenom.ffwll.local ([2a02:168:569e:0:3106:d637:d723:e855])
 by smtp.gmail.com with ESMTPSA id x11sm593541eju.26.2019.07.10.08.31.47
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Wed, 10 Jul 2019 08:31:48 -0700 (PDT)
Date: Wed, 10 Jul 2019 17:31:46 +0200
From: Daniel Vetter <daniel@ffwll.ch>
To: Oleg Vasilev <oleg.vasilev@intel.com>
Subject: Re: [PATCH] drm/vkms: prime import support
Message-ID: <20190710153146.GT15868@phenom.ffwll.local>
References: <20190704085410.12749-1-oleg.vasilev@intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190704085410.12749-1-oleg.vasilev@intel.com>
X-Operating-System: Linux phenom 4.19.0-5-amd64 
User-Agent: Mutt/1.10.1 (2018-07-13)
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=sender:date:from:to:cc:subject:message-id:references:mime-version
 :content-disposition:in-reply-to:user-agent;
 bh=ocN7/cBYyrU5poofivukhwMh3P0S3fhz1GDXH8ZAHuI=;
 b=Gp03G897gw0jzflo9tS+IBAI4M5uLFTEoY+W4ILI/PXakxPJ57QjWAb2djI568Fa6A
 AeueevQZO6pGL+TIoZJWc9ctBembh1x92hskbJxrWSvgcX6cg4UZ3EADAwF9eTegaLZJ
 WAXTQRphgya9tbbiwLM6ra0OhbD04AsbAH18o=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Haneen Mohammed <hamohammed.sa@gmail.com>, intel-gfx@lists.freedesktop.org,
 Rodrigo Siqueira <rodrigosiqueiramelo@gmail.com>,
 dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVGh1LCBKdWwgMDQsIDIwMTkgYXQgMTE6NTQ6MTBBTSArMDMwMCwgT2xlZyBWYXNpbGV2IHdy
b3RlOgo+IEJyaW5nIGRtYWJ1ZiBzaGFyaW5nIHRocm91Z2ggaW1wbGVtZW50aW5nIHByaW1lX2lt
cG9ydF9zZ190YWJsZSBjYWxsYmFjay4KPiBUaGlzIHdpbGwgaGVscCB0byB2YWxpZGF0ZSB1c2Vy
c3BhY2UgY29uZm9ybWFuY2UgaW4gcHJpbWUgY29uZmlndXJhdGlvbnMKPiB3aXRob3V0IHVzaW5n
IGFueSBhY3R1YWwgaGFyZHdhcmUgKGUuZy4gaW4gdGhlIGNsb3VkKS4KPiAKPiBDYzogUm9kcmln
byBTaXF1ZWlyYSA8cm9kcmlnb3NpcXVlaXJhbWVsb0BnbWFpbC5jb20+Cj4gQ2M6IEhhbmVlbiBN
b2hhbW1lZCA8aGFtb2hhbW1lZC5zYUBnbWFpbC5jb20+Cj4gQ2M6IERhbmllbCBWZXR0ZXIgPGRh
bmllbEBmZndsbC5jaD4KPiBTaWduZWQtb2ZmLWJ5OiBPbGVnIFZhc2lsZXYgPG9sZWcudmFzaWxl
dkBpbnRlbC5jb20+CgpCdHcgd2hpY2ggaWd0IHRlc3RjYXNlcyBkb2VzIHRoaXMgZW5hYmxlPyBB
cmUgdGhlIGlndCBwYXRjaGVzIGFscmVhZHkKbWVyZ2VkIChJIHRoaW5rIGFzLWlzIHRoZSBpZ3Qg
cHJpbWUgdGVzdHMgd29uJ3QgcnVuIG9uIHZrbXMpLgoKSW1vIGZvciB2a21zIHdlIHJlYWxseSB3
YW50IHRvIG1ha2Ugc3VyZSB0aGVyZSdzIHRlc3RzIGZvciBldmVyeXRoaW5nLApvdGhlcndpc2Ug
YSBmYWtlIGRyaXZlciBmb3IgdGVzdGluZy92YWxpZGF0aW9uIGlzIGtpbmRhIHBvaW50bGVzcyAu
Li4KLURhbmllbAoKPiAtLS0KPiAgZHJpdmVycy9ncHUvZHJtL3ZrbXMvdmttc19kcnYuYyB8ICA2
ICsrKysrCj4gIGRyaXZlcnMvZ3B1L2RybS92a21zL3ZrbXNfZHJ2LmggfCAgOSArKysrKysrCj4g
IGRyaXZlcnMvZ3B1L2RybS92a21zL3ZrbXNfZ2VtLmMgfCA0NiArKysrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysKPiAgMyBmaWxlcyBjaGFuZ2VkLCA2MSBpbnNlcnRpb25zKCspCj4gCj4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS92a21zL3ZrbXNfZHJ2LmMgYi9kcml2ZXJzL2dw
dS9kcm0vdmttcy92a21zX2Rydi5jCj4gaW5kZXggY2M1M2VmODhhMzMxLi5iNzFjMTZkOWNhMDkg
MTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3ZrbXMvdmttc19kcnYuYwo+ICsrKyBiL2Ry
aXZlcnMvZ3B1L2RybS92a21zL3ZrbXNfZHJ2LmMKPiBAQCAtMTAsNiArMTAsNyBAQAo+ICAgKi8K
PiAgCj4gICNpbmNsdWRlIDxsaW51eC9tb2R1bGUuaD4KPiArI2luY2x1ZGUgPGxpbnV4L2RtYS1i
dWYuaD4KPiAgI2luY2x1ZGUgPGRybS9kcm1fZ2VtLmg+Cj4gICNpbmNsdWRlIDxkcm0vZHJtX2F0
b21pYy5oPgo+ICAjaW5jbHVkZSA8ZHJtL2RybV9hdG9taWNfaGVscGVyLmg+Cj4gQEAgLTk2LDYg
Kzk3LDggQEAgc3RhdGljIHN0cnVjdCBkcm1fZHJpdmVyIHZrbXNfZHJpdmVyID0gewo+ICAJLmdl
bV92bV9vcHMJCT0gJnZrbXNfZ2VtX3ZtX29wcywKPiAgCS5nZW1fZnJlZV9vYmplY3RfdW5sb2Nr
ZWQgPSB2a21zX2dlbV9mcmVlX29iamVjdCwKPiAgCS5nZXRfdmJsYW5rX3RpbWVzdGFtcAk9IHZr
bXNfZ2V0X3ZibGFua190aW1lc3RhbXAsCj4gKwkucHJpbWVfZmRfdG9faGFuZGxlCT0gZHJtX2dl
bV9wcmltZV9mZF90b19oYW5kbGUsCj4gKwkuZ2VtX3ByaW1lX2ltcG9ydF9zZ190YWJsZSA9IHZr
bXNfcHJpbWVfaW1wb3J0X3NnX3RhYmxlLAo+ICAKPiAgCS5uYW1lCQkJPSBEUklWRVJfTkFNRSwK
PiAgCS5kZXNjCQkJPSBEUklWRVJfREVTQywKPiBAQCAtMTQ3LDYgKzE1MCw5IEBAIHN0YXRpYyBp
bnQgX19pbml0IHZrbXNfaW5pdCh2b2lkKQo+ICAKPiAgCXJldCA9IGRybV9kZXZfaW5pdCgmdmtt
c19kZXZpY2UtPmRybSwgJnZrbXNfZHJpdmVyLAo+ICAJCQkgICAmdmttc19kZXZpY2UtPnBsYXRm
b3JtLT5kZXYpOwo+ICsKPiArCWRtYV9jb2VyY2VfbWFza19hbmRfY29oZXJlbnQodmttc19kZXZp
Y2UtPmRybS5kZXYsCj4gKwkJCQkgICAgIERNQV9CSVRfTUFTSyg2NCkpOwo+ICAJaWYgKHJldCkK
PiAgCQlnb3RvIG91dF91bnJlZ2lzdGVyOwo+ICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL3ZrbXMvdmttc19kcnYuaCBiL2RyaXZlcnMvZ3B1L2RybS92a21zL3ZrbXNfZHJ2LmgKPiBp
bmRleCAxMmI0ZGI3YWM2NDEuLmZiMTUxMDFjOGYzZSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dw
dS9kcm0vdmttcy92a21zX2Rydi5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3ZrbXMvdmttc19k
cnYuaAo+IEBAIC0xMjYsNiArMTI2LDkgQEAgc3RydWN0IGRybV9nZW1fb2JqZWN0ICp2a21zX2dl
bV9jcmVhdGUoc3RydWN0IGRybV9kZXZpY2UgKmRldiwKPiAgCQkJCSAgICAgICB1MzIgKmhhbmRs
ZSwKPiAgCQkJCSAgICAgICB1NjQgc2l6ZSk7Cj4gIAo+ICtzdHJ1Y3Qgdmttc19nZW1fb2JqZWN0
ICp2a21zX2dlbV9jcmVhdGVfcHJpdmF0ZShzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LAo+ICsJCQkJ
CQl1NjQgc2l6ZSk7Cj4gKwo+ICB2bV9mYXVsdF90IHZrbXNfZ2VtX2ZhdWx0KHN0cnVjdCB2bV9m
YXVsdCAqdm1mKTsKPiAgCj4gIGludCB2a21zX2R1bWJfY3JlYXRlKHN0cnVjdCBkcm1fZmlsZSAq
ZmlsZSwgc3RydWN0IGRybV9kZXZpY2UgKmRldiwKPiBAQCAtMTM3LDYgKzE0MCwxMiBAQCBpbnQg
dmttc19nZW1fdm1hcChzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKm9iaik7Cj4gIAo+ICB2b2lkIHZr
bXNfZ2VtX3Z1bm1hcChzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKm9iaik7Cj4gIAo+ICsvKiBQcmlt
ZSAqLwo+ICtzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKgo+ICt2a21zX3ByaW1lX2ltcG9ydF9zZ190
YWJsZShzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LAo+ICsJCQkgICBzdHJ1Y3QgZG1hX2J1Zl9hdHRh
Y2htZW50ICphdHRhY2gsCj4gKwkJCSAgIHN0cnVjdCBzZ190YWJsZSAqc2cpOwo+ICsKPiAgLyog
Q1JDIFN1cHBvcnQgKi8KPiAgY29uc3QgY2hhciAqY29uc3QgKnZrbXNfZ2V0X2NyY19zb3VyY2Vz
KHN0cnVjdCBkcm1fY3J0YyAqY3J0YywKPiAgCQkJCQlzaXplX3QgKmNvdW50KTsKPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL3ZrbXMvdmttc19nZW0uYyBiL2RyaXZlcnMvZ3B1L2RybS92
a21zL3ZrbXNfZ2VtLmMKPiBpbmRleCA2OTA0OGU3MzM3N2QuLmExYjgzNzQ2MGY2MyAxMDA2NDQK
PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vdmttcy92a21zX2dlbS5jCj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL3ZrbXMvdmttc19nZW0uYwo+IEBAIC0xLDUgKzEsNiBAQAo+ICAvLyBTUERYLUxpY2Vu
c2UtSWRlbnRpZmllcjogR1BMLTIuMCsKPiAgCj4gKyNpbmNsdWRlIDxsaW51eC9kbWEtYnVmLmg+
Cj4gICNpbmNsdWRlIDxsaW51eC9zaG1lbV9mcy5oPgo+ICAKPiAgI2luY2x1ZGUgInZrbXNfZHJ2
LmgiCj4gQEAgLTExNyw2ICsxMTgsMjUgQEAgc3RydWN0IGRybV9nZW1fb2JqZWN0ICp2a21zX2dl
bV9jcmVhdGUoc3RydWN0IGRybV9kZXZpY2UgKmRldiwKPiAgCXJldHVybiAmb2JqLT5nZW07Cj4g
IH0KPiAgCj4gK3N0cnVjdCB2a21zX2dlbV9vYmplY3QgKnZrbXNfZ2VtX2NyZWF0ZV9wcml2YXRl
KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCj4gKwkJCQkJCXU2NCBzaXplKQo+ICt7Cj4gKwlzdHJ1
Y3Qgdmttc19nZW1fb2JqZWN0ICpvYmo7Cj4gKwo+ICsJb2JqID0ga3phbGxvYyhzaXplb2YoKm9i
aiksIEdGUF9LRVJORUwpOwo+ICsKPiArCWlmICghb2JqKQo+ICsJCXJldHVybiBFUlJfUFRSKC1F
Tk9NRU0pOwo+ICsKPiArCXNpemUgPSByb3VuZHVwKHNpemUsIFBBR0VfU0laRSk7Cj4gKwo+ICsJ
ZHJtX2dlbV9wcml2YXRlX29iamVjdF9pbml0KGRldiwgJm9iai0+Z2VtLCBzaXplKTsKPiArCj4g
KwltdXRleF9pbml0KCZvYmotPnBhZ2VzX2xvY2spOwo+ICsKPiArCXJldHVybiBvYmo7Cj4gK30K
PiArCj4gIGludCB2a21zX2R1bWJfY3JlYXRlKHN0cnVjdCBkcm1fZmlsZSAqZmlsZSwgc3RydWN0
IGRybV9kZXZpY2UgKmRldiwKPiAgCQkgICAgIHN0cnVjdCBkcm1fbW9kZV9jcmVhdGVfZHVtYiAq
YXJncykKPiAgewo+IEBAIC0yMTcsMyArMjM3LDI5IEBAIGludCB2a21zX2dlbV92bWFwKHN0cnVj
dCBkcm1fZ2VtX29iamVjdCAqb2JqKQo+ICAJbXV0ZXhfdW5sb2NrKCZ2a21zX29iai0+cGFnZXNf
bG9jayk7Cj4gIAlyZXR1cm4gcmV0Owo+ICB9Cj4gKwo+ICtzdHJ1Y3QgZHJtX2dlbV9vYmplY3Qg
Kgo+ICt2a21zX3ByaW1lX2ltcG9ydF9zZ190YWJsZShzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LAo+
ICsJCQkgICBzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2htZW50ICphdHRhY2gsCj4gKwkJCSAgIHN0cnVj
dCBzZ190YWJsZSAqc2cpCj4gK3sKPiArCXN0cnVjdCB2a21zX2dlbV9vYmplY3QgKm9iajsKPiAr
CWludCBucGFnZXM7Cj4gKwo+ICsJb2JqID0gX192a21zX2dlbV9jcmVhdGUoZGV2LCBhdHRhY2gt
PmRtYWJ1Zi0+c2l6ZSk7Cj4gKwlpZiAoSVNfRVJSKG9iaikpCj4gKwkJcmV0dXJuIEVSUl9DQVNU
KG9iaik7Cj4gKwo+ICsJbnBhZ2VzID0gUEFHRV9BTElHTihhdHRhY2gtPmRtYWJ1Zi0+c2l6ZSkg
LyBQQUdFX1NJWkU7Cj4gKwlEUk1fREVCVUdfUFJJTUUoIkltcG9ydGluZyAlZCAgcGFnZXNcbiIs
IG5wYWdlcyk7Cj4gKwo+ICsJb2JqLT5wYWdlcyA9IGt2bWFsbG9jX2FycmF5KG5wYWdlcywgc2l6
ZW9mKHN0cnVjdCBwYWdlICopLCBHRlBfS0VSTkVMKTsKPiArCWlmICghb2JqLT5wYWdlcykgewo+
ICsJCXZrbXNfZ2VtX2ZyZWVfb2JqZWN0KCZvYmotPmdlbSk7Cj4gKwkJcmV0dXJuIEVSUl9QVFIo
LUVOT01FTSk7Cj4gKwl9Cj4gKwo+ICsJZHJtX3ByaW1lX3NnX3RvX3BhZ2VfYWRkcl9hcnJheXMo
c2csIG9iai0+cGFnZXMsIE5VTEwsCj4gKwkJCQkJIG5wYWdlcyk7Cj4gKwlyZXR1cm4gJm9iai0+
Z2VtOwo+ICt9Cj4gLS0gCj4gMi4yMi4wCj4gCgotLSAKRGFuaWVsIFZldHRlcgpTb2Z0d2FyZSBF
bmdpbmVlciwgSW50ZWwgQ29ycG9yYXRpb24KaHR0cDovL2Jsb2cuZmZ3bGwuY2gKX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcg
bGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRl
c2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
