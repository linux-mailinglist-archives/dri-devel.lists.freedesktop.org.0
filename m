Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 29087DAACB
	for <lists+dri-devel@lfdr.de>; Thu, 17 Oct 2019 13:06:39 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AEDC06EA50;
	Thu, 17 Oct 2019 11:06:36 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wm1-x343.google.com (mail-wm1-x343.google.com
 [IPv6:2a00:1450:4864:20::343])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B307B6EA50
 for <dri-devel@lists.freedesktop.org>; Thu, 17 Oct 2019 11:06:35 +0000 (UTC)
Received: by mail-wm1-x343.google.com with SMTP id y21so2096948wmi.0
 for <dri-devel@lists.freedesktop.org>; Thu, 17 Oct 2019 04:06:35 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:date:from:to:cc:subject:message-id:references
 :mime-version:content-disposition:in-reply-to:user-agent;
 bh=jroNoKF9t5Dt8TQ3WBW+pAAiXkGDYC72fglWrhgf6Cs=;
 b=XdTrcEGUUbj5HGVCuf4hKEqRkggzg9Qllv4zR5rnd78qD3fpasnVZftRQ9TEA++aFG
 a1y2E+igLY1nWCsXQeP8OCBNpDPMzfgreC/BfEq1LYYXY4/veH2+zZgAA/JPcllYgf++
 Fi/fnMPCw8Uf/R2JeBNSWiG8JcAYwalqdd5tYFSRL6YG/YnbABhCHX+ajOmzxsprThF8
 W38C/bVdWs1iIWVFTKQHlMwiZrUGL9lEbMvZYhf7koFOXL8bKtgagGpQLWXe9Hfqpi/S
 oxPsiGYnohfDfnK+Y6OLKwRYqunwZZGZPhaYgthRcbk7r3bYLPsKW5C60+u/1l8dhBhE
 rruQ==
X-Gm-Message-State: APjAAAXxEIv9aXbmNvr4HjohSJU+584Dabe/nsT1v+uQue08APTtcZSs
 TF0BvkDVB/m+SxSBjBKRWCujQw==
X-Google-Smtp-Source: APXvYqxqP0n6o9QGr20fRtK32RRN5Vgq2y69nf2ehMUVS3+DsiDDeNS7OM+haS6x3slhjh3kS90v4w==
X-Received: by 2002:a7b:c313:: with SMTP id k19mr2533449wmj.6.1571310394024;
 Thu, 17 Oct 2019 04:06:34 -0700 (PDT)
Received: from holly.lan (cpc141214-aztw34-2-0-cust773.18-1.cable.virginm.net.
 [86.9.19.6])
 by smtp.gmail.com with ESMTPSA id j19sm608571wre.0.2019.10.17.04.06.32
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Thu, 17 Oct 2019 04:06:32 -0700 (PDT)
Date: Thu, 17 Oct 2019 12:06:31 +0100
From: Daniel Thompson <daniel.thompson@linaro.org>
To: Kiran Gunda <kgunda@codeaurora.org>
Subject: Re: [PATCH V7 4/6] backlight: qcom-wled: Add support for WLED4
 peripheral.
Message-ID: <20191017110631.k2u254jjcza6ngzt@holly.lan>
References: <1571220826-7740-1-git-send-email-kgunda@codeaurora.org>
 <1571220826-7740-5-git-send-email-kgunda@codeaurora.org>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <1571220826-7740-5-git-send-email-kgunda@codeaurora.org>
User-Agent: NeoMutt/20180716
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=linaro.org; s=google;
 h=date:from:to:cc:subject:message-id:references:mime-version
 :content-disposition:in-reply-to:user-agent;
 bh=jroNoKF9t5Dt8TQ3WBW+pAAiXkGDYC72fglWrhgf6Cs=;
 b=hTHY5k6a/PjHDDK1J70B1wn3qaKIdw79Gfl+jhxUr40LQ2xuSzwTFBMx+0hldN8OKD
 xoPPl7jSG7QQqMPJ6fbr9b376cXVUcWowG9AQVt2B2PfKfe0ka+K4A53nceLSd3GRBdT
 JraYiGh+g/shedIT0kyQh6b/Or8xxr/RRbs1+aBfjjshI19NsLXIvj/YEUfJsGZKVWHR
 Yt+ueHOa/04mld+RmZPdutU69hVkw3I3P+PdOOAkJFb5MSZxonRkMAPQSDehqprtaqxi
 r+uE4Wu3LJY4h5mtOkhifiMRZU+eOc/8Y4PtTh+ZImNZP/WrxV1Kz1vuuyiqrQkl9QFg
 Amag==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: mark.rutland@arm.com, devicetree@vger.kernel.org,
 linux-fbdev@vger.kernel.org, b.zolnierkie@samsung.com, jingoohan1@gmail.com,
 Andy Gross <agross@kernel.org>, linux-kernel@vger.kernel.org,
 dri-devel@lists.freedesktop.org, bjorn.andersson@linaro.org,
 robh+dt@kernel.org, jacek.anaszewski@gmail.com, pavel@ucw.cz,
 linux-arm-msm@vger.kernel.org, lee.jones@linaro.org,
 linux-leds@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gV2VkLCBPY3QgMTYsIDIwMTkgYXQgMDM6NDM6NDRQTSArMDUzMCwgS2lyYW4gR3VuZGEgd3Jv
dGU6Cj4gV0xFRDQgcGVyaXBoZXJhbCBpcyBwcmVzZW50IG9uIHNvbWUgUE1JQ3MgbGlrZSBwbWk4
OTk4IGFuZAo+IHBtNjYwbC4gSXQgaGFzIGEgZGlmZmVyZW50IHJlZ2lzdGVyIG1hcCBhbmQgY29u
ZmlndXJhdGlvbnMKPiBhcmUgYWxzbyBkaWZmZXJlbnQuIEFkZCBzdXBwb3J0IGZvciBpdC4KClRo
ZXJlIGlzIGNvZGUgYnVyaWVkIGluIHRoaXMgcGF0Y2ggdGhhdCBsb29rcyBsaWtlIGl0IGNoYW5n
ZXMgdGhlIG5hbWUKdGhhdCB3aWxsIGJlIGhhbmRlZCB0byB0aGUgYmFja2xpZ2h0IHN1Yi1zeXN0
ZW0uCgpJdCdzIHB1cnBvc2UgbmVlZHMgdG8gYmUgZXhwbGFpbmVkIGluIHRoZSBwYXRjaCBkZXNj
cmlwdGlvbiAob3IgdGhlIGNvZGUKbW92ZWQgdG8gYSBuZXcgcGF0Y2gpLgoKCkRhbmllbC4KCj4g
Cj4gU2lnbmVkLW9mZi1ieTogS2lyYW4gR3VuZGEgPGtndW5kYUBjb2RlYXVyb3JhLm9yZz4KPiBS
ZXZpZXdlZC1ieTogQmpvcm4gQW5kZXJzc29uIDxiam9ybi5hbmRlcnNzb25AbGluYXJvLm9yZz4K
PiAtLS0KPiAgZHJpdmVycy92aWRlby9iYWNrbGlnaHQvcWNvbS13bGVkLmMgfCAyNjMgKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKystCj4gIDEgZmlsZSBjaGFuZ2VkLCAyNTcgaW5z
ZXJ0aW9ucygrKSwgNiBkZWxldGlvbnMoLSkKPiAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy92aWRl
by9iYWNrbGlnaHQvcWNvbS13bGVkLmMgYi9kcml2ZXJzL3ZpZGVvL2JhY2tsaWdodC9xY29tLXds
ZWQuYwo+IGluZGV4IDQ1ZWVkYTQuLjI4MDdiNGIgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy92aWRl
by9iYWNrbGlnaHQvcWNvbS13bGVkLmMKPiArKysgYi9kcml2ZXJzL3ZpZGVvL2JhY2tsaWdodC9x
Y29tLXdsZWQuYwo+IEBAIC0xNyw3ICsxNyw3IEBACj4gIAo+ICAjZGVmaW5lIFdMRUQzX1NJTktf
UkVHX0JSSUdIVF9NQVgJCQkweEZGRgo+ICAKPiAtLyogV0xFRDMgY29udHJvbCByZWdpc3RlcnMg
Ki8KPiArLyogV0xFRDMvV0xFRDQgY29udHJvbCByZWdpc3RlcnMgKi8KPiAgI2RlZmluZSBXTEVE
M19DVFJMX1JFR19NT0RfRU4JCQkJMHg0Ngo+ICAjZGVmaW5lICBXTEVEM19DVFJMX1JFR19NT0Rf
RU5fTUFTSwkJCUJJVCg3KQo+ICAjZGVmaW5lICBXTEVEM19DVFJMX1JFR19NT0RfRU5fU0hJRlQJ
CQk3Cj4gQEAgLTMxLDcgKzMxLDcgQEAKPiAgI2RlZmluZSBXTEVEM19DVFJMX1JFR19JTElNSVQJ
CQkJMHg0ZQo+ICAjZGVmaW5lICBXTEVEM19DVFJMX1JFR19JTElNSVRfTUFTSwkJCUdFTk1BU0so
MiwgMCkKPiAgCj4gLS8qIFdMRUQzIHNpbmsgcmVnaXN0ZXJzICovCj4gKy8qIFdMRUQzL1dMRUQ0
IHNpbmsgcmVnaXN0ZXJzICovCj4gICNkZWZpbmUgV0xFRDNfU0lOS19SRUdfU1lOQwkJCQkweDQ3
Cj4gICNkZWZpbmUgIFdMRUQzX1NJTktfUkVHX1NZTkNfQ0xFQVIJCQkweDAwCj4gIAo+IEBAIC01
Niw2ICs1NiwyOCBAQAo+ICAjZGVmaW5lIFdMRUQzX1NJTktfUkVHX1NUUl9DQUJDKG4pCQkJKDB4
NjYgKyAobiAqIDB4MTApKQo+ICAjZGVmaW5lICBXTEVEM19TSU5LX1JFR19TVFJfQ0FCQ19NQVNL
CQkJQklUKDcpCj4gIAo+ICsvKiBXTEVENCBzcGVjaWZpYyBzaW5rIHJlZ2lzdGVycyAqLwo+ICsj
ZGVmaW5lIFdMRUQ0X1NJTktfUkVHX0NVUlJfU0lOSwkJCTB4NDYKPiArI2RlZmluZSAgV0xFRDRf
U0lOS19SRUdfQ1VSUl9TSU5LX01BU0sJCQlHRU5NQVNLKDcsIDQpCj4gKyNkZWZpbmUgIFdMRUQ0
X1NJTktfUkVHX0NVUlJfU0lOS19TSEZUCQkJNAo+ICsKPiArLyogV0xFRDQgc3BlY2lmaWMgcGVy
LSdzdHJpbmcnIHJlZ2lzdGVycyBiZWxvdyAqLwo+ICsjZGVmaW5lIFdMRUQ0X1NJTktfUkVHX1NU
Ul9NT0RfRU4obikJCQkoMHg1MCArIChuICogMHgxMCkpCj4gKyNkZWZpbmUgIFdMRUQ0X1NJTktf
UkVHX1NUUl9NT0RfTUFTSwkJCUJJVCg3KQo+ICsKPiArI2RlZmluZSBXTEVENF9TSU5LX1JFR19T
VFJfRlVMTF9TQ0FMRV9DVVJSKG4pCQkoMHg1MiArIChuICogMHgxMCkpCj4gKyNkZWZpbmUgIFdM
RUQ0X1NJTktfUkVHX1NUUl9GVUxMX1NDQUxFX0NVUlJfTUFTSwlHRU5NQVNLKDMsIDApCj4gKwo+
ICsjZGVmaW5lIFdMRUQ0X1NJTktfUkVHX1NUUl9NT0RfU1JDKG4pCQkJKDB4NTMgKyAobiAqIDB4
MTApKQo+ICsjZGVmaW5lICBXTEVENF9TSU5LX1JFR19TVFJfTU9EX1NSQ19NQVNLCQlCSVQoMCkK
PiArI2RlZmluZSAgV0xFRDRfU0lOS19SRUdfU1RSX01PRF9TUkNfSU5UCQkJMHgwMAo+ICsjZGVm
aW5lICBXTEVENF9TSU5LX1JFR19TVFJfTU9EX1NSQ19FWFQJCQkweDAxCj4gKwo+ICsjZGVmaW5l
IFdMRUQ0X1NJTktfUkVHX1NUUl9DQUJDKG4pCQkJKDB4NTYgKyAobiAqIDB4MTApKQo+ICsjZGVm
aW5lICBXTEVENF9TSU5LX1JFR19TVFJfQ0FCQ19NQVNLCQkJQklUKDcpCj4gKwo+ICsjZGVmaW5l
IFdMRUQ0X1NJTktfUkVHX0JSSUdIVChuKQkJCSgweDU3ICsgKG4gKiAweDEwKSkKPiArCj4gIHN0
cnVjdCB3bGVkX3Zhcl9jZmcgewo+ICAJY29uc3QgdTMyICp2YWx1ZXM7Cj4gIAl1MzIgKCpmbiko
dTMyKTsKPiBAQCAtOTAsNiArMTEyLDcgQEAgc3RydWN0IHdsZWQgewo+ICAJc3RydWN0IGRldmlj
ZSAqZGV2Owo+ICAJc3RydWN0IHJlZ21hcCAqcmVnbWFwOwo+ICAJdTE2IGN0cmxfYWRkcjsKPiAr
CXUxNiBzaW5rX2FkZHI7Cj4gIAl1MTYgbWF4X3N0cmluZ19jb3VudDsKPiAgCXUzMiBicmlnaHRu
ZXNzOwo+ICAJdTMyIG1heF9icmlnaHRuZXNzOwo+IEBAIC0xMTYsNiArMTM5LDI5IEBAIHN0YXRp
YyBpbnQgd2xlZDNfc2V0X2JyaWdodG5lc3Moc3RydWN0IHdsZWQgKndsZWQsIHUxNiBicmlnaHRu
ZXNzKQo+ICAJcmV0dXJuIDA7Cj4gIH0KPiAgCj4gK3N0YXRpYyBpbnQgd2xlZDRfc2V0X2JyaWdo
dG5lc3Moc3RydWN0IHdsZWQgKndsZWQsIHUxNiBicmlnaHRuZXNzKQo+ICt7Cj4gKwlpbnQgcmMs
IGk7Cj4gKwl1MTYgbG93X2xpbWl0ID0gd2xlZC0+bWF4X2JyaWdodG5lc3MgKiA0IC8gMTAwMDsK
PiArCXU4IHZbMl07Cj4gKwo+ICsJLyogV0xFRDQncyBsb3dlciBsaW1pdCBvZiBvcGVyYXRpb24g
aXMgMC40JSAqLwo+ICsJaWYgKGJyaWdodG5lc3MgPiAwICYmIGJyaWdodG5lc3MgPCBsb3dfbGlt
aXQpCj4gKwkJYnJpZ2h0bmVzcyA9IGxvd19saW1pdDsKPiArCj4gKwl2WzBdID0gYnJpZ2h0bmVz
cyAmIDB4ZmY7Cj4gKwl2WzFdID0gKGJyaWdodG5lc3MgPj4gOCkgJiAweGY7Cj4gKwo+ICsJZm9y
IChpID0gMDsgIGkgPCB3bGVkLT5jZmcubnVtX3N0cmluZ3M7ICsraSkgewo+ICsJCXJjID0gcmVn
bWFwX2J1bGtfd3JpdGUod2xlZC0+cmVnbWFwLCB3bGVkLT5zaW5rX2FkZHIgKwo+ICsJCQkJICAg
ICAgIFdMRUQ0X1NJTktfUkVHX0JSSUdIVChpKSwgdiwgMik7Cj4gKwkJaWYgKHJjIDwgMCkKPiAr
CQkJcmV0dXJuIHJjOwo+ICsJfQo+ICsKPiArCXJldHVybiAwOwo+ICt9Cj4gKwo+ICBzdGF0aWMg
aW50IHdsZWRfbW9kdWxlX2VuYWJsZShzdHJ1Y3Qgd2xlZCAqd2xlZCwgaW50IHZhbCkKPiAgewo+
ICAJaW50IHJjOwo+IEBAIC0yNjcsNiArMzEzLDEyMCBAQCBzdGF0aWMgaW50IHdsZWQzX3NldHVw
KHN0cnVjdCB3bGVkICp3bGVkKQo+ICAJLmVuYWJsZWRfc3RyaW5ncyA9IHswLCAxLCAyLCAzfSwK
PiAgfTsKPiAgCj4gK3N0YXRpYyBpbnQgd2xlZDRfc2V0dXAoc3RydWN0IHdsZWQgKndsZWQpCj4g
K3sKPiArCWludCByYywgdGVtcCwgaSwgajsKPiArCXUxNiBhZGRyOwo+ICsJdTggc2lua19lbiA9
IDA7Cj4gKwl1MzIgc2lua19jZmcgPSAwOwo+ICsKPiArCXJjID0gcmVnbWFwX3VwZGF0ZV9iaXRz
KHdsZWQtPnJlZ21hcCwKPiArCQkJCXdsZWQtPmN0cmxfYWRkciArIFdMRUQzX0NUUkxfUkVHX09W
UCwKPiArCQkJCVdMRUQzX0NUUkxfUkVHX09WUF9NQVNLLCB3bGVkLT5jZmcub3ZwKTsKPiArCWlm
IChyYyA8IDApCj4gKwkJcmV0dXJuIHJjOwo+ICsKPiArCXJjID0gcmVnbWFwX3VwZGF0ZV9iaXRz
KHdsZWQtPnJlZ21hcCwKPiArCQkJCXdsZWQtPmN0cmxfYWRkciArIFdMRUQzX0NUUkxfUkVHX0lM
SU1JVCwKPiArCQkJCVdMRUQzX0NUUkxfUkVHX0lMSU1JVF9NQVNLLAo+ICsJCQkJd2xlZC0+Y2Zn
LmJvb3N0X2lfbGltaXQpOwo+ICsJaWYgKHJjIDwgMCkKPiArCQlyZXR1cm4gcmM7Cj4gKwo+ICsJ
cmMgPSByZWdtYXBfdXBkYXRlX2JpdHMod2xlZC0+cmVnbWFwLAo+ICsJCQkJd2xlZC0+Y3RybF9h
ZGRyICsgV0xFRDNfQ1RSTF9SRUdfRlJFUSwKPiArCQkJCVdMRUQzX0NUUkxfUkVHX0ZSRVFfTUFT
SywKPiArCQkJCXdsZWQtPmNmZy5zd2l0Y2hfZnJlcSk7Cj4gKwlpZiAocmMgPCAwKQo+ICsJCXJl
dHVybiByYzsKPiArCj4gKwlyYyA9IHJlZ21hcF9yZWFkKHdsZWQtPnJlZ21hcCwgd2xlZC0+c2lu
a19hZGRyICsKPiArCQkJIFdMRUQ0X1NJTktfUkVHX0NVUlJfU0lOSywgJnNpbmtfY2ZnKTsKPiAr
CWlmIChyYyA8IDApCj4gKwkJcmV0dXJuIHJjOwo+ICsKPiArCWZvciAoaSA9IDA7IGkgPCB3bGVk
LT5jZmcubnVtX3N0cmluZ3M7IGkrKykgewo+ICsJCWogPSB3bGVkLT5jZmcuZW5hYmxlZF9zdHJp
bmdzW2ldOwo+ICsJCXRlbXAgPSBqICsgV0xFRDRfU0lOS19SRUdfQ1VSUl9TSU5LX1NIRlQ7Cj4g
KwkJc2lua19lbiB8PSAxIDw8IHRlbXA7Cj4gKwl9Cj4gKwo+ICsJaWYgKHNpbmtfY2ZnID09IHNp
bmtfZW4pCj4gKwkJcmV0dXJuIDA7Cj4gKwo+ICsJcmMgPSByZWdtYXBfdXBkYXRlX2JpdHMod2xl
ZC0+cmVnbWFwLAo+ICsJCQkJd2xlZC0+c2lua19hZGRyICsgV0xFRDRfU0lOS19SRUdfQ1VSUl9T
SU5LLAo+ICsJCQkJV0xFRDRfU0lOS19SRUdfQ1VSUl9TSU5LX01BU0ssIDApOwo+ICsJaWYgKHJj
IDwgMCkKPiArCQlyZXR1cm4gcmM7Cj4gKwo+ICsJcmMgPSByZWdtYXBfdXBkYXRlX2JpdHMod2xl
ZC0+cmVnbWFwLCB3bGVkLT5jdHJsX2FkZHIgKwo+ICsJCQkJV0xFRDNfQ1RSTF9SRUdfTU9EX0VO
LAo+ICsJCQkJV0xFRDNfQ1RSTF9SRUdfTU9EX0VOX01BU0ssIDApOwo+ICsJaWYgKHJjIDwgMCkK
PiArCQlyZXR1cm4gcmM7Cj4gKwo+ICsJLyogUGVyIHNpbmsvc3RyaW5nIGNvbmZpZ3VyYXRpb24g
Ki8KPiArCWZvciAoaSA9IDA7IGkgPCB3bGVkLT5jZmcubnVtX3N0cmluZ3M7IGkrKykgewo+ICsJ
CWogPSB3bGVkLT5jZmcuZW5hYmxlZF9zdHJpbmdzW2ldOwo+ICsKPiArCQlhZGRyID0gd2xlZC0+
c2lua19hZGRyICsKPiArCQkJCVdMRUQ0X1NJTktfUkVHX1NUUl9NT0RfRU4oaik7Cj4gKwkJcmMg
PSByZWdtYXBfdXBkYXRlX2JpdHMod2xlZC0+cmVnbWFwLCBhZGRyLAo+ICsJCQkJCVdMRUQ0X1NJ
TktfUkVHX1NUUl9NT0RfTUFTSywKPiArCQkJCQlXTEVENF9TSU5LX1JFR19TVFJfTU9EX01BU0sp
Owo+ICsJCWlmIChyYyA8IDApCj4gKwkJCXJldHVybiByYzsKPiArCj4gKwkJYWRkciA9IHdsZWQt
PnNpbmtfYWRkciArCj4gKwkJCQlXTEVENF9TSU5LX1JFR19TVFJfRlVMTF9TQ0FMRV9DVVJSKGop
Owo+ICsJCXJjID0gcmVnbWFwX3VwZGF0ZV9iaXRzKHdsZWQtPnJlZ21hcCwgYWRkciwKPiArCQkJ
CQlXTEVENF9TSU5LX1JFR19TVFJfRlVMTF9TQ0FMRV9DVVJSX01BU0ssCj4gKwkJCQkJd2xlZC0+
Y2ZnLnN0cmluZ19pX2xpbWl0KTsKPiArCQlpZiAocmMgPCAwKQo+ICsJCQlyZXR1cm4gcmM7Cj4g
Kwo+ICsJCWFkZHIgPSB3bGVkLT5zaW5rX2FkZHIgKwo+ICsJCQkJV0xFRDRfU0lOS19SRUdfU1RS
X0NBQkMoaik7Cj4gKwkJcmMgPSByZWdtYXBfdXBkYXRlX2JpdHMod2xlZC0+cmVnbWFwLCBhZGRy
LAo+ICsJCQkJCVdMRUQ0X1NJTktfUkVHX1NUUl9DQUJDX01BU0ssCj4gKwkJCQkJd2xlZC0+Y2Zn
LmNhYmMgPwo+ICsJCQkJCVdMRUQ0X1NJTktfUkVHX1NUUl9DQUJDX01BU0sgOiAwKTsKPiArCQlp
ZiAocmMgPCAwKQo+ICsJCQlyZXR1cm4gcmM7Cj4gKwl9Cj4gKwo+ICsJcmMgPSByZWdtYXBfdXBk
YXRlX2JpdHMod2xlZC0+cmVnbWFwLCB3bGVkLT5jdHJsX2FkZHIgKwo+ICsJCQkJV0xFRDNfQ1RS
TF9SRUdfTU9EX0VOLAo+ICsJCQkJV0xFRDNfQ1RSTF9SRUdfTU9EX0VOX01BU0ssCj4gKwkJCQlX
TEVEM19DVFJMX1JFR19NT0RfRU5fTUFTSyk7Cj4gKwlpZiAocmMgPCAwKQo+ICsJCXJldHVybiBy
YzsKPiArCj4gKwlyYyA9IHJlZ21hcF91cGRhdGVfYml0cyh3bGVkLT5yZWdtYXAsCj4gKwkJCQl3
bGVkLT5zaW5rX2FkZHIgKyBXTEVENF9TSU5LX1JFR19DVVJSX1NJTkssCj4gKwkJCQlXTEVENF9T
SU5LX1JFR19DVVJSX1NJTktfTUFTSywgc2lua19lbik7Cj4gKwlpZiAocmMgPCAwKQo+ICsJCXJl
dHVybiByYzsKPiArCj4gKwlyYyA9IHdsZWRfc3luY190b2dnbGUod2xlZCk7Cj4gKwlpZiAocmMg
PCAwKSB7Cj4gKwkJZGV2X2Vycih3bGVkLT5kZXYsICJGYWlsZWQgdG8gdG9nZ2xlIHN5bmMgcmVn
IHJjOiVkXG4iLCByYyk7Cj4gKwkJcmV0dXJuIHJjOwo+ICsJfQo+ICsKPiArCXJldHVybiAwOwo+
ICt9Cj4gKwo+ICtzdGF0aWMgY29uc3Qgc3RydWN0IHdsZWRfY29uZmlnIHdsZWQ0X2NvbmZpZ19k
ZWZhdWx0cyA9IHsKPiArCS5ib29zdF9pX2xpbWl0ID0gNCwKPiArCS5zdHJpbmdfaV9saW1pdCA9
IDEwLAo+ICsJLm92cCA9IDEsCj4gKwkubnVtX3N0cmluZ3MgPSA0LAo+ICsJLnN3aXRjaF9mcmVx
ID0gMTEsCj4gKwkuY2FiYyA9IGZhbHNlLAo+ICt9Owo+ICsKPiAgc3RhdGljIGNvbnN0IHUzMiB3
bGVkM19ib29zdF9pX2xpbWl0X3ZhbHVlc1tdID0gewo+ICAJMTA1LCAzODUsIDUyNSwgODA1LCA5
ODAsIDEyNjAsIDE0MDAsIDE2ODAsCj4gIH07Cj4gQEAgLTI3Niw2ICs0MzYsMTUgQEAgc3RhdGlj
IGludCB3bGVkM19zZXR1cChzdHJ1Y3Qgd2xlZCAqd2xlZCkKPiAgCS5zaXplID0gQVJSQVlfU0la
RSh3bGVkM19ib29zdF9pX2xpbWl0X3ZhbHVlcyksCj4gIH07Cj4gIAo+ICtzdGF0aWMgY29uc3Qg
dTMyIHdsZWQ0X2Jvb3N0X2lfbGltaXRfdmFsdWVzW10gPSB7Cj4gKwkxMDUsIDI4MCwgNDUwLCA2
MjAsIDk3MCwgMTE1MCwgMTMwMCwgMTUwMCwKPiArfTsKPiArCj4gK3N0YXRpYyBjb25zdCBzdHJ1
Y3Qgd2xlZF92YXJfY2ZnIHdsZWQ0X2Jvb3N0X2lfbGltaXRfY2ZnID0gewo+ICsJLnZhbHVlcyA9
IHdsZWQ0X2Jvb3N0X2lfbGltaXRfdmFsdWVzLAo+ICsJLnNpemUgPSBBUlJBWV9TSVpFKHdsZWQ0
X2Jvb3N0X2lfbGltaXRfdmFsdWVzKSwKPiArfTsKPiArCj4gIHN0YXRpYyBjb25zdCB1MzIgd2xl
ZDNfb3ZwX3ZhbHVlc1tdID0gewo+ICAJMzUsIDMyLCAyOSwgMjcsCj4gIH07Cj4gQEAgLTI4NSw2
ICs0NTQsMTUgQEAgc3RhdGljIGludCB3bGVkM19zZXR1cChzdHJ1Y3Qgd2xlZCAqd2xlZCkKPiAg
CS5zaXplID0gQVJSQVlfU0laRSh3bGVkM19vdnBfdmFsdWVzKSwKPiAgfTsKPiAgCj4gK3N0YXRp
YyBjb25zdCB1MzIgd2xlZDRfb3ZwX3ZhbHVlc1tdID0gewo+ICsJMzExMDAsIDI5NjAwLCAxOTYw
MCwgMTgxMDAsCj4gK307Cj4gKwo+ICtzdGF0aWMgY29uc3Qgc3RydWN0IHdsZWRfdmFyX2NmZyB3
bGVkNF9vdnBfY2ZnID0gewo+ICsJLnZhbHVlcyA9IHdsZWQ0X292cF92YWx1ZXMsCj4gKwkuc2l6
ZSA9IEFSUkFZX1NJWkUod2xlZDRfb3ZwX3ZhbHVlcyksCj4gK307Cj4gKwo+ICBzdGF0aWMgdTMy
IHdsZWQzX251bV9zdHJpbmdzX3ZhbHVlc19mbih1MzIgaWR4KQo+ICB7Cj4gIAlyZXR1cm4gaWR4
ICsgMTsKPiBAQCAtMjk1LDYgKzQ3MywxMSBAQCBzdGF0aWMgdTMyIHdsZWQzX251bV9zdHJpbmdz
X3ZhbHVlc19mbih1MzIgaWR4KQo+ICAJLnNpemUgPSAzLAo+ICB9Owo+ICAKPiArc3RhdGljIGNv
bnN0IHN0cnVjdCB3bGVkX3Zhcl9jZmcgd2xlZDRfbnVtX3N0cmluZ3NfY2ZnID0gewo+ICsJLmZu
ID0gd2xlZDNfbnVtX3N0cmluZ3NfdmFsdWVzX2ZuLAo+ICsJLnNpemUgPSA0LAo+ICt9Owo+ICsK
PiAgc3RhdGljIHUzMiB3bGVkM19zd2l0Y2hfZnJlcV92YWx1ZXNfZm4odTMyIGlkeCkKPiAgewo+
ICAJcmV0dXJuIDE5MjAwIC8gKDIgKiAoMSArIGlkeCkpOwo+IEBAIC0zMDksMTAgKzQ5MiwyNCBA
QCBzdGF0aWMgdTMyIHdsZWQzX3N3aXRjaF9mcmVxX3ZhbHVlc19mbih1MzIgaWR4KQo+ICAJLnNp
emUgPSAyNiwKPiAgfTsKPiAgCj4gK3N0YXRpYyBjb25zdCB1MzIgd2xlZDRfc3RyaW5nX2lfbGlt
aXRfdmFsdWVzW10gPSB7Cj4gKwkwLCAyNTAwLCA1MDAwLCA3NTAwLCAxMDAwMCwgMTI1MDAsIDE1
MDAwLCAxNzUwMCwgMjAwMDAsCj4gKwkyMjUwMCwgMjUwMDAsIDI3NTAwLCAzMDAwMCwKPiArfTsK
PiArCj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3Qgd2xlZF92YXJfY2ZnIHdsZWQ0X3N0cmluZ19pX2xp
bWl0X2NmZyA9IHsKPiArCS52YWx1ZXMgPSB3bGVkNF9zdHJpbmdfaV9saW1pdF92YWx1ZXMsCj4g
Kwkuc2l6ZSA9IEFSUkFZX1NJWkUod2xlZDRfc3RyaW5nX2lfbGltaXRfdmFsdWVzKSwKPiArfTsK
PiArCj4gIHN0YXRpYyBjb25zdCBzdHJ1Y3Qgd2xlZF92YXJfY2ZnIHdsZWQzX3N0cmluZ19jZmcg
PSB7Cj4gIAkuc2l6ZSA9IDgsCj4gIH07Cj4gIAo+ICtzdGF0aWMgY29uc3Qgc3RydWN0IHdsZWRf
dmFyX2NmZyB3bGVkNF9zdHJpbmdfY2ZnID0gewo+ICsJLnNpemUgPSAxNiwKPiArfTsKPiArCj4g
IHN0YXRpYyB1MzIgd2xlZF92YWx1ZXMoY29uc3Qgc3RydWN0IHdsZWRfdmFyX2NmZyAqY2ZnLCB1
MzIgaWR4KQo+ICB7Cj4gIAlpZiAoaWR4ID49IGNmZy0+c2l6ZSkKPiBAQCAtMzYxLDYgKzU1OCwz
NCBAQCBzdGF0aWMgaW50IHdsZWRfY29uZmlndXJlKHN0cnVjdCB3bGVkICp3bGVkLCBpbnQgdmVy
c2lvbikKPiAgCQl9LAo+ICAJfTsKPiAgCj4gKwljb25zdCBzdHJ1Y3Qgd2xlZF91MzJfb3B0cyB3
bGVkNF9vcHRzW10gPSB7Cj4gKwkJewo+ICsJCQkubmFtZSA9ICJxY29tLGN1cnJlbnQtYm9vc3Qt
bGltaXQiLAo+ICsJCQkudmFsX3B0ciA9ICZjZmctPmJvb3N0X2lfbGltaXQsCj4gKwkJCS5jZmcg
PSAmd2xlZDRfYm9vc3RfaV9saW1pdF9jZmcsCj4gKwkJfSwKPiArCQl7Cj4gKwkJCS5uYW1lID0g
InFjb20sY3VycmVudC1saW1pdC1taWNyb2FtcCIsCj4gKwkJCS52YWxfcHRyID0gJmNmZy0+c3Ry
aW5nX2lfbGltaXQsCj4gKwkJCS5jZmcgPSAmd2xlZDRfc3RyaW5nX2lfbGltaXRfY2ZnLAo+ICsJ
CX0sCj4gKwkJewo+ICsJCQkubmFtZSA9ICJxY29tLG92cC1taWxsaXZvbHQiLAo+ICsJCQkudmFs
X3B0ciA9ICZjZmctPm92cCwKPiArCQkJLmNmZyA9ICZ3bGVkNF9vdnBfY2ZnLAo+ICsJCX0sCj4g
KwkJewo+ICsJCQkubmFtZSA9ICJxY29tLHN3aXRjaGluZy1mcmVxIiwKPiArCQkJLnZhbF9wdHIg
PSAmY2ZnLT5zd2l0Y2hfZnJlcSwKPiArCQkJLmNmZyA9ICZ3bGVkM19zd2l0Y2hfZnJlcV9jZmcs
Cj4gKwkJfSwKPiArCQl7Cj4gKwkJCS5uYW1lID0gInFjb20sbnVtLXN0cmluZ3MiLAo+ICsJCQku
dmFsX3B0ciA9ICZjZmctPm51bV9zdHJpbmdzLAo+ICsJCQkuY2ZnID0gJndsZWQ0X251bV9zdHJp
bmdzX2NmZywKPiArCQl9LAo+ICsJfTsKPiArCj4gIAljb25zdCBzdHJ1Y3Qgd2xlZF9ib29sX29w
dHMgYm9vbF9vcHRzW10gPSB7Cj4gIAkJeyAicWNvbSxjcy1vdXQiLCAmY2ZnLT5jc19vdXRfZW4s
IH0sCj4gIAkJeyAicWNvbSxleHQtZ2VuIiwgJmNmZy0+ZXh0X2dlbiwgfSwKPiBAQCAtMzc0LDEw
ICs1OTksNiBAQCBzdGF0aWMgaW50IHdsZWRfY29uZmlndXJlKHN0cnVjdCB3bGVkICp3bGVkLCBp
bnQgdmVyc2lvbikKPiAgCX0KPiAgCXdsZWQtPmN0cmxfYWRkciA9IGJlMzJfdG9fY3B1KCpwcm9w
X2FkZHIpOwo+ICAKPiAtCXJjID0gb2ZfcHJvcGVydHlfcmVhZF9zdHJpbmcoZGV2LT5vZl9ub2Rl
LCAibGFiZWwiLCAmd2xlZC0+bmFtZSk7Cj4gLQlpZiAocmMpCj4gLQkJd2xlZC0+bmFtZSA9IGRl
dm1fa2FzcHJpbnRmKGRldiwgR0ZQX0tFUk5FTCwgIiVwT0ZuIiwgZGV2LT5vZl9ub2RlKTsKPiAt
Cj4gIAlzd2l0Y2ggKHZlcnNpb24pIHsKPiAgCWNhc2UgMzoKPiAgCQl1MzJfb3B0cyA9IHdsZWQz
X29wdHM7Cj4gQEAgLTM4NSw2ICs2MDYsMjIgQEAgc3RhdGljIGludCB3bGVkX2NvbmZpZ3VyZShz
dHJ1Y3Qgd2xlZCAqd2xlZCwgaW50IHZlcnNpb24pCj4gIAkJKmNmZyA9IHdsZWQzX2NvbmZpZ19k
ZWZhdWx0czsKPiAgCQl3bGVkLT53bGVkX3NldF9icmlnaHRuZXNzID0gd2xlZDNfc2V0X2JyaWdo
dG5lc3M7Cj4gIAkJd2xlZC0+bWF4X3N0cmluZ19jb3VudCA9IDM7Cj4gKwkJd2xlZC0+c2lua19h
ZGRyID0gd2xlZC0+Y3RybF9hZGRyOwo+ICsJCWJyZWFrOwo+ICsKPiArCWNhc2UgNDoKPiArCQl1
MzJfb3B0cyA9IHdsZWQ0X29wdHM7Cj4gKwkJc2l6ZSA9IEFSUkFZX1NJWkUod2xlZDRfb3B0cyk7
Cj4gKwkJKmNmZyA9IHdsZWQ0X2NvbmZpZ19kZWZhdWx0czsKPiArCQl3bGVkLT53bGVkX3NldF9i
cmlnaHRuZXNzID0gd2xlZDRfc2V0X2JyaWdodG5lc3M7Cj4gKwkJd2xlZC0+bWF4X3N0cmluZ19j
b3VudCA9IDQ7Cj4gKwo+ICsJCXByb3BfYWRkciA9IG9mX2dldF9hZGRyZXNzKGRldi0+b2Zfbm9k
ZSwgMSwgTlVMTCwgTlVMTCk7Cj4gKwkJaWYgKCFwcm9wX2FkZHIpIHsKPiArCQkJZGV2X2Vycih3
bGVkLT5kZXYsICJpbnZhbGlkIElPIHJlc291cmNlc1xuIik7Cj4gKwkJCXJldHVybiAtRUlOVkFM
Owo+ICsJCX0KPiArCQl3bGVkLT5zaW5rX2FkZHIgPSBiZTMyX3RvX2NwdSgqcHJvcF9hZGRyKTsK
PiAgCQlicmVhazsKPiAgCj4gIAlkZWZhdWx0Ogo+IEBAIC0zOTIsNiArNjI5LDEwIEBAIHN0YXRp
YyBpbnQgd2xlZF9jb25maWd1cmUoc3RydWN0IHdsZWQgKndsZWQsIGludCB2ZXJzaW9uKQo+ICAJ
CXJldHVybiAtRUlOVkFMOwo+ICAJfQo+ICAKPiArCXJjID0gb2ZfcHJvcGVydHlfcmVhZF9zdHJp
bmcoZGV2LT5vZl9ub2RlLCAibGFiZWwiLCAmd2xlZC0+bmFtZSk7Cj4gKwlpZiAocmMpCj4gKwkJ
d2xlZC0+bmFtZSA9IGRldi0+b2Zfbm9kZS0+bmFtZTsKPiArCj4gIAlmb3IgKGkgPSAwOyBpIDwg
c2l6ZTsgKytpKSB7Cj4gIAkJcmMgPSBvZl9wcm9wZXJ0eV9yZWFkX3UzMihkZXYtPm9mX25vZGUs
IHUzMl9vcHRzW2ldLm5hbWUsICZ2YWwpOwo+ICAJCWlmIChyYyA9PSAtRUlOVkFMKSB7Cj4gQEAg
LTQ4Myw2ICs3MjQsMTQgQEAgc3RhdGljIGludCB3bGVkX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9k
ZXZpY2UgKnBkZXYpCj4gIAkJfQo+ICAJCWJyZWFrOwo+ICAKPiArCWNhc2UgNDoKPiArCQlyYyA9
IHdsZWQ0X3NldHVwKHdsZWQpOwo+ICsJCWlmIChyYykgewo+ICsJCQlkZXZfZXJyKCZwZGV2LT5k
ZXYsICJ3bGVkNF9zZXR1cCBmYWlsZWRcbiIpOwo+ICsJCQlyZXR1cm4gcmM7Cj4gKwkJfQo+ICsJ
CWJyZWFrOwo+ICsKPiAgCWRlZmF1bHQ6Cj4gIAkJZGV2X2Vycih3bGVkLT5kZXYsICJJbnZhbGlk
IFdMRUQgdmVyc2lvblxuIik7Cj4gIAkJYnJlYWs7Cj4gQEAgLTUwMyw2ICs3NTIsOCBAQCBzdGF0
aWMgaW50IHdsZWRfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKPiAgCj4gIHN0
YXRpYyBjb25zdCBzdHJ1Y3Qgb2ZfZGV2aWNlX2lkIHdsZWRfbWF0Y2hfdGFibGVbXSA9IHsKPiAg
CXsgLmNvbXBhdGlibGUgPSAicWNvbSxwbTg5NDEtd2xlZCIsIC5kYXRhID0gKHZvaWQgKikzIH0s
Cj4gKwl7IC5jb21wYXRpYmxlID0gInFjb20scG1pODk5OC13bGVkIiwgLmRhdGEgPSAodm9pZCAq
KTQgfSwKPiArCXsgLmNvbXBhdGlibGUgPSAicWNvbSxwbTY2MGwtd2xlZCIsIC5kYXRhID0gKHZv
aWQgKik0IH0sCj4gIAl7fQo+ICB9Owo+ICBNT0RVTEVfREVWSUNFX1RBQkxFKG9mLCB3bGVkX21h
dGNoX3RhYmxlKTsKPiAtLSAKPiBUaGUgUXVhbGNvbW0gSW5ub3ZhdGlvbiBDZW50ZXIsIEluYy4g
aXMgYSBtZW1iZXIgb2YgdGhlIENvZGUgQXVyb3JhIEZvcnVtLAo+ICBhIExpbnV4IEZvdW5kYXRp
b24gQ29sbGFib3JhdGl2ZSBQcm9qZWN0Cj4gCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3Rz
LmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xp
c3RpbmZvL2RyaS1kZXZlbA==
