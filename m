Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id EDC67D7BDF
	for <lists+dri-devel@lfdr.de>; Tue, 15 Oct 2019 18:38:25 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C4CA16E37C;
	Tue, 15 Oct 2019 16:38:13 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from relay6-d.mail.gandi.net (relay6-d.mail.gandi.net
 [217.70.183.198])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A06B96E7A0
 for <dri-devel@lists.freedesktop.org>; Tue, 15 Oct 2019 10:44:59 +0000 (UTC)
X-Originating-IP: 2.224.242.101
Received: from uno.lan (2-224-242-101.ip172.fastwebnet.it [2.224.242.101])
 (Authenticated sender: jacopo@jmondi.org)
 by relay6-d.mail.gandi.net (Postfix) with ESMTPSA id 40BDEC000D;
 Tue, 15 Oct 2019 10:44:55 +0000 (UTC)
From: Jacopo Mondi <jacopo+renesas@jmondi.org>
To: laurent.pinchart@ideasonboard.com, kieran.bingham+renesas@ideasonboard.com,
 geert@linux-m68k.org, horms@verge.net.au, uli+renesas@fpond.eu,
 VenkataRajesh.Kalakodima@in.bosch.com
Subject: [PATCH v5 3/8] drm: rcar-du: Add support for CMM
Date: Tue, 15 Oct 2019 12:46:16 +0200
Message-Id: <20191015104621.62514-4-jacopo+renesas@jmondi.org>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20191015104621.62514-1-jacopo+renesas@jmondi.org>
References: <20191015104621.62514-1-jacopo+renesas@jmondi.org>
MIME-Version: 1.0
X-Mailman-Approved-At: Tue, 15 Oct 2019 16:38:12 +0000
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: muroya@ksk.co.jp, airlied@linux.ie, koji.matsuoka.xm@renesas.com,
 dri-devel@lists.freedesktop.org, linux-kernel@vger.kernel.org,
 linux-renesas-soc@vger.kernel.org, Jacopo Mondi <jacopo+renesas@jmondi.org>,
 seanpaul@chromium.org, Harsha.ManjulaMallikarjun@in.bosch.com,
 ezequiel@collabora.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QWRkIGEgZHJpdmVyIGZvciB0aGUgUi1DYXIgRGlzcGxheSBVbml0IENvbG9yIENvcnJlY3Rpb24g
TW9kdWxlLgoKSW4gbW9zdCBvZiBHZW4zIFNvQ3MsIGVhY2ggRFUgb3V0cHV0IGNoYW5uZWwgaXMg
cHJvdmlkZWQgd2l0aCBhIENNTSB1bml0CnRvIHBlcmZvcm0gaW1hZ2UgZW5oYW5jZW1lbnQgYW5k
IGNvbG9yIGNvcnJlY3Rpb24uCgpBZGQgc3VwcG9ydCBmb3IgQ01NIHRocm91Z2ggYSBkcml2ZXIg
dGhhdCBzdXBwb3J0cyBjb25maWd1cmF0aW9uIG9mCnRoZSAxLWRpbWVuc2lvbmFsIExVVCB0YWJs
ZS4gTW9yZSBhZHZhbmNlZCBDTU0gZmVhdHVyZXMgd2lsbCBiZQppbXBsZW1lbnRlZCBvbiB0b3Ag
b2YgdGhpcyBpbml0aWFsIG9uZS4KClNpZ25lZC1vZmYtYnk6IEphY29wbyBNb25kaSA8amFjb3Bv
K3JlbmVzYXNAam1vbmRpLm9yZz4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9LY29uZmln
ICAgIHwgICA3ICsKIGRyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L01ha2VmaWxlICAgfCAgIDEgKwog
ZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9jbW0uYyB8IDE5OCArKysrKysrKysrKysrKysr
KysrKysrKysrKysrKwogZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9jbW0uaCB8ICA2MCAr
KysrKysrKysKIDQgZmlsZXMgY2hhbmdlZCwgMjY2IGluc2VydGlvbnMoKykKIGNyZWF0ZSBtb2Rl
IDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2NtbS5jCiBjcmVhdGUgbW9kZSAx
MDA2NDQgZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9jbW0uaAoKZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9yY2FyLWR1L0tjb25maWcgYi9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9L
Y29uZmlnCmluZGV4IDE1Mjk4NDllMjE3ZS4uNTM5ZDIzMjc5MGQxIDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vcmNhci1kdS9LY29uZmlnCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1
L0tjb25maWcKQEAgLTEzLDYgKzEzLDEzIEBAIGNvbmZpZyBEUk1fUkNBUl9EVQogCSAgQ2hvb3Nl
IHRoaXMgb3B0aW9uIGlmIHlvdSBoYXZlIGFuIFItQ2FyIGNoaXBzZXQuCiAJICBJZiBNIGlzIHNl
bGVjdGVkIHRoZSBtb2R1bGUgd2lsbCBiZSBjYWxsZWQgcmNhci1kdS1kcm0uCiAKK2NvbmZpZyBE
Uk1fUkNBUl9DTU0KKwlib29sICJSLUNhciBEVSBDb2xvciBNYW5hZ2VtZW50IE1vZHVsZSAoQ01N
KSBTdXBwb3J0IgorCWRlcGVuZHMgb24gRFJNICYmIE9GCisJZGVwZW5kcyBvbiBEUk1fUkNBUl9E
VQorCWhlbHAKKwkgIEVuYWJsZSBzdXBwb3J0IGZvciBSLUNhciBDb2xvciBNYW5hZ2VtZW50IE1v
ZHVsZSAoQ01NKS4KKwogY29uZmlnIERSTV9SQ0FSX0RXX0hETUkKIAl0cmlzdGF0ZSAiUi1DYXIg
RFUgR2VuMyBIRE1JIEVuY29kZXIgU3VwcG9ydCIKIAlkZXBlbmRzIG9uIERSTSAmJiBPRgpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvTWFrZWZpbGUgYi9kcml2ZXJzL2dwdS9k
cm0vcmNhci1kdS9NYWtlZmlsZQppbmRleCA2YzJlZDljNDY0NjcuLjRkMTE4N2NjYzNlNSAxMDA2
NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvTWFrZWZpbGUKKysrIGIvZHJpdmVycy9n
cHUvZHJtL3JjYXItZHUvTWFrZWZpbGUKQEAgLTE1LDYgKzE1LDcgQEAgcmNhci1kdS1kcm0tJChD
T05GSUdfRFJNX1JDQVJfTFZEUykJKz0gcmNhcl9kdV9vZi5vIFwKIHJjYXItZHUtZHJtLSQoQ09O
RklHX0RSTV9SQ0FSX1ZTUCkJKz0gcmNhcl9kdV92c3AubwogcmNhci1kdS1kcm0tJChDT05GSUdf
RFJNX1JDQVJfV1JJVEVCQUNLKSArPSByY2FyX2R1X3dyaXRlYmFjay5vCiAKK29iai0kKENPTkZJ
R19EUk1fUkNBUl9DTU0pCQkrPSByY2FyX2NtbS5vCiBvYmotJChDT05GSUdfRFJNX1JDQVJfRFUp
CQkrPSByY2FyLWR1LWRybS5vCiBvYmotJChDT05GSUdfRFJNX1JDQVJfRFdfSERNSSkJCSs9IHJj
YXJfZHdfaGRtaS5vCiBvYmotJChDT05GSUdfRFJNX1JDQVJfTFZEUykJCSs9IHJjYXJfbHZkcy5v
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2NtbS5jIGIvZHJpdmVy
cy9ncHUvZHJtL3JjYXItZHUvcmNhcl9jbW0uYwpuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAw
MDAwMDAwMDAwMDAuLjk2NzVhODU4N2RlZQotLS0gL2Rldi9udWxsCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9yY2FyLWR1L3JjYXJfY21tLmMKQEAgLTAsMCArMSwxOTggQEAKKy8vIFNQRFgtTGljZW5z
ZS1JZGVudGlmaWVyOiBHUEwtMi4wKworLyoKKyAqIHJjYXJfY21tLmMgLS0gUi1DYXIgRGlzcGxh
eSBVbml0IENvbG9yIE1hbmFnZW1lbnQgTW9kdWxlCisgKgorICogQ29weXJpZ2h0IChDKSAyMDE5
IEphY29wbyBNb25kaSA8amFjb3BvK3JlbmVzYXNAam1vbmRpLm9yZz4KKyAqLworCisjaW5jbHVk
ZSA8bGludXgvaW8uaD4KKyNpbmNsdWRlIDxsaW51eC9tb2R1bGUuaD4KKyNpbmNsdWRlIDxsaW51
eC9vZi5oPgorI2luY2x1ZGUgPGxpbnV4L3BsYXRmb3JtX2RldmljZS5oPgorI2luY2x1ZGUgPGxp
bnV4L3BtX3J1bnRpbWUuaD4KKworI2luY2x1ZGUgPGRybS9kcm1fY29sb3JfbWdtdC5oPgorCisj
aW5jbHVkZSAicmNhcl9jbW0uaCIKKworI2RlZmluZSBDTTJfTFVUX0NUUkwJCTB4MDAwMAorI2Rl
ZmluZSBDTTJfTFVUX0NUUkxfTFVUX0VOCUJJVCgwKQorI2RlZmluZSBDTTJfTFVUX1RCTF9CQVNF
CTB4MDYwMAorI2RlZmluZSBDTTJfTFVUX1RCTChfX2kpCShDTTJfTFVUX1RCTF9CQVNFICsgKF9f
aSkgKiA0KQorCitzdHJ1Y3QgcmNhcl9jbW0geworCXZvaWQgX19pb21lbSAqYmFzZTsKKworCS8q
CisJICogQGx1dDoJCTFELUxVVCBzdGF0dXMKKwkgKiBAbHV0LmVuYWJsZWQ6CTFELUxVVCBlbmFi
bGVkIGZsYWcKKwkgKi8KKwlzdHJ1Y3QgeworCQlib29sIGVuYWJsZWQ7CisJfSBsdXQ7Cit9Owor
CitzdGF0aWMgaW5saW5lIGludCByY2FyX2NtbV9yZWFkKHN0cnVjdCByY2FyX2NtbSAqcmNtbSwg
dTMyIHJlZykKK3sKKwlyZXR1cm4gaW9yZWFkMzIocmNtbS0+YmFzZSArIHJlZyk7Cit9CisKK3N0
YXRpYyBpbmxpbmUgdm9pZCByY2FyX2NtbV93cml0ZShzdHJ1Y3QgcmNhcl9jbW0gKnJjbW0sIHUz
MiByZWcsIHUzMiBkYXRhKQoreworCWlvd3JpdGUzMihkYXRhLCByY21tLT5iYXNlICsgcmVnKTsK
K30KKworLyoKKyAqIHJjYXJfY21tX2x1dF93cml0ZSgpIC0gU2NhbGUgdGhlIERSTSBMVVQgdGFi
bGUgZW50cmllcyB0byBoYXJkd2FyZSBwcmVjaXNpb24KKyAqCQkJICBhbmQgd3JpdGUgdG8gdGhl
IENNTSByZWdpc3RlcnMuCisgKiBAcmNtbTogUG9pbnRlciB0byB0aGUgQ01NIGRldmljZQorICog
QGRybV9sdXQ6IFBvaW50ZXIgdG8gdGhlIERSTSBMVVQgdGFibGUKKyAqLworc3RhdGljIHZvaWQg
cmNhcl9jbW1fbHV0X3dyaXRlKHN0cnVjdCByY2FyX2NtbSAqcmNtbSwKKwkJCSAgICAgICBjb25z
dCBzdHJ1Y3QgZHJtX2NvbG9yX2x1dCAqZHJtX2x1dCkKK3sKKwl1bnNpZ25lZCBpbnQgaTsKKwor
CWZvciAoaSA9IDA7IGkgPCBDTTJfTFVUX1NJWkU7ICsraSkgeworCQl1MzIgZW50cnkgPSAgZHJt
X2NvbG9yX2x1dF9leHRyYWN0KGRybV9sdXRbaV0ucmVkLCA4KSA8PCAxNgorCQkJICB8IGRybV9j
b2xvcl9sdXRfZXh0cmFjdChkcm1fbHV0W2ldLmdyZWVuLCA4KSA8PCA4CisJCQkgIHwgZHJtX2Nv
bG9yX2x1dF9leHRyYWN0KGRybV9sdXRbaV0uYmx1ZSwgOCk7CisKKwkJcmNhcl9jbW1fd3JpdGUo
cmNtbSwgQ00yX0xVVF9UQkwoaSksIGVudHJ5KTsKKwl9Cit9CisKKy8qCisgKiByY2FyX2NtbV9z
ZXR1cCgpIC0gQ29uZmlndXJlIHRoZSBDTU0gdW5pdC4KKyAqIEBwZGV2OiBUaGUgcGxhdGZvcm0g
ZGV2aWNlIGFzc29jaWF0ZWQgd2l0aCB0aGUgQ01NIGluc3RhbmNlCisgKiBAY29uZmlnOiBUaGUg
Q01NIHVuaXQgY29uZmlndXJhdGlvbgorICoKKyAqIENvbmZpZ3VyZSB0aGUgQ01NIHVuaXQgd2l0
aCB0aGUgZ2l2ZW4gY29uZmlndXJhdGlvbi4gQ3VycmVudGx5IGVuYWJsaW5nLAorICogZGlzYWJs
aW5nIGFuZCBwcm9ncmFtbWluZyBvZiB0aGUgMS1EIExVVCB1bml0IGlzIHN1cHBvcnRlZC4KKyAq
LworaW50IHJjYXJfY21tX3NldHVwKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYsCisJCSAg
IGNvbnN0IHN0cnVjdCByY2FyX2NtbV9jb25maWcgKmNvbmZpZykKK3sKKwlzdHJ1Y3QgcmNhcl9j
bW0gKnJjbW0gPSBwbGF0Zm9ybV9nZXRfZHJ2ZGF0YShwZGV2KTsKKworCS8qIERpc2FibGUgTFVU
IGlmIHJlcXVlc3RlZC4gKi8KKwlpZiAoIWNvbmZpZy0+bHV0LmVuYWJsZSkgeworCQlpZiAocmNt
bS0+bHV0LmVuYWJsZWQpIHsKKwkJCXJjYXJfY21tX3dyaXRlKHJjbW0sIENNMl9MVVRfQ1RSTCwg
MCk7CisJCQlyY21tLT5sdXQuZW5hYmxlZCA9IGZhbHNlOworCQl9CisKKwkJcmV0dXJuIDA7CisJ
fQorCisJLyogRW5hYmxlIExVVCBhbmQgcHJvZ3JhbSB0aGUgbmV3IGdhbW1hIHRhYmxlIHZhbHVl
cy4gKi8KKwlpZiAoIXJjbW0tPmx1dC5lbmFibGVkKSB7CisJCXJjYXJfY21tX3dyaXRlKHJjbW0s
IENNMl9MVVRfQ1RSTCwgQ00yX0xVVF9DVFJMX0xVVF9FTik7CisJCXJjbW0tPmx1dC5lbmFibGVk
ID0gdHJ1ZTsKKwl9CisKKwlyY2FyX2NtbV9sdXRfd3JpdGUocmNtbSwgY29uZmlnLT5sdXQudGFi
bGUpOworCisJcmV0dXJuIDA7Cit9CitFWFBPUlRfU1lNQk9MX0dQTChyY2FyX2NtbV9zZXR1cCk7
CisKKy8qCisgKiByY2FyX2NtbV9lbmFibGUoKSAtIEVuYWJsZSB0aGUgQ01NIHVuaXQuCisgKiBA
cGRldjogVGhlIHBsYXRmb3JtIGRldmljZSBhc3NvY2lhdGVkIHdpdGggdGhlIENNTSBpbnN0YW5j
ZQorICoKKyAqIEVuYWJsZSB0aGUgQ01NIHVuaXQgYnkgZW5hYmxpbmcgdGhlIHBhcmVudCBjbG9j
ay4KKyAqLworaW50IHJjYXJfY21tX2VuYWJsZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2
KQoreworCWludCByZXQ7CisKKwlyZXQgPSBwbV9ydW50aW1lX2dldF9zeW5jKCZwZGV2LT5kZXYp
OworCWlmIChyZXQgPCAwKQorCQlyZXR1cm4gcmV0OworCisJcmV0dXJuIDA7Cit9CitFWFBPUlRf
U1lNQk9MX0dQTChyY2FyX2NtbV9lbmFibGUpOworCisvKgorICogcmNhcl9jbW1fZGlzYWJsZSgp
IC0gRGlzYWJsZSB0aGUgQ01NIHVuaXQuCisgKiBAcGRldjogVGhlIHBsYXRmb3JtIGRldmljZSBh
c3NvY2lhdGVkIHdpdGggdGhlIENNTSBpbnN0YW5jZQorICoKKyAqIERpc2FibGUgdGhlIENNTSB1
bml0IGJ5IHN0b3BwaW5nIHRoZSBwYXJlbnQgY2xvY2suCisgKi8KK3ZvaWQgcmNhcl9jbW1fZGlz
YWJsZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQoreworCXN0cnVjdCByY2FyX2NtbSAq
cmNtbSA9IHBsYXRmb3JtX2dldF9kcnZkYXRhKHBkZXYpOworCisJcmNhcl9jbW1fd3JpdGUocmNt
bSwgQ00yX0xVVF9DVFJMLCAwKTsKKwlyY21tLT5sdXQuZW5hYmxlZCA9IGZhbHNlOworCisJcG1f
cnVudGltZV9wdXQoJnBkZXYtPmRldik7Cit9CitFWFBPUlRfU1lNQk9MX0dQTChyY2FyX2NtbV9k
aXNhYmxlKTsKKworLyoKKyAqIHJjYXJfY21tX2luaXQoKSAtIEluaXRpYWxpemUgdGhlIENNTQor
ICogQHBkZXY6IFRoZSBwbGF0Zm9ybSBkZXZpY2UgYXNzb2NpYXRlZCB3aXRoIHRoZSBDTU0gaW5z
dGFuY2UKKyAqCisgKiBSZXR1cm46IDAgb24gc3VjY2VzcywgLUVQUk9CRV9ERUZFUiBpZiB0aGUg
Q01NIGlzIG5vdCBhdmFpbGFibGUgeWV0LAorICogICAgICAgICAtRU5PREVWIGlmIHRoZSBEUk1f
UkNBUl9DTU0gY29uZmlnIG9wdGlvbiBpcyBkaXNhYmxlZAorICovCitpbnQgcmNhcl9jbW1faW5p
dChzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQoreworCXN0cnVjdCByY2FyX2NtbSAqcmNt
bSA9IHBsYXRmb3JtX2dldF9kcnZkYXRhKHBkZXYpOworCisJaWYgKCFyY21tKQorCQlyZXR1cm4g
LUVQUk9CRV9ERUZFUjsKKworCXJldHVybiAwOworfQorRVhQT1JUX1NZTUJPTF9HUEwocmNhcl9j
bW1faW5pdCk7CisKK3N0YXRpYyBpbnQgcmNhcl9jbW1fcHJvYmUoc3RydWN0IHBsYXRmb3JtX2Rl
dmljZSAqcGRldikKK3sKKwlzdHJ1Y3QgcmNhcl9jbW0gKnJjbW07CisKKwlyY21tID0gZGV2bV9r
emFsbG9jKCZwZGV2LT5kZXYsIHNpemVvZigqcmNtbSksIEdGUF9LRVJORUwpOworCWlmICghcmNt
bSkKKwkJcmV0dXJuIC1FTk9NRU07CisJcGxhdGZvcm1fc2V0X2RydmRhdGEocGRldiwgcmNtbSk7
CisKKwlyY21tLT5iYXNlID0gZGV2bV9wbGF0Zm9ybV9pb3JlbWFwX3Jlc291cmNlKHBkZXYsIDAp
OworCWlmIChJU19FUlIocmNtbS0+YmFzZSkpCisJCXJldHVybiBQVFJfRVJSKHJjbW0tPmJhc2Up
OworCisJcG1fcnVudGltZV9lbmFibGUoJnBkZXYtPmRldik7CisKKwlyZXR1cm4gMDsKK30KKwor
c3RhdGljIGludCByY2FyX2NtbV9yZW1vdmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikK
K3sKKwlwbV9ydW50aW1lX2Rpc2FibGUoJnBkZXYtPmRldik7CisKKwlyZXR1cm4gMDsKK30KKwor
c3RhdGljIGNvbnN0IHN0cnVjdCBvZl9kZXZpY2VfaWQgcmNhcl9jbW1fb2ZfdGFibGVbXSA9IHsK
Kwl7IC5jb21wYXRpYmxlID0gInJlbmVzYXMscmNhci1nZW4zLWNtbSIsIH0sCisJeyAuY29tcGF0
aWJsZSA9ICJyZW5lc2FzLHJjYXItZ2VuMi1jbW0iLCB9LAorCXsgfSwKK307CitNT0RVTEVfREVW
SUNFX1RBQkxFKG9mLCByY2FyX2NtbV9vZl90YWJsZSk7CisKK3N0YXRpYyBzdHJ1Y3QgcGxhdGZv
cm1fZHJpdmVyIHJjYXJfY21tX3BsYXRmb3JtX2RyaXZlciA9IHsKKwkucHJvYmUJCT0gcmNhcl9j
bW1fcHJvYmUsCisJLnJlbW92ZQkJPSByY2FyX2NtbV9yZW1vdmUsCisJLmRyaXZlcgkJPSB7CisJ
CS5uYW1lCT0gInJjYXItY21tIiwKKwkJLm9mX21hdGNoX3RhYmxlID0gcmNhcl9jbW1fb2ZfdGFi
bGUsCisJfSwKK307CisKK21vZHVsZV9wbGF0Zm9ybV9kcml2ZXIocmNhcl9jbW1fcGxhdGZvcm1f
ZHJpdmVyKTsKKworTU9EVUxFX0FVVEhPUigiSmFjb3BvIE1vbmRpIDxqYWNvcG8rcmVuZXNhc0Bq
bW9uZGkub3JnPiIpOworTU9EVUxFX0RFU0NSSVBUSU9OKCJSZW5lc2FzIFItQ2FyIENNTSBEcml2
ZXIiKTsKK01PRFVMRV9MSUNFTlNFKCJHUEwgdjIiKTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9yY2FyLWR1L3JjYXJfY21tLmggYi9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2Nt
bS5oCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAwMC4uMzU4ZWMwM2NmNDhh
Ci0tLSAvZGV2L251bGwKKysrIGIvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9jbW0uaApA
QCAtMCwwICsxLDYwIEBACisvKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMCsgKi8K
Ky8qCisgKiByY2FyX2NtbS5oIC0tIFItQ2FyIERpc3BsYXkgVW5pdCBDb2xvciBNYW5hZ2VtZW50
IE1vZHVsZQorICoKKyAqIENvcHlyaWdodCAoQykgMjAxOSBKYWNvcG8gTW9uZGkgPGphY29wbyty
ZW5lc2FzQGptb25kaS5vcmc+CisgKi8KKworI2lmbmRlZiBfX1JDQVJfQ01NX0hfXworI2RlZmlu
ZSBfX1JDQVJfQ01NX0hfXworCisjZGVmaW5lIENNMl9MVVRfU0laRQkJMjU2CisKK3N0cnVjdCBk
cm1fY29sb3JfbHV0Oworc3RydWN0IHBsYXRmb3JtX2RldmljZTsKKworLyoqCisgKiBzdHJ1Y3Qg
cmNhcl9jbW1fY29uZmlnIC0gQ01NIGNvbmZpZ3VyYXRpb24KKyAqCisgKiBAbHV0OgkxRC1MVVQg
Y29uZmlndXJhdGlvbgorICogQGx1dC5lbmFibGU6CTFELUxVVCBlbmFibGUgZmxhZworICogQGx1
dC50YWJsZToJMUQtTFVUIHRhYmxlIGVudHJpZXMKKyAqLworc3RydWN0IHJjYXJfY21tX2NvbmZp
ZyB7CisJc3RydWN0IHsKKwkJYm9vbCBlbmFibGU7CisJCXN0cnVjdCBkcm1fY29sb3JfbHV0ICp0
YWJsZTsKKwl9IGx1dDsKK307CisKKyNpZiBJU19FTkFCTEVEKENPTkZJR19EUk1fUkNBUl9DTU0p
CitpbnQgcmNhcl9jbW1faW5pdChzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KTsKKworaW50
IHJjYXJfY21tX2VuYWJsZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KTsKK3ZvaWQgcmNh
cl9jbW1fZGlzYWJsZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KTsKKworaW50IHJjYXJf
Y21tX3NldHVwKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYsCisJCSAgIGNvbnN0IHN0cnVj
dCByY2FyX2NtbV9jb25maWcgKmNvbmZpZyk7CisjZWxzZQorc3RhdGljIGlubGluZSBpbnQgcmNh
cl9jbW1faW5pdChzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQoreworCXJldHVybiAtRU5P
REVWOworfQorCitzdGF0aWMgaW5saW5lIGludCByY2FyX2NtbV9lbmFibGUoc3RydWN0IHBsYXRm
b3JtX2RldmljZSAqcGRldikKK3sKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIGlubGluZSB2b2lk
IHJjYXJfY21tX2Rpc2FibGUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKK3sKK30KKwor
c3RhdGljIGlubGluZSBpbnQgcmNhcl9jbW1fc2V0dXAoc3RydWN0IHBsYXRmb3JtX2RldmljZSAq
cGRldiwKKwkJCQkgY29uc3Qgc3RydWN0IHJjYXJfY21tX2NvbmZpZyAqY29uZmlnKQoreworCXJl
dHVybiAwOworfQorI2VuZGlmIC8qIElTX0VOQUJMRUQoQ09ORklHX0RSTV9SQ0FSX0NNTSkgKi8K
KworI2VuZGlmIC8qIF9fUkNBUl9DTU1fSF9fICovCi0tIAoyLjIzLjAKCl9fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QK
ZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9w
Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
