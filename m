Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 6FCDFBB79A
	for <lists+dri-devel@lfdr.de>; Mon, 23 Sep 2019 17:12:32 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8C63B6E840;
	Mon, 23 Sep 2019 15:12:29 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ua1-f66.google.com (mail-ua1-f66.google.com
 [209.85.222.66])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E17FE6E840;
 Mon, 23 Sep 2019 15:12:27 +0000 (UTC)
Received: by mail-ua1-f66.google.com with SMTP id r19so4438963uap.9;
 Mon, 23 Sep 2019 08:12:27 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=s3kJHh6x6PZgjBD0We03FtFePJ26YGI0fd0dSyGdyrw=;
 b=nOczdpmQ9k5JBiIRfXVtcS27cdWI5OSTdF74vvXO1W45/0hJeiL/pUaZ/yF8KRcIId
 Ss0Ymw3RbUgWpsBuDrgZTGt4GMc9piYdDE/9XvNAXcEzSlMAxo4jvh5MwDfhP4We8qp5
 qiwvOvgpUbz59vhRxAWp+NpXPg9D4rsl0MnaEI0n/8t80ZSjW6jLpkYK7D/KoZj0jVFU
 KksR//0YRysoGV/QOBl6nKW4/137tES2llCydEF/Yy1lQnEcJjRwjF/bXwRpl/2u3r22
 WG8FqlEjshHPFBc1diy96RRriSmL9+kVGxh/v7giEb1VK1i8mMn+mvwvtZNiRyuMgriM
 9iUg==
X-Gm-Message-State: APjAAAX43eXj3FdJovSrYZ/i0wLADnn21PytrsdBqKBVTQMVg0IHeJdK
 IBUSYVMKecvQV6WXbs6mFoyewBuz1najNxo2x0A=
X-Google-Smtp-Source: APXvYqzQoQmYenWT7/Rp/GfofyPGwYSQdRq84aMIVrUQrSCxufEIPREpZK2n9BbCiTar8xtgEzovOQ3o2DCwEH89QN4=
X-Received: by 2002:a9f:21f6:: with SMTP id 109mr15199844uac.109.1569251546830; 
 Mon, 23 Sep 2019 08:12:26 -0700 (PDT)
MIME-Version: 1.0
References: <1569242880-182878-1-git-send-email-hjc@rock-chips.com>
 <1569242880-182878-3-git-send-email-hjc@rock-chips.com>
In-Reply-To: <1569242880-182878-3-git-send-email-hjc@rock-chips.com>
From: Ilia Mirkin <imirkin@alum.mit.edu>
Date: Mon, 23 Sep 2019 11:12:15 -0400
Message-ID: <CAKb7Uvgo=93HxGX9F9BvReKbPpbQRozztk0_+GXKqZ3PydCHsA@mail.gmail.com>
Subject: Re: [PATCH 13/36] drm/nouveau: use bpp instead of cpp for
 drm_format_info
To: Sandy Huang <hjc@rock-chips.com>
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: David Airlie <airlied@linux.ie>, nouveau <nouveau@lists.freedesktop.org>,
 LKML <linux-kernel@vger.kernel.org>,
 dri-devel <dri-devel@lists.freedesktop.org>, Ben Skeggs <bskeggs@redhat.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gTW9uLCBTZXAgMjMsIDIwMTkgYXQgODo1NiBBTSBTYW5keSBIdWFuZyA8aGpjQHJvY2stY2hp
cHMuY29tPiB3cm90ZToKPgo+IGNwcFtCeXRlUGVyUGxhbmVdIGNhbid0IGRlc2NyaWJlIHRoZSAx
MGJpdCBkYXRhIGZvcm1hdCBjb3JyZWN0bHksCj4gU28gd2UgdXNlIGJwcFtCaXRQZXJQbGFuZV0g
dG8gaW5zdGVhZCBjcHAuCj4KPiBTaWduZWQtb2ZmLWJ5OiBTYW5keSBIdWFuZyA8aGpjQHJvY2st
Y2hpcHMuY29tPgo+IC0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9kaXNwbnYwNC9jcnRj
LmMgICAgIHwgNyArKysrLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L2Rpc3BudjUwL2Jh
c2U1MDdjLmMgfCA0ICsrLS0KPiAgZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvZGlzcG52NTAvb3Zs
eTUwN2UuYyB8IDIgKy0KPiAgMyBmaWxlcyBjaGFuZ2VkLCA3IGluc2VydGlvbnMoKyksIDYgZGVs
ZXRpb25zKC0pCj4KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvZGlzcG52
MDQvY3J0Yy5jIGIvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvZGlzcG52MDQvY3J0Yy5jCj4gaW5k
ZXggZjIyZjAxMC4uNTlkMmYwNyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vbm91dmVh
dS9kaXNwbnYwNC9jcnRjLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9kaXNwbnYw
NC9jcnRjLmMKPiBAQCAtODc0LDExICs4NzQsMTIgQEAgbnYwNF9jcnRjX2RvX21vZGVfc2V0X2Jh
c2Uoc3RydWN0IGRybV9jcnRjICpjcnRjLAo+Cj4gICAgICAgICAvKiBVcGRhdGUgdGhlIGZyYW1l
YnVmZmVyIGxvY2F0aW9uLiAqLwo+ICAgICAgICAgcmVncC0+ZmJfc3RhcnQgPSBudl9jcnRjLT5m
Yi5vZmZzZXQgJiB+MzsKPiAtICAgICAgIHJlZ3AtPmZiX3N0YXJ0ICs9ICh5ICogZHJtX2ZiLT5w
aXRjaGVzWzBdKSArICh4ICogZHJtX2ZiLT5mb3JtYXQtPmNwcFswXSk7Cj4gKyAgICAgICByZWdw
LT5mYl9zdGFydCArPSAoeSAqIGRybV9mYi0+cGl0Y2hlc1swXSkgKwo+ICsgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgKHggKiBkcm1fZmItPmZvcm1hdC0+YnBwWzBdIC8gOCk7Cj4gICAg
ICAgICBudl9zZXRfY3J0Y19iYXNlKGRldiwgbnZfY3J0Yy0+aW5kZXgsIHJlZ3AtPmZiX3N0YXJ0
KTsKPgo+ICAgICAgICAgLyogVXBkYXRlIHRoZSBhcmJpdHJhdGlvbiBwYXJhbWV0ZXJzLiAqLwo+
IC0gICAgICAgbm91dmVhdV9jYWxjX2FyYihkZXYsIGNydGMtPm1vZGUuY2xvY2ssIGRybV9mYi0+
Zm9ybWF0LT5jcHBbMF0gKiA4LAo+ICsgICAgICAgbm91dmVhdV9jYWxjX2FyYihkZXYsIGNydGMt
Pm1vZGUuY2xvY2ssIGRybV9mYi0+Zm9ybWF0LT5icHBbMF0sCj4gICAgICAgICAgICAgICAgICAg
ICAgICAgICZhcmJfYnVyc3QsICZhcmJfbHdtKTsKPgo+ICAgICAgICAgcmVncC0+Q1JUQ1tOVl9D
SU9fQ1JFX0ZGX0lOREVYXSA9IGFyYl9idXJzdDsKPiBAQCAtMTIzOCw3ICsxMjM5LDcgQEAgbnYw
NF9jcnRjX3BhZ2VfZmxpcChzdHJ1Y3QgZHJtX2NydGMgKmNydGMsIHN0cnVjdCBkcm1fZnJhbWVi
dWZmZXIgKmZiLAo+Cj4gICAgICAgICAvKiBJbml0aWFsaXplIGEgcGFnZSBmbGlwIHN0cnVjdCAq
Lwo+ICAgICAgICAgKnMgPSAoc3RydWN0IG52MDRfcGFnZV9mbGlwX3N0YXRlKQo+IC0gICAgICAg
ICAgICAgICB7IHsgfSwgZXZlbnQsIGNydGMsIGZiLT5mb3JtYXQtPmNwcFswXSAqIDgsIGZiLT5w
aXRjaGVzWzBdLAo+ICsgICAgICAgICAgICAgICB7IHsgfSwgZXZlbnQsIGNydGMsIGZiLT5mb3Jt
YXQtPmJwcFswXSwgZmItPnBpdGNoZXNbMF0sCj4gICAgICAgICAgICAgICAgICAgbmV3X2JvLT5i
by5vZmZzZXQgfTsKPgo+ICAgICAgICAgLyogS2VlcCB2YmxhbmtzIG9uIGR1cmluZyBmbGlwLCBm
b3IgdGhlIHRhcmdldCBjcnRjIG9mIHRoaXMgZmxpcCAqLwo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vbm91dmVhdS9kaXNwbnY1MC9iYXNlNTA3Yy5jIGIvZHJpdmVycy9ncHUvZHJtL25v
dXZlYXUvZGlzcG52NTAvYmFzZTUwN2MuYwo+IGluZGV4IGQ1ZTI5NWMuLjU5ODgzYmQwIDEwMDY0
NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L2Rpc3BudjUwL2Jhc2U1MDdjLmMKPiAr
KysgYi9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9kaXNwbnY1MC9iYXNlNTA3Yy5jCj4gQEAgLTE5
MCwxMiArMTkwLDEyIEBAIGJhc2U1MDdjX2FjcXVpcmUoc3RydWN0IG52NTBfd25kdyAqd25kdywg
c3RydWN0IG52NTBfd25kd19hdG9tICphc3l3LAo+ICAgICAgICAgICAgICAgICByZXR1cm4gcmV0
Owo+Cj4gICAgICAgICBpZiAoIXduZHctPmZ1bmMtPmlsdXQpIHsKPiAtICAgICAgICAgICAgICAg
aWYgKChhc3loLT5iYXNlLmNwcCAhPSAxKSBeIChmYi0+Zm9ybWF0LT5jcHBbMF0gIT0gMSkpCj4g
KyAgICAgICAgICAgICAgIGlmIChhc3loLT5iYXNlLmNwcCAhPSAxIF4gZmItPmZvcm1hdC0+YnBw
WzBdICE9IDgpCgpQbGVhc2UgbGVhdmUgdGhlIHBhcmVucyBpbi4gRXZlbiBpZiBpdCB3b3JrcyBv
dXQgdG8gdGhlIHNhbWUgdGhpbmcKKGRvbid0IGtub3cpLCBeIHZzICE9IG9yZGVyaW5nIGlzbid0
IGZyZXNoIGluIG1hbnkgcGVvcGxlJ3MgbWluZHMKKG1pbmUgaW5jbHVkZWQpLgoKPiAgICAgICAg
ICAgICAgICAgICAgICAgICBhc3loLT5zdGF0ZS5jb2xvcl9tZ210X2NoYW5nZWQgPSB0cnVlOwo+
ICAgICAgICAgfQo+Cj4gICAgICAgICBhc3loLT5iYXNlLmRlcHRoID0gZmItPmZvcm1hdC0+ZGVw
dGg7Cj4gLSAgICAgICBhc3loLT5iYXNlLmNwcCA9IGZiLT5mb3JtYXQtPmNwcFswXTsKPiArICAg
ICAgIGFzeWgtPmJhc2UuY3BwID0gZmItPmZvcm1hdC0+YnBwWzBdIC8gODsKPiAgICAgICAgIGFz
eWgtPmJhc2UueCA9IGFzeXctPnN0YXRlLnNyYy54MSA+PiAxNjsKPiAgICAgICAgIGFzeWgtPmJh
c2UueSA9IGFzeXctPnN0YXRlLnNyYy55MSA+PiAxNjsKPiAgICAgICAgIGFzeWgtPmJhc2UudyA9
IGFzeXctPnN0YXRlLmZiLT53aWR0aDsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL25v
dXZlYXUvZGlzcG52NTAvb3ZseTUwN2UuYyBiL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L2Rpc3Bu
djUwL292bHk1MDdlLmMKPiBpbmRleCBjYzQxNzY2Li5jNmMyZTBiIDEwMDY0NAo+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9ub3V2ZWF1L2Rpc3BudjUwL292bHk1MDdlLmMKPiArKysgYi9kcml2ZXJz
L2dwdS9kcm0vbm91dmVhdS9kaXNwbnY1MC9vdmx5NTA3ZS5jCj4gQEAgLTEzNSw3ICsxMzUsNyBA
QCBvdmx5NTA3ZV9hY3F1aXJlKHN0cnVjdCBudjUwX3duZHcgKnduZHcsIHN0cnVjdCBudjUwX3du
ZHdfYXRvbSAqYXN5dywKPiAgICAgICAgIGlmIChyZXQpCj4gICAgICAgICAgICAgICAgIHJldHVy
biByZXQ7Cj4KPiAtICAgICAgIGFzeWgtPm92bHkuY3BwID0gZmItPmZvcm1hdC0+Y3BwWzBdOwo+
ICsgICAgICAgYXN5aC0+b3ZseS5jcHAgPSBmYi0+Zm9ybWF0LT5icHBbMF0gLyA4Owo+ICAgICAg
ICAgcmV0dXJuIDA7Cj4gIH0KPgo+IC0tCj4gMi43LjQKPgo+Cj4KPiBfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwo+IGRyaS1kZXZlbCBtYWlsaW5nIGxpc3QK
PiBkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCj4gaHR0cHM6Ly9saXN0cy5mcmVlZGVz
a3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWwKX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2
ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21h
aWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
