Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 3380F286324
	for <lists+dri-devel@lfdr.de>; Wed,  7 Oct 2020 18:04:48 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3433E6E0F8;
	Wed,  7 Oct 2020 16:04:46 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail.kernel.org (mail.kernel.org [198.145.29.99])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3BFF56E0E6;
 Wed,  7 Oct 2020 16:04:44 +0000 (UTC)
Received: from embeddedor (187-162-31-110.static.axtel.net [187.162.31.110])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
 (No client certificate requested)
 by mail.kernel.org (Postfix) with ESMTPSA id 94FC1216C4;
 Wed,  7 Oct 2020 16:04:42 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
 s=default; t=1602086683;
 bh=Afpoi0axZ63mSzi9LUVJhYqlciQbhzVpxbkFCpclXHI=;
 h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
 b=YbEwHOL6kLktQ/Z9t+jJPTlmu8CJwv+nelU6Z5CYjF82+UW5enSegQzU8yTye9H9h
 0mJzWw0fPpELJrlwbVjBuqMfGZx7v2T6lewPGPzmoV4V2GdsCjoAeMHzgEPMZoUGJy
 GF8Ay1rkhrwvdw0MvcRgPGhvWA5pXo+vQKMFlY1o=
Date: Wed, 7 Oct 2020 11:10:44 -0500
From: "Gustavo A. R. Silva" <gustavoars@kernel.org>
To: linux-kernel@vger.kernel.org
Subject: [PATCH 13/14] drm/amd/pm: Replace one-element array with
 flexible-array in struct phm_ppt_v1_pcie_table
Message-ID: <1f91ef3bc6aeb8adb7362166f09076ddbe13182f.1602020074.git.gustavoars@kernel.org>
References: <cover.1602020074.git.gustavoars@kernel.org>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <cover.1602020074.git.gustavoars@kernel.org>
User-Agent: Mutt/1.9.4 (2018-02-28)
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: David Airlie <airlied@linux.ie>, dri-devel@lists.freedesktop.org,
 "Gustavo A. R. Silva" <gustavoars@kernel.org>, amd-gfx@lists.freedesktop.org,
 linux-hardening@vger.kernel.org, Alex Deucher <alexander.deucher@amd.com>,
 Christian =?iso-8859-1?Q?K=F6nig?= <christian.koenig@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlcmUgaXMgYSByZWd1bGFyIG5lZWQgaW4gdGhlIGtlcm5lbCB0byBwcm92aWRlIGEgd2F5IHRv
IGRlY2xhcmUgaGF2aW5nCmEgZHluYW1pY2FsbHkgc2l6ZWQgc2V0IG9mIHRyYWlsaW5nIGVsZW1l
bnRzIGluIGEgc3RydWN0dXJlLiBLZXJuZWwgY29kZQpzaG91bGQgYWx3YXlzIHVzZSDigJxmbGV4
aWJsZSBhcnJheSBtZW1iZXJz4oCdWzFdIGZvciB0aGVzZSBjYXNlcy4gVGhlIG9sZGVyCnN0eWxl
IG9mIG9uZS1lbGVtZW50IG9yIHplcm8tbGVuZ3RoIGFycmF5cyBzaG91bGQgbm8gbG9uZ2VyIGJl
IHVzZWRbMl0uCgpSZWZhY3RvciB0aGUgY29kZSBhY2NvcmRpbmcgdG8gdGhlIHVzZSBvZiBhIGZs
ZXhpYmxlLWFycmF5IG1lbWJlciBpbgpzdHJ1Y3QgcGhtX3BwdF92MV9wY2llX3RhYmxlLCBpbnN0
ZWFkIG9mIGEgb25lLWVsZW1lbnQgYXJyYXksIGFuZCB1c2UKdGhlIHN0cnVjdF9zaXplKCkgaGVs
cGVyIHRvIGNhbGN1bGF0ZSB0aGUgc2l6ZSBmb3IgdGhlIGFsbG9jYXRpb24uCgpbMV0gaHR0cHM6
Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRmxleGlibGVfYXJyYXlfbWVtYmVyClsyXSBodHRwczov
L3d3dy5rZXJuZWwub3JnL2RvYy9odG1sL3Y1LjktcmMxL3Byb2Nlc3MvZGVwcmVjYXRlZC5odG1s
I3plcm8tbGVuZ3RoLWFuZC1vbmUtZWxlbWVudC1hcnJheXMKCkJ1aWxkLXRlc3RlZC1ieToga2Vy
bmVsIHRlc3Qgcm9ib3QgPGxrcEBpbnRlbC5jb20+Ckxpbms6IGh0dHBzOi8vbG9yZS5rZXJuZWwu
b3JnL2xrbWwvNWY3ZGIwYmMuN1hpdm40SzgzZjdYVzB1ZyUyNWxrcEBpbnRlbC5jb20vClNpZ25l
ZC1vZmYtYnk6IEd1c3Rhdm8gQS4gUi4gU2lsdmEgPGd1c3Rhdm9hcnNAa2VybmVsLm9yZz4KLS0t
CiAuLi4vZHJtL2FtZC9wbS9wb3dlcnBsYXkvaHdtZ3IvaHdtZ3JfcHB0LmggICAgfCAgMiArLQog
Li4uL3Bvd2VycGxheS9od21nci9wcm9jZXNzX3BwdGFibGVzX3YxXzAuYyAgIHwgMjIgKysrKysr
KystLS0tLS0tLS0tLQogLi4uL3Bvd2VycGxheS9od21nci92ZWdhMTBfcHJvY2Vzc3BwdGFibGVz
LmMgIHwgMTAgKysrLS0tLS0tCiAzIGZpbGVzIGNoYW5nZWQsIDEzIGluc2VydGlvbnMoKyksIDIx
IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG0vcG93ZXJw
bGF5L2h3bWdyL2h3bWdyX3BwdC5oIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wbS9wb3dlcnBsYXkv
aHdtZ3IvaHdtZ3JfcHB0LmgKaW5kZXggZTExMjk4Y2RlYjMwLi43Mjk2MTVhZmYxMjYgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG0vcG93ZXJwbGF5L2h3bWdyL2h3bWdyX3BwdC5o
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG0vcG93ZXJwbGF5L2h3bWdyL2h3bWdyX3BwdC5o
CkBAIC0xMDMsNyArMTAzLDcgQEAgdHlwZWRlZiBzdHJ1Y3QgcGhtX3BwdF92MV9wY2llX3JlY29y
ZCBwaG1fcHB0X3YxX3BjaWVfcmVjb3JkOwogCiBzdHJ1Y3QgcGhtX3BwdF92MV9wY2llX3RhYmxl
IHsKIAl1aW50MzJfdCBjb3VudDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIC8qIE51bWJlciBvZiBlbnRyaWVzLiAqLwotCXBobV9wcHRfdjFfcGNpZV9yZWNvcmQg
ZW50cmllc1sxXTsgICAgICAgICAgICAgICAgICAgICAgICAgLyogRHluYW1pY2FsbHkgYWxsb2Nh
dGUgY291bnQgZW50cmllcy4gKi8KKwlwaG1fcHB0X3YxX3BjaWVfcmVjb3JkIGVudHJpZXNbXTsJ
CQkgICAvKiBEeW5hbWljYWxseSBhbGxvY2F0ZSBjb3VudCBlbnRyaWVzLiAqLwogfTsKIHR5cGVk
ZWYgc3RydWN0IHBobV9wcHRfdjFfcGNpZV90YWJsZSBwaG1fcHB0X3YxX3BjaWVfdGFibGU7CiAK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG0vcG93ZXJwbGF5L2h3bWdyL3Byb2Nl
c3NfcHB0YWJsZXNfdjFfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wbS9wb3dlcnBsYXkvaHdt
Z3IvcHJvY2Vzc19wcHRhYmxlc192MV8wLmMKaW5kZXggNDI2NjU1YjljNjc4Li40ZmE1ODYxNGUy
NmEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG0vcG93ZXJwbGF5L2h3bWdyL3By
b2Nlc3NfcHB0YWJsZXNfdjFfMC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG0vcG93ZXJw
bGF5L2h3bWdyL3Byb2Nlc3NfcHB0YWJsZXNfdjFfMC5jCkBAIC00NzgsNyArNDc4LDcgQEAgc3Rh
dGljIGludCBnZXRfcGNpZV90YWJsZSgKIAkJUFBUYWJsZV9HZW5lcmljX1N1YlRhYmxlX0hlYWRl
ciBjb25zdCAqcHRhYmxlCiAJCSkKIHsKLQl1aW50MzJfdCB0YWJsZV9zaXplLCBpLCBwY2llX2Nv
dW50OworCXVpbnQzMl90IGksIHBjaWVfY291bnQ7CiAJcGhtX3BwdF92MV9wY2llX3RhYmxlICpw
Y2llX3RhYmxlOwogCXN0cnVjdCBwaG1fcHB0X3YxX2luZm9ybWF0aW9uICpwcF90YWJsZV9pbmZv
cm1hdGlvbiA9CiAJCShzdHJ1Y3QgcGhtX3BwdF92MV9pbmZvcm1hdGlvbiAqKShod21nci0+cHB0
YWJsZSk7CkBAIC00OTEsMTIgKzQ5MSwxMCBAQCBzdGF0aWMgaW50IGdldF9wY2llX3RhYmxlKAog
CQlQUF9BU1NFUlRfV0lUSF9DT0RFKChhdG9tX3BjaWVfdGFibGUtPnVjTnVtRW50cmllcyAhPSAw
KSwKIAkJCSJJbnZhbGlkIFBvd2VyUGxheSBUYWJsZSEiLCByZXR1cm4gLTEpOwogCi0JCXRhYmxl
X3NpemUgPSBzaXplb2YodWludDMyX3QpICsKLQkJCXNpemVvZihwaG1fcHB0X3YxX3BjaWVfcmVj
b3JkKSAqIGF0b21fcGNpZV90YWJsZS0+dWNOdW1FbnRyaWVzOwotCi0JCXBjaWVfdGFibGUgPSBr
emFsbG9jKHRhYmxlX3NpemUsIEdGUF9LRVJORUwpOwotCi0JCWlmIChwY2llX3RhYmxlID09IE5V
TEwpCisJCXBjaWVfdGFibGUgPSBremFsbG9jKHN0cnVjdF9zaXplKHBjaWVfdGFibGUsIGVudHJp
ZXMsCisJCQkJCQkgYXRvbV9wY2llX3RhYmxlLT51Y051bUVudHJpZXMpLAorCQkJCSAgICAgR0ZQ
X0tFUk5FTCk7CisJCWlmICghcGNpZV90YWJsZSkKIAkJCXJldHVybiAtRU5PTUVNOwogCiAJCS8q
CkBAIC01MzAsMTIgKzUyOCwxMCBAQCBzdGF0aWMgaW50IGdldF9wY2llX3RhYmxlKAogCQlQUF9B
U1NFUlRfV0lUSF9DT0RFKChhdG9tX3BjaWVfdGFibGUtPnVjTnVtRW50cmllcyAhPSAwKSwKIAkJ
CSJJbnZhbGlkIFBvd2VyUGxheSBUYWJsZSEiLCByZXR1cm4gLTEpOwogCi0JCXRhYmxlX3NpemUg
PSBzaXplb2YodWludDMyX3QpICsKLQkJCXNpemVvZihwaG1fcHB0X3YxX3BjaWVfcmVjb3JkKSAq
IGF0b21fcGNpZV90YWJsZS0+dWNOdW1FbnRyaWVzOwotCi0JCXBjaWVfdGFibGUgPSBremFsbG9j
KHRhYmxlX3NpemUsIEdGUF9LRVJORUwpOwotCi0JCWlmIChwY2llX3RhYmxlID09IE5VTEwpCisJ
CXBjaWVfdGFibGUgPSBremFsbG9jKHN0cnVjdF9zaXplKHBjaWVfdGFibGUsIGVudHJpZXMsCisJ
CQkJCQkgYXRvbV9wY2llX3RhYmxlLT51Y051bUVudHJpZXMpLAorCQkJCSAgICAgR0ZQX0tFUk5F
TCk7CisJCWlmICghcGNpZV90YWJsZSkKIAkJCXJldHVybiAtRU5PTUVNOwogCiAJCS8qCmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3BtL3Bvd2VycGxheS9od21nci92ZWdhMTBfcHJv
Y2Vzc3BwdGFibGVzLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3BtL3Bvd2VycGxheS9od21nci92
ZWdhMTBfcHJvY2Vzc3BwdGFibGVzLmMKaW5kZXggM2Q3ZjkxNTM4MWM4Li41MzU0MDRkZTc4YTIg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG0vcG93ZXJwbGF5L2h3bWdyL3ZlZ2Ex
MF9wcm9jZXNzcHB0YWJsZXMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3BtL3Bvd2VycGxh
eS9od21nci92ZWdhMTBfcHJvY2Vzc3BwdGFibGVzLmMKQEAgLTc4NCw3ICs3ODQsNyBAQCBzdGF0
aWMgaW50IGdldF9wY2llX3RhYmxlKHN0cnVjdCBwcF9od21nciAqaHdtZ3IsCiAJCXN0cnVjdCBw
aG1fcHB0X3YxX3BjaWVfdGFibGUgKip2ZWdhMTBfcGNpZV90YWJsZSwKIAkJY29uc3QgVmVnYTEw
X1BQVGFibGVfR2VuZXJpY19TdWJUYWJsZV9IZWFkZXIgKnRhYmxlKQogewotCXVpbnQzMl90IHRh
YmxlX3NpemUsIGksIHBjaWVfY291bnQ7CisJdWludDMyX3QgaSwgcGNpZV9jb3VudDsKIAlzdHJ1
Y3QgcGhtX3BwdF92MV9wY2llX3RhYmxlICpwY2llX3RhYmxlOwogCXN0cnVjdCBwaG1fcHB0X3Yy
X2luZm9ybWF0aW9uICp0YWJsZV9pbmZvID0KIAkJCShzdHJ1Y3QgcGhtX3BwdF92Ml9pbmZvcm1h
dGlvbiAqKShod21nci0+cHB0YWJsZSk7CkBAIC03OTUsMTIgKzc5NSw4IEBAIHN0YXRpYyBpbnQg
Z2V0X3BjaWVfdGFibGUoc3RydWN0IHBwX2h3bWdyICpod21nciwKIAkJCSJJbnZhbGlkIFBvd2Vy
UGxheSBUYWJsZSEiLAogCQkJcmV0dXJuIDApOwogCi0JdGFibGVfc2l6ZSA9IHNpemVvZih1aW50
MzJfdCkgKwotCQkJc2l6ZW9mKHN0cnVjdCBwaG1fcHB0X3YxX3BjaWVfcmVjb3JkKSAqCi0JCQlh
dG9tX3BjaWVfdGFibGUtPnVjTnVtRW50cmllczsKLQotCXBjaWVfdGFibGUgPSBremFsbG9jKHRh
YmxlX3NpemUsIEdGUF9LRVJORUwpOwotCisJcGNpZV90YWJsZSA9IGt6YWxsb2Moc3RydWN0X3Np
emUocGNpZV90YWJsZSwgZW50cmllcywgYXRvbV9wY2llX3RhYmxlLT51Y051bUVudHJpZXMpLAor
CQkJICAgICBHRlBfS0VSTkVMKTsKIAlpZiAoIXBjaWVfdGFibGUpCiAJCXJldHVybiAtRU5PTUVN
OwogCi0tIAoyLjI3LjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9w
Lm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1k
ZXZlbAo=
