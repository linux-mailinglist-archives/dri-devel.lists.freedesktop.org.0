Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 9A329DE941
	for <lists+dri-devel@lfdr.de>; Mon, 21 Oct 2019 12:20:13 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 27BFB89E41;
	Mon, 21 Oct 2019 10:20:09 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wr1-x443.google.com (mail-wr1-x443.google.com
 [IPv6:2a00:1450:4864:20::443])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8D1BE89E43
 for <dri-devel@lists.freedesktop.org>; Mon, 21 Oct 2019 10:20:03 +0000 (UTC)
Received: by mail-wr1-x443.google.com with SMTP id p4so13259002wrm.8
 for <dri-devel@lists.freedesktop.org>; Mon, 21 Oct 2019 03:20:03 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:date:from:to:cc:subject:message-id:references
 :mime-version:content-disposition:in-reply-to:user-agent;
 bh=9qOg0hyHvT7VI0+XjvFR/nVuns2MpJQHt/W2vk31HGE=;
 b=JoYGg2pK+waEH/x37poQj9Vk0xeXaWRwzKoeX20I/jBmM5kFM9lR80xRpVuqHSWQm3
 SJ+z9f7VDyRYGQ9Oxnkg4YAm1Hwa+U77RN83Pb+JPLEJspQ8pUJFCXbemltuMCaz0YJr
 wECSe8yCn6q1KEDLYBPtjVD1KePtgnG/mvHLZAWMYL37eWYTQqNc8HGQC96KEer5Jm9Z
 aY7VbMw6D9USFPuObN7sPDAWzJnsXGEPlblu6ocwp8ng3DhGl5SGfs5DXql4VWcApU+9
 Fyd1xMaaducW3tZ/twiMEMG1AiOfHuACWyTWmETnUjDEfI7Kw02QznB1kCueHodf3fq/
 iRgQ==
X-Gm-Message-State: APjAAAVf9j5DyBDh6x9EoFEl5gmWksREfYiOkjwtU2AuNKCPyG3NY7ye
 b1Y9nHJS0GuhL3G8hU1/tVO2Wg==
X-Google-Smtp-Source: APXvYqyFSTkr20CWn18u4aAFO7Fxo4R+H0u2DRmGOgMD1KUE+G3H5L5n+vfU8SVfs7/yL+VmNmS3fg==
X-Received: by 2002:adf:b1d1:: with SMTP id r17mr4553983wra.201.1571653201995; 
 Mon, 21 Oct 2019 03:20:01 -0700 (PDT)
Received: from holly.lan (cpc141214-aztw34-2-0-cust773.18-1.cable.virginm.net.
 [86.9.19.6])
 by smtp.gmail.com with ESMTPSA id 126sm14864076wma.48.2019.10.21.03.20.00
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Mon, 21 Oct 2019 03:20:01 -0700 (PDT)
Date: Mon, 21 Oct 2019 11:19:59 +0100
From: Daniel Thompson <daniel.thompson@linaro.org>
To: Kiran Gunda <kgunda@codeaurora.org>
Subject: Re: [PATCH V8 4/6] backlight: qcom-wled: Add support for WLED4
 peripheral.
Message-ID: <20191021101959.qi5ugkofphaffspj@holly.lan>
References: <1571402009-8706-1-git-send-email-kgunda@codeaurora.org>
 <1571402009-8706-5-git-send-email-kgunda@codeaurora.org>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <1571402009-8706-5-git-send-email-kgunda@codeaurora.org>
User-Agent: NeoMutt/20180716
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=linaro.org; s=google;
 h=date:from:to:cc:subject:message-id:references:mime-version
 :content-disposition:in-reply-to:user-agent;
 bh=9qOg0hyHvT7VI0+XjvFR/nVuns2MpJQHt/W2vk31HGE=;
 b=OFGLzuQnZEm3SiLn27R7u3Kurrl5dK/BghyoqQrgcdvkKHLbN/QzM+9EiS+Fcaja3U
 KuWKGFFaoY0tMEmZXm/Hqbdp9tvUnMJUkMsP44Igi2KtZQRfMmNQhrwo1e+3LVqRXjDF
 PARTGP3zq9Z6DvqT4PreGnoHMOhPx1e+bUFcV1+FPdlmdGLSJ4Gue+JE4F5YgTWthGvz
 cJztLQx7VWSqhEOEbxITH5DwMBlHQOczoWrTEHQw2GO+qjwYJsSpoox0Vz1qQS2Les68
 j8MxwD57j65PYr5h6D7vJ2grY2hJGraSZS4fOaky0NHQiJfZbgwvi5FK/xRvOm8pgQKd
 Bo7g==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: mark.rutland@arm.com, devicetree@vger.kernel.org,
 linux-fbdev@vger.kernel.org, b.zolnierkie@samsung.com, jingoohan1@gmail.com,
 Andy Gross <agross@kernel.org>, linux-kernel@vger.kernel.org,
 dri-devel@lists.freedesktop.org, bjorn.andersson@linaro.org,
 robh+dt@kernel.org, jacek.anaszewski@gmail.com, pavel@ucw.cz,
 linux-arm-msm@vger.kernel.org, lee.jones@linaro.org,
 linux-leds@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gRnJpLCBPY3QgMTgsIDIwMTkgYXQgMDY6MDM6MjdQTSArMDUzMCwgS2lyYW4gR3VuZGEgd3Jv
dGU6Cj4gV0xFRDQgcGVyaXBoZXJhbCBpcyBwcmVzZW50IG9uIHNvbWUgUE1JQ3MgbGlrZSBwbWk4
OTk4IGFuZAo+IHBtNjYwbC4gSXQgaGFzIGEgZGlmZmVyZW50IHJlZ2lzdGVyIG1hcCBhbmQgY29u
ZmlndXJhdGlvbnMKPiBhcmUgYWxzbyBkaWZmZXJlbnQuIEFkZCBzdXBwb3J0IGZvciBpdC4KPiAK
PiBTaWduZWQtb2ZmLWJ5OiBLaXJhbiBHdW5kYSA8a2d1bmRhQGNvZGVhdXJvcmEub3JnPgo+IFJl
dmlld2VkLWJ5OiBCam9ybiBBbmRlcnNzb24gPGJqb3JuLmFuZGVyc3NvbkBsaW5hcm8ub3JnPgoK
UmV2aWV3ZWQtYnk6IERhbmllbCBUaG9tcHNvbiA8ZGFuaWVsLnRob21wc29uQGxpbmFyby5vcmc+
Cgo+IC0tLQo+ICBkcml2ZXJzL3ZpZGVvL2JhY2tsaWdodC9xY29tLXdsZWQuYyB8IDI1NSArKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKy0KPiAgMSBmaWxlIGNoYW5nZWQsIDI1MyBp
bnNlcnRpb25zKCspLCAyIGRlbGV0aW9ucygtKQo+IAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3Zp
ZGVvL2JhY2tsaWdodC9xY29tLXdsZWQuYyBiL2RyaXZlcnMvdmlkZW8vYmFja2xpZ2h0L3Fjb20t
d2xlZC5jCj4gaW5kZXggNDVlZWRhNC4uNTM4NmNhOSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL3Zp
ZGVvL2JhY2tsaWdodC9xY29tLXdsZWQuYwo+ICsrKyBiL2RyaXZlcnMvdmlkZW8vYmFja2xpZ2h0
L3Fjb20td2xlZC5jCj4gQEAgLTE3LDcgKzE3LDcgQEAKPiAgCj4gICNkZWZpbmUgV0xFRDNfU0lO
S19SRUdfQlJJR0hUX01BWAkJCTB4RkZGCj4gIAo+IC0vKiBXTEVEMyBjb250cm9sIHJlZ2lzdGVy
cyAqLwo+ICsvKiBXTEVEMy9XTEVENCBjb250cm9sIHJlZ2lzdGVycyAqLwo+ICAjZGVmaW5lIFdM
RUQzX0NUUkxfUkVHX01PRF9FTgkJCQkweDQ2Cj4gICNkZWZpbmUgIFdMRUQzX0NUUkxfUkVHX01P
RF9FTl9NQVNLCQkJQklUKDcpCj4gICNkZWZpbmUgIFdMRUQzX0NUUkxfUkVHX01PRF9FTl9TSElG
VAkJCTcKPiBAQCAtMzEsNyArMzEsNyBAQAo+ICAjZGVmaW5lIFdMRUQzX0NUUkxfUkVHX0lMSU1J
VAkJCQkweDRlCj4gICNkZWZpbmUgIFdMRUQzX0NUUkxfUkVHX0lMSU1JVF9NQVNLCQkJR0VOTUFT
SygyLCAwKQo+ICAKPiAtLyogV0xFRDMgc2luayByZWdpc3RlcnMgKi8KPiArLyogV0xFRDMvV0xF
RDQgc2luayByZWdpc3RlcnMgKi8KPiAgI2RlZmluZSBXTEVEM19TSU5LX1JFR19TWU5DCQkJCTB4
NDcKPiAgI2RlZmluZSAgV0xFRDNfU0lOS19SRUdfU1lOQ19DTEVBUgkJCTB4MDAKPiAgCj4gQEAg
LTU2LDYgKzU2LDI4IEBACj4gICNkZWZpbmUgV0xFRDNfU0lOS19SRUdfU1RSX0NBQkMobikJCQko
MHg2NiArIChuICogMHgxMCkpCj4gICNkZWZpbmUgIFdMRUQzX1NJTktfUkVHX1NUUl9DQUJDX01B
U0sJCQlCSVQoNykKPiAgCj4gKy8qIFdMRUQ0IHNwZWNpZmljIHNpbmsgcmVnaXN0ZXJzICovCj4g
KyNkZWZpbmUgV0xFRDRfU0lOS19SRUdfQ1VSUl9TSU5LCQkJMHg0Ngo+ICsjZGVmaW5lICBXTEVE
NF9TSU5LX1JFR19DVVJSX1NJTktfTUFTSwkJCUdFTk1BU0soNywgNCkKPiArI2RlZmluZSAgV0xF
RDRfU0lOS19SRUdfQ1VSUl9TSU5LX1NIRlQJCQk0Cj4gKwo+ICsvKiBXTEVENCBzcGVjaWZpYyBw
ZXItJ3N0cmluZycgcmVnaXN0ZXJzIGJlbG93ICovCj4gKyNkZWZpbmUgV0xFRDRfU0lOS19SRUdf
U1RSX01PRF9FTihuKQkJCSgweDUwICsgKG4gKiAweDEwKSkKPiArI2RlZmluZSAgV0xFRDRfU0lO
S19SRUdfU1RSX01PRF9NQVNLCQkJQklUKDcpCj4gKwo+ICsjZGVmaW5lIFdMRUQ0X1NJTktfUkVH
X1NUUl9GVUxMX1NDQUxFX0NVUlIobikJCSgweDUyICsgKG4gKiAweDEwKSkKPiArI2RlZmluZSAg
V0xFRDRfU0lOS19SRUdfU1RSX0ZVTExfU0NBTEVfQ1VSUl9NQVNLCUdFTk1BU0soMywgMCkKPiAr
Cj4gKyNkZWZpbmUgV0xFRDRfU0lOS19SRUdfU1RSX01PRF9TUkMobikJCQkoMHg1MyArIChuICog
MHgxMCkpCj4gKyNkZWZpbmUgIFdMRUQ0X1NJTktfUkVHX1NUUl9NT0RfU1JDX01BU0sJCUJJVCgw
KQo+ICsjZGVmaW5lICBXTEVENF9TSU5LX1JFR19TVFJfTU9EX1NSQ19JTlQJCQkweDAwCj4gKyNk
ZWZpbmUgIFdMRUQ0X1NJTktfUkVHX1NUUl9NT0RfU1JDX0VYVAkJCTB4MDEKPiArCj4gKyNkZWZp
bmUgV0xFRDRfU0lOS19SRUdfU1RSX0NBQkMobikJCQkoMHg1NiArIChuICogMHgxMCkpCj4gKyNk
ZWZpbmUgIFdMRUQ0X1NJTktfUkVHX1NUUl9DQUJDX01BU0sJCQlCSVQoNykKPiArCj4gKyNkZWZp
bmUgV0xFRDRfU0lOS19SRUdfQlJJR0hUKG4pCQkJKDB4NTcgKyAobiAqIDB4MTApKQo+ICsKPiAg
c3RydWN0IHdsZWRfdmFyX2NmZyB7Cj4gIAljb25zdCB1MzIgKnZhbHVlczsKPiAgCXUzMiAoKmZu
KSh1MzIpOwo+IEBAIC05MCw2ICsxMTIsNyBAQCBzdHJ1Y3Qgd2xlZCB7Cj4gIAlzdHJ1Y3QgZGV2
aWNlICpkZXY7Cj4gIAlzdHJ1Y3QgcmVnbWFwICpyZWdtYXA7Cj4gIAl1MTYgY3RybF9hZGRyOwo+
ICsJdTE2IHNpbmtfYWRkcjsKPiAgCXUxNiBtYXhfc3RyaW5nX2NvdW50Owo+ICAJdTMyIGJyaWdo
dG5lc3M7Cj4gIAl1MzIgbWF4X2JyaWdodG5lc3M7Cj4gQEAgLTExNiw2ICsxMzksMjkgQEAgc3Rh
dGljIGludCB3bGVkM19zZXRfYnJpZ2h0bmVzcyhzdHJ1Y3Qgd2xlZCAqd2xlZCwgdTE2IGJyaWdo
dG5lc3MpCj4gIAlyZXR1cm4gMDsKPiAgfQo+ICAKPiArc3RhdGljIGludCB3bGVkNF9zZXRfYnJp
Z2h0bmVzcyhzdHJ1Y3Qgd2xlZCAqd2xlZCwgdTE2IGJyaWdodG5lc3MpCj4gK3sKPiArCWludCBy
YywgaTsKPiArCXUxNiBsb3dfbGltaXQgPSB3bGVkLT5tYXhfYnJpZ2h0bmVzcyAqIDQgLyAxMDAw
Owo+ICsJdTggdlsyXTsKPiArCj4gKwkvKiBXTEVENCdzIGxvd2VyIGxpbWl0IG9mIG9wZXJhdGlv
biBpcyAwLjQlICovCj4gKwlpZiAoYnJpZ2h0bmVzcyA+IDAgJiYgYnJpZ2h0bmVzcyA8IGxvd19s
aW1pdCkKPiArCQlicmlnaHRuZXNzID0gbG93X2xpbWl0Owo+ICsKPiArCXZbMF0gPSBicmlnaHRu
ZXNzICYgMHhmZjsKPiArCXZbMV0gPSAoYnJpZ2h0bmVzcyA+PiA4KSAmIDB4ZjsKPiArCj4gKwlm
b3IgKGkgPSAwOyAgaSA8IHdsZWQtPmNmZy5udW1fc3RyaW5nczsgKytpKSB7Cj4gKwkJcmMgPSBy
ZWdtYXBfYnVsa193cml0ZSh3bGVkLT5yZWdtYXAsIHdsZWQtPnNpbmtfYWRkciArCj4gKwkJCQkg
ICAgICAgV0xFRDRfU0lOS19SRUdfQlJJR0hUKGkpLCB2LCAyKTsKPiArCQlpZiAocmMgPCAwKQo+
ICsJCQlyZXR1cm4gcmM7Cj4gKwl9Cj4gKwo+ICsJcmV0dXJuIDA7Cj4gK30KPiArCj4gIHN0YXRp
YyBpbnQgd2xlZF9tb2R1bGVfZW5hYmxlKHN0cnVjdCB3bGVkICp3bGVkLCBpbnQgdmFsKQo+ICB7
Cj4gIAlpbnQgcmM7Cj4gQEAgLTI2Nyw2ICszMTMsMTIwIEBAIHN0YXRpYyBpbnQgd2xlZDNfc2V0
dXAoc3RydWN0IHdsZWQgKndsZWQpCj4gIAkuZW5hYmxlZF9zdHJpbmdzID0gezAsIDEsIDIsIDN9
LAo+ICB9Owo+ICAKPiArc3RhdGljIGludCB3bGVkNF9zZXR1cChzdHJ1Y3Qgd2xlZCAqd2xlZCkK
PiArewo+ICsJaW50IHJjLCB0ZW1wLCBpLCBqOwo+ICsJdTE2IGFkZHI7Cj4gKwl1OCBzaW5rX2Vu
ID0gMDsKPiArCXUzMiBzaW5rX2NmZyA9IDA7Cj4gKwo+ICsJcmMgPSByZWdtYXBfdXBkYXRlX2Jp
dHMod2xlZC0+cmVnbWFwLAo+ICsJCQkJd2xlZC0+Y3RybF9hZGRyICsgV0xFRDNfQ1RSTF9SRUdf
T1ZQLAo+ICsJCQkJV0xFRDNfQ1RSTF9SRUdfT1ZQX01BU0ssIHdsZWQtPmNmZy5vdnApOwo+ICsJ
aWYgKHJjIDwgMCkKPiArCQlyZXR1cm4gcmM7Cj4gKwo+ICsJcmMgPSByZWdtYXBfdXBkYXRlX2Jp
dHMod2xlZC0+cmVnbWFwLAo+ICsJCQkJd2xlZC0+Y3RybF9hZGRyICsgV0xFRDNfQ1RSTF9SRUdf
SUxJTUlULAo+ICsJCQkJV0xFRDNfQ1RSTF9SRUdfSUxJTUlUX01BU0ssCj4gKwkJCQl3bGVkLT5j
ZmcuYm9vc3RfaV9saW1pdCk7Cj4gKwlpZiAocmMgPCAwKQo+ICsJCXJldHVybiByYzsKPiArCj4g
KwlyYyA9IHJlZ21hcF91cGRhdGVfYml0cyh3bGVkLT5yZWdtYXAsCj4gKwkJCQl3bGVkLT5jdHJs
X2FkZHIgKyBXTEVEM19DVFJMX1JFR19GUkVRLAo+ICsJCQkJV0xFRDNfQ1RSTF9SRUdfRlJFUV9N
QVNLLAo+ICsJCQkJd2xlZC0+Y2ZnLnN3aXRjaF9mcmVxKTsKPiArCWlmIChyYyA8IDApCj4gKwkJ
cmV0dXJuIHJjOwo+ICsKPiArCXJjID0gcmVnbWFwX3JlYWQod2xlZC0+cmVnbWFwLCB3bGVkLT5z
aW5rX2FkZHIgKwo+ICsJCQkgV0xFRDRfU0lOS19SRUdfQ1VSUl9TSU5LLCAmc2lua19jZmcpOwo+
ICsJaWYgKHJjIDwgMCkKPiArCQlyZXR1cm4gcmM7Cj4gKwo+ICsJZm9yIChpID0gMDsgaSA8IHds
ZWQtPmNmZy5udW1fc3RyaW5nczsgaSsrKSB7Cj4gKwkJaiA9IHdsZWQtPmNmZy5lbmFibGVkX3N0
cmluZ3NbaV07Cj4gKwkJdGVtcCA9IGogKyBXTEVENF9TSU5LX1JFR19DVVJSX1NJTktfU0hGVDsK
PiArCQlzaW5rX2VuIHw9IDEgPDwgdGVtcDsKPiArCX0KPiArCj4gKwlpZiAoc2lua19jZmcgPT0g
c2lua19lbikKPiArCQlyZXR1cm4gMDsKPiArCj4gKwlyYyA9IHJlZ21hcF91cGRhdGVfYml0cyh3
bGVkLT5yZWdtYXAsCj4gKwkJCQl3bGVkLT5zaW5rX2FkZHIgKyBXTEVENF9TSU5LX1JFR19DVVJS
X1NJTkssCj4gKwkJCQlXTEVENF9TSU5LX1JFR19DVVJSX1NJTktfTUFTSywgMCk7Cj4gKwlpZiAo
cmMgPCAwKQo+ICsJCXJldHVybiByYzsKPiArCj4gKwlyYyA9IHJlZ21hcF91cGRhdGVfYml0cyh3
bGVkLT5yZWdtYXAsIHdsZWQtPmN0cmxfYWRkciArCj4gKwkJCQlXTEVEM19DVFJMX1JFR19NT0Rf
RU4sCj4gKwkJCQlXTEVEM19DVFJMX1JFR19NT0RfRU5fTUFTSywgMCk7Cj4gKwlpZiAocmMgPCAw
KQo+ICsJCXJldHVybiByYzsKPiArCj4gKwkvKiBQZXIgc2luay9zdHJpbmcgY29uZmlndXJhdGlv
biAqLwo+ICsJZm9yIChpID0gMDsgaSA8IHdsZWQtPmNmZy5udW1fc3RyaW5nczsgaSsrKSB7Cj4g
KwkJaiA9IHdsZWQtPmNmZy5lbmFibGVkX3N0cmluZ3NbaV07Cj4gKwo+ICsJCWFkZHIgPSB3bGVk
LT5zaW5rX2FkZHIgKwo+ICsJCQkJV0xFRDRfU0lOS19SRUdfU1RSX01PRF9FTihqKTsKPiArCQly
YyA9IHJlZ21hcF91cGRhdGVfYml0cyh3bGVkLT5yZWdtYXAsIGFkZHIsCj4gKwkJCQkJV0xFRDRf
U0lOS19SRUdfU1RSX01PRF9NQVNLLAo+ICsJCQkJCVdMRUQ0X1NJTktfUkVHX1NUUl9NT0RfTUFT
Syk7Cj4gKwkJaWYgKHJjIDwgMCkKPiArCQkJcmV0dXJuIHJjOwo+ICsKPiArCQlhZGRyID0gd2xl
ZC0+c2lua19hZGRyICsKPiArCQkJCVdMRUQ0X1NJTktfUkVHX1NUUl9GVUxMX1NDQUxFX0NVUlIo
aik7Cj4gKwkJcmMgPSByZWdtYXBfdXBkYXRlX2JpdHMod2xlZC0+cmVnbWFwLCBhZGRyLAo+ICsJ
CQkJCVdMRUQ0X1NJTktfUkVHX1NUUl9GVUxMX1NDQUxFX0NVUlJfTUFTSywKPiArCQkJCQl3bGVk
LT5jZmcuc3RyaW5nX2lfbGltaXQpOwo+ICsJCWlmIChyYyA8IDApCj4gKwkJCXJldHVybiByYzsK
PiArCj4gKwkJYWRkciA9IHdsZWQtPnNpbmtfYWRkciArCj4gKwkJCQlXTEVENF9TSU5LX1JFR19T
VFJfQ0FCQyhqKTsKPiArCQlyYyA9IHJlZ21hcF91cGRhdGVfYml0cyh3bGVkLT5yZWdtYXAsIGFk
ZHIsCj4gKwkJCQkJV0xFRDRfU0lOS19SRUdfU1RSX0NBQkNfTUFTSywKPiArCQkJCQl3bGVkLT5j
ZmcuY2FiYyA/Cj4gKwkJCQkJV0xFRDRfU0lOS19SRUdfU1RSX0NBQkNfTUFTSyA6IDApOwo+ICsJ
CWlmIChyYyA8IDApCj4gKwkJCXJldHVybiByYzsKPiArCX0KPiArCj4gKwlyYyA9IHJlZ21hcF91
cGRhdGVfYml0cyh3bGVkLT5yZWdtYXAsIHdsZWQtPmN0cmxfYWRkciArCj4gKwkJCQlXTEVEM19D
VFJMX1JFR19NT0RfRU4sCj4gKwkJCQlXTEVEM19DVFJMX1JFR19NT0RfRU5fTUFTSywKPiArCQkJ
CVdMRUQzX0NUUkxfUkVHX01PRF9FTl9NQVNLKTsKPiArCWlmIChyYyA8IDApCj4gKwkJcmV0dXJu
IHJjOwo+ICsKPiArCXJjID0gcmVnbWFwX3VwZGF0ZV9iaXRzKHdsZWQtPnJlZ21hcCwKPiArCQkJ
CXdsZWQtPnNpbmtfYWRkciArIFdMRUQ0X1NJTktfUkVHX0NVUlJfU0lOSywKPiArCQkJCVdMRUQ0
X1NJTktfUkVHX0NVUlJfU0lOS19NQVNLLCBzaW5rX2VuKTsKPiArCWlmIChyYyA8IDApCj4gKwkJ
cmV0dXJuIHJjOwo+ICsKPiArCXJjID0gd2xlZF9zeW5jX3RvZ2dsZSh3bGVkKTsKPiArCWlmIChy
YyA8IDApIHsKPiArCQlkZXZfZXJyKHdsZWQtPmRldiwgIkZhaWxlZCB0byB0b2dnbGUgc3luYyBy
ZWcgcmM6JWRcbiIsIHJjKTsKPiArCQlyZXR1cm4gcmM7Cj4gKwl9Cj4gKwo+ICsJcmV0dXJuIDA7
Cj4gK30KPiArCj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3Qgd2xlZF9jb25maWcgd2xlZDRfY29uZmln
X2RlZmF1bHRzID0gewo+ICsJLmJvb3N0X2lfbGltaXQgPSA0LAo+ICsJLnN0cmluZ19pX2xpbWl0
ID0gMTAsCj4gKwkub3ZwID0gMSwKPiArCS5udW1fc3RyaW5ncyA9IDQsCj4gKwkuc3dpdGNoX2Zy
ZXEgPSAxMSwKPiArCS5jYWJjID0gZmFsc2UsCj4gK307Cj4gKwo+ICBzdGF0aWMgY29uc3QgdTMy
IHdsZWQzX2Jvb3N0X2lfbGltaXRfdmFsdWVzW10gPSB7Cj4gIAkxMDUsIDM4NSwgNTI1LCA4MDUs
IDk4MCwgMTI2MCwgMTQwMCwgMTY4MCwKPiAgfTsKPiBAQCAtMjc2LDYgKzQzNiwxNSBAQCBzdGF0
aWMgaW50IHdsZWQzX3NldHVwKHN0cnVjdCB3bGVkICp3bGVkKQo+ICAJLnNpemUgPSBBUlJBWV9T
SVpFKHdsZWQzX2Jvb3N0X2lfbGltaXRfdmFsdWVzKSwKPiAgfTsKPiAgCj4gK3N0YXRpYyBjb25z
dCB1MzIgd2xlZDRfYm9vc3RfaV9saW1pdF92YWx1ZXNbXSA9IHsKPiArCTEwNSwgMjgwLCA0NTAs
IDYyMCwgOTcwLCAxMTUwLCAxMzAwLCAxNTAwLAo+ICt9Owo+ICsKPiArc3RhdGljIGNvbnN0IHN0
cnVjdCB3bGVkX3Zhcl9jZmcgd2xlZDRfYm9vc3RfaV9saW1pdF9jZmcgPSB7Cj4gKwkudmFsdWVz
ID0gd2xlZDRfYm9vc3RfaV9saW1pdF92YWx1ZXMsCj4gKwkuc2l6ZSA9IEFSUkFZX1NJWkUod2xl
ZDRfYm9vc3RfaV9saW1pdF92YWx1ZXMpLAo+ICt9Owo+ICsKPiAgc3RhdGljIGNvbnN0IHUzMiB3
bGVkM19vdnBfdmFsdWVzW10gPSB7Cj4gIAkzNSwgMzIsIDI5LCAyNywKPiAgfTsKPiBAQCAtMjg1
LDYgKzQ1NCwxNSBAQCBzdGF0aWMgaW50IHdsZWQzX3NldHVwKHN0cnVjdCB3bGVkICp3bGVkKQo+
ICAJLnNpemUgPSBBUlJBWV9TSVpFKHdsZWQzX292cF92YWx1ZXMpLAo+ICB9Owo+ICAKPiArc3Rh
dGljIGNvbnN0IHUzMiB3bGVkNF9vdnBfdmFsdWVzW10gPSB7Cj4gKwkzMTEwMCwgMjk2MDAsIDE5
NjAwLCAxODEwMCwKPiArfTsKPiArCj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3Qgd2xlZF92YXJfY2Zn
IHdsZWQ0X292cF9jZmcgPSB7Cj4gKwkudmFsdWVzID0gd2xlZDRfb3ZwX3ZhbHVlcywKPiArCS5z
aXplID0gQVJSQVlfU0laRSh3bGVkNF9vdnBfdmFsdWVzKSwKPiArfTsKPiArCj4gIHN0YXRpYyB1
MzIgd2xlZDNfbnVtX3N0cmluZ3NfdmFsdWVzX2ZuKHUzMiBpZHgpCj4gIHsKPiAgCXJldHVybiBp
ZHggKyAxOwo+IEBAIC0yOTUsNiArNDczLDExIEBAIHN0YXRpYyB1MzIgd2xlZDNfbnVtX3N0cmlu
Z3NfdmFsdWVzX2ZuKHUzMiBpZHgpCj4gIAkuc2l6ZSA9IDMsCj4gIH07Cj4gIAo+ICtzdGF0aWMg
Y29uc3Qgc3RydWN0IHdsZWRfdmFyX2NmZyB3bGVkNF9udW1fc3RyaW5nc19jZmcgPSB7Cj4gKwku
Zm4gPSB3bGVkM19udW1fc3RyaW5nc192YWx1ZXNfZm4sCj4gKwkuc2l6ZSA9IDQsCj4gK307Cj4g
Kwo+ICBzdGF0aWMgdTMyIHdsZWQzX3N3aXRjaF9mcmVxX3ZhbHVlc19mbih1MzIgaWR4KQo+ICB7
Cj4gIAlyZXR1cm4gMTkyMDAgLyAoMiAqICgxICsgaWR4KSk7Cj4gQEAgLTMwOSwxMCArNDkyLDI0
IEBAIHN0YXRpYyB1MzIgd2xlZDNfc3dpdGNoX2ZyZXFfdmFsdWVzX2ZuKHUzMiBpZHgpCj4gIAku
c2l6ZSA9IDI2LAo+ICB9Owo+ICAKPiArc3RhdGljIGNvbnN0IHUzMiB3bGVkNF9zdHJpbmdfaV9s
aW1pdF92YWx1ZXNbXSA9IHsKPiArCTAsIDI1MDAsIDUwMDAsIDc1MDAsIDEwMDAwLCAxMjUwMCwg
MTUwMDAsIDE3NTAwLCAyMDAwMCwKPiArCTIyNTAwLCAyNTAwMCwgMjc1MDAsIDMwMDAwLAo+ICt9
Owo+ICsKPiArc3RhdGljIGNvbnN0IHN0cnVjdCB3bGVkX3Zhcl9jZmcgd2xlZDRfc3RyaW5nX2lf
bGltaXRfY2ZnID0gewo+ICsJLnZhbHVlcyA9IHdsZWQ0X3N0cmluZ19pX2xpbWl0X3ZhbHVlcywK
PiArCS5zaXplID0gQVJSQVlfU0laRSh3bGVkNF9zdHJpbmdfaV9saW1pdF92YWx1ZXMpLAo+ICt9
Owo+ICsKPiAgc3RhdGljIGNvbnN0IHN0cnVjdCB3bGVkX3Zhcl9jZmcgd2xlZDNfc3RyaW5nX2Nm
ZyA9IHsKPiAgCS5zaXplID0gOCwKPiAgfTsKPiAgCj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3Qgd2xl
ZF92YXJfY2ZnIHdsZWQ0X3N0cmluZ19jZmcgPSB7Cj4gKwkuc2l6ZSA9IDE2LAo+ICt9Owo+ICsK
PiAgc3RhdGljIHUzMiB3bGVkX3ZhbHVlcyhjb25zdCBzdHJ1Y3Qgd2xlZF92YXJfY2ZnICpjZmcs
IHUzMiBpZHgpCj4gIHsKPiAgCWlmIChpZHggPj0gY2ZnLT5zaXplKQo+IEBAIC0zNjEsNiArNTU4
LDM0IEBAIHN0YXRpYyBpbnQgd2xlZF9jb25maWd1cmUoc3RydWN0IHdsZWQgKndsZWQsIGludCB2
ZXJzaW9uKQo+ICAJCX0sCj4gIAl9Owo+ICAKPiArCWNvbnN0IHN0cnVjdCB3bGVkX3UzMl9vcHRz
IHdsZWQ0X29wdHNbXSA9IHsKPiArCQl7Cj4gKwkJCS5uYW1lID0gInFjb20sY3VycmVudC1ib29z
dC1saW1pdCIsCj4gKwkJCS52YWxfcHRyID0gJmNmZy0+Ym9vc3RfaV9saW1pdCwKPiArCQkJLmNm
ZyA9ICZ3bGVkNF9ib29zdF9pX2xpbWl0X2NmZywKPiArCQl9LAo+ICsJCXsKPiArCQkJLm5hbWUg
PSAicWNvbSxjdXJyZW50LWxpbWl0LW1pY3JvYW1wIiwKPiArCQkJLnZhbF9wdHIgPSAmY2ZnLT5z
dHJpbmdfaV9saW1pdCwKPiArCQkJLmNmZyA9ICZ3bGVkNF9zdHJpbmdfaV9saW1pdF9jZmcsCj4g
KwkJfSwKPiArCQl7Cj4gKwkJCS5uYW1lID0gInFjb20sb3ZwLW1pbGxpdm9sdCIsCj4gKwkJCS52
YWxfcHRyID0gJmNmZy0+b3ZwLAo+ICsJCQkuY2ZnID0gJndsZWQ0X292cF9jZmcsCj4gKwkJfSwK
PiArCQl7Cj4gKwkJCS5uYW1lID0gInFjb20sc3dpdGNoaW5nLWZyZXEiLAo+ICsJCQkudmFsX3B0
ciA9ICZjZmctPnN3aXRjaF9mcmVxLAo+ICsJCQkuY2ZnID0gJndsZWQzX3N3aXRjaF9mcmVxX2Nm
ZywKPiArCQl9LAo+ICsJCXsKPiArCQkJLm5hbWUgPSAicWNvbSxudW0tc3RyaW5ncyIsCj4gKwkJ
CS52YWxfcHRyID0gJmNmZy0+bnVtX3N0cmluZ3MsCj4gKwkJCS5jZmcgPSAmd2xlZDRfbnVtX3N0
cmluZ3NfY2ZnLAo+ICsJCX0sCj4gKwl9Owo+ICsKPiAgCWNvbnN0IHN0cnVjdCB3bGVkX2Jvb2xf
b3B0cyBib29sX29wdHNbXSA9IHsKPiAgCQl7ICJxY29tLGNzLW91dCIsICZjZmctPmNzX291dF9l
biwgfSwKPiAgCQl7ICJxY29tLGV4dC1nZW4iLCAmY2ZnLT5leHRfZ2VuLCB9LAo+IEBAIC0zODUs
NiArNjEwLDIyIEBAIHN0YXRpYyBpbnQgd2xlZF9jb25maWd1cmUoc3RydWN0IHdsZWQgKndsZWQs
IGludCB2ZXJzaW9uKQo+ICAJCSpjZmcgPSB3bGVkM19jb25maWdfZGVmYXVsdHM7Cj4gIAkJd2xl
ZC0+d2xlZF9zZXRfYnJpZ2h0bmVzcyA9IHdsZWQzX3NldF9icmlnaHRuZXNzOwo+ICAJCXdsZWQt
Pm1heF9zdHJpbmdfY291bnQgPSAzOwo+ICsJCXdsZWQtPnNpbmtfYWRkciA9IHdsZWQtPmN0cmxf
YWRkcjsKPiArCQlicmVhazsKPiArCj4gKwljYXNlIDQ6Cj4gKwkJdTMyX29wdHMgPSB3bGVkNF9v
cHRzOwo+ICsJCXNpemUgPSBBUlJBWV9TSVpFKHdsZWQ0X29wdHMpOwo+ICsJCSpjZmcgPSB3bGVk
NF9jb25maWdfZGVmYXVsdHM7Cj4gKwkJd2xlZC0+d2xlZF9zZXRfYnJpZ2h0bmVzcyA9IHdsZWQ0
X3NldF9icmlnaHRuZXNzOwo+ICsJCXdsZWQtPm1heF9zdHJpbmdfY291bnQgPSA0Owo+ICsKPiAr
CQlwcm9wX2FkZHIgPSBvZl9nZXRfYWRkcmVzcyhkZXYtPm9mX25vZGUsIDEsIE5VTEwsIE5VTEwp
Owo+ICsJCWlmICghcHJvcF9hZGRyKSB7Cj4gKwkJCWRldl9lcnIod2xlZC0+ZGV2LCAiaW52YWxp
ZCBJTyByZXNvdXJjZXNcbiIpOwo+ICsJCQlyZXR1cm4gLUVJTlZBTDsKPiArCQl9Cj4gKwkJd2xl
ZC0+c2lua19hZGRyID0gYmUzMl90b19jcHUoKnByb3BfYWRkcik7Cj4gIAkJYnJlYWs7Cj4gIAo+
ICAJZGVmYXVsdDoKPiBAQCAtNDgzLDYgKzcyNCwxNCBAQCBzdGF0aWMgaW50IHdsZWRfcHJvYmUo
c3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKPiAgCQl9Cj4gIAkJYnJlYWs7Cj4gIAo+ICsJ
Y2FzZSA0Ogo+ICsJCXJjID0gd2xlZDRfc2V0dXAod2xlZCk7Cj4gKwkJaWYgKHJjKSB7Cj4gKwkJ
CWRldl9lcnIoJnBkZXYtPmRldiwgIndsZWQ0X3NldHVwIGZhaWxlZFxuIik7Cj4gKwkJCXJldHVy
biByYzsKPiArCQl9Cj4gKwkJYnJlYWs7Cj4gKwo+ICAJZGVmYXVsdDoKPiAgCQlkZXZfZXJyKHds
ZWQtPmRldiwgIkludmFsaWQgV0xFRCB2ZXJzaW9uXG4iKTsKPiAgCQlicmVhazsKPiBAQCAtNTAz
LDYgKzc1Miw4IEBAIHN0YXRpYyBpbnQgd2xlZF9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNl
ICpwZGV2KQo+ICAKPiAgc3RhdGljIGNvbnN0IHN0cnVjdCBvZl9kZXZpY2VfaWQgd2xlZF9tYXRj
aF90YWJsZVtdID0gewo+ICAJeyAuY29tcGF0aWJsZSA9ICJxY29tLHBtODk0MS13bGVkIiwgLmRh
dGEgPSAodm9pZCAqKTMgfSwKPiArCXsgLmNvbXBhdGlibGUgPSAicWNvbSxwbWk4OTk4LXdsZWQi
LCAuZGF0YSA9ICh2b2lkICopNCB9LAo+ICsJeyAuY29tcGF0aWJsZSA9ICJxY29tLHBtNjYwbC13
bGVkIiwgLmRhdGEgPSAodm9pZCAqKTQgfSwKPiAgCXt9Cj4gIH07Cj4gIE1PRFVMRV9ERVZJQ0Vf
VEFCTEUob2YsIHdsZWRfbWF0Y2hfdGFibGUpOwo+IC0tIAo+IFRoZSBRdWFsY29tbSBJbm5vdmF0
aW9uIENlbnRlciwgSW5jLiBpcyBhIG1lbWJlciBvZiB0aGUgQ29kZSBBdXJvcmEgRm9ydW0sCj4g
IGEgTGludXggRm91bmRhdGlvbiBDb2xsYWJvcmF0aXZlIFByb2plY3QKPiAKX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlz
dApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0
b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
