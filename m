Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 1B60DF41C7
	for <lists+dri-devel@lfdr.de>; Fri,  8 Nov 2019 09:13:40 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7AB266F87C;
	Fri,  8 Nov 2019 08:12:37 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from hqemgate16.nvidia.com (hqemgate16.nvidia.com [216.228.121.65])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 35E616E4EC;
 Thu,  7 Nov 2019 19:35:47 +0000 (UTC)
Received: from hqpgpgate101.nvidia.com (Not Verified[216.228.121.13]) by
 hqemgate16.nvidia.com (using TLS: TLSv1.2, DES-CBC3-SHA)
 id <B5dc471d90001>; Thu, 07 Nov 2019 11:34:50 -0800
Received: from hqmail.nvidia.com ([172.20.161.6])
 by hqpgpgate101.nvidia.com (PGP Universal service);
 Thu, 07 Nov 2019 11:35:46 -0800
X-PGP-Universal: processed;
 by hqpgpgate101.nvidia.com on Thu, 07 Nov 2019 11:35:46 -0800
Received: from [10.25.75.102] (172.20.13.39) by HQMAIL107.nvidia.com
 (172.20.187.13) with Microsoft SMTP Server (TLS) id 15.0.1473.3; Thu, 7 Nov
 2019 19:35:29 +0000
Subject: Re: [PATCH V11 1/6] mdev: class id support
To: Jason Wang <jasowang@redhat.com>, <kvm@vger.kernel.org>,
 <linux-s390@vger.kernel.org>, <linux-kernel@vger.kernel.org>,
 <dri-devel@lists.freedesktop.org>, <intel-gfx@lists.freedesktop.org>,
 <intel-gvt-dev@lists.freedesktop.org>, <alex.williamson@redhat.com>,
 <mst@redhat.com>, <tiwei.bie@intel.com>
References: <20191107151109.23261-1-jasowang@redhat.com>
 <20191107151109.23261-2-jasowang@redhat.com>
From: Kirti Wankhede <kwankhede@nvidia.com>
X-Nvconfidentiality: public
Message-ID: <ba7d7b97-85f3-4596-6ae0-8dfa57c94b8c@nvidia.com>
Date: Fri, 8 Nov 2019 01:05:19 +0530
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:68.0) Gecko/20100101
 Thunderbird/68.1.2
MIME-Version: 1.0
In-Reply-To: <20191107151109.23261-2-jasowang@redhat.com>
X-Originating-IP: [172.20.13.39]
X-ClientProxiedBy: HQMAIL107.nvidia.com (172.20.187.13) To
 HQMAIL107.nvidia.com (172.20.187.13)
Content-Language: en-US
X-Mailman-Approved-At: Fri, 08 Nov 2019 08:12:31 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=nvidia.com; s=n1; 
 t=1573155290; bh=/EXrnlwfJbtB2dfkiHy1I5m8c/7sbDj9nW2Y2Fur0F4=;
 h=X-PGP-Universal:Subject:To:CC:References:From:X-Nvconfidentiality:
 Message-ID:Date:User-Agent:MIME-Version:In-Reply-To:
 X-Originating-IP:X-ClientProxiedBy:Content-Type:Content-Language:
 Content-Transfer-Encoding;
 b=nESaiR8+mxVXejiYLAHUq3/pOZlOBGtFAwQiStFOScdoeIXKxPqhdyEm7XoMCc2+e
 8aJ0QpQ7Pj3JhfVGtWw3Tw+Oi938s7g9cMs3iYi1ILvIOXo70u8oE8gIQI6fyHJAjX
 zXvyedhXtqTQQ99W0HYlF3ESK+EPnWJDUXdzuM1/NgjiI4ff/Ewg23kxY92bhcPYPQ
 fNwWS+Lf8eBVublzKDHSOoPzO1Ux43SGjuCx3rM0AA4ZglKYTNc5WgxkTiIVpx4I0n
 DIrwuSQLSiN3WMOh2Vv+h6+sYXhCtSveV+HeGoApb+er3DFKQf706OdgxXne7LYAxo
 40J2lowQheE8Q==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: christophe.de.dinechin@gmail.com, sebott@linux.ibm.com, airlied@linux.ie,
 heiko.carstens@de.ibm.com, kevin.tian@intel.com,
 virtualization@lists.linux-foundation.org, rob.miller@broadcom.com,
 lulu@redhat.com, eperezma@redhat.com, pasic@linux.ibm.com,
 borntraeger@de.ibm.com, haotian.wang@sifive.com, zhi.a.wang@intel.com,
 farman@linux.ibm.com, parav@mellanox.com, gor@linux.ibm.com,
 cunming.liang@intel.com, rodrigo.vivi@intel.com, xiao.w.wang@intel.com,
 freude@linux.ibm.com, stefanha@redhat.com, zhihong.wang@intel.com,
 akrowiak@linux.ibm.com, netdev@vger.kernel.org, cohuck@redhat.com,
 oberpar@linux.ibm.com, maxime.coquelin@redhat.com, lingshan.zhu@intel.com
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

CgpPbiAxMS83LzIwMTkgODo0MSBQTSwgSmFzb24gV2FuZyB3cm90ZToKPiBNZGV2IGJ1cyBvbmx5
IHN1cHBvcnRzIHZmaW8gZHJpdmVyIHJpZ2h0IG5vdywgc28gaXQgZG9lc24ndCBpbXBsZW1lbnQK
PiBtYXRjaCBtZXRob2QuIEJ1dCBpbiB0aGUgZnV0dXJlLCB3ZSBtYXkgYWRkIGRyaXZlcnMgb3Ro
ZXIgdGhhbiB2ZmlvLAo+IHRoZSBmaXJzdCBkcml2ZXIgY291bGQgYmUgdmlydGlvLW1kZXYuIFRo
aXMgbWVhbnMgd2UgbmVlZCB0byBhZGQKPiBkZXZpY2UgY2xhc3MgaWQgc3VwcG9ydCBpbiBidXMg
bWF0Y2ggbWV0aG9kIHRvIHBhaXIgdGhlIG1kZXYgZGV2aWNlCj4gYW5kIG1kZXYgZHJpdmVyIGNv
cnJlY3RseS4KPiAKPiBTbyB0aGlzIHBhdGNoIGFkZHMgaWRfdGFibGUgdG8gbWRldl9kcml2ZXIg
YW5kIGNsYXNzX2lkIGZvciBtZGV2Cj4gZGV2aWNlIHdpdGggdGhlIG1hdGNoIG1ldGhvZCBmb3Ig
bWRldiBidXMuCj4gCj4gUmV2aWV3ZWQtYnk6IFBhcmF2IFBhbmRpdCA8cGFyYXZAbWVsbGFub3gu
Y29tPgo+IFJldmlld2VkLWJ5OiBDb3JuZWxpYSBIdWNrIDxjb2h1Y2tAcmVkaGF0LmNvbT4KPiBT
aWduZWQtb2ZmLWJ5OiBKYXNvbiBXYW5nIDxqYXNvd2FuZ0ByZWRoYXQuY29tPgoKUmV2aWV3ZWQt
Ynk6IEtpcnRpIFdhbmtoZWRlIDxrd2Fua2hlZGVAbnZpZGlhLmNvbT4KClRoYW5rcywKS2lydGkK
Cj4gLS0tCj4gICAuLi4vZHJpdmVyLWFwaS92ZmlvLW1lZGlhdGVkLWRldmljZS5yc3QgICAgICAg
fCAgNSArKysrCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndnQva3ZtZ3QuYyAgICAgICAgICAg
ICAgfCAgMSArCj4gICBkcml2ZXJzL3MzOTAvY2lvL3ZmaW9fY2N3X29wcy5jICAgICAgICAgICAg
ICAgfCAgMSArCj4gICBkcml2ZXJzL3MzOTAvY3J5cHRvL3ZmaW9fYXBfb3BzLmMgICAgICAgICAg
ICAgfCAgMSArCj4gICBkcml2ZXJzL3ZmaW8vbWRldi9tZGV2X2NvcmUuYyAgICAgICAgICAgICAg
ICAgfCAxNyArKysrKysrKysrKysrCj4gICBkcml2ZXJzL3ZmaW8vbWRldi9tZGV2X2RyaXZlci5j
ICAgICAgICAgICAgICAgfCAyNSArKysrKysrKysrKysrKysrKysrCj4gICBkcml2ZXJzL3ZmaW8v
bWRldi9tZGV2X3ByaXZhdGUuaCAgICAgICAgICAgICAgfCAgMSArCj4gICBkcml2ZXJzL3ZmaW8v
bWRldi92ZmlvX21kZXYuYyAgICAgICAgICAgICAgICAgfCAgNiArKysrKwo+ICAgaW5jbHVkZS9s
aW51eC9tZGV2LmggICAgICAgICAgICAgICAgICAgICAgICAgIHwgIDggKysrKysrCj4gICBpbmNs
dWRlL2xpbnV4L21vZF9kZXZpY2V0YWJsZS5oICAgICAgICAgICAgICAgfCAgOCArKysrKysKPiAg
IHNhbXBsZXMvdmZpby1tZGV2L21ib2Nocy5jICAgICAgICAgICAgICAgICAgICB8ICAxICsKPiAg
IHNhbXBsZXMvdmZpby1tZGV2L21kcHkuYyAgICAgICAgICAgICAgICAgICAgICB8ICAxICsKPiAg
IHNhbXBsZXMvdmZpby1tZGV2L210dHkuYyAgICAgICAgICAgICAgICAgICAgICB8ICAxICsKPiAg
IDEzIGZpbGVzIGNoYW5nZWQsIDc2IGluc2VydGlvbnMoKykKPiAKPiBkaWZmIC0tZ2l0IGEvRG9j
dW1lbnRhdGlvbi9kcml2ZXItYXBpL3ZmaW8tbWVkaWF0ZWQtZGV2aWNlLnJzdCBiL0RvY3VtZW50
YXRpb24vZHJpdmVyLWFwaS92ZmlvLW1lZGlhdGVkLWRldmljZS5yc3QKPiBpbmRleCAyNWViN2Q1
YjgzNGIuLjY3MDk0MTNiZWUyOSAxMDA2NDQKPiAtLS0gYS9Eb2N1bWVudGF0aW9uL2RyaXZlci1h
cGkvdmZpby1tZWRpYXRlZC1kZXZpY2UucnN0Cj4gKysrIGIvRG9jdW1lbnRhdGlvbi9kcml2ZXIt
YXBpL3ZmaW8tbWVkaWF0ZWQtZGV2aWNlLnJzdAo+IEBAIC0xMDIsMTIgKzEwMiwxNCBAQCBzdHJ1
Y3R1cmUgdG8gcmVwcmVzZW50IGEgbWVkaWF0ZWQgZGV2aWNlJ3MgZHJpdmVyOjoKPiAgICAgICAg
ICogQHByb2JlOiBjYWxsZWQgd2hlbiBuZXcgZGV2aWNlIGNyZWF0ZWQKPiAgICAgICAgICogQHJl
bW92ZTogY2FsbGVkIHdoZW4gZGV2aWNlIHJlbW92ZWQKPiAgICAgICAgICogQGRyaXZlcjogZGV2
aWNlIGRyaXZlciBzdHJ1Y3R1cmUKPiArICAgICAgKiBAaWRfdGFibGU6IHRoZSBpZHMgc2Vydmlj
ZWQgYnkgdGhpcyBkcml2ZXIKPiAgICAgICAgICovCj4gICAgICAgIHN0cnVjdCBtZGV2X2RyaXZl
ciB7Cj4gICAJICAgICBjb25zdCBjaGFyICpuYW1lOwo+ICAgCSAgICAgaW50ICAoKnByb2JlKSAg
KHN0cnVjdCBkZXZpY2UgKmRldik7Cj4gICAJICAgICB2b2lkICgqcmVtb3ZlKSAoc3RydWN0IGRl
dmljZSAqZGV2KTsKPiAgIAkgICAgIHN0cnVjdCBkZXZpY2VfZHJpdmVyICAgIGRyaXZlcjsKPiAr
CSAgICAgY29uc3Qgc3RydWN0IG1kZXZfY2xhc3NfaWQgKmlkX3RhYmxlOwo+ICAgICAgICB9Owo+
ICAgCj4gICBBIG1lZGlhdGVkIGJ1cyBkcml2ZXIgZm9yIG1kZXYgc2hvdWxkIHVzZSB0aGlzIHN0
cnVjdHVyZSBpbiB0aGUgZnVuY3Rpb24gY2FsbHMKPiBAQCAtMTcwLDYgKzE3Miw5IEBAIHRoYXQg
YSBkcml2ZXIgc2hvdWxkIHVzZSB0byB1bnJlZ2lzdGVyIGl0c2VsZiB3aXRoIHRoZSBtZGV2IGNv
cmUgZHJpdmVyOjoKPiAgIAo+ICAgCWV4dGVybiB2b2lkIG1kZXZfdW5yZWdpc3Rlcl9kZXZpY2Uo
c3RydWN0IGRldmljZSAqZGV2KTsKPiAgIAo+ICtJdCBpcyBhbHNvIHJlcXVpcmVkIHRvIHNwZWNp
ZnkgdGhlIGNsYXNzX2lkIGluIGNyZWF0ZSgpIGNhbGxiYWNrIHRocm91Z2g6Ogo+ICsKPiArCWlu
dCBtZGV2X3NldF9jbGFzcyhzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYsIHUxNiBpZCk7Cj4gICAK
PiAgIE1lZGlhdGVkIERldmljZSBNYW5hZ2VtZW50IEludGVyZmFjZSBUaHJvdWdoIHN5c2ZzCj4g
ICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQo+IGRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndnQva3ZtZ3QuYyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2d2dC9rdm1ndC5jCj4gaW5kZXggMzQzZDc5YzFjYjdlLi42NDIwZjBkYmQzMWIg
MTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Z0L2t2bWd0LmMKPiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndnQva3ZtZ3QuYwo+IEBAIC02NzgsNiArNjc4LDcgQEAgc3Rh
dGljIGludCBpbnRlbF92Z3B1X2NyZWF0ZShzdHJ1Y3Qga29iamVjdCAqa29iaiwgc3RydWN0IG1k
ZXZfZGV2aWNlICptZGV2KQo+ICAgCQkgICAgIGRldl9uYW1lKG1kZXZfZGV2KG1kZXYpKSk7Cj4g
ICAJcmV0ID0gMDsKPiAgIAo+ICsJbWRldl9zZXRfY2xhc3MobWRldiwgTURFVl9DTEFTU19JRF9W
RklPKTsKPiAgIG91dDoKPiAgIAlyZXR1cm4gcmV0Owo+ICAgfQo+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL3MzOTAvY2lvL3ZmaW9fY2N3X29wcy5jIGIvZHJpdmVycy9zMzkwL2Npby92ZmlvX2Njd19v
cHMuYwo+IGluZGV4IGYwZDcxYWI3N2M1MC4uY2YyYzAxM2FlMzJmIDEwMDY0NAo+IC0tLSBhL2Ry
aXZlcnMvczM5MC9jaW8vdmZpb19jY3dfb3BzLmMKPiArKysgYi9kcml2ZXJzL3MzOTAvY2lvL3Zm
aW9fY2N3X29wcy5jCj4gQEAgLTEyOSw2ICsxMjksNyBAQCBzdGF0aWMgaW50IHZmaW9fY2N3X21k
ZXZfY3JlYXRlKHN0cnVjdCBrb2JqZWN0ICprb2JqLCBzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYp
Cj4gICAJCQkgICBwcml2YXRlLT5zY2gtPnNjaGlkLnNzaWQsCj4gICAJCQkgICBwcml2YXRlLT5z
Y2gtPnNjaGlkLnNjaF9ubyk7Cj4gICAKPiArCW1kZXZfc2V0X2NsYXNzKG1kZXYsIE1ERVZfQ0xB
U1NfSURfVkZJTyk7Cj4gICAJcmV0dXJuIDA7Cj4gICB9Cj4gICAKPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9zMzkwL2NyeXB0by92ZmlvX2FwX29wcy5jIGIvZHJpdmVycy9zMzkwL2NyeXB0by92Zmlv
X2FwX29wcy5jCj4gaW5kZXggNWMwZjUzYzZkZGU3Li4wN2MzMTA3MGFmZWIgMTAwNjQ0Cj4gLS0t
IGEvZHJpdmVycy9zMzkwL2NyeXB0by92ZmlvX2FwX29wcy5jCj4gKysrIGIvZHJpdmVycy9zMzkw
L2NyeXB0by92ZmlvX2FwX29wcy5jCj4gQEAgLTM0Myw2ICszNDMsNyBAQCBzdGF0aWMgaW50IHZm
aW9fYXBfbWRldl9jcmVhdGUoc3RydWN0IGtvYmplY3QgKmtvYmosIHN0cnVjdCBtZGV2X2Rldmlj
ZSAqbWRldikKPiAgIAlsaXN0X2FkZCgmbWF0cml4X21kZXYtPm5vZGUsICZtYXRyaXhfZGV2LT5t
ZGV2X2xpc3QpOwo+ICAgCW11dGV4X3VubG9jaygmbWF0cml4X2Rldi0+bG9jayk7Cj4gICAKPiAr
CW1kZXZfc2V0X2NsYXNzKG1kZXYsIE1ERVZfQ0xBU1NfSURfVkZJTyk7Cj4gICAJcmV0dXJuIDA7
Cj4gICB9Cj4gICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy92ZmlvL21kZXYvbWRldl9jb3JlLmMg
Yi9kcml2ZXJzL3ZmaW8vbWRldi9tZGV2X2NvcmUuYwo+IGluZGV4IGI1NThkNGNmZDA4Mi4uN2Jm
YTJlNDZlODI5IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvdmZpby9tZGV2L21kZXZfY29yZS5jCj4g
KysrIGIvZHJpdmVycy92ZmlvL21kZXYvbWRldl9jb3JlLmMKPiBAQCAtNDUsNiArNDUsMTcgQEAg
dm9pZCBtZGV2X3NldF9kcnZkYXRhKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldiwgdm9pZCAqZGF0
YSkKPiAgIH0KPiAgIEVYUE9SVF9TWU1CT0wobWRldl9zZXRfZHJ2ZGF0YSk7Cj4gICAKPiArLyoK
PiArICogU3BlY2lmeSB0aGUgY2xhc3MgZm9yIHRoZSBtZGV2IGRldmljZSwgdGhpcyBtdXN0IGJl
IGNhbGxlZCBkdXJpbmcKPiArICogY3JlYXRlKCkgY2FsbGJhY2suCj4gKyAqLwo+ICt2b2lkIG1k
ZXZfc2V0X2NsYXNzKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldiwgdTE2IGlkKQo+ICt7Cj4gKwlX
QVJOX09OKG1kZXYtPmNsYXNzX2lkKTsKPiArCW1kZXYtPmNsYXNzX2lkID0gaWQ7Cj4gK30KPiAr
RVhQT1JUX1NZTUJPTChtZGV2X3NldF9jbGFzcyk7Cj4gKwo+ICAgc3RydWN0IGRldmljZSAqbWRl
dl9kZXYoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2KQo+ICAgewo+ICAgCXJldHVybiAmbWRldi0+
ZGV2Owo+IEBAIC0zMjQsNiArMzM1LDEyIEBAIGludCBtZGV2X2RldmljZV9jcmVhdGUoc3RydWN0
IGtvYmplY3QgKmtvYmosCj4gICAJaWYgKHJldCkKPiAgIAkJZ290byBvcHNfY3JlYXRlX2ZhaWw7
Cj4gICAKPiArCWlmICghbWRldi0+Y2xhc3NfaWQpIHsKPiArCQlyZXQgPSAtRUlOVkFMOwo+ICsJ
CWRldl93YXJuKGRldiwgIm1kZXYgdmVuZG9yIGRyaXZlciBmYWlsZWQgdG8gc3BlY2lmeSBkZXZp
Y2UgY2xhc3NcbiIpOwo+ICsJCWdvdG8gYWRkX2ZhaWw7Cj4gKwl9Cj4gKwo+ICAgCXJldCA9IGRl
dmljZV9hZGQoJm1kZXYtPmRldik7Cj4gICAJaWYgKHJldCkKPiAgIAkJZ290byBhZGRfZmFpbDsK
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy92ZmlvL21kZXYvbWRldl9kcml2ZXIuYyBiL2RyaXZlcnMv
dmZpby9tZGV2L21kZXZfZHJpdmVyLmMKPiBpbmRleCAwZDMyMjNhZWUyMGIuLmVkMDY0MzM2OTNl
OCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL3ZmaW8vbWRldi9tZGV2X2RyaXZlci5jCj4gKysrIGIv
ZHJpdmVycy92ZmlvL21kZXYvbWRldl9kcml2ZXIuYwo+IEBAIC02OSw4ICs2OSwzMyBAQCBzdGF0
aWMgaW50IG1kZXZfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKPiAgIAlyZXR1cm4gMDsKPiAg
IH0KPiAgIAo+ICtzdGF0aWMgaW50IG1kZXZfbWF0Y2goc3RydWN0IGRldmljZSAqZGV2LCBzdHJ1
Y3QgZGV2aWNlX2RyaXZlciAqZHJ2KQo+ICt7Cj4gKwl1bnNpZ25lZCBpbnQgaTsKPiArCXN0cnVj
dCBtZGV2X2RldmljZSAqbWRldiA9IHRvX21kZXZfZGV2aWNlKGRldik7Cj4gKwlzdHJ1Y3QgbWRl
dl9kcml2ZXIgKm1kcnYgPSB0b19tZGV2X2RyaXZlcihkcnYpOwo+ICsJY29uc3Qgc3RydWN0IG1k
ZXZfY2xhc3NfaWQgKmlkcyA9IG1kcnYtPmlkX3RhYmxlOwo+ICsKPiArCWlmICghaWRzKQo+ICsJ
CXJldHVybiAwOwo+ICsKPiArCWZvciAoaSA9IDA7IGlkc1tpXS5pZDsgaSsrKQo+ICsJCWlmIChp
ZHNbaV0uaWQgPT0gbWRldi0+Y2xhc3NfaWQpCj4gKwkJCXJldHVybiAxOwo+ICsJcmV0dXJuIDA7
Cj4gK30KPiArCj4gK3N0YXRpYyBpbnQgbWRldl91ZXZlbnQoc3RydWN0IGRldmljZSAqZGV2LCBz
dHJ1Y3Qga29ial91ZXZlbnRfZW52ICplbnYpCj4gK3sKPiArCXN0cnVjdCBtZGV2X2RldmljZSAq
bWRldiA9IHRvX21kZXZfZGV2aWNlKGRldik7Cj4gKwo+ICsJcmV0dXJuIGFkZF91ZXZlbnRfdmFy
KGVudiwgIk1PREFMSUFTPW1kZXY6YyUwMlgiLCBtZGV2LT5jbGFzc19pZCk7Cj4gK30KPiArCj4g
ICBzdHJ1Y3QgYnVzX3R5cGUgbWRldl9idXNfdHlwZSA9IHsKPiAgIAkubmFtZQkJPSAibWRldiIs
Cj4gKwkubWF0Y2gJCT0gbWRldl9tYXRjaCwKPiArCS51ZXZlbnQJCT0gbWRldl91ZXZlbnQsCj4g
ICAJLnByb2JlCQk9IG1kZXZfcHJvYmUsCj4gICAJLnJlbW92ZQkJPSBtZGV2X3JlbW92ZSwKPiAg
IH07Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmZpby9tZGV2L21kZXZfcHJpdmF0ZS5oIGIvZHJp
dmVycy92ZmlvL21kZXYvbWRldl9wcml2YXRlLmgKPiBpbmRleCA3ZDkyMjk1MGNhYWYuLmM2NWY0
MzZjMTg2OSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL3ZmaW8vbWRldi9tZGV2X3ByaXZhdGUuaAo+
ICsrKyBiL2RyaXZlcnMvdmZpby9tZGV2L21kZXZfcHJpdmF0ZS5oCj4gQEAgLTMzLDYgKzMzLDcg
QEAgc3RydWN0IG1kZXZfZGV2aWNlIHsKPiAgIAlzdHJ1Y3Qga29iamVjdCAqdHlwZV9rb2JqOwo+
ICAgCXN0cnVjdCBkZXZpY2UgKmlvbW11X2RldmljZTsKPiAgIAlib29sIGFjdGl2ZTsKPiArCXUx
NiBjbGFzc19pZDsKPiAgIH07Cj4gICAKPiAgICNkZWZpbmUgdG9fbWRldl9kZXZpY2UoZGV2KQlj
b250YWluZXJfb2YoZGV2LCBzdHJ1Y3QgbWRldl9kZXZpY2UsIGRldikKPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy92ZmlvL21kZXYvdmZpb19tZGV2LmMgYi9kcml2ZXJzL3ZmaW8vbWRldi92ZmlvX21k
ZXYuYwo+IGluZGV4IDMwOTY0YTRlMGEyOC4uMzg0MzFlOWVmN2Y1IDEwMDY0NAo+IC0tLSBhL2Ry
aXZlcnMvdmZpby9tZGV2L3ZmaW9fbWRldi5jCj4gKysrIGIvZHJpdmVycy92ZmlvL21kZXYvdmZp
b19tZGV2LmMKPiBAQCAtMTIwLDEwICsxMjAsMTYgQEAgc3RhdGljIHZvaWQgdmZpb19tZGV2X3Jl
bW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCj4gICAJdmZpb19kZWxfZ3JvdXBfZGV2KGRldik7Cj4g
ICB9Cj4gICAKPiArc3RhdGljIGNvbnN0IHN0cnVjdCBtZGV2X2NsYXNzX2lkIHZmaW9faWRfdGFi
bGVbXSA9IHsKPiArCXsgTURFVl9DTEFTU19JRF9WRklPIH0sCj4gKwl7IDAgfSwKPiArfTsKPiAr
Cj4gICBzdGF0aWMgc3RydWN0IG1kZXZfZHJpdmVyIHZmaW9fbWRldl9kcml2ZXIgPSB7Cj4gICAJ
Lm5hbWUJPSAidmZpb19tZGV2IiwKPiAgIAkucHJvYmUJPSB2ZmlvX21kZXZfcHJvYmUsCj4gICAJ
LnJlbW92ZQk9IHZmaW9fbWRldl9yZW1vdmUsCj4gKwkuaWRfdGFibGUgPSB2ZmlvX2lkX3RhYmxl
LAo+ICAgfTsKPiAgIAo+ICAgc3RhdGljIGludCBfX2luaXQgdmZpb19tZGV2X2luaXQodm9pZCkK
PiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9saW51eC9tZGV2LmggYi9pbmNsdWRlL2xpbnV4L21kZXYu
aAo+IGluZGV4IDBjZTMwY2E3OGRiMC4uNzhiNjlkMDllYjU0IDEwMDY0NAo+IC0tLSBhL2luY2x1
ZGUvbGludXgvbWRldi5oCj4gKysrIGIvaW5jbHVkZS9saW51eC9tZGV2LmgKPiBAQCAtMTE4LDYg
KzExOCw3IEBAIHN0cnVjdCBtZGV2X3R5cGVfYXR0cmlidXRlIG1kZXZfdHlwZV9hdHRyXyMjX25h
bWUgPQkJXAo+ICAgICogQHByb2JlOiBjYWxsZWQgd2hlbiBuZXcgZGV2aWNlIGNyZWF0ZWQKPiAg
ICAqIEByZW1vdmU6IGNhbGxlZCB3aGVuIGRldmljZSByZW1vdmVkCj4gICAgKiBAZHJpdmVyOiBk
ZXZpY2UgZHJpdmVyIHN0cnVjdHVyZQo+ICsgKiBAaWRfdGFibGU6IHRoZSBpZHMgc2VydmljZWQg
YnkgdGhpcyBkcml2ZXIKPiAgICAqCj4gICAgKiovCj4gICBzdHJ1Y3QgbWRldl9kcml2ZXIgewo+
IEBAIC0xMjUsNiArMTI2LDcgQEAgc3RydWN0IG1kZXZfZHJpdmVyIHsKPiAgIAlpbnQgICgqcHJv
YmUpKHN0cnVjdCBkZXZpY2UgKmRldik7Cj4gICAJdm9pZCAoKnJlbW92ZSkoc3RydWN0IGRldmlj
ZSAqZGV2KTsKPiAgIAlzdHJ1Y3QgZGV2aWNlX2RyaXZlciBkcml2ZXI7Cj4gKwljb25zdCBzdHJ1
Y3QgbWRldl9jbGFzc19pZCAqaWRfdGFibGU7Cj4gICB9Owo+ICAgCj4gICAjZGVmaW5lIHRvX21k
ZXZfZHJpdmVyKGRydikJY29udGFpbmVyX29mKGRydiwgc3RydWN0IG1kZXZfZHJpdmVyLCBkcml2
ZXIpCj4gQEAgLTEzMiw2ICsxMzQsNyBAQCBzdHJ1Y3QgbWRldl9kcml2ZXIgewo+ICAgdm9pZCAq
bWRldl9nZXRfZHJ2ZGF0YShzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYpOwo+ICAgdm9pZCBtZGV2
X3NldF9kcnZkYXRhKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldiwgdm9pZCAqZGF0YSk7Cj4gICBj
b25zdCBndWlkX3QgKm1kZXZfdXVpZChzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYpOwo+ICt2b2lk
IG1kZXZfc2V0X2NsYXNzKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldiwgdTE2IGlkKTsKPiAgIAo+
ICAgZXh0ZXJuIHN0cnVjdCBidXNfdHlwZSBtZGV2X2J1c190eXBlOwo+ICAgCj4gQEAgLTE0NSw0
ICsxNDgsOSBAQCBzdHJ1Y3QgZGV2aWNlICptZGV2X3BhcmVudF9kZXYoc3RydWN0IG1kZXZfZGV2
aWNlICptZGV2KTsKPiAgIHN0cnVjdCBkZXZpY2UgKm1kZXZfZGV2KHN0cnVjdCBtZGV2X2Rldmlj
ZSAqbWRldik7Cj4gICBzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXZfZnJvbV9kZXYoc3RydWN0IGRl
dmljZSAqZGV2KTsKPiAgIAo+ICtlbnVtIHsKPiArCU1ERVZfQ0xBU1NfSURfVkZJTyA9IDEsCj4g
KwkvKiBOZXcgZW50cmllcyBtdXN0IGJlIGFkZGVkIGhlcmUgKi8KPiArfTsKPiArCj4gICAjZW5k
aWYgLyogTURFVl9IICovCj4gZGlmZiAtLWdpdCBhL2luY2x1ZGUvbGludXgvbW9kX2RldmljZXRh
YmxlLmggYi9pbmNsdWRlL2xpbnV4L21vZF9kZXZpY2V0YWJsZS5oCj4gaW5kZXggNTcxNGZkMzVh
ODNjLi5mMzJjNmU0NGZiMWEgMTAwNjQ0Cj4gLS0tIGEvaW5jbHVkZS9saW51eC9tb2RfZGV2aWNl
dGFibGUuaAo+ICsrKyBiL2luY2x1ZGUvbGludXgvbW9kX2RldmljZXRhYmxlLmgKPiBAQCAtODIx
LDQgKzgyMSwxMiBAQCBzdHJ1Y3Qgd21pX2RldmljZV9pZCB7Cj4gICAJY29uc3Qgdm9pZCAqY29u
dGV4dDsKPiAgIH07Cj4gICAKPiArLyoqCj4gKyAqIHN0cnVjdCBtZGV2X2NsYXNzX2lkIC0gTURF
ViBkZXZpY2UgY2xhc3MgaWRlbnRpZmllcgo+ICsgKiBAaWQ6IFVzZWQgdG8gaWRlbnRpZnkgYSBz
cGVjaWZpYyBjbGFzcyBvZiBkZXZpY2UsIGUuZyB2ZmlvLW1kZXYgZGV2aWNlLgo+ICsgKi8KPiAr
c3RydWN0IG1kZXZfY2xhc3NfaWQgewo+ICsJX191MTYgaWQ7Cj4gK307Cj4gKwo+ICAgI2VuZGlm
IC8qIExJTlVYX01PRF9ERVZJQ0VUQUJMRV9IICovCj4gZGlmZiAtLWdpdCBhL3NhbXBsZXMvdmZp
by1tZGV2L21ib2Nocy5jIGIvc2FtcGxlcy92ZmlvLW1kZXYvbWJvY2hzLmMKPiBpbmRleCBhYzVj
OGMxN2IxZmYuLjExNWJjNTA3NDY1NiAxMDA2NDQKPiAtLS0gYS9zYW1wbGVzL3ZmaW8tbWRldi9t
Ym9jaHMuYwo+ICsrKyBiL3NhbXBsZXMvdmZpby1tZGV2L21ib2Nocy5jCj4gQEAgLTU2MSw2ICs1
NjEsNyBAQCBzdGF0aWMgaW50IG1ib2Noc19jcmVhdGUoc3RydWN0IGtvYmplY3QgKmtvYmosIHN0
cnVjdCBtZGV2X2RldmljZSAqbWRldikKPiAgIAltYm9jaHNfcmVzZXQobWRldik7Cj4gICAKPiAg
IAltYm9jaHNfdXNlZF9tYnl0ZXMgKz0gdHlwZS0+bWJ5dGVzOwo+ICsJbWRldl9zZXRfY2xhc3Mo
bWRldiwgTURFVl9DTEFTU19JRF9WRklPKTsKPiAgIAlyZXR1cm4gMDsKPiAgIAo+ICAgZXJyX21l
bToKPiBkaWZmIC0tZ2l0IGEvc2FtcGxlcy92ZmlvLW1kZXYvbWRweS5jIGIvc2FtcGxlcy92Zmlv
LW1kZXYvbWRweS5jCj4gaW5kZXggY2M4NmJmNjU2NmU0Li42NjU2MTQ1NzRkNTAgMTAwNjQ0Cj4g
LS0tIGEvc2FtcGxlcy92ZmlvLW1kZXYvbWRweS5jCj4gKysrIGIvc2FtcGxlcy92ZmlvLW1kZXYv
bWRweS5jCj4gQEAgLTI2OSw2ICsyNjksNyBAQCBzdGF0aWMgaW50IG1kcHlfY3JlYXRlKHN0cnVj
dCBrb2JqZWN0ICprb2JqLCBzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYpCj4gICAJbWRweV9yZXNl
dChtZGV2KTsKPiAgIAo+ICAgCW1kcHlfY291bnQrKzsKPiArCW1kZXZfc2V0X2NsYXNzKG1kZXYs
IE1ERVZfQ0xBU1NfSURfVkZJTyk7Cj4gICAJcmV0dXJuIDA7Cj4gICB9Cj4gICAKPiBkaWZmIC0t
Z2l0IGEvc2FtcGxlcy92ZmlvLW1kZXYvbXR0eS5jIGIvc2FtcGxlcy92ZmlvLW1kZXYvbXR0eS5j
Cj4gaW5kZXggY2U4NGEzMDBhNGRhLi45MGRhMTJmZjdmZDkgMTAwNjQ0Cj4gLS0tIGEvc2FtcGxl
cy92ZmlvLW1kZXYvbXR0eS5jCj4gKysrIGIvc2FtcGxlcy92ZmlvLW1kZXYvbXR0eS5jCj4gQEAg
LTc1NSw2ICs3NTUsNyBAQCBzdGF0aWMgaW50IG10dHlfY3JlYXRlKHN0cnVjdCBrb2JqZWN0ICpr
b2JqLCBzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYpCj4gICAJbGlzdF9hZGQoJm1kZXZfc3RhdGUt
Pm5leHQsICZtZGV2X2RldmljZXNfbGlzdCk7Cj4gICAJbXV0ZXhfdW5sb2NrKCZtZGV2X2xpc3Rf
bG9jayk7Cj4gICAKPiArCW1kZXZfc2V0X2NsYXNzKG1kZXYsIE1ERVZfQ0xBU1NfSURfVkZJTyk7
Cj4gICAJcmV0dXJuIDA7Cj4gICB9Cj4gICAKPiAKX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vZHJpLWRldmVs
