Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id D8BF923F44
	for <lists+dri-devel@lfdr.de>; Mon, 20 May 2019 19:41:45 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 35DEC89269;
	Mon, 20 May 2019 17:41:43 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga18.intel.com (mga18.intel.com [134.134.136.126])
 by gabe.freedesktop.org (Postfix) with ESMTPS id AE3D98925F;
 Mon, 20 May 2019 17:41:41 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga003.jf.intel.com ([10.7.209.27])
 by orsmga106.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 20 May 2019 10:41:41 -0700
X-ExtLoop1: 1
Received: from ideak-desk.fi.intel.com ([10.237.72.204])
 by orsmga003.jf.intel.com with ESMTP; 20 May 2019 10:41:39 -0700
From: Imre Deak <imre.deak@intel.com>
To: intel-gfx@lists.freedesktop.org,
	dri-devel@lists.freedesktop.org
Subject: [PATCH] drm: Allow modeset on unregisted connectors unconditionally
Date: Mon, 20 May 2019 20:41:09 +0300
Message-Id: <20190520174109.12732-1-imre.deak@intel.com>
X-Mailer: git-send-email 2.17.1
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Daniel Vetter <daniel.vetter@ffwll.ch>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

V2UgYWxsb3dlZCBtb2Rlc2V0dGluZyBhbiB1bnJlZ2lzdGVyZWQgY29ubmVjdG9yIG9ubHkgaW4g
dGhlIGNhc2UgdGhlCm1vZGUgaXMgZ2V0dGluZyBkaXNhYmxlZCBvbiB0aGUgY29ubmVjdG9yLgoK
VGhlIHJlYXNvbiBmb3IgdGhpcyBjaGVjayB3YXMgdGhlIGxhY2sgb2YgcHJvcGVyIHJlZmNvdW50
aW5nIGZvciB0aGUKYmFja2luZyBtZW1vcnkgb2JqZWN0cy4gVGhhdCBwcm9ibGVtIGhhcyBiZWVu
IHNvbHZlZCBtZWFud2hpbGUgc28gdGhlcmUKaXMgbm8gcmVhc29uIGFueSBtb3JlIHRvIHJlamVj
dCB0aGUgbW9kZXNldHRpbmcgaW4gZ2VuZXJhbC4gVGhlIGNoZWNrCmZvciB0aGF0IGFsc28gbWFr
ZXMgZHJpdmVyIGludGVybmFsIG1vZGVzZXRzIG1vcmUgY3VtYmVyc29tZSB3aGVyZSB3ZQpuZWVk
IHRvIGFkZCBleGVtcHRpb25zIGZvciB0aGUgY2FzZXMgd2hlcmUgd2UgZG8gbmVlZCB0byBhbGxv
dyB0aGUKbW9kZXNldCBldmVuIGZvciB1bnJlZ2lzdGVyZWQgY29ubmVjdG9ycy4gT25lIHN1Y2gg
Y2FzZSBpcyB0aGUKcmVzdG9yYXRpb24gb2YgdGhlIG1vZGUgZHVyaW5nIHJlc3VtZS4KClNpbXBs
aWZ5IHRoaW5ncyBieSByZW1vdmluZyB0aGUgdW5uZWVkZWQgY2hlY2suIEkgY2FuJ3Qgc2VlIGhv
dwptb2Rlc2V0dGluZyBhbiB1bnJlZ2lzdGVyZWQgY29ubmVjdG9yIGNhbiBjYXVzZSBhbnkgcHJv
YmxlbSBhbmQgdGhlIHJhY2UKKGRlc2NyaWJlZCBpbiB0aGUgY29kZSBjb21tZW50KSBjYW4gYW55
d2F5IHJlc3VsdCBpbiBzdWNoIGEgbW9kZXNldCAoaWYKdGhlIGNvbm5lY3RvciBpcyB1bnJlZ2lz
dGVyZWQgcmlnaHQgYWZ0ZXIgdGhlIGNoZWNrKS4KCkNjOiBMeXVkZSBQYXVsIDxseXVkZUByZWRo
YXQuY29tPgpDYzogRGFuaWVsIFZldHRlciA8ZGFuaWVsLnZldHRlckBmZndsbC5jaD4KQ2M6IFZp
bGxlIFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBsaW51eC5pbnRlbC5jb20+ClNpZ25lZC1vZmYt
Ynk6IEltcmUgRGVhayA8aW1yZS5kZWFrQGludGVsLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0v
ZHJtX2F0b21pY19oZWxwZXIuYyB8IDI5ICsrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAx
IGZpbGUgY2hhbmdlZCwgMiBpbnNlcnRpb25zKCspLCAyNyBkZWxldGlvbnMoLSkKCmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vZHJtX2F0b21pY19oZWxwZXIuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9kcm1fYXRvbWljX2hlbHBlci5jCmluZGV4IDJlMGNiNDI0NmNiZC4uZTk0ZTY5NDgzNDk4IDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vZHJtX2F0b21pY19oZWxwZXIuYworKysgYi9kcml2
ZXJzL2dwdS9kcm0vZHJtX2F0b21pY19oZWxwZXIuYwpAQCAtMzE5LDMzICszMTksNiBAQCB1cGRh
dGVfY29ubmVjdG9yX3JvdXRpbmcoc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnN0YXRlLAogCQly
ZXR1cm4gMDsKIAl9CiAKLQljcnRjX3N0YXRlID0gZHJtX2F0b21pY19nZXRfbmV3X2NydGNfc3Rh
dGUoc3RhdGUsCi0JCQkJCQkgICBuZXdfY29ubmVjdG9yX3N0YXRlLT5jcnRjKTsKLQkvKgotCSAq
IEZvciBjb21wYXRpYmlsaXR5IHdpdGggbGVnYWN5IHVzZXJzLCB3ZSB3YW50IHRvIG1ha2Ugc3Vy
ZSB0aGF0Ci0JICogd2UgYWxsb3cgRFBNUyBPbi0+T2ZmIG1vZGVzZXRzIG9uIHVucmVnaXN0ZXJl
ZCBjb25uZWN0b3JzLiBNb2Rlc2V0cwotCSAqIHdoaWNoIHdvdWxkIHJlc3VsdCBpbiBhbnl0aGlu
ZyBlbHNlIG11c3QgYmUgY29uc2lkZXJlZCBpbnZhbGlkLCB0bwotCSAqIGF2b2lkIHR1cm5pbmcg
b24gbmV3IGRpc3BsYXlzIG9uIGRlYWQgY29ubmVjdG9ycy4KLQkgKgotCSAqIFNpbmNlIHRoZSBj
b25uZWN0b3IgY2FuIGJlIHVucmVnaXN0ZXJlZCBhdCBhbnkgcG9pbnQgZHVyaW5nIGFuCi0JICog
YXRvbWljIGNoZWNrIG9yIGNvbW1pdCwgdGhpcyBpcyByYWN5LiBCdXQgdGhhdCdzIE9LOiBhbGwg
d2UgY2FyZQotCSAqIGFib3V0IGlzIGVuc3VyaW5nIHRoYXQgdXNlcnNwYWNlIGNhbid0IGRvIGFu
eXRoaW5nIGJ1dCBzaHV0IG9mZiB0aGUKLQkgKiBkaXNwbGF5IG9uIGEgY29ubmVjdG9yIHRoYXQg
d2FzIGRlc3Ryb3llZCBhZnRlciBpdCdzIGJlZW4gbm90aWZpZWQsCi0JICogbm90IGJlZm9yZS4K
LQkgKgotCSAqIEFkZGl0aW9uYWxseSwgd2UgYWxzbyB3YW50IHRvIGlnbm9yZSBjb25uZWN0b3Ig
cmVnaXN0cmF0aW9uIHdoZW4KLQkgKiB3ZSdyZSB0cnlpbmcgdG8gcmVzdG9yZSBhbiBhdG9taWMg
c3RhdGUgZHVyaW5nIHN5c3RlbSByZXN1bWUgc2luY2UKLQkgKiB0aGVyZSdzIGEgY2hhbmNlIHRo
ZSBjb25uZWN0b3IgbWF5IGhhdmUgYmVlbiBkZXN0cm95ZWQgZHVyaW5nIHRoZQotCSAqIHByb2Nl
c3MsIGJ1dCBpdCdzIGJldHRlciB0byBpZ25vcmUgdGhhdCB0aGVuIGNhdXNlCi0JICogZHJtX2F0
b21pY19oZWxwZXJfcmVzdW1lKCkgdG8gZmFpbC4KLQkgKi8KLQlpZiAoIXN0YXRlLT5kdXBsaWNh
dGVkICYmIGRybV9jb25uZWN0b3JfaXNfdW5yZWdpc3RlcmVkKGNvbm5lY3RvcikgJiYKLQkgICAg
Y3J0Y19zdGF0ZS0+YWN0aXZlKSB7Ci0JCURSTV9ERUJVR19BVE9NSUMoIltDT05ORUNUT1I6JWQ6
JXNdIGlzIG5vdCByZWdpc3RlcmVkXG4iLAotCQkJCSBjb25uZWN0b3ItPmJhc2UuaWQsIGNvbm5l
Y3Rvci0+bmFtZSk7Ci0JCXJldHVybiAtRUlOVkFMOwotCX0KLQogCWZ1bmNzID0gY29ubmVjdG9y
LT5oZWxwZXJfcHJpdmF0ZTsKIAogCWlmIChmdW5jcy0+YXRvbWljX2Jlc3RfZW5jb2RlcikKQEAg
LTM5MCw2ICszNjMsOCBAQCB1cGRhdGVfY29ubmVjdG9yX3JvdXRpbmcoc3RydWN0IGRybV9hdG9t
aWNfc3RhdGUgKnN0YXRlLAogCiAJc2V0X2Jlc3RfZW5jb2RlcihzdGF0ZSwgbmV3X2Nvbm5lY3Rv
cl9zdGF0ZSwgbmV3X2VuY29kZXIpOwogCisJY3J0Y19zdGF0ZSA9IGRybV9hdG9taWNfZ2V0X25l
d19jcnRjX3N0YXRlKHN0YXRlLAorCQkJCQkJICAgbmV3X2Nvbm5lY3Rvcl9zdGF0ZS0+Y3J0Yyk7
CiAJY3J0Y19zdGF0ZS0+Y29ubmVjdG9yc19jaGFuZ2VkID0gdHJ1ZTsKIAogCURSTV9ERUJVR19B
VE9NSUMoIltDT05ORUNUT1I6JWQ6JXNdIHVzaW5nIFtFTkNPREVSOiVkOiVzXSBvbiBbQ1JUQzol
ZDolc11cbiIsCi0tIAoyLjE3LjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVk
ZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZv
L2RyaS1kZXZlbA==
