Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id D705E28D4AA
	for <lists+dri-devel@lfdr.de>; Tue, 13 Oct 2020 21:38:56 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 33D676E937;
	Tue, 13 Oct 2020 19:38:53 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga05.intel.com (mga05.intel.com [192.55.52.43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E005B6E932;
 Tue, 13 Oct 2020 19:38:51 +0000 (UTC)
IronPort-SDR: FSwxgBNLQa4yUsLdVlXbyWNYDAfdKsyzkvbCNXp4RCfdlN0AQi748NI/CoJCZTUIOScWe2BDG3
 lM22wAIYN1YA==
X-IronPort-AV: E=McAfee;i="6000,8403,9773"; a="250667885"
X-IronPort-AV: E=Sophos;i="5.77,371,1596524400"; d="scan'208";a="250667885"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga004.fm.intel.com ([10.253.24.48])
 by fmsmga105.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 13 Oct 2020 12:38:51 -0700
IronPort-SDR: A5p7DxjEz8U6lUelRqFP3fJcNFqj/evXGxJWGKM7JtEMGF80fkE1M6hsDTU4TE+pSyYCRFbKBy
 4y1Zym+dQ6zA==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.77,371,1596524400"; d="scan'208";a="345381911"
Received: from tejas-system-product-name.iind.intel.com ([10.145.162.130])
 by fmsmga004.fm.intel.com with ESMTP; 13 Oct 2020 12:38:48 -0700
From: Tejas Upadhyay <tejaskumarx.surendrakumar.upadhyay@intel.com>
To: intel-gfx@lists.freedesktop.org, dri-devel@lists.freedesktop.org,
 matthew.d.roper@intel.com, ville.syrjala@linux.intel.com
Subject: [PATCH V2] drm/i915/jsl: Split EHL/JSL platform info and PCI ids
Date: Wed, 14 Oct 2020 00:59:48 +0530
Message-Id: <20201013192948.63470-1-tejaskumarx.surendrakumar.upadhyay@intel.com>
X-Mailer: git-send-email 2.28.0
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

UmVjZW50bHkgd2UgY2FtZSBhY3Jvc3MgcmVxdWlyZW1lbnQgdG8gaWRlbnRpZnkgRUhMIGFuZCBK
U0wKcGxhdGZvcm0gdG8gcHJvZ3JhbSB0aGVtIGRpZmZlcmVudGx5LiBUaHVzIFNwbGl0IHRoZSBi
YXNpYwpwbGF0Zm9ybSBkZWZpbml0aW9uLCBtYWNyb3MsIGFuZCBQQ0kgSURzIHRvIGRpZmZlcmVu
dGlhdGUKYmV0d2VlbiBFSEwgYW5kIEpTTCBwbGF0Zm9ybXMuIEFsc28sIElTX0VMS0hBUlRMQUtF
IGlzIHJlcGxhY2VkCndpdGggSVNfSlNMX0VITCBldmVyeXdoZXJlLgoKQ2hhbmdlcyBzaW5jZSBW
MSA6CgktIFJlYmFzZWQgdG8gYXZvaWQgbWVyZ2UgY29uZmxpY3RzCgktIEFkZGVkIG1pc3NlZCBj
aGVjayBmb3IgamFzcGVybGFrZSBpbiBpbnRlbF91Y19mdy5jCgpDYyA6IE1hdHQgUm9wZXIgPG1h
dHRoZXcuZC5yb3BlckBpbnRlbC5jb20+CkNjIDogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJq
YWxhQGxpbnV4LmludGVsLmNvbT4KU2lnbmVkLW9mZi1ieTogVGVqYXMgVXBhZGh5YXkgPHRlamFz
a3VtYXJ4LnN1cmVuZHJha3VtYXIudXBhZGh5YXlAaW50ZWwuY29tPgotLS0KIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaWNsX2RzaS5jICAgICAgICAgfCAgNCArKy0tCiBkcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2NkY2xrLmMgICAgIHwgIDQgKystLQogZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9jb21ib19waHkuYyB8ICA2ICsrKy0tLQogZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYyAgICAgICB8IDEyICsrKysrKy0tLS0t
LQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMgICB8ICA4ICsr
KystLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwLmMgICAgICAgIHwg
IDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBsbF9tZ3IuYyAgfCAx
NiArKysrKysrKy0tLS0tLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9zc2V1LmMg
ICAgICAgICAgIHwgIDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3dvcmthcm91
bmRzLmMgICAgfCAgNCArKy0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF91Y19m
dy5jICAgICAgIHwgIDEgKwogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaCAgICAgICAg
ICAgICAgICB8ICA3ICsrKystLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGNpLmMgICAg
ICAgICAgICAgICAgfCAgOSArKysrKysrKysKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2Rl
dmljZV9pbmZvLmMgICAgICAgfCAgMSArCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kZXZp
Y2VfaW5mby5oICAgICAgIHwgIDEgKwogZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfcGNoLmMg
ICAgICAgICAgICAgICB8ICA2ICsrKy0tLQogaW5jbHVkZS9kcm0vaTkxNV9wY2lpZHMuaCAgICAg
ICAgICAgICAgICAgICAgICB8ICA5ICsrKysrKy0tLQogMTYgZmlsZXMgY2hhbmdlZCwgNTQgaW5z
ZXJ0aW9ucygrKSwgMzggZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pY2xfZHNpLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2lj
bF9kc2kuYwppbmRleCA0NDAwZTgzZjc4M2YuLjA5NjY1MjkyMTQ1MyAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pY2xfZHNpLmMKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pY2xfZHNpLmMKQEAgLTQ1NSw3ICs0NTUsNyBAQCBzdGF0aWMgdm9pZCBn
ZW4xMV9kc2lfY29uZmlnX3BoeV9sYW5lc19zZXF1ZW5jZShzdHJ1Y3QgaW50ZWxfZW5jb2RlciAq
ZW5jb2RlcikKIAkJaW50ZWxfZGVfd3JpdGUoZGV2X3ByaXYsIElDTF9QT1JUX1RYX0RXMl9HUlAo
cGh5KSwgdG1wKTsKIAogCQkvKiBGb3IgRUhMLCBUR0wsIHNldCBsYXRlbmN5IG9wdGltaXphdGlv
biBmb3IgUENTX0RXMSBsYW5lcyAqLwotCQlpZiAoSVNfRUxLSEFSVExBS0UoZGV2X3ByaXYpIHx8
IChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDEyKSkgeworCQlpZiAoSVNfSlNMX0VITChkZXZfcHJp
dikgfHwgKElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTIpKSB7CiAJCQl0bXAgPSBpbnRlbF9kZV9y
ZWFkKGRldl9wcml2LAogCQkJCQkgICAgSUNMX1BPUlRfUENTX0RXMV9BVVgocGh5KSk7CiAJCQl0
bXAgJj0gfkxBVEVOQ1lfT1BUSU1fTUFTSzsKQEAgLTYxMiw3ICs2MTIsNyBAQCBnZW4xMV9kc2lf
c2V0dXBfZHBoeV90aW1pbmdzKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAogCQl9CiAJ
fQogCi0JaWYgKElTX0VMS0hBUlRMQUtFKGRldl9wcml2KSkgeworCWlmIChJU19KU0xfRUhMKGRl
dl9wcml2KSkgewogCQlmb3JfZWFjaF9kc2lfcGh5KHBoeSwgaW50ZWxfZHNpLT5waHlzKSB7CiAJ
CQl0bXAgPSBpbnRlbF9kZV9yZWFkKGRldl9wcml2LCBJQ0xfRFBIWV9DSEtOKHBoeSkpOwogCQkJ
dG1wIHw9IElDTF9EUEhZX0NIS05fQUZFX09WRVJfUFBJX1NUUkFQOwpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9jZGNsay5jIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9jZGNsay5jCmluZGV4IDdkYmYxNTMyNzlmYi4uN2I0NjMzMGZh
NjljIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2NkY2xr
LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9jZGNsay5jCkBAIC0y
NTg4LDcgKzI1ODgsNyBAQCBzdGF0aWMgaW50IGludGVsX2NvbXB1dGVfbWF4X2RvdGNsayhzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCiAgKi8KIHZvaWQgaW50ZWxfdXBkYXRlX21h
eF9jZGNsayhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCiB7Ci0JaWYgKElTX0VM
S0hBUlRMQUtFKGRldl9wcml2KSkgeworCWlmIChJU19KU0xfRUhMKGRldl9wcml2KSkgewogCQlp
ZiAoZGV2X3ByaXYtPmNkY2xrLmh3LnJlZiA9PSAyNDAwMCkKIAkJCWRldl9wcml2LT5tYXhfY2Rj
bGtfZnJlcSA9IDU1MjAwMDsKIAkJZWxzZQpAQCAtMjgyOSw3ICsyODI5LDcgQEAgdm9pZCBpbnRl
bF9pbml0X2NkY2xrX2hvb2tzKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKIAkJ
ZGV2X3ByaXYtPmRpc3BsYXkubW9kZXNldF9jYWxjX2NkY2xrID0gYnh0X21vZGVzZXRfY2FsY19j
ZGNsazsKIAkJZGV2X3ByaXYtPmRpc3BsYXkuY2FsY192b2x0YWdlX2xldmVsID0gdGdsX2NhbGNf
dm9sdGFnZV9sZXZlbDsKIAkJZGV2X3ByaXYtPmNkY2xrLnRhYmxlID0gaWNsX2NkY2xrX3RhYmxl
OwotCX0gZWxzZSBpZiAoSVNfRUxLSEFSVExBS0UoZGV2X3ByaXYpKSB7CisJfSBlbHNlIGlmIChJ
U19KU0xfRUhMKGRldl9wcml2KSkgewogCQlkZXZfcHJpdi0+ZGlzcGxheS5zZXRfY2RjbGsgPSBi
eHRfc2V0X2NkY2xrOwogCQlkZXZfcHJpdi0+ZGlzcGxheS5id19jYWxjX21pbl9jZGNsayA9IHNr
bF9id19jYWxjX21pbl9jZGNsazsKIAkJZGV2X3ByaXYtPmRpc3BsYXkubW9kZXNldF9jYWxjX2Nk
Y2xrID0gYnh0X21vZGVzZXRfY2FsY19jZGNsazsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfY29tYm9fcGh5LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX2NvbWJvX3BoeS5jCmluZGV4IDkzMjI2NWYxYWM5MC4uZDVhZDYxZTQwODNl
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2NvbWJvX3Bo
eS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfY29tYm9fcGh5LmMK
QEAgLTE4OCw3ICsxODgsNyBAQCBzdGF0aWMgYm9vbCBoYXNfcGh5X21pc2Moc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmk5MTUsIGVudW0gcGh5IHBoeSkKIAkgKiBQSFktQiBhbmQgbWF5IG5vdCBl
dmVuIGhhdmUgaW5zdGFuY2VzIG9mIHRoZSByZWdpc3RlciBmb3IgdGhlCiAJICogb3RoZXIgY29t
Ym8gUEhZJ3MuCiAJICovCi0JaWYgKElTX0VMS0hBUlRMQUtFKGk5MTUpIHx8CisJaWYgKElTX0pT
TF9FSEwoaTkxNSkgfHwKIAkgICAgSVNfUk9DS0VUTEFLRShpOTE1KSB8fAogCSAgICBJU19ERzEo
aTkxNSkpCiAJCXJldHVybiBwaHkgPCBQSFlfQzsKQEAgLTI4Myw3ICsyODMsNyBAQCBzdGF0aWMg
Ym9vbCBpY2xfY29tYm9fcGh5X3ZlcmlmeV9zdGF0ZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
ZGV2X3ByaXYsCiAJCXJldCAmPSBjaGVja19waHlfcmVnKGRldl9wcml2LCBwaHksIElDTF9QT1JU
X0NPTVBfRFc4KHBoeSksCiAJCQkJICAgICBJUkVGR0VOLCBJUkVGR0VOKTsKIAotCQlpZiAoSVNf
RUxLSEFSVExBS0UoZGV2X3ByaXYpKSB7CisJCWlmIChJU19KU0xfRUhMKGRldl9wcml2KSkgewog
CQkJaWYgKGVobF92YnRfZGRpX2RfcHJlc2VudChkZXZfcHJpdikpCiAJCQkJZXhwZWN0ZWRfdmFs
ID0gSUNMX1BIWV9NSVNDX01VWF9ERElEOwogCkBAIC0zNzcsNyArMzc3LDcgQEAgc3RhdGljIHZv
aWQgaWNsX2NvbWJvX3BoeXNfaW5pdChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYp
CiAJCSAqICJpbnRlcm5hbCIgY2hpbGQgZGV2aWNlcy4KIAkJICovCiAJCXZhbCA9IGludGVsX2Rl
X3JlYWQoZGV2X3ByaXYsIElDTF9QSFlfTUlTQyhwaHkpKTsKLQkJaWYgKElTX0VMS0hBUlRMQUtF
KGRldl9wcml2KSAmJiBwaHkgPT0gUEhZX0EpIHsKKwkJaWYgKElTX0pTTF9FSEwoZGV2X3ByaXYp
ICYmIHBoeSA9PSBQSFlfQSkgewogCQkJdmFsICY9IH5JQ0xfUEhZX01JU0NfTVVYX0RESUQ7CiAK
IAkJCWlmIChlaGxfdmJ0X2RkaV9kX3ByZXNlbnQoZGV2X3ByaXYpKQpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMKaW5kZXggMzVlZGJkODI2NDQzLi5iYjBiOTkzMDk1OGYg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMKKysr
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYwpAQCAtMjM2Myw3ICsy
MzYzLDcgQEAgc3RhdGljIHU4IGludGVsX2RkaV9kcF92b2x0YWdlX21heChzdHJ1Y3QgaW50ZWxf
ZHAgKmludGVsX2RwLAogCQllbHNlCiAJCQl0Z2xfZ2V0X2RrbF9idWZfdHJhbnMoZW5jb2Rlciwg
Y3J0Y19zdGF0ZSwgJm5fZW50cmllcyk7CiAJfSBlbHNlIGlmIChJTlRFTF9HRU4oZGV2X3ByaXYp
ID09IDExKSB7Ci0JCWlmIChJU19FTEtIQVJUTEFLRShkZXZfcHJpdikpCisJCWlmIChJU19KU0xf
RUhMKGRldl9wcml2KSkKIAkJCWVobF9nZXRfY29tYm9fYnVmX3RyYW5zKGVuY29kZXIsIGNydGNf
c3RhdGUsICZuX2VudHJpZXMpOwogCQllbHNlIGlmIChpbnRlbF9waHlfaXNfY29tYm8oZGV2X3By
aXYsIHBoeSkpCiAJCQlpY2xfZ2V0X2NvbWJvX2J1Zl90cmFucyhlbmNvZGVyLCBjcnRjX3N0YXRl
LCAmbl9lbnRyaWVzKTsKQEAgLTI1NDQsNyArMjU0NCw3IEBAIHN0YXRpYyB2b2lkIGljbF9kZGlf
Y29tYm9fdnN3aW5nX3Byb2dyYW0oc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCiAKIAlp
ZiAoSU5URUxfR0VOKGRldl9wcml2KSA+PSAxMikKIAkJZGRpX3RyYW5zbGF0aW9ucyA9IHRnbF9n
ZXRfY29tYm9fYnVmX3RyYW5zKGVuY29kZXIsIGNydGNfc3RhdGUsICZuX2VudHJpZXMpOwotCWVs
c2UgaWYgKElTX0VMS0hBUlRMQUtFKGRldl9wcml2KSkKKwllbHNlIGlmIChJU19KU0xfRUhMKGRl
dl9wcml2KSkKIAkJZGRpX3RyYW5zbGF0aW9ucyA9IGVobF9nZXRfY29tYm9fYnVmX3RyYW5zKGVu
Y29kZXIsIGNydGNfc3RhdGUsICZuX2VudHJpZXMpOwogCWVsc2UKIAkJZGRpX3RyYW5zbGF0aW9u
cyA9IGljbF9nZXRfY29tYm9fYnVmX3RyYW5zKGVuY29kZXIsIGNydGNfc3RhdGUsICZuX2VudHJp
ZXMpOwpAQCAtMzEzNSw3ICszMTM1LDcgQEAgc3RhdGljIHZvaWQgaW50ZWxfZGRpX2Nsa19zZWxl
Y3Qoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCiAJCWlmICghaW50ZWxfcGh5X2lzX2Nv
bWJvKGRldl9wcml2LCBwaHkpKQogCQkJaW50ZWxfZGVfd3JpdGUoZGV2X3ByaXYsIERESV9DTEtf
U0VMKHBvcnQpLAogCQkJCSAgICAgICBpY2xfcGxsX3RvX2RkaV9jbGtfc2VsKGVuY29kZXIsIGNy
dGNfc3RhdGUpKTsKLQkJZWxzZSBpZiAoSVNfRUxLSEFSVExBS0UoZGV2X3ByaXYpICYmIHBvcnQg
Pj0gUE9SVF9DKQorCQllbHNlIGlmIChJU19KU0xfRUhMKGRldl9wcml2KSAmJiBwb3J0ID49IFBP
UlRfQykKIAkJCS8qCiAJCQkgKiBNRyBkb2VzIG5vdCBleGlzdCBidXQgdGhlIHByb2dyYW1taW5n
IGlzIHJlcXVpcmVkCiAJCQkgKiB0byB1bmdhdGUgRERJQyBhbmQgRERJRApAQCAtMzE4NCw3ICsz
MTg0LDcgQEAgc3RhdGljIHZvaWQgaW50ZWxfZGRpX2Nsa19kaXNhYmxlKHN0cnVjdCBpbnRlbF9l
bmNvZGVyICplbmNvZGVyKQogCiAJaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTEpIHsKIAkJ
aWYgKCFpbnRlbF9waHlfaXNfY29tYm8oZGV2X3ByaXYsIHBoeSkgfHwKLQkJICAgIChJU19FTEtI
QVJUTEFLRShkZXZfcHJpdikgJiYgcG9ydCA+PSBQT1JUX0MpKQorCQkgICAgKElTX0pTTF9FSEwo
ZGV2X3ByaXYpICYmIHBvcnQgPj0gUE9SVF9DKSkKIAkJCWludGVsX2RlX3dyaXRlKGRldl9wcml2
LCBERElfQ0xLX1NFTChwb3J0KSwKIAkJCQkgICAgICAgRERJX0NMS19TRUxfTk9ORSk7CiAJfSBl
bHNlIGlmIChJU19DQU5OT05MQUtFKGRldl9wcml2KSkgewpAQCAtNDMyOCw3ICs0MzI4LDcgQEAg
dm9pZCBpbnRlbF9kZGlfY29tcHV0ZV9taW5fdm9sdGFnZV9sZXZlbChzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqZGV2X3ByaXYsCiB7CiAJaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTIgJiYg
Y3J0Y19zdGF0ZS0+cG9ydF9jbG9jayA+IDU5NDAwMCkKIAkJY3J0Y19zdGF0ZS0+bWluX3ZvbHRh
Z2VfbGV2ZWwgPSAyOwotCWVsc2UgaWYgKElTX0VMS0hBUlRMQUtFKGRldl9wcml2KSAmJiBjcnRj
X3N0YXRlLT5wb3J0X2Nsb2NrID4gNTk0MDAwKQorCWVsc2UgaWYgKElTX0pTTF9FSEwoZGV2X3By
aXYpICYmIGNydGNfc3RhdGUtPnBvcnRfY2xvY2sgPiA1OTQwMDApCiAJCWNydGNfc3RhdGUtPm1p
bl92b2x0YWdlX2xldmVsID0gMzsKIAllbHNlIGlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDEx
ICYmIGNydGNfc3RhdGUtPnBvcnRfY2xvY2sgPiA1OTQwMDApCiAJCWNydGNfc3RhdGUtPm1pbl92
b2x0YWdlX2xldmVsID0gMTsKQEAgLTUxOTksNyArNTE5OSw3IEBAIHZvaWQgaW50ZWxfZGRpX2lu
aXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LCBlbnVtIHBvcnQgcG9ydCkKIAkJ
ZW5jb2Rlci0+aHBkX3BpbiA9IHJrbF9ocGRfcGluKGRldl9wcml2LCBwb3J0KTsKIAllbHNlIGlm
IChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDEyKQogCQllbmNvZGVyLT5ocGRfcGluID0gdGdsX2hw
ZF9waW4oZGV2X3ByaXYsIHBvcnQpOwotCWVsc2UgaWYgKElTX0VMS0hBUlRMQUtFKGRldl9wcml2
KSkKKwllbHNlIGlmIChJU19KU0xfRUhMKGRldl9wcml2KSkKIAkJZW5jb2Rlci0+aHBkX3BpbiA9
IGVobF9ocGRfcGluKGRldl9wcml2LCBwb3J0KTsKIAllbHNlIGlmIChJU19HRU4oZGV2X3ByaXYs
IDExKSkKIAkJZW5jb2Rlci0+aHBkX3BpbiA9IGljbF9ocGRfcGluKGRldl9wcml2LCBwb3J0KTsK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5j
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMKaW5kZXggY2Yx
NDE3ZmY1NGQ3Li5jMDE2YjVkOTU2MWUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3Bs
YXkvaW50ZWxfZGlzcGxheS5jCkBAIC03MzMxLDcgKzczMzEsNyBAQCBib29sIGludGVsX3BoeV9p
c19jb21ibyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsIGVudW0gcGh5IHBoeSkK
IAkJcmV0dXJuIGZhbHNlOwogCWVsc2UgaWYgKElTX1JPQ0tFVExBS0UoZGV2X3ByaXYpKQogCQly
ZXR1cm4gcGh5IDw9IFBIWV9EOwotCWVsc2UgaWYgKElTX0VMS0hBUlRMQUtFKGRldl9wcml2KSkK
KwllbHNlIGlmIChJU19KU0xfRUhMKGRldl9wcml2KSkKIAkJcmV0dXJuIHBoeSA8PSBQSFlfQzsK
IAllbHNlIGlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDExKQogCQlyZXR1cm4gcGh5IDw9IFBI
WV9COwpAQCAtNzM0NSw3ICs3MzQ1LDcgQEAgYm9vbCBpbnRlbF9waHlfaXNfdGMoc3RydWN0IGRy
bV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LCBlbnVtIHBoeSBwaHkpCiAJCXJldHVybiBmYWxzZTsK
IAllbHNlIGlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDEyKQogCQlyZXR1cm4gcGh5ID49IFBI
WV9EICYmIHBoeSA8PSBQSFlfSTsKLQllbHNlIGlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDEx
ICYmICFJU19FTEtIQVJUTEFLRShkZXZfcHJpdikpCisJZWxzZSBpZiAoSU5URUxfR0VOKGRldl9w
cml2KSA+PSAxMSAmJiAhSVNfSlNMX0VITChkZXZfcHJpdikpCiAJCXJldHVybiBwaHkgPj0gUEhZ
X0MgJiYgcGh5IDw9IFBIWV9GOwogCWVsc2UKIAkJcmV0dXJuIGZhbHNlOwpAQCAtNzM1NSw3ICs3
MzU1LDcgQEAgZW51bSBwaHkgaW50ZWxfcG9ydF90b19waHkoc3RydWN0IGRybV9pOTE1X3ByaXZh
dGUgKmk5MTUsIGVudW0gcG9ydCBwb3J0KQogewogCWlmIChJU19ST0NLRVRMQUtFKGk5MTUpICYm
IHBvcnQgPj0gUE9SVF9EKQogCQlyZXR1cm4gKGVudW0gcGh5KXBvcnQgLSAxOwotCWVsc2UgaWYg
KElTX0VMS0hBUlRMQUtFKGk5MTUpICYmIHBvcnQgPT0gUE9SVF9EKQorCWVsc2UgaWYgKElTX0pT
TF9FSEwoaTkxNSkgJiYgcG9ydCA9PSBQT1JUX0QpCiAJCXJldHVybiBQSFlfQTsKIAogCXJldHVy
biAoZW51bSBwaHkpcG9ydDsKQEAgLTE3MTE5LDcgKzE3MTE5LDcgQEAgc3RhdGljIHZvaWQgaW50
ZWxfc2V0dXBfb3V0cHV0cyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCiAJCWlu
dGVsX2RkaV9pbml0KGRldl9wcml2LCBQT1JUX0gpOwogCQlpbnRlbF9kZGlfaW5pdChkZXZfcHJp
diwgUE9SVF9JKTsKIAkJaWNsX2RzaV9pbml0KGRldl9wcml2KTsKLQl9IGVsc2UgaWYgKElTX0VM
S0hBUlRMQUtFKGRldl9wcml2KSkgeworCX0gZWxzZSBpZiAoSVNfSlNMX0VITChkZXZfcHJpdikp
IHsKIAkJaW50ZWxfZGRpX2luaXQoZGV2X3ByaXYsIFBPUlRfQSk7CiAJCWludGVsX2RkaV9pbml0
KGRldl9wcml2LCBQT1JUX0IpOwogCQlpbnRlbF9kZGlfaW5pdChkZXZfcHJpdiwgUE9SVF9DKTsK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYwppbmRleCA0ZjgyNjZjM2VkNDMu
LjA5MDJhOWFlZWRhMSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9kcC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYwpA
QCAtMzMyLDcgKzMzMiw3IEBAIGludGVsX2RwX3NldF9zb3VyY2VfcmF0ZXMoc3RydWN0IGludGVs
X2RwICppbnRlbF9kcCkKIAkJc2l6ZSA9IEFSUkFZX1NJWkUoY25sX3JhdGVzKTsKIAkJaWYgKElT
X0dFTihkZXZfcHJpdiwgMTApKQogCQkJbWF4X3JhdGUgPSBjbmxfbWF4X3NvdXJjZV9yYXRlKGlu
dGVsX2RwKTsKLQkJZWxzZSBpZiAoSVNfRUxLSEFSVExBS0UoZGV2X3ByaXYpKQorCQllbHNlIGlm
IChJU19KU0xfRUhMKGRldl9wcml2KSkKIAkJCW1heF9yYXRlID0gZWhsX21heF9zb3VyY2VfcmF0
ZShpbnRlbF9kcCk7CiAJCWVsc2UKIAkJCW1heF9yYXRlID0gaWNsX21heF9zb3VyY2VfcmF0ZShp
bnRlbF9kcCk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVs
X2RwbGxfbWdyLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwbGxfbWdy
LmMKaW5kZXggMmNjMGU4NGU0MWVhLi40OGMzMGM1MGEzMDEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBsbF9tZ3IuYworKysgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwbGxfbWdyLmMKQEAgLTE1Miw3ICsxNTIsNyBAQCBpbnRl
bF9jb21ib19wbGxfZW5hYmxlX3JlZyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwKIAkJ
CSAgIHN0cnVjdCBpbnRlbF9zaGFyZWRfZHBsbCAqcGxsKQogewogCi0JaWYgKElTX0VMS0hBUlRM
QUtFKGk5MTUpICYmIChwbGwtPmluZm8tPmlkID09IERQTExfSURfRUhMX0RQTEw0KSkKKwlpZiAo
SVNfSlNMX0VITChpOTE1KSAmJiAocGxsLT5pbmZvLT5pZCA9PSBEUExMX0lEX0VITF9EUExMNCkp
CiAJCXJldHVybiBNR19QTExfRU5BQkxFKDApOwogCiAJcmV0dXJuIENOTF9EUExMX0VOQUJMRShw
bGwtPmluZm8tPmlkKTsKQEAgLTM1NTEsNyArMzU1MSw3IEBAIHN0YXRpYyBib29sIGljbF9nZXRf
Y29tYm9fcGh5X2RwbGwoc3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUsCiAJCQlCSVQo
RFBMTF9JRF9FSExfRFBMTDQpIHwKIAkJCUJJVChEUExMX0lEX0lDTF9EUExMMSkgfAogCQkJQklU
KERQTExfSURfSUNMX0RQTEwwKTsKLQl9IGVsc2UgaWYgKElTX0VMS0hBUlRMQUtFKGRldl9wcml2
KSAmJiBwb3J0ICE9IFBPUlRfQSkgeworCX0gZWxzZSBpZiAoSVNfSlNMX0VITChkZXZfcHJpdikg
JiYgcG9ydCAhPSBQT1JUX0EpIHsKIAkJZHBsbF9tYXNrID0KIAkJCUJJVChEUExMX0lEX0VITF9E
UExMNCkgfAogCQkJQklUKERQTExfSURfSUNMX0RQTEwxKSB8CkBAIC0zODUzLDcgKzM4NTMsNyBA
QCBzdGF0aWMgYm9vbCBpY2xfcGxsX2dldF9od19zdGF0ZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqZGV2X3ByaXYsCiAJCWh3X3N0YXRlLT5jZmdjcjEgPSBpbnRlbF9kZV9yZWFkKGRldl9wcml2
LAogCQkJCQkJIFRHTF9EUExMX0NGR0NSMShpZCkpOwogCX0gZWxzZSB7Ci0JCWlmIChJU19FTEtI
QVJUTEFLRShkZXZfcHJpdikgJiYgaWQgPT0gRFBMTF9JRF9FSExfRFBMTDQpIHsKKwkJaWYgKElT
X0pTTF9FSEwoZGV2X3ByaXYpICYmIGlkID09IERQTExfSURfRUhMX0RQTEw0KSB7CiAJCQlod19z
dGF0ZS0+Y2ZnY3IwID0gaW50ZWxfZGVfcmVhZChkZXZfcHJpdiwKIAkJCQkJCQkgSUNMX0RQTExf
Q0ZHQ1IwKDQpKTsKIAkJCWh3X3N0YXRlLT5jZmdjcjEgPSBpbnRlbF9kZV9yZWFkKGRldl9wcml2
LApAQCAtMzkwMiw3ICszOTAyLDcgQEAgc3RhdGljIHZvaWQgaWNsX2RwbGxfd3JpdGUoc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAogCQljZmdjcjBfcmVnID0gVEdMX0RQTExfQ0ZH
Q1IwKGlkKTsKIAkJY2ZnY3IxX3JlZyA9IFRHTF9EUExMX0NGR0NSMShpZCk7CiAJfSBlbHNlIHsK
LQkJaWYgKElTX0VMS0hBUlRMQUtFKGRldl9wcml2KSAmJiBpZCA9PSBEUExMX0lEX0VITF9EUExM
NCkgeworCQlpZiAoSVNfSlNMX0VITChkZXZfcHJpdikgJiYgaWQgPT0gRFBMTF9JRF9FSExfRFBM
TDQpIHsKIAkJCWNmZ2NyMF9yZWcgPSBJQ0xfRFBMTF9DRkdDUjAoNCk7CiAJCQljZmdjcjFfcmVn
ID0gSUNMX0RQTExfQ0ZHQ1IxKDQpOwogCQl9IGVsc2UgewpAQCAtNDA3Niw3ICs0MDc2LDcgQEAg
c3RhdGljIHZvaWQgY29tYm9fcGxsX2VuYWJsZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2
X3ByaXYsCiB7CiAJaTkxNV9yZWdfdCBlbmFibGVfcmVnID0gaW50ZWxfY29tYm9fcGxsX2VuYWJs
ZV9yZWcoZGV2X3ByaXYsIHBsbCk7CiAKLQlpZiAoSVNfRUxLSEFSVExBS0UoZGV2X3ByaXYpICYm
CisJaWYgKElTX0pTTF9FSEwoZGV2X3ByaXYpICYmCiAJICAgIHBsbC0+aW5mby0+aWQgPT0gRFBM
TF9JRF9FSExfRFBMTDQpIHsKIAogCQkvKgpAQCAtNDE4OSw3ICs0MTg5LDcgQEAgc3RhdGljIHZv
aWQgY29tYm9fcGxsX2Rpc2FibGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAog
CiAJaWNsX3BsbF9kaXNhYmxlKGRldl9wcml2LCBwbGwsIGVuYWJsZV9yZWcpOwogCi0JaWYgKElT
X0VMS0hBUlRMQUtFKGRldl9wcml2KSAmJgorCWlmIChJU19KU0xfRUhMKGRldl9wcml2KSAmJgog
CSAgICBwbGwtPmluZm8tPmlkID09IERQTExfSURfRUhMX0RQTEw0KQogCQlpbnRlbF9kaXNwbGF5
X3Bvd2VyX3B1dChkZXZfcHJpdiwgUE9XRVJfRE9NQUlOX0RQTExfRENfT0ZGLAogCQkJCQlwbGwt
Pndha2VyZWYpOwpAQCAtNDM1Niw3ICs0MzU2LDcgQEAgdm9pZCBpbnRlbF9zaGFyZWRfZHBsbF9p
bml0KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYpCiAJCWRwbGxfbWdyID0gJnJrbF9wbGxfbWdyOwog
CWVsc2UgaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTIpCiAJCWRwbGxfbWdyID0gJnRnbF9w
bGxfbWdyOwotCWVsc2UgaWYgKElTX0VMS0hBUlRMQUtFKGRldl9wcml2KSkKKwllbHNlIGlmIChJ
U19KU0xfRUhMKGRldl9wcml2KSkKIAkJZHBsbF9tZ3IgPSAmZWhsX3BsbF9tZ3I7CiAJZWxzZSBp
ZiAoSU5URUxfR0VOKGRldl9wcml2KSA+PSAxMSkKIAkJZHBsbF9tZ3IgPSAmaWNsX3BsbF9tZ3I7
CkBAIC00NDk4LDcgKzQ0OTgsNyBAQCBzdGF0aWMgdm9pZCByZWFkb3V0X2RwbGxfaHdfc3RhdGUo
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCiAJcGxsLT5vbiA9IHBsbC0+aW5mby0+ZnVu
Y3MtPmdldF9od19zdGF0ZShpOTE1LCBwbGwsCiAJCQkJCQkgJnBsbC0+c3RhdGUuaHdfc3RhdGUp
OwogCi0JaWYgKElTX0VMS0hBUlRMQUtFKGk5MTUpICYmIHBsbC0+b24gJiYKKwlpZiAoSVNfSlNM
X0VITChpOTE1KSAmJiBwbGwtPm9uICYmCiAJICAgIHBsbC0+aW5mby0+aWQgPT0gRFBMTF9JRF9F
SExfRFBMTDQpIHsKIAkJcGxsLT53YWtlcmVmID0gaW50ZWxfZGlzcGxheV9wb3dlcl9nZXQoaTkx
NSwKIAkJCQkJCSAgICAgICBQT1dFUl9ET01BSU5fRFBMTF9EQ19PRkYpOwpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfc3NldS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ3QvaW50ZWxfc3NldS5jCmluZGV4IGYxYzAzOWUxYjVhZC4uOGE3MmUwZmUzNGNhIDEwMDY0
NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9zc2V1LmMKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfc3NldS5jCkBAIC0xNjksNyArMTY5LDcgQEAgc3RhdGlj
IHZvaWQgZ2VuMTFfc3NldV9pbmZvX2luaXQoc3RydWN0IGludGVsX2d0ICpndCkKIAl1OCBldV9l
bjsKIAl1OCBzX2VuOwogCi0JaWYgKElTX0VMS0hBUlRMQUtFKGd0LT5pOTE1KSkKKwlpZiAoSVNf
SlNMX0VITChndC0+aTkxNSkpCiAJCWludGVsX3NzZXVfc2V0X2luZm8oc3NldSwgMSwgNCwgOCk7
CiAJZWxzZQogCQlpbnRlbF9zc2V1X3NldF9pbmZvKHNzZXUsIDEsIDgsIDgpOwpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfd29ya2Fyb3VuZHMuYyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L2ludGVsX3dvcmthcm91bmRzLmMKaW5kZXggNzhjNTQ4MGM2NDAxLi5j
NjQzM2I3MmY1ZTkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3dv
cmthcm91bmRzLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfd29ya2Fyb3Vu
ZHMuYwpAQCAtMTIxMiw3ICsxMjEyLDcgQEAgaWNsX2d0X3dvcmthcm91bmRzX2luaXQoc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsIHN0cnVjdCBpOTE1X3dhX2xpc3QgKndhbCkKIAogCS8q
IFdhXzE2MDcwODcwNTY6aWNsLGVobCxqc2wgKi8KIAlpZiAoSVNfSUNFTEFLRShpOTE1KSB8fAot
CSAgICBJU19FSExfUkVWSUQoaTkxNSwgRUhMX1JFVklEX0EwLCBFSExfUkVWSURfQTApKSB7CisJ
CUlTX0pTTF9FSExfUkVWSUQoaTkxNSwgRUhMX1JFVklEX0EwLCBFSExfUkVWSURfQTApKSB7CiAJ
CXdhX3dyaXRlX29yKHdhbCwKIAkJCSAgICBTTElDRV9VTklUX0xFVkVMX0NMS0dBVEUsCiAJCQkg
ICAgTDNfQ0xLR0FURV9ESVMgfCBMM19DUjJYX0NMS0dBVEVfRElTKTsKQEAgLTE4MzksNyArMTgz
OSw3IEBAIHJjc19lbmdpbmVfd2FfaW5pdChzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUs
IHN0cnVjdCBpOTE1X3dhX2xpc3QgKndhbCkKIAkJCSAgICBHRU4xMl9GRl9URVNTRUxBVElPTl9E
T1BfR0FURV9ESVNBQkxFKTsKIAogCQkvKiBXYV8yMjAxMDI3MTAyMTplaGwgKi8KLQkJaWYgKElT
X0VMS0hBUlRMQUtFKGk5MTUpKQorCQlpZiAoSVNfSlNMX0VITChpOTE1KSkKIAkJCXdhX21hc2tl
ZF9lbih3YWwsCiAJCQkJICAgICBHRU45X0NTX0RFQlVHX01PREUxLAogCQkJCSAgICAgRkZfRE9Q
X0NMT0NLX0dBVEVfRElTQUJMRSk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
dC91Yy9pbnRlbF91Y19mdy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfdWNf
ZncuYwppbmRleCA4MGU4YjZjM2JjOGMuLjAzN2JjYWYzYzhiNSAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfdWNfZncuYworKysgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9ndC91Yy9pbnRlbF91Y19mdy5jCkBAIC01Myw2ICs1Myw3IEBAIHZvaWQgaW50ZWxfdWNf
ZndfY2hhbmdlX3N0YXR1cyhzdHJ1Y3QgaW50ZWxfdWNfZncgKnVjX2Z3LAogI2RlZmluZSBJTlRF
TF9VQ19GSVJNV0FSRV9ERUZTKGZ3X2RlZiwgZ3VjX2RlZiwgaHVjX2RlZikgXAogCWZ3X2RlZihS
T0NLRVRMQUtFLCAgMCwgZ3VjX2RlZih0Z2wsIDM1LCAyLCAwKSwgaHVjX2RlZih0Z2wsICA3LCA1
LCAwKSkgXAogCWZ3X2RlZihUSUdFUkxBS0UsICAgMCwgZ3VjX2RlZih0Z2wsIDM1LCAyLCAwKSwg
aHVjX2RlZih0Z2wsICA3LCA1LCAwKSkgXAorCWZ3X2RlZihKQVNQRVJMQUtFLCAgMCwgZ3VjX2Rl
ZihlaGwsIDMzLCAwLCA0KSwgaHVjX2RlZihlaGwsICA5LCAwLCAwKSkgXAogCWZ3X2RlZihFTEtI
QVJUTEFLRSwgMCwgZ3VjX2RlZihlaGwsIDMzLCAwLCA0KSwgaHVjX2RlZihlaGwsICA5LCAwLCAw
KSkgXAogCWZ3X2RlZihJQ0VMQUtFLCAgICAgMCwgZ3VjX2RlZihpY2wsIDMzLCAwLCAwKSwgaHVj
X2RlZihpY2wsICA5LCAwLCAwKSkgXAogCWZ3X2RlZihDT01FVExBS0UsICAgNSwgZ3VjX2RlZihj
bWwsIDMzLCAwLCAwKSwgaHVjX2RlZihjbWwsICA0LCAwLCAwKSkgXApkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
ZHJ2LmgKaW5kZXggOWMyNjcyYzU2Y2MxLi5jOTVkYjJkNTQ4NWMgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9kcnYuaApAQCAtMTQxNyw3ICsxNDE3LDggQEAgSVNfU1VCUExBVEZPUk0oY29uc3Qgc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCiAjZGVmaW5lIElTX0NPTUVUTEFLRShkZXZfcHJpdikJ
SVNfUExBVEZPUk0oZGV2X3ByaXYsIElOVEVMX0NPTUVUTEFLRSkKICNkZWZpbmUgSVNfQ0FOTk9O
TEFLRShkZXZfcHJpdikJSVNfUExBVEZPUk0oZGV2X3ByaXYsIElOVEVMX0NBTk5PTkxBS0UpCiAj
ZGVmaW5lIElTX0lDRUxBS0UoZGV2X3ByaXYpCUlTX1BMQVRGT1JNKGRldl9wcml2LCBJTlRFTF9J
Q0VMQUtFKQotI2RlZmluZSBJU19FTEtIQVJUTEFLRShkZXZfcHJpdikJSVNfUExBVEZPUk0oZGV2
X3ByaXYsIElOVEVMX0VMS0hBUlRMQUtFKQorI2RlZmluZSBJU19KU0xfRUhMKGRldl9wcml2KQko
SVNfUExBVEZPUk0oZGV2X3ByaXYsIElOVEVMX0pBU1BFUkxBS0UpIHx8IFwKKwkJCQlJU19QTEFU
Rk9STShkZXZfcHJpdiwgSU5URUxfRUxLSEFSVExBS0UpKQogI2RlZmluZSBJU19USUdFUkxBS0Uo
ZGV2X3ByaXYpCUlTX1BMQVRGT1JNKGRldl9wcml2LCBJTlRFTF9USUdFUkxBS0UpCiAjZGVmaW5l
IElTX1JPQ0tFVExBS0UoZGV2X3ByaXYpCUlTX1BMQVRGT1JNKGRldl9wcml2LCBJTlRFTF9ST0NL
RVRMQUtFKQogI2RlZmluZSBJU19ERzEoZGV2X3ByaXYpICAgICAgICBJU19QTEFURk9STShkZXZf
cHJpdiwgSU5URUxfREcxKQpAQCAtMTU1OCw4ICsxNTU5LDggQEAgZXh0ZXJuIGNvbnN0IHN0cnVj
dCBpOTE1X3Jldl9zdGVwcGluZ3Mga2JsX3Jldmlkc1tdOwogCiAjZGVmaW5lIEVITF9SRVZJRF9B
MCAgICAgICAgICAgIDB4MAogCi0jZGVmaW5lIElTX0VITF9SRVZJRChwLCBzaW5jZSwgdW50aWwp
IFwKLQkoSVNfRUxLSEFSVExBS0UocCkgJiYgSVNfUkVWSUQocCwgc2luY2UsIHVudGlsKSkKKyNk
ZWZpbmUgSVNfSlNMX0VITF9SRVZJRChwLCBzaW5jZSwgdW50aWwpIFwKKwkoSVNfSlNMX0VITChw
KSAmJiBJU19SRVZJRChwLCBzaW5jZSwgdW50aWwpKQogCiBlbnVtIHsKIAlUR0xfUkVWSURfQTAs
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BjaS5jIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9wY2kuYwppbmRleCAyNDk3MzA1NjFiNmMuLjE2ZDRlNzJiZWQwOSAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wY2kuYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X3BjaS5jCkBAIC04NDYsNiArODQ2LDE0IEBAIHN0YXRpYyBjb25z
dCBzdHJ1Y3QgaW50ZWxfZGV2aWNlX2luZm8gZWhsX2luZm8gPSB7CiAJLnBwZ3R0X3NpemUgPSAz
NiwKIH07CiAKK3N0YXRpYyBjb25zdCBzdHJ1Y3QgaW50ZWxfZGV2aWNlX2luZm8ganNsX2luZm8g
PSB7CisJR0VOMTFfRkVBVFVSRVMsCisJUExBVEZPUk0oSU5URUxfSkFTUEVSTEFLRSksCisJLnJl
cXVpcmVfZm9yY2VfcHJvYmUgPSAxLAorCS5wbGF0Zm9ybV9lbmdpbmVfbWFzayA9IEJJVChSQ1Mw
KSB8IEJJVChCQ1MwKSB8IEJJVChWQ1MwKSB8IEJJVChWRUNTMCksCisJLnBwZ3R0X3NpemUgPSAz
NiwKK307CisKICNkZWZpbmUgR0VOMTJfRkVBVFVSRVMgXAogCUdFTjExX0ZFQVRVUkVTLCBcCiAJ
R0VOKDEyKSwgXApAQCAtOTg1LDYgKzk5Myw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgcGNpX2Rl
dmljZV9pZCBwY2lpZGxpc3RbXSA9IHsKIAlJTlRFTF9DTkxfSURTKCZjbmxfaW5mbyksCiAJSU5U
RUxfSUNMXzExX0lEUygmaWNsX2luZm8pLAogCUlOVEVMX0VITF9JRFMoJmVobF9pbmZvKSwKKwlJ
TlRFTF9KU0xfSURTKCZqc2xfaW5mbyksCiAJSU5URUxfVEdMXzEyX0lEUygmdGdsX2luZm8pLAog
CUlOVEVMX1JLTF9JRFMoJnJrbF9pbmZvKSwKIAl7MCwgMCwgMH0KZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2ludGVsX2RldmljZV9pbmZvLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9pbnRlbF9kZXZpY2VfaW5mby5jCmluZGV4IGFkYzgzNmYxNWZkZS4uZTY3Y2VjOGZhMmFhIDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kZXZpY2VfaW5mby5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2RldmljZV9pbmZvLmMKQEAgLTYyLDYgKzYyLDcg
QEAgc3RhdGljIGNvbnN0IGNoYXIgKiBjb25zdCBwbGF0Zm9ybV9uYW1lc1tdID0gewogCVBMQVRG
T1JNX05BTUUoQ0FOTk9OTEFLRSksCiAJUExBVEZPUk1fTkFNRShJQ0VMQUtFKSwKIAlQTEFURk9S
TV9OQU1FKEVMS0hBUlRMQUtFKSwKKwlQTEFURk9STV9OQU1FKEpBU1BFUkxBS0UpLAogCVBMQVRG
T1JNX05BTUUoVElHRVJMQUtFKSwKIAlQTEFURk9STV9OQU1FKFJPQ0tFVExBS0UpLAogCVBMQVRG
T1JNX05BTUUoREcxKSwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2Rl
dmljZV9pbmZvLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kZXZpY2VfaW5mby5oCmlu
ZGV4IDZhM2Q2MDcyMThhYS4uZDkyZmEwNDFjNzAwIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pbnRlbF9kZXZpY2VfaW5mby5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2lu
dGVsX2RldmljZV9pbmZvLmgKQEAgLTc5LDYgKzc5LDcgQEAgZW51bSBpbnRlbF9wbGF0Zm9ybSB7
CiAJLyogZ2VuMTEgKi8KIAlJTlRFTF9JQ0VMQUtFLAogCUlOVEVMX0VMS0hBUlRMQUtFLAorCUlO
VEVMX0pBU1BFUkxBS0UsCiAJLyogZ2VuMTIgKi8KIAlJTlRFTF9USUdFUkxBS0UsCiAJSU5URUxf
Uk9DS0VUTEFLRSwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3BjaC5j
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfcGNoLmMKaW5kZXggNmM5NzE5MmU5Y2E4Li5m
MzFjMGRhYmQwY2MgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3BjaC5j
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3BjaC5jCkBAIC0xMTUsNyArMTE1LDcg
QEAgaW50ZWxfcGNoX3R5cGUoY29uc3Qgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2
LCB1bnNpZ25lZCBzaG9ydCBpZCkKIAkJcmV0dXJuIFBDSF9JQ1A7CiAJY2FzZSBJTlRFTF9QQ0hf
TUNDX0RFVklDRV9JRF9UWVBFOgogCQlkcm1fZGJnX2ttcygmZGV2X3ByaXYtPmRybSwgIkZvdW5k
IE11bGUgQ3JlZWsgQ2FueW9uIFBDSFxuIik7Ci0JCWRybV9XQVJOX09OKCZkZXZfcHJpdi0+ZHJt
LCAhSVNfRUxLSEFSVExBS0UoZGV2X3ByaXYpKTsKKwkJZHJtX1dBUk5fT04oJmRldl9wcml2LT5k
cm0sICFJU19KU0xfRUhMKGRldl9wcml2KSk7CiAJCXJldHVybiBQQ0hfTUNDOwogCWNhc2UgSU5U
RUxfUENIX1RHUF9ERVZJQ0VfSURfVFlQRToKIAljYXNlIElOVEVMX1BDSF9UR1AyX0RFVklDRV9J
RF9UWVBFOgpAQCAtMTI2LDcgKzEyNiw3IEBAIGludGVsX3BjaF90eXBlKGNvbnN0IHN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwgdW5zaWduZWQgc2hvcnQgaWQpCiAJY2FzZSBJTlRF
TF9QQ0hfSlNQX0RFVklDRV9JRF9UWVBFOgogCWNhc2UgSU5URUxfUENIX0pTUDJfREVWSUNFX0lE
X1RZUEU6CiAJCWRybV9kYmdfa21zKCZkZXZfcHJpdi0+ZHJtLCAiRm91bmQgSmFzcGVyIExha2Ug
UENIXG4iKTsKLQkJZHJtX1dBUk5fT04oJmRldl9wcml2LT5kcm0sICFJU19FTEtIQVJUTEFLRShk
ZXZfcHJpdikpOworCQlkcm1fV0FSTl9PTigmZGV2X3ByaXYtPmRybSwgIUlTX0pTTF9FSEwoZGV2
X3ByaXYpKTsKIAkJcmV0dXJuIFBDSF9KU1A7CiAJZGVmYXVsdDoKIAkJcmV0dXJuIFBDSF9OT05F
OwpAQCAtMTU3LDcgKzE1Nyw3IEBAIGludGVsX3ZpcnRfZGV0ZWN0X3BjaChjb25zdCBzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCiAKIAlpZiAoSVNfVElHRVJMQUtFKGRldl9wcml2
KSB8fCBJU19ST0NLRVRMQUtFKGRldl9wcml2KSkKIAkJaWQgPSBJTlRFTF9QQ0hfVEdQX0RFVklD
RV9JRF9UWVBFOwotCWVsc2UgaWYgKElTX0VMS0hBUlRMQUtFKGRldl9wcml2KSkKKwllbHNlIGlm
IChJU19KU0xfRUhMKGRldl9wcml2KSkKIAkJaWQgPSBJTlRFTF9QQ0hfTUNDX0RFVklDRV9JRF9U
WVBFOwogCWVsc2UgaWYgKElTX0lDRUxBS0UoZGV2X3ByaXYpKQogCQlpZCA9IElOVEVMX1BDSF9J
Q1BfREVWSUNFX0lEX1RZUEU7CmRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS9pOTE1X3BjaWlkcy5o
IGIvaW5jbHVkZS9kcm0vaTkxNV9wY2lpZHMuaAppbmRleCAwOTU0NjNmZjdjYjkuLmEwNWVmNjM3
NWM4MyAxMDA2NDQKLS0tIGEvaW5jbHVkZS9kcm0vaTkxNV9wY2lpZHMuaAorKysgYi9pbmNsdWRl
L2RybS9pOTE1X3BjaWlkcy5oCkBAIC01NzksMTUgKzU3OSwxOCBAQAogCUlOVEVMX1ZHQV9ERVZJ
Q0UoMHg4QTUxLCBpbmZvKSwgXAogCUlOVEVMX1ZHQV9ERVZJQ0UoMHg4QTVELCBpbmZvKQogCi0v
KiBFSEwvSlNMICovCisvKiBFSEwgKi8KICNkZWZpbmUgSU5URUxfRUhMX0lEUyhpbmZvKSBcCiAJ
SU5URUxfVkdBX0RFVklDRSgweDQ1MDAsIGluZm8pLAlcCiAJSU5URUxfVkdBX0RFVklDRSgweDQ1
NzEsIGluZm8pLCBcCiAJSU5URUxfVkdBX0RFVklDRSgweDQ1NTEsIGluZm8pLCBcCiAJSU5URUxf
VkdBX0RFVklDRSgweDQ1NDEsIGluZm8pLCBcCi0JSU5URUxfVkdBX0RFVklDRSgweDRFNzEsIGlu
Zm8pLCBcCiAJSU5URUxfVkdBX0RFVklDRSgweDQ1NTcsIGluZm8pLCBcCi0JSU5URUxfVkdBX0RF
VklDRSgweDQ1NTUsIGluZm8pLCBcCisJSU5URUxfVkdBX0RFVklDRSgweDQ1NTUsIGluZm8pCisK
Ky8qIEpTTCAqLworI2RlZmluZSBJTlRFTF9KU0xfSURTKGluZm8pIFwKKwlJTlRFTF9WR0FfREVW
SUNFKDB4NEU3MSwgaW5mbyksIFwKIAlJTlRFTF9WR0FfREVWSUNFKDB4NEU2MSwgaW5mbyksIFwK
IAlJTlRFTF9WR0FfREVWSUNFKDB4NEU1NywgaW5mbyksIFwKIAlJTlRFTF9WR0FfREVWSUNFKDB4
NEU1NSwgaW5mbyksIFwKLS0gCjIuMjguMAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlz
dGluZm8vZHJpLWRldmVsCg==
