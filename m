Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 757F947CBC
	for <lists+dri-devel@lfdr.de>; Mon, 17 Jun 2019 10:28:10 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 991058919C;
	Mon, 17 Jun 2019 08:28:07 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-vk1-xa49.google.com (mail-vk1-xa49.google.com
 [IPv6:2607:f8b0:4864:20::a49])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 1A55A8919C
 for <dri-devel@lists.freedesktop.org>; Mon, 17 Jun 2019 08:28:05 +0000 (UTC)
Received: by mail-vk1-xa49.google.com with SMTP id a4so4444489vki.23
 for <dri-devel@lists.freedesktop.org>; Mon, 17 Jun 2019 01:28:05 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:date:in-reply-to:message-id:mime-version
 :references:subject:from:to:cc;
 bh=/ISQXW436cOn3WhRGLbJ9YXLmMenEcf9xF+hXPXYF5c=;
 b=MaC1xsHyk3/qNxtXUk2zvXrMlPKp+cqHmF7P3xou9nYBp8ang/Su+MuVYZlpNIIGti
 Y9mrpuI5sk8Xdg1MuIpSICucjna+EXH+FMXwoSrorteY/2/JlRcjNl8UB9/ptNw5OCzk
 /uaZLDEcU1ljWWWM+lQo44EOICuhJg3Oim3ECdBcw+L/zbUT+1BTa6mw0Dq+sXBBtJsh
 LYYPFVZJ7pQuJlr4gwbcd38WbHNNnDy2TrhbSrHBxdY/XBTLxGdl9ZAy6Ge0Y+bKWFAD
 tl2WMWxuYS9bvz3pUePRzfIyuJyd7NOCTWUrnynrpF+bx7UY137kRZ3gDE74aZ27i0t+
 I3dQ==
X-Gm-Message-State: APjAAAXsRdGcCqoTBqzg/eIhCRdLSa6rBzqSjIwSyEIzpObIfAEGXzYN
 5HGSRL9GDB91mdMmF0kLdTQbenAnrLklS5UoRwnppw==
X-Google-Smtp-Source: APXvYqy/ACWvkav2mTQaCubWjLp8j0cTCrBR+eLgBIKJd+COk+SiWYZVCrWQ8EDRqgVkfSYY7JXeFe9384RVSZV9SC8p2g==
X-Received: by 2002:a1f:3692:: with SMTP id d140mr21991020vka.88.1560760083990; 
 Mon, 17 Jun 2019 01:28:03 -0700 (PDT)
Date: Mon, 17 Jun 2019 01:26:12 -0700
In-Reply-To: <20190617082613.109131-1-brendanhiggins@google.com>
Message-Id: <20190617082613.109131-18-brendanhiggins@google.com>
Mime-Version: 1.0
References: <20190617082613.109131-1-brendanhiggins@google.com>
X-Mailer: git-send-email 2.22.0.410.gd8fdbe21b5-goog
Subject: [PATCH v5 17/18] kernel/sysctl-test: Add null pointer test for
 sysctl.c:proc_dointvec()
From: Brendan Higgins <brendanhiggins@google.com>
To: frowand.list@gmail.com, gregkh@linuxfoundation.org, jpoimboe@redhat.com, 
 keescook@google.com, kieran.bingham@ideasonboard.com, mcgrof@kernel.org, 
 peterz@infradead.org, robh@kernel.org, sboyd@kernel.org, shuah@kernel.org, 
 tytso@mit.edu, yamada.masahiro@socionext.com
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=google.com; s=20161025;
 h=date:in-reply-to:message-id:mime-version:references:subject:from:to
 :cc;
 bh=/ISQXW436cOn3WhRGLbJ9YXLmMenEcf9xF+hXPXYF5c=;
 b=q9hs4lJsRGRSrGfE4K7tsV6gzrKS8xRXv1xpeVXbTzg4iEF4Iy+z+LD294eu5AwX1u
 FVpUsarXkEqAn3XiMqwgQZ7VxJeit0iFOVCHVA21OmDcCLkEocIRMX/or7b3EyBeFDeV
 wb8JAlM/uHgm5InnMAV4ub0ijyPHcDqX6vCYkS3wto9ioInrPF6hRpccN7cJsAzLkJJl
 PfjqwGKW6yAMH4VjC6Dx9+eI56bXkGHRZYwLkZoS1+d4wKqJN/lHDubNmzQ6M3kPgZiI
 6TB7GcqnFdVyUDNsCnwka+5MWH2TmznvwPE9sEieSXfmMOGw/9ePUvHVayr2Z7X6Rqpi
 QUow==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: pmladek@suse.com, linux-doc@vger.kernel.org, amir73il@gmail.com,
 Brendan Higgins <brendanhiggins@google.com>, dri-devel@lists.freedesktop.org,
 Alexander.Levin@microsoft.com, linux-kselftest@vger.kernel.org,
 linux-nvdimm@lists.01.org, khilman@baylibre.com, knut.omang@oracle.com,
 wfg@linux.intel.com, joel@jms.id.au, rientjes@google.com,
 Iurii Zaikin <yzaikin@google.com>, jdike@addtoit.com, dan.carpenter@oracle.com,
 devicetree@vger.kernel.org, linux-kbuild@vger.kernel.org, Tim.Bird@sony.com,
 linux-um@lists.infradead.org, rostedt@goodmis.org, julia.lawall@lip6.fr,
 kunit-dev@googlegroups.com, richard@nod.at, rdunlap@infradead.org,
 linux-kernel@vger.kernel.org, mpe@ellerman.id.au,
 linux-fsdevel@vger.kernel.org, logang@deltatee.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogSXVyaWkgWmFpa2luIDx5emFpa2luQGdvb2dsZS5jb20+CgpLVW5pdCB0ZXN0cyBmb3Ig
aW5pdGlhbGl6ZWQgZGF0YSBiZWhhdmlvciBvZiBwcm9jX2RvaW50dmVjIHRoYXQgaXMKZXhwbGlj
aXRseSBjaGVja2VkIGluIHRoZSBjb2RlLiBJbmNsdWRlcyBiYXNpYyBwYXJzaW5nIHRlc3RzIGlu
Y2x1ZGluZwppbnQgbWluL21heCBvdmVyZmxvdy4KClNpZ25lZC1vZmYtYnk6IEl1cmlpIFphaWtp
biA8eXphaWtpbkBnb29nbGUuY29tPgpTaWduZWQtb2ZmLWJ5OiBCcmVuZGFuIEhpZ2dpbnMgPGJy
ZW5kYW5oaWdnaW5zQGdvb2dsZS5jb20+ClJldmlld2VkLWJ5OiBHcmVnIEtyb2FoLUhhcnRtYW4g
PGdyZWdraEBsaW51eGZvdW5kYXRpb24ub3JnPgpSZXZpZXdlZC1ieTogTG9nYW4gR3VudGhvcnBl
IDxsb2dhbmdAZGVsdGF0ZWUuY29tPgotLS0KQ2hhbmdlcyBTaW5jZSBMYXN0IFJldmlzaW9uOgog
LSBJdXJpaSBkaWQgc29tZSBjbGVhbiB1cCAodGhhbmtzIEl1cmlpISkgYXMgc3VnZ2VzdGVkIGJ5
IFN0ZXBoZW4gQm95ZC4KLS0tCiBrZXJuZWwvTWFrZWZpbGUgICAgICB8ICAgMiArCiBrZXJuZWwv
c3lzY3RsLXRlc3QuYyB8IDI0MiArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKysrCiBsaWIvS2NvbmZpZy5kZWJ1ZyAgICB8ICAxMCArKwogMyBmaWxlcyBjaGFuZ2VkLCAy
NTQgaW5zZXJ0aW9ucygrKQogY3JlYXRlIG1vZGUgMTAwNjQ0IGtlcm5lbC9zeXNjdGwtdGVzdC5j
CgpkaWZmIC0tZ2l0IGEva2VybmVsL01ha2VmaWxlIGIva2VybmVsL01ha2VmaWxlCmluZGV4IGE4
ZDkyM2I1NDgxYmEuLjUwZmQ1MTFjZDBlZTAgMTAwNjQ0Ci0tLSBhL2tlcm5lbC9NYWtlZmlsZQor
KysgYi9rZXJuZWwvTWFrZWZpbGUKQEAgLTExNCw2ICsxMTQsOCBAQCBvYmotJChDT05GSUdfSEFT
X0lPTUVNKSArPSBpb21lbS5vCiBvYmotJChDT05GSUdfWk9ORV9ERVZJQ0UpICs9IG1lbXJlbWFw
Lm8KIG9iai0kKENPTkZJR19SU0VRKSArPSByc2VxLm8KIAorb2JqLSQoQ09ORklHX1NZU0NUTF9L
VU5JVF9URVNUKSArPSBzeXNjdGwtdGVzdC5vCisKIG9iai0kKENPTkZJR19HQ0NfUExVR0lOX1NU
QUNLTEVBSykgKz0gc3RhY2tsZWFrLm8KIEtBU0FOX1NBTklUSVpFX3N0YWNrbGVhay5vIDo9IG4K
IEtDT1ZfSU5TVFJVTUVOVF9zdGFja2xlYWsubyA6PSBuCmRpZmYgLS1naXQgYS9rZXJuZWwvc3lz
Y3RsLXRlc3QuYyBiL2tlcm5lbC9zeXNjdGwtdGVzdC5jCm5ldyBmaWxlIG1vZGUgMTAwNjQ0Cmlu
ZGV4IDAwMDAwMDAwMDAwMDAuLmNiNjFhZDNjN2RiNjMKLS0tIC9kZXYvbnVsbAorKysgYi9rZXJu
ZWwvc3lzY3RsLXRlc3QuYwpAQCAtMCwwICsxLDI0MiBAQAorLy8gU1BEWC1MaWNlbnNlLUlkZW50
aWZpZXI6IEdQTC0yLjAKKy8qCisgKiBLVW5pdCB0ZXN0IG9mIHByb2Mgc3lzY3RsLgorICovCisK
KyNpbmNsdWRlIDxrdW5pdC90ZXN0Lmg+CisjaW5jbHVkZSA8bGludXgvc3lzY3RsLmg+CisKK3N0
YXRpYyBpbnQgaV96ZXJvOworc3RhdGljIGludCBpX29uZV9odW5kcmVkID0gMTAwOworCitzdHJ1
Y3QgdGVzdF9zeXNjdGxfZGF0YSB7CisJaW50IGludF8wMDAxOworCWludCBpbnRfMDAwMjsKKwlp
bnQgaW50XzAwMDNbNF07CisKKwl1bnNpZ25lZCBpbnQgdWludF8wMDAxOworCisJY2hhciBzdHJp
bmdfMDAwMVs2NV07Cit9OworCitzdGF0aWMgc3RydWN0IHRlc3Rfc3lzY3RsX2RhdGEgdGVzdF9k
YXRhID0geworCS5pbnRfMDAwMSA9IDYwLAorCS5pbnRfMDAwMiA9IDEsCisKKwkuaW50XzAwMDNb
MF0gPSAwLAorCS5pbnRfMDAwM1sxXSA9IDEsCisJLmludF8wMDAzWzJdID0gMiwKKwkuaW50XzAw
MDNbM10gPSAzLAorCisJLnVpbnRfMDAwMSA9IDMxNCwKKworCS5zdHJpbmdfMDAwMSA9ICIobm9u
ZSkiLAorfTsKKworc3RhdGljIHZvaWQgc3lzY3RsX3Rlc3RfZG9pbnR2ZWNfbnVsbF90YmxfZGF0
YShzdHJ1Y3Qga3VuaXQgKnRlc3QpCit7CisJc3RydWN0IGN0bF90YWJsZSB0YWJsZSA9IHsKKwkJ
LnByb2NuYW1lID0gImZvbyIsCisJCS5kYXRhCQk9IE5VTEwsCisJCS5tYXhsZW4JCT0gc2l6ZW9m
KGludCksCisJCS5tb2RlCQk9IDA2NDQsCisJCS5wcm9jX2hhbmRsZXIJPSBwcm9jX2RvaW50dmVj
LAorCQkuZXh0cmExCQk9ICZpX3plcm8sCisJCS5leHRyYTIgICAgICAgICA9ICZpX29uZV9odW5k
cmVkLAorCX07CisJdm9pZCAgKmJ1ZmZlciA9IGt1bml0X2t6YWxsb2ModGVzdCwgc2l6ZW9mKGlu
dCksIEdGUF9VU0VSKTsKKwlzaXplX3QgbGVuOworCWxvZmZfdCBwb3M7CisKKwlsZW4gPSAxMjM0
OworCUtVTklUX0VYUEVDVF9FUSh0ZXN0LCAwLCBwcm9jX2RvaW50dmVjKCZ0YWJsZSwgMCwgYnVm
ZmVyLCAmbGVuLCAmcG9zKSk7CisJS1VOSVRfRVhQRUNUX0VRKHRlc3QsIChzaXplX3QpMCwgbGVu
KTsKKwlsZW4gPSAxMjM0OworCUtVTklUX0VYUEVDVF9FUSh0ZXN0LCAwLCBwcm9jX2RvaW50dmVj
KCZ0YWJsZSwgMSwgYnVmZmVyLCAmbGVuLCAmcG9zKSk7CisJS1VOSVRfRVhQRUNUX0VRKHRlc3Qs
IChzaXplX3QpMCwgbGVuKTsKK30KKworc3RhdGljIHZvaWQgc3lzY3RsX3Rlc3RfZG9pbnR2ZWNf
dGFibGVfbWF4bGVuX3Vuc2V0KHN0cnVjdCBrdW5pdCAqdGVzdCkKK3sKKwlzdHJ1Y3QgY3RsX3Rh
YmxlIHRhYmxlID0geworCQkucHJvY25hbWUgPSAiZm9vIiwKKwkJLmRhdGEJCT0gJnRlc3RfZGF0
YS5pbnRfMDAwMSwKKwkJLm1heGxlbgkJPSAwLAorCQkubW9kZQkJPSAwNjQ0LAorCQkucHJvY19o
YW5kbGVyCT0gcHJvY19kb2ludHZlYywKKwkJLmV4dHJhMQkJPSAmaV96ZXJvLAorCQkuZXh0cmEy
ICAgICAgICAgPSAmaV9vbmVfaHVuZHJlZCwKKwl9OworCXZvaWQgICpidWZmZXIgPSBrdW5pdF9r
emFsbG9jKHRlc3QsIHNpemVvZihpbnQpLCBHRlBfVVNFUik7CisJc2l6ZV90IGxlbjsKKwlsb2Zm
X3QgcG9zOworCisJbGVuID0gMTIzNDsKKwlLVU5JVF9FWFBFQ1RfRVEodGVzdCwgMCwgcHJvY19k
b2ludHZlYygmdGFibGUsIDAsIGJ1ZmZlciwgJmxlbiwgJnBvcykpOworCUtVTklUX0VYUEVDVF9F
USh0ZXN0LCAoc2l6ZV90KTAsIGxlbik7CisJbGVuID0gMTIzNDsKKwlLVU5JVF9FWFBFQ1RfRVEo
dGVzdCwgMCwgcHJvY19kb2ludHZlYygmdGFibGUsIDEsIGJ1ZmZlciwgJmxlbiwgJnBvcykpOwor
CUtVTklUX0VYUEVDVF9FUSh0ZXN0LCAoc2l6ZV90KTAsIGxlbik7Cit9CisKK3N0YXRpYyB2b2lk
IHN5c2N0bF90ZXN0X2RvaW50dmVjX3RhYmxlX2xlbl9pc196ZXJvKHN0cnVjdCBrdW5pdCAqdGVz
dCkKK3sKKwlzdHJ1Y3QgY3RsX3RhYmxlIHRhYmxlID0geworCQkucHJvY25hbWUgPSAiZm9vIiwK
KwkJLmRhdGEJCT0gJnRlc3RfZGF0YS5pbnRfMDAwMSwKKwkJLm1heGxlbgkJPSBzaXplb2YoaW50
KSwKKwkJLm1vZGUJCT0gMDY0NCwKKwkJLnByb2NfaGFuZGxlcgk9IHByb2NfZG9pbnR2ZWMsCisJ
CS5leHRyYTEJCT0gJmlfemVybywKKwkJLmV4dHJhMiAgICAgICAgID0gJmlfb25lX2h1bmRyZWQs
CisJfTsKKwl2b2lkICAqYnVmZmVyID0ga3VuaXRfa3phbGxvYyh0ZXN0LCBzaXplb2YoaW50KSwg
R0ZQX1VTRVIpOworCXNpemVfdCBsZW47CisJbG9mZl90IHBvczsKKworCWxlbiA9IDA7CisJS1VO
SVRfRVhQRUNUX0VRKHRlc3QsIDAsIHByb2NfZG9pbnR2ZWMoJnRhYmxlLCAwLCBidWZmZXIsICZs
ZW4sICZwb3MpKTsKKwlLVU5JVF9FWFBFQ1RfRVEodGVzdCwgKHNpemVfdCkwLCBsZW4pOworCUtV
TklUX0VYUEVDVF9FUSh0ZXN0LCAwLCBwcm9jX2RvaW50dmVjKCZ0YWJsZSwgMSwgYnVmZmVyLCAm
bGVuLCAmcG9zKSk7CisJS1VOSVRfRVhQRUNUX0VRKHRlc3QsIChzaXplX3QpMCwgbGVuKTsKK30K
Kworc3RhdGljIHZvaWQgc3lzY3RsX3Rlc3RfZG9pbnR2ZWNfdGFibGVfcmVhZF9idXRfcG9zaXRp
b25fc2V0KHN0cnVjdCBrdW5pdCAqdGVzdCkKK3sKKwlzdHJ1Y3QgY3RsX3RhYmxlIHRhYmxlID0g
eworCQkucHJvY25hbWUgPSAiZm9vIiwKKwkJLmRhdGEJCT0gJnRlc3RfZGF0YS5pbnRfMDAwMSwK
KwkJLm1heGxlbgkJPSBzaXplb2YoaW50KSwKKwkJLm1vZGUJCT0gMDY0NCwKKwkJLnByb2NfaGFu
ZGxlcgk9IHByb2NfZG9pbnR2ZWMsCisJCS5leHRyYTEJCT0gJmlfemVybywKKwkJLmV4dHJhMiAg
ICAgICAgID0gJmlfb25lX2h1bmRyZWQsCisJfTsKKwl2b2lkICAqYnVmZmVyID0ga3VuaXRfa3ph
bGxvYyh0ZXN0LCBzaXplb2YoaW50KSwgR0ZQX1VTRVIpOworCXNpemVfdCBsZW47CisJbG9mZl90
IHBvczsKKworCWxlbiA9IDEyMzQ7CisJcG9zID0gMTsKKwlLVU5JVF9FWFBFQ1RfRVEodGVzdCwg
MCwgcHJvY19kb2ludHZlYygmdGFibGUsIDAsIGJ1ZmZlciwgJmxlbiwgJnBvcykpOworCUtVTklU
X0VYUEVDVF9FUSh0ZXN0LCAoc2l6ZV90KTAsIGxlbik7Cit9CisKK3N0YXRpYyB2b2lkIHN5c2N0
bF90ZXN0X2RvaW50dmVjX2hhcHB5X3NpbmdsZV9wb3NpdGl2ZShzdHJ1Y3Qga3VuaXQgKnRlc3Qp
Cit7CisJc3RydWN0IGN0bF90YWJsZSB0YWJsZSA9IHsKKwkJLnByb2NuYW1lID0gImZvbyIsCisJ
CS5kYXRhCQk9ICZ0ZXN0X2RhdGEuaW50XzAwMDEsCisJCS5tYXhsZW4JCT0gc2l6ZW9mKGludCks
CisJCS5tb2RlCQk9IDA2NDQsCisJCS5wcm9jX2hhbmRsZXIJPSBwcm9jX2RvaW50dmVjLAorCQku
ZXh0cmExCQk9ICZpX3plcm8sCisJCS5leHRyYTIgICAgICAgICA9ICZpX29uZV9odW5kcmVkLAor
CX07CisJY2hhciBpbnB1dFtdID0gIjkiOworCXNpemVfdCBsZW4gPSBzaXplb2YoaW5wdXQpIC0g
MTsKKwlsb2ZmX3QgcG9zID0gMDsKKworCXRhYmxlLmRhdGEgPSBrdW5pdF9remFsbG9jKHRlc3Qs
IHNpemVvZihpbnQpLCBHRlBfVVNFUik7CisJS1VOSVRfRVhQRUNUX0VRKHRlc3QsIDAsIHByb2Nf
ZG9pbnR2ZWMoJnRhYmxlLCAxLCBpbnB1dCwgJmxlbiwgJnBvcykpOworCUtVTklUX0VYUEVDVF9F
USh0ZXN0LCBzaXplb2YoaW5wdXQpIC0gMSwgbGVuKTsKKwlLVU5JVF9FWFBFQ1RfRVEodGVzdCwg
c2l6ZW9mKGlucHV0KSAtIDEsIChzaXplX3QpcG9zKTsKKwlLVU5JVF9FWFBFQ1RfRVEodGVzdCwg
OSwgKChpbnQgKil0YWJsZS5kYXRhKVswXSk7Cit9CisKK3N0YXRpYyB2b2lkIHN5c2N0bF90ZXN0
X2RvaW50dmVjX2hhcHB5X3NpbmdsZV9uZWdhdGl2ZShzdHJ1Y3Qga3VuaXQgKnRlc3QpCit7CisJ
c3RydWN0IGN0bF90YWJsZSB0YWJsZSA9IHsKKwkJLnByb2NuYW1lID0gImZvbyIsCisJCS5kYXRh
CQk9ICZ0ZXN0X2RhdGEuaW50XzAwMDEsCisJCS5tYXhsZW4JCT0gc2l6ZW9mKGludCksCisJCS5t
b2RlCQk9IDA2NDQsCisJCS5wcm9jX2hhbmRsZXIJPSBwcm9jX2RvaW50dmVjLAorCQkuZXh0cmEx
CQk9ICZpX3plcm8sCisJCS5leHRyYTIgICAgICAgICA9ICZpX29uZV9odW5kcmVkLAorCX07CisJ
Y2hhciBpbnB1dFtdID0gIi05IjsKKwlzaXplX3QgbGVuID0gc2l6ZW9mKGlucHV0KSAtIDE7CisJ
bG9mZl90IHBvcyA9IDA7CisKKwl0YWJsZS5kYXRhID0ga3VuaXRfa3phbGxvYyh0ZXN0LCBzaXpl
b2YoaW50KSwgR0ZQX1VTRVIpOworCUtVTklUX0VYUEVDVF9FUSh0ZXN0LCAwLCBwcm9jX2RvaW50
dmVjKCZ0YWJsZSwgMSwgaW5wdXQsICZsZW4sICZwb3MpKTsKKwlLVU5JVF9FWFBFQ1RfRVEodGVz
dCwgc2l6ZW9mKGlucHV0KSAtIDEsIGxlbik7CisJS1VOSVRfRVhQRUNUX0VRKHRlc3QsIHNpemVv
ZihpbnB1dCkgLSAxLCAoc2l6ZV90KXBvcyk7CisJS1VOSVRfRVhQRUNUX0VRKHRlc3QsIC05LCAo
KGludCAqKXRhYmxlLmRhdGEpWzBdKTsKK30KKworc3RhdGljIHZvaWQgc3lzY3RsX3Rlc3RfZG9p
bnR2ZWNfc2luZ2xlX2xlc3NfaW50X21pbihzdHJ1Y3Qga3VuaXQgKnRlc3QpCit7CisJc3RydWN0
IGN0bF90YWJsZSB0YWJsZSA9IHsKKwkJLnByb2NuYW1lID0gImZvbyIsCisJCS5kYXRhCQk9ICZ0
ZXN0X2RhdGEuaW50XzAwMDEsCisJCS5tYXhsZW4JCT0gc2l6ZW9mKGludCksCisJCS5tb2RlCQk9
IDA2NDQsCisJCS5wcm9jX2hhbmRsZXIJPSBwcm9jX2RvaW50dmVjLAorCQkuZXh0cmExCQk9ICZp
X3plcm8sCisJCS5leHRyYTIgICAgICAgICA9ICZpX29uZV9odW5kcmVkLAorCX07CisJY2hhciBp
bnB1dFszMl07CisJc2l6ZV90IGxlbiA9IHNpemVvZihpbnB1dCkgLSAxOworCWxvZmZfdCBwb3Mg
PSAwOworCXVuc2lnbmVkIGxvbmcgYWJzX29mX2xlc3NfdGhhbl9taW4gPSAodW5zaWduZWQgbG9u
ZylJTlRfTUFYCisJCQkJCSAgICAgLSAoSU5UX01BWCArIElOVF9NSU4pICsgMTsKKworCUtVTklU
X0VYUEVDVF9MVCh0ZXN0LAorCQkJKHNpemVfdClzbnByaW50ZihpbnB1dCwgc2l6ZW9mKGlucHV0
KSwgIi0lbHUiLAorCQkJCQkgYWJzX29mX2xlc3NfdGhhbl9taW4pLAorCQkJc2l6ZW9mKGlucHV0
KSk7CisKKwl0YWJsZS5kYXRhID0ga3VuaXRfa3phbGxvYyh0ZXN0LCBzaXplb2YoaW50KSwgR0ZQ
X1VTRVIpOworCUtVTklUX0VYUEVDVF9FUSh0ZXN0LCAtRUlOVkFMLAorCQkJcHJvY19kb2ludHZl
YygmdGFibGUsIDEsIGlucHV0LCAmbGVuLCAmcG9zKSk7CisJS1VOSVRfRVhQRUNUX0VRKHRlc3Qs
IHNpemVvZihpbnB1dCkgLSAxLCBsZW4pOworCUtVTklUX0VYUEVDVF9FUSh0ZXN0LCAwLCAoKGlu
dCAqKXRhYmxlLmRhdGEpWzBdKTsKK30KKworc3RhdGljIHZvaWQgc3lzY3RsX3Rlc3RfZG9pbnR2
ZWNfc2luZ2xlX2dyZWF0ZXJfaW50X21heChzdHJ1Y3Qga3VuaXQgKnRlc3QpCit7CisJc3RydWN0
IGN0bF90YWJsZSB0YWJsZSA9IHsKKwkJLnByb2NuYW1lID0gImZvbyIsCisJCS5kYXRhCQk9ICZ0
ZXN0X2RhdGEuaW50XzAwMDEsCisJCS5tYXhsZW4JCT0gc2l6ZW9mKGludCksCisJCS5tb2RlCQk9
IDA2NDQsCisJCS5wcm9jX2hhbmRsZXIJPSBwcm9jX2RvaW50dmVjLAorCQkuZXh0cmExCQk9ICZp
X3plcm8sCisJCS5leHRyYTIgICAgICAgICA9ICZpX29uZV9odW5kcmVkLAorCX07CisJY2hhciBp
bnB1dFszMl07CisJc2l6ZV90IGxlbiA9IHNpemVvZihpbnB1dCkgLSAxOworCWxvZmZfdCBwb3Mg
PSAwOworCXVuc2lnbmVkIGxvbmcgZ3JlYXRlcl90aGFuX21heCA9ICh1bnNpZ25lZCBsb25nKUlO
VF9NQVggKyAxOworCisJS1VOSVRfRVhQRUNUX0dUKHRlc3QsIGdyZWF0ZXJfdGhhbl9tYXgsICh1
bnNpZ25lZCBsb25nKUlOVF9NQVgpOworCUtVTklUX0VYUEVDVF9MVCh0ZXN0LCAoc2l6ZV90KXNu
cHJpbnRmKGlucHV0LCBzaXplb2YoaW5wdXQpLCAiJWx1IiwKKwkJCQkJICAgICAgIGdyZWF0ZXJf
dGhhbl9tYXgpLAorCQkJc2l6ZW9mKGlucHV0KSk7CisJdGFibGUuZGF0YSA9IGt1bml0X2t6YWxs
b2ModGVzdCwgc2l6ZW9mKGludCksIEdGUF9VU0VSKTsKKwlLVU5JVF9FWFBFQ1RfRVEodGVzdCwg
LUVJTlZBTCwKKwkJCXByb2NfZG9pbnR2ZWMoJnRhYmxlLCAxLCBpbnB1dCwgJmxlbiwgJnBvcykp
OworCUtVTklUX0VYUEVDVF9FUSh0ZXN0LCBzaXplb2YoaW5wdXQpIC0gMSwgbGVuKTsKKwlLVU5J
VF9FWFBFQ1RfRVEodGVzdCwgMCwgKChpbnQgKil0YWJsZS5kYXRhKVswXSk7Cit9CisKK3N0YXRp
YyBzdHJ1Y3Qga3VuaXRfY2FzZSBzeXNjdGxfdGVzdF9jYXNlc1tdID0geworCUtVTklUX0NBU0Uo
c3lzY3RsX3Rlc3RfZG9pbnR2ZWNfbnVsbF90YmxfZGF0YSksCisJS1VOSVRfQ0FTRShzeXNjdGxf
dGVzdF9kb2ludHZlY190YWJsZV9tYXhsZW5fdW5zZXQpLAorCUtVTklUX0NBU0Uoc3lzY3RsX3Rl
c3RfZG9pbnR2ZWNfdGFibGVfbGVuX2lzX3plcm8pLAorCUtVTklUX0NBU0Uoc3lzY3RsX3Rlc3Rf
ZG9pbnR2ZWNfdGFibGVfcmVhZF9idXRfcG9zaXRpb25fc2V0KSwKKwlLVU5JVF9DQVNFKHN5c2N0
bF90ZXN0X2RvaW50dmVjX2hhcHB5X3NpbmdsZV9wb3NpdGl2ZSksCisJS1VOSVRfQ0FTRShzeXNj
dGxfdGVzdF9kb2ludHZlY19oYXBweV9zaW5nbGVfbmVnYXRpdmUpLAorCUtVTklUX0NBU0Uoc3lz
Y3RsX3Rlc3RfZG9pbnR2ZWNfc2luZ2xlX2xlc3NfaW50X21pbiksCisJS1VOSVRfQ0FTRShzeXNj
dGxfdGVzdF9kb2ludHZlY19zaW5nbGVfZ3JlYXRlcl9pbnRfbWF4KSwKKwl7fQorfTsKKworc3Rh
dGljIHN0cnVjdCBrdW5pdF9tb2R1bGUgc3lzY3RsX3Rlc3RfbW9kdWxlID0geworCS5uYW1lID0g
InN5c2N0bF90ZXN0IiwKKwkudGVzdF9jYXNlcyA9IHN5c2N0bF90ZXN0X2Nhc2VzLAorfTsKKwor
bW9kdWxlX3Rlc3Qoc3lzY3RsX3Rlc3RfbW9kdWxlKTsKZGlmZiAtLWdpdCBhL2xpYi9LY29uZmln
LmRlYnVnIGIvbGliL0tjb25maWcuZGVidWcKaW5kZXggY2JkZmFlMzc5ODk2NS4uMzg5Yjg5ODZm
NWI3NyAxMDA2NDQKLS0tIGEvbGliL0tjb25maWcuZGVidWcKKysrIGIvbGliL0tjb25maWcuZGVi
dWcKQEAgLTE5MzksNiArMTkzOSwxNiBAQCBjb25maWcgVEVTVF9TWVNDVEwKIAogCSAgSWYgdW5z
dXJlLCBzYXkgTi4KIAorY29uZmlnIFNZU0NUTF9LVU5JVF9URVNUCisJYm9vbCAiS1VuaXQgdGVz
dCBmb3Igc3lzY3RsIgorCWRlcGVuZHMgb24gS1VOSVQKKwloZWxwCisJICBUaGlzIGJ1aWxkcyB0
aGUgcHJvYyBzeXNjdGwgdW5pdCB0ZXN0LCB3aGljaCBydW5zIG9uIGJvb3QuIEZvciBtb3JlCisJ
ICBpbmZvcm1hdGlvbiBvbiBLVW5pdCBhbmQgdW5pdCB0ZXN0cyBpbiBnZW5lcmFsIHBsZWFzZSBy
ZWZlciB0byB0aGUKKwkgIEtVbml0IGRvY3VtZW50YXRpb24gaW4gRG9jdW1lbnRhdGlvbi9kZXYt
dG9vbHMva3VuaXQvLgorCisJICBJZiB1bnN1cmUsIHNheSBOLgorCiBjb25maWcgVEVTVF9VREVM
QVkKIAl0cmlzdGF0ZSAidWRlbGF5IHRlc3QgZHJpdmVyIgogCWhlbHAKLS0gCjIuMjIuMC40MTAu
Z2Q4ZmRiZTIxYjUtZ29vZwoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0
b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJp
LWRldmVs
