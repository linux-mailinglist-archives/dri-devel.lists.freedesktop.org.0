Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id B218BF283E
	for <lists+dri-devel@lfdr.de>; Thu,  7 Nov 2019 08:43:54 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id ED8236EE9F;
	Thu,  7 Nov 2019 07:43:24 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-qv1-xf44.google.com (mail-qv1-xf44.google.com
 [IPv6:2607:f8b0:4864:20::f44])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E2D8C6E22F
 for <dri-devel@lists.freedesktop.org>; Wed,  6 Nov 2019 15:33:23 +0000 (UTC)
Received: by mail-qv1-xf44.google.com with SMTP id c9so1577728qvz.9
 for <dri-devel@lists.freedesktop.org>; Wed, 06 Nov 2019 07:33:23 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=zdno54+YrnAis2IfaLsHue6J0VhFxBM3FnDvV7pWPE0=;
 b=TfVMaVNkFLnxAelCLwK63h5RqTcPpH+xm3NbOnm7uC4/aQdHLAysdm+kciikhf9c+o
 C88aLXFG+6IIF+KuWa1n+x9ngplzELpJyiZSpX+W/VVPTOPk+bEKM8c2FnF9zc+lmKYh
 gdmAYmkxHJbkrIX27mpQHh9z0e/Der/PbwmTBkQ0geQt8JWMgeO5gFxa8ryBCLkhPLGy
 VJqzDOl26furW3Skm1447JBpdorSmgjeNpA8s9iYIZCN1O1jLjAR16gZbuXQOE9oSwLJ
 xlWjcZo00BGWzf4mtJpzHHxWz2Ho/D3ZDHVuPox1MlLk7Ls4deAYN7shw4xWnOSYNg87
 jI9g==
X-Gm-Message-State: APjAAAVlrHfy8/+JnnMwHiyyz6k6pWx17jaKiiRz3ltpr+x2y3nmDx91
 AmtQJes2zzI4ebw2WFvJyaJUndI+EDOMl4uZKveaGg==
X-Google-Smtp-Source: APXvYqyLSem31h83DgUIYvdHHQeKGyX/qiJCt7AlY4nkLyEIHADw27IRWEXv92THikVCLb+PUsaN/wYsMyEz7dLBjDM=
X-Received: by 2002:a0c:b064:: with SMTP id l33mr2823588qvc.34.1573054402522; 
 Wed, 06 Nov 2019 07:33:22 -0800 (PST)
MIME-Version: 1.0
References: <000000000000b2de3a0594d8b4ca@google.com>
 <00000000000012ff570596af15cc@google.com>
 <CAKMK7uFQt+=7XMo9jvz77QvDWLAAU_V7-_qZ=iKe-GXG7cqeJg@mail.gmail.com>
 <CAKMK7uEeQnxMXeyMTvqJ-8H3wFeSexkbL1OJ0oJeUoep=YXcVg@mail.gmail.com>
In-Reply-To: <CAKMK7uEeQnxMXeyMTvqJ-8H3wFeSexkbL1OJ0oJeUoep=YXcVg@mail.gmail.com>
From: Dmitry Vyukov <dvyukov@google.com>
Date: Wed, 6 Nov 2019 16:33:11 +0100
Message-ID: <CACT4Y+b1yx9cYAtedSv+D4utu+MF_3uJt5oKmcQs7qDBrPx2=w@mail.gmail.com>
Subject: Re: WARNING in drm_mode_createblob_ioctl
To: Daniel Vetter <daniel@ffwll.ch>
X-Mailman-Approved-At: Thu, 07 Nov 2019 07:43:23 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=google.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=zdno54+YrnAis2IfaLsHue6J0VhFxBM3FnDvV7pWPE0=;
 b=iXsO6yva0aQZuX4+y9BQ7GZSJYcllIFyCdyEQ+l7gHjC4BzR1seiva0AMKvEye11VM
 2v108y0tDdwffVHSNTuDS5sgUowcAVOHrjbokW2Ve1V936IfXcW/6Nnu/seNTsntGB5O
 VFIqon8WatW0MXEXrc2nocVfBM8DeEr/oCWMoy8tAnOAOS9Errt/BWfx6hJE2+7Z2v1I
 jFUph1pn5NaZkSpXREX7oxCb4siXnY7OEV4983VXJWvu769VI3eGrUcZR3/D7Cvne9Ne
 vFDkEZmbEKMIaISAxO0ffPp/5qbBRJGzHpEPnhIE0F87jguXcOm2DOv33KLfZobGf0y/
 ZtdA==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Stephen Rothwell <sfr@canb.auug.org.au>,
 syzbot <syzbot+fb77e97ebf0612ee6914@syzkaller.appspotmail.com>,
 Kees Cook <keescook@chromium.org>, Dave Airlie <airlied@linux.ie>,
 syzkaller-bugs <syzkaller-bugs@googlegroups.com>,
 Linux Kernel Mailing List <linux-kernel@vger.kernel.org>,
 dri-devel <dri-devel@lists.freedesktop.org>,
 Andrew Morton <akpm@linux-foundation.org>, Sean Paul <sean@poorly.run>,
 Al Viro <viro@zeniv.linux.org.uk>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gV2VkLCBOb3YgNiwgMjAxOSBhdCA0OjI4IFBNIERhbmllbCBWZXR0ZXIgPGRhbmllbEBmZnds
bC5jaD4gd3JvdGU6Cj4KPiBPbiBXZWQsIE5vdiA2LCAyMDE5IGF0IDQ6MjMgUE0gRGFuaWVsIFZl
dHRlciA8ZGFuaWVsQGZmd2xsLmNoPiB3cm90ZToKPiA+Cj4gPiBPbiBXZWQsIE5vdiA2LCAyMDE5
IGF0IDQ6MjAgUE0gc3l6Ym90Cj4gPiA8c3l6Ym90K2ZiNzdlOTdlYmYwNjEyZWU2OTE0QHN5emth
bGxlci5hcHBzcG90bWFpbC5jb20+IHdyb3RlOgo+ID4gPgo+ID4gPiBzeXpib3QgaGFzIGJpc2Vj
dGVkIHRoaXMgYnVnIHRvOgo+ID4gPgo+ID4gPiBjb21taXQgOWU1YTY0YzcxYjJmNzBiYTUzMGY4
MTU2MDQ2ZGQ3ZGZiOGE3YTBiYQo+ID4gPiBBdXRob3I6IEtlZXMgQ29vayA8a2Vlc2Nvb2tAY2hy
b21pdW0ub3JnPgo+ID4gPiBEYXRlOiAgIE1vbiBOb3YgNCAyMjo1NzoyMyAyMDE5ICswMDAwCj4g
PiA+Cj4gPiA+ICAgICAgdWFjY2VzczogZGlzYWxsb3cgPiBJTlRfTUFYIGNvcHkgc2l6ZXMKPiA+
Cj4gPiBBaCBjb29sLCB0aGlzIGV4cGxhaW5zIGl0Lgo+ID4KPiA+IGZ3aXcgSSBuZXZlciBtYW5h
Z2VkIHRvIGdldCB0aGUgV0FSTklORyBpbiB0aGUgYmFja3RyYWNlIHRvIGxpZ24gdXAKPiA+IHdp
dGggYW55IGNvZGUuIE5vIGlkZWEgd2hhdCdzIGJlZW4gZ29pbmcgb24uCj4KPiBPayBJIHRoaW5r
IEkgaGF2ZSBhbiBpZGVhLCB0aGUgYWJvdmUgY29tbWl0IGlzbid0IGluIHRoZSBsaW51eC1uZXh0
IEkKPiBoYXZlIGhlcmUuIFdoZXJlIGlzIHRoaXMgZnJvbT8KPiAtRGFuaWVsCgpZb3UgbmVlZCB0
byBmZXRjaCB0YWdzIHRvIGxpbnV4LW5leHQuIHN5emJvdCBzdGFydGVkIGJpc2VjdGluZyBmcm9t
CnRoZSBjb21taXQgd2hlcmUgdGhlIGNyYXNoIGhhcHBlbmVkLCBhbmQgaXQgaXMgbm93IHByb2Jh
Ymx5IG5vdCB0aGUKY3VycmVudCB0YWcuCgpsaW51eCQgZ2l0IHNob3cgOWU1YTY0YzcxYjJmNzBi
YTUzMGY4MTU2MDQ2ZGQ3ZGZiOGE3YTBiYQpjb21taXQgOWU1YTY0YzcxYjJmNzBiYTUzMGY4MTU2
MDQ2ZGQ3ZGZiOGE3YTBiYQpBdXRob3I6IEtlZXMgQ29vayA8a2Vlc2Nvb2tAY2hyb21pdW0ub3Jn
PgpEYXRlOiAgIFR1ZSBOb3YgNSAwOTo1NzoyMyAyMDE5ICsxMTAwCgogICAgdWFjY2VzczogZGlz
YWxsb3cgPiBJTlRfTUFYIGNvcHkgc2l6ZXMKCiAgICBBcyB3ZSd2ZSBkb25lIHdpdGggVkZTLCBz
dHJpbmcgb3BlcmF0aW9ucywgZXRjLCByZWplY3QgdXNlcmNvcHkgc2l6ZXMKICAgIGxhcmdlciB0
aGFuIElOVF9NQVgsIHdoaWNoIHdvdWxkIGJlIG5pY2UgdG8gaGF2ZSBmb3IgY2F0Y2hpbmcgYnVn
cyByZWxhdGVkCiAgICB0byBzaXplIGNhbGN1bGF0aW9uIG92ZXJmbG93c1sxXS4KCiAgICBUaGlz
IGFkZHMgMTAgYnl0ZXMgdG8geDg2XzY0IGRlZmNvbmZpZyB0ZXh0IGFuZCAxOTgwIGJ5dGVzIHRv
IHRoZSBkYXRhCiAgICBzZWN0aW9uOgoKICAgICAgIHRleHQgICAgZGF0YSAgICAgYnNzICAgICBk
ZWMgICAgIGhleCBmaWxlbmFtZQogICAgMTk2OTExNjcgICAgICAgIDUxMzQzMjAgMTY0NjY2NCAy
NjQ3MjE1MSAgICAgICAgMTkzZWVkNyB2bWxpbnV4LmJlZm9yZQogICAgMTk2OTExNzcgICAgICAg
IDUxMzYzMDAgMTY0NjY2NCAyNjQ3NDE0MSAgICAgICAgMTkzZjY5ZCB2bWxpbnV4LmFmdGVyCgog
ICAgWzFdIGh0dHBzOi8vbWFyYy5pbmZvLz9sPWxpbnV4LXMzOTAmbT0xNTY2MzE5MzkwMTA0OTMm
dz0yCgogICAgTGluazogaHR0cDovL2xrbWwua2VybmVsLm9yZy9yLzIwMTkwODI1MTYxMi5GOTkw
MkQ3QUBrZWVzY29vawogICAgU2lnbmVkLW9mZi1ieTogS2VlcyBDb29rIDxrZWVzY29va0BjaHJv
bWl1bS5vcmc+CiAgICBTdWdnZXN0ZWQtYnk6IERhbiBDYXJwZW50ZXIgPGRhbi5jYXJwZW50ZXJA
b3JhY2xlLmNvbT4KICAgIENjOiBBbGV4YW5kZXIgVmlybyA8dmlyb0B6ZW5pdi5saW51eC5vcmcu
dWs+CiAgICBTaWduZWQtb2ZmLWJ5OiBBbmRyZXcgTW9ydG9uIDxha3BtQGxpbnV4LWZvdW5kYXRp
b24ub3JnPgogICAgU2lnbmVkLW9mZi1ieTogU3RlcGhlbiBSb3Rod2VsbCA8c2ZyQGNhbmIuYXV1
Zy5vcmcuYXU+CgpkaWZmIC0tZ2l0IGEvaW5jbHVkZS9saW51eC90aHJlYWRfaW5mby5oIGIvaW5j
bHVkZS9saW51eC90aHJlYWRfaW5mby5oCmluZGV4IDY1OWE0NDAwNTE3YjIuLmU5M2UyNDlhNGU5
YmYgMTAwNjQ0Ci0tLSBhL2luY2x1ZGUvbGludXgvdGhyZWFkX2luZm8uaAorKysgYi9pbmNsdWRl
L2xpbnV4L3RocmVhZF9pbmZvLmgKQEAgLTE0Nyw2ICsxNDcsOCBAQCBjaGVja19jb3B5X3NpemUo
Y29uc3Qgdm9pZCAqYWRkciwgc2l6ZV90IGJ5dGVzLApib29sIGlzX3NvdXJjZSkKICAgICAgICAg
ICAgICAgICAgICAgICAgX19iYWRfY29weV90bygpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZh
bHNlOwogICAgICAgIH0KKyAgICAgICBpZiAoV0FSTl9PTl9PTkNFKGJ5dGVzID4gSU5UX01BWCkp
CisgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgY2hlY2tfb2JqZWN0X3NpemUo
YWRkciwgYnl0ZXMsIGlzX3NvdXJjZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiB9CgoKPiA+IEkn
bGwgdHlwZSBhIHBhdGNoIHRvIHBhcGVyIG92ZXIgdGhpcy4KPiA+IC1EYW5pZWwKPiA+Cj4gPiA+
Cj4gPiA+IGJpc2VjdGlvbiBsb2c6ICBodHRwczovL3N5emthbGxlci5hcHBzcG90LmNvbS94L2Jp
c2VjdC50eHQ/eD0xMjVmZTZkY2UwMDAwMAo+ID4gPiBzdGFydCBjb21taXQ6ICAgNTEzMDliOWQg
QWRkIGxpbnV4LW5leHQgc3BlY2lmaWMgZmlsZXMgZm9yIDIwMTkxMTA1Cj4gPiA+IGdpdCB0cmVl
OiAgICAgICBsaW51eC1uZXh0Cj4gPiA+IGZpbmFsIGNyYXNoOiAgICBodHRwczovL3N5emthbGxl
ci5hcHBzcG90LmNvbS94L3JlcG9ydC50eHQ/eD0xMTVmZTZkY2UwMDAwMAo+ID4gPiBjb25zb2xl
IG91dHB1dDogaHR0cHM6Ly9zeXprYWxsZXIuYXBwc3BvdC5jb20veC9sb2cudHh0P3g9MTY1ZmU2
ZGNlMDAwMDAKPiA+ID4ga2VybmVsIGNvbmZpZzogIGh0dHBzOi8vc3l6a2FsbGVyLmFwcHNwb3Qu
Y29tL3gvLmNvbmZpZz94PWE5YjFhNjQxYzFmMWZjNTIKPiA+ID4gZGFzaGJvYXJkIGxpbms6IGh0
dHBzOi8vc3l6a2FsbGVyLmFwcHNwb3QuY29tL2J1Zz9leHRpZD1mYjc3ZTk3ZWJmMDYxMmVlNjkx
NAo+ID4gPiBzeXogcmVwcm86ICAgICAgaHR0cHM6Ly9zeXprYWxsZXIuYXBwc3BvdC5jb20veC9y
ZXByby5zeXo/eD0xMjEyZGMzYWUwMDAwMAo+ID4gPiBDIHJlcHJvZHVjZXI6ICAgaHR0cHM6Ly9z
eXprYWxsZXIuYXBwc3BvdC5jb20veC9yZXByby5jP3g9MTQ1ZjYwNGFlMDAwMDAKPiA+ID4KPiA+
ID4gUmVwb3J0ZWQtYnk6IHN5emJvdCtmYjc3ZTk3ZWJmMDYxMmVlNjkxNEBzeXprYWxsZXIuYXBw
c3BvdG1haWwuY29tCj4gPiA+IEZpeGVzOiA5ZTVhNjRjNzFiMmYgKCJ1YWNjZXNzOiBkaXNhbGxv
dyA+IElOVF9NQVggY29weSBzaXplcyIpCj4gPiA+Cj4gPiA+IEZvciBpbmZvcm1hdGlvbiBhYm91
dCBiaXNlY3Rpb24gcHJvY2VzcyBzZWU6IGh0dHBzOi8vZ29vLmdsL3Rwc21FSiNiaXNlY3Rpb24K
PiA+Cj4gPgo+ID4KPiA+IC0tCj4gPiBEYW5pZWwgVmV0dGVyCj4gPiBTb2Z0d2FyZSBFbmdpbmVl
ciwgSW50ZWwgQ29ycG9yYXRpb24KPiA+ICs0MSAoMCkgNzkgMzY1IDU3IDQ4IC0gaHR0cDovL2Js
b2cuZmZ3bGwuY2gKPgo+Cj4KPiAtLQo+IERhbmllbCBWZXR0ZXIKPiBTb2Z0d2FyZSBFbmdpbmVl
ciwgSW50ZWwgQ29ycG9yYXRpb24KPiArNDEgKDApIDc5IDM2NSA1NyA0OCAtIGh0dHA6Ly9ibG9n
LmZmd2xsLmNoCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
CmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpo
dHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
