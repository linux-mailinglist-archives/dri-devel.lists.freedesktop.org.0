Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 20282BB028
	for <lists+dri-devel@lfdr.de>; Mon, 23 Sep 2019 11:03:04 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 29A2F6E262;
	Mon, 23 Sep 2019 09:03:01 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-pg1-x54a.google.com (mail-pg1-x54a.google.com
 [IPv6:2607:f8b0:4864:20::54a])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 23FD46E262
 for <dri-devel@lists.freedesktop.org>; Mon, 23 Sep 2019 09:02:59 +0000 (UTC)
Received: by mail-pg1-x54a.google.com with SMTP id 135so3616796pgc.23
 for <dri-devel@lists.freedesktop.org>; Mon, 23 Sep 2019 02:02:59 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:date:in-reply-to:message-id:mime-version
 :references:subject:from:to:cc;
 bh=RnaiknukMn81GdTXdyUJzTMO7hw1RYid2iNxb8PtJPc=;
 b=h3Td5mrmmbZHpRFNHk2X9kW9uDaUkX+GBR0Jk7Nteg9enBW2kdIXqSFS+w4vJAvvg8
 CnQ1ABM5M/JHBl3xI7pPemjj1jsiWf5URPM2kv6BYKgC31TD7vsNqrPHzgE2C0s7JCc8
 3kmi5b1SbJwJQp0nAfn6nYrdlrZ4Dzy3s5d9GfIplhMqGOGZMbPDbCk142WWaMj/tU5z
 qkIaYn8tupFOi4X1ePcdWe/qnQhkFyGGCpqKTtaAwsHggVNW7UUrp8ZtHdUgI6xIlTiq
 mtG9BNRTfWCkfzrWs+KTvXoAM+SdOWg6UYTm0XkInwm4FPyxRbq/4MLRvp13DVu07laC
 1oRA==
X-Gm-Message-State: APjAAAVsF9oA0ST4E2ojCZpHKcPDnUlAg6s+ijMFOjtVISXgkKBE02cm
 T7xcXsJJ83wY17f0qUmwfDnicZx3FksgN/witPvXgA==
X-Google-Smtp-Source: APXvYqwEHnr6Gadc+8qVqNyG/MK28TblGnL0JV8EwWy2W+J1pstPlCF4Xfq6ZVnfpa/Y5ZEilFu5PrZBbwCKhE9yqwtY2w==
X-Received: by 2002:a63:f342:: with SMTP id t2mr9198199pgj.194.1569229377795; 
 Mon, 23 Sep 2019 02:02:57 -0700 (PDT)
Date: Mon, 23 Sep 2019 02:02:31 -0700
In-Reply-To: <20190923090249.127984-1-brendanhiggins@google.com>
Message-Id: <20190923090249.127984-2-brendanhiggins@google.com>
Mime-Version: 1.0
References: <20190923090249.127984-1-brendanhiggins@google.com>
X-Mailer: git-send-email 2.23.0.351.gc4317032e6-goog
Subject: [PATCH v18 01/19] kunit: test: add KUnit test runner core
From: Brendan Higgins <brendanhiggins@google.com>
To: frowand.list@gmail.com, gregkh@linuxfoundation.org, jpoimboe@redhat.com, 
 keescook@google.com, kieran.bingham@ideasonboard.com, mcgrof@kernel.org, 
 peterz@infradead.org, robh@kernel.org, sboyd@kernel.org, shuah@kernel.org, 
 tytso@mit.edu, yamada.masahiro@socionext.com
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=google.com; s=20161025;
 h=date:in-reply-to:message-id:mime-version:references:subject:from:to
 :cc;
 bh=RnaiknukMn81GdTXdyUJzTMO7hw1RYid2iNxb8PtJPc=;
 b=HmyrSFYThZyil8oXcuRROZa0VhrbXIvFfTYZTqxhQBTlaWa7Ug07OR7kcRfmTsXTZw
 xh76zmBKrLHEeh/nwrfaSptgUvPotJ+V7ieLFeEM7JYTa9ESttd6izi4jVs7dGUnQTj0
 uRzv8Z5qBobZm1vR2Ofr/95gM4c1p8zfCvJJUwuQAK5H+3B1RyUbKmPtWFUdjeNQ/xGz
 LX7MyDMxCuRbRvoHlLF5oY8PNLag+Cagz4SPz07iTSXAvLYz8lb0tBEqqIz2jr4ZK1KC
 8U0phI53+XR2S+tauWp957i2bUgtTCThDraGBZwW4NVGVwyIxoWQRT4VaAhtZCd+LrPp
 AXzw==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: pmladek@suse.com, linux-doc@vger.kernel.org, amir73il@gmail.com,
 Brendan Higgins <brendanhiggins@google.com>, dri-devel@lists.freedesktop.org,
 Alexander.Levin@microsoft.com, linux-kselftest@vger.kernel.org,
 linux-nvdimm@lists.01.org, khilman@baylibre.com, knut.omang@oracle.com,
 wfg@linux.intel.com, joel@jms.id.au, rientjes@google.com, jdike@addtoit.com,
 dan.carpenter@oracle.com, devicetree@vger.kernel.org,
 linux-kbuild@vger.kernel.org, Tim.Bird@sony.com, linux-um@lists.infradead.org,
 rostedt@goodmis.org, julia.lawall@lip6.fr, kunit-dev@googlegroups.com,
 richard@nod.at, torvalds@linux-foundation.org, rdunlap@infradead.org,
 linux-kernel@vger.kernel.org, mpe@ellerman.id.au,
 linux-fsdevel@vger.kernel.org, logang@deltatee.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QWRkIGNvcmUgZmFjaWxpdGllcyBmb3IgZGVmaW5pbmcgdW5pdCB0ZXN0czsgdGhpcyBwcm92aWRl
cyBhIGNvbW1vbiB3YXkKdG8gZGVmaW5lIHRlc3QgY2FzZXMsIGZ1bmN0aW9ucyB0aGF0IGV4ZWN1
dGUgY29kZSB3aGljaCBpcyB1bmRlciB0ZXN0CmFuZCBkZXRlcm1pbmUgd2hldGhlciB0aGUgY29k
ZSB1bmRlciB0ZXN0IGJlaGF2ZXMgYXMgZXhwZWN0ZWQ7IHRoaXMgYWxzbwpwcm92aWRlcyBhIHdh
eSB0byBncm91cCB0b2dldGhlciByZWxhdGVkIHRlc3QgY2FzZXMgaW4gdGVzdCBzdWl0ZXMgKGhl
cmUKd2UgY2FsbCB0aGVtIHRlc3RfbW9kdWxlcykuCgpKdXN0IGRlZmluZSB0ZXN0IGNhc2VzIGFu
ZCBob3cgdG8gZXhlY3V0ZSB0aGVtIGZvciBub3c7IHNldHRpbmcKZXhwZWN0YXRpb25zIG9uIGNv
ZGUgd2lsbCBiZSBkZWZpbmVkIGxhdGVyLgoKU2lnbmVkLW9mZi1ieTogQnJlbmRhbiBIaWdnaW5z
IDxicmVuZGFuaGlnZ2luc0Bnb29nbGUuY29tPgpSZXZpZXdlZC1ieTogR3JlZyBLcm9haC1IYXJ0
bWFuIDxncmVna2hAbGludXhmb3VuZGF0aW9uLm9yZz4KUmV2aWV3ZWQtYnk6IExvZ2FuIEd1bnRo
b3JwZSA8bG9nYW5nQGRlbHRhdGVlLmNvbT4KUmV2aWV3ZWQtYnk6IEx1aXMgQ2hhbWJlcmxhaW4g
PG1jZ3JvZkBrZXJuZWwub3JnPgpSZXZpZXdlZC1ieTogU3RlcGhlbiBCb3lkIDxzYm95ZEBrZXJu
ZWwub3JnPgotLS0KIGluY2x1ZGUva3VuaXQvdGVzdC5oIHwgMTg4ICsrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKwogbGliL2t1bml0L0tjb25maWcgICAgfCAgMTMgKysr
CiBsaWIva3VuaXQvTWFrZWZpbGUgICB8ICAgMSArCiBsaWIva3VuaXQvdGVzdC5jICAgICB8IDE5
MSArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrCiA0IGZpbGVzIGNo
YW5nZWQsIDM5MyBpbnNlcnRpb25zKCspCiBjcmVhdGUgbW9kZSAxMDA2NDQgaW5jbHVkZS9rdW5p
dC90ZXN0LmgKIGNyZWF0ZSBtb2RlIDEwMDY0NCBsaWIva3VuaXQvS2NvbmZpZwogY3JlYXRlIG1v
ZGUgMTAwNjQ0IGxpYi9rdW5pdC9NYWtlZmlsZQogY3JlYXRlIG1vZGUgMTAwNjQ0IGxpYi9rdW5p
dC90ZXN0LmMKCmRpZmYgLS1naXQgYS9pbmNsdWRlL2t1bml0L3Rlc3QuaCBiL2luY2x1ZGUva3Vu
aXQvdGVzdC5oCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAwMC4uZTMwZDFi
ZjJmYjY4Ci0tLSAvZGV2L251bGwKKysrIGIvaW5jbHVkZS9rdW5pdC90ZXN0LmgKQEAgLTAsMCAr
MSwxODggQEAKKy8qIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wICovCisvKgorICog
QmFzZSB1bml0IHRlc3QgKEtVbml0KSBBUEkuCisgKgorICogQ29weXJpZ2h0IChDKSAyMDE5LCBH
b29nbGUgTExDLgorICogQXV0aG9yOiBCcmVuZGFuIEhpZ2dpbnMgPGJyZW5kYW5oaWdnaW5zQGdv
b2dsZS5jb20+CisgKi8KKworI2lmbmRlZiBfS1VOSVRfVEVTVF9ICisjZGVmaW5lIF9LVU5JVF9U
RVNUX0gKKworI2luY2x1ZGUgPGxpbnV4L3R5cGVzLmg+CisKK3N0cnVjdCBrdW5pdDsKKworLyoq
CisgKiBzdHJ1Y3Qga3VuaXRfY2FzZSAtIHJlcHJlc2VudHMgYW4gaW5kaXZpZHVhbCB0ZXN0IGNh
c2UuCisgKgorICogQHJ1bl9jYXNlOiB0aGUgZnVuY3Rpb24gcmVwcmVzZW50aW5nIHRoZSBhY3R1
YWwgdGVzdCBjYXNlLgorICogQG5hbWU6ICAgICB0aGUgbmFtZSBvZiB0aGUgdGVzdCBjYXNlLgor
ICoKKyAqIEEgdGVzdCBjYXNlIGlzIGEgZnVuY3Rpb24gd2l0aCB0aGUgc2lnbmF0dXJlLAorICog
YGB2b2lkICgqKShzdHJ1Y3Qga3VuaXQgKilgYCB0aGF0IG1ha2VzIGV4cGVjdGF0aW9ucyAoc2Vl
CisgKiBLVU5JVF9FWFBFQ1RfVFJVRSgpKSBhYm91dCBjb2RlIHVuZGVyIHRlc3QuIEVhY2ggdGVz
dCBjYXNlIGlzIGFzc29jaWF0ZWQKKyAqIHdpdGggYSAmc3RydWN0IGt1bml0X3N1aXRlIGFuZCB3
aWxsIGJlIHJ1biBhZnRlciB0aGUgc3VpdGUncyBpbml0CisgKiBmdW5jdGlvbiBhbmQgZm9sbG93
ZWQgYnkgdGhlIHN1aXRlJ3MgZXhpdCBmdW5jdGlvbi4KKyAqCisgKiBBIHRlc3QgY2FzZSBzaG91
bGQgYmUgc3RhdGljIGFuZCBzaG91bGQgb25seSBiZSBjcmVhdGVkIHdpdGggdGhlCisgKiBLVU5J
VF9DQVNFKCkgbWFjcm87IGFkZGl0aW9uYWxseSwgZXZlcnkgYXJyYXkgb2YgdGVzdCBjYXNlcyBz
aG91bGQgYmUKKyAqIHRlcm1pbmF0ZWQgd2l0aCBhbiBlbXB0eSB0ZXN0IGNhc2UuCisgKgorICog
RXhhbXBsZToKKyAqCisgKiAuLiBjb2RlLWJsb2NrOjogYworICoKKyAqCXZvaWQgYWRkX3Rlc3Rf
YmFzaWMoc3RydWN0IGt1bml0ICp0ZXN0KQorICoJeworICoJCUtVTklUX0VYUEVDVF9FUSh0ZXN0
LCAxLCBhZGQoMSwgMCkpOworICoJCUtVTklUX0VYUEVDVF9FUSh0ZXN0LCAyLCBhZGQoMSwgMSkp
OworICoJCUtVTklUX0VYUEVDVF9FUSh0ZXN0LCAwLCBhZGQoLTEsIDEpKTsKKyAqCQlLVU5JVF9F
WFBFQ1RfRVEodGVzdCwgSU5UX01BWCwgYWRkKDAsIElOVF9NQVgpKTsKKyAqCQlLVU5JVF9FWFBF
Q1RfRVEodGVzdCwgLTEsIGFkZChJTlRfTUFYLCBJTlRfTUlOKSk7CisgKgl9CisgKgorICoJc3Rh
dGljIHN0cnVjdCBrdW5pdF9jYXNlIGV4YW1wbGVfdGVzdF9jYXNlc1tdID0geworICoJCUtVTklU
X0NBU0UoYWRkX3Rlc3RfYmFzaWMpLAorICoJCXt9CisgKgl9OworICoKKyAqLworc3RydWN0IGt1
bml0X2Nhc2UgeworCXZvaWQgKCpydW5fY2FzZSkoc3RydWN0IGt1bml0ICp0ZXN0KTsKKwljb25z
dCBjaGFyICpuYW1lOworCisJLyogcHJpdmF0ZTogaW50ZXJuYWwgdXNlIG9ubHkuICovCisJYm9v
bCBzdWNjZXNzOworfTsKKworLyoqCisgKiBLVU5JVF9DQVNFIC0gQSBoZWxwZXIgZm9yIGNyZWF0
aW5nIGEgJnN0cnVjdCBrdW5pdF9jYXNlCisgKgorICogQHRlc3RfbmFtZTogYSByZWZlcmVuY2Ug
dG8gYSB0ZXN0IGNhc2UgZnVuY3Rpb24uCisgKgorICogVGFrZXMgYSBzeW1ib2wgZm9yIGEgZnVu
Y3Rpb24gcmVwcmVzZW50aW5nIGEgdGVzdCBjYXNlIGFuZCBjcmVhdGVzIGEKKyAqICZzdHJ1Y3Qg
a3VuaXRfY2FzZSBvYmplY3QgZnJvbSBpdC4gU2VlIHRoZSBkb2N1bWVudGF0aW9uIGZvcgorICog
JnN0cnVjdCBrdW5pdF9jYXNlIGZvciBhbiBleGFtcGxlIG9uIGhvdyB0byB1c2UgaXQuCisgKi8K
KyNkZWZpbmUgS1VOSVRfQ0FTRSh0ZXN0X25hbWUpIHsgLnJ1bl9jYXNlID0gdGVzdF9uYW1lLCAu
bmFtZSA9ICN0ZXN0X25hbWUgfQorCisvKioKKyAqIHN0cnVjdCBrdW5pdF9zdWl0ZSAtIGRlc2Ny
aWJlcyBhIHJlbGF0ZWQgY29sbGVjdGlvbiBvZiAmc3RydWN0IGt1bml0X2Nhc2UKKyAqCisgKiBA
bmFtZToJdGhlIG5hbWUgb2YgdGhlIHRlc3QuIFB1cmVseSBpbmZvcm1hdGlvbmFsLgorICogQGlu
aXQ6CWNhbGxlZCBiZWZvcmUgZXZlcnkgdGVzdCBjYXNlLgorICogQGV4aXQ6CWNhbGxlZCBhZnRl
ciBldmVyeSB0ZXN0IGNhc2UuCisgKiBAdGVzdF9jYXNlczoJYSBudWxsIHRlcm1pbmF0ZWQgYXJy
YXkgb2YgdGVzdCBjYXNlcy4KKyAqCisgKiBBIGt1bml0X3N1aXRlIGlzIGEgY29sbGVjdGlvbiBv
ZiByZWxhdGVkICZzdHJ1Y3Qga3VuaXRfY2FzZSBzLCBzdWNoIHRoYXQKKyAqIEBpbml0IGlzIGNh
bGxlZCBiZWZvcmUgZXZlcnkgdGVzdCBjYXNlIGFuZCBAZXhpdCBpcyBjYWxsZWQgYWZ0ZXIgZXZl
cnkKKyAqIHRlc3QgY2FzZSwgc2ltaWxhciB0byB0aGUgbm90aW9uIG9mIGEgKnRlc3QgZml4dHVy
ZSogb3IgYSAqdGVzdCBjbGFzcyoKKyAqIGluIG90aGVyIHVuaXQgdGVzdGluZyBmcmFtZXdvcmtz
IGxpa2UgSlVuaXQgb3IgR29vZ2xldGVzdC4KKyAqCisgKiBFdmVyeSAmc3RydWN0IGt1bml0X2Nh
c2UgbXVzdCBiZSBhc3NvY2lhdGVkIHdpdGggYSBrdW5pdF9zdWl0ZSBmb3IgS1VuaXQKKyAqIHRv
IHJ1biBpdC4KKyAqLworc3RydWN0IGt1bml0X3N1aXRlIHsKKwljb25zdCBjaGFyIG5hbWVbMjU2
XTsKKwlpbnQgKCppbml0KShzdHJ1Y3Qga3VuaXQgKnRlc3QpOworCXZvaWQgKCpleGl0KShzdHJ1
Y3Qga3VuaXQgKnRlc3QpOworCXN0cnVjdCBrdW5pdF9jYXNlICp0ZXN0X2Nhc2VzOworfTsKKwor
LyoqCisgKiBzdHJ1Y3Qga3VuaXQgLSByZXByZXNlbnRzIGEgcnVubmluZyBpbnN0YW5jZSBvZiBh
IHRlc3QuCisgKgorICogQHByaXY6IGZvciB1c2VyIHRvIHN0b3JlIGFyYml0cmFyeSBkYXRhLiBD
b21tb25seSB1c2VkIHRvIHBhc3MgZGF0YQorICoJICBjcmVhdGVkIGluIHRoZSBpbml0IGZ1bmN0
aW9uIChzZWUgJnN0cnVjdCBrdW5pdF9zdWl0ZSkuCisgKgorICogVXNlZCB0byBzdG9yZSBpbmZv
cm1hdGlvbiBhYm91dCB0aGUgY3VycmVudCBjb250ZXh0IHVuZGVyIHdoaWNoIHRoZSB0ZXN0Cisg
KiBpcyBydW5uaW5nLiBNb3N0IG9mIHRoaXMgZGF0YSBpcyBwcml2YXRlIGFuZCBzaG91bGQgb25s
eSBiZSBhY2Nlc3NlZAorICogaW5kaXJlY3RseSB2aWEgcHVibGljIGZ1bmN0aW9uczsgdGhlIG9u
ZSBleGNlcHRpb24gaXMgQHByaXYgd2hpY2ggY2FuIGJlCisgKiB1c2VkIGJ5IHRoZSB0ZXN0IHdy
aXRlciB0byBzdG9yZSBhcmJpdHJhcnkgZGF0YS4KKyAqLworc3RydWN0IGt1bml0IHsKKwl2b2lk
ICpwcml2OworCisJLyogcHJpdmF0ZTogaW50ZXJuYWwgdXNlIG9ubHkuICovCisJY29uc3QgY2hh
ciAqbmFtZTsgLyogUmVhZCBvbmx5IGFmdGVyIGluaXRpYWxpemF0aW9uISAqLworCS8qCisJICog
c3VjY2VzcyBzdGFydHMgYXMgdHJ1ZSwgYW5kIG1heSBvbmx5IGJlIHNldCB0byBmYWxzZSBkdXJp
bmcgYQorCSAqIHRlc3QgY2FzZTsgdGh1cywgaXQgaXMgc2FmZSB0byB1cGRhdGUgdGhpcyBhY3Jv
c3MgbXVsdGlwbGUKKwkgKiB0aHJlYWRzIHVzaW5nIFdSSVRFX09OQ0U7IGhvd2V2ZXIsIGFzIGEg
Y29uc2VxdWVuY2UsIGl0IG1heSBvbmx5CisJICogYmUgcmVhZCBhZnRlciB0aGUgdGVzdCBjYXNl
IGZpbmlzaGVzIG9uY2UgYWxsIHRocmVhZHMgYXNzb2NpYXRlZAorCSAqIHdpdGggdGhlIHRlc3Qg
Y2FzZSBoYXZlIHRlcm1pbmF0ZWQuCisJICovCisJYm9vbCBzdWNjZXNzOyAvKiBSZWFkIG9ubHkg
YWZ0ZXIgdGVzdF9jYXNlIGZpbmlzaGVzISAqLworfTsKKwordm9pZCBrdW5pdF9pbml0X3Rlc3Qo
c3RydWN0IGt1bml0ICp0ZXN0LCBjb25zdCBjaGFyICpuYW1lKTsKKworaW50IGt1bml0X3J1bl90
ZXN0cyhzdHJ1Y3Qga3VuaXRfc3VpdGUgKnN1aXRlKTsKKworLyoqCisgKiBrdW5pdF90ZXN0X3N1
aXRlKCkgLSB1c2VkIHRvIHJlZ2lzdGVyIGEgJnN0cnVjdCBrdW5pdF9zdWl0ZSB3aXRoIEtVbml0
LgorICoKKyAqIEBzdWl0ZTogYSBzdGF0aWNhbGx5IGFsbG9jYXRlZCAmc3RydWN0IGt1bml0X3N1
aXRlLgorICoKKyAqIFJlZ2lzdGVycyBAc3VpdGUgd2l0aCB0aGUgdGVzdCBmcmFtZXdvcmsuIFNl
ZSAmc3RydWN0IGt1bml0X3N1aXRlIGZvcgorICogbW9yZSBpbmZvcm1hdGlvbi4KKyAqCisgKiBO
T1RFOiBDdXJyZW50bHkgS1VuaXQgdGVzdHMgYXJlIGFsbCBydW4gYXMgbGF0ZV9pbml0Y2FsbHM7
IHRoaXMgbWVhbnMKKyAqIHRoYXQgdGhleSBjYW5ub3QgdGVzdCBhbnl0aGluZyB3aGVyZSB0ZXN0
cyBtdXN0IHJ1biBhdCBhIGRpZmZlcmVudCBpbml0CisgKiBwaGFzZS4gT25lIHNpZ25pZmljYW50
IHJlc3RyaWN0aW9uIHJlc3VsdGluZyBmcm9tIHRoaXMgaXMgdGhhdCBLVW5pdAorICogY2Fubm90
IHJlbGlhYmx5IHRlc3QgYW55dGhpbmcgdGhhdCBpcyBpbml0aWFsaXplIGluIHRoZSBsYXRlX2lu
aXQgcGhhc2U7CisgKiBhbm90aGVyIGlzIHRoYXQgS1VuaXQgaXMgdXNlbGVzcyB0byB0ZXN0IHRo
aW5ncyB0aGF0IG5lZWQgdG8gYmUgcnVuIGluCisgKiBhbiBlYXJsaWVyIGluaXQgcGhhc2UuCisg
KgorICogVE9ETyhicmVuZGFuaGlnZ2luc0Bnb29nbGUuY29tKTogRG9uJ3QgcnVuIGFsbCBLVW5p
dCB0ZXN0cyBhcworICogbGF0ZV9pbml0Y2FsbHMuICBJIGhhdmUgc29tZSBmdXR1cmUgd29yayBw
bGFubmVkIHRvIGRpc3BhdGNoIGFsbCBLVW5pdAorICogdGVzdHMgZnJvbSB0aGUgc2FtZSBwbGFj
ZSwgYW5kIGF0IHRoZSB2ZXJ5IGxlYXN0IHRvIGRvIHNvIGFmdGVyCisgKiBldmVyeXRoaW5nIGVs
c2UgaXMgZGVmaW5pdGVseSBpbml0aWFsaXplZC4KKyAqLworI2RlZmluZSBrdW5pdF90ZXN0X3N1
aXRlKHN1aXRlKQkJCQkJCSAgICAgICBcCisJc3RhdGljIGludCBrdW5pdF9zdWl0ZV9pbml0IyNz
dWl0ZSh2b2lkKQkJCSAgICAgICBcCisJewkJCQkJCQkJICAgICAgIFwKKwkJcmV0dXJuIGt1bml0
X3J1bl90ZXN0cygmc3VpdGUpOwkJCQkgICAgICAgXAorCX0JCQkJCQkJCSAgICAgICBcCisJbGF0
ZV9pbml0Y2FsbChrdW5pdF9zdWl0ZV9pbml0IyNzdWl0ZSkKKwordm9pZCBfX3ByaW50ZigzLCA0
KSBrdW5pdF9wcmludGsoY29uc3QgY2hhciAqbGV2ZWwsCisJCQkJIGNvbnN0IHN0cnVjdCBrdW5p
dCAqdGVzdCwKKwkJCQkgY29uc3QgY2hhciAqZm10LCAuLi4pOworCisvKioKKyAqIGt1bml0X2lu
Zm8oKSAtIFByaW50cyBhbiBJTkZPIGxldmVsIG1lc3NhZ2UgYXNzb2NpYXRlZCB3aXRoIEB0ZXN0
LgorICoKKyAqIEB0ZXN0OiBUaGUgdGVzdCBjb250ZXh0IG9iamVjdC4KKyAqIEBmbXQ6ICBBIHBy
aW50aygpIHN0eWxlIGZvcm1hdCBzdHJpbmcuCisgKgorICogUHJpbnRzIGFuIGluZm8gbGV2ZWwg
bWVzc2FnZSBhc3NvY2lhdGVkIHdpdGggdGhlIHRlc3Qgc3VpdGUgYmVpbmcgcnVuLgorICogVGFr
ZXMgYSB2YXJpYWJsZSBudW1iZXIgb2YgZm9ybWF0IHBhcmFtZXRlcnMganVzdCBsaWtlIHByaW50
aygpLgorICovCisjZGVmaW5lIGt1bml0X2luZm8odGVzdCwgZm10LCAuLi4pIFwKKwlrdW5pdF9w
cmludGsoS0VSTl9JTkZPLCB0ZXN0LCBmbXQsICMjX19WQV9BUkdTX18pCisKKy8qKgorICoga3Vu
aXRfd2FybigpIC0gUHJpbnRzIGEgV0FSTiBsZXZlbCBtZXNzYWdlIGFzc29jaWF0ZWQgd2l0aCBA
dGVzdC4KKyAqCisgKiBAdGVzdDogVGhlIHRlc3QgY29udGV4dCBvYmplY3QuCisgKiBAZm10OiAg
QSBwcmludGsoKSBzdHlsZSBmb3JtYXQgc3RyaW5nLgorICoKKyAqIFByaW50cyBhIHdhcm5pbmcg
bGV2ZWwgbWVzc2FnZS4KKyAqLworI2RlZmluZSBrdW5pdF93YXJuKHRlc3QsIGZtdCwgLi4uKSBc
CisJa3VuaXRfcHJpbnRrKEtFUk5fV0FSTklORywgdGVzdCwgZm10LCAjI19fVkFfQVJHU19fKQor
CisvKioKKyAqIGt1bml0X2VycigpIC0gUHJpbnRzIGFuIEVSUk9SIGxldmVsIG1lc3NhZ2UgYXNz
b2NpYXRlZCB3aXRoIEB0ZXN0LgorICoKKyAqIEB0ZXN0OiBUaGUgdGVzdCBjb250ZXh0IG9iamVj
dC4KKyAqIEBmbXQ6ICBBIHByaW50aygpIHN0eWxlIGZvcm1hdCBzdHJpbmcuCisgKgorICogUHJp
bnRzIGFuIGVycm9yIGxldmVsIG1lc3NhZ2UuCisgKi8KKyNkZWZpbmUga3VuaXRfZXJyKHRlc3Qs
IGZtdCwgLi4uKSBcCisJa3VuaXRfcHJpbnRrKEtFUk5fRVJSLCB0ZXN0LCBmbXQsICMjX19WQV9B
UkdTX18pCisKKyNlbmRpZiAvKiBfS1VOSVRfVEVTVF9IICovCmRpZmYgLS1naXQgYS9saWIva3Vu
aXQvS2NvbmZpZyBiL2xpYi9rdW5pdC9LY29uZmlnCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4
IDAwMDAwMDAwMDAwMC4uNjY2YjljYjY3YTc0Ci0tLSAvZGV2L251bGwKKysrIGIvbGliL2t1bml0
L0tjb25maWcKQEAgLTAsMCArMSwxMyBAQAorIworIyBLVW5pdCBiYXNlIGNvbmZpZ3VyYXRpb24K
KyMKKworbWVudWNvbmZpZyBLVU5JVAorCWJvb2wgIktVbml0IC0gRW5hYmxlIHN1cHBvcnQgZm9y
IHVuaXQgdGVzdHMiCisJaGVscAorCSAgRW5hYmxlcyBzdXBwb3J0IGZvciBrZXJuZWwgdW5pdCB0
ZXN0cyAoS1VuaXQpLCBhIGxpZ2h0d2VpZ2h0IHVuaXQKKwkgIHRlc3RpbmcgYW5kIG1vY2tpbmcg
ZnJhbWV3b3JrIGZvciB0aGUgTGludXgga2VybmVsLiBUaGVzZSB0ZXN0cyBhcmUKKwkgIGFibGUg
dG8gYmUgcnVuIGxvY2FsbHkgb24gYSBkZXZlbG9wZXIncyB3b3Jrc3RhdGlvbiB3aXRob3V0IGEg
Vk0gb3IKKwkgIHNwZWNpYWwgaGFyZHdhcmUgd2hlbiB1c2luZyBVTUwuIENhbiBhbHNvIGJlIHVz
ZWQgb24gbW9zdCBvdGhlcgorCSAgYXJjaGl0ZWN0dXJlcy4gRm9yIG1vcmUgaW5mb3JtYXRpb24s
IHBsZWFzZSBzZWUKKwkgIERvY3VtZW50YXRpb24vZGV2LXRvb2xzL2t1bml0Ly4KZGlmZiAtLWdp
dCBhL2xpYi9rdW5pdC9NYWtlZmlsZSBiL2xpYi9rdW5pdC9NYWtlZmlsZQpuZXcgZmlsZSBtb2Rl
IDEwMDY0NAppbmRleCAwMDAwMDAwMDAwMDAuLjVlZmRjNGRlYTJjMAotLS0gL2Rldi9udWxsCisr
KyBiL2xpYi9rdW5pdC9NYWtlZmlsZQpAQCAtMCwwICsxIEBACitvYmotJChDT05GSUdfS1VOSVQp
ICs9CQkJdGVzdC5vCmRpZmYgLS1naXQgYS9saWIva3VuaXQvdGVzdC5jIGIvbGliL2t1bml0L3Rl
c3QuYwpuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwMDAwMDAuLmQzZGRhMzU5Zjk5
YgotLS0gL2Rldi9udWxsCisrKyBiL2xpYi9rdW5pdC90ZXN0LmMKQEAgLTAsMCArMSwxOTEgQEAK
Ky8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wCisvKgorICogQmFzZSB1bml0IHRl
c3QgKEtVbml0KSBBUEkuCisgKgorICogQ29weXJpZ2h0IChDKSAyMDE5LCBHb29nbGUgTExDLgor
ICogQXV0aG9yOiBCcmVuZGFuIEhpZ2dpbnMgPGJyZW5kYW5oaWdnaW5zQGdvb2dsZS5jb20+Cisg
Ki8KKworI2luY2x1ZGUgPGt1bml0L3Rlc3QuaD4KKyNpbmNsdWRlIDxsaW51eC9rZXJuZWwuaD4K
Kworc3RhdGljIHZvaWQga3VuaXRfc2V0X2ZhaWx1cmUoc3RydWN0IGt1bml0ICp0ZXN0KQorewor
CVdSSVRFX09OQ0UodGVzdC0+c3VjY2VzcywgZmFsc2UpOworfQorCitzdGF0aWMgaW50IGt1bml0
X3ZwcmludGtfZW1pdChpbnQgbGV2ZWwsIGNvbnN0IGNoYXIgKmZtdCwgdmFfbGlzdCBhcmdzKQor
eworCXJldHVybiB2cHJpbnRrX2VtaXQoMCwgbGV2ZWwsIE5VTEwsIDAsIGZtdCwgYXJncyk7Cit9
CisKK3N0YXRpYyBpbnQga3VuaXRfcHJpbnRrX2VtaXQoaW50IGxldmVsLCBjb25zdCBjaGFyICpm
bXQsIC4uLikKK3sKKwl2YV9saXN0IGFyZ3M7CisJaW50IHJldDsKKworCXZhX3N0YXJ0KGFyZ3Ms
IGZtdCk7CisJcmV0ID0ga3VuaXRfdnByaW50a19lbWl0KGxldmVsLCBmbXQsIGFyZ3MpOworCXZh
X2VuZChhcmdzKTsKKworCXJldHVybiByZXQ7Cit9CisKK3N0YXRpYyB2b2lkIGt1bml0X3Zwcmlu
dGsoY29uc3Qgc3RydWN0IGt1bml0ICp0ZXN0LAorCQkJICBjb25zdCBjaGFyICpsZXZlbCwKKwkJ
CSAgc3RydWN0IHZhX2Zvcm1hdCAqdmFmKQoreworCWt1bml0X3ByaW50a19lbWl0KGxldmVsWzFd
IC0gJzAnLCAiXHQjICVzOiAlcFYiLCB0ZXN0LT5uYW1lLCB2YWYpOworfQorCitzdGF0aWMgdm9p
ZCBrdW5pdF9wcmludF90YXBfdmVyc2lvbih2b2lkKQoreworCXN0YXRpYyBib29sIGt1bml0X2hh
c19wcmludGVkX3RhcF92ZXJzaW9uOworCisJaWYgKCFrdW5pdF9oYXNfcHJpbnRlZF90YXBfdmVy
c2lvbikgeworCQlrdW5pdF9wcmludGtfZW1pdChMT0dMRVZFTF9JTkZPLCAiVEFQIHZlcnNpb24g
MTRcbiIpOworCQlrdW5pdF9oYXNfcHJpbnRlZF90YXBfdmVyc2lvbiA9IHRydWU7CisJfQorfQor
CitzdGF0aWMgc2l6ZV90IGt1bml0X3Rlc3RfY2FzZXNfbGVuKHN0cnVjdCBrdW5pdF9jYXNlICp0
ZXN0X2Nhc2VzKQoreworCXN0cnVjdCBrdW5pdF9jYXNlICp0ZXN0X2Nhc2U7CisJc2l6ZV90IGxl
biA9IDA7CisKKwlmb3IgKHRlc3RfY2FzZSA9IHRlc3RfY2FzZXM7IHRlc3RfY2FzZS0+cnVuX2Nh
c2U7IHRlc3RfY2FzZSsrKQorCQlsZW4rKzsKKworCXJldHVybiBsZW47Cit9CisKK3N0YXRpYyB2
b2lkIGt1bml0X3ByaW50X3N1YnRlc3Rfc3RhcnQoc3RydWN0IGt1bml0X3N1aXRlICpzdWl0ZSkK
K3sKKwlrdW5pdF9wcmludF90YXBfdmVyc2lvbigpOworCWt1bml0X3ByaW50a19lbWl0KExPR0xF
VkVMX0lORk8sICJcdCMgU3VidGVzdDogJXNcbiIsIHN1aXRlLT5uYW1lKTsKKwlrdW5pdF9wcmlu
dGtfZW1pdChMT0dMRVZFTF9JTkZPLAorCQkJICAiXHQxLi4lemRcbiIsCisJCQkgIGt1bml0X3Rl
c3RfY2FzZXNfbGVuKHN1aXRlLT50ZXN0X2Nhc2VzKSk7Cit9CisKK3N0YXRpYyB2b2lkIGt1bml0
X3ByaW50X29rX25vdF9vayhib29sIHNob3VsZF9pbmRlbnQsCisJCQkJICBib29sIGlzX29rLAor
CQkJCSAgc2l6ZV90IHRlc3RfbnVtYmVyLAorCQkJCSAgY29uc3QgY2hhciAqZGVzY3JpcHRpb24p
Cit7CisJY29uc3QgY2hhciAqaW5kZW50LCAqb2tfbm90X29rOworCisJaWYgKHNob3VsZF9pbmRl
bnQpCisJCWluZGVudCA9ICJcdCI7CisJZWxzZQorCQlpbmRlbnQgPSAiIjsKKworCWlmIChpc19v
aykKKwkJb2tfbm90X29rID0gIm9rIjsKKwllbHNlCisJCW9rX25vdF9vayA9ICJub3Qgb2siOwor
CisJa3VuaXRfcHJpbnRrX2VtaXQoTE9HTEVWRUxfSU5GTywKKwkJCSAgIiVzJXMgJXpkIC0gJXNc
biIsCisJCQkgIGluZGVudCwgb2tfbm90X29rLCB0ZXN0X251bWJlciwgZGVzY3JpcHRpb24pOwor
fQorCitzdGF0aWMgYm9vbCBrdW5pdF9zdWl0ZV9oYXNfc3VjY2VlZGVkKHN0cnVjdCBrdW5pdF9z
dWl0ZSAqc3VpdGUpCit7CisJY29uc3Qgc3RydWN0IGt1bml0X2Nhc2UgKnRlc3RfY2FzZTsKKwor
CWZvciAodGVzdF9jYXNlID0gc3VpdGUtPnRlc3RfY2FzZXM7IHRlc3RfY2FzZS0+cnVuX2Nhc2U7
IHRlc3RfY2FzZSsrKQorCQlpZiAoIXRlc3RfY2FzZS0+c3VjY2VzcykKKwkJCXJldHVybiBmYWxz
ZTsKKworCXJldHVybiB0cnVlOworfQorCitzdGF0aWMgdm9pZCBrdW5pdF9wcmludF9zdWJ0ZXN0
X2VuZChzdHJ1Y3Qga3VuaXRfc3VpdGUgKnN1aXRlKQoreworCXN0YXRpYyBzaXplX3Qga3VuaXRf
c3VpdGVfY291bnRlciA9IDE7CisKKwlrdW5pdF9wcmludF9va19ub3Rfb2soZmFsc2UsCisJCQkg
ICAgICBrdW5pdF9zdWl0ZV9oYXNfc3VjY2VlZGVkKHN1aXRlKSwKKwkJCSAgICAgIGt1bml0X3N1
aXRlX2NvdW50ZXIrKywKKwkJCSAgICAgIHN1aXRlLT5uYW1lKTsKK30KKworc3RhdGljIHZvaWQg
a3VuaXRfcHJpbnRfdGVzdF9jYXNlX29rX25vdF9vayhzdHJ1Y3Qga3VuaXRfY2FzZSAqdGVzdF9j
YXNlLAorCQkJCQkgICAgc2l6ZV90IHRlc3RfbnVtYmVyKQoreworCWt1bml0X3ByaW50X29rX25v
dF9vayh0cnVlLAorCQkJICAgICAgdGVzdF9jYXNlLT5zdWNjZXNzLAorCQkJICAgICAgdGVzdF9u
dW1iZXIsCisJCQkgICAgICB0ZXN0X2Nhc2UtPm5hbWUpOworfQorCit2b2lkIGt1bml0X2luaXRf
dGVzdChzdHJ1Y3Qga3VuaXQgKnRlc3QsIGNvbnN0IGNoYXIgKm5hbWUpCit7CisJdGVzdC0+bmFt
ZSA9IG5hbWU7CisJdGVzdC0+c3VjY2VzcyA9IHRydWU7Cit9CisKKy8qCisgKiBQZXJmb3JtcyBh
bGwgbG9naWMgdG8gcnVuIGEgdGVzdCBjYXNlLgorICovCitzdGF0aWMgdm9pZCBrdW5pdF9ydW5f
Y2FzZShzdHJ1Y3Qga3VuaXRfc3VpdGUgKnN1aXRlLAorCQkJICAgc3RydWN0IGt1bml0X2Nhc2Ug
KnRlc3RfY2FzZSkKK3sKKwlzdHJ1Y3Qga3VuaXQgdGVzdDsKKworCWt1bml0X2luaXRfdGVzdCgm
dGVzdCwgdGVzdF9jYXNlLT5uYW1lKTsKKworCWlmIChzdWl0ZS0+aW5pdCkgeworCQlpbnQgcmV0
OworCisJCXJldCA9IHN1aXRlLT5pbml0KCZ0ZXN0KTsKKwkJaWYgKHJldCkgeworCQkJa3VuaXRf
ZXJyKCZ0ZXN0LCAiZmFpbGVkIHRvIGluaXRpYWxpemU6ICVkXG4iLCByZXQpOworCQkJa3VuaXRf
c2V0X2ZhaWx1cmUoJnRlc3QpOworCQkJdGVzdF9jYXNlLT5zdWNjZXNzID0gdGVzdC5zdWNjZXNz
OworCQkJcmV0dXJuOworCQl9CisJfQorCisJdGVzdF9jYXNlLT5ydW5fY2FzZSgmdGVzdCk7CisK
KwlpZiAoc3VpdGUtPmV4aXQpCisJCXN1aXRlLT5leGl0KCZ0ZXN0KTsKKworCXRlc3RfY2FzZS0+
c3VjY2VzcyA9IHRlc3Quc3VjY2VzczsKK30KKworaW50IGt1bml0X3J1bl90ZXN0cyhzdHJ1Y3Qg
a3VuaXRfc3VpdGUgKnN1aXRlKQoreworCXN0cnVjdCBrdW5pdF9jYXNlICp0ZXN0X2Nhc2U7CisJ
c2l6ZV90IHRlc3RfY2FzZV9jb3VudCA9IDE7CisKKwlrdW5pdF9wcmludF9zdWJ0ZXN0X3N0YXJ0
KHN1aXRlKTsKKworCWZvciAodGVzdF9jYXNlID0gc3VpdGUtPnRlc3RfY2FzZXM7IHRlc3RfY2Fz
ZS0+cnVuX2Nhc2U7IHRlc3RfY2FzZSsrKSB7CisJCWt1bml0X3J1bl9jYXNlKHN1aXRlLCB0ZXN0
X2Nhc2UpOworCQlrdW5pdF9wcmludF90ZXN0X2Nhc2Vfb2tfbm90X29rKHRlc3RfY2FzZSwgdGVz
dF9jYXNlX2NvdW50KyspOworCX0KKworCWt1bml0X3ByaW50X3N1YnRlc3RfZW5kKHN1aXRlKTsK
KworCXJldHVybiAwOworfQorCit2b2lkIGt1bml0X3ByaW50ayhjb25zdCBjaGFyICpsZXZlbCwK
KwkJICBjb25zdCBzdHJ1Y3Qga3VuaXQgKnRlc3QsCisJCSAgY29uc3QgY2hhciAqZm10LCAuLi4p
Cit7CisJc3RydWN0IHZhX2Zvcm1hdCB2YWY7CisJdmFfbGlzdCBhcmdzOworCisJdmFfc3RhcnQo
YXJncywgZm10KTsKKworCXZhZi5mbXQgPSBmbXQ7CisJdmFmLnZhID0gJmFyZ3M7CisKKwlrdW5p
dF92cHJpbnRrKHRlc3QsIGxldmVsLCAmdmFmKTsKKworCXZhX2VuZChhcmdzKTsKK30KLS0gCjIu
MjMuMC4zNTEuZ2M0MzE3MDMyZTYtZ29vZwoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlz
dGluZm8vZHJpLWRldmVs
