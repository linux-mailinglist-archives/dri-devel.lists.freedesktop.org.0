Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id E402947A87
	for <lists+dri-devel@lfdr.de>; Mon, 17 Jun 2019 09:14:07 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id CF32E89194;
	Mon, 17 Jun 2019 07:13:46 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-pg1-x544.google.com (mail-pg1-x544.google.com
 [IPv6:2607:f8b0:4864:20::544])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2342589174
 for <dri-devel@lists.freedesktop.org>; Sun, 16 Jun 2019 18:05:48 +0000 (UTC)
Received: by mail-pg1-x544.google.com with SMTP id f25so4441381pgv.10
 for <dri-devel@lists.freedesktop.org>; Sun, 16 Jun 2019 11:05:48 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:date:from:to:cc:subject:message-id:references
 :mime-version:content-disposition:in-reply-to:user-agent;
 bh=u35gclse1baa2lop6heiT2CDZ1NDng4DHhokpLnPOxc=;
 b=t04Ltx1IEYMZJIUJQ99ngkWK4aDVh5q6Q2s+4UIPHrNBBGh5zJlo0xvxhUcoN8gGaS
 2pqcWGmiaByeYqoQr0EAlVO54lKCqqJ9arV041h5/MgLYAJYBpIFv0BLxJ85OLsSsoky
 qUJDtzvn9jbB+ga24DDvQLwsVpFIqsyVU4KuBun4ZJqSFb0TBjKsHx4BbcI4hWEnH83R
 nKBauvGB4V4H3eSZtP6HZuRNtCGZ2q4bDhkNkwuPH7NoSRkvEHTG0fg4pwJ6Vw5e1CP7
 SMJYG2Pp3m9qvReFC0CRgV0QXOewUZ/R+Ri8mK/iFZDc8XjkOC2xfI/y+0JuDO7i1cvn
 38PQ==
X-Gm-Message-State: APjAAAXY/qE7SxjMZZ2rzhTj/aErV+xbsZOVaKTs6kS08IQGpWEduhKp
 pDzxpkC1SwBD9Ynr123GUDkBWQ==
X-Google-Smtp-Source: APXvYqyCWmCwz42MjjqVugwCxFCSzIixh58X3n1GpdHNKlXXhC4ONFMYcjyuJteJpw2I6D2fsRFqiQ==
X-Received: by 2002:a62:e315:: with SMTP id g21mr61941613pfh.225.1560708347505; 
 Sun, 16 Jun 2019 11:05:47 -0700 (PDT)
Received: from tuxbook-pro (104-188-17-28.lightspeed.sndgca.sbcglobal.net.
 [104.188.17.28])
 by smtp.gmail.com with ESMTPSA id l68sm5258599pjb.8.2019.06.16.11.05.45
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Sun, 16 Jun 2019 11:05:46 -0700 (PDT)
Date: Sun, 16 Jun 2019 11:06:33 -0700
From: Bjorn Andersson <bjorn.andersson@linaro.org>
To: Brian Masney <masneyb@onstation.org>
Subject: Re: [PATCH 6/6] drm/msm/gpu: add ocmem init/cleanup functions
Message-ID: <20190616180633.GS22737@tuxbook-pro>
References: <20190616132930.6942-1-masneyb@onstation.org>
 <20190616132930.6942-7-masneyb@onstation.org>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190616132930.6942-7-masneyb@onstation.org>
User-Agent: Mutt/1.11.4 (2019-03-13)
X-Mailman-Approved-At: Mon, 17 Jun 2019 07:13:34 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=linaro.org; s=google;
 h=date:from:to:cc:subject:message-id:references:mime-version
 :content-disposition:in-reply-to:user-agent;
 bh=u35gclse1baa2lop6heiT2CDZ1NDng4DHhokpLnPOxc=;
 b=Pu/hO6k7PPffAUQFy+SNuxWmWpe29U9fKC4udp6oYWkxri3v3BFd+bJDJamixnMRzI
 5EqnWcNx7gdNJW6JXfXn0sye/l2kiOkSexDCviECyyJ9bvr5xqFz6dAZm51D0oOx9sEt
 CVPJ9EZwRzY9Bq9AZ4XTMZOmnm3eh7/4rlEiA5elBKJpSJDzEQ570GRcSQv0sOvICIBO
 1nIHFjrhk9HW/xJUweN3nkU6Q/uUtEdhB0F8XMl+/r9kgQwUGVvWwTNNkf3wG9MLR7JY
 KAS4/rFYdZElXOdn9xn4rsm3OfT555TgDRG003LuJ6JJ0F1PYZyk4p3xQKPzJMDCARPK
 D7mA==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: mark.rutland@arm.com, freedreno@lists.freedesktop.org, jonathan@marek.ca,
 devicetree@vger.kernel.org, airlied@linux.ie, linux-arm-msm@vger.kernel.org,
 linux-kernel@vger.kernel.org, robh+dt@kernel.org, david.brown@linaro.org,
 agross@kernel.org, dri-devel@lists.freedesktop.org, sean@poorly.run
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gU3VuIDE2IEp1biAwNjoyOSBQRFQgMjAxOSwgQnJpYW4gTWFzbmV5IHdyb3RlOgoKPiBUaGUg
ZmlsZXMgYTN4eF9ncHUuYyBhbmQgYTR4eF9ncHUuYyBoYXZlIGlmZGVmcyBmb3IgdGhlIE9DTUVN
IHN1cHBvcnQKPiB0aGF0IHdhcyBtaXNzaW5nIHVwc3RyZWFtLiBBZGQgdHdvIG5ldyBmdW5jdGlv
bnMgKGFkcmVub19ncHVfb2NtZW1faW5pdAo+IGFuZCBhZHJlbm9fZ3B1X29jbWVtX2NsZWFudXAp
IHRoYXQgcmVtb3ZlcyBzb21lIGR1cGxpY2F0ZWQgY29kZS4gV2UgYWxzbwo+IG5lZWQgdG8gY2hh
bmdlIHRoZSBpZmRlZiBjaGVjayBmb3IgQ09ORklHX01TTV9PQ01FTSB0byBDT05GSUdfUUNPTV9P
Q01FTQo+IG5vdyB0aGF0IE9DTUVNIHN1cHBvcnQgaXMgdXBzdHJlYW0uCj4gCj4gU2lnbmVkLW9m
Zi1ieTogQnJpYW4gTWFzbmV5IDxtYXNuZXliQG9uc3RhdGlvbi5vcmc+Cj4gLS0tCj4gIGRyaXZl
cnMvZ3B1L2RybS9tc20vYWRyZW5vL2EzeHhfZ3B1LmMgICB8IDMzICsrKysrKystLS0tLS0tLS0t
LS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2EzeHhfZ3B1LmggICB8ICAzICstCj4g
IGRyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2E0eHhfZ3B1LmMgICB8IDMwICsrKysrKy0tLS0t
LS0tLS0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hNHh4X2dwdS5oICAgfCAgMyAr
LQo+ICBkcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hZHJlbm9fZ3B1LmMgfCA0MSArKysrKysr
KysrKysrKysrKysrKysrKysrCj4gIGRyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2FkcmVub19n
cHUuaCB8IDEwICsrKysrKwo+ICA2IGZpbGVzIGNoYW5nZWQsIDc0IGluc2VydGlvbnMoKyksIDQ2
IGRlbGV0aW9ucygtKQo+IAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVu
by9hM3h4X2dwdS5jIGIvZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8vYTN4eF9ncHUuYwo+IGlu
ZGV4IGMzYjRiYzZlNDE1NS4uNzI3MjBiYjJhY2ExIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9tc20vYWRyZW5vL2EzeHhfZ3B1LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vbXNtL2Fk
cmVuby9hM3h4X2dwdS5jCj4gQEAgLTE3LDEwICsxNyw2IEBACj4gICAqIHRoaXMgcHJvZ3JhbS4g
IElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi4KPiAgICovCj4gIAo+
IC0jaWZkZWYgQ09ORklHX01TTV9PQ01FTQo+IC0jICBpbmNsdWRlIDxtYWNoL29jbWVtLmg+Cj4g
LSNlbmRpZgo+IC0KPiAgI2luY2x1ZGUgImEzeHhfZ3B1LmgiCj4gIAo+ICAjZGVmaW5lIEEzWFhf
SU5UMF9NQVNLIFwKPiBAQCAtMjA2LDkgKzIwMiw5IEBAIHN0YXRpYyBpbnQgYTN4eF9od19pbml0
KHN0cnVjdCBtc21fZ3B1ICpncHUpCj4gIAkJZ3B1X3dyaXRlKGdwdSwgUkVHX0EzWFhfUkJCTV9H
UFIwX0NUTCwgMHgwMDAwMDAwMCk7Cj4gIAo+ICAJLyogU2V0IHRoZSBPQ01FTSBiYXNlIGFkZHJl
c3MgZm9yIEEzMzAsIGV0YyAqLwo+IC0JaWYgKGEzeHhfZ3B1LT5vY21lbV9oZGwpIHsKPiArCWlm
IChhM3h4X2dwdS0+b2NtZW0uaGRsKSB7Cj4gIAkJZ3B1X3dyaXRlKGdwdSwgUkVHX0EzWFhfUkJf
R01FTV9CQVNFX0FERFIsCj4gLQkJCSh1bnNpZ25lZCBpbnQpKGEzeHhfZ3B1LT5vY21lbV9iYXNl
ID4+IDE0KSk7Cj4gKwkJCSh1bnNpZ25lZCBpbnQpKGEzeHhfZ3B1LT5vY21lbS5iYXNlID4+IDE0
KSk7CgpUaGlzIGJsaW5kbHkgcmVxdWlyZXMgdGhhdCB0aGUgb2NtZW0gYWxsb2NhdG9yIHdpbGwg
cmV0dXJuIGVudHJpZXMKYWxsb2NhdGVkIHRvIDE2a0IuIFBsZWFzZSBlbnN1cmUgdGhhdCBhIGZ1
dHVyZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGUKYWN0dWFsIG9jbWVtIGFsbG9jYXRvciBtYWludGFp
bnMgdGhpcyAoY29tbWVudHM/IGNoZWNrcz8pLiAKCj4gIAl9Cj4gIAo+ICAJLyogVHVybiBvbiBw
ZXJmb3JtYW5jZSBjb3VudGVyczogKi8KPiBAQCAtMzI5LDEwICszMjUsNyBAQCBzdGF0aWMgdm9p
ZCBhM3h4X2Rlc3Ryb3koc3RydWN0IG1zbV9ncHUgKmdwdSkKPiAgCj4gIAlhZHJlbm9fZ3B1X2Ns
ZWFudXAoYWRyZW5vX2dwdSk7Cj4gIAo+IC0jaWZkZWYgQ09ORklHX01TTV9PQ01FTQo+IC0JaWYg
KGEzeHhfZ3B1LT5vY21lbV9iYXNlKQo+IC0JCW9jbWVtX2ZyZWUoT0NNRU1fR1JBUEhJQ1MsIGEz
eHhfZ3B1LT5vY21lbV9oZGwpOwo+IC0jZW5kaWYKPiArCWFkcmVub19ncHVfb2NtZW1fY2xlYW51
cCgmYTN4eF9ncHUtPm9jbWVtKTsKPiAgCj4gIAlrZnJlZShhM3h4X2dwdSk7Cj4gIH0KPiBAQCAt
NTA3LDE3ICs1MDAsMTAgQEAgc3RydWN0IG1zbV9ncHUgKmEzeHhfZ3B1X2luaXQoc3RydWN0IGRy
bV9kZXZpY2UgKmRldikKPiAgCj4gIAkvKiBpZiBuZWVkZWQsIGFsbG9jYXRlIGdtZW06ICovCj4g
IAlpZiAoYWRyZW5vX2lzX2EzMzAoYWRyZW5vX2dwdSkpIHsKPiAtI2lmZGVmIENPTkZJR19NU01f
T0NNRU0KPiAtCQkvKiBUT0RPIHRoaXMgaXMgZGlmZmVyZW50L21pc3NpbmcgdXBzdHJlYW06ICov
Cj4gLQkJc3RydWN0IG9jbWVtX2J1ZiAqb2NtZW1faGRsID0KPiAtCQkJCW9jbWVtX2FsbG9jYXRl
KE9DTUVNX0dSQVBISUNTLCBhZHJlbm9fZ3B1LT5nbWVtKTsKPiAtCj4gLQkJYTN4eF9ncHUtPm9j
bWVtX2hkbCA9IG9jbWVtX2hkbDsKPiAtCQlhM3h4X2dwdS0+b2NtZW1fYmFzZSA9IG9jbWVtX2hk
bC0+YWRkcjsKPiAtCQlhZHJlbm9fZ3B1LT5nbWVtID0gb2NtZW1faGRsLT5sZW47Cj4gLQkJREJH
KCJ1c2luZyAlZEsgb2YgT0NNRU0gYXQgMHglMDh4IiwgYWRyZW5vX2dwdS0+Z21lbSAvIDEwMjQs
Cj4gLQkJCQlhM3h4X2dwdS0+b2NtZW1fYmFzZSk7Cj4gLSNlbmRpZgo+ICsJCXJldCA9IGFkcmVu
b19ncHVfb2NtZW1faW5pdCgmYWRyZW5vX2dwdS0+YmFzZS5wZGV2LT5kZXYsCj4gKwkJCQkJICAg
IGFkcmVub19ncHUsICZhM3h4X2dwdS0+b2NtZW0pOwo+ICsJCWlmIChyZXQpCj4gKwkJCWdvdG8g
ZmFpbDsKPiAgCX0KPiAgCj4gIAlpZiAoIWdwdS0+YXNwYWNlKSB7Cj4gQEAgLTUzMCwxMSArNTE2
LDE0IEBAIHN0cnVjdCBtc21fZ3B1ICphM3h4X2dwdV9pbml0KHN0cnVjdCBkcm1fZGV2aWNlICpk
ZXYpCj4gIAkJICovCj4gIAkJRFJNX0RFVl9FUlJPUihkZXYtPmRldiwgIk5vIG1lbW9yeSBwcm90
ZWN0aW9uIHdpdGhvdXQgSU9NTVVcbiIpOwo+ICAJCXJldCA9IC1FTlhJTzsKPiAtCQlnb3RvIGZh
aWw7Cj4gKwkJZ290byBmYWlsX2NsZWFudXBfb2NtZW07Cj4gIAl9Cj4gIAo+ICAJcmV0dXJuIGdw
dTsKPiAgCj4gK2ZhaWxfY2xlYW51cF9vY21lbToKPiArCWFkcmVub19ncHVfb2NtZW1fY2xlYW51
cCgmYTN4eF9ncHUtPm9jbWVtKTsKPiArCj4gIGZhaWw6Cj4gIAlpZiAoYTN4eF9ncHUpCj4gIAkJ
YTN4eF9kZXN0cm95KCZhM3h4X2dwdS0+YmFzZS5iYXNlKTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL21zbS9hZHJlbm8vYTN4eF9ncHUuaCBiL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRy
ZW5vL2EzeHhfZ3B1LmgKPiBpbmRleCBhYjYwZGM5ZTM0NGUuLjcyN2MzNGYzOGY5ZSAxMDA2NDQK
PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hM3h4X2dwdS5oCj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL21zbS9hZHJlbm8vYTN4eF9ncHUuaAo+IEBAIC0zMCw4ICszMCw3IEBAIHN0
cnVjdCBhM3h4X2dwdSB7Cj4gIAlzdHJ1Y3QgYWRyZW5vX2dwdSBiYXNlOwo+ICAKPiAgCS8qIGlm
IE9DTUVNIGlzIHVzZWQgZm9yIEdNRU06ICovCj4gLQl1aW50MzJfdCBvY21lbV9iYXNlOwo+IC0J
dm9pZCAqb2NtZW1faGRsOwo+ICsJc3RydWN0IGFkcmVub19vY21lbSBvY21lbTsKPiAgfTsKPiAg
I2RlZmluZSB0b19hM3h4X2dwdSh4KSBjb250YWluZXJfb2YoeCwgc3RydWN0IGEzeHhfZ3B1LCBi
YXNlKQo+ICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8vYTR4eF9n
cHUuYyBiL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2E0eHhfZ3B1LmMKPiBpbmRleCBhYjJi
NzUyNTY2ZDguLmI4ZjgyNTEwNzc5NiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vbXNt
L2FkcmVuby9hNHh4X2dwdS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8vYTR4
eF9ncHUuYwo+IEBAIC0yLDkgKzIsNiBAQAo+ICAvKiBDb3B5cmlnaHQgKGMpIDIwMTQgVGhlIExp
bnV4IEZvdW5kYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCj4gICAqLwo+ICAjaW5jbHVkZSAi
YTR4eF9ncHUuaCIKPiAtI2lmZGVmIENPTkZJR19NU01fT0NNRU0KPiAtIyAgaW5jbHVkZSA8c29j
L3Fjb20vb2NtZW0uaD4KPiAtI2VuZGlmCj4gIAo+ICAjZGVmaW5lIEE0WFhfSU5UMF9NQVNLIFwK
PiAgCShBNFhYX0lOVDBfUkJCTV9BSEJfRVJST1IgfCAgICAgICAgXAo+IEBAIC0xODgsNyArMTg1
LDcgQEAgc3RhdGljIGludCBhNHh4X2h3X2luaXQoc3RydWN0IG1zbV9ncHUgKmdwdSkKPiAgCQkJ
KDEgPDwgMzApIHwgMHhGRkZGKTsKPiAgCj4gIAlncHVfd3JpdGUoZ3B1LCBSRUdfQTRYWF9SQl9H
TUVNX0JBU0VfQUREUiwKPiAtCQkJKHVuc2lnbmVkIGludCkoYTR4eF9ncHUtPm9jbWVtX2Jhc2Ug
Pj4gMTQpKTsKPiArCQkJKHVuc2lnbmVkIGludCkoYTR4eF9ncHUtPm9jbWVtLmJhc2UgPj4gMTQp
KTsKPiAgCj4gIAkvKiBUdXJuIG9uIHBlcmZvcm1hbmNlIGNvdW50ZXJzOiAqLwo+ICAJZ3B1X3dy
aXRlKGdwdSwgUkVHX0E0WFhfUkJCTV9QRVJGQ1RSX0NUTCwgMHgwMSk7Cj4gQEAgLTMxOCwxMCAr
MzE1LDcgQEAgc3RhdGljIHZvaWQgYTR4eF9kZXN0cm95KHN0cnVjdCBtc21fZ3B1ICpncHUpCj4g
IAo+ICAJYWRyZW5vX2dwdV9jbGVhbnVwKGFkcmVub19ncHUpOwo+ICAKPiAtI2lmZGVmIENPTkZJ
R19NU01fT0NNRU0KPiAtCWlmIChhNHh4X2dwdS0+b2NtZW1fYmFzZSkKPiAtCQlvY21lbV9mcmVl
KE9DTUVNX0dSQVBISUNTLCBhNHh4X2dwdS0+b2NtZW1faGRsKTsKPiAtI2VuZGlmCj4gKwlhZHJl
bm9fZ3B1X29jbWVtX2NsZWFudXAoJmE0eHhfZ3B1LT5vY21lbSk7Cj4gIAo+ICAJa2ZyZWUoYTR4
eF9ncHUpOwo+ICB9Cj4gQEAgLTU3OCwxNyArNTcyLDEwIEBAIHN0cnVjdCBtc21fZ3B1ICphNHh4
X2dwdV9pbml0KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYpCj4gIAo+ICAJLyogaWYgbmVlZGVkLCBh
bGxvY2F0ZSBnbWVtOiAqLwo+ICAJaWYgKGFkcmVub19pc19hNHh4KGFkcmVub19ncHUpKSB7Cj4g
LSNpZmRlZiBDT05GSUdfTVNNX09DTUVNCj4gLQkJLyogVE9ETyB0aGlzIGlzIGRpZmZlcmVudC9t
aXNzaW5nIHVwc3RyZWFtOiAqLwo+IC0JCXN0cnVjdCBvY21lbV9idWYgKm9jbWVtX2hkbCA9Cj4g
LQkJCQlvY21lbV9hbGxvY2F0ZShPQ01FTV9HUkFQSElDUywgYWRyZW5vX2dwdS0+Z21lbSk7Cj4g
LQo+IC0JCWE0eHhfZ3B1LT5vY21lbV9oZGwgPSBvY21lbV9oZGw7Cj4gLQkJYTR4eF9ncHUtPm9j
bWVtX2Jhc2UgPSBvY21lbV9oZGwtPmFkZHI7Cj4gLQkJYWRyZW5vX2dwdS0+Z21lbSA9IG9jbWVt
X2hkbC0+bGVuOwo+IC0JCURCRygidXNpbmcgJWRLIG9mIE9DTUVNIGF0IDB4JTA4eCIsIGFkcmVu
b19ncHUtPmdtZW0gLyAxMDI0LAo+IC0JCQkJYTR4eF9ncHUtPm9jbWVtX2Jhc2UpOwo+IC0jZW5k
aWYKPiArCQlyZXQgPSBhZHJlbm9fZ3B1X29jbWVtX2luaXQoZGV2LT5kZXYsIGFkcmVub19ncHUs
Cj4gKwkJCQkJICAgICZhNHh4X2dwdS0+b2NtZW0pOwo+ICsJCWlmIChyZXQpCj4gKwkJCWdvdG8g
ZmFpbDsKPiAgCX0KPiAgCj4gIAlpZiAoIWdwdS0+YXNwYWNlKSB7Cj4gQEAgLTYwMSwxMSArNTg4
LDE0IEBAIHN0cnVjdCBtc21fZ3B1ICphNHh4X2dwdV9pbml0KHN0cnVjdCBkcm1fZGV2aWNlICpk
ZXYpCj4gIAkJICovCj4gIAkJRFJNX0RFVl9FUlJPUihkZXYtPmRldiwgIk5vIG1lbW9yeSBwcm90
ZWN0aW9uIHdpdGhvdXQgSU9NTVVcbiIpOwo+ICAJCXJldCA9IC1FTlhJTzsKPiAtCQlnb3RvIGZh
aWw7Cj4gKwkJZ290byBmYWlsX2NsZWFudXBfb2NtZW07Cj4gIAl9Cj4gIAo+ICAJcmV0dXJuIGdw
dTsKPiAgCj4gK2ZhaWxfY2xlYW51cF9vY21lbToKPiArCWFkcmVub19ncHVfb2NtZW1fY2xlYW51
cCgmYTR4eF9ncHUtPm9jbWVtKTsKPiArCj4gIGZhaWw6Cj4gIAlpZiAoYTR4eF9ncHUpCj4gIAkJ
YTR4eF9kZXN0cm95KCZhNHh4X2dwdS0+YmFzZS5iYXNlKTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL21zbS9hZHJlbm8vYTR4eF9ncHUuaCBiL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRy
ZW5vL2E0eHhfZ3B1LmgKPiBpbmRleCBkNTA2MzExZWUyNDAuLmEwMTQ0OGNiYTJlYSAxMDA2NDQK
PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hNHh4X2dwdS5oCj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL21zbS9hZHJlbm8vYTR4eF9ncHUuaAo+IEBAIC0xNiw4ICsxNiw3IEBAIHN0
cnVjdCBhNHh4X2dwdSB7Cj4gIAlzdHJ1Y3QgYWRyZW5vX2dwdSBiYXNlOwo+ICAKPiAgCS8qIGlm
IE9DTUVNIGlzIHVzZWQgZm9yIEdNRU06ICovCj4gLQl1aW50MzJfdCBvY21lbV9iYXNlOwo+IC0J
dm9pZCAqb2NtZW1faGRsOwo+ICsJc3RydWN0IGFkcmVub19vY21lbSBvY21lbTsKPiAgfTsKPiAg
I2RlZmluZSB0b19hNHh4X2dwdSh4KSBjb250YWluZXJfb2YoeCwgc3RydWN0IGE0eHhfZ3B1LCBi
YXNlKQo+ICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8vYWRyZW5v
X2dwdS5jIGIvZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8vYWRyZW5vX2dwdS5jCj4gaW5kZXgg
NmY3ZjQxMTRhZmNmLi5lMGE5NDA5YzhhMzIgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L21zbS9hZHJlbm8vYWRyZW5vX2dwdS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL21zbS9hZHJl
bm8vYWRyZW5vX2dwdS5jCj4gQEAgLTI5LDYgKzI5LDEwIEBACj4gICNpbmNsdWRlICJtc21fZ2Vt
LmgiCj4gICNpbmNsdWRlICJtc21fbW11LmgiCj4gIAo+ICsjaWZkZWYgQ09ORklHX1FDT01fT0NN
RU0KPiArIyAgaW5jbHVkZSA8c29jL3Fjb20vb2NtZW0uaD4KPiArI2VuZGlmCgpUaGlzIGZpbGUg
ZXhpc3RzIChhZnRlciB0aGUgcHJldmlvdXMgcGF0Y2gpLCBzbyBubyBuZWVkIHRvIG1ha2UgaXRz
CmluY2x1c2lvbiBjb25kaXRpb25hbC4KCj4gKwo+ICBzdGF0aWMgYm9vbCB6YXBfYXZhaWxhYmxl
ID0gdHJ1ZTsKPiAgCj4gIHN0YXRpYyBpbnQgemFwX3NoYWRlcl9sb2FkX21kdChzdHJ1Y3QgbXNt
X2dwdSAqZ3B1LCBjb25zdCBjaGFyICpmd25hbWUsCj4gQEAgLTg5Nyw2ICs5MDEsNDMgQEAgc3Rh
dGljIGludCBhZHJlbm9fZ2V0X3B3cmxldmVscyhzdHJ1Y3QgZGV2aWNlICpkZXYsCj4gIAlyZXR1
cm4gMDsKPiAgfQo+ICAKPiAraW50IGFkcmVub19ncHVfb2NtZW1faW5pdChzdHJ1Y3QgZGV2aWNl
ICpkZXYsIHN0cnVjdCBhZHJlbm9fZ3B1ICphZHJlbm9fZ3B1LAo+ICsJCQkgIHN0cnVjdCBhZHJl
bm9fb2NtZW0gKmFkcmVub19vY21lbSkKPiArewo+ICsjaWZkZWYgQ09ORklHX1FDT01fT0NNRU0K
Ck5vIG5lZWQgdG8gbWFrZSB0aGlzIGNvbmRpdGlvbmFsLgoKPiArCXN0cnVjdCBvY21lbV9idWYg
Km9jbWVtX2hkbDsKPiArCXN0cnVjdCBvY21lbSAqb2NtZW07Cj4gKwo+ICsJb2NtZW0gPSBvZl9n
ZXRfb2NtZW0oZGV2KTsKPiArCWlmICghb2NtZW0pIHsKPiArCQkvKiBUaGlzIGlzIGFuIG9wdGlv
bmFsIHByb3BlcnR5IHNvIHJldHVybiBzdWNjZXNzLiAqLwo+ICsJCXJldHVybiAwOwo+ICsJfQo+
ICsKPiArCW9jbWVtX2hkbCA9IG9jbWVtX2FsbG9jYXRlKG9jbWVtLCBPQ01FTV9HUkFQSElDUywg
YWRyZW5vX2dwdS0+Z21lbSk7Cj4gKwlpZiAoSVNfRVJSKG9jbWVtX2hkbCkpCj4gKwkJcmV0dXJu
IFBUUl9FUlIob2NtZW1faGRsKTsKPiArCj4gKwlhZHJlbm9fb2NtZW0tPm9jbWVtID0gb2NtZW07
Cj4gKwlhZHJlbm9fb2NtZW0tPmJhc2UgPSBvY21lbV9oZGwtPmFkZHI7Cj4gKwlhZHJlbm9fb2Nt
ZW0tPmhkbCA9IG9jbWVtX2hkbDsKPiArCWFkcmVub19ncHUtPmdtZW0gPSBvY21lbV9oZGwtPmxl
bjsKPiArCURCRygidXNpbmcgJWRLIG9mIE9DTUVNIGF0IDB4JTA4eCIsIGFkcmVub19ncHUtPmdt
ZW0gLyAxMDI0LAo+ICsJICAgIGFkcmVub19vY21lbS0+YmFzZSk7Cj4gKyNlbmRpZgo+ICsKPiAr
CXJldHVybiAwOwo+ICt9Cj4gKwo+ICt2b2lkIGFkcmVub19ncHVfb2NtZW1fY2xlYW51cChzdHJ1
Y3QgYWRyZW5vX29jbWVtICphZHJlbm9fb2NtZW0pCj4gK3sKPiArI2lmZGVmIENPTkZJR19RQ09N
X09DTUVNCj4gKwlpZiAoYWRyZW5vX29jbWVtLT5iYXNlKQoKSXQgd291bGQgYmUgbmljZSB0byBo
YXZlIG9jbWVtX2ZyZWUoKSBhY2NlcHQgTlVMTCwgc2ltaWxhciB0byBrZnJlZSgpIGV0CmFsLgoK
PiArCQlvY21lbV9mcmVlKGFkcmVub19vY21lbS0+b2NtZW0sIE9DTUVNX0dSQVBISUNTLAo+ICsJ
CQkgICBhZHJlbm9fb2NtZW0tPmhkbCk7Cj4gKyNlbmRpZgo+ICt9Cj4gKwo+ICBpbnQgYWRyZW5v
X2dwdV9pbml0KHN0cnVjdCBkcm1fZGV2aWNlICpkcm0sIHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2Ug
KnBkZXYsCj4gIAkJc3RydWN0IGFkcmVub19ncHUgKmFkcmVub19ncHUsCj4gIAkJY29uc3Qgc3Ry
dWN0IGFkcmVub19ncHVfZnVuY3MgKmZ1bmNzLCBpbnQgbnJfcmluZ3MpCj4gZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2FkcmVub19ncHUuaCBiL2RyaXZlcnMvZ3B1L2Ry
bS9tc20vYWRyZW5vL2FkcmVub19ncHUuaAo+IGluZGV4IDA5MjU2MDZlYzliNS4uMWNkMTE1NzAz
MjNiIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2FkcmVub19ncHUu
aAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2FkcmVub19ncHUuaAo+IEBAIC0x
MzYsNiArMTM2LDEyIEBAIHN0cnVjdCBhZHJlbm9fZ3B1IHsKPiAgfTsKPiAgI2RlZmluZSB0b19h
ZHJlbm9fZ3B1KHgpIGNvbnRhaW5lcl9vZih4LCBzdHJ1Y3QgYWRyZW5vX2dwdSwgYmFzZSkKPiAg
Cj4gK3N0cnVjdCBhZHJlbm9fb2NtZW0gewo+ICsJc3RydWN0IG9jbWVtICpvY21lbTsKPiArCXVp
bnQzMl90IGJhc2U7CgpCeSBvY21lbSBiZWluZyBwaHlzaWNhbGx5IGZpeGVkIHRoaXMgaXMgc3Vm
ZmljaWVudCwgYnV0IHVuc2lnbmVkIGxvbmcgaXMKYSBuaWNlciB0eXBlIGZvciBjYXJyeWluZyBt
ZW1vcnkgYWRkcmVzc2VzLgoKUmVnYXJkcywKQmpvcm4KCj4gKwl2b2lkICpoZGw7Cj4gK307Cj4g
Kwo+ICAvKiBwbGF0Zm9ybSBjb25maWcgZGF0YSAoaWUuIGZyb20gRFQsIG9yIHBkYXRhKSAqLwo+
ICBzdHJ1Y3QgYWRyZW5vX3BsYXRmb3JtX2NvbmZpZyB7Cj4gIAlzdHJ1Y3QgYWRyZW5vX3JldiBy
ZXY7Cj4gQEAgLTI0MSw2ICsyNDcsMTAgQEAgdm9pZCBhZHJlbm9fZHVtcChzdHJ1Y3QgbXNtX2dw
dSAqZ3B1KTsKPiAgdm9pZCBhZHJlbm9fd2FpdF9yaW5nKHN0cnVjdCBtc21fcmluZ2J1ZmZlciAq
cmluZywgdWludDMyX3QgbmR3b3Jkcyk7Cj4gIHN0cnVjdCBtc21fcmluZ2J1ZmZlciAqYWRyZW5v
X2FjdGl2ZV9yaW5nKHN0cnVjdCBtc21fZ3B1ICpncHUpOwo+ICAKPiAraW50IGFkcmVub19ncHVf
b2NtZW1faW5pdChzdHJ1Y3QgZGV2aWNlICpkZXYsIHN0cnVjdCBhZHJlbm9fZ3B1ICphZHJlbm9f
Z3B1LAo+ICsJCQkgIHN0cnVjdCBhZHJlbm9fb2NtZW0gKm9jbWVtKTsKPiArdm9pZCBhZHJlbm9f
Z3B1X29jbWVtX2NsZWFudXAoc3RydWN0IGFkcmVub19vY21lbSAqb2NtZW0pOwo+ICsKPiAgaW50
IGFkcmVub19ncHVfaW5pdChzdHJ1Y3QgZHJtX2RldmljZSAqZHJtLCBzdHJ1Y3QgcGxhdGZvcm1f
ZGV2aWNlICpwZGV2LAo+ICAJCXN0cnVjdCBhZHJlbm9fZ3B1ICpncHUsIGNvbnN0IHN0cnVjdCBh
ZHJlbm9fZ3B1X2Z1bmNzICpmdW5jcywKPiAgCQlpbnQgbnJfcmluZ3MpOwo+IC0tIAo+IDIuMjAu
MQo+IApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmkt
ZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6
Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
