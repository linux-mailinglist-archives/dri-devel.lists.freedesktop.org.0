Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 2ACD94B2BB
	for <lists+dri-devel@lfdr.de>; Wed, 19 Jun 2019 09:11:18 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id EFAA26E2D5;
	Wed, 19 Jun 2019 07:10:28 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
X-Greylist: delayed 370 seconds by postgrey-1.36 at gabe;
 Tue, 18 Jun 2019 12:38:31 UTC
Received: from mo6-p00-ob.smtp.rzone.de (mo6-p00-ob.smtp.rzone.de
 [IPv6:2a01:238:20a:202:5300::8])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3A4D56E157
 for <dri-devel@lists.freedesktop.org>; Tue, 18 Jun 2019 12:38:30 +0000 (UTC)
X-RZG-AUTH: ":OWANVUa4dPFUgKR/3dpvnYP0Np73amq+g13rqGzmt2bYDnKIKaws6YXTsc4="
X-RZG-CLASS-ID: mo00
Received: from oxapp03-03.back.ox.d0m.de by smtp-ox.front (RZmta 44.24 AUTH)
 with ESMTPSA id h0a328v5ICWD0mV
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-SHA384 (curve X9_62_prime256v1
 with 256 ECDH bits, eq. 3072 bits RSA))
 (Client did not present a certificate);
 Tue, 18 Jun 2019 14:32:13 +0200 (CEST)
Date: Tue, 18 Jun 2019 14:32:13 +0200 (CEST)
From: Ulrich Hecht <uli@fpond.eu>
To: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>,
 dri-devel@lists.freedesktop.org
Message-ID: <55043232.787113.1560861133484@webmail.strato.com>
In-Reply-To: <20190617210930.6054-2-laurent.pinchart+renesas@ideasonboard.com>
References: <20190617210930.6054-1-laurent.pinchart+renesas@ideasonboard.com>
 <20190617210930.6054-2-laurent.pinchart+renesas@ideasonboard.com>
Subject: Re: [PATCH v3 01/10] media: vsp1: drm: Split vsp1_du_setup_lif()
MIME-Version: 1.0
X-Priority: 3
Importance: Medium
X-Mailer: Open-Xchange Mailer v7.8.4-Rev58
X-Originating-IP: 85.212.220.45
X-Originating-Client: open-xchange-appsuite
X-Mailman-Approved-At: Wed, 19 Jun 2019 07:10:14 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 t=1560861509; 
 s=strato-dkim-0002; d=fpond.eu;
 h=Subject:References:In-Reply-To:Message-ID:Cc:To:From:Date:
 X-RZG-CLASS-ID:X-RZG-AUTH:From:Subject:Sender;
 bh=5ifz35ZTzC6yEZuKkMBojgi9/W7w6JT04MmezhbKlLs=;
 b=K91xzCcqhNUHsrG3duYxJLRJ/msJEqqRYOae7f/S2/KsSFomjy7eRobv5HTiIazgo9
 phaNCAYk4TXEto7EJGvPL/z4Am5tWIavpb5xDmoOlN/lJSmPwKHwRujSOpfn0fKpvgUh
 fk+q4WM1Gg0I3XkSQDfb//CtmLSjGvk/DmNzv0CJQXWyMsY00m6USlnRGsqR5PVSRYRf
 170gPzN1z4XHKj6HWtZMMXdzGzlJnfTAGo2mgg2Urcwm1+uydv9DYYqtpaf1RgDPgU+C
 s7gTDr0OpkJ7Zn+7VACtgtj+tBzq7Caslgq+r4hLWSIhwpB0xySRjVtV7w0q8g25q2cN
 gARA==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-renesas-soc@vger.kernel.org,
 Kieran Bingham <kieran.bingham@ideasonboard.com>, linux-media@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhhbmsgeW91IGZvciB5b3VyIHBhdGNoLgoKPiBPbiBKdW5lIDE3LCAyMDE5IGF0IDExOjA5IFBN
IExhdXJlbnQgUGluY2hhcnQgPGxhdXJlbnQucGluY2hhcnQrcmVuZXNhc0BpZGVhc29uYm9hcmQu
Y29tPiB3cm90ZToKPiAKPiAKPiBGcm9tOiBLaWVyYW4gQmluZ2hhbSA8a2llcmFuLmJpbmdoYW0r
cmVuZXNhc0BpZGVhc29uYm9hcmQuY29tPgo+IAo+IEJyZWFrIHZzcDFfZHVfc2V0dXBfbGlmKCkg
aW50byBjb21wb25lbnRzIG1vcmUgc3VpdGVkIHRvIHRoZSBEUk0gQXRvbWljCj4gQVBJLiBUaGUg
ZXhpc3RpbmcgdnNwMV9kdV9zZXR1cF9saWYoKSBBUEkgY2FsbCBpcyBtYWludGFpbmVkIGFzIGl0
IGlzCj4gc3RpbGwgdXNlZCBmcm9tIHRoZSBEVS4KPiAKPiBTaWduZWQtb2ZmLWJ5OiBLaWVyYW4g
QmluZ2hhbSA8a2llcmFuLmJpbmdoYW0rcmVuZXNhc0BpZGVhc29uYm9hcmQuY29tPgo+IFNpZ25l
ZC1vZmYtYnk6IExhdXJlbnQgUGluY2hhcnQgPGxhdXJlbnQucGluY2hhcnQrcmVuZXNhc0BpZGVh
c29uYm9hcmQuY29tPgo+IC0tLQo+IENoYW5nZXMgc2luY2UgdjI6Cj4gCj4gLSBNaW5vciBmb3Jt
YXR0aW5nIGNoYW5nZXMKPiAtIEZpeCBOVUxMIHBvaW50ZXIgZGVyZWZlcmVuY2UgaW4gdnNwMV9k
dV9zZXR1cF9saWYoKQo+IC0tLQo+ICBkcml2ZXJzL21lZGlhL3BsYXRmb3JtL3ZzcDEvdnNwMV9k
cm0uYyB8IDIyMCArKysrKysrKysrKysrKysrKystLS0tLS0tCj4gIGluY2x1ZGUvbWVkaWEvdnNw
MS5oICAgICAgICAgICAgICAgICAgIHwgIDMyICsrKy0KPiAgMiBmaWxlcyBjaGFuZ2VkLCAxODkg
aW5zZXJ0aW9ucygrKSwgNjMgZGVsZXRpb25zKC0pCj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
bWVkaWEvcGxhdGZvcm0vdnNwMS92c3AxX2RybS5jIGIvZHJpdmVycy9tZWRpYS9wbGF0Zm9ybS92
c3AxL3ZzcDFfZHJtLmMKPiBpbmRleCBhNGE0NWQ2OGE2ZWYuLjc5NTdlMTQzOWRlMCAxMDA2NDQK
PiAtLS0gYS9kcml2ZXJzL21lZGlhL3BsYXRmb3JtL3ZzcDEvdnNwMV9kcm0uYwo+ICsrKyBiL2Ry
aXZlcnMvbWVkaWEvcGxhdGZvcm0vdnNwMS92c3AxX2RybS5jCj4gQEAgLTYxNiwxMCArNjE2LDEw
IEBAIGludCB2c3AxX2R1X2luaXQoc3RydWN0IGRldmljZSAqZGV2KQo+ICBFWFBPUlRfU1lNQk9M
X0dQTCh2c3AxX2R1X2luaXQpOwo+ICAKPiAgLyoqCj4gLSAqIHZzcDFfZHVfc2V0dXBfbGlmIC0g
U2V0dXAgdGhlIG91dHB1dCBwYXJ0IG9mIHRoZSBWU1AgcGlwZWxpbmUKPiArICogdnNwMV9kdV9h
dG9taWNfbW9kZXNldCAtIENvbmZpZ3VyZSB0aGUgbW9kZSBhcyBwYXJ0IG9mIGFuIGF0b21pYyB1
cGRhdGUKPiAgICogQGRldjogdGhlIFZTUCBkZXZpY2UKPiAgICogQHBpcGVfaW5kZXg6IHRoZSBE
Uk0gcGlwZWxpbmUgaW5kZXgKPiAtICogQGNmZzogdGhlIExJRiBjb25maWd1cmF0aW9uCj4gKyAq
IEBjZmc6IHRoZSBtb2RlIGNvbmZpZ3VyYXRpb24KPiAgICoKPiAgICogQ29uZmlndXJlIHRoZSBv
dXRwdXQgcGFydCBvZiBWU1AgRFJNIHBpcGVsaW5lIGZvciB0aGUgZ2l2ZW4gZnJhbWUgQGNmZy53
aWR0aAo+ICAgKiBhbmQgQGNmZy5oZWlnaHQuIFRoaXMgc2V0cyB1cCBmb3JtYXRzIG9uIHRoZSBC
Unggc291cmNlIHBhZCwgdGhlIFdQRiBzaW5rIGFuZAo+IEBAIC02MzYsMTQgKzYzNiwxMiBAQCBF
WFBPUlRfU1lNQk9MX0dQTCh2c3AxX2R1X2luaXQpOwo+ICAgKgo+ICAgKiBSZXR1cm4gMCBvbiBz
dWNjZXNzIG9yIGEgbmVnYXRpdmUgZXJyb3IgY29kZSBvbiBmYWlsdXJlLgo+ICAgKi8KPiAtaW50
IHZzcDFfZHVfc2V0dXBfbGlmKHN0cnVjdCBkZXZpY2UgKmRldiwgdW5zaWduZWQgaW50IHBpcGVf
aW5kZXgsCj4gLQkJICAgICAgY29uc3Qgc3RydWN0IHZzcDFfZHVfbGlmX2NvbmZpZyAqY2ZnKQo+
ICtpbnQgdnNwMV9kdV9hdG9taWNfbW9kZXNldChzdHJ1Y3QgZGV2aWNlICpkZXYsIHVuc2lnbmVk
IGludCBwaXBlX2luZGV4LAo+ICsJCQkgICBjb25zdCBzdHJ1Y3QgdnNwMV9kdV9tb2Rlc2V0X2Nv
bmZpZyAqY2ZnKQo+ICB7Cj4gIAlzdHJ1Y3QgdnNwMV9kZXZpY2UgKnZzcDEgPSBkZXZfZ2V0X2Ry
dmRhdGEoZGV2KTsKPiAgCXN0cnVjdCB2c3AxX2RybV9waXBlbGluZSAqZHJtX3BpcGU7Cj4gIAlz
dHJ1Y3QgdnNwMV9waXBlbGluZSAqcGlwZTsKPiAtCXVuc2lnbmVkIGxvbmcgZmxhZ3M7Cj4gLQl1
bnNpZ25lZCBpbnQgaTsKPiAgCWludCByZXQ7Cj4gIAo+ICAJaWYgKHBpcGVfaW5kZXggPj0gdnNw
MS0+aW5mby0+bGlmX2NvdW50KQo+IEBAIC02NTIsNjAgKzY1MCw2IEBAIGludCB2c3AxX2R1X3Nl
dHVwX2xpZihzdHJ1Y3QgZGV2aWNlICpkZXYsIHVuc2lnbmVkIGludCBwaXBlX2luZGV4LAo+ICAJ
ZHJtX3BpcGUgPSAmdnNwMS0+ZHJtLT5waXBlW3BpcGVfaW5kZXhdOwo+ICAJcGlwZSA9ICZkcm1f
cGlwZS0+cGlwZTsKPiAgCj4gLQlpZiAoIWNmZykgewo+IC0JCXN0cnVjdCB2c3AxX2JyeCAqYnJ4
Owo+IC0KPiAtCQltdXRleF9sb2NrKCZ2c3AxLT5kcm0tPmxvY2spOwo+IC0KPiAtCQlicnggPSB0
b19icngoJnBpcGUtPmJyeC0+c3ViZGV2KTsKPiAtCj4gLQkJLyoKPiAtCQkgKiBOVUxMIGNvbmZp
Z3VyYXRpb24gbWVhbnMgdGhlIENSVEMgaXMgYmVpbmcgZGlzYWJsZWQsIHN0b3AKPiAtCQkgKiB0
aGUgcGlwZWxpbmUgYW5kIHR1cm4gdGhlIGxpZ2h0IG9mZi4KPiAtCQkgKi8KPiAtCQlyZXQgPSB2
c3AxX3BpcGVsaW5lX3N0b3AocGlwZSk7Cj4gLQkJaWYgKHJldCA9PSAtRVRJTUVET1VUKQo+IC0J
CQlkZXZfZXJyKHZzcDEtPmRldiwgIkRSTSBwaXBlbGluZSBzdG9wIHRpbWVvdXRcbiIpOwo+IC0K
PiAtCQlmb3IgKGkgPSAwOyBpIDwgQVJSQVlfU0laRShwaXBlLT5pbnB1dHMpOyArK2kpIHsKPiAt
CQkJc3RydWN0IHZzcDFfcndwZiAqcnBmID0gcGlwZS0+aW5wdXRzW2ldOwo+IC0KPiAtCQkJaWYg
KCFycGYpCj4gLQkJCQljb250aW51ZTsKPiAtCj4gLQkJCS8qCj4gLQkJCSAqIFJlbW92ZSB0aGUg
UlBGIGZyb20gdGhlIHBpcGUgYW5kIHRoZSBsaXN0IG9mIEJSeAo+IC0JCQkgKiBpbnB1dHMuCj4g
LQkJCSAqLwo+IC0JCQlXQVJOX09OKCFycGYtPmVudGl0eS5waXBlKTsKPiAtCQkJcnBmLT5lbnRp
dHkucGlwZSA9IE5VTEw7Cj4gLQkJCWxpc3RfZGVsKCZycGYtPmVudGl0eS5saXN0X3BpcGUpOwo+
IC0JCQlwaXBlLT5pbnB1dHNbaV0gPSBOVUxMOwo+IC0KPiAtCQkJYnJ4LT5pbnB1dHNbcnBmLT5i
cnhfaW5wdXRdLnJwZiA9IE5VTEw7Cj4gLQkJfQo+IC0KPiAtCQlkcm1fcGlwZS0+ZHVfY29tcGxl
dGUgPSBOVUxMOwo+IC0JCXBpcGUtPm51bV9pbnB1dHMgPSAwOwo+IC0KPiAtCQlkZXZfZGJnKHZz
cDEtPmRldiwgIiVzOiBwaXBlICV1OiByZWxlYXNpbmcgJXNcbiIsCj4gLQkJCV9fZnVuY19fLCBw
aXBlLT5saWYtPmluZGV4LAo+IC0JCQlCUlhfTkFNRShwaXBlLT5icngpKTsKPiAtCj4gLQkJbGlz
dF9kZWwoJnBpcGUtPmJyeC0+bGlzdF9waXBlKTsKPiAtCQlwaXBlLT5icngtPnBpcGUgPSBOVUxM
Owo+IC0JCXBpcGUtPmJyeCA9IE5VTEw7Cj4gLQo+IC0JCW11dGV4X3VubG9jaygmdnNwMS0+ZHJt
LT5sb2NrKTsKPiAtCj4gLQkJdnNwMV9kbG1fcmVzZXQocGlwZS0+b3V0cHV0LT5kbG0pOwo+IC0J
CXZzcDFfZGV2aWNlX3B1dCh2c3AxKTsKPiAtCj4gLQkJZGV2X2RiZyh2c3AxLT5kZXYsICIlczog
cGlwZWxpbmUgZGlzYWJsZWRcbiIsIF9fZnVuY19fKTsKPiAtCj4gLQkJcmV0dXJuIDA7Cj4gLQl9
Cj4gLQo+ICAJZHJtX3BpcGUtPndpZHRoID0gY2ZnLT53aWR0aDsKPiAgCWRybV9waXBlLT5oZWln
aHQgPSBjZmctPmhlaWdodDsKPiAgCXBpcGUtPmludGVybGFjZWQgPSBjZmctPmludGVybGFjZWQ7
Cj4gQEAgLTcyMiw4ICs2NjYsNDMgQEAgaW50IHZzcDFfZHVfc2V0dXBfbGlmKHN0cnVjdCBkZXZp
Y2UgKmRldiwgdW5zaWduZWQgaW50IHBpcGVfaW5kZXgsCj4gIAkJZ290byB1bmxvY2s7Cj4gIAo+
ICAJcmV0ID0gdnNwMV9kdV9waXBlbGluZV9zZXR1cF9vdXRwdXQodnNwMSwgcGlwZSk7Cj4gLQlp
ZiAocmV0IDwgMCkKPiAtCQlnb3RvIHVubG9jazsKPiArCj4gK3VubG9jazoKPiArCW11dGV4X3Vu
bG9jaygmdnNwMS0+ZHJtLT5sb2NrKTsKPiArCj4gKwlyZXR1cm4gcmV0Owo+ICt9Cj4gKwo+ICsv
KioKPiArICogdnNwMV9kdV9hdG9taWNfZW5hYmxlIC0gRW5hYmxlIGFuZCBzdGFydCBhIERVIHBp
cGVsaW5lCj4gKyAqIEBkZXY6IHRoZSBWU1AgZGV2aWNlCj4gKyAqIEBwaXBlX2luZGV4OiB0aGUg
RFJNIHBpcGVsaW5lIGluZGV4Cj4gKyAqIEBjZmc6IHRoZSBlbmFibGVtZW50IGNvbmZpZ3VyYXRp
b24KPiArICoKPiArICogVGhlIEBwaXBlX2luZGV4IGFyZ3VtZW50IHNlbGVjdHMgd2hpY2ggRFJN
IHBpcGVsaW5lIHRvIGVuYWJsZS4gVGhlIG51bWJlciBvZgo+ICsgKiBhdmFpbGFibGUgcGlwZWxp
bmVzIGRlcGVuZCBvbiB0aGUgVlNQIGluc3RhbmNlLgoKImRlcGVuZHMiLgoKPiArICoKPiArICog
VGhlIGNvbmZpZ3VyYXRpb24gcGFzc2VzIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gcmVnaXN0ZXIg
bm90aWZpY2F0aW9uIG9mCj4gKyAqIGZyYW1lIGNvbXBsZXRpb24gZXZlbnRzLgo+ICsgKgo+ICsg
KiBSZXR1cm4gMCBvbiBzdWNjZXNzIG9yIGEgbmVnYXRpdmUgZXJyb3IgY29kZSBvbiBmYWlsdXJl
Lgo+ICsgKi8KPiAraW50IHZzcDFfZHVfYXRvbWljX2VuYWJsZShzdHJ1Y3QgZGV2aWNlICpkZXYs
IHVuc2lnbmVkIGludCBwaXBlX2luZGV4LAo+ICsJCQkgIGNvbnN0IHN0cnVjdCB2c3AxX2R1X2Vu
YWJsZV9jb25maWcgKmNmZykKPiArewo+ICsJc3RydWN0IHZzcDFfZGV2aWNlICp2c3AxID0gZGV2
X2dldF9kcnZkYXRhKGRldik7Cj4gKwlzdHJ1Y3QgdnNwMV9kcm1fcGlwZWxpbmUgKmRybV9waXBl
Owo+ICsJc3RydWN0IHZzcDFfcGlwZWxpbmUgKnBpcGU7Cj4gKwl1bnNpZ25lZCBsb25nIGZsYWdz
Owo+ICsJaW50IHJldDsKPiArCj4gKwlpZiAocGlwZV9pbmRleCA+PSB2c3AxLT5pbmZvLT5saWZf
Y291bnQpCj4gKwkJcmV0dXJuIC1FSU5WQUw7Cj4gKwo+ICsJZHJtX3BpcGUgPSAmdnNwMS0+ZHJt
LT5waXBlW3BpcGVfaW5kZXhdOwo+ICsJcGlwZSA9ICZkcm1fcGlwZS0+cGlwZTsKPiArCj4gKwlt
dXRleF9sb2NrKCZ2c3AxLT5kcm0tPmxvY2spOwo+ICAKPiAgCS8qIEVuYWJsZSB0aGUgVlNQMS4g
Ki8KPiAgCXJldCA9IHZzcDFfZGV2aWNlX2dldCh2c3AxKTsKPiBAQCAtNzU4LDYgKzczNywxMjMg
QEAgaW50IHZzcDFfZHVfc2V0dXBfbGlmKHN0cnVjdCBkZXZpY2UgKmRldiwgdW5zaWduZWQgaW50
IHBpcGVfaW5kZXgsCj4gIAlkZXZfZGJnKHZzcDEtPmRldiwgIiVzOiBwaXBlbGluZSBlbmFibGVk
XG4iLCBfX2Z1bmNfXyk7Cj4gIAo+ICAJcmV0dXJuIDA7Cj4gKwo+ICt9Cj4gK0VYUE9SVF9TWU1C
T0xfR1BMKHZzcDFfZHVfYXRvbWljX2VuYWJsZSk7Cj4gKwo+ICsvKioKPiArICogdnNwMV9kdV9h
dG9taWNfZGlzYWJsZSAtIERpc2FibGUgYW5kIHN0b3AgYSBEVSBwaXBlbGluZQo+ICsgKiBAZGV2
OiB0aGUgVlNQIGRldmljZQo+ICsgKiBAcGlwZV9pbmRleDogdGhlIERSTSBwaXBlbGluZSBpbmRl
eAo+ICsgKgo+ICsgKiBUaGUgQHBpcGVfaW5kZXggYXJndW1lbnQgc2VsZWN0cyB3aGljaCBEUk0g
cGlwZWxpbmUgdG8gZGlzYWJsZS4gVGhlIG51bWJlcgo+ICsgKiBvZiBhdmFpbGFibGUgcGlwZWxp
bmVzIGRlcGVuZCBvbiB0aGUgVlNQIGluc3RhbmNlLgo+ICsgKgo+ICsgKiBSZXR1cm4gMCBvbiBz
dWNjZXNzIG9yIGEgbmVnYXRpdmUgZXJyb3IgY29kZSBvbiBmYWlsdXJlLgo+ICsgKi8KPiAraW50
IHZzcDFfZHVfYXRvbWljX2Rpc2FibGUoc3RydWN0IGRldmljZSAqZGV2LCB1bnNpZ25lZCBpbnQg
cGlwZV9pbmRleCkKPiArewo+ICsJc3RydWN0IHZzcDFfZGV2aWNlICp2c3AxID0gZGV2X2dldF9k
cnZkYXRhKGRldik7Cj4gKwlzdHJ1Y3QgdnNwMV9kcm1fcGlwZWxpbmUgKmRybV9waXBlOwo+ICsJ
c3RydWN0IHZzcDFfcGlwZWxpbmUgKnBpcGU7Cj4gKwlzdHJ1Y3QgdnNwMV9icnggKmJyeDsKPiAr
CXVuc2lnbmVkIGludCBpOwo+ICsJaW50IHJldDsKPiArCj4gKwlpZiAocGlwZV9pbmRleCA+PSB2
c3AxLT5pbmZvLT5saWZfY291bnQpCj4gKwkJcmV0dXJuIC1FSU5WQUw7Cj4gKwo+ICsJZHJtX3Bp
cGUgPSAmdnNwMS0+ZHJtLT5waXBlW3BpcGVfaW5kZXhdOwo+ICsJcGlwZSA9ICZkcm1fcGlwZS0+
cGlwZTsKPiArCj4gKwltdXRleF9sb2NrKCZ2c3AxLT5kcm0tPmxvY2spOwo+ICsKPiArCWJyeCA9
IHRvX2JyeCgmcGlwZS0+YnJ4LT5zdWJkZXYpOwo+ICsKPiArCS8qIFN0b3AgdGhlIHBpcGVsaW5l
IGFuZCB0dXJuIHRoZSBsaWdodCBvZmYuICovCgpJIG1heSBoYXZlIG1pc3NlZCBzb21ldGhpbmcs
IGJ1dCBpdCBpcyBub3QgY2xlYXIgdG8gbWUgd2hhdCAibGlnaHQiIHJlZmVycyB0byBoZXJlLgoK
PiArCXJldCA9IHZzcDFfcGlwZWxpbmVfc3RvcChwaXBlKTsKPiArCWlmIChyZXQgPT0gLUVUSU1F
RE9VVCkKPiArCQlkZXZfZXJyKHZzcDEtPmRldiwgIkRSTSBwaXBlbGluZSBzdG9wIHRpbWVvdXRc
biIpOwo+ICsKPiArCWZvciAoaSA9IDA7IGkgPCBBUlJBWV9TSVpFKHBpcGUtPmlucHV0cyk7ICsr
aSkgewo+ICsJCXN0cnVjdCB2c3AxX3J3cGYgKnJwZiA9IHBpcGUtPmlucHV0c1tpXTsKPiArCj4g
KwkJaWYgKCFycGYpCj4gKwkJCWNvbnRpbnVlOwo+ICsKPiArCQkvKiBSZW1vdmUgdGhlIFJQRiBm
cm9tIHRoZSBwaXBlIGFuZCB0aGUgbGlzdCBvZiBCUnggaW5wdXRzLiAqLwo+ICsJCVdBUk5fT04o
IXJwZi0+ZW50aXR5LnBpcGUpOwo+ICsJCXJwZi0+ZW50aXR5LnBpcGUgPSBOVUxMOwo+ICsJCWxp
c3RfZGVsKCZycGYtPmVudGl0eS5saXN0X3BpcGUpOwo+ICsJCXBpcGUtPmlucHV0c1tpXSA9IE5V
TEw7Cj4gKwo+ICsJCWJyeC0+aW5wdXRzW3JwZi0+YnJ4X2lucHV0XS5ycGYgPSBOVUxMOwo+ICsJ
fQo+ICsKPiArCWRybV9waXBlLT5kdV9jb21wbGV0ZSA9IE5VTEw7Cj4gKwlwaXBlLT5udW1faW5w
dXRzID0gMDsKPiArCj4gKwlkZXZfZGJnKHZzcDEtPmRldiwgIiVzOiBwaXBlICV1OiByZWxlYXNp
bmcgJXNcbiIsIF9fZnVuY19fLAo+ICsJCXBpcGUtPmxpZi0+aW5kZXgsIEJSWF9OQU1FKHBpcGUt
PmJyeCkpOwo+ICsKPiArCWxpc3RfZGVsKCZwaXBlLT5icngtPmxpc3RfcGlwZSk7Cj4gKwlwaXBl
LT5icngtPnBpcGUgPSBOVUxMOwo+ICsJcGlwZS0+YnJ4ID0gTlVMTDsKPiArCj4gKwltdXRleF91
bmxvY2soJnZzcDEtPmRybS0+bG9jayk7Cj4gKwo+ICsJdnNwMV9kbG1fcmVzZXQocGlwZS0+b3V0
cHV0LT5kbG0pOwo+ICsJdnNwMV9kZXZpY2VfcHV0KHZzcDEpOwo+ICsKPiArCWRldl9kYmcodnNw
MS0+ZGV2LCAiJXM6IHBpcGVsaW5lIGRpc2FibGVkXG4iLCBfX2Z1bmNfXyk7Cj4gKwo+ICsJcmV0
dXJuIDA7Cj4gK30KPiArRVhQT1JUX1NZTUJPTF9HUEwodnNwMV9kdV9hdG9taWNfZGlzYWJsZSk7
Cj4gKwo+ICsvKioKPiArICogdnNwMV9kdV9zZXR1cF9saWYgLSBTZXR1cCB0aGUgb3V0cHV0IHBh
cnQgb2YgdGhlIFZTUCBwaXBlbGluZQo+ICsgKiBAZGV2OiB0aGUgVlNQIGRldmljZQo+ICsgKiBA
cGlwZV9pbmRleDogdGhlIERSTSBwaXBlbGluZSBpbmRleAo+ICsgKiBAY2ZnOiB0aGUgTElGIGNv
bmZpZ3VyYXRpb24KPiArICoKPiArICogQ29uZmlndXJlIHRoZSBvdXRwdXQgcGFydCBvZiBWU1Ag
RFJNIHBpcGVsaW5lIGZvciB0aGUgZ2l2ZW4gZnJhbWUgQGNmZy53aWR0aAo+ICsgKiBhbmQgQGNm
Zy5oZWlnaHQuIFRoaXMgc2V0cyB1cCBmb3JtYXRzIG9uIHRoZSBCUnggc291cmNlIHBhZCwgdGhl
IFdQRiBzaW5rIGFuZAo+ICsgKiBzb3VyY2UgcGFkcywgYW5kIHRoZSBMSUYgc2luayBwYWQuCj4g
KyAqCj4gKyAqIFRoZSBAcGlwZV9pbmRleCBhcmd1bWVudCBzZWxlY3RzIHdoaWNoIERSTSBwaXBl
bGluZSB0byBzZXR1cC4gVGhlIG51bWJlciBvZgo+ICsgKiBhdmFpbGFibGUgcGlwZWxpbmVzIGRl
cGVuZCBvbiB0aGUgVlNQIGluc3RhbmNlLgo+ICsgKgo+ICsgKiBBcyB0aGUgbWVkaWEgYnVzIGNv
ZGUgb24gdGhlIGJsZW5kIHVuaXQgc291cmNlIHBhZCBpcyBjb25kaXRpb25lZCBieSB0aGUKPiAr
ICogY29uZmlndXJhdGlvbiBvZiBpdHMgc2luayAwIHBhZCwgd2UgYWxzbyBzZXQgdXAgdGhlIGZv
cm1hdHMgb24gYWxsIGJsZW5kIHVuaXQKPiArICogc2lua3MsIGV2ZW4gaWYgdGhlIGNvbmZpZ3Vy
YXRpb24gd2lsbCBiZSBvdmVyd3JpdHRlbiBsYXRlciBieQo+ICsgKiB2c3AxX2R1X3NldHVwX3Jw
ZigpLiBUaGlzIGVuc3VyZXMgdGhhdCB0aGUgYmxlbmQgdW5pdCBjb25maWd1cmF0aW9uIGlzIHNl
dCB0bwo+ICsgKiBhIHdlbGwgZGVmaW5lZCBzdGF0ZS4KPiArICoKPiArICogUmV0dXJuIDAgb24g
c3VjY2VzcyBvciBhIG5lZ2F0aXZlIGVycm9yIGNvZGUgb24gZmFpbHVyZS4KPiArICovCj4gK2lu
dCB2c3AxX2R1X3NldHVwX2xpZihzdHJ1Y3QgZGV2aWNlICpkZXYsIHVuc2lnbmVkIGludCBwaXBl
X2luZGV4LAo+ICsJCSAgICAgIGNvbnN0IHN0cnVjdCB2c3AxX2R1X2xpZl9jb25maWcgKmNmZykK
PiArewo+ICsJc3RydWN0IHZzcDFfZHVfbW9kZXNldF9jb25maWcgbW9kZXM7Cj4gKwlzdHJ1Y3Qg
dnNwMV9kdV9lbmFibGVfY29uZmlnIGVuYWJsZTsKPiArCWludCByZXQ7Cj4gKwo+ICsJaWYgKCFj
ZmcpCj4gKwkJcmV0dXJuIHZzcDFfZHVfYXRvbWljX2Rpc2FibGUoZGV2LCBwaXBlX2luZGV4KTsK
PiArCj4gKwltb2Rlcy53aWR0aCA9IGNmZy0+d2lkdGg7Cj4gKwltb2Rlcy5oZWlnaHQgPSBjZmct
PmhlaWdodDsKPiArCW1vZGVzLmludGVybGFjZWQgPSBjZmctPmludGVybGFjZWQ7Cj4gKwo+ICsJ
cmV0ID0gdnNwMV9kdV9hdG9taWNfbW9kZXNldChkZXYsIHBpcGVfaW5kZXgsICZtb2Rlcyk7Cj4g
KwlpZiAocmV0KQo+ICsJCXJldHVybiByZXQ7Cj4gKwo+ICsJZW5hYmxlLmNhbGxiYWNrID0gY2Zn
LT5jYWxsYmFjazsKPiArCWVuYWJsZS5jYWxsYmFja19kYXRhID0gY2ZnLT5jYWxsYmFja19kYXRh
Owo+ICsKPiArCXJldHVybiB2c3AxX2R1X2F0b21pY19lbmFibGUoZGV2LCBwaXBlX2luZGV4LCAm
ZW5hYmxlKTsKPiAgfQo+ICBFWFBPUlRfU1lNQk9MX0dQTCh2c3AxX2R1X3NldHVwX2xpZik7Cj4g
IAo+IGRpZmYgLS1naXQgYS9pbmNsdWRlL21lZGlhL3ZzcDEuaCBiL2luY2x1ZGUvbWVkaWEvdnNw
MS5oCj4gaW5kZXggY2MxYjBkNDJjZTk1Li41NjY0M2Y5N2Q0YzkgMTAwNjQ0Cj4gLS0tIGEvaW5j
bHVkZS9tZWRpYS92c3AxLmgKPiArKysgYi9pbmNsdWRlL21lZGlhL3ZzcDEuaAo+IEBAIC0yMSw3
ICsyMSw3IEBAIGludCB2c3AxX2R1X2luaXQoc3RydWN0IGRldmljZSAqZGV2KTsKPiAgI2RlZmlu
ZSBWU1AxX0RVX1NUQVRVU19XUklURUJBQ0sJQklUKDEpCj4gIAo+ICAvKioKPiAtICogc3RydWN0
IHZzcDFfZHVfbGlmX2NvbmZpZyAtIFZTUCBMSUYgY29uZmlndXJhdGlvbgo+ICsgKiBzdHJ1Y3Qg
dnNwMV9kdV9saWZfY29uZmlnIC0gVlNQIExJRiBjb25maWd1cmF0aW9uIC0gRGVwcmVjYXRlZAo+
ICAgKiBAd2lkdGg6IG91dHB1dCBmcmFtZSB3aWR0aAo+ICAgKiBAaGVpZ2h0OiBvdXRwdXQgZnJh
bWUgaGVpZ2h0Cj4gICAqIEBpbnRlcmxhY2VkOiB0cnVlIGZvciBpbnRlcmxhY2VkIHBpcGVsaW5l
cwo+IEBAIC00Miw2ICs0MiwzMCBAQCBzdHJ1Y3QgdnNwMV9kdV9saWZfY29uZmlnIHsKPiAgaW50
IHZzcDFfZHVfc2V0dXBfbGlmKHN0cnVjdCBkZXZpY2UgKmRldiwgdW5zaWduZWQgaW50IHBpcGVf
aW5kZXgsCj4gIAkJICAgICAgY29uc3Qgc3RydWN0IHZzcDFfZHVfbGlmX2NvbmZpZyAqY2ZnKTsK
PiAgCj4gKy8qKgo+ICsgKiBzdHJ1Y3QgdnNwMV9kdV9tb2Rlc2V0X2NvbmZpZyAtIFZTUCBkaXNw
bGF5IG1vZGUgY29uZmlndXJhdGlvbgo+ICsgKiBAd2lkdGg6IG91dHB1dCBmcmFtZSB3aWR0aAo+
ICsgKiBAaGVpZ2h0OiBvdXRwdXQgZnJhbWUgaGVpZ2h0Cj4gKyAqIEBpbnRlcmxhY2VkOiB0cnVl
IGZvciBpbnRlcmxhY2VkIHBpcGVsaW5lcwo+ICsgKi8KPiArc3RydWN0IHZzcDFfZHVfbW9kZXNl
dF9jb25maWcgewo+ICsJdW5zaWduZWQgaW50IHdpZHRoOwo+ICsJdW5zaWduZWQgaW50IGhlaWdo
dDsKPiArCWJvb2wgaW50ZXJsYWNlZDsKPiArfTsKPiArCj4gKy8qKgo+ICsgKiBzdHJ1Y3QgdnNw
MV9kdV9lbmFibGVfY29uZmlnIC0gVlNQIGVuYWJsZSBjb25maWd1cmF0aW9uCj4gKyAqIEBjYWxs
YmFjazogZnJhbWUgY29tcGxldGlvbiBjYWxsYmFjayBmdW5jdGlvbiAob3B0aW9uYWwpLiBXaGVu
IGEgY2FsbGJhY2sKPiArICoJICAgICAgaXMgcHJvdmlkZWQsIHRoZSBWU1AgZHJpdmVyIGd1YXJh
bnRlZXMgdGhhdCBpdCB3aWxsIGJlIGNhbGxlZCBvbmNlCj4gKyAqCSAgICAgIGFuZCBvbmx5IG9u
Y2UgZm9yIGVhY2ggdnNwMV9kdV9hdG9taWNfZmx1c2goKSBjYWxsLgo+ICsgKiBAY2FsbGJhY2tf
ZGF0YTogZGF0YSB0byBiZSBwYXNzZWQgdG8gdGhlIGZyYW1lIGNvbXBsZXRpb24gY2FsbGJhY2sK
PiArICovCj4gK3N0cnVjdCB2c3AxX2R1X2VuYWJsZV9jb25maWcgewo+ICsJdm9pZCAoKmNhbGxi
YWNrKSh2b2lkICpkYXRhLCB1bnNpZ25lZCBpbnQgc3RhdHVzLCB1MzIgY3JjKTsKPiArCXZvaWQg
KmNhbGxiYWNrX2RhdGE7Cj4gK307Cj4gKwo+ICAvKioKPiAgICogc3RydWN0IHZzcDFfZHVfYXRv
bWljX2NvbmZpZyAtIFZTUCBhdG9taWMgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzCj4gICAqIEBw
aXhlbGZvcm1hdDogcGxhbmUgcGl4ZWwgZm9ybWF0IChWNEwyIDRDQykKPiBAQCAtMTA2LDYgKzEz
MCwxMiBAQCBzdHJ1Y3QgdnNwMV9kdV9hdG9taWNfcGlwZV9jb25maWcgewo+ICAJc3RydWN0IHZz
cDFfZHVfd3JpdGViYWNrX2NvbmZpZyB3cml0ZWJhY2s7Cj4gIH07Cj4gIAo+ICsKPiAraW50IHZz
cDFfZHVfYXRvbWljX21vZGVzZXQoc3RydWN0IGRldmljZSAqZGV2LCB1bnNpZ25lZCBpbnQgcGlw
ZV9pbmRleCwKPiArCQkgICAgY29uc3Qgc3RydWN0IHZzcDFfZHVfbW9kZXNldF9jb25maWcgKmNm
Zyk7Cj4gK2ludCB2c3AxX2R1X2F0b21pY19lbmFibGUoc3RydWN0IGRldmljZSAqZGV2LCB1bnNp
Z25lZCBpbnQgcGlwZV9pbmRleCwKPiArCQkgICBjb25zdCBzdHJ1Y3QgdnNwMV9kdV9lbmFibGVf
Y29uZmlnICpjZmcpOwo+ICtpbnQgdnNwMV9kdV9hdG9taWNfZGlzYWJsZShzdHJ1Y3QgZGV2aWNl
ICpkZXYsIHVuc2lnbmVkIGludCBwaXBlX2luZGV4KTsKPiAgdm9pZCB2c3AxX2R1X2F0b21pY19i
ZWdpbihzdHJ1Y3QgZGV2aWNlICpkZXYsIHVuc2lnbmVkIGludCBwaXBlX2luZGV4KTsKPiAgaW50
IHZzcDFfZHVfYXRvbWljX3VwZGF0ZShzdHJ1Y3QgZGV2aWNlICpkZXYsIHVuc2lnbmVkIGludCBw
aXBlX2luZGV4LAo+ICAJCQkgIHVuc2lnbmVkIGludCBycGYsCj4gLS0gCj4gUmVnYXJkcywKPiAK
PiBMYXVyZW50IFBpbmNoYXJ0Cj4KCldpdGggdGhvc2UgbWlub3IgaXNzdWVzIGZpeGVkOgoKUmV2
aWV3ZWQtYnk6IFVscmljaCBIZWNodCA8dWxpK3JlbmVzYXNAZnBvbmQuZXU+CgpDVQpVbGkKX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1h
aWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
