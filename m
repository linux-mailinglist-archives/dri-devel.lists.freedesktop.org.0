Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 9CD06F9741
	for <lists+dri-devel@lfdr.de>; Tue, 12 Nov 2019 18:35:27 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8E1786EB97;
	Tue, 12 Nov 2019 17:35:22 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail.kernel.org (mail.kernel.org [198.145.29.99])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 98B306EB96;
 Tue, 12 Nov 2019 17:35:19 +0000 (UTC)
Received: from localhost (unknown [69.71.4.100])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
 (No client certificate requested)
 by mail.kernel.org (Postfix) with ESMTPSA id 382EC21872;
 Tue, 12 Nov 2019 17:35:19 +0000 (UTC)
From: Bjorn Helgaas <helgaas@kernel.org>
To: Alex Deucher <alexander.deucher@amd.com>,
 =?UTF-8?q?Christian=20K=C3=B6nig?= <christian.koenig@amd.com>,
 David Zhou <David1.Zhou@amd.com>, David Airlie <airlied@linux.ie>,
 Daniel Vetter <daniel@ffwll.ch>
Subject: [PATCH 2/3] drm: correct Transmit Margin masks
Date: Tue, 12 Nov 2019 11:35:02 -0600
Message-Id: <20191112173503.176611-3-helgaas@kernel.org>
X-Mailer: git-send-email 2.24.0.rc1.363.gb1bccd3e3d-goog
In-Reply-To: <20191112173503.176611-1-helgaas@kernel.org>
References: <20191112173503.176611-1-helgaas@kernel.org>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=kernel.org; s=default; t=1573580119;
 bh=uilhuB6pLFzYoa0ifp+SX5cMRQawFop/uGE1jazPVS0=;
 h=From:To:Cc:Subject:Date:In-Reply-To:References:From;
 b=HjFgMibQdjL4lsrM6HzQZ7V6cSenAdF6Ku1bbCyC2ilDUQNYR2siViKdYOAy29euZ
 x1ZcEVWxH5++ZbP3Y3PuvFaFdphbFhFaZkoMt57LVk7yH3jPJAJqY8EarCf9j9A+2S
 AUukj+YDOpMbFR3W/4clIoBWR57L8r2/vfxo6Cx0=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Frederick Lawler <fred@fredlawl.com>, linux-pci@vger.kernel.org,
 =?UTF-8?q?Michel=20D=C3=A4nzer?= <michel@daenzer.net>,
 linux-kernel@vger.kernel.org, dri-devel@lists.freedesktop.org,
 amd-gfx@lists.freedesktop.org, Bjorn Helgaas <bhelgaas@google.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogQmpvcm4gSGVsZ2FhcyA8YmhlbGdhYXNAZ29vZ2xlLmNvbT4KClByZXZpb3VzbHkgd2Ug
bWFza2VkIFBDSWUgTGluayBDb250cm9sIDIgcmVnaXN0ZXIgdmFsdWVzIHdpdGggIjcgPDwgOSIs
CndoaWNoIHdhcyBhcHBhcmVudGx5IGludGVuZGVkIHRvIGJlIHRoZSBUcmFuc21pdCBNYXJnaW4g
ZmllbGQsIGJ1dCBpbnN0ZWFkCndhcyB0aGUgaGlnaCBvcmRlciBiaXQgb2YgVHJhbnNtaXQgTWFy
Z2luLCB0aGUgRW50ZXIgTW9kaWZpZWQgQ29tcGxpYW5jZQpiaXQsIGFuZCB0aGUgQ29tcGxpYW5j
ZSBTT1MgYml0LgoKQ29ycmVjdCB0aGUgbWFzayB0byAiNyA8PCA3Iiwgd2hpY2ggaXMgdGhlIFRy
YW5zbWl0IE1hcmdpbiBmaWVsZC4KClNpZ25lZC1vZmYtYnk6IEJqb3JuIEhlbGdhYXMgPGJoZWxn
YWFzQGdvb2dsZS5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvY2lrLmMgfCA4
ICsrKystLS0tCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zaS5jICB8IDggKysrKy0tLS0K
IGRyaXZlcnMvZ3B1L2RybS9yYWRlb24vY2lrLmMgICAgIHwgOCArKysrLS0tLQogZHJpdmVycy9n
cHUvZHJtL3JhZGVvbi9zaS5jICAgICAgfCA4ICsrKystLS0tCiA0IGZpbGVzIGNoYW5nZWQsIDE2
IGluc2VydGlvbnMoKyksIDE2IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2Npay5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvY2lrLmMK
aW5kZXggYjgxYmI0MTRmY2IzLi4xM2E1Njk2ZDJhNmEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2Npay5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Np
ay5jCkBAIC0xNDk4LDEzICsxNDk4LDEzIEBAIHN0YXRpYyB2b2lkIGNpa19wY2llX2dlbjNfZW5h
YmxlKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQogCiAJCQkJLyogbGlua2N0bDIgKi8KIAkJ
CQlwY2lfcmVhZF9jb25maWdfd29yZChyb290LCBicmlkZ2VfcG9zICsgUENJX0VYUF9MTktDVEwy
LCAmdG1wMTYpOwotCQkJCXRtcDE2ICY9IH4oKDEgPDwgNCkgfCAoNyA8PCA5KSk7Ci0JCQkJdG1w
MTYgfD0gKGJyaWRnZV9jZmcyICYgKCgxIDw8IDQpIHwgKDcgPDwgOSkpKTsKKwkJCQl0bXAxNiAm
PSB+KCgxIDw8IDQpIHwgKDcgPDwgNykpOworCQkJCXRtcDE2IHw9IChicmlkZ2VfY2ZnMiAmICgo
MSA8PCA0KSB8ICg3IDw8IDcpKSk7CiAJCQkJcGNpX3dyaXRlX2NvbmZpZ193b3JkKHJvb3QsIGJy
aWRnZV9wb3MgKyBQQ0lfRVhQX0xOS0NUTDIsIHRtcDE2KTsKIAogCQkJCXBjaV9yZWFkX2NvbmZp
Z193b3JkKGFkZXYtPnBkZXYsIGdwdV9wb3MgKyBQQ0lfRVhQX0xOS0NUTDIsICZ0bXAxNik7Ci0J
CQkJdG1wMTYgJj0gfigoMSA8PCA0KSB8ICg3IDw8IDkpKTsKLQkJCQl0bXAxNiB8PSAoZ3B1X2Nm
ZzIgJiAoKDEgPDwgNCkgfCAoNyA8PCA5KSkpOworCQkJCXRtcDE2ICY9IH4oKDEgPDwgNCkgfCAo
NyA8PCA3KSk7CisJCQkJdG1wMTYgfD0gKGdwdV9jZmcyICYgKCgxIDw8IDQpIHwgKDcgPDwgNykp
KTsKIAkJCQlwY2lfd3JpdGVfY29uZmlnX3dvcmQoYWRldi0+cGRldiwgZ3B1X3BvcyArIFBDSV9F
WFBfTE5LQ1RMMiwgdG1wMTYpOwogCiAJCQkJdG1wID0gUlJFRzMyX1BDSUUoaXhQQ0lFX0xDX0NO
VEw0KTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NpLmMgYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zaS5jCmluZGV4IDQ5M2FmNDIxNTJmMi4uMWUzNTAxNzJk
YzdiIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zaS5jCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NpLmMKQEAgLTE3MzcsMTMgKzE3MzcsMTMgQEAgc3Rh
dGljIHZvaWQgc2lfcGNpZV9nZW4zX2VuYWJsZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikK
IAkJCQlwY2lfd3JpdGVfY29uZmlnX3dvcmQoYWRldi0+cGRldiwgZ3B1X3BvcyArIFBDSV9FWFBf
TE5LQ1RMLCB0bXAxNik7CiAKIAkJCQlwY2lfcmVhZF9jb25maWdfd29yZChyb290LCBicmlkZ2Vf
cG9zICsgUENJX0VYUF9MTktDVEwyLCAmdG1wMTYpOwotCQkJCXRtcDE2ICY9IH4oKDEgPDwgNCkg
fCAoNyA8PCA5KSk7Ci0JCQkJdG1wMTYgfD0gKGJyaWRnZV9jZmcyICYgKCgxIDw8IDQpIHwgKDcg
PDwgOSkpKTsKKwkJCQl0bXAxNiAmPSB+KCgxIDw8IDQpIHwgKDcgPDwgNykpOworCQkJCXRtcDE2
IHw9IChicmlkZ2VfY2ZnMiAmICgoMSA8PCA0KSB8ICg3IDw8IDcpKSk7CiAJCQkJcGNpX3dyaXRl
X2NvbmZpZ193b3JkKHJvb3QsIGJyaWRnZV9wb3MgKyBQQ0lfRVhQX0xOS0NUTDIsIHRtcDE2KTsK
IAogCQkJCXBjaV9yZWFkX2NvbmZpZ193b3JkKGFkZXYtPnBkZXYsIGdwdV9wb3MgKyBQQ0lfRVhQ
X0xOS0NUTDIsICZ0bXAxNik7Ci0JCQkJdG1wMTYgJj0gfigoMSA8PCA0KSB8ICg3IDw8IDkpKTsK
LQkJCQl0bXAxNiB8PSAoZ3B1X2NmZzIgJiAoKDEgPDwgNCkgfCAoNyA8PCA5KSkpOworCQkJCXRt
cDE2ICY9IH4oKDEgPDwgNCkgfCAoNyA8PCA3KSk7CisJCQkJdG1wMTYgfD0gKGdwdV9jZmcyICYg
KCgxIDw8IDQpIHwgKDcgPDwgNykpKTsKIAkJCQlwY2lfd3JpdGVfY29uZmlnX3dvcmQoYWRldi0+
cGRldiwgZ3B1X3BvcyArIFBDSV9FWFBfTE5LQ1RMMiwgdG1wMTYpOwogCiAJCQkJdG1wID0gUlJF
RzMyX1BDSUVfUE9SVChQQ0lFX0xDX0NOVEw0KTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9yYWRlb24vY2lrLmMgYi9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL2Npay5jCmluZGV4IDYyZWFi
ODJhNjRmOS4uMTRjZGZkZjc4YmRlIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcmFkZW9u
L2Npay5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vY2lrLmMKQEAgLTk2MTksMTMgKzk2
MTksMTMgQEAgc3RhdGljIHZvaWQgY2lrX3BjaWVfZ2VuM19lbmFibGUoc3RydWN0IHJhZGVvbl9k
ZXZpY2UgKnJkZXYpCiAKIAkJCQkvKiBsaW5rY3RsMiAqLwogCQkJCXBjaV9yZWFkX2NvbmZpZ193
b3JkKHJvb3QsIGJyaWRnZV9wb3MgKyBQQ0lfRVhQX0xOS0NUTDIsICZ0bXAxNik7Ci0JCQkJdG1w
MTYgJj0gfigoMSA8PCA0KSB8ICg3IDw8IDkpKTsKLQkJCQl0bXAxNiB8PSAoYnJpZGdlX2NmZzIg
JiAoKDEgPDwgNCkgfCAoNyA8PCA5KSkpOworCQkJCXRtcDE2ICY9IH4oKDEgPDwgNCkgfCAoNyA8
PCA3KSk7CisJCQkJdG1wMTYgfD0gKGJyaWRnZV9jZmcyICYgKCgxIDw8IDQpIHwgKDcgPDwgNykp
KTsKIAkJCQlwY2lfd3JpdGVfY29uZmlnX3dvcmQocm9vdCwgYnJpZGdlX3BvcyArIFBDSV9FWFBf
TE5LQ1RMMiwgdG1wMTYpOwogCiAJCQkJcGNpX3JlYWRfY29uZmlnX3dvcmQocmRldi0+cGRldiwg
Z3B1X3BvcyArIFBDSV9FWFBfTE5LQ1RMMiwgJnRtcDE2KTsKLQkJCQl0bXAxNiAmPSB+KCgxIDw8
IDQpIHwgKDcgPDwgOSkpOwotCQkJCXRtcDE2IHw9IChncHVfY2ZnMiAmICgoMSA8PCA0KSB8ICg3
IDw8IDkpKSk7CisJCQkJdG1wMTYgJj0gfigoMSA8PCA0KSB8ICg3IDw8IDcpKTsKKwkJCQl0bXAx
NiB8PSAoZ3B1X2NmZzIgJiAoKDEgPDwgNCkgfCAoNyA8PCA3KSkpOwogCQkJCXBjaV93cml0ZV9j
b25maWdfd29yZChyZGV2LT5wZGV2LCBncHVfcG9zICsgUENJX0VYUF9MTktDVEwyLCB0bXAxNik7
CiAKIAkJCQl0bXAgPSBSUkVHMzJfUENJRV9QT1JUKFBDSUVfTENfQ05UTDQpOwpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9zaS5jIGIvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9z
aS5jCmluZGV4IDA1ODk0ZDE5OGE3OS4uOWI3MDQyZDNlZjFiIDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vcmFkZW9uL3NpLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9zaS5jCkBA
IC03MjAyLDEzICs3MjAyLDEzIEBAIHN0YXRpYyB2b2lkIHNpX3BjaWVfZ2VuM19lbmFibGUoc3Ry
dWN0IHJhZGVvbl9kZXZpY2UgKnJkZXYpCiAKIAkJCQkvKiBsaW5rY3RsMiAqLwogCQkJCXBjaV9y
ZWFkX2NvbmZpZ193b3JkKHJvb3QsIGJyaWRnZV9wb3MgKyBQQ0lfRVhQX0xOS0NUTDIsICZ0bXAx
Nik7Ci0JCQkJdG1wMTYgJj0gfigoMSA8PCA0KSB8ICg3IDw8IDkpKTsKLQkJCQl0bXAxNiB8PSAo
YnJpZGdlX2NmZzIgJiAoKDEgPDwgNCkgfCAoNyA8PCA5KSkpOworCQkJCXRtcDE2ICY9IH4oKDEg
PDwgNCkgfCAoNyA8PCA3KSk7CisJCQkJdG1wMTYgfD0gKGJyaWRnZV9jZmcyICYgKCgxIDw8IDQp
IHwgKDcgPDwgNykpKTsKIAkJCQlwY2lfd3JpdGVfY29uZmlnX3dvcmQocm9vdCwgYnJpZGdlX3Bv
cyArIFBDSV9FWFBfTE5LQ1RMMiwgdG1wMTYpOwogCiAJCQkJcGNpX3JlYWRfY29uZmlnX3dvcmQo
cmRldi0+cGRldiwgZ3B1X3BvcyArIFBDSV9FWFBfTE5LQ1RMMiwgJnRtcDE2KTsKLQkJCQl0bXAx
NiAmPSB+KCgxIDw8IDQpIHwgKDcgPDwgOSkpOwotCQkJCXRtcDE2IHw9IChncHVfY2ZnMiAmICgo
MSA8PCA0KSB8ICg3IDw8IDkpKSk7CisJCQkJdG1wMTYgJj0gfigoMSA8PCA0KSB8ICg3IDw8IDcp
KTsKKwkJCQl0bXAxNiB8PSAoZ3B1X2NmZzIgJiAoKDEgPDwgNCkgfCAoNyA8PCA3KSkpOwogCQkJ
CXBjaV93cml0ZV9jb25maWdfd29yZChyZGV2LT5wZGV2LCBncHVfcG9zICsgUENJX0VYUF9MTktD
VEwyLCB0bXAxNik7CiAKIAkJCQl0bXAgPSBSUkVHMzJfUENJRV9QT1JUKFBDSUVfTENfQ05UTDQp
OwotLSAKMi4yNC4wLnJjMS4zNjMuZ2IxYmNjZDNlM2QtZ29vZwoKX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmkt
ZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
L21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
