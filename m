Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 92B34B7438
	for <lists+dri-devel@lfdr.de>; Thu, 19 Sep 2019 09:36:15 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D41E06F775;
	Thu, 19 Sep 2019 07:35:46 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-pf1-x441.google.com (mail-pf1-x441.google.com
 [IPv6:2607:f8b0:4864:20::441])
 by gabe.freedesktop.org (Postfix) with ESMTPS id DA8076F4C1
 for <dri-devel@lists.freedesktop.org>; Thu, 19 Sep 2019 06:18:31 +0000 (UTC)
Received: by mail-pf1-x441.google.com with SMTP id q10so1598942pfl.0
 for <dri-devel@lists.freedesktop.org>; Wed, 18 Sep 2019 23:18:31 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id;
 bh=JdMaIl40F6eeDnh6zZgPGJf+r2o4FShfqiKjvJjkvUY=;
 b=q5iQ6WWlcpLrcHxzt5sRnzBttve+6iZLcByoDcXM81QnRVQX0wRnajTTaCDRvppcSq
 k3qeCKVmSS/NQVk+SbmApFLgukQc4N8PXsVEvN/m15mjLfEb+1Bms3L4CpYkue0pLjs4
 Rm3LjMmvgJbysxjlEBN7RjsCg5jZs4O6zqduYN5s9kuVhVns0ugpMYtHhRmcr2si/Ni+
 x+cjDqp0Qdr/5Sm/b8gEjDe5s4G2ny+dLzj4ufTmThYcir5r52yg2NExAeo0saZ5oSZm
 T7dfNgXXqwdGvJxtnytStOCBbTtl3B5u0nkauDNbiEcHjW3ij/JxXvygyYlH66BEFSUi
 bJ3Q==
X-Gm-Message-State: APjAAAW9KEH2qDAoJ8fF+i6wvSxfTK+DgMZs77oFmRUCYi3/xjCPNOO7
 fqG9dl0hRiUYFUmjS8wt75VxYD7HTas=
X-Google-Smtp-Source: APXvYqy3tYEASOwtBjqIUhSWcMjaoJ4fr4NtyMupHMhJfJ9N4w7ssQS9ZHhaBSNKJ5CxKW42hW4pNw==
X-Received: by 2002:a62:8142:: with SMTP id t63mr8548699pfd.246.1568873911346; 
 Wed, 18 Sep 2019 23:18:31 -0700 (PDT)
Received: from super-sugar.huaqin.com ([101.78.151.194])
 by smtp.gmail.com with ESMTPSA id z4sm11620849pfn.45.2019.09.18.23.18.30
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Wed, 18 Sep 2019 23:18:31 -0700 (PDT)
From: Jerry Han <jerry.han.hq@gmail.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH 8/9] [v10,
 8/9] drm/panel: Add Boe Himax8279d MIPI-DSI LCD panel
Date: Thu, 19 Sep 2019 14:18:25 +0800
Message-Id: <20190919061825.3128-1-jerry.han.hq@gmail.com>
X-Mailer: git-send-email 2.17.1
X-Mailman-Approved-At: Thu, 19 Sep 2019 07:35:45 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id;
 bh=JdMaIl40F6eeDnh6zZgPGJf+r2o4FShfqiKjvJjkvUY=;
 b=ATcENUXIMRqQKF6NiImK0l6aevNmh6H8HFbXPf8WOT9UK1WeMsJO3cVKWHX0tvjSQZ
 vFmiUQ9U6ldO0g8cmVH30WMuRkPMPLI0JE5BcyyrrtY29gdSbK0qyTULi4Xt8N7YMY5z
 M75doBWdoNLr8VKRiodqjBxZMXuOhwz+8AbzJ9WscH0HOYI3sl1mb2M05r+556b+0zGN
 oe5LqxIltg4LD/QbIjoYoI+g9Wn49DNcu0HIV3/JJ4zNv1JikAHxNUWg47WHyNO3wDeN
 GMFdwKJbH3+kmgum0blvgnh5hx3imY4+AQWvg/33I8SETfRhYoLjsM+4Hz2IEgJo1LKU
 g9Mg==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Jerry Han <jerry.han.hq@gmail.com>, Jitao Shi <jitao.shi@mediatek.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

U3VwcG9ydCBCb2UgSGltYXg4Mjc5ZCA4LjAiIDEyMDB4MTkyMCBURlQgTENEIHBhbmVsLCBpdCBp
cyBhIE1JUEkgRFNJCnBhbmVsLgoKVjg6Ci0gbW9kaWZ5IFBBUkVOVEhFU0lTX0FMSUdOTUVOVCBm
b3JtYXQgKFNhbSkKLSB1c2UgZ3Bpb3MgYXJlIHJlcXVpcmVkIEFQSSByZXBsYWNlIG9wdGlvbmFs
IGdwaW8gQVBJIChFbWlsKQoKVjc6Ci0gTW9kaWZ5IGNvbW11bmljYXRpb24gYWRkcmVzcwoKVjY6
Ci0gQWRkIHRoZSBpbmZvcm1hdGlvbiBvZiB0aGUgcmV2aWV3ZXIKLSBSZW1vdmUgdW5uZWNlc3Nh
cnkgZGVsYXlzLCBUaGUgdWRlbGF5X3JhbmdlIGNvZGUgZ3JhY2VmdWxseSByZXR1cm5zCiAgICB3
aXRob3V0IGhpdHRpbmcgdGhlIHNjaGVkdWxlciBvbiBhIGRlbGF5IG9mIDAuIChEZXJlaykKLSBN
ZXJnZSB0aGUgc2FtZSBkYXRhIHN0cnVjdHVyZXMsIGxpa2UgZGlzcGxheV9tb2RlIGFuZCBvZmZf
Y21kcyAoRGVyZWspCi0gT3B0aW1pemUgdGhlIHByb2Nlc3Npbmcgb2YgcmVzdWx0cyByZXR1cm5l
ZCBieQogICAgZGV2bV9ncGlvZF9nZXRfb3B0aW9uYWwgKERlcmVrKQoKVjU6Ci0gQWRkIHRoZSBp
bmZvcm1hdGlvbiBvZiB0aGUgcmV2aWV3ZXIgKFNhbSkKLSBEZWxldGUgdW5uZWNlc3NhcnkgaGVh
ZGVyIGZpbGVzICNpbmNsdWRlIDxsaW51eC9mYi5oPiAoU2FtKQotIFRoZSBjb25maWcgRFJNX1BB
TkVMX0JPRV9ISU1BWDgyNzlEIGFwcGVhcnMgdHdpY2UuIERyb3Agb25lIG9mIHRoZW0gKFNhbSkK
LSBBREQgc3RhdGljLCBzZXRfZ3Bpb3MgZnVuY3Rpb24gaXMgbm90IHVzZWQgb3V0c2lkZSB0aGlz
IG1vZHVsZSAoU2FtKQoKVjQ6Ci0gRnJlZml4IGFsbCBmdW5jdGlvbiBtYWVzIHdpdGggYm9lXyAo
U2FtKQotIEZzZWQgImVuYWJsZV9ncGlvIiByZXBsYWNlICJyZXNldF9ncGlvIiwgTWFrZSBpdCBs
b29rIGNsZWFyZXIgKFNhbSkKLSBTb3J0IGluY2x1ZGUgbGluZXMgYWxwaGFiZXRpY2FsbHkgKFNh
bSkKLSBGaXhlZCBlbnRyaWVzIGluIHRoZSBtYWtlZmlsZSBtdXN0IGJlIHNvcnRlZCBhbHBoYWJl
dGljYWxseSAoU2FtKQotIEFkZCBzZW5kX21pcGlfY21kcyBmdW5jdGlvbiB0byBhdm9pZCBkdXBs
aWNhdGluZyB0aGUgY29kZSAoU2FtKQotIEFkZCB0aGUgbmVjZXNzYXJ5IGRlbGF5KHJlc2V0X2Rl
bGF5X3Q1KSBiZXR3ZWVuIHJlc2V0IGFuZCBzZW5kaW5nCiAgICB0aGUgaW5pdGlhbGl6YXRpb24g
Y29tbWFuZCAoUm9jayB3YW5nKQoKVjM6Ci0gUmVtb3ZlIHVubmVjZXNzYXJ5IGRlbGF5cyBpbiBz
ZW5kaW5nIGluaXRpYWxpemF0aW9uIGNvbW1hbmRzIChKaXRhbyBTaGkpCgpWMjoKLSBVc2UgU1BE
WCBpZGVudGlmaWVyIChTYW0pCi0gVXNlIG5lY2Vzc2FyeSBoZWFkZXIgZmlsZXMgcmVwbGFjZSBk
cm1QLmggKFNhbSkKLSBEZWxldGUgdW5uZWNlc3NhcnkgaGVhZGVyIGZpbGVzICNpbmNsdWRlIDxs
aW51eC9lcnIuaD4gKFNhbSkKLSBTcGVjaWZpZXMgYSBHUElPcyBhcnJheSB0byBjb250cm9sIHRo
ZSByZXNldCB0aW1pbmcsCiAgICBpbnN0ZWFkIG9mIHJlYWRpbmcgImRzaS1yZXNldC1zZXF1ZW5j
ZSIgZGF0YSBmcm9tIERUUyAoU2FtKQotIERlbGV0ZSBiYWNrbGlnaHRfZGlzYWJsZSgpIGZ1bmN0
aW9uIHdoZW4gYWxyZWFkeSBkaXNhYmxlZCAoU2FtKQotIFVzZSBkZXZtX29mX2ZpbmRfYmFja2xp
Z2h0KCkgcmVwbGFjZSBvZl9maW5kX2JhY2tsaWdodF9ieV9ub2RlKCkgKFNhbSkKLSBNb3ZlIHRo
ZSBuZWNlc3NhcnkgZGF0YSBpbiB0aGUgRFRTIHRvIHRoZSBjdXJyZW50IGZpbGUsCiAgICBsaWtl
IHBvcmNoLCBkaXNwbGF5X21vZGUgYW5kIEluaXQgY29kZSBldGMuIChTYW0pCi0gQWRkIGNvbXBh
dGlibGUgZGV2aWNlICJib2UsaGltYXg4Mjc5ZDEwcCIgKFNhbSkKClYxOgotIFN1cHBvcnQgQm9l
IEhpbWF4ODI3OWQgOC4wIiAxMjAweDE5MjAgVEZUIExDRCBwYW5lbCwgaXQgaXMgYSBNSVBJIERT
SQogICAgcGFuZWwuCgpTaWduZWQtb2ZmLWJ5OiBKZXJyeSBIYW4gPGplcnJ5Lmhhbi5ocUBnbWFp
bC5jb20+ClJldmlld2VkLWJ5OiBTYW0gUmF2bmJvcmcgPHNhbUByYXZuYm9yZy5vcmc+ClJldmll
d2VkLWJ5OiBEZXJlayBCYXNlaG9yZSA8ZGJhc2Vob3JlQGNocm9taXVtLm9yZz4KUmV2aWV3ZWQt
Ynk6IEVtaWwgVmVsaWtvdiA8ZW1pbC5sLnZlbGlrb3ZAZ21haWwuY29tPgpDYzogSml0YW8gU2hp
IDxqaXRhby5zaGlAbWVkaWF0ZWsuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5l
bC1ib2UtaGltYXg4Mjc5ZC5jIHwgNDUgKysrKysrKysrKy0tLS0tLS0tLS0KIDEgZmlsZSBjaGFu
Z2VkLCAyMiBpbnNlcnRpb25zKCspLCAyMyBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtYm9lLWhpbWF4ODI3OWQuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9wYW5lbC9wYW5lbC1ib2UtaGltYXg4Mjc5ZC5jCmluZGV4IDljOGVjZTRmYTMwYS4uNzc5MGY3
NmQzY2U3IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtYm9lLWhpbWF4
ODI3OWQuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtYm9lLWhpbWF4ODI3OWQu
YwpAQCAtOTEsMTggKzkxLDE3IEBAIHN0YXRpYyBpbnQgc2VuZF9taXBpX2NtZHMoc3RydWN0IGRy
bV9wYW5lbCAqcGFuZWwsIGNvbnN0IHN0cnVjdCBwYW5lbF9jbWQgKmNtZHMpCiAJCWNvbnN0IHN0
cnVjdCBwYW5lbF9jbWQgKmNtZCA9ICZjbWRzW2ldOwogCiAJCWlmIChjbWQtPmxlbiA9PSAyKQot
CQkJZXJyID0gbWlwaV9kc2lfZGNzX3dyaXRlKHBpbmZvLT5saW5rLAotCQkJCQkJICAgIGNtZC0+
ZGF0YVsxXSwgTlVMTCwgMCk7CisJCQllcnIgPSBtaXBpX2RzaV9kY3Nfd3JpdGUocGluZm8tPmxp
bmssIGNtZC0+ZGF0YVsxXSwKKwkJCQkJCSBOVUxMLCAwKTsKIAkJZWxzZQotCQkJZXJyID0gbWlw
aV9kc2lfZGNzX3dyaXRlKHBpbmZvLT5saW5rLAotCQkJCQkJICAgIGNtZC0+ZGF0YVsxXSwgY21k
LT5kYXRhICsgMiwKLQkJCQkJCSAgICBjbWQtPmxlbiAtIDIpOworCQkJZXJyID0gbWlwaV9kc2lf
ZGNzX3dyaXRlKHBpbmZvLT5saW5rLCBjbWQtPmRhdGFbMV0sCisJCQkJCQkgY21kLT5kYXRhICsg
MiwKKwkJCQkJCSBjbWQtPmxlbiAtIDIpOwogCiAJCWlmIChlcnIgPCAwKQogCQkJcmV0dXJuIGVy
cjsKIAotCQl1c2xlZXBfcmFuZ2UoKGNtZC0+ZGF0YVswXSkgKiAxMDAwLAotCQkJICAgICgxICsg
Y21kLT5kYXRhWzBdKSAqIDEwMDApOworCQl1c2xlZXBfcmFuZ2UoKGNtZC0+ZGF0YVswXSkgKiAx
MDAwLCAoMSArIGNtZC0+ZGF0YVswXSkgKiAxMDAwKTsKIAl9CiAKIAlyZXR1cm4gMDsKQEAgLTEz
MCw4ICsxMjksOCBAQCBzdGF0aWMgaW50IGJvZV9wYW5lbF91bnByZXBhcmUoc3RydWN0IGRybV9w
YW5lbCAqcGFuZWwpCiAJLyogc2VuZCBvZmYgY29kZSAqLwogCWVyciA9IHNlbmRfbWlwaV9jbWRz
KHBhbmVsLCBwaW5mby0+ZGVzYy0+b2ZmX2NtZHMpOwogCWlmIChlcnIgPCAwKSB7Ci0JCURSTV9E
RVZfRVJST1IocGFuZWwtPmRldiwKLQkJCQkiZmFpbGVkIHRvIHNlbmQgRENTIE9mZiBDb2RlOiAl
ZFxuIiwgZXJyKTsKKwkJRFJNX0RFVl9FUlJPUihwYW5lbC0+ZGV2LCAiZmFpbGVkIHRvIHNlbmQg
RENTIE9mZiBDb2RlOiAlZFxuIiwKKwkJCSAgICAgIGVycik7CiAJCWdvdG8gcG93ZXJvZmY7CiAJ
fQogCkBAIC0xNzUsOCArMTc0LDggQEAgc3RhdGljIGludCBib2VfcGFuZWxfcHJlcGFyZShzdHJ1
Y3QgZHJtX3BhbmVsICpwYW5lbCkKIAkvKiBzZW5kIGluaXQgY29kZSAqLwogCWVyciA9IHNlbmRf
bWlwaV9jbWRzKHBhbmVsLCBwaW5mby0+ZGVzYy0+b25fY21kcyk7CiAJaWYgKGVyciA8IDApIHsK
LQkJRFJNX0RFVl9FUlJPUihwYW5lbC0+ZGV2LAotCQkJCSJmYWlsZWQgdG8gc2VuZCBEQ1MgSW5p
dCBDb2RlOiAlZFxuIiwgZXJyKTsKKwkJRFJNX0RFVl9FUlJPUihwYW5lbC0+ZGV2LCAiZmFpbGVk
IHRvIHNlbmQgRENTIEluaXQgQ29kZTogJWRcbiIsCisJCQkgICAgICBlcnIpOwogCQlnb3RvIHBv
d2Vyb2ZmOwogCX0KIApAQCAtMjAwLDcgKzE5OSw3IEBAIHN0YXRpYyBpbnQgYm9lX3BhbmVsX2Vu
YWJsZShzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKIAlyZXQgPSBiYWNrbGlnaHRfZW5hYmxlKHBp
bmZvLT5iYWNrbGlnaHQpOwogCWlmIChyZXQpIHsKIAkJRFJNX0RFVl9FUlJPUihwYW5lbC0+ZHJt
LT5kZXYsCi0JCQkJIkZhaWxlZCB0byBlbmFibGUgYmFja2xpZ2h0ICVkXG4iLCByZXQpOworCQkJ
ICAgICAgIkZhaWxlZCB0byBlbmFibGUgYmFja2xpZ2h0ICVkXG4iLCByZXQpOwogCQlyZXR1cm4g
cmV0OwogCX0KIApAQCAtMjE4LDcgKzIxNyw3IEBAIHN0YXRpYyBpbnQgYm9lX3BhbmVsX2dldF9t
b2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKIAltb2RlID0gZHJtX21vZGVfZHVwbGljYXRl
KHBhbmVsLT5kcm0sIG0pOwogCWlmICghbW9kZSkgewogCQlEUk1fREVWX0VSUk9SKHBhbmVsLT5k
cm0tPmRldiwgImZhaWxlZCB0byBhZGQgbW9kZSAldXgldUAldVxuIiwKLQkJCQltLT5oZGlzcGxh
eSwgbS0+dmRpc3BsYXksIG0tPnZyZWZyZXNoKTsKKwkJCSAgICAgIG0tPmhkaXNwbGF5LCBtLT52
ZGlzcGxheSwgbS0+dnJlZnJlc2gpOwogCQlyZXR1cm4gLUVOT01FTTsKIAl9CiAKQEAgLTkyNiwz
MSArOTI1LDMwIEBAIHN0YXRpYyBpbnQgcGFuZWxfYWRkKHN0cnVjdCBwYW5lbF9pbmZvICpwaW5m
bykKIAlzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmcGluZm8tPmxpbmstPmRldjsKIAlpbnQgcmV0Owog
Ci0JcGluZm8tPnBwMThfZ3BpbyA9IGRldm1fZ3Bpb2RfZ2V0X29wdGlvbmFsKGRldiwgInBwMTgi
LCBHUElPRF9PVVRfSElHSCk7CisJcGluZm8tPnBwMThfZ3BpbyA9IGRldm1fZ3Bpb2RfZ2V0KGRl
diwgInBwMTgiLCBHUElPRF9PVVRfSElHSCk7CiAJaWYgKElTX0VSUihwaW5mby0+cHAxOF9ncGlv
KSkgewogCQlyZXQgPSBQVFJfRVJSKHBpbmZvLT5wcDE4X2dwaW8pOwogCQlpZiAocmV0ICE9IC1F
UFJPQkVfREVGRVIpCiAJCQlEUk1fREVWX0VSUk9SKGRldiwgImZhaWxlZCB0byBnZXQgcHAxOCBn
cGlvOiAlZFxuIiwKLQkJCQkJcmV0KTsKKwkJCQkgICAgICByZXQpOwogCQlyZXR1cm4gcmV0Owog
CX0KIAotCXBpbmZvLT5wcDMzX2dwaW8gPSBkZXZtX2dwaW9kX2dldF9vcHRpb25hbChkZXYsICJw
cDMzIiwgR1BJT0RfT1VUX0hJR0gpOworCXBpbmZvLT5wcDMzX2dwaW8gPSBkZXZtX2dwaW9kX2dl
dChkZXYsICJwcDMzIiwgR1BJT0RfT1VUX0hJR0gpOwogCWlmIChJU19FUlIocGluZm8tPnBwMzNf
Z3BpbykpIHsKIAkJcmV0ID0gUFRSX0VSUihwaW5mby0+cHAzM19ncGlvKTsKIAkJaWYgKHJldCAh
PSAtRVBST0JFX0RFRkVSKQogCQkJRFJNX0RFVl9FUlJPUihkZXYsICJmYWlsZWQgdG8gZ2V0IHBw
MzMgZ3BpbzogJWRcbiIsCi0JCQkJCXJldCk7CisJCQkJICAgICAgcmV0KTsKIAkJcmV0dXJuIHJl
dDsKIAl9CiAKLQlwaW5mby0+ZW5hYmxlX2dwaW8gPSBkZXZtX2dwaW9kX2dldF9vcHRpb25hbChk
ZXYsICJlbmFibGUiLAotCQkJCQkJCUdQSU9EX09VVF9ISUdIKTsKKwlwaW5mby0+ZW5hYmxlX2dw
aW8gPSBkZXZtX2dwaW9kX2dldChkZXYsICJlbmFibGUiLCBHUElPRF9PVVRfSElHSCk7CiAJaWYg
KElTX0VSUihwaW5mby0+ZW5hYmxlX2dwaW8pKSB7CiAJCXJldCA9IFBUUl9FUlIocGluZm8tPmVu
YWJsZV9ncGlvKTsKIAkJaWYgKHJldCAhPSAtRVBST0JFX0RFRkVSKQogCQkJRFJNX0RFVl9FUlJP
UihkZXYsICJmYWlsZWQgdG8gZ2V0IGVuYWJsZSBncGlvOiAlZFxuIiwKLQkJCQkJcmV0KTsKKwkJ
CQkgICAgICByZXQpOwogCQlyZXR1cm4gcmV0OwogCX0KIApAQCAtMTAwOSwxNiArMTAwNywxNyBA
QCBzdGF0aWMgaW50IHBhbmVsX3JlbW92ZShzdHJ1Y3QgbWlwaV9kc2lfZGV2aWNlICpkc2kpCiAJ
ZXJyID0gYm9lX3BhbmVsX3VucHJlcGFyZSgmcGluZm8tPmJhc2UpOwogCWlmIChlcnIgPCAwKQog
CQlEUk1fREVWX0VSUk9SKCZkc2ktPmRldiwgImZhaWxlZCB0byB1bnByZXBhcmUgcGFuZWw6ICVk
XG4iLAotCQkJCWVycik7CisJCQkgICAgICBlcnIpOwogCiAJZXJyID0gYm9lX3BhbmVsX2Rpc2Fi
bGUoJnBpbmZvLT5iYXNlKTsKIAlpZiAoZXJyIDwgMCkKLQkJRFJNX0RFVl9FUlJPUigmZHNpLT5k
ZXYsICJmYWlsZWQgdG8gZGlzYWJsZSBwYW5lbDogJWRcbiIsIGVycik7CisJCURSTV9ERVZfRVJS
T1IoJmRzaS0+ZGV2LCAiZmFpbGVkIHRvIGRpc2FibGUgcGFuZWw6ICVkXG4iLAorCQkJICAgICAg
ZXJyKTsKIAogCWVyciA9IG1pcGlfZHNpX2RldGFjaChkc2kpOwogCWlmIChlcnIgPCAwKQogCQlE
Uk1fREVWX0VSUk9SKCZkc2ktPmRldiwgImZhaWxlZCB0byBkZXRhY2ggZnJvbSBEU0kgaG9zdDog
JWRcbiIsCi0JCQkJZXJyKTsKKwkJCSAgICAgIGVycik7CiAKIAlkcm1fcGFuZWxfZGV0YWNoKCZw
aW5mby0+YmFzZSk7CiAJcGFuZWxfZGVsKHBpbmZvKTsKLS0gCjIuMTcuMQoKX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlz
dApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0
b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
