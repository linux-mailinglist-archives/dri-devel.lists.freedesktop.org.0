Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id A8FD224003A
	for <lists+dri-devel@lfdr.de>; Sun,  9 Aug 2020 23:51:58 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3585989F6E;
	Sun,  9 Aug 2020 21:51:55 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-lj1-x243.google.com (mail-lj1-x243.google.com
 [IPv6:2a00:1450:4864:20::243])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 5FB846E09C
 for <dri-devel@lists.freedesktop.org>; Sun,  9 Aug 2020 21:51:53 +0000 (UTC)
Received: by mail-lj1-x243.google.com with SMTP id z14so7559773ljm.1
 for <dri-devel@lists.freedesktop.org>; Sun, 09 Aug 2020 14:51:53 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=linaro.org; s=google;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=nZug/K9T9YLES6b3uiFKmVKlVHWW69qDsPstRKMyoR8=;
 b=b6VlCs6UMYDp8r8nBTp8Qovyt4RWlZy4/NLi1CF+nJCN9G+OHV1vedz1gIeeXDx11d
 WqkrX7DSzbN81CdfVIttBNAcVmBK6AIO2AvfrDrD7MPNYLlrFWuHYXxs/sXU0S7FSf6X
 Ps4f4frh33yEyUnbRWt6QmccPHuopuMRRCO4bbV62ULUCggvw6lgGhvCNlhGe0ys7t30
 6xn+IPt+XNZxNc/f0NKbltkV4SQvuNqzjE4ICJwDLQWRP7NPTA4vfXAQ4K0ag/pCBF6g
 wKy+KKSc0hhS6gthRDdiPQLA/YI36cn9eT9u11kUd1SuTHsavWMK1MJfakwIViZgr3eK
 OKlA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=nZug/K9T9YLES6b3uiFKmVKlVHWW69qDsPstRKMyoR8=;
 b=Yw+QvcjyCNuCYLK6SHmN2WebVykINQIYgeMBkQkLXFhs4ppajC1O04DxGQgE4ST4rp
 +MDGbTwlpiJvaOr7yCRoSeM240AcsMqrhbTvOvGXTGe0bDyWv2jdrzYja7sz9unHTpPl
 z9FPQa9gLIypEakDrqrpuHXSuLkHmiG442vTeqdVCi4l3B5FZ9y9Cjayo1Sn5eU/Vq4d
 +Seb/95u8rPvwrIEvm8JZEVoxdRoBhNgLNKBOvB5PZAhwBT+ngfXdXPpqoV0pm+zdcDQ
 HBOcDPb9sp42eAUHVukFgXx+Zw/vBtWvMngw4uS5vZhKByv8mJrJPSyJ0oxxYBqHTCJC
 2pig==
X-Gm-Message-State: AOAM533LLS9/WUUFaHMM4Ursq2vibUbnAfWW3m0TBxpxipys4rbroDtN
 bLWHIFdxqAEs3jOkmA17KWgUrA==
X-Google-Smtp-Source: ABdhPJw5Hvy3+i7LWV6MwhldVbFUdeFxeKBg8ZFLpnYG7+SdHlThImw68lg3oFpp5RP9lzvivJLopQ==
X-Received: by 2002:a2e:2a04:: with SMTP id q4mr5535639ljq.192.1597009911605; 
 Sun, 09 Aug 2020 14:51:51 -0700 (PDT)
Received: from localhost.bredbandsbolaget
 (c-92d7225c.014-348-6c756e10.bbcust.telenor.se. [92.34.215.146])
 by smtp.gmail.com with ESMTPSA id t20sm8277045ljd.12.2020.08.09.14.51.50
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Sun, 09 Aug 2020 14:51:51 -0700 (PDT)
From: Linus Walleij <linus.walleij@linaro.org>
To: Thierry Reding <thierry.reding@gmail.com>, Sam Ravnborg <sam@ravnborg.org>,
 Stephan Gerhold <stephan@gerhold.net>,
 =?UTF-8?q?Pawe=C5=82=20Chmiel?= <pawel.mikolaj.chmiel@gmail.com>
Subject: [PATCH 1/4] drm/panel: s6e63m0: Break out SPI transport
Date: Sun,  9 Aug 2020 23:51:01 +0200
Message-Id: <20200809215104.1830206-2-linus.walleij@linaro.org>
X-Mailer: git-send-email 2.26.2
In-Reply-To: <20200809215104.1830206-1-linus.walleij@linaro.org>
References: <20200809215104.1830206-1-linus.walleij@linaro.org>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhpcyBwYW5lbCBjYW4gYmUgYWNjZXNzZWQgdXNpbmcgYm90aCBTUEkgYW5kIERTSS4KClRvIG1h
a2UgaXQgcG9zc2libGUgdG8gcHJvYmUgYW5kIHVzZSB0aGUgZGV2aWNlIGFsc28gZnJvbQphIERT
SSBidXMsIGZpcnN0IGJyZWFrIG91dCB0aGUgU1BJIHN1cHBvcnQgdG8gaXRzIG93biBmaWxlLgoK
U2luY2UgYWxsIHRoZSBwYW5lbCBkcml2ZXIgZG9lcyBpcyB3cml0ZSBEQ1MgY29tbWFuZHMgdG8K
dGhlIHBhbmVsLCB3ZSBwYXNzIGEgRENTIHdyaXRlIGZ1bmN0aW9uIHRvIHByb2JlKCkKZnJvbSBl
YWNoIHN1YmRyaXZlci4KCldlIG1ha2UgdGhlIEtjb25maWcgZW50cnkgZm9yIFNQSSBtb2RlIGRl
ZmF1bHQgc28gYWxsCmN1cnJlbnQgdXNlcnMgd2lsbCBjb250aW51ZSB0byB3b3JrLgoKQ2M6IFN0
ZXBoYW4gR2VyaG9sZCA8c3RlcGhhbkBnZXJob2xkLm5ldD4KQ2M6IFBhd2XFgiBDaG1pZWwgPHBh
d2VsLm1pa29sYWouY2htaWVsQGdtYWlsLmNvbT4KU2lnbmVkLW9mZi1ieTogTGludXMgV2FsbGVp
aiA8bGludXMud2FsbGVpakBsaW5hcm8ub3JnPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9L
Y29uZmlnICAgICAgICAgICAgICAgICB8IDE1ICsrKy0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9N
YWtlZmlsZSAgICAgICAgICAgICAgICB8ICAxICsKIC4uLi9ncHUvZHJtL3BhbmVsL3BhbmVsLXNh
bXN1bmctczZlNjNtMC1zcGkuYyB8IDg5ICsrKysrKysrKysrKysrKysrKysKIGRyaXZlcnMvZ3B1
L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZTYzbTAuYyB8IDgwICsrKy0tLS0tLS0tLS0tLS0t
CiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ftc3VuZy1zNmU2M20wLmggfCAxMCArKysK
IDUgZmlsZXMgY2hhbmdlZCwgMTI0IGluc2VydGlvbnMoKyksIDcxIGRlbGV0aW9ucygtKQogY3Jl
YXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZTYz
bTAtc3BpLmMKIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwt
c2Ftc3VuZy1zNmU2M20wLmgKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvS2Nv
bmZpZyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9LY29uZmlnCmluZGV4IDM5MDU1YzFmMGUyZi4u
OTZlMTU0OGU0NzVmIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvS2NvbmZpZwor
KysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvS2NvbmZpZwpAQCAtMzI2LDEzICszMjYsMjIgQEAg
Y29uZmlnIERSTV9QQU5FTF9TQU1TVU5HX1M2RTYzSjBYMDMKIAlzZWxlY3QgVklERU9NT0RFX0hF
TFBFUlMKIAogY29uZmlnIERSTV9QQU5FTF9TQU1TVU5HX1M2RTYzTTAKLQl0cmlzdGF0ZSAiU2Ft
c3VuZyBTNkU2M00wIFJHQi9TUEkgcGFuZWwiCisJdHJpc3RhdGUgIlNhbXN1bmcgUzZFNjNNMCBS
R0IgcGFuZWwiCiAJZGVwZW5kcyBvbiBPRgotCWRlcGVuZHMgb24gU1BJCiAJZGVwZW5kcyBvbiBC
QUNLTElHSFRfQ0xBU1NfREVWSUNFCiAJaGVscAogCSAgU2F5IFkgaGVyZSBpZiB5b3Ugd2FudCB0
byBlbmFibGUgc3VwcG9ydCBmb3IgU2Ftc3VuZyBTNkU2M00wCi0JICBBTU9MRUQgTENEIHBhbmVs
LgorCSAgQU1PTEVEIExDRCBwYW5lbC4gVGhpcyBwYW5lbCBjYW4gYmUgYWNjZXNzZWQgdXNpbmcg
U1BJIG9yCisJICBEU0kuCisKK2NvbmZpZyBEUk1fUEFORUxfU0FNU1VOR19TNkU2M00wX1NQSQor
CXRyaXN0YXRlICJTYW1zdW5nIFM2RTYzTTAgUkdCIFNQSSBpbnRlcmZhY2UiCisJZGVwZW5kcyBv
biBTUEkKKwlkZXBlbmRzIG9uIERSTV9QQU5FTF9TQU1TVU5HX1M2RTYzTTAKKwlkZWZhdWx0IERS
TV9QQU5FTF9TQU1TVU5HX1M2RTYzTTAKKwloZWxwCisJICBTYXkgWSBoZXJlIGlmIHlvdSB3YW50
IHRvIGJlIGFibGUgdG8gYWNjZXNzIHRoZSBTYW1zdW5nCisJICBTNkU2M00wIHBhbmVsIHVzaW5n
IFNQSS4KIAogY29uZmlnIERSTV9QQU5FTF9TQU1TVU5HX1M2RTg4QTBfQU1TNDUyRUYwMQogCXRy
aXN0YXRlICJTYW1zdW5nIEFNUzQ1MkVGMDEgcGFuZWwgd2l0aCBTNkU4OEEwIERTSSB2aWRlbyBt
b2RlIGNvbnRyb2xsZXIiCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvTWFrZWZp
bGUgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvTWFrZWZpbGUKaW5kZXggZGU3NGYyODJjNDMzLi45
Y2Y3MWFkZmE3OTQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9NYWtlZmlsZQor
KysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvTWFrZWZpbGUKQEAgLTM0LDYgKzM0LDcgQEAgb2Jq
LSQoQ09ORklHX0RSTV9QQU5FTF9TQU1TVU5HX1M2RDE2RDApICs9IHBhbmVsLXNhbXN1bmctczZk
MTZkMC5vCiBvYmotJChDT05GSUdfRFJNX1BBTkVMX1NBTVNVTkdfUzZFM0hBMikgKz0gcGFuZWwt
c2Ftc3VuZy1zNmUzaGEyLm8KIG9iai0kKENPTkZJR19EUk1fUEFORUxfU0FNU1VOR19TNkU2M0ow
WDAzKSArPSBwYW5lbC1zYW1zdW5nLXM2ZTYzajB4MDMubwogb2JqLSQoQ09ORklHX0RSTV9QQU5F
TF9TQU1TVU5HX1M2RTYzTTApICs9IHBhbmVsLXNhbXN1bmctczZlNjNtMC5vCitvYmotJChDT05G
SUdfRFJNX1BBTkVMX1NBTVNVTkdfUzZFNjNNMF9TUEkpICs9IHBhbmVsLXNhbXN1bmctczZlNjNt
MC1zcGkubwogb2JqLSQoQ09ORklHX0RSTV9QQU5FTF9TQU1TVU5HX1M2RTg4QTBfQU1TNDUyRUYw
MSkgKz0gcGFuZWwtc2Ftc3VuZy1zNmU4OGEwLWFtczQ1MmVmMDEubwogb2JqLSQoQ09ORklHX0RS
TV9QQU5FTF9TQU1TVU5HX1M2RThBQTApICs9IHBhbmVsLXNhbXN1bmctczZlOGFhMC5vCiBvYmot
JChDT05GSUdfRFJNX1BBTkVMX1NFSUtPXzQzV1ZGMUcpICs9IHBhbmVsLXNlaWtvLTQzd3ZmMWcu
bwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZlNjNt
MC1zcGkuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZTYzbTAtc3Bp
LmMKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAwLi40MDgyZmJkNzViNzkK
LS0tIC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ftc3VuZy1z
NmU2M20wLXNwaS5jCkBAIC0wLDAgKzEsODkgQEAKKy8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVy
OiBHUEwtMi4wCisKKyNpbmNsdWRlIDxsaW51eC9kZXZpY2UuaD4KKyNpbmNsdWRlIDxsaW51eC9t
b2R1bGUuaD4KKyNpbmNsdWRlIDxsaW51eC9zcGkvc3BpLmg+CisjaW5jbHVkZSA8bGludXgvZGVs
YXkuaD4KKworI2luY2x1ZGUgPGRybS9kcm1fcHJpbnQuaD4KKworI2luY2x1ZGUgInBhbmVsLXNh
bXN1bmctczZlNjNtMC5oIgorCisjZGVmaW5lIERBVEFfTUFTSwkweDEwMAorCitzdGF0aWMgaW50
IHM2ZTYzbTBfc3BpX3dyaXRlX3dvcmQoc3RydWN0IGRldmljZSAqZGV2LCB1MTYgZGF0YSkKK3sK
KwlzdHJ1Y3Qgc3BpX2RldmljZSAqc3BpID0gdG9fc3BpX2RldmljZShkZXYpOworCXN0cnVjdCBz
cGlfdHJhbnNmZXIgeGZlciA9IHsKKwkJLmxlbgk9IDIsCisJCS50eF9idWYgPSAmZGF0YSwKKwl9
OworCXN0cnVjdCBzcGlfbWVzc2FnZSBtc2c7CisKKwlzcGlfbWVzc2FnZV9pbml0KCZtc2cpOwor
CXNwaV9tZXNzYWdlX2FkZF90YWlsKCZ4ZmVyLCAmbXNnKTsKKworCXJldHVybiBzcGlfc3luYyhz
cGksICZtc2cpOworfQorCitzdGF0aWMgaW50IHM2ZTYzbTBfc3BpX2Rjc193cml0ZShzdHJ1Y3Qg
ZGV2aWNlICpkZXYsIGNvbnN0IHU4ICpkYXRhLCBzaXplX3QgbGVuKQoreworCWludCByZXQgPSAw
OworCisJRFJNX0RFVl9ERUJVRyhkZXYsICJTUEkgd3JpdGluZyBkY3Mgc2VxOiAlKnBoXG4iLCAo
aW50KWxlbiwgZGF0YSk7CisJcmV0ID0gczZlNjNtMF9zcGlfd3JpdGVfd29yZChkZXYsICpkYXRh
KTsKKworCXdoaWxlICghcmV0ICYmIC0tbGVuKSB7CisJCSsrZGF0YTsKKwkJcmV0ID0gczZlNjNt
MF9zcGlfd3JpdGVfd29yZChkZXYsICpkYXRhIHwgREFUQV9NQVNLKTsKKwl9CisKKwlpZiAocmV0
KSB7CisJCURSTV9ERVZfRVJST1IoZGV2LCAiU1BJIGVycm9yICVkIHdyaXRpbmcgZGNzIHNlcTog
JSpwaFxuIiwgcmV0LAorCQkJICAgICAgKGludClsZW4sIGRhdGEpOworCX0KKworCXVzbGVlcF9y
YW5nZSgzMDAsIDMxMCk7CisKKwlyZXR1cm4gcmV0OworfQorCitzdGF0aWMgaW50IHM2ZTYzbTBf
c3BpX3Byb2JlKHN0cnVjdCBzcGlfZGV2aWNlICpzcGkpCit7CisJc3RydWN0IGRldmljZSAqZGV2
ID0gJnNwaS0+ZGV2OworCWludCByZXQ7CisKKwlzcGktPmJpdHNfcGVyX3dvcmQgPSA5OworCXNw
aS0+bW9kZSA9IFNQSV9NT0RFXzM7CisJcmV0ID0gc3BpX3NldHVwKHNwaSk7CisJaWYgKHJldCA8
IDApIHsKKwkJRFJNX0RFVl9FUlJPUihkZXYsICJzcGkgc2V0dXAgZmFpbGVkLlxuIik7CisJCXJl
dHVybiByZXQ7CisJfQorCXJldHVybiBzNmU2M20wX3Byb2JlKGRldiwgczZlNjNtMF9zcGlfZGNz
X3dyaXRlKTsKK30KKworc3RhdGljIGludCBzNmU2M20wX3NwaV9yZW1vdmUoc3RydWN0IHNwaV9k
ZXZpY2UgKnNwaSkKK3sKKwlyZXR1cm4gczZlNjNtMF9yZW1vdmUoJnNwaS0+ZGV2KTsKK30KKwor
c3RhdGljIGNvbnN0IHN0cnVjdCBvZl9kZXZpY2VfaWQgczZlNjNtMF9zcGlfb2ZfbWF0Y2hbXSA9
IHsKKwl7IC5jb21wYXRpYmxlID0gInNhbXN1bmcsczZlNjNtMCIgfSwKKwl7IC8qIHNlbnRpbmVs
ICovIH0KK307CitNT0RVTEVfREVWSUNFX1RBQkxFKG9mLCBzNmU2M20wX3NwaV9vZl9tYXRjaCk7
CisKK3N0YXRpYyBzdHJ1Y3Qgc3BpX2RyaXZlciBzNmU2M20wX3NwaV9kcml2ZXIgPSB7CisJLnBy
b2JlCQkJPSBzNmU2M20wX3NwaV9wcm9iZSwKKwkucmVtb3ZlCQkJPSBzNmU2M20wX3NwaV9yZW1v
dmUsCisJLmRyaXZlcgkJCT0geworCQkubmFtZQkJPSAicGFuZWwtc2Ftc3VuZy1zNmU2M20wIiwK
KwkJLm9mX21hdGNoX3RhYmxlID0gczZlNjNtMF9zcGlfb2ZfbWF0Y2gsCisJfSwKK307Cittb2R1
bGVfc3BpX2RyaXZlcihzNmU2M20wX3NwaV9kcml2ZXIpOworCitNT0RVTEVfQVVUSE9SKCJQYXdl
xYIgQ2htaWVsIDxwYXdlbC5taWtvbGFqLmNobWllbEBnbWFpbC5jb20+Iik7CitNT0RVTEVfREVT
Q1JJUFRJT04oInM2ZTYzbTAgTENEIFNQSSBEcml2ZXIiKTsKK01PRFVMRV9MSUNFTlNFKCJHUEwg
djIiKTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2
ZTYzbTAuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZTYzbTAuYwpp
bmRleCBhNWY3NmViNGZhMjUuLjYxMDY3NmVmOGE3NSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZlNjNtMC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9w
YW5lbC9wYW5lbC1zYW1zdW5nLXM2ZTYzbTAuYwpAQCAtMTcsMTAgKzE3LDExIEBACiAjaW5jbHVk
ZSA8bGludXgvZ3Bpby9jb25zdW1lci5oPgogI2luY2x1ZGUgPGxpbnV4L21vZHVsZS5oPgogI2lu
Y2x1ZGUgPGxpbnV4L3JlZ3VsYXRvci9jb25zdW1lci5oPgotI2luY2x1ZGUgPGxpbnV4L3NwaS9z
cGkuaD4KIAogI2luY2x1ZGUgPHZpZGVvL21pcGlfZGlzcGxheS5oPgogCisjaW5jbHVkZSAicGFu
ZWwtc2Ftc3VuZy1zNmU2M20wLmgiCisKIC8qIE1hbnVmYWN0dXJlciBDb21tYW5kIFNldCAqLwog
I2RlZmluZSBNQ1NfRUxWU1NfT04gICAgICAgICAgICAgICAgMHhiMQogI2RlZmluZSBNQ1NfTUlF
Q1RMMSAgICAgICAgICAgICAgICAweGMwCkBAIC0zNCw4ICszNSw2IEBACiAjZGVmaW5lIE5VTV9H
QU1NQV9MRVZFTFMgICAgICAgICAgICAgMTEKICNkZWZpbmUgR0FNTUFfVEFCTEVfQ09VTlQgICAg
ICAgICAgIDIzCiAKLSNkZWZpbmUgREFUQV9NQVNLICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgMHgxMDAKLQogI2RlZmluZSBNQVhfQlJJR0hUTkVTUyAgICAgICAgICAgICAg
KE5VTV9HQU1NQV9MRVZFTFMgLSAxKQogCiAvKiBhcnJheSBvZiBnYW1tYSB0YWJsZXMgZm9yIGdh
bW1hIHZhbHVlIDIuMiAqLwpAQCAtODgsNiArODcsNyBAQCBzdGF0aWMgdTggY29uc3QgczZlNjNt
MF9nYW1tYV8yMltOVU1fR0FNTUFfTEVWRUxTXVtHQU1NQV9UQUJMRV9DT1VOVF0gPSB7CiAKIHN0
cnVjdCBzNmU2M20wIHsKIAlzdHJ1Y3QgZGV2aWNlICpkZXY7CisJaW50ICgqZGNzX3dyaXRlKShz
dHJ1Y3QgZGV2aWNlICpkZXYsIGNvbnN0IHU4ICpkYXRhLCBzaXplX3QgbGVuKTsKIAlzdHJ1Y3Qg
ZHJtX3BhbmVsIHBhbmVsOwogCXN0cnVjdCBiYWNrbGlnaHRfZGV2aWNlICpibF9kZXY7CiAKQEAg
LTEzNiw0MyArMTM2LDEyIEBAIHN0YXRpYyBpbnQgczZlNjNtMF9jbGVhcl9lcnJvcihzdHJ1Y3Qg
czZlNjNtMCAqY3R4KQogCXJldHVybiByZXQ7CiB9CiAKLXN0YXRpYyBpbnQgczZlNjNtMF9zcGlf
d3JpdGVfd29yZChzdHJ1Y3QgczZlNjNtMCAqY3R4LCB1MTYgZGF0YSkKLXsKLQlzdHJ1Y3Qgc3Bp
X2RldmljZSAqc3BpID0gdG9fc3BpX2RldmljZShjdHgtPmRldik7Ci0Jc3RydWN0IHNwaV90cmFu
c2ZlciB4ZmVyID0gewotCQkubGVuCT0gMiwKLQkJLnR4X2J1ZiA9ICZkYXRhLAotCX07Ci0Jc3Ry
dWN0IHNwaV9tZXNzYWdlIG1zZzsKLQotCXNwaV9tZXNzYWdlX2luaXQoJm1zZyk7Ci0Jc3BpX21l
c3NhZ2VfYWRkX3RhaWwoJnhmZXIsICZtc2cpOwotCi0JcmV0dXJuIHNwaV9zeW5jKHNwaSwgJm1z
Zyk7Ci19Ci0KIHN0YXRpYyB2b2lkIHM2ZTYzbTBfZGNzX3dyaXRlKHN0cnVjdCBzNmU2M20wICpj
dHgsIGNvbnN0IHU4ICpkYXRhLCBzaXplX3QgbGVuKQogewotCWludCByZXQgPSAwOwotCiAJaWYg
KGN0eC0+ZXJyb3IgPCAwIHx8IGxlbiA9PSAwKQogCQlyZXR1cm47CiAKLQlEUk1fREVWX0RFQlVH
KGN0eC0+ZGV2LCAid3JpdGluZyBkY3Mgc2VxOiAlKnBoXG4iLCAoaW50KWxlbiwgZGF0YSk7Ci0J
cmV0ID0gczZlNjNtMF9zcGlfd3JpdGVfd29yZChjdHgsICpkYXRhKTsKLQotCXdoaWxlICghcmV0
ICYmIC0tbGVuKSB7Ci0JCSsrZGF0YTsKLQkJcmV0ID0gczZlNjNtMF9zcGlfd3JpdGVfd29yZChj
dHgsICpkYXRhIHwgREFUQV9NQVNLKTsKLQl9Ci0KLQlpZiAocmV0KSB7Ci0JCURSTV9ERVZfRVJS
T1IoY3R4LT5kZXYsICJlcnJvciAlZCB3cml0aW5nIGRjcyBzZXE6ICUqcGhcbiIsIHJldCwKLQkJ
CSAgICAgIChpbnQpbGVuLCBkYXRhKTsKLQkJY3R4LT5lcnJvciA9IHJldDsKLQl9Ci0KLQl1c2xl
ZXBfcmFuZ2UoMzAwLCAzMTApOworCWN0eC0+ZXJyb3IgPSBjdHgtPmRjc193cml0ZShjdHgtPmRl
diwgZGF0YSwgbGVuKTsKIH0KIAogI2RlZmluZSBzNmU2M20wX2Rjc193cml0ZV9zZXFfc3RhdGlj
KGN0eCwgc2VxIC4uLikgXApAQCAtNDMzLDkgKzQwMiw5IEBAIHN0YXRpYyBpbnQgczZlNjNtMF9i
YWNrbGlnaHRfcmVnaXN0ZXIoc3RydWN0IHM2ZTYzbTAgKmN0eCkKIAlyZXR1cm4gcmV0OwogfQog
Ci1zdGF0aWMgaW50IHM2ZTYzbTBfcHJvYmUoc3RydWN0IHNwaV9kZXZpY2UgKnNwaSkKK2ludCBz
NmU2M20wX3Byb2JlKHN0cnVjdCBkZXZpY2UgKmRldiwKKwkJICBpbnQgKCpkY3Nfd3JpdGUpKHN0
cnVjdCBkZXZpY2UgKmRldiwgY29uc3QgdTggKmRhdGEsIHNpemVfdCBsZW4pKQogewotCXN0cnVj
dCBkZXZpY2UgKmRldiA9ICZzcGktPmRldjsKIAlzdHJ1Y3QgczZlNjNtMCAqY3R4OwogCWludCBy
ZXQ7CiAKQEAgLTQ0Myw3ICs0MTIsOCBAQCBzdGF0aWMgaW50IHM2ZTYzbTBfcHJvYmUoc3RydWN0
IHNwaV9kZXZpY2UgKnNwaSkKIAlpZiAoIWN0eCkKIAkJcmV0dXJuIC1FTk9NRU07CiAKLQlzcGlf
c2V0X2RydmRhdGEoc3BpLCBjdHgpOworCWN0eC0+ZGNzX3dyaXRlID0gZGNzX3dyaXRlOworCWRl
dl9zZXRfZHJ2ZGF0YShkZXYsIGN0eCk7CiAKIAljdHgtPmRldiA9IGRldjsKIAljdHgtPmVuYWJs
ZWQgPSBmYWxzZTsKQEAgLTQ2NSwxNCArNDM1LDYgQEAgc3RhdGljIGludCBzNmU2M20wX3Byb2Jl
KHN0cnVjdCBzcGlfZGV2aWNlICpzcGkpCiAJCXJldHVybiBQVFJfRVJSKGN0eC0+cmVzZXRfZ3Bp
byk7CiAJfQogCi0Jc3BpLT5iaXRzX3Blcl93b3JkID0gOTsKLQlzcGktPm1vZGUgPSBTUElfTU9E
RV8zOwotCXJldCA9IHNwaV9zZXR1cChzcGkpOwotCWlmIChyZXQgPCAwKSB7Ci0JCURSTV9ERVZf
RVJST1IoZGV2LCAic3BpIHNldHVwIGZhaWxlZC5cbiIpOwotCQlyZXR1cm4gcmV0OwotCX0KLQog
CWRybV9wYW5lbF9pbml0KCZjdHgtPnBhbmVsLCBkZXYsICZzNmU2M20wX2RybV9mdW5jcywKIAkJ
ICAgICAgIERSTV9NT0RFX0NPTk5FQ1RPUl9EUEkpOwogCkBAIC00ODIsMzIgKzQ0NCwxNCBAQCBz
dGF0aWMgaW50IHM2ZTYzbTBfcHJvYmUoc3RydWN0IHNwaV9kZXZpY2UgKnNwaSkKIAogCXJldHVy
biBkcm1fcGFuZWxfYWRkKCZjdHgtPnBhbmVsKTsKIH0KK0VYUE9SVF9TWU1CT0xfR1BMKHM2ZTYz
bTBfcHJvYmUpOwogCi1zdGF0aWMgaW50IHM2ZTYzbTBfcmVtb3ZlKHN0cnVjdCBzcGlfZGV2aWNl
ICpzcGkpCitpbnQgczZlNjNtMF9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQogewotCXN0cnVj
dCBzNmU2M20wICpjdHggPSBzcGlfZ2V0X2RydmRhdGEoc3BpKTsKKwlzdHJ1Y3QgczZlNjNtMCAq
Y3R4ID0gZGV2X2dldF9kcnZkYXRhKGRldik7CiAKIAlkcm1fcGFuZWxfcmVtb3ZlKCZjdHgtPnBh
bmVsKTsKIAogCXJldHVybiAwOwogfQotCi1zdGF0aWMgY29uc3Qgc3RydWN0IG9mX2RldmljZV9p
ZCBzNmU2M20wX29mX21hdGNoW10gPSB7Ci0JeyAuY29tcGF0aWJsZSA9ICJzYW1zdW5nLHM2ZTYz
bTAiIH0sCi0JeyAvKiBzZW50aW5lbCAqLyB9Ci19OwotTU9EVUxFX0RFVklDRV9UQUJMRShvZiwg
czZlNjNtMF9vZl9tYXRjaCk7Ci0KLXN0YXRpYyBzdHJ1Y3Qgc3BpX2RyaXZlciBzNmU2M20wX2Ry
aXZlciA9IHsKLQkucHJvYmUJCQk9IHM2ZTYzbTBfcHJvYmUsCi0JLnJlbW92ZQkJCT0gczZlNjNt
MF9yZW1vdmUsCi0JLmRyaXZlcgkJCT0gewotCQkubmFtZQkJPSAicGFuZWwtc2Ftc3VuZy1zNmU2
M20wIiwKLQkJLm9mX21hdGNoX3RhYmxlID0gczZlNjNtMF9vZl9tYXRjaCwKLQl9LAotfTsKLW1v
ZHVsZV9zcGlfZHJpdmVyKHM2ZTYzbTBfZHJpdmVyKTsKLQotTU9EVUxFX0FVVEhPUigiUGF3ZcWC
IENobWllbCA8cGF3ZWwubWlrb2xhai5jaG1pZWxAZ21haWwuY29tPiIpOwotTU9EVUxFX0RFU0NS
SVBUSU9OKCJzNmU2M20wIExDRCBEcml2ZXIiKTsKLU1PRFVMRV9MSUNFTlNFKCJHUEwgdjIiKTsK
K0VYUE9SVF9TWU1CT0xfR1BMKHM2ZTYzbTBfcmVtb3ZlKTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZTYzbTAuaCBiL2RyaXZlcnMvZ3B1L2RybS9w
YW5lbC9wYW5lbC1zYW1zdW5nLXM2ZTYzbTAuaApuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAw
MDAwMDAwMDAwMDAuLjQ0ZTMxZjM5ZjIxMQotLS0gL2Rldi9udWxsCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZTYzbTAuaApAQCAtMCwwICsxLDEwIEBACisvKiBT
UERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMCAqLworCisjaWZuZGVmIF9QQU5FTF9TQU1T
VU5HX1M2RTYzTTBfSAorI2RlZmluZSBfUEFORUxfU0FNU1VOR19TNkU2M00wX0gKKworaW50IHM2
ZTYzbTBfcHJvYmUoc3RydWN0IGRldmljZSAqZGV2LAorCQkgIGludCAoKmRjc193cml0ZSkoc3Ry
dWN0IGRldmljZSAqZGV2LCBjb25zdCB1OCAqZGF0YSwgc2l6ZV90IGxlbikpOworaW50IHM2ZTYz
bTBfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldik7CisKKyNlbmRpZiAvKiBfUEFORUxfU0FNU1VO
R19TNkU2M00wX0ggKi8KLS0gCjIuMjYuMgoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlz
dGluZm8vZHJpLWRldmVsCg==
