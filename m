Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id D6C4B10F01A
	for <lists+dri-devel@lfdr.de>; Mon,  2 Dec 2019 20:33:19 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id BC8896E2CD;
	Mon,  2 Dec 2019 19:33:17 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-lf1-x144.google.com (mail-lf1-x144.google.com
 [IPv6:2a00:1450:4864:20::144])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A80E96E2CD
 for <dri-devel@lists.freedesktop.org>; Mon,  2 Dec 2019 19:33:15 +0000 (UTC)
Received: by mail-lf1-x144.google.com with SMTP id l14so756476lfh.10
 for <dri-devel@lists.freedesktop.org>; Mon, 02 Dec 2019 11:33:15 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:sender:from:to:cc:subject:date:message-id
 :in-reply-to:references:mime-version:content-transfer-encoding;
 bh=IGvO+0xUXURYlKsBh3J5hHpZK9r2fHSXOrcSPvha2C8=;
 b=Pd1z8Zax39qQNkSuqRWqyvgsbwDSMwNHBje9lQaOxifRwvz9OrszZMln9Xj31BOJB4
 fnqnLBkxDp2cGJ91vN74J/jtm0f9Am9Z0mjaeMbkmJPLnooiTlyJ/OBiFIabpiE9vvqL
 jHC+5PN+6YTjDJW7SRtEHnfD3CAeRTHUi142vhR1cFJs6zYpAbdPmIZEpis1lZOHXBDI
 velJIz9Js3XenfqhYwVyjU/+P6bglKQ371noz/GIQT/ocKOJebUyTqP7HkoK5Ab6ie24
 M+bt206IOi4JXINKH+SKSlE5S6Z847cj6Jxn6T2a0xs3lApMzRPycVfF/WH8KJc39g7+
 +3Yg==
X-Gm-Message-State: APjAAAWUaeKsYm60n/sx+gI+PjQGYRZ2EIQaIiI1A/U2vn6gZbnaGlsD
 HsNCyolFa26MMsgYcM6WEFTyqlIRQ8HQDw==
X-Google-Smtp-Source: APXvYqwiyN3Ni8kOwAwaSHEtmfm8NSqTfI1JTrh4rqOYqDc6DJG7i0EoIz6D11uM67yv7f3L1uwJnQ==
X-Received: by 2002:a19:74a:: with SMTP id 71mr400767lfh.127.1575315193565;
 Mon, 02 Dec 2019 11:33:13 -0800 (PST)
Received: from saturn.lan (18.158-248-194.customer.lyse.net. [158.248.194.18])
 by smtp.gmail.com with ESMTPSA id
 g13sm79482lfb.74.2019.12.02.11.33.10
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Mon, 02 Dec 2019 11:33:12 -0800 (PST)
From: Sam Ravnborg <sam@ravnborg.org>
To: dri-devel@lists.freedesktop.org, Thierry Reding <thierry.reding@gmail.com>,
 Laurent Pinchart <laurent.pinchart@ideasonboard.com>
Subject: [PATCH v1 05/26] drm/panel: add drm_connector argument to get_modes()
Date: Mon,  2 Dec 2019 20:32:09 +0100
Message-Id: <20191202193230.21310-6-sam@ravnborg.org>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20191202193230.21310-1-sam@ravnborg.org>
References: <20191202193230.21310-1-sam@ravnborg.org>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=sender:from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=IGvO+0xUXURYlKsBh3J5hHpZK9r2fHSXOrcSPvha2C8=;
 b=TO/IXOjYwQKoCBMO3dJFcbPjRiNPctl7a7IYgNjrIkhuV0VSV+C5S7enpnOYTnAHI0
 JI7sLNslAiB+7xJ/t625LnyF+ZOPz8FyvjTgVsT31DrGFHzxN2y/MGxb4ClZ+DSFY7jW
 Mc1kgMv3FH/LSEjCTjwCYwa/HVAvZpCFWsjyug7t8GPV4spY4whe6+fLTYFTvsyaDSF8
 2aOeWjfPH+FLe5w6F3IdD4e4u68mrERFtFfPJXVHzDDecZg+acLEjGMdYuWGbbk4u9+9
 iPt8452h8L024dLJl/cDNzof82VqBn+S5Oloh1izEorSiwt6IKWiQkXhYRaEH8vggWO/
 gD4Q==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Neil Armstrong <narmstrong@baylibre.com>, David Airlie <airlied@linux.ie>,
 Sam Ravnborg <sam@ravnborg.org>, linux-samsung-soc@vger.kernel.org,
 Stefan Mavrodiev <stefan@olimex.com>, linux-rockchip@lists.infradead.org,
 Tomi Valkeinen <tomi.valkeinen@ti.com>,
 Jagan Teki <jagan@amarulasolutions.com>, Robert Chiras <robert.chiras@nxp.com>,
 =?UTF-8?q?Guido=20G=C3=BCnther?= <agx@sigxcpu.org>,
 NXP Linux Team <linux-imx@nxp.com>, Jitao Shi <jitao.shi@mediatek.com>,
 Pengutronix Kernel Team <kernel@pengutronix.de>,
 linux-mediatek@lists.infradead.org, Abhinav Kumar <abhinavk@codeaurora.org>,
 linux-tegra@vger.kernel.org, Sean Paul <sean@poorly.run>,
 linux-arm-kernel@lists.infradead.org, Purism Kernel Team <kernel@puri.sm>,
 linux-renesas-soc@vger.kernel.org,
 Boris Brezillon <boris.brezillon@collabora.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VG9kYXkgdGhlIGJyaWRnZSBjcmVhdGVzIHRoZSBkcm1fY29ubmVjdG9yLCBidXQgdGhhdCBpcyBw
bGFubmVkCnRvIGJlIG1vdmVkIHRvIHRoZSBkaXNwbGF5IGRyaXZlcnMuClRvIGZhY2lsaXRhdGUg
dGhpcywgdXBkYXRlIGRybV9wYW5lbF9mdW5jcy5nZXRfbW9kZXMoKSB0bwp0YWtlIGRybV9jb25u
ZWN0b3IgYXMgYW4gYXJndW1lbnQuCkFsbCBwYW5lbCBkcml2ZXJzIGltcGxlbWVudGluZyBnZXRf
bW9kZXMoKSBhcmUgdXBkYXRlZC4KClNpZ25lZC1vZmYtYnk6IFNhbSBSYXZuYm9yZyA8c2FtQHJh
dm5ib3JnLm9yZz4KQ2M6IFRoaWVycnkgUmVkaW5nIDx0aGllcnJ5LnJlZGluZ0BnbWFpbC5jb20+
CkNjOiBMYXVyZW50IFBpbmNoYXJ0IDxsYXVyZW50LnBpbmNoYXJ0QGlkZWFzb25ib2FyZC5jb20+
CkNjOiBTYW0gUmF2bmJvcmcgPHNhbUByYXZuYm9yZy5vcmc+CkNjOiBNYWFydGVuIExhbmtob3Jz
dCA8bWFhcnRlbi5sYW5raG9yc3RAbGludXguaW50ZWwuY29tPgpDYzogTWF4aW1lIFJpcGFyZCA8
bXJpcGFyZEBrZXJuZWwub3JnPgpDYzogRGF2aWQgQWlybGllIDxhaXJsaWVkQGxpbnV4LmllPgpD
YzogRGFuaWVsIFZldHRlciA8ZGFuaWVsQGZmd2xsLmNoPgpDYzogTGludXMgV2FsbGVpaiA8bGlu
dXMud2FsbGVpakBsaW5hcm8ub3JnPgpDYzogSmFnYW4gVGVraSA8amFnYW5AYW1hcnVsYXNvbHV0
aW9ucy5jb20+CkNjOiBTdGVmYW4gTWF2cm9kaWV2IDxzdGVmYW5Ab2xpbWV4LmNvbT4KQ2M6IFJv
YmVydCBDaGlyYXMgPHJvYmVydC5jaGlyYXNAbnhwLmNvbT4KQ2M6ICJHdWlkbyBHw7xudGhlciIg
PGFneEBzaWd4Y3B1Lm9yZz4KQ2M6IFB1cmlzbSBLZXJuZWwgVGVhbSA8a2VybmVsQHB1cmkuc20+
Ci0tLQogZHJpdmVycy9ncHUvZHJtL2RybV9wYW5lbC5jICAgICAgICAgICAgICAgICAgIHwgIDIg
Ky0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1hcm0tdmVyc2F0aWxlLmMgICB8ICA0ICst
LQogLi4uL2RybS9wYW5lbC9wYW5lbC1mZWl5YW5nLWZ5MDcwMjRkaTI2YTMwZC5jIHwgIDQgKy0t
CiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtaWxpdGVrLWlsaTkzMjIuYyAgfCAgNSArKy0t
CiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtaWxpdGVrLWlsaTk4ODFjLmMgfCAgOCArKyst
LS0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1pbm5vbHV4LXAwNzl6Y2EuYyB8IDEzICsr
KysrLS0tLQogLi4uL2dwdS9kcm0vcGFuZWwvcGFuZWwtamRpLWx0MDcwbWUwNTAwMC5jICAgIHwg
IDkgKysrKy0tLQogLi4uL2RybS9wYW5lbC9wYW5lbC1raW5nZGlzcGxheS1rZDA5N2QwNC5jICAg
IHwgMTEgKysrKy0tLS0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1sZy1sYjAzNXEwMi5j
ICAgICB8ICA0ICstLQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWxnLWxnNDU3My5jICAg
ICAgIHwgIDggKysrLS0tCiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtbHZkcy5jICAgICAg
ICAgICAgfCAgNCArLS0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1uZWMtbmw4MDQ4aGwx
MS5jICB8ICA0ICstLQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW5vdmF0ZWstbnQzOTAx
Ni5jIHwgIDQgKy0tCiAuLi4vZHJtL3BhbmVsL3BhbmVsLW9saW1leC1sY2Qtb2xpbnV4aW5vLmMg
ICAgfCAgNCArLS0KIC4uLi9ncHUvZHJtL3BhbmVsL3BhbmVsLW9yaXNldGVjaC1vdG04MDA5YS5j
ICB8ICA5ICsrKystLS0KIC4uLi9kcm0vcGFuZWwvcGFuZWwtb3NkLW9zZDEwMXQyNTg3LTUzdHMu
YyAgICB8ICA5ICsrKystLS0KIC4uLi9kcm0vcGFuZWwvcGFuZWwtcGFuYXNvbmljLXZ2eDEwZjAz
NG4wMC5jICB8ICA5ICsrKystLS0KIC4uLi9kcm0vcGFuZWwvcGFuZWwtcmFzcGJlcnJ5cGktdG91
Y2hzY3JlZW4uYyB8ICA0ICstLQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJheWRpdW0t
cm02NzE5MS5jIHwgIDYgKystLS0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yYXlkaXVt
LXJtNjgyMDAuYyB8ICA5ICsrKystLS0KIC4uLi9kcm0vcGFuZWwvcGFuZWwtcm9ja3RlY2gtamgw
NTduMDA5MDAuYyAgICB8ICA5ICsrKystLS0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1y
b25iby1yYjA3MGQzMC5jICB8IDEwICsrKy0tLS0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5l
bC1zYW1zdW5nLWxkOTA0MC5jICB8ICA0ICstLQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVs
LXNhbXN1bmctczZkMTZkMC5jIHwgIDQgKy0tCiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwt
c2Ftc3VuZy1zNmUzaGEyLmMgfCAgNCArLS0KIC4uLi9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1
bmctczZlNjNqMHgwMy5jICB8ICA0ICstLQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNh
bXN1bmctczZlNjNtMC5jIHwgIDQgKy0tCiBkcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ft
c3VuZy1zNmU4YWEwLmMgfCAgNCArLS0KIGRyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zZWlr
by00M3d2ZjFnLmMgICB8ICA5ICsrKystLS0KIC4uLi9ncHUvZHJtL3BhbmVsL3BhbmVsLXNoYXJw
LWxxMTAxcjFzeDAxLmMgICB8ICA5ICsrKystLS0KIC4uLi9ncHUvZHJtL3BhbmVsL3BhbmVsLXNo
YXJwLWxzMDM3djdkdzAxLmMgICB8ICA0ICstLQogLi4uL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2hh
cnAtbHMwNDN0MWxlMDEuYyAgIHwgIDkgKysrKy0tLQogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3Bh
bmVsLXNpbXBsZS5jICAgICAgICAgIHwgMjcgKysrKysrKysrKy0tLS0tLS0tLQogZHJpdmVycy9n
cHUvZHJtL3BhbmVsL3BhbmVsLXNpdHJvbml4LXN0NzcwMS5jIHwgIDkgKysrKy0tLQogLi4uL2dw
dS9kcm0vcGFuZWwvcGFuZWwtc2l0cm9uaXgtc3Q3Nzg5di5jICAgIHwgIDggKysrLS0tCiBkcml2
ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc29ueS1hY3g1NjVha20uYyAgfCAgNCArLS0KIGRyaXZl
cnMvZ3B1L2RybS9wYW5lbC9wYW5lbC10cG8tdGQwMjh0dGVjMS5jICB8ICA0ICstLQogZHJpdmVy
cy9ncHUvZHJtL3BhbmVsL3BhbmVsLXRwby10ZDA0M210ZWExLmMgIHwgIDQgKy0tCiBkcml2ZXJz
L2dwdS9kcm0vcGFuZWwvcGFuZWwtdHBvLXRwZzExMC5jICAgICAgfCAgNCArLS0KIGRyaXZlcnMv
Z3B1L2RybS9wYW5lbC9wYW5lbC10cnVseS1udDM1NTk3LmMgICB8ICA0ICstLQogaW5jbHVkZS9k
cm0vZHJtX3BhbmVsLmggICAgICAgICAgICAgICAgICAgICAgIHwgIDMgKystCiA0MSBmaWxlcyBj
aGFuZ2VkLCAxNDEgaW5zZXJ0aW9ucygrKSwgMTMwIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9kcm1fcGFuZWwuYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fcGFuZWwu
YwppbmRleCAzNTYwOWM5MGU0NjcuLjk5MjdlMjhkOTNlNiAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2RybV9wYW5lbC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fcGFuZWwuYwpAQCAt
MjUyLDcgKzI1Miw3IEBAIGludCBkcm1fcGFuZWxfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwg
KnBhbmVsKQogCQlyZXR1cm4gLUVJTlZBTDsKIAogCWlmIChwYW5lbC0+ZnVuY3MgJiYgcGFuZWwt
PmZ1bmNzLT5nZXRfbW9kZXMpCi0JCXJldHVybiBwYW5lbC0+ZnVuY3MtPmdldF9tb2RlcyhwYW5l
bCk7CisJCXJldHVybiBwYW5lbC0+ZnVuY3MtPmdldF9tb2RlcyhwYW5lbCwgcGFuZWwtPmNvbm5l
Y3Rvcik7CiAKIAlyZXR1cm4gMDsKIH0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5l
bC9wYW5lbC1hcm0tdmVyc2F0aWxlLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtYXJt
LXZlcnNhdGlsZS5jCmluZGV4IGEwNTc0ZGMwM2UxNi4uNDFhYTkxZjYwOTc5IDEwMDY0NAotLS0g
YS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtYXJtLXZlcnNhdGlsZS5jCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1hcm0tdmVyc2F0aWxlLmMKQEAgLTI2MCw5ICsyNjAsOSBA
QCBzdGF0aWMgaW50IHZlcnNhdGlsZV9wYW5lbF9lbmFibGUoc3RydWN0IGRybV9wYW5lbCAqcGFu
ZWwpCiAJcmV0dXJuIDA7CiB9CiAKLXN0YXRpYyBpbnQgdmVyc2F0aWxlX3BhbmVsX2dldF9tb2Rl
cyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKK3N0YXRpYyBpbnQgdmVyc2F0aWxlX3BhbmVsX2dl
dF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCwKKwkJCQkgICAgIHN0cnVjdCBkcm1fY29u
bmVjdG9yICpjb25uZWN0b3IpCiB7Ci0Jc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciA9
IHBhbmVsLT5jb25uZWN0b3I7CiAJc3RydWN0IHZlcnNhdGlsZV9wYW5lbCAqdnBhbmVsID0gdG9f
dmVyc2F0aWxlX3BhbmVsKHBhbmVsKTsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsK
IApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWZlaXlhbmctZnkwNzAy
NGRpMjZhMzBkLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtZmVpeWFuZy1meTA3MDI0
ZGkyNmEzMGQuYwppbmRleCA5OGYxODRiODExODcuLjM3ZDZiNzM5MDk1NCAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWZlaXlhbmctZnkwNzAyNGRpMjZhMzBkLmMKKysr
IGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWZlaXlhbmctZnkwNzAyNGRpMjZhMzBkLmMK
QEAgLTE2Miw5ICsxNjIsOSBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUg
ZmVpeWFuZ19kZWZhdWx0X21vZGUgPSB7CiAJLnR5cGUgPSBEUk1fTU9ERV9UWVBFX0RSSVZFUiB8
IERSTV9NT0RFX1RZUEVfUFJFRkVSUkVELAogfTsKIAotc3RhdGljIGludCBmZWl5YW5nX2dldF9t
b2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKK3N0YXRpYyBpbnQgZmVpeWFuZ19nZXRfbW9k
ZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCisJCQkgICAgIHN0cnVjdCBkcm1fY29ubmVjdG9y
ICpjb25uZWN0b3IpCiB7Ci0Jc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciA9IHBhbmVs
LT5jb25uZWN0b3I7CiAJc3RydWN0IGZlaXlhbmcgKmN0eCA9IHBhbmVsX3RvX2ZlaXlhbmcocGFu
ZWwpOwogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtaWxpdGVrLWlsaTkzMjIuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9wYW5lbC9wYW5lbC1pbGl0ZWstaWxpOTMyMi5jCmluZGV4IDI0OTU1YmVjMTk1OC4uOGZkNGMw
NTIxODQxIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtaWxpdGVrLWls
aTkzMjIuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtaWxpdGVrLWlsaTkzMjIu
YwpAQCAtNjQxLDkgKzY0MSw5IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9k
ZSBpdHVfcl9idF82NTZfNzIwX21vZGUgPSB7CiAJLmZsYWdzID0gMCwKIH07CiAKLXN0YXRpYyBp
bnQgaWxpOTMyMl9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCitzdGF0aWMgaW50
IGlsaTkzMjJfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsLAorCQkJICAgICBzdHJ1
Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogewotCXN0cnVjdCBkcm1fY29ubmVjdG9yICpj
b25uZWN0b3IgPSBwYW5lbC0+Y29ubmVjdG9yOwogCXN0cnVjdCBpbGk5MzIyICppbGkgPSBwYW5l
bF90b19pbGk5MzIyKHBhbmVsKTsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAlz
dHJ1Y3QgZHJtX2Rpc3BsYXlfaW5mbyAqaW5mbzsKQEAgLTY1NSw3ICs2NTUsNiBAQCBzdGF0aWMg
aW50IGlsaTkzMjJfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQogCQlpbmZvLT5i
dXNfZmxhZ3MgfD0gRFJNX0JVU19GTEFHX1BJWERBVEFfRFJJVkVfUE9TRURHRTsKIAllbHNlCiAJ
CWluZm8tPmJ1c19mbGFncyB8PSBEUk1fQlVTX0ZMQUdfUElYREFUQV9EUklWRV9ORUdFREdFOwot
CiAJaWYgKGlsaS0+Y29uZi0+ZGVfYWN0aXZlX2hpZ2gpCiAJCWluZm8tPmJ1c19mbGFncyB8PSBE
Uk1fQlVTX0ZMQUdfREVfSElHSDsKIAllbHNlCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
cGFuZWwvcGFuZWwtaWxpdGVrLWlsaTk4ODFjLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFu
ZWwtaWxpdGVrLWlsaTk4ODFjLmMKaW5kZXggZTg3ODllNDYwYTE2Li4xYzY3YTY2OGQ2YmYgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1pbGl0ZWstaWxpOTg4MWMuYwor
KysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtaWxpdGVrLWlsaTk4ODFjLmMKQEAgLTM4
Nyw5ICszODcsOSBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgYmFuYW5h
cGlfZGVmYXVsdF9tb2RlID0gewogCS52dG90YWwJCT0gMTI4MCArIDEwICsgMTAgKyAyMCwKIH07
CiAKLXN0YXRpYyBpbnQgaWxpOTg4MWNfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVs
KQorc3RhdGljIGludCBpbGk5ODgxY19nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWws
CisJCQkgICAgICBzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogewotCXN0cnVjdCBk
cm1fY29ubmVjdG9yICpjb25uZWN0b3IgPSBwYW5lbC0+Y29ubmVjdG9yOwogCXN0cnVjdCBpbGk5
ODgxYyAqY3R4ID0gcGFuZWxfdG9faWxpOTg4MWMocGFuZWwpOwogCXN0cnVjdCBkcm1fZGlzcGxh
eV9tb2RlICptb2RlOwogCkBAIC00MDcsOCArNDA3LDggQEAgc3RhdGljIGludCBpbGk5ODgxY19n
ZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCiAJbW9kZS0+dHlwZSA9IERSTV9NT0RF
X1RZUEVfRFJJVkVSIHwgRFJNX01PREVfVFlQRV9QUkVGRVJSRUQ7CiAJZHJtX21vZGVfcHJvYmVk
X2FkZChjb25uZWN0b3IsIG1vZGUpOwogCi0JcGFuZWwtPmNvbm5lY3Rvci0+ZGlzcGxheV9pbmZv
LndpZHRoX21tID0gNjI7Ci0JcGFuZWwtPmNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLmhlaWdodF9t
bSA9IDExMDsKKwljb25uZWN0b3ItPmRpc3BsYXlfaW5mby53aWR0aF9tbSA9IDYyOworCWNvbm5l
Y3Rvci0+ZGlzcGxheV9pbmZvLmhlaWdodF9tbSA9IDExMDsKIAogCXJldHVybiAxOwogfQpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWlubm9sdXgtcDA3OXpjYS5jIGIv
ZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWlubm9sdXgtcDA3OXpjYS5jCmluZGV4IDgzZGYx
YWM0MjExZi4uZmFjZjFiYWIyNTMyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwv
cGFuZWwtaW5ub2x1eC1wMDc5emNhLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVs
LWlubm9sdXgtcDA3OXpjYS5jCkBAIC00MDMsNyArNDAzLDggQEAgc3RhdGljIGNvbnN0IHN0cnVj
dCBwYW5lbF9kZXNjIGlubm9sdXhfcDA5N3BmZ19wYW5lbF9kZXNjID0gewogCS5zbGVlcF9tb2Rl
X2RlbGF5ID0gMTAwLCAvKiBUMTUgKi8KIH07CiAKLXN0YXRpYyBpbnQgaW5ub2x1eF9wYW5lbF9n
ZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCitzdGF0aWMgaW50IGlubm9sdXhfcGFu
ZWxfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsLAorCQkJCSAgIHN0cnVjdCBkcm1f
Y29ubmVjdG9yICpjb25uZWN0b3IpCiB7CiAJc3RydWN0IGlubm9sdXhfcGFuZWwgKmlubm9sdXgg
PSB0b19pbm5vbHV4X3BhbmVsKHBhbmVsKTsKIAljb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9k
ZSAqbSA9IGlubm9sdXgtPmRlc2MtPm1vZGU7CkBAIC00MTgsMTMgKzQxOSwxMSBAQCBzdGF0aWMg
aW50IGlubm9sdXhfcGFuZWxfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQogCiAJ
ZHJtX21vZGVfc2V0X25hbWUobW9kZSk7CiAKLQlkcm1fbW9kZV9wcm9iZWRfYWRkKHBhbmVsLT5j
b25uZWN0b3IsIG1vZGUpOworCWRybV9tb2RlX3Byb2JlZF9hZGQoY29ubmVjdG9yLCBtb2RlKTsK
IAotCXBhbmVsLT5jb25uZWN0b3ItPmRpc3BsYXlfaW5mby53aWR0aF9tbSA9Ci0JCQlpbm5vbHV4
LT5kZXNjLT5zaXplLndpZHRoOwotCXBhbmVsLT5jb25uZWN0b3ItPmRpc3BsYXlfaW5mby5oZWln
aHRfbW0gPQotCQkJaW5ub2x1eC0+ZGVzYy0+c2l6ZS5oZWlnaHQ7Ci0JcGFuZWwtPmNvbm5lY3Rv
ci0+ZGlzcGxheV9pbmZvLmJwYyA9IGlubm9sdXgtPmRlc2MtPmJwYzsKKwljb25uZWN0b3ItPmRp
c3BsYXlfaW5mby53aWR0aF9tbSA9IGlubm9sdXgtPmRlc2MtPnNpemUud2lkdGg7CisJY29ubmVj
dG9yLT5kaXNwbGF5X2luZm8uaGVpZ2h0X21tID0gaW5ub2x1eC0+ZGVzYy0+c2l6ZS5oZWlnaHQ7
CisJY29ubmVjdG9yLT5kaXNwbGF5X2luZm8uYnBjID0gaW5ub2x1eC0+ZGVzYy0+YnBjOwogCiAJ
cmV0dXJuIDE7CiB9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtamRp
LWx0MDcwbWUwNTAwMC5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWpkaS1sdDA3MG1l
MDUwMDAuYwppbmRleCA1NjM2NGE5M2YwYjguLmU2YjY1MGE2NGZkYiAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWpkaS1sdDA3MG1lMDUwMDAuYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vcGFuZWwvcGFuZWwtamRpLWx0MDcwbWUwNTAwMC5jCkBAIC0zMDAsNyArMzAwLDgg
QEAgc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlIGRlZmF1bHRfbW9kZSA9IHsK
IAkJLmZsYWdzID0gMCwKIH07CiAKLXN0YXRpYyBpbnQgamRpX3BhbmVsX2dldF9tb2RlcyhzdHJ1
Y3QgZHJtX3BhbmVsICpwYW5lbCkKK3N0YXRpYyBpbnQgamRpX3BhbmVsX2dldF9tb2RlcyhzdHJ1
Y3QgZHJtX3BhbmVsICpwYW5lbCwKKwkJCSAgICAgICBzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29u
bmVjdG9yKQogewogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCXN0cnVjdCBqZGlf
cGFuZWwgKmpkaSA9IHRvX2pkaV9wYW5lbChwYW5lbCk7CkBAIC0zMTYsMTAgKzMxNywxMCBAQCBz
dGF0aWMgaW50IGpkaV9wYW5lbF9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCiAK
IAlkcm1fbW9kZV9zZXRfbmFtZShtb2RlKTsKIAotCWRybV9tb2RlX3Byb2JlZF9hZGQocGFuZWwt
PmNvbm5lY3RvciwgbW9kZSk7CisJZHJtX21vZGVfcHJvYmVkX2FkZChjb25uZWN0b3IsIG1vZGUp
OwogCi0JcGFuZWwtPmNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLndpZHRoX21tID0gOTU7Ci0JcGFu
ZWwtPmNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLmhlaWdodF9tbSA9IDE1MTsKKwljb25uZWN0b3It
PmRpc3BsYXlfaW5mby53aWR0aF9tbSA9IDk1OworCWNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLmhl
aWdodF9tbSA9IDE1MTsKIAogCXJldHVybiAxOwogfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL3BhbmVsL3BhbmVsLWtpbmdkaXNwbGF5LWtkMDk3ZDA0LmMgYi9kcml2ZXJzL2dwdS9kcm0v
cGFuZWwvcGFuZWwta2luZ2Rpc3BsYXkta2QwOTdkMDQuYwppbmRleCA0NWY5NjU1NmVjOGMuLmU2
ZjUzZDU2ZGFmOSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWtpbmdk
aXNwbGF5LWtkMDk3ZDA0LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWtpbmdk
aXNwbGF5LWtkMDk3ZDA0LmMKQEAgLTMzMyw3ICszMzMsOCBAQCBzdGF0aWMgY29uc3Qgc3RydWN0
IGRybV9kaXNwbGF5X21vZGUgZGVmYXVsdF9tb2RlID0gewogCS52cmVmcmVzaCA9IDYwLAogfTsK
IAotc3RhdGljIGludCBraW5nZGlzcGxheV9wYW5lbF9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5l
bCAqcGFuZWwpCitzdGF0aWMgaW50IGtpbmdkaXNwbGF5X3BhbmVsX2dldF9tb2RlcyhzdHJ1Y3Qg
ZHJtX3BhbmVsICpwYW5lbCwKKwkJCQkgICAgICAgc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5l
Y3RvcikKIHsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIApAQCAtMzQ3LDExICsz
NDgsMTEgQEAgc3RhdGljIGludCBraW5nZGlzcGxheV9wYW5lbF9nZXRfbW9kZXMoc3RydWN0IGRy
bV9wYW5lbCAqcGFuZWwpCiAKIAlkcm1fbW9kZV9zZXRfbmFtZShtb2RlKTsKIAotCWRybV9tb2Rl
X3Byb2JlZF9hZGQocGFuZWwtPmNvbm5lY3RvciwgbW9kZSk7CisJZHJtX21vZGVfcHJvYmVkX2Fk
ZChjb25uZWN0b3IsIG1vZGUpOwogCi0JcGFuZWwtPmNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLndp
ZHRoX21tID0gMTQ3OwotCXBhbmVsLT5jb25uZWN0b3ItPmRpc3BsYXlfaW5mby5oZWlnaHRfbW0g
PSAxOTY7Ci0JcGFuZWwtPmNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLmJwYyA9IDg7CisJY29ubmVj
dG9yLT5kaXNwbGF5X2luZm8ud2lkdGhfbW0gPSAxNDc7CisJY29ubmVjdG9yLT5kaXNwbGF5X2lu
Zm8uaGVpZ2h0X21tID0gMTk2OworCWNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLmJwYyA9IDg7CiAK
IAlyZXR1cm4gMTsKIH0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1s
Zy1sYjAzNXEwMi5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWxnLWxiMDM1cTAyLmMK
aW5kZXggN2ExMzg1ZTgzNGYwLi43YTNiZDRkODBjNzkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9wYW5lbC9wYW5lbC1sZy1sYjAzNXEwMi5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5l
bC9wYW5lbC1sZy1sYjAzNXEwMi5jCkBAIC0xNDEsOSArMTQxLDkgQEAgc3RhdGljIGNvbnN0IHN0
cnVjdCBkcm1fZGlzcGxheV9tb2RlIGxiMDM1cTAyX21vZGUgPSB7CiAJLmhlaWdodF9tbSA9IDUz
LAogfTsKIAotc3RhdGljIGludCBsYjAzNXEwMl9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAq
cGFuZWwpCitzdGF0aWMgaW50IGxiMDM1cTAyX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpw
YW5lbCwKKwkJCSAgICAgIHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCiB7Ci0Jc3Ry
dWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciA9IHBhbmVsLT5jb25uZWN0b3I7CiAJc3RydWN0
IGRybV9kaXNwbGF5X21vZGUgKm1vZGU7CiAKIAltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKHBh
bmVsLT5kcm0sICZsYjAzNXEwMl9tb2RlKTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9w
YW5lbC9wYW5lbC1sZy1sZzQ1NzMuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1sZy1s
ZzQ1NzMuYwppbmRleCBkYjQ4NjVhNGMyYjkuLmZjNjU3MmI0ZTJmOSAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLWxnLWxnNDU3My5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9wYW5lbC9wYW5lbC1sZy1sZzQ1NzMuYwpAQCAtMjA5LDkgKzIwOSw5IEBAIHN0YXRpYyBjb25z
dCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSBkZWZhdWx0X21vZGUgPSB7CiAJLnZyZWZyZXNoID0g
NjAsCiB9OwogCi1zdGF0aWMgaW50IGxnNDU3M19nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAq
cGFuZWwpCitzdGF0aWMgaW50IGxnNDU3M19nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFu
ZWwsCisJCQkgICAgc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvcikKIHsKLQlzdHJ1Y3Qg
ZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yID0gcGFuZWwtPmNvbm5lY3RvcjsKIAlzdHJ1Y3QgZHJt
X2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAogCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUocGFuZWwt
PmRybSwgJmRlZmF1bHRfbW9kZSk7CkBAIC0yMjcsOCArMjI3LDggQEAgc3RhdGljIGludCBsZzQ1
NzNfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQogCW1vZGUtPnR5cGUgPSBEUk1f
TU9ERV9UWVBFX0RSSVZFUiB8IERSTV9NT0RFX1RZUEVfUFJFRkVSUkVEOwogCWRybV9tb2RlX3By
b2JlZF9hZGQoY29ubmVjdG9yLCBtb2RlKTsKIAotCXBhbmVsLT5jb25uZWN0b3ItPmRpc3BsYXlf
aW5mby53aWR0aF9tbSA9IDYxOwotCXBhbmVsLT5jb25uZWN0b3ItPmRpc3BsYXlfaW5mby5oZWln
aHRfbW0gPSAxMDM7CisJY29ubmVjdG9yLT5kaXNwbGF5X2luZm8ud2lkdGhfbW0gPSA2MTsKKwlj
b25uZWN0b3ItPmRpc3BsYXlfaW5mby5oZWlnaHRfbW0gPSAxMDM7CiAKIAlyZXR1cm4gMTsKIH0K
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1sdmRzLmMgYi9kcml2ZXJz
L2dwdS9kcm0vcGFuZWwvcGFuZWwtbHZkcy5jCmluZGV4IDI0MDVmMjZlNWQzMS4uZjZkNThhNjBl
NTE0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtbHZkcy5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1sdmRzLmMKQEAgLTEwNiwxMCArMTA2LDEwIEBA
IHN0YXRpYyBpbnQgcGFuZWxfbHZkc19lbmFibGUoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCiAJ
cmV0dXJuIDA7CiB9CiAKLXN0YXRpYyBpbnQgcGFuZWxfbHZkc19nZXRfbW9kZXMoc3RydWN0IGRy
bV9wYW5lbCAqcGFuZWwpCitzdGF0aWMgaW50IHBhbmVsX2x2ZHNfZ2V0X21vZGVzKHN0cnVjdCBk
cm1fcGFuZWwgKnBhbmVsLAorCQkJCXN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCiB7
CiAJc3RydWN0IHBhbmVsX2x2ZHMgKmx2ZHMgPSB0b19wYW5lbF9sdmRzKHBhbmVsKTsKLQlzdHJ1
Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yID0gbHZkcy0+cGFuZWwuY29ubmVjdG9yOwogCXN0
cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCiAJbW9kZSA9IGRybV9tb2RlX2NyZWF0ZShs
dmRzLT5wYW5lbC5kcm0pOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVs
LW5lYy1ubDgwNDhobDExLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtbmVjLW5sODA0
OGhsMTEuYwppbmRleCBmZDU5MzUzMmFiMjMuLmE2Y2NkYjA5YWFjZSAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW5lYy1ubDgwNDhobDExLmMKKysrIGIvZHJpdmVycy9n
cHUvZHJtL3BhbmVsL3BhbmVsLW5lYy1ubDgwNDhobDExLmMKQEAgLTEyMyw5ICsxMjMsOSBAQCBz
dGF0aWMgY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgbmw4MDQ4X21vZGUgPSB7CiAJLmhl
aWdodF9tbSA9IDUzLAogfTsKIAotc3RhdGljIGludCBubDgwNDhfZ2V0X21vZGVzKHN0cnVjdCBk
cm1fcGFuZWwgKnBhbmVsKQorc3RhdGljIGludCBubDgwNDhfZ2V0X21vZGVzKHN0cnVjdCBkcm1f
cGFuZWwgKnBhbmVsLAorCQkJICAgIHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCiB7
Ci0Jc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciA9IHBhbmVsLT5jb25uZWN0b3I7CiAJ
c3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGU7CiAKIAltb2RlID0gZHJtX21vZGVfZHVwbGlj
YXRlKHBhbmVsLT5kcm0sICZubDgwNDhfbW9kZSk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vcGFuZWwvcGFuZWwtbm92YXRlay1udDM5MDE2LmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwv
cGFuZWwtbm92YXRlay1udDM5MDE2LmMKaW5kZXggNjBjY2VkY2U1MzBjLi45MWVhNDljMDU2MTEg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1ub3ZhdGVrLW50MzkwMTYu
YworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtbm92YXRlay1udDM5MDE2LmMKQEAg
LTIwNiwxMSArMjA2LDExIEBAIHN0YXRpYyBpbnQgbnQzOTAxNl9kaXNhYmxlKHN0cnVjdCBkcm1f
cGFuZWwgKmRybV9wYW5lbCkKIAlyZXR1cm4gMDsKIH0KIAotc3RhdGljIGludCBudDM5MDE2X2dl
dF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpkcm1fcGFuZWwpCitzdGF0aWMgaW50IG50MzkwMTZf
Z2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKmRybV9wYW5lbCwKKwkJCSAgICAgc3RydWN0IGRy
bV9jb25uZWN0b3IgKmNvbm5lY3RvcikKIHsKIAlzdHJ1Y3QgbnQzOTAxNiAqcGFuZWwgPSB0b19u
dDM5MDE2KGRybV9wYW5lbCk7CiAJY29uc3Qgc3RydWN0IG50MzkwMTZfcGFuZWxfaW5mbyAqcGFu
ZWxfaW5mbyA9IHBhbmVsLT5wYW5lbF9pbmZvOwotCXN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25u
ZWN0b3IgPSBkcm1fcGFuZWwtPmNvbm5lY3RvcjsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAq
bW9kZTsKIAogCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUoZHJtX3BhbmVsLT5kcm0sICZwYW5l
bF9pbmZvLT5kaXNwbGF5X21vZGUpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVs
L3BhbmVsLW9saW1leC1sY2Qtb2xpbnV4aW5vLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFu
ZWwtb2xpbWV4LWxjZC1vbGludXhpbm8uYwppbmRleCA4NzM4ZWYxYjY2ZGMuLjJiN2UwZGZlYmM1
ZSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW9saW1leC1sY2Qtb2xp
bnV4aW5vLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW9saW1leC1sY2Qtb2xp
bnV4aW5vLmMKQEAgLTE0MSwxMCArMTQxLDEwIEBAIHN0YXRpYyBpbnQgbGNkX29saW51eGlub19l
bmFibGUoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCiAJcmV0dXJuIDA7CiB9CiAKLXN0YXRpYyBp
bnQgbGNkX29saW51eGlub19nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCitzdGF0
aWMgaW50IGxjZF9vbGludXhpbm9fZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsLAor
CQkJCSAgIHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCiB7CiAJc3RydWN0IGxjZF9v
bGludXhpbm8gKmxjZCA9IHRvX2xjZF9vbGludXhpbm8ocGFuZWwpOwotCXN0cnVjdCBkcm1fY29u
bmVjdG9yICpjb25uZWN0b3IgPSBsY2QtPnBhbmVsLmNvbm5lY3RvcjsKIAlzdHJ1Y3QgbGNkX29s
aW51eGlub19pbmZvICpsY2RfaW5mbyA9ICZsY2QtPmVlcHJvbS5pbmZvOwogCXN0cnVjdCBkcm1f
ZGV2aWNlICpkcm0gPSBsY2QtPnBhbmVsLmRybTsKIAlzdHJ1Y3QgbGNkX29saW51eGlub19tb2Rl
ICpsY2RfbW9kZTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1vcmlz
ZXRlY2gtb3RtODAwOWEuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1vcmlzZXRlY2gt
b3RtODAwOWEuYwppbmRleCBiZjFmOTI4YjIxNWYuLjRlMTYwNmM3OTA3MiAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLW9yaXNldGVjaC1vdG04MDA5YS5jCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1vcmlzZXRlY2gtb3RtODAwOWEuYwpAQCAtMzQ5LDcg
KzM0OSw4IEBAIHN0YXRpYyBpbnQgb3RtODAwOWFfZW5hYmxlKHN0cnVjdCBkcm1fcGFuZWwgKnBh
bmVsKQogCXJldHVybiAwOwogfQogCi1zdGF0aWMgaW50IG90bTgwMDlhX2dldF9tb2RlcyhzdHJ1
Y3QgZHJtX3BhbmVsICpwYW5lbCkKK3N0YXRpYyBpbnQgb3RtODAwOWFfZ2V0X21vZGVzKHN0cnVj
dCBkcm1fcGFuZWwgKnBhbmVsLAorCQkJICAgICAgc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5l
Y3RvcikKIHsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIApAQCAtMzY0LDEwICsz
NjUsMTAgQEAgc3RhdGljIGludCBvdG04MDA5YV9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAq
cGFuZWwpCiAJZHJtX21vZGVfc2V0X25hbWUobW9kZSk7CiAKIAltb2RlLT50eXBlID0gRFJNX01P
REVfVFlQRV9EUklWRVIgfCBEUk1fTU9ERV9UWVBFX1BSRUZFUlJFRDsKLQlkcm1fbW9kZV9wcm9i
ZWRfYWRkKHBhbmVsLT5jb25uZWN0b3IsIG1vZGUpOworCWRybV9tb2RlX3Byb2JlZF9hZGQoY29u
bmVjdG9yLCBtb2RlKTsKIAotCXBhbmVsLT5jb25uZWN0b3ItPmRpc3BsYXlfaW5mby53aWR0aF9t
bSA9IG1vZGUtPndpZHRoX21tOwotCXBhbmVsLT5jb25uZWN0b3ItPmRpc3BsYXlfaW5mby5oZWln
aHRfbW0gPSBtb2RlLT5oZWlnaHRfbW07CisJY29ubmVjdG9yLT5kaXNwbGF5X2luZm8ud2lkdGhf
bW0gPSBtb2RlLT53aWR0aF9tbTsKKwljb25uZWN0b3ItPmRpc3BsYXlfaW5mby5oZWlnaHRfbW0g
PSBtb2RlLT5oZWlnaHRfbW07CiAKIAlyZXR1cm4gMTsKIH0KZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9wYW5lbC9wYW5lbC1vc2Qtb3NkMTAxdDI1ODctNTN0cy5jIGIvZHJpdmVycy9ncHUv
ZHJtL3BhbmVsL3BhbmVsLW9zZC1vc2QxMDF0MjU4Ny01M3RzLmMKaW5kZXggMmI0MDkxMzg5OWQ4
Li5iM2UwMTAyODhjMTAgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1v
c2Qtb3NkMTAxdDI1ODctNTN0cy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1v
c2Qtb3NkMTAxdDI1ODctNTN0cy5jCkBAIC0xMTIsNyArMTEyLDggQEAgc3RhdGljIGNvbnN0IHN0
cnVjdCBkcm1fZGlzcGxheV9tb2RlIGRlZmF1bHRfbW9kZV9vc2QxMDF0MjU4NyA9IHsKIAkuZmxh
Z3MgPSBEUk1fTU9ERV9GTEFHX05IU1lOQyB8IERSTV9NT0RFX0ZMQUdfTlZTWU5DLAogfTsKIAot
c3RhdGljIGludCBvc2QxMDF0MjU4N19wYW5lbF9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAq
cGFuZWwpCitzdGF0aWMgaW50IG9zZDEwMXQyNTg3X3BhbmVsX2dldF9tb2RlcyhzdHJ1Y3QgZHJt
X3BhbmVsICpwYW5lbCwKKwkJCQkgICAgICAgc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3Rv
cikKIHsKIAlzdHJ1Y3Qgb3NkMTAxdDI1ODdfcGFuZWwgKm9zZDEwMXQyNTg3ID0gdGlfb3NkX3Bh
bmVsKHBhbmVsKTsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKQEAgLTEyOCwxMCAr
MTI5LDEwIEBAIHN0YXRpYyBpbnQgb3NkMTAxdDI1ODdfcGFuZWxfZ2V0X21vZGVzKHN0cnVjdCBk
cm1fcGFuZWwgKnBhbmVsKQogCiAJZHJtX21vZGVfc2V0X25hbWUobW9kZSk7CiAKLQlkcm1fbW9k
ZV9wcm9iZWRfYWRkKHBhbmVsLT5jb25uZWN0b3IsIG1vZGUpOworCWRybV9tb2RlX3Byb2JlZF9h
ZGQoY29ubmVjdG9yLCBtb2RlKTsKIAotCXBhbmVsLT5jb25uZWN0b3ItPmRpc3BsYXlfaW5mby53
aWR0aF9tbSA9IDIxNzsKLQlwYW5lbC0+Y29ubmVjdG9yLT5kaXNwbGF5X2luZm8uaGVpZ2h0X21t
ID0gMTM2OworCWNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLndpZHRoX21tID0gMjE3OworCWNvbm5l
Y3Rvci0+ZGlzcGxheV9pbmZvLmhlaWdodF9tbSA9IDEzNjsKIAogCXJldHVybiAxOwogfQpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXBhbmFzb25pYy12dngxMGYwMzRu
MDAuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1wYW5hc29uaWMtdnZ4MTBmMDM0bjAw
LmMKaW5kZXggNjY0NjA1MDcxZDM0Li4xOWE2ZWI0NjM3YzggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9wYW5lbC9wYW5lbC1wYW5hc29uaWMtdnZ4MTBmMDM0bjAwLmMKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL3BhbmVsL3BhbmVsLXBhbmFzb25pYy12dngxMGYwMzRuMDAuYwpAQCAtMTY2LDcg
KzE2Niw4IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSBkZWZhdWx0X21v
ZGUgPSB7CiAJLnZyZWZyZXNoID0gNjAsCiB9OwogCi1zdGF0aWMgaW50IHd1eGdhX250X3BhbmVs
X2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKK3N0YXRpYyBpbnQgd3V4Z2FfbnRf
cGFuZWxfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsLAorCQkJCSAgICBzdHJ1Y3Qg
ZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogewogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICpt
b2RlOwogCkBAIC0xODAsMTAgKzE4MSwxMCBAQCBzdGF0aWMgaW50IHd1eGdhX250X3BhbmVsX2dl
dF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKIAogCWRybV9tb2RlX3NldF9uYW1lKG1v
ZGUpOwogCi0JZHJtX21vZGVfcHJvYmVkX2FkZChwYW5lbC0+Y29ubmVjdG9yLCBtb2RlKTsKKwlk
cm1fbW9kZV9wcm9iZWRfYWRkKGNvbm5lY3RvciwgbW9kZSk7CiAKLQlwYW5lbC0+Y29ubmVjdG9y
LT5kaXNwbGF5X2luZm8ud2lkdGhfbW0gPSAyMTc7Ci0JcGFuZWwtPmNvbm5lY3Rvci0+ZGlzcGxh
eV9pbmZvLmhlaWdodF9tbSA9IDEzNjsKKwljb25uZWN0b3ItPmRpc3BsYXlfaW5mby53aWR0aF9t
bSA9IDIxNzsKKwljb25uZWN0b3ItPmRpc3BsYXlfaW5mby5oZWlnaHRfbW0gPSAxMzY7CiAKIAly
ZXR1cm4gMTsKIH0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yYXNw
YmVycnlwaS10b3VjaHNjcmVlbi5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJhc3Bi
ZXJyeXBpLXRvdWNoc2NyZWVuLmMKaW5kZXggMDk4MjRlOTJmYzc4Li43MzJiNzExMTM5NWUgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yYXNwYmVycnlwaS10b3VjaHNj
cmVlbi5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yYXNwYmVycnlwaS10b3Vj
aHNjcmVlbi5jCkBAIC0zMTEsOSArMzExLDkgQEAgc3RhdGljIGludCBycGlfdG91Y2hzY3JlZW5f
ZW5hYmxlKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQogCXJldHVybiAwOwogfQogCi1zdGF0aWMg
aW50IHJwaV90b3VjaHNjcmVlbl9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCitz
dGF0aWMgaW50IHJwaV90b3VjaHNjcmVlbl9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFu
ZWwsCisJCQkJICAgICBzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogewotCXN0cnVj
dCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IgPSBwYW5lbC0+Y29ubmVjdG9yOwogCXN0cnVjdCBk
cm1fZGV2aWNlICpkcm0gPSBwYW5lbC0+ZHJtOwogCXVuc2lnbmVkIGludCBpLCBudW0gPSAwOwog
CXN0YXRpYyBjb25zdCB1MzIgYnVzX2Zvcm1hdCA9IE1FRElBX0JVU19GTVRfUkdCODg4XzFYMjQ7
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtcmF5ZGl1bS1ybTY3MTkx
LmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtcmF5ZGl1bS1ybTY3MTkxLmMKaW5kZXgg
ZmQ2N2ZjNjE4NWM0Li4xMjNiYjY4Y2ZjYjcgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9w
YW5lbC9wYW5lbC1yYXlkaXVtLXJtNjcxOTEuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwv
cGFuZWwtcmF5ZGl1bS1ybTY3MTkxLmMKQEAgLTQzNiw5ICs0MzYsOSBAQCBzdGF0aWMgaW50IHJh
ZF9wYW5lbF9kaXNhYmxlKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQogCXJldHVybiAwOwogfQog
Ci1zdGF0aWMgaW50IHJhZF9wYW5lbF9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwp
CitzdGF0aWMgaW50IHJhZF9wYW5lbF9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWws
CisJCQkgICAgICAgc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvcikKIHsKLQlzdHJ1Y3Qg
ZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yID0gcGFuZWwtPmNvbm5lY3RvcjsKIAlzdHJ1Y3QgZHJt
X2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAogCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUocGFuZWwt
PmRybSwgJmRlZmF1bHRfbW9kZSk7CkBAIC00NTEsNyArNDUxLDcgQEAgc3RhdGljIGludCByYWRf
cGFuZWxfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQogCiAJZHJtX21vZGVfc2V0
X25hbWUobW9kZSk7CiAJbW9kZS0+dHlwZSA9IERSTV9NT0RFX1RZUEVfRFJJVkVSIHwgRFJNX01P
REVfVFlQRV9QUkVGRVJSRUQ7Ci0JZHJtX21vZGVfcHJvYmVkX2FkZChwYW5lbC0+Y29ubmVjdG9y
LCBtb2RlKTsKKwlkcm1fbW9kZV9wcm9iZWRfYWRkKGNvbm5lY3RvciwgbW9kZSk7CiAKIAljb25u
ZWN0b3ItPmRpc3BsYXlfaW5mby53aWR0aF9tbSA9IG1vZGUtPndpZHRoX21tOwogCWNvbm5lY3Rv
ci0+ZGlzcGxheV9pbmZvLmhlaWdodF9tbSA9IG1vZGUtPmhlaWdodF9tbTsKZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yYXlkaXVtLXJtNjgyMDAuYyBiL2RyaXZlcnMv
Z3B1L2RybS9wYW5lbC9wYW5lbC1yYXlkaXVtLXJtNjgyMDAuYwppbmRleCA5OTRlODU1NzIxZjQu
LjY2ZmE5NzUzMDhlYyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXJh
eWRpdW0tcm02ODIwMC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yYXlkaXVt
LXJtNjgyMDAuYwpAQCAtMzM1LDcgKzMzNSw4IEBAIHN0YXRpYyBpbnQgcm02ODIwMF9lbmFibGUo
c3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCiAJcmV0dXJuIDA7CiB9CiAKLXN0YXRpYyBpbnQgcm02
ODIwMF9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCitzdGF0aWMgaW50IHJtNjgy
MDBfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsLAorCQkJICAgICBzdHJ1Y3QgZHJt
X2Nvbm5lY3RvciAqY29ubmVjdG9yKQogewogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2Rl
OwogCkBAIC0zNTAsMTAgKzM1MSwxMCBAQCBzdGF0aWMgaW50IHJtNjgyMDBfZ2V0X21vZGVzKHN0
cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQogCWRybV9tb2RlX3NldF9uYW1lKG1vZGUpOwogCiAJbW9k
ZS0+dHlwZSA9IERSTV9NT0RFX1RZUEVfRFJJVkVSIHwgRFJNX01PREVfVFlQRV9QUkVGRVJSRUQ7
Ci0JZHJtX21vZGVfcHJvYmVkX2FkZChwYW5lbC0+Y29ubmVjdG9yLCBtb2RlKTsKKwlkcm1fbW9k
ZV9wcm9iZWRfYWRkKGNvbm5lY3RvciwgbW9kZSk7CiAKLQlwYW5lbC0+Y29ubmVjdG9yLT5kaXNw
bGF5X2luZm8ud2lkdGhfbW0gPSBtb2RlLT53aWR0aF9tbTsKLQlwYW5lbC0+Y29ubmVjdG9yLT5k
aXNwbGF5X2luZm8uaGVpZ2h0X21tID0gbW9kZS0+aGVpZ2h0X21tOworCWNvbm5lY3Rvci0+ZGlz
cGxheV9pbmZvLndpZHRoX21tID0gbW9kZS0+d2lkdGhfbW07CisJY29ubmVjdG9yLT5kaXNwbGF5
X2luZm8uaGVpZ2h0X21tID0gbW9kZS0+aGVpZ2h0X21tOwogCiAJcmV0dXJuIDE7CiB9CmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtcm9ja3RlY2gtamgwNTduMDA5MDAu
YyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yb2NrdGVjaC1qaDA1N24wMDkwMC5jCmlu
ZGV4IDMxMjM0Yjc5ZDNiMS4uYjJkNjFjYWIzY2FkIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vcGFuZWwvcGFuZWwtcm9ja3RlY2gtamgwNTduMDA5MDAuYworKysgYi9kcml2ZXJzL2dwdS9k
cm0vcGFuZWwvcGFuZWwtcm9ja3RlY2gtamgwNTduMDA5MDAuYwpAQCAtMjMwLDcgKzIzMCw4IEBA
IHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSBkZWZhdWx0X21vZGUgPSB7CiAJ
LmhlaWdodF9tbSAgID0gMTMwLAogfTsKIAotc3RhdGljIGludCBqaDA1N25fZ2V0X21vZGVzKHN0
cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQorc3RhdGljIGludCBqaDA1N25fZ2V0X21vZGVzKHN0cnVj
dCBkcm1fcGFuZWwgKnBhbmVsLAorCQkJICAgIHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0
b3IpCiB7CiAJc3RydWN0IGpoMDU3biAqY3R4ID0gcGFuZWxfdG9famgwNTduKHBhbmVsKTsKIAlz
dHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKQEAgLTI0Niw5ICsyNDcsOSBAQCBzdGF0aWMg
aW50IGpoMDU3bl9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCiAJZHJtX21vZGVf
c2V0X25hbWUobW9kZSk7CiAKIAltb2RlLT50eXBlID0gRFJNX01PREVfVFlQRV9EUklWRVIgfCBE
Uk1fTU9ERV9UWVBFX1BSRUZFUlJFRDsKLQlwYW5lbC0+Y29ubmVjdG9yLT5kaXNwbGF5X2luZm8u
d2lkdGhfbW0gPSBtb2RlLT53aWR0aF9tbTsKLQlwYW5lbC0+Y29ubmVjdG9yLT5kaXNwbGF5X2lu
Zm8uaGVpZ2h0X21tID0gbW9kZS0+aGVpZ2h0X21tOwotCWRybV9tb2RlX3Byb2JlZF9hZGQocGFu
ZWwtPmNvbm5lY3RvciwgbW9kZSk7CisJY29ubmVjdG9yLT5kaXNwbGF5X2luZm8ud2lkdGhfbW0g
PSBtb2RlLT53aWR0aF9tbTsKKwljb25uZWN0b3ItPmRpc3BsYXlfaW5mby5oZWlnaHRfbW0gPSBt
b2RlLT5oZWlnaHRfbW07CisJZHJtX21vZGVfcHJvYmVkX2FkZChjb25uZWN0b3IsIG1vZGUpOwog
CiAJcmV0dXJuIDE7CiB9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwt
cm9uYm8tcmIwNzBkMzAuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1yb25iby1yYjA3
MGQzMC5jCmluZGV4IDE3MGE1Y2RhMjFiOS4uNTdhNDYyY2UyMjFlIDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtcm9uYm8tcmIwNzBkMzAuYworKysgYi9kcml2ZXJzL2dw
dS9kcm0vcGFuZWwvcGFuZWwtcm9uYm8tcmIwNzBkMzAuYwpAQCAtMTIwLDkgKzEyMCw5IEBAIHN0
YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSBkZWZhdWx0X21vZGUgPSB7CiAJLmhl
aWdodF9tbQk9IDg1LAogfTsKIAotc3RhdGljIGludCByYjA3MGQzMF9wYW5lbF9nZXRfbW9kZXMo
c3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCitzdGF0aWMgaW50IHJiMDcwZDMwX3BhbmVsX2dldF9t
b2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCwKKwkJCQkgICAgc3RydWN0IGRybV9jb25uZWN0
b3IgKmNvbm5lY3RvcikKIHsKLQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yID0gcGFu
ZWwtPmNvbm5lY3RvcjsKIAlzdHJ1Y3QgcmIwNzBkMzBfcGFuZWwgKmN0eCA9IHBhbmVsX3RvX3Ji
MDcwZDMwX3BhbmVsKHBhbmVsKTsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAlz
dGF0aWMgY29uc3QgdTMyIGJ1c19mb3JtYXQgPSBNRURJQV9CVVNfRk1UX1JHQjg4OF8xWDI0OwpA
QCAtMTQwLDkgKzE0MCw5IEBAIHN0YXRpYyBpbnQgcmIwNzBkMzBfcGFuZWxfZ2V0X21vZGVzKHN0
cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQogCW1vZGUtPnR5cGUgPSBEUk1fTU9ERV9UWVBFX0RSSVZF
UiB8IERSTV9NT0RFX1RZUEVfUFJFRkVSUkVEOwogCWRybV9tb2RlX3Byb2JlZF9hZGQoY29ubmVj
dG9yLCBtb2RlKTsKIAotCXBhbmVsLT5jb25uZWN0b3ItPmRpc3BsYXlfaW5mby5icGMgPSA4Owot
CXBhbmVsLT5jb25uZWN0b3ItPmRpc3BsYXlfaW5mby53aWR0aF9tbSA9IG1vZGUtPndpZHRoX21t
OwotCXBhbmVsLT5jb25uZWN0b3ItPmRpc3BsYXlfaW5mby5oZWlnaHRfbW0gPSBtb2RlLT5oZWln
aHRfbW07CisJY29ubmVjdG9yLT5kaXNwbGF5X2luZm8uYnBjID0gODsKKwljb25uZWN0b3ItPmRp
c3BsYXlfaW5mby53aWR0aF9tbSA9IG1vZGUtPndpZHRoX21tOworCWNvbm5lY3Rvci0+ZGlzcGxh
eV9pbmZvLmhlaWdodF9tbSA9IG1vZGUtPmhlaWdodF9tbTsKIAlkcm1fZGlzcGxheV9pbmZvX3Nl
dF9idXNfZm9ybWF0cygmY29ubmVjdG9yLT5kaXNwbGF5X2luZm8sCiAJCQkJCSAmYnVzX2Zvcm1h
dCwgMSk7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5n
LWxkOTA0MC5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctbGQ5MDQwLmMK
aW5kZXggMjUwODA5YmEzN2M3Li4zYzUyZjE1ZjdhMWMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLWxkOTA0MC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9w
YW5lbC9wYW5lbC1zYW1zdW5nLWxkOTA0MC5jCkBAIC0yNjEsOSArMjYxLDkgQEAgc3RhdGljIGlu
dCBsZDkwNDBfZW5hYmxlKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQogCXJldHVybiAwOwogfQog
Ci1zdGF0aWMgaW50IGxkOTA0MF9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCitz
dGF0aWMgaW50IGxkOTA0MF9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCisJCQkg
ICAgc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvcikKIHsKLQlzdHJ1Y3QgZHJtX2Nvbm5l
Y3RvciAqY29ubmVjdG9yID0gcGFuZWwtPmNvbm5lY3RvcjsKIAlzdHJ1Y3QgbGQ5MDQwICpjdHgg
PSBwYW5lbF90b19sZDkwNDAocGFuZWwpOwogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2Rl
OwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ftc3VuZy1zNmQx
NmQwLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ftc3VuZy1zNmQxNmQwLmMKaW5k
ZXggZTNhMDM5N2U5NTNlLi43MTkzOWFiNzU3YjEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZDE2ZDAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFu
ZWwvcGFuZWwtc2Ftc3VuZy1zNmQxNmQwLmMKQEAgLTE0Myw5ICsxNDMsOSBAQCBzdGF0aWMgaW50
IHM2ZDE2ZDBfZGlzYWJsZShzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKIAlyZXR1cm4gMDsKIH0K
IAotc3RhdGljIGludCBzNmQxNmQwX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkK
K3N0YXRpYyBpbnQgczZkMTZkMF9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCisJ
CQkgICAgIHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCiB7Ci0Jc3RydWN0IGRybV9j
b25uZWN0b3IgKmNvbm5lY3RvciA9IHBhbmVsLT5jb25uZWN0b3I7CiAJc3RydWN0IGRybV9kaXNw
bGF5X21vZGUgKm1vZGU7CiAKIAltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKHBhbmVsLT5kcm0s
ICZzYW1zdW5nX3M2ZDE2ZDBfbW9kZSk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFu
ZWwvcGFuZWwtc2Ftc3VuZy1zNmUzaGEyLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwt
c2Ftc3VuZy1zNmUzaGEyLmMKaW5kZXggOTM4YWI3MmM1NTQwLi44ZTAyMzZiYTYxNDUgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZTNoYTIuYworKysg
Yi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ftc3VuZy1zNmUzaGEyLmMKQEAgLTY0NSw5
ICs2NDUsOSBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IHM2ZTNoYTJfcGFuZWxfZGVzYyBzYW1zdW5n
X3M2ZTNoZjIgPSB7CiAJLnR5cGUgPSBIRjJfVFlQRSwKIH07CiAKLXN0YXRpYyBpbnQgczZlM2hh
Ml9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCitzdGF0aWMgaW50IHM2ZTNoYTJf
Z2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsLAorCQkJICAgICBzdHJ1Y3QgZHJtX2Nv
bm5lY3RvciAqY29ubmVjdG9yKQogewotCXN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3Ig
PSBwYW5lbC0+Y29ubmVjdG9yOwogCXN0cnVjdCBzNmUzaGEyICpjdHggPSBjb250YWluZXJfb2Yo
cGFuZWwsIHN0cnVjdCBzNmUzaGEyLCBwYW5lbCk7CiAJc3RydWN0IGRybV9kaXNwbGF5X21vZGUg
Km1vZGU7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5n
LXM2ZTYzajB4MDMuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZTYz
ajB4MDMuYwppbmRleCBhNjA2MzVlOTIyNmQuLmM5MzlkNWJkZTRmMCAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZlNjNqMHgwMy5jCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZTYzajB4MDMuYwpAQCAtNDAwLDkgKzQw
MCw5IEBAIHN0YXRpYyBpbnQgczZlNjNqMHgwM19lbmFibGUoc3RydWN0IGRybV9wYW5lbCAqcGFu
ZWwpCiAJcmV0dXJuIDA7CiB9CiAKLXN0YXRpYyBpbnQgczZlNjNqMHgwM19nZXRfbW9kZXMoc3Ry
dWN0IGRybV9wYW5lbCAqcGFuZWwpCitzdGF0aWMgaW50IHM2ZTYzajB4MDNfZ2V0X21vZGVzKHN0
cnVjdCBkcm1fcGFuZWwgKnBhbmVsLAorCQkJCXN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0
b3IpCiB7Ci0Jc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciA9IHBhbmVsLT5jb25uZWN0
b3I7CiAJc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGU7CiAKIAltb2RlID0gZHJtX21vZGVf
ZHVwbGljYXRlKHBhbmVsLT5kcm0sICZkZWZhdWx0X21vZGUpOwpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZlNjNtMC5jIGIvZHJpdmVycy9ncHUvZHJt
L3BhbmVsL3BhbmVsLXNhbXN1bmctczZlNjNtMC5jCmluZGV4IGJhMDFhZjBiMTRmZC4uMWQwOTkw
OTJlNzU0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ftc3VuZy1z
NmU2M20wLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZlNjNt
MC5jCkBAIC0zNjIsOSArMzYyLDkgQEAgc3RhdGljIGludCBzNmU2M20wX2VuYWJsZShzdHJ1Y3Qg
ZHJtX3BhbmVsICpwYW5lbCkKIAlyZXR1cm4gMDsKIH0KIAotc3RhdGljIGludCBzNmU2M20wX2dl
dF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKK3N0YXRpYyBpbnQgczZlNjNtMF9nZXRf
bW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCisJCQkgICAgIHN0cnVjdCBkcm1fY29ubmVj
dG9yICpjb25uZWN0b3IpCiB7Ci0Jc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciA9IHBh
bmVsLT5jb25uZWN0b3I7CiAJc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGU7CiAKIAltb2Rl
ID0gZHJtX21vZGVfZHVwbGljYXRlKHBhbmVsLT5kcm0sICZkZWZhdWx0X21vZGUpOwpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZlOGFhMC5jIGIvZHJp
dmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZlOGFhMC5jCmluZGV4IGRiY2VkNjUw
MTIwNC4uOGEwMjhkMmJkMGQ2IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFu
ZWwtc2Ftc3VuZy1zNmU4YWEwLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNh
bXN1bmctczZlOGFhMC5jCkBAIC05MjAsOSArOTIwLDkgQEAgc3RhdGljIGludCBzNmU4YWEwX2Vu
YWJsZShzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKIAlyZXR1cm4gMDsKIH0KIAotc3RhdGljIGlu
dCBzNmU4YWEwX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKK3N0YXRpYyBpbnQg
czZlOGFhMF9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCisJCQkgICAgIHN0cnVj
dCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCiB7Ci0Jc3RydWN0IGRybV9jb25uZWN0b3IgKmNv
bm5lY3RvciA9IHBhbmVsLT5jb25uZWN0b3I7CiAJc3RydWN0IHM2ZThhYTAgKmN0eCA9IHBhbmVs
X3RvX3M2ZThhYTAocGFuZWwpOwogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Vpa28tNDN3dmYxZy5jIGIv
ZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNlaWtvLTQzd3ZmMWcuYwppbmRleCBiMzYxOWJh
NDQzYmQuLmI4Nzg5MzBiMTdlNCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3Bh
bmVsLXNlaWtvLTQzd3ZmMWcuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Vp
a28tNDN3dmYxZy5jCkBAIC01Niw5ICs1Niw5IEBAIHN0YXRpYyBpbmxpbmUgc3RydWN0IHNlaWtv
X3BhbmVsICp0b19zZWlrb19wYW5lbChzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKIAlyZXR1cm4g
Y29udGFpbmVyX29mKHBhbmVsLCBzdHJ1Y3Qgc2Vpa29fcGFuZWwsIGJhc2UpOwogfQogCi1zdGF0
aWMgaW50IHNlaWtvX3BhbmVsX2dldF9maXhlZF9tb2RlcyhzdHJ1Y3Qgc2Vpa29fcGFuZWwgKnBh
bmVsKQorc3RhdGljIGludCBzZWlrb19wYW5lbF9nZXRfZml4ZWRfbW9kZXMoc3RydWN0IHNlaWtv
X3BhbmVsICpwYW5lbCwKKwkJCQkgICAgICAgc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3Rv
cikKIHsKLQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yID0gcGFuZWwtPmJhc2UuY29u
bmVjdG9yOwogCXN0cnVjdCBkcm1fZGV2aWNlICpkcm0gPSBwYW5lbC0+YmFzZS5kcm07CiAJc3Ry
dWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGU7CiAJdW5zaWduZWQgaW50IGksIG51bSA9IDA7CkBA
IC0yMDgsMTIgKzIwOCwxMyBAQCBzdGF0aWMgaW50IHNlaWtvX3BhbmVsX2VuYWJsZShzdHJ1Y3Qg
ZHJtX3BhbmVsICpwYW5lbCkKIAlyZXR1cm4gMDsKIH0KIAotc3RhdGljIGludCBzZWlrb19wYW5l
bF9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCitzdGF0aWMgaW50IHNlaWtvX3Bh
bmVsX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCwKKwkJCQkgc3RydWN0IGRybV9j
b25uZWN0b3IgKmNvbm5lY3RvcikKIHsKIAlzdHJ1Y3Qgc2Vpa29fcGFuZWwgKnAgPSB0b19zZWlr
b19wYW5lbChwYW5lbCk7CiAKIAkvKiBhZGQgaGFyZC1jb2RlZCBwYW5lbCBtb2RlcyAqLwotCXJl
dHVybiBzZWlrb19wYW5lbF9nZXRfZml4ZWRfbW9kZXMocCk7CisJcmV0dXJuIHNlaWtvX3BhbmVs
X2dldF9maXhlZF9tb2RlcyhwLCBjb25uZWN0b3IpOwogfQogCiBzdGF0aWMgaW50IHNlaWtvX3Bh
bmVsX2dldF90aW1pbmdzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsLApkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNoYXJwLWxxMTAxcjFzeDAxLmMgYi9kcml2ZXJzL2dw
dS9kcm0vcGFuZWwvcGFuZWwtc2hhcnAtbHExMDFyMXN4MDEuYwppbmRleCA1ZTEzNmMzYmExODUu
LmU3OTdiNzAwNjYxYSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNo
YXJwLWxxMTAxcjFzeDAxLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNoYXJw
LWxxMTAxcjFzeDAxLmMKQEAgLTI3OCw3ICsyNzgsOCBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGRy
bV9kaXNwbGF5X21vZGUgZGVmYXVsdF9tb2RlID0gewogCS52cmVmcmVzaCA9IDYwLAogfTsKIAot
c3RhdGljIGludCBzaGFycF9wYW5lbF9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwp
CitzdGF0aWMgaW50IHNoYXJwX3BhbmVsX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5l
bCwKKwkJCQkgc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvcikKIHsKIAlzdHJ1Y3QgZHJt
X2Rpc3BsYXlfbW9kZSAqbW9kZTsKIApAQCAtMjkyLDEwICsyOTMsMTAgQEAgc3RhdGljIGludCBz
aGFycF9wYW5lbF9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCiAKIAlkcm1fbW9k
ZV9zZXRfbmFtZShtb2RlKTsKIAotCWRybV9tb2RlX3Byb2JlZF9hZGQocGFuZWwtPmNvbm5lY3Rv
ciwgbW9kZSk7CisJZHJtX21vZGVfcHJvYmVkX2FkZChjb25uZWN0b3IsIG1vZGUpOwogCi0JcGFu
ZWwtPmNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLndpZHRoX21tID0gMjE3OwotCXBhbmVsLT5jb25u
ZWN0b3ItPmRpc3BsYXlfaW5mby5oZWlnaHRfbW0gPSAxMzY7CisJY29ubmVjdG9yLT5kaXNwbGF5
X2luZm8ud2lkdGhfbW0gPSAyMTc7CisJY29ubmVjdG9yLT5kaXNwbGF5X2luZm8uaGVpZ2h0X21t
ID0gMTM2OwogCiAJcmV0dXJuIDE7CiB9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFu
ZWwvcGFuZWwtc2hhcnAtbHMwMzd2N2R3MDEuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5l
bC1zaGFycC1sczAzN3Y3ZHcwMS5jCmluZGV4IGVlYWI3OTk4YzdkZS4uNzEwM2E5NDVmMGU4IDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2hhcnAtbHMwMzd2N2R3MDEu
YworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2hhcnAtbHMwMzd2N2R3MDEuYwpA
QCAtMTAwLDkgKzEwMCw5IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSBs
czAzN3Y3ZHcwMV9tb2RlID0gewogCS5oZWlnaHRfbW0gPSA3NSwKIH07CiAKLXN0YXRpYyBpbnQg
bHMwMzd2N2R3MDFfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQorc3RhdGljIGlu
dCBsczAzN3Y3ZHcwMV9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCisJCQkJIHN0
cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCiB7Ci0Jc3RydWN0IGRybV9jb25uZWN0b3Ig
KmNvbm5lY3RvciA9IHBhbmVsLT5jb25uZWN0b3I7CiAJc3RydWN0IGRybV9kaXNwbGF5X21vZGUg
Km1vZGU7CiAKIAltb2RlID0gZHJtX21vZGVfZHVwbGljYXRlKHBhbmVsLT5kcm0sICZsczAzN3Y3
ZHcwMV9tb2RlKTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaGFy
cC1sczA0M3QxbGUwMS5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNoYXJwLWxzMDQz
dDFsZTAxLmMKaW5kZXggYjk2M2JhNGFiNTg5Li44NWFlNmNmZmRiZmIgMTAwNjQ0Ci0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaGFycC1sczA0M3QxbGUwMS5jCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaGFycC1sczA0M3QxbGUwMS5jCkBAIC0yMTAsNyArMjEw
LDggQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlIGRlZmF1bHRfbW9kZSA9
IHsKIAkudnJlZnJlc2ggPSA2MCwKIH07CiAKLXN0YXRpYyBpbnQgc2hhcnBfbnRfcGFuZWxfZ2V0
X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQorc3RhdGljIGludCBzaGFycF9udF9wYW5l
bF9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCisJCQkJICAgIHN0cnVjdCBkcm1f
Y29ubmVjdG9yICpjb25uZWN0b3IpCiB7CiAJc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGU7
CiAKQEAgLTIyNCwxMCArMjI1LDEwIEBAIHN0YXRpYyBpbnQgc2hhcnBfbnRfcGFuZWxfZ2V0X21v
ZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQogCiAJZHJtX21vZGVfc2V0X25hbWUobW9kZSk7
CiAKLQlkcm1fbW9kZV9wcm9iZWRfYWRkKHBhbmVsLT5jb25uZWN0b3IsIG1vZGUpOworCWRybV9t
b2RlX3Byb2JlZF9hZGQoY29ubmVjdG9yLCBtb2RlKTsKIAotCXBhbmVsLT5jb25uZWN0b3ItPmRp
c3BsYXlfaW5mby53aWR0aF9tbSA9IDU0OwotCXBhbmVsLT5jb25uZWN0b3ItPmRpc3BsYXlfaW5m
by5oZWlnaHRfbW0gPSA5NTsKKwljb25uZWN0b3ItPmRpc3BsYXlfaW5mby53aWR0aF9tbSA9IDU0
OworCWNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLmhlaWdodF9tbSA9IDk1OwogCiAJcmV0dXJuIDE7
CiB9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2ltcGxlLmMgYi9k
cml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2ltcGxlLmMKaW5kZXggYTVkZjZkNmRkNDU1Li5k
NjI5OWZlNmQyNzYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaW1w
bGUuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2ltcGxlLmMKQEAgLTExNyw5
ICsxMTcsOSBAQCBzdGF0aWMgaW5saW5lIHN0cnVjdCBwYW5lbF9zaW1wbGUgKnRvX3BhbmVsX3Np
bXBsZShzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKIAlyZXR1cm4gY29udGFpbmVyX29mKHBhbmVs
LCBzdHJ1Y3QgcGFuZWxfc2ltcGxlLCBiYXNlKTsKIH0KIAotc3RhdGljIHVuc2lnbmVkIGludCBw
YW5lbF9zaW1wbGVfZ2V0X3RpbWluZ3NfbW9kZXMoc3RydWN0IHBhbmVsX3NpbXBsZSAqcGFuZWwp
CitzdGF0aWMgdW5zaWduZWQgaW50IHBhbmVsX3NpbXBsZV9nZXRfdGltaW5nc19tb2RlcyhzdHJ1
Y3QgcGFuZWxfc2ltcGxlICpwYW5lbCwKKwkJCQkJCSAgIHN0cnVjdCBkcm1fY29ubmVjdG9yICpj
b25uZWN0b3IpCiB7Ci0Jc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciA9IHBhbmVsLT5i
YXNlLmNvbm5lY3RvcjsKIAlzdHJ1Y3QgZHJtX2RldmljZSAqZHJtID0gcGFuZWwtPmJhc2UuZHJt
OwogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCXVuc2lnbmVkIGludCBpLCBudW0g
PSAwOwpAQCAtMTUwLDkgKzE1MCw5IEBAIHN0YXRpYyB1bnNpZ25lZCBpbnQgcGFuZWxfc2ltcGxl
X2dldF90aW1pbmdzX21vZGVzKHN0cnVjdCBwYW5lbF9zaW1wbGUgKnBhbmVsKQogCXJldHVybiBu
dW07CiB9CiAKLXN0YXRpYyB1bnNpZ25lZCBpbnQgcGFuZWxfc2ltcGxlX2dldF9kaXNwbGF5X21v
ZGVzKHN0cnVjdCBwYW5lbF9zaW1wbGUgKnBhbmVsKQorc3RhdGljIHVuc2lnbmVkIGludCBwYW5l
bF9zaW1wbGVfZ2V0X2Rpc3BsYXlfbW9kZXMoc3RydWN0IHBhbmVsX3NpbXBsZSAqcGFuZWwsCisJ
CQkJCQkgICBzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogewotCXN0cnVjdCBkcm1f
Y29ubmVjdG9yICpjb25uZWN0b3IgPSBwYW5lbC0+YmFzZS5jb25uZWN0b3I7CiAJc3RydWN0IGRy
bV9kZXZpY2UgKmRybSA9IHBhbmVsLT5iYXNlLmRybTsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9k
ZSAqbW9kZTsKIAl1bnNpZ25lZCBpbnQgaSwgbnVtID0gMDsKQEAgLTE4MSw5ICsxODEsOSBAQCBz
dGF0aWMgdW5zaWduZWQgaW50IHBhbmVsX3NpbXBsZV9nZXRfZGlzcGxheV9tb2RlcyhzdHJ1Y3Qg
cGFuZWxfc2ltcGxlICpwYW5lbCkKIAlyZXR1cm4gbnVtOwogfQogCi1zdGF0aWMgaW50IHBhbmVs
X3NpbXBsZV9nZXRfbm9uX2VkaWRfbW9kZXMoc3RydWN0IHBhbmVsX3NpbXBsZSAqcGFuZWwpCitz
dGF0aWMgaW50IHBhbmVsX3NpbXBsZV9nZXRfbm9uX2VkaWRfbW9kZXMoc3RydWN0IHBhbmVsX3Np
bXBsZSAqcGFuZWwsCisJCQkJCSAgIHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCiB7
Ci0Jc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciA9IHBhbmVsLT5iYXNlLmNvbm5lY3Rv
cjsKIAlzdHJ1Y3QgZHJtX2RldmljZSAqZHJtID0gcGFuZWwtPmJhc2UuZHJtOwogCXN0cnVjdCBk
cm1fZGlzcGxheV9tb2RlICptb2RlOwogCWJvb2wgaGFzX292ZXJyaWRlID0gcGFuZWwtPm92ZXJy
aWRlX21vZGUudHlwZTsKQEAgLTIwNCw3ICsyMDQsNyBAQCBzdGF0aWMgaW50IHBhbmVsX3NpbXBs
ZV9nZXRfbm9uX2VkaWRfbW9kZXMoc3RydWN0IHBhbmVsX3NpbXBsZSAqcGFuZWwpCiAKIAkvKiBP
bmx5IGFkZCB0aW1pbmdzIGlmIG92ZXJyaWRlIHdhcyBub3QgdGhlcmUgb3IgZmFpbGVkIHRvIHZh
bGlkYXRlICovCiAJaWYgKG51bSA9PSAwICYmIHBhbmVsLT5kZXNjLT5udW1fdGltaW5ncykKLQkJ
bnVtID0gcGFuZWxfc2ltcGxlX2dldF90aW1pbmdzX21vZGVzKHBhbmVsKTsKKwkJbnVtID0gcGFu
ZWxfc2ltcGxlX2dldF90aW1pbmdzX21vZGVzKHBhbmVsLCBjb25uZWN0b3IpOwogCiAJLyoKIAkg
KiBPbmx5IGFkZCBmaXhlZCBtb2RlcyBpZiB0aW1pbmdzL292ZXJyaWRlIGFkZGVkIG5vIG1vZGUu
CkBAIC0yMTQsNyArMjE0LDcgQEAgc3RhdGljIGludCBwYW5lbF9zaW1wbGVfZ2V0X25vbl9lZGlk
X21vZGVzKHN0cnVjdCBwYW5lbF9zaW1wbGUgKnBhbmVsKQogCSAqLwogCVdBUk5fT04ocGFuZWwt
PmRlc2MtPm51bV90aW1pbmdzICYmIHBhbmVsLT5kZXNjLT5udW1fbW9kZXMpOwogCWlmIChudW0g
PT0gMCkKLQkJbnVtID0gcGFuZWxfc2ltcGxlX2dldF9kaXNwbGF5X21vZGVzKHBhbmVsKTsKKwkJ
bnVtID0gcGFuZWxfc2ltcGxlX2dldF9kaXNwbGF5X21vZGVzKHBhbmVsLCBjb25uZWN0b3IpOwog
CiAJY29ubmVjdG9yLT5kaXNwbGF5X2luZm8uYnBjID0gcGFuZWwtPmRlc2MtPmJwYzsKIAljb25u
ZWN0b3ItPmRpc3BsYXlfaW5mby53aWR0aF9tbSA9IHBhbmVsLT5kZXNjLT5zaXplLndpZHRoOwpA
QCAtMzA0LDIzICszMDQsMjQgQEAgc3RhdGljIGludCBwYW5lbF9zaW1wbGVfZW5hYmxlKHN0cnVj
dCBkcm1fcGFuZWwgKnBhbmVsKQogCXJldHVybiAwOwogfQogCi1zdGF0aWMgaW50IHBhbmVsX3Np
bXBsZV9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCitzdGF0aWMgaW50IHBhbmVs
X3NpbXBsZV9nZXRfbW9kZXMoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwsCisJCQkJICBzdHJ1Y3Qg
ZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogewogCXN0cnVjdCBwYW5lbF9zaW1wbGUgKnAgPSB0
b19wYW5lbF9zaW1wbGUocGFuZWwpOwogCWludCBudW0gPSAwOwogCiAJLyogcHJvYmUgRURJRCBp
ZiBhIEREQyBidXMgaXMgYXZhaWxhYmxlICovCiAJaWYgKHAtPmRkYykgewotCQlzdHJ1Y3QgZWRp
ZCAqZWRpZCA9IGRybV9nZXRfZWRpZChwYW5lbC0+Y29ubmVjdG9yLCBwLT5kZGMpOwotCQlkcm1f
Y29ubmVjdG9yX3VwZGF0ZV9lZGlkX3Byb3BlcnR5KHBhbmVsLT5jb25uZWN0b3IsIGVkaWQpOwor
CQlzdHJ1Y3QgZWRpZCAqZWRpZCA9IGRybV9nZXRfZWRpZChjb25uZWN0b3IsIHAtPmRkYyk7CisJ
CWRybV9jb25uZWN0b3JfdXBkYXRlX2VkaWRfcHJvcGVydHkoY29ubmVjdG9yLCBlZGlkKTsKIAkJ
aWYgKGVkaWQpIHsKLQkJCW51bSArPSBkcm1fYWRkX2VkaWRfbW9kZXMocGFuZWwtPmNvbm5lY3Rv
ciwgZWRpZCk7CisJCQludW0gKz0gZHJtX2FkZF9lZGlkX21vZGVzKGNvbm5lY3RvciwgZWRpZCk7
CiAJCQlrZnJlZShlZGlkKTsKIAkJfQogCX0KIAogCS8qIGFkZCBoYXJkLWNvZGVkIHBhbmVsIG1v
ZGVzICovCi0JbnVtICs9IHBhbmVsX3NpbXBsZV9nZXRfbm9uX2VkaWRfbW9kZXMocCk7CisJbnVt
ICs9IHBhbmVsX3NpbXBsZV9nZXRfbm9uX2VkaWRfbW9kZXMocCwgY29ubmVjdG9yKTsKIAogCXJl
dHVybiBudW07CiB9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2l0
cm9uaXgtc3Q3NzAxLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2l0cm9uaXgtc3Q3
NzAxLmMKaW5kZXggZWUzZjIzZjQ1NzU1Li4zZWQzYjFkNmQ4MmQgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaXRyb25peC1zdDc3MDEuYworKysgYi9kcml2ZXJzL2dw
dS9kcm0vcGFuZWwvcGFuZWwtc2l0cm9uaXgtc3Q3NzAxLmMKQEAgLTI2NCw3ICsyNjQsOCBAQCBz
dGF0aWMgaW50IHN0NzcwMV91bnByZXBhcmUoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCiAJcmV0
dXJuIDA7CiB9CiAKLXN0YXRpYyBpbnQgc3Q3NzAxX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVs
ICpwYW5lbCkKK3N0YXRpYyBpbnQgc3Q3NzAxX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpw
YW5lbCwKKwkJCSAgICBzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogewogCXN0cnVj
dCBzdDc3MDEgKnN0NzcwMSA9IHBhbmVsX3RvX3N0NzcwMShwYW5lbCk7CiAJY29uc3Qgc3RydWN0
IGRybV9kaXNwbGF5X21vZGUgKmRlc2NfbW9kZSA9IHN0NzcwMS0+ZGVzYy0+bW9kZTsKQEAgLTI4
MCwxMCArMjgxLDEwIEBAIHN0YXRpYyBpbnQgc3Q3NzAxX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3Bh
bmVsICpwYW5lbCkKIAl9CiAKIAlkcm1fbW9kZV9zZXRfbmFtZShtb2RlKTsKLQlkcm1fbW9kZV9w
cm9iZWRfYWRkKHBhbmVsLT5jb25uZWN0b3IsIG1vZGUpOworCWRybV9tb2RlX3Byb2JlZF9hZGQo
Y29ubmVjdG9yLCBtb2RlKTsKIAotCXBhbmVsLT5jb25uZWN0b3ItPmRpc3BsYXlfaW5mby53aWR0
aF9tbSA9IGRlc2NfbW9kZS0+d2lkdGhfbW07Ci0JcGFuZWwtPmNvbm5lY3Rvci0+ZGlzcGxheV9p
bmZvLmhlaWdodF9tbSA9IGRlc2NfbW9kZS0+aGVpZ2h0X21tOworCWNvbm5lY3Rvci0+ZGlzcGxh
eV9pbmZvLndpZHRoX21tID0gZGVzY19tb2RlLT53aWR0aF9tbTsKKwljb25uZWN0b3ItPmRpc3Bs
YXlfaW5mby5oZWlnaHRfbW0gPSBkZXNjX21vZGUtPmhlaWdodF9tbTsKIAogCXJldHVybiAxOwog
fQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNpdHJvbml4LXN0Nzc4
OXYuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zaXRyb25peC1zdDc3ODl2LmMKaW5k
ZXggMTA4YTg1YmI2NjY3Li44MzZiMDEzMzE1MDUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9wYW5lbC9wYW5lbC1zaXRyb25peC1zdDc3ODl2LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3Bh
bmVsL3BhbmVsLXNpdHJvbml4LXN0Nzc4OXYuYwpAQCAtMTcwLDkgKzE3MCw5IEBAIHN0YXRpYyBj
b25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSBkZWZhdWx0X21vZGUgPSB7CiAJLnZyZWZyZXNo
ID0gNjAsCiB9OwogCi1zdGF0aWMgaW50IHN0Nzc4OXZfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFu
ZWwgKnBhbmVsKQorc3RhdGljIGludCBzdDc3ODl2X2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVs
ICpwYW5lbCwKKwkJCSAgICAgc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvcikKIHsKLQlz
dHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yID0gcGFuZWwtPmNvbm5lY3RvcjsKIAlzdHJ1
Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAogCW1vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUo
cGFuZWwtPmRybSwgJmRlZmF1bHRfbW9kZSk7CkBAIC0xODgsOCArMTg4LDggQEAgc3RhdGljIGlu
dCBzdDc3ODl2X2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCkKIAltb2RlLT50eXBl
ID0gRFJNX01PREVfVFlQRV9EUklWRVIgfCBEUk1fTU9ERV9UWVBFX1BSRUZFUlJFRDsKIAlkcm1f
bW9kZV9wcm9iZWRfYWRkKGNvbm5lY3RvciwgbW9kZSk7CiAKLQlwYW5lbC0+Y29ubmVjdG9yLT5k
aXNwbGF5X2luZm8ud2lkdGhfbW0gPSA2MTsKLQlwYW5lbC0+Y29ubmVjdG9yLT5kaXNwbGF5X2lu
Zm8uaGVpZ2h0X21tID0gMTAzOworCWNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLndpZHRoX21tID0g
NjE7CisJY29ubmVjdG9yLT5kaXNwbGF5X2luZm8uaGVpZ2h0X21tID0gMTAzOwogCiAJcmV0dXJu
IDE7CiB9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc29ueS1hY3g1
NjVha20uYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zb255LWFjeDU2NWFrbS5jCmlu
ZGV4IGQ2Mzg3ZDhmODhhMy4uODQxZGM3M2M0NDNkIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vcGFuZWwvcGFuZWwtc29ueS1hY3g1NjVha20uYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFu
ZWwvcGFuZWwtc29ueS1hY3g1NjVha20uYwpAQCAtNTIxLDkgKzUyMSw5IEBAIHN0YXRpYyBjb25z
dCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSBhY3g1NjVha21fbW9kZSA9IHsKIAkuaGVpZ2h0X21t
ID0gNDYsCiB9OwogCi1zdGF0aWMgaW50IGFjeDU2NWFrbV9nZXRfbW9kZXMoc3RydWN0IGRybV9w
YW5lbCAqcGFuZWwpCitzdGF0aWMgaW50IGFjeDU2NWFrbV9nZXRfbW9kZXMoc3RydWN0IGRybV9w
YW5lbCAqcGFuZWwsCisJCQkgICAgICAgc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvcikK
IHsKLQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yID0gcGFuZWwtPmNvbm5lY3RvcjsK
IAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZTsKIAogCW1vZGUgPSBkcm1fbW9kZV9kdXBs
aWNhdGUocGFuZWwtPmRybSwgJmFjeDU2NWFrbV9tb2RlKTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9wYW5lbC9wYW5lbC10cG8tdGQwMjh0dGVjMS5jIGIvZHJpdmVycy9ncHUvZHJtL3Bh
bmVsL3BhbmVsLXRwby10ZDAyOHR0ZWMxLmMKaW5kZXggYzQ0ZDZhNjVjMGFhLi41MjMwMTc2YmQ4
ZTYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC10cG8tdGQwMjh0dGVj
MS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC10cG8tdGQwMjh0dGVjMS5jCkBA
IC0yODcsOSArMjg3LDkgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlIHRk
MDI4dHRlYzFfbW9kZSA9IHsKIAkuaGVpZ2h0X21tID0gNTgsCiB9OwogCi1zdGF0aWMgaW50IHRk
MDI4dHRlYzFfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFuZWwgKnBhbmVsKQorc3RhdGljIGludCB0
ZDAyOHR0ZWMxX2dldF9tb2RlcyhzdHJ1Y3QgZHJtX3BhbmVsICpwYW5lbCwKKwkJCQlzdHJ1Y3Qg
ZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogewotCXN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25u
ZWN0b3IgPSBwYW5lbC0+Y29ubmVjdG9yOwogCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2Rl
OwogCiAJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0ZShwYW5lbC0+ZHJtLCAmdGQwMjh0dGVjMV9t
b2RlKTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC10cG8tdGQwNDNt
dGVhMS5jIGIvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXRwby10ZDA0M210ZWExLmMKaW5k
ZXggNjIxYjY1ZmVlYzA3Li43MTZmOGVkMWNjNDUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9wYW5lbC9wYW5lbC10cG8tdGQwNDNtdGVhMS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5l
bC9wYW5lbC10cG8tdGQwNDNtdGVhMS5jCkBAIC0zNDYsOSArMzQ2LDkgQEAgc3RhdGljIGNvbnN0
IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlIHRkMDQzbXRlYTFfbW9kZSA9IHsKIAkuaGVpZ2h0X21t
ID0gNTYsCiB9OwogCi1zdGF0aWMgaW50IHRkMDQzbXRlYTFfZ2V0X21vZGVzKHN0cnVjdCBkcm1f
cGFuZWwgKnBhbmVsKQorc3RhdGljIGludCB0ZDA0M210ZWExX2dldF9tb2RlcyhzdHJ1Y3QgZHJt
X3BhbmVsICpwYW5lbCwKKwkJCQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogewot
CXN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IgPSBwYW5lbC0+Y29ubmVjdG9yOwogCXN0
cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlOwogCiAJbW9kZSA9IGRybV9tb2RlX2R1cGxpY2F0
ZShwYW5lbC0+ZHJtLCAmdGQwNDNtdGVhMV9tb2RlKTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9wYW5lbC9wYW5lbC10cG8tdHBnMTEwLmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFu
ZWwtdHBvLXRwZzExMC5jCmluZGV4IDFhNTQxOGFlMmNjZi4uZTc0Y2Q5ZDQxOGNmIDEwMDY0NAot
LS0gYS9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtdHBvLXRwZzExMC5jCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9wYW5lbC9wYW5lbC10cG8tdHBnMTEwLmMKQEAgLTM4NCw5ICszODQsOSBAQCBz
dGF0aWMgaW50IHRwZzExMF9lbmFibGUoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCiAgKiBwcmVz
ZW50cyB0aGUgbW9kZSB0aGF0IGlzIGNvbmZpZ3VyZWQgZm9yIHRoZSBzeXN0ZW0gdW5kZXIgdXNl
LAogICogYW5kIHdoaWNoIGlzIGRldGVjdGVkIGJ5IHJlYWRpbmcgdGhlIHJlZ2lzdGVycyBvZiB0
aGUgZGlzcGxheS4KICAqLwotc3RhdGljIGludCB0cGcxMTBfZ2V0X21vZGVzKHN0cnVjdCBkcm1f
cGFuZWwgKnBhbmVsKQorc3RhdGljIGludCB0cGcxMTBfZ2V0X21vZGVzKHN0cnVjdCBkcm1fcGFu
ZWwgKnBhbmVsLAorCQkJICAgIHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCiB7Ci0J
c3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciA9IHBhbmVsLT5jb25uZWN0b3I7CiAJc3Ry
dWN0IHRwZzExMCAqdHBnID0gdG9fdHBnMTEwKHBhbmVsKTsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlf
bW9kZSAqbW9kZTsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXRy
dWx5LW50MzU1OTcuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC10cnVseS1udDM1NTk3
LmMKaW5kZXggMGZlZWEyNDU2ZTE0Li4wMTJjYTYyYmYzMGUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9wYW5lbC9wYW5lbC10cnVseS1udDM1NTk3LmMKKysrIGIvZHJpdmVycy9ncHUvZHJt
L3BhbmVsL3BhbmVsLXRydWx5LW50MzU1OTcuYwpAQCAtNDU0LDkgKzQ1NCw5IEBAIHN0YXRpYyBp
bnQgdHJ1bHlfbnQzNTU5N19lbmFibGUoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpCiAJcmV0dXJu
IDA7CiB9CiAKLXN0YXRpYyBpbnQgdHJ1bHlfbnQzNTU5N19nZXRfbW9kZXMoc3RydWN0IGRybV9w
YW5lbCAqcGFuZWwpCitzdGF0aWMgaW50IHRydWx5X250MzU1OTdfZ2V0X21vZGVzKHN0cnVjdCBk
cm1fcGFuZWwgKnBhbmVsLAorCQkJCSAgIHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3Ip
CiB7Ci0Jc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciA9IHBhbmVsLT5jb25uZWN0b3I7
CiAJc3RydWN0IHRydWx5X250MzU1OTcgKmN0eCA9IHBhbmVsX3RvX2N0eChwYW5lbCk7CiAJc3Ry
dWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGU7CiAJY29uc3Qgc3RydWN0IG50MzU1OTdfY29uZmln
ICpjb25maWc7CmRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS9kcm1fcGFuZWwuaCBiL2luY2x1ZGUv
ZHJtL2RybV9wYW5lbC5oCmluZGV4IGQzMGM5ODU2NzM4NC4uYTVmNzE5OTgwN2YyIDEwMDY0NAot
LS0gYS9pbmNsdWRlL2RybS9kcm1fcGFuZWwuaAorKysgYi9pbmNsdWRlL2RybS9kcm1fcGFuZWwu
aApAQCAtMTAwLDcgKzEwMCw4IEBAIHN0cnVjdCBkcm1fcGFuZWxfZnVuY3MgewogCSAqIEFkZCBt
b2RlcyB0byB0aGUgY29ubmVjdG9yIHRoYXQgdGhlIHBhbmVsIGlzIGF0dGFjaGVkIHRvIGFuZAog
CSAqIHJldHVybiB0aGUgbnVtYmVyIG9mIG1vZGVzIGFkZGVkLgogCSAqLwotCWludCAoKmdldF9t
b2Rlcykoc3RydWN0IGRybV9wYW5lbCAqcGFuZWwpOworCWludCAoKmdldF9tb2Rlcykoc3RydWN0
IGRybV9wYW5lbCAqcGFuZWwsCisJCQkgc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3Rvcik7
CiAKIAkvKioKIAkgKiBAZ2V0X3RpbWluZ3M6Ci0tIAoyLjIwLjEKCl9fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJp
LWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9y
Zy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
