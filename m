Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 4005167A79
	for <lists+dri-devel@lfdr.de>; Sat, 13 Jul 2019 16:24:49 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 802E989F6B;
	Sat, 13 Jul 2019 14:24:36 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from imap1.codethink.co.uk (imap1.codethink.co.uk [176.9.8.82])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 96C71894C5
 for <dri-devel@lists.freedesktop.org>; Fri, 12 Jul 2019 12:43:28 +0000 (UTC)
Received: from [167.98.27.226] (helo=[10.35.6.255])
 by imap1.codethink.co.uk with esmtpsa (Exim 4.84_2 #1 (Debian))
 id 1hlutW-0005sm-6E; Fri, 12 Jul 2019 13:43:22 +0100
Subject: Re: [PATCH v1 06/11] ti948: Reconfigure in the alive check when
 device returns
To: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
References: <20190611140412.32151-1-michael.drake@codethink.co.uk>
 <20190611140412.32151-7-michael.drake@codethink.co.uk>
 <20190611181046.GU5016@pendragon.ideasonboard.com>
From: Michael Drake <michael.drake@codethink.co.uk>
Message-ID: <8aed947d-91ae-c67b-9911-9365bf80aac3@codethink.co.uk>
Date: Fri, 12 Jul 2019 13:43:21 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.7.2
MIME-Version: 1.0
In-Reply-To: <20190611181046.GU5016@pendragon.ideasonboard.com>
Content-Language: en-US
X-Mailman-Approved-At: Sat, 13 Jul 2019 14:24:23 +0000
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Mark Rutland <mark.rutland@arm.com>, devicetree@vger.kernel.org,
 David Airlie <airlied@linux.ie>, linux-kernel@vger.kernel.org,
 dri-devel@lists.freedesktop.org, Nate Case <ncase@tesla.com>,
 Rob Herring <robh+dt@kernel.org>, linux-kernel@lists.codethink.co.uk,
 Patrick Glaser <pglaser@tesla.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgTGF1cmVudCwKCk9uIDExLzA2LzIwMTkgMTk6MTAsIExhdXJlbnQgUGluY2hhcnQgd3JvdGU6
Cj4gSGkgTWljaGFlbCwKPiAKPiBUaGFuayB5b3UgZm9yIHRoZSBwYXRjaC4KCk15IHBsZWFzdXJl
LCBhbmQgdGhhbmsgeW91IGZvciB0aGUgZmVlZGJhY2shCgo+IE9uIFR1ZSwgSnVuIDExLCAyMDE5
IGF0IDAzOjA0OjA3UE0gKzAxMDAsIE1pY2hhZWwgRHJha2Ugd3JvdGU6Cj4+IElmIHRoZSBhbGl2
ZSBjaGVjayBkZXRlY3RzIGEgdHJhbnNpdGlvbiB0byB0aGUgYWxpdmUgc3RhdGUsCj4+IHRoZSBk
ZXZpY2UgY29uZmlndXJhdGlvbiBpcyByZXdyaXR0ZW4uCj4gCj4gVGhpcyBzZWVtcyBsaWtlIGEg
YmlnIGhhY2suIFlvdSB3aWxsIGhhdmUgYXQgdGhlIHZlcnkgbGVhc3QgdG8gZXhwbGFpbgo+IHdo
eSB0aGlzIGlzIG5lZWRlZCwgYW5kIHdoeSB5b3UgY2FuJ3QgY29uZmlndXJlIHRoZSBkZXZpY2Ug
aW4gcmVzcG9uc2UKPiB0byBkcm1fYnJpZGdlIG9wZXJhdGlvbiBjYWxscy4KClRoZSB0aTk0OCBk
ZXZpY2UgaXMgc2l0dWF0ZWQgaW5zaWRlIHRoZSBob3VzaW5nIG9mIHRoZSBMQ0QKcGFuZWwuICBU
aGUgdGk5NDkgaXMgYSBub3JtYWwgaTJjIGRldmljZSBvbiB0aGUgc3lzdGVtIGkyYwpidXMuICBJ
biBvcmRlciBmb3IgdGhlIHRpOTQ4IHRvIGFwcGVhciBvbiB0aGUgc3lzdGVtJ3MgaTJjCmJ1cywg
dGhlIHRpOTQ5IG11c3QgYmUgcG93ZXJlZCB1cCBhbmQgY29uZmlndXJlZC4KClRoZSBwYW5lbCBp
cyBjb25uZWN0ZWQgdG8gdGhlIHN5c3RlbSB2aWEgdGhlIEZQRC1MaW5rIElJSS4KSWYgYSBjb25u
ZWN0b3IgZm9yIHRoZSB3aXJlIHRvIHRoZSBkaXNwbGF5IGlzIHVucGx1Z2dlZCBhbmQKcmUtaW5z
ZXJ0ZWQsIHRoZW4gdGhlIHRpOTQ4IHdpbGwgZHJvcCBvdXQgYW5kIGNvbWUgYmFjay4KCkFwcGxp
Y2F0aW9uIG5vdGUgQU4tMjE3MywgIkkyQyBDb21tdW5pY2F0aW9uIE92ZXIKRlBELUxpbmtJSUkg
d2l0aCBCaWRpcmVjdGlvbmFsIENvbnRyb2wgQ2hhbm5lbCIgZGVzY3JpYmVzCnRoaXM6CgogIGh0
dHA6Ly93d3cudGkuY29tL2xpdC9hbi9zbmxhMTMxYS9zbmxhMTMxYS5wZGYKClBlcmhhcHMgSSBu
ZWVkIHRvIGV4cGFuZCB0aGUgY29tbWl0IG1lc3NhZ2UgdG8gZXhwbGFpbiB0aGlzPwoKQWx0ZXJu
YXRpdmVseSBpcyB0aGVyZSBhIG1vcmUgc3RhbmRhcmQgd2F5IG9mIGRlYWxpbmcgd2l0aApyZW1v
dGVseSBjb25uZWN0ZWQgaTJjIGRldmljZXM/Cgo+PiBTaWduZWQtb2ZmLWJ5OiBNaWNoYWVsIERy
YWtlIDxtaWNoYWVsLmRyYWtlQGNvZGV0aGluay5jby51az4KPj4gQ2M6IFBhdHJpY2sgR2xhc2Vy
IDxwZ2xhc2VyQHRlc2xhLmNvbT4KPj4gQ2M6IE5hdGUgQ2FzZSA8bmNhc2VAdGVzbGEuY29tPgo+
PiAtLS0KPj4gIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvdGk5NDguYyB8IDE5ICsrKysrKysrKysr
KysrKysrKy0KPj4gIDEgZmlsZSBjaGFuZ2VkLCAxOCBpbnNlcnRpb25zKCspLCAxIGRlbGV0aW9u
KC0pCj4+Cj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3RpOTQ4LmMgYi9k
cml2ZXJzL2dwdS9kcm0vYnJpZGdlL3RpOTQ4LmMKPj4gaW5kZXggODZkYWEzNzAxYjkxLi5iNWM3
NjY3MTFjNGIgMTAwNjQ0Cj4+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvdGk5NDguYwo+
PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3RpOTQ4LmMKPj4gQEAgLTEzMiw2ICsxMzIs
OCBAQCBzdHJ1Y3QgdGk5NDhfcmVnX3ZhbCB7Cj4+ICAgKiBAcmVnX25hbWVzOiAgIEFycmF5IG9m
IHJlZ3VsYXRvciBuYW1lcywgb3IgTlVMTC4KPj4gICAqIEByZWdzOiAgICAgICAgQXJyYXkgb2Yg
cmVndWxhdG9ycywgb3IgTlVMTC4KPj4gICAqIEByZWdfY291bnQ6ICAgTnVtYmVyIG9mIGVudHJp
ZXMgaW4gcmVnX25hbWVzIGFuZCByZWdzIGFycmF5cy4KPj4gKyAqIEBhbGl2ZV9jaGVjazogQ29u
dGV4dCBmb3IgdGhlIGFsaXZlIGNoZWNraW5nIHdvcmsgaXRlbS4KPj4gKyAqIEBhbGl2ZTogICAg
ICAgV2hldGhlciB0aGUgZGV2aWNlIGlzIGFsaXZlIG9yIG5vdCAoYWxpdmVfY2hlY2spLgo+PiAg
ICovCj4+ICBzdHJ1Y3QgdGk5NDhfY3R4IHsKPj4gIAlzdHJ1Y3QgaTJjX2NsaWVudCAqaTJjOwo+
PiBAQCAtMTQxLDYgKzE0Myw4IEBAIHN0cnVjdCB0aTk0OF9jdHggewo+PiAgCWNvbnN0IGNoYXIg
KipyZWdfbmFtZXM7Cj4+ICAJc3RydWN0IHJlZ3VsYXRvciAqKnJlZ3M7Cj4+ICAJc2l6ZV90IHJl
Z19jb3VudDsKPj4gKwlzdHJ1Y3QgZGVsYXllZF93b3JrIGFsaXZlX2NoZWNrOwo+PiArCWJvb2wg
YWxpdmU7Cj4+ICB9Owo+PiAgCj4+ICBzdGF0aWMgYm9vbCB0aTk0OF9yZWFkYWJsZV9yZWcoc3Ry
dWN0IGRldmljZSAqZGV2LCB1bnNpZ25lZCBpbnQgcmVnKQo+PiBAQCAtMzQ2LDYgKzM1MCw4IEBA
IHN0YXRpYyBpbnQgdGk5NDhfcG93ZXJfb24oc3RydWN0IHRpOTQ4X2N0eCAqdGk5NDgpCj4+ICAJ
aWYgKHJldCAhPSAwKQo+PiAgCQlyZXR1cm4gcmV0Owo+PiAgCj4+ICsJdGk5NDgtPmFsaXZlID0g
dHJ1ZTsKPj4gKwo+PiAgCW1zbGVlcCg1MDApOwo+PiAgCj4+ICAJcmV0dXJuIDA7Cj4+IEBAIC0z
NTYsNiArMzYyLDggQEAgc3RhdGljIGludCB0aTk0OF9wb3dlcl9vZmYoc3RydWN0IHRpOTQ4X2N0
eCAqdGk5NDgpCj4+ICAJaW50IGk7Cj4+ICAJaW50IHJldDsKPj4gIAo+PiArCXRpOTQ4LT5hbGl2
ZSA9IGZhbHNlOwo+PiArCj4+ICAJZm9yIChpID0gdGk5NDgtPnJlZ19jb3VudDsgaSA+IDA7IGkt
LSkgewo+PiAgCQlkZXZfaW5mbygmdGk5NDgtPmkyYy0+ZGV2LCAiRGlzYWJsaW5nICVzIHJlZ3Vs
YXRvclxuIiwKPj4gIAkJCQl0aTk0OC0+cmVnX25hbWVzW2kgLSAxXSk7Cj4+IEBAIC0zODgsOCAr
Mzk2LDE3IEBAIHN0YXRpYyB2b2lkIHRpOTQ4X2FsaXZlX2NoZWNrKHN0cnVjdCB3b3JrX3N0cnVj
dCAqd29yaykKPj4gIHsKPj4gIAlzdHJ1Y3QgZGVsYXllZF93b3JrICpkd29yayA9IHRvX2RlbGF5
ZWRfd29yayh3b3JrKTsKPj4gIAlzdHJ1Y3QgdGk5NDhfY3R4ICp0aTk0OCA9IGRlbGF5ZWRfd29y
a190b190aTk0OF9jdHgoZHdvcmspOwo+PiArCWludCByZXQgPSB0aTk0OF9kZXZpY2VfY2hlY2so
dGk5NDgpOwo+PiAgCj4+IC0JZGV2X2luZm8oJnRpOTQ4LT5pMmMtPmRldiwgIiVzIEFsaXZlIGNo
ZWNrIVxuIiwgX19mdW5jX18pOwo+PiArCWlmICh0aTk0OC0+YWxpdmUgPT0gZmFsc2UgJiYgcmV0
ID09IDApIHsKPj4gKwkJZGV2X2luZm8oJnRpOTQ4LT5pMmMtPmRldiwgIkRldmljZSBoYXMgY29t
ZSBiYWNrIHRvIGxpZmUhXG4iKTsKPj4gKwkJdGk5NDhfd3JpdGVfY29uZmlnX3NlcSh0aTk0OCk7
Cj4+ICsJCXRpOTQ4LT5hbGl2ZSA9IHRydWU7Cj4+ICsKPj4gKwl9IGVsc2UgaWYgKHRpOTQ4LT5h
bGl2ZSA9PSB0cnVlICYmIHJldCAhPSAwKSB7Cj4+ICsJCWRldl9pbmZvKCZ0aTk0OC0+aTJjLT5k
ZXYsICJEZXZpY2UgaGFzIHN0b3BwZWQgcmVzcG9uZGluZ1xuIik7Cj4+ICsJCXRpOTQ4LT5hbGl2
ZSA9IGZhbHNlOwo+PiArCX0KPj4gIAo+PiAgCS8qIFJlc2NoZWR1bGUgb3Vyc2VsZiBmb3IgdGhl
IG5leHQgY2hlY2suICovCj4+ICAJc2NoZWR1bGVfZGVsYXllZF93b3JrKCZ0aTk0OC0+YWxpdmVf
Y2hlY2ssIFRJOTQ4X0FMSVZFX0NIRUNLX0RFTEFZKTsKPiAKCi0tIApNaWNoYWVsIERyYWtlICAg
ICAgICAgICAgICAgICBodHRwczovL3d3dy5jb2RldGhpbmsuY28udWsvCl9fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QK
ZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9w
Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
