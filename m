Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 1BF3BE4F32
	for <lists+dri-devel@lfdr.de>; Fri, 25 Oct 2019 16:33:48 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 064B66E9FE;
	Fri, 25 Oct 2019 14:33:45 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wm1-x343.google.com (mail-wm1-x343.google.com
 [IPv6:2a00:1450:4864:20::343])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 95A916E9FE
 for <dri-devel@lists.freedesktop.org>; Fri, 25 Oct 2019 14:33:43 +0000 (UTC)
Received: by mail-wm1-x343.google.com with SMTP id w9so2227128wmm.5
 for <dri-devel@lists.freedesktop.org>; Fri, 25 Oct 2019 07:33:43 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:subject:to:cc:references:from:openpgp:autocrypt
 :organization:message-id:date:user-agent:mime-version:in-reply-to
 :content-language:content-transfer-encoding;
 bh=1l8uYPJaFizeK4iLDRVUxcJjpD7EAyP2tVHW1Dy+y1I=;
 b=gcI/L9de0EFCp/Ck0tFwHS1SzsIcs6TS352hTaCmgXib+d9eOCOQ1LzaU/J/fYAKv7
 QWebnz2pcvB9pFDx+QUof0h6Uf74DkQoRPYOY+TSli2A8o05KnLRjb8Vm69TaZB/mzJb
 bMxCG2U+qFu+Kbn10oAY7YhU4VX/AGKhy2gSwDPxpTpNkhv+h3HzfLI2T+nNfTGJssKk
 x/V26MyFZlzJ/Y7Ip9mN9b22Nejn0JZJAJi5xacMfTmfdwrZcsUcljiTgkkV4yoJelf2
 RegcygEMkKlnwSDHYUWuPOTeWw3yF+IxVcoZgBSt24x6zZE43G+jK7BhN0flDT8HMkSd
 XcEQ==
X-Gm-Message-State: APjAAAVBdV1mh89lz6f5m+KVZs30Wgk5keC+5ZdAfWT9H/+rGkCvtllw
 w46twt36y2yA9iNlvWTwzAHhkQ==
X-Google-Smtp-Source: APXvYqxZXjjPETHZLTmzGYG4+Q/Vg589iW86m3gMpuXR74hx0uHMy7TLcf7EtXqgtgdFv4bEFomjeA==
X-Received: by 2002:a1c:41c1:: with SMTP id o184mr3755946wma.57.1572014021716; 
 Fri, 25 Oct 2019 07:33:41 -0700 (PDT)
Received: from [192.168.1.62] (176-150-251-154.abo.bbox.fr. [176.150.251.154])
 by smtp.gmail.com with ESMTPSA id
 a17sm2164659wmb.8.2019.10.25.07.33.39
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Fri, 25 Oct 2019 07:33:41 -0700 (PDT)
Subject: Re: [PATCH v3 10/21] drm/bridge: Clarify the atomic enable/disable
 hooks semantics
To: Boris Brezillon <boris.brezillon@collabora.com>,
 dri-devel@lists.freedesktop.org
References: <20191023154512.9762-1-boris.brezillon@collabora.com>
 <20191023154512.9762-11-boris.brezillon@collabora.com>
From: Neil Armstrong <narmstrong@baylibre.com>
Openpgp: preference=signencrypt
Autocrypt: addr=narmstrong@baylibre.com; prefer-encrypt=mutual; keydata=
 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
 ZaTUOEkgIor5losDrePdPgE=
Organization: Baylibre
Message-ID: <d5d30330-3809-3f10-9b30-a7b68b60adaf@baylibre.com>
Date: Fri, 25 Oct 2019 16:33:38 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.0
MIME-Version: 1.0
In-Reply-To: <20191023154512.9762-11-boris.brezillon@collabora.com>
Content-Language: en-US
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=baylibre-com.20150623.gappssmtp.com; s=20150623;
 h=subject:to:cc:references:from:openpgp:autocrypt:organization
 :message-id:date:user-agent:mime-version:in-reply-to
 :content-language:content-transfer-encoding;
 bh=1l8uYPJaFizeK4iLDRVUxcJjpD7EAyP2tVHW1Dy+y1I=;
 b=YwgGiW6GENkFcZcDlzwGUKDPeDN8BgXM61CXs1v3u17KjvM4e/iLOPLHhY6mbKQxD8
 sPAvUeDbo9A+Pmba8WBJ3rwAVxzedLWoPzaCi6d1dWk3FFPtYnxFkEL6rVHNU9dem2e8
 sKA6KRH4WZBvNstTQzfGAeLRn5+AOfKJTOtI4GWn+11IbUj3LA0IXf0P9AiZJiu41G2d
 JSqEGMfc5HBoOBLiZ/mnLu7K+ztu3xn7H3gsJOmTwJ2I7PHDewYgTj3+4BYN4IYJcnw2
 nk+LyZKWBX6Qj78FVtpLgquZt7sb4p+YRVMIxkjFjAW4ArW4OA4KDb/IuPBsTE0Fko3I
 QSqQ==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Nikita Yushchenko <nikita.yoush@cogentembedded.com>,
 Mark Rutland <mark.rutland@arm.com>, Jernej Skrabec <jernej.skrabec@siol.net>,
 Jonas Karlman <jonas@kwiboo.se>, Andrey Smirnov <andrew.smirnov@gmail.com>,
 Seung-Woo Kim <sw0312.kim@samsung.com>, Rob Herring <robh+dt@kernel.org>,
 Kyungmin Park <kyungmin.park@samsung.com>,
 Thierry Reding <thierry.reding@gmail.com>,
 Laurent Pinchart <Laurent.pinchart@ideasonboard.com>, kernel@collabora.com,
 Sam Ravnborg <sam@ravnborg.org>, devicetree@vger.kernel.org,
 Chris Healy <cphealy@gmail.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gMjMvMTAvMjAxOSAxNzo0NSwgQm9yaXMgQnJlemlsbG9uIHdyb3RlOgo+IFRoZSBbcHJlX11l
bmFibGUvW3Bvc3RfXWRpc2FibGUgaG9va3MgYXJlIHBhc3NlZCB0aGUgb2xkIGF0b21pYyBzdGF0
ZS4KPiBVcGRhdGUgdGhlIGRvYyBhbmQgcmVuYW1lIHRoZSBhcmd1bWVudHMgdG8gbWFrZSBpdCBj
bGVhci4KPiAKPiBTaWduZWQtb2ZmLWJ5OiBCb3JpcyBCcmV6aWxsb24gPGJvcmlzLmJyZXppbGxv
bkBjb2xsYWJvcmEuY29tPgo+IC0tLQo+IENoYW5nZXMgaW4gdjM6Cj4gKiBOZXcgcGF0Y2gKPiAt
LS0KPiAgZHJpdmVycy9ncHUvZHJtL2RybV9icmlkZ2UuYyB8IDI0ICsrKysrKysrKysrKy0tLS0t
LS0tLS0tLQo+ICBpbmNsdWRlL2RybS9kcm1fYnJpZGdlLmggICAgIHwgMTYgKysrKysrKysrKysr
LS0tLQo+ICAyIGZpbGVzIGNoYW5nZWQsIDI0IGluc2VydGlvbnMoKyksIDE2IGRlbGV0aW9ucygt
KQo+IAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vZHJtX2JyaWRnZS5jIGIvZHJpdmVy
cy9ncHUvZHJtL2RybV9icmlkZ2UuYwo+IGluZGV4IGM1Mzk2Njc2Nzc4Mi4uY2E3NGJmZTAyOGM5
IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fYnJpZGdlLmMKPiArKysgYi9kcml2
ZXJzL2dwdS9kcm0vZHJtX2JyaWRnZS5jCj4gQEAgLTQ0Nyw3ICs0NDcsNyBAQCBFWFBPUlRfU1lN
Qk9MKGRybV9icmlkZ2VfY2hhaW5fZW5hYmxlKTsKPiAgLyoqCj4gICAqIGRybV9hdG9taWNfYnJp
ZGdlX2NoYWluX2Rpc2FibGUgLSBkaXNhYmxlcyBhbGwgYnJpZGdlcyBpbiB0aGUgZW5jb2RlciBj
aGFpbgo+ICAgKiBAYnJpZGdlOiBicmlkZ2UgY29udHJvbCBzdHJ1Y3R1cmUKPiAtICogQHN0YXRl
OiBhdG9taWMgc3RhdGUgYmVpbmcgY29tbWl0dGVkCj4gKyAqIEBvbGRfc3RhdGU6IG9sZCBhdG9t
aWMgc3RhdGUKPiAgICoKPiAgICogQ2FsbHMgJmRybV9icmlkZ2VfZnVuY3MuYXRvbWljX2Rpc2Fi
bGUgKGZhbGxzIGJhY2sgb24KPiAgICogJmRybV9icmlkZ2VfZnVuY3MuZGlzYWJsZSkgb3AgZm9y
IGFsbCB0aGUgYnJpZGdlcyBpbiB0aGUgZW5jb2RlciBjaGFpbiwKPiBAQCAtNDU3LDcgKzQ1Nyw3
IEBAIEVYUE9SVF9TWU1CT0woZHJtX2JyaWRnZV9jaGFpbl9lbmFibGUpOwo+ICAgKiBOb3RlOiB0
aGUgYnJpZGdlIHBhc3NlZCBzaG91bGQgYmUgdGhlIG9uZSBjbG9zZXN0IHRvIHRoZSBlbmNvZGVy
Cj4gICAqLwo+ICB2b2lkIGRybV9hdG9taWNfYnJpZGdlX2NoYWluX2Rpc2FibGUoc3RydWN0IGRy
bV9icmlkZ2UgKmJyaWRnZSwKPiAtCQkJCSAgICAgc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnN0
YXRlKQo+ICsJCQkJICAgICBzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqb2xkX3N0YXRlKQo+ICB7
Cj4gIAlzdHJ1Y3QgZHJtX2VuY29kZXIgKmVuY29kZXI7Cj4gIAlzdHJ1Y3QgZHJtX2JyaWRnZSAq
aXRlcjsKPiBAQCAtNDY5LDcgKzQ2OSw3IEBAIHZvaWQgZHJtX2F0b21pY19icmlkZ2VfY2hhaW5f
ZGlzYWJsZShzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlLAo+ICAJbGlzdF9mb3JfZWFjaF9lbnRy
eV9yZXZlcnNlKGl0ZXIsICZlbmNvZGVyLT5icmlkZ2VfY2hhaW4sCj4gIAkJCQkgICAgY2hhaW5f
bm9kZSkgewo+ICAJCWlmIChpdGVyLT5mdW5jcy0+YXRvbWljX2Rpc2FibGUpCj4gLQkJCWl0ZXIt
PmZ1bmNzLT5hdG9taWNfZGlzYWJsZShpdGVyLCBzdGF0ZSk7Cj4gKwkJCWl0ZXItPmZ1bmNzLT5h
dG9taWNfZGlzYWJsZShpdGVyLCBvbGRfc3RhdGUpOwo+ICAJCWVsc2UgaWYgKGl0ZXItPmZ1bmNz
LT5kaXNhYmxlKQo+ICAJCQlpdGVyLT5mdW5jcy0+ZGlzYWJsZShpdGVyKTsKPiAgCj4gQEAgLTQ4
Myw3ICs0ODMsNyBAQCBFWFBPUlRfU1lNQk9MKGRybV9hdG9taWNfYnJpZGdlX2NoYWluX2Rpc2Fi
bGUpOwo+ICAgKiBkcm1fYXRvbWljX2JyaWRnZV9jaGFpbl9wb3N0X2Rpc2FibGUgLSBjbGVhbnMg
dXAgYWZ0ZXIgZGlzYWJsaW5nIGFsbCBicmlkZ2VzCj4gICAqCQkJCQkgIGluIHRoZSBlbmNvZGVy
IGNoYWluCj4gICAqIEBicmlkZ2U6IGJyaWRnZSBjb250cm9sIHN0cnVjdHVyZQo+IC0gKiBAc3Rh
dGU6IGF0b21pYyBzdGF0ZSBiZWluZyBjb21taXR0ZWQKPiArICogQG9sZF9zdGF0ZTogb2xkIGF0
b21pYyBzdGF0ZQo+ICAgKgo+ICAgKiBDYWxscyAmZHJtX2JyaWRnZV9mdW5jcy5hdG9taWNfcG9z
dF9kaXNhYmxlIChmYWxscyBiYWNrIG9uCj4gICAqICZkcm1fYnJpZGdlX2Z1bmNzLnBvc3RfZGlz
YWJsZSkgb3AgZm9yIGFsbCB0aGUgYnJpZGdlcyBpbiB0aGUgZW5jb2RlciBjaGFpbiwKPiBAQCAt
NDkzLDcgKzQ5Myw3IEBAIEVYUE9SVF9TWU1CT0woZHJtX2F0b21pY19icmlkZ2VfY2hhaW5fZGlz
YWJsZSk7Cj4gICAqIE5vdGU6IHRoZSBicmlkZ2UgcGFzc2VkIHNob3VsZCBiZSB0aGUgb25lIGNs
b3Nlc3QgdG8gdGhlIGVuY29kZXIKPiAgICovCj4gIHZvaWQgZHJtX2F0b21pY19icmlkZ2VfY2hh
aW5fcG9zdF9kaXNhYmxlKHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UsCj4gLQkJCQkJICBzdHJ1
Y3QgZHJtX2F0b21pY19zdGF0ZSAqc3RhdGUpCj4gKwkJCQkJICBzdHJ1Y3QgZHJtX2F0b21pY19z
dGF0ZSAqb2xkX3N0YXRlKQo+ICB7Cj4gIAlzdHJ1Y3QgZHJtX2VuY29kZXIgKmVuY29kZXI7Cj4g
IAo+IEBAIC01MDQsNyArNTA0LDcgQEAgdm9pZCBkcm1fYXRvbWljX2JyaWRnZV9jaGFpbl9wb3N0
X2Rpc2FibGUoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSwKPiAgCWxpc3RfZm9yX2VhY2hfZW50
cnlfZnJvbShicmlkZ2UsICZlbmNvZGVyLT5icmlkZ2VfY2hhaW4sCj4gIAkJCQkgY2hhaW5fbm9k
ZSkgewo+ICAJCWlmIChicmlkZ2UtPmZ1bmNzLT5hdG9taWNfcG9zdF9kaXNhYmxlKQo+IC0JCQli
cmlkZ2UtPmZ1bmNzLT5hdG9taWNfcG9zdF9kaXNhYmxlKGJyaWRnZSwgc3RhdGUpOwo+ICsJCQli
cmlkZ2UtPmZ1bmNzLT5hdG9taWNfcG9zdF9kaXNhYmxlKGJyaWRnZSwgb2xkX3N0YXRlKTsKPiAg
CQllbHNlIGlmIChicmlkZ2UtPmZ1bmNzLT5wb3N0X2Rpc2FibGUpCj4gIAkJCWJyaWRnZS0+ZnVu
Y3MtPnBvc3RfZGlzYWJsZShicmlkZ2UpOwo+ICAJfQo+IEBAIC01MTUsNyArNTE1LDcgQEAgRVhQ
T1JUX1NZTUJPTChkcm1fYXRvbWljX2JyaWRnZV9jaGFpbl9wb3N0X2Rpc2FibGUpOwo+ICAgKiBk
cm1fYXRvbWljX2JyaWRnZV9jaGFpbl9wcmVfZW5hYmxlIC0gcHJlcGFyZXMgZm9yIGVuYWJsaW5n
IGFsbCBicmlkZ2VzIGluCj4gICAqCQkJCQl0aGUgZW5jb2RlciBjaGFpbgo+ICAgKiBAYnJpZGdl
OiBicmlkZ2UgY29udHJvbCBzdHJ1Y3R1cmUKPiAtICogQHN0YXRlOiBhdG9taWMgc3RhdGUgYmVp
bmcgY29tbWl0dGVkCj4gKyAqIEBvbGRfc3RhdGU6IG9sZCBhdG9taWMgc3RhdGUKPiAgICoKPiAg
ICogQ2FsbHMgJmRybV9icmlkZ2VfZnVuY3MuYXRvbWljX3ByZV9lbmFibGUgKGZhbGxzIGJhY2sg
b24KPiAgICogJmRybV9icmlkZ2VfZnVuY3MucHJlX2VuYWJsZSkgb3AgZm9yIGFsbCB0aGUgYnJp
ZGdlcyBpbiB0aGUgZW5jb2RlciBjaGFpbiwKPiBAQCAtNTI1LDcgKzUyNSw3IEBAIEVYUE9SVF9T
WU1CT0woZHJtX2F0b21pY19icmlkZ2VfY2hhaW5fcG9zdF9kaXNhYmxlKTsKPiAgICogTm90ZTog
dGhlIGJyaWRnZSBwYXNzZWQgc2hvdWxkIGJlIHRoZSBvbmUgY2xvc2VzdCB0byB0aGUgZW5jb2Rl
cgo+ICAgKi8KPiAgdm9pZCBkcm1fYXRvbWljX2JyaWRnZV9jaGFpbl9wcmVfZW5hYmxlKHN0cnVj
dCBkcm1fYnJpZGdlICpicmlkZ2UsCj4gLQkJCQkJc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnN0
YXRlKQo+ICsJCQkJCXN0cnVjdCBkcm1fYXRvbWljX3N0YXRlICpvbGRfc3RhdGUpCj4gIHsKPiAg
CXN0cnVjdCBkcm1fZW5jb2RlciAqZW5jb2RlcjsKPiAgCXN0cnVjdCBkcm1fYnJpZGdlICppdGVy
Owo+IEBAIC01MzcsNyArNTM3LDcgQEAgdm9pZCBkcm1fYXRvbWljX2JyaWRnZV9jaGFpbl9wcmVf
ZW5hYmxlKHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UsCj4gIAlsaXN0X2Zvcl9lYWNoX2VudHJ5
X3JldmVyc2UoaXRlciwgJmJyaWRnZS0+ZW5jb2Rlci0+YnJpZGdlX2NoYWluLAo+ICAJCQkJICAg
IGNoYWluX25vZGUpIHsKPiAgCQlpZiAoaXRlci0+ZnVuY3MtPmF0b21pY19wcmVfZW5hYmxlKQo+
IC0JCQlpdGVyLT5mdW5jcy0+YXRvbWljX3ByZV9lbmFibGUoaXRlciwgc3RhdGUpOwo+ICsJCQlp
dGVyLT5mdW5jcy0+YXRvbWljX3ByZV9lbmFibGUoaXRlciwgb2xkX3N0YXRlKTsKPiAgCQllbHNl
IGlmIChpdGVyLT5mdW5jcy0+cHJlX2VuYWJsZSkKPiAgCQkJaXRlci0+ZnVuY3MtPnByZV9lbmFi
bGUoaXRlcik7Cj4gIAo+IEBAIC01NTAsNyArNTUwLDcgQEAgRVhQT1JUX1NZTUJPTChkcm1fYXRv
bWljX2JyaWRnZV9jaGFpbl9wcmVfZW5hYmxlKTsKPiAgLyoqCj4gICAqIGRybV9hdG9taWNfYnJp
ZGdlX2NoYWluX2VuYWJsZSAtIGVuYWJsZXMgYWxsIGJyaWRnZXMgaW4gdGhlIGVuY29kZXIgY2hh
aW4KPiAgICogQGJyaWRnZTogYnJpZGdlIGNvbnRyb2wgc3RydWN0dXJlCj4gLSAqIEBzdGF0ZTog
YXRvbWljIHN0YXRlIGJlaW5nIGNvbW1pdHRlZAo+ICsgKiBAb2xkX3N0YXRlOiBvbGQgYXRvbWlj
IHN0YXRlCj4gICAqCj4gICAqIENhbGxzICZkcm1fYnJpZGdlX2Z1bmNzLmF0b21pY19lbmFibGUg
KGZhbGxzIGJhY2sgb24KPiAgICogJmRybV9icmlkZ2VfZnVuY3MuZW5hYmxlKSBvcCBmb3IgYWxs
IHRoZSBicmlkZ2VzIGluIHRoZSBlbmNvZGVyIGNoYWluLAo+IEBAIC01NjAsNyArNTYwLDcgQEAg
RVhQT1JUX1NZTUJPTChkcm1fYXRvbWljX2JyaWRnZV9jaGFpbl9wcmVfZW5hYmxlKTsKPiAgICog
Tm90ZTogdGhlIGJyaWRnZSBwYXNzZWQgc2hvdWxkIGJlIHRoZSBvbmUgY2xvc2VzdCB0byB0aGUg
ZW5jb2Rlcgo+ICAgKi8KPiAgdm9pZCBkcm1fYXRvbWljX2JyaWRnZV9jaGFpbl9lbmFibGUoc3Ry
dWN0IGRybV9icmlkZ2UgKmJyaWRnZSwKPiAtCQkJCSAgICBzdHJ1Y3QgZHJtX2F0b21pY19zdGF0
ZSAqc3RhdGUpCj4gKwkJCQkgICAgc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKm9sZF9zdGF0ZSkK
PiAgewo+ICAJc3RydWN0IGRybV9lbmNvZGVyICplbmNvZGVyOwo+ICAKPiBAQCAtNTcxLDcgKzU3
MSw3IEBAIHZvaWQgZHJtX2F0b21pY19icmlkZ2VfY2hhaW5fZW5hYmxlKHN0cnVjdCBkcm1fYnJp
ZGdlICpicmlkZ2UsCj4gIAlsaXN0X2Zvcl9lYWNoX2VudHJ5X2Zyb20oYnJpZGdlLCAmYnJpZGdl
LT5lbmNvZGVyLT5icmlkZ2VfY2hhaW4sCj4gIAkJCQkgY2hhaW5fbm9kZSkgewo+ICAJCWlmIChi
cmlkZ2UtPmZ1bmNzLT5hdG9taWNfZW5hYmxlKQo+IC0JCQlicmlkZ2UtPmZ1bmNzLT5hdG9taWNf
ZW5hYmxlKGJyaWRnZSwgc3RhdGUpOwo+ICsJCQlicmlkZ2UtPmZ1bmNzLT5hdG9taWNfZW5hYmxl
KGJyaWRnZSwgb2xkX3N0YXRlKTsKPiAgCQllbHNlIGlmIChicmlkZ2UtPmZ1bmNzLT5lbmFibGUp
Cj4gIAkJCWJyaWRnZS0+ZnVuY3MtPmVuYWJsZShicmlkZ2UpOwo+ICAJfQo+IGRpZmYgLS1naXQg
YS9pbmNsdWRlL2RybS9kcm1fYnJpZGdlLmggYi9pbmNsdWRlL2RybS9kcm1fYnJpZGdlLmgKPiBp
bmRleCBhNjA4YzQ3ZDFkZTUuLmU4MTRlNmQ2ZTdjMiAxMDA2NDQKPiAtLS0gYS9pbmNsdWRlL2Ry
bS9kcm1fYnJpZGdlLmgKPiArKysgYi9pbmNsdWRlL2RybS9kcm1fYnJpZGdlLmgKPiBAQCAtMjY2
LDYgKzI2Niw4IEBAIHN0cnVjdCBkcm1fYnJpZGdlX2Z1bmNzIHsKPiAgCSAqIGJyaWRnZSdzIEBh
dG9taWNfcHJlX2VuYWJsZSBvciBAcHJlX2VuYWJsZSBmdW5jdGlvbi4gSWYgdGhlIHByZWNlZGlu
Zwo+ICAJICogZWxlbWVudCBpcyBhICZkcm1fZW5jb2RlciBpdCdzIGNhbGxlZCByaWdodCBiZWZv
cmUgdGhlIGVuY29kZXIncwo+ICAJICogJmRybV9lbmNvZGVyX2hlbHBlcl9mdW5jcy5hdG9taWNf
ZW5hYmxlIGhvb2suCj4gKwkgKiBUaGlzIGhvb2sgaXMgcGFzc2VkIHRoZSBvbGQgYXRvbWljIHN0
YXRlIChhdG9taWMgc3RhdGUgYWZ0ZXIgbmV3L29sZAo+ICsJICogc3RhdGVzIGhhdmUgYmVlbiBz
d2FwcGVkKS4KPiAgCSAqCj4gIAkgKiBUaGUgZGlzcGxheSBwaXBlIChpLmUuIGNsb2NrcyBhbmQg
dGltaW5nIHNpZ25hbHMpIGZlZWRpbmcgdGhpcyBicmlkZ2UKPiAgCSAqIHdpbGwgbm90IHlldCBi
ZSBydW5uaW5nIHdoZW4gdGhpcyBjYWxsYmFjayBpcyBjYWxsZWQuIFRoZSBicmlkZ2UgbXVzdAo+
IEBAIC0yODEsNyArMjgzLDcgQEAgc3RydWN0IGRybV9icmlkZ2VfZnVuY3Mgewo+ICAJICogVGhl
IEBhdG9taWNfcHJlX2VuYWJsZSBjYWxsYmFjayBpcyBvcHRpb25hbC4KPiAgCSAqLwo+ICAJdm9p
ZCAoKmF0b21pY19wcmVfZW5hYmxlKShzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlLAo+IC0JCQkJ
ICBzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqc3RhdGUpOwo+ICsJCQkJICBzdHJ1Y3QgZHJtX2F0
b21pY19zdGF0ZSAqb2xkX3N0YXRlKTsKPiAgCj4gIAkvKioKPiAgCSAqIEBhdG9taWNfZW5hYmxl
Ogo+IEBAIC0yOTIsNiArMjk0LDggQEAgc3RydWN0IGRybV9icmlkZ2VfZnVuY3Mgewo+ICAJICog
YnJpZGdlJ3MgQGF0b21pY19lbmFibGUgb3IgQGVuYWJsZSBmdW5jdGlvbi4gSWYgdGhlIHByZWNl
ZGluZyBlbGVtZW50Cj4gIAkgKiBpcyBhICZkcm1fZW5jb2RlciBpdCdzIGNhbGxlZCByaWdodCBh
ZnRlciB0aGUgZW5jb2RlcidzCj4gIAkgKiAmZHJtX2VuY29kZXJfaGVscGVyX2Z1bmNzLmF0b21p
Y19lbmFibGUgaG9vay4KPiArCSAqIFRoaXMgaG9vayBpcyBwYXNzZWQgdGhlIG9sZCBhdG9taWMg
c3RhdGUgKGF0b21pYyBzdGF0ZSBhZnRlciBuZXcvb2xkCj4gKwkgKiBzdGF0ZXMgaGF2ZSBiZWVu
IHN3YXBwZWQpLgo+ICAJICoKPiAgCSAqIFRoZSBicmlkZ2UgY2FuIGFzc3VtZSB0aGF0IHRoZSBk
aXNwbGF5IHBpcGUgKGkuZS4gY2xvY2tzIGFuZCB0aW1pbmcKPiAgCSAqIHNpZ25hbHMpIGZlZWRp
bmcgaXQgaXMgcnVubmluZyB3aGVuIHRoaXMgY2FsbGJhY2sgaXMgY2FsbGVkLiBUaGlzCj4gQEAg
LTMwNiw3ICszMTAsNyBAQCBzdHJ1Y3QgZHJtX2JyaWRnZV9mdW5jcyB7Cj4gIAkgKiBUaGUgQGF0
b21pY19lbmFibGUgY2FsbGJhY2sgaXMgb3B0aW9uYWwuCj4gIAkgKi8KPiAgCXZvaWQgKCphdG9t
aWNfZW5hYmxlKShzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlLAo+IC0JCQkgICAgICBzdHJ1Y3Qg
ZHJtX2F0b21pY19zdGF0ZSAqc3RhdGUpOwo+ICsJCQkgICAgICBzdHJ1Y3QgZHJtX2F0b21pY19z
dGF0ZSAqb2xkX3N0YXRlKTsKPiAgCS8qKgo+ICAJICogQGF0b21pY19kaXNhYmxlOgo+ICAJICoK
PiBAQCAtMzE2LDYgKzMyMCw4IEBAIHN0cnVjdCBkcm1fYnJpZGdlX2Z1bmNzIHsKPiAgCSAqIGJy
aWRnZSdzIEBhdG9taWNfZGlzYWJsZSBvciBAZGlzYWJsZSB2ZnVuYy4gSWYgdGhlIHByZWNlZGlu
ZyBlbGVtZW50Cj4gIAkgKiBpcyBhICZkcm1fZW5jb2RlciBpdCdzIGNhbGxlZCByaWdodCBiZWZv
cmUgdGhlCj4gIAkgKiAmZHJtX2VuY29kZXJfaGVscGVyX2Z1bmNzLmF0b21pY19kaXNhYmxlIGhv
b2suCj4gKwkgKiBUaGlzIGhvb2sgaXMgcGFzc2VkIHRoZSBvbGQgYXRvbWljIHN0YXRlIChhdG9t
aWMgc3RhdGUgYWZ0ZXIgbmV3L29sZAo+ICsJICogc3RhdGVzIGhhdmUgYmVlbiBzd2FwcGVkKS4K
PiAgCSAqCj4gIAkgKiBUaGUgYnJpZGdlIGNhbiBhc3N1bWUgdGhhdCB0aGUgZGlzcGxheSBwaXBl
IChpLmUuIGNsb2NrcyBhbmQgdGltaW5nCj4gIAkgKiBzaWduYWxzKSBmZWVkaW5nIGl0IGlzIHN0
aWxsIHJ1bm5pbmcgd2hlbiB0aGlzIGNhbGxiYWNrIGlzIGNhbGxlZC4KPiBAQCAtMzI5LDcgKzMz
NSw3IEBAIHN0cnVjdCBkcm1fYnJpZGdlX2Z1bmNzIHsKPiAgCSAqIFRoZSBAYXRvbWljX2Rpc2Fi
bGUgY2FsbGJhY2sgaXMgb3B0aW9uYWwuCj4gIAkgKi8KPiAgCXZvaWQgKCphdG9taWNfZGlzYWJs
ZSkoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSwKPiAtCQkJICAgICAgIHN0cnVjdCBkcm1fYXRv
bWljX3N0YXRlICpzdGF0ZSk7Cj4gKwkJCSAgICAgICBzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAq
b2xkX3N0YXRlKTsKPiAgCj4gIAkvKioKPiAgCSAqIEBhdG9taWNfcG9zdF9kaXNhYmxlOgo+IEBA
IC0zNDAsNiArMzQ2LDggQEAgc3RydWN0IGRybV9icmlkZ2VfZnVuY3Mgewo+ICAJICogQGF0b21p
Y19wb3N0X2Rpc2FibGUgb3IgQHBvc3RfZGlzYWJsZSBmdW5jdGlvbi4gSWYgdGhlIHByZWNlZGlu
Zwo+ICAJICogZWxlbWVudCBpcyBhICZkcm1fZW5jb2RlciBpdCdzIGNhbGxlZCByaWdodCBhZnRl
ciB0aGUgZW5jb2RlcidzCj4gIAkgKiAmZHJtX2VuY29kZXJfaGVscGVyX2Z1bmNzLmF0b21pY19k
aXNhYmxlIGhvb2suCj4gKwkgKiBUaGlzIGhvb2sgaXMgcGFzc2VkIHRoZSBvbGQgYXRvbWljIHN0
YXRlIChhdG9taWMgc3RhdGUgYWZ0ZXIgbmV3L29sZAo+ICsJICogc3RhdGVzIGhhdmUgYmVlbiBz
d2FwcGVkKS4KPiAgCSAqCj4gIAkgKiBUaGUgYnJpZGdlIG11c3QgYXNzdW1lIHRoYXQgdGhlIGRp
c3BsYXkgcGlwZSAoaS5lLiBjbG9ja3MgYW5kIHRpbWluZwo+ICAJICogc2lnbmFscykgZmVlZGlu
ZyBpdCBpcyBubyBsb25nZXIgcnVubmluZyB3aGVuIHRoaXMgY2FsbGJhY2sgaXMKPiBAQCAtMzU1
LDcgKzM2Myw3IEBAIHN0cnVjdCBkcm1fYnJpZGdlX2Z1bmNzIHsKPiAgCSAqIFRoZSBAYXRvbWlj
X3Bvc3RfZGlzYWJsZSBjYWxsYmFjayBpcyBvcHRpb25hbC4KPiAgCSAqLwo+ICAJdm9pZCAoKmF0
b21pY19wb3N0X2Rpc2FibGUpKHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UsCj4gLQkJCQkgICAg
c3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnN0YXRlKTsKPiArCQkJCSAgICBzdHJ1Y3QgZHJtX2F0
b21pY19zdGF0ZSAqb2xkX3N0YXRlKTsKPiAgCj4gIAkvKioKPiAgCSAqIEBhdG9taWNfZHVwbGlj
YXRlX3N0YXRlOgo+IAoKUmV2aWV3ZWQtYnk6IE5laWwgQXJtc3Ryb25nIDxuYXJtc3Ryb25nQGJh
eWxpYnJlLmNvbT4KX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
Cmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
