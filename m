Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 564EDAB2E8
	for <lists+dri-devel@lfdr.de>; Fri,  6 Sep 2019 09:02:03 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1972A6E15F;
	Fri,  6 Sep 2019 07:01:15 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-pf1-x441.google.com (mail-pf1-x441.google.com
 [IPv6:2607:f8b0:4864:20::441])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 805366E07F
 for <dri-devel@lists.freedesktop.org>; Thu,  5 Sep 2019 16:18:06 +0000 (UTC)
Received: by mail-pf1-x441.google.com with SMTP id b13so2060886pfo.8
 for <dri-devel@lists.freedesktop.org>; Thu, 05 Sep 2019 09:18:06 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references;
 bh=oxweDnammrNyIt2aaQLCe6r9vThCpXKTK19Q9yGm1E4=;
 b=Fgkv9gnhjw9B9V5ZNeA72+rypBBh7mbCCRjWPothFHHk8flpo9QHXX7a1V42WjYHRN
 HxLyADsUHF1QfGwIEcLo0llymvferOdMkNubgXBwM8pFCDkEWDuZAVld++aC21N21MF4
 j/kqQm83pE1yuZE2O7zIf2IWO21MzexyinNbkbKjxlJsJuTjtSBPFOfuU7zT8+UPoFL9
 Gw1nsJim/CEwwwa4zwWL+qgQajigjik9HxbfiVZxuDKIPX5uAwRLFxGtmVVKoGgw86V1
 kXJgvJQcrVQTAhyKgUKUdbRs1FB2/YVG/q7unkZgxVlrLS6MGYxx3ylA+Gj8go2YYSBq
 +JCw==
X-Gm-Message-State: APjAAAWT+CIfe5FPSX3ulPXcVI0VR1+H5JJYXwNYmaF+xRQMK4cOXxBd
 ylmMF8inocGcY1x9m1XCZxhVog==
X-Google-Smtp-Source: APXvYqztrUm14X1kqPalVQhtzDPhMyl9ZuipQZ2gB9IH4meo0O8XJPRIpaw1CUbOHUi6IeHE59j1dQ==
X-Received: by 2002:a17:90a:303:: with SMTP id 3mr4750663pje.124.1567700285921; 
 Thu, 05 Sep 2019 09:18:05 -0700 (PDT)
Received: from xps15.cg.shawcable.net (S0106002369de4dac.cg.shawcable.net.
 [68.147.8.254])
 by smtp.gmail.com with ESMTPSA id m129sm6324005pga.39.2019.09.05.09.18.04
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Thu, 05 Sep 2019 09:18:05 -0700 (PDT)
From: Mathieu Poirier <mathieu.poirier@linaro.org>
To: stable@vger.kernel.org
Subject: [BACKPORT 4.14.y 04/18] usb: dwc3: Allow disabling of metastability
 workaround
Date: Thu,  5 Sep 2019 10:17:45 -0600
Message-Id: <20190905161759.28036-5-mathieu.poirier@linaro.org>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20190905161759.28036-1-mathieu.poirier@linaro.org>
References: <20190905161759.28036-1-mathieu.poirier@linaro.org>
X-Mailman-Approved-At: Fri, 06 Sep 2019 07:01:00 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=linaro.org; s=google;
 h=from:to:cc:subject:date:message-id:in-reply-to:references;
 bh=oxweDnammrNyIt2aaQLCe6r9vThCpXKTK19Q9yGm1E4=;
 b=B+cZWsZuXFEQB01N9qcY/nKk7nFveM0bQSkHouQZ+2v8KRCDItQu12g91o55OqiDIl
 SQnnn5r6vvZTn3KSmZR9+5rl9wxcTUw4H96aAEmGDnjJxx3uKAFfio+dNp5I+wQr3Vwe
 gbXWR4hTOwsV+tXvAEB+6kyHio5Z54rthgV5q6RE89zhMs4lr/LJm01282eHycMXzU0z
 U9a2VMJKcYvCVPouURNHnaM7gNG9pAlCnZKkh1Y0vrCEBkYcoJQ5dlKEJOS6mj8Rfcf/
 3BOqGGxylR2E7voPViPNnWEY2QFJ0exUKtekqdkZckIcT8g6oOqpENw3lQbrUEfCQSqK
 d4Uw==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-pm@vger.kernel.org, linux-pci@vger.kernel.org,
 linux-usb@vger.kernel.org, linux-kernel@vger.kernel.org,
 dri-devel@lists.freedesktop.org, linux-mtd@lists.infradead.org,
 linux-i2c@vger.kernel.org, linux-omap@vger.kernel.org
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogUm9nZXIgUXVhZHJvcyA8cm9nZXJxQHRpLmNvbT4KCmNvbW1pdCA0MmJmMDJlYzZlNDIw
ZTU0MWFmOWE0NzQzN2QwYmRmOTYxY2EyOTcyIHVwc3RyZWFtCgpTb21lIHBsYXRmb3JtcyAoZS5n
LiBUSSdzIERSQTcgVVNCMiBpbnN0YW5jZSkgaGF2ZSBtb3JlIHRyb3VibGUKd2l0aCB0aGUgbWV0
YXN0YWJpbGl0eSB3b3JrYXJvdW5kIGFzIGl0IHN1cHBvcnRzIG9ubHkKYSBIaWdoLVNwZWVkIFBI
WSBhbmQgdGhlIFBIWSBjYW4gZW50ZXIgaW50byBhbiBFcnJhdGljIHN0YXRlIFsxXQp3aGVuIHRo
ZSBjb250cm9sbGVyIGlzIHNldCBpbiBTdXBlclNwZWVkIG1vZGUgYXMgcGFydCBvZgp0aGUgbWV0
YXN0YWJpbGl0eSB3b3JrYXJvdW5kLgoKVGhpcyBjYXVzZXMgdXB0byAyIHNlY29uZHMgZGVsYXkg
aW4gZW51bWVyYXRpb24gb24gRFJBNydzIFVTQjIKaW5zdGFuY2UgaW4gZ2FkZ2V0IG1vZGUuCgpJ
ZiB0aGVzZSBwbGF0Zm9ybXMgY2FuIGJlIGJldHRlciBvZmYgd2l0aG91dCB0aGUgd29ya2Fyb3Vu
ZCwKcHJvdmlkZSBhIGRldmljZSB0cmVlIHByb3BlcnR5IHRvIHN1Z2dlc3QgdGhhdCBzbyB0aGUg
d29ya2Fyb3VuZAppcyBhdm9pZGVkLgoKWzFdIERldmljZSBtb2RlIGVudW1lcmF0aW9uIHRyYWNl
IHNob3dpbmcgUEhZIEVycmF0aWMgRXJyb3IuCiAgICAgaXJxLzkwLWR3YzMtOTY5ICAgWzAwMF0g
ZC4uLiAgICA1Mi4zMjMxNDU6IGR3YzNfZXZlbnQ6IGV2ZW50ICgwMDAwMDkwMSk6IEVycmF0aWMg
RXJyb3IgW1UwXQogICAgIGlycS85MC1kd2MzLTk2OSAgIFswMDBdIGQuLi4gICAgNTIuNTYwNjQ2
OiBkd2MzX2V2ZW50OiBldmVudCAoMDAwMDA5MDEpOiBFcnJhdGljIEVycm9yIFtVMF0KICAgICBp
cnEvOTAtZHdjMy05NjkgICBbMDAwXSBkLi4uICAgIDUyLjc5ODE0NDogZHdjM19ldmVudDogZXZl
bnQgKDAwMDAwOTAxKTogRXJyYXRpYyBFcnJvciBbVTBdCgpTaWduZWQtb2ZmLWJ5OiBSb2dlciBR
dWFkcm9zIDxyb2dlcnFAdGkuY29tPgpTaWduZWQtb2ZmLWJ5OiBGZWxpcGUgQmFsYmkgPGZlbGlw
ZS5iYWxiaUBsaW51eC5pbnRlbC5jb20+ClNpZ25lZC1vZmYtYnk6IE1hdGhpZXUgUG9pcmllciA8
bWF0aGlldS5wb2lyaWVyQGxpbmFyby5vcmc+Ci0tLQogRG9jdW1lbnRhdGlvbi9kZXZpY2V0cmVl
L2JpbmRpbmdzL3VzYi9kd2MzLnR4dCB8IDIgKysKIGRyaXZlcnMvdXNiL2R3YzMvY29yZS5jICAg
ICAgICAgICAgICAgICAgICAgICAgfCAzICsrKwogZHJpdmVycy91c2IvZHdjMy9jb3JlLmggICAg
ICAgICAgICAgICAgICAgICAgICB8IDMgKysrCiBkcml2ZXJzL3VzYi9kd2MzL2dhZGdldC5jICAg
ICAgICAgICAgICAgICAgICAgIHwgNiArKysrLS0KIDQgZmlsZXMgY2hhbmdlZCwgMTIgaW5zZXJ0
aW9ucygrKSwgMiBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9Eb2N1bWVudGF0aW9uL2Rldmlj
ZXRyZWUvYmluZGluZ3MvdXNiL2R3YzMudHh0IGIvRG9jdW1lbnRhdGlvbi9kZXZpY2V0cmVlL2Jp
bmRpbmdzL3VzYi9kd2MzLnR4dAppbmRleCA1MmZiNDEwNDZiMzQuLjQ0ZThiYWIxNTlhZCAxMDA2
NDQKLS0tIGEvRG9jdW1lbnRhdGlvbi9kZXZpY2V0cmVlL2JpbmRpbmdzL3VzYi9kd2MzLnR4dAor
KysgYi9Eb2N1bWVudGF0aW9uL2RldmljZXRyZWUvYmluZGluZ3MvdXNiL2R3YzMudHh0CkBAIC00
Nyw2ICs0Nyw4IEBAIE9wdGlvbmFsIHByb3BlcnRpZXM6CiAJCQlmcm9tIFAwIHRvIFAxL1AyL1Az
IHdpdGhvdXQgZGVsYXkuCiAgLSBzbnBzLGRpcy10eC1pcGdhcC1saW5lY2hlY2stcXVpcms6IHdo
ZW4gc2V0LCBkaXNhYmxlIHUybWFjIGxpbmVzdGF0ZSBjaGVjawogCQkJZHVyaW5nIEhTIHRyYW5z
bWl0LgorIC0gc25wcyxkaXNfbWV0YXN0YWJpbGl0eV9xdWlyazogd2hlbiBzZXQsIGRpc2FibGUg
bWV0YXN0YWJpbGl0eSB3b3JrYXJvdW5kLgorCQkJQ0FVVElPTjogdXNlIG9ubHkgaWYgeW91IGFy
ZSBhYnNvbHV0ZWx5IHN1cmUgb2YgaXQuCiAgLSBzbnBzLGlzLXV0bWktbDEtc3VzcGVuZDogdHJ1
ZSB3aGVuIERXQzMgYXNzZXJ0cyBvdXRwdXQgc2lnbmFsCiAJCQl1dG1pX2wxX3N1c3BlbmRfbiwg
ZmFsc2Ugd2hlbiBhc3NlcnRzIHV0bWlfc2xlZXBfbgogIC0gc25wcyxoaXJkLXRocmVzaG9sZDog
SElSRCB0aHJlc2hvbGQKZGlmZiAtLWdpdCBhL2RyaXZlcnMvdXNiL2R3YzMvY29yZS5jIGIvZHJp
dmVycy91c2IvZHdjMy9jb3JlLmMKaW5kZXggOTQ1MzMwZWE4ZDVjLi45YjA5Mzk3OGJkMjQgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvdXNiL2R3YzMvY29yZS5jCisrKyBiL2RyaXZlcnMvdXNiL2R3YzMv
Y29yZS5jCkBAIC0xMTE1LDYgKzExMTUsOSBAQCBzdGF0aWMgdm9pZCBkd2MzX2dldF9wcm9wZXJ0
aWVzKHN0cnVjdCBkd2MzICpkd2MpCiAJZGV2aWNlX3Byb3BlcnR5X3JlYWRfdTMyKGRldiwgInNu
cHMscXVpcmstZnJhbWUtbGVuZ3RoLWFkanVzdG1lbnQiLAogCQkJCSAmZHdjLT5mbGFkaik7CiAK
Kwlkd2MtPmRpc19tZXRhc3RhYmlsaXR5X3F1aXJrID0gZGV2aWNlX3Byb3BlcnR5X3JlYWRfYm9v
bChkZXYsCisJCQkJInNucHMsZGlzX21ldGFzdGFiaWxpdHlfcXVpcmsiKTsKKwogCWR3Yy0+bHBt
X255ZXRfdGhyZXNob2xkID0gbHBtX255ZXRfdGhyZXNob2xkOwogCWR3Yy0+dHhfZGVfZW1waGFz
aXMgPSB0eF9kZV9lbXBoYXNpczsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy91c2IvZHdjMy9jb3Jl
LmggYi9kcml2ZXJzL3VzYi9kd2MzL2NvcmUuaAppbmRleCBhYmQxMTQyYzllNGQuLjQwYmYwZTA3
NjhkOSAxMDA2NDQKLS0tIGEvZHJpdmVycy91c2IvZHdjMy9jb3JlLmgKKysrIGIvZHJpdmVycy91
c2IvZHdjMy9jb3JlLmgKQEAgLTg2OSw2ICs4NjksNyBAQCBzdHJ1Y3QgZHdjM19zY3JhdGNocGFk
X2FycmF5IHsKICAqIAkxCS0gLTMuNWRCIGRlLWVtcGhhc2lzCiAgKiAJMgktIE5vIGRlLWVtcGhh
c2lzCiAgKiAJMwktIFJlc2VydmVkCisgKiBAZGlzX21ldGFzdGFiaWxpdHlfcXVpcms6IHNldCB0
byBkaXNhYmxlIG1ldGFzdGFiaWxpdHkgcXVpcmsuCiAgKiBAaW1vZF9pbnRlcnZhbDogc2V0IHRo
ZSBpbnRlcnJ1cHQgbW9kZXJhdGlvbiBpbnRlcnZhbCBpbiAyNTBucwogICogICAgICAgICAgICAg
ICAgIGluY3JlbWVudHMgb3IgMCB0byBkaXNhYmxlLgogICovCkBAIC0xMDI1LDYgKzEwMjYsOCBA
QCBzdHJ1Y3QgZHdjMyB7CiAJdW5zaWduZWQJCXR4X2RlX2VtcGhhc2lzX3F1aXJrOjE7CiAJdW5z
aWduZWQJCXR4X2RlX2VtcGhhc2lzOjI7CiAKKwl1bnNpZ25lZAkJZGlzX21ldGFzdGFiaWxpdHlf
cXVpcms6MTsKKwogCXUxNgkJCWltb2RfaW50ZXJ2YWw7CiB9OwogCmRpZmYgLS1naXQgYS9kcml2
ZXJzL3VzYi9kd2MzL2dhZGdldC5jIGIvZHJpdmVycy91c2IvZHdjMy9nYWRnZXQuYwppbmRleCAx
Yjk5ZDQ0ZTUyYjkuLjU5MTYzNDBjNDE2MiAxMDA2NDQKLS0tIGEvZHJpdmVycy91c2IvZHdjMy9n
YWRnZXQuYworKysgYi9kcml2ZXJzL3VzYi9kd2MzL2dhZGdldC5jCkBAIC0yMDM0LDcgKzIwMzQs
OCBAQCBzdGF0aWMgdm9pZCBkd2MzX2dhZGdldF9zZXRfc3BlZWQoc3RydWN0IHVzYl9nYWRnZXQg
KmcsCiAJICogU1RBUiM5MDAwNTI1NjU5OiBDbG9jayBEb21haW4gQ3Jvc3Npbmcgb24gRENUTCBp
bgogCSAqIFVTQiAyLjAgTW9kZQogCSAqLwotCWlmIChkd2MtPnJldmlzaW9uIDwgRFdDM19SRVZJ
U0lPTl8yMjBBKSB7CisJaWYgKGR3Yy0+cmV2aXNpb24gPCBEV0MzX1JFVklTSU9OXzIyMEEgJiYK
KwkgICAgIWR3Yy0+ZGlzX21ldGFzdGFiaWxpdHlfcXVpcmspIHsKIAkJcmVnIHw9IERXQzNfRENG
R19TVVBFUlNQRUVEOwogCX0gZWxzZSB7CiAJCXN3aXRjaCAoc3BlZWQpIHsKQEAgLTMyNjUsNyAr
MzI2Niw4IEBAIGludCBkd2MzX2dhZGdldF9pbml0KHN0cnVjdCBkd2MzICpkd2MpCiAJICogaXMg
bGVzcyB0aGFuIHN1cGVyIHNwZWVkIGJlY2F1c2Ugd2UgZG9uJ3QgaGF2ZSBtZWFucywgeWV0LCB0
byB0ZWxsCiAJICogY29tcG9zaXRlLmMgdGhhdCB3ZSBhcmUgVVNCIDIuMCArIExQTSBFQ04uCiAJ
ICovCi0JaWYgKGR3Yy0+cmV2aXNpb24gPCBEV0MzX1JFVklTSU9OXzIyMEEpCisJaWYgKGR3Yy0+
cmV2aXNpb24gPCBEV0MzX1JFVklTSU9OXzIyMEEgJiYKKwkgICAgIWR3Yy0+ZGlzX21ldGFzdGFi
aWxpdHlfcXVpcmspCiAJCWRldl9pbmZvKGR3Yy0+ZGV2LCAiY2hhbmdpbmcgbWF4X3NwZWVkIG9u
IHJldiAlMDh4XG4iLAogCQkJCWR3Yy0+cmV2aXNpb24pOwogCi0tIAoyLjE3LjEKCl9fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5n
IGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVk
ZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
