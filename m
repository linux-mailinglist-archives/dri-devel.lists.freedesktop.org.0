Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 3C6BAB00B6
	for <lists+dri-devel@lfdr.de>; Wed, 11 Sep 2019 18:01:51 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8E4136E2EA;
	Wed, 11 Sep 2019 16:01:48 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
X-Greylist: delayed 402 seconds by postgrey-1.36 at gabe;
 Wed, 11 Sep 2019 16:01:46 UTC
Received: from perceval.ideasonboard.com (perceval.ideasonboard.com
 [213.167.242.64])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0AC036E2EA
 for <dri-devel@lists.freedesktop.org>; Wed, 11 Sep 2019 16:01:46 +0000 (UTC)
Received: from [192.168.0.20]
 (cpc89242-aztw30-2-0-cust488.18-1.cable.virginm.net [86.31.129.233])
 by perceval.ideasonboard.com (Postfix) with ESMTPSA id 7189A33A;
 Wed, 11 Sep 2019 17:55:01 +0200 (CEST)
Subject: Re: [PATCH v4 3/9] drm: rcar-du: Add support for CMM
To: Jacopo Mondi <jacopo+renesas@jmondi.org>,
 laurent.pinchart@ideasonboard.com, geert@linux-m68k.org, horms@verge.net.au,
 uli+renesas@fpond.eu, VenkataRajesh.Kalakodima@in.bosch.com
References: <20190906135436.10622-1-jacopo+renesas@jmondi.org>
 <20190906135436.10622-4-jacopo+renesas@jmondi.org>
From: Kieran Bingham <kieran.bingham+renesas@ideasonboard.com>
Organization: Ideas on Board
Message-ID: <d46b0e1b-d0a8-3e6b-41e5-029bf07c2cae@ideasonboard.com>
Date: Wed, 11 Sep 2019 16:54:58 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <20190906135436.10622-4-jacopo+renesas@jmondi.org>
Content-Language: en-GB
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=ideasonboard.com; s=mail; t=1568217302;
 bh=F/WAEGE5bSJL5pX6H+opA4klhH7FkmTeNtPy7PfymT0=;
 h=Reply-To:Subject:To:Cc:References:From:Date:In-Reply-To:From;
 b=uiPaJvFgtWkwsY3c8LofYJzpdhWCZtT90Q+/e+hWnozTvRurj04z29Ahc0rSxegAc
 XGCxzF77j6cvt7oT+50su1tV+x9VnRTm5bA2YPUQY4dJP8gltP3kjolUhDzD0gGB53
 SiDw/q1/f3W1lLovVuwpvdg1V/bVI/mHGeLnHdJE=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Reply-To: kieran.bingham+renesas@ideasonboard.com
Cc: muroya@ksk.co.jp, airlied@linux.ie, koji.matsuoka.xm@renesas.com,
 dri-devel@lists.freedesktop.org, linux-kernel@vger.kernel.org,
 linux-renesas-soc@vger.kernel.org, Harsha.ManjulaMallikarjun@in.bosch.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgSmFjb3BvLAoKPFRoaXMgdGltZSByZXBseWluZyB0byB0aGUgbWFpbCB3aXRoIE1MJ3MgaW5j
bHVkZWQgRG9oIT4KCk9uIDA2LzA5LzIwMTkgMTQ6NDMsIEphY29wbyBNb25kaSB3cm90ZToKPiBB
ZGQgYSBkcml2ZXIgZm9yIHRoZSBSLUNhciBEaXNwbGF5IFVuaXQgQ29sb3IgQ29ycmVjdGlvbiBN
b2R1bGUuCj4KPiBJbiBtb3N0IG9mIEdlbjMgU29DcywgZWFjaCBEVSBvdXRwdXQgY2hhbm5lbCBp
cyBwcm92aWRlZCB3aXRoIGEgQ01NIHVuaXQKPiB0byBwZXJmb3JtIGltYWdlIGVuaGFuY2VtZW50
IGFuZCBjb2xvciBjb3JyZWN0aW9uLgo+Cj4gQWRkIHN1cHBvcnQgZm9yIENNTSB0aHJvdWdoIGEg
ZHJpdmVyIHRoYXQgc3VwcG9ydHMgY29uZmlndXJhdGlvbiBvZgo+IHRoZSAxLWRpbWVuc2lvbmFs
IExVVCB0YWJsZS4gTW9yZSBhZHZhbmNlZCBDTU0gZmVhdHVyZSB3aWxsIGJlCgpzL2ZlYXR1cmUv
ZmVhdHVyZXMvCgo+IGltcGxlbWVudGVkIG9uIHRvcCBvZiB0aGlzIGJhc2ljIG9uZS4KCnMvYmFz
aWMvaW5pdGlhbC8KCj4KPiBTaWduZWQtb2ZmLWJ5OiBKYWNvcG8gTW9uZGkgPGphY29wbytyZW5l
c2FzQGptb25kaS5vcmc+Cj4gLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L0tjb25maWcg
ICAgfCAgIDcgKwo+ICBkcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9NYWtlZmlsZSAgIHwgICAxICsK
PiAgZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9jbW0uYyB8IDI1MSArKysrKysrKysrKysr
KysrKysrKysrKysrKysrKwo+ICBkcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2NtbS5oIHwg
IDYxICsrKysrKysKPiAgNCBmaWxlcyBjaGFuZ2VkLCAzMjAgaW5zZXJ0aW9ucygrKQo+ICBjcmVh
dGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9jbW0uYwo+ICBjcmVh
dGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9jbW0uaAo+Cj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L0tjb25maWcKYi9kcml2ZXJzL2dwdS9k
cm0vcmNhci1kdS9LY29uZmlnCj4gaW5kZXggMTUyOTg0OWUyMTdlLi41MzlkMjMyNzkwZDEgMTAw
NjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvS2NvbmZpZwo+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS9yY2FyLWR1L0tjb25maWcKPiBAQCAtMTMsNiArMTMsMTMgQEAgY29uZmlnIERS
TV9SQ0FSX0RVCj4gIAkgIENob29zZSB0aGlzIG9wdGlvbiBpZiB5b3UgaGF2ZSBhbiBSLUNhciBj
aGlwc2V0Lgo+ICAJICBJZiBNIGlzIHNlbGVjdGVkIHRoZSBtb2R1bGUgd2lsbCBiZSBjYWxsZWQg
cmNhci1kdS1kcm0uCj4KPiArY29uZmlnIERSTV9SQ0FSX0NNTQo+ICsJYm9vbCAiUi1DYXIgRFUg
Q29sb3IgTWFuYWdlbWVudCBNb2R1bGUgKENNTSkgU3VwcG9ydCIKPiArCWRlcGVuZHMgb24gRFJN
ICYmIE9GCj4gKwlkZXBlbmRzIG9uIERSTV9SQ0FSX0RVCj4gKwloZWxwCj4gKwkgIEVuYWJsZSBz
dXBwb3J0IGZvciBSLUNhciBDb2xvciBNYW5hZ2VtZW50IE1vZHVsZSAoQ01NKS4KPiArCj4gIGNv
bmZpZyBEUk1fUkNBUl9EV19IRE1JCj4gIAl0cmlzdGF0ZSAiUi1DYXIgRFUgR2VuMyBIRE1JIEVu
Y29kZXIgU3VwcG9ydCIKPiAgCWRlcGVuZHMgb24gRFJNICYmIE9GCj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9yY2FyLWR1L01ha2VmaWxlCmIvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUv
TWFrZWZpbGUKPiBpbmRleCA2YzJlZDljNDY0NjcuLjRkMTE4N2NjYzNlNSAxMDA2NDQKPiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9NYWtlZmlsZQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9yY2FyLWR1L01ha2VmaWxlCj4gQEAgLTE1LDYgKzE1LDcgQEAgcmNhci1kdS1kcm0tJChDT05G
SUdfRFJNX1JDQVJfTFZEUykJKz0gcmNhcl9kdV9vZi5vIFwKPiAgcmNhci1kdS1kcm0tJChDT05G
SUdfRFJNX1JDQVJfVlNQKQkrPSByY2FyX2R1X3ZzcC5vCj4gIHJjYXItZHUtZHJtLSQoQ09ORklH
X0RSTV9SQ0FSX1dSSVRFQkFDSykgKz0gcmNhcl9kdV93cml0ZWJhY2subwo+Cj4gK29iai0kKENP
TkZJR19EUk1fUkNBUl9DTU0pCQkrPSByY2FyX2NtbS5vCj4gIG9iai0kKENPTkZJR19EUk1fUkNB
Ul9EVSkJCSs9IHJjYXItZHUtZHJtLm8KPiAgb2JqLSQoQ09ORklHX0RSTV9SQ0FSX0RXX0hETUkp
CQkrPSByY2FyX2R3X2hkbWkubwo+ICBvYmotJChDT05GSUdfRFJNX1JDQVJfTFZEUykJCSs9IHJj
YXJfbHZkcy5vCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfY21t
LmMKYi9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2NtbS5jCj4gbmV3IGZpbGUgbW9kZSAx
MDA2NDQKPiBpbmRleCAwMDAwMDAwMDAwMDAuLjNjYWNkYzQ0NzRjNwo+IC0tLSAvZGV2L251bGwK
PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2NtbS5jCj4gQEAgLTAsMCArMSwy
NTEgQEAKPiArLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjArCj4gKy8qCj4gKyAq
IHJjYXJfY21tLmMgLS0gUi1DYXIgRGlzcGxheSBVbml0IENvbG9yIE1hbmFnZW1lbnQgTW9kdWxl
Cj4gKyAqCj4gKyAqIENvcHlyaWdodCAoQykgMjAxOSBKYWNvcG8gTW9uZGkgPGphY29wbytyZW5l
c2FzQGptb25kaS5vcmc+Cj4gKyAqLwo+ICsKPiArI2luY2x1ZGUgPGxpbnV4L2lvLmg+Cj4gKyNp
bmNsdWRlIDxsaW51eC9tb2R1bGUuaD4KPiArI2luY2x1ZGUgPGxpbnV4L29mLmg+Cj4gKyNpbmNs
dWRlIDxsaW51eC9wbGF0Zm9ybV9kZXZpY2UuaD4KPiArI2luY2x1ZGUgPGxpbnV4L3BtX3J1bnRp
bWUuaD4KPiArCj4gKyNpbmNsdWRlIDxkcm0vZHJtX2NvbG9yX21nbXQuaD4KPiArCj4gKyNpbmNs
dWRlICJyY2FyX2NtbS5oIgo+ICsKPiArI2RlZmluZSBDTTJfTFVUX0NUUkwJCTB4MDAwMAo+ICsj
ZGVmaW5lIENNMl9MVVRfQ1RSTF9MVVRfRU4JQklUKDApCgpJJ2QgaGF2ZSBhIG5ldyBsaW5lIGhl
cmUKCj4gKyNkZWZpbmUgQ00yX0xVVF9UQkxfQkFTRQkweDA2MDAKPiArI2RlZmluZSBDTTJfTFVU
X1RCTChfX2kpCShDTTJfTFVUX1RCTF9CQVNFICsgKF9faSkgKiA0KQo+ICsKPiArc3RydWN0IHJj
YXJfY21tIHsKPiArCXZvaWQgX19pb21lbSAqYmFzZTsKPiArCWJvb2wgZW5hYmxlZDsKPiArCj4g
KwkvKgo+ICsJICogQGx1dDoJCTFELUxVVCBzdGF0dXMKPiArCSAqIEBsdXQuZW5hYmxlZDoJMUQt
TFVUIGVuYWJsZWQgZmxhZwo+ICsJICogQGx1dC50YWJsZToJCVRhYmxlIG9mIDFELUxVVCBlbnRy
aWVzIHNjYWxlZCB0byBoYXJkd2FyZQo+ICsJICoJCQlwcmVjaXNpb24gKDgtYml0cyBwZXIgY29s
b3IgY29tcG9uZW50KQo+ICsJICovCj4gKwlzdHJ1Y3Qgewo+ICsJCWJvb2wgZW5hYmxlZDsKPiAr
CQl1MzIgdGFibGVbQ00yX0xVVF9TSVpFXTsKPiArCX0gbHV0Owo+ICt9Owo+ICsKPiArc3RhdGlj
IGlubGluZSBpbnQgcmNhcl9jbW1fcmVhZChzdHJ1Y3QgcmNhcl9jbW0gKnJjbW0sIHUzMiByZWcp
Cj4gK3sKPiArCXJldHVybiBpb3JlYWQzMihyY21tLT5iYXNlICsgcmVnKTsKPiArfQo+ICsKPiAr
c3RhdGljIGlubGluZSB2b2lkIHJjYXJfY21tX3dyaXRlKHN0cnVjdCByY2FyX2NtbSAqcmNtbSwg
dTMyIHJlZywgdTMyCmRhdGEpCj4gK3sKPiArCWlvd3JpdGUzMihkYXRhLCByY21tLT5iYXNlICsg
cmVnKTsKPiArfQo+ICsKPiArLyoKPiArICogcmNhcl9jbW1fbHV0X2V4dHJhY3QoKSAtIFNjYWxl
IGRvd24gdG8gaGFyZHdhcmUgcHJlY2lzaW9uIHRoZSBEUk0KTFVUIHRhYmxlCj4gKyAqCQkJICAg
IGVudHJpZXMgYW5kIHN0b3JlIHRoZW0uCj4gKyAqIEByY21tOiBQb2ludGVyIHRvIHRoZSBDTU0g
ZGV2aWNlCj4gKyAqIEBkcm1fbHV0OiBQb2ludGVyIHRvIHRoZSBEUk0gTFVUIHRhYmxlCj4gKyAq
Lwo+ICtzdGF0aWMgdm9pZCByY2FyX2NtbV9sdXRfZXh0cmFjdChzdHJ1Y3QgcmNhcl9jbW0gKnJj
bW0sCj4gKwkJCQkgY29uc3Qgc3RydWN0IGRybV9jb2xvcl9sdXQgKmRybV9sdXQpCj4gK3sKPiAr
CXVuc2lnbmVkIGludCBpOwoKSSB0aGluayB5b3UncmUgbWlzc2luZyB0aGUgZm9sbG93aW5nIGhl
cmU6CgoJaWYgKCFkcm1fbHV0KQoJCXJldHVybjsKCllvdSBtZW50aW9uIGJlbG93IHRoYXQgZHJt
X2x1dCBjb3VsZCBiZSBwYXNzZWQgaW4gYXMgTlVMTCwgd2hpY2ggd291bGQKY2F1c2UgYSBzZWdm
YXVsdCBoZXJlIG90aGVyd2lzZS4KCgo+ICsKPiArCWZvciAoaSA9IDA7IGkgPCBDTTJfTFVUX1NJ
WkU7ICsraSkgewo+ICsJCWNvbnN0IHN0cnVjdCBkcm1fY29sb3JfbHV0ICpsdXQgPSAmZHJtX2x1
dFtpXTsKPiArCj4gKwkJcmNtbS0+bHV0LnRhYmxlW2ldID0gZHJtX2NvbG9yX2x1dF9leHRyYWN0
KGx1dC0+cmVkLCA4KSA8PCAxNgo+ICsJCQkJICAgfCBkcm1fY29sb3JfbHV0X2V4dHJhY3QobHV0
LT5ncmVlbiwgOCkgPDwgOAo+ICsJCQkJICAgfCBkcm1fY29sb3JfbHV0X2V4dHJhY3QobHV0LT5i
bHVlLCA4KTsKPiArCX0KPiArfQo+ICsKPiArLyoKPiArICogcmNhcl9jbW1fbHV0X3dyaXRlKCkg
LSBXcml0ZSB0byBoYXJkd2FyZSB0aGUgTFVUIHRhYmxlIGVudHJpZXMKZnJvbSB0aGUKPiArICoJ
CQkgIGxvY2FsIHRhYmxlLgo+ICsgKiBAcmNtbTogUG9pbnRlciB0byB0aGUgQ01NIGRldmljZQo+
ICsgKi8KPiArc3RhdGljIHZvaWQgcmNhcl9jbW1fbHV0X3dyaXRlKHN0cnVjdCByY2FyX2NtbSAq
cmNtbSkKPiArewo+ICsJdW5zaWduZWQgaW50IGk7Cj4gKwo+ICsJZm9yIChpID0gMDsgaSA8IENN
Ml9MVVRfU0laRTsgKytpKQo+ICsJCXJjYXJfY21tX3dyaXRlKHJjbW0sIENNMl9MVVRfVEJMKGkp
LCByY21tLT5sdXQudGFibGVbaV0pOwo+ICt9Cj4gKwo+ICsvKgo+ICsgKiByY2FyX2NtbV9zZXR1
cCgpIC0gQ29uZmlndXJlIHRoZSBDTU0gdW5pdC4KPiArICogQHBkZXY6IFRoZSBwbGF0Zm9ybSBk
ZXZpY2UgYXNzb2NpYXRlZCB3aXRoIHRoZSBDTU0gaW5zdGFuY2UKPiArICogQGNvbmZpZzogVGhl
IENSVEMtcHJvdmlkZWQgY29uZmlndXJhdGlvbi4KCkkgZG9uJ3QgdGhpbmsgQ1JUQy1wcm92aWRl
ZCBzaG91bGQgYmUgaHlwaGVuYXRlZCBsaWtlIHRoYXQuClBlcmhhcHMganVzdDoKCSJUaGUgY29s
b3VyIG1hbmFnZW1lbnQgY29uZmlndXJhdGlvbiIuCgpBcyBJIGRvbid0IHRoaW5rIHdobyBwcm92
aWRlcyB0aGUgY29uZmlndXJhdGlvbiBpcyByZWxldmFudCB0byB0aGUKYWN0dWFsIGNhbGwuCgo+
ICsgKgo+ICsgKiBDb25maWd1cmUgdGhlIENNTSB1bml0IHdpdGggdGhlIENSVEMtcHJvdmlkZWQg
Y29uZmlndXJhdGlvbi4KCnMvQ1JUQy1wcm92aWRlZC9naXZlbi8KCj4gKyAqIEN1cnJlbnRseSBl
bmFibGluZywgZGlzYWJsaW5nIGFuZCBwcm9ncmFtbWluZyBvZiB0aGUgMS1EIExVVCB1bml0IGlz
Cj4gKyAqIHN1cHBvcnRlZC4KPiArICovCj4gK2ludCByY2FyX2NtbV9zZXR1cChzdHJ1Y3QgcGxh
dGZvcm1fZGV2aWNlICpwZGV2LAo+ICsJCSAgIGNvbnN0IHN0cnVjdCByY2FyX2NtbV9jb25maWcg
KmNvbmZpZykKPiArewo+ICsJc3RydWN0IHJjYXJfY21tICpyY21tID0gcGxhdGZvcm1fZ2V0X2Ry
dmRhdGEocGRldik7Cj4gKwo+ICsJLyoKPiArCSAqIEFzIHJjYXJfY21tX3NldHVwKCkgaXMgY2Fs
bGVkIGJ5IGF0b21pYyBjb21taXQgdGFpbCBoZWxwZXIsIGl0IG1pZ2h0Cj4gKwkgKiBiZSBjYWxs
ZWQgd2hlbiB0aGUgQ01NIGlzIGRpc2FibGVkLiBBcyB3ZSBjYW4ndCBwcm9ncmFtIHRoZSBoYXJk
d2FyZQo+ICsJICogaW4gdGhhdCBjYXNlLCBzdG9yZSB0aGUgY29uZmlndXJhdGlvbiBpbnRlcm5h
bGx5IGFuZCBhcHBseSBpdCB3aGVuCj4gKwkgKiB0aGUgQ01NIHdpbGwgYmUgZW5hYmxlZCBieSB0
aGUgQ1JUQyB0aHJvdWdoIHJjYXJfY21tX2VuYWJsZSgpLgo+ICsJICovCj4gKwlpZiAoIXJjbW0t
PmVuYWJsZWQpIHsKPiArCQlpZiAoIWNvbmZpZy0+bHV0LmVuYWJsZSkKPiArCQkJcmV0dXJuIDA7
Cj4gKwo+ICsJCXJjYXJfY21tX2x1dF9leHRyYWN0KHJjbW0sIGNvbmZpZy0+bHV0LnRhYmxlKTsK
PiArCQlyY21tLT5sdXQuZW5hYmxlZCA9IHRydWU7Cj4gKwo+ICsJCXJldHVybiAwOwo+ICsJfQo+
ICsKPiArCS8qIFN0b3AgTFVUIG9wZXJhdGlvbnMgaWYgcmVxdWVzdGVkLiAqLwo+ICsJaWYgKCFj
b25maWctPmx1dC5lbmFibGUpIHsKPiArCQlpZiAocmNtbS0+bHV0LmVuYWJsZWQpIHsKPiArCQkJ
cmNhcl9jbW1fd3JpdGUocmNtbSwgQ00yX0xVVF9DVFJMLCAwKTsKPiArCQkJcmNtbS0+bHV0LmVu
YWJsZWQgPSBmYWxzZTsKPiArCQl9Cj4gKwo+ICsJCXJldHVybiAwOwo+ICsJfQo+ICsKPiArCS8q
Cj4gKwkgKiBFbmFibGUgTFVUIGFuZCBwcm9ncmFtIHRoZSBuZXcgZ2FtbWEgdGFibGUgdmFsdWVz
Lgo+ICsJICoKPiArCSAqIEZJWE1FOiBJbiBvcmRlciB0byBoYXZlIHN0YWJsZSBvcGVyYXRpb25z
IGl0IGlzIHJlcXVpcmVkIHRvIGZpcnN0Cj4gKwkgKiBlbmFibGUgdGhlIDFELUxVVCBhbmQgdGhl
biBwcm9ncmFtIGl0cyB0YWJsZSBlbnRyaWVzLiBUaGlzIHNlZW1zIHRvCj4gKwkgKiBjb250cmFk
aWN0IHdoYXQgdGhlIGNoaXAgbWFudWFsIHJlcG9ydHMsIGFuZCB3aWxsIGhhdmUgdG8gYmUKPiAr
CSAqIHJlY29uc2lkZXJlZCB3aGVuIGltcGxlbWVudGluZyBzdXBwb3J0IGZvciBkb3VibGUgYnVm
ZmVyaW5nLgo+ICsJICovCj4gKwlpZiAoIXJjbW0tPmx1dC5lbmFibGVkKSB7Cj4gKwkJcmNhcl9j
bW1fd3JpdGUocmNtbSwgQ00yX0xVVF9DVFJMLCBDTTJfTFVUX0NUUkxfTFVUX0VOKTsKPiArCQly
Y21tLT5sdXQuZW5hYmxlZCA9IHRydWU7Cj4gKwl9Cj4gKwo+ICsJcmNhcl9jbW1fbHV0X2V4dHJh
Y3QocmNtbSwgY29uZmlnLT5sdXQudGFibGUpOwo+ICsJcmNhcl9jbW1fbHV0X3dyaXRlKHJjbW0p
Owo+ICsKPiArCXJldHVybiAwOwo+ICt9Cj4gK0VYUE9SVF9TWU1CT0xfR1BMKHJjYXJfY21tX3Nl
dHVwKTsKPiArCj4gKy8qCj4gKyAqIHJjYXJfY21tX2VuYWJsZSgpIC0gRW5hYmxlIHRoZSBDTU0g
dW5pdC4KPiArICogQHBkZXY6IFRoZSBwbGF0Zm9ybSBkZXZpY2UgYXNzb2NpYXRlZCB3aXRoIHRo
ZSBDTU0gaW5zdGFuY2UKPiArICoKPiArICogRW5hYmxlIHRoZSBDTU0gdW5pdCBieSBlbmFibGlu
ZyB0aGUgcGFyZW50IGNsb2NrIGFuZCBlbmFibGluZyB0aGUgQ01NCj4gKyAqIGNvbXBvbmVudHMs
IHN1Y2ggYXMgMS1EIExVVCwgaWYgcmVxdWVzdGVkLgo+ICsgKi8KPiAraW50IHJjYXJfY21tX2Vu
YWJsZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQo+ICt7Cj4gKwlzdHJ1Y3QgcmNhcl9j
bW0gKnJjbW0gPSBwbGF0Zm9ybV9nZXRfZHJ2ZGF0YShwZGV2KTsKPiArCWludCByZXQ7Cj4gKwo+
ICsJcmV0ID0gcG1fcnVudGltZV9nZXRfc3luYygmcGRldi0+ZGV2KTsKPiArCWlmIChyZXQgPCAw
KQo+ICsJCXJldHVybiByZXQ7Cj4gKwo+ICsJLyogQXBwbHkgdGhlIExVVCB0YWJsZSB2YWx1ZXMg
c2F2ZWQgYXQgcmNhcl9jbW1fc2V0dXAoKSB0aW1lLiAqLwo+ICsJaWYgKHJjbW0tPmx1dC5lbmFi
bGVkKSB7Cj4gKwkJcmNhcl9jbW1fd3JpdGUocmNtbSwgQ00yX0xVVF9DVFJMLCBDTTJfTFVUX0NU
UkxfTFVUX0VOKTsKPiArCQlyY2FyX2NtbV9sdXRfd3JpdGUocmNtbSk7Cj4gKwl9Cj4gKwo+ICsJ
cmNtbS0+ZW5hYmxlZCA9IHRydWU7Cj4gKwo+ICsJcmV0dXJuIDA7Cj4gK30KPiArRVhQT1JUX1NZ
TUJPTF9HUEwocmNhcl9jbW1fZW5hYmxlKTsKPiArCj4gKy8qCj4gKyAqIHJjYXJfY21tX2Rpc2Fi
bGUoKSAtIERpc2FibGUgdGhlIENNTSB1bml0Lgo+ICsgKiBAcGRldjogVGhlIHBsYXRmb3JtIGRl
dmljZSBhc3NvY2lhdGVkIHdpdGggdGhlIENNTSBpbnN0YW5jZQo+ICsgKgo+ICsgKiBEaXNhYmxl
IHRoZSBDTU0gdW5pdCBieSBzdG9wcGluZyB0aGUgcGFyZW50IGNsb2NrLgo+ICsgKi8KPiArdm9p
ZCByY2FyX2NtbV9kaXNhYmxlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCj4gK3sKPiAr
CXN0cnVjdCByY2FyX2NtbSAqcmNtbSA9IHBsYXRmb3JtX2dldF9kcnZkYXRhKHBkZXYpOwo+ICsK
PiArCXJjYXJfY21tX3dyaXRlKHJjbW0sIENNMl9MVVRfQ1RSTCwgMCk7Cj4gKwo+ICsJcG1fcnVu
dGltZV9wdXQoJnBkZXYtPmRldik7Cj4gKwo+ICsJcmNtbS0+bHV0LmVuYWJsZWQgPSBmYWxzZTsK
PiArCXJjbW0tPmVuYWJsZWQgPSBmYWxzZTsKPiArfQo+ICtFWFBPUlRfU1lNQk9MX0dQTChyY2Fy
X2NtbV9kaXNhYmxlKTsKPiArCj4gKy8qCj4gKyAqIHJjYXJfY21tX2luaXQoKSAtIE1ha2Ugc3Vy
ZSB0aGUgQ01NIGhhcyBwcm9iZWQuCj4gKyAqIEBwZGV2OiBUaGUgcGxhdGZvcm0gZGV2aWNlIGFz
c29jaWF0ZWQgd2l0aCB0aGUgQ01NIGluc3RhbmNlCj4gKyAqCj4gKyAqIFJldHVybjogMCBpZiB0
aGUgQ01NIGhhcyBwcm9iZWQsIC1FUFJPQkVfREVGRVIgb3RoZXJ3aXNlCj4gKyAqLwo+ICtpbnQg
cmNhcl9jbW1faW5pdChzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQo+ICt7Cj4gKwlzdHJ1
Y3QgcmNhcl9jbW0gKnJjbW0gPSBwbGF0Zm9ybV9nZXRfZHJ2ZGF0YShwZGV2KTsKPiArCj4gKwlp
ZiAoIXJjbW0pCj4gKwkJcmV0dXJuIC1FUFJPQkVfREVGRVI7Cj4gKwo+ICsJcmV0dXJuIDA7Cj4g
K30KPiArRVhQT1JUX1NZTUJPTF9HUEwocmNhcl9jbW1faW5pdCk7Cj4gKwo+ICtzdGF0aWMgaW50
IHJjYXJfY21tX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCj4gK3sKPiArCXN0
cnVjdCByY2FyX2NtbSAqcmNtbTsKPiArCj4gKwlyY21tID0gZGV2bV9remFsbG9jKCZwZGV2LT5k
ZXYsIHNpemVvZigqcmNtbSksIEdGUF9LRVJORUwpOwo+ICsJaWYgKCFyY21tKQo+ICsJCXJldHVy
biAtRU5PTUVNOwo+ICsJcGxhdGZvcm1fc2V0X2RydmRhdGEocGRldiwgcmNtbSk7Cj4gKwo+ICsJ
cmNtbS0+YmFzZSA9IGRldm1fcGxhdGZvcm1faW9yZW1hcF9yZXNvdXJjZShwZGV2LCAwKTsKPiAr
CWlmIChJU19FUlIocmNtbS0+YmFzZSkpCj4gKwkJcmV0dXJuIFBUUl9FUlIocmNtbS0+YmFzZSk7
Cj4gKwo+ICsJcG1fcnVudGltZV9lbmFibGUoJnBkZXYtPmRldik7Cj4gKwo+ICsJcmV0dXJuIDA7
Cj4gK30KPiArCj4gK3N0YXRpYyBpbnQgcmNhcl9jbW1fcmVtb3ZlKHN0cnVjdCBwbGF0Zm9ybV9k
ZXZpY2UgKnBkZXYpCj4gK3sKPiArCXBtX3J1bnRpbWVfZGlzYWJsZSgmcGRldi0+ZGV2KTsKPiAr
Cj4gKwlyZXR1cm4gMDsKPiArfQo+ICsKPiArc3RhdGljIGNvbnN0IHN0cnVjdCBvZl9kZXZpY2Vf
aWQgcmNhcl9jbW1fb2ZfdGFibGVbXSA9IHsKPiArCXsgLmNvbXBhdGlibGUgPSAicmVuZXNhcyxy
Y2FyLWdlbjMtY21tIiwgfSwKPiArCXsgLmNvbXBhdGlibGUgPSAicmVuZXNhcyxyY2FyLWdlbjIt
Y21tIiwgfSwKPiArCXsgfSwKPiArfTsKPiArTU9EVUxFX0RFVklDRV9UQUJMRShvZiwgcmNhcl9j
bW1fb2ZfdGFibGUpOwo+ICsKPiArc3RhdGljIHN0cnVjdCBwbGF0Zm9ybV9kcml2ZXIgcmNhcl9j
bW1fcGxhdGZvcm1fZHJpdmVyID0gewo+ICsJLnByb2JlCQk9IHJjYXJfY21tX3Byb2JlLAo+ICsJ
LnJlbW92ZQkJPSByY2FyX2NtbV9yZW1vdmUsCj4gKwkuZHJpdmVyCQk9IHsKPiArCQkubmFtZQk9
ICJyY2FyLWNtbSIsCj4gKwkJLm9mX21hdGNoX3RhYmxlID0gcmNhcl9jbW1fb2ZfdGFibGUsCj4g
Kwl9LAo+ICt9Owo+ICsKPiArbW9kdWxlX3BsYXRmb3JtX2RyaXZlcihyY2FyX2NtbV9wbGF0Zm9y
bV9kcml2ZXIpOwo+ICsKPiArTU9EVUxFX0FVVEhPUigiSmFjb3BvIE1vbmRpIDxqYWNvcG8rcmVu
ZXNhc0BqbW9uZGkub3JnPiIpOwo+ICtNT0RVTEVfREVTQ1JJUFRJT04oIlJlbmVzYXMgUi1DYXIg
Q01NIERyaXZlciIpOwo+ICtNT0RVTEVfTElDRU5TRSgiR1BMIHYyIik7Cj4gZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJfY21tLmgKYi9kcml2ZXJzL2dwdS9kcm0vcmNh
ci1kdS9yY2FyX2NtbS5oCj4gbmV3IGZpbGUgbW9kZSAxMDA2NDQKPiBpbmRleCAwMDAwMDAwMDAw
MDAuLjE1YTJjODc0YjZhNgo+IC0tLSAvZGV2L251bGwKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
cmNhci1kdS9yY2FyX2NtbS5oCj4gQEAgLTAsMCArMSw2MSBAQAo+ICsvKiBTUERYLUxpY2Vuc2Ut
SWRlbnRpZmllcjogR1BMLTIuMCsgKi8KPiArLyoKPiArICogcmNhcl9jbW0uaCAtLSBSLUNhciBE
aXNwbGF5IFVuaXQgQ29sb3IgTWFuYWdlbWVudCBNb2R1bGUKPiArICoKPiArICogQ29weXJpZ2h0
IChDKSAyMDE5IEphY29wbyBNb25kaSA8amFjb3BvK3JlbmVzYXNAam1vbmRpLm9yZz4KPiArICov
Cj4gKwo+ICsjaWZuZGVmIF9fUkNBUl9DTU1fSF9fCj4gKyNkZWZpbmUgX19SQ0FSX0NNTV9IX18K
PiArCj4gKyNkZWZpbmUgQ00yX0xVVF9TSVpFCQkyNTYKPiArCj4gK3N0cnVjdCBkcm1fY29sb3Jf
bHV0Owo+ICtzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlOwo+ICsKPiArLyoqCj4gKyAqIHN0cnVjdCBy
Y2FyX2NtbV9jb25maWcgLSBDTU0gY29uZmlndXJhdGlvbgo+ICsgKgo+ICsgKiBAbHV0OgkxRC1M
VVQgY29uZmlndXJhdGlvbgo+ICsgKiBAbHV0LmVuYWJsZToJMUQtTFVUIGVuYWJsZSBmbGFnCj4g
KyAqIEBsdXQudGFibGU6CTFELUxVVCB0YWJsZSBlbnRyaWVzLiBNaWdodCBiZSBzZXQgdG8gTlVM
TCB3aGVuIHRoZQpDTU0gaGFzIHRvCj4gKyAqCQliZSByZS1lbmFibGVkIGJ1dCBub3QgcmU9cHJv
Z3JhbW1lZC4KClNvIGx1dC50YWJsZSBjYW4gYmUgTlVMTCAuLi4gU2VlIGNvbW1lbnQgYXQgcmNh
cl9jbW1fbHV0X2V4dHJhY3QoKQoKPiArICovCj4gK3N0cnVjdCByY2FyX2NtbV9jb25maWcgewo+
ICsJc3RydWN0IHsKPiArCQlib29sIGVuYWJsZTsKPiArCQlzdHJ1Y3QgZHJtX2NvbG9yX2x1dCAq
dGFibGU7Cj4gKwl9IGx1dDsKPiArfTsKPiArCj4gKyNpZiBJU19FTkFCTEVEKENPTkZJR19EUk1f
UkNBUl9DTU0pCj4gK2ludCByY2FyX2NtbV9pbml0KHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBk
ZXYpOwo+ICsKPiAraW50IHJjYXJfY21tX2VuYWJsZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpw
ZGV2KTsKPiArdm9pZCByY2FyX2NtbV9kaXNhYmxlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBk
ZXYpOwo+ICsKPiAraW50IHJjYXJfY21tX3NldHVwKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBk
ZXYsCj4gKwkJICAgY29uc3Qgc3RydWN0IHJjYXJfY21tX2NvbmZpZyAqY29uZmlnKTsKPiArI2Vs
c2UKPiArc3RhdGljIGlubGluZSBpbnQgcmNhcl9jbW1faW5pdChzdHJ1Y3QgcGxhdGZvcm1fZGV2
aWNlICpwZGV2KQo+ICt7Cj4gKwlyZXR1cm4gMDsKPiArfQo+ICsKPiArc3RhdGljIGlubGluZSBp
bnQgcmNhcl9jbW1fZW5hYmxlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCj4gK3sKPiAr
CXJldHVybiAwOwo+ICt9Cj4gKwo+ICtzdGF0aWMgaW5saW5lIHZvaWQgcmNhcl9jbW1fZGlzYWJs
ZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQo+ICt7Cj4gK30KPiArCj4gK3N0YXRpYyBp
bnQgcmNhcl9jbW1fc2V0dXAoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldiwKPiArCQkJICBj
b25zdCBzdHJ1Y3QgcmNhcl9jbW1fY29uZmlnICpjb25maWcpCj4gK3sKPiArCXJldHVybiAwOwo+
ICt9Cj4gKyNlbmRpZiAvKiBJU19FTkFCTEVEKENPTkZJR19EUk1fUkNBUl9DTU0pICovCj4gKwo+
ICsjZW5kaWYgLyogX19SQ0FSX0NNTV9IX18gKi8KPgoKX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxA
bGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxt
YW4vbGlzdGluZm8vZHJpLWRldmVs
