Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id DF684264577
	for <lists+dri-devel@lfdr.de>; Thu, 10 Sep 2020 13:49:24 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C05046E910;
	Thu, 10 Sep 2020 11:49:15 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ej1-x62b.google.com (mail-ej1-x62b.google.com
 [IPv6:2a00:1450:4864:20::62b])
 by gabe.freedesktop.org (Postfix) with ESMTPS id DB95B6E908
 for <dri-devel@lists.freedesktop.org>; Thu, 10 Sep 2020 11:49:12 +0000 (UTC)
Received: by mail-ej1-x62b.google.com with SMTP id i26so8202771ejb.12
 for <dri-devel@lists.freedesktop.org>; Thu, 10 Sep 2020 04:49:12 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:subject:date:message-id:in-reply-to:references:mime-version
 :content-transfer-encoding;
 bh=f+AkYRqKnWfCzcuforJ6r62cXAu4PYlXUK6GyIFD5/k=;
 b=dHK64YBNacDgouhJH+b91+pNQ1jcVh/X/yjf4ISrhK35GgN0jHVWDaer5XpP2RSy+Q
 w42NP/6zldCFgjXQx/uF4zbLP8Sg8W9s0SJhbC33GprkZDZZEUf547hpmEhBMFeFp2n0
 /5nVNhXijdUYOij1SCN+eAurVV/PUMkQPT3AhX3YgmQRhS7XywPvdOGSUShPMgyPlND0
 3rSNllPclNNPrDQniVL8iXrUfrpOjJAXf+KBnvPQ6pciJMXf8spFqRVkiuPMlRz+5R5w
 LnrRMtosWxAG6BKDHzqjd1u6iXVICnEtv32DdTerskfumQqgKhNb4FGf1JVHxgjt77Kq
 nYhA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=f+AkYRqKnWfCzcuforJ6r62cXAu4PYlXUK6GyIFD5/k=;
 b=VgtOhgceL7RTi4OjAs16wVw8MAR1X4qVAHjvQ9EaP09o23wmzhUHh0D0du81SXTmAm
 11WOwbtPY2jBbJ7xaM9xOuuOrOgfsYjUV8ooqNGBff2eDzMB2zqm2oiBs6B375xL0fVz
 hKoiMy9IWtvf1/1D5AfXOIzkmGQsICl9rSEZAw8NQMOdMG8MZGZXg5nI9vxIsWtM48Hx
 BbM1kSlgNwosqqfEnFq9wTEZXqn+37meSlc+p5dQeoYNrbeNjS2ln5n7xU3GCimIHt8z
 pxf9fTNkBLCDCJByr7ZcfV6w0ol7jxi/Rcwjxo7/fLBFe5nNw5HMonztwuSpTxWaCBXv
 hAuw==
X-Gm-Message-State: AOAM533K6lSsKdut+3dA3Y4kORK+KAw/rcQlntMm9hSKHLjAxoebF8is
 8J5grzkCn2yrDNAW2iDTSp1KUn9VN1Q=
X-Google-Smtp-Source: ABdhPJyWNiKyBItUI7ZJR+y8AzX15Rtk7qwyv/Tf97dttGY1uMigg5/b21551TWqb2XlBXAoGv7Fpw==
X-Received: by 2002:a17:906:6805:: with SMTP id
 k5mr7968021ejr.397.1599738550715; 
 Thu, 10 Sep 2020 04:49:10 -0700 (PDT)
Received: from abel.fritz.box ([2a02:908:1252:fb60:70f6:b740:8639:ef8a])
 by smtp.gmail.com with ESMTPSA id q27sm6438007ejd.74.2020.09.10.04.49.09
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Thu, 10 Sep 2020 04:49:10 -0700 (PDT)
From: "=?UTF-8?q?Christian=20K=C3=B6nig?=" <ckoenig.leichtzumerken@gmail.com>
X-Google-Original-From: =?UTF-8?q?Christian=20K=C3=B6nig?=
 <christian.koenig@amd.com>
To: dri-devel@lists.freedesktop.org, airlied@gmail.com, bskeggs@redhat.com,
 kraxel@redhat.com
Subject: [PATCH 4/4] drm/ttm: nuke memory type flags
Date: Thu, 10 Sep 2020 13:49:06 +0200
Message-Id: <20200910114906.2873-4-christian.koenig@amd.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20200910114906.2873-1-christian.koenig@amd.com>
References: <20200910114906.2873-1-christian.koenig@amd.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SXQncyBub3Qgc3VwcG9ydGVkIHRvIHNwZWNpZnkgbW9yZSB0aGFuIG9uZSBvZiB0aG9zZSBmbGFn
cy4KU28gaXQgbmV2ZXIgbWFkZSBzZW5zZSB0byBtYWtlIHRoaXMgYSBmbGFnIGluIHRoZSBmaXJz
dCBwbGFjZS4KCk51a2UgdGhlIGZsYWdzIGFuZCBzcGVjaWZ5IGRpcmVjdGx5IHdoaWNoIG1lbW9y
eSB0eXBlIHRvIHVzZS4KClNpZ25lZC1vZmYtYnk6IENocmlzdGlhbiBLw7ZuaWcgPGNocmlzdGlh
bi5rb2VuaWdAYW1kLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
b2JqZWN0LmMgfCAyNCArKystLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90
dG0uYyAgICB8IDEzICsrLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90dG0u
aCAgICB8ICA0IC0KIGRyaXZlcnMvZ3B1L2RybS9kcm1fZ2VtX3ZyYW1faGVscGVyLmMgICAgICB8
IDE1ICsrLS0KIGRyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfYm8uYyAgICAgICB8IDI0
ICsrKystLQogZHJpdmVycy9ncHUvZHJtL3F4bC9xeGxfb2JqZWN0LmMgICAgICAgICAgIHwgMjQg
KysrKy0tCiBkcml2ZXJzL2dwdS9kcm0vcXhsL3F4bF90dG0uYyAgICAgICAgICAgICAgfCAgMyAr
LQogZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fb2JqZWN0LmMgICAgIHwgNDIgKysrKyst
LS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFkZW9uX3R0bS5jICAgICAgICB8IDExICsr
LQogZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm8uYyAgICAgICAgICAgICAgIHwgODYgKysrKy0t
LS0tLS0tLS0tLS0tLS0tLQogZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm9fdXRpbC5jICAgICAg
ICAgIHwgIDIgLQogZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfYm8uYyAgICAgICAgIHwg
IDEgKwogZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfZHJ2LmggICAgICAgIHwgIDIgLQog
ZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfdHRtX2J1ZmZlci5jIHwgNjMgKysrKysrKysr
Ky0tLS0tLQogaW5jbHVkZS9kcm0vdHRtL3R0bV9ib19kcml2ZXIuaCAgICAgICAgICAgIHwgMTcg
LS0tLS0KIGluY2x1ZGUvZHJtL3R0bS90dG1fcGxhY2VtZW50LmggICAgICAgICAgICB8ICA5ICst
LQogMTYgZmlsZXMgY2hhbmdlZCwgMTQ5IGluc2VydGlvbnMoKyksIDE5MSBkZWxldGlvbnMoLSkK
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfb2JqZWN0LmMg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfb2JqZWN0LmMKaW5kZXggYjM2ZDk0
ZjU3ZDQyLi5lYWZmNGM0NTA2ZWIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L2FtZGdwdV9vYmplY3QuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRn
cHVfb2JqZWN0LmMKQEAgLTEzNiw4ICsxMzYsOCBAQCB2b2lkIGFtZGdwdV9ib19wbGFjZW1lbnRf
ZnJvbV9kb21haW4oc3RydWN0IGFtZGdwdV9ibyAqYWJvLCB1MzIgZG9tYWluKQogCiAJCXBsYWNl
c1tjXS5mcGZuID0gMDsKIAkJcGxhY2VzW2NdLmxwZm4gPSAwOwotCQlwbGFjZXNbY10uZmxhZ3Mg
PSBUVE1fUExfRkxBR19XQyB8IFRUTV9QTF9GTEFHX1VOQ0FDSEVEIHwKLQkJCVRUTV9QTF9GTEFH
X1ZSQU07CisJCXBsYWNlc1tjXS5tZW1fdHlwZSA9IFRUTV9QTF9WUkFNOworCQlwbGFjZXNbY10u
ZmxhZ3MgPSBUVE1fUExfRkxBR19XQyB8IFRUTV9QTF9GTEFHX1VOQ0FDSEVEOwogCiAJCWlmIChm
bGFncyAmIEFNREdQVV9HRU1fQ1JFQVRFX0NQVV9BQ0NFU1NfUkVRVUlSRUQpCiAJCQlwbGFjZXNb
Y10ubHBmbiA9IHZpc2libGVfcGZuOwpAQCAtMTUyLDcgKzE1Miw4IEBAIHZvaWQgYW1kZ3B1X2Jv
X3BsYWNlbWVudF9mcm9tX2RvbWFpbihzdHJ1Y3QgYW1kZ3B1X2JvICphYm8sIHUzMiBkb21haW4p
CiAJaWYgKGRvbWFpbiAmIEFNREdQVV9HRU1fRE9NQUlOX0dUVCkgewogCQlwbGFjZXNbY10uZnBm
biA9IDA7CiAJCXBsYWNlc1tjXS5scGZuID0gMDsKLQkJcGxhY2VzW2NdLmZsYWdzID0gVFRNX1BM
X0ZMQUdfVFQ7CisJCXBsYWNlc1tjXS5tZW1fdHlwZSA9IFRUTV9QTF9UVDsKKwkJcGxhY2VzW2Nd
LmZsYWdzID0gMDsKIAkJaWYgKGZsYWdzICYgQU1ER1BVX0dFTV9DUkVBVEVfQ1BVX0dUVF9VU1dD
KQogCQkJcGxhY2VzW2NdLmZsYWdzIHw9IFRUTV9QTF9GTEFHX1dDIHwKIAkJCQlUVE1fUExfRkxB
R19VTkNBQ0hFRDsKQEAgLTE2NCw3ICsxNjUsOCBAQCB2b2lkIGFtZGdwdV9ib19wbGFjZW1lbnRf
ZnJvbV9kb21haW4oc3RydWN0IGFtZGdwdV9ibyAqYWJvLCB1MzIgZG9tYWluKQogCWlmIChkb21h
aW4gJiBBTURHUFVfR0VNX0RPTUFJTl9DUFUpIHsKIAkJcGxhY2VzW2NdLmZwZm4gPSAwOwogCQlw
bGFjZXNbY10ubHBmbiA9IDA7Ci0JCXBsYWNlc1tjXS5mbGFncyA9IFRUTV9QTF9GTEFHX1NZU1RF
TTsKKwkJcGxhY2VzW2NdLm1lbV90eXBlID0gVFRNX1BMX1NZU1RFTTsKKwkJcGxhY2VzW2NdLmZs
YWdzID0gMDsKIAkJaWYgKGZsYWdzICYgQU1ER1BVX0dFTV9DUkVBVEVfQ1BVX0dUVF9VU1dDKQog
CQkJcGxhY2VzW2NdLmZsYWdzIHw9IFRUTV9QTF9GTEFHX1dDIHwKIAkJCQlUVE1fUExfRkxBR19V
TkNBQ0hFRDsKQEAgLTE3NiwyOCArMTc4LDMyIEBAIHZvaWQgYW1kZ3B1X2JvX3BsYWNlbWVudF9m
cm9tX2RvbWFpbihzdHJ1Y3QgYW1kZ3B1X2JvICphYm8sIHUzMiBkb21haW4pCiAJaWYgKGRvbWFp
biAmIEFNREdQVV9HRU1fRE9NQUlOX0dEUykgewogCQlwbGFjZXNbY10uZnBmbiA9IDA7CiAJCXBs
YWNlc1tjXS5scGZuID0gMDsKLQkJcGxhY2VzW2NdLmZsYWdzID0gVFRNX1BMX0ZMQUdfVU5DQUNI
RUQgfCBBTURHUFVfUExfRkxBR19HRFM7CisJCXBsYWNlc1tjXS5tZW1fdHlwZSA9IEFNREdQVV9Q
TF9HRFM7CisJCXBsYWNlc1tjXS5mbGFncyA9IFRUTV9QTF9GTEFHX1VOQ0FDSEVEOwogCQljKys7
CiAJfQogCiAJaWYgKGRvbWFpbiAmIEFNREdQVV9HRU1fRE9NQUlOX0dXUykgewogCQlwbGFjZXNb
Y10uZnBmbiA9IDA7CiAJCXBsYWNlc1tjXS5scGZuID0gMDsKLQkJcGxhY2VzW2NdLmZsYWdzID0g
VFRNX1BMX0ZMQUdfVU5DQUNIRUQgfCBBTURHUFVfUExfRkxBR19HV1M7CisJCXBsYWNlc1tjXS5t
ZW1fdHlwZSA9IEFNREdQVV9QTF9HV1M7CisJCXBsYWNlc1tjXS5mbGFncyA9IFRUTV9QTF9GTEFH
X1VOQ0FDSEVEOwogCQljKys7CiAJfQogCiAJaWYgKGRvbWFpbiAmIEFNREdQVV9HRU1fRE9NQUlO
X09BKSB7CiAJCXBsYWNlc1tjXS5mcGZuID0gMDsKIAkJcGxhY2VzW2NdLmxwZm4gPSAwOwotCQlw
bGFjZXNbY10uZmxhZ3MgPSBUVE1fUExfRkxBR19VTkNBQ0hFRCB8IEFNREdQVV9QTF9GTEFHX09B
OworCQlwbGFjZXNbY10ubWVtX3R5cGUgPSBBTURHUFVfUExfT0E7CisJCXBsYWNlc1tjXS5mbGFn
cyA9IFRUTV9QTF9GTEFHX1VOQ0FDSEVEOwogCQljKys7CiAJfQogCiAJaWYgKCFjKSB7CiAJCXBs
YWNlc1tjXS5mcGZuID0gMDsKIAkJcGxhY2VzW2NdLmxwZm4gPSAwOwotCQlwbGFjZXNbY10uZmxh
Z3MgPSBUVE1fUExfTUFTS19DQUNISU5HIHwgVFRNX1BMX0ZMQUdfU1lTVEVNOworCQlwbGFjZXNb
Y10ubWVtX3R5cGUgPSBUVE1fUExfU1lTVEVNOworCQlwbGFjZXNbY10uZmxhZ3MgPSBUVE1fUExf
TUFTS19DQUNISU5HOwogCQljKys7CiAJfQogCkBAIC01OTEsNyArNTk3LDcgQEAgc3RhdGljIGlu
dCBhbWRncHVfYm9fZG9fY3JlYXRlKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LAogCQlhbWRn
cHVfY3NfcmVwb3J0X21vdmVkX2J5dGVzKGFkZXYsIGN0eC5ieXRlc19tb3ZlZCwgMCk7CiAKIAlp
ZiAoYnAtPmZsYWdzICYgQU1ER1BVX0dFTV9DUkVBVEVfVlJBTV9DTEVBUkVEICYmCi0JICAgIGJv
LT50Ym8ubWVtLnBsYWNlbWVudCAmIFRUTV9QTF9GTEFHX1ZSQU0pIHsKKwkgICAgYm8tPnRiby5t
ZW0ubWVtX3R5cGUgPT0gVFRNX1BMX1ZSQU0pIHsKIAkJc3RydWN0IGRtYV9mZW5jZSAqZmVuY2U7
CiAKIAkJciA9IGFtZGdwdV9maWxsX2J1ZmZlcihibywgMCwgYm8tPnRiby5iYXNlLnJlc3YsICZm
ZW5jZSk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdHRt
LmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdHRtLmMKaW5kZXggYzZmNGQ5
ZWRlMGUwLi4zMDg1Y2U2ZDU5MzcgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L2FtZGdwdV90dG0uYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
dHRtLmMKQEAgLTg4LDcgKzg4LDggQEAgc3RhdGljIHZvaWQgYW1kZ3B1X2V2aWN0X2ZsYWdzKHN0
cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCiAJc3RhdGljIGNvbnN0IHN0cnVjdCB0dG1fcGxh
Y2UgcGxhY2VtZW50cyA9IHsKIAkJLmZwZm4gPSAwLAogCQkubHBmbiA9IDAsCi0JCS5mbGFncyA9
IFRUTV9QTF9NQVNLX0NBQ0hJTkcgfCBUVE1fUExfRkxBR19TWVNURU0KKwkJLm1lbV90eXBlID0g
VFRNX1BMX1NZU1RFTSwKKwkJLmZsYWdzID0gVFRNX1BMX01BU0tfQ0FDSElORwogCX07CiAKIAkv
KiBEb24ndCBoYW5kbGUgc2NhdHRlciBnYXRoZXIgQk9zICovCkBAIC01NTEsNyArNTUyLDggQEAg
c3RhdGljIGludCBhbWRncHVfbW92ZV92cmFtX3JhbShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3Qg
KmJvLCBib29sIGV2aWN0LAogCXBsYWNlbWVudC5idXN5X3BsYWNlbWVudCA9ICZwbGFjZW1lbnRz
OwogCXBsYWNlbWVudHMuZnBmbiA9IDA7CiAJcGxhY2VtZW50cy5scGZuID0gMDsKLQlwbGFjZW1l
bnRzLmZsYWdzID0gVFRNX1BMX01BU0tfQ0FDSElORyB8IFRUTV9QTF9GTEFHX1RUOworCXBsYWNl
bWVudHMubWVtX3R5cGUgPSBUVE1fUExfVFQ7CisJcGxhY2VtZW50cy5mbGFncyA9IFRUTV9QTF9N
QVNLX0NBQ0hJTkc7CiAJciA9IHR0bV9ib19tZW1fc3BhY2UoYm8sICZwbGFjZW1lbnQsICZ0bXBf
bWVtLCBjdHgpOwogCWlmICh1bmxpa2VseShyKSkgewogCQlwcl9lcnIoIkZhaWxlZCB0byBmaW5k
IEdUVCBzcGFjZSBmb3IgYmxpdCBmcm9tIFZSQU1cbiIpOwpAQCAtNjA3LDcgKzYwOSw4IEBAIHN0
YXRpYyBpbnQgYW1kZ3B1X21vdmVfcmFtX3ZyYW0oc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpi
bywgYm9vbCBldmljdCwKIAlwbGFjZW1lbnQuYnVzeV9wbGFjZW1lbnQgPSAmcGxhY2VtZW50czsK
IAlwbGFjZW1lbnRzLmZwZm4gPSAwOwogCXBsYWNlbWVudHMubHBmbiA9IDA7Ci0JcGxhY2VtZW50
cy5mbGFncyA9IFRUTV9QTF9NQVNLX0NBQ0hJTkcgfCBUVE1fUExfRkxBR19UVDsKKwlwbGFjZW1l
bnRzLm1lbV90eXBlID0gVFRNX1BMX1RUOworCXBsYWNlbWVudHMuZmxhZ3MgPSBUVE1fUExfTUFT
S19DQUNISU5HOwogCXIgPSB0dG1fYm9fbWVtX3NwYWNlKGJvLCAmcGxhY2VtZW50LCAmdG1wX21l
bSwgY3R4KTsKIAlpZiAodW5saWtlbHkocikpIHsKIAkJcHJfZXJyKCJGYWlsZWQgdG8gZmluZCBH
VFQgc3BhY2UgZm9yIGJsaXQgdG8gVlJBTVxuIik7CkBAIC0xMTg5LDggKzExOTIsOCBAQCBpbnQg
YW1kZ3B1X3R0bV9hbGxvY19nYXJ0KHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8pCiAJCXBs
YWNlbWVudC5idXN5X3BsYWNlbWVudCA9ICZwbGFjZW1lbnRzOwogCQlwbGFjZW1lbnRzLmZwZm4g
PSAwOwogCQlwbGFjZW1lbnRzLmxwZm4gPSBhZGV2LT5nbWMuZ2FydF9zaXplID4+IFBBR0VfU0hJ
RlQ7Ci0JCXBsYWNlbWVudHMuZmxhZ3MgPSAoYm8tPm1lbS5wbGFjZW1lbnQgJiB+VFRNX1BMX01B
U0tfTUVNKSB8Ci0JCQlUVE1fUExfRkxBR19UVDsKKwkJcGxhY2VtZW50cy5tZW1fdHlwZSA9IFRU
TV9QTF9UVDsKKwkJcGxhY2VtZW50cy5mbGFncyA9IGJvLT5tZW0ucGxhY2VtZW50OwogCiAJCXIg
PSB0dG1fYm9fbWVtX3NwYWNlKGJvLCAmcGxhY2VtZW50LCAmdG1wLCAmY3R4KTsKIAkJaWYgKHVu
bGlrZWx5KHIpKQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1
X3R0bS5oIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3R0bS5oCmluZGV4IDdi
YTJiZTM3ZTZiYS4uNGY5NDI2ZWNmMDM5IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9hbWRncHVfdHRtLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1k
Z3B1X3R0bS5oCkBAIC0zMiwxMCArMzIsNiBAQAogI2RlZmluZSBBTURHUFVfUExfR1dTCQkoVFRN
X1BMX1BSSVYgKyAxKQogI2RlZmluZSBBTURHUFVfUExfT0EJCShUVE1fUExfUFJJViArIDIpCiAK
LSNkZWZpbmUgQU1ER1BVX1BMX0ZMQUdfR0RTCQkoVFRNX1BMX0ZMQUdfUFJJViA8PCAwKQotI2Rl
ZmluZSBBTURHUFVfUExfRkxBR19HV1MJCShUVE1fUExfRkxBR19QUklWIDw8IDEpCi0jZGVmaW5l
IEFNREdQVV9QTF9GTEFHX09BCQkoVFRNX1BMX0ZMQUdfUFJJViA8PCAyKQotCiAjZGVmaW5lIEFN
REdQVV9HVFRfTUFYX1RSQU5TRkVSX1NJWkUJNTEyCiAjZGVmaW5lIEFNREdQVV9HVFRfTlVNX1RS
QU5TRkVSX1dJTkRPV1MJMgogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vZHJtX2dlbV92
cmFtX2hlbHBlci5jIGIvZHJpdmVycy9ncHUvZHJtL2RybV9nZW1fdnJhbV9oZWxwZXIuYwppbmRl
eCBhODRiOGExN2M1ZDYuLmQ5YjRmNTU5NjRiMiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2RybV9nZW1fdnJhbV9oZWxwZXIuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2dlbV92cmFt
X2hlbHBlci5jCkBAIC0xNDUsMjEgKzE0NSwxOCBAQCBzdGF0aWMgdm9pZCBkcm1fZ2VtX3ZyYW1f
cGxhY2VtZW50KHN0cnVjdCBkcm1fZ2VtX3ZyYW1fb2JqZWN0ICpnYm8sCiAJZ2JvLT5wbGFjZW1l
bnQucGxhY2VtZW50ID0gZ2JvLT5wbGFjZW1lbnRzOwogCWdiby0+cGxhY2VtZW50LmJ1c3lfcGxh
Y2VtZW50ID0gZ2JvLT5wbGFjZW1lbnRzOwogCi0JaWYgKHBsX2ZsYWcgJiBEUk1fR0VNX1ZSQU1f
UExfRkxBR19WUkFNKQorCWlmIChwbF9mbGFnICYgRFJNX0dFTV9WUkFNX1BMX0ZMQUdfVlJBTSkg
eworCQlnYm8tPnBsYWNlbWVudHNbY10ubWVtX3R5cGUgPSBUVE1fUExfVlJBTTsKIAkJZ2JvLT5w
bGFjZW1lbnRzW2MrK10uZmxhZ3MgPSBUVE1fUExfRkxBR19XQyB8CiAJCQkJCSAgICAgVFRNX1BM
X0ZMQUdfVU5DQUNIRUQgfAotCQkJCQkgICAgIFRUTV9QTF9GTEFHX1ZSQU0gfAotCQkJCQkgICAg
IGludmFyaWFudF9mbGFnczsKLQotCWlmIChwbF9mbGFnICYgRFJNX0dFTV9WUkFNX1BMX0ZMQUdf
U1lTVEVNKQotCQlnYm8tPnBsYWNlbWVudHNbYysrXS5mbGFncyA9IFRUTV9QTF9NQVNLX0NBQ0hJ
TkcgfAotCQkJCQkgICAgIFRUTV9QTF9GTEFHX1NZU1RFTSB8CiAJCQkJCSAgICAgaW52YXJpYW50
X2ZsYWdzOworCX0KIAotCWlmICghYykKKwlpZiAocGxfZmxhZyAmIERSTV9HRU1fVlJBTV9QTF9G
TEFHX1NZU1RFTSB8fCAhYykgeworCQlnYm8tPnBsYWNlbWVudHNbY10ubWVtX3R5cGUgPSBUVE1f
UExfU1lTVEVNOwogCQlnYm8tPnBsYWNlbWVudHNbYysrXS5mbGFncyA9IFRUTV9QTF9NQVNLX0NB
Q0hJTkcgfAotCQkJCQkgICAgIFRUTV9QTF9GTEFHX1NZU1RFTSB8CiAJCQkJCSAgICAgaW52YXJp
YW50X2ZsYWdzOworCX0KIAogCWdiby0+cGxhY2VtZW50Lm51bV9wbGFjZW1lbnQgPSBjOwogCWdi
by0+cGxhY2VtZW50Lm51bV9idXN5X3BsYWNlbWVudCA9IGM7CmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X2JvLmMgYi9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9u
b3V2ZWF1X2JvLmMKaW5kZXggYjY0NWIxMTMxYjRmLi40NzI3MzMwMGMwYTUgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfYm8uYworKysgYi9kcml2ZXJzL2dwdS9k
cm0vbm91dmVhdS9ub3V2ZWF1X2JvLmMKQEAgLTM0NSwxMiArMzQ1LDE4IEBAIHNldF9wbGFjZW1l
bnRfbGlzdChzdHJ1Y3QgdHRtX3BsYWNlICpwbCwgdW5zaWduZWQgKm4sIHVpbnQzMl90IGRvbWFp
biwKIHsKIAkqbiA9IDA7CiAKLQlpZiAoZG9tYWluICYgTk9VVkVBVV9HRU1fRE9NQUlOX1ZSQU0p
Ci0JCXBsWygqbikrK10uZmxhZ3MgPSBUVE1fUExfRkxBR19WUkFNIHwgZmxhZ3M7Ci0JaWYgKGRv
bWFpbiAmIE5PVVZFQVVfR0VNX0RPTUFJTl9HQVJUKQotCQlwbFsoKm4pKytdLmZsYWdzID0gVFRN
X1BMX0ZMQUdfVFQgfCBmbGFnczsKLQlpZiAoZG9tYWluICYgTk9VVkVBVV9HRU1fRE9NQUlOX0NQ
VSkKLQkJcGxbKCpuKSsrXS5mbGFncyA9IFRUTV9QTF9GTEFHX1NZU1RFTSB8IGZsYWdzOworCWlm
IChkb21haW4gJiBOT1VWRUFVX0dFTV9ET01BSU5fVlJBTSkgeworCQlwbFsqbl0ubWVtX3R5cGUg
PSBUVE1fUExfVlJBTTsKKwkJcGxbKCpuKSsrXS5mbGFncyA9IGZsYWdzOworCX0KKwlpZiAoZG9t
YWluICYgTk9VVkVBVV9HRU1fRE9NQUlOX0dBUlQpIHsKKwkJcGxbKm5dLm1lbV90eXBlID0gVFRN
X1BMX1RUOworCQlwbFsoKm4pKytdLmZsYWdzID0gZmxhZ3M7CisJfQorCWlmIChkb21haW4gJiBO
T1VWRUFVX0dFTV9ET01BSU5fQ1BVKSB7CisJCXBsWypuXS5tZW1fdHlwZSA9IFRUTV9QTF9TWVNU
RU07CisJCXBsWygqbikrK10uZmxhZ3MgPSBmbGFnczsKKwl9CiB9CiAKIHN0YXRpYyB2b2lkCkBA
IC04NTUsNyArODYxLDggQEAgbm91dmVhdV9ib19tb3ZlX2ZsaXBkKHN0cnVjdCB0dG1fYnVmZmVy
X29iamVjdCAqYm8sIGJvb2wgZXZpY3QsIGJvb2wgaW50ciwKIAlzdHJ1Y3QgdHRtX3BsYWNlIHBs
YWNlbWVudF9tZW10eXBlID0gewogCQkuZnBmbiA9IDAsCiAJCS5scGZuID0gMCwKLQkJLmZsYWdz
ID0gVFRNX1BMX0ZMQUdfVFQgfCBUVE1fUExfTUFTS19DQUNISU5HCisJCS5tZW1fdHlwZSA9IFRU
TV9QTF9UVCwKKwkJLmZsYWdzID0gVFRNX1BMX01BU0tfQ0FDSElORwogCX07CiAJc3RydWN0IHR0
bV9wbGFjZW1lbnQgcGxhY2VtZW50OwogCXN0cnVjdCB0dG1fcmVzb3VyY2UgdG1wX3JlZzsKQEAg
LTg5Miw3ICs4OTksOCBAQCBub3V2ZWF1X2JvX21vdmVfZmxpcHMoc3RydWN0IHR0bV9idWZmZXJf
b2JqZWN0ICpibywgYm9vbCBldmljdCwgYm9vbCBpbnRyLAogCXN0cnVjdCB0dG1fcGxhY2UgcGxh
Y2VtZW50X21lbXR5cGUgPSB7CiAJCS5mcGZuID0gMCwKIAkJLmxwZm4gPSAwLAotCQkuZmxhZ3Mg
PSBUVE1fUExfRkxBR19UVCB8IFRUTV9QTF9NQVNLX0NBQ0hJTkcKKwkJLm1lbV90eXBlID0gVFRN
X1BMX1RULAorCQkuZmxhZ3MgPSBUVE1fUExfTUFTS19DQUNISU5HCiAJfTsKIAlzdHJ1Y3QgdHRt
X3BsYWNlbWVudCBwbGFjZW1lbnQ7CiAJc3RydWN0IHR0bV9yZXNvdXJjZSB0bXBfcmVnOwpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3F4bC9xeGxfb2JqZWN0LmMgYi9kcml2ZXJzL2dwdS9k
cm0vcXhsL3F4bF9vYmplY3QuYwppbmRleCBiMmExZmE2MTkyMGIuLjJiYzM2NDQxMmU4YiAxMDA2
NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3F4bC9xeGxfb2JqZWN0LmMKKysrIGIvZHJpdmVycy9n
cHUvZHJtL3F4bC9xeGxfb2JqZWN0LmMKQEAgLTY0LDE2ICs2NCwyNCBAQCB2b2lkIHF4bF90dG1f
cGxhY2VtZW50X2Zyb21fZG9tYWluKHN0cnVjdCBxeGxfYm8gKnFibywgdTMyIGRvbWFpbiwgYm9v
bCBwaW5uZWQpCiAKIAlxYm8tPnBsYWNlbWVudC5wbGFjZW1lbnQgPSBxYm8tPnBsYWNlbWVudHM7
CiAJcWJvLT5wbGFjZW1lbnQuYnVzeV9wbGFjZW1lbnQgPSBxYm8tPnBsYWNlbWVudHM7Ci0JaWYg
KGRvbWFpbiA9PSBRWExfR0VNX0RPTUFJTl9WUkFNKQotCQlxYm8tPnBsYWNlbWVudHNbYysrXS5m
bGFncyA9IFRUTV9QTF9GTEFHX0NBQ0hFRCB8IFRUTV9QTF9GTEFHX1ZSQU0gfCBwZmxhZzsKKwlp
ZiAoZG9tYWluID09IFFYTF9HRU1fRE9NQUlOX1ZSQU0pIHsKKwkJcWJvLT5wbGFjZW1lbnRzW2Nd
Lm1lbV90eXBlID0gVFRNX1BMX1ZSQU07CisJCXFiby0+cGxhY2VtZW50c1tjKytdLmZsYWdzID0g
VFRNX1BMX0ZMQUdfQ0FDSEVEIHwgcGZsYWc7CisJfQogCWlmIChkb21haW4gPT0gUVhMX0dFTV9E
T01BSU5fU1VSRkFDRSkgewotCQlxYm8tPnBsYWNlbWVudHNbYysrXS5mbGFncyA9IFRUTV9QTF9G
TEFHX0NBQ0hFRCB8IFRUTV9QTF9GTEFHX1BSSVYgfCBwZmxhZzsKLQkJcWJvLT5wbGFjZW1lbnRz
W2MrK10uZmxhZ3MgPSBUVE1fUExfRkxBR19DQUNIRUQgfCBUVE1fUExfRkxBR19WUkFNIHwgcGZs
YWc7CisJCXFiby0+cGxhY2VtZW50c1tjXS5tZW1fdHlwZSA9IFRUTV9QTF9QUklWOworCQlxYm8t
PnBsYWNlbWVudHNbYysrXS5mbGFncyA9IFRUTV9QTF9GTEFHX0NBQ0hFRCB8IHBmbGFnOworCQlx
Ym8tPnBsYWNlbWVudHNbY10ubWVtX3R5cGUgPSBUVE1fUExfVlJBTTsKKwkJcWJvLT5wbGFjZW1l
bnRzW2MrK10uZmxhZ3MgPSBUVE1fUExfRkxBR19DQUNIRUQgfCBwZmxhZzsKKwl9CisJaWYgKGRv
bWFpbiA9PSBRWExfR0VNX0RPTUFJTl9DUFUpIHsKKwkJcWJvLT5wbGFjZW1lbnRzW2NdLm1lbV90
eXBlID0gVFRNX1BMX1NZU1RFTTsKKwkJcWJvLT5wbGFjZW1lbnRzW2MrK10uZmxhZ3MgPSBUVE1f
UExfTUFTS19DQUNISU5HIHwgcGZsYWc7CisJfQorCWlmICghYykgeworCQlxYm8tPnBsYWNlbWVu
dHNbY10ubWVtX3R5cGUgPSBUVE1fUExfU1lTVEVNOworCQlxYm8tPnBsYWNlbWVudHNbYysrXS5m
bGFncyA9IFRUTV9QTF9NQVNLX0NBQ0hJTkc7CiAJfQotCWlmIChkb21haW4gPT0gUVhMX0dFTV9E
T01BSU5fQ1BVKQotCQlxYm8tPnBsYWNlbWVudHNbYysrXS5mbGFncyA9IFRUTV9QTF9NQVNLX0NB
Q0hJTkcgfCBUVE1fUExfRkxBR19TWVNURU0gfCBwZmxhZzsKLQlpZiAoIWMpCi0JCXFiby0+cGxh
Y2VtZW50c1tjKytdLmZsYWdzID0gVFRNX1BMX01BU0tfQ0FDSElORyB8IFRUTV9QTF9GTEFHX1NZ
U1RFTTsKIAlxYm8tPnBsYWNlbWVudC5udW1fcGxhY2VtZW50ID0gYzsKIAlxYm8tPnBsYWNlbWVu
dC5udW1fYnVzeV9wbGFjZW1lbnQgPSBjOwogCWZvciAoaSA9IDA7IGkgPCBjOyArK2kpIHsKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9xeGwvcXhsX3R0bS5jIGIvZHJpdmVycy9ncHUvZHJt
L3F4bC9xeGxfdHRtLmMKaW5kZXggMTliMThlYTM4YzM0Li4yMmFlY2FkNGM3ZTUgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9xeGwvcXhsX3R0bS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9x
eGwvcXhsX3R0bS5jCkBAIC01NSw3ICs1NSw4IEBAIHN0YXRpYyB2b2lkIHF4bF9ldmljdF9mbGFn
cyhzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAogCXN0YXRpYyBjb25zdCBzdHJ1Y3QgdHRt
X3BsYWNlIHBsYWNlbWVudHMgPSB7CiAJCS5mcGZuID0gMCwKIAkJLmxwZm4gPSAwLAotCQkuZmxh
Z3MgPSBUVE1fUExfTUFTS19DQUNISU5HIHwgVFRNX1BMX0ZMQUdfU1lTVEVNCisJCS5tZW1fdHlw
ZSA9IFRUTV9QTF9TWVNURU0sCisJCS5mbGFncyA9IFRUTV9QTF9NQVNLX0NBQ0hJTkcKIAl9Owog
CiAJaWYgKCFxeGxfdHRtX2JvX2lzX3F4bF9ibyhibykpIHsKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9yYWRlb24vcmFkZW9uX29iamVjdC5jIGIvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9y
YWRlb25fb2JqZWN0LmMKaW5kZXggYmI3NTgyYWZkODAzLi4wZGFiMzU5Mzc1M2YgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFkZW9uX29iamVjdC5jCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS9yYWRlb24vcmFkZW9uX29iamVjdC5jCkBAIC0xMTIsNTggKzExMiw1OCBAQCB2b2lk
IHJhZGVvbl90dG1fcGxhY2VtZW50X2Zyb21fZG9tYWluKHN0cnVjdCByYWRlb25fYm8gKnJibywg
dTMyIGRvbWFpbikKIAkJICAgIHJiby0+cmRldi0+bWMudmlzaWJsZV92cmFtX3NpemUgPCByYm8t
PnJkZXYtPm1jLnJlYWxfdnJhbV9zaXplKSB7CiAJCQlyYm8tPnBsYWNlbWVudHNbY10uZnBmbiA9
CiAJCQkJcmJvLT5yZGV2LT5tYy52aXNpYmxlX3ZyYW1fc2l6ZSA+PiBQQUdFX1NISUZUOworCQkJ
cmJvLT5wbGFjZW1lbnRzW2NdLm1lbV90eXBlID0gVFRNX1BMX1ZSQU07CiAJCQlyYm8tPnBsYWNl
bWVudHNbYysrXS5mbGFncyA9IFRUTV9QTF9GTEFHX1dDIHwKLQkJCQkJCSAgICAgVFRNX1BMX0ZM
QUdfVU5DQUNIRUQgfAotCQkJCQkJICAgICBUVE1fUExfRkxBR19WUkFNOworCQkJCQkJICAgICBU
VE1fUExfRkxBR19VTkNBQ0hFRDsKIAkJfQogCiAJCXJiby0+cGxhY2VtZW50c1tjXS5mcGZuID0g
MDsKKwkJcmJvLT5wbGFjZW1lbnRzW2NdLm1lbV90eXBlID0gVFRNX1BMX1ZSQU07CiAJCXJiby0+
cGxhY2VtZW50c1tjKytdLmZsYWdzID0gVFRNX1BMX0ZMQUdfV0MgfAotCQkJCQkgICAgIFRUTV9Q
TF9GTEFHX1VOQ0FDSEVEIHwKLQkJCQkJICAgICBUVE1fUExfRkxBR19WUkFNOworCQkJCQkgICAg
IFRUTV9QTF9GTEFHX1VOQ0FDSEVEOwogCX0KIAogCWlmIChkb21haW4gJiBSQURFT05fR0VNX0RP
TUFJTl9HVFQpIHsKIAkJaWYgKHJiby0+ZmxhZ3MgJiBSQURFT05fR0VNX0dUVF9VQykgewogCQkJ
cmJvLT5wbGFjZW1lbnRzW2NdLmZwZm4gPSAwOwotCQkJcmJvLT5wbGFjZW1lbnRzW2MrK10uZmxh
Z3MgPSBUVE1fUExfRkxBR19VTkNBQ0hFRCB8Ci0JCQkJVFRNX1BMX0ZMQUdfVFQ7CisJCQlyYm8t
PnBsYWNlbWVudHNbY10ubWVtX3R5cGUgPSBUVE1fUExfVFQ7CisJCQlyYm8tPnBsYWNlbWVudHNb
YysrXS5mbGFncyA9IFRUTV9QTF9GTEFHX1VOQ0FDSEVEOwogCiAJCX0gZWxzZSBpZiAoKHJiby0+
ZmxhZ3MgJiBSQURFT05fR0VNX0dUVF9XQykgfHwKIAkJCSAgIChyYm8tPnJkZXYtPmZsYWdzICYg
UkFERU9OX0lTX0FHUCkpIHsKIAkJCXJiby0+cGxhY2VtZW50c1tjXS5mcGZuID0gMDsKKwkJCXJi
by0+cGxhY2VtZW50c1tjXS5tZW1fdHlwZSA9IFRUTV9QTF9UVDsKIAkJCXJiby0+cGxhY2VtZW50
c1tjKytdLmZsYWdzID0gVFRNX1BMX0ZMQUdfV0MgfAotCQkJCVRUTV9QTF9GTEFHX1VOQ0FDSEVE
IHwKLQkJCQlUVE1fUExfRkxBR19UVDsKKwkJCQlUVE1fUExfRkxBR19VTkNBQ0hFRDsKIAkJfSBl
bHNlIHsKIAkJCXJiby0+cGxhY2VtZW50c1tjXS5mcGZuID0gMDsKLQkJCXJiby0+cGxhY2VtZW50
c1tjKytdLmZsYWdzID0gVFRNX1BMX0ZMQUdfQ0FDSEVEIHwKLQkJCQkJCSAgICAgVFRNX1BMX0ZM
QUdfVFQ7CisJCQlyYm8tPnBsYWNlbWVudHNbY10ubWVtX3R5cGUgPSBUVE1fUExfVFQ7CisJCQly
Ym8tPnBsYWNlbWVudHNbYysrXS5mbGFncyA9IFRUTV9QTF9GTEFHX0NBQ0hFRDsKIAkJfQogCX0K
IAogCWlmIChkb21haW4gJiBSQURFT05fR0VNX0RPTUFJTl9DUFUpIHsKIAkJaWYgKHJiby0+Zmxh
Z3MgJiBSQURFT05fR0VNX0dUVF9VQykgewogCQkJcmJvLT5wbGFjZW1lbnRzW2NdLmZwZm4gPSAw
OwotCQkJcmJvLT5wbGFjZW1lbnRzW2MrK10uZmxhZ3MgPSBUVE1fUExfRkxBR19VTkNBQ0hFRCB8
Ci0JCQkJVFRNX1BMX0ZMQUdfU1lTVEVNOworCQkJcmJvLT5wbGFjZW1lbnRzW2NdLm1lbV90eXBl
ID0gVFRNX1BMX1NZU1RFTTsKKwkJCXJiby0+cGxhY2VtZW50c1tjKytdLmZsYWdzID0gVFRNX1BM
X0ZMQUdfVU5DQUNIRUQ7CiAKIAkJfSBlbHNlIGlmICgocmJvLT5mbGFncyAmIFJBREVPTl9HRU1f
R1RUX1dDKSB8fAogCQkgICAgcmJvLT5yZGV2LT5mbGFncyAmIFJBREVPTl9JU19BR1ApIHsKIAkJ
CXJiby0+cGxhY2VtZW50c1tjXS5mcGZuID0gMDsKKwkJCXJiby0+cGxhY2VtZW50c1tjXS5tZW1f
dHlwZSA9IFRUTV9QTF9TWVNURU07CiAJCQlyYm8tPnBsYWNlbWVudHNbYysrXS5mbGFncyA9IFRU
TV9QTF9GTEFHX1dDIHwKLQkJCQlUVE1fUExfRkxBR19VTkNBQ0hFRCB8Ci0JCQkJVFRNX1BMX0ZM
QUdfU1lTVEVNOworCQkJCVRUTV9QTF9GTEFHX1VOQ0FDSEVEOwogCQl9IGVsc2UgewogCQkJcmJv
LT5wbGFjZW1lbnRzW2NdLmZwZm4gPSAwOwotCQkJcmJvLT5wbGFjZW1lbnRzW2MrK10uZmxhZ3Mg
PSBUVE1fUExfRkxBR19DQUNIRUQgfAotCQkJCQkJICAgICBUVE1fUExfRkxBR19TWVNURU07CisJ
CQlyYm8tPnBsYWNlbWVudHNbY10ubWVtX3R5cGUgPSBUVE1fUExfU1lTVEVNOworCQkJcmJvLT5w
bGFjZW1lbnRzW2MrK10uZmxhZ3MgPSBUVE1fUExfRkxBR19DQUNIRUQ7CiAJCX0KIAl9CiAJaWYg
KCFjKSB7CiAJCXJiby0+cGxhY2VtZW50c1tjXS5mcGZuID0gMDsKLQkJcmJvLT5wbGFjZW1lbnRz
W2MrK10uZmxhZ3MgPSBUVE1fUExfTUFTS19DQUNISU5HIHwKLQkJCQkJICAgICBUVE1fUExfRkxB
R19TWVNURU07CisJCXJiby0+cGxhY2VtZW50c1tjXS5tZW1fdHlwZSA9IFRUTV9QTF9TWVNURU07
CisJCXJiby0+cGxhY2VtZW50c1tjKytdLmZsYWdzID0gVFRNX1BMX01BU0tfQ0FDSElORzsKIAl9
CiAKIAlyYm8tPnBsYWNlbWVudC5udW1fcGxhY2VtZW50ID0gYzsKQEAgLTE3MSw3ICsxNzEsNyBA
QCB2b2lkIHJhZGVvbl90dG1fcGxhY2VtZW50X2Zyb21fZG9tYWluKHN0cnVjdCByYWRlb25fYm8g
KnJibywgdTMyIGRvbWFpbikKIAogCWZvciAoaSA9IDA7IGkgPCBjOyArK2kpIHsKIAkJaWYgKChy
Ym8tPmZsYWdzICYgUkFERU9OX0dFTV9DUFVfQUNDRVNTKSAmJgotCQkgICAgKHJiby0+cGxhY2Vt
ZW50c1tpXS5mbGFncyAmIFRUTV9QTF9GTEFHX1ZSQU0pICYmCisJCSAgICAocmJvLT5wbGFjZW1l
bnRzW2ldLm1lbV90eXBlID09IFRUTV9QTF9WUkFNKSAmJgogCQkgICAgIXJiby0+cGxhY2VtZW50
c1tpXS5mcGZuKQogCQkJcmJvLT5wbGFjZW1lbnRzW2ldLmxwZm4gPQogCQkJCXJiby0+cmRldi0+
bWMudmlzaWJsZV92cmFtX3NpemUgPj4gUEFHRV9TSElGVDsKQEAgLTM2MCw3ICszNjAsNyBAQCBp
bnQgcmFkZW9uX2JvX3Bpbl9yZXN0cmljdGVkKHN0cnVjdCByYWRlb25fYm8gKmJvLCB1MzIgZG9t
YWluLCB1NjQgbWF4X29mZnNldCwKIAlyYWRlb25fdHRtX3BsYWNlbWVudF9mcm9tX2RvbWFpbihi
bywgZG9tYWluKTsKIAlmb3IgKGkgPSAwOyBpIDwgYm8tPnBsYWNlbWVudC5udW1fcGxhY2VtZW50
OyBpKyspIHsKIAkJLyogZm9yY2UgdG8gcGluIGludG8gdmlzaWJsZSB2aWRlbyByYW0gKi8KLQkJ
aWYgKChiby0+cGxhY2VtZW50c1tpXS5mbGFncyAmIFRUTV9QTF9GTEFHX1ZSQU0pICYmCisJCWlm
ICgoYm8tPnBsYWNlbWVudHNbaV0ubWVtX3R5cGUgPT0gVFRNX1BMX1ZSQU0pICYmCiAJCSAgICAh
KGJvLT5mbGFncyAmIFJBREVPTl9HRU1fTk9fQ1BVX0FDQ0VTUykgJiYKIAkJICAgICghbWF4X29m
ZnNldCB8fCBtYXhfb2Zmc2V0ID4gYm8tPnJkZXYtPm1jLnZpc2libGVfdnJhbV9zaXplKSkKIAkJ
CWJvLT5wbGFjZW1lbnRzW2ldLmxwZm4gPQpAQCAtODI0LDcgKzgyNCw3IEBAIGludCByYWRlb25f
Ym9fZmF1bHRfcmVzZXJ2ZV9ub3RpZnkoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibykKIAls
cGZuID0JcmRldi0+bWMudmlzaWJsZV92cmFtX3NpemUgPj4gUEFHRV9TSElGVDsKIAlmb3IgKGkg
PSAwOyBpIDwgcmJvLT5wbGFjZW1lbnQubnVtX3BsYWNlbWVudDsgaSsrKSB7CiAJCS8qIEZvcmNl
IGludG8gdmlzaWJsZSBWUkFNICovCi0JCWlmICgocmJvLT5wbGFjZW1lbnRzW2ldLmZsYWdzICYg
VFRNX1BMX0ZMQUdfVlJBTSkgJiYKKwkJaWYgKChyYm8tPnBsYWNlbWVudHNbaV0ubWVtX3R5cGUg
PT0gVFRNX1BMX1ZSQU0pICYmCiAJCSAgICAoIXJiby0+cGxhY2VtZW50c1tpXS5scGZuIHx8IHJi
by0+cGxhY2VtZW50c1tpXS5scGZuID4gbHBmbikpCiAJCQlyYm8tPnBsYWNlbWVudHNbaV0ubHBm
biA9IGxwZm47CiAJfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25f
dHRtLmMgYi9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl90dG0uYwppbmRleCAzNzVmZmQ0
YTU2YWIuLjAyMmYyZmRlZDQzMCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9y
YWRlb25fdHRtLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fdHRtLmMKQEAg
LTg4LDcgKzg4LDggQEAgc3RhdGljIHZvaWQgcmFkZW9uX2V2aWN0X2ZsYWdzKHN0cnVjdCB0dG1f
YnVmZmVyX29iamVjdCAqYm8sCiAJc3RhdGljIGNvbnN0IHN0cnVjdCB0dG1fcGxhY2UgcGxhY2Vt
ZW50cyA9IHsKIAkJLmZwZm4gPSAwLAogCQkubHBmbiA9IDAsCi0JCS5mbGFncyA9IFRUTV9QTF9N
QVNLX0NBQ0hJTkcgfCBUVE1fUExfRkxBR19TWVNURU0KKwkJLm1lbV90eXBlID0gVFRNX1BMX1NZ
U1RFTSwKKwkJLmZsYWdzID0gVFRNX1BMX01BU0tfQ0FDSElORwogCX07CiAKIAlzdHJ1Y3QgcmFk
ZW9uX2JvICpyYm87CkBAIC0xMTksNyArMTIwLDcgQEAgc3RhdGljIHZvaWQgcmFkZW9uX2V2aWN0
X2ZsYWdzKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCiAJCQkJCQkJIFJBREVPTl9HRU1f
RE9NQUlOX0dUVCk7CiAJCQlyYm8tPnBsYWNlbWVudC5udW1fYnVzeV9wbGFjZW1lbnQgPSAwOwog
CQkJZm9yIChpID0gMDsgaSA8IHJiby0+cGxhY2VtZW50Lm51bV9wbGFjZW1lbnQ7IGkrKykgewot
CQkJCWlmIChyYm8tPnBsYWNlbWVudHNbaV0uZmxhZ3MgJiBUVE1fUExfRkxBR19WUkFNKSB7CisJ
CQkJaWYgKHJiby0+cGxhY2VtZW50c1tpXS5tZW1fdHlwZSA9PSBUVE1fUExfVlJBTSkgewogCQkJ
CQlpZiAocmJvLT5wbGFjZW1lbnRzW2ldLmZwZm4gPCBmcGZuKQogCQkJCQkJcmJvLT5wbGFjZW1l
bnRzW2ldLmZwZm4gPSBmcGZuOwogCQkJCX0gZWxzZSB7CkBAIC0yMzMsNyArMjM0LDggQEAgc3Rh
dGljIGludCByYWRlb25fbW92ZV92cmFtX3JhbShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJv
LAogCXBsYWNlbWVudC5idXN5X3BsYWNlbWVudCA9ICZwbGFjZW1lbnRzOwogCXBsYWNlbWVudHMu
ZnBmbiA9IDA7CiAJcGxhY2VtZW50cy5scGZuID0gMDsKLQlwbGFjZW1lbnRzLmZsYWdzID0gVFRN
X1BMX01BU0tfQ0FDSElORyB8IFRUTV9QTF9GTEFHX1RUOworCXBsYWNlbWVudHMubWVtX3R5cGUg
PSBUVE1fUExfVFQ7CisJcGxhY2VtZW50cy5mbGFncyA9IFRUTV9QTF9NQVNLX0NBQ0hJTkc7CiAJ
ciA9IHR0bV9ib19tZW1fc3BhY2UoYm8sICZwbGFjZW1lbnQsICZ0bXBfbWVtLCAmY3R4KTsKIAlp
ZiAodW5saWtlbHkocikpIHsKIAkJcmV0dXJuIHI7CkBAIC0yNzgsNyArMjgwLDggQEAgc3RhdGlj
IGludCByYWRlb25fbW92ZV9yYW1fdnJhbShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAog
CXBsYWNlbWVudC5idXN5X3BsYWNlbWVudCA9ICZwbGFjZW1lbnRzOwogCXBsYWNlbWVudHMuZnBm
biA9IDA7CiAJcGxhY2VtZW50cy5scGZuID0gMDsKLQlwbGFjZW1lbnRzLmZsYWdzID0gVFRNX1BM
X01BU0tfQ0FDSElORyB8IFRUTV9QTF9GTEFHX1RUOworCXBsYWNlbWVudHMubWVtX3R5cGUgPSBU
VE1fUExfVFQ7CisJcGxhY2VtZW50cy5mbGFncyA9IFRUTV9QTF9NQVNLX0NBQ0hJTkc7CiAJciA9
IHR0bV9ib19tZW1fc3BhY2UoYm8sICZwbGFjZW1lbnQsICZ0bXBfbWVtLCAmY3R4KTsKIAlpZiAo
dW5saWtlbHkocikpIHsKIAkJcmV0dXJuIHI7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
dHRtL3R0bV9iby5jIGIvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm8uYwppbmRleCBjOTNkZTdm
YWI3MzkuLmUyYmZlM2ExM2M2MyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1f
Ym8uYworKysgYi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9iby5jCkBAIC02NCwzNCArNjQsMTgg
QEAgc3RhdGljIHZvaWQgdHRtX2JvX2RlZmF1bHRfZGVzdHJveShzdHJ1Y3QgdHRtX2J1ZmZlcl9v
YmplY3QgKmJvKQogCWtmcmVlKGJvKTsKIH0KIAotc3RhdGljIGlubGluZSBpbnQgdHRtX21lbV90
eXBlX2Zyb21fcGxhY2UoY29uc3Qgc3RydWN0IHR0bV9wbGFjZSAqcGxhY2UsCi0JCQkJCSAgdWlu
dDMyX3QgKm1lbV90eXBlKQotewotCWludCBwb3M7Ci0KLQlwb3MgPSBmZnMocGxhY2UtPmZsYWdz
ICYgVFRNX1BMX01BU0tfTUVNKTsKLQlpZiAodW5saWtlbHkoIXBvcykpCi0JCXJldHVybiAtRUlO
VkFMOwotCi0JKm1lbV90eXBlID0gcG9zIC0gMTsKLQlyZXR1cm4gMDsKLX0KLQogc3RhdGljIHZv
aWQgdHRtX2JvX21lbV9zcGFjZV9kZWJ1ZyhzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAog
CQkJCQlzdHJ1Y3QgdHRtX3BsYWNlbWVudCAqcGxhY2VtZW50KQogewogCXN0cnVjdCBkcm1fcHJp
bnRlciBwID0gZHJtX2RlYnVnX3ByaW50ZXIoVFRNX1BGWCk7Ci0JaW50IGksIHJldCwgbWVtX3R5
cGU7CiAJc3RydWN0IHR0bV9yZXNvdXJjZV9tYW5hZ2VyICptYW47CisJaW50IGksIG1lbV90eXBl
OwogCiAJZHJtX3ByaW50ZigmcCwgIk5vIHNwYWNlIGZvciAlcCAoJWx1IHBhZ2VzLCAlbHVLLCAl
bHVNKVxuIiwKIAkJICAgYm8sIGJvLT5tZW0ubnVtX3BhZ2VzLCBiby0+bWVtLnNpemUgPj4gMTAs
CiAJCSAgIGJvLT5tZW0uc2l6ZSA+PiAyMCk7CiAJZm9yIChpID0gMDsgaSA8IHBsYWNlbWVudC0+
bnVtX3BsYWNlbWVudDsgaSsrKSB7Ci0JCXJldCA9IHR0bV9tZW1fdHlwZV9mcm9tX3BsYWNlKCZw
bGFjZW1lbnQtPnBsYWNlbWVudFtpXSwKLQkJCQkJCSZtZW1fdHlwZSk7Ci0JCWlmIChyZXQpCi0J
CQlyZXR1cm47CisJCW1lbV90eXBlID0gcGxhY2VtZW50LT5wbGFjZW1lbnRbaV0ubWVtX3R5cGU7
CiAJCWRybV9wcmludGYoJnAsICIgIHBsYWNlbWVudFslZF09MHglMDhYICglZClcbiIsCiAJCQkg
ICBpLCBwbGFjZW1lbnQtPnBsYWNlbWVudFtpXS5mbGFncywgbWVtX3R5cGUpOwogCQltYW4gPSB0
dG1fbWFuYWdlcl90eXBlKGJvLT5iZGV2LCBtZW1fdHlwZSk7CkBAIC0xMjUsMTIgKzEwOSw2IEBA
IHN0YXRpYyBzdHJ1Y3Qga29ial90eXBlIHR0bV9ib19nbG9iX2tvYmpfdHlwZSAgPSB7CiAJLmRl
ZmF1bHRfYXR0cnMgPSB0dG1fYm9fZ2xvYmFsX2F0dHJzCiB9OwogCi0KLXN0YXRpYyBpbmxpbmUg
dWludDMyX3QgdHRtX2JvX3R5cGVfZmxhZ3ModW5zaWduZWQgdHlwZSkKLXsKLQlyZXR1cm4gMSA8
PCAodHlwZSk7Ci19Ci0KIHN0YXRpYyB2b2lkIHR0bV9ib19hZGRfbWVtX3RvX2xydShzdHJ1Y3Qg
dHRtX2J1ZmZlcl9vYmplY3QgKmJvLAogCQkJCSAgc3RydWN0IHR0bV9yZXNvdXJjZSAqbWVtKQog
ewpAQCAtOTEwLDI1ICs4ODgsNiBAQCBzdGF0aWMgdWludDMyX3QgdHRtX2JvX3NlbGVjdF9jYWNo
aW5nKHN0cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdlciAqbWFuLAogCXJldHVybiByZXN1bHQ7CiB9
CiAKLXN0YXRpYyBib29sIHR0bV9ib19tdF9jb21wYXRpYmxlKHN0cnVjdCB0dG1fcmVzb3VyY2Vf
bWFuYWdlciAqbWFuLAotCQkJCSB1aW50MzJfdCBtZW1fdHlwZSwKLQkJCQkgY29uc3Qgc3RydWN0
IHR0bV9wbGFjZSAqcGxhY2UsCi0JCQkJIHVpbnQzMl90ICptYXNrZWRfcGxhY2VtZW50KQotewot
CXVpbnQzMl90IGN1cl9mbGFncyA9IHR0bV9ib190eXBlX2ZsYWdzKG1lbV90eXBlKTsKLQotCWlm
ICgoY3VyX2ZsYWdzICYgcGxhY2UtPmZsYWdzICYgVFRNX1BMX01BU0tfTUVNKSA9PSAwKQotCQly
ZXR1cm4gZmFsc2U7Ci0KLQlpZiAoKHBsYWNlLT5mbGFncyAmIG1hbi0+YXZhaWxhYmxlX2NhY2hp
bmcpID09IDApCi0JCXJldHVybiBmYWxzZTsKLQotCWN1cl9mbGFncyB8PSAocGxhY2UtPmZsYWdz
ICYgbWFuLT5hdmFpbGFibGVfY2FjaGluZyk7Ci0KLQkqbWFza2VkX3BsYWNlbWVudCA9IGN1cl9m
bGFnczsKLQlyZXR1cm4gdHJ1ZTsKLX0KLQogLyoqCiAgKiB0dG1fYm9fbWVtX3BsYWNlbWVudCAt
IGNoZWNrIGlmIHBsYWNlbWVudCBpcyBjb21wYXRpYmxlCiAgKiBAYm86IEJPIHRvIGZpbmQgbWVt
b3J5IGZvcgpAQCAtOTQ2LDMwICs5MDUsMjEgQEAgc3RhdGljIGludCB0dG1fYm9fbWVtX3BsYWNl
bWVudChzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAogCQkJCXN0cnVjdCB0dG1fb3BlcmF0
aW9uX2N0eCAqY3R4KQogewogCXN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2ID0gYm8tPmJkZXY7
Ci0JdWludDMyX3QgbWVtX3R5cGUgPSBUVE1fUExfU1lTVEVNOwogCXN0cnVjdCB0dG1fcmVzb3Vy
Y2VfbWFuYWdlciAqbWFuOwogCXVpbnQzMl90IGN1cl9mbGFncyA9IDA7Ci0JaW50IHJldDsKIAot
CXJldCA9IHR0bV9tZW1fdHlwZV9mcm9tX3BsYWNlKHBsYWNlLCAmbWVtX3R5cGUpOwotCWlmIChy
ZXQpCi0JCXJldHVybiByZXQ7Ci0KLQltYW4gPSB0dG1fbWFuYWdlcl90eXBlKGJkZXYsIG1lbV90
eXBlKTsKKwltYW4gPSB0dG1fbWFuYWdlcl90eXBlKGJkZXYsIHBsYWNlLT5tZW1fdHlwZSk7CiAJ
aWYgKCFtYW4gfHwgIXR0bV9yZXNvdXJjZV9tYW5hZ2VyX3VzZWQobWFuKSkKIAkJcmV0dXJuIC1F
QlVTWTsKIAotCWlmICghdHRtX2JvX210X2NvbXBhdGlibGUobWFuLCBtZW1fdHlwZSwgcGxhY2Us
ICZjdXJfZmxhZ3MpKQorCWlmICgocGxhY2UtPmZsYWdzICYgbWFuLT5hdmFpbGFibGVfY2FjaGlu
ZykgPT0gMCkKIAkJcmV0dXJuIC1FQlVTWTsKIAorCWN1cl9mbGFncyA9IHBsYWNlLT5mbGFncyAm
IG1hbi0+YXZhaWxhYmxlX2NhY2hpbmc7CiAJY3VyX2ZsYWdzID0gdHRtX2JvX3NlbGVjdF9jYWNo
aW5nKG1hbiwgYm8tPm1lbS5wbGFjZW1lbnQsIGN1cl9mbGFncyk7Ci0JLyoKLQkgKiBVc2UgdGhl
IGFjY2VzcyBhbmQgb3RoZXIgbm9uLW1hcHBpbmctcmVsYXRlZCBmbGFnIGJpdHMgZnJvbQotCSAq
IHRoZSBtZW1vcnkgcGxhY2VtZW50IGZsYWdzIHRvIHRoZSBjdXJyZW50IGZsYWdzCi0JICovCi0J
dHRtX2ZsYWdfbWFza2VkKCZjdXJfZmxhZ3MsIHBsYWNlLT5mbGFncywgflRUTV9QTF9NQVNLX01F
TVRZUEUpOworCWN1cl9mbGFncyB8PSBwbGFjZS0+ZmxhZ3MgJiB+VFRNX1BMX01BU0tfQ0FDSElO
RzsKIAotCW1lbS0+bWVtX3R5cGUgPSBtZW1fdHlwZTsKKwltZW0tPm1lbV90eXBlID0gcGxhY2Ut
Pm1lbV90eXBlOwogCW1lbS0+cGxhY2VtZW50ID0gY3VyX2ZsYWdzOwogCiAJc3Bpbl9sb2NrKCZ0
dG1fYm9fZ2xvYi5scnVfbG9jayk7CkBAIC0xMDA2LDEwICs5NTYsOCBAQCBpbnQgdHRtX2JvX21l
bV9zcGFjZShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAogCQlzdHJ1Y3QgdHRtX3Jlc291
cmNlX21hbmFnZXIgKm1hbjsKIAogCQlyZXQgPSB0dG1fYm9fbWVtX3BsYWNlbWVudChibywgcGxh
Y2UsIG1lbSwgY3R4KTsKLQkJaWYgKHJldCA9PSAtRUJVU1kpCi0JCQljb250aW51ZTsKIAkJaWYg
KHJldCkKLQkJCWdvdG8gZXJyb3I7CisJCQljb250aW51ZTsKIAogCQl0eXBlX2ZvdW5kID0gdHJ1
ZTsKIAkJcmV0ID0gdHRtX3Jlc291cmNlX2FsbG9jKGJvLCBwbGFjZSwgbWVtKTsKQEAgLTEwMzQs
MTAgKzk4Miw4IEBAIGludCB0dG1fYm9fbWVtX3NwYWNlKHN0cnVjdCB0dG1fYnVmZmVyX29iamVj
dCAqYm8sCiAJCWNvbnN0IHN0cnVjdCB0dG1fcGxhY2UgKnBsYWNlID0gJnBsYWNlbWVudC0+YnVz
eV9wbGFjZW1lbnRbaV07CiAKIAkJcmV0ID0gdHRtX2JvX21lbV9wbGFjZW1lbnQoYm8sIHBsYWNl
LCBtZW0sIGN0eCk7Ci0JCWlmIChyZXQgPT0gLUVCVVNZKQotCQkJY29udGludWU7CiAJCWlmIChy
ZXQpCi0JCQlnb3RvIGVycm9yOworCQkJY29udGludWU7CiAKIAkJdHlwZV9mb3VuZCA9IHRydWU7
CiAJCXJldCA9IHR0bV9ib19tZW1fZm9yY2Vfc3BhY2UoYm8sIHBsYWNlLCBtZW0sIGN0eCk7CkBA
IC0xMTA4LDcgKzEwNTQsNyBAQCBzdGF0aWMgYm9vbCB0dG1fYm9fcGxhY2VzX2NvbXBhdChjb25z
dCBzdHJ1Y3QgdHRtX3BsYWNlICpwbGFjZXMsCiAKIAkJKm5ld19mbGFncyA9IGhlYXAtPmZsYWdz
OwogCQlpZiAoKCpuZXdfZmxhZ3MgJiBtZW0tPnBsYWNlbWVudCAmIFRUTV9QTF9NQVNLX0NBQ0hJ
TkcpICYmCi0JCSAgICAoKm5ld19mbGFncyAmIG1lbS0+cGxhY2VtZW50ICYgVFRNX1BMX01BU0tf
TUVNKSAmJgorCQkgICAgKG1lbS0+bWVtX3R5cGUgPT0gaGVhcC0+bWVtX3R5cGUpICYmCiAJCSAg
ICAoISgqbmV3X2ZsYWdzICYgVFRNX1BMX0ZMQUdfQ09OVElHVU9VUykgfHwKIAkJICAgICAobWVt
LT5wbGFjZW1lbnQgJiBUVE1fUExfRkxBR19DT05USUdVT1VTKSkpCiAJCQlyZXR1cm4gdHJ1ZTsK
QEAgLTExNjMsMTIgKzExMDksOCBAQCBpbnQgdHRtX2JvX3ZhbGlkYXRlKHN0cnVjdCB0dG1fYnVm
ZmVyX29iamVjdCAqYm8sCiAJCWlmIChyZXQpCiAJCQlyZXR1cm4gcmV0OwogCX0gZWxzZSB7Ci0J
CS8qCi0JCSAqIFVzZSB0aGUgYWNjZXNzIGFuZCBvdGhlciBub24tbWFwcGluZy1yZWxhdGVkIGZs
YWcgYml0cyBmcm9tCi0JCSAqIHRoZSBjb21wYXRpYmxlIG1lbW9yeSBwbGFjZW1lbnQgZmxhZ3Mg
dG8gdGhlIGFjdGl2ZSBmbGFncwotCQkgKi8KLQkJdHRtX2ZsYWdfbWFza2VkKCZiby0+bWVtLnBs
YWNlbWVudCwgbmV3X2ZsYWdzLAotCQkJCX5UVE1fUExfTUFTS19NRU1UWVBFKTsKKwkJYm8tPm1l
bS5wbGFjZW1lbnQgJj0gVFRNX1BMX01BU0tfQ0FDSElORzsKKwkJYm8tPm1lbS5wbGFjZW1lbnQg
fD0gbmV3X2ZsYWdzICYgflRUTV9QTF9NQVNLX0NBQ0hJTkc7CiAJfQogCS8qCiAJICogV2UgbWln
aHQgbmVlZCB0byBhZGQgYSBUVE0uCkBAIC0xMjM2LDcgKzExNzgsNyBAQCBpbnQgdHRtX2JvX2lu
aXRfcmVzZXJ2ZWQoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsCiAJYm8tPm1lbS5idXMub2Zm
c2V0ID0gMDsKIAliby0+bWVtLmJ1cy5hZGRyID0gTlVMTDsKIAliby0+bW92aW5nID0gTlVMTDsK
LQliby0+bWVtLnBsYWNlbWVudCA9IChUVE1fUExfRkxBR19TWVNURU0gfCBUVE1fUExfRkxBR19D
QUNIRUQpOworCWJvLT5tZW0ucGxhY2VtZW50ID0gVFRNX1BMX0ZMQUdfQ0FDSEVEOwogCWJvLT5h
Y2Nfc2l6ZSA9IGFjY19zaXplOwogCWJvLT5zZyA9IHNnOwogCWlmIChyZXN2KSB7CkBAIC0xNjI3
LDcgKzE1NjksNyBAQCBpbnQgdHRtX2JvX3N3YXBvdXQoc3RydWN0IHR0bV9ib19nbG9iYWwgKmds
b2IsIHN0cnVjdCB0dG1fb3BlcmF0aW9uX2N0eCAqY3R4KQogCiAJCWV2aWN0X21lbSA9IGJvLT5t
ZW07CiAJCWV2aWN0X21lbS5tbV9ub2RlID0gTlVMTDsKLQkJZXZpY3RfbWVtLnBsYWNlbWVudCA9
IFRUTV9QTF9GTEFHX1NZU1RFTSB8IFRUTV9QTF9GTEFHX0NBQ0hFRDsKKwkJZXZpY3RfbWVtLnBs
YWNlbWVudCA9IFRUTV9QTF9GTEFHX0NBQ0hFRDsKIAkJZXZpY3RfbWVtLm1lbV90eXBlID0gVFRN
X1BMX1NZU1RFTTsKIAogCQlyZXQgPSB0dG1fYm9faGFuZGxlX21vdmVfbWVtKGJvLCAmZXZpY3Rf
bWVtLCB0cnVlLCAmY3R4KTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2Jv
X3V0aWwuYyBiL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2JvX3V0aWwuYwppbmRleCA1YWM4ZGE0
MzIzOGIuLjFiNTY0MzJkZmE0MyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1f
Ym9fdXRpbC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2JvX3V0aWwuYwpAQCAtNjks
OCArNjksNiBAQCBpbnQgdHRtX2JvX21vdmVfdHRtKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAq
Ym8sCiAKIAkJdHRtX3R0X3VuYmluZChiby0+YmRldiwgdHRtKTsKIAkJdHRtX2JvX2ZyZWVfb2xk
X25vZGUoYm8pOwotCQl0dG1fZmxhZ19tYXNrZWQoJm9sZF9tZW0tPnBsYWNlbWVudCwgVFRNX1BM
X0ZMQUdfU1lTVEVNLAotCQkJCVRUTV9QTF9NQVNLX01FTSk7CiAJCW9sZF9tZW0tPm1lbV90eXBl
ID0gVFRNX1BMX1NZU1RFTTsKIAl9CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS92bXdn
Zngvdm13Z2Z4X2JvLmMgYi9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9iby5jCmluZGV4
IDAzZjU2NjBkODVhNC4uODEzZjFiMTQ4MDk0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
dm13Z2Z4L3Ztd2dmeF9iby5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2Jv
LmMKQEAgLTM1NCw2ICszNTQsNyBAQCB2b2lkIHZtd19ib19waW5fcmVzZXJ2ZWQoc3RydWN0IHZt
d19idWZmZXJfb2JqZWN0ICp2Ym8sIGJvb2wgcGluKQogCiAJcGwuZnBmbiA9IDA7CiAJcGwubHBm
biA9IDA7CisJcGwubWVtX3R5cGUgPSBiby0+bWVtLm1lbV90eXBlOwogCXBsLmZsYWdzID0gYm8t
Pm1lbS5wbGFjZW1lbnQ7CiAJaWYgKHBpbikKIAkJcGwuZmxhZ3MgfD0gVFRNX1BMX0ZMQUdfTk9f
RVZJQ1Q7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9kcnYuaCBi
L2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2Rydi5oCmluZGV4IDg3MWFkNzM4ZGFkYi4u
MTUyM2I1MWE3Mjg0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9k
cnYuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF9kcnYuaApAQCAtODIsOSAr
ODIsNyBAQAogCQkJVk1XR0ZYX05VTV9HQl9TQ1JFRU5fVEFSR0VUKQogCiAjZGVmaW5lIFZNV19Q
TF9HTVIgKFRUTV9QTF9QUklWICsgMCkKLSNkZWZpbmUgVk1XX1BMX0ZMQUdfR01SIChUVE1fUExf
RkxBR19QUklWIDw8IDApCiAjZGVmaW5lIFZNV19QTF9NT0IgKFRUTV9QTF9QUklWICsgMSkKLSNk
ZWZpbmUgVk1XX1BMX0ZMQUdfTU9CIChUVE1fUExfRkxBR19QUklWIDw8IDEpCiAKICNkZWZpbmUg
Vk1XX1JFU19DT05URVhUIHR0bV9kcml2ZXJfdHlwZTAKICNkZWZpbmUgVk1XX1JFU19TVVJGQUNF
IHR0bV9kcml2ZXJfdHlwZTEKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13
Z2Z4X3R0bV9idWZmZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X3R0bV9idWZm
ZXIuYwppbmRleCBmZGQyYTU5ODU2MTYuLjI4Y2Y2Mjg2NWQ2OCAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfdHRtX2J1ZmZlci5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS92bXdnZngvdm13Z2Z4X3R0bV9idWZmZXIuYwpAQCAtMzMsNDkgKzMzLDU3IEBACiBzdGF0aWMg
Y29uc3Qgc3RydWN0IHR0bV9wbGFjZSB2cmFtX3BsYWNlbWVudF9mbGFncyA9IHsKIAkuZnBmbiA9
IDAsCiAJLmxwZm4gPSAwLAotCS5mbGFncyA9IFRUTV9QTF9GTEFHX1ZSQU0gfCBUVE1fUExfRkxB
R19DQUNIRUQKKwkubWVtX3R5cGUgPSBUVE1fUExfVlJBTSwKKwkuZmxhZ3MgPSBUVE1fUExfRkxB
R19DQUNIRUQKIH07CiAKIHN0YXRpYyBjb25zdCBzdHJ1Y3QgdHRtX3BsYWNlIHZyYW1fbmVfcGxh
Y2VtZW50X2ZsYWdzID0gewogCS5mcGZuID0gMCwKIAkubHBmbiA9IDAsCi0JLmZsYWdzID0gVFRN
X1BMX0ZMQUdfVlJBTSB8IFRUTV9QTF9GTEFHX0NBQ0hFRCB8IFRUTV9QTF9GTEFHX05PX0VWSUNU
CisJLm1lbV90eXBlID0gVFRNX1BMX1ZSQU0sCisJLmZsYWdzID0gVFRNX1BMX0ZMQUdfQ0FDSEVE
IHwgVFRNX1BMX0ZMQUdfTk9fRVZJQ1QKIH07CiAKIHN0YXRpYyBjb25zdCBzdHJ1Y3QgdHRtX3Bs
YWNlIHN5c19wbGFjZW1lbnRfZmxhZ3MgPSB7CiAJLmZwZm4gPSAwLAogCS5scGZuID0gMCwKLQku
ZmxhZ3MgPSBUVE1fUExfRkxBR19TWVNURU0gfCBUVE1fUExfRkxBR19DQUNIRUQKKwkubWVtX3R5
cGUgPSBUVE1fUExfU1lTVEVNLAorCS5mbGFncyA9IFRUTV9QTF9GTEFHX0NBQ0hFRAogfTsKIAog
c3RhdGljIGNvbnN0IHN0cnVjdCB0dG1fcGxhY2Ugc3lzX25lX3BsYWNlbWVudF9mbGFncyA9IHsK
IAkuZnBmbiA9IDAsCiAJLmxwZm4gPSAwLAotCS5mbGFncyA9IFRUTV9QTF9GTEFHX1NZU1RFTSB8
IFRUTV9QTF9GTEFHX0NBQ0hFRCB8IFRUTV9QTF9GTEFHX05PX0VWSUNUCisJLm1lbV90eXBlID0g
VFRNX1BMX1NZU1RFTSwKKwkuZmxhZ3MgPSBUVE1fUExfRkxBR19DQUNIRUQgfCBUVE1fUExfRkxB
R19OT19FVklDVAogfTsKIAogc3RhdGljIGNvbnN0IHN0cnVjdCB0dG1fcGxhY2UgZ21yX3BsYWNl
bWVudF9mbGFncyA9IHsKIAkuZnBmbiA9IDAsCiAJLmxwZm4gPSAwLAotCS5mbGFncyA9IFZNV19Q
TF9GTEFHX0dNUiB8IFRUTV9QTF9GTEFHX0NBQ0hFRAorCS5tZW1fdHlwZSA9IFZNV19QTF9HTVIs
CisJLmZsYWdzID0gVFRNX1BMX0ZMQUdfQ0FDSEVECiB9OwogCiBzdGF0aWMgY29uc3Qgc3RydWN0
IHR0bV9wbGFjZSBnbXJfbmVfcGxhY2VtZW50X2ZsYWdzID0gewogCS5mcGZuID0gMCwKIAkubHBm
biA9IDAsCi0JLmZsYWdzID0gVk1XX1BMX0ZMQUdfR01SIHwgVFRNX1BMX0ZMQUdfQ0FDSEVEIHwg
VFRNX1BMX0ZMQUdfTk9fRVZJQ1QKKwkubWVtX3R5cGUgPSBWTVdfUExfR01SLAorCS5mbGFncyA9
IFRUTV9QTF9GTEFHX0NBQ0hFRCB8IFRUTV9QTF9GTEFHX05PX0VWSUNUCiB9OwogCiBzdGF0aWMg
Y29uc3Qgc3RydWN0IHR0bV9wbGFjZSBtb2JfcGxhY2VtZW50X2ZsYWdzID0gewogCS5mcGZuID0g
MCwKIAkubHBmbiA9IDAsCi0JLmZsYWdzID0gVk1XX1BMX0ZMQUdfTU9CIHwgVFRNX1BMX0ZMQUdf
Q0FDSEVECisJLm1lbV90eXBlID0gVk1XX1BMX01PQiwKKwkuZmxhZ3MgPSBUVE1fUExfRkxBR19D
QUNIRUQKIH07CiAKIHN0YXRpYyBjb25zdCBzdHJ1Y3QgdHRtX3BsYWNlIG1vYl9uZV9wbGFjZW1l
bnRfZmxhZ3MgPSB7CiAJLmZwZm4gPSAwLAogCS5scGZuID0gMCwKLQkuZmxhZ3MgPSBWTVdfUExf
RkxBR19NT0IgfCBUVE1fUExfRkxBR19DQUNIRUQgfCBUVE1fUExfRkxBR19OT19FVklDVAorCS5t
ZW1fdHlwZSA9IFZNV19QTF9NT0IsCisJLmZsYWdzID0gVFRNX1BMX0ZMQUdfQ0FDSEVEIHwgVFRN
X1BMX0ZMQUdfTk9fRVZJQ1QKIH07CiAKIHN0cnVjdCB0dG1fcGxhY2VtZW50IHZtd192cmFtX3Bs
YWNlbWVudCA9IHsKQEAgLTg5LDExICs5NywxMyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IHR0bV9w
bGFjZSB2cmFtX2dtcl9wbGFjZW1lbnRfZmxhZ3NbXSA9IHsKIAl7CiAJCS5mcGZuID0gMCwKIAkJ
LmxwZm4gPSAwLAotCQkuZmxhZ3MgPSBUVE1fUExfRkxBR19WUkFNIHwgVFRNX1BMX0ZMQUdfQ0FD
SEVECisJCS5tZW1fdHlwZSA9IFRUTV9QTF9WUkFNLAorCQkuZmxhZ3MgPSBUVE1fUExfRkxBR19D
QUNIRUQKIAl9LCB7CiAJCS5mcGZuID0gMCwKIAkJLmxwZm4gPSAwLAotCQkuZmxhZ3MgPSBWTVdf
UExfRkxBR19HTVIgfCBUVE1fUExfRkxBR19DQUNIRUQKKwkJLm1lbV90eXBlID0gVk1XX1BMX0dN
UiwKKwkJLmZsYWdzID0gVFRNX1BMX0ZMQUdfQ0FDSEVECiAJfQogfTsKIApAQCAtMTAxLDExICsx
MTEsMTMgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCB0dG1fcGxhY2UgZ21yX3ZyYW1fcGxhY2VtZW50
X2ZsYWdzW10gPSB7CiAJewogCQkuZnBmbiA9IDAsCiAJCS5scGZuID0gMCwKLQkJLmZsYWdzID0g
Vk1XX1BMX0ZMQUdfR01SIHwgVFRNX1BMX0ZMQUdfQ0FDSEVECisJCS5tZW1fdHlwZSA9IFZNV19Q
TF9HTVIsCisJCS5mbGFncyA9IFRUTV9QTF9GTEFHX0NBQ0hFRAogCX0sIHsKIAkJLmZwZm4gPSAw
LAogCQkubHBmbiA9IDAsCi0JCS5mbGFncyA9IFRUTV9QTF9GTEFHX1ZSQU0gfCBUVE1fUExfRkxB
R19DQUNIRUQKKwkJLm1lbV90eXBlID0gVFRNX1BMX1ZSQU0sCisJCS5mbGFncyA9IFRUTV9QTF9G
TEFHX0NBQ0hFRAogCX0KIH07CiAKQEAgLTEyMCwxMiArMTMyLDE0IEBAIHN0YXRpYyBjb25zdCBz
dHJ1Y3QgdHRtX3BsYWNlIHZyYW1fZ21yX25lX3BsYWNlbWVudF9mbGFnc1tdID0gewogCXsKIAkJ
LmZwZm4gPSAwLAogCQkubHBmbiA9IDAsCi0JCS5mbGFncyA9IFRUTV9QTF9GTEFHX1ZSQU0gfCBU
VE1fUExfRkxBR19DQUNIRUQgfAorCQkubWVtX3R5cGUgPSBUVE1fUExfVlJBTSwKKwkJLmZsYWdz
ID0gVFRNX1BMX0ZMQUdfQ0FDSEVEIHwKIAkJCSBUVE1fUExfRkxBR19OT19FVklDVAogCX0sIHsK
IAkJLmZwZm4gPSAwLAogCQkubHBmbiA9IDAsCi0JCS5mbGFncyA9IFZNV19QTF9GTEFHX0dNUiB8
IFRUTV9QTF9GTEFHX0NBQ0hFRCB8CisJCS5tZW1fdHlwZSA9IFZNV19QTF9HTVIsCisJCS5mbGFn
cyA9IFRUTV9QTF9GTEFHX0NBQ0hFRCB8CiAJCQkgVFRNX1BMX0ZMQUdfTk9fRVZJQ1QKIAl9CiB9
OwpAQCAtMTY5LDE5ICsxODMsMjMgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCB0dG1fcGxhY2UgZXZp
Y3RhYmxlX3BsYWNlbWVudF9mbGFnc1tdID0gewogCXsKIAkJLmZwZm4gPSAwLAogCQkubHBmbiA9
IDAsCi0JCS5mbGFncyA9IFRUTV9QTF9GTEFHX1NZU1RFTSB8IFRUTV9QTF9GTEFHX0NBQ0hFRAor
CQkubWVtX3R5cGUgPSBUVE1fUExfU1lTVEVNLAorCQkuZmxhZ3MgPSBUVE1fUExfRkxBR19DQUNI
RUQKIAl9LCB7CiAJCS5mcGZuID0gMCwKIAkJLmxwZm4gPSAwLAotCQkuZmxhZ3MgPSBUVE1fUExf
RkxBR19WUkFNIHwgVFRNX1BMX0ZMQUdfQ0FDSEVECisJCS5tZW1fdHlwZSA9IFRUTV9QTF9WUkFN
LAorCQkuZmxhZ3MgPSBUVE1fUExfRkxBR19DQUNIRUQKIAl9LCB7CiAJCS5mcGZuID0gMCwKIAkJ
LmxwZm4gPSAwLAotCQkuZmxhZ3MgPSBWTVdfUExfRkxBR19HTVIgfCBUVE1fUExfRkxBR19DQUNI
RUQKKwkJLm1lbV90eXBlID0gVk1XX1BMX0dNUiwKKwkJLmZsYWdzID0gVFRNX1BMX0ZMQUdfQ0FD
SEVECiAJfSwgewogCQkuZnBmbiA9IDAsCiAJCS5scGZuID0gMCwKLQkJLmZsYWdzID0gVk1XX1BM
X0ZMQUdfTU9CIHwgVFRNX1BMX0ZMQUdfQ0FDSEVECisJCS5tZW1fdHlwZSA9IFZNV19QTF9NT0Is
CisJCS5mbGFncyA9IFRUTV9QTF9GTEFHX0NBQ0hFRAogCX0KIH07CiAKQEAgLTE4OSwxNSArMjA3
LDE4IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgdHRtX3BsYWNlIG5vbmZpeGVkX3BsYWNlbWVudF9m
bGFnc1tdID0gewogCXsKIAkJLmZwZm4gPSAwLAogCQkubHBmbiA9IDAsCi0JCS5mbGFncyA9IFRU
TV9QTF9GTEFHX1NZU1RFTSB8IFRUTV9QTF9GTEFHX0NBQ0hFRAorCQkubWVtX3R5cGUgPSBUVE1f
UExfU1lTVEVNLAorCQkuZmxhZ3MgPSBUVE1fUExfRkxBR19DQUNIRUQKIAl9LCB7CiAJCS5mcGZu
ID0gMCwKIAkJLmxwZm4gPSAwLAotCQkuZmxhZ3MgPSBWTVdfUExfRkxBR19HTVIgfCBUVE1fUExf
RkxBR19DQUNIRUQKKwkJLm1lbV90eXBlID0gVk1XX1BMX0dNUiwKKwkJLmZsYWdzID0gVFRNX1BM
X0ZMQUdfQ0FDSEVECiAJfSwgewogCQkuZnBmbiA9IDAsCiAJCS5scGZuID0gMCwKLQkJLmZsYWdz
ID0gVk1XX1BMX0ZMQUdfTU9CIHwgVFRNX1BMX0ZMQUdfQ0FDSEVECisJCS5tZW1fdHlwZSA9IFZN
V19QTF9NT0IsCisJCS5mbGFncyA9IFRUTV9QTF9GTEFHX0NBQ0hFRAogCX0KIH07CiAKZGlmZiAt
LWdpdCBhL2luY2x1ZGUvZHJtL3R0bS90dG1fYm9fZHJpdmVyLmggYi9pbmNsdWRlL2RybS90dG0v
dHRtX2JvX2RyaXZlci5oCmluZGV4IGE2OTQzODhmN2IxMy4uODgxMzMwNjhhY2EyIDEwMDY0NAot
LS0gYS9pbmNsdWRlL2RybS90dG0vdHRtX2JvX2RyaXZlci5oCisrKyBiL2luY2x1ZGUvZHJtL3R0
bS90dG1fYm9fZHJpdmVyLmgKQEAgLTM1NywyMyArMzU3LDYgQEAgc3RydWN0IHR0bV9scnVfYnVs
a19tb3ZlIHsKIAlzdHJ1Y3QgdHRtX2xydV9idWxrX21vdmVfcG9zIHN3YXBbVFRNX01BWF9CT19Q
UklPUklUWV07CiB9OwogCi0vKioKLSAqIHR0bV9mbGFnX21hc2tlZAotICoKLSAqIEBvbGQ6IFBv
aW50ZXIgdG8gdGhlIHJlc3VsdCBhbmQgb3JpZ2luYWwgdmFsdWUuCi0gKiBAbmV3OiBOZXcgdmFs
dWUgb2YgYml0cy4KLSAqIEBtYXNrOiBNYXNrIG9mIGJpdHMgdG8gY2hhbmdlLgotICoKLSAqIENv
bnZlbmllbmNlIGZ1bmN0aW9uIHRvIGNoYW5nZSBhIG51bWJlciBvZiBiaXRzIGlkZW50aWZpZWQg
YnkgYSBtYXNrLgotICovCi0KLXN0YXRpYyBpbmxpbmUgdWludDMyX3QKLXR0bV9mbGFnX21hc2tl
ZCh1aW50MzJfdCAqb2xkLCB1aW50MzJfdCBuZXcsIHVpbnQzMl90IG1hc2spCi17Ci0JKm9sZCBe
PSAoKm9sZCBeIG5ldykgJiBtYXNrOwotCXJldHVybiAqb2xkOwotfQotCiAvKgogICogdHRtX2Jv
LmMKICAqLwpkaWZmIC0tZ2l0IGEvaW5jbHVkZS9kcm0vdHRtL3R0bV9wbGFjZW1lbnQuaCBiL2lu
Y2x1ZGUvZHJtL3R0bS90dG1fcGxhY2VtZW50LmgKaW5kZXggZTg4YThlMzk3NjdiLi5kNDAyMjY1
NWVhZTQgMTAwNjQ0Ci0tLSBhL2luY2x1ZGUvZHJtL3R0bS90dG1fcGxhY2VtZW50LmgKKysrIGIv
aW5jbHVkZS9kcm0vdHRtL3R0bV9wbGFjZW1lbnQuaApAQCAtNDIsMTIgKzQyLDYgQEAKICNkZWZp
bmUgVFRNX1BMX1ZSQU0gICAgICAgICAgICAgMgogI2RlZmluZSBUVE1fUExfUFJJViAgICAgICAg
ICAgICAzCiAKLSNkZWZpbmUgVFRNX1BMX0ZMQUdfU1lTVEVNICAgICAgKDEgPDwgVFRNX1BMX1NZ
U1RFTSkKLSNkZWZpbmUgVFRNX1BMX0ZMQUdfVFQgICAgICAgICAgKDEgPDwgVFRNX1BMX1RUKQot
I2RlZmluZSBUVE1fUExfRkxBR19WUkFNICAgICAgICAoMSA8PCBUVE1fUExfVlJBTSkKLSNkZWZp
bmUgVFRNX1BMX0ZMQUdfUFJJViAgICAgICAgKDEgPDwgVFRNX1BMX1BSSVYpCi0jZGVmaW5lIFRU
TV9QTF9NQVNLX01FTSAgICAgICAgIDB4MDAwMEZGRkYKLQogLyoKICAqIE90aGVyIGZsYWdzIHRo
YXQgYWZmZWN0cyBkYXRhIHBsYWNlbWVudC4KICAqIFRUTV9QTF9GTEFHX0NBQ0hFRCBpbmRpY2F0
ZXMgY2FjaGUtY29oZXJlbnQgbWFwcGluZ3MKQEAgLTcxLDggKzY1LDYgQEAKIAkJCQkgVFRNX1BM
X0ZMQUdfVU5DQUNIRUQgfCBcCiAJCQkJIFRUTV9QTF9GTEFHX1dDKQogCi0jZGVmaW5lIFRUTV9Q
TF9NQVNLX01FTVRZUEUgICAgIChUVE1fUExfTUFTS19NRU0gfCBUVE1fUExfTUFTS19DQUNISU5H
KQotCiAvKioKICAqIHN0cnVjdCB0dG1fcGxhY2UKICAqCkBAIC04NSw2ICs3Nyw3IEBACiBzdHJ1
Y3QgdHRtX3BsYWNlIHsKIAl1bnNpZ25lZAlmcGZuOwogCXVuc2lnbmVkCWxwZm47CisJdWludDMy
X3QJbWVtX3R5cGU7CiAJdWludDMyX3QJZmxhZ3M7CiB9OwogCi0tIAoyLjE3LjEKCl9fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5n
IGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVk
ZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbAo=
