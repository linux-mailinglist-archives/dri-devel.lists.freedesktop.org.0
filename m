Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 567AB7D3EA
	for <lists+dri-devel@lfdr.de>; Thu,  1 Aug 2019 05:45:35 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C3FF56E35D;
	Thu,  1 Aug 2019 03:45:26 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-pf1-x442.google.com (mail-pf1-x442.google.com
 [IPv6:2607:f8b0:4864:20::442])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 143306E362
 for <dri-devel@lists.freedesktop.org>; Thu,  1 Aug 2019 03:45:25 +0000 (UTC)
Received: by mail-pf1-x442.google.com with SMTP id u14so33173475pfn.2
 for <dri-devel@lists.freedesktop.org>; Wed, 31 Jul 2019 20:45:25 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references;
 bh=gE/41V3p8E7KtwwzgftBMLTA6SAC75G2Kpa5UKCO8Qo=;
 b=Z9d4GRtndWj98SXqoj6iatHjY/0KxeVuJyY+EaDzfBFB/eD4YBoaN5E+ukdUdzDCym
 ZYROGO6nw8h7amfOjVbXROkmqoUWvWWBoHcLLtZOuUdFOy1g8YAPU76bzL24sBEFuwC8
 m0Tr8JXwe/hwqRvw/zo40QL+58lm46rufSGrqihnoCUxZnLuGzruhW7TiwQdj1rB0mCH
 1BWPl80kuR0HyQqPdAKcMNHYlA0d+OaVVMvCCU9tAqTN5PrUdQ4vgEDTBPV4pkDZL3kT
 PkTOjr5fV1HaoYtOdQMTt/jLLal6XZDKo8p7K6TnT7c6VKXWed70WSuVsQIBuh8kLO00
 pLRg==
X-Gm-Message-State: APjAAAXz0gG/ISJ4Bhh8ttV3kNGxuk+raZUec+lNW9RN/xuZgdD64ZUh
 1rmIu1Fxr6FhWuDmly7RLuF5tA==
X-Google-Smtp-Source: APXvYqwT1VFMzc9tchbe9OkpDTvnzfmXSm4NMZYpWM+g4G4Q0+yWy9eVQ91PrnNFB3Ofujh71vMk+Q==
X-Received: by 2002:a63:5c7:: with SMTP id 190mr114583297pgf.67.1564631124394; 
 Wed, 31 Jul 2019 20:45:24 -0700 (PDT)
Received: from localhost.localdomain ([2601:1c2:680:1319:692:26ff:feda:3a81])
 by smtp.gmail.com with ESMTPSA id
 h70sm64775674pgc.36.2019.07.31.20.45.22
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Wed, 31 Jul 2019 20:45:23 -0700 (PDT)
From: John Stultz <john.stultz@linaro.org>
To: lkml <linux-kernel@vger.kernel.org>
Subject: [PATCH v3 25/26] drm: kirin: Pass driver data to crtc init and plane
 init
Date: Thu,  1 Aug 2019 03:44:38 +0000
Message-Id: <20190801034439.98227-26-john.stultz@linaro.org>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20190801034439.98227-1-john.stultz@linaro.org>
References: <20190801034439.98227-1-john.stultz@linaro.org>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=linaro.org; s=google;
 h=from:to:cc:subject:date:message-id:in-reply-to:references;
 bh=gE/41V3p8E7KtwwzgftBMLTA6SAC75G2Kpa5UKCO8Qo=;
 b=C5j8hBfr3aQsA/OwNaVL8RCHkNAn9o85zTFnFGuituGatDhp15FNjaHXBlQlTMU6rz
 R9Ueq+9X6/0S14B9yYKbMcun3w2oWE/LS2TLZtVeagOiBxnh6zj4VD9+wgFm8U/37cqw
 FsiOGw/k9+82qWFd/6b3+1sKJwJmKS4rmnrGjNbWYe/U+gCgkMNLxgOdd0CFCrmaOV43
 0K5yQZTMiRJy7XWuING4I+3VjkycyWBXP3G9qfOOFokyx0en29yAN4ha6CvcK7Fe3d0k
 PuqkPSdckPrm32/FuFGSFPpayCgH1l5vV3xwmBy4dlS/yIVPUbWbBRiOLkgguX/cQqYm
 g3FQ==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Xu YiPing <xuyiping@hisilicon.com>, David Airlie <airlied@linux.ie>,
 dri-devel <dri-devel@lists.freedesktop.org>,
 Rongrong Zou <zourongrong@gmail.com>, Sam Ravnborg <sam@ravnborg.org>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogWHUgWWlQaW5nIDx4dXlpcGluZ0BoaXNpbGljb24uY29tPgoKQXMgcGFydCBvZiByZWZh
Y3RvcmluZyB0aGUga2lyaW4gZHJpdmVyIHRvIGJldHRlciBzdXBwb3J0CmRpZmZlcmVudCBoYXJk
d2FyZSByZXZpc2lvbnMsIHRoaXMgcGF0Y2ggY2hhbmdlcyB0aGUgY29kZQp2aWEgYSBwYXNzZWQg
aW4gZHJpdmVyX2RhdGEgcG9pbnRlciwgcmF0aGVyIHRoYW4gaGFyZGNvZGluZwp0aGVtIHZpYSBh
ZGVfZHJpdmVyX2RhdGEgdmFyaWFibGUuCgpUaGlzIHdpbGwgYWxsb3cgdGhvc2UgZnVuY2l0b25z
IHRvIGJlIGxhdGVyIG1vdmVkIHRvIHRoZQpnZW5lcmljIGtpcmluX2RybV9kcnYuYyB1c2luZyBh
bHRlcm5hdGl2ZSBkcml2ZXJfZGF0YSBzdHJ1Y3R1cmVzCnRoYXQgc3VwcG9ydCBvdGhlciBoYXJk
d2FyZS4KCkNjOiBSb25ncm9uZyBab3UgPHpvdXJvbmdyb25nQGdtYWlsLmNvbT4KQ2M6IERhdmlk
IEFpcmxpZSA8YWlybGllZEBsaW51eC5pZT4KQ2M6IERhbmllbCBWZXR0ZXIgPGRhbmllbEBmZnds
bC5jaD4KQ2M6IGRyaS1kZXZlbCA8ZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZz4KQ2M6
IFNhbSBSYXZuYm9yZyA8c2FtQHJhdm5ib3JnLm9yZz4KUmV2aWV3ZWQtYnk6IFNhbSBSYXZuYm9y
ZyA8c2FtQHJhdm5ib3JnLm9yZz4KU2lnbmVkLW9mZi1ieTogWHUgWWlQaW5nIDx4dXlpcGluZ0Bo
aXNpbGljb24uY29tPgpbanN0dWx0ejogUmV3b3JkZWQgY29tbWl0IG1lc3NhZ2VdClNpZ25lZC1v
ZmYtYnk6IEpvaG4gU3R1bHR6IDxqb2huLnN0dWx0ekBsaW5hcm8ub3JnPgotLS0KdjI6IFdoaXRl
c3BhY2UgZml4dXBzLCBjb21taXQgbWVzc2FnZSB0d2Vha3Mgc3VnZ2VzdGVkIGJ5IFNhbS4KLS0t
CiAuLi4vZ3B1L2RybS9oaXNpbGljb24va2lyaW4va2lyaW5fZHJtX2FkZS5jICAgfCAyNSArKysr
KysrKysrKy0tLS0tLS0tCiAxIGZpbGUgY2hhbmdlZCwgMTQgaW5zZXJ0aW9ucygrKSwgMTEgZGVs
ZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2hpc2lsaWNvbi9raXJpbi9r
aXJpbl9kcm1fYWRlLmMgYi9kcml2ZXJzL2dwdS9kcm0vaGlzaWxpY29uL2tpcmluL2tpcmluX2Ry
bV9hZGUuYwppbmRleCBmNzI5YTFkZTZlMTQuLmFiMGM1ZDAzOTAzZCAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2hpc2lsaWNvbi9raXJpbi9raXJpbl9kcm1fYWRlLmMKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2hpc2lsaWNvbi9raXJpbi9raXJpbl9kcm1fYWRlLmMKQEAgLTU3Miw3ICs1NzIs
OCBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9jcnRjX2Z1bmNzIGFkZV9jcnRjX2Z1bmNzID0g
ewogfTsKIAogc3RhdGljIGludCBraXJpbl9kcm1fY3J0Y19pbml0KHN0cnVjdCBkcm1fZGV2aWNl
ICpkZXYsIHN0cnVjdCBkcm1fY3J0YyAqY3J0YywKLQkJCSBzdHJ1Y3QgZHJtX3BsYW5lICpwbGFu
ZSkKKwkJCSAgICAgICBzdHJ1Y3QgZHJtX3BsYW5lICpwbGFuZSwKKwkJCSAgICAgICBjb25zdCBz
dHJ1Y3Qga2lyaW5fZHJtX2RhdGEgKmRyaXZlcl9kYXRhKQogewogCXN0cnVjdCBkZXZpY2Vfbm9k
ZSAqcG9ydDsKIAlpbnQgcmV0OwpAQCAtNTg5LDEzICs1OTAsMTMgQEAgc3RhdGljIGludCBraXJp
bl9kcm1fY3J0Y19pbml0KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHN0cnVjdCBkcm1fY3J0YyAq
Y3J0YywKIAljcnRjLT5wb3J0ID0gcG9ydDsKIAogCXJldCA9IGRybV9jcnRjX2luaXRfd2l0aF9w
bGFuZXMoZGV2LCBjcnRjLCBwbGFuZSwgTlVMTCwKLQkJCQkJYWRlX2RyaXZlcl9kYXRhLmNydGNf
ZnVuY3MsIE5VTEwpOworCQkJCQlkcml2ZXJfZGF0YS0+Y3J0Y19mdW5jcywgTlVMTCk7CiAJaWYg
KHJldCkgewogCQlEUk1fRVJST1IoImZhaWxlZCB0byBpbml0IGNydGMuXG4iKTsKIAkJcmV0dXJu
IHJldDsKIAl9CiAKLQlkcm1fY3J0Y19oZWxwZXJfYWRkKGNydGMsIGFkZV9kcml2ZXJfZGF0YS5j
cnRjX2hlbHBlcl9mdW5jcyk7CisJZHJtX2NydGNfaGVscGVyX2FkZChjcnRjLCBkcml2ZXJfZGF0
YS0+Y3J0Y19oZWxwZXJfZnVuY3MpOwogCiAJcmV0dXJuIDA7CiB9CkBAIC04OTQsMjEgKzg5NSwy
MiBAQCBzdGF0aWMgc3RydWN0IGRybV9wbGFuZV9mdW5jcyBhZGVfcGxhbmVfZnVuY3MgPSB7CiAK
IHN0YXRpYyBpbnQga2lyaW5fZHJtX3BsYW5lX2luaXQoc3RydWN0IGRybV9kZXZpY2UgKmRldiwK
IAkJCQlzdHJ1Y3Qga2lyaW5fcGxhbmUgKmtwbGFuZSwKLQkJCQllbnVtIGRybV9wbGFuZV90eXBl
IHR5cGUpCisJCQkJZW51bSBkcm1fcGxhbmVfdHlwZSB0eXBlLAorCQkJCWNvbnN0IHN0cnVjdCBr
aXJpbl9kcm1fZGF0YSAqZHJpdmVyX2RhdGEpCiB7CiAJaW50IHJldCA9IDA7CiAKIAlyZXQgPSBk
cm1fdW5pdmVyc2FsX3BsYW5lX2luaXQoZGV2LCAma3BsYW5lLT5iYXNlLCAxLAotCQkJCQlhZGVf
ZHJpdmVyX2RhdGEucGxhbmVfZnVuY3MsCi0JCQkJCWFkZV9kcml2ZXJfZGF0YS5jaGFubmVsX2Zv
cm1hdHMsCi0JCQkJCWFkZV9kcml2ZXJfZGF0YS5jaGFubmVsX2Zvcm1hdHNfY250LAotCQkJCQlO
VUxMLCB0eXBlLCBOVUxMKTsKKwkJCQkgICAgICAgZHJpdmVyX2RhdGEtPnBsYW5lX2Z1bmNzLAor
CQkJCSAgICAgICBkcml2ZXJfZGF0YS0+Y2hhbm5lbF9mb3JtYXRzLAorCQkJCSAgICAgICBkcml2
ZXJfZGF0YS0+Y2hhbm5lbF9mb3JtYXRzX2NudCwKKwkJCQkgICAgICAgTlVMTCwgdHlwZSwgTlVM
TCk7CiAJaWYgKHJldCkgewogCQlEUk1fRVJST1IoImZhaWwgdG8gaW5pdCBwbGFuZSwgY2g9JWRc
biIsIGtwbGFuZS0+Y2gpOwogCQlyZXR1cm4gcmV0OwogCX0KIAotCWRybV9wbGFuZV9oZWxwZXJf
YWRkKCZrcGxhbmUtPmJhc2UsIGFkZV9kcml2ZXJfZGF0YS5wbGFuZV9oZWxwZXJfZnVuY3MpOwor
CWRybV9wbGFuZV9oZWxwZXJfYWRkKCZrcGxhbmUtPmJhc2UsIGRyaXZlcl9kYXRhLT5wbGFuZV9o
ZWxwZXJfZnVuY3MpOwogCiAJcmV0dXJuIDA7CiB9CkBAIC0xMDI0LDE0ICsxMDI2LDE1IEBAIHN0
YXRpYyBpbnQgYWRlX2RybV9pbml0KHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCiAJCWVs
c2UKIAkJCXR5cGUgPSBEUk1fUExBTkVfVFlQRV9PVkVSTEFZOwogCi0JCXJldCA9IGtpcmluX2Ry
bV9wbGFuZV9pbml0KGRldiwga3BsYW5lLCB0eXBlKTsKKwkJcmV0ID0ga2lyaW5fZHJtX3BsYW5l
X2luaXQoZGV2LCBrcGxhbmUsIHR5cGUsICZhZGVfZHJpdmVyX2RhdGEpOwogCQlpZiAocmV0KQog
CQkJcmV0dXJuIHJldDsKIAl9CiAKIAkvKiBjcnRjIGluaXQgKi8KIAlyZXQgPSBraXJpbl9kcm1f
Y3J0Y19pbml0KGRldiwgJmtjcnRjLT5iYXNlLAotCQkJCSZhZGUtPnBsYW5lc1thZGVfZHJpdmVy
X2RhdGEucHJpbV9wbGFuZV0uYmFzZSk7CisJCQkJJmFkZS0+cGxhbmVzW2FkZV9kcml2ZXJfZGF0
YS5wcmltX3BsYW5lXS5iYXNlLAorCQkJCSZhZGVfZHJpdmVyX2RhdGEpOwogCWlmIChyZXQpCiAJ
CXJldHVybiByZXQ7CiAKLS0gCjIuMTcuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlz
dGluZm8vZHJpLWRldmVs
