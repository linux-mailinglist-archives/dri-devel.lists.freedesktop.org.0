Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 85A3B5F39C
	for <lists+dri-devel@lfdr.de>; Thu,  4 Jul 2019 09:26:33 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 6AD856E28C;
	Thu,  4 Jul 2019 07:25:17 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from foss.arm.com (foss.arm.com [217.140.110.172])
 by gabe.freedesktop.org (Postfix) with ESMTP id 8B4D689E1A;
 Wed,  3 Jul 2019 14:50:11 +0000 (UTC)
Received: from usa-sjc-imap-foss1.foss.arm.com (unknown [10.121.207.14])
 by usa-sjc-mx-foss1.foss.arm.com (Postfix) with ESMTP id 26EFC2B;
 Wed,  3 Jul 2019 07:50:11 -0700 (PDT)
Received: from [10.1.196.133] (e112269-lin.cambridge.arm.com [10.1.196.133])
 by usa-sjc-imap-foss1.foss.arm.com (Postfix) with ESMTPSA id 6622F3F718;
 Wed,  3 Jul 2019 07:50:10 -0700 (PDT)
Subject: Re: [RFC PATCH] mesa: Export BOs in RW mode
To: Boris Brezillon <boris.brezillon@collabora.com>
References: <20190703133357.10217-1-boris.brezillon@collabora.com>
 <CAL_JsqLb3qjzp8+9mj3SA=E_avsF7VnC=vji9YvePHvoiqgNgg@mail.gmail.com>
 <20190703155616.1ed02d49@collabora.com>
 <12e0bb1f-9a71-a120-7012-397fa0a16fd9@arm.com>
 <20190703163351.5fa5bc42@collabora.com>
From: Steven Price <steven.price@arm.com>
Message-ID: <20354c23-1504-0bbc-d678-688a5471722f@arm.com>
Date: Wed, 3 Jul 2019 15:50:08 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.7.2
MIME-Version: 1.0
In-Reply-To: <20190703163351.5fa5bc42@collabora.com>
Content-Language: en-GB
X-Mailman-Approved-At: Thu, 04 Jul 2019 07:25:13 +0000
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: ML mesa-dev <mesa-dev@lists.freedesktop.org>,
 Rob Herring <robh+dt@kernel.org>,
 Alyssa Rosenzweig <alyssa.rosenzweig@collabora.com>,
 dri-devel <dri-devel@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gMDMvMDcvMjAxOSAxNTozMywgQm9yaXMgQnJlemlsbG9uIHdyb3RlOgo+IE9uIFdlZCwgMyBK
dWwgMjAxOSAxNToxMzoyNSArMDEwMAo+IFN0ZXZlbiBQcmljZSA8c3RldmVuLnByaWNlQGFybS5j
b20+IHdyb3RlOgo+IAo+PiBPbiAwMy8wNy8yMDE5IDE0OjU2LCBCb3JpcyBCcmV6aWxsb24gd3Jv
dGU6Cj4+PiBPbiBXZWQsIDMgSnVsIDIwMTkgMDc6NDU6MzIgLTA2MDAKPj4+IFJvYiBIZXJyaW5n
IDxyb2JoK2R0QGtlcm5lbC5vcmc+IHdyb3RlOgo+Pj4gICAKPj4+PiBPbiBXZWQsIEp1bCAzLCAy
MDE5IGF0IDc6MzQgQU0gQm9yaXMgQnJlemlsbG9uCj4+Pj4gPGJvcmlzLmJyZXppbGxvbkBjb2xs
YWJvcmEuY29tPiB3cm90ZTogIAo+Pj4+Pgo+Pj4+PiBFeHBvcnRlZCBCT3MgbWlnaHQgYmUgaW1w
b3J0ZWQgYmFjaywgdGhlbiBtbWFwKCktZWQgdG8gYmUgd3JpdHRlbgo+Pj4+PiB0b28uIE1vc3Qg
ZHJpdmVycyBoYW5kbGUgdGhhdCBieSBtbWFwKCktaW5nIHRoZSBHRU0gaGFuZGxlIGFmdGVyIGl0
J3MKPj4+Pj4gYmVlbiBpbXBvcnRlZCwgYnV0LCBhY2NvcmRpbmcgdG8gWzFdLCB0aGlzIGlzIGls
bGVnYWwuICAgIAo+Pj4+Cj4+Pj4gSXQncyBub3QgaWxsZWdhbCwgYnV0IGlzIHN1cHBvc2VkIHRv
IGdvIHRocnUgdGhlIGRtYWJ1ZiBtbWFwCj4+Pj4gZnVuY3Rpb25zLiAgCj4+Pgo+Pj4gVGhhdCdz
IGJhc2ljYWxseSB3aGF0IEknbSBwcm9wb3NpbmcgaGVyZSwganVzdCBkaWRuJ3QgcG9zdCB0aGUg
cGF0Y2gKPj4+IHNraXBwaW5nIHRoZSBHRVRfT0ZGU0VUIHN0ZXAgYW5kIGRvaW5nIHRoZSBtbWFw
KCkgb24gdGhlIGRtYWJ1ZiBGRAo+Pj4gaW5zdGVhZCBvZiB0aGUgRFJNLW5vZGUgb25lLCBidXQg
SSBoYXZlIGl0IHdvcmtpbmcgZm9yIHBhbmZyb3N0LiAgCj4+Cj4+IElmIHdlIHdhbnQgdG8gd2Ug
Y291bGQgbWFrZSB0aGUgUGFuZnJvc3Qga2VybmVsIGRyaXZlciBpbnRlcm5hbGx5IGNhbGwKPj4g
ZG1hX2J1Zl9tbWFwKCkgc28gdGhhdCBtYXBwaW5nIHVzaW5nIHRoZSBEUk0tbm9kZSAianVzdCB3
b3JrcyIuIFRoaXMgaXMKPj4gaW5kZWVkIHdoYXQgdGhlIGtiYXNlIGRyaXZlciBkb2VzLgo+IAo+
IFdlbGwsIHVzZXJzcGFjZSBzaG91bGQgYXQgbGVhc3Qgc2tpcCBEUk1fSU9DVExfUEFORlJPU1Rf
TU1BUF9CTyAob3IKPiBpZ25vcmUgaXRzIHJldHVybiBjb2RlKSwgc28gY2FsbGluZyBtbWFwKCkg
b24gdGhlIGRtYWJ1ZiBGRCBpbnN0ZWFkIG9mCj4gdGhlIERSTS1ub2RlIEZEIHNob3VsZG4ndCBi
ZSB0aGF0IGhhcmQuCgpXaGF0IEkgd2FzIHN1Z2dlc3RpbmcgaXMgdGhhdCB1c2VyIHNwYWNlIHdv
dWxkIHN0aWxsIGNhbGwKRFJNX0lPQ1RMX1BBTkZST1NUX01NQVBfQk8gdG8gZ2V0IGFuIG9mZnNl
dCB3aGljaCB1c2VzIGluIGEgY2FsbCB0bwptbWFwKC4uLiwgZHJtX25vZGVfZmQsIG9mZnNldCku
IFRoZSBrZXJuZWwgY291bGQgZGV0ZWN0IHRoYXQgdGhlIGJ1ZmZlcgppcyBpbXBvcnRlZCBhbmQg
Y2FsbCB0aGUgZXhwb3J0ZXIgZm9yIHRoZSBhY3R1YWwgbW1hcCgpIGZ1bmN0aW9uYWxpdHkuCgpU
aGUgYWx0ZXJuYXRpdmUgaXMgdGhhdCB1c2VyIHNwYWNlICdzaW1wbHknIHJlbWVtYmVycyB0aGF0
IGEgYnVmZmVyIGlzCmltcG9ydGVkIGFuZCBrZWVwcyB0aGUgZmlsZSBkZXNjcmlwdG9yIGFyb3Vu
ZCBzbyB0aGF0IGl0IGNhbiBpbnN0ZWFkCmRpcmVjdGx5IG1tYXAoKSB0aGUgZG1hX2J1ZiBmZC4g
V2hpY2ggaXMgY2VydGFpbmx5IGVhc2llc3QgZnJvbSB0aGUKa2VybmVsJ3MgcGVyc3BlY3RpdmUg
KGFuZCB3YXMgd2hhdCBJIGFzc3VtZWQgcGFuZnJvc3Qgd2FzIGRvaW5nIC0gSQpzaG91bGQgaGF2
ZSBjaGVja2VkIG1vcmUgY2xvc2VseSEpLgoKPj4+PiBIb3dldmVyLCBub25lIG9mIHRoZSBkcml2
ZXIgSSd2ZSBsb29rZWQgYXQgKGV0bmF2aXYsIG1zbSwKPj4+PiB2M2QsIHZnZW0pIGRvIHRoYXQu
IEl0IHByb2JhYmx5IHdvcmtzIGJlY2F1c2UgaXQncyB0aGUgc2FtZSBkcml2ZXIKPj4+PiBkb2lu
ZyB0aGUgaW1wb3J0IGFuZCBleHBvcnQgb3IgYm90aCBkcml2ZXJzIGhhdmUgZXNzZW50aWFsbHkg
dGhlIHNhbWUKPj4+PiBpbXBsZW1lbnRhdGlvbnMuICAKPj4+Cj4+PiBZZXMsIGJ1dCBtYXliZSB0
aGF0J3Mgc29tZXRoaW5nIHdlIHNob3VsZCBzdGFydCBmaXhpbmcgaWYgbW1hcCgpLWluZwo+Pj4g
dGhlIGRtYWJ1ZiBpcyB0aGUgcmVjb21tZW5kZWQgc29sdXRpb24uICAKPj4KPj4gSSdtIG9wZW4g
dG8gb3B0aW9ucyBoZXJlLiBVc2VyIHNwYWNlIGNhbGxpbmcgbW1hcCgpIG9uIHRoZSBkbWFfYnVm
IGZpbGUKPj4gZGVzY3JpcHRvciBzaG91bGQgYWx3YXlzIGJlIHNhZmUgKHRoZSBleHBvcnRlciBj
YW4gZG8gd2hhdGV2ZXIgaXMKPj4gbmVjZXNzYXJ5IHRvIG1ha2UgaXQgd29yaykuIElmIHRoYXQg
aGFwcGVucyB0aGVuIHRoZSBwYXRjaGVzIEkgcG9zdGVkCj4+IGNsb3NlIG9mZiB0aGUgRFJNIG5v
ZGUgdmVyc2lvbiB3aGljaCBjb3VsZCBiZSBicm9rZW4gaWYgdGhlIGV4cG9ydGVyCj4+IG5lZWRz
IHRvIGRvIGFueXRoaW5nIHRvIHByZXBhcmUgdGhlIGJ1ZmZlciBmb3IgQ1BVIGFjY2VzcyAoaS5l
LiBjYWNoZQo+PiBtYWludGVuYW5jZSkuCj4gCj4gVGFsa2luZyBhYm91dCBDUFUgPC0+IEdQVSBz
eW5jcywgSSB3YXMgd29uZGVyaW5nIGlmIHRoZQo+IG1tYXAoZ2VtX2hhbmRsZSkgc3RlcCB3YXMg
cHJvdmlkaW5nIGFueSBndWFyYW50ZWUgdGhhdCB3b3VsZAo+IGFsbG93IHVzIHRvIGlnbm9yZSBh
bGwgdGhlIGNhY2hlIG1haW50ZW5hbmNlIG9wZXJhdGlvbnMgdGhhdCBhcmUKPiByZXF1aXJlZCB3
aGVuIG1tYXAoKS1pbmcgYSBkbWFidWYgZGlyZWN0bHkuIE5vdGUgdGhhdCBpbiBib3RoIGNhc2Vz
IHRoZQo+IGRtYWJ1ZiBpcyBpbXBvcnRlZC4KCkluIHRoZW9yeSB0aGUgZXhwb3J0ZXIgc2hvdWxk
IGRvIHdoYXRldmVyIGlzIHJlcXVpcmVkIHRvIGVuc3VyZSB0aGF0IHRoZQpDUFUgaXMgc3luY2hy
b25pc2VkIHdoZW4gYSB1c2VyIHNwYWNlIG1hcHBpbmcgZXhpc3RzLiBUaGVyZSBhcmUgc29tZQpp
c3N1ZXMgaGVyZSB0aG91Z2g6CgoqIEluIHRoZW9yeSB0aGUga2VybmVsIGRyaXZlciBzaG91bGQg
bWFwIHRoZSBkbWFfYnVmIHB1cmVseSBmb3IgdGhlCmR1cmF0aW9uIHRoYXQgYSBqb2IgaXMgdXNp
bmcgdGhlIGJ1ZmZlciAoYW5kIHVubWFwIGltbWVkaWF0ZWx5IGFmdGVyKS4KVGhpcyBnaXZlcyB0
aGUgZXhwb3J0ZXIgdGhlIGtub3dsZWRnZSBvZiB3aGVuIHRoZSBHUFUgaXMgdXNpbmcgdGhlCm1l
bW9yeSBhbmQgYWxsb3dzIHRoZSBleHBvcnRlciB0byBwYWdlIG91dCBvZiB0aGUgbWVtb3J5IGlm
IG5lY2Vzc2FyeS4KSW4gcHJhY3Rpc2UgdGhpcyBtYXAvdW5tYXAgb3BlcmF0aW9uIGlzIGV4cGVu
c2l2ZSAodXBkYXRpbmcgdGhlIEdQVSdzCnBhZ2UgdGFibGVzKSBzbyBtb3N0IGRyaXZlcnMgZG9u
J3QgYWN0dWFsbHkgYm90aGVyIGFuZCBrZWVwIHRoZSBtZW1vcnkKbWFwcGVkLiBUaGlzIG1lYW5z
IHRoZSBleHBvcnRlciBjYW5ub3QgdGVsbCB3aGVuIHRoZSBidWZmZXIgaXMgdXNlZCBvcgptb3Zl
IHRoZSBwYWdlcy4KCiogVGhlIENQVSBtYXBwaW5ncyBjYW4gYmUgZmF1bHRlZCBvbiBkZW1hbmQg
KHBlcmZvcm1pbmcgdGhlIG5lY2Vzc2FyeQpDUFUgY2FjaGUgaW52YWxpZGF0ZSBpZiBuZWVkZWQp
IGFuZCBzaG90LWRvd24gdG8gYWxsb3cgbW92aW5nIHRoZQptZW1vcnkuIEluIHRoZW9yeSB3aGVu
IHRoZSBHUFUgbmVlZHMgdGhlIG1lbW9yeSBpdCBzaG91bGQgbWFwIHRoZSBidWZmZXIKYW5kIHRo
ZSBleHBvcnRlciBjYW4gdGhlbiBzaG9vdCBkb3duIHRoZSBtYXBwaW5ncywgcGVyZm9ybSB0aGUg
Q1BVIGNhY2hlCmNsZWFuIGFuZCB0aGVuIGFsbG93IHRoZSBHUFUgdG8gdXNlIHRoZSBtZW1vcnku
IEEgc3Vic2VxdWVudCBDUFUgYWNjZXNzCndvdWxkIHRoZW4gcmVmYXVsdCB0aGUgcGFnZSwgZW5z
dXJpbmcgYSBDUFUgY2FjaGUgaW52YWxpZGF0ZSBzbyB0aGUKbGF0ZXN0IGRhdGEgaXMgdmlzaWJs
ZS4KCiogVGhlIG1ham9yaXR5IG9mIGV4cG9ydGVycyBhcmUgc2ltcGxlIGFuZCBkZWFsIHdpdGgg
dW5jYWNoZWQgbWVtb3J5CihlLmcuIGZyYW1lIGJ1ZmZlcnMpIG9yIGFyZSBhY3R1YWxseSBleHBv
cnRpbmcgYmFjayB0byB0aGUgc2FtZSBkcml2ZXIKKGUuZy4gd2luZG93IHN1cmZhY2VzKS4gSW4g
dGhlc2Ugc2l0dWF0aW9ucyBlaXRoZXIgdGhlIGRyaXZlciBhbHJlYWR5CmhhcyB0aGUgbmVjZXNz
YXJ5ICJtYWdpYyIgdG8gZGVhbCB3aXRoIGNhY2hlcyAoZS5nLiBrYmFzZSBwcm92aWRlcwpleHBs
aWNpdCBjYWNoZSBtYWludGVuYW5jZSBvcGVyYXRpb25zKSwgb3IgaXQncyAidW5jYWNoZWQiIGFu
eXdheSBzbyBpdApkb2Vzbid0IG1hdHRlci4gVGhpcyBtZWFucyB0aGF0IGhhcmRseSBhbnlvbmUg
dGVzdHMgd2l0aCB0aGUgY29tcGxleApjYXNlcy4uLgoKRnJvbSBhIHVzZXIgc3BhY2UgQUJJLCBt
eSB1bmRlcnN0YW5kaW5nIGlzIHRoYXQgYSBkbWFfYnVmIG1tYXAoKSBtYXBwaW5nCnNob3VsZCBi
ZSBjb2hlcmVudCwgYW5kIHVzZXIgc3BhY2UgaXNuJ3QgZXhwZWN0ZWQgdG8gZG8gYW55dGhpbmcg
dG8gbWFrZQppdCB3b3JrLiBPYnZpb3VzbHkgYW55IGltcG9ydGluZyBkZXZpY2UgbWlnaHQgaGF2
ZSBpdCdzIG93biBjb2hlcmVuY3kKZGV0YWlscyB3aGljaCB3aWxsIGJlIHVwIHRvIHRoZSBBQkkg
b2YgdGhhdCBkZXZpY2UgKGUuZy4gTWFsaSBoYXMgY2FjaGVzCndoaWNoIG1heSBuZWVkIHRvIGJl
IGZsdXNoZWQgLSB0aGlzIGlzIHVzdWFsbHkgZG9uZSBhdCB0aGUgc3RhcnQvZW5kIG9mCmEgam9i
IGNoYWluLCBzbyBjb2hlcmVuY3kgaXMgbm90IGd1YXJhbnRlZWQgd2hpbGUgdGhlIGpvYiBjaGFp
biBpcyBydW5uaW5nKS4KClN0ZXZlCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVk
ZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZv
L2RyaS1kZXZlbA==
