Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 67CD824003C
	for <lists+dri-devel@lfdr.de>; Sun,  9 Aug 2020 23:52:03 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id DD7EF6E0AA;
	Sun,  9 Aug 2020 21:51:57 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-lj1-x244.google.com (mail-lj1-x244.google.com
 [IPv6:2a00:1450:4864:20::244])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E836D6E0AA
 for <dri-devel@lists.freedesktop.org>; Sun,  9 Aug 2020 21:51:56 +0000 (UTC)
Received: by mail-lj1-x244.google.com with SMTP id 185so7523696ljj.7
 for <dri-devel@lists.freedesktop.org>; Sun, 09 Aug 2020 14:51:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=linaro.org; s=google;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=1ByE3BCTHRLC4VafLeXjT5kewKqYMYL9Xds0gaKzSn0=;
 b=JKQgEOLmxT226irsiRGOZ1J71vXPGfImRoAUhL/PXb2UeDlpbopC4V3JSJCbXunHwA
 cwRgCsAPMkcrdzDro8NtBrRfIN04mm/fL1rz9kv97hzMFfBxzY8Hx5bjFFqxBV3YpeXN
 Uy2EABzO7e9HDgd1cNa9J0LmpdKJdevNDNnRgtl2Q3+kBb1MwdZ8ecJAy5Zk44YjFHXz
 KRtmGo9uBJ8MLczJ9+5Upn2xD4BiKUeCBO6Nq3bp4Zi6pU0gniM8a2i1xPbKOeCwgJ+Y
 irC0KOrYhi2PoV0spECDdAM0M0BvqDUfD3qFhzSCLdIT+t3m/U00iiZ65GcIjkA8uETl
 nczg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=1ByE3BCTHRLC4VafLeXjT5kewKqYMYL9Xds0gaKzSn0=;
 b=KkGLkzAO7AW8GjFmG1XGpeohU/H00RAxR/+LktJ/8D9/b9duy1eHkUxUatxDJgc2ji
 zkgZHeaheQgVRiANSg7cBfnqpLDuXlKmNali2liKTj7Mu51wqJfcKA0ZcF623sAhadG6
 q04/ggDesqYtzInIVIvQ59H9g/eL7EmzHhCKlkwvQyuoi+MO6dYgCAtO4OKT3YuUnWfp
 wox/nArgzyNU587yjd8s0WwyCRsF447PZHh44rXCjzJNeiKgqNHD77VHGCS2HOgCFuvL
 Gkb7OaMelVQCUyLTG3I3BeAmq5c3sQkvgUlx7w8wRvJ+uOFfSHzpUNQwFUbyjPDinVkE
 fWFw==
X-Gm-Message-State: AOAM533iXZST/O8kDytziK4oPfQf5KAgCNXa9YIP3TPJayLBiEwzGlmb
 jAo5EmELFoyRA6kxJC2yirUC5g==
X-Google-Smtp-Source: ABdhPJxwZC5M+Ad+SCLxEO09H6LTvYgtwz/KuoLzx2UDB0BuWbd/32dsba3Qd+hiaIer1hGF+a9rDQ==
X-Received: by 2002:a2e:b814:: with SMTP id u20mr10544600ljo.202.1597009915326; 
 Sun, 09 Aug 2020 14:51:55 -0700 (PDT)
Received: from localhost.bredbandsbolaget
 (c-92d7225c.014-348-6c756e10.bbcust.telenor.se. [92.34.215.146])
 by smtp.gmail.com with ESMTPSA id t20sm8277045ljd.12.2020.08.09.14.51.54
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Sun, 09 Aug 2020 14:51:54 -0700 (PDT)
From: Linus Walleij <linus.walleij@linaro.org>
To: Thierry Reding <thierry.reding@gmail.com>, Sam Ravnborg <sam@ravnborg.org>,
 Stephan Gerhold <stephan@gerhold.net>,
 =?UTF-8?q?Pawe=C5=82=20Chmiel?= <pawel.mikolaj.chmiel@gmail.com>
Subject: [PATCH 3/4] drm/panel: s6e63m0: Add reading functionality
Date: Sun,  9 Aug 2020 23:51:03 +0200
Message-Id: <20200809215104.1830206-4-linus.walleij@linaro.org>
X-Mailer: git-send-email 2.26.2
In-Reply-To: <20200809215104.1830206-1-linus.walleij@linaro.org>
References: <20200809215104.1830206-1-linus.walleij@linaro.org>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhpcyBhZGRzIGNvZGUgdG8gc2VuZCByZWFkIGNvbW1hbmRzIHRvIHJlYWQgYSBzaW5nbGUKYnl0
ZSBmcm9tIHRoZSBkaXNwbGF5LCBpbiBvcmRlciB0byBwZXJmb3JtIE1UUCBJRApsb29rLXVwIG9m
IHRoZSBtb3VudGVkIHBhbmVsIG9uIHRoZSBzNmU2M20wIGNvbnRyb2xsZXIuClRoaXMgaXMgbmVl
ZGVkIGZvciBwcm9wZXIgYmlhc2luZyBvbiB0aGUgRFNJIHZhcmlhbnRzLgoKQ2M6IFN0ZXBoYW4g
R2VyaG9sZCA8c3RlcGhhbkBnZXJob2xkLm5ldD4KQ2M6IFBhd2XFgiBDaG1pZWwgPHBhd2VsLm1p
a29sYWouY2htaWVsQGdtYWlsLmNvbT4KU2lnbmVkLW9mZi1ieTogTGludXMgV2FsbGVpaiA8bGlu
dXMud2FsbGVpakBsaW5hcm8ub3JnPgotLS0KIC4uLi9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1
bmctczZlNjNtMC1kc2kuYyB8IDE5ICsrKysrKysrKysrKysrKysrKy0KIC4uLi9ncHUvZHJtL3Bh
bmVsL3BhbmVsLXNhbXN1bmctczZlNjNtMC1zcGkuYyB8IDE0ICsrKysrKysrKysrKystCiBkcml2
ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ftc3VuZy1zNmU2M20wLmMgfCAxMSArKysrKysrKysr
KwogZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZlNjNtMC5oIHwgIDEgKwog
NCBmaWxlcyBjaGFuZ2VkLCA0MyBpbnNlcnRpb25zKCspLCAyIGRlbGV0aW9ucygtKQoKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZTYzbTAtZHNpLmMg
Yi9kcml2ZXJzL2dwdS9kcm0vcGFuZWwvcGFuZWwtc2Ftc3VuZy1zNmU2M20wLWRzaS5jCmluZGV4
IGY0OTI3YTZjZTI2ZC4uMmVjOWU3OTAwNzkxIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
cGFuZWwvcGFuZWwtc2Ftc3VuZy1zNmU2M20wLWRzaS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9w
YW5lbC9wYW5lbC1zYW1zdW5nLXM2ZTYzbTAtZHNpLmMKQEAgLTE2LDYgKzE2LDIyIEBACiAjZGVm
aW5lIE1DU19HTE9CQUxfUEFSQU0JMHhiMAogI2RlZmluZSBTNkU2M00wX0RTSV9NQVhfQ0hVTksJ
MTUgLyogQ01EICsgMTUgYnl0ZXMgbWF4ICovCiAKK3N0YXRpYyBpbnQgczZlNjNtMF9kc2lfZGNz
X3JlYWQoc3RydWN0IGRldmljZSAqZGV2LCBjb25zdCB1OCBjbWQsIHU4ICpkYXRhKQoreworCXN0
cnVjdCBtaXBpX2RzaV9kZXZpY2UgKmRzaSA9IHRvX21pcGlfZHNpX2RldmljZShkZXYpOworCWlu
dCByZXQ7CisKKwlyZXQgPSBtaXBpX2RzaV9kY3NfcmVhZChkc2ksIGNtZCwgZGF0YSwgMSk7CisJ
aWYgKHJldCA8IDApIHsKKwkJRFJNX0RFVl9FUlJPUihkZXYsICJjb3VsZCBub3QgcmVhZCBEQ1Mg
Q01EICUwMnhcbiIsIGNtZCk7CisJCXJldHVybiByZXQ7CisJfQorCisJRFJNX0RFVl9JTkZPKGRl
diwgIkRTSSByZWFkIENNRCAlMDJ4ID0gJTAyeFxuIiwgY21kLCAqZGF0YSk7CisKKwlyZXR1cm4g
MDsKK30KKwogc3RhdGljIGludCBzNmU2M20wX2RzaV9kY3Nfd3JpdGUoc3RydWN0IGRldmljZSAq
ZGV2LCBjb25zdCB1OCAqZGF0YSwgc2l6ZV90IGxlbikKIHsKIAlzdHJ1Y3QgbWlwaV9kc2lfZGV2
aWNlICpkc2kgPSB0b19taXBpX2RzaV9kZXZpY2UoZGV2KTsKQEAgLTkwLDcgKzEwNiw4IEBAIHN0
YXRpYyBpbnQgczZlNjNtMF9kc2lfcHJvYmUoc3RydWN0IG1pcGlfZHNpX2RldmljZSAqZHNpKQog
CQlNSVBJX0RTSV9NT0RFX0VPVF9QQUNLRVQgfAogCQlNSVBJX0RTSV9NT0RFX1ZJREVPX0JVUlNU
OwogCi0JcmV0ID0gczZlNjNtMF9wcm9iZShkZXYsIHM2ZTYzbTBfZHNpX2Rjc193cml0ZSwgdHJ1
ZSk7CisJcmV0ID0gczZlNjNtMF9wcm9iZShkZXYsIHM2ZTYzbTBfZHNpX2Rjc19yZWFkLCBzNmU2
M20wX2RzaV9kY3Nfd3JpdGUsCisJCQkgICAgdHJ1ZSk7CiAJaWYgKHJldCkKIAkJcmV0dXJuIHJl
dDsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZl
NjNtMC1zcGkuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZTYzbTAt
c3BpLmMKaW5kZXggMDU4N2VhYzUyZjJhLi4zYjFhMmEzYTQ0ZWEgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZTYzbTAtc3BpLmMKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNhbXN1bmctczZlNjNtMC1zcGkuYwpAQCAtMTEsNiArMTEs
MTcgQEAKIAogI2RlZmluZSBEQVRBX01BU0sJMHgxMDAKIAorc3RhdGljIGludCBzNmU2M20wX3Nw
aV9kY3NfcmVhZChzdHJ1Y3QgZGV2aWNlICpkZXYsIGNvbnN0IHU4IGNtZCwgdTggKmRhdGEpCit7
CisJLyoKKwkgKiBGSVhNRTogaW1wbGVtZW50IHJlYWRpbmcgRENTIGNvbW1hbmRzIG92ZXIgU1BJ
IHNvIHdlIGNhbgorCSAqIHByb3Blcmx5IGlkZW50aWZ5IHdoaWNoIHBoeXNpY2FsIHBhbmVsIGlz
IGNvbm5lY3RlZC4KKwkgKi8KKwkqZGF0YSA9IDA7CisKKwlyZXR1cm4gMDsKK30KKwogc3RhdGlj
IGludCBzNmU2M20wX3NwaV93cml0ZV93b3JkKHN0cnVjdCBkZXZpY2UgKmRldiwgdTE2IGRhdGEp
CiB7CiAJc3RydWN0IHNwaV9kZXZpY2UgKnNwaSA9IHRvX3NwaV9kZXZpY2UoZGV2KTsKQEAgLTYw
LDcgKzcxLDggQEAgc3RhdGljIGludCBzNmU2M20wX3NwaV9wcm9iZShzdHJ1Y3Qgc3BpX2Rldmlj
ZSAqc3BpKQogCQlEUk1fREVWX0VSUk9SKGRldiwgInNwaSBzZXR1cCBmYWlsZWQuXG4iKTsKIAkJ
cmV0dXJuIHJldDsKIAl9Ci0JcmV0dXJuIHM2ZTYzbTBfcHJvYmUoZGV2LCBzNmU2M20wX3NwaV9k
Y3Nfd3JpdGUsIGZhbHNlKTsKKwlyZXR1cm4gczZlNjNtMF9wcm9iZShkZXYsIHM2ZTYzbTBfc3Bp
X2Rjc19yZWFkLCBzNmU2M20wX3NwaV9kY3Nfd3JpdGUsCisJCQkgICAgIGZhbHNlKTsKIH0KIAog
c3RhdGljIGludCBzNmU2M20wX3NwaV9yZW1vdmUoc3RydWN0IHNwaV9kZXZpY2UgKnNwaSkKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZTYzbTAuYyBi
L2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZTYzbTAuYwppbmRleCBjNmQx
N2U5Mzg5NTUuLmIyNTAyMWJkZDcyNCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVs
L3BhbmVsLXNhbXN1bmctczZlNjNtMC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5l
bC1zYW1zdW5nLXM2ZTYzbTAuYwpAQCAtODcsNiArODcsNyBAQCBzdGF0aWMgdTggY29uc3QgczZl
NjNtMF9nYW1tYV8yMltOVU1fR0FNTUFfTEVWRUxTXVtHQU1NQV9UQUJMRV9DT1VOVF0gPSB7CiAK
IHN0cnVjdCBzNmU2M20wIHsKIAlzdHJ1Y3QgZGV2aWNlICpkZXY7CisJaW50ICgqZGNzX3JlYWQp
KHN0cnVjdCBkZXZpY2UgKmRldiwgY29uc3QgdTggY21kLCB1OCAqdmFsKTsKIAlpbnQgKCpkY3Nf
d3JpdGUpKHN0cnVjdCBkZXZpY2UgKmRldiwgY29uc3QgdTggKmRhdGEsIHNpemVfdCBsZW4pOwog
CXN0cnVjdCBkcm1fcGFuZWwgcGFuZWw7CiAJc3RydWN0IGJhY2tsaWdodF9kZXZpY2UgKmJsX2Rl
djsKQEAgLTEzNiw2ICsxMzcsMTQgQEAgc3RhdGljIGludCBzNmU2M20wX2NsZWFyX2Vycm9yKHN0
cnVjdCBzNmU2M20wICpjdHgpCiAJcmV0dXJuIHJldDsKIH0KIAorc3RhdGljIHZvaWQgczZlNjNt
MF9kY3NfcmVhZChzdHJ1Y3QgczZlNjNtMCAqY3R4LCBjb25zdCB1OCBjbWQsIHU4ICpkYXRhKQor
eworCWlmIChjdHgtPmVycm9yIDwgMCkKKwkJcmV0dXJuOworCisJY3R4LT5lcnJvciA9IGN0eC0+
ZGNzX3JlYWQoY3R4LT5kZXYsIGNtZCwgZGF0YSk7Cit9CisKIHN0YXRpYyB2b2lkIHM2ZTYzbTBf
ZGNzX3dyaXRlKHN0cnVjdCBzNmU2M20wICpjdHgsIGNvbnN0IHU4ICpkYXRhLCBzaXplX3QgbGVu
KQogewogCWlmIChjdHgtPmVycm9yIDwgMCB8fCBsZW4gPT0gMCkKQEAgLTQwMyw2ICs0MTIsNyBA
QCBzdGF0aWMgaW50IHM2ZTYzbTBfYmFja2xpZ2h0X3JlZ2lzdGVyKHN0cnVjdCBzNmU2M20wICpj
dHgpCiB9CiAKIGludCBzNmU2M20wX3Byb2JlKHN0cnVjdCBkZXZpY2UgKmRldiwKKwkJICBpbnQg
KCpkY3NfcmVhZCkoc3RydWN0IGRldmljZSAqZGV2LCBjb25zdCB1OCBjbWQsIHU4ICp2YWwpLAog
CQkgIGludCAoKmRjc193cml0ZSkoc3RydWN0IGRldmljZSAqZGV2LCBjb25zdCB1OCAqZGF0YSwg
c2l6ZV90IGxlbiksCiAJCSAgYm9vbCBkc2lfbW9kZSkKIHsKQEAgLTQxMyw2ICs0MjMsNyBAQCBp
bnQgczZlNjNtMF9wcm9iZShzdHJ1Y3QgZGV2aWNlICpkZXYsCiAJaWYgKCFjdHgpCiAJCXJldHVy
biAtRU5PTUVNOwogCisJY3R4LT5kY3NfcmVhZCA9IGRjc19yZWFkOwogCWN0eC0+ZGNzX3dyaXRl
ID0gZGNzX3dyaXRlOwogCWRldl9zZXRfZHJ2ZGF0YShkZXYsIGN0eCk7CiAKZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZTYzbTAuaCBiL2RyaXZlcnMv
Z3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5nLXM2ZTYzbTAuaAppbmRleCAyMjllMjNiMGM5N2Eu
LmM2NjlmZWM5MTc2MyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmVsL3BhbmVsLXNh
bXN1bmctczZlNjNtMC5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5lbC9wYW5lbC1zYW1zdW5n
LXM2ZTYzbTAuaApAQCAtNCw2ICs0LDcgQEAKICNkZWZpbmUgX1BBTkVMX1NBTVNVTkdfUzZFNjNN
MF9ICiAKIGludCBzNmU2M20wX3Byb2JlKHN0cnVjdCBkZXZpY2UgKmRldiwKKwkJICBpbnQgKCpk
Y3NfcmVhZCkoc3RydWN0IGRldmljZSAqZGV2LCBjb25zdCB1OCBjbWQsIHU4ICp2YWwpLAogCQkg
IGludCAoKmRjc193cml0ZSkoc3RydWN0IGRldmljZSAqZGV2LCBjb25zdCB1OCAqZGF0YSwKIAkJ
CQkgICBzaXplX3QgbGVuKSwKIAkJICBib29sIGRzaV9tb2RlKTsKLS0gCjIuMjYuMgoKX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxp
bmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVsCg==
