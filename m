Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id A577411A6CD
	for <lists+dri-devel@lfdr.de>; Wed, 11 Dec 2019 10:21:50 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 9FD8E6EAC4;
	Wed, 11 Dec 2019 09:20:40 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-lj1-x243.google.com (mail-lj1-x243.google.com
 [IPv6:2a00:1450:4864:20::243])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B081A6E155
 for <dri-devel@lists.freedesktop.org>; Tue, 10 Dec 2019 19:14:38 +0000 (UTC)
Received: by mail-lj1-x243.google.com with SMTP id a13so21161979ljm.10
 for <dri-devel@lists.freedesktop.org>; Tue, 10 Dec 2019 11:14:38 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=subject:to:cc:references:from:message-id:date:user-agent
 :mime-version:in-reply-to:content-language:content-transfer-encoding;
 bh=LcYgJRK6vlbBQMpbrP+SqK4lY6q3a7Fw5wUZ+G9FXbo=;
 b=d8hhUnjcdimq2SQPfSxVSXGQqsPBwiEbOzHuiR1DZtXlFnmgUvB6d9yaSU+KNgnTlC
 IuA6yrYtRQjzMCkIZFkxSwhnptYhTm5uNAoHb/UAIL61jTB3YRSnOW5chDzabt2msVjY
 L1xBVb7iZUnO3KA43qV9/yoKHXsNMWkkvmKOdYlBmOADyhRXVY2F00ZUj0IFhFszJbNo
 InW9TTWYsn+zDJc2zAn4aQZZENU+AHAPDfUTzNIKF+eD2vSDOFzy+uoal4YIMCATK6Zr
 qC63q7Jzd6rXsCc7zmzD5yi/RZjn9j5YJFmyTm5UfIWI04/qUUg5fgJFWP5kJjRh16C2
 rLrQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:subject:to:cc:references:from:message-id:date
 :user-agent:mime-version:in-reply-to:content-language
 :content-transfer-encoding;
 bh=LcYgJRK6vlbBQMpbrP+SqK4lY6q3a7Fw5wUZ+G9FXbo=;
 b=CHcqUslGLVsefarPNhYpilepXzbl5LOJoAW9epv5MiYclX5MgK/Iwtj+Zrq4HjzsFb
 XkbuD9tkeyHHM2newjQ0KmMZog0DhARf03SxaV2AqiypatxxLKvSRUDtaNMW/KcMo6CC
 dQegMThIvA7lMfcouw3OFMlmI6bpgZbLRUF3iDhjc1ts4OBMzH5dM0/eOpBduYLBr0AN
 tJjQbTdewa164+IGrpRbBUZBtiLG5nrUgUDKPz4muJQV3hjyAGG1v+SCvzvUzackikC5
 VuKGK+092z4+xiPJfdbQk4XBYnKbmyDJDv/pC9amykAZMizN1n1wu7c+Y/QP5ArxgRnn
 30Hw==
X-Gm-Message-State: APjAAAUzvwcZx6dXtShaOoyKHqB1+15lB2IC8pfGxWDFNnhNGciXybxC
 H3p78gOej53T63cL2ep3LXw=
X-Google-Smtp-Source: APXvYqxyfIgRCtl6qrmay6GM4Hya3QOH2pvkEBCILHhtZ6Qq6eglBtkEf4V57KMW7MMT38pOaDSHEA==
X-Received: by 2002:a2e:81a:: with SMTP id 26mr7172118lji.118.1576005276578;
 Tue, 10 Dec 2019 11:14:36 -0800 (PST)
Received: from [192.168.2.145] (79-139-233-37.dynamic.spd-mgts.ru.
 [79.139.233.37])
 by smtp.googlemail.com with ESMTPSA id m21sm2098655lfh.53.2019.12.10.11.14.35
 (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
 Tue, 10 Dec 2019 11:14:35 -0800 (PST)
Subject: Re: [PATCH v5 2/4] Revert "drm/tegra: Move drm_dp_link helpers to
 Tegra DRM"
To: allen <allen.chen@ite.com.tw>
References: <1575957299-12977-1-git-send-email-allen.chen@ite.com.tw>
 <1575957299-12977-3-git-send-email-allen.chen@ite.com.tw>
From: Dmitry Osipenko <digetx@gmail.com>
Message-ID: <a16e5e64-5f69-e160-571c-492860cbbc45@gmail.com>
Date: Tue, 10 Dec 2019 22:14:34 +0300
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101
 Thunderbird/68.3.0
MIME-Version: 1.0
In-Reply-To: <1575957299-12977-3-git-send-email-allen.chen@ite.com.tw>
Content-Language: en-US
X-Mailman-Approved-At: Wed, 11 Dec 2019 09:20:35 +0000
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Jau-Chih Tseng <Jau-Chih.Tseng@ite.com.tw>, David Airlie <airlied@linux.ie>,
 open list <linux-kernel@vger.kernel.org>,
 Jonathan Hunter <jonathanh@nvidia.com>,
 Thierry Reding <thierry.reding@gmail.com>,
 "open list:DRM DRIVERS" <dri-devel@lists.freedesktop.org>,
 Pi-Hsun Shih <pihsun@chromium.org>,
 "open list:DRM DRIVERS FOR NVIDIA TEGRA" <linux-tegra@vger.kernel.org>,
 Sean Paul <sean@poorly.run>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

MTAuMTIuMjAxOSAwODo1MywgYWxsZW4g0L/QuNGI0LXRgjoKPiBUaGlzIHJldmVydHMgY29tbWl0
IDlhNDJjN2M2NDdhOWFkMGY3ZWJiMTQ3YTUyZWRhM2RjYjdjODQyOTIuCgpDb21taXQgbWVzc3Nh
Z2UgbXVzdCBleHBsYWluIHJlYXNvbiBvZiB0aGUgY2hhbmdlcyBtYWRlIGluIHRoZSBwYXRjaC4K
Cj4gU2lnbmVkLW9mZi1ieTogQWxsZW4gQ2hlbiA8YWxsZW4uY2hlbkBpdGUuY29tLnR3Pgo+IC0t
LQo+ICBkcml2ZXJzL2dwdS9kcm0vZHJtX2RwX2hlbHBlci5jIHwgMTI4ICsrKysrKwo+ICBkcml2
ZXJzL2dwdS9kcm0vdGVncmEvTWFrZWZpbGUgIHwgICAxIC0KPiAgZHJpdmVycy9ncHUvZHJtL3Rl
Z3JhL2RwLmMgICAgICB8IDg3NiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tCj4gIGRyaXZlcnMvZ3B1L2RybS90ZWdyYS9kcC5oICAgICAgfCAxNzcgLS0tLS0tLS0KPiAg
ZHJpdmVycy9ncHUvZHJtL3RlZ3JhL2RwYXV4LmMgICB8ICAgMSAtCj4gIGRyaXZlcnMvZ3B1L2Ry
bS90ZWdyYS9zb3IuYyAgICAgfCAgIDEgLQo+ICBpbmNsdWRlL2RybS9kcm1fZHBfaGVscGVyLmgg
ICAgIHwgIDE2ICsKPiAgNyBmaWxlcyBjaGFuZ2VkLCAxNDQgaW5zZXJ0aW9ucygrKSwgMTA1NiBk
ZWxldGlvbnMoLSkKPiAgZGVsZXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS90ZWdyYS9k
cC5jCj4gIGRlbGV0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vdGVncmEvZHAuaAo+IAo+
IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vZHJtX2RwX2hlbHBlci5jIGIvZHJpdmVycy9n
cHUvZHJtL2RybV9kcF9oZWxwZXIuYwo+IGluZGV4IDJjNzg3MGEuLmY1NjcxNDEgMTAwNjQ0Cj4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2RybV9kcF9oZWxwZXIuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1
L2RybS9kcm1fZHBfaGVscGVyLmMKPiBAQCAtMzUyLDYgKzM1MiwxMzQgQEAgaW50IGRybV9kcF9k
cGNkX3JlYWRfbGlua19zdGF0dXMoc3RydWN0IGRybV9kcF9hdXggKmF1eCwKPiAgRVhQT1JUX1NZ
TUJPTChkcm1fZHBfZHBjZF9yZWFkX2xpbmtfc3RhdHVzKTsKPiAgCj4gIC8qKgo+ICsgKiBkcm1f
ZHBfbGlua19wcm9iZSgpIC0gcHJvYmUgYSBEaXNwbGF5UG9ydCBsaW5rIGZvciBjYXBhYmlsaXRp
ZXMKPiArICogQGF1eDogRGlzcGxheVBvcnQgQVVYIGNoYW5uZWwKPiArICogQGxpbms6IHBvaW50
ZXIgdG8gc3RydWN0dXJlIGluIHdoaWNoIHRvIHJldHVybiBsaW5rIGNhcGFiaWxpdGllcwo+ICsg
Kgo+ICsgKiBUaGUgc3RydWN0dXJlIGZpbGxlZCBpbiBieSB0aGlzIGZ1bmN0aW9uIGNhbiB1c3Vh
bGx5IGJlIHBhc3NlZCBkaXJlY3RseQo+ICsgKiBpbnRvIGRybV9kcF9saW5rX3Bvd2VyX3VwKCkg
YW5kIGRybV9kcF9saW5rX2NvbmZpZ3VyZSgpIHRvIHBvd2VyIHVwIGFuZAo+ICsgKiBjb25maWd1
cmUgdGhlIGxpbmsgYmFzZWQgb24gdGhlIGxpbmsncyBjYXBhYmlsaXRpZXMuCj4gKyAqCj4gKyAq
IFJldHVybnMgMCBvbiBzdWNjZXNzIG9yIGEgbmVnYXRpdmUgZXJyb3IgY29kZSBvbiBmYWlsdXJl
Lgo+ICsgKi8KPiAraW50IGRybV9kcF9saW5rX3Byb2JlKHN0cnVjdCBkcm1fZHBfYXV4ICphdXgs
IHN0cnVjdCBkcm1fZHBfbGluayAqbGluaykKPiArewo+ICsJdTggdmFsdWVzWzNdOwo+ICsJaW50
IGVycjsKPiArCj4gKwltZW1zZXQobGluaywgMCwgc2l6ZW9mKCpsaW5rKSk7Cj4gKwo+ICsJZXJy
ID0gZHJtX2RwX2RwY2RfcmVhZChhdXgsIERQX0RQQ0RfUkVWLCB2YWx1ZXMsIHNpemVvZih2YWx1
ZXMpKTsKPiArCWlmIChlcnIgPCAwKQo+ICsJCXJldHVybiBlcnI7Cj4gKwo+ICsJbGluay0+cmV2
aXNpb24gPSB2YWx1ZXNbMF07Cj4gKwlsaW5rLT5yYXRlID0gZHJtX2RwX2J3X2NvZGVfdG9fbGlu
a19yYXRlKHZhbHVlc1sxXSk7Cj4gKwlsaW5rLT5udW1fbGFuZXMgPSB2YWx1ZXNbMl0gJiBEUF9N
QVhfTEFORV9DT1VOVF9NQVNLOwo+ICsKPiArCWlmICh2YWx1ZXNbMl0gJiBEUF9FTkhBTkNFRF9G
UkFNRV9DQVApCj4gKwkJbGluay0+Y2FwYWJpbGl0aWVzIHw9IERQX0xJTktfQ0FQX0VOSEFOQ0VE
X0ZSQU1JTkc7Cj4gKwo+ICsJcmV0dXJuIDA7Cj4gK30KPiArRVhQT1JUX1NZTUJPTChkcm1fZHBf
bGlua19wcm9iZSk7Cj4gKwo+ICsvKioKPiArICogZHJtX2RwX2xpbmtfcG93ZXJfdXAoKSAtIHBv
d2VyIHVwIGEgRGlzcGxheVBvcnQgbGluawo+ICsgKiBAYXV4OiBEaXNwbGF5UG9ydCBBVVggY2hh
bm5lbAo+ICsgKiBAbGluazogcG9pbnRlciB0byBhIHN0cnVjdHVyZSBjb250YWluaW5nIHRoZSBs
aW5rIGNvbmZpZ3VyYXRpb24KPiArICoKPiArICogUmV0dXJucyAwIG9uIHN1Y2Nlc3Mgb3IgYSBu
ZWdhdGl2ZSBlcnJvciBjb2RlIG9uIGZhaWx1cmUuCj4gKyAqLwo+ICtpbnQgZHJtX2RwX2xpbmtf
cG93ZXJfdXAoc3RydWN0IGRybV9kcF9hdXggKmF1eCwgc3RydWN0IGRybV9kcF9saW5rICpsaW5r
KQo+ICt7Cj4gKwl1OCB2YWx1ZTsKPiArCWludCBlcnI7Cj4gKwo+ICsJLyogRFBfU0VUX1BPV0VS
IHJlZ2lzdGVyIGlzIG9ubHkgYXZhaWxhYmxlIG9uIERQQ0QgdjEuMSBhbmQgbGF0ZXIgKi8KPiAr
CWlmIChsaW5rLT5yZXZpc2lvbiA8IDB4MTEpCj4gKwkJcmV0dXJuIDA7Cj4gKwo+ICsJZXJyID0g
ZHJtX2RwX2RwY2RfcmVhZGIoYXV4LCBEUF9TRVRfUE9XRVIsICZ2YWx1ZSk7Cj4gKwlpZiAoZXJy
IDwgMCkKPiArCQlyZXR1cm4gZXJyOwo+ICsKPiArCXZhbHVlICY9IH5EUF9TRVRfUE9XRVJfTUFT
SzsKPiArCXZhbHVlIHw9IERQX1NFVF9QT1dFUl9EMDsKPiArCj4gKwllcnIgPSBkcm1fZHBfZHBj
ZF93cml0ZWIoYXV4LCBEUF9TRVRfUE9XRVIsIHZhbHVlKTsKPiArCWlmIChlcnIgPCAwKQo+ICsJ
CXJldHVybiBlcnI7Cj4gKwo+ICsJLyoKPiArCSAqIEFjY29yZGluZyB0byB0aGUgRFAgMS4xIHNw
ZWNpZmljYXRpb24sIGEgIlNpbmsgRGV2aWNlIG11c3QgZXhpdCB0aGUKPiArCSAqIHBvd2VyIHNh
dmluZyBzdGF0ZSB3aXRoaW4gMSBtcyIgKFNlY3Rpb24gMi41LjMuMSwgVGFibGUgNS01MiwgIlNp
bmsKPiArCSAqIENvbnRyb2wgRmllbGQiIChyZWdpc3RlciAweDYwMCkuCj4gKwkgKi8KPiArCXVz
bGVlcF9yYW5nZSgxMDAwLCAyMDAwKTsKPiArCj4gKwlyZXR1cm4gMDsKPiArfQo+ICtFWFBPUlRf
U1lNQk9MKGRybV9kcF9saW5rX3Bvd2VyX3VwKTsKPiArCj4gKy8qKgo+ICsgKiBkcm1fZHBfbGlu
a19wb3dlcl9kb3duKCkgLSBwb3dlciBkb3duIGEgRGlzcGxheVBvcnQgbGluawo+ICsgKiBAYXV4
OiBEaXNwbGF5UG9ydCBBVVggY2hhbm5lbAo+ICsgKiBAbGluazogcG9pbnRlciB0byBhIHN0cnVj
dHVyZSBjb250YWluaW5nIHRoZSBsaW5rIGNvbmZpZ3VyYXRpb24KPiArICoKPiArICogUmV0dXJu
cyAwIG9uIHN1Y2Nlc3Mgb3IgYSBuZWdhdGl2ZSBlcnJvciBjb2RlIG9uIGZhaWx1cmUuCj4gKyAq
Lwo+ICtpbnQgZHJtX2RwX2xpbmtfcG93ZXJfZG93bihzdHJ1Y3QgZHJtX2RwX2F1eCAqYXV4LCBz
dHJ1Y3QgZHJtX2RwX2xpbmsgKmxpbmspCj4gK3sKPiArCXU4IHZhbHVlOwo+ICsJaW50IGVycjsK
PiArCj4gKwkvKiBEUF9TRVRfUE9XRVIgcmVnaXN0ZXIgaXMgb25seSBhdmFpbGFibGUgb24gRFBD
RCB2MS4xIGFuZCBsYXRlciAqLwo+ICsJaWYgKGxpbmstPnJldmlzaW9uIDwgMHgxMSkKPiArCQly
ZXR1cm4gMDsKPiArCj4gKwllcnIgPSBkcm1fZHBfZHBjZF9yZWFkYihhdXgsIERQX1NFVF9QT1dF
UiwgJnZhbHVlKTsKPiArCWlmIChlcnIgPCAwKQo+ICsJCXJldHVybiBlcnI7Cj4gKwo+ICsJdmFs
dWUgJj0gfkRQX1NFVF9QT1dFUl9NQVNLOwo+ICsJdmFsdWUgfD0gRFBfU0VUX1BPV0VSX0QzOwo+
ICsKPiArCWVyciA9IGRybV9kcF9kcGNkX3dyaXRlYihhdXgsIERQX1NFVF9QT1dFUiwgdmFsdWUp
Owo+ICsJaWYgKGVyciA8IDApCj4gKwkJcmV0dXJuIGVycjsKPiArCj4gKwlyZXR1cm4gMDsKPiAr
fQo+ICtFWFBPUlRfU1lNQk9MKGRybV9kcF9saW5rX3Bvd2VyX2Rvd24pOwo+ICsKPiArLyoqCj4g
KyAqIGRybV9kcF9saW5rX2NvbmZpZ3VyZSgpIC0gY29uZmlndXJlIGEgRGlzcGxheVBvcnQgbGlu
awo+ICsgKiBAYXV4OiBEaXNwbGF5UG9ydCBBVVggY2hhbm5lbAo+ICsgKiBAbGluazogcG9pbnRl
ciB0byBhIHN0cnVjdHVyZSBjb250YWluaW5nIHRoZSBsaW5rIGNvbmZpZ3VyYXRpb24KPiArICoK
PiArICogUmV0dXJucyAwIG9uIHN1Y2Nlc3Mgb3IgYSBuZWdhdGl2ZSBlcnJvciBjb2RlIG9uIGZh
aWx1cmUuCj4gKyAqLwo+ICtpbnQgZHJtX2RwX2xpbmtfY29uZmlndXJlKHN0cnVjdCBkcm1fZHBf
YXV4ICphdXgsIHN0cnVjdCBkcm1fZHBfbGluayAqbGluaykKPiArewo+ICsJdTggdmFsdWVzWzJd
Owo+ICsJaW50IGVycjsKPiArCj4gKwl2YWx1ZXNbMF0gPSBkcm1fZHBfbGlua19yYXRlX3RvX2J3
X2NvZGUobGluay0+cmF0ZSk7Cj4gKwl2YWx1ZXNbMV0gPSBsaW5rLT5udW1fbGFuZXM7Cj4gKwo+
ICsJaWYgKGxpbmstPmNhcGFiaWxpdGllcyAmIERQX0xJTktfQ0FQX0VOSEFOQ0VEX0ZSQU1JTkcp
Cj4gKwkJdmFsdWVzWzFdIHw9IERQX0xBTkVfQ09VTlRfRU5IQU5DRURfRlJBTUVfRU47Cj4gKwo+
ICsJZXJyID0gZHJtX2RwX2RwY2Rfd3JpdGUoYXV4LCBEUF9MSU5LX0JXX1NFVCwgdmFsdWVzLCBz
aXplb2YodmFsdWVzKSk7Cj4gKwlpZiAoZXJyIDwgMCkKPiArCQlyZXR1cm4gZXJyOwo+ICsKPiAr
CXJldHVybiAwOwo+ICt9Cj4gK0VYUE9SVF9TWU1CT0woZHJtX2RwX2xpbmtfY29uZmlndXJlKTsK
PiArCj4gKy8qKgo+ICAgKiBkcm1fZHBfZG93bnN0cmVhbV9tYXhfY2xvY2soKSAtIGV4dHJhY3Qg
YnJhbmNoIGRldmljZSBtYXgKPiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBw
aXhlbCByYXRlIGZvciBsZWdhY3kgVkdBCj4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgY29udmVydGVyIG9yIG1heCBUTURTIGNsb2NrCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS90ZWdyYS9NYWtlZmlsZSBiL2RyaXZlcnMvZ3B1L2RybS90ZWdyYS9NYWtlZmlsZQo+
IGluZGV4IGQ2Y2YyMDIuLjMzYzQ2M2UgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3Rl
Z3JhL01ha2VmaWxlCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3RlZ3JhL01ha2VmaWxlCj4gQEAg
LTUsNyArNSw2IEBAIHRlZ3JhLWRybS15IDo9IFwKPiAgCWRybS5vIFwKPiAgCWdlbS5vIFwKPiAg
CWZiLm8gXAo+IC0JZHAubyBcCj4gIAlodWIubyBcCj4gIAlwbGFuZS5vIFwKPiAgCWRjLm8gXAo+
IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdGVncmEvZHAuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS90ZWdyYS9kcC5jCj4gZGVsZXRlZCBmaWxlIG1vZGUgMTAwNjQ0Cj4gaW5kZXggNzBkZmI3ZC4u
MDAwMDAwMDAKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vdGVncmEvZHAuYwo+ICsrKyAvZGV2L251
bGwKPiBAQCAtMSw4NzYgKzAsMCBAQAo+IC0vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlU
Cj4gLS8qCj4gLSAqIENvcHlyaWdodCAoQykgMjAxMy0yMDE5IE5WSURJQSBDb3Jwb3JhdGlvbgo+
IC0gKiBDb3B5cmlnaHQgKEMpIDIwMTUgUm9iIENsYXJrCj4gLSAqLwo+IC0KPiAtI2luY2x1ZGUg
PGRybS9kcm1fY3J0Yy5oPgo+IC0jaW5jbHVkZSA8ZHJtL2RybV9kcF9oZWxwZXIuaD4KPiAtI2lu
Y2x1ZGUgPGRybS9kcm1fcHJpbnQuaD4KPiAtCj4gLSNpbmNsdWRlICJkcC5oIgo+IC0KPiAtc3Rh
dGljIGNvbnN0IHU4IGRybV9kcF9lZHBfcmV2aXNpb25zW10gPSB7IDB4MTEsIDB4MTIsIDB4MTMs
IDB4MTQgfTsKPiAtCj4gLXN0YXRpYyB2b2lkIGRybV9kcF9saW5rX2NhcHNfcmVzZXQoc3RydWN0
IGRybV9kcF9saW5rX2NhcHMgKmNhcHMpCj4gLXsKPiAtCWNhcHMtPmVuaGFuY2VkX2ZyYW1pbmcg
PSBmYWxzZTsKPiAtCWNhcHMtPnRwczNfc3VwcG9ydGVkID0gZmFsc2U7Cj4gLQljYXBzLT5mYXN0
X3RyYWluaW5nID0gZmFsc2U7Cj4gLQljYXBzLT5jaGFubmVsX2NvZGluZyA9IGZhbHNlOwo+IC0J
Y2Fwcy0+YWx0ZXJuYXRlX3NjcmFtYmxlcl9yZXNldCA9IGZhbHNlOwo+IC19Cj4gLQo+IC12b2lk
IGRybV9kcF9saW5rX2NhcHNfY29weShzdHJ1Y3QgZHJtX2RwX2xpbmtfY2FwcyAqZGVzdCwKPiAt
CQkJICAgY29uc3Qgc3RydWN0IGRybV9kcF9saW5rX2NhcHMgKnNyYykKPiAtewo+IC0JZGVzdC0+
ZW5oYW5jZWRfZnJhbWluZyA9IHNyYy0+ZW5oYW5jZWRfZnJhbWluZzsKPiAtCWRlc3QtPnRwczNf
c3VwcG9ydGVkID0gc3JjLT50cHMzX3N1cHBvcnRlZDsKPiAtCWRlc3QtPmZhc3RfdHJhaW5pbmcg
PSBzcmMtPmZhc3RfdHJhaW5pbmc7Cj4gLQlkZXN0LT5jaGFubmVsX2NvZGluZyA9IHNyYy0+Y2hh
bm5lbF9jb2Rpbmc7Cj4gLQlkZXN0LT5hbHRlcm5hdGVfc2NyYW1ibGVyX3Jlc2V0ID0gc3JjLT5h
bHRlcm5hdGVfc2NyYW1ibGVyX3Jlc2V0Owo+IC19Cj4gLQo+IC1zdGF0aWMgdm9pZCBkcm1fZHBf
bGlua19yZXNldChzdHJ1Y3QgZHJtX2RwX2xpbmsgKmxpbmspCj4gLXsKPiAtCXVuc2lnbmVkIGlu
dCBpOwo+IC0KPiAtCWlmICghbGluaykKPiAtCQlyZXR1cm47Cj4gLQo+IC0JbGluay0+cmV2aXNp
b24gPSAwOwo+IC0JbGluay0+bWF4X3JhdGUgPSAwOwo+IC0JbGluay0+bWF4X2xhbmVzID0gMDsK
PiAtCj4gLQlkcm1fZHBfbGlua19jYXBzX3Jlc2V0KCZsaW5rLT5jYXBzKTsKPiAtCWxpbmstPmF1
eF9yZF9pbnRlcnZhbC5jciA9IDA7Cj4gLQlsaW5rLT5hdXhfcmRfaW50ZXJ2YWwuY2UgPSAwOwo+
IC0JbGluay0+ZWRwID0gMDsKPiAtCj4gLQlsaW5rLT5yYXRlID0gMDsKPiAtCWxpbmstPmxhbmVz
ID0gMDsKPiAtCj4gLQlmb3IgKGkgPSAwOyBpIDwgRFBfTUFYX1NVUFBPUlRFRF9SQVRFUzsgaSsr
KQo+IC0JCWxpbmstPnJhdGVzW2ldID0gMDsKPiAtCj4gLQlsaW5rLT5udW1fcmF0ZXMgPSAwOwo+
IC19Cj4gLQo+IC0vKioKPiAtICogZHJtX2RwX2xpbmtfYWRkX3JhdGUoKSAtIGFkZCBhIHJhdGUg
dG8gdGhlIGxpc3Qgb2Ygc3VwcG9ydGVkIHJhdGVzCj4gLSAqIEBsaW5rOiB0aGUgbGluayB0byBh
ZGQgdGhlIHJhdGUgdG8KPiAtICogQHJhdGU6IHRoZSByYXRlIHRvIGFkZAo+IC0gKgo+IC0gKiBB
ZGQgYSBsaW5rIHJhdGUgdG8gdGhlIGxpc3Qgb2Ygc3VwcG9ydGVkIGxpbmsgcmF0ZXMuCj4gLSAq
Cj4gLSAqIFJldHVybnM6Cj4gLSAqIDAgb24gc3VjY2VzcyBvciBvbmUgb2YgdGhlIGZvbGxvd2lu
ZyBuZWdhdGl2ZSBlcnJvciBjb2RlcyBvbiBmYWlsdXJlOgo+IC0gKiAtIEVOT1NQQyBpZiB0aGUg
bWF4aW11bSBudW1iZXIgb2Ygc3VwcG9ydGVkIHJhdGVzIGhhcyBiZWVuIHJlYWNoZWQKPiAtICog
LSBFRVhJU1RTIGlmIHRoZSBsaW5rIGFscmVhZHkgc3VwcG9ydHMgdGhpcyByYXRlCj4gLSAqCj4g
LSAqIFNlZSBhbHNvOgo+IC0gKiBkcm1fZHBfbGlua19yZW1vdmVfcmF0ZSgpCj4gLSAqLwo+IC1p
bnQgZHJtX2RwX2xpbmtfYWRkX3JhdGUoc3RydWN0IGRybV9kcF9saW5rICpsaW5rLCB1bnNpZ25l
ZCBsb25nIHJhdGUpCj4gLXsKPiAtCXVuc2lnbmVkIGludCBpLCBwaXZvdDsKPiAtCj4gLQlpZiAo
bGluay0+bnVtX3JhdGVzID09IERQX01BWF9TVVBQT1JURURfUkFURVMpCj4gLQkJcmV0dXJuIC1F
Tk9TUEM7Cj4gLQo+IC0JZm9yIChwaXZvdCA9IDA7IHBpdm90IDwgbGluay0+bnVtX3JhdGVzOyBw
aXZvdCsrKQo+IC0JCWlmIChyYXRlIDw9IGxpbmstPnJhdGVzW3Bpdm90XSkKPiAtCQkJYnJlYWs7
Cj4gLQo+IC0JaWYgKHBpdm90ICE9IGxpbmstPm51bV9yYXRlcyAmJiByYXRlID09IGxpbmstPnJh
dGVzW3Bpdm90XSkKPiAtCQlyZXR1cm4gLUVFWElTVDsKPiAtCj4gLQlmb3IgKGkgPSBsaW5rLT5u
dW1fcmF0ZXM7IGkgPiBwaXZvdDsgaS0tKQo+IC0JCWxpbmstPnJhdGVzW2ldID0gbGluay0+cmF0
ZXNbaSAtIDFdOwo+IC0KPiAtCWxpbmstPnJhdGVzW3Bpdm90XSA9IHJhdGU7Cj4gLQlsaW5rLT5u
dW1fcmF0ZXMrKzsKPiAtCj4gLQlyZXR1cm4gMDsKPiAtfQo+IC0KPiAtLyoqCj4gLSAqIGRybV9k
cF9saW5rX3JlbW92ZV9yYXRlKCkgLSByZW1vdmUgYSByYXRlIGZyb20gdGhlIGxpc3Qgb2Ygc3Vw
cG9ydGVkIHJhdGVzCj4gLSAqIEBsaW5rOiB0aGUgbGluayBmcm9tIHdoaWNoIHRvIHJlbW92ZSB0
aGUgcmF0ZQo+IC0gKiBAcmF0ZTogdGhlIHJhdGUgdG8gcmVtb3ZlCj4gLSAqCj4gLSAqIFJlbW92
ZXMgYSBsaW5rIHJhdGUgZnJvbSB0aGUgbGlzdCBvZiBzdXBwb3J0ZWQgbGluayByYXRlcy4KPiAt
ICoKPiAtICogUmV0dXJuczoKPiAtICogMCBvbiBzdWNjZXNzIG9yIG9uZSBvZiB0aGUgZm9sbG93
aW5nIG5lZ2F0aXZlIGVycm9yIGNvZGVzIG9uIGZhaWx1cmU6Cj4gLSAqIC0gRUlOVkFMIGlmIHRo
ZSBzcGVjaWZpZWQgcmF0ZSBpcyBub3QgYW1vbmcgdGhlIHN1cHBvcnRlZCByYXRlcwo+IC0gKgo+
IC0gKiBTZWUgYWxzbzoKPiAtICogZHJtX2RwX2xpbmtfYWRkX3JhdGUoKQo+IC0gKi8KPiAtaW50
IGRybV9kcF9saW5rX3JlbW92ZV9yYXRlKHN0cnVjdCBkcm1fZHBfbGluayAqbGluaywgdW5zaWdu
ZWQgbG9uZyByYXRlKQo+IC17Cj4gLQl1bnNpZ25lZCBpbnQgaTsKPiAtCj4gLQlmb3IgKGkgPSAw
OyBpIDwgbGluay0+bnVtX3JhdGVzOyBpKyspCj4gLQkJaWYgKHJhdGUgPT0gbGluay0+cmF0ZXNb
aV0pCj4gLQkJCWJyZWFrOwo+IC0KPiAtCWlmIChpID09IGxpbmstPm51bV9yYXRlcykKPiAtCQly
ZXR1cm4gLUVJTlZBTDsKPiAtCj4gLQlsaW5rLT5udW1fcmF0ZXMtLTsKPiAtCj4gLQl3aGlsZSAo
aSA8IGxpbmstPm51bV9yYXRlcykgewo+IC0JCWxpbmstPnJhdGVzW2ldID0gbGluay0+cmF0ZXNb
aSArIDFdOwo+IC0JCWkrKzsKPiAtCX0KPiAtCj4gLQlyZXR1cm4gMDsKPiAtfQo+IC0KPiAtLyoq
Cj4gLSAqIGRybV9kcF9saW5rX3VwZGF0ZV9yYXRlcygpIC0gbm9ybWFsaXplIHRoZSBzdXBwb3J0
ZWQgbGluayByYXRlcyBhcnJheQo+IC0gKiBAbGluazogdGhlIGxpbmsgZm9yIHdoaWNoIHRvIG5v
cm1hbGl6ZSB0aGUgc3VwcG9ydGVkIGxpbmsgcmF0ZXMKPiAtICoKPiAtICogVXNlcnMgc2hvdWxk
IGNhbGwgdGhpcyBmdW5jdGlvbiBhZnRlciB0aGV5J3ZlIG1hbnVhbGx5IG1vZGlmaWVkIHRoZSBh
cnJheQo+IC0gKiBvZiBzdXBwb3J0ZWQgbGluayByYXRlcy4gVGhpcyBmdW5jdGlvbiByZW1vdmVz
IGFueSBzdGFsZSBlbnRyaWVzLCBjb21wYWN0cwo+IC0gKiB0aGUgYXJyYXkgYW5kIHVwZGF0ZXMg
dGhlIHN1cHBvcnRlZCBsaW5rIHJhdGUgY291bnQuIE5vdGUgdGhhdCBjYWxsaW5nIHRoZQo+IC0g
KiBkcm1fZHBfbGlua19yZW1vdmVfcmF0ZSgpIGZ1bmN0aW9uIGFscmVhZHkgZG9lcyB0aGlzIGph
bml0b3JpYWwgd29yay4KPiAtICoKPiAtICogU2VlIGFsc286Cj4gLSAqIGRybV9kcF9saW5rX2Fk
ZF9yYXRlKCksIGRybV9kcF9saW5rX3JlbW92ZV9yYXRlKCkKPiAtICovCj4gLXZvaWQgZHJtX2Rw
X2xpbmtfdXBkYXRlX3JhdGVzKHN0cnVjdCBkcm1fZHBfbGluayAqbGluaykKPiAtewo+IC0JdW5z
aWduZWQgaW50IGksIGNvdW50ID0gMDsKPiAtCj4gLQlmb3IgKGkgPSAwOyBpIDwgbGluay0+bnVt
X3JhdGVzOyBpKyspIHsKPiAtCQlpZiAobGluay0+cmF0ZXNbaV0gIT0gMCkKPiAtCQkJbGluay0+
cmF0ZXNbY291bnQrK10gPSBsaW5rLT5yYXRlc1tpXTsKPiAtCX0KPiAtCj4gLQlmb3IgKGkgPSBj
b3VudDsgaSA8IGxpbmstPm51bV9yYXRlczsgaSsrKQo+IC0JCWxpbmstPnJhdGVzW2ldID0gMDsK
PiAtCj4gLQlsaW5rLT5udW1fcmF0ZXMgPSBjb3VudDsKPiAtfQo+IC0KPiAtLyoqCj4gLSAqIGRy
bV9kcF9saW5rX3Byb2JlKCkgLSBwcm9iZSBhIERpc3BsYXlQb3J0IGxpbmsgZm9yIGNhcGFiaWxp
dGllcwo+IC0gKiBAYXV4OiBEaXNwbGF5UG9ydCBBVVggY2hhbm5lbAo+IC0gKiBAbGluazogcG9p
bnRlciB0byBzdHJ1Y3R1cmUgaW4gd2hpY2ggdG8gcmV0dXJuIGxpbmsgY2FwYWJpbGl0aWVzCj4g
LSAqCj4gLSAqIFRoZSBzdHJ1Y3R1cmUgZmlsbGVkIGluIGJ5IHRoaXMgZnVuY3Rpb24gY2FuIHVz
dWFsbHkgYmUgcGFzc2VkIGRpcmVjdGx5Cj4gLSAqIGludG8gZHJtX2RwX2xpbmtfcG93ZXJfdXAo
KSBhbmQgZHJtX2RwX2xpbmtfY29uZmlndXJlKCkgdG8gcG93ZXIgdXAgYW5kCj4gLSAqIGNvbmZp
Z3VyZSB0aGUgbGluayBiYXNlZCBvbiB0aGUgbGluaydzIGNhcGFiaWxpdGllcy4KPiAtICoKPiAt
ICogUmV0dXJucyAwIG9uIHN1Y2Nlc3Mgb3IgYSBuZWdhdGl2ZSBlcnJvciBjb2RlIG9uIGZhaWx1
cmUuCj4gLSAqLwo+IC1pbnQgZHJtX2RwX2xpbmtfcHJvYmUoc3RydWN0IGRybV9kcF9hdXggKmF1
eCwgc3RydWN0IGRybV9kcF9saW5rICpsaW5rKQo+IC17Cj4gLQl1OCBkcGNkW0RQX1JFQ0VJVkVS
X0NBUF9TSVpFXSwgdmFsdWU7Cj4gLQl1bnNpZ25lZCBpbnQgcmRfaW50ZXJ2YWw7Cj4gLQlpbnQg
ZXJyOwo+IC0KPiAtCWRybV9kcF9saW5rX3Jlc2V0KGxpbmspOwo+IC0KPiAtCWVyciA9IGRybV9k
cF9kcGNkX3JlYWQoYXV4LCBEUF9EUENEX1JFViwgZHBjZCwgc2l6ZW9mKGRwY2QpKTsKPiAtCWlm
IChlcnIgPCAwKQo+IC0JCXJldHVybiBlcnI7Cj4gLQo+IC0JbGluay0+cmV2aXNpb24gPSBkcGNk
W0RQX0RQQ0RfUkVWXTsKPiAtCWxpbmstPm1heF9yYXRlID0gZHJtX2RwX21heF9saW5rX3JhdGUo
ZHBjZCk7Cj4gLQlsaW5rLT5tYXhfbGFuZXMgPSBkcm1fZHBfbWF4X2xhbmVfY291bnQoZHBjZCk7
Cj4gLQo+IC0JbGluay0+Y2Fwcy5lbmhhbmNlZF9mcmFtaW5nID0gZHJtX2RwX2VuaGFuY2VkX2Zy
YW1lX2NhcChkcGNkKTsKPiAtCWxpbmstPmNhcHMudHBzM19zdXBwb3J0ZWQgPSBkcm1fZHBfdHBz
M19zdXBwb3J0ZWQoZHBjZCk7Cj4gLQlsaW5rLT5jYXBzLmZhc3RfdHJhaW5pbmcgPSBkcm1fZHBf
ZmFzdF90cmFpbmluZ19jYXAoZHBjZCk7Cj4gLQlsaW5rLT5jYXBzLmNoYW5uZWxfY29kaW5nID0g
ZHJtX2RwX2NoYW5uZWxfY29kaW5nX3N1cHBvcnRlZChkcGNkKTsKPiAtCj4gLQlpZiAoZHJtX2Rw
X2FsdGVybmF0ZV9zY3JhbWJsZXJfcmVzZXRfY2FwKGRwY2QpKSB7Cj4gLQkJbGluay0+Y2Fwcy5h
bHRlcm5hdGVfc2NyYW1ibGVyX3Jlc2V0ID0gdHJ1ZTsKPiAtCj4gLQkJZXJyID0gZHJtX2RwX2Rw
Y2RfcmVhZGIoYXV4LCBEUF9FRFBfRFBDRF9SRVYsICZ2YWx1ZSk7Cj4gLQkJaWYgKGVyciA8IDAp
Cj4gLQkJCXJldHVybiBlcnI7Cj4gLQo+IC0JCWlmICh2YWx1ZSA+PSBBUlJBWV9TSVpFKGRybV9k
cF9lZHBfcmV2aXNpb25zKSkKPiAtCQkJRFJNX0VSUk9SKCJ1bnN1cHBvcnRlZCBlRFAgdmVyc2lv
bjogJTAyeFxuIiwgdmFsdWUpOwo+IC0JCWVsc2UKPiAtCQkJbGluay0+ZWRwID0gZHJtX2RwX2Vk
cF9yZXZpc2lvbnNbdmFsdWVdOwo+IC0JfQo+IC0KPiAtCS8qCj4gLQkgKiBUaGUgRFBDRCBzdG9y
ZXMgdGhlIEFVWCByZWFkIGludGVydmFsIGluIHVuaXRzIG9mIDQgbXMuIFRoZXJlIGFyZQo+IC0J
ICogdHdvIHNwZWNpYWwgY2FzZXM6Cj4gLQkgKgo+IC0JICogICAxKSBpZiB0aGUgVFJBSU5JTkdf
QVVYX1JEX0lOVEVSVkFMIGZpZWxkIGlzIDAsIHRoZSBjbG9jayByZWNvdmVyeQo+IC0JICogICAg
ICBhbmQgY2hhbm5lbCBlcXVhbGl6YXRpb24gc2hvdWxkIHVzZSAxMDAgdXMgb3IgNDAwIHVzIEFV
WCByZWFkCj4gLQkgKiAgICAgIGludGVydmFscywgcmVzcGVjdGl2ZWx5Cj4gLQkgKgo+IC0JICog
ICAyKSBmb3IgRFAgdjEuNCBhbmQgYWJvdmUsIGNsb2NrIHJlY292ZXJ5IHNob3VsZCBhbHdheXMg
dXNlIDEwMCB1cwo+IC0JICogICAgICBBVVggcmVhZCBpbnRlcnZhbHMKPiAtCSAqLwo+IC0JcmRf
aW50ZXJ2YWwgPSBkcGNkW0RQX1RSQUlOSU5HX0FVWF9SRF9JTlRFUlZBTF0gJgo+IC0JCQkgICBE
UF9UUkFJTklOR19BVVhfUkRfTUFTSzsKPiAtCj4gLQlpZiAocmRfaW50ZXJ2YWwgPiA0KSB7Cj4g
LQkJRFJNX0RFQlVHX0tNUygiQVVYIGludGVydmFsICV1IG91dCBvZiByYW5nZSAobWF4LiA0KVxu
IiwKPiAtCQkJICAgICAgcmRfaW50ZXJ2YWwpOwo+IC0JCXJkX2ludGVydmFsID0gNDsKPiAtCX0K
PiAtCj4gLQlyZF9pbnRlcnZhbCAqPSA0ICogVVNFQ19QRVJfTVNFQzsKPiAtCj4gLQlpZiAocmRf
aW50ZXJ2YWwgPT0gMCB8fCBsaW5rLT5yZXZpc2lvbiA+PSBEUF9EUENEX1JFVl8xNCkKPiAtCQls
aW5rLT5hdXhfcmRfaW50ZXJ2YWwuY3IgPSAxMDA7Cj4gLQo+IC0JaWYgKHJkX2ludGVydmFsID09
IDApCj4gLQkJbGluay0+YXV4X3JkX2ludGVydmFsLmNlID0gNDAwOwo+IC0KPiAtCWxpbmstPnJh
dGUgPSBsaW5rLT5tYXhfcmF0ZTsKPiAtCWxpbmstPmxhbmVzID0gbGluay0+bWF4X2xhbmVzOwo+
IC0KPiAtCS8qIFBhcnNlIFNVUFBPUlRFRF9MSU5LX1JBVEVTIGZyb20gZURQIDEuNCAqLwo+IC0J
aWYgKGxpbmstPmVkcCA+PSAweDE0KSB7Cj4gLQkJdTggc3VwcG9ydGVkX3JhdGVzW0RQX01BWF9T
VVBQT1JURURfUkFURVMgKiAyXTsKPiAtCQl1bnNpZ25lZCBpbnQgaTsKPiAtCQl1MTYgcmF0ZTsK
PiAtCj4gLQkJZXJyID0gZHJtX2RwX2RwY2RfcmVhZChhdXgsIERQX1NVUFBPUlRFRF9MSU5LX1JB
VEVTLAo+IC0JCQkJICAgICAgIHN1cHBvcnRlZF9yYXRlcywKPiAtCQkJCSAgICAgICBzaXplb2Yo
c3VwcG9ydGVkX3JhdGVzKSk7Cj4gLQkJaWYgKGVyciA8IDApCj4gLQkJCXJldHVybiBlcnI7Cj4g
LQo+IC0JCWZvciAoaSA9IDA7IGkgPCBEUF9NQVhfU1VQUE9SVEVEX1JBVEVTOyBpKyspIHsKPiAt
CQkJcmF0ZSA9IHN1cHBvcnRlZF9yYXRlc1tpICogMiArIDFdIDw8IDggfAo+IC0JCQkgICAgICAg
c3VwcG9ydGVkX3JhdGVzW2kgKiAyICsgMF07Cj4gLQo+IC0JCQlkcm1fZHBfbGlua19hZGRfcmF0
ZShsaW5rLCByYXRlICogMjAwKTsKPiAtCQl9Cj4gLQl9Cj4gLQo+IC0JcmV0dXJuIDA7Cj4gLX0K
PiAtCj4gLS8qKgo+IC0gKiBkcm1fZHBfbGlua19wb3dlcl91cCgpIC0gcG93ZXIgdXAgYSBEaXNw
bGF5UG9ydCBsaW5rCj4gLSAqIEBhdXg6IERpc3BsYXlQb3J0IEFVWCBjaGFubmVsCj4gLSAqIEBs
aW5rOiBwb2ludGVyIHRvIGEgc3RydWN0dXJlIGNvbnRhaW5pbmcgdGhlIGxpbmsgY29uZmlndXJh
dGlvbgo+IC0gKgo+IC0gKiBSZXR1cm5zIDAgb24gc3VjY2VzcyBvciBhIG5lZ2F0aXZlIGVycm9y
IGNvZGUgb24gZmFpbHVyZS4KPiAtICovCj4gLWludCBkcm1fZHBfbGlua19wb3dlcl91cChzdHJ1
Y3QgZHJtX2RwX2F1eCAqYXV4LCBzdHJ1Y3QgZHJtX2RwX2xpbmsgKmxpbmspCj4gLXsKPiAtCXU4
IHZhbHVlOwo+IC0JaW50IGVycjsKPiAtCj4gLQkvKiBEUF9TRVRfUE9XRVIgcmVnaXN0ZXIgaXMg
b25seSBhdmFpbGFibGUgb24gRFBDRCB2MS4xIGFuZCBsYXRlciAqLwo+IC0JaWYgKGxpbmstPnJl
dmlzaW9uIDwgMHgxMSkKPiAtCQlyZXR1cm4gMDsKPiAtCj4gLQllcnIgPSBkcm1fZHBfZHBjZF9y
ZWFkYihhdXgsIERQX1NFVF9QT1dFUiwgJnZhbHVlKTsKPiAtCWlmIChlcnIgPCAwKQo+IC0JCXJl
dHVybiBlcnI7Cj4gLQo+IC0JdmFsdWUgJj0gfkRQX1NFVF9QT1dFUl9NQVNLOwo+IC0JdmFsdWUg
fD0gRFBfU0VUX1BPV0VSX0QwOwo+IC0KPiAtCWVyciA9IGRybV9kcF9kcGNkX3dyaXRlYihhdXgs
IERQX1NFVF9QT1dFUiwgdmFsdWUpOwo+IC0JaWYgKGVyciA8IDApCj4gLQkJcmV0dXJuIGVycjsK
PiAtCj4gLQkvKgo+IC0JICogQWNjb3JkaW5nIHRvIHRoZSBEUCAxLjEgc3BlY2lmaWNhdGlvbiwg
YSAiU2luayBEZXZpY2UgbXVzdCBleGl0IHRoZQo+IC0JICogcG93ZXIgc2F2aW5nIHN0YXRlIHdp
dGhpbiAxIG1zIiAoU2VjdGlvbiAyLjUuMy4xLCBUYWJsZSA1LTUyLCAiU2luawo+IC0JICogQ29u
dHJvbCBGaWVsZCIgKHJlZ2lzdGVyIDB4NjAwKS4KPiAtCSAqLwo+IC0JdXNsZWVwX3JhbmdlKDEw
MDAsIDIwMDApOwo+IC0KPiAtCXJldHVybiAwOwo+IC19Cj4gLQo+IC0vKioKPiAtICogZHJtX2Rw
X2xpbmtfcG93ZXJfZG93bigpIC0gcG93ZXIgZG93biBhIERpc3BsYXlQb3J0IGxpbmsKPiAtICog
QGF1eDogRGlzcGxheVBvcnQgQVVYIGNoYW5uZWwKPiAtICogQGxpbms6IHBvaW50ZXIgdG8gYSBz
dHJ1Y3R1cmUgY29udGFpbmluZyB0aGUgbGluayBjb25maWd1cmF0aW9uCj4gLSAqCj4gLSAqIFJl
dHVybnMgMCBvbiBzdWNjZXNzIG9yIGEgbmVnYXRpdmUgZXJyb3IgY29kZSBvbiBmYWlsdXJlLgo+
IC0gKi8KPiAtaW50IGRybV9kcF9saW5rX3Bvd2VyX2Rvd24oc3RydWN0IGRybV9kcF9hdXggKmF1
eCwgc3RydWN0IGRybV9kcF9saW5rICpsaW5rKQo+IC17Cj4gLQl1OCB2YWx1ZTsKPiAtCWludCBl
cnI7Cj4gLQo+IC0JLyogRFBfU0VUX1BPV0VSIHJlZ2lzdGVyIGlzIG9ubHkgYXZhaWxhYmxlIG9u
IERQQ0QgdjEuMSBhbmQgbGF0ZXIgKi8KPiAtCWlmIChsaW5rLT5yZXZpc2lvbiA8IDB4MTEpCj4g
LQkJcmV0dXJuIDA7Cj4gLQo+IC0JZXJyID0gZHJtX2RwX2RwY2RfcmVhZGIoYXV4LCBEUF9TRVRf
UE9XRVIsICZ2YWx1ZSk7Cj4gLQlpZiAoZXJyIDwgMCkKPiAtCQlyZXR1cm4gZXJyOwo+IC0KPiAt
CXZhbHVlICY9IH5EUF9TRVRfUE9XRVJfTUFTSzsKPiAtCXZhbHVlIHw9IERQX1NFVF9QT1dFUl9E
MzsKPiAtCj4gLQllcnIgPSBkcm1fZHBfZHBjZF93cml0ZWIoYXV4LCBEUF9TRVRfUE9XRVIsIHZh
bHVlKTsKPiAtCWlmIChlcnIgPCAwKQo+IC0JCXJldHVybiBlcnI7Cj4gLQo+IC0JcmV0dXJuIDA7
Cj4gLX0KPiAtCj4gLS8qKgo+IC0gKiBkcm1fZHBfbGlua19jb25maWd1cmUoKSAtIGNvbmZpZ3Vy
ZSBhIERpc3BsYXlQb3J0IGxpbmsKPiAtICogQGF1eDogRGlzcGxheVBvcnQgQVVYIGNoYW5uZWwK
PiAtICogQGxpbms6IHBvaW50ZXIgdG8gYSBzdHJ1Y3R1cmUgY29udGFpbmluZyB0aGUgbGluayBj
b25maWd1cmF0aW9uCj4gLSAqCj4gLSAqIFJldHVybnMgMCBvbiBzdWNjZXNzIG9yIGEgbmVnYXRp
dmUgZXJyb3IgY29kZSBvbiBmYWlsdXJlLgo+IC0gKi8KPiAtaW50IGRybV9kcF9saW5rX2NvbmZp
Z3VyZShzdHJ1Y3QgZHJtX2RwX2F1eCAqYXV4LCBzdHJ1Y3QgZHJtX2RwX2xpbmsgKmxpbmspCj4g
LXsKPiAtCXU4IHZhbHVlc1syXSwgdmFsdWU7Cj4gLQlpbnQgZXJyOwo+IC0KPiAtCWlmIChsaW5r
LT5vcHMgJiYgbGluay0+b3BzLT5jb25maWd1cmUpIHsKPiAtCQllcnIgPSBsaW5rLT5vcHMtPmNv
bmZpZ3VyZShsaW5rKTsKPiAtCQlpZiAoZXJyIDwgMCkgewo+IC0JCQlEUk1fRVJST1IoImZhaWxl
ZCB0byBjb25maWd1cmUgRFAgbGluazogJWRcbiIsIGVycik7Cj4gLQkJCXJldHVybiBlcnI7Cj4g
LQkJfQo+IC0JfQo+IC0KPiAtCXZhbHVlc1swXSA9IGRybV9kcF9saW5rX3JhdGVfdG9fYndfY29k
ZShsaW5rLT5yYXRlKTsKPiAtCXZhbHVlc1sxXSA9IGxpbmstPmxhbmVzOwo+IC0KPiAtCWlmIChs
aW5rLT5jYXBzLmVuaGFuY2VkX2ZyYW1pbmcpCj4gLQkJdmFsdWVzWzFdIHw9IERQX0xBTkVfQ09V
TlRfRU5IQU5DRURfRlJBTUVfRU47Cj4gLQo+IC0JZXJyID0gZHJtX2RwX2RwY2Rfd3JpdGUoYXV4
LCBEUF9MSU5LX0JXX1NFVCwgdmFsdWVzLCBzaXplb2YodmFsdWVzKSk7Cj4gLQlpZiAoZXJyIDwg
MCkKPiAtCQlyZXR1cm4gZXJyOwo+IC0KPiAtCWlmIChsaW5rLT5jYXBzLmNoYW5uZWxfY29kaW5n
KQo+IC0JCXZhbHVlID0gRFBfU0VUX0FOU0lfOEIxMEI7Cj4gLQllbHNlCj4gLQkJdmFsdWUgPSAw
Owo+IC0KPiAtCWVyciA9IGRybV9kcF9kcGNkX3dyaXRlYihhdXgsIERQX01BSU5fTElOS19DSEFO
TkVMX0NPRElOR19TRVQsIHZhbHVlKTsKPiAtCWlmIChlcnIgPCAwKQo+IC0JCXJldHVybiBlcnI7
Cj4gLQo+IC0JaWYgKGxpbmstPmNhcHMuYWx0ZXJuYXRlX3NjcmFtYmxlcl9yZXNldCkgewo+IC0J
CWVyciA9IGRybV9kcF9kcGNkX3dyaXRlYihhdXgsIERQX0VEUF9DT05GSUdVUkFUSU9OX1NFVCwK
PiAtCQkJCQkgRFBfQUxURVJOQVRFX1NDUkFNQkxFUl9SRVNFVF9FTkFCTEUpOwo+IC0JCWlmIChl
cnIgPCAwKQo+IC0JCQlyZXR1cm4gZXJyOwo+IC0JfQo+IC0KPiAtCXJldHVybiAwOwo+IC19Cj4g
LQo+IC0vKioKPiAtICogZHJtX2RwX2xpbmtfY2hvb3NlKCkgLSBjaG9vc2UgdGhlIGxvd2VzdCBw
b3NzaWJsZSBjb25maWd1cmF0aW9uIGZvciBhIG1vZGUKPiAtICogQGxpbms6IERSTSBEUCBsaW5r
IG9iamVjdAo+IC0gKiBAbW9kZTogRFJNIGRpc3BsYXkgbW9kZQo+IC0gKiBAaW5mbzogRFJNIGRp
c3BsYXkgaW5mb3JtYXRpb24KPiAtICoKPiAtICogQWNjb3JkaW5nIHRvIHRoZSBlRFAgc3BlY2lm
aWNhdGlvbiwgYSBzb3VyY2Ugc2hvdWxkIHNlbGVjdCBhIGNvbmZpZ3VyYXRpb24KPiAtICogd2l0
aCB0aGUgbG93ZXN0IG51bWJlciBvZiBsYW5lcyBhbmQgdGhlIGxvd2VzdCBwb3NzaWJsZSBsaW5r
IHJhdGUgdGhhdCBjYW4KPiAtICogbWF0Y2ggdGhlIGJpdHJhdGUgcmVxdWlyZW1lbnRzIG9mIGEg
dmlkZW8gbW9kZS4gSG93ZXZlciBpdCBtdXN0IGVuc3VyZSBub3QKPiAtICogdG8gZXhjZWVkIHRo
ZSBjYXBhYmlsaXRpZXMgb2YgdGhlIHNpbmsuCj4gLSAqCj4gLSAqIFJldHVybnM6IDAgb24gc3Vj
Y2VzcyBvciBhIG5lZ2F0aXZlIGVycm9yIGNvZGUgb24gZmFpbHVyZS4KPiAtICovCj4gLWludCBk
cm1fZHBfbGlua19jaG9vc2Uoc3RydWN0IGRybV9kcF9saW5rICpsaW5rLAo+IC0JCSAgICAgICBj
b25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZSwKPiAtCQkgICAgICAgY29uc3Qgc3Ry
dWN0IGRybV9kaXNwbGF5X2luZm8gKmluZm8pCj4gLXsKPiAtCS8qIGF2YWlsYWJsZSBsaW5rIHN5
bWJvbCBjbG9jayByYXRlcyAqLwo+IC0Jc3RhdGljIGNvbnN0IHVuc2lnbmVkIGludCByYXRlc1sz
XSA9IHsgMTYyMDAwLCAyNzAwMDAsIDU0MDAwMCB9Owo+IC0JLyogYXZhaWxhYmxlIG51bWJlciBv
ZiBsYW5lcyAqLwo+IC0Jc3RhdGljIGNvbnN0IHVuc2lnbmVkIGludCBsYW5lc1szXSA9IHsgMSwg
MiwgNCB9Owo+IC0JdW5zaWduZWQgbG9uZyByZXF1aXJlbWVudCwgY2FwYWNpdHk7Cj4gLQl1bnNp
Z25lZCBpbnQgcmF0ZSA9IGxpbmstPm1heF9yYXRlOwo+IC0JdW5zaWduZWQgaW50IGksIGo7Cj4g
LQo+IC0JLyogYmFuZHdpZHRoIHJlcXVpcmVtZW50ICovCj4gLQlyZXF1aXJlbWVudCA9IG1vZGUt
PmNsb2NrICogaW5mby0+YnBjICogMzsKPiAtCj4gLQlmb3IgKGkgPSAwOyBpIDwgQVJSQVlfU0la
RShsYW5lcykgJiYgbGFuZXNbaV0gPD0gbGluay0+bWF4X2xhbmVzOyBpKyspIHsKPiAtCQlmb3Ig
KGogPSAwOyBqIDwgQVJSQVlfU0laRShyYXRlcykgJiYgcmF0ZXNbal0gPD0gcmF0ZTsgaisrKSB7
Cj4gLQkJCS8qCj4gLQkJCSAqIENhcGFjaXR5IGZvciB0aGlzIGNvbWJpbmF0aW9uIG9mIGxhbmVz
IGFuZCByYXRlLAo+IC0JCQkgKiBmYWN0b3JpbmcgaW4gdGhlIEFOU0kgOEIvMTBCIGVuY29kaW5n
Lgo+IC0JCQkgKgo+IC0JCQkgKiBMaW5rIHJhdGVzIGluIHRoZSBEUk0gRFAgaGVscGVycyBhcmUg
cmVhbGx5IGxpbmsKPiAtCQkJICogc3ltYm9sIGZyZXF1ZW5jaWVzLCBzbyBhIHRlbnRoIG9mIHRo
ZSBhY3R1YWwgcmF0ZQo+IC0JCQkgKiBvZiB0aGUgbGluay4KPiAtCQkJICovCj4gLQkJCWNhcGFj
aXR5ID0gbGFuZXNbaV0gKiAocmF0ZXNbal0gKiAxMCkgKiA4IC8gMTA7Cj4gLQo+IC0JCQlpZiAo
Y2FwYWNpdHkgPj0gcmVxdWlyZW1lbnQpIHsKPiAtCQkJCURSTV9ERUJVR19LTVMoInVzaW5nICV1
IGxhbmVzIGF0ICV1IGtIeiAoJWx1LyVsdSBrYnBzKVxuIiwKPiAtCQkJCQkgICAgICBsYW5lc1tp
XSwgcmF0ZXNbal0sIHJlcXVpcmVtZW50LAo+IC0JCQkJCSAgICAgIGNhcGFjaXR5KTsKPiAtCQkJ
CWxpbmstPmxhbmVzID0gbGFuZXNbaV07Cj4gLQkJCQlsaW5rLT5yYXRlID0gcmF0ZXNbal07Cj4g
LQkJCQlyZXR1cm4gMDsKPiAtCQkJfQo+IC0JCX0KPiAtCX0KPiAtCj4gLQlyZXR1cm4gLUVSQU5H
RTsKPiAtfQo+IC0KPiAtLyoqCj4gLSAqIERPQzogTGluayB0cmFpbmluZwo+IC0gKgo+IC0gKiBU
aGVzZSBmdW5jdGlvbnMgY29udGFpbiBjb21tb24gbG9naWMgYW5kIGhlbHBlcnMgdG8gaW1wbGVt
ZW50IERpc3BsYXlQb3J0Cj4gLSAqIGxpbmsgdHJhaW5pbmcuCj4gLSAqLwo+IC0KPiAtLyoqCj4g
LSAqIGRybV9kcF9saW5rX3RyYWluX2luaXQoKSAtIGluaXRpYWxpemUgRGlzcGxheVBvcnQgbGlu
ayB0cmFpbmluZyBzdGF0ZQo+IC0gKiBAdHJhaW46IERpc3BsYXlQb3J0IGxpbmsgdHJhaW5pbmcg
c3RhdGUKPiAtICovCj4gLXZvaWQgZHJtX2RwX2xpbmtfdHJhaW5faW5pdChzdHJ1Y3QgZHJtX2Rw
X2xpbmtfdHJhaW4gKnRyYWluKQo+IC17Cj4gLQlzdHJ1Y3QgZHJtX2RwX2xpbmtfdHJhaW5fc2V0
ICpyZXF1ZXN0ID0gJnRyYWluLT5yZXF1ZXN0Owo+IC0Jc3RydWN0IGRybV9kcF9saW5rX3RyYWlu
X3NldCAqYWRqdXN0ID0gJnRyYWluLT5hZGp1c3Q7Cj4gLQl1bnNpZ25lZCBpbnQgaTsKPiAtCj4g
LQlmb3IgKGkgPSAwOyBpIDwgNDsgaSsrKSB7Cj4gLQkJcmVxdWVzdC0+dm9sdGFnZV9zd2luZ1tp
XSA9IDA7Cj4gLQkJYWRqdXN0LT52b2x0YWdlX3N3aW5nW2ldID0gMDsKPiAtCj4gLQkJcmVxdWVz
dC0+cHJlX2VtcGhhc2lzW2ldID0gMDsKPiAtCQlhZGp1c3QtPnByZV9lbXBoYXNpc1tpXSA9IDA7
Cj4gLQo+IC0JCXJlcXVlc3QtPnBvc3RfY3Vyc29yW2ldID0gMDsKPiAtCQlhZGp1c3QtPnBvc3Rf
Y3Vyc29yW2ldID0gMDsKPiAtCX0KPiAtCj4gLQl0cmFpbi0+cGF0dGVybiA9IERQX1RSQUlOSU5H
X1BBVFRFUk5fRElTQUJMRTsKPiAtCXRyYWluLT5jbG9ja19yZWNvdmVyZWQgPSBmYWxzZTsKPiAt
CXRyYWluLT5jaGFubmVsX2VxdWFsaXplZCA9IGZhbHNlOwo+IC19Cj4gLQo+IC1zdGF0aWMgYm9v
bCBkcm1fZHBfbGlua190cmFpbl92YWxpZChjb25zdCBzdHJ1Y3QgZHJtX2RwX2xpbmtfdHJhaW4g
KnRyYWluKQo+IC17Cj4gLQlyZXR1cm4gdHJhaW4tPmNsb2NrX3JlY292ZXJlZCAmJiB0cmFpbi0+
Y2hhbm5lbF9lcXVhbGl6ZWQ7Cj4gLX0KPiAtCj4gLXN0YXRpYyBpbnQgZHJtX2RwX2xpbmtfYXBw
bHlfdHJhaW5pbmcoc3RydWN0IGRybV9kcF9saW5rICpsaW5rKQo+IC17Cj4gLQlzdHJ1Y3QgZHJt
X2RwX2xpbmtfdHJhaW5fc2V0ICpyZXF1ZXN0ID0gJmxpbmstPnRyYWluLnJlcXVlc3Q7Cj4gLQl1
bnNpZ25lZCBpbnQgbGFuZXMgPSBsaW5rLT5sYW5lcywgKnZzLCAqcGUsICpwYywgaTsKPiAtCXN0
cnVjdCBkcm1fZHBfYXV4ICphdXggPSBsaW5rLT5hdXg7Cj4gLQl1OCB2YWx1ZXNbNF0sIHBhdHRl
cm4gPSAwOwo+IC0JaW50IGVycjsKPiAtCj4gLQllcnIgPSBsaW5rLT5vcHMtPmFwcGx5X3RyYWlu
aW5nKGxpbmspOwo+IC0JaWYgKGVyciA8IDApIHsKPiAtCQlEUk1fRVJST1IoImZhaWxlZCB0byBh
cHBseSBsaW5rIHRyYWluaW5nOiAlZFxuIiwgZXJyKTsKPiAtCQlyZXR1cm4gZXJyOwo+IC0JfQo+
IC0KPiAtCXZzID0gcmVxdWVzdC0+dm9sdGFnZV9zd2luZzsKPiAtCXBlID0gcmVxdWVzdC0+cHJl
X2VtcGhhc2lzOwo+IC0JcGMgPSByZXF1ZXN0LT5wb3N0X2N1cnNvcjsKPiAtCj4gLQkvKiB3cml0
ZSBjdXJyZW50bHkgc2VsZWN0ZWQgdm9sdGFnZS1zd2luZyBhbmQgcHJlLWVtcGhhc2lzIGxldmVs
cyAqLwo+IC0JZm9yIChpID0gMDsgaSA8IGxhbmVzOyBpKyspCj4gLQkJdmFsdWVzW2ldID0gRFBf
VFJBSU5fVk9MVEFHRV9TV0lOR19MRVZFTCh2c1tpXSkgfAo+IC0JCQkgICAgRFBfVFJBSU5fUFJF
X0VNUEhBU0lTX0xFVkVMKHBlW2ldKTsKPiAtCj4gLQllcnIgPSBkcm1fZHBfZHBjZF93cml0ZShh
dXgsIERQX1RSQUlOSU5HX0xBTkUwX1NFVCwgdmFsdWVzLCBsYW5lcyk7Cj4gLQlpZiAoZXJyIDwg
MCkgewo+IC0JCURSTV9FUlJPUigiZmFpbGVkIHRvIHNldCB0cmFpbmluZyBwYXJhbWV0ZXJzOiAl
ZFxuIiwgZXJyKTsKPiAtCQlyZXR1cm4gZXJyOwo+IC0JfQo+IC0KPiAtCS8qIHdyaXRlIGN1cnJl
bnRseSBzZWxlY3RlZCBwb3N0LWN1cnNvciBsZXZlbCAoaWYgc3VwcG9ydGVkKSAqLwo+IC0JaWYg
KGxpbmstPnJldmlzaW9uID49IDB4MTIgJiYgbGluay0+cmF0ZSA9PSA1NDAwMDApIHsKPiAtCQl2
YWx1ZXNbMF0gPSB2YWx1ZXNbMV0gPSAwOwo+IC0KPiAtCQlmb3IgKGkgPSAwOyBpIDwgbGFuZXM7
IGkrKykKPiAtCQkJdmFsdWVzW2kgLyAyXSB8PSBEUF9MQU5FX1BPU1RfQ1VSU09SKGksIHBjW2ld
KTsKPiAtCj4gLQkJZXJyID0gZHJtX2RwX2RwY2Rfd3JpdGUoYXV4LCBEUF9UUkFJTklOR19MQU5F
MF8xX1NFVDIsIHZhbHVlcywKPiAtCQkJCQlESVZfUk9VTkRfVVAobGFuZXMsIDIpKTsKPiAtCQlp
ZiAoZXJyIDwgMCkgewo+IC0JCQlEUk1fRVJST1IoImZhaWxlZCB0byBzZXQgcG9zdC1jdXJzb3I6
ICVkXG4iLCBlcnIpOwo+IC0JCQlyZXR1cm4gZXJyOwo+IC0JCX0KPiAtCX0KPiAtCj4gLQkvKiB3
cml0ZSBsaW5rIHBhdHRlcm4gKi8KPiAtCWlmIChsaW5rLT50cmFpbi5wYXR0ZXJuICE9IERQX1RS
QUlOSU5HX1BBVFRFUk5fRElTQUJMRSkKPiAtCQlwYXR0ZXJuIHw9IERQX0xJTktfU0NSQU1CTElO
R19ESVNBQkxFOwo+IC0KPiAtCXBhdHRlcm4gfD0gbGluay0+dHJhaW4ucGF0dGVybjsKPiAtCj4g
LQllcnIgPSBkcm1fZHBfZHBjZF93cml0ZWIoYXV4LCBEUF9UUkFJTklOR19QQVRURVJOX1NFVCwg
cGF0dGVybik7Cj4gLQlpZiAoZXJyIDwgMCkgewo+IC0JCURSTV9FUlJPUigiZmFpbGVkIHRvIHNl
dCB0cmFpbmluZyBwYXR0ZXJuOiAlZFxuIiwgZXJyKTsKPiAtCQlyZXR1cm4gZXJyOwo+IC0JfQo+
IC0KPiAtCXJldHVybiAwOwo+IC19Cj4gLQo+IC1zdGF0aWMgdm9pZCBkcm1fZHBfbGlua190cmFp
bl93YWl0KHN0cnVjdCBkcm1fZHBfbGluayAqbGluaykKPiAtewo+IC0JdW5zaWduZWQgbG9uZyBt
aW4gPSAwOwo+IC0KPiAtCXN3aXRjaCAobGluay0+dHJhaW4ucGF0dGVybikgewo+IC0JY2FzZSBE
UF9UUkFJTklOR19QQVRURVJOXzE6Cj4gLQkJbWluID0gbGluay0+YXV4X3JkX2ludGVydmFsLmNy
Owo+IC0JCWJyZWFrOwo+IC0KPiAtCWNhc2UgRFBfVFJBSU5JTkdfUEFUVEVSTl8yOgo+IC0JY2Fz
ZSBEUF9UUkFJTklOR19QQVRURVJOXzM6Cj4gLQkJbWluID0gbGluay0+YXV4X3JkX2ludGVydmFs
LmNlOwo+IC0JCWJyZWFrOwo+IC0KPiAtCWRlZmF1bHQ6Cj4gLQkJYnJlYWs7Cj4gLQl9Cj4gLQo+
IC0JaWYgKG1pbiA+IDApCj4gLQkJdXNsZWVwX3JhbmdlKG1pbiwgMiAqIG1pbik7Cj4gLX0KPiAt
Cj4gLXN0YXRpYyB2b2lkIGRybV9kcF9saW5rX2dldF9hZGp1c3RtZW50cyhzdHJ1Y3QgZHJtX2Rw
X2xpbmsgKmxpbmssCj4gLQkJCQkJdTggc3RhdHVzW0RQX0xJTktfU1RBVFVTX1NJWkVdKQo+IC17
Cj4gLQlzdHJ1Y3QgZHJtX2RwX2xpbmtfdHJhaW5fc2V0ICphZGp1c3QgPSAmbGluay0+dHJhaW4u
YWRqdXN0Owo+IC0JdW5zaWduZWQgaW50IGk7Cj4gLQo+IC0JZm9yIChpID0gMDsgaSA8IGxpbmst
PmxhbmVzOyBpKyspIHsKPiAtCQlhZGp1c3QtPnZvbHRhZ2Vfc3dpbmdbaV0gPQo+IC0JCQlkcm1f
ZHBfZ2V0X2FkanVzdF9yZXF1ZXN0X3ZvbHRhZ2Uoc3RhdHVzLCBpKSA+Pgo+IC0JCQkJRFBfVFJB
SU5fVk9MVEFHRV9TV0lOR19TSElGVDsKPiAtCj4gLQkJYWRqdXN0LT5wcmVfZW1waGFzaXNbaV0g
PQo+IC0JCQlkcm1fZHBfZ2V0X2FkanVzdF9yZXF1ZXN0X3ByZV9lbXBoYXNpcyhzdGF0dXMsIGkp
ID4+Cj4gLQkJCQlEUF9UUkFJTl9QUkVfRU1QSEFTSVNfU0hJRlQ7Cj4gLQo+IC0JCWFkanVzdC0+
cG9zdF9jdXJzb3JbaV0gPQo+IC0JCQlkcm1fZHBfZ2V0X2FkanVzdF9yZXF1ZXN0X3Bvc3RfY3Vy
c29yKHN0YXR1cywgaSk7Cj4gLQl9Cj4gLX0KPiAtCj4gLXN0YXRpYyB2b2lkIGRybV9kcF9saW5r
X3RyYWluX2FkanVzdChzdHJ1Y3QgZHJtX2RwX2xpbmtfdHJhaW4gKnRyYWluKQo+IC17Cj4gLQlz
dHJ1Y3QgZHJtX2RwX2xpbmtfdHJhaW5fc2V0ICpyZXF1ZXN0ID0gJnRyYWluLT5yZXF1ZXN0Owo+
IC0Jc3RydWN0IGRybV9kcF9saW5rX3RyYWluX3NldCAqYWRqdXN0ID0gJnRyYWluLT5hZGp1c3Q7
Cj4gLQl1bnNpZ25lZCBpbnQgaTsKPiAtCj4gLQlmb3IgKGkgPSAwOyBpIDwgNDsgaSsrKQo+IC0J
CWlmIChyZXF1ZXN0LT52b2x0YWdlX3N3aW5nW2ldICE9IGFkanVzdC0+dm9sdGFnZV9zd2luZ1tp
XSkKPiAtCQkJcmVxdWVzdC0+dm9sdGFnZV9zd2luZ1tpXSA9IGFkanVzdC0+dm9sdGFnZV9zd2lu
Z1tpXTsKPiAtCj4gLQlmb3IgKGkgPSAwOyBpIDwgNDsgaSsrKQo+IC0JCWlmIChyZXF1ZXN0LT5w
cmVfZW1waGFzaXNbaV0gIT0gYWRqdXN0LT5wcmVfZW1waGFzaXNbaV0pCj4gLQkJCXJlcXVlc3Qt
PnByZV9lbXBoYXNpc1tpXSA9IGFkanVzdC0+cHJlX2VtcGhhc2lzW2ldOwo+IC0KPiAtCWZvciAo
aSA9IDA7IGkgPCA0OyBpKyspCj4gLQkJaWYgKHJlcXVlc3QtPnBvc3RfY3Vyc29yW2ldICE9IGFk
anVzdC0+cG9zdF9jdXJzb3JbaV0pCj4gLQkJCXJlcXVlc3QtPnBvc3RfY3Vyc29yW2ldID0gYWRq
dXN0LT5wb3N0X2N1cnNvcltpXTsKPiAtfQo+IC0KPiAtc3RhdGljIGludCBkcm1fZHBfbGlua19y
ZWNvdmVyX2Nsb2NrKHN0cnVjdCBkcm1fZHBfbGluayAqbGluaykKPiAtewo+IC0JdTggc3RhdHVz
W0RQX0xJTktfU1RBVFVTX1NJWkVdOwo+IC0JaW50IGVycjsKPiAtCj4gLQllcnIgPSBkcm1fZHBf
bGlua19hcHBseV90cmFpbmluZyhsaW5rKTsKPiAtCWlmIChlcnIgPCAwKQo+IC0JCXJldHVybiBl
cnI7Cj4gLQo+IC0JZHJtX2RwX2xpbmtfdHJhaW5fd2FpdChsaW5rKTsKPiAtCj4gLQllcnIgPSBk
cm1fZHBfZHBjZF9yZWFkX2xpbmtfc3RhdHVzKGxpbmstPmF1eCwgc3RhdHVzKTsKPiAtCWlmIChl
cnIgPCAwKSB7Cj4gLQkJRFJNX0VSUk9SKCJmYWlsZWQgdG8gcmVhZCBsaW5rIHN0YXR1czogJWRc
biIsIGVycik7Cj4gLQkJcmV0dXJuIGVycjsKPiAtCX0KPiAtCj4gLQlpZiAoIWRybV9kcF9jbG9j
a19yZWNvdmVyeV9vayhzdGF0dXMsIGxpbmstPmxhbmVzKSkKPiAtCQlkcm1fZHBfbGlua19nZXRf
YWRqdXN0bWVudHMobGluaywgc3RhdHVzKTsKPiAtCWVsc2UKPiAtCQlsaW5rLT50cmFpbi5jbG9j
a19yZWNvdmVyZWQgPSB0cnVlOwo+IC0KPiAtCXJldHVybiAwOwo+IC19Cj4gLQo+IC1zdGF0aWMg
aW50IGRybV9kcF9saW5rX2Nsb2NrX3JlY292ZXJ5KHN0cnVjdCBkcm1fZHBfbGluayAqbGluaykK
PiAtewo+IC0JdW5zaWduZWQgaW50IHJlcGVhdDsKPiAtCWludCBlcnI7Cj4gLQo+IC0JLyogc3Rh
cnQgY2xvY2sgcmVjb3ZlcnkgdXNpbmcgdHJhaW5pbmcgcGF0dGVybiAxICovCj4gLQlsaW5rLT50
cmFpbi5wYXR0ZXJuID0gRFBfVFJBSU5JTkdfUEFUVEVSTl8xOwo+IC0KPiAtCWZvciAocmVwZWF0
ID0gMTsgcmVwZWF0IDwgNTsgcmVwZWF0KyspIHsKPiAtCQllcnIgPSBkcm1fZHBfbGlua19yZWNv
dmVyX2Nsb2NrKGxpbmspOwo+IC0JCWlmIChlcnIgPCAwKSB7Cj4gLQkJCURSTV9FUlJPUigiZmFp
bGVkIHRvIHJlY292ZXIgY2xvY2s6ICVkXG4iLCBlcnIpOwo+IC0JCQlyZXR1cm4gZXJyOwo+IC0J
CX0KPiAtCj4gLQkJaWYgKGxpbmstPnRyYWluLmNsb2NrX3JlY292ZXJlZCkKPiAtCQkJYnJlYWs7
Cj4gLQo+IC0JCWRybV9kcF9saW5rX3RyYWluX2FkanVzdCgmbGluay0+dHJhaW4pOwo+IC0JfQo+
IC0KPiAtCXJldHVybiAwOwo+IC19Cj4gLQo+IC1zdGF0aWMgaW50IGRybV9kcF9saW5rX2VxdWFs
aXplX2NoYW5uZWwoc3RydWN0IGRybV9kcF9saW5rICpsaW5rKQo+IC17Cj4gLQlzdHJ1Y3QgZHJt
X2RwX2F1eCAqYXV4ID0gbGluay0+YXV4Owo+IC0JdTggc3RhdHVzW0RQX0xJTktfU1RBVFVTX1NJ
WkVdOwo+IC0JaW50IGVycjsKPiAtCj4gLQllcnIgPSBkcm1fZHBfbGlua19hcHBseV90cmFpbmlu
ZyhsaW5rKTsKPiAtCWlmIChlcnIgPCAwKQo+IC0JCXJldHVybiBlcnI7Cj4gLQo+IC0JZHJtX2Rw
X2xpbmtfdHJhaW5fd2FpdChsaW5rKTsKPiAtCj4gLQllcnIgPSBkcm1fZHBfZHBjZF9yZWFkX2xp
bmtfc3RhdHVzKGF1eCwgc3RhdHVzKTsKPiAtCWlmIChlcnIgPCAwKSB7Cj4gLQkJRFJNX0VSUk9S
KCJmYWlsZWQgdG8gcmVhZCBsaW5rIHN0YXR1czogJWRcbiIsIGVycik7Cj4gLQkJcmV0dXJuIGVy
cjsKPiAtCX0KPiAtCj4gLQlpZiAoIWRybV9kcF9jbG9ja19yZWNvdmVyeV9vayhzdGF0dXMsIGxp
bmstPmxhbmVzKSkgewo+IC0JCURSTV9FUlJPUigiY2xvY2sgcmVjb3ZlcnkgbG9zdCB3aGlsZSBl
cXVhbGl6aW5nIGNoYW5uZWxcbiIpOwo+IC0JCWxpbmstPnRyYWluLmNsb2NrX3JlY292ZXJlZCA9
IGZhbHNlOwo+IC0JCXJldHVybiAwOwo+IC0JfQo+IC0KPiAtCWlmICghZHJtX2RwX2NoYW5uZWxf
ZXFfb2soc3RhdHVzLCBsaW5rLT5sYW5lcykpCj4gLQkJZHJtX2RwX2xpbmtfZ2V0X2FkanVzdG1l
bnRzKGxpbmssIHN0YXR1cyk7Cj4gLQllbHNlCj4gLQkJbGluay0+dHJhaW4uY2hhbm5lbF9lcXVh
bGl6ZWQgPSB0cnVlOwo+IC0KPiAtCXJldHVybiAwOwo+IC19Cj4gLQo+IC1zdGF0aWMgaW50IGRy
bV9kcF9saW5rX2NoYW5uZWxfZXF1YWxpemF0aW9uKHN0cnVjdCBkcm1fZHBfbGluayAqbGluaykK
PiAtewo+IC0JdW5zaWduZWQgaW50IHJlcGVhdDsKPiAtCWludCBlcnI7Cj4gLQo+IC0JLyogc3Rh
cnQgY2hhbm5lbCBlcXVhbGl6YXRpb24gdXNpbmcgcGF0dGVybiAyIG9yIDMgKi8KPiAtCWlmIChs
aW5rLT5jYXBzLnRwczNfc3VwcG9ydGVkKQo+IC0JCWxpbmstPnRyYWluLnBhdHRlcm4gPSBEUF9U
UkFJTklOR19QQVRURVJOXzM7Cj4gLQllbHNlCj4gLQkJbGluay0+dHJhaW4ucGF0dGVybiA9IERQ
X1RSQUlOSU5HX1BBVFRFUk5fMjsKPiAtCj4gLQlmb3IgKHJlcGVhdCA9IDE7IHJlcGVhdCA8IDU7
IHJlcGVhdCsrKSB7Cj4gLQkJZXJyID0gZHJtX2RwX2xpbmtfZXF1YWxpemVfY2hhbm5lbChsaW5r
KTsKPiAtCQlpZiAoZXJyIDwgMCkgewo+IC0JCQlEUk1fRVJST1IoImZhaWxlZCB0byBlcXVhbGl6
ZSBjaGFubmVsOiAlZFxuIiwgZXJyKTsKPiAtCQkJcmV0dXJuIGVycjsKPiAtCQl9Cj4gLQo+IC0J
CWlmIChsaW5rLT50cmFpbi5jaGFubmVsX2VxdWFsaXplZCkKPiAtCQkJYnJlYWs7Cj4gLQo+IC0J
CWRybV9kcF9saW5rX3RyYWluX2FkanVzdCgmbGluay0+dHJhaW4pOwo+IC0JfQo+IC0KPiAtCXJl
dHVybiAwOwo+IC19Cj4gLQo+IC1zdGF0aWMgaW50IGRybV9kcF9saW5rX2Rvd25ncmFkZShzdHJ1
Y3QgZHJtX2RwX2xpbmsgKmxpbmspCj4gLXsKPiAtCXN3aXRjaCAobGluay0+cmF0ZSkgewo+IC0J
Y2FzZSAxNjIwMDA6Cj4gLQkJcmV0dXJuIC1FSU5WQUw7Cj4gLQo+IC0JY2FzZSAyNzAwMDA6Cj4g
LQkJbGluay0+cmF0ZSA9IDE2MjAwMDsKPiAtCQlicmVhazsKPiAtCj4gLQljYXNlIDU0MDAwMDoK
PiAtCQlsaW5rLT5yYXRlID0gMjcwMDAwOwo+IC0JCXJldHVybiAwOwo+IC0JfQo+IC0KPiAtCXJl
dHVybiAwOwo+IC19Cj4gLQo+IC1zdGF0aWMgdm9pZCBkcm1fZHBfbGlua190cmFpbl9kaXNhYmxl
KHN0cnVjdCBkcm1fZHBfbGluayAqbGluaykKPiAtewo+IC0JaW50IGVycjsKPiAtCj4gLQlsaW5r
LT50cmFpbi5wYXR0ZXJuID0gRFBfVFJBSU5JTkdfUEFUVEVSTl9ESVNBQkxFOwo+IC0KPiAtCWVy
ciA9IGRybV9kcF9saW5rX2FwcGx5X3RyYWluaW5nKGxpbmspOwo+IC0JaWYgKGVyciA8IDApCj4g
LQkJRFJNX0VSUk9SKCJmYWlsZWQgdG8gZGlzYWJsZSBsaW5rIHRyYWluaW5nOiAlZFxuIiwgZXJy
KTsKPiAtfQo+IC0KPiAtc3RhdGljIGludCBkcm1fZHBfbGlua190cmFpbl9mdWxsKHN0cnVjdCBk
cm1fZHBfbGluayAqbGluaykKPiAtewo+IC0JaW50IGVycjsKPiAtCj4gLXJldHJ5Ogo+IC0JRFJN
X0RFQlVHX0tNUygiZnVsbC10cmFpbmluZyBsaW5rOiAldSBsYW5lJXMgYXQgJXUgTUh6XG4iLAo+
IC0JCSAgICAgIGxpbmstPmxhbmVzLCAobGluay0+bGFuZXMgPiAxKSA/ICJzIiA6ICIiLAo+IC0J
CSAgICAgIGxpbmstPnJhdGUgLyAxMDApOwo+IC0KPiAtCWVyciA9IGRybV9kcF9saW5rX2NvbmZp
Z3VyZShsaW5rLT5hdXgsIGxpbmspOwo+IC0JaWYgKGVyciA8IDApIHsKPiAtCQlEUk1fRVJST1Io
ImZhaWxlZCB0byBjb25maWd1cmUgRFAgbGluazogJWRcbiIsIGVycik7Cj4gLQkJcmV0dXJuIGVy
cjsKPiAtCX0KPiAtCj4gLQllcnIgPSBkcm1fZHBfbGlua19jbG9ja19yZWNvdmVyeShsaW5rKTsK
PiAtCWlmIChlcnIgPCAwKSB7Cj4gLQkJRFJNX0VSUk9SKCJjbG9jayByZWNvdmVyeSBmYWlsZWQ6
ICVkXG4iLCBlcnIpOwo+IC0JCWdvdG8gb3V0Owo+IC0JfQo+IC0KPiAtCWlmICghbGluay0+dHJh
aW4uY2xvY2tfcmVjb3ZlcmVkKSB7Cj4gLQkJRFJNX0VSUk9SKCJjbG9jayByZWNvdmVyeSBmYWls
ZWQsIGRvd25ncmFkaW5nIGxpbmtcbiIpOwo+IC0KPiAtCQllcnIgPSBkcm1fZHBfbGlua19kb3du
Z3JhZGUobGluayk7Cj4gLQkJaWYgKGVyciA8IDApCj4gLQkJCWdvdG8gb3V0Owo+IC0KPiAtCQln
b3RvIHJldHJ5Owo+IC0JfQo+IC0KPiAtCURSTV9ERUJVR19LTVMoImNsb2NrIHJlY292ZXJ5IHN1
Y2NlZWRlZFxuIik7Cj4gLQo+IC0JZXJyID0gZHJtX2RwX2xpbmtfY2hhbm5lbF9lcXVhbGl6YXRp
b24obGluayk7Cj4gLQlpZiAoZXJyIDwgMCkgewo+IC0JCURSTV9FUlJPUigiY2hhbm5lbCBlcXVh
bGl6YXRpb24gZmFpbGVkOiAlZFxuIiwgZXJyKTsKPiAtCQlnb3RvIG91dDsKPiAtCX0KPiAtCj4g
LQlpZiAoIWxpbmstPnRyYWluLmNoYW5uZWxfZXF1YWxpemVkKSB7Cj4gLQkJRFJNX0VSUk9SKCJj
aGFubmVsIGVxdWFsaXphdGlvbiBmYWlsZWQsIGRvd25ncmFkaW5nIGxpbmtcbiIpOwo+IC0KPiAt
CQllcnIgPSBkcm1fZHBfbGlua19kb3duZ3JhZGUobGluayk7Cj4gLQkJaWYgKGVyciA8IDApCj4g
LQkJCWdvdG8gb3V0Owo+IC0KPiAtCQlnb3RvIHJldHJ5Owo+IC0JfQo+IC0KPiAtCURSTV9ERUJV
R19LTVMoImNoYW5uZWwgZXF1YWxpemF0aW9uIHN1Y2NlZWRlZFxuIik7Cj4gLQo+IC1vdXQ6Cj4g
LQlkcm1fZHBfbGlua190cmFpbl9kaXNhYmxlKGxpbmspOwo+IC0JcmV0dXJuIGVycjsKPiAtfQo+
IC0KPiAtc3RhdGljIGludCBkcm1fZHBfbGlua190cmFpbl9mYXN0KHN0cnVjdCBkcm1fZHBfbGlu
ayAqbGluaykKPiAtewo+IC0JdTggc3RhdHVzW0RQX0xJTktfU1RBVFVTX1NJWkVdOwo+IC0JaW50
IGVycjsKPiAtCj4gLQlEUk1fREVCVUdfS01TKCJmYXN0LXRyYWluaW5nIGxpbms6ICV1IGxhbmUl
cyBhdCAldSBNSHpcbiIsCj4gLQkJICAgICAgbGluay0+bGFuZXMsIChsaW5rLT5sYW5lcyA+IDEp
ID8gInMiIDogIiIsCj4gLQkJICAgICAgbGluay0+cmF0ZSAvIDEwMCk7Cj4gLQo+IC0JZXJyID0g
ZHJtX2RwX2xpbmtfY29uZmlndXJlKGxpbmstPmF1eCwgbGluayk7Cj4gLQlpZiAoZXJyIDwgMCkg
ewo+IC0JCURSTV9FUlJPUigiZmFpbGVkIHRvIGNvbmZpZ3VyZSBEUCBsaW5rOiAlZFxuIiwgZXJy
KTsKPiAtCQlyZXR1cm4gZXJyOwo+IC0JfQo+IC0KPiAtCS8qIHRyYW5zbWl0IHRyYWluaW5nIHBh
dHRlcm4gMSBmb3IgNTAwIG1pY3Jvc2Vjb25kcyAqLwo+IC0JbGluay0+dHJhaW4ucGF0dGVybiA9
IERQX1RSQUlOSU5HX1BBVFRFUk5fMTsKPiAtCj4gLQllcnIgPSBkcm1fZHBfbGlua19hcHBseV90
cmFpbmluZyhsaW5rKTsKPiAtCWlmIChlcnIgPCAwKQo+IC0JCWdvdG8gb3V0Owo+IC0KPiAtCXVz
bGVlcF9yYW5nZSg1MDAsIDEwMDApOwo+IC0KPiAtCS8qIHRyYW5zbWl0IHRyYWluaW5nIHBhdHRl
cm4gMiBvciAzIGZvciA1MDAgbWljcm9zZWNvbmRzICovCj4gLQlpZiAobGluay0+Y2Fwcy50cHMz
X3N1cHBvcnRlZCkKPiAtCQlsaW5rLT50cmFpbi5wYXR0ZXJuID0gRFBfVFJBSU5JTkdfUEFUVEVS
Tl8zOwo+IC0JZWxzZQo+IC0JCWxpbmstPnRyYWluLnBhdHRlcm4gPSBEUF9UUkFJTklOR19QQVRU
RVJOXzI7Cj4gLQo+IC0JZXJyID0gZHJtX2RwX2xpbmtfYXBwbHlfdHJhaW5pbmcobGluayk7Cj4g
LQlpZiAoZXJyIDwgMCkKPiAtCQlnb3RvIG91dDsKPiAtCj4gLQl1c2xlZXBfcmFuZ2UoNTAwLCAx
MDAwKTsKPiAtCj4gLQllcnIgPSBkcm1fZHBfZHBjZF9yZWFkX2xpbmtfc3RhdHVzKGxpbmstPmF1
eCwgc3RhdHVzKTsKPiAtCWlmIChlcnIgPCAwKSB7Cj4gLQkJRFJNX0VSUk9SKCJmYWlsZWQgdG8g
cmVhZCBsaW5rIHN0YXR1czogJWRcbiIsIGVycik7Cj4gLQkJZ290byBvdXQ7Cj4gLQl9Cj4gLQo+
IC0JaWYgKCFkcm1fZHBfY2xvY2tfcmVjb3Zlcnlfb2soc3RhdHVzLCBsaW5rLT5sYW5lcykpIHsK
PiAtCQlEUk1fRVJST1IoImNsb2NrIHJlY292ZXJ5IGZhaWxlZFxuIik7Cj4gLQkJZXJyID0gLUVJ
TzsKPiAtCX0KPiAtCj4gLQlpZiAoIWRybV9kcF9jaGFubmVsX2VxX29rKHN0YXR1cywgbGluay0+
bGFuZXMpKSB7Cj4gLQkJRFJNX0VSUk9SKCJjaGFubmVsIGVxdWFsaXphdGlvbiBmYWlsZWRcbiIp
Owo+IC0JCWVyciA9IC1FSU87Cj4gLQl9Cj4gLQo+IC1vdXQ6Cj4gLQlkcm1fZHBfbGlua190cmFp
bl9kaXNhYmxlKGxpbmspOwo+IC0JcmV0dXJuIGVycjsKPiAtfQo+IC0KPiAtLyoqCj4gLSAqIGRy
bV9kcF9saW5rX3RyYWluKCkgLSBwZXJmb3JtIERpc3BsYXlQb3J0IGxpbmsgdHJhaW5pbmcKPiAt
ICogQGxpbms6IGEgRFAgbGluayBvYmplY3QKPiAtICoKPiAtICogVXNlcyB0aGUgY29udGV4dCBz
dG9yZWQgaW4gdGhlIERQIGxpbmsgb2JqZWN0IHRvIHBlcmZvcm0gbGluayB0cmFpbmluZy4gSXQK
PiAtICogaXMgZXhwZWN0ZWQgdGhhdCBkcml2ZXJzIHdpbGwgY2FsbCBkcm1fZHBfbGlua19wcm9i
ZSgpIHRvIG9idGFpbiB0aGUgbGluawo+IC0gKiBjYXBhYmlsaXRpZXMgYmVmb3JlIHBlcmZvcm1p
bmcgbGluayB0cmFpbmluZy4KPiAtICoKPiAtICogSWYgdGhlIHNpbmsgc3VwcG9ydHMgZmFzdCBs
aW5rIHRyYWluaW5nIChubyBBVVggQ0ggaGFuZHNoYWtlKSBhbmQgdmFsaWQKPiAtICogdHJhaW5p
bmcgc2V0dGluZ3MgYXJlIGF2YWlsYWJsZSwgdGhpcyBmdW5jdGlvbiB3aWxsIHRyeSB0byBwZXJm
b3JtIGZhc3QKPiAtICogbGluayB0cmFpbmluZyBhbmQgZmFsbCBiYWNrIHRvIGZ1bGwgbGluayB0
cmFpbmluZyBvbiBmYWlsdXJlLgo+IC0gKgo+IC0gKiBSZXR1cm5zOiAwIG9uIHN1Y2Nlc3Mgb3Ig
YSBuZWdhdGl2ZSBlcnJvciBjb2RlIG9uIGZhaWx1cmUuCj4gLSAqLwo+IC1pbnQgZHJtX2RwX2xp
bmtfdHJhaW4oc3RydWN0IGRybV9kcF9saW5rICpsaW5rKQo+IC17Cj4gLQlpbnQgZXJyOwo+IC0K
PiAtCWRybV9kcF9saW5rX3RyYWluX2luaXQoJmxpbmstPnRyYWluKTsKPiAtCj4gLQlpZiAobGlu
ay0+Y2Fwcy5mYXN0X3RyYWluaW5nKSB7Cj4gLQkJaWYgKGRybV9kcF9saW5rX3RyYWluX3ZhbGlk
KCZsaW5rLT50cmFpbikpIHsKPiAtCQkJZXJyID0gZHJtX2RwX2xpbmtfdHJhaW5fZmFzdChsaW5r
KTsKPiAtCQkJaWYgKGVyciA8IDApCj4gLQkJCQlEUk1fRVJST1IoImZhc3QgbGluayB0cmFpbmlu
ZyBmYWlsZWQ6ICVkXG4iLAo+IC0JCQkJCSAgZXJyKTsKPiAtCQkJZWxzZQo+IC0JCQkJcmV0dXJu
IDA7Cj4gLQkJfSBlbHNlIHsKPiAtCQkJRFJNX0RFQlVHX0tNUygidHJhaW5pbmcgcGFyYW1ldGVy
cyBub3QgYXZhaWxhYmxlXG4iKTsKPiAtCQl9Cj4gLQl9IGVsc2Ugewo+IC0JCURSTV9ERUJVR19L
TVMoImZhc3QgbGluayB0cmFpbmluZyBub3Qgc3VwcG9ydGVkXG4iKTsKPiAtCX0KPiAtCj4gLQll
cnIgPSBkcm1fZHBfbGlua190cmFpbl9mdWxsKGxpbmspOwo+IC0JaWYgKGVyciA8IDApCj4gLQkJ
RFJNX0VSUk9SKCJmdWxsIGxpbmsgdHJhaW5pbmcgZmFpbGVkOiAlZFxuIiwgZXJyKTsKPiAtCj4g
LQlyZXR1cm4gZXJyOwo+IC19Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS90ZWdyYS9k
cC5oIGIvZHJpdmVycy9ncHUvZHJtL3RlZ3JhL2RwLmgKPiBkZWxldGVkIGZpbGUgbW9kZSAxMDA2
NDQKPiBpbmRleCBjYjEyZWQwLi4wMDAwMDAwMAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS90ZWdy
YS9kcC5oCj4gKysrIC9kZXYvbnVsbAo+IEBAIC0xLDE3NyArMCwwIEBACj4gLS8qIFNQRFgtTGlj
ZW5zZS1JZGVudGlmaWVyOiBNSVQgKi8KPiAtLyoKPiAtICogQ29weXJpZ2h0IChDKSAyMDEzLTIw
MTkgTlZJRElBIENvcnBvcmF0aW9uLgo+IC0gKiBDb3B5cmlnaHQgKEMpIDIwMTUgUm9iIENsYXJr
Cj4gLSAqLwo+IC0KPiAtI2lmbmRlZiBEUk1fVEVHUkFfRFBfSAo+IC0jZGVmaW5lIERSTV9URUdS
QV9EUF9IIDEKPiAtCj4gLSNpbmNsdWRlIDxsaW51eC90eXBlcy5oPgo+IC0KPiAtc3RydWN0IGRy
bV9kaXNwbGF5X2luZm87Cj4gLXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlOwo+IC1zdHJ1Y3QgZHJt
X2RwX2F1eDsKPiAtc3RydWN0IGRybV9kcF9saW5rOwo+IC0KPiAtLyoqCj4gLSAqIHN0cnVjdCBk
cm1fZHBfbGlua19jYXBzIC0gRFAgbGluayBjYXBhYmlsaXRpZXMKPiAtICovCj4gLXN0cnVjdCBk
cm1fZHBfbGlua19jYXBzIHsKPiAtCS8qKgo+IC0JICogQGVuaGFuY2VkX2ZyYW1pbmc6Cj4gLQkg
Kgo+IC0JICogZW5oYW5jZWQgZnJhbWluZyBjYXBhYmlsaXR5IChtYW5kYXRvcnkgYXMgb2YgRFAg
MS4yKQo+IC0JICovCj4gLQlib29sIGVuaGFuY2VkX2ZyYW1pbmc7Cj4gLQo+IC0JLyoqCj4gLQkg
KiB0cHMzX3N1cHBvcnRlZDoKPiAtCSAqCj4gLQkgKiB0cmFpbmluZyBwYXR0ZXJuIHNlcXVlbmNl
IDMgc3VwcG9ydGVkIGZvciBlcXVhbGl6YXRpb24KPiAtCSAqLwo+IC0JYm9vbCB0cHMzX3N1cHBv
cnRlZDsKPiAtCj4gLQkvKioKPiAtCSAqIEBmYXN0X3RyYWluaW5nOgo+IC0JICoKPiAtCSAqIEFV
WCBDSCBoYW5kc2hha2Ugbm90IHJlcXVpcmVkIGZvciBsaW5rIHRyYWluaW5nCj4gLQkgKi8KPiAt
CWJvb2wgZmFzdF90cmFpbmluZzsKPiAtCj4gLQkvKioKPiAtCSAqIEBjaGFubmVsX2NvZGluZzoK
PiAtCSAqCj4gLQkgKiBBTlNJIDhCLzEwQiBjaGFubmVsIGNvZGluZyBjYXBhYmlsaXR5Cj4gLQkg
Ki8KPiAtCWJvb2wgY2hhbm5lbF9jb2Rpbmc7Cj4gLQo+IC0JLyoqCj4gLQkgKiBAYWx0ZXJuYXRl
X3NjcmFtYmxlcl9yZXNldDoKPiAtCSAqCj4gLQkgKiBlRFAgYWx0ZXJuYXRlIHNjcmFtYmxlciBy
ZXNldCBjYXBhYmlsaXR5Cj4gLQkgKi8KPiAtCWJvb2wgYWx0ZXJuYXRlX3NjcmFtYmxlcl9yZXNl
dDsKPiAtfTsKPiAtCj4gLXZvaWQgZHJtX2RwX2xpbmtfY2Fwc19jb3B5KHN0cnVjdCBkcm1fZHBf
bGlua19jYXBzICpkZXN0LAo+IC0JCQkgICBjb25zdCBzdHJ1Y3QgZHJtX2RwX2xpbmtfY2FwcyAq
c3JjKTsKPiAtCj4gLS8qKgo+IC0gKiBzdHJ1Y3QgZHJtX2RwX2xpbmtfb3BzIC0gRFAgbGluayBv
cGVyYXRpb25zCj4gLSAqLwo+IC1zdHJ1Y3QgZHJtX2RwX2xpbmtfb3BzIHsKPiAtCS8qKgo+IC0J
ICogQGFwcGx5X3RyYWluaW5nOgo+IC0JICovCj4gLQlpbnQgKCphcHBseV90cmFpbmluZykoc3Ry
dWN0IGRybV9kcF9saW5rICpsaW5rKTsKPiAtCj4gLQkvKioKPiAtCSAqIEBjb25maWd1cmU6Cj4g
LQkgKi8KPiAtCWludCAoKmNvbmZpZ3VyZSkoc3RydWN0IGRybV9kcF9saW5rICpsaW5rKTsKPiAt
fTsKPiAtCj4gLSNkZWZpbmUgRFBfVFJBSU5fVk9MVEFHRV9TV0lOR19MRVZFTCh4KSAoKHgpIDw8
IDApCj4gLSNkZWZpbmUgRFBfVFJBSU5fUFJFX0VNUEhBU0lTX0xFVkVMKHgpICgoeCkgPDwgMykK
PiAtI2RlZmluZSBEUF9MQU5FX1BPU1RfQ1VSU09SKGksIHgpICgoKHgpICYgMHgzKSA8PCAoKChp
KSAmIDEpIDw8IDIpKQo+IC0KPiAtLyoqCj4gLSAqIHN0cnVjdCBkcm1fZHBfbGlua190cmFpbl9z
ZXQgLSBsaW5rIHRyYWluaW5nIHNldHRpbmdzCj4gLSAqIEB2b2x0YWdlX3N3aW5nOiBwZXItbGFu
ZSB2b2x0YWdlIHN3aW5nCj4gLSAqIEBwcmVfZW1waGFzaXM6IHBlci1sYW5lIHByZS1lbXBoYXNp
cwo+IC0gKiBAcG9zdF9jdXJzb3I6IHBlci1sYW5lIHBvc3QtY3Vyc29yCj4gLSAqLwo+IC1zdHJ1
Y3QgZHJtX2RwX2xpbmtfdHJhaW5fc2V0IHsKPiAtCXVuc2lnbmVkIGludCB2b2x0YWdlX3N3aW5n
WzRdOwo+IC0JdW5zaWduZWQgaW50IHByZV9lbXBoYXNpc1s0XTsKPiAtCXVuc2lnbmVkIGludCBw
b3N0X2N1cnNvcls0XTsKPiAtfTsKPiAtCj4gLS8qKgo+IC0gKiBzdHJ1Y3QgZHJtX2RwX2xpbmtf
dHJhaW4gLSBsaW5rIHRyYWluaW5nIHN0YXRlIGluZm9ybWF0aW9uCj4gLSAqIEByZXF1ZXN0OiBj
dXJyZW50bHkgcmVxdWVzdGVkIHNldHRpbmdzCj4gLSAqIEBhZGp1c3Q6IGFkanVzdG1lbnRzIHJl
cXVlc3RlZCBieSBzaW5rCj4gLSAqIEBwYXR0ZXJuOiBjdXJyZW50bHkgcmVxdWVzdGVkIHRyYWlu
aW5nIHBhdHRlcm4KPiAtICogQGNsb2NrX3JlY292ZXJlZDogZmxhZyB0byB0cmFjayBpZiBjbG9j
ayByZWNvdmVyeSBoYXMgY29tcGxldGVkCj4gLSAqIEBjaGFubmVsX2VxdWFsaXplZDogZmxhZyB0
byB0cmFjayBpZiBjaGFubmVsIGVxdWFsaXphdGlvbiBoYXMgY29tcGxldGVkCj4gLSAqLwo+IC1z
dHJ1Y3QgZHJtX2RwX2xpbmtfdHJhaW4gewo+IC0Jc3RydWN0IGRybV9kcF9saW5rX3RyYWluX3Nl
dCByZXF1ZXN0Owo+IC0Jc3RydWN0IGRybV9kcF9saW5rX3RyYWluX3NldCBhZGp1c3Q7Cj4gLQo+
IC0JdW5zaWduZWQgaW50IHBhdHRlcm47Cj4gLQo+IC0JYm9vbCBjbG9ja19yZWNvdmVyZWQ7Cj4g
LQlib29sIGNoYW5uZWxfZXF1YWxpemVkOwo+IC19Owo+IC0KPiAtLyoqCj4gLSAqIHN0cnVjdCBk
cm1fZHBfbGluayAtIERQIGxpbmsgY2FwYWJpbGl0aWVzIGFuZCBjb25maWd1cmF0aW9uCj4gLSAq
IEByZXZpc2lvbjogRFAgc3BlY2lmaWNhdGlvbiByZXZpc2lvbiBzdXBwb3J0ZWQgb24gdGhlIGxp
bmsKPiAtICogQG1heF9yYXRlOiBtYXhpbXVtIGNsb2NrIHJhdGUgc3VwcG9ydGVkIG9uIHRoZSBs
aW5rCj4gLSAqIEBtYXhfbGFuZXM6IG1heGltdW0gbnVtYmVyIG9mIGxhbmVzIHN1cHBvcnRlZCBv
biB0aGUgbGluawo+IC0gKiBAY2FwczogY2FwYWJpbGl0aWVzIHN1cHBvcnRlZCBvbiB0aGUgbGlu
ayAoc2VlICZkcm1fZHBfbGlua19jYXBzKQo+IC0gKiBAYXV4X3JkX2ludGVydmFsOiBBVVggcmVh
ZCBpbnRlcnZhbCB0byB1c2UgZm9yIHRyYWluaW5nIChpbiBtaWNyb3NlY29uZHMpCj4gLSAqIEBl
ZHA6IGVEUCByZXZpc2lvbiAoMHgxMTogZURQIDEuMSwgMHgxMjogZURQIDEuMiwgLi4uKQo+IC0g
KiBAcmF0ZTogY3VycmVudGx5IGNvbmZpZ3VyZWQgbGluayByYXRlCj4gLSAqIEBsYW5lczogY3Vy
cmVudGx5IGNvbmZpZ3VyZWQgbnVtYmVyIG9mIGxhbmVzCj4gLSAqIEByYXRlczogYWRkaXRpb25h
bCBzdXBwb3J0ZWQgbGluayByYXRlcyBpbiBrSHogKGVEUCAxLjQpCj4gLSAqIEBudW1fcmF0ZXM6
IG51bWJlciBvZiBhZGRpdGlvbmFsIHN1cHBvcnRlZCBsaW5rIHJhdGVzIChlRFAgMS40KQo+IC0g
Ki8KPiAtc3RydWN0IGRybV9kcF9saW5rIHsKPiAtCXVuc2lnbmVkIGNoYXIgcmV2aXNpb247Cj4g
LQl1bnNpZ25lZCBpbnQgbWF4X3JhdGU7Cj4gLQl1bnNpZ25lZCBpbnQgbWF4X2xhbmVzOwo+IC0K
PiAtCXN0cnVjdCBkcm1fZHBfbGlua19jYXBzIGNhcHM7Cj4gLQo+IC0JLyoqCj4gLQkgKiBAY3I6
IGNsb2NrIHJlY292ZXJ5IHJlYWQgaW50ZXJ2YWwKPiAtCSAqIEBjZTogY2hhbm5lbCBlcXVhbGl6
YXRpb24gcmVhZCBpbnRlcnZhbAo+IC0JICovCj4gLQlzdHJ1Y3Qgewo+IC0JCXVuc2lnbmVkIGlu
dCBjcjsKPiAtCQl1bnNpZ25lZCBpbnQgY2U7Cj4gLQl9IGF1eF9yZF9pbnRlcnZhbDsKPiAtCj4g
LQl1bnNpZ25lZCBjaGFyIGVkcDsKPiAtCj4gLQl1bnNpZ25lZCBpbnQgcmF0ZTsKPiAtCXVuc2ln
bmVkIGludCBsYW5lczsKPiAtCj4gLQl1bnNpZ25lZCBsb25nIHJhdGVzW0RQX01BWF9TVVBQT1JU
RURfUkFURVNdOwo+IC0JdW5zaWduZWQgaW50IG51bV9yYXRlczsKPiAtCj4gLQkvKioKPiAtCSAq
IEBvcHM6IERQIGxpbmsgb3BlcmF0aW9ucwo+IC0JICovCj4gLQljb25zdCBzdHJ1Y3QgZHJtX2Rw
X2xpbmtfb3BzICpvcHM7Cj4gLQo+IC0JLyoqCj4gLQkgKiBAYXV4OiBEUCBBVVggY2hhbm5lbAo+
IC0JICovCj4gLQlzdHJ1Y3QgZHJtX2RwX2F1eCAqYXV4Owo+IC0KPiAtCS8qKgo+IC0JICogQHRy
YWluOiBEUCBsaW5rIHRyYWluaW5nIHN0YXRlCj4gLQkgKi8KPiAtCXN0cnVjdCBkcm1fZHBfbGlu
a190cmFpbiB0cmFpbjsKPiAtfTsKPiAtCj4gLWludCBkcm1fZHBfbGlua19hZGRfcmF0ZShzdHJ1
Y3QgZHJtX2RwX2xpbmsgKmxpbmssIHVuc2lnbmVkIGxvbmcgcmF0ZSk7Cj4gLWludCBkcm1fZHBf
bGlua19yZW1vdmVfcmF0ZShzdHJ1Y3QgZHJtX2RwX2xpbmsgKmxpbmssIHVuc2lnbmVkIGxvbmcg
cmF0ZSk7Cj4gLXZvaWQgZHJtX2RwX2xpbmtfdXBkYXRlX3JhdGVzKHN0cnVjdCBkcm1fZHBfbGlu
ayAqbGluayk7Cj4gLQo+IC1pbnQgZHJtX2RwX2xpbmtfcHJvYmUoc3RydWN0IGRybV9kcF9hdXgg
KmF1eCwgc3RydWN0IGRybV9kcF9saW5rICpsaW5rKTsKPiAtaW50IGRybV9kcF9saW5rX3Bvd2Vy
X3VwKHN0cnVjdCBkcm1fZHBfYXV4ICphdXgsIHN0cnVjdCBkcm1fZHBfbGluayAqbGluayk7Cj4g
LWludCBkcm1fZHBfbGlua19wb3dlcl9kb3duKHN0cnVjdCBkcm1fZHBfYXV4ICphdXgsIHN0cnVj
dCBkcm1fZHBfbGluayAqbGluayk7Cj4gLWludCBkcm1fZHBfbGlua19jb25maWd1cmUoc3RydWN0
IGRybV9kcF9hdXggKmF1eCwgc3RydWN0IGRybV9kcF9saW5rICpsaW5rKTsKPiAtaW50IGRybV9k
cF9saW5rX2Nob29zZShzdHJ1Y3QgZHJtX2RwX2xpbmsgKmxpbmssCj4gLQkJICAgICAgIGNvbnN0
IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlLAo+IC0JCSAgICAgICBjb25zdCBzdHJ1Y3Qg
ZHJtX2Rpc3BsYXlfaW5mbyAqaW5mbyk7Cj4gLQo+IC12b2lkIGRybV9kcF9saW5rX3RyYWluX2lu
aXQoc3RydWN0IGRybV9kcF9saW5rX3RyYWluICp0cmFpbik7Cj4gLWludCBkcm1fZHBfbGlua190
cmFpbihzdHJ1Y3QgZHJtX2RwX2xpbmsgKmxpbmspOwo+IC0KPiAtI2VuZGlmCj4gZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS90ZWdyYS9kcGF1eC5jIGIvZHJpdmVycy9ncHUvZHJtL3RlZ3Jh
L2RwYXV4LmMKPiBpbmRleCA2MjJjZGYxLi4wNjYxNzdhIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMv
Z3B1L2RybS90ZWdyYS9kcGF1eC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3RlZ3JhL2RwYXV4
LmMKPiBAQCAtMjMsNyArMjMsNiBAQAo+ICAjaW5jbHVkZSA8ZHJtL2RybV9kcF9oZWxwZXIuaD4K
PiAgI2luY2x1ZGUgPGRybS9kcm1fcGFuZWwuaD4KPiAgCj4gLSNpbmNsdWRlICJkcC5oIgo+ICAj
aW5jbHVkZSAiZHBhdXguaCIKPiAgI2luY2x1ZGUgImRybS5oIgo+ICAjaW5jbHVkZSAidHJhY2Uu
aCIKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3RlZ3JhL3Nvci5jIGIvZHJpdmVycy9n
cHUvZHJtL3RlZ3JhL3Nvci5jCj4gaW5kZXggNjE1Y2IzMS4uMjljM2FlOCAxMDA2NDQKPiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vdGVncmEvc29yLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vdGVn
cmEvc29yLmMKPiBAQCAtMjUsNyArMjUsNiBAQAo+ICAjaW5jbHVkZSA8ZHJtL2RybV9zY2RjX2hl
bHBlci5oPgo+ICAKPiAgI2luY2x1ZGUgImRjLmgiCj4gLSNpbmNsdWRlICJkcC5oIgo+ICAjaW5j
bHVkZSAiZHJtLmgiCj4gICNpbmNsdWRlICJoZGEuaCIKPiAgI2luY2x1ZGUgInNvci5oIgo+IGRp
ZmYgLS1naXQgYS9pbmNsdWRlL2RybS9kcm1fZHBfaGVscGVyLmggYi9pbmNsdWRlL2RybS9kcm1f
ZHBfaGVscGVyLmgKPiBpbmRleCA1MWVjYjUxLi4wNGY2YzBiIDEwMDY0NAo+IC0tLSBhL2luY2x1
ZGUvZHJtL2RybV9kcF9oZWxwZXIuaAo+ICsrKyBiL2luY2x1ZGUvZHJtL2RybV9kcF9oZWxwZXIu
aAo+IEBAIC0xNDU1LDYgKzE0NTUsMjIgQEAgc3RhdGljIGlubGluZSBzc2l6ZV90IGRybV9kcF9k
cGNkX3dyaXRlYihzdHJ1Y3QgZHJtX2RwX2F1eCAqYXV4LAo+ICBpbnQgZHJtX2RwX2RwY2RfcmVh
ZF9saW5rX3N0YXR1cyhzdHJ1Y3QgZHJtX2RwX2F1eCAqYXV4LAo+ICAJCQkJIHU4IHN0YXR1c1tE
UF9MSU5LX1NUQVRVU19TSVpFXSk7Cj4gIAo+ICsvKgo+ICsgKiBEaXNwbGF5UG9ydCBsaW5rCj4g
KyAqLwo+ICsjZGVmaW5lIERQX0xJTktfQ0FQX0VOSEFOQ0VEX0ZSQU1JTkcgKDEgPDwgMCkKPiAr
Cj4gK3N0cnVjdCBkcm1fZHBfbGluayB7Cj4gKwl1bnNpZ25lZCBjaGFyIHJldmlzaW9uOwo+ICsJ
dW5zaWduZWQgaW50IHJhdGU7Cj4gKwl1bnNpZ25lZCBpbnQgbnVtX2xhbmVzOwo+ICsJdW5zaWdu
ZWQgbG9uZyBjYXBhYmlsaXRpZXM7Cj4gK307Cj4gKwo+ICtpbnQgZHJtX2RwX2xpbmtfcHJvYmUo
c3RydWN0IGRybV9kcF9hdXggKmF1eCwgc3RydWN0IGRybV9kcF9saW5rICpsaW5rKTsKPiAraW50
IGRybV9kcF9saW5rX3Bvd2VyX3VwKHN0cnVjdCBkcm1fZHBfYXV4ICphdXgsIHN0cnVjdCBkcm1f
ZHBfbGluayAqbGluayk7Cj4gK2ludCBkcm1fZHBfbGlua19wb3dlcl9kb3duKHN0cnVjdCBkcm1f
ZHBfYXV4ICphdXgsIHN0cnVjdCBkcm1fZHBfbGluayAqbGluayk7Cj4gK2ludCBkcm1fZHBfbGlu
a19jb25maWd1cmUoc3RydWN0IGRybV9kcF9hdXggKmF1eCwgc3RydWN0IGRybV9kcF9saW5rICps
aW5rKTsKPiAgaW50IGRybV9kcF9kb3duc3RyZWFtX21heF9jbG9jayhjb25zdCB1OCBkcGNkW0RQ
X1JFQ0VJVkVSX0NBUF9TSVpFXSwKPiAgCQkJCWNvbnN0IHU4IHBvcnRfY2FwWzRdKTsKPiAgaW50
IGRybV9kcF9kb3duc3RyZWFtX21heF9icGMoY29uc3QgdTggZHBjZFtEUF9SRUNFSVZFUl9DQVBf
U0laRV0sCj4gCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
XwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcK
aHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWwK
