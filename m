Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id EC554615EE
	for <lists+dri-devel@lfdr.de>; Sun,  7 Jul 2019 20:29:25 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 9E3BD892BB;
	Sun,  7 Jul 2019 18:29:23 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from perceval.ideasonboard.com (perceval.ideasonboard.com
 [213.167.242.64])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 329F3892BB
 for <dri-devel@lists.freedesktop.org>; Sun,  7 Jul 2019 18:29:22 +0000 (UTC)
Received: from pendragon.nordic-sky.finnair.com (unknown [38.98.37.142])
 by perceval.ideasonboard.com (Postfix) with ESMTPSA id 5DCDB334;
 Sun,  7 Jul 2019 20:29:02 +0200 (CEST)
From: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH 25/60] drm: Add helper to create a connector for a chain of
 bridges
Date: Sun,  7 Jul 2019 21:19:02 +0300
Message-Id: <20190707181937.6250-22-laurent.pinchart@ideasonboard.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190707181937.6250-1-laurent.pinchart@ideasonboard.com>
References: <20190707180852.5512-1-laurent.pinchart@ideasonboard.com>
 <20190707181937.6250-1-laurent.pinchart@ideasonboard.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=ideasonboard.com; s=mail; t=1562524160;
 bh=bqJltgiiPDXsr7k75W1Au5sNEZDrnd0XX2UFrbdJKPo=;
 h=From:To:Cc:Subject:Date:In-Reply-To:References:From;
 b=nJ5bIIjvFPFRLZRb5FgpU9kJC1kQNfACrISJE/X2UgwC8dB/NdqFFcJYSoSbTcBf1
 V0OV8KFbpzeBfVC4Gk0JOCQHCTkSm74f6kcUoU0Rt4oNtJX39ELgn6JqeXEpMQ0z5j
 BSlXSoPJM9I+ppVmjO2/XwBPLr6U21aB/gmxKkBc=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Maxime Ripard <maxime.ripard@bootlin.com>,
 Sebastian Reichel <sebastian.reichel@collabora.com>,
 Tomi Valkeinen <tomi.valkeinen@ti.com>, Sean Paul <sean@poorly.run>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

TW9zdCBicmlkZ2UgZHJpdmVycyBjcmVhdGUgYSBEUk0gY29ubmVjdG9yIHRvIG1vZGVsIHRoZSBj
b25uZWN0b3IgYXQgdGhlCm91dHB1dCBvZiB0aGUgYnJpZGdlLiBUaGlzIG1vZGVsIGlzIGhpc3Rv
cmljYWwgYW5kIGhhcyB3b3JrZWQgcHJldHR5CndlbGwgc28gZmFyLCBidXQgY2F1c2VzIHNldmVy
YWwgaXNzdWVzOgoKLSBJdCBwcmV2ZW50cyBzdXBwb3J0aW5nIG1vcmUgY29tcGxleCBkaXNwbGF5
IHBpcGVsaW5lcyB3aGVyZSBEUk0KY29ubmVjdG9yIG9wZXJhdGlvbnMgYXJlIHNwbGl0IG92ZXIg
bXVsdGlwbGUgY29tcG9uZW50cy4gRm9yIGluc3RhbmNlIGEKcGlwZWxpbmUgd2l0aCBhIGJyaWRn
ZSBjb25uZWN0ZWQgdG8gdGhlIEREQyBzaWduYWxzIHRvIHJlYWQgRURJRCBkYXRhLAphbmQgYW5v
dGhlciBvbmUgY29ubmVjdGVkIHRvIHRoZSBIUEQgc2lnbmFsIHRvIGRldGVjdCBjb25uZWN0aW9u
IGFuZApkaXNjb25uZWN0aW9uLCB3aWxsIG5vdCBiZSBwb3NzaWJsZSB0byBzdXBwb3J0IHRocm91
Z2ggdGhpcyBtb2RlbC4KCi0gSXQgcmVxdWlyZXMgZXZlcnkgYnJpZGdlIGRyaXZlciB0byBpbXBs
ZW1lbnQgc2ltaWxhciBjb25uZWN0b3IKaGFuZGxpbmcgY29kZSwgcmVzdWx0aW5nIGluIGNvZGUg
ZHVwbGljYXRpb24uCgotIEl0IGFzc3VtZXMgdGhhdCBhIGJyaWRnZSB3aWxsIGVpdGhlciBiZSB3
aXJlZCB0byBhIGNvbm5lY3RvciBvciB0bwphbm90aGVyIGJyaWRnZSwgYnV0IGRvZXNuJ3Qgc3Vw
cG9ydCBicmlkZ2VzIHRoYXQgY2FuIGJlIHVzZWQgaW4gYm90aApwb3NpdGlvbnMgdmVyeSB3ZWxs
IChhbHRob3VnaCB0aGVyZSBpcyBzb21lIGFkLWhvYyBzdXBwb3J0IGZvciB0aGlzIGluCnRoZSBh
bmFsb2dpeF9kcCBicmlkZ2UgZHJpdmVyKS4KCkluIG9yZGVyIHRvIHNvbHZlIHRoZXNlIGlzc3Vl
cywgb3duZXJzaGlwIG9mIHRoZSBjb25uZWN0b3IgbmVlZHMgdG8gYmUKbW92ZWQgdG8gdGhlIGRp
c3BsYXkgY29udHJvbGxlciBkcml2ZXIuCgpUbyBhdm9pZCBjb2RlIGR1cGxpY2F0aW9uIGluIGRp
c3BsYXkgY29udHJvbGxlciBkcml2ZXJzLCBhZGQgYSBuZXcKaGVscGVyIHRvIGNyZWF0ZSBhbmQg
bWFuYWdlIGEgRFJNIGNvbm5lY3RvciBiYWNrZWQgYnkgYSBjaGFpbiBvZgpicmlkZ2VzLiBBbGwg
Y29ubmVjdG9yIG9wZXJhdGlvbnMgYXJlIGRlbGVnYXRpbmcgdG8gdGhlIGFwcHJvcHJpYXRlCmJy
aWRnZSBpbiB0aGUgY2hhaW4uCgpTaWduZWQtb2ZmLWJ5OiBMYXVyZW50IFBpbmNoYXJ0IDxsYXVy
ZW50LnBpbmNoYXJ0QGlkZWFzb25ib2FyZC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL01ha2Vm
aWxlICAgICAgICAgICAgICAgfCAgIDMgKy0KIGRyaXZlcnMvZ3B1L2RybS9kcm1fYnJpZGdlX2Nv
bm5lY3Rvci5jIHwgMzg1ICsrKysrKysrKysrKysrKysrKysrKysrKysKIGluY2x1ZGUvZHJtL2Ry
bV9icmlkZ2VfY29ubmVjdG9yLmggICAgIHwgIDE4ICsrCiAzIGZpbGVzIGNoYW5nZWQsIDQwNSBp
bnNlcnRpb25zKCspLCAxIGRlbGV0aW9uKC0pCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9n
cHUvZHJtL2RybV9icmlkZ2VfY29ubmVjdG9yLmMKIGNyZWF0ZSBtb2RlIDEwMDY0NCBpbmNsdWRl
L2RybS9kcm1fYnJpZGdlX2Nvbm5lY3Rvci5oCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L01ha2VmaWxlIGIvZHJpdmVycy9ncHUvZHJtL01ha2VmaWxlCmluZGV4IDlmMGQyZWUzNTc5NC4u
MWI3NDY1M2M5ZGI5IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vTWFrZWZpbGUKKysrIGIv
ZHJpdmVycy9ncHUvZHJtL01ha2VmaWxlCkBAIC0zNyw3ICszNyw4IEBAIGRybV92cmFtX2hlbHBl
ci15IDo9IGRybV9nZW1fdnJhbV9oZWxwZXIubyBcCiAJCSAgICAgZHJtX3ZyYW1fbW1faGVscGVy
Lm8KIG9iai0kKENPTkZJR19EUk1fVlJBTV9IRUxQRVIpICs9IGRybV92cmFtX2hlbHBlci5vCiAK
LWRybV9rbXNfaGVscGVyLXkgOj0gZHJtX2NydGNfaGVscGVyLm8gZHJtX2RwX2hlbHBlci5vIGRy
bV9kc2MubyBkcm1fcHJvYmVfaGVscGVyLm8gXAorZHJtX2ttc19oZWxwZXIteSA6PSBkcm1fYnJp
ZGdlX2Nvbm5lY3Rvci5vIGRybV9jcnRjX2hlbHBlci5vIGRybV9kcF9oZWxwZXIubyBcCisJCWRy
bV9kc2MubyBkcm1fcHJvYmVfaGVscGVyLm8gXAogCQlkcm1fcGxhbmVfaGVscGVyLm8gZHJtX2Rw
X21zdF90b3BvbG9neS5vIGRybV9hdG9taWNfaGVscGVyLm8gXAogCQlkcm1fa21zX2hlbHBlcl9j
b21tb24ubyBkcm1fZHBfZHVhbF9tb2RlX2hlbHBlci5vIFwKIAkJZHJtX3NpbXBsZV9rbXNfaGVs
cGVyLm8gZHJtX21vZGVzZXRfaGVscGVyLm8gXApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2RybV9icmlkZ2VfY29ubmVjdG9yLmMgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2JyaWRnZV9jb25u
ZWN0b3IuYwpuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwMDAwMDAuLjA5ZjJkNmJm
YjU2MQotLS0gL2Rldi9udWxsCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fYnJpZGdlX2Nvbm5l
Y3Rvci5jCkBAIC0wLDAgKzEsMzg1IEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BM
LTIuMCsKKy8qCisgKiBDb3B5cmlnaHQgKEMpIDIwMTkgTGF1cmVudCBQaW5jaGFydCA8bGF1cmVu
dC5waW5jaGFydEBpZGVhc29uYm9hcmQuY29tPgorICovCisKKyNpbmNsdWRlIDxsaW51eC9rZXJu
ZWwuaD4KKyNpbmNsdWRlIDxsaW51eC9tb2R1bGUuaD4KKyNpbmNsdWRlIDxsaW51eC9zbGFiLmg+
CisKKyNpbmNsdWRlIDxkcm0vZHJtX2F0b21pY19zdGF0ZV9oZWxwZXIuaD4KKyNpbmNsdWRlIDxk
cm0vZHJtX2JyaWRnZS5oPgorI2luY2x1ZGUgPGRybS9kcm1fYnJpZGdlX2Nvbm5lY3Rvci5oPgor
I2luY2x1ZGUgPGRybS9kcm1fY29ubmVjdG9yLmg+CisjaW5jbHVkZSA8ZHJtL2RybV9kZXZpY2Uu
aD4KKyNpbmNsdWRlIDxkcm0vZHJtX2VkaWQuaD4KKyNpbmNsdWRlIDxkcm0vZHJtX21vZGVzZXRf
aGVscGVyX3Z0YWJsZXMuaD4KKyNpbmNsdWRlIDxkcm0vZHJtX3Byb2JlX2hlbHBlci5oPgorCisv
KioKKyAqIERPQzogb3ZlcnZpZXcKKyAqCisgKiBUaGUgRFJNIGJyaWRnZSBjb25uZWN0b3IgaGVs
cGVyIG9iamVjdCBwcm92aWRlcyBhIERSTSBjb25uZWN0b3IKKyAqIGltcGxlbWVudGF0aW9uIHRo
YXQgd3JhcHMgYSBjaGFpbiBvZiAmc3RydWN0IGRybV9icmlkZ2UuIFRoZSBjb25uZWN0b3IKKyAq
IG9wZXJhdGlvbnMgYXJlIGZ1bGx5IGltcGxlbWVudGVkIGJhc2VkIG9uIHRoZSBvcGVyYXRpb25z
IG9mIHRoZSBicmlkZ2VzIGluCisgKiB0aGUgY2hhaW4sIGFuZCBkb24ndCByZXF1aXJlIGFueSBp
bnRlcnZlbnRpb24gZnJvbSB0aGUgZGlzcGxheSBjb250cm9sbGVyCisgKiBkcml2ZXIgYXQgcnVu
dGltZS4KKyAqCisgKiBUbyB1c2UgdGhlIGhlbHBlciwgZGlzcGxheSBjb250cm9sbGVyIGRyaXZl
cnMgY3JlYXRlIGEgYnJpZGdlIGNvbm5lY3RvciB3aXRoCisgKiBhIGNhbGwgdG8gZHJtX2JyaWRn
ZV9jb25uZWN0b3JfaW5pdCgpLiBUaGlzIGFzc29jaWF0ZXMgdGhlIG5ld2x5IGNyZWF0ZWQKKyAq
IGNvbm5lY3RvciB3aXRoIHRoZSBjaGFpbiBvZiBicmlkZ2VzIHBhc3NlZCB0byB0aGUgZnVuY3Rp
b24gYW5kIHJlZ2lzdGVycyBpdAorICogd2l0aCB0aGUgRFJNIGRldmljZS4gQXQgdGhhdCBwb2lu
dCB0aGUgY29ubmVjdG9yIGJlY29tZXMgZnVsbHkgdXNhYmxlLCBubworICogZnVydGhlciBvcGVy
YXRpb24gaXMgbmVlZGVkLgorICoKKyAqIFRoZSBEUk0gYnJpZGdlIGNvbm5lY3RvciBvcGVyYXRp
b25zIGFyZSBpbXBsZW1lbnRlZCBiYXNlZCBvbiB0aGUgb3BlcmF0aW9ucworICogcHJvdmlkZWQg
YnkgdGhlIGJyaWRnZXMgaW4gdGhlIGNoYWluLiBFYWNoIGNvbm5lY3RvciBvcGVyYXRpb24gaXMg
ZGVsZWdhdGVkCisgKiB0byB0aGUgYnJpZGdlIGNsb3Nlc3QgdG8gdGhlIGNvbm5lY3RvciAoYXQg
dGhlIGVuZCBvZiB0aGUgY2hhaW4pIHRoYXQKKyAqIHByb3ZpZGVzIHRoZSByZWxldmFudCBmdW5j
dGlvbmFsaXR5LgorICoKKyAqIFRvIG1ha2UgdXNlIG9mIHRoaXMgaGVscGVyLCBhbGwgYnJpZGdl
cyBpbiB0aGUgY2hhaW4gc2hhbGwgcmVwb3J0IGJyaWRnZQorICogb3BlcmF0aW9uIGZsYWdzICgm
ZHJtX2JyaWRnZS0+b3BzKSBhbmQgYnJpZGdlIG91dHB1dCB0eXBlCisgKiAoJmRybV9icmlkZ2Ut
PnR5cGUpLCBhbmQgbm9uZSBvZiB0aGVtIG1heSBjcmVhdGUgYSBEUk0gY29ubmVjdG9yIGRpcmVj
dGx5LgorICovCisKKy8qKgorICogc3RydWN0IGRybV9icmlkZ2VfY29ubmVjdG9yIC0gQSBjb25u
ZWN0b3IgYmFja2VkIGJ5IGEgY2hhaW4gb2YgYnJpZGdlcworICovCitzdHJ1Y3QgZHJtX2JyaWRn
ZV9jb25uZWN0b3IgeworCS8qKgorCSAqIEBiYXNlOiBUaGUgYmFzZSBEUk0gY29ubmVjdG9yCisJ
ICovCisJc3RydWN0IGRybV9jb25uZWN0b3IgYmFzZTsKKwkvKioKKwkgKiBAYnJpZGdlOgorCSAq
CisJICogVGhlIGZpcnN0IGJyaWRnZSBpbiB0aGUgY2hhaW4gKGNvbm5lY3RlZCB0byB0aGUgb3V0
cHV0IG9mIHRoZSBDUlRDKS4KKwkgKi8KKwlzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlOworCS8q
KgorCSAqIEBicmlkZ2VfZWRpZDoKKwkgKgorCSAqIFRoZSBsYXN0IGJyaWRnZSBpbiB0aGUgY2hh
aW4gKGNsb3Nlc3QgdG8gdGhlIGNvbm5lY3RvcikgdGhhdCBwcm92aWRlcworCSAqIEVESUQgcmVh
ZCBzdXBwb3J0LCBpZiBhbnkgKHNlZSAmRFJNX0JSSURHRV9PUF9FRElEKS4KKwkgKi8KKwlzdHJ1
Y3QgZHJtX2JyaWRnZSAqYnJpZGdlX2VkaWQ7CisJLyoqCisJICogQGJyaWRnZV9ocGQ6CisJICoK
KwkgKiBUaGUgbGFzdCBicmlkZ2UgaW4gdGhlIGNoYWluIChjbG9zZXN0IHRvIHRoZSBjb25uZWN0
b3IpIHRoYXQgcHJvdmlkZXMKKwkgKiBob3QtcGx1ZyBkZXRlY3Rpb24gbm90aWZpY2F0aW9uLCBp
ZiBhbnkgKHNlZSAmRFJNX0JSSURHRV9PUF9IUEQpLgorCSAqLworCXN0cnVjdCBkcm1fYnJpZGdl
ICpicmlkZ2VfaHBkOworCS8qKgorCSAqIEBicmlkZ2VfZGV0ZWN0OgorCSAqCisJICogVGhlIGxh
c3QgYnJpZGdlIGluIHRoZSBjaGFpbiAoY2xvc2VzdCB0byB0aGUgY29ubmVjdG9yKSB0aGF0IHBy
b3ZpZGVzCisJICogY29ubmVjdG9yIGRldGVjdGlvbiwgaWYgYW55IChzZWUgJkRSTV9CUklER0Vf
T1BfREVURUNUKS4KKwkgKi8KKwlzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlX2RldGVjdDsKKwkv
KioKKwkgKiBAYnJpZGdlX2RldGVjdDoKKwkgKgorCSAqIFRoZSBsYXN0IGJyaWRnZSBpbiB0aGUg
Y2hhaW4gKGNsb3Nlc3QgdG8gdGhlIGNvbm5lY3RvcikgdGhhdCBwcm92aWRlcworCSAqIGNvbm5l
Y3RvciBtb2RlcyBkZXRlY3Rpb24sIGlmIGFueSAoc2VlICZEUk1fQlJJREdFX09QX01PREVTKS4K
KwkgKi8KKwlzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlX21vZGVzOworCS8qKgorCSAqIEBoZG1p
X21vZGU6IFZhbGlkIGZvciBIRE1JIGNvbm5lY3RvcnMgb25seS4KKwkgKi8KKwlib29sIGhkbWlf
bW9kZTsKK307CisKKyNkZWZpbmUgdG9fZHJtX2JyaWRnZV9jb25uZWN0b3IoeCkgXAorCWNvbnRh
aW5lcl9vZih4LCBzdHJ1Y3QgZHJtX2JyaWRnZV9jb25uZWN0b3IsIGJhc2UpCisKKy8qIC0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tCisgKiBCcmlkZ2UgQ29ubmVjdG9yIEhvdC1QbHVnIEhhbmRsaW5nCisg
Ki8KKworc3RhdGljIHZvaWQgZHJtX2JyaWRnZV9jb25uZWN0b3JfaHBkX25vdGlmeShzdHJ1Y3Qg
ZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yLAorCQkJCQkgICAgZW51bSBkcm1fY29ubmVjdG9yX3N0
YXR1cyBzdGF0dXMpCit7CisJc3RydWN0IGRybV9icmlkZ2VfY29ubmVjdG9yICpicmlkZ2VfY29u
bmVjdG9yID0KKwkJdG9fZHJtX2JyaWRnZV9jb25uZWN0b3IoY29ubmVjdG9yKTsKKwlzdHJ1Y3Qg
ZHJtX2JyaWRnZSAqYnJpZGdlOworCisJaWYgKHN0YXR1cyAhPSBjb25uZWN0b3Jfc3RhdHVzX2Rp
c2Nvbm5lY3RlZCkKKwkJcmV0dXJuOworCisJLyoKKwkgKiBOb3RpZnkgYWxsIGJyaWRnZXMgaW4g
dGhlIHBpcGVsaW5lIG9mIGRpc2Nvbm5lY3Rpb24uIFRoaXMgaXMgcmVxdWlyZWQKKwkgKiB0byBs
ZXQgdGhlIEhETUkgZW5jb2RlcnMgcmVzZXQgdGhlaXIgaW50ZXJuYWwgc3RhdGUgcmVsYXRlZCB0
bworCSAqIGNvbm5lY3Rpb24gc3RhdHVzLCBzdWNoIGFzIHRoZSBDRUMgYWRkcmVzcy4KKwkgKi8K
Kwlmb3IgKGJyaWRnZSA9IGJyaWRnZV9jb25uZWN0b3ItPmJyaWRnZTsgYnJpZGdlOyBicmlkZ2Ug
PSBicmlkZ2UtPm5leHQpIHsKKwkJaWYgKGJyaWRnZS0+ZnVuY3MtPmxvc3RfaG90cGx1ZykKKwkJ
CWJyaWRnZS0+ZnVuY3MtPmxvc3RfaG90cGx1ZyhicmlkZ2UpOworCX0KK30KKworc3RhdGljIHZv
aWQgZHJtX2JyaWRnZV9jb25uZWN0b3JfaHBkX2NiKHZvaWQgKmNiX2RhdGEsCisJCQkJCWVudW0g
ZHJtX2Nvbm5lY3Rvcl9zdGF0dXMgc3RhdHVzKQoreworCXN0cnVjdCBkcm1fYnJpZGdlX2Nvbm5l
Y3RvciAqZHJtX2JyaWRnZV9jb25uZWN0b3IgPSBjYl9kYXRhOworCXN0cnVjdCBkcm1fY29ubmVj
dG9yICpjb25uZWN0b3IgPSAmZHJtX2JyaWRnZV9jb25uZWN0b3ItPmJhc2U7CisJc3RydWN0IGRy
bV9kZXZpY2UgKmRldiA9IGNvbm5lY3Rvci0+ZGV2OworCWVudW0gZHJtX2Nvbm5lY3Rvcl9zdGF0
dXMgb2xkX3N0YXR1czsKKworCW11dGV4X2xvY2soJmRldi0+bW9kZV9jb25maWcubXV0ZXgpOwor
CW9sZF9zdGF0dXMgPSBjb25uZWN0b3ItPnN0YXR1czsKKwljb25uZWN0b3ItPnN0YXR1cyA9IHN0
YXR1czsKKwltdXRleF91bmxvY2soJmRldi0+bW9kZV9jb25maWcubXV0ZXgpOworCisJaWYgKG9s
ZF9zdGF0dXMgPT0gc3RhdHVzKQorCQlyZXR1cm47CisKKwlkcm1fYnJpZGdlX2Nvbm5lY3Rvcl9o
cGRfbm90aWZ5KGNvbm5lY3Rvciwgc3RhdHVzKTsKKworCWRybV9rbXNfaGVscGVyX2hvdHBsdWdf
ZXZlbnQoZGV2KTsKK30KKworLyoqCisgKiBkcm1fYnJpZGdlX2Nvbm5lY3Rvcl9lbmFibGVfaHBk
IC0gRW5hYmxlIGhvdC1wbHVnIGRldGVjdGlvbiBmb3IgdGhlIGNvbm5lY3RvcgorICogQGNvbm5l
Y3RvcjogVGhlIERSTSBicmlkZ2UgY29ubmVjdG9yCisgKgorICogVGhpcyBmdW5jdGlvbiBlbmFi
bGVzIGhvdC1wbHVnIGRldGVjdGlvbiBmb3IgdGhlIGdpdmVuIGJyaWRnZSBjb25uZWN0b3IuCisg
KiBUaGlzIGlzIHR5cGljYWxseSB1c2VkIGJ5IGRpc3BsYXkgZHJpdmVycyBpbiB0aGVpciByZXN1
bWUgaGFuZGxlci4KKyAqLwordm9pZCBkcm1fYnJpZGdlX2Nvbm5lY3Rvcl9lbmFibGVfaHBkKHN0
cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCit7CisJc3RydWN0IGRybV9icmlkZ2VfY29u
bmVjdG9yICpicmlkZ2VfY29ubmVjdG9yID0KKwkJdG9fZHJtX2JyaWRnZV9jb25uZWN0b3IoY29u
bmVjdG9yKTsKKwlzdHJ1Y3QgZHJtX2JyaWRnZSAqaHBkID0gYnJpZGdlX2Nvbm5lY3Rvci0+YnJp
ZGdlX2hwZDsKKworCWlmIChocGQpCisJCWRybV9icmlkZ2VfaHBkX2VuYWJsZShocGQsIGRybV9i
cmlkZ2VfY29ubmVjdG9yX2hwZF9jYiwKKwkJCQkgICAgICBicmlkZ2VfY29ubmVjdG9yKTsKK30K
K0VYUE9SVF9TWU1CT0xfR1BMKGRybV9icmlkZ2VfY29ubmVjdG9yX2VuYWJsZV9ocGQpOworCisv
KioKKyAqIGRybV9icmlkZ2VfY29ubmVjdG9yX2Rpc2FibGVfaHBkIC0gRGlzYWJsZSBob3QtcGx1
ZyBkZXRlY3Rpb24gZm9yIHRoZQorICogY29ubmVjdG9yCisgKiBAY29ubmVjdG9yOiBUaGUgRFJN
IGJyaWRnZSBjb25uZWN0b3IKKyAqCisgKiBUaGlzIGZ1bmN0aW9uIGRpc2FibGVzIGhvdC1wbHVn
IGRldGVjdGlvbiBmb3IgdGhlIGdpdmVuIGJyaWRnZSBjb25uZWN0b3IuCisgKiBUaGlzIGlzIHR5
cGljYWxseSB1c2VkIGJ5IGRpc3BsYXkgZHJpdmVycyBpbiB0aGVpciBzdXNwZW5kIGhhbmRsZXIu
CisgKi8KK3ZvaWQgZHJtX2JyaWRnZV9jb25uZWN0b3JfZGlzYWJsZV9ocGQoc3RydWN0IGRybV9j
b25uZWN0b3IgKmNvbm5lY3RvcikKK3sKKwlzdHJ1Y3QgZHJtX2JyaWRnZV9jb25uZWN0b3IgKmJy
aWRnZV9jb25uZWN0b3IgPQorCQl0b19kcm1fYnJpZGdlX2Nvbm5lY3Rvcihjb25uZWN0b3IpOwor
CXN0cnVjdCBkcm1fYnJpZGdlICpocGQgPSBicmlkZ2VfY29ubmVjdG9yLT5icmlkZ2VfaHBkOwor
CisJaWYgKGhwZCkKKwkJZHJtX2JyaWRnZV9ocGRfZGlzYWJsZShocGQpOworfQorRVhQT1JUX1NZ
TUJPTF9HUEwoZHJtX2JyaWRnZV9jb25uZWN0b3JfZGlzYWJsZV9ocGQpOworCisvKiAtLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLQorICogQnJpZGdlIENvbm5lY3RvciBGdW5jdGlvbnMKKyAqLworCitzdGF0
aWMgZW51bSBkcm1fY29ubmVjdG9yX3N0YXR1cworZHJtX2JyaWRnZV9jb25uZWN0b3JfZGV0ZWN0
KHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IsIGJvb2wgZm9yY2UpCit7CisJc3RydWN0
IGRybV9icmlkZ2VfY29ubmVjdG9yICpicmlkZ2VfY29ubmVjdG9yID0KKwkJdG9fZHJtX2JyaWRn
ZV9jb25uZWN0b3IoY29ubmVjdG9yKTsKKwlzdHJ1Y3QgZHJtX2JyaWRnZSAqZGV0ZWN0ID0gYnJp
ZGdlX2Nvbm5lY3Rvci0+YnJpZGdlX2RldGVjdDsKKwllbnVtIGRybV9jb25uZWN0b3Jfc3RhdHVz
IHN0YXR1czsKKworCWlmIChkZXRlY3QpIHsKKwkJc3RhdHVzID0gZGV0ZWN0LT5mdW5jcy0+ZGV0
ZWN0KGRldGVjdCk7CisKKwkJZHJtX2JyaWRnZV9jb25uZWN0b3JfaHBkX25vdGlmeShjb25uZWN0
b3IsIHN0YXR1cyk7CisJfSBlbHNlIHsKKwkJc3dpdGNoIChjb25uZWN0b3ItPmNvbm5lY3Rvcl90
eXBlKSB7CisJCWNhc2UgRFJNX01PREVfQ09OTkVDVE9SX0RQSToKKwkJY2FzZSBEUk1fTU9ERV9D
T05ORUNUT1JfTFZEUzoKKwkJY2FzZSBEUk1fTU9ERV9DT05ORUNUT1JfRFNJOgorCQkJc3RhdHVz
ID0gY29ubmVjdG9yX3N0YXR1c19jb25uZWN0ZWQ7CisJCQlicmVhazsKKwkJZGVmYXVsdDoKKwkJ
CXN0YXR1cyA9IGNvbm5lY3Rvcl9zdGF0dXNfdW5rbm93bjsKKwkJCWJyZWFrOworCQl9CisJfQor
CisJcmV0dXJuIHN0YXR1czsKK30KKworc3RhdGljIHZvaWQgZHJtX2JyaWRnZV9jb25uZWN0b3Jf
ZGVzdHJveShzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQoreworCXN0cnVjdCBkcm1f
YnJpZGdlX2Nvbm5lY3RvciAqYnJpZGdlX2Nvbm5lY3RvciA9CisJCXRvX2RybV9icmlkZ2VfY29u
bmVjdG9yKGNvbm5lY3Rvcik7CisKKwlpZiAoYnJpZGdlX2Nvbm5lY3Rvci0+YnJpZGdlX2hwZCkg
eworCQlzdHJ1Y3QgZHJtX2JyaWRnZSAqaHBkID0gYnJpZGdlX2Nvbm5lY3Rvci0+YnJpZGdlX2hw
ZDsKKworCQlkcm1fYnJpZGdlX2hwZF9kaXNhYmxlKGhwZCk7CisJfQorCisJZHJtX2Nvbm5lY3Rv
cl91bnJlZ2lzdGVyKGNvbm5lY3Rvcik7CisJZHJtX2Nvbm5lY3Rvcl9jbGVhbnVwKGNvbm5lY3Rv
cik7CisKKwlrZnJlZShicmlkZ2VfY29ubmVjdG9yKTsKK30KKworc3RhdGljIGNvbnN0IHN0cnVj
dCBkcm1fY29ubmVjdG9yX2Z1bmNzIGRybV9icmlkZ2VfY29ubmVjdG9yX2Z1bmNzID0geworCS5y
ZXNldCA9IGRybV9hdG9taWNfaGVscGVyX2Nvbm5lY3Rvcl9yZXNldCwKKwkuZGV0ZWN0ID0gZHJt
X2JyaWRnZV9jb25uZWN0b3JfZGV0ZWN0LAorCS5maWxsX21vZGVzID0gZHJtX2hlbHBlcl9wcm9i
ZV9zaW5nbGVfY29ubmVjdG9yX21vZGVzLAorCS5kZXN0cm95ID0gZHJtX2JyaWRnZV9jb25uZWN0
b3JfZGVzdHJveSwKKwkuYXRvbWljX2R1cGxpY2F0ZV9zdGF0ZSA9IGRybV9hdG9taWNfaGVscGVy
X2Nvbm5lY3Rvcl9kdXBsaWNhdGVfc3RhdGUsCisJLmF0b21pY19kZXN0cm95X3N0YXRlID0gZHJt
X2F0b21pY19oZWxwZXJfY29ubmVjdG9yX2Rlc3Ryb3lfc3RhdGUsCit9OworCisvKiAtLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLQorICogQnJpZGdlIENvbm5lY3RvciBIZWxwZXIgRnVuY3Rpb25zCisgKi8K
KworI2RlZmluZSBNQVhfRURJRCAgNTEyCisKK3N0YXRpYyBpbnQgZHJtX2JyaWRnZV9jb25uZWN0
b3JfZ2V0X21vZGVzX2VkaWQoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciwKKwkJCQkJ
ICAgICAgIHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UpCit7CisJc3RydWN0IGRybV9icmlkZ2Vf
Y29ubmVjdG9yICpicmlkZ2VfY29ubmVjdG9yID0KKwkJdG9fZHJtX2JyaWRnZV9jb25uZWN0b3Io
Y29ubmVjdG9yKTsKKwllbnVtIGRybV9jb25uZWN0b3Jfc3RhdHVzIHN0YXR1czsKKwlzdHJ1Y3Qg
ZWRpZCAqZWRpZDsKKwlpbnQgbjsKKworCXN0YXR1cyA9IGRybV9icmlkZ2VfY29ubmVjdG9yX2Rl
dGVjdChjb25uZWN0b3IsIGZhbHNlKTsKKwlpZiAoc3RhdHVzICE9IGNvbm5lY3Rvcl9zdGF0dXNf
Y29ubmVjdGVkKQorCQlnb3RvIG5vX2VkaWQ7CisKKwllZGlkID0gYnJpZGdlLT5mdW5jcy0+Z2V0
X2VkaWQoYnJpZGdlLCBjb25uZWN0b3IpOworCWlmICghZWRpZCB8fCAhZHJtX2VkaWRfaXNfdmFs
aWQoZWRpZCkpIHsKKwkJa2ZyZWUoZWRpZCk7CisJCWdvdG8gbm9fZWRpZDsKKwl9CisKKwlkcm1f
Y29ubmVjdG9yX3VwZGF0ZV9lZGlkX3Byb3BlcnR5KGNvbm5lY3RvciwgZWRpZCk7CisJbiA9IGRy
bV9hZGRfZWRpZF9tb2Rlcyhjb25uZWN0b3IsIGVkaWQpOworCisJYnJpZGdlX2Nvbm5lY3Rvci0+
aGRtaV9tb2RlID0gZHJtX2RldGVjdF9oZG1pX21vbml0b3IoZWRpZCk7CisKKwlrZnJlZShlZGlk
KTsKKwlyZXR1cm4gbjsKKworbm9fZWRpZDoKKwlkcm1fY29ubmVjdG9yX3VwZGF0ZV9lZGlkX3By
b3BlcnR5KGNvbm5lY3RvciwgTlVMTCk7CisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyBpbnQgZHJt
X2JyaWRnZV9jb25uZWN0b3JfZ2V0X21vZGVzKHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0
b3IpCit7CisJc3RydWN0IGRybV9icmlkZ2VfY29ubmVjdG9yICpicmlkZ2VfY29ubmVjdG9yID0K
KwkJdG9fZHJtX2JyaWRnZV9jb25uZWN0b3IoY29ubmVjdG9yKTsKKwlzdHJ1Y3QgZHJtX2JyaWRn
ZSAqYnJpZGdlOworCisJLyoKKwkgKiBJZiBkaXNwbGF5IGV4cG9zZXMgRURJRCwgdGhlbiB3ZSBw
YXJzZSB0aGF0IGluIHRoZSBub3JtYWwgd2F5IHRvCisJICogYnVpbGQgdGFibGUgb2Ygc3VwcG9y
dGVkIG1vZGVzLgorCSAqLworCWJyaWRnZSA9IGJyaWRnZV9jb25uZWN0b3ItPmJyaWRnZV9lZGlk
OworCWlmIChicmlkZ2UpCisJCXJldHVybiBkcm1fYnJpZGdlX2Nvbm5lY3Rvcl9nZXRfbW9kZXNf
ZWRpZChjb25uZWN0b3IsIGJyaWRnZSk7CisKKwkvKgorCSAqIE90aGVyd2lzZSBpZiB0aGUgZGlz
cGxheSBwaXBlbGluZSByZXBvcnRzIG1vZGVzIChlLmcuIHdpdGggYSBmaXhlZAorCSAqIHJlc29s
dXRpb24gcGFuZWwgb3IgYW4gYW5hbG9nIFRWIG91dHB1dCksIHF1ZXJ5IGl0LgorCSAqLworCWJy
aWRnZSA9IGJyaWRnZV9jb25uZWN0b3ItPmJyaWRnZV9tb2RlczsKKwlpZiAoYnJpZGdlKQorCQly
ZXR1cm4gYnJpZGdlLT5mdW5jcy0+Z2V0X21vZGVzKGJyaWRnZSwgY29ubmVjdG9yKTsKKworCS8q
CisJICogV2UgY2FuJ3QgcmV0cmlldmUgbW9kZXMsIHdoaWNoIGNhbiBoYXBwZW4gZm9yIGluc3Rh
bmNlIGZvciBhIERWSSBvcgorCSAqIFZHQSBvdXRwdXQgd2l0aCB0aGUgRERDIGJ1cyB1bmNvbm5l
Y3RlZC4gVGhlIEtNUyBjb3JlIHdpbGwgYWRkIHRoZQorCSAqIGRlZmF1bHQgbW9kZXMuCisJICov
CisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9oZWxw
ZXJfZnVuY3MgZHJtX2JyaWRnZV9jb25uZWN0b3JfaGVscGVyX2Z1bmNzID0geworCS5nZXRfbW9k
ZXMgPSBkcm1fYnJpZGdlX2Nvbm5lY3Rvcl9nZXRfbW9kZXMsCisJLyogTm8gbmVlZCBmb3IgLm1v
ZGVfdmFsaWQoKSwgdGhlIGJyaWRnZXMgYXJlIGNoZWNrZWQgYnkgdGhlIGNvcmUuICovCit9Owor
CisvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQorICogQnJpZGdlIENvbm5lY3RvciBJbml0aWFsaXNh
dGlvbgorICovCisKKy8qKgorICogZHJtX2JyaWRnZV9jb25uZWN0b3JfaW5pdCAtIEluaXRpYWxp
c2UgYSBjb25uZWN0b3IgZm9yIGEgY2hhaW4gb2YgYnJpZGdlcworICogQGRybTogdGhlIERSTSBk
ZXZpY2UKKyAqIEBicmlkZ2U6IHRoZSBicmlkZ2UgY2xvc2VzdCB0byB0aGUgQ1JUQyBvdXRwdXQK
KyAqCisgKiBBbGxvY2F0ZSwgaW5pdGlhbGlzZSBhbmQgcmVnaXN0ZXIgYSAmZHJtX2JyaWRnZV9j
b25uZWN0b3Igd2l0aCB0aGUgQGRybQorICogZGV2aWNlLiBUaGUgY29ubmVjdG9yIGlzIGFzc29j
aWF0ZWQgd2l0aCBhIGNoYWluIG9mIGJyaWRnZXMgdGhhdCBzdGFydHMgYXQKKyAqIHRoZSBDUlRD
IG91dHB1dCB3aXRoIEBicmlkZ2UuIEFsbCBicmlkZ2VzIGluIHRoZSBjaGFpbiBzaGFsbCByZXBv
cnQgYnJpZGdlCisgKiBvcGVyYXRpb24gZmxhZ3MgKCZkcm1fYnJpZGdlLT5vcHMpIGFuZCBicmlk
Z2Ugb3V0cHV0IHR5cGUKKyAqICgmZHJtX2JyaWRnZS0+dHlwZSksIGFuZCBub25lIG9mIHRoZW0g
bWF5IGNyZWF0ZSBhIERSTSBjb25uZWN0b3IgZGlyZWN0bHkuCisgKgorICogUmV0dXJucyBhIHBv
aW50ZXIgdG8gdGhlIG5ldyBjb25uZWN0b3Igb24gc3VjY2Vzcywgb3IgYSBuZWdhdGl2ZSBlcnJv
cgorICogcG9pbnRlciBvdGhlcndpc2UuCisgKi8KK3N0cnVjdCBkcm1fY29ubmVjdG9yICpkcm1f
YnJpZGdlX2Nvbm5lY3Rvcl9pbml0KHN0cnVjdCBkcm1fZGV2aWNlICpkcm0sCisJCQkJCQlzdHJ1
Y3QgZHJtX2JyaWRnZSAqYnJpZGdlKQoreworCXN0cnVjdCBkcm1fYnJpZGdlX2Nvbm5lY3RvciAq
YnJpZGdlX2Nvbm5lY3RvcjsKKwlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yOworCWlu
dCBjb25uZWN0b3JfdHlwZTsKKworCWJyaWRnZV9jb25uZWN0b3IgPSBremFsbG9jKHNpemVvZigq
YnJpZGdlX2Nvbm5lY3RvciksIEdGUF9LRVJORUwpOworCWlmICghYnJpZGdlX2Nvbm5lY3RvcikK
KwkJcmV0dXJuIEVSUl9QVFIoLUVOT01FTSk7CisKKwlicmlkZ2VfY29ubmVjdG9yLT5icmlkZ2Ug
PSBicmlkZ2U7CisKKwkvKgorCSAqIEluaXRpYWxpc2UgY29ubmVjdG9yIHN0YXR1cyBoYW5kbGlu
Zy4gRmlyc3QgbG9jYXRlIHRoZSBmdXJ0aGVzdAorCSAqIGJyaWRnZXMgaW4gdGhlIHBpcGVsaW5l
IHRoYXQgc3VwcG9ydCBIUEQgYW5kIG91dHB1dCBkZXRlY3Rpb24uIFRoZW4KKwkgKiBpbml0aWFs
aXNlIHRoZSBjb25uZWN0b3IgcG9sbGluZyBtb2RlLCB1c2luZyBIUEQgaWYgYXZhaWxhYmxlIGFu
ZAorCSAqIGZhbGxpbmcgYmFjayB0byBwb2xsaW5nIGlmIHN1cHBvcnRlZC4gSWYgbmVpdGhlciBI
UEQgbm9yIG91dHB1dAorCSAqIGRldGVjdGlvbiBhcmUgYXZhaWxhYmxlLCB3ZSBkb24ndCBzdXBw
b3J0IGhvdHBsdWcgZGV0ZWN0aW9uIGF0IGFsbC4KKwkgKi8KKwljb25uZWN0b3JfdHlwZSA9IERS
TV9NT0RFX0NPTk5FQ1RPUl9Vbmtub3duOworCWZvciAoIDsgYnJpZGdlOyBicmlkZ2UgPSBicmlk
Z2UtPm5leHQpIHsKKwkJaWYgKGJyaWRnZS0+b3BzICYgRFJNX0JSSURHRV9PUF9FRElEKQorCQkJ
YnJpZGdlX2Nvbm5lY3Rvci0+YnJpZGdlX2VkaWQgPSBicmlkZ2U7CisJCWlmIChicmlkZ2UtPm9w
cyAmIERSTV9CUklER0VfT1BfSFBEKQorCQkJYnJpZGdlX2Nvbm5lY3Rvci0+YnJpZGdlX2hwZCA9
IGJyaWRnZTsKKwkJaWYgKGJyaWRnZS0+b3BzICYgRFJNX0JSSURHRV9PUF9ERVRFQ1QpCisJCQli
cmlkZ2VfY29ubmVjdG9yLT5icmlkZ2VfZGV0ZWN0ID0gYnJpZGdlOworCQlpZiAoYnJpZGdlLT5v
cHMgJiBEUk1fQlJJREdFX09QX01PREVTKQorCQkJYnJpZGdlX2Nvbm5lY3Rvci0+YnJpZGdlX21v
ZGVzID0gYnJpZGdlOworCisJCWlmICghYnJpZGdlLT5uZXh0KQorCQkJY29ubmVjdG9yX3R5cGUg
PSBicmlkZ2UtPnR5cGU7CisJfQorCisJaWYgKGNvbm5lY3Rvcl90eXBlID09IERSTV9NT0RFX0NP
Tk5FQ1RPUl9Vbmtub3duKSB7CisJCWtmcmVlKGJyaWRnZV9jb25uZWN0b3IpOworCQlyZXR1cm4g
RVJSX1BUUigtRUlOVkFMKTsKKwl9CisKKwkvKgorCSAqIFRPRE86IEhhbmRsZSBpbnRlcmxhY2Vf
YWxsb3dlZCwgZG91Ymxlc2Nhbl9hbGxvd2VkLCBzdGVyZW9fYWxsb3dlZAorCSAqIGFuZCB5Y2Jj
cl80MjBfYWxsb3dlZC4KKwkgKi8KKwljb25uZWN0b3IgPSAmYnJpZGdlX2Nvbm5lY3Rvci0+YmFz
ZTsKKwlkcm1fY29ubmVjdG9yX2luaXQoZHJtLCBjb25uZWN0b3IsICZkcm1fYnJpZGdlX2Nvbm5l
Y3Rvcl9mdW5jcywKKwkJCSAgIGNvbm5lY3Rvcl90eXBlKTsKKwlkcm1fY29ubmVjdG9yX2hlbHBl
cl9hZGQoY29ubmVjdG9yLCAmZHJtX2JyaWRnZV9jb25uZWN0b3JfaGVscGVyX2Z1bmNzKTsKKwor
CWlmIChicmlkZ2VfY29ubmVjdG9yLT5icmlkZ2VfaHBkKQorCQljb25uZWN0b3ItPnBvbGxlZCA9
IERSTV9DT05ORUNUT1JfUE9MTF9IUEQ7CisJZWxzZSBpZiAoYnJpZGdlX2Nvbm5lY3Rvci0+YnJp
ZGdlX2RldGVjdCkKKwkJY29ubmVjdG9yLT5wb2xsZWQgPSBEUk1fQ09OTkVDVE9SX1BPTExfQ09O
TkVDVAorCQkJCSAgfCBEUk1fQ09OTkVDVE9SX1BPTExfRElTQ09OTkVDVDsKKworCXJldHVybiBj
b25uZWN0b3I7Cit9CitFWFBPUlRfU1lNQk9MX0dQTChkcm1fYnJpZGdlX2Nvbm5lY3Rvcl9pbml0
KTsKZGlmZiAtLWdpdCBhL2luY2x1ZGUvZHJtL2RybV9icmlkZ2VfY29ubmVjdG9yLmggYi9pbmNs
dWRlL2RybS9kcm1fYnJpZGdlX2Nvbm5lY3Rvci5oCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4
IDAwMDAwMDAwMDAwMC4uZWMzM2I0NDk1NGI4Ci0tLSAvZGV2L251bGwKKysrIGIvaW5jbHVkZS9k
cm0vZHJtX2JyaWRnZV9jb25uZWN0b3IuaApAQCAtMCwwICsxLDE4IEBACisvKiBTUERYLUxpY2Vu
c2UtSWRlbnRpZmllcjogR1BMLTIuMCsgKi8KKy8qCisgKiBDb3B5cmlnaHQgKEMpIDIwMTkgTGF1
cmVudCBQaW5jaGFydCA8bGF1cmVudC5waW5jaGFydEBpZGVhc29uYm9hcmQuY29tPgorICovCisK
KyNpZm5kZWYgX19EUk1fQlJJREdFX0NPTk5FQ1RPUl9IX18KKyNkZWZpbmUgX19EUk1fQlJJREdF
X0NPTk5FQ1RPUl9IX18KKworc3RydWN0IGRybV9icmlkZ2U7CitzdHJ1Y3QgZHJtX2Nvbm5lY3Rv
cjsKK3N0cnVjdCBkcm1fZGV2aWNlOworCit2b2lkIGRybV9icmlkZ2VfY29ubmVjdG9yX2VuYWJs
ZV9ocGQoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3Rvcik7Cit2b2lkIGRybV9icmlkZ2Vf
Y29ubmVjdG9yX2Rpc2FibGVfaHBkKHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpOwor
c3RydWN0IGRybV9jb25uZWN0b3IgKmRybV9icmlkZ2VfY29ubmVjdG9yX2luaXQoc3RydWN0IGRy
bV9kZXZpY2UgKmRybSwKKwkJCQkJCXN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UpOworCisjZW5k
aWYgLyogX19EUk1fQlJJREdFX0NPTk5FQ1RPUl9IX18gKi8KLS0gClJlZ2FyZHMsCgpMYXVyZW50
IFBpbmNoYXJ0CgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
XwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcK
aHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
