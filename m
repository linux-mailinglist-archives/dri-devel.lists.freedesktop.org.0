Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id E39347F2E6
	for <lists+dri-devel@lfdr.de>; Fri,  2 Aug 2019 11:52:27 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1ACB96ED95;
	Fri,  2 Aug 2019 09:52:25 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-oi1-x244.google.com (mail-oi1-x244.google.com
 [IPv6:2607:f8b0:4864:20::244])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B89C16ED97
 for <dri-devel@lists.freedesktop.org>; Fri,  2 Aug 2019 09:52:23 +0000 (UTC)
Received: by mail-oi1-x244.google.com with SMTP id g7so56373493oia.8
 for <dri-devel@lists.freedesktop.org>; Fri, 02 Aug 2019 02:52:23 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=eree3BkCE6H9SHkLqvgovOO2ouG/I3/uqZmn1T1TmxE=;
 b=jqvXiKhbLUPIh27qfzSrPddAzHegNRY7CD1oE1yd2WS5AA6usR5dCzu3W06HZkqXMI
 ADulYcVMG2Ju1N5I9YIOPJLkWUNkneXXC/E7QIMGFgfixVnUYIkOu0RDq2hdNw0Q7yDA
 mZ1bG1mA/Kd5vgJ4qum30j+wWVbzhuXQp+4OdX7QOS2h1VxWJbTULg77W/L6BxxIkrCJ
 273zxwqw4yUreneCVAEpgNNW5FHwsuhzYHHebDAfFQoU0HO6rZbZbsga4rqnvapSADjR
 03qABmuFN/OX/0P8iSQNpj2ROI1UF9tMwTfwgriV02k10/YEeZL1VyHlGVvFYaUaaeUC
 FEsQ==
X-Gm-Message-State: APjAAAWMICAxCxDAhpJph3LQtB6cqTsLsdYuQToIYnt+wffb/ay+cXP/
 6EwhA3fLA0Mgk+ZH7lF3+EaNyl0Mlffxfr8+4ry63Q==
X-Google-Smtp-Source: APXvYqzpk/KPqNXtuGB5XcK2hWYIlY+o+Jl3h+RRfRoBxX7nDfWzEogkumcHo2nmz5RlgmaPbp1upR1PmsSZg+9FwF4=
X-Received: by 2002:aca:b2d5:: with SMTP id b204mr2018263oif.101.1564739542830; 
 Fri, 02 Aug 2019 02:52:22 -0700 (PDT)
MIME-Version: 1.0
References: <20190801104231.23938-1-Liviu.Dudau@arm.com>
 <20190802093908.7tt4navdtdnfvksf@DESKTOP-E1NTVVP.localdomain>
In-Reply-To: <20190802093908.7tt4navdtdnfvksf@DESKTOP-E1NTVVP.localdomain>
From: Daniel Vetter <daniel@ffwll.ch>
Date: Fri, 2 Aug 2019 11:52:11 +0200
Message-ID: <CAKMK7uF83+jbqqog9skkyqefAjzG0FbWtKQLKhBP0PqHj=aasg@mail.gmail.com>
Subject: Re: drm/komeda: Add support for generation of CRC data per frame.
To: Brian Starkey <Brian.Starkey@arm.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=eree3BkCE6H9SHkLqvgovOO2ouG/I3/uqZmn1T1TmxE=;
 b=R9OzC5H+CwynINSUn+zf8bjU0AK+xLsMuAUOs7T72C3MoiW0lF61jOTNurwSRtN6ee
 78kXbPPVUMXiKwNIdlBB6w+UKVY7bxqzGpWIpe514HRJrbruilWaaXQyYaABEd7yqfpI
 4ZKVHoLLiT/n7Jz1Im1aU5WBehTnp+d+NxxTM=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: "Lowry Li \(Arm Technology China\)" <Lowry.Li@arm.com>,
 Liviu Dudau <Liviu.Dudau@arm.com>, LKML <linux-kernel@vger.kernel.org>,
 "dri-devel@lists.freedesktop.org" <dri-devel@lists.freedesktop.org>,
 "james qian wang \(Arm Technology China\)" <james.qian.wang@arm.com>,
 nd <nd@arm.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gRnJpLCBBdWcgMiwgMjAxOSBhdCAxMTozOSBBTSBCcmlhbiBTdGFya2V5IDxCcmlhbi5TdGFy
a2V5QGFybS5jb20+IHdyb3RlOgo+Cj4gSGkgTGl2aXUsCj4KPiBPbiBUaHUsIEF1ZyAwMSwgMjAx
OSBhdCAxMTo0MjozMUFNICswMTAwLCBMaXZpdSBEdWRhdSB3cm90ZToKPiA+IEtvbWVkYSBoYXMg
c3VwcG9ydCB0byBnZW5lcmF0ZSBwZXItZnJhbWUgQ1JDIHZhbHVlcyBpbiB0aGUgRE9VCj4gPiBi
YWNrZW5kIHN1YnN5c3RlbS4gSW1wbGVtZW50IG5lY2Vzc2FyeSBob29rcyB0byBleHBvc2UgdGhl
IENSQwo+ID4gImNvbnRyb2wiIGFuZCAiZGF0YSIgZmlsZSBvdmVyIGRlYnVnZnMgYW5kIHByb2dy
YW0gdGhlIERPVXhfQlMKPiA+IGFjY29yZGluZ2x5Lgo+ID4KPiA+IFRoaXMgcGF0Y2ggbWFrZXMg
dXNlIG9mIFBMMSAocHJvZ3JhbW1hYmxlIGxpbmUgMSkgaW50ZXJydXB0IHRvCj4gPiBrbm93IHdo
ZW4gdGhlIENSQyBnZW5lcmF0aW9uIGhhcyBmaW5pc2hlZC4KPiA+Cj4gPiBQYXRjaCBpcyBhbHNv
IGRlcGVuZGVudCBvbiB0aGUgc2VyaWVzIHRoYXQgYWRkcyBkdWFsLWxpbmsgc3VwcG9ydAo+ID4g
Zm9yIGtvbWVkYTogaHR0cHM6Ly9wYXRjaHdvcmsuZnJlZWRlc2t0b3Aub3JnL3Nlcmllcy82MjI4
MC8KPiA+Cj4gPiBDYzogImphbWVzIHFpYW4gd2FuZyAoQXJtIFRlY2hub2xvZ3kgQ2hpbmEpIiA8
amFtZXMucWlhbi53YW5nQGFybS5jb20+Cj4gPiBTaWduZWQtb2ZmLWJ5OiBMaXZpdSBEdWRhdSA8
bGl2aXUuZHVkYXVAYXJtLmNvbT4KPiA+IC0tLQo+ID4gIC4uLi9hcm0vZGlzcGxheS9rb21lZGEv
ZDcxL2Q3MV9jb21wb25lbnQuYyAgICB8ICAyICstCj4gPiAgLi4uL2dwdS9kcm0vYXJtL2Rpc3Bs
YXkva29tZWRhL2Q3MS9kNzFfZGV2LmMgIHwgMjkgKysrKysrKystCj4gPiAgLi4uL2dwdS9kcm0v
YXJtL2Rpc3BsYXkva29tZWRhL2tvbWVkYV9jcnRjLmMgIHwgNjEgKysrKysrKysrKysrKysrKysr
LQo+ID4gIC4uLi9ncHUvZHJtL2FybS9kaXNwbGF5L2tvbWVkYS9rb21lZGFfZGV2LmggICB8ICAy
ICsKPiA+ICAuLi4vZ3B1L2RybS9hcm0vZGlzcGxheS9rb21lZGEva29tZWRhX2ttcy5oICAgfCAg
MyArCj4gPiAgLi4uL2RybS9hcm0vZGlzcGxheS9rb21lZGEva29tZWRhX3BpcGVsaW5lLmggIHwg
IDEgKwo+ID4gIDYgZmlsZXMgY2hhbmdlZCwgOTQgaW5zZXJ0aW9ucygrKSwgNCBkZWxldGlvbnMo
LSkKPiA+Cj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FybS9kaXNwbGF5L2tvbWVk
YS9kNzEvZDcxX2NvbXBvbmVudC5jIGIvZHJpdmVycy9ncHUvZHJtL2FybS9kaXNwbGF5L2tvbWVk
YS9kNzEvZDcxX2NvbXBvbmVudC5jCj4gPiBpbmRleCA1NWE4Y2M5NDgwOGExLi4zYzQ1NDY4ODQ4
ZWU0IDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FybS9kaXNwbGF5L2tvbWVkYS9k
NzEvZDcxX2NvbXBvbmVudC5jCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYXJtL2Rpc3BsYXkv
a29tZWRhL2Q3MS9kNzFfY29tcG9uZW50LmMKPiA+IEBAIC0xMDYxLDcgKzEwNjEsNyBAQCBzdGF0
aWMgdm9pZCBkNzFfdGltaW5nX2N0cmxyX3VwZGF0ZShzdHJ1Y3Qga29tZWRhX2NvbXBvbmVudCAq
YywKPiA+ICAgICAgIG1hbGlkcF93cml0ZTMyKHJlZywgQlNfUFJFRkVUQ0hfTElORSwgRDcxX0RF
RkFVTFRfUFJFUFJFVENIX0xJTkUpOwo+ID4KPiA+ICAgICAgIC8qIGNvbmZpZ3VyZSBicyBjb250
cm9sIHJlZ2lzdGVyICovCj4gPiAtICAgICB2YWx1ZSA9IEJTX0NUUkxfRU4gfCBCU19DVFJMX1ZN
Owo+ID4gKyAgICAgdmFsdWUgPSBCU19DVFJMX0VOIHwgQlNfQ1RSTF9WTSB8IEJTX0NUUkxfQ1JD
Owo+ID4gICAgICAgaWYgKGMtPnBpcGVsaW5lLT5kdWFsX2xpbmspIHsKPiA+ICAgICAgICAgICAg
ICAgbWFsaWRwX3dyaXRlMzIocmVnLCBCU19EUklGVF9UTywgaGZyb250X3BvcmNoICsgMTYpOwo+
ID4gICAgICAgICAgICAgICB2YWx1ZSB8PSBCU19DVFJMX0RMOwo+ID4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9hcm0vZGlzcGxheS9rb21lZGEvZDcxL2Q3MV9kZXYuYyBiL2RyaXZlcnMv
Z3B1L2RybS9hcm0vZGlzcGxheS9rb21lZGEvZDcxL2Q3MV9kZXYuYwo+ID4gaW5kZXggZDU2N2Fi
N2VkMzE0ZS4uMDViZmQ5ODkxYzU0MCAxMDA2NDQKPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9h
cm0vZGlzcGxheS9rb21lZGEvZDcxL2Q3MV9kZXYuYwo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L2FybS9kaXNwbGF5L2tvbWVkYS9kNzEvZDcxX2Rldi5jCj4gPiBAQCAtMTE1LDYgKzExNSw4IEBA
IHN0YXRpYyB1NjQgZ2V0X2RvdV9ldmVudChzdHJ1Y3QgZDcxX3BpcGVsaW5lICpkNzFfcGlwZWxp
bmUpCj4gPiAgICAgICByYXdfc3RhdHVzID0gbWFsaWRwX3JlYWQzMihyZWcsIEJMS19JUlFfUkFX
X1NUQVRVUyk7Cj4gPiAgICAgICBpZiAocmF3X3N0YXR1cyAmIERPVV9JUlFfUEwwKQo+ID4gICAg
ICAgICAgICAgICBldnRzIHw9IEtPTUVEQV9FVkVOVF9WU1lOQzsKPiA+ICsgICAgIGlmIChyYXdf
c3RhdHVzICYgRE9VX0lSUV9QTDEpCj4gPiArICAgICAgICAgICAgIGV2dHMgfD0gS09NRURBX0VW
RU5UX0NSQ0RPTkU7Cj4gPiAgICAgICBpZiAocmF3X3N0YXR1cyAmIERPVV9JUlFfVU5EKQo+ID4g
ICAgICAgICAgICAgICBldnRzIHw9IEtPTUVEQV9FVkVOVF9VUlVOOwo+ID4KPiA+IEBAIC0xNDks
NyArMTUxLDcgQEAgc3RhdGljIHU2NCBnZXRfZG91X2V2ZW50KHN0cnVjdCBkNzFfcGlwZWxpbmUg
KmQ3MV9waXBlbGluZSkKPiA+Cj4gPiAgc3RhdGljIHU2NCBnZXRfcGlwZWxpbmVfZXZlbnQoc3Ry
dWN0IGQ3MV9waXBlbGluZSAqZDcxX3BpcGVsaW5lLCB1MzIgZ2N1X3N0YXR1cykKPiA+ICB7Cj4g
PiAtICAgICB1MzIgZXZ0cyA9IDBVTEw7Cj4gPiArICAgICB1NjQgZXZ0cyA9IDBVTEw7Cj4gPgo+
ID4gICAgICAgaWYgKGdjdV9zdGF0dXMgJiAoR0xCX0lSUV9TVEFUVVNfTFBVMCB8IEdMQl9JUlFf
U1RBVFVTX0xQVTEpKQo+ID4gICAgICAgICAgICAgICBldnRzIHw9IGdldF9scHVfZXZlbnQoZDcx
X3BpcGVsaW5lKTsKPiA+IEBAIC0xNjMsNiArMTY1LDI2IEBAIHN0YXRpYyB1NjQgZ2V0X3BpcGVs
aW5lX2V2ZW50KHN0cnVjdCBkNzFfcGlwZWxpbmUgKmQ3MV9waXBlbGluZSwgdTMyIGdjdV9zdGF0
dXMpCj4gPiAgICAgICByZXR1cm4gZXZ0czsKPiA+ICB9Cj4gPgo+ID4gK3N0YXRpYyB2b2lkIGdl
dF9mcmFtZV9jcmNzKHN0cnVjdCBkNzFfcGlwZWxpbmUgKmQ3MV9waXBlbGluZSwgdTMyIHBpcGUs
Cj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGtvbWVkYV9ldmVudHMgKmV2dHMp
Cj4gPiArewo+ID4gKyAgICAgaWYgKGV2dHMtPnBpcGVzW3BpcGVdICYgS09NRURBX0VWRU5UX0NS
Q0RPTkUpIHsKPiA+ICsgICAgICAgICAgICAgc3RydWN0IGtvbWVkYV9jb21wb25lbnQgKmM7Cj4g
PiArCj4gPiArICAgICAgICAgICAgIGMgPSBrb21lZGFfcGlwZWxpbmVfZ2V0X2NvbXBvbmVudCgm
ZDcxX3BpcGVsaW5lLT5iYXNlLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgS09NRURBX0NPTVBPTkVOVF9USU1JTkdfQ1RSTFIpOwo+ID4gKyAgICAg
ICAgICAgICBpZiAoIWMpCj4gPiArICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwo+ID4gKwo+
ID4gKyAgICAgICAgICAgICBldnRzLT5jcmNzW3BpcGVdWzBdID0gbWFsaWRwX3JlYWQzMihjLT5y
ZWcsIEJTX0NSQzBfTE9XKTsKPiA+ICsgICAgICAgICAgICAgZXZ0cy0+Y3Jjc1twaXBlXVsxXSA9
IG1hbGlkcF9yZWFkMzIoYy0+cmVnLCBCU19DUkMwX0hJR0gpOwo+ID4gKyAgICAgICAgICAgICBp
ZiAoZDcxX3BpcGVsaW5lLT5iYXNlLmR1YWxfbGluaykgewo+ID4gKyAgICAgICAgICAgICAgICAg
ICAgIGV2dHMtPmNyY3NbcGlwZV1bMl0gPSBtYWxpZHBfcmVhZDMyKGMtPnJlZywgQlNfQ1JDMV9M
T1cpOwo+ID4gKyAgICAgICAgICAgICAgICAgICAgIGV2dHMtPmNyY3NbcGlwZV1bM10gPSBtYWxp
ZHBfcmVhZDMyKGMtPnJlZywgQlNfQ1JDMV9ISUdIKTsKPiA+ICsgICAgICAgICAgICAgfQo+ID4g
KyAgICAgfQo+ID4gK30KPiA+ICsKPiA+ICBzdGF0aWMgaXJxcmV0dXJuX3QKPiA+ICBkNzFfaXJx
X2hhbmRsZXIoc3RydWN0IGtvbWVkYV9kZXYgKm1kZXYsIHN0cnVjdCBrb21lZGFfZXZlbnRzICpl
dnRzKQo+ID4gIHsKPiA+IEBAIC0xOTUsNiArMjE3LDkgQEAgZDcxX2lycV9oYW5kbGVyKHN0cnVj
dCBrb21lZGFfZGV2ICptZGV2LCBzdHJ1Y3Qga29tZWRhX2V2ZW50cyAqZXZ0cykKPiA+ICAgICAg
IGlmIChnY3Vfc3RhdHVzICYgR0xCX0lSUV9TVEFUVVNfUElQRTEpCj4gPiAgICAgICAgICAgICAg
IGV2dHMtPnBpcGVzWzFdIHw9IGdldF9waXBlbGluZV9ldmVudChkNzEtPnBpcGVzWzFdLCBnY3Vf
c3RhdHVzKTsKPiA+Cj4gPiArICAgICBnZXRfZnJhbWVfY3JjcyhkNzEtPnBpcGVzWzBdLCAwLCBl
dnRzKTsKPiA+ICsgICAgIGdldF9mcmFtZV9jcmNzKGQ3MS0+cGlwZXNbMV0sIDEsIGV2dHMpOwo+
ID4gKwo+ID4gICAgICAgcmV0dXJuIGdjdV9zdGF0dXMgPyBJUlFfSEFORExFRCA6IElSUV9OT05F
Owo+ID4gIH0KPiA+Cj4gPiBAQCAtMjAyLDcgKzIyNyw3IEBAIGQ3MV9pcnFfaGFuZGxlcihzdHJ1
Y3Qga29tZWRhX2RldiAqbWRldiwgc3RydWN0IGtvbWVkYV9ldmVudHMgKmV2dHMpCj4gPiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgR0NVX0lSUV9NT0RFIHwgR0NVX0lSUV9FUlIpCj4g
PiAgI2RlZmluZSBFTkFCTEVEX0xQVV9JUlFTICAgICAoTFBVX0lSUV9JQlNZIHwgTFBVX0lSUV9F
UlIgfCBMUFVfSVJRX0VPVykKPiA+ICAjZGVmaW5lIEVOQUJMRURfQ1VfSVJRUyAgICAgICAgICAg
ICAgKENVX0lSUV9PVlIgfCBDVV9JUlFfRVJSKQo+ID4gLSNkZWZpbmUgRU5BQkxFRF9ET1VfSVJR
UyAgICAgKERPVV9JUlFfVU5EIHwgRE9VX0lSUV9FUlIpCj4gPiArI2RlZmluZSBFTkFCTEVEX0RP
VV9JUlFTICAgICAoRE9VX0lSUV9VTkQgfCBET1VfSVJRX0VSUiB8IERPVV9JUlFfUEwxKQo+ID4K
PiA+ICBzdGF0aWMgaW50IGQ3MV9lbmFibGVfaXJxKHN0cnVjdCBrb21lZGFfZGV2ICptZGV2KQo+
ID4gIHsKPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYXJtL2Rpc3BsYXkva29tZWRh
L2tvbWVkYV9jcnRjLmMgYi9kcml2ZXJzL2dwdS9kcm0vYXJtL2Rpc3BsYXkva29tZWRhL2tvbWVk
YV9jcnRjLmMKPiA+IGluZGV4IGZhOWE0NTkzYmIzNzUuLjRiOWY1ZDMzZTk5OWQgMTAwNjQ0Cj4g
PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYXJtL2Rpc3BsYXkva29tZWRhL2tvbWVkYV9jcnRjLmMK
PiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hcm0vZGlzcGxheS9rb21lZGEva29tZWRhX2NydGMu
Ywo+ID4gQEAgLTIwNywxMCArMjA3LDEzIEBAIHZvaWQga29tZWRhX2NydGNfaGFuZGxlX2V2ZW50
KHN0cnVjdCBrb21lZGFfY3J0YyAgICprY3J0YywKPiA+ICAgICAgICAgICAgICAgICAgICAgICBk
cm1fY3J0Y19zZW5kX3ZibGFua19ldmVudChjcnRjLCBldmVudCk7Cj4gPiAgICAgICAgICAgICAg
IH0gZWxzZSB7Cj4gPiAgICAgICAgICAgICAgICAgICAgICAgRFJNX1dBUk4oIkNSVENbJWRdOiBG
TElQIGhhcHBlbiBidXQgbm8gcGVuZGluZyBjb21taXQuXG4iLAo+ID4gLSAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGRybV9jcnRjX2luZGV4KCZrY3J0Yy0+YmFzZSkpOwo+ID4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGRybV9jcnRjX2luZGV4KGNydGMpKTsKPiA+ICAgICAg
ICAgICAgICAgfQo+ID4gICAgICAgICAgICAgICBzcGluX3VubG9ja19pcnFyZXN0b3JlKCZjcnRj
LT5kZXYtPmV2ZW50X2xvY2ssIGZsYWdzKTsKPiA+ICAgICAgIH0KPiA+ICsKPiA+ICsgICAgIGlm
ICgoa2NydGMtPmNyY19lbmFibGVkKSAmJiAoZXZlbnRzICYgS09NRURBX0VWRU5UX0NSQ0RPTkUp
KQo+ID4gKyAgICAgICAgICAgICBkcm1fY3J0Y19hZGRfY3JjX2VudHJ5KGNydGMsIGZhbHNlLCAw
LCBldnRzLT5jcmNzW2tjcnRjLT5tYXN0ZXItPmlkXSk7Cj4gPiAgfQo+ID4KPiA+ICBzdGF0aWMg
dm9pZAo+ID4gQEAgLTQ4Nyw2ICs0OTAsNTkgQEAgc3RhdGljIHZvaWQga29tZWRhX2NydGNfdmJs
YW5rX2Rpc2FibGUoc3RydWN0IGRybV9jcnRjICpjcnRjKQo+ID4gICAgICAgbWRldi0+ZnVuY3Mt
Pm9uX29mZl92YmxhbmsobWRldiwga2NydGMtPm1hc3Rlci0+aWQsIGZhbHNlKTsKPiA+ICB9Cj4g
Pgo+ID4gK3N0YXRpYyBjb25zdCBjaGFyICogY29uc3Qga29tZWRhX3BpcGVfY3JjX3NvdXJjZXNb
XSA9IHsiYXV0byJ9Owo+ID4gKwo+ID4gK3N0YXRpYyBjb25zdCBjaGFyICpjb25zdCAqa29tZWRh
X2NydGNfZ2V0X2NyY19zb3VyY2VzKHN0cnVjdCBkcm1fY3J0YyAqY3J0YywKPiA+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplX3QgKmNvdW50
KQo+ID4gK3sKPiA+ICsgICAgICpjb3VudCA9IEFSUkFZX1NJWkUoa29tZWRhX3BpcGVfY3JjX3Nv
dXJjZXMpOwo+ID4gKyAgICAgcmV0dXJuIGtvbWVkYV9waXBlX2NyY19zb3VyY2VzOwo+ID4gK30K
PiA+ICsKPiA+ICtzdGF0aWMgaW50IGtvbWVkYV9jcnRjX3BhcnNlX2NyY19zb3VyY2UoY29uc3Qg
Y2hhciAqc291cmNlKQo+ID4gK3sKPiA+ICsgICAgIGlmICghc291cmNlKQo+ID4gKyAgICAgICAg
ICAgICByZXR1cm4gMDsKPiA+ICsgICAgIGlmIChzdHJjbXAoc291cmNlLCAiYXV0byIpID09IDAp
Cj4gPiArICAgICAgICAgICAgIHJldHVybiAxOwo+ID4gKwo+ID4gKyAgICAgcmV0dXJuIC1FSU5W
QUw7Cj4gPiArfQo+ID4gKwo+ID4gK3N0YXRpYyBpbnQga29tZWRhX2NydGNfdmVyaWZ5X2NyY19z
b3VyY2Uoc3RydWN0IGRybV9jcnRjICpjcnRjLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgY29uc3QgY2hhciAqc291cmNlX25hbWUsCj4gPiArICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplX3QgKnZhbHVlc19jb3VudCkKPiA+ICt7Cj4g
PiArICAgICBzdHJ1Y3Qga29tZWRhX2NydGMgKmtjcnRjID0gdG9fa2NydGMoY3J0Yyk7Cj4gPiAr
ICAgICBpbnQgc291cmNlID0ga29tZWRhX2NydGNfcGFyc2VfY3JjX3NvdXJjZShzb3VyY2VfbmFt
ZSk7Cj4gPiArCj4gPiArICAgICBpZiAoc291cmNlIDwgMCkgewo+ID4gKyAgICAgICAgICAgICBE
Uk1fREVCVUdfRFJJVkVSKCJVbmtub3duIG9yIGludmFsaWQgQ1JDIHNvdXJjZSBmb3IgQ1JUQyVk
XG4iLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRybV9jcnRjX2luZGV4KGNy
dGMpKTsKPiA+ICsgICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7Cj4gPiArICAgICB9Cj4gPiAr
Cj4gPiArICAgICAqdmFsdWVzX2NvdW50ID0ga2NydGMtPm1hc3Rlci0+ZHVhbF9saW5rID8gNCA6
IDI7Cj4KPiBDYW4gQ1JDIGdlbmVyYXRpb24gY29udGludWUgYWNyb3NzIGEgbW9kZXNldD8gSWYg
c28gSSB0aGluayB3ZSBjb3VsZAo+IGVuZCB1cCB3aXRoIGEgY2FzZSB3aGVyZSBkdWFsX2xpbmsg
Y2hhbmdlcyB3aGlsZSBDUkMgaXMgYWN0aXZlLiBNYXliZQo+IHdlIHNob3VsZCBqdXN0IGFsd2F5
cyByZXR1cm4gNCB2YWx1ZXMsIGJ1dCBzZXQgdGhlIHRoaXJkIGFuZCBmb3VydGgKPiB2YWx1ZXMg
dG8gMCBpbiB0aGUgZXZlbnQgaGFuZGxlciwgaWYgZHVhbC1saW5rIGlzbid0IGFjdGl2ZS4KCk1v
ZGVzZXQgaXMgYWxsb3dlZCB0byBkZXN0cnkgdGhlIGNyYyBzZXR1cC4gTWF5YmUgbm90IHRoZSBz
bWFydGVzdApkZWNpc2lvbiAoaXQgcHJldmVudHMgdXMgZnJvbSBtYWtpbmcgc3VyZSB0aGUgZmly
c3QgZnJhbWUgaXMgcGVyZmVjdCksCmJ1dCBwcmV0dHkgZGVlcGx5IGluLWdyYWluZWQgaW50byB0
ZXN0cyBieSBub3cuIElmIHdlIHdhbnQgdG8gbW92ZQp0aGlzIEkgdGhpbmsgZmlyc3Qgc3RlcCB3
b3VsZCBiZSB0byBhZGQgbmV3IGJhc2ljIHRlc3RjYXNlcyB0byBpZ3QgdG8KdmFsaWRhdGUgY3Jj
IGdlbmVyYXRpb24gYWdhaW5zdCBtb2Rlc2V0cyAobWF5YmUgc3RhcnQgd2l0aCBkcG1zCm9mZi9v
biwgdGhlbiBzdXNwZW5kL3Jlc3VtZSwgdGhlbiBmdWxsIG1vZGVzZXRzKS4gUmVhbGx5IG5vdCBz
dXJlCnRoZXJlJ3MgYSBuZWVkLCBhbmQgSSd2ZSBzZWVuIHRvbyBtYW55IGNhc2VzIGxpa2UgdGhp
cyB3aGVyZSBjcmMKZ2VuZXJhdGlvbiBjaGFuZ2VzIGRlcGVuZGluZyB1cG9uIG1vZGVzZXQgKGJw
cCwgcm91dGluZywgLi4uKSB0bwphc3N1bWUgd2UgY2FuIGp1c3QgbWFrZSBpdCB3b3JrLgoKSSdk
IG5vdCBib3RoZXIgYW5kIGxlYXZlIHRoaW5ncyBhcy1pcy4KLURhbmllbAo+Cj4gQ2hlZXJzLAo+
IC1Ccmlhbgo+Cj4gPiArCj4gPiArICAgICByZXR1cm4gMDsKPiA+ICt9Cj4gPiArCj4gPiArc3Rh
dGljIGludCBrb21lZGFfY3J0Y19zZXRfY3JjX3NvdXJjZShzdHJ1Y3QgZHJtX2NydGMgKmNydGMs
IGNvbnN0IGNoYXIgKnNvdXJjZSkKPiA+ICt7Cj4gPiArICAgICBzdHJ1Y3Qga29tZWRhX2NydGMg
KmtjcnRjID0gdG9fa2NydGMoY3J0Yyk7Cj4gPiArICAgICBpbnQgc3JjID0ga29tZWRhX2NydGNf
cGFyc2VfY3JjX3NvdXJjZShzb3VyY2UpOwo+ID4gKwo+ID4gKyAgICAgaWYgKHNyYyA8IDApIHsK
PiA+ICsgICAgICAgICAgICAgRFJNX0RFQlVHX0RSSVZFUigiVW5rbm93biBvciBpbnZhbGlkIENS
QyBzb3VyY2UgZm9yIENSVEMlZFxuIiwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBkcm1fY3J0Y19pbmRleChjcnRjKSk7Cj4gPiArICAgICAgICAgICAgIHJldHVybiAtRUlOVkFM
Owo+ID4gKyAgICAgfQo+ID4gKwo+ID4gKyAgICAga2NydGMtPmNyY19lbmFibGVkID0gc3JjICYg
MTsKPiA+ICsKPiA+ICsgICAgIHJldHVybiAwOwo+ID4gK30KPiA+ICsKPiA+ICBzdGF0aWMgY29u
c3Qgc3RydWN0IGRybV9jcnRjX2Z1bmNzIGtvbWVkYV9jcnRjX2Z1bmNzID0gewo+ID4gICAgICAg
LmdhbW1hX3NldCAgICAgICAgICAgICAgPSBkcm1fYXRvbWljX2hlbHBlcl9sZWdhY3lfZ2FtbWFf
c2V0LAo+ID4gICAgICAgLmRlc3Ryb3kgICAgICAgICAgICAgICAgPSBkcm1fY3J0Y19jbGVhbnVw
LAo+ID4gQEAgLTQ5Nyw2ICs1NTMsOSBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9jcnRjX2Z1
bmNzIGtvbWVkYV9jcnRjX2Z1bmNzID0gewo+ID4gICAgICAgLmF0b21pY19kZXN0cm95X3N0YXRl
ICAgPSBrb21lZGFfY3J0Y19hdG9taWNfZGVzdHJveV9zdGF0ZSwKPiA+ICAgICAgIC5lbmFibGVf
dmJsYW5rICAgICAgICAgID0ga29tZWRhX2NydGNfdmJsYW5rX2VuYWJsZSwKPiA+ICAgICAgIC5k
aXNhYmxlX3ZibGFuayAgICAgICAgID0ga29tZWRhX2NydGNfdmJsYW5rX2Rpc2FibGUsCj4gPiAr
ICAgICAuc2V0X2NyY19zb3VyY2UgICAgICAgICA9IGtvbWVkYV9jcnRjX3NldF9jcmNfc291cmNl
LAo+ID4gKyAgICAgLnZlcmlmeV9jcmNfc291cmNlICAgICAgPSBrb21lZGFfY3J0Y192ZXJpZnlf
Y3JjX3NvdXJjZSwKPiA+ICsgICAgIC5nZXRfY3JjX3NvdXJjZXMgICAgICAgID0ga29tZWRhX2Ny
dGNfZ2V0X2NyY19zb3VyY2VzLAo+ID4gIH07Cj4gPgo+ID4gIGludCBrb21lZGFfa21zX3NldHVw
X2NydGNzKHN0cnVjdCBrb21lZGFfa21zX2RldiAqa21zLAo+ID4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9hcm0vZGlzcGxheS9rb21lZGEva29tZWRhX2Rldi5oIGIvZHJpdmVycy9ncHUv
ZHJtL2FybS9kaXNwbGF5L2tvbWVkYS9rb21lZGFfZGV2LmgKPiA+IGluZGV4IGQxYzg2YjYxNzRj
ODAuLjI0NDIyN2I5NDVmNjMgMTAwNjQ0Cj4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYXJtL2Rp
c3BsYXkva29tZWRhL2tvbWVkYV9kZXYuaAo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FybS9k
aXNwbGF5L2tvbWVkYS9rb21lZGFfZGV2LmgKPiA+IEBAIC0yMCw2ICsyMCw3IEBACj4gPiAgI2Rl
ZmluZSBLT01FREFfRVZFTlRfT1ZSICAgICAgICAgICAgIEJJVF9VTEwoNCkKPiA+ICAjZGVmaW5l
IEtPTUVEQV9FVkVOVF9FT1cgICAgICAgICAgICAgQklUX1VMTCg1KQo+ID4gICNkZWZpbmUgS09N
RURBX0VWRU5UX01PREUgICAgICAgICAgICBCSVRfVUxMKDYpCj4gPiArI2RlZmluZSBLT01FREFf
RVZFTlRfQ1JDRE9ORSAgICAgICAgIEJJVF9VTEwoNykKPiA+Cj4gPiAgI2RlZmluZSBLT01FREFf
RVJSX1RFVE8gICAgICAgICAgICAgICAgICAgICAgQklUX1VMTCgxNCkKPiA+ICAjZGVmaW5lIEtP
TUVEQV9FUlJfVEVNUiAgICAgICAgICAgICAgICAgICAgICBCSVRfVUxMKDE1KQo+ID4gQEAgLTY5
LDYgKzcwLDcgQEAgc3RydWN0IGtvbWVkYV9kZXY7Cj4gPiAgc3RydWN0IGtvbWVkYV9ldmVudHMg
ewo+ID4gICAgICAgdTY0IGdsb2JhbDsKPiA+ICAgICAgIHU2NCBwaXBlc1tLT01FREFfTUFYX1BJ
UEVMSU5FU107Cj4gPiArICAgICB1MzIgY3Jjc1tLT01FREFfTUFYX1BJUEVMSU5FU11bS09NRURB
X01BWF9DUkNTXTsKPiA+ICB9Owo+ID4KPiA+ICAvKioKPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vYXJtL2Rpc3BsYXkva29tZWRhL2tvbWVkYV9rbXMuaCBiL2RyaXZlcnMvZ3B1L2Ry
bS9hcm0vZGlzcGxheS9rb21lZGEva29tZWRhX2ttcy5oCj4gPiBpbmRleCA0NWM0OThlMTVlN2Fl
Li5kZTdjOTNiMmQwYTExIDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FybS9kaXNw
bGF5L2tvbWVkYS9rb21lZGFfa21zLmgKPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hcm0vZGlz
cGxheS9rb21lZGEva29tZWRhX2ttcy5oCj4gPiBAQCAtODQsNiArODQsOSBAQCBzdHJ1Y3Qga29t
ZWRhX2NydGMgewo+ID4KPiA+ICAgICAgIC8qKiBAZGlzYWJsZV9kb25lOiB0aGlzIGZsaXBfZG9u
ZSBpcyBmb3IgdHJhY2luZyB0aGUgZGlzYWJsZSAqLwo+ID4gICAgICAgc3RydWN0IGNvbXBsZXRp
b24gKmRpc2FibGVfZG9uZTsKPiA+ICsKPiA+ICsgICAgIC8qKiBAY3JjX2VuYWJsZWQ6IHRydWUg
aWYgcGVyLWZyYW1lIGdlbmVyYXRpb24gb2YgQ1JDIGlzIGVuYWJsZWQgKi8KPiA+ICsgICAgIGJv
b2wgY3JjX2VuYWJsZWQ7Cj4gPiAgfTsKPiA+Cj4gPiAgLyoqCj4gPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2FybS9kaXNwbGF5L2tvbWVkYS9rb21lZGFfcGlwZWxpbmUuaCBiL2RyaXZl
cnMvZ3B1L2RybS9hcm0vZGlzcGxheS9rb21lZGEva29tZWRhX3BpcGVsaW5lLmgKPiA+IGluZGV4
IGE3YTg0ZTY2NTQ5ZDYuLmRmZTI0ODJjNjI3NGIgMTAwNjQ0Cj4gPiAtLS0gYS9kcml2ZXJzL2dw
dS9kcm0vYXJtL2Rpc3BsYXkva29tZWRhL2tvbWVkYV9waXBlbGluZS5oCj4gPiArKysgYi9kcml2
ZXJzL2dwdS9kcm0vYXJtL2Rpc3BsYXkva29tZWRhL2tvbWVkYV9waXBlbGluZS5oCj4gPiBAQCAt
MTYsNiArMTYsNyBAQAo+ID4gICNkZWZpbmUgS09NRURBX1BJUEVMSU5FX01BWF9MQVlFUlMgICA0
Cj4gPiAgI2RlZmluZSBLT01FREFfUElQRUxJTkVfTUFYX1NDQUxFUlMgIDIKPiA+ICAjZGVmaW5l
IEtPTUVEQV9DT01QT05FTlRfTl9JTlBVVFMgICAgNQo+ID4gKyNkZWZpbmUgS09NRURBX01BWF9D
UkNTICAgICAgICAgICAgICAgICAgICAgIDQKPiA+Cj4gPiAgLyogcGlwZWxpbmUgY29tcG9uZW50
IElEcyAqLwo+ID4gIGVudW0gewo+ID4gLS0KPiA+IDIuMjIuMAo+ID4KCgoKLS0gCkRhbmllbCBW
ZXR0ZXIKU29mdHdhcmUgRW5naW5lZXIsIEludGVsIENvcnBvcmF0aW9uCis0MSAoMCkgNzkgMzY1
IDU3IDQ4IC0gaHR0cDovL2Jsb2cuZmZ3bGwuY2gKX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vZHJpLWRldmVs
