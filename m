Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id D17C6883E2
	for <lists+dri-devel@lfdr.de>; Fri,  9 Aug 2019 22:29:02 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 94B096EE94;
	Fri,  9 Aug 2019 20:28:59 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mout.kundenserver.de (mout.kundenserver.de [212.227.126.187])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 04F636EE96
 for <dri-devel@lists.freedesktop.org>; Fri,  9 Aug 2019 20:28:57 +0000 (UTC)
Received: from threadripper.lan ([149.172.19.189]) by mrelayeu.kundenserver.de
 (mreue009 [212.227.15.129]) with ESMTPA (Nemesis) id
 1MowT0-1ifiHM1SxC-00qQ8w; Fri, 09 Aug 2019 22:28:50 +0200
From: Arnd Bergmann <arnd@arndb.de>
To: soc@kernel.org
Subject: [PATCH 09/16] fbdev: remove w90x900/nuc900 platform drivers
Date: Fri,  9 Aug 2019 22:27:37 +0200
Message-Id: <20190809202749.742267-10-arnd@arndb.de>
X-Mailer: git-send-email 2.20.0
In-Reply-To: <20190809202749.742267-1-arnd@arndb.de>
References: <20190809202749.742267-1-arnd@arndb.de>
MIME-Version: 1.0
X-Provags-ID: V03:K1:OWJd8Mlp6GosttFVeesvPBCF6H1qMbR45XoNLn6QCIT09DzgB8Z
 B3G2a3xY+i5R2Bbqyu7WNSaHKBB4iBms9lawabi7zdxxdzONbZvOuM1xtwd5CjGziCp/VhN
 Xioqckvrd1jLLowbm78XLPjlfGd8t+cTEjUzfyMOtD8oZt639ZEVYh7cmk5Qgw7kRprEGbo
 2yJdqc/5i5Fmij08/qryg==
X-Spam-Flag: NO
X-UI-Out-Filterresults: notjunk:1;V03:K0:0m+dLqi+nP4=:2upQrvmukfpBS3SC2UnNKt
 PAu/rKUBjYp1S8hqobJgJKhd54h2O0S0PuBpuzW6+UmIrZmc04L1xQW40uuksIyk2x3vpWSOG
 Is5yDwAKXD2t14cjHcDTUkEtr6vPkopDMrCUlT0wMV7I2mlK90BeHtv8TMM0UDC0NOFBJLTj9
 QSdKkZ8NzEPvVcbNXy1qUM6ix2ofk4th0tHQoQMmnaV0pAcqu4UMP8aR1+zP4gNmZKLReIcdu
 ZzJCFxgeY1fo1HwkfRqCWWBQmhNqVOpgQX3p6pwi5Nr0MShyvRKMfUgGEkBY79b3pso+aOVd5
 tzpLSj5jcT0m5z0keKaAbsioW29Y6vkxez43xjOmeSeQ9zzKvrd7GrBkap9IUEhFjzeryT54/
 fpyZRMkhgKPZKcPTP+A7mQP8wD4+v8XAdASHeymPYhu/b3/dDAr9DrRqSzAZBiKIzWSwBMFp1
 0t2+5c6+rTil83khVdnyFJxB586quyaUEvl7Zhk6nwJWAs+QLXcxv+8HaclZmtr1ojUosAOvc
 WoKhR5Ju7pJU6Ezlmmzm/34m2Pqnz6ZRm011wB5b8sHPzS2XWsOcPUR0bf2HL80n0hUW9m5Xw
 4bzeLnhw1mbfv/26goOU3Gy4EmjiH7W6IDZ4vCfyGJ7+MNsuCr558bsA2zAEGugg9exSk6iNR
 DELZJnfSDQ6moTRednZqlTJkfavblwOw61cNB7E9eJikUU91J1AtNs/vkBiBLtuLN1bHTDr6/
 fMRneNx8QrS7yc3R0LnvqxoNVgCRmW3BORB6dw==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: dri-devel@lists.freedesktop.org, linux-fbdev@vger.kernel.org,
 linux-kernel@vger.kernel.org, Arnd Bergmann <arnd@arndb.de>,
 Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIEFSTSB3OTB4OTAwIHBsYXRmb3JtIGlzIGdldHRpbmcgcmVtb3ZlZCwgc28gdGhpcyBkcml2
ZXIgaXMgb2Jzb2xldGUuCgpTaWduZWQtb2ZmLWJ5OiBBcm5kIEJlcmdtYW5uIDxhcm5kQGFybmRi
LmRlPgotLS0KIGRyaXZlcnMvdmlkZW8vZmJkZXYvS2NvbmZpZyAgICAgICAgICAgICAgICAgIHwg
IDE0IC0KIGRyaXZlcnMvdmlkZW8vZmJkZXYvTWFrZWZpbGUgICAgICAgICAgICAgICAgIHwgICAx
IC0KIGRyaXZlcnMvdmlkZW8vZmJkZXYvbnVjOTAwZmIuYyAgICAgICAgICAgICAgIHwgNzYwIC0t
LS0tLS0tLS0tLS0tLS0tLS0KIGRyaXZlcnMvdmlkZW8vZmJkZXYvbnVjOTAwZmIuaCAgICAgICAg
ICAgICAgIHwgIDUxIC0tCiBpbmNsdWRlL0tidWlsZCAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICB8ICAgMSAtCiBpbmNsdWRlL2xpbnV4L3BsYXRmb3JtX2RhdGEvdmlkZW8tbnVjOTAwZmIu
aCB8ICA3OSAtLQogNiBmaWxlcyBjaGFuZ2VkLCA5MDYgZGVsZXRpb25zKC0pCiBkZWxldGUgbW9k
ZSAxMDA2NDQgZHJpdmVycy92aWRlby9mYmRldi9udWM5MDBmYi5jCiBkZWxldGUgbW9kZSAxMDA2
NDQgZHJpdmVycy92aWRlby9mYmRldi9udWM5MDBmYi5oCiBkZWxldGUgbW9kZSAxMDA2NDQgaW5j
bHVkZS9saW51eC9wbGF0Zm9ybV9kYXRhL3ZpZGVvLW51YzkwMGZiLmgKCmRpZmYgLS1naXQgYS9k
cml2ZXJzL3ZpZGVvL2ZiZGV2L0tjb25maWcgYi9kcml2ZXJzL3ZpZGVvL2ZiZGV2L0tjb25maWcK
aW5kZXggNmIyZGU5M2JkMzAyLi41ZjgzY2Q3MTUzODcgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvdmlk
ZW8vZmJkZXYvS2NvbmZpZworKysgYi9kcml2ZXJzL3ZpZGVvL2ZiZGV2L0tjb25maWcKQEAgLTE5
MjQsMjAgKzE5MjQsNiBAQCBjb25maWcgRkJfUzNDMjQxMF9ERUJVRwogCSAgVHVybiBvbiBkZWJ1
Z2dpbmcgbWVzc2FnZXMuIE5vdGUgdGhhdCB5b3UgY2FuIHNldC91bnNldCBhdCBydW4gdGltZQog
CSAgdGhyb3VnaCBzeXNmcwogCi1jb25maWcgRkJfTlVDOTAwCi0JdHJpc3RhdGUgIk5VQzkwMCBM
Q0QgZnJhbWVidWZmZXIgc3VwcG9ydCIKLQlkZXBlbmRzIG9uIEZCICYmIEFSQ0hfVzkwWDkwMAot
CXNlbGVjdCBGQl9DRkJfRklMTFJFQ1QKLQlzZWxlY3QgRkJfQ0ZCX0NPUFlBUkVBCi0Jc2VsZWN0
IEZCX0NGQl9JTUFHRUJMSVQKLQktLS1oZWxwLS0tCi0JICBGcmFtZSBidWZmZXIgZHJpdmVyIGZv
ciB0aGUgYnVpbHQtaW4gTENEIGNvbnRyb2xsZXIgaW4gdGhlIE51dm90b24KLQkgIE5VQzkwMCBw
cm9jZXNzb3IKLQotY29uZmlnIEdQTTEwNDBBMF8zMjBYMjQwCi0JYm9vbCAiR2lhbnRwbHVzIFRl
Y2hub2xvZ3kgR1BNMTA0MEEwIDMyMHgyNDAgQ29sb3IgVEZUIExDRCIKLQlkZXBlbmRzIG9uIEZC
X05VQzkwMAotCiBjb25maWcgRkJfU001MDEKIAl0cmlzdGF0ZSAiU2lsaWNvbiBNb3Rpb24gU001
MDEgZnJhbWVidWZmZXIgc3VwcG9ydCIKIAlkZXBlbmRzIG9uIEZCICYmIE1GRF9TTTUwMQpkaWZm
IC0tZ2l0IGEvZHJpdmVycy92aWRlby9mYmRldi9NYWtlZmlsZSBiL2RyaXZlcnMvdmlkZW8vZmJk
ZXYvTWFrZWZpbGUKaW5kZXggN2RjNDg2MWE5M2U2Li5hYWI3MTU1ODg0ZWEgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvdmlkZW8vZmJkZXYvTWFrZWZpbGUKKysrIGIvZHJpdmVycy92aWRlby9mYmRldi9N
YWtlZmlsZQpAQCAtMTE2LDcgKzExNiw2IEBAIG9iai15ICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICArPSBvbWFwMi8KIG9iai0kKENPTkZJR19YRU5fRkJERVZfRlJPTlRFTkQpICArPSB4ZW4t
ZmJmcm9udC5vCiBvYmotJChDT05GSUdfRkJfQ0FSTUlORSkgICAgICAgICAgKz0gY2FybWluZWZi
Lm8KIG9iai0kKENPTkZJR19GQl9NQjg2MlhYKQkgICs9IG1iODYyeHgvCi1vYmotJChDT05GSUdf
RkJfTlVDOTAwKSAgICAgICAgICAgKz0gbnVjOTAwZmIubwogb2JqLSQoQ09ORklHX0ZCX0paNDc0
MCkJCSAgKz0gano0NzQwX2ZiLm8KIG9iai0kKENPTkZJR19GQl9QVVYzX1VOSUdGWCkgICAgICAr
PSBmYi1wdXYzLm8KIG9iai0kKENPTkZJR19GQl9IWVBFUlYpCQkgICs9IGh5cGVydl9mYi5vCmRp
ZmYgLS1naXQgYS9kcml2ZXJzL3ZpZGVvL2ZiZGV2L251YzkwMGZiLmMgYi9kcml2ZXJzL3ZpZGVv
L2ZiZGV2L251YzkwMGZiLmMKZGVsZXRlZCBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDRmZDg1MTU5
ODU4NC4uMDAwMDAwMDAwMDAwCi0tLSBhL2RyaXZlcnMvdmlkZW8vZmJkZXYvbnVjOTAwZmIuYwor
KysgL2Rldi9udWxsCkBAIC0xLDc2MCArMCwwIEBACi0vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmll
cjogR1BMLTIuMC1vci1sYXRlcgotLyoKLSAqCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDkgTnV2b3Rv
biB0ZWNobm9sb2d5IGNvcnBvcmF0aW9uCi0gKiBBbGwgcmlnaHRzIHJlc2VydmVkLgotICoKLSAq
ICBEZXNjcmlwdGlvbjoKLSAqICAgIE51dm90b24gTENEIENvbnRyb2xsZXIgRHJpdmVyCi0gKiAg
QXV0aG9yOgotICogICAgV2FuZyBRaWFuZyAocnVyYWxpdHkubGludXhAZ21haWwuY29tKSAyMDA5
LzEyLzExCi0gKi8KLSNpbmNsdWRlIDxsaW51eC9tb2R1bGUuaD4KLSNpbmNsdWRlIDxsaW51eC9r
ZXJuZWwuaD4KLSNpbmNsdWRlIDxsaW51eC9lcnIuaD4KLSNpbmNsdWRlIDxsaW51eC9lcnJuby5o
PgotI2luY2x1ZGUgPGxpbnV4L3N0cmluZy5oPgotI2luY2x1ZGUgPGxpbnV4L21tLmg+Ci0jaW5j
bHVkZSA8bGludXgvdHR5Lmg+Ci0jaW5jbHVkZSA8bGludXgvc2xhYi5oPgotI2luY2x1ZGUgPGxp
bnV4L2RlbGF5Lmg+Ci0jaW5jbHVkZSA8bGludXgvZmIuaD4KLSNpbmNsdWRlIDxsaW51eC9pbml0
Lmg+Ci0jaW5jbHVkZSA8bGludXgvZG1hLW1hcHBpbmcuaD4KLSNpbmNsdWRlIDxsaW51eC9pbnRl
cnJ1cHQuaD4KLSNpbmNsdWRlIDxsaW51eC93b3JrcXVldWUuaD4KLSNpbmNsdWRlIDxsaW51eC93
YWl0Lmg+Ci0jaW5jbHVkZSA8bGludXgvcGxhdGZvcm1fZGV2aWNlLmg+Ci0jaW5jbHVkZSA8bGlu
dXgvY2xrLmg+Ci0jaW5jbHVkZSA8bGludXgvY3B1ZnJlcS5oPgotI2luY2x1ZGUgPGxpbnV4L2lv
Lmg+Ci0jaW5jbHVkZSA8bGludXgvcG0uaD4KLSNpbmNsdWRlIDxsaW51eC9kZXZpY2UuaD4KLQot
I2luY2x1ZGUgPG1hY2gvbWFwLmg+Ci0jaW5jbHVkZSA8bWFjaC9yZWdzLWNsb2NrLmg+Ci0jaW5j
bHVkZSA8bWFjaC9yZWdzLWxkbS5oPgotI2luY2x1ZGUgPGxpbnV4L3BsYXRmb3JtX2RhdGEvdmlk
ZW8tbnVjOTAwZmIuaD4KLQotI2luY2x1ZGUgIm51YzkwMGZiLmgiCi0KLQotLyoKLSAqICBJbml0
aWFsaXplIHRoZSBudWM5MDAgdmlkZW8gKGR1YWwpIGJ1ZmZlciBhZGRyZXNzCi0gKi8KLXN0YXRp
YyB2b2lkIG51YzkwMGZiX3NldF9sY2RhZGRyKHN0cnVjdCBmYl9pbmZvICppbmZvKQotewotCXN0
cnVjdCBudWM5MDBmYl9pbmZvICpmYmkgPSBpbmZvLT5wYXI7Ci0Jdm9pZCBfX2lvbWVtICpyZWdz
ID0gZmJpLT5pbzsKLQl1bnNpZ25lZCBsb25nIHZiYWRkcjEsIHZiYWRkcjI7Ci0KLQl2YmFkZHIx
ICA9IGluZm8tPmZpeC5zbWVtX3N0YXJ0OwotCXZiYWRkcjIgID0gaW5mby0+Zml4LnNtZW1fc3Rh
cnQ7Ci0JdmJhZGRyMiArPSBpbmZvLT5maXgubGluZV9sZW5ndGggKiBpbmZvLT52YXIueXJlczsK
LQotCS8qIHNldCBmcmFtYnVmZmVyIHN0YXJ0IHBoeSBhZGRyKi8KLQl3cml0ZWwodmJhZGRyMSwg
cmVncyArIFJFR19MQ01fVkFfQkFERFIwKTsKLQl3cml0ZWwodmJhZGRyMiwgcmVncyArIFJFR19M
Q01fVkFfQkFERFIxKTsKLQotCXdyaXRlbChmYmktPnJlZ3MubGNkX3ZhX2ZiY3RybCwgcmVncyAr
IFJFR19MQ01fVkFfRkJDVFJMKTsKLQl3cml0ZWwoZmJpLT5yZWdzLmxjZF92YV9zY2FsZSwgcmVn
cyArIFJFR19MQ01fVkFfU0NBTEUpOwotfQotCi0vKgotICoJY2FsY3VsYXRlIGRpdmlkZXIgZm9y
IGxjZCBkaXYKLSAqLwotc3RhdGljIHVuc2lnbmVkIGludCBudWM5MDBmYl9jYWxjX3BpeGNsayhz
dHJ1Y3QgbnVjOTAwZmJfaW5mbyAqZmJpLAotCQkJCQkgdW5zaWduZWQgbG9uZyBwaXhjbGspCi17
Ci0JdW5zaWduZWQgbG9uZyBjbGsgPSBmYmktPmNsa19yYXRlOwotCXVuc2lnbmVkIGxvbmcgbG9u
ZyBkaXY7Ci0KLQkvKiBwaXhjbGsgaXMgaW4gcGljc2Vjb25kcy4gb3VyIGNsb2NrIGlzIGluIEh6
Ki8KLQkvKiBkaXYgPSAoY2xrICogcGl4Y2xrKS8xMF4xMiAqLwotCWRpdiA9ICh1bnNpZ25lZCBs
b25nIGxvbmcpY2xrICogcGl4Y2xrOwotCWRpdiA+Pj0gMTI7Ci0JZG9fZGl2KGRpdiwgNjI1ICog
NjI1VUwgKiA2MjUpOwotCi0JZGV2X2RiZyhmYmktPmRldiwgInBpeGNsayAlbGQsIGRpdmlzb3Ig
aXMgJWxsZFxuIiwgcGl4Y2xrLCBkaXYpOwotCi0JcmV0dXJuIGRpdjsKLX0KLQotLyoKLSAqCUNo
ZWNrIHRoZSB2aWRlbyBwYXJhbXMgb2YgJ3ZhcicuCi0gKi8KLXN0YXRpYyBpbnQgbnVjOTAwZmJf
Y2hlY2tfdmFyKHN0cnVjdCBmYl92YXJfc2NyZWVuaW5mbyAqdmFyLAotCQkJICAgICAgIHN0cnVj
dCBmYl9pbmZvICppbmZvKQotewotCXN0cnVjdCBudWM5MDBmYl9pbmZvICpmYmkgPSBpbmZvLT5w
YXI7Ci0Jc3RydWN0IG51YzkwMGZiX21hY2hfaW5mbyAqbWFjaF9pbmZvID0gZGV2X2dldF9wbGF0
ZGF0YShmYmktPmRldik7Ci0Jc3RydWN0IG51YzkwMGZiX2Rpc3BsYXkgKmRpc3BsYXkgPSBOVUxM
OwotCXN0cnVjdCBudWM5MDBmYl9kaXNwbGF5ICpkZWZhdWx0X2Rpc3BsYXkgPSBtYWNoX2luZm8t
PmRpc3BsYXlzICsKLQkJCQkJCSAgIG1hY2hfaW5mby0+ZGVmYXVsdF9kaXNwbGF5OwotCWludCBp
OwotCi0JZGV2X2RiZyhmYmktPmRldiwgImNoZWNrX3Zhcih2YXI9JXAsIGluZm89JXApXG4iLCB2
YXIsIGluZm8pOwotCi0JLyogdmFsaWRhdGUgeC95IHJlc29sdXRpb24gKi8KLQkvKiBjaG9vc2Ug
ZGVmYXVsdCBtb2RlIGlmIHBvc3NpYmxlICovCi0JaWYgKHZhci0+eHJlcyA9PSBkZWZhdWx0X2Rp
c3BsYXktPnhyZXMgJiYKLQkgICAgdmFyLT55cmVzID09IGRlZmF1bHRfZGlzcGxheS0+eXJlcyAm
JgotCSAgICB2YXItPmJpdHNfcGVyX3BpeGVsID09IGRlZmF1bHRfZGlzcGxheS0+YnBwKQotCQlk
aXNwbGF5ID0gZGVmYXVsdF9kaXNwbGF5OwotCWVsc2UKLQkJZm9yIChpID0gMDsgaSA8IG1hY2hf
aW5mby0+bnVtX2Rpc3BsYXlzOyBpKyspCi0JCQlpZiAodmFyLT54cmVzID09IG1hY2hfaW5mby0+
ZGlzcGxheXNbaV0ueHJlcyAmJgotCQkJICAgIHZhci0+eXJlcyA9PSBtYWNoX2luZm8tPmRpc3Bs
YXlzW2ldLnlyZXMgJiYKLQkJCSAgICB2YXItPmJpdHNfcGVyX3BpeGVsID09IG1hY2hfaW5mby0+
ZGlzcGxheXNbaV0uYnBwKSB7Ci0JCQkJZGlzcGxheSA9IG1hY2hfaW5mby0+ZGlzcGxheXMgKyBp
OwotCQkJCWJyZWFrOwotCQkJfQotCi0JaWYgKGRpc3BsYXkgPT0gTlVMTCkgewotCQlwcmludGso
S0VSTl9FUlIgIndyb25nIHJlc29sdXRpb24gb3IgZGVwdGggJWR4JWQgYXQgJWQgYml0IHBlciBw
aXhlbFxuIiwKLQkJCXZhci0+eHJlcywgdmFyLT55cmVzLCB2YXItPmJpdHNfcGVyX3BpeGVsKTsK
LQkJcmV0dXJuIC1FSU5WQUw7Ci0JfQotCi0JLyogaXQgc2hvdWxkIGJlIHRoZSBzYW1lIHNpemUg
YXMgdGhlIGRpc3BsYXkgKi8KLQl2YXItPnhyZXNfdmlydHVhbAk9IGRpc3BsYXktPnhyZXM7Ci0J
dmFyLT55cmVzX3ZpcnR1YWwJPSBkaXNwbGF5LT55cmVzOwotCXZhci0+aGVpZ2h0CQk9IGRpc3Bs
YXktPmhlaWdodDsKLQl2YXItPndpZHRoCQk9IGRpc3BsYXktPndpZHRoOwotCi0JLyogY29weSBs
Y2Qgc2V0dGluZ3MgKi8KLQl2YXItPnBpeGNsb2NrCQk9IGRpc3BsYXktPnBpeGNsb2NrOwotCXZh
ci0+bGVmdF9tYXJnaW4JPSBkaXNwbGF5LT5sZWZ0X21hcmdpbjsKLQl2YXItPnJpZ2h0X21hcmdp
bgk9IGRpc3BsYXktPnJpZ2h0X21hcmdpbjsKLQl2YXItPnVwcGVyX21hcmdpbgk9IGRpc3BsYXkt
PnVwcGVyX21hcmdpbjsKLQl2YXItPmxvd2VyX21hcmdpbgk9IGRpc3BsYXktPmxvd2VyX21hcmdp
bjsKLQl2YXItPnZzeW5jX2xlbgkJPSBkaXNwbGF5LT52c3luY19sZW47Ci0JdmFyLT5oc3luY19s
ZW4JCT0gZGlzcGxheS0+aHN5bmNfbGVuOwotCi0JdmFyLT50cmFuc3Aub2Zmc2V0CT0gMDsKLQl2
YXItPnRyYW5zcC5sZW5ndGgJPSAwOwotCi0JZmJpLT5yZWdzLmxjZF9kY2NzID0gZGlzcGxheS0+
ZGNjczsKLQlmYmktPnJlZ3MubGNkX2RldmljZV9jdHJsID0gZGlzcGxheS0+ZGV2Y3RsOwotCWZi
aS0+cmVncy5sY2RfdmFfZmJjdHJsID0gZGlzcGxheS0+ZmJjdHJsOwotCWZiaS0+cmVncy5sY2Rf
dmFfc2NhbGUgPSBkaXNwbGF5LT5zY2FsZTsKLQotCS8qIHNldCBSL0cvQiBwb3NzaW9ucyAqLwot
CXN3aXRjaCAodmFyLT5iaXRzX3Blcl9waXhlbCkgewotCWNhc2UgMToKLQljYXNlIDI6Ci0JY2Fz
ZSA0OgotCWNhc2UgODoKLQlkZWZhdWx0OgotCQl2YXItPnJlZC5vZmZzZXQgCT0gMDsKLQkJdmFy
LT5yZWQubGVuZ3RoIAk9IHZhci0+Yml0c19wZXJfcGl4ZWw7Ci0JCXZhci0+Z3JlZW4gCQk9IHZh
ci0+cmVkOwotCQl2YXItPmJsdWUJCT0gdmFyLT5yZWQ7Ci0JCWJyZWFrOwotCWNhc2UgMTI6Ci0J
CXZhci0+cmVkLmxlbmd0aAkJPSA0OwotCQl2YXItPmdyZWVuLmxlbmd0aAk9IDQ7Ci0JCXZhci0+
Ymx1ZS5sZW5ndGgJPSA0OwotCQl2YXItPnJlZC5vZmZzZXQJCT0gODsKLQkJdmFyLT5ncmVlbi5v
ZmZzZXQJPSA0OwotCQl2YXItPmJsdWUub2Zmc2V0CT0gMDsKLQkJYnJlYWs7Ci0JY2FzZSAxNjoK
LQkJdmFyLT5yZWQubGVuZ3RoCQk9IDU7Ci0JCXZhci0+Z3JlZW4ubGVuZ3RoCT0gNjsKLQkJdmFy
LT5ibHVlLmxlbmd0aAk9IDU7Ci0JCXZhci0+cmVkLm9mZnNldAkJPSAxMTsKLQkJdmFyLT5ncmVl
bi5vZmZzZXQJPSA1OwotCQl2YXItPmJsdWUub2Zmc2V0CT0gMDsKLQkJYnJlYWs7Ci0JY2FzZSAx
ODoKLQkJdmFyLT5yZWQubGVuZ3RoCQk9IDY7Ci0JCXZhci0+Z3JlZW4ubGVuZ3RoCT0gNjsKLQkJ
dmFyLT5ibHVlLmxlbmd0aAk9IDY7Ci0JCXZhci0+cmVkLm9mZnNldAkJPSAxMjsKLQkJdmFyLT5n
cmVlbi5vZmZzZXQJPSA2OwotCQl2YXItPmJsdWUub2Zmc2V0CT0gMDsKLQkJYnJlYWs7Ci0JY2Fz
ZSAzMjoKLQkJdmFyLT5yZWQubGVuZ3RoCQk9IDg7Ci0JCXZhci0+Z3JlZW4ubGVuZ3RoCT0gODsK
LQkJdmFyLT5ibHVlLmxlbmd0aAk9IDg7Ci0JCXZhci0+cmVkLm9mZnNldAkJPSAxNjsKLQkJdmFy
LT5ncmVlbi5vZmZzZXQJPSA4OwotCQl2YXItPmJsdWUub2Zmc2V0CT0gMDsKLQkJYnJlYWs7Ci0J
fQotCi0JcmV0dXJuIDA7Ci19Ci0KLS8qCi0gKglDYWxjdWxhdGUgbGNkIHJlZ2lzdGVyIHZhbHVl
cyBmcm9tIHZhciBzZXR0aW5nICYgc2F2ZSBpbnRvIGh3Ci0gKi8KLXN0YXRpYyB2b2lkIG51Yzkw
MGZiX2NhbGN1bGF0ZV9sY2RfcmVncyhjb25zdCBzdHJ1Y3QgZmJfaW5mbyAqaW5mbywKLQkJCQkJ
c3RydWN0IG51YzkwMGZiX2h3ICpyZWdzKQotewotCWNvbnN0IHN0cnVjdCBmYl92YXJfc2NyZWVu
aW5mbyAqdmFyID0gJmluZm8tPnZhcjsKLQlpbnQgdnR0ID0gdmFyLT5oZWlnaHQgKyB2YXItPnVw
cGVyX21hcmdpbiArIHZhci0+bG93ZXJfbWFyZ2luOwotCWludCBodHQgPSB2YXItPndpZHRoICsg
dmFyLT5sZWZ0X21hcmdpbiArIHZhci0+cmlnaHRfbWFyZ2luOwotCWludCBoc3luYyA9IHZhci0+
d2lkdGggKyB2YXItPnJpZ2h0X21hcmdpbjsKLQlpbnQgdnN5bmMgPSB2YXItPmhlaWdodCArIHZh
ci0+bG93ZXJfbWFyZ2luOwotCi0JcmVncy0+bGNkX2NydGNfc2l6ZSA9IExDTV9DUlRDX1NJWkVf
VlRUVkFMKHZ0dCkgfAotCQkJICAgICAgTENNX0NSVENfU0laRV9IVFRWQUwoaHR0KTsKLQlyZWdz
LT5sY2RfY3J0Y19kZW5kID0gTENNX0NSVENfREVORF9WREVORFZBTCh2YXItPmhlaWdodCkgfAot
CQkJICAgICAgTENNX0NSVENfREVORF9IREVORFZBTCh2YXItPndpZHRoKTsKLQlyZWdzLT5sY2Rf
Y3J0Y19ociA9IExDTV9DUlRDX0hSX0VWQUwodmFyLT53aWR0aCArIDUpIHwKLQkJCSAgICBMQ01f
Q1JUQ19IUl9TVkFMKHZhci0+d2lkdGggKyAxKTsKLQlyZWdzLT5sY2RfY3J0Y19oc3luYyA9IExD
TV9DUlRDX0hTWU5DX0VWQUwoaHN5bmMgKyB2YXItPmhzeW5jX2xlbikgfAotCQkJICAgICAgIExD
TV9DUlRDX0hTWU5DX1NWQUwoaHN5bmMpOwotCXJlZ3MtPmxjZF9jcnRjX3ZyID0gTENNX0NSVENf
VlJfRVZBTCh2c3luYyArIHZhci0+dnN5bmNfbGVuKSB8Ci0JCQkgICAgTENNX0NSVENfVlJfU1ZB
TCh2c3luYyk7Ci0KLX0KLQotLyoKLSAqCUFjdGl2YXRlIChzZXQpIHRoZSBjb250cm9sbGVyIGZy
b20gdGhlIGdpdmVuIGZyYW1lYnVmZmVyCi0gKglpbmZvcm1hdGlvbgotICovCi1zdGF0aWMgdm9p
ZCBudWM5MDBmYl9hY3RpdmF0ZV92YXIoc3RydWN0IGZiX2luZm8gKmluZm8pCi17Ci0Jc3RydWN0
IG51YzkwMGZiX2luZm8gKmZiaSA9IGluZm8tPnBhcjsKLQl2b2lkIF9faW9tZW0gKnJlZ3MgPSBm
YmktPmlvOwotCXN0cnVjdCBmYl92YXJfc2NyZWVuaW5mbyAqdmFyID0gJmluZm8tPnZhcjsKLQlp
bnQgY2xrZGl2OwotCi0JY2xrZGl2ID0gbnVjOTAwZmJfY2FsY19waXhjbGsoZmJpLCB2YXItPnBp
eGNsb2NrKSAtIDE7Ci0JaWYgKGNsa2RpdiA8IDApCi0JCWNsa2RpdiA9IDA7Ci0KLQludWM5MDBm
Yl9jYWxjdWxhdGVfbGNkX3JlZ3MoaW5mbywgJmZiaS0+cmVncyk7Ci0KLQkvKiBzZXQgdGhlIG5l
dyBsY2QgcmVnaXN0ZXJzKi8KLQotCWRldl9kYmcoZmJpLT5kZXYsICJuZXcgbGNkIHJlZ2lzdGVy
IHNldDpcbiIpOwotCWRldl9kYmcoZmJpLT5kZXYsICJkY2NzICAgICAgID0gMHglMDh4XG4iLCBm
YmktPnJlZ3MubGNkX2RjY3MpOwotCWRldl9kYmcoZmJpLT5kZXYsICJkZXZfY3RsICAgID0gMHgl
MDh4XG4iLCBmYmktPnJlZ3MubGNkX2RldmljZV9jdHJsKTsKLQlkZXZfZGJnKGZiaS0+ZGV2LCAi
Y3J0Y19zaXplICA9IDB4JTA4eFxuIiwgZmJpLT5yZWdzLmxjZF9jcnRjX3NpemUpOwotCWRldl9k
YmcoZmJpLT5kZXYsICJjcnRjX2RlbmQgID0gMHglMDh4XG4iLCBmYmktPnJlZ3MubGNkX2NydGNf
ZGVuZCk7Ci0JZGV2X2RiZyhmYmktPmRldiwgImNydGNfaHIgICAgPSAweCUwOHhcbiIsIGZiaS0+
cmVncy5sY2RfY3J0Y19ocik7Ci0JZGV2X2RiZyhmYmktPmRldiwgImNydGNfaHN5bmMgPSAweCUw
OHhcbiIsIGZiaS0+cmVncy5sY2RfY3J0Y19oc3luYyk7Ci0JZGV2X2RiZyhmYmktPmRldiwgImNy
dGNfdnIgICAgPSAweCUwOHhcbiIsIGZiaS0+cmVncy5sY2RfY3J0Y192cik7Ci0KLQl3cml0ZWwo
ZmJpLT5yZWdzLmxjZF9kZXZpY2VfY3RybCwgcmVncyArIFJFR19MQ01fREVWX0NUUkwpOwotCXdy
aXRlbChmYmktPnJlZ3MubGNkX2NydGNfc2l6ZSwgcmVncyArIFJFR19MQ01fQ1JUQ19TSVpFKTsK
LQl3cml0ZWwoZmJpLT5yZWdzLmxjZF9jcnRjX2RlbmQsIHJlZ3MgKyBSRUdfTENNX0NSVENfREVO
RCk7Ci0Jd3JpdGVsKGZiaS0+cmVncy5sY2RfY3J0Y19ociwgcmVncyArIFJFR19MQ01fQ1JUQ19I
Uik7Ci0Jd3JpdGVsKGZiaS0+cmVncy5sY2RfY3J0Y19oc3luYywgcmVncyArIFJFR19MQ01fQ1JU
Q19IU1lOQyk7Ci0Jd3JpdGVsKGZiaS0+cmVncy5sY2RfY3J0Y192ciwgcmVncyArIFJFR19MQ01f
Q1JUQ19WUik7Ci0KLQkvKiBzZXQgbGNkIGFkZHJlc3MgcG9pbnRlcnMgKi8KLQludWM5MDBmYl9z
ZXRfbGNkYWRkcihpbmZvKTsKLQotCXdyaXRlbChmYmktPnJlZ3MubGNkX2RjY3MsIHJlZ3MgKyBS
RUdfTENNX0RDQ1MpOwotfQotCi0vKgotICogICAgICBBbHRlcnMgdGhlIGhhcmR3YXJlIHN0YXRl
LgotICoKLSAqLwotc3RhdGljIGludCBudWM5MDBmYl9zZXRfcGFyKHN0cnVjdCBmYl9pbmZvICpp
bmZvKQotewotCXN0cnVjdCBmYl92YXJfc2NyZWVuaW5mbyAqdmFyID0gJmluZm8tPnZhcjsKLQot
CXN3aXRjaCAodmFyLT5iaXRzX3Blcl9waXhlbCkgewotCWNhc2UgMzI6Ci0JY2FzZSAyNDoKLQlj
YXNlIDE4OgotCWNhc2UgMTY6Ci0JY2FzZSAxMjoKLQkJaW5mby0+Zml4LnZpc3VhbCA9IEZCX1ZJ
U1VBTF9UUlVFQ09MT1I7Ci0JCWJyZWFrOwotCWNhc2UgMToKLQkJaW5mby0+Zml4LnZpc3VhbCA9
IEZCX1ZJU1VBTF9NT05PMDE7Ci0JCWJyZWFrOwotCWRlZmF1bHQ6Ci0JCWluZm8tPmZpeC52aXN1
YWwgPSBGQl9WSVNVQUxfUFNFVURPQ09MT1I7Ci0JCWJyZWFrOwotCX0KLQotCWluZm8tPmZpeC5s
aW5lX2xlbmd0aCA9ICh2YXItPnhyZXNfdmlydHVhbCAqIHZhci0+Yml0c19wZXJfcGl4ZWwpIC8g
ODsKLQotCS8qIGFjdGl2YXRlIHRoaXMgbmV3IGNvbmZpZ3VyYXRpb24gKi8KLQludWM5MDBmYl9h
Y3RpdmF0ZV92YXIoaW5mbyk7Ci0JcmV0dXJuIDA7Ci19Ci0KLXN0YXRpYyBpbmxpbmUgdW5zaWdu
ZWQgaW50IGNoYW5fdG9fZmllbGQodW5zaWduZWQgaW50IGNoYW4sCi0JCQkJCSBzdHJ1Y3QgZmJf
Yml0ZmllbGQgKmJmKQotewotCWNoYW4gJj0gMHhmZmZmOwotCWNoYW4gPj49IDE2IC0gYmYtPmxl
bmd0aDsKLQlyZXR1cm4gY2hhbiA8PCBiZi0+b2Zmc2V0OwotfQotCi1zdGF0aWMgaW50IG51Yzkw
MGZiX3NldGNvbHJlZyh1bnNpZ25lZCByZWdubywKLQkJCSAgICAgICB1bnNpZ25lZCByZWQsIHVu
c2lnbmVkIGdyZWVuLCB1bnNpZ25lZCBibHVlLAotCQkJICAgICAgIHVuc2lnbmVkIHRyYW5zcCwg
c3RydWN0IGZiX2luZm8gKmluZm8pCi17Ci0JdW5zaWduZWQgaW50IHZhbDsKLQotCXN3aXRjaCAo
aW5mby0+Zml4LnZpc3VhbCkgewotCWNhc2UgRkJfVklTVUFMX1RSVUVDT0xPUjoKLQkJLyogdHJ1
ZS1jb2xvdXIsIHVzZSBwc2V1by1wYWxldHRlICovCi0JCWlmIChyZWdubyA8IDE2KSB7Ci0JCQl1
MzIgKnBhbCA9IGluZm8tPnBzZXVkb19wYWxldHRlOwotCi0JCQl2YWwgID0gY2hhbl90b19maWVs
ZChyZWQsICZpbmZvLT52YXIucmVkKTsKLQkJCXZhbCB8PSBjaGFuX3RvX2ZpZWxkKGdyZWVuLCAm
aW5mby0+dmFyLmdyZWVuKTsKLQkJCXZhbCB8PSBjaGFuX3RvX2ZpZWxkKGJsdWUsICZpbmZvLT52
YXIuYmx1ZSk7Ci0JCQlwYWxbcmVnbm9dID0gdmFsOwotCQl9Ci0JCWJyZWFrOwotCi0JZGVmYXVs
dDoKLQkJcmV0dXJuIDE7ICAgLyogdW5rbm93biB0eXBlICovCi0JfQotCXJldHVybiAwOwotfQot
Ci0vKioKLSAqICAgICAgbnVjOTAwZmJfYmxhbmsKLSAqCi0gKi8KLXN0YXRpYyBpbnQgbnVjOTAw
ZmJfYmxhbmsoaW50IGJsYW5rX21vZGUsIHN0cnVjdCBmYl9pbmZvICppbmZvKQotewotCi0JcmV0
dXJuIDA7Ci19Ci0KLXN0YXRpYyBzdHJ1Y3QgZmJfb3BzIG51YzkwMGZiX29wcyA9IHsKLQkub3du
ZXIJCQk9IFRISVNfTU9EVUxFLAotCS5mYl9jaGVja192YXIJCT0gbnVjOTAwZmJfY2hlY2tfdmFy
LAotCS5mYl9zZXRfcGFyCQk9IG51YzkwMGZiX3NldF9wYXIsCi0JLmZiX2JsYW5rCQk9IG51Yzkw
MGZiX2JsYW5rLAotCS5mYl9zZXRjb2xyZWcJCT0gbnVjOTAwZmJfc2V0Y29scmVnLAotCS5mYl9m
aWxscmVjdAkJPSBjZmJfZmlsbHJlY3QsCi0JLmZiX2NvcHlhcmVhCQk9IGNmYl9jb3B5YXJlYSwK
LQkuZmJfaW1hZ2VibGl0CQk9IGNmYl9pbWFnZWJsaXQsCi19OwotCi0KLXN0YXRpYyBpbmxpbmUg
dm9pZCBtb2RpZnlfZ3Bpbyh2b2lkIF9faW9tZW0gKnJlZywKLQkJCSAgICAgICB1bnNpZ25lZCBs
b25nIHNldCwgdW5zaWduZWQgbG9uZyBtYXNrKQotewotCXVuc2lnbmVkIGxvbmcgdG1wOwotCXRt
cCA9IHJlYWRsKHJlZykgJiB+bWFzazsKLQl3cml0ZWwodG1wIHwgc2V0LCByZWcpOwotfQotCi0v
KgotICogSW5pdGlhbGlzZSBMQ0QtcmVsYXRlZCByZWdpc3RlcnMKLSAqLwotc3RhdGljIGludCBu
dWM5MDBmYl9pbml0X3JlZ2lzdGVycyhzdHJ1Y3QgZmJfaW5mbyAqaW5mbykKLXsKLQlzdHJ1Y3Qg
bnVjOTAwZmJfaW5mbyAqZmJpID0gaW5mby0+cGFyOwotCXN0cnVjdCBudWM5MDBmYl9tYWNoX2lu
Zm8gKm1hY2hfaW5mbyA9IGRldl9nZXRfcGxhdGRhdGEoZmJpLT5kZXYpOwotCXZvaWQgX19pb21l
bSAqcmVncyA9IGZiaS0+aW87Ci0KLQkvKnJlc2V0IHRoZSBkaXNwbGF5IGVuZ2luZSovCi0Jd3Jp
dGVsKDAsIHJlZ3MgKyBSRUdfTENNX0RDQ1MpOwotCXdyaXRlbChyZWFkbChyZWdzICsgUkVHX0xD
TV9EQ0NTKSB8IExDTV9EQ0NTX0VOR19SU1QsCi0JICAgICAgIHJlZ3MgKyBSRUdfTENNX0RDQ1Mp
OwotCW5kZWxheSgxMDApOwotCXdyaXRlbChyZWFkbChyZWdzICsgUkVHX0xDTV9EQ0NTKSAmICh+
TENNX0RDQ1NfRU5HX1JTVCksCi0JICAgICAgIHJlZ3MgKyBSRUdfTENNX0RDQ1MpOwotCW5kZWxh
eSgxMDApOwotCi0Jd3JpdGVsKDAsIHJlZ3MgKyBSRUdfTENNX0RFVl9DVFJMKTsKLQotCS8qIGNv
bmZpZyBncGlvIG91dHB1dCAqLwotCW1vZGlmeV9ncGlvKFc5MFg5MDBfVkFfR1BJTyArIDB4NTQs
IG1hY2hfaW5mby0+Z3Bpb19kaXIsCi0JCSAgICBtYWNoX2luZm8tPmdwaW9fZGlyX21hc2spOwot
CW1vZGlmeV9ncGlvKFc5MFg5MDBfVkFfR1BJTyArIDB4NTgsIG1hY2hfaW5mby0+Z3Bpb19kYXRh
LAotCQkgICAgbWFjaF9pbmZvLT5ncGlvX2RhdGFfbWFzayk7Ci0KLQlyZXR1cm4gMDsKLX0KLQot
Ci0vKgotICogICAgQWxsb2MgdGhlIFNEUkFNIHJlZ2lvbiBvZiBOVUM5MDAgZm9yIHRoZSBmcmFt
ZSBidWZmZXIuCi0gKiAgICBUaGUgYnVmZmVyIHNob3VsZCBiZSBhIG5vbi1jYWNoZWQsIG5vbi1i
dWZmZXJlZCwgbWVtb3J5IHJlZ2lvbgotICogICAgdG8gYWxsb3cgcGFsZXR0ZSBhbmQgcGl4ZWwg
d3JpdGVzIHdpdGhvdXQgZmx1c2hpbmcgdGhlIGNhY2hlLgotICovCi1zdGF0aWMgaW50IG51Yzkw
MGZiX21hcF92aWRlb19tZW1vcnkoc3RydWN0IGZiX2luZm8gKmluZm8pCi17Ci0Jc3RydWN0IG51
YzkwMGZiX2luZm8gKmZiaSA9IGluZm8tPnBhcjsKLQlkbWFfYWRkcl90IG1hcF9kbWE7Ci0JdW5z
aWduZWQgbG9uZyBtYXBfc2l6ZSA9IFBBR0VfQUxJR04oaW5mby0+Zml4LnNtZW1fbGVuKTsKLQot
CWRldl9kYmcoZmJpLT5kZXYsICJudWM5MDBmYl9tYXBfdmlkZW9fbWVtb3J5KGZiaT0lcCkgbWFw
X3NpemUgJWx1XG4iLAotCQlmYmksIG1hcF9zaXplKTsKLQotCWluZm8tPnNjcmVlbl9iYXNlID0g
ZG1hX2FsbG9jX3djKGZiaS0+ZGV2LCBtYXBfc2l6ZSwgJm1hcF9kbWEsCi0JCQkJCSBHRlBfS0VS
TkVMKTsKLQotCWlmICghaW5mby0+c2NyZWVuX2Jhc2UpCi0JCXJldHVybiAtRU5PTUVNOwotCi0J
bWVtc2V0KGluZm8tPnNjcmVlbl9iYXNlLCAweDAwLCBtYXBfc2l6ZSk7Ci0JaW5mby0+Zml4LnNt
ZW1fc3RhcnQgPSBtYXBfZG1hOwotCi0JcmV0dXJuIDA7Ci19Ci0KLXN0YXRpYyBpbmxpbmUgdm9p
ZCBudWM5MDBmYl91bm1hcF92aWRlb19tZW1vcnkoc3RydWN0IGZiX2luZm8gKmluZm8pCi17Ci0J
c3RydWN0IG51YzkwMGZiX2luZm8gKmZiaSA9IGluZm8tPnBhcjsKLQlkbWFfZnJlZV93YyhmYmkt
PmRldiwgUEFHRV9BTElHTihpbmZvLT5maXguc21lbV9sZW4pLAotCQkgICAgaW5mby0+c2NyZWVu
X2Jhc2UsIGluZm8tPmZpeC5zbWVtX3N0YXJ0KTsKLX0KLQotc3RhdGljIGlycXJldHVybl90IG51
YzkwMGZiX2lycWhhbmRsZXIoaW50IGlycSwgdm9pZCAqZGV2X2lkKQotewotCXN0cnVjdCBudWM5
MDBmYl9pbmZvICpmYmkgPSBkZXZfaWQ7Ci0Jdm9pZCBfX2lvbWVtICpyZWdzID0gZmJpLT5pbzsK
LQl2b2lkIF9faW9tZW0gKmlycV9iYXNlID0gZmJpLT5pcnFfYmFzZTsKLQl1bnNpZ25lZCBsb25n
IGxjZGlycSA9IHJlYWRsKHJlZ3MgKyBSRUdfTENNX0lOVF9DUyk7Ci0KLQlpZiAobGNkaXJxICYg
TENNX0lOVF9DU19ESVNQX0ZfU1RBVFVTKSB7Ci0JCXdyaXRlbChyZWFkbChpcnFfYmFzZSkgfCAx
PDwzMCwgaXJxX2Jhc2UpOwotCi0JCS8qIHdhaXQgVkFfRU4gbG93ICovCi0JCWlmICgocmVhZGwo
cmVncyArIFJFR19MQ01fRENDUykgJgotCQkgICAgTENNX0RDQ1NfU0lOR0xFKSA9PSBMQ01fREND
U19TSU5HTEUpCi0JCQl3aGlsZSAoKHJlYWRsKHJlZ3MgKyBSRUdfTENNX0RDQ1MpICYKLQkJCSAg
ICAgICBMQ01fRENDU19WQV9FTikgPT0gTENNX0RDQ1NfVkFfRU4pCi0JCQkJOwotCQkvKiBkaXNw
bGF5X291dC1lbmFibGUgKi8KLQkJd3JpdGVsKHJlYWRsKHJlZ3MgKyBSRUdfTENNX0RDQ1MpIHwg
TENNX0RDQ1NfRElTUF9PVVRfRU4sCi0JCQlyZWdzICsgUkVHX0xDTV9EQ0NTKTsKLQkJLyogdmEt
ZW5hYmxlKi8KLQkJd3JpdGVsKHJlYWRsKHJlZ3MgKyBSRUdfTENNX0RDQ1MpIHwgTENNX0RDQ1Nf
VkFfRU4sCi0JCQlyZWdzICsgUkVHX0xDTV9EQ0NTKTsKLQl9IGVsc2UgaWYgKGxjZGlycSAmIExD
TV9JTlRfQ1NfVU5ERVJSVU5fSU5UKSB7Ci0JCXdyaXRlbChyZWFkbChpcnFfYmFzZSkgfCBMQ01f
SU5UX0NTX1VOREVSUlVOX0lOVCwgaXJxX2Jhc2UpOwotCX0gZWxzZSBpZiAobGNkaXJxICYgTENN
X0lOVF9DU19CVVNfRVJST1JfSU5UKSB7Ci0JCXdyaXRlbChyZWFkbChpcnFfYmFzZSkgfCBMQ01f
SU5UX0NTX0JVU19FUlJPUl9JTlQsIGlycV9iYXNlKTsKLQl9Ci0KLQlyZXR1cm4gSVJRX0hBTkRM
RUQ7Ci19Ci0KLSNpZmRlZiBDT05GSUdfQ1BVX0ZSRVEKLQotc3RhdGljIGludCBudWM5MDBmYl9j
cHVmcmVxX3RyYW5zaXRpb24oc3RydWN0IG5vdGlmaWVyX2Jsb2NrICpuYiwKLQkJCQkgICAgICAg
dW5zaWduZWQgbG9uZyB2YWwsIHZvaWQgKmRhdGEpCi17Ci0Jc3RydWN0IG51YzkwMGZiX2luZm8g
KmluZm87Ci0Jc3RydWN0IGZiX2luZm8gKmZiaW5mbzsKLQlsb25nIGRlbHRhX2Y7Ci0JaW5mbyA9
IGNvbnRhaW5lcl9vZihuYiwgc3RydWN0IG51YzkwMGZiX2luZm8sIGZyZXFfdHJhbnNpdGlvbik7
Ci0JZmJpbmZvID0gZGV2X2dldF9kcnZkYXRhKGluZm8tPmRldik7Ci0KLQlkZWx0YV9mID0gaW5m
by0+Y2xrX3JhdGUgLSBjbGtfZ2V0X3JhdGUoaW5mby0+Y2xrKTsKLQotCWlmICgodmFsID09IENQ
VUZSRVFfUE9TVENIQU5HRSAmJiBkZWx0YV9mID4gMCkgfHwKLQkgICAodmFsID09IENQVUZSRVFf
UFJFQ0hBTkdFICYmIGRlbHRhX2YgPCAwKSkgewotCQlpbmZvLT5jbGtfcmF0ZSA9IGNsa19nZXRf
cmF0ZShpbmZvLT5jbGspOwotCQludWM5MDBmYl9hY3RpdmF0ZV92YXIoZmJpbmZvKTsKLQl9Ci0K
LQlyZXR1cm4gMDsKLX0KLQotc3RhdGljIGlubGluZSBpbnQgbnVjOTAwZmJfY3B1ZnJlcV9yZWdp
c3RlcihzdHJ1Y3QgbnVjOTAwZmJfaW5mbyAqZmJpKQotewotCWZiaS0+ZnJlcV90cmFuc2l0aW9u
Lm5vdGlmaWVyX2NhbGwgPSBudWM5MDBmYl9jcHVmcmVxX3RyYW5zaXRpb247Ci0JcmV0dXJuIGNw
dWZyZXFfcmVnaXN0ZXJfbm90aWZpZXIoJmZiaS0+ZnJlcV90cmFuc2l0aW9uLAotCQkJCSAgQ1BV
RlJFUV9UUkFOU0lUSU9OX05PVElGSUVSKTsKLX0KLQotc3RhdGljIGlubGluZSB2b2lkIG51Yzkw
MGZiX2NwdWZyZXFfZGVyZWdpc3RlcihzdHJ1Y3QgbnVjOTAwZmJfaW5mbyAqZmJpKQotewotCWNw
dWZyZXFfdW5yZWdpc3Rlcl9ub3RpZmllcigmZmJpLT5mcmVxX3RyYW5zaXRpb24sCi0JCQkJICAg
IENQVUZSRVFfVFJBTlNJVElPTl9OT1RJRklFUik7Ci19Ci0jZWxzZQotc3RhdGljIGlubGluZSBp
bnQgbnVjOTAwZmJfY3B1ZnJlcV90cmFuc2l0aW9uKHN0cnVjdCBub3RpZmllcl9ibG9jayAqbmIs
Ci0JCQkJICAgICAgIHVuc2lnbmVkIGxvbmcgdmFsLCB2b2lkICpkYXRhKQotewotCXJldHVybiAw
OwotfQotCi1zdGF0aWMgaW5saW5lIGludCBudWM5MDBmYl9jcHVmcmVxX3JlZ2lzdGVyKHN0cnVj
dCBudWM5MDBmYl9pbmZvICpmYmkpCi17Ci0JcmV0dXJuIDA7Ci19Ci0KLXN0YXRpYyBpbmxpbmUg
dm9pZCBudWM5MDBmYl9jcHVmcmVxX2RlcmVnaXN0ZXIoc3RydWN0IG51YzkwMGZiX2luZm8gKmlu
Zm8pCi17Ci19Ci0jZW5kaWYKLQotc3RhdGljIGNoYXIgZHJpdmVyX25hbWVbXSA9ICJudWM5MDBm
YiI7Ci0KLXN0YXRpYyBpbnQgbnVjOTAwZmJfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAq
cGRldikKLXsKLQlzdHJ1Y3QgbnVjOTAwZmJfaW5mbyAqZmJpOwotCXN0cnVjdCBudWM5MDBmYl9k
aXNwbGF5ICpkaXNwbGF5OwotCXN0cnVjdCBmYl9pbmZvCSAgICpmYmluZm87Ci0Jc3RydWN0IG51
YzkwMGZiX21hY2hfaW5mbyAqbWFjaF9pbmZvOwotCXN0cnVjdCByZXNvdXJjZSAqcmVzOwotCWlu
dCByZXQ7Ci0JaW50IGlycTsKLQlpbnQgaTsKLQlpbnQgc2l6ZTsKLQotCWRldl9kYmcoJnBkZXYt
PmRldiwgImRldmluaXRcbiIpOwotCW1hY2hfaW5mbyA9IGRldl9nZXRfcGxhdGRhdGEoJnBkZXYt
PmRldik7Ci0JaWYgKG1hY2hfaW5mbyA9PSBOVUxMKSB7Ci0JCWRldl9lcnIoJnBkZXYtPmRldiwK
LQkJCSJubyBwbGF0Zm9ybSBkYXRhIGZvciBsY2QsIGNhbm5vdCBhdHRhY2hcbiIpOwotCQlyZXR1
cm4gLUVJTlZBTDsKLQl9Ci0KLQlpZiAobWFjaF9pbmZvLT5kZWZhdWx0X2Rpc3BsYXkgPiBtYWNo
X2luZm8tPm51bV9kaXNwbGF5cykgewotCQlkZXZfZXJyKCZwZGV2LT5kZXYsCi0JCQkiZGVmYXVs
dCBkaXNwbGF5IE5vLiBpcyAlZCBidXQgb25seSAlZCBkaXNwbGF5cyBcbiIsCi0JCQltYWNoX2lu
Zm8tPmRlZmF1bHRfZGlzcGxheSwgbWFjaF9pbmZvLT5udW1fZGlzcGxheXMpOwotCQlyZXR1cm4g
LUVJTlZBTDsKLQl9Ci0KLQotCWRpc3BsYXkgPSBtYWNoX2luZm8tPmRpc3BsYXlzICsgbWFjaF9p
bmZvLT5kZWZhdWx0X2Rpc3BsYXk7Ci0KLQlpcnEgPSBwbGF0Zm9ybV9nZXRfaXJxKHBkZXYsIDAp
OwotCWlmIChpcnEgPCAwKSB7Ci0JCWRldl9lcnIoJnBkZXYtPmRldiwgIm5vIGlycSBmb3IgZGV2
aWNlXG4iKTsKLQkJcmV0dXJuIC1FTk9FTlQ7Ci0JfQotCi0JZmJpbmZvID0gZnJhbWVidWZmZXJf
YWxsb2Moc2l6ZW9mKHN0cnVjdCBudWM5MDBmYl9pbmZvKSwgJnBkZXYtPmRldik7Ci0JaWYgKCFm
YmluZm8pCi0JCXJldHVybiAtRU5PTUVNOwotCi0JcGxhdGZvcm1fc2V0X2RydmRhdGEocGRldiwg
ZmJpbmZvKTsKLQotCWZiaSA9IGZiaW5mby0+cGFyOwotCWZiaS0+ZGV2ID0gJnBkZXYtPmRldjsK
LQotI2lmZGVmIENPTkZJR19DUFVfTlVDOTUwCi0JZmJpLT5kcnZfdHlwZSA9IExDRERSVl9OVUM5
NTA7Ci0jZW5kaWYKLQotCXJlcyA9IHBsYXRmb3JtX2dldF9yZXNvdXJjZShwZGV2LCBJT1JFU09V
UkNFX01FTSwgMCk7Ci0KLQlzaXplID0gcmVzb3VyY2Vfc2l6ZShyZXMpOwotCWZiaS0+bWVtID0g
cmVxdWVzdF9tZW1fcmVnaW9uKHJlcy0+c3RhcnQsIHNpemUsIHBkZXYtPm5hbWUpOwotCWlmIChm
YmktPm1lbSA9PSBOVUxMKSB7Ci0JCWRldl9lcnIoJnBkZXYtPmRldiwgImZhaWxlZCB0byBhbGxv
YyBtZW1vcnkgcmVnaW9uXG4iKTsKLQkJcmV0ID0gLUVOT0VOVDsKLQkJZ290byBmcmVlX2ZiOwot
CX0KLQotCWZiaS0+aW8gPSBpb3JlbWFwKHJlcy0+c3RhcnQsIHNpemUpOwotCWlmIChmYmktPmlv
ID09IE5VTEwpIHsKLQkJZGV2X2VycigmcGRldi0+ZGV2LCAiaW9yZW1hcCgpIG9mIGxjZCByZWdp
c3RlcnMgZmFpbGVkXG4iKTsKLQkJcmV0ID0gLUVOWElPOwotCQlnb3RvIHJlbGVhc2VfbWVtX3Jl
Z2lvbjsKLQl9Ci0KLQlmYmktPmlycV9iYXNlID0gZmJpLT5pbyArIFJFR19MQ01fSU5UX0NTOwot
Ci0KLQkvKiBTdG9wIHRoZSBMQ0QgKi8KLQl3cml0ZWwoMCwgZmJpLT5pbyArIFJFR19MQ01fREND
Uyk7Ci0KLQkvKiBmaWxsIHRoZSBmYmluZm8qLwotCXN0cmNweShmYmluZm8tPmZpeC5pZCwgZHJp
dmVyX25hbWUpOwotCWZiaW5mby0+Zml4LnR5cGUJCT0gRkJfVFlQRV9QQUNLRURfUElYRUxTOwot
CWZiaW5mby0+Zml4LnR5cGVfYXV4CQk9IDA7Ci0JZmJpbmZvLT5maXgueHBhbnN0ZXAJCT0gMDsK
LQlmYmluZm8tPmZpeC55cGFuc3RlcAkJPSAwOwotCWZiaW5mby0+Zml4Lnl3cmFwc3RlcAkJPSAw
OwotCWZiaW5mby0+Zml4LmFjY2VsCQk9IEZCX0FDQ0VMX05PTkU7Ci0JZmJpbmZvLT52YXIubm9u
c3RkCQk9IDA7Ci0JZmJpbmZvLT52YXIuYWN0aXZhdGUJCT0gRkJfQUNUSVZBVEVfTk9XOwotCWZi
aW5mby0+dmFyLmFjY2VsX2ZsYWdzCQk9IDA7Ci0JZmJpbmZvLT52YXIudm1vZGUJCT0gRkJfVk1P
REVfTk9OSU5URVJMQUNFRDsKLQlmYmluZm8tPmZib3BzCQkJPSAmbnVjOTAwZmJfb3BzOwotCWZi
aW5mby0+ZmxhZ3MJCQk9IEZCSU5GT19GTEFHX0RFRkFVTFQ7Ci0JZmJpbmZvLT5wc2V1ZG9fcGFs
ZXR0ZQkJPSAmZmJpLT5wc2V1ZG9fcGFsOwotCi0JcmV0ID0gcmVxdWVzdF9pcnEoaXJxLCBudWM5
MDBmYl9pcnFoYW5kbGVyLCAwLCBwZGV2LT5uYW1lLCBmYmkpOwotCWlmIChyZXQpIHsKLQkJZGV2
X2VycigmcGRldi0+ZGV2LCAiY2Fubm90IHJlZ2lzdGVyIGlycSBoYW5kbGVyICVkIC1lcnIgJWRc
biIsCi0JCQlpcnEsIHJldCk7Ci0JCXJldCA9IC1FQlVTWTsKLQkJZ290byByZWxlYXNlX3JlZ3M7
Ci0JfQotCi0JZmJpLT5jbGsgPSBjbGtfZ2V0KCZwZGV2LT5kZXYsIE5VTEwpOwotCWlmIChJU19F
UlIoZmJpLT5jbGspKSB7Ci0JCXByaW50ayhLRVJOX0VSUiAibnVjOTAwLWxjZDpmYWlsZWQgdG8g
Z2V0IGxjZCBjbG9jayBzb3VyY2VcbiIpOwotCQlyZXQgPSBQVFJfRVJSKGZiaS0+Y2xrKTsKLQkJ
Z290byByZWxlYXNlX2lycTsKLQl9Ci0KLQljbGtfZW5hYmxlKGZiaS0+Y2xrKTsKLQlkZXZfZGJn
KCZwZGV2LT5kZXYsICJnb3QgYW5kIGVuYWJsZWQgY2xvY2tcbiIpOwotCi0JZmJpLT5jbGtfcmF0
ZSA9IGNsa19nZXRfcmF0ZShmYmktPmNsayk7Ci0KLQkvKiBjYWx1dGF0ZSB0aGUgdmlkZW8gYnVm
ZmVyIHNpemUgKi8KLQlmb3IgKGkgPSAwOyBpIDwgbWFjaF9pbmZvLT5udW1fZGlzcGxheXM7IGkr
KykgewotCQl1bnNpZ25lZCBsb25nIHNtZW1fbGVuID0gbWFjaF9pbmZvLT5kaXNwbGF5c1tpXS54
cmVzOwotCQlzbWVtX2xlbiAqPSBtYWNoX2luZm8tPmRpc3BsYXlzW2ldLnlyZXM7Ci0JCXNtZW1f
bGVuICo9IG1hY2hfaW5mby0+ZGlzcGxheXNbaV0uYnBwOwotCQlzbWVtX2xlbiA+Pj0gMzsKLQkJ
aWYgKGZiaW5mby0+Zml4LnNtZW1fbGVuIDwgc21lbV9sZW4pCi0JCQlmYmluZm8tPmZpeC5zbWVt
X2xlbiA9IHNtZW1fbGVuOwotCX0KLQotCS8qIEluaXRpYWxpemUgVmlkZW8gTWVtb3J5ICovCi0J
cmV0ID0gbnVjOTAwZmJfbWFwX3ZpZGVvX21lbW9yeShmYmluZm8pOwotCWlmIChyZXQpIHsKLQkJ
cHJpbnRrKEtFUk5fRVJSICJGYWlsZWQgdG8gYWxsb2NhdGUgdmlkZW8gUkFNOiAleFxuIiwgcmV0
KTsKLQkJZ290byByZWxlYXNlX2Nsb2NrOwotCX0KLQotCWRldl9kYmcoJnBkZXYtPmRldiwgImdv
dCB2aWRlbyBtZW1vcnlcbiIpOwotCi0JZmJpbmZvLT52YXIueHJlcyA9IGRpc3BsYXktPnhyZXM7
Ci0JZmJpbmZvLT52YXIueXJlcyA9IGRpc3BsYXktPnlyZXM7Ci0JZmJpbmZvLT52YXIuYml0c19w
ZXJfcGl4ZWwgPSBkaXNwbGF5LT5icHA7Ci0KLQludWM5MDBmYl9pbml0X3JlZ2lzdGVycyhmYmlu
Zm8pOwotCi0JbnVjOTAwZmJfY2hlY2tfdmFyKCZmYmluZm8tPnZhciwgZmJpbmZvKTsKLQotCXJl
dCA9IG51YzkwMGZiX2NwdWZyZXFfcmVnaXN0ZXIoZmJpKTsKLQlpZiAocmV0IDwgMCkgewotCQlk
ZXZfZXJyKCZwZGV2LT5kZXYsICJGYWlsZWQgdG8gcmVnaXN0ZXIgY3B1ZnJlcVxuIik7Ci0JCWdv
dG8gZnJlZV92aWRlb19tZW1vcnk7Ci0JfQotCi0JcmV0ID0gcmVnaXN0ZXJfZnJhbWVidWZmZXIo
ZmJpbmZvKTsKLQlpZiAocmV0KSB7Ci0JCXByaW50ayhLRVJOX0VSUiAiZmFpbGVkIHRvIHJlZ2lz
dGVyIGZyYW1lYnVmZmVyIGRldmljZTogJWRcbiIsCi0JCQlyZXQpOwotCQlnb3RvIGZyZWVfY3B1
ZnJlcTsKLQl9Ci0KLQlmYl9pbmZvKGZiaW5mbywgIiVzIGZyYW1lIGJ1ZmZlciBkZXZpY2VcbiIs
IGZiaW5mby0+Zml4LmlkKTsKLQotCXJldHVybiAwOwotCi1mcmVlX2NwdWZyZXE6Ci0JbnVjOTAw
ZmJfY3B1ZnJlcV9kZXJlZ2lzdGVyKGZiaSk7Ci1mcmVlX3ZpZGVvX21lbW9yeToKLQludWM5MDBm
Yl91bm1hcF92aWRlb19tZW1vcnkoZmJpbmZvKTsKLXJlbGVhc2VfY2xvY2s6Ci0JY2xrX2Rpc2Fi
bGUoZmJpLT5jbGspOwotCWNsa19wdXQoZmJpLT5jbGspOwotcmVsZWFzZV9pcnE6Ci0JZnJlZV9p
cnEoaXJxLCBmYmkpOwotcmVsZWFzZV9yZWdzOgotCWlvdW5tYXAoZmJpLT5pbyk7Ci1yZWxlYXNl
X21lbV9yZWdpb246Ci0JcmVsZWFzZV9tZW1fcmVnaW9uKHJlcy0+c3RhcnQsIHNpemUpOwotZnJl
ZV9mYjoKLQlmcmFtZWJ1ZmZlcl9yZWxlYXNlKGZiaW5mbyk7Ci0JcmV0dXJuIHJldDsKLX0KLQot
LyoKLSAqIHNodXRkb3duIHRoZSBsY2QgY29udHJvbGxlcgotICovCi1zdGF0aWMgdm9pZCBudWM5
MDBmYl9zdG9wX2xjZChzdHJ1Y3QgZmJfaW5mbyAqaW5mbykKLXsKLQlzdHJ1Y3QgbnVjOTAwZmJf
aW5mbyAqZmJpID0gaW5mby0+cGFyOwotCXZvaWQgX19pb21lbSAqcmVncyA9IGZiaS0+aW87Ci0K
LQl3cml0ZWwoKH5MQ01fRENDU19ESVNQX0lOVF9FTikgfCAofkxDTV9EQ0NTX1ZBX0VOKSB8ICh+
TENNX0RDQ1NfT1NEX0VOKSwKLQkJcmVncyArIFJFR19MQ01fRENDUyk7Ci19Ci0KLS8qCi0gKiAg
Q2xlYW51cAotICovCi1zdGF0aWMgaW50IG51YzkwMGZiX3JlbW92ZShzdHJ1Y3QgcGxhdGZvcm1f
ZGV2aWNlICpwZGV2KQotewotCXN0cnVjdCBmYl9pbmZvICpmYmluZm8gPSBwbGF0Zm9ybV9nZXRf
ZHJ2ZGF0YShwZGV2KTsKLQlzdHJ1Y3QgbnVjOTAwZmJfaW5mbyAqZmJpID0gZmJpbmZvLT5wYXI7
Ci0JaW50IGlycTsKLQotCW51YzkwMGZiX3N0b3BfbGNkKGZiaW5mbyk7Ci0JbXNsZWVwKDEpOwot
Ci0JdW5yZWdpc3Rlcl9mcmFtZWJ1ZmZlcihmYmluZm8pOwotCW51YzkwMGZiX2NwdWZyZXFfZGVy
ZWdpc3RlcihmYmkpOwotCW51YzkwMGZiX3VubWFwX3ZpZGVvX21lbW9yeShmYmluZm8pOwotCi0J
aW91bm1hcChmYmktPmlvKTsKLQotCWlycSA9IHBsYXRmb3JtX2dldF9pcnEocGRldiwgMCk7Ci0J
ZnJlZV9pcnEoaXJxLCBmYmkpOwotCi0JcmVsZWFzZV9yZXNvdXJjZShmYmktPm1lbSk7Ci0Ja2Zy
ZWUoZmJpLT5tZW0pOwotCi0JZnJhbWVidWZmZXJfcmVsZWFzZShmYmluZm8pOwotCi0JcmV0dXJu
IDA7Ci19Ci0KLSNpZmRlZiBDT05GSUdfUE0KLQotLyoKLSAqCXN1c3BlbmQgYW5kIHJlc3VtZSBz
dXBwb3J0IGZvciB0aGUgbGNkIGNvbnRyb2xsZXIKLSAqLwotCi1zdGF0aWMgaW50IG51YzkwMGZi
X3N1c3BlbmQoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqZGV2LCBwbV9tZXNzYWdlX3Qgc3RhdGUp
Ci17Ci0Jc3RydWN0IGZiX2luZm8JICAgKmZiaW5mbyA9IHBsYXRmb3JtX2dldF9kcnZkYXRhKGRl
dik7Ci0Jc3RydWN0IG51YzkwMGZiX2luZm8gKmluZm8gPSBmYmluZm8tPnBhcjsKLQotCW51Yzkw
MGZiX3N0b3BfbGNkKGZiaW5mbyk7Ci0JbXNsZWVwKDEpOwotCWNsa19kaXNhYmxlKGluZm8tPmNs
ayk7Ci0JcmV0dXJuIDA7Ci19Ci0KLXN0YXRpYyBpbnQgbnVjOTAwZmJfcmVzdW1lKHN0cnVjdCBw
bGF0Zm9ybV9kZXZpY2UgKmRldikKLXsKLQlzdHJ1Y3QgZmJfaW5mbwkgICAqZmJpbmZvID0gcGxh
dGZvcm1fZ2V0X2RydmRhdGEoZGV2KTsKLQlzdHJ1Y3QgbnVjOTAwZmJfaW5mbyAqZmJpID0gZmJp
bmZvLT5wYXI7Ci0KLQlwcmludGsoS0VSTl9JTkZPICJudWM5MDBmYiByZXN1bWVcbiIpOwotCi0J
Y2xrX2VuYWJsZShmYmktPmNsayk7Ci0JbXNsZWVwKDEpOwotCi0JbnVjOTAwZmJfaW5pdF9yZWdp
c3RlcnMoZmJpbmZvKTsKLQludWM5MDBmYl9hY3RpdmF0ZV92YXIoZmJpbmZvKTsKLQotCXJldHVy
biAwOwotfQotCi0jZWxzZQotI2RlZmluZSBudWM5MDBmYl9zdXNwZW5kIE5VTEwKLSNkZWZpbmUg
bnVjOTAwZmJfcmVzdW1lICBOVUxMCi0jZW5kaWYKLQotc3RhdGljIHN0cnVjdCBwbGF0Zm9ybV9k
cml2ZXIgbnVjOTAwZmJfZHJpdmVyID0gewotCS5wcm9iZQkJPSBudWM5MDBmYl9wcm9iZSwKLQku
cmVtb3ZlCQk9IG51YzkwMGZiX3JlbW92ZSwKLQkuc3VzcGVuZAk9IG51YzkwMGZiX3N1c3BlbmQs
Ci0JLnJlc3VtZQkJPSBudWM5MDBmYl9yZXN1bWUsCi0JLmRyaXZlcgkJPSB7Ci0JCS5uYW1lCT0g
Im51YzkwMC1sY2QiLAotCX0sCi19OwotCi1tb2R1bGVfcGxhdGZvcm1fZHJpdmVyKG51YzkwMGZi
X2RyaXZlcik7Ci0KLU1PRFVMRV9ERVNDUklQVElPTigiRnJhbWVidWZmZXIgZHJpdmVyIGZvciB0
aGUgTlVDOTAwIik7Ci1NT0RVTEVfTElDRU5TRSgiR1BMIik7CmRpZmYgLS1naXQgYS9kcml2ZXJz
L3ZpZGVvL2ZiZGV2L251YzkwMGZiLmggYi9kcml2ZXJzL3ZpZGVvL2ZiZGV2L251YzkwMGZiLmgK
ZGVsZXRlZCBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDA1NWFlOTI5NzkzMS4uMDAwMDAwMDAwMDAw
Ci0tLSBhL2RyaXZlcnMvdmlkZW8vZmJkZXYvbnVjOTAwZmIuaAorKysgL2Rldi9udWxsCkBAIC0x
LDUxICswLDAgQEAKLS8qIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wLW9yLWxhdGVy
ICovCi0vKgotICoKLSAqIENvcHlyaWdodCAoYykgMjAwOSBOdXZvdG9uIHRlY2hub2xvZ3kgY29y
cG9yYXRpb24KLSAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuCi0gKgotICogICBBdXRob3I6Ci0gKiAg
ICAgICAgV2FuZyBRaWFuZyhydXJhbGl0eS5saW51eEBnbWFpbC5jb20pICAyMDA5LzEyLzE2Ci0g
Ki8KLQotI2lmbmRlZiBfX05VQzkwMEZCX0gKLSNkZWZpbmUgX19OVUM5MDBGQl9ICi0KLSNpbmNs
dWRlIDxtYWNoL21hcC5oPgotI2luY2x1ZGUgPGxpbnV4L3BsYXRmb3JtX2RhdGEvdmlkZW8tbnVj
OTAwZmIuaD4KLQotZW51bSBudWM5MDBfbGNkZHJ2X3R5cGUgewotCUxDRERSVl9OVUM5MTAsCi0J
TENERFJWX05VQzkzMCwKLQlMQ0REUlZfTlVDOTMyLAotCUxDRERSVl9OVUM5NTAsCi0JTENERFJW
X05VQzk2MCwKLX07Ci0KLQotI2RlZmluZSBQQUxFVFRFX0JVRkZFUl9TSVpFCTI1NgotI2RlZmlu
ZSBQQUxFVFRFX0JVRkZfQ0xFQVIgCSgweDgwMDAwMDAwKSAvKiBlbnRyeSBpcyBjbGVhci9pbnZh
bGlkICovCi0KLXN0cnVjdCBudWM5MDBmYl9pbmZvIHsKLQlzdHJ1Y3QgZGV2aWNlCQkqZGV2Owot
CXN0cnVjdCBjbGsJCSpjbGs7Ci0KLQlzdHJ1Y3QgcmVzb3VyY2UJCSptZW07Ci0Jdm9pZCBfX2lv
bWVtCQkqaW87Ci0Jdm9pZCBfX2lvbWVtCQkqaXJxX2Jhc2U7Ci0JaW50IAkJCWRydl90eXBlOwot
CXN0cnVjdCBudWM5MDBmYl9odwlyZWdzOwotCXVuc2lnbmVkIGxvbmcJCWNsa19yYXRlOwotCi0j
aWZkZWYgQ09ORklHX0NQVV9GUkVRCi0Jc3RydWN0IG5vdGlmaWVyX2Jsb2NrCWZyZXFfdHJhbnNp
dGlvbjsKLSNlbmRpZgotCi0JLyoga2VlcCB0aGVzZSByZWdpc3RlcnMgaW4gY2FzZSB3ZSBuZWVk
IHRvIHJlLXdyaXRlIHBhbGV0dGUgKi8KLQl1MzIJCQlwYWxldHRlX2J1ZmZlcltQQUxFVFRFX0JV
RkZFUl9TSVpFXTsKLQl1MzIJCQlwc2V1ZG9fcGFsWzE2XTsKLX07Ci0KLWludCBudWM5MDBmYl9p
bml0KHZvaWQpOwotCi0jZW5kaWYgLyogX19OVUM5MDBGQl9IICovCmRpZmYgLS1naXQgYS9pbmNs
dWRlL0tidWlsZCBiL2luY2x1ZGUvS2J1aWxkCmluZGV4IDVlMDY0MmQ3OWRjZS4uNGQ1YTAzYTgx
ZmI1IDEwMDY0NAotLS0gYS9pbmNsdWRlL0tidWlsZAorKysgYi9pbmNsdWRlL0tidWlsZApAQCAt
NTY4LDcgKzU2OCw2IEBAIGhlYWRlci10ZXN0LQkJCSs9IGxpbnV4L3BsYXRmb3JtX2RhdGEvdXNi
MzUwMy5oCiBoZWFkZXItdGVzdC0JCQkrPSBsaW51eC9wbGF0Zm9ybV9kYXRhL3V4NTAwX3dkdC5o
CiBoZWFkZXItdGVzdC0JCQkrPSBsaW51eC9wbGF0Zm9ybV9kYXRhL3ZpZGVvLWNsY2QtdmVyc2F0
aWxlLmgKIGhlYWRlci10ZXN0LQkJCSs9IGxpbnV4L3BsYXRmb3JtX2RhdGEvdmlkZW8taW14ZmIu
aAotaGVhZGVyLXRlc3QtCQkJKz0gbGludXgvcGxhdGZvcm1fZGF0YS92aWRlby1udWM5MDBmYi5o
CiBoZWFkZXItdGVzdC0JCQkrPSBsaW51eC9wbGF0Zm9ybV9kYXRhL3ZpZGVvLXB4YWZiLmgKIGhl
YWRlci10ZXN0LQkJCSs9IGxpbnV4L3BsYXRmb3JtX2RhdGEvdmlkZW9fczNjLmgKIGhlYWRlci10
ZXN0LQkJCSs9IGxpbnV4L3BsYXRmb3JtX2RhdGEvdm9sdGFnZS1vbWFwLmgKZGlmZiAtLWdpdCBh
L2luY2x1ZGUvbGludXgvcGxhdGZvcm1fZGF0YS92aWRlby1udWM5MDBmYi5oIGIvaW5jbHVkZS9s
aW51eC9wbGF0Zm9ybV9kYXRhL3ZpZGVvLW51YzkwMGZiLmgKZGVsZXRlZCBmaWxlIG1vZGUgMTAw
NjQ0CmluZGV4IDNkYTUwNDQ2MGM5MS4uMDAwMDAwMDAwMDAwCi0tLSBhL2luY2x1ZGUvbGludXgv
cGxhdGZvcm1fZGF0YS92aWRlby1udWM5MDBmYi5oCisrKyAvZGV2L251bGwKQEAgLTEsNzkgKzAs
MCBAQAotLyogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb3ItbGF0ZXIgKi8KLS8q
IGxpbnV4L2luY2x1ZGUvYXNtL2FyY2gtbnVjOTAwL2ZiLmgKLSAqCi0gKiBDb3B5cmlnaHQgKGMp
IDIwMDggTnV2b3RvbiB0ZWNobm9sb2d5IGNvcnBvcmF0aW9uCi0gKiBBbGwgcmlnaHRzIHJlc2Vy
dmVkLgotICoKLSAqIENoYW5nZWxvZzoKLSAqCi0gKiAgIDIwMDgvMDgvMjYgICAgIHZpbmNlbi56
c3dhbiBtb2RpZnkgdGhpcyBmaWxlIGZvciBMQ0QuCi0gKi8KLQotI2lmbmRlZiBfX0FTTV9BUk1f
RkJfSAotI2RlZmluZSBfX0FTTV9BUk1fRkJfSAotCi0KLQotLyogTENEIENvbnRyb2xsZXIgSGFy
ZHdhcmUgRGVzYyAqLwotc3RydWN0IG51YzkwMGZiX2h3IHsKLQl1bnNpZ25lZCBpbnQgbGNkX2Rj
Y3M7Ci0JdW5zaWduZWQgaW50IGxjZF9kZXZpY2VfY3RybDsKLQl1bnNpZ25lZCBpbnQgbGNkX21w
dWxjZF9jbWQ7Ci0JdW5zaWduZWQgaW50IGxjZF9pbnRfY3M7Ci0JdW5zaWduZWQgaW50IGxjZF9j
cnRjX3NpemU7Ci0JdW5zaWduZWQgaW50IGxjZF9jcnRjX2RlbmQ7Ci0JdW5zaWduZWQgaW50IGxj
ZF9jcnRjX2hyOwotCXVuc2lnbmVkIGludCBsY2RfY3J0Y19oc3luYzsKLQl1bnNpZ25lZCBpbnQg
bGNkX2NydGNfdnI7Ci0JdW5zaWduZWQgaW50IGxjZF92YV9iYWRkcjA7Ci0JdW5zaWduZWQgaW50
IGxjZF92YV9iYWRkcjE7Ci0JdW5zaWduZWQgaW50IGxjZF92YV9mYmN0cmw7Ci0JdW5zaWduZWQg
aW50IGxjZF92YV9zY2FsZTsKLQl1bnNpZ25lZCBpbnQgbGNkX3ZhX3Rlc3Q7Ci0JdW5zaWduZWQg
aW50IGxjZF92YV93aW47Ci0JdW5zaWduZWQgaW50IGxjZF92YV9zdHVmZjsKLX07Ci0KLS8qIExD
RCBEaXNwbGF5IERlc2NyaXB0aW9uICovCi1zdHJ1Y3QgbnVjOTAwZmJfZGlzcGxheSB7Ci0JLyog
TENEIEltYWdlIHR5cGUgKi8KLQl1bnNpZ25lZCB0eXBlOwotCi0JLyogTENEIFNjcmVlbiBTaXpl
ICovCi0JdW5zaWduZWQgc2hvcnQgd2lkdGg7Ci0JdW5zaWduZWQgc2hvcnQgaGVpZ2h0OwotCi0J
LyogTENEIFNjcmVlbiBJbmZvICovCi0JdW5zaWduZWQgc2hvcnQgeHJlczsKLQl1bnNpZ25lZCBz
aG9ydCB5cmVzOwotCXVuc2lnbmVkIHNob3J0IGJwcDsKLQotCXVuc2lnbmVkIGxvbmcgcGl4Y2xv
Y2s7Ci0JdW5zaWduZWQgc2hvcnQgbGVmdF9tYXJnaW47Ci0JdW5zaWduZWQgc2hvcnQgcmlnaHRf
bWFyZ2luOwotCXVuc2lnbmVkIHNob3J0IGhzeW5jX2xlbjsKLQl1bnNpZ25lZCBzaG9ydCB1cHBl
cl9tYXJnaW47Ci0JdW5zaWduZWQgc2hvcnQgbG93ZXJfbWFyZ2luOwotCXVuc2lnbmVkIHNob3J0
IHZzeW5jX2xlbjsKLQotCS8qIGhhcmR3YXJlIHNwZWNpYWwgcmVnaXN0ZXIgdmFsdWUgKi8KLQl1
bnNpZ25lZCBpbnQgZGNjczsKLQl1bnNpZ25lZCBpbnQgZGV2Y3RsOwotCXVuc2lnbmVkIGludCBm
YmN0cmw7Ci0JdW5zaWduZWQgaW50IHNjYWxlOwotfTsKLQotc3RydWN0IG51YzkwMGZiX21hY2hf
aW5mbyB7Ci0Jc3RydWN0IG51YzkwMGZiX2Rpc3BsYXkgKmRpc3BsYXlzOwotCXVuc2lnbmVkIG51
bV9kaXNwbGF5czsKLQl1bnNpZ25lZCBkZWZhdWx0X2Rpc3BsYXk7Ci0JLyogR1BJTyBTZXR0aW5n
ICBJbmZvICovCi0JdW5zaWduZWQgZ3Bpb19kaXI7Ci0JdW5zaWduZWQgZ3Bpb19kaXJfbWFzazsK
LQl1bnNpZ25lZCBncGlvX2RhdGE7Ci0JdW5zaWduZWQgZ3Bpb19kYXRhX21hc2s7Ci19OwotCi1l
eHRlcm4gdm9pZCBfX2luaXQgbnVjOTAwX2ZiX3NldF9wbGF0ZGF0YShzdHJ1Y3QgbnVjOTAwZmJf
bWFjaF9pbmZvICopOwotCi0jZW5kaWYgLyogX19BU01fQVJNX0ZCX0ggKi8KLS0gCjIuMjAuMAoK
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVs
IG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlz
dHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
