Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 2784A165428
	for <lists+dri-devel@lfdr.de>; Thu, 20 Feb 2020 02:18:53 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 5A5E96E890;
	Thu, 20 Feb 2020 01:18:47 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga01.intel.com (mga01.intel.com [192.55.52.88])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 35FB36E890;
 Thu, 20 Feb 2020 01:18:46 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga006.fm.intel.com ([10.253.24.20])
 by fmsmga101.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 19 Feb 2020 17:18:46 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.70,462,1574150400"; d="scan'208";a="436426910"
Received: from unknown (HELO localhost.jf.intel.com) ([10.166.29.74])
 by fmsmga006.fm.intel.com with ESMTP; 19 Feb 2020 17:18:45 -0800
From: Akeem G Abodunrin <akeem.g.abodunrin@intel.com>
To: akeem.g.abodunrin@intel.com, intel-gfx@lists.freedesktop.org,
 dri-devel@lists.freedesktop.org, omer.aran@intel.com,
 pragyansri.pathi@intel.com, d.scott.phillips@intel.com,
 david.c.stewart@intel.com, tony.luck@intel.com, jon.bloomfield@intel.com,
 sudeep.dutt@intel.com, daniel.vetter@intel.com,
 joonas.lahtinen@linux.intel.com, jani.nikula@intel.com,
 chris.p.wilson@intel.com, prathap.kumar.valsan@intel.com,
 mika.kuoppala@intel.com, francesco.balestrieri@intel.com
Subject: [PATCH v3 2/2] drm/i915/gen7: Clear all EU/L3 residual contexts
Date: Wed, 19 Feb 2020 10:02:56 -0800
Message-Id: <20200219180256.15524-3-akeem.g.abodunrin@intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20200219180256.15524-1-akeem.g.abodunrin@intel.com>
References: <20200219180256.15524-1-akeem.g.abodunrin@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogUHJhdGhhcCBLdW1hciBWYWxzYW4gPHByYXRoYXAua3VtYXIudmFsc2FuQGludGVsLmNv
bT4KCk9uIGdlbjcgYW5kIGdlbjcuNSBkZXZpY2VzLCB0aGVyZSBjb3VsZCBiZSBsZWZ0b3ZlciBk
YXRhIHJlc2lkdWFscyBpbgpFVS9MMyBmcm9tIHRoZSByZXRpcmluZyBjb250ZXh0LiBUaGlzIHBh
dGNoIGludHJvZHVjZXMgd29ya2Fyb3VuZCB0byBjbGVhcgp0aGF0IHJlc2lkdWFsIGNvbnRleHRz
LCBieSBzdWJtaXR0aW5nIGEgYmF0Y2ggYnVmZmVyIHdpdGggZGVkaWNhdGVkIEhXCmNvbnRleHQg
dG8gdGhlIEdQVSB3aXRoIHJpbmcgYWxsb2NhdGlvbiBmb3IgZWFjaCBjb250ZXh0IHN3aXRjaGlu
Zy4KClRoaXMgc2VjdXJpdHkgbWl0aWdhdGlvbiBjaGFuZ2VzIGRvZXMgbm90IHRyaWdnZXJzIGFu
eSBwZXJmb3JtYW5jZQpyZWdyZXNzaW9uLiBQZXJmb3JtYW5jZSBpcyBvbiBwYXIgd2l0aCBjdXJy
ZW50IGRybS10aXBzLgoKdjI6IEFkZCBpZ3QgZ2VuZXJhdGVkIGhlYWRlciBmaWxlIGZvciBDQiBr
ZXJuZWwgYXNzZW1ibGVkIHdpdGggTWVzYSB0b29sCmFuZCBhZGRyZXNzZWQgdXNlIG9mIEtlcm5l
bCBtYWNybyBmb3IgcHRyX2FsaWduIGNvbW1lbnQuCgp2MzogUmVzb2x2ZSBTcGFyc2Ugd2Fybmlu
Z3Mgd2l0aCBuZXdseSBnZW5lcmF0ZWQsIGFuZCBpbXBvcnRlZCBDQgprZXJuZWwuCgpTaWduZWQt
b2ZmLWJ5OiBNaWthIEt1b3BwYWxhIDxtaWthLmt1b3BwYWxhQGxpbnV4LmludGVsLmNvbT4KU2ln
bmVkLW9mZi1ieTogUHJhdGhhcCBLdW1hciBWYWxzYW4gPHByYXRoYXAua3VtYXIudmFsc2FuQGlu
dGVsLmNvbT4KU2lnbmVkLW9mZi1ieTogQWtlZW0gRyBBYm9kdW5yaW4gPGFrZWVtLmcuYWJvZHVu
cmluQGludGVsLmNvbT4KQ2M6IENocmlzIFdpbHNvbiA8Y2hyaXMucC53aWxzb25AaW50ZWwuY29t
PgpDYzogQmFsZXN0cmllcmkgRnJhbmNlc2NvIDxmcmFuY2VzY28uYmFsZXN0cmllcmlAaW50ZWwu
Y29tPgpDYzogQmxvb21maWVsZCBKb24gPGpvbi5ibG9vbWZpZWxkQGludGVsLmNvbT4KQ2M6IER1
dHQgU3VkZWVwIDxzdWRlZXAuZHV0dEBpbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5
MTUvTWFrZWZpbGUgICAgICAgICAgICAgICAgIHwgICAxICsKIGRyaXZlcnMvZ3B1L2RybS9pOTE1
L2d0L2dlbjdfNV9jbGVhcmJ1ZmZlci5oICB8ICA2OSArKysKIGRyaXZlcnMvZ3B1L2RybS9pOTE1
L2d0L2dlbjdfY2xlYXJidWZmZXIuaCAgICB8ICA2OSArKysKIGRyaXZlcnMvZ3B1L2RybS9pOTE1
L2d0L2dlbjdfcmVuZGVyY2xlYXIuYyAgICB8IDM5OSArKysrKysrKysrKysrKysrKysKIGRyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2dlbjdfcmVuZGVyY2xlYXIuaCAgICB8ICAxNSArCiBkcml2ZXJz
L2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ncHVfY29tbWFuZHMuaCAgfCAgMTcgKy0KIC4uLi9ncHUv
ZHJtL2k5MTUvZ3QvaW50ZWxfcmluZ19zdWJtaXNzaW9uLmMgICB8ICAgMyArLQogNyBmaWxlcyBj
aGFuZ2VkLCA1NjkgaW5zZXJ0aW9ucygrKSwgNCBkZWxldGlvbnMoLSkKIGNyZWF0ZSBtb2RlIDEw
MDY0NCBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9nZW43XzVfY2xlYXJidWZmZXIuaAogY3JlYXRl
IG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2dlbjdfY2xlYXJidWZmZXIuaAog
Y3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2dlbjdfcmVuZGVyY2xl
YXIuYwogY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2dlbjdfcmVu
ZGVyY2xlYXIuaAoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L01ha2VmaWxlIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvTWFrZWZpbGUKaW5kZXggYjMxNGQ0NGRlZDVlLi5lYmUzYTE2
MGY1ODggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L01ha2VmaWxlCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L01ha2VmaWxlCkBAIC03OSw2ICs3OSw3IEBAIGd0LXkgKz0gXAog
CWd0L2RlYnVnZnNfZ3QubyBcCiAJZ3QvZGVidWdmc19ndF9wbS5vIFwKIAlndC9nZW42X3BwZ3R0
Lm8gXAorCWd0L2dlbjdfcmVuZGVyY2xlYXIubyBcCiAJZ3QvZ2VuOF9wcGd0dC5vIFwKIAlndC9p
bnRlbF9icmVhZGNydW1icy5vIFwKIAlndC9pbnRlbF9jb250ZXh0Lm8gXApkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvZ2VuN181X2NsZWFyYnVmZmVyLmggYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9ndC9nZW43XzVfY2xlYXJidWZmZXIuaApuZXcgZmlsZSBtb2RlIDEwMDY0NApp
bmRleCAwMDAwMDAwMDAwMDAuLmEwZDVlM2IyMGNhYQotLS0gL2Rldi9udWxsCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2dlbjdfNV9jbGVhcmJ1ZmZlci5oCkBAIC0wLDAgKzEsNjkgQEAK
Ky8qIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVQgKi8KKy8qCisgKiBDb3B5cmlnaHQgwqkg
MjAyMCBJbnRlbCBDb3Jwb3JhdGlvbgorICoKKyAqIEdlbmVyYXRlZCBieTogSUdUIEdwdSBUb29s
cyBvbiBUaHUgMjAgRmViIDIwMjAgMTI6MzA6MjEgQU0gVVRDCisgKi8KKworI2lmbmRlZiBfX0dF
TjdfNV9DTEVBUkJVRkZFUl9IX18KKyNkZWZpbmUgX19HRU43XzVfQ0xFQVJCVUZGRVJfSF9fCisK
KyNpbmNsdWRlIDxsaW51eC90eXBlcy5oPgorCisvKiBNZWRpYSBDQiBLZXJuZWwgZm9yIGdlbjcu
NSBkZXZpY2VzICovCitzdGF0aWMgY29uc3QgdTMyIGhzd19ldV9rZXJuZWxbXSA9IHsKKwkweDAw
MDAwMDAxLCAweDI2MDIwMTI4LCAweDAwMDAwMDI0LCAweDAwMDAwMDAwLAorCTB4MDAwMDAwNDAs
IDB4MjAyODBjMjEsIDB4MDAwMDAwMjgsIDB4MDAwMDAwMDEsCisJMHgwMTAwMDAxMCwgMHgyMDAw
MGMyMCwgMHgwMDAwMDAyYywgMHgwMDAwMDAwMCwKKwkweDAwMDEwMjIwLCAweDM0MDAxYzAwLCAw
eDAwMDAxNDAwLCAweDAwMDAwMTYwLAorCTB4MDA2MDAwMDEsIDB4MjA2MDAwNjEsIDB4MDAwMDAw
MDAsIDB4MDAwMDAwMDAsCisJMHgwMDAwMDAwOCwgMHgyMDYwMWM4NSwgMHgwMDAwMGUwMCwgMHgw
MDAwMDAwYywKKwkweDAwMDAwMDA1LCAweDIwNjAxY2E1LCAweDAwMDAwMDYwLCAweDAwMDAwMDAx
LAorCTB4MDAwMDAwMDgsIDB4MjA2NDFjODUsIDB4MDAwMDBlMDAsIDB4MDAwMDAwMGQsCisJMHgw
MDAwMDAwNSwgMHgyMDY0MWNhNSwgMHgwMDAwMDA2NCwgMHgwMDAwMDAwMywKKwkweDAwMDAwMDQx
LCAweDIwNzQyNGE1LCAweDAwMDAwMDY0LCAweDAwMDAwMDM0LAorCTB4MDAwMDAwNDAsIDB4MjA2
MDE0YTUsIDB4MDAwMDAwNjAsIDB4MDAwMDAwNzQsCisJMHgwMDAwMDAwOCwgMHgyMDY4MWM4NSwg
MHgwMDAwMGUwMCwgMHgwMDAwMDAwOCwKKwkweDAwMDAwMDA1LCAweDIwNjgxY2E1LCAweDAwMDAw
MDY4LCAweDAwMDAwMDBmLAorCTB4MDAwMDAwNDEsIDB4MjA3MDFjYTUsIDB4MDAwMDAwNjAsIDB4
MDAwMDAwMTAsCisJMHgwMDAwMDA0MCwgMHgyMDY4MTRhNSwgMHgwMDAwMDA2OCwgMHgwMDAwMDA3
MCwKKwkweDAwNjAwMDAxLCAweDIwYTAwMDYxLCAweDAwMDAwMDAwLCAweDAwMDAwMDAwLAorCTB4
MDAwMDAwMDUsIDB4MjA2YzFjODUsIDB4MDAwMDBlMDAsIDB4MDAwMDAwMDcsCisJMHgwMDAwMDA0
MSwgMHgyMDZjMWNhNSwgMHgwMDAwMDA2YywgMHgwMDAwMDAwNCwKKwkweDAwNjAwMDAxLCAweDIw
ODAwMDIxLCAweDAwOGQwMDAwLCAweDAwMDAwMDAwLAorCTB4MDAwMDAwMDEsIDB4MjA4MDAwMjEs
IDB4MDAwMDAwNmMsIDB4MDAwMDAwMDAsCisJMHgwMDAwMDAwMSwgMHgyMDg0MDAyMSwgMHgwMDAw
MDA2OCwgMHgwMDAwMDAwMCwKKwkweDAwMDAwMDAxLCAweDIwODgwMDYxLCAweDAwMDAwMDAwLCAw
eDAwMDAwMDAzLAorCTB4MDAwMDAwMDUsIDB4MjA4YzBkMjEsIDB4MDAwMDAwODYsIDB4ZmZmZmZm
ZmYsCisJMHgwNTYwMDAzMiwgMHgyMGEwMGZhMSwgMHgwMDhkMDA4MCwgMHgwMjE5MDAwMSwKKwkw
eDAwMDAwMDQwLCAweDIwYTAxY2E1LCAweDAwMDAwMGEwLCAweDAwMDAwMDAxLAorCTB4MDU2MDAw
MzIsIDB4MjBhMDBmYTEsIDB4MDA4ZDAwODAsIDB4MDQwYTgwMDEsCisJMHgwMjAwMDA0MCwgMHgy
MDI4MWMyMSwgMHgwMDAwMDAyOCwgMHhmZmZmZmZmZiwKKwkweDAwMDEwMjIwLCAweDM0MDAxYzAw
LCAweDAwMDAxNDAwLCAweGZmZmZmZmUwLAorCTB4MDAwMDAwMDEsIDB4MjYwMjAxMjgsIDB4MDAw
MDAwMjQsIDB4MDAwMDAwMDAsCisJMHgwMDAwMDAwMSwgMHgyMjAwMTBlNCwgMHgwMDAwMDAwMCwg
MHgwMDAwMDAwMCwKKwkweDAwMDAwMDAxLCAweDIyMDgzMWVjLCAweDAwMDAwMDAwLCAweDAwN2Yw
MDdmLAorCTB4MDA2MDAwMDEsIDB4MjA0MDAwMjEsIDB4MDA4ZDAwMDAsIDB4MDAwMDAwMDAsCisJ
MHgwMDYwMDAwMSwgMHgyZmUwMDAyMSwgMHgwMDhkMDAwMCwgMHgwMDAwMDAwMCwKKwkweDAwMjAw
MDAxLCAweDIwNDAwMTIxLCAweDAwNDUwMDIwLCAweDAwMDAwMDAwLAorCTB4MDAwMDAwMDEsIDB4
MjA0ODAwNjEsIDB4MDAwMDAwMDAsIDB4MDAwZjAwMGYsCisJMHgwMDAwMDAwNSwgMHgyMDRjMGQy
MSwgMHgwMDAwMDA0NiwgMHhmZmZmZmZlZiwKKwkweDAwODAwMDAxLCAweDIwNjAwMDYxLCAweDAw
MDAwMDAwLCAweDAwMDAwMDAwLAorCTB4MDA4MDAwMDEsIDB4MjA4MDAwNjEsIDB4MDAwMDAwMDAs
IDB4MDAwMDAwMDAsCisJMHgwMDgwMDAwMSwgMHgyMGEwMDA2MSwgMHgwMDAwMDAwMCwgMHgwMDAw
MDAwMCwKKwkweDAwODAwMDAxLCAweDIwYzAwMDYxLCAweDAwMDAwMDAwLCAweDAwMDAwMDAwLAor
CTB4MDA4MDAwMDEsIDB4MjBlMDAwNjEsIDB4MDAwMDAwMDAsIDB4MDAwMDAwMDAsCisJMHgwMDgw
MDAwMSwgMHgyMTAwMDA2MSwgMHgwMDAwMDAwMCwgMHgwMDAwMDAwMCwKKwkweDAwODAwMDAxLCAw
eDIxMjAwMDYxLCAweDAwMDAwMDAwLCAweDAwMDAwMDAwLAorCTB4MDA4MDAwMDEsIDB4MjE0MDAw
NjEsIDB4MDAwMDAwMDAsIDB4MDAwMDAwMDAsCisJMHgwNTYwMDAzMiwgMHgyMDAwMGZhMCwgMHgw
MDhkMDA0MCwgMHgxMjBhODAwMCwKKwkweDAwMDAwMDQwLCAweDIwNDAyZDIxLCAweDAwMDAwMDIw
LCAweDAwMTAwMDEwLAorCTB4MDU2MDAwMzIsIDB4MjAwMDBmYTAsIDB4MDA4ZDAwNDAsIDB4MTIw
YTgwMDAsCisJMHgwMjAwMDA0MCwgMHgyMjA4M2Q4YywgMHgwMDAwMDIwOCwgMHhmZmZmZmZmZiwK
KwkweDAwODAwMDAxLCAweGEwMDAwMTA5LCAweDAwMDAwNjAyLCAweDAwMDAwMDAwLAorCTB4MDAw
MDAwNDAsIDB4MjIwMDFjODQsIDB4MDAwMDAyMDAsIDB4MDAwMDAwMjAsCisJMHgwMDAxMDIyMCwg
MHgzNDAwMWMwMCwgMHgwMDAwMTQwMCwgMHhmZmZmZmZjMCwKKwkweDA3NjAwMDMyLCAweDIwMDAw
ZmEwLCAweDAwOGQwZmUwLCAweDgyMDAwMDEwLAorfTsKKworI2VuZGlmIC8qIF9fR0VON181X0NM
RUFSQlVGRkVSX0hfXyAqLwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvZ2Vu
N19jbGVhcmJ1ZmZlci5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvZ2VuN19jbGVhcmJ1ZmZl
ci5oCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAwMC4uM2U4ODA1ZTUwOTIz
Ci0tLSAvZGV2L251bGwKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvZ2VuN19jbGVhcmJ1
ZmZlci5oCkBAIC0wLDAgKzEsNjkgQEAKKy8qIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVQg
Ki8KKy8qCisgKiBDb3B5cmlnaHQgwqkgMjAyMCBJbnRlbCBDb3Jwb3JhdGlvbgorICoKKyAqIEdl
bmVyYXRlZCBieTogSUdUIEdwdSBUb29scyBvbiBUaHUgMjAgRmViIDIwMjAgMTI6MzQ6NTMgQU0g
VVRDCisgKi8KKworI2lmbmRlZiBfX0dFTjdfQ0xFQVJCVUZGRVJfSF9fCisjZGVmaW5lIF9fR0VO
N19DTEVBUkJVRkZFUl9IX18KKworI2luY2x1ZGUgPGxpbnV4L3R5cGVzLmg+CisKKy8qIE1lZGlh
IENCIEtlcm5lbCBmb3IgZ2VuNyBkZXZpY2VzICovCitzdGF0aWMgY29uc3QgdTMyIGl2Yl9ldV9r
ZXJuZWxbXSA9IHsKKwkweDAwMDAwMDAxLCAweDI2MDIwMTI4LCAweDAwMDAwMDI0LCAweDAwMDAw
MDAwLAorCTB4MDAwMDAwNDAsIDB4MjAyODBjMjEsIDB4MDAwMDAwMjgsIDB4MDAwMDAwMDEsCisJ
MHgwMTAwMDAxMCwgMHgyMDAwMGMyMCwgMHgwMDAwMDAyYywgMHgwMDAwMDAwMCwKKwkweDAwMDEw
MjIwLCAweDM0MDAxYzAwLCAweDAwMDAxNDAwLCAweDAwMDAwMDJjLAorCTB4MDA2MDAwMDEsIDB4
MjA2MDAwNjEsIDB4MDAwMDAwMDAsIDB4MDAwMDAwMDAsCisJMHgwMDAwMDAwOCwgMHgyMDYwMWM4
NSwgMHgwMDAwMGUwMCwgMHgwMDAwMDAwYywKKwkweDAwMDAwMDA1LCAweDIwNjAxY2E1LCAweDAw
MDAwMDYwLCAweDAwMDAwMDAxLAorCTB4MDAwMDAwMDgsIDB4MjA2NDFjODUsIDB4MDAwMDBlMDAs
IDB4MDAwMDAwMGQsCisJMHgwMDAwMDAwNSwgMHgyMDY0MWNhNSwgMHgwMDAwMDA2NCwgMHgwMDAw
MDAwMywKKwkweDAwMDAwMDQxLCAweDIwNzQyNGE1LCAweDAwMDAwMDY0LCAweDAwMDAwMDM0LAor
CTB4MDAwMDAwNDAsIDB4MjA2MDE0YTUsIDB4MDAwMDAwNjAsIDB4MDAwMDAwNzQsCisJMHgwMDAw
MDAwOCwgMHgyMDY4MWM4NSwgMHgwMDAwMGUwMCwgMHgwMDAwMDAwOCwKKwkweDAwMDAwMDA1LCAw
eDIwNjgxY2E1LCAweDAwMDAwMDY4LCAweDAwMDAwMDBmLAorCTB4MDAwMDAwNDEsIDB4MjA3MDFj
YTUsIDB4MDAwMDAwNjAsIDB4MDAwMDAwMTAsCisJMHgwMDAwMDA0MCwgMHgyMDY4MTRhNSwgMHgw
MDAwMDA2OCwgMHgwMDAwMDA3MCwKKwkweDAwNjAwMDAxLCAweDIwYTAwMDYxLCAweDAwMDAwMDAw
LCAweDAwMDAwMDAwLAorCTB4MDAwMDAwMDUsIDB4MjA2YzFjODUsIDB4MDAwMDBlMDAsIDB4MDAw
MDAwMDcsCisJMHgwMDAwMDA0MSwgMHgyMDZjMWNhNSwgMHgwMDAwMDA2YywgMHgwMDAwMDAwNCwK
KwkweDAwNjAwMDAxLCAweDIwODAwMDIxLCAweDAwOGQwMDAwLCAweDAwMDAwMDAwLAorCTB4MDAw
MDAwMDEsIDB4MjA4MDAwMjEsIDB4MDAwMDAwNmMsIDB4MDAwMDAwMDAsCisJMHgwMDAwMDAwMSwg
MHgyMDg0MDAyMSwgMHgwMDAwMDA2OCwgMHgwMDAwMDAwMCwKKwkweDAwMDAwMDAxLCAweDIwODgw
MDYxLCAweDAwMDAwMDAwLCAweDAwMDAwMDAzLAorCTB4MDAwMDAwMDUsIDB4MjA4YzBkMjEsIDB4
MDAwMDAwODYsIDB4ZmZmZmZmZmYsCisJMHgwNTYwMDAzMiwgMHgyMGEwMGZhMSwgMHgwMDhkMDA4
MCwgMHgwMjE5MDAwMSwKKwkweDAwMDAwMDQwLCAweDIwYTAxY2E1LCAweDAwMDAwMGEwLCAweDAw
MDAwMDAxLAorCTB4MDU2MDAwMzIsIDB4MjBhMDBmYTEsIDB4MDA4ZDAwODAsIDB4MDQwYTgwMDEs
CisJMHgwMjAwMDA0MCwgMHgyMDI4MWMyMSwgMHgwMDAwMDAyOCwgMHhmZmZmZmZmZiwKKwkweDAw
MDEwMjIwLCAweDM0MDAxYzAwLCAweDAwMDAxNDAwLCAweGZmZmZmZmZjLAorCTB4MDAwMDAwMDEs
IDB4MjYwMjAxMjgsIDB4MDAwMDAwMjQsIDB4MDAwMDAwMDAsCisJMHgwMDAwMDAwMSwgMHgyMjAw
MTBlNCwgMHgwMDAwMDAwMCwgMHgwMDAwMDAwMCwKKwkweDAwMDAwMDAxLCAweDIyMDgzMWVjLCAw
eDAwMDAwMDAwLCAweDAwN2YwMDdmLAorCTB4MDA2MDAwMDEsIDB4MjA0MDAwMjEsIDB4MDA4ZDAw
MDAsIDB4MDAwMDAwMDAsCisJMHgwMDYwMDAwMSwgMHgyZmUwMDAyMSwgMHgwMDhkMDAwMCwgMHgw
MDAwMDAwMCwKKwkweDAwMjAwMDAxLCAweDIwNDAwMTIxLCAweDAwNDUwMDIwLCAweDAwMDAwMDAw
LAorCTB4MDAwMDAwMDEsIDB4MjA0ODAwNjEsIDB4MDAwMDAwMDAsIDB4MDAwZjAwMGYsCisJMHgw
MDAwMDAwNSwgMHgyMDRjMGQyMSwgMHgwMDAwMDA0NiwgMHhmZmZmZmZlZiwKKwkweDAwODAwMDAx
LCAweDIwNjAwMDYxLCAweDAwMDAwMDAwLCAweDAwMDAwMDAwLAorCTB4MDA4MDAwMDEsIDB4MjA4
MDAwNjEsIDB4MDAwMDAwMDAsIDB4MDAwMDAwMDAsCisJMHgwMDgwMDAwMSwgMHgyMGEwMDA2MSwg
MHgwMDAwMDAwMCwgMHgwMDAwMDAwMCwKKwkweDAwODAwMDAxLCAweDIwYzAwMDYxLCAweDAwMDAw
MDAwLCAweDAwMDAwMDAwLAorCTB4MDA4MDAwMDEsIDB4MjBlMDAwNjEsIDB4MDAwMDAwMDAsIDB4
MDAwMDAwMDAsCisJMHgwMDgwMDAwMSwgMHgyMTAwMDA2MSwgMHgwMDAwMDAwMCwgMHgwMDAwMDAw
MCwKKwkweDAwODAwMDAxLCAweDIxMjAwMDYxLCAweDAwMDAwMDAwLCAweDAwMDAwMDAwLAorCTB4
MDA4MDAwMDEsIDB4MjE0MDAwNjEsIDB4MDAwMDAwMDAsIDB4MDAwMDAwMDAsCisJMHgwNTYwMDAz
MiwgMHgyMDAwMGZhMCwgMHgwMDhkMDA0MCwgMHgxMjBhODAwMCwKKwkweDAwMDAwMDQwLCAweDIw
NDAyZDIxLCAweDAwMDAwMDIwLCAweDAwMTAwMDEwLAorCTB4MDU2MDAwMzIsIDB4MjAwMDBmYTAs
IDB4MDA4ZDAwNDAsIDB4MTIwYTgwMDAsCisJMHgwMjAwMDA0MCwgMHgyMjA4M2Q4YywgMHgwMDAw
MDIwOCwgMHhmZmZmZmZmZiwKKwkweDAwODAwMDAxLCAweGEwMDAwMTA5LCAweDAwMDAwNjAyLCAw
eDAwMDAwMDAwLAorCTB4MDAwMDAwNDAsIDB4MjIwMDFjODQsIDB4MDAwMDAyMDAsIDB4MDAwMDAw
MjAsCisJMHgwMDAxMDIyMCwgMHgzNDAwMWMwMCwgMHgwMDAwMTQwMCwgMHhmZmZmZmZmOCwKKwkw
eDA3NjAwMDMyLCAweDIwMDAwZmEwLCAweDAwOGQwZmUwLCAweDgyMDAwMDEwLAorfTsKKworI2Vu
ZGlmIC8qIF9fR0VON19DTEVBUkJVRkZFUl9IX18gKi8KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2d0L2dlbjdfcmVuZGVyY2xlYXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2dlbjdfcmVuZGVyY2xlYXIuYwpuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwMDAw
MDAuLjJjM2FhYmM3MmI0ZQotLS0gL2Rldi9udWxsCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2d0L2dlbjdfcmVuZGVyY2xlYXIuYwpAQCAtMCwwICsxLDM5OSBAQAorLy8gU1BEWC1MaWNlbnNl
LUlkZW50aWZpZXI6IE1JVAorLyoKKyAqIENvcHlyaWdodCDCqSAyMDE5IEludGVsIENvcnBvcmF0
aW9uCisgKi8KKworI2luY2x1ZGUgImdlbjdfcmVuZGVyY2xlYXIuaCIKKyNpbmNsdWRlICJnZW43
XzVfY2xlYXJidWZmZXIuaCIKKyNpbmNsdWRlICJnZW43X2NsZWFyYnVmZmVyLmgiCisjaW5jbHVk
ZSAiaTkxNV9kcnYuaCIKKyNpbmNsdWRlICJpbnRlbF9ncHVfY29tbWFuZHMuaCIKKworI2RlZmlu
ZSBNQVhfVVJCX0VOVFJJRVMgNjQKKyNkZWZpbmUgU1RBVEVfU0laRSAoNCAqIDEwMjQpCisjZGVm
aW5lIEdUM19JTkxJTkVfREFUQV9ERUxBWVMgMHgxRTAwCisjZGVmaW5lIGJhdGNoX2FkdmFuY2Uo
WSwgQ1MpIEdFTV9CVUdfT04oKFkpLT5lbmQgIT0gKENTKSkKKworc3RydWN0IGNiX2tlcm5lbCB7
CisJY29uc3Qgdm9pZCAqZGF0YTsKKwl1MzIgc2l6ZTsKK307CisKKyNkZWZpbmUgQ0JfS0VSTkVM
KG5hbWUpIHsgLmRhdGEgPSAobmFtZSksIC5zaXplID0gc2l6ZW9mKG5hbWUpIH0KKworc3RhdGlj
IGNvbnN0IHN0cnVjdCBjYl9rZXJuZWwgY2Jfa2VybmVsX2dlbjcgPSBDQl9LRVJORUwoaXZiX2V1
X2tlcm5lbCk7CitzdGF0aWMgY29uc3Qgc3RydWN0IGNiX2tlcm5lbCBjYl9rZXJuZWxfZ2VuN181
ID0gQ0JfS0VSTkVMKGhzd19ldV9rZXJuZWwpOworCitzdHJ1Y3QgYmF0Y2hfY2h1bmsgeworCXN0
cnVjdCBpOTE1X3ZtYSAqdm1hOworCXUzMiBvZmZzZXQ7CisJdTMyICpzdGFydDsKKwl1MzIgKmVu
ZDsKKwl1MzIgbWF4X2l0ZW1zOworfTsKKworc3RydWN0IGJhdGNoX3ZhbHMgeworCXUzMiBtYXhf
cHJpbWl0aXZlczsKKwl1MzIgbWF4X3VyYl9lbnRyaWVzOworCXUzMiBjbWRfc2l6ZTsKKwl1MzIg
c3RhdGVfc2l6ZTsKKwl1MzIgc3RhdGVfc3RhcnQ7CisJdTMyIGJhdGNoX3NpemU7CisJdTMyIHN1
cmZhY2VfaGVpZ2h0OworCXUzMiBzdXJmYWNlX3dpZHRoOworCXUzMiBzY3JhdGNoX3NpemU7CisJ
dTMyIG1heF9zaXplOworfTsKKworc3RhdGljIHZvaWQKK2JhdGNoX2dldF9kZWZhdWx0cyhzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwgc3RydWN0IGJhdGNoX3ZhbHMgKmJ2KQoreworCWlm
IChJU19IQVNXRUxMKGk5MTUpKSB7CisJCWJ2LT5tYXhfcHJpbWl0aXZlcyA9IDI4MDsKKwkJYnYt
Pm1heF91cmJfZW50cmllcyA9IE1BWF9VUkJfRU5UUklFUzsKKwkJYnYtPnN1cmZhY2VfaGVpZ2h0
ID0gMTYgKiAxNjsKKwkJYnYtPnN1cmZhY2Vfd2lkdGggPSAzMiAqIDIgKiAxNjsKKwl9IGVsc2Ug
eworCQlidi0+bWF4X3ByaW1pdGl2ZXMgPSAxMjg7CisJCWJ2LT5tYXhfdXJiX2VudHJpZXMgPSBN
QVhfVVJCX0VOVFJJRVMgLyAyOworCQlidi0+c3VyZmFjZV9oZWlnaHQgPSAxNiAqIDg7CisJCWJ2
LT5zdXJmYWNlX3dpZHRoID0gMzIgKiAxNjsKKwl9CisJYnYtPmNtZF9zaXplID0gYnYtPm1heF9w
cmltaXRpdmVzICogNDA5NjsKKwlidi0+c3RhdGVfc2l6ZSA9IFNUQVRFX1NJWkU7CisJYnYtPnN0
YXRlX3N0YXJ0ID0gYnYtPmNtZF9zaXplOworCWJ2LT5iYXRjaF9zaXplID0gYnYtPmNtZF9zaXpl
ICsgYnYtPnN0YXRlX3NpemU7CisJYnYtPnNjcmF0Y2hfc2l6ZSA9IGJ2LT5zdXJmYWNlX2hlaWdo
dCAqIGJ2LT5zdXJmYWNlX3dpZHRoOworCWJ2LT5tYXhfc2l6ZSA9IGJ2LT5iYXRjaF9zaXplICsg
YnYtPnNjcmF0Y2hfc2l6ZTsKK30KKworc3RhdGljIHZvaWQgYmF0Y2hfaW5pdChzdHJ1Y3QgYmF0
Y2hfY2h1bmsgKmJjLAorCQkgICAgICAgc3RydWN0IGk5MTVfdm1hICp2bWEsCisJCSAgICAgICB1
MzIgKnN0YXJ0LCB1MzIgb2Zmc2V0LCB1MzIgbWF4X2J5dGVzKQoreworCWJjLT52bWEgPSB2bWE7
CisJYmMtPm9mZnNldCA9IG9mZnNldDsKKwliYy0+c3RhcnQgPSBzdGFydCArIGJjLT5vZmZzZXQg
LyBzaXplb2YoKmJjLT5zdGFydCk7CisJYmMtPmVuZCA9IGJjLT5zdGFydDsKKwliYy0+bWF4X2l0
ZW1zID0gbWF4X2J5dGVzIC8gc2l6ZW9mKCpiYy0+c3RhcnQpOworfQorCitzdGF0aWMgdTMyIGJh
dGNoX29mZnNldChjb25zdCBzdHJ1Y3QgYmF0Y2hfY2h1bmsgKmJjLCB1MzIgKmNzKQoreworCXJl
dHVybiAoY3MgLSBiYy0+c3RhcnQpICogc2l6ZW9mKCpiYy0+c3RhcnQpICsgYmMtPm9mZnNldDsK
K30KKworc3RhdGljIHUzMiBiYXRjaF9hZGRyKGNvbnN0IHN0cnVjdCBiYXRjaF9jaHVuayAqYmMp
Cit7CisJcmV0dXJuIGJjLT52bWEtPm5vZGUuc3RhcnQ7Cit9CisKK3N0YXRpYyB2b2lkIGJhdGNo
X2FkZChzdHJ1Y3QgYmF0Y2hfY2h1bmsgKmJjLCBjb25zdCB1MzIgZCkKK3sKKwlHRU1fREVCVUdf
V0FSTl9PTigoYmMtPmVuZCAtIGJjLT5zdGFydCkgPj0gYmMtPm1heF9pdGVtcyk7CisJKmJjLT5l
bmQrKyA9IGQ7Cit9CisKK3N0YXRpYyB1MzIgKmJhdGNoX2FsbG9jX2l0ZW1zKHN0cnVjdCBiYXRj
aF9jaHVuayAqYmMsIHUzMiBhbGlnbiwgdTMyIGl0ZW1zKQoreworCXUzMiAqbWFwOworCisJaWYg
KGFsaWduKSB7CisJCXUzMiAqZW5kID0gUFRSX0FMSUdOKGJjLT5lbmQsIGFsaWduKTsKKworCQlt
ZW1zZXQzMihiYy0+ZW5kLCAwLCBlbmQgLSBiYy0+ZW5kKTsKKwkJYmMtPmVuZCA9IGVuZDsKKwl9
CisKKwltYXAgPSBiYy0+ZW5kOworCWJjLT5lbmQgKz0gaXRlbXM7CisKKwlyZXR1cm4gbWFwOwor
fQorCitzdGF0aWMgdTMyICpiYXRjaF9hbGxvY19ieXRlcyhzdHJ1Y3QgYmF0Y2hfY2h1bmsgKmJj
LCB1MzIgYWxpZ24sIHUzMiBieXRlcykKK3sKKwlHRU1fQlVHX09OKCFJU19BTElHTkVEKGJ5dGVz
LCBzaXplb2YoKmJjLT5zdGFydCkpKTsKKwlyZXR1cm4gYmF0Y2hfYWxsb2NfaXRlbXMoYmMsIGFs
aWduLCBieXRlcyAvIHNpemVvZigqYmMtPnN0YXJ0KSk7Cit9CisKK3N0YXRpYyB1MzIKK2dlbjdf
ZmlsbF9zdXJmYWNlX3N0YXRlKHN0cnVjdCBiYXRjaF9jaHVuayAqc3RhdGUsCisJCQljb25zdCB1
MzIgZHN0X29mZnNldCwKKwkJCWNvbnN0IHN0cnVjdCBiYXRjaF92YWxzICpidikKK3sKKwl1MzIg
c3VyZmFjZV9oID0gYnYtPnN1cmZhY2VfaGVpZ2h0OworCXUzMiBzdXJmYWNlX3cgPSBidi0+c3Vy
ZmFjZV93aWR0aDsKKwl1MzIgKmNzID0gYmF0Y2hfYWxsb2NfaXRlbXMoc3RhdGUsIDMyLCA4KTsK
Kwl1MzIgb2Zmc2V0ID0gYmF0Y2hfb2Zmc2V0KHN0YXRlLCBjcyk7CisKKyNkZWZpbmUgU1VSRkFD
RV8yRCAxCisjZGVmaW5lIFNVUkZBQ0VGT1JNQVRfQjhHOFI4QThfVU5PUk0gMHgwQzAKKyNkZWZp
bmUgUkVOREVSX0NBQ0hFX1JFQURfV1JJVEUgMQorCisJKmNzKysgPSBTVVJGQUNFXzJEIDw8IDI5
IHwKKwkJKFNVUkZBQ0VGT1JNQVRfQjhHOFI4QThfVU5PUk0gPDwgMTgpIHwKKwkJKFJFTkRFUl9D
QUNIRV9SRUFEX1dSSVRFIDw8IDgpOworCisJKmNzKysgPSBiYXRjaF9hZGRyKHN0YXRlKSArIGRz
dF9vZmZzZXQ7CisKKwkqY3MrKyA9ICgoc3VyZmFjZV9oIC8gNCAtIDEpIDw8IDE2KSB8IChzdXJm
YWNlX3cgLyA0IC0gMSk7CisJKmNzKysgPSBzdXJmYWNlX3c7CisJKmNzKysgPSAwOworCSpjcysr
ID0gMDsKKwkqY3MrKyA9IDA7CisjZGVmaW5lIFNIQURFUl9DSEFOTkVMUyhyLCBnLCBiLCBhKSBc
CisJKCgocikgPDwgMjUpIHwgKChnKSA8PCAyMikgfCAoKGIpIDw8IDE5KSB8ICgoYSkgPDwgMTYp
KQorCSpjcysrID0gU0hBREVSX0NIQU5ORUxTKDQsIDUsIDYsIDcpOworCWJhdGNoX2FkdmFuY2Uo
c3RhdGUsIGNzKTsKKworCXJldHVybiBvZmZzZXQ7Cit9CisKK3N0YXRpYyB1MzIKK2dlbjdfZmls
bF9iaW5kaW5nX3RhYmxlKHN0cnVjdCBiYXRjaF9jaHVuayAqc3RhdGUsCisJCQljb25zdCBzdHJ1
Y3QgYmF0Y2hfdmFscyAqYnYpCit7CisJdTMyICpjcyA9IGJhdGNoX2FsbG9jX2l0ZW1zKHN0YXRl
LCAzMiwgOCk7CisJdTMyIG9mZnNldCA9IGJhdGNoX29mZnNldChzdGF0ZSwgY3MpOworCXUzMiBz
dXJmYWNlX3N0YXJ0OworCisJc3VyZmFjZV9zdGFydCA9IGdlbjdfZmlsbF9zdXJmYWNlX3N0YXRl
KHN0YXRlLCBidi0+YmF0Y2hfc2l6ZSwgYnYpOworCSpjcysrID0gc3VyZmFjZV9zdGFydCAtIHN0
YXRlLT5vZmZzZXQ7CisJKmNzKysgPSAwOworCSpjcysrID0gMDsKKwkqY3MrKyA9IDA7CisJKmNz
KysgPSAwOworCSpjcysrID0gMDsKKwkqY3MrKyA9IDA7CisJKmNzKysgPSAwOworCWJhdGNoX2Fk
dmFuY2Uoc3RhdGUsIGNzKTsKKworCXJldHVybiBvZmZzZXQ7Cit9CisKK3N0YXRpYyB1MzIKK2dl
bjdfZmlsbF9rZXJuZWxfZGF0YShzdHJ1Y3QgYmF0Y2hfY2h1bmsgKnN0YXRlLAorCQkgICAgICBj
b25zdCB1MzIgKmRhdGEsCisJCSAgICAgIGNvbnN0IHUzMiBzaXplKQoreworCXJldHVybiBiYXRj
aF9vZmZzZXQoc3RhdGUsCisJCQkgICAgbWVtY3B5KGJhdGNoX2FsbG9jX2J5dGVzKHN0YXRlLCA2
NCwgc2l6ZSksCisJCQkJICAgZGF0YSwgc2l6ZSkpOworfQorCitzdGF0aWMgdTMyCitnZW43X2Zp
bGxfaW50ZXJmYWNlX2Rlc2NyaXB0b3Ioc3RydWN0IGJhdGNoX2NodW5rICpzdGF0ZSwKKwkJCSAg
ICAgICBjb25zdCBzdHJ1Y3QgYmF0Y2hfdmFscyAqYnYsCisJCQkgICAgICAgY29uc3Qgc3RydWN0
IGNiX2tlcm5lbCAqa2VybmVsLAorCQkJICAgICAgIHVuc2lnbmVkIGludCBjb3VudCkKK3sKKwl1
MzIgKmNzID0gYmF0Y2hfYWxsb2NfaXRlbXMoc3RhdGUsIDMyLCA4ICogY291bnQpOworCXUzMiBv
ZmZzZXQgPSBiYXRjaF9vZmZzZXQoc3RhdGUsIGNzKTsKKworCSpjcysrID0gZ2VuN19maWxsX2tl
cm5lbF9kYXRhKHN0YXRlLCBrZXJuZWwtPmRhdGEsIGtlcm5lbC0+c2l6ZSk7CisJKmNzKysgPSAo
MSA8PCA3KSB8ICgxIDw8IDEzKTsKKwkqY3MrKyA9IDA7CisJKmNzKysgPSAoZ2VuN19maWxsX2Jp
bmRpbmdfdGFibGUoc3RhdGUsIGJ2KSAtIHN0YXRlLT5vZmZzZXQpIHwgMTsKKwkqY3MrKyA9IDA7
CisJKmNzKysgPSAwOworCSpjcysrID0gMDsKKwkqY3MrKyA9IDA7CisKKwkvKiAxIC0gNjNkdW1t
eSBpZGRzICovCisJbWVtc2V0MzIoY3MsIDB4MDAsIChjb3VudCAtIDEpICogOCk7CisJYmF0Y2hf
YWR2YW5jZShzdGF0ZSwgY3MgKyAoY291bnQgLSAxKSAqIDgpOworCisJcmV0dXJuIG9mZnNldDsK
K30KKworc3RhdGljIHZvaWQKK2dlbjdfZW1pdF9zdGF0ZV9iYXNlX2FkZHJlc3Moc3RydWN0IGJh
dGNoX2NodW5rICpiYXRjaCwKKwkJCSAgICAgdTMyIHN1cmZhY2Vfc3RhdGVfYmFzZSkKK3sKKwl1
MzIgKmNzID0gYmF0Y2hfYWxsb2NfaXRlbXMoYmF0Y2gsIDAsIDEyKTsKKworCSpjcysrID0gU1RB
VEVfQkFTRV9BRERSRVNTIHwgKDEyIC0gMik7CisJLyogZ2VuZXJhbCAqLworCSpjcysrID0gYmF0
Y2hfYWRkcihiYXRjaCkgfCBCQVNFX0FERFJFU1NfTU9ESUZZOworCS8qIHN1cmZhY2UgKi8KKwkq
Y3MrKyA9IGJhdGNoX2FkZHIoYmF0Y2gpIHwgc3VyZmFjZV9zdGF0ZV9iYXNlIHwgQkFTRV9BRERS
RVNTX01PRElGWTsKKwkvKiBkeW5hbWljICovCisJKmNzKysgPSBiYXRjaF9hZGRyKGJhdGNoKSB8
IEJBU0VfQUREUkVTU19NT0RJRlk7CisJLyogaW5kaXJlY3QgKi8KKwkqY3MrKyA9IGJhdGNoX2Fk
ZHIoYmF0Y2gpIHwgQkFTRV9BRERSRVNTX01PRElGWTsKKwkvKiBpbnN0cnVjdGlvbiAqLworCSpj
cysrID0gYmF0Y2hfYWRkcihiYXRjaCkgfCBCQVNFX0FERFJFU1NfTU9ESUZZOworCisJLyogZ2Vu
ZXJhbC9keW5hbWljL2luZGlyZWN0L2luc3RydWN0aW9uIGFjY2VzcyBCb3VuZCAqLworCSpjcysr
ID0gMDsKKwkqY3MrKyA9IEJBU0VfQUREUkVTU19NT0RJRlk7CisJKmNzKysgPSAwOworCSpjcysr
ID0gQkFTRV9BRERSRVNTX01PRElGWTsKKwkqY3MrKyA9IDA7CisJKmNzKysgPSAwOworCWJhdGNo
X2FkdmFuY2UoYmF0Y2gsIGNzKTsKK30KKworc3RhdGljIHZvaWQKK2dlbjdfZW1pdF92ZmVfc3Rh
dGUoc3RydWN0IGJhdGNoX2NodW5rICpiYXRjaCwKKwkJICAgIGNvbnN0IHN0cnVjdCBiYXRjaF92
YWxzICpidiwKKwkJICAgIHUzMiB1cmJfc2l6ZSwgdTMyIGN1cmJlX3NpemUsCisJCSAgICB1MzIg
bW9kZSkKK3sKKwl1MzIgdXJiX2VudHJpZXMgPSBidi0+bWF4X3VyYl9lbnRyaWVzOworCXUzMiB0
aHJlYWRzID0gYnYtPm1heF9wcmltaXRpdmVzIC0gMTsKKwl1MzIgKmNzID0gYmF0Y2hfYWxsb2Nf
aXRlbXMoYmF0Y2gsIDMyLCA4KTsKKworCSpjcysrID0gTUVESUFfVkZFX1NUQVRFIHwgKDggLSAy
KTsKKworCS8qIHNjcmF0Y2ggYnVmZmVyICovCisJKmNzKysgPSAwOworCisJLyogbnVtYmVyIG9m
IHRocmVhZHMgJiB1cmIgZW50cmllcyBmb3IgR1BHUFUgdnMgTWVkaWEgTW9kZSAqLworCSpjcysr
ID0gdGhyZWFkcyA8PCAxNiB8IHVyYl9lbnRyaWVzIDw8IDggfCBtb2RlIDw8IDI7CisKKwkqY3Mr
KyA9IDA7CisKKwkvKiB1cmIgZW50cnkgc2l6ZSAmIGN1cmJlIHNpemUgaW4gMjU2IGJpdHMgdW5p
dCAqLworCSpjcysrID0gdXJiX3NpemUgPDwgMTYgfCBjdXJiZV9zaXplOworCisJLyogc2NvcmVi
b2FyZCAqLworCSpjcysrID0gMDsKKwkqY3MrKyA9IDA7CisJKmNzKysgPSAwOworCWJhdGNoX2Fk
dmFuY2UoYmF0Y2gsIGNzKTsKK30KKworc3RhdGljIHZvaWQKK2dlbjdfZW1pdF9pbnRlcmZhY2Vf
ZGVzY3JpcHRvcl9sb2FkKHN0cnVjdCBiYXRjaF9jaHVuayAqYmF0Y2gsCisJCQkJICAgIGNvbnN0
IHUzMiBpbnRlcmZhY2VfZGVzY3JpcHRvciwKKwkJCQkgICAgdW5zaWduZWQgaW50IGNvdW50KQor
eworCXUzMiAqY3MgPSBiYXRjaF9hbGxvY19pdGVtcyhiYXRjaCwgOCwgNCk7CisKKwkqY3MrKyA9
IE1FRElBX0lOVEVSRkFDRV9ERVNDUklQVE9SX0xPQUQgfCAoNCAtIDIpOworCSpjcysrID0gMDsK
KwkqY3MrKyA9IGNvdW50ICogOCAqIHNpemVvZigqY3MpOworCisJLyoKKwkgKiBpbnRlcmZhY2Ug
ZGVzY3JpcHRvciBhZGRyZXNzIC0gaXQgaXMgcmVsYXRpdmUgdG8gdGhlIGR5bmFtaWNzIGJhc2UK
KwkgKiBhZGRyZXNzCisJICovCisJKmNzKysgPSBpbnRlcmZhY2VfZGVzY3JpcHRvcjsKKwliYXRj
aF9hZHZhbmNlKGJhdGNoLCBjcyk7Cit9CisKK3N0YXRpYyB2b2lkCitnZW43X2VtaXRfbWVkaWFf
b2JqZWN0KHN0cnVjdCBiYXRjaF9jaHVuayAqYmF0Y2gsCisJCSAgICAgICB1bnNpZ25lZCBpbnQg
bWVkaWFfb2JqZWN0X2luZGV4KQoreworCXVuc2lnbmVkIGludCB4X29mZnNldCA9IChtZWRpYV9v
YmplY3RfaW5kZXggJSAxNikgKiA2NDsKKwl1bnNpZ25lZCBpbnQgeV9vZmZzZXQgPSAobWVkaWFf
b2JqZWN0X2luZGV4IC8gMTYpICogMTY7CisJdW5zaWduZWQgaW50IGlubGluZV9kYXRhX3NpemU7
CisJdW5zaWduZWQgaW50IG1lZGlhX2JhdGNoX3NpemU7CisJdW5zaWduZWQgaW50IGk7CisJdTMy
ICpjczsKKworCWlubGluZV9kYXRhX3NpemUgPSAxMTIgKiA4OworCW1lZGlhX2JhdGNoX3NpemUg
PSBpbmxpbmVfZGF0YV9zaXplICsgNjsKKworCWNzID0gYmF0Y2hfYWxsb2NfaXRlbXMoYmF0Y2gs
IDgsIG1lZGlhX2JhdGNoX3NpemUpOworCisJKmNzKysgPSBNRURJQV9PQkpFQ1QgfCAobWVkaWFf
YmF0Y2hfc2l6ZSAtIDIpOworCisJLyogaW50ZXJmYWNlIGRlc2NyaXB0b3Igb2Zmc2V0ICovCisJ
KmNzKysgPSAwOworCisJLyogd2l0aG91dCBpbmRpcmVjdCBkYXRhICovCisJKmNzKysgPSAwOwor
CSpjcysrID0gMDsKKworCS8qIHNjb3JlYm9hcmQgKi8KKwkqY3MrKyA9IDA7CisJKmNzKysgPSAw
OworCisJLyogaW5saW5lICovCisJKmNzKysgPSAoeV9vZmZzZXQgPDwgMTYpIHwgKHhfb2Zmc2V0
KTsKKwkqY3MrKyA9IDA7CisJKmNzKysgPSBHVDNfSU5MSU5FX0RBVEFfREVMQVlTOworCWZvciAo
aSA9IDM7IGkgPCBpbmxpbmVfZGF0YV9zaXplOyBpKyspCisJCSpjcysrID0gMDsKKworCWJhdGNo
X2FkdmFuY2UoYmF0Y2gsIGNzKTsKK30KKworc3RhdGljIHZvaWQgZ2VuN19lbWl0X3BpcGVsaW5l
X2ZsdXNoKHN0cnVjdCBiYXRjaF9jaHVuayAqYmF0Y2gpCit7CisJdTMyICpjcyA9IGJhdGNoX2Fs
bG9jX2l0ZW1zKGJhdGNoLCAwLCA1KTsKKworCSpjcysrID0gR0ZYX09QX1BJUEVfQ09OVFJPTCg1
KTsKKwkqY3MrKyA9IFBJUEVfQ09OVFJPTF9TVEFURV9DQUNIRV9JTlZBTElEQVRFIHwKKwkJUElQ
RV9DT05UUk9MX0dMT0JBTF9HVFRfSVZCOworCSpjcysrID0gMDsKKwkqY3MrKyA9IDA7CisJKmNz
KysgPSAwOworCWJhdGNoX2FkdmFuY2UoYmF0Y2gsIGNzKTsKK30KKworc3RhdGljIHZvaWQgZW1p
dF9iYXRjaChzdHJ1Y3QgaTkxNV92bWEgKiBjb25zdCB2bWEsCisJCSAgICAgICB1MzIgKnN0YXJ0
LAorCQkgICAgICAgY29uc3Qgc3RydWN0IGJhdGNoX3ZhbHMgKmJ2KQoreworCXN0cnVjdCBkcm1f
aTkxNV9wcml2YXRlICppOTE1ID0gdm1hLT52bS0+aTkxNTsKKwl1bnNpZ25lZCBpbnQgZGVzY19j
b3VudCA9IDY0OworCWNvbnN0IHUzMiB1cmJfc2l6ZSA9IDExMjsKKwlzdHJ1Y3QgYmF0Y2hfY2h1
bmsgY21kcywgc3RhdGU7CisJdTMyIGludGVyZmFjZV9kZXNjcmlwdG9yOworCXVuc2lnbmVkIGlu
dCBpOworCisJYmF0Y2hfaW5pdCgmY21kcywgdm1hLCBzdGFydCwgMCwgYnYtPmNtZF9zaXplKTsK
KwliYXRjaF9pbml0KCZzdGF0ZSwgdm1hLCBzdGFydCwgYnYtPnN0YXRlX3N0YXJ0LCBidi0+c3Rh
dGVfc2l6ZSk7CisKKwlpbnRlcmZhY2VfZGVzY3JpcHRvciA9CisJCWdlbjdfZmlsbF9pbnRlcmZh
Y2VfZGVzY3JpcHRvcigmc3RhdGUsIGJ2LAorCQkJCQkgICAgICAgSVNfSEFTV0VMTChpOTE1KSA/
CisJCQkJCSAgICAgICAmY2Jfa2VybmVsX2dlbjdfNSA6CisJCQkJCSAgICAgICAmY2Jfa2VybmVs
X2dlbjcsCisJCQkJCSAgICAgICBkZXNjX2NvdW50KTsKKwlnZW43X2VtaXRfcGlwZWxpbmVfZmx1
c2goJmNtZHMpOworCWJhdGNoX2FkZCgmY21kcywgUElQRUxJTkVfU0VMRUNUIHwgUElQRUxJTkVf
U0VMRUNUX01FRElBKTsKKwliYXRjaF9hZGQoJmNtZHMsIE1JX05PT1ApOworCWdlbjdfZW1pdF9z
dGF0ZV9iYXNlX2FkZHJlc3MoJmNtZHMsIGludGVyZmFjZV9kZXNjcmlwdG9yKTsKKwlnZW43X2Vt
aXRfcGlwZWxpbmVfZmx1c2goJmNtZHMpOworCisJZ2VuN19lbWl0X3ZmZV9zdGF0ZSgmY21kcywg
YnYsIHVyYl9zaXplIC0gMSwgMCwgMCk7CisKKwlnZW43X2VtaXRfaW50ZXJmYWNlX2Rlc2NyaXB0
b3JfbG9hZCgmY21kcywKKwkJCQkJICAgIGludGVyZmFjZV9kZXNjcmlwdG9yLAorCQkJCQkgICAg
ZGVzY19jb3VudCk7CisKKwlmb3IgKGkgPSAwOyBpIDwgYnYtPm1heF9wcmltaXRpdmVzOyBpKysp
CisJCWdlbjdfZW1pdF9tZWRpYV9vYmplY3QoJmNtZHMsIGkpOworCisJYmF0Y2hfYWRkKCZjbWRz
LCBNSV9CQVRDSF9CVUZGRVJfRU5EKTsKK30KKworaW50IGdlbjdfc2V0dXBfY2xlYXJfZ3ByX2Ji
KHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKiBjb25zdCBlbmdpbmUsCisJCQkgICAgc3RydWN0IGk5
MTVfdm1hICogY29uc3Qgdm1hKQoreworCXN0cnVjdCBiYXRjaF92YWxzIGJ2OworCXUzMiAqYmF0
Y2g7CisKKwliYXRjaF9nZXRfZGVmYXVsdHMoZW5naW5lLT5pOTE1LCAmYnYpOworCWlmICghdm1h
KQorCQlyZXR1cm4gYnYubWF4X3NpemU7CisKKwlHRU1fQlVHX09OKHZtYS0+b2JqLT5iYXNlLnNp
emUgPCBidi5tYXhfc2l6ZSk7CisKKwliYXRjaCA9IGk5MTVfZ2VtX29iamVjdF9waW5fbWFwKHZt
YS0+b2JqLCBJOTE1X01BUF9XQyk7CisJaWYgKElTX0VSUihiYXRjaCkpCisJCXJldHVybiBQVFJf
RVJSKGJhdGNoKTsKKworCWVtaXRfYmF0Y2godm1hLCBtZW1zZXQoYmF0Y2gsIDAsIGJ2Lm1heF9z
aXplKSwgJmJ2KTsKKworCWk5MTVfZ2VtX29iamVjdF9mbHVzaF9tYXAodm1hLT5vYmopOworCWk5
MTVfZ2VtX29iamVjdF91bnBpbl9tYXAodm1hLT5vYmopOworCisJcmV0dXJuIDA7Cit9CmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9nZW43X3JlbmRlcmNsZWFyLmggYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9ndC9nZW43X3JlbmRlcmNsZWFyLmgKbmV3IGZpbGUgbW9kZSAxMDA2
NDQKaW5kZXggMDAwMDAwMDAwMDAwLi5iYjEwMDc0OGUyYzYKLS0tIC9kZXYvbnVsbAorKysgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9nZW43X3JlbmRlcmNsZWFyLmgKQEAgLTAsMCArMSwxNSBA
QAorLyogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVCAqLworLyoKKyAqIENvcHlyaWdodCDC
qSAyMDE5IEludGVsIENvcnBvcmF0aW9uCisgKi8KKworI2lmbmRlZiBfX0dFTjdfUkVOREVSQ0xF
QVJfSF9fCisjZGVmaW5lIF9fR0VON19SRU5ERVJDTEVBUl9IX18KKworc3RydWN0IGludGVsX2Vu
Z2luZV9jczsKK3N0cnVjdCBpOTE1X3ZtYTsKKworaW50IGdlbjdfc2V0dXBfY2xlYXJfZ3ByX2Ji
KHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKiBjb25zdCBlbmdpbmUsCisJCQkgICAgc3RydWN0IGk5
MTVfdm1hICogY29uc3Qgdm1hKTsKKworI2VuZGlmIC8qIF9fR0VON19SRU5ERVJDTEVBUl9IX18g
Ki8KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2dwdV9jb21tYW5k
cy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3B1X2NvbW1hbmRzLmgKaW5kZXgg
NTFiODcxODUxM2JjLi5mMDQyMTRhNTRmNzUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2d0L2ludGVsX2dwdV9jb21tYW5kcy5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2ludGVsX2dwdV9jb21tYW5kcy5oCkBAIC0yOTIsMTAgKzI5MiwyMSBAQAogI2RlZmluZSBNSV9T
VE9SRV9VUkJfTUVNICAgICAgICBNSV9JTlNUUigweDJELCAwKQogI2RlZmluZSBNSV9DT05ESVRJ
T05BTF9CQVRDSF9CVUZGRVJfRU5EIE1JX0lOU1RSKDB4MzYsIDApCiAKLSNkZWZpbmUgUElQRUxJ
TkVfU0VMRUNUICAgICAgICAgICAgICAgICgoMHgzPDwyOSl8KDB4MTw8MjcpfCgweDE8PDI0KXwo
MHg0PDwxNikpCi0jZGVmaW5lIEdGWF9PUF8zRFNUQVRFX1ZGX1NUQVRJU1RJQ1MgICAoKDB4Mzw8
MjkpfCgweDE8PDI3KXwoMHgwPDwyNCl8KDB4Qjw8MTYpKQotI2RlZmluZSBNRURJQV9WRkVfU1RB
VEUgICAgICAgICAgICAgICAgKCgweDM8PDI5KXwoMHgyPDwyNyl8KDB4MDw8MjQpfCgweDA8PDE2
KSkKKyNkZWZpbmUgU1RBVEVfQkFTRV9BRERSRVNTIFwKKwkoKDB4MyA8PCAyOSkgfCAoMHgwIDw8
IDI3KSB8ICgweDEgPDwgMjQpIHwgKDB4MSA8PCAxNikpCisjZGVmaW5lIEJBU0VfQUREUkVTU19N
T0RJRlkJCVJFR19CSVQoMCkKKyNkZWZpbmUgUElQRUxJTkVfU0VMRUNUIFwKKwkoKDB4MyA8PCAy
OSkgfCAoMHgxIDw8IDI3KSB8ICgweDEgPDwgMjQpIHwgKDB4NCA8PCAxNikpCisjZGVmaW5lIFBJ
UEVMSU5FX1NFTEVDVF9NRURJQQkgICAgICAgUkVHX0JJVCgwKQorI2RlZmluZSBHRlhfT1BfM0RT
VEFURV9WRl9TVEFUSVNUSUNTIFwKKwkoKDB4MyA8PCAyOSkgfCAoMHgxIDw8IDI3KSB8ICgweDAg
PDwgMjQpIHwgKDB4QiA8PCAxNikpCisjZGVmaW5lIE1FRElBX1ZGRV9TVEFURSBcCisJKCgweDMg
PDwgMjkpIHwgKDB4MiA8PCAyNykgfCAoMHgwIDw8IDI0KSB8ICgweDAgPDwgMTYpKQogI2RlZmlu
ZSAgTUVESUFfVkZFX1NUQVRFX01NSU9fQUNDRVNTX01BU0sgKDB4MTgpCisjZGVmaW5lIE1FRElB
X0lOVEVSRkFDRV9ERVNDUklQVE9SX0xPQUQgXAorCSgoMHgzIDw8IDI5KSB8ICgweDIgPDwgMjcp
IHwgKDB4MCA8PCAyNCkgfCAoMHgyIDw8IDE2KSkKKyNkZWZpbmUgTUVESUFfT0JKRUNUIFwKKwko
KDB4MyA8PCAyOSkgfCAoMHgyIDw8IDI3KSB8ICgweDEgPDwgMjQpIHwgKDB4MCA8PCAxNikpCiAj
ZGVmaW5lIEdQR1BVX09CSkVDVCAgICAgICAgICAgICAgICAgICAoKDB4Mzw8MjkpfCgweDI8PDI3
KXwoMHgxPDwyNCl8KDB4NDw8MTYpKQogI2RlZmluZSBHUEdQVV9XQUxLRVIgICAgICAgICAgICAg
ICAgICAgKCgweDM8PDI5KXwoMHgyPDwyNyl8KDB4MTw8MjQpfCgweDU8PDE2KSkKICNkZWZpbmUg
R0ZYX09QXzNEU1RBVEVfRFg5X0NPTlNUQU5URl9WUyBcCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9ndC9pbnRlbF9yaW5nX3N1Ym1pc3Npb24uYyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2d0L2ludGVsX3Jpbmdfc3VibWlzc2lvbi5jCmluZGV4IDU5MzcxMDU1OGI5OS4uNmQ2OTM3
ZGFmYzA4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yaW5nX3N1
Ym1pc3Npb24uYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yaW5nX3N1Ym1p
c3Npb24uYwpAQCAtMzQsNiArMzQsNyBAQAogI2luY2x1ZGUgImdlbS9pOTE1X2dlbV9jb250ZXh0
LmgiCiAKICNpbmNsdWRlICJnZW42X3BwZ3R0LmgiCisjaW5jbHVkZSAiZ2VuN19yZW5kZXJjbGVh
ci5oIgogI2luY2x1ZGUgImk5MTVfZHJ2LmgiCiAjaW5jbHVkZSAiaTkxNV90cmFjZS5oIgogI2lu
Y2x1ZGUgImludGVsX2NvbnRleHQuaCIKQEAgLTE5ODMsNyArMTk4NCw3IEBAIHN0YXRpYyB2b2lk
IHNldHVwX3ZlY3Moc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQogc3RhdGljIGludCBn
ZW43X2N0eF9zd2l0Y2hfYmJfc2V0dXAoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqIGNvbnN0IGVu
Z2luZSwKIAkJCQkgICAgc3RydWN0IGk5MTVfdm1hICogY29uc3Qgdm1hKQogewotCXJldHVybiAw
OworCXJldHVybiBnZW43X3NldHVwX2NsZWFyX2dwcl9iYihlbmdpbmUsIHZtYSk7CiB9CiAKIHN0
YXRpYyBpbnQgZ2VuN19jdHhfc3dpdGNoX2JiX2luaXQoc3RydWN0IGludGVsX2VuZ2luZV9jcyAq
ZW5naW5lKQotLSAKMi4yMC4xCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVz
a3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9k
cmktZGV2ZWwK
