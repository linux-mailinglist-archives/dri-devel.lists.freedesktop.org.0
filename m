Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id EA31461EF3
	for <lists+dri-devel@lfdr.de>; Mon,  8 Jul 2019 14:54:17 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 265D689DA4;
	Mon,  8 Jul 2019 12:54:14 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga05.intel.com (mga05.intel.com [192.55.52.43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 758B489D8E;
 Mon,  8 Jul 2019 12:54:12 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga003.fm.intel.com ([10.253.24.29])
 by fmsmga105.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 08 Jul 2019 05:54:11 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.63,466,1557212400"; d="scan'208";a="173254659"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by FMSMGA003.fm.intel.com with SMTP; 08 Jul 2019 05:54:09 -0700
Received: by stinkbox (sSMTP sendmail emulation);
 Mon, 08 Jul 2019 15:54:08 +0300
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Subject: [PATCH 14/19] drm/i915: Eliminate skl_check_pipe_max_pixel_rate()
Date: Mon,  8 Jul 2019 15:53:20 +0300
Message-Id: <20190708125325.16576-15-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190708125325.16576-1-ville.syrjala@linux.intel.com>
References: <20190708125325.16576-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KClRo
ZSBub3JtYWwgY2RjbGsgaGFuZGxpbmcgbm93IHRha2VzIGNhcmUgb2YgbWFraW5nIHN1cmUgdGhl
CnBsYW5lJ3MgcGl4ZWwgcmF0ZSBkb2Vzbid0IGV4Y2VlZCB0aGUgc3BlYyBhcHBvaW50ZWQgcGVy
Y2VudGFnZQpvZiB0aGUgY2RjbGsgZnJlcXVlbmN5LiBUaHVzIHdlIGNhbiBudWtlCnNrbF9jaGVj
a19waXBlX21heF9waXhlbF9yYXRlKCkuCgpTaWduZWQtb2ZmLWJ5OiBWaWxsZSBTeXJqw6Rsw6Qg
PHZpbGxlLnN5cmphbGFAbGludXguaW50ZWwuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jIHwgIDIgLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50
ZWxfcG0uYyAgICAgICAgICAgICAgfCA4OSAtLS0tLS0tLS0tLS0tLS0tLS0tLQogZHJpdmVycy9n
cHUvZHJtL2k5MTUvaW50ZWxfcG0uaCAgICAgICAgICAgICAgfCAgMiAtCiAzIGZpbGVzIGNoYW5n
ZWQsIDkzIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfZGlzcGxheS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9kaXNwbGF5LmMKaW5kZXggNjg3MzhkMTc3ZmQ5Li4xZTY3ZmJlNTA0NzYgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jCkBAIC0xMTg0NSw4ICsxMTg0
NSw2IEBAIHN0YXRpYyBpbnQgaW50ZWxfY3J0Y19hdG9taWNfY2hlY2soc3RydWN0IGludGVsX2F0
b21pY19zdGF0ZSAqc3RhdGUsCiAJaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPj0gOSkgewogCQlp
ZiAobW9kZV9jaGFuZ2VkIHx8IGNydGNfc3RhdGUtPnVwZGF0ZV9waXBlKQogCQkJcmV0ID0gc2ts
X3VwZGF0ZV9zY2FsZXJfY3J0YyhjcnRjX3N0YXRlKTsKLQkJaWYgKCFyZXQpCi0JCQlyZXQgPSBz
a2xfY2hlY2tfcGlwZV9tYXhfcGl4ZWxfcmF0ZShjcnRjLCBjcnRjX3N0YXRlKTsKIAkJaWYgKCFy
ZXQpCiAJCQlyZXQgPSBpbnRlbF9hdG9taWNfc2V0dXBfc2NhbGVycyhkZXZfcHJpdiwgY3J0YywK
IAkJCQkJCQkgY3J0Y19zdGF0ZSk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
bnRlbF9wbS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfcG0uYwppbmRleCBmMjVhNjA1
YWFjZjkuLjQyNzc1ZGIxYzdlMiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50
ZWxfcG0uYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9wbS5jCkBAIC00MTAxLDk1
ICs0MTAxLDYgQEAgc2tsX3BsYW5lX2Rvd25zY2FsZV9hbW91bnQoY29uc3Qgc3RydWN0IGludGVs
X2NydGNfc3RhdGUgKmNydGNfc3RhdGUsCiAJcmV0dXJuIG11bF9maXhlZDE2KGRvd25zY2FsZV93
LCBkb3duc2NhbGVfaCk7CiB9CiAKLXN0YXRpYyB1aW50X2ZpeGVkXzE2XzE2X3QKLXNrbF9waXBl
X2Rvd25zY2FsZV9hbW91bnQoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3Rh
dGUpCi17Ci0JdWludF9maXhlZF8xNl8xNl90IHBpcGVfZG93bnNjYWxlID0gdTMyX3RvX2ZpeGVk
MTYoMSk7Ci0KLQlpZiAoIWNydGNfc3RhdGUtPmJhc2UuZW5hYmxlKQotCQlyZXR1cm4gcGlwZV9k
b3duc2NhbGU7Ci0KLQlpZiAoY3J0Y19zdGF0ZS0+cGNoX3BmaXQuZW5hYmxlZCkgewotCQl1MzIg
c3JjX3csIHNyY19oLCBkc3RfdywgZHN0X2g7Ci0JCXUzMiBwZml0X3NpemUgPSBjcnRjX3N0YXRl
LT5wY2hfcGZpdC5zaXplOwotCQl1aW50X2ZpeGVkXzE2XzE2X3QgZnBfd19yYXRpbywgZnBfaF9y
YXRpbzsKLQkJdWludF9maXhlZF8xNl8xNl90IGRvd25zY2FsZV9oLCBkb3duc2NhbGVfdzsKLQot
CQlzcmNfdyA9IGNydGNfc3RhdGUtPnBpcGVfc3JjX3c7Ci0JCXNyY19oID0gY3J0Y19zdGF0ZS0+
cGlwZV9zcmNfaDsKLQkJZHN0X3cgPSBwZml0X3NpemUgPj4gMTY7Ci0JCWRzdF9oID0gcGZpdF9z
aXplICYgMHhmZmZmOwotCi0JCWlmICghZHN0X3cgfHwgIWRzdF9oKQotCQkJcmV0dXJuIHBpcGVf
ZG93bnNjYWxlOwotCi0JCWZwX3dfcmF0aW8gPSBkaXZfZml4ZWQxNihzcmNfdywgZHN0X3cpOwot
CQlmcF9oX3JhdGlvID0gZGl2X2ZpeGVkMTYoc3JjX2gsIGRzdF9oKTsKLQkJZG93bnNjYWxlX3cg
PSBtYXhfZml4ZWQxNihmcF93X3JhdGlvLCB1MzJfdG9fZml4ZWQxNigxKSk7Ci0JCWRvd25zY2Fs
ZV9oID0gbWF4X2ZpeGVkMTYoZnBfaF9yYXRpbywgdTMyX3RvX2ZpeGVkMTYoMSkpOwotCi0JCXBp
cGVfZG93bnNjYWxlID0gbXVsX2ZpeGVkMTYoZG93bnNjYWxlX3csIGRvd25zY2FsZV9oKTsKLQl9
Ci0KLQlyZXR1cm4gcGlwZV9kb3duc2NhbGU7Ci19Ci0KLWludCBza2xfY2hlY2tfcGlwZV9tYXhf
cGl4ZWxfcmF0ZShzdHJ1Y3QgaW50ZWxfY3J0YyAqaW50ZWxfY3J0YywKLQkJCQkgIHN0cnVjdCBp
bnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQotewotCXN0cnVjdCBkcm1faTkxNV9wcml2YXRl
ICpkZXZfcHJpdiA9IHRvX2k5MTUoaW50ZWxfY3J0Yy0+YmFzZS5kZXYpOwotCXN0cnVjdCBkcm1f
YXRvbWljX3N0YXRlICpzdGF0ZSA9IGNydGNfc3RhdGUtPmJhc2Uuc3RhdGU7Ci0Jc3RydWN0IGRy
bV9wbGFuZSAqcGxhbmU7Ci0JY29uc3Qgc3RydWN0IGRybV9wbGFuZV9zdGF0ZSAqZHJtX3BsYW5l
X3N0YXRlOwotCWludCBjcnRjX2Nsb2NrLCBkb3RjbGs7Ci0JdTMyIHBpcGVfbWF4X3BpeGVsX3Jh
dGU7Ci0JdWludF9maXhlZF8xNl8xNl90IHBpcGVfZG93bnNjYWxlOwotCXVpbnRfZml4ZWRfMTZf
MTZfdCBtYXhfZG93bnNjYWxlID0gdTMyX3RvX2ZpeGVkMTYoMSk7Ci0KLQlpZiAoIWNydGNfc3Rh
dGUtPmJhc2UuZW5hYmxlKQotCQlyZXR1cm4gMDsKLQotCWRybV9hdG9taWNfY3J0Y19zdGF0ZV9m
b3JfZWFjaF9wbGFuZV9zdGF0ZShwbGFuZSwgZHJtX3BsYW5lX3N0YXRlLCAmY3J0Y19zdGF0ZS0+
YmFzZSkgewotCQl1aW50X2ZpeGVkXzE2XzE2X3QgcGxhbmVfZG93bnNjYWxlOwotCQl1aW50X2Zp
eGVkXzE2XzE2X3QgZnBfOV9kaXZfOCA9IGRpdl9maXhlZDE2KDksIDgpOwotCQlpbnQgYnBwOwot
CQljb25zdCBzdHJ1Y3QgaW50ZWxfcGxhbmVfc3RhdGUgKnBsYW5lX3N0YXRlID0KLQkJCXRvX2lu
dGVsX3BsYW5lX3N0YXRlKGRybV9wbGFuZV9zdGF0ZSk7Ci0KLQkJaWYgKCFpbnRlbF93bV9wbGFu
ZV92aXNpYmxlKGNydGNfc3RhdGUsIHBsYW5lX3N0YXRlKSkKLQkJCWNvbnRpbnVlOwotCi0JCWlm
IChXQVJOX09OKCFwbGFuZV9zdGF0ZS0+YmFzZS5mYikpCi0JCQlyZXR1cm4gLUVJTlZBTDsKLQot
CQlwbGFuZV9kb3duc2NhbGUgPSBza2xfcGxhbmVfZG93bnNjYWxlX2Ftb3VudChjcnRjX3N0YXRl
LCBwbGFuZV9zdGF0ZSk7Ci0JCWJwcCA9IHBsYW5lX3N0YXRlLT5iYXNlLmZiLT5mb3JtYXQtPmNw
cFswXSAqIDg7Ci0JCWlmIChicHAgPT0gNjQpCi0JCQlwbGFuZV9kb3duc2NhbGUgPSBtdWxfZml4
ZWQxNihwbGFuZV9kb3duc2NhbGUsCi0JCQkJCQkgICAgICBmcF85X2Rpdl84KTsKLQotCQltYXhf
ZG93bnNjYWxlID0gbWF4X2ZpeGVkMTYocGxhbmVfZG93bnNjYWxlLCBtYXhfZG93bnNjYWxlKTsK
LQl9Ci0JcGlwZV9kb3duc2NhbGUgPSBza2xfcGlwZV9kb3duc2NhbGVfYW1vdW50KGNydGNfc3Rh
dGUpOwotCi0JcGlwZV9kb3duc2NhbGUgPSBtdWxfZml4ZWQxNihwaXBlX2Rvd25zY2FsZSwgbWF4
X2Rvd25zY2FsZSk7Ci0KLQljcnRjX2Nsb2NrID0gY3J0Y19zdGF0ZS0+YmFzZS5hZGp1c3RlZF9t
b2RlLmNydGNfY2xvY2s7Ci0JZG90Y2xrID0gdG9faW50ZWxfYXRvbWljX3N0YXRlKHN0YXRlKS0+
Y2RjbGsubG9naWNhbC5jZGNsazsKLQotCWlmIChJU19HRU1JTklMQUtFKGRldl9wcml2KSB8fCBJ
TlRFTF9HRU4oZGV2X3ByaXYpID49IDEwKQotCQlkb3RjbGsgKj0gMjsKLQotCXBpcGVfbWF4X3Bp
eGVsX3JhdGUgPSBkaXZfcm91bmRfdXBfdTMyX2ZpeGVkMTYoZG90Y2xrLCBwaXBlX2Rvd25zY2Fs
ZSk7Ci0KLQlpZiAocGlwZV9tYXhfcGl4ZWxfcmF0ZSA8IGNydGNfY2xvY2spIHsKLQkJRFJNX0RF
QlVHX0tNUygiTWF4IHN1cHBvcnRlZCBwaXhlbCBjbG9jayB3aXRoIHNjYWxpbmcgZXhjZWVkZWRc
biIpOwotCQlyZXR1cm4gLUVJTlZBTDsKLQl9Ci0KLQlyZXR1cm4gMDsKLX0KLQogc3RhdGljIHU2
NAogc2tsX3BsYW5lX3JlbGF0aXZlX2RhdGFfcmF0ZShjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19z
dGF0ZSAqY3J0Y19zdGF0ZSwKIAkJCSAgICAgY29uc3Qgc3RydWN0IGludGVsX3BsYW5lX3N0YXRl
ICpwbGFuZV9zdGF0ZSwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3Bt
LmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9wbS5oCmluZGV4IGUzNTczZTFlMTZlMy4u
ODA3MjUyMTQ4MTQyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9wbS5o
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3BtLmgKQEAgLTY1LDggKzY1LDYgQEAg
dm9pZCBza2xfd3JpdGVfcGxhbmVfd20oc3RydWN0IGludGVsX3BsYW5lICpwbGFuZSwKIHZvaWQg
c2tsX3dyaXRlX2N1cnNvcl93bShzdHJ1Y3QgaW50ZWxfcGxhbmUgKnBsYW5lLAogCQkJIGNvbnN0
IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKTsKIGJvb2wgaWxrX2Rpc2FibGVf
bHBfd20oc3RydWN0IGRybV9kZXZpY2UgKmRldik7Ci1pbnQgc2tsX2NoZWNrX3BpcGVfbWF4X3Bp
eGVsX3JhdGUoc3RydWN0IGludGVsX2NydGMgKmludGVsX2NydGMsCi0JCQkJICBzdHJ1Y3QgaW50
ZWxfY3J0Y19zdGF0ZSAqY3N0YXRlKTsKIHZvaWQgaW50ZWxfaW5pdF9pcGMoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2KTsKIHZvaWQgaW50ZWxfZW5hYmxlX2lwYyhzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpOwogCi0tIAoyLjIxLjAKCl9fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJp
LWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9y
Zy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
