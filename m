Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 9DF63BE61E
	for <lists+dri-devel@lfdr.de>; Wed, 25 Sep 2019 22:08:34 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 6E6D56F8DC;
	Wed, 25 Sep 2019 20:08:31 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from us-smtp-1.mimecast.com (us-smtp-delivery-1.mimecast.com
 [205.139.110.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D8F686F8C0
 for <dri-devel@lists.freedesktop.org>; Wed, 25 Sep 2019 20:08:29 +0000 (UTC)
Received: from mail-qt1-f199.google.com (mail-qt1-f199.google.com
 [209.85.160.199]) (Using TLS) by relay.mimecast.com with ESMTP id
 us-mta-354-Qz7tZadiPgC97hrZMKkPxQ-1; Wed, 25 Sep 2019 16:08:26 -0400
Received: by mail-qt1-f199.google.com with SMTP id h10so74744qtq.11
 for <dri-devel@lists.freedesktop.org>; Wed, 25 Sep 2019 13:08:26 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:message-id:subject:from:to:cc:date:in-reply-to
 :references:organization:user-agent:mime-version
 :content-transfer-encoding;
 bh=6RI78/QxVcqOiPhPRo7LmwwAAik3UfINvaiF/hWgBTo=;
 b=sox7U7DhTHzU25y5ITpj6xSpPdTfkzCZq/0K2T7CYtT1ZXYfVDfKSC4r7BmgpkZCD2
 Tj9nXkjnNWcZBQxYjZOGezsn8JvV9VhsZ7JwkXTjD/AU6W4sKbh3G9E2HUzM50EcUeAM
 JpxdyNpmmtwWgW3NDcfxZuVQvbMIECo+NMV0sbo461i5hVzWR8rmqwNl4Ecqd9K/abjA
 YCFcmaai9WeLLWeY2lDQ0163tkqMdz4P8rkfnuFMgY4axPrCKbcDOFVnqNEUsj0WGNrI
 P18FHiwyk7T1itvf53XKYHhqxh2MvEYWvQRJGxwl+1TYVE2pNYrmB+qaBxuIJAj8+xIr
 FyBQ==
X-Gm-Message-State: APjAAAVN5EG1l2vHHH7DNBF50s12C2e+OAeFslEDWgSCX1lY4xSpXov2
 1F9ny3vVkWyxAE9R/BCpSFXZTyarl5/ZdjKwK/rYu9kuD8PbnmQpIwMHnCtmbuL5ykei7oA/S8F
 FFSPEigzlSv00lgtQ+9YTO4ZfIfNv
X-Received: by 2002:ad4:5812:: with SMTP id dd18mr1252117qvb.136.1569442106040; 
 Wed, 25 Sep 2019 13:08:26 -0700 (PDT)
X-Google-Smtp-Source: APXvYqxzBPRll5U6s7sHwg3laNMaq+mZa9+HRMqOD6R8stBTUPiZ2ndztI+H0jAH617UEYq1rvGtUQ==
X-Received: by 2002:ad4:5812:: with SMTP id dd18mr1252061qvb.136.1569442105560; 
 Wed, 25 Sep 2019 13:08:25 -0700 (PDT)
Received: from dhcp-10-20-1-34.bss.redhat.com ([144.121.20.162])
 by smtp.gmail.com with ESMTPSA id w18sm224484qts.44.2019.09.25.13.08.24
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Wed, 25 Sep 2019 13:08:24 -0700 (PDT)
Message-ID: <e9a2638663549d86779002e3616fc2e89f9c7028.camel@redhat.com>
Subject: Re: [PATCH v2 03/27] drm/dp_mst: Destroy MSTBs asynchronously
From: Lyude Paul <lyude@redhat.com>
To: Sean Paul <sean@poorly.run>
Date: Wed, 25 Sep 2019 16:08:22 -0400
In-Reply-To: <20190925181644.GD218215@art_vandelay>
References: <20190903204645.25487-1-lyude@redhat.com>
 <20190903204645.25487-4-lyude@redhat.com>
 <20190925181644.GD218215@art_vandelay>
Organization: Red Hat
User-Agent: Evolution 3.32.4 (3.32.4-1.fc30)
MIME-Version: 1.0
X-MC-Unique: Qz7tZadiPgC97hrZMKkPxQ-1
X-Mimecast-Spam-Score: 0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=redhat.com; 
 s=mimecast20190719; t=1569442108;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=6LcLmFqGSM1s6mN/O2t109E0X1OGHtsGizUfXFNR+Qk=;
 b=CWcqynYQEaViABzAjzWc7iHnxGOQSTjPKPalJu+ai746f2aiWwx1bYy3ggF7vS5S2+ms+B
 knrt/GaxKPKYfQBsnlQE+3ycrXmnlW9FFimEiL5edM+RSgx7wsmbB3UoCgSqeUs4UCi2ca
 cEidqRJEbemNsqZXWZb4opd6g7EWUxY=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Maxime Ripard <mripard@kernel.org>, dri-devel@lists.freedesktop.org,
 David Airlie <airlied@linux.ie>, nouveau@lists.freedesktop.org,
 linux-kernel@vger.kernel.org, amd-gfx@lists.freedesktop.org,
 Juston Li <juston.li@intel.com>, Harry Wentland <hwentlan@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gV2VkLCAyMDE5LTA5LTI1IGF0IDE0OjE2IC0wNDAwLCBTZWFuIFBhdWwgd3JvdGU6Cj4gT24g
VHVlLCBTZXAgMDMsIDIwMTkgYXQgMDQ6NDU6NDFQTSAtMDQwMCwgTHl1ZGUgUGF1bCB3cm90ZToK
PiA+IFdoZW4gcmVwcm9iaW5nIGFuIE1TVCB0b3BvbG9neSBkdXJpbmcgcmVzdW1lLCB3ZSBoYXZl
IHRvIGFjY291bnQgZm9yIHRoZQo+ID4gZmFjdCB0aGF0IHdoaWxlIHdlIHdlcmUgc3VzcGVuZGVk
IGl0J3MgcG9zc2libGUgdGhhdCBtc3RicyBtYXkgaGF2ZSBiZWVuCj4gPiByZW1vdmVkIGZyb20g
YW55IHBvcnRzIGluIHRoZSB0b3BvbG9neS4gU2luY2UgaXRlcmF0aW5nIGRvd253YXJkcyBpbiB0
aGUKPiA+IHRvcG9sb2d5IHJlcXVpcmVzIHRoYXQgd2UgaG9sZCAmbWdyLT5sb2NrLCBkZXN0cm95
aW5nIE1TVEJzIGZyb20gdGhpcwo+ID4gY29udGV4dCB3b3VsZCByZXN1bHQgaW4gYXR0ZW1wdGlu
ZyB0byBsb2NrICZtZ3ItPmxvY2sgYSBzZWNvbmQgdGltZSBhbmQKPiA+IGRlYWRsb2NraW5nLgo+
ID4gCj4gPiBTbywgZml4IHRoaXMgYnkgZmlyc3QgbW92aW5nIGRlc3RydWN0aW9uIG9mIE1TVEJz
IGludG8KPiA+IGRlc3Ryb3lfY29ubmVjdG9yX3dvcmssIHRoZW4gcmVuYW1lIGRlc3Ryb3lfY29u
bmVjdG9yX3dvcmsgYW5kIGZyaWVuZHMKPiA+IHRvIHJlZmxlY3QgdGhhdCB0aGV5IG5vdyBkZXN0
cm95IGJvdGggcG9ydHMgYW5kIG1zdGJzLgo+ID4gCj4gPiBDaGFuZ2VzIHNpbmNlIHYxOgo+ID4g
KiBzL2Rlc3Ryb3lfY29ubmVjdG9yX2xpc3QvZGVzdHJveV9wb3J0X2xpc3QvCj4gPiAgIHMvY29u
bmVjdG9yX2Rlc3Ryb3lfbG9jay9kZWxheWVkX2Rlc3Ryb3lfbG9jay8KPiA+ICAgcy9jb25uZWN0
b3JfZGVzdHJveV93b3JrL2RlbGF5ZWRfZGVzdHJveV93b3JrLwo+ID4gICBzL2RybV9kcF9maW5p
c2hfZGVzdHJveV9icmFuY2hfZGV2aWNlL2RybV9kcF9kZWxheWVkX2Rlc3Ryb3lfbXN0Yi8KPiA+
ICAgcy9kcm1fZHBfZmluaXNoX2Rlc3Ryb3lfcG9ydC9kcm1fZHBfZGVsYXllZF9kZXN0cm95X3Bv
cnQvCj4gPiAgIC0gZGFudmV0Cj4gPiAqIFVzZSB0d28gbG9vcHMgaW4gZHJtX2RwX2RlbGF5ZWRf
ZGVzdHJveV93b3JrKCkgLSBkYW52ZXQKPiA+ICogQmV0dGVyIGV4cGxhaW4gd2h5IHdlIG5lZWQg
dG8gZG8gdGhpcyAtIGRhbnZldAo+ID4gKiBVc2UgY2FuY2VsX3dvcmtfc3luYygpIGluc3RlYWQg
b2YgZmx1c2hfd29yaygpIC0gZmx1c2hfd29yaygpIGRvZXNuJ3QKPiA+ICAgYWNjb3VudCBmb3Ig
d29yayByZXF1ZWluZwo+ID4gCj4gPiBDYzogSnVzdG9uIExpIDxqdXN0b24ubGlAaW50ZWwuY29t
Pgo+ID4gQ2M6IEltcmUgRGVhayA8aW1yZS5kZWFrQGludGVsLmNvbT4KPiA+IENjOiBWaWxsZSBT
eXJqw6Rsw6QgPHZpbGxlLnN5cmphbGFAbGludXguaW50ZWwuY29tPgo+ID4gQ2M6IEhhcnJ5IFdl
bnRsYW5kIDxod2VudGxhbkBhbWQuY29tPgo+ID4gQ2M6IERhbmllbCBWZXR0ZXIgPGRhbmllbEBm
ZndsbC5jaD4KPiA+IFNpZ25lZC1vZmYtYnk6IEx5dWRlIFBhdWwgPGx5dWRlQHJlZGhhdC5jb20+
Cj4gCj4gVG9vayBtZSBhIHdoaWxlIHRvIGdyb2sgdGhpcywgYW5kIEknbSBzdGlsbCBub3QgMTAw
JSBjb25maWRlbnQgbXkgbWVudGFsCj4gbW9kZWwKPiBpcyBjb3JyZWN0LCBzbyBwbGVhc2UgYmVh
ciB3aXRoIG1lIHdoaWxlIEkgYXNrIHNpbGx5IHF1ZXN0aW9ucyA6KQo+IAo+IE5vdyB0aGF0IHRo
ZSBkZXN0cm95IGlzIGRlbGF5ZWQsIGFuZCB0aGUgcG9ydCByZW1haW5zIGluIHRoZSB0b3BvbG9n
eSwgaXMgaXQKPiBwb3NzaWJsZSB3ZSB3aWxsIHVuZGVyZmxvdyB0aGUgdG9wb2xvZ3kga3JlZiBi
eSBjYWxsaW5nIHB1dF9tc3RiIG11bHRpcGxlCj4gdGltZXM/Cj4gSXQgbG9va3MgbGlrZSB0aGF0
IHdvdWxkIHJlc3VsdCBpbiBhIFdBUk4gZnJvbSByZWZjb3VudC5jLCBhbmQgd291bGRuJ3QgY2Fs
bAo+IHRoZQo+IGRlc3Ryb3kgZnVuY3Rpb24gbXVsdGlwbGUgdGltZXMsIHNvIHRoYXQncyBuaWNl
IDopCj4gCj4gU2ltaWxhcmx5LCBpcyB0aGVyZSBhbnkgZGVmZW5zZSBhZ2FpbnN0IGNhbGxpbmcg
Z2V0X21zdGIoKSBiZXR3ZWVuIGRlc3Ryb3koKQo+IGFuZAo+IHRoZSBkZWxheWVkIGRlc3Ryb3kg
d29ya2VyIHJ1bm5pbmc/Cj4gCkdvb2QgcXVlc3Rpb24hIFRoZXJlJ3Mgb25seSBvbmUgaW5zdGFu
Y2Ugd2hlcmUgd2UgdW5jb25kaXRpb25hbGx5IGdyYWIgYW4gTVNUQgpyZWYsIGRybV9kcF9tc3Rf
dG9wb2xvZ3lfbWdyX3NldF9tc3QoKSwgYW5kIGluIHRoYXQgbG9jYXRpb24gd2UncmUgZ3VhcmFu
dGVlZAp0byBiZSB0aGUgb25seSBvbmUgd2l0aCBhY2Nlc3MgdG8gdGhhdCBtc3RiIHVudGlsIHdl
IGRyb3AgJm1nci0+bG9jay4KRXZlcnl3aGVyZSBlbHNlIHdlIHVzZSBkcm1fZHBfbXN0X3RvcG9s
b2d5X3RyeV9nZXRfbXN0YigpLCB3aGljaCB1c2VzCmtyZWZfZ2V0X3VubGVzc196ZXJvKCkgdG8g
cHJvdGVjdCBhZ2FpbnN0IHRoYXQga2luZCBvZiBzaXR1YXRpb24gKGFuZCBmb3JjZXMKdGhlIGNh
bGxlciB0byBjaGVjayB3aXRoIF9fbXVzdF9jaGVjaykKCj4gU2Vhbgo+IAo+ID4gLS0tCj4gPiAg
ZHJpdmVycy9ncHUvZHJtL2RybV9kcF9tc3RfdG9wb2xvZ3kuYyB8IDE2MiArKysrKysrKysrKysr
KysrKy0tLS0tLS0tLQo+ID4gIGluY2x1ZGUvZHJtL2RybV9kcF9tc3RfaGVscGVyLmggICAgICAg
fCAgMjYgKysrLS0KPiA+ICAyIGZpbGVzIGNoYW5nZWQsIDEyNyBpbnNlcnRpb25zKCspLCA2MSBk
ZWxldGlvbnMoLSkKPiA+IAo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fZHBf
bXN0X3RvcG9sb2d5LmMKPiA+IGIvZHJpdmVycy9ncHUvZHJtL2RybV9kcF9tc3RfdG9wb2xvZ3ku
Ywo+ID4gaW5kZXggMzA1NGVjNjIyNTA2Li43MzhmMjYwZDRiMTUgMTAwNjQ0Cj4gPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vZHJtX2RwX21zdF90b3BvbG9neS5jCj4gPiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vZHJtX2RwX21zdF90b3BvbG9neS5jCj4gPiBAQCAtMTExMywzNCArMTExMywxNyBAQCBz
dGF0aWMgdm9pZAo+ID4gZHJtX2RwX2Rlc3Ryb3lfbXN0X2JyYW5jaF9kZXZpY2Uoc3RydWN0IGty
ZWYgKmtyZWYpCj4gPiAgCXN0cnVjdCBkcm1fZHBfbXN0X2JyYW5jaCAqbXN0YiA9Cj4gPiAgCQlj
b250YWluZXJfb2Yoa3JlZiwgc3RydWN0IGRybV9kcF9tc3RfYnJhbmNoLCB0b3BvbG9neV9rcmVm
KTsKPiA+ICAJc3RydWN0IGRybV9kcF9tc3RfdG9wb2xvZ3lfbWdyICptZ3IgPSBtc3RiLT5tZ3I7
Cj4gPiAtCXN0cnVjdCBkcm1fZHBfbXN0X3BvcnQgKnBvcnQsICp0bXA7Cj4gPiAtCWJvb2wgd2Fr
ZV90eCA9IGZhbHNlOwo+ID4gIAo+ID4gLQltdXRleF9sb2NrKCZtZ3ItPmxvY2spOwo+ID4gLQls
aXN0X2Zvcl9lYWNoX2VudHJ5X3NhZmUocG9ydCwgdG1wLCAmbXN0Yi0+cG9ydHMsIG5leHQpIHsK
PiA+IC0JCWxpc3RfZGVsKCZwb3J0LT5uZXh0KTsKPiA+IC0JCWRybV9kcF9tc3RfdG9wb2xvZ3lf
cHV0X3BvcnQocG9ydCk7Cj4gPiAtCX0KPiA+IC0JbXV0ZXhfdW5sb2NrKCZtZ3ItPmxvY2spOwo+
ID4gLQo+ID4gLQkvKiBkcm9wIGFueSB0eCBzbG90cyBtc2cgKi8KPiA+IC0JbXV0ZXhfbG9jaygm
bXN0Yi0+bWdyLT5xbG9jayk7Cj4gPiAtCWlmIChtc3RiLT50eF9zbG90c1swXSkgewo+ID4gLQkJ
bXN0Yi0+dHhfc2xvdHNbMF0tPnN0YXRlID0gRFJNX0RQX1NJREVCQU5EX1RYX1RJTUVPVVQ7Cj4g
PiAtCQltc3RiLT50eF9zbG90c1swXSA9IE5VTEw7Cj4gPiAtCQl3YWtlX3R4ID0gdHJ1ZTsKPiA+
IC0JfQo+ID4gLQlpZiAobXN0Yi0+dHhfc2xvdHNbMV0pIHsKPiA+IC0JCW1zdGItPnR4X3Nsb3Rz
WzFdLT5zdGF0ZSA9IERSTV9EUF9TSURFQkFORF9UWF9USU1FT1VUOwo+ID4gLQkJbXN0Yi0+dHhf
c2xvdHNbMV0gPSBOVUxMOwo+ID4gLQkJd2FrZV90eCA9IHRydWU7Cj4gPiAtCX0KPiA+IC0JbXV0
ZXhfdW5sb2NrKCZtc3RiLT5tZ3ItPnFsb2NrKTsKPiA+ICsJSU5JVF9MSVNUX0hFQUQoJm1zdGIt
PmRlc3Ryb3lfbmV4dCk7Cj4gPiAgCj4gPiAtCWlmICh3YWtlX3R4KQo+ID4gLQkJd2FrZV91cF9h
bGwoJm1zdGItPm1nci0+dHhfd2FpdHEpOwo+ID4gLQo+ID4gLQlkcm1fZHBfbXN0X3B1dF9tc3Ri
X21hbGxvYyhtc3RiKTsKPiA+ICsJLyoKPiA+ICsJICogVGhpcyBjYW4gZ2V0IGNhbGxlZCB1bmRl
ciBtZ3ItPm11dGV4LCBzbyB3ZSBuZWVkIHRvIHBlcmZvcm0gdGhlCj4gPiArCSAqIGFjdHVhbCBk
ZXN0cnVjdGlvbiBvZiB0aGUgbXN0YiBpbiBhbm90aGVyIHdvcmtlcgo+ID4gKwkgKi8KPiA+ICsJ
bXV0ZXhfbG9jaygmbWdyLT5kZWxheWVkX2Rlc3Ryb3lfbG9jayk7Cj4gPiArCWxpc3RfYWRkKCZt
c3RiLT5kZXN0cm95X25leHQsICZtZ3ItPmRlc3Ryb3lfYnJhbmNoX2RldmljZV9saXN0KTsKPiA+
ICsJbXV0ZXhfdW5sb2NrKCZtZ3ItPmRlbGF5ZWRfZGVzdHJveV9sb2NrKTsKPiA+ICsJc2NoZWR1
bGVfd29yaygmbWdyLT5kZWxheWVkX2Rlc3Ryb3lfd29yayk7Cj4gPiAgfQo+ID4gIAo+ID4gIC8q
Kgo+ID4gQEAgLTEyNTUsMTAgKzEyMzgsMTAgQEAgc3RhdGljIHZvaWQgZHJtX2RwX2Rlc3Ryb3lf
cG9ydChzdHJ1Y3Qga3JlZiAqa3JlZikKPiA+ICAJCQkgKiB3ZSBtaWdodCBiZSBob2xkaW5nIHRo
ZSBtb2RlX2NvbmZpZy5tdXRleAo+ID4gIAkJCSAqIGZyb20gYW4gRURJRCByZXRyaWV2YWwgKi8K
PiA+ICAKPiA+IC0JCQltdXRleF9sb2NrKCZtZ3ItPmRlc3Ryb3lfY29ubmVjdG9yX2xvY2spOwo+
ID4gLQkJCWxpc3RfYWRkKCZwb3J0LT5uZXh0LCAmbWdyLT5kZXN0cm95X2Nvbm5lY3Rvcl9saXN0
KTsKPiA+IC0JCQltdXRleF91bmxvY2soJm1nci0+ZGVzdHJveV9jb25uZWN0b3JfbG9jayk7Cj4g
PiAtCQkJc2NoZWR1bGVfd29yaygmbWdyLT5kZXN0cm95X2Nvbm5lY3Rvcl93b3JrKTsKPiA+ICsJ
CQltdXRleF9sb2NrKCZtZ3ItPmRlbGF5ZWRfZGVzdHJveV9sb2NrKTsKPiA+ICsJCQlsaXN0X2Fk
ZCgmcG9ydC0+bmV4dCwgJm1nci0+ZGVzdHJveV9wb3J0X2xpc3QpOwo+ID4gKwkJCW11dGV4X3Vu
bG9jaygmbWdyLT5kZWxheWVkX2Rlc3Ryb3lfbG9jayk7Cj4gPiArCQkJc2NoZWR1bGVfd29yaygm
bWdyLT5kZWxheWVkX2Rlc3Ryb3lfd29yayk7Cj4gPiAgCQkJcmV0dXJuOwo+ID4gIAkJfQo+ID4g
IAkJLyogbm8gbmVlZCB0byBjbGVhbiB1cCB2Y3BpCj4gPiBAQCAtMjc5Miw3ICsyNzc1LDcgQEAg
dm9pZCBkcm1fZHBfbXN0X3RvcG9sb2d5X21ncl9zdXNwZW5kKHN0cnVjdAo+ID4gZHJtX2RwX21z
dF90b3BvbG9neV9tZ3IgKm1ncikKPiA+ICAJCQkgICBEUF9NU1RfRU4gfCBEUF9VUFNUUkVBTV9J
U19TUkMpOwo+ID4gIAltdXRleF91bmxvY2soJm1nci0+bG9jayk7Cj4gPiAgCWZsdXNoX3dvcmso
Jm1nci0+d29yayk7Cj4gPiAtCWZsdXNoX3dvcmsoJm1nci0+ZGVzdHJveV9jb25uZWN0b3Jfd29y
ayk7Cj4gPiArCWZsdXNoX3dvcmsoJm1nci0+ZGVsYXllZF9kZXN0cm95X3dvcmspOwo+ID4gIH0K
PiA+ICBFWFBPUlRfU1lNQk9MKGRybV9kcF9tc3RfdG9wb2xvZ3lfbWdyX3N1c3BlbmQpOwo+ID4g
IAo+ID4gQEAgLTM3NDAsMzQgKzM3MjMsMTA0IEBAIHN0YXRpYyB2b2lkIGRybV9kcF90eF93b3Jr
KHN0cnVjdCB3b3JrX3N0cnVjdAo+ID4gKndvcmspCj4gPiAgCW11dGV4X3VubG9jaygmbWdyLT5x
bG9jayk7Cj4gPiAgfQo+ID4gIAo+ID4gLXN0YXRpYyB2b2lkIGRybV9kcF9kZXN0cm95X2Nvbm5l
Y3Rvcl93b3JrKHN0cnVjdCB3b3JrX3N0cnVjdCAqd29yaykKPiA+ICtzdGF0aWMgaW5saW5lIHZv
aWQKPiA+ICtkcm1fZHBfZGVsYXllZF9kZXN0cm95X3BvcnQoc3RydWN0IGRybV9kcF9tc3RfcG9y
dCAqcG9ydCkKPiA+ICB7Cj4gPiAtCXN0cnVjdCBkcm1fZHBfbXN0X3RvcG9sb2d5X21nciAqbWdy
ID0gY29udGFpbmVyX29mKHdvcmssIHN0cnVjdAo+ID4gZHJtX2RwX21zdF90b3BvbG9neV9tZ3Is
IGRlc3Ryb3lfY29ubmVjdG9yX3dvcmspOwo+ID4gLQlzdHJ1Y3QgZHJtX2RwX21zdF9wb3J0ICpw
b3J0Owo+ID4gLQlib29sIHNlbmRfaG90cGx1ZyA9IGZhbHNlOwo+ID4gKwlwb3J0LT5tZ3ItPmNi
cy0+ZGVzdHJveV9jb25uZWN0b3IocG9ydC0+bWdyLCBwb3J0LT5jb25uZWN0b3IpOwo+ID4gKwo+
ID4gKwlkcm1fZHBfcG9ydF90ZWFyZG93bl9wZHQocG9ydCwgcG9ydC0+cGR0KTsKPiA+ICsJcG9y
dC0+cGR0ID0gRFBfUEVFUl9ERVZJQ0VfTk9ORTsKPiA+ICsKPiA+ICsJZHJtX2RwX21zdF9wdXRf
cG9ydF9tYWxsb2MocG9ydCk7Cj4gPiArfQo+ID4gKwo+ID4gK3N0YXRpYyBpbmxpbmUgdm9pZAo+
ID4gK2RybV9kcF9kZWxheWVkX2Rlc3Ryb3lfbXN0YihzdHJ1Y3QgZHJtX2RwX21zdF9icmFuY2gg
Km1zdGIpCj4gPiArewo+ID4gKwlzdHJ1Y3QgZHJtX2RwX21zdF90b3BvbG9neV9tZ3IgKm1nciA9
IG1zdGItPm1ncjsKPiA+ICsJc3RydWN0IGRybV9kcF9tc3RfcG9ydCAqcG9ydCwgKnRtcDsKPiA+
ICsJYm9vbCB3YWtlX3R4ID0gZmFsc2U7Cj4gPiArCj4gPiArCW11dGV4X2xvY2soJm1nci0+bG9j
ayk7Cj4gPiArCWxpc3RfZm9yX2VhY2hfZW50cnlfc2FmZShwb3J0LCB0bXAsICZtc3RiLT5wb3J0
cywgbmV4dCkgewo+ID4gKwkJbGlzdF9kZWwoJnBvcnQtPm5leHQpOwo+ID4gKwkJZHJtX2RwX21z
dF90b3BvbG9neV9wdXRfcG9ydChwb3J0KTsKPiA+ICsJfQo+ID4gKwltdXRleF91bmxvY2soJm1n
ci0+bG9jayk7Cj4gPiArCj4gPiArCS8qIGRyb3AgYW55IHR4IHNsb3RzIG1zZyAqLwo+ID4gKwlt
dXRleF9sb2NrKCZtc3RiLT5tZ3ItPnFsb2NrKTsKPiA+ICsJaWYgKG1zdGItPnR4X3Nsb3RzWzBd
KSB7Cj4gPiArCQltc3RiLT50eF9zbG90c1swXS0+c3RhdGUgPSBEUk1fRFBfU0lERUJBTkRfVFhf
VElNRU9VVDsKPiA+ICsJCW1zdGItPnR4X3Nsb3RzWzBdID0gTlVMTDsKPiA+ICsJCXdha2VfdHgg
PSB0cnVlOwo+ID4gKwl9Cj4gPiArCWlmIChtc3RiLT50eF9zbG90c1sxXSkgewo+ID4gKwkJbXN0
Yi0+dHhfc2xvdHNbMV0tPnN0YXRlID0gRFJNX0RQX1NJREVCQU5EX1RYX1RJTUVPVVQ7Cj4gPiAr
CQltc3RiLT50eF9zbG90c1sxXSA9IE5VTEw7Cj4gPiArCQl3YWtlX3R4ID0gdHJ1ZTsKPiA+ICsJ
fQo+ID4gKwltdXRleF91bmxvY2soJm1zdGItPm1nci0+cWxvY2spOwo+ID4gKwo+ID4gKwlpZiAo
d2FrZV90eCkKPiA+ICsJCXdha2VfdXBfYWxsKCZtc3RiLT5tZ3ItPnR4X3dhaXRxKTsKPiA+ICsK
PiA+ICsJZHJtX2RwX21zdF9wdXRfbXN0Yl9tYWxsb2MobXN0Yik7Cj4gPiArfQo+ID4gKwo+ID4g
K3N0YXRpYyB2b2lkIGRybV9kcF9kZWxheWVkX2Rlc3Ryb3lfd29yayhzdHJ1Y3Qgd29ya19zdHJ1
Y3QgKndvcmspCj4gPiArewo+ID4gKwlzdHJ1Y3QgZHJtX2RwX21zdF90b3BvbG9neV9tZ3IgKm1n
ciA9Cj4gPiArCQljb250YWluZXJfb2Yod29yaywgc3RydWN0IGRybV9kcF9tc3RfdG9wb2xvZ3lf
bWdyLAo+ID4gKwkJCSAgICAgZGVsYXllZF9kZXN0cm95X3dvcmspOwo+ID4gKwlib29sIHNlbmRf
aG90cGx1ZyA9IGZhbHNlLCBnb19hZ2FpbjsKPiA+ICsKPiA+ICAJLyoKPiA+ICAJICogTm90IGEg
cmVndWxhciBsaXN0IHRyYXZlcnNlIGFzIHdlIGhhdmUgdG8gZHJvcCB0aGUgZGVzdHJveQo+ID4g
LQkgKiBjb25uZWN0b3IgbG9jayBiZWZvcmUgZGVzdHJveWluZyB0aGUgY29ubmVjdG9yLCB0byBh
dm9pZCBBQi0+QkEKPiA+ICsJICogY29ubmVjdG9yIGxvY2sgYmVmb3JlIGRlc3Ryb3lpbmcgdGhl
IG1zdGIvcG9ydCwgdG8gYXZvaWQgQUItPkJBCj4gPiAgCSAqIG9yZGVyaW5nIGJldHdlZW4gdGhp
cyBsb2NrIGFuZCB0aGUgY29uZmlnIG11dGV4Lgo+ID4gIAkgKi8KPiA+IC0JZm9yICg7Oykgewo+
ID4gLQkJbXV0ZXhfbG9jaygmbWdyLT5kZXN0cm95X2Nvbm5lY3Rvcl9sb2NrKTsKPiA+IC0JCXBv
cnQgPSBsaXN0X2ZpcnN0X2VudHJ5X29yX251bGwoJm1nci0+ZGVzdHJveV9jb25uZWN0b3JfbGlz
dCwKPiA+IHN0cnVjdCBkcm1fZHBfbXN0X3BvcnQsIG5leHQpOwo+ID4gLQkJaWYgKCFwb3J0KSB7
Cj4gPiAtCQkJbXV0ZXhfdW5sb2NrKCZtZ3ItPmRlc3Ryb3lfY29ubmVjdG9yX2xvY2spOwo+ID4g
LQkJCWJyZWFrOwo+ID4gKwlkbyB7Cj4gPiArCQlnb19hZ2FpbiA9IGZhbHNlOwo+ID4gKwo+ID4g
KwkJZm9yICg7Oykgewo+ID4gKwkJCXN0cnVjdCBkcm1fZHBfbXN0X2JyYW5jaCAqbXN0YjsKPiA+
ICsKPiA+ICsJCQltdXRleF9sb2NrKCZtZ3ItPmRlbGF5ZWRfZGVzdHJveV9sb2NrKTsKPiA+ICsJ
CQltc3RiID0gbGlzdF9maXJzdF9lbnRyeV9vcl9udWxsKCZtZ3ItCj4gPiA+ZGVzdHJveV9icmFu
Y2hfZGV2aWNlX2xpc3QsCj4gPiArCQkJCQkJCXN0cnVjdAo+ID4gZHJtX2RwX21zdF9icmFuY2gs
Cj4gPiArCQkJCQkJCWRlc3Ryb3lfbmV4dCk7Cj4gPiArCQkJaWYgKG1zdGIpCj4gPiArCQkJCWxp
c3RfZGVsKCZtc3RiLT5kZXN0cm95X25leHQpOwo+ID4gKwkJCW11dGV4X3VubG9jaygmbWdyLT5k
ZWxheWVkX2Rlc3Ryb3lfbG9jayk7Cj4gPiArCj4gPiArCQkJaWYgKCFtc3RiKQo+ID4gKwkJCQli
cmVhazsKPiA+ICsKPiA+ICsJCQlkcm1fZHBfZGVsYXllZF9kZXN0cm95X21zdGIobXN0Yik7Cj4g
PiArCQkJZ29fYWdhaW4gPSB0cnVlOwo+ID4gIAkJfQo+ID4gLQkJbGlzdF9kZWwoJnBvcnQtPm5l
eHQpOwo+ID4gLQkJbXV0ZXhfdW5sb2NrKCZtZ3ItPmRlc3Ryb3lfY29ubmVjdG9yX2xvY2spOwo+
ID4gIAo+ID4gLQkJbWdyLT5jYnMtPmRlc3Ryb3lfY29ubmVjdG9yKG1nciwgcG9ydC0+Y29ubmVj
dG9yKTsKPiA+ICsJCWZvciAoOzspIHsKPiA+ICsJCQlzdHJ1Y3QgZHJtX2RwX21zdF9wb3J0ICpw
b3J0Owo+ID4gIAo+ID4gLQkJZHJtX2RwX3BvcnRfdGVhcmRvd25fcGR0KHBvcnQsIHBvcnQtPnBk
dCk7Cj4gPiAtCQlwb3J0LT5wZHQgPSBEUF9QRUVSX0RFVklDRV9OT05FOwo+ID4gKwkJCW11dGV4
X2xvY2soJm1nci0+ZGVsYXllZF9kZXN0cm95X2xvY2spOwo+ID4gKwkJCXBvcnQgPSBsaXN0X2Zp
cnN0X2VudHJ5X29yX251bGwoJm1nci0KPiA+ID5kZXN0cm95X3BvcnRfbGlzdCwKPiA+ICsJCQkJ
CQkJc3RydWN0Cj4gPiBkcm1fZHBfbXN0X3BvcnQsCj4gPiArCQkJCQkJCW5leHQpOwo+ID4gKwkJ
CWlmIChwb3J0KQo+ID4gKwkJCQlsaXN0X2RlbCgmcG9ydC0+bmV4dCk7Cj4gPiArCQkJbXV0ZXhf
dW5sb2NrKCZtZ3ItPmRlbGF5ZWRfZGVzdHJveV9sb2NrKTsKPiA+ICsKPiA+ICsJCQlpZiAoIXBv
cnQpCj4gPiArCQkJCWJyZWFrOwo+ID4gKwo+ID4gKwkJCWRybV9kcF9kZWxheWVkX2Rlc3Ryb3lf
cG9ydChwb3J0KTsKPiA+ICsJCQlzZW5kX2hvdHBsdWcgPSB0cnVlOwo+ID4gKwkJCWdvX2FnYWlu
ID0gdHJ1ZTsKPiA+ICsJCX0KPiA+ICsJfSB3aGlsZSAoZ29fYWdhaW4pOwo+ID4gIAo+ID4gLQkJ
ZHJtX2RwX21zdF9wdXRfcG9ydF9tYWxsb2MocG9ydCk7Cj4gPiAtCQlzZW5kX2hvdHBsdWcgPSB0
cnVlOwo+ID4gLQl9Cj4gPiAgCWlmIChzZW5kX2hvdHBsdWcpCj4gPiAgCQlkcm1fa21zX2hlbHBl
cl9ob3RwbHVnX2V2ZW50KG1nci0+ZGV2KTsKPiA+ICB9Cj4gPiBAQCAtMzk1NywxMiArNDAxMCwx
MyBAQCBpbnQgZHJtX2RwX21zdF90b3BvbG9neV9tZ3JfaW5pdChzdHJ1Y3QKPiA+IGRybV9kcF9t
c3RfdG9wb2xvZ3lfbWdyICptZ3IsCj4gPiAgCW11dGV4X2luaXQoJm1nci0+bG9jayk7Cj4gPiAg
CW11dGV4X2luaXQoJm1nci0+cWxvY2spOwo+ID4gIAltdXRleF9pbml0KCZtZ3ItPnBheWxvYWRf
bG9jayk7Cj4gPiAtCW11dGV4X2luaXQoJm1nci0+ZGVzdHJveV9jb25uZWN0b3JfbG9jayk7Cj4g
PiArCW11dGV4X2luaXQoJm1nci0+ZGVsYXllZF9kZXN0cm95X2xvY2spOwo+ID4gIAlJTklUX0xJ
U1RfSEVBRCgmbWdyLT50eF9tc2dfZG93bnEpOwo+ID4gLQlJTklUX0xJU1RfSEVBRCgmbWdyLT5k
ZXN0cm95X2Nvbm5lY3Rvcl9saXN0KTsKPiA+ICsJSU5JVF9MSVNUX0hFQUQoJm1nci0+ZGVzdHJv
eV9wb3J0X2xpc3QpOwo+ID4gKwlJTklUX0xJU1RfSEVBRCgmbWdyLT5kZXN0cm95X2JyYW5jaF9k
ZXZpY2VfbGlzdCk7Cj4gPiAgCUlOSVRfV09SSygmbWdyLT53b3JrLCBkcm1fZHBfbXN0X2xpbmtf
cHJvYmVfd29yayk7Cj4gPiAgCUlOSVRfV09SSygmbWdyLT50eF93b3JrLCBkcm1fZHBfdHhfd29y
ayk7Cj4gPiAtCUlOSVRfV09SSygmbWdyLT5kZXN0cm95X2Nvbm5lY3Rvcl93b3JrLAo+ID4gZHJt
X2RwX2Rlc3Ryb3lfY29ubmVjdG9yX3dvcmspOwo+ID4gKwlJTklUX1dPUksoJm1nci0+ZGVsYXll
ZF9kZXN0cm95X3dvcmssIGRybV9kcF9kZWxheWVkX2Rlc3Ryb3lfd29yayk7Cj4gPiAgCWluaXRf
d2FpdHF1ZXVlX2hlYWQoJm1nci0+dHhfd2FpdHEpOwo+ID4gIAltZ3ItPmRldiA9IGRldjsKPiA+
ICAJbWdyLT5hdXggPSBhdXg7Cj4gPiBAQCAtNDAwNSw3ICs0MDU5LDcgQEAgdm9pZCBkcm1fZHBf
bXN0X3RvcG9sb2d5X21ncl9kZXN0cm95KHN0cnVjdAo+ID4gZHJtX2RwX21zdF90b3BvbG9neV9t
Z3IgKm1ncikKPiA+ICB7Cj4gPiAgCWRybV9kcF9tc3RfdG9wb2xvZ3lfbWdyX3NldF9tc3QobWdy
LCBmYWxzZSk7Cj4gPiAgCWZsdXNoX3dvcmsoJm1nci0+d29yayk7Cj4gPiAtCWZsdXNoX3dvcmso
Jm1nci0+ZGVzdHJveV9jb25uZWN0b3Jfd29yayk7Cj4gPiArCWNhbmNlbF93b3JrX3N5bmMoJm1n
ci0+ZGVsYXllZF9kZXN0cm95X3dvcmspOwo+ID4gIAltdXRleF9sb2NrKCZtZ3ItPnBheWxvYWRf
bG9jayk7Cj4gPiAgCWtmcmVlKG1nci0+cGF5bG9hZHMpOwo+ID4gIAltZ3ItPnBheWxvYWRzID0g
TlVMTDsKPiA+IGRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS9kcm1fZHBfbXN0X2hlbHBlci5oCj4g
PiBiL2luY2x1ZGUvZHJtL2RybV9kcF9tc3RfaGVscGVyLmgKPiA+IGluZGV4IGZjMzQ5MjA0YTcx
Yi4uNGE0NTA3ZmU5MjhkIDEwMDY0NAo+ID4gLS0tIGEvaW5jbHVkZS9kcm0vZHJtX2RwX21zdF9o
ZWxwZXIuaAo+ID4gKysrIGIvaW5jbHVkZS9kcm0vZHJtX2RwX21zdF9oZWxwZXIuaAo+ID4gQEAg
LTE0Myw2ICsxNDMsMTIgQEAgc3RydWN0IGRybV9kcF9tc3RfYnJhbmNoIHsKPiA+ICAJICovCj4g
PiAgCXN0cnVjdCBrcmVmIG1hbGxvY19rcmVmOwo+ID4gIAo+ID4gKwkvKioKPiA+ICsJICogQGRl
c3Ryb3lfbmV4dDogbGlua2VkLWxpc3QgZW50cnkgdXNlZCBieQo+ID4gKwkgKiBkcm1fZHBfZGVs
YXllZF9kZXN0cm95X3dvcmsoKQo+ID4gKwkgKi8KPiA+ICsJc3RydWN0IGxpc3RfaGVhZCBkZXN0
cm95X25leHQ7Cj4gPiArCj4gPiAgCXU4IHJhZFs4XTsKPiA+ICAJdTggbGN0Owo+ID4gIAlpbnQg
bnVtX3BvcnRzOwo+ID4gQEAgLTU3NSwxOCArNTgxLDI0IEBAIHN0cnVjdCBkcm1fZHBfbXN0X3Rv
cG9sb2d5X21nciB7Cj4gPiAgCXN0cnVjdCB3b3JrX3N0cnVjdCB0eF93b3JrOwo+ID4gIAo+ID4g
IAkvKioKPiA+IC0JICogQGRlc3Ryb3lfY29ubmVjdG9yX2xpc3Q6IExpc3Qgb2YgdG8gYmUgZGVz
dHJveWVkIGNvbm5lY3RvcnMuCj4gPiArCSAqIEBkZXN0cm95X3BvcnRfbGlzdDogTGlzdCBvZiB0
byBiZSBkZXN0cm95ZWQgY29ubmVjdG9ycy4KPiA+ICsJICovCj4gPiArCXN0cnVjdCBsaXN0X2hl
YWQgZGVzdHJveV9wb3J0X2xpc3Q7Cj4gPiArCS8qKgo+ID4gKwkgKiBAZGVzdHJveV9icmFuY2hf
ZGV2aWNlX2xpc3Q6IExpc3Qgb2YgdG8gYmUgZGVzdHJveWVkIGJyYW5jaAo+ID4gKwkgKiBkZXZp
Y2VzLgo+ID4gIAkgKi8KPiA+IC0Jc3RydWN0IGxpc3RfaGVhZCBkZXN0cm95X2Nvbm5lY3Rvcl9s
aXN0Owo+ID4gKwlzdHJ1Y3QgbGlzdF9oZWFkIGRlc3Ryb3lfYnJhbmNoX2RldmljZV9saXN0Owo+
ID4gIAkvKioKPiA+IC0JICogQGRlc3Ryb3lfY29ubmVjdG9yX2xvY2s6IFByb3RlY3RzIEBjb25u
ZWN0b3JfbGlzdC4KPiA+ICsJICogQGRlbGF5ZWRfZGVzdHJveV9sb2NrOiBQcm90ZWN0cyBAZGVz
dHJveV9wb3J0X2xpc3QgYW5kCj4gPiArCSAqIEBkZXN0cm95X2JyYW5jaF9kZXZpY2VfbGlzdC4K
PiA+ICAJICovCj4gPiAtCXN0cnVjdCBtdXRleCBkZXN0cm95X2Nvbm5lY3Rvcl9sb2NrOwo+ID4g
KwlzdHJ1Y3QgbXV0ZXggZGVsYXllZF9kZXN0cm95X2xvY2s7Cj4gPiAgCS8qKgo+ID4gLQkgKiBA
ZGVzdHJveV9jb25uZWN0b3Jfd29yazogV29yayBpdGVtIHRvIGRlc3Ryb3kgY29ubmVjdG9ycy4g
TmVlZGVkIHRvCj4gPiAtCSAqIGF2b2lkIGxvY2tpbmcgaW52ZXJzaW9uLgo+ID4gKwkgKiBAZGVs
YXllZF9kZXN0cm95X3dvcms6IFdvcmsgaXRlbSB0byBkZXN0cm95IE1TVCBwb3J0IGFuZCBicmFu
Y2gKPiA+ICsJICogZGV2aWNlcywgbmVlZGVkIHRvIGF2b2lkIGxvY2tpbmcgaW52ZXJzaW9uLgo+
ID4gIAkgKi8KPiA+IC0Jc3RydWN0IHdvcmtfc3RydWN0IGRlc3Ryb3lfY29ubmVjdG9yX3dvcms7
Cj4gPiArCXN0cnVjdCB3b3JrX3N0cnVjdCBkZWxheWVkX2Rlc3Ryb3lfd29yazsKPiA+ICB9Owo+
ID4gIAo+ID4gIGludCBkcm1fZHBfbXN0X3RvcG9sb2d5X21ncl9pbml0KHN0cnVjdCBkcm1fZHBf
bXN0X3RvcG9sb2d5X21nciAqbWdyLAo+ID4gLS0gCj4gPiAyLjIxLjAKPiA+IAotLSAKQ2hlZXJz
LAoJTHl1ZGUgUGF1bAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Au
b3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRl
dmVs
