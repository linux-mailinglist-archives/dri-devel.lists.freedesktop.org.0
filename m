Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id EAB6214F420
	for <lists+dri-devel@lfdr.de>; Fri, 31 Jan 2020 22:47:50 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 017606FC1A;
	Fri, 31 Jan 2020 21:47:30 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 884C96FC16;
 Fri, 31 Jan 2020 21:47:23 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga002.fm.intel.com ([10.253.24.26])
 by orsmga101.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 31 Jan 2020 13:47:23 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.70,387,1574150400"; d="scan'208";a="262691485"
Received: from helsinki.fi.intel.com ([10.237.66.145])
 by fmsmga002.fm.intel.com with ESMTP; 31 Jan 2020 13:47:22 -0800
From: Gwan-gyeong Mun <gwan-gyeong.mun@intel.com>
To: intel-gfx@lists.freedesktop.org
Subject: [PATCH 12/18] drm/i915: Program DP SDPs with computed configs
Date: Fri, 31 Jan 2020 23:46:55 +0200
Message-Id: <20200131214701.1085737-13-gwan-gyeong.mun@intel.com>
X-Mailer: git-send-email 2.24.1
In-Reply-To: <20200131214701.1085737-1-gwan-gyeong.mun@intel.com>
References: <20200131214701.1085737-1-gwan-gyeong.mun@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-fbdev@vger.kernel.org, dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SW4gb3JkZXIgdG8gdXNlIGNvbXB1dGVkIGNvbmZpZyBmb3IgRFAgU0RQcyAoRFAgVlNDIFNEUCBh
bmQgRFAgSERSIE1ldGFkYXRhCkluZm9mcmFtZSBTRFApLCBpdCByZXBsYWNlcyBpbnRlbF9kcF92
c2NfZW5hYmxlKCkgZnVuY3Rpb24gYW5kCmludGVsX2RwX2hkcl9tZXRhZGF0YV9lbmFibGUoKSBm
dW5jdGlvbiB0byBpbnRlbF9kcF9zZXRfaW5mb2ZyYW1lcygpCmZ1bmN0aW9uLgoKQmVmb3JlIGFw
cGx5aW5nIGl0LCByb3V0aW5lcyBvZiBwcm9ncmFtIFNEUCBhbHdheXMgY2FsY3VsYXRlZCBjb25m
aWdzIHdoZW4KdGhleSBjYWxsZWQuIEFuZCBpdCByZW1vdmVzIHVudXNlZCBmdW5jdGlvbnMuCgpT
aWduZWQtb2ZmLWJ5OiBHd2FuLWd5ZW9uZyBNdW4gPGd3YW4tZ3llb25nLm11bkBpbnRlbC5jb20+
Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYyB8ICAgMyArLQog
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcC5jICB8IDIyNiAtLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcC5oICB8
ICAgNiAtCiAzIGZpbGVzIGNoYW5nZWQsIDEgaW5zZXJ0aW9uKCspLCAyMzQgZGVsZXRpb25zKC0p
CgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMKaW5kZXggYzk2ZjYyOWNk
ZGMzLi4zNzRhYjZhMzc1N2MgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3Bs
YXkvaW50ZWxfZGRpLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9k
ZGkuYwpAQCAtMzkwMCw4ICszOTAwLDcgQEAgc3RhdGljIHZvaWQgaW50ZWxfZW5hYmxlX2RkaV9k
cChzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKIAogCWludGVsX2VkcF9iYWNrbGlnaHRf
b24oY3J0Y19zdGF0ZSwgY29ubl9zdGF0ZSk7CiAJaW50ZWxfcHNyX2VuYWJsZShpbnRlbF9kcCwg
Y3J0Y19zdGF0ZSk7Ci0JaW50ZWxfZHBfdnNjX2VuYWJsZShpbnRlbF9kcCwgY3J0Y19zdGF0ZSwg
Y29ubl9zdGF0ZSk7Ci0JaW50ZWxfZHBfaGRyX21ldGFkYXRhX2VuYWJsZShpbnRlbF9kcCwgY3J0
Y19zdGF0ZSwgY29ubl9zdGF0ZSk7CisJaW50ZWxfZHBfc2V0X2luZm9mcmFtZXMoZW5jb2Rlciwg
dHJ1ZSwgY3J0Y19zdGF0ZSwgY29ubl9zdGF0ZSk7CiAJaW50ZWxfZWRwX2RycnNfZW5hYmxlKGlu
dGVsX2RwLCBjcnRjX3N0YXRlKTsKIAogCWlmIChjcnRjX3N0YXRlLT5oYXNfYXVkaW8pCmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwLmMgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwLmMKaW5kZXggZTMzNDg4MjIyYWM1Li5lOGNm
MTJkMTRkYzMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
ZHAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwLmMKQEAgLTUy
NjMsMjMyICs1MjYzLDYgQEAgdm9pZCBpbnRlbF9kcF92c2Nfc2RwX2xvZyhjb25zdCBjaGFyICps
ZXZlbCwgc3RydWN0IGRldmljZSAqZGV2LAogfQogI3VuZGVmIGRwX3NkcF9sb2cKIAotc3RhdGlj
IHZvaWQKLWludGVsX2RwX3NldHVwX3ZzY19zZHAoc3RydWN0IGludGVsX2RwICppbnRlbF9kcCwK
LQkJICAgICAgIGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLAotCQkg
ICAgICAgY29uc3Qgc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKmNvbm5fc3RhdGUpCi17Ci0J
c3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqaW50ZWxfZGlnX3BvcnQgPSBkcF90b19kaWdfcG9y
dChpbnRlbF9kcCk7Ci0Jc3RydWN0IGRwX3NkcCB2c2Nfc2RwID0ge307Ci0KLQkvKiBQcmVwYXJl
IFZTQyBIZWFkZXIgZm9yIFNVIGFzIHBlciBEUCAxLjRhIHNwZWMsIFRhYmxlIDItMTE5ICovCi0J
dnNjX3NkcC5zZHBfaGVhZGVyLkhCMCA9IDA7Ci0JdnNjX3NkcC5zZHBfaGVhZGVyLkhCMSA9IDB4
NzsKLQotCS8qCi0JICogVlNDIFNEUCBzdXBwb3J0aW5nIDNEIHN0ZXJlbywgUFNSMiwgYW5kIFBp
eGVsIEVuY29kaW5nLwotCSAqIENvbG9yaW1ldHJ5IEZvcm1hdCBpbmRpY2F0aW9uLgotCSAqLwot
CXZzY19zZHAuc2RwX2hlYWRlci5IQjIgPSAweDU7Ci0KLQkvKgotCSAqIFZTQyBTRFAgc3VwcG9y
dGluZyAzRCBzdGVyZW8sICsgUFNSMiwgKyBQaXhlbCBFbmNvZGluZy8KLQkgKiBDb2xvcmltZXRy
eSBGb3JtYXQgaW5kaWNhdGlvbiAoSEIyID0gMDVoKS4KLQkgKi8KLQl2c2Nfc2RwLnNkcF9oZWFk
ZXIuSEIzID0gMHgxMzsKLQotCS8qIERQIDEuNGEgc3BlYywgVGFibGUgMi0xMjAgKi8KLQlzd2l0
Y2ggKGNydGNfc3RhdGUtPm91dHB1dF9mb3JtYXQpIHsKLQljYXNlIElOVEVMX09VVFBVVF9GT1JN
QVRfWUNCQ1I0NDQ6Ci0JCXZzY19zZHAuZGJbMTZdID0gMHgxIDw8IDQ7IC8qIFlDYkNyIDQ0NCA6
IERCMTZbNzo0XSA9IDFoICovCi0JCWJyZWFrOwotCWNhc2UgSU5URUxfT1VUUFVUX0ZPUk1BVF9Z
Q0JDUjQyMDoKLQkJdnNjX3NkcC5kYlsxNl0gPSAweDMgPDwgNDsgLyogWUNiQ3IgNDIwIDogREIx
Nls3OjRdID0gM2ggKi8KLQkJYnJlYWs7Ci0JY2FzZSBJTlRFTF9PVVRQVVRfRk9STUFUX1JHQjoK
LQlkZWZhdWx0OgotCQkvKiBSR0I6IERCMTZbNzo0XSA9IDBoICovCi0JCWJyZWFrOwotCX0KLQot
CXN3aXRjaCAoY29ubl9zdGF0ZS0+Y29sb3JzcGFjZSkgewotCWNhc2UgRFJNX01PREVfQ09MT1JJ
TUVUUllfQlQ3MDlfWUNDOgotCQl2c2Nfc2RwLmRiWzE2XSB8PSAweDE7Ci0JCWJyZWFrOwotCWNh
c2UgRFJNX01PREVfQ09MT1JJTUVUUllfWFZZQ0NfNjAxOgotCQl2c2Nfc2RwLmRiWzE2XSB8PSAw
eDI7Ci0JCWJyZWFrOwotCWNhc2UgRFJNX01PREVfQ09MT1JJTUVUUllfWFZZQ0NfNzA5OgotCQl2
c2Nfc2RwLmRiWzE2XSB8PSAweDM7Ci0JCWJyZWFrOwotCWNhc2UgRFJNX01PREVfQ09MT1JJTUVU
UllfU1lDQ182MDE6Ci0JCXZzY19zZHAuZGJbMTZdIHw9IDB4NDsKLQkJYnJlYWs7Ci0JY2FzZSBE
Uk1fTU9ERV9DT0xPUklNRVRSWV9PUFlDQ182MDE6Ci0JCXZzY19zZHAuZGJbMTZdIHw9IDB4NTsK
LQkJYnJlYWs7Ci0JY2FzZSBEUk1fTU9ERV9DT0xPUklNRVRSWV9CVDIwMjBfQ1lDQzoKLQljYXNl
IERSTV9NT0RFX0NPTE9SSU1FVFJZX0JUMjAyMF9SR0I6Ci0JCXZzY19zZHAuZGJbMTZdIHw9IDB4
NjsKLQkJYnJlYWs7Ci0JY2FzZSBEUk1fTU9ERV9DT0xPUklNRVRSWV9CVDIwMjBfWUNDOgotCQl2
c2Nfc2RwLmRiWzE2XSB8PSAweDc7Ci0JCWJyZWFrOwotCWNhc2UgRFJNX01PREVfQ09MT1JJTUVU
UllfRENJX1AzX1JHQl9ENjU6Ci0JY2FzZSBEUk1fTU9ERV9DT0xPUklNRVRSWV9EQ0lfUDNfUkdC
X1RIRUFURVI6Ci0JCXZzY19zZHAuZGJbMTZdIHw9IDB4NDsgLyogRENJLVAzIChTTVBURSBSUCA0
MzEtMikgKi8KLQkJYnJlYWs7Ci0JZGVmYXVsdDoKLQkJLyogc1JHQiAoSUVDIDYxOTY2LTItMSkg
LyBJVFUtUiBCVC42MDE6IERCMTZbMDozXSA9IDBoICovCi0KLQkJLyogUkdCLT5ZQ0JDUiBjb2xv
ciBjb252ZXJzaW9uIHVzZXMgdGhlIEJULjcwOSBjb2xvciBzcGFjZS4gKi8KLQkJaWYgKGNydGNf
c3RhdGUtPm91dHB1dF9mb3JtYXQgPT0gSU5URUxfT1VUUFVUX0ZPUk1BVF9ZQ0JDUjQyMCkKLQkJ
CXZzY19zZHAuZGJbMTZdIHw9IDB4MTsgLyogMHgxLCBJVFUtUiBCVC43MDkgKi8KLQkJYnJlYWs7
Ci0JfQotCi0JLyoKLQkgKiBGb3IgcGl4ZWwgZW5jb2RpbmcgZm9ybWF0cyBZQ2JDcjQ0NCwgWUNi
Q3I0MjIsIFlDYkNyNDIwLCBhbmQgWSBPbmx5LAotCSAqIHRoZSBmb2xsb3dpbmcgQ29tcG9uZW50
IEJpdCBEZXB0aCB2YWx1ZXMgYXJlIGRlZmluZWQ6Ci0JICogMDAxYiA9IDhicGMuCi0JICogMDEw
YiA9IDEwYnBjLgotCSAqIDAxMWIgPSAxMmJwYy4KLQkgKiAxMDBiID0gMTZicGMuCi0JICovCi0J
c3dpdGNoIChjcnRjX3N0YXRlLT5waXBlX2JwcCkgewotCWNhc2UgMjQ6IC8qIDhicGMgKi8KLQkJ
dnNjX3NkcC5kYlsxN10gPSAweDE7Ci0JCWJyZWFrOwotCWNhc2UgMzA6IC8qIDEwYnBjICovCi0J
CXZzY19zZHAuZGJbMTddID0gMHgyOwotCQlicmVhazsKLQljYXNlIDM2OiAvKiAxMmJwYyAqLwot
CQl2c2Nfc2RwLmRiWzE3XSA9IDB4MzsKLQkJYnJlYWs7Ci0JY2FzZSA0ODogLyogMTZicGMgKi8K
LQkJdnNjX3NkcC5kYlsxN10gPSAweDQ7Ci0JCWJyZWFrOwotCWRlZmF1bHQ6Ci0JCU1JU1NJTkdf
Q0FTRShjcnRjX3N0YXRlLT5waXBlX2JwcCk7Ci0JCWJyZWFrOwotCX0KLQotCS8qCi0JICogRHlu
YW1pYyBSYW5nZSAoQml0IDcpCi0JICogMCA9IFZFU0EgcmFuZ2UsIDEgPSBDVEEgcmFuZ2UuCi0J
ICogYWxsIFlDYkNyIGFyZSBhbHdheXMgbGltaXRlZCByYW5nZQotCSAqLwotCXZzY19zZHAuZGJb
MTddIHw9IDB4ODA7Ci0KLQkvKgotCSAqIENvbnRlbnQgVHlwZSAoQml0cyAyOjApCi0JICogMDAw
YiA9IE5vdCBkZWZpbmVkLgotCSAqIDAwMWIgPSBHcmFwaGljcy4KLQkgKiAwMTBiID0gUGhvdG8u
Ci0JICogMDExYiA9IFZpZGVvLgotCSAqIDEwMGIgPSBHYW1lCi0JICogQWxsIG90aGVyIHZhbHVl
cyBhcmUgUkVTRVJWRUQuCi0JICogTm90ZTogU2VlIENUQS04NjEtRyBmb3IgdGhlIGRlZmluaXRp
b24gYW5kIGV4cGVjdGVkCi0JICogcHJvY2Vzc2luZyBieSBhIHN0cmVhbSBzaW5rIGZvciB0aGUg
YWJvdmUgY29udGVjdCB0eXBlcy4KLQkgKi8KLQl2c2Nfc2RwLmRiWzE4XSA9IDA7Ci0KLQlpbnRl
bF9kaWdfcG9ydC0+d3JpdGVfaW5mb2ZyYW1lKCZpbnRlbF9kaWdfcG9ydC0+YmFzZSwKLQkJCWNy
dGNfc3RhdGUsIERQX1NEUF9WU0MsICZ2c2Nfc2RwLCBzaXplb2YodnNjX3NkcCkpOwotfQotCi1z
dGF0aWMgdm9pZAotaW50ZWxfZHBfc2V0dXBfaGRyX21ldGFkYXRhX2luZm9mcmFtZV9zZHAoc3Ry
dWN0IGludGVsX2RwICppbnRlbF9kcCwKLQkJCQkJICBjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19z
dGF0ZSAqY3J0Y19zdGF0ZSwKLQkJCQkJICBjb25zdCBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9zdGF0
ZSAqY29ubl9zdGF0ZSkKLXsKLQlzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICppbnRlbF9kaWdf
cG9ydCA9IGRwX3RvX2RpZ19wb3J0KGludGVsX2RwKTsKLQlzdHJ1Y3QgZHBfc2RwIGluZm9mcmFt
ZV9zZHAgPSB7fTsKLQlzdHJ1Y3QgaGRtaV9kcm1faW5mb2ZyYW1lIGRybV9pbmZvZnJhbWUgPSB7
fTsKLQljb25zdCBpbnQgaW5mb2ZyYW1lX3NpemUgPSBIRE1JX0lORk9GUkFNRV9IRUFERVJfU0la
RSArIEhETUlfRFJNX0lORk9GUkFNRV9TSVpFOwotCXVuc2lnbmVkIGNoYXIgYnVmW0hETUlfSU5G
T0ZSQU1FX0hFQURFUl9TSVpFICsgSERNSV9EUk1fSU5GT0ZSQU1FX1NJWkVdOwotCXNzaXplX3Qg
bGVuOwotCWludCByZXQ7Ci0KLQlyZXQgPSBkcm1faGRtaV9pbmZvZnJhbWVfc2V0X2hkcl9tZXRh
ZGF0YSgmZHJtX2luZm9mcmFtZSwgY29ubl9zdGF0ZSk7Ci0JaWYgKHJldCkgewotCQlEUk1fREVC
VUdfS01TKCJjb3VsZG4ndCBzZXQgSERSIG1ldGFkYXRhIGluIGluZm9mcmFtZVxuIik7Ci0JCXJl
dHVybjsKLQl9Ci0KLQlsZW4gPSBoZG1pX2RybV9pbmZvZnJhbWVfcGFja19vbmx5KCZkcm1faW5m
b2ZyYW1lLCBidWYsIHNpemVvZihidWYpKTsKLQlpZiAobGVuIDwgMCkgewotCQlEUk1fREVCVUdf
S01TKCJidWZmZXIgc2l6ZSBpcyBzbWFsbGVyIHRoYW4gaGRyIG1ldGFkYXRhIGluZm9mcmFtZVxu
Iik7Ci0JCXJldHVybjsKLQl9Ci0KLQlpZiAobGVuICE9IGluZm9mcmFtZV9zaXplKSB7Ci0JCURS
TV9ERUJVR19LTVMoIndyb25nIHN0YXRpYyBoZHIgbWV0YWRhdGEgc2l6ZVxuIik7Ci0JCXJldHVy
bjsKLQl9Ci0KLQkvKgotCSAqIFNldCB1cCB0aGUgaW5mb2ZyYW1lIHNkcCBwYWNrZXQgZm9yIEhE
UiBzdGF0aWMgbWV0YWRhdGEuCi0JICogUHJlcGFyZSBWU0MgSGVhZGVyIGZvciBTVSBhcyBwZXIg
RFAgMS40YSBzcGVjLAotCSAqIFRhYmxlIDItMTAwIGFuZCBUYWJsZSAyLTEwMQotCSAqLwotCi0J
LyogUGFja2V0IElELCAwMGggZm9yIG5vbi1BdWRpbyBJTkZPRlJBTUUgKi8KLQlpbmZvZnJhbWVf
c2RwLnNkcF9oZWFkZXIuSEIwID0gMDsKLQkvKgotCSAqIFBhY2tldCBUeXBlIDgwaCArIE5vbi1h
dWRpbyBJTkZPRlJBTUUgVHlwZSB2YWx1ZQotCSAqIEhETUlfSU5GT0ZSQU1FX1RZUEVfRFJNOiAw
eDg3LAotCSAqLwotCWluZm9mcmFtZV9zZHAuc2RwX2hlYWRlci5IQjEgPSBkcm1faW5mb2ZyYW1l
LnR5cGU7Ci0JLyoKLQkgKiBMZWFzdCBTaWduaWZpY2FudCBFaWdodCBCaXRzIG9mIChEYXRhIEJ5
dGUgQ291bnQg4oCTIDEpCi0JICogaW5mb2ZyYW1lX3NpemUgLSAxLAotCSAqLwotCWluZm9mcmFt
ZV9zZHAuc2RwX2hlYWRlci5IQjIgPSAweDFEOwotCS8qIElORk9GUkFNRSBTRFAgVmVyc2lvbiBO
dW1iZXIgKi8KLQlpbmZvZnJhbWVfc2RwLnNkcF9oZWFkZXIuSEIzID0gKDB4MTMgPDwgMik7Ci0J
LyogQ1RBIEhlYWRlciBCeXRlIDIgKElORk9GUkFNRSBWZXJzaW9uIE51bWJlcikgKi8KLQlpbmZv
ZnJhbWVfc2RwLmRiWzBdID0gZHJtX2luZm9mcmFtZS52ZXJzaW9uOwotCS8qIENUQSBIZWFkZXIg
Qnl0ZSAzIChMZW5ndGggb2YgSU5GT0ZSQU1FKTogSERNSV9EUk1fSU5GT0ZSQU1FX1NJWkUgKi8K
LQlpbmZvZnJhbWVfc2RwLmRiWzFdID0gZHJtX2luZm9mcmFtZS5sZW5ndGg7Ci0JLyoKLQkgKiBD
b3B5IEhETUlfRFJNX0lORk9GUkFNRV9TSVpFIHNpemUgZnJvbSBhIGJ1ZmZlciBhZnRlcgotCSAq
IEhETUlfSU5GT0ZSQU1FX0hFQURFUl9TSVpFCi0JICovCi0JQlVJTERfQlVHX09OKHNpemVvZihp
bmZvZnJhbWVfc2RwLmRiKSA8IEhETUlfRFJNX0lORk9GUkFNRV9TSVpFICsgMik7Ci0JbWVtY3B5
KCZpbmZvZnJhbWVfc2RwLmRiWzJdLCAmYnVmW0hETUlfSU5GT0ZSQU1FX0hFQURFUl9TSVpFXSwK
LQkgICAgICAgSERNSV9EUk1fSU5GT0ZSQU1FX1NJWkUpOwotCi0JLyoKLQkgKiBTaXplIG9mIERQ
IGluZm9mcmFtZSBzZHAgcGFja2V0IGZvciBIRFIgc3RhdGljIG1ldGFkYXRhIGlzIGNvbnNpc3Qg
b2YKLQkgKiAtIERQIFNEUCBIZWFkZXIoc3RydWN0IGRwX3NkcF9oZWFkZXIpOiA0IGJ5dGVzCi0J
ICogLSBUd28gRGF0YSBCbG9ja3M6IDIgYnl0ZXMKLQkgKiAgICBDVEEgSGVhZGVyIEJ5dGUyIChJ
TkZPRlJBTUUgVmVyc2lvbiBOdW1iZXIpCi0JICogICAgQ1RBIEhlYWRlciBCeXRlMyAoTGVuZ3Ro
IG9mIElORk9GUkFNRSkKLQkgKiAtIEhETUlfRFJNX0lORk9GUkFNRV9TSVpFOiAyNiBieXRlcwot
CSAqCi0JICogUHJpb3IgdG8gR0VOMTEncyBHTVAgcmVnaXN0ZXIgc2l6ZSBpcyBpZGVudGljYWwg
dG8gRFAgSERSIHN0YXRpYyBtZXRhZGF0YQotCSAqIGluZm9mcmFtZSBzaXplLiBCdXQgR0VOMTEr
IGhhcyBsYXJnZXIgdGhhbiB0aGF0IHNpemUsIHdyaXRlX2luZm9mcmFtZQotCSAqIHdpbGwgcGFk
IHJlc3Qgb2YgdGhlIHNpemUuCi0JICovCi0JaW50ZWxfZGlnX3BvcnQtPndyaXRlX2luZm9mcmFt
ZSgmaW50ZWxfZGlnX3BvcnQtPmJhc2UsIGNydGNfc3RhdGUsCi0JCQkJCUhETUlfUEFDS0VUX1RZ
UEVfR0FNVVRfTUVUQURBVEEsCi0JCQkJCSZpbmZvZnJhbWVfc2RwLAotCQkJCQlzaXplb2Yoc3Ry
dWN0IGRwX3NkcF9oZWFkZXIpICsgMiArIEhETUlfRFJNX0lORk9GUkFNRV9TSVpFKTsKLX0KLQot
dm9pZCBpbnRlbF9kcF92c2NfZW5hYmxlKHN0cnVjdCBpbnRlbF9kcCAqaW50ZWxfZHAsCi0JCQkg
Y29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUsCi0JCQkgY29uc3Qgc3Ry
dWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKmNvbm5fc3RhdGUpCi17Ci0JaWYgKCFpbnRlbF9kcF9u
ZWVkc192c2Nfc2RwKGNydGNfc3RhdGUsIGNvbm5fc3RhdGUpKQotCQlyZXR1cm47Ci0KLQlpbnRl
bF9kcF9zZXR1cF92c2Nfc2RwKGludGVsX2RwLCBjcnRjX3N0YXRlLCBjb25uX3N0YXRlKTsKLX0K
LQotdm9pZCBpbnRlbF9kcF9oZHJfbWV0YWRhdGFfZW5hYmxlKHN0cnVjdCBpbnRlbF9kcCAqaW50
ZWxfZHAsCi0JCQkJICBjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSwK
LQkJCQkgIGNvbnN0IHN0cnVjdCBkcm1fY29ubmVjdG9yX3N0YXRlICpjb25uX3N0YXRlKQotewot
CWlmICghY29ubl9zdGF0ZS0+aGRyX291dHB1dF9tZXRhZGF0YSkKLQkJcmV0dXJuOwotCi0JaW50
ZWxfZHBfc2V0dXBfaGRyX21ldGFkYXRhX2luZm9mcmFtZV9zZHAoaW50ZWxfZHAsCi0JCQkJCQkg
IGNydGNfc3RhdGUsCi0JCQkJCQkgIGNvbm5fc3RhdGUpOwotfQotCiBzdGF0aWMgdTggaW50ZWxf
ZHBfYXV0b3Rlc3RfbGlua190cmFpbmluZyhzdHJ1Y3QgaW50ZWxfZHAgKmludGVsX2RwKQogewog
CWludCBzdGF0dXMgPSAwOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9kcC5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcC5oCmlu
ZGV4IDAzYjMwMGI1OGZkMC4uNmQ4MDAzZWI1OWY2IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF9kcC5oCkBAIC0xMTIsMTIgKzExMiw2IEBAIGludCBpbnRlbF9kcF9saW5rX3Jl
cXVpcmVkKGludCBwaXhlbF9jbG9jaywgaW50IGJwcCk7CiBpbnQgaW50ZWxfZHBfbWF4X2RhdGFf
cmF0ZShpbnQgbWF4X2xpbmtfY2xvY2ssIGludCBtYXhfbGFuZXMpOwogYm9vbCBpbnRlbF9kcF9u
ZWVkc192c2Nfc2RwKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLAog
CQkJICAgIGNvbnN0IHN0cnVjdCBkcm1fY29ubmVjdG9yX3N0YXRlICpjb25uX3N0YXRlKTsKLXZv
aWQgaW50ZWxfZHBfdnNjX2VuYWJsZShzdHJ1Y3QgaW50ZWxfZHAgKmludGVsX2RwLAotCQkJIGNv
bnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLAotCQkJIGNvbnN0IHN0cnVj
dCBkcm1fY29ubmVjdG9yX3N0YXRlICpjb25uX3N0YXRlKTsKLXZvaWQgaW50ZWxfZHBfaGRyX21l
dGFkYXRhX2VuYWJsZShzdHJ1Y3QgaW50ZWxfZHAgKmludGVsX2RwLAotCQkJCSAgY29uc3Qgc3Ry
dWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUsCi0JCQkJICBjb25zdCBzdHJ1Y3QgZHJt
X2Nvbm5lY3Rvcl9zdGF0ZSAqY29ubl9zdGF0ZSk7CiB2b2lkIGludGVsX2RwX3NldF9pbmZvZnJh
bWVzKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLCBib29sIGVuYWJsZSwKIAkJCSAgICAg
Y29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUsCiAJCQkgICAgIGNvbnN0
IHN0cnVjdCBkcm1fY29ubmVjdG9yX3N0YXRlICpjb25uX3N0YXRlKTsKLS0gCjIuMjQuMQoKX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1h
aWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVsCg==
