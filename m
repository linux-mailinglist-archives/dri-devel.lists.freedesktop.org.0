Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 13A7D25D7FC
	for <lists+dri-devel@lfdr.de>; Fri,  4 Sep 2020 13:54:28 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8A9906EB58;
	Fri,  4 Sep 2020 11:54:25 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 57B3F6EB5B;
 Fri,  4 Sep 2020 11:54:24 +0000 (UTC)
IronPort-SDR: M66ABBtlK0T4+7KrYdVLkbY6aKmUo/dtO9fEqvbXHrJdcs9Pd8Mp5xG0BCvI4HQGnGlxpLb4Uw
 jKMu9bDCdJ6Q==
X-IronPort-AV: E=McAfee;i="6000,8403,9733"; a="137248536"
X-IronPort-AV: E=Sophos;i="5.76,389,1592895600"; d="scan'208";a="137248536"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga008.fm.intel.com ([10.253.24.58])
 by fmsmga106.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 04 Sep 2020 04:54:23 -0700
IronPort-SDR: wdiUvu/Dw92VYO2hfziNP+mMpEJeUTqPYy5of0qPow9udgkHBIh9LJ45Fra3QdQlf7jScII2eI
 34GRQ62aBsYQ==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.76,389,1592895600"; d="scan'208";a="284396844"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by fmsmga008.fm.intel.com with SMTP; 04 Sep 2020 04:54:21 -0700
Received: by stinkbox (sSMTP sendmail emulation);
 Fri, 04 Sep 2020 14:54:20 +0300
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH v2 08/18] drm/dp: Redo drm_dp_downstream_max_clock() as
 drm_dp_downstream_max_dotclock()
Date: Fri,  4 Sep 2020 14:53:44 +0300
Message-Id: <20200904115354.25336-9-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.26.2
In-Reply-To: <20200904115354.25336-1-ville.syrjala@linux.intel.com>
References: <20200904115354.25336-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KCldl
IHdhbnQgdG8gZGlmZmVyZW50aWF0ZSBiZXR3ZWVuIHRoZSBERlAgZG90Y2xvY2sgYW5kIFRNRFMg
Y2xvY2sKbGltaXRzLiBMZXQncyBjb252ZXJ0IHRoZSBjdXJyZW50IHRoaW5nIHRvIGp1c3QgZ2l2
ZSB1cyB0aGUKZG90Y2xvY2sgbGltaXQuCgpTaWduZWQtb2ZmLWJ5OiBWaWxsZSBTeXJqw6Rsw6Qg
PHZpbGxlLnN5cmphbGFAbGludXguaW50ZWwuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9kcm1f
ZHBfaGVscGVyLmMgICAgICAgICB8IDQ2ICsrKysrKysrKy0tLS0tLS0tLS0tLS0tLS0KIGRyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYyB8ICA0ICstLQogaW5jbHVkZS9kcm0v
ZHJtX2RwX2hlbHBlci5oICAgICAgICAgICAgIHwgIDQgKy0tCiAzIGZpbGVzIGNoYW5nZWQsIDIw
IGluc2VydGlvbnMoKyksIDM0IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9kcm1fZHBfaGVscGVyLmMgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2RwX2hlbHBlci5jCmlu
ZGV4IGFiODcyMDljMjVkOC4uODIyYTMwZTYwOWVmIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vZHJtX2RwX2hlbHBlci5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fZHBfaGVscGVyLmMK
QEAgLTYxNiw0MSArNjE2LDMyIEBAIGludCBkcm1fZHBfcmVhZF9kb3duc3RyZWFtX2luZm8oc3Ry
dWN0IGRybV9kcF9hdXggKmF1eCwKIEVYUE9SVF9TWU1CT0woZHJtX2RwX3JlYWRfZG93bnN0cmVh
bV9pbmZvKTsKIAogLyoqCi0gKiBkcm1fZHBfZG93bnN0cmVhbV9tYXhfY2xvY2soKSAtIGV4dHJh
Y3QgYnJhbmNoIGRldmljZSBtYXgKLSAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
cGl4ZWwgcmF0ZSBmb3IgbGVnYWN5IFZHQQotICogICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBjb252ZXJ0ZXIgb3IgbWF4IFRNRFMgY2xvY2sKLSAqICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgcmF0ZSBmb3Igb3RoZXJzCisgKiBkcm1fZHBfZG93bnN0cmVhbV9tYXhfZG90
Y2xvY2soKSAtIGV4dHJhY3QgZG93bnN0cmVhbSBmYWNpbmcgcG9ydCBtYXggZG90IGNsb2NrCiAg
KiBAZHBjZDogRGlzcGxheVBvcnQgY29uZmlndXJhdGlvbiBkYXRhCiAgKiBAcG9ydF9jYXA6IHBv
cnQgY2FwYWJpbGl0aWVzCiAgKgotICogU2VlIGFsc286Ci0gKiBkcm1fZHBfcmVhZF9kb3duc3Ry
ZWFtX2luZm8oKQotICogZHJtX2RwX2Rvd25zdHJlYW1fbWF4X2JwYygpCi0gKgotICogUmV0dXJu
czogTWF4IGNsb2NrIGluIGtIeiBvbiBzdWNjZXNzIG9yIDAgaWYgbWF4IGNsb2NrIG5vdCBkZWZp
bmVkCisgKiBSZXR1cm5zIGRvd25zdHJlYW0gZmFjaW5nIHBvcnQgbWF4IGRvdCBjbG9jayBpbiBr
SHogb24gc3VjY2VzcywKKyAqIG9yIDAgaWYgbWF4IGNsb2NrIG5vdCBkZWZpbmVkCiAgKi8KLWlu
dCBkcm1fZHBfZG93bnN0cmVhbV9tYXhfY2xvY2soY29uc3QgdTggZHBjZFtEUF9SRUNFSVZFUl9D
QVBfU0laRV0sCi0JCQkJY29uc3QgdTggcG9ydF9jYXBbNF0pCitpbnQgZHJtX2RwX2Rvd25zdHJl
YW1fbWF4X2RvdGNsb2NrKGNvbnN0IHU4IGRwY2RbRFBfUkVDRUlWRVJfQ0FQX1NJWkVdLAorCQkJ
CSAgIGNvbnN0IHU4IHBvcnRfY2FwWzRdKQogewotCWludCB0eXBlID0gcG9ydF9jYXBbMF0gJiBE
UF9EU19QT1JUX1RZUEVfTUFTSzsKLQlib29sIGRldGFpbGVkX2NhcF9pbmZvID0gZHBjZFtEUF9E
T1dOU1RSRUFNUE9SVF9QUkVTRU5UXSAmCi0JCURQX0RFVEFJTEVEX0NBUF9JTkZPX0FWQUlMQUJM
RTsKKwlpZiAoIWRybV9kcF9pc19icmFuY2goZHBjZCkpCisJCXJldHVybiAwOwogCi0JaWYgKCFk
ZXRhaWxlZF9jYXBfaW5mbykKKwlpZiAoZHBjZFtEUF9EUENEX1JFVl0gPCAweDExKQogCQlyZXR1
cm4gMDsKIAotCXN3aXRjaCAodHlwZSkgeworCXN3aXRjaCAocG9ydF9jYXBbMF0gJiBEUF9EU19Q
T1JUX1RZUEVfTUFTSykgewogCWNhc2UgRFBfRFNfUE9SVF9UWVBFX1ZHQToKLQkJcmV0dXJuIHBv
cnRfY2FwWzFdICogOCAqIDEwMDA7Ci0JY2FzZSBEUF9EU19QT1JUX1RZUEVfRFZJOgotCWNhc2Ug
RFBfRFNfUE9SVF9UWVBFX0hETUk6Ci0JY2FzZSBEUF9EU19QT1JUX1RZUEVfRFBfRFVBTE1PREU6
Ci0JCXJldHVybiBwb3J0X2NhcFsxXSAqIDI1MDA7CisJCWlmICgoZHBjZFtEUF9ET1dOU1RSRUFN
UE9SVF9QUkVTRU5UXSAmIERQX0RFVEFJTEVEX0NBUF9JTkZPX0FWQUlMQUJMRSkgPT0gMCkKKwkJ
CXJldHVybiAwOworCQlyZXR1cm4gcG9ydF9jYXBbMV0gKiA4MDAwOwogCWRlZmF1bHQ6CiAJCXJl
dHVybiAwOwogCX0KIH0KLUVYUE9SVF9TWU1CT0woZHJtX2RwX2Rvd25zdHJlYW1fbWF4X2Nsb2Nr
KTsKK0VYUE9SVF9TWU1CT0woZHJtX2RwX2Rvd25zdHJlYW1fbWF4X2RvdGNsb2NrKTsKIAogLyoq
CiAgICogZHJtX2RwX2Rvd25zdHJlYW1fbWF4X2JwYygpIC0gZXh0cmFjdCBkb3duc3RyZWFtIGZh
Y2luZyBwb3J0IG1heApAQCAtNzkzLDE0ICs3ODQsOSBAQCB2b2lkIGRybV9kcF9kb3duc3RyZWFt
X2RlYnVnKHN0cnVjdCBzZXFfZmlsZSAqbSwKIAkJc2VxX3ByaW50ZihtLCAiXHRcdFNXOiAlZC4l
ZFxuIiwgcmV2WzBdLCByZXZbMV0pOwogCiAJaWYgKGRldGFpbGVkX2NhcF9pbmZvKSB7Ci0JCWNs
ayA9IGRybV9kcF9kb3duc3RyZWFtX21heF9jbG9jayhkcGNkLCBwb3J0X2NhcCk7Ci0KLQkJaWYg
KGNsayA+IDApIHsKLQkJCWlmICh0eXBlID09IERQX0RTX1BPUlRfVFlQRV9WR0EpCi0JCQkJc2Vx
X3ByaW50ZihtLCAiXHRcdE1heCBkb3QgY2xvY2s6ICVkIGtIelxuIiwgY2xrKTsKLQkJCWVsc2UK
LQkJCQlzZXFfcHJpbnRmKG0sICJcdFx0TWF4IFRNRFMgY2xvY2s6ICVkIGtIelxuIiwgY2xrKTsK
LQkJfQorCQljbGsgPSBkcm1fZHBfZG93bnN0cmVhbV9tYXhfZG90Y2xvY2soZHBjZCwgcG9ydF9j
YXApOworCQlpZiAoY2xrID4gMCkKKwkJCXNlcV9wcmludGYobSwgIlx0XHRNYXggZG90IGNsb2Nr
OiAlZCBrSHpcbiIsIGNsayk7CiAKIAkJYnBjID0gZHJtX2RwX2Rvd25zdHJlYW1fbWF4X2JwYyhk
cGNkLCBwb3J0X2NhcCwgZWRpZCk7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfZHAuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
ZHAuYwppbmRleCBjNzNiM2VmZDg0ZTAuLjhmNGFlZTM1YzIwMyAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfZHAuYwpAQCAtMjYxLDggKzI2MSw4IEBAIGludGVsX2RwX2Rvd25z
dHJlYW1fbWF4X2RvdGNsb2NrKHN0cnVjdCBpbnRlbF9kcCAqaW50ZWxfZHApCiAJaWYgKHR5cGUg
IT0gRFBfRFNfUE9SVF9UWVBFX1ZHQSkKIAkJcmV0dXJuIG1heF9kb3RjbGs7CiAKLQlkc19tYXhf
ZG90Y2xrID0gZHJtX2RwX2Rvd25zdHJlYW1fbWF4X2Nsb2NrKGludGVsX2RwLT5kcGNkLAotCQkJ
CQkJICAgIGludGVsX2RwLT5kb3duc3RyZWFtX3BvcnRzKTsKKwlkc19tYXhfZG90Y2xrID0gZHJt
X2RwX2Rvd25zdHJlYW1fbWF4X2RvdGNsb2NrKGludGVsX2RwLT5kcGNkLAorCQkJCQkJICAgICAg
IGludGVsX2RwLT5kb3duc3RyZWFtX3BvcnRzKTsKIAogCWlmIChkc19tYXhfZG90Y2xrICE9IDAp
CiAJCW1heF9kb3RjbGsgPSBtaW4obWF4X2RvdGNsaywgZHNfbWF4X2RvdGNsayk7CmRpZmYgLS1n
aXQgYS9pbmNsdWRlL2RybS9kcm1fZHBfaGVscGVyLmggYi9pbmNsdWRlL2RybS9kcm1fZHBfaGVs
cGVyLmgKaW5kZXggNjIxOGRlMTI5NGMxLi4xOWJjMDQyMDc3ODggMTAwNjQ0Ci0tLSBhL2luY2x1
ZGUvZHJtL2RybV9kcF9oZWxwZXIuaAorKysgYi9pbmNsdWRlL2RybS9kcm1fZHBfaGVscGVyLmgK
QEAgLTE2NDMsOCArMTY0Myw4IEBAIGJvb2wgZHJtX2RwX2Rvd25zdHJlYW1faXNfdHlwZShjb25z
dCB1OCBkcGNkW0RQX1JFQ0VJVkVSX0NBUF9TSVpFXSwKIGJvb2wgZHJtX2RwX2Rvd25zdHJlYW1f
aXNfdG1kcyhjb25zdCB1OCBkcGNkW0RQX1JFQ0VJVkVSX0NBUF9TSVpFXSwKIAkJCSAgICAgICBj
b25zdCB1OCBwb3J0X2NhcFs0XSwKIAkJCSAgICAgICBjb25zdCBzdHJ1Y3QgZWRpZCAqZWRpZCk7
Ci1pbnQgZHJtX2RwX2Rvd25zdHJlYW1fbWF4X2Nsb2NrKGNvbnN0IHU4IGRwY2RbRFBfUkVDRUlW
RVJfQ0FQX1NJWkVdLAotCQkJCWNvbnN0IHU4IHBvcnRfY2FwWzRdKTsKK2ludCBkcm1fZHBfZG93
bnN0cmVhbV9tYXhfZG90Y2xvY2soY29uc3QgdTggZHBjZFtEUF9SRUNFSVZFUl9DQVBfU0laRV0s
CisJCQkJICAgY29uc3QgdTggcG9ydF9jYXBbNF0pOwogaW50IGRybV9kcF9kb3duc3RyZWFtX21h
eF9icGMoY29uc3QgdTggZHBjZFtEUF9SRUNFSVZFUl9DQVBfU0laRV0sCiAJCQkgICAgICBjb25z
dCB1OCBwb3J0X2NhcFs0XSwKIAkJCSAgICAgIGNvbnN0IHN0cnVjdCBlZGlkICplZGlkKTsKLS0g
CjIuMjYuMgoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18K
ZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0
dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVsCg==
