Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 243951A3B63
	for <lists+dri-devel@lfdr.de>; Thu,  9 Apr 2020 22:34:31 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C4A016E270;
	Thu,  9 Apr 2020 20:34:26 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ed1-x541.google.com (mail-ed1-x541.google.com
 [IPv6:2a00:1450:4864:20::541])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 5F9136E270
 for <dri-devel@lists.freedesktop.org>; Thu,  9 Apr 2020 20:34:25 +0000 (UTC)
Received: by mail-ed1-x541.google.com with SMTP id cb27so1596729edb.11
 for <dri-devel@lists.freedesktop.org>; Thu, 09 Apr 2020 13:34:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=CvdErTO6U0il2KD8DgCYbTp6haBW7g9kcMjS1ob9sTc=;
 b=AyoM/WW9Y/joWJhvLud14aFplTN+uxQLlkR6Il+9aZmzLG/xF73kvQoVIec9EX00dz
 kqooHptAUMkN25VjadVm/Hk724Gt+lzbjZ/N/kT5y52t1Q36DTtTe/IIUdd7ZLeCffZ+
 qq7u89gTnsD7s0STrxfcQc+DKFhNIQ7Hg12xEzlCYPkEEvQUeR4pv9YrvDQtPo48UwT7
 u+YzIxB4Sk4lbpLAHDie0FfLLFjqbPHo1ORx2weryPcPR6G58NMeNfOCjRu6KY2Fl3aL
 8fDRyam0Hrbud2yWJ/iR+vIvuZaZg+g7/GJ4K7pL+2kcNaSLUKqqa9oeWnveY9Jl3XLj
 ma2A==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=CvdErTO6U0il2KD8DgCYbTp6haBW7g9kcMjS1ob9sTc=;
 b=MSRxUNrsoH9JrLWafV21p6tB6g88ttRQZXAyppoPtXKseBhTtCfHpu3htA2pg6PHjB
 pv0wiaucTzUGsrmy/B4++Z8d1LIzpMpYBf7AZBltxwgvie4xM+UsG0r0JyRTSTewc4Aw
 LHvDBDA6GZ4pLbjWkTUxeZBBuf0W0NpBg0+Wq9utODYqCDOJYt4bHhtvGvtXx7zUabwW
 GJ35QwMpXhVc4QplEZzv7hBdIJ9Y0Kl6WXQ8OIqCcoICenLeNsnD9KgPcJY2ms+FiivE
 SJ+tCFno2uYYt/rMds3kQflQrRZCN+iuZlABsgh/KPp1+/PTWc9ANY14goR9HovPyWaN
 dSJQ==
X-Gm-Message-State: AGi0PubSGt+w9tP2l9zl4rFZF0wjL/3YiTdKTfB1GUVfKfYdKaatTTk/
 ky7dSyaiLLigUWQWjSzqj9peA9DUVDMXd5XAF5U=
X-Google-Smtp-Source: APiQypKgyNagTaee47bpfXgt6UsYLQUOhCh39aR+S834vUw5O7lePHdKeVGR2+DetAZBmAjhT6ueOXRb0HyAWRXsT3o=
X-Received: by 2002:a17:906:484:: with SMTP id f4mr838021eja.61.1586464463482; 
 Thu, 09 Apr 2020 13:34:23 -0700 (PDT)
MIME-Version: 1.0
References: <20200409164925.11912-1-thomas_os@shipmail.org>
 <85a0a97b-0c8f-9121-94de-1f794c2bd294@shipmail.org>
In-Reply-To: <85a0a97b-0c8f-9121-94de-1f794c2bd294@shipmail.org>
From: Dave Airlie <airlied@gmail.com>
Date: Fri, 10 Apr 2020 06:34:11 +1000
Message-ID: <CAPM=9tyj+M2du6qgzK7+vHuN+jaSMzoKX8jBqrPsf31LoOmdeQ@mail.gmail.com>
Subject: Re: [PATCH] drm/ttm: Temporarily disable the huge_fault() callback
To: =?UTF-8?Q?Thomas_Hellstr=C3=B6m_=28VMware=29?= <thomas_os@shipmail.org>
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Alex Xu <alex_y_xu@yahoo.ca>, Dave Airlie <airlied@redhat.com>,
 =?UTF-8?Q?Christian_K=C3=B6nig?= <christian.koenig@amd.com>,
 dri-devel <dri-devel@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gRnJpLCAxMCBBcHIgMjAyMCBhdCAwMjo1MSwgVGhvbWFzIEhlbGxzdHLDtm0gKFZNd2FyZSkK
PHRob21hc19vc0BzaGlwbWFpbC5vcmc+IHdyb3RlOgo+Cj4gRGF2ZSwgQ2hyaXN0aWFuLAo+Cj4g
Q291bGQgYW55IG9mIHlvdSBwaWNrIHRoaXMgdXAgKEknbSBjdXJyZW50bHkgb24gdmFjYXRpb24p
IHRvIGhhdmUgYQo+IGNoYW5jZSBvZiBnZXR0aW5nIGl0IGluIGJlZm9yZSAtcmMxPwoKSSdsbCBw
dWxsIHRoaXMgaW4gZGlyZWN0bHkgdG8gZml4ZXMgdG9kYXkuCgpEYXZlLgoKPiBUaGFua3MsCj4g
VGhvbWFzCj4KPgo+IE9uIDQvOS8yMCA2OjQ5IFBNLCBUaG9tYXMgSGVsbHN0csO2bSAoVk13YXJl
KSB3cm90ZToKPiA+IEZyb206ICJUaG9tYXMgSGVsbHN0cm9tIChWTXdhcmUpIiA8dGhvbWFzX29z
QHNoaXBtYWlsLm9yZz4KPiA+Cj4gPiBXaXRoIGFtZGdwdSBhbmQgQ09ORklHX1RSQU5TUEFSRU5U
X0hVR0VQQUdFX0FMV0FZUz15LCB0aGVyZSBhcmUKPiA+IGVycm9ycyBsaWtlOgo+ID4gQlVHOiBu
b24temVybyBwZ3RhYmxlc19ieXRlcyBvbiBmcmVlaW5nIG1tCj4gPiBhbmQ6Cj4gPiBCVUc6IEJh
ZCByc3MtY291bnRlciBzdGF0ZQo+ID4gd2l0aCBUVE0gdHJhbnNwYXJlbnQgaHVnZS1wYWdlcy4K
PiA+IFVudGlsIHdlJ3ZlIGZpZ3VyZWQgb3V0IHdoYXQgb3RoZXIgVFRNIGRyaXZlcnMgZG8gZGlm
ZmVyZW50bHkgY29tcGFyZWQgdG8KPiA+IHZtd2dmeCwgZGlzYWJsZSB0aGUgaHVnZV9mYXVsdCgp
IGNhbGxiYWNrLCBlbGltaW5hdGluZyB0cmFuc2h1Z2UKPiA+IHBhZ2UtdGFibGUgZW50cmllcy4K
PiA+Cj4gPiBDYzogQ2hyaXN0aWFuIEvDtm5pZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPgo+
ID4gU2lnbmVkLW9mZi1ieTogVGhvbWFzIEhlbGxzdHJvbSAoVk13YXJlKSA8dGhvbWFzX29zQHNo
aXBtYWlsLm9yZz4KPiA+IFJlcG9ydGVkLWJ5OiBBbGV4IFh1IChIZWxsbzcxKSA8YWxleF95X3h1
QHlhaG9vLmNhPgo+ID4gVGVzdGVkLWJ5OiBBbGV4IFh1IChIZWxsbzcxKSA8YWxleF95X3h1QHlh
aG9vLmNhPgo+ID4gQWNrZWQtYnk6IENocmlzdGlhbiBLw7ZuaWcgPGNocmlzdGlhbi5rb2VuaWdA
YW1kLmNvbT4KPiA+IC0tLQo+ID4gICBkcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9ib192bS5jIHwg
NjMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCj4gPiAgIDEgZmlsZSBjaGFuZ2Vk
LCA2MyBkZWxldGlvbnMoLSkKPiA+Cj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3R0
bS90dG1fYm9fdm0uYyBiL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2JvX3ZtLmMKPiA+IGluZGV4
IDZlZTNiOTZmMGQxMy4uMGFkMzBiMTEyOTgyIDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL3R0bS90dG1fYm9fdm0uYwo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm9f
dm0uYwo+ID4gQEAgLTQ0Miw2NiArNDQyLDYgQEAgdm1fZmF1bHRfdCB0dG1fYm9fdm1fZmF1bHQo
c3RydWN0IHZtX2ZhdWx0ICp2bWYpCj4gPiAgIH0KPiA+ICAgRVhQT1JUX1NZTUJPTCh0dG1fYm9f
dm1fZmF1bHQpOwo+ID4KPiA+IC0jaWZkZWYgQ09ORklHX1RSQU5TUEFSRU5UX0hVR0VQQUdFCj4g
PiAtLyoqCj4gPiAtICogdHRtX3BncHJvdF9pc193cnByb3RlY3RpbmcgLSBJcyBhIHBhZ2UgcHJv
dGVjdGlvbiB2YWx1ZSB3cml0ZS1wcm90ZWN0aW5nPwo+ID4gLSAqIEBwcm90OiBUaGUgcGFnZSBw
cm90ZWN0aW9uIHZhbHVlCj4gPiAtICoKPiA+IC0gKiBSZXR1cm46IHRydWUgaWYgQHByb3QgaXMg
d3JpdGUtcHJvdGVjdGluZy4gZmFsc2Ugb3RoZXJ3aXNlLgo+ID4gLSAqLwo+ID4gLXN0YXRpYyBi
b29sIHR0bV9wZ3Byb3RfaXNfd3Jwcm90ZWN0aW5nKHBncHJvdF90IHByb3QpCj4gPiAtewo+ID4g
LSAgICAgLyoKPiA+IC0gICAgICAqIFRoaXMgaXMgbWVhbnQgdG8gc2F5ICJwZ3Byb3Rfd3Jwcm90
ZWN0KHByb3QpID09IHByb3QiIGluIGEgZ2VuZXJpYwo+ID4gLSAgICAgICogd2F5LiBVbmZvcnR1
bmF0ZWx5IHRoZXJlIGlzIG5vIGdlbmVyaWMgcGdwcm90X3dycHJvdGVjdC4KPiA+IC0gICAgICAq
Lwo+ID4gLSAgICAgcmV0dXJuIHB0ZV92YWwocHRlX3dycHJvdGVjdChfX3B0ZShwZ3Byb3RfdmFs
KHByb3QpKSkpID09Cj4gPiAtICAgICAgICAgICAgIHBncHJvdF92YWwocHJvdCk7Cj4gPiAtfQo+
ID4gLQo+ID4gLXN0YXRpYyB2bV9mYXVsdF90IHR0bV9ib192bV9odWdlX2ZhdWx0KHN0cnVjdCB2
bV9mYXVsdCAqdm1mLAo+ID4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVu
dW0gcGFnZV9lbnRyeV9zaXplIHBlX3NpemUpCj4gPiAtewo+ID4gLSAgICAgc3RydWN0IHZtX2Fy
ZWFfc3RydWN0ICp2bWEgPSB2bWYtPnZtYTsKPiA+IC0gICAgIHBncHJvdF90IHByb3Q7Cj4gPiAt
ICAgICBzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvID0gdm1hLT52bV9wcml2YXRlX2RhdGE7
Cj4gPiAtICAgICB2bV9mYXVsdF90IHJldDsKPiA+IC0gICAgIHBnb2ZmX3QgZmF1bHRfcGFnZV9z
aXplID0gMDsKPiA+IC0gICAgIGJvb2wgd3JpdGUgPSB2bWYtPmZsYWdzICYgRkFVTFRfRkxBR19X
UklURTsKPiA+IC0KPiA+IC0gICAgIHN3aXRjaCAocGVfc2l6ZSkgewo+ID4gLSAgICAgY2FzZSBQ
RV9TSVpFX1BNRDoKPiA+IC0gICAgICAgICAgICAgZmF1bHRfcGFnZV9zaXplID0gSFBBR0VfUE1E
X1NJWkUgPj4gUEFHRV9TSElGVDsKPiA+IC0gICAgICAgICAgICAgYnJlYWs7Cj4gPiAtI2lmZGVm
IENPTkZJR19IQVZFX0FSQ0hfVFJBTlNQQVJFTlRfSFVHRVBBR0VfUFVECj4gPiAtICAgICBjYXNl
IFBFX1NJWkVfUFVEOgo+ID4gLSAgICAgICAgICAgICBmYXVsdF9wYWdlX3NpemUgPSBIUEFHRV9Q
VURfU0laRSA+PiBQQUdFX1NISUZUOwo+ID4gLSAgICAgICAgICAgICBicmVhazsKPiA+IC0jZW5k
aWYKPiA+IC0gICAgIGRlZmF1bHQ6Cj4gPiAtICAgICAgICAgICAgIFdBUk5fT05fT05DRSgxKTsK
PiA+IC0gICAgICAgICAgICAgcmV0dXJuIFZNX0ZBVUxUX0ZBTExCQUNLOwo+ID4gLSAgICAgfQo+
ID4gLQo+ID4gLSAgICAgLyogRmFsbGJhY2sgb24gd3JpdGUgZGlydHktdHJhY2tpbmcgb3IgQ09X
ICovCj4gPiAtICAgICBpZiAod3JpdGUgJiYgdHRtX3BncHJvdF9pc193cnByb3RlY3Rpbmcodm1h
LT52bV9wYWdlX3Byb3QpKQo+ID4gLSAgICAgICAgICAgICByZXR1cm4gVk1fRkFVTFRfRkFMTEJB
Q0s7Cj4gPiAtCj4gPiAtICAgICByZXQgPSB0dG1fYm9fdm1fcmVzZXJ2ZShibywgdm1mKTsKPiA+
IC0gICAgIGlmIChyZXQpCj4gPiAtICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4gPiAtCj4gPiAt
ICAgICBwcm90ID0gdm1fZ2V0X3BhZ2VfcHJvdCh2bWEtPnZtX2ZsYWdzKTsKPiA+IC0gICAgIHJl
dCA9IHR0bV9ib192bV9mYXVsdF9yZXNlcnZlZCh2bWYsIHByb3QsIDEsIGZhdWx0X3BhZ2Vfc2l6
ZSk7Cj4gPiAtICAgICBpZiAocmV0ID09IFZNX0ZBVUxUX1JFVFJZICYmICEodm1mLT5mbGFncyAm
IEZBVUxUX0ZMQUdfUkVUUllfTk9XQUlUKSkKPiA+IC0gICAgICAgICAgICAgcmV0dXJuIHJldDsK
PiA+IC0KPiA+IC0gICAgIGRtYV9yZXN2X3VubG9jayhiby0+YmFzZS5yZXN2KTsKPiA+IC0KPiA+
IC0gICAgIHJldHVybiByZXQ7Cj4gPiAtfQo+ID4gLSNlbmRpZgo+ID4gLQo+ID4gICB2b2lkIHR0
bV9ib192bV9vcGVuKHN0cnVjdCB2bV9hcmVhX3N0cnVjdCAqdm1hKQo+ID4gICB7Cj4gPiAgICAg
ICBzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvID0gdm1hLT52bV9wcml2YXRlX2RhdGE7Cj4g
PiBAQCAtNjA0LDkgKzU0NCw2IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3Qgdm1fb3BlcmF0aW9uc19z
dHJ1Y3QgdHRtX2JvX3ZtX29wcyA9IHsKPiA+ICAgICAgIC5vcGVuID0gdHRtX2JvX3ZtX29wZW4s
Cj4gPiAgICAgICAuY2xvc2UgPSB0dG1fYm9fdm1fY2xvc2UsCj4gPiAgICAgICAuYWNjZXNzID0g
dHRtX2JvX3ZtX2FjY2VzcywKPiA+IC0jaWZkZWYgQ09ORklHX1RSQU5TUEFSRU5UX0hVR0VQQUdF
Cj4gPiAtICAgICAuaHVnZV9mYXVsdCA9IHR0bV9ib192bV9odWdlX2ZhdWx0LAo+ID4gLSNlbmRp
Zgo+ID4gICB9Owo+ID4KPiA+ICAgc3RhdGljIHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqdHRt
X2JvX3ZtX2xvb2t1cChzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwKPgo+Cl9fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxp
c3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNr
dG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbAo=
