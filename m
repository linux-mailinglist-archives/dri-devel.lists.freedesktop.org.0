Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id DE50BDF590
	for <lists+dri-devel@lfdr.de>; Mon, 21 Oct 2019 21:03:20 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 5B9086E1F9;
	Mon, 21 Oct 2019 19:03:17 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-pf1-x442.google.com (mail-pf1-x442.google.com
 [IPv6:2607:f8b0:4864:20::442])
 by gabe.freedesktop.org (Postfix) with ESMTPS id DB5D26E0BA
 for <dri-devel@lists.freedesktop.org>; Mon, 21 Oct 2019 19:03:14 +0000 (UTC)
Received: by mail-pf1-x442.google.com with SMTP id q12so8987764pff.9
 for <dri-devel@lists.freedesktop.org>; Mon, 21 Oct 2019 12:03:14 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references;
 bh=DRQqeRKepL/JSDLW3vLo6HwSOQEc16CZU0/8RrAkMFI=;
 b=RUswdft5GYqcKF/FumuuMJ2EGoVcvNojS38hMu1PDjjptEywLnplttdNBdoWU8u9za
 fmCWvp9lM9Hs3PoRq3xgg78UetPJaXx6LCn5yX0UuZk6tkkHQj4wQwB9Nd8Nwas3C+jJ
 BiAF7iLhKk1yByGQqrT3wEKs9Cn5dMcuiwyRz1FJuI7F7WcqfSKoRugaVL0VXPAbPDrc
 xrTLBWRjaVnxTC98v01S06eQ8sxb/yNsv5LFkT+uaw6HGFSi0nCwpHOCHuhZOlCujBNd
 puC/LMn9RJ/e0wASivOlzeFjsMpZMcx0X7KTJqxLAdrK3BtxH0JCO5sjs5DTi4pZCid1
 0cQA==
X-Gm-Message-State: APjAAAUv0yG/5cVHc/DS85UG2ToyBwNjmCbZ2psrzpNmxkm7YMdCc/cs
 eGcBbMzqBiUim9eYIiWcJpR3ow==
X-Google-Smtp-Source: APXvYqyzICXYd3lLrQdc2ETWaJjIN3XCBKrBh3j3l+BpMrpd8/oGk2BH+Im4jh96RsnCOBbzzzK2OQ==
X-Received: by 2002:aa7:9519:: with SMTP id b25mr24875119pfp.104.1571684594253; 
 Mon, 21 Oct 2019 12:03:14 -0700 (PDT)
Received: from localhost.localdomain ([2601:1c2:680:1319:692:26ff:feda:3a81])
 by smtp.gmail.com with ESMTPSA id
 127sm16223673pfy.56.2019.10.21.12.03.12
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Mon, 21 Oct 2019 12:03:13 -0700 (PDT)
From: John Stultz <john.stultz@linaro.org>
To: lkml <linux-kernel@vger.kernel.org>
Subject: [PATCH v13 1/5] dma-buf: Add dma-buf heaps framework
Date: Mon, 21 Oct 2019 19:03:06 +0000
Message-Id: <20191021190310.85221-2-john.stultz@linaro.org>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20191021190310.85221-1-john.stultz@linaro.org>
References: <20191021190310.85221-1-john.stultz@linaro.org>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=linaro.org; s=google;
 h=from:to:cc:subject:date:message-id:in-reply-to:references;
 bh=DRQqeRKepL/JSDLW3vLo6HwSOQEc16CZU0/8RrAkMFI=;
 b=K035C+3OsnIee1+8x/ZAAb7OdoxQoXvdTBEAXky2ymrV0QwZzIxlXpP6Cb+3XvEWGo
 MYeHjc6qyeq/Cep59s/G416LhUy6gUXsIthpLYB4DleN7deZaQnFuipbLjA4+DwmYQ5u
 CW5cXKxTjFUQFG+zrxXHprhzk5bsWT7BQDGDBnqpc20F0J/tm+hzZ9zefOBa8WyL/8QF
 oeLCqY8u+swPB7DbizXbpyy6sIMrePG6mbpRy8xW+oOZwYbjqQw6ORiZ/f3NVJHs0JZC
 e8TDTP/Ve97qBDJrDR4g2R4rezziqNZ5CisBbpjeOUyn4t4gswkjo7C1uRRZjbq4kC2h
 +WWA==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Hillf Danton <hdanton@sina.com>, Sudipto Paul <Sudipto.Paul@arm.com>,
 Vincent Donnefort <Vincent.Donnefort@arm.com>, Chenbo Feng <fengc@google.com>,
 Alistair Strachan <astrachan@google.com>, Liam Mark <lmark@codeaurora.org>,
 "Andrew F. Davis" <afd@ti.com>, Christoph Hellwig <hch@infradead.org>,
 dri-devel@lists.freedesktop.org, Hridya Valsaraju <hridya@google.com>,
 Pratik Patel <pratikp@codeaurora.org>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogIkFuZHJldyBGLiBEYXZpcyIgPGFmZEB0aS5jb20+CgpUaGlzIGZyYW1ld29yayBhbGxv
d3MgYSB1bmlmaWVkIHVzZXJzcGFjZSBpbnRlcmZhY2UgZm9yIGRtYS1idWYKZXhwb3J0ZXJzLCBh
bGxvd2luZyB1c2VybGFuZCB0byBhbGxvY2F0ZSBzcGVjaWZpYyB0eXBlcyBvZiBtZW1vcnkKZm9y
IHVzZSBpbiBkbWEtYnVmIHNoYXJpbmcuCgpFYWNoIGhlYXAgaXMgZ2l2ZW4gaXRzIG93biBkZXZp
Y2Ugbm9kZSwgd2hpY2ggYSB1c2VyIGNhbiBhbGxvY2F0ZQphIGRtYS1idWYgZmQgZnJvbSB1c2lu
ZyB0aGUgRE1BX0hFQVBfSU9DX0FMTE9DLgoKVGhpcyBjb2RlIGlzIGFuIGV2b2x1aXRvbiBvZiB0
aGUgQW5kcm9pZCBJT04gaW1wbGVtZW50YXRpb24sCmFuZCBhIGJpZyB0aGFua3MgaXMgZHVlIHRv
IGl0cyBhdXRob3JzL21haW50YWluZXJzIG92ZXIgdGltZQpmb3IgdGhlaXIgZWZmb3J0OgogIFJl
YmVjY2EgU2NodWx0eiBaYXZpbiwgQ29saW4gQ3Jvc3MsIEJlbmphbWluIEdhaWduYXJkLAogIExh
dXJhIEFiYm90dCwgYW5kIG1hbnkgb3RoZXIgY29udHJpYnV0b3JzIQoKQ2M6IExhdXJhIEFiYm90
dCA8bGFiYm90dEByZWRoYXQuY29tPgpDYzogQmVuamFtaW4gR2FpZ25hcmQgPGJlbmphbWluLmdh
aWduYXJkQGxpbmFyby5vcmc+CkNjOiBTdW1pdCBTZW13YWwgPHN1bWl0LnNlbXdhbEBsaW5hcm8u
b3JnPgpDYzogTGlhbSBNYXJrIDxsbWFya0Bjb2RlYXVyb3JhLm9yZz4KQ2M6IFByYXRpayBQYXRl
bCA8cHJhdGlrcEBjb2RlYXVyb3JhLm9yZz4KQ2M6IEJyaWFuIFN0YXJrZXkgPEJyaWFuLlN0YXJr
ZXlAYXJtLmNvbT4KQ2M6IFZpbmNlbnQgRG9ubmVmb3J0IDxWaW5jZW50LkRvbm5lZm9ydEBhcm0u
Y29tPgpDYzogU3VkaXB0byBQYXVsIDxTdWRpcHRvLlBhdWxAYXJtLmNvbT4KQ2M6IEFuZHJldyBG
LiBEYXZpcyA8YWZkQHRpLmNvbT4KQ2M6IENocmlzdG9waCBIZWxsd2lnIDxoY2hAaW5mcmFkZWFk
Lm9yZz4KQ2M6IENoZW5ibyBGZW5nIDxmZW5nY0Bnb29nbGUuY29tPgpDYzogQWxpc3RhaXIgU3Ry
YWNoYW4gPGFzdHJhY2hhbkBnb29nbGUuY29tPgpDYzogSHJpZHlhIFZhbHNhcmFqdSA8aHJpZHlh
QGdvb2dsZS5jb20+CkNjOiBIaWxsZiBEYW50b24gPGhkYW50b25Ac2luYS5jb20+CkNjOiBkcmkt
ZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnClJldmlld2VkLWJ5OiBCZW5qYW1pbiBHYWlnbmFy
ZCA8YmVuamFtaW4uZ2FpZ25hcmRAbGluYXJvLm9yZz4KUmV2aWV3ZWQtYnk6IEJyaWFuIFN0YXJr
ZXkgPGJyaWFuLnN0YXJrZXlAYXJtLmNvbT4KQWNrZWQtYnk6IExhdXJhIEFiYm90dCA8bGFiYm90
dEByZWRoYXQuY29tPgpUZXN0ZWQtYnk6IEF5YW4gS3VtYXIgSGFsZGVyIDxheWFuLmhhbGRlckBh
cm0uY29tPgpTaWduZWQtb2ZmLWJ5OiBBbmRyZXcgRi4gRGF2aXMgPGFmZEB0aS5jb20+ClNpZ25l
ZC1vZmYtYnk6IEpvaG4gU3R1bHR6IDxqb2huLnN0dWx0ekBsaW5hcm8ub3JnPgotLS0KdjI6Ciog
Rm9sZGVkIGRvd24gZml4ZXMgSSBoYWQgcHJldmlvdXNseSBzaGFyZWQgaW4gaW1wbGVtZW50aW5n
CiAgaGVhcHMKKiBNYWtlIGZsYWdzIGEgdTY0IChTdWdnZXN0ZWQgYnkgTGF1cmEpCiogQWRkIFBB
R0VfQUxJR04oKSBmaXggdG8gdGhlIGNvcmUgYWxsb2MgZnVuY2l0b24KKiBJT0NUTCBmaXh1cHMg
c3VnZ2VzdGVkIGJ5IEJyaWFuCiogQWRkZWQgZml4ZXMgc3VnZ2VzdGVkIGJ5IEJlbmphbWluCiog
UmVtb3ZlZCBjb3JlIHN0YXRzIG1nbXQsIGFzIHRoYXQgc2hvdWxkIGJlIGltcGxlbWVudGVkIGJ5
CiAgcGVyLWhlYXAgY29kZQoqIENoYW5nZWQgYWxsb2MgdG8gcmV0dXJuIGEgZG1hLWJ1ZiBmZCwg
cmF0aGVyIHRoYW4gYSBidWZmZXIKICAoYXMgaXQgc2ltcGxpZmllcyBlcnJvciBoYW5kbGluZykK
djM6CiogUmVtb3ZlZCBzY2FyZS1xdW90ZXMgaW4gTUFJTlRBSU5FUlMgZW1haWwgYWRkcmVzcwoq
IEdldCByaWQgb2YgLnJlbGVhc2UgZnVuY3Rpb24gYXMgaXQgZGlkbid0IGRvIGFueXRoaW5nIChm
cm9tCiAgQ2hyaXN0b3BoKQoqIFJlbmFtZWQgZmlscCB0byBmaWxlIChzdWdnZXN0ZWQgYnkgQ2hy
aXN0b3BoKQoqIFNwbGl0IG91dCBpb2N0bCBoYW5kbGluZyB0byBzZXBhcmF0ZSBmdW5jdGlvbiAo
c3VnZ2VzdGVkIGJ5CiAgQ2hyaXN0b3BoKQoqIEFkZCBjb21tZW50IGRvY3VtZW50aW5nIFBBR0Vf
QUxJR04gdXNhZ2UgKHN1Z2dlc3RlZCBieSBCcmlhbikKKiBTd2l0Y2ggZnJvbSBpZHIgdG8gWGFy
cmF5IChzdWdnZXN0ZWQgYnkgQnJpYW4pCiogRml4dXAgY2RldiBjcmVhdGlvbiAoc3VnZ2VzdGVk
IGJ5IEJyaWFuKQoqIEF2b2lkIEVYUE9SVF9TWU1CT0wgdW50aWwgd2UgZmluYWxpemUgbW9kdWxl
cyAoc3VnZ2VzdGVkIGJ5CiAgQnJpYW4pCiogTWFrZSBzdHJ1Y3QgZG1hX2hlYXAgaW50ZXJuYWwg
b25seSAoZm9sZGVkIGluIGZyb20gQW5kcmV3KQoqIFNtYWxsIGNsZWFudXBzIHN1Z2dlc3RlZCBi
eSBHcmVnS0gKKiBQcm92aWRlIGNsYXNzLT5kZXZub2RlIGNhbGxiYWNrIHRvIGdldCBjb25zaXN0
ZW50IC9kZXYvCiAgc3ViZGlyZWN0b3J5IG5hbWluZyAoU3VnZ2VzdGVkIGJ5IEJqb3JuKQp2NDoK
KiBGb2xkZWQgZG93biBkbWEtaGVhcC5oIGNoYW5nZSB0aGF0IHdhcyBpbiBhIGZvbGxvd2luZyBw
YXRjaAoqIEFkZGVkIGZkX2ZsYWdzIGVudHJ5IHRvIGFsbG9jYXRpb24gc3RydWN0dXJlIGFuZCBw
YXNzIGl0CiAgdGhyb3VnaCB0byBoZWFwIGNvZGUgZm9yIHVzZSBvbiBkbWEtYnVmIGZkIGNyZWF0
aW9uIChzdWdnZXN0ZWQKICBieSBCZW5qYW1pbikKdjU6CiogTWlub3IgY2xlYW51cHMKdjY6Ciog
SW1wcm92ZWQgZXJyb3IgcGF0aCBoYW5kbGluZywgbWlub3Igd2hpdGVzcGFjZSBmaXhlcywgYm90
aAogIHN1Z2dlc3RlZCBieSBCcmlhbgp2NzoKKiBMb25nZXIgS2NvbmZpZyBkZXNjcmlwdGlvbiB0
byBxdWlldCBjaGVja3BhdGNoIHdhcm5pbmdzCiogUmUtYWRkIGNvbXBhdF9pb2N0bCBiaXRzIChI
cmlkeWEgbm90aWNlZCAzMmJpdCB1c2VybGFuZCB3YXNuJ3QKICB3b3JraW5nKQp2ODoKKiBNYWtl
IHN0cnVjdCBkbWFfaGVhcF9vcHMgY29uc3RzIChTdWdnZXN0ZWQgYnkgQ2hyaXN0b3BoKQoqIENo
ZWNrcGF0Y2ggd2hpdGVzcGFjZSBmaXh1cHMKdjk6CiogTWlub3IgY2xlYW51cHMgc3VnZ2VzdGVk
IGJ5IEJyaWFuIFN0YXJrZXkKKiBSZW5hbWUgZG1hX2hlYXBfZ2V0X2RhdGEtPmRtYV9oZWFwX2dl
dF9kcnZkYXRhIHN1Z2dlc3RlZAogIGJ5IEhpbGYgRGFudG9uCnYxMToKKiBLY29uZmlnIHRleHQg
aW1wcm92ZW1lbnRzIHN1Z2dlc3RlZCBieSBSYW5keSBEdW5sYXAKdjEyOgoqIEFkZCBsb2dpYyB0
byBwcmV2ZW50IGR1cGxpY2F0ZWx5IG5hbWVkIGhlYXBzIGJlaW5nIGFkZGVkCiogQWRkIHN5bWJv
bCBleHBvcnRzIGZvciBoZWFwcyBhcyBtb2R1bGVzCnYxMzoKKiBSZS1yZW1vdmUgc3ltYm9sIGV4
cG9ydHMgcGVyIGRpc2N1c3Npb24gdy8gQnJpYW4uIFdpbGwKICByZXN1Ym1pdCBpbiBhIHNlcGFy
dGUgcGF0Y2ggZm9yIHJldmlldwotLS0KIE1BSU5UQUlORVJTICAgICAgICAgICAgICAgICAgIHwg
IDE4ICsrKwogZHJpdmVycy9kbWEtYnVmL0tjb25maWcgICAgICAgfCAgIDkgKysKIGRyaXZlcnMv
ZG1hLWJ1Zi9NYWtlZmlsZSAgICAgIHwgICAxICsKIGRyaXZlcnMvZG1hLWJ1Zi9kbWEtaGVhcC5j
ICAgIHwgMjY5ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysKIGluY2x1ZGUvbGlu
dXgvZG1hLWhlYXAuaCAgICAgIHwgIDU5ICsrKysrKysrCiBpbmNsdWRlL3VhcGkvbGludXgvZG1h
LWhlYXAuaCB8ICA1NSArKysrKysrCiA2IGZpbGVzIGNoYW5nZWQsIDQxMSBpbnNlcnRpb25zKCsp
CiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9kbWEtYnVmL2RtYS1oZWFwLmMKIGNyZWF0ZSBt
b2RlIDEwMDY0NCBpbmNsdWRlL2xpbnV4L2RtYS1oZWFwLmgKIGNyZWF0ZSBtb2RlIDEwMDY0NCBp
bmNsdWRlL3VhcGkvbGludXgvZG1hLWhlYXAuaAoKZGlmZiAtLWdpdCBhL01BSU5UQUlORVJTIGIv
TUFJTlRBSU5FUlMKaW5kZXggYTY5ZTZkYjgwYzc5Li41OTFjNGM0ODQ1NTggMTAwNjQ0Ci0tLSBh
L01BSU5UQUlORVJTCisrKyBiL01BSU5UQUlORVJTCkBAIC00OTM5LDYgKzQ5MzksMjQgQEAgRjoJ
aW5jbHVkZS9saW51eC8qZmVuY2UuaAogRjoJRG9jdW1lbnRhdGlvbi9kcml2ZXItYXBpL2RtYS1i
dWYucnN0CiBUOglnaXQgZ2l0Oi8vYW5vbmdpdC5mcmVlZGVza3RvcC5vcmcvZHJtL2RybS1taXNj
CiAKK0RNQS1CVUYgSEVBUFMgRlJBTUVXT1JLCitNOglTdW1pdCBTZW13YWwgPHN1bWl0LnNlbXdh
bEBsaW5hcm8ub3JnPgorUjoJQW5kcmV3IEYuIERhdmlzIDxhZmRAdGkuY29tPgorUjoJQmVuamFt
aW4gR2FpZ25hcmQgPGJlbmphbWluLmdhaWduYXJkQGxpbmFyby5vcmc+CitSOglMaWFtIE1hcmsg
PGxtYXJrQGNvZGVhdXJvcmEub3JnPgorUjoJTGF1cmEgQWJib3R0IDxsYWJib3R0QHJlZGhhdC5j
b20+CitSOglCcmlhbiBTdGFya2V5IDxCcmlhbi5TdGFya2V5QGFybS5jb20+CitSOglKb2huIFN0
dWx0eiA8am9obi5zdHVsdHpAbGluYXJvLm9yZz4KK1M6CU1haW50YWluZWQKK0w6CWxpbnV4LW1l
ZGlhQHZnZXIua2VybmVsLm9yZworTDoJZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwor
TDoJbGluYXJvLW1tLXNpZ0BsaXN0cy5saW5hcm8ub3JnIChtb2RlcmF0ZWQgZm9yIG5vbi1zdWJz
Y3JpYmVycykKK0Y6CWluY2x1ZGUvdWFwaS9saW51eC9kbWEtaGVhcC5oCitGOglpbmNsdWRlL2xp
bnV4L2RtYS1oZWFwLmgKK0Y6CWRyaXZlcnMvZG1hLWJ1Zi9kbWEtaGVhcC5jCitGOglkcml2ZXJz
L2RtYS1idWYvaGVhcHMvKgorVDoJZ2l0IGdpdDovL2Fub25naXQuZnJlZWRlc2t0b3Aub3JnL2Ry
bS9kcm0tbWlzYworCiBETUEgR0VORVJJQyBPRkZMT0FEIEVOR0lORSBTVUJTWVNURU0KIE06CVZp
bm9kIEtvdWwgPHZrb3VsQGtlcm5lbC5vcmc+CiBMOglkbWFlbmdpbmVAdmdlci5rZXJuZWwub3Jn
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2RtYS1idWYvS2NvbmZpZyBiL2RyaXZlcnMvZG1hLWJ1Zi9L
Y29uZmlnCmluZGV4IGEyM2I2NzUyZDExYS4uYmZmYTU4ZmMzZTZlIDEwMDY0NAotLS0gYS9kcml2
ZXJzL2RtYS1idWYvS2NvbmZpZworKysgYi9kcml2ZXJzL2RtYS1idWYvS2NvbmZpZwpAQCAtNDQs
NCArNDQsMTMgQEAgY29uZmlnIERNQUJVRl9TRUxGVEVTVFMKIAlkZWZhdWx0IG4KIAlkZXBlbmRz
IG9uIERNQV9TSEFSRURfQlVGRkVSCiAKK21lbnVjb25maWcgRE1BQlVGX0hFQVBTCisJYm9vbCAi
RE1BLUJVRiBVc2VybGFuZCBNZW1vcnkgSGVhcHMiCisJc2VsZWN0IERNQV9TSEFSRURfQlVGRkVS
CisJaGVscAorCSAgQ2hvb3NlIHRoaXMgb3B0aW9uIHRvIGVuYWJsZSB0aGUgRE1BLUJVRiB1c2Vy
bGFuZCBtZW1vcnkgaGVhcHMuCisJICBUaGlzIG9wdGlvbnMgY3JlYXRlcyBwZXIgaGVhcCBjaGFy
ZGV2cyBpbiAvZGV2L2RtYV9oZWFwLyB3aGljaAorCSAgYWxsb3dzIHVzZXJzcGFjZSB0byBhbGxv
Y2F0ZSBkbWEtYnVmcyB0aGF0IGNhbiBiZSBzaGFyZWQKKwkgIGJldHdlZW4gZHJpdmVycy4KKwog
ZW5kbWVudQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9kbWEtYnVmL01ha2VmaWxlIGIvZHJpdmVycy9k
bWEtYnVmL01ha2VmaWxlCmluZGV4IDAzNDc5ZGEwNjQyMi4uY2FlZTVlYjNkMzUxIDEwMDY0NAot
LS0gYS9kcml2ZXJzL2RtYS1idWYvTWFrZWZpbGUKKysrIGIvZHJpdmVycy9kbWEtYnVmL01ha2Vm
aWxlCkBAIC0xLDYgKzEsNyBAQAogIyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1v
bmx5CiBvYmoteSA6PSBkbWEtYnVmLm8gZG1hLWZlbmNlLm8gZG1hLWZlbmNlLWFycmF5Lm8gZG1h
LWZlbmNlLWNoYWluLm8gXAogCSBkbWEtcmVzdi5vIHNlcW5vLWZlbmNlLm8KK29iai0kKENPTkZJ
R19ETUFCVUZfSEVBUFMpCSs9IGRtYS1oZWFwLm8KIG9iai0kKENPTkZJR19TWU5DX0ZJTEUpCQkr
PSBzeW5jX2ZpbGUubwogb2JqLSQoQ09ORklHX1NXX1NZTkMpCQkrPSBzd19zeW5jLm8gc3luY19k
ZWJ1Zy5vCiBvYmotJChDT05GSUdfVURNQUJVRikJCSs9IHVkbWFidWYubwpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9kbWEtYnVmL2RtYS1oZWFwLmMgYi9kcml2ZXJzL2RtYS1idWYvZG1hLWhlYXAuYwpu
ZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwMDAwMDAuLjlhNDFiNzNlNTRiNAotLS0g
L2Rldi9udWxsCisrKyBiL2RyaXZlcnMvZG1hLWJ1Zi9kbWEtaGVhcC5jCkBAIC0wLDAgKzEsMjY5
IEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMAorLyoKKyAqIEZyYW1ld29y
ayBmb3IgdXNlcnNwYWNlIERNQS1CVUYgYWxsb2NhdGlvbnMKKyAqCisgKiBDb3B5cmlnaHQgKEMp
IDIwMTEgR29vZ2xlLCBJbmMuCisgKiBDb3B5cmlnaHQgKEMpIDIwMTkgTGluYXJvIEx0ZC4KKyAq
LworCisjaW5jbHVkZSA8bGludXgvY2Rldi5oPgorI2luY2x1ZGUgPGxpbnV4L2RlYnVnZnMuaD4K
KyNpbmNsdWRlIDxsaW51eC9kZXZpY2UuaD4KKyNpbmNsdWRlIDxsaW51eC9kbWEtYnVmLmg+Cisj
aW5jbHVkZSA8bGludXgvZXJyLmg+CisjaW5jbHVkZSA8bGludXgveGFycmF5Lmg+CisjaW5jbHVk
ZSA8bGludXgvbGlzdC5oPgorI2luY2x1ZGUgPGxpbnV4L3NsYWIuaD4KKyNpbmNsdWRlIDxsaW51
eC91YWNjZXNzLmg+CisjaW5jbHVkZSA8bGludXgvc3lzY2FsbHMuaD4KKyNpbmNsdWRlIDxsaW51
eC9kbWEtaGVhcC5oPgorI2luY2x1ZGUgPHVhcGkvbGludXgvZG1hLWhlYXAuaD4KKworI2RlZmlu
ZSBERVZOQU1FICJkbWFfaGVhcCIKKworI2RlZmluZSBOVU1fSEVBUF9NSU5PUlMgMTI4CisKKy8q
KgorICogc3RydWN0IGRtYV9oZWFwIC0gcmVwcmVzZW50cyBhIGRtYWJ1ZiBoZWFwIGluIHRoZSBz
eXN0ZW0KKyAqIEBuYW1lOgkJdXNlZCBmb3IgZGVidWdnaW5nL2RldmljZS1ub2RlIG5hbWUKKyAq
IEBvcHM6CQlvcHMgc3RydWN0IGZvciB0aGlzIGhlYXAKKyAqIEBtaW5vcgkJbWlub3IgbnVtYmVy
IG9mIHRoaXMgaGVhcCBkZXZpY2UKKyAqIEBoZWFwX2RldnQJCWhlYXAgZGV2aWNlIG5vZGUKKyAq
IEBoZWFwX2NkZXYJCWhlYXAgY2hhciBkZXZpY2UKKyAqCisgKiBSZXByZXNlbnRzIGEgaGVhcCBv
ZiBtZW1vcnkgZnJvbSB3aGljaCBidWZmZXJzIGNhbiBiZSBtYWRlLgorICovCitzdHJ1Y3QgZG1h
X2hlYXAgeworCWNvbnN0IGNoYXIgKm5hbWU7CisJY29uc3Qgc3RydWN0IGRtYV9oZWFwX29wcyAq
b3BzOworCXZvaWQgKnByaXY7CisJdW5zaWduZWQgaW50IG1pbm9yOworCWRldl90IGhlYXBfZGV2
dDsKKwlzdHJ1Y3QgbGlzdF9oZWFkIGxpc3Q7CisJc3RydWN0IGNkZXYgaGVhcF9jZGV2OworfTsK
Kworc3RhdGljIExJU1RfSEVBRChoZWFwX2xpc3QpOworc3RhdGljIERFRklORV9NVVRFWChoZWFw
X2xpc3RfbG9jayk7CitzdGF0aWMgZGV2X3QgZG1hX2hlYXBfZGV2dDsKK3N0YXRpYyBzdHJ1Y3Qg
Y2xhc3MgKmRtYV9oZWFwX2NsYXNzOworc3RhdGljIERFRklORV9YQVJSQVlfQUxMT0MoZG1hX2hl
YXBfbWlub3JzKTsKKworc3RhdGljIGludCBkbWFfaGVhcF9idWZmZXJfYWxsb2Moc3RydWN0IGRt
YV9oZWFwICpoZWFwLCBzaXplX3QgbGVuLAorCQkJCSB1bnNpZ25lZCBpbnQgZmRfZmxhZ3MsCisJ
CQkJIHVuc2lnbmVkIGludCBoZWFwX2ZsYWdzKQoreworCS8qCisJICogQWxsb2NhdGlvbnMgZnJv
bSBhbGwgaGVhcHMgaGF2ZSB0byBiZWdpbgorCSAqIGFuZCBlbmQgb24gcGFnZSBib3VuZGFyaWVz
LgorCSAqLworCWxlbiA9IFBBR0VfQUxJR04obGVuKTsKKwlpZiAoIWxlbikKKwkJcmV0dXJuIC1F
SU5WQUw7CisKKwlyZXR1cm4gaGVhcC0+b3BzLT5hbGxvY2F0ZShoZWFwLCBsZW4sIGZkX2ZsYWdz
LCBoZWFwX2ZsYWdzKTsKK30KKworc3RhdGljIGludCBkbWFfaGVhcF9vcGVuKHN0cnVjdCBpbm9k
ZSAqaW5vZGUsIHN0cnVjdCBmaWxlICpmaWxlKQoreworCXN0cnVjdCBkbWFfaGVhcCAqaGVhcDsK
KworCWhlYXAgPSB4YV9sb2FkKCZkbWFfaGVhcF9taW5vcnMsIGltaW5vcihpbm9kZSkpOworCWlm
ICghaGVhcCkgeworCQlwcl9lcnIoImRtYV9oZWFwOiBtaW5vciAlZCB1bmtub3duLlxuIiwgaW1p
bm9yKGlub2RlKSk7CisJCXJldHVybiAtRU5PREVWOworCX0KKworCS8qIGluc3RhbmNlIGRhdGEg
YXMgY29udGV4dCAqLworCWZpbGUtPnByaXZhdGVfZGF0YSA9IGhlYXA7CisJbm9uc2Vla2FibGVf
b3Blbihpbm9kZSwgZmlsZSk7CisKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIGxvbmcgZG1hX2hl
YXBfaW9jdGxfYWxsb2NhdGUoc3RydWN0IGZpbGUgKmZpbGUsIHVuc2lnbmVkIGxvbmcgYXJnKQor
eworCXN0cnVjdCBkbWFfaGVhcF9hbGxvY2F0aW9uX2RhdGEgaGVhcF9hbGxvY2F0aW9uOworCXN0
cnVjdCBkbWFfaGVhcCAqaGVhcCA9IGZpbGUtPnByaXZhdGVfZGF0YTsKKwlpbnQgZmQ7CisKKwlp
ZiAoY29weV9mcm9tX3VzZXIoJmhlYXBfYWxsb2NhdGlvbiwgKHZvaWQgX191c2VyICopYXJnLAor
CQkJICAgc2l6ZW9mKGhlYXBfYWxsb2NhdGlvbikpKQorCQlyZXR1cm4gLUVGQVVMVDsKKworCWlm
IChoZWFwX2FsbG9jYXRpb24uZmQgfHwKKwkgICAgaGVhcF9hbGxvY2F0aW9uLnJlc2VydmVkMCB8
fAorCSAgICBoZWFwX2FsbG9jYXRpb24ucmVzZXJ2ZWQxKSB7CisJCXByX3dhcm5fb25jZSgiZG1h
X2hlYXA6IGlvY3RsIGRhdGEgbm90IHZhbGlkXG4iKTsKKwkJcmV0dXJuIC1FSU5WQUw7CisJfQor
CisJaWYgKGhlYXBfYWxsb2NhdGlvbi5mZF9mbGFncyAmIH5ETUFfSEVBUF9WQUxJRF9GRF9GTEFH
UykgeworCQlwcl93YXJuX29uY2UoImRtYV9oZWFwOiBmZF9mbGFncyBoYXMgaW52YWxpZCBvciB1
bnN1cHBvcnRlZCBmbGFncyBzZXRcbiIpOworCQlyZXR1cm4gLUVJTlZBTDsKKwl9CisKKwlpZiAo
aGVhcF9hbGxvY2F0aW9uLmhlYXBfZmxhZ3MgJiB+RE1BX0hFQVBfVkFMSURfSEVBUF9GTEFHUykg
eworCQlwcl93YXJuX29uY2UoImRtYV9oZWFwOiBoZWFwIGZsYWdzIGhhcyBpbnZhbGlkIG9yIHVu
c3VwcG9ydGVkIGZsYWdzIHNldFxuIik7CisJCXJldHVybiAtRUlOVkFMOworCX0KKworCWZkID0g
ZG1hX2hlYXBfYnVmZmVyX2FsbG9jKGhlYXAsIGhlYXBfYWxsb2NhdGlvbi5sZW4sCisJCQkJICAg
aGVhcF9hbGxvY2F0aW9uLmZkX2ZsYWdzLAorCQkJCSAgIGhlYXBfYWxsb2NhdGlvbi5oZWFwX2Zs
YWdzKTsKKwlpZiAoZmQgPCAwKQorCQlyZXR1cm4gZmQ7CisKKwloZWFwX2FsbG9jYXRpb24uZmQg
PSBmZDsKKworCWlmIChjb3B5X3RvX3VzZXIoKHZvaWQgX191c2VyICopYXJnLCAmaGVhcF9hbGxv
Y2F0aW9uLAorCQkJIHNpemVvZihoZWFwX2FsbG9jYXRpb24pKSkgeworCQlrc3lzX2Nsb3NlKGZk
KTsKKwkJcmV0dXJuIC1FRkFVTFQ7CisJfQorCisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyBsb25n
IGRtYV9oZWFwX2lvY3RsKHN0cnVjdCBmaWxlICpmaWxlLCB1bnNpZ25lZCBpbnQgY21kLAorCQkJ
ICAgdW5zaWduZWQgbG9uZyBhcmcpCit7CisJaW50IHJldCA9IDA7CisKKwlzd2l0Y2ggKGNtZCkg
eworCWNhc2UgRE1BX0hFQVBfSU9DX0FMTE9DOgorCQlyZXQgPSBkbWFfaGVhcF9pb2N0bF9hbGxv
Y2F0ZShmaWxlLCBhcmcpOworCQlicmVhazsKKwlkZWZhdWx0OgorCQlyZXR1cm4gLUVOT1RUWTsK
Kwl9CisKKwlyZXR1cm4gcmV0OworfQorCitzdGF0aWMgY29uc3Qgc3RydWN0IGZpbGVfb3BlcmF0
aW9ucyBkbWFfaGVhcF9mb3BzID0geworCS5vd25lciAgICAgICAgICA9IFRISVNfTU9EVUxFLAor
CS5vcGVuCQk9IGRtYV9oZWFwX29wZW4sCisJLnVubG9ja2VkX2lvY3RsID0gZG1hX2hlYXBfaW9j
dGwsCisjaWZkZWYgQ09ORklHX0NPTVBBVAorCS5jb21wYXRfaW9jdGwJPSBkbWFfaGVhcF9pb2N0
bCwKKyNlbmRpZgorfTsKKworLyoqCisgKiBkbWFfaGVhcF9nZXRfZHJ2ZGF0YSgpIC0gZ2V0IHBl
ci1zdWJkcml2ZXIgZGF0YSBmb3IgdGhlIGhlYXAKKyAqIEBoZWFwOiBETUEtSGVhcCB0byByZXRy
aWV2ZSBwcml2YXRlIGRhdGEgZm9yCisgKgorICogUmV0dXJuczoKKyAqIFRoZSBwZXItc3ViZHJp
dmVyIGRhdGEgZm9yIHRoZSBoZWFwLgorICovCit2b2lkICpkbWFfaGVhcF9nZXRfZHJ2ZGF0YShz
dHJ1Y3QgZG1hX2hlYXAgKmhlYXApCit7CisJcmV0dXJuIGhlYXAtPnByaXY7Cit9CisKK3N0cnVj
dCBkbWFfaGVhcCAqZG1hX2hlYXBfYWRkKGNvbnN0IHN0cnVjdCBkbWFfaGVhcF9leHBvcnRfaW5m
byAqZXhwX2luZm8pCit7CisJc3RydWN0IGRtYV9oZWFwICpoZWFwLCAqaCwgKmVycl9yZXQ7CisJ
c3RydWN0IGRldmljZSAqZGV2X3JldDsKKwlpbnQgcmV0OworCisJaWYgKCFleHBfaW5mby0+bmFt
ZSB8fCAhc3RyY21wKGV4cF9pbmZvLT5uYW1lLCAiIikpIHsKKwkJcHJfZXJyKCJkbWFfaGVhcDog
Q2Fubm90IGFkZCBoZWFwIHdpdGhvdXQgYSBuYW1lXG4iKTsKKwkJcmV0dXJuIEVSUl9QVFIoLUVJ
TlZBTCk7CisJfQorCisJaWYgKCFleHBfaW5mby0+b3BzIHx8ICFleHBfaW5mby0+b3BzLT5hbGxv
Y2F0ZSkgeworCQlwcl9lcnIoImRtYV9oZWFwOiBDYW5ub3QgYWRkIGhlYXAgd2l0aCBpbnZhbGlk
IG9wcyBzdHJ1Y3RcbiIpOworCQlyZXR1cm4gRVJSX1BUUigtRUlOVkFMKTsKKwl9CisKKwkvKiBj
aGVjayB0aGUgbmFtZSBpcyB1bmlxdWUgKi8KKwltdXRleF9sb2NrKCZoZWFwX2xpc3RfbG9jayk7
CisJbGlzdF9mb3JfZWFjaF9lbnRyeShoLCAmaGVhcF9saXN0LCBsaXN0KSB7CisJCWlmICghc3Ry
Y21wKGgtPm5hbWUsIGV4cF9pbmZvLT5uYW1lKSkgeworCQkJbXV0ZXhfdW5sb2NrKCZoZWFwX2xp
c3RfbG9jayk7CisJCQlwcl9lcnIoImRtYV9oZWFwOiBBbHJlYWR5IHJlZ2lzdGVyZWQgaGVhcCBu
YW1lZCAlc1xuIiwKKwkJCSAgICAgICBleHBfaW5mby0+bmFtZSk7CisJCQlyZXR1cm4gRVJSX1BU
UigtRUlOVkFMKTsKKwkJfQorCX0KKwltdXRleF91bmxvY2soJmhlYXBfbGlzdF9sb2NrKTsKKwor
CWhlYXAgPSBremFsbG9jKHNpemVvZigqaGVhcCksIEdGUF9LRVJORUwpOworCWlmICghaGVhcCkK
KwkJcmV0dXJuIEVSUl9QVFIoLUVOT01FTSk7CisKKwloZWFwLT5uYW1lID0gZXhwX2luZm8tPm5h
bWU7CisJaGVhcC0+b3BzID0gZXhwX2luZm8tPm9wczsKKwloZWFwLT5wcml2ID0gZXhwX2luZm8t
PnByaXY7CisKKwkvKiBGaW5kIHVudXNlZCBtaW5vciBudW1iZXIgKi8KKwlyZXQgPSB4YV9hbGxv
YygmZG1hX2hlYXBfbWlub3JzLCAmaGVhcC0+bWlub3IsIGhlYXAsCisJCSAgICAgICBYQV9MSU1J
VCgwLCBOVU1fSEVBUF9NSU5PUlMgLSAxKSwgR0ZQX0tFUk5FTCk7CisJaWYgKHJldCA8IDApIHsK
KwkJcHJfZXJyKCJkbWFfaGVhcDogVW5hYmxlIHRvIGdldCBtaW5vciBudW1iZXIgZm9yIGhlYXBc
biIpOworCQllcnJfcmV0ID0gRVJSX1BUUihyZXQpOworCQlnb3RvIGVycjA7CisJfQorCisJLyog
Q3JlYXRlIGRldmljZSAqLworCWhlYXAtPmhlYXBfZGV2dCA9IE1LREVWKE1BSk9SKGRtYV9oZWFw
X2RldnQpLCBoZWFwLT5taW5vcik7CisKKwljZGV2X2luaXQoJmhlYXAtPmhlYXBfY2RldiwgJmRt
YV9oZWFwX2ZvcHMpOworCXJldCA9IGNkZXZfYWRkKCZoZWFwLT5oZWFwX2NkZXYsIGhlYXAtPmhl
YXBfZGV2dCwgMSk7CisJaWYgKHJldCA8IDApIHsKKwkJcHJfZXJyKCJkbWFfaGVhcDogVW5hYmxl
IHRvIGFkZCBjaGFyIGRldmljZVxuIik7CisJCWVycl9yZXQgPSBFUlJfUFRSKHJldCk7CisJCWdv
dG8gZXJyMTsKKwl9CisKKwlkZXZfcmV0ID0gZGV2aWNlX2NyZWF0ZShkbWFfaGVhcF9jbGFzcywK
KwkJCQlOVUxMLAorCQkJCWhlYXAtPmhlYXBfZGV2dCwKKwkJCQlOVUxMLAorCQkJCWhlYXAtPm5h
bWUpOworCWlmIChJU19FUlIoZGV2X3JldCkpIHsKKwkJcHJfZXJyKCJkbWFfaGVhcDogVW5hYmxl
IHRvIGNyZWF0ZSBkZXZpY2VcbiIpOworCQllcnJfcmV0ID0gRVJSX0NBU1QoZGV2X3JldCk7CisJ
CWdvdG8gZXJyMjsKKwl9CisJLyogQWRkIGhlYXAgdG8gdGhlIGxpc3QgKi8KKwltdXRleF9sb2Nr
KCZoZWFwX2xpc3RfbG9jayk7CisJbGlzdF9hZGQoJmhlYXAtPmxpc3QsICZoZWFwX2xpc3QpOwor
CW11dGV4X3VubG9jaygmaGVhcF9saXN0X2xvY2spOworCisJcmV0dXJuIGhlYXA7CisKK2VycjI6
CisJY2Rldl9kZWwoJmhlYXAtPmhlYXBfY2Rldik7CitlcnIxOgorCXhhX2VyYXNlKCZkbWFfaGVh
cF9taW5vcnMsIGhlYXAtPm1pbm9yKTsKK2VycjA6CisJa2ZyZWUoaGVhcCk7CisJcmV0dXJuIGVy
cl9yZXQ7Cit9CisKK3N0YXRpYyBjaGFyICpkbWFfaGVhcF9kZXZub2RlKHN0cnVjdCBkZXZpY2Ug
KmRldiwgdW1vZGVfdCAqbW9kZSkKK3sKKwlyZXR1cm4ga2FzcHJpbnRmKEdGUF9LRVJORUwsICJk
bWFfaGVhcC8lcyIsIGRldl9uYW1lKGRldikpOworfQorCitzdGF0aWMgaW50IGRtYV9oZWFwX2lu
aXQodm9pZCkKK3sKKwlpbnQgcmV0OworCisJcmV0ID0gYWxsb2NfY2hyZGV2X3JlZ2lvbigmZG1h
X2hlYXBfZGV2dCwgMCwgTlVNX0hFQVBfTUlOT1JTLCBERVZOQU1FKTsKKwlpZiAocmV0KQorCQly
ZXR1cm4gcmV0OworCisJZG1hX2hlYXBfY2xhc3MgPSBjbGFzc19jcmVhdGUoVEhJU19NT0RVTEUs
IERFVk5BTUUpOworCWlmIChJU19FUlIoZG1hX2hlYXBfY2xhc3MpKSB7CisJCXVucmVnaXN0ZXJf
Y2hyZGV2X3JlZ2lvbihkbWFfaGVhcF9kZXZ0LCBOVU1fSEVBUF9NSU5PUlMpOworCQlyZXR1cm4g
UFRSX0VSUihkbWFfaGVhcF9jbGFzcyk7CisJfQorCWRtYV9oZWFwX2NsYXNzLT5kZXZub2RlID0g
ZG1hX2hlYXBfZGV2bm9kZTsKKworCXJldHVybiAwOworfQorc3Vic3lzX2luaXRjYWxsKGRtYV9o
ZWFwX2luaXQpOwpkaWZmIC0tZ2l0IGEvaW5jbHVkZS9saW51eC9kbWEtaGVhcC5oIGIvaW5jbHVk
ZS9saW51eC9kbWEtaGVhcC5oCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAw
MC4uNDU0ZTM1NGQxZmZiCi0tLSAvZGV2L251bGwKKysrIGIvaW5jbHVkZS9saW51eC9kbWEtaGVh
cC5oCkBAIC0wLDAgKzEsNTkgQEAKKy8qIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4w
ICovCisvKgorICogRE1BQlVGIEhlYXBzIEFsbG9jYXRpb24gSW5mcmFzdHJ1Y3R1cmUKKyAqCisg
KiBDb3B5cmlnaHQgKEMpIDIwMTEgR29vZ2xlLCBJbmMuCisgKiBDb3B5cmlnaHQgKEMpIDIwMTkg
TGluYXJvIEx0ZC4KKyAqLworCisjaWZuZGVmIF9ETUFfSEVBUFNfSAorI2RlZmluZSBfRE1BX0hF
QVBTX0gKKworI2luY2x1ZGUgPGxpbnV4L2NkZXYuaD4KKyNpbmNsdWRlIDxsaW51eC90eXBlcy5o
PgorCitzdHJ1Y3QgZG1hX2hlYXA7CisKKy8qKgorICogc3RydWN0IGRtYV9oZWFwX29wcyAtIG9w
cyB0byBvcGVyYXRlIG9uIGEgZ2l2ZW4gaGVhcAorICogQGFsbG9jYXRlOgkJYWxsb2NhdGUgZG1h
YnVmIGFuZCByZXR1cm4gZmQKKyAqCisgKiBhbGxvY2F0ZSByZXR1cm5zIGRtYWJ1ZiBmZCAgb24g
c3VjY2VzcywgLWVycm5vIG9uIGVycm9yLgorICovCitzdHJ1Y3QgZG1hX2hlYXBfb3BzIHsKKwlp
bnQgKCphbGxvY2F0ZSkoc3RydWN0IGRtYV9oZWFwICpoZWFwLAorCQkJdW5zaWduZWQgbG9uZyBs
ZW4sCisJCQl1bnNpZ25lZCBsb25nIGZkX2ZsYWdzLAorCQkJdW5zaWduZWQgbG9uZyBoZWFwX2Zs
YWdzKTsKK307CisKKy8qKgorICogc3RydWN0IGRtYV9oZWFwX2V4cG9ydF9pbmZvIC0gaW5mb3Jt
YXRpb24gbmVlZGVkIHRvIGV4cG9ydCBhIG5ldyBkbWFidWYgaGVhcAorICogQG5hbWU6CXVzZWQg
Zm9yIGRlYnVnZ2luZy9kZXZpY2Utbm9kZSBuYW1lCisgKiBAb3BzOglvcHMgc3RydWN0IGZvciB0
aGlzIGhlYXAKKyAqIEBwcml2OgloZWFwIGV4cG9ydGVyIHByaXZhdGUgZGF0YQorICoKKyAqIElu
Zm9ybWF0aW9uIG5lZWRlZCB0byBleHBvcnQgYSBuZXcgZG1hYnVmIGhlYXAuCisgKi8KK3N0cnVj
dCBkbWFfaGVhcF9leHBvcnRfaW5mbyB7CisJY29uc3QgY2hhciAqbmFtZTsKKwljb25zdCBzdHJ1
Y3QgZG1hX2hlYXBfb3BzICpvcHM7CisJdm9pZCAqcHJpdjsKK307CisKKy8qKgorICogZG1hX2hl
YXBfZ2V0X2RydmRhdGEoKSAtIGdldCBwZXItaGVhcCBkcml2ZXIgZGF0YQorICogQGhlYXA6IERN
QS1IZWFwIHRvIHJldHJpZXZlIHByaXZhdGUgZGF0YSBmb3IKKyAqCisgKiBSZXR1cm5zOgorICog
VGhlIHBlci1oZWFwIGRhdGEgZm9yIHRoZSBoZWFwLgorICovCit2b2lkICpkbWFfaGVhcF9nZXRf
ZHJ2ZGF0YShzdHJ1Y3QgZG1hX2hlYXAgKmhlYXApOworCisvKioKKyAqIGRtYV9oZWFwX2FkZCAt
IGFkZHMgYSBoZWFwIHRvIGRtYWJ1ZiBoZWFwcworICogQGV4cF9pbmZvOgkJaW5mb3JtYXRpb24g
bmVlZGVkIHRvIHJlZ2lzdGVyIHRoaXMgaGVhcAorICovCitzdHJ1Y3QgZG1hX2hlYXAgKmRtYV9o
ZWFwX2FkZChjb25zdCBzdHJ1Y3QgZG1hX2hlYXBfZXhwb3J0X2luZm8gKmV4cF9pbmZvKTsKKwor
I2VuZGlmIC8qIF9ETUFfSEVBUFNfSCAqLwpkaWZmIC0tZ2l0IGEvaW5jbHVkZS91YXBpL2xpbnV4
L2RtYS1oZWFwLmggYi9pbmNsdWRlL3VhcGkvbGludXgvZG1hLWhlYXAuaApuZXcgZmlsZSBtb2Rl
IDEwMDY0NAppbmRleCAwMDAwMDAwMDAwMDAuLjZjZTVjYzY4ZDIzOAotLS0gL2Rldi9udWxsCisr
KyBiL2luY2x1ZGUvdWFwaS9saW51eC9kbWEtaGVhcC5oCkBAIC0wLDAgKzEsNTUgQEAKKy8qIFNQ
RFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wIFdJVEggTGludXgtc3lzY2FsbC1ub3RlICov
CisvKgorICogRE1BQlVGIEhlYXBzIFVzZXJzcGFjZSBBUEkKKyAqCisgKiBDb3B5cmlnaHQgKEMp
IDIwMTEgR29vZ2xlLCBJbmMuCisgKiBDb3B5cmlnaHQgKEMpIDIwMTkgTGluYXJvIEx0ZC4KKyAq
LworI2lmbmRlZiBfVUFQSV9MSU5VWF9ETUFCVUZfUE9PTF9ICisjZGVmaW5lIF9VQVBJX0xJTlVY
X0RNQUJVRl9QT09MX0gKKworI2luY2x1ZGUgPGxpbnV4L2lvY3RsLmg+CisjaW5jbHVkZSA8bGlu
dXgvdHlwZXMuaD4KKworLyoqCisgKiBET0M6IERNQUJVRiBIZWFwcyBVc2Vyc3BhY2UgQVBJCisg
Ki8KKworLyogVmFsaWQgRkRfRkxBR1MgYXJlIE9fQ0xPRVhFQywgT19SRE9OTFksIE9fV1JPTkxZ
LCBPX1JEV1IgKi8KKyNkZWZpbmUgRE1BX0hFQVBfVkFMSURfRkRfRkxBR1MgKE9fQ0xPRVhFQyB8
IE9fQUNDTU9ERSkKKworLyogQ3VycmVudGx5IG5vIGhlYXAgZmxhZ3MgKi8KKyNkZWZpbmUgRE1B
X0hFQVBfVkFMSURfSEVBUF9GTEFHUyAoMCkKKworLyoqCisgKiBzdHJ1Y3QgZG1hX2hlYXBfYWxs
b2NhdGlvbl9kYXRhIC0gbWV0YWRhdGEgcGFzc2VkIGZyb20gdXNlcnNwYWNlIGZvcgorICogICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbG9jYXRpb25zCisgKiBAbGVuOgkJ
c2l6ZSBvZiB0aGUgYWxsb2NhdGlvbgorICogQGZkOgkJCXdpbGwgYmUgcG9wdWxhdGVkIHdpdGgg
YSBmZCB3aGljaCBwcm92ZGVzIHRoZQorICoJCQloYW5kbGUgdG8gdGhlIGFsbG9jYXRlZCBkbWEt
YnVmCisgKiBAZmRfZmxhZ3M6CQlmaWxlIGRlc2NyaXB0b3IgZmxhZ3MgdXNlZCB3aGVuIGFsbG9j
YXRpbmcKKyAqIEBoZWFwX2ZsYWdzOgkJZmxhZ3MgcGFzc2VkIHRvIGhlYXAKKyAqCisgKiBQcm92
aWRlZCBieSB1c2Vyc3BhY2UgYXMgYW4gYXJndW1lbnQgdG8gdGhlIGlvY3RsCisgKi8KK3N0cnVj
dCBkbWFfaGVhcF9hbGxvY2F0aW9uX2RhdGEgeworCV9fdTY0IGxlbjsKKwlfX3UzMiBmZDsKKwlf
X3UzMiBmZF9mbGFnczsKKwlfX3U2NCBoZWFwX2ZsYWdzOworCV9fdTMyIHJlc2VydmVkMDsKKwlf
X3UzMiByZXNlcnZlZDE7Cit9OworCisjZGVmaW5lIERNQV9IRUFQX0lPQ19NQUdJQwkJJ0gnCisK
Ky8qKgorICogRE9DOiBETUFfSEVBUF9JT0NfQUxMT0MgLSBhbGxvY2F0ZSBtZW1vcnkgZnJvbSBw
b29sCisgKgorICogVGFrZXMgYW4gZG1hX2hlYXBfYWxsb2NhdGlvbl9kYXRhIHN0cnVjdCBhbmQg
cmV0dXJucyBpdCB3aXRoIHRoZSBmZCBmaWVsZAorICogcG9wdWxhdGVkIHdpdGggdGhlIGRtYWJ1
ZiBoYW5kbGUgb2YgdGhlIGFsbG9jYXRpb24uCisgKi8KKyNkZWZpbmUgRE1BX0hFQVBfSU9DX0FM
TE9DCV9JT1dSKERNQV9IRUFQX0lPQ19NQUdJQywgMCwgXAorCQkJCSAgICAgIHN0cnVjdCBkbWFf
aGVhcF9hbGxvY2F0aW9uX2RhdGEpCisKKyNlbmRpZiAvKiBfVUFQSV9MSU5VWF9ETUFCVUZfUE9P
TF9IICovCi0tIAoyLjE3LjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNr
dG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2Ry
aS1kZXZlbA==
