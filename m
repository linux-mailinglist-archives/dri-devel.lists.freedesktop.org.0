Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 93C23615FB
	for <lists+dri-devel@lfdr.de>; Sun,  7 Jul 2019 20:34:11 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0FAF389B9F;
	Sun,  7 Jul 2019 18:34:09 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from perceval.ideasonboard.com (perceval.ideasonboard.com
 [213.167.242.64])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7EE7A89B9F
 for <dri-devel@lists.freedesktop.org>; Sun,  7 Jul 2019 18:34:07 +0000 (UTC)
Received: from pendragon.nordic-sky.finnair.com (unknown [38.98.37.142])
 by perceval.ideasonboard.com (Postfix) with ESMTPSA id 1799CCC;
 Sun,  7 Jul 2019 20:33:45 +0200 (CEST)
From: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH 38/60] drm/omap: hdmi4: Move mode set,
 enable and disable operations to bridge
Date: Sun,  7 Jul 2019 21:19:15 +0300
Message-Id: <20190707181937.6250-35-laurent.pinchart@ideasonboard.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190707181937.6250-1-laurent.pinchart@ideasonboard.com>
References: <20190707180852.5512-1-laurent.pinchart@ideasonboard.com>
 <20190707181937.6250-1-laurent.pinchart@ideasonboard.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=ideasonboard.com; s=mail; t=1562524446;
 bh=rg+GNwadGY+xkC58EHPT+H1Xwh102TWSlmTtIAAMYWo=;
 h=From:To:Cc:Subject:Date:In-Reply-To:References:From;
 b=cRHGNThwVOfuFldBFEyps91FETDmrYeoWvCTM+/zpx5WggZrYTOfKppmUSDc5nBoE
 3YE8P/M7UGp34iuAhz2tu+43D7le7GFgKUutBWLMQ6T1V44aX9E2HL93BsuiM60dba
 RRO6HJr5jXYS/h+79Kn3LVrE4m+2MEDgmycVDVSI=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Maxime Ripard <maxime.ripard@bootlin.com>,
 Sebastian Reichel <sebastian.reichel@collabora.com>,
 Tomi Valkeinen <tomi.valkeinen@ti.com>, Sean Paul <sean@poorly.run>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

TW92ZSB0aGUgb21hcF9kc3NfZGV2aWNlIC5zZXRfdGltaW5ncygpLCAuZW5hYmxlKCkgYW5kIC5k
aXNhYmxlKCkKb3BlcmF0aW9ucyB0byB0aGUgZHJtX2JyaWRnZSBmdW5jdGlvbnMuIEFzIHRoZSBk
cm1fYnJpZGdlIGZvciB0aGUgSERNSQplbmNvZGVyIGlzIHVuY29uZGl0aW9uYWxseSByZWdpc3Rl
cmVkIGFuZCBhdHRhY2hlZCwgdGhvc2Ugb3BlcmF0aW9ucwp3aWxsIGJlIGNhbGxlZCBhdCB0aGUg
YXBwcm9wcmlhdGUgdGltZS4KClNpZ25lZC1vZmYtYnk6IExhdXJlbnQgUGluY2hhcnQgPGxhdXJl
bnQucGluY2hhcnRAaWRlYXNvbmJvYXJkLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vb21hcGRy
bS9kc3MvaGRtaTQuYyB8IDIwMSArKysrKysrKysrKysrKystLS0tLS0tLS0tLS0tCiAxIGZpbGUg
Y2hhbmdlZCwgMTA2IGluc2VydGlvbnMoKyksIDk1IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL2Rzcy9oZG1pNC5jIGIvZHJpdmVycy9ncHUvZHJtL29t
YXBkcm0vZHNzL2hkbWk0LmMKaW5kZXggMzA4NGEyMDA5MTFiLi5hOGY1ODJjMGYzODcgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL2Rzcy9oZG1pNC5jCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS9vbWFwZHJtL2Rzcy9oZG1pNC5jCkBAIC0zOSw2ICszOSw4IEBACiAjaW5jbHVkZSA8
c291bmQvb21hcC1oZG1pLWF1ZGlvLmg+CiAjaW5jbHVkZSA8bWVkaWEvY2VjLmg+CiAKKyNpbmNs
dWRlIDxkcm0vZHJtX2F0b21pYy5oPgorCiAjaW5jbHVkZSAib21hcGRzcy5oIgogI2luY2x1ZGUg
ImhkbWk0X2NvcmUuaCIKICNpbmNsdWRlICJoZG1pNF9jZWMuaCIKQEAgLTI0OCwyMCArMjUwLDYg
QEAgc3RhdGljIHZvaWQgaGRtaV9wb3dlcl9vZmZfZnVsbChzdHJ1Y3Qgb21hcF9oZG1pICpoZG1p
KQogCWhkbWlfcG93ZXJfb2ZmX2NvcmUoaGRtaSk7CiB9CiAKLXN0YXRpYyB2b2lkIGhkbWlfZGlz
cGxheV9zZXRfdGltaW5ncyhzdHJ1Y3Qgb21hcF9kc3NfZGV2aWNlICpkc3NkZXYsCi0JCQkJICAg
ICBjb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZSkKLXsKLQlzdHJ1Y3Qgb21hcF9o
ZG1pICpoZG1pID0gZHNzZGV2X3RvX2hkbWkoZHNzZGV2KTsKLQotCW11dGV4X2xvY2soJmhkbWkt
PmxvY2spOwotCi0JZHJtX2Rpc3BsYXlfbW9kZV90b192aWRlb21vZGUobW9kZSwgJmhkbWktPmNm
Zy52bSk7Ci0KLQlkaXNwY19zZXRfdHZfcGNsayhoZG1pLT5kc3MtPmRpc3BjLCBtb2RlLT5jbG9j
ayAqIDEwMDApOwotCi0JbXV0ZXhfdW5sb2NrKCZoZG1pLT5sb2NrKTsKLX0KLQogc3RhdGljIGlu
dCBoZG1pX2R1bXBfcmVncyhzdHJ1Y3Qgc2VxX2ZpbGUgKnMsIHZvaWQgKnApCiB7CiAJc3RydWN0
IG9tYXBfaGRtaSAqaGRtaSA9IHMtPnByaXZhdGU7CkBAIC0yOTUsNjIgKzI4Myw2IEBAIHN0YXRp
YyB2b2lkIGhkbWlfc3RvcF9hdWRpb19zdHJlYW0oc3RydWN0IG9tYXBfaGRtaSAqaGQpCiAJaGRt
aV93cF9hdWRpb19lbmFibGUoJmhkLT53cCwgZmFsc2UpOwogfQogCi1zdGF0aWMgdm9pZCBoZG1p
X2Rpc3BsYXlfZW5hYmxlKHN0cnVjdCBvbWFwX2Rzc19kZXZpY2UgKmRzc2RldikKLXsKLQlzdHJ1
Y3Qgb21hcF9oZG1pICpoZG1pID0gZHNzZGV2X3RvX2hkbWkoZHNzZGV2KTsKLQl1bnNpZ25lZCBs
b25nIGZsYWdzOwotCWludCByOwotCi0JRFNTREJHKCJFTlRFUiBoZG1pX2Rpc3BsYXlfZW5hYmxl
XG4iKTsKLQotCW11dGV4X2xvY2soJmhkbWktPmxvY2spOwotCi0JciA9IGhkbWlfcG93ZXJfb25f
ZnVsbChoZG1pKTsKLQlpZiAocikgewotCQlEU1NFUlIoImZhaWxlZCB0byBwb3dlciBvbiBkZXZp
Y2VcbiIpOwotCQlnb3RvIGRvbmU7Ci0JfQotCi0JaWYgKGhkbWktPmF1ZGlvX2NvbmZpZ3VyZWQp
IHsKLQkJciA9IGhkbWk0X2F1ZGlvX2NvbmZpZygmaGRtaS0+Y29yZSwgJmhkbWktPndwLAotCQkJ
CSAgICAgICAmaGRtaS0+YXVkaW9fY29uZmlnLAotCQkJCSAgICAgICBoZG1pLT5jZmcudm0ucGl4
ZWxjbG9jayk7Ci0JCWlmIChyKSB7Ci0JCQlEU1NFUlIoIkVycm9yIHJlc3RvcmluZyBhdWRpbyBj
b25maWd1cmF0aW9uOiAlZCIsIHIpOwotCQkJaGRtaS0+YXVkaW9fYWJvcnRfY2IoJmhkbWktPnBk
ZXYtPmRldik7Ci0JCQloZG1pLT5hdWRpb19jb25maWd1cmVkID0gZmFsc2U7Ci0JCX0KLQl9Ci0K
LQlzcGluX2xvY2tfaXJxc2F2ZSgmaGRtaS0+YXVkaW9fcGxheWluZ19sb2NrLCBmbGFncyk7Ci0J
aWYgKGhkbWktPmF1ZGlvX2NvbmZpZ3VyZWQgJiYgaGRtaS0+YXVkaW9fcGxheWluZykKLQkJaGRt
aV9zdGFydF9hdWRpb19zdHJlYW0oaGRtaSk7Ci0JaGRtaS0+ZGlzcGxheV9lbmFibGVkID0gdHJ1
ZTsKLQlzcGluX3VubG9ja19pcnFyZXN0b3JlKCZoZG1pLT5hdWRpb19wbGF5aW5nX2xvY2ssIGZs
YWdzKTsKLQotZG9uZToKLQltdXRleF91bmxvY2soJmhkbWktPmxvY2spOwotfQotCi1zdGF0aWMg
dm9pZCBoZG1pX2Rpc3BsYXlfZGlzYWJsZShzdHJ1Y3Qgb21hcF9kc3NfZGV2aWNlICpkc3NkZXYp
Ci17Ci0Jc3RydWN0IG9tYXBfaGRtaSAqaGRtaSA9IGRzc2Rldl90b19oZG1pKGRzc2Rldik7Ci0J
dW5zaWduZWQgbG9uZyBmbGFnczsKLQotCURTU0RCRygiRW50ZXIgaGRtaV9kaXNwbGF5X2Rpc2Fi
bGVcbiIpOwotCi0JbXV0ZXhfbG9jaygmaGRtaS0+bG9jayk7Ci0KLQlzcGluX2xvY2tfaXJxc2F2
ZSgmaGRtaS0+YXVkaW9fcGxheWluZ19sb2NrLCBmbGFncyk7Ci0JaGRtaV9zdG9wX2F1ZGlvX3N0
cmVhbShoZG1pKTsKLQloZG1pLT5kaXNwbGF5X2VuYWJsZWQgPSBmYWxzZTsKLQlzcGluX3VubG9j
a19pcnFyZXN0b3JlKCZoZG1pLT5hdWRpb19wbGF5aW5nX2xvY2ssIGZsYWdzKTsKLQotCWhkbWlf
cG93ZXJfb2ZmX2Z1bGwoaGRtaSk7Ci0KLQltdXRleF91bmxvY2soJmhkbWktPmxvY2spOwotfQot
CiBpbnQgaGRtaTRfY29yZV9lbmFibGUoc3RydWN0IGhkbWlfY29yZV9kYXRhICpjb3JlKQogewog
CXN0cnVjdCBvbWFwX2hkbWkgKmhkbWkgPSBjb250YWluZXJfb2YoY29yZSwgc3RydWN0IG9tYXBf
aGRtaSwgY29yZSk7CkBAIC01MDAsMzkgKzQzMiwxNCBAQCBzdGF0aWMgdm9pZCBoZG1pX2xvc3Rf
aG90cGx1ZyhzdHJ1Y3Qgb21hcF9kc3NfZGV2aWNlICpkc3NkZXYpCiAJaGRtaTRfY2VjX3NldF9w
aHlzX2FkZHIoJmhkbWktPmNvcmUsIENFQ19QSFlTX0FERFJfSU5WQUxJRCk7CiB9CiAKLXN0YXRp
YyBpbnQgaGRtaV9zZXRfaW5mb2ZyYW1lKHN0cnVjdCBvbWFwX2Rzc19kZXZpY2UgKmRzc2RldiwK
LQkJY29uc3Qgc3RydWN0IGhkbWlfYXZpX2luZm9mcmFtZSAqYXZpKQotewotCXN0cnVjdCBvbWFw
X2hkbWkgKmhkbWkgPSBkc3NkZXZfdG9faGRtaShkc3NkZXYpOwotCi0JaGRtaS0+Y2ZnLmluZm9m
cmFtZSA9ICphdmk7Ci0JcmV0dXJuIDA7Ci19Ci0KLXN0YXRpYyBpbnQgaGRtaV9zZXRfaGRtaV9t
b2RlKHN0cnVjdCBvbWFwX2Rzc19kZXZpY2UgKmRzc2RldiwKLQkJYm9vbCBoZG1pX21vZGUpCi17
Ci0Jc3RydWN0IG9tYXBfaGRtaSAqaGRtaSA9IGRzc2Rldl90b19oZG1pKGRzc2Rldik7Ci0KLQlo
ZG1pLT5jZmcuaGRtaV9kdmlfbW9kZSA9IGhkbWlfbW9kZSA/IEhETUlfSERNSSA6IEhETUlfRFZJ
OwotCXJldHVybiAwOwotfQotCiBzdGF0aWMgY29uc3Qgc3RydWN0IG9tYXBfZHNzX2RldmljZV9v
cHMgaGRtaV9vcHMgPSB7CiAJLmNvbm5lY3QJCT0gaGRtaV9jb25uZWN0LAogCS5kaXNjb25uZWN0
CQk9IGhkbWlfZGlzY29ubmVjdCwKIAotCS5lbmFibGUJCQk9IGhkbWlfZGlzcGxheV9lbmFibGUs
Ci0JLmRpc2FibGUJCT0gaGRtaV9kaXNwbGF5X2Rpc2FibGUsCi0KLQkuc2V0X3RpbWluZ3MJCT0g
aGRtaV9kaXNwbGF5X3NldF90aW1pbmdzLAotCiAJLnJlYWRfZWRpZAkJPSBoZG1pX3JlYWRfZWRp
ZCwKIAogCS5oZG1pID0gewogCQkubG9zdF9ob3RwbHVnCQk9IGhkbWlfbG9zdF9ob3RwbHVnLAot
CQkuc2V0X2luZm9mcmFtZQkJPSBoZG1pX3NldF9pbmZvZnJhbWUsCi0JCS5zZXRfaGRtaV9tb2Rl
CQk9IGhkbWlfc2V0X2hkbWlfbW9kZSwKIAl9LAogfTsKIApAQCAtNTUxLDYgKzQ1OCwxMDcgQEAg
c3RhdGljIGludCBoZG1pNF9icmlkZ2VfYXR0YWNoKHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2Us
IGJvb2wgY3JlYXRlX2Nvbm5lY3RvcikKIAkJCQkgYnJpZGdlLCBmYWxzZSk7CiB9CiAKK3N0YXRp
YyB2b2lkIGhkbWk0X2JyaWRnZV9tb2RlX3NldChzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlLAor
CQkJCSAgY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGUsCisJCQkJICBjb25zdCBz
dHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqYWRqdXN0ZWRfbW9kZSkKK3sKKwlzdHJ1Y3Qgb21hcF9o
ZG1pICpoZG1pID0gZHJtX2JyaWRnZV90b19oZG1pKGJyaWRnZSk7CisKKwltdXRleF9sb2NrKCZo
ZG1pLT5sb2NrKTsKKworCWRybV9kaXNwbGF5X21vZGVfdG9fdmlkZW9tb2RlKGFkanVzdGVkX21v
ZGUsICZoZG1pLT5jZmcudm0pOworCisJZGlzcGNfc2V0X3R2X3BjbGsoaGRtaS0+ZHNzLT5kaXNw
YywgYWRqdXN0ZWRfbW9kZS0+Y2xvY2sgKiAxMDAwKTsKKworCW11dGV4X3VubG9jaygmaGRtaS0+
bG9jayk7Cit9CisKK3N0YXRpYyB2b2lkIGhkbWk0X2JyaWRnZV9lbmFibGUoc3RydWN0IGRybV9i
cmlkZ2UgKmJyaWRnZSwKKwkJCQlzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqc3RhdGUpCit7CisJ
c3RydWN0IG9tYXBfaGRtaSAqaGRtaSA9IGRybV9icmlkZ2VfdG9faGRtaShicmlkZ2UpOworCXN0
cnVjdCBkcm1fY29ubmVjdG9yX3N0YXRlICpjb25uX3N0YXRlOworCXN0cnVjdCBkcm1fY29ubmVj
dG9yICpjb25uZWN0b3I7CisJc3RydWN0IGRybV9jcnRjX3N0YXRlICpjcnRjX3N0YXRlOworCXVu
c2lnbmVkIGxvbmcgZmxhZ3M7CisJaW50IHJldDsKKworCS8qCisJICogTm9uZSBvZiB0aGVzZSBz
aG91bGQgZmFpbCwgYXMgdGhlIGJyaWRnZSBjYW4ndCBiZSBlbmFibGVkIHdpdGhvdXQgYQorCSAq
IHZhbGlkIENSVEMgdG8gY29ubmVjdG9yIHBhdGggd2l0aCBmdWxseSBwb3B1bGF0ZWQgbmV3IHN0
YXRlcy4KKwkgKi8KKwljb25uZWN0b3IgPSBkcm1fYXRvbWljX2dldF9uZXdfY29ubmVjdG9yX2Zv
cl9lbmNvZGVyKHN0YXRlLAorCQkJCQkJCSAgICAgYnJpZGdlLT5lbmNvZGVyKTsKKwlpZiAoV0FS
Tl9PTighY29ubmVjdG9yKSkKKwkJcmV0dXJuOworCWNvbm5fc3RhdGUgPSBkcm1fYXRvbWljX2dl
dF9uZXdfY29ubmVjdG9yX3N0YXRlKHN0YXRlLCBjb25uZWN0b3IpOworCWlmIChXQVJOX09OKCFj
b25uX3N0YXRlKSkKKwkJcmV0dXJuOworCWNydGNfc3RhdGUgPSBkcm1fYXRvbWljX2dldF9uZXdf
Y3J0Y19zdGF0ZShzdGF0ZSwgY29ubl9zdGF0ZS0+Y3J0Yyk7CisJaWYgKFdBUk5fT04oIWNydGNf
c3RhdGUpKQorCQlyZXR1cm47CisKKwloZG1pLT5jZmcuaGRtaV9kdmlfbW9kZSA9IGNvbm5lY3Rv
ci0+ZGlzcGxheV9pbmZvLmlzX2hkbWkKKwkJCQk/IEhETUlfSERNSSA6IEhETUlfRFZJOworCisJ
aWYgKGNvbm5lY3Rvci0+ZGlzcGxheV9pbmZvLmlzX2hkbWkpIHsKKwkJY29uc3Qgc3RydWN0IGRy
bV9kaXNwbGF5X21vZGUgKm1vZGU7CisJCXN0cnVjdCBoZG1pX2F2aV9pbmZvZnJhbWUgYXZpOwor
CisJCW1vZGUgPSAmY3J0Y19zdGF0ZS0+YWRqdXN0ZWRfbW9kZTsKKwkJcmV0ID0gZHJtX2hkbWlf
YXZpX2luZm9mcmFtZV9mcm9tX2Rpc3BsYXlfbW9kZSgmYXZpLCBjb25uZWN0b3IsCisJCQkJCQkJ
ICAgICAgIG1vZGUpOworCQlpZiAocmV0ID09IDApCisJCQloZG1pLT5jZmcuaW5mb2ZyYW1lID0g
YXZpOworCX0KKworCW11dGV4X2xvY2soJmhkbWktPmxvY2spOworCisJcmV0ID0gaGRtaV9wb3dl
cl9vbl9mdWxsKGhkbWkpOworCWlmIChyZXQpIHsKKwkJRFNTRVJSKCJmYWlsZWQgdG8gcG93ZXIg
b24gZGV2aWNlXG4iKTsKKwkJZ290byBkb25lOworCX0KKworCWlmIChoZG1pLT5hdWRpb19jb25m
aWd1cmVkKSB7CisJCXJldCA9IGhkbWk0X2F1ZGlvX2NvbmZpZygmaGRtaS0+Y29yZSwgJmhkbWkt
PndwLAorCQkJCQkgJmhkbWktPmF1ZGlvX2NvbmZpZywKKwkJCQkJIGhkbWktPmNmZy52bS5waXhl
bGNsb2NrKTsKKwkJaWYgKHJldCkgeworCQkJRFNTRVJSKCJFcnJvciByZXN0b3JpbmcgYXVkaW8g
Y29uZmlndXJhdGlvbjogJWQiLCByZXQpOworCQkJaGRtaS0+YXVkaW9fYWJvcnRfY2IoJmhkbWkt
PnBkZXYtPmRldik7CisJCQloZG1pLT5hdWRpb19jb25maWd1cmVkID0gZmFsc2U7CisJCX0KKwl9
CisKKwlzcGluX2xvY2tfaXJxc2F2ZSgmaGRtaS0+YXVkaW9fcGxheWluZ19sb2NrLCBmbGFncyk7
CisJaWYgKGhkbWktPmF1ZGlvX2NvbmZpZ3VyZWQgJiYgaGRtaS0+YXVkaW9fcGxheWluZykKKwkJ
aGRtaV9zdGFydF9hdWRpb19zdHJlYW0oaGRtaSk7CisJaGRtaS0+ZGlzcGxheV9lbmFibGVkID0g
dHJ1ZTsKKwlzcGluX3VubG9ja19pcnFyZXN0b3JlKCZoZG1pLT5hdWRpb19wbGF5aW5nX2xvY2ss
IGZsYWdzKTsKKworZG9uZToKKwltdXRleF91bmxvY2soJmhkbWktPmxvY2spOworfQorCitzdGF0
aWMgdm9pZCBoZG1pNF9icmlkZ2VfZGlzYWJsZShzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlLAor
CQkJCSBzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqc3RhdGUpCit7CisJc3RydWN0IG9tYXBfaGRt
aSAqaGRtaSA9IGRybV9icmlkZ2VfdG9faGRtaShicmlkZ2UpOworCXVuc2lnbmVkIGxvbmcgZmxh
Z3M7CisKKwltdXRleF9sb2NrKCZoZG1pLT5sb2NrKTsKKworCXNwaW5fbG9ja19pcnFzYXZlKCZo
ZG1pLT5hdWRpb19wbGF5aW5nX2xvY2ssIGZsYWdzKTsKKwloZG1pX3N0b3BfYXVkaW9fc3RyZWFt
KGhkbWkpOworCWhkbWktPmRpc3BsYXlfZW5hYmxlZCA9IGZhbHNlOworCXNwaW5fdW5sb2NrX2ly
cXJlc3RvcmUoJmhkbWktPmF1ZGlvX3BsYXlpbmdfbG9jaywgZmxhZ3MpOworCisJaGRtaV9wb3dl
cl9vZmZfZnVsbChoZG1pKTsKKworCW11dGV4X3VubG9jaygmaGRtaS0+bG9jayk7Cit9CisKIHN0
YXRpYyBzdHJ1Y3QgZWRpZCAqaGRtaTRfYnJpZGdlX3JlYWRfZWRpZChzdHJ1Y3Qgb21hcF9oZG1p
ICpoZG1pLAogCQkJCQkgICBzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogewpAQCAt
NTY3LDYgKzU3NSw5IEBAIHN0YXRpYyBzdHJ1Y3QgZWRpZCAqaGRtaTRfYnJpZGdlX2dldF9lZGlk
KHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UsCiAKIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Jy
aWRnZV9mdW5jcyBoZG1pNF9icmlkZ2VfZnVuY3MgPSB7CiAJLmF0dGFjaCA9IGhkbWk0X2JyaWRn
ZV9hdHRhY2gsCisJLm1vZGVfc2V0ID0gaGRtaTRfYnJpZGdlX21vZGVfc2V0LAorCS5hdG9taWNf
ZW5hYmxlID0gaGRtaTRfYnJpZGdlX2VuYWJsZSwKKwkuYXRvbWljX2Rpc2FibGUgPSBoZG1pNF9i
cmlkZ2VfZGlzYWJsZSwKIAkuZ2V0X2VkaWQgPSBoZG1pNF9icmlkZ2VfZ2V0X2VkaWQsCiB9Owog
Ci0tIApSZWdhcmRzLAoKTGF1cmVudCBQaW5jaGFydAoKX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxA
bGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxt
YW4vbGlzdGluZm8vZHJpLWRldmVs
