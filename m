Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id D05149E32F
	for <lists+dri-devel@lfdr.de>; Tue, 27 Aug 2019 10:53:36 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 2227889812;
	Tue, 27 Aug 2019 08:53:34 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from bhuna.collabora.co.uk (bhuna.collabora.co.uk
 [IPv6:2a00:1098:0:82:1000:25:2eeb:e3e3])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7372B89812
 for <dri-devel@lists.freedesktop.org>; Tue, 27 Aug 2019 08:53:32 +0000 (UTC)
Received: from localhost (unknown [IPv6:2a01:e0a:2c:6930:5cf4:84a1:2763:fe0d])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256
 bits)) (No client certificate requested)
 (Authenticated sender: bbrezillon)
 by bhuna.collabora.co.uk (Postfix) with ESMTPSA id E3EF427FB86;
 Tue, 27 Aug 2019 09:53:30 +0100 (BST)
Date: Tue, 27 Aug 2019 10:53:27 +0200
From: Boris Brezillon <boris.brezillon@collabora.com>
To: Neil Armstrong <narmstrong@baylibre.com>
Subject: Re: [PATCH RFC v2 2/8] drm/meson: meson_dw_hdmi: switch to
 drm_bridge_funcs
Message-ID: <20190827105327.3df8ec37@collabora.com>
In-Reply-To: <20190827081425.15011-3-narmstrong@baylibre.com>
References: <20190827081425.15011-1-narmstrong@baylibre.com>
 <20190827081425.15011-3-narmstrong@baylibre.com>
Organization: Collabora
X-Mailer: Claws Mail 3.17.3 (GTK+ 2.24.32; x86_64-redhat-linux-gnu)
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: jernej.skrabec@siol.net, jonas@kwiboo.se, linux-kernel@vger.kernel.org,
 dri-devel@lists.freedesktop.org, Laurent.pinchart@ideasonboard.com,
 linux-amlogic@lists.infradead.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVHVlLCAyNyBBdWcgMjAxOSAxMDoxNDoxOSArMDIwMApOZWlsIEFybXN0cm9uZyA8bmFybXN0
cm9uZ0BiYXlsaWJyZS5jb20+IHdyb3RlOgoKPiBTd2l0Y2ggdGhlIGR3LWhkbWkgZHJpdmVyIHRv
IGRybV9icmlkZ2VfZnVuY3MsIGFuZCBpbXBsZW1lbnQgdGhlCj4gYXRvbWljX2dldF9pbnB1dF9i
dXNfZm10cy9hdG9taWNfZ2V0X291dHB1dF9idXNfZm10cy4KPiAKPiBTaWduZWQtb2ZmLWJ5OiBO
ZWlsIEFybXN0cm9uZyA8bmFybXN0cm9uZ0BiYXlsaWJyZS5jb20+Cj4gLS0tCj4gIGRyaXZlcnMv
Z3B1L2RybS9tZXNvbi9tZXNvbl9kd19oZG1pLmMgfCA2NyArKysrKysrKysrKysrKysrKysrKyst
LS0tLS0KPiAgMSBmaWxlIGNoYW5nZWQsIDU0IGluc2VydGlvbnMoKyksIDEzIGRlbGV0aW9ucygt
KQo+IAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fZHdfaGRtaS5j
IGIvZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29uX2R3X2hkbWkuYwo+IGluZGV4IGY4OTNlYmQw
Yjc5OS4uMzMzNTgzZWYzYWI5IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9t
ZXNvbl9kd19oZG1pLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fZHdfaGRt
aS5jCj4gQEAgLTM2OCw3ICszNjgsNyBAQCBzdGF0aWMgaW5saW5lIHZvaWQgbWVzb25fZHdfaGRt
aV9waHlfcmVzZXQoc3RydWN0IG1lc29uX2R3X2hkbWkgKmR3X2hkbWkpCj4gIH0KPiAgCj4gIHN0
YXRpYyB2b2lkIGR3X2hkbWlfc2V0X3ZjbGsoc3RydWN0IG1lc29uX2R3X2hkbWkgKmR3X2hkbWks
Cj4gLQkJCSAgICAgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGUpCj4gKwkJCSAgICAgY29u
c3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGUpCj4gIHsKPiAgCXN0cnVjdCBtZXNvbl9k
cm0gKnByaXYgPSBkd19oZG1pLT5wcml2Owo+ICAJaW50IHZpYyA9IGRybV9tYXRjaF9jZWFfbW9k
ZShtb2RlKTsKPiBAQCAtNjYzLDYgKzY2MywxMCBAQCBkd19oZG1pX21vZGVfdmFsaWQoc3RydWN0
IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciwKPiAgCj4gIC8qIEVuY29kZXIgKi8KPiAgCj4gK3N0
YXRpYyBjb25zdCB1MzIgbWVzb25fZHdfaGRtaV9vdXRfYnVzX2ZtdHNbXSA9IHsKPiArCU1FRElB
X0JVU19GTVRfWVVWOF8xWDI0LAo+ICt9Owo+ICsKPiAgc3RhdGljIHZvaWQgbWVzb25fdmVuY19o
ZG1pX2VuY29kZXJfZGVzdHJveShzdHJ1Y3QgZHJtX2VuY29kZXIgKmVuY29kZXIpCj4gIHsKPiAg
CWRybV9lbmNvZGVyX2NsZWFudXAoZW5jb2Rlcik7Cj4gQEAgLTY3MiwxNSArNjc2LDUwIEBAIHN0
YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2VuY29kZXJfZnVuY3MgbWVzb25fdmVuY19oZG1pX2VuY29k
ZXJfZnVuY3MgPSB7Cj4gIAkuZGVzdHJveSAgICAgICAgPSBtZXNvbl92ZW5jX2hkbWlfZW5jb2Rl
cl9kZXN0cm95LAo+ICB9Owo+ICAKPiAtc3RhdGljIGludCBtZXNvbl92ZW5jX2hkbWlfZW5jb2Rl
cl9hdG9taWNfY2hlY2soc3RydWN0IGRybV9lbmNvZGVyICplbmNvZGVyLAo+ICtzdGF0aWMgdm9p
ZAo+ICttZXNvbl92ZW5jX2hkbWlfZW5jb2Rlcl9nZXRfb3V0X2J1c19mbXRzKHN0cnVjdCBkcm1f
YnJpZGdlICpicmlkZ2UsCj4gKwkJCQkJIHN0cnVjdCBkcm1fYnJpZGdlX3N0YXRlICpicmlkZ2Vf
c3RhdGUsCj4gKwkJCQkJIHN0cnVjdCBkcm1fY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSwKPiArCQkJ
CQkgc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKmNvbm5fc3RhdGUsCj4gKwkJCQkJIHVuc2ln
bmVkIGludCAqbnVtX291dHB1dF9mbXRzLAo+ICsJCQkJCSB1MzIgKm91dHB1dF9mbXRzKQo+ICt7
Cj4gKwkqbnVtX291dHB1dF9mbXRzID0gQVJSQVlfU0laRShtZXNvbl9kd19oZG1pX291dF9idXNf
Zm10cyk7Cj4gKwo+ICsJaWYgKG91dHB1dF9mbXRzKQo+ICsJCW1lbWNweShvdXRwdXRfZm10cywg
bWVzb25fZHdfaGRtaV9vdXRfYnVzX2ZtdHMsCj4gKwkJICAgICAgIEFSUkFZX1NJWkUobWVzb25f
ZHdfaGRtaV9vdXRfYnVzX2ZtdHMpKTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQKPiArbWVzb25f
dmVuY19oZG1pX2VuY29kZXJfZ2V0X2lucF9idXNfZm10cyhzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJp
ZGdlLAo+ICsJCQkJCXN0cnVjdCBkcm1fYnJpZGdlX3N0YXRlICpicmlkZ2Vfc3RhdGUsCj4gKwkJ
CQkJc3RydWN0IGRybV9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLAo+ICsJCQkJCXN0cnVjdCBkcm1f
Y29ubmVjdG9yX3N0YXRlICpjb25uX3N0YXRlLAo+ICsJCQkJCXUzMiBvdXRwdXRfZm10LAo+ICsJ
CQkJCXVuc2lnbmVkIGludCAqbnVtX2lucHV0X2ZtdHMsCj4gKwkJCQkJdTMyICppbnB1dF9mbXRz
KQo+ICt7Cj4gKwlpZiAob3V0cHV0X2ZtdCA9PSBtZXNvbl9kd19oZG1pX291dF9idXNfZm10c1sw
XSkgewo+ICsJCSpudW1faW5wdXRfZm10cyA9IDE7Cj4gKwkJaWYgKGlucHV0X2ZtdHMpCj4gKwkJ
CWlucHV0X2ZtdHNbMF0gPSBvdXRwdXRfZm10Owo+ICsJfQo+ICsJZWxzZQo+ICsJCSpudW1faW5w
dXRfZm10cyA9IDA7CgpuaXRwaWNrOgoKCX0gZWxzZSB7CgkJKm51bV9pbnB1dF9mbXRzID0gMDsK
CX0KCj4gK30KPiArCj4gK3N0YXRpYyBpbnQgbWVzb25fdmVuY19oZG1pX2VuY29kZXJfYXRvbWlj
X2NoZWNrKHN0cnVjdCBkcm1fYnJpZGdlICpicmlkZ2UsCj4gKwkJCQkJc3RydWN0IGRybV9icmlk
Z2Vfc3RhdGUgKmJyaWRnZV9zdGF0ZSwKPiAgCQkJCQlzdHJ1Y3QgZHJtX2NydGNfc3RhdGUgKmNy
dGNfc3RhdGUsCj4gIAkJCQkJc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKmNvbm5fc3RhdGUp
Cj4gIHsKPiAgCXJldHVybiAwOwo+ICB9CgpUaGlzIGhvb2sgaXMgb3B0aW9uYWwsIHlvdSBkb24n
dCBuZWVkIHRoaXMgc3R1Yi4KCkxvb2tzIGdvb2Qgb3RoZXJ3aXNlOgoKUmV2aWV3ZWQtYnk6IEJv
cmlzIEJyZXppbGxvbiA8Ym9yaXMuYnJlemlsbG9uQGNvbGxhYm9yYS5jb20+Cgo+ICAKPiAtc3Rh
dGljIHZvaWQgbWVzb25fdmVuY19oZG1pX2VuY29kZXJfZGlzYWJsZShzdHJ1Y3QgZHJtX2VuY29k
ZXIgKmVuY29kZXIpCj4gK3N0YXRpYyB2b2lkIG1lc29uX3ZlbmNfaGRtaV9lbmNvZGVyX2Rpc2Fi
bGUoc3RydWN0IGRybV9icmlkZ2UgKmJyaWRnZSkKPiAgewo+ICsJc3RydWN0IGRybV9lbmNvZGVy
ICplbmNvZGVyID0gYnJpZGdlX3RvX2VuY29kZXIoYnJpZGdlKTsKPiAgCXN0cnVjdCBtZXNvbl9k
d19oZG1pICpkd19oZG1pID0gZW5jb2Rlcl90b19tZXNvbl9kd19oZG1pKGVuY29kZXIpOwo+ICAJ
c3RydWN0IG1lc29uX2RybSAqcHJpdiA9IGR3X2hkbWktPnByaXY7Cj4gIAo+IEBAIC02OTMsOCAr
NzMyLDkgQEAgc3RhdGljIHZvaWQgbWVzb25fdmVuY19oZG1pX2VuY29kZXJfZGlzYWJsZShzdHJ1
Y3QgZHJtX2VuY29kZXIgKmVuY29kZXIpCj4gIAl3cml0ZWxfcmVsYXhlZCgwLCBwcml2LT5pb19i
YXNlICsgX1JFRyhFTkNQX1ZJREVPX0VOKSk7Cj4gIH0KPiAgCj4gLXN0YXRpYyB2b2lkIG1lc29u
X3ZlbmNfaGRtaV9lbmNvZGVyX2VuYWJsZShzdHJ1Y3QgZHJtX2VuY29kZXIgKmVuY29kZXIpCj4g
K3N0YXRpYyB2b2lkIG1lc29uX3ZlbmNfaGRtaV9lbmNvZGVyX2VuYWJsZShzdHJ1Y3QgZHJtX2Jy
aWRnZSAqYnJpZGdlKQo+ICB7Cj4gKwlzdHJ1Y3QgZHJtX2VuY29kZXIgKmVuY29kZXIgPSBicmlk
Z2VfdG9fZW5jb2RlcihicmlkZ2UpOwo+ICAJc3RydWN0IG1lc29uX2R3X2hkbWkgKmR3X2hkbWkg
PSBlbmNvZGVyX3RvX21lc29uX2R3X2hkbWkoZW5jb2Rlcik7Cj4gIAlzdHJ1Y3QgbWVzb25fZHJt
ICpwcml2ID0gZHdfaGRtaS0+cHJpdjsKPiAgCj4gQEAgLTcwNiwxMCArNzQ2LDExIEBAIHN0YXRp
YyB2b2lkIG1lc29uX3ZlbmNfaGRtaV9lbmNvZGVyX2VuYWJsZShzdHJ1Y3QgZHJtX2VuY29kZXIg
KmVuY29kZXIpCj4gIAkJd3JpdGVsX3JlbGF4ZWQoMSwgcHJpdi0+aW9fYmFzZSArIF9SRUcoRU5D
UF9WSURFT19FTikpOwo+ICB9Cj4gIAo+IC1zdGF0aWMgdm9pZCBtZXNvbl92ZW5jX2hkbWlfZW5j
b2Rlcl9tb2RlX3NldChzdHJ1Y3QgZHJtX2VuY29kZXIgKmVuY29kZXIsCj4gLQkJCQkgICBzdHJ1
Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZSwKPiAtCQkJCSAgIHN0cnVjdCBkcm1fZGlzcGxheV9t
b2RlICphZGp1c3RlZF9tb2RlKQo+ICtzdGF0aWMgdm9pZCBtZXNvbl92ZW5jX2hkbWlfZW5jb2Rl
cl9tb2RlX3NldChzdHJ1Y3QgZHJtX2JyaWRnZSAqYnJpZGdlLAo+ICsJCQkJICAgY29uc3Qgc3Ry
dWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGUsCj4gKwkJCQkgICBjb25zdCBzdHJ1Y3QgZHJtX2Rp
c3BsYXlfbW9kZSAqYWRqdXN0ZWRfbW9kZSkKPiAgewo+ICsJc3RydWN0IGRybV9lbmNvZGVyICpl
bmNvZGVyID0gYnJpZGdlX3RvX2VuY29kZXIoYnJpZGdlKTsKPiAgCXN0cnVjdCBtZXNvbl9kd19o
ZG1pICpkd19oZG1pID0gZW5jb2Rlcl90b19tZXNvbl9kd19oZG1pKGVuY29kZXIpOwo+ICAJc3Ry
dWN0IG1lc29uX2RybSAqcHJpdiA9IGR3X2hkbWktPnByaXY7Cj4gIAlpbnQgdmljID0gZHJtX21h
dGNoX2NlYV9tb2RlKG1vZGUpOwo+IEBAIC03MjYsMTEgKzc2NywxMiBAQCBzdGF0aWMgdm9pZCBt
ZXNvbl92ZW5jX2hkbWlfZW5jb2Rlcl9tb2RlX3NldChzdHJ1Y3QgZHJtX2VuY29kZXIgKmVuY29k
ZXIsCj4gIAl3cml0ZWxfcmVsYXhlZCgwLCBwcml2LT5pb19iYXNlICsgX1JFRyhWUFVfSERNSV9G
TVRfQ1RSTCkpOwo+ICB9Cj4gIAo+IC1zdGF0aWMgY29uc3Qgc3RydWN0IGRybV9lbmNvZGVyX2hl
bHBlcl9mdW5jcwo+IC0JCQkJbWVzb25fdmVuY19oZG1pX2VuY29kZXJfaGVscGVyX2Z1bmNzID0g
ewo+IC0JLmF0b21pY19jaGVjawk9IG1lc29uX3ZlbmNfaGRtaV9lbmNvZGVyX2F0b21pY19jaGVj
aywKPiAtCS5kaXNhYmxlCT0gbWVzb25fdmVuY19oZG1pX2VuY29kZXJfZGlzYWJsZSwKPiArc3Rh
dGljIGNvbnN0IHN0cnVjdCBkcm1fYnJpZGdlX2Z1bmNzIG1lc29uX3ZlbmNfaGRtaV9lbmNvZGVy
X2JyaWRnZV9mdW5jcyA9IHsKPiAgCS5lbmFibGUJCT0gbWVzb25fdmVuY19oZG1pX2VuY29kZXJf
ZW5hYmxlLAo+ICsJLmRpc2FibGUJPSBtZXNvbl92ZW5jX2hkbWlfZW5jb2Rlcl9kaXNhYmxlLAo+
ICsJLmF0b21pY19jaGVjawk9IG1lc29uX3ZlbmNfaGRtaV9lbmNvZGVyX2F0b21pY19jaGVjaywK
PiArCS5hdG9taWNfZ2V0X291dHB1dF9idXNfZm10cyA9IG1lc29uX3ZlbmNfaGRtaV9lbmNvZGVy
X2dldF9vdXRfYnVzX2ZtdHMsCj4gKwkuYXRvbWljX2dldF9pbnB1dF9idXNfZm10cyA9IG1lc29u
X3ZlbmNfaGRtaV9lbmNvZGVyX2dldF9pbnBfYnVzX2ZtdHMsCj4gIAkubW9kZV9zZXQJPSBtZXNv
bl92ZW5jX2hkbWlfZW5jb2Rlcl9tb2RlX3NldCwKPiAgfTsKPiAgCj4gQEAgLTkxMiw4ICs5NTQs
NyBAQCBzdGF0aWMgaW50IG1lc29uX2R3X2hkbWlfYmluZChzdHJ1Y3QgZGV2aWNlICpkZXYsIHN0
cnVjdCBkZXZpY2UgKm1hc3RlciwKPiAgCj4gIAkvKiBFbmNvZGVyICovCj4gIAo+IC0JZHJtX2Vu
Y29kZXJfaGVscGVyX2FkZChlbmNvZGVyLCAmbWVzb25fdmVuY19oZG1pX2VuY29kZXJfaGVscGVy
X2Z1bmNzKTsKPiAtCj4gKwllbmNvZGVyLT5icmlkZ2UuZnVuY3MgPSAmbWVzb25fdmVuY19oZG1p
X2VuY29kZXJfYnJpZGdlX2Z1bmNzOwo+ICAJcmV0ID0gZHJtX2VuY29kZXJfaW5pdChkcm0sIGVu
Y29kZXIsICZtZXNvbl92ZW5jX2hkbWlfZW5jb2Rlcl9mdW5jcywKPiAgCQkJICAgICAgIERSTV9N
T0RFX0VOQ09ERVJfVE1EUywgIm1lc29uX2hkbWkiKTsKPiAgCWlmIChyZXQpIHsKCl9fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5n
IGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVk
ZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
