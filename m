Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 89EB724ECF
	for <lists+dri-devel@lfdr.de>; Tue, 21 May 2019 14:17:39 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B081589369;
	Tue, 21 May 2019 12:17:35 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga04.intel.com (mga04.intel.com [192.55.52.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 88E40893A8;
 Tue, 21 May 2019 12:17:30 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga006.fm.intel.com ([10.253.24.20])
 by fmsmga104.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 21 May 2019 05:17:30 -0700
X-ExtLoop1: 1
Received: from helsinki.fi.intel.com ([10.237.66.174])
 by fmsmga006.fm.intel.com with ESMTP; 21 May 2019 05:17:27 -0700
From: Gwan-gyeong Mun <gwan-gyeong.mun@intel.com>
To: intel-gfx@lists.freedesktop.org
Subject: [PATCH v9 3/6] drm/i915/dp: Program VSC Header and DB for Pixel
 Encoding/Colorimetry Format
Date: Tue, 21 May 2019 15:17:18 +0300
Message-Id: <20190521121721.32010-4-gwan-gyeong.mun@intel.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190521121721.32010-1-gwan-gyeong.mun@intel.com>
References: <20190521121721.32010-1-gwan-gyeong.mun@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: dri-devel@lists.freedesktop.org, laurent.pinchart@ideasonboard.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnVuY3Rpb24gaW50ZWxfcGl4ZWxfZW5jb2Rpbmdfc2V0dXBfdnNjIGhhbmRsZXMgdnNjIGhlYWRl
ciBhbmQgZGF0YSBibG9jawpzZXR1cCBmb3IgcGl4ZWwgZW5jb2RpbmcgLyBjb2xvcmltZXRyeSBm
b3JtYXQuCgpTZXR1cCBWU0MgaGVhZGVyIGFuZCBkYXRhIGJsb2NrIGluIGZ1bmN0aW9uIGludGVs
X3BpeGVsX2VuY29kaW5nX3NldHVwX3ZzYwpmb3IgcGl4ZWwgZW5jb2RpbmcgLyBjb2xvcmltZXRy
eSBmb3JtYXQgYXMgcGVyIGRwIDEuNGEgc3BlYywKc2VjdGlvbiAyLjIuNS43LjEsIHRhYmxlIDIt
MTE5OiBWU0MgU0RQIEhlYWRlciBCeXRlcywgc2VjdGlvbiAyLjIuNS43LjUsCnRhYmxlIDItMTIw
OlZTQyBTRFAgUGF5bG9hZCBmb3IgREIxNiB0aHJvdWdoIERCMTguCgp2MjoKICBNaW5vciBzdHls
ZSBmaXguIFtNYWFydGVuXQogIFJlZmVyIHRvIGNvbW1pdCBpZHMgaW5zdGVhZCBvZiBwYXRjaHdv
cmsuIFtNYWFydGVuXQoKdjY6IFJlYmFzZQoKdjc6CiAgUmViYXNlIGFuZCBhZGRyZXNzZWQgcmV2
aWV3IGNvbW1lbnRzIGZyb20gVmlsbGUuCiAgVXNlIGEgc3RydWN0dXJlIGluaXRpYWxpemVyIGlu
c3RlYWQgb2YgbWVtc2V0KCkuCiAgRml4IG5vbi1zdGFuZGFyZCBjb21tZW50IGZvcm1hdC4KICBS
ZW1vdmUgYSByZWZlcnJpbmcgdG8gc3BlY2lmaWMgY29tbWl0LgogIEFkZCBhIHNldHRpbmcgb2Yg
ZHluYW1pYyByYW5nZSBiaXQgdG8gIHZzY19zZHAuREIxNy4KICBBZGQgYSBzZXR0aW5nIG9mIGJw
YyB3aGljaCBpcyBiYXNlZCBvbiBwaXBlX2JwcC4KICBSZW1vdmUgZHVwbGljYXRlZCBjaGVja2lu
ZyBvZiBjb25uZWN0b3IncyB5Y2Jjcl80MjBfYWxsb3dlZCBmcm9tCiAgaW50ZWxfcGl4ZWxfZW5j
b2Rpbmdfc2V0dXBfdnNjKCkuIEl0IGlzIGFscmVhZHkgY2hlY2tlZCBmcm9tCiAgaW50ZWxfZHBf
eWNiY3I0MjBfY29uZmlnKCkuCiAgUmVtb3ZlIGNvbW1lbnRzIGZvciBWU0NfU0RQX0VYVEVOU0lP
Tl9GT1JfQ09MT1JJTUVUUllfU1VQUE9SVEVELiBJdCBpcwogIGFscmVhZHkgaW1wbGVtZW50ZWQg
b24gaW50ZWxfZHBfZ2V0X2NvbG9yaW1ldHJ5X3N0YXR1cygpLgoKdjg6CiAgQSBtaXNzaW5nIG9m
IHNldHRpbmcgYnBjIHRvIFZTQyBzZXR1cCBpcyB0aGUgcHJldHR5IGZhdGFsIGNhc2UsIGl0CiAg
cmVwbGFjZXMgRFJNX0RFQlVHX0tNUygpIHRvIE1JU1NJTkdfQ0FTRSgpLiBbTWFhcnRlbl0KCnY5
OiBVc2UgYSBjaGFuZ2VkIG1lbWJlciBuYW1lIG9mIHN0cnVjdCBkcF9zZHAuIGl0IHJlbmFtZWQg
dG8gZGIgZnJvbSBEQi4KCkNjOiBNYWFydGVuIExhbmtob3JzdCA8bWFhcnRlbi5sYW5raG9yc3RA
bGludXguaW50ZWwuY29tPgpDYzogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4
LmludGVsLmNvbT4KU2lnbmVkLW9mZi1ieTogR3dhbi1neWVvbmcgTXVuIDxnd2FuLWd5ZW9uZy5t
dW5AaW50ZWwuY29tPgpSZXZpZXdlZC1ieTogTWFhcnRlbiBMYW5raG9yc3QgPG1hYXJ0ZW4ubGFu
a2hvcnN0QGxpbnV4LmludGVsLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9k
ZGkuYyB8ICAxICsKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2RwLmMgIHwgOTAgKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2Ry
di5oIHwgIDIgKwogMyBmaWxlcyBjaGFuZ2VkLCA5MyBpbnNlcnRpb25zKCspCgpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGRpLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9pbnRlbF9kZGkuYwppbmRleCAwYWY0N2YzNDNmYWEuLmIyOWU2MWI3NDk2MSAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGRpLmMKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaW50ZWxfZGRpLmMKQEAgLTMzODksNiArMzM4OSw3IEBAIHN0YXRpYyB2b2lkIGludGVs
X2VuYWJsZV9kZGlfZHAoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCiAKIAlpbnRlbF9l
ZHBfYmFja2xpZ2h0X29uKGNydGNfc3RhdGUsIGNvbm5fc3RhdGUpOwogCWludGVsX3Bzcl9lbmFi
bGUoaW50ZWxfZHAsIGNydGNfc3RhdGUpOworCWludGVsX2RwX3ljYmNyXzQyMF9lbmFibGUoaW50
ZWxfZHAsIGNydGNfc3RhdGUpOwogCWludGVsX2VkcF9kcnJzX2VuYWJsZShpbnRlbF9kcCwgY3J0
Y19zdGF0ZSk7CiAKIAlpZiAoY3J0Y19zdGF0ZS0+aGFzX2F1ZGlvKQpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZHAuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVs
X2RwLmMKaW5kZXggMGI0OTUxNzYzODJlLi4wNmIxZGMyNzQxOTYgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2ludGVsX2RwLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50
ZWxfZHAuYwpAQCAtNDQxNSw2ICs0NDE1LDk2IEBAIHU4IGludGVsX2RwX2RzY19nZXRfc2xpY2Vf
Y291bnQoc3RydWN0IGludGVsX2RwICppbnRlbF9kcCwKIAlyZXR1cm4gMDsKIH0KIAorc3RhdGlj
IHZvaWQKK2ludGVsX3BpeGVsX2VuY29kaW5nX3NldHVwX3ZzYyhzdHJ1Y3QgaW50ZWxfZHAgKmlu
dGVsX2RwLAorCQkJICAgICAgIGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0
YXRlKQoreworCXN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQgKmludGVsX2RpZ19wb3J0ID0gZHBf
dG9fZGlnX3BvcnQoaW50ZWxfZHApOworCXN0cnVjdCBkcF9zZHAgdnNjX3NkcCA9IHt9OworCisJ
LyogUHJlcGFyZSBWU0MgSGVhZGVyIGZvciBTVSBhcyBwZXIgRFAgMS40YSBzcGVjLCBUYWJsZSAy
LTExOSAqLworCXZzY19zZHAuc2RwX2hlYWRlci5IQjAgPSAwOworCXZzY19zZHAuc2RwX2hlYWRl
ci5IQjEgPSAweDc7CisKKwkvKgorCSAqIFZTQyBTRFAgc3VwcG9ydGluZyAzRCBzdGVyZW8sIFBT
UjIsIGFuZCBQaXhlbCBFbmNvZGluZy8KKwkgKiBDb2xvcmltZXRyeSBGb3JtYXQgaW5kaWNhdGlv
bi4KKwkgKi8KKwl2c2Nfc2RwLnNkcF9oZWFkZXIuSEIyID0gMHg1OworCisJLyoKKwkgKiBWU0Mg
U0RQIHN1cHBvcnRpbmcgM0Qgc3RlcmVvLCArIFBTUjIsICsgUGl4ZWwgRW5jb2RpbmcvCisJICog
Q29sb3JpbWV0cnkgRm9ybWF0IGluZGljYXRpb24gKEhCMiA9IDA1aCkuCisJICovCisJdnNjX3Nk
cC5zZHBfaGVhZGVyLkhCMyA9IDB4MTM7CisKKwkvKgorCSAqIFlDYkNyIDQyMCA9IDNoIERCMTZb
Nzo0XSBJVFUtUiBCVC42MDEgPSAwaCwgSVRVLVIgQlQuNzA5ID0gMWgKKwkgKiBEQjE2WzM6MF0g
RFAgMS40YSBzcGVjLCBUYWJsZSAyLTEyMAorCSAqLworCXZzY19zZHAuZGJbMTZdID0gMHgzIDw8
IDQ7IC8qIDB4MyA8PCA0ICwgWUNiQ3IgNDIwKi8KKwkvKiBSR0ItPllDQkNSIGNvbG9yIGNvbnZl
cnNpb24gdXNlcyB0aGUgQlQuNzA5IGNvbG9yIHNwYWNlLiAqLworCXZzY19zZHAuZGJbMTZdIHw9
IDB4MTsgLyogMHgxLCBJVFUtUiBCVC43MDkgKi8KKworCS8qCisJICogRm9yIHBpeGVsIGVuY29k
aW5nIGZvcm1hdHMgWUNiQ3I0NDQsIFlDYkNyNDIyLCBZQ2JDcjQyMCwgYW5kIFkgT25seSwKKwkg
KiB0aGUgZm9sbG93aW5nIENvbXBvbmVudCBCaXQgRGVwdGggdmFsdWVzIGFyZSBkZWZpbmVkOgor
CSAqIDAwMWIgPSA4YnBjLgorCSAqIDAxMGIgPSAxMGJwYy4KKwkgKiAwMTFiID0gMTJicGMuCisJ
ICogMTAwYiA9IDE2YnBjLgorCSAqLworCXN3aXRjaCAoY3J0Y19zdGF0ZS0+cGlwZV9icHApIHsK
KwljYXNlIDI0OiAvKiA4YnBjICovCisJCXZzY19zZHAuZGJbMTddID0gMHgxOworCQlicmVhazsK
KwljYXNlIDMwOiAvKiAxMGJwYyAqLworCQl2c2Nfc2RwLmRiWzE3XSA9IDB4MjsKKwkJYnJlYWs7
CisJY2FzZSAzNjogLyogMTJicGMgKi8KKwkJdnNjX3NkcC5kYlsxN10gPSAweDM7CisJCWJyZWFr
OworCWNhc2UgNDg6IC8qIDE2YnBjICovCisJCXZzY19zZHAuZGJbMTddID0gMHg0OworCQlicmVh
azsKKwlkZWZhdWx0OgorCQlNSVNTSU5HX0NBU0UoY3J0Y19zdGF0ZS0+cGlwZV9icHApOworCQli
cmVhazsKKwl9CisKKwkvKgorCSAqIER5bmFtaWMgUmFuZ2UgKEJpdCA3KQorCSAqIDAgPSBWRVNB
IHJhbmdlLCAxID0gQ1RBIHJhbmdlLgorCSAqIGFsbCBZQ2JDciBhcmUgYWx3YXlzIGxpbWl0ZWQg
cmFuZ2UKKwkgKi8KKwl2c2Nfc2RwLmRiWzE3XSB8PSAweDgwOworCisJLyoKKwkgKiBDb250ZW50
IFR5cGUgKEJpdHMgMjowKQorCSAqIDAwMGIgPSBOb3QgZGVmaW5lZC4KKwkgKiAwMDFiID0gR3Jh
cGhpY3MuCisJICogMDEwYiA9IFBob3RvLgorCSAqIDAxMWIgPSBWaWRlby4KKwkgKiAxMDBiID0g
R2FtZQorCSAqIEFsbCBvdGhlciB2YWx1ZXMgYXJlIFJFU0VSVkVELgorCSAqIE5vdGU6IFNlZSBD
VEEtODYxLUcgZm9yIHRoZSBkZWZpbml0aW9uIGFuZCBleHBlY3RlZAorCSAqIHByb2Nlc3Npbmcg
YnkgYSBzdHJlYW0gc2luayBmb3IgdGhlIGFib3ZlIGNvbnRlY3QgdHlwZXMuCisJICovCisJdnNj
X3NkcC5kYlsxOF0gPSAwOworCisJaW50ZWxfZGlnX3BvcnQtPndyaXRlX2luZm9mcmFtZSgmaW50
ZWxfZGlnX3BvcnQtPmJhc2UsCisJCQljcnRjX3N0YXRlLCBEUF9TRFBfVlNDLCAmdnNjX3NkcCwg
c2l6ZW9mKHZzY19zZHApKTsKK30KKwordm9pZCBpbnRlbF9kcF95Y2Jjcl80MjBfZW5hYmxlKHN0
cnVjdCBpbnRlbF9kcCAqaW50ZWxfZHAsCisJCQkgICAgICAgY29uc3Qgc3RydWN0IGludGVsX2Ny
dGNfc3RhdGUgKmNydGNfc3RhdGUpCit7CisJaWYgKGNydGNfc3RhdGUtPm91dHB1dF9mb3JtYXQg
IT0gSU5URUxfT1VUUFVUX0ZPUk1BVF9ZQ0JDUjQyMCkKKwkJcmV0dXJuOworCisJaW50ZWxfcGl4
ZWxfZW5jb2Rpbmdfc2V0dXBfdnNjKGludGVsX2RwLCBjcnRjX3N0YXRlKTsKK30KKwogc3RhdGlj
IHU4IGludGVsX2RwX2F1dG90ZXN0X2xpbmtfdHJhaW5pbmcoc3RydWN0IGludGVsX2RwICppbnRl
bF9kcCkKIHsKIAlpbnQgc3RhdHVzID0gMDsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2ludGVsX2Rydi5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZHJ2LmgKaW5kZXgg
MjcwZjViYjQzZDliLi4wZmJkYmU1NTliOTIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2ludGVsX2Rydi5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2Rydi5oCkBA
IC0xNTc3LDYgKzE1NzcsOCBAQCB2b2lkIGludGVsX2RwX2dldF9tX24oc3RydWN0IGludGVsX2Ny
dGMgKmNydGMsCiAJCSAgICAgIHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpwaXBlX2NvbmZpZyk7
CiB2b2lkIGludGVsX2RwX3NldF9tX24oY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNy
dGNfc3RhdGUsCiAJCSAgICAgIGVudW0gbGlua19tX25fc2V0IG1fbik7Cit2b2lkIGludGVsX2Rw
X3ljYmNyXzQyMF9lbmFibGUoc3RydWN0IGludGVsX2RwICppbnRlbF9kcCwKKwkJCSAgICAgICBj
b25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSk7CiBpbnQgaW50ZWxfZG90
Y2xvY2tfY2FsY3VsYXRlKGludCBsaW5rX2ZyZXEsIGNvbnN0IHN0cnVjdCBpbnRlbF9saW5rX21f
biAqbV9uKTsKIGJvb2wgYnh0X2ZpbmRfYmVzdF9kcGxsKHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRl
ICpjcnRjX3N0YXRlLAogCQkJc3RydWN0IGRwbGwgKmJlc3RfY2xvY2spOwotLSAKMi4yMS4wCgpf
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwg
bWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0
cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
