Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id BEA0D7F058
	for <lists+dri-devel@lfdr.de>; Fri,  2 Aug 2019 11:21:42 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0C8066ED7D;
	Fri,  2 Aug 2019 09:21:40 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ed1-x544.google.com (mail-ed1-x544.google.com
 [IPv6:2a00:1450:4864:20::544])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 681846ED7D
 for <dri-devel@lists.freedesktop.org>; Fri,  2 Aug 2019 09:21:38 +0000 (UTC)
Received: by mail-ed1-x544.google.com with SMTP id x19so65829439eda.12
 for <dri-devel@lists.freedesktop.org>; Fri, 02 Aug 2019 02:21:38 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:sender:date:from:to:cc:subject:message-id
 :references:mime-version:content-disposition:in-reply-to:user-agent;
 bh=mw+It9QI+sEvHl3prfei6nFX5P/J+IRQwtrB/9Mwkts=;
 b=Ch46h3HqjxnJKK3ifujlpWkGu8RLo6PrF3CObwUf4e1GD9eFuCEb4ZgWxJn0WrM8QC
 tcHWaS6JiyPxr9vzD1yyhI/K0M4VFBwigEr9xFY6bKfSWqxchrFLu7ra1kFAyVzOcBaU
 FPvvpd4RhpoXsGFDLvQxdeGVOFFRjoCA6o82RGYsQx9ixX+Bb9Gir8ZHlCgabaWzUUzT
 /+0ANnX1YtRIyPueRHPCzCM1u/SrQyOA1kkz2OlBTMXr+3vzJmNRVtq63EMR1bhsMkZq
 v8onu2LVhV3RJTNU18DWdzF1M7mbetFAuvsa7AeFkQlvoFe4NxDYv4sKujhZkO267vcF
 /76Q==
X-Gm-Message-State: APjAAAXFnVz8glEROBW6xoG+wtfyd8AscfWvDgFh26515Mulsh3uDvdl
 h5mCfjSrXljbr2EHj2m2qkw=
X-Google-Smtp-Source: APXvYqxGainH0NT+2KUzTAmyU+6HMPD/t9ya6cdoV+PucI3ZB2+Z6tODF0k5Gd82jj8H2QeBGiByog==
X-Received: by 2002:a17:906:f211:: with SMTP id
 gt17mr103171603ejb.263.1564737696988; 
 Fri, 02 Aug 2019 02:21:36 -0700 (PDT)
Received: from phenom.ffwll.local ([2a02:168:569e:0:3106:d637:d723:e855])
 by smtp.gmail.com with ESMTPSA id ob19sm12949106ejb.0.2019.08.02.02.21.35
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Fri, 02 Aug 2019 02:21:36 -0700 (PDT)
Date: Fri, 2 Aug 2019 11:21:34 +0200
From: Daniel Vetter <daniel@ffwll.ch>
To: Chris Wilson <chris@chris-wilson.co.uk>
Subject: Re: [PATCH] Revert "drm/vgem: fix cache synchronization on arm/arm64"
Message-ID: <20190802092134.GL7444@phenom.ffwll.local>
References: <20190801124458.24949-1-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190801124458.24949-1-chris@chris-wilson.co.uk>
X-Operating-System: Linux phenom 4.19.0-5-amd64 
User-Agent: Mutt/1.10.1 (2018-07-13)
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=sender:date:from:to:cc:subject:message-id:references:mime-version
 :content-disposition:in-reply-to:user-agent;
 bh=mw+It9QI+sEvHl3prfei6nFX5P/J+IRQwtrB/9Mwkts=;
 b=Vmgm18gyRDzEOiunVl6zne73sz2NQ7VdcimjhOIl2QzTsiG89IfUUpHbU+gx/wMv60
 yLdIpoJwDYOQjCQSeL6z1xOznHY+29Ck9zpsSt1SAVwAKjxM4+ugMno3NTli3j0MAC/r
 TBWmBTAwcIPEeDp8PTHa3rlF2v4KsJJirOfSI=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Rob Clark <robdclark@chromium.org>, Daniel Vetter <daniel.vetter@ffwll.ch>,
 intel-gfx@lists.freedesktop.org, Sean Paul <seanpaul@chromium.org>,
 dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVGh1LCBBdWcgMDEsIDIwMTkgYXQgMDE6NDQ6NThQTSArMDEwMCwgQ2hyaXMgV2lsc29uIHdy
b3RlOgo+IGNvbW1pdCA3ZTllNWVhZDU1YmUgKCJkcm0vdmdlbTogZml4IGNhY2hlIHN5bmNocm9u
aXphdGlvbiBvbiBhcm0vYXJtNjQiKQo+IGJyb2tlIGFsbCBvZiB0aGUgIWxsYyBpOTE1LXZnZW0g
Y29oZXJlbmN5IHRlc3RzIGluIENJLCBhbmQgbGVmdCB0aGUgSFcKPiB2ZXJ5LCB2ZXJ5IHVuaGFw
cHkgKHdoaWNoIGlzIGV2ZW4gbW9yZSBzY2FyeSkuCj4gCj4gRml4ZXM6IDdlOWU1ZWFkNTViZSAo
ImRybS92Z2VtOiBmaXggY2FjaGUgc3luY2hyb25pemF0aW9uIG9uIGFybS9hcm02NCIpCj4gU2ln
bmVkLW9mZi1ieTogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+Cj4gQ2M6
IERhbmllbCBWZXR0ZXIgPGRhbmllbC52ZXR0ZXJAZmZ3bGwuY2g+Cj4gQ2M6IFJvYiBDbGFyayA8
cm9iZGNsYXJrQGNocm9taXVtLm9yZz4KPiBDYzogU2VhbiBQYXVsIDxzZWFucGF1bEBjaHJvbWl1
bS5vcmc+CgpBY2tlZC1ieTogRGFuaWVsIFZldHRlciA8ZGFuaWVsLnZldHRlckBmZndsbC5jaD4K
Ck5vdCB0aGF0IHRoaXMgY291bnRzIGEgaG9sZSBsb3QgdW5mb3J0dW5hdGVseSA6LS8KClRyb3Vi
bGUgaGVyZSBpcyB0aGF0IHg4NiBhc3N1bWVzIHRoYXQgZXZlcnl0aGluZyBpcyBjb2hlcmVudCAo
aXQncyBub3QpCmFuZCBkbWEtYXBpIGFzc3VtZXMgdGhhdCBjb2hlcmVudG5lc3MgaXMgYSBwcm9w
ZXJ0eSBvZiB0aGUgZGV2aWNlIGFuZApvcGFxdWUgdG8gdGhlIGRldmljZSBkcml2ZXIgKGl0J3Mg
bm90KS4gU28gbWF5YmUgd2Ugc2hvdWxkIGRvIGEgbWl4IG9mIHYxCmFuZCB2MiBvZiBSb2IncyBw
YXRjaGVzLCBpLmUuIG5vdCBpbmZsaWN0IHRoZSBjYWNoZSBmbHVzaGluZyBpbnRvCmRybV9jbGZs
dXNoLmMgKHRvIGF2b2lkIHRoZSBwb2ludGxlc3Mgc3RydWN0IGRldmljZSBub25zZW5zZSksIGJ1
dCB0aGVuCmFsc28gZG8gdGhpcyBpbiB2Z2VtIGhlcmUgb25seSB3aXRoICNpZmRlZiBBUk02NCBh
bmQgbGVhdmUgdGhlIGNsZmx1c2ggZm9yCmV2ZXJ5dGhpbmcgZWxzZS4KLURhbmllbAoKPiAtLS0K
PiAgZHJpdmVycy9ncHUvZHJtL3ZnZW0vdmdlbV9kcnYuYyB8IDEzMCArKysrKysrKysrKystLS0t
LS0tLS0tLS0tLS0tLS0tLQo+ICAxIGZpbGUgY2hhbmdlZCwgNDcgaW5zZXJ0aW9ucygrKSwgODMg
ZGVsZXRpb25zKC0pCj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS92Z2VtL3ZnZW1f
ZHJ2LmMgYi9kcml2ZXJzL2dwdS9kcm0vdmdlbS92Z2VtX2Rydi5jCj4gaW5kZXggYjk4Njg5ZmIw
ZDVkLi41YmQ2MGRlZDNkODEgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3ZnZW0vdmdl
bV9kcnYuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS92Z2VtL3ZnZW1fZHJ2LmMKPiBAQCAtNTQs
MTYgKzU0LDEwIEBAIHN0YXRpYyBzdHJ1Y3QgdmdlbV9kZXZpY2Ugewo+ICAJc3RydWN0IHBsYXRm
b3JtX2RldmljZSAqcGxhdGZvcm07Cj4gIH0gKnZnZW1fZGV2aWNlOwo+ICAKPiAtc3RhdGljIHZv
aWQgc3luY19hbmRfdW5waW4oc3RydWN0IGRybV92Z2VtX2dlbV9vYmplY3QgKmJvKTsKPiAtc3Rh
dGljIHN0cnVjdCBwYWdlICoqcGluX2FuZF9zeW5jKHN0cnVjdCBkcm1fdmdlbV9nZW1fb2JqZWN0
ICpibyk7Cj4gLQo+ICBzdGF0aWMgdm9pZCB2Z2VtX2dlbV9mcmVlX29iamVjdChzdHJ1Y3QgZHJt
X2dlbV9vYmplY3QgKm9iaikKPiAgewo+ICAJc3RydWN0IGRybV92Z2VtX2dlbV9vYmplY3QgKnZn
ZW1fb2JqID0gdG9fdmdlbV9ibyhvYmopOwo+ICAKPiAtCWlmICghb2JqLT5pbXBvcnRfYXR0YWNo
KQo+IC0JCXN5bmNfYW5kX3VucGluKHZnZW1fb2JqKTsKPiAtCj4gIAlrdmZyZWUodmdlbV9vYmot
PnBhZ2VzKTsKPiAgCW11dGV4X2Rlc3Ryb3koJnZnZW1fb2JqLT5wYWdlc19sb2NrKTsKPiAgCj4g
QEAgLTkxLDE1ICs4NSw0MCBAQCBzdGF0aWMgdm1fZmF1bHRfdCB2Z2VtX2dlbV9mYXVsdChzdHJ1
Y3Qgdm1fZmF1bHQgKnZtZikKPiAgCQlyZXR1cm4gVk1fRkFVTFRfU0lHQlVTOwo+ICAKPiAgCW11
dGV4X2xvY2soJm9iai0+cGFnZXNfbG9jayk7Cj4gLQlpZiAoIW9iai0+cGFnZXMpCj4gLQkJcGlu
X2FuZF9zeW5jKG9iaik7Cj4gIAlpZiAob2JqLT5wYWdlcykgewo+ICAJCWdldF9wYWdlKG9iai0+
cGFnZXNbcGFnZV9vZmZzZXRdKTsKPiAgCQl2bWYtPnBhZ2UgPSBvYmotPnBhZ2VzW3BhZ2Vfb2Zm
c2V0XTsKPiAgCQlyZXQgPSAwOwo+ICAJfQo+ICAJbXV0ZXhfdW5sb2NrKCZvYmotPnBhZ2VzX2xv
Y2spOwo+ICsJaWYgKHJldCkgewo+ICsJCXN0cnVjdCBwYWdlICpwYWdlOwo+ICsKPiArCQlwYWdl
ID0gc2htZW1fcmVhZF9tYXBwaW5nX3BhZ2UoCj4gKwkJCQkJZmlsZV9pbm9kZShvYmotPmJhc2Uu
ZmlscCktPmlfbWFwcGluZywKPiArCQkJCQlwYWdlX29mZnNldCk7Cj4gKwkJaWYgKCFJU19FUlIo
cGFnZSkpIHsKPiArCQkJdm1mLT5wYWdlID0gcGFnZTsKPiArCQkJcmV0ID0gMDsKPiArCQl9IGVs
c2Ugc3dpdGNoIChQVFJfRVJSKHBhZ2UpKSB7Cj4gKwkJCWNhc2UgLUVOT1NQQzoKPiArCQkJY2Fz
ZSAtRU5PTUVNOgo+ICsJCQkJcmV0ID0gVk1fRkFVTFRfT09NOwo+ICsJCQkJYnJlYWs7Cj4gKwkJ
CWNhc2UgLUVCVVNZOgo+ICsJCQkJcmV0ID0gVk1fRkFVTFRfUkVUUlk7Cj4gKwkJCQlicmVhazsK
PiArCQkJY2FzZSAtRUZBVUxUOgo+ICsJCQljYXNlIC1FSU5WQUw6Cj4gKwkJCQlyZXQgPSBWTV9G
QVVMVF9TSUdCVVM7Cj4gKwkJCQlicmVhazsKPiArCQkJZGVmYXVsdDoKPiArCQkJCVdBUk5fT04o
UFRSX0VSUihwYWdlKSk7Cj4gKwkJCQlyZXQgPSBWTV9GQVVMVF9TSUdCVVM7Cj4gKwkJCQlicmVh
azsKPiArCQl9Cj4gIAo+ICsJfQo+ICAJcmV0dXJuIHJldDsKPiAgfQo+ICAKPiBAQCAtMjY1LDkz
ICsyODQsMzIgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBmaWxlX29wZXJhdGlvbnMgdmdlbV9kcml2
ZXJfZm9wcyA9IHsKPiAgCS5yZWxlYXNlCT0gZHJtX3JlbGVhc2UsCj4gIH07Cj4gIAo+IC0vKiBD
YWxsZWQgdW5kZXIgcGFnZXNfbG9jaywgZXhjZXB0IGluIGZyZWUgcGF0aCAod2hlcmUgaXQgY2Fu
J3QgcmFjZSk6ICovCj4gLXN0YXRpYyB2b2lkIHN5bmNfYW5kX3VucGluKHN0cnVjdCBkcm1fdmdl
bV9nZW1fb2JqZWN0ICpibykKPiAtewo+IC0Jc3RydWN0IGRybV9kZXZpY2UgKmRldiA9IGJvLT5i
YXNlLmRldjsKPiAtCj4gLQlpZiAoYm8tPnRhYmxlKSB7Cj4gLQkJZG1hX3N5bmNfc2dfZm9yX2Nw
dShkZXYtPmRldiwgYm8tPnRhYmxlLT5zZ2wsCj4gLQkJCQliby0+dGFibGUtPm5lbnRzLCBETUFf
QklESVJFQ1RJT05BTCk7Cj4gLQkJc2dfZnJlZV90YWJsZShiby0+dGFibGUpOwo+IC0JCWtmcmVl
KGJvLT50YWJsZSk7Cj4gLQkJYm8tPnRhYmxlID0gTlVMTDsKPiAtCX0KPiAtCj4gLQlpZiAoYm8t
PnBhZ2VzKSB7Cj4gLQkJZHJtX2dlbV9wdXRfcGFnZXMoJmJvLT5iYXNlLCBiby0+cGFnZXMsIHRy
dWUsIHRydWUpOwo+IC0JCWJvLT5wYWdlcyA9IE5VTEw7Cj4gLQl9Cj4gLX0KPiAtCj4gLXN0YXRp
YyBzdHJ1Y3QgcGFnZSAqKnBpbl9hbmRfc3luYyhzdHJ1Y3QgZHJtX3ZnZW1fZ2VtX29iamVjdCAq
Ym8pCj4gLXsKPiAtCXN0cnVjdCBkcm1fZGV2aWNlICpkZXYgPSBiby0+YmFzZS5kZXY7Cj4gLQlp
bnQgbnBhZ2VzID0gYm8tPmJhc2Uuc2l6ZSA+PiBQQUdFX1NISUZUOwo+IC0Jc3RydWN0IHBhZ2Ug
KipwYWdlczsKPiAtCXN0cnVjdCBzZ190YWJsZSAqc2d0Owo+IC0KPiAtCVdBUk5fT04oIW11dGV4
X2lzX2xvY2tlZCgmYm8tPnBhZ2VzX2xvY2spKTsKPiAtCj4gLQlwYWdlcyA9IGRybV9nZW1fZ2V0
X3BhZ2VzKCZiby0+YmFzZSk7Cj4gLQlpZiAoSVNfRVJSKHBhZ2VzKSkgewo+IC0JCWJvLT5wYWdl
c19waW5fY291bnQtLTsKPiAtCQltdXRleF91bmxvY2soJmJvLT5wYWdlc19sb2NrKTsKPiAtCQly
ZXR1cm4gcGFnZXM7Cj4gLQl9Cj4gLQo+IC0Jc2d0ID0gZHJtX3ByaW1lX3BhZ2VzX3RvX3NnKHBh
Z2VzLCBucGFnZXMpOwo+IC0JaWYgKElTX0VSUihzZ3QpKSB7Cj4gLQkJZGV2X2VycihkZXYtPmRl
diwKPiAtCQkJImZhaWxlZCB0byBhbGxvY2F0ZSBzZ3Q6ICVsZFxuIiwKPiAtCQkJUFRSX0VSUihi
by0+dGFibGUpKTsKPiAtCQlkcm1fZ2VtX3B1dF9wYWdlcygmYm8tPmJhc2UsIHBhZ2VzLCBmYWxz
ZSwgZmFsc2UpOwo+IC0JCW11dGV4X3VubG9jaygmYm8tPnBhZ2VzX2xvY2spOwo+IC0JCXJldHVy
biBFUlJfQ0FTVChiby0+dGFibGUpOwo+IC0JfQo+IC0KPiAtCS8qCj4gLQkgKiBGbHVzaCB0aGUg
b2JqZWN0IGZyb20gdGhlIENQVSBjYWNoZSBzbyB0aGF0IGltcG9ydGVycwo+IC0JICogY2FuIHJl
bHkgb24gY29oZXJlbnQgaW5kaXJlY3QgYWNjZXNzIHZpYSB0aGUgZXhwb3J0ZWQKPiAtCSAqIGRt
YS1hZGRyZXNzLgo+IC0JICovCj4gLQlkbWFfc3luY19zZ19mb3JfZGV2aWNlKGRldi0+ZGV2LCBz
Z3QtPnNnbCwKPiAtCQkJc2d0LT5uZW50cywgRE1BX0JJRElSRUNUSU9OQUwpOwo+IC0KPiAtCWJv
LT5wYWdlcyA9IHBhZ2VzOwo+IC0JYm8tPnRhYmxlID0gc2d0Owo+IC0KPiAtCXJldHVybiBwYWdl
czsKPiAtfQo+IC0KPiAgc3RhdGljIHN0cnVjdCBwYWdlICoqdmdlbV9waW5fcGFnZXMoc3RydWN0
IGRybV92Z2VtX2dlbV9vYmplY3QgKmJvKQo+ICB7Cj4gLQlzdHJ1Y3QgcGFnZSAqKnBhZ2VzOwo+
IC0KPiAgCW11dGV4X2xvY2soJmJvLT5wYWdlc19sb2NrKTsKPiAtCWlmIChiby0+cGFnZXNfcGlu
X2NvdW50KysgPT0gMCAmJiAhYm8tPnBhZ2VzKSB7Cj4gLQkJcGFnZXMgPSBwaW5fYW5kX3N5bmMo
Ym8pOwo+IC0JfSBlbHNlIHsKPiAtCQlXQVJOX09OKCFiby0+cGFnZXMpOwo+IC0JCXBhZ2VzID0g
Ym8tPnBhZ2VzOwo+ICsJaWYgKGJvLT5wYWdlc19waW5fY291bnQrKyA9PSAwKSB7Cj4gKwkJc3Ry
dWN0IHBhZ2UgKipwYWdlczsKPiArCj4gKwkJcGFnZXMgPSBkcm1fZ2VtX2dldF9wYWdlcygmYm8t
PmJhc2UpOwo+ICsJCWlmIChJU19FUlIocGFnZXMpKSB7Cj4gKwkJCWJvLT5wYWdlc19waW5fY291
bnQtLTsKPiArCQkJbXV0ZXhfdW5sb2NrKCZiby0+cGFnZXNfbG9jayk7Cj4gKwkJCXJldHVybiBw
YWdlczsKPiArCQl9Cj4gKwo+ICsJCWJvLT5wYWdlcyA9IHBhZ2VzOwo+ICAJfQo+ICAJbXV0ZXhf
dW5sb2NrKCZiby0+cGFnZXNfbG9jayk7Cj4gIAo+IC0JcmV0dXJuIHBhZ2VzOwo+ICsJcmV0dXJu
IGJvLT5wYWdlczsKPiAgfQo+ICAKPiAgc3RhdGljIHZvaWQgdmdlbV91bnBpbl9wYWdlcyhzdHJ1
Y3QgZHJtX3ZnZW1fZ2VtX29iamVjdCAqYm8pCj4gIHsKPiAtCS8qCj4gLQkgKiBXZSBzaG91bGRu
J3QgaGl0IHRoaXMgZm9yIGltcG9ydGVkIGJvJ3MuLiBpbiB0aGUgaW1wb3J0Cj4gLQkgKiBjYXNl
IHdlIGRvbid0IG93biB0aGUgc2NhdHRlci10YWJsZQo+IC0JICovCj4gLQlXQVJOX09OKGJvLT5i
YXNlLmltcG9ydF9hdHRhY2gpOwo+IC0KPiAgCW11dGV4X2xvY2soJmJvLT5wYWdlc19sb2NrKTsK
PiAgCWlmICgtLWJvLT5wYWdlc19waW5fY291bnQgPT0gMCkgewo+IC0JCVdBUk5fT04oIWJvLT50
YWJsZSk7Cj4gLQkJc3luY19hbmRfdW5waW4oYm8pOwo+ICsJCWRybV9nZW1fcHV0X3BhZ2VzKCZi
by0+YmFzZSwgYm8tPnBhZ2VzLCB0cnVlLCB0cnVlKTsKPiArCQliby0+cGFnZXMgPSBOVUxMOwo+
ICAJfQo+ICAJbXV0ZXhfdW5sb2NrKCZiby0+cGFnZXNfbG9jayk7Cj4gIH0KPiBAQCAtMzU5LDEy
ICszMTcsMTggQEAgc3RhdGljIHZvaWQgdmdlbV91bnBpbl9wYWdlcyhzdHJ1Y3QgZHJtX3ZnZW1f
Z2VtX29iamVjdCAqYm8pCj4gIHN0YXRpYyBpbnQgdmdlbV9wcmltZV9waW4oc3RydWN0IGRybV9n
ZW1fb2JqZWN0ICpvYmopCj4gIHsKPiAgCXN0cnVjdCBkcm1fdmdlbV9nZW1fb2JqZWN0ICpibyA9
IHRvX3ZnZW1fYm8ob2JqKTsKPiArCWxvbmcgbl9wYWdlcyA9IG9iai0+c2l6ZSA+PiBQQUdFX1NI
SUZUOwo+ICAJc3RydWN0IHBhZ2UgKipwYWdlczsKPiAgCj4gIAlwYWdlcyA9IHZnZW1fcGluX3Bh
Z2VzKGJvKTsKPiAgCWlmIChJU19FUlIocGFnZXMpKQo+ICAJCXJldHVybiBQVFJfRVJSKHBhZ2Vz
KTsKPiAgCj4gKwkvKiBGbHVzaCB0aGUgb2JqZWN0IGZyb20gdGhlIENQVSBjYWNoZSBzbyB0aGF0
IGltcG9ydGVycyBjYW4gcmVseQo+ICsJICogb24gY29oZXJlbnQgaW5kaXJlY3QgYWNjZXNzIHZp
YSB0aGUgZXhwb3J0ZWQgZG1hLWFkZHJlc3MuCj4gKwkgKi8KPiArCWRybV9jbGZsdXNoX3BhZ2Vz
KHBhZ2VzLCBuX3BhZ2VzKTsKPiArCj4gIAlyZXR1cm4gMDsKPiAgfQo+ICAKPiAtLSAKPiAyLjIz
LjAucmMwCj4gCgotLSAKRGFuaWVsIFZldHRlcgpTb2Z0d2FyZSBFbmdpbmVlciwgSW50ZWwgQ29y
cG9yYXRpb24KaHR0cDovL2Jsb2cuZmZ3bGwuY2gKX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vZHJpLWRldmVs
