Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 6DF1DDCE49
	for <lists+dri-devel@lfdr.de>; Fri, 18 Oct 2019 20:39:14 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1A19D6EBBF;
	Fri, 18 Oct 2019 18:37:54 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from uho.ysoft.cz (uho.ysoft.cz [81.19.3.130])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 6ACEF6EA52
 for <dri-devel@lists.freedesktop.org>; Thu, 17 Oct 2019 10:59:22 +0000 (UTC)
Received: from [10.1.8.111] (unknown [10.1.8.111])
 by uho.ysoft.cz (Postfix) with ESMTP id 75D1DA385F;
 Thu, 17 Oct 2019 12:59:20 +0200 (CEST)
Subject: Re: [PATCH] backlight: pwm_bl: configure pwm only once per backlight
 toggle
From: =?UTF-8?B?TWljaGFsIFZva8OhxI0=?= <michal.vokac@ysoft.com>
To: =?UTF-8?Q?Uwe_Kleine-K=c3=b6nig?= <u.kleine-koenig@pengutronix.de>,
 Adam Ford <aford173@gmail.com>,
 Enric Balletbo i Serra <enric.balletbo@collabora.com>,
 Daniel Thompson <daniel.thompson@linaro.org>,
 Lee Jones <lee.jones@linaro.org>, Jingoo Han <jingoohan1@gmail.com>
References: <20191017081059.31761-1-u.kleine-koenig@pengutronix.de>
 <c89925bd-857d-874f-b74f-c5700d4c9fbd@ysoft.com>
Message-ID: <4f9594e5-f99b-f17d-531a-37d4c4161203@ysoft.com>
Date: Thu, 17 Oct 2019 12:59:20 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <c89925bd-857d-874f-b74f-c5700d4c9fbd@ysoft.com>
Content-Language: en-US
X-Mailman-Approved-At: Fri, 18 Oct 2019 18:37:46 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ysoft.com; 
 s=20160406-ysoft-com; t=1571309960;
 bh=AGv9vLAQlMiuhqBtdNcQ+30BcWRtQ9ivxHwKeF48j3Q=;
 h=Subject:From:To:Cc:References:Date:In-Reply-To:From;
 b=g+WlJfxqcYbuHCYObhZx9jvRSkN2vuxQuhY7VH5jFH0j49rluRQUQv8Qvom4NJmak
 BinlPrb79MSGbhX5QtWfHCLBzTBeTjS4fzsAgtWfdCYbYoPswi2Rc0ynshZ+EoAc00
 Dobwc56CJO9LjflCpcjNjYjUujbwzpwzT5lqPyyo=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-pwm@vger.kernel.org, linux-fbdev@vger.kernel.org,
 Thierry Reding <thierry.reding@gmail.com>, kernel@pengutronix.de,
 dri-devel@lists.freedesktop.org
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gMTcuIDEwLiAxOSAxMTo0OCwgTWljaGFsIFZva8OhxI0gd3JvdGU6Cj4gT24gMTcuIDEwLiAx
OSAxMDoxMCwgVXdlIEtsZWluZS1Lw7ZuaWcgd3JvdGU6Cj4+IEEgcHJldmlvdXMgY2hhbmdlIGlu
IHRoZSBwd20gY29yZSAobmFtZWx5IDAxY2NmOTAzZWRkNiAoInB3bTogTGV0Cj4+IHB3bV9nZXRf
c3RhdGUoKSByZXR1cm4gdGhlIGxhc3QgaW1wbGVtZW50ZWQgc3RhdGUiKSkgY2hhbmdlZCB0aGUK
Pj4gc2VtYW50aWMgb2YgcHdtX2dldF9zdGF0ZSgpIGFuZCBkaXNjbG9zZWQgYW4gKGFzIGl0IHNl
ZW1zKSBjb21tb24KPj4gcHJvYmxlbSBpbiBsb3dsZXZlbCBQV00gZHJpdmVycy4gQnkgbm90IHJl
bHlpbmcgb24gdGhlIHBlcmlvZCBhbmQgZHV0eQo+PiBjeWNsZSBiZWluZyByZXRyaWV2YWJsZSBm
cm9tIGEgZGlzYWJsZWQgUFdNIHRoaXMgdHlwZSBvZiBwcm9ibGVtIGlzCj4+IHdvcmtlZCBhcm91
bmQuCj4+Cj4+IEFwYXJ0IGZyb20gdGhpcyBpc3N1ZSBvbmx5IGNhbGxpbmcgdGhlIHB3bV9nZXRf
c3RhdGUvcHdtX2FwcGx5X3N0YXRlCj4+IGNvbWJvIG9uY2UgaXMgYWxzbyBtb3JlIGVmZmVjdGl2
ZS4KPj4KPj4gU2lnbmVkLW9mZi1ieTogVXdlIEtsZWluZS1Lw7ZuaWcgPHUua2xlaW5lLWtvZW5p
Z0BwZW5ndXRyb25peC5kZT4KPj4gLS0tCj4+IEhlbGxvLAo+Pgo+PiBUaGVyZSBhcmUgbm93IHR3
byByZXBvcnRzIGFib3V0IDAxY2NmOTAzZWRkNiBicmVha2luZyBhIGJhY2tsaWdodC4gQXMKPj4g
ZmFyIGFzIEkgdW5kZXJzdGFuZCB0aGUgcHJvYmxlbSB0aGlzIGlzIGEgY29tYmluYXRpb24gb2Yg
dGhlIGJhY2tlbmQgcHdtCj4+IGRyaXZlciB5aWVsZGluZyBzdXJwcmlzaW5nIHJlc3VsdHMgYW5k
IHRoZSBwd20tYmwgZHJpdmVyIGRvaW5nIHRoaW5ncwo+PiBtb3JlIGNvbXBsaWNhdGVkIHRoYW4g
bmVjZXNzYXJ5Lgo+Pgo+PiBTbyBJIGd1ZXNzIHRoaXMgcGF0Y2ggd29ya3MgYXJvdW5kIHRoZXNl
IHByb2JsZW1zLiBTdGlsbCBpdCB3b3VsZCBiZQo+PiBpbnRlcmVzdGluZyB0byBmaW5kIG91dCB0
aGUgZGV0YWlscyBpbiB0aGUgaW14IGRyaXZlciB0aGF0IHRyaWdnZXJzIHRoZQo+PiBwcm9ibGVt
LiBTbyBBZGFtLCBjYW4geW91IHBsZWFzZSBpbnN0cnVtZW50IHRoZSBwd20taW14MjcgZHJpdmVy
IHRvCj4+IHByaW50ICpzdGF0ZSBhdCB0aGUgYmVnaW5uaW5nIG9mIHB3bV9pbXgyN19hcHBseSgp
IGFuZCB0aGUgZW5kIG9mCj4+IHB3bV9pbXgyN19nZXRfc3RhdGUoKSBhbmQgcHJvdmlkZSB0aGUg
cmVzdWx0cz8KPj4KPj4gTm90ZSBJIG9ubHkgY29tcGlsZSB0ZXN0ZWQgdGhpcyBjaGFuZ2UuCj4g
Cj4gSGkgVXdlLAo+IEkgd2FzIGp1c3QgYWJvdXQgdG8gcmVzcG9uZCB0byB0aGUgInB3bV9ibCBv
biBpLk1YNlEgYnJva2VuIG9uIDUuNC1SQzErIgo+IHRocmVhZCB0aGF0IEkgaGF2ZSBhIHNpbWls
YXIgcHJvYmxlbSB3aGVuIHlvdSBzdWJtaXR0ZWQgdGhpcyBwYXRjaC4KPiAKPiBTbyBoZXJlIGFy
ZSBteSBmZXcgY2VudHM6CgpPbmNlIGFnYWluIHdpdGggdXBkYXRlZCBhbmQgbW9yZSBkZXRhaWxl
ZCBkZWJ1ZyBtZXNzYWdlcy4KCj4gTXkgc2V0dXAgaXMgYXMgZm9sbG93czoKPiAgIC0gaW14NmRs
LXlhcHA0LWRyYWNvIHdpdGggaS5NWDZTb2xvCj4gICAtIGJhY2tsaWdodCBpcyBjb250cm9sbGVk
IHdpdGggaW52ZXJ0ZWQgUFdNIHNpZ25hbAo+ICAgLSBtYXggYnJpZ2h0bmVzcyBsZXZlbCA9IDMy
LCBkZWZhdWx0IGJyaWdodG5lc3MgbGV2ZWwgc2V0IHRvIDMyIGluIERULgo+IAo+IDEuIEFsbW9z
dCBjb3JyZWN0IGJhY2tsaWdodCBiZWhhdmlvciBiZWZvcmUgMDFjY2Y5MDNlZGQ2ICgicHdtOiBM
ZXQKPiAgICAgcHdtX2dldF9zdGF0ZSgpIHJldHVybiB0aGUgbGFzdCBpbXBsZW1lbnRlZCBzdGF0
ZSk6Cj4gCj4gICAtIFN5c3RlbSBib290cyB0byB1c2Vyc3BhY2UgYW5kIGJhY2tsaWdodCBpcyBl
bmFibGVkIGFsbCB0aGUgdGltZSBmcm9tCj4gICAgIHBvd2VyIHVwLgo+IAogICAgIC0gICQgZG1l
c2cgfCBncmVwIHB3bV8KICAgICAgIFsgICAgMS43NjE1NDZdIHB3bV9pbXgyN19nZXRfc3RhdGU6
IHBlcmlvZDogOTkyOTcwLCBkdXR5OiAwLCBwb2xhcml0eTogMCwgZW5hYmxlZDogMAogICAgICAg
WyAgICA1LjAxMjM1Ml0gcHdtX2lteDI3X2FwcGx5OiBwZXJpb2Q6IDUwMDAwMCwgZHV0eTogMCwg
cG9sYXJpdHk6IDEsIGVuYWJsZWQ6IDAKICAgICAgIFsgICAgNS4wMjExNDNdIHB3bV9pbXgyN19h
cHBseTogcGVyaW9kOiA1MDAwMDAsIGR1dHk6IDUwMDAwMCwgcG9sYXJpdHk6IDEsIGVuYWJsZWQ6
IDAKICAgICAgIFsgICAgNS4wMzAxODJdIHB3bV9pbXgyN19hcHBseTogcGVyaW9kOiA1MDAwMDAs
IGR1dHk6IDUwMDAwMCwgcG9sYXJpdHk6IDEsIGVuYWJsZWQ6IDEKPiAKPiAgIC0gJCBjYXQgYnJp
Z2h0bmVzcwo+ICAgICAzMgo+IAo+ICAgLSAkIGVjaG8gMzIgPiBicmlnaHRuZXNzICMgbm90aGlu
ZyBoYXBwZW5zLCBtYXguIGJyaWdodG5lc3MKPiAKPiAgIC0gJCBlY2hvIDEgPiBicmlnaHRuZXNz
ICMgYmFja2xpZ2h0IGdvZXMgZG93biB0byBsb3dlc3QgbGV2ZWwKICAgICAgIFsgICA5My45NzYz
NTRdIHB3bV9pbXgyN19hcHBseTogcGVyaW9kOiA1MDAwMDAsIGR1dHk6IDc4NDMsIHBvbGFyaXR5
OiAxLCBlbmFibGVkOiAxCj4gCj4gICAtICQgZWNobyAwID4gYnJpZ2h0bmVzcyAjIGJhY2tsaWdo
dCBnb2VzIHVwIHRvIG1heC4gbGV2ZWwsIHRoaXMgaXMKPiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICMgcHJvYmxlbSBvZiB0aGUgaW52ZXJ0ZWQgUFdNIG9uIGkuTVggd2UgYXR0ZW1wdGVkCj4g
ICAgICAgICAgICAgICAgICAgICAgICAgICAjIHRvIHNvbHZlIHNvbWUgdGltZSBhZ28uCiAgICAg
ICBbICAxMTUuNDk2MzUwXSBwd21faW14MjdfYXBwbHk6IHBlcmlvZDogNTAwMDAwLCBkdXR5OiAw
LCBwb2xhcml0eTogMSwgZW5hYmxlZDogMAo+Cj4gMi4gQmFja2xpZ2h0IGJlaGF2aW9yIG9uIHY1
LjQtcmMzOgo+IAo+ICAgLSBTeXN0ZW0gYm9vdHMgdG8gdXNlcnNwYWNlIGFuZCBiYWNrbGlnaHQg
aXMgZW5hYmxlZCBhbGwgdGhlIHRpbWUgZnJvbQo+ICAgICBwb3dlciB1cC4KPiAKICAgICAtICQg
ZG1lc2cgfCBncmVwIHB3bV8KICAgICAgIFsgICAgMS43NzQwNzFdIHB3bV9pbXgyN19nZXRfc3Rh
dGU6IHBlcmlvZDogOTkyOTcwLCBkdXR5OiAwLCBwb2xhcml0eTogMCwgZW5hYmxlZDogMAogICAg
ICAgWyAgICA1LjAwMzk2MV0gcHdtX2lteDI3X2FwcGx5OiBwZXJpb2Q6IDUwMDAwMCwgZHV0eTog
MCwgcG9sYXJpdHk6IDEsIGVuYWJsZWQ6IDAKICAgICAgIFsgICAgNS4wMTI2NDldIHB3bV9pbXgy
N19nZXRfc3RhdGU6IHBlcmlvZDogOTkyOTcwLCBkdXR5OiAwLCBwb2xhcml0eTogMCwgZW5hYmxl
ZDogMAogICAgICAgWyAgICA1LjAyMTY5NF0gcHdtX2lteDI3X2FwcGx5OiBwZXJpb2Q6IDk5Mjk3
MCwgZHV0eTogOTkyOTcwLCBwb2xhcml0eTogMCwgZW5hYmxlZDogMAogICAgICAgWyAgICA1LjAz
MDczMl0gcHdtX2lteDI3X2dldF9zdGF0ZTogcGVyaW9kOiA5OTI5NzAsIGR1dHk6IDAsIHBvbGFy
aXR5OiAwLCBlbmFibGVkOiAwCiAgICAgICBbICAgIDUuMDM5NjQzXSBwd21faW14MjdfYXBwbHk6
IHBlcmlvZDogOTkyOTcwLCBkdXR5OiAwLCBwb2xhcml0eTogMCwgZW5hYmxlZDogMQogICAgICAg
WyAgICA1LjA0OTYwNV0gcHdtX2lteDI3X2dldF9zdGF0ZTogcGVyaW9kOiA5OTI5NzAsIGR1dHk6
IDAsIHBvbGFyaXR5OiAwLCBlbmFibGVkOiAxCj4gCj4gICAtICQgY2F0IGJyaWdodG5lc3MKPiAg
ICAgMzIKPiAKPiAgIC0gJCBlY2hvIDMyID4gYnJpZ2h0bmVzcyAjIGJhY2tsaWdodCBnb2VzIGRv
d24KICAgICAgIFsgIDcwNy45NDY5NzBdIHB3bV9pbXgyN19hcHBseTogcGVyaW9kOiA5OTI5NzAs
IGR1dHk6IDk5Mjk3MCwgcG9sYXJpdHk6IDAsIGVuYWJsZWQ6IDEKICAgICAgIFsgIDcwNy45NTg1
NTFdIHB3bV9pbXgyN19nZXRfc3RhdGU6IHBlcmlvZDogOTkyOTcwLCBkdXR5OiA5OTI5NzAsIHBv
bGFyaXR5OiAwLCBlbmFibGVkOiAxCj4gCj4gICAtICQgZWNobyAxID4gYnJpZ2h0bmVzcyAjIGJh
Y2tsaWdodCBnb2VzIHVwIHRvIGhpZ2ggbGV2ZWwKICAgICAgIFsgIDc1Ny41MTY4NDVdIHB3bV9p
bXgyN19hcHBseTogcGVyaW9kOiA5OTI5NzAsIGR1dHk6IDE1NTc2LCBwb2xhcml0eTogMCwgZW5h
YmxlZDogMQogICAgICAgWyAgNzU3LjUyODQzOF0gcHdtX2lteDI3X2dldF9zdGF0ZTogcGVyaW9k
OiA5OTI5NzAsIGR1dHk6IDE1NTc2LCBwb2xhcml0eTogMCwgZW5hYmxlZDogMQo+IAo+ICAgLSAk
IGVjaG8gMCA+IGJyaWdodG5lc3MgIyBiYWNrbGlnaHQgZ29lcyB1cCB0byBoaWdoZXN0IGxldmVs
CiAgICAgICBbICA3ODMuMzg2ODM4XSBwd21faW14MjdfYXBwbHk6IHBlcmlvZDogOTkyOTcwLCBk
dXR5OiAwLCBwb2xhcml0eTogMCwgZW5hYmxlZDogMAogICAgICAgWyAgNzgzLjM5ODAyNV0gcHdt
X2lteDI3X2dldF9zdGF0ZTogcGVyaW9kOiA0OTY0ODUsIGR1dHk6IDAsIHBvbGFyaXR5OiAwLCBl
bmFibGVkOiAwCj4gCj4gU28gdGhlIGJlaGF2aW9yIGlzIGNsZWFybHkgaW52ZXJ0ZWQgdG8gaG93
IGl0IHdvcmtlZCBwcmlvciB0byAwMWNjZjkwM2VkZDYKPiB3aXRoIHRoZSB3ZWlyZCBleGNlcHRp
b24gdGhhdCB0aGUgaW5pdGlhbCBicmlnaHRuZXNzIGxldmVsIDMyIGlzCj4gbm90IGFwcGxpZWQu
Cj4gCj4gMy4gQmFja2xpZ2h0IGJlaGF2aW9yIG9uIHY1LjQtcmMzICsgdGhpcyBwYXRjaDoKPiAK
PiAgIC0gU3lzdGVtIGJvb3RzIHdpdGggYmFja2xpZ2h0IGVuYWJsZWQuIEluIHRoZSBtaWRkbGUg
b2Yga2VybmVsIGJvb3QKPiAgICAgYmFja2xpZ2h0IGlzIGRpc2FibGVkLgo+IAo+ICAgLSAkIGRt
ZXNnIHwgZ3JlcCBzdGF0ZQogICAgICAgWyAgICAxLjc3MzA5OV0gcHdtX2lteDI3X2dldF9zdGF0
ZTogcGVyaW9kOiA5OTI5NzAsIGR1dHk6IDAsIHBvbGFyaXR5OiAwLCBlbmFibGVkOiAwCiAgICAg
ICBbICAgIDUuMDAyNTMyXSBwd21faW14MjdfYXBwbHk6IHBlcmlvZDogNTAwMDAwLCBkdXR5OiAw
LCBwb2xhcml0eTogMSwgZW5hYmxlZDogMAogICAgICAgWyAgICA1LjAxMTI2M10gcHdtX2lteDI3
X2dldF9zdGF0ZTogcGVyaW9kOiA5OTI5NzAsIGR1dHk6IDAsIHBvbGFyaXR5OiAwLCBlbmFibGVk
OiAwCiAgICAgICBbICAgIDUuMDIwMzA3XSBwd21faW14MjdfYXBwbHk6IHBlcmlvZDogOTkyOTcw
LCBkdXR5OiA5OTI5NzAsIHBvbGFyaXR5OiAwLCBlbmFibGVkOiAxCiAgICAgICBbICAgIDUuMDMx
MDY2XSBwd21faW14MjdfZ2V0X3N0YXRlOiBwZXJpb2Q6IDk5Mjk3MCwgZHV0eTogOTkyOTcwLCBw
b2xhcml0eTogMCwgZW5hYmxlZDogMQo+IAo+ICAgLSAkIGNhdCBicmlnaHRuZXNzCj4gICAgIDMy
Cj4gCj4gICAtICQgZWNobyAzMiA+IGJyaWdodG5lc3MgIyBub3RoaW5nIGhhcHBlbnMsIGJhY2ts
aWdodCBpcyBkb3duCj4gCj4gICAtICQgZWNobyAxID4gYnJpZ2h0bmVzcyAjIGJhY2tsaWdodCBn
b2VzIHRvIGhpZ2ggbGV2ZWwKICAgICAgIFsgICA3My43ODY5MjZdIHB3bV9pbXgyN19hcHBseTog
cGVyaW9kOiA5OTI5NzAsIGR1dHk6IDE1NTc2LCBwb2xhcml0eTogMCwgZW5hYmxlZDogMQogICAg
ICAgWyAgIDczLjc5ODQ2OV0gcHdtX2lteDI3X2dldF9zdGF0ZTogcGVyaW9kOiA5OTI5NzAsIGR1
dHk6IDE1NTc2LCBwb2xhcml0eTogMCwgZW5hYmxlZDogMQo+IAo+ICAgLSAkIGVjaG8gMCA+IGJy
aWdodG5lc3MgIyBiYWNrbGlnaHQgZ29lcyB0byBtYXggYnJpZ2h0bmVzcwogICAgICAgWyAgMTA0
LjYzNjkwOF0gcHdtX2lteDI3X2FwcGx5OiBwZXJpb2Q6IDk5Mjk3MCwgZHV0eTogMCwgcG9sYXJp
dHk6IDAsIGVuYWJsZWQ6IDAKICAgICAgIFsgIDEwNC42NDgwOTNdIHB3bV9pbXgyN19nZXRfc3Rh
dGU6IHBlcmlvZDogNDk2NDg1LCBkdXR5OiAwLCBwb2xhcml0eTogMCwgZW5hYmxlZDogMAo+IAo+
IFNhbWUgYmVoYXZpb3IgYXMgKDIpIGJ1dCB0aGUgZGVmYXVsdCBzdGF0ZSBmcm9tIERUIGlzIGFw
cGFyZW50bHkgYXBwbGllZC4KPiAKPiBJIG9ubHkgZGlkIHRoaXMgZXhwZXJpbWVudHMuIEkgZGlk
IG5vdCBkZWx2ZSBpbnRvIHRoZSBjb2RlIHRvIHRyYWNrIHdoYXQgaXMKPiBnb2luZyBvbiBpbiB0
aGVyZSB5ZXQuCj4gCj4gSG9wZWZ1bGx5IHRoaXMgaGVscHMgeW91IGEgYml0IGFuZCBmZWVsIGZy
ZWUgdG8gcmVxdWVzdCBvdGhlciBleHBlcmltZW50cywKPiBNaWNoYWwKPiAKPj4gICBkcml2ZXJz
L3ZpZGVvL2JhY2tsaWdodC9wd21fYmwuYyB8IDM0ICsrKysrKysrKysrLS0tLS0tLS0tLS0tLS0t
LS0tLS0tCj4+ICAgMSBmaWxlIGNoYW5nZWQsIDEyIGluc2VydGlvbnMoKyksIDIyIGRlbGV0aW9u
cygtKQo+Pgo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy92aWRlby9iYWNrbGlnaHQvcHdtX2JsLmMg
Yi9kcml2ZXJzL3ZpZGVvL2JhY2tsaWdodC9wd21fYmwuYwo+PiBpbmRleCA3NDZlZWJjNDExZGYu
LmRkZWJkNjJiMzk3OCAxMDA2NDQKPj4gLS0tIGEvZHJpdmVycy92aWRlby9iYWNrbGlnaHQvcHdt
X2JsLmMKPj4gKysrIGIvZHJpdmVycy92aWRlby9iYWNrbGlnaHQvcHdtX2JsLmMKPj4gQEAgLTQy
LDEwICs0Miw4IEBAIHN0cnVjdCBwd21fYmxfZGF0YSB7Cj4+ICAgc3RhdGljIHZvaWQgcHdtX2Jh
Y2tsaWdodF9wb3dlcl9vbihzdHJ1Y3QgcHdtX2JsX2RhdGEgKnBiKQo+PiAgIHsKPj4gLSAgICBz
dHJ1Y3QgcHdtX3N0YXRlIHN0YXRlOwo+PiAgICAgICBpbnQgZXJyOwo+PiAtICAgIHB3bV9nZXRf
c3RhdGUocGItPnB3bSwgJnN0YXRlKTsKPj4gICAgICAgaWYgKHBiLT5lbmFibGVkKQo+PiAgICAg
ICAgICAgcmV0dXJuOwo+PiBAQCAtNTMsOSArNTEsNiBAQCBzdGF0aWMgdm9pZCBwd21fYmFja2xp
Z2h0X3Bvd2VyX29uKHN0cnVjdCBwd21fYmxfZGF0YSAqcGIpCj4+ICAgICAgIGlmIChlcnIgPCAw
KQo+PiAgICAgICAgICAgZGV2X2VycihwYi0+ZGV2LCAiZmFpbGVkIHRvIGVuYWJsZSBwb3dlciBz
dXBwbHlcbiIpOwo+PiAtICAgIHN0YXRlLmVuYWJsZWQgPSB0cnVlOwo+PiAtICAgIHB3bV9hcHBs
eV9zdGF0ZShwYi0+cHdtLCAmc3RhdGUpOwo+PiAtCj4+ICAgICAgIGlmIChwYi0+cG9zdF9wd21f
b25fZGVsYXkpCj4+ICAgICAgICAgICBtc2xlZXAocGItPnBvc3RfcHdtX29uX2RlbGF5KTsKPj4g
QEAgLTY3LDQwICs2MiwyNyBAQCBzdGF0aWMgdm9pZCBwd21fYmFja2xpZ2h0X3Bvd2VyX29uKHN0
cnVjdCBwd21fYmxfZGF0YSAqcGIpCj4+ICAgc3RhdGljIHZvaWQgcHdtX2JhY2tsaWdodF9wb3dl
cl9vZmYoc3RydWN0IHB3bV9ibF9kYXRhICpwYikKPj4gICB7Cj4+IC0gICAgc3RydWN0IHB3bV9z
dGF0ZSBzdGF0ZTsKPj4gLQo+PiAtICAgIHB3bV9nZXRfc3RhdGUocGItPnB3bSwgJnN0YXRlKTsK
Pj4gLSAgICBpZiAoIXBiLT5lbmFibGVkKQo+PiAtICAgICAgICByZXR1cm47Cj4+IC0KPj4gICAg
ICAgaWYgKHBiLT5lbmFibGVfZ3BpbykKPj4gICAgICAgICAgIGdwaW9kX3NldF92YWx1ZV9jYW5z
bGVlcChwYi0+ZW5hYmxlX2dwaW8sIDApOwo+PiAgICAgICBpZiAocGItPnB3bV9vZmZfZGVsYXkp
Cj4+ICAgICAgICAgICBtc2xlZXAocGItPnB3bV9vZmZfZGVsYXkpOwo+PiAtICAgIHN0YXRlLmVu
YWJsZWQgPSBmYWxzZTsKPj4gLSAgICBzdGF0ZS5kdXR5X2N5Y2xlID0gMDsKPj4gLSAgICBwd21f
YXBwbHlfc3RhdGUocGItPnB3bSwgJnN0YXRlKTsKPj4gLQo+PiAgICAgICByZWd1bGF0b3JfZGlz
YWJsZShwYi0+cG93ZXJfc3VwcGx5KTsKPj4gICAgICAgcGItPmVuYWJsZWQgPSBmYWxzZTsKPj4g
ICB9Cj4+IC1zdGF0aWMgaW50IGNvbXB1dGVfZHV0eV9jeWNsZShzdHJ1Y3QgcHdtX2JsX2RhdGEg
KnBiLCBpbnQgYnJpZ2h0bmVzcykKPj4gK3N0YXRpYyBpbnQgY29tcHV0ZV9kdXR5X2N5Y2xlKHN0
cnVjdCBwd21fYmxfZGF0YSAqcGIsIGludCBicmlnaHRuZXNzLCBzdHJ1Y3QgcHdtX3N0YXRlICpz
dGF0ZSkKPj4gICB7Cj4+ICAgICAgIHVuc2lnbmVkIGludCBsdGggPSBwYi0+bHRoX2JyaWdodG5l
c3M7Cj4+IC0gICAgc3RydWN0IHB3bV9zdGF0ZSBzdGF0ZTsKPj4gICAgICAgdTY0IGR1dHlfY3lj
bGU7Cj4+IC0gICAgcHdtX2dldF9zdGF0ZShwYi0+cHdtLCAmc3RhdGUpOwo+PiAtCj4+ICAgICAg
IGlmIChwYi0+bGV2ZWxzKQo+PiAgICAgICAgICAgZHV0eV9jeWNsZSA9IHBiLT5sZXZlbHNbYnJp
Z2h0bmVzc107Cj4+ICAgICAgIGVsc2UKPj4gICAgICAgICAgIGR1dHlfY3ljbGUgPSBicmlnaHRu
ZXNzOwo+PiAtICAgIGR1dHlfY3ljbGUgKj0gc3RhdGUucGVyaW9kIC0gbHRoOwo+PiArICAgIGR1
dHlfY3ljbGUgKj0gc3RhdGUtPnBlcmlvZCAtIGx0aDsKPj4gICAgICAgZG9fZGl2KGR1dHlfY3lj
bGUsIHBiLT5zY2FsZSk7Cj4+ICAgICAgIHJldHVybiBkdXR5X2N5Y2xlICsgbHRoOwo+PiBAQCAt
MTIyLDEyICsxMDQsMjAgQEAgc3RhdGljIGludCBwd21fYmFja2xpZ2h0X3VwZGF0ZV9zdGF0dXMo
c3RydWN0IGJhY2tsaWdodF9kZXZpY2UgKmJsKQo+PiAgICAgICBpZiAoYnJpZ2h0bmVzcyA+IDAp
IHsKPj4gICAgICAgICAgIHB3bV9nZXRfc3RhdGUocGItPnB3bSwgJnN0YXRlKTsKPj4gLSAgICAg
ICAgc3RhdGUuZHV0eV9jeWNsZSA9IGNvbXB1dGVfZHV0eV9jeWNsZShwYiwgYnJpZ2h0bmVzcyk7
Cj4+ICsgICAgICAgIHN0YXRlLmR1dHlfY3ljbGUgPSBjb21wdXRlX2R1dHlfY3ljbGUocGIsIGJy
aWdodG5lc3MsICZzdGF0ZSk7Cj4+ICsgICAgICAgIHN0YXRlLmVuYWJsZWQgPSB0cnVlOwo+PiAg
ICAgICAgICAgcHdtX2FwcGx5X3N0YXRlKHBiLT5wd20sICZzdGF0ZSk7Cj4+ICsKPj4gICAgICAg
ICAgIHB3bV9iYWNrbGlnaHRfcG93ZXJfb24ocGIpOwo+PiAtICAgIH0gZWxzZQo+PiArICAgIH0g
ZWxzZSB7Cj4+ICAgICAgICAgICBwd21fYmFja2xpZ2h0X3Bvd2VyX29mZihwYik7Cj4+ICsgICAg
ICAgIHB3bV9nZXRfc3RhdGUocGItPnB3bSwgJnN0YXRlKTsKPj4gKyAgICAgICAgc3RhdGUuZW5h
YmxlZCA9IGZhbHNlOwo+PiArICAgICAgICBzdGF0ZS5kdXR5X2N5Y2xlID0gMDsKPj4gKyAgICAg
ICAgcHdtX2FwcGx5X3N0YXRlKHBiLT5wd20sICZzdGF0ZSk7Cj4+ICsgICAgfQo+PiArCj4+ICAg
ICAgIGlmIChwYi0+bm90aWZ5X2FmdGVyKQo+PiAgICAgICAgICAgcGItPm5vdGlmeV9hZnRlcihw
Yi0+ZGV2LCBicmlnaHRuZXNzKTsKPj4KPiAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3Rz
LmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xp
c3RpbmZvL2RyaS1kZXZlbA==
