Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 672D3CB547
	for <lists+dri-devel@lfdr.de>; Fri,  4 Oct 2019 09:39:58 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A15D26EAD8;
	Fri,  4 Oct 2019 07:38:55 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mx1.suse.de (mx2.suse.de [195.135.220.15])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 758BD6EA7F
 for <dri-devel@lists.freedesktop.org>; Thu,  3 Oct 2019 20:20:31 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id EF8BDB06B;
 Thu,  3 Oct 2019 20:20:29 +0000 (UTC)
From: Davidlohr Bueso <dave@stgolabs.net>
To: akpm@linux-foundation.org
Subject: [PATCH 08/11] mm: convert vma_interval_tree to half closed intervals
Date: Thu,  3 Oct 2019 13:18:55 -0700
Message-Id: <20191003201858.11666-9-dave@stgolabs.net>
X-Mailer: git-send-email 2.16.4
In-Reply-To: <20191003201858.11666-1-dave@stgolabs.net>
References: <20191003201858.11666-1-dave@stgolabs.net>
X-Mailman-Approved-At: Fri, 04 Oct 2019 07:38:50 +0000
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: dave@stgolabs.net, Davidlohr Bueso <dbueso@suse.de>, peterz@infradead.org,
 linux-kernel@vger.kernel.org, dri-devel@lists.freedesktop.org,
 linux-mm@kvack.org, walken@google.com, linux-rdma@vger.kernel.org
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIHZtYSBhbmQgYW5vbiB2bWEgaW50ZXJ2YWwgdHJlZSByZWFsbHkgd2FudHMgW2EsIGIpIGlu
dGVydmFscywKbm90IGZ1bGx5IGNsb3NlZC4gQXMgc3VjaCBjb252ZXJ0IGl0IHRvIHVzZSB0aGUg
bmV3CmludGVydmFsX3RyZWVfZ2VuLmguIEJlY2F1c2Ugb2Ygdm1hX2xhc3RfcGdvZmYoKSwgdGhl
IGNvbnZlcnNpb24KaXMgcXVpdGUgc3RyYWlnaHRmb3J3YXJkLgoKU2lnbmVkLW9mZi1ieTogRGF2
aWRsb2hyIEJ1ZXNvIDxkYnVlc29Ac3VzZS5kZT4KLS0tCiBpbmNsdWRlL2xpbnV4L21tLmggfCA0
ICsrLS0KIG1tL2ludGVydmFsX3RyZWUuYyB8IDQgKystLQogbW0vbWVtb3J5LmMgICAgICAgIHwg
MiArLQogbW0vbm9tbXUuYyAgICAgICAgIHwgMiArLQogbW0vcm1hcC5jICAgICAgICAgIHwgNiAr
KystLS0KIDUgZmlsZXMgY2hhbmdlZCwgOSBpbnNlcnRpb25zKCspLCA5IGRlbGV0aW9ucygtKQoK
ZGlmZiAtLWdpdCBhL2luY2x1ZGUvbGludXgvbW0uaCBiL2luY2x1ZGUvbGludXgvbW0uaAppbmRl
eCA1M2Y5Nzg0ZDkxN2QuLjNiYzA2ZTFkZTQwYyAxMDA2NDQKLS0tIGEvaW5jbHVkZS9saW51eC9t
bS5oCisrKyBiL2luY2x1ZGUvbGludXgvbW0uaApAQCAtMjI0OSw3ICsyMjQ5LDcgQEAgc3RydWN0
IHZtX2FyZWFfc3RydWN0ICp2bWFfaW50ZXJ2YWxfdHJlZV9pdGVyX25leHQoc3RydWN0IHZtX2Fy
ZWFfc3RydWN0ICpub2RlLAogCSAgICAgdm1hOyB2bWEgPSB2bWFfaW50ZXJ2YWxfdHJlZV9pdGVy
X25leHQodm1hLCBzdGFydCwgbGFzdCkpCiAKICNkZWZpbmUgdm1hX2ludGVydmFsX3RyZWVfZm9y
ZWFjaF9zdGFiKHZtYSwgcm9vdCwgc3RhcnQpCQlcCi0Jdm1hX2ludGVydmFsX3RyZWVfZm9yZWFj
aCh2bWEsIHJvb3QsIHN0YXJ0LCBzdGFydCkKKwl2bWFfaW50ZXJ2YWxfdHJlZV9mb3JlYWNoKHZt
YSwgcm9vdCwgc3RhcnQsIHN0YXJ0ICsgMSkKIAogdm9pZCBhbm9uX3ZtYV9pbnRlcnZhbF90cmVl
X2luc2VydChzdHJ1Y3QgYW5vbl92bWFfY2hhaW4gKm5vZGUsCiAJCQkJICAgc3RydWN0IHJiX3Jv
b3RfY2FjaGVkICpyb290KTsKQEAgLTIyNjksNyArMjI2OSw3IEBAIHZvaWQgYW5vbl92bWFfaW50
ZXJ2YWxfdHJlZV92ZXJpZnkoc3RydWN0IGFub25fdm1hX2NoYWluICpub2RlKTsKIAkgICAgIGF2
YzsgYXZjID0gYW5vbl92bWFfaW50ZXJ2YWxfdHJlZV9pdGVyX25leHQoYXZjLCBzdGFydCwgbGFz
dCkpCiAKICNkZWZpbmUgYW5vbl92bWFfaW50ZXJ2YWxfdHJlZV9mb3JlYWNoX3N0YWIodm1hLCBy
b290LCBzdGFydCkJCVwKLQlhbm9uX3ZtYV9pbnRlcnZhbF90cmVlX2ZvcmVhY2godm1hLCByb290
LCBzdGFydCwgc3RhcnQpCisJYW5vbl92bWFfaW50ZXJ2YWxfdHJlZV9mb3JlYWNoKHZtYSwgcm9v
dCwgc3RhcnQsIHN0YXJ0ICsgMSkKIAogLyogbW1hcC5jICovCiBleHRlcm4gaW50IF9fdm1fZW5v
dWdoX21lbW9yeShzdHJ1Y3QgbW1fc3RydWN0ICptbSwgbG9uZyBwYWdlcywgaW50IGNhcF9zeXNf
YWRtaW4pOwpkaWZmIC0tZ2l0IGEvbW0vaW50ZXJ2YWxfdHJlZS5jIGIvbW0vaW50ZXJ2YWxfdHJl
ZS5jCmluZGV4IDExYzc1ZmIwNzU4NC4uMWY4YTdjMTIyZGQ3IDEwMDY0NAotLS0gYS9tbS9pbnRl
cnZhbF90cmVlLmMKKysrIGIvbW0vaW50ZXJ2YWxfdHJlZS5jCkBAIC04LDcgKzgsNyBAQAogI2lu
Y2x1ZGUgPGxpbnV4L21tLmg+CiAjaW5jbHVkZSA8bGludXgvZnMuaD4KICNpbmNsdWRlIDxsaW51
eC9ybWFwLmg+Ci0jaW5jbHVkZSA8bGludXgvaW50ZXJ2YWxfdHJlZV9nZW5lcmljLmg+CisjaW5j
bHVkZSA8bGludXgvaW50ZXJ2YWxfdHJlZV9nZW4uaD4KIAogc3RhdGljIGlubGluZSB1bnNpZ25l
ZCBsb25nIHZtYV9zdGFydF9wZ29mZihzdHJ1Y3Qgdm1fYXJlYV9zdHJ1Y3QgKnYpCiB7CkBAIC0x
Nyw3ICsxNyw3IEBAIHN0YXRpYyBpbmxpbmUgdW5zaWduZWQgbG9uZyB2bWFfc3RhcnRfcGdvZmYo
c3RydWN0IHZtX2FyZWFfc3RydWN0ICp2KQogCiBzdGF0aWMgaW5saW5lIHVuc2lnbmVkIGxvbmcg
dm1hX2xhc3RfcGdvZmYoc3RydWN0IHZtX2FyZWFfc3RydWN0ICp2KQogewotCXJldHVybiB2LT52
bV9wZ29mZiArIHZtYV9wYWdlcyh2KSAtIDE7CisJcmV0dXJuIHYtPnZtX3Bnb2ZmICsgdm1hX3Bh
Z2VzKHYpOwogfQogCiBJTlRFUlZBTF9UUkVFX0RFRklORShzdHJ1Y3Qgdm1fYXJlYV9zdHJ1Y3Qs
IHNoYXJlZC5yYiwKZGlmZiAtLWdpdCBhL21tL21lbW9yeS5jIGIvbW0vbWVtb3J5LmMKaW5kZXgg
YjFjYTUxYTA3OWYyLi44ZjY5NzhhYmY2NGEgMTAwNjQ0Ci0tLSBhL21tL21lbW9yeS5jCisrKyBi
L21tL21lbW9yeS5jCkBAIC0yNjc5LDcgKzI2NzksNyBAQCB2b2lkIHVubWFwX21hcHBpbmdfcGFn
ZXMoc3RydWN0IGFkZHJlc3Nfc3BhY2UgKm1hcHBpbmcsIHBnb2ZmX3Qgc3RhcnQsCiAKIAlkZXRh
aWxzLmNoZWNrX21hcHBpbmcgPSBldmVuX2Nvd3MgPyBOVUxMIDogbWFwcGluZzsKIAlkZXRhaWxz
LmZpcnN0X2luZGV4ID0gc3RhcnQ7Ci0JZGV0YWlscy5sYXN0X2luZGV4ID0gc3RhcnQgKyBuciAt
IDE7CisJZGV0YWlscy5sYXN0X2luZGV4ID0gc3RhcnQgKyBucjsKIAlpZiAoZGV0YWlscy5sYXN0
X2luZGV4IDwgZGV0YWlscy5maXJzdF9pbmRleCkKIAkJZGV0YWlscy5sYXN0X2luZGV4ID0gVUxP
TkdfTUFYOwogCmRpZmYgLS1naXQgYS9tbS9ub21tdS5jIGIvbW0vbm9tbXUuYwppbmRleCA5OWI3
ZWMzMTg4MjQuLjI4NGMyYTk0OGQ3OSAxMDA2NDQKLS0tIGEvbW0vbm9tbXUuYworKysgYi9tbS9u
b21tdS5jCkBAIC0xNzkzLDcgKzE3OTMsNyBAQCBpbnQgbm9tbXVfc2hyaW5rX2lub2RlX21hcHBp
bmdzKHN0cnVjdCBpbm9kZSAqaW5vZGUsIHNpemVfdCBzaXplLAogCXNpemVfdCByX3NpemUsIHJf
dG9wOwogCiAJbG93ID0gbmV3c2l6ZSA+PiBQQUdFX1NISUZUOwotCWhpZ2ggPSAoc2l6ZSArIFBB
R0VfU0laRSAtIDEpID4+IFBBR0VfU0hJRlQ7CisJaGlnaCA9IChzaXplICsgUEFHRV9TSVpFKSA+
PiBQQUdFX1NISUZUOwogCiAJZG93bl93cml0ZSgmbm9tbXVfcmVnaW9uX3NlbSk7CiAJaV9tbWFw
X2xvY2tfcmVhZChpbm9kZS0+aV9tYXBwaW5nKTsKZGlmZiAtLWdpdCBhL21tL3JtYXAuYyBiL21t
L3JtYXAuYwppbmRleCBkOWEyM2JiNzczYmYuLjQ4Y2E3ZDFhMDZiNSAxMDA2NDQKLS0tIGEvbW0v
cm1hcC5jCisrKyBiL21tL3JtYXAuYwpAQCAtMTgyNiw3ICsxODI2LDcgQEAgc3RhdGljIHZvaWQg
cm1hcF93YWxrX2Fub24oc3RydWN0IHBhZ2UgKnBhZ2UsIHN0cnVjdCBybWFwX3dhbGtfY29udHJv
bCAqcndjLAogCQlyZXR1cm47CiAKIAlwZ29mZl9zdGFydCA9IHBhZ2VfdG9fcGdvZmYocGFnZSk7
Ci0JcGdvZmZfZW5kID0gcGdvZmZfc3RhcnQgKyBocGFnZV9ucl9wYWdlcyhwYWdlKSAtIDE7CisJ
cGdvZmZfZW5kID0gcGdvZmZfc3RhcnQgKyBocGFnZV9ucl9wYWdlcyhwYWdlKTsKIAlhbm9uX3Zt
YV9pbnRlcnZhbF90cmVlX2ZvcmVhY2goYXZjLCAmYW5vbl92bWEtPnJiX3Jvb3QsCiAJCQlwZ29m
Zl9zdGFydCwgcGdvZmZfZW5kKSB7CiAJCXN0cnVjdCB2bV9hcmVhX3N0cnVjdCAqdm1hID0gYXZj
LT52bWE7CkBAIC0xODc5LDExICsxODc5LDExIEBAIHN0YXRpYyB2b2lkIHJtYXBfd2Fsa19maWxl
KHN0cnVjdCBwYWdlICpwYWdlLCBzdHJ1Y3Qgcm1hcF93YWxrX2NvbnRyb2wgKnJ3YywKIAkJcmV0
dXJuOwogCiAJcGdvZmZfc3RhcnQgPSBwYWdlX3RvX3Bnb2ZmKHBhZ2UpOwotCXBnb2ZmX2VuZCA9
IHBnb2ZmX3N0YXJ0ICsgaHBhZ2VfbnJfcGFnZXMocGFnZSkgLSAxOworCXBnb2ZmX2VuZCA9IHBn
b2ZmX3N0YXJ0ICsgaHBhZ2VfbnJfcGFnZXMocGFnZSk7CiAJaWYgKCFsb2NrZWQpCiAJCWlfbW1h
cF9sb2NrX3JlYWQobWFwcGluZyk7CiAJdm1hX2ludGVydmFsX3RyZWVfZm9yZWFjaCh2bWEsICZt
YXBwaW5nLT5pX21tYXAsCi0JCQlwZ29mZl9zdGFydCwgcGdvZmZfZW5kKSB7CisJCQkJICBwZ29m
Zl9zdGFydCwgcGdvZmZfZW5kKSB7CiAJCXVuc2lnbmVkIGxvbmcgYWRkcmVzcyA9IHZtYV9hZGRy
ZXNzKHBhZ2UsIHZtYSk7CiAKIAkJY29uZF9yZXNjaGVkKCk7Ci0tIAoyLjE2LjQKCl9fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5n
IGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVk
ZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
