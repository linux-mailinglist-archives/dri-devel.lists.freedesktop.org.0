Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 18A37113039
	for <lists+dri-devel@lfdr.de>; Wed,  4 Dec 2019 17:47:37 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8F55088089;
	Wed,  4 Dec 2019 16:47:34 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga11.intel.com (mga11.intel.com [192.55.52.93])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 212906E932
 for <dri-devel@lists.freedesktop.org>; Wed,  4 Dec 2019 16:47:33 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by fmsmga102.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 04 Dec 2019 08:47:32 -0800
X-IronPort-AV: E=Sophos;i="5.69,277,1571727600"; d="scan'208";a="205452139"
Received: from huberth-mobl4.ger.corp.intel.com (HELO localhost)
 ([10.252.34.172])
 by orsmga008-auth.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 04 Dec 2019 08:47:28 -0800
From: Jani Nikula <jani.nikula@linux.intel.com>
To: Benjamin Gaignard <benjamin.gaignard@st.com>,
 maarten.lankhorst@linux.intel.com, mripard@kernel.org, sean@poorly.run,
 airlied@linux.ie, daniel@ffwll.ch
Subject: Re: [PATCH v3] drm/dp_mst: Fix W=1 warnings
In-Reply-To: <20191128135057.20020-1-benjamin.gaignard@st.com>
Organization: Intel Finland Oy - BIC 0357606-4 - Westendinkatu 7, 02160 Espoo
References: <20191128135057.20020-1-benjamin.gaignard@st.com>
Date: Wed, 04 Dec 2019 18:47:33 +0200
Message-ID: <878snsvxzu.fsf@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-kernel@vger.kernel.org, dri-devel@lists.freedesktop.org,
 Benjamin Gaignard <benjamin.gaignard@st.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVGh1LCAyOCBOb3YgMjAxOSwgQmVuamFtaW4gR2FpZ25hcmQgPGJlbmphbWluLmdhaWduYXJk
QHN0LmNvbT4gd3JvdGU6Cj4gRml4IHRoZSB3YXJuaW5ncyB0aGF0IHNob3cgdXAgd2l0aCBXPTEu
Cj4gVGhleSBhcmUgYWxsIGFib3V0IHVudXNlZCBidXQgc2V0IHZhcmlhYmxlcy4KPiBJZiBmdW5j
dGlvbnMgcmV0dXJucyBhcmUgbm90IHVzZWQgYW55bW9yZSBtYWtlIHRoZW0gdm9pZC4KPgo+IFNp
Z25lZC1vZmYtYnk6IEJlbmphbWluIEdhaWduYXJkIDxiZW5qYW1pbi5nYWlnbmFyZEBzdC5jb20+
Cj4gLS0tCj4gQ0M6IEphbmkgTmlrdWxhIDxqYW5pLm5pa3VsYUBsaW51eC5pbnRlbC5jb20+Cj4K
PiBjaGFuZ2VzIGluIHZlcnNpb24gMzoKPiAtIHJlbW92ZSB0aGUgaHVuayB0aGF0IG1heSBjb25m
bGljdCB3aXRoIGM0ODVlMmM5N2RhZSAKPiAgICgiZHJtL2RwX21zdDogUmVmYWN0b3IgcGR0IHNl
dHVwL3RlYXJkb3duLCBhZGQgbW9yZSBsb2NraW5nIikKPgo+IGNoYW5nZXMgaW4gdmVyc2lvbiAy
Ogo+IC0gZml4IGluZGVudGF0aW9ucwo+IC0gd2hlbiBwb3NzaWJsZSBjaGFuZ2UgZnVuY3Rpb25z
IHByb3RvdHlwZSB0byB2b2lkCj4KPiBkcml2ZXJzL2dwdS9kcm0vZHJtX2RwX21zdF90b3BvbG9n
eS5jIHwgODMgKysrKysrKysrKysrKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KPiAgMSBmaWxlIGNo
YW5nZWQsIDMxIGluc2VydGlvbnMoKyksIDUyIGRlbGV0aW9ucygtKQo+Cj4gZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9kcm1fZHBfbXN0X3RvcG9sb2d5LmMgYi9kcml2ZXJzL2dwdS9kcm0v
ZHJtX2RwX21zdF90b3BvbG9neS5jCj4gaW5kZXggMTQzN2JjNDYzNjhiLi5kNWNiNTY4OGI1ZGQg
MTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2RybV9kcF9tc3RfdG9wb2xvZ3kuYwo+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fZHBfbXN0X3RvcG9sb2d5LmMKPiBAQCAtNjc0LDcgKzY3
NCw2IEBAIHN0YXRpYyBib29sIGRybV9kcF9zaWRlYmFuZF9tc2dfYnVpbGQoc3RydWN0IGRybV9k
cF9zaWRlYmFuZF9tc2dfcnggKm1zZywKPiAgCQkJCSAgICAgIHU4ICpyZXBseWJ1ZiwgdTggcmVw
bHlidWZsZW4sIGJvb2wgaGRyKQo+ICB7Cj4gIAlpbnQgcmV0Owo+IC0JdTggY3JjNDsKPiAgCj4g
IAlpZiAoaGRyKSB7Cj4gIAkJdTggaGRybGVuOwo+IEBAIC03MTYsOCArNzE1LDYgQEAgc3RhdGlj
IGJvb2wgZHJtX2RwX3NpZGViYW5kX21zZ19idWlsZChzdHJ1Y3QgZHJtX2RwX3NpZGViYW5kX21z
Z19yeCAqbXNnLAo+ICAJfQo+ICAKPiAgCWlmIChtc2ctPmN1cmNodW5rX2lkeCA+PSBtc2ctPmN1
cmNodW5rX2xlbikgewo+IC0JCS8qIGRvIENSQyAqLwo+IC0JCWNyYzQgPSBkcm1fZHBfbXNnX2Rh
dGFfY3JjNChtc2ctPmNodW5rLCBtc2ctPmN1cmNodW5rX2xlbiAtIDEpOwoKQWdhaW4sIHNvbWVv
bmUgbmVlZHMgdG8gY2hlY2sgaWYgY3JjNCBzaG91bGQgYmUgKnVzZWQqIGluc3RlYWQgb2YgdGhy
b3duCmF3YXkuIEJsaW5kbHkgdGhyb3dpbmcgc3R1ZmYgb3V0IGlzIG5vdCB0aGUgd2F5IHRvIGdv
LgoKQlIsCkphbmkuCgo+ICAJCS8qIGNvcHkgY2h1bmsgaW50byBiaWdnZXIgbXNnICovCj4gIAkJ
bWVtY3B5KCZtc2ctPm1zZ1ttc2ctPmN1cmxlbl0sIG1zZy0+Y2h1bmssIG1zZy0+Y3VyY2h1bmtf
bGVuIC0gMSk7Cj4gIAkJbXNnLT5jdXJsZW4gKz0gbXNnLT5jdXJjaHVua19sZW4gLSAxOwo+IEBA
IC0xMDE0LDcgKzEwMTEsNyBAQCBzdGF0aWMgYm9vbCBkcm1fZHBfc2lkZWJhbmRfcGFyc2VfcmVx
KHN0cnVjdCBkcm1fZHBfc2lkZWJhbmRfbXNnX3J4ICpyYXcsCj4gIAl9Cj4gIH0KPiAgCj4gLXN0
YXRpYyBpbnQgYnVpbGRfZHBjZF93cml0ZShzdHJ1Y3QgZHJtX2RwX3NpZGViYW5kX21zZ190eCAq
bXNnLCB1OCBwb3J0X251bSwgdTMyIG9mZnNldCwgdTggbnVtX2J5dGVzLCB1OCAqYnl0ZXMpCj4g
K3N0YXRpYyB2b2lkIGJ1aWxkX2RwY2Rfd3JpdGUoc3RydWN0IGRybV9kcF9zaWRlYmFuZF9tc2df
dHggKm1zZywgdTggcG9ydF9udW0sIHUzMiBvZmZzZXQsIHU4IG51bV9ieXRlcywgdTggKmJ5dGVz
KQo+ICB7Cj4gIAlzdHJ1Y3QgZHJtX2RwX3NpZGViYW5kX21zZ19yZXFfYm9keSByZXE7Cj4gIAo+
IEBAIC0xMDI0LDE3ICsxMDIxLDE0IEBAIHN0YXRpYyBpbnQgYnVpbGRfZHBjZF93cml0ZShzdHJ1
Y3QgZHJtX2RwX3NpZGViYW5kX21zZ190eCAqbXNnLCB1OCBwb3J0X251bSwgdTMyCj4gIAlyZXEu
dS5kcGNkX3dyaXRlLm51bV9ieXRlcyA9IG51bV9ieXRlczsKPiAgCXJlcS51LmRwY2Rfd3JpdGUu
Ynl0ZXMgPSBieXRlczsKPiAgCWRybV9kcF9lbmNvZGVfc2lkZWJhbmRfcmVxKCZyZXEsIG1zZyk7
Cj4gLQo+IC0JcmV0dXJuIDA7Cj4gIH0KPiAgCj4gLXN0YXRpYyBpbnQgYnVpbGRfbGlua19hZGRy
ZXNzKHN0cnVjdCBkcm1fZHBfc2lkZWJhbmRfbXNnX3R4ICptc2cpCj4gK3N0YXRpYyB2b2lkIGJ1
aWxkX2xpbmtfYWRkcmVzcyhzdHJ1Y3QgZHJtX2RwX3NpZGViYW5kX21zZ190eCAqbXNnKQo+ICB7
Cj4gIAlzdHJ1Y3QgZHJtX2RwX3NpZGViYW5kX21zZ19yZXFfYm9keSByZXE7Cj4gIAo+ICAJcmVx
LnJlcV90eXBlID0gRFBfTElOS19BRERSRVNTOwo+ICAJZHJtX2RwX2VuY29kZV9zaWRlYmFuZF9y
ZXEoJnJlcSwgbXNnKTsKPiAtCXJldHVybiAwOwo+ICB9Cj4gIAo+ICBzdGF0aWMgaW50IGJ1aWxk
X2VudW1fcGF0aF9yZXNvdXJjZXMoc3RydWN0IGRybV9kcF9zaWRlYmFuZF9tc2dfdHggKm1zZywg
aW50IHBvcnRfbnVtKQo+IEBAIC0xMDQ4LDcgKzEwNDIsNyBAQCBzdGF0aWMgaW50IGJ1aWxkX2Vu
dW1fcGF0aF9yZXNvdXJjZXMoc3RydWN0IGRybV9kcF9zaWRlYmFuZF9tc2dfdHggKm1zZywgaW50
IHBvcgo+ICAJcmV0dXJuIDA7Cj4gIH0KPiAgCj4gLXN0YXRpYyBpbnQgYnVpbGRfYWxsb2NhdGVf
cGF5bG9hZChzdHJ1Y3QgZHJtX2RwX3NpZGViYW5kX21zZ190eCAqbXNnLCBpbnQgcG9ydF9udW0s
Cj4gK3N0YXRpYyB2b2lkIGJ1aWxkX2FsbG9jYXRlX3BheWxvYWQoc3RydWN0IGRybV9kcF9zaWRl
YmFuZF9tc2dfdHggKm1zZywgaW50IHBvcnRfbnVtLAo+ICAJCQkJICB1OCB2Y3BpLCB1aW50MTZf
dCBwYm4sCj4gIAkJCQkgIHU4IG51bWJlcl9zZHBfc3RyZWFtcywKPiAgCQkJCSAgdTggKnNkcF9z
dHJlYW1fc2luaykKPiBAQCAtMTA2NCwxMCArMTA1OCw5IEBAIHN0YXRpYyBpbnQgYnVpbGRfYWxs
b2NhdGVfcGF5bG9hZChzdHJ1Y3QgZHJtX2RwX3NpZGViYW5kX21zZ190eCAqbXNnLCBpbnQgcG9y
dF9uCj4gIAkJICAgbnVtYmVyX3NkcF9zdHJlYW1zKTsKPiAgCWRybV9kcF9lbmNvZGVfc2lkZWJh
bmRfcmVxKCZyZXEsIG1zZyk7Cj4gIAltc2ctPnBhdGhfbXNnID0gdHJ1ZTsKPiAtCXJldHVybiAw
Owo+ICB9Cj4gIAo+IC1zdGF0aWMgaW50IGJ1aWxkX3Bvd2VyX3VwZG93bl9waHkoc3RydWN0IGRy
bV9kcF9zaWRlYmFuZF9tc2dfdHggKm1zZywKPiArc3RhdGljIHZvaWQgYnVpbGRfcG93ZXJfdXBk
b3duX3BoeShzdHJ1Y3QgZHJtX2RwX3NpZGViYW5kX21zZ190eCAqbXNnLAo+ICAJCQkJICBpbnQg
cG9ydF9udW0sIGJvb2wgcG93ZXJfdXApCj4gIHsKPiAgCXN0cnVjdCBkcm1fZHBfc2lkZWJhbmRf
bXNnX3JlcV9ib2R5IHJlcTsKPiBAQCAtMTA4MCw3ICsxMDczLDYgQEAgc3RhdGljIGludCBidWls
ZF9wb3dlcl91cGRvd25fcGh5KHN0cnVjdCBkcm1fZHBfc2lkZWJhbmRfbXNnX3R4ICptc2csCj4g
IAlyZXEudS5wb3J0X251bS5wb3J0X251bWJlciA9IHBvcnRfbnVtOwo+ICAJZHJtX2RwX2VuY29k
ZV9zaWRlYmFuZF9yZXEoJnJlcSwgbXNnKTsKPiAgCW1zZy0+cGF0aF9tc2cgPSB0cnVlOwo+IC0J
cmV0dXJuIDA7Cj4gIH0KPiAgCj4gIHN0YXRpYyBpbnQgZHJtX2RwX21zdF9hc3NpZ25fcGF5bG9h
ZF9pZChzdHJ1Y3QgZHJtX2RwX21zdF90b3BvbG9neV9tZ3IgKm1nciwKPiBAQCAtMTc0NiwxNCAr
MTczOCwxMyBAQCBzdGF0aWMgdTggZHJtX2RwX2NhbGN1bGF0ZV9yYWQoc3RydWN0IGRybV9kcF9t
c3RfcG9ydCAqcG9ydCwKPiAgICovCj4gIHN0YXRpYyBib29sIGRybV9kcF9wb3J0X3NldHVwX3Bk
dChzdHJ1Y3QgZHJtX2RwX21zdF9wb3J0ICpwb3J0KQo+ICB7Cj4gLQlpbnQgcmV0Owo+ICAJdTgg
cmFkWzZdLCBsY3Q7Cj4gIAlib29sIHNlbmRfbGluayA9IGZhbHNlOwo+ICAJc3dpdGNoIChwb3J0
LT5wZHQpIHsKPiAgCWNhc2UgRFBfUEVFUl9ERVZJQ0VfRFBfTEVHQUNZX0NPTlY6Cj4gIAljYXNl
IERQX1BFRVJfREVWSUNFX1NTVF9TSU5LOgo+ICAJCS8qIGFkZCBpMmMgb3ZlciBzaWRlYmFuZCAq
Lwo+IC0JCXJldCA9IGRybV9kcF9tc3RfcmVnaXN0ZXJfaTJjX2J1cygmcG9ydC0+YXV4KTsKPiAr
CQlkcm1fZHBfbXN0X3JlZ2lzdGVyX2kyY19idXMoJnBvcnQtPmF1eCk7Cj4gIAkJYnJlYWs7Cj4g
IAljYXNlIERQX1BFRVJfREVWSUNFX01TVF9CUkFOQ0hJTkc6Cj4gIAkJbGN0ID0gZHJtX2RwX2Nh
bGN1bGF0ZV9yYWQocG9ydCwgcmFkKTsKPiBAQCAtMTgyMywyNSArMTgxNCwyMCBAQCBzc2l6ZV90
IGRybV9kcF9tc3RfZHBjZF93cml0ZShzdHJ1Y3QgZHJtX2RwX2F1eCAqYXV4LAo+ICAKPiAgc3Rh
dGljIHZvaWQgZHJtX2RwX2NoZWNrX21zdGJfZ3VpZChzdHJ1Y3QgZHJtX2RwX21zdF9icmFuY2gg
Km1zdGIsIHU4ICpndWlkKQo+ICB7Cj4gLQlpbnQgcmV0Owo+IC0KPiAgCW1lbWNweShtc3RiLT5n
dWlkLCBndWlkLCAxNik7Cj4gIAo+ICAJaWYgKCFkcm1fZHBfdmFsaWRhdGVfZ3VpZChtc3RiLT5t
Z3IsIG1zdGItPmd1aWQpKSB7Cj4gIAkJaWYgKG1zdGItPnBvcnRfcGFyZW50KSB7Cj4gLQkJCXJl
dCA9IGRybV9kcF9zZW5kX2RwY2Rfd3JpdGUoCj4gLQkJCQkJbXN0Yi0+bWdyLAo+IC0JCQkJCW1z
dGItPnBvcnRfcGFyZW50LAo+IC0JCQkJCURQX0dVSUQsCj4gLQkJCQkJMTYsCj4gLQkJCQkJbXN0
Yi0+Z3VpZCk7Cj4gKwkJCWRybV9kcF9zZW5kX2RwY2Rfd3JpdGUobXN0Yi0+bWdyLAo+ICsJCQkJ
CSAgICAgICBtc3RiLT5wb3J0X3BhcmVudCwKPiArCQkJCQkgICAgICAgRFBfR1VJRCwKPiArCQkJ
CQkgICAgICAgMTYsCj4gKwkJCQkJICAgICAgIG1zdGItPmd1aWQpOwo+ICAJCX0gZWxzZSB7Cj4g
LQo+IC0JCQlyZXQgPSBkcm1fZHBfZHBjZF93cml0ZSgKPiAtCQkJCQltc3RiLT5tZ3ItPmF1eCwK
PiAtCQkJCQlEUF9HVUlELAo+IC0JCQkJCW1zdGItPmd1aWQsCj4gLQkJCQkJMTYpOwo+ICsJCQlk
cm1fZHBfZHBjZF93cml0ZShtc3RiLT5tZ3ItPmF1eCwKPiArCQkJCQkgIERQX0dVSUQsCj4gKwkJ
CQkJICBtc3RiLT5ndWlkLAo+ICsJCQkJCSAgMTYpOwo+ICAJCX0KPiAgCX0KPiAgfQo+IEBAIC0y
MTk3LDcgKzIxODMsNyBAQCBzdGF0aWMgYm9vbCBkcm1fZHBfdmFsaWRhdGVfZ3VpZChzdHJ1Y3Qg
ZHJtX2RwX21zdF90b3BvbG9neV9tZ3IgKm1nciwKPiAgCXJldHVybiBmYWxzZTsKPiAgfQo+ICAK
PiAtc3RhdGljIGludCBidWlsZF9kcGNkX3JlYWQoc3RydWN0IGRybV9kcF9zaWRlYmFuZF9tc2df
dHggKm1zZywgdTggcG9ydF9udW0sIHUzMiBvZmZzZXQsIHU4IG51bV9ieXRlcykKPiArc3RhdGlj
IHZvaWQgYnVpbGRfZHBjZF9yZWFkKHN0cnVjdCBkcm1fZHBfc2lkZWJhbmRfbXNnX3R4ICptc2cs
IHU4IHBvcnRfbnVtLCB1MzIgb2Zmc2V0LCB1OCBudW1fYnl0ZXMpCj4gIHsKPiAgCXN0cnVjdCBk
cm1fZHBfc2lkZWJhbmRfbXNnX3JlcV9ib2R5IHJlcTsKPiAgCj4gQEAgLTIyMDYsOCArMjE5Miw2
IEBAIHN0YXRpYyBpbnQgYnVpbGRfZHBjZF9yZWFkKHN0cnVjdCBkcm1fZHBfc2lkZWJhbmRfbXNn
X3R4ICptc2csIHU4IHBvcnRfbnVtLCB1MzIKPiAgCXJlcS51LmRwY2RfcmVhZC5kcGNkX2FkZHJl
c3MgPSBvZmZzZXQ7Cj4gIAlyZXEudS5kcGNkX3JlYWQubnVtX2J5dGVzID0gbnVtX2J5dGVzOwo+
ICAJZHJtX2RwX2VuY29kZV9zaWRlYmFuZF9yZXEoJnJlcSwgbXNnKTsKPiAtCj4gLQlyZXR1cm4g
MDsKPiAgfQo+ICAKPiAgc3RhdGljIGludCBkcm1fZHBfc2VuZF9zaWRlYmFuZF9tc2coc3RydWN0
IGRybV9kcF9tc3RfdG9wb2xvZ3lfbWdyICptZ3IsCj4gQEAgLTI0MjksMTQgKzI0MTMsMTQgQEAg
c3RhdGljIHZvaWQgZHJtX2RwX3NlbmRfbGlua19hZGRyZXNzKHN0cnVjdCBkcm1fZHBfbXN0X3Rv
cG9sb2d5X21nciAqbWdyLAo+ICB7Cj4gIAlzdHJ1Y3QgZHJtX2RwX3NpZGViYW5kX21zZ190eCAq
dHhtc2c7Cj4gIAlzdHJ1Y3QgZHJtX2RwX2xpbmtfYWRkcmVzc19hY2tfcmVwbHkgKnJlcGx5Owo+
IC0JaW50IGksIGxlbiwgcmV0Owo+ICsJaW50IGksIHJldDsKPiAgCj4gIAl0eG1zZyA9IGt6YWxs
b2Moc2l6ZW9mKCp0eG1zZyksIEdGUF9LRVJORUwpOwo+ICAJaWYgKCF0eG1zZykKPiAgCQlyZXR1
cm47Cj4gIAo+ICAJdHhtc2ctPmRzdCA9IG1zdGI7Cj4gLQlsZW4gPSBidWlsZF9saW5rX2FkZHJl
c3ModHhtc2cpOwo+ICsJYnVpbGRfbGlua19hZGRyZXNzKHR4bXNnKTsKPiAgCj4gIAltc3RiLT5s
aW5rX2FkZHJlc3Nfc2VudCA9IHRydWU7Cj4gIAlkcm1fZHBfcXVldWVfZG93bl90eChtZ3IsIHR4
bXNnKTsKPiBAQCAtMjQ3OCw3ICsyNDYyLDYgQEAgZHJtX2RwX3NlbmRfZW51bV9wYXRoX3Jlc291
cmNlcyhzdHJ1Y3QgZHJtX2RwX21zdF90b3BvbG9neV9tZ3IgKm1nciwKPiAgewo+ICAJc3RydWN0
IGRybV9kcF9lbnVtX3BhdGhfcmVzb3VyY2VzX2Fja19yZXBseSAqcGF0aF9yZXM7Cj4gIAlzdHJ1
Y3QgZHJtX2RwX3NpZGViYW5kX21zZ190eCAqdHhtc2c7Cj4gLQlpbnQgbGVuOwo+ICAJaW50IHJl
dDsKPiAgCj4gIAl0eG1zZyA9IGt6YWxsb2Moc2l6ZW9mKCp0eG1zZyksIEdGUF9LRVJORUwpOwo+
IEBAIC0yNDg2LDcgKzI0NjksNyBAQCBkcm1fZHBfc2VuZF9lbnVtX3BhdGhfcmVzb3VyY2VzKHN0
cnVjdCBkcm1fZHBfbXN0X3RvcG9sb2d5X21nciAqbWdyLAo+ICAJCXJldHVybiAtRU5PTUVNOwo+
ICAKPiAgCXR4bXNnLT5kc3QgPSBtc3RiOwo+IC0JbGVuID0gYnVpbGRfZW51bV9wYXRoX3Jlc291
cmNlcyh0eG1zZywgcG9ydC0+cG9ydF9udW0pOwo+ICsJYnVpbGRfZW51bV9wYXRoX3Jlc291cmNl
cyh0eG1zZywgcG9ydC0+cG9ydF9udW0pOwo+ICAKPiAgCWRybV9kcF9xdWV1ZV9kb3duX3R4KG1n
ciwgdHhtc2cpOwo+ICAKPiBAQCAtMjU2OSw3ICsyNTUyLDcgQEAgc3RhdGljIGludCBkcm1fZHBf
cGF5bG9hZF9zZW5kX21zZyhzdHJ1Y3QgZHJtX2RwX21zdF90b3BvbG9neV9tZ3IgKm1nciwKPiAg
ewo+ICAJc3RydWN0IGRybV9kcF9zaWRlYmFuZF9tc2dfdHggKnR4bXNnOwo+ICAJc3RydWN0IGRy
bV9kcF9tc3RfYnJhbmNoICptc3RiOwo+IC0JaW50IGxlbiwgcmV0LCBwb3J0X251bTsKPiArCWlu
dCByZXQsIHBvcnRfbnVtOwo+ICAJdTggc2lua3NbRFJNX0RQX01BWF9TRFBfU1RSRUFNU107Cj4g
IAlpbnQgaTsKPiAgCj4gQEAgLTI1OTQsOSArMjU3Nyw5IEBAIHN0YXRpYyBpbnQgZHJtX2RwX3Bh
eWxvYWRfc2VuZF9tc2coc3RydWN0IGRybV9kcF9tc3RfdG9wb2xvZ3lfbWdyICptZ3IsCj4gIAkJ
c2lua3NbaV0gPSBpOwo+ICAKPiAgCXR4bXNnLT5kc3QgPSBtc3RiOwo+IC0JbGVuID0gYnVpbGRf
YWxsb2NhdGVfcGF5bG9hZCh0eG1zZywgcG9ydF9udW0sCj4gLQkJCQkgICAgIGlkLAo+IC0JCQkJ
ICAgICBwYm4sIHBvcnQtPm51bV9zZHBfc3RyZWFtcywgc2lua3MpOwo+ICsJYnVpbGRfYWxsb2Nh
dGVfcGF5bG9hZCh0eG1zZywgcG9ydF9udW0sCj4gKwkJCSAgICAgICBpZCwKPiArCQkJICAgICAg
IHBibiwgcG9ydC0+bnVtX3NkcF9zdHJlYW1zLCBzaW5rcyk7Cj4gIAo+ICAJZHJtX2RwX3F1ZXVl
X2Rvd25fdHgobWdyLCB0eG1zZyk7Cj4gIAo+IEBAIC0yNjI1LDcgKzI2MDgsNyBAQCBpbnQgZHJt
X2RwX3NlbmRfcG93ZXJfdXBkb3duX3BoeShzdHJ1Y3QgZHJtX2RwX21zdF90b3BvbG9neV9tZ3Ig
Km1nciwKPiAgCQkJCSBzdHJ1Y3QgZHJtX2RwX21zdF9wb3J0ICpwb3J0LCBib29sIHBvd2VyX3Vw
KQo+ICB7Cj4gIAlzdHJ1Y3QgZHJtX2RwX3NpZGViYW5kX21zZ190eCAqdHhtc2c7Cj4gLQlpbnQg
bGVuLCByZXQ7Cj4gKwlpbnQgcmV0Owo+ICAKPiAgCXBvcnQgPSBkcm1fZHBfbXN0X3RvcG9sb2d5
X2dldF9wb3J0X3ZhbGlkYXRlZChtZ3IsIHBvcnQpOwo+ICAJaWYgKCFwb3J0KQo+IEBAIC0yNjM4
LDcgKzI2MjEsNyBAQCBpbnQgZHJtX2RwX3NlbmRfcG93ZXJfdXBkb3duX3BoeShzdHJ1Y3QgZHJt
X2RwX21zdF90b3BvbG9neV9tZ3IgKm1nciwKPiAgCX0KPiAgCj4gIAl0eG1zZy0+ZHN0ID0gcG9y
dC0+cGFyZW50Owo+IC0JbGVuID0gYnVpbGRfcG93ZXJfdXBkb3duX3BoeSh0eG1zZywgcG9ydC0+
cG9ydF9udW0sIHBvd2VyX3VwKTsKPiArCWJ1aWxkX3Bvd2VyX3VwZG93bl9waHkodHhtc2csIHBv
cnQtPnBvcnRfbnVtLCBwb3dlcl91cCk7Cj4gIAlkcm1fZHBfcXVldWVfZG93bl90eChtZ3IsIHR4
bXNnKTsKPiAgCj4gIAlyZXQgPSBkcm1fZHBfbXN0X3dhaXRfdHhfcmVwbHkocG9ydC0+cGFyZW50
LCB0eG1zZyk7Cj4gQEAgLTI4NTgsNyArMjg0MSw2IEBAIHN0YXRpYyBpbnQgZHJtX2RwX3NlbmRf
ZHBjZF9yZWFkKHN0cnVjdCBkcm1fZHBfbXN0X3RvcG9sb2d5X21nciAqbWdyLAo+ICAJCQkJIHN0
cnVjdCBkcm1fZHBfbXN0X3BvcnQgKnBvcnQsCj4gIAkJCQkgaW50IG9mZnNldCwgaW50IHNpemUs
IHU4ICpieXRlcykKPiAgewo+IC0JaW50IGxlbjsKPiAgCWludCByZXQgPSAwOwo+ICAJc3RydWN0
IGRybV9kcF9zaWRlYmFuZF9tc2dfdHggKnR4bXNnOwo+ICAJc3RydWN0IGRybV9kcF9tc3RfYnJh
bmNoICptc3RiOwo+IEBAIC0yODczLDcgKzI4NTUsNyBAQCBzdGF0aWMgaW50IGRybV9kcF9zZW5k
X2RwY2RfcmVhZChzdHJ1Y3QgZHJtX2RwX21zdF90b3BvbG9neV9tZ3IgKm1nciwKPiAgCQlnb3Rv
IGZhaWxfcHV0Owo+ICAJfQo+ICAKPiAtCWxlbiA9IGJ1aWxkX2RwY2RfcmVhZCh0eG1zZywgcG9y
dC0+cG9ydF9udW0sIG9mZnNldCwgc2l6ZSk7Cj4gKwlidWlsZF9kcGNkX3JlYWQodHhtc2csIHBv
cnQtPnBvcnRfbnVtLCBvZmZzZXQsIHNpemUpOwo+ICAJdHhtc2ctPmRzdCA9IHBvcnQtPnBhcmVu
dDsKPiAgCj4gIAlkcm1fZHBfcXVldWVfZG93bl90eChtZ3IsIHR4bXNnKTsKPiBAQCAtMjkxMSw3
ICsyODkzLDYgQEAgc3RhdGljIGludCBkcm1fZHBfc2VuZF9kcGNkX3dyaXRlKHN0cnVjdCBkcm1f
ZHBfbXN0X3RvcG9sb2d5X21nciAqbWdyLAo+ICAJCQkJICBzdHJ1Y3QgZHJtX2RwX21zdF9wb3J0
ICpwb3J0LAo+ICAJCQkJICBpbnQgb2Zmc2V0LCBpbnQgc2l6ZSwgdTggKmJ5dGVzKQo+ICB7Cj4g
LQlpbnQgbGVuOwo+ICAJaW50IHJldDsKPiAgCXN0cnVjdCBkcm1fZHBfc2lkZWJhbmRfbXNnX3R4
ICp0eG1zZzsKPiAgCXN0cnVjdCBkcm1fZHBfbXN0X2JyYW5jaCAqbXN0YjsKPiBAQCAtMjkyNiw3
ICsyOTA3LDcgQEAgc3RhdGljIGludCBkcm1fZHBfc2VuZF9kcGNkX3dyaXRlKHN0cnVjdCBkcm1f
ZHBfbXN0X3RvcG9sb2d5X21nciAqbWdyLAo+ICAJCWdvdG8gZmFpbF9wdXQ7Cj4gIAl9Cj4gIAo+
IC0JbGVuID0gYnVpbGRfZHBjZF93cml0ZSh0eG1zZywgcG9ydC0+cG9ydF9udW0sIG9mZnNldCwg
c2l6ZSwgYnl0ZXMpOwo+ICsJYnVpbGRfZHBjZF93cml0ZSh0eG1zZywgcG9ydC0+cG9ydF9udW0s
IG9mZnNldCwgc2l6ZSwgYnl0ZXMpOwo+ICAJdHhtc2ctPmRzdCA9IG1zdGI7Cj4gIAo+ICAJZHJt
X2RwX3F1ZXVlX2Rvd25fdHgobWdyLCB0eG1zZyk7Cj4gQEAgLTMxNDksNyArMzEzMCw3IEBAIHN0
YXRpYyBib29sIGRybV9kcF9nZXRfb25lX3NiX21zZyhzdHJ1Y3QgZHJtX2RwX21zdF90b3BvbG9n
eV9tZ3IgKm1nciwgYm9vbCB1cCkKPiAgewo+ICAJaW50IGxlbjsKPiAgCXU4IHJlcGx5YmxvY2tb
MzJdOwo+IC0JaW50IHJlcGx5bGVuLCBvcmlnbGVuLCBjdXJyZXBseTsKPiArCWludCByZXBseWxl
biwgY3VycmVwbHk7Cj4gIAlpbnQgcmV0Owo+ICAJc3RydWN0IGRybV9kcF9zaWRlYmFuZF9tc2df
cnggKm1zZzsKPiAgCWludCBiYXNlcmVnID0gdXAgPyBEUF9TSURFQkFORF9NU0dfVVBfUkVRX0JB
U0UgOiBEUF9TSURFQkFORF9NU0dfRE9XTl9SRVBfQkFTRTsKPiBAQCAtMzE2OSw3ICszMTUwLDYg
QEAgc3RhdGljIGJvb2wgZHJtX2RwX2dldF9vbmVfc2JfbXNnKHN0cnVjdCBkcm1fZHBfbXN0X3Rv
cG9sb2d5X21nciAqbWdyLCBib29sIHVwKQo+ICAJfQo+ICAJcmVwbHlsZW4gPSBtc2ctPmN1cmNo
dW5rX2xlbiArIG1zZy0+Y3VyY2h1bmtfaGRybGVuOwo+ICAKPiAtCW9yaWdsZW4gPSByZXBseWxl
bjsKPiAgCXJlcGx5bGVuIC09IGxlbjsKPiAgCWN1cnJlcGx5ID0gbGVuOwo+ICAJd2hpbGUgKHJl
cGx5bGVuID4gMCkgewo+IEBAIC0zOTYxLDE3ICszOTQxLDE2IEBAIHZvaWQgZHJtX2RwX21zdF9k
dW1wX3RvcG9sb2d5KHN0cnVjdCBzZXFfZmlsZSAqbSwKPiAgCW11dGV4X2xvY2soJm1nci0+bG9j
ayk7Cj4gIAlpZiAobWdyLT5tc3RfcHJpbWFyeSkgewo+ICAJCXU4IGJ1ZltEUF9QQVlMT0FEX1RB
QkxFX1NJWkVdOwo+IC0JCWludCByZXQ7Cj4gIAo+IC0JCXJldCA9IGRybV9kcF9kcGNkX3JlYWQo
bWdyLT5hdXgsIERQX0RQQ0RfUkVWLCBidWYsIERQX1JFQ0VJVkVSX0NBUF9TSVpFKTsKPiArCQlk
cm1fZHBfZHBjZF9yZWFkKG1nci0+YXV4LCBEUF9EUENEX1JFViwgYnVmLCBEUF9SRUNFSVZFUl9D
QVBfU0laRSk7Cj4gIAkJc2VxX3ByaW50ZihtLCAiZHBjZDogJSpwaFxuIiwgRFBfUkVDRUlWRVJf
Q0FQX1NJWkUsIGJ1Zik7Cj4gLQkJcmV0ID0gZHJtX2RwX2RwY2RfcmVhZChtZ3ItPmF1eCwgRFBf
RkFVWF9DQVAsIGJ1ZiwgMik7Cj4gKwkJZHJtX2RwX2RwY2RfcmVhZChtZ3ItPmF1eCwgRFBfRkFV
WF9DQVAsIGJ1ZiwgMik7Cj4gIAkJc2VxX3ByaW50ZihtLCAiZmF1eC9tc3Q6ICUqcGhcbiIsIDIs
IGJ1Zik7Cj4gLQkJcmV0ID0gZHJtX2RwX2RwY2RfcmVhZChtZ3ItPmF1eCwgRFBfTVNUTV9DVFJM
LCBidWYsIDEpOwo+ICsJCWRybV9kcF9kcGNkX3JlYWQobWdyLT5hdXgsIERQX01TVE1fQ1RSTCwg
YnVmLCAxKTsKPiAgCQlzZXFfcHJpbnRmKG0sICJtc3QgY3RybDogJSpwaFxuIiwgMSwgYnVmKTsK
PiAgCj4gIAkJLyogZHVtcCB0aGUgc3RhbmRhcmQgT1VJIGJyYW5jaCBoZWFkZXIgKi8KPiAtCQly
ZXQgPSBkcm1fZHBfZHBjZF9yZWFkKG1nci0+YXV4LCBEUF9CUkFOQ0hfT1VJLCBidWYsIERQX0JS
QU5DSF9PVUlfSEVBREVSX1NJWkUpOwo+ICsJCWRybV9kcF9kcGNkX3JlYWQobWdyLT5hdXgsIERQ
X0JSQU5DSF9PVUksIGJ1ZiwgRFBfQlJBTkNIX09VSV9IRUFERVJfU0laRSk7Cj4gIAkJc2VxX3By
aW50ZihtLCAiYnJhbmNoIG91aTogJSpwaE4gZGV2aWQ6ICIsIDMsIGJ1Zik7Cj4gIAkJZm9yIChp
ID0gMHgzOyBpIDwgMHg4ICYmIGJ1ZltpXTsgaSsrKQo+ICAJCQlzZXFfcHJpbnRmKG0sICIlYyIs
IGJ1ZltpXSk7CgotLSAKSmFuaSBOaWt1bGEsIEludGVsIE9wZW4gU291cmNlIEdyYXBoaWNzIENl
bnRlcgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmkt
ZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6
Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
