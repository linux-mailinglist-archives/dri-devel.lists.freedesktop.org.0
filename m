Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A98A41CE52B
	for <lists+dri-devel@lfdr.de>; Mon, 11 May 2020 22:12:31 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AF8DD6E55C;
	Mon, 11 May 2020 20:12:27 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wr1-x443.google.com (mail-wr1-x443.google.com
 [IPv6:2a00:1450:4864:20::443])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 631326E55C;
 Mon, 11 May 2020 20:12:26 +0000 (UTC)
Received: by mail-wr1-x443.google.com with SMTP id e16so12600876wra.7;
 Mon, 11 May 2020 13:12:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=AarR3VTbSOHZp1PH8Upmv9j5i25souHgi88C0kVRBb4=;
 b=kmr8phjRctRmMKPyfGZ94EnM4/WoAflZ30MRJfyMq3gwMT9p5CUKNHKmDBRwRTFNB+
 D+4L0f6YHtnMYt1y2SDFCxuj1L0Pi0Dv2LHOxT6iLabTGsM88aYQDGGvgt5fhFN9K73C
 9o54cmVbog2DB9kgR8JC1xWTV+MhbVX7qY3aizRNt4ONFlGLYZM4nZxU/u5A0XC/jISQ
 310ndK5tISKroMFS7yJRztphRDEIpOyBe8X+Im8pHiVMZbZbDzXUS8WbpblUNmWdLtMj
 vnjrty6xZe1ovCCTtzHHeckmdHWQ5OpgHNKkM507Wl8GO/mPsxJ8Ncu4p8M8Fl1ExXPQ
 xDlA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=AarR3VTbSOHZp1PH8Upmv9j5i25souHgi88C0kVRBb4=;
 b=YfpurTlrXLVZ18A7qv8liPSoENAP81Qyr+JRLmsuZgv7QNWhcAguJR4i8/8WNxLMTt
 80s8ZZuHtjLypWxHOVIhPKRBZl51FHSpBZs7FDgbjc4Cua+3me8lVXEGT7Efz1DKqSV7
 6/Wk/NpFObFXY0GhW0FXp+xQ7PcxW2VWNR7qlZ+T4DScWaeM9/vrhnXVdXyvMT+KcMrk
 SY4zDtbhM0I7va0oCw1RM3B4i3cuXlV277gyHJUO9XaK6kAZNv1lAquvI+rOjPOHY+IG
 Dk2hgacI47Tr48fnyb1VMLILkTBBYiOSjktU1MAMfdt7cLdbSFwhMff1ISt8g1q1Ipjw
 lggg==
X-Gm-Message-State: AGi0PuZ6gaEUyqhBpAuw5Iq8r6jirP4/YMatxR6MJ6e0gbEz15PFLG5O
 N8xgQoFi///7ROAJr5vdHF1HnESAv0cCqR7cIQ8Heg==
X-Google-Smtp-Source: APiQypJ97ZbWaiGPIe17HrMGFyJp4qUsqIJ+RDJFP4zi4J7UwqIr9wTRmfFWdMeWwuCaqPW/I26Lu7AuzvBWcUwehso=
X-Received: by 2002:adf:9264:: with SMTP id 91mr20662545wrj.362.1589227944577; 
 Mon, 11 May 2020 13:12:24 -0700 (PDT)
MIME-Version: 1.0
References: <20200511171722.96576-1-christian.koenig@amd.com>
 <20200511171722.96576-2-christian.koenig@amd.com>
In-Reply-To: <20200511171722.96576-2-christian.koenig@amd.com>
From: Alex Deucher <alexdeucher@gmail.com>
Date: Mon, 11 May 2020 16:12:13 -0400
Message-ID: <CADnq5_MyO_L+1w69qDLzhg34W6Qer-uSRR2tb7-2uXLC_6PXSg@mail.gmail.com>
Subject: Re: [PATCH 1/3] drm/radeon: remove AGP support
To: =?UTF-8?Q?Christian_K=C3=B6nig?= <ckoenig.leichtzumerken@gmail.com>
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: nouveau <nouveau@lists.freedesktop.org>,
 amd-gfx list <amd-gfx@lists.freedesktop.org>,
 Maling list - DRI developers <dri-devel@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gTW9uLCBNYXkgMTEsIDIwMjAgYXQgMToxNyBQTSBDaHJpc3RpYW4gS8O2bmlnCjxja29lbmln
LmxlaWNodHp1bWVya2VuQGdtYWlsLmNvbT4gd3JvdGU6Cj4KPiBBR1AgaXMgZGVwcmVjYXRlZCBm
b3IgMTArIHllYXJzIG5vdyBhbmQgbm90IHVzZWQgYW55IG1vcmUgb24gbW9kZXJuIGhhcmR3YXJl
Lgo+Cj4gT2xkIGhhcmR3YXJlIHNob3VsZCBjb250aW51ZSB0byB3b3JrIGluIFBDSSBtb2RlLgoK
TWlnaHQgd2FudCB0byBjbGFyaWZ5IHRoYXQgdGhlcmUgaXMgbm8gbG9zcyBvZiBmdW5jdGlvbmFs
aXR5IGhlcmUuClNvbWV0aGluZyBsaWtlOgoKIlRoZXJlIGlzIG5vIGxvc3Mgb2YgZnVuY3Rpb25h
bGl0eSBoZXJlLiAgR1BVcyB3aWxsIGNvbnRpbnVlIHRvCmZ1bmN0aW9uLiAgVGhpcyBqdXN0IGRy
b3BzIHRoZSB1c2Ugb2YgdGhlIEFHUCBNTVUgaW4gdGhlIGNoaXBzZXQgaW4KZmF2b3Igb2YgdGhl
IE1NVSBvbiB0aGUgZGV2aWNlIHdoaWNoIGhhcyBwcm92ZW4gdG8gYmUgbXVjaCBtb3JlCnJlbGlh
YmxlLiAgRHVlIHRvIGl0cyB1bnJlbGlhYmlsaXR5LCBBR1Agc3VwcG9ydCBoYXMgYmVlbiBkaXNh
YmxlZCBvbgpQb3dlclBDIGZvciB5ZWFycyBhbHJlYWR5IHNvIHRoZXJlIGlzIG5vIGNoYW5nZSBv
biBQb3dlclBDLiIKCldpdGggdGhhdCB1cGRhdGVkLCBwYXRjaGVzIDEsIDM6ClJldmlld2VkLWJ5
OiBBbGV4IERldWNoZXIgPGFsZXhhbmRlci5kZXVjaGVyQGFtZC5jb20+CnBhdGNoIDI6CkFja2Vk
LWJ5OiBBbGV4IERldWNoZXIgPGFsZXhhbmRlci5kZXVjaGVyQGFtZC5jb20+Cgo+Cj4gU2lnbmVk
LW9mZi1ieTogQ2hyaXN0aWFuIEvDtm5pZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPgo+IC0t
LQo+ICBkcml2ZXJzL2dwdS9kcm0vcmFkZW9uL01ha2VmaWxlICAgICAgICB8ICAgNCArLQo+ICBk
cml2ZXJzL2dwdS9kcm0vcmFkZW9uL2V2ZXJncmVlbi5jICAgICB8ICAgNyAtCj4gIGRyaXZlcnMv
Z3B1L2RybS9yYWRlb24vcjEwMC5jICAgICAgICAgIHwgIDEwICstCj4gIGRyaXZlcnMvZ3B1L2Ry
bS9yYWRlb24vcjMwMC5jICAgICAgICAgIHwgICA5IC0KPiAgZHJpdmVycy9ncHUvZHJtL3JhZGVv
bi9yNDIwLmMgICAgICAgICAgfCAgIDkgLQo+ICBkcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3I1MjAu
YyAgICAgICAgICB8ICAgOCAtCj4gIGRyaXZlcnMvZ3B1L2RybS9yYWRlb24vcjYwMC5jICAgICAg
ICAgIHwgICA2IC0KPiAgZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb24uaCAgICAgICAgfCAg
MTEgLQo+ICBkcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl9hZ3AuYyAgICB8IDI5MCAtLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFkZW9uX2Rl
dmljZS5jIHwgIDIzICstCj4gIGRyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFkZW9uX2Rydi5jICAg
IHwgICA5IC0KPiAgZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fdHRtLmMgICAgfCAgMzkg
LS0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3J2NTE1LmMgICAgICAgICB8ICAgOSAtCj4g
IGRyaXZlcnMvZ3B1L2RybS9yYWRlb24vcnY3NzAuYyAgICAgICAgIHwgICA3IC0KPiAgMTQgZmls
ZXMgY2hhbmdlZCwgNCBpbnNlcnRpb25zKCspLCA0MzcgZGVsZXRpb25zKC0pCj4gIGRlbGV0ZSBt
b2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl9hZ3AuYwo+Cj4gZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vTWFrZWZpbGUgYi9kcml2ZXJzL2dwdS9kcm0v
cmFkZW9uL01ha2VmaWxlCj4gaW5kZXggYzY5M2IyY2EwMzI5Li43NzQyOWNmZDMwM2UgMTAwNjQ0
Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9NYWtlZmlsZQo+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9yYWRlb24vTWFrZWZpbGUKPiBAQCAtNjEsOCArNjEsOCBAQCByYWRlb24teSA6PSBy
YWRlb25fZHJ2Lm8KPgo+ICAjIGFkZCBLTVMgZHJpdmVyCj4gIHJhZGVvbi15ICs9IHJhZGVvbl9k
ZXZpY2UubyByYWRlb25fYXNpYy5vIHJhZGVvbl9rbXMubyBcCj4gLSAgICAgICByYWRlb25fYXRv
bWJpb3MubyByYWRlb25fYWdwLm8gYXRvbWJpb3NfY3J0Yy5vIHJhZGVvbl9jb21iaW9zLm8gXAo+
IC0gICAgICAgYXRvbS5vIHJhZGVvbl9mZW5jZS5vIHJhZGVvbl90dG0ubyByYWRlb25fb2JqZWN0
Lm8gcmFkZW9uX2dhcnQubyBcCj4gKyAgICAgICByYWRlb25fYXRvbWJpb3MubyBhdG9tYmlvc19j
cnRjLm8gcmFkZW9uX2NvbWJpb3MubyBhdG9tLm8gXAo+ICsgICAgICAgcmFkZW9uX2ZlbmNlLm8g
cmFkZW9uX3R0bS5vIHJhZGVvbl9vYmplY3QubyByYWRlb25fZ2FydC5vIFwKPiAgICAgICAgIHJh
ZGVvbl9sZWdhY3lfY3J0Yy5vIHJhZGVvbl9sZWdhY3lfZW5jb2RlcnMubyByYWRlb25fY29ubmVj
dG9ycy5vIFwKPiAgICAgICAgIHJhZGVvbl9lbmNvZGVycy5vIHJhZGVvbl9kaXNwbGF5Lm8gcmFk
ZW9uX2N1cnNvci5vIHJhZGVvbl9pMmMubyBcCj4gICAgICAgICByYWRlb25fY2xvY2tzLm8gcmFk
ZW9uX2ZiLm8gcmFkZW9uX2dlbS5vIHJhZGVvbl9yaW5nLm8gcmFkZW9uX2lycV9rbXMubyBcCj4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vZXZlcmdyZWVuLmMgYi9kcml2ZXJz
L2dwdS9kcm0vcmFkZW9uL2V2ZXJncmVlbi5jCj4gaW5kZXggMTRkOTBkYzM3NmU3Li42NmIzZDlh
MmM2ZGQgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9ldmVyZ3JlZW4uYwo+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vZXZlcmdyZWVuLmMKPiBAQCAtNTIxNiwxMiAr
NTIxNiw2IEBAIGludCBldmVyZ3JlZW5faW5pdChzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldikK
PiAgICAgICAgIHIgPSByYWRlb25fZmVuY2VfZHJpdmVyX2luaXQocmRldik7Cj4gICAgICAgICBp
ZiAocikKPiAgICAgICAgICAgICAgICAgcmV0dXJuIHI7Cj4gLSAgICAgICAvKiBpbml0aWFsaXpl
IEFHUCAqLwo+IC0gICAgICAgaWYgKHJkZXYtPmZsYWdzICYgUkFERU9OX0lTX0FHUCkgewo+IC0g
ICAgICAgICAgICAgICByID0gcmFkZW9uX2FncF9pbml0KHJkZXYpOwo+IC0gICAgICAgICAgICAg
ICBpZiAocikKPiAtICAgICAgICAgICAgICAgICAgICAgICByYWRlb25fYWdwX2Rpc2FibGUocmRl
dik7Cj4gLSAgICAgICB9Cj4gICAgICAgICAvKiBpbml0aWFsaXplIG1lbW9yeSBjb250cm9sbGVy
ICovCj4gICAgICAgICByID0gZXZlcmdyZWVuX21jX2luaXQocmRldik7Cj4gICAgICAgICBpZiAo
cikKPiBAQCAtNTMxNSw3ICs1MzA5LDYgQEAgdm9pZCBldmVyZ3JlZW5fZmluaShzdHJ1Y3QgcmFk
ZW9uX2RldmljZSAqcmRldikKPiAgICAgICAgIHI2MDBfdnJhbV9zY3JhdGNoX2ZpbmkocmRldik7
Cj4gICAgICAgICByYWRlb25fZ2VtX2ZpbmkocmRldik7Cj4gICAgICAgICByYWRlb25fZmVuY2Vf
ZHJpdmVyX2ZpbmkocmRldik7Cj4gLSAgICAgICByYWRlb25fYWdwX2ZpbmkocmRldik7Cj4gICAg
ICAgICByYWRlb25fYm9fZmluaShyZGV2KTsKPiAgICAgICAgIHJhZGVvbl9hdG9tYmlvc19maW5p
KHJkZXYpOwo+ICAgICAgICAga2ZyZWUocmRldi0+Ymlvcyk7Cj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9yYWRlb24vcjEwMC5jIGIvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yMTAwLmMK
PiBpbmRleCAyNGM4ZGI2NzM5MzEuLjMyMGIxYjQwYTMwYSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vcmFkZW9uL3IxMDAuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcjEw
MC5jCj4gQEAgLTMzODIsNyArMzM4Miw3IEBAIHZvaWQgcjEwMF9iYW5kd2lkdGhfdXBkYXRlKHN0
cnVjdCByYWRlb25fZGV2aWNlICpyZGV2KQo+Cj4gICAgICAgICBpZiAocmRldi0+ZmxhZ3MgJiBS
QURFT05fSVNfQUdQKSB7Cj4gICAgICAgICAgICAgICAgIGZpeGVkMjBfMTIgYWdwbW9kZV9mZjsK
PiAtICAgICAgICAgICAgICAgYWdwbW9kZV9mZi5mdWxsID0gZGZpeGVkX2NvbnN0KHJhZGVvbl9h
Z3Btb2RlKTsKPiArICAgICAgICAgICAgICAgYWdwbW9kZV9mZi5mdWxsID0gZGZpeGVkX2NvbnN0
KDApOwo+ICAgICAgICAgICAgICAgICB0ZW1wX2ZmLmZ1bGwgPSBkZml4ZWRfY29uc3RfNjY2KDE2
KTsKPiAgICAgICAgICAgICAgICAgc2Nsa19lZmZfZmYuZnVsbCAtPSBkZml4ZWRfbXVsKGFncG1v
ZGVfZmYsIHRlbXBfZmYpOwo+ICAgICAgICAgfQo+IEBAIC0zOTkyLDcgKzM5OTIsNiBAQCB2b2lk
IHIxMDBfZmluaShzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldikKPiAgICAgICAgIHJhZGVvbl9n
ZW1fZmluaShyZGV2KTsKPiAgICAgICAgIGlmIChyZGV2LT5mbGFncyAmIFJBREVPTl9JU19QQ0kp
Cj4gICAgICAgICAgICAgICAgIHIxMDBfcGNpX2dhcnRfZmluaShyZGV2KTsKPiAtICAgICAgIHJh
ZGVvbl9hZ3BfZmluaShyZGV2KTsKPiAgICAgICAgIHJhZGVvbl9pcnFfa21zX2ZpbmkocmRldik7
Cj4gICAgICAgICByYWRlb25fZmVuY2VfZHJpdmVyX2ZpbmkocmRldik7Cj4gICAgICAgICByYWRl
b25fYm9fZmluaShyZGV2KTsKPiBAQCAtNDA2OCwxMyArNDA2Nyw2IEBAIGludCByMTAwX2luaXQo
c3RydWN0IHJhZGVvbl9kZXZpY2UgKnJkZXYpCj4gICAgICAgICByMTAwX2VycmF0YShyZGV2KTsK
PiAgICAgICAgIC8qIEluaXRpYWxpemUgY2xvY2tzICovCj4gICAgICAgICByYWRlb25fZ2V0X2Ns
b2NrX2luZm8ocmRldi0+ZGRldik7Cj4gLSAgICAgICAvKiBpbml0aWFsaXplIEFHUCAqLwo+IC0g
ICAgICAgaWYgKHJkZXYtPmZsYWdzICYgUkFERU9OX0lTX0FHUCkgewo+IC0gICAgICAgICAgICAg
ICByID0gcmFkZW9uX2FncF9pbml0KHJkZXYpOwo+IC0gICAgICAgICAgICAgICBpZiAocikgewo+
IC0gICAgICAgICAgICAgICAgICAgICAgIHJhZGVvbl9hZ3BfZGlzYWJsZShyZGV2KTsKPiAtICAg
ICAgICAgICAgICAgfQo+IC0gICAgICAgfQo+ICAgICAgICAgLyogaW5pdGlhbGl6ZSBWUkFNICov
Cj4gICAgICAgICByMTAwX21jX2luaXQocmRldik7Cj4gICAgICAgICAvKiBGZW5jZSBkcml2ZXIg
Ki8KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yMzAwLmMgYi9kcml2ZXJz
L2dwdS9kcm0vcmFkZW9uL3IzMDAuYwo+IGluZGV4IDNiN2VhZDViZTViZi4uYWZkNjg4NjI5Y2Y5
IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcjMwMC5jCj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL3JhZGVvbi9yMzAwLmMKPiBAQCAtMTQ5OCw3ICsxNDk4LDYgQEAgdm9pZCBy
MzAwX2Zpbmkoc3RydWN0IHJhZGVvbl9kZXZpY2UgKnJkZXYpCj4gICAgICAgICAgICAgICAgIHJ2
MzcwX3BjaWVfZ2FydF9maW5pKHJkZXYpOwo+ICAgICAgICAgaWYgKHJkZXYtPmZsYWdzICYgUkFE
RU9OX0lTX1BDSSkKPiAgICAgICAgICAgICAgICAgcjEwMF9wY2lfZ2FydF9maW5pKHJkZXYpOwo+
IC0gICAgICAgcmFkZW9uX2FncF9maW5pKHJkZXYpOwo+ICAgICAgICAgcmFkZW9uX2lycV9rbXNf
ZmluaShyZGV2KTsKPiAgICAgICAgIHJhZGVvbl9mZW5jZV9kcml2ZXJfZmluaShyZGV2KTsKPiAg
ICAgICAgIHJhZGVvbl9ib19maW5pKHJkZXYpOwo+IEBAIC0xNTQ3LDEzICsxNTQ2LDYgQEAgaW50
IHIzMDBfaW5pdChzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldikKPiAgICAgICAgIHIzMDBfZXJy
YXRhKHJkZXYpOwo+ICAgICAgICAgLyogSW5pdGlhbGl6ZSBjbG9ja3MgKi8KPiAgICAgICAgIHJh
ZGVvbl9nZXRfY2xvY2tfaW5mbyhyZGV2LT5kZGV2KTsKPiAtICAgICAgIC8qIGluaXRpYWxpemUg
QUdQICovCj4gLSAgICAgICBpZiAocmRldi0+ZmxhZ3MgJiBSQURFT05fSVNfQUdQKSB7Cj4gLSAg
ICAgICAgICAgICAgIHIgPSByYWRlb25fYWdwX2luaXQocmRldik7Cj4gLSAgICAgICAgICAgICAg
IGlmIChyKSB7Cj4gLSAgICAgICAgICAgICAgICAgICAgICAgcmFkZW9uX2FncF9kaXNhYmxlKHJk
ZXYpOwo+IC0gICAgICAgICAgICAgICB9Cj4gLSAgICAgICB9Cj4gICAgICAgICAvKiBpbml0aWFs
aXplIG1lbW9yeSBjb250cm9sbGVyICovCj4gICAgICAgICByMzAwX21jX2luaXQocmRldik7Cj4g
ICAgICAgICAvKiBGZW5jZSBkcml2ZXIgKi8KPiBAQCAtMTU5Miw3ICsxNTg0LDYgQEAgaW50IHIz
MDBfaW5pdChzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldikKPiAgICAgICAgICAgICAgICAgICAg
ICAgICBydjM3MF9wY2llX2dhcnRfZmluaShyZGV2KTsKPiAgICAgICAgICAgICAgICAgaWYgKHJk
ZXYtPmZsYWdzICYgUkFERU9OX0lTX1BDSSkKPiAgICAgICAgICAgICAgICAgICAgICAgICByMTAw
X3BjaV9nYXJ0X2ZpbmkocmRldik7Cj4gLSAgICAgICAgICAgICAgIHJhZGVvbl9hZ3BfZmluaShy
ZGV2KTsKPiAgICAgICAgICAgICAgICAgcmRldi0+YWNjZWxfd29ya2luZyA9IGZhbHNlOwo+ICAg
ICAgICAgfQo+ICAgICAgICAgcmV0dXJuIDA7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9yYWRlb24vcjQyMC5jIGIvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yNDIwLmMKPiBpbmRleCAx
ZDRjMDRlMGE0NDkuLjNjYjMzN2RhY2Q1NiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
cmFkZW9uL3I0MjAuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcjQyMC5jCj4gQEAg
LTM2Niw3ICszNjYsNiBAQCB2b2lkIHI0MjBfZmluaShzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRl
dikKPiAgICAgICAgICAgICAgICAgcnYzNzBfcGNpZV9nYXJ0X2ZpbmkocmRldik7Cj4gICAgICAg
ICBpZiAocmRldi0+ZmxhZ3MgJiBSQURFT05fSVNfUENJKQo+ICAgICAgICAgICAgICAgICByMTAw
X3BjaV9nYXJ0X2ZpbmkocmRldik7Cj4gLSAgICAgICByYWRlb25fYWdwX2ZpbmkocmRldik7Cj4g
ICAgICAgICByYWRlb25faXJxX2ttc19maW5pKHJkZXYpOwo+ICAgICAgICAgcmFkZW9uX2ZlbmNl
X2RyaXZlcl9maW5pKHJkZXYpOwo+ICAgICAgICAgcmFkZW9uX2JvX2ZpbmkocmRldik7Cj4gQEAg
LTQxOSwxMyArNDE4LDYgQEAgaW50IHI0MjBfaW5pdChzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRl
dikKPgo+ICAgICAgICAgLyogSW5pdGlhbGl6ZSBjbG9ja3MgKi8KPiAgICAgICAgIHJhZGVvbl9n
ZXRfY2xvY2tfaW5mbyhyZGV2LT5kZGV2KTsKPiAtICAgICAgIC8qIGluaXRpYWxpemUgQUdQICov
Cj4gLSAgICAgICBpZiAocmRldi0+ZmxhZ3MgJiBSQURFT05fSVNfQUdQKSB7Cj4gLSAgICAgICAg
ICAgICAgIHIgPSByYWRlb25fYWdwX2luaXQocmRldik7Cj4gLSAgICAgICAgICAgICAgIGlmIChy
KSB7Cj4gLSAgICAgICAgICAgICAgICAgICAgICAgcmFkZW9uX2FncF9kaXNhYmxlKHJkZXYpOwo+
IC0gICAgICAgICAgICAgICB9Cj4gLSAgICAgICB9Cj4gICAgICAgICAvKiBpbml0aWFsaXplIG1l
bW9yeSBjb250cm9sbGVyICovCj4gICAgICAgICByMzAwX21jX2luaXQocmRldik7Cj4gICAgICAg
ICByNDIwX2RlYnVnZnMocmRldik7Cj4gQEAgLTQ3MCw3ICs0NjIsNiBAQCBpbnQgcjQyMF9pbml0
KHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2KQo+ICAgICAgICAgICAgICAgICAgICAgICAgIHJ2
MzcwX3BjaWVfZ2FydF9maW5pKHJkZXYpOwo+ICAgICAgICAgICAgICAgICBpZiAocmRldi0+Zmxh
Z3MgJiBSQURFT05fSVNfUENJKQo+ICAgICAgICAgICAgICAgICAgICAgICAgIHIxMDBfcGNpX2dh
cnRfZmluaShyZGV2KTsKPiAtICAgICAgICAgICAgICAgcmFkZW9uX2FncF9maW5pKHJkZXYpOwo+
ICAgICAgICAgICAgICAgICByZGV2LT5hY2NlbF93b3JraW5nID0gZmFsc2U7Cj4gICAgICAgICB9
Cj4gICAgICAgICByZXR1cm4gMDsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3JhZGVv
bi9yNTIwLmMgYi9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3I1MjAuYwo+IGluZGV4IGZjNzhlNjRh
ZTcyNy4uNzZhYzg3ZDcyNDA2IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24v
cjUyMC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yNTIwLmMKPiBAQCAtMjg4LDEz
ICsyODgsNiBAQCBpbnQgcjUyMF9pbml0KHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2KQo+ICAg
ICAgICAgfQo+ICAgICAgICAgLyogSW5pdGlhbGl6ZSBjbG9ja3MgKi8KPiAgICAgICAgIHJhZGVv
bl9nZXRfY2xvY2tfaW5mbyhyZGV2LT5kZGV2KTsKPiAtICAgICAgIC8qIGluaXRpYWxpemUgQUdQ
ICovCj4gLSAgICAgICBpZiAocmRldi0+ZmxhZ3MgJiBSQURFT05fSVNfQUdQKSB7Cj4gLSAgICAg
ICAgICAgICAgIHIgPSByYWRlb25fYWdwX2luaXQocmRldik7Cj4gLSAgICAgICAgICAgICAgIGlm
IChyKSB7Cj4gLSAgICAgICAgICAgICAgICAgICAgICAgcmFkZW9uX2FncF9kaXNhYmxlKHJkZXYp
Owo+IC0gICAgICAgICAgICAgICB9Cj4gLSAgICAgICB9Cj4gICAgICAgICAvKiBpbml0aWFsaXpl
IG1lbW9yeSBjb250cm9sbGVyICovCj4gICAgICAgICByNTIwX21jX2luaXQocmRldik7Cj4gICAg
ICAgICBydjUxNV9kZWJ1Z2ZzKHJkZXYpOwo+IEBAIC0zMjQsNyArMzE3LDYgQEAgaW50IHI1MjBf
aW5pdChzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldikKPiAgICAgICAgICAgICAgICAgcmFkZW9u
X2liX3Bvb2xfZmluaShyZGV2KTsKPiAgICAgICAgICAgICAgICAgcmFkZW9uX2lycV9rbXNfZmlu
aShyZGV2KTsKPiAgICAgICAgICAgICAgICAgcnYzNzBfcGNpZV9nYXJ0X2ZpbmkocmRldik7Cj4g
LSAgICAgICAgICAgICAgIHJhZGVvbl9hZ3BfZmluaShyZGV2KTsKPiAgICAgICAgICAgICAgICAg
cmRldi0+YWNjZWxfd29ya2luZyA9IGZhbHNlOwo+ICAgICAgICAgfQo+ICAgICAgICAgcmV0dXJu
IDA7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcjYwMC5jIGIvZHJpdmVy
cy9ncHUvZHJtL3JhZGVvbi9yNjAwLmMKPiBpbmRleCBkOWEzM2NhNzY4ZjMuLjRhNWFjMTU4OTNj
MiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3I2MDAuYwo+ICsrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9yYWRlb24vcjYwMC5jCj4gQEAgLTMyODYsMTEgKzMyODYsNiBAQCBpbnQg
cjYwMF9pbml0KHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2KQo+ICAgICAgICAgciA9IHJhZGVv
bl9mZW5jZV9kcml2ZXJfaW5pdChyZGV2KTsKPiAgICAgICAgIGlmIChyKQo+ICAgICAgICAgICAg
ICAgICByZXR1cm4gcjsKPiAtICAgICAgIGlmIChyZGV2LT5mbGFncyAmIFJBREVPTl9JU19BR1Ap
IHsKPiAtICAgICAgICAgICAgICAgciA9IHJhZGVvbl9hZ3BfaW5pdChyZGV2KTsKPiAtICAgICAg
ICAgICAgICAgaWYgKHIpCj4gLSAgICAgICAgICAgICAgICAgICAgICAgcmFkZW9uX2FncF9kaXNh
YmxlKHJkZXYpOwo+IC0gICAgICAgfQo+ICAgICAgICAgciA9IHI2MDBfbWNfaW5pdChyZGV2KTsK
PiAgICAgICAgIGlmIChyKQo+ICAgICAgICAgICAgICAgICByZXR1cm4gcjsKPiBAQCAtMzM1Myw3
ICszMzQ4LDYgQEAgdm9pZCByNjAwX2Zpbmkoc3RydWN0IHJhZGVvbl9kZXZpY2UgKnJkZXYpCj4g
ICAgICAgICByYWRlb25faXJxX2ttc19maW5pKHJkZXYpOwo+ICAgICAgICAgcjYwMF9wY2llX2dh
cnRfZmluaShyZGV2KTsKPiAgICAgICAgIHI2MDBfdnJhbV9zY3JhdGNoX2ZpbmkocmRldik7Cj4g
LSAgICAgICByYWRlb25fYWdwX2ZpbmkocmRldik7Cj4gICAgICAgICByYWRlb25fZ2VtX2Zpbmko
cmRldik7Cj4gICAgICAgICByYWRlb25fZmVuY2VfZHJpdmVyX2ZpbmkocmRldik7Cj4gICAgICAg
ICByYWRlb25fYm9fZmluaShyZGV2KTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3Jh
ZGVvbi9yYWRlb24uaCBiL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFkZW9uLmgKPiBpbmRleCAz
MGUzMmFkYzFmYzYuLjM3N2UxNDAzYjEzNCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
cmFkZW9uL3JhZGVvbi5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb24uaAo+
IEBAIC05MSw3ICs5MSw2IEBAIGV4dGVybiBpbnQgcmFkZW9uX25vX3diOwo+ICBleHRlcm4gaW50
IHJhZGVvbl9tb2Rlc2V0Owo+ICBleHRlcm4gaW50IHJhZGVvbl9keW5jbGtzOwo+ICBleHRlcm4g
aW50IHJhZGVvbl9yNHh4X2F0b207Cj4gLWV4dGVybiBpbnQgcmFkZW9uX2FncG1vZGU7Cj4gIGV4
dGVybiBpbnQgcmFkZW9uX3ZyYW1fbGltaXQ7Cj4gIGV4dGVybiBpbnQgcmFkZW9uX2dhcnRfc2l6
ZTsKPiAgZXh0ZXJuIGludCByYWRlb25fYmVuY2htYXJraW5nOwo+IEBAIC0xMTE2LDE2ICsxMTE1
LDYgQEAgdHlwZWRlZiBpbnQgKCpyYWRlb25fcGFja2V0MF9jaGVja190KShzdHJ1Y3QgcmFkZW9u
X2NzX3BhcnNlciAqcCwKPiAgdHlwZWRlZiBpbnQgKCpyYWRlb25fcGFja2V0M19jaGVja190KShz
dHJ1Y3QgcmFkZW9uX2NzX3BhcnNlciAqcCwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHN0cnVjdCByYWRlb25fY3NfcGFja2V0ICpwa3QpOwo+Cj4gLQo+IC0vKgo+IC0g
KiBBR1AKPiAtICovCj4gLWludCByYWRlb25fYWdwX2luaXQoc3RydWN0IHJhZGVvbl9kZXZpY2Ug
KnJkZXYpOwo+IC12b2lkIHJhZGVvbl9hZ3BfcmVzdW1lKHN0cnVjdCByYWRlb25fZGV2aWNlICpy
ZGV2KTsKPiAtdm9pZCByYWRlb25fYWdwX3N1c3BlbmQoc3RydWN0IHJhZGVvbl9kZXZpY2UgKnJk
ZXYpOwo+IC12b2lkIHJhZGVvbl9hZ3BfZmluaShzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldik7
Cj4gLQo+IC0KPiAgLyoKPiAgICogV3JpdGViYWNrCj4gICAqLwo+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl9hZ3AuYyBiL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24v
cmFkZW9uX2FncC5jCj4gZGVsZXRlZCBmaWxlIG1vZGUgMTAwNjQ0Cj4gaW5kZXggMGFjYTdiZGY1
NGM3Li4wMDAwMDAwMDAwMDAKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl9h
Z3AuYwo+ICsrKyAvZGV2L251bGwKPiBAQCAtMSwyOTAgKzAsMCBAQAo+IC0vKgo+IC0gKiBDb3B5
cmlnaHQgMjAwOCBSZWQgSGF0IEluYy4KPiAtICogQ29weXJpZ2h0IDIwMDkgSmVyb21lIEdsaXNz
ZS4KPiAtICoKPiAtICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFy
Z2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEKPiAtICogY29weSBvZiB0aGlzIHNvZnR3YXJl
IGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwKPiAt
ICogdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5n
IHdpdGhvdXQgbGltaXRhdGlvbgo+IC0gKiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5
LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwKPiAtICogYW5kL29yIHNl
bGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20g
dGhlCj4gLSAqIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUg
Zm9sbG93aW5nIGNvbmRpdGlvbnM6Cj4gLSAqCj4gLSAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90
aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluCj4gLSAq
IGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgo+IC0g
Kgo+IC0gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5U
WSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUgo+IC0gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5P
VCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwKPiAtICogRklU
TkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gIElOIE5P
IEVWRU5UIFNIQUxMCj4gLSAqIFRIRSBDT1BZUklHSFQgSE9MREVSKFMpIE9SIEFVVEhPUihTKSBC
RSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUgo+IC0gKiBPVEhFUiBMSUFCSUxJVFks
IFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwKPiAt
ICogQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FS
RSBPUiBUSEUgVVNFIE9SCj4gLSAqIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS4KPiAt
ICoKPiAtICogQXV0aG9yczoKPiAtICogICAgRGF2ZSBBaXJsaWUKPiAtICogICAgSmVyb21lIEds
aXNzZSA8Z2xpc3NlQGZyZWVkZXNrdG9wLm9yZz4KPiAtICovCj4gLQo+IC0jaW5jbHVkZSA8bGlu
dXgvcGNpLmg+Cj4gLQo+IC0jaW5jbHVkZSA8ZHJtL2RybV9hZ3BzdXBwb3J0Lmg+Cj4gLSNpbmNs
dWRlIDxkcm0vZHJtX2RldmljZS5oPgo+IC0jaW5jbHVkZSA8ZHJtL3JhZGVvbl9kcm0uaD4KPiAt
Cj4gLSNpbmNsdWRlICJyYWRlb24uaCIKPiAtCj4gLSNpZiBJU19FTkFCTEVEKENPTkZJR19BR1Ap
Cj4gLQo+IC1zdHJ1Y3QgcmFkZW9uX2FncG1vZGVfcXVpcmsgewo+IC0gICAgICAgdTMyIGhvc3Ri
cmlkZ2VfdmVuZG9yOwo+IC0gICAgICAgdTMyIGhvc3RicmlkZ2VfZGV2aWNlOwo+IC0gICAgICAg
dTMyIGNoaXBfdmVuZG9yOwo+IC0gICAgICAgdTMyIGNoaXBfZGV2aWNlOwo+IC0gICAgICAgdTMy
IHN1YnN5c192ZW5kb3I7Cj4gLSAgICAgICB1MzIgc3Vic3lzX2RldmljZTsKPiAtICAgICAgIHUz
MiBkZWZhdWx0X21vZGU7Cj4gLX07Cj4gLQo+IC1zdGF0aWMgc3RydWN0IHJhZGVvbl9hZ3Btb2Rl
X3F1aXJrIHJhZGVvbl9hZ3Btb2RlX3F1aXJrX2xpc3RbXSA9IHsKPiAtICAgICAgIC8qIEludGVs
IEU3NTA1IE1lbW9yeSBDb250cm9sbGVyIEh1YiAvIFJWMzUwIEFSIFtSYWRlb24gOTYwMFhUXSBO
ZWVkcyBBR1BNb2RlIDQgKGRlYiAjNTE1MzI2KSAqLwo+IC0gICAgICAgeyBQQ0lfVkVORE9SX0lE
X0lOVEVMLCAweDI1NTAsIFBDSV9WRU5ET1JfSURfQVRJLCAweDQxNTIsIDB4MTQ1OCwgMHg0MDM4
LCA0fSwKPiAtICAgICAgIC8qIEludGVsIDgyODY1Ry9QRS9QIERSQU0gQ29udHJvbGxlci9Ib3N0
LUh1YiAvIE1vYmlsaXR5IDk4MDAgTmVlZHMgQUdQTW9kZSA0IChkZWIgIzQ2MjU5MCkgKi8KPiAt
ICAgICAgIHsgUENJX1ZFTkRPUl9JRF9JTlRFTCwgMHgyNTcwLCBQQ0lfVkVORE9SX0lEX0FUSSwg
MHg0YTRlLCBQQ0lfVkVORE9SX0lEX0RFTEwsIDB4NTEwNiwgNH0sCj4gLSAgICAgICAvKiBJbnRl
bCA4Mjg2NUcvUEUvUCBEUkFNIENvbnRyb2xsZXIvSG9zdC1IdWIgLyBSVjI4MCBbUmFkZW9uIDky
MDAgU0VdIE5lZWRzIEFHUE1vZGUgNCAobHAgIzMwMDMwNCkgKi8KPiAtICAgICAgIHsgUENJX1ZF
TkRPUl9JRF9JTlRFTCwgMHgyNTcwLCBQQ0lfVkVORE9SX0lEX0FUSSwgMHg1OTY0LAo+IC0gICAg
ICAgICAgICAgICAweDE0OGMsIDB4MjA3MywgNH0sCj4gLSAgICAgICAvKiBJbnRlbCA4Mjg1NVBN
IFByb2Nlc3NvciB0byBJL08gQ29udHJvbGxlciAvIE1vYmlsaXR5IE02IExZIE5lZWRzIEFHUE1v
ZGUgMSAoZGViICM0NjcyMzUpICovCj4gLSAgICAgICB7IFBDSV9WRU5ET1JfSURfSU5URUwsIDB4
MzM0MCwgUENJX1ZFTkRPUl9JRF9BVEksIDB4NGM1OSwKPiAtICAgICAgICAgICAgICAgUENJX1ZF
TkRPUl9JRF9JQk0sIDB4MDUyZiwgMX0sCj4gLSAgICAgICAvKiBJbnRlbCA4Mjg1NVBNIGhvc3Qg
YnJpZGdlIC8gTW9iaWxpdHkgOTYwMCBNMTAgUlYzNTAgTmVlZHMgQUdQTW9kZSAxIChscCAjMTk1
MDUxKSAqLwo+IC0gICAgICAgeyBQQ0lfVkVORE9SX0lEX0lOVEVMLCAweDMzNDAsIFBDSV9WRU5E
T1JfSURfQVRJLCAweDRlNTAsCj4gLSAgICAgICAgICAgICAgIFBDSV9WRU5ET1JfSURfSUJNLCAw
eDA1NTAsIDF9LAo+IC0gICAgICAgLyogSW50ZWwgODI4NTVQTSBob3N0IGJyaWRnZSAvIFJWMjUw
L005IEdMIFtNb2JpbGl0eSBGaXJlR0wgOTAwMC9SYWRlb24gOTAwMF0gbmVlZHMgQUdQTW9kZSAx
IChUaGlua3BhZCBUNDBwKSAqLwo+IC0gICAgICAgeyBQQ0lfVkVORE9SX0lEX0lOVEVMLCAweDMz
NDAsIFBDSV9WRU5ET1JfSURfQVRJLCAweDRjNjYsCj4gLSAgICAgICAgICAgICAgIFBDSV9WRU5E
T1JfSURfSUJNLCAweDA1NGQsIDF9LAo+IC0gICAgICAgLyogSW50ZWwgODI4NTVQTSBob3N0IGJy
aWRnZSAvIE1vYmlsaXR5IE03IG5lZWRzIEFHUE1vZGUgMSAqLwo+IC0gICAgICAgeyBQQ0lfVkVO
RE9SX0lEX0lOVEVMLCAweDMzNDAsIFBDSV9WRU5ET1JfSURfQVRJLCAweDRjNTcsCj4gLSAgICAg
ICAgICAgICAgIFBDSV9WRU5ET1JfSURfSUJNLCAweDA1MzAsIDF9LAo+IC0gICAgICAgLyogSW50
ZWwgODI4NTVQTSBob3N0IGJyaWRnZSAvIEZpcmVHTCBNb2JpbGl0eSBUMiBSVjM1MCBOZWVkcyBB
R1BNb2RlIDIgKGZkbyAjMjA2NDcpICovCj4gLSAgICAgICB7IFBDSV9WRU5ET1JfSURfSU5URUws
IDB4MzM0MCwgUENJX1ZFTkRPUl9JRF9BVEksIDB4NGU1NCwKPiAtICAgICAgICAgICAgICAgUENJ
X1ZFTkRPUl9JRF9JQk0sIDB4MDU0ZiwgMn0sCj4gLSAgICAgICAvKiBJbnRlbCA4Mjg1NVBNIGhv
c3QgYnJpZGdlIC8gTW9iaWxpdHkgTTkrIC8gVmFpb1BDRy1WNTA1RFggTmVlZHMgQUdQTW9kZSAy
IChmZG8gIzE3OTI4KSAqLwo+IC0gICAgICAgeyBQQ0lfVkVORE9SX0lEX0lOVEVMLCAweDMzNDAs
IFBDSV9WRU5ET1JfSURfQVRJLCAweDVjNjEsCj4gLSAgICAgICAgICAgICAgIFBDSV9WRU5ET1Jf
SURfU09OWSwgMHg4MTZiLCAyfSwKPiAtICAgICAgIC8qIEludGVsIDgyODU1UE0gUHJvY2Vzc29y
IHRvIEkvTyBDb250cm9sbGVyIC8gTW9iaWxpdHkgTTkrIE5lZWRzIEFHUE1vZGUgOCAocGhvcm9u
aXggZm9ydW0pICovCj4gLSAgICAgICB7IFBDSV9WRU5ET1JfSURfSU5URUwsIDB4MzM0MCwgUENJ
X1ZFTkRPUl9JRF9BVEksIDB4NWM2MSwKPiAtICAgICAgICAgICAgICAgUENJX1ZFTkRPUl9JRF9T
T05ZLCAweDgxOTUsIDh9LAo+IC0gICAgICAgLyogSW50ZWwgODI4MzAgODMwIENoaXBzZXQgSG9z
dCBCcmlkZ2UgLyBNb2JpbGl0eSBNNiBMWSBOZWVkcyBBR1BNb2RlIDIgKGZkbyAjMTczNjApKi8K
PiAtICAgICAgIHsgUENJX1ZFTkRPUl9JRF9JTlRFTCwgMHgzNTc1LCBQQ0lfVkVORE9SX0lEX0FU
SSwgMHg0YzU5LAo+IC0gICAgICAgICAgICAgICBQQ0lfVkVORE9SX0lEX0RFTEwsIDB4MDBlMywg
Mn0sCj4gLSAgICAgICAvKiBJbnRlbCA4Mjg1Mi84Mjg1NSBob3N0IGJyaWRnZSAvIE1vYmlsaXR5
IEZpcmVHTCA5MDAwIFJWMjUwIE5lZWRzIEFHUE1vZGUgMSAobHAgIzI5NjYxNykgKi8KPiAtICAg
ICAgIHsgUENJX1ZFTkRPUl9JRF9JTlRFTCwgMHgzNTgwLCBQQ0lfVkVORE9SX0lEX0FUSSwgMHg0
YzY2LAo+IC0gICAgICAgICAgICAgICBQQ0lfVkVORE9SX0lEX0RFTEwsIDB4MDE0OSwgMX0sCj4g
LSAgICAgICAvKiBJbnRlbCA4Mjg1NVBNIGhvc3QgYnJpZGdlIC8gTW9iaWxpdHkgRmlyZUdMIDkw
MDAgUlYyNTAgTmVlZHMgQUdQTW9kZSAxIGZvciBzdXNwZW5kL3Jlc3VtZSAqLwo+IC0gICAgICAg
eyBQQ0lfVkVORE9SX0lEX0lOVEVMLCAweDMzNDAsIFBDSV9WRU5ET1JfSURfQVRJLCAweDRjNjYs
Cj4gLSAgICAgICAgICAgICAgIFBDSV9WRU5ET1JfSURfSUJNLCAweDA1MzEsIDF9LAo+IC0gICAg
ICAgLyogSW50ZWwgODI4NTIvODI4NTUgaG9zdCBicmlkZ2UgLyBNb2JpbGl0eSA5NjAwIE0xMCBS
VjM1MCBOZWVkcyBBR1BNb2RlIDEgKGRlYiAjNDY3NDYwKSAqLwo+IC0gICAgICAgeyBQQ0lfVkVO
RE9SX0lEX0lOVEVMLCAweDM1ODAsIFBDSV9WRU5ET1JfSURfQVRJLCAweDRlNTAsCj4gLSAgICAg
ICAgICAgICAgIDB4MTAyNSwgMHgwMDYxLCAxfSwKPiAtICAgICAgIC8qIEludGVsIDgyODUyLzgy
ODU1IGhvc3QgYnJpZGdlIC8gTW9iaWxpdHkgOTYwMCBNMTAgUlYzNTAgTmVlZHMgQUdQTW9kZSAx
IChscCAjMjAzMDA3KSAqLwo+IC0gICAgICAgeyBQQ0lfVkVORE9SX0lEX0lOVEVMLCAweDM1ODAs
IFBDSV9WRU5ET1JfSURfQVRJLCAweDRlNTAsCj4gLSAgICAgICAgICAgICAgIDB4MTAyNSwgMHgw
MDY0LCAxfSwKPiAtICAgICAgIC8qIEludGVsIDgyODUyLzgyODU1IGhvc3QgYnJpZGdlIC8gTW9i
aWxpdHkgOTYwMCBNMTAgUlYzNTAgTmVlZHMgQUdQTW9kZSAxIChscCAjMTQxNTUxKSAqLwo+IC0g
ICAgICAgeyBQQ0lfVkVORE9SX0lEX0lOVEVMLCAweDM1ODAsIFBDSV9WRU5ET1JfSURfQVRJLCAw
eDRlNTAsCj4gLSAgICAgICAgICAgICAgIFBDSV9WRU5ET1JfSURfQVNVU1RFSywgMHgxOTQyLCAx
fSwKPiAtICAgICAgIC8qIEludGVsIDgyODUyLzgyODU1IGhvc3QgYnJpZGdlIC8gTW9iaWxpdHkg
OTYwMC85NzAwIE5lZWRzIEFHUE1vZGUgMSAoZGViICM1MTAyMDgpICovCj4gLSAgICAgICB7IFBD
SV9WRU5ET1JfSURfSU5URUwsIDB4MzU4MCwgUENJX1ZFTkRPUl9JRF9BVEksIDB4NGU1MCwKPiAt
ICAgICAgICAgICAgICAgMHgxMGNmLCAweDEyN2YsIDF9LAo+IC0gICAgICAgLyogQVNSb2NrIEs3
VlQ0QSsgQUdQIDh4IC8gQVRJIFJhZGVvbiA5MjUwIEFHUCBOZWVkcyBBR1BNb2RlIDQgKGxwICMx
MzMxOTIpICovCj4gLSAgICAgICB7IDB4MTg0OSwgMHgzMTg5LCBQQ0lfVkVORE9SX0lEX0FUSSwg
MHg1OTYwLAo+IC0gICAgICAgICAgICAgICAweDE3ODcsIDB4NTk2MCwgNH0sCj4gLSAgICAgICAv
KiBWSUEgSzhNODAwIEhvc3QgQnJpZGdlIC8gUlYyODAgW1JhZGVvbiA5MjAwIFBST10gTmVlZHMg
QUdQTW9kZSA0IChmZG8gIzEyNTQ0KSAqLwo+IC0gICAgICAgeyBQQ0lfVkVORE9SX0lEX1ZJQSwg
MHgwMjA0LCBQQ0lfVkVORE9SX0lEX0FUSSwgMHg1OTYwLAo+IC0gICAgICAgICAgICAgICAweDE3
YWYsIDB4MjAyMCwgNH0sCj4gLSAgICAgICAvKiBWSUEgS1Q4ODAgSG9zdCBCcmlkZ2UgLyBSVjM1
MCBbUmFkZW9uIDk1NTBdIE5lZWRzIEFHUE1vZGUgNCAoZmRvICMxOTk4MSkgKi8KPiAtICAgICAg
IHsgUENJX1ZFTkRPUl9JRF9WSUEsIDB4MDI2OSwgUENJX1ZFTkRPUl9JRF9BVEksIDB4NDE1MywK
PiAtICAgICAgICAgICAgICAgUENJX1ZFTkRPUl9JRF9BU1VTVEVLLCAweDAwM2MsIDR9LAo+IC0g
ICAgICAgLyogVklBIFZUODM2MyBIb3N0IEJyaWRnZSAvIFIyMDAgUUwgW1JhZGVvbiA4NTAwXSBO
ZWVkcyBBR1BNb2RlIDIgKGxwICMxNDE1NTEpICovCj4gLSAgICAgICB7IFBDSV9WRU5ET1JfSURf
VklBLCAweDAzMDUsIFBDSV9WRU5ET1JfSURfQVRJLCAweDUxNGMsCj4gLSAgICAgICAgICAgICAg
IFBDSV9WRU5ET1JfSURfQVRJLCAweDAxM2EsIDJ9LAo+IC0gICAgICAgLyogVklBIFZUODJDNjkz
QSBIb3N0IEJyaWRnZSAvIFJWMjgwIFtSYWRlb24gOTIwMCBQUk9dIE5lZWRzIEFHUE1vZGUgMiAo
ZGViICM1MTU1MTIpICovCj4gLSAgICAgICB7IFBDSV9WRU5ET1JfSURfVklBLCAweDA2OTEsIFBD
SV9WRU5ET1JfSURfQVRJLCAweDU5NjAsCj4gLSAgICAgICAgICAgICAgIFBDSV9WRU5ET1JfSURf
QVNVU1RFSywgMHgwMDRjLCAyfSwKPiAtICAgICAgIC8qIFZJQSBWVDgyQzY5M0EgSG9zdCBCcmlk
Z2UgLyBSVjI4MCBbUmFkZW9uIDkyMDAgUFJPXSBOZWVkcyBBR1BNb2RlIDIgKi8KPiAtICAgICAg
IHsgUENJX1ZFTkRPUl9JRF9WSUEsIDB4MDY5MSwgUENJX1ZFTkRPUl9JRF9BVEksIDB4NTk2MCwK
PiAtICAgICAgICAgICAgICAgUENJX1ZFTkRPUl9JRF9BU1VTVEVLLCAweDAwNTQsIDJ9LAo+IC0g
ICAgICAgLyogVklBIFZUODM3NyBIb3N0IEJyaWRnZSAvIFIyMDAgUU0gW1JhZGVvbiA5MTAwXSBO
ZWVkcyBBR1BNb2RlIDQgKGRlYiAjNDYxMTQ0KSAqLwo+IC0gICAgICAgeyBQQ0lfVkVORE9SX0lE
X1ZJQSwgMHgzMTg5LCBQQ0lfVkVORE9SX0lEX0FUSSwgMHg1MTRkLAo+IC0gICAgICAgICAgICAg
ICAweDE3NGIsIDB4NzE0OSwgNH0sCj4gLSAgICAgICAvKiBWSUEgVlQ4Mzc3IEhvc3QgQnJpZGdl
IC8gUlYyODAgW1JhZGVvbiA5MjAwIFBST10gTmVlZHMgQUdQTW9kZSA0IChscCAjMzEyNjkzKSAq
Lwo+IC0gICAgICAgeyBQQ0lfVkVORE9SX0lEX1ZJQSwgMHgzMTg5LCBQQ0lfVkVORE9SX0lEX0FU
SSwgMHg1OTYwLAo+IC0gICAgICAgICAgICAgICAweDE0NjIsIDB4MDM4MCwgNH0sCj4gLSAgICAg
ICAvKiBWSUEgVlQ4Mzc3IEhvc3QgQnJpZGdlIC8gUlYyODAgTmVlZHMgQUdQTW9kZSA0IChhdGkg
TUwpICovCj4gLSAgICAgICB7IFBDSV9WRU5ET1JfSURfVklBLCAweDMxODksIFBDSV9WRU5ET1Jf
SURfQVRJLCAweDU5NjQsCj4gLSAgICAgICAgICAgICAgIDB4MTQ4YywgMHgyMDczLCA0fSwKPiAt
ICAgICAgIC8qIEFUSSBIb3N0IEJyaWRnZSAvIFJWMjgwIFtNOStdIE5lZWRzIEFHUE1vZGUgMSAo
cGhvcm9uaXggZm9ydW0pICovCj4gLSAgICAgICB7IFBDSV9WRU5ET1JfSURfQVRJLCAweGNiYjIs
IFBDSV9WRU5ET1JfSURfQVRJLCAweDVjNjEsCj4gLSAgICAgICAgICAgICAgIFBDSV9WRU5ET1Jf
SURfU09OWSwgMHg4MTc1LCAxfSwKPiAtICAgICAgIHsgMCwgMCwgMCwgMCwgMCwgMCwgMCB9LAo+
IC19Owo+IC0jZW5kaWYKPiAtCj4gLWludCByYWRlb25fYWdwX2luaXQoc3RydWN0IHJhZGVvbl9k
ZXZpY2UgKnJkZXYpCj4gLXsKPiAtI2lmIElTX0VOQUJMRUQoQ09ORklHX0FHUCkKPiAtICAgICAg
IHN0cnVjdCByYWRlb25fYWdwbW9kZV9xdWlyayAqcCA9IHJhZGVvbl9hZ3Btb2RlX3F1aXJrX2xp
c3Q7Cj4gLSAgICAgICBzdHJ1Y3QgZHJtX2FncF9tb2RlIG1vZGU7Cj4gLSAgICAgICBzdHJ1Y3Qg
ZHJtX2FncF9pbmZvIGluZm87Cj4gLSAgICAgICB1aW50MzJfdCBhZ3Bfc3RhdHVzOwo+IC0gICAg
ICAgaW50IGRlZmF1bHRfbW9kZTsKPiAtICAgICAgIGJvb2wgaXNfdjM7Cj4gLSAgICAgICBpbnQg
cmV0Owo+IC0KPiAtICAgICAgIC8qIEFjcXVpcmUgQUdQLiAqLwo+IC0gICAgICAgcmV0ID0gZHJt
X2FncF9hY3F1aXJlKHJkZXYtPmRkZXYpOwo+IC0gICAgICAgaWYgKHJldCkgewo+IC0gICAgICAg
ICAgICAgICBEUk1fRVJST1IoIlVuYWJsZSB0byBhY3F1aXJlIEFHUDogJWRcbiIsIHJldCk7Cj4g
LSAgICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4gLSAgICAgICB9Cj4gLQo+IC0gICAgICAgcmV0
ID0gZHJtX2FncF9pbmZvKHJkZXYtPmRkZXYsICZpbmZvKTsKPiAtICAgICAgIGlmIChyZXQpIHsK
PiAtICAgICAgICAgICAgICAgZHJtX2FncF9yZWxlYXNlKHJkZXYtPmRkZXYpOwo+IC0gICAgICAg
ICAgICAgICBEUk1fRVJST1IoIlVuYWJsZSB0byBnZXQgQUdQIGluZm86ICVkXG4iLCByZXQpOwo+
IC0gICAgICAgICAgICAgICByZXR1cm4gcmV0Owo+IC0gICAgICAgfQo+IC0KPiAtICAgICAgIGlm
IChyZGV2LT5kZGV2LT5hZ3AtPmFncF9pbmZvLmFwZXJfc2l6ZSA8IDMyKSB7Cj4gLSAgICAgICAg
ICAgICAgIGRybV9hZ3BfcmVsZWFzZShyZGV2LT5kZGV2KTsKPiAtICAgICAgICAgICAgICAgZGV2
X3dhcm4ocmRldi0+ZGV2LCAiQUdQIGFwZXJ0dXJlIHRvbyBzbWFsbCAoJXp1TSkgIgo+IC0gICAg
ICAgICAgICAgICAgICAgICAgICJuZWVkIGF0IGxlYXN0IDMyTSwgZGlzYWJsaW5nIEFHUFxuIiwK
PiAtICAgICAgICAgICAgICAgICAgICAgICByZGV2LT5kZGV2LT5hZ3AtPmFncF9pbmZvLmFwZXJf
c2l6ZSk7Cj4gLSAgICAgICAgICAgICAgIHJldHVybiAtRUlOVkFMOwo+IC0gICAgICAgfQo+IC0K
PiAtICAgICAgIG1vZGUubW9kZSA9IGluZm8ubW9kZTsKPiAtICAgICAgIC8qIGNoaXBzIHdpdGgg
dGhlIGFncCB0byBwY2llIGJyaWRnZSBkb24ndCBoYXZlIHRoZSBBR1BfU1RBVFVTIHJlZ2lzdGVy
Cj4gLSAgICAgICAgKiBKdXN0IHVzZSB0aGUgd2hhdGV2ZXIgbW9kZSB0aGUgaG9zdCBzZXRzIHVw
Lgo+IC0gICAgICAgICovCj4gLSAgICAgICBpZiAocmRldi0+ZmFtaWx5IDw9IENISVBfUlYzNTAp
Cj4gLSAgICAgICAgICAgICAgIGFncF9zdGF0dXMgPSAoUlJFRzMyKFJBREVPTl9BR1BfU1RBVFVT
KSB8IFJBREVPTl9BR1B2M19NT0RFKSAmIG1vZGUubW9kZTsKPiAtICAgICAgIGVsc2UKPiAtICAg
ICAgICAgICAgICAgYWdwX3N0YXR1cyA9IG1vZGUubW9kZTsKPiAtICAgICAgIGlzX3YzID0gISEo
YWdwX3N0YXR1cyAmIFJBREVPTl9BR1B2M19NT0RFKTsKPiAtCj4gLSAgICAgICBpZiAoaXNfdjMp
IHsKPiAtICAgICAgICAgICAgICAgZGVmYXVsdF9tb2RlID0gKGFncF9zdGF0dXMgJiBSQURFT05f
QUdQdjNfOFhfTU9ERSkgPyA4IDogNDsKPiAtICAgICAgIH0gZWxzZSB7Cj4gLSAgICAgICAgICAg
ICAgIGlmIChhZ3Bfc3RhdHVzICYgUkFERU9OX0FHUF80WF9NT0RFKSB7Cj4gLSAgICAgICAgICAg
ICAgICAgICAgICAgZGVmYXVsdF9tb2RlID0gNDsKPiAtICAgICAgICAgICAgICAgfSBlbHNlIGlm
IChhZ3Bfc3RhdHVzICYgUkFERU9OX0FHUF8yWF9NT0RFKSB7Cj4gLSAgICAgICAgICAgICAgICAg
ICAgICAgZGVmYXVsdF9tb2RlID0gMjsKPiAtICAgICAgICAgICAgICAgfSBlbHNlIHsKPiAtICAg
ICAgICAgICAgICAgICAgICAgICBkZWZhdWx0X21vZGUgPSAxOwo+IC0gICAgICAgICAgICAgICB9
Cj4gLSAgICAgICB9Cj4gLQo+IC0gICAgICAgLyogQXBwbHkgQUdQTW9kZSBRdWlya3MgKi8KPiAt
ICAgICAgIHdoaWxlIChwICYmIHAtPmNoaXBfZGV2aWNlICE9IDApIHsKPiAtICAgICAgICAgICAg
ICAgaWYgKGluZm8uaWRfdmVuZG9yID09IHAtPmhvc3RicmlkZ2VfdmVuZG9yICYmCj4gLSAgICAg
ICAgICAgICAgICAgICBpbmZvLmlkX2RldmljZSA9PSBwLT5ob3N0YnJpZGdlX2RldmljZSAmJgo+
IC0gICAgICAgICAgICAgICAgICAgcmRldi0+cGRldi0+dmVuZG9yID09IHAtPmNoaXBfdmVuZG9y
ICYmCj4gLSAgICAgICAgICAgICAgICAgICByZGV2LT5wZGV2LT5kZXZpY2UgPT0gcC0+Y2hpcF9k
ZXZpY2UgJiYKPiAtICAgICAgICAgICAgICAgICAgIHJkZXYtPnBkZXYtPnN1YnN5c3RlbV92ZW5k
b3IgPT0gcC0+c3Vic3lzX3ZlbmRvciAmJgo+IC0gICAgICAgICAgICAgICAgICAgcmRldi0+cGRl
di0+c3Vic3lzdGVtX2RldmljZSA9PSBwLT5zdWJzeXNfZGV2aWNlKSB7Cj4gLSAgICAgICAgICAg
ICAgICAgICAgICAgZGVmYXVsdF9tb2RlID0gcC0+ZGVmYXVsdF9tb2RlOwo+IC0gICAgICAgICAg
ICAgICB9Cj4gLSAgICAgICAgICAgICAgICsrcDsKPiAtICAgICAgIH0KPiAtCj4gLSAgICAgICBp
ZiAocmFkZW9uX2FncG1vZGUgPiAwKSB7Cj4gLSAgICAgICAgICAgICAgIGlmICgocmFkZW9uX2Fn
cG1vZGUgPCAoaXNfdjMgPyA0IDogMSkpIHx8Cj4gLSAgICAgICAgICAgICAgICAgICAocmFkZW9u
X2FncG1vZGUgPiAoaXNfdjMgPyA4IDogNCkpIHx8Cj4gLSAgICAgICAgICAgICAgICAgICAocmFk
ZW9uX2FncG1vZGUgJiAocmFkZW9uX2FncG1vZGUgLSAxKSkpIHsKPiAtICAgICAgICAgICAgICAg
ICAgICAgICBEUk1fRVJST1IoIklsbGVnYWwgQUdQIE1vZGU6ICVkICh2YWxpZCAlcyksIGxlYXZp
bmcgYXQgJWRcbiIsCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhZGVvbl9h
Z3Btb2RlLCBpc192MyA/ICI0LCA4IiA6ICIxLCAyLCA0IiwKPiAtICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgZGVmYXVsdF9tb2RlKTsKPiAtICAgICAgICAgICAgICAgICAgICAgICBy
YWRlb25fYWdwbW9kZSA9IGRlZmF1bHRfbW9kZTsKPiAtICAgICAgICAgICAgICAgfSBlbHNlIHsK
PiAtICAgICAgICAgICAgICAgICAgICAgICBEUk1fSU5GTygiQUdQIG1vZGUgcmVxdWVzdGVkOiAl
ZFxuIiwgcmFkZW9uX2FncG1vZGUpOwo+IC0gICAgICAgICAgICAgICB9Cj4gLSAgICAgICB9IGVs
c2Ugewo+IC0gICAgICAgICAgICAgICByYWRlb25fYWdwbW9kZSA9IGRlZmF1bHRfbW9kZTsKPiAt
ICAgICAgIH0KPiAtCj4gLSAgICAgICBtb2RlLm1vZGUgJj0gflJBREVPTl9BR1BfTU9ERV9NQVNL
Owo+IC0gICAgICAgaWYgKGlzX3YzKSB7Cj4gLSAgICAgICAgICAgICAgIHN3aXRjaCAocmFkZW9u
X2FncG1vZGUpIHsKPiAtICAgICAgICAgICAgICAgY2FzZSA4Ogo+IC0gICAgICAgICAgICAgICAg
ICAgICAgIG1vZGUubW9kZSB8PSBSQURFT05fQUdQdjNfOFhfTU9ERTsKPiAtICAgICAgICAgICAg
ICAgICAgICAgICBicmVhazsKPiAtICAgICAgICAgICAgICAgY2FzZSA0Ogo+IC0gICAgICAgICAg
ICAgICBkZWZhdWx0Ogo+IC0gICAgICAgICAgICAgICAgICAgICAgIG1vZGUubW9kZSB8PSBSQURF
T05fQUdQdjNfNFhfTU9ERTsKPiAtICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKPiAtICAg
ICAgICAgICAgICAgfQo+IC0gICAgICAgfSBlbHNlIHsKPiAtICAgICAgICAgICAgICAgc3dpdGNo
IChyYWRlb25fYWdwbW9kZSkgewo+IC0gICAgICAgICAgICAgICBjYXNlIDQ6Cj4gLSAgICAgICAg
ICAgICAgICAgICAgICAgbW9kZS5tb2RlIHw9IFJBREVPTl9BR1BfNFhfTU9ERTsKPiAtICAgICAg
ICAgICAgICAgICAgICAgICBicmVhazsKPiAtICAgICAgICAgICAgICAgY2FzZSAyOgo+IC0gICAg
ICAgICAgICAgICAgICAgICAgIG1vZGUubW9kZSB8PSBSQURFT05fQUdQXzJYX01PREU7Cj4gLSAg
ICAgICAgICAgICAgICAgICAgICAgYnJlYWs7Cj4gLSAgICAgICAgICAgICAgIGNhc2UgMToKPiAt
ICAgICAgICAgICAgICAgZGVmYXVsdDoKPiAtICAgICAgICAgICAgICAgICAgICAgICBtb2RlLm1v
ZGUgfD0gUkFERU9OX0FHUF8xWF9NT0RFOwo+IC0gICAgICAgICAgICAgICAgICAgICAgIGJyZWFr
Owo+IC0gICAgICAgICAgICAgICB9Cj4gLSAgICAgICB9Cj4gLQo+IC0gICAgICAgbW9kZS5tb2Rl
ICY9IH5SQURFT05fQUdQX0ZXX01PREU7IC8qIGRpc2FibGUgZncgKi8KPiAtICAgICAgIHJldCA9
IGRybV9hZ3BfZW5hYmxlKHJkZXYtPmRkZXYsIG1vZGUpOwo+IC0gICAgICAgaWYgKHJldCkgewo+
IC0gICAgICAgICAgICAgICBEUk1fRVJST1IoIlVuYWJsZSB0byBlbmFibGUgQUdQIChtb2RlID0g
MHglbHgpXG4iLCBtb2RlLm1vZGUpOwo+IC0gICAgICAgICAgICAgICBkcm1fYWdwX3JlbGVhc2Uo
cmRldi0+ZGRldik7Cj4gLSAgICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4gLSAgICAgICB9Cj4g
LQo+IC0gICAgICAgcmRldi0+bWMuYWdwX2Jhc2UgPSByZGV2LT5kZGV2LT5hZ3AtPmFncF9pbmZv
LmFwZXJfYmFzZTsKPiAtICAgICAgIHJkZXYtPm1jLmd0dF9zaXplID0gcmRldi0+ZGRldi0+YWdw
LT5hZ3BfaW5mby5hcGVyX3NpemUgPDwgMjA7Cj4gLSAgICAgICByZGV2LT5tYy5ndHRfc3RhcnQg
PSByZGV2LT5tYy5hZ3BfYmFzZTsKPiAtICAgICAgIHJkZXYtPm1jLmd0dF9lbmQgPSByZGV2LT5t
Yy5ndHRfc3RhcnQgKyByZGV2LT5tYy5ndHRfc2l6ZSAtIDE7Cj4gLSAgICAgICBkZXZfaW5mbyhy
ZGV2LT5kZXYsICJHVFQ6ICVsbHVNIDB4JTA4bGxYIC0gMHglMDhsbFhcbiIsCj4gLSAgICAgICAg
ICAgICAgIHJkZXYtPm1jLmd0dF9zaXplID4+IDIwLCByZGV2LT5tYy5ndHRfc3RhcnQsIHJkZXYt
Pm1jLmd0dF9lbmQpOwo+IC0KPiAtICAgICAgIC8qIHdvcmthcm91bmQgc29tZSBodyBpc3N1ZXMg
Ki8KPiAtICAgICAgIGlmIChyZGV2LT5mYW1pbHkgPCBDSElQX1IyMDApIHsKPiAtICAgICAgICAg
ICAgICAgV1JFRzMyKFJBREVPTl9BR1BfQ05UTCwgUlJFRzMyKFJBREVPTl9BR1BfQ05UTCkgfCAw
eDAwMGUwMDAwKTsKPiAtICAgICAgIH0KPiAtICAgICAgIHJldHVybiAwOwo+IC0jZWxzZQo+IC0g
ICAgICAgcmV0dXJuIDA7Cj4gLSNlbmRpZgo+IC19Cj4gLQo+IC12b2lkIHJhZGVvbl9hZ3BfcmVz
dW1lKHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2KQo+IC17Cj4gLSNpZiBJU19FTkFCTEVEKENP
TkZJR19BR1ApCj4gLSAgICAgICBpbnQgcjsKPiAtICAgICAgIGlmIChyZGV2LT5mbGFncyAmIFJB
REVPTl9JU19BR1ApIHsKPiAtICAgICAgICAgICAgICAgciA9IHJhZGVvbl9hZ3BfaW5pdChyZGV2
KTsKPiAtICAgICAgICAgICAgICAgaWYgKHIpCj4gLSAgICAgICAgICAgICAgICAgICAgICAgZGV2
X3dhcm4ocmRldi0+ZGV2LCAicmFkZW9uIEFHUCByZWluaXQgZmFpbGVkXG4iKTsKPiAtICAgICAg
IH0KPiAtI2VuZGlmCj4gLX0KPiAtCj4gLXZvaWQgcmFkZW9uX2FncF9maW5pKHN0cnVjdCByYWRl
b25fZGV2aWNlICpyZGV2KQo+IC17Cj4gLSNpZiBJU19FTkFCTEVEKENPTkZJR19BR1ApCj4gLSAg
ICAgICBpZiAocmRldi0+ZGRldi0+YWdwICYmIHJkZXYtPmRkZXYtPmFncC0+YWNxdWlyZWQpIHsK
PiAtICAgICAgICAgICAgICAgZHJtX2FncF9yZWxlYXNlKHJkZXYtPmRkZXYpOwo+IC0gICAgICAg
fQo+IC0jZW5kaWYKPiAtfQo+IC0KPiAtdm9pZCByYWRlb25fYWdwX3N1c3BlbmQoc3RydWN0IHJh
ZGVvbl9kZXZpY2UgKnJkZXYpCj4gLXsKPiAtICAgICAgIHJhZGVvbl9hZ3BfZmluaShyZGV2KTsK
PiAtfQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl9kZXZpY2Uu
YyBiL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFkZW9uX2RldmljZS5jCj4gaW5kZXggMjY2ZTNj
YmJkMDliLi4xMmU1YzVkODFjNDcgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JhZGVv
bi9yYWRlb25fZGV2aWNlLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl9k
ZXZpY2UuYwo+IEBAIC0xMTQ1LDIyICsxMTQ1LDYgQEAgc3RhdGljIHZvaWQgcmFkZW9uX2NoZWNr
X2FyZ3VtZW50cyhzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldikKPiAgICAgICAgIH0KPiAgICAg
ICAgIHJkZXYtPm1jLmd0dF9zaXplID0gKHVpbnQ2NF90KXJhZGVvbl9nYXJ0X3NpemUgPDwgMjA7
Cj4KPiAtICAgICAgIC8qIEFHUCBtb2RlIGNhbiBvbmx5IGJlIC0xLCAxLCAyLCA0LCA4ICovCj4g
LSAgICAgICBzd2l0Y2ggKHJhZGVvbl9hZ3Btb2RlKSB7Cj4gLSAgICAgICBjYXNlIC0xOgo+IC0g
ICAgICAgY2FzZSAwOgo+IC0gICAgICAgY2FzZSAxOgo+IC0gICAgICAgY2FzZSAyOgo+IC0gICAg
ICAgY2FzZSA0Ogo+IC0gICAgICAgY2FzZSA4Ogo+IC0gICAgICAgICAgICAgICBicmVhazsKPiAt
ICAgICAgIGRlZmF1bHQ6Cj4gLSAgICAgICAgICAgICAgIGRldl93YXJuKHJkZXYtPmRldiwgImlu
dmFsaWQgQUdQIG1vZGUgJWQgKHZhbGlkIG1vZGU6ICIKPiAtICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICItMSwgMCwgMSwgMiwgNCwgOClcbiIsIHJhZGVvbl9hZ3Btb2RlKTsKPiAtICAg
ICAgICAgICAgICAgcmFkZW9uX2FncG1vZGUgPSAwOwo+IC0gICAgICAgICAgICAgICBicmVhazsK
PiAtICAgICAgIH0KPiAtCj4gICAgICAgICBpZiAoIXJhZGVvbl9jaGVja19wb3RfYXJndW1lbnQo
cmFkZW9uX3ZtX3NpemUpKSB7Cj4gICAgICAgICAgICAgICAgIGRldl93YXJuKHJkZXYtPmRldiwg
IlZNIHNpemUgKCVkKSBtdXN0IGJlIGEgcG93ZXIgb2YgMlxuIiwKPiAgICAgICAgICAgICAgICAg
ICAgICAgICAgcmFkZW9uX3ZtX3NpemUpOwo+IEBAIC0xMzQ4LDkgKzEzMzIsOCBAQCBpbnQgcmFk
ZW9uX2RldmljZV9pbml0KHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2LAo+ICAgICAgICAgICAg
ICAgICByZGV2LT5mbGFncyAmPSB+UkFERU9OX0lTX0FHUDsKPiAgICAgICAgIH0KPgo+IC0gICAg
ICAgaWYgKHJkZXYtPmZsYWdzICYgUkFERU9OX0lTX0FHUCAmJiByYWRlb25fYWdwbW9kZSA9PSAt
MSkgewo+ICsgICAgICAgaWYgKHJkZXYtPmZsYWdzICYgUkFERU9OX0lTX0FHUCkKPiAgICAgICAg
ICAgICAgICAgcmFkZW9uX2FncF9kaXNhYmxlKHJkZXYpOwo+IC0gICAgICAgfQo+Cj4gICAgICAg
ICAvKiBTZXQgdGhlIGludGVybmFsIE1DIGFkZHJlc3MgbWFzawo+ICAgICAgICAgICogVGhpcyBp
cyB0aGUgbWF4IGFkZHJlc3Mgb2YgdGhlIEdQVSdzCj4gQEAgLTE2MzYsOCArMTYxOSw2IEBAIGlu
dCByYWRlb25fc3VzcGVuZF9rbXMoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgYm9vbCBzdXNwZW5k
LAo+ICAgICAgICAgICovCj4gICAgICAgICByYWRlb25fYm9fZXZpY3RfdnJhbShyZGV2KTsKPgo+
IC0gICAgICAgcmFkZW9uX2FncF9zdXNwZW5kKHJkZXYpOwo+IC0KPiAgICAgICAgIHBjaV9zYXZl
X3N0YXRlKGRldi0+cGRldik7Cj4gICAgICAgICBpZiAoZnJlZXplICYmIHJkZXYtPmZhbWlseSA+
PSBDSElQX0NFREFSICYmICEocmRldi0+ZmxhZ3MgJiBSQURFT05fSVNfSUdQKSkgewo+ICAgICAg
ICAgICAgICAgICByZGV2LT5hc2ljLT5hc2ljX3Jlc2V0KHJkZXYsIHRydWUpOwo+IEBAIC0xNjg3
LDggKzE2NjgsNiBAQCBpbnQgcmFkZW9uX3Jlc3VtZV9rbXMoc3RydWN0IGRybV9kZXZpY2UgKmRl
diwgYm9vbCByZXN1bWUsIGJvb2wgZmJjb24pCj4gICAgICAgICAgICAgICAgICAgICAgICAgcmV0
dXJuIC0xOwo+ICAgICAgICAgICAgICAgICB9Cj4gICAgICAgICB9Cj4gLSAgICAgICAvKiByZXN1
bWUgQUdQIGlmIGluIHVzZSAqLwo+IC0gICAgICAgcmFkZW9uX2FncF9yZXN1bWUocmRldik7Cj4g
ICAgICAgICByYWRlb25fcmVzdW1lKHJkZXYpOwo+Cj4gICAgICAgICByID0gcmFkZW9uX2liX3Jp
bmdfdGVzdHMocmRldik7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFk
ZW9uX2Rydi5jIGIvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fZHJ2LmMKPiBpbmRleCBi
YmIwODgzZThjZTYuLjYyYTVkZmFmOTkwYiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
cmFkZW9uL3JhZGVvbl9kcnYuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFkZW9u
X2Rydi5jCj4gQEAgLTE3MSwxMiArMTcxLDYgQEAgaW50IHJhZGVvbl9ub193YjsKPiAgaW50IHJh
ZGVvbl9tb2Rlc2V0ID0gLTE7Cj4gIGludCByYWRlb25fZHluY2xrcyA9IC0xOwo+ICBpbnQgcmFk
ZW9uX3I0eHhfYXRvbSA9IDA7Cj4gLSNpZmRlZiBfX3Bvd2VycGNfXwo+IC0vKiBEZWZhdWx0IHRv
IFBDSSBvbiBQb3dlclBDIChmZG8gIzk1MDE3KSAqLwo+IC1pbnQgcmFkZW9uX2FncG1vZGUgPSAt
MTsKPiAtI2Vsc2UKPiAtaW50IHJhZGVvbl9hZ3Btb2RlID0gMDsKPiAtI2VuZGlmCj4gIGludCBy
YWRlb25fdnJhbV9saW1pdCA9IDA7Cj4gIGludCByYWRlb25fZ2FydF9zaXplID0gLTE7IC8qIGF1
dG8gKi8KPiAgaW50IHJhZGVvbl9iZW5jaG1hcmtpbmcgPSAwOwo+IEBAIC0yMjAsOSArMjE0LDYg
QEAgbW9kdWxlX3BhcmFtX25hbWVkKHI0eHhfYXRvbSwgcmFkZW9uX3I0eHhfYXRvbSwgaW50LCAw
NDQ0KTsKPiAgTU9EVUxFX1BBUk1fREVTQyh2cmFtbGltaXQsICJSZXN0cmljdCBWUkFNIGZvciB0
ZXN0aW5nLCBpbiBtZWdhYnl0ZXMiKTsKPiAgbW9kdWxlX3BhcmFtX25hbWVkKHZyYW1saW1pdCwg
cmFkZW9uX3ZyYW1fbGltaXQsIGludCwgMDYwMCk7Cj4KPiAtTU9EVUxFX1BBUk1fREVTQyhhZ3Bt
b2RlLCAiQUdQIE1vZGUgKC0xID09IFBDSSkiKTsKPiAtbW9kdWxlX3BhcmFtX25hbWVkKGFncG1v
ZGUsIHJhZGVvbl9hZ3Btb2RlLCBpbnQsIDA0NDQpOwo+IC0KPiAgTU9EVUxFX1BBUk1fREVTQyhn
YXJ0c2l6ZSwgIlNpemUgb2YgUENJRS9JR1AgZ2FydCB0byBzZXR1cCBpbiBtZWdhYnl0ZXMgKDMy
LCA2NCwgZXRjLiwgLTEgPSBhdXRvKSIpOwo+ICBtb2R1bGVfcGFyYW1fbmFtZWQoZ2FydHNpemUs
IHJhZGVvbl9nYXJ0X3NpemUsIGludCwgMDYwMCk7Cj4KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL3JhZGVvbi9yYWRlb25fdHRtLmMgYi9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVv
bl90dG0uYwo+IGluZGV4IDVkNTBjOWVkYmU4MC4uMjFiYjM3MDZjMTNjIDEwMDY0NAo+IC0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFkZW9uX3R0bS5jCj4gKysrIGIvZHJpdmVycy9ncHUv
ZHJtL3JhZGVvbi9yYWRlb25fdHRtLmMKPiBAQCAtODYsMjAgKzg2LDYgQEAgc3RhdGljIGludCBy
YWRlb25faW5pdF9tZW1fdHlwZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgdWludDMyX3Qg
dHlwZSwKPiAgICAgICAgICAgICAgICAgbWFuLT5hdmFpbGFibGVfY2FjaGluZyA9IFRUTV9QTF9N
QVNLX0NBQ0hJTkc7Cj4gICAgICAgICAgICAgICAgIG1hbi0+ZGVmYXVsdF9jYWNoaW5nID0gVFRN
X1BMX0ZMQUdfQ0FDSEVEOwo+ICAgICAgICAgICAgICAgICBtYW4tPmZsYWdzID0gVFRNX01FTVRZ
UEVfRkxBR19NQVBQQUJMRSB8IFRUTV9NRU1UWVBFX0ZMQUdfQ01BOwo+IC0jaWYgSVNfRU5BQkxF
RChDT05GSUdfQUdQKQo+IC0gICAgICAgICAgICAgICBpZiAocmRldi0+ZmxhZ3MgJiBSQURFT05f
SVNfQUdQKSB7Cj4gLSAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZGV2LT5kZGV2LT5hZ3Ap
IHsKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERSTV9FUlJPUigiQUdQIGlzIG5v
dCBlbmFibGVkIGZvciBtZW1vcnkgdHlwZSAldVxuIiwKPiAtICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAodW5zaWduZWQpdHlwZSk7Cj4gLSAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICByZXR1cm4gLUVJTlZBTDsKPiAtICAgICAgICAgICAgICAgICAgICAgICB9
Cj4gLSAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZGV2LT5kZGV2LT5hZ3AtPmNhbnRfdXNl
X2FwZXJ0dXJlKQo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFuLT5mbGFncyA9
IFRUTV9NRU1UWVBFX0ZMQUdfTUFQUEFCTEU7Cj4gLSAgICAgICAgICAgICAgICAgICAgICAgbWFu
LT5hdmFpbGFibGVfY2FjaGluZyA9IFRUTV9QTF9GTEFHX1VOQ0FDSEVEIHwKPiAtICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVFRNX1BMX0ZMQUdfV0M7Cj4g
LSAgICAgICAgICAgICAgICAgICAgICAgbWFuLT5kZWZhdWx0X2NhY2hpbmcgPSBUVE1fUExfRkxB
R19XQzsKPiAtICAgICAgICAgICAgICAgfQo+IC0jZW5kaWYKPiAgICAgICAgICAgICAgICAgYnJl
YWs7Cj4gICAgICAgICBjYXNlIFRUTV9QTF9WUkFNOgo+ICAgICAgICAgICAgICAgICAvKiAiT24t
Y2FyZCIgdmlkZW8gcmFtICovCj4gQEAgLTQxMSwxNCArMzk3LDYgQEAgc3RhdGljIGludCByYWRl
b25fdHRtX2lvX21lbV9yZXNlcnZlKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LCBzdHJ1Y3Qg
dHRtX21lbV8KPiAgICAgICAgICAgICAgICAgLyogc3lzdGVtIG1lbW9yeSAqLwo+ICAgICAgICAg
ICAgICAgICByZXR1cm4gMDsKPiAgICAgICAgIGNhc2UgVFRNX1BMX1RUOgo+IC0jaWYgSVNfRU5B
QkxFRChDT05GSUdfQUdQKQo+IC0gICAgICAgICAgICAgICBpZiAocmRldi0+ZmxhZ3MgJiBSQURF
T05fSVNfQUdQKSB7Cj4gLSAgICAgICAgICAgICAgICAgICAgICAgLyogUkFERU9OX0lTX0FHUCBp
cyBzZXQgb25seSBpZiBBR1AgaXMgYWN0aXZlICovCj4gLSAgICAgICAgICAgICAgICAgICAgICAg
bWVtLT5idXMub2Zmc2V0ID0gbWVtLT5zdGFydCA8PCBQQUdFX1NISUZUOwo+IC0gICAgICAgICAg
ICAgICAgICAgICAgIG1lbS0+YnVzLmJhc2UgPSByZGV2LT5tYy5hZ3BfYmFzZTsKPiAtICAgICAg
ICAgICAgICAgICAgICAgICBtZW0tPmJ1cy5pc19pb21lbSA9ICFyZGV2LT5kZGV2LT5hZ3AtPmNh
bnRfdXNlX2FwZXJ0dXJlOwo+IC0gICAgICAgICAgICAgICB9Cj4gLSNlbmRpZgo+ICAgICAgICAg
ICAgICAgICBicmVhazsKPiAgICAgICAgIGNhc2UgVFRNX1BMX1ZSQU06Cj4gICAgICAgICAgICAg
ICAgIG1lbS0+YnVzLm9mZnNldCA9IG1lbS0+c3RhcnQgPDwgUEFHRV9TSElGVDsKPiBAQCAtNjMx
LDEyICs2MDksNiBAQCBzdGF0aWMgc3RydWN0IHR0bV90dCAqcmFkZW9uX3R0bV90dF9jcmVhdGUo
c3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKPiAgICAgICAgIHN0cnVjdCByYWRlb25fdHRt
X3R0ICpndHQ7Cj4KPiAgICAgICAgIHJkZXYgPSByYWRlb25fZ2V0X3JkZXYoYm8tPmJkZXYpOwo+
IC0jaWYgSVNfRU5BQkxFRChDT05GSUdfQUdQKQo+IC0gICAgICAgaWYgKHJkZXYtPmZsYWdzICYg
UkFERU9OX0lTX0FHUCkgewo+IC0gICAgICAgICAgICAgICByZXR1cm4gdHRtX2FncF90dF9jcmVh
dGUoYm8sIHJkZXYtPmRkZXYtPmFncC0+YnJpZGdlLAo+IC0gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgcGFnZV9mbGFncyk7Cj4gLSAgICAgICB9Cj4gLSNlbmRpZgo+Cj4g
ICAgICAgICBndHQgPSBremFsbG9jKHNpemVvZihzdHJ1Y3QgcmFkZW9uX3R0bV90dCksIEdGUF9L
RVJORUwpOwo+ICAgICAgICAgaWYgKGd0dCA9PSBOVUxMKSB7Cj4gQEAgLTY4MywxMSArNjU1LDYg
QEAgc3RhdGljIGludCByYWRlb25fdHRtX3R0X3BvcHVsYXRlKHN0cnVjdCB0dG1fdHQgKnR0bSwK
PiAgICAgICAgIH0KPgo+ICAgICAgICAgcmRldiA9IHJhZGVvbl9nZXRfcmRldih0dG0tPmJkZXYp
Owo+IC0jaWYgSVNfRU5BQkxFRChDT05GSUdfQUdQKQo+IC0gICAgICAgaWYgKHJkZXYtPmZsYWdz
ICYgUkFERU9OX0lTX0FHUCkgewo+IC0gICAgICAgICAgICAgICByZXR1cm4gdHRtX2FncF90dF9w
b3B1bGF0ZSh0dG0sIGN0eCk7Cj4gLSAgICAgICB9Cj4gLSNlbmRpZgo+Cj4gICNpZmRlZiBDT05G
SUdfU1dJT1RMQgo+ICAgICAgICAgaWYgKHJkZXYtPm5lZWRfc3dpb3RsYiAmJiBzd2lvdGxiX25y
X3RibCgpKSB7Cj4gQEAgLTcxNCwxMiArNjgxLDYgQEAgc3RhdGljIHZvaWQgcmFkZW9uX3R0bV90
dF91bnBvcHVsYXRlKHN0cnVjdCB0dG1fdHQgKnR0bSkKPiAgICAgICAgICAgICAgICAgcmV0dXJu
Owo+Cj4gICAgICAgICByZGV2ID0gcmFkZW9uX2dldF9yZGV2KHR0bS0+YmRldik7Cj4gLSNpZiBJ
U19FTkFCTEVEKENPTkZJR19BR1ApCj4gLSAgICAgICBpZiAocmRldi0+ZmxhZ3MgJiBSQURFT05f
SVNfQUdQKSB7Cj4gLSAgICAgICAgICAgICAgIHR0bV9hZ3BfdHRfdW5wb3B1bGF0ZSh0dG0pOwo+
IC0gICAgICAgICAgICAgICByZXR1cm47Cj4gLSAgICAgICB9Cj4gLSNlbmRpZgo+Cj4gICNpZmRl
ZiBDT05GSUdfU1dJT1RMQgo+ICAgICAgICAgaWYgKHJkZXYtPm5lZWRfc3dpb3RsYiAmJiBzd2lv
dGxiX25yX3RibCgpKSB7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcnY1
MTUuYyBiL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcnY1MTUuYwo+IGluZGV4IDE0N2U1Y2Y4MzQ4
ZC4uOGEyZjE2MzIwODY5IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcnY1
MTUuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcnY1MTUuYwo+IEBAIC02MjIsNyAr
NjIyLDYgQEAgdm9pZCBydjUxNV9maW5pKHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2KQo+ICAg
ICAgICAgcmFkZW9uX2liX3Bvb2xfZmluaShyZGV2KTsKPiAgICAgICAgIHJhZGVvbl9nZW1fZmlu
aShyZGV2KTsKPiAgICAgICAgIHJ2MzcwX3BjaWVfZ2FydF9maW5pKHJkZXYpOwo+IC0gICAgICAg
cmFkZW9uX2FncF9maW5pKHJkZXYpOwo+ICAgICAgICAgcmFkZW9uX2lycV9rbXNfZmluaShyZGV2
KTsKPiAgICAgICAgIHJhZGVvbl9mZW5jZV9kcml2ZXJfZmluaShyZGV2KTsKPiAgICAgICAgIHJh
ZGVvbl9ib19maW5pKHJkZXYpOwo+IEBAIC02NjcsMTMgKzY2Niw2IEBAIGludCBydjUxNV9pbml0
KHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2KQo+ICAgICAgICAgICAgICAgICByZXR1cm4gLUVJ
TlZBTDsKPiAgICAgICAgIC8qIEluaXRpYWxpemUgY2xvY2tzICovCj4gICAgICAgICByYWRlb25f
Z2V0X2Nsb2NrX2luZm8ocmRldi0+ZGRldik7Cj4gLSAgICAgICAvKiBpbml0aWFsaXplIEFHUCAq
Lwo+IC0gICAgICAgaWYgKHJkZXYtPmZsYWdzICYgUkFERU9OX0lTX0FHUCkgewo+IC0gICAgICAg
ICAgICAgICByID0gcmFkZW9uX2FncF9pbml0KHJkZXYpOwo+IC0gICAgICAgICAgICAgICBpZiAo
cikgewo+IC0gICAgICAgICAgICAgICAgICAgICAgIHJhZGVvbl9hZ3BfZGlzYWJsZShyZGV2KTsK
PiAtICAgICAgICAgICAgICAgfQo+IC0gICAgICAgfQo+ICAgICAgICAgLyogaW5pdGlhbGl6ZSBt
ZW1vcnkgY29udHJvbGxlciAqLwo+ICAgICAgICAgcnY1MTVfbWNfaW5pdChyZGV2KTsKPiAgICAg
ICAgIHJ2NTE1X2RlYnVnZnMocmRldik7Cj4gQEAgLTcwMyw3ICs2OTUsNiBAQCBpbnQgcnY1MTVf
aW5pdChzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldikKPiAgICAgICAgICAgICAgICAgcmFkZW9u
X2liX3Bvb2xfZmluaShyZGV2KTsKPiAgICAgICAgICAgICAgICAgcmFkZW9uX2lycV9rbXNfZmlu
aShyZGV2KTsKPiAgICAgICAgICAgICAgICAgcnYzNzBfcGNpZV9nYXJ0X2ZpbmkocmRldik7Cj4g
LSAgICAgICAgICAgICAgIHJhZGVvbl9hZ3BfZmluaShyZGV2KTsKPiAgICAgICAgICAgICAgICAg
cmRldi0+YWNjZWxfd29ya2luZyA9IGZhbHNlOwo+ICAgICAgICAgfQo+ICAgICAgICAgcmV0dXJu
IDA7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcnY3NzAuYyBiL2RyaXZl
cnMvZ3B1L2RybS9yYWRlb24vcnY3NzAuYwo+IGluZGV4IDIxZjY1M2FlMWUxYi4uMjBiZjU0MjY2
ZjI0IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcnY3NzAuYwo+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcnY3NzAuYwo+IEBAIC0xOTQzLDEyICsxOTQzLDYgQEAg
aW50IHJ2NzcwX2luaXQoc3RydWN0IHJhZGVvbl9kZXZpY2UgKnJkZXYpCj4gICAgICAgICByID0g
cmFkZW9uX2ZlbmNlX2RyaXZlcl9pbml0KHJkZXYpOwo+ICAgICAgICAgaWYgKHIpCj4gICAgICAg
ICAgICAgICAgIHJldHVybiByOwo+IC0gICAgICAgLyogaW5pdGlhbGl6ZSBBR1AgKi8KPiAtICAg
ICAgIGlmIChyZGV2LT5mbGFncyAmIFJBREVPTl9JU19BR1ApIHsKPiAtICAgICAgICAgICAgICAg
ciA9IHJhZGVvbl9hZ3BfaW5pdChyZGV2KTsKPiAtICAgICAgICAgICAgICAgaWYgKHIpCj4gLSAg
ICAgICAgICAgICAgICAgICAgICAgcmFkZW9uX2FncF9kaXNhYmxlKHJkZXYpOwo+IC0gICAgICAg
fQo+ICAgICAgICAgciA9IHJ2NzcwX21jX2luaXQocmRldik7Cj4gICAgICAgICBpZiAocikKPiAg
ICAgICAgICAgICAgICAgcmV0dXJuIHI7Cj4gQEAgLTIwMTUsNyArMjAwOSw2IEBAIHZvaWQgcnY3
NzBfZmluaShzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldikKPiAgICAgICAgIHI2MDBfdnJhbV9z
Y3JhdGNoX2ZpbmkocmRldik7Cj4gICAgICAgICByYWRlb25fZ2VtX2ZpbmkocmRldik7Cj4gICAg
ICAgICByYWRlb25fZmVuY2VfZHJpdmVyX2ZpbmkocmRldik7Cj4gLSAgICAgICByYWRlb25fYWdw
X2ZpbmkocmRldik7Cj4gICAgICAgICByYWRlb25fYm9fZmluaShyZGV2KTsKPiAgICAgICAgIHJh
ZGVvbl9hdG9tYmlvc19maW5pKHJkZXYpOwo+ICAgICAgICAga2ZyZWUocmRldi0+Ymlvcyk7Cj4g
LS0KPiAyLjE3LjEKPgo+IF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fCj4gYW1kLWdmeCBtYWlsaW5nIGxpc3QKPiBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9w
Lm9yZwo+IGh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1k
LWdmeApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmkt
ZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6
Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWwK
