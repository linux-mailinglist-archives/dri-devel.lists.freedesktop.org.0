Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 2397F34F45
	for <lists+dri-devel@lfdr.de>; Tue,  4 Jun 2019 19:45:33 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 2784989B62;
	Tue,  4 Jun 2019 17:45:29 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga11.intel.com (mga11.intel.com [192.55.52.93])
 by gabe.freedesktop.org (Postfix) with ESMTPS id BD27E89B60;
 Tue,  4 Jun 2019 17:45:27 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from fmsmga008.fm.intel.com ([10.253.24.58])
 by fmsmga102.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 04 Jun 2019 10:45:23 -0700
X-ExtLoop1: 1
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by fmsmga008.fm.intel.com with SMTP; 04 Jun 2019 10:45:20 -0700
Received: by stinkbox (sSMTP sendmail emulation);
 Tue, 04 Jun 2019 20:45:19 +0300
Date: Tue, 4 Jun 2019 20:45:19 +0300
From: Ville =?iso-8859-1?Q?Syrj=E4l=E4?= <ville.syrjala@linux.intel.com>
To: Hans de Goede <hdegoede@redhat.com>
Subject: Re: [PATCH 4/4] drm/i915/dsi: Read back pclk set by GOP and use that
 as pclk (v3)
Message-ID: <20190604174519.GK5942@intel.com>
References: <20190524163020.17099-1-hdegoede@redhat.com>
 <20190524163020.17099-5-hdegoede@redhat.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190524163020.17099-5-hdegoede@redhat.com>
User-Agent: Mutt/1.10.1 (2018-07-13)
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: intel-gfx <intel-gfx@lists.freedesktop.org>,
 dri-devel@lists.freedesktop.org, Rodrigo Vivi <rodrigo.vivi@intel.com>,
 Daniel Vetter <daniel.vetter@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gRnJpLCBNYXkgMjQsIDIwMTkgYXQgMDY6MzA6MjBQTSArMDIwMCwgSGFucyBkZSBHb2VkZSB3
cm90ZToKPiBUaGUgR09QIHNvbWV0aW1lcyBpbml0aWFsaXplcyB0aGUgcGNsayBhdCBhIChzbGln
aHRseSkgZGlmZmVyZW50IGZyZXF1ZW5jeQo+IHRoZW4gdGhlIHBjbGsgd2hpY2ggd2UndmUgY2Fs
Y3VsYXRlZC4KPiAKPiBUaGlzIGNvbW1pdCBtYWtlcyB0aGUgRFNJIGNvZGUgcmVhZC1iYWNrIHRo
ZSBwY2xrIHNldCBieSB0aGUgR09QIGFuZAo+IGlmIHRoYXQgaXMgd2l0aGluIGEgcmVhc29uYWJs
ZSBtYXJnaW4gb2YgdGhlIGNhbGN1bGF0ZWQgcGNsaywgdXNlcwo+IHRoYXQgaW5zdGVhZC4KPiAK
PiBUaGlzIGZpeGVzIHRoZSBmaXJzdCBtb2Rlc2V0IGJlaW5nIGEgZnVsbCBtb2Rlc2V0IGluc3Rl
YWQgb2YgYQo+IGZhc3QgbW9kZXNldCBvbiBzeXN0ZW1zIHdoZXJlIHRoZSBHT1AgcGNsayBpcyBk
aWZmZXJlbnQuCj4gCj4gQ2hhbmdlcyBpbiB2MjoKPiAtVXNlIGludGVsX2VuY29kZXJfY3VycmVu
dF9tb2RlKCkgdG8gZ2V0IHRoZSBwY2xrIHNldHVwIGJ5IHRoZSBHT1AKPiAKPiBDaGFuZ2VzIGlu
IHYzOgo+IC1CYWNrIHRvIHRoZSByZWFkYmFjayBhcHByb2FjaCwgc2tpcHBpbmcgdGhlIGRzaV9w
bGwuY3RybCAvIC5kZXYgY2hlY2tzCj4gIGluIGludGVsX3BpcGVfY29uZmlnX2NvbXBhcmUoKSB3
aGVuIGFkanVzdCBpcyBzZXQgbGVhZHMgdG86Cj4gIFtkcm06cGlwZV9jb25maWdfZXJyIFtpOTE1
XV0gKkVSUk9SKiBtaXNtYXRjaCBpbiBkc2lfcGxsLmN0cmwgKC4uLikKPiAgW2RybTpwaXBlX2Nv
bmZpZ19lcnIgW2k5MTVdXSAqRVJST1IqIG1pc21hdGNoIGluIGRzaV9wbGwuZGl2ICguLi4pCj4g
LURvIHRoZSByZWFkYmFjayBhbmQgcGNsayBvdmVycmlkaW5nIGZyb20gdmx2X2RzaV9pbml0KCks
IHJhdGhlciB0aGVuIGZyb20KPiAgaW50ZWxfZHNpX3ZidF9pbml0KCkgYXMgdGhlIHZidCBjb2Rl
IHNob3VsZCBub3QgYmUgdG91Y2hpbmcgdGhlIGh3Cj4gCj4gU2lnbmVkLW9mZi1ieTogSGFucyBk
ZSBHb2VkZSA8aGRlZ29lZGVAcmVkaGF0LmNvbT4KPiAtLS0KPiAgZHJpdmVycy9ncHUvZHJtL2k5
MTUvdmx2X2RzaS5jIHwgMjIgKysrKysrKysrKysrKysrKysrLS0tLQo+ICAxIGZpbGUgY2hhbmdl
ZCwgMTggaW5zZXJ0aW9ucygrKSwgNCBkZWxldGlvbnMoLSkKPiAKPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvdmx2X2RzaS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvdmx2X2Rz
aS5jCj4gaW5kZXggMzMyOWNjZjNiMzQ2Li40OTk3NWRkODRmZjQgMTAwNjQ0Cj4gLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvdmx2X2RzaS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
dmx2X2RzaS5jCj4gQEAgLTE3MDEsNyArMTcwMSw3IEBAIHZvaWQgdmx2X2RzaV9pbml0KHN0cnVj
dCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKPiAgCXN0cnVjdCBkcm1fZW5jb2RlciAqZW5j
b2RlcjsKPiAgCXN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmludGVsX2Nvbm5lY3RvcjsKPiAgCXN0
cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3I7Cj4gLQlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9k
ZSAqZml4ZWRfbW9kZTsKPiArCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICpjdXJyZW50X21vZGUs
ICpmaXhlZF9tb2RlOwo+ICAJZW51bSBwb3J0IHBvcnQ7Cj4gIAo+ICAJRFJNX0RFQlVHX0tNUygi
XG4iKTsKPiBAQCAtMTc0NSw2ICsxNzQ1LDkgQEAgdm9pZCB2bHZfZHNpX2luaXQoc3RydWN0IGRy
bV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQo+ICAJaW50ZWxfY29ubmVjdG9yLT5nZXRfaHdfc3Rh
dGUgPSBpbnRlbF9jb25uZWN0b3JfZ2V0X2h3X3N0YXRlOwo+ICAKPiAgCWludGVsX2VuY29kZXIt
PnBvcnQgPSBwb3J0Owo+ICsJaW50ZWxfZW5jb2Rlci0+dHlwZSA9IElOVEVMX09VVFBVVF9EU0k7
Cj4gKwlpbnRlbF9lbmNvZGVyLT5wb3dlcl9kb21haW4gPSBQT1dFUl9ET01BSU5fUE9SVF9EU0k7
Cj4gKwlpbnRlbF9lbmNvZGVyLT5jbG9uZWFibGUgPSAwOwo+ICAKPiAgCS8qCj4gIAkgKiBPbiBC
WVQvQ0hWLCBwaXBlIEEgbWFwcyB0byBNSVBJIERTSSBwb3J0IEEsIHBpcGUgQiBtYXBzIHRvIE1J
UEkgRFNJCj4gQEAgLTE3ODIsNiArMTc4NSwyMCBAQCB2b2lkIHZsdl9kc2lfaW5pdChzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCj4gIAkJZ290byBlcnI7Cj4gIAl9Cj4gIAo+ICsJ
LyogVXNlIGNsb2NrIHJlYWQtYmFjayBmcm9tIGN1cnJlbnQgaHctc3RhdGUgZm9yIGZhc3Rib290
ICovCj4gKwljdXJyZW50X21vZGUgPSBpbnRlbF9lbmNvZGVyX2N1cnJlbnRfbW9kZShpbnRlbF9l
bmNvZGVyKTsKPiArCWlmIChjdXJyZW50X21vZGUpIHsKPiArCQlEUk1fREVCVUdfS01TKCJDYWxj
dWxhdGVkIHBjbGsgJWQgR09QICVkXG4iLAo+ICsJCQkgICAgICBpbnRlbF9kc2ktPnBjbGssIGN1
cnJlbnRfbW9kZS0+Y2xvY2spOwo+ICsJCWlmIChpbnRlbF9mdXp6eV9jbG9ja19jaGVjayhpbnRl
bF9kc2ktPnBjbGssCj4gKwkJCQkJICAgIGN1cnJlbnRfbW9kZS0+Y2xvY2spKSB7Cj4gKwkJCURS
TV9ERUJVR19LTVMoIlVzaW5nIEdPUCBwY2xrXG4iKTsKPiArCQkJaW50ZWxfZHNpLT5wY2xrID0g
Y3VycmVudF9tb2RlLT5jbG9jazsKPiArCQl9CgpJIHdvbmRlciBpZiB3ZSBzaG91bGQgYmUgY2hl
Y2tpbmcgd2hldGhlciB0aGUgbW9kZSBpcyBvdGhlcndpc2UKaWRlbnRpY2FsIHRvIHdoYXRldmVy
IHdlIGdvdCBmcm9tIFZCVD8gVGhvdWdoIEkgc3VwcG9zZSB0aGF0IHNob3VsZG4ndApyZWFsbHkg
aGFwcGVuLgoKVGhlIHdob2xlIGRzaSBjbG9jayBoYW5kbGluZyBpcyBhIHByb3BlciBtZXNzLCBi
dXQgbG9va3MgbGlrZSAtPnBjbGsKaXMgc3VwcG9zZWQgdG8gYmUgdGhlIGJ1cnN0IGNsb2NrIHNv
IEkgdGhpbmsgdGhpcyBzaG91bGQgZW5kIHVwIGRvaW5nCm1vcmUgb3IgbGVzcyB0aGUgcmlnaHQg
dGhpbmcgYmVjYXVzZSB3ZSBzZWVtIHRvIHN0dWZmaW5nIHRoZSBEUExMCnJlYWRvdXQgaW50byB0
aGUgbW9kZS0+Y2xvY2suCgpSZXZpZXdlZC1ieTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJq
YWxhQGxpbnV4LmludGVsLmNvbT4KCj4gKwo+ICsJCWtmcmVlKGN1cnJlbnRfbW9kZSk7Cj4gKwl9
Cj4gKwo+ICAJdmx2X2RwaHlfcGFyYW1faW5pdChpbnRlbF9kc2kpOwo+ICAKPiAgCS8qCj4gQEAg
LTE3OTksOSArMTgxNiw2IEBAIHZvaWQgdmx2X2RzaV9pbml0KHN0cnVjdCBkcm1faTkxNV9wcml2
YXRlICpkZXZfcHJpdikKPiAgCQl9Cj4gIAl9Cj4gIAo+IC0JaW50ZWxfZW5jb2Rlci0+dHlwZSA9
IElOVEVMX09VVFBVVF9EU0k7Cj4gLQlpbnRlbF9lbmNvZGVyLT5wb3dlcl9kb21haW4gPSBQT1dF
Ul9ET01BSU5fUE9SVF9EU0k7Cj4gLQlpbnRlbF9lbmNvZGVyLT5jbG9uZWFibGUgPSAwOwo+ICAJ
ZHJtX2Nvbm5lY3Rvcl9pbml0KGRldiwgY29ubmVjdG9yLCAmaW50ZWxfZHNpX2Nvbm5lY3Rvcl9m
dW5jcywKPiAgCQkJICAgRFJNX01PREVfQ09OTkVDVE9SX0RTSSk7Cj4gIAo+IC0tIAo+IDIuMjEu
MAoKLS0gClZpbGxlIFN5cmrDpGzDpApJbnRlbApfX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0
cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9s
aXN0aW5mby9kcmktZGV2ZWw=
