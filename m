Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 9F23559924
	for <lists+dri-devel@lfdr.de>; Fri, 28 Jun 2019 13:23:08 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D6CA06E8E0;
	Fri, 28 Jun 2019 11:23:04 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga06.intel.com (mga06.intel.com [134.134.136.31])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3461C6E8DC;
 Fri, 28 Jun 2019 11:23:03 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from fmsmga002.fm.intel.com ([10.253.24.26])
 by orsmga104.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 28 Jun 2019 04:23:02 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.63,427,1557212400"; d="scan'208";a="189410709"
Received: from ramaling-i9x.iind.intel.com (HELO intel.com) ([10.99.66.154])
 by fmsmga002.fm.intel.com with ESMTP; 28 Jun 2019 04:22:58 -0700
Date: Fri, 28 Jun 2019 09:54:19 +0530
From: Ramalingam C <ramalingam.c@intel.com>
To: Stanislav Lisovskiy <stanislav.lisovskiy@intel.com>
Subject: Re: [PATCH v2 3/3] drm/i915: Send hotplug event if edid had changed.
Message-ID: <20190628042419.GD24852@intel.com>
References: <20190628082454.16345-1-stanislav.lisovskiy@intel.com>
 <20190628082454.16345-4-stanislav.lisovskiy@intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190628082454.16345-4-stanislav.lisovskiy@intel.com>
User-Agent: Mutt/1.10.1 (2018-07-13)
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: simon.ser@intel.com, daniel.vetter@ffwll.ch,
 intel-gfx@lists.freedesktop.org, martin.peres@intel.com,
 dri-devel@lists.freedesktop.org, paul.kocialkowski@bootlin.com,
 jani.saarinen@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gMjAxOS0wNi0yOCBhdCAxMToyNDo1NCArMDMwMCwgU3RhbmlzbGF2IExpc292c2tpeSB3cm90
ZToKPiBBZGRlZCBlZGlkIGNoZWNraW5nIHRvIGRwIGFuZCBoZG1pIGVkaWQgc2V0dGluZyBmdW5j
dGlvbnMsIHdoaWNoCj4gYXJlIGNhbGxlZCBmcm9tIGRldGVjdCBob29rcy4gVGhlIHJlc3VsdCBj
dXJyZW50bHkgaXMgcHJvcGFnYXRlZAo+IHRvIGNhbGxpbmcgbGF5ZXIgdXNpbmcgZHJtX2Nvbm5l
Y3Rvci0+Y2hhbmdlX2NvdW50ZXIocHJvcG9zZWQgYnkgRGFuaWVsIFZldHRlcikuCj4gZHJtX2hl
bHBlcl9ocGRfaXJxX2V2ZW50IGFuZCBpbnRlbF9lbmNvZGVyX2hvdHBsdWcgYXJlIGN1cnJlbnRs
eSBib3RoCj4gcmVzcG9uc2libGUgZm9yIGNoZWNraW5nIGlmIHRoaXMgY291bnRlciBvciBjb25u
ZWN0aW9uIHN0YXR1cyBpcyBjaGFuZ2VkLgo+IAo+IFRoZXJlIGFyZSBjb25mbGljdGluZyBwYXJ0
cyBpbiBkcm0gYW5kIGk5MTUgd2hpY2ggYXR0ZW1wdAo+IHRvIGRvIHRoZSBzYW1lIGpvYiAtIGRy
bV9oZWxwZXJfaHBkX2lycV9ldmVudCBhdHRlbXB0cyB0bwo+IGNoZWNrIGNvbm5lY3RvciBzdGF0
dXMgY2hhbmdlcyBhbmQgdGhlbiBjYWxsIGhvdHBsdWcsCj4ganVzdCBhcyBpOTE1X2hvdHBsdWdf
d29ya19mdW5jLCB3aGljaCBjYWxscyBlbmNvZGVyLT5ob3RwbHVnCj4gaG9vayB3aGljaCBpbiB0
dXJuIGNhbGxzIGdlbmVyaWMgaW50ZWxfZW5jb2Rlcl9ob3RwbHVnIGZ1bmN0aW9uCj4gd2hpY2gg
YXR0ZW1wdHMgdG8gcHJvYmUgaWYgb3V0cHV0IGhhcyBjaGFuZ2VkLgo+IExvb2tzIGxpa2UgYm90
aCBuZWVkcyB0byBiZSBjaGFuZ2VkLCBzbyBhZGRlZCBlZGlkIGNoZWNraW5nCj4gYWxzbyB0byBp
bnRlbF9lbmNvZGVyX2hvdHBsdWcgZnVuY3Rpb24gd2hpY2ggaXMgY2FsbGVkIGJvdGgKPiBmb3Ig
aGRtaSBhbmQgZHAuCj4gCj4gdjI6IFJlbmFtZWQgY2hhbmdlIGNvdW50ZXIgdG8gZXBvY2ggY291
bnRlci4gRml4ZWQgdHlwZSBuYW1lLgo+IAo+IEJ1Z3ppbGxhOiBodHRwczovL2J1Z3MuZnJlZWRl
c2t0b3Aub3JnL3Nob3dfYnVnLmNnaT9pZD0xMDU1NDAKPiBTaWduZWQtb2ZmLWJ5OiBTdGFuaXNs
YXYgTGlzb3Zza2l5IDxzdGFuaXNsYXYubGlzb3Zza2l5QGludGVsLmNvbT4KPiAtLS0KPiAgZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcC5jICAgICAgfCAxNiArKysrKysrKysr
KysrKystCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfaGRtaS5jICAgIHwg
MTYgKysrKysrKysrKysrKy0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVs
X2hvdHBsdWcuYyB8IDIwICsrKysrKysrKysrKysrKy0tLS0tCj4gIDMgZmlsZXMgY2hhbmdlZCwg
NDMgaW5zZXJ0aW9ucygrKSwgOSBkZWxldGlvbnMoLSkKPiAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9kcC5jCj4gaW5kZXggNDMzNmRmNDZmZTc4Li5jMmVkMDI0NzhjZjkgMTAw
NjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcC5jCj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcC5jCj4gQEAgLTU1MTAsMTAg
KzU1MTAsMjQgQEAgc3RhdGljIHZvaWQKPiAgaW50ZWxfZHBfc2V0X2VkaWQoc3RydWN0IGludGVs
X2RwICppbnRlbF9kcCkKPiAgewo+ICAJc3RydWN0IGludGVsX2Nvbm5lY3RvciAqaW50ZWxfY29u
bmVjdG9yID0gaW50ZWxfZHAtPmF0dGFjaGVkX2Nvbm5lY3RvcjsKPiArCXN0cnVjdCBkcm1fY29u
bmVjdG9yICpjb25uZWN0b3IgPSAmaW50ZWxfY29ubmVjdG9yLT5iYXNlOwo+ICAJc3RydWN0IGVk
aWQgKmVkaWQ7Cj4gKwlzdHJ1Y3QgZWRpZCAqb2xkX2VkaWQ7Cj4gIAo+IC0JaW50ZWxfZHBfdW5z
ZXRfZWRpZChpbnRlbF9kcCk7Cj4gIAllZGlkID0gaW50ZWxfZHBfZ2V0X2VkaWQoaW50ZWxfZHAp
Owo+ICsJb2xkX2VkaWQgPSBpbnRlbF9jb25uZWN0b3ItPmRldGVjdF9lZGlkOwo+ICsKPiArCWlm
ICghZHJtX2VkaWRfYXJlX2VxdWFsKGVkaWQsIG9sZF9lZGlkKSkgewo+ICsJCURSTV9ERUJVR19L
TVMoIltDT05ORUNUT1I6JWQ6JXNdIEVkaWQgd2FzIGNoYW5nZWQhIFVwZGF0aW5nIGJsb2IgcHJv
cGVydHkuXG4iLAo+ICsJCSAgICBjb25uZWN0b3ItPmJhc2UuaWQsIGNvbm5lY3Rvci0+bmFtZSk7
Cj4gKwo+ICsJCWNvbm5lY3Rvci0+ZXBvY2hfY291bnRlciArPSAxOwo+ICsJCURSTV9ERUJVR19L
TVMoIlVwZGF0aW5nIGNoYW5nZSBjb3VudGVyIHRvICVsbHVcbiIsIGNvbm5lY3Rvci0+ZXBvY2hf
Y291bnRlcik7Cj4gKwo+ICsJCWludGVsX2Nvbm5lY3Rvcl91cGRhdGVfbW9kZXMoJmludGVsX2Nv
bm5lY3Rvci0+YmFzZSwgZWRpZCk7Cj4gKwl9Cj4gKwo+ICsJaW50ZWxfZHBfdW5zZXRfZWRpZChp
bnRlbF9kcCk7Cj4gIAlpbnRlbF9jb25uZWN0b3ItPmRldGVjdF9lZGlkID0gZWRpZDsKPiAgCj4g
IAlpbnRlbF9kcC0+aGFzX2F1ZGlvID0gZHJtX2RldGVjdF9tb25pdG9yX2F1ZGlvKGVkaWQpOwo+
IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2hkbWkuYyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfaGRtaS5jCj4gaW5kZXggMGViZWM2
OWJiYmZjLi5mODkyYzdiNzk1Y2UgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9oZG1pLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2hkbWkuYwo+IEBAIC0yNTAzLDcgKzI1MDMsNyBAQCBpbnRlbF9oZG1pX3NldF9lZGlk
KHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCj4gIAlzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNvbm5lY3Rvci0+ZGV2KTsKPiAgCXN0cnVjdCBpbnRl
bF9oZG1pICppbnRlbF9oZG1pID0gaW50ZWxfYXR0YWNoZWRfaGRtaShjb25uZWN0b3IpOwo+ICAJ
aW50ZWxfd2FrZXJlZl90IHdha2VyZWY7Cj4gLQlzdHJ1Y3QgZWRpZCAqZWRpZDsKPiArCXN0cnVj
dCBlZGlkICplZGlkLCAqb2xkX2VkaWQ7Cj4gIAlib29sIGNvbm5lY3RlZCA9IGZhbHNlOwo+ICAJ
c3RydWN0IGkyY19hZGFwdGVyICppMmM7Cj4gIAo+IEBAIC0yNTI0LDExICsyNTI0LDIyIEBAIGlu
dGVsX2hkbWlfc2V0X2VkaWQoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvcikKPiAgCj4g
IAlpbnRlbF9kaXNwbGF5X3Bvd2VyX3B1dChkZXZfcHJpdiwgUE9XRVJfRE9NQUlOX0dNQlVTLCB3
YWtlcmVmKTsKPiAgCj4gKwlvbGRfZWRpZCA9IHRvX2ludGVsX2Nvbm5lY3Rvcihjb25uZWN0b3Ip
LT5kZXRlY3RfZWRpZDsKPiArCj4gKwlpZiAoIWRybV9lZGlkX2FyZV9lcXVhbChlZGlkLCBvbGRf
ZWRpZCkpIHsKPiArCQlpbnRlbF9jb25uZWN0b3JfdXBkYXRlX21vZGVzKGNvbm5lY3RvciwgZWRp
ZCk7Cj4gKwkJRFJNX0RFQlVHX0tNUygiVXBkYXRpbmcgY2hhbmdlIGNvdW50ZXIgdG8gJWxsdVxu
IiwgY29ubmVjdG9yLT5lcG9jaF9jb3VudGVyKTsKPiArCQljb25uZWN0b3ItPmVwb2NoX2NvdW50
ZXIgKz0gMTsKPiArCj4gKwkJRFJNX0RFQlVHX0tNUygiW0NPTk5FQ1RPUjolZDolc10gRWRpZCB3
YXMgY2hhbmdlZCEgVXBkYXRpbmcgYmxvYiBwcm9wZXJ0eS5cbiIsCj4gKwkJICAgIGNvbm5lY3Rv
ci0+YmFzZS5pZCwgY29ubmVjdG9yLT5uYW1lKTsKPiArCX0KPiArCWludGVsX2hkbWlfdW5zZXRf
ZWRpZChjb25uZWN0b3IpOwo+ICAJdG9faW50ZWxfY29ubmVjdG9yKGNvbm5lY3RvciktPmRldGVj
dF9lZGlkID0gZWRpZDsKPiArClRoaXMgYW5kIG5leHQgY2hhbmdlcyBhcmUgdW5yZWxhdGVkIHdp
dGggdGhpcyBjb21taXQuIE1pZ2h0IHdhbnQgdG8ga2VlcAppdCBmb3Igc2VwYXJhdGUgcGF0Y2gu
CgotUmFtCj4gIAlpZiAoZWRpZCAmJiBlZGlkLT5pbnB1dCAmIERSTV9FRElEX0lOUFVUX0RJR0lU
QUwpIHsKPiAgCQlpbnRlbF9oZG1pLT5oYXNfYXVkaW8gPSBkcm1fZGV0ZWN0X21vbml0b3JfYXVk
aW8oZWRpZCk7Cj4gIAkJaW50ZWxfaGRtaS0+aGFzX2hkbWlfc2luayA9IGRybV9kZXRlY3RfaGRt
aV9tb25pdG9yKGVkaWQpOwo+IC0KPiAgCQljb25uZWN0ZWQgPSB0cnVlOwo+ICAJfQo+ICAKPiBA
QCAtMjU1NSw3ICsyNTY2LDYgQEAgaW50ZWxfaGRtaV9kZXRlY3Qoc3RydWN0IGRybV9jb25uZWN0
b3IgKmNvbm5lY3RvciwgYm9vbCBmb3JjZSkKPiAgCSAgICAhaW50ZWxfZGlnaXRhbF9wb3J0X2Nv
bm5lY3RlZChlbmNvZGVyKSkKPiAgCQlnb3RvIG91dDsKPiAgCj4gLQlpbnRlbF9oZG1pX3Vuc2V0
X2VkaWQoY29ubmVjdG9yKTsKPiAgCj4gIAlpZiAoaW50ZWxfaGRtaV9zZXRfZWRpZChjb25uZWN0
b3IpKQo+ICAJCXN0YXR1cyA9IGNvbm5lY3Rvcl9zdGF0dXNfY29ubmVjdGVkOwo+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2hvdHBsdWcuYyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfaG90cGx1Zy5jCj4gaW5kZXggZWEzZGU0YWNj
ODUwLi5mOWQ5ZTk2MzE5NmEgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF9ob3RwbHVnLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2hvdHBsdWcuYwo+IEBAIC0yNzEsMjMgKzI3MSwzMyBAQCBib29sIGludGVsX2VuY29k
ZXJfaG90cGx1ZyhzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKPiAgewo+ICAJc3RydWN0
IGRybV9kZXZpY2UgKmRldiA9IGNvbm5lY3Rvci0+YmFzZS5kZXY7Cj4gIAllbnVtIGRybV9jb25u
ZWN0b3Jfc3RhdHVzIG9sZF9zdGF0dXM7Cj4gKwl1NjQgb2xkX2Vwb2NoX2NvdW50ZXI7Cj4gKwli
b29sIHJldCA9IGZhbHNlOwo+ICAKPiAgCVdBUk5fT04oIW11dGV4X2lzX2xvY2tlZCgmZGV2LT5t
b2RlX2NvbmZpZy5tdXRleCkpOwo+ICAJb2xkX3N0YXR1cyA9IGNvbm5lY3Rvci0+YmFzZS5zdGF0
dXM7Cj4gIAo+ICsJb2xkX2Vwb2NoX2NvdW50ZXIgPSBjb25uZWN0b3ItPmJhc2UuZXBvY2hfY291
bnRlcjsKPiArCj4gIAljb25uZWN0b3ItPmJhc2Uuc3RhdHVzID0KPiAgCQlkcm1faGVscGVyX3By
b2JlX2RldGVjdCgmY29ubmVjdG9yLT5iYXNlLCBOVUxMLCBmYWxzZSk7Cj4gIAo+IC0JaWYgKG9s
ZF9zdGF0dXMgPT0gY29ubmVjdG9yLT5iYXNlLnN0YXR1cykKPiAtCQlyZXR1cm4gZmFsc2U7Cj4g
KwlpZiAob2xkX2Vwb2NoX2NvdW50ZXIgIT0gY29ubmVjdG9yLT5iYXNlLmVwb2NoX2NvdW50ZXIp
Cj4gKwkJcmV0ID0gdHJ1ZTsKPiAgCj4gLQlEUk1fREVCVUdfS01TKCJbQ09OTkVDVE9SOiVkOiVz
XSBzdGF0dXMgdXBkYXRlZCBmcm9tICVzIHRvICVzXG4iLAo+ICsJaWYgKG9sZF9zdGF0dXMgIT0g
Y29ubmVjdG9yLT5iYXNlLnN0YXR1cykKPiArCQlyZXQgPSB0cnVlOwo+ICsKPiArCWlmIChyZXQp
IHsKPiArCQlEUk1fREVCVUdfS01TKCJbQ09OTkVDVE9SOiVkOiVzXSBzdGF0dXMgdXBkYXRlZCBm
cm9tICVzIHRvICVzKGNoYW5nZSBjb3VudGVyICVsbHUpXG4iLAo+ICAJCSAgICAgIGNvbm5lY3Rv
ci0+YmFzZS5iYXNlLmlkLAo+ICAJCSAgICAgIGNvbm5lY3Rvci0+YmFzZS5uYW1lLAo+ICAJCSAg
ICAgIGRybV9nZXRfY29ubmVjdG9yX3N0YXR1c19uYW1lKG9sZF9zdGF0dXMpLAo+IC0JCSAgICAg
IGRybV9nZXRfY29ubmVjdG9yX3N0YXR1c19uYW1lKGNvbm5lY3Rvci0+YmFzZS5zdGF0dXMpKTsK
PiArCQkgICAgICBkcm1fZ2V0X2Nvbm5lY3Rvcl9zdGF0dXNfbmFtZShjb25uZWN0b3ItPmJhc2Uu
c3RhdHVzKSwKPiArCQkgICAgICBjb25uZWN0b3ItPmJhc2UuZXBvY2hfY291bnRlcik7Cj4gKwl9
Cj4gIAo+IC0JcmV0dXJuIHRydWU7Cj4gKwlyZXR1cm4gcmV0Owo+ICB9Cj4gIAo+ICBzdGF0aWMg
Ym9vbCBpbnRlbF9lbmNvZGVyX2hhc19ocGRfcHVsc2Uoc3RydWN0IGludGVsX2VuY29kZXIgKmVu
Y29kZXIpCj4gLS0gCj4gMi4xNy4xCj4gCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZy
ZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3Rp
bmZvL2RyaS1kZXZlbA==
