Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id C6180FF918
	for <lists+dri-devel@lfdr.de>; Sun, 17 Nov 2019 12:45:59 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 99EF66E33E;
	Sun, 17 Nov 2019 11:44:42 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from bhuna.collabora.co.uk (bhuna.collabora.co.uk
 [IPv6:2a00:1098:0:82:1000:25:2eeb:e3e3])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8DDCD6E1F2
 for <dri-devel@lists.freedesktop.org>; Sun, 17 Nov 2019 02:41:51 +0000 (UTC)
Received: from [127.0.0.1] (localhost [127.0.0.1]) (Authenticated sender: sre)
 with ESMTPSA id 5F8B828F82E
Received: by earth.universe (Postfix, from userid 1000)
 id 1A2373C0CA5; Sun, 17 Nov 2019 03:41:40 +0100 (CET)
From: Sebastian Reichel <sebastian.reichel@collabora.com>
To: Sebastian Reichel <sre@kernel.org>,
 Laurent Pinchart <laurent.pinchart@ideasonboard.com>,
 Tomi Valkeinen <tomi.valkeinen@ti.com>
Subject: [RFCv1 25/42] drm/omap: dsi: drop custom enable_te() API
Date: Sun, 17 Nov 2019 03:40:11 +0100
Message-Id: <20191117024028.2233-26-sebastian.reichel@collabora.com>
X-Mailer: git-send-email 2.24.0
In-Reply-To: <20191117024028.2233-1-sebastian.reichel@collabora.com>
References: <20191117024028.2233-1-sebastian.reichel@collabora.com>
MIME-Version: 1.0
X-Mailman-Approved-At: Sun, 17 Nov 2019 11:44:18 +0000
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: kernel@collabora.com, Tony Lindgren <tony@atomide.com>,
 "H. Nikolaus Schaller" <hns@goldelico.com>, Merlijn Wajer <merlijn@wizzup.org>,
 Sebastian Reichel <sebastian.reichel@collabora.com>,
 dri-devel@lists.freedesktop.org, linux-omap@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SW5zdGVhZCBvZiB1c2luZyB0aGUgY3VzdG9uIGVuYWJsZV90ZSgpIEFQSSwgdGhpcyBhdXRvbWF0
aWNhbGx5CmVuYWJsZXMvZGlzYWJsZXMgVEUgY29yZSBzdXBwb3J0IHdoZW4gYSBtYXRjaGluZyBw
YWNrZXQgaXMgc2VuZAp0byB0aGUgcGFuZWwuCgpTaWduZWQtb2ZmLWJ5OiBTZWJhc3RpYW4gUmVp
Y2hlbCA8c2ViYXN0aWFuLnJlaWNoZWxAY29sbGFib3JhLmNvbT4KLS0tCiAuLi4vZ3B1L2RybS9v
bWFwZHJtL2Rpc3BsYXlzL3BhbmVsLWRzaS1jbS5jICAgfCAgMyAtLQogZHJpdmVycy9ncHUvZHJt
L29tYXBkcm0vZHNzL2RzaS5jICAgICAgICAgICAgIHwgMzMgKysrKysrKysrKysrKystLS0tLQog
ZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vZHNzL29tYXBkc3MuaCAgICAgICAgIHwgIDIgLS0KIDMg
ZmlsZXMgY2hhbmdlZCwgMjQgaW5zZXJ0aW9ucygrKSwgMTQgZGVsZXRpb25zKC0pCgpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vZGlzcGxheXMvcGFuZWwtZHNpLWNtLmMgYi9k
cml2ZXJzL2dwdS9kcm0vb21hcGRybS9kaXNwbGF5cy9wYW5lbC1kc2ktY20uYwppbmRleCA5YTI1
OWUwZDllOTcuLjc4N2Y5NTMxNjhlYyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL29tYXBk
cm0vZGlzcGxheXMvcGFuZWwtZHNpLWNtLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0v
ZGlzcGxheXMvcGFuZWwtZHNpLWNtLmMKQEAgLTc3Miw3ICs3NzIsNiBAQCBzdGF0aWMgaW50IGRz
aWNtX3VwZGF0ZShzdHJ1Y3Qgb21hcF9kc3NfZGV2aWNlICpkc3NkZXYsCiAKIHN0YXRpYyBpbnQg
X2RzaWNtX2VuYWJsZV90ZShzdHJ1Y3QgcGFuZWxfZHJ2X2RhdGEgKmRkYXRhLCBib29sIGVuYWJs
ZSkKIHsKLQlzdHJ1Y3Qgb21hcF9kc3NfZGV2aWNlICpzcmMgPSBkZGF0YS0+c3JjOwogCXN0cnVj
dCBtaXBpX2RzaV9kZXZpY2UgKmRzaSA9IGRkYXRhLT5kc2k7CiAJaW50IHI7CiAKQEAgLTc4MSw4
ICs3ODAsNiBAQCBzdGF0aWMgaW50IF9kc2ljbV9lbmFibGVfdGUoc3RydWN0IHBhbmVsX2Rydl9k
YXRhICpkZGF0YSwgYm9vbCBlbmFibGUpCiAJZWxzZQogCQlyID0gbWlwaV9kc2lfZGNzX3NldF90
ZWFyX29mZihkc2kpOwogCi0Jc3JjLT5vcHMtPmRzaS5lbmFibGVfdGUoc3JjLCBlbmFibGUpOwot
CiAJLyogcG9zc2libGUgcGFuZWwgYnVnICovCiAJbXNsZWVwKDEwMCk7CiAKZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL2Rzcy9kc2kuYyBiL2RyaXZlcnMvZ3B1L2RybS9vbWFw
ZHJtL2Rzcy9kc2kuYwppbmRleCA4ZjkwMGNmMWFlZDcuLjgwNjAwMDlmYmZiOSAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vZHNzL2RzaS5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9vbWFwZHJtL2Rzcy9kc2kuYwpAQCAtNDExNywxMCArNDExNyw4IEBAIHN0YXRpYyB2b2lkIGRz
aV9kaXNwbGF5X2Rpc2FibGUoc3RydWN0IG9tYXBfZHNzX2RldmljZSAqZHNzZGV2LAogCW11dGV4
X3VubG9jaygmZHNpLT5sb2NrKTsKIH0KIAotc3RhdGljIGludCBkc2lfZW5hYmxlX3RlKHN0cnVj
dCBvbWFwX2Rzc19kZXZpY2UgKmRzc2RldiwgYm9vbCBlbmFibGUpCitzdGF0aWMgaW50IGRzaV9l
bmFibGVfdGUoc3RydWN0IGRzaV9kYXRhICpkc2ksIGJvb2wgZW5hYmxlKQogewotCXN0cnVjdCBk
c2lfZGF0YSAqZHNpID0gdG9fZHNpX2RhdGEoZHNzZGV2KTsKLQogCWRzaS0+dGVfZW5hYmxlZCA9
IGVuYWJsZTsKIAogCWlmIChkc2ktPnRlX2dwaW8pIHsKQEAgLTQ3MzAsNiArNDcyOCw3IEBAIHN0
YXRpYyBzc2l6ZV90IG9tYXBfZHNpX2hvc3RfdHJhbnNmZXIoc3RydWN0IG1pcGlfZHNpX2hvc3Qg
Kmhvc3QsCiB7CiAJc3RydWN0IGRzaV9kYXRhICpkc2kgPSBob3N0X3RvX29tYXAoaG9zdCk7CiAJ
c3RydWN0IG9tYXBfZHNzX2RldmljZSAqZHNzZGV2ID0gJmRzaS0+b3V0cHV0OworCWludCByOwog
CiAJaWYgKE5FUVYobXNnLT5mbGFncyAmIE1JUElfRFNJX01TR19VU0VfTFBNLCBkc2ktPmluX2xw
X21vZGUpKSB7CiAJCWRzaV92Y19lbmFibGVfaHMoZHNzZGV2LCBtc2ctPmNoYW5uZWwsCkBAIC00
NzQ2LDE2ICs0NzQ1LDM0IEBAIHN0YXRpYyBzc2l6ZV90IG9tYXBfZHNpX2hvc3RfdHJhbnNmZXIo
c3RydWN0IG1pcGlfZHNpX2hvc3QgKmhvc3QsCiAJY2FzZSBNSVBJX0RTSV9EQ1NfTE9OR19XUklU
RToKIAljYXNlIE1JUElfRFNJX1NFVF9NQVhJTVVNX1JFVFVSTl9QQUNLRVRfU0laRToKIAljYXNl
IE1JUElfRFNJX05VTExfUEFDS0VUOgotCQlyZXR1cm4gZHNpX3ZjX3dyaXRlX2NvbW1vbihkc3Nk
ZXYsIG1zZyk7CisJCXIgPSBkc2lfdmNfd3JpdGVfY29tbW9uKGRzc2RldiwgbXNnKTsKKwkJYnJl
YWs7CiAJY2FzZSBNSVBJX0RTSV9HRU5FUklDX1JFQURfUkVRVUVTVF8wX1BBUkFNOgogCWNhc2Ug
TUlQSV9EU0lfR0VORVJJQ19SRUFEX1JFUVVFU1RfMV9QQVJBTToKIAljYXNlIE1JUElfRFNJX0dF
TkVSSUNfUkVBRF9SRVFVRVNUXzJfUEFSQU06Ci0JCXJldHVybiBkc2lfdmNfZ2VuZXJpY19yZWFk
KGRzc2RldiwgbXNnKTsKKwkJciA9IGRzaV92Y19nZW5lcmljX3JlYWQoZHNzZGV2LCBtc2cpOwor
CQlicmVhazsKIAljYXNlIE1JUElfRFNJX0RDU19SRUFEOgotCQlyZXR1cm4gZHNpX3ZjX2Rjc19y
ZWFkKGRzc2RldiwgbXNnKTsKKwkJciA9IGRzaV92Y19kY3NfcmVhZChkc3NkZXYsIG1zZyk7CisJ
CWJyZWFrOworCWRlZmF1bHQ6CisJCXIgPSAtRUlOVkFMOworCQlicmVhazsKIAl9CiAKLQlyZXR1
cm4gLUVJTlZBTDsKKwlpZiAociA8IDApCisJCXJldHVybiByOworCisJaWYgKG1zZy0+dHlwZSA9
PSBNSVBJX0RTSV9EQ1NfU0hPUlRfV1JJVEUgfHwKKwkgICAgbXNnLT50eXBlID09IE1JUElfRFNJ
X0RDU19TSE9SVF9XUklURV9QQVJBTSkgeworCQl1OCBjbWQgPSAoKHU4KikgbXNnLT50eF9idWYp
WzBdOworCQlpZiAoY21kID09IE1JUElfRENTX1NFVF9URUFSX09GRikKKwkJCWRzaV9lbmFibGVf
dGUoZHNpLCBmYWxzZSk7CisJCWVsc2UgaWYoY21kID09IE1JUElfRENTX1NFVF9URUFSX09OKQor
CQkJZHNpX2VuYWJsZV90ZShkc2ksIHRydWUpOworCX0KKworCXJldHVybiAwOwogfQogCiBzdGF0
aWMgaW50IGRzaV9nZXRfY2xvY2tzKHN0cnVjdCBkc2lfZGF0YSAqZHNpKQpAQCAtNDgwMiw4ICs0
ODE5LDYgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBvbWFwX2Rzc19kZXZpY2Vfb3BzIGRzaV9vcHMg
PSB7CiAJCS5kaXNhYmxlX3ZpZGVvX291dHB1dCA9IGRzaV9kaXNhYmxlX3ZpZGVvX291dHB1dCwK
IAogCQkudXBkYXRlID0gZHNpX3VwZGF0ZSwKLQotCQkuZW5hYmxlX3RlID0gZHNpX2VuYWJsZV90
ZSwKIAl9LAogfTsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vZHNzL29t
YXBkc3MuaCBiL2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL2Rzcy9vbWFwZHNzLmgKaW5kZXggNWJj
YzE0ZDlmNzM3Li5jYTUyYjA4YzU3ZGIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9vbWFw
ZHJtL2Rzcy9vbWFwZHNzLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL29tYXBkcm0vZHNzL29tYXBk
c3MuaApAQCAtMjk0LDggKzI5NCw2IEBAIHN0cnVjdCBvbWFwZHNzX2RzaV9vcHMgewogCWludCAo
KnNldF9jb25maWcpKHN0cnVjdCBvbWFwX2Rzc19kZXZpY2UgKmRzc2RldiwKIAkJCWNvbnN0IHN0
cnVjdCBvbWFwX2Rzc19kc2lfY29uZmlnICpjZmcpOwogCi0JaW50ICgqZW5hYmxlX3RlKShzdHJ1
Y3Qgb21hcF9kc3NfZGV2aWNlICpkc3NkZXYsIGJvb2wgZW5hYmxlKTsKLQogCWludCAoKnVwZGF0
ZSkoc3RydWN0IG9tYXBfZHNzX2RldmljZSAqZHNzZGV2LCBpbnQgY2hhbm5lbCwKIAkJCXZvaWQg
KCpjYWxsYmFjaykoaW50LCB2b2lkICopLCB2b2lkICpkYXRhKTsKIAotLSAKMi4yNC4wCgpfX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFp
bGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5m
cmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
