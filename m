Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 44634874E1
	for <lists+dri-devel@lfdr.de>; Fri,  9 Aug 2019 11:10:06 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7F08F6ED3B;
	Fri,  9 Aug 2019 09:10:03 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from metis.ext.pengutronix.de (metis.ext.pengutronix.de
 [IPv6:2001:67c:670:201:290:27ff:fe1d:cc33])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7A09B6ED3B
 for <dri-devel@lists.freedesktop.org>; Fri,  9 Aug 2019 09:10:01 +0000 (UTC)
Received: from kresse.hi.pengutronix.de ([2001:67c:670:100:1d::2a])
 by metis.ext.pengutronix.de with esmtp (Exim 4.92)
 (envelope-from <l.stach@pengutronix.de>)
 id 1hw0uN-0001Dt-F4; Fri, 09 Aug 2019 11:09:59 +0200
Message-ID: <1565341798.2323.58.camel@pengutronix.de>
Subject: Re: [PATCH] drm/etnaviv: dump only failing submit
From: Lucas Stach <l.stach@pengutronix.de>
To: etnaviv@lists.freedesktop.org
Date: Fri, 09 Aug 2019 11:09:58 +0200
In-Reply-To: <20190702141830.13580-1-l.stach@pengutronix.de>
References: <20190702141830.13580-1-l.stach@pengutronix.de>
X-Mailer: Evolution 3.22.6-1+deb9u2 
Mime-Version: 1.0
X-SA-Exim-Connect-IP: 2001:67c:670:100:1d::2a
X-SA-Exim-Mail-From: l.stach@pengutronix.de
X-SA-Exim-Scanned: No (on metis.ext.pengutronix.de);
 SAEximRunCond expanded to false
X-PTX-Original-Recipient: dri-devel@lists.freedesktop.org
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Russell King <linux+etnaviv@armlinux.org.uk>,
 dri-devel@lists.freedesktop.org, kernel@pengutronix.de,
 patchwork-lst@pengutronix.de
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QW0gRGllbnN0YWcsIGRlbiAwMi4wNy4yMDE5LCAxNjoxOCArMDIwMCBzY2hyaWViIEx1Y2FzIFN0
YWNoOgo+IER1ZSB0byB0aGUgdHJhY2tpbmcgcHJvdmlkZWQgYnkgdGhlIHNjaGVkdWxlciB3ZSBr
bm93IGV4YWN0bHkgd2hpY2gKPiBzdWJtaXQgaXMgZmFpbGluZy4gT25seSBkdW1wIHRoaXMgc2lu
Z2xlIHN1Ym1pdCBhbmQgdGhlIHJlcXVpcmVkCj4gYXV4aWxpYXJ5IGluZm9ybWF0aW9uLiBUaGlz
IGN1dHMgZG93biB0aGUgc2l6ZSBvZiB0aGUgZGV2Y29yZWR1bXBzCj4gYnkgb25seSBpbmNsdWRp
bmcgcmVsZXZhbnQgaW5mb3JtYXRpb24uCj4gCj4gU2lnbmVkLW9mZi1ieTogTHVjYXMgU3RhY2gg
PGwuc3RhY2hAcGVuZ3V0cm9uaXguZGU+CgpBbnlvbmUgdXAgZm9yIHJldmlld2luZyB0aGlzIG9u
ZT8KClJlZ2FyZHMsCkx1Y2FzCgo+IC0tLQo+IMKgZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYvZXRu
YXZpdl9kdW1wLmPCoMKgfCA1NyArKysrKysrKystLS0tLS0tLS0tLS0tLS0tCj4gwqBkcml2ZXJz
L2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X2R1bXAuaMKgwqB8wqDCoDQgKy0KPiDCoGRyaXZlcnMv
Z3B1L2RybS9ldG5hdml2L2V0bmF2aXZfc2NoZWQuYyB8wqDCoDIgKy0KPiDCoDMgZmlsZXMgY2hh
bmdlZCwgMjIgaW5zZXJ0aW9ucygrKSwgNDEgZGVsZXRpb25zKC0pCj4gCj4gZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9ldG5hdml2L2V0bmF2aXZfZHVtcC5jIGIvZHJpdmVycy9ncHUvZHJt
L2V0bmF2aXYvZXRuYXZpdl9kdW1wLmMKPiBpbmRleCA1MTU1MTVlZjI0ZjkuLmJhYjA5YmFlMzVk
MCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X2R1bXAuYwo+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9ldG5hdml2L2V0bmF2aXZfZHVtcC5jCj4gQEAgLTkxLDkg
KzkxLDkgQEAgc3RhdGljIHZvaWQgZXRuYXZpdl9jb3JlX2R1bXBfcmVnaXN0ZXJzKHN0cnVjdCBj
b3JlX2R1bXBfaXRlcmF0b3IgKml0ZXIsCj4gwqB9Cj4gwqAKPiDCoHN0YXRpYyB2b2lkIGV0bmF2
aXZfY29yZV9kdW1wX21tdShzdHJ1Y3QgY29yZV9kdW1wX2l0ZXJhdG9yICppdGVyLAo+ID4gLQlz
dHJ1Y3QgZXRuYXZpdl9ncHUgKmdwdSwgc2l6ZV90IG1tdV9zaXplKQo+ID4gKwlzdHJ1Y3QgZXRu
YXZpdl9pb21tdSAqbW11LCBzaXplX3QgbW11X3NpemUpCj4gwqB7Cj4gPiAtCWV0bmF2aXZfaW9t
bXVfZHVtcChncHUtPm1tdSwgaXRlci0+ZGF0YSk7Cj4gPiArCWV0bmF2aXZfaW9tbXVfZHVtcCht
bXUsIGl0ZXItPmRhdGEpOwo+IMKgCj4gPiDCoAlldG5hdml2X2NvcmVfZHVtcF9oZWFkZXIoaXRl
ciwgRVREVU1QX0JVRl9NTVUsIGl0ZXItPmRhdGEgKyBtbXVfc2l6ZSk7Cj4gwqB9Cj4gQEAgLTEw
OCwxNyArMTA4LDE1IEBAIHN0YXRpYyB2b2lkIGV0bmF2aXZfY29yZV9kdW1wX21lbShzdHJ1Y3Qg
Y29yZV9kdW1wX2l0ZXJhdG9yICppdGVyLCB1MzIgdHlwZSwKPiA+IMKgCWV0bmF2aXZfY29yZV9k
dW1wX2hlYWRlcihpdGVyLCB0eXBlLCBpdGVyLT5kYXRhICsgc2l6ZSk7Cj4gwqB9Cj4gwqAKPiAt
dm9pZCBldG5hdml2X2NvcmVfZHVtcChzdHJ1Y3QgZXRuYXZpdl9ncHUgKmdwdSkKPiArdm9pZCBl
dG5hdml2X2NvcmVfZHVtcChzdHJ1Y3QgZXRuYXZpdl9nZW1fc3VibWl0ICpzdWJtaXQpCj4gwqB7
Cj4gPiArCXN0cnVjdCBldG5hdml2X2dwdSAqZ3B1ID0gc3VibWl0LT5ncHU7Cj4gPiDCoAlzdHJ1
Y3QgY29yZV9kdW1wX2l0ZXJhdG9yIGl0ZXI7Cj4gPiAtCXN0cnVjdCBldG5hdml2X3ZyYW1fbWFw
cGluZyAqdnJhbTsKPiA+IMKgCXN0cnVjdCBldG5hdml2X2dlbV9vYmplY3QgKm9iajsKPiA+IC0J
c3RydWN0IGV0bmF2aXZfZ2VtX3N1Ym1pdCAqc3VibWl0Owo+ID4gLQlzdHJ1Y3QgZHJtX3NjaGVk
X2pvYiAqc19qb2I7Cj4gPiDCoAl1bnNpZ25lZCBpbnQgbl9vYmosIG5fYm9tYXBfcGFnZXM7Cj4g
PiDCoAlzaXplX3QgZmlsZV9zaXplLCBtbXVfc2l6ZTsKPiA+IMKgCV9fbGU2NCAqYm9tYXAsICpi
b21hcF9zdGFydDsKPiA+IC0JdW5zaWduZWQgbG9uZyBmbGFnczsKPiA+ICsJaW50IGk7Cj4gwqAK
PiA+IMKgCS8qIE9ubHkgY2F0Y2ggdGhlIGZpcnN0IGV2ZW50LCBvciB3aGVuIG1hbnVhbGx5IHJl
LWFybWVkICovCj4gPiDCoAlpZiAoIWV0bmF2aXZfZHVtcF9jb3JlKQo+IEBAIC0xMjksMjggKzEy
NywxNiBAQCB2b2lkIGV0bmF2aXZfY29yZV9kdW1wKHN0cnVjdCBldG5hdml2X2dwdSAqZ3B1KQo+
IMKgCj4gPiDCoAltbXVfc2l6ZSA9IGV0bmF2aXZfaW9tbXVfZHVtcF9zaXplKGdwdS0+bW11KTsK
PiDCoAo+ID4gLQkvKiBXZSBhbHdheXMgZHVtcCByZWdpc3RlcnMsIG1tdSwgcmluZyBhbmQgZW5k
IG1hcmtlciAqLwo+ID4gLQluX29iaiA9IDQ7Cj4gPiArCS8qIFdlIGFsd2F5cyBkdW1wIHJlZ2lz
dGVycywgbW11LCByaW5nLCBoYW5naW5nIGNtZGJ1ZiBhbmQgZW5kIG1hcmtlciAqLwo+ID4gKwlu
X29iaiA9IDU7Cj4gPiDCoAluX2JvbWFwX3BhZ2VzID0gMDsKPiA+IMKgCWZpbGVfc2l6ZSA9IEFS
UkFZX1NJWkUoZXRuYXZpdl9kdW1wX3JlZ2lzdGVycykgKgo+ID4gwqAJCQlzaXplb2Yoc3RydWN0
IGV0bmF2aXZfZHVtcF9yZWdpc3RlcnMpICsKPiA+IC0JCcKgwqDCoMKgbW11X3NpemUgKyBncHUt
PmJ1ZmZlci5zaXplOwo+IC0KPiA+IC0JLyogQWRkIGluIHRoZSBhY3RpdmUgY29tbWFuZCBidWZm
ZXJzICovCj4gPiAtCXNwaW5fbG9ja19pcnFzYXZlKCZncHUtPnNjaGVkLmpvYl9saXN0X2xvY2ss
IGZsYWdzKTsKPiA+IC0JbGlzdF9mb3JfZWFjaF9lbnRyeShzX2pvYiwgJmdwdS0+c2NoZWQucmlu
Z19taXJyb3JfbGlzdCwgbm9kZSkgewo+ID4gLQkJc3VibWl0ID0gdG9fZXRuYXZpdl9zdWJtaXQo
c19qb2IpOwo+ID4gLQkJZmlsZV9zaXplICs9IHN1Ym1pdC0+Y21kYnVmLnNpemU7Cj4gPiAtCQlu
X29iaisrOwo+ID4gLQl9Cj4gPiAtCXNwaW5fdW5sb2NrX2lycXJlc3RvcmUoJmdwdS0+c2NoZWQu
am9iX2xpc3RfbG9jaywgZmxhZ3MpOwo+ID4gKwkJwqDCoMKgwqBtbXVfc2l6ZSArIGdwdS0+YnVm
ZmVyLnNpemUgKyBzdWJtaXQtPmNtZGJ1Zi5zaXplOwo+IMKgCj4gPiDCoAkvKiBBZGQgaW4gdGhl
IGFjdGl2ZSBidWZmZXIgb2JqZWN0cyAqLwo+ID4gLQlsaXN0X2Zvcl9lYWNoX2VudHJ5KHZyYW0s
ICZncHUtPm1tdS0+bWFwcGluZ3MsIG1tdV9ub2RlKSB7Cj4gPiAtCQlpZiAoIXZyYW0tPnVzZSkK
PiA+IC0JCQljb250aW51ZTsKPiAtCj4gPiAtCQlvYmogPSB2cmFtLT5vYmplY3Q7Cj4gPiArCWZv
ciAoaSA9IDA7IGkgPCBzdWJtaXQtPm5yX2JvczsgaSsrKSB7Cj4gPiArCQlvYmogPSBzdWJtaXQt
PmJvc1tpXS5vYmo7Cj4gPiDCoAkJZmlsZV9zaXplICs9IG9iai0+YmFzZS5zaXplOwo+ID4gwqAJ
CW5fYm9tYXBfcGFnZXMgKz0gb2JqLT5iYXNlLnNpemUgPj4gUEFHRV9TSElGVDsKPiA+IMKgCQlu
X29iaisrOwo+IEBAIC0xODEsMTkgKzE2NywxNSBAQCB2b2lkIGV0bmF2aXZfY29yZV9kdW1wKHN0
cnVjdCBldG5hdml2X2dwdSAqZ3B1KQo+ID4gwqAJbWVtc2V0KGl0ZXIuaGRyLCAwLCBpdGVyLmRh
dGEgLSBpdGVyLnN0YXJ0KTsKPiDCoAo+ID4gwqAJZXRuYXZpdl9jb3JlX2R1bXBfcmVnaXN0ZXJz
KCZpdGVyLCBncHUpOwo+ID4gLQlldG5hdml2X2NvcmVfZHVtcF9tbXUoJml0ZXIsIGdwdSwgbW11
X3NpemUpOwo+ID4gKwlldG5hdml2X2NvcmVfZHVtcF9tbXUoJml0ZXIsIGdwdS0+bW11LCBtbXVf
c2l6ZSk7Cj4gKwo+ID4gwqAJZXRuYXZpdl9jb3JlX2R1bXBfbWVtKCZpdGVyLCBFVERVTVBfQlVG
X1JJTkcsIGdwdS0+YnVmZmVyLnZhZGRyLAo+ID4gwqAJCQnCoMKgwqDCoMKgwqBncHUtPmJ1ZmZl
ci5zaXplLAo+ID4gwqAJCQnCoMKgwqDCoMKgwqBldG5hdml2X2NtZGJ1Zl9nZXRfdmEoJmdwdS0+
YnVmZmVyKSk7Cj4gwqAKPiA+IC0Jc3Bpbl9sb2NrX2lycXNhdmUoJmdwdS0+c2NoZWQuam9iX2xp
c3RfbG9jaywgZmxhZ3MpOwo+ID4gLQlsaXN0X2Zvcl9lYWNoX2VudHJ5KHNfam9iLCAmZ3B1LT5z
Y2hlZC5yaW5nX21pcnJvcl9saXN0LCBub2RlKSB7Cj4gPiAtCQlzdWJtaXQgPSB0b19ldG5hdml2
X3N1Ym1pdChzX2pvYik7Cj4gPiAtCQlldG5hdml2X2NvcmVfZHVtcF9tZW0oJml0ZXIsIEVURFVN
UF9CVUZfQ01ELAo+ID4gLQkJCQnCoMKgwqDCoMKgwqBzdWJtaXQtPmNtZGJ1Zi52YWRkciwgc3Vi
bWl0LT5jbWRidWYuc2l6ZSwKPiA+IC0JCQkJwqDCoMKgwqDCoMKgZXRuYXZpdl9jbWRidWZfZ2V0
X3ZhKCZzdWJtaXQtPmNtZGJ1ZikpOwo+ID4gLQl9Cj4gPiAtCXNwaW5fdW5sb2NrX2lycXJlc3Rv
cmUoJmdwdS0+c2NoZWQuam9iX2xpc3RfbG9jaywgZmxhZ3MpOwo+ID4gKwlldG5hdml2X2NvcmVf
ZHVtcF9tZW0oJml0ZXIsIEVURFVNUF9CVUZfQ01ELAo+ID4gKwkJCcKgwqDCoMKgwqDCoHN1Ym1p
dC0+Y21kYnVmLnZhZGRyLCBzdWJtaXQtPmNtZGJ1Zi5zaXplLAo+ID4gKwkJCcKgwqDCoMKgwqDC
oGV0bmF2aXZfY21kYnVmX2dldF92YSgmc3VibWl0LT5jbWRidWYpKTsKPiDCoAo+ID4gwqAJLyog
UmVzZXJ2ZSBzcGFjZSBmb3IgdGhlIGJvbWFwICovCj4gPiDCoAlpZiAobl9ib21hcF9wYWdlcykg
ewo+IEBAIC0yMDYsMTQgKzE4OCwxMyBAQCB2b2lkIGV0bmF2aXZfY29yZV9kdW1wKHN0cnVjdCBl
dG5hdml2X2dwdSAqZ3B1KQo+ID4gwqAJCWJvbWFwX3N0YXJ0ID0gYm9tYXAgPSBOVUxMOwo+ID4g
wqAJfQo+IMKgCj4gPiAtCWxpc3RfZm9yX2VhY2hfZW50cnkodnJhbSwgJmdwdS0+bW11LT5tYXBw
aW5ncywgbW11X25vZGUpIHsKPiA+ICsJZm9yIChpID0gMDsgaSA8IHN1Ym1pdC0+bnJfYm9zOyBp
KyspIHsKPiA+ICsJCXN0cnVjdCBldG5hdml2X3ZyYW1fbWFwcGluZyAqdnJhbTsKPiA+IMKgCQlz
dHJ1Y3QgcGFnZSAqKnBhZ2VzOwo+ID4gwqAJCXZvaWQgKnZhZGRyOwo+IMKgCj4gPiAtCQlpZiAo
dnJhbS0+dXNlID09IDApCj4gPiAtCQkJY29udGludWU7Cj4gLQo+ID4gLQkJb2JqID0gdnJhbS0+
b2JqZWN0Owo+ID4gKwkJb2JqID0gc3VibWl0LT5ib3NbaV0ub2JqOwo+ID4gKwkJdnJhbSA9IHN1
Ym1pdC0+Ym9zW2ldLm1hcHBpbmc7Cj4gwqAKPiA+IMKgCQltdXRleF9sb2NrKCZvYmotPmxvY2sp
Owo+ID4gwqAJCXBhZ2VzID0gZXRuYXZpdl9nZW1fZ2V0X3BhZ2VzKG9iaik7Cj4gZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9ldG5hdml2L2V0bmF2aXZfZHVtcC5oIGIvZHJpdmVycy9ncHUv
ZHJtL2V0bmF2aXYvZXRuYXZpdl9kdW1wLmgKPiBpbmRleCAyZDkxNmMyNjY3ZWUuLmExMjVjNDZi
ODk1YiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X2R1bXAu
aAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9ldG5hdml2L2V0bmF2aXZfZHVtcC5oCj4gQEAgLTM1
LDggKzM1LDggQEAgc3RydWN0IGV0bmF2aXZfZHVtcF9yZWdpc3RlcnMgewo+IMKgfTsKPiDCoAo+
IMKgI2lmZGVmIF9fS0VSTkVMX18KPiAtc3RydWN0IGV0bmF2aXZfZ3B1Owo+IC12b2lkIGV0bmF2
aXZfY29yZV9kdW1wKHN0cnVjdCBldG5hdml2X2dwdSAqZ3B1KTsKPiArc3RydWN0IGV0bmF2aXZf
Z2VtX3N1Ym1pdDsKPiArdm9pZCBldG5hdml2X2NvcmVfZHVtcChzdHJ1Y3QgZXRuYXZpdl9nZW1f
c3VibWl0ICpzdWJtaXQpOwo+IMKgI2VuZGlmCj4gwqAKPiDCoCNlbmRpZgo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X3NjaGVkLmMgYi9kcml2ZXJzL2dwdS9k
cm0vZXRuYXZpdi9ldG5hdml2X3NjaGVkLmMKPiBpbmRleCA2ZDI0ZmVhMTc2NmIuLmIyZTBhMzRi
Yjc5NiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X3NjaGVk
LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X3NjaGVkLmMKPiBAQCAt
MTE1LDcgKzExNSw3IEBAIHN0YXRpYyB2b2lkIGV0bmF2aXZfc2NoZWRfdGltZWRvdXRfam9iKHN0
cnVjdCBkcm1fc2NoZWRfam9iICpzY2hlZF9qb2IpCj4gPiDCoAkJZHJtX3NjaGVkX2luY3JlYXNl
X2thcm1hKHNjaGVkX2pvYik7Cj4gwqAKPiA+IMKgCS8qIGdldCB0aGUgR1BVIGJhY2sgaW50byB0
aGUgaW5pdCBzdGF0ZSAqLwo+ID4gLQlldG5hdml2X2NvcmVfZHVtcChncHUpOwo+ID4gKwlldG5h
dml2X2NvcmVfZHVtcChzdWJtaXQpOwo+ID4gwqAJZXRuYXZpdl9ncHVfcmVjb3Zlcl9oYW5nKGdw
dSk7Cj4gwqAKPiA+IMKgCWRybV9zY2hlZF9yZXN1Ym1pdF9qb2JzKCZncHUtPnNjaGVkKTsKX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1h
aWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
