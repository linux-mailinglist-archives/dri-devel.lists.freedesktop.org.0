Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 9885E1993B
	for <lists+dri-devel@lfdr.de>; Fri, 10 May 2019 09:56:16 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AF9BE8981B;
	Fri, 10 May 2019 07:56:13 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-it1-x141.google.com (mail-it1-x141.google.com
 [IPv6:2607:f8b0:4864:20::141])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C05A58981B
 for <dri-devel@lists.freedesktop.org>; Fri, 10 May 2019 07:56:11 +0000 (UTC)
Received: by mail-it1-x141.google.com with SMTP id l7so7732686ite.2
 for <dri-devel@lists.freedesktop.org>; Fri, 10 May 2019 00:56:11 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=h5C25GXFOQ0MktKBQ/UWs9SfkupLy36UGvJKAwbW33c=;
 b=DlBZ4QQk6HYHMwNsZ5aBKFPg0HdwGlNyqOx9G40h5YKJoJ/gda59iRqhoA5cSCSCTj
 jcpjIv7Qbd3YUhgxUMQuA9xeRsqSAGCTfeLRx0KN91YzlwfWwhkAV+1KYsKKrDRpd55w
 iZmoxZNXI3AptF4YqeuuO8zl8d4HPpVgT/QC0BPeGkM2pzHRXoIXP5w/IutjgEchJuT0
 Y0zMlPkQjnSu/jGgPXl/L/fjg9kSsCP7YQ+TbMZQMFJ87eOGyvJlLTy+Zs21uuZK++0+
 0fwIBGZB+UsQJ3EXSryc3eDVB9Q+Hplr/8jzxENvSaDX56POU5l0NX0ALTuu2UTKpIk0
 emUw==
X-Gm-Message-State: APjAAAUnA1PIaLci+UfwF01bwPg11LeVehGrzFnVRQFmHlDFlkLyVWXu
 NCGMJRqZGH1DQ9+QuabRZTFMnApJQF1a3Cb6sTSwmg==
X-Google-Smtp-Source: APXvYqzeeMzFelMxS4uyfw8hF9mx52a3Q+iKjwVPImzLo0iAQraWk6WvOs62zPHMWUMzdQ8aQWaUqEq1fuHf92DtUko=
X-Received: by 2002:a05:660c:4d0:: with SMTP id
 v16mr6954555itk.62.1557474971102; 
 Fri, 10 May 2019 00:56:11 -0700 (PDT)
MIME-Version: 1.0
References: <20190506175123.16445-1-imre.deak@intel.com>
 <20190508082442.7800-1-imre.deak@intel.com>
 <0a6aa43b2bc6db4e6b6f0fa3b31749cd62764160.camel@bootlin.com>
 <20190509120845.GC11264@ideak-desk.fi.intel.com>
 <856d50c4dfb80a98d73ed93bc0edf7ef8cc008d0.camel@bootlin.com>
 <274ecc5762db9314ef39fb2d9cec852b652b902c.camel@redhat.com>
 <419d16c1869b4f63e79fa9cf0f14dd32aa0db502.camel@intel.com>
 <6c87fea83175c1790a32c55d128d751eb43185a6.camel@bootlin.com>
In-Reply-To: <6c87fea83175c1790a32c55d128d751eb43185a6.camel@bootlin.com>
From: Daniel Vetter <daniel.vetter@ffwll.ch>
Date: Fri, 10 May 2019 09:56:00 +0200
Message-ID: <CAKMK7uHAWEptEHAbAAS3FX2UHnyc5Dmix2J9fDU8uYVLYOz4Tw@mail.gmail.com>
Subject: Re: Improving DRM connector hotplug uevents
To: Paul Kocialkowski <paul.kocialkowski@bootlin.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=h5C25GXFOQ0MktKBQ/UWs9SfkupLy36UGvJKAwbW33c=;
 b=EbNvw2TGRUNZZT5RqPGSAZOruMrAhWf3hXf7+AN1bt4DhG0rRP0u1/sFm7t+J0zG+A
 aOvlkT0nkw4verfNnVir9MuENu4CoICgD0FnKcQ7uWcPIbtFcC7SRO1dpCH3HfsMJlcI
 aJ8qhOwplUtkZ+icFzp6vbliJEWRbeetd9TnM=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: "igt-dev@lists.freedesktop.org" <igt-dev@lists.freedesktop.org>,
 Maxime Ripard <maxime.ripard@bootlin.com>,
 dri-devel <dri-devel@lists.freedesktop.org>, "Ser,
 Simon" <simon.ser@intel.com>, David Airlie <airlied@linux.ie>,
 Thomas Petazzoni <thomas.petazzoni@bootlin.com>, Sean Paul <sean@poorly.run>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gRnJpLCBNYXkgMTAsIDIwMTkgYXQgOTo0MiBBTSBQYXVsIEtvY2lhbGtvd3NraQo8cGF1bC5r
b2NpYWxrb3dza2lAYm9vdGxpbi5jb20+IHdyb3RlOgo+Cj4gSGksCj4KPiBTbyB0aGlzIHRocmVh
ZCBoYXMgZHJpZnRlZCBvZmYgZnJvbSBJR1QgdG8gYSBnZW5lcmFsIERSTSBpbXByb3ZlbWVudCwK
PiBzbyByZW5hbWluZyB0aGUgdGhyZWFkIGFuZCBhZGRpbmcgc29tZSBDQ3MuCj4KPiBJdCdzIGFi
b3V0IGF2b2lkaW5nIGZ1bGwgcmVwcm9iZXMgKHdoaWNoIG1heSBpbmNsdWRlIHNsb3cgRURJRCBy
ZWFkcywKPiBldGMpIHdoZW4gYSBjb25uZWN0b3IgY2hhbmdlIHdhcyBkZXRlY3RlZCwgYnkgcHJv
dmlkaW5nIGluZm9ybWF0aW9uCj4gYWJvdXQgdGhlIGNvbm5lY3RvciBhbmQgdGhlIG5ldyBzdGF0
ZSB0byB1c2Vyc3BhY2UuIFRoaXMgd2F5LCB1c2Vyc3BhY2UKPiBjYW4gcmVwcm9iZSB0aGUgY2hh
bmdlZCBjb25uZWN0b3IgYWxvbmUgKG9yIG5vdCByZXByb2JlIGF0IGFsbCBpbiBjYXNlCj4gb2Yg
YSBkaXNjb25uZWN0KS4KPgo+IEl0IGZlZWxzIGxpa2UgdGhlcmUgaXMgZ3Jvd2luZyB0ZW1wdGF0
aW9uIHRvIGhhdmUgcGVyLWRyaXZlciBoYWNrcyB0bwo+IGF2b2lkIGZ1bGwgcmVwcm9iZXMgd2hl
biB0aGUgZHJpdmVyIGtub3dzIHRoYXQgbm90aGluZyBjaGFuZ2VkLCBidXQgSQo+IHRoaW5rIGl0
IG1ha2VzIG1vcmUgc2Vuc2UgdG8gZml4dXAgdGhlIHVldmVudCB3ZSBzZW5kIHRvIG1ha2Ugc3Vy
ZSB0aGF0Cj4gdXNlcnNwYWNlIGtub3dzIHdoYXQgdG8gcHJvYmUgZXhhY3RseS4KPgo+IE9uIEZy
aSwgMjAxOS0wNS0xMCBhdCAwNjo1NSArMDAwMCwgU2VyLCBTaW1vbiB3cm90ZToKPiA+IE9uIFRo
dSwgMjAxOS0wNS0wOSBhdCAxMTo1NiAtMDQwMCwgTHl1ZGUgUGF1bCB3cm90ZToKPiA+ID4gSSdt
IGluIHN1cHBvcnQgb2YgdGhpcyBhcyB3ZWxsLCB3ZSByZWFsbHkgY291bGQgdXNlIGJldHRlciBo
b3RwbHVnIGV2ZW50cy4KPiA+ID4gRmVlbCBmcmVlIHRvIGNjIHBhdGNoZXMgdG8gbWUgZm9yIHJl
dmlldyA6KQo+ID4KPiA+IEFueSBpZGVhKHMpIGhvdyB0aGUgQVBJIHdvdWxkIGxvb2sgbGlrZT8K
Pgo+IEZyb20gYSBxdWljayBjaGF0IG9uIElSQyB5ZXN0ZXJkYXksIGl0IHNlZW1zIHRoYXQganVz
dCBhZGRpbmcgZW50cmllcwo+IHRvIHRoZSB1ZXZlbnQgd291bGQgZG8gYW5kIHdvdWxkIGJlIGJh
Y2t3YXJkcy1jb21wYXRpYmxlICh3ZWxsLAo+IHByb3ZpZGVkIHRoYXQgdGhlIHVzZXJzcGFjZSB1
ZXZlbnQgcGFyc2VycyB3aWxsIG5vdCBmYWlsIGlmIHNvbWV0aGluZwo+IGV4dHJhIHRvICJIT1RQ
TFVHPTEiIGlzIHByb3ZpZGVkKS4KPgo+IEN1cnJlbnRseSwgdGhlIG5vdGlmaWNhdGlvbiBpcyBz
ZW50IGdsb2JhbGx5IGF0IGVhY2ggcm91bmQgb2YgZGV0ZWN0ZWQKPiBjb25uZWN0b3IgY2hhbmdl
ICh3aGljaCBtYXkgY29uY2VybiBtdWx0aXBsZSBjb25uZWN0b3JzKS4gU28gSSB0aGluayB3ZQo+
IHNob3VsZCBqdXN0IGxpc3QgdGhlIGNvbm5lY3RvcnMgdGhhdCBjaGFuZ2VkIGluIHRoZSB1ZXZl
bnQgYW5kIHRoZWlyCj4gbmV3IHN0YXRlLiBTbyBteSBwcm9wb3NhbCBoZXJlIGlzIHNvbWV0aGlu
ZyBsaWtlOgo+Cj4gSE9UUExVRz0xCj4gQ09OTkVDVE9SX0lEPTQ3Cj4gU1RBVFVTPUNvbm5lY3Rl
ZAo+IENPTk5FQ1RPUl9JRD00OAo+IFNUQVRVUz1EaXNjb25uZWN0ZWQKPgo+IFdoZXJlIGVhY2gg
U1RBVFVTIGVudHJ5IHdvdWxkIHJlZmVyIHRvIHRoZSBwcmV2aW91cyBDT05ORUNUT1JfSUQgZW50
cnkuCj4KPiBXaGF0IGRvIHlvdSB0aGluaz8KCldlIGhhdmUgdGhlIGJldHRlciB1ZXZlbnQgYWxy
ZWFkeSwgYWxsIHdlIG5lZWQgaXMgd2lyaW5nIHVwLCBsb3RzIG9mCmNvZGUsIGFuZCB1c2Vyc3Bh
Y2UgZm9yIGl0LiBPaywgbm90IHF1aXRlLCBwYXRjaCBpcyBzdGlsbCBpbiBmbGlnaHQ6CgpodHRw
czovL3BhdGNod29yay5rZXJuZWwub3JnL3BhdGNoLzEwOTA2Njc3LwoKVGhlIHJlYWwgdHJvdWJs
ZSBpc24ndCB0aGUgbmV3IGV2ZW50LCBidXQgbWFraW5nIHN1cmUgaXQgZ29lcyBvdXQgZm9yCmFu
eXRoaW5nIHRoYXQgbWlnaHQgaGF2ZSBjaGFuZ2VkLiBUaGVyZSdzIGEgbG90IG1vcmUgY29ubmVj
dG9yIHN0YXR1cwp0aGFuIGp1c3QgdGhlIFNUQVRVUyBwcm9wZXJ0eS4KLURhbmllbAoKPgo+IENo
ZWVycywKPgo+IFBhdWwKPgo+ID4gPiBPbiBUaHUsIDIwMTktMDUtMDkgYXQgMTQ6MjQgKzAyMDAs
IFBhdWwgS29jaWFsa293c2tpIHdyb3RlOgo+ID4gPiA+IEhpLAo+ID4gPiA+Cj4gPiA+ID4gT24g
VGh1LCAyMDE5LTA1LTA5IGF0IDE1OjA4ICswMzAwLCBJbXJlIERlYWsgd3JvdGU6Cj4gPiA+ID4g
PiBPbiBUaHUsIE1heSAwOSwgMjAxOSBhdCAwOToyNTo0MUFNICswMjAwLCBQYXVsIEtvY2lhbGtv
d3NraSB3cm90ZToKPiA+ID4gPiA+ID4gT24gV2VkLCAyMDE5LTA1LTA4IGF0IDExOjI0ICswMzAw
LCBJbXJlIERlYWsgd3JvdGU6Cj4gPiA+ID4gPiA+ID4gQWZ0ZXIgc2NoZWR1bGluZyBhbiBIUEQg
dG9nZ2xlIGV2ZW50LCBtYWtlIHN1cmUgdGhhdCB3ZSB3YWl0IGZvciB0aGUKPiA+ID4gPiA+ID4g
PiBob3RwbHVnIGV2ZW50IGZvciBlYWNoIGNvbm5lY3RvciB0aGF0IG1heSBiZSBzZW50IGJ5IHRo
ZSBkcml2ZXIuCj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiBEZXBlbmRpbmcgb24gdGhlIHNj
aGVkdWxpbmcgdGhlcmUgY291bGQgYmUgMSBldmVudCBvciBhcyBtYW55IGV2ZW50cwo+ID4gPiA+
ID4gPiA+IGFzCj4gPiA+ID4gPiA+ID4gY29ubmVjdG9ycyB3ZSBzY2hlZHVsZWQgYW4gSFBEIHRv
Z2dsZSBldmVudCBvbiwgZGVwZW5kaW5nIG9uIHRoZQo+ID4gPiA+ID4gPiA+IHRpbWluZy4KPiA+
ID4gPiA+ID4gPiBTbyBpZiB3ZSBkb24ndCB5ZXQgc2VlIHRoZSBleHBlY3RlZCBjb25uZWN0b3Ig
c3RhdGUgb24gYSBnaXZlbgo+ID4gPiA+ID4gPiA+IGNvbm5lY3Rvcgo+ID4gPiA+ID4gPiA+IHRy
eSB0byB3YWl0IGZvciBhbiBhZGRpdGlvbmFsIGhvdHBsdWcgZXZlbnQgYW5kIHJlcHJvYmUvcmVj
aGVjayB0aGUKPiA+ID4gPiA+ID4gPiBzdGF0ZS4KPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gVGhp
cyBjaGFuZ2VzIG1ha2VzIGdvb2Qgc2Vuc2UgdG8gbWUsIHNvOgo+ID4gPiA+ID4gPgo+ID4gPiA+
ID4gPiBSZXZpZXdlZC1CeTogUGF1bCBLb2NpYWxrb3dza2kgPHBhdWwua29jaWFsa293c2tpQGJv
b3RsaW4uY29tPgo+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiBBbmQgaXQgYnJpbmdzIGJhY2sgaGFy
ZCBmZWVsaW5ncyBhYm91dCB0aGUgaG90cGx1ZyBpbnRlcmZhY2Ugd2UgaGF2ZQo+ID4gPiA+ID4g
PiB0b2RheS4uLgo+ID4gPiA+ID4KPiA+ID4gPiA+IFllcywgSSB3YXMgc3VycHJpc2VkIHRvbyBu
b3QgZmluZCBhbnkgd2F5IHRvIGlkZW50aWZ5IHdoaWNoIGNvbm5lY3RvcihzKQo+ID4gPiA+ID4g
dGhlIGhvdHBsdWcgZXZlbnQgaXMgYXNzb2NpYXRlZCB3aXRoLiBXZSBkaXNjdXNzZWQgd2l0aCBW
aWxsZSBpZiBpdCdkCj4gPiA+ID4gPiBtYWtlIHNlbnNlIHRvIGFkZCBhIGNvbm5lY3RvciBJRCBt
YXAgdG8gdGhlIHVldmVudCwgYnV0IG5vdCBzdXJlIGlmIGl0J2QKPiA+ID4gPiA+IGJlIHVzZWZ1
bCBvdXRzaWRlIG9mIHRoaXMgdGVzdCwgb3IgaG93IHRoYXQgd291bGQgYWxpZ24gd2l0aCBDaHJp
cycKPiA+ID4gPiA+IGNvbm5lY3RvciBwcm9iZSBzdGF0ZSBnZW5lcmF0aW9uIGlkZWEuCj4gPiA+
ID4KPiA+ID4gPiBFaXRoZXIgd2F5LCBJJ20gZGVmaW5pdGVseSBpbiBmYXZvciBvZiBoYXZpbmcg
c29tZXRoaW5nIG1vcmUgcmVsaWFibGUKPiA+ID4gPiB0byBleHBvc2UgdG8gdXNlcnNwYWNlLiBI
YXZpbmcgc29tZXRoaW5nIHRvIGNvcnJlbGF0ZSBlYWNoIGV2ZW50IHRvIG9uZQo+ID4gPiA+IChv
ciBtb3JlKSBjb25uZWN0b3Iocykgc291bmRzIGdvb2QgdG8gbWUuCj4gPiA+ID4KPiA+ID4gPiBB
bmQgSSB0aGluayB0aGVyZSBpcyBhIGdlbmVyYWwgbmVlZCBmb3IgdGhpcywgaXQncyBub3QganVz
dCBJR1QuCj4gPiA+ID4KPiA+ID4gPiBDdXJyZW50bHksIGV2ZXJ5IHVzZXJzcGFjZSBhcHBsaWNh
dGlvbiB1c2luZyBEUk0gaGFzIHRvIGRvIGEgZnVsbAo+ID4gPiA+IHJlcHJvYmUgb25jZSBhIGhv
dHBsdWcgdWV2ZW50IGlzIHJlY2VpdmVkLCB3aGljaCBpcyByZWFsbHkgbm90IG9wdGltYWwuCj4g
PiA+ID4gSWYgYW4gZW50cnkgaWRlbnRpZnlpbmcgdGhlIGNvbm5lY3RvciB3YXMgYWxzbyBwcm92
aWRlZCwgdXNlcnNwYWNlCj4gPiA+ID4gY291bGQgb25seSByZXByb2JlIHRoYXQgY29ubmVjdG9y
LiBUaGUgc3RlcCBhZnRlciB0aGF0IHdvdWxkIGJlIGhhdmluZwo+ID4gPiA+IHRoZSBpbmRpY2F0
aW9uIG9mIHdoZXRoZXIgdGhlIGNvbm5lY3RvciB3YXMgY29ubmVjdGVkIG9yIGRpc2Nvbm5lY3Rl
ZAo+ID4gPiA+IGRpcmVjdGx5IGluIHVldmVudCB0b28sIHNvIHRoYXQgbm8gcHJvYmluZyBuZWVk
cyB0byBiZSBkb25lIGF0IGFsbCB3aGVuCj4gPiA+ID4gYSBnaXZlbiBjb25uZWN0b3IgaXMgZGlz
Y29ubmVjdGVkLgo+ID4gPiA+Cj4gPiA+ID4gQW55d2F5LCBpZiB5b3UncmUgaW50ZXJlc3RlZCBp
biB0aGUgaWRlYSBhbmQgdGhhdCBWaWxsZSBhbmQgQ2hyaXMgYXJlCj4gPiA+ID4gaW4gZmF2b3Is
IEkgcmVhbGx5IHRoaW5rIGl0IHdvdWxkIGJlIHdvcnRoIGZpeGluZyB0aGF0LiBBbmQgd2UnZCBv
bmx5Cj4gPiA+ID4gYmUgYWRkaW5nIG5ldyBlbGVtZW50cyB0byB1ZXZlbnQsIHNvIHRoYXQgd291
bGQgc3RheSBiYWNrd2FyZC0KPiA+ID4gPiBjb21wYXRpYmxlIHRvby4KPiA+ID4gPgo+ID4gPiA+
IENoZWVycywKPiA+ID4gPgo+ID4gPiA+IFBhdWwKPiA+ID4gPgo+ID4gPiA+ID4gPiA+IHYyOgo+
ID4gPiA+ID4gPiA+IC0gcy9pZ3RfYXNzZXJ0KHggPj0geSkvaWd0X2Fzc2VydF9sdGUoeSwgeCkv
IHRvIHNlZSB0aGUgYWN0dWFsIGxpbWl0cwo+ID4gPiA+ID4gPiA+IGluCj4gPiA+ID4gPiA+ID4g
ICB0aGUgZGVidWdnaW5nIG91dHB1dC4gKEx5dWRlKQo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+
ID4gQnVnemlsbGE6IGh0dHBzOi8vYnVncy5mcmVlZGVza3RvcC5vcmcvc2hvd19idWcuY2dpP2lk
PTExMDUzNAo+ID4gPiA+ID4gPiA+IENjOiBQYXVsIEtvY2lhbGtvd3NraSA8cGF1bC5rb2NpYWxr
b3dza2lAYm9vdGxpbi5jb20+Cj4gPiA+ID4gPiA+ID4gQ2M6IEx5dWRlIFBhdWwgPGx5dWRlQHJl
ZGhhdC5jb20+Cj4gPiA+ID4gPiA+ID4gU2lnbmVkLW9mZi1ieTogSW1yZSBEZWFrIDxpbXJlLmRl
YWtAaW50ZWwuY29tPgo+ID4gPiA+ID4gPiA+IFJldmlld2VkLWJ5OiBMeXVkZSBQYXVsIDxseXVk
ZUByZWRoYXQuY29tPgo+ID4gPiA+ID4gPiA+IC0tLQo+ID4gPiA+ID4gPiA+ICB0ZXN0cy9rbXNf
Y2hhbWVsaXVtLmMgfCA0NSArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrLS0t
LS0KPiA+ID4gPiA+ID4gPiAtCj4gPiA+ID4gPiA+ID4gIDEgZmlsZSBjaGFuZ2VkLCAzOSBpbnNl
cnRpb25zKCspLCA2IGRlbGV0aW9ucygtKQo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gZGlm
ZiAtLWdpdCBhL3Rlc3RzL2ttc19jaGFtZWxpdW0uYyBiL3Rlc3RzL2ttc19jaGFtZWxpdW0uYwo+
ID4gPiA+ID4gPiA+IGluZGV4IDcxNGU1ZTA2Li41MDJmMWVmYSAxMDA2NDQKPiA+ID4gPiA+ID4g
PiAtLS0gYS90ZXN0cy9rbXNfY2hhbWVsaXVtLmMKPiA+ID4gPiA+ID4gPiArKysgYi90ZXN0cy9r
bXNfY2hhbWVsaXVtLmMKPiA+ID4gPiA+ID4gPiBAQCAtMjg0LDExICsyODQsMzIgQEAgdGVzdF9l
ZGlkX3JlYWQoZGF0YV90ICpkYXRhLCBzdHJ1Y3QKPiA+ID4gPiA+ID4gPiBjaGFtZWxpdW1fcG9y
dCAqcG9ydCwKPiA+ID4gPiA+ID4gPiAgICAgZHJtTW9kZUZyZWVDb25uZWN0b3IoY29ubmVjdG9y
KTsKPiA+ID4gPiA+ID4gPiAgfQo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gKy8qIFdhaXQg
Zm9yIGhvdHBsdWcgYW5kIHJldHVybiB0aGUgcmVtYWluaW5nIHRpbWUgbGVmdCBmcm9tIHRpbWVv
dXQKPiA+ID4gPiA+ID4gPiAqLwo+ID4gPiA+ID4gPiA+ICtzdGF0aWMgYm9vbCB3YWl0X2Zvcl9o
b3RwbHVnKHN0cnVjdCB1ZGV2X21vbml0b3IgKm1vbiwgaW50ICp0aW1lb3V0KQo+ID4gPiA+ID4g
PiA+ICt7Cj4gPiA+ID4gPiA+ID4gKyAgIHN0cnVjdCB0aW1lc3BlYyBzdGFydCwgZW5kOwo+ID4g
PiA+ID4gPiA+ICsgICBpbnQgZWxhcHNlZDsKPiA+ID4gPiA+ID4gPiArICAgYm9vbCBkZXRlY3Rl
ZDsKPiA+ID4gPiA+ID4gPiArCj4gPiA+ID4gPiA+ID4gKyAgIGlndF9hc3NlcnRfZXEoaWd0X2dl
dHRpbWUoJnN0YXJ0KSwgMCk7Cj4gPiA+ID4gPiA+ID4gKyAgIGRldGVjdGVkID0gaWd0X2hvdHBs
dWdfZGV0ZWN0ZWQobW9uLCAqdGltZW91dCk7Cj4gPiA+ID4gPiA+ID4gKyAgIGlndF9hc3NlcnRf
ZXEoaWd0X2dldHRpbWUoJmVuZCksIDApOwo+ID4gPiA+ID4gPiA+ICsKPiA+ID4gPiA+ID4gPiAr
ICAgZWxhcHNlZCA9IGlndF90aW1lX2VsYXBzZWQoJnN0YXJ0LCAmZW5kKTsKPiA+ID4gPiA+ID4g
PiArICAgaWd0X2Fzc2VydF9sdGUoMCwgZWxhcHNlZCk7Cj4gPiA+ID4gPiA+ID4gKyAgICp0aW1l
b3V0ID0gbWF4KDAsICp0aW1lb3V0IC0gZWxhcHNlZCk7Cj4gPiA+ID4gPiA+ID4gKwo+ID4gPiA+
ID4gPiA+ICsgICByZXR1cm4gZGV0ZWN0ZWQ7Cj4gPiA+ID4gPiA+ID4gK30KPiA+ID4gPiA+ID4g
PiArCj4gPiA+ID4gPiA+ID4gIHN0YXRpYyB2b2lkCj4gPiA+ID4gPiA+ID4gIHRyeV9zdXNwZW5k
X3Jlc3VtZV9ocGQoZGF0YV90ICpkYXRhLCBzdHJ1Y3QgY2hhbWVsaXVtX3BvcnQgKnBvcnQsCj4g
PiA+ID4gPiA+ID4gICAgICAgICAgICAgICAgICAgIGVudW0gaWd0X3N1c3BlbmRfc3RhdGUgc3Rh
dGUsIGVudW0KPiA+ID4gPiA+ID4gPiBpZ3Rfc3VzcGVuZF90ZXN0IHRlc3QsCj4gPiA+ID4gPiA+
ID4gICAgICAgICAgICAgICAgICAgIHN0cnVjdCB1ZGV2X21vbml0b3IgKm1vbiwgYm9vbCBjb25u
ZWN0ZWQpCj4gPiA+ID4gPiA+ID4gIHsKPiA+ID4gPiA+ID4gPiArICAgZHJtTW9kZUNvbm5lY3Rp
b24gdGFyZ2V0X3N0YXRlID0gY29ubmVjdGVkID8KPiA+ID4gPiA+ID4gPiBEUk1fTU9ERV9ESVND
T05ORUNURUQgOgo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBEUk1fTU9ERV9DT05ORUNURQo+ID4gPiA+ID4gPiA+IEQ7Cj4gPiA+
ID4gPiA+ID4gKyAgIGludCB0aW1lb3V0ID0gSE9UUExVR19USU1FT1VUOwo+ID4gPiA+ID4gPiA+
ICAgICBpbnQgZGVsYXk7Cj4gPiA+ID4gPiA+ID4gICAgIGludCBwOwo+ID4gPiA+ID4gPiA+Cj4g
PiA+ID4gPiA+ID4gQEAgLTMxMCwxNyArMzMxLDI5IEBAIHRyeV9zdXNwZW5kX3Jlc3VtZV9ocGQo
ZGF0YV90ICpkYXRhLCBzdHJ1Y3QKPiA+ID4gPiA+ID4gPiBjaGFtZWxpdW1fcG9ydCAqcG9ydCwK
PiA+ID4gPiA+ID4gPiAgICAgfQo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gICAgIGlndF9z
eXN0ZW1fc3VzcGVuZF9hdXRvcmVzdW1lKHN0YXRlLCB0ZXN0KTsKPiA+ID4gPiA+ID4gPiArICAg
aWd0X2Fzc2VydCh3YWl0X2Zvcl9ob3RwbHVnKG1vbiwgJnRpbWVvdXQpKTsKPiA+ID4gPiA+ID4g
Pgo+ID4gPiA+ID4gPiA+IC0gICBpZ3RfYXNzZXJ0KGlndF9ob3RwbHVnX2RldGVjdGVkKG1vbiwg
SE9UUExVR19USU1FT1VUKSk7Cj4gPiA+ID4gPiA+ID4gICAgIGlmIChwb3J0KSB7Cj4gPiA+ID4g
PiA+ID4gLSAgICAgICAgICAgaWd0X2Fzc2VydF9lcShyZXByb2JlX2Nvbm5lY3RvcihkYXRhLCBw
b3J0KSwgY29ubmVjdGVkCj4gPiA+ID4gPiA+ID4gPwo+ID4gPiA+ID4gPiA+IC0gICAgICAgICAg
ICAgICAgICAgICAgICAgRFJNX01PREVfRElTQ09OTkVDVEVEIDoKPiA+ID4gPiA+ID4gPiBEUk1f
TU9ERV9DT05ORUNURUQpOwo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgIGlndF9hc3NlcnRfZXEo
cmVwcm9iZV9jb25uZWN0b3IoZGF0YSwgcG9ydCksCj4gPiA+ID4gPiA+ID4gdGFyZ2V0X3N0YXRl
KTsKPiA+ID4gPiA+ID4gPiAgICAgfSBlbHNlIHsKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICBm
b3IgKHAgPSAwOyBwIDwgZGF0YS0+cG9ydF9jb3VudDsgcCsrKSB7Cj4gPiA+ID4gPiA+ID4gKyAg
ICAgICAgICAgICAgICAgICBkcm1Nb2RlQ29ubmVjdGlvbiBjdXJyZW50X3N0YXRlOwo+ID4gPiA+
ID4gPiA+ICsKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgICAgICAgIHBvcnQgPSBkYXRhLT5w
b3J0c1twXTsKPiA+ID4gPiA+ID4gPiAtICAgICAgICAgICAgICAgICAgIGlndF9hc3NlcnRfZXEo
cmVwcm9iZV9jb25uZWN0b3IoZGF0YSwgcG9ydCksCj4gPiA+ID4gPiA+ID4gY29ubmVjdGVkID8K
PiA+ID4gPiA+ID4gPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRFJNX01PREVf
RElTQ09OTkVDVEVEIDoKPiA+ID4gPiA+ID4gPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgRFJNX01PREVfQ09OTkVDVEVEKTsKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAg
ICAgIC8qCj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgKiBUaGVyZSBjb3VsZCBi
ZSBhcyBtYW55IGhvdHBsdWcgZXZlbnRzIHNlbnQKPiA+ID4gPiA+ID4gPiBieQo+ID4gPiA+ID4g
PiA+ICsgICAgICAgICAgICAgICAgICAgICogZHJpdmVyIGFzIGNvbm5lY3RvcnMgd2Ugc2NoZWR1
bGVkIGFuIEhQRAo+ID4gPiA+ID4gPiA+IHRvZ2dsZSBvbgo+ID4gPiA+ID4gPiA+ICsgICAgICAg
ICAgICAgICAgICAgICogYWJvdmUsIGRlcGVuZGluZyBvbiB0aW1pbmcuIFNvIGlmIHdlJ3JlIG5v
dAo+ID4gPiA+ID4gPiA+IHNlZWluZwo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAg
ICogdGhlIGV4cGVjdGVkIGNvbm5lY3RvciBzdGF0ZSB0cnkgdG8gd2FpdAo+ID4gPiA+ID4gPiA+
IGZvciBhbiBIUEQKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAqIGV2ZW50IGZv
ciBlYWNoIGNvbm5lY3Rvci9wb3J0Lgo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAg
ICovCj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICBjdXJyZW50X3N0YXRlID0gcmVw
cm9iZV9jb25uZWN0b3IoZGF0YSwgcG9ydCk7Cj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAg
ICAgICBpZiAocCA+IDAgJiYgY3VycmVudF9zdGF0ZSAhPSB0YXJnZXRfc3RhdGUpIHsKPiA+ID4g
PiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgaWd0X2Fzc2VydCh3YWl0X2Zvcl9o
b3RwbHVnKG1vbiwKPiA+ID4gPiA+ID4gPiAmdGltZW91dCkpOwo+ID4gPiA+ID4gPiA+ICsgICAg
ICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50X3N0YXRlID0KPiA+ID4gPiA+ID4gPiByZXBy
b2JlX2Nvbm5lY3RvcihkYXRhLCBwb3J0KTsKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAg
ICAgIH0KPiA+ID4gPiA+ID4gPiArCj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICBp
Z3RfYXNzZXJ0X2VxKGN1cnJlbnRfc3RhdGUsIHRhcmdldF9zdGF0ZSk7Cj4gPiA+ID4gPiA+ID4g
ICAgICAgICAgICAgfQo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgcG9y
dCA9IE5VTEw7Cj4gPiA+ID4gPiA+IC0tCj4gPiA+ID4gPiA+IFBhdWwgS29jaWFsa293c2tpLCBC
b290bGluCj4gPiA+ID4gPiA+IEVtYmVkZGVkIExpbnV4IGFuZCBrZXJuZWwgZW5naW5lZXJpbmcK
PiA+ID4gPiA+ID4gaHR0cHM6Ly9ib290bGluLmNvbQo+ID4gPiA+ID4gPgo+IC0tCj4gUGF1bCBL
b2NpYWxrb3dza2ksIEJvb3RsaW4KPiBFbWJlZGRlZCBMaW51eCBhbmQga2VybmVsIGVuZ2luZWVy
aW5nCj4gaHR0cHM6Ly9ib290bGluLmNvbQo+CgoKLS0gCkRhbmllbCBWZXR0ZXIKU29mdHdhcmUg
RW5naW5lZXIsIEludGVsIENvcnBvcmF0aW9uCis0MSAoMCkgNzkgMzY1IDU3IDQ4IC0gaHR0cDov
L2Jsb2cuZmZ3bGwuY2gKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Au
b3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRl
dmVs
