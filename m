Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 069376C7140
	for <lists+dri-devel@lfdr.de>; Thu, 23 Mar 2023 20:45:33 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A105A10E0CC;
	Thu, 23 Mar 2023 19:45:25 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from NAM10-BN7-obe.outbound.protection.outlook.com
 (mail-bn7nam10on20627.outbound.protection.outlook.com
 [IPv6:2a01:111:f400:7e8a::627])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 9070E10E058;
 Thu, 23 Mar 2023 19:45:23 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=NraGgVY+vNxaW9ajd4CTewA/dOPg5qA5EJm89ZcHDTCibKvpil0EdS1OLI4uuO/qX6ZYS37aYyOIduirPQXqfFd++Uk7E+KzEJeGGqc5OkaR0L+gG5nJWsH9C0xNQUcA/uk8ZhHEuLt4TwAqEXD6kRtq/EeQU/beGxP25dZ8NaSs4FNqxeqb2NIwgQCWt4moN6hu3OhGB4GymPrLY5+lSCxm/aGKKLAxsmNdN/+0ffp7a/MsuhvkMHtSMOIikTqRTghXkVaZRnoigRq1Bp4VYf6gntToZJDxDJTfD7GyNPm63K1zgI65mJVeqB7+hzN5RRvBaedDtA9WT+BHaKFBCA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=vWrPHpeonyVmwWEOMte4aZ9kmezZ9pceMDBQoWFPlu4=;
 b=OiY2ez1MnYfOY75LGhCKmRT4ojz5pMYsNc+vHOY7n5ukX3HhlckzgZEpp0qN9WC19Nl5igvkUDBfefymHgOssYX6T0/iZg7BDeeKIS/4+iwua0vTziE7uCg5CWZIpOhi+T8H4gs0tPauT52mPbCx4XdBhIfCWTmR8SJb2XVsrwKPMv/18WacSHFhn70Wz7uomYagkNprb65tXXZjt0sLu3WH8DPlbv3XkY5q1URAsXvKJGe5MBdt59fUnmDyO45mJvolrrL/O0wHj7BHMXPZwno6OFD0yCoMv3PvKNV16b1DZRShz9SNiKSjAz7RFhf1eZIWF8h9zbwtVNZj8jhAQw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=amd.com; s=selector1; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=vWrPHpeonyVmwWEOMte4aZ9kmezZ9pceMDBQoWFPlu4=;
 b=n18awAAvGDqSO04E7vZwVFJJfM4859ELShWu2KXCfFzUmRbktZlMGCD9vfjbKYlacRuteIopqXfiEy4JTEQj3BDzX5lJq6PCCyiTG562KFqjFPJm9rF8mUk2DSelbXdWNYWhpxCQOG9Z0Qj8JGpVp3D4ZnBy41jUjoowodvG+dA=
Received: from CY8PR12MB7435.namprd12.prod.outlook.com (2603:10b6:930:51::6)
 by BN9PR12MB5306.namprd12.prod.outlook.com (2603:10b6:408:103::12) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.6178.38; Thu, 23 Mar
 2023 19:45:20 +0000
Received: from CY8PR12MB7435.namprd12.prod.outlook.com
 ([fe80::616b:7d6b:fa54:b1d2]) by CY8PR12MB7435.namprd12.prod.outlook.com
 ([fe80::616b:7d6b:fa54:b1d2%5]) with mapi id 15.20.6178.038; Thu, 23 Mar 2023
 19:45:20 +0000
From: "Kim, Jonathan" <Jonathan.Kim@amd.com>
To: "Kuehling, Felix" <Felix.Kuehling@amd.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>,
 "dri-devel@lists.freedesktop.org" <dri-devel@lists.freedesktop.org>
Subject: RE: [PATCH 19/32] drm/amdkfd: add runtime enable operation
Thread-Topic: [PATCH 19/32] drm/amdkfd: add runtime enable operation
Thread-Index: AQHZMPbSC9Al5vRJ8EOIpbktRjSz868EtvUAgARhRjA=
Date: Thu, 23 Mar 2023 19:45:20 +0000
Message-ID: <CY8PR12MB7435453F217C13F34EC2D2CC85879@CY8PR12MB7435.namprd12.prod.outlook.com>
References: <20230125195401.4183544-1-jonathan.kim@amd.com>
 <20230125195401.4183544-20-jonathan.kim@amd.com>
 <8335d0d7-2945-979b-70b2-b5e800ce8fe0@amd.com>
In-Reply-To: <8335d0d7-2945-979b-70b2-b5e800ce8fe0@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
msip_labels: MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_ActionId=a494c8a6-f2b1-48ab-999a-8b61e5e162bb;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_ContentBits=0;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_Enabled=true;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_Method=Standard;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_Name=General;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_SetDate=2023-03-23T19:24:26Z;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_SiteId=3dd8961f-e488-4e60-8e11-a82d994e183d;
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=amd.com;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: CY8PR12MB7435:EE_|BN9PR12MB5306:EE_
x-ms-office365-filtering-correlation-id: f6e83f1a-56c2-4ae2-958e-08db2bd722d5
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: asw7DgCFGAj0TDVZhNGkXGQBf505Hy3yHE5QqJrX9fxAxDyKOdq/kbUddbk+QrQ5IsNzBOKBhI8cyuBexiE5jzIH/5x9oQjIpaXsFdkbtVzzXarGbvjchnAMTkbZx//wQz15xYieEHEDlAwlX85XqFR/syf0j7f9ckgIdSSWGban9pCI0ytrEYn7KUdwiLr9nxxx/oGOz2GjexqckBKp8E04K2XPW/H6AuDO7unlDt9VUjr/ReugSxoLAT1+Zab5Xfci1l8ef5PSZxUPdnojJAkyT8lU/qDfmHv/b5LQQk9mB78JVHsiFulcyeq3iXkjOsW05HbmutHB7rOkQMqo4i/QGGBYqy5VeVpxL8x1Av8fi6c0a/gSw2UbLoC/PMCNEYQMM1HNLgdmq89eIpG55TNuE/aCCXcD1IVGBZanP0OxHf8KvebFWBGwhYumP7wL1vfLKsILjjHcRFT9M3sP47kuhw6MKsNdvaDT7rGP3tws8XGdDq80xPVNYfwuVjoBz4KhxOJcmWGyOv4JZ5XhQSi86maW7nqoHqM0njoDhkUvO2M+ogxiwEEIzOSLEwrKQDCWWOcJTmztFVof0LjsfdiE6g4hs9kCqduz29wEuUDv5PUtNJHRy+FmEM7GWMrGyk4aNZOBAzCw99E/+euUDila1tNP8+nNKallCxB8KS75GtRbtPoi4bAf37JquU1wmPJUqSp6lssDS6afkrJO5UHPvuL8lZZtVP+FGCCaZh4=
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:CY8PR12MB7435.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(13230025)(4636009)(396003)(136003)(366004)(346002)(39860400002)(376002)(451199018)(66446008)(66556008)(8676002)(66476007)(64756008)(66946007)(52536014)(76116006)(450100002)(30864003)(41300700001)(5660300002)(122000001)(53546011)(6506007)(8936002)(316002)(186003)(9686003)(478600001)(83380400001)(71200400001)(7696005)(110136005)(33656002)(86362001)(2906002)(55016003)(38070700005)(38100700002)(309714004);
 DIR:OUT; SFP:1101; 
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?Y1F3bUhENDZJUjVOZzl1dG1zOE1sQ0U4clU4S0JPSm52elhFeHNiMGk4WDQ5?=
 =?utf-8?B?OE8xM2ZKYjV2R2krTzRDTTc2T2xMVUROOGJCakJ4TU1zZHdxYXhZK1lBT29t?=
 =?utf-8?B?RTdQZ1MySGx1bFJZT2dNNTVOMUtjZ1lmQWVhYzJkM1VqSjRpRGpUc0lkcVNt?=
 =?utf-8?B?dFp1V1pyMTY3MHRONGpLVW5hSGNES2JyMHFudVFnL21KK0xqRU90Nk5sZzg1?=
 =?utf-8?B?dzFRM2RtVDU3WDFRRWZVNGZMY1l1TWZCK09oeFZCdkQzYVZGM0lkVjNOT2pM?=
 =?utf-8?B?SE9lTHR2MGVhRVQyYnF0d2F4VmlSSW1lb0N2YkpSTHZWM3Vka0tTMzIrZHkx?=
 =?utf-8?B?MnY2M0NLeHJzaWd1UyszTHhSNkErWmJ1OFdjTS8zYVpZQjE3UGpZWVdMcFIr?=
 =?utf-8?B?QXAwRGVweGNEMmN4WUdjeElBcThDUHpMWTVXQWIwSmFQb1FQK1AvQmpiajNF?=
 =?utf-8?B?UWZuN0ZnZkI3Q1dRRC93VjZYODV4N05sQnRwTW96bnBmTlE2aDFjcEZ2czhU?=
 =?utf-8?B?S2JWT2tKT3hYU2x0ZXNJT1RVa2NvQmdta0lIQXI1WGx3WUdmNUVTZHJIbHNK?=
 =?utf-8?B?V0dwQlc5akwrakQrSDhZVWI4RVEwNHBtUmRGUXJGRlBXRlgraU1UMmFHcGdp?=
 =?utf-8?B?eElPaWhBRGJpR0FZTE1zVUJ5TDhINFZBbGVsZnlqWDF0Q01BTld1dFZ3UXB6?=
 =?utf-8?B?eXAycTlFcjVHUjd4SDNWd3ptcjA2MStTdTJvWHA2R2hnZlVNcjRBMDRGZmRa?=
 =?utf-8?B?dFdmaVhJb2pheHMvSU9zNFY1UmtRU3ljN0dUaFJYcXB3R3lOamFXbzlGQ1lD?=
 =?utf-8?B?YWV5NWNENmVlWnJpZTdFTllsZmkrN3FCSlNOSGw0VlE5VHg0VzBiTWIxeWMw?=
 =?utf-8?B?aGozdVZzVEs3ZENJcllROEdqZ09nMWs3UjJkaUdNV2tUb1o5ZEkvSWtTU1Zu?=
 =?utf-8?B?RlZHWEQ3S3YxZHRpN3R6SFlDYjBJMWxERXpJdDRtZUtGemFQYS9FZHpSNHEz?=
 =?utf-8?B?dDA0OEliRDRZWkNmZW5GaWNzdXFpcVdRMnp4c2xjblF3MUNQdWxyWnB0Zm1J?=
 =?utf-8?B?UDVsUy9NNTlZcnhHMGVMZUh6dDVKa1ZwNlpObTc5cHh4ckxvWXFNTHdLU0h4?=
 =?utf-8?B?U1hCcTN5NlkvTzFNM0RidVpheGIwL2pvcGlPeVlCUTU5NG5PVXhFMVQ2dmZ0?=
 =?utf-8?B?RzRxc2ltVndqZStrbDhPYXNvSk56RkcvQmpKWGxoNjcrNlBXZ1hRb0xsNDZY?=
 =?utf-8?B?eCt1cDdJdE5CYlJtT3V6SmN1QjVzZTU4M0lac3Q1bUdoWGo3Wjg5RnlzUXNR?=
 =?utf-8?B?Z1VYS1JUTThaYjNVc01CemV0dGtaaW9kNXNNK21PSzc2dUJUQk1qWm5aMVNS?=
 =?utf-8?B?b3pWQWx5Z29XL1hOZTZzc3l3clJoWk5acW5qcHdTTm9sTnJTbHo1TUhiZkFT?=
 =?utf-8?B?WHI0T3pkQjlkRW05U05icldySlBWd0lWYjhLWjBiT2hscE80amlBWkpUTXlZ?=
 =?utf-8?B?RCt2OERpWkk0VnlNWkVDSGhka0NpOWtPb0h5d2VoZ0MzYW1KRGtWcmlRNkNS?=
 =?utf-8?B?TlYwSmVNZ3NvQnhNOFgxTGJQQ0c4eXFVVlB3eFhDZ2JSN3JSc1FTS3puY21G?=
 =?utf-8?B?TUUvaWdhckJ1VnJXSTFQanhCemVLWDFkUmI3Q2RjZC9SMjE4eU9CTHcrQzNI?=
 =?utf-8?B?Nk9mTTRnU3k3WW5vejBnZWIvVXhWY2NIaC9FOFFBSE4zWUt6OTIzR1d4ek9C?=
 =?utf-8?B?MFM5M2UzcXVHNXdPRFlTNCtva2E3R3pjb2hoMDJPWW1oV3NEWDZkMjk4Z01P?=
 =?utf-8?B?djVTZVU1MENxZmtEZEowNmlCTUp2SUJzeDh1R09HY0ZnVHhnSm5nUnE1dVdZ?=
 =?utf-8?B?YjZXcEpMT2lvdEdaTDYxWUdIWHM2Yi9EU3BVZThtVTBneWUvbmpuUHVqTm4v?=
 =?utf-8?B?OFFhcUs0TzNLdTlMMHlHUCtZU0V6cFFzYUNCMzJHZzdJdkc1WXRUbXhiSVV6?=
 =?utf-8?B?UnFtSU9VUmRNSTNFS3BHbTRBdG5WWXhkdDlGMUZsTEVPcXBKdUR5OHNiRlRP?=
 =?utf-8?B?eE1hZlhkOWw0MUhUbDZIY09CZFBUTDFyblp2WWRjNStLMjVTU3ZFVkxXelpj?=
 =?utf-8?B?dkMrNW1NMWFkeTR6TzY0QW8wOUJIQitiVWhDdUFkYjJsTzh1SmtPbHFVVFYy?=
 =?utf-8?Q?74s2VQVnOrVkx0CXZz0Ja2I=3D?=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: CY8PR12MB7435.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: f6e83f1a-56c2-4ae2-958e-08db2bd722d5
X-MS-Exchange-CrossTenant-originalarrivaltime: 23 Mar 2023 19:45:20.4661 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: 4v1W0MFjoOxv1hmXOFIWLXLRIsMtKfHgZnRCSYY/xKK8xHhQftOoLJ2ZTzDRqJAf
X-MS-Exchange-Transport-CrossTenantHeadersStamped: BN9PR12MB5306
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

W0FNRCBPZmZpY2lhbCBVc2UgT25seSAtIEdlbmVyYWxdDQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNz
YWdlLS0tLS0NCj4gRnJvbTogS3VlaGxpbmcsIEZlbGl4IDxGZWxpeC5LdWVobGluZ0BhbWQuY29t
Pg0KPiBTZW50OiBNb25kYXksIE1hcmNoIDIwLCAyMDIzIDg6MzEgUE0NCj4gVG86IEtpbSwgSm9u
YXRoYW4gPEpvbmF0aGFuLktpbUBhbWQuY29tPjsgYW1kLQ0KPiBnZnhAbGlzdHMuZnJlZWRlc2t0
b3Aub3JnOyBkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnDQo+IFN1YmplY3Q6IFJlOiBb
UEFUQ0ggMTkvMzJdIGRybS9hbWRrZmQ6IGFkZCBydW50aW1lIGVuYWJsZSBvcGVyYXRpb24NCj4N
Cj4NCj4gT24gMjAyMy0wMS0yNSAxNDo1MywgSm9uYXRoYW4gS2ltIHdyb3RlOg0KPiA+IFRoZSBk
ZWJ1Z2dlciBjYW4gYXR0YWNoIHRvIGEgcHJvY2VzcyBwcmlvciB0byBIU0EgZW5hYmxlbWVudCAo
aS5lLg0KPiA+IGluZmVyaW9yIGlzIHNwYXduZWQgYnkgdGhlIGRlYnVnZ2VyIGFuZCBhdHRhY2hl
ZCB0byBpbW1lZGlhdGVseSBiZWZvcmUNCj4gPiB0YXJnZXQgcHJvY2VzcyBoYXMgYmVlbiBlbmFi
bGVkIGZvciBIU0EgZGlzcGF0Y2hlcykgb3IgaXQNCj4gPiBjYW4gYXR0YWNoIHRvIGEgcnVubmlu
ZyB0YXJnZXQgdGhhdCBpcyBhbHJlYWR5IEhTQSBlbmFibGVkLiAgRWl0aGVyDQo+ID4gd2F5LCB0
aGUgZGVidWdnZXIgbmVlZHMgdG8ga25vdyB0aGUgZW5hYmxlbWVudCBzdGF0dXMgdG8ga25vdyB3
aGVuDQo+ID4gaXQgY2FuIGluc3BlY3QgcXVldWVzLg0KPiA+DQo+ID4gRm9yIHRoZSBzY2VuYXJp
byB3aGVyZSB0aGUgZGVidWdnZXIgc3Bhd25zIHRoZSB0YXJnZXQgcHJvY2VzcywNCj4gPiBpdCB3
aWxsIGhhdmUgdG8gd2FpdCBmb3IgUk9DcidzIHJ1bnRpbWUgZW5hYmxlIHJlcXVlc3QgZnJvbSB0
aGUgdGFyZ2V0Lg0KPiA+IFRoZSBydW50aW1lIGVuYWJsZSByZXF1ZXN0IHdpbGwgYmUgYWJsZSB0
byBzZWUgdGhhdCBpdHMgcHJvY2VzcyBoYXMgYmVlbg0KPiA+IGRlYnVnIGF0dGFjaGVkLiAgUk9D
ciByYWlzZXMgYW4gRUNfUFJPQ0VTU19SVU5USU1FIHNpZ25hbCB0byB0aGUNCj4gPiBkZWJ1Z2dl
ciB0aGVuIGJsb2NrcyB0aGUgdGFyZ2V0IHByb2Nlc3Mgd2hpbGUgd2FpdGluZyB0aGUgZGVidWdn
ZXIncw0KPiA+IHJlc3BvbnNlLiBPbmNlIHRoZSBkZWJ1Z2dlciBoYXMgcmVjZWl2ZWQgdGhlIHJ1
bnRpbWUgc2lnbmFsLCBpdCB3aWxsDQo+ID4gdW5ibG9jayB0aGUgdGFyZ2V0IHByb2Nlc3MuDQo+
ID4NCj4gPiBGb3IgdGhlIHNjZW5hcmlvIHdoZXJlIHRoZSBkZWJ1Z2dlciBhdHRhY2hlcyB0byBh
IHJ1bm5pbmcgdGFyZ2V0DQo+ID4gcHJvY2VzcywgUk9DciB3aWxsIHNldCB0aGUgdGFyZ2V0IHBy
b2Nlc3MnIHJ1bnRpbWUgc3RhdHVzIGFzIGVuYWJsZWQgc28NCj4gPiB0aGF0IG9uIGFuIGF0dGFj
aCByZXF1ZXN0LCB0aGUgZGVidWdnZXIgd2lsbCBiZSBhYmxlIHRvIHNlZSB0aGlzDQo+ID4gc3Rh
dHVzIGFuZCB3aWxsIGNvbnRpbnVlIHdpdGggZGVidWcgZW5hYmxlbWVudCBhcyBub3JtYWwuDQo+
ID4NCj4gPiBBIHNlY29uZGFyeSByZXF1aXJlbWVudCBpcyB0byBjb25kaXRpb25hbGx5IGVuYWJs
ZSB0aGUgdHJhcCB0ZW1wb3JpZXMNCj4gb25seQ0KPiA+IGlmIHRoZSB1c2VyIHJlcXVlc3RzIGl0
IChlbnYgdmFyIEhTQV9FTkFCTEVfREVCVUc9MSkgb3IgaWYgdGhlIGRlYnVnZ2VyDQo+ID4gYXR0
YWNoZXMgd2l0aCBIU0EgcnVudGltZSBlbmFibGVkLiAgVGhpcyBpcyBiZWNhdXNlIHNldHRpbmcg
dXAgdGhlIHRyYXANCj4gPiB0ZW1wb3JhcmllcyBpbmN1cnMgYSBwZXJmb3JtYW5jZSBvdmVyaGVh
ZCB0aGF0IGlzIHVuYWNjZXB0YWJsZSBmb3INCj4gPiBtaWNyb2JlbmNoIHBlcmZvcm1hbmNlIGlu
IG5vcm1hbCBtb2RlIGZvciBjZXJ0YWluIGN1c3RvbWVycy4NCj4gPg0KPiA+IEluIHRoZSBzY2Vu
YXJpbyB3aGVyZSB0aGUgZGVidWdnZXIgc3Bhd25zIHRoZSB0YXJnZXQgcHJvY2Vzcywgd2hlbiBS
T0NyDQo+ID4gZGV0ZWN0cyB0aGF0IHRoZSBkZWJ1Z2dlciBoYXMgYXR0YWNoZWQgZHVyaW5nIHRo
ZSBydW50aW1lIGVuYWJsZQ0KPiA+IHJlcXVlc3QsIGl0IHdpbGwgZW5hYmxlIHRoZSB0cmFwIHRl
bXBvcmFyaWVzIGJlZm9yZSBpdCBibG9ja3MgdGhlIHRhcmdldA0KPiA+IHByb2Nlc3Mgd2hpbGUg
d2FpdGluZyBmb3IgdGhlIGRlYnVnZ2VyIHRvIHJlc3BvbmQuDQo+ID4NCj4gPiBJbiB0aGUgc2Nl
bmFyaW8gd2hlcmUgdGhlIGRlYnVnZ2VyIGF0dGFjaGVzIHRvIGEgcnVubmluZyB0YXJnZXQgcHJv
Y2VzcywNCj4gPiBpdCB3aWxsIGVuYWJsZSB0byB0cmFwIHRlbXBvcmFyaWVzIGl0c2VsZi4NCj4g
Pg0KPiA+IEZpbmFsbHksIHRoZXJlIGlzIGFuIGFkZGl0aW9uYWwgcmVzdHJpY3Rpb24gdGhhdCBp
cyByZXF1aXJlZCB0byBiZQ0KPiA+IGVuZm9yY2VkIHdpdGggcnVudGltZSBlbmFibGUgYW5kIEhX
IGRlYnVnIG1vZGUgc2V0dGluZy4gVGhlIGRlYnVnZ2VyDQo+IG11c3QNCj4gPiBmaXJzdCBlbnN1
cmUgdGhhdCBIVyBkZWJ1ZyBtb2RlIGhhcyBiZWVuIGVuYWJsZWQgYmVmb3JlIHBlcm1pdHRpbmcg
SFcNCj4gZGVidWcNCj4gPiBtb2RlIG9wZXJhdGlvbnMuDQo+ID4NCj4gPiBXaXRoIHNpbmdsZSBw
cm9jZXNzIGRlYnVnIGRldmljZXMsIGFsbG93aW5nIHRoZSBkZWJ1Z2dlciB0byBzZXQgZGVidWcN
Cj4gPiBIVyBtb2RlcyBwcmlvciB0byB0cmFwIGFjdGl2YXRpb24gbWVhbnMgdGhhdCBkZWJ1ZyBI
VyBtb2RlIHNldHRpbmcgY2FuDQo+ID4gb2NjdXIgYmVmb3JlIHRoZSBLRkQgaGFzIHJlc2VydmVk
IHRoZSBkZWJ1ZyBWTUlEICgweGYpIGZyb20gdGhlIGhhcmR3YXJlDQo+ID4gc2NoZWR1bGVyJ3Mg
Vk1JRCBhbGxvY2F0aW9uIHJlc291cmNlIHBvb2wuICBUaGlzIGNhbiByZXN1bHQgaW4gdGhlDQo+
ID4gaGFyZHdhcmUgc2NoZWR1bGVyIGFzc2lnbmluZyBWTUlEIDB4ZiB0byBhIG5vbi1kZWJ1Z2dl
ZCBwcm9jZXNzIGFuZA0KPiA+IGhhdmluZyB0aGF0IHByb2Nlc3MgaW5oZXJpdCBkZWJ1ZyBIVyBt
b2RlIHNldHRpbmdzIGludGVuZGVkIGZvciB0aGUNCj4gPiBkZWJ1Z2dlZCB0YXJnZXQgcHJvY2Vz
cyBpbnN0ZWFkLCB3aGljaCBpcyBib3RoIGluY29ycmVjdCBhbmQgcG90ZW50aWFsbHkNCj4gPiBm
YXRhbCBmb3Igbm9ybWFsIG1vZGUgb3BlcmF0aW9uLg0KPiA+DQo+ID4gV2l0aCBtdWx0aSBwcm9j
ZXNzIGRlYnVnIGRldmljZXMsIGFsbG93aW5nIHRoZSBkZWJ1Z2dlciB0byBzZXQgZGVidWcNCj4g
PiBIVyBtb2RlcyBwcmlvciB0byB0cmFwIGFjdGl2YXRpb24gbWVhbnMgdGhhdCBub24tZGVidWdn
ZWQgcHJvY2Vzc2VzDQo+ID4gbWlncmF0aW5nIHRvIGEgbmV3IFZNSUQgY291bGQgaW5oZXJpdCB1
bmludGVuZGVkIGRlYnVnIHNldHRpbmdzLg0KPiA+DQo+ID4gQWxsIGRlYnVnIG9wZXJhdGlvbnMg
dGhhdCB0b3VjaCBIVyBzZXR0aW5ncyBtdXN0IHJlcXVpcmUgdHJhcCBhY3RpdmF0aW9uDQo+ID4g
d2hlcmUgdHJhcCBhY3RpdmF0aW9uIGlzIHRyaWdnZXJlZCBieSBib3RoIGRlYnVnIGF0dGFjaCBh
bmQgcnVudGltZQ0KPiA+IGVuYWJsZW1lbnQgKHRhcmdldCBoYXMgS0ZEIG9wZW5lZCBhbmQgaXMg
cmVhZHkgdG8gZGlzcGF0Y2ggd29yaykuDQo+ID4NCj4gPiB2MjogZml4IHVwIGhpZXJhcmNoeSBv
ZiBzZW1hbnRpY3MgaW4gZGVzY3JpcHRpb24uDQo+ID4NCj4gPiBTaWduZWQtb2ZmLWJ5OiBKb25h
dGhhbiBLaW0gPGpvbmF0aGFuLmtpbUBhbWQuY29tPg0KPiA+IC0tLQ0KPiA+ICAgZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRrZmQva2ZkX2NoYXJkZXYuYyB8IDE1MA0KPiArKysrKysrKysrKysrKysr
KysrKysrLQ0KPiA+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX2RlYnVnLmMgICB8
ICAgNiArLQ0KPiA+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX2RlYnVnLmggICB8
ICAgNCArDQo+ID4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfcHJpdi5oICAgIHwg
ICAxICsNCj4gPiAgIDQgZmlsZXMgY2hhbmdlZCwgMTU3IGluc2VydGlvbnMoKyksIDQgZGVsZXRp
b25zKC0pDQo+ID4NCj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQv
a2ZkX2NoYXJkZXYuYw0KPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9jaGFyZGV2
LmMNCj4gPiBpbmRleCAwOWZlODU3NmRjOGMuLjQ2ZjlkNDUzZGM1ZSAxMDA2NDQNCj4gPiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfY2hhcmRldi5jDQo+ID4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX2NoYXJkZXYuYw0KPiA+IEBAIC0yNjU0LDExICsy
NjU0LDE0NyBAQCBzdGF0aWMgaW50IGtmZF9pb2N0bF9jcml1KHN0cnVjdCBmaWxlICpmaWxlcCwN
Cj4gc3RydWN0IGtmZF9wcm9jZXNzICpwLCB2b2lkICpkYXRhKQ0KPiA+ICAgICByZXR1cm4gcmV0
Ow0KPiA+ICAgfQ0KPiA+DQo+ID4gLXN0YXRpYyBpbnQga2ZkX2lvY3RsX3J1bnRpbWVfZW5hYmxl
KHN0cnVjdCBmaWxlICpmaWxlcCwgc3RydWN0IGtmZF9wcm9jZXNzICpwLA0KPiB2b2lkICpkYXRh
KQ0KPiA+ICtzdGF0aWMgaW50IHJ1bnRpbWVfZW5hYmxlKHN0cnVjdCBrZmRfcHJvY2VzcyAqcCwg
dWludDY0X3Qgcl9kZWJ1ZywNCj4gPiArICAgICAgICAgICAgICAgICAgIGJvb2wgZW5hYmxlX3R0
bXBfc2V0dXApDQo+ID4gICB7DQo+ID4gKyAgIGludCBpID0gMCwgcmV0ID0gMDsNCj4gPiArDQo+
ID4gKyAgIGlmIChwLT5pc19ydW50aW1lX3JldHJ5KQ0KPiA+ICsgICAgICAgICAgIGdvdG8gcmV0
cnk7DQo+ID4gKw0KPiA+ICsgICBpZiAocC0+cnVudGltZV9pbmZvLnJ1bnRpbWVfc3RhdGUgIT0N
Cj4gREVCVUdfUlVOVElNRV9TVEFURV9ESVNBQkxFRCkNCj4gPiArICAgICAgICAgICByZXR1cm4g
LUVCVVNZOw0KPiA+ICsNCj4gPiArICAgZm9yIChpID0gMDsgaSA8IHAtPm5fcGRkczsgaSsrKSB7
DQo+ID4gKyAgICAgICAgICAgc3RydWN0IGtmZF9wcm9jZXNzX2RldmljZSAqcGRkID0gcC0+cGRk
c1tpXTsNCj4gPiArDQo+ID4gKyAgICAgICAgICAgaWYgKHBkZC0+cXBkLnF1ZXVlX2NvdW50KQ0K
PiA+ICsgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1FRVhJU1Q7DQo+ID4gKyAgIH0NCj4gPiAr
DQo+ID4gKyAgIHAtPnJ1bnRpbWVfaW5mby5ydW50aW1lX3N0YXRlID0NCj4gREVCVUdfUlVOVElN
RV9TVEFURV9FTkFCTEVEOw0KPiA+ICsgICBwLT5ydW50aW1lX2luZm8ucl9kZWJ1ZyA9IHJfZGVi
dWc7DQo+ID4gKyAgIHAtPnJ1bnRpbWVfaW5mby50dG1wX3NldHVwID0gZW5hYmxlX3R0bXBfc2V0
dXA7DQo+ID4gKw0KPiA+ICsgICBpZiAocC0+cnVudGltZV9pbmZvLnR0bXBfc2V0dXApIHsNCj4g
PiArICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcC0+bl9wZGRzOyBpKyspIHsNCj4gPiArICAg
ICAgICAgICAgICAgICAgIHN0cnVjdCBrZmRfcHJvY2Vzc19kZXZpY2UgKnBkZCA9IHAtPnBkZHNb
aV07DQo+ID4gKw0KPiA+ICsgICAgICAgICAgICAgICAgICAgaWYgKCFrZmRfZGJnX2lzX3JsY19y
ZXN0b3JlX3N1cHBvcnRlZChwZGQtPmRldikpIHsNCj4gPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgYW1kZ3B1X2dmeF9vZmZfY3RybChwZGQtPmRldi0+YWRldiwgZmFsc2UpOw0KPiA+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICBwZGQtPmRldi0+a2ZkMmtnZC0+ZW5hYmxlX2RlYnVn
X3RyYXAoDQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBw
ZGQtPmRldi0+YWRldiwNCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHRydWUsDQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBwZGQtPmRldi0NCj4gPnZtX2luZm8ubGFzdF92bWlkX2tmZCk7DQo+ID4gKyAgICAgICAg
ICAgICAgICAgICB9DQo+ID4gKw0KPiA+ICsgICAgICAgICAgICAgICAgICAgaWYgKGtmZF9kYmdf
aXNfcGVyX3ZtaWRfc3VwcG9ydGVkKHBkZC0+ZGV2KSkgew0KPg0KPiBTaG91bGQgdGhpcyBiZSBl
bHNlLWlmPyBJdCBzZWVtcyB3ZWlyZCB0aGF0IGVuYWJsZV9kZWJ1Z190cmFwIGNvdWxkIGJlDQo+
IGNhbGxlZCB0d2ljZSBpbiBhIHJvdy4gSWYgUkxDIHJlc3RvcmUgaXMgb25seSBhcHBsaWNhYmxl
IG9uDQo+IHNpbmdsZS1wcm9jZXNzIGRlYnVnIGRldmljZXMsIHRoZW4gbWF5YmUgcHV0IHRoZSBw
ZXItVk1JRCBjYXNlIGZpcnN0Lg0KPg0KPg0KPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICBwZGQtPnNwaV9kYmdfb3ZlcnJpZGUgPSBwZGQtPmRldi0+a2ZkMmtnZC0NCj4gPmVuYWJsZV9k
ZWJ1Z190cmFwKA0KPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgcGRkLT5kZXYtPmFkZXYsDQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBmYWxzZSwNCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHBkZC0+ZGV2LQ0KPiA+dm1faW5mby5sYXN0X3ZtaWRfa2ZkKTsNCj4gPiArDQo+
ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGRkLT5kZXYtDQo+ID5zaGFyZWRf
cmVzb3VyY2VzLmVuYWJsZV9tZXMpDQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgZGVidWdfcmVmcmVzaF9ydW5saXN0KHBkZC0+ZGV2LQ0KPiA+ZHFtKTsNCj4gPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQ0KPiA+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIGtmZF9kYmdfc2V0X21lc19kZWJ1Z19tb2RlKHBkZCk7DQo+DQo+IERvIHdl
IHJlYWxseSBuZWVkIHRvIHVwZGF0ZSB0aGUgcnVubGlzdCBoZXJlPyBXaGVuIHRoZSBydW50aW1l
IGdldHMNCj4gZW5hYmxlZCwgdGhlcmUgYXJlIG5vIHF1ZXVlcyB5ZXQgZm9yIHRoZSBwcm9jZXNz
LiBTbyB0aGVyZSBzaG91bGQgYmUgbm8NCj4gY2hhbmdlIHRvIHRoZSBydW5saXN0IHVudGlsIHRo
ZSBwcm9jZXNzIGNyZWF0ZXMgaXRzIGZpcnN0IHF1ZXVlLg0KDQpBY2tlZC4gIFllYWggdGhpcyBz
ZWVtcyB1bm5lY2Vzc2FyeSBhbmQgY2FuIGJlIGRyb3BwZWQuDQo+DQo+DQo+ID4gKyAgICAgICAg
ICAgICAgICAgICB9DQo+ID4gKyAgICAgICAgICAgfQ0KPiA+ICsgICB9DQo+ID4gKw0KPiA+ICty
ZXRyeToNCj4gPiArICAgaWYgKHAtPmRlYnVnX3RyYXBfZW5hYmxlZCkgew0KPiA+ICsgICAgICAg
ICAgIGlmICghcC0+aXNfcnVudGltZV9yZXRyeSkgew0KPiA+ICsgICAgICAgICAgICAgICAgICAg
a2ZkX2RiZ190cmFwX2FjdGl2YXRlKHApOw0KPiA+ICsNCj4gICAgICAga2ZkX2RiZ19ldl9yYWlz
ZShLRkRfRUNfTUFTSyhFQ19QUk9DRVNTX1JVTlRJTUUpLA0KPiA+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHAsIE5VTEwsIDAsIGZhbHNlLCBOVUxMLCAwKTsNCj4gPiArICAg
ICAgICAgICB9DQo+ID4gKw0KPiA+ICsgICAgICAgICAgIG11dGV4X3VubG9jaygmcC0+bXV0ZXgp
Ow0KPiA+ICsgICAgICAgICAgIHJldCA9IGRvd25faW50ZXJydXB0aWJsZSgmcC0+cnVudGltZV9l
bmFibGVfc2VtYSk7DQo+ID4gKyAgICAgICAgICAgbXV0ZXhfbG9jaygmcC0+bXV0ZXgpOw0KPiA+
ICsNCj4gPiArICAgICAgICAgICBwLT5pc19ydW50aW1lX3JldHJ5ID0gISFyZXQ7DQo+ID4gKyAg
IH0NCj4gPiArDQo+ID4gKyAgIHJldHVybiByZXQ7DQo+ID4gK30NCj4gPiArDQo+ID4gK3N0YXRp
YyBpbnQgcnVudGltZV9kaXNhYmxlKHN0cnVjdCBrZmRfcHJvY2VzcyAqcCkNCj4gPiArew0KPiA+
ICsgICBpbnQgaSA9IDAsIHJldDsNCj4gPiArICAgYm9vbCB3YXNfZW5hYmxlZCA9IHAtPnJ1bnRp
bWVfaW5mby5ydW50aW1lX3N0YXRlID09DQo+IERFQlVHX1JVTlRJTUVfU1RBVEVfRU5BQkxFRDsN
Cj4gPiArDQo+ID4gKyAgIHAtPnJ1bnRpbWVfaW5mby5ydW50aW1lX3N0YXRlID0NCj4gREVCVUdf
UlVOVElNRV9TVEFURV9ESVNBQkxFRDsNCj4gPiArICAgcC0+cnVudGltZV9pbmZvLnJfZGVidWcg
PSAwOw0KPiA+ICsNCj4gPiArICAgaWYgKHAtPmRlYnVnX3RyYXBfZW5hYmxlZCkgew0KPiA+ICsg
ICAgICAgICAgIGlmICh3YXNfZW5hYmxlZCkNCj4gPiArICAgICAgICAgICAgICAgICAgIGtmZF9k
YmdfdHJhcF9kZWFjdGl2YXRlKHAsIGZhbHNlLCAwKTsNCj4NCj4gRG9lcyB0aGlzIGNhbGwga2Zk
X2RiZ190cmFwX2RlYWN0aXZhdGUgbXVsdGlwbGUgdGltZXMgb24gcmV0cnk/IElzIHRoYXQNCj4g
YSBwcm9ibGVtPw0KDQpJIGRvbid0IHRoaW5rIGRiZ190cmFwX2RlYWN0aXZhdGUgZ2V0cyBjYWxs
ZWQgYWdhaW4gb24gcmV0cnkuICBQcmlvciB0byB0aGUgZGVhY3RpdmF0ZSBjYWxsLCB0aGUgcGVy
LXByb2Nlc3MgcnVudGltZSBzdGF0ZSBnZXRzIHNhdmVkIGFzIERFQlVHX1JVTlRJTUVfU1RBVEVf
RElTQUJMRUQgYW5kIGVhcmx5IHJldHVybnMgb24gYSBkb3duX2ludGVycnVwdGlibGUgZXJyb3Iu
ICBJZiB0aGUgY2FsbGVyIHJldHJpZXMgb24gdGhlIGVycm9yLCB0aGlzIG1lYW5zIHdhc19lbmFi
bGVkIGlzIGZhbHNlIHNvIHdlIG5ldmVyIGRlYWN0aXZhdGUgYWdhaW4uDQoNClRoYW5rcywNCg0K
Sm9uDQoNCj4NCj4gUmVnYXJkcywNCj4gICAgRmVsaXgNCj4NCj4NCj4gPiArDQo+ID4gKyAgICAg
ICAgICAgaWYgKCFwLT5pc19ydW50aW1lX3JldHJ5KQ0KPiA+ICsNCj4gICAgICAga2ZkX2RiZ19l
dl9yYWlzZShLRkRfRUNfTUFTSyhFQ19QUk9DRVNTX1JVTlRJTUUpLA0KPiA+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHAsIE5VTEwsIDAsIGZhbHNlLCBOVUxMLCAwKTsNCj4g
PiArDQo+ID4gKyAgICAgICAgICAgbXV0ZXhfdW5sb2NrKCZwLT5tdXRleCk7DQo+ID4gKyAgICAg
ICAgICAgcmV0ID0gZG93bl9pbnRlcnJ1cHRpYmxlKCZwLT5ydW50aW1lX2VuYWJsZV9zZW1hKTsN
Cj4gPiArICAgICAgICAgICBtdXRleF9sb2NrKCZwLT5tdXRleCk7DQo+ID4gKw0KPiA+ICsgICAg
ICAgICAgIHAtPmlzX3J1bnRpbWVfcmV0cnkgPSAhIXJldDsNCj4gPiArICAgICAgICAgICBpZiAo
cmV0KQ0KPiA+ICsgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDsNCj4gPiArICAgfQ0KPiA+
ICsNCj4gPiArICAgaWYgKHdhc19lbmFibGVkICYmIHAtPnJ1bnRpbWVfaW5mby50dG1wX3NldHVw
KSB7DQo+ID4gKyAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHAtPm5fcGRkczsgaSsrKSB7DQo+
ID4gKyAgICAgICAgICAgICAgICAgICBzdHJ1Y3Qga2ZkX3Byb2Nlc3NfZGV2aWNlICpwZGQgPSBw
LT5wZGRzW2ldOw0KPiA+ICsNCj4gPiArICAgICAgICAgICAgICAgICAgIGlmICgha2ZkX2RiZ19p
c19ybGNfcmVzdG9yZV9zdXBwb3J0ZWQocGRkLT5kZXYpKQ0KPiA+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICBhbWRncHVfZ2Z4X29mZl9jdHJsKHBkZC0+ZGV2LT5hZGV2LCB0cnVlKTsNCj4g
PiArICAgICAgICAgICB9DQo+ID4gKyAgIH0NCj4gPiArDQo+ID4gKyAgIHAtPnJ1bnRpbWVfaW5m
by50dG1wX3NldHVwID0gZmFsc2U7DQo+ID4gKw0KPiA+ICsgICAvKiBkaXNhYmxlIERJU1BBVENI
X1BUUiBzYXZlICovDQo+ID4gKyAgIGZvciAoaSA9IDA7IGkgPCBwLT5uX3BkZHM7IGkrKykgew0K
PiA+ICsgICAgICAgICAgIHN0cnVjdCBrZmRfcHJvY2Vzc19kZXZpY2UgKnBkZCA9IHAtPnBkZHNb
aV07DQo+ID4gKw0KPiA+ICsgICAgICAgICAgIGlmIChrZmRfZGJnX2lzX3Blcl92bWlkX3N1cHBv
cnRlZChwZGQtPmRldikpIHsNCj4gPiArICAgICAgICAgICAgICAgICAgIHBkZC0+c3BpX2RiZ19v
dmVycmlkZSA9DQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGRkLT5k
ZXYtPmtmZDJrZ2QtDQo+ID5kaXNhYmxlX2RlYnVnX3RyYXAoDQo+ID4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgcGRkLT5kZXYtPmFkZXYsDQo+ID4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgZmFsc2UsDQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgcGRkLT5kZXYtPnZtX2luZm8ubGFzdF92bWlkX2tmZCk7DQo+ID4gKw0KPiA+
ICsgICAgICAgICAgICAgICAgICAgaWYgKCFwZGQtPmRldi0+c2hhcmVkX3Jlc291cmNlcy5lbmFi
bGVfbWVzKQ0KPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWJ1Z19yZWZyZXNoX3J1
bmxpc3QocGRkLT5kZXYtPmRxbSk7DQo+ID4gKyAgICAgICAgICAgICAgICAgICBlbHNlDQo+ID4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgIGtmZF9kYmdfc2V0X21lc19kZWJ1Z19tb2RlKHBk
ZCk7DQo+ID4gKyAgICAgICAgICAgfQ0KPiA+ICsgICB9DQo+ID4gKw0KPiA+ICAgICByZXR1cm4g
MDsNCj4gPiAgIH0NCj4gPg0KPiA+ICtzdGF0aWMgaW50IGtmZF9pb2N0bF9ydW50aW1lX2VuYWJs
ZShzdHJ1Y3QgZmlsZSAqZmlsZXAsIHN0cnVjdCBrZmRfcHJvY2Vzcw0KPiAqcCwgdm9pZCAqZGF0
YSkNCj4gPiArew0KPiA+ICsgICBzdHJ1Y3Qga2ZkX2lvY3RsX3J1bnRpbWVfZW5hYmxlX2FyZ3Mg
KmFyZ3MgPSBkYXRhOw0KPiA+ICsgICBpbnQgcjsNCj4gPiArDQo+ID4gKyAgIG11dGV4X2xvY2so
JnAtPm11dGV4KTsNCj4gPiArDQo+ID4gKyAgIGlmIChhcmdzLT5tb2RlX21hc2sgJg0KPiBLRkRf
UlVOVElNRV9FTkFCTEVfTU9ERV9FTkFCTEVfTUFTSykNCj4gPiArICAgICAgICAgICByID0gcnVu
dGltZV9lbmFibGUocCwgYXJncy0+cl9kZWJ1ZywNCj4gPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgISEoYXJncy0+bW9kZV9tYXNrICYNCj4gS0ZEX1JVTlRJTUVfRU5BQkxFX01PREVfVFRN
UF9TQVZFX01BU0spKTsNCj4gPiArICAgZWxzZQ0KPiA+ICsgICAgICAgICAgIHIgPSBydW50aW1l
X2Rpc2FibGUocCk7DQo+ID4gKw0KPiA+ICsgICBtdXRleF91bmxvY2soJnAtPm11dGV4KTsNCj4g
PiArDQo+ID4gKyAgIHJldHVybiByOw0KPiA+ICt9DQo+ID4gKw0KPiA+ICAgc3RhdGljIGludCBr
ZmRfaW9jdGxfc2V0X2RlYnVnX3RyYXAoc3RydWN0IGZpbGUgKmZpbGVwLCBzdHJ1Y3Qga2ZkX3By
b2Nlc3MNCj4gKnAsIHZvaWQgKmRhdGEpDQo+ID4gICB7DQo+ID4gICAgIHN0cnVjdCBrZmRfaW9j
dGxfZGJnX3RyYXBfYXJncyAqYXJncyA9IGRhdGE7DQo+ID4gQEAgLTI3MjAsNiArMjg1NiwxOCBA
QCBzdGF0aWMgaW50IGtmZF9pb2N0bF9zZXRfZGVidWdfdHJhcChzdHJ1Y3QgZmlsZQ0KPiAqZmls
ZXAsIHN0cnVjdCBrZmRfcHJvY2VzcyAqcCwgdg0KPiA+ICAgICAgICAgICAgIGdvdG8gdW5sb2Nr
X291dDsNCj4gPiAgICAgfQ0KPiA+DQo+ID4gKyAgIGlmICh0YXJnZXQtPnJ1bnRpbWVfaW5mby5y
dW50aW1lX3N0YXRlICE9DQo+IERFQlVHX1JVTlRJTUVfU1RBVEVfRU5BQkxFRCAmJg0KPiA+ICsg
ICAgICAgICAgICAgICAgICAgKGFyZ3MtPm9wID09DQo+IEtGRF9JT0NfREJHX1RSQVBfU0VUX1dB
VkVfTEFVTkNIX09WRVJSSURFIHx8DQo+ID4gKyAgICAgICAgICAgICAgICAgICAgYXJncy0+b3Ag
PT0NCj4gS0ZEX0lPQ19EQkdfVFJBUF9TRVRfV0FWRV9MQVVOQ0hfTU9ERSB8fA0KPiA+ICsgICAg
ICAgICAgICAgICAgICAgIGFyZ3MtPm9wID09IEtGRF9JT0NfREJHX1RSQVBfU1VTUEVORF9RVUVV
RVMNCj4gfHwNCj4gPiArICAgICAgICAgICAgICAgICAgICBhcmdzLT5vcCA9PSBLRkRfSU9DX0RC
R19UUkFQX1JFU1VNRV9RVUVVRVMNCj4gfHwNCj4gPiArICAgICAgICAgICAgICAgICAgICBhcmdz
LT5vcCA9PQ0KPiBLRkRfSU9DX0RCR19UUkFQX1NFVF9OT0RFX0FERFJFU1NfV0FUQ0ggfHwNCj4g
PiArICAgICAgICAgICAgICAgICAgICBhcmdzLT5vcCA9PQ0KPiBLRkRfSU9DX0RCR19UUkFQX0NM
RUFSX05PREVfQUREUkVTU19XQVRDSCB8fA0KPiA+ICsgICAgICAgICAgICAgICAgICAgIGFyZ3Mt
Pm9wID09IEtGRF9JT0NfREJHX1RSQVBfU0VUX0ZMQUdTKSkgew0KPiA+ICsgICAgICAgICAgIHIg
PSAtRVBFUk07DQo+ID4gKyAgICAgICAgICAgZ290byB1bmxvY2tfb3V0Ow0KPiA+ICsgICB9DQo+
ID4gKw0KPiA+ICAgICBzd2l0Y2ggKGFyZ3MtPm9wKSB7DQo+ID4gICAgIGNhc2UgS0ZEX0lPQ19E
QkdfVFJBUF9FTkFCTEU6DQo+ID4gICAgICAgICAgICAgaWYgKHRhcmdldCAhPSBwKQ0KPiA+IGRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfZGVidWcuYw0KPiBiL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9kZWJ1Zy5jDQo+ID4gaW5kZXggNDE3NGI0Nzll
YTZmLi40N2Y4NDI1YTBkYjMgMTAwNjQ0DQo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRrZmQva2ZkX2RlYnVnLmMNCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9r
ZmRfZGVidWcuYw0KPiA+IEBAIC0yMjAsNyArMjIwLDcgQEAgc3RhdGljIGludCBrZmRfZGJnX3Nl
dF93b3JrYXJvdW5kKHN0cnVjdA0KPiBrZmRfcHJvY2VzcyAqdGFyZ2V0LCBib29sIGVuYWJsZSkN
Cj4gPiAgICAgcmV0dXJuIHI7DQo+ID4gICB9DQo+ID4NCj4gPiAtc3RhdGljIGludCBrZmRfZGJn
X3NldF9tZXNfZGVidWdfbW9kZShzdHJ1Y3Qga2ZkX3Byb2Nlc3NfZGV2aWNlICpwZGQpDQo+ID4g
K2ludCBrZmRfZGJnX3NldF9tZXNfZGVidWdfbW9kZShzdHJ1Y3Qga2ZkX3Byb2Nlc3NfZGV2aWNl
ICpwZGQpDQo+ID4gICB7DQo+ID4gICAgIHVpbnQzMl90IHNwaV9kYmdfY250bCA9IHBkZC0+c3Bp
X2RiZ19vdmVycmlkZSB8IHBkZC0NCj4gPnNwaV9kYmdfbGF1bmNoX21vZGU7DQo+ID4gICAgIHVp
bnQzMl90IGZsYWdzID0gcGRkLT5wcm9jZXNzLT5kYmdfZmxhZ3M7DQo+ID4gQEAgLTI0MCw3ICsy
NDAsNyBAQCBzdGF0aWMgaW50IGtmZF9kYmdfc2V0X21lc19kZWJ1Z19tb2RlKHN0cnVjdA0KPiBr
ZmRfcHJvY2Vzc19kZXZpY2UgKnBkZCkNCj4gPiAgICAqICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICB0byB1bndpbmQNCj4gPiAgICAqICAgICAgICAgICAgICAgIGVsc2U6IGlnbm9yZWQN
Cj4gPiAgICAqLw0KPiA+IC1zdGF0aWMgdm9pZCBrZmRfZGJnX3RyYXBfZGVhY3RpdmF0ZShzdHJ1
Y3Qga2ZkX3Byb2Nlc3MgKnRhcmdldCwgYm9vbA0KPiB1bndpbmQsIGludCB1bndpbmRfY291bnQp
DQo+ID4gK3ZvaWQga2ZkX2RiZ190cmFwX2RlYWN0aXZhdGUoc3RydWN0IGtmZF9wcm9jZXNzICp0
YXJnZXQsIGJvb2wgdW53aW5kLA0KPiBpbnQgdW53aW5kX2NvdW50KQ0KPiA+ICAgew0KPiA+ICAg
ICBpbnQgaSwgY291bnQgPSAwOw0KPiA+DQo+ID4gQEAgLTMxMSw3ICszMTEsNyBAQCBpbnQga2Zk
X2RiZ190cmFwX2Rpc2FibGUoc3RydWN0IGtmZF9wcm9jZXNzDQo+ICp0YXJnZXQpDQo+ID4gICAg
IHJldHVybiAwOw0KPiA+ICAgfQ0KPiA+DQo+ID4gLXN0YXRpYyBpbnQga2ZkX2RiZ190cmFwX2Fj
dGl2YXRlKHN0cnVjdCBrZmRfcHJvY2VzcyAqdGFyZ2V0KQ0KPiA+ICtpbnQga2ZkX2RiZ190cmFw
X2FjdGl2YXRlKHN0cnVjdCBrZmRfcHJvY2VzcyAqdGFyZ2V0KQ0KPiA+ICAgew0KPiA+ICAgICBp
bnQgaSwgciA9IDAsIHVud2luZF9jb3VudCA9IDA7DQo+ID4NCj4gPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX2RlYnVnLmgNCj4gYi9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGtmZC9rZmRfZGVidWcuaA0KPiA+IGluZGV4IGZlZmI5ZGM1Y2Y2OS4uMjI3MDdmN2Ey
MzY4IDEwMDY0NA0KPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9kZWJ1
Zy5oDQo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX2RlYnVnLmgNCj4g
PiBAQCAtMjgsNiArMjgsOCBAQA0KPiA+ICAgdm9pZCBrZ2RfZ2Z4X3Y5X3NldF93YXZlX2xhdW5j
aF9zdGFsbChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4gPiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICB1aW50MzJfdCB2bWlkLA0KPiA+ICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGJvb2wgc3RhbGwpOw0KPiA+ICt2b2lkIGtmZF9kYmdfdHJhcF9k
ZWFjdGl2YXRlKHN0cnVjdCBrZmRfcHJvY2VzcyAqdGFyZ2V0LCBib29sIHVud2luZCwNCj4gaW50
IHVud2luZF9jb3VudCk7DQo+ID4gK2ludCBrZmRfZGJnX3RyYXBfYWN0aXZhdGUoc3RydWN0IGtm
ZF9wcm9jZXNzICp0YXJnZXQpOw0KPiA+ICAgYm9vbCBrZmRfZGJnX2V2X3JhaXNlKHVpbnQ2NF90
IGV2ZW50X21hc2ssDQo+ID4gICAgICAgICAgICAgICAgICAgICBzdHJ1Y3Qga2ZkX3Byb2Nlc3Mg
KnByb2Nlc3MsIHN0cnVjdCBrZmRfZGV2ICpkZXYsDQo+ID4gICAgICAgICAgICAgICAgICAgICB1
bnNpZ25lZCBpbnQgc291cmNlX2lkLCBib29sIHVzZV93b3JrZXIsDQo+ID4gQEAgLTgwLDQgKzgy
LDYgQEAgc3RhdGljIGlubGluZSBib29sIGtmZF9kYmdfaGFzX2d3c19zdXBwb3J0KHN0cnVjdA0K
PiBrZmRfZGV2ICpkZXYpDQo+ID4gICAgIC8qIEFzc3VtZSBkZWJ1Z2dpbmcgYW5kIGNvb3BlcmF0
aXZlIGxhdW5jaCBzdXBwb3J0ZWQgb3RoZXJ3aXNlLg0KPiAqLw0KPiA+ICAgICByZXR1cm4gdHJ1
ZTsNCj4gPiAgIH0NCj4gPiArDQo+ID4gK2ludCBrZmRfZGJnX3NldF9tZXNfZGVidWdfbW9kZShz
dHJ1Y3Qga2ZkX3Byb2Nlc3NfZGV2aWNlICpwZGQpOw0KPiA+ICAgI2VuZGlmDQo+ID4gZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9wcml2LmgNCj4gYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfcHJpdi5oDQo+ID4gaW5kZXggNGNiNDMzYTIxZTNkLi42
M2M1OWFkMmE0Y2EgMTAwNjQ0DQo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQv
a2ZkX3ByaXYuaA0KPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9wcml2
LmgNCj4gPiBAQCAtOTQ2LDYgKzk0Niw3IEBAIHN0cnVjdCBrZmRfcHJvY2VzcyB7DQo+ID4NCj4g
PiAgICAgLyogVHJhY2tzIHJ1bnRpbWUgZW5hYmxlIHN0YXR1cyAqLw0KPiA+ICAgICBzdHJ1Y3Qg
c2VtYXBob3JlIHJ1bnRpbWVfZW5hYmxlX3NlbWE7DQo+ID4gKyAgIGJvb2wgaXNfcnVudGltZV9y
ZXRyeTsNCj4gPiAgICAgc3RydWN0IGtmZF9ydW50aW1lX2luZm8gcnVudGltZV9pbmZvOw0KPiA+
DQo+ID4gICB9Ow0K
