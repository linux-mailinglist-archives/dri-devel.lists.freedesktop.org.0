Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id DE73324D9B
	for <lists+dri-devel@lfdr.de>; Tue, 21 May 2019 13:08:44 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C61E1892FB;
	Tue, 21 May 2019 11:08:38 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mx1.suse.de (mx2.suse.de [195.135.220.15])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 55EA5892FB
 for <dri-devel@lists.freedesktop.org>; Tue, 21 May 2019 11:08:37 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id E168FAEC6;
 Tue, 21 May 2019 11:08:35 +0000 (UTC)
From: Thomas Zimmermann <tzimmermann@suse.de>
To: daniel@ffwll.ch, airlied@linux.ie, kraxel@redhat.com,
 christian.koenig@amd.com, ray.huang@amd.com, sam@ravnborg.org
Subject: [PATCH 1/3] drm: Replace drm_gem_vram_push_to_system() with kunmap +
 unpin
Date: Tue, 21 May 2019 13:08:29 +0200
Message-Id: <20190521110831.20200-2-tzimmermann@suse.de>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190521110831.20200-1-tzimmermann@suse.de>
References: <20190521110831.20200-1-tzimmermann@suse.de>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Thomas Zimmermann <tzimmermann@suse.de>, dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIHB1c2gtdG8tc3lzdGVtIGZ1bmN0aW9uIGZvcmNlcyBhIGJ1ZmZlciBvdXQgb2YgdmlkZW8g
UkFNLiBUaGlzIGRlY2lzaW9uCnNob3VsZCByYXRoZXIgYmUgbWFkZSBieSB0aGUgbWVtb3J5IG1h
bmFnZXIuIEJ5IHJlcGxhY2luZyB0aGUgZnVuY3Rpb24gd2l0aApjYWxscyB0byB0aGUga3VubWFw
IGFuZCB1bnBpbiBmdW5jdGlvbnMsIHRoZSBidWZmZXIncyBtZW1vcnkgYmVjb21lcyBhdmFpbGFi
bGUsCmJ1dCB0aGUgYnVmZmVyIHJlbWFpbnMgaW4gVlJBTSB1bnRpbCBpdCdzIGV2aWN0ZWQgYnkg
YSBwaW4gb3BlcmF0aW9uLgoKVGhpcyBwYXRjaCByZXBsYWNlcyB0aGUgcmVtYWluaW5nIGluc3Rh
bmNlcyBvZiBkcm1fZ2VtX3ZyYW1fcHVzaF90b19zeXN0ZW0oKQppbiBhc3QgYW5kIG1nYWcyMDAs
IGFuZCByZW1vdmVzIHRoZSBmdW5jdGlvbiBmcm9tIERSTS4KClNpZ25lZC1vZmYtYnk6IFRob21h
cyBaaW1tZXJtYW5uIDx0emltbWVybWFubkBzdXNlLmRlPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9h
c3QvYXN0X21vZGUuYyAgICAgICAgICAgfCAxNCArKysrKy0tCiBkcml2ZXJzL2dwdS9kcm0vZHJt
X2dlbV92cmFtX2hlbHBlci5jICAgIHwgNTAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiBkcml2
ZXJzL2dwdS9kcm0vZHJtX3ZyYW1faGVscGVyX2NvbW1vbi5jIHwgIDIgLQogZHJpdmVycy9ncHUv
ZHJtL21nYWcyMDAvbWdhZzIwMF9tb2RlLmMgICB8IDE1ICsrKystLS0KIGluY2x1ZGUvZHJtL2Ry
bV9nZW1fdnJhbV9oZWxwZXIuaCAgICAgICAgfCAgMSAtCiA1IGZpbGVzIGNoYW5nZWQsIDIwIGlu
c2VydGlvbnMoKyksIDYyIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9hc3QvYXN0X21vZGUuYyBiL2RyaXZlcnMvZ3B1L2RybS9hc3QvYXN0X21vZGUuYwppbmRleCA5
YWNhOTEzNWE1Y2MuLmZiYWZlMzk5NDY1NCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2Fz
dC9hc3RfbW9kZS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hc3QvYXN0X21vZGUuYwpAQCAtNTIx
LDcgKzUyMSw2IEBAIHN0YXRpYyB2b2lkIGFzdF9jcnRjX2RwbXMoc3RydWN0IGRybV9jcnRjICpj
cnRjLCBpbnQgbW9kZSkKIAl9CiB9CiAKLS8qIGFzdCBpcyBkaWZmZXJlbnQgLSB3ZSB3aWxsIGZv
cmNlIG1vdmUgYnVmZmVycyBvdXQgb2YgVlJBTSAqLwogc3RhdGljIGludCBhc3RfY3J0Y19kb19z
ZXRfYmFzZShzdHJ1Y3QgZHJtX2NydGMgKmNydGMsCiAJCQkJc3RydWN0IGRybV9mcmFtZWJ1ZmZl
ciAqZmIsCiAJCQkJaW50IHgsIGludCB5LCBpbnQgYXRvbWljKQpAQCAtNTM0LDEyICs1MzMsMTUg
QEAgc3RhdGljIGludCBhc3RfY3J0Y19kb19zZXRfYmFzZShzdHJ1Y3QgZHJtX2NydGMgKmNydGMs
CiAJczY0IGdwdV9hZGRyOwogCXZvaWQgKmJhc2U7CiAKLQkvKiBwdXNoIHRoZSBwcmV2aW91cyBm
YiB0byBzeXN0ZW0gcmFtICovCiAJaWYgKCFhdG9taWMgJiYgZmIpIHsKIAkJYXN0X2ZiID0gdG9f
YXN0X2ZyYW1lYnVmZmVyKGZiKTsKIAkJb2JqID0gYXN0X2ZiLT5vYmo7CiAJCWdibyA9IGRybV9n
ZW1fdnJhbV9vZl9nZW0ob2JqKTsKLQkJZHJtX2dlbV92cmFtX3B1c2hfdG9fc3lzdGVtKGdibyk7
CisKKwkJLyogdW5tYXAgaWYgY29uc29sZSAqLworCQlpZiAoJmFzdC0+ZmJkZXYtPmFmYiA9PSBh
c3RfZmIpCisJCQlkcm1fZ2VtX3ZyYW1fa3VubWFwKGdibyk7CisJCWRybV9nZW1fdnJhbV91bnBp
bihnYm8pOwogCX0KIAogCWFzdF9mYiA9IHRvX2FzdF9mcmFtZWJ1ZmZlcihjcnRjLT5wcmltYXJ5
LT5mYik7CkBAIC02MjIsMTEgKzYyNCwxNSBAQCBzdGF0aWMgdm9pZCBhc3RfY3J0Y19kaXNhYmxl
KHN0cnVjdCBkcm1fY3J0YyAqY3J0YykKIAlEUk1fREVCVUdfS01TKCJcbiIpOwogCWFzdF9jcnRj
X2RwbXMoY3J0YywgRFJNX01PREVfRFBNU19PRkYpOwogCWlmIChjcnRjLT5wcmltYXJ5LT5mYikg
eworCQlzdHJ1Y3QgYXN0X3ByaXZhdGUgKmFzdCA9IGNydGMtPmRldi0+ZGV2X3ByaXZhdGU7CiAJ
CXN0cnVjdCBhc3RfZnJhbWVidWZmZXIgKmFzdF9mYiA9IHRvX2FzdF9mcmFtZWJ1ZmZlcihjcnRj
LT5wcmltYXJ5LT5mYik7CiAJCXN0cnVjdCBkcm1fZ2VtX29iamVjdCAqb2JqID0gYXN0X2ZiLT5v
Ymo7CiAJCXN0cnVjdCBkcm1fZ2VtX3ZyYW1fb2JqZWN0ICpnYm8gPSBkcm1fZ2VtX3ZyYW1fb2Zf
Z2VtKG9iaik7CiAKLQkJZHJtX2dlbV92cmFtX3B1c2hfdG9fc3lzdGVtKGdibyk7CisJCS8qIHVu
bWFwIGlmIGNvbnNvbGUgKi8KKwkJaWYgKCZhc3QtPmZiZGV2LT5hZmIgPT0gYXN0X2ZiKQorCQkJ
ZHJtX2dlbV92cmFtX2t1bm1hcChnYm8pOworCQlkcm1fZ2VtX3ZyYW1fdW5waW4oZ2JvKTsKIAl9
CiAJY3J0Yy0+cHJpbWFyeS0+ZmIgPSBOVUxMOwogfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2RybV9nZW1fdnJhbV9oZWxwZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fZ2VtX3ZyYW1f
aGVscGVyLmMKaW5kZXggYmRlODIzN2U4MDIxLi5iMzQxYjcwODMyYmUgMTAwNjQ0Ci0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9kcm1fZ2VtX3ZyYW1faGVscGVyLmMKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2RybV9nZW1fdnJhbV9oZWxwZXIuYwpAQCAtMzc5LDU2ICszNzksNiBAQCBpbnQgZHJtX2dlbV92
cmFtX3VucGluX3Jlc2VydmVkKHN0cnVjdCBkcm1fZ2VtX3ZyYW1fb2JqZWN0ICpnYm8pCiB9CiBF
WFBPUlRfU1lNQk9MKGRybV9nZW1fdnJhbV91bnBpbl9yZXNlcnZlZCk7CiAKLS8qKgotICogZHJt
X2dlbV92cmFtX3B1c2hfdG9fc3lzdGVtKCkgLSBcCi0JVW5waW5zIGEgR0VNIFZSQU0gb2JqZWN0
IGFuZCBtb3ZlcyBpdCB0byBzeXN0ZW0gbWVtb3J5Ci0gKiBAZ2JvOgl0aGUgR0VNIFZSQU0gb2Jq
ZWN0Ci0gKgotICogVGhpcyBvcGVyYXRpb24gb25seSB3b3JrcyBpZiB0aGUgY2FsbGVyIGhvbGRz
IHRoZSBmaW5hbCBwaW4gb24gdGhlCi0gKiBidWZmZXIgb2JqZWN0LgotICoKLSAqIFJldHVybnM6
Ci0gKiAwIG9uIHN1Y2Nlc3MsIG9yCi0gKiBhIG5lZ2F0aXZlIGVycm9yIGNvZGUgb3RoZXJ3aXNl
LgotICovCi1pbnQgZHJtX2dlbV92cmFtX3B1c2hfdG9fc3lzdGVtKHN0cnVjdCBkcm1fZ2VtX3Zy
YW1fb2JqZWN0ICpnYm8pCi17Ci0JaW50IGksIHJldDsKLQlzdHJ1Y3QgdHRtX29wZXJhdGlvbl9j
dHggY3R4ID0geyBmYWxzZSwgZmFsc2UgfTsKLQotCXJldCA9IHR0bV9ib19yZXNlcnZlKCZnYm8t
PmJvLCB0cnVlLCBmYWxzZSwgTlVMTCk7Ci0JaWYgKHJldCA8IDApCi0JCXJldHVybiByZXQ7Ci0K
LQlpZiAoV0FSTl9PTl9PTkNFKCFnYm8tPnBpbl9jb3VudCkpCi0JCWdvdG8gb3V0OwotCi0JLS1n
Ym8tPnBpbl9jb3VudDsKLQlpZiAoZ2JvLT5waW5fY291bnQpCi0JCWdvdG8gb3V0OwotCi0JaWYg
KGdiby0+a21hcC52aXJ0dWFsKQotCQl0dG1fYm9fa3VubWFwKCZnYm8tPmttYXApOwotCi0JZHJt
X2dlbV92cmFtX3BsYWNlbWVudChnYm8sIFRUTV9QTF9GTEFHX1NZU1RFTSk7Ci0JZm9yIChpID0g
MDsgaSA8IGdiby0+cGxhY2VtZW50Lm51bV9wbGFjZW1lbnQgOyArK2kpCi0JCWdiby0+cGxhY2Vt
ZW50c1tpXS5mbGFncyB8PSBUVE1fUExfRkxBR19OT19FVklDVDsKLQotCXJldCA9IHR0bV9ib192
YWxpZGF0ZSgmZ2JvLT5ibywgJmdiby0+cGxhY2VtZW50LCAmY3R4KTsKLQlpZiAocmV0KQotCQln
b3RvIGVycl90dG1fYm9fdW5yZXNlcnZlOwotCi1vdXQ6Ci0JdHRtX2JvX3VucmVzZXJ2ZSgmZ2Jv
LT5ibyk7Ci0KLQlyZXR1cm4gMDsKLQotZXJyX3R0bV9ib191bnJlc2VydmU6Ci0JdHRtX2JvX3Vu
cmVzZXJ2ZSgmZ2JvLT5ibyk7Ci0JcmV0dXJuIHJldDsKLX0KLUVYUE9SVF9TWU1CT0woZHJtX2dl
bV92cmFtX3B1c2hfdG9fc3lzdGVtKTsKLQogLyoqCiAgKiBkcm1fZ2VtX3ZyYW1fa21hcF9hdCgp
IC0gTWFwcyBhIEdFTSBWUkFNIG9iamVjdCBpbnRvIGtlcm5lbCBhZGRyZXNzIHNwYWNlCiAgKiBA
Z2JvOgl0aGUgR0VNIFZSQU0gb2JqZWN0CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vZHJt
X3ZyYW1faGVscGVyX2NvbW1vbi5jIGIvZHJpdmVycy9ncHUvZHJtL2RybV92cmFtX2hlbHBlcl9j
b21tb24uYwppbmRleCAzYjQ3ZjcwMDIxMTUuLmU5YzlmOWE4MGJhMyAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2RybV92cmFtX2hlbHBlcl9jb21tb24uYworKysgYi9kcml2ZXJzL2dwdS9k
cm0vZHJtX3ZyYW1faGVscGVyX2NvbW1vbi5jCkBAIC03OSw4ICs3OSw2IEBACiAgKiBSQU0uIENh
bGwgZHJtX2dlbV92cmFtX3BpbigpIHdpdGggJkRSTV9HRU1fVlJBTV9QTF9GTEFHX1ZSQU0gb3IK
ICAqICZEUk1fR0VNX1ZSQU1fUExfRkxBR19TWVNURU0gdG8gcGluIGEgYnVmZmVyIG9iamVjdCBp
biB2aWRlbyBSQU0gb3Igc3lzdGVtCiAgKiBtZW1vcnkuIENhbGwgZHJtX2dlbV92cmFtX3VucGlu
KCkgdG8gcmVsZWFzZSB0aGUgcGlubmVkIG9iamVjdCBhZnRlcndhcmRzLgotICogSWYgeW91IGhh
dmUgdG8gZXZpY3QgYSBidWZmZXIgb2JqZWN0IGZyb20gdmlkZW8gUkFNIChlLmcuLCBmb3IgZnJl
ZWluZyB1cAotICogbWVtb3J5KSwgdW5waW4gdGhlIGJ1ZmZlciBhbmQgY2FsbCBkcm1fZ2VtX3Zy
YW1fcHVzaF90b19zeXN0ZW0oKS4KICAqCiAgKiBBIGJ1ZmZlciBvYmplY3QgdGhhdCBpcyBwaW5u
ZWQgaW4gdmlkZW8gUkFNIGhhcyBhIGZpeGVkIGFkZHJlc3Mgd2l0aGluIHRoYXQKICAqIG1lbW9y
eSByZWdpb24uIENhbGwgZHJtX2dlbV92cmFtX29mZnNldCgpIHRvIHJldHJpZXZlIHRoaXMgdmFs
dWUuIFR5cGljYWxseQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL21nYWcyMDAvbWdhZzIw
MF9tb2RlLmMgYi9kcml2ZXJzL2dwdS9kcm0vbWdhZzIwMC9tZ2FnMjAwX21vZGUuYwppbmRleCBl
Nzk4NzJjOTY4YmYuLjFjOGUwYmZhYzAxNSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL21n
YWcyMDAvbWdhZzIwMF9tb2RlLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL21nYWcyMDAvbWdhZzIw
MF9tb2RlLmMKQEAgLTg1OCw4ICs4NTgsNiBAQCBzdGF0aWMgdm9pZCBtZ2Ffc2V0X3N0YXJ0X2Fk
ZHJlc3Moc3RydWN0IGRybV9jcnRjICpjcnRjLCB1bnNpZ25lZCBvZmZzZXQpCiAJV1JFR19FQ1JU
KDB4MCwgKCh1OCkoYWRkciA+PiAxNikgJiAweGYpIHwgY3J0Y2V4dDApOwogfQogCi0KLS8qIGFz
dCBpcyBkaWZmZXJlbnQgLSB3ZSB3aWxsIGZvcmNlIG1vdmUgYnVmZmVycyBvdXQgb2YgVlJBTSAq
Lwogc3RhdGljIGludCBtZ2FfY3J0Y19kb19zZXRfYmFzZShzdHJ1Y3QgZHJtX2NydGMgKmNydGMs
CiAJCQkJc3RydWN0IGRybV9mcmFtZWJ1ZmZlciAqZmIsCiAJCQkJaW50IHgsIGludCB5LCBpbnQg
YXRvbWljKQpAQCAtODcyLDEyICs4NzAsMTUgQEAgc3RhdGljIGludCBtZ2FfY3J0Y19kb19zZXRf
YmFzZShzdHJ1Y3QgZHJtX2NydGMgKmNydGMsCiAJczY0IGdwdV9hZGRyOwogCXZvaWQgKmJhc2U7
CiAKLQkvKiBwdXNoIHRoZSBwcmV2aW91cyBmYiB0byBzeXN0ZW0gcmFtICovCiAJaWYgKCFhdG9t
aWMgJiYgZmIpIHsKIAkJbWdhX2ZiID0gdG9fbWdhX2ZyYW1lYnVmZmVyKGZiKTsKIAkJb2JqID0g
bWdhX2ZiLT5vYmo7CiAJCWdibyA9IGRybV9nZW1fdnJhbV9vZl9nZW0ob2JqKTsKLQkJZHJtX2dl
bV92cmFtX3B1c2hfdG9fc3lzdGVtKGdibyk7CisKKwkJLyogdW5tYXAgaWYgY29uc29sZSAqLwor
CQlpZiAoJm1kZXYtPm1mYmRldi0+bWZiID09IG1nYV9mYikKKwkJCWRybV9nZW1fdnJhbV9rdW5t
YXAoZ2JvKTsKKwkJZHJtX2dlbV92cmFtX3VucGluKGdibyk7CiAJfQogCiAJbWdhX2ZiID0gdG9f
bWdhX2ZyYW1lYnVmZmVyKGNydGMtPnByaW1hcnktPmZiKTsKQEAgLTE0MjUsMTEgKzE0MjYsMTUg
QEAgc3RhdGljIHZvaWQgbWdhX2NydGNfZGlzYWJsZShzdHJ1Y3QgZHJtX2NydGMgKmNydGMpCiAJ
RFJNX0RFQlVHX0tNUygiXG4iKTsKIAltZ2FfY3J0Y19kcG1zKGNydGMsIERSTV9NT0RFX0RQTVNf
T0ZGKTsKIAlpZiAoY3J0Yy0+cHJpbWFyeS0+ZmIpIHsKKwkJc3RydWN0IG1nYV9kZXZpY2UgKm1k
ZXYgPSBjcnRjLT5kZXYtPmRldl9wcml2YXRlOwogCQlzdHJ1Y3QgbWdhX2ZyYW1lYnVmZmVyICpt
Z2FfZmIgPSB0b19tZ2FfZnJhbWVidWZmZXIoY3J0Yy0+cHJpbWFyeS0+ZmIpOwogCQlzdHJ1Y3Qg
ZHJtX2dlbV9vYmplY3QgKm9iaiA9IG1nYV9mYi0+b2JqOwogCQlzdHJ1Y3QgZHJtX2dlbV92cmFt
X29iamVjdCAqZ2JvID0gZHJtX2dlbV92cmFtX29mX2dlbShvYmopOwogCi0JCWRybV9nZW1fdnJh
bV9wdXNoX3RvX3N5c3RlbShnYm8pOworCQkvKiB1bm1hcCBpZiBjb25zb2xlICovCisJCWlmICgm
bWRldi0+bWZiZGV2LT5tZmIgPT0gbWdhX2ZiKQorCQkJZHJtX2dlbV92cmFtX2t1bm1hcChnYm8p
OworCQlkcm1fZ2VtX3ZyYW1fdW5waW4oZ2JvKTsKIAl9CiAJY3J0Yy0+cHJpbWFyeS0+ZmIgPSBO
VUxMOwogfQpkaWZmIC0tZ2l0IGEvaW5jbHVkZS9kcm0vZHJtX2dlbV92cmFtX2hlbHBlci5oIGIv
aW5jbHVkZS9kcm0vZHJtX2dlbV92cmFtX2hlbHBlci5oCmluZGV4IGZmMWE4MTc2MTU0My4uMjJl
NTJkN2RmYmI3IDEwMDY0NAotLS0gYS9pbmNsdWRlL2RybS9kcm1fZ2VtX3ZyYW1faGVscGVyLmgK
KysrIGIvaW5jbHVkZS9kcm0vZHJtX2dlbV92cmFtX2hlbHBlci5oCkBAIC04Niw3ICs4Niw2IEBA
IGludCBkcm1fZ2VtX3ZyYW1fcGluX3Jlc2VydmVkKHN0cnVjdCBkcm1fZ2VtX3ZyYW1fb2JqZWN0
ICpnYm8sCiAJCQkgICAgICB1bnNpZ25lZCBsb25nIHBsX2ZsYWcpOwogaW50IGRybV9nZW1fdnJh
bV91bnBpbihzdHJ1Y3QgZHJtX2dlbV92cmFtX29iamVjdCAqZ2JvKTsKIGludCBkcm1fZ2VtX3Zy
YW1fdW5waW5fcmVzZXJ2ZWQoc3RydWN0IGRybV9nZW1fdnJhbV9vYmplY3QgKmdibyk7Ci1pbnQg
ZHJtX2dlbV92cmFtX3B1c2hfdG9fc3lzdGVtKHN0cnVjdCBkcm1fZ2VtX3ZyYW1fb2JqZWN0ICpn
Ym8pOwogdm9pZCAqZHJtX2dlbV92cmFtX2ttYXBfYXQoc3RydWN0IGRybV9nZW1fdnJhbV9vYmpl
Y3QgKmdibywgYm9vbCBtYXAsCiAJCQkgICBib29sICppc19pb21lbSwgc3RydWN0IHR0bV9ib19r
bWFwX29iaiAqa21hcCk7CiB2b2lkICpkcm1fZ2VtX3ZyYW1fa21hcChzdHJ1Y3QgZHJtX2dlbV92
cmFtX29iamVjdCAqZ2JvLCBib29sIG1hcCwKLS0gCjIuMjEuMAoKX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmkt
ZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
L21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
