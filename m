Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 2A6082ADF63
	for <lists+dri-devel@lfdr.de>; Tue, 10 Nov 2020 20:31:41 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 20C6189BF3;
	Tue, 10 Nov 2020 19:31:30 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wm1-x343.google.com (mail-wm1-x343.google.com
 [IPv6:2a00:1450:4864:20::343])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7479189BF5
 for <dri-devel@lists.freedesktop.org>; Tue, 10 Nov 2020 19:31:26 +0000 (UTC)
Received: by mail-wm1-x343.google.com with SMTP id d142so4344772wmd.4
 for <dri-devel@lists.freedesktop.org>; Tue, 10 Nov 2020 11:31:26 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=linaro.org; s=google;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=EMKJYN4cADZ/51nOTydJW9dcnK9yEI29SFRHcdhKjx0=;
 b=tmfnWr1PFAZjvFUoR70C/EeiHh5YP6TtNv8y7lYw9Nw/feqC/lAHTDFMby7fV5FYcU
 Xba3hs1WRtRejNsmv02L/hFQLaAYQDGw6Och/0RDZf6Ho1Amyy0v8jPCl2v4pRL715vh
 4XrOLlYqOBrdIoiV//72GwFAqDwm38Ob165dWEIj1YbMTku/gm1pH8F4vhZe9F7BoK0C
 qG3uSnS1N2HGx9nyo23hGifKjDayTPAB7nk1cnK3ZhwdAyZvOd8xei3kfhXCOJUU21Yy
 pMyLIP58Uo9TymtizzG224a6YIiOduHQ64qsLYpu1vtbBoYwqJdERv9byTxsUSlKAXZE
 QACg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=EMKJYN4cADZ/51nOTydJW9dcnK9yEI29SFRHcdhKjx0=;
 b=Zh3ql9IB4KwirOrX404/ecf6S/+/3kIOyQyv8WhSeUtPH4GL75qmDIZRFSq7m/hUZV
 GCkY5pYl8FgM8yVrZ4NIKLd3WJ21JagT/LV+3niH3Cr8wY+XJFvDhutPfjlehONTEMM8
 IZU/jvrkOkyOUAa2CBhEFkX4Yt7mPAozeoU0nH9K1Ji0b4mke4GCuRahAHQha1ptatis
 eVK+Vh2KGuaG1CK9AB9AwW5I3AyJbdKUwnAEJe6HT1vxwHw9NQI/cBxLqp5nGGd7TwLA
 VNkCvqNmJzzDOPI9dT2VLq9aaHsC9lO3+MEMDvFKGSAeYMl9u104OZ2HdCi9mow9BpTQ
 HVzQ==
X-Gm-Message-State: AOAM531QL4OmAHt5gVPJj9/9ltcSOIq7JRGMhFf4m17fR1/ySvblFOEJ
 lmwX/SDYMofd59CYxwbMCrpjuA==
X-Google-Smtp-Source: ABdhPJxrbn865pa+UCi0erSAXQ2pS/9WWnTcZgMUBaoEYzX0Vkb0Z8f1dsA8oecg7rHXf54RhODuXg==
X-Received: by 2002:a1c:3846:: with SMTP id f67mr750176wma.33.1605036685081;
 Tue, 10 Nov 2020 11:31:25 -0800 (PST)
Received: from dell.default ([91.110.221.139])
 by smtp.gmail.com with ESMTPSA id 30sm17635335wrs.84.2020.11.10.11.31.24
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Tue, 10 Nov 2020 11:31:24 -0800 (PST)
From: Lee Jones <lee.jones@linaro.org>
To: lee.jones@linaro.org
Subject: [PATCH 07/30] drm/radeon/kv_dpm: Strip out unused functions and their
 tables
Date: Tue, 10 Nov 2020 19:30:49 +0000
Message-Id: <20201110193112.988999-8-lee.jones@linaro.org>
X-Mailer: git-send-email 2.25.1
In-Reply-To: <20201110193112.988999-1-lee.jones@linaro.org>
References: <20201110193112.988999-1-lee.jones@linaro.org>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: David Airlie <airlied@linux.ie>, linux-kernel@vger.kernel.org,
 amd-gfx@lists.freedesktop.org, dri-devel@lists.freedesktop.org,
 Alex Deucher <alexander.deucher@amd.com>,
 =?UTF-8?q?Christian=20K=C3=B6nig?= <christian.koenig@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlc2UgaGF2ZW4ndCBiZWVuIHVzZWQgc2luY2UgdGhlIGRyaXZlciB3YXMgdXBzdHJlYW1lZCBp
biAyMDEzLgoKRml4ZXMgdGhlIGZvbGxvd2luZyBXPTEga2VybmVsIGJ1aWxkIHdhcm5pbmcocyk6
CgogZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9rdl9kcG0uYzoxNjE6NDA6IHdhcm5pbmc6IOKAmGNw
bF9jYWNfY29uZmlnX3JlZ+KAmSBkZWZpbmVkIGJ1dCBub3QgdXNlZCBbLVd1bnVzZWQtY29uc3Qt
dmFyaWFibGU9XQogZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9rdl9kcG0uYzoxNTY6NDA6IHdhcm5p
bmc6IOKAmG1jM19jYWNfY29uZmlnX3JlZ+KAmSBkZWZpbmVkIGJ1dCBub3QgdXNlZCBbLVd1bnVz
ZWQtY29uc3QtdmFyaWFibGU9XQogZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9rdl9kcG0uYzoxNTE6
NDA6IHdhcm5pbmc6IOKAmG1jMl9jYWNfY29uZmlnX3JlZ+KAmSBkZWZpbmVkIGJ1dCBub3QgdXNl
ZCBbLVd1bnVzZWQtY29uc3QtdmFyaWFibGU9XQogZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9rdl9k
cG0uYzoxNDY6NDA6IHdhcm5pbmc6IOKAmG1jMV9jYWNfY29uZmlnX3JlZ+KAmSBkZWZpbmVkIGJ1
dCBub3QgdXNlZCBbLVd1bnVzZWQtY29uc3QtdmFyaWFibGU9XQogZHJpdmVycy9ncHUvZHJtL3Jh
ZGVvbi9rdl9kcG0uYzoxNDE6NDA6IHdhcm5pbmc6IOKAmG1jMF9jYWNfY29uZmlnX3JlZ+KAmSBk
ZWZpbmVkIGJ1dCBub3QgdXNlZCBbLVd1bnVzZWQtY29uc3QtdmFyaWFibGU9XQogZHJpdmVycy9n
cHUvZHJtL3JhZGVvbi9rdl9kcG0uYzoxMzY6NDA6IHdhcm5pbmc6IOKAmHN4MF9jYWNfY29uZmln
X3JlZ+KAmSBkZWZpbmVkIGJ1dCBub3QgdXNlZCBbLVd1bnVzZWQtY29uc3QtdmFyaWFibGU9XQog
ZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9rdl9kcG0uYzoxMDQ6NDM6IHdhcm5pbmc6IOKAmGNwbF9s
b2NhbF9jYWNfY2ZnX2t24oCZIGRlZmluZWQgYnV0IG5vdCB1c2VkIFstV3VudXNlZC1jb25zdC12
YXJpYWJsZT1dCiBkcml2ZXJzL2dwdS9kcm0vcmFkZW9uL2t2X2RwbS5jOjk4OjQzOiB3YXJuaW5n
OiDigJhtYzNfbG9jYWxfY2FjX2NmZ19rduKAmSBkZWZpbmVkIGJ1dCBub3QgdXNlZCBbLVd1bnVz
ZWQtY29uc3QtdmFyaWFibGU9XQogZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9rdl9kcG0uYzo5Mjo0
Mzogd2FybmluZzog4oCYbWMyX2xvY2FsX2NhY19jZmdfa3bigJkgZGVmaW5lZCBidXQgbm90IHVz
ZWQgWy1XdW51c2VkLWNvbnN0LXZhcmlhYmxlPV0KIGRyaXZlcnMvZ3B1L2RybS9yYWRlb24va3Zf
ZHBtLmM6ODY6NDM6IHdhcm5pbmc6IOKAmG1jMV9sb2NhbF9jYWNfY2ZnX2t24oCZIGRlZmluZWQg
YnV0IG5vdCB1c2VkIFstV3VudXNlZC1jb25zdC12YXJpYWJsZT1dCiBkcml2ZXJzL2dwdS9kcm0v
cmFkZW9uL2t2X2RwbS5jOjgwOjQzOiB3YXJuaW5nOiDigJhtYzBfbG9jYWxfY2FjX2NmZ19rduKA
mSBkZWZpbmVkIGJ1dCBub3QgdXNlZCBbLVd1bnVzZWQtY29uc3QtdmFyaWFibGU9XQogZHJpdmVy
cy9ncHUvZHJtL3JhZGVvbi9rdl9kcG0uYzo2Nzo0Mzogd2FybmluZzog4oCYc3hfbG9jYWxfY2Fj
X2NmZ19rduKAmSBkZWZpbmVkIGJ1dCBub3QgdXNlZCBbLVd1bnVzZWQtY29uc3QtdmFyaWFibGU9
XQoKQ2M6IEFsZXggRGV1Y2hlciA8YWxleGFuZGVyLmRldWNoZXJAYW1kLmNvbT4KQ2M6ICJDaHJp
c3RpYW4gS8O2bmlnIiA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPgpDYzogRGF2aWQgQWlybGll
IDxhaXJsaWVkQGxpbnV4LmllPgpDYzogRGFuaWVsIFZldHRlciA8ZGFuaWVsQGZmd2xsLmNoPgpD
YzogYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKQ2M6IGRyaS1kZXZlbEBsaXN0cy5mcmVl
ZGVza3RvcC5vcmcKU2lnbmVkLW9mZi1ieTogTGVlIEpvbmVzIDxsZWUuam9uZXNAbGluYXJvLm9y
Zz4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vcmFkZW9uL2t2X2RwbS5jIHwgMjA1ICstLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAxIGZpbGUgY2hhbmdlZCwgMSBpbnNlcnRpb24oKyksIDIw
NCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL2t2X2Rw
bS5jIGIvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9rdl9kcG0uYwppbmRleCA1ZTYwODZlYjE4MDcz
Li5mNzczNWRhMDdmZWI5IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL2t2X2Rw
bS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24va3ZfZHBtLmMKQEAgLTY0LDEwNSArNjQs
NiBAQCBleHRlcm4gdm9pZCBjaWtfZXhpdF9ybGNfc2FmZV9tb2RlKHN0cnVjdCByYWRlb25fZGV2
aWNlICpyZGV2KTsKIGV4dGVybiB2b2lkIGNpa191cGRhdGVfY2coc3RydWN0IHJhZGVvbl9kZXZp
Y2UgKnJkZXYsCiAJCQkgIHUzMiBibG9jaywgYm9vbCBlbmFibGUpOwogCi1zdGF0aWMgY29uc3Qg
c3RydWN0IGt2X2xjYWNfY29uZmlnX3ZhbHVlcyBzeF9sb2NhbF9jYWNfY2ZnX2t2W10gPQotewot
CXsgIDAsICAgICAgIDQsICAgICAgICAxICAgIH0sCi0JeyAgMSwgICAgICAgNCwgICAgICAgIDEg
ICAgfSwKLQl7ICAyLCAgICAgICA1LCAgICAgICAgMSAgICB9LAotCXsgIDMsICAgICAgIDQsICAg
ICAgICAyICAgIH0sCi0JeyAgNCwgICAgICAgMSwgICAgICAgIDEgICAgfSwKLQl7ICA1LCAgICAg
ICA1LCAgICAgICAgMiAgICB9LAotCXsgIDYsICAgICAgIDYsICAgICAgICAxICAgIH0sCi0JeyAg
NywgICAgICAgOSwgICAgICAgIDIgICAgfSwKLQl7IDB4ZmZmZmZmZmYgfQotfTsKLQotc3RhdGlj
IGNvbnN0IHN0cnVjdCBrdl9sY2FjX2NvbmZpZ192YWx1ZXMgbWMwX2xvY2FsX2NhY19jZmdfa3Zb
XSA9Ci17Ci0JeyAgMCwgICAgICAgNCwgICAgICAgIDEgICAgfSwKLQl7IDB4ZmZmZmZmZmYgfQot
fTsKLQotc3RhdGljIGNvbnN0IHN0cnVjdCBrdl9sY2FjX2NvbmZpZ192YWx1ZXMgbWMxX2xvY2Fs
X2NhY19jZmdfa3ZbXSA9Ci17Ci0JeyAgMCwgICAgICAgNCwgICAgICAgIDEgICAgfSwKLQl7IDB4
ZmZmZmZmZmYgfQotfTsKLQotc3RhdGljIGNvbnN0IHN0cnVjdCBrdl9sY2FjX2NvbmZpZ192YWx1
ZXMgbWMyX2xvY2FsX2NhY19jZmdfa3ZbXSA9Ci17Ci0JeyAgMCwgICAgICAgNCwgICAgICAgIDEg
ICAgfSwKLQl7IDB4ZmZmZmZmZmYgfQotfTsKLQotc3RhdGljIGNvbnN0IHN0cnVjdCBrdl9sY2Fj
X2NvbmZpZ192YWx1ZXMgbWMzX2xvY2FsX2NhY19jZmdfa3ZbXSA9Ci17Ci0JeyAgMCwgICAgICAg
NCwgICAgICAgIDEgICAgfSwKLQl7IDB4ZmZmZmZmZmYgfQotfTsKLQotc3RhdGljIGNvbnN0IHN0
cnVjdCBrdl9sY2FjX2NvbmZpZ192YWx1ZXMgY3BsX2xvY2FsX2NhY19jZmdfa3ZbXSA9Ci17Ci0J
eyAgMCwgICAgICAgNCwgICAgICAgIDEgICAgfSwKLQl7ICAxLCAgICAgICA0LCAgICAgICAgMSAg
ICB9LAotCXsgIDIsICAgICAgIDUsICAgICAgICAxICAgIH0sCi0JeyAgMywgICAgICAgNCwgICAg
ICAgIDEgICAgfSwKLQl7ICA0LCAgICAgICAxLCAgICAgICAgMSAgICB9LAotCXsgIDUsICAgICAg
IDUsICAgICAgICAxICAgIH0sCi0JeyAgNiwgICAgICAgNiwgICAgICAgIDEgICAgfSwKLQl7ICA3
LCAgICAgICA5LCAgICAgICAgMSAgICB9LAotCXsgIDgsICAgICAgIDQsICAgICAgICAxICAgIH0s
Ci0JeyAgOSwgICAgICAgMiwgICAgICAgIDEgICAgfSwKLQl7ICAxMCwgICAgICAzLCAgICAgICAg
MSAgICB9LAotCXsgIDExLCAgICAgIDYsICAgICAgICAxICAgIH0sCi0JeyAgMTIsICAgICAgOCwg
ICAgICAgIDIgICAgfSwKLQl7ICAxMywgICAgICAxLCAgICAgICAgMSAgICB9LAotCXsgIDE0LCAg
ICAgIDIsICAgICAgICAxICAgIH0sCi0JeyAgMTUsICAgICAgMywgICAgICAgIDEgICAgfSwKLQl7
ICAxNiwgICAgICAxLCAgICAgICAgMSAgICB9LAotCXsgIDE3LCAgICAgIDQsICAgICAgICAxICAg
IH0sCi0JeyAgMTgsICAgICAgMywgICAgICAgIDEgICAgfSwKLQl7ICAxOSwgICAgICAxLCAgICAg
ICAgMSAgICB9LAotCXsgIDIwLCAgICAgIDgsICAgICAgICAxICAgIH0sCi0JeyAgMjEsICAgICAg
NSwgICAgICAgIDEgICAgfSwKLQl7ICAyMiwgICAgICAxLCAgICAgICAgMSAgICB9LAotCXsgIDIz
LCAgICAgIDEsICAgICAgICAxICAgIH0sCi0JeyAgMjQsICAgICAgNCwgICAgICAgIDEgICAgfSwK
LQl7ICAyNywgICAgICA2LCAgICAgICAgMSAgICB9LAotCXsgIDI4LCAgICAgIDEsICAgICAgICAx
ICAgIH0sCi0JeyAweGZmZmZmZmZmIH0KLX07Ci0KLXN0YXRpYyBjb25zdCBzdHJ1Y3Qga3ZfbGNh
Y19jb25maWdfcmVnIHN4MF9jYWNfY29uZmlnX3JlZ1tdID0KLXsKLQl7IDB4YzA0MDBkMDAsIDB4
MDAzZTAwMDAsIDE3LCAweDNmYzAwMDAwLCAyMiwgMHgwMDAxZmZmZSwgMSwgMHgwMDAwMDAwMSwg
MCB9Ci19OwotCi1zdGF0aWMgY29uc3Qgc3RydWN0IGt2X2xjYWNfY29uZmlnX3JlZyBtYzBfY2Fj
X2NvbmZpZ19yZWdbXSA9Ci17Ci0JeyAweGMwNDAwZDMwLCAweDAwM2UwMDAwLCAxNywgMHgzZmMw
MDAwMCwgMjIsIDB4MDAwMWZmZmUsIDEsIDB4MDAwMDAwMDEsIDAgfQotfTsKLQotc3RhdGljIGNv
bnN0IHN0cnVjdCBrdl9sY2FjX2NvbmZpZ19yZWcgbWMxX2NhY19jb25maWdfcmVnW10gPQotewot
CXsgMHhjMDQwMGQzYywgMHgwMDNlMDAwMCwgMTcsIDB4M2ZjMDAwMDAsIDIyLCAweDAwMDFmZmZl
LCAxLCAweDAwMDAwMDAxLCAwIH0KLX07Ci0KLXN0YXRpYyBjb25zdCBzdHJ1Y3Qga3ZfbGNhY19j
b25maWdfcmVnIG1jMl9jYWNfY29uZmlnX3JlZ1tdID0KLXsKLQl7IDB4YzA0MDBkNDgsIDB4MDAz
ZTAwMDAsIDE3LCAweDNmYzAwMDAwLCAyMiwgMHgwMDAxZmZmZSwgMSwgMHgwMDAwMDAwMSwgMCB9
Ci19OwotCi1zdGF0aWMgY29uc3Qgc3RydWN0IGt2X2xjYWNfY29uZmlnX3JlZyBtYzNfY2FjX2Nv
bmZpZ19yZWdbXSA9Ci17Ci0JeyAweGMwNDAwZDU0LCAweDAwM2UwMDAwLCAxNywgMHgzZmMwMDAw
MCwgMjIsIDB4MDAwMWZmZmUsIDEsIDB4MDAwMDAwMDEsIDAgfQotfTsKLQotc3RhdGljIGNvbnN0
IHN0cnVjdCBrdl9sY2FjX2NvbmZpZ19yZWcgY3BsX2NhY19jb25maWdfcmVnW10gPQotewotCXsg
MHhjMDQwMGQ4MCwgMHgwMDNlMDAwMCwgMTcsIDB4M2ZjMDAwMDAsIDIyLCAweDAwMDFmZmZlLCAx
LCAweDAwMDAwMDAxLCAwIH0KLX07Ci0KIHN0YXRpYyBjb25zdCBzdHJ1Y3Qga3ZfcHRfY29uZmln
X3JlZyBkaWR0X2NvbmZpZ19rdltdID0KIHsKIAl7IDB4MTAsIDB4MDAwMDAwZmYsIDAsIDB4MCwg
S1ZfQ09ORklHUkVHX0RJRFRfSU5EIH0sCkBAIC0yNTQsMzIgKzE1NSw2IEBAIHN0YXRpYyBzdHJ1
Y3Qga3ZfcG93ZXJfaW5mbyAqa3ZfZ2V0X3BpKHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2KQog
CXJldHVybiBwaTsKIH0KIAotI2lmIDAKLXN0YXRpYyB2b2lkIGt2X3Byb2dyYW1fbG9jYWxfY2Fj
X3RhYmxlKHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2LAotCQkJCSAgICAgICBjb25zdCBzdHJ1
Y3Qga3ZfbGNhY19jb25maWdfdmFsdWVzICpsb2NhbF9jYWNfdGFibGUsCi0JCQkJICAgICAgIGNv
bnN0IHN0cnVjdCBrdl9sY2FjX2NvbmZpZ19yZWcgKmxvY2FsX2NhY19yZWcpCi17Ci0JdTMyIGks
IGNvdW50LCBkYXRhOwotCWNvbnN0IHN0cnVjdCBrdl9sY2FjX2NvbmZpZ192YWx1ZXMgKnZhbHVl
cyA9IGxvY2FsX2NhY190YWJsZTsKLQotCXdoaWxlICh2YWx1ZXMtPmJsb2NrX2lkICE9IDB4ZmZm
ZmZmZmYpIHsKLQkJY291bnQgPSB2YWx1ZXMtPnNpZ25hbF9pZDsKLQkJZm9yIChpID0gMDsgaSA8
IGNvdW50OyBpKyspIHsKLQkJCWRhdGEgPSAoKHZhbHVlcy0+YmxvY2tfaWQgPDwgbG9jYWxfY2Fj
X3JlZy0+YmxvY2tfc2hpZnQpICYKLQkJCQlsb2NhbF9jYWNfcmVnLT5ibG9ja19tYXNrKTsKLQkJ
CWRhdGEgfD0gKChpIDw8IGxvY2FsX2NhY19yZWctPnNpZ25hbF9zaGlmdCkgJgotCQkJCSBsb2Nh
bF9jYWNfcmVnLT5zaWduYWxfbWFzayk7Ci0JCQlkYXRhIHw9ICgodmFsdWVzLT50IDw8IGxvY2Fs
X2NhY19yZWctPnRfc2hpZnQpICYKLQkJCQkgbG9jYWxfY2FjX3JlZy0+dF9tYXNrKTsKLQkJCWRh
dGEgfD0gKCgxIDw8IGxvY2FsX2NhY19yZWctPmVuYWJsZV9zaGlmdCkgJgotCQkJCSBsb2NhbF9j
YWNfcmVnLT5lbmFibGVfbWFzayk7Ci0JCQlXUkVHMzJfU01DKGxvY2FsX2NhY19yZWctPmNudGws
IGRhdGEpOwotCQl9Ci0JCXZhbHVlcysrOwotCX0KLX0KLSNlbmRpZgotCiBzdGF0aWMgaW50IGt2
X3Byb2dyYW1fcHRfY29uZmlnX3JlZ2lzdGVycyhzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldiwK
IAkJCQkJICBjb25zdCBzdHJ1Y3Qga3ZfcHRfY29uZmlnX3JlZyAqY2FjX2NvbmZpZ19yZWdzKQog
ewpAQCAtMzk4LDM5ICsyNzMsNiBAQCBzdGF0aWMgaW50IGt2X2VuYWJsZV9kaWR0KHN0cnVjdCBy
YWRlb25fZGV2aWNlICpyZGV2LCBib29sIGVuYWJsZSkKIAlyZXR1cm4gMDsKIH0KIAotI2lmIDAK
LXN0YXRpYyB2b2lkIGt2X2luaXRpYWxpemVfaGFyZHdhcmVfY2FjX21hbmFnZXIoc3RydWN0IHJh
ZGVvbl9kZXZpY2UgKnJkZXYpCi17Ci0Jc3RydWN0IGt2X3Bvd2VyX2luZm8gKnBpID0ga3ZfZ2V0
X3BpKHJkZXYpOwotCi0JaWYgKHBpLT5jYXBzX2NhYykgewotCQlXUkVHMzJfU01DKExDQUNfU1gw
X09WUl9TRUwsIDApOwotCQlXUkVHMzJfU01DKExDQUNfU1gwX09WUl9WQUwsIDApOwotCQlrdl9w
cm9ncmFtX2xvY2FsX2NhY190YWJsZShyZGV2LCBzeF9sb2NhbF9jYWNfY2ZnX2t2LCBzeDBfY2Fj
X2NvbmZpZ19yZWcpOwotCi0JCVdSRUczMl9TTUMoTENBQ19NQzBfT1ZSX1NFTCwgMCk7Ci0JCVdS
RUczMl9TTUMoTENBQ19NQzBfT1ZSX1ZBTCwgMCk7Ci0JCWt2X3Byb2dyYW1fbG9jYWxfY2FjX3Rh
YmxlKHJkZXYsIG1jMF9sb2NhbF9jYWNfY2ZnX2t2LCBtYzBfY2FjX2NvbmZpZ19yZWcpOwotCi0J
CVdSRUczMl9TTUMoTENBQ19NQzFfT1ZSX1NFTCwgMCk7Ci0JCVdSRUczMl9TTUMoTENBQ19NQzFf
T1ZSX1ZBTCwgMCk7Ci0JCWt2X3Byb2dyYW1fbG9jYWxfY2FjX3RhYmxlKHJkZXYsIG1jMV9sb2Nh
bF9jYWNfY2ZnX2t2LCBtYzFfY2FjX2NvbmZpZ19yZWcpOwotCi0JCVdSRUczMl9TTUMoTENBQ19N
QzJfT1ZSX1NFTCwgMCk7Ci0JCVdSRUczMl9TTUMoTENBQ19NQzJfT1ZSX1ZBTCwgMCk7Ci0JCWt2
X3Byb2dyYW1fbG9jYWxfY2FjX3RhYmxlKHJkZXYsIG1jMl9sb2NhbF9jYWNfY2ZnX2t2LCBtYzJf
Y2FjX2NvbmZpZ19yZWcpOwotCi0JCVdSRUczMl9TTUMoTENBQ19NQzNfT1ZSX1NFTCwgMCk7Ci0J
CVdSRUczMl9TTUMoTENBQ19NQzNfT1ZSX1ZBTCwgMCk7Ci0JCWt2X3Byb2dyYW1fbG9jYWxfY2Fj
X3RhYmxlKHJkZXYsIG1jM19sb2NhbF9jYWNfY2ZnX2t2LCBtYzNfY2FjX2NvbmZpZ19yZWcpOwot
Ci0JCVdSRUczMl9TTUMoTENBQ19DUExfT1ZSX1NFTCwgMCk7Ci0JCVdSRUczMl9TTUMoTENBQ19D
UExfT1ZSX1ZBTCwgMCk7Ci0JCWt2X3Byb2dyYW1fbG9jYWxfY2FjX3RhYmxlKHJkZXYsIGNwbF9s
b2NhbF9jYWNfY2ZnX2t2LCBjcGxfY2FjX2NvbmZpZ19yZWcpOwotCX0KLX0KLSNlbmRpZgotCiBz
dGF0aWMgaW50IGt2X2VuYWJsZV9zbWNfY2FjKHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2LCBi
b29sIGVuYWJsZSkKIHsKIAlzdHJ1Y3Qga3ZfcG93ZXJfaW5mbyAqcGkgPSBrdl9nZXRfcGkocmRl
dik7CkBAIC0xMjI3LDkgKzEwNjksNyBAQCBpbnQga3ZfZHBtX2VuYWJsZShzdHJ1Y3QgcmFkZW9u
X2RldmljZSAqcmRldikKIAkJcmV0dXJuIHJldDsKIAl9CiAJa3ZfcHJvZ3JhbV92YyhyZGV2KTsK
LSNpZiAwCi0Ja3ZfaW5pdGlhbGl6ZV9oYXJkd2FyZV9jYWNfbWFuYWdlcihyZGV2KTsKLSNlbmRp
ZgorCiAJa3Zfc3RhcnRfYW0ocmRldik7CiAJaWYgKHBpLT5lbmFibGVfYXV0b190aGVybWFsX3Ro
cm90dGxpbmcpIHsKIAkJcmV0ID0ga3ZfZW5hYmxlX2F1dG9fdGhlcm1hbF90aHJvdHRsaW5nKHJk
ZXYpOwpAQCAtMTMzMCwyNiArMTE3MCw2IEBAIHZvaWQga3ZfZHBtX2Rpc2FibGUoc3RydWN0IHJh
ZGVvbl9kZXZpY2UgKnJkZXYpCiAJa3ZfdXBkYXRlX2N1cnJlbnRfcHMocmRldiwgcmRldi0+cG0u
ZHBtLmJvb3RfcHMpOwogfQogCi0jaWYgMAotc3RhdGljIGludCBrdl93cml0ZV9zbWNfc29mdF9y
ZWdpc3RlcihzdHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldiwKLQkJCQkgICAgICB1MTYgcmVnX29m
ZnNldCwgdTMyIHZhbHVlKQotewotCXN0cnVjdCBrdl9wb3dlcl9pbmZvICpwaSA9IGt2X2dldF9w
aShyZGV2KTsKLQotCXJldHVybiBrdl9jb3B5X2J5dGVzX3RvX3NtYyhyZGV2LCBwaS0+c29mdF9y
ZWdzX3N0YXJ0ICsgcmVnX29mZnNldCwKLQkJCQkgICAgKHU4ICopJnZhbHVlLCBzaXplb2YodTE2
KSwgcGktPnNyYW1fZW5kKTsKLX0KLQotc3RhdGljIGludCBrdl9yZWFkX3NtY19zb2Z0X3JlZ2lz
dGVyKHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2LAotCQkJCSAgICAgdTE2IHJlZ19vZmZzZXQs
IHUzMiAqdmFsdWUpCi17Ci0Jc3RydWN0IGt2X3Bvd2VyX2luZm8gKnBpID0ga3ZfZ2V0X3BpKHJk
ZXYpOwotCi0JcmV0dXJuIGt2X3JlYWRfc21jX3NyYW1fZHdvcmQocmRldiwgcGktPnNvZnRfcmVn
c19zdGFydCArIHJlZ19vZmZzZXQsCi0JCQkJICAgICAgdmFsdWUsIHBpLT5zcmFtX2VuZCk7Ci19
Ci0jZW5kaWYKLQogc3RhdGljIHZvaWQga3ZfaW5pdF9zY2xrX3Qoc3RydWN0IHJhZGVvbl9kZXZp
Y2UgKnJkZXYpCiB7CiAJc3RydWN0IGt2X3Bvd2VyX2luZm8gKnBpID0ga3ZfZ2V0X3BpKHJkZXYp
OwpAQCAtMTkzOSwyOSArMTc1OSw2IEBAIHZvaWQga3ZfZHBtX3NldHVwX2FzaWMoc3RydWN0IHJh
ZGVvbl9kZXZpY2UgKnJkZXYpCiAJa3ZfaW5pdF9zY2xrX3QocmRldik7CiB9CiAKLSNpZiAwCi12
b2lkIGt2X2RwbV9yZXNldF9hc2ljKHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2KQotewotCXN0
cnVjdCBrdl9wb3dlcl9pbmZvICpwaSA9IGt2X2dldF9waShyZGV2KTsKLQotCWlmIChyZGV2LT5m
YW1pbHkgPT0gQ0hJUF9LQUJJTkkgfHwgcmRldi0+ZmFtaWx5ID09IENISVBfTVVMTElOUykgewot
CQlrdl9mb3JjZV9sb3dlc3RfdmFsaWQocmRldik7Ci0JCWt2X2luaXRfZ3JhcGhpY3NfbGV2ZWxz
KHJkZXYpOwotCQlrdl9wcm9ncmFtX2Jvb3R1cF9zdGF0ZShyZGV2KTsKLQkJa3ZfdXBsb2FkX2Rw
bV9zZXR0aW5ncyhyZGV2KTsKLQkJa3ZfZm9yY2VfbG93ZXN0X3ZhbGlkKHJkZXYpOwotCQlrdl91
bmZvcmNlX2xldmVscyhyZGV2KTsKLQl9IGVsc2UgewotCQlrdl9pbml0X2dyYXBoaWNzX2xldmVs
cyhyZGV2KTsKLQkJa3ZfcHJvZ3JhbV9ib290dXBfc3RhdGUocmRldik7Ci0JCWt2X2ZyZWV6ZV9z
Y2xrX2RwbShyZGV2LCB0cnVlKTsKLQkJa3ZfdXBsb2FkX2RwbV9zZXR0aW5ncyhyZGV2KTsKLQkJ
a3ZfZnJlZXplX3NjbGtfZHBtKHJkZXYsIGZhbHNlKTsKLQkJa3Zfc2V0X2VuYWJsZWRfbGV2ZWwo
cmRldiwgcGktPmdyYXBoaWNzX2Jvb3RfbGV2ZWwpOwotCX0KLX0KLSNlbmRpZgotCiAvL1hYWCB1
c2Ugc3Vtb19kcG1fZGlzcGxheV9jb25maWd1cmF0aW9uX2NoYW5nZWQKIAogc3RhdGljIHZvaWQg
a3ZfY29uc3RydWN0X21heF9wb3dlcl9saW1pdHNfdGFibGUoc3RydWN0IHJhZGVvbl9kZXZpY2Ug
KnJkZXYsCi0tIAoyLjI1LjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNr
dG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2Ry
aS1kZXZlbAo=
