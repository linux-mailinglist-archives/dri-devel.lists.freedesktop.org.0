Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 0E331BB41D
	for <lists+dri-devel@lfdr.de>; Mon, 23 Sep 2019 14:46:48 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 6F6EC6E8A7;
	Mon, 23 Sep 2019 12:46:45 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
X-Greylist: delayed 388 seconds by postgrey-1.36 at gabe;
 Mon, 23 Sep 2019 12:46:44 UTC
Received: from smtphy.263.net (sg-smtp01.263.net [54.255.195.220])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 687B96E8A6
 for <dri-devel@lists.freedesktop.org>; Mon, 23 Sep 2019 12:46:44 +0000 (UTC)
Received: from regular2.263xmail.com (unknown [211.157.147.163])
 by smtphy.263.net (Postfix) with ESMTPS id D528412F
 for <dri-devel@lists.freedesktop.org>; Mon, 23 Sep 2019 20:40:11 +0800 (CST)
Received: from regular1.263xmail.com (unknown [192.168.165.234])
 by regular2.263xmail.com (Postfix) with ESMTP id B5E931AE0
 for <dri-devel@lists.freedesktop.org>; Mon, 23 Sep 2019 20:40:09 +0800 (CST)
Received: from hjc?rock-chips.com (unknown [192.168.167.32])
 by regular1.263xmail.com (Postfix) with ESMTP id B3EAB3E9;
 Mon, 23 Sep 2019 20:40:04 +0800 (CST)
X-263anti-spam: KSV:0;BIG:0;
X-MAIL-GRAY: 0
X-MAIL-DELIVERY: 1
X-KSVirus-check: 0
X-ADDR-CHECKED4: 1
X-ABS-CHECKED: 1
X-SKE-CHECKED: 1
X-ANTISPAM-LEVEL: 2
Received: from localhost.localdomain (unknown [58.22.7.114])
 by smtp.263.net (postfix) whith ESMTP id
 P10893T140454720919296S1569242369031174_; 
 Mon, 23 Sep 2019 20:40:03 +0800 (CST)
X-IP-DOMAINF: 1
X-UNIQUE-TAG: <34ffe67a50f98c47a25cd474b3d01953>
X-RL-SENDER: hjc@rock-chips.com
X-SENDER: hjc@rock-chips.com
X-LOGIN-NAME: hjc@rock-chips.com
X-FST-TO: dri-devel@lists.freedesktop.org
X-SENDER-IP: 58.22.7.114
X-ATTACHMENT-NUM: 0
X-DNS-TYPE: 0
From: Sandy Huang <hjc@rock-chips.com>
To: dri-devel@lists.freedesktop.org, Inki Dae <inki.dae@samsung.com>,
 Joonyoung Shim <jy0922.shim@samsung.com>,
 Seung-Woo Kim <sw0312.kim@samsung.com>,
 Kyungmin Park <kyungmin.park@samsung.com>, David Airlie <airlied@linux.ie>,
 Daniel Vetter <daniel@ffwll.ch>, Kukjin Kim <kgene@kernel.org>,
 Krzysztof Kozlowski <krzk@kernel.org>
Subject: [PATCH 04/36] drm: exynos: use bpp instead of cpp for drm_format_info
Date: Mon, 23 Sep 2019 20:38:53 +0800
Message-Id: <1569242365-182133-5-git-send-email-hjc@rock-chips.com>
X-Mailer: git-send-email 2.7.4
In-Reply-To: <1569242365-182133-1-git-send-email-hjc@rock-chips.com>
References: <1569242365-182133-1-git-send-email-hjc@rock-chips.com>
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-samsung-soc@vger.kernel.org, linux-arm-kernel@lists.infradead.org,
 linux-kernel@vger.kernel.org
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Y3BwW0J5dGVQZXJQbGFuZV0gY2FuJ3QgZGVzY3JpYmUgdGhlIDEwYml0IGRhdGEgZm9ybWF0IGNv
cnJlY3RseSwKU28gd2UgdXNlIGJwcFtCaXRQZXJQbGFuZV0gdG8gaW5zdGVhZCBjcHAuCgpTaWdu
ZWQtb2ZmLWJ5OiBTYW5keSBIdWFuZyA8aGpjQHJvY2stY2hpcHMuY29tPgotLS0KIGRyaXZlcnMv
Z3B1L2RybS9leHlub3MvZXh5bm9zNTQzM19kcm1fZGVjb24uYyB8IDQgKystLQogZHJpdmVycy9n
cHUvZHJtL2V4eW5vcy9leHlub3M3X2RybV9kZWNvbi5jICAgIHwgNiArKystLS0KIGRyaXZlcnMv
Z3B1L2RybS9leHlub3MvZXh5bm9zX2RybV9mYmRldi5jICAgICB8IDQgKystLQogZHJpdmVycy9n
cHUvZHJtL2V4eW5vcy9leHlub3NfZHJtX2ZpbWMuYyAgICAgIHwgNiArKystLS0KIGRyaXZlcnMv
Z3B1L2RybS9leHlub3MvZXh5bm9zX2RybV9maW1kLmMgICAgICB8IDIgKy0KIGRyaXZlcnMvZ3B1
L2RybS9leHlub3MvZXh5bm9zX2RybV9nc2MuYyAgICAgICB8IDQgKystLQogZHJpdmVycy9ncHUv
ZHJtL2V4eW5vcy9leHlub3NfZHJtX2lwcC5jICAgICAgIHwgNiArKystLS0KIGRyaXZlcnMvZ3B1
L2RybS9leHlub3MvZXh5bm9zX2RybV9yb3RhdG9yLmMgICB8IDQgKystLQogZHJpdmVycy9ncHUv
ZHJtL2V4eW5vcy9leHlub3NfZHJtX3NjYWxlci5jICAgIHwgNCArKy0tCiBkcml2ZXJzL2dwdS9k
cm0vZXh5bm9zL2V4eW5vc19taXhlci5jICAgICAgICAgfCA0ICsrLS0KIDEwIGZpbGVzIGNoYW5n
ZWQsIDIyIGluc2VydGlvbnMoKyksIDIyIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9leHlub3MvZXh5bm9zNTQzM19kcm1fZGVjb24uYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9leHlub3MvZXh5bm9zNTQzM19kcm1fZGVjb24uYwppbmRleCAyZDVjYmZkLi45NDAxNTkxIDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vZXh5bm9zL2V4eW5vczU0MzNfZHJtX2RlY29uLmMK
KysrIGIvZHJpdmVycy9ncHUvZHJtL2V4eW5vcy9leHlub3M1NDMzX2RybV9kZWNvbi5jCkBAIC0z
NTYsNyArMzU2LDcgQEAgc3RhdGljIHZvaWQgZGVjb25fd2luX3NldF9waXhmbXQoc3RydWN0IGRl
Y29uX2NvbnRleHQgKmN0eCwgdW5zaWduZWQgaW50IHdpbiwKIAkJYnJlYWs7CiAJfQogCi0JRFJN
X0RFVl9ERUJVR19LTVMoY3R4LT5kZXYsICJjcHAgPSAldVxuIiwgZmItPmZvcm1hdC0+Y3BwWzBd
KTsKKwlEUk1fREVWX0RFQlVHX0tNUyhjdHgtPmRldiwgImJwcCA9ICV1XG4iLCBmYi0+Zm9ybWF0
LT5icHBbMF0pOwogCiAJLyoKIAkgKiBJbiBjYXNlIG9mIGV4eW5vcywgc2V0dGluZyBkbWEtYnVy
c3QgdG8gMTZXb3JkIGNhdXNlcyBwZXJtYW5lbnQKQEAgLTQwMyw3ICs0MDMsNyBAQCBzdGF0aWMg
dm9pZCBkZWNvbl91cGRhdGVfcGxhbmUoc3RydWN0IGV4eW5vc19kcm1fY3J0YyAqY3J0YywKIAlz
dHJ1Y3QgZGVjb25fY29udGV4dCAqY3R4ID0gY3J0Yy0+Y3R4OwogCXN0cnVjdCBkcm1fZnJhbWVi
dWZmZXIgKmZiID0gc3RhdGUtPmJhc2UuZmI7CiAJdW5zaWduZWQgaW50IHdpbiA9IHBsYW5lLT5p
bmRleDsKLQl1bnNpZ25lZCBpbnQgY3BwID0gZmItPmZvcm1hdC0+Y3BwWzBdOworCXVuc2lnbmVk
IGludCBjcHAgPSBmYi0+Zm9ybWF0LT5icHBbMF0gLyA4OwogCXVuc2lnbmVkIGludCBwaXRjaCA9
IGZiLT5waXRjaGVzWzBdOwogCWRtYV9hZGRyX3QgZG1hX2FkZHIgPSBleHlub3NfZHJtX2ZiX2Rt
YV9hZGRyKGZiLCAwKTsKIAl1MzIgdmFsOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2V4
eW5vcy9leHlub3M3X2RybV9kZWNvbi5jIGIvZHJpdmVycy9ncHUvZHJtL2V4eW5vcy9leHlub3M3
X2RybV9kZWNvbi5jCmluZGV4IGYwNjQwOTUuLmQ2MTU4YjcgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9leHlub3MvZXh5bm9zN19kcm1fZGVjb24uYworKysgYi9kcml2ZXJzL2dwdS9kcm0v
ZXh5bm9zL2V4eW5vczdfZHJtX2RlY29uLmMKQEAgLTMxMCw3ICszMTAsNyBAQCBzdGF0aWMgdm9p
ZCBkZWNvbl93aW5fc2V0X3BpeGZtdChzdHJ1Y3QgZGVjb25fY29udGV4dCAqY3R4LCB1bnNpZ25l
ZCBpbnQgd2luLAogCQlicmVhazsKIAl9CiAKLQlEUk1fREVWX0RFQlVHX0tNUyhjdHgtPmRldiwg
ImNwcCA9ICVkXG4iLCBmYi0+Zm9ybWF0LT5jcHBbMF0pOworCURSTV9ERVZfREVCVUdfS01TKGN0
eC0+ZGV2LCAiYnBwID0gJWRcbiIsIGZiLT5mb3JtYXQtPmJwcFswXSk7CiAKIAkvKgogCSAqIElu
IGNhc2Ugb2YgZXh5bm9zLCBzZXR0aW5nIGRtYS1idXJzdCB0byAxNldvcmQgY2F1c2VzIHBlcm1h
bmVudApAQCAtMzIwLDcgKzMyMCw3IEBAIHN0YXRpYyB2b2lkIGRlY29uX3dpbl9zZXRfcGl4Zm10
KHN0cnVjdCBkZWNvbl9jb250ZXh0ICpjdHgsIHVuc2lnbmVkIGludCB3aW4sCiAJICogbW92ZW1l
bnQgY2F1c2VzIHVuc3RhYmxlIERNQSB3aGljaCByZXN1bHRzIGludG8gaW9tbXUgY3Jhc2gvdGVh
ci4KIAkgKi8KIAotCXBhZGRpbmcgPSAoZmItPnBpdGNoZXNbMF0gLyBmYi0+Zm9ybWF0LT5jcHBb
MF0pIC0gZmItPndpZHRoOworCXBhZGRpbmcgPSAoZmItPnBpdGNoZXNbMF0gLyBmYi0+Zm9ybWF0
LT5icHBbMF0gLyA4KSAtIGZiLT53aWR0aDsKIAlpZiAoZmItPndpZHRoICsgcGFkZGluZyA8IE1J
Tl9GQl9XSURUSF9GT1JfMTZXT1JEX0JVUlNUKSB7CiAJCXZhbCAmPSB+V0lOQ09OeF9CVVJTVExF
Tl9NQVNLOwogCQl2YWwgfD0gV0lOQ09OeF9CVVJTVExFTl84V09SRDsKQEAgLTM4Nyw3ICszODcs
NyBAQCBzdGF0aWMgdm9pZCBkZWNvbl91cGRhdGVfcGxhbmUoc3RydWN0IGV4eW5vc19kcm1fY3J0
YyAqY3J0YywKIAl1bnNpZ25lZCBpbnQgbGFzdF94OwogCXVuc2lnbmVkIGludCBsYXN0X3k7CiAJ
dW5zaWduZWQgaW50IHdpbiA9IHBsYW5lLT5pbmRleDsKLQl1bnNpZ25lZCBpbnQgY3BwID0gZmIt
PmZvcm1hdC0+Y3BwWzBdOworCXVuc2lnbmVkIGludCBjcHAgPSBmYi0+Zm9ybWF0LT5icHBbMF0g
LyA4OwogCXVuc2lnbmVkIGludCBwaXRjaCA9IGZiLT5waXRjaGVzWzBdOwogCiAJaWYgKGN0eC0+
c3VzcGVuZGVkKQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2V4eW5vcy9leHlub3NfZHJt
X2ZiZGV2LmMgYi9kcml2ZXJzL2dwdS9kcm0vZXh5bm9zL2V4eW5vc19kcm1fZmJkZXYuYwppbmRl
eCBiMDg3N2I5Li5mODJhYzEyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vZXh5bm9zL2V4
eW5vc19kcm1fZmJkZXYuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vZXh5bm9zL2V4eW5vc19kcm1f
ZmJkZXYuYwpAQCAtNzUsNyArNzUsNyBAQCBzdGF0aWMgaW50IGV4eW5vc19kcm1fZmJkZXZfdXBk
YXRlKHN0cnVjdCBkcm1fZmJfaGVscGVyICpoZWxwZXIsCiB7CiAJc3RydWN0IGZiX2luZm8gKmZi
aTsKIAlzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpmYiA9IGhlbHBlci0+ZmI7Ci0JdW5zaWduZWQg
aW50IHNpemUgPSBmYi0+d2lkdGggKiBmYi0+aGVpZ2h0ICogZmItPmZvcm1hdC0+Y3BwWzBdOwor
CXVuc2lnbmVkIGludCBzaXplID0gZmItPndpZHRoICogZmItPmhlaWdodCAqIGZiLT5mb3JtYXQt
PmJwcFswXSAvIDg7CiAJdW5zaWduZWQgaW50IG5yX3BhZ2VzOwogCXVuc2lnbmVkIGxvbmcgb2Zm
c2V0OwogCkBAIC0xMDAsNyArMTAwLDcgQEAgc3RhdGljIGludCBleHlub3NfZHJtX2ZiZGV2X3Vw
ZGF0ZShzdHJ1Y3QgZHJtX2ZiX2hlbHBlciAqaGVscGVyLAogCQlyZXR1cm4gLUVJTzsKIAl9CiAK
LQlvZmZzZXQgPSBmYmktPnZhci54b2Zmc2V0ICogZmItPmZvcm1hdC0+Y3BwWzBdOworCW9mZnNl
dCA9IGZiaS0+dmFyLnhvZmZzZXQgKiBmYi0+Zm9ybWF0LT5icHBbMF0gLyA4OwogCW9mZnNldCAr
PSBmYmktPnZhci55b2Zmc2V0ICogZmItPnBpdGNoZXNbMF07CiAKIAlmYmktPnNjcmVlbl9iYXNl
ID0gZXh5bm9zX2dlbS0+a3ZhZGRyICsgb2Zmc2V0OwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2V4eW5vcy9leHlub3NfZHJtX2ZpbWMuYyBiL2RyaXZlcnMvZ3B1L2RybS9leHlub3MvZXh5
bm9zX2RybV9maW1jLmMKaW5kZXggYTU5NGFiNy4uY2ViODg5YyAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2V4eW5vcy9leHlub3NfZHJtX2ZpbWMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0v
ZXh5bm9zL2V4eW5vc19kcm1fZmltYy5jCkBAIC00NjYsNyArNDY2LDcgQEAgc3RhdGljIHZvaWQg
ZmltY19zcmNfc2V0X3RyYW5zZihzdHJ1Y3QgZmltY19jb250ZXh0ICpjdHgsIHVuc2lnbmVkIGlu
dCByb3RhdGlvbikKIHN0YXRpYyB2b2lkIGZpbWNfc2V0X3dpbmRvdyhzdHJ1Y3QgZmltY19jb250
ZXh0ICpjdHgsCiAJCQkgICAgc3RydWN0IGV4eW5vc19kcm1faXBwX2J1ZmZlciAqYnVmKQogewot
CXVuc2lnbmVkIGludCByZWFsX3dpZHRoID0gYnVmLT5idWYucGl0Y2hbMF0gLyBidWYtPmZvcm1h
dC0+Y3BwWzBdOworCXVuc2lnbmVkIGludCByZWFsX3dpZHRoID0gYnVmLT5idWYucGl0Y2hbMF0g
LyBidWYtPmZvcm1hdC0+YnBwWzBdIC8gODsKIAl1MzIgY2ZnLCBoMSwgaDIsIHYxLCB2MjsKIAog
CS8qIGNyb3BwZWQgaW1hZ2UgKi8KQEAgLTUwMSw3ICs1MDEsNyBAQCBzdGF0aWMgdm9pZCBmaW1j
X3NldF93aW5kb3coc3RydWN0IGZpbWNfY29udGV4dCAqY3R4LAogc3RhdGljIHZvaWQgZmltY19z
cmNfc2V0X3NpemUoc3RydWN0IGZpbWNfY29udGV4dCAqY3R4LAogCQkJICAgICAgc3RydWN0IGV4
eW5vc19kcm1faXBwX2J1ZmZlciAqYnVmKQogewotCXVuc2lnbmVkIGludCByZWFsX3dpZHRoID0g
YnVmLT5idWYucGl0Y2hbMF0gLyBidWYtPmZvcm1hdC0+Y3BwWzBdOworCXVuc2lnbmVkIGludCBy
ZWFsX3dpZHRoID0gYnVmLT5idWYucGl0Y2hbMF0gLyBidWYtPmZvcm1hdC0+YnBwWzBdIC8gODsK
IAl1MzIgY2ZnOwogCiAJRFJNX0RFVl9ERUJVR19LTVMoY3R4LT5kZXYsICJoc2l6ZVslZF12c2l6
ZVslZF1cbiIsIHJlYWxfd2lkdGgsCkBAIC04NDMsNyArODQzLDcgQEAgc3RhdGljIHZvaWQgZmlt
Y19zZXRfc2NhbGVyKHN0cnVjdCBmaW1jX2NvbnRleHQgKmN0eCwgc3RydWN0IGZpbWNfc2NhbGVy
ICpzYykKIHN0YXRpYyB2b2lkIGZpbWNfZHN0X3NldF9zaXplKHN0cnVjdCBmaW1jX2NvbnRleHQg
KmN0eCwKIAkJCSAgICAgc3RydWN0IGV4eW5vc19kcm1faXBwX2J1ZmZlciAqYnVmKQogewotCXVu
c2lnbmVkIGludCByZWFsX3dpZHRoID0gYnVmLT5idWYucGl0Y2hbMF0gLyBidWYtPmZvcm1hdC0+
Y3BwWzBdOworCXVuc2lnbmVkIGludCByZWFsX3dpZHRoID0gYnVmLT5idWYucGl0Y2hbMF0gLyBi
dWYtPmZvcm1hdC0+YnBwWzBdIC8gODsKIAl1MzIgY2ZnLCBjZmdfZXh0OwogCiAJRFJNX0RFVl9E
RUJVR19LTVMoY3R4LT5kZXYsICJoc2l6ZVslZF12c2l6ZVslZF1cbiIsIHJlYWxfd2lkdGgsCmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vZXh5bm9zL2V4eW5vc19kcm1fZmltZC5jIGIvZHJp
dmVycy9ncHUvZHJtL2V4eW5vcy9leHlub3NfZHJtX2ZpbWQuYwppbmRleCA4ZDBhOTI5Li41NjE1
OTdiIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vZXh5bm9zL2V4eW5vc19kcm1fZmltZC5j
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9leHlub3MvZXh5bm9zX2RybV9maW1kLmMKQEAgLTc5NSw3
ICs3OTUsNyBAQCBzdGF0aWMgdm9pZCBmaW1kX3VwZGF0ZV9wbGFuZShzdHJ1Y3QgZXh5bm9zX2Ry
bV9jcnRjICpjcnRjLAogCXVuc2lnbmVkIGxvbmcgdmFsLCBzaXplLCBvZmZzZXQ7CiAJdW5zaWdu
ZWQgaW50IGxhc3RfeCwgbGFzdF95LCBidWZfb2Zmc2l6ZSwgbGluZV9zaXplOwogCXVuc2lnbmVk
IGludCB3aW4gPSBwbGFuZS0+aW5kZXg7Ci0JdW5zaWduZWQgaW50IGNwcCA9IGZiLT5mb3JtYXQt
PmNwcFswXTsKKwl1bnNpZ25lZCBpbnQgY3BwID0gZmItPmZvcm1hdC0+YnBwWzBdIC8gODsKIAl1
bnNpZ25lZCBpbnQgcGl0Y2ggPSBmYi0+cGl0Y2hlc1swXTsKIAogCWlmIChjdHgtPnN1c3BlbmRl
ZCkKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9leHlub3MvZXh5bm9zX2RybV9nc2MuYyBi
L2RyaXZlcnMvZ3B1L2RybS9leHlub3MvZXh5bm9zX2RybV9nc2MuYwppbmRleCAxZTRiMjFjLi5h
MTVlMmQ5IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vZXh5bm9zL2V4eW5vc19kcm1fZ3Nj
LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2V4eW5vcy9leHlub3NfZHJtX2dzYy5jCkBAIC01Nzks
NyArNTc5LDcgQEAgc3RhdGljIHZvaWQgZ3NjX3NyY19zZXRfc2l6ZShzdHJ1Y3QgZ3NjX2NvbnRl
eHQgKmN0eCwKIAljZmcgJj0gfihHU0NfU1JDSU1HX0hFSUdIVF9NQVNLIHwKIAkJR1NDX1NSQ0lN
R19XSURUSF9NQVNLKTsKIAotCWNmZyB8PSAoR1NDX1NSQ0lNR19XSURUSChidWYtPmJ1Zi5waXRj
aFswXSAvIGJ1Zi0+Zm9ybWF0LT5jcHBbMF0pIHwKKwljZmcgfD0gKEdTQ19TUkNJTUdfV0lEVEgo
YnVmLT5idWYucGl0Y2hbMF0gLyBidWYtPmZvcm1hdC0+YnBwWzBdIC8gOCkgfAogCQlHU0NfU1JD
SU1HX0hFSUdIVChidWYtPmJ1Zi5oZWlnaHQpKTsKIAogCWdzY193cml0ZShjZmcsIEdTQ19TUkNJ
TUdfU0laRSk7CkBAIC04ODEsNyArODgxLDcgQEAgc3RhdGljIHZvaWQgZ3NjX2RzdF9zZXRfc2l6
ZShzdHJ1Y3QgZ3NjX2NvbnRleHQgKmN0eCwKIAkvKiBvcmlnaW5hbCBzaXplICovCiAJY2ZnID0g
Z3NjX3JlYWQoR1NDX0RTVElNR19TSVpFKTsKIAljZmcgJj0gfihHU0NfRFNUSU1HX0hFSUdIVF9N
QVNLIHwgR1NDX0RTVElNR19XSURUSF9NQVNLKTsKLQljZmcgfD0gR1NDX0RTVElNR19XSURUSChi
dWYtPmJ1Zi5waXRjaFswXSAvIGJ1Zi0+Zm9ybWF0LT5jcHBbMF0pIHwKKwljZmcgfD0gR1NDX0RT
VElNR19XSURUSChidWYtPmJ1Zi5waXRjaFswXSAvIGJ1Zi0+Zm9ybWF0LT5icHBbMF0gLyA4KSB8
CiAJICAgICAgIEdTQ19EU1RJTUdfSEVJR0hUKGJ1Zi0+YnVmLmhlaWdodCk7CiAJZ3NjX3dyaXRl
KGNmZywgR1NDX0RTVElNR19TSVpFKTsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2V4
eW5vcy9leHlub3NfZHJtX2lwcC5jIGIvZHJpdmVycy9ncHUvZHJtL2V4eW5vcy9leHlub3NfZHJt
X2lwcC5jCmluZGV4IGQ0NWJmYWIuLjE0YzcyOGUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9leHlub3MvZXh5bm9zX2RybV9pcHAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vZXh5bm9zL2V4
eW5vc19kcm1faXBwLmMKQEAgLTQ3NSw3ICs0NzUsNyBAQCBzdGF0aWMgaW50IGV4eW5vc19kcm1f
aXBwX2NoZWNrX3NpemVfbGltaXRzKHN0cnVjdCBleHlub3NfZHJtX2lwcF9idWZmZXIgKmJ1ZiwK
IAllbnVtIGRybV9pcHBfc2l6ZV9pZCBpZCA9IHJvdGF0ZSA/IElQUF9MSU1JVF9ST1RBVEVEIDog
SVBQX0xJTUlUX0FSRUE7CiAJc3RydWN0IGRybV9pcHBfbGltaXQgbDsKIAlzdHJ1Y3QgZHJtX2V4
eW5vc19pcHBfbGltaXRfdmFsICpsaCA9ICZsLmgsICpsdiA9ICZsLnY7Ci0JaW50IHJlYWxfd2lk
dGggPSBidWYtPmJ1Zi5waXRjaFswXSAvIGJ1Zi0+Zm9ybWF0LT5jcHBbMF07CisJaW50IHJlYWxf
d2lkdGggPSBidWYtPmJ1Zi5waXRjaFswXSAvIGJ1Zi0+Zm9ybWF0LT5icHBbMF0gLyA4OwogCiAJ
aWYgKCFsaW1pdHMpCiAJCXJldHVybiAwOwpAQCAtNTcwLDggKzU3MCw4IEBAIHN0YXRpYyBpbnQg
ZXh5bm9zX2RybV9pcHBfY2hlY2tfZm9ybWF0KHN0cnVjdCBleHlub3NfZHJtX2lwcF90YXNrICp0
YXNrLAogCQkJICAgICBESVZfUk9VTkRfVVAoYnVmLT5idWYud2lkdGgsIGJ1Zi0+Zm9ybWF0LT5o
c3ViKTsKIAogCQlpZiAoYnVmLT5idWYucGl0Y2hbaV0gPT0gMCkKLQkJCWJ1Zi0+YnVmLnBpdGNo
W2ldID0gd2lkdGggKiBidWYtPmZvcm1hdC0+Y3BwW2ldOwotCQlpZiAoYnVmLT5idWYucGl0Y2hb
aV0gPCB3aWR0aCAqIGJ1Zi0+Zm9ybWF0LT5jcHBbaV0pCisJCQlidWYtPmJ1Zi5waXRjaFtpXSA9
IHdpZHRoICogYnVmLT5mb3JtYXQtPmJwcFtpXSAvIDg7CisJCWlmIChidWYtPmJ1Zi5waXRjaFtp
XSA8IHdpZHRoICogYnVmLT5mb3JtYXQtPmJwcFtpXSAvIDgpCiAJCQlyZXR1cm4gLUVJTlZBTDsK
IAkJaWYgKCFidWYtPmJ1Zi5nZW1faWRbaV0pCiAJCQlyZXR1cm4gLUVOT0VOVDsKZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9leHlub3MvZXh5bm9zX2RybV9yb3RhdG9yLmMgYi9kcml2ZXJz
L2dwdS9kcm0vZXh5bm9zL2V4eW5vc19kcm1fcm90YXRvci5jCmluZGV4IDhlYmFkMjcuLjhkMWRh
MGYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9leHlub3MvZXh5bm9zX2RybV9yb3RhdG9y
LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2V4eW5vcy9leHlub3NfZHJtX3JvdGF0b3IuYwpAQCAt
MTM5LDcgKzEzOSw3IEBAIHN0YXRpYyB2b2lkIHJvdGF0b3Jfc3JjX3NldF9idWYoc3RydWN0IHJv
dF9jb250ZXh0ICpyb3QsCiAKIAkvKiBTZXQgYnVmZmVyIHNpemUgY29uZmlndXJhdGlvbiAqLwog
CXZhbCA9IFJPVF9TRVRfQlVGX1NJWkVfSChidWYtPmJ1Zi5oZWlnaHQpIHwKLQkgICAgICBST1Rf
U0VUX0JVRl9TSVpFX1coYnVmLT5idWYucGl0Y2hbMF0gLyBidWYtPmZvcm1hdC0+Y3BwWzBdKTsK
KwkgICAgICBST1RfU0VUX0JVRl9TSVpFX1coYnVmLT5idWYucGl0Y2hbMF0gLyBidWYtPmZvcm1h
dC0+YnBwWzBdIC8gOCk7CiAJcm90X3dyaXRlKHZhbCwgUk9UX1NSQ19CVUZfU0laRSk7CiAKIAkv
KiBTZXQgY3JvcCBpbWFnZSBwb3NpdGlvbiBjb25maWd1cmF0aW9uICovCkBAIC0xODcsNyArMTg3
LDcgQEAgc3RhdGljIHZvaWQgcm90YXRvcl9kc3Rfc2V0X2J1ZihzdHJ1Y3Qgcm90X2NvbnRleHQg
KnJvdCwKIAogCS8qIFNldCBidWZmZXIgc2l6ZSBjb25maWd1cmF0aW9uICovCiAJdmFsID0gUk9U
X1NFVF9CVUZfU0laRV9IKGJ1Zi0+YnVmLmhlaWdodCkgfAotCSAgICAgIFJPVF9TRVRfQlVGX1NJ
WkVfVyhidWYtPmJ1Zi5waXRjaFswXSAvIGJ1Zi0+Zm9ybWF0LT5jcHBbMF0pOworCSAgICAgIFJP
VF9TRVRfQlVGX1NJWkVfVyhidWYtPmJ1Zi5waXRjaFswXSAvIGJ1Zi0+Zm9ybWF0LT5icHBbMF0g
LyA4KTsKIAlyb3Rfd3JpdGUodmFsLCBST1RfRFNUX0JVRl9TSVpFKTsKIAogCS8qIFNldCBjcm9w
IGltYWdlIHBvc2l0aW9uIGNvbmZpZ3VyYXRpb24gKi8KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9leHlub3MvZXh5bm9zX2RybV9zY2FsZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9leHlub3Mv
ZXh5bm9zX2RybV9zY2FsZXIuYwppbmRleCA5YWYwOTY0Li5jOWFkMzEyIDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vZXh5bm9zL2V4eW5vc19kcm1fc2NhbGVyLmMKKysrIGIvZHJpdmVycy9n
cHUvZHJtL2V4eW5vcy9leHlub3NfZHJtX3NjYWxlci5jCkBAIC0xNjYsNyArMTY2LDcgQEAgc3Rh
dGljIGlubGluZSB2b2lkIHNjYWxlcl9zZXRfc3JjX3NwYW4oc3RydWN0IHNjYWxlcl9jb250ZXh0
ICpzY2FsZXIsCiAJdTMyIHZhbDsKIAogCXZhbCA9IFNDQUxFUl9TUkNfU1BBTl9TRVRfWV9TUEFO
KHNyY19idWYtPmJ1Zi5waXRjaFswXSAvCi0JCXNyY19idWYtPmZvcm1hdC0+Y3BwWzBdKTsKKwkJ
c3JjX2J1Zi0+Zm9ybWF0LT5icHBbMF0gLyA4KTsKIAogCWlmIChzcmNfYnVmLT5mb3JtYXQtPm51
bV9wbGFuZXMgPiAxKQogCQl2YWwgfD0gU0NBTEVSX1NSQ19TUEFOX1NFVF9DX1NQQU4oc3JjX2J1
Zi0+YnVmLnBpdGNoWzFdKTsKQEAgLTIyOSw3ICsyMjksNyBAQCBzdGF0aWMgaW5saW5lIHZvaWQg
c2NhbGVyX3NldF9kc3Rfc3BhbihzdHJ1Y3Qgc2NhbGVyX2NvbnRleHQgKnNjYWxlciwKIAl1MzIg
dmFsOwogCiAJdmFsID0gU0NBTEVSX0RTVF9TUEFOX1NFVF9ZX1NQQU4oZHN0X2J1Zi0+YnVmLnBp
dGNoWzBdIC8KLQkJZHN0X2J1Zi0+Zm9ybWF0LT5jcHBbMF0pOworCQlkc3RfYnVmLT5mb3JtYXQt
PmJwcFswXSAvIDgpOwogCiAJaWYgKGRzdF9idWYtPmZvcm1hdC0+bnVtX3BsYW5lcyA+IDEpCiAJ
CXZhbCB8PSBTQ0FMRVJfRFNUX1NQQU5fU0VUX0NfU1BBTihkc3RfYnVmLT5idWYucGl0Y2hbMV0p
OwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2V4eW5vcy9leHlub3NfbWl4ZXIuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9leHlub3MvZXh5bm9zX21peGVyLmMKaW5kZXggN2IyNDMzOGYuLjAxNWRi
YWIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9leHlub3MvZXh5bm9zX21peGVyLmMKKysr
IGIvZHJpdmVycy9ncHUvZHJtL2V4eW5vcy9leHlub3NfbWl4ZXIuYwpAQCAtNjQ2LDcgKzY0Niw3
IEBAIHN0YXRpYyB2b2lkIG1peGVyX2dyYXBoX2J1ZmZlcihzdHJ1Y3QgbWl4ZXJfY29udGV4dCAq
Y3R4LAogCiAJLyogdHJhbnNsYXRlIGRtYSBhZGRyZXNzIGJhc2Ugcy50LiB0aGUgc291cmNlIGlt
YWdlIG9mZnNldCBpcyB6ZXJvICovCiAJZG1hX2FkZHIgPSBleHlub3NfZHJtX2ZiX2RtYV9hZGRy
KGZiLCAwKQotCQkrIChzdGF0ZS0+c3JjLnggKiBmYi0+Zm9ybWF0LT5jcHBbMF0pCisJCSsgKHN0
YXRlLT5zcmMueCAqIGZiLT5mb3JtYXQtPmJwcFswXSAvIDgpCiAJCSsgKHN0YXRlLT5zcmMueSAq
IGZiLT5waXRjaGVzWzBdKTsKIAogCXNwaW5fbG9ja19pcnFzYXZlKCZjdHgtPnJlZ19zbG9jaywg
ZmxhZ3MpOwpAQCAtNjU3LDcgKzY1Nyw3IEBAIHN0YXRpYyB2b2lkIG1peGVyX2dyYXBoX2J1ZmZl
cihzdHJ1Y3QgbWl4ZXJfY29udGV4dCAqY3R4LAogCiAJLyogc2V0dXAgZ2VvbWV0cnkgKi8KIAlt
aXhlcl9yZWdfd3JpdGUoY3R4LCBNWFJfR1JBUEhJQ19TUEFOKHdpbiksCi0JCQlmYi0+cGl0Y2hl
c1swXSAvIGZiLT5mb3JtYXQtPmNwcFswXSk7CisJCQlmYi0+cGl0Y2hlc1swXSAvIGZiLT5mb3Jt
YXQtPmJwcFswXSAvIDgpOwogCiAJdmFsICA9IE1YUl9HUlBfV0hfV0lEVEgoc3RhdGUtPnNyYy53
KTsKIAl2YWwgfD0gTVhSX0dSUF9XSF9IRUlHSFQoc3RhdGUtPnNyYy5oKTsKLS0gCjIuNy40CgoK
Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZl
bCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xp
c3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
