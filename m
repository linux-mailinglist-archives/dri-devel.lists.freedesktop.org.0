Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id E66572CD75
	for <lists+dri-devel@lfdr.de>; Tue, 28 May 2019 19:18:13 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 73DFB6E280;
	Tue, 28 May 2019 17:18:10 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wr1-x444.google.com (mail-wr1-x444.google.com
 [IPv6:2a00:1450:4864:20::444])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A76B289FA9;
 Tue, 28 May 2019 17:18:08 +0000 (UTC)
Received: by mail-wr1-x444.google.com with SMTP id x4so2000436wrt.6;
 Tue, 28 May 2019 10:18:08 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=a0DkUQnD9OEMf5Hn3TQbRIdSRWfxcv4emALntT+wj4U=;
 b=jpIFJxm4EqMI8reHRClnPrbmCp/2F2KWcwWKi8UZYji2Xvx2J1GGXkSB2KrQzXK/z5
 nl1yO7+IeG0j2vgD//8GS27Ye/qvIiOVHecUqJGNrBro+eBXuboN2RgRWE5dOE3rrIUC
 9ISDboqKqxD5qMuZgYtuiOuDydVK86WZkmL0gGCkIXPvq2Z6Z/+Yg7XtmJHZUEwQ4LJq
 DWUm6Nr1a0D4aDdjBknkso1mRUEPLvXoIsKNwgySJwhxR+Ah4FmK2DTKzh2M3WPqVqSd
 w9oCdIrEAKIY/dLhAdsR+oWs6mPTT/KWu8B7Z2Gf1TVXNNE/RzOZOoeD8iT51ev1pEaa
 OkHg==
X-Gm-Message-State: APjAAAVeDCY1JzkMU/gjIjaRkijQjh0fZYHp8XQIgboQIbE0HHp5c4jO
 gh7kLtTsSJ4nPHVvo3fgd/3JwXCQAo17DPp0mKQ=
X-Google-Smtp-Source: APXvYqxc85NeUyJAy5Xr1eIBoG1vIpcrGz/z4RR+6z+0oEU6ghz1IKN9lINJUHiasBhNY8E2jEHf6C6yJp6Il468aTc=
X-Received: by 2002:a5d:4d46:: with SMTP id a6mr20215218wru.142.1559063887137; 
 Tue, 28 May 2019 10:18:07 -0700 (PDT)
MIME-Version: 1.0
References: <20190528162557.1280-1-christian.koenig@amd.com>
 <20190528162557.1280-7-christian.koenig@amd.com>
 <20190528170514.GC10262@ravnborg.org>
In-Reply-To: <20190528170514.GC10262@ravnborg.org>
From: Alex Deucher <alexdeucher@gmail.com>
Date: Tue, 28 May 2019 13:17:55 -0400
Message-ID: <CADnq5_PfBKi7_DuN_AC+oRbhrx1Ziee-o_3-Pc8-szbKCbU8Xw@mail.gmail.com>
Subject: Re: [PATCH 07/10] drm/amd/display: use ttm_eu_reserve_buffers instead
 of amdgpu_bo_reserve v2
To: Sam Ravnborg <sam@ravnborg.org>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=a0DkUQnD9OEMf5Hn3TQbRIdSRWfxcv4emALntT+wj4U=;
 b=QZ+Tk1CLrF2dPied6x/9L6oSeUubS8gRv4B4nvaS2/Ed3IUtdVd7dNd+EdWxYQbmi7
 OGLC+HxWpK0tObpm5GZFnUIjO6j6Y5w7Mu8NJWJAznfzZ+odb12J14y1UDWAnwH3DlVb
 93qaZiJPLqoe9I3rcCiwyBrCF7T03M7y6jkJf58jf4hE5wQSnUeuVsKOf471XjL2Lvcg
 CB2smlgWx8eQvBFWtvjG+Ga2cZH5jXgIt1yCWNIzIsiGCIYQX74UneEBhHws+rIeE5OK
 XXJyjTV2D+f/xOIf4Lu4ca0ma8SjnhZD+0TWnZyLp7id+O16x/jjE6cqpo3i9JwCDldH
 SQvg==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Maling list - DRI developers <dri-devel@lists.freedesktop.org>,
 =?UTF-8?Q?Christian_K=C3=B6nig?= <ckoenig.leichtzumerken@gmail.com>,
 =?UTF-8?B?TWFyZWsgT2zFocOhaw==?= <Marek.Olsak@amd.com>, Prike.Liang@amd.com,
 amd-gfx list <amd-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVHVlLCBNYXkgMjgsIDIwMTkgYXQgMTowNSBQTSBTYW0gUmF2bmJvcmcgPHNhbUByYXZuYm9y
Zy5vcmc+IHdyb3RlOgo+Cj4gSGkgQ2hyaXN0aWFuLgo+Cj4gT24gVHVlLCBNYXkgMjgsIDIwMTkg
YXQgMDY6MjU6NTRQTSArMDIwMCwgQ2hyaXN0aWFuIEvDtm5pZyB3cm90ZToKPiA+IEZyb206IENo
dW5taW5nIFpob3UgPGRhdmlkMS56aG91QGFtZC5jb20+Cj4gPgo+ID4gYWRkIHRpY2tldCBmb3Ig
ZGlzcGxheSBibywgc28gdGhhdCBpdCBjYW4gcHJlZW1wdCBidXN5IGJvLgo+ID4KPiA+IHYyOiBm
aXggc3R1cGlkIHJlYmFzZSBlcnJvcgo+ID4KPiA+IENoYW5nZS1JZDogSTlmMDMxY2RjYzgyNjdk
ZTAwZTgxOWFlMzAzYmFhMGE1MmRmOGViYjkKPiBXaGF0IGlzIHRoaXM/Cj4gSSBkbyBub3QgcmVj
YWxsIHNlZWluZyB0aGlzIGluIGEgY2hhbmdlbG9nIGJlZm9yZT8KCkl0J3MgYW4gYXJ0aWZhY3Qg
b2YgZ2Vycml0IHdoaWNoIHdlIHVzZSBpbnRlcm5hbGx5IGZvciBnaXQgbWFuYWdlbWVudC4KCkFs
ZXgKCj4KPiAoU29ycnkgZm9yIG5vdCBjb21tZW50aW5nIG9uIHRoZSBwYXRjaCwgbW9zdCBvZiBp
dCBpcyBiZXlvbmQgbXkKPiB1bmRlcnN0YW5kaW5nIGZvciBub3cpLgo+Cj4gICAgICAgICBTYW0K
Pgo+ID4gU2lnbmVkLW9mZi1ieTogQ2h1bm1pbmcgWmhvdSA8ZGF2aWQxLnpob3VAYW1kLmNvbT4K
PiA+IFJldmlld2VkLWJ5OiBDaHJpc3RpYW4gS8O2bmlnIDxjaHJpc3RpYW4ua29lbmlnQGFtZC5j
b20+Cj4gPiAtLS0KPiA+ICAuLi4vZ3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVfZG0vYW1kZ3B1
X2RtLmMgfCAyMSArKysrKysrKysrKysrKy0tLS0tCj4gPiAgMSBmaWxlIGNoYW5nZWQsIDE2IGlu
c2VydGlvbnMoKyksIDUgZGVsZXRpb25zKC0pCj4gPgo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVfZG0vYW1kZ3B1X2RtLmMgYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2FtZGdwdV9kbS5jCj4gPiBpbmRleCA0YTE3NTViY2U5
NmMuLjU2ZjMyMGYzZmQ3MiAxMDA2NDQKPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlz
cGxheS9hbWRncHVfZG0vYW1kZ3B1X2RtLmMKPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
ZGlzcGxheS9hbWRncHVfZG0vYW1kZ3B1X2RtLmMKPiA+IEBAIC00MTgyLDYgKzQxODIsOSBAQCBz
dGF0aWMgaW50IGRtX3BsYW5lX2hlbHBlcl9wcmVwYXJlX2ZiKHN0cnVjdCBkcm1fcGxhbmUgKnBs
YW5lLAo+ID4gICAgICAgc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXY7Cj4gPiAgICAgICBzdHJ1
Y3QgYW1kZ3B1X2JvICpyYm87Cj4gPiAgICAgICBzdHJ1Y3QgZG1fcGxhbmVfc3RhdGUgKmRtX3Bs
YW5lX3N0YXRlX25ldywgKmRtX3BsYW5lX3N0YXRlX29sZDsKPiA+ICsgICAgIHN0cnVjdCBsaXN0
X2hlYWQgbGlzdDsKPiA+ICsgICAgIHN0cnVjdCB0dG1fdmFsaWRhdGVfYnVmZmVyIHR2Owo+ID4g
KyAgICAgc3RydWN0IHd3X2FjcXVpcmVfY3R4IHRpY2tldDsKPiA+ICAgICAgIHVpbnQ2NF90IHRp
bGluZ19mbGFnczsKPiA+ICAgICAgIHVpbnQzMl90IGRvbWFpbjsKPiA+ICAgICAgIGludCByOwo+
ID4gQEAgLTQxOTgsOSArNDIwMSwxNyBAQCBzdGF0aWMgaW50IGRtX3BsYW5lX2hlbHBlcl9wcmVw
YXJlX2ZiKHN0cnVjdCBkcm1fcGxhbmUgKnBsYW5lLAo+ID4gICAgICAgb2JqID0gbmV3X3N0YXRl
LT5mYi0+b2JqWzBdOwo+ID4gICAgICAgcmJvID0gZ2VtX3RvX2FtZGdwdV9ibyhvYmopOwo+ID4g
ICAgICAgYWRldiA9IGFtZGdwdV90dG1fYWRldihyYm8tPnRiby5iZGV2KTsKPiA+IC0gICAgIHIg
PSBhbWRncHVfYm9fcmVzZXJ2ZShyYm8sIGZhbHNlKTsKPiA+IC0gICAgIGlmICh1bmxpa2VseShy
ICE9IDApKQo+ID4gKyAgICAgSU5JVF9MSVNUX0hFQUQoJmxpc3QpOwo+ID4gKwo+ID4gKyAgICAg
dHYuYm8gPSAmcmJvLT50Ym87Cj4gPiArICAgICB0di5udW1fc2hhcmVkID0gMTsKPiA+ICsgICAg
IGxpc3RfYWRkKCZ0di5oZWFkLCAmbGlzdCk7Cj4gPiArCj4gPiArICAgICByID0gdHRtX2V1X3Jl
c2VydmVfYnVmZmVycygmdGlja2V0LCAmbGlzdCwgZmFsc2UsIE5VTEwsIHRydWUpOwo+ID4gKyAg
ICAgaWYgKHIpIHsKPiA+ICsgICAgICAgICAgICAgZGV2X2VycihhZGV2LT5kZXYsICJmYWlsIHRv
IHJlc2VydmUgYm8gKCVkKVxuIiwgcik7Cj4gPiAgICAgICAgICAgICAgIHJldHVybiByOwo+ID4g
KyAgICAgfQo+ID4KPiA+ICAgICAgIGlmIChwbGFuZS0+dHlwZSAhPSBEUk1fUExBTkVfVFlQRV9D
VVJTT1IpCj4gPiAgICAgICAgICAgICAgIGRvbWFpbiA9IGFtZGdwdV9kaXNwbGF5X3N1cHBvcnRl
ZF9kb21haW5zKGFkZXYpOwo+ID4gQEAgLTQyMTEsMjEgKzQyMjIsMjEgQEAgc3RhdGljIGludCBk
bV9wbGFuZV9oZWxwZXJfcHJlcGFyZV9mYihzdHJ1Y3QgZHJtX3BsYW5lICpwbGFuZSwKPiA+ICAg
ICAgIGlmICh1bmxpa2VseShyICE9IDApKSB7Cj4gPiAgICAgICAgICAgICAgIGlmIChyICE9IC1F
UkVTVEFSVFNZUykKPiA+ICAgICAgICAgICAgICAgICAgICAgICBEUk1fRVJST1IoIkZhaWxlZCB0
byBwaW4gZnJhbWVidWZmZXIgd2l0aCBlcnJvciAlZFxuIiwgcik7Cj4gPiAtICAgICAgICAgICAg
IGFtZGdwdV9ib191bnJlc2VydmUocmJvKTsKPiA+ICsgICAgICAgICAgICAgdHRtX2V1X2JhY2tv
ZmZfcmVzZXJ2YXRpb24oJnRpY2tldCwgJmxpc3QpOwo+ID4gICAgICAgICAgICAgICByZXR1cm4g
cjsKPiA+ICAgICAgIH0KPiA+Cj4gPiAgICAgICByID0gYW1kZ3B1X3R0bV9hbGxvY19nYXJ0KCZy
Ym8tPnRibyk7Cj4gPiAgICAgICBpZiAodW5saWtlbHkociAhPSAwKSkgewo+ID4gICAgICAgICAg
ICAgICBhbWRncHVfYm9fdW5waW4ocmJvKTsKPiA+IC0gICAgICAgICAgICAgYW1kZ3B1X2JvX3Vu
cmVzZXJ2ZShyYm8pOwo+ID4gKyAgICAgICAgICAgICB0dG1fZXVfYmFja29mZl9yZXNlcnZhdGlv
bigmdGlja2V0LCAmbGlzdCk7Cj4gPiAgICAgICAgICAgICAgIERSTV9FUlJPUigiJXAgYmluZCBm
YWlsZWRcbiIsIHJibyk7Cj4gPiAgICAgICAgICAgICAgIHJldHVybiByOwo+ID4gICAgICAgfQo+
ID4KPiA+ICAgICAgIGFtZGdwdV9ib19nZXRfdGlsaW5nX2ZsYWdzKHJibywgJnRpbGluZ19mbGFn
cyk7Cj4gPgo+ID4gLSAgICAgYW1kZ3B1X2JvX3VucmVzZXJ2ZShyYm8pOwo+ID4gKyAgICAgdHRt
X2V1X2JhY2tvZmZfcmVzZXJ2YXRpb24oJnRpY2tldCwgJmxpc3QpOwo+ID4KPiA+ICAgICAgIGFm
Yi0+YWRkcmVzcyA9IGFtZGdwdV9ib19ncHVfb2Zmc2V0KHJibyk7Cj4gPgo+ID4gLS0KPiA+IDIu
MTcuMQo+ID4KPiA+IF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fCj4gPiBkcmktZGV2ZWwgbWFpbGluZyBsaXN0Cj4gPiBkcmktZGV2ZWxAbGlzdHMuZnJlZWRl
c2t0b3Aub3JnCj4gPiBodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3Rp
bmZvL2RyaS1kZXZlbAo+IF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fCj4gZHJpLWRldmVsIG1haWxpbmcgbGlzdAo+IGRyaS1kZXZlbEBsaXN0cy5mcmVlZGVz
a3RvcC5vcmcKPiBodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZv
L2RyaS1kZXZlbApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
XwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcK
aHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
