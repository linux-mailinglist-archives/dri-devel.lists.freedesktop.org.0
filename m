Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 9972E22B253
	for <lists+dri-devel@lfdr.de>; Thu, 23 Jul 2020 17:17:36 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id DC8966E231;
	Thu, 23 Jul 2020 15:17:33 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ej1-x641.google.com (mail-ej1-x641.google.com
 [IPv6:2a00:1450:4864:20::641])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D2C236E1F3
 for <dri-devel@lists.freedesktop.org>; Thu, 23 Jul 2020 15:17:18 +0000 (UTC)
Received: by mail-ej1-x641.google.com with SMTP id br7so6797269ejb.5
 for <dri-devel@lists.freedesktop.org>; Thu, 23 Jul 2020 08:17:18 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:subject:date:message-id:in-reply-to:references:mime-version
 :content-transfer-encoding;
 bh=ozZgJkaSfOjYVqLFCd6RBoMk7LEY+mnCluxCFFoCTOs=;
 b=FhfTUN/QcJF+vK+qDNm9t+feuZh7rJM19zoyudmWEoh4ZnrIFKWm5gkaRyzLVdCuGg
 F1CfItX8ai9uAQGjoZkagPIn02I/ktECIVCdK7IR7UpylD7DYgR0gxUDk/l8EcZuMF6J
 iBUsIG1LAP13fpdsItZWCZmE1acPcOl2KkUc7rp7Tl40AaAxcUR7RVsZ77toG50vnhmW
 Makb9E7+hParU1dJnjDW+zxT5wfcEFY36PGzZRv2FZqXdd8ThnCSX6Ya1SBMn7Ajv/yK
 n62zaqOv5XqmLwtwVyOv8axguHg9h5+vIjomaIEgfOGG4XbAtzaHz091lT8lwTdsGpJw
 j6CA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=ozZgJkaSfOjYVqLFCd6RBoMk7LEY+mnCluxCFFoCTOs=;
 b=k58Gnx9VbYsj5AuK6J33UFeeBznrCeIwnNNHD6H22Go4RvIyflex6RW+PILK/6xzNJ
 aSmohsk8D6r143kILqGgrpL0j2cIIaFLW3azwj5fo5BPjXkpaDUrxVA5NwAnbZyhJAZz
 mBoG8pfQ9TlsIFxzHPPc6/oLVTTlopfQdeftUntyg7ApmJGADcK9p5AAtQonkvDJ48bb
 C7wRS0J2jc4oo7dNDrY8yeTrwlSIu+oOTdukSoqGJSHlmBuOCVry0H7aC3jAZdC0ifO+
 eLSAMfNBQS3Zcgz40QHcU+8zIxSKbP1ttt06WSnndS+12rHhkZqdoBPa3fv/sM+dOWP5
 OnWQ==
X-Gm-Message-State: AOAM530i6dZx1Jgk8eIErPcSGzJVPNsBOgOwrREtu3h1p3m2Fg5Flr0n
 tyJyWAEshroYHmXPUOTIbDSP4N9+
X-Google-Smtp-Source: ABdhPJzwyV55KR1SsilQsX6U7LMXPOTvy24tojeoBu2MTkfu1MqFawlQ0XcPgeV4L9j0/W4r/B27UA==
X-Received: by 2002:a17:906:1402:: with SMTP id
 p2mr4672102ejc.126.1595517437118; 
 Thu, 23 Jul 2020 08:17:17 -0700 (PDT)
Received: from abel.fritz.box ([2a02:908:1252:fb60:4ca2:7494:c4d6:51a4])
 by smtp.gmail.com with ESMTPSA id q6sm2239197ejn.30.2020.07.23.08.17.16
 for <dri-devel@lists.freedesktop.org>
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Thu, 23 Jul 2020 08:17:16 -0700 (PDT)
From: "=?UTF-8?q?Christian=20K=C3=B6nig?=" <ckoenig.leichtzumerken@gmail.com>
X-Google-Original-From: =?UTF-8?q?Christian=20K=C3=B6nig?=
 <christian.koenig@amd.com>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH 5/9] drm/vmwgfx: stop implementing init_mem_type
Date: Thu, 23 Jul 2020 17:17:06 +0200
Message-Id: <20200723151710.3591-6-christian.koenig@amd.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20200723151710.3591-1-christian.koenig@amd.com>
References: <20200723151710.3591-1-christian.koenig@amd.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SW5zdGVhZCBqdXN0IGluaXRpYWxpemUgdGhlIG1lbW9yeSB0eXBlIHBhcmFtZXRlcnMKYmVmb3Jl
IGNhbGxpbmcgdHRtX2JvX2luaXRfbW0uCgpTaWduZWQtb2ZmLWJ5OiBDaHJpc3RpYW4gS8O2bmln
IDxjaHJpc3RpYW4ua29lbmlnQGFtZC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92
bXdnZnhfZHJ2LmMgICAgICAgIHwgMTggKysrKysrKysrKysrKysrCiBkcml2ZXJzL2dwdS9kcm0v
dm13Z2Z4L3Ztd2dmeF90dG1fYnVmZmVyLmMgfCAyNyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAy
IGZpbGVzIGNoYW5nZWQsIDE4IGluc2VydGlvbnMoKyksIDI3IGRlbGV0aW9ucygtKQoKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2Rydi5jIGIvZHJpdmVycy9ncHUv
ZHJtL3Ztd2dmeC92bXdnZnhfZHJ2LmMKaW5kZXggNDcwNDI4Mzg3ODc4Li40NTU2OWU5YWQzZjUg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2Rydi5jCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2Rydi5jCkBAIC04NjQsNiArODY0LDkgQEAgc3Rh
dGljIGludCB2bXdfZHJpdmVyX2xvYWQoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgdW5zaWduZWQg
bG9uZyBjaGlwc2V0KQogCSAqIEVuYWJsZSBWUkFNLCBidXQgaW5pdGlhbGx5IGRvbid0IHVzZSBp
dCB1bnRpbCBTVkdBIGlzIGVuYWJsZWQgYW5kCiAJICogdW5oaWRkZW4uCiAJICovCisJZGV2X3By
aXYtPmJkZXYubWFuW1RUTV9QTF9WUkFNXS5mdW5jID0gJnZtd190aHBfZnVuYzsKKwlkZXZfcHJp
di0+YmRldi5tYW5bVFRNX1BMX1ZSQU1dLmF2YWlsYWJsZV9jYWNoaW5nID0gVFRNX1BMX0ZMQUdf
Q0FDSEVEOworCWRldl9wcml2LT5iZGV2Lm1hbltUVE1fUExfVlJBTV0uZGVmYXVsdF9jYWNoaW5n
ID0gVFRNX1BMX0ZMQUdfQ0FDSEVEOwogCXJldCA9IHR0bV9ib19pbml0X21tKCZkZXZfcHJpdi0+
YmRldiwgVFRNX1BMX1ZSQU0sCiAJCQkgICAgIChkZXZfcHJpdi0+dnJhbV9zaXplID4+IFBBR0Vf
U0hJRlQpKTsKIAlpZiAodW5saWtlbHkocmV0ICE9IDApKSB7CkBAIC04NzIsNyArODc1LDE3IEBA
IHN0YXRpYyBpbnQgdm13X2RyaXZlcl9sb2FkKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHVuc2ln
bmVkIGxvbmcgY2hpcHNldCkKIAl9CiAJZGV2X3ByaXYtPmJkZXYubWFuW1RUTV9QTF9WUkFNXS51
c2VfdHlwZSA9IGZhbHNlOwogCisJLyoKKwkgKiAiR3Vlc3QgTWVtb3J5IFJlZ2lvbnMiIGlzIGFu
IGFwZXJ0dXJlIGxpa2UgZmVhdHVyZSB3aXRoCisJICogIG9uZSBzbG90IHBlciBiby4gVGhlcmUg
aXMgYW4gdXBwZXIgbGltaXQgb2YgdGhlIG51bWJlciBvZgorCSAqICBzbG90cyBhcyB3ZWxsIGFz
IHRoZSBibyBzaXplLgorCSAqLwogCWRldl9wcml2LT5oYXNfZ21yID0gdHJ1ZTsKKwlkZXZfcHJp
di0+YmRldi5tYW5bVk1XX1BMX0dNUl0uZnVuYyA9ICZ2bXdfZ21yaWRfbWFuYWdlcl9mdW5jOwor
CWRldl9wcml2LT5iZGV2Lm1hbltWTVdfUExfR01SXS5hdmFpbGFibGVfY2FjaGluZyA9IFRUTV9Q
TF9GTEFHX0NBQ0hFRDsKKwlkZXZfcHJpdi0+YmRldi5tYW5bVk1XX1BMX0dNUl0uZGVmYXVsdF9j
YWNoaW5nID0gVFRNX1BMX0ZMQUdfQ0FDSEVEOworCS8qIFRPRE86IFRoaXMgaXMgbW9zdCBsaWtl
bHkgbm90IGNvcnJlY3QgKi8KKwlkZXZfcHJpdi0+YmRldi5tYW5bVk1XX1BMX0dNUl0udXNlX3R0
ID0gdHJ1ZTsKIAlpZiAoKChkZXZfcHJpdi0+Y2FwYWJpbGl0aWVzICYgKFNWR0FfQ0FQX0dNUiB8
IFNWR0FfQ0FQX0dNUjIpKSA9PSAwKSB8fAogCSAgICByZWZ1c2VfZG1hIHx8IHR0bV9ib19pbml0
X21tKCZkZXZfcHJpdi0+YmRldiwgVk1XX1BMX0dNUiwKIAkJCQkJIFZNV19QTF9HTVIpICE9IDAp
IHsKQEAgLTg4Myw2ICs4OTYsMTEgQEAgc3RhdGljIGludCB2bXdfZHJpdmVyX2xvYWQoc3RydWN0
IGRybV9kZXZpY2UgKmRldiwgdW5zaWduZWQgbG9uZyBjaGlwc2V0KQogCiAJaWYgKGRldl9wcml2
LT5jYXBhYmlsaXRpZXMgJiBTVkdBX0NBUF9HQk9CSkVDVFMgJiYgIXJlZnVzZV9kbWEpIHsKIAkJ
ZGV2X3ByaXYtPmhhc19tb2IgPSB0cnVlOworCQlkZXZfcHJpdi0+YmRldi5tYW5bVk1XX1BMX01P
Ql0uZnVuYyA9ICZ2bXdfZ21yaWRfbWFuYWdlcl9mdW5jOworCQlkZXZfcHJpdi0+YmRldi5tYW5b
Vk1XX1BMX01PQl0uYXZhaWxhYmxlX2NhY2hpbmcgPSBUVE1fUExfRkxBR19DQUNIRUQ7CisJCWRl
dl9wcml2LT5iZGV2Lm1hbltWTVdfUExfTU9CXS5kZWZhdWx0X2NhY2hpbmcgPSBUVE1fUExfRkxB
R19DQUNIRUQ7CisJCS8qIFRPRE86IFRoaXMgaXMgbW9zdCBsaWtlbHkgbm90IGNvcnJlY3QgKi8K
KwkJZGV2X3ByaXYtPmJkZXYubWFuW1ZNV19QTF9NT0JdLnVzZV90dCA9IHRydWU7CiAJCWlmICh0
dG1fYm9faW5pdF9tbSgmZGV2X3ByaXYtPmJkZXYsIFZNV19QTF9NT0IsCiAJCQkJICAgVk1XX1BM
X01PQikgIT0gMCkgewogCQkJRFJNX0lORk8oIk5vIE1PQiBtZW1vcnkgYXZhaWxhYmxlLiAiCmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF90dG1fYnVmZmVyLmMgYi9k
cml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF90dG1fYnVmZmVyLmMKaW5kZXggNWQ4MTc5ZDlm
Mzk0Li5kYjRiMmUyZTRlZGIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13
Z2Z4X3R0bV9idWZmZXIuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vdm13Z2Z4L3Ztd2dmeF90dG1f
YnVmZmVyLmMKQEAgLTczOSwzMyArNzM5LDYgQEAgc3RhdGljIHN0cnVjdCB0dG1fdHQgKnZtd190
dG1fdHRfY3JlYXRlKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sCiBzdGF0aWMgaW50IHZt
d19pbml0X21lbV90eXBlKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LCB1aW50MzJfdCB0eXBl
LAogCQkgICAgICBzdHJ1Y3QgdHRtX21lbV90eXBlX21hbmFnZXIgKm1hbikKIHsKLQlzd2l0Y2gg
KHR5cGUpIHsKLQljYXNlIFRUTV9QTF9TWVNURU06Ci0JCS8qIFN5c3RlbSBtZW1vcnkgKi8KLQkJ
YnJlYWs7Ci0JY2FzZSBUVE1fUExfVlJBTToKLQkJLyogIk9uLWNhcmQiIHZpZGVvIHJhbSAqLwot
CQltYW4tPmZ1bmMgPSAmdm13X3RocF9mdW5jOwotCQltYW4tPmF2YWlsYWJsZV9jYWNoaW5nID0g
VFRNX1BMX0ZMQUdfQ0FDSEVEOwotCQltYW4tPmRlZmF1bHRfY2FjaGluZyA9IFRUTV9QTF9GTEFH
X0NBQ0hFRDsKLQkJYnJlYWs7Ci0JY2FzZSBWTVdfUExfR01SOgotCWNhc2UgVk1XX1BMX01PQjoK
LQkJLyoKLQkJICogIkd1ZXN0IE1lbW9yeSBSZWdpb25zIiBpcyBhbiBhcGVydHVyZSBsaWtlIGZl
YXR1cmUgd2l0aAotCQkgKiAgb25lIHNsb3QgcGVyIGJvLiBUaGVyZSBpcyBhbiB1cHBlciBsaW1p
dCBvZiB0aGUgbnVtYmVyIG9mCi0JCSAqICBzbG90cyBhcyB3ZWxsIGFzIHRoZSBibyBzaXplLgot
CQkgKi8KLQkJbWFuLT5mdW5jID0gJnZtd19nbXJpZF9tYW5hZ2VyX2Z1bmM7Ci0JCW1hbi0+YXZh
aWxhYmxlX2NhY2hpbmcgPSBUVE1fUExfRkxBR19DQUNIRUQ7Ci0JCW1hbi0+ZGVmYXVsdF9jYWNo
aW5nID0gVFRNX1BMX0ZMQUdfQ0FDSEVEOwotCQkvKiBUT0RPOiBUaGlzIGlzIG1vc3QgbGlrZWx5
IG5vdCBjb3JyZWN0ICovCi0JCW1hbi0+dXNlX3R0ID0gdHJ1ZTsKLQkJYnJlYWs7Ci0JZGVmYXVs
dDoKLQkJRFJNX0VSUk9SKCJVbnN1cHBvcnRlZCBtZW1vcnkgdHlwZSAldVxuIiwgKHVuc2lnbmVk
KXR5cGUpOwotCQlyZXR1cm4gLUVJTlZBTDsKLQl9CiAJcmV0dXJuIDA7CiB9CiAKLS0gCjIuMTcu
MQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRl
dmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8v
bGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVsCg==
