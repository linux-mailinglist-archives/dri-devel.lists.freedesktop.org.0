Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id C5120158995
	for <lists+dri-devel@lfdr.de>; Tue, 11 Feb 2020 06:26:15 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 39ECD6E2B0;
	Tue, 11 Feb 2020 05:26:11 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from NAM10-BN7-obe.outbound.protection.outlook.com
 (mail-bn7nam10on2077.outbound.protection.outlook.com [40.107.92.77])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A98556E2B0;
 Tue, 11 Feb 2020 05:26:10 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=JzhsfiGfvo6yg0TbEuDDxhrIJZ07imN1jBla1hl7mC420a70dpYMg1GULkPqNnSZAwC8ZoqIZy2M48u5l0vCUHLNlYdm5lSE/BFVi16TKbeDJOrkUBUUgi1h5d8OX5hLOtWHC4QVWhsjPoUcFWIAtrSYPEdvKJoLjGbT+Y2NSxkWfl3JZUOkH4aE8jGMM6X3AUILfO1NV0FV9ztJubUUchVwQsDRf0zKJHVXhAuX3xy6LjC41mL5UHfQQjnXddwm7Aektygbje/N0q7tM6m8SuqhpJx2MM0qQRF0C8RTJWNltyfZvMl2MwVsKpflsOP6UYKvyslSeoQMvsQTJ+8IxA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=w/qCaK0KJLViPG/CJll19bzy2XT/jO0aK/qNRa3pvFM=;
 b=eVibnIAdPjIJ0hailwMyUUjNv2O/hBmVBbw0hglppJyw2FevmAcvQ4bj5ttN9/j1zss3rJx6obIOqxfgkPbFqIjkfD+Jit3kYZ7ROOb9MdIlpfmUA6Z43ETw3TNkI5HoUdamnGDPQCQLXn6KZdor8r//N9+h3mhKUd2V07UlBOOg7dmm3Sj1wz3rHOlhJzw3nWmFCwyaYNtJuw4F+qX2grwzbrVw0BF7ViadEgoiOBx3Z460RABBGAhQimE1rpfkKf3D9rSpSP+sSntY+rZlzx6K1BNk5P3hrL9Jaestz/U1aREh3vgCfvnjPYaucM3JQkOxOAzr78bK6dtE5fVlOw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=w/qCaK0KJLViPG/CJll19bzy2XT/jO0aK/qNRa3pvFM=;
 b=p9EAd1sq0T2gneZ8StstmEFdtxk3vM6/h3ZNkuCAQQ7MdmFZXOL4TN6hbOQCURZLG6zRqwWICh0qoEXR46xb0UsVGkbxqnM//fXrD+Q6chlSdTEF25oqh2JgLKQ+bdMl6e17ev9BnkWkx7oGRE2MrI/n+566h7Hj3aLfOl/vsCg=
Received: from SN6PR12MB2800.namprd12.prod.outlook.com (52.135.101.138) by
 SN6PR12MB2765.namprd12.prod.outlook.com (52.135.107.33) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2707.25; Tue, 11 Feb 2020 05:26:08 +0000
Received: from SN6PR12MB2800.namprd12.prod.outlook.com
 ([fe80::b99c:18c0:8685:1c10]) by SN6PR12MB2800.namprd12.prod.outlook.com
 ([fe80::b99c:18c0:8685:1c10%5]) with mapi id 15.20.2707.030; Tue, 11 Feb 2020
 05:26:08 +0000
From: "Pan, Xinhui" <Xinhui.Pan@amd.com>
To: =?utf-8?B?Q2hyaXN0aWFuIEvDtm5pZw==?= <ckoenig.leichtzumerken@gmail.com>
Subject: Re: [PATCH 4/6] drm/ttm: rework BO delayed delete.
Thread-Topic: [PATCH 4/6] drm/ttm: rework BO delayed delete.
Thread-Index: AQHV4CQSdVnDb+WYjEKgL3hhjCZRWqgVdzwA
Date: Tue, 11 Feb 2020 05:26:07 +0000
Message-ID: <865D83C5-2752-4D2C-B0F8-66CA0B1B0203@amd.com>
References: <20200210150907.20616-1-christian.koenig@amd.com>
 <20200210150907.20616-5-christian.koenig@amd.com>
In-Reply-To: <20200210150907.20616-5-christian.koenig@amd.com>
Accept-Language: zh-CN, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=Xinhui.Pan@amd.com; 
x-originating-ip: [180.167.199.185]
x-ms-publictraffictype: Email
x-ms-office365-filtering-ht: Tenant
x-ms-office365-filtering-correlation-id: 828c05b8-cbe1-4097-5d8c-08d7aeb2e5f5
x-ms-traffictypediagnostic: SN6PR12MB2765:|SN6PR12MB2765:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <SN6PR12MB276514A61C66CB6EF86C79AB87180@SN6PR12MB2765.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:6790;
x-forefront-prvs: 0310C78181
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(376002)(39860400002)(346002)(366004)(136003)(396003)(199004)(189003)(8936002)(478600001)(66556008)(64756008)(66476007)(26005)(36756003)(8676002)(66446008)(6916009)(5660300002)(66946007)(86362001)(81166006)(81156014)(186003)(30864003)(6512007)(4326008)(76116006)(6506007)(71200400001)(33656002)(54906003)(2906002)(91956017)(66574012)(316002)(6486002)(2616005);
 DIR:OUT; SFP:1101; SCL:1; SRVR:SN6PR12MB2765;
 H:SN6PR12MB2800.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: K/UfW+AgeScUSM97NW0G5xAUIjmAlZGJs+dAExA9si6oCiBqT0ZWnh/LMDb8MRXJh8mVTmgZ57DnVauK99ONXNNFd9HmkMKATW8n5k8o3Yf4/ffo3Wc3pSp03KSKpCQmN1oh5rA6QiD54YAO1TIwZBPncDjeayGtw+r+6JXMO82Jyt3JTR271rTey7vwFwA0Mi2nIw6xtaFJidY+SoTDVUVF1KmlpULC8JCn3HuhYX6RFDM+ZOMIYGctB7dHHQMYN0US4AzFG7ddHfoOl3Sdi63xRDt3Bhn+VBYSNDjHar6yhfdQUQ+plvsUO/zsMpK8gNl2ntFRPbzJQ/DGg9PQcnTBvZT/AM0mHAE7UZ7BbPT3dsYCNbwWe8d5YJTYce0R7Zso5NUXeVT3hR4wuJ+Bi+BQmC8nE5lKKnXQ8vra9Rnj4gDEa+c8kSa1rX2zUlLs
x-ms-exchange-antispam-messagedata: SveHfnG6RoyAedlnQMrH9QmDXyazjDROdHn09RZyZDEXnQWrsY99CjE7AilbFKr3Ln1CxTQMoHQEsLgeki1sh0kWOptMulYcvFxW42suSLjOJZXzYof8EHCsc49/gN1b7gkA05Iz0eFTfnzaBUjHmg==
Content-ID: <E5728D526E24D049B9BB1EC068073E36@namprd12.prod.outlook.com>
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 828c05b8-cbe1-4097-5d8c-08d7aeb2e5f5
X-MS-Exchange-CrossTenant-originalarrivaltime: 11 Feb 2020 05:26:07.9939 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: /gHPlZcLBf4R6mJTlldFTvry/Y9hXosMu+3Ne1oP15KInUy0IeutIg7qiOR9IBUH
X-MS-Exchange-Transport-CrossTenantHeadersStamped: SN6PR12MB2765
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: "Pan, Xinhui" <Xinhui.Pan@amd.com>,
 "dri-devel@lists.freedesktop.org" <dri-devel@lists.freedesktop.org>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Y29tbWVudHMgaW5saW5lLg0KW3hoXQ0KDQoNCj4gMjAyMOW5tDLmnIgxMOaXpSAyMzowOe+8jENo
cmlzdGlhbiBLw7ZuaWcgPGNrb2VuaWcubGVpY2h0enVtZXJrZW5AZ21haWwuY29tPiDlhpnpgZPv
vJoNCj4gDQo+IFRoaXMgcGF0Y2ggcmV3b3JrcyB0aGUgd2hvbGUgZGVsYXllZCBkZWxldGlvbiBv
ZiBCT3Mgd2hpY2ggYXJlbid0IGlkbGUuDQo+IA0KPiBJbnN0ZWFkIG9mIGhhdmluZyB0d28gY291
bnRlcnMgZm9yIHRoZSBCTyBzdHJ1Y3R1cmUgd2UgcmVzdXJyZWN0IHRoZSBCTw0KPiB3aGVuIHdl
IGZpbmQgdGhhdCBhIGRlbGV0ZWQgQk8gaXMgbm90IGlkbGUgeWV0Lg0KPiANCj4gVGhpcyBoYXMg
bWFueSBhZHZhbnRhZ2VzLCBlc3BlY2lhbGx5IHRoYXQgd2UgZG9uJ3QgbmVlZCB0bw0KPiBpbmNy
ZW1lbnQvZGVjcmVtZW50IHRoZSBCT3MgcmVmZXJlbmNlIGNvdW50ZXIgYW55IG1vcmUgd2hlbiBp
dA0KPiBtb3ZlcyBvbiB0aGUgTFJVcy4NCj4gDQo+IFNpZ25lZC1vZmYtYnk6IENocmlzdGlhbiBL
w7ZuaWcgPGNocmlzdGlhbi5rb2VuaWdAYW1kLmNvbT4NCj4gLS0tDQo+IGRyaXZlcnMvZ3B1L2Ry
bS90dG0vdHRtX2JvLmMgICAgICB8IDIxNyArKysrKysrKysrKysrLS0tLS0tLS0tLS0tLS0tLS0N
Cj4gZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm9fdXRpbC5jIHwgICAxIC0NCj4gaW5jbHVkZS9k
cm0vdHRtL3R0bV9ib19hcGkuaCAgICAgIHwgIDExICstDQo+IDMgZmlsZXMgY2hhbmdlZCwgOTcg
aW5zZXJ0aW9ucygrKSwgMTMyIGRlbGV0aW9ucygtKQ0KPiANCj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS90dG0vdHRtX2JvLmMgYi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9iby5jDQo+
IGluZGV4IGUxMmZjMmMyZDE2NS4uZDA2MjQ2ODVmNWQyIDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vdHRtL3R0bV9iby5jDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2Jv
LmMNCj4gQEAgLTE0NSwyNiArMTQ1LDYgQEAgc3RhdGljIGlubGluZSB1aW50MzJfdCB0dG1fYm9f
dHlwZV9mbGFncyh1bnNpZ25lZCB0eXBlKQ0KPiAJcmV0dXJuIDEgPDwgKHR5cGUpOw0KPiB9DQo+
IA0KPiAtc3RhdGljIHZvaWQgdHRtX2JvX3JlbGVhc2VfbGlzdChzdHJ1Y3Qga3JlZiAqbGlzdF9r
cmVmKQ0KPiAtew0KPiAtCXN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8gPQ0KPiAtCSAgICBj
b250YWluZXJfb2YobGlzdF9rcmVmLCBzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QsIGxpc3Rfa3Jl
Zik7DQo+IC0Jc2l6ZV90IGFjY19zaXplID0gYm8tPmFjY19zaXplOw0KPiAtDQo+IC0JQlVHX09O
KGtyZWZfcmVhZCgmYm8tPmxpc3Rfa3JlZikpOw0KPiAtCUJVR19PTihrcmVmX3JlYWQoJmJvLT5r
cmVmKSk7DQo+IC0JQlVHX09OKGJvLT5tZW0ubW1fbm9kZSAhPSBOVUxMKTsNCj4gLQlCVUdfT04o
IWxpc3RfZW1wdHkoJmJvLT5scnUpKTsNCj4gLQlCVUdfT04oIWxpc3RfZW1wdHkoJmJvLT5kZGVz
dHJveSkpOw0KPiAtCXR0bV90dF9kZXN0cm95KGJvLT50dG0pOw0KPiAtCWF0b21pY19kZWMoJnR0
bV9ib19nbG9iLmJvX2NvdW50KTsNCj4gLQlkbWFfZmVuY2VfcHV0KGJvLT5tb3ZpbmcpOw0KPiAt
CWlmICghdHRtX2JvX3VzZXNfZW1iZWRkZWRfZ2VtX29iamVjdChibykpDQo+IC0JCWRtYV9yZXN2
X2ZpbmkoJmJvLT5iYXNlLl9yZXN2KTsNCj4gLQliby0+ZGVzdHJveShibyk7DQo+IC0JdHRtX21l
bV9nbG9iYWxfZnJlZSgmdHRtX21lbV9nbG9iLCBhY2Nfc2l6ZSk7DQo+IC19DQo+IC0NCj4gc3Rh
dGljIHZvaWQgdHRtX2JvX2FkZF9tZW1fdG9fbHJ1KHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAq
Ym8sDQo+IAkJCQkgIHN0cnVjdCB0dG1fbWVtX3JlZyAqbWVtKQ0KPiB7DQo+IEBAIC0xODEsMjEg
KzE2MSwxNCBAQCBzdGF0aWMgdm9pZCB0dG1fYm9fYWRkX21lbV90b19scnUoc3RydWN0IHR0bV9i
dWZmZXJfb2JqZWN0ICpibywNCj4gDQo+IAltYW4gPSAmYmRldi0+bWFuW21lbS0+bWVtX3R5cGVd
Ow0KPiAJbGlzdF9hZGRfdGFpbCgmYm8tPmxydSwgJm1hbi0+bHJ1W2JvLT5wcmlvcml0eV0pOw0K
PiAtCWtyZWZfZ2V0KCZiby0+bGlzdF9rcmVmKTsNCj4gDQo+IAlpZiAoIShtYW4tPmZsYWdzICYg
VFRNX01FTVRZUEVfRkxBR19GSVhFRCkgJiYgYm8tPnR0bSAmJg0KPiAJICAgICEoYm8tPnR0bS0+
cGFnZV9mbGFncyAmIChUVE1fUEFHRV9GTEFHX1NHIHwNCj4gCQkJCSAgICAgVFRNX1BBR0VfRkxB
R19TV0FQUEVEKSkpIHsNCj4gCQlsaXN0X2FkZF90YWlsKCZiby0+c3dhcCwgJnR0bV9ib19nbG9i
LnN3YXBfbHJ1W2JvLT5wcmlvcml0eV0pOw0KPiAtCQlrcmVmX2dldCgmYm8tPmxpc3Rfa3JlZik7
DQo+IAl9DQo+IH0NCj4gDQo+IC1zdGF0aWMgdm9pZCB0dG1fYm9fcmVmX2J1ZyhzdHJ1Y3Qga3Jl
ZiAqbGlzdF9rcmVmKQ0KPiAtew0KPiAtCUJVRygpOw0KPiAtfQ0KPiAtDQo+IHN0YXRpYyB2b2lk
IHR0bV9ib19kZWxfZnJvbV9scnUoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibykNCj4gew0K
PiAJc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYgPSBiby0+YmRldjsNCj4gQEAgLTIwMywxMiAr
MTc2LDEwIEBAIHN0YXRpYyB2b2lkIHR0bV9ib19kZWxfZnJvbV9scnUoc3RydWN0IHR0bV9idWZm
ZXJfb2JqZWN0ICpibykNCj4gDQo+IAlpZiAoIWxpc3RfZW1wdHkoJmJvLT5zd2FwKSkgew0KPiAJ
CWxpc3RfZGVsX2luaXQoJmJvLT5zd2FwKTsNCj4gLQkJa3JlZl9wdXQoJmJvLT5saXN0X2tyZWYs
IHR0bV9ib19yZWZfYnVnKTsNCj4gCQlub3RpZnkgPSB0cnVlOw0KPiAJfQ0KPiAJaWYgKCFsaXN0
X2VtcHR5KCZiby0+bHJ1KSkgew0KPiAJCWxpc3RfZGVsX2luaXQoJmJvLT5scnUpOw0KPiAtCQlr
cmVmX3B1dCgmYm8tPmxpc3Rfa3JlZiwgdHRtX2JvX3JlZl9idWcpOw0KPiAJCW5vdGlmeSA9IHRy
dWU7DQo+IAl9DQo+IA0KPiBAQCAtNDIxLDggKzM5Miw3IEBAIHN0YXRpYyBpbnQgdHRtX2JvX2lu
ZGl2aWR1YWxpemVfcmVzdihzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvKQ0KPiAJQlVHX09O
KCFkbWFfcmVzdl90cnlsb2NrKCZiby0+YmFzZS5fcmVzdikpOw0KPiANCj4gCXIgPSBkbWFfcmVz
dl9jb3B5X2ZlbmNlcygmYm8tPmJhc2UuX3Jlc3YsIGJvLT5iYXNlLnJlc3YpOw0KPiAtCWlmIChy
KQ0KPiAtCQlkbWFfcmVzdl91bmxvY2soJmJvLT5iYXNlLl9yZXN2KTsNCj4gKwlkbWFfcmVzdl91
bmxvY2soJmJvLT5iYXNlLl9yZXN2KTsNCj4gDQo+IAlyZXR1cm4gcjsNCj4gfQ0KPiBAQCAtNDQ5
LDY4ICs0MTksMTAgQEAgc3RhdGljIHZvaWQgdHRtX2JvX2ZsdXNoX2FsbF9mZW5jZXMoc3RydWN0
IHR0bV9idWZmZXJfb2JqZWN0ICpibykNCj4gCXJjdV9yZWFkX3VubG9jaygpOw0KPiB9DQo+IA0K
PiAtc3RhdGljIHZvaWQgdHRtX2JvX2NsZWFudXBfcmVmc19vcl9xdWV1ZShzdHJ1Y3QgdHRtX2J1
ZmZlcl9vYmplY3QgKmJvKQ0KPiAtew0KPiAtCXN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2ID0g
Ym8tPmJkZXY7DQo+IC0JaW50IHJldDsNCj4gLQ0KPiAtCXJldCA9IHR0bV9ib19pbmRpdmlkdWFs
aXplX3Jlc3YoYm8pOw0KPiAtCWlmIChyZXQpIHsNCj4gLQkJLyogTGFzdCByZXNvcnQsIGlmIHdl
IGZhaWwgdG8gYWxsb2NhdGUgbWVtb3J5IGZvciB0aGUNCj4gLQkJICogZmVuY2VzIGJsb2NrIGZv
ciB0aGUgQk8gdG8gYmVjb21lIGlkbGUNCj4gLQkJICovDQo+IC0JCWRtYV9yZXN2X3dhaXRfdGlt
ZW91dF9yY3UoYm8tPmJhc2UucmVzdiwgdHJ1ZSwgZmFsc2UsDQo+IC0JCQkJCQkgICAgMzAgKiBI
Wik7DQo+IC0JCXNwaW5fbG9jaygmdHRtX2JvX2dsb2IubHJ1X2xvY2spOw0KPiAtCQlnb3RvIGVy
cm9yOw0KPiAtCX0NCj4gLQ0KPiAtCXNwaW5fbG9jaygmdHRtX2JvX2dsb2IubHJ1X2xvY2spOw0K
PiAtCXJldCA9IGRtYV9yZXN2X3RyeWxvY2soYm8tPmJhc2UucmVzdikgPyAwIDogLUVCVVNZOw0K
PiAtCWlmICghcmV0KSB7DQo+IC0JCWlmIChkbWFfcmVzdl90ZXN0X3NpZ25hbGVkX3JjdSgmYm8t
PmJhc2UuX3Jlc3YsIHRydWUpKSB7DQo+IC0JCQl0dG1fYm9fZGVsX2Zyb21fbHJ1KGJvKTsNCj4g
LQkJCXNwaW5fdW5sb2NrKCZ0dG1fYm9fZ2xvYi5scnVfbG9jayk7DQo+IC0JCQlpZiAoYm8tPmJh
c2UucmVzdiAhPSAmYm8tPmJhc2UuX3Jlc3YpDQo+IC0JCQkJZG1hX3Jlc3ZfdW5sb2NrKCZiby0+
YmFzZS5fcmVzdik7DQo+IC0NCj4gLQkJCXR0bV9ib19jbGVhbnVwX21lbXR5cGVfdXNlKGJvKTsN
Cj4gLQkJCWRtYV9yZXN2X3VubG9jayhiby0+YmFzZS5yZXN2KTsNCj4gLQkJCXJldHVybjsNCj4g
LQkJfQ0KPiAtDQo+IC0JCXR0bV9ib19mbHVzaF9hbGxfZmVuY2VzKGJvKTsNCj4gLQ0KPiAtCQkv
Kg0KPiAtCQkgKiBNYWtlIE5PX0VWSUNUIGJvcyBpbW1lZGlhdGVseSBhdmFpbGFibGUgdG8NCj4g
LQkJICogc2hyaW5rZXJzLCBub3cgdGhhdCB0aGV5IGFyZSBxdWV1ZWQgZm9yDQo+IC0JCSAqIGRl
c3RydWN0aW9uLg0KPiAtCQkgKi8NCj4gLQkJaWYgKGJvLT5tZW0ucGxhY2VtZW50ICYgVFRNX1BM
X0ZMQUdfTk9fRVZJQ1QpIHsNCj4gLQkJCWJvLT5tZW0ucGxhY2VtZW50ICY9IH5UVE1fUExfRkxB
R19OT19FVklDVDsNCj4gLQkJCXR0bV9ib19tb3ZlX3RvX2xydV90YWlsKGJvLCBOVUxMKTsNCj4g
LQkJfQ0KPiAtDQo+IC0JCWRtYV9yZXN2X3VubG9jayhiby0+YmFzZS5yZXN2KTsNCj4gLQl9DQo+
IC0JaWYgKGJvLT5iYXNlLnJlc3YgIT0gJmJvLT5iYXNlLl9yZXN2KSB7DQo+IC0JCXR0bV9ib19m
bHVzaF9hbGxfZmVuY2VzKGJvKTsNCj4gLQkJZG1hX3Jlc3ZfdW5sb2NrKCZiby0+YmFzZS5fcmVz
dik7DQo+IC0JfQ0KPiAtDQo+IC1lcnJvcjoNCj4gLQlrcmVmX2dldCgmYm8tPmxpc3Rfa3JlZik7
DQo+IC0JbGlzdF9hZGRfdGFpbCgmYm8tPmRkZXN0cm95LCAmYmRldi0+ZGRlc3Ryb3kpOw0KPiAt
CXNwaW5fdW5sb2NrKCZ0dG1fYm9fZ2xvYi5scnVfbG9jayk7DQo+IC0NCj4gLQlzY2hlZHVsZV9k
ZWxheWVkX3dvcmsoJmJkZXYtPndxLA0KPiAtCQkJICAgICAgKChIWiAvIDEwMCkgPCAxKSA/IDEg
OiBIWiAvIDEwMCk7DQo+IC19DQo+IC0NCj4gLyoqDQo+ICAqIGZ1bmN0aW9uIHR0bV9ib19jbGVh
bnVwX3JlZnMNCj4gLSAqIElmIGJvIGlkbGUsIHJlbW92ZSBmcm9tIGRlbGF5ZWQtIGFuZCBscnUg
bGlzdHMsIGFuZCB1bnJlZi4NCj4gLSAqIElmIG5vdCBpZGxlLCBkbyBub3RoaW5nLg0KPiArICog
SWYgYm8gaWRsZSwgcmVtb3ZlIGZyb20gbHJ1IGxpc3RzLCBhbmQgdW5yZWYuDQo+ICsgKiBJZiBu
b3QgaWRsZSwgYmxvY2sgaWYgcG9zc2libGUuDQo+ICAqDQo+ICAqIE11c3QgYmUgY2FsbGVkIHdp
dGggbHJ1X2xvY2sgYW5kIHJlc2VydmF0aW9uIGhlbGQsIHRoaXMgZnVuY3Rpb24NCj4gICogd2ls
bCBkcm9wIHRoZSBscnUgbG9jayBhbmQgb3B0aW9uYWxseSB0aGUgcmVzZXJ2YXRpb24gbG9jayBi
ZWZvcmUgcmV0dXJuaW5nLg0KPiBAQCAtNTcyLDE0ICs0ODQsMTQgQEAgc3RhdGljIGludCB0dG1f
Ym9fY2xlYW51cF9yZWZzKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sDQo+IA0KPiAJdHRt
X2JvX2RlbF9mcm9tX2xydShibyk7DQo+IAlsaXN0X2RlbF9pbml0KCZiby0+ZGRlc3Ryb3kpOw0K
PiAtCWtyZWZfcHV0KCZiby0+bGlzdF9rcmVmLCB0dG1fYm9fcmVmX2J1Zyk7DQo+IC0NCj4gCXNw
aW5fdW5sb2NrKCZ0dG1fYm9fZ2xvYi5scnVfbG9jayk7DQo+IAl0dG1fYm9fY2xlYW51cF9tZW10
eXBlX3VzZShibyk7DQo+IA0KPiAJaWYgKHVubG9ja19yZXN2KQ0KPiAJCWRtYV9yZXN2X3VubG9j
ayhiby0+YmFzZS5yZXN2KTsNCj4gDQo+ICsJdHRtX2JvX3B1dChibyk7DQo+ICsNCj4gCXJldHVy
biAwOw0KPiB9DQo+IA0KPiBAQCAtNjAxLDggKzUxMyw5IEBAIHN0YXRpYyBib29sIHR0bV9ib19k
ZWxheWVkX2RlbGV0ZShzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwgYm9vbCByZW1vdmVfYWxs
KQ0KPiANCj4gCQlibyA9IGxpc3RfZmlyc3RfZW50cnkoJmJkZXYtPmRkZXN0cm95LCBzdHJ1Y3Qg
dHRtX2J1ZmZlcl9vYmplY3QsDQo+IAkJCQkgICAgICBkZGVzdHJveSk7DQo+IC0JCWtyZWZfZ2V0
KCZiby0+bGlzdF9rcmVmKTsNCj4gCQlsaXN0X21vdmVfdGFpbCgmYm8tPmRkZXN0cm95LCAmcmVt
b3ZlZCk7DQo+ICsJCWlmICghdHRtX2JvX2dldF91bmxlc3NfemVybyhibykpDQo+ICsJCQljb250
aW51ZTsNCj4gDQo+IAkJaWYgKHJlbW92ZV9hbGwgfHwgYm8tPmJhc2UucmVzdiAhPSAmYm8tPmJh
c2UuX3Jlc3YpIHsNCj4gCQkJc3Bpbl91bmxvY2soJmdsb2ItPmxydV9sb2NrKTsNCj4gQEAgLTYx
Nyw3ICs1MzAsNyBAQCBzdGF0aWMgYm9vbCB0dG1fYm9fZGVsYXllZF9kZWxldGUoc3RydWN0IHR0
bV9ib19kZXZpY2UgKmJkZXYsIGJvb2wgcmVtb3ZlX2FsbCkNCj4gCQkJc3Bpbl91bmxvY2soJmds
b2ItPmxydV9sb2NrKTsNCj4gCQl9DQo+IA0KPiAtCQlrcmVmX3B1dCgmYm8tPmxpc3Rfa3JlZiwg
dHRtX2JvX3JlbGVhc2VfbGlzdCk7DQo+ICsJCXR0bV9ib19wdXQoYm8pOw0KPiAJCXNwaW5fbG9j
aygmZ2xvYi0+bHJ1X2xvY2spOw0KPiAJfQ0KPiAJbGlzdF9zcGxpY2VfdGFpbCgmcmVtb3ZlZCwg
JmJkZXYtPmRkZXN0cm95KTsNCj4gQEAgLTY0MywxNiArNTU2LDY4IEBAIHN0YXRpYyB2b2lkIHR0
bV9ib19yZWxlYXNlKHN0cnVjdCBrcmVmICprcmVmKQ0KPiAJICAgIGNvbnRhaW5lcl9vZihrcmVm
LCBzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QsIGtyZWYpOw0KPiAJc3RydWN0IHR0bV9ib19kZXZp
Y2UgKmJkZXYgPSBiby0+YmRldjsNCj4gCXN0cnVjdCB0dG1fbWVtX3R5cGVfbWFuYWdlciAqbWFu
ID0gJmJkZXYtPm1hbltiby0+bWVtLm1lbV90eXBlXTsNCj4gKwlzaXplX3QgYWNjX3NpemUgPSBi
by0+YWNjX3NpemU7DQo+ICsJaW50IHJldDsNCj4gDQo+IC0JaWYgKGJvLT5iZGV2LT5kcml2ZXIt
PnJlbGVhc2Vfbm90aWZ5KQ0KPiAtCQliby0+YmRldi0+ZHJpdmVyLT5yZWxlYXNlX25vdGlmeShi
byk7DQo+ICsJaWYgKCFiby0+ZGVsZXRlZCkgew0KPiArCQlpZiAoYm8tPmJkZXYtPmRyaXZlci0+
cmVsZWFzZV9ub3RpZnkpDQo+ICsJCQliby0+YmRldi0+ZHJpdmVyLT5yZWxlYXNlX25vdGlmeShi
byk7DQo+IA0KPiAtCWRybV92bWFfb2Zmc2V0X3JlbW92ZShiZGV2LT52bWFfbWFuYWdlciwgJmJv
LT5iYXNlLnZtYV9ub2RlKTsNCj4gLQl0dG1fbWVtX2lvX2xvY2sobWFuLCBmYWxzZSk7DQo+IC0J
dHRtX21lbV9pb19mcmVlX3ZtKGJvKTsNCj4gLQl0dG1fbWVtX2lvX3VubG9jayhtYW4pOw0KPiAt
CXR0bV9ib19jbGVhbnVwX3JlZnNfb3JfcXVldWUoYm8pOw0KPiAtCWtyZWZfcHV0KCZiby0+bGlz
dF9rcmVmLCB0dG1fYm9fcmVsZWFzZV9saXN0KTsNCj4gKwkJZHJtX3ZtYV9vZmZzZXRfcmVtb3Zl
KGJkZXYtPnZtYV9tYW5hZ2VyLCAmYm8tPmJhc2Uudm1hX25vZGUpOw0KPiArCQl0dG1fbWVtX2lv
X2xvY2sobWFuLCBmYWxzZSk7DQo+ICsJCXR0bV9tZW1faW9fZnJlZV92bShibyk7DQo+ICsJCXR0
bV9tZW1faW9fdW5sb2NrKG1hbik7DQo+ICsNCj4gKwkJcmV0ID0gdHRtX2JvX2luZGl2aWR1YWxp
emVfcmVzdihibyk7DQo+ICsJCWlmIChyZXQpIHsNCj4gKwkJCS8qIExhc3QgcmVzb3J0LCBpZiB3
ZSBmYWlsIHRvIGFsbG9jYXRlIG1lbW9yeSBmb3IgdGhlDQo+ICsJCQkgKiBmZW5jZXMgYmxvY2sg
Zm9yIHRoZSBCTyB0byBiZWNvbWUgaWRsZQ0KPiArCQkJICovDQo+ICsJCQlkbWFfcmVzdl93YWl0
X3RpbWVvdXRfcmN1KGJvLT5iYXNlLnJlc3YsIHRydWUsIGZhbHNlLA0KPiArCQkJCQkJICAzMCAq
IEhaKTsNCj4gKwkJfQ0KPiArCX0NCj4gKw0KPiArCWlmICghZG1hX3Jlc3ZfdGVzdF9zaWduYWxl
ZF9yY3UoYm8tPmJhc2UucmVzdiwgdHJ1ZSkpIHsNCj4gKwkJLyogVGhlIEJPIGlzIG5vdCBpZGxl
LCByZXN1cnJlY3QgaXQgZm9yIGRlbGF5ZWQgZGVzdHJveSAqLw0KPiArCQl0dG1fYm9fZmx1c2hf
YWxsX2ZlbmNlcyhibyk7DQo+ICsJCWJvLT5kZWxldGVkID0gdHJ1ZTsNCj4gKw0KPiArCQkvKg0K
PiArCQkgKiBNYWtlIE5PX0VWSUNUIGJvcyBpbW1lZGlhdGVseSBhdmFpbGFibGUgdG8NCj4gKwkJ
ICogc2hyaW5rZXJzLCBub3cgdGhhdCB0aGV5IGFyZSBxdWV1ZWQgZm9yDQo+ICsJCSAqIGRlc3Ry
dWN0aW9uLg0KPiArCQkgKi8NCj4gKwkJaWYgKGJvLT5tZW0ucGxhY2VtZW50ICYgVFRNX1BMX0ZM
QUdfTk9fRVZJQ1QpIHsNCj4gKwkJCWJvLT5tZW0ucGxhY2VtZW50ICY9IH5UVE1fUExfRkxBR19O
T19FVklDVDsNCj4gKwkJCXR0bV9ib19tb3ZlX3RvX2xydV90YWlsKGJvLCBOVUxMKTsNCg0KW3ho
XSB0aGlzIHNob3VsZCBiZSB1bmRlciBscnUgbG9jay4NCg0KPiArCQl9DQo+ICsNCj4gKwkJc3Bp
bl9sb2NrKCZ0dG1fYm9fZ2xvYi5scnVfbG9jayk7DQo+ICsJCWtyZWZfaW5pdCgmYm8tPmtyZWYp
Ow0KPiArCQlsaXN0X2FkZF90YWlsKCZiby0+ZGRlc3Ryb3ksICZiZGV2LT5kZGVzdHJveSk7DQo+
ICsJCXNwaW5fdW5sb2NrKCZ0dG1fYm9fZ2xvYi5scnVfbG9jayk7DQo+ICsNCj4gKwkJc2NoZWR1
bGVfZGVsYXllZF93b3JrKCZiZGV2LT53cSwNCj4gKwkJCQkgICAgICAoKEhaIC8gMTAwKSA8IDEp
ID8gMSA6IEhaIC8gMTAwKTsNCj4gKwkJcmV0dXJuOw0KPiArCX0NCj4gKw0KPiArCXNwaW5fbG9j
aygmdHRtX2JvX2dsb2IubHJ1X2xvY2spOw0KPiArCXR0bV9ib19kZWxfZnJvbV9scnUoYm8pOw0K
PiArCWxpc3RfZGVsKCZiby0+ZGRlc3Ryb3kpOw0KPiArCXNwaW5fdW5sb2NrKCZ0dG1fYm9fZ2xv
Yi5scnVfbG9jayk7DQo+ICsNCj4gKwl0dG1fYm9fY2xlYW51cF9tZW10eXBlX3VzZShibyk7DQo+
ICsNCj4gKwlCVUdfT04oYm8tPm1lbS5tbV9ub2RlICE9IE5VTEwpOw0KPiArCXR0bV90dF9kZXN0
cm95KGJvLT50dG0pOw0KDQpbeGhdIGFscmVhZHkgZGVzdHJveSBpdCBpbiB0dG1fYm9fY2xlYW51
cF9tZW10eXBlX3VzZS4NCg0KDQo+ICsJYXRvbWljX2RlYygmdHRtX2JvX2dsb2IuYm9fY291bnQp
Ow0KPiArCWRtYV9mZW5jZV9wdXQoYm8tPm1vdmluZyk7DQo+ICsJaWYgKCF0dG1fYm9fdXNlc19l
bWJlZGRlZF9nZW1fb2JqZWN0KGJvKSkNCj4gKwkJZG1hX3Jlc3ZfZmluaSgmYm8tPmJhc2UuX3Jl
c3YpOw0KPiArCWJvLT5kZXN0cm95KGJvKTsNCj4gKwl0dG1fbWVtX2dsb2JhbF9mcmVlKCZ0dG1f
bWVtX2dsb2IsIGFjY19zaXplKTsNCj4gfQ0KPiANCj4gdm9pZCB0dG1fYm9fcHV0KHN0cnVjdCB0
dG1fYnVmZmVyX29iamVjdCAqYm8pDQo+IEBAIC03NTUsOCArNzIwLDcgQEAgc3RhdGljIGJvb2wg
dHRtX2JvX2V2aWN0X3N3YXBvdXRfYWxsb3dhYmxlKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAq
Ym8sDQo+IA0KPiAJaWYgKGJvLT5iYXNlLnJlc3YgPT0gY3R4LT5yZXN2KSB7DQo+IAkJZG1hX3Jl
c3ZfYXNzZXJ0X2hlbGQoYm8tPmJhc2UucmVzdik7DQo+IC0JCWlmIChjdHgtPmZsYWdzICYgVFRN
X09QVF9GTEFHX0FMTE9XX1JFU19FVklDVA0KPiAtCQkgICAgfHwgIWxpc3RfZW1wdHkoJmJvLT5k
ZGVzdHJveSkpDQo+ICsJCWlmIChjdHgtPmZsYWdzICYgVFRNX09QVF9GTEFHX0FMTE9XX1JFU19F
VklDVCB8fCBiby0+ZGVsZXRlZCkNCj4gCQkJcmV0ID0gdHJ1ZTsNCj4gCQkqbG9ja2VkID0gZmFs
c2U7DQo+IAkJaWYgKGJ1c3kpDQo+IEBAIC04MzcsNiArODAxLDExIEBAIHN0YXRpYyBpbnQgdHRt
X21lbV9ldmljdF9maXJzdChzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldiwNCj4gCQkJCQlkbWFf
cmVzdl91bmxvY2soYm8tPmJhc2UucmVzdik7DQo+IAkJCQljb250aW51ZTsNCj4gCQkJfQ0KPiAr
CQkJaWYgKCF0dG1fYm9fZ2V0X3VubGVzc196ZXJvKGJvKSkgew0KPiArCQkJCWlmIChsb2NrZWQp
DQo+ICsJCQkJCWRtYV9yZXN2X3VubG9jayhiby0+YmFzZS5yZXN2KTsNCj4gKwkJCQljb250aW51
ZTsNCj4gKwkJCX0NCj4gCQkJYnJlYWs7DQo+IAkJfQ0KPiANCj4gQEAgLTg0OCwyMSArODE3LDE5
IEBAIHN0YXRpYyBpbnQgdHRtX21lbV9ldmljdF9maXJzdChzdHJ1Y3QgdHRtX2JvX2RldmljZSAq
YmRldiwNCj4gCX0NCj4gDQo+IAlpZiAoIWJvKSB7DQo+IC0JCWlmIChidXN5X2JvKQ0KPiAtCQkJ
a3JlZl9nZXQoJmJ1c3lfYm8tPmxpc3Rfa3JlZik7DQo+ICsJCWlmIChidXN5X2JvICYmICF0dG1f
Ym9fZ2V0X3VubGVzc196ZXJvKGJ1c3lfYm8pKQ0KPiArCQkJYnVzeV9ibyA9IE5VTEw7DQo+IAkJ
c3Bpbl91bmxvY2soJnR0bV9ib19nbG9iLmxydV9sb2NrKTsNCj4gCQlyZXQgPSB0dG1fbWVtX2V2
aWN0X3dhaXRfYnVzeShidXN5X2JvLCBjdHgsIHRpY2tldCk7DQo+IAkJaWYgKGJ1c3lfYm8pDQo+
IC0JCQlrcmVmX3B1dCgmYnVzeV9iby0+bGlzdF9rcmVmLCB0dG1fYm9fcmVsZWFzZV9saXN0KTsN
Cj4gKwkJCXR0bV9ib19wdXQoYnVzeV9ibyk7DQo+IAkJcmV0dXJuIHJldDsNCj4gCX0NCj4gDQo+
IC0Ja3JlZl9nZXQoJmJvLT5saXN0X2tyZWYpOw0KPiAtDQo+IC0JaWYgKCFsaXN0X2VtcHR5KCZi
by0+ZGRlc3Ryb3kpKSB7DQo+ICsJaWYgKGJvLT5kZWxldGVkKSB7DQo+IAkJcmV0ID0gdHRtX2Jv
X2NsZWFudXBfcmVmcyhibywgY3R4LT5pbnRlcnJ1cHRpYmxlLA0KPiAJCQkJCSAgY3R4LT5ub193
YWl0X2dwdSwgbG9ja2VkKTsNCj4gLQkJa3JlZl9wdXQoJmJvLT5saXN0X2tyZWYsIHR0bV9ib19y
ZWxlYXNlX2xpc3QpOw0KPiArCQl0dG1fYm9fcHV0KGJvKTsNCj4gCQlyZXR1cm4gcmV0Ow0KPiAJ
fQ0KPiANCj4gQEAgLTg3Miw3ICs4MzksNyBAQCBzdGF0aWMgaW50IHR0bV9tZW1fZXZpY3RfZmly
c3Qoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsDQo+IAlpZiAobG9ja2VkKQ0KPiAJCXR0bV9i
b191bnJlc2VydmUoYm8pOw0KPiANCj4gLQlrcmVmX3B1dCgmYm8tPmxpc3Rfa3JlZiwgdHRtX2Jv
X3JlbGVhc2VfbGlzdCk7DQo+ICsJdHRtX2JvX3B1dChibyk7DQo+IAlyZXR1cm4gcmV0Ow0KPiB9
DQo+IA0KPiBAQCAtMTI4NCw3ICsxMjUxLDYgQEAgaW50IHR0bV9ib19pbml0X3Jlc2VydmVkKHN0
cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LA0KPiAJYm8tPmRlc3Ryb3kgPSBkZXN0cm95ID8gZGVz
dHJveSA6IHR0bV9ib19kZWZhdWx0X2Rlc3Ryb3k7DQo+IA0KPiAJa3JlZl9pbml0KCZiby0+a3Jl
Zik7DQo+IC0Ja3JlZl9pbml0KCZiby0+bGlzdF9rcmVmKTsNCj4gCUlOSVRfTElTVF9IRUFEKCZi
by0+bHJ1KTsNCj4gCUlOSVRfTElTVF9IRUFEKCZiby0+ZGRlc3Ryb3kpOw0KPiAJSU5JVF9MSVNU
X0hFQUQoJmJvLT5zd2FwKTsNCj4gQEAgLTE4MDQsMTEgKzE3NzAsMTggQEAgaW50IHR0bV9ib19z
d2Fwb3V0KHN0cnVjdCB0dG1fYm9fZ2xvYmFsICpnbG9iLCBzdHJ1Y3QgdHRtX29wZXJhdGlvbl9j
dHggKmN0eCkNCj4gCXNwaW5fbG9jaygmZ2xvYi0+bHJ1X2xvY2spOw0KPiAJZm9yIChpID0gMDsg
aSA8IFRUTV9NQVhfQk9fUFJJT1JJVFk7ICsraSkgew0KPiAJCWxpc3RfZm9yX2VhY2hfZW50cnko
Ym8sICZnbG9iLT5zd2FwX2xydVtpXSwgc3dhcCkgew0KPiAtCQkJaWYgKHR0bV9ib19ldmljdF9z
d2Fwb3V0X2FsbG93YWJsZShibywgY3R4LCAmbG9ja2VkLA0KPiAtCQkJCQkJCSAgIE5VTEwpKSB7
DQo+IC0JCQkJcmV0ID0gMDsNCj4gLQkJCQlicmVhazsNCj4gKwkJCWlmICghdHRtX2JvX2V2aWN0
X3N3YXBvdXRfYWxsb3dhYmxlKGJvLCBjdHgsICZsb2NrZWQsDQo+ICsJCQkJCQkJICAgIE5VTEwp
KQ0KPiArCQkJCWNvbnRpbnVlOw0KPiArDQo+ICsJCQlpZiAoIXR0bV9ib19nZXRfdW5sZXNzX3pl
cm8oYm8pKSB7DQo+ICsJCQkJaWYgKGxvY2tlZCkNCj4gKwkJCQkJZG1hX3Jlc3ZfdW5sb2NrKGJv
LT5iYXNlLnJlc3YpOw0KPiArCQkJCWNvbnRpbnVlOw0KPiAJCQl9DQoNClt4aF0gQXMgeW91IGdl
dCB0aGUgYm8uIHdoZW4geW91IHB1dCBpdD8NCg0KWW91IG9ubHkgcHV0IG9uZSBibyBqdXN0IGJl
Zm9yZSByZXR1cm4uIEJVVCB5b3UgZ2V0IHRoZSBib3MgaW4gdGhlIGZvciBsb29wLiBBbSBJIG1p
c3Npbmcgc29tZXRoaW5ncz8NCg0KdGhhbmtzDQp4aW5odWkNCg0KDQo+ICsNCj4gKwkJCXJldCA9
IDA7DQo+ICsJCQlicmVhazsNCj4gCQl9DQo+IAkJaWYgKCFyZXQpDQo+IAkJCWJyZWFrOw0KPiBA
QCAtMTgxOSwxMSArMTc5Miw5IEBAIGludCB0dG1fYm9fc3dhcG91dChzdHJ1Y3QgdHRtX2JvX2ds
b2JhbCAqZ2xvYiwgc3RydWN0IHR0bV9vcGVyYXRpb25fY3R4ICpjdHgpDQo+IAkJcmV0dXJuIHJl
dDsNCj4gCX0NCj4gDQo+IC0Ja3JlZl9nZXQoJmJvLT5saXN0X2tyZWYpOw0KPiAtDQo+IC0JaWYg
KCFsaXN0X2VtcHR5KCZiby0+ZGRlc3Ryb3kpKSB7DQo+ICsJaWYgKGJvLT5kZWxldGVkKSB7DQo+
IAkJcmV0ID0gdHRtX2JvX2NsZWFudXBfcmVmcyhibywgZmFsc2UsIGZhbHNlLCBsb2NrZWQpOw0K
PiAtCQlrcmVmX3B1dCgmYm8tPmxpc3Rfa3JlZiwgdHRtX2JvX3JlbGVhc2VfbGlzdCk7DQo+ICsJ
CXR0bV9ib19wdXQoYm8pOw0KPiAJCXJldHVybiByZXQ7DQo+IAl9DQo+IA0KPiBAQCAtMTg3Nyw3
ICsxODQ4LDcgQEAgaW50IHR0bV9ib19zd2Fwb3V0KHN0cnVjdCB0dG1fYm9fZ2xvYmFsICpnbG9i
LCBzdHJ1Y3QgdHRtX29wZXJhdGlvbl9jdHggKmN0eCkNCj4gCSAqLw0KPiAJaWYgKGxvY2tlZCkN
Cj4gCQlkbWFfcmVzdl91bmxvY2soYm8tPmJhc2UucmVzdik7DQo+IC0Ja3JlZl9wdXQoJmJvLT5s
aXN0X2tyZWYsIHR0bV9ib19yZWxlYXNlX2xpc3QpOw0KPiArCXR0bV9ib19wdXQoYm8pOw0KPiAJ
cmV0dXJuIHJldDsNCj4gfQ0KPiBFWFBPUlRfU1lNQk9MKHR0bV9ib19zd2Fwb3V0KTsNCj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2JvX3V0aWwuYyBiL2RyaXZlcnMvZ3B1
L2RybS90dG0vdHRtX2JvX3V0aWwuYw0KPiBpbmRleCA4NmQxNTI0NzJmMzguLmM4ZTM1OWRlZDFk
ZiAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm9fdXRpbC5jDQo+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2JvX3V0aWwuYw0KPiBAQCAtNTA3LDcgKzUwNyw2
IEBAIHN0YXRpYyBpbnQgdHRtX2J1ZmZlcl9vYmplY3RfdHJhbnNmZXIoc3RydWN0IHR0bV9idWZm
ZXJfb2JqZWN0ICpibywNCj4gCWZiby0+YmFzZS5tb3ZpbmcgPSBOVUxMOw0KPiAJZHJtX3ZtYV9u
b2RlX3Jlc2V0KCZmYm8tPmJhc2UuYmFzZS52bWFfbm9kZSk7DQo+IA0KPiAtCWtyZWZfaW5pdCgm
ZmJvLT5iYXNlLmxpc3Rfa3JlZik7DQo+IAlrcmVmX2luaXQoJmZiby0+YmFzZS5rcmVmKTsNCj4g
CWZiby0+YmFzZS5kZXN0cm95ID0gJnR0bV90cmFuc2ZlcmVkX2Rlc3Ryb3k7DQo+IAlmYm8tPmJh
c2UuYWNjX3NpemUgPSAwOw0KPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9kcm0vdHRtL3R0bV9ib19h
cGkuaCBiL2luY2x1ZGUvZHJtL3R0bS90dG1fYm9fYXBpLmgNCj4gaW5kZXggNjZjYTQ5ZGI5NjMz
Li5iOWJjMWIwMDE0MmUgMTAwNjQ0DQo+IC0tLSBhL2luY2x1ZGUvZHJtL3R0bS90dG1fYm9fYXBp
LmgNCj4gKysrIGIvaW5jbHVkZS9kcm0vdHRtL3R0bV9ib19hcGkuaA0KPiBAQCAtMTM1LDE4ICsx
MzUsMTQgQEAgc3RydWN0IHR0bV90dDsNCj4gICogQG51bV9wYWdlczogQWN0dWFsIG51bWJlciBv
ZiBwYWdlcy4NCj4gICogQGFjY19zaXplOiBBY2NvdW50ZWQgc2l6ZSBmb3IgdGhpcyBvYmplY3Qu
DQo+ICAqIEBrcmVmOiBSZWZlcmVuY2UgY291bnQgb2YgdGhpcyBidWZmZXIgb2JqZWN0LiBXaGVu
IHRoaXMgcmVmY291bnQgcmVhY2hlcw0KPiAtICogemVybywgdGhlIG9iamVjdCBpcyBwdXQgb24g
dGhlIGRlbGF5ZWQgZGVsZXRlIGxpc3QuDQo+IC0gKiBAbGlzdF9rcmVmOiBMaXN0IHJlZmVyZW5j
ZSBjb3VudCBvZiB0aGlzIGJ1ZmZlciBvYmplY3QuIFRoaXMgbWVtYmVyIGlzDQo+IC0gKiB1c2Vk
IHRvIGF2b2lkIGRlc3RydWN0aW9uIHdoaWxlIHRoZSBidWZmZXIgb2JqZWN0IGlzIHN0aWxsIG9u
IGEgbGlzdC4NCj4gLSAqIExydSBsaXN0cyBtYXkga2VlcCBvbmUgcmVmY291bnQsIHRoZSBkZWxh
eWVkIGRlbGV0ZSBsaXN0LCBhbmQga3JlZiAhPSAwDQo+IC0gKiBrZWVwcyBvbmUgcmVmY291bnQu
IFdoZW4gdGhpcyByZWZjb3VudCByZWFjaGVzIHplcm8sDQo+IC0gKiB0aGUgb2JqZWN0IGlzIGRl
c3Ryb3llZC4NCj4gKyAqIHplcm8sIHRoZSBvYmplY3QgaXMgZGVzdHJveWVkIG9yIHB1dCBvbiB0
aGUgZGVsYXllZCBkZWxldGUgbGlzdC4NCj4gICogQG1lbTogc3RydWN0dXJlIGRlc2NyaWJpbmcg
Y3VycmVudCBwbGFjZW1lbnQuDQo+ICAqIEBwZXJzaXN0ZW50X3N3YXBfc3RvcmFnZTogVXN1YWxs
eSB0aGUgc3dhcCBzdG9yYWdlIGlzIGRlbGV0ZWQgZm9yIGJ1ZmZlcnMNCj4gICogcGlubmVkIGlu
IHBoeXNpY2FsIG1lbW9yeS4gSWYgdGhpcyBiZWhhdmlvdXIgaXMgbm90IGRlc2lyZWQsIHRoaXMg
bWVtYmVyDQo+ICAqIGhvbGRzIGEgcG9pbnRlciB0byBhIHBlcnNpc3RlbnQgc2htZW0gb2JqZWN0
Lg0KPiAgKiBAdHRtOiBUVE0gc3RydWN0dXJlIGhvbGRpbmcgc3lzdGVtIHBhZ2VzLg0KPiAgKiBA
ZXZpY3RlZDogV2hldGhlciB0aGUgb2JqZWN0IHdhcyBldmljdGVkIHdpdGhvdXQgdXNlci1zcGFj
ZSBrbm93aW5nLg0KPiArICogQGRlbGV0ZWQ6IFRydWUgaWYgdGhlIG9iamVjdCBpcyBvbmx5IGEg
em9tYmllIGFuZCBhbHJlYWR5IGRlbGV0ZWQuDQo+ICAqIEBscnU6IExpc3QgaGVhZCBmb3IgdGhl
IGxydSBsaXN0Lg0KPiAgKiBAZGRlc3Ryb3k6IExpc3QgaGVhZCBmb3IgdGhlIGRlbGF5ZWQgZGVz
dHJveSBsaXN0Lg0KPiAgKiBAc3dhcDogTGlzdCBoZWFkIGZvciBzd2FwIExSVSBsaXN0Lg0KPiBA
QCAtMTgzLDkgKzE3OSw3IEBAIHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCB7DQo+IAkvKioNCj4g
CSogTWVtYmVycyBub3QgbmVlZGluZyBwcm90ZWN0aW9uLg0KPiAJKi8NCj4gLQ0KPiAJc3RydWN0
IGtyZWYga3JlZjsNCj4gLQlzdHJ1Y3Qga3JlZiBsaXN0X2tyZWY7DQo+IA0KPiAJLyoqDQo+IAkg
KiBNZW1iZXJzIHByb3RlY3RlZCBieSB0aGUgYm86OnJlc3Y6OnJlc2VydmVkIGxvY2suDQo+IEBA
IC0xOTUsNiArMTg5LDcgQEAgc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0IHsNCj4gCXN0cnVjdCBm
aWxlICpwZXJzaXN0ZW50X3N3YXBfc3RvcmFnZTsNCj4gCXN0cnVjdCB0dG1fdHQgKnR0bTsNCj4g
CWJvb2wgZXZpY3RlZDsNCj4gKwlib29sIGRlbGV0ZWQ7DQo+IA0KPiAJLyoqDQo+IAkgKiBNZW1i
ZXJzIHByb3RlY3RlZCBieSB0aGUgYmRldjo6bHJ1X2xvY2suDQo+IC0tIA0KPiAyLjE3LjENCj4g
DQoNCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1k
ZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczov
L2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbAo=
