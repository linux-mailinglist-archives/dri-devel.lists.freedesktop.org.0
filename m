Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 5ABBAB6F7E
	for <lists+dri-devel@lfdr.de>; Thu, 19 Sep 2019 00:55:50 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B125D73FB0;
	Wed, 18 Sep 2019 22:55:47 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from perceval.ideasonboard.com (perceval.ideasonboard.com
 [IPv6:2001:4b98:dc2:55:216:3eff:fef7:d647])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8615A73EBA
 for <dri-devel@lists.freedesktop.org>; Wed, 18 Sep 2019 22:55:46 +0000 (UTC)
Received: from pendragon.ideasonboard.com (unknown [62.28.174.186])
 by perceval.ideasonboard.com (Postfix) with ESMTPSA id 334EB325;
 Thu, 19 Sep 2019 00:55:44 +0200 (CEST)
Date: Thu, 19 Sep 2019 01:55:35 +0300
From: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
To: Jacopo Mondi <jacopo+renesas@jmondi.org>
Subject: Re: [PATCH v4 3/9] drm: rcar-du: Add support for CMM
Message-ID: <20190918225534.GA11474@pendragon.ideasonboard.com>
References: <20190906135436.10622-1-jacopo+renesas@jmondi.org>
 <20190906135436.10622-4-jacopo+renesas@jmondi.org>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190906135436.10622-4-jacopo+renesas@jmondi.org>
User-Agent: Mutt/1.10.1 (2018-07-13)
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=ideasonboard.com; s=mail; t=1568847344;
 bh=zjElB/2z+iUYvyV4ZOZiaMfWcot6GJHRp+aUbYLHRJA=;
 h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
 b=Wi5BdfkBOnQJrDlA5pQXyU0kn9KOqoenLbBgF3wYi1qGX9M7lAfjUZazapGb2NkKm
 aGsxw0dhNDPnMaiXILYh9KeqUTUUgTU9yoT7nGTUFo83H9d25WnFuSKVsRIyRBlNls
 dh6/UIEacx6JIdLvViWnVMWPmL3oZGEhn4z1p5uA=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: muroya@ksk.co.jp, horms@verge.net.au, VenkataRajesh.Kalakodima@in.bosch.com,
 airlied@linux.ie, koji.matsuoka.xm@renesas.com,
 dri-devel@lists.freedesktop.org, linux-kernel@vger.kernel.org,
 linux-renesas-soc@vger.kernel.org, kieran.bingham+renesas@ideasonboard.com,
 geert@linux-m68k.org, Harsha.ManjulaMallikarjun@in.bosch.com,
 uli+renesas@fpond.eu
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgSmFjb3BvLAoKVGhhbmsgeW91IGZvciB0aGUgcGF0Y2guCgpPbiBGcmksIFNlcCAwNiwgMjAx
OSBhdCAwMzo1NDozMFBNICswMjAwLCBKYWNvcG8gTW9uZGkgd3JvdGU6Cj4gQWRkIGEgZHJpdmVy
IGZvciB0aGUgUi1DYXIgRGlzcGxheSBVbml0IENvbG9yIENvcnJlY3Rpb24gTW9kdWxlLgo+IAo+
IEluIG1vc3Qgb2YgR2VuMyBTb0NzLCBlYWNoIERVIG91dHB1dCBjaGFubmVsIGlzIHByb3ZpZGVk
IHdpdGggYSBDTU0gdW5pdAo+IHRvIHBlcmZvcm0gaW1hZ2UgZW5oYW5jZW1lbnQgYW5kIGNvbG9y
IGNvcnJlY3Rpb24uCj4gCj4gQWRkIHN1cHBvcnQgZm9yIENNTSB0aHJvdWdoIGEgZHJpdmVyIHRo
YXQgc3VwcG9ydHMgY29uZmlndXJhdGlvbiBvZgo+IHRoZSAxLWRpbWVuc2lvbmFsIExVVCB0YWJs
ZS4gTW9yZSBhZHZhbmNlZCBDTU0gZmVhdHVyZSB3aWxsIGJlCj4gaW1wbGVtZW50ZWQgb24gdG9w
IG9mIHRoaXMgYmFzaWMgb25lLgo+IAo+IFNpZ25lZC1vZmYtYnk6IEphY29wbyBNb25kaSA8amFj
b3BvK3JlbmVzYXNAam1vbmRpLm9yZz4KPiAtLS0KPiAgZHJpdmVycy9ncHUvZHJtL3JjYXItZHUv
S2NvbmZpZyAgICB8ICAgNyArCj4gIGRyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L01ha2VmaWxlICAg
fCAgIDEgKwo+ICBkcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2NtbS5jIHwgMjUxICsrKysr
KysrKysrKysrKysrKysrKysrKysrKysrCj4gIGRyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L3JjYXJf
Y21tLmggfCAgNjEgKysrKysrKwo+ICA0IGZpbGVzIGNoYW5nZWQsIDMyMCBpbnNlcnRpb25zKCsp
Cj4gIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2NtbS5j
Cj4gIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2FyX2NtbS5o
Cj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L0tjb25maWcgYi9kcml2
ZXJzL2dwdS9kcm0vcmNhci1kdS9LY29uZmlnCj4gaW5kZXggMTUyOTg0OWUyMTdlLi41MzlkMjMy
NzkwZDEgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvS2NvbmZpZwo+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L0tjb25maWcKPiBAQCAtMTMsNiArMTMsMTMgQEAg
Y29uZmlnIERSTV9SQ0FSX0RVCj4gIAkgIENob29zZSB0aGlzIG9wdGlvbiBpZiB5b3UgaGF2ZSBh
biBSLUNhciBjaGlwc2V0Lgo+ICAJICBJZiBNIGlzIHNlbGVjdGVkIHRoZSBtb2R1bGUgd2lsbCBi
ZSBjYWxsZWQgcmNhci1kdS1kcm0uCj4gIAo+ICtjb25maWcgRFJNX1JDQVJfQ01NCj4gKwlib29s
ICJSLUNhciBEVSBDb2xvciBNYW5hZ2VtZW50IE1vZHVsZSAoQ01NKSBTdXBwb3J0Igo+ICsJZGVw
ZW5kcyBvbiBEUk0gJiYgT0YKPiArCWRlcGVuZHMgb24gRFJNX1JDQVJfRFUKPiArCWhlbHAKPiAr
CSAgRW5hYmxlIHN1cHBvcnQgZm9yIFItQ2FyIENvbG9yIE1hbmFnZW1lbnQgTW9kdWxlIChDTU0p
Lgo+ICsKPiAgY29uZmlnIERSTV9SQ0FSX0RXX0hETUkKPiAgCXRyaXN0YXRlICJSLUNhciBEVSBH
ZW4zIEhETUkgRW5jb2RlciBTdXBwb3J0Igo+ICAJZGVwZW5kcyBvbiBEUk0gJiYgT0YKPiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvTWFrZWZpbGUgYi9kcml2ZXJzL2dwdS9k
cm0vcmNhci1kdS9NYWtlZmlsZQo+IGluZGV4IDZjMmVkOWM0NjQ2Ny4uNGQxMTg3Y2NjM2U1IDEw
MDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9yY2FyLWR1L01ha2VmaWxlCj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL3JjYXItZHUvTWFrZWZpbGUKPiBAQCAtMTUsNiArMTUsNyBAQCByY2FyLWR1
LWRybS0kKENPTkZJR19EUk1fUkNBUl9MVkRTKQkrPSByY2FyX2R1X29mLm8gXAo+ICByY2FyLWR1
LWRybS0kKENPTkZJR19EUk1fUkNBUl9WU1ApCSs9IHJjYXJfZHVfdnNwLm8KPiAgcmNhci1kdS1k
cm0tJChDT05GSUdfRFJNX1JDQVJfV1JJVEVCQUNLKSArPSByY2FyX2R1X3dyaXRlYmFjay5vCj4g
IAo+ICtvYmotJChDT05GSUdfRFJNX1JDQVJfQ01NKQkJKz0gcmNhcl9jbW0ubwo+ICBvYmotJChD
T05GSUdfRFJNX1JDQVJfRFUpCQkrPSByY2FyLWR1LWRybS5vCj4gIG9iai0kKENPTkZJR19EUk1f
UkNBUl9EV19IRE1JKQkJKz0gcmNhcl9kd19oZG1pLm8KPiAgb2JqLSQoQ09ORklHX0RSTV9SQ0FS
X0xWRFMpCQkrPSByY2FyX2x2ZHMubwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcmNh
ci1kdS9yY2FyX2NtbS5jIGIvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9jbW0uYwo+IG5l
dyBmaWxlIG1vZGUgMTAwNjQ0Cj4gaW5kZXggMDAwMDAwMDAwMDAwLi4zY2FjZGM0NDc0YzcKPiAt
LS0gL2Rldi9udWxsCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9jbW0uYwo+
IEBAIC0wLDAgKzEsMjUxIEBACj4gKy8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4w
Kwo+ICsvKgo+ICsgKiByY2FyX2NtbS5jIC0tIFItQ2FyIERpc3BsYXkgVW5pdCBDb2xvciBNYW5h
Z2VtZW50IE1vZHVsZQo+ICsgKgo+ICsgKiBDb3B5cmlnaHQgKEMpIDIwMTkgSmFjb3BvIE1vbmRp
IDxqYWNvcG8rcmVuZXNhc0BqbW9uZGkub3JnPgo+ICsgKi8KPiArCj4gKyNpbmNsdWRlIDxsaW51
eC9pby5oPgo+ICsjaW5jbHVkZSA8bGludXgvbW9kdWxlLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9v
Zi5oPgo+ICsjaW5jbHVkZSA8bGludXgvcGxhdGZvcm1fZGV2aWNlLmg+Cj4gKyNpbmNsdWRlIDxs
aW51eC9wbV9ydW50aW1lLmg+Cj4gKwo+ICsjaW5jbHVkZSA8ZHJtL2RybV9jb2xvcl9tZ210Lmg+
Cj4gKwo+ICsjaW5jbHVkZSAicmNhcl9jbW0uaCIKPiArCj4gKyNkZWZpbmUgQ00yX0xVVF9DVFJM
CQkweDAwMDAKPiArI2RlZmluZSBDTTJfTFVUX0NUUkxfTFVUX0VOCUJJVCgwKQo+ICsjZGVmaW5l
IENNMl9MVVRfVEJMX0JBU0UJMHgwNjAwCj4gKyNkZWZpbmUgQ00yX0xVVF9UQkwoX19pKQkoQ00y
X0xVVF9UQkxfQkFTRSArIChfX2kpICogNCkKPiArCj4gK3N0cnVjdCByY2FyX2NtbSB7Cj4gKwl2
b2lkIF9faW9tZW0gKmJhc2U7Cj4gKwlib29sIGVuYWJsZWQ7Cj4gKwo+ICsJLyoKPiArCSAqIEBs
dXQ6CQkxRC1MVVQgc3RhdHVzCj4gKwkgKiBAbHV0LmVuYWJsZWQ6CTFELUxVVCBlbmFibGVkIGZs
YWcKPiArCSAqIEBsdXQudGFibGU6CQlUYWJsZSBvZiAxRC1MVVQgZW50cmllcyBzY2FsZWQgdG8g
aGFyZHdhcmUKPiArCSAqCQkJcHJlY2lzaW9uICg4LWJpdHMgcGVyIGNvbG9yIGNvbXBvbmVudCkK
PiArCSAqLwo+ICsJc3RydWN0IHsKPiArCQlib29sIGVuYWJsZWQ7Cj4gKwkJdTMyIHRhYmxlW0NN
Ml9MVVRfU0laRV07Cj4gKwl9IGx1dDsKPiArfTsKPiArCj4gK3N0YXRpYyBpbmxpbmUgaW50IHJj
YXJfY21tX3JlYWQoc3RydWN0IHJjYXJfY21tICpyY21tLCB1MzIgcmVnKQo+ICt7Cj4gKwlyZXR1
cm4gaW9yZWFkMzIocmNtbS0+YmFzZSArIHJlZyk7Cj4gK30KPiArCj4gK3N0YXRpYyBpbmxpbmUg
dm9pZCByY2FyX2NtbV93cml0ZShzdHJ1Y3QgcmNhcl9jbW0gKnJjbW0sIHUzMiByZWcsIHUzMiBk
YXRhKQo+ICt7Cj4gKwlpb3dyaXRlMzIoZGF0YSwgcmNtbS0+YmFzZSArIHJlZyk7Cj4gK30KPiAr
Cj4gKy8qCj4gKyAqIHJjYXJfY21tX2x1dF9leHRyYWN0KCkgLSBTY2FsZSBkb3duIHRvIGhhcmR3
YXJlIHByZWNpc2lvbiB0aGUgRFJNIExVVCB0YWJsZQo+ICsgKgkJCSAgICBlbnRyaWVzIGFuZCBz
dG9yZSB0aGVtLgoKIlNjYWxlIHRoZSBEUk0gTFVUIHRhYmxlIGVudHJpZXMgdG8gaGFyZHdhcmUg
cHJlY2lzaW9uIGFuZCBzdG9yZSB0aGVtLiIKCj4gKyAqIEByY21tOiBQb2ludGVyIHRvIHRoZSBD
TU0gZGV2aWNlCj4gKyAqIEBkcm1fbHV0OiBQb2ludGVyIHRvIHRoZSBEUk0gTFVUIHRhYmxlCj4g
KyAqLwo+ICtzdGF0aWMgdm9pZCByY2FyX2NtbV9sdXRfZXh0cmFjdChzdHJ1Y3QgcmNhcl9jbW0g
KnJjbW0sCj4gKwkJCQkgY29uc3Qgc3RydWN0IGRybV9jb2xvcl9sdXQgKmRybV9sdXQpCj4gK3sK
PiArCXVuc2lnbmVkIGludCBpOwo+ICsKPiArCWZvciAoaSA9IDA7IGkgPCBDTTJfTFVUX1NJWkU7
ICsraSkgewo+ICsJCWNvbnN0IHN0cnVjdCBkcm1fY29sb3JfbHV0ICpsdXQgPSAmZHJtX2x1dFtp
XTsKPiArCj4gKwkJcmNtbS0+bHV0LnRhYmxlW2ldID0gZHJtX2NvbG9yX2x1dF9leHRyYWN0KGx1
dC0+cmVkLCA4KSA8PCAxNgo+ICsJCQkJICAgfCBkcm1fY29sb3JfbHV0X2V4dHJhY3QobHV0LT5n
cmVlbiwgOCkgPDwgOAo+ICsJCQkJICAgfCBkcm1fY29sb3JfbHV0X2V4dHJhY3QobHV0LT5ibHVl
LCA4KTsKPiArCX0KPiArfQo+ICsKPiArLyoKPiArICogcmNhcl9jbW1fbHV0X3dyaXRlKCkgLSBX
cml0ZSB0byBoYXJkd2FyZSB0aGUgTFVUIHRhYmxlIGVudHJpZXMgZnJvbSB0aGUKPiArICoJCQkg
IGxvY2FsIHRhYmxlLgoKIldyaXRlIHRoZSBMVVQgdGFibGUgZW50cmllcyBmcm9tIHRoZSBsb2Nh
bCB0YWJsZSB0byB0aGUgaGFyZHdhcmUuIgoKPiArICogQHJjbW06IFBvaW50ZXIgdG8gdGhlIENN
TSBkZXZpY2UKPiArICovCj4gK3N0YXRpYyB2b2lkIHJjYXJfY21tX2x1dF93cml0ZShzdHJ1Y3Qg
cmNhcl9jbW0gKnJjbW0pCj4gK3sKPiArCXVuc2lnbmVkIGludCBpOwo+ICsKPiArCWZvciAoaSA9
IDA7IGkgPCBDTTJfTFVUX1NJWkU7ICsraSkKPiArCQlyY2FyX2NtbV93cml0ZShyY21tLCBDTTJf
TFVUX1RCTChpKSwgcmNtbS0+bHV0LnRhYmxlW2ldKTsKPiArfQo+ICsKPiArLyoKPiArICogcmNh
cl9jbW1fc2V0dXAoKSAtIENvbmZpZ3VyZSB0aGUgQ01NIHVuaXQuCj4gKyAqIEBwZGV2OiBUaGUg
cGxhdGZvcm0gZGV2aWNlIGFzc29jaWF0ZWQgd2l0aCB0aGUgQ01NIGluc3RhbmNlCj4gKyAqIEBj
b25maWc6IFRoZSBDUlRDLXByb3ZpZGVkIGNvbmZpZ3VyYXRpb24uCj4gKyAqCj4gKyAqIENvbmZp
Z3VyZSB0aGUgQ01NIHVuaXQgd2l0aCB0aGUgQ1JUQy1wcm92aWRlZCBjb25maWd1cmF0aW9uLgo+
ICsgKiBDdXJyZW50bHkgZW5hYmxpbmcsIGRpc2FibGluZyBhbmQgcHJvZ3JhbW1pbmcgb2YgdGhl
IDEtRCBMVVQgdW5pdCBpcwo+ICsgKiBzdXBwb3J0ZWQuCj4gKyAqLwo+ICtpbnQgcmNhcl9jbW1f
c2V0dXAoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldiwKPiArCQkgICBjb25zdCBzdHJ1Y3Qg
cmNhcl9jbW1fY29uZmlnICpjb25maWcpCj4gK3sKPiArCXN0cnVjdCByY2FyX2NtbSAqcmNtbSA9
IHBsYXRmb3JtX2dldF9kcnZkYXRhKHBkZXYpOwo+ICsKPiArCS8qCj4gKwkgKiBBcyByY2FyX2Nt
bV9zZXR1cCgpIGlzIGNhbGxlZCBieSBhdG9taWMgY29tbWl0IHRhaWwgaGVscGVyLCBpdCBtaWdo
dAo+ICsJICogYmUgY2FsbGVkIHdoZW4gdGhlIENNTSBpcyBkaXNhYmxlZC4gQXMgd2UgY2FuJ3Qg
cHJvZ3JhbSB0aGUgaGFyZHdhcmUKPiArCSAqIGluIHRoYXQgY2FzZSwgc3RvcmUgdGhlIGNvbmZp
Z3VyYXRpb24gaW50ZXJuYWxseSBhbmQgYXBwbHkgaXQgd2hlbgo+ICsJICogdGhlIENNTSB3aWxs
IGJlIGVuYWJsZWQgYnkgdGhlIENSVEMgdGhyb3VnaCByY2FyX2NtbV9lbmFibGUoKS4KPiArCSAq
Lwo+ICsJaWYgKCFyY21tLT5lbmFibGVkKSB7Cj4gKwkJaWYgKCFjb25maWctPmx1dC5lbmFibGUp
Cj4gKwkJCXJldHVybiAwOwo+ICsKPiArCQlyY2FyX2NtbV9sdXRfZXh0cmFjdChyY21tLCBjb25m
aWctPmx1dC50YWJsZSk7Cj4gKwkJcmNtbS0+bHV0LmVuYWJsZWQgPSB0cnVlOwo+ICsKPiArCQly
ZXR1cm4gMDsKPiArCX0KPiArCj4gKwkvKiBTdG9wIExVVCBvcGVyYXRpb25zIGlmIHJlcXVlc3Rl
ZC4gKi8KPiArCWlmICghY29uZmlnLT5sdXQuZW5hYmxlKSB7Cj4gKwkJaWYgKHJjbW0tPmx1dC5l
bmFibGVkKSB7Cj4gKwkJCXJjYXJfY21tX3dyaXRlKHJjbW0sIENNMl9MVVRfQ1RSTCwgMCk7Cj4g
KwkJCXJjbW0tPmx1dC5lbmFibGVkID0gZmFsc2U7Cj4gKwkJfQo+ICsKPiArCQlyZXR1cm4gMDsK
PiArCX0KPiArCj4gKwkvKgo+ICsJICogRW5hYmxlIExVVCBhbmQgcHJvZ3JhbSB0aGUgbmV3IGdh
bW1hIHRhYmxlIHZhbHVlcy4KPiArCSAqCj4gKwkgKiBGSVhNRTogSW4gb3JkZXIgdG8gaGF2ZSBz
dGFibGUgb3BlcmF0aW9ucyBpdCBpcyByZXF1aXJlZCB0byBmaXJzdAo+ICsJICogZW5hYmxlIHRo
ZSAxRC1MVVQgYW5kIHRoZW4gcHJvZ3JhbSBpdHMgdGFibGUgZW50cmllcy4gVGhpcyBzZWVtcyB0
bwo+ICsJICogY29udHJhZGljdCB3aGF0IHRoZSBjaGlwIG1hbnVhbCByZXBvcnRzLCBhbmQgd2ls
bCBoYXZlIHRvIGJlCj4gKwkgKiByZWNvbnNpZGVyZWQgd2hlbiBpbXBsZW1lbnRpbmcgc3VwcG9y
dCBmb3IgZG91YmxlIGJ1ZmZlcmluZy4KPiArCSAqLwo+ICsJaWYgKCFyY21tLT5sdXQuZW5hYmxl
ZCkgewo+ICsJCXJjYXJfY21tX3dyaXRlKHJjbW0sIENNMl9MVVRfQ1RSTCwgQ00yX0xVVF9DVFJM
X0xVVF9FTik7Cj4gKwkJcmNtbS0+bHV0LmVuYWJsZWQgPSB0cnVlOwo+ICsJfQo+ICsKPiArCXJj
YXJfY21tX2x1dF9leHRyYWN0KHJjbW0sIGNvbmZpZy0+bHV0LnRhYmxlKTsKPiArCXJjYXJfY21t
X2x1dF93cml0ZShyY21tKTsKPiArCj4gKwlyZXR1cm4gMDsKPiArfQo+ICtFWFBPUlRfU1lNQk9M
X0dQTChyY2FyX2NtbV9zZXR1cCk7Cj4gKwo+ICsvKgo+ICsgKiByY2FyX2NtbV9lbmFibGUoKSAt
IEVuYWJsZSB0aGUgQ01NIHVuaXQuCj4gKyAqIEBwZGV2OiBUaGUgcGxhdGZvcm0gZGV2aWNlIGFz
c29jaWF0ZWQgd2l0aCB0aGUgQ01NIGluc3RhbmNlCj4gKyAqCj4gKyAqIEVuYWJsZSB0aGUgQ01N
IHVuaXQgYnkgZW5hYmxpbmcgdGhlIHBhcmVudCBjbG9jayBhbmQgZW5hYmxpbmcgdGhlIENNTQo+
ICsgKiBjb21wb25lbnRzLCBzdWNoIGFzIDEtRCBMVVQsIGlmIHJlcXVlc3RlZC4KPiArICovCj4g
K2ludCByY2FyX2NtbV9lbmFibGUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKPiArewo+
ICsJc3RydWN0IHJjYXJfY21tICpyY21tID0gcGxhdGZvcm1fZ2V0X2RydmRhdGEocGRldik7Cj4g
KwlpbnQgcmV0Owo+ICsKPiArCXJldCA9IHBtX3J1bnRpbWVfZ2V0X3N5bmMoJnBkZXYtPmRldik7
Cj4gKwlpZiAocmV0IDwgMCkKPiArCQlyZXR1cm4gcmV0Owo+ICsKPiArCS8qIEFwcGx5IHRoZSBM
VVQgdGFibGUgdmFsdWVzIHNhdmVkIGF0IHJjYXJfY21tX3NldHVwKCkgdGltZS4gKi8KPiArCWlm
IChyY21tLT5sdXQuZW5hYmxlZCkgewo+ICsJCXJjYXJfY21tX3dyaXRlKHJjbW0sIENNMl9MVVRf
Q1RSTCwgQ00yX0xVVF9DVFJMX0xVVF9FTik7Cj4gKwkJcmNhcl9jbW1fbHV0X3dyaXRlKHJjbW0p
Owo+ICsJfQo+ICsKPiArCXJjbW0tPmVuYWJsZWQgPSB0cnVlOwo+ICsKPiArCXJldHVybiAwOwo+
ICt9Cj4gK0VYUE9SVF9TWU1CT0xfR1BMKHJjYXJfY21tX2VuYWJsZSk7Cj4gKwo+ICsvKgo+ICsg
KiByY2FyX2NtbV9kaXNhYmxlKCkgLSBEaXNhYmxlIHRoZSBDTU0gdW5pdC4KPiArICogQHBkZXY6
IFRoZSBwbGF0Zm9ybSBkZXZpY2UgYXNzb2NpYXRlZCB3aXRoIHRoZSBDTU0gaW5zdGFuY2UKPiAr
ICoKPiArICogRGlzYWJsZSB0aGUgQ01NIHVuaXQgYnkgc3RvcHBpbmcgdGhlIHBhcmVudCBjbG9j
ay4KPiArICovCj4gK3ZvaWQgcmNhcl9jbW1fZGlzYWJsZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNl
ICpwZGV2KQo+ICt7Cj4gKwlzdHJ1Y3QgcmNhcl9jbW0gKnJjbW0gPSBwbGF0Zm9ybV9nZXRfZHJ2
ZGF0YShwZGV2KTsKPiArCj4gKwlyY2FyX2NtbV93cml0ZShyY21tLCBDTTJfTFVUX0NUUkwsIDAp
Owo+ICsKPiArCXBtX3J1bnRpbWVfcHV0KCZwZGV2LT5kZXYpOwo+ICsKPiArCXJjbW0tPmx1dC5l
bmFibGVkID0gZmFsc2U7Cj4gKwlyY21tLT5lbmFibGVkID0gZmFsc2U7Cj4gK30KPiArRVhQT1JU
X1NZTUJPTF9HUEwocmNhcl9jbW1fZGlzYWJsZSk7Cj4gKwo+ICsvKgo+ICsgKiByY2FyX2NtbV9p
bml0KCkgLSBNYWtlIHN1cmUgdGhlIENNTSBoYXMgcHJvYmVkLgoKSSB3b3VsZCBkb2N1bWVudCB0
aGlzIGFzICJJbnRpYWxpemUgdGhlIENNTSIgdG8gbWF0Y2ggdGhlIGZ1bmN0aW9uIG5hbWUuCldl
IG1heSBhZGQgbW9yZSBpbml0aWFsaXphdGlvbiBpbiB0aGUgZnV0dXJlLgoKPiArICogQHBkZXY6
IFRoZSBwbGF0Zm9ybSBkZXZpY2UgYXNzb2NpYXRlZCB3aXRoIHRoZSBDTU0gaW5zdGFuY2UKPiAr
ICoKPiArICogUmV0dXJuOiAwIGlmIHRoZSBDTU0gaGFzIHByb2JlZCwgLUVQUk9CRV9ERUZFUiBv
dGhlcndpc2UKCjAgb24gc3VjY2VzcywgLUVQUk9CRV9ERUZFUiBpcyB0aGUgQ01NIGlzbid0IGF2
YWlsYWJsZXQgeWV0Cgo+ICsgKi8KPiAraW50IHJjYXJfY21tX2luaXQoc3RydWN0IHBsYXRmb3Jt
X2RldmljZSAqcGRldikKPiArewo+ICsJc3RydWN0IHJjYXJfY21tICpyY21tID0gcGxhdGZvcm1f
Z2V0X2RydmRhdGEocGRldik7Cj4gKwo+ICsJaWYgKCFyY21tKQo+ICsJCXJldHVybiAtRVBST0JF
X0RFRkVSOwo+ICsKPiArCXJldHVybiAwOwo+ICt9Cj4gK0VYUE9SVF9TWU1CT0xfR1BMKHJjYXJf
Y21tX2luaXQpOwo+ICsKPiArc3RhdGljIGludCByY2FyX2NtbV9wcm9iZShzdHJ1Y3QgcGxhdGZv
cm1fZGV2aWNlICpwZGV2KQo+ICt7Cj4gKwlzdHJ1Y3QgcmNhcl9jbW0gKnJjbW07Cj4gKwo+ICsJ
cmNtbSA9IGRldm1fa3phbGxvYygmcGRldi0+ZGV2LCBzaXplb2YoKnJjbW0pLCBHRlBfS0VSTkVM
KTsKPiArCWlmICghcmNtbSkKPiArCQlyZXR1cm4gLUVOT01FTTsKPiArCXBsYXRmb3JtX3NldF9k
cnZkYXRhKHBkZXYsIHJjbW0pOwo+ICsKPiArCXJjbW0tPmJhc2UgPSBkZXZtX3BsYXRmb3JtX2lv
cmVtYXBfcmVzb3VyY2UocGRldiwgMCk7Cj4gKwlpZiAoSVNfRVJSKHJjbW0tPmJhc2UpKQo+ICsJ
CXJldHVybiBQVFJfRVJSKHJjbW0tPmJhc2UpOwo+ICsKPiArCXBtX3J1bnRpbWVfZW5hYmxlKCZw
ZGV2LT5kZXYpOwo+ICsKPiArCXJldHVybiAwOwo+ICt9Cj4gKwo+ICtzdGF0aWMgaW50IHJjYXJf
Y21tX3JlbW92ZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQo+ICt7Cj4gKwlwbV9ydW50
aW1lX2Rpc2FibGUoJnBkZXYtPmRldik7Cj4gKwo+ICsJcmV0dXJuIDA7Cj4gK30KPiArCj4gK3N0
YXRpYyBjb25zdCBzdHJ1Y3Qgb2ZfZGV2aWNlX2lkIHJjYXJfY21tX29mX3RhYmxlW10gPSB7Cj4g
Kwl7IC5jb21wYXRpYmxlID0gInJlbmVzYXMscmNhci1nZW4zLWNtbSIsIH0sCj4gKwl7IC5jb21w
YXRpYmxlID0gInJlbmVzYXMscmNhci1nZW4yLWNtbSIsIH0sCj4gKwl7IH0sCj4gK307Cj4gK01P
RFVMRV9ERVZJQ0VfVEFCTEUob2YsIHJjYXJfY21tX29mX3RhYmxlKTsKPiArCj4gK3N0YXRpYyBz
dHJ1Y3QgcGxhdGZvcm1fZHJpdmVyIHJjYXJfY21tX3BsYXRmb3JtX2RyaXZlciA9IHsKPiArCS5w
cm9iZQkJPSByY2FyX2NtbV9wcm9iZSwKPiArCS5yZW1vdmUJCT0gcmNhcl9jbW1fcmVtb3ZlLAo+
ICsJLmRyaXZlcgkJPSB7Cj4gKwkJLm5hbWUJPSAicmNhci1jbW0iLAo+ICsJCS5vZl9tYXRjaF90
YWJsZSA9IHJjYXJfY21tX29mX3RhYmxlLAo+ICsJfSwKPiArfTsKPiArCj4gK21vZHVsZV9wbGF0
Zm9ybV9kcml2ZXIocmNhcl9jbW1fcGxhdGZvcm1fZHJpdmVyKTsKPiArCj4gK01PRFVMRV9BVVRI
T1IoIkphY29wbyBNb25kaSA8amFjb3BvK3JlbmVzYXNAam1vbmRpLm9yZz4iKTsKPiArTU9EVUxF
X0RFU0NSSVBUSU9OKCJSZW5lc2FzIFItQ2FyIENNTSBEcml2ZXIiKTsKPiArTU9EVUxFX0xJQ0VO
U0UoIkdQTCB2MiIpOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcmNhci1kdS9yY2Fy
X2NtbS5oIGIvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9jbW0uaAo+IG5ldyBmaWxlIG1v
ZGUgMTAwNjQ0Cj4gaW5kZXggMDAwMDAwMDAwMDAwLi4xNWEyYzg3NGI2YTYKPiAtLS0gL2Rldi9u
dWxsCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3JjYXItZHUvcmNhcl9jbW0uaAo+IEBAIC0wLDAg
KzEsNjEgQEAKPiArLyogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjArICovCj4gKy8q
Cj4gKyAqIHJjYXJfY21tLmggLS0gUi1DYXIgRGlzcGxheSBVbml0IENvbG9yIE1hbmFnZW1lbnQg
TW9kdWxlCj4gKyAqCj4gKyAqIENvcHlyaWdodCAoQykgMjAxOSBKYWNvcG8gTW9uZGkgPGphY29w
bytyZW5lc2FzQGptb25kaS5vcmc+Cj4gKyAqLwo+ICsKPiArI2lmbmRlZiBfX1JDQVJfQ01NX0hf
Xwo+ICsjZGVmaW5lIF9fUkNBUl9DTU1fSF9fCj4gKwo+ICsjZGVmaW5lIENNMl9MVVRfU0laRQkJ
MjU2Cj4gKwo+ICtzdHJ1Y3QgZHJtX2NvbG9yX2x1dDsKPiArc3RydWN0IHBsYXRmb3JtX2Rldmlj
ZTsKPiArCj4gKy8qKgo+ICsgKiBzdHJ1Y3QgcmNhcl9jbW1fY29uZmlnIC0gQ01NIGNvbmZpZ3Vy
YXRpb24KPiArICoKPiArICogQGx1dDoJMUQtTFVUIGNvbmZpZ3VyYXRpb24KPiArICogQGx1dC5l
bmFibGU6CTFELUxVVCBlbmFibGUgZmxhZwo+ICsgKiBAbHV0LnRhYmxlOgkxRC1MVVQgdGFibGUg
ZW50cmllcy4gTWlnaHQgYmUgc2V0IHRvIE5VTEwgd2hlbiB0aGUgQ01NIGhhcyB0bwo+ICsgKgkJ
YmUgcmUtZW5hYmxlZCBidXQgbm90IHJlPXByb2dyYW1tZWQuCgpzL3JlPXByb2dyYW1tZWQvcmUt
cHJvZ3JhbW1lZC8KCkFzIGRpc2N1c3NlZCBvZmZsaW5lIHRoaXMgY2FuJ3QgcmVhbGx5IGhhcHBl
biBhcyBmYXIgYXMgSSBjYW4gdGVsbC4KSG93ZXZlciwgaXQgd2lsbCBzdGlsbCBiZSB1c2VmdWwg
d2hlbiB3ZSdsbCBhZGQgQ0xVIHN1cHBvcnQsIGFzIHRoZW4gYQpDTFUgcmVwcm9ncmFtbWluZyB3
aXRob3V0IGEgTFVUIHJlcHJvZ3JhbW1pbmcgY291bGQgaGFwcGVuLgoKSSB0aGluayB3ZSBzaG91
bGQgbWFrZSB0aGUgZG9jdW1lbnRhdGlvbiBhIGJpdCBjbGVhcmVyOgoKIjFELUxVVCB0YWJsZSBl
bnRyaWVzLiBPbmx5IHZhbGlkIHdoZW4gbHV0LmVuYWJsZSBpcyB0cnVlLCBzaGFsbCBiZSBOVUxM
Cm90aGVyd2lzZS4gV2hlbiBub24tTlVMTCwgdGhlIExVVCB0YWJsZSB3aWxsIGJlIHByb2dyYW1t
ZWQgd2l0aCB0aGUgbmV3CnZhbHVlcy4gT3RoZXJ3aXNlIHRoZSBMVVQgdGFibGUgd2lsbCByZXRh
aW4gaXRzIHByZXZpb3VzbHkgcHJvZ3JhbW1lZAp2YWx1ZXMuIgoKVGhpcyBiZWluZyBzYWlkLCB0
aGUgY29kZSBpbiByY2FyX2NtbV9zZXR1cCgpIHdpbGwgY3Jhc2ggaWYgdGFibGUgaXMKTlVMTC4g
SSB3b3VsZCBlaXRoZXIgZHJvcCB0aGUgb3B0aW9uIG9mIHRhYmxlIGJlaW5nIE5VTEwgKGFuZCB0
aHVzCnVwZGF0ZSB0aGUgZG9jdW1lbnRhdGlvbiBoZXJlKSBpZiB5b3UgZG9uJ3QgbmVlZCB0aGlz
IHlldCBpbiB0aGUgRFUKZHJpdmVyLCBvciBmaXggcmNhcl9jbW1fc2V0dXAoKS4gWW91J3ZlIHBv
c3RlZCBlbm91Z2ggdmVyc2lvbnMgb2YgdGhpcwpzZXJpZXMgaW4gbXkgb3Bpbmlvbiwgc28gcGxl
YXNlIHBpY2sgdGhlIGVhc2llc3Qgb3B0aW9uLCBhbmQgd2UnbGwKcmV3b3JrIHRoZSBjb2RlIHdo
ZW4gYWRkaW5nIENMVSBzdXBwb3J0IGFueXdheS4KCldpdGggdGhvc2Ugc21hbGwgaXNzdWVzIGZp
eGVzLAoKUmV2aWV3ZWQtYnk6IExhdXJlbnQgUGluY2hhcnQgPGxhdXJlbnQucGluY2hhcnRAaWRl
YXNvbmJvYXJkLmNvbT4KCj4gKyAqLwo+ICtzdHJ1Y3QgcmNhcl9jbW1fY29uZmlnIHsKPiArCXN0
cnVjdCB7Cj4gKwkJYm9vbCBlbmFibGU7Cj4gKwkJc3RydWN0IGRybV9jb2xvcl9sdXQgKnRhYmxl
Owo+ICsJfSBsdXQ7Cj4gK307Cj4gKwo+ICsjaWYgSVNfRU5BQkxFRChDT05GSUdfRFJNX1JDQVJf
Q01NKQo+ICtpbnQgcmNhcl9jbW1faW5pdChzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KTsK
PiArCj4gK2ludCByY2FyX2NtbV9lbmFibGUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldik7
Cj4gK3ZvaWQgcmNhcl9jbW1fZGlzYWJsZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KTsK
PiArCj4gK2ludCByY2FyX2NtbV9zZXR1cChzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2LAo+
ICsJCSAgIGNvbnN0IHN0cnVjdCByY2FyX2NtbV9jb25maWcgKmNvbmZpZyk7Cj4gKyNlbHNlCj4g
K3N0YXRpYyBpbmxpbmUgaW50IHJjYXJfY21tX2luaXQoc3RydWN0IHBsYXRmb3JtX2RldmljZSAq
cGRldikKPiArewo+ICsJcmV0dXJuIDA7Cj4gK30KPiArCj4gK3N0YXRpYyBpbmxpbmUgaW50IHJj
YXJfY21tX2VuYWJsZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQo+ICt7Cj4gKwlyZXR1
cm4gMDsKPiArfQo+ICsKPiArc3RhdGljIGlubGluZSB2b2lkIHJjYXJfY21tX2Rpc2FibGUoc3Ry
dWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKPiArewo+ICt9Cj4gKwo+ICtzdGF0aWMgaW50IHJj
YXJfY21tX3NldHVwKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYsCj4gKwkJCSAgY29uc3Qg
c3RydWN0IHJjYXJfY21tX2NvbmZpZyAqY29uZmlnKQo+ICt7Cj4gKwlyZXR1cm4gMDsKPiArfQo+
ICsjZW5kaWYgLyogSVNfRU5BQkxFRChDT05GSUdfRFJNX1JDQVJfQ01NKSAqLwo+ICsKPiArI2Vu
ZGlmIC8qIF9fUkNBUl9DTU1fSF9fICovCgotLSAKUmVnYXJkcywKCkxhdXJlbnQgUGluY2hhcnQK
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVs
IG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlz
dHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
