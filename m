Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id A374024125
	for <lists+dri-devel@lfdr.de>; Mon, 20 May 2019 21:26:40 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1C126890D4;
	Mon, 20 May 2019 19:26:38 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ot1-x341.google.com (mail-ot1-x341.google.com
 [IPv6:2607:f8b0:4864:20::341])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3F2CA890D4
 for <dri-devel@lists.freedesktop.org>; Mon, 20 May 2019 19:26:37 +0000 (UTC)
Received: by mail-ot1-x341.google.com with SMTP id u11so14053479otq.7
 for <dri-devel@lists.freedesktop.org>; Mon, 20 May 2019 12:26:37 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=bOKZkBQE33Pve8s5H/EA/emHrhrXTDjNxU12YLQAYQE=;
 b=lu7SAn6CYtUFSuPiKHm2UD5pOprNRJrErErW/neRK+Ud6Vy8Yz0gJ3aTfYKfPuFf8t
 tWrxbnL/S25ZoReD4JN2RYZLfPcYwP+HRuHSr805dQSRcauHDS2B6trFEG9ajnfr8PIH
 xrXaeDUriL/8n6FXzwlFIfc4m1zqVkNXEoy0YT39uLMh/DRl9XZMIn7pAXZiKt0Z2Zl/
 mFqGP1e3OI8r8rYITAR3R1DtxAmnE5JoBToCbEY/lxUrasA1gppOLbzyFpvcrlQYyfHX
 0YTAYdJQ+CFsSShtF+At4eDRAS6KRx0LjILqM/CmUpDS6BZNJaG3z2eOoxJnS+KbItTq
 Tnzg==
X-Gm-Message-State: APjAAAVfqODma6FoyXFzc+r32yj1KcoCFBaBqGOG8KPTIDSy2yD1qSYQ
 blVHfCK4hpZgKRpPy7U1p93qcSfuI6VaPpVFppxWiliD
X-Google-Smtp-Source: APXvYqxiqYd/V8oX9qhtY4TozM3yEFns0q1A7tJleJ08SBY3Kkal0r6sgP+ysuqWk0vAnXyap6bw0ZRgaZV1L4bz7O4=
X-Received: by 2002:a9d:6e1a:: with SMTP id e26mr46541140otr.188.1558380396449; 
 Mon, 20 May 2019 12:26:36 -0700 (PDT)
MIME-Version: 1.0
References: <20190516162746.11636-1-tzimmermann@suse.de>
 <20190516162746.11636-2-tzimmermann@suse.de>
 <20190520161900.GB21222@phenom.ffwll.local>
 <20190520162615.GD21222@phenom.ffwll.local>
 <2192d545-47ef-ccd8-d0b9-44f42b55e8d2@amd.com>
In-Reply-To: <2192d545-47ef-ccd8-d0b9-44f42b55e8d2@amd.com>
From: Daniel Vetter <daniel@ffwll.ch>
Date: Mon, 20 May 2019 21:26:24 +0200
Message-ID: <CAKMK7uF51rBURbo=9OtVSP4XQkh5mw9F7oSdjs6=RH1UZb2jzA@mail.gmail.com>
Subject: Re: [PATCH 1/2] drm: Add drm_gem_vram_{pin/unpin}_reserved() and
 convert mgag200
To: "Koenig, Christian" <Christian.Koenig@amd.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=bOKZkBQE33Pve8s5H/EA/emHrhrXTDjNxU12YLQAYQE=;
 b=Zr+fmxGUF6Hf2SEtSW3l0LvWsbSoOBz/7sO1mik3PXwAnJMYReOz0xWlBmFDNMEwFF
 3vr8/ogd+5ULrO1bIyzSs5KjZxRUnATe8/YWYoNyJ5sC7Dtib5uV83CdjSeX+zcByqn7
 ik2kOTotvBryrgp1Vyl/3vnLqHwnMV36WUH7o=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: "airlied@linux.ie" <airlied@linux.ie>,
 "puck.chen@hisilicon.com" <puck.chen@hisilicon.com>,
 "dri-devel@lists.freedesktop.org" <dri-devel@lists.freedesktop.org>,
 "virtualization@lists.linux-foundation.org"
 <virtualization@lists.linux-foundation.org>,
 "z.liuxinliang@hisilicon.com" <z.liuxinliang@hisilicon.com>,
 "hdegoede@redhat.com" <hdegoede@redhat.com>,
 "kong.kongxinwei@hisilicon.com" <kong.kongxinwei@hisilicon.com>, "Huang,
 Ray" <Ray.Huang@amd.com>, "kraxel@redhat.com" <kraxel@redhat.com>,
 Thomas Zimmermann <tzimmermann@suse.de>,
 "zourongrong@gmail.com" <zourongrong@gmail.com>,
 "sam@ravnborg.org" <sam@ravnborg.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gTW9uLCBNYXkgMjAsIDIwMTkgYXQgOToyNCBQTSBLb2VuaWcsIENocmlzdGlhbgo8Q2hyaXN0
aWFuLktvZW5pZ0BhbWQuY29tPiB3cm90ZToKPgo+IEFtIDIwLjA1LjE5IHVtIDE4OjI2IHNjaHJp
ZWIgRGFuaWVsIFZldHRlcjoKPiA+IFtDQVVUSU9OOiBFeHRlcm5hbCBFbWFpbF0KPiA+Cj4gPiBP
biBNb24sIE1heSAyMCwgMjAxOSBhdCAwNjoxOTowMFBNICswMjAwLCBEYW5pZWwgVmV0dGVyIHdy
b3RlOgo+ID4+IE9uIFRodSwgTWF5IDE2LCAyMDE5IGF0IDA2OjI3OjQ1UE0gKzAyMDAsIFRob21h
cyBaaW1tZXJtYW5uIHdyb3RlOgo+ID4+PiBUaGUgbmV3IGludGVyZmFjZXMgZHJtX2dlbV92cmFt
X3twaW4vdW5waW59X3Jlc2VydmVkKCkgYXJlIHZhcmlhbnRzIG9mIHRoZQo+ID4+PiBHRU0gVlJB
TSBwaW4vdW5waW4gZnVuY3Rpb25zIHRoYXQgZG8gbm90IHJlc2VydmUgdGhlIEJPIGR1cmluZyB2
YWxpZGF0aW9uLgo+ID4+PiBUaGUgbWdhZzIwMCBkcml2ZXIgcmVxdWlyZXMgdGhpcyBiZWhhdmlv
ciBmb3IgaXRzIGN1cnNvciBoYW5kbGluZy4gVGhlCj4gPj4+IHBhdGNoIGFsc28gY29udmVydHMg
dGhlIGRyaXZlciB0byB1c2UgdGhlIG5ldyBpbnRlcmZhY2VzLgo+ID4+Pgo+ID4+PiBTaWduZWQt
b2ZmLWJ5OiBUaG9tYXMgWmltbWVybWFubiA8dHppbW1lcm1hbm5Ac3VzZS5kZT4KPiA+Pj4gLS0t
Cj4gPj4+ICAgZHJpdmVycy9ncHUvZHJtL2RybV9nZW1fdnJhbV9oZWxwZXIuYyAgICB8IDc1ICsr
KysrKysrKysrKysrKysrKysrKysrKwo+ID4+PiAgIGRyaXZlcnMvZ3B1L2RybS9tZ2FnMjAwL21n
YWcyMDBfY3Vyc29yLmMgfCAxOCArKystLS0KPiA+Pj4gICBpbmNsdWRlL2RybS9kcm1fZ2VtX3Zy
YW1faGVscGVyLmggICAgICAgIHwgIDMgKwo+ID4+PiAgIDMgZmlsZXMgY2hhbmdlZCwgODggaW5z
ZXJ0aW9ucygrKSwgOCBkZWxldGlvbnMoLSkKPiA+Pj4KPiA+Pj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9kcm1fZ2VtX3ZyYW1faGVscGVyLmMgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2dl
bV92cmFtX2hlbHBlci5jCj4gPj4+IGluZGV4IDhmMTQyYjgxMGViNC4uYTAwMmMwM2VhZjRjIDEw
MDY0NAo+ID4+PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vZHJtX2dlbV92cmFtX2hlbHBlci5jCj4g
Pj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fZ2VtX3ZyYW1faGVscGVyLmMKPiA+Pj4gQEAg
LTI1NCw2ICsyNTQsNDcgQEAgaW50IGRybV9nZW1fdnJhbV9waW4oc3RydWN0IGRybV9nZW1fdnJh
bV9vYmplY3QgKmdibywgdW5zaWduZWQgbG9uZyBwbF9mbGFnKQo+ID4+PiAgIH0KPiA+Pj4gICBF
WFBPUlRfU1lNQk9MKGRybV9nZW1fdnJhbV9waW4pOwo+ID4+Pgo+ID4+PiArLyoqCj4gPj4+ICsg
KiBkcm1fZ2VtX3ZyYW1fcGluX3Jlc2VydmVkKCkgLSBQaW5zIGEgR0VNIFZSQU0gb2JqZWN0IGlu
IGEgcmVnaW9uLgo+ID4+PiArICogQGdibzogICB0aGUgR0VNIFZSQU0gb2JqZWN0Cj4gPj4+ICsg
KiBAcGxfZmxhZzogICAgICAgYSBiaXRtYXNrIG9mIHBvc3NpYmxlIG1lbW9yeSByZWdpb25zCj4g
Pj4+ICsgKgo+ID4+PiArICogUGlubmluZyBhIGJ1ZmZlciBvYmplY3QgZW5zdXJlcyB0aGF0IGl0
IGlzIG5vdCBldmljdGVkIGZyb20KPiA+Pj4gKyAqIGEgbWVtb3J5IHJlZ2lvbi4gQSBwaW5uZWQg
YnVmZmVyIG9iamVjdCBoYXMgdG8gYmUgdW5waW5uZWQgYmVmb3JlCj4gPj4+ICsgKiBpdCBjYW4g
YmUgcGlubmVkIHRvIGFub3RoZXIgcmVnaW9uLgo+ID4+PiArICoKPiA+Pj4gKyAqIFRoaXMgZnVu
Y3Rpb24gcGlucyBhIEdFTSBWUkFNIG9iamVjdCB0aGF0IGhhcyBhbHJlYWR5IGJlZW4KPiA+Pj4g
KyAqIHJlc2VydmVkLiBVc2UgZHJtX2dlbV92cmFtX3BpbigpIGlmIHBvc3NpYmxlLgo+ID4+PiAr
ICoKPiA+Pj4gKyAqIFJldHVybnM6Cj4gPj4+ICsgKiAwIG9uIHN1Y2Nlc3MsIG9yCj4gPj4+ICsg
KiBhIG5lZ2F0aXZlIGVycm9yIGNvZGUgb3RoZXJ3aXNlLgo+ID4+PiArICovCj4gPj4+ICtpbnQg
ZHJtX2dlbV92cmFtX3Bpbl9yZXNlcnZlZChzdHJ1Y3QgZHJtX2dlbV92cmFtX29iamVjdCAqZ2Jv
LAo+ID4+PiArICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGxvbmcgcGxfZmxhZykK
PiA+Pj4gK3sKPiA+Pj4gKyAgIGludCBpLCByZXQ7Cj4gPj4+ICsgICBzdHJ1Y3QgdHRtX29wZXJh
dGlvbl9jdHggY3R4ID0geyBmYWxzZSwgZmFsc2UgfTsKPiA+PiBJIHRoaW5rIHdvdWxkIGJlIGdv
b2QgdG8gaGF2ZSBhIGxvY2tkZXBfYXNzZXJ0X2hlbGQgaGVyZSBmb3IgdGhlIHd3X211dGV4Lgo+
ID4+Cj4gPj4gQWxzbyBnZW5lcmFsIHRoaW5nOiBfcmVzZXJ2ZWQgaXMga2luZGEgdHRtIGxpbmdv
LCBmb3IgZG1hLWJ1ZiByZXNlcnZhdGlvbnMKPiA+PiB3ZSBjYWxsIHRoZSBzdHJ1Y3R1cmUgdHJh
Y2tpbmcgdGhlIGZlbmNlcytsb2NrIHRoZSAicmVzZXJ2YXRpb24iLCBidXQgdGhlCj4gPj4gbmFt
aW5nIHNjaGVtZSB1c2VkIGlzIF9sb2NrL191bmxvY2suCj4gPj4KPiA+PiBJIHRoaW5rIHdvdWxk
IGJlIGdvb2QgdG8gYmUgY29uc2lzdGVudCB3aXRoIHRoYXQsIGFuZCB1c2UgX2xvY2tlZCBoZXJl
Lgo+ID4+IEVzcGVjaWFsbHkgZm9yIGEgdmVyeSBzaW1wbGlmaWVkIHZyYW0gaGVscGVyIGxpa2Ug
dGhpcyBvbmUgSSBleHBlY3QgdGhhdCdzCj4gPj4gZ29pbmcgdG8gbGVhZCB0byBsZXNzIHd0ZiBt
b21lbnRzIGJ5IGRyaXZlciB3cml0ZXJzIDotKQo+ID4+Cj4gPj4gTWF5YmUgd2Ugc2hvdWxkIGFs
c28gZG8gYSBsYXJnZS1zY2FsZSBzL3Jlc2VydmUvbG9jay8gd2l0aGluIHR0bSwgdG8gYWxpZ24K
PiA+PiBtb3JlIHdpdGggd2hhdCB3ZSBub3cgaGF2ZSBpbiBkbWEtYnVmLgo+ID4gTW9yZSBhc2lk
ZToKPiA+Cj4gPiBDb3VsZCBiZSBhIGdvb2QgbW92ZSB0byBkZW1pZGxheWVyIHRoaXMgYW4gZXNz
ZW50aWFsbHkgcmVtb3ZlCj4gPiB0dG1fYm9fcmVzZXJ2ZSBhcyBhIHdyYXBwZXIgYXJvdW5kIHRo
ZSBsaW51eC9yZXNlcnZhdGlvbi5oIGZ1bmN0aW9ucy4gTm90Cj4gPiBzdXJlIHdoZXRoZXIgdGhh
dCBhbGlnbnMgd2l0aCBDaHJpc3RpYW4ncyBwbGFucy4gVE9ETy5yc3QgcGF0Y2ggbWlnaHQgYmUg
YQo+ID4gZ29vZCBzdGVwIHRvIGdldCB0aGF0IGRpc2N1c3Npb24gc3RhcnRlZC4KPgo+IFdlbGwg
d2hhdCB0dG1fYm9fcmVzZXJ2ZSgpL191bnJlc2VydmUoKSBkb2VzIGlzIGEpIGxvY2svdW5sb2Nr
IHRoZQo+IHJlc2VydmF0aW9uIG9iamVjdCBhbmQgYikgcmVtb3ZlIHRoZSBCTyBmcm9tIHRoZSBM
UlUuCj4KPiBTaW5jZSBJJ20gZGVzcGVyYXRlbHkgdHJ5aW5nIHRvIGdldCByaWQgb2YgdGhlIExS
VSByZW1vdmFsIHJpZ2h0IG5vdyB3ZQo+IHNvb25lciBvciBsYXRlciBzaG91bGQgYmUgYWJsZSB0
byByZW1vdmUgdHRtb19ib19yZXNlcnZlKCkvX3VucmVzZXJ2ZSgpCj4gYXMgd2VsbCAob3IgYXQg
bGVhc3QgcmVwbGFjZSB0aGVtIHdpdGggdGlueSB0dG1fYm9fbG9jaygpIHdyYXBwZXJzLgoKWWVh
aCB0aGF0J3Mgd2hhdCBJIG1lYW50LCB3b3VsZCBiZSBuaWNlIHRvIGRpdGNoIHRoYXQgYml0IG9m
Cm1pZGxheWVyaW5nLCBhdCBsZWFzdCBmcm9tIGRyaXZlcnMuCgpJIGd1ZXNzIHdpdGhpbiB0dG0g
d2UnZCBzdGlsbCBuZWVkIHR0bV9ib19sb2NrL3VubG9jaywgc2luY2UKaW50ZXJydXB0ZWJsZS90
aW1lZG91dC9sb2NrIG1vZGVzIGluIGdlbmVyYWwgaXMgcGFzc2VkIGFyb3VuZAp0aHJvdWdob3V0
IHRoZSBlbnRpcmUgc3RhY2sgYXMgcGFyYW1ldGVycy4KLURhbmllbAoKPgo+IENocmlzdGlhbi4K
Pgo+ID4gLURhbmllbAo+ID4KPiA+PiBDaGVlcnMsIERhbmllbAo+ID4+Cj4gPj4+ICsKPiA+Pj4g
KyAgIGlmIChnYm8tPnBpbl9jb3VudCkgewo+ID4+PiArICAgICAgICAgICArK2diby0+cGluX2Nv
dW50Owo+ID4+PiArICAgICAgICAgICByZXR1cm4gMDsKPiA+Pj4gKyAgIH0KPiA+Pj4gKwo+ID4+
PiArICAgZHJtX2dlbV92cmFtX3BsYWNlbWVudChnYm8sIHBsX2ZsYWcpOwo+ID4+PiArICAgZm9y
IChpID0gMDsgaSA8IGdiby0+cGxhY2VtZW50Lm51bV9wbGFjZW1lbnQ7ICsraSkKPiA+Pj4gKyAg
ICAgICAgICAgZ2JvLT5wbGFjZW1lbnRzW2ldLmZsYWdzIHw9IFRUTV9QTF9GTEFHX05PX0VWSUNU
Owo+ID4+PiArCj4gPj4+ICsgICByZXQgPSB0dG1fYm9fdmFsaWRhdGUoJmdiby0+Ym8sICZnYm8t
PnBsYWNlbWVudCwgJmN0eCk7Cj4gPj4+ICsgICBpZiAocmV0IDwgMCkKPiA+Pj4gKyAgICAgICAg
ICAgcmV0dXJuIHJldDsKPiA+Pj4gKwo+ID4+PiArICAgZ2JvLT5waW5fY291bnQgPSAxOwo+ID4+
PiArCj4gPj4+ICsgICByZXR1cm4gMDsKPiA+Pj4gK30KPiA+Pj4gK0VYUE9SVF9TWU1CT0woZHJt
X2dlbV92cmFtX3Bpbl9yZXNlcnZlZCk7Cj4gPj4+ICsKPiA+Pj4gICAvKioKPiA+Pj4gICAgKiBk
cm1fZ2VtX3ZyYW1fdW5waW4oKSAtIFVucGlucyBhIEdFTSBWUkFNIG9iamVjdAo+ID4+PiAgICAq
IEBnYm86ICAgdGhlIEdFTSBWUkFNIG9iamVjdAo+ID4+PiBAQCAtMjg1LDYgKzMyNiw0MCBAQCBp
bnQgZHJtX2dlbV92cmFtX3VucGluKHN0cnVjdCBkcm1fZ2VtX3ZyYW1fb2JqZWN0ICpnYm8pCj4g
Pj4+ICAgfQo+ID4+PiAgIEVYUE9SVF9TWU1CT0woZHJtX2dlbV92cmFtX3VucGluKTsKPiA+Pj4K
PiA+Pj4gKy8qKgo+ID4+PiArICogZHJtX2dlbV92cmFtX3VucGluX3Jlc2VydmVkKCkgLSBVbnBp
bnMgYSBHRU0gVlJBTSBvYmplY3QKPiA+Pj4gKyAqIEBnYm86ICAgdGhlIEdFTSBWUkFNIG9iamVj
dAo+ID4+PiArICoKPiA+Pj4gKyAqIFRoaXMgZnVuY3Rpb24gdW5waW5zIGEgR0VNIFZSQU0gb2Jq
ZWN0IHRoYXQgaGFzIGFscmVhZHkgYmVlbgo+ID4+PiArICogcmVzZXJ2ZWQuIFVzZSBkcm1fZ2Vt
X3ZyYW1fdW5waW4oKSBpZiBwb3NzaWJsZS4KPiA+Pj4gKyAqCj4gPj4+ICsgKiBSZXR1cm5zOgo+
ID4+PiArICogMCBvbiBzdWNjZXNzLCBvcgo+ID4+PiArICogYSBuZWdhdGl2ZSBlcnJvciBjb2Rl
IG90aGVyd2lzZS4KPiA+Pj4gKyAqLwo+ID4+PiAraW50IGRybV9nZW1fdnJhbV91bnBpbl9yZXNl
cnZlZChzdHJ1Y3QgZHJtX2dlbV92cmFtX29iamVjdCAqZ2JvKQo+ID4+PiArewo+ID4+PiArICAg
aW50IGksIHJldDsKPiA+Pj4gKyAgIHN0cnVjdCB0dG1fb3BlcmF0aW9uX2N0eCBjdHggPSB7IGZh
bHNlLCBmYWxzZSB9Owo+ID4+PiArCj4gPj4+ICsgICBpZiAoV0FSTl9PTl9PTkNFKCFnYm8tPnBp
bl9jb3VudCkpCj4gPj4+ICsgICAgICAgICAgIHJldHVybiAwOwo+ID4+PiArCj4gPj4+ICsgICAt
LWdiby0+cGluX2NvdW50Owo+ID4+PiArICAgaWYgKGdiby0+cGluX2NvdW50KQo+ID4+PiArICAg
ICAgICAgICByZXR1cm4gMDsKPiA+Pj4gKwo+ID4+PiArICAgZm9yIChpID0gMDsgaSA8IGdiby0+
cGxhY2VtZW50Lm51bV9wbGFjZW1lbnQgOyArK2kpCj4gPj4+ICsgICAgICAgICAgIGdiby0+cGxh
Y2VtZW50c1tpXS5mbGFncyAmPSB+VFRNX1BMX0ZMQUdfTk9fRVZJQ1Q7Cj4gPj4+ICsKPiA+Pj4g
KyAgIHJldCA9IHR0bV9ib192YWxpZGF0ZSgmZ2JvLT5ibywgJmdiby0+cGxhY2VtZW50LCAmY3R4
KTsKPiA+Pj4gKyAgIGlmIChyZXQgPCAwKQo+ID4+PiArICAgICAgICAgICByZXR1cm4gcmV0Owo+
ID4+PiArCj4gPj4+ICsgICByZXR1cm4gMDsKPiA+Pj4gK30KPiA+Pj4gK0VYUE9SVF9TWU1CT0wo
ZHJtX2dlbV92cmFtX3VucGluX3Jlc2VydmVkKTsKPiA+Pj4gKwo+ID4+PiAgIC8qKgo+ID4+PiAg
ICAqIGRybV9nZW1fdnJhbV9wdXNoX3RvX3N5c3RlbSgpIC0gXAo+ID4+PiAgICAgIFVucGlucyBh
IEdFTSBWUkFNIG9iamVjdCBhbmQgbW92ZXMgaXQgdG8gc3lzdGVtIG1lbW9yeQo+ID4+PiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL21nYWcyMDAvbWdhZzIwMF9jdXJzb3IuYyBiL2RyaXZl
cnMvZ3B1L2RybS9tZ2FnMjAwL21nYWcyMDBfY3Vyc29yLmMKPiA+Pj4gaW5kZXggNmMxYTlkNzI0
ZDg1Li4xYzRmYzg1MzE1YTAgMTAwNjQ0Cj4gPj4+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9tZ2Fn
MjAwL21nYWcyMDBfY3Vyc29yLmMKPiA+Pj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL21nYWcyMDAv
bWdhZzIwMF9jdXJzb3IuYwo+ID4+PiBAQCAtMjMsOSArMjMsOSBAQCBzdGF0aWMgdm9pZCBtZ2Ff
aGlkZV9jdXJzb3Ioc3RydWN0IG1nYV9kZXZpY2UgKm1kZXYpCj4gPj4+ICAgICAgV1JFRzgoTUdB
X0NVUlBPU1hMLCAwKTsKPiA+Pj4gICAgICBXUkVHOChNR0FfQ1VSUE9TWEgsIDApOwo+ID4+PiAg
ICAgIGlmIChtZGV2LT5jdXJzb3IucGl4ZWxzXzEtPnBpbl9jb3VudCkKPiA+Pj4gLSAgICAgICAg
ICAgZHJtX2dlbV92cmFtX3VucGluKG1kZXYtPmN1cnNvci5waXhlbHNfMSk7Cj4gPj4+ICsgICAg
ICAgICAgIGRybV9nZW1fdnJhbV91bnBpbl9yZXNlcnZlZChtZGV2LT5jdXJzb3IucGl4ZWxzXzEp
Owo+ID4+PiAgICAgIGlmIChtZGV2LT5jdXJzb3IucGl4ZWxzXzItPnBpbl9jb3VudCkKPiA+Pj4g
LSAgICAgICAgICAgZHJtX2dlbV92cmFtX3VucGluKG1kZXYtPmN1cnNvci5waXhlbHNfMik7Cj4g
Pj4+ICsgICAgICAgICAgIGRybV9nZW1fdnJhbV91bnBpbl9yZXNlcnZlZChtZGV2LT5jdXJzb3Iu
cGl4ZWxzXzIpOwo+ID4+PiAgIH0KPiA+Pj4KPiA+Pj4gICBpbnQgbWdhX2NydGNfY3Vyc29yX3Nl
dChzdHJ1Y3QgZHJtX2NydGMgKmNydGMsCj4gPj4+IEBAIC05NiwyNiArOTYsMjggQEAgaW50IG1n
YV9jcnRjX2N1cnNvcl9zZXQoc3RydWN0IGRybV9jcnRjICpjcnRjLAo+ID4+Pgo+ID4+PiAgICAg
IC8qIE1vdmUgY3Vyc29yIGJ1ZmZlcnMgaW50byBWUkFNIGlmIHRoZXkgYXJlbid0IGFscmVhZHkg
Ki8KPiA+Pj4gICAgICBpZiAoIXBpeGVsc18xLT5waW5fY291bnQpIHsKPiA+Pj4gLSAgICAgICAg
ICAgcmV0ID0gZHJtX2dlbV92cmFtX3BpbihwaXhlbHNfMSwgRFJNX0dFTV9WUkFNX1BMX0ZMQUdf
VlJBTSk7Cj4gPj4+ICsgICAgICAgICAgIHJldCA9IGRybV9nZW1fdnJhbV9waW5fcmVzZXJ2ZWQo
cGl4ZWxzXzEsCj4gPj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgRFJNX0dFTV9WUkFNX1BMX0ZMQUdfVlJBTSk7Cj4gPj4+ICAgICAgICAgICAgICBpZiAocmV0
KQo+ID4+PiAgICAgICAgICAgICAgICAgICAgICBnb3RvIG91dDE7Cj4gPj4+ICAgICAgICAgICAg
ICBncHVfYWRkciA9IGRybV9nZW1fdnJhbV9vZmZzZXQocGl4ZWxzXzEpOwo+ID4+PiAgICAgICAg
ICAgICAgaWYgKGdwdV9hZGRyIDwgMCkgewo+ID4+PiAtICAgICAgICAgICAgICAgICAgIGRybV9n
ZW1fdnJhbV91bnBpbihwaXhlbHNfMSk7Cj4gPj4+ICsgICAgICAgICAgICAgICAgICAgZHJtX2dl
bV92cmFtX3VucGluX3Jlc2VydmVkKHBpeGVsc18xKTsKPiA+Pj4gICAgICAgICAgICAgICAgICAg
ICAgZ290byBvdXQxOwo+ID4+PiAgICAgICAgICAgICAgfQo+ID4+PiAgICAgICAgICAgICAgbWRl
di0+Y3Vyc29yLnBpeGVsc18xX2dwdV9hZGRyID0gZ3B1X2FkZHI7Cj4gPj4+ICAgICAgfQo+ID4+
PiAgICAgIGlmICghcGl4ZWxzXzItPnBpbl9jb3VudCkgewo+ID4+PiAtICAgICAgICAgICByZXQg
PSBkcm1fZ2VtX3ZyYW1fcGluKHBpeGVsc18yLCBEUk1fR0VNX1ZSQU1fUExfRkxBR19WUkFNKTsK
PiA+Pj4gKyAgICAgICAgICAgcmV0ID0gZHJtX2dlbV92cmFtX3Bpbl9yZXNlcnZlZChwaXhlbHNf
MiwKPiA+Pj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEUk1f
R0VNX1ZSQU1fUExfRkxBR19WUkFNKTsKPiA+Pj4gICAgICAgICAgICAgIGlmIChyZXQpIHsKPiA+
Pj4gLSAgICAgICAgICAgICAgICAgICBkcm1fZ2VtX3ZyYW1fdW5waW4ocGl4ZWxzXzEpOwo+ID4+
PiArICAgICAgICAgICAgICAgICAgIGRybV9nZW1fdnJhbV91bnBpbl9yZXNlcnZlZChwaXhlbHNf
MSk7Cj4gPj4+ICAgICAgICAgICAgICAgICAgICAgIGdvdG8gb3V0MTsKPiA+Pj4gICAgICAgICAg
ICAgIH0KPiA+Pj4gICAgICAgICAgICAgIGdwdV9hZGRyID0gZHJtX2dlbV92cmFtX29mZnNldChw
aXhlbHNfMik7Cj4gPj4+ICAgICAgICAgICAgICBpZiAoZ3B1X2FkZHIgPCAwKSB7Cj4gPj4+IC0g
ICAgICAgICAgICAgICAgICAgZHJtX2dlbV92cmFtX3VucGluKHBpeGVsc18xKTsKPiA+Pj4gLSAg
ICAgICAgICAgICAgICAgICBkcm1fZ2VtX3ZyYW1fdW5waW4ocGl4ZWxzXzIpOwo+ID4+PiArICAg
ICAgICAgICAgICAgICAgIGRybV9nZW1fdnJhbV91bnBpbl9yZXNlcnZlZChwaXhlbHNfMSk7Cj4g
Pj4+ICsgICAgICAgICAgICAgICAgICAgZHJtX2dlbV92cmFtX3VucGluX3Jlc2VydmVkKHBpeGVs
c18yKTsKPiA+Pj4gICAgICAgICAgICAgICAgICAgICAgZ290byBvdXQxOwo+ID4+PiAgICAgICAg
ICAgICAgfQo+ID4+PiAgICAgICAgICAgICAgbWRldi0+Y3Vyc29yLnBpeGVsc18yX2dwdV9hZGRy
ID0gZ3B1X2FkZHI7Cj4gPj4+IGRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS9kcm1fZ2VtX3ZyYW1f
aGVscGVyLmggYi9pbmNsdWRlL2RybS9kcm1fZ2VtX3ZyYW1faGVscGVyLmgKPiA+Pj4gaW5kZXgg
YjA1NmYxODliYTYyLi5mZjFhODE3NjE1NDMgMTAwNjQ0Cj4gPj4+IC0tLSBhL2luY2x1ZGUvZHJt
L2RybV9nZW1fdnJhbV9oZWxwZXIuaAo+ID4+PiArKysgYi9pbmNsdWRlL2RybS9kcm1fZ2VtX3Zy
YW1faGVscGVyLmgKPiA+Pj4gQEAgLTgyLDcgKzgyLDEwIEBAIHZvaWQgZHJtX2dlbV92cmFtX3Vu
cmVzZXJ2ZShzdHJ1Y3QgZHJtX2dlbV92cmFtX29iamVjdCAqZ2JvKTsKPiA+Pj4gICB1NjQgZHJt
X2dlbV92cmFtX21tYXBfb2Zmc2V0KHN0cnVjdCBkcm1fZ2VtX3ZyYW1fb2JqZWN0ICpnYm8pOwo+
ID4+PiAgIHM2NCBkcm1fZ2VtX3ZyYW1fb2Zmc2V0KHN0cnVjdCBkcm1fZ2VtX3ZyYW1fb2JqZWN0
ICpnYm8pOwo+ID4+PiAgIGludCBkcm1fZ2VtX3ZyYW1fcGluKHN0cnVjdCBkcm1fZ2VtX3ZyYW1f
b2JqZWN0ICpnYm8sIHVuc2lnbmVkIGxvbmcgcGxfZmxhZyk7Cj4gPj4+ICtpbnQgZHJtX2dlbV92
cmFtX3Bpbl9yZXNlcnZlZChzdHJ1Y3QgZHJtX2dlbV92cmFtX29iamVjdCAqZ2JvLAo+ID4+PiAr
ICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGxvbmcgcGxfZmxhZyk7Cj4gPj4+ICAg
aW50IGRybV9nZW1fdnJhbV91bnBpbihzdHJ1Y3QgZHJtX2dlbV92cmFtX29iamVjdCAqZ2JvKTsK
PiA+Pj4gK2ludCBkcm1fZ2VtX3ZyYW1fdW5waW5fcmVzZXJ2ZWQoc3RydWN0IGRybV9nZW1fdnJh
bV9vYmplY3QgKmdibyk7Cj4gPj4+ICAgaW50IGRybV9nZW1fdnJhbV9wdXNoX3RvX3N5c3RlbShz
dHJ1Y3QgZHJtX2dlbV92cmFtX29iamVjdCAqZ2JvKTsKPiA+Pj4gICB2b2lkICpkcm1fZ2VtX3Zy
YW1fa21hcF9hdChzdHJ1Y3QgZHJtX2dlbV92cmFtX29iamVjdCAqZ2JvLCBib29sIG1hcCwKPiA+
Pj4gICAgICAgICAgICAgICAgICAgICAgICAgYm9vbCAqaXNfaW9tZW0sIHN0cnVjdCB0dG1fYm9f
a21hcF9vYmogKmttYXApOwo+ID4+PiAtLQo+ID4+PiAyLjIxLjAKPiA+Pj4KPiA+PiAtLQo+ID4+
IERhbmllbCBWZXR0ZXIKPiA+PiBTb2Z0d2FyZSBFbmdpbmVlciwgSW50ZWwgQ29ycG9yYXRpb24K
PiA+PiBodHRwOi8vYmxvZy5mZndsbC5jaAo+ID4gLS0KPiA+IERhbmllbCBWZXR0ZXIKPiA+IFNv
ZnR3YXJlIEVuZ2luZWVyLCBJbnRlbCBDb3Jwb3JhdGlvbgo+ID4gaHR0cDovL2Jsb2cuZmZ3bGwu
Y2gKPgoKCi0tIApEYW5pZWwgVmV0dGVyClNvZnR3YXJlIEVuZ2luZWVyLCBJbnRlbCBDb3Jwb3Jh
dGlvbgorNDEgKDApIDc5IDM2NSA1NyA0OCAtIGh0dHA6Ly9ibG9nLmZmd2xsLmNoCl9fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5n
IGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVk
ZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
