Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 24835EB0B9
	for <lists+dri-devel@lfdr.de>; Thu, 31 Oct 2019 14:01:10 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 6914B6EE63;
	Thu, 31 Oct 2019 13:01:07 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-wr1-x441.google.com (mail-wr1-x441.google.com
 [IPv6:2a00:1450:4864:20::441])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 979D46EE28;
 Thu, 31 Oct 2019 10:44:17 +0000 (UTC)
Received: by mail-wr1-x441.google.com with SMTP id l10so5682809wrb.2;
 Thu, 31 Oct 2019 03:44:17 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=M60UiEhUmmNWU8RgBGE4zx++F2XO1/RbSWEAXRbbk3s=;
 b=AhOaMko7KDEcqHfZHJ2qYkqRO/Qj/xXubgGRwoZl05HmwKqCvSOztF2xKFGea+AgNx
 girK4f0138U6op5uzVPGzsI2i9QXHdl5NhdzmpFlVnGAWGOmz4WQoS0uXNGexyZ32NJG
 vnh6A6rLYwq4uSKkGXyNULvqa+C+U+MeS+hqkAtgdKgBGSLf8D1dDO88FtSioWd8rWIM
 +FTBIqj2L6j6cPcBRsUeS5bpFhUtHQxxMuEQDR9ZFFQN6MwtjMn1tY6Uuox9sTanPpcn
 X1UMoReZUtFuNRmX1cIE/QGZbRf9u0QsnleebUxoyl43BI1VYyZe5I0LfMkcqlfEli94
 XHFw==
X-Gm-Message-State: APjAAAW6crKPsZFYZ+9wa1VVo9VFFy3ND3kJ0bHCtgFRW3wiaALP/k8i
 WmaYyPP0p5JO7iu62ZrlLcs=
X-Google-Smtp-Source: APXvYqwDteIDzKxvuXwHeKYZ+t5RDvepRUcPppCo19Lxh5ISq8LLiUmTvMXp6JXaUJofjvqgCUKe/Q==
X-Received: by 2002:adf:e903:: with SMTP id f3mr5124513wrm.121.1572518655958; 
 Thu, 31 Oct 2019 03:44:15 -0700 (PDT)
Received: from IcarusMOD.eternityproject.eu ([93.51.16.173])
 by smtp.gmail.com with ESMTPSA id q25sm4141389wra.3.2019.10.31.03.44.14
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Thu, 31 Oct 2019 03:44:15 -0700 (PDT)
From: kholk11@gmail.com
To: linux-arm-msm@vger.kernel.org
Subject: [PATCH v4 7/7] drm/msm/adreno: Add support for Adreno 510 GPU
Date: Thu, 31 Oct 2019 11:44:02 +0100
Message-Id: <20191031104402.31813-8-kholk11@gmail.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20191031104402.31813-1-kholk11@gmail.com>
References: <20191031104402.31813-1-kholk11@gmail.com>
MIME-Version: 1.0
X-Mailman-Approved-At: Thu, 31 Oct 2019 13:00:41 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=M60UiEhUmmNWU8RgBGE4zx++F2XO1/RbSWEAXRbbk3s=;
 b=JwSm0nQYOhWEqmv0HXC2IrlBHHkn9Cu6PpGseYmcyKW6gSi7AinI9Wgz02hxkSbx73
 YVJD9yEH0f8/5WXMoUytmMA3CM2NKQkApbVCeW9b7ofsismcBzPZ17pG0+MB/4nSHtzy
 IJ+xFsZpABlj79nQCwRfWKIpZSvt1u7aRcrwBf3pEXb61ORL/sKkTJa8IatSiVY7JW7L
 +0cu2PCGC1IyNzOYnSxILsfGl26QK9sqlIHia8qAmG/6a+Ogxu33zaqsk4l3UAtH3LVN
 b8EHnjlqimMYxNoCQmlX2f8vOzqslJJQsNqhOGDionnMUvUeyoF09t6pyv9J6vqrZ00z
 t+Eg==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: mark.rutland@arm.com, freedreno@lists.freedesktop.org, marijns95@gmail.com,
 jonathan@marek.ca, airlied@linux.ie, gregkh@linuxfoundation.org,
 dri-devel@lists.freedesktop.org, bjorn.andersson@linaro.org,
 robh+dt@kernel.org, tglx@linutronix.de, kholk11@gmail.com, sean@poorly.run,
 georgi.djakov@linaro.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogQW5nZWxvR2lvYWNjaGlubyBEZWwgUmVnbm8gPGtob2xrMTFAZ21haWwuY29tPgoKVGhl
IEFkcmVubyA1MTAgR1BVIGlzIGEgc3RyaXBwZWQgdmVyc2lvbiBvZiB0aGUgQWRyZW5vIDV4eCwK
Zm91bmQgaW4gbG93LWVuZCBTb0NzIGxpa2UgOHg1NiBhbmQgOHg3Niwgd2hpY2ggaGFzIDI1Nksg
b2YKR01FTSwgd2l0aCBubyBHUE1VIG5vciBaQVAuCkFsc28sIHNpbmNlIHRoZSBBZHJlbm8gNXh4
IHBhcnQgb2YgdGhpcyBkcml2ZXIgc2VlbXMgdG8gYmUKZGV2ZWxvcGVkIHdpdGggaGlnaC1lbmQg
QWRyZW5vIEdQVXMgaW4gbWluZCwgYW5kIHNpbmNlIHRoaXMKaXMgYSBsb3dlciBlbmQgb25lLCBh
ZGQgYSBjb21tZW50IG1ha2luZyBjbGVhciB3aGljaCBHUFVzCndoaWNoIHN1cHBvcnQgaXMgbm90
IGltcGxlbWVudGVkIHlldCBpcyBub3QgdXNpbmcgdGhlIEdQTVUKcmVsYXRlZCBodyBpbml0IGNv
ZGUsIHNvIHRoYXQgZnV0dXJlIGRldmVsb3BlcnMgd2lsbCBub3QgZ28KY3Jhenkgd2l0aCB0aGF0
LgoKQnkgdGhlIHdheSwgdGhlIGxvd2VyIGVuZCBBZHJlbm8gR1BVcyB3aXRoIG5vIEdQTVUgYXJl
OgpBNTA1L0E1MDYvQTUxMCAodXN1YWxseSBubyBaQVAgZmlybXdhcmUpCkE1MDgvQTUwOS9BNTEy
ICh1c3VhbGx5IHdpdGggWkFQIGZpcm13YXJlKQoKU2lnbmVkLW9mZi1ieTogQW5nZWxvR2lvYWNj
aGlubyBEZWwgUmVnbm8gPGtob2xrMTFAZ21haWwuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9t
c20vYWRyZW5vL2E1eHhfZ3B1LmMgICAgICB8IDczICsrKysrKysrKysrKysrKysrLS0tLS0KIGRy
aXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2E1eHhfcG93ZXIuYyAgICB8ICA3ICsrKwogZHJpdmVy
cy9ncHUvZHJtL21zbS9hZHJlbm8vYWRyZW5vX2RldmljZS5jIHwgMTUgKysrKysKIGRyaXZlcnMv
Z3B1L2RybS9tc20vYWRyZW5vL2FkcmVub19ncHUuaCAgICB8ICA1ICsrCiA0IGZpbGVzIGNoYW5n
ZWQsIDg2IGluc2VydGlvbnMoKyksIDE0IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9tc20vYWRyZW5vL2E1eHhfZ3B1LmMgYi9kcml2ZXJzL2dwdS9kcm0vbXNtL2Fk
cmVuby9hNXh4X2dwdS5jCmluZGV4IDdmZGM5ZTJiY2FhYy4uYjAyZTIwNDI1NDdmIDEwMDY0NAot
LS0gYS9kcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hNXh4X2dwdS5jCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS9tc20vYWRyZW5vL2E1eHhfZ3B1LmMKQEAgLTM1Myw2ICszNTMsOSBAQCBzdGF0aWMg
aW50IGE1eHhfbWVfaW5pdChzdHJ1Y3QgbXNtX2dwdSAqZ3B1KQogCQkgKiAyRCBtb2RlIDMgZHJh
dwogCQkgKi8KIAkJT1VUX1JJTkcocmluZywgMHgwMDAwMDAwQik7CisJfSBlbHNlIGlmIChhZHJl
bm9faXNfYTUxMChhZHJlbm9fZ3B1KSkgeworCQkvKiBXb3JrYXJvdW5kIGZvciB0b2tlbiBhbmQg
c3luY3MgKi8KKwkJT1VUX1JJTkcocmluZywgMHgwMDAwMDAwMSk7CiAJfSBlbHNlIHsKIAkJLyog
Tm8gd29ya2Fyb3VuZHMgZW5hYmxlZCAqLwogCQlPVVRfUklORyhyaW5nLCAweDAwMDAwMDAwKTsK
QEAgLTU2OCwxNSArNTcxLDI0IEBAIHN0YXRpYyBpbnQgYTV4eF9od19pbml0KHN0cnVjdCBtc21f
Z3B1ICpncHUpCiAJCTB4MDAxMDAwMDAgKyBhZHJlbm9fZ3B1LT5nbWVtIC0gMSk7CiAJZ3B1X3dy
aXRlKGdwdSwgUkVHX0E1WFhfVUNIRV9HTUVNX1JBTkdFX01BWF9ISSwgMHgwMDAwMDAwMCk7CiAK
LQlncHVfd3JpdGUoZ3B1LCBSRUdfQTVYWF9DUF9NRVFfVEhSRVNIT0xEUywgMHg0MCk7Ci0JaWYg
KGFkcmVub19pc19hNTMwKGFkcmVub19ncHUpKQotCQlncHVfd3JpdGUoZ3B1LCBSRUdfQTVYWF9D
UF9NRVJDSVVfU0laRSwgMHg0MCk7Ci0JaWYgKGFkcmVub19pc19hNTQwKGFkcmVub19ncHUpKQot
CQlncHVfd3JpdGUoZ3B1LCBSRUdfQTVYWF9DUF9NRVJDSVVfU0laRSwgMHg0MDApOwotCWdwdV93
cml0ZShncHUsIFJFR19BNVhYX0NQX1JPUV9USFJFU0hPTERTXzIsIDB4ODAwMDAwNjApOwotCWdw
dV93cml0ZShncHUsIFJFR19BNVhYX0NQX1JPUV9USFJFU0hPTERTXzEsIDB4NDAyMDFCMTYpOwot
Ci0JZ3B1X3dyaXRlKGdwdSwgUkVHX0E1WFhfUENfREJHX0VDT19DTlRMLCAoMHg0MDAgPDwgMTEg
fCAweDMwMCA8PCAyMikpOworCWlmIChhZHJlbm9faXNfYTUxMChhZHJlbm9fZ3B1KSkgeworCQln
cHVfd3JpdGUoZ3B1LCBSRUdfQTVYWF9DUF9NRVFfVEhSRVNIT0xEUywgMHgyMCk7CisJCWdwdV93
cml0ZShncHUsIFJFR19BNVhYX0NQX01FUkNJVV9TSVpFLCAweDIwKTsKKwkJZ3B1X3dyaXRlKGdw
dSwgUkVHX0E1WFhfQ1BfUk9RX1RIUkVTSE9MRFNfMiwgMHg0MDAwMDAzMCk7CisJCWdwdV93cml0
ZShncHUsIFJFR19BNVhYX0NQX1JPUV9USFJFU0hPTERTXzEsIDB4MjAxMDBEMEEpOworCQlncHVf
d3JpdGUoZ3B1LCBSRUdfQTVYWF9QQ19EQkdfRUNPX0NOVEwsCisJCQkgICgweDIwMCA8PCAxMSB8
IDB4MjAwIDw8IDIyKSk7CisJfSBlbHNlIHsKKwkJZ3B1X3dyaXRlKGdwdSwgUkVHX0E1WFhfQ1Bf
TUVRX1RIUkVTSE9MRFMsIDB4NDApOworCQlpZiAoYWRyZW5vX2lzX2E1MzAoYWRyZW5vX2dwdSkp
CisJCQlncHVfd3JpdGUoZ3B1LCBSRUdfQTVYWF9DUF9NRVJDSVVfU0laRSwgMHg0MCk7CisJCWlm
IChhZHJlbm9faXNfYTU0MChhZHJlbm9fZ3B1KSkKKwkJCWdwdV93cml0ZShncHUsIFJFR19BNVhY
X0NQX01FUkNJVV9TSVpFLCAweDQwMCk7CisJCWdwdV93cml0ZShncHUsIFJFR19BNVhYX0NQX1JP
UV9USFJFU0hPTERTXzIsIDB4ODAwMDAwNjApOworCQlncHVfd3JpdGUoZ3B1LCBSRUdfQTVYWF9D
UF9ST1FfVEhSRVNIT0xEU18xLCAweDQwMjAxQjE2KTsKKwkJZ3B1X3dyaXRlKGdwdSwgUkVHX0E1
WFhfUENfREJHX0VDT19DTlRMLAorCQkJICAoMHg0MDAgPDwgMTEgfCAweDMwMCA8PCAyMikpOwor
CX0KIAogCWlmIChhZHJlbm9fZ3B1LT5pbmZvLT5xdWlya3MgJiBBRFJFTk9fUVVJUktfVFdPX1BB
U1NfVVNFX1dGSSkKIAkJZ3B1X3JtdyhncHUsIFJFR19BNVhYX1BDX0RCR19FQ09fQ05UTCwgMCwg
KDEgPDwgOCkpOwpAQCAtNTg5LDYgKzYwMSwxOSBAQCBzdGF0aWMgaW50IGE1eHhfaHdfaW5pdChz
dHJ1Y3QgbXNtX2dwdSAqZ3B1KQogCS8qIEVuYWJsZSBNRS9QRlAgc3BsaXQgbm90aWZpY2F0aW9u
ICovCiAJZ3B1X3dyaXRlKGdwdSwgUkVHX0E1WFhfUkJCTV9BSEJfQ05UTDEsIDB4QTZGRkZGRkYp
OwogCisJLyoKKwkgKiAgSW4gQTV4LCBDQ1UgY2FuIHNlbmQgY29udGV4dF9kb25lIGV2ZW50IG9m
IGEgcGFydGljdWxhciBjb250ZXh0IHRvCisJICogIFVDSEUgd2hpY2ggdWx0aW1hdGVseSByZWFj
aGVzIENQIGV2ZW4gd2hlbiB0aGVyZSBpcyB2YWxpZAorCSAqICB0cmFuc2FjdGlvbiBvZiB0aGF0
IGNvbnRleHQgaW5zaWRlIENDVS4gVGhpcyBjYW4gbGV0IENQIHRvIHByb2dyYW0KKwkgKiAgY29u
ZmlnIHJlZ2lzdGVycywgd2hpY2ggd2lsbCBtYWtlIHRoZSAidmFsaWQgdHJhbnNhY3Rpb24iIGlu
c2lkZQorCSAqICBDQ1UgdG8gYmUgaW50ZXJwcmV0ZWQgZGlmZmVyZW50bHkuIFRoaXMgY2FuIGNh
dXNlIGdwdSBmYXVsdC4gVGhpcworCSAqICBidWcgaXMgZml4ZWQgaW4gbGF0ZXN0IEE1MTAgcmV2
aXNpb24uIFRvIGVuYWJsZSB0aGlzIGJ1ZyBmaXggLQorCSAqICBiaXRbMTFdIG9mIFJCX0RCR19F
Q09fQ05UTCBuZWVkIHRvIGJlIHNldCB0byAwLCBkZWZhdWx0IGlzIDEKKwkgKiAgKGRpc2FibGUp
LiBGb3Igb2xkZXIgQTUxMCB2ZXJzaW9uIHRoaXMgYml0IGlzIHVudXNlZC4KKwkgKi8KKwlpZiAo
YWRyZW5vX2lzX2E1MTAoYWRyZW5vX2dwdSkpCisJCWdwdV9ybXcoZ3B1LCBSRUdfQTVYWF9SQl9E
QkdfRUNPX0NOVEwsICgxIDw8IDExKSwgMCk7CisKIAkvKiBFbmFibGUgSFdDRyAqLwogCWE1eHhf
c2V0X2h3Y2coZ3B1LCB0cnVlKTsKIApAQCAtNjM1LDcgKzY2MCw3IEBAIHN0YXRpYyBpbnQgYTV4
eF9od19pbml0KHN0cnVjdCBtc21fZ3B1ICpncHUpCiAJLyogVUNIRSAqLwogCWdwdV93cml0ZShn
cHUsIFJFR19BNVhYX0NQX1BST1RFQ1QoMTYpLCBBRFJFTk9fUFJPVEVDVF9SVygweEU4MCwgMTYp
KTsKIAotCWlmIChhZHJlbm9faXNfYTUzMChhZHJlbm9fZ3B1KSkKKwlpZiAoYWRyZW5vX2lzX2E1
MzAoYWRyZW5vX2dwdSkgfHwgYWRyZW5vX2lzX2E1MTAoYWRyZW5vX2dwdSkpCiAJCWdwdV93cml0
ZShncHUsIFJFR19BNVhYX0NQX1BST1RFQ1QoMTcpLAogCQkJQURSRU5PX1BST1RFQ1RfUlcoMHgx
MDAwMCwgMHg4MDAwKSk7CiAKQEAgLTY3OSw3ICs3MDQsOCBAQCBzdGF0aWMgaW50IGE1eHhfaHdf
aW5pdChzdHJ1Y3QgbXNtX2dwdSAqZ3B1KQogCiAJYTV4eF9wcmVlbXB0X2h3X2luaXQoZ3B1KTsK
IAotCWE1eHhfZ3BtdV91Y29kZV9pbml0KGdwdSk7CisJaWYgKCFhZHJlbm9faXNfYTUxMChhZHJl
bm9fZ3B1KSkKKwkJYTV4eF9ncG11X3Vjb2RlX2luaXQoZ3B1KTsKIAogCXJldCA9IGE1eHhfdWNv
ZGVfaW5pdChncHUpOwogCWlmIChyZXQpCkBAIC03MTIsNyArNzM4LDggQEAgc3RhdGljIGludCBh
NXh4X2h3X2luaXQoc3RydWN0IG1zbV9ncHUgKmdwdSkKIAl9CiAKIAkvKgotCSAqIFRyeSB0byBs
b2FkIGEgemFwIHNoYWRlciBpbnRvIHRoZSBzZWN1cmUgd29ybGQuIElmIHN1Y2Nlc3NmdWwKKwkg
KiBJZiB0aGUgY2hpcCB0aGF0IHdlIGFyZSB1c2luZyBkb2VzIHN1cHBvcnQgbG9hZGluZyBvbmUs
IHRoZW4KKwkgKiB0cnkgdG8gbG9hZCBhIHphcCBzaGFkZXIgaW50byB0aGUgc2VjdXJlIHdvcmxk
LiBJZiBzdWNjZXNzZnVsCiAJICogd2UgY2FuIHVzZSB0aGUgQ1AgdG8gc3dpdGNoIG91dCBvZiBz
ZWN1cmUgbW9kZS4gSWYgbm90IHRoZW4gd2UKIAkgKiBoYXZlIG5vIHJlc291cmNlIGJ1dCB0byB0
cnkgdG8gc3dpdGNoIG91cnNlbHZlcyBvdXQgbWFudWFsbHkuIElmIHdlCiAJICogZ3Vlc3NlZCB3
cm9uZyB0aGVuIGFjY2VzcyB0byB0aGUgUkJCTV9TRUNWSURfVFJVU1RfQ05UTCByZWdpc3RlciB3
aWxsCkBAIC0xMDY2LDYgKzEwOTMsNyBAQCBzdGF0aWMgdm9pZCBhNXh4X2R1bXAoc3RydWN0IG1z
bV9ncHUgKmdwdSkKIAogc3RhdGljIGludCBhNXh4X3BtX3Jlc3VtZShzdHJ1Y3QgbXNtX2dwdSAq
Z3B1KQogeworCXN0cnVjdCBhZHJlbm9fZ3B1ICphZHJlbm9fZ3B1ID0gdG9fYWRyZW5vX2dwdShn
cHUpOwogCWludCByZXQ7CiAKIAkvKiBUdXJuIG9uIHRoZSBjb3JlIHBvd2VyICovCkBAIC0xMDcz
LDYgKzExMDEsMTUgQEAgc3RhdGljIGludCBhNXh4X3BtX3Jlc3VtZShzdHJ1Y3QgbXNtX2dwdSAq
Z3B1KQogCWlmIChyZXQpCiAJCXJldHVybiByZXQ7CiAKKwlpZiAoYWRyZW5vX2lzX2E1MTAoYWRy
ZW5vX2dwdSkpIHsKKwkJLyogSGFsdCB0aGUgc3BfaW5wdXRfY2xrIGF0IEhNIGxldmVsICovCisJ
CWdwdV93cml0ZShncHUsIFJFR19BNVhYX1JCQk1fQ0xPQ0tfQ05UTCwgMHgwMDAwMDA1NSk7CisJ
CWE1eHhfc2V0X2h3Y2coZ3B1LCB0cnVlKTsKKwkJLyogVHVybiBvbiBzcF9pbnB1dF9jbGsgYXQg
SE0gbGV2ZWwgKi8KKwkJZ3B1X3JtdyhncHUsIFJFR19BNVhYX1JCQk1fQ0xPQ0tfQ05UTCwgMHhm
ZiwgMCk7CisJCXJldHVybiAwOworCX0KKwogCS8qIFR1cm4gdGhlIFJCQ0NVIGRvbWFpbiBmaXJz
dCB0byBsaW1pdCB0aGUgY2hhbmNlcyBvZiB2b2x0YWdlIGRyb29wICovCiAJZ3B1X3dyaXRlKGdw
dSwgUkVHX0E1WFhfR1BNVV9SQkNDVV9QT1dFUl9DTlRMLCAweDc3ODAwMCk7CiAKQEAgLTExMDEs
OSArMTEzOCwxNyBAQCBzdGF0aWMgaW50IGE1eHhfcG1fcmVzdW1lKHN0cnVjdCBtc21fZ3B1ICpn
cHUpCiAKIHN0YXRpYyBpbnQgYTV4eF9wbV9zdXNwZW5kKHN0cnVjdCBtc21fZ3B1ICpncHUpCiB7
CisJc3RydWN0IGFkcmVub19ncHUgKmFkcmVub19ncHUgPSB0b19hZHJlbm9fZ3B1KGdwdSk7CisJ
dTMyIG1hc2sgPSAweGY7CisKKwkvKiBBNTEwIGhhcyAzIFhJTiBwb3J0cyBpbiBWQklGICovCisJ
aWYgKGFkcmVub19pc19hNTEwKGFkcmVub19ncHUpKQorCQltYXNrID0gMHg3OworCiAJLyogQ2xl
YXIgdGhlIFZCSUYgcGlwZSBiZWZvcmUgc2h1dHRpbmcgZG93biAqLwotCWdwdV93cml0ZShncHUs
IFJFR19BNVhYX1ZCSUZfWElOX0hBTFRfQ1RSTDAsIDB4Rik7Ci0Jc3Bpbl91bnRpbCgoZ3B1X3Jl
YWQoZ3B1LCBSRUdfQTVYWF9WQklGX1hJTl9IQUxUX0NUUkwxKSAmIDB4RikgPT0gMHhGKTsKKwln
cHVfd3JpdGUoZ3B1LCBSRUdfQTVYWF9WQklGX1hJTl9IQUxUX0NUUkwwLCBtYXNrKTsKKwlzcGlu
X3VudGlsKChncHVfcmVhZChncHUsIFJFR19BNVhYX1ZCSUZfWElOX0hBTFRfQ1RSTDEpICYKKwkJ
CQltYXNrKSA9PSBtYXNrKTsKIAogCWdwdV93cml0ZShncHUsIFJFR19BNVhYX1ZCSUZfWElOX0hB
TFRfQ1RSTDAsIDApOwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9h
NXh4X3Bvd2VyLmMgYi9kcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hNXh4X3Bvd2VyLmMKaW5k
ZXggYTNhMDZkYjY3NWJhLi4zMjFhODA2MWZkMzIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9tc20vYWRyZW5vL2E1eHhfcG93ZXIuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVu
by9hNXh4X3Bvd2VyLmMKQEAgLTI5Nyw2ICsyOTcsMTAgQEAgaW50IGE1eHhfcG93ZXJfaW5pdChz
dHJ1Y3QgbXNtX2dwdSAqZ3B1KQogCXN0cnVjdCBhZHJlbm9fZ3B1ICphZHJlbm9fZ3B1ID0gdG9f
YWRyZW5vX2dwdShncHUpOwogCWludCByZXQ7CiAKKwkvKiBOb3QgYWxsIEE1eHggY2hpcHMgaGF2
ZSBhIEdQTVUgKi8KKwlpZiAoYWRyZW5vX2lzX2E1MTAoYWRyZW5vX2dwdSkpCisJCXJldHVybiAw
OworCiAJLyogU2V0IHVwIHRoZSBsaW1pdHMgbWFuYWdlbWVudCAqLwogCWlmIChhZHJlbm9faXNf
YTUzMChhZHJlbm9fZ3B1KSkKIAkJYTUzMF9sbV9zZXR1cChncHUpOwpAQCAtMzI2LDYgKzMzMCw5
IEBAIHZvaWQgYTV4eF9ncG11X3Vjb2RlX2luaXQoc3RydWN0IG1zbV9ncHUgKmdwdSkKIAl1bnNp
Z25lZCBpbnQgKmRhdGEsICpwdHIsICpjbWRzOwogCXVuc2lnbmVkIGludCBjbWRzX3NpemU7CiAK
KwlpZiAoYWRyZW5vX2lzX2E1MTAoYWRyZW5vX2dwdSkpCisJCXJldHVybjsKKwogCWlmIChhNXh4
X2dwdS0+Z3BtdV9ibykKIAkJcmV0dXJuOwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
bXNtL2FkcmVuby9hZHJlbm9fZGV2aWNlLmMgYi9kcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9h
ZHJlbm9fZGV2aWNlLmMKaW5kZXggMDg4OGUwZGY2NjBkLi5mYmJkZjg2NTA0ZjUgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2FkcmVub19kZXZpY2UuYworKysgYi9kcml2
ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hZHJlbm9fZGV2aWNlLmMKQEAgLTExNCw2ICsxMTQsMjEg
QEAgc3RhdGljIGNvbnN0IHN0cnVjdCBhZHJlbm9faW5mbyBncHVsaXN0W10gPSB7CiAJCS5nbWVt
ICA9IChTWl8xTSArIFNaXzUxMkspLAogCQkuaW5hY3RpdmVfcGVyaW9kID0gRFJNX01TTV9JTkFD
VElWRV9QRVJJT0QsCiAJCS5pbml0ICA9IGE0eHhfZ3B1X2luaXQsCisJfSwgeworCQkucmV2ICAg
PSBBRFJFTk9fUkVWKDUsIDEsIDAsIEFOWV9JRCksCisJCS5yZXZuID0gNTEwLAorCQkubmFtZSA9
ICJBNTEwIiwKKwkJLmZ3ID0geworCQkJW0FEUkVOT19GV19QTTRdID0gImE1MzBfcG00LmZ3IiwK
KwkJCVtBRFJFTk9fRldfUEZQXSA9ICJhNTMwX3BmcC5mdyIsCisJCX0sCisJCS5nbWVtID0gU1pf
MjU2SywKKwkJLyoKKwkJICogSW5jcmVhc2UgaW5hY3RpdmUgcGVyaW9kIHRvIDI1MCB0byBhdm9p
ZCBib3VuY2luZworCQkgKiB0aGUgR0RTQyB3aGljaCBhcHBlYXJzIHRvIG1ha2UgaXQgZ3J1bXB5
CisJCSAqLworCQkuaW5hY3RpdmVfcGVyaW9kID0gMjUwLAorCQkuaW5pdCA9IGE1eHhfZ3B1X2lu
aXQsCiAJfSwgewogCQkucmV2ID0gQURSRU5PX1JFVig1LCAzLCAwLCAyKSwKIAkJLnJldm4gPSA1
MzAsCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hZHJlbm9fZ3B1Lmgg
Yi9kcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hZHJlbm9fZ3B1LmgKaW5kZXggZDIyNWE4YTky
ZTU4Li5lNzFhNzU3MGVmNzIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5v
L2FkcmVub19ncHUuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hZHJlbm9fZ3B1
LmgKQEAgLTIxMiw2ICsyMTIsMTEgQEAgc3RhdGljIGlubGluZSBpbnQgYWRyZW5vX2lzX2E0MzAo
c3RydWN0IGFkcmVub19ncHUgKmdwdSkKICAgICAgICByZXR1cm4gZ3B1LT5yZXZuID09IDQzMDsK
IH0KIAorc3RhdGljIGlubGluZSBpbnQgYWRyZW5vX2lzX2E1MTAoc3RydWN0IGFkcmVub19ncHUg
KmdwdSkKK3sKKwlyZXR1cm4gZ3B1LT5yZXZuID09IDUxMDsKK30KKwogc3RhdGljIGlubGluZSBp
bnQgYWRyZW5vX2lzX2E1MzAoc3RydWN0IGFkcmVub19ncHUgKmdwdSkKIHsKIAlyZXR1cm4gZ3B1
LT5yZXZuID09IDUzMDsKLS0gCjIuMjEuMAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlz
dGluZm8vZHJpLWRldmVs
