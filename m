Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 1879D1ADA7F
	for <lists+dri-devel@lfdr.de>; Fri, 17 Apr 2020 11:55:16 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 389656E438;
	Fri, 17 Apr 2020 09:55:12 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from bhuna.collabora.co.uk (bhuna.collabora.co.uk [46.235.227.227])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0197F6E42A
 for <dri-devel@lists.freedesktop.org>; Fri, 17 Apr 2020 09:55:10 +0000 (UTC)
Received: from [127.0.0.1] (localhost [127.0.0.1])
 (Authenticated sender: aratiu) with ESMTPSA id D53602A056E
From: Adrian Ratiu <adrian.ratiu@collabora.com>
To: Laurent Pinchart <laurent.pinchart@ideasonboard.com>, Enric Balletbo
 Serra <eballetbo@gmail.com>
Subject: Re: [PATCH v6 4/8] drm: imx: Add i.MX 6 MIPI DSI host platform driver
In-Reply-To: <20200415173018.GK4758@pendragon.ideasonboard.com>
References: <20200414151955.311949-1-adrian.ratiu@collabora.com>
 <20200414151955.311949-5-adrian.ratiu@collabora.com>
 <CAFqH_51ZZTd6iK+G1QdqfBedxyG-A=HwPjY1kdOuWTqd7niTHQ@mail.gmail.com>
 <20200415173018.GK4758@pendragon.ideasonboard.com>
Date: Fri, 17 Apr 2020 12:56:17 +0300
Message-ID: <87ftd2jv0e.fsf@collabora.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: "devicetree@vger.kernel.org" <devicetree@vger.kernel.org>,
 Jernej Skrabec <jernej.skrabec@siol.net>, Adrian Pop <pop.adrian61@gmail.com>,
 Jonas Karlman <jonas@kwiboo.se>, Martyn Welch <martyn.welch@collabora.com>,
 Sjoerd Simons <sjoerd.simons@collabora.com>,
 linux-kernel <linux-kernel@vger.kernel.org>,
 dri-devel <dri-devel@lists.freedesktop.org>,
 Andrzej Hajda <a.hajda@samsung.com>, "open
 list:ARM/Rockchip SoC..." <linux-rockchip@lists.infradead.org>,
 linux-imx@nxp.com, Arnaud Ferraris <arnaud.ferraris@collabora.com>,
 Collabora Kernel ML <kernel@collabora.com>,
 linux-stm32@st-md-mailman.stormreply.com,
 Linux ARM <linux-arm-kernel@lists.infradead.org>,
 Emil Velikov <emil.velikov@collabora.com>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgRW5yaWMgJiBMYXVyZW50LAoKT24gV2VkLCAxNSBBcHIgMjAyMCwgTGF1cmVudCBQaW5jaGFy
dCAKPGxhdXJlbnQucGluY2hhcnRAaWRlYXNvbmJvYXJkLmNvbT4gd3JvdGU6Cj4gSGkgRW5yaWMs
IAo+IAo+IE9uIFdlZCwgQXByIDE1LCAyMDIwIGF0IDA3OjI2OjAyUE0gKzAyMDAsIEVucmljIEJh
bGxldGJvIFNlcnJhIAo+IHdyb3RlOiAKPj4gTWlzc2F0Z2UgZGUgQWRyaWFuIFJhdGl1IDxhZHJp
YW4ucmF0aXVAY29sbGFib3JhLmNvbT4gZGVsIGRpYSAKPj4gZHQuLCAxNCBk4oCZYWJyLiAyMDIw
IGEgbGVzIDE3OjE5OiAKPj4gPiAKPj4gPiBUaGlzIGFkZHMgc3VwcG9ydCBmb3IgdGhlIFN5bm9w
c2lzIERlc2lnbldhcmUgTUlQSSBEU0kgdjEuMDEgCj4+ID4gaG9zdCBjb250cm9sbGVyIHdoaWNo
IGlzIGVtYmVkZGVkIGluIGkuTVggNiBTb0NzLiAKPj4gPiAKPj4gPiBCYXNlZCBvbiBmb2xsb3dp
bmcgcGF0Y2hlcywgYnV0IHVwZGF0ZWQvZXh0ZW5kZWQgdG8gd29yayB3aXRoIAo+PiA+IGV4aXN0
aW5nIHN1cHBvcnQgZm91bmQgaW4gdGhlIGtlcm5lbDogCj4+ID4gCj4+ID4gLSBkcm06IGlteDog
U3VwcG9ydCBTeW5vcHN5cyBEZXNpZ25XYXJlIE1JUEkgRFNJIGhvc3QgCj4+ID4gY29udHJvbGxl
ciAKPj4gPiAgIFNpZ25lZC1vZmYtYnk6IExpdSBZaW5nIDxZaW5nLkxpdUBmcmVlc2NhbGUuY29t
PiAKPj4gPiAKPj4gPiBDYzogRmFiaW8gRXN0ZXZhbSA8ZmVzdGV2YW1AZ21haWwuY29tPiBSZXZp
ZXdlZC1ieTogRW1pbCAKPj4gPiBWZWxpa292IDxlbWlsLnZlbGlrb3ZAY29sbGFib3JhLmNvbT4g
VGVzdGVkLWJ5OiBBZHJpYW4gUG9wIAo+PiA+IDxwb3AuYWRyaWFuNjFAZ21haWwuY29tPiBUZXN0
ZWQtYnk6IEFybmF1ZCBGZXJyYXJpcyAKPj4gPiA8YXJuYXVkLmZlcnJhcmlzQGNvbGxhYm9yYS5j
b20+IFNpZ25lZC1vZmYtYnk6IFNqb2VyZCBTaW1vbnMgCj4+ID4gPHNqb2VyZC5zaW1vbnNAY29s
bGFib3JhLmNvbT4gU2lnbmVkLW9mZi1ieTogTWFydHluIFdlbGNoIAo+PiA+IDxtYXJ0eW4ud2Vs
Y2hAY29sbGFib3JhLmNvbT4gU2lnbmVkLW9mZi1ieTogQWRyaWFuIFJhdGl1IAo+PiA+IDxhZHJp
YW4ucmF0aXVAY29sbGFib3JhLmNvbT4gLS0tIENoYW5nZXMgc2luY2UgdjU6IAo+PiA+ICAgLSBS
ZXdvcmQgdG8gcmVtb3ZlIHVucmVsYXRlZCBkZXZpY2UgdHJlZSBwYXRjaCBtZW50aW9uIAo+PiA+
ICAgKEZhYmlvKSAtIE1vdmUgcGxscmVmX2NsayBlbmFibGUvZGlzYWJsZSB0byBiaW5kL3VuYmlu
ZCAKPj4gPiAgIChFemVxdWllbCkgLSBGaXggZnJlZXNjYWxlLmNvbSAtPiBueHAuY29tIGVtYWls
IGFkZHJlc3NlcyAKPj4gPiAgIChGYWJpbykgLSBBbHNvIGFkZGVkIG15c2VsZiBhcyBtb2R1bGUg
YXV0aG9yIChGYWJpbykgLSBVc2UgCj4+ID4gICBEUk1fREVWXyogbWFjcm9zIGZvciBjb25zaXN0
ZW5jeSwgcHJpbnQgbW9yZSBlcnJvciBtc2cgCj4+ID4gCj4+ID4gQ2hhbmdlcyBzaW5jZSB2NDog
Cj4+ID4gICAtIFNwbGl0IG9mZiBkcml2ZXItc3BlY2lmaWMgY29uZmlndXJhdGlvbiBvZiBwaHkg
dGltaW5ncyAKPj4gPiAgIGR1ZSB0byBuZXcgdXBzdHJlYW0gQVBJLiAgLSBNb3ZlIHJlZ21hcCBp
bmZyYXN0cnVjdHVyZSAKPj4gPiAgIGxvZ2ljIHRvIHNlcGFyYXRlIGNvbW1pdCAoRXplcXVpZWwp
IC0gTW92ZSBkc2kgdjEuMDEgbGF5b3V0IAo+PiA+ICAgYWRkaXRpb24gdG8gYSBzZXBhcmF0ZSBj
b21taXQgKEV6ZXF1aWVsKSAtIE1pbm9yIHdhcm5pbmdzIAo+PiA+ICAgYW5kIGRyaXZlciBuYW1l
IGZpeGVzIAo+PiA+IAo+PiA+IENoYW5nZXMgc2luY2UgdjM6IAo+PiA+ICAgLSBSZW5hbWVkIHBs
YXRmb3JtIGRyaXZlciB0byByZWZsZWN0IGl0J3MgaS5NWDYgCj4+ID4gICBvbmx5LiAoRmFiaW8p
IAo+PiA+IAo+PiA+IENoYW5nZXMgc2luY2UgdjI6IAo+PiA+ICAgLSBGaXhlZCBjb21taXQgdGFn
cy4gKEVtaWwpIAo+PiA+IAo+PiA+IENoYW5nZXMgc2luY2UgdjE6IAo+PiA+ICAgLSBNb3ZlZCBy
ZWdpc3RlciBkZWZpbml0aW9ucyAmIHJlZ21hcCBpbml0aWFsaXphdGlvbiBpbnRvIAo+PiA+ICAg
YnJpZGdlIG1vZHVsZS4gUGxhdGZvcm0gZHJpdmVycyBnZXQgdGhlIHJlZ21hcCB2aWEgCj4+ID4g
ICBwbGF0X2RhdGEgYWZ0ZXIgY2FsbGluZyB0aGUgYnJpZGdlIHByb2JlLiAoRW1pbCkgCj4+ID4g
LS0tIAo+PiA+ICBkcml2ZXJzL2dwdS9kcm0vaW14L0tjb25maWcgICAgICAgICAgICB8ICAgNyAr
IAo+PiA+ICBkcml2ZXJzL2dwdS9kcm0vaW14L01ha2VmaWxlICAgICAgICAgICB8ICAgMSArIAo+
PiA+ICBkcml2ZXJzL2dwdS9kcm0vaW14L2R3X21pcGlfZHNpLWlteDYuYyB8IDQwOSAKPj4gPiAg
KysrKysrKysrKysrKysrKysrKysrKysrKyAzIGZpbGVzIGNoYW5nZWQsIDQxNyBpbnNlcnRpb25z
KCspIAo+PiA+ICBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL2lteC9kd19taXBp
X2RzaS1pbXg2LmMgCj4+ID4gCj4+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pbXgv
S2NvbmZpZyAKPj4gPiBiL2RyaXZlcnMvZ3B1L2RybS9pbXgvS2NvbmZpZyBpbmRleCAKPj4gPiAy
MDdiZjc0MDlkZmIuLmI0OWU3MGU3ZjBmZCAxMDA2NDQgLS0tIAo+PiA+IGEvZHJpdmVycy9ncHUv
ZHJtL2lteC9LY29uZmlnICsrKyAKPj4gPiBiL2RyaXZlcnMvZ3B1L2RybS9pbXgvS2NvbmZpZyBA
QCAtMzksMyArMzksMTAgQEAgY29uZmlnIAo+PiA+IERSTV9JTVhfSERNSSAKPj4gPiAgICAgICAg
IGRlcGVuZHMgb24gRFJNX0lNWCBoZWxwIAo+PiA+ICAgICAgICAgICBDaG9vc2UgdGhpcyBpZiB5
b3Ugd2FudCB0byB1c2UgSERNSSBvbiBpLk1YNi4gCj4+ID4gKyArY29uZmlnIERSTV9JTVg2X01J
UElfRFNJICsgICAgICAgdHJpc3RhdGUgIkZyZWVzY2FsZSBpLk1YNiAKPj4gPiBEUk0gTUlQSSBE
U0kiICsgICAgICAgc2VsZWN0IERSTV9EV19NSVBJX0RTSSArICAgICAgIGRlcGVuZHMgCj4+ID4g
b24gRFJNX0lNWCAKPj4gIFNob3VsZCBpdCBkZXBlbmQgb24gQ09ORklHX09GIHRvbz8gSSBzdXNw
ZWN0IHlvdSdsbCBnZXQgYnVpbGQgCj4+IGVycm9ycyBpZiBPRiBpcyBub3Qgc2VsZWN0ZWQgIAo+
PiA+ICsgICAgICAgaGVscCArICAgICAgICAgQ2hvb3NlIHRoaXMgaWYgeW91IHdhbnQgdG8gdXNl
IE1JUEkgCj4+ID4gRFNJIG9uIGkuTVg2LiAgZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9p
bXgvTWFrZWZpbGUgCj4+ID4gYi9kcml2ZXJzL2dwdS9kcm0vaW14L01ha2VmaWxlIGluZGV4IAo+
PiA+IDIxY2RjYzJmYWFiYy4uOWE3ODQzYzU5MzQ3IDEwMDY0NCAtLS0gCj4+ID4gYS9kcml2ZXJz
L2dwdS9kcm0vaW14L01ha2VmaWxlICsrKyAKPj4gPiBiL2RyaXZlcnMvZ3B1L2RybS9pbXgvTWFr
ZWZpbGUgQEAgLTksMyArOSw0IEBAIAo+PiA+IG9iai0kKENPTkZJR19EUk1fSU1YX1RWRSkgKz0g
aW14LXR2ZS5vIAo+PiA+ICBvYmotJChDT05GSUdfRFJNX0lNWF9MREIpICs9IGlteC1sZGIubyAK
Pj4gPiAKPj4gPiAgb2JqLSQoQ09ORklHX0RSTV9JTVhfSERNSSkgKz0gZHdfaGRtaS1pbXgubyAK
Pj4gPiArb2JqLSQoQ09ORklHX0RSTV9JTVg2X01JUElfRFNJKSArPSBkd19taXBpX2RzaS1pbXg2
Lm8gZGlmZiAKPj4gPiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pbXgvZHdfbWlwaV9kc2ktaW14
Ni5jIAo+PiA+IGIvZHJpdmVycy9ncHUvZHJtL2lteC9kd19taXBpX2RzaS1pbXg2LmMgbmV3IGZp
bGUgbW9kZSAxMDA2NDQgCj4+ID4gaW5kZXggMDAwMDAwMDAwMDAwLi42OTE0ZGI4Y2U4Y2IgLS0t
IC9kZXYvbnVsbCArKysgCj4+ID4gYi9kcml2ZXJzL2dwdS9kcm0vaW14L2R3X21pcGlfZHNpLWlt
eDYuYyBAQCAtMCwwICsxLDQwOSBAQCAKPj4gPiArLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6
IEdQTC0yLjArICsvKiArICogaS5NWDYgZHJtIAo+PiA+IGRyaXZlciAtIE1JUEkgRFNJIEhvc3Qg
Q29udHJvbGxlciArICogKyAqIENvcHlyaWdodCAoQykgCj4+ID4gMjAxMS0yMDE1IEZyZWVzY2Fs
ZSBTZW1pY29uZHVjdG9yLCBJbmMuICArICogQ29weXJpZ2h0IChDKSAKPj4gPiAyMDE5LTIwMjAg
Q29sbGFib3JhLCBMdGQuICArICovICsgKyNpbmNsdWRlIDxsaW51eC9jbGsuaD4gCj4+ID4gKyNp
bmNsdWRlIDxsaW51eC9jb21wb25lbnQuaD4gKyNpbmNsdWRlIDxsaW51eC9tZmQvc3lzY29uLmg+
IAo+PiA+ICsjaW5jbHVkZSA8bGludXgvbWZkL3N5c2Nvbi9pbXg2cS1pb211eGMtZ3ByLmg+ICsj
aW5jbHVkZSAKPj4gPiA8bGludXgvbW9kdWxlLmg+ICsjaW5jbHVkZSA8bGludXgvb2ZfZGV2aWNl
Lmg+ICsjaW5jbHVkZSAKPj4gPiA8bGludXgvcmVnbWFwLmg+ICsjaW5jbHVkZSA8bGludXgvdmlk
ZW9kZXYyLmg+ICsjaW5jbHVkZSAKPj4gPiA8ZHJtL2JyaWRnZS9kd19taXBpX2RzaS5oPiArI2lu
Y2x1ZGUgPGRybS9kcm1fY3J0Y19oZWxwZXIuaD4gCj4+ID4gKyNpbmNsdWRlIDxkcm0vZHJtX21p
cGlfZHNpLmg+ICsjaW5jbHVkZSA8ZHJtL2RybV9vZi5oPiAKPj4gPiArI2luY2x1ZGUgPGRybS9k
cm1fcHJpbnQuaD4gKyArI2luY2x1ZGUgImlteC1kcm0uaCIgKyAKPj4gPiArI2RlZmluZSBEU0lf
UFdSX1VQICAgICAgICAgICAgICAgICAgICAgMHgwNCArI2RlZmluZSBSRVNFVCAKPj4gPiAwICsj
ZGVmaW5lIFBPV0VSVVAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJJVCgwKSArIAo+
PiA+ICsjZGVmaW5lIERTSV9QSFlfSUZfQ1RSTCAgICAgICAgICAgICAgICAgICAgICAgIDB4NWMg
KyNkZWZpbmUgCj4+ID4gUEhZX0lGX0NUUkxfUkVTRVQgICAgICAgICAgICAgIDB4MCArICsjZGVm
aW5lIAo+PiA+IERTSV9QSFlfVFNUX0NUUkwwICAgICAgICAgICAgICAweDY0ICsjZGVmaW5lIFBI
WV9URVNUQ0xLIAo+PiA+IEJJVCgxKSArI2RlZmluZSBQSFlfVU5URVNUQ0xLICAgICAgICAgICAg
ICAgICAgMCArI2RlZmluZSAKPj4gPiBQSFlfVEVTVENMUiAgICAgICAgICAgICAgICAgICAgQklU
KDApICsjZGVmaW5lIFBIWV9VTlRFU1RDTFIgCj4+ID4gMCArICsjZGVmaW5lIERTSV9QSFlfVFNU
X0NUUkwxICAgICAgICAgICAgICAweDY4ICsjZGVmaW5lIAo+PiA+IFBIWV9URVNURU4gICAgICAg
ICAgICAgICAgICAgICBCSVQoMTYpICsjZGVmaW5lIFBIWV9VTlRFU1RFTiAKPj4gPiAwICsjZGVm
aW5lIFBIWV9URVNURE9VVChuKSAgICAgICAgICAgICAgICAgICAgICAgICgoKG4pICYgCj4+ID4g
MHhmZikgPDwgOCkgKyNkZWZpbmUgUEhZX1RFU1RESU4obikgICAgICAgICAgICAgICAgICgoKG4p
ICYgCj4+ID4gMHhmZikgPDwgMCkgKyArc3RydWN0IGlteF9taXBpX2RzaSB7ICsgICAgICAgc3Ry
dWN0IAo+PiA+IGRybV9lbmNvZGVyIGVuY29kZXI7ICsgICAgICAgc3RydWN0IGRldmljZSAqZGV2
OyArIAo+PiA+IHN0cnVjdCByZWdtYXAgKm11eF9zZWw7ICsgICAgICAgc3RydWN0IGR3X21pcGlf
ZHNpICptaXBpX2RzaTsgCj4+ID4gKyAgICAgICBzdHJ1Y3QgY2xrICpwbGxyZWZfY2xrOyArICsg
ICAgICAgdm9pZCBfX2lvbWVtICpiYXNlOyAKPj4gPiArICAgICAgIHVuc2lnbmVkIGludCBsYW5l
X21icHM7ICt9OyArICtzdHJ1Y3QgCj4+ID4gZHBoeV9wbGxfdGVzdGRpbl9tYXAgeyArICAgICAg
IHVuc2lnbmVkIGludCBtYXhfbWJwczsgKyAKPj4gPiB1OCB0ZXN0ZGluOyArfTsgKyArLyogVGhl
IHRhYmxlIGlzIGJhc2VkIG9uIDI3TUh6IERQSFkgcGxsIAo+PiA+IHJlZmVyZW5jZSBjbG9jay4g
Ki8gK3N0YXRpYyBjb25zdCBzdHJ1Y3QgZHBoeV9wbGxfdGVzdGRpbl9tYXAgCj4+ID4gZHB0ZGlu
X21hcFtdID0geyArICAgICAgIHsxNjAsIDB4MDR9LCB7MTgwLCAweDI0fSwgezIwMCwgCj4+ID4g
MHg0NH0sIHsyMTAsIDB4MDZ9LCArICAgICAgIHsyNDAsIDB4MjZ9LCB7MjUwLCAweDQ2fSwgezI3
MCwgCj4+ID4gMHgwOH0sIHszMDAsIDB4Mjh9LCArICAgICAgIHszMzAsIDB4NDh9LCB7MzYwLCAw
eDJhfSwgezQwMCwgCj4+ID4gMHg0YX0sIHs0NTAsIDB4MGN9LCArICAgICAgIHs1MDAsIDB4MmN9
LCB7NTUwLCAweDBlfSwgezYwMCwgCj4+ID4gMHgyZX0sIHs2NTAsIDB4MTB9LCArICAgICAgIHs3
MDAsIDB4MzB9LCB7NzUwLCAweDEyfSwgezgwMCwgCj4+ID4gMHgzMn0sIHs4NTAsIDB4MTR9LCAr
ICAgICAgIHs5MDAsIDB4MzR9LCB7OTUwLCAweDU0fSwgezEwMDAsIAo+PiA+IDB4NzR9ICt9OyAr
ICtzdGF0aWMgaW5saW5lIHN0cnVjdCBpbXhfbWlwaV9kc2kgCj4+ID4gKmVuY190b19kc2koc3Ry
dWN0IGRybV9lbmNvZGVyICplbmMpICt7ICsgICAgICAgcmV0dXJuIAo+PiA+IGNvbnRhaW5lcl9v
ZihlbmMsIHN0cnVjdCBpbXhfbWlwaV9kc2ksIGVuY29kZXIpOyArfSArICtzdGF0aWMgCj4+ID4g
dm9pZCBpbXhfbWlwaV9kc2lfc2V0X2lwdV9kaV9tdXgoc3RydWN0IGlteF9taXBpX2RzaSAqZHNp
LCAKPj4gPiBpbnQgaXB1X2RpKSAreyArICAgICAgIHJlZ21hcF91cGRhdGVfYml0cyhkc2ktPm11
eF9zZWwsIAo+PiA+IElPTVVYQ19HUFIzLCArIAo+PiA+IElNWDZRX0dQUjNfTUlQSV9NVVhfQ1RM
X01BU0ssICsgCj4+ID4gaXB1X2RpIDw8IElNWDZRX0dQUjNfTUlQSV9NVVhfQ1RMX1NISUZUKTsg
K30gKyArc3RhdGljIGNvbnN0IAo+PiA+IHN0cnVjdCBkcm1fZW5jb2Rlcl9mdW5jcyBpbXhfbWlw
aV9kc2lfZW5jb2Rlcl9mdW5jcyA9IHsgKyAKPj4gPiAuZGVzdHJveSA9IGlteF9kcm1fZW5jb2Rl
cl9kZXN0cm95LCArfTsgKyArc3RhdGljIGJvb2wgCj4+ID4gaW14X21pcGlfZHNpX2VuY29kZXJf
bW9kZV9maXh1cChzdHJ1Y3QgZHJtX2VuY29kZXIgKmVuY29kZXIsIAo+PiA+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RydWN0IAo+PiA+IGRybV9k
aXNwbGF5X21vZGUgKm1vZGUsICsgCj4+ID4gc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKmFkal9t
b2RlKSAreyArICAgICAgIHJldHVybiB0cnVlOyArfSAKPj4gPiArICtzdGF0aWMgaW50IGlteF9t
aXBpX2RzaV9lbmNvZGVyX2F0b21pY19jaGVjayhzdHJ1Y3QgCj4+ID4gZHJtX2VuY29kZXIgKmVu
Y29kZXIsICsgCj4+ID4gc3RydWN0IGRybV9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLCArIAo+PiA+
IHN0cnVjdCBkcm1fY29ubmVjdG9yX3N0YXRlICpjb25uKSAreyArICAgICAgIHN0cnVjdCAKPj4g
PiBpbXhfY3J0Y19zdGF0ZSAqaW14X2NydGNfc3RhdGUgPSAKPj4gPiB0b19pbXhfY3J0Y19zdGF0
ZShjcnRjX3N0YXRlKTsgKyArICAgICAgIC8qIFRoZSBmb2xsb3dpbmcgCj4+ID4gdmFsdWVzIGFy
ZSB0YWtlbiBmcm9tIGR3X2hkbWlfaW14X2F0b21pY19jaGVjayAqLyArIAo+PiA+IGlteF9jcnRj
X3N0YXRlLT5idXNfZm9ybWF0ID0gTUVESUFfQlVTX0ZNVF9SR0I4ODhfMVgyNDsgKyAKPj4gPiBp
bXhfY3J0Y19zdGF0ZS0+ZGlfaHN5bmNfcGluID0gMjsgKyAKPj4gPiBpbXhfY3J0Y19zdGF0ZS0+
ZGlfdnN5bmNfcGluID0gMzsgKyArICAgICAgIHJldHVybiAwOyArfSArIAo+PiA+ICtzdGF0aWMg
dm9pZCBpbXhfbWlwaV9kc2lfZW5jb2Rlcl9jb21taXQoc3RydWN0IGRybV9lbmNvZGVyIAo+PiA+
ICplbmNvZGVyKSAreyArICAgICAgIHN0cnVjdCBpbXhfbWlwaV9kc2kgKmRzaSA9IAo+PiA+IGVu
Y190b19kc2koZW5jb2Rlcik7ICsgICAgICAgaW50IG11eCA9IAo+PiA+IGRybV9vZl9lbmNvZGVy
X2FjdGl2ZV9wb3J0X2lkKGRzaS0+ZGV2LT5vZl9ub2RlLCBlbmNvZGVyKTsgKyAKPj4gPiArICAg
ICAgIGlteF9taXBpX2RzaV9zZXRfaXB1X2RpX211eChkc2ksIG11eCk7ICt9ICsgK3N0YXRpYyAK
Pj4gPiB2b2lkIGlteF9taXBpX2RzaV9lbmNvZGVyX2Rpc2FibGUoc3RydWN0IGRybV9lbmNvZGVy
IAo+PiA+ICplbmNvZGVyKSAreyArfSArICtzdGF0aWMgY29uc3Qgc3RydWN0IAo+PiA+IGRybV9l
bmNvZGVyX2hlbHBlcl9mdW5jcyBpbXhfbWlwaV9kc2lfZW5jb2Rlcl9oZWxwZXJzID0geyAKPj4g
IEFGQUlLIChvciBhdCBsZWFzdCB0aGlzIGlzIHRoZSBmZWVkYmFjayBJIHJlY2VpdmVkKSAKPj4g
ZHJtX2VuY29kZXIgaXMga2luZCBvZiBkZXByZWNhdGVkLCBhbmQgbm93YWRheXMgYWxsIGlzIG1p
Z3JhdGVkIAo+PiB0byBkcm1fYnJpZGdlIChlbmNvZGVycywgYnJpZGdlcyBhbmQgcGFuZWxzKS4g
T2YgY291cnNlLCBhIAo+PiBkcm1fZW5jb2RlciBpcyBuZWVkZWQsIGFzIHRoZSBEUk0gY29yZSBl
eHBlY3RzIG9uZSwgYnV0IHNob3VsZCAKPj4ganVzdCBiZSBhIGR1bW15IG9iamVjdCB0aGF0IHlv
dSBjYW4gcHJvYmFibHkgY3JlYXRlIHdpdGgganVzdCAKPj4gY2FsbGluZyAgZHJtX3NpbXBsZV9l
bmNvZGVyX2luaXQoKS4gRFJNIG1haW50YWluZXJzLCBwbGVhc2UgCj4+IHNob3V0IGlmIEkgYW0g
d3JvbmcuIAo+IAo+IFRoYXQgY2VydGFpbmx5IG1hdGNoZXMgbXkgcG9zaXRpb24gOi0pIEkgd291
bGQgYWxzbyBhZGQgdGhhdCB0aGUgCj4gRFJNIGVuY29kZXIgc2hvdWxkIGJlIGNyZWF0ZWQgaW4g
aW14LWRybS1jb3JlLmMgb3IgaW4gCj4gaXB1djMtY3J0Yy5jLCBub3QgaGVyZS4gCj4KClllcywg
SSB3aWxsIGRvIHRoaXMgY2hhbmdlIGluIHY3IGVzcGVjaWFsbHkgYWxzbyBiZWNhdXNlIGEgbmV3
IApjb21taXQgNjJmYmRkZGEyZjcyICgiZHJtL2lteDogVXNlIHNpbXBsZSBlbmNvZGVyIikgbGFu
ZGVkIGluIAotbmV4dCAgcmVjZW50bHkgd2hpY2ggYnJva2UgdGhlIGN1cnJlbnQgaW14NiBpbXBs
ZW1lbnRhdGlvbiBieSAKcmVtb3ZpbmcgdGhlIGlteF9kcm1fZW5jb2Rlcl9kZXN0cm95KCkgZnJv
bSBpbXgtZHJtLWNvcmUuYy4KCj4+ID4gKyAgICAgICAubW9kZV9maXh1cCA9IGlteF9taXBpX2Rz
aV9lbmNvZGVyX21vZGVfZml4dXAsCj4+ID4gKyAgICAgICAuY29tbWl0ID0gaW14X21pcGlfZHNp
X2VuY29kZXJfY29tbWl0LAo+PiA+ICsgICAgICAgLmRpc2FibGUgPSBpbXhfbWlwaV9kc2lfZW5j
b2Rlcl9kaXNhYmxlLAo+PiA+ICsgICAgICAgLmF0b21pY19jaGVjayA9IGlteF9taXBpX2RzaV9l
bmNvZGVyX2F0b21pY19jaGVjaywKPj4gPiArfTsKPj4gPiArCj4+ID4gK3N0YXRpYyBpbnQgaW14
X21pcGlfZHNpX3JlZ2lzdGVyKHN0cnVjdCBkcm1fZGV2aWNlICpkcm0sCj4+ID4gKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGlteF9taXBpX2RzaSAqZHNpKQo+PiA+ICt7
Cj4+ID4gKyAgICAgICBpbnQgcmV0Owo+PiA+ICsKPj4gPiArICAgICAgIHJldCA9IGlteF9kcm1f
ZW5jb2Rlcl9wYXJzZV9vZihkcm0sICZkc2ktPmVuY29kZXIsIGRzaS0+ZGV2LT5vZl9ub2RlKTsK
Pj4gPiArICAgICAgIGlmIChyZXQpCj4+ID4gKyAgICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4+
ID4gKwo+PiA+ICsgICAgICAgZHJtX2VuY29kZXJfaGVscGVyX2FkZCgmZHNpLT5lbmNvZGVyLAo+
PiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmaW14X21pcGlfZHNpX2VuY29kZXJf
aGVscGVycyk7Cj4+ID4gKyAgICAgICBkcm1fZW5jb2Rlcl9pbml0KGRybSwgJmRzaS0+ZW5jb2Rl
ciwgJmlteF9taXBpX2RzaV9lbmNvZGVyX2Z1bmNzLAo+PiA+ICsgICAgICAgICAgICAgICAgICAg
ICAgICBEUk1fTU9ERV9FTkNPREVSX0RTSSwgTlVMTCk7Cj4+ID4gKyAgICAgICByZXR1cm4gMDsK
Pj4gPiArfQo+PiA+ICsKPj4gPiArc3RhdGljIGVudW0gZHJtX21vZGVfc3RhdHVzIGlteF9taXBp
X2RzaV9tb2RlX3ZhbGlkKHZvaWQgKnByaXZfZGF0YSwKPj4gPiArICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGUp
Cj4+ID4gK3sKPj4gPiArICAgICAgIC8qCj4+ID4gKyAgICAgICAgKiBUaGUgVklEX1BLVF9TSVpF
IGZpZWxkIGluIHRoZSBEU0lfVklEX1BLVF9DRkcKPj4gPiArICAgICAgICAqIHJlZ2lzdGVyIGlz
IDExLWJpdC4KPj4gPiArICAgICAgICAqLwo+PiA+ICsgICAgICAgaWYgKG1vZGUtPmhkaXNwbGF5
ID4gMHg3ZmYpCj4+ID4gKyAgICAgICAgICAgICAgIHJldHVybiBNT0RFX0JBRF9IVkFMVUU7Cj4+
ID4gKwo+PiA+ICsgICAgICAgLyoKPj4gPiArICAgICAgICAqIFRoZSBWX0FDVElWRV9MSU5FUyBm
aWVsZCBpbiB0aGUgRFNJX1ZUSU1JTkdfQ0ZHCj4+ID4gKyAgICAgICAgKiByZWdpc3RlciBpcyAx
MS1iaXQuCj4+ID4gKyAgICAgICAgKi8KPj4gPiArICAgICAgIGlmIChtb2RlLT52ZGlzcGxheSA+
IDB4N2ZmKQo+PiA+ICsgICAgICAgICAgICAgICByZXR1cm4gTU9ERV9CQURfVlZBTFVFOwo+PiA+
ICsKPj4gPiArICAgICAgIHJldHVybiBNT0RFX09LOwo+PiA+ICt9Cj4+ID4gKwo+PiA+ICsKPj4g
PiArc3RhdGljIHVuc2lnbmVkIGludCBtYXhfbWJwc190b190ZXN0ZGluKHVuc2lnbmVkIGludCBt
YXhfbWJwcykKPj4gPiArewo+PiA+ICsgICAgICAgdW5zaWduZWQgaW50IGk7Cj4+ID4gKwo+PiA+
ICsgICAgICAgZm9yIChpID0gMDsgaSA8IEFSUkFZX1NJWkUoZHB0ZGluX21hcCk7IGkrKykKPj4g
PiArICAgICAgICAgICAgICAgaWYgKGRwdGRpbl9tYXBbaV0ubWF4X21icHMgPT0gbWF4X21icHMp
Cj4+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRwdGRpbl9tYXBbaV0udGVzdGRp
bjsKPj4gPiArCj4+ID4gKyAgICAgICByZXR1cm4gLUVJTlZBTDsKPj4gPiArfQo+PiA+ICsKPj4g
PiArc3RhdGljIGlubGluZSB2b2lkIGRzaV93cml0ZShzdHJ1Y3QgaW14X21pcGlfZHNpICpkc2ks
IHUzMiByZWcsIHUzMiB2YWwpCj4+ID4gK3sKPj4gPiArICAgICAgIHdyaXRlbCh2YWwsIGRzaS0+
YmFzZSArIHJlZyk7Cj4+ID4gK30KPj4gPiArCj4+ID4gK3N0YXRpYyBpbnQgaW14X21pcGlfZHNp
X3BoeV9pbml0KHZvaWQgKnByaXZfZGF0YSkKPj4gPiArewo+PiA+ICsgICAgICAgc3RydWN0IGlt
eF9taXBpX2RzaSAqZHNpID0gcHJpdl9kYXRhOwo+PiA+ICsgICAgICAgaW50IHRlc3RkaW47Cj4+
ID4gKwo+PiA+ICsgICAgICAgdGVzdGRpbiA9IG1heF9tYnBzX3RvX3Rlc3RkaW4oZHNpLT5sYW5l
X21icHMpOwo+PiA+ICsgICAgICAgaWYgKHRlc3RkaW4gPCAwKSB7Cj4+ID4gKyAgICAgICAgICAg
ICAgIERSTV9ERVZfRVJST1IoZHNpLT5kZXYsCj4+ID4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgImZhaWxlZCB0byBnZXQgdGVzdGRpbiBmb3IgJWRtYnBzIGxhbmUgY2xvY2tcbiIsCj4+
ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHNpLT5sYW5lX21icHMpOwo+PiA+ICsg
ICAgICAgICAgICAgICByZXR1cm4gdGVzdGRpbjsKPj4gPiArICAgICAgIH0KPj4gPiArCj4+ID4g
KyAgICAgICBkc2lfd3JpdGUoZHNpLCBEU0lfUEhZX0lGX0NUUkwsIFBIWV9JRl9DVFJMX1JFU0VU
KTsKPj4gPiArICAgICAgIGRzaV93cml0ZShkc2ksIERTSV9QV1JfVVAsIFBPV0VSVVApOwo+PiA+
ICsKPj4gPiArICAgICAgIGRzaV93cml0ZShkc2ksIERTSV9QSFlfVFNUX0NUUkwwLCBQSFlfVU5U
RVNUQ0xLIHwgUEhZX1VOVEVTVENMUik7Cj4+ID4gKyAgICAgICBkc2lfd3JpdGUoZHNpLCBEU0lf
UEhZX1RTVF9DVFJMMSwgUEhZX1RFU1RFTiB8IFBIWV9URVNURE9VVCgwKSB8Cj4+ID4gKyAgICAg
ICAgICAgICAgICAgUEhZX1RFU1RESU4oMHg0NCkpOwo+PiA+ICsgICAgICAgZHNpX3dyaXRlKGRz
aSwgRFNJX1BIWV9UU1RfQ1RSTDAsIFBIWV9URVNUQ0xLIHwgUEhZX1VOVEVTVENMUik7Cj4+ID4g
KyAgICAgICBkc2lfd3JpdGUoZHNpLCBEU0lfUEhZX1RTVF9DVFJMMCwgUEhZX1VOVEVTVENMSyB8
IFBIWV9VTlRFU1RDTFIpOwo+PiA+ICsgICAgICAgZHNpX3dyaXRlKGRzaSwgRFNJX1BIWV9UU1Rf
Q1RSTDEsIFBIWV9VTlRFU1RFTiB8IFBIWV9URVNURE9VVCgwKSB8Cj4+ID4gKyAgICAgICAgICAg
ICAgICAgUEhZX1RFU1RESU4odGVzdGRpbikpOwo+PiA+ICsgICAgICAgZHNpX3dyaXRlKGRzaSwg
RFNJX1BIWV9UU1RfQ1RSTDAsIFBIWV9URVNUQ0xLIHwgUEhZX1VOVEVTVENMUik7Cj4+ID4gKyAg
ICAgICBkc2lfd3JpdGUoZHNpLCBEU0lfUEhZX1RTVF9DVFJMMCwgUEhZX1VOVEVTVENMSyB8IFBI
WV9VTlRFU1RDTFIpOwo+PiA+ICsKPj4gPiArICAgICAgIHJldHVybiAwOwo+PiA+ICt9Cj4+ID4g
Kwo+PiA+ICtzdGF0aWMgaW50IGlteF9taXBpX2RzaV9nZXRfbGFuZV9tYnBzKHZvaWQgKnByaXZf
ZGF0YSwKPj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0
cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlLAo+PiA+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgdW5zaWduZWQgbG9uZyBtb2RlX2ZsYWdzLCB1MzIgbGFuZXMsCj4+ID4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1MzIgZm9ybWF0LCB1bnNpZ25l
ZCBpbnQgKmxhbmVfbWJwcykKPj4gPiArewo+PiA+ICsgICAgICAgc3RydWN0IGlteF9taXBpX2Rz
aSAqZHNpID0gcHJpdl9kYXRhOwo+PiA+ICsgICAgICAgaW50IGJwcDsKPj4gPiArICAgICAgIHVu
c2lnbmVkIGludCBpLCB0YXJnZXRfbWJwcywgbXBjbGs7Cj4+ID4gKyAgICAgICB1bnNpZ25lZCBs
b25nIHBsbHJlZjsKPj4gPiArCj4+ID4gKyAgICAgICBicHAgPSBtaXBpX2RzaV9waXhlbF9mb3Jt
YXRfdG9fYnBwKGZvcm1hdCk7Cj4+ID4gKyAgICAgICBpZiAoYnBwIDwgMCkgewo+PiA+ICsgICAg
ICAgICAgICAgICBEUk1fREVWX0VSUk9SKGRzaS0+ZGV2LCAiZmFpbGVkIHRvIGdldCBicHAgZm9y
IGZvcm1hdCAlZDogJWRcbiIsCj4+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9y
bWF0LCBicHApOwo+PiA+ICsgICAgICAgICAgICAgICByZXR1cm4gYnBwOwo+PiA+ICsgICAgICAg
fQo+PiA+ICsKPj4gPiArICAgICAgIHBsbHJlZiA9IGNsa19nZXRfcmF0ZShkc2ktPnBsbHJlZl9j
bGspOwo+PiA+ICsgICAgICAgaWYgKHBsbHJlZiAhPSAyNzAwMDAwMCkKPj4gPiArICAgICAgICAg
ICAgICAgRFJNX1dBUk4oIkRTSSBwbGxyZWZfY2xrIG5vdCBzZXQgdG8gMjdNaHpcbiIpOwo+PiA+
ICsKPj4gPiArICAgICAgIG1wY2xrID0gRElWX1JPVU5EX1VQKG1vZGUtPmNsb2NrLCBNU0VDX1BF
Ul9TRUMpOwo+PiA+ICsgICAgICAgaWYgKG1wY2xrKSB7Cj4+ID4gKyAgICAgICAgICAgICAgIC8q
IHRha2UgMS8wLjcgYmxhbmtpbmcgb3ZlcmhlYWQgaW50byBjb25zaWRlcmF0aW9uICovCj4+ID4g
KyAgICAgICAgICAgICAgIHRhcmdldF9tYnBzID0gKG1wY2xrICogKGJwcCAvIGxhbmVzKSAqIDEw
KSAvIDc7Cj4+ID4gKyAgICAgICB9IGVsc2Ugewo+PiA+ICsgICAgICAgICAgICAgICBEUk1fREVW
X0VSUk9SKGRzaS0+ZGV2LCAidXNlIGRlZmF1bHQgMUdicHMgRFBIWSBwbGwgY2xvY2tcbiIpOwo+
PiA+ICsgICAgICAgICAgICAgICB0YXJnZXRfbWJwcyA9IDEwMDA7Cj4+ID4gKyAgICAgICB9Cj4+
ID4gKwo+PiA+ICsgICAgICAgRFJNX0RFVl9ERUJVRyhkc2ktPmRldiwgInRhcmdldCBwbGxyZWZf
Y2xrIGZyZXF1ZW5jeSBpcyAldU1icHNcbiIsCj4+ID4gKyAgICAgICAgICAgICAgICAgICAgIHRh
cmdldF9tYnBzKTsKPj4gPiArCj4+ID4gKyAgICAgICBmb3IgKGkgPSAwOyBpIDwgQVJSQVlfU0la
RShkcHRkaW5fbWFwKTsgaSsrKSB7Cj4+ID4gKyAgICAgICAgICAgICAgIGlmICh0YXJnZXRfbWJw
cyA8IGRwdGRpbl9tYXBbaV0ubWF4X21icHMpIHsKPj4gPiArICAgICAgICAgICAgICAgICAgICAg
ICAqbGFuZV9tYnBzID0gZHB0ZGluX21hcFtpXS5tYXhfbWJwczsKPj4gPiArICAgICAgICAgICAg
ICAgICAgICAgICBkc2ktPmxhbmVfbWJwcyA9ICpsYW5lX21icHM7Cj4+ID4gKyAgICAgICAgICAg
ICAgICAgICAgICAgRFJNX0RFVl9ERUJVRyhkc2ktPmRldiwKPj4gPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICJyZWFsIHBsbHJlZl9jbGsgZnJlcXVlbmN5IGlzICV1TWJw
c1xuIiwKPj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpsYW5lX21i
cHMpOwo+PiA+ICsgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwOwo+PiA+ICsgICAgICAg
ICAgICAgICB9Cj4+ID4gKyAgICAgICB9Cj4+ID4gKwo+PiA+ICsgICAgICAgRFJNX0RFVl9FUlJP
Uihkc2ktPmRldiwgIkRQSFkgY2xvY2sgZnJlcXVlbmN5ICV1TWJwcyBpcyBvdXQgb2YgcmFuZ2Vc
biIsCj4+ID4gKyAgICAgICAgICAgICAgICAgICAgIHRhcmdldF9tYnBzKTsKPj4gPiArCj4+ID4g
KyAgICAgICByZXR1cm4gLUVJTlZBTDsKPj4gPiArfQo+PiA+ICsKPj4gPiArc3RhdGljIGludAo+
PiA+ICtkd19taXBpX2RzaV9waHlfZ2V0X3RpbWluZyh2b2lkICpwcml2X2RhdGEsIHVuc2lnbmVk
IGludCBsYW5lX21icHMsCj4+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGR3
X21pcGlfZHNpX2RwaHlfdGltaW5nICp0aW1pbmcpCj4+ID4gK3sKPj4gPiArICAgICAgIHRpbWlu
Zy0+Y2xrX2hzMmxwID0gMHg0MDsKPj4gPiArICAgICAgIHRpbWluZy0+Y2xrX2xwMmhzID0gMHg0
MDsKPj4gPiArICAgICAgIHRpbWluZy0+ZGF0YV9oczJscCA9IDB4NDA7Cj4+ID4gKyAgICAgICB0
aW1pbmctPmRhdGFfbHAyaHMgPSAweDQwOwo+PiA+ICsKPj4gPiArICAgICAgIHJldHVybiAwOwo+
PiA+ICt9Cj4+ID4gKwo+PiA+ICtzdGF0aWMgY29uc3Qgc3RydWN0IGR3X21pcGlfZHNpX3BoeV9v
cHMgZHdfbWlwaV9kc2lfaW14Nl9waHlfb3BzID0gewo+PiA+ICsgICAgICAgLmluaXQgPSBpbXhf
bWlwaV9kc2lfcGh5X2luaXQsCj4+ID4gKyAgICAgICAuZ2V0X2xhbmVfbWJwcyA9IGlteF9taXBp
X2RzaV9nZXRfbGFuZV9tYnBzLAo+PiA+ICsgICAgICAgLmdldF90aW1pbmcgPSBkd19taXBpX2Rz
aV9waHlfZ2V0X3RpbWluZywKPj4gPiArfTsKPj4gPiArCj4+ID4gK3N0YXRpYyBzdHJ1Y3QgZHdf
bWlwaV9kc2lfcGxhdF9kYXRhIGlteDZxX21pcGlfZHNpX2Rydl9kYXRhID0gewo+PiA+ICsgICAg
ICAgLm1heF9kYXRhX2xhbmVzID0gMiwKPj4gPiArICAgICAgIC5tb2RlX3ZhbGlkID0gaW14X21p
cGlfZHNpX21vZGVfdmFsaWQsCj4+ID4gKyAgICAgICAucGh5X29wcyA9ICZkd19taXBpX2RzaV9p
bXg2X3BoeV9vcHMsCj4+ID4gK307Cj4+ID4gKwo+PiA+ICtzdGF0aWMgY29uc3Qgc3RydWN0IG9m
X2RldmljZV9pZCBpbXhfZHNpX2R0X2lkc1tdID0gewo+PiA+ICsgICAgICAgewo+PiA+ICsgICAg
ICAgICAgICAgICAuY29tcGF0aWJsZSA9ICJmc2wsaW14NnEtbWlwaS1kc2kiLAo+PiA+ICsgICAg
ICAgICAgICAgICAuZGF0YSA9ICZpbXg2cV9taXBpX2RzaV9kcnZfZGF0YSwKPj4gPiArICAgICAg
IH0sCj4+ID4gKyAgICAgICB7IC8qIHNlbnRpbmVsICovIH0KPj4gPiArfTsKPj4gPiArTU9EVUxF
X0RFVklDRV9UQUJMRShvZiwgaW14X2RzaV9kdF9pZHMpOwo+PiA+ICsKPj4gPiArc3RhdGljIGlu
dCBpbXhfbWlwaV9kc2lfYmluZChzdHJ1Y3QgZGV2aWNlICpkZXYsIHN0cnVjdCBkZXZpY2UgKm1h
c3RlciwKPj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgKmRhdGEpCj4+ID4g
K3sKPj4gPiArICAgICAgIHN0cnVjdCBpbXhfbWlwaV9kc2kgKmRzaSA9IGRldl9nZXRfZHJ2ZGF0
YShkZXYpOwo+PiA+ICsgICAgICAgc3RydWN0IGRybV9kZXZpY2UgKmRybSA9IGRhdGE7Cj4+ID4g
KyAgICAgICBpbnQgcmV0Owo+PiA+ICsKPj4gPiArICAgICAgIHJldCA9IGNsa19wcmVwYXJlX2Vu
YWJsZShkc2ktPnBsbHJlZl9jbGspOwo+PiA+ICsgICAgICAgaWYgKHJldCkgewo+PiA+ICsgICAg
ICAgICAgICAgICBEUk1fREVWX0VSUk9SKGRldiwgIkZhaWxlZCB0byBlbmFibGUgcGxscmVmX2Ns
azogJWRcbiIsIHJldCk7Cj4+ID4gKyAgICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4+ID4gKyAg
ICAgICB9Cj4+ID4gKwo+PiA+ICsgICAgICAgcmV0ID0gaW14X21pcGlfZHNpX3JlZ2lzdGVyKGRy
bSwgZHNpKTsKPj4gPiArICAgICAgIGlmIChyZXQpIHsKPj4gPiArICAgICAgICAgICAgICAgRFJN
X0RFVl9FUlJPUihkZXYsICJGYWlsZWQgdG8gcmVnaXN0ZXI6ICVkXG4iLCByZXQpOwo+PiA+ICsg
ICAgICAgICAgICAgICByZXR1cm4gcmV0Owo+PiA+ICsgICAgICAgfQo+PiA+ICsKPj4gPiArICAg
ICAgIHJldCA9IGR3X21pcGlfZHNpX2JpbmQoZHNpLT5taXBpX2RzaSwgJmRzaS0+ZW5jb2Rlcik7
Cj4+ID4gKyAgICAgICBpZiAocmV0KSB7Cj4+ID4gKyAgICAgICAgICAgICAgIERSTV9ERVZfRVJS
T1IoZGV2LCAiRmFpbGVkIHRvIGJpbmQ6ICVkXG4iLCByZXQpOwo+PiA+ICsgICAgICAgICAgICAg
ICByZXR1cm4gcmV0Owo+PiA+ICsgICAgICAgfQo+PiA+ICsKPj4gPiArICAgICAgIHJldHVybiAw
Owo+PiA+ICt9Cj4+ID4gKwo+PiA+ICtzdGF0aWMgdm9pZCBpbXhfbWlwaV9kc2lfdW5iaW5kKHN0
cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGRldmljZSAqbWFzdGVyLAo+PiA+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgdm9pZCAqZGF0YSkKPj4gPiArewo+PiA+ICsgICAgICAgc3Ry
dWN0IGlteF9taXBpX2RzaSAqZHNpID0gZGV2X2dldF9kcnZkYXRhKGRldik7Cj4+ID4gKwo+PiA+
ICsgICAgICAgZHdfbWlwaV9kc2lfdW5iaW5kKGRzaS0+bWlwaV9kc2kpOwo+PiA+ICsKPj4gPiAr
ICAgICAgIGNsa19kaXNhYmxlX3VucHJlcGFyZShkc2ktPnBsbHJlZl9jbGspOwo+PiA+ICt9Cj4+
ID4gKwo+PiA+ICtzdGF0aWMgY29uc3Qgc3RydWN0IGNvbXBvbmVudF9vcHMgaW14X21pcGlfZHNp
X29wcyA9IHsKPj4gPiArICAgICAgIC5iaW5kICAgPSBpbXhfbWlwaV9kc2lfYmluZCwKPj4gPiAr
ICAgICAgIC51bmJpbmQgPSBpbXhfbWlwaV9kc2lfdW5iaW5kLAo+PiA+ICt9Owo+PiA+ICsKPj4g
PiArc3RhdGljIGludCBpbXhfbWlwaV9kc2lfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAq
cGRldikKPj4gPiArewo+PiA+ICsgICAgICAgc3RydWN0IGRldmljZSAqZGV2ID0gJnBkZXYtPmRl
djsKPj4gPiArICAgICAgIGNvbnN0IHN0cnVjdCBvZl9kZXZpY2VfaWQgKm9mX2lkID0gb2ZfbWF0
Y2hfZGV2aWNlKGlteF9kc2lfZHRfaWRzLCBkZXYpOwo+PiA+ICsgICAgICAgc3RydWN0IGR3X21p
cGlfZHNpX3BsYXRfZGF0YSAqcGRhdGEgPSAoc3RydWN0IGR3X21pcGlfZHNpX3BsYXRfZGF0YSAq
KSBvZl9pZC0+ZGF0YTsKPj4gPiArICAgICAgIHN0cnVjdCBpbXhfbWlwaV9kc2kgKmRzaTsKPj4g
PiArICAgICAgIHN0cnVjdCByZXNvdXJjZSAqcmVzOwo+PiA+ICsgICAgICAgaW50IHJldDsKPj4g
PiArCj4+ID4gKyAgICAgICBkc2kgPSBkZXZtX2t6YWxsb2MoZGV2LCBzaXplb2YoKmRzaSksIEdG
UF9LRVJORUwpOwo+PiA+ICsgICAgICAgaWYgKCFkc2kpCj4+ID4gKyAgICAgICAgICAgICAgIHJl
dHVybiAtRU5PTUVNOwo+PiA+ICsKPj4gPiArICAgICAgIGRzaS0+ZGV2ID0gZGV2Owo+PiA+ICsK
Pj4gPiArICAgICAgIHJlcyA9IHBsYXRmb3JtX2dldF9yZXNvdXJjZShwZGV2LCBJT1JFU09VUkNF
X01FTSwgMCk7Cj4+ID4gKyAgICAgICBkc2ktPmJhc2UgPSBkZXZtX2lvcmVtYXBfcmVzb3VyY2Uo
ZGV2LCByZXMpOwo+PiA+ICsgICAgICAgaWYgKElTX0VSUihkc2ktPmJhc2UpKSB7Cj4+ID4gKyAg
ICAgICAgICAgICAgIHJldCA9IFBUUl9FUlIoZHNpLT5iYXNlKTsKPj4gPiArICAgICAgICAgICAg
ICAgRFJNX0RFVl9FUlJPUihkZXYsICJVbmFibGUgdG8gZ2V0IGRzaSByZWdpc3RlcnM6ICVkXG4i
LCByZXQpOwo+PiA+ICsgICAgICAgICAgICAgICByZXR1cm4gcmV0Owo+PiA+ICsgICAgICAgfQo+
PiA+ICsKPj4gPiArICAgICAgIGRzaS0+cGxscmVmX2NsayA9IGRldm1fY2xrX2dldChkZXYsICJy
ZWYiKTsKPj4gPiArICAgICAgIGlmIChJU19FUlIoZHNpLT5wbGxyZWZfY2xrKSkgewo+PiA+ICsg
ICAgICAgICAgICAgICByZXQgPSBQVFJfRVJSKGRzaS0+cGxscmVmX2Nsayk7Cj4+ID4gKyAgICAg
ICAgICAgICAgIERSTV9ERVZfRVJST1IoZGV2LCAiVW5hYmxlIHRvIGdldCBwbGxyZWZfY2xrOiAl
ZFxuIiwgcmV0KTsKPj4gPiArICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPj4gPiArICAgICAg
IH0KPj4gPiArCj4+ID4gKyAgICAgICBkc2ktPm11eF9zZWwgPSBzeXNjb25fcmVnbWFwX2xvb2t1
cF9ieV9waGFuZGxlKGRldi0+b2Zfbm9kZSwgImZzbCxncHIiKTsKPj4gPiArICAgICAgIGlmIChJ
U19FUlIoZHNpLT5tdXhfc2VsKSkgewo+PiA+ICsgICAgICAgICAgICAgICByZXQgPSBQVFJfRVJS
KGRzaS0+bXV4X3NlbCk7Cj4+ID4gKyAgICAgICAgICAgICAgIERSTV9ERVZfRVJST1IoZGV2LCAi
RmFpbGVkIHRvIGdldCBHUFIgcmVnbWFwOiAlZFxuIiwgcmV0KTsKPj4gPiArICAgICAgICAgICAg
ICAgcmV0dXJuIHJldDsKPj4gPiArICAgICAgIH0KPj4gPiArCj4+ID4gKyAgICAgICBkZXZfc2V0
X2RydmRhdGEoZGV2LCBkc2kpOwo+PiA+ICsKPj4gPiArICAgICAgIGlteDZxX21pcGlfZHNpX2Ry
dl9kYXRhLmJhc2UgPSBkc2ktPmJhc2U7Cj4+ID4gKyAgICAgICBpbXg2cV9taXBpX2RzaV9kcnZf
ZGF0YS5wcml2X2RhdGEgPSBkc2k7Cj4+ID4gKwo+PiA+ICsgICAgICAgZHNpLT5taXBpX2RzaSA9
IGR3X21pcGlfZHNpX3Byb2JlKHBkZXYsIHBkYXRhKTsKPj4gPiArICAgICAgIGlmIChJU19FUlIo
ZHNpLT5taXBpX2RzaSkpIHsKPj4gPiArICAgICAgICAgICAgICAgcmV0ID0gUFRSX0VSUihkc2kt
Pm1pcGlfZHNpKTsKPj4gPiArICAgICAgICAgICAgICAgRFJNX0RFVl9FUlJPUihkZXYsICJGYWls
ZWQgdG8gcHJvYmUgRFcgRFNJIGhvc3Q6ICVkXG4iLCByZXQpOwo+PiA+ICsgICAgICAgICAgICAg
ICBnb3RvIGVycl9jbGtkaXNhYmxlOwo+PiA+ICsgICAgICAgfQo+PiA+ICsKPj4gPiArICAgICAg
IHJldHVybiBjb21wb25lbnRfYWRkKCZwZGV2LT5kZXYsICZpbXhfbWlwaV9kc2lfb3BzKTsKPj4g
PiArCj4+ID4gK2Vycl9jbGtkaXNhYmxlOgo+PiA+ICsgICAgICAgY2xrX2Rpc2FibGVfdW5wcmVw
YXJlKGRzaS0+cGxscmVmX2Nsayk7Cj4+ID4gKyAgICAgICByZXR1cm4gcmV0Owo+PiA+ICt9Cj4+
ID4gKwo+PiA+ICtzdGF0aWMgaW50IGlteF9taXBpX2RzaV9yZW1vdmUoc3RydWN0IHBsYXRmb3Jt
X2RldmljZSAqcGRldikKPj4gPiArewo+PiA+ICsgICAgICAgY29tcG9uZW50X2RlbCgmcGRldi0+
ZGV2LCAmaW14X21pcGlfZHNpX29wcyk7Cj4+ID4gKyAgICAgICByZXR1cm4gMDsKPj4gPiArfQo+
PiA+ICsKPj4gPiArc3RhdGljIHN0cnVjdCBwbGF0Zm9ybV9kcml2ZXIgaW14X21pcGlfZHNpX2Ry
aXZlciA9IHsKPj4gPiArICAgICAgIC5wcm9iZSAgICAgICAgICA9IGlteF9taXBpX2RzaV9wcm9i
ZSwKPj4gPiArICAgICAgIC5yZW1vdmUgICAgICAgICA9IGlteF9taXBpX2RzaV9yZW1vdmUsCj4+
ID4gKyAgICAgICAuZHJpdmVyICAgICAgICAgPSB7Cj4+ID4gKyAgICAgICAgICAgICAgIC5vZl9t
YXRjaF90YWJsZSA9IGlteF9kc2lfZHRfaWRzLAo+PiA+ICsgICAgICAgICAgICAgICAubmFtZSAg
ID0gImR3LW1pcGktZHNpLWlteDYiLAo+PiA+ICsgICAgICAgfSwKPj4gPiArfTsKPj4gPiArbW9k
dWxlX3BsYXRmb3JtX2RyaXZlcihpbXhfbWlwaV9kc2lfZHJpdmVyKTsKPj4gPiArCj4+ID4gK01P
RFVMRV9ERVNDUklQVElPTigiaS5NWDYgTUlQSSBEU0kgaG9zdCBjb250cm9sbGVyIGRyaXZlciIp
Owo+PiA+ICtNT0RVTEVfQVVUSE9SKCJMaXUgWWluZyA8dmljdG9yLmxpdUBueHAuY29tPiIpOwo+
PiA+ICtNT0RVTEVfQVVUSE9SKCJBZHJpYW4gUmF0aXUgPGFkcmlhbi5yYXRpdUBjb2xsYWJvcmEu
Y29tPiIpOwo+PiA+ICtNT0RVTEVfTElDRU5TRSgiR1BMIik7Cj4KPiAtLSAKPiBSZWdhcmRzLAo+
Cj4gTGF1cmVudCBQaW5jaGFydApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVz
a3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9k
cmktZGV2ZWwK
