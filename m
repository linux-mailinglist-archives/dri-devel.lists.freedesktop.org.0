Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id B1EA9DC955
	for <lists+dri-devel@lfdr.de>; Fri, 18 Oct 2019 17:48:12 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 142A16EB6D;
	Fri, 18 Oct 2019 15:48:10 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mout.kundenserver.de (mout.kundenserver.de [212.227.17.13])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3C9606EB6D
 for <dri-devel@lists.freedesktop.org>; Fri, 18 Oct 2019 15:48:08 +0000 (UTC)
Received: from threadripper.lan ([149.172.19.189]) by mrelayeu.kundenserver.de
 (mreue108 [212.227.15.145]) with ESMTPA (Nemesis) id
 1MyK5K-1i6xDo48SK-00ykGf; Fri, 18 Oct 2019 17:42:33 +0200
From: Arnd Bergmann <arnd@arndb.de>
To: Daniel Mack <daniel@zonque.org>, Haojian Zhuang <haojian.zhuang@gmail.com>,
 Robert Jarzmik <robert.jarzmik@free.fr>
Subject: [PATCH 38/46] video: backlight: tosa: use gpio lookup table
Date: Fri, 18 Oct 2019 17:41:53 +0200
Message-Id: <20191018154201.1276638-38-arnd@arndb.de>
X-Mailer: git-send-email 2.20.0
In-Reply-To: <20191018154052.1276506-1-arnd@arndb.de>
References: <20191018154052.1276506-1-arnd@arndb.de>
MIME-Version: 1.0
X-Provags-ID: V03:K1:2OhedckVn2duIvbZrX9602vjNldufJeHeDgaeXumpkFb9kLtGA6
 msV2qeFO73azgU68EuIPXTeNQ0kl8m+uEhwRmgp26oRSi2IlDmYS7TeGkJG8T2QJRa+ZOY1
 FCEv/86qhKRQNWYRbVDm55L5Gc09o3aV+pltG9n/0uJi1/KTPl68o/c/HbKZOiAUE8C/URr
 V58sD5sZMsaC/95RoUJqA==
X-Spam-Flag: NO
X-UI-Out-Filterresults: notjunk:1;V03:K0:L2iviL+hGeE=:UpBz9cN1doBJHmDu9APP2l
 qGYq8gtr6ZgdsI9tOhkio6D0j8tl9mvBZC76FAeofg2p8/3WKu+Oe7CQnXYSnxKdTeKga1YRE
 t0yg3rnI8bWFqAc+Qke2ThNGHVSJs869GUcV2EdyGMRHh1h75ZN3ITst6fY+eMiCnFc4hwKLP
 E5whiZzEdPFf0bTo28QrnPwKtWqeGbQR3xQTmVzZUz5vQdYV9/TitkxT/GXjtWgNWOKlC6SCc
 YgNRbd/6BaNLzq0zi2gW1PIOCJVdaOyzzuDHLsmVxcK6v20PhJmqN609vBuADnNKIXf9vr2d/
 bQw3zCqCXbmnbCPUj6HhWWFdf6uum0n5RW+U5A1Zha2qjNKv6HpOs3uejUqEnXH5O1rfeuqxO
 23rBiVHujcFSwnQLPKr6L3xCSMbf6TgOZ5wj52jdEfZq1050je5ctAJvLO34RMJmodNXMENo7
 i2nf9MObpuyad7FLSaS/t7x6W4mGm7Xgw7llM1R2tlDKqObW3ze3hO5Bsq8HI9fujDKlgm4/u
 LOJllQJu3wiJ1b9nZlKoBHom7HdGKw5qM1nFh1+lx7W1t75q2BL/86PTWnQso90s5ljA/5Ror
 DnaLq77+1FroYNM47XZTRliGE/4EIPxpYTSeZMtdgAT50JzF560HXk26drNyyS3RNJm0qb2rM
 r0QpZ4VVhM6d6wyIZ9mj2NNrc+RWr/jW56kvPsPNN96/3kCsGC01aqJnIyguJvLK0L9SQmuqK
 j9Nb5lD5gPzFEe7OoWEFKDg/ryCaRaLOCUAcdg+9h1PRQOrrd9F+vC2vn70zedNNtXBWC0Jtu
 NczEX4iUsLg+GIcC81K6tLzdBNu3nY7Sw27frCSGQ1NElxgeF0qZLc47xx047MxUtnlMchK/w
 k05mBbRqhxKOVku/9YQQ==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Daniel Thompson <daniel.thompson@linaro.org>, Arnd Bergmann <arnd@arndb.de>,
 Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>,
 Jingoo Han <jingoohan1@gmail.com>, linux-kernel@vger.kernel.org,
 dri-devel@lists.freedesktop.org, linux-fbdev@vger.kernel.org,
 Lee Jones <lee.jones@linaro.org>, linux-arm-kernel@lists.infradead.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhlIGRyaXZlciBzaG91bGQgbm90IHJlcXVpcmUgYSBtYWNoaW5lIHNwZWNpZmljIGhlYWRlci4g
Q2hhbmdlCml0IHRvIHBhc3MgdGhlIGdwaW8gbGluZSB0aHJvdWdoIGEgbG9va3VwIHRhYmxlLCBh
bmQgbW92ZSB0aGUKdGltaW5nIGdlbmVyYXRvciBkZWZpbml0aW9ucyBpbnRvIHRoZSBkcml2ZXJz
IGl0c2VsZi4KCkNjOiBMZWUgSm9uZXMgPGxlZS5qb25lc0BsaW5hcm8ub3JnPgpDYzogRGFuaWVs
IFRob21wc29uIDxkYW5pZWwudGhvbXBzb25AbGluYXJvLm9yZz4KQ2M6IEppbmdvbyBIYW4gPGpp
bmdvb2hhbjFAZ21haWwuY29tPgpDYzogQmFydGxvbWllaiBab2xuaWVya2lld2ljeiA8Yi56b2xu
aWVya2llQHNhbXN1bmcuY29tPgpDYzogZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpD
YzogbGludXgtZmJkZXZAdmdlci5rZXJuZWwub3JnClNpZ25lZC1vZmYtYnk6IEFybmQgQmVyZ21h
bm4gPGFybmRAYXJuZGIuZGU+CgotLS0KSSdtIG5vdCBvdmVybHkgY29uZmlkZW50IHRoYXQgSSBn
b3QgdGhlIGNvcnJlY3QgZGV2aWNlIG5hbWVzCmZvciB0aGUgbG9va3VwIHRhYmxlLCBpdCB3b3Vs
ZCBiZSBnb29kIGlmIHNvbWVvbmUgY291bGQKZG91YmxlLWNoZWNrLgotLS0KIGFyY2gvYXJtL21h
Y2gtcHhhL2luY2x1ZGUvbWFjaC90b3NhLmggfCAxNSAtLS0tLS0tLS0tLS0tLQogYXJjaC9hcm0v
bWFjaC1weGEvdG9zYS5jICAgICAgICAgICAgICB8IDIyICsrKysrKysrKysrKysrKysrKysrKwog
ZHJpdmVycy92aWRlby9iYWNrbGlnaHQvdG9zYV9ibC5jICAgICB8IDEwICsrKysrLS0tLS0KIGRy
aXZlcnMvdmlkZW8vYmFja2xpZ2h0L3Rvc2FfYmwuaCAgICAgfCAgOCArKysrKysrKwogZHJpdmVy
cy92aWRlby9iYWNrbGlnaHQvdG9zYV9sY2QuYyAgICB8IDI4ICsrKysrKysrKysrKysrKysrKysr
LS0tLS0tLQogNSBmaWxlcyBjaGFuZ2VkLCA1NiBpbnNlcnRpb25zKCspLCAyNyBkZWxldGlvbnMo
LSkKIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL3ZpZGVvL2JhY2tsaWdodC90b3NhX2JsLmgK
CmRpZmYgLS1naXQgYS9hcmNoL2FybS9tYWNoLXB4YS9pbmNsdWRlL21hY2gvdG9zYS5oIGIvYXJj
aC9hcm0vbWFjaC1weGEvaW5jbHVkZS9tYWNoL3Rvc2EuaAppbmRleCBhNDk5ZWQxNzkzMWUuLjhi
ZmFjYTNhOGI2NCAxMDA2NDQKLS0tIGEvYXJjaC9hcm0vbWFjaC1weGEvaW5jbHVkZS9tYWNoL3Rv
c2EuaAorKysgYi9hcmNoL2FybS9tYWNoLXB4YS9pbmNsdWRlL21hY2gvdG9zYS5oCkBAIC03Miwx
OCArNzIsNiBAQAogI2RlZmluZSBUT1NBX0dQSU9fQkFUMF9USF9PTgkJKFRPU0FfVEM2MzkzWEJf
R1BJT19CQVNFICsgMTQpCiAjZGVmaW5lIFRPU0FfR1BJT19CQVQxX1RIX09OCQkoVE9TQV9UQzYz
OTNYQl9HUElPX0JBU0UgKyAxNSkKIAotLyoKLSAqIFRpbWluZyBHZW5lcmF0b3IKLSAqLwotI2Rl
ZmluZSBUR19QTkxDVEwgCQkJMHgwMAotI2RlZmluZSBUR19UUE9TQ1RMIAkJCTB4MDEKLSNkZWZp
bmUgVEdfRFVUWUNUTCAJCQkweDAyCi0jZGVmaW5lIFRHX0dQT1NSIAkJCTB4MDMKLSNkZWZpbmUg
VEdfR1BPRFIxIAkJCTB4MDQKLSNkZWZpbmUgVEdfR1BPRFIyIAkJCTB4MDUKLSNkZWZpbmUgVEdf
UElOSUNUTCAJCQkweDA2Ci0jZGVmaW5lIFRHX0hQT1NDVEwgCQkJMHgwNwotCiAvKgogICogUFhB
IEdQSU9zCiAgKi8KQEAgLTE5Miw3ICsxODAsNCBAQAogI2RlZmluZSBUT1NBX0tFWV9NQUlMCQlL
RVlfTUFJTAogI2VuZGlmCiAKLXN0cnVjdCBzcGlfZGV2aWNlOwotZXh0ZXJuIGludCB0b3NhX2Js
X2VuYWJsZShzdHJ1Y3Qgc3BpX2RldmljZSAqc3BpLCBpbnQgZW5hYmxlKTsKLQogI2VuZGlmIC8q
IF9BU01fQVJDSF9UT1NBX0hfICovCmRpZmYgLS1naXQgYS9hcmNoL2FybS9tYWNoLXB4YS90b3Nh
LmMgYi9hcmNoL2FybS9tYWNoLXB4YS90b3NhLmMKaW5kZXggOWE3ZjFlNDJhZGFjLi44MzI5YTI5
NjliMmIgMTAwNjQ0Ci0tLSBhL2FyY2gvYXJtL21hY2gtcHhhL3Rvc2EuYworKysgYi9hcmNoL2Fy
bS9tYWNoLXB4YS90b3NhLmMKQEAgLTgxMyw2ICs4MTMsMjYgQEAgc3RhdGljIHN0cnVjdCBweGEy
eHhfc3BpX2NvbnRyb2xsZXIgcHhhX3NzcF9tYXN0ZXJfaW5mbyA9IHsKIAkubnVtX2NoaXBzZWxl
Y3QJPSAxLAogfTsKIAorc3RhdGljIHN0cnVjdCBncGlvZF9sb29rdXBfdGFibGUgdG9zYV9sY2Rf
Z3Bpb190YWJsZSA9IHsKKwkuZGV2X2lkID0gInNwaTIuMCIsCisJLnRhYmxlID0geworCQlHUElP
X0xPT0tVUCgidGM2MzkzeGIiLAorCQkJICAgIFRPU0FfR1BJT19UR19PTiAtIFRPU0FfVEM2Mzkz
WEJfR1BJT19CQVNFLAorCQkJICAgICJ0ZyAjcHdyIiwgR1BJT19BQ1RJVkVfSElHSCksCisJCXsg
fSwKKwl9LAorfTsKKworc3RhdGljIHN0cnVjdCBncGlvZF9sb29rdXBfdGFibGUgdG9zYV9sY2Rf
YmxfZ3Bpb190YWJsZSA9IHsKKwkuZGV2X2lkID0gImkyYy10b3NhLWJsIiwKKwkudGFibGUgPSB7
CisJCUdQSU9fTE9PS1VQKCJ0YzYzOTN4YiIsCisJCQkgICAgVE9TQV9HUElPX0JMX0MyME1BIC0g
VE9TQV9UQzYzOTNYQl9HUElPX0JBU0UsCisJCQkgICAgImJhY2tsaWdodCIsIEdQSU9fQUNUSVZF
X0hJR0gpLAorCQl7IH0sCisJfSwKK307CisKIHN0YXRpYyBzdHJ1Y3Qgc3BpX2JvYXJkX2luZm8g
c3BpX2JvYXJkX2luZm9bXSBfX2luaXRkYXRhID0gewogCXsKIAkJLm1vZGFsaWFzCT0gInRvc2Et
bGNkIiwKQEAgLTkzNSw2ICs5NTUsOCBAQCBzdGF0aWMgdm9pZCBfX2luaXQgdG9zYV9pbml0KHZv
aWQpCiAJcGxhdGZvcm1fc2Nvb3BfY29uZmlnID0gJnRvc2FfcGNtY2lhX2NvbmZpZzsKIAogCXB4
YTJ4eF9zZXRfc3BpX2luZm8oMiwgJnB4YV9zc3BfbWFzdGVyX2luZm8pOworCWdwaW9kX2FkZF9s
b29rdXBfdGFibGUoJnRvc2FfbGNkX2dwaW9fdGFibGUpOworCWdwaW9kX2FkZF9sb29rdXBfdGFi
bGUoJnRvc2FfbGNkX2JsX2dwaW9fdGFibGUpOwogCXNwaV9yZWdpc3Rlcl9ib2FyZF9pbmZvKHNw
aV9ib2FyZF9pbmZvLCBBUlJBWV9TSVpFKHNwaV9ib2FyZF9pbmZvKSk7CiAKIAljbGtfYWRkX2Fs
aWFzKCJDTEtfQ0szUDZNSSIsIHRjNjM5M3hiX2RldmljZS5uYW1lLCAiR1BJTzExX0NMSyIsIE5V
TEwpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy92aWRlby9iYWNrbGlnaHQvdG9zYV9ibC5jIGIvZHJp
dmVycy92aWRlby9iYWNrbGlnaHQvdG9zYV9ibC5jCmluZGV4IDEyNzVlODE1YmQ4Ni4uY2ZmNWU5
NmZkOTg4IDEwMDY0NAotLS0gYS9kcml2ZXJzL3ZpZGVvL2JhY2tsaWdodC90b3NhX2JsLmMKKysr
IGIvZHJpdmVycy92aWRlby9iYWNrbGlnaHQvdG9zYV9ibC5jCkBAIC0xOCw3ICsxOCw3IEBACiAK
ICNpbmNsdWRlIDxhc20vbWFjaC9zaGFycHNsX3BhcmFtLmg+CiAKLSNpbmNsdWRlIDxtYWNoL3Rv
c2EuaD4KKyNpbmNsdWRlICJ0b3NhX2JsLmgiCiAKICNkZWZpbmUgQ09NQURKX0RFRkFVTFQJOTcK
IApAQCAtMjgsNiArMjgsNyBAQAogc3RydWN0IHRvc2FfYmxfZGF0YSB7CiAJc3RydWN0IGkyY19j
bGllbnQgKmkyYzsKIAlzdHJ1Y3QgYmFja2xpZ2h0X2RldmljZSAqYmw7CisJc3RydWN0IGdwaW9f
ZGVzYyAqZ3BpbzsKIAogCWludCBjb21hZGo7CiB9OwpAQCAtNDIsNyArNDMsNyBAQCBzdGF0aWMg
dm9pZCB0b3NhX2JsX3NldF9iYWNrbGlnaHQoc3RydWN0IHRvc2FfYmxfZGF0YSAqZGF0YSwgaW50
IGJyaWdodG5lc3MpCiAJaTJjX3NtYnVzX3dyaXRlX2J5dGVfZGF0YShkYXRhLT5pMmMsIERBQ19D
SDIsICh1OCkoYnJpZ2h0bmVzcyAmIDB4ZmYpKTsKIAogCS8qIFNldEJhY2tsaWdodFZSICovCi0J
Z3Bpb19zZXRfdmFsdWUoVE9TQV9HUElPX0JMX0MyME1BLCBicmlnaHRuZXNzICYgMHgxMDApOwor
CWdwaW9kX3NldF92YWx1ZShkYXRhLT5ncGlvLCBicmlnaHRuZXNzICYgMHgxMDApOwogCiAJdG9z
YV9ibF9lbmFibGUoc3BpLCBicmlnaHRuZXNzKTsKIH0KQEAgLTg3LDkgKzg4LDggQEAgc3RhdGlj
IGludCB0b3NhX2JsX3Byb2JlKHN0cnVjdCBpMmNfY2xpZW50ICpjbGllbnQsCiAJCXJldHVybiAt
RU5PTUVNOwogCiAJZGF0YS0+Y29tYWRqID0gc2hhcnBzbF9wYXJhbS5jb21hZGogPT0gLTEgPyBD
T01BREpfREVGQVVMVCA6IHNoYXJwc2xfcGFyYW0uY29tYWRqOwotCi0JcmV0ID0gZGV2bV9ncGlv
X3JlcXVlc3Rfb25lKCZjbGllbnQtPmRldiwgVE9TQV9HUElPX0JMX0MyME1BLAotCQkJCUdQSU9G
X09VVF9JTklUX0xPVywgImJhY2tsaWdodCIpOworCWRhdGEtPmdwaW8gPSBkZXZtX2dwaW9kX2dl
dCgmY2xpZW50LT5kZXYsICJiYWNrbGlnaHQiLCBHUElPRF9PVVRfTE9XKTsKKwlyZXQgPSBQVFJf
RVJSX09SX1pFUk8oZGF0YS0+Z3Bpbyk7CiAJaWYgKHJldCkgewogCQlkZXZfZGJnKCZkYXRhLT5i
bC0+ZGV2LCAiVW5hYmxlIHRvIHJlcXVlc3QgZ3BpbyFcbiIpOwogCQlyZXR1cm4gcmV0OwpkaWZm
IC0tZ2l0IGEvZHJpdmVycy92aWRlby9iYWNrbGlnaHQvdG9zYV9ibC5oIGIvZHJpdmVycy92aWRl
by9iYWNrbGlnaHQvdG9zYV9ibC5oCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAw
MDAwMC4uNTg5ZTE3ZTZmZGIyCi0tLSAvZGV2L251bGwKKysrIGIvZHJpdmVycy92aWRlby9iYWNr
bGlnaHQvdG9zYV9ibC5oCkBAIC0wLDAgKzEsOCBAQAorLyogU1BEWC1MaWNlbnNlLUlkZW50aWZp
ZXI6IEdQTC0yLjAtb25seSAqLworI2lmbmRlZiBfVE9TQV9CTF9ICisjZGVmaW5lIF9UT1NBX0JM
X0gKKworc3RydWN0IHNwaV9kZXZpY2U7CitleHRlcm4gaW50IHRvc2FfYmxfZW5hYmxlKHN0cnVj
dCBzcGlfZGV2aWNlICpzcGksIGludCBlbmFibGUpOworCisjZW5kaWYKZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvdmlkZW8vYmFja2xpZ2h0L3Rvc2FfbGNkLmMgYi9kcml2ZXJzL3ZpZGVvL2JhY2tsaWdo
dC90b3NhX2xjZC5jCmluZGV4IDI5YWY4ZTI3YjZlNS4uZThhYjU4M2U1MDk4IDEwMDY0NAotLS0g
YS9kcml2ZXJzL3ZpZGVvL2JhY2tsaWdodC90b3NhX2xjZC5jCisrKyBiL2RyaXZlcnMvdmlkZW8v
YmFja2xpZ2h0L3Rvc2FfbGNkLmMKQEAgLTE5LDcgKzE5LDcgQEAKIAogI2luY2x1ZGUgPGFzbS9t
YWNoL3NoYXJwc2xfcGFyYW0uaD4KIAotI2luY2x1ZGUgPG1hY2gvdG9zYS5oPgorI2luY2x1ZGUg
InRvc2FfYmwuaCIKIAogI2RlZmluZSBQT1dFUl9JU19PTihwd3IpCSgocHdyKSA8PSBGQl9CTEFO
S19OT1JNQUwpCiAKQEAgLTI4LDEyICsyOCwyNiBAQAogI2RlZmluZSBUR19SRUcwX1VECTB4MDAw
NAogI2RlZmluZSBUR19SRUcwX0xSCTB4MDAwOAogCisvKgorICogVGltaW5nIEdlbmVyYXRvcgor
ICovCisjZGVmaW5lIFRHX1BOTENUTCAJMHgwMAorI2RlZmluZSBUR19UUE9TQ1RMIAkweDAxCisj
ZGVmaW5lIFRHX0RVVFlDVEwgCTB4MDIKKyNkZWZpbmUgVEdfR1BPU1IgCTB4MDMKKyNkZWZpbmUg
VEdfR1BPRFIxIAkweDA0CisjZGVmaW5lIFRHX0dQT0RSMiAJMHgwNQorI2RlZmluZSBUR19QSU5J
Q1RMIAkweDA2CisjZGVmaW5lIFRHX0hQT1NDVEwgCTB4MDcKKworCiAjZGVmaW5lCURBQ19CQVNF
CTB4NGUKIAogc3RydWN0IHRvc2FfbGNkX2RhdGEgewogCXN0cnVjdCBzcGlfZGV2aWNlICpzcGk7
CiAJc3RydWN0IGxjZF9kZXZpY2UgKmxjZDsKIAlzdHJ1Y3QgaTJjX2NsaWVudCAqaTJjOworCXN0
cnVjdCBncGlvX2Rlc2MgKmdwaW9kX3RnOwogCiAJaW50IGxjZF9wb3dlcjsKIAlib29sIGlzX3Zn
YTsKQEAgLTY2LDcgKzgwLDcgQEAgRVhQT1JUX1NZTUJPTCh0b3NhX2JsX2VuYWJsZSk7CiBzdGF0
aWMgdm9pZCB0b3NhX2xjZF90Z19pbml0KHN0cnVjdCB0b3NhX2xjZF9kYXRhICpkYXRhKQogewog
CS8qIFRHIG9uICovCi0JZ3Bpb19zZXRfdmFsdWUoVE9TQV9HUElPX1RHX09OLCAwKTsKKwlncGlv
ZF9zZXRfdmFsdWUoZGF0YS0+Z3Bpb2RfdGcsIDApOwogCiAJbWRlbGF5KDYwKTsKIApAQCAtMTAw
LDYgKzExNCw3IEBAIHN0YXRpYyB2b2lkIHRvc2FfbGNkX3RnX29uKHN0cnVjdCB0b3NhX2xjZF9k
YXRhICpkYXRhKQogCQkgKi8KIAkJc3RydWN0IGkyY19hZGFwdGVyICphZGFwID0gaTJjX2dldF9h
ZGFwdGVyKDApOwogCQlzdHJ1Y3QgaTJjX2JvYXJkX2luZm8gaW5mbyA9IHsKKwkJCS5kZXZfbmFt
ZSA9ICJ0b3NhLWJsIiwKIAkJCS50eXBlCT0gInRvc2EtYmwiLAogCQkJLmFkZHIJPSBEQUNfQkFT
RSwKIAkJCS5wbGF0Zm9ybV9kYXRhID0gZGF0YS0+c3BpLApAQCAtMTIxLDcgKzEzNiw3IEBAIHN0
YXRpYyB2b2lkIHRvc2FfbGNkX3RnX29mZihzdHJ1Y3QgdG9zYV9sY2RfZGF0YSAqZGF0YSkKIAlt
ZGVsYXkoNTApOwogCiAJLyogVEcgT2ZmICovCi0JZ3Bpb19zZXRfdmFsdWUoVE9TQV9HUElPX1RH
X09OLCAxKTsKKwlncGlvZF9zZXRfdmFsdWUoZGF0YS0+Z3Bpb2RfdGcsIDEpOwogCW1kZWxheSgx
MDApOwogfQogCkBAIC0xOTEsMTAgKzIwNiw5IEBAIHN0YXRpYyBpbnQgdG9zYV9sY2RfcHJvYmUo
c3RydWN0IHNwaV9kZXZpY2UgKnNwaSkKIAlkYXRhLT5zcGkgPSBzcGk7CiAJc3BpX3NldF9kcnZk
YXRhKHNwaSwgZGF0YSk7CiAKLQlyZXQgPSBkZXZtX2dwaW9fcmVxdWVzdF9vbmUoJnNwaS0+ZGV2
LCBUT1NBX0dQSU9fVEdfT04sCi0JCQkJR1BJT0ZfT1VUX0lOSVRfTE9XLCAidGcgI3B3ciIpOwot
CWlmIChyZXQgPCAwKQotCQlyZXR1cm4gcmV0OworCWRhdGEtPmdwaW9kX3RnID0gZGV2bV9ncGlv
ZF9nZXQoJnNwaS0+ZGV2LCAidGcgI3B3ciIsIEdQSU9EX09VVF9MT1cpOworCWlmIChJU19FUlIo
ZGF0YS0+Z3Bpb2RfdGcpKQorCQlyZXR1cm4gUFRSX0VSUihkYXRhLT5ncGlvZF90Zyk7CiAKIAlt
ZGVsYXkoNjApOwogCi0tIAoyLjIwLjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3RzLmZy
ZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3Rp
bmZvL2RyaS1kZXZlbA==
