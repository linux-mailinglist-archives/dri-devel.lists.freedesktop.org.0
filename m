Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 25AC2348D20
	for <lists+dri-devel@lfdr.de>; Thu, 25 Mar 2021 10:39:07 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AC43C6EB42;
	Thu, 25 Mar 2021 09:39:03 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-oi1-x236.google.com (mail-oi1-x236.google.com
 [IPv6:2607:f8b0:4864:20::236])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D8B7A6EB42
 for <dri-devel@lists.freedesktop.org>; Thu, 25 Mar 2021 09:39:02 +0000 (UTC)
Received: by mail-oi1-x236.google.com with SMTP id n8so1467965oie.10
 for <dri-devel@lists.freedesktop.org>; Thu, 25 Mar 2021 02:39:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=ffwll.ch; s=google;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=2CfpRYX10xRo0uunXXJKcXZjjMag2GGMoXReqQcKHnE=;
 b=P59C+fIY6jtepbTUSLxQ1SN2h8rS04E+YSHC4ennMqrlcvQFZIQi7nBqJbjmRiz1qy
 aLe5YNHQ4Ltka3x9W/MLmUIImMbwzY+CgwueWtbo9NiumWS48cKMBmfGm7uJ+f0OeXPb
 bIwKZmzIwWge0tUYoJDxsaNOXNnL0KMROcCJc=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=2CfpRYX10xRo0uunXXJKcXZjjMag2GGMoXReqQcKHnE=;
 b=LT6Rmd4oyvMSV1t6AxhJ46PPoQ6hieMwY+wvEodeHQpZT8oEnamRk4Bq8+daStGvrz
 iRkbTOIMiFYVMi6ZXUHZ9rXookDUMky0IGkJakqN8oaQ2LmpVbzM9PBUz2CKlgJk0aUf
 b3TQV/G34neUCD0nbIvAt3VePJ/upxRM5spFv1bRjE29PYVDd0PUBzNv5xzkkc6dBwJS
 JHQPjRS52gnmJRwcuakS6s5rfJGgiUwYHIa5djo+1LxqEpusskhB3u6TJkt7Z7KEH91A
 Ae8/I4HGoswq57jM6u8TVorAWSBM1h61SZXGMQOqp++vwqU4HyocSB2hC3WrQO/GW+pD
 8jKQ==
X-Gm-Message-State: AOAM533UDCNNdWz8U7ENHj+gKcu4EDKiyiBBkIXNzPxLCojIDFWp83tc
 aDvYc1DkrWmbcAVPgNccY7y5RUm8EZqRGbFkdXtP4ip4ZBzt1g==
X-Google-Smtp-Source: ABdhPJyoQ6lORTKFxhRoUXPplTl0aV/paBzrzkFJ5jotwnPba9iK3FXgZsM9iCiijCRZMLHV8MB9dr3wSBbnCSJKlTg=
X-Received: by 2002:aca:b646:: with SMTP id g67mr5271942oif.14.1616665142054; 
 Thu, 25 Mar 2021 02:39:02 -0700 (PDT)
MIME-Version: 1.0
References: <20210324134845.2338-1-christian.koenig@amd.com>
 <YFuTEl/R73Fvet/y@phenom.ffwll.local>
 <0f2308b4-f36e-ab02-c26d-4065e9972b50@gmail.com>
 <CAKMK7uEocjdROj2_CBr+_uJ7KDjUFM3FQiFN0_6OfHWyQP0bSA@mail.gmail.com>
 <a1df7b68-a582-6bb3-5d1d-da80be5a4d33@amd.com>
In-Reply-To: <a1df7b68-a582-6bb3-5d1d-da80be5a4d33@amd.com>
From: Daniel Vetter <daniel@ffwll.ch>
Date: Thu, 25 Mar 2021 10:38:50 +0100
Message-ID: <CAKMK7uFCX5+PXiXxpWtLcR5_okO2+gStiS+Wta47sb44eXY_qA@mail.gmail.com>
Subject: Re: [PATCH] drm/ttm: switch back to static allocation limits for now
To: =?UTF-8?Q?Christian_K=C3=B6nig?= <christian.koenig@amd.com>
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Linux MM <linux-mm@kvack.org>,
 =?UTF-8?Q?Thomas_Hellstr=C3=B6m_=28VMware=29?= <thomas_os@shipmail.org>,
 Liang.Liang@amd.com, dri-devel <dri-devel@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVGh1LCBNYXIgMjUsIDIwMjEgYXQgMTA6MjcgQU0gQ2hyaXN0aWFuIEvDtm5pZwo8Y2hyaXN0
aWFuLmtvZW5pZ0BhbWQuY29tPiB3cm90ZToKPgo+IEFtIDI1LjAzLjIxIHVtIDA5OjMxIHNjaHJp
ZWIgRGFuaWVsIFZldHRlcjoKPiA+IE9uIFRodSwgTWFyIDI1LCAyMDIxIGF0IDk6MDcgQU0gQ2hy
aXN0aWFuIEvDtm5pZwo+ID4gPGNrb2VuaWcubGVpY2h0enVtZXJrZW5AZ21haWwuY29tPiB3cm90
ZToKPiA+PiBBbSAyNC4wMy4yMSB1bSAyMDoyOSBzY2hyaWViIERhbmllbCBWZXR0ZXI6Cj4gPj4+
IE9uIFdlZCwgTWFyIDI0LCAyMDIxIGF0IDAyOjQ4OjQ1UE0gKzAxMDAsIENocmlzdGlhbiBLw7Zu
aWcgd3JvdGU6Cj4gPj4+PiBUaGUgc2hyaW5rZXIgYmFzZWQgYXBwcm9hY2ggc3RpbGwgaGFzIHNv
bWUgZmxhd3MuIEVzcGVjaWFsbHkgdGhhdCB3ZSBuZWVkCj4gPj4+PiB0ZW1wb3JhcnkgcGFnZXMg
dG8gZnJlZSB1cCB0aGUgcGFnZXMgYWxsb2NhdGVkIHRvIHRoZSBkcml2ZXIgaXMgcHJvYmxlbWF0
aWMKPiA+Pj4+IGluIGEgc2hyaW5rZXIuCj4gPj4+Pgo+ID4+Pj4gU2lnbmVkLW9mZi1ieTogQ2hy
aXN0aWFuIEvDtm5pZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPgo+ID4+Pj4gLS0tCj4gPj4+
PiAgICBkcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9kZXZpY2UuYyB8ICAxNCArKy0tCj4gPj4+PiAg
ICBkcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV90dC5jICAgICB8IDExMiArKysrKysrKysrKystLS0t
LS0tLS0tLS0tLS0tLS0tCj4gPj4+PiAgICBpbmNsdWRlL2RybS90dG0vdHRtX3R0LmggICAgICAg
ICB8ICAgMyArLQo+ID4+Pj4gICAgMyBmaWxlcyBjaGFuZ2VkLCA1MyBpbnNlcnRpb25zKCspLCA3
NiBkZWxldGlvbnMoLSkKPiA+Pj4+Cj4gPj4+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L3R0bS90dG1fZGV2aWNlLmMgYi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9kZXZpY2UuYwo+ID4+
Pj4gaW5kZXggOTVlMWI3YjFmMmU2Li4zODhkYTJhN2YwYmIgMTAwNjQ0Cj4gPj4+PiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9kZXZpY2UuYwo+ID4+Pj4gKysrIGIvZHJpdmVycy9ncHUv
ZHJtL3R0bS90dG1fZGV2aWNlLmMKPiA+Pj4+IEBAIC01Myw3ICs1Myw2IEBAIHN0YXRpYyB2b2lk
IHR0bV9nbG9iYWxfcmVsZWFzZSh2b2lkKQo+ID4+Pj4gICAgICAgICAgICAgICBnb3RvIG91dDsK
PiA+Pj4+Cj4gPj4+PiAgICAgICB0dG1fcG9vbF9tZ3JfZmluaSgpOwo+ID4+Pj4gLSAgICB0dG1f
dHRfbWdyX2ZpbmkoKTsKPiA+Pj4+Cj4gPj4+PiAgICAgICBfX2ZyZWVfcGFnZShnbG9iLT5kdW1t
eV9yZWFkX3BhZ2UpOwo+ID4+Pj4gICAgICAgbWVtc2V0KGdsb2IsIDAsIHNpemVvZigqZ2xvYikp
Owo+ID4+Pj4gQEAgLTY0LDcgKzYzLDcgQEAgc3RhdGljIHZvaWQgdHRtX2dsb2JhbF9yZWxlYXNl
KHZvaWQpCj4gPj4+PiAgICBzdGF0aWMgaW50IHR0bV9nbG9iYWxfaW5pdCh2b2lkKQo+ID4+Pj4g
ICAgewo+ID4+Pj4gICAgICAgc3RydWN0IHR0bV9nbG9iYWwgKmdsb2IgPSAmdHRtX2dsb2I7Cj4g
Pj4+PiAtICAgIHVuc2lnbmVkIGxvbmcgbnVtX3BhZ2VzOwo+ID4+Pj4gKyAgICB1bnNpZ25lZCBs
b25nIG51bV9wYWdlcywgbnVtX2RtYTMyOwo+ID4+Pj4gICAgICAgc3RydWN0IHN5c2luZm8gc2k7
Cj4gPj4+PiAgICAgICBpbnQgcmV0ID0gMDsKPiA+Pj4+ICAgICAgIHVuc2lnbmVkIGk7Cj4gPj4+
PiBAQCAtNzksOCArNzgsMTUgQEAgc3RhdGljIGludCB0dG1fZ2xvYmFsX2luaXQodm9pZCkKPiA+
Pj4+ICAgICAgICAqIHN5c3RlbSBtZW1vcnkuCj4gPj4+PiAgICAgICAgKi8KPiA+Pj4+ICAgICAg
IG51bV9wYWdlcyA9ICgodTY0KXNpLnRvdGFscmFtICogc2kubWVtX3VuaXQpID4+IFBBR0VfU0hJ
RlQ7Cj4gPj4+PiAtICAgIHR0bV9wb29sX21ncl9pbml0KG51bV9wYWdlcyAqIDUwIC8gMTAwKTsK
PiA+Pj4+IC0gICAgdHRtX3R0X21ncl9pbml0KCk7Cj4gPj4+PiArICAgIG51bV9wYWdlcyAvPSAy
Owo+ID4+Pj4gKwo+ID4+Pj4gKyAgICAvKiBCdXQgZm9yIERNQTMyIHdlIGxpbWl0IG91cnNlbGYg
dG8gb25seSB1c2UgMkdpQiBtYXhpbXVtLiAqLwo+ID4+Pj4gKyAgICBudW1fZG1hMzIgPSAodTY0
KShzaS50b3RhbHJhbSAtIHNpLnRvdGFsaGlnaCkgKiBzaS5tZW1fdW5pdAo+ID4+Pj4gKyAgICAg
ICAgICAgID4+IFBBR0VfU0hJRlQ7Cj4gPj4+PiArICAgIG51bV9kbWEzMiA9IG1pbihudW1fZG1h
MzIsIDJVTCA8PCAoMzAgLSBQQUdFX1NISUZUKSk7Cj4gPj4+PiArCj4gPj4+PiArICAgIHR0bV9w
b29sX21ncl9pbml0KG51bV9wYWdlcyk7Cj4gPj4+PiArICAgIHR0bV90dF9tZ3JfaW5pdChudW1f
cGFnZXMsIG51bV9kbWEzMik7Cj4gPj4+Pgo+ID4+Pj4gICAgICAgc3Bpbl9sb2NrX2luaXQoJmds
b2ItPmxydV9sb2NrKTsKPiA+Pj4+ICAgICAgIGdsb2ItPmR1bW15X3JlYWRfcGFnZSA9IGFsbG9j
X3BhZ2UoX19HRlBfWkVSTyB8IEdGUF9ETUEzMik7Cj4gPj4+PiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL3R0bS90dG1fdHQuYyBiL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX3R0LmMKPiA+
Pj4+IGluZGV4IDJmMDgzM2M5OGQyYy4uNWQ4ODIwNzI1Yjc1IDEwMDY0NAo+ID4+Pj4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fdHQuYwo+ID4+Pj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L3R0bS90dG1fdHQuYwo+ID4+Pj4gQEAgLTQwLDggKzQwLDE4IEBACj4gPj4+Pgo+ID4+Pj4gICAg
I2luY2x1ZGUgInR0bV9tb2R1bGUuaCIKPiA+Pj4+Cj4gPj4+PiAtc3RhdGljIHN0cnVjdCBzaHJp
bmtlciBtbV9zaHJpbmtlcjsKPiA+Pj4+IC1zdGF0aWMgYXRvbWljX2xvbmdfdCBzd2FwYWJsZV9w
YWdlczsKPiA+Pj4+ICtzdGF0aWMgdW5zaWduZWQgbG9uZyB0dG1fcGFnZXNfbGltaXQ7Cj4gPj4+
PiArCj4gPj4+PiArTU9EVUxFX1BBUk1fREVTQyhwYWdlc19saW1pdCwgIkxpbWl0IGZvciB0aGUg
YWxsb2NhdGVkIHBhZ2VzIik7Cj4gPj4+PiArbW9kdWxlX3BhcmFtX25hbWVkKHBhZ2VzX2xpbWl0
LCB0dG1fcGFnZXNfbGltaXQsIHVsb25nLCAwNjQ0KTsKPiA+Pj4+ICsKPiA+Pj4+ICtzdGF0aWMg
dW5zaWduZWQgbG9uZyB0dG1fZG1hMzJfcGFnZXNfbGltaXQ7Cj4gPj4+PiArCj4gPj4+PiArTU9E
VUxFX1BBUk1fREVTQyhkbWEzMl9wYWdlc19saW1pdCwgIkxpbWl0IGZvciB0aGUgYWxsb2NhdGVk
IERNQTMyIHBhZ2VzIik7Cj4gPj4+PiArbW9kdWxlX3BhcmFtX25hbWVkKGRtYTMyX3BhZ2VzX2xp
bWl0LCB0dG1fZG1hMzJfcGFnZXNfbGltaXQsIHVsb25nLCAwNjQ0KTsKPiA+Pj4+ICsKPiA+Pj4+
ICtzdGF0aWMgYXRvbWljX2xvbmdfdCB0dG1fcGFnZXNfYWxsb2NhdGVkOwo+ID4+Pj4gK3N0YXRp
YyBhdG9taWNfbG9uZ190IHR0bV9kbWEzMl9wYWdlc19hbGxvY2F0ZWQ7Cj4gPj4+IE1ha2luZyB0
aGlzIGNvbmZpZ3VyYWJsZSBsb29rcyBhbiBhd2Z1bCBsb3QgbGlrZSAiam9iIGRvbmUsIG1vdmUg
b24iLiBKdXN0Cj4gPj4+IHRoZSByZXZlcnQgdG8gaGFyZGNvZGVkIDUwJSAob3IgSSBndWVzcyBq
dXN0IHJldmVydCB0aGUgc2hyaW5rZXIgcGF0Y2ggYXQKPiA+Pj4gdGhhdCBwb2ludCkgZm9yIC1m
aXhlcyBpcyBpbW8gYmV0dGVyLgo+ID4+IFdlbGwgdGhpcyBpcyB0aGUgcmV2ZXJ0IHRvIGhhcmRj
b2RlZCA1MCUuIFdlIGhhZCB0aGF0IGNvbmZpZ3VyYWJsZQo+ID4+IGJlZm9yZSBhbmQgaGF2ZSBp
dCBjb25maWd1cmFibGUgbm93Lgo+ID4gSG0gSSBsb29rZWQsIGJ1dCBJIG1pc3NlZCBpdCBJIGd1
ZXNzLgo+ID4KPiA+IEFja2VkLWJ5OiBEYW5pZWwgVmV0dGVyIDxkYW5pZWwudmV0dGVyQGZmd2xs
LmNoPgo+ID4KPiA+IEkganVzdCByZWFsbHkgd2FudCB0byBtYWtlIHN1cmUgd2UgZG9uJ3Qgd2Fs
ayBkb3duIHRoZSBwYXRoIG9mIGZpcnN0Cj4gPiByZWludmVudGluZyBrc3dhcGQsIHRoZW4gcmVp
bnZlbnRpbmcgZGlyZWN0IHJlY2xhaW0gKGk5MTUtZ2VtIGhhcyBkb25lCj4gPiB0aGF0IGJlY2F1
c2Ugb2YgdGhlIHNpbmdsZSBkZXYtPnN0cnVjdF9tdXRleCwgZGVzcGl0ZSBvdXIgc2hyaW5rZXIs
Cj4gPiBpdCdzIHJlYWwgdWdseSBhbmQgZnJhZ2lsZSkgaW4gc2VsZWN0aXZlIGNhbGxzLCB0aGVu
IHJlYWxpemluZyB0aGF0J3MKPiA+IHN0aWxsIG5vdCBlbm91Z2ggYmVjYXVzZSBlc3BlY2lhbGx5
IGNvbXB1dGUgbG92ZXMgdXNlcnB0ciwgYW5kIHRoZW4KPiA+IHdlJ3JlIGJhY2sgdG8gaGF2aW5n
IHRvIHJlaW52ZW50IHRoZSBHRlAgaGllcmFyY2h5LiBCZWVuIHRoZXJlIHdpdGgKPiA+IGk5MTUt
Z2VtIGZvciBkZXYtPnN0cnVjdF9tdXRleCByZWFzb25zLCBidXQgdGhlIGVmZmVjdCBpcyBraW5k
YQo+ID4gc2ltaWxhcjogSW4gc29tZSBjYXNlcyB0aGUgc2hyaW5rZXIgaXMgZGVmYWN0byBub3Qg
dGhlcmUsIGFuZAo+ID4gZXZlcnl0aGluZyB0aGVuIGtlZWxzIG92ZXIuCj4KPiBZZWFoLCBJIG1l
YW4gd2UgcmVhbGx5IChSRUFMTFkpIHdhbnQgdG8gZ2V0IGF3YXkgZnJvbSB0aGlzIDUwJSBoYWNr
LiBTbwo+IG5vIHdvcnJpZXMgYWJvdXQgdGhhdC4KPgo+IERvaW5nIHRoZSBzaHJpbmtlciBpcyBs
aWtlbHkgdGhlIHJpZ2h0IGFwcHJvYWNoIGZvciB0aGlzLCBidXQgd2UgbmVlZCB0bwo+IGdldCBp
dCBidWxsZWQgcHJvdmUgb3Igb3RoZXJ3aXNlIHdlIHdpbGwgcnVuIGludG8gaXNzdWVzLgo+Cj4g
PiBidHcgb25lIHRoaW5nIHRoYXQgY3Jvc3MgbXkgbWluZCBhIGJ1bmNoIHRpbWVzIGlzIHRvIGFk
ZCBhIEdGUF9OT0dQVS4KPiA+IFRoYXQgZml4ZXMgdGhpbmdzIGZvciBldmVyeXRoaW5nIGVsc2Ug
ZXhjZXB0IG91ciBvd24gZ3B1IG1lbW9yeSB1c2FnZSwKPiA+IGFuZCBzaW5jZSB0aGUgZ29hbCBp
cyB0byBsZXQgdGhhdCBhcHByb2FjaCAxMDAlIGl0J3Mgbm90IHJlYWxseSBhCj4gPiBnYWluLgo+
Cj4gSHVpIHdoYXQ/IEhvdyBleGFjdGx5IHNob3VsZCB0aGF0IGhlbHA/CgpZb3UgY2FuIHN0aWxs
IGRvIEdGUF9LRVJORUwgaW4gdGhlIHNocmlua2VyIGluIHRoYXQgY2FzZSwgaXQgd291bGQKc2lt
cGx5IGJlIEdGUF9LRVJORUwgfCBHRlBfTk9HUFUgdG8gbWFrZSBzdXJlIHdlIGRvbid0IGdldCBi
YWNrIGludG8Kb3VyIG93biBzaHJpbmtlciB3aGVuIHdlIGFsbG9jYXRlIGZvciBzaG1lbS4KCkJ1
dCBpdCB3b3VsZCBwcm9iYWJseSBicmVhayBhbGwga2luZHMgb2YgYXNzdW1wdGlvbnMgYWJvdXQg
aG93IHRoaXMKd29ya3MgaW4gY29yZSBtbSwgcGx1cyBzaW5jZSB3ZSBhaW0gdG8gaGF2ZSBtb3N0
IHN5c3RlbSBtZW1vcnkgdXNlZCBieQpncHVzIGl0IGRvZXNuJ3QgcmVhbGx5IGhlbHAuIFRoYXQg
a2luZGEgb2Ygc3BlY2lhbCBHRlAgZmxhZyBmb3IgZ3B1cwpoYXMgY29tZSB1cCBpbiB0aGUgcGFz
dCB0aG91Z2guCi1EYW5pZWwKCj4gUmVnYXJkcywKPiBDaHJpc3RpYW4uCj4KPiA+Cj4gPj4gUmV2
ZXJ0aW5nIGV2ZXJ5dGhpbmcgYmFjayB3b3VsZCBtZWFuIHRoYXQgd2UgYWxzbyBuZWVkIHRvIHJl
dmVydCB0aGUKPiA+PiBzeXNmcyBjaGFuZ2VzIGFuZCBtb3ZlIGFsbCB0aGUgbWVtb3J5IGFjY291
bnRpbmcgY29kZSBmcm9tIFZNV0dGWCBiYWNrCj4gPj4gaW50byBUVE0uCj4gPiBIbSB5ZWFoIC4u
Lgo+ID4gLURhbmllbAo+ID4KPiA+PiBDaHJpc3RpYW4uCj4gPj4KPiA+Pj4gVGhlbiBJIGd1ZXNz
IHJldHJ5IGFnYWluIGZvciA1LjE0IG9yIHNvLgo+ID4+PiAtRGFuaWVsCj4gPj4+Cj4gPj4+PiAg
ICAvKgo+ID4+Pj4gICAgICogQWxsb2NhdGVzIGEgdHRtIHN0cnVjdHVyZSBmb3IgdGhlIGdpdmVu
IEJPLgo+ID4+Pj4gQEAgLTI5NCw4ICszMDQsNiBAQCBzdGF0aWMgdm9pZCB0dG1fdHRfYWRkX21h
cHBpbmcoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSkKPiA+Pj4+
Cj4gPj4+PiAgICAgICBmb3IgKGkgPSAwOyBpIDwgdHRtLT5udW1fcGFnZXM7ICsraSkKPiA+Pj4+
ICAgICAgICAgICAgICAgdHRtLT5wYWdlc1tpXS0+bWFwcGluZyA9IGJkZXYtPmRldl9tYXBwaW5n
Owo+ID4+Pj4gLQo+ID4+Pj4gLSAgICBhdG9taWNfbG9uZ19hZGQodHRtLT5udW1fcGFnZXMsICZz
d2FwYWJsZV9wYWdlcyk7Cj4gPj4+PiAgICB9Cj4gPj4+Pgo+ID4+Pj4gICAgaW50IHR0bV90dF9w
b3B1bGF0ZShzdHJ1Y3QgdHRtX2RldmljZSAqYmRldiwKPiA+Pj4+IEBAIC0zMDksMTIgKzMxNywy
NSBAQCBpbnQgdHRtX3R0X3BvcHVsYXRlKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LAo+ID4+Pj4g
ICAgICAgaWYgKHR0bV90dF9pc19wb3B1bGF0ZWQodHRtKSkKPiA+Pj4+ICAgICAgICAgICAgICAg
cmV0dXJuIDA7Cj4gPj4+Pgo+ID4+Pj4gKyAgICBhdG9taWNfbG9uZ19hZGQodHRtLT5udW1fcGFn
ZXMsICZ0dG1fcGFnZXNfYWxsb2NhdGVkKTsKPiA+Pj4+ICsgICAgaWYgKGJkZXYtPnBvb2wudXNl
X2RtYTMyKQo+ID4+Pj4gKyAgICAgICAgICAgIGF0b21pY19sb25nX2FkZCh0dG0tPm51bV9wYWdl
cywgJnR0bV9kbWEzMl9wYWdlc19hbGxvY2F0ZWQpOwo+ID4+Pj4gKwo+ID4+Pj4gKyAgICB3aGls
ZSAoYXRvbWljX2xvbmdfcmVhZCgmdHRtX3BhZ2VzX2FsbG9jYXRlZCkgPiB0dG1fcGFnZXNfbGlt
aXQgfHwKPiA+Pj4+ICsgICAgICAgICAgIGF0b21pY19sb25nX3JlYWQoJnR0bV9kbWEzMl9wYWdl
c19hbGxvY2F0ZWQpID4KPiA+Pj4+ICsgICAgICAgICAgIHR0bV9kbWEzMl9wYWdlc19saW1pdCkg
ewo+ID4+Pj4gKwo+ID4+Pj4gKyAgICAgICAgICAgIHJldCA9IHR0bV9ib19zd2Fwb3V0KGN0eCwg
R0ZQX0tFUk5FTCk7Cj4gPj4+PiArICAgICAgICAgICAgaWYgKHJldCkKPiA+Pj4+ICsgICAgICAg
ICAgICAgICAgICAgIGdvdG8gZXJyb3I7Cj4gPj4+PiArICAgIH0KPiA+Pj4+ICsKPiA+Pj4+ICAg
ICAgIGlmIChiZGV2LT5mdW5jcy0+dHRtX3R0X3BvcHVsYXRlKQo+ID4+Pj4gICAgICAgICAgICAg
ICByZXQgPSBiZGV2LT5mdW5jcy0+dHRtX3R0X3BvcHVsYXRlKGJkZXYsIHR0bSwgY3R4KTsKPiA+
Pj4+ICAgICAgIGVsc2UKPiA+Pj4+ICAgICAgICAgICAgICAgcmV0ID0gdHRtX3Bvb2xfYWxsb2Mo
JmJkZXYtPnBvb2wsIHR0bSwgY3R4KTsKPiA+Pj4+ICAgICAgIGlmIChyZXQpCj4gPj4+PiAtICAg
ICAgICAgICAgcmV0dXJuIHJldDsKPiA+Pj4+ICsgICAgICAgICAgICBnb3RvIGVycm9yOwo+ID4+
Pj4KPiA+Pj4+ICAgICAgIHR0bV90dF9hZGRfbWFwcGluZyhiZGV2LCB0dG0pOwo+ID4+Pj4gICAg
ICAgdHRtLT5wYWdlX2ZsYWdzIHw9IFRUTV9QQUdFX0ZMQUdfUFJJVl9QT1BVTEFURUQ7Cj4gPj4+
PiBAQCAtMzI3LDYgKzM0OCwxMiBAQCBpbnQgdHRtX3R0X3BvcHVsYXRlKHN0cnVjdCB0dG1fZGV2
aWNlICpiZGV2LAo+ID4+Pj4gICAgICAgfQo+ID4+Pj4KPiA+Pj4+ICAgICAgIHJldHVybiAwOwo+
ID4+Pj4gKwo+ID4+Pj4gK2Vycm9yOgo+ID4+Pj4gKyAgICBhdG9taWNfbG9uZ19zdWIodHRtLT5u
dW1fcGFnZXMsICZ0dG1fcGFnZXNfYWxsb2NhdGVkKTsKPiA+Pj4+ICsgICAgaWYgKGJkZXYtPnBv
b2wudXNlX2RtYTMyKQo+ID4+Pj4gKyAgICAgICAgICAgIGF0b21pY19sb25nX3N1Yih0dG0tPm51
bV9wYWdlcywgJnR0bV9kbWEzMl9wYWdlc19hbGxvY2F0ZWQpOwo+ID4+Pj4gKyAgICByZXR1cm4g
cmV0Owo+ID4+Pj4gICAgfQo+ID4+Pj4gICAgRVhQT1JUX1NZTUJPTCh0dG1fdHRfcG9wdWxhdGUp
Owo+ID4+Pj4KPiA+Pj4+IEBAIC0zNDIsMTIgKzM2OSw5IEBAIHN0YXRpYyB2b2lkIHR0bV90dF9j
bGVhcl9tYXBwaW5nKHN0cnVjdCB0dG1fdHQgKnR0bSkKPiA+Pj4+ICAgICAgICAgICAgICAgKCpw
YWdlKS0+bWFwcGluZyA9IE5VTEw7Cj4gPj4+PiAgICAgICAgICAgICAgICgqcGFnZSsrKS0+aW5k
ZXggPSAwOwo+ID4+Pj4gICAgICAgfQo+ID4+Pj4gLQo+ID4+Pj4gLSAgICBhdG9taWNfbG9uZ19z
dWIodHRtLT5udW1fcGFnZXMsICZzd2FwYWJsZV9wYWdlcyk7Cj4gPj4+PiAgICB9Cj4gPj4+Pgo+
ID4+Pj4gLXZvaWQgdHRtX3R0X3VucG9wdWxhdGUoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4g
Pj4+PiAtICAgICAgICAgICAgICAgICAgIHN0cnVjdCB0dG1fdHQgKnR0bSkKPiA+Pj4+ICt2b2lk
IHR0bV90dF91bnBvcHVsYXRlKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LCBzdHJ1Y3QgdHRtX3R0
ICp0dG0pCj4gPj4+PiAgICB7Cj4gPj4+PiAgICAgICBpZiAoIXR0bV90dF9pc19wb3B1bGF0ZWQo
dHRtKSkKPiA+Pj4+ICAgICAgICAgICAgICAgcmV0dXJuOwo+ID4+Pj4gQEAgLTM1Nyw3NiArMzgx
LDI0IEBAIHZvaWQgdHRtX3R0X3VucG9wdWxhdGUoc3RydWN0IHR0bV9kZXZpY2UgKmJkZXYsCj4g
Pj4+PiAgICAgICAgICAgICAgIGJkZXYtPmZ1bmNzLT50dG1fdHRfdW5wb3B1bGF0ZShiZGV2LCB0
dG0pOwo+ID4+Pj4gICAgICAgZWxzZQo+ID4+Pj4gICAgICAgICAgICAgICB0dG1fcG9vbF9mcmVl
KCZiZGV2LT5wb29sLCB0dG0pOwo+ID4+Pj4gLSAgICB0dG0tPnBhZ2VfZmxhZ3MgJj0gflRUTV9Q
QUdFX0ZMQUdfUFJJVl9QT1BVTEFURUQ7Cj4gPj4+PiAtfQo+ID4+Pj4gLQo+ID4+Pj4gLS8qIEFz
IGxvbmcgYXMgcGFnZXMgYXJlIGF2YWlsYWJsZSBtYWtlIHN1cmUgdG8gcmVsZWFzZSBhdCBsZWFz
dCBvbmUgKi8KPiA+Pj4+IC1zdGF0aWMgdW5zaWduZWQgbG9uZyB0dG1fdHRfc2hyaW5rZXJfc2Nh
bihzdHJ1Y3Qgc2hyaW5rZXIgKnNocmluaywKPiA+Pj4+IC0gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHN0cnVjdCBzaHJpbmtfY29udHJvbCAqc2MpCj4gPj4+PiAtewo+ID4+
Pj4gLSAgICBzdHJ1Y3QgdHRtX29wZXJhdGlvbl9jdHggY3R4ID0gewo+ID4+Pj4gLSAgICAgICAg
ICAgIC5ub193YWl0X2dwdSA9IGZhbHNlCj4gPj4+PiAtICAgIH07Cj4gPj4+PiAtICAgIGludCBy
ZXQ7Cj4gPj4+PiAtCj4gPj4+PiAtICAgIHJldCA9IHR0bV9ib19zd2Fwb3V0KCZjdHgsIEdGUF9O
T0ZTKTsKPiA+Pj4+IC0gICAgcmV0dXJuIHJldCA8IDAgPyBTSFJJTktfRU1QVFkgOiByZXQ7Cj4g
Pj4+PiAtfQo+ID4+Pj4gLQo+ID4+Pj4gLS8qIFJldHVybiB0aGUgbnVtYmVyIG9mIHBhZ2VzIGF2
YWlsYWJsZSBvciBTSFJJTktfRU1QVFkgaWYgd2UgaGF2ZSBub25lICovCj4gPj4+PiAtc3RhdGlj
IHVuc2lnbmVkIGxvbmcgdHRtX3R0X3Nocmlua2VyX2NvdW50KHN0cnVjdCBzaHJpbmtlciAqc2hy
aW5rLAo+ID4+Pj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVj
dCBzaHJpbmtfY29udHJvbCAqc2MpCj4gPj4+PiAtewo+ID4+Pj4gLSAgICB1bnNpZ25lZCBsb25n
IG51bV9wYWdlczsKPiA+Pj4+IC0KPiA+Pj4+IC0gICAgbnVtX3BhZ2VzID0gYXRvbWljX2xvbmdf
cmVhZCgmc3dhcGFibGVfcGFnZXMpOwo+ID4+Pj4gLSAgICByZXR1cm4gbnVtX3BhZ2VzID8gbnVt
X3BhZ2VzIDogU0hSSU5LX0VNUFRZOwo+ID4+Pj4gLX0KPiA+Pj4+Cj4gPj4+PiAtI2lmZGVmIENP
TkZJR19ERUJVR19GUwo+ID4+Pj4gKyAgICBhdG9taWNfbG9uZ19zdWIodHRtLT5udW1fcGFnZXMs
ICZ0dG1fcGFnZXNfYWxsb2NhdGVkKTsKPiA+Pj4+ICsgICAgaWYgKGJkZXYtPnBvb2wudXNlX2Rt
YTMyKQo+ID4+Pj4gKyAgICAgICAgICAgIGF0b21pY19sb25nX3N1Yih0dG0tPm51bV9wYWdlcywg
JnR0bV9kbWEzMl9wYWdlc19hbGxvY2F0ZWQpOwo+ID4+Pj4KPiA+Pj4+IC0vKiBUZXN0IHRoZSBz
aHJpbmtlciBmdW5jdGlvbnMgYW5kIGR1bXAgdGhlIHJlc3VsdCAqLwo+ID4+Pj4gLXN0YXRpYyBp
bnQgdHRtX3R0X2RlYnVnZnNfc2hyaW5rX3Nob3coc3RydWN0IHNlcV9maWxlICptLCB2b2lkICpk
YXRhKQo+ID4+Pj4gLXsKPiA+Pj4+IC0gICAgc3RydWN0IHNocmlua19jb250cm9sIHNjID0geyAu
Z2ZwX21hc2sgPSBHRlBfS0VSTkVMIH07Cj4gPj4+PiAtCj4gPj4+PiAtICAgIGZzX3JlY2xhaW1f
YWNxdWlyZShHRlBfS0VSTkVMKTsKPiA+Pj4+IC0gICAgc2VxX3ByaW50ZihtLCAiJWx1LyVsdVxu
IiwgdHRtX3R0X3Nocmlua2VyX2NvdW50KCZtbV9zaHJpbmtlciwgJnNjKSwKPiA+Pj4+IC0gICAg
ICAgICAgICAgICB0dG1fdHRfc2hyaW5rZXJfc2NhbigmbW1fc2hyaW5rZXIsICZzYykpOwo+ID4+
Pj4gLSAgICBmc19yZWNsYWltX3JlbGVhc2UoR0ZQX0tFUk5FTCk7Cj4gPj4+PiAtCj4gPj4+PiAt
ICAgIHJldHVybiAwOwo+ID4+Pj4gKyAgICB0dG0tPnBhZ2VfZmxhZ3MgJj0gflRUTV9QQUdFX0ZM
QUdfUFJJVl9QT1BVTEFURUQ7Cj4gPj4+PiAgICB9Cj4gPj4+PiAtREVGSU5FX1NIT1dfQVRUUklC
VVRFKHR0bV90dF9kZWJ1Z2ZzX3Nocmluayk7Cj4gPj4+PiAtCj4gPj4+PiAtI2VuZGlmCj4gPj4+
PiAtCj4gPj4+PiAtCj4gPj4+Pgo+ID4+Pj4gICAgLyoqCj4gPj4+PiAgICAgKiB0dG1fdHRfbWdy
X2luaXQgLSByZWdpc3RlciB3aXRoIHRoZSBNTSBzaHJpbmtlcgo+ID4+Pj4gICAgICoKPiA+Pj4+
ICAgICAqIFJlZ2lzdGVyIHdpdGggdGhlIE1NIHNocmlua2VyIGZvciBzd2FwcGluZyBvdXQgQk9z
Lgo+ID4+Pj4gICAgICovCj4gPj4+PiAtaW50IHR0bV90dF9tZ3JfaW5pdCh2b2lkKQo+ID4+Pj4g
K3ZvaWQgdHRtX3R0X21ncl9pbml0KHVuc2lnbmVkIGxvbmcgbnVtX3BhZ2VzLCB1bnNpZ25lZCBs
b25nIG51bV9kbWEzMl9wYWdlcykKPiA+Pj4+ICAgIHsKPiA+Pj4+IC0jaWZkZWYgQ09ORklHX0RF
QlVHX0ZTCj4gPj4+PiAtICAgIGRlYnVnZnNfY3JlYXRlX2ZpbGUoInR0X3NocmluayIsIDA0MDAs
IHR0bV9kZWJ1Z2ZzX3Jvb3QsIE5VTEwsCj4gPj4+PiAtICAgICAgICAgICAgICAgICAgICAgICAg
JnR0bV90dF9kZWJ1Z2ZzX3Nocmlua19mb3BzKTsKPiA+Pj4+IC0jZW5kaWYKPiA+Pj4+IC0KPiA+
Pj4+IC0gICAgbW1fc2hyaW5rZXIuY291bnRfb2JqZWN0cyA9IHR0bV90dF9zaHJpbmtlcl9jb3Vu
dDsKPiA+Pj4+IC0gICAgbW1fc2hyaW5rZXIuc2Nhbl9vYmplY3RzID0gdHRtX3R0X3Nocmlua2Vy
X3NjYW47Cj4gPj4+PiAtICAgIG1tX3Nocmlua2VyLnNlZWtzID0gMTsKPiA+Pj4+IC0gICAgcmV0
dXJuIHJlZ2lzdGVyX3Nocmlua2VyKCZtbV9zaHJpbmtlcik7Cj4gPj4+PiAtfQo+ID4+Pj4gKyAg
ICBpZiAoIXR0bV9wYWdlc19saW1pdCkKPiA+Pj4+ICsgICAgICAgICAgICB0dG1fcGFnZXNfbGlt
aXQgPSBudW1fcGFnZXM7Cj4gPj4+Pgo+ID4+Pj4gLS8qKgo+ID4+Pj4gLSAqIHR0bV90dF9tZ3Jf
ZmluaSAtIHVucmVnaXN0ZXIgb3VyIE1NIHNocmlua2VyCj4gPj4+PiAtICoKPiA+Pj4+IC0gKiBV
bnJlZ2lzdGVycyB0aGUgTU0gc2hyaW5rZXIuCj4gPj4+PiAtICovCj4gPj4+PiAtdm9pZCB0dG1f
dHRfbWdyX2Zpbmkodm9pZCkKPiA+Pj4+IC17Cj4gPj4+PiAtICAgIHVucmVnaXN0ZXJfc2hyaW5r
ZXIoJm1tX3Nocmlua2VyKTsKPiA+Pj4+ICsgICAgaWYgKCF0dG1fZG1hMzJfcGFnZXNfbGltaXQp
Cj4gPj4+PiArICAgICAgICAgICAgdHRtX2RtYTMyX3BhZ2VzX2xpbWl0ID0gbnVtX2RtYTMyX3Bh
Z2VzOwo+ID4+Pj4gICAgfQo+ID4+Pj4gZGlmZiAtLWdpdCBhL2luY2x1ZGUvZHJtL3R0bS90dG1f
dHQuaCBiL2luY2x1ZGUvZHJtL3R0bS90dG1fdHQuaAo+ID4+Pj4gaW5kZXggMDY5ZjgxMzAyNDFh
Li4xMzRkMDllZjc3NjYgMTAwNjQ0Cj4gPj4+PiAtLS0gYS9pbmNsdWRlL2RybS90dG0vdHRtX3R0
LmgKPiA+Pj4+ICsrKyBiL2luY2x1ZGUvZHJtL3R0bS90dG1fdHQuaAo+ID4+Pj4gQEAgLTE1Nyw4
ICsxNTcsNyBAQCBpbnQgdHRtX3R0X3BvcHVsYXRlKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LCBz
dHJ1Y3QgdHRtX3R0ICp0dG0sIHN0cnVjdCB0dG1fb3Blcgo+ID4+Pj4gICAgICovCj4gPj4+PiAg
ICB2b2lkIHR0bV90dF91bnBvcHVsYXRlKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LCBzdHJ1Y3Qg
dHRtX3R0ICp0dG0pOwo+ID4+Pj4KPiA+Pj4+IC1pbnQgdHRtX3R0X21ncl9pbml0KHZvaWQpOwo+
ID4+Pj4gLXZvaWQgdHRtX3R0X21ncl9maW5pKHZvaWQpOwo+ID4+Pj4gK3ZvaWQgdHRtX3R0X21n
cl9pbml0KHVuc2lnbmVkIGxvbmcgbnVtX3BhZ2VzLCB1bnNpZ25lZCBsb25nIG51bV9kbWEzMl9w
YWdlcyk7Cj4gPj4+Pgo+ID4+Pj4gICAgI2lmIElTX0VOQUJMRUQoQ09ORklHX0FHUCkKPiA+Pj4+
ICAgICNpbmNsdWRlIDxsaW51eC9hZ3BfYmFja2VuZC5oPgo+ID4+Pj4gLS0KPiA+Pj4+IDIuMjUu
MQo+ID4+Pj4KPiA+PiBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwo+ID4+IGRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKPiA+PiBkcmktZGV2ZWxAbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnCj4gPj4gaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9s
aXN0aW5mby9kcmktZGV2ZWwKPiA+Cj4gPgo+CgoKLS0gCkRhbmllbCBWZXR0ZXIKU29mdHdhcmUg
RW5naW5lZXIsIEludGVsIENvcnBvcmF0aW9uCmh0dHA6Ly9ibG9nLmZmd2xsLmNoCl9fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5n
IGxpc3QKZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVk
ZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbAo=
