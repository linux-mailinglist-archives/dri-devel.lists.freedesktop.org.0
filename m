Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 8B65A7C505
	for <lists+dri-devel@lfdr.de>; Wed, 31 Jul 2019 16:35:41 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0326889EBD;
	Wed, 31 Jul 2019 14:35:39 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from honk.sigxcpu.org (honk.sigxcpu.org [24.134.29.49])
 by gabe.freedesktop.org (Postfix) with ESMTPS id F280989EBD
 for <dri-devel@lists.freedesktop.org>; Wed, 31 Jul 2019 14:35:37 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by honk.sigxcpu.org (Postfix) with ESMTP id 91636FB03;
 Wed, 31 Jul 2019 16:35:35 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at honk.sigxcpu.org
Received: from honk.sigxcpu.org ([127.0.0.1])
 by localhost (honk.sigxcpu.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id mN0EiOp_Zs2F; Wed, 31 Jul 2019 16:35:32 +0200 (CEST)
Received: by bogon.sigxcpu.org (Postfix, from userid 1000)
 id 731A246D8A; Wed, 31 Jul 2019 16:35:32 +0200 (CEST)
Date: Wed, 31 Jul 2019 16:35:32 +0200
From: Guido =?iso-8859-1?Q?G=FCnther?= <agx@sigxcpu.org>
To: Fabio Estevam <festevam@gmail.com>
Subject: Re: [PATCH 3/3] drm/bridge: Add NWL MIPI DSI host controller support
Message-ID: <20190731143532.GA1935@bogon.m.sigxcpu.org>
References: <cover.1563983037.git.agx@sigxcpu.org>
 <3158f4f8c97c21f98c394e5631d74bc60d796522.1563983037.git.agx@sigxcpu.org>
 <CAOMZO5BRbV_1du1b9eJqcBvvXSE2Mon3yxSPJxPpZgBqYNjBSg@mail.gmail.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <CAOMZO5BRbV_1du1b9eJqcBvvXSE2Mon3yxSPJxPpZgBqYNjBSg@mail.gmail.com>
User-Agent: Mutt/1.10.1 (2018-07-13)
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Mark Rutland <mark.rutland@arm.com>,
 "open list:OPEN FIRMWARE AND FLATTENED DEVICE TREE BINDINGS"
 <devicetree@vger.kernel.org>, Jernej Skrabec <jernej.skrabec@siol.net>,
 Pengutronix Kernel Team <kernel@pengutronix.de>,
 Neil Armstrong <narmstrong@baylibre.com>, David Airlie <airlied@linux.ie>,
 Lee Jones <lee.jones@linaro.org>, Jonas Karlman <jonas@kwiboo.se>,
 linux-kernel <linux-kernel@vger.kernel.org>,
 DRI mailing list <dri-devel@lists.freedesktop.org>,
 Rob Herring <robh+dt@kernel.org>, NXP Linux Team <linux-imx@nxp.com>,
 Robert Chiras <robert.chiras@nxp.com>, Chris Healy <cphealy@gmail.com>,
 Shawn Guo <shawnguo@kernel.org>,
 "moderated list:ARM/FREESCALE IMX / MXC ARM ARCHITECTURE"
 <linux-arm-kernel@lists.infradead.org>,
 Laurent Pinchart <Laurent.pinchart@ideasonboard.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

SGkgRmFiaW8sCnRoYW5rcyBmb3IgaGF2aW5nIGEgbG9vayEgSSBmb2xsb3dlZCBtb3N0IG9mIHlv
dXIgY29tbWVudHMsIHRoZXJlJ3Mgc29tZQp0aGluZ3MgaSdtIHVuc3VyZSwgc2VlIGJlbG93OgoK
T24gRnJpLCBKdWwgMjYsIDIwMTkgYXQgMDU6MDE6NTJQTSAtMDMwMCwgRmFiaW8gRXN0ZXZhbSB3
cm90ZToKPiBIaSBHdWlkbywKPiAKPiBUaGFua3MgZm9yIHlvdXIgd29yayBvbiB0aGlzIGRyaXZl
ciEKPiAKPiBPbiBXZWQsIEp1bCAyNCwgMjAxOSBhdCAxMjo1MiBQTSBHdWlkbyBHw7xudGhlciA8
YWd4QHNpZ3hjcHUub3JnPiB3cm90ZToKPiAKPiA+IC0tLSAvZGV2L251bGwKPiA+ICsrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9icmlkZ2UvaW14LW53bC9LY29uZmlnCj4gPiBAQCAtMCwwICsxLDE1IEBA
Cj4gPiArY29uZmlnIERSTV9JTVhfTldMX0RTSQo+ID4gKyAgICAgICB0cmlzdGF0ZSAiU3VwcG9y
dCBmb3IgTm9ydGh3ZXN0IExvZ2ljIE1JUEkgRFNJIEhvc3QgY29udHJvbGxlciIKPiA+ICsgICAg
ICAgZGVwZW5kcyBvbiBEUk0gJiYgKEFSQ0hfTVhDIHx8IEFSQ0hfTVVMVElQTEFURk9STSB8fCBD
T01QSUxFX1RFU1QpCj4gCj4gCj4gVGhpcyBJUCBjb3VsZCBwb3RlbnRpYWxseSBiZSBmb3VuZCBv
biBvdGhlciBTb0NzLCBzbyBubyBuZWVkIHRvIG1ha2UKPiBpdCBkZXBlbmQgb24gQVJDSF9NWEMu
CgpEb25lLgoKPiA+ICsjaW5jbHVkZSA8ZHJtL2RybV9hdG9taWNfaGVscGVyLmg+Cj4gPiArI2lu
Y2x1ZGUgPGRybS9kcm1fb2YuaD4KPiA+ICsjaW5jbHVkZSA8ZHJtL2RybV9wYW5lbC5oPgo+ID4g
KyNpbmNsdWRlIDxkcm0vZHJtX3ByaW50Lmg+Cj4gPiArI2luY2x1ZGUgPGRybS9kcm1fcHJvYmVf
aGVscGVyLmg+Cj4gPiArI2luY2x1ZGUgPGxpbnV4L2Nsay1wcm92aWRlci5oPgo+ID4gKyNpbmNs
dWRlIDxsaW51eC9jbGsuaD4KPiA+ICsjaW5jbHVkZSA8bGludXgvY29tcG9uZW50Lmg+Cj4gPiAr
I2luY2x1ZGUgPGxpbnV4L2dwaW8vY29uc3VtZXIuaD4KPiAKPiBJIGRpZCBub3QgZmluZCBncGlv
IEFQIHVzZWQgaW4gdGhpcyBkcml2ZXIuCgpEcm9wcGVkIHRoZSBpbmNsdWRlLgoKPiAKPiA+ICtz
dGF0aWMgdm9pZCBpbXhfbndsX2RzaV9zZXRfY2xvY2tzKHN0cnVjdCBpbXhfbndsX2RzaSAqZHNp
LCBib29sIGVuYWJsZSkKPiAKPiBCZXR0ZXIgbWFrZSBpdCB0byByZXR1cm4gJ2ludCcgaW5zdGVh
ZC4uLgoKRG9uZSwgYnV0IHNlZSBiZWxvdy4KCj4gCj4gPiArewo+ID4gKyAgICAgICBzdHJ1Y3Qg
ZGV2aWNlICpkZXYgPSBkc2ktPmRldjsKPiA+ICsgICAgICAgY29uc3QgY2hhciAqaWQ7Cj4gPiAr
ICAgICAgIHN0cnVjdCBjbGsgKmNsazsKPiA+ICsgICAgICAgdW5zaWduZWQgbG9uZyBuZXdfcmF0
ZSwgY3VyX3JhdGU7Cj4gPiArICAgICAgIGJvb2wgZW5hYmxlZDsKPiA+ICsgICAgICAgc2l6ZV90
IGk7Cj4gPiArICAgICAgIGludCByZXQ7Cj4gPiArCj4gPiArICAgICAgIERSTV9ERVZfREVCVUdf
RFJJVkVSKGRldiwgIiVzYWJsaW5nIHBsYXRmb3JtIGNsb2NrcyIsCj4gCj4gUGxlYXNlIHJlbW92
ZSB0aGUgbGV0dGVyICdzJyBmcm9tICdzYWJsaW5nJy4KClRoZSBpZGVhIGlzIHRvIGhhdmUKCiAg
ICAiJXNhYmxpbmcgcGxhdGZvcm0gY2xvY2tzIiwgZW5hYmxlID8gImVuIiA6ICJkaXMiKTsKCmRl
cGVuZGluZyB3aGV0aGVyIGNsb2NrcyBhcmUgZW5hYmxlZC9kaXNhYmxlZC4KCj4gCj4gPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZSA/ICJlbiIgOiAiZGlzIik7Cj4gPiArICAg
ICAgICAgICAgICAgICAgICAgICByZXQgPSBjbGtfcHJlcGFyZV9lbmFibGUoY2xrKTsKPiA+ICsg
ICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXQgPCAwKSB7Cj4gPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIERSTV9ERVZfRVJST1IoZGV2LCAiRmFpbGVkIHRvIGVuYWJsZSBjbG9j
ayAlcyIsCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
aWQpOwo+IAo+IGFuZCBwcm9wYWdhdGUgdGhlIGVycm9yIGluIGNhc2Ugb2YgY2xrX3ByZXBhcmVf
ZW5hYmxlKCkgZmFpbHVyZS4KCmRvbmUuCgo+IAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAg
fQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgZHNpLT5jbGtfY29uZmlnW2ldLmVuYWJsZWQg
PSB0cnVlOwo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgY3VyX3JhdGUgPSBjbGtfZ2V0X3Jh
dGUoY2xrKTsKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgIERSTV9ERVZfREVCVUdfRFJJVkVS
KAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXYsICJFbmFibGVkICVzIGNs
ayAocmF0ZTogcmVxPSVsdSBhY3Q9JWx1KVxuIiwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgaWQsIG5ld19yYXRlLCBjdXJfcmF0ZSk7Cj4gPiArICAgICAgICAgICAgICAgfSBl
bHNlIGlmIChlbmFibGVkKSB7Cj4gPiArICAgICAgICAgICAgICAgICAgICAgICBjbGtfZGlzYWJs
ZV91bnByZXBhcmUoY2xrKTsKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgIGRzaS0+Y2xrX2Nv
bmZpZ1tpXS5lbmFibGVkID0gZmFsc2U7Cj4gPiArICAgICAgICAgICAgICAgICAgICAgICBEUk1f
REVWX0RFQlVHX0RSSVZFUihkZXYsICJEaXNhYmxlZCAlcyBjbGtcbiIsIGlkKTsKPiA+ICsgICAg
ICAgICAgICAgICB9Cj4gPiArICAgICAgIH0KPiA+ICt9Cj4gPiArCj4gPiArc3RhdGljIHZvaWQg
aW14X253bF9kc2lfZW5hYmxlKHN0cnVjdCBpbXhfbndsX2RzaSAqZHNpKQo+IAo+IFNhbWUgaGVy
ZS4gUGxlYXNlIHJldHVybiAnaW50JyBpbnN0ZWFkLgoKVGhpcyBpcyBmcm9tIGRybV9icmlkZ2Vf
ZnVuY3Mgc28gdGhlIHByb3RvdHlwZSBpcyBmaXhlZC4gSSdtIG5vdCBzdXJlCmhvdyB3aGF0J3Mg
dGhlIGJlc3Qgd2F5IHRvIGJ1YmJsZSB1cCBmYXRhbCBlcnJvcnMgdGhyb3VnaCB0aGUgZHJtIGxh
eWVyPwoKPiA+ICt7Cj4gPiArICAgICAgIHN0cnVjdCBkZXZpY2UgKmRldiA9IGRzaS0+ZGV2Owo+
ID4gKyAgICAgICBpbnQgcmV0Owo+ID4gKwo+ID4gKyAgICAgICBpbXhfbndsX2RzaV9zZXRfY2xv
Y2tzKGRzaSwgdHJ1ZSk7Cj4gPiArCj4gPiArICAgICAgIHJldCA9IGRzaS0+cGRhdGEtPnBvd2Vy
b24oZHNpKTsKPiA+ICsgICAgICAgaWYgKHJldCA8IDApCj4gPiArICAgICAgICAgICAgICAgRFJN
X0RFVl9FUlJPUihkZXYsICJGYWlsZWQgdG8gcG93ZXIgb24gRFNJICglZClcbiIsIHJldCk7Cj4g
Cj4gSWYgdGhlIHBvd2VyIGRvbWFpbiBmYWlsZWQgdG8gdHVybiBvbiwgaXQgaXMgYmV0dGVyIHRv
IHByb3BhZ2F0ZSB0aGUKPiBlcnJvci4KCklmIGZpeGVkIHRoZSByZXR1cm4gdHlwZSBoZXJlIGFz
IHdlbGwgYnV0IHRoaXMgd2lsbCBhZ2FpbiBnZXQgbG9zdCBpbgpgX3ByZV9lbmFibGVgIHdoaWNo
IGFnYWluIGlzIHZvaWQgaW4gZHJtX2JyaWRnZV9mdW5jcyAoc2VlIGJlbG93KS4KCj4gCj4gPiAr
ICAgICAgIHBoeV9yZWZfcmF0ZSA9IGNsa19nZXRfcmF0ZShkc2ktPnBoeV9yZWZfY2xrKTsKPiA+
ICsgICAgICAgRFJNX0RFVl9ERUJVR19EUklWRVIoZGV2LCAiUEhZIGF0IHJlZiByYXRlOiAlbHVc
biIsIHBoeV9yZWZfcmF0ZSk7Cj4gPiArICAgICAgIGlmIChyZXQgPCAwKSB7Cj4gCj4gVGhpcyBj
aGVjayBsb29rcyB3cm9uZy4gQXQgdGhpcyBwb2ludCByZXQgaXMgYWx3YXlzIDAuCgpGaXhlZC4K
Cj4gCj4gPiArICAgICAgICAgICAgICAgRFJNX0RFVl9FUlJPUihkc2ktPmRldiwKPiA+ICsgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICJDYW5ub3Qgc2V0dXAgUEhZIGZvciBtb2RlOiAldXgl
dSBAJWQgSHpcbiIsCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGp1c3RlZF9t
b2RlLT5oZGlzcGxheSwgYWRqdXN0ZWRfbW9kZS0+dmRpc3BsYXksCj4gPiArICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBhZGp1c3RlZF9tb2RlLT5jbG9jayk7Cj4gPiArICAgICAgICAgICAg
ICAgRFJNX0RFVl9FUlJPUihkc2ktPmRldiwgIlBIWSByZWYgY2xrOiAlbHUsIGJpdCBjbGs6ICVs
dVxuIiwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBoeV9yZWZfcmF0ZSwgbmV3
X2NmZy5taXBpX2RwaHkuaHNfY2xrX3JhdGUpOwo+ID4gKyAgICAgICB9IGVsc2Ugewo+ID4gKyAg
ICAgICAgICAgICAgIC8qIFNhdmUgdGhlIG5ldyBkZXNpcmVkIHBoeSBjb25maWcgKi8KPiA+ICsg
ICAgICAgICAgICAgICBtZW1jcHkoJmRzaS0+cGh5X2NmZywgJm5ld19jZmcsIHNpemVvZihuZXdf
Y2ZnKSk7Cj4gPiArICAgICAgIH0KPiA+ICsKPiA+ICsgICAgICAgLyogTENESUYgKyBOV0wgbmVl
ZHMgYWN0aXZlIGhpZ2ggc3luYyAqLwo+IAo+IFdvdWxkIHRoaXMgc3RpbGwgd29yayBpZiBEQ1NT
IGlzIHVzZWQgaW5zdGVhZD8KCkknbGwgY2hlY2sgb25jZSB0aGVyZSdzIGEgRENTUyBkcml2ZXIg
dGhhdCBjYW4gZHJpdmUgdGhpcy4gVGhlIGN1cnJlbnQKdmVuZG9yIG9uZSBpcyBib3VuZCB0byBp
bXgtZGlzcGxheXMtc3Vic3lzdGVtIGFuZCBjYW50JyBkcml2ZSBhIGJyaWRnZS4KCj4gCj4gPiAr
ICAgICAgIGFkanVzdGVkX21vZGUtPmZsYWdzIHw9IChEUk1fTU9ERV9GTEFHX1BIU1lOQyB8IERS
TV9NT0RFX0ZMQUdfUFZTWU5DKTsKPiA+ICsgICAgICAgYWRqdXN0ZWRfbW9kZS0+ZmxhZ3MgJj0g
fihEUk1fTU9ERV9GTEFHX05IU1lOQyB8IERSTV9NT0RFX0ZMQUdfTlZTWU5DKTsKPiA+ICsKPiA+
ICsgICAgICAgZHJtX2Rpc3BsYXlfbW9kZV90b192aWRlb21vZGUoYWRqdXN0ZWRfbW9kZSwgJmRz
aS0+dm0pOwo+ID4gKyAgICAgICBkcm1fbW9kZV9kZWJ1Z19wcmludG1vZGVsaW5lKGFkanVzdGVk
X21vZGUpOwo+ID4gKwo+ID4gKyAgICAgICByZXR1cm4gcmV0ID09IDA7Cj4gCj4gQXQgdGhpcyBw
b2ludCByZXQgaXMgYWx3YXlzIDAuCgpSaWdodCwgdGhlcmUgd2FzIHNvbWUgbW9yZSBsb2dpYyBp
biB0aGVyZSB0aGF0IGdvdCByZW1vdmVkLiBDaGFuZ2VkIHRvCmFsd2F5cyBzaWduYWwgc3VjY2Vz
cy4KCj4gCj4gPiArc3RhdGljIHZvaWQgaW14X253bF9kc2lfYnJpZGdlX3ByZV9lbmFibGUoc3Ry
dWN0IGRybV9icmlkZ2UgKmJyaWRnZSkKPiA+ICt7Cj4gPiArICAgICAgIHN0cnVjdCBpbXhfbnds
X2RzaSAqZHNpID0gYnJpZGdlX3RvX2RzaShicmlkZ2UpOwo+ID4gKwo+ID4gKyAgICAgICBpZiAo
ZHNpLT5kcG1zX21vZGUgPT0gRFJNX01PREVfRFBNU19PTikKPiA+ICsgICAgICAgICAgICAgICBy
ZXR1cm47Cj4gPiArCj4gPiArICAgICAgIGlteF9ud2xfc2VsZWN0X2lucHV0X3NvdXJjZShkc2kp
Owo+IAo+IFRoaXMgZnVuY3Rpb24gaXMgaS5NWDhNIHNwZWNpZmljLCBzbyBiZXR0ZXIgcHJvdGVj
dCBpdCB0byBydW4gb25seSBmb3IKPiB0aGUgaS5NWDhNIHZhcmlhbnQuCgpNb3ZlZCBpbnRvIGlt
eF9ud2xfcGxhdGZvcm1fZGF0YS4KCj4gCj4gPiArICAgICAgIHBtX3J1bnRpbWVfZ2V0X3N5bmMo
ZHNpLT5kZXYpOwo+ID4gKyAgICAgICBpbXhfbndsX2RzaV9lbmFibGUoZHNpKTsKPiA+ICsgICAg
ICAgbndsX2RzaV9lbmFibGUoZHNpKTsKPiAKPiBQbGVhc2UgY2hlY2sgdGhlIGVycm9yIGFuZCBw
cm9wYWdhdGUgaW4gdGhlIGNhc2Ugb2YgZmFpbHVyZS4KClRoaXMgb25lIGlzIGFnYWluIGhvb2tl
ZCBpbiBmcm9tIGRybV9icmlkZ2VfZnVuY3Mgd2hpY2ggaXMgdm9pZC4KCj4gCj4gPiArICAgICAg
IGRzaS0+ZHBtc19tb2RlID0gRFJNX01PREVfRFBNU19PTjsKPiA+ICt9Cj4gPiArCj4gCj4gPiAr
ICAgICAgIGRzaS0+Y3NyID0gc3lzY29uX3JlZ21hcF9sb29rdXBfYnlfcGhhbmRsZShucCwgImNz
ciIpOwo+ID4gKyAgICAgICBpZiAoSVNfRVJSKGRzaS0+Y3NyKSAmJiBkc2ktPnBkYXRhLT5leHRf
cmVncyAmIElNWF9SRUdfQ1NSKSB7Cj4gPiArICAgICAgICAgICAgICAgcmV0ID0gUFRSX0VSUihk
c2ktPmNzcik7Cj4gPiArICAgICAgICAgICAgICAgRFJNX0RFVl9FUlJPUihkc2ktPmRldiwgIkZh
aWxlZCB0byBnZXQgQ1NSIHJlZ21hcDogJWRcbiIsCj4gCj4gSW4gdGhpcyBmdW5jdGlvbiAoYW5k
IGdsb2JhbGx5IGluIHRoZSBkcml2ZXIpIHRoZXJlIGlzIGEgbWl4IG9mCj4gRFJNX0RFVl9FUlJP
UigpIGFuZCBkZXZfZXJyKCkuCj4gCj4gQ2FuIHdlIGp1c3QgcGljayBvbmUgb2YgdGhlIHR3byBh
bmQgdXNlIGl0IGNvbnNpc3RlbnRseT8KPiAKPiBOb3Qgc3VyZSB3aGF0IGlzIHRoZSBub3JtIGlu
IGRybSBjb2RlLCBidXQgSU1ITyBkZXZfZXJyKCkgbG9va3MKPiBwcmV0dGllciA6LSkKCkkgd2Vu
dCBmb3IgRFJNX0RFVl9FUlJPUigpIHNpbmNlIHRoYXQgd2hhdCBpIHVzZWQgaW4gdGhlIHJlc3Qg
b2YgdGhlCmRyaXZlciBhbmQgdGhlc2Ugb25lcyB3ZXJlIG9taXNzaW9uLiBIb3BlIHRoYXQncyBv
LmsuCgo+IAo+ID4gKwo+ID4gKyAgICAgICByZXMgPSBwbGF0Zm9ybV9nZXRfcmVzb3VyY2UocGRl
diwgSU9SRVNPVVJDRV9NRU0sIDApOwo+ID4gKyAgICAgICBiYXNlID0gZGV2bV9pb3JlbWFwX3Jl
c291cmNlKGRzaS0+ZGV2LCByZXMpOwo+IAo+IENvdWxkIHVzZSBkZXZtX3BsYXRmb3JtX2lvcmVt
YXBfcmVzb3VyY2UoKSwgd2hpY2ggbWFrZXMgaXQgc2ltcGxlci4KCkRvbmUuCgo+IAo+ID4gK2Vy
cl9jbGVhbnVwOgo+ID4gKyAgICAgICBkZXZtX2ZyZWVfaXJxKGRldiwgZHNpLT5pcnEsIGRzaSk7
Cj4gCj4gTm8gbmVlZCB0byBjYWxsIGRldm1fZnJlZV9pcnEoKSBoZXJlLiBUaGUgZGV2bSBmdW5j
dGlvbnMgZG8gbm90IG5lZWQKPiB0byBiZSBmcmVlZCBvbiBwcm9iZS4KClJlbW92ZWQuCgo+IAo+
ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvaW14LW53bC9ud2wtZHNpLmMg
Yi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2lteC1ud2wvbndsLWRzaS5jCj4gPiBuZXcgZmlsZSBt
b2RlIDEwMDY0NAo+ID4gaW5kZXggMDAwMDAwMDAwMDAwLi4wZTE0NjNhZjE2MmYKPiA+IC0tLSAv
ZGV2L251bGwKPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvaW14LW53bC9ud2wtZHNp
LmMKPiA+IEBAIC0wLDAgKzEsNzQ1IEBACj4gPiArLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6
IEdQTC0yLjArCj4gPiArLyoKPiA+ICsgKiBOV0wgRFNJIGhvc3QgZHJpdmVyCj4gPiArICoKPiA+
ICsgKiBDb3B5cmlnaHQgKEMpIDIwMTcgTlhQCj4gPiArICogQ29weXJpZ2h0IChDKSAyMDE5IFB1
cmlzbSBTUEMKPiA+ICsgKi8KPiA+ICsKPiA+ICsjaW5jbHVkZSA8YXNtL3VuYWxpZ25lZC5oPgo+
IAo+IElzIHRoaXMgYXNtIGhlYWRlciByZXF1aXJlZD8KCkkgZHJvcHBlZCBpdCBhZnRlciByZW1v
dmluZyBnZXRfdW5hbGlnbmVkX2xlMzIuCgo+IAo+ID4gKy8qCj4gPiArICogRFNJIFZpZGVvIG1v
ZGUKPiA+ICsgKi8KPiAKPiBTaW5nbGUgbGluZSBjb21tZW50IHdvdWxkIHN1ZmZpY2UuCj4gCj4g
PiArI2RlZmluZSBWSURFT19NT0RFX0JVUlNUX01PREVfV0lUSF9TWU5DX1BVTFNFUyAgICAgICAg
IDAKPiA+ICsjZGVmaW5lIFZJREVPX01PREVfTk9OX0JVUlNUX01PREVfV0lUSF9TWU5DX0VWRU5U
UyAgICAgQklUKDApCj4gPiArI2RlZmluZSBWSURFT19NT0RFX0JVUlNUX01PREUgICAgICAgICAg
ICAgICAgICAgICAgICAgIEJJVCgxKQo+ID4gKwo+ID4gKy8qCj4gPiArICogRFBJIGNvbG9yIGNv
ZGluZwo+ID4gKyAqLwo+IAo+IERpdHRvLgo+IAo+ID4gKyNkZWZpbmUgRFBJXzE2X0JJVF81NjVf
UEFDS0VEICAwCj4gPiArI2RlZmluZSBEUElfMTZfQklUXzU2NV9BTElHTkVEIDEKPiA+ICsjZGVm
aW5lIERQSV8xNl9CSVRfNTY1X1NISUZURUQgMgo+ID4gKyNkZWZpbmUgRFBJXzE4X0JJVF9QQUNL
RUQgICAgICAzCj4gPiArI2RlZmluZSBEUElfMThfQklUX0FMSUdORUQgICAgIDQKPiA+ICsjZGVm
aW5lIERQSV8yNF9CSVQgICAgICAgICAgICAgNQo+ID4gKwo+ID4gKy8qCj4gPiArICogRFBJIFBp
eGVsIGZvcm1hdAo+ID4gKyAqLwo+IAo+IERpdHRvLgoKYWxsIGZpeGVkCgo+IAo+ID4gKyNkZWZp
bmUgUElYRUxfRk9STUFUXzE2ICAwCj4gPiArI2RlZmluZSBQSVhFTF9GT1JNQVRfMTggIEJJVCgw
KQo+ID4gKyNkZWZpbmUgUElYRUxfRk9STUFUXzE4TCBCSVQoMSkKPiA+ICsjZGVmaW5lIFBJWEVM
X0ZPUk1BVF8yNCAgKEJJVCgwKSB8IEJJVCgxKSkKPiA+ICsKPiA+ICtlbnVtIHRyYW5zZmVyX2Rp
cmVjdGlvbiB7IERTSV9QQUNLRVRfU0VORCwgRFNJX1BBQ0tFVF9SRUNFSVZFIH07Cj4gPiArCj4g
PiArc3RydWN0IG1pcGlfZHNpX3RyYW5zZmVyIHsKPiA+ICsgICAgICAgY29uc3Qgc3RydWN0IG1p
cGlfZHNpX21zZyAqbXNnOwo+ID4gKyAgICAgICBzdHJ1Y3QgbWlwaV9kc2lfcGFja2V0IHBhY2tl
dDsKPiA+ICsgICAgICAgc3RydWN0IGNvbXBsZXRpb24gY29tcGxldGVkOwo+ID4gKwo+ID4gKyAg
ICAgICBpbnQgc3RhdHVzOyAvKiBzdGF0dXMgb2YgdHJhbnNtaXNzaW9uICovCj4gPiArICAgICAg
IGVudW0gdHJhbnNmZXJfZGlyZWN0aW9uIGRpcmVjdGlvbjsKPiA+ICsgICAgICAgYm9vbCBuZWVk
X2J0YTsKPiA+ICsgICAgICAgdTggY21kOwo+ID4gKyAgICAgICB1MTYgcnhfd29yZF9jb3VudDsK
PiA+ICsgICAgICAgc2l6ZV90IHR4X2xlbjsgLyogYnl0ZXMgc2VudCAqLwo+ID4gKyAgICAgICBz
aXplX3QgcnhfbGVuOyAvKiBieXRlcyByZWNlaXZlZCAqLwo+ID4gK307Cj4gCj4gVGhlIGNvbW1l
bnRzIGhlcmUgYXJlIGtpbmQgb2Ygb2J2aW91cywgc28gSSB3b3VsZCBqdXN0IHJlbW92ZSB0aGVt
LgoKSSB3YW50ZWQgdG8gaGF2ZSB0aGUgdW5pdCBoZXJlIHNvIGkgY2hhbmdlZCB0byAvKiBpbiBi
eXRlcyAqLwoKPiAKPiA+ICtzdGF0aWMgaW5saW5lIGludCBud2xfZHNpX3dyaXRlKHN0cnVjdCBp
bXhfbndsX2RzaSAqZHNpLCB1bnNpZ25lZCBpbnQgcmVnLAo+IAo+IGlubGluZSBjYW4gYmUgZHJv
cHBlZC4KCmRvbmUuCj4gCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUzMiB2
YWwpCj4gPiArewo+ID4gKyAgICAgICBpbnQgcmV0Owo+ID4gKwo+ID4gKyAgICAgICByZXQgPSBy
ZWdtYXBfd3JpdGUoZHNpLT5yZWdtYXAsIHJlZywgdmFsKTsKPiA+ICsgICAgICAgaWYgKHJldCA8
IDApCj4gPiArICAgICAgICAgICAgICAgRFJNX0RFVl9FUlJPUihkc2ktPmRldiwKPiA+ICsgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICJGYWlsZWQgdG8gd3JpdGUgTldMIERTSSByZWcgMHgl
eDogJWRcbiIsIHJlZywKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldCk7Cj4g
PiArICAgICAgIHJldHVybiByZXQ7Cj4gPiArfQo+ID4gKwo+ID4gK3N0YXRpYyBpbmxpbmUgdTMy
IG53bF9kc2lfcmVhZChzdHJ1Y3QgaW14X253bF9kc2kgKmRzaSwgdTMyIHJlZykKPiAKPiBTYW1l
IGhlcmUuCgpkb25lLgoKPiA+ICt7Cj4gPiArICAgICAgIHVuc2lnbmVkIGludCB2YWw7Cj4gPiAr
ICAgICAgIGludCByZXQ7Cj4gPiArCj4gPiArICAgICAgIHJldCA9IHJlZ21hcF9yZWFkKGRzaS0+
cmVnbWFwLCByZWcsICZ2YWwpOwo+ID4gKyAgICAgICBpZiAocmV0IDwgMCkKPiA+ICsgICAgICAg
ICAgICAgICBEUk1fREVWX0VSUk9SKGRzaS0+ZGV2LCAiRmFpbGVkIHRvIHJlYWQgTldMIERTSSBy
ZWcgMHgleDogJWRcbiIsCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWcsIHJl
dCk7Cj4gPiArCj4gPiArICAgICAgIHJldHVybiB2YWw7Cj4gPiArfQo+IAo+IEl0IHNlZW1zIHRo
YXQgd2UgY291bGQgc2ltcGx5IHVzZSByZWdtYXBfcmVhZC93cml0ZSgpIGRpcmVjdGx5IGluc3Rl
YWQKPiBvZiB0aGVzZSBmdW5jdGlvbnMuCgpJJ3ZlIGNoZWNrZWQgc29tZSBvdGhlciBkcm0gZHJp
dmVycyBtb3N0IG9mIHRoZW0gc2VlbSB0bwpyZWdtYXBfe3JlYWQsd3JpdGV9IHdpdGhvdXQgbG9v
a2luZyBhdCBlcnJvcnMuIFdoaWxlIHdlIGNhbid0IGRvCmFueXRoaW5nIHNlbnNpYmxlIHdoZW4g
d3JpdGluZyBmYWlscyBpdCdzIHNlZW1zIGF0IGxlYXN0IHVzZWZ1bCB0byBwcmludAphbiBlcnJv
ci4gSSd2ZSBzZWVuIHRoZXNlIGhhcHBlbmluZyBhbmQgdGhlIG1lc3NhZ2VzIHdlcmUgdmVyeSB1
c2VmdWwKZm9yIGRlYnVnZ2luZyBzbyBpZiBwb3NzaWJsZSBpJ2Qga2VlcCB0aGVtLgoKPiA+ICtp
bnQgbndsX2RzaV9nZXRfZHBoeV9wYXJhbXMoc3RydWN0IGlteF9ud2xfZHNpICpkc2ksCj4gPiAr
ICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUg
Km1vZGUsCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pb24gcGh5X2NvbmZpZ3Vy
ZV9vcHRzICpwaHlfb3B0cykKPiA+ICt7Cj4gPiArICAgICAgIHVuc2lnbmVkIGxvbmcgcmF0ZTsK
PiA+ICsKPiA+ICsgICAgICAgaWYgKGRzaS0+bGFuZXMgPCAxIHx8IGRzaS0+bGFuZXMgPiA0KQo+
ID4gKyAgICAgICAgICAgICAgIHJldHVybiAtRUlOVkFMOwo+ID4gKwo+ID4gKyAgICAgICAvKgo+
ID4gKyAgICAgICAgKiBTbyBmYXIgdGhlIERQSFkgc3BlYyBtaW5pbWFsIHRpbWluZ3Mgd29yayBm
b3IgYm90aCBtaXhlbAo+ID4gKyAgICAgICAgKiBkcGh5IGFuZCBud2wgZHNpIGhvc3QKPiA+ICsg
ICAgICAgICovCj4gPiArICAgICAgIHBoeV9taXBpX2RwaHlfZ2V0X2RlZmF1bHRfY29uZmlnKAo+
ID4gKyAgICAgICAgICAgICAgIG1vZGUtPmNydGNfY2xvY2sgKiAxMDAwLAo+ID4gKyAgICAgICAg
ICAgICAgIG1pcGlfZHNpX3BpeGVsX2Zvcm1hdF90b19icHAoZHNpLT5mb3JtYXQpLCBkc2ktPmxh
bmVzLAo+ID4gKyAgICAgICAgICAgICAgICZwaHlfb3B0cy0+bWlwaV9kcGh5KTsKPiA+ICsgICAg
ICAgcmF0ZSA9IGNsa19nZXRfcmF0ZShkc2ktPnR4X2VzY19jbGspOwo+ID4gKyAgICAgICBEUk1f
REVWX0RFQlVHX0RSSVZFUihkc2ktPmRldiwgIkxQIGNsayBpcyBAJWx1IEh6XG4iLCByYXRlKTsK
PiA+ICsgICAgICAgcGh5X29wdHMtPm1pcGlfZHBoeS5scF9jbGtfcmF0ZSA9IHJhdGU7Cj4gPiAr
Cj4gPiArICAgICAgIHJldHVybiAwOwo+ID4gK30KPiA+ICtFWFBPUlRfU1lNQk9MX0dQTChud2xf
ZHNpX2dldF9kcGh5X3BhcmFtcyk7Cj4gCj4gRG9lcyBpdCByZWFsbHkgbmVlZCB0byBiZSBleHBv
cnRlZD8gV2h5IGNhbid0IGl0IGJlIHBsYWNlZCBpbnNpZGUKPiBud2wtZHJ2LmMgYW5kIGJlIG1h
ZGUgc3RhdGljPwoKTW92ZWQuCgo+IAo+ID4gKy8qKgo+IAo+IC8qIGlzIGVub3VnaAoKRml4ZWQu
Cgo+IAo+IAo+ID4gKyAqIHVpMmJjIC0gVUkgdGltZSBwZXJpb2RzIHRvIGJ5dGUgY2xvY2sgY3lj
bGVzCj4gPiArICovCj4gPiArc3RhdGljIHUzMiB1aTJiYyhzdHJ1Y3QgaW14X253bF9kc2kgKmRz
aSwgdW5zaWduZWQgbG9uZyBsb25nIHVpKQo+ID4gK3sKPiA+ICsgICAgICAgaW50IGJwcCA9IG1p
cGlfZHNpX3BpeGVsX2Zvcm1hdF90b19icHAoZHNpLT5mb3JtYXQpOwo+ID4gKwo+ID4gKyAgICAg
ICByZXR1cm4gRElWX1JPVU5EX1VQKHVpICogZHNpLT5sYW5lcywgZHNpLT52bS5waXhlbGNsb2Nr
ICogYnBwKTsKPiA+ICt9Cj4gPiArCj4gPiArI2RlZmluZSBVU0VDX1BFUl9TRUMgMTAwMDAwMEwK
PiAKPiBUaGlzIGRlZmluaXRpb24gYWxyZWFkeSBleGlzdHMgaW4gaW5jbHVkZS9saW51eC90aW1l
NjQuaC4gTm8gbmVlZCB0bwo+IHJlZGVmaW5lIGl0LgoKRHJvcHBlZCB0aGF0IGRlZmluZS4KCj4g
Cj4gPiArc3RhdGljIGludCBud2xfZHNpX2VuYWJsZV90eF9jbG9jayhzdHJ1Y3QgaW14X253bF9k
c2kgKmRzaSkKPiA+ICt7Cj4gPiArICAgICAgIHN0cnVjdCBkZXZpY2UgKmRldiA9IGRzaS0+ZGV2
Owo+ID4gKyAgICAgICBpbnQgcmV0Owo+ID4gKwo+ID4gKyAgICAgICByZXQgPSBjbGtfcHJlcGFy
ZV9lbmFibGUoZHNpLT50eF9lc2NfY2xrKTsKPiA+ICsgICAgICAgaWYgKHJldCA8IDApIHsKPiA+
ICsgICAgICAgICAgICAgICBEUk1fREVWX0VSUk9SKGRldiwgIkZhaWxlZCB0byBlbmFibGUgdHhf
ZXNjIGNsazogJWRcbiIsIHJldCk7Cj4gPiArICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiA+
ICsgICAgICAgfQo+ID4gKwo+ID4gKyAgICAgICBEUk1fREVWX0RFQlVHX0RSSVZFUihkZXYsICJF
bmFibGVkIHR4X2VzYyBjbGsgQCVsdSBIelxuIiwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgY2xrX2dldF9yYXRlKGRzaS0+dHhfZXNjX2NsaykpOwo+ID4gKyAgICAgICByZXR1cm4g
MDsKPiA+ICt9Cj4gCj4gRG8gd2UgcmVhbGx5IG5lZWQgdGhpcyBmdW5jdGlvbj8gSXQgbG9va3Mg
bGlrZSBpdCB3b3VsZCBiZSBzaW1wbGVyCj4ganVzdCB0byBjYWxsIGNsa19wcmVwYXJlX2VuYWJs
ZSgpIGRpcmVjdGx5LgoKRHJvcHBlZCBzaW5jZSBpdCdzIG9ubHkgdXNlZCBvbmNlLCB0aGVyZSB3
ZXJlIG1vcmUgdXNlcnMgYmVmb3JlLgoKPiAKPiA+ICsKPiA+ICtzdGF0aWMgaW50IG53bF9kc2lf
ZW5hYmxlX3J4X2Nsb2NrKHN0cnVjdCBpbXhfbndsX2RzaSAqZHNpKQo+ID4gK3sKPiA+ICsgICAg
ICAgc3RydWN0IGRldmljZSAqZGV2ID0gZHNpLT5kZXY7Cj4gPiArICAgICAgIGludCByZXQ7Cj4g
PiArCj4gPiArICAgICAgIHJldCA9IGNsa19wcmVwYXJlX2VuYWJsZShkc2ktPnJ4X2VzY19jbGsp
Owo+ID4gKyAgICAgICBpZiAocmV0IDwgMCkgewo+ID4gKyAgICAgICAgICAgICAgIERSTV9ERVZf
RVJST1IoZGV2LCAiRmFpbGVkIHRvIGVuYWJsZSByeF9lc2MgY2xrOiAlZFxuIiwgcmV0KTsKPiA+
ICsgICAgICAgICAgICAgICByZXR1cm4gcmV0Owo+ID4gKyAgICAgICB9Cj4gPiArCj4gPiArICAg
ICAgIERSTV9ERVZfREVCVUdfRFJJVkVSKGRldiwgIkVuYWJsZWQgcnhfZXNjIGNsayBAJWx1IEh6
XG4iLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGtfZ2V0X3JhdGUoZHNpLT5y
eF9lc2NfY2xrKSk7Cj4gPiArICAgICAgIHJldHVybiAwOwo+ID4gK30KPiAKPiBTYW1lIGhlcmUu
CgpEcm9wcGVkIHNpbmNlIGl0J3Mgb25seSB1c2VkIG9uY2UuCgo+ID4gK3N0YXRpYyBzc2l6ZV90
IG53bF9kc2lfaG9zdF90cmFuc2ZlcihzdHJ1Y3QgbWlwaV9kc2lfaG9zdCAqZHNpX2hvc3QsCj4g
PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RydWN0IG1pcGlf
ZHNpX21zZyAqbXNnKQo+ID4gK3sKPiA+ICsgICAgICAgc3RydWN0IGlteF9ud2xfZHNpICpkc2kg
PQo+ID4gKyAgICAgICAgICAgICAgIGNvbnRhaW5lcl9vZihkc2lfaG9zdCwgc3RydWN0IGlteF9u
d2xfZHNpLCBkc2lfaG9zdCk7Cj4gPiArICAgICAgIHN0cnVjdCBtaXBpX2RzaV90cmFuc2ZlciB4
ZmVyOwo+ID4gKyAgICAgICBzc2l6ZV90IHJldCA9IDA7Cj4gPiArCj4gPiArICAgICAgIC8qIENy
ZWF0ZSBwYWNrZXQgdG8gYmUgc2VudCAqLwo+ID4gKyAgICAgICBkc2ktPnhmZXIgPSAmeGZlcjsK
PiA+ICsgICAgICAgcmV0ID0gbWlwaV9kc2lfY3JlYXRlX3BhY2tldCgmeGZlci5wYWNrZXQsIG1z
Zyk7Cj4gPiArICAgICAgIGlmIChyZXQgPCAwKSB7Cj4gPiArICAgICAgICAgICAgICAgZHNpLT54
ZmVyID0gTlVMTDsKPiA+ICsgICAgICAgICAgICAgICByZXR1cm4gcmV0Owo+ID4gKyAgICAgICB9
Cj4gPiArCj4gPiArICAgICAgIGlmICgobXNnLT50eXBlICYgTUlQSV9EU0lfR0VORVJJQ19SRUFE
X1JFUVVFU1RfMF9QQVJBTSB8fAo+ID4gKyAgICAgICAgICAgIG1zZy0+dHlwZSAmIE1JUElfRFNJ
X0dFTkVSSUNfUkVBRF9SRVFVRVNUXzFfUEFSQU0gfHwKPiA+ICsgICAgICAgICAgICBtc2ctPnR5
cGUgJiBNSVBJX0RTSV9HRU5FUklDX1JFQURfUkVRVUVTVF8yX1BBUkFNIHx8Cj4gPiArICAgICAg
ICAgICAgbXNnLT50eXBlICYgTUlQSV9EU0lfRENTX1JFQUQpICYmCj4gPiArICAgICAgICAgICBt
c2ctPnJ4X2xlbiA+IDAgJiYgbXNnLT5yeF9idWYgIT0gTlVMTCkKPiA+ICsgICAgICAgICAgICAg
ICB4ZmVyLmRpcmVjdGlvbiA9IERTSV9QQUNLRVRfUkVDRUlWRTsKPiA+ICsgICAgICAgZWxzZQo+
ID4gKyAgICAgICAgICAgICAgIHhmZXIuZGlyZWN0aW9uID0gRFNJX1BBQ0tFVF9TRU5EOwo+ID4g
Kwo+ID4gKyAgICAgICB4ZmVyLm5lZWRfYnRhID0gKHhmZXIuZGlyZWN0aW9uID09IERTSV9QQUNL
RVRfUkVDRUlWRSk7Cj4gPiArICAgICAgIHhmZXIubmVlZF9idGEgfD0gKG1zZy0+ZmxhZ3MgJiBN
SVBJX0RTSV9NU0dfUkVRX0FDSykgPyAxIDogMDsKPiA+ICsgICAgICAgeGZlci5tc2cgPSBtc2c7
Cj4gPiArICAgICAgIHhmZXIuc3RhdHVzID0gLUVUSU1FRE9VVDsKPiA+ICsgICAgICAgeGZlci5y
eF93b3JkX2NvdW50ID0gMDsKPiA+ICsgICAgICAgeGZlci5yeF9sZW4gPSAwOwo+ID4gKyAgICAg
ICB4ZmVyLmNtZCA9IDB4MDA7Cj4gPiArICAgICAgIGlmIChtc2ctPnR4X2xlbiA+IDApCj4gPiAr
ICAgICAgICAgICAgICAgeGZlci5jbWQgPSAoKHU4ICopKG1zZy0+dHhfYnVmKSlbMF07Cj4gPiAr
ICAgICAgIGluaXRfY29tcGxldGlvbigmeGZlci5jb21wbGV0ZWQpOwo+ID4gKwo+ID4gKyAgICAg
ICBud2xfZHNpX2VuYWJsZV9yeF9jbG9jayhkc2kpOwo+IAo+IFRoaXMgbWF5IGZhaWwsIHNvIGJl
dHRlciBjaGVjayB0aGUgZXJyb3IuCj4gCj4gcmV0ID0gY2xrX3ByZXBhcmVfZW5hYmxlKCkKPiBp
ZiAocmV0IDwgMCkKPiAgICByZXR1cm4gcmV0OwoKRG9uZS4KCj4gPiAraXJxcmV0dXJuX3Qgbnds
X2RzaV9pcnFfaGFuZGxlcihpbnQgaXJxLCB2b2lkICpkYXRhKQo+ID4gK3sKPiA+ICsgICAgICAg
dTMyIGlycV9zdGF0dXM7Cj4gPiArICAgICAgIHN0cnVjdCBpbXhfbndsX2RzaSAqZHNpID0gZGF0
YTsKPiA+ICsKPiA+ICsgICAgICAgaXJxX3N0YXR1cyA9IG53bF9kc2lfcmVhZChkc2ksIElSUV9T
VEFUVVMpOwo+ID4gKwo+ID4gKyAgICAgICBpZiAoaXJxX3N0YXR1cyAmIFRYX1BLVF9ET05FIHx8
IGlycV9zdGF0dXMgJiBSWF9QS1RfSERSX1JDVkQgfHwKPiA+ICsgICAgICAgICAgIGlycV9zdGF0
dXMgJiBSWF9QS1RfUEFZTE9BRF9EQVRBX1JDVkQpCj4gPiArICAgICAgICAgICAgICAgbndsX2Rz
aV9maW5pc2hfdHJhbnNtaXNzaW9uKGRzaSwgaXJxX3N0YXR1cyk7Cj4gPiArCj4gPiArICAgICAg
IHJldHVybiBJUlFfSEFORExFRDsKPiA+ICt9Cj4gPiArRVhQT1JUX1NZTUJPTF9HUEwobndsX2Rz
aV9pcnFfaGFuZGxlcik7Cj4gCj4gV2hhdCBhYm91dCBwbGFjaW5nIHRoaXMgZnVuY3Rpb24gaW5z
aWRlIG53bC1kcnYuYyBhbmQgbWFrZSBpdCBzdGF0aWM/CgpUaGVuIG53bF9kc2lfZmluaXNoX3Ry
YW5zbWlzc2lvbiB3b3VsZCBuZWVkIHRvIGVpdGhlciBiZSBtb3ZlZCBhcyB3ZWxsCm9yIHdlJ2Qg
aGF2ZSBhbm90aGVyIG5vbi1zdGF0aWMgZnVuY3Rpb24uIEknZCBsaWtlIHRvIGtlZXBpbmcgdGhl
IGlycQpoYW5kbGluZyBpbiBvbmUgZmlsZSBhbmQgb25seSBoYXZlIHRoZSByZWdpc3RyYXRpb24g
b3ZlciBpbiBpbXgtbndsLWRydi4KSSd2ZSBkcm9wcGVkIHRoZSBFWFBPUlRfU1lNQk9MX0dQTCB0
aG91Z2guCgo+ID4gKwo+ID4gK2ludCBud2xfZHNpX2VuYWJsZShzdHJ1Y3QgaW14X253bF9kc2kg
KmRzaSkKPiA+ICt7Cj4gPiArICAgICAgIHN0cnVjdCBkZXZpY2UgKmRldiA9IGRzaS0+ZGV2Owo+
ID4gKyAgICAgICB1bmlvbiBwaHlfY29uZmlndXJlX29wdHMgKnBoeV9jZmcgPSAmZHNpLT5waHlf
Y2ZnOwo+ID4gKyAgICAgICBpbnQgcmV0Owo+ID4gKwo+ID4gKyAgICAgICBpZiAoIWRzaS0+bGFu
ZXMpIHsKPiA+ICsgICAgICAgICAgICAgICBEUk1fREVWX0VSUk9SKGRldiwgIk5lZWQgRFNJIGxh
bmVzOiAlZFxuIiwgZHNpLT5sYW5lcyk7Cj4gPiArICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5W
QUw7Cj4gPiArICAgICAgIH0KPiA+ICsKPiA+ICsgICAgICAgcmV0ID0gcGh5X2luaXQoZHNpLT5w
aHkpOwo+ID4gKyAgICAgICBpZiAocmV0IDwgMCkgewo+ID4gKyAgICAgICAgICAgICAgIERSTV9E
RVZfRVJST1IoZGV2LCAiRmFpbGVkIHRvIGluaXQgRFNJIHBoeTogJWRcbiIsIHJldCk7Cj4gPiAr
ICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiA+ICsgICAgICAgfQo+ID4gKwo+ID4gKyAgICAg
ICByZXQgPSBwaHlfY29uZmlndXJlKGRzaS0+cGh5LCBwaHlfY2ZnKTsKPiA+ICsgICAgICAgaWYg
KHJldCA8IDApIHsKPiA+ICsgICAgICAgICAgICAgICBEUk1fREVWX0VSUk9SKGRldiwgIkZhaWxl
ZCB0byBjb25maWd1cmUgRFNJIHBoeTogJWRcbiIsIHJldCk7Cj4gPiArICAgICAgICAgICAgICAg
cmV0dXJuIHJldDsKPiA+ICsgICAgICAgfQo+ID4gKwo+ID4gKyAgICAgICByZXQgPSBud2xfZHNp
X2VuYWJsZV90eF9jbG9jayhkc2kpOwo+ID4gKyAgICAgICBpZiAocmV0IDwgMCkgewo+ID4gKyAg
ICAgICAgICAgICAgIERSTV9ERVZfRVJST1IoZGV2LCAiRmFpbGVkIHRvIGVuYWJsZSB0eCBjbG9j
azogJWRcbiIsIHJldCk7Cj4gPiArICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiA+ICsgICAg
ICAgfQo+ID4gKwo+ID4gKyAgICAgICByZXQgPSBud2xfZHNpX2NvbmZpZ19ob3N0KGRzaSk7Cj4g
PiArICAgICAgIGlmIChyZXQgPCAwKSB7Cj4gPiArICAgICAgICAgICAgICAgRFJNX0RFVl9FUlJP
UihkZXYsICJGYWlsZWQgdG8gc2V0IHVwIERTSTogJWQiLCByZXQpOwo+ID4gKyAgICAgICAgICAg
ICAgIHJldHVybiByZXQ7Cj4gPiArICAgICAgIH0KPiA+ICsKPiA+ICsgICAgICAgcmV0ID0gbnds
X2RzaV9jb25maWdfZHBpKGRzaSk7Cj4gPiArICAgICAgIGlmIChyZXQgPCAwKSB7Cj4gPiArICAg
ICAgICAgICAgICAgRFJNX0RFVl9FUlJPUihkZXYsICJGYWlsZWQgdG8gc2V0IHVwIERQSTogJWQi
LCByZXQpOwo+ID4gKyAgICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4gPiArICAgICAgIH0KPiA+
ICsKPiA+ICsgICAgICAgcmV0ID0gcGh5X3Bvd2VyX29uKGRzaS0+cGh5KTsKPiA+ICsgICAgICAg
aWYgKHJldCA8IDApIHsKPiA+ICsgICAgICAgICAgICAgICBEUk1fREVWX0VSUk9SKGRldiwgIkZh
aWxlZCB0byBwb3dlciBvbiBEUEhZICglZClcbiIsIHJldCk7Cj4gPiArICAgICAgICAgICAgICAg
cmV0dXJuIHJldDsKPiA+ICsgICAgICAgfQo+ID4gKwo+ID4gKyAgICAgICBud2xfZHNpX2luaXRf
aW50ZXJydXB0cyhkc2kpOwo+ID4gKwo+ID4gKyAgICAgICByZXR1cm4gMDsKPiA+ICt9Cj4gPiAr
RVhQT1JUX1NZTUJPTF9HUEwobndsX2RzaV9lbmFibGUpOwo+IAo+IFNhbWUgaGVyZS4KClRoZSBp
ZGVhIHdhcyB0byBrZWVwIHRoZSBkc2kgcmVsYXRlZCBvcGVyYXRpb25zIGhlcmUuIERyb3BwZWQK
RVhQT1JUX1NZTUJPTF9HUEwgdGhvdWdoLgoKPiAKPiA+ICsKPiA+ICtpbnQgbndsX2RzaV9kaXNh
YmxlKHN0cnVjdCBpbXhfbndsX2RzaSAqZHNpKQo+ID4gK3sKPiA+ICsgICAgICAgc3RydWN0IGRl
dmljZSAqZGV2ID0gZHNpLT5kZXY7Cj4gPiArCj4gPiArICAgICAgIERSTV9ERVZfREVCVUdfRFJJ
VkVSKGRldiwgIkRpc2FibGluZyBjbG9ja3MgYW5kIHBoeVxuIik7Cj4gPiArCj4gPiArICAgICAg
IHBoeV9wb3dlcl9vZmYoZHNpLT5waHkpOwo+ID4gKyAgICAgICBwaHlfZXhpdChkc2ktPnBoeSk7
Cj4gPiArCj4gPiArICAgICAgIC8qIERpc2FibGluZyB0aGUgY2xvY2sgYmVmb3JlIHRoZSBwaHkg
YnJlYWtzIGVuYWJsaW5nIGRzaSBhZ2FpbiAqLwo+ID4gKyAgICAgICBjbGtfZGlzYWJsZV91bnBy
ZXBhcmUoZHNpLT50eF9lc2NfY2xrKTsKPiA+ICsKPiA+ICsgICAgICAgcmV0dXJuIDA7Cj4gPiAr
fQo+ID4gK0VYUE9SVF9TWU1CT0xfR1BMKG53bF9kc2lfZGlzYWJsZSk7Cj4gCj4gU2FtZSBoZXJl
LgoKU2FtZSBhcyBhYm92ZS4gSSBjYW4gbW92ZSB0aGluZ3MgaWYgd2FudGVkIGJ1dCB0aGVuIGl0
IG1pZ2h0IG1ha2Ugc2Vuc2UKdG8gb25seSB1c2Ugb25lIGxhcmdlIGZpbGUgd2hpY2ggSSBhdm9p
ZGVkIHNvIHdlIGNhbiBoYXZlIGEgc3BsaXQKYmV0d2VlbiBEU0kgb3BlcmF0aW9ucyBhbmQgcHJv
YmluZyAvIGJyaWRnZSBjaGFpbmluZyBhbmQgcGxhdGZvcm0Kc3BlY2lmaWMgZnVuY3Rpb25zLgoK
VGhhbmtzIGFnYWluIGZvciBoYXZpbmcgYSBsb29rLAogLS0gR3VpZG8KX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApk
cmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Au
b3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVs
