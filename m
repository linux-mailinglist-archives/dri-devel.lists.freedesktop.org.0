Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id BA00F35DE15
	for <lists+dri-devel@lfdr.de>; Tue, 13 Apr 2021 13:54:09 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7FAF489F49;
	Tue, 13 Apr 2021 11:54:06 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from metis.ext.pengutronix.de (metis.ext.pengutronix.de
 [IPv6:2001:67c:670:201:290:27ff:fe1d:cc33])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 678A2893C0
 for <dri-devel@lists.freedesktop.org>; Tue, 13 Apr 2021 11:54:04 +0000 (UTC)
Received: from gallifrey.ext.pengutronix.de
 ([2001:67c:670:201:5054:ff:fe8d:eefb] helo=[IPv6:::1])
 by metis.ext.pengutronix.de with esmtps
 (TLS1.3:ECDHE_RSA_AES_256_GCM_SHA384:256) (Exim 4.92)
 (envelope-from <l.stach@pengutronix.de>)
 id 1lWHcI-0002VZ-Vk; Tue, 13 Apr 2021 13:54:03 +0200
Message-ID: <bea01abded059c00de330fbc154ee0db7378d58e.camel@pengutronix.de>
Subject: Re: [PATCH 12/12] drm/modifiers: Enforce consistency between the
 cap an IN_FORMATS
From: Lucas Stach <l.stach@pengutronix.de>
To: Daniel Vetter <daniel.vetter@ffwll.ch>, DRI Development
 <dri-devel@lists.freedesktop.org>
Date: Tue, 13 Apr 2021 13:54:00 +0200
In-Reply-To: <20210413094904.3736372-12-daniel.vetter@ffwll.ch>
References: <20210413094904.3736372-1-daniel.vetter@ffwll.ch>
 <20210413094904.3736372-12-daniel.vetter@ffwll.ch>
User-Agent: Evolution 3.38.4 (3.38.4-1.fc33) 
MIME-Version: 1.0
X-SA-Exim-Connect-IP: 2001:67c:670:201:5054:ff:fe8d:eefb
X-SA-Exim-Mail-From: l.stach@pengutronix.de
X-SA-Exim-Scanned: No (on metis.ext.pengutronix.de);
 SAEximRunCond expanded to false
X-PTX-Original-Recipient: dri-devel@lists.freedesktop.org
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: David Airlie <airlied@linux.ie>, Daniel Vetter <daniel.vetter@intel.com>,
 Intel Graphics Development <intel-gfx@lists.freedesktop.org>,
 Pekka Paalanen <pekka.paalanen@collabora.com>,
 Thomas Zimmermann <tzimmermann@suse.de>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

QW0gRGllbnN0YWcsIGRlbSAxMy4wNC4yMDIxIHVtIDExOjQ5ICswMjAwIHNjaHJpZWIgRGFuaWVs
IFZldHRlcjoKPiBJdCdzIHZlcnkgY29uZnVzaW5nIGZvciB1c2Vyc3BhY2UgdG8gaGF2ZSB0byBk
ZWFsIHdpdGggaW5jb25zaXN0ZW5jaWVzCj4gaGVyZSwgYW5kIHNvbWUgZHJpdmVycyBzY3Jld2Vk
IHRoaXMgdXAgYSBiaXQuIE1vc3QganVzdCBvbW1pdHRlZCB0aGUKPiBmb3JtYXQgbGlzdCB3aGVu
IHRoZXkgbWVhbnQgdG8gc2F5IHRoYXQgb25seSBsaW5lYXIgbW9kaWZpZXIgaXMKPiBhbGxvd2Vk
LCBidXQgc29tZSBhbHNvIG1lYW50IHRoYXQgb25seSBpbXBsaWVkIG1vZGlmaWVycyBhcmUKPiBh
Y2NlcHRhYmxlIChiZWNhdXNlIGFjdHVhbGx5IG5vbmUgb2YgdGhlIHBsYW5lcyByZWdpc3RlcmVk
IHN1cHBvcnRlZAo+IG1vZGlmaWVycykuCgpGb3IgYSBsb3Qgb2YgdGhlIGVtYmVkZGVkIGRpc3Bs
YXkgZHJpdmVycyB0aGF0IG5ldmVyIGhhZCBhbnkgb3V0LW9mLQpiYW5kIHRpbGluZyBtZXRhIHNo
YXJlZCB3aXRoIHRoZSBHUFUgcGFydCwgdGhlIGltcGxpZWQgbW9kaWZpZXIgaXMKYWN0dWFsbHkg
RFJNX0ZPUk1BVF9NT0RfTElORUFSLCBzbyBtYXliZSB0aGF0J3Mgd2hlcmUgc29tZSBvZiB0aGUK
Y29uZnVzaW9uIGFib3V0IG5lZWRpbmcgdG8gc3BlY2lmeSB0aGUgbW9kaWZpZXIgbGlzdCBjb21l
cyBmcm9tLgoKPiBOb3cgdGhhdCB0aGlzIGlzIGFsbCBkb25lIGNvbnNpc3RlbnRseSBhY3Jvc3Mg
YWxsIGRyaXZlcnMsIGRvY3VtZW50Cj4gdGhlIHJ1bGVzIGFuZCBlbmZvcmNlIGl0IGluIHRoZSBk
cm0gY29yZS4KClRoaXMgY2xhcmlmaWNhdGlvbiBsb29rcyBnb29kIHRvIG1lLgoKUmV2aWV3ZWQt
Ynk6IEx1Y2FzIFN0YWNoIDxsLnN0YWNoQHBlbmd1dHJvbml4LmRlPgoKPiBDYzogUGVra2EgUGFh
bGFuZW4gPHBla2thLnBhYWxhbmVuQGNvbGxhYm9yYS5jb20+Cj4gU2lnbmVkLW9mZi1ieTogRGFu
aWVsIFZldHRlciA8ZGFuaWVsLnZldHRlckBpbnRlbC5jb20+Cj4gQ2M6IE1hYXJ0ZW4gTGFua2hv
cnN0IDxtYWFydGVuLmxhbmtob3JzdEBsaW51eC5pbnRlbC5jb20+Cj4gQ2M6IE1heGltZSBSaXBh
cmQgPG1yaXBhcmRAa2VybmVsLm9yZz4KPiBDYzogVGhvbWFzIFppbW1lcm1hbm4gPHR6aW1tZXJt
YW5uQHN1c2UuZGU+Cj4gQ2M6IERhdmlkIEFpcmxpZSA8YWlybGllZEBsaW51eC5pZT4KPiBDYzog
RGFuaWVsIFZldHRlciA8ZGFuaWVsQGZmd2xsLmNoPgo+IC0tLQo+IMKgZHJpdmVycy9ncHUvZHJt
L2RybV9wbGFuZS5jICAgfCAxNiArKysrKysrKysrKysrKystCj4gwqBpbmNsdWRlL2RybS9kcm1f
bW9kZV9jb25maWcuaCB8ICAyICsrCj4gwqAyIGZpbGVzIGNoYW5nZWQsIDE3IGluc2VydGlvbnMo
KyksIDEgZGVsZXRpb24oLSkKPiAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2RybV9w
bGFuZS5jIGIvZHJpdmVycy9ncHUvZHJtL2RybV9wbGFuZS5jCj4gaW5kZXggMGRkNDM4ODJmZTdj
Li4xNmE3ZTNlNTdmN2YgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2RybV9wbGFuZS5j
Cj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2RybV9wbGFuZS5jCj4gQEAgLTEyOCw2ICsxMjgsMTEg
QEAKPiDCoMKgKiAgICAgcGFpcnMgc3VwcG9ydGVkIGJ5IHRoaXMgcGxhbmUuIFRoZSBibG9iIGlz
IGEgc3RydWN0Cj4gwqDCoCogICAgIGRybV9mb3JtYXRfbW9kaWZpZXJfYmxvYi4gV2l0aG91dCB0
aGlzIHByb3BlcnR5IHRoZSBwbGFuZSBkb2Vzbid0Cj4gwqDCoCogICAgIHN1cHBvcnQgYnVmZmVy
cyB3aXRoIG1vZGlmaWVycy4gVXNlcnNwYWNlIGNhbm5vdCBjaGFuZ2UgdGhpcyBwcm9wZXJ0eS4K
PiArICoKPiArICogICAgIE5vdGUgdGhhdCB1c2Vyc3BhY2UgY2FuIGNoZWNrIHRoZSBEUk1fQ0FQ
X0FEREZCMl9NT0RJRklFUlMgZHJpdmVyCj4gKyAqICAgICBjYXBhYmlsaXR5IGZvciBnZW5lcmFs
IG1vZGlmaWVyIHN1cHBvcnQuIElmIHRoaXMgZmxhZyBpcyBzZXQgdGhlbiBldmVyeQo+ICsgKiAg
ICAgcGxhbmUgd2lsbCBoYXZlIHRoZSBJTl9GT1JNQVRTIHByb3BlcnR5LCBldmVuIHdoZW4gaXQg
b25seSBzdXBwb3J0cwo+ICsgKiAgICAgRFJNX0ZPUk1BVF9NT0RfTElORUFSLgo+IMKgwqAqLwo+
IMKgCj4gCj4gCj4gCj4gCj4gCj4gCj4gCj4gwqBzdGF0aWMgdW5zaWduZWQgaW50IGRybV9udW1f
cGxhbmVzKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYpCj4gQEAgLTI3Nyw4ICsyODIsMTQgQEAgc3Rh
dGljIGludCBfX2RybV91bml2ZXJzYWxfcGxhbmVfaW5pdChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2
LAo+IMKgCQkJZm9ybWF0X21vZGlmaWVyX2NvdW50Kys7Cj4gwqAJfQo+IMKgCj4gCj4gCj4gCj4g
Cj4gCj4gCj4gCj4gLQlpZiAoZm9ybWF0X21vZGlmaWVyX2NvdW50KQo+ICsJLyogYXV0b3NldCB0
aGUgY2FwIGFuZCBjaGVjayBmb3IgY29uc2lzdGVuY3kgYWNyb3NzIGFsbCBwbGFuZXMgKi8KPiAr
CWlmIChmb3JtYXRfbW9kaWZpZXJfY291bnQpIHsKPiArCQlXQVJOX09OKCFjb25maWctPmFsbG93
X2ZiX21vZGlmaWVycyAmJgo+ICsJCQkhbGlzdF9lbXB0eSgmY29uZmlnLT5wbGFuZV9saXN0KSk7
Cj4gwqAJCWNvbmZpZy0+YWxsb3dfZmJfbW9kaWZpZXJzID0gdHJ1ZTsKPiArCX0gZWxzZSB7Cj4g
KwkJV0FSTl9PTihjb25maWctPmFsbG93X2ZiX21vZGlmaWVycyk7Cj4gKwl9Cj4gwqAKPiAKPiAK
PiAKPiAKPiAKPiAKPiAKPiDCoAlwbGFuZS0+bW9kaWZpZXJfY291bnQgPSBmb3JtYXRfbW9kaWZp
ZXJfY291bnQ7Cj4gwqAJcGxhbmUtPm1vZGlmaWVycyA9IGttYWxsb2NfYXJyYXkoZm9ybWF0X21v
ZGlmaWVyX2NvdW50LAo+IEBAIC0zNjAsNiArMzcxLDkgQEAgc3RhdGljIGludCBfX2RybV91bml2
ZXJzYWxfcGxhbmVfaW5pdChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LAo+IMKgwqAqIGRybV91bml2
ZXJzYWxfcGxhbmVfaW5pdCgpIHRvIGxldCB0aGUgRFJNIG1hbmFnZWQgcmVzb3VyY2UgaW5mcmFz
dHJ1Y3R1cmUKPiDCoMKgKiB0YWtlIGNhcmUgb2YgY2xlYW51cCBhbmQgZGVhbGxvY2F0aW9uLgo+
IMKgwqAqCj4gKyAqIERyaXZlcnMgc3VwcG9ydGluZyBtb2RpZmllcnMgbXVzdCBzZXQgQGZvcm1h
dF9tb2RpZmllcnMgb24gYWxsIHRoZWlyIHBsYW5lcywKPiArICogZXZlbiB0aG9zZSB0aGF0IG9u
bHkgc3VwcG9ydCBEUk1fRk9STUFUX01PRF9MSU5FQVIuCj4gKyAqCj4gwqDCoCogUmV0dXJuczoK
PiDCoMKgKiBaZXJvIG9uIHN1Y2Nlc3MsIGVycm9yIGNvZGUgb24gZmFpbHVyZS4KPiDCoMKgKi8K
PiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9kcm0vZHJtX21vZGVfY29uZmlnLmggYi9pbmNsdWRlL2Ry
bS9kcm1fbW9kZV9jb25maWcuaAo+IGluZGV4IGFiNDI0ZGRkNzY2NS4uMWRkZjc3ODNmZGY3IDEw
MDY0NAo+IC0tLSBhL2luY2x1ZGUvZHJtL2RybV9tb2RlX2NvbmZpZy5oCj4gKysrIGIvaW5jbHVk
ZS9kcm0vZHJtX21vZGVfY29uZmlnLmgKPiBAQCAtOTA5LDYgKzkwOSw4IEBAIHN0cnVjdCBkcm1f
bW9kZV9jb25maWcgewo+IMKgCSAqIEBhbGxvd19mYl9tb2RpZmllcnM6Cj4gwqAJICoKPiDCoAkg
KiBXaGV0aGVyIHRoZSBkcml2ZXIgc3VwcG9ydHMgZmIgbW9kaWZpZXJzIGluIHRoZSBBRERGQjIu
MSBpb2N0bCBjYWxsLgo+ICsJICogTm90ZSB0aGF0IGRyaXZlcnMgc2hvdWxkIG5vdCBzZXQgdGhp
cyBkaXJlY3RseSwgaXQgaXMgYXV0b21hdGljYWxseQo+ICsJICogc2V0IGluIGRybV91bml2ZXJz
YWxfcGxhbmVfaW5pdCgpLgo+IMKgCSAqCj4gwqAJICogSU1QT1JUQU5UOgo+IMKgCSAqCgoKX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1h
aWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVsCg==
