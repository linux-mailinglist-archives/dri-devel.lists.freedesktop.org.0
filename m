Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 066DC354C8
	for <lists+dri-devel@lfdr.de>; Wed,  5 Jun 2019 02:48:07 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id BA4ED89CA2;
	Wed,  5 Jun 2019 00:48:03 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-lj1-x241.google.com (mail-lj1-x241.google.com
 [IPv6:2a00:1450:4864:20::241])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 1F3FA89C9B
 for <dri-devel@lists.freedesktop.org>; Wed,  5 Jun 2019 00:48:02 +0000 (UTC)
Received: by mail-lj1-x241.google.com with SMTP id s21so10879252lji.8
 for <dri-devel@lists.freedesktop.org>; Tue, 04 Jun 2019 17:48:02 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=pv23Ci9XYYXbAvdmjUDu6QVKJnotvin7bH7iuxivMig=;
 b=Ba/3BhkvKNIfGtZw2hWJ9+Tqj5eAg7BqiM61eNDoA2uC8nB2hbOBo9WBn+B290fEEz
 fFwX33MwWXxUbYh7FrBuppW2gLJflr1Sy8FdfCRex/owbzqoRXHClmUfq2lQDVz5/aBS
 huiEz6UoPJfld9um2pNz/F42PgfQjlMHyiMvzIFm/a+Bf0GVrvx4XiFwqc+czF97ve9S
 O4T4VQjHsChllalWMmpZ6SZnvGWzAyLR0jY74Tp2JXszbOAgvu1fNoOVVaCtxs2XZbtk
 /fKybmEmHDPi7+9lDFOqCIU/7BEFgHeVVEi0P1ExPR4SgJQUgZrUcMhDMkJBn4lgvaVd
 dwxw==
X-Gm-Message-State: APjAAAUqQ04cxg1OZ8Jk+g41U8gTwjpmqOpqxA/RKTpi+Fzx8oQHaxkN
 dQrb+M1weuhTmRVBYjuz3f8C089s9rBFcdFECt2nfw==
X-Google-Smtp-Source: APXvYqxvjJ99N3aai52FzW/2dSKhKjlCCwgFuNgdJiXvkROkaHK9M4UqMQad+SFwjoWlFMwgkqQd/uzHdaUnjHCnq4g=
X-Received: by 2002:a2e:a318:: with SMTP id l24mr6685023lje.36.1559695679940; 
 Tue, 04 Jun 2019 17:47:59 -0700 (PDT)
MIME-Version: 1.0
References: <20190514221711.248228-1-brendanhiggins@google.com>
 <20190514221711.248228-5-brendanhiggins@google.com>
 <20190517175841.F3396216FD@mail.kernel.org>
In-Reply-To: <20190517175841.F3396216FD@mail.kernel.org>
From: Brendan Higgins <brendanhiggins@google.com>
Date: Tue, 4 Jun 2019 17:47:48 -0700
Message-ID: <CAFd5g456V4aQUSxxTAizun8ak4zogcAt4-YGgebX2L55Kb-xEg@mail.gmail.com>
Subject: Re: [PATCH v4 04/18] kunit: test: add kunit_stream a std::stream like
 logger
To: Stephen Boyd <sboyd@kernel.org>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=google.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=pv23Ci9XYYXbAvdmjUDu6QVKJnotvin7bH7iuxivMig=;
 b=bCfiN04tgowJLuApBvXwZWyNMtGb9FgYGJp5LkSEcg4PdHWnZmIBeM/cM9k5AbYodp
 rettTdhr1CO5CzRe80O5GNP151HRdnuXMuXParmN+k4ysLrvJ8T4FJPz5UBNGPIWWhDv
 jLzSs2o7zt6OpGXykmBbYrEGKSLH0DyvmhFwA2O4C1gJAlb4gCQQYVi8jqNR76aV2CAE
 B26xYkubYvYF6WWvFMWbUtKHUYW3SWHpux/uSw6Ty7qvZxcnWDlOTriysJ/qSBj39HJL
 iN8/XK32e67VWiHpnny1O7oiB03Lzd4/CGvnWXT8rNKGMQku64Dn87Rnbdfu/kl1KQN3
 xajg==
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Petr Mladek <pmladek@suse.com>,
 "open list:DOCUMENTATION" <linux-doc@vger.kernel.org>,
 Peter Zijlstra <peterz@infradead.org>, Amir Goldstein <amir73il@gmail.com>,
 dri-devel <dri-devel@lists.freedesktop.org>,
 Sasha Levin <Alexander.Levin@microsoft.com>,
 Masahiro Yamada <yamada.masahiro@socionext.com>,
 Michael Ellerman <mpe@ellerman.id.au>,
 "open list:KERNEL SELFTEST FRAMEWORK" <linux-kselftest@vger.kernel.org>,
 shuah <shuah@kernel.org>, linux-nvdimm <linux-nvdimm@lists.01.org>,
 Frank Rowand <frowand.list@gmail.com>, Knut Omang <knut.omang@oracle.com>,
 Kieran Bingham <kieran.bingham@ideasonboard.com>, wfg@linux.intel.com,
 Joel Stanley <joel@jms.id.au>, David Rientjes <rientjes@google.com>,
 Jeff Dike <jdike@addtoit.com>, Dan Carpenter <dan.carpenter@oracle.com>,
 devicetree <devicetree@vger.kernel.org>,
 linux-kbuild <linux-kbuild@vger.kernel.org>, "Bird,
 Timothy" <Tim.Bird@sony.com>, linux-um@lists.infradead.org,
 Steven Rostedt <rostedt@goodmis.org>, Julia Lawall <julia.lawall@lip6.fr>,
 Josh Poimboeuf <jpoimboe@redhat.com>, kunit-dev@googlegroups.com,
 Theodore Ts'o <tytso@mit.edu>, Richard Weinberger <richard@nod.at>,
 Greg KH <gregkh@linuxfoundation.org>, Randy Dunlap <rdunlap@infradead.org>,
 Linux Kernel Mailing List <linux-kernel@vger.kernel.org>,
 Luis Chamberlain <mcgrof@kernel.org>, Kees Cook <keescook@google.com>,
 linux-fsdevel@vger.kernel.org, Logan Gunthorpe <logang@deltatee.com>,
 Kevin Hilman <khilman@baylibre.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gRnJpLCBNYXkgMTcsIDIwMTkgYXQgMTA6NTggQU0gU3RlcGhlbiBCb3lkIDxzYm95ZEBrZXJu
ZWwub3JnPiB3cm90ZToKPgo+IFF1b3RpbmcgQnJlbmRhbiBIaWdnaW5zICgyMDE5LTA1LTE0IDE1
OjE2OjU3KQo+ID4gZGlmZiAtLWdpdCBhL2t1bml0L2t1bml0LXN0cmVhbS5jIGIva3VuaXQva3Vu
aXQtc3RyZWFtLmMKPiA+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0Cj4gPiBpbmRleCAwMDAwMDAwMDAw
MDAwLi4xODg0ZjFiNTUwODg4Cj4gPiAtLS0gL2Rldi9udWxsCj4gPiArKysgYi9rdW5pdC9rdW5p
dC1zdHJlYW0uYwo+ID4gQEAgLTAsMCArMSwxNTIgQEAKPiA+ICsvLyBTUERYLUxpY2Vuc2UtSWRl
bnRpZmllcjogR1BMLTIuMAo+ID4gKy8qCj4gPiArICogQysrIHN0cmVhbSBzdHlsZSBzdHJpbmcg
Zm9ybWF0dGVyIGFuZCBwcmludGVyIHVzZWQgaW4gS1VuaXQgZm9yIG91dHB1dHRpbmcKPiA+ICsg
KiBLVW5pdCBtZXNzYWdlcy4KPiA+ICsgKgo+ID4gKyAqIENvcHlyaWdodCAoQykgMjAxOSwgR29v
Z2xlIExMQy4KPiA+ICsgKiBBdXRob3I6IEJyZW5kYW4gSGlnZ2lucyA8YnJlbmRhbmhpZ2dpbnNA
Z29vZ2xlLmNvbT4KPiA+ICsgKi8KPiA+ICsKPiA+ICsjaW5jbHVkZSA8a3VuaXQvdGVzdC5oPgo+
ID4gKyNpbmNsdWRlIDxrdW5pdC9rdW5pdC1zdHJlYW0uaD4KPiA+ICsjaW5jbHVkZSA8a3VuaXQv
c3RyaW5nLXN0cmVhbS5oPgo+ID4gKwo+ID4gK3N0YXRpYyBjb25zdCBjaGFyICprdW5pdF9zdHJl
YW1fZ2V0X2xldmVsKHN0cnVjdCBrdW5pdF9zdHJlYW0gKnRoaXMpCj4gPiArewo+ID4gKyAgICAg
ICB1bnNpZ25lZCBsb25nIGZsYWdzOwo+ID4gKyAgICAgICBjb25zdCBjaGFyICpsZXZlbDsKPiA+
ICsKPiA+ICsgICAgICAgc3Bpbl9sb2NrX2lycXNhdmUoJnRoaXMtPmxvY2ssIGZsYWdzKTsKPiA+
ICsgICAgICAgbGV2ZWwgPSB0aGlzLT5sZXZlbDsKPiA+ICsgICAgICAgc3Bpbl91bmxvY2tfaXJx
cmVzdG9yZSgmdGhpcy0+bG9jaywgZmxhZ3MpOwo+ID4gKwo+ID4gKyAgICAgICByZXR1cm4gbGV2
ZWw7Cj4KPiBQbGVhc2UgcmVtb3ZlIHRoaXMgd2hvbGUgZnVuY3Rpb24gYW5kIGlubGluZSBpdCB0
byB0aGUgb25lIGNhbGwtc2l0ZS4KPgo+ID4gK30KPiA+ICsKPiA+ICt2b2lkIGt1bml0X3N0cmVh
bV9zZXRfbGV2ZWwoc3RydWN0IGt1bml0X3N0cmVhbSAqdGhpcywgY29uc3QgY2hhciAqbGV2ZWwp
Cj4gPiArewo+ID4gKyAgICAgICB1bnNpZ25lZCBsb25nIGZsYWdzOwo+ID4gKwo+ID4gKyAgICAg
ICBzcGluX2xvY2tfaXJxc2F2ZSgmdGhpcy0+bG9jaywgZmxhZ3MpOwo+ID4gKyAgICAgICB0aGlz
LT5sZXZlbCA9IGxldmVsOwo+ID4gKyAgICAgICBzcGluX3VubG9ja19pcnFyZXN0b3JlKCZ0aGlz
LT5sb2NrLCBmbGFncyk7Cj4KPiBJIGRvbid0IGdldCB0aGUgbG9ja2luZyBoZXJlLiBXaGF0IGFy
ZSB3ZSBwcm90ZWN0aW5nIGFnYWluc3Q/IEFyZSB0ZXN0cwo+IHJ1bm5pbmcgaW4gcGFyYWxsZWwg
dXNpbmcgdGhlIHNhbWUga3VuaXRfc3RyZWFtPyBJZiBzbywgd2h5IGlzIHRoZSBsZXZlbAo+IGNo
YW5nZWFibGUgaW4gb25lIGNhbGwgYW5kIHRoZW4gYWRkaW5nIHN0cmluZ3MgaXMgZG9uZSBpbiBh
IGRpZmZlcmVudAo+IGZ1bmN0aW9uIGNhbGw/IEl0IHdvdWxkIG1ha2Ugc2Vuc2UgdG8gY29tYmlu
ZSB0aGUgbGV2ZWwgc2V0dGluZyBhbmQKPiBzdHJpbmcgYWRkaW5nIHNvIHRoYXQgaXQncyBvbmUg
YXRvbWljIG9wZXJhdGlvbiBpZiBpdCdzIHRydWx5IGEgcGFyYWxsZWwKPiBvcGVyYXRpb24sIG9y
IHJlbW92ZSB0aGUgbG9ja2luZyBlbnRpcmVseS4KCkkgdGhpbmsgeW91IGFyZSByaWdodC4gSSBh
bSBub3Qgc3VyZSBpdCBtYWtlcyBzZW5zZSBmb3IgdHdvIHNlcGFyYXRlCnRocmVhZHMgdG8gc2hh
cmUgYSBrdW5pdF9zdHJlYW07IGV2ZW4gaWYgbG9ja2VkIHByb3Blcmx5LCBpdCB3b3VsZCBlbmQK
dXAgcHJpbnRpbmcgb3V0IGNvcnJ1cHRlZCB0ZXh0LgoKSW4gYW55Y2FzZSwgSSB0aGluayBpdCBt
YWtlcyBzZW5zZSB0byBkZWNpZGUgdGhlIGxldmVsIHdoZW4gdGhlIHN0cmVhbQppcyBhbGxvY2F0
ZWQgd2hpY2ggd291bGQgc2lkZXN0ZXAgdGhpcyBpc3N1ZSBlbnRpcmVseS4KCj4gPiArfQo+ID4g
Kwo+ID4gK3ZvaWQga3VuaXRfc3RyZWFtX2FkZChzdHJ1Y3Qga3VuaXRfc3RyZWFtICp0aGlzLCBj
b25zdCBjaGFyICpmbXQsIC4uLikKPiA+ICt7Cj4gPiArICAgICAgIHZhX2xpc3QgYXJnczsKPiA+
ICsgICAgICAgc3RydWN0IHN0cmluZ19zdHJlYW0gKnN0cmVhbSA9IHRoaXMtPmludGVybmFsX3N0
cmVhbTsKPiA+ICsKPiA+ICsgICAgICAgdmFfc3RhcnQoYXJncywgZm10KTsKPiA+ICsKPiA+ICsg
ICAgICAgaWYgKHN0cmluZ19zdHJlYW1fdmFkZChzdHJlYW0sIGZtdCwgYXJncykgPCAwKQo+ID4g
KyAgICAgICAgICAgICAgIGt1bml0X2Vycih0aGlzLT50ZXN0LCAiRmFpbGVkIHRvIGFsbG9jYXRl
IGZyYWdtZW50OiAlc1xuIiwgZm10KTsKPiA+ICsKPiA+ICsgICAgICAgdmFfZW5kKGFyZ3MpOwo+
ID4gK30KPiA+ICsKPiA+ICt2b2lkIGt1bml0X3N0cmVhbV9hcHBlbmQoc3RydWN0IGt1bml0X3N0
cmVhbSAqdGhpcywKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGt1
bml0X3N0cmVhbSAqb3RoZXIpCj4gPiArewo+ID4gKyAgICAgICBzdHJ1Y3Qgc3RyaW5nX3N0cmVh
bSAqb3RoZXJfc3RyZWFtID0gb3RoZXItPmludGVybmFsX3N0cmVhbTsKPiA+ICsgICAgICAgY29u
c3QgY2hhciAqb3RoZXJfY29udGVudDsKPiA+ICsKPiA+ICsgICAgICAgb3RoZXJfY29udGVudCA9
IHN0cmluZ19zdHJlYW1fZ2V0X3N0cmluZyhvdGhlcl9zdHJlYW0pOwo+ID4gKwo+ID4gKyAgICAg
ICBpZiAoIW90aGVyX2NvbnRlbnQpIHsKPiA+ICsgICAgICAgICAgICAgICBrdW5pdF9lcnIodGhp
cy0+dGVzdCwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgIkZhaWxlZCB0byBnZXQgc3Ry
aW5nIGZyb20gc2Vjb25kIGFyZ3VtZW50IGZvciBhcHBlbmRpbmcuXG4iKTsKPiA+ICsgICAgICAg
ICAgICAgICByZXR1cm47Cj4gPiArICAgICAgIH0KPiA+ICsKPiA+ICsgICAgICAga3VuaXRfc3Ry
ZWFtX2FkZCh0aGlzLCBvdGhlcl9jb250ZW50KTsKPiA+ICt9Cj4gPiArCj4gPiArdm9pZCBrdW5p
dF9zdHJlYW1fY2xlYXIoc3RydWN0IGt1bml0X3N0cmVhbSAqdGhpcykKPiA+ICt7Cj4gPiArICAg
ICAgIHN0cmluZ19zdHJlYW1fY2xlYXIodGhpcy0+aW50ZXJuYWxfc3RyZWFtKTsKPiA+ICt9Cj4g
PiArCj4gPiArdm9pZCBrdW5pdF9zdHJlYW1fY29tbWl0KHN0cnVjdCBrdW5pdF9zdHJlYW0gKnRo
aXMpCj4KPiBTaG91bGQgdGhpcyBiZSByYXRoZXIgY2FsbGVkIGt1bml0X3N0cmVhbV9mbHVzaCgp
PwoKU28gdGhlIGludGVudGlvbiBpcyB0aGF0IHRoZSBzdHJpbmcgaW4gdGhlIGJ1ZmZlciB3aWxs
IG5vdCBnZXQgcHJpbnRlZApvdXQgdW50aWwgY29tbWl0IGlzIGNhbGxlZC4gSW4gdGhpcyB3YXks
IHlvdSBjYW4gYnVpbGQgdXAgYSBtZXNzYWdlCmFuZCB0aGVuIGRlY2lkZSBub3QgdG8gcHJpbnQg
aXQuIFRoaXMgaXMgdXNlZnVsIHdoZW4geW91IGFyZSBwYXJzaW5nCnRocm91Z2ggYSBsb3Qgb2Yg
ZGF0YSB0aGF0IHdvdWxkIGJlIHVzZWZ1bCBpbiBkZWJ1Z2dpbmcgYSBmYWlsaW5nIG9yCmJyb2tl
biB0ZXN0LCBidXQgYXJlIG5vdCB5ZXQgc3VyZSBpZiBpdCBpcyBnb2luZyB0byBwYXNzIG9yIG5v
dC4KCkkgdGhpbmsgZmx1c2ggaGFzIHRoZSBjb25ub3RhdGlvbiwgdGhhdCB5b3UgYXJlIGp1c3Qg
Zm9yY2luZyB0aGUKYnVmZmVyIHRvIGdldCB3cml0dGVuIG91dCBub3csIGJ1dCB0aGF0IGl0IHdp
bGwgaGFwcGVuIHJlZ2FyZGxlc3MKZXZlbnR1YWxseSwgd2hlcmUgY29tbWl0IGhhcyB0aGUgY29y
cmVjdCBjb25ub3RhdGlvbiB0aGF0IHlvdSAqbXVzdCoKY2FsbCBpdCBpbiBvcmRlciB0byB3cml0
ZSBvdXQgdGhlIGRhdGEgc3RvcmVkIGluIHRoZSBidWZmZXIuCgpTZWVtcyBhcyB0aG91Z2ggSSBz
aG91bGQgcHJvYmFibHkgYWRkIHRoaXMgZGlzdGluY3Rpb24gdG8gdGhlCmtlcm5lbC1kb2MgY29t
bWVudC4KCj4gPiArewo+ID4gKyAgICAgICBzdHJ1Y3Qgc3RyaW5nX3N0cmVhbSAqc3RyZWFtID0g
dGhpcy0+aW50ZXJuYWxfc3RyZWFtOwo+ID4gKyAgICAgICBzdHJ1Y3Qgc3RyaW5nX3N0cmVhbV9m
cmFnbWVudCAqZnJhZ21lbnQ7Cj4gPiArICAgICAgIGNvbnN0IGNoYXIgKmxldmVsOwo+ID4gKyAg
ICAgICBjaGFyICpidWY7Cj4gPiArCj4gPiArICAgICAgIGxldmVsID0ga3VuaXRfc3RyZWFtX2dl
dF9sZXZlbCh0aGlzKTsKPiA+ICsgICAgICAgaWYgKCFsZXZlbCkgewo+ID4gKyAgICAgICAgICAg
ICAgIGt1bml0X2Vycih0aGlzLT50ZXN0LAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAi
U3RyZWFtIHdhcyBjb21taXR0ZWQgd2l0aG91dCBhIHNwZWNpZmllZCBsb2cgbGV2ZWwuXG4iKTsK
Pgo+IERyb3AgdGhlIGZ1bGwtc3RvcD8KCldob29wcywgbmljZSBjYXRjaC4gV2lsbCBmaXggaW4g
bmV4dCByZXZpc2lvbi4KCj4gPiArICAgICAgICAgICAgICAgbGV2ZWwgPSBLRVJOX0VSUjsKPiA+
ICsgICAgICAgICAgICAgICBrdW5pdF9zdHJlYW1fc2V0X2xldmVsKHRoaXMsIGxldmVsKTsKPiA+
ICsgICAgICAgfQo+ID4gKwo+ID4gKyAgICAgICBidWYgPSBzdHJpbmdfc3RyZWFtX2dldF9zdHJp
bmcoc3RyZWFtKTsKPiA+ICsgICAgICAgaWYgKCFidWYpIHsKPiA+ICsgICAgICAgICAgICAgICBr
dW5pdF9lcnIodGhpcy0+dGVzdCwKPgo+IENhbiB5b3UgZ3JvdyBhIGxvY2FsIHZhcmlhYmxlIGZv
ciAndGhpcy0+dGVzdCc/IEl0J3MgdXNlZCBtYW55IHRpbWVzLgoKU3VyZSwgd2lsbCBmaXggaW4g
bmV4dCByZXZpc2lvbi4KCj4gQWxzbywgJ3RoaXMnIGlzIG5vdCB2ZXJ5IGtlcm5lbCBpZGlvbWF0
aWMuIFdlIHVzdWFsbHkgbmFtZSB2YXJpYWJsZXMgYnkKPiB0aGVpciB0eXBlIGluc3RlYWQgb2Yg
J3RoaXMnIHdoaWNoIGlzIGEga2V5d29yZCBpbiBvdGhlciBsYW5ndWFnZXMuCj4gUGVyaGFwcyBp
dCBjb3VsZCBiZSBuYW1lZCAna3N0cmVhbSc/CgpTZWVtcyByZWFzb25hYmxlLiBXaWxsIGZpeCBp
biBuZXh0IHJldmlzaW9uLgoKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAiQ291bGQgbm90
IGFsbG9jYXRlIGJ1ZmZlciwgZHVtcGluZyBzdHJlYW06XG4iKTsKPiA+ICsgICAgICAgICAgICAg
ICBsaXN0X2Zvcl9lYWNoX2VudHJ5KGZyYWdtZW50LCAmc3RyZWFtLT5mcmFnbWVudHMsIG5vZGUp
IHsKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgIGt1bml0X2Vycih0aGlzLT50ZXN0LCBmcmFn
bWVudC0+ZnJhZ21lbnQpOwo+ID4gKyAgICAgICAgICAgICAgIH0KPiA+ICsgICAgICAgICAgICAg
ICBrdW5pdF9lcnIodGhpcy0+dGVzdCwgIlxuIik7Cj4gPiArICAgICAgICAgICAgICAgZ290byBj
bGVhbnVwOwo+ID4gKyAgICAgICB9Cj4gPiArCj4gPiArICAgICAgIGt1bml0X3ByaW50ayhsZXZl
bCwgdGhpcy0+dGVzdCwgYnVmKTsKPiA+ICsgICAgICAga2ZyZWUoYnVmKTsKPiA+ICsKPiA+ICtj
bGVhbnVwOgo+ID4gKyAgICAgICBrdW5pdF9zdHJlYW1fY2xlYXIodGhpcyk7Cj4gPiArfQo+ID4g
Kwo+ID4gK3N0YXRpYyBpbnQga3VuaXRfc3RyZWFtX2luaXQoc3RydWN0IGt1bml0X3Jlc291cmNl
ICpyZXMsIHZvaWQgKmNvbnRleHQpCj4gPiArewo+ID4gKyAgICAgICBzdHJ1Y3Qga3VuaXQgKnRl
c3QgPSBjb250ZXh0Owo+ID4gKyAgICAgICBzdHJ1Y3Qga3VuaXRfc3RyZWFtICpzdHJlYW07Cj4g
PiArCj4gPiArICAgICAgIHN0cmVhbSA9IGt6YWxsb2Moc2l6ZW9mKCpzdHJlYW0pLCBHRlBfS0VS
TkVMKTsKPgo+IE9mIGNvdXJzZSwgaGVyZSBpdCdzIGNhbGxlZCAnc3RyZWFtJywgc28gbWF5YmUg
aXQgc2hvdWxkIGJlICdrc3RyZWFtJwo+IGhlcmUgdG9vLgoKV2lsbCBkby4KCj4KPiA+ICsgICAg
ICAgaWYgKCFzdHJlYW0pCj4gPiArICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gPiAr
Cj4gPiArICAgICAgIHJlcy0+YWxsb2NhdGlvbiA9IHN0cmVhbTsKPiA+ICsgICAgICAgc3RyZWFt
LT50ZXN0ID0gdGVzdDsKPiA+ICsgICAgICAgc3Bpbl9sb2NrX2luaXQoJnN0cmVhbS0+bG9jayk7
Cj4gPiArICAgICAgIHN0cmVhbS0+aW50ZXJuYWxfc3RyZWFtID0gbmV3X3N0cmluZ19zdHJlYW0o
KTsKPgo+IENhbiBuZXdfc3RyaW5nX3N0cmVhbSgpIGJlIHJlbmFtZWQgdG8gYWxsb2Nfc3RyaW5n
X3N0cmVhbSgpPyBTb3JyeSwgSQo+IGp1c3Qgc2VlIHNvIG11Y2ggQysrIGlzbXMgaW4gaGVyZSBp
dCdzIGhhcmQgdG8gcmVhZCBmcm9tIHRoZSBrZXJuZWwKPiBkZXZlbG9wZXIgcGVyc3BlY3RpdmUu
CgpObyBwcm9ibGVtLiBXSWxsIGZpeCBpbiBuZXh0IHJldmlzaW9uLgoKPiA+ICsKPiA+ICsgICAg
ICAgaWYgKCFzdHJlYW0tPmludGVybmFsX3N0cmVhbSkgewo+Cj4gTml0cGljazogUGxlYXNlIGpv
aW4gdGhpcyB0byB0aGUgImFsbG9jYXRpb24iIGV2ZW50IGFib3ZlIGluc3RlYWQgb2YKPiBrZWVw
aW5nIGl0IHNlcGFyYXRlZC4KClllYWgsIHRoYXQncyBhIGxvdCBjbGVhbmVyLiBXaWxsIGRvLgoK
PiA+ICsgICAgICAgICAgICAgICBrZnJlZShzdHJlYW0pOwo+ID4gKyAgICAgICAgICAgICAgIHJl
dHVybiAtRU5PTUVNOwo+ID4gKyAgICAgICB9Cj4gPiArCj4gPiArICAgICAgIHJldHVybiAwOwo+
ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgdm9pZCBrdW5pdF9zdHJlYW1fZnJlZShzdHJ1Y3Qga3Vu
aXRfcmVzb3VyY2UgKnJlcykKPiA+ICt7Cj4gPiArICAgICAgIHN0cnVjdCBrdW5pdF9zdHJlYW0g
KnN0cmVhbSA9IHJlcy0+YWxsb2NhdGlvbjsKPiA+ICsKPiA+ICsgICAgICAgaWYgKCFzdHJpbmdf
c3RyZWFtX2lzX2VtcHR5KHN0cmVhbS0+aW50ZXJuYWxfc3RyZWFtKSkgewo+ID4gKyAgICAgICAg
ICAgICAgIGt1bml0X2VycihzdHJlYW0tPnRlc3QsCj4gPiArICAgICAgICAgICAgICAgICAgICAg
ICAgIkVuZCBvZiB0ZXN0IGNhc2UgcmVhY2hlZCB3aXRoIHVuY29tbWl0dGVkIHN0cmVhbSBlbnRy
aWVzLlxuIik7Cj4gPiArICAgICAgICAgICAgICAga3VuaXRfc3RyZWFtX2NvbW1pdChzdHJlYW0p
Owo+ID4gKyAgICAgICB9Cj4gPiArCj4gPiArICAgICAgIGRlc3Ryb3lfc3RyaW5nX3N0cmVhbShz
dHJlYW0tPmludGVybmFsX3N0cmVhbSk7Cj4gPiArICAgICAgIGtmcmVlKHN0cmVhbSk7Cj4gPiAr
fQo+ID4gKwo+ID4gK3N0cnVjdCBrdW5pdF9zdHJlYW0gKmt1bml0X25ld19zdHJlYW0oc3RydWN0
IGt1bml0ICp0ZXN0KQo+ID4gK3sKPiA+ICsgICAgICAgc3RydWN0IGt1bml0X3Jlc291cmNlICpy
ZXM7Cj4gPiArCj4gPiArICAgICAgIHJlcyA9IGt1bml0X2FsbG9jX3Jlc291cmNlKHRlc3QsCj4g
PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGt1bml0X3N0cmVhbV9pbml0LAo+
ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrdW5pdF9zdHJlYW1fZnJlZSwK
PiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVzdCk7Cj4gPiArCj4gPiAr
ICAgICAgIGlmIChyZXMpCj4gPiArICAgICAgICAgICAgICAgcmV0dXJuIHJlcy0+YWxsb2NhdGlv
bjsKPiA+ICsgICAgICAgZWxzZQo+ID4gKyAgICAgICAgICAgICAgIHJldHVybiBOVUxMOwo+Cj4g
RG9uJ3QgaGF2ZSBpZiAoLi4uKSByZXR1cm4gLi4uOyBlbHNlIHJldHVybiAuLi4sIGp1c3QgcmV0
dXJuIGluc3RlYWQgb2YKPiBlbHNlLgoKU29ycnkuIFdpbGwgZml4LgoKVGhhbmtzIQpfX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGlu
ZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVl
ZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
