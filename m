Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 584439FBB4
	for <lists+dri-devel@lfdr.de>; Wed, 28 Aug 2019 09:29:13 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id BD1FA89C27;
	Wed, 28 Aug 2019 07:29:10 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga07.intel.com (mga07.intel.com [134.134.136.100])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 04BBC89C37;
 Wed, 28 Aug 2019 07:29:08 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga002.jf.intel.com ([10.7.209.21])
 by orsmga105.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 28 Aug 2019 00:29:08 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,440,1559545200"; d="scan'208";a="192499927"
Received: from ramaling-i9x.iind.intel.com ([10.99.66.154])
 by orsmga002.jf.intel.com with ESMTP; 28 Aug 2019 00:29:01 -0700
From: Ramalingam C <ramalingam.c@intel.com>
To: intel-gfx <intel-gfx@lists.freedesktop.org>,
 dri-devel <dri-devel@lists.freedesktop.org>
Subject: [PATCH v11 1/6] drm/i915: mei_hdcp: I915 sends ddi index as per ME FW
Date: Wed, 28 Aug 2019 12:58:18 +0530
Message-Id: <20190828072823.4832-2-ramalingam.c@intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190828072823.4832-1-ramalingam.c@intel.com>
References: <20190828072823.4832-1-ramalingam.c@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Jani Nikula <jani.nikula@intel.com>, tomas.winkler@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

STkxNSBjb252ZXJ0cyBpdCdzIHBvcnQgdmFsdWUgaW50byBkZGkgaW5kZXggZGVmaWVuZCBieSBN
RSBGVwphbmQgcGFzcyBpdCBhcyBhIG1lbWJlciBvZiBoZGNwX3BvcnRfZGF0YSBzdHJ1Y3R1cmUu
CgpIZW5jZSBleHBvc2UgdGhlIGVudW0gbWVpX2Z3X2RkaSB0byBJOTE1IHRocm91Z2gKaTkxNV9t
ZWlfaW50ZXJmYWNlLmguCgp2MjoKICBDb3B5cmlnaHQgeWVhcnMgYXJlIGJ1bXBlZCBbVG9tYXNd
CgpTaWduZWQtb2ZmLWJ5OiBSYW1hbGluZ2FtIEMgPHJhbWFsaW5nYW0uY0BpbnRlbC5jb20+CkFj
a2VkLWJ5OiBKYW5pIE5pa3VsYSA8amFuaS5uaWt1bGFAaW50ZWwuY29tPgpSZXZpZXdlZC1ieTog
U2hhc2hhbmsgU2hhcm1hIDxzaGFzaGFuay5zaGFybWFAaW50ZWwuY29tPgotLS0KIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfaGRjcC5jIHwgMTcgKysrKysrKysrKystCiBkcml2
ZXJzL21pc2MvbWVpL2hkY3AvbWVpX2hkY3AuYyAgICAgICAgICB8IDM0ICsrKysrKysrLS0tLS0t
LS0tLS0tLS0tCiBkcml2ZXJzL21pc2MvbWVpL2hkY3AvbWVpX2hkY3AuaCAgICAgICAgICB8IDEy
IC0tLS0tLS0tCiBpbmNsdWRlL2RybS9pOTE1X21laV9oZGNwX2ludGVyZmFjZS5oICAgICB8IDE4
ICsrKysrKysrKystLQogNCBmaWxlcyBjaGFuZ2VkLCA0MiBpbnNlcnRpb25zKCspLCAzOSBkZWxl
dGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVs
X2hkY3AuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfaGRjcC5jCmluZGV4
IDZlYzVjZWVhYjYwMS4uZThiMDRjYzhmY2IxIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2hkY3AuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2hkY3AuYwpAQCAtMSw5ICsxLDExIEBACiAvKiBTUERYLUxpY2Vuc2UtSWRlbnRp
ZmllcjogTUlUICovCiAvKgogICogQ29weXJpZ2h0IChDKSAyMDE3IEdvb2dsZSwgSW5jLgorICog
Q29weXJpZ2h0IF8gMjAxNy0yMDE5LCBJbnRlbCBDb3Jwb3JhdGlvbi4KICAqCiAgKiBBdXRob3Jz
OgogICogU2VhbiBQYXVsIDxzZWFucGF1bEBjaHJvbWl1bS5vcmc+CisgKiBSYW1hbGluZ2FtIEMg
PHJhbWFsaW5nYW0uY0BpbnRlbC5jb20+CiAgKi8KIAogI2luY2x1ZGUgPGxpbnV4L2NvbXBvbmVu
dC5oPgpAQCAtMTc0OSwxMyArMTc1MSwyNiBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGNvbXBvbmVu
dF9vcHMgaTkxNV9oZGNwX2NvbXBvbmVudF9vcHMgPSB7CiAJLnVuYmluZCA9IGk5MTVfaGRjcF9j
b21wb25lbnRfdW5iaW5kLAogfTsKIAorc3RhdGljIGlubGluZQorZW51bSBtZWlfZndfZGRpIGlu
dGVsX2dldF9tZWlfZndfZGRpX2luZGV4KGVudW0gcG9ydCBwb3J0KQoreworCXN3aXRjaCAocG9y
dCkgeworCWNhc2UgUE9SVF9BOgorCQlyZXR1cm4gTUVJX0RESV9BOworCWNhc2UgUE9SVF9CIC4u
LiBQT1JUX0Y6CisJCXJldHVybiAoZW51bSBtZWlfZndfZGRpKXBvcnQ7CisJZGVmYXVsdDoKKwkJ
cmV0dXJuIE1FSV9ERElfSU5WQUxJRF9QT1JUOworCX0KK30KKwogc3RhdGljIGlubGluZSBpbnQg
aW5pdGlhbGl6ZV9oZGNwX3BvcnRfZGF0YShzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICpjb25uZWN0
b3IsCiAJCQkJCSAgICBjb25zdCBzdHJ1Y3QgaW50ZWxfaGRjcF9zaGltICpzaGltKQogewogCXN0
cnVjdCBpbnRlbF9oZGNwICpoZGNwID0gJmNvbm5lY3Rvci0+aGRjcDsKIAlzdHJ1Y3QgaGRjcF9w
b3J0X2RhdGEgKmRhdGEgPSAmaGRjcC0+cG9ydF9kYXRhOwogCi0JZGF0YS0+cG9ydCA9IGNvbm5l
Y3Rvci0+ZW5jb2Rlci0+cG9ydDsKKwlkYXRhLT5md19kZGkgPSBpbnRlbF9nZXRfbWVpX2Z3X2Rk
aV9pbmRleChjb25uZWN0b3ItPmVuY29kZXItPnBvcnQpOwogCWRhdGEtPnBvcnRfdHlwZSA9ICh1
OClIRENQX1BPUlRfVFlQRV9JTlRFR1JBVEVEOwogCWRhdGEtPnByb3RvY29sID0gKHU4KXNoaW0t
PnByb3RvY29sOwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL21pc2MvbWVpL2hkY3AvbWVpX2hkY3Au
YyBiL2RyaXZlcnMvbWlzYy9tZWkvaGRjcC9tZWlfaGRjcC5jCmluZGV4IGM2ODFmNmZhYjM0Mi4u
MzYzOGM3N2ViYTI2IDEwMDY0NAotLS0gYS9kcml2ZXJzL21pc2MvbWVpL2hkY3AvbWVpX2hkY3Au
YworKysgYi9kcml2ZXJzL21pc2MvbWVpL2hkY3AvbWVpX2hkY3AuYwpAQCAtMjcsMTggKzI3LDYg
QEAKIAogI2luY2x1ZGUgIm1laV9oZGNwLmgiCiAKLXN0YXRpYyBpbmxpbmUgdTggbWVpX2dldF9k
ZGlfaW5kZXgoZW51bSBwb3J0IHBvcnQpCi17Ci0Jc3dpdGNoIChwb3J0KSB7Ci0JY2FzZSBQT1JU
X0E6Ci0JCXJldHVybiBNRUlfRERJX0E7Ci0JY2FzZSBQT1JUX0IgLi4uIFBPUlRfRjoKLQkJcmV0
dXJuICh1OClwb3J0OwotCWRlZmF1bHQ6Ci0JCXJldHVybiBNRUlfRERJX0lOVkFMSURfUE9SVDsK
LQl9Ci19Ci0KIC8qKgogICogbWVpX2hkY3BfaW5pdGlhdGVfc2Vzc2lvbigpIC0gSW5pdGlhdGUg
YSBXaXJlZCBIRENQMi4yIFR4IFNlc3Npb24gaW4gTUUgRlcKICAqIEBkZXY6IGRldmljZSBjb3Jy
ZXNwb25kaW5nIHRvIHRoZSBtZWlfY2xfZGV2aWNlCkBAIC02OSw3ICs1Nyw3IEBAIG1laV9oZGNw
X2luaXRpYXRlX3Nlc3Npb24oc3RydWN0IGRldmljZSAqZGV2LCBzdHJ1Y3QgaGRjcF9wb3J0X2Rh
dGEgKmRhdGEsCiAJCQkJV0lSRURfQ01EX0JVRl9MRU5fSU5JVElBVEVfSERDUDJfU0VTU0lPTl9J
TjsKIAogCXNlc3Npb25faW5pdF9pbi5wb3J0LmludGVncmF0ZWRfcG9ydF90eXBlID0gZGF0YS0+
cG9ydF90eXBlOwotCXNlc3Npb25faW5pdF9pbi5wb3J0LnBoeXNpY2FsX3BvcnQgPSBtZWlfZ2V0
X2RkaV9pbmRleChkYXRhLT5wb3J0KTsKKwlzZXNzaW9uX2luaXRfaW4ucG9ydC5waHlzaWNhbF9w
b3J0ID0gKHU4KWRhdGEtPmZ3X2RkaTsKIAlzZXNzaW9uX2luaXRfaW4ucHJvdG9jb2wgPSBkYXRh
LT5wcm90b2NvbDsKIAogCWJ5dGUgPSBtZWlfY2xkZXZfc2VuZChjbGRldiwgKHU4ICopJnNlc3Np
b25faW5pdF9pbiwKQEAgLTEzOCw3ICsxMjYsNyBAQCBtZWlfaGRjcF92ZXJpZnlfcmVjZWl2ZXJf
Y2VydF9wcmVwYXJlX2ttKHN0cnVjdCBkZXZpY2UgKmRldiwKIAkJCQlXSVJFRF9DTURfQlVGX0xF
Tl9WRVJJRllfUkVDRUlWRVJfQ0VSVF9JTjsKIAogCXZlcmlmeV9yeGNlcnRfaW4ucG9ydC5pbnRl
Z3JhdGVkX3BvcnRfdHlwZSA9IGRhdGEtPnBvcnRfdHlwZTsKLQl2ZXJpZnlfcnhjZXJ0X2luLnBv
cnQucGh5c2ljYWxfcG9ydCA9IG1laV9nZXRfZGRpX2luZGV4KGRhdGEtPnBvcnQpOworCXZlcmlm
eV9yeGNlcnRfaW4ucG9ydC5waHlzaWNhbF9wb3J0ID0gKHU4KWRhdGEtPmZ3X2RkaTsKIAogCXZl
cmlmeV9yeGNlcnRfaW4uY2VydF9yeCA9IHJ4X2NlcnQtPmNlcnRfcng7CiAJbWVtY3B5KHZlcmlm
eV9yeGNlcnRfaW4ucl9yeCwgJnJ4X2NlcnQtPnJfcngsIEhEQ1BfMl8yX1JSWF9MRU4pOwpAQCAt
MjA4LDcgKzE5Niw3IEBAIG1laV9oZGNwX3ZlcmlmeV9ocHJpbWUoc3RydWN0IGRldmljZSAqZGV2
LCBzdHJ1Y3QgaGRjcF9wb3J0X2RhdGEgKmRhdGEsCiAJc2VuZF9ocHJpbWVfaW4uaGVhZGVyLmJ1
ZmZlcl9sZW4gPSBXSVJFRF9DTURfQlVGX0xFTl9BS0VfU0VORF9IUFJJTUVfSU47CiAKIAlzZW5k
X2hwcmltZV9pbi5wb3J0LmludGVncmF0ZWRfcG9ydF90eXBlID0gZGF0YS0+cG9ydF90eXBlOwot
CXNlbmRfaHByaW1lX2luLnBvcnQucGh5c2ljYWxfcG9ydCA9IG1laV9nZXRfZGRpX2luZGV4KGRh
dGEtPnBvcnQpOworCXNlbmRfaHByaW1lX2luLnBvcnQucGh5c2ljYWxfcG9ydCA9ICh1OClkYXRh
LT5md19kZGk7CiAKIAltZW1jcHkoc2VuZF9ocHJpbWVfaW4uaF9wcmltZSwgcnhfaHByaW1lLT5o
X3ByaW1lLAogCSAgICAgICBIRENQXzJfMl9IX1BSSU1FX0xFTik7CkBAIC0yNjUsNyArMjUzLDcg
QEAgbWVpX2hkY3Bfc3RvcmVfcGFpcmluZ19pbmZvKHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0
IGhkY3BfcG9ydF9kYXRhICpkYXRhLAogCQkJCQlXSVJFRF9DTURfQlVGX0xFTl9TRU5EX1BBSVJJ
TkdfSU5GT19JTjsKIAogCXBhaXJpbmdfaW5mb19pbi5wb3J0LmludGVncmF0ZWRfcG9ydF90eXBl
ID0gZGF0YS0+cG9ydF90eXBlOwotCXBhaXJpbmdfaW5mb19pbi5wb3J0LnBoeXNpY2FsX3BvcnQg
PSBtZWlfZ2V0X2RkaV9pbmRleChkYXRhLT5wb3J0KTsKKwlwYWlyaW5nX2luZm9faW4ucG9ydC5w
aHlzaWNhbF9wb3J0ID0gKHU4KWRhdGEtPmZ3X2RkaTsKIAogCW1lbWNweShwYWlyaW5nX2luZm9f
aW4uZV9raF9rbSwgcGFpcmluZ19pbmZvLT5lX2toX2ttLAogCSAgICAgICBIRENQXzJfMl9FX0tI
X0tNX0xFTik7CkBAIC0zMjMsNyArMzExLDcgQEAgbWVpX2hkY3BfaW5pdGlhdGVfbG9jYWxpdHlf
Y2hlY2soc3RydWN0IGRldmljZSAqZGV2LAogCWxjX2luaXRfaW4uaGVhZGVyLmJ1ZmZlcl9sZW4g
PSBXSVJFRF9DTURfQlVGX0xFTl9JTklUX0xPQ0FMSVRZX0NIRUNLX0lOOwogCiAJbGNfaW5pdF9p
bi5wb3J0LmludGVncmF0ZWRfcG9ydF90eXBlID0gZGF0YS0+cG9ydF90eXBlOwotCWxjX2luaXRf
aW4ucG9ydC5waHlzaWNhbF9wb3J0ID0gbWVpX2dldF9kZGlfaW5kZXgoZGF0YS0+cG9ydCk7CisJ
bGNfaW5pdF9pbi5wb3J0LnBoeXNpY2FsX3BvcnQgPSAodTgpZGF0YS0+ZndfZGRpOwogCiAJYnl0
ZSA9IG1laV9jbGRldl9zZW5kKGNsZGV2LCAodTggKikmbGNfaW5pdF9pbiwgc2l6ZW9mKGxjX2lu
aXRfaW4pKTsKIAlpZiAoYnl0ZSA8IDApIHsKQEAgLTM3OCw3ICszNjYsNyBAQCBtZWlfaGRjcF92
ZXJpZnlfbHByaW1lKHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGhkY3BfcG9ydF9kYXRhICpk
YXRhLAogCQkJCQlXSVJFRF9DTURfQlVGX0xFTl9WQUxJREFURV9MT0NBTElUWV9JTjsKIAogCXZl
cmlmeV9scHJpbWVfaW4ucG9ydC5pbnRlZ3JhdGVkX3BvcnRfdHlwZSA9IGRhdGEtPnBvcnRfdHlw
ZTsKLQl2ZXJpZnlfbHByaW1lX2luLnBvcnQucGh5c2ljYWxfcG9ydCA9IG1laV9nZXRfZGRpX2lu
ZGV4KGRhdGEtPnBvcnQpOworCXZlcmlmeV9scHJpbWVfaW4ucG9ydC5waHlzaWNhbF9wb3J0ID0g
KHU4KWRhdGEtPmZ3X2RkaTsKIAogCW1lbWNweSh2ZXJpZnlfbHByaW1lX2luLmxfcHJpbWUsIHJ4
X2xwcmltZS0+bF9wcmltZSwKIAkgICAgICAgSERDUF8yXzJfTF9QUklNRV9MRU4pOwpAQCAtNDM1
LDcgKzQyMyw3IEBAIHN0YXRpYyBpbnQgbWVpX2hkY3BfZ2V0X3Nlc3Npb25fa2V5KHN0cnVjdCBk
ZXZpY2UgKmRldiwKIAlnZXRfc2tleV9pbi5oZWFkZXIuYnVmZmVyX2xlbiA9IFdJUkVEX0NNRF9C
VUZfTEVOX0dFVF9TRVNTSU9OX0tFWV9JTjsKIAogCWdldF9za2V5X2luLnBvcnQuaW50ZWdyYXRl
ZF9wb3J0X3R5cGUgPSBkYXRhLT5wb3J0X3R5cGU7Ci0JZ2V0X3NrZXlfaW4ucG9ydC5waHlzaWNh
bF9wb3J0ID0gbWVpX2dldF9kZGlfaW5kZXgoZGF0YS0+cG9ydCk7CisJZ2V0X3NrZXlfaW4ucG9y
dC5waHlzaWNhbF9wb3J0ID0gKHU4KWRhdGEtPmZ3X2RkaTsKIAogCWJ5dGUgPSBtZWlfY2xkZXZf
c2VuZChjbGRldiwgKHU4ICopJmdldF9za2V5X2luLCBzaXplb2YoZ2V0X3NrZXlfaW4pKTsKIAlp
ZiAoYnl0ZSA8IDApIHsKQEAgLTQ5OSw3ICs0ODcsNyBAQCBtZWlfaGRjcF9yZXBlYXRlcl9jaGVj
a19mbG93X3ByZXBhcmVfYWNrKHN0cnVjdCBkZXZpY2UgKmRldiwKIAkJCQkJV0lSRURfQ01EX0JV
Rl9MRU5fVkVSSUZZX1JFUEVBVEVSX0lOOwogCiAJdmVyaWZ5X3JlcGVhdGVyX2luLnBvcnQuaW50
ZWdyYXRlZF9wb3J0X3R5cGUgPSBkYXRhLT5wb3J0X3R5cGU7Ci0JdmVyaWZ5X3JlcGVhdGVyX2lu
LnBvcnQucGh5c2ljYWxfcG9ydCA9IG1laV9nZXRfZGRpX2luZGV4KGRhdGEtPnBvcnQpOworCXZl
cmlmeV9yZXBlYXRlcl9pbi5wb3J0LnBoeXNpY2FsX3BvcnQgPSAodTgpZGF0YS0+ZndfZGRpOwog
CiAJbWVtY3B5KHZlcmlmeV9yZXBlYXRlcl9pbi5yeF9pbmZvLCByZXBfdG9wb2xvZ3ktPnJ4X2lu
Zm8sCiAJICAgICAgIEhEQ1BfMl8yX1JYSU5GT19MRU4pOwpAQCAtNTY5LDcgKzU1Nyw3IEBAIHN0
YXRpYyBpbnQgbWVpX2hkY3BfdmVyaWZ5X21wcmltZShzdHJ1Y3QgZGV2aWNlICpkZXYsCiAJCQlX
SVJFRF9DTURfQlVGX0xFTl9SRVBFQVRFUl9BVVRIX1NUUkVBTV9SRVFfTUlOX0lOOwogCiAJdmVy
aWZ5X21wcmltZV9pbi5wb3J0LmludGVncmF0ZWRfcG9ydF90eXBlID0gZGF0YS0+cG9ydF90eXBl
OwotCXZlcmlmeV9tcHJpbWVfaW4ucG9ydC5waHlzaWNhbF9wb3J0ID0gbWVpX2dldF9kZGlfaW5k
ZXgoZGF0YS0+cG9ydCk7CisJdmVyaWZ5X21wcmltZV9pbi5wb3J0LnBoeXNpY2FsX3BvcnQgPSAo
dTgpZGF0YS0+ZndfZGRpOwogCiAJbWVtY3B5KHZlcmlmeV9tcHJpbWVfaW4ubV9wcmltZSwgc3Ry
ZWFtX3JlYWR5LT5tX3ByaW1lLAogCSAgICAgICBIRENQXzJfMl9NUFJJTUVfTEVOKTsKQEAgLTYz
MCw3ICs2MTgsNyBAQCBzdGF0aWMgaW50IG1laV9oZGNwX2VuYWJsZV9hdXRoZW50aWNhdGlvbihz
dHJ1Y3QgZGV2aWNlICpkZXYsCiAJZW5hYmxlX2F1dGhfaW4uaGVhZGVyLmJ1ZmZlcl9sZW4gPSBX
SVJFRF9DTURfQlVGX0xFTl9FTkFCTEVfQVVUSF9JTjsKIAogCWVuYWJsZV9hdXRoX2luLnBvcnQu
aW50ZWdyYXRlZF9wb3J0X3R5cGUgPSBkYXRhLT5wb3J0X3R5cGU7Ci0JZW5hYmxlX2F1dGhfaW4u
cG9ydC5waHlzaWNhbF9wb3J0ID0gbWVpX2dldF9kZGlfaW5kZXgoZGF0YS0+cG9ydCk7CisJZW5h
YmxlX2F1dGhfaW4ucG9ydC5waHlzaWNhbF9wb3J0ID0gKHU4KWRhdGEtPmZ3X2RkaTsKIAllbmFi
bGVfYXV0aF9pbi5zdHJlYW1fdHlwZSA9IGRhdGEtPnN0cmVhbXNbMF0uc3RyZWFtX3R5cGU7CiAK
IAlieXRlID0gbWVpX2NsZGV2X3NlbmQoY2xkZXYsICh1OCAqKSZlbmFibGVfYXV0aF9pbiwKQEAg
LTY4NCw3ICs2NzIsNyBAQCBtZWlfaGRjcF9jbG9zZV9zZXNzaW9uKHN0cnVjdCBkZXZpY2UgKmRl
diwgc3RydWN0IGhkY3BfcG9ydF9kYXRhICpkYXRhKQogCQkJCVdJUkVEX0NNRF9CVUZfTEVOX0NM
T1NFX1NFU1NJT05fSU47CiAKIAlzZXNzaW9uX2Nsb3NlX2luLnBvcnQuaW50ZWdyYXRlZF9wb3J0
X3R5cGUgPSBkYXRhLT5wb3J0X3R5cGU7Ci0Jc2Vzc2lvbl9jbG9zZV9pbi5wb3J0LnBoeXNpY2Fs
X3BvcnQgPSBtZWlfZ2V0X2RkaV9pbmRleChkYXRhLT5wb3J0KTsKKwlzZXNzaW9uX2Nsb3NlX2lu
LnBvcnQucGh5c2ljYWxfcG9ydCA9ICh1OClkYXRhLT5md19kZGk7CiAKIAlieXRlID0gbWVpX2Ns
ZGV2X3NlbmQoY2xkZXYsICh1OCAqKSZzZXNzaW9uX2Nsb3NlX2luLAogCQkJICAgICAgc2l6ZW9m
KHNlc3Npb25fY2xvc2VfaW4pKTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvbWlzYy9tZWkvaGRjcC9t
ZWlfaGRjcC5oIGIvZHJpdmVycy9taXNjL21laS9oZGNwL21laV9oZGNwLmgKaW5kZXggZTRiMWNk
NTRjODUzLi5lNjAyODJlYjJkNDggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvbWlzYy9tZWkvaGRjcC9t
ZWlfaGRjcC5oCisrKyBiL2RyaXZlcnMvbWlzYy9tZWkvaGRjcC9tZWlfaGRjcC5oCkBAIC0zNjIs
MTYgKzM2Miw0IEBAIHN0cnVjdCB3aXJlZF9jbWRfcmVwZWF0ZXJfYXV0aF9zdHJlYW1fcmVxX291
dCB7CiAJc3RydWN0IGhkY3BfY21kX2hlYWRlcgloZWFkZXI7CiAJc3RydWN0IGhkY3BfcG9ydF9p
ZAlwb3J0OwogfSBfX3BhY2tlZDsKLQotZW51bSBtZWlfZndfZGRpIHsKLQlNRUlfRERJX0lOVkFM
SURfUE9SVCA9IDB4MCwKLQotCU1FSV9ERElfQiA9IDEsCi0JTUVJX0RESV9DLAotCU1FSV9ERElf
RCwKLQlNRUlfRERJX0UsCi0JTUVJX0RESV9GLAotCU1FSV9ERElfQSA9IDcsCi0JTUVJX0RESV9S
QU5HRV9FTkQgPSBNRUlfRERJX0EsCi19OwogI2VuZGlmIC8qIF9fTUVJX0hEQ1BfSF9fICovCmRp
ZmYgLS1naXQgYS9pbmNsdWRlL2RybS9pOTE1X21laV9oZGNwX2ludGVyZmFjZS5oIGIvaW5jbHVk
ZS9kcm0vaTkxNV9tZWlfaGRjcF9pbnRlcmZhY2UuaAppbmRleCA4YzM0NDI1NTE0NmEuLjA4Njcw
YWE2NTBkNCAxMDA2NDQKLS0tIGEvaW5jbHVkZS9kcm0vaTkxNV9tZWlfaGRjcF9pbnRlcmZhY2Uu
aAorKysgYi9pbmNsdWRlL2RybS9pOTE1X21laV9oZGNwX2ludGVyZmFjZS5oCkBAIC0xLDYgKzEs
NiBAQAogLyogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IChHUEwtMi4wKykgKi8KIC8qCi0gKiBD
b3B5cmlnaHQgwqkgMjAxNy0yMDE4IEludGVsIENvcnBvcmF0aW9uCisgKiBDb3B5cmlnaHQgwqkg
MjAxNy0yMDE5IEludGVsIENvcnBvcmF0aW9uCiAgKgogICogQXV0aG9yczoKICAqIFJhbWFsaW5n
YW0gQyA8cmFtYWxpbmdhbS5jQGludGVsLmNvbT4KQEAgLTQyLDkgKzQyLDIxIEBAIGVudW0gaGRj
cF93aXJlZF9wcm90b2NvbCB7CiAJSERDUF9QUk9UT0NPTF9EUAogfTsKIAorZW51bSBtZWlfZndf
ZGRpIHsKKwlNRUlfRERJX0lOVkFMSURfUE9SVCA9IDB4MCwKKworCU1FSV9ERElfQiA9IDEsCisJ
TUVJX0RESV9DLAorCU1FSV9ERElfRCwKKwlNRUlfRERJX0UsCisJTUVJX0RESV9GLAorCU1FSV9E
RElfQSA9IDcsCisJTUVJX0RESV9SQU5HRV9FTkQgPSBNRUlfRERJX0EsCit9OworCiAvKioKICAq
IHN0cnVjdCBoZGNwX3BvcnRfZGF0YSAtIGludGVsIHNwZWNpZmljIEhEQ1AgcG9ydCBkYXRhCi0g
KiBAcG9ydDogcG9ydCBpbmRleCBhcyBwZXIgSTkxNQorICogQGZ3X2RkaTogZGRpIGluZGV4IGFz
IHBlciBNRSBGVwogICogQHBvcnRfdHlwZTogSERDUCBwb3J0IHR5cGUgYXMgcGVyIE1FIEZXIGNs
YXNzaWZpY2F0aW9uCiAgKiBAcHJvdG9jb2w6IEhEQ1AgYWRhcHRhdGlvbiBhcyBwZXIgTUUgRlcK
ICAqIEBrOiBObyBvZiBzdHJlYW1zIHRyYW5zbWl0dGVkIG9uIGEgcG9ydC4gT25seSBvbiBEUCBN
U1QgdGhpcyBpcyAhPSAxCkBAIC01Niw3ICs2OCw3IEBAIGVudW0gaGRjcF93aXJlZF9wcm90b2Nv
bCB7CiAgKgkgICAgIHN0cmVhbXMKICAqLwogc3RydWN0IGhkY3BfcG9ydF9kYXRhIHsKLQllbnVt
IHBvcnQgcG9ydDsKKwllbnVtIG1laV9md19kZGkgZndfZGRpOwogCXU4IHBvcnRfdHlwZTsKIAl1
OCBwcm90b2NvbDsKIAl1MTYgazsKLS0gCjIuMjAuMQoKX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxA
bGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxt
YW4vbGlzdGluZm8vZHJpLWRldmVs
