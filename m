Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 5439BBD545
	for <lists+dri-devel@lfdr.de>; Wed, 25 Sep 2019 01:06:54 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3808589B0D;
	Tue, 24 Sep 2019 23:06:51 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2005989B0D;
 Tue, 24 Sep 2019 23:06:50 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx06.intmail.prod.int.phx2.redhat.com
 [10.5.11.16])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id 52ED810CC1FC;
 Tue, 24 Sep 2019 23:06:49 +0000 (UTC)
Received: from x1.home (ovpn-118-102.phx2.redhat.com [10.3.118.102])
 by smtp.corp.redhat.com (Postfix) with ESMTP id 57D605C21F;
 Tue, 24 Sep 2019 23:06:39 +0000 (UTC)
Date: Tue, 24 Sep 2019 17:06:38 -0600
From: Alex Williamson <alex.williamson@redhat.com>
To: Jason Wang <jasowang@redhat.com>
Subject: Re: [PATCH V2 5/8] mdev: introduce device specific ops
Message-ID: <20190924170638.064d85f7@x1.home>
In-Reply-To: <20190924135332.14160-6-jasowang@redhat.com>
References: <20190924135332.14160-1-jasowang@redhat.com>
 <20190924135332.14160-6-jasowang@redhat.com>
Organization: Red Hat
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.16
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.6.2
 (mx1.redhat.com [10.5.110.65]); Tue, 24 Sep 2019 23:06:49 +0000 (UTC)
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: christophe.de.dinechin@gmail.com, kvm@vger.kernel.org, mst@redhat.com,
 airlied@linux.ie, heiko.carstens@de.ibm.com, kevin.tian@intel.com,
 dri-devel@lists.freedesktop.org, virtualization@lists.linux-foundation.org,
 kwankhede@nvidia.com, rob.miller@broadcom.com, linux-s390@vger.kernel.org,
 sebott@linux.ibm.com, lulu@redhat.com, eperezma@redhat.com,
 pasic@linux.ibm.com, borntraeger@de.ibm.com, haotian.wang@sifive.com,
 cunming.liang@intel.com, zhi.a.wang@intel.com, farman@linux.ibm.com,
 idos@mellanox.com, gor@linux.ibm.com, intel-gfx@lists.freedesktop.org,
 rodrigo.vivi@intel.com, xiao.w.wang@intel.com, freude@linux.ibm.com,
 parav@mellanox.com, zhihong.wang@intel.com,
 intel-gvt-dev@lists.freedesktop.org, akrowiak@linux.ibm.com,
 oberpar@linux.ibm.com, tiwei.bie@intel.com, netdev@vger.kernel.org,
 cohuck@redhat.com, linux-kernel@vger.kernel.org, maxime.coquelin@redhat.com,
 lingshan.zhu@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVHVlLCAyNCBTZXAgMjAxOSAyMTo1MzoyOSArMDgwMApKYXNvbiBXYW5nIDxqYXNvd2FuZ0By
ZWRoYXQuY29tPiB3cm90ZToKCj4gQ3VycmVudGx5LCBleGNlcHQgZm9yIHRoZSBjcmVhdGUgYW5k
IHJlbW92ZSwgdGhlIHJlc3Qgb2YKPiBtZGV2X3BhcmVudF9vcHMgaXMgZGVzaWduZWQgZm9yIHZm
aW8tbWRldiBkcml2ZXIgb25seSBhbmQgbWF5IG5vdCBoZWxwCj4gZm9yIGtlcm5lbCBtZGV2IGRy
aXZlci4gV2l0aCB0aGUgaGVscCBvZiBjbGFzcyBpZCwgdGhpcyBwYXRjaAo+IGludHJvZHVjZXMg
ZGV2aWNlIHNwZWNpZmljIGNhbGxiYWNrcyBpbnNpZGUgbWRldl9kZXZpY2UKPiBzdHJ1Y3R1cmUu
IFRoaXMgYWxsb3dzIGRpZmZlcmVudCBzZXQgb2YgY2FsbGJhY2sgdG8gYmUgdXNlZCBieQo+IHZm
aW8tbWRldiBhbmQgdmlydGlvLW1kZXYuCj4gCj4gU2lnbmVkLW9mZi1ieTogSmFzb24gV2FuZyA8
amFzb3dhbmdAcmVkaGF0LmNvbT4KPiAtLS0KPiAgLi4uL2RyaXZlci1hcGkvdmZpby1tZWRpYXRl
ZC1kZXZpY2UucnN0ICAgICAgIHwgIDQgKy0KPiAgTUFJTlRBSU5FUlMgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHwgIDEgKwo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndnQva3Zt
Z3QuYyAgICAgICAgICAgICAgfCAxNyArKystLS0KPiAgZHJpdmVycy9zMzkwL2Npby92ZmlvX2Nj
d19vcHMuYyAgICAgICAgICAgICAgIHwgMTcgKysrKy0tCj4gIGRyaXZlcnMvczM5MC9jcnlwdG8v
dmZpb19hcF9vcHMuYyAgICAgICAgICAgICB8IDEzICsrKy0tCj4gIGRyaXZlcnMvdmZpby9tZGV2
L21kZXZfY29yZS5jICAgICAgICAgICAgICAgICB8IDEyICsrKysrCj4gIGRyaXZlcnMvdmZpby9t
ZGV2L21kZXZfcHJpdmF0ZS5oICAgICAgICAgICAgICB8ICAxICsKPiAgZHJpdmVycy92ZmlvL21k
ZXYvdmZpb19tZGV2LmMgICAgICAgICAgICAgICAgIHwgMzcgKysrKysrLS0tLS0tLQo+ICBpbmNs
dWRlL2xpbnV4L21kZXYuaCAgICAgICAgICAgICAgICAgICAgICAgICAgfCA0MiArKysrLS0tLS0t
LS0tLS0KPiAgaW5jbHVkZS9saW51eC92ZmlvX21kZXYuaCAgICAgICAgICAgICAgICAgICAgIHwg
NTIgKysrKysrKysrKysrKysrKysrKwo+ICBzYW1wbGVzL3ZmaW8tbWRldi9tYm9jaHMuYyAgICAg
ICAgICAgICAgICAgICAgfCAxOSArKysrLS0tCj4gIHNhbXBsZXMvdmZpby1tZGV2L21kcHkuYyAg
ICAgICAgICAgICAgICAgICAgICB8IDE5ICsrKystLS0KPiAgc2FtcGxlcy92ZmlvLW1kZXYvbXR0
eS5jICAgICAgICAgICAgICAgICAgICAgIHwgMTcgKysrKy0tCj4gIDEzIGZpbGVzIGNoYW5nZWQs
IDE2OCBpbnNlcnRpb25zKCspLCA4MyBkZWxldGlvbnMoLSkKPiAgY3JlYXRlIG1vZGUgMTAwNjQ0
IGluY2x1ZGUvbGludXgvdmZpb19tZGV2LmgKPiAKPiBkaWZmIC0tZ2l0IGEvRG9jdW1lbnRhdGlv
bi9kcml2ZXItYXBpL3ZmaW8tbWVkaWF0ZWQtZGV2aWNlLnJzdCBiL0RvY3VtZW50YXRpb24vZHJp
dmVyLWFwaS92ZmlvLW1lZGlhdGVkLWRldmljZS5yc3QKPiBpbmRleCBhNWJkYzYwZDYyYTEuLmQ1
MDQyNWIzNjhiYiAxMDA2NDQKPiAtLS0gYS9Eb2N1bWVudGF0aW9uL2RyaXZlci1hcGkvdmZpby1t
ZWRpYXRlZC1kZXZpY2UucnN0Cj4gKysrIGIvRG9jdW1lbnRhdGlvbi9kcml2ZXItYXBpL3ZmaW8t
bWVkaWF0ZWQtZGV2aWNlLnJzdAo+IEBAIC0xNTIsNyArMTUyLDkgQEAgY2FsbGJhY2tzIHBlciBt
ZGV2IHBhcmVudCBkZXZpY2UsIHBlciBtZGV2IHR5cGUsIG9yIGFueSBvdGhlciBjYXRlZ29yaXph
dGlvbi4KPiAgVmVuZG9yIGRyaXZlcnMgYXJlIGV4cGVjdGVkIHRvIGJlIGZ1bGx5IGFzeW5jaHJv
bm91cyBpbiB0aGlzIHJlc3BlY3Qgb3IKPiAgcHJvdmlkZSB0aGVpciBvd24gaW50ZXJuYWwgcmVz
b3VyY2UgcHJvdGVjdGlvbi4pCj4gIAo+IC1UaGUgY2FsbGJhY2tzIGluIHRoZSBtZGV2X3BhcmVu
dF9vcHMgc3RydWN0dXJlIGFyZSBhcyBmb2xsb3dzOgo+ICtUaGUgZGV2aWNlIHNwZWNpZmljIGNh
bGxiYWNrcyBhcmUgcmVmZXJyZWQgdGhyb3VnaCBkZXZpY2Vfb3BzIHBvaW50ZXIKPiAraW4gbWRl
dl9wYXJlbnRfb3BzLiBGb3IgdmZpby1tZGV2IGRldmljZSwgaXRzIGNhbGxiYWNrcyBpbiBkZXZp
Y2Vfb3BzCj4gK2FyZSBhcyBmb2xsb3dzOgoKVGhpcyBpcyBub3QgYWNjdXJhdGUuICBkZXZpY2Vf
b3BzIGlzIG5vdyBvbiB0aGUgbWRldl9kZXZpY2UgYW5kIGlzIGFuCm1kZXYgYnVzIGRyaXZlciBz
cGVjaWZpYyBzdHJ1Y3R1cmUgb2YgY2FsbGJhY2tzIHRoYXQgbXVzdCBiZSByZWdpc3RlcmVkCmZv
ciBlYWNoIG1kZXYgZGV2aWNlIGJ5IHRoZSBwYXJlbnQgZHJpdmVyIGR1cmluZyB0aGUgY3JlYXRl
IGNhbGxiYWNrLgpUaGVyZSdzIGEgb25lIHRvIG9uZSBtYXBwaW5nIG9mIGNsYXNzX2lkIHRvIG1k
ZXZfZGV2aWNlX29wcyBjYWxsYmFja3MuCgpUaGF0IGFsc28gc3VnZ2VzdHMgdG8gbWUgdGhhdCB3
ZSBjb3VsZCBiZSBtb3JlIGNsZXZlciBpbiByZWdpc3RlcmluZwpib3RoIG9mIHRoZXNlIHdpdGgg
bWRldi1jb3JlLiAgQ2FuIHdlIGVtYmVkIHRoZSBjbGFzc19pZCBpbiB0aGUgb3BzCnN0cnVjdHVy
ZSBpbiBhIGNvbW1vbiB3YXkgc28gdGhhdCB0aGUgY29yZSBjYW4gZXh0cmFjdCBpdCBhbmQgdGhl
IGJ1cwpkcml2ZXJzIGNhbiBhY2Nlc3MgdGhlaXIgc3BlY2lmaWMgY2FsbGJhY2tzPwoKPiAgKiBv
cGVuOiBvcGVuIGNhbGxiYWNrIG9mIG1lZGlhdGVkIGRldmljZQo+ICAqIGNsb3NlOiBjbG9zZSBj
YWxsYmFjayBvZiBtZWRpYXRlZCBkZXZpY2UKPiBkaWZmIC0tZ2l0IGEvTUFJTlRBSU5FUlMgYi9N
QUlOVEFJTkVSUwo+IGluZGV4IGIyMzI2ZGVjZTI4ZS4uODk4MzJiMzE2NTAwIDEwMDY0NAo+IC0t
LSBhL01BSU5UQUlORVJTCj4gKysrIGIvTUFJTlRBSU5FUlMKPiBAQCAtMTcwNzUsNiArMTcwNzUs
NyBAQCBTOglNYWludGFpbmVkCj4gIEY6CURvY3VtZW50YXRpb24vZHJpdmVyLWFwaS92ZmlvLW1l
ZGlhdGVkLWRldmljZS5yc3QKPiAgRjoJZHJpdmVycy92ZmlvL21kZXYvCj4gIEY6CWluY2x1ZGUv
bGludXgvbWRldi5oCj4gK0Y6CWluY2x1ZGUvbGludXgvdmZpb19tZGV2LmgKPiAgRjoJc2FtcGxl
cy92ZmlvLW1kZXYvCj4gIAo+ICBWRklPIFBMQVRGT1JNIERSSVZFUgo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndnQva3ZtZ3QuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d2
dC9rdm1ndC5jCj4gaW5kZXggZjc5MzI1MmEzZDJhLi5iMjc0ZjVlZTQ4MWYgMTAwNjQ0Cj4gLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Z0L2t2bWd0LmMKPiArKysgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9ndnQva3ZtZ3QuYwo+IEBAIC00Miw2ICs0Miw3IEBACj4gICNpbmNsdWRlIDxsaW51
eC9rdm1faG9zdC5oPgo+ICAjaW5jbHVkZSA8bGludXgvdmZpby5oPgo+ICAjaW5jbHVkZSA8bGlu
dXgvbWRldi5oPgo+ICsjaW5jbHVkZSA8bGludXgvdmZpb19tZGV2Lmg+Cj4gICNpbmNsdWRlIDxs
aW51eC9kZWJ1Z2ZzLmg+Cj4gIAo+ICAjaW5jbHVkZSA8bGludXgvbm9zcGVjLmg+Cj4gQEAgLTY0
Myw2ICs2NDQsOCBAQCBzdGF0aWMgdm9pZCBrdm1ndF9wdXRfdmZpb19kZXZpY2Uodm9pZCAqdmdw
dSkKPiAgCXZmaW9fZGV2aWNlX3B1dCgoKHN0cnVjdCBpbnRlbF92Z3B1ICopdmdwdSktPnZkZXYu
dmZpb19kZXZpY2UpOwo+ICB9Cj4gIAo+ICtzdGF0aWMgc3RydWN0IHZmaW9fbWRldl9kZXZpY2Vf
b3BzIGludGVsX3ZmaW9fdmdwdV9kZXZfb3BzOwo+ICsKPiAgc3RhdGljIGludCBpbnRlbF92Z3B1
X2NyZWF0ZShzdHJ1Y3Qga29iamVjdCAqa29iaiwgc3RydWN0IG1kZXZfZGV2aWNlICptZGV2KQo+
ICB7Cj4gIAlzdHJ1Y3QgaW50ZWxfdmdwdSAqdmdwdSA9IE5VTEw7Cj4gQEAgLTY3OSw2ICs2ODIs
NyBAQCBzdGF0aWMgaW50IGludGVsX3ZncHVfY3JlYXRlKHN0cnVjdCBrb2JqZWN0ICprb2JqLCBz
dHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYpCj4gIAlyZXQgPSAwOwo+ICAKPiAgCW1kZXZfc2V0X2Ns
YXNzX2lkKG1kZXYsIE1ERVZfSURfVkZJTyk7Cj4gKwltZGV2X3NldF9kZXZfb3BzKG1kZXYsICZp
bnRlbF92ZmlvX3ZncHVfZGV2X29wcyk7CgpUaGlzIHNlZW1zIHJhdGhlciB1bnJlZmluZWQuICBX
ZSdyZSByZWdpc3RlcmluZyBpbnRlcmRlcGVuZGVudCBkYXRhIGluCnNlcGFyYXRlIGNhbGxzLiAg
QWxsIGRyaXZlcnMgbmVlZCB0byBtYWtlIGJvdGggb2YgdGhlc2UgY2FsbHMuICBJJ20gbm90CnN1
cmUgaWYgdGhpcyBpcyBhIGdvb2QgaWRlYSwgYnV0IHdoYXQgaWYgd2UgaGFkOgoKc3RhdGljIGNv
bnN0IHN0cnVjdCB2ZmlvX21kZXZfZGV2aWNlX29wcyBpbnRlbF92ZmlvX3ZncHVfZGV2X29wcyA9
IHsKCS5pZAkJCT0gTURFVl9JRF9WRklPLAogCS5vcGVuCQkJPSBpbnRlbF92Z3B1X29wZW4sCiAJ
LnJlbGVhc2UJCT0gaW50ZWxfdmdwdV9yZWxlYXNlLAogICAgICAgIC4uLgoKQW5kIHRoZSBzZXQg
ZnVuY3Rpb24gcGFzc2VkICZpbnRlbF92ZmlvX3ZncHVfZGV2X29wcy5pZCBhbmQgdGhlIG1kZXYK
YnVzIGRyaXZlcnMgdXNlZCBjb250YWluZXJfb2YgdG8gZ2V0IHRvIHRoZWlyIGNhbGxiYWNrcz8K
Cj4gIG91dDoKPiAgCXJldHVybiByZXQ7Cj4gIH0KPiBAQCAtMTYwMSwyMCArMTYwNSwyMSBAQCBz
dGF0aWMgY29uc3Qgc3RydWN0IGF0dHJpYnV0ZV9ncm91cCAqaW50ZWxfdmdwdV9ncm91cHNbXSA9
IHsKPiAgCU5VTEwsCj4gIH07Cj4gIAo+IC1zdGF0aWMgc3RydWN0IG1kZXZfcGFyZW50X29wcyBp
bnRlbF92Z3B1X29wcyA9IHsKPiAtCS5tZGV2X2F0dHJfZ3JvdXBzICAgICAgID0gaW50ZWxfdmdw
dV9ncm91cHMsCj4gLQkuY3JlYXRlCQkJPSBpbnRlbF92Z3B1X2NyZWF0ZSwKPiAtCS5yZW1vdmUJ
CQk9IGludGVsX3ZncHVfcmVtb3ZlLAo+IC0KPiArc3RhdGljIHN0cnVjdCB2ZmlvX21kZXZfZGV2
aWNlX29wcyBpbnRlbF92ZmlvX3ZncHVfZGV2X29wcyA9IHsKPiAgCS5vcGVuCQkJPSBpbnRlbF92
Z3B1X29wZW4sCj4gIAkucmVsZWFzZQkJPSBpbnRlbF92Z3B1X3JlbGVhc2UsCj4gLQo+ICAJLnJl
YWQJCQk9IGludGVsX3ZncHVfcmVhZCwKPiAgCS53cml0ZQkJCT0gaW50ZWxfdmdwdV93cml0ZSwK
PiAgCS5tbWFwCQkJPSBpbnRlbF92Z3B1X21tYXAsCj4gIAkuaW9jdGwJCQk9IGludGVsX3ZncHVf
aW9jdGwsCj4gIH07Cj4gIAo+ICtzdGF0aWMgc3RydWN0IG1kZXZfcGFyZW50X29wcyBpbnRlbF92
Z3B1X29wcyA9IHsKClRoZXNlIGNvdWxkIG1heWJlIGJlIG1hZGUgY29uc3QgYXQgdGhlIHNhbWUg
dGltZS4gIFRoYW5rcywKCkFsZXgKCj4gKwkubWRldl9hdHRyX2dyb3VwcyAgICAgICA9IGludGVs
X3ZncHVfZ3JvdXBzLAo+ICsJLmNyZWF0ZQkJCT0gaW50ZWxfdmdwdV9jcmVhdGUsCj4gKwkucmVt
b3ZlCQkJPSBpbnRlbF92Z3B1X3JlbW92ZSwKPiArfTsKPiArCj4gIHN0YXRpYyBpbnQga3ZtZ3Rf
aG9zdF9pbml0KHN0cnVjdCBkZXZpY2UgKmRldiwgdm9pZCAqZ3Z0LCBjb25zdCB2b2lkICpvcHMp
Cj4gIHsKPiAgCXN0cnVjdCBhdHRyaWJ1dGUgKiprdm1fdHlwZV9hdHRyczsKPiBkaWZmIC0tZ2l0
IGEvZHJpdmVycy9zMzkwL2Npby92ZmlvX2Njd19vcHMuYyBiL2RyaXZlcnMvczM5MC9jaW8vdmZp
b19jY3dfb3BzLmMKPiBpbmRleCBkMjU4ZWYxZmVkYjkuLjMyOWQ1M2MxZjQ2YiAxMDA2NDQKPiAt
LS0gYS9kcml2ZXJzL3MzOTAvY2lvL3ZmaW9fY2N3X29wcy5jCj4gKysrIGIvZHJpdmVycy9zMzkw
L2Npby92ZmlvX2Njd19vcHMuYwo+IEBAIC0xMiw2ICsxMiw3IEBACj4gIAo+ICAjaW5jbHVkZSA8
bGludXgvdmZpby5oPgo+ICAjaW5jbHVkZSA8bGludXgvbWRldi5oPgo+ICsjaW5jbHVkZSA8bGlu
dXgvdmZpb19tZGV2Lmg+Cj4gICNpbmNsdWRlIDxsaW51eC9ub3NwZWMuaD4KPiAgI2luY2x1ZGUg
PGxpbnV4L3NsYWIuaD4KPiAgCj4gQEAgLTExMCw2ICsxMTEsOCBAQCBzdGF0aWMgc3RydWN0IGF0
dHJpYnV0ZV9ncm91cCAqbWRldl90eXBlX2dyb3Vwc1tdID0gewo+ICAJTlVMTCwKPiAgfTsKPiAg
Cj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3QgdmZpb19tZGV2X2RldmljZV9vcHMgdmZpb19tZGV2X29w
czsKPiArCj4gIHN0YXRpYyBpbnQgdmZpb19jY3dfbWRldl9jcmVhdGUoc3RydWN0IGtvYmplY3Qg
KmtvYmosIHN0cnVjdCBtZGV2X2RldmljZSAqbWRldikKPiAgewo+ICAJc3RydWN0IHZmaW9fY2N3
X3ByaXZhdGUgKnByaXZhdGUgPQo+IEBAIC0xMzAsNiArMTMzLDcgQEAgc3RhdGljIGludCB2Zmlv
X2Njd19tZGV2X2NyZWF0ZShzdHJ1Y3Qga29iamVjdCAqa29iaiwgc3RydWN0IG1kZXZfZGV2aWNl
ICptZGV2KQo+ICAJCQkgICBwcml2YXRlLT5zY2gtPnNjaGlkLnNjaF9ubyk7Cj4gIAo+ICAJbWRl
dl9zZXRfY2xhc3NfaWQobWRldiwgTURFVl9JRF9WRklPKTsKPiArCW1kZXZfc2V0X2Rldl9vcHMo
bWRldiwgJnZmaW9fbWRldl9vcHMpOwo+ICAJcmV0dXJuIDA7Cj4gIH0KPiAgCj4gQEAgLTU3NSwx
MSArNTc5LDcgQEAgc3RhdGljIHNzaXplX3QgdmZpb19jY3dfbWRldl9pb2N0bChzdHJ1Y3QgbWRl
dl9kZXZpY2UgKm1kZXYsCj4gIAl9Cj4gIH0KPiAgCj4gLXN0YXRpYyBjb25zdCBzdHJ1Y3QgbWRl
dl9wYXJlbnRfb3BzIHZmaW9fY2N3X21kZXZfb3BzID0gewo+IC0JLm93bmVyCQkJPSBUSElTX01P
RFVMRSwKPiAtCS5zdXBwb3J0ZWRfdHlwZV9ncm91cHMgID0gbWRldl90eXBlX2dyb3VwcywKPiAt
CS5jcmVhdGUJCQk9IHZmaW9fY2N3X21kZXZfY3JlYXRlLAo+IC0JLnJlbW92ZQkJCT0gdmZpb19j
Y3dfbWRldl9yZW1vdmUsCj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3QgdmZpb19tZGV2X2RldmljZV9v
cHMgdmZpb19tZGV2X29wcyA9IHsKPiAgCS5vcGVuCQkJPSB2ZmlvX2Njd19tZGV2X29wZW4sCj4g
IAkucmVsZWFzZQkJPSB2ZmlvX2Njd19tZGV2X3JlbGVhc2UsCj4gIAkucmVhZAkJCT0gdmZpb19j
Y3dfbWRldl9yZWFkLAo+IEBAIC01ODcsNiArNTg3LDEzIEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3Qg
bWRldl9wYXJlbnRfb3BzIHZmaW9fY2N3X21kZXZfb3BzID0gewo+ICAJLmlvY3RsCQkJPSB2Zmlv
X2Njd19tZGV2X2lvY3RsLAo+ICB9Owo+ICAKPiArc3RhdGljIGNvbnN0IHN0cnVjdCBtZGV2X3Bh
cmVudF9vcHMgdmZpb19jY3dfbWRldl9vcHMgPSB7Cj4gKwkub3duZXIJCQk9IFRISVNfTU9EVUxF
LAo+ICsJLnN1cHBvcnRlZF90eXBlX2dyb3VwcyAgPSBtZGV2X3R5cGVfZ3JvdXBzLAo+ICsJLmNy
ZWF0ZQkJCT0gdmZpb19jY3dfbWRldl9jcmVhdGUsCj4gKwkucmVtb3ZlCQkJPSB2ZmlvX2Njd19t
ZGV2X3JlbW92ZSwKPiArfTsKPiArCj4gIGludCB2ZmlvX2Njd19tZGV2X3JlZyhzdHJ1Y3Qgc3Vi
Y2hhbm5lbCAqc2NoKQo+ICB7Cj4gIAlyZXR1cm4gbWRldl9yZWdpc3Rlcl9kZXZpY2UoJnNjaC0+
ZGV2LCAmdmZpb19jY3dfbWRldl9vcHMpOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3MzOTAvY3J5
cHRvL3ZmaW9fYXBfb3BzLmMgYi9kcml2ZXJzL3MzOTAvY3J5cHRvL3ZmaW9fYXBfb3BzLmMKPiBp
bmRleCAyY2ZkOTYxMTJhYTAuLjNhODk5MzNmMGQzZSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL3Mz
OTAvY3J5cHRvL3ZmaW9fYXBfb3BzLmMKPiArKysgYi9kcml2ZXJzL3MzOTAvY3J5cHRvL3ZmaW9f
YXBfb3BzLmMKPiBAQCAtMTYsNiArMTYsNyBAQAo+ICAjaW5jbHVkZSA8bGludXgvYml0b3BzLmg+
Cj4gICNpbmNsdWRlIDxsaW51eC9rdm1faG9zdC5oPgo+ICAjaW5jbHVkZSA8bGludXgvbW9kdWxl
Lmg+Cj4gKyNpbmNsdWRlIDxsaW51eC92ZmlvX21kZXYuaD4KPiAgI2luY2x1ZGUgPGFzbS9rdm0u
aD4KPiAgI2luY2x1ZGUgPGFzbS96Y3J5cHQuaD4KPiAgCj4gQEAgLTMyMSw2ICszMjIsOCBAQCBz
dGF0aWMgdm9pZCB2ZmlvX2FwX21hdHJpeF9pbml0KHN0cnVjdCBhcF9jb25maWdfaW5mbyAqaW5m
bywKPiAgCW1hdHJpeC0+YWRtX21heCA9IGluZm8tPmFweGEgPyBpbmZvLT5OZCA6IDE1Owo+ICB9
Cj4gIAo+ICtzdGF0aWMgY29uc3Qgc3RydWN0IHZmaW9fbWRldl9kZXZpY2Vfb3BzIHZmaW9fbWRl
dl9vcHM7Cj4gKwo+ICBzdGF0aWMgaW50IHZmaW9fYXBfbWRldl9jcmVhdGUoc3RydWN0IGtvYmpl
Y3QgKmtvYmosIHN0cnVjdCBtZGV2X2RldmljZSAqbWRldikKPiAgewo+ICAJc3RydWN0IGFwX21h
dHJpeF9tZGV2ICptYXRyaXhfbWRldjsKPiBAQCAtMzQ0LDYgKzM0Nyw3IEBAIHN0YXRpYyBpbnQg
dmZpb19hcF9tZGV2X2NyZWF0ZShzdHJ1Y3Qga29iamVjdCAqa29iaiwgc3RydWN0IG1kZXZfZGV2
aWNlICptZGV2KQo+ICAJbXV0ZXhfdW5sb2NrKCZtYXRyaXhfZGV2LT5sb2NrKTsKPiAgCj4gIAlt
ZGV2X3NldF9jbGFzc19pZChtZGV2LCBNREVWX0lEX1ZGSU8pOwo+ICsJbWRldl9zZXRfZGV2X29w
cyhtZGV2LCAmdmZpb19tZGV2X29wcyk7Cj4gIAlyZXR1cm4gMDsKPiAgfQo+ICAKPiBAQCAtMTI4
MSwxNSArMTI4NSwxOCBAQCBzdGF0aWMgc3NpemVfdCB2ZmlvX2FwX21kZXZfaW9jdGwoc3RydWN0
IG1kZXZfZGV2aWNlICptZGV2LAo+ICAJcmV0dXJuIHJldDsKPiAgfQo+ICAKPiArc3RhdGljIGNv
bnN0IHN0cnVjdCB2ZmlvX21kZXZfZGV2aWNlX29wcyB2ZmlvX21kZXZfb3BzID0gewo+ICsJLm9w
ZW4JCQk9IHZmaW9fYXBfbWRldl9vcGVuLAo+ICsJLnJlbGVhc2UJCT0gdmZpb19hcF9tZGV2X3Jl
bGVhc2UsCj4gKwkuaW9jdGwJCQk9IHZmaW9fYXBfbWRldl9pb2N0bCwKPiArfTsKPiArCj4gIHN0
YXRpYyBjb25zdCBzdHJ1Y3QgbWRldl9wYXJlbnRfb3BzIHZmaW9fYXBfbWF0cml4X29wcyA9IHsK
PiAgCS5vd25lcgkJCT0gVEhJU19NT0RVTEUsCj4gIAkuc3VwcG9ydGVkX3R5cGVfZ3JvdXBzCT0g
dmZpb19hcF9tZGV2X3R5cGVfZ3JvdXBzLAo+ICAJLm1kZXZfYXR0cl9ncm91cHMJPSB2ZmlvX2Fw
X21kZXZfYXR0cl9ncm91cHMsCj4gIAkuY3JlYXRlCQkJPSB2ZmlvX2FwX21kZXZfY3JlYXRlLAo+
ICAJLnJlbW92ZQkJCT0gdmZpb19hcF9tZGV2X3JlbW92ZSwKPiAtCS5vcGVuCQkJPSB2ZmlvX2Fw
X21kZXZfb3BlbiwKPiAtCS5yZWxlYXNlCQk9IHZmaW9fYXBfbWRldl9yZWxlYXNlLAo+IC0JLmlv
Y3RsCQkJPSB2ZmlvX2FwX21kZXZfaW9jdGwsCj4gIH07Cj4gIAo+ICBpbnQgdmZpb19hcF9tZGV2
X3JlZ2lzdGVyKHZvaWQpCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmZpby9tZGV2L21kZXZfY29y
ZS5jIGIvZHJpdmVycy92ZmlvL21kZXYvbWRldl9jb3JlLmMKPiBpbmRleCA4NzY0Y2Y0YTI3NmQu
LjZmMzVmMmNlZDJjOSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL3ZmaW8vbWRldi9tZGV2X2NvcmUu
Ywo+ICsrKyBiL2RyaXZlcnMvdmZpby9tZGV2L21kZXZfY29yZS5jCj4gQEAgLTUxLDYgKzUxLDE4
IEBAIHZvaWQgbWRldl9zZXRfY2xhc3NfaWQoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2LCB1MTYg
aWQpCj4gIH0KPiAgRVhQT1JUX1NZTUJPTChtZGV2X3NldF9jbGFzc19pZCk7Cj4gIAo+ICtjb25z
dCB2b2lkICptZGV2X2dldF9kZXZfb3BzKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldikKPiArewo+
ICsJcmV0dXJuIG1kZXYtPmRldmljZV9vcHM7Cj4gK30KPiArRVhQT1JUX1NZTUJPTChtZGV2X2dl
dF9kZXZfb3BzKTsKPiArCj4gK3ZvaWQgbWRldl9zZXRfZGV2X29wcyhzdHJ1Y3QgbWRldl9kZXZp
Y2UgKm1kZXYsIGNvbnN0IHZvaWQgKm9wcykKPiArewo+ICsJbWRldi0+ZGV2aWNlX29wcyA9IG9w
czsKPiArfQo+ICtFWFBPUlRfU1lNQk9MKG1kZXZfc2V0X2Rldl9vcHMpOwo+ICsKPiAgc3RydWN0
IGRldmljZSAqbWRldl9kZXYoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2KQo+ICB7Cj4gIAlyZXR1
cm4gJm1kZXYtPmRldjsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy92ZmlvL21kZXYvbWRldl9wcml2
YXRlLmggYi9kcml2ZXJzL3ZmaW8vbWRldi9tZGV2X3ByaXZhdGUuaAo+IGluZGV4IGM2NWY0MzZj
MTg2OS4uYjY2NjgwNWYwYjFmIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvdmZpby9tZGV2L21kZXZf
cHJpdmF0ZS5oCj4gKysrIGIvZHJpdmVycy92ZmlvL21kZXYvbWRldl9wcml2YXRlLmgKPiBAQCAt
MzQsNiArMzQsNyBAQCBzdHJ1Y3QgbWRldl9kZXZpY2Ugewo+ICAJc3RydWN0IGRldmljZSAqaW9t
bXVfZGV2aWNlOwo+ICAJYm9vbCBhY3RpdmU7Cj4gIAl1MTYgY2xhc3NfaWQ7Cj4gKwljb25zdCB2
b2lkICpkZXZpY2Vfb3BzOwo+ICB9Owo+ICAKPiAgI2RlZmluZSB0b19tZGV2X2RldmljZShkZXYp
CWNvbnRhaW5lcl9vZihkZXYsIHN0cnVjdCBtZGV2X2RldmljZSwgZGV2KQo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL3ZmaW8vbWRldi92ZmlvX21kZXYuYyBiL2RyaXZlcnMvdmZpby9tZGV2L3ZmaW9f
bWRldi5jCj4gaW5kZXggODkxY2Y4M2EyZDlhLi45NWVmYTA1NDQ0MmYgMTAwNjQ0Cj4gLS0tIGEv
ZHJpdmVycy92ZmlvL21kZXYvdmZpb19tZGV2LmMKPiArKysgYi9kcml2ZXJzL3ZmaW8vbWRldi92
ZmlvX21kZXYuYwo+IEBAIC0xNCw2ICsxNCw3IEBACj4gICNpbmNsdWRlIDxsaW51eC9zbGFiLmg+
Cj4gICNpbmNsdWRlIDxsaW51eC92ZmlvLmg+Cj4gICNpbmNsdWRlIDxsaW51eC9tZGV2Lmg+Cj4g
KyNpbmNsdWRlIDxsaW51eC92ZmlvX21kZXYuaD4KPiAgCj4gICNpbmNsdWRlICJtZGV2X3ByaXZh
dGUuaCIKPiAgCj4gQEAgLTI0LDE2ICsyNSwxNiBAQAo+ICBzdGF0aWMgaW50IHZmaW9fbWRldl9v
cGVuKHZvaWQgKmRldmljZV9kYXRhKQo+ICB7Cj4gIAlzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYg
PSBkZXZpY2VfZGF0YTsKPiAtCXN0cnVjdCBtZGV2X3BhcmVudCAqcGFyZW50ID0gbWRldi0+cGFy
ZW50Owo+ICsJY29uc3Qgc3RydWN0IHZmaW9fbWRldl9kZXZpY2Vfb3BzICpvcHMgPSBtZGV2X2dl
dF9kZXZfb3BzKG1kZXYpOwo+ICAJaW50IHJldDsKPiAgCj4gLQlpZiAodW5saWtlbHkoIXBhcmVu
dC0+b3BzLT5vcGVuKSkKPiArCWlmICh1bmxpa2VseSghb3BzLT5vcGVuKSkKPiAgCQlyZXR1cm4g
LUVJTlZBTDsKPiAgCj4gIAlpZiAoIXRyeV9tb2R1bGVfZ2V0KFRISVNfTU9EVUxFKSkKPiAgCQly
ZXR1cm4gLUVOT0RFVjsKPiAgCj4gLQlyZXQgPSBwYXJlbnQtPm9wcy0+b3BlbihtZGV2KTsKPiAr
CXJldCA9IG9wcy0+b3BlbihtZGV2KTsKPiAgCWlmIChyZXQpCj4gIAkJbW9kdWxlX3B1dChUSElT
X01PRFVMRSk7Cj4gIAo+IEBAIC00MywxMCArNDQsMTAgQEAgc3RhdGljIGludCB2ZmlvX21kZXZf
b3Blbih2b2lkICpkZXZpY2VfZGF0YSkKPiAgc3RhdGljIHZvaWQgdmZpb19tZGV2X3JlbGVhc2Uo
dm9pZCAqZGV2aWNlX2RhdGEpCj4gIHsKPiAgCXN0cnVjdCBtZGV2X2RldmljZSAqbWRldiA9IGRl
dmljZV9kYXRhOwo+IC0Jc3RydWN0IG1kZXZfcGFyZW50ICpwYXJlbnQgPSBtZGV2LT5wYXJlbnQ7
Cj4gKwljb25zdCBzdHJ1Y3QgdmZpb19tZGV2X2RldmljZV9vcHMgKm9wcyA9IG1kZXZfZ2V0X2Rl
dl9vcHMobWRldik7Cj4gIAo+IC0JaWYgKGxpa2VseShwYXJlbnQtPm9wcy0+cmVsZWFzZSkpCj4g
LQkJcGFyZW50LT5vcHMtPnJlbGVhc2UobWRldik7Cj4gKwlpZiAobGlrZWx5KG9wcy0+cmVsZWFz
ZSkpCj4gKwkJb3BzLT5yZWxlYXNlKG1kZXYpOwo+ICAKPiAgCW1vZHVsZV9wdXQoVEhJU19NT0RV
TEUpOwo+ICB9Cj4gQEAgLTU1LDQ3ICs1Niw0NyBAQCBzdGF0aWMgbG9uZyB2ZmlvX21kZXZfdW5s
b2NrZWRfaW9jdGwodm9pZCAqZGV2aWNlX2RhdGEsCj4gIAkJCQkgICAgIHVuc2lnbmVkIGludCBj
bWQsIHVuc2lnbmVkIGxvbmcgYXJnKQo+ICB7Cj4gIAlzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYg
PSBkZXZpY2VfZGF0YTsKPiAtCXN0cnVjdCBtZGV2X3BhcmVudCAqcGFyZW50ID0gbWRldi0+cGFy
ZW50Owo+ICsJY29uc3Qgc3RydWN0IHZmaW9fbWRldl9kZXZpY2Vfb3BzICpvcHMgPSBtZGV2X2dl
dF9kZXZfb3BzKG1kZXYpOwo+ICAKPiAtCWlmICh1bmxpa2VseSghcGFyZW50LT5vcHMtPmlvY3Rs
KSkKPiArCWlmICh1bmxpa2VseSghb3BzLT5pb2N0bCkpCj4gIAkJcmV0dXJuIC1FSU5WQUw7Cj4g
IAo+IC0JcmV0dXJuIHBhcmVudC0+b3BzLT5pb2N0bChtZGV2LCBjbWQsIGFyZyk7Cj4gKwlyZXR1
cm4gb3BzLT5pb2N0bChtZGV2LCBjbWQsIGFyZyk7Cj4gIH0KPiAgCj4gIHN0YXRpYyBzc2l6ZV90
IHZmaW9fbWRldl9yZWFkKHZvaWQgKmRldmljZV9kYXRhLCBjaGFyIF9fdXNlciAqYnVmLAo+ICAJ
CQkgICAgICBzaXplX3QgY291bnQsIGxvZmZfdCAqcHBvcykKPiAgewo+ICAJc3RydWN0IG1kZXZf
ZGV2aWNlICptZGV2ID0gZGV2aWNlX2RhdGE7Cj4gLQlzdHJ1Y3QgbWRldl9wYXJlbnQgKnBhcmVu
dCA9IG1kZXYtPnBhcmVudDsKPiArCWNvbnN0IHN0cnVjdCB2ZmlvX21kZXZfZGV2aWNlX29wcyAq
b3BzID0gbWRldl9nZXRfZGV2X29wcyhtZGV2KTsKPiAgCj4gLQlpZiAodW5saWtlbHkoIXBhcmVu
dC0+b3BzLT5yZWFkKSkKPiArCWlmICh1bmxpa2VseSghb3BzLT5yZWFkKSkKPiAgCQlyZXR1cm4g
LUVJTlZBTDsKPiAgCj4gLQlyZXR1cm4gcGFyZW50LT5vcHMtPnJlYWQobWRldiwgYnVmLCBjb3Vu
dCwgcHBvcyk7Cj4gKwlyZXR1cm4gb3BzLT5yZWFkKG1kZXYsIGJ1ZiwgY291bnQsIHBwb3MpOwo+
ICB9Cj4gIAo+ICBzdGF0aWMgc3NpemVfdCB2ZmlvX21kZXZfd3JpdGUodm9pZCAqZGV2aWNlX2Rh
dGEsIGNvbnN0IGNoYXIgX191c2VyICpidWYsCj4gIAkJCSAgICAgICBzaXplX3QgY291bnQsIGxv
ZmZfdCAqcHBvcykKPiAgewo+ICAJc3RydWN0IG1kZXZfZGV2aWNlICptZGV2ID0gZGV2aWNlX2Rh
dGE7Cj4gLQlzdHJ1Y3QgbWRldl9wYXJlbnQgKnBhcmVudCA9IG1kZXYtPnBhcmVudDsKPiArCWNv
bnN0IHN0cnVjdCB2ZmlvX21kZXZfZGV2aWNlX29wcyAqb3BzID0gbWRldl9nZXRfZGV2X29wcyht
ZGV2KTsKPiAgCj4gLQlpZiAodW5saWtlbHkoIXBhcmVudC0+b3BzLT53cml0ZSkpCj4gKwlpZiAo
dW5saWtlbHkoIW9wcy0+d3JpdGUpKQo+ICAJCXJldHVybiAtRUlOVkFMOwo+ICAKPiAtCXJldHVy
biBwYXJlbnQtPm9wcy0+d3JpdGUobWRldiwgYnVmLCBjb3VudCwgcHBvcyk7Cj4gKwlyZXR1cm4g
b3BzLT53cml0ZShtZGV2LCBidWYsIGNvdW50LCBwcG9zKTsKPiAgfQo+ICAKPiAgc3RhdGljIGlu
dCB2ZmlvX21kZXZfbW1hcCh2b2lkICpkZXZpY2VfZGF0YSwgc3RydWN0IHZtX2FyZWFfc3RydWN0
ICp2bWEpCj4gIHsKPiAgCXN0cnVjdCBtZGV2X2RldmljZSAqbWRldiA9IGRldmljZV9kYXRhOwo+
IC0Jc3RydWN0IG1kZXZfcGFyZW50ICpwYXJlbnQgPSBtZGV2LT5wYXJlbnQ7Cj4gKwljb25zdCBz
dHJ1Y3QgdmZpb19tZGV2X2RldmljZV9vcHMgKm9wcyA9IG1kZXZfZ2V0X2Rldl9vcHMobWRldik7
Cj4gIAo+IC0JaWYgKHVubGlrZWx5KCFwYXJlbnQtPm9wcy0+bW1hcCkpCj4gKwlpZiAodW5saWtl
bHkoIW9wcy0+bW1hcCkpCj4gIAkJcmV0dXJuIC1FSU5WQUw7Cj4gIAo+IC0JcmV0dXJuIHBhcmVu
dC0+b3BzLT5tbWFwKG1kZXYsIHZtYSk7Cj4gKwlyZXR1cm4gb3BzLT5tbWFwKG1kZXYsIHZtYSk7
Cj4gIH0KPiAgCj4gIHN0YXRpYyBjb25zdCBzdHJ1Y3QgdmZpb19kZXZpY2Vfb3BzIHZmaW9fbWRl
dl9kZXZfb3BzID0gewo+IGRpZmYgLS1naXQgYS9pbmNsdWRlL2xpbnV4L21kZXYuaCBiL2luY2x1
ZGUvbGludXgvbWRldi5oCj4gaW5kZXggMzk3NDY1MGMwNzRmLi4zNDE0MzA3MzExZjEgMTAwNjQ0
Cj4gLS0tIGEvaW5jbHVkZS9saW51eC9tZGV2LmgKPiArKysgYi9pbmNsdWRlL2xpbnV4L21kZXYu
aAo+IEBAIC0xMCw2ICsxMCwxMSBAQAo+ICAjaWZuZGVmIE1ERVZfSAo+ICAjZGVmaW5lIE1ERVZf
SAo+ICAKPiArI2luY2x1ZGUgPGxpbnV4L3R5cGVzLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9kZXZp
Y2UuaD4KPiArI2luY2x1ZGUgPGxpbnV4L21kZXYuaD4KPiArI2luY2x1ZGUgPHVhcGkvbGludXgv
dXVpZC5oPgo+ICsKPiAgc3RydWN0IG1kZXZfZGV2aWNlOwo+ICAKPiAgLyoKPiBAQCAtNDgsMzAg
KzUzLDggQEAgc3RydWN0IGRldmljZSAqbWRldl9nZXRfaW9tbXVfZGV2aWNlKHN0cnVjdCBkZXZp
Y2UgKmRldik7Cj4gICAqCQkJQG1kZXY6IG1kZXZfZGV2aWNlIGRldmljZSBzdHJ1Y3R1cmUgd2hp
Y2ggaXMgYmVpbmcKPiAgICoJCQkgICAgICAgZGVzdHJveWVkCj4gICAqCQkJUmV0dXJucyBpbnRl
Z2VyOiBzdWNjZXNzICgwKSBvciBlcnJvciAoPCAwKQo+IC0gKiBAb3BlbjoJCU9wZW4gbWVkaWF0
ZWQgZGV2aWNlLgo+IC0gKgkJCUBtZGV2OiBtZWRpYXRlZCBkZXZpY2UuCj4gLSAqCQkJUmV0dXJu
cyBpbnRlZ2VyOiBzdWNjZXNzICgwKSBvciBlcnJvciAoPCAwKQo+IC0gKiBAcmVsZWFzZToJCXJl
bGVhc2UgbWVkaWF0ZWQgZGV2aWNlCj4gLSAqCQkJQG1kZXY6IG1lZGlhdGVkIGRldmljZS4KPiAt
ICogQHJlYWQ6CQlSZWFkIGVtdWxhdGlvbiBjYWxsYmFjawo+IC0gKgkJCUBtZGV2OiBtZWRpYXRl
ZCBkZXZpY2Ugc3RydWN0dXJlCj4gLSAqCQkJQGJ1ZjogcmVhZCBidWZmZXIKPiAtICoJCQlAY291
bnQ6IG51bWJlciBvZiBieXRlcyB0byByZWFkCj4gLSAqCQkJQHBwb3M6IGFkZHJlc3MuCj4gLSAq
CQkJUmV0dW5zIG51bWJlciBvbiBieXRlcyByZWFkIG9uIHN1Y2Nlc3Mgb3IgZXJyb3IuCj4gLSAq
IEB3cml0ZToJCVdyaXRlIGVtdWxhdGlvbiBjYWxsYmFjawo+IC0gKgkJCUBtZGV2OiBtZWRpYXRl
ZCBkZXZpY2Ugc3RydWN0dXJlCj4gLSAqCQkJQGJ1Zjogd3JpdGUgYnVmZmVyCj4gLSAqCQkJQGNv
dW50OiBudW1iZXIgb2YgYnl0ZXMgdG8gYmUgd3JpdHRlbgo+IC0gKgkJCUBwcG9zOiBhZGRyZXNz
Lgo+IC0gKgkJCVJldHVucyBudW1iZXIgb24gYnl0ZXMgd3JpdHRlbiBvbiBzdWNjZXNzIG9yIGVy
cm9yLgo+IC0gKiBAaW9jdGw6CQlJT0NUTCBjYWxsYmFjawo+IC0gKgkJCUBtZGV2OiBtZWRpYXRl
ZCBkZXZpY2Ugc3RydWN0dXJlCj4gLSAqCQkJQGNtZDogaW9jdGwgY29tbWFuZAo+IC0gKgkJCUBh
cmc6IGFyZ3VtZW50cyB0byBpb2N0bAo+IC0gKiBAbW1hcDoJCW1tYXAgY2FsbGJhY2sKPiAtICoJ
CQlAbWRldjogbWVkaWF0ZWQgZGV2aWNlIHN0cnVjdHVyZQo+IC0gKgkJCUB2bWE6IHZtYSBzdHJ1
Y3R1cmUKPiArICogQGRldmljZV9vcHM6ICAgICAgICAgRGV2aWNlIHNwZWNpZmljIGVtdWxhdGlv
biBjYWxsYmFjay4KPiArICoKPiAgICogUGFyZW50IGRldmljZSB0aGF0IHN1cHBvcnQgbWVkaWF0
ZWQgZGV2aWNlIHNob3VsZCBiZSByZWdpc3RlcmVkIHdpdGggbWRldgo+ICAgKiBtb2R1bGUgd2l0
aCBtZGV2X3BhcmVudF9vcHMgc3RydWN0dXJlLgo+ICAgKiovCj4gQEAgLTgzLDE1ICs2Niw2IEBA
IHN0cnVjdCBtZGV2X3BhcmVudF9vcHMgewo+ICAKPiAgCWludCAgICAgKCpjcmVhdGUpKHN0cnVj
dCBrb2JqZWN0ICprb2JqLCBzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYpOwo+ICAJaW50ICAgICAo
KnJlbW92ZSkoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2KTsKPiAtCWludCAgICAgKCpvcGVuKShz
dHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYpOwo+IC0Jdm9pZCAgICAoKnJlbGVhc2UpKHN0cnVjdCBt
ZGV2X2RldmljZSAqbWRldik7Cj4gLQlzc2l6ZV90ICgqcmVhZCkoc3RydWN0IG1kZXZfZGV2aWNl
ICptZGV2LCBjaGFyIF9fdXNlciAqYnVmLAo+IC0JCQlzaXplX3QgY291bnQsIGxvZmZfdCAqcHBv
cyk7Cj4gLQlzc2l6ZV90ICgqd3JpdGUpKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldiwgY29uc3Qg
Y2hhciBfX3VzZXIgKmJ1ZiwKPiAtCQkJIHNpemVfdCBjb3VudCwgbG9mZl90ICpwcG9zKTsKPiAt
CWxvbmcJKCppb2N0bCkoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2LCB1bnNpZ25lZCBpbnQgY21k
LAo+IC0JCQkgdW5zaWduZWQgbG9uZyBhcmcpOwo+IC0JaW50CSgqbW1hcCkoc3RydWN0IG1kZXZf
ZGV2aWNlICptZGV2LCBzdHJ1Y3Qgdm1fYXJlYV9zdHJ1Y3QgKnZtYSk7Cj4gIH07Cj4gIAo+ICAv
KiBpbnRlcmZhY2UgZm9yIGV4cG9ydGluZyBtZGV2IHN1cHBvcnRlZCB0eXBlIGF0dHJpYnV0ZXMg
Ki8KPiBAQCAtMTMzLDYgKzEwNyw4IEBAIHN0cnVjdCBtZGV2X2RyaXZlciB7Cj4gIAo+ICB2b2lk
ICptZGV2X2dldF9kcnZkYXRhKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldik7Cj4gIHZvaWQgbWRl
dl9zZXRfZHJ2ZGF0YShzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYsIHZvaWQgKmRhdGEpOwo+ICtj
b25zdCB2b2lkICptZGV2X2dldF9kZXZfb3BzKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldik7Cj4g
K3ZvaWQgbWRldl9zZXRfZGV2X29wcyhzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYsIGNvbnN0IHZv
aWQgKm9wcyk7Cj4gIHZvaWQgbWRldl9zZXRfY2xhc3NfaWQoc3RydWN0IG1kZXZfZGV2aWNlICpt
ZGV2LCB1MTYgaWQpOwo+ICBjb25zdCBndWlkX3QgKm1kZXZfdXVpZChzdHJ1Y3QgbWRldl9kZXZp
Y2UgKm1kZXYpOwo+ICAKPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9saW51eC92ZmlvX21kZXYuaCBi
L2luY2x1ZGUvbGludXgvdmZpb19tZGV2LmgKPiBuZXcgZmlsZSBtb2RlIDEwMDY0NAo+IGluZGV4
IDAwMDAwMDAwMDAwMC4uMzkwN2M1MzcxYzJiCj4gLS0tIC9kZXYvbnVsbAo+ICsrKyBiL2luY2x1
ZGUvbGludXgvdmZpb19tZGV2LmgKPiBAQCAtMCwwICsxLDUyIEBACj4gKy8qIFNQRFgtTGljZW5z
ZS1JZGVudGlmaWVyOiBHUEwtMi4wLW9ubHkgKi8KPiArLyoKPiArICogVkZJTyBNZWRpYXRlZCBk
ZXZpY2UgZGVmaW5pdGlvbgo+ICsgKi8KPiArCj4gKyNpZm5kZWYgVkZJT19NREVWX0gKPiArI2Rl
ZmluZSBWRklPX01ERVZfSAo+ICsKPiArI2luY2x1ZGUgPGxpbnV4L21kZXYuaD4KPiArCj4gKy8q
Kgo+ICsgKiBzdHJ1Y3QgdmZpb19tZGV2X2RldmljZV9vcHMgLSBTdHJ1Y3R1cmUgdG8gYmUgcmVn
aXN0ZXJlZCBmb3IgZWFjaAo+ICsgKiBtZGV2IGRldmljZSB0byByZWdpc3RlciB0aGUgZGV2aWNl
IHRvIHZmaW8tbWRldiBtb2R1bGUuCj4gKyAqCj4gKyAqIEBvcGVuOgkJT3BlbiBtZWRpYXRlZCBk
ZXZpY2UuCj4gKyAqCQkJQG1kZXY6IG1lZGlhdGVkIGRldmljZS4KPiArICoJCQlSZXR1cm5zIGlu
dGVnZXI6IHN1Y2Nlc3MgKDApIG9yIGVycm9yICg8IDApCj4gKyAqIEByZWxlYXNlOgkJcmVsZWFz
ZSBtZWRpYXRlZCBkZXZpY2UKPiArICoJCQlAbWRldjogbWVkaWF0ZWQgZGV2aWNlLgo+ICsgKiBA
cmVhZDoJCVJlYWQgZW11bGF0aW9uIGNhbGxiYWNrCj4gKyAqCQkJQG1kZXY6IG1lZGlhdGVkIGRl
dmljZSBzdHJ1Y3R1cmUKPiArICoJCQlAYnVmOiByZWFkIGJ1ZmZlcgo+ICsgKgkJCUBjb3VudDog
bnVtYmVyIG9mIGJ5dGVzIHRvIHJlYWQKPiArICoJCQlAcHBvczogYWRkcmVzcy4KPiArICoJCQlS
ZXR1bnMgbnVtYmVyIG9uIGJ5dGVzIHJlYWQgb24gc3VjY2VzcyBvciBlcnJvci4KPiArICogQHdy
aXRlOgkJV3JpdGUgZW11bGF0aW9uIGNhbGxiYWNrCj4gKyAqCQkJQG1kZXY6IG1lZGlhdGVkIGRl
dmljZSBzdHJ1Y3R1cmUKPiArICoJCQlAYnVmOiB3cml0ZSBidWZmZXIKPiArICoJCQlAY291bnQ6
IG51bWJlciBvZiBieXRlcyB0byBiZSB3cml0dGVuCj4gKyAqCQkJQHBwb3M6IGFkZHJlc3MuCj4g
KyAqCQkJUmV0dW5zIG51bWJlciBvbiBieXRlcyB3cml0dGVuIG9uIHN1Y2Nlc3Mgb3IgZXJyb3Iu
Cj4gKyAqIEBpb2N0bDoJCUlPQ1RMIGNhbGxiYWNrCj4gKyAqCQkJQG1kZXY6IG1lZGlhdGVkIGRl
dmljZSBzdHJ1Y3R1cmUKPiArICoJCQlAY21kOiBpb2N0bCBjb21tYW5kCj4gKyAqCQkJQGFyZzog
YXJndW1lbnRzIHRvIGlvY3RsCj4gKyAqIEBtbWFwOgkJbW1hcCBjYWxsYmFjawo+ICsgKgkJCUBt
ZGV2OiBtZWRpYXRlZCBkZXZpY2Ugc3RydWN0dXJlCj4gKyAqCQkJQHZtYTogdm1hIHN0cnVjdHVy
ZQo+ICsgKi8KPiArc3RydWN0IHZmaW9fbWRldl9kZXZpY2Vfb3BzIHsKPiArCWludCAgICAgKCpv
cGVuKShzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYpOwo+ICsJdm9pZCAgICAoKnJlbGVhc2UpKHN0
cnVjdCBtZGV2X2RldmljZSAqbWRldik7Cj4gKwlzc2l6ZV90ICgqcmVhZCkoc3RydWN0IG1kZXZf
ZGV2aWNlICptZGV2LCBjaGFyIF9fdXNlciAqYnVmLAo+ICsJCQlzaXplX3QgY291bnQsIGxvZmZf
dCAqcHBvcyk7Cj4gKwlzc2l6ZV90ICgqd3JpdGUpKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldiwg
Y29uc3QgY2hhciBfX3VzZXIgKmJ1ZiwKPiArCQkJIHNpemVfdCBjb3VudCwgbG9mZl90ICpwcG9z
KTsKPiArCWxvbmcJKCppb2N0bCkoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2LCB1bnNpZ25lZCBp
bnQgY21kLAo+ICsJCQkgdW5zaWduZWQgbG9uZyBhcmcpOwo+ICsJaW50CSgqbW1hcCkoc3RydWN0
IG1kZXZfZGV2aWNlICptZGV2LCBzdHJ1Y3Qgdm1fYXJlYV9zdHJ1Y3QgKnZtYSk7Cj4gK307Cj4g
Kwo+ICsjZW5kaWYKPiBkaWZmIC0tZ2l0IGEvc2FtcGxlcy92ZmlvLW1kZXYvbWJvY2hzLmMgYi9z
YW1wbGVzL3ZmaW8tbWRldi9tYm9jaHMuYwo+IGluZGV4IDhhODU4M2M4OTJiMi4uYjRiZjI5YzYx
MzZjIDEwMDY0NAo+IC0tLSBhL3NhbXBsZXMvdmZpby1tZGV2L21ib2Nocy5jCj4gKysrIGIvc2Ft
cGxlcy92ZmlvLW1kZXYvbWJvY2hzLmMKPiBAQCAtMzAsNiArMzAsNyBAQAo+ICAjaW5jbHVkZSA8
bGludXgvaW9tbXUuaD4KPiAgI2luY2x1ZGUgPGxpbnV4L3N5c2ZzLmg+Cj4gICNpbmNsdWRlIDxs
aW51eC9tZGV2Lmg+Cj4gKyNpbmNsdWRlIDxsaW51eC92ZmlvX21kZXYuaD4KPiAgI2luY2x1ZGUg
PGxpbnV4L3BjaS5oPgo+ICAjaW5jbHVkZSA8bGludXgvZG1hLWJ1Zi5oPgo+ICAjaW5jbHVkZSA8
bGludXgvaGlnaG1lbS5oPgo+IEBAIC01MTYsNiArNTE3LDggQEAgc3RhdGljIGludCBtYm9jaHNf
cmVzZXQoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2KQo+ICAJcmV0dXJuIDA7Cj4gIH0KPiAgCj4g
K3N0YXRpYyBjb25zdCBzdHJ1Y3QgdmZpb19tZGV2X2RldmljZV9vcHMgdmZpb19tZGV2X29wczsK
PiArCj4gIHN0YXRpYyBpbnQgbWJvY2hzX2NyZWF0ZShzdHJ1Y3Qga29iamVjdCAqa29iaiwgc3Ry
dWN0IG1kZXZfZGV2aWNlICptZGV2KQo+ICB7Cj4gIAljb25zdCBzdHJ1Y3QgbWJvY2hzX3R5cGUg
KnR5cGUgPSBtYm9jaHNfZmluZF90eXBlKGtvYmopOwo+IEBAIC01NjIsNiArNTY1LDcgQEAgc3Rh
dGljIGludCBtYm9jaHNfY3JlYXRlKHN0cnVjdCBrb2JqZWN0ICprb2JqLCBzdHJ1Y3QgbWRldl9k
ZXZpY2UgKm1kZXYpCj4gIAo+ICAJbWJvY2hzX3VzZWRfbWJ5dGVzICs9IHR5cGUtPm1ieXRlczsK
PiAgCW1kZXZfc2V0X2NsYXNzX2lkKG1kZXYsIE1ERVZfSURfVkZJTyk7Cj4gKwltZGV2X3NldF9k
ZXZfb3BzKG1kZXYsICZ2ZmlvX21kZXZfb3BzKTsKPiAgCXJldHVybiAwOwo+ICAKPiAgZXJyX21l
bToKPiBAQCAtMTQxOSwxMiArMTQyMyw3IEBAIHN0YXRpYyBzdHJ1Y3QgYXR0cmlidXRlX2dyb3Vw
ICptZGV2X3R5cGVfZ3JvdXBzW10gPSB7Cj4gIAlOVUxMLAo+ICB9Owo+ICAKPiAtc3RhdGljIGNv
bnN0IHN0cnVjdCBtZGV2X3BhcmVudF9vcHMgbWRldl9mb3BzID0gewo+IC0JLm93bmVyCQkJPSBU
SElTX01PRFVMRSwKPiAtCS5tZGV2X2F0dHJfZ3JvdXBzCT0gbWRldl9kZXZfZ3JvdXBzLAo+IC0J
LnN1cHBvcnRlZF90eXBlX2dyb3Vwcwk9IG1kZXZfdHlwZV9ncm91cHMsCj4gLQkuY3JlYXRlCQkJ
PSBtYm9jaHNfY3JlYXRlLAo+IC0JLnJlbW92ZQkJCT0gbWJvY2hzX3JlbW92ZSwKPiArc3RhdGlj
IGNvbnN0IHN0cnVjdCB2ZmlvX21kZXZfZGV2aWNlX29wcyB2ZmlvX21kZXZfb3BzID0gewo+ICAJ
Lm9wZW4JCQk9IG1ib2Noc19vcGVuLAo+ICAJLnJlbGVhc2UJCT0gbWJvY2hzX2Nsb3NlLAo+ICAJ
LnJlYWQJCQk9IG1ib2Noc19yZWFkLAo+IEBAIC0xNDMzLDYgKzE0MzIsMTQgQEAgc3RhdGljIGNv
bnN0IHN0cnVjdCBtZGV2X3BhcmVudF9vcHMgbWRldl9mb3BzID0gewo+ICAJLm1tYXAJCQk9IG1i
b2Noc19tbWFwLAo+ICB9Owo+ICAKPiArc3RhdGljIGNvbnN0IHN0cnVjdCBtZGV2X3BhcmVudF9v
cHMgbWRldl9mb3BzID0gewo+ICsJLm93bmVyCQkJPSBUSElTX01PRFVMRSwKPiArCS5tZGV2X2F0
dHJfZ3JvdXBzCT0gbWRldl9kZXZfZ3JvdXBzLAo+ICsJLnN1cHBvcnRlZF90eXBlX2dyb3Vwcwk9
IG1kZXZfdHlwZV9ncm91cHMsCj4gKwkuY3JlYXRlCQkJPSBtYm9jaHNfY3JlYXRlLAo+ICsJLnJl
bW92ZQkJCT0gbWJvY2hzX3JlbW92ZSwKPiArfTsKPiArCj4gIHN0YXRpYyBjb25zdCBzdHJ1Y3Qg
ZmlsZV9vcGVyYXRpb25zIHZkX2ZvcHMgPSB7Cj4gIAkub3duZXIJCT0gVEhJU19NT0RVTEUsCj4g
IH07Cj4gZGlmZiAtLWdpdCBhL3NhbXBsZXMvdmZpby1tZGV2L21kcHkuYyBiL3NhbXBsZXMvdmZp
by1tZGV2L21kcHkuYwo+IGluZGV4IDg4ZDdlNzZmMzgzNi4uODBjMmRmNTMxMzI2IDEwMDY0NAo+
IC0tLSBhL3NhbXBsZXMvdmZpby1tZGV2L21kcHkuYwo+ICsrKyBiL3NhbXBsZXMvdmZpby1tZGV2
L21kcHkuYwo+IEBAIC0yNiw2ICsyNiw3IEBACj4gICNpbmNsdWRlIDxsaW51eC9pb21tdS5oPgo+
ICAjaW5jbHVkZSA8bGludXgvc3lzZnMuaD4KPiAgI2luY2x1ZGUgPGxpbnV4L21kZXYuaD4KPiAr
I2luY2x1ZGUgPGxpbnV4L3ZmaW9fbWRldi5oPgo+ICAjaW5jbHVkZSA8bGludXgvcGNpLmg+Cj4g
ICNpbmNsdWRlIDxkcm0vZHJtX2ZvdXJjYy5oPgo+ICAjaW5jbHVkZSAibWRweS1kZWZzLmgiCj4g
QEAgLTIyNiw2ICsyMjcsOCBAQCBzdGF0aWMgaW50IG1kcHlfcmVzZXQoc3RydWN0IG1kZXZfZGV2
aWNlICptZGV2KQo+ICAJcmV0dXJuIDA7Cj4gIH0KPiAgCj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3Qg
dmZpb19tZGV2X2RldmljZV9vcHMgdmZpb19tZGV2X29wczsKPiArCj4gIHN0YXRpYyBpbnQgbWRw
eV9jcmVhdGUoc3RydWN0IGtvYmplY3QgKmtvYmosIHN0cnVjdCBtZGV2X2RldmljZSAqbWRldikK
PiAgewo+ICAJY29uc3Qgc3RydWN0IG1kcHlfdHlwZSAqdHlwZSA9IG1kcHlfZmluZF90eXBlKGtv
YmopOwo+IEBAIC0yNzAsNiArMjczLDcgQEAgc3RhdGljIGludCBtZHB5X2NyZWF0ZShzdHJ1Y3Qg
a29iamVjdCAqa29iaiwgc3RydWN0IG1kZXZfZGV2aWNlICptZGV2KQo+ICAKPiAgCW1kcHlfY291
bnQrKzsKPiAgCW1kZXZfc2V0X2NsYXNzX2lkKG1kZXYsIE1ERVZfSURfVkZJTyk7Cj4gKwltZGV2
X3NldF9kZXZfb3BzKG1kZXYsICZ2ZmlvX21kZXZfb3BzKTsKPiAgCXJldHVybiAwOwo+ICB9Cj4g
IAo+IEBAIC03MjYsMTIgKzczMCw3IEBAIHN0YXRpYyBzdHJ1Y3QgYXR0cmlidXRlX2dyb3VwICpt
ZGV2X3R5cGVfZ3JvdXBzW10gPSB7Cj4gIAlOVUxMLAo+ICB9Owo+ICAKPiAtc3RhdGljIGNvbnN0
IHN0cnVjdCBtZGV2X3BhcmVudF9vcHMgbWRldl9mb3BzID0gewo+IC0JLm93bmVyCQkJPSBUSElT
X01PRFVMRSwKPiAtCS5tZGV2X2F0dHJfZ3JvdXBzCT0gbWRldl9kZXZfZ3JvdXBzLAo+IC0JLnN1
cHBvcnRlZF90eXBlX2dyb3Vwcwk9IG1kZXZfdHlwZV9ncm91cHMsCj4gLQkuY3JlYXRlCQkJPSBt
ZHB5X2NyZWF0ZSwKPiAtCS5yZW1vdmUJCQk9IG1kcHlfcmVtb3ZlLAo+ICtzdGF0aWMgY29uc3Qg
c3RydWN0IHZmaW9fbWRldl9kZXZpY2Vfb3BzIHZmaW9fbWRldl9vcHMgPSB7Cj4gIAkub3BlbgkJ
CT0gbWRweV9vcGVuLAo+ICAJLnJlbGVhc2UJCT0gbWRweV9jbG9zZSwKPiAgCS5yZWFkCQkJPSBt
ZHB5X3JlYWQsCj4gQEAgLTc0MCw2ICs3MzksMTQgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBtZGV2
X3BhcmVudF9vcHMgbWRldl9mb3BzID0gewo+ICAJLm1tYXAJCQk9IG1kcHlfbW1hcCwKPiAgfTsK
PiAgCj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3QgbWRldl9wYXJlbnRfb3BzIG1kZXZfZm9wcyA9IHsK
PiArCS5vd25lcgkJCT0gVEhJU19NT0RVTEUsCj4gKwkubWRldl9hdHRyX2dyb3Vwcwk9IG1kZXZf
ZGV2X2dyb3VwcywKPiArCS5zdXBwb3J0ZWRfdHlwZV9ncm91cHMJPSBtZGV2X3R5cGVfZ3JvdXBz
LAo+ICsJLmNyZWF0ZQkJCT0gbWRweV9jcmVhdGUsCj4gKwkucmVtb3ZlCQkJPSBtZHB5X3JlbW92
ZSwKPiArfTsKPiArCj4gIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZmlsZV9vcGVyYXRpb25zIHZkX2Zv
cHMgPSB7Cj4gIAkub3duZXIJCT0gVEhJU19NT0RVTEUsCj4gIH07Cj4gZGlmZiAtLWdpdCBhL3Nh
bXBsZXMvdmZpby1tZGV2L210dHkuYyBiL3NhbXBsZXMvdmZpby1tZGV2L210dHkuYwo+IGluZGV4
IDRlMDczNTE0M2I2OS4uMmRiODYwY2NiMDJjIDEwMDY0NAo+IC0tLSBhL3NhbXBsZXMvdmZpby1t
ZGV2L210dHkuYwo+ICsrKyBiL3NhbXBsZXMvdmZpby1tZGV2L210dHkuYwo+IEBAIC0yNyw2ICsy
Nyw3IEBACj4gICNpbmNsdWRlIDxsaW51eC9jdHlwZS5oPgo+ICAjaW5jbHVkZSA8bGludXgvZmls
ZS5oPgo+ICAjaW5jbHVkZSA8bGludXgvbWRldi5oPgo+ICsjaW5jbHVkZSA8bGludXgvdmZpb19t
ZGV2Lmg+Cj4gICNpbmNsdWRlIDxsaW51eC9wY2kuaD4KPiAgI2luY2x1ZGUgPGxpbnV4L3Nlcmlh
bC5oPgo+ICAjaW5jbHVkZSA8dWFwaS9saW51eC9zZXJpYWxfcmVnLmg+Cj4gQEAgLTcyMyw2ICs3
MjQsOCBAQCBzdGF0aWMgc3NpemVfdCBtZGV2X2FjY2VzcyhzdHJ1Y3QgbWRldl9kZXZpY2UgKm1k
ZXYsIHU4ICpidWYsIHNpemVfdCBjb3VudCwKPiAgCXJldHVybiByZXQ7Cj4gIH0KPiAgCj4gK3N0
YXRpYyBjb25zdCBzdHJ1Y3QgdmZpb19tZGV2X2RldmljZV9vcHMgdmZpb19kZXZfb3BzOwo+ICsK
PiAgc3RhdGljIGludCBtdHR5X2NyZWF0ZShzdHJ1Y3Qga29iamVjdCAqa29iaiwgc3RydWN0IG1k
ZXZfZGV2aWNlICptZGV2KQo+ICB7Cj4gIAlzdHJ1Y3QgbWRldl9zdGF0ZSAqbWRldl9zdGF0ZTsK
PiBAQCAtNzcxLDYgKzc3NCw3IEBAIHN0YXRpYyBpbnQgbXR0eV9jcmVhdGUoc3RydWN0IGtvYmpl
Y3QgKmtvYmosIHN0cnVjdCBtZGV2X2RldmljZSAqbWRldikKPiAgCW11dGV4X3VubG9jaygmbWRl
dl9saXN0X2xvY2spOwo+ICAKPiAgCW1kZXZfc2V0X2NsYXNzX2lkKG1kZXYsIE1ERVZfSURfVkZJ
Tyk7Cj4gKwltZGV2X3NldF9kZXZfb3BzKG1kZXYsICZ2ZmlvX2Rldl9vcHMpOwo+ICAJcmV0dXJu
IDA7Cj4gIH0KPiAgCj4gQEAgLTE0MTEsNiArMTQxNSwxNCBAQCBzdGF0aWMgc3RydWN0IGF0dHJp
YnV0ZV9ncm91cCAqbWRldl90eXBlX2dyb3Vwc1tdID0gewo+ICAJTlVMTCwKPiAgfTsKPiAgCj4g
K3N0YXRpYyBjb25zdCBzdHJ1Y3QgdmZpb19tZGV2X2RldmljZV9vcHMgdmZpb19kZXZfb3BzID0g
ewo+ICsJLm9wZW4gICAgICAgICAgICAgICAgICAgPSBtdHR5X29wZW4sCj4gKwkucmVsZWFzZSAg
ICAgICAgICAgICAgICA9IG10dHlfY2xvc2UsCj4gKwkucmVhZCAgICAgICAgICAgICAgICAgICA9
IG10dHlfcmVhZCwKPiArCS53cml0ZSAgICAgICAgICAgICAgICAgID0gbXR0eV93cml0ZSwKPiAr
CS5pb2N0bAkJICAgICAgICA9IG10dHlfaW9jdGwsCj4gK307Cj4gKwo+ICBzdGF0aWMgY29uc3Qg
c3RydWN0IG1kZXZfcGFyZW50X29wcyBtZGV2X2ZvcHMgPSB7Cj4gIAkub3duZXIgICAgICAgICAg
ICAgICAgICA9IFRISVNfTU9EVUxFLAo+ICAJLmRldl9hdHRyX2dyb3VwcyAgICAgICAgPSBtdHR5
X2Rldl9ncm91cHMsCj4gQEAgLTE0MTgsMTEgKzE0MzAsNiBAQCBzdGF0aWMgY29uc3Qgc3RydWN0
IG1kZXZfcGFyZW50X29wcyBtZGV2X2ZvcHMgPSB7Cj4gIAkuc3VwcG9ydGVkX3R5cGVfZ3JvdXBz
ICA9IG1kZXZfdHlwZV9ncm91cHMsCj4gIAkuY3JlYXRlICAgICAgICAgICAgICAgICA9IG10dHlf
Y3JlYXRlLAo+ICAJLnJlbW92ZQkJCT0gbXR0eV9yZW1vdmUsCj4gLQkub3BlbiAgICAgICAgICAg
ICAgICAgICA9IG10dHlfb3BlbiwKPiAtCS5yZWxlYXNlICAgICAgICAgICAgICAgID0gbXR0eV9j
bG9zZSwKPiAtCS5yZWFkICAgICAgICAgICAgICAgICAgID0gbXR0eV9yZWFkLAo+IC0JLndyaXRl
ICAgICAgICAgICAgICAgICAgPSBtdHR5X3dyaXRlLAo+IC0JLmlvY3RsCQkgICAgICAgID0gbXR0
eV9pb2N0bCwKPiAgfTsKPiAgCj4gIHN0YXRpYyB2b2lkIG10dHlfZGV2aWNlX3JlbGVhc2Uoc3Ry
dWN0IGRldmljZSAqZGV2KQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0
b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJp
LWRldmVs
