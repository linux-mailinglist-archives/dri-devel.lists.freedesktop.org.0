Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id B0FD1274326
	for <lists+dri-devel@lfdr.de>; Tue, 22 Sep 2020 15:32:37 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 30A6A6E87A;
	Tue, 22 Sep 2020 13:32:30 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ej1-x644.google.com (mail-ej1-x644.google.com
 [IPv6:2a00:1450:4864:20::644])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2B9D46E875;
 Tue, 22 Sep 2020 13:32:19 +0000 (UTC)
Received: by mail-ej1-x644.google.com with SMTP id z22so22862745ejl.7;
 Tue, 22 Sep 2020 06:32:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:subject:date:message-id:in-reply-to:references:mime-version
 :content-transfer-encoding;
 bh=9bYRpCzqqCQQoOZencIvtNYBAbvzEyvUGj4RptnZTPk=;
 b=Nh7RnmghZpiyJiggbcEZWCN767hFUQyHviLB5OWOHtsYYT1IfSLpA6w+WcBAoMjZDn
 MrLX5/eiMTxPMjWAqkzoWsHyLO5e3VfBZQ7HNGGjZbxdAjgvSNRvaBsYvZSpSC7MU95H
 bRY8eomZ1eewfyAiAfdoDdkeP+IA2mJ9agzT2sI0UdNPj4buLRjPoU3cS4PYb7hsKuKX
 B880aBq0YEsOxpTpIvVDLN9DOkLPsSDQR/R7ko8ooH639JL6RGO7zd18tPeK1SF3uAnY
 O72gc1Rsq1ZcdrksMxu7DwtOdHxzcmzkoGLyJDfGCt01RLYxmvxEMnwAiFVVPPf17sKj
 80PQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=9bYRpCzqqCQQoOZencIvtNYBAbvzEyvUGj4RptnZTPk=;
 b=hVujomyHECn+ho0tI1JFGlsu+iVtTAZxR7pwmFpIVaMOfl1Q2DOEqWWPubiWFrV32O
 iBHTmXBWpVw5aAQbABOFv46Vkr+Tba1WJkNl0uwXGXI2KZitfBPkUWBVxPdc+N67Hf3l
 TE5PGkSFmdkj7b7JQqRFuCXAKHEDh0de/g6CWcr2XKH7an/CQFA9JIhz12ZdXyBGooSN
 /C2/ZRdBnlwv2iHrFH7vgmyfv4oRFk+McmGMlUwB22k7FG6ezx5BSOcsYfWQsRYi1Nzw
 5irTlJW64DDpYc7Y7SBnyPcNK1+HmMmoYfvbWJajRE+FC/6Ujj/RHchM7A33vmZ20N7b
 vxKw==
X-Gm-Message-State: AOAM530mP25jLKe8SHHIkyB5nX0jY+kb5i6SMkkmOWMK8fj/L3JPj3/p
 80YEgZziNSh8rvVYFeGuu+pUcFLu5/k=
X-Google-Smtp-Source: ABdhPJxzWgEiQiZDJ9bRbE0ggNugvOuNMOqRHX6xcnNRBbk46eTz1lBzHpc0EIdr1g/MNCybUrMBLg==
X-Received: by 2002:a17:906:e4c:: with SMTP id
 q12mr4827102eji.425.1600781537811; 
 Tue, 22 Sep 2020 06:32:17 -0700 (PDT)
Received: from abel.fritz.box ([2a02:908:1252:fb60:11af:3d77:a1c7:4f3a])
 by smtp.gmail.com with ESMTPSA id z21sm11541028eja.72.2020.09.22.06.32.16
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Tue, 22 Sep 2020 06:32:17 -0700 (PDT)
From: "=?UTF-8?q?Christian=20K=C3=B6nig?=" <ckoenig.leichtzumerken@gmail.com>
X-Google-Original-From: =?UTF-8?q?Christian=20K=C3=B6nig?=
 <christian.koenig@amd.com>
To: linux-graphics-maintainer@vmware.com, sroland@vmware.com, airlied@linux.ie,
 daniel@ffwll.ch, amd-gfx@lists.freedesktop.org,
 dri-devel@lists.freedesktop.org, ray.huang@amd.com
Subject: [PATCH 08/11] drm/radeon: switch over to the new pin interface
Date: Tue, 22 Sep 2020 15:32:05 +0200
Message-Id: <20200922133208.1273-8-christian.koenig@amd.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20200922133208.1273-1-christian.koenig@amd.com>
References: <20200922133208.1273-1-christian.koenig@amd.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

U3RvcCB1c2luZyBUVE1fUExfRkxBR19OT19FVklDVC4KClNpZ25lZC1vZmYtYnk6IENocmlzdGlh
biBLw7ZuaWcgPGNocmlzdGlhbi5rb2VuaWdAYW1kLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0v
cmFkZW9uL3JhZGVvbi5oICAgICAgICAgfCAgMSAtCiBkcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3Jh
ZGVvbl9kaXNwbGF5LmMgfCAgOSArKy0tLS0KIGRyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFkZW9u
X29iamVjdC5jICB8IDM3ICsrKysrKy0tLS0tLS0tLS0tLS0tLS0tLS0KIGRyaXZlcnMvZ3B1L2Ry
bS9yYWRlb24vcmFkZW9uX29iamVjdC5oICB8ICAyICstCiBkcml2ZXJzL2dwdS9kcm0vcmFkZW9u
L3JhZGVvbl90dG0uYyAgICAgfCAgMiArLQogNSBmaWxlcyBjaGFuZ2VkLCAxMyBpbnNlcnRpb25z
KCspLCAzOCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcmFkZW9u
L3JhZGVvbi5oIGIvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb24uaAppbmRleCBhNmQ4ZGUw
MTE5NGEuLjVkNTRiY2NlYmQ0ZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9y
YWRlb24uaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbi5oCkBAIC00OTcsNyAr
NDk3LDYgQEAgc3RydWN0IHJhZGVvbl9ibyB7CiAJc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0CXRi
bzsKIAlzdHJ1Y3QgdHRtX2JvX2ttYXBfb2JqCQlrbWFwOwogCXUzMgkJCQlmbGFnczsKLQl1bnNp
Z25lZAkJCXBpbl9jb3VudDsKIAl2b2lkCQkJCSprcHRyOwogCXUzMgkJCQl0aWxpbmdfZmxhZ3M7
CiAJdTMyCQkJCXBpdGNoOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRl
b25fZGlzcGxheS5jIGIvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fZGlzcGxheS5jCmlu
ZGV4IDdiNjlkNmRmZTQ0YS4uM2VhY2YzM2JiZTQ4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vcmFkZW9uL3JhZGVvbl9kaXNwbGF5LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9y
YWRlb25fZGlzcGxheS5jCkBAIC0yNzMsMTAgKzI3Myw3IEBAIHN0YXRpYyB2b2lkIHJhZGVvbl91
bnBpbl93b3JrX2Z1bmMoc3RydWN0IHdvcmtfc3RydWN0ICpfX3dvcmspCiAJLyogdW5waW4gb2Yg
dGhlIG9sZCBidWZmZXIgKi8KIAlyID0gcmFkZW9uX2JvX3Jlc2VydmUod29yay0+b2xkX3Jibywg
ZmFsc2UpOwogCWlmIChsaWtlbHkociA9PSAwKSkgewotCQlyID0gcmFkZW9uX2JvX3VucGluKHdv
cmstPm9sZF9yYm8pOwotCQlpZiAodW5saWtlbHkociAhPSAwKSkgewotCQkJRFJNX0VSUk9SKCJm
YWlsZWQgdG8gdW5waW4gYnVmZmVyIGFmdGVyIGZsaXBcbiIpOwotCQl9CisJCXJhZGVvbl9ib191
bnBpbih3b3JrLT5vbGRfcmJvKTsKIAkJcmFkZW9uX2JvX3VucmVzZXJ2ZSh3b3JrLT5vbGRfcmJv
KTsKIAl9IGVsc2UKIAkJRFJNX0VSUk9SKCJmYWlsZWQgdG8gcmVzZXJ2ZSBidWZmZXIgYWZ0ZXIg
ZmxpcFxuIik7CkBAIC02MDcsOSArNjA0LDcgQEAgc3RhdGljIGludCByYWRlb25fY3J0Y19wYWdl
X2ZsaXBfdGFyZ2V0KHN0cnVjdCBkcm1fY3J0YyAqY3J0YywKIAkJRFJNX0VSUk9SKCJmYWlsZWQg
dG8gcmVzZXJ2ZSBuZXcgcmJvIGluIGVycm9yIHBhdGhcbiIpOwogCQlnb3RvIGNsZWFudXA7CiAJ
fQotCWlmICh1bmxpa2VseShyYWRlb25fYm9fdW5waW4obmV3X3JibykgIT0gMCkpIHsKLQkJRFJN
X0VSUk9SKCJmYWlsZWQgdG8gdW5waW4gbmV3IHJibyBpbiBlcnJvciBwYXRoXG4iKTsKLQl9CisJ
cmFkZW9uX2JvX3VucGluKG5ld19yYm8pOwogCXJhZGVvbl9ib191bnJlc2VydmUobmV3X3Jibyk7
CiAKIGNsZWFudXA6CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl9v
YmplY3QuYyBiL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFkZW9uX29iamVjdC5jCmluZGV4IDMx
NmUzNWQzZjhhOS4uMGRlMjY3YWIzOTEzIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcmFk
ZW9uL3JhZGVvbl9vYmplY3QuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl9v
YmplY3QuYwpAQCAtMzM0LDggKzMzNCw4IEBAIGludCByYWRlb25fYm9fcGluX3Jlc3RyaWN0ZWQo
c3RydWN0IHJhZGVvbl9ibyAqYm8sIHUzMiBkb21haW4sIHU2NCBtYXhfb2Zmc2V0LAogCWlmIChy
YWRlb25fdHRtX3R0X2hhc191c2VycHRyKGJvLT5yZGV2LCBiby0+dGJvLnR0bSkpCiAJCXJldHVy
biAtRVBFUk07CiAKLQlpZiAoYm8tPnBpbl9jb3VudCkgewotCQliby0+cGluX2NvdW50Kys7CisJ
aWYgKGJvLT50Ym8ucGluX2NvdW50KSB7CisJCXR0bV9ib19waW4oJmJvLT50Ym8pOwogCQlpZiAo
Z3B1X2FkZHIpCiAJCQkqZ3B1X2FkZHIgPSByYWRlb25fYm9fZ3B1X29mZnNldChibyk7CiAKQEAg
LTM2NywxMyArMzY3LDExIEBAIGludCByYWRlb25fYm9fcGluX3Jlc3RyaWN0ZWQoc3RydWN0IHJh
ZGVvbl9ibyAqYm8sIHUzMiBkb21haW4sIHU2NCBtYXhfb2Zmc2V0LAogCQkJCWJvLT5yZGV2LT5t
Yy52aXNpYmxlX3ZyYW1fc2l6ZSA+PiBQQUdFX1NISUZUOwogCQllbHNlCiAJCQliby0+cGxhY2Vt
ZW50c1tpXS5scGZuID0gbWF4X29mZnNldCA+PiBQQUdFX1NISUZUOwotCi0JCWJvLT5wbGFjZW1l
bnRzW2ldLmZsYWdzIHw9IFRUTV9QTF9GTEFHX05PX0VWSUNUOwogCX0KIAogCXIgPSB0dG1fYm9f
dmFsaWRhdGUoJmJvLT50Ym8sICZiby0+cGxhY2VtZW50LCAmY3R4KTsKIAlpZiAobGlrZWx5KHIg
PT0gMCkpIHsKLQkJYm8tPnBpbl9jb3VudCA9IDE7CisJCXR0bV9ib19waW4oJmJvLT50Ym8pOwog
CQlpZiAoZ3B1X2FkZHIgIT0gTlVMTCkKIAkJCSpncHVfYWRkciA9IHJhZGVvbl9ib19ncHVfb2Zm
c2V0KGJvKTsKIAkJaWYgKGRvbWFpbiA9PSBSQURFT05fR0VNX0RPTUFJTl9WUkFNKQpAQCAtMzkx
LDMyICszODksMTUgQEAgaW50IHJhZGVvbl9ib19waW4oc3RydWN0IHJhZGVvbl9ibyAqYm8sIHUz
MiBkb21haW4sIHU2NCAqZ3B1X2FkZHIpCiAJcmV0dXJuIHJhZGVvbl9ib19waW5fcmVzdHJpY3Rl
ZChibywgZG9tYWluLCAwLCBncHVfYWRkcik7CiB9CiAKLWludCByYWRlb25fYm9fdW5waW4oc3Ry
dWN0IHJhZGVvbl9ibyAqYm8pCit2b2lkIHJhZGVvbl9ib191bnBpbihzdHJ1Y3QgcmFkZW9uX2Jv
ICpibykKIHsKLQlzdHJ1Y3QgdHRtX29wZXJhdGlvbl9jdHggY3R4ID0geyBmYWxzZSwgZmFsc2Ug
fTsKLQlpbnQgciwgaTsKLQotCWlmICghYm8tPnBpbl9jb3VudCkgewotCQlkZXZfd2Fybihiby0+
cmRldi0+ZGV2LCAiJXAgdW5waW4gbm90IG5lY2Vzc2FyeVxuIiwgYm8pOwotCQlyZXR1cm4gMDsK
LQl9Ci0JYm8tPnBpbl9jb3VudC0tOwotCWlmIChiby0+cGluX2NvdW50KQotCQlyZXR1cm4gMDsK
LQlmb3IgKGkgPSAwOyBpIDwgYm8tPnBsYWNlbWVudC5udW1fcGxhY2VtZW50OyBpKyspIHsKLQkJ
Ym8tPnBsYWNlbWVudHNbaV0ubHBmbiA9IDA7Ci0JCWJvLT5wbGFjZW1lbnRzW2ldLmZsYWdzICY9
IH5UVE1fUExfRkxBR19OT19FVklDVDsKLQl9Ci0JciA9IHR0bV9ib192YWxpZGF0ZSgmYm8tPnRi
bywgJmJvLT5wbGFjZW1lbnQsICZjdHgpOwotCWlmIChsaWtlbHkociA9PSAwKSkgeworCXR0bV9i
b191bnBpbigmYm8tPnRibyk7CisJaWYgKCFiby0+dGJvLnBpbl9jb3VudCkgewogCQlpZiAoYm8t
PnRiby5tZW0ubWVtX3R5cGUgPT0gVFRNX1BMX1ZSQU0pCiAJCQliby0+cmRldi0+dnJhbV9waW5f
c2l6ZSAtPSByYWRlb25fYm9fc2l6ZShibyk7CiAJCWVsc2UKIAkJCWJvLT5yZGV2LT5nYXJ0X3Bp
bl9zaXplIC09IHJhZGVvbl9ib19zaXplKGJvKTsKLQl9IGVsc2UgewotCQlkZXZfZXJyKGJvLT5y
ZGV2LT5kZXYsICIlcCB2YWxpZGF0ZSBmYWlsZWQgZm9yIHVucGluXG4iLCBibyk7CiAJfQotCXJl
dHVybiByOwogfQogCiBpbnQgcmFkZW9uX2JvX2V2aWN0X3ZyYW0oc3RydWN0IHJhZGVvbl9kZXZp
Y2UgKnJkZXYpCkBAIC01NDksNyArNTMwLDcgQEAgaW50IHJhZGVvbl9ib19saXN0X3ZhbGlkYXRl
KHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2LAogCiAJbGlzdF9mb3JfZWFjaF9lbnRyeShsb2Jq
LCBoZWFkLCB0di5oZWFkKSB7CiAJCXN0cnVjdCByYWRlb25fYm8gKmJvID0gbG9iai0+cm9iajsK
LQkJaWYgKCFiby0+cGluX2NvdW50KSB7CisJCWlmICghYm8tPnRiby5waW5fY291bnQpIHsKIAkJ
CXUzMiBkb21haW4gPSBsb2JqLT5wcmVmZXJyZWRfZG9tYWluczsKIAkJCXUzMiBhbGxvd2VkID0g
bG9iai0+YWxsb3dlZF9kb21haW5zOwogCQkJdTMyIGN1cnJlbnRfZG9tYWluID0KQEAgLTYyOSw3
ICs2MTAsNyBAQCBpbnQgcmFkZW9uX2JvX2dldF9zdXJmYWNlX3JlZyhzdHJ1Y3QgcmFkZW9uX2Jv
ICpibykKIAkJCWJyZWFrOwogCiAJCW9sZF9vYmplY3QgPSByZWctPmJvOwotCQlpZiAob2xkX29i
amVjdC0+cGluX2NvdW50ID09IDApCisJCWlmIChvbGRfb2JqZWN0LT50Ym8ucGluX2NvdW50ID09
IDApCiAJCQlzdGVhbCA9IGk7CiAJfQogCkBAIC04MTYsNyArNzk3LDcgQEAgaW50IHJhZGVvbl9i
b19mYXVsdF9yZXNlcnZlX25vdGlmeShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvKQogCQly
ZXR1cm4gMDsKIAogCS8qIENhbid0IG1vdmUgYSBwaW5uZWQgQk8gdG8gdmlzaWJsZSBWUkFNICov
Ci0JaWYgKHJiby0+cGluX2NvdW50ID4gMCkKKwlpZiAocmJvLT50Ym8ucGluX2NvdW50ID4gMCkK
IAkJcmV0dXJuIC1FSU5WQUw7CiAKIAkvKiBodXJyYWggdGhlIG1lbW9yeSBpcyBub3QgdmlzaWJs
ZSAhICovCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl9vYmplY3Qu
aCBiL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFkZW9uX29iamVjdC5oCmluZGV4IDQ0YjQ3MjQx
ZWU0Mi4uZTA5N2E5MTUyNzdkIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3Jh
ZGVvbl9vYmplY3QuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl9vYmplY3Qu
aApAQCAtMTQ5LDcgKzE0OSw3IEBAIGV4dGVybiB2b2lkIHJhZGVvbl9ib191bnJlZihzdHJ1Y3Qg
cmFkZW9uX2JvICoqYm8pOwogZXh0ZXJuIGludCByYWRlb25fYm9fcGluKHN0cnVjdCByYWRlb25f
Ym8gKmJvLCB1MzIgZG9tYWluLCB1NjQgKmdwdV9hZGRyKTsKIGV4dGVybiBpbnQgcmFkZW9uX2Jv
X3Bpbl9yZXN0cmljdGVkKHN0cnVjdCByYWRlb25fYm8gKmJvLCB1MzIgZG9tYWluLAogCQkJCSAg
ICB1NjQgbWF4X29mZnNldCwgdTY0ICpncHVfYWRkcik7Ci1leHRlcm4gaW50IHJhZGVvbl9ib191
bnBpbihzdHJ1Y3QgcmFkZW9uX2JvICpibyk7CitleHRlcm4gdm9pZCByYWRlb25fYm9fdW5waW4o
c3RydWN0IHJhZGVvbl9ibyAqYm8pOwogZXh0ZXJuIGludCByYWRlb25fYm9fZXZpY3RfdnJhbShz
dHJ1Y3QgcmFkZW9uX2RldmljZSAqcmRldik7CiBleHRlcm4gdm9pZCByYWRlb25fYm9fZm9yY2Vf
ZGVsZXRlKHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2KTsKIGV4dGVybiBpbnQgcmFkZW9uX2Jv
X2luaXQoc3RydWN0IHJhZGVvbl9kZXZpY2UgKnJkZXYpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL3JhZGVvbi9yYWRlb25fdHRtLmMgYi9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVv
bl90dG0uYwppbmRleCAzNjE1MGI3ZjMxYTkuLjA4NWY1OGU4MzNkOCAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fdHRtLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3Jh
ZGVvbi9yYWRlb25fdHRtLmMKQEAgLTMxMCw3ICszMTAsNyBAQCBzdGF0aWMgaW50IHJhZGVvbl9i
b19tb3ZlKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8sIGJvb2wgZXZpY3QsCiAKIAkvKiBD
YW4ndCBtb3ZlIGEgcGlubmVkIEJPICovCiAJcmJvID0gY29udGFpbmVyX29mKGJvLCBzdHJ1Y3Qg
cmFkZW9uX2JvLCB0Ym8pOwotCWlmIChXQVJOX09OX09OQ0UocmJvLT5waW5fY291bnQgPiAwKSkK
KwlpZiAoV0FSTl9PTl9PTkNFKHJiby0+dGJvLnBpbl9jb3VudCA+IDApKQogCQlyZXR1cm4gLUVJ
TlZBTDsKIAogCXJkZXYgPSByYWRlb25fZ2V0X3JkZXYoYm8tPmJkZXYpOwotLSAKMi4xNy4xCgpf
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwg
bWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0
cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWwK
