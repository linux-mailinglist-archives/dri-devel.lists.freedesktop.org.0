Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id D62F3605B4
	for <lists+dri-devel@lfdr.de>; Fri,  5 Jul 2019 14:10:16 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 6975789AB9;
	Fri,  5 Jul 2019 12:10:14 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ed1-x542.google.com (mail-ed1-x542.google.com
 [IPv6:2a00:1450:4864:20::542])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 933F089AB9
 for <dri-devel@lists.freedesktop.org>; Fri,  5 Jul 2019 12:10:13 +0000 (UTC)
Received: by mail-ed1-x542.google.com with SMTP id p15so8051853eds.8
 for <dri-devel@lists.freedesktop.org>; Fri, 05 Jul 2019 05:10:13 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:mime-version
 :content-transfer-encoding;
 bh=osFDVUXQl8diERWFxgIWc6DoKYHsYEo9qu7Q5fX1bFU=;
 b=BfpvzwRMk0zYUnjc71fN9A6NMlaFMkI44qreGmbcfmN1I8+HcDyLSmPCDmtF1aNuPA
 l/oUM5Bc9p1PD+t4AlFks0az5T8ZKGlnzufZcGHw+zEyV85iuXzCJgMJBoluDC3qtbrq
 4E3q5pFbQZDQO0VF2pVy8EVHktFJU+meaqFs/rdKqcE67qO3p0wdKBmZzcll4t8n5f+3
 YYxXS3ygz3DUN+MUuu4uGzGFZi5k6mmMD6Z5jnf1PKkODjgdX6Wsn/3F9RhoPZoyi5Zc
 AjRLQC2GHI9/HvDqjqZNsQ7VRcHb8ib/1nVkV/+AeGfGZ+izfvYWF8icPQU9mTQyWAPW
 sFPw==
X-Gm-Message-State: APjAAAWxgMwhaFEQ/mDwW0uSE3e0ghTWhdrI/LVbGohaO4rzLgZipjHM
 tiQegQ/QEkO2eH9dgPWlE+tRSmilXes=
X-Google-Smtp-Source: APXvYqyzcCEFVIUwk04Drr1Rs8Rj4BUwa6EB9/6HO+CpjO4PPmKlryOaX/tTIJbrHfJOud40iwUrhA==
X-Received: by 2002:a17:906:32d2:: with SMTP id
 k18mr3254902ejk.232.1562328611854; 
 Fri, 05 Jul 2019 05:10:11 -0700 (PDT)
Received: from phenom.ffwll.local ([2a02:168:569e:0:3106:d637:d723:e855])
 by smtp.gmail.com with ESMTPSA id 5sm1524350ejx.58.2019.07.05.05.10.10
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Fri, 05 Jul 2019 05:10:11 -0700 (PDT)
From: Daniel Vetter <daniel.vetter@ffwll.ch>
To: DRI Development <dri-devel@lists.freedesktop.org>
Subject: [PATCH 1/5] drm/komeda: Remove clock ratio property
Date: Fri,  5 Jul 2019 14:10:02 +0200
Message-Id: <20190705121006.26085-1-daniel.vetter@ffwll.ch>
X-Mailer: git-send-email 2.20.1
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=from:to:cc:subject:date:message-id:mime-version
 :content-transfer-encoding;
 bh=osFDVUXQl8diERWFxgIWc6DoKYHsYEo9qu7Q5fX1bFU=;
 b=FmtdpGXzYUzVxtDH/p+n+7VXm3DWATo73rEV14aDO9lrQ2L7SqHckyQ44GAbXvQH6/
 Usyznsz0/jGhC5U7JOgzb6ulfzCD4Gdn740vRmIRD8Ln3naZt+K4wjDdGjouEmfLeCzN
 ce0MkXgm7Vz9KUK5NfmWprdeu56/jna9fn2Wk=
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Daniel Vetter <daniel.vetter@ffwll.ch>, Liviu Dudau <liviu.dudau@arm.com>,
 James Qian Wang <james.qian.wang@arm.com>,
 Daniel Vetter <daniel.vetter@intel.com>,
 Mali DP Maintainers <malidp@foss.arm.com>, Lowry Li <lowry.li@arm.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

UHJvcGVydGllcyBhcmUgdWFwaSBsaWtlIGFueXRoaW5nIGVsc2UsIHdpdGggYWxsIHRoZSB1c3Vh
bCBydWxlcwpyZWdhcmRpbmcgcmV2aWV3LCB0ZXN0Y2FzZXMsIG9wZW4gc291cmNlIHVzZXJzcGFj
ZSAuLi4gRnVydGhlcm1vcmUKZHJpdmVyLXByaXZhdGUga21zIHByb3BlcnRpZXMgYXJlIGhpZ2hs
eSBkaXNjb3VyYWdlZCwgb3ZlciB0aGUgcGFzdApmZXcgeWVhcnMgd2UndmUgcmVhbGl6ZWQgd2Ug
bmVlZCB0byBtYWtlIGEgc2VyaW91cyBlZmZvcnQgYXQgYmV0dGVyCnN0YW5kYXJkaXppbmcgdGhp
cyBzdHVmZi4KCkZyb20gdGhlIGRpc2N1c3Npb24gd2l0aCBMaXZpdSB0aGUgc29sdXRpb24gZm9y
IHRoZXNlIGhlcmUgbmVlZHMKbXVsdGlwbGUgcGllY2VzOgoKLSBGb3IgYmVpbmcgYWJsZSB0byBy
ZWxpYWJseSByZWFkIHRoZSBtZW1vcnkgY2xvY2sgd2UgbmVlZCBhIERUCiAgcHJvcGVydHksIHBs
dXMgbWF5YmUgRFQgb3ZlcnJpZGUgc25pcHBldHMgdG8gZml4IGl0IGlmIGl0J3Mgd3JvbmcuCgot
IEZvciBleHBvc2luZyBwbGFuZSBsaW1pdGF0aW9ucyB0byB1c2Vyc3BhY2UgdGhlcmUncyBURVNU
X09OTFkuIFRoZXJlCiAgaXMgYSBiaXQgYSBnYXAgaW4gdGVsbGluZyB1c2Vyc3BhY2UgYmV0dGVy
IHRoYXQgc2NhbGluZyBkb2Vzbid0IHdvcmsKICBkdWUgdG8gbGltaXRzIChhdG0gYSBnb29kIHN0
cmF0ZWd5IGlzIHRvIHJldHJ5IGFnYWluIHdpdGhvdXQgc2NhbGluZwogIHdoZW4gYWRkaW5nIGEg
cGxhbmUgZGlkbid0IHdvcmsgdGhlIGZpcnN0IHRpbWUgYXJvdW5kKS4gQnV0IHRoYXQKICBuZWVk
cyBhIG1vcmUgZ2VuZXJpYyBzb2x1dGlvbiwgbm90IGV4cG9zaW5nIHNvbWV0aGluZyBleHRyZW1l
bHkKICBrb21lZGEgc3BlY2lmaWMuCgotIElmIHRoaXMgaXMgbmVlZGVkIGJ5IHZhbGlkYXRpb24g
dG9vbHMsIHlvdSBjYW4gc3RpbGwgZXhwb3NlIGl0IGluCiAgZGVidWdmcy4gV2UgaGF2ZSBhbiBl
bnRpcmUgbmljZSBpbmZyYXN0cnVjdHVyZSBmb3IgZGVidWcgcHJpbnRpbmcgb2YKICBrbXMgb2Jq
ZWN0cyBhbHJlYWR5LCBzZWUgdGhlIHZhcmlvdXMgYXRvbWljX3ByaW50X3N0YXRlIGNhbGxiYWNr
cwogIGFuZCBpbmZyYXN0cnVjdHVyZSBhcm91bmQgdGhlbS4KCkZpeGVzOiAxZjdmOWFiNzkwMGUg
KCJkcm0va29tZWRhOiBBZGQgZW5naW5lIGNsb2NrIHJlcXVpcmVtZW50IGNoZWNrIGZvciB0aGUg
ZG93bnNjYWxpbmciKQpDYzogTG93cnkgTGkgKEFybSBUZWNobm9sb2d5IENoaW5hKSA8bG93cnku
bGlAYXJtLmNvbT4KQ2M6IEphbWVzIFFpYW4gV2FuZyAoQXJtIFRlY2hub2xvZ3kgQ2hpbmEpIDxq
YW1lcy5xaWFuLndhbmdAYXJtLmNvbT4KQ2M6IExpdml1IER1ZGF1IDxsaXZpdS5kdWRhdUBhcm0u
Y29tPgpDYzogTWFsaSBEUCBNYWludGFpbmVycyA8bWFsaWRwQGZvc3MuYXJtLmNvbT4KQ2M6IEJy
aWFuIFN0YXJrZXkgPGJyaWFuLnN0YXJrZXlAYXJtLmNvbT4KU2lnbmVkLW9mZi1ieTogRGFuaWVs
IFZldHRlciA8ZGFuaWVsLnZldHRlckBpbnRlbC5jb20+Ci0tLQogLi4uL2dwdS9kcm0vYXJtL2Rp
c3BsYXkva29tZWRhL2tvbWVkYV9jcnRjLmMgIHwgMzkgLS0tLS0tLS0tLS0tLS0tLS0tLQogLi4u
L2dwdS9kcm0vYXJtL2Rpc3BsYXkva29tZWRhL2tvbWVkYV9rbXMuaCAgIHwgIDMgLS0KIDIgZmls
ZXMgY2hhbmdlZCwgNDIgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2FybS9kaXNwbGF5L2tvbWVkYS9rb21lZGFfY3J0Yy5jIGIvZHJpdmVycy9ncHUvZHJtL2FybS9k
aXNwbGF5L2tvbWVkYS9rb21lZGFfY3J0Yy5jCmluZGV4IDNmMjIyZjQ2NGViMi4uZTg1MmRjMjdm
MWI4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYXJtL2Rpc3BsYXkva29tZWRhL2tvbWVk
YV9jcnRjLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FybS9kaXNwbGF5L2tvbWVkYS9rb21lZGFf
Y3J0Yy5jCkBAIC00NTQsMjQgKzQ1NCw2IEBAIHN0YXRpYyB2b2lkIGtvbWVkYV9jcnRjX3ZibGFu
a19kaXNhYmxlKHN0cnVjdCBkcm1fY3J0YyAqY3J0YykKIAltZGV2LT5mdW5jcy0+b25fb2ZmX3Zi
bGFuayhtZGV2LCBrY3J0Yy0+bWFzdGVyLT5pZCwgZmFsc2UpOwogfQogCi1zdGF0aWMgaW50Ci1r
b21lZGFfY3J0Y19hdG9taWNfZ2V0X3Byb3BlcnR5KHN0cnVjdCBkcm1fY3J0YyAqY3J0YywKLQkJ
CQljb25zdCBzdHJ1Y3QgZHJtX2NydGNfc3RhdGUgKnN0YXRlLAotCQkJCXN0cnVjdCBkcm1fcHJv
cGVydHkgKnByb3BlcnR5LCB1aW50NjRfdCAqdmFsKQotewotCXN0cnVjdCBrb21lZGFfY3J0YyAq
a2NydGMgPSB0b19rY3J0YyhjcnRjKTsKLQlzdHJ1Y3Qga29tZWRhX2NydGNfc3RhdGUgKmtjcnRj
X3N0ID0gdG9fa2NydGNfc3Qoc3RhdGUpOwotCi0JaWYgKHByb3BlcnR5ID09IGtjcnRjLT5jbG9j
a19yYXRpb19wcm9wZXJ0eSkgewotCQkqdmFsID0ga2NydGNfc3QtPmNsb2NrX3JhdGlvOwotCX0g
ZWxzZSB7Ci0JCURSTV9ERUJVR19EUklWRVIoIlVua25vd24gcHJvcGVydHkgJXNcbiIsIHByb3Bl
cnR5LT5uYW1lKTsKLQkJcmV0dXJuIC1FSU5WQUw7Ci0JfQotCi0JcmV0dXJuIDA7Ci19Ci0KIHN0
YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2NydGNfZnVuY3Mga29tZWRhX2NydGNfZnVuY3MgPSB7CiAJ
LmdhbW1hX3NldAkJPSBkcm1fYXRvbWljX2hlbHBlcl9sZWdhY3lfZ2FtbWFfc2V0LAogCS5kZXN0
cm95CQk9IGRybV9jcnRjX2NsZWFudXAsCkBAIC00ODIsNyArNDY0LDYgQEAgc3RhdGljIGNvbnN0
IHN0cnVjdCBkcm1fY3J0Y19mdW5jcyBrb21lZGFfY3J0Y19mdW5jcyA9IHsKIAkuYXRvbWljX2Rl
c3Ryb3lfc3RhdGUJPSBrb21lZGFfY3J0Y19hdG9taWNfZGVzdHJveV9zdGF0ZSwKIAkuZW5hYmxl
X3ZibGFuawkJPSBrb21lZGFfY3J0Y192YmxhbmtfZW5hYmxlLAogCS5kaXNhYmxlX3ZibGFuawkJ
PSBrb21lZGFfY3J0Y192YmxhbmtfZGlzYWJsZSwKLQkuYXRvbWljX2dldF9wcm9wZXJ0eQk9IGtv
bWVkYV9jcnRjX2F0b21pY19nZXRfcHJvcGVydHksCiB9OwogCiBpbnQga29tZWRhX2ttc19zZXR1
cF9jcnRjcyhzdHJ1Y3Qga29tZWRhX2ttc19kZXYgKmttcywKQEAgLTUxOCwyMiArNDk5LDYgQEAg
aW50IGtvbWVkYV9rbXNfc2V0dXBfY3J0Y3Moc3RydWN0IGtvbWVkYV9rbXNfZGV2ICprbXMsCiAJ
cmV0dXJuIDA7CiB9CiAKLXN0YXRpYyBpbnQga29tZWRhX2NydGNfY3JlYXRlX2Nsb2NrX3JhdGlv
X3Byb3BlcnR5KHN0cnVjdCBrb21lZGFfY3J0YyAqa2NydGMpCi17Ci0Jc3RydWN0IGRybV9jcnRj
ICpjcnRjID0gJmtjcnRjLT5iYXNlOwotCXN0cnVjdCBkcm1fcHJvcGVydHkgKnByb3A7Ci0KLQlw
cm9wID0gZHJtX3Byb3BlcnR5X2NyZWF0ZV9yYW5nZShjcnRjLT5kZXYsIERSTV9NT0RFX1BST1Bf
QVRPTUlDLAotCQkJCQkgIkNMT0NLX1JBVElPIiwgMCwgVTY0X01BWCk7Ci0JaWYgKCFwcm9wKQot
CQlyZXR1cm4gLUVOT01FTTsKLQotCWRybV9vYmplY3RfYXR0YWNoX3Byb3BlcnR5KCZjcnRjLT5i
YXNlLCBwcm9wLCAwKTsKLQlrY3J0Yy0+Y2xvY2tfcmF0aW9fcHJvcGVydHkgPSBwcm9wOwotCi0J
cmV0dXJuIDA7Ci19Ci0KIHN0YXRpYyBpbnQga29tZWRhX2NydGNfY3JlYXRlX3NsYXZlX3BsYW5l
c19wcm9wZXJ0eShzdHJ1Y3Qga29tZWRhX2NydGMgKmtjcnRjKQogewogCXN0cnVjdCBkcm1fY3J0
YyAqY3J0YyA9ICZrY3J0Yy0+YmFzZTsKQEAgLTU5MCwxMCArNTU1LDYgQEAgc3RhdGljIGludCBr
b21lZGFfY3J0Y19hZGQoc3RydWN0IGtvbWVkYV9rbXNfZGV2ICprbXMsCiAKIAljcnRjLT5wb3J0
ID0ga2NydGMtPm1hc3Rlci0+b2Zfb3V0cHV0X3BvcnQ7CiAKLQllcnIgPSBrb21lZGFfY3J0Y19j
cmVhdGVfY2xvY2tfcmF0aW9fcHJvcGVydHkoa2NydGMpOwotCWlmIChlcnIpCi0JCXJldHVybiBl
cnI7Ci0KIAllcnIgPSBrb21lZGFfY3J0Y19jcmVhdGVfc2xhdmVfcGxhbmVzX3Byb3BlcnR5KGtj
cnRjKTsKIAlpZiAoZXJyKQogCQlyZXR1cm4gZXJyOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2FybS9kaXNwbGF5L2tvbWVkYS9rb21lZGFfa21zLmggYi9kcml2ZXJzL2dwdS9kcm0vYXJt
L2Rpc3BsYXkva29tZWRhL2tvbWVkYV9rbXMuaAppbmRleCAyMTlmYTNmMGMzMzYuLjI3NzVmMzRi
ZjRhYiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FybS9kaXNwbGF5L2tvbWVkYS9rb21l
ZGFfa21zLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FybS9kaXNwbGF5L2tvbWVkYS9rb21lZGFf
a21zLmgKQEAgLTk1LDkgKzk1LDYgQEAgc3RydWN0IGtvbWVkYV9jcnRjIHsKIAkvKiogQGRpc2Fi
bGVfZG9uZTogdGhpcyBmbGlwX2RvbmUgaXMgZm9yIHRyYWNpbmcgdGhlIGRpc2FibGUgKi8KIAlz
dHJ1Y3QgY29tcGxldGlvbiAqZGlzYWJsZV9kb25lOwogCi0JLyoqIEBjbG9ja19yYXRpb19wcm9w
ZXJ0eTogcHJvcGVydHkgZm9yIHJhdGlvIG9mIChhY2xrIDw8IDMyKS9weGxjbGsgKi8KLQlzdHJ1
Y3QgZHJtX3Byb3BlcnR5ICpjbG9ja19yYXRpb19wcm9wZXJ0eTsKLQogCS8qKiBAc2xhdmVfcGxh
bmVzX3Byb3BlcnR5OiBwcm9wZXJ0eSBmb3Igc2xhdmVzIG9mIHRoZSBwbGFuZXMgKi8KIAlzdHJ1
Y3QgZHJtX3Byb3BlcnR5ICpzbGF2ZV9wbGFuZXNfcHJvcGVydHk7CiB9OwotLSAKMi4yMC4xCgpf
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwg
bWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0
cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9kcmktZGV2ZWw=
