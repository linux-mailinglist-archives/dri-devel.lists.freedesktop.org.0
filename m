Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 4E6468F27B
	for <lists+dri-devel@lfdr.de>; Thu, 15 Aug 2019 19:42:16 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 90FAE6EA0B;
	Thu, 15 Aug 2019 17:42:13 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mx1.suse.de (mx2.suse.de [195.135.220.15])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7E53F6EA0A;
 Thu, 15 Aug 2019 17:42:11 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id BF351ACA5;
 Thu, 15 Aug 2019 17:42:09 +0000 (UTC)
Date: Thu, 15 Aug 2019 19:42:07 +0200
From: Michal Hocko <mhocko@kernel.org>
To: Jason Gunthorpe <jgg@ziepe.ca>
Subject: Re: [PATCH 2/5] kernel.h: Add non_block_start/end()
Message-ID: <20190815174207.GR9477@dhcp22.suse.cz>
References: <20190814202027.18735-1-daniel.vetter@ffwll.ch>
 <20190814202027.18735-3-daniel.vetter@ffwll.ch>
 <20190814235805.GB11200@ziepe.ca>
 <20190815065829.GA7444@phenom.ffwll.local>
 <20190815122344.GA21596@ziepe.ca>
 <20190815132127.GI9477@dhcp22.suse.cz>
 <20190815141219.GF21596@ziepe.ca>
 <20190815155950.GN9477@dhcp22.suse.cz>
 <20190815165631.GK21596@ziepe.ca>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190815165631.GK21596@ziepe.ca>
User-Agent: Mutt/1.10.1 (2018-07-13)
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Feng Tang <feng.tang@intel.com>, Randy Dunlap <rdunlap@infradead.org>,
 Kees Cook <keescook@chromium.org>,
 Masahiro Yamada <yamada.masahiro@socionext.com>,
 Peter Zijlstra <peterz@infradead.org>,
 Intel Graphics Development <intel-gfx@lists.freedesktop.org>,
 Jann Horn <jannh@google.com>, LKML <linux-kernel@vger.kernel.org>,
 DRI Development <dri-devel@lists.freedesktop.org>, linux-mm@kvack.org,
 =?iso-8859-1?B?Suly9G1l?= Glisse <jglisse@redhat.com>,
 Ingo Molnar <mingo@redhat.com>, Thomas Gleixner <tglx@linutronix.de>,
 David Rientjes <rientjes@google.com>, Wei Wang <wvw@google.com>,
 Daniel Vetter <daniel.vetter@intel.com>,
 Andrew Morton <akpm@linux-foundation.org>,
 Andy Shevchenko <andriy.shevchenko@linux.intel.com>,
 Christian =?iso-8859-1?Q?K=F6nig?= <christian.koenig@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVGh1IDE1LTA4LTE5IDEzOjU2OjMxLCBKYXNvbiBHdW50aG9ycGUgd3JvdGU6Cj4gT24gVGh1
LCBBdWcgMTUsIDIwMTkgYXQgMDY6MDA6NDFQTSArMDIwMCwgTWljaGFsIEhvY2tvIHdyb3RlOgo+
IAo+ID4gPiBBRkFJSyAnR0ZQX05PV0FJVCcgaXMgY2hhcmFjdGVyaXplZCBieSB0aGUgbGFjayBv
ZiBfX0dGUF9GUyBhbmQKPiA+ID4gX19HRlBfRElSRUNUX1JFQ0xBSU0uLgo+ID4gPgo+ID4gPiBU
aGlzIG1hdGNoZXMgdGhlIGV4aXN0aW5nIHRlc3QgaW4gX19uZWVkX2ZzX3JlY2xhaW0oKSAtIHNv
IGlmIHlvdSBhcmUKPiA+ID4gT0sgd2l0aCBHRlBfTk9GUywgYWthIF9fR0ZQX0lPIHdoaWNoIHRy
aWdnZXJzIHRyeV90b19jb21wYWN0X3BhZ2VzKCksCj4gPiA+IGFsbG9jYXRpb25zIGR1cmluZyBP
T00sIHRoZW4gSSB0aGluayBmc19yZWNsYWltIGFscmVhZHkgbWF0Y2hlcyB3aGF0Cj4gPiA+IHlv
dSBkZXNjcmliZWQ/Cj4gPiAKPiA+IE5vIEdGUF9OT0ZTIGlzIGVxdWFsbHkgYmFkLiBQbGVhc2Ug
cmVhZCBteSBvdGhlciBlbWFpbCBleHBsYWluaW5nIHdoYXQKPiA+IHRoZSBvb21fcmVhcGVyIGFj
dHVhbGx5IHJlcXVpcmVzLiBJbiBzaG9ydCBubyBibG9ja2luZyBvbiBkaXJlY3Qgb3IKPiA+IGlu
ZGlyZWN0IGRlcGVuZGVjeSBvbiBtZW1vcnkgYWxsb2NhdGlvbiB0aGF0IG1pZ2h0IHNsZWVwLgo+
IAo+IEl0IGlzIG11Y2ggZWFzaWVyIHRvIGZvbGxvdyB3aXRoIHNvbWUgaGludHMgb24gY29kZSwg
c28gdGhlIHRydWUKPiByZXF1aXJlbWVudCBpcyB0aGF0IHRoZSBPT00gcmVwZWFyIG5vdCBibG9j
ayBvbiBHRlBfRlMgYW5kIEdGUF9JTwo+IGFsbG9jYXRpb25zLCBncmVhdCwgdGhhdCBjb25zdHJh
aW50IGlzIG5vdyBjbGVhci4KCkkgc3RpbGwgZG8gbm90IGdldCB3aHkgZG8geW91IHB1dCBGUy9J
TyBpbnRvIHRoZSBwaWN0dXJlLiBUaGlzIGlzIHJlYWxseQphYm91dCBfX0dGUF9ESVJFQ1RfUkVD
TEFJTS4KCj4gCj4gPiBJZiB5b3UgY2FuIGV4cHJlc3MgdGhhdCBpbiB0aGUgZXhpc3RpbmcgbG9j
a2RlcCBtYWNoaW5lcnkuIEFsbAo+ID4gZmluZS4gQnV0IHRoZW4gY29uc2lkZXIgZGVwbG95bWVu
dHMgd2hlcmUgbG9ja2RlcCBpcyBuby1ubyBiZWNhdXNlCj4gPiBvZiB0aGUgb3ZlcmhlYWQuCj4g
Cj4gVGhpcyBpcyBhbGwgZm9yIGRyaXZlciBkZWJ1Z2dpbmcuIFRoZSBwb2ludCBvZiBsb2NrZGVw
IGlzIHRvIGZpbmQgYWxsCj4gdGhlc2UgcGF0aHMgd2l0aG91dCBoYXZlIHRvIGhpdCB0aGVtIGFz
IGFjdHVhbCByYWNlcywgdXNpbmcgZGVidWcKPiBrZXJuZWxzLgo+IAo+IEkgZG9uJ3QgdGhpbmsg
d2UgbmVlZCB0aGlzIGtpbmQgb2YgZGVidWdnaW5nIG9uIHByb2R1Y3Rpb24ga2VybmVscz8KCkFn
YWluLCB0aGUgcHJpbWFyeSBtb3RpdmF0aW9uIHdhcyBhIHNpbXBsZSBkZWJ1Z2dpbmcgYWlkIHRo
YXQgY291bGQgYmUKdXNlZCB3aXRob3V0IHdvcnJ5aW5nIGFib3V0IG92ZXJoZWFkLiBTbyBsb2Nr
ZGVwIGlzIHZlcnkgb2Z0ZW4gb3V0IG9mCnRoZSBxdWVzdGlvbi4KCj4gPiA+IFRoZSBiZXN0IHdl
IGdvdCB3YXMgZHJpdmVycyB0ZXN0ZWQgdGhlIFZBIHJhbmdlIGFuZCByZXR1cm5lZCBzdWNjZXNz
Cj4gPiA+IGlmIHRoZXkgaGFkIG5vIGludGVyZXN0LiBXaGljaCBpcyBhIGJpZyB3aW4gdG8gYmUg
c3VyZSwgYnV0IGl0IGxvb2tzCj4gPiA+IGxpa2UgZ2V0dGluZyBhbnkgbW9yZSBpcyBub3QgcmVh
bGx5IHBvc3NzaWJsZS4KPiA+IAo+ID4gQW5kIHRoYXQgaXMgYWxyZWFkeSBhIGdyZWF0IHdpbiEg
QmVjYXVzZSBtYW55IG5vdGlmaWVycyBvbmx5IGRvIGNhcmUKPiA+IGFib3V0IHBhcnRpY3VsYXIg
bWFwcGluZ3MuIFBsZWFzZSBub3RlIHRoYXQgYmFja2luZyBvZmYgdW5jb25kaXRpb2FubGx5Cj4g
PiB3aWxsIHNpbXBseSBjYXVzZSB0aGF0IHRoZSBvb20gcmVhcGVyIHdpbGwgaGF2ZSB0byBiYWNr
IG9mZiBub3QgZG9pbmcKPiA+IGFueSB0ZWFyIGRvd24gYW55dGhpbmcuCj4gCj4gV2VsbCwgSSdt
IHdvcmtpbmcgdG8gcHJvcG9zZSB0aGF0IHdlIGRvIHRoZSBWQSByYW5nZSB0ZXN0IHVuZGVyIGNv
cmUKPiBtbXUgbm90aWZpZXIgY29kZSB0aGF0IGNhbm5vdCBibG9jayBhbmQgdGhlbiB3ZSBzaW1w
bHkgcmVtb3ZlIHRoZSBpZGVhCj4gb2YgYmxvY2thYmxlIGZyb20gZHJpdmVycyB1c2luZyB0aGlz
IG5ldyAncmFuZ2Ugbm90aWZpZXInLiAKPiAKPiBJIHRoaW5rIHRoaXMgcHJldHR5IG11Y2ggc29s
dmVzIHRoZSBjb25jZXJuPwoKV2VsbCwgbXkgaWRlYSB3YXMgdGhhdCBhIHJhbmdlIGNoZWNrIGFu
ZCBlYXJseSBiYWlsIG91dCB3YXMgYSBmaXJzdCBzdGVwCmFuZCB0aGVuIGVhY2ggc3BlY2lmaWMg
bm90aWZpZXIgd291bGQgYmUgYWJsZSB0byBkbyBhIG1vcmUgc3BlY2lmaWMKY2hlY2suIEkgd2Fz
IG5vdCBhYmxlIHRvIGRvIHRoZSBzZWNvbmQgc3RlcCBiZWNhdXNlIHRoYXQgcmVxdWlyZXMgYSBk
ZWVwCnVuZGVyc3RhbmRpbmcgb2YgdGhlIHJlc3BlY3RpdmUgc3Vic3lzdGVtLgoKUmVhbGx5IGFs
bCBJIGRvIGNhcmUgYWJvdXQgaXMgdG8gcmVjbGFpbSBhcyBtdWNoIG1lbW9yeSBmcm9tIHRoZQpv
b21fcmVhcGVyIGNvbnRleHQgYXMgcG9zc2libGUuIEFuZCB0aGF0IGNhbm5vdCByZWFsbHkgYmUg
YW4gdW5ib3VuZGVkCnByb2Nlc3MuIFF1aXRlIGNvbnRyYXJ5IGl0IHNob3VsZCBiZSBhcyBzd2lm
dCBhcyBwb3NzaWJsZS4gRnJvbSBteQpjdXJzb3J5IGxvb2sgc29tZSBub3RpZmllcnMgYXJlIGFi
bGUgdG8gYWNoaWV2ZSB0aGVpciB0YXNrIHdpdGhvdXQKYmxvY2tpbmcgb3IgZGVwZW5kaW5nIG9u
IG1lbW9yeSBqdXN0IGZpbmUuIFNvIGJhaWxpbmcgb3V0CnVuY29uZGl0aW9uYWxseSBvbiB0aGUg
cmFuZ2Ugb2YgaW50ZXJlc3Qgd291bGQganVzdCBwdXQgdXMgYmFjay4KCj4gPiA+IEhvd2V2ZXIs
IHdlIGNvdWxkIChwcm9iYWJseSBldmVuIHNob3VsZCkgbWFrZSB0aGUgZHJpdmVycyBmc19yZWNs
YWltCj4gPiA+IHNhZmUuCj4gPiA+IAo+ID4gPiBJZiB0aGF0IGlzIGVub3VnaCB0byBndWFyYW50
ZWUgcHJvZ3Jlc3Mgb2YgT09NLCB0aGVuIGxldHMgY29uc2lkZXIKPiA+ID4gc29tZXRoaW5nIGxp
a2UgdXNpbmcgY3VycmVudF9nZnBfY29udGV4dCgpIHRvIGZvcmNlIFBGX01FTUFMTE9DX05PRlMK
PiA+ID4gYWxsb2NhdGlvbiBiZWhhdmlvciBvbiB0aGUgZHJpdmVyIGNhbGxiYWNrIGFuZCBsb2Nr
ZGVwIHRvIHRyeSBhbmQga2VlcAo+ID4gPiBwdXNoaW5nIG9uIHRoZSB0aGUgZGVidWdnaW5nLCBh
bmQgZHJvcHBpbmcgIWJsb2NraW5nLgo+ID4gCj4gPiBIb3cgYXJlIHlvdSBnb2luZyB0byBlbmZv
cmNlIGluZGlyZWN0IGRlcGVuZGVuY3k/IEUuZy4gYSBsb2NrIHRoYXQgaXMKPiA+IGFsc28gdXNl
ZCBpbiBvdGhlciBjb250ZXh0IHdoaWNoIGRlcGVuZCBvbiBzbGVlcGFibGUgbWVtb3J5IGFsbG9j
YXRpb24KPiA+IHRvIG1vdmUgZm9yd2FyZC4KPiAKPiBZb3UgbWVhbiBsaWtlIHRoaXM6Cj4gCj4g
ICAgICAgIENQVTAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDUFUxCj4gICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG11dGV4X2xvY2soKQo+ICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrbWFsbG9jKEdGUF9LRVJORUwpCgpubyBJ
IG1lYW4gX19HRlBfRElSRUNUX1JFQ0xBSU0gaGVyZS4KCj4gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIG11dGV4X3VubG9jaygpCj4gICBmc19yZWNsYWltX2FjcXVpcmUo
KQo+ICAgbXV0ZXhfbG9jaygpIDwtIGlsbGVnYWw6IGxvY2sgZGVwIGFzc2VydGlvbgoKSSBjYW5u
b3QgcmVhbGx5IGNvbW1lbnQgb24gaG93IHRoYXQgaXMgYWNoaWV2ZWFibGUgYnkgbG9ja2RlcC4g
SSBtYW5hZ2VkCnRvIGZvcmdldCBkZXRhaWxzIGFib3V0IEZTL0lPIHJlY2xhaW0gcmVjdXJzaW9u
IHRyYWNraW5nIGFscmVhZHkgYW5kIEkKZG8gbm90IGhhdmUgdGltZSB0byBsZWFybiBpdCBhZ2Fp
bi4gSXQgd2FzIHF1aXRlIGEgaGFjay4gQW55d2F5LCBsZXQgbWUKcmVwZWF0IHRoYXQgdGhlIHBy
aW1hcnkgbW90aXZhdGlvbiB3YXMgYSBzaW1wbGUgYWlkLiBOb3Qgc29tZXRoaW5nIGFzCnBvdmVy
ZnVsIGFzIGxvY2tkZXAuCi0tIApNaWNoYWwgSG9ja28KU1VTRSBMYWJzCl9fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QK
ZHJpLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9w
Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaS1kZXZlbA==
