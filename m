Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id A9C0F1CC222
	for <lists+dri-devel@lfdr.de>; Sat,  9 May 2020 16:17:09 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 077976E365;
	Sat,  9 May 2020 14:16:57 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from asav22.altibox.net (asav22.altibox.net [109.247.116.9])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 708B56E359
 for <dri-devel@lists.freedesktop.org>; Sat,  9 May 2020 14:16:46 +0000 (UTC)
Received: from localhost.localdomain (unknown [81.166.168.211])
 (using TLSv1.2 with cipher ECDHE-RSA-AES128-SHA256 (128/128 bits))
 (No client certificate requested)
 (Authenticated sender: noralf.tronnes@ebnett.no)
 by asav22.altibox.net (Postfix) with ESMTPSA id DF53B20192;
 Sat,  9 May 2020 16:16:43 +0200 (CEST)
From: =?UTF-8?q?Noralf=20Tr=C3=B8nnes?= <noralf@tronnes.org>
To: dri-devel@lists.freedesktop.org, linux-usb@vger.kernel.org,
 lee.jones@linaro.org
Subject: [PATCH v2 07/10] drm/format-helper: Add drm_fb_swab()
Date: Sat,  9 May 2020 16:16:16 +0200
Message-Id: <20200509141619.32970-8-noralf@tronnes.org>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20200509141619.32970-1-noralf@tronnes.org>
References: <20200509141619.32970-1-noralf@tronnes.org>
MIME-Version: 1.0
X-CMAE-Score: 0
X-CMAE-Analysis: v=2.3 cv=R7It5+ZX c=1 sm=1 tr=0
 a=OYZzhG0JTxDrWp/F2OJbnw==:117 a=OYZzhG0JTxDrWp/F2OJbnw==:17
 a=IkcTkHD0fZMA:10 a=M51BFTxLslgA:10 a=7gkXJVJtAAAA:8 a=SJz97ENfAAAA:8
 a=-9A2zdw3ca-yCi4n-HUA:9 a=QEXdDO2ut3YA:10 a=E9Po1WZjFZOl8hwRPBS3:22
 a=vFet0B0WnEQeilDPIY6i:22
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: jingoohan1@gmail.com, daniel.thompson@linaro.org, sam@ravnborg.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

VGhpcyByZXBsYWNlcyBkcm1fZmJfc3dhYjE2KCkgd2l0aCBkcm1fZmJfc3dhYigpIHN1cHBvcnRp
bmcgMTYgYW5kIDMyLWJpdC4KQWxzbyBtYWtlIHBpeGVsIGxpbmUgY2FjaGluZyBvcHRpb25hbC4K
CnYyOgotIEJhaWwgb3V0IG9uIGNwcCAhPSAyICYmIDQgKFNhbSkKClJldmlld2VkLWJ5OiBTYW0g
UmF2bmJvcmcgPHNhbUByYXZuYm9yZy5vcmc+ClNpZ25lZC1vZmYtYnk6IE5vcmFsZiBUcsO4bm5l
cyA8bm9yYWxmQHRyb25uZXMub3JnPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9kcm1fZm9ybWF0X2hl
bHBlci5jIHwgNjEgKysrKysrKysrKysrKysrKysrKy0tLS0tLS0tLS0KIGRyaXZlcnMvZ3B1L2Ry
bS9kcm1fbWlwaV9kYmkuYyAgICAgIHwgIDIgKy0KIGluY2x1ZGUvZHJtL2RybV9mb3JtYXRfaGVs
cGVyLmggICAgIHwgIDQgKy0KIDMgZmlsZXMgY2hhbmdlZCwgNDQgaW5zZXJ0aW9ucygrKSwgMjMg
ZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2RybV9mb3JtYXRfaGVs
cGVyLmMgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2Zvcm1hdF9oZWxwZXIuYwppbmRleCAwODk3Y2I5
YWVhZmYuLjA3Yzk5OTlmMTUyNyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2RybV9mb3Jt
YXRfaGVscGVyLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2RybV9mb3JtYXRfaGVscGVyLmMKQEAg
LTc5LDM5ICs3OSw2MCBAQCB2b2lkIGRybV9mYl9tZW1jcHlfZHN0Y2xpcCh2b2lkIF9faW9tZW0g
KmRzdCwgdm9pZCAqdmFkZHIsCiBFWFBPUlRfU1lNQk9MKGRybV9mYl9tZW1jcHlfZHN0Y2xpcCk7
CiAKIC8qKgotICogZHJtX2ZiX3N3YWIxNiAtIFN3YXAgYnl0ZXMgaW50byBjbGlwIGJ1ZmZlcgot
ICogQGRzdDogUkdCNTY1IGRlc3RpbmF0aW9uIGJ1ZmZlcgotICogQHZhZGRyOiBSR0I1NjUgc291
cmNlIGJ1ZmZlcgorICogZHJtX2ZiX3N3YWIgLSBTd2FwIGJ5dGVzIGludG8gY2xpcCBidWZmZXIK
KyAqIEBkc3Q6IERlc3RpbmF0aW9uIGJ1ZmZlcgorICogQHNyYzogU291cmNlIGJ1ZmZlcgogICog
QGZiOiBEUk0gZnJhbWVidWZmZXIKICAqIEBjbGlwOiBDbGlwIHJlY3RhbmdsZSBhcmVhIHRvIGNv
cHkKKyAqIEBjYWNoZWQ6IFNvdXJjZSBidWZmZXIgaXMgbWFwcGVkIGNhY2hlZCAoZWcuIG5vdCB3
cml0ZS1jb21iaW5lZCkKKyAqCisgKiBJZiBAY2FjaGVkIGlzIGZhbHNlIGEgdGVtcG9yYXJ5IGJ1
ZmZlciBpcyB1c2VkIHRvIGNhY2hlIG9uZSBwaXhlbCBsaW5lIGF0IGEKKyAqIHRpbWUgdG8gc3Bl
ZWQgdXAgc2xvdyB1bmNhY2hlZCByZWFkcy4KKyAqCisgKiBUaGlzIGZ1bmN0aW9uIGRvZXMgbm90
IGFwcGx5IGNsaXBwaW5nIG9uIGRzdCwgaS5lLiB0aGUgZGVzdGluYXRpb24KKyAqIGlzIGEgc21h
bGwgYnVmZmVyIGNvbnRhaW5pbmcgdGhlIGNsaXAgcmVjdCBvbmx5LgogICovCi12b2lkIGRybV9m
Yl9zd2FiMTYodTE2ICpkc3QsIHZvaWQgKnZhZGRyLCBzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpm
YiwKLQkJICAgc3RydWN0IGRybV9yZWN0ICpjbGlwKQordm9pZCBkcm1fZmJfc3dhYih2b2lkICpk
c3QsIHZvaWQgKnNyYywgc3RydWN0IGRybV9mcmFtZWJ1ZmZlciAqZmIsCisJCSBzdHJ1Y3QgZHJt
X3JlY3QgKmNsaXAsIGJvb2wgY2FjaGVkKQogewotCXNpemVfdCBsZW4gPSAoY2xpcC0+eDIgLSBj
bGlwLT54MSkgKiBzaXplb2YodTE2KTsKKwl1OCBjcHAgPSBmYi0+Zm9ybWF0LT5jcHBbMF07CisJ
c2l6ZV90IGxlbiA9IGRybV9yZWN0X3dpZHRoKGNsaXApICogY3BwOworCXUxNiAqc3JjMTYsICpk
c3QxNiA9IGRzdDsKKwl1MzIgKnNyYzMyLCAqZHN0MzIgPSBkc3Q7CiAJdW5zaWduZWQgaW50IHgs
IHk7Ci0JdTE2ICpzcmMsICpidWY7CisJdm9pZCAqYnVmID0gTlVMTDsKIAotCS8qCi0JICogVGhl
IGNtYSBtZW1vcnkgaXMgd3JpdGUtY29tYmluZWQgc28gcmVhZHMgYXJlIHVuY2FjaGVkLgotCSAq
IFNwZWVkIHVwIGJ5IGZldGNoaW5nIG9uZSBsaW5lIGF0IGEgdGltZS4KLQkgKi8KLQlidWYgPSBr
bWFsbG9jKGxlbiwgR0ZQX0tFUk5FTCk7Ci0JaWYgKCFidWYpCisJaWYgKFdBUk5fT05fT05DRShj
cHAgIT0gMiAmJiBjcHAgIT0gNCkpCiAJCXJldHVybjsKIAorCWlmICghY2FjaGVkKQorCQlidWYg
PSBrbWFsbG9jKGxlbiwgR0ZQX0tFUk5FTCk7CisKKwlzcmMgKz0gY2xpcF9vZmZzZXQoY2xpcCwg
ZmItPnBpdGNoZXNbMF0sIGNwcCk7CisKIAlmb3IgKHkgPSBjbGlwLT55MTsgeSA8IGNsaXAtPnky
OyB5KyspIHsKLQkJc3JjID0gdmFkZHIgKyAoeSAqIGZiLT5waXRjaGVzWzBdKTsKLQkJc3JjICs9
IGNsaXAtPngxOwotCQltZW1jcHkoYnVmLCBzcmMsIGxlbik7Ci0JCXNyYyA9IGJ1ZjsKLQkJZm9y
ICh4ID0gY2xpcC0+eDE7IHggPCBjbGlwLT54MjsgeCsrKQotCQkJKmRzdCsrID0gc3dhYjE2KCpz
cmMrKyk7CisJCWlmIChidWYpIHsKKwkJCW1lbWNweShidWYsIHNyYywgbGVuKTsKKwkJCXNyYzE2
ID0gYnVmOworCQkJc3JjMzIgPSBidWY7CisJCX0gZWxzZSB7CisJCQlzcmMxNiA9IHNyYzsKKwkJ
CXNyYzMyID0gc3JjOworCQl9CisKKwkJZm9yICh4ID0gY2xpcC0+eDE7IHggPCBjbGlwLT54Mjsg
eCsrKSB7CisJCQlpZiAoY3BwID09IDQpCisJCQkJKmRzdDMyKysgPSBzd2FiMzIoKnNyYzMyKysp
OworCQkJZWxzZQorCQkJCSpkc3QxNisrID0gc3dhYjE2KCpzcmMxNisrKTsKKwkJfQorCisJCXNy
YyArPSBmYi0+cGl0Y2hlc1swXTsKIAl9CiAKIAlrZnJlZShidWYpOwogfQotRVhQT1JUX1NZTUJP
TChkcm1fZmJfc3dhYjE2KTsKK0VYUE9SVF9TWU1CT0woZHJtX2ZiX3N3YWIpOwogCiBzdGF0aWMg
dm9pZCBkcm1fZmJfeHJnYjg4ODhfdG9fcmdiNTY1X2xpbmUodTE2ICpkYnVmLCB1MzIgKnNidWYs
CiAJCQkJCSAgIHVuc2lnbmVkIGludCBwaXhlbHMsCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vZHJtX21pcGlfZGJpLmMgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX21pcGlfZGJpLmMKaW5kZXgg
NjllMmI0MTIyY2U0Li4xNDQ3ZTI2YzAxNDUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9k
cm1fbWlwaV9kYmkuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX21pcGlfZGJpLmMKQEAgLTIx
Nyw3ICsyMTcsNyBAQCBpbnQgbWlwaV9kYmlfYnVmX2NvcHkodm9pZCAqZHN0LCBzdHJ1Y3QgZHJt
X2ZyYW1lYnVmZmVyICpmYiwKIAlzd2l0Y2ggKGZiLT5mb3JtYXQtPmZvcm1hdCkgewogCWNhc2Ug
RFJNX0ZPUk1BVF9SR0I1NjU6CiAJCWlmIChzd2FwKQotCQkJZHJtX2ZiX3N3YWIxNihkc3QsIHNy
YywgZmIsIGNsaXApOworCQkJZHJtX2ZiX3N3YWIoZHN0LCBzcmMsIGZiLCBjbGlwLCAhaW1wb3J0
X2F0dGFjaCk7CiAJCWVsc2UKIAkJCWRybV9mYl9tZW1jcHkoZHN0LCBzcmMsIGZiLCBjbGlwKTsK
IAkJYnJlYWs7CmRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS9kcm1fZm9ybWF0X2hlbHBlci5oIGIv
aW5jbHVkZS9kcm0vZHJtX2Zvcm1hdF9oZWxwZXIuaAppbmRleCBhYzIyMGFhMWEyNDUuLjVmOWUz
NzAzMjQ2OCAxMDA2NDQKLS0tIGEvaW5jbHVkZS9kcm0vZHJtX2Zvcm1hdF9oZWxwZXIuaAorKysg
Yi9pbmNsdWRlL2RybS9kcm1fZm9ybWF0X2hlbHBlci5oCkBAIC0xNCw4ICsxNCw4IEBAIHZvaWQg
ZHJtX2ZiX21lbWNweSh2b2lkICpkc3QsIHZvaWQgKnZhZGRyLCBzdHJ1Y3QgZHJtX2ZyYW1lYnVm
ZmVyICpmYiwKIHZvaWQgZHJtX2ZiX21lbWNweV9kc3RjbGlwKHZvaWQgX19pb21lbSAqZHN0LCB2
b2lkICp2YWRkciwKIAkJCSAgIHN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZiLAogCQkJICAgc3Ry
dWN0IGRybV9yZWN0ICpjbGlwKTsKLXZvaWQgZHJtX2ZiX3N3YWIxNih1MTYgKmRzdCwgdm9pZCAq
dmFkZHIsIHN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZiLAotCQkgICBzdHJ1Y3QgZHJtX3JlY3Qg
KmNsaXApOwordm9pZCBkcm1fZmJfc3dhYih2b2lkICpkc3QsIHZvaWQgKnNyYywgc3RydWN0IGRy
bV9mcmFtZWJ1ZmZlciAqZmIsCisJCSBzdHJ1Y3QgZHJtX3JlY3QgKmNsaXAsIGJvb2wgY2FjaGVk
KTsKIHZvaWQgZHJtX2ZiX3hyZ2I4ODg4X3RvX3JnYjU2NSh2b2lkICpkc3QsIHZvaWQgKnZhZGRy
LAogCQkJICAgICAgIHN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZiLAogCQkJICAgICAgIHN0cnVj
dCBkcm1fcmVjdCAqY2xpcCwgYm9vbCBzd2FiKTsKLS0gCjIuMjMuMAoKX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApk
cmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Au
b3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRldmVsCg==
