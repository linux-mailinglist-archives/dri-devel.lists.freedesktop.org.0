Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 8C70A9284E
	for <lists+dri-devel@lfdr.de>; Mon, 19 Aug 2019 17:25:06 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1493D89D77;
	Mon, 19 Aug 2019 15:24:57 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 933EE89E01;
 Mon, 19 Aug 2019 15:24:55 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga006.jf.intel.com ([10.7.209.51])
 by fmsmga106.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 19 Aug 2019 08:24:55 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,405,1559545200"; 
 d="scan'208,223";a="182898222"
Received: from ramaling-i9x.iind.intel.com ([10.99.66.154])
 by orsmga006.jf.intel.com with ESMTP; 19 Aug 2019 08:24:52 -0700
From: Ramalingam C <ramalingam.c@intel.com>
To: intel-gfx <intel-gfx@lists.freedesktop.org>,
 dri-devel <dri-devel@lists.freedesktop.org>,
 Sharma Shashank <shashank.sharma@intel.com>
Subject: [PATCH v6 3/3] drm/i915: Enable HDCP 1.4 and 2.2 on Gen12+
Date: Mon, 19 Aug 2019 20:54:12 +0530
Message-Id: <20190819152412.21318-4-ramalingam.c@intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190819152412.21318-1-ramalingam.c@intel.com>
References: <20190819152412.21318-1-ramalingam.c@intel.com>
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbSBHZW4xMiBvbndhcmRzLCBIRENQIEhXIGJsb2NrIGlzIGltcGxlbWVudGVkIHdpdGhpbiB0
cmFuc2NvZGVycy4KVGlsbCBHZW4xMSBIRENQIEhXIGJsb2NrIHdhcyBwYXJ0IG9mIERESS4KCkhl
bmNlIHJlcXVpcmVkIGNoYW5nZXMgaW4gSFcgcHJvZ3JhbW1pbmcgaXMgaGFuZGxlZCBoZXJlLgoK
QXMgTUUgRlcgbmVlZHMgdGhlIHRyYW5zY29kZXIgZGV0YWlsIG9uIHdoaWNoIEhEQ1AgaXMgZW5h
YmxlZApvbiBHZW4xMisgcGxhdGZvcm0sIHdlIGFyZSBwb3B1bGF0aW5nIHRoZSBkZXRhaWwgaW4g
aGRjcF9wb3J0X2RhdGEuCgp2MjoKICBfTU1JT19UUkFOUyBpcyB1c2VkIFtMdWNhcyBhbmQgRGFu
aWVsXQogIHBsYXRmb3JtIGNoZWNrIGlzIG1vdmVkIGludG8gdGhlIGNhbGxlciBbTHVjYXNdCnYz
OgogIHBsYXRmb3JtIGNoZWNrIGlzIG1vdmVkIGludG8gYSBtYWNybyBbU2hhc2hhbmtdCnY0Ogog
IEZldyBvcHRpbWl6YXRpb25zIGluIHRoZSBjb2RpbmcgW1NoYXNoYW5rXQp2NToKICBGaXhlZCBh
bGlnbm1lbnQgaW4gbWFjcm8gZGVmaW5pdGlvbiBpbiBpOTE1X3JlZy5oIFtTaGFzaGFua10KICB1
bnVzZWQgdmFyaWFibGVzICJyZWciIGlzIHJlbW92ZWQuCnY2OgogIENvbmZpZ3VyaW5nIHRoZSB0
cmFuc2NvZGVyIGF0IGNvbXB1dGVfY29uZmlnLgogIHRyYW5zY29kZXIgaXMgdXNlZCBpbnN0ZWFk
IG9mIHBpcGUgaW4gbWFjcm9zLgoKU2lnbmVkLW9mZi1ieTogUmFtYWxpbmdhbSBDIDxyYW1hbGlu
Z2FtLmNAaW50ZWwuY29tPgpSZXZpZXdlZC1ieTogU2hhc2hhbmsgU2hhcm1hIDxzaGFzaGFuay5z
aGFybWFAaW50ZWwuY29tPiBbdjVdCi0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9kcC5jICAgfCAgIDMgKwogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9o
ZGNwLmMgfCAxNjAgKysrKysrKysrKysrKysrLS0tLS0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9oZGNwLmggfCAgIDIgKwogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9oZG1pLmMgfCAgMTIgKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVnLmgg
ICAgICAgICAgIHwgMTI0ICsrKysrKysrKysrKysrKy0tCiA1IGZpbGVzIGNoYW5nZWQsIDIzNyBp
bnNlcnRpb25zKCspLCA2NCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2RwLmMKaW5kZXggMGViNWQ2NmY4N2E3Li4yMWE5ZmNmNzllODggMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYworKysgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwLmMKQEAgLTIyNDMsNiArMjI0Myw5IEBAIGludGVs
X2RwX2NvbXB1dGVfY29uZmlnKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAogCiAJaW50
ZWxfcHNyX2NvbXB1dGVfY29uZmlnKGludGVsX2RwLCBwaXBlX2NvbmZpZyk7CiAKKwlpbnRlbF9o
ZGNwX3RyYW5zY29kZXJfY29uZmlnKGludGVsX2Nvbm5lY3RvciwKKwkJCQkgICAgIHBpcGVfY29u
ZmlnLT5jcHVfdHJhbnNjb2Rlcik7CisKIAlyZXR1cm4gMDsKIH0KIApkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9oZGNwLmMgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2hkY3AuYwppbmRleCA3MDRkZmJjY2Y3NzQuLmNiOTFlZWE2Y2U4
NiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9oZGNwLmMK
KysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9oZGNwLmMKQEAgLTE3LDYg
KzE3LDcgQEAKICNpbmNsdWRlICJpbnRlbF9kcnYuaCIKICNpbmNsdWRlICJpbnRlbF9oZGNwLmgi
CiAjaW5jbHVkZSAiaW50ZWxfc2lkZWJhbmQuaCIKKyNpbmNsdWRlICJpbnRlbF9jb25uZWN0b3Iu
aCIKIAogI2RlZmluZSBLRVlfTE9BRF9UUklFUwk1CiAjZGVmaW5lIEVOQ1JZUFRfU1RBVFVTX0NI
QU5HRV9USU1FT1VUX01TCTUwCkBAIC0xMDQsMjQgKzEwNSwxNyBAQCBib29sIGludGVsX2hkY3Ay
X2NhcGFibGUoc3RydWN0IGludGVsX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogCXJldHVybiBjYXBh
YmxlOwogfQogCi1zdGF0aWMgaW5saW5lIGJvb2wgaW50ZWxfaGRjcF9pbl91c2Uoc3RydWN0IGlu
dGVsX2Nvbm5lY3RvciAqY29ubmVjdG9yKQorc3RhdGljIGlubGluZSBib29sIGludGVsX2hkY3Bf
aW5fdXNlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKKwkJCQkgICAgIGVudW0g
dHJhbnNjb2RlciB0YywgZW51bSBwb3J0IHBvcnQpCiB7Ci0Jc3RydWN0IGRybV9pOTE1X3ByaXZh
dGUgKmRldl9wcml2ID0gdG9faTkxNShjb25uZWN0b3ItPmJhc2UuZGV2KTsKLQllbnVtIHBvcnQg
cG9ydCA9IGNvbm5lY3Rvci0+ZW5jb2Rlci0+cG9ydDsKLQl1MzIgcmVnOwotCi0JcmVnID0gSTkx
NV9SRUFEKFBPUlRfSERDUF9TVEFUVVMocG9ydCkpOwotCXJldHVybiByZWcgJiBIRENQX1NUQVRV
U19FTkM7CisJcmV0dXJuIEk5MTVfUkVBRChIRENQX1NUQVRVUyhkZXZfcHJpdiwgdGMsIHBvcnQp
KSAmIEhEQ1BfU1RBVFVTX0VOQzsKIH0KIAotc3RhdGljIGlubGluZSBib29sIGludGVsX2hkY3Ay
X2luX3VzZShzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICpjb25uZWN0b3IpCitzdGF0aWMgaW5saW5l
IGJvb2wgaW50ZWxfaGRjcDJfaW5fdXNlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJp
diwKKwkJCQkgICAgICBlbnVtIHRyYW5zY29kZXIgdGMsIGVudW0gcG9ydCBwb3J0KQogewotCXN0
cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoY29ubmVjdG9yLT5iYXNl
LmRldik7Ci0JZW51bSBwb3J0IHBvcnQgPSBjb25uZWN0b3ItPmVuY29kZXItPnBvcnQ7Ci0JdTMy
IHJlZzsKLQotCXJlZyA9IEk5MTVfUkVBRChIRENQMl9TVEFUVVNfRERJKHBvcnQpKTsKLQlyZXR1
cm4gcmVnICYgTElOS19FTkNSWVBUSU9OX1NUQVRVUzsKKwlyZXR1cm4gSTkxNV9SRUFEKEhEQ1Ay
X1NUQVRVUyhkZXZfcHJpdiwgdGMsIHBvcnQpKSAmCisJICAgICAgIExJTktfRU5DUllQVElPTl9T
VEFUVVM7CiB9CiAKIHN0YXRpYyBpbnQgaW50ZWxfaGRjcF9wb2xsX2tzdl9maWZvKHN0cnVjdCBp
bnRlbF9kaWdpdGFsX3BvcnQgKmludGVsX2RpZ19wb3J0LApAQCAtMjUzLDkgKzI0NywyOCBAQCBz
dGF0aWMgaW50IGludGVsX3dyaXRlX3NoYV90ZXh0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpk
ZXZfcHJpdiwgdTMyIHNoYV90ZXh0KQogfQogCiBzdGF0aWMKLXUzMiBpbnRlbF9oZGNwX2dldF9y
ZXBlYXRlcl9jdGwoc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqaW50ZWxfZGlnX3BvcnQpCit1
MzIgaW50ZWxfaGRjcF9nZXRfcmVwZWF0ZXJfY3RsKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpk
ZXZfcHJpdiwKKwkJCQllbnVtIHRyYW5zY29kZXIgdGMsIGVudW0gcG9ydCBwb3J0KQogewotCWVu
dW0gcG9ydCBwb3J0ID0gaW50ZWxfZGlnX3BvcnQtPmJhc2UucG9ydDsKKwlpZiAoSU5URUxfR0VO
KGRldl9wcml2KSA+PSAxMikgeworCQlzd2l0Y2ggKHRjKSB7CisJCWNhc2UgVFJBTlNDT0RFUl9B
OgorCQkJcmV0dXJuIEhEQ1BfVFJBTlNBX1JFUF9QUkVTRU5UIHwKKwkJCSAgICAgICBIRENQX1RS
QU5TQV9TSEExX00wOworCQljYXNlIFRSQU5TQ09ERVJfQjoKKwkJCXJldHVybiBIRENQX1RSQU5T
Ql9SRVBfUFJFU0VOVCB8CisJCQkgICAgICAgSERDUF9UUkFOU0JfU0hBMV9NMDsKKwkJY2FzZSBU
UkFOU0NPREVSX0M6CisJCQlyZXR1cm4gSERDUF9UUkFOU0NfUkVQX1BSRVNFTlQgfAorCQkJICAg
ICAgIEhEQ1BfVFJBTlNDX1NIQTFfTTA7CisJCS8qIEZJWE1FOiBBZGQgYSBjYXNlIGZvciBQSVBF
X0QgKi8KKwkJZGVmYXVsdDoKKwkJCURSTV9FUlJPUigiVW5rbm93biB0cmFuc2NvZGVyICVkXG4i
LCB0Yyk7CisJCQlicmVhazsKKwkJfQorCQlyZXR1cm4gLUVJTlZBTDsKKwl9CisKIAlzd2l0Y2gg
KHBvcnQpIHsKIAljYXNlIFBPUlRfQToKIAkJcmV0dXJuIEhEQ1BfRERJQV9SRVBfUFJFU0VOVCB8
IEhEQ1BfRERJQV9TSEExX00wOwpAQCAtMjY4LDE4ICsyODEsMjEgQEAgdTMyIGludGVsX2hkY3Bf
Z2V0X3JlcGVhdGVyX2N0bChzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICppbnRlbF9kaWdfcG9y
dCkKIAljYXNlIFBPUlRfRToKIAkJcmV0dXJuIEhEQ1BfRERJRV9SRVBfUFJFU0VOVCB8IEhEQ1Bf
RERJRV9TSEExX00wOwogCWRlZmF1bHQ6CisJCURSTV9FUlJPUigiVW5rbm93biBwb3J0ICVkXG4i
LCBwb3J0KTsKIAkJYnJlYWs7CiAJfQotCURSTV9FUlJPUigiVW5rbm93biBwb3J0ICVkXG4iLCBw
b3J0KTsKIAlyZXR1cm4gLUVJTlZBTDsKIH0KIAogc3RhdGljCi1pbnQgaW50ZWxfaGRjcF92YWxp
ZGF0ZV92X3ByaW1lKHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQgKmludGVsX2RpZ19wb3J0LAor
aW50IGludGVsX2hkY3BfdmFsaWRhdGVfdl9wcmltZShzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICpj
b25uZWN0b3IsCiAJCQkJY29uc3Qgc3RydWN0IGludGVsX2hkY3Bfc2hpbSAqc2hpbSwKIAkJCQl1
OCAqa3N2X2ZpZm8sIHU4IG51bV9kb3duc3RyZWFtLCB1OCAqYnN0YXR1cykKIHsKKwlzdHJ1Y3Qg
aW50ZWxfZGlnaXRhbF9wb3J0ICppbnRlbF9kaWdfcG9ydCA9IGNvbm5fdG9fZGlnX3BvcnQoY29u
bmVjdG9yKTsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXY7CisJZW51bSB0cmFu
c2NvZGVyIHRjID0gY29ubmVjdG9yLT5oZGNwLnBvcnRfZGF0YS50YzsKKwllbnVtIHBvcnQgcG9y
dCA9IGludGVsX2RpZ19wb3J0LT5iYXNlLnBvcnQ7CiAJdTMyIHZwcmltZSwgc2hhX3RleHQsIHNo
YV9sZWZ0b3ZlcnMsIHJlcF9jdGw7CiAJaW50IHJldCwgaSwgaiwgc2hhX2lkeDsKIApAQCAtMzA2
LDcgKzMyMiw3IEBAIGludCBpbnRlbF9oZGNwX3ZhbGlkYXRlX3ZfcHJpbWUoc3RydWN0IGludGVs
X2RpZ2l0YWxfcG9ydCAqaW50ZWxfZGlnX3BvcnQsCiAJc2hhX2lkeCA9IDA7CiAJc2hhX3RleHQg
PSAwOwogCXNoYV9sZWZ0b3ZlcnMgPSAwOwotCXJlcF9jdGwgPSBpbnRlbF9oZGNwX2dldF9yZXBl
YXRlcl9jdGwoaW50ZWxfZGlnX3BvcnQpOworCXJlcF9jdGwgPSBpbnRlbF9oZGNwX2dldF9yZXBl
YXRlcl9jdGwoZGV2X3ByaXYsIHRjLCBwb3J0KTsKIAlJOTE1X1dSSVRFKEhEQ1BfUkVQX0NUTCwg
cmVwX2N0bCB8IEhEQ1BfU0hBMV9URVhUXzMyKTsKIAlmb3IgKGkgPSAwOyBpIDwgbnVtX2Rvd25z
dHJlYW07IGkrKykgewogCQl1bnNpZ25lZCBpbnQgc2hhX2VtcHR5OwpAQCAtNTQ5LDcgKzU2NSw3
IEBAIGludCBpbnRlbF9oZGNwX2F1dGhfZG93bnN0cmVhbShzdHJ1Y3QgaW50ZWxfY29ubmVjdG9y
ICpjb25uZWN0b3IpCiAJICogViBwcmltZSBhdGxlYXN0IHR3aWNlLgogCSAqLwogCWZvciAoaSA9
IDA7IGkgPCB0cmllczsgaSsrKSB7Ci0JCXJldCA9IGludGVsX2hkY3BfdmFsaWRhdGVfdl9wcmlt
ZShpbnRlbF9kaWdfcG9ydCwgc2hpbSwKKwkJcmV0ID0gaW50ZWxfaGRjcF92YWxpZGF0ZV92X3By
aW1lKGNvbm5lY3Rvciwgc2hpbSwKIAkJCQkJCSAga3N2X2ZpZm8sIG51bV9kb3duc3RyZWFtLAog
CQkJCQkJICBic3RhdHVzKTsKIAkJaWYgKCFyZXQpCkBAIC01NzcsNiArNTkzLDcgQEAgc3RhdGlj
IGludCBpbnRlbF9oZGNwX2F1dGgoc3RydWN0IGludGVsX2Nvbm5lY3RvciAqY29ubmVjdG9yKQog
CXN0cnVjdCBkcm1fZGV2aWNlICpkZXYgPSBjb25uZWN0b3ItPmJhc2UuZGV2OwogCWNvbnN0IHN0
cnVjdCBpbnRlbF9oZGNwX3NoaW0gKnNoaW0gPSBoZGNwLT5zaGltOwogCXN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdjsKKwllbnVtIHRyYW5zY29kZXIgdGMgPSBjb25uZWN0b3ItPmhk
Y3AucG9ydF9kYXRhLnRjOwogCWVudW0gcG9ydCBwb3J0OwogCXVuc2lnbmVkIGxvbmcgcjBfcHJp
bWVfZ2VuX3N0YXJ0OwogCWludCByZXQsIGksIHRyaWVzID0gMjsKQEAgLTYxNiwxOSArNjMzLDIw
IEBAIHN0YXRpYyBpbnQgaW50ZWxfaGRjcF9hdXRoKHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNv
bm5lY3RvcikKIAogCS8qIEluaXRpYWxpemUgQW4gd2l0aCAyIHJhbmRvbSB2YWx1ZXMgYW5kIGFj
cXVpcmUgaXQgKi8KIAlmb3IgKGkgPSAwOyBpIDwgMjsgaSsrKQotCQlJOTE1X1dSSVRFKFBPUlRf
SERDUF9BTklOSVQocG9ydCksIGdldF9yYW5kb21fdTMyKCkpOwotCUk5MTVfV1JJVEUoUE9SVF9I
RENQX0NPTkYocG9ydCksIEhEQ1BfQ09ORl9DQVBUVVJFX0FOKTsKKwkJSTkxNV9XUklURShIRENQ
X0FOSU5JVChkZXZfcHJpdiwgdGMsIHBvcnQpLCBnZXRfcmFuZG9tX3UzMigpKTsKKwlJOTE1X1dS
SVRFKEhEQ1BfQ09ORihkZXZfcHJpdiwgdGMsIHBvcnQpLCBIRENQX0NPTkZfQ0FQVFVSRV9BTik7
CiAKIAkvKiBXYWl0IGZvciBBbiB0byBiZSBhY3F1aXJlZCAqLwotCWlmIChpbnRlbF93YWl0X2Zv
cl9yZWdpc3RlcigmZGV2X3ByaXYtPnVuY29yZSwgUE9SVF9IRENQX1NUQVRVUyhwb3J0KSwKKwlp
ZiAoaW50ZWxfd2FpdF9mb3JfcmVnaXN0ZXIoJmRldl9wcml2LT51bmNvcmUsCisJCQkJICAgIEhE
Q1BfU1RBVFVTKGRldl9wcml2LCB0YywgcG9ydCksCiAJCQkJICAgIEhEQ1BfU1RBVFVTX0FOX1JF
QURZLAogCQkJCSAgICBIRENQX1NUQVRVU19BTl9SRUFEWSwgMSkpIHsKIAkJRFJNX0VSUk9SKCJU
aW1lZCBvdXQgd2FpdGluZyBmb3IgQW5cbiIpOwogCQlyZXR1cm4gLUVUSU1FRE9VVDsKIAl9CiAK
LQlhbi5yZWdbMF0gPSBJOTE1X1JFQUQoUE9SVF9IRENQX0FOTE8ocG9ydCkpOwotCWFuLnJlZ1sx
XSA9IEk5MTVfUkVBRChQT1JUX0hEQ1BfQU5ISShwb3J0KSk7CisJYW4ucmVnWzBdID0gSTkxNV9S
RUFEKEhEQ1BfQU5MTyhkZXZfcHJpdiwgdGMsIHBvcnQpKTsKKwlhbi5yZWdbMV0gPSBJOTE1X1JF
QUQoSERDUF9BTkhJKGRldl9wcml2LCB0YywgcG9ydCkpOwogCXJldCA9IHNoaW0tPndyaXRlX2Fu
X2Frc3YoaW50ZWxfZGlnX3BvcnQsIGFuLnNoaW0pOwogCWlmIChyZXQpCiAJCXJldHVybiByZXQ7
CkBAIC02NDYsMjQgKzY2NCwyNCBAQCBzdGF0aWMgaW50IGludGVsX2hkY3BfYXV0aChzdHJ1Y3Qg
aW50ZWxfY29ubmVjdG9yICpjb25uZWN0b3IpCiAJCXJldHVybiAtRVBFUk07CiAJfQogCi0JSTkx
NV9XUklURShQT1JUX0hEQ1BfQktTVkxPKHBvcnQpLCBia3N2LnJlZ1swXSk7Ci0JSTkxNV9XUklU
RShQT1JUX0hEQ1BfQktTVkhJKHBvcnQpLCBia3N2LnJlZ1sxXSk7CisJSTkxNV9XUklURShIRENQ
X0JLU1ZMTyhkZXZfcHJpdiwgdGMsIHBvcnQpLCBia3N2LnJlZ1swXSk7CisJSTkxNV9XUklURShI
RENQX0JLU1ZISShkZXZfcHJpdiwgdGMsIHBvcnQpLCBia3N2LnJlZ1sxXSk7CiAKIAlyZXQgPSBz
aGltLT5yZXBlYXRlcl9wcmVzZW50KGludGVsX2RpZ19wb3J0LCAmcmVwZWF0ZXJfcHJlc2VudCk7
CiAJaWYgKHJldCkKIAkJcmV0dXJuIHJldDsKIAlpZiAocmVwZWF0ZXJfcHJlc2VudCkKIAkJSTkx
NV9XUklURShIRENQX1JFUF9DVEwsCi0JCQkgICBpbnRlbF9oZGNwX2dldF9yZXBlYXRlcl9jdGwo
aW50ZWxfZGlnX3BvcnQpKTsKKwkJCSAgIGludGVsX2hkY3BfZ2V0X3JlcGVhdGVyX2N0bChkZXZf
cHJpdiwgdGMsIHBvcnQpKTsKIAogCXJldCA9IHNoaW0tPnRvZ2dsZV9zaWduYWxsaW5nKGludGVs
X2RpZ19wb3J0LCB0cnVlKTsKIAlpZiAocmV0KQogCQlyZXR1cm4gcmV0OwogCi0JSTkxNV9XUklU
RShQT1JUX0hEQ1BfQ09ORihwb3J0KSwgSERDUF9DT05GX0FVVEhfQU5EX0VOQyk7CisJSTkxNV9X
UklURShIRENQX0NPTkYoZGV2X3ByaXYsIHRjLCBwb3J0KSwgSERDUF9DT05GX0FVVEhfQU5EX0VO
Qyk7CiAKIAkvKiBXYWl0IGZvciBSMCByZWFkeSAqLwotCWlmICh3YWl0X2ZvcihJOTE1X1JFQUQo
UE9SVF9IRENQX1NUQVRVUyhwb3J0KSkgJgorCWlmICh3YWl0X2ZvcihJOTE1X1JFQUQoSERDUF9T
VEFUVVMoZGV2X3ByaXYsIHRjLCBwb3J0KSkgJgogCQkgICAgIChIRENQX1NUQVRVU19SMF9SRUFE
WSB8IEhEQ1BfU1RBVFVTX0VOQyksIDEpKSB7CiAJCURSTV9FUlJPUigiVGltZWQgb3V0IHdhaXRp
bmcgZm9yIFIwIHJlYWR5XG4iKTsKIAkJcmV0dXJuIC1FVElNRURPVVQ7CkBAIC02OTEsMjIgKzcw
OSwyMyBAQCBzdGF0aWMgaW50IGludGVsX2hkY3BfYXV0aChzdHJ1Y3QgaW50ZWxfY29ubmVjdG9y
ICpjb25uZWN0b3IpCiAJCXJldCA9IHNoaW0tPnJlYWRfcmlfcHJpbWUoaW50ZWxfZGlnX3BvcnQs
IHJpLnNoaW0pOwogCQlpZiAocmV0KQogCQkJcmV0dXJuIHJldDsKLQkJSTkxNV9XUklURShQT1JU
X0hEQ1BfUlBSSU1FKHBvcnQpLCByaS5yZWcpOworCQlJOTE1X1dSSVRFKEhEQ1BfUlBSSU1FKGRl
dl9wcml2LCB0YywgcG9ydCksIHJpLnJlZyk7CiAKIAkJLyogV2FpdCBmb3IgUmkgcHJpbWUgbWF0
Y2ggKi8KLQkJaWYgKCF3YWl0X2ZvcihJOTE1X1JFQUQoUE9SVF9IRENQX1NUQVRVUyhwb3J0KSkg
JgorCQlpZiAoIXdhaXRfZm9yKEk5MTVfUkVBRChIRENQX1NUQVRVUyhkZXZfcHJpdiwgdGMsIHBv
cnQpKSAmCiAJCSAgICAoSERDUF9TVEFUVVNfUklfTUFUQ0ggfCBIRENQX1NUQVRVU19FTkMpLCAx
KSkKIAkJCWJyZWFrOwogCX0KIAogCWlmIChpID09IHRyaWVzKSB7CiAJCURSTV9ERUJVR19LTVMo
IlRpbWVkIG91dCB3YWl0aW5nIGZvciBSaSBwcmltZSBtYXRjaCAoJXgpXG4iLAotCQkJICAgICAg
STkxNV9SRUFEKFBPUlRfSERDUF9TVEFUVVMocG9ydCkpKTsKKwkJCSAgICAgIEk5MTVfUkVBRChI
RENQX1NUQVRVUyhkZXZfcHJpdiwgdGMsIHBvcnQpKSk7CiAJCXJldHVybiAtRVRJTUVET1VUOwog
CX0KIAogCS8qIFdhaXQgZm9yIGVuY3J5cHRpb24gY29uZmlybWF0aW9uICovCi0JaWYgKGludGVs
X3dhaXRfZm9yX3JlZ2lzdGVyKCZkZXZfcHJpdi0+dW5jb3JlLCBQT1JUX0hEQ1BfU1RBVFVTKHBv
cnQpLAorCWlmIChpbnRlbF93YWl0X2Zvcl9yZWdpc3RlcigmZGV2X3ByaXYtPnVuY29yZSwKKwkJ
CQkgICAgSERDUF9TVEFUVVMoZGV2X3ByaXYsIHRjLCBwb3J0KSwKIAkJCQkgICAgSERDUF9TVEFU
VVNfRU5DLCBIRENQX1NUQVRVU19FTkMsCiAJCQkJICAgIEVOQ1JZUFRfU1RBVFVTX0NIQU5HRV9U
SU1FT1VUX01TKSkgewogCQlEUk1fRVJST1IoIlRpbWVkIG91dCB3YWl0aW5nIGZvciBlbmNyeXB0
aW9uXG4iKTsKQEAgLTczMSwxNSArNzUwLDE2IEBAIHN0YXRpYyBpbnQgX2ludGVsX2hkY3BfZGlz
YWJsZShzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICpjb25uZWN0b3IpCiAJc3RydWN0IGRybV9pOTE1
X3ByaXZhdGUgKmRldl9wcml2ID0gY29ubmVjdG9yLT5iYXNlLmRldi0+ZGV2X3ByaXZhdGU7CiAJ
c3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqaW50ZWxfZGlnX3BvcnQgPSBjb25uX3RvX2RpZ19w
b3J0KGNvbm5lY3Rvcik7CiAJZW51bSBwb3J0IHBvcnQgPSBpbnRlbF9kaWdfcG9ydC0+YmFzZS5w
b3J0OworCWVudW0gdHJhbnNjb2RlciB0YyA9IGhkY3AtPnBvcnRfZGF0YS50YzsKIAlpbnQgcmV0
OwogCiAJRFJNX0RFQlVHX0tNUygiWyVzOiVkXSBIRENQIGlzIGJlaW5nIGRpc2FibGVkLi4uXG4i
LAogCQkgICAgICBjb25uZWN0b3ItPmJhc2UubmFtZSwgY29ubmVjdG9yLT5iYXNlLmJhc2UuaWQp
OwogCiAJaGRjcC0+aGRjcF9lbmNyeXB0ZWQgPSBmYWxzZTsKLQlJOTE1X1dSSVRFKFBPUlRfSERD
UF9DT05GKHBvcnQpLCAwKTsKKwlJOTE1X1dSSVRFKEhEQ1BfQ09ORihkZXZfcHJpdiwgdGMsIHBv
cnQpLCAwKTsKIAlpZiAoaW50ZWxfd2FpdF9mb3JfcmVnaXN0ZXIoJmRldl9wcml2LT51bmNvcmUs
Ci0JCQkJICAgIFBPUlRfSERDUF9TVEFUVVMocG9ydCksIH4wLCAwLAorCQkJCSAgICBIRENQX1NU
QVRVUyhkZXZfcHJpdiwgdGMsIHBvcnQpLCB+MCwgMCwKIAkJCQkgICAgRU5DUllQVF9TVEFUVVNf
Q0hBTkdFX1RJTUVPVVRfTVMpKSB7CiAJCURSTV9FUlJPUigiRmFpbGVkIHRvIGRpc2FibGUgSERD
UCwgdGltZW91dCBjbGVhcmluZyBzdGF0dXNcbiIpOwogCQlyZXR1cm4gLUVUSU1FRE9VVDsKQEAg
LTgxMSw5ICs4MzEsMTEgQEAgc3RhdGljIGludCBpbnRlbF9oZGNwX2NoZWNrX2xpbmsoc3RydWN0
IGludGVsX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpk
ZXZfcHJpdiA9IGNvbm5lY3Rvci0+YmFzZS5kZXYtPmRldl9wcml2YXRlOwogCXN0cnVjdCBpbnRl
bF9kaWdpdGFsX3BvcnQgKmludGVsX2RpZ19wb3J0ID0gY29ubl90b19kaWdfcG9ydChjb25uZWN0
b3IpOwogCWVudW0gcG9ydCBwb3J0ID0gaW50ZWxfZGlnX3BvcnQtPmJhc2UucG9ydDsKKwllbnVt
IHRyYW5zY29kZXIgdGM7CiAJaW50IHJldCA9IDA7CiAKIAltdXRleF9sb2NrKCZoZGNwLT5tdXRl
eCk7CisJdGMgPSBoZGNwLT5wb3J0X2RhdGEudGM7CiAKIAkvKiBDaGVja19saW5rIHZhbGlkIG9u
bHkgd2hlbiBIRENQMS40IGlzIGVuYWJsZWQgKi8KIAlpZiAoaGRjcC0+dmFsdWUgIT0gRFJNX01P
REVfQ09OVEVOVF9QUk9URUNUSU9OX0VOQUJMRUQgfHwKQEAgLTgyMiwxMCArODQ0LDEwIEBAIHN0
YXRpYyBpbnQgaW50ZWxfaGRjcF9jaGVja19saW5rKHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNv
bm5lY3RvcikKIAkJZ290byBvdXQ7CiAJfQogCi0JaWYgKFdBUk5fT04oIWludGVsX2hkY3BfaW5f
dXNlKGNvbm5lY3RvcikpKSB7CisJaWYgKFdBUk5fT04oIWludGVsX2hkY3BfaW5fdXNlKGRldl9w
cml2LCB0YywgcG9ydCkpKSB7CiAJCURSTV9FUlJPUigiJXM6JWQgSERDUCBsaW5rIHN0b3BwZWQg
ZW5jcnlwdGlvbiwleFxuIiwKIAkJCSAgY29ubmVjdG9yLT5iYXNlLm5hbWUsIGNvbm5lY3Rvci0+
YmFzZS5iYXNlLmlkLAotCQkJICBJOTE1X1JFQUQoUE9SVF9IRENQX1NUQVRVUyhwb3J0KSkpOwor
CQkJICBJOTE1X1JFQUQoSERDUF9TVEFUVVMoZGV2X3ByaXYsIHRjLCBwb3J0KSkpOwogCQlyZXQg
PSAtRU5YSU87CiAJCWhkY3AtPnZhbHVlID0gRFJNX01PREVfQ09OVEVOVF9QUk9URUNUSU9OX0RF
U0lSRUQ7CiAJCXNjaGVkdWxlX3dvcmsoJmhkY3AtPnByb3Bfd29yayk7CkBAIC0xNDk2LDEwICsx
NTE4LDExIEBAIHN0YXRpYyBpbnQgaGRjcDJfZW5hYmxlX2VuY3J5cHRpb24oc3RydWN0IGludGVs
X2Nvbm5lY3RvciAqY29ubmVjdG9yKQogCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJp
diA9IHRvX2k5MTUoY29ubmVjdG9yLT5iYXNlLmRldik7CiAJc3RydWN0IGludGVsX2hkY3AgKmhk
Y3AgPSAmY29ubmVjdG9yLT5oZGNwOwogCWVudW0gcG9ydCBwb3J0ID0gY29ubmVjdG9yLT5lbmNv
ZGVyLT5wb3J0OworCWVudW0gdHJhbnNjb2RlciB0YyA9IGhkY3AtPnBvcnRfZGF0YS50YzsKIAlp
bnQgcmV0OwogCi0JV0FSTl9PTihJOTE1X1JFQUQoSERDUDJfU1RBVFVTX0RESShwb3J0KSkgJiBM
SU5LX0VOQ1JZUFRJT05fU1RBVFVTKTsKLQorCVdBUk5fT04oSTkxNV9SRUFEKEhEQ1AyX1NUQVRV
UyhkZXZfcHJpdiwgdGMsIHBvcnQpKSAmCisJCUxJTktfRU5DUllQVElPTl9TVEFUVVMpOwogCWlm
IChoZGNwLT5zaGltLT50b2dnbGVfc2lnbmFsbGluZykgewogCQlyZXQgPSBoZGNwLT5zaGltLT50
b2dnbGVfc2lnbmFsbGluZyhpbnRlbF9kaWdfcG9ydCwgdHJ1ZSk7CiAJCWlmIChyZXQpIHsKQEAg
LTE1MDksMTQgKzE1MzIsMTUgQEAgc3RhdGljIGludCBoZGNwMl9lbmFibGVfZW5jcnlwdGlvbihz
dHJ1Y3QgaW50ZWxfY29ubmVjdG9yICpjb25uZWN0b3IpCiAJCX0KIAl9CiAKLQlpZiAoSTkxNV9S
RUFEKEhEQ1AyX1NUQVRVU19EREkocG9ydCkpICYgTElOS19BVVRIX1NUQVRVUykgeworCWlmIChJ
OTE1X1JFQUQoSERDUDJfU1RBVFVTKGRldl9wcml2LCB0YywgcG9ydCkpICYgTElOS19BVVRIX1NU
QVRVUykgewogCQkvKiBMaW5rIGlzIEF1dGhlbnRpY2F0ZWQuIE5vdyBzZXQgZm9yIEVuY3J5cHRp
b24gKi8KLQkJSTkxNV9XUklURShIRENQMl9DVExfRERJKHBvcnQpLAotCQkJICAgSTkxNV9SRUFE
KEhEQ1AyX0NUTF9EREkocG9ydCkpIHwKKwkJSTkxNV9XUklURShIRENQMl9DVEwoZGV2X3ByaXYs
IHRjLCBwb3J0KSwKKwkJCSAgIEk5MTVfUkVBRChIRENQMl9DVEwoZGV2X3ByaXYsIHRjLCBwb3J0
KSkgfAogCQkJICAgQ1RMX0xJTktfRU5DUllQVElPTl9SRVEpOwogCX0KIAotCXJldCA9IGludGVs
X3dhaXRfZm9yX3JlZ2lzdGVyKCZkZXZfcHJpdi0+dW5jb3JlLCBIRENQMl9TVEFUVVNfRERJKHBv
cnQpLAorCXJldCA9IGludGVsX3dhaXRfZm9yX3JlZ2lzdGVyKCZkZXZfcHJpdi0+dW5jb3JlLAor
CQkJCSAgICAgIEhEQ1AyX1NUQVRVUyhkZXZfcHJpdiwgdGMsIHBvcnQpLAogCQkJCSAgICAgIExJ
TktfRU5DUllQVElPTl9TVEFUVVMsCiAJCQkJICAgICAgTElOS19FTkNSWVBUSU9OX1NUQVRVUywK
IAkJCQkgICAgICBFTkNSWVBUX1NUQVRVU19DSEFOR0VfVElNRU9VVF9NUyk7CkBAIC0xNTMwLDE0
ICsxNTU0LDE3IEBAIHN0YXRpYyBpbnQgaGRjcDJfZGlzYWJsZV9lbmNyeXB0aW9uKHN0cnVjdCBp
bnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvcikKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2
X3ByaXYgPSB0b19pOTE1KGNvbm5lY3Rvci0+YmFzZS5kZXYpOwogCXN0cnVjdCBpbnRlbF9oZGNw
ICpoZGNwID0gJmNvbm5lY3Rvci0+aGRjcDsKIAllbnVtIHBvcnQgcG9ydCA9IGNvbm5lY3Rvci0+
ZW5jb2Rlci0+cG9ydDsKKwllbnVtIHRyYW5zY29kZXIgdGMgPSBoZGNwLT5wb3J0X2RhdGEudGM7
CiAJaW50IHJldDsKIAotCVdBUk5fT04oIShJOTE1X1JFQUQoSERDUDJfU1RBVFVTX0RESShwb3J0
KSkgJiBMSU5LX0VOQ1JZUFRJT05fU1RBVFVTKSk7Ci0KLQlJOTE1X1dSSVRFKEhEQ1AyX0NUTF9E
REkocG9ydCksCi0JCSAgIEk5MTVfUkVBRChIRENQMl9DVExfRERJKHBvcnQpKSAmIH5DVExfTElO
S19FTkNSWVBUSU9OX1JFUSk7CisJV0FSTl9PTighKEk5MTVfUkVBRChIRENQMl9TVEFUVVMoZGV2
X3ByaXYsIHRjLCBwb3J0KSkgJgorCQlMSU5LX0VOQ1JZUFRJT05fU1RBVFVTKSk7CisJSTkxNV9X
UklURShIRENQMl9DVEwoZGV2X3ByaXYsIHRjLCBwb3J0KSwKKwkJICAgSTkxNV9SRUFEKEhEQ1Ay
X0NUTChkZXZfcHJpdiwgdGMsIHBvcnQpKSAmCisJCSAgIH5DVExfTElOS19FTkNSWVBUSU9OX1JF
USk7CiAKLQlyZXQgPSBpbnRlbF93YWl0X2Zvcl9yZWdpc3RlcigmZGV2X3ByaXYtPnVuY29yZSwg
SERDUDJfU1RBVFVTX0RESShwb3J0KSwKKwlyZXQgPSBpbnRlbF93YWl0X2Zvcl9yZWdpc3Rlcigm
ZGV2X3ByaXYtPnVuY29yZSwKKwkJCQkgICAgICBIRENQMl9TVEFUVVMoZGV2X3ByaXYsIHRjLCBw
b3J0KSwKIAkJCQkgICAgICBMSU5LX0VOQ1JZUFRJT05fU1RBVFVTLCAweDAsCiAJCQkJICAgICAg
RU5DUllQVF9TVEFUVVNfQ0hBTkdFX1RJTUVPVVRfTVMpOwogCWlmIChyZXQgPT0gLUVUSU1FRE9V
VCkKQEAgLTE2MzYsOSArMTY2MywxMSBAQCBzdGF0aWMgaW50IGludGVsX2hkY3AyX2NoZWNrX2xp
bmsoc3RydWN0IGludGVsX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogCXN0cnVjdCBkcm1faTkxNV9w
cml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoY29ubmVjdG9yLT5iYXNlLmRldik7CiAJc3RydWN0
IGludGVsX2hkY3AgKmhkY3AgPSAmY29ubmVjdG9yLT5oZGNwOwogCWVudW0gcG9ydCBwb3J0ID0g
Y29ubmVjdG9yLT5lbmNvZGVyLT5wb3J0OworCWVudW0gdHJhbnNjb2RlciB0YzsKIAlpbnQgcmV0
ID0gMDsKIAogCW11dGV4X2xvY2soJmhkY3AtPm11dGV4KTsKKwl0YyA9IGhkY3AtPnBvcnRfZGF0
YS50YzsKIAogCS8qIGhkY3AyX2NoZWNrX2xpbmsgaXMgZXhwZWN0ZWQgb25seSB3aGVuIEhEQ1Ay
LjIgaXMgRW5hYmxlZCAqLwogCWlmIChoZGNwLT52YWx1ZSAhPSBEUk1fTU9ERV9DT05URU5UX1BS
T1RFQ1RJT05fRU5BQkxFRCB8fApAQCAtMTY0Nyw5ICsxNjc2LDkgQEAgc3RhdGljIGludCBpbnRl
bF9oZGNwMl9jaGVja19saW5rKHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvcikKIAkJ
Z290byBvdXQ7CiAJfQogCi0JaWYgKFdBUk5fT04oIWludGVsX2hkY3AyX2luX3VzZShjb25uZWN0
b3IpKSkgeworCWlmIChXQVJOX09OKCFpbnRlbF9oZGNwMl9pbl91c2UoZGV2X3ByaXYsIHRjLCBw
b3J0KSkpIHsKIAkJRFJNX0VSUk9SKCJIRENQMi4yIGxpbmsgc3RvcHBlZCB0aGUgZW5jcnlwdGlv
biwgJXhcbiIsCi0JCQkgIEk5MTVfUkVBRChIRENQMl9TVEFUVVNfRERJKHBvcnQpKSk7CisJCQkg
IEk5MTVfUkVBRChIRENQMl9TVEFUVVMoZGV2X3ByaXYsIHRjLCBwb3J0KSkpOwogCQlyZXQgPSAt
RU5YSU87CiAJCWhkY3AtPnZhbHVlID0gRFJNX01PREVfQ09OVEVOVF9QUk9URUNUSU9OX0RFU0lS
RUQ7CiAJCXNjaGVkdWxlX3dvcmsoJmhkY3AtPnByb3Bfd29yayk7CkBAIC0xNzU2LDEwICsxNzg1
LDIxIEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgY29tcG9uZW50X29wcyBpOTE1X2hkY3BfY29tcG9u
ZW50X29wcyA9IHsKIHN0YXRpYyBpbmxpbmUgaW50IGluaXRpYWxpemVfaGRjcF9wb3J0X2RhdGEo
c3RydWN0IGludGVsX2Nvbm5lY3RvciAqY29ubmVjdG9yLAogCQkJCQkgICAgY29uc3Qgc3RydWN0
IGludGVsX2hkY3Bfc2hpbSAqc2hpbSkKIHsKKwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2
X3ByaXYgPSB0b19pOTE1KGNvbm5lY3Rvci0+YmFzZS5kZXYpOwogCXN0cnVjdCBpbnRlbF9oZGNw
ICpoZGNwID0gJmNvbm5lY3Rvci0+aGRjcDsKIAlzdHJ1Y3QgaGRjcF9wb3J0X2RhdGEgKmRhdGEg
PSAmaGRjcC0+cG9ydF9kYXRhOworCXN0cnVjdCBpbnRlbF9jcnRjICpjcnRjOworCisJaWYgKElO
VEVMX0dFTihkZXZfcHJpdikgPCAxMikgeworCQlkYXRhLT5wb3J0ID0gY29ubmVjdG9yLT5lbmNv
ZGVyLT5wb3J0OworCQlkYXRhLT50YyA9IElOVkFMSURfVFJBTlNDT0RFUjsKKwl9IGVsc2Ugewor
CQljcnRjID0gdG9faW50ZWxfY3J0Yyhjb25uZWN0b3ItPmJhc2Uuc3RhdGUtPmNydGMpOworCQlp
ZiAoY3J0YykKKwkJCWRhdGEtPnRjID0gY3J0Yy0+Y29uZmlnLT5jcHVfdHJhbnNjb2RlcjsKKwkJ
ZGF0YS0+cG9ydCA9IFBPUlRfTk9ORTsKKwl9CiAKLQlkYXRhLT5wb3J0ID0gY29ubmVjdG9yLT5l
bmNvZGVyLT5wb3J0OwogCWRhdGEtPnBvcnRfdHlwZSA9ICh1OClIRENQX1BPUlRfVFlQRV9JTlRF
R1JBVEVEOwogCWRhdGEtPnByb3RvY29sID0gKHU4KXNoaW0tPnByb3RvY29sOwogCkBAIC0xODI2
LDYgKzE4NjYsMjIgQEAgc3RhdGljIHZvaWQgaW50ZWxfaGRjcDJfaW5pdChzdHJ1Y3QgaW50ZWxf
Y29ubmVjdG9yICpjb25uZWN0b3IsCiAJaGRjcC0+aGRjcDJfc3VwcG9ydGVkID0gdHJ1ZTsKIH0K
IAordm9pZCBpbnRlbF9oZGNwX3RyYW5zY29kZXJfY29uZmlnKHN0cnVjdCBpbnRlbF9jb25uZWN0
b3IgKmNvbm5lY3RvciwKKwkJCQkgZW51bSB0cmFuc2NvZGVyIHRyYW5zKQoreworCXN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoY29ubmVjdG9yLT5iYXNlLmRldik7
CisJc3RydWN0IGludGVsX2hkY3AgKmhkY3AgPSAmY29ubmVjdG9yLT5oZGNwOworCisJaWYgKCFo
ZGNwLT5zaGltKQorCQlyZXR1cm47CisKKwlpZiAoSU5URUxfR0VOKGRldl9wcml2KSA+PSAxMikg
eworCQltdXRleF9sb2NrKCZoZGNwLT5tdXRleCk7CisJCWhkY3AtPnBvcnRfZGF0YS50YyA9IHRy
YW5zOworCQltdXRleF91bmxvY2soJmhkY3AtPm11dGV4KTsKKwl9Cit9CisKIGludCBpbnRlbF9o
ZGNwX2luaXQoc3RydWN0IGludGVsX2Nvbm5lY3RvciAqY29ubmVjdG9yLAogCQkgICAgY29uc3Qg
c3RydWN0IGludGVsX2hkY3Bfc2hpbSAqc2hpbSkKIHsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfaGRjcC5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF9oZGNwLmgKaW5kZXggMTM1NTViMDU0OTMwLi4xMDQxYjJjMTFmZTkgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfaGRjcC5oCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfaGRjcC5oCkBAIC0xOSw2ICsxOSw4IEBA
IHN0cnVjdCBpbnRlbF9oZGNwX3NoaW07CiB2b2lkIGludGVsX2hkY3BfYXRvbWljX2NoZWNrKHN0
cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IsCiAJCQkgICAgIHN0cnVjdCBkcm1fY29ubmVj
dG9yX3N0YXRlICpvbGRfc3RhdGUsCiAJCQkgICAgIHN0cnVjdCBkcm1fY29ubmVjdG9yX3N0YXRl
ICpuZXdfc3RhdGUpOwordm9pZCBpbnRlbF9oZGNwX3RyYW5zY29kZXJfY29uZmlnKHN0cnVjdCBp
bnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvciwKKwkJCQkgIGVudW0gdHJhbnNjb2RlciB0cmFucyk7
CiBpbnQgaW50ZWxfaGRjcF9pbml0KHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvciwK
IAkJICAgIGNvbnN0IHN0cnVjdCBpbnRlbF9oZGNwX3NoaW0gKmhkY3Bfc2hpbSk7CiBpbnQgaW50
ZWxfaGRjcF9lbmFibGUoc3RydWN0IGludGVsX2Nvbm5lY3RvciAqY29ubmVjdG9yLCB1OCBjb250
ZW50X3R5cGUpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9oZG1pLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2hkbWkuYwppbmRl
eCA5YmYyOGRlMTA0MDEuLmZlZjgzOTJmZGM2MSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9oZG1pLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF9oZG1pLmMKQEAgLTE0OTEsNyArMTQ5MSwxMCBAQCBib29sIGludGVsX2hkbWlf
aGRjcF9jaGVja19saW5rKHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQgKmludGVsX2RpZ19wb3J0
KQogewogCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9CiAJCWludGVsX2RpZ19w
b3J0LT5iYXNlLmJhc2UuZGV2LT5kZXZfcHJpdmF0ZTsKKwlzdHJ1Y3QgaW50ZWxfY29ubmVjdG9y
ICpjb25uZWN0b3IgPQorCQlpbnRlbF9kaWdfcG9ydC0+aGRtaS5hdHRhY2hlZF9jb25uZWN0b3I7
CiAJZW51bSBwb3J0IHBvcnQgPSBpbnRlbF9kaWdfcG9ydC0+YmFzZS5wb3J0OworCWVudW0gdHJh
bnNjb2RlciB0YyA9IGNvbm5lY3Rvci0+aGRjcC5wb3J0X2RhdGEudGM7CiAJaW50IHJldDsKIAl1
bmlvbiB7CiAJCXUzMiByZWc7CkBAIC0xNTAyLDEzICsxNTA1LDEzIEBAIGJvb2wgaW50ZWxfaGRt
aV9oZGNwX2NoZWNrX2xpbmsoc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqaW50ZWxfZGlnX3Bv
cnQpCiAJaWYgKHJldCkKIAkJcmV0dXJuIGZhbHNlOwogCi0JSTkxNV9XUklURShQT1JUX0hEQ1Bf
UlBSSU1FKHBvcnQpLCByaS5yZWcpOworCUk5MTVfV1JJVEUoSERDUF9SUFJJTUUoZGV2X3ByaXYs
IHRjLCBwb3J0KSwgcmkucmVnKTsKIAogCS8qIFdhaXQgZm9yIFJpIHByaW1lIG1hdGNoICovCi0J
aWYgKHdhaXRfZm9yKEk5MTVfUkVBRChQT1JUX0hEQ1BfU1RBVFVTKHBvcnQpKSAmCisJaWYgKHdh
aXRfZm9yKEk5MTVfUkVBRChIRENQX1NUQVRVUyhkZXZfcHJpdiwgdGMsIHBvcnQpKSAmCiAJCSAg
ICAgKEhEQ1BfU1RBVFVTX1JJX01BVENIIHwgSERDUF9TVEFUVVNfRU5DKSwgMSkpIHsKIAkJRFJN
X0VSUk9SKCJSaScgbWlzbWF0Y2ggZGV0ZWN0ZWQsIGxpbmsgY2hlY2sgZmFpbGVkICgleClcbiIs
Ci0JCQkgIEk5MTVfUkVBRChQT1JUX0hEQ1BfU1RBVFVTKHBvcnQpKSk7CisJCQkgIEk5MTVfUkVB
RChIRENQX1NUQVRVUyhkZXZfcHJpdiwgdGMsIHBvcnQpKSk7CiAJCXJldHVybiBmYWxzZTsKIAl9
CiAJcmV0dXJuIHRydWU7CkBAIC0yNDMyLDYgKzI0MzUsOSBAQCBpbnQgaW50ZWxfaGRtaV9jb21w
dXRlX2NvbmZpZyhzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKIAkJcmV0dXJuIC1FSU5W
QUw7CiAJfQogCisJaW50ZWxfaGRjcF90cmFuc2NvZGVyX2NvbmZpZyhpbnRlbF9oZG1pLT5hdHRh
Y2hlZF9jb25uZWN0b3IsCisJCQkJICAgICBwaXBlX2NvbmZpZy0+Y3B1X3RyYW5zY29kZXIpOwor
CiAJcmV0dXJuIDA7CiB9CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
cmVnLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oCmluZGV4IGQ3NjA4MzBjZmQ3
Yi4uMDEyM2UwNjE2NzcyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3Jl
Zy5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVnLmgKQEAgLTkzMTYsMTIgKzkz
MTYsMjAgQEAgZW51bSBza2xfcG93ZXJfZ2F0ZSB7CiAKIC8qIEhEQ1AgUmVwZWF0ZXIgUmVnaXN0
ZXJzICovCiAjZGVmaW5lIEhEQ1BfUkVQX0NUTAkJCV9NTUlPKDB4NjZkMDApCisjZGVmaW5lICBI
RENQX1RSQU5TQV9SRVBfUFJFU0VOVAlCSVQoMzEpCisjZGVmaW5lICBIRENQX1RSQU5TQl9SRVBf
UFJFU0VOVAlCSVQoMzApCisjZGVmaW5lICBIRENQX1RSQU5TQ19SRVBfUFJFU0VOVAlCSVQoMjkp
CisjZGVmaW5lICBIRENQX1RSQU5TRF9SRVBfUFJFU0VOVAlCSVQoMjgpCiAjZGVmaW5lICBIRENQ
X0RESUJfUkVQX1BSRVNFTlQJCUJJVCgzMCkKICNkZWZpbmUgIEhEQ1BfRERJQV9SRVBfUFJFU0VO
VAkJQklUKDI5KQogI2RlZmluZSAgSERDUF9ERElDX1JFUF9QUkVTRU5UCQlCSVQoMjgpCiAjZGVm
aW5lICBIRENQX0RESURfUkVQX1BSRVNFTlQJCUJJVCgyNykKICNkZWZpbmUgIEhEQ1BfRERJRl9S
RVBfUFJFU0VOVAkJQklUKDI2KQogI2RlZmluZSAgSERDUF9ERElFX1JFUF9QUkVTRU5UCQlCSVQo
MjUpCisjZGVmaW5lICBIRENQX1RSQU5TQV9TSEExX00wCQkoMSA8PCAyMCkKKyNkZWZpbmUgIEhE
Q1BfVFJBTlNCX1NIQTFfTTAJCSgyIDw8IDIwKQorI2RlZmluZSAgSERDUF9UUkFOU0NfU0hBMV9N
MAkJKDMgPDwgMjApCisjZGVmaW5lICBIRENQX1RSQU5TRF9TSEExX00wCQkoNCA8PCAyMCkKICNk
ZWZpbmUgIEhEQ1BfRERJQl9TSEExX00wCQkoMSA8PCAyMCkKICNkZWZpbmUgIEhEQ1BfRERJQV9T
SEExX00wCQkoMiA8PCAyMCkKICNkZWZpbmUgIEhEQ1BfRERJQ19TSEExX00wCQkoMyA8PCAyMCkK
QEAgLTkzNjEsMTUgKzkzNjksOTIgQEAgZW51bSBza2xfcG93ZXJfZ2F0ZSB7CiAJCQkJCSAgX1BP
UlRFX0hEQ1BfQVVUSEVOQywgXAogCQkJCQkgIF9QT1JURl9IRENQX0FVVEhFTkMpICsgKHgpKQog
I2RlZmluZSBQT1JUX0hEQ1BfQ09ORihwb3J0KQkJX1BPUlRfSERDUF9BVVRIRU5DKHBvcnQsIDB4
MCkKKyNkZWZpbmUgX1RSQU5TQV9IRENQX0NPTkYJCTB4NjY0MDAKKyNkZWZpbmUgX1RSQU5TQl9I
RENQX0NPTkYJCTB4NjY1MDAKKyNkZWZpbmUgVFJBTlNfSERDUF9DT05GKHRyYW5zKQkJX01NSU9f
VFJBTlModHJhbnMsIF9UUkFOU0FfSERDUF9DT05GLCBcCisJCQkJCQkgICAgX1RSQU5TQl9IRENQ
X0NPTkYpCisjZGVmaW5lIEhEQ1BfQ09ORihkZXZfcHJpdiwgdHJhbnMsIHBvcnQpIFwKKwkJCQkJ
KElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTIgPyBcCisJCQkJCSBUUkFOU19IRENQX0NPTkYodHJh
bnMpIDogXAorCQkJCQkgUE9SVF9IRENQX0NPTkYocG9ydCkpCisKICNkZWZpbmUgIEhEQ1BfQ09O
Rl9DQVBUVVJFX0FOCQlCSVQoMCkKICNkZWZpbmUgIEhEQ1BfQ09ORl9BVVRIX0FORF9FTkMJCShC
SVQoMSkgfCBCSVQoMCkpCiAjZGVmaW5lIFBPUlRfSERDUF9BTklOSVQocG9ydCkJCV9QT1JUX0hE
Q1BfQVVUSEVOQyhwb3J0LCAweDQpCisjZGVmaW5lIF9UUkFOU0FfSERDUF9BTklOSVQJCTB4NjY0
MDQKKyNkZWZpbmUgX1RSQU5TQl9IRENQX0FOSU5JVAkJMHg2NjUwNAorI2RlZmluZSBUUkFOU19I
RENQX0FOSU5JVCh0cmFucykJX01NSU9fVFJBTlModHJhbnMsIFwKKwkJCQkJCSAgICBfVFJBTlNB
X0hEQ1BfQU5JTklULCBcCisJCQkJCQkgICAgX1RSQU5TQl9IRENQX0FOSU5JVCkKKyNkZWZpbmUg
SERDUF9BTklOSVQoZGV2X3ByaXYsIHRyYW5zLCBwb3J0KSBcCisJCQkJCShJTlRFTF9HRU4oZGV2
X3ByaXYpID49IDEyID8gXAorCQkJCQkgVFJBTlNfSERDUF9BTklOSVQodHJhbnMpIDogXAorCQkJ
CQkgUE9SVF9IRENQX0FOSU5JVChwb3J0KSkKKwogI2RlZmluZSBQT1JUX0hEQ1BfQU5MTyhwb3J0
KQkJX1BPUlRfSERDUF9BVVRIRU5DKHBvcnQsIDB4OCkKKyNkZWZpbmUgX1RSQU5TQV9IRENQX0FO
TE8JCTB4NjY0MDgKKyNkZWZpbmUgX1RSQU5TQl9IRENQX0FOTE8JCTB4NjY1MDgKKyNkZWZpbmUg
VFJBTlNfSERDUF9BTkxPKHRyYW5zKQkJX01NSU9fVFJBTlModHJhbnMsIF9UUkFOU0FfSERDUF9B
TkxPLCBcCisJCQkJCQkgICAgX1RSQU5TQl9IRENQX0FOTE8pCisjZGVmaW5lIEhEQ1BfQU5MTyhk
ZXZfcHJpdiwgdHJhbnMsIHBvcnQpIFwKKwkJCQkJKElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTIg
PyBcCisJCQkJCSBUUkFOU19IRENQX0FOTE8odHJhbnMpIDogXAorCQkJCQkgUE9SVF9IRENQX0FO
TE8ocG9ydCkpCisKICNkZWZpbmUgUE9SVF9IRENQX0FOSEkocG9ydCkJCV9QT1JUX0hEQ1BfQVVU
SEVOQyhwb3J0LCAweEMpCisjZGVmaW5lIF9UUkFOU0FfSERDUF9BTkhJCQkweDY2NDBDCisjZGVm
aW5lIF9UUkFOU0JfSERDUF9BTkhJCQkweDY2NTBDCisjZGVmaW5lIFRSQU5TX0hEQ1BfQU5ISSh0
cmFucykJCV9NTUlPX1RSQU5TKHRyYW5zLCBfVFJBTlNBX0hEQ1BfQU5ISSwgXAorCQkJCQkJICAg
IF9UUkFOU0JfSERDUF9BTkhJKQorI2RlZmluZSBIRENQX0FOSEkoZGV2X3ByaXYsIHRyYW5zLCBw
b3J0KSBcCisJCQkJCShJTlRFTF9HRU4oZGV2X3ByaXYpID49IDEyID8gXAorCQkJCQkgVFJBTlNf
SERDUF9BTkhJKHRyYW5zKSA6IFwKKwkJCQkJIFBPUlRfSERDUF9BTkhJKHBvcnQpKQorCiAjZGVm
aW5lIFBPUlRfSERDUF9CS1NWTE8ocG9ydCkJCV9QT1JUX0hEQ1BfQVVUSEVOQyhwb3J0LCAweDEw
KQorI2RlZmluZSBfVFJBTlNBX0hEQ1BfQktTVkxPCQkweDY2NDEwCisjZGVmaW5lIF9UUkFOU0Jf
SERDUF9CS1NWTE8JCTB4NjY1MTAKKyNkZWZpbmUgVFJBTlNfSERDUF9CS1NWTE8odHJhbnMpCV9N
TUlPX1RSQU5TKHRyYW5zLCBcCisJCQkJCQkgICAgX1RSQU5TQV9IRENQX0JLU1ZMTywgXAorCQkJ
CQkJICAgIF9UUkFOU0JfSERDUF9CS1NWTE8pCisjZGVmaW5lIEhEQ1BfQktTVkxPKGRldl9wcml2
LCB0cmFucywgcG9ydCkgXAorCQkJCQkoSU5URUxfR0VOKGRldl9wcml2KSA+PSAxMiA/IFwKKwkJ
CQkJIFRSQU5TX0hEQ1BfQktTVkxPKHRyYW5zKSA6IFwKKwkJCQkJIFBPUlRfSERDUF9CS1NWTE8o
cG9ydCkpCisKICNkZWZpbmUgUE9SVF9IRENQX0JLU1ZISShwb3J0KQkJX1BPUlRfSERDUF9BVVRI
RU5DKHBvcnQsIDB4MTQpCisjZGVmaW5lIF9UUkFOU0FfSERDUF9CS1NWSEkJCTB4NjY0MTQKKyNk
ZWZpbmUgX1RSQU5TQl9IRENQX0JLU1ZISQkJMHg2NjUxNAorI2RlZmluZSBUUkFOU19IRENQX0JL
U1ZISSh0cmFucykJX01NSU9fVFJBTlModHJhbnMsIFwKKwkJCQkJCSAgICBfVFJBTlNBX0hEQ1Bf
QktTVkhJLCBcCisJCQkJCQkgICAgX1RSQU5TQl9IRENQX0JLU1ZISSkKKyNkZWZpbmUgSERDUF9C
S1NWSEkoZGV2X3ByaXYsIHRyYW5zLCBwb3J0KSBcCisJCQkJCShJTlRFTF9HRU4oZGV2X3ByaXYp
ID49IDEyID8gXAorCQkJCQkgVFJBTlNfSERDUF9CS1NWSEkodHJhbnMpIDogXAorCQkJCQkgUE9S
VF9IRENQX0JLU1ZISShwb3J0KSkKKwogI2RlZmluZSBQT1JUX0hEQ1BfUlBSSU1FKHBvcnQpCQlf
UE9SVF9IRENQX0FVVEhFTkMocG9ydCwgMHgxOCkKKyNkZWZpbmUgX1RSQU5TQV9IRENQX1JQUklN
RQkJMHg2NjQxOAorI2RlZmluZSBfVFJBTlNCX0hEQ1BfUlBSSU1FCQkweDY2NTE4CisjZGVmaW5l
IFRSQU5TX0hEQ1BfUlBSSU1FKHRyYW5zKQlfTU1JT19UUkFOUyh0cmFucywgXAorCQkJCQkJICAg
IF9UUkFOU0FfSERDUF9SUFJJTUUsIFwKKwkJCQkJCSAgICBfVFJBTlNCX0hEQ1BfUlBSSU1FKQor
I2RlZmluZSBIRENQX1JQUklNRShkZXZfcHJpdiwgdHJhbnMsIHBvcnQpIFwKKwkJCQkJKElOVEVM
X0dFTihkZXZfcHJpdikgPj0gMTIgPyBcCisJCQkJCSBUUkFOU19IRENQX1JQUklNRSh0cmFucykg
OiBcCisJCQkJCSBQT1JUX0hEQ1BfUlBSSU1FKHBvcnQpKQorCiAjZGVmaW5lIFBPUlRfSERDUF9T
VEFUVVMocG9ydCkJCV9QT1JUX0hEQ1BfQVVUSEVOQyhwb3J0LCAweDFDKQorI2RlZmluZSBfVFJB
TlNBX0hEQ1BfU1RBVFVTCQkweDY2NDFDCisjZGVmaW5lIF9UUkFOU0JfSERDUF9TVEFUVVMJCTB4
NjY1MUMKKyNkZWZpbmUgVFJBTlNfSERDUF9TVEFUVVModHJhbnMpCV9NTUlPX1RSQU5TKHRyYW5z
LCBcCisJCQkJCQkgICAgX1RSQU5TQV9IRENQX1NUQVRVUywgXAorCQkJCQkJICAgIF9UUkFOU0Jf
SERDUF9TVEFUVVMpCisjZGVmaW5lIEhEQ1BfU1RBVFVTKGRldl9wcml2LCB0cmFucywgcG9ydCkg
XAorCQkJCQkoSU5URUxfR0VOKGRldl9wcml2KSA+PSAxMiA/IFwKKwkJCQkJIFRSQU5TX0hEQ1Bf
U1RBVFVTKHRyYW5zKSA6IFwKKwkJCQkJIFBPUlRfSERDUF9TVEFUVVMocG9ydCkpCisKICNkZWZp
bmUgIEhEQ1BfU1RBVFVTX1NUUkVBTV9BX0VOQwlCSVQoMzEpCiAjZGVmaW5lICBIRENQX1NUQVRV
U19TVFJFQU1fQl9FTkMJQklUKDMwKQogI2RlZmluZSAgSERDUF9TVEFUVVNfU1RSRUFNX0NfRU5D
CUJJVCgyOSkKQEAgLTkzOTYsMjMgKzk0ODEsNDQgQEAgZW51bSBza2xfcG93ZXJfZ2F0ZSB7CiAJ
CQkJCSAgX1BPUlREX0hEQ1AyX0JBU0UsIFwKIAkJCQkJICBfUE9SVEVfSERDUDJfQkFTRSwgXAog
CQkJCQkgIF9QT1JURl9IRENQMl9CQVNFKSArICh4KSkKLQotI2RlZmluZSBIRENQMl9BVVRIX0RE
SShwb3J0KQkJX1BPUlRfSERDUDJfQkFTRShwb3J0LCAweDk4KQorI2RlZmluZSBQT1JUX0hEQ1Ay
X0FVVEgocG9ydCkJCV9QT1JUX0hEQ1AyX0JBU0UocG9ydCwgMHg5OCkKKyNkZWZpbmUgX1RSQU5T
QV9IRENQMl9BVVRICQkweDY2NDk4CisjZGVmaW5lIF9UUkFOU0JfSERDUDJfQVVUSAkJMHg2NjU5
OAorI2RlZmluZSBUUkFOU19IRENQMl9BVVRIKHRyYW5zKQkJX01NSU9fVFJBTlModHJhbnMsIF9U
UkFOU0FfSERDUDJfQVVUSCwgXAorCQkJCQkJICAgIF9UUkFOU0JfSERDUDJfQVVUSCkKICNkZWZp
bmUgICBBVVRIX0xJTktfQVVUSEVOVElDQVRFRAlCSVQoMzEpCiAjZGVmaW5lICAgQVVUSF9MSU5L
X1RZUEUJCUJJVCgzMCkKICNkZWZpbmUgICBBVVRIX0ZPUkNFX0NMUl9JTlBVVENUUglCSVQoMTkp
CiAjZGVmaW5lICAgQVVUSF9DTFJfS0VZUwkJCUJJVCgxOCkKLQotI2RlZmluZSBIRENQMl9DVExf
RERJKHBvcnQpCQlfUE9SVF9IRENQMl9CQVNFKHBvcnQsIDB4QjApCisjZGVmaW5lIEhEQ1AyX0FV
VEgoZGV2X3ByaXYsIHRyYW5zLCBwb3J0KSBcCisJCQkJCShJTlRFTF9HRU4oZGV2X3ByaXYpID49
IDEyID8gXAorCQkJCQkgVFJBTlNfSERDUDJfQVVUSCh0cmFucykgOiBcCisJCQkJCSBQT1JUX0hE
Q1AyX0FVVEgocG9ydCkpCisKKyNkZWZpbmUgUE9SVF9IRENQMl9DVEwocG9ydCkJCV9QT1JUX0hE
Q1AyX0JBU0UocG9ydCwgMHhCMCkKKyNkZWZpbmUgX1RSQU5TQV9IRENQMl9DVEwJCTB4NjY0QjAK
KyNkZWZpbmUgX1RSQU5TQl9IRENQMl9DVEwJCTB4NjY1QjAKKyNkZWZpbmUgVFJBTlNfSERDUDJf
Q1RMKHRyYW5zKQkJX01NSU9fVFJBTlModHJhbnMsIF9UUkFOU0FfSERDUDJfQ1RMLCBcCisJCQkJ
CQkgICAgX1RSQU5TQl9IRENQMl9DVEwpCiAjZGVmaW5lICAgQ1RMX0xJTktfRU5DUllQVElPTl9S
RVEJQklUKDMxKQotCi0jZGVmaW5lIEhEQ1AyX1NUQVRVU19EREkocG9ydCkJCV9QT1JUX0hEQ1Ay
X0JBU0UocG9ydCwgMHhCNCkKLSNkZWZpbmUgICBTVFJFQU1fRU5DUllQVElPTl9TVEFUVVNfQQlC
SVQoMzEpCi0jZGVmaW5lICAgU1RSRUFNX0VOQ1JZUFRJT05fU1RBVFVTX0IJQklUKDMwKQotI2Rl
ZmluZSAgIFNUUkVBTV9FTkNSWVBUSU9OX1NUQVRVU19DCUJJVCgyOSkKKyNkZWZpbmUgSERDUDJf
Q1RMKGRldl9wcml2LCB0cmFucywgcG9ydCkgXAorCQkJCQkoSU5URUxfR0VOKGRldl9wcml2KSA+
PSAxMiA/IFwKKwkJCQkJIFRSQU5TX0hEQ1AyX0NUTCh0cmFucykgOiBcCisJCQkJCSBQT1JUX0hE
Q1AyX0NUTChwb3J0KSkKKworI2RlZmluZSBQT1JUX0hEQ1AyX1NUQVRVUyhwb3J0KQkJX1BPUlRf
SERDUDJfQkFTRShwb3J0LCAweEI0KQorI2RlZmluZSBfVFJBTlNBX0hEQ1AyX1NUQVRVUwkJMHg2
NjRCNAorI2RlZmluZSBfVFJBTlNCX0hEQ1AyX1NUQVRVUwkJMHg2NjVCNAorI2RlZmluZSBUUkFO
U19IRENQMl9TVEFUVVModHJhbnMpCV9NTUlPX1RSQU5TKHRyYW5zLCBcCisJCQkJCQkgICAgX1RS
QU5TQV9IRENQMl9TVEFUVVMsIFwKKwkJCQkJCSAgICBfVFJBTlNCX0hEQ1AyX1NUQVRVUykKICNk
ZWZpbmUgICBMSU5LX1RZUEVfU1RBVFVTCQlCSVQoMjIpCiAjZGVmaW5lICAgTElOS19BVVRIX1NU
QVRVUwkJQklUKDIxKQogI2RlZmluZSAgIExJTktfRU5DUllQVElPTl9TVEFUVVMJQklUKDIwKQor
I2RlZmluZSBIRENQMl9TVEFUVVMoZGV2X3ByaXYsIHRyYW5zLCBwb3J0KSBcCisJCQkJCShJTlRF
TF9HRU4oZGV2X3ByaXYpID49IDEyID8gXAorCQkJCQkgVFJBTlNfSERDUDJfU1RBVFVTKHRyYW5z
KSA6IFwKKwkJCQkJIFBPUlRfSERDUDJfU1RBVFVTKHBvcnQpKQogCiAvKiBQZXItcGlwZSBEREkg
RnVuY3Rpb24gQ29udHJvbCAqLwogI2RlZmluZSBfVFJBTlNfRERJX0ZVTkNfQ1RMX0EJCTB4NjA0
MDAKLS0gCjIuMjAuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Au
b3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vZHJpLWRl
dmVs
