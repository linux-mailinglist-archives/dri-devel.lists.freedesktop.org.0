Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 6CFFE1B88D
	for <lists+dri-devel@lfdr.de>; Mon, 13 May 2019 16:40:18 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1F87089E47;
	Mon, 13 May 2019 14:40:16 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mail-ot1-f68.google.com (mail-ot1-f68.google.com
 [209.85.210.68])
 by gabe.freedesktop.org (Postfix) with ESMTPS id EB0F189E47
 for <dri-devel@lists.freedesktop.org>; Mon, 13 May 2019 14:40:14 +0000 (UTC)
Received: by mail-ot1-f68.google.com with SMTP id t24so3243251otl.12
 for <dri-devel@lists.freedesktop.org>; Mon, 13 May 2019 07:40:14 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:mime-version
 :content-transfer-encoding;
 bh=4QXhGUzrbIoNUpwZknMiZhCfgmISfCPepSV3kZZrmtA=;
 b=Iog0AjtdBqd6vwnqiriy+UKhDAOwRDAxPg5ZjRmexCx2mR9146ADVtXeMmk4RAV7kH
 Otq3pdkkB7vGd+cMmCk6vqAvW7+nT5XvyFlM8QYnfjjciIOuwChdbRXIMlcRUi6IdrKs
 3oo+Fro8is5bnmL+KxUz772yps/TSPT8VFx5KCWMYszQaKaKt7sE/5uUbL5FsTwh2CXC
 vZKEvbngYEy6I/JSeRwjc9d4lYtMiIs7qENVXnNmwMYvbE08Sn7ernd9TrrOnE9g/7DP
 //Y6a8nms9b6+nh2JuH/SKqMp3kDfg9nh/XJc5Gx1klOxvh26bk+fzDNJi8NNAxrM+am
 2PvA==
X-Gm-Message-State: APjAAAV7Wux+taA9fa/KVLkJLNodWrtpODFXjZFqdZs1fQd7nsaRUioY
 igqZ3K9Gm+6ol9WkGDNJw1Fxtww=
X-Google-Smtp-Source: APXvYqyeiZGqn4hA1+l6/soP1ZpMM/PYt1Myg9mqThKeX8I1YpALtF9EmBWBpsCdLDApRIXDQytnKw==
X-Received: by 2002:a9d:77d6:: with SMTP id w22mr16745925otl.154.1557758413823; 
 Mon, 13 May 2019 07:40:13 -0700 (PDT)
Received: from xps15.herring.priv (24-155-109-49.dyn.grandenetworks.net.
 [24.155.109.49])
 by smtp.googlemail.com with ESMTPSA id d5sm5513821otb.54.2019.05.13.07.40.13
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Mon, 13 May 2019 07:40:13 -0700 (PDT)
From: Rob Herring <robh@kernel.org>
To: dri-devel@lists.freedesktop.org, Neil Armstrong <narmstrong@baylibre.com>
Subject: [PATCH] drm/panfrost: Add AArch64 page table format support
Date: Mon, 13 May 2019 09:40:12 -0500
Message-Id: <20190513144012.17243-1-robh@kernel.org>
X-Mailer: git-send-email 2.20.1
MIME-Version: 1.0
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Robin Murphy <robin.murphy@arm.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

Qmlmcm9zdCBHUFVzIHVzZSB0aGUgc3RhbmRhcmQgZm9ybWF0IHN0YWdlIDEgTFBBRSBwYWdlIHRh
YmxlcyBtYXRjaGluZwp0aGUgaW8tcGd0YWJsZSBBUk1fNjRfTFBBRV9TMSBmb3JtYXQuIFRoZSBv
bmUgZGlmZmVyZW5jZSBpcyB0aGUgVENSIG9yClRSQU5TQ0ZHIHJlZ2lzdGVyIGFzIHRoZSBNYWxp
IGRyaXZlciBjYWxscyBpdCBoYXMgaXRzIG93biBjdXN0b20gbGF5b3V0LgoKU2lnbmVkLW9mZi1i
eTogUm9iIEhlcnJpbmcgPHJvYmhAa2VybmVsLm9yZz4KLS0tClRoaXMgYW5kIGNvbXBhdGlibGUg
c3RyaW5ncyBzaG91bGQgYmUgZW5vdWdoIGZvciBlbmFibGluZyBiaWZyb3N0LiAKVGhlcmUncyBz
b21lIG90aGVyIGZlYXR1cmUgYW5kIGlzc3VlIGRpZmZlcmVuY2VzLCBidXQgSSB0aGluayB0aGV5
IGFsbCAKZWl0aGVyIGRvbid0IG1hdHRlciAoYmVjYXVzZSBvZiBkaWZmZXJlbmNlcyBpbiBwYW5m
cm9zdCkgb3IgSSd2ZSBhbHJlYWR5IApoYW5kbGVkIHRoZW0uCgpUaGlzIGlzIG9ubHkgY29tcGls
ZSB0ZXN0ZWQgYXMgSSBkb24ndCBoYXZlIGgvdy4gUnVubmluZyB0aGUgZXhpc3RpbmcgCklHVCB0
ZXN0cyBtYXkgYmUgc3VmZmljaWVudCB0byB0ZXN0IHRoaXMuIFdlIHNob3VsZCBnZXQgYW4gZXJy
b3Igd2l0aCAKdGhlIGNvbW1hbmQgc3RyZWFtIHJhdGhlciB0aGFuIGEgTU1VIGZhdWx0IGlmIHRo
aXMgaXMgd29ya2luZyBjb3JyZWN0bHkuCgpSb2IKCiBkcml2ZXJzL2dwdS9kcm0vcGFuZnJvc3Qv
cGFuZnJvc3RfbW11LmMgIHwgMjggKysrKysrKysrKysrKysrKysrKysrKystCiBkcml2ZXJzL2dw
dS9kcm0vcGFuZnJvc3QvcGFuZnJvc3RfcmVncy5oIHwgIDMgKysrCiAyIGZpbGVzIGNoYW5nZWQs
IDMwIGluc2VydGlvbnMoKyksIDEgZGVsZXRpb24oLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vcGFuZnJvc3QvcGFuZnJvc3RfbW11LmMgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZnJvc3Qv
cGFuZnJvc3RfbW11LmMKaW5kZXggNzYyYjFiZDJhOGMyLi40MWQxODRmYWIwN2YgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9wYW5mcm9zdC9wYW5mcm9zdF9tbXUuYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vcGFuZnJvc3QvcGFuZnJvc3RfbW11LmMKQEAgLTEsNSArMSw2IEBACiAvLyBTUERY
LUxpY2Vuc2UtSWRlbnRpZmllcjoJR1BMLTIuMAogLyogQ29weXJpZ2h0IDIwMTkgTGluYXJvLCBM
dGQsIFJvYiBIZXJyaW5nIDxyb2JoQGtlcm5lbC5vcmc+ICovCisvKiBDb3B5cmlnaHQgKEMpIDIw
MTkgQXJtIEx0ZC4gKi8KICNpbmNsdWRlIDxsaW51eC9iaXRmaWVsZC5oPgogI2luY2x1ZGUgPGxp
bnV4L2RlbGF5Lmg+CiAjaW5jbHVkZSA8bGludXgvaW50ZXJydXB0Lmg+CkBAIC0xMTEsNiArMTEy
LDE0IEBAIHZvaWQgcGFuZnJvc3RfbW11X2VuYWJsZShzdHJ1Y3QgcGFuZnJvc3RfZGV2aWNlICpw
ZmRldiwgdTMyIGFzX25yKQogCXU2NCB0cmFuc3RhYiA9IGNmZy0+YXJtX21hbGlfbHBhZV9jZmcu
dHJhbnN0YWI7CiAJdTY0IG1lbWF0dHIgPSBjZmctPmFybV9tYWxpX2xwYWVfY2ZnLm1lbWF0dHI7
CiAKKwlpZiAocGFuZnJvc3RfaGFzX2h3X2ZlYXR1cmUocGZkZXYsIEhXX0ZFQVRVUkVfQUFSQ0g2
NF9NTVUpKSB7CisJCXRyYW5zdGFiID0gY2ZnLT5hcm1fbHBhZV9zMV9jZmcudHRiclswXTsKKwkJ
bWVtYXR0ciA9IGNmZy0+YXJtX2xwYWVfczFfY2ZnLm1haXJbMF07CisJfSBlbHNlIHsKKwkJdHJh
bnN0YWIgPSBjZmctPmFybV9tYWxpX2xwYWVfY2ZnLnRyYW5zdGFiOworCQltZW1hdHRyID0gY2Zn
LT5hcm1fbWFsaV9scGFlX2NmZy5tZW1hdHRyOworCX0KKwogCW1tdV93cml0ZShwZmRldiwgTU1V
X0lOVF9DTEVBUiwgfjApOwogCW1tdV93cml0ZShwZmRldiwgTU1VX0lOVF9NQVNLLCB+MCk7CiAK
QEAgLTEyMyw2ICsxMzIsMTQgQEAgdm9pZCBwYW5mcm9zdF9tbXVfZW5hYmxlKHN0cnVjdCBwYW5m
cm9zdF9kZXZpY2UgKnBmZGV2LCB1MzIgYXNfbnIpCiAJbW11X3dyaXRlKHBmZGV2LCBBU19NRU1B
VFRSX0xPKGFzX25yKSwgbWVtYXR0ciAmIDB4ZmZmZmZmZmZVTCk7CiAJbW11X3dyaXRlKHBmZGV2
LCBBU19NRU1BVFRSX0hJKGFzX25yKSwgbWVtYXR0ciA+PiAzMik7CiAKKwlpZiAocGFuZnJvc3Rf
aGFzX2h3X2ZlYXR1cmUocGZkZXYsIEhXX0ZFQVRVUkVfQUFSQ0g2NF9NTVUpKSB7CisJCS8qIFRP
RE86IGhhbmRsZSBzeXN0ZW0gY29oZXJlbmN5ICovCisJCW1tdV93cml0ZShwZmRldiwgQVNfVFJB
TlNDRkdfTE8oYXNfbnIpLAorCQkJQVNfVFJBTlNDRkdfUFRXX01FTUFUVFJfV1JJVEVfQkFDSyB8
CisJCQlBU19UUkFOU0NGR19BRFJNT0RFX0FBUkNINjRfNEspOworCQltbXVfd3JpdGUocGZkZXYs
IEFTX1RSQU5TQ0ZHX0hJKGFzX25yKSwgMCk7CisJfQorCiAJd3JpdGVfY21kKHBmZGV2LCBhc19u
ciwgQVNfQ09NTUFORF9VUERBVEUpOwogfQogCkBAIC0xMzQsNiArMTUxLDExIEBAIHN0YXRpYyB2
b2lkIG1tdV9kaXNhYmxlKHN0cnVjdCBwYW5mcm9zdF9kZXZpY2UgKnBmZGV2LCB1MzIgYXNfbnIp
CiAJbW11X3dyaXRlKHBmZGV2LCBBU19NRU1BVFRSX0xPKGFzX25yKSwgMCk7CiAJbW11X3dyaXRl
KHBmZGV2LCBBU19NRU1BVFRSX0hJKGFzX25yKSwgMCk7CiAKKwlpZiAocGFuZnJvc3RfaGFzX2h3
X2ZlYXR1cmUocGZkZXYsIEhXX0ZFQVRVUkVfQUFSQ0g2NF9NTVUpKSB7CisJCW1tdV93cml0ZShw
ZmRldiwgQVNfVFJBTlNDRkdfTE8oYXNfbnIpLCAwKTsKKwkJbW11X3dyaXRlKHBmZGV2LCBBU19U
UkFOU0NGR19ISShhc19uciksIDApOworCX0KKwogCXdyaXRlX2NtZChwZmRldiwgYXNfbnIsIEFT
X0NPTU1BTkRfVVBEQVRFKTsKIH0KIApAQCAtMzM1LDYgKzM1Nyw3IEBAIHN0YXRpYyBpcnFyZXR1
cm5fdCBwYW5mcm9zdF9tbXVfaXJxX2hhbmRsZXIoaW50IGlycSwgdm9pZCAqZGF0YSkKIGludCBw
YW5mcm9zdF9tbXVfaW5pdChzdHJ1Y3QgcGFuZnJvc3RfZGV2aWNlICpwZmRldikKIHsKIAlzdHJ1
Y3QgaW9fcGd0YWJsZV9vcHMgKnBndGJsX29wczsKKwllbnVtIGlvX3BndGFibGVfZm10IHBndF9m
bXQgPSBBUk1fTUFMSV9MUEFFOwogCWludCBlcnIsIGlycTsKIAogCXBmZGV2LT5tbXUgPSBkZXZt
X2t6YWxsb2MocGZkZXYtPmRldiwgc2l6ZW9mKCpwZmRldi0+bW11KSwgR0ZQX0tFUk5FTCk7CkBA
IC0zNjUsNyArMzg4LDEwIEBAIGludCBwYW5mcm9zdF9tbXVfaW5pdChzdHJ1Y3QgcGFuZnJvc3Rf
ZGV2aWNlICpwZmRldikKIAkJLmlvbW11X2Rldgk9IHBmZGV2LT5kZXYsCiAJfTsKIAotCXBndGJs
X29wcyA9IGFsbG9jX2lvX3BndGFibGVfb3BzKEFSTV9NQUxJX0xQQUUsICZwZmRldi0+bW11LT5w
Z3RibF9jZmcsCisJaWYgKHBhbmZyb3N0X2hhc19od19mZWF0dXJlKHBmZGV2LCBIV19GRUFUVVJF
X0FBUkNINjRfTU1VKSkKKwkJcGd0X2ZtdCA9IEFSTV82NF9MUEFFX1MxOworCisJcGd0Ymxfb3Bz
ID0gYWxsb2NfaW9fcGd0YWJsZV9vcHMocGd0X2ZtdCwgJnBmZGV2LT5tbXUtPnBndGJsX2NmZywK
IAkJCQkJIHBmZGV2KTsKIAlpZiAoIXBndGJsX29wcykKIAkJcmV0dXJuIC1FTk9NRU07CmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcGFuZnJvc3QvcGFuZnJvc3RfcmVncy5oIGIvZHJpdmVy
cy9ncHUvZHJtL3BhbmZyb3N0L3BhbmZyb3N0X3JlZ3MuaAppbmRleCA1NzhjNWZjMjE4OGIuLjMx
MjExZGY4M2MzMCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3BhbmZyb3N0L3BhbmZyb3N0
X3JlZ3MuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vcGFuZnJvc3QvcGFuZnJvc3RfcmVncy5oCkBA
IC0yODcsNiArMjg3LDkgQEAKICNkZWZpbmUgQVNfVFJBTlNUQUJfTFBBRV9SRUFEX0lOTkVSCQlC
SVQoMikKICNkZWZpbmUgQVNfVFJBTlNUQUJfTFBBRV9TSEFSRV9PVVRFUgkJQklUKDQpCiAKKyNk
ZWZpbmUgQVNfVFJBTlNDRkdfQURSTU9ERV9BQVJDSDY0XzRLCQk2CisjZGVmaW5lIEFTX1RSQU5T
Q0ZHX1BUV19NRU1BVFRSX1dSSVRFX0JBQ0sJKDIgPDwgMjQpCisKICNkZWZpbmUgQVNfU1RBVFVT
X0FTX0FDVElWRQkJCTB4MDEKIAogI2RlZmluZSBBU19GQVVMVFNUQVRVU19BQ0NFU1NfVFlQRV9N
QVNLCQkoMHgzIDw8IDgpCi0tIAoyLjIwLjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fCmRyaS1kZXZlbCBtYWlsaW5nIGxpc3QKZHJpLWRldmVsQGxpc3Rz
LmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xp
c3RpbmZvL2RyaS1kZXZlbA==
