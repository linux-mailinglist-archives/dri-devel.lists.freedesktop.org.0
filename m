Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 5252BF295E
	for <lists+dri-devel@lfdr.de>; Thu,  7 Nov 2019 09:41:40 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 312D16EF15;
	Thu,  7 Nov 2019 08:41:36 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from pio-pvt-msa1.bahnhof.se (pio-pvt-msa1.bahnhof.se [79.136.2.40])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3217C6EF12
 for <dri-devel@lists.freedesktop.org>; Thu,  7 Nov 2019 08:41:34 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by pio-pvt-msa1.bahnhof.se (Postfix) with ESMTP id 7F9543F560
 for <dri-devel@lists.freedesktop.org>; Thu,  7 Nov 2019 09:41:31 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at bahnhof.se
X-Spam-Flag: NO
X-Spam-Score: -2.099
X-Spam-Level: 
X-Spam-Status: No, score=-2.099 tagged_above=-999 required=6.31
 tests=[BAYES_00=-1.9, DKIM_SIGNED=0.1, DKIM_VALID=-0.1,
 DKIM_VALID_AU=-0.1, DKIM_VALID_EF=-0.1, URIBL_BLOCKED=0.001]
 autolearn=ham autolearn_force=no
Received: from pio-pvt-msa1.bahnhof.se ([127.0.0.1])
 by localhost (pio-pvt-msa1.bahnhof.se [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id NEEOaxIiVKDZ for <dri-devel@lists.freedesktop.org>;
 Thu,  7 Nov 2019 09:41:25 +0100 (CET)
Received: from mail1.shipmail.org (h-205-35.A357.priv.bahnhof.se
 [155.4.205.35]) (Authenticated sender: mb878879)
 by pio-pvt-msa1.bahnhof.se (Postfix) with ESMTPA id 39C543F4DB
 for <dri-devel@lists.freedesktop.org>; Thu,  7 Nov 2019 09:41:24 +0100 (CET)
Received: from localhost.localdomain.localdomain
 (h-205-35.A357.priv.bahnhof.se [155.4.205.35])
 by mail1.shipmail.org (Postfix) with ESMTPSA id 5ACB2360191
 for <dri-devel@lists.freedesktop.org>; Thu,  7 Nov 2019 09:41:24 +0100 (CET)
From: =?UTF-8?q?Thomas=20Hellstr=C3=B6m=20=28VMware=29?=
 <thomas_os@shipmail.org>
To: dri-devel@lists.freedesktop.org
Subject: [PATCH v7 3/8] mm: Add a walk_page_mapping() function to the pagewalk
 code
Date: Thu,  7 Nov 2019 09:41:11 +0100
Message-Id: <20191107084116.33032-4-thomas_os@shipmail.org>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20191107084116.33032-1-thomas_os@shipmail.org>
References: <20191107084116.33032-1-thomas_os@shipmail.org>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
 d=shipmail.org; s=mail; 
 t=1573116084; bh=me2VsmIxMG1pjNjIfiklXxPZklwwkkg/Z5RhzKsRayg=;
 h=From:To:Subject:Date:In-Reply-To:References:From;
 b=V61BVG8XD1eNxq/We+9Ne5D/P21mSL2seMwV7vuX57Kjxli7Jplk9RMLz4ec2pbOR
 hAzITL48FdqMAx4Ar4FwrraQF2NtRXe8+A99MUI0LEr3JGEwP6vsnb4V3OxZUvxzBC
 m2cvupmZg1bQj2iiqDNOo9lPHK6ajEo9i9hrctJ8=
X-Mailman-Original-Authentication-Results: pio-pvt-msa1.bahnhof.se;
 dkim=pass (1024-bit key;
 unprotected) header.d=shipmail.org header.i=@shipmail.org header.b="V61BVG8X";
 dkim-atps=neutral
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

RnJvbTogVGhvbWFzIEhlbGxzdHJvbSA8dGhlbGxzdHJvbUB2bXdhcmUuY29tPgoKRm9yIHVzZXJz
IHRoYXQgd2FudCB0byB0cmF2ZXJzIGFsbCBwYWdlIHRhYmxlIGVudHJpZXMgcG9pbnRpbmcgaW50
byBhCnJlZ2lvbiBvZiBhIHN0cnVjdCBhZGRyZXNzX3NwYWNlIG1hcHBpbmcsIGludHJvZHVjZSBh
IHdhbGtfcGFnZV9tYXBwaW5nKCkKZnVuY3Rpb24uCgpUaGUgd2Fsa19wYWdlX21hcHBpbmcoKSBm
dW5jdGlvbiB3aWxsIGJlIGluaXRpYWxseSBiZSB1c2VkIGZvciBkaXJ0eS0KdHJhY2tpbmcgaW4g
dmlydHVhbCBncmFwaGljcyBkcml2ZXJzLgoKQ2M6IEFuZHJldyBNb3J0b24gPGFrcG1AbGludXgt
Zm91bmRhdGlvbi5vcmc+CkNjOiBNYXR0aGV3IFdpbGNveCA8d2lsbHlAaW5mcmFkZWFkLm9yZz4K
Q2M6IFdpbGwgRGVhY29uIDx3aWxsLmRlYWNvbkBhcm0uY29tPgpDYzogUGV0ZXIgWmlqbHN0cmEg
PHBldGVyekBpbmZyYWRlYWQub3JnPgpDYzogUmlrIHZhbiBSaWVsIDxyaWVsQHN1cnJpZWwuY29t
PgpDYzogTWluY2hhbiBLaW0gPG1pbmNoYW5Aa2VybmVsLm9yZz4KQ2M6IE1pY2hhbCBIb2NrbyA8
bWhvY2tvQHN1c2UuY29tPgpDYzogSHVhbmcgWWluZyA8eWluZy5odWFuZ0BpbnRlbC5jb20+CkNj
OiBKw6lyw7RtZSBHbGlzc2UgPGpnbGlzc2VAcmVkaGF0LmNvbT4KQ2M6IEtpcmlsbCBBLiBTaHV0
ZW1vdiA8a2lyaWxsQHNodXRlbW92Lm5hbWU+ClNpZ25lZC1vZmYtYnk6IFRob21hcyBIZWxsc3Ry
b20gPHRoZWxsc3Ryb21Adm13YXJlLmNvbT4KUmV2aWV3ZWQtYnk6IEFuZHJldyBNb3J0b24gPGFr
cG1AbGludXgtZm91bmRhdGlvbi5vcmc+Ci0tLQogaW5jbHVkZS9saW51eC9wYWdld2Fsay5oIHwg
IDkgKysrKwogbW0vcGFnZXdhbGsuYyAgICAgICAgICAgIHwgOTQgKysrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrLQogMiBmaWxlcyBjaGFuZ2VkLCAxMDIgaW5zZXJ0aW9ucygr
KSwgMSBkZWxldGlvbigtKQoKZGlmZiAtLWdpdCBhL2luY2x1ZGUvbGludXgvcGFnZXdhbGsuaCBi
L2luY2x1ZGUvbGludXgvcGFnZXdhbGsuaAppbmRleCBiZGRkOTc1OWJhYjkuLjZlYzgyZTkyYzg3
ZiAxMDA2NDQKLS0tIGEvaW5jbHVkZS9saW51eC9wYWdld2Fsay5oCisrKyBiL2luY2x1ZGUvbGlu
dXgvcGFnZXdhbGsuaApAQCAtMjQsNiArMjQsOSBAQCBzdHJ1Y3QgbW1fd2FsazsKICAqCQkJImRv
IHBhZ2UgdGFibGUgd2FsayBvdmVyIHRoZSBjdXJyZW50IHZtYSIsIHJldHVybmluZwogICoJCQlh
IG5lZ2F0aXZlIHZhbHVlIG1lYW5zICJhYm9ydCBjdXJyZW50IHBhZ2UgdGFibGUgd2FsawogICoJ
CQlyaWdodCBub3ciIGFuZCByZXR1cm5pbmcgMSBtZWFucyAic2tpcCB0aGUgY3VycmVudCB2bWEi
CisgKiBAcHJlX3ZtYTogICAgICAgICAgICBpZiBzZXQsIGNhbGxlZCBiZWZvcmUgc3RhcnRpbmcg
d2FsayBvbiBhIG5vbi1udWxsIHZtYS4KKyAqIEBwb3N0X3ZtYTogICAgICAgICAgIGlmIHNldCwg
Y2FsbGVkIGFmdGVyIGEgd2FsayBvbiBhIG5vbi1udWxsIHZtYSwgcHJvdmlkZWQKKyAqICAgICAg
ICAgICAgICAgICAgICAgIHRoYXQgQHByZV92bWEgYW5kIHRoZSB2bWEgd2FsayBzdWNjZWVkZWQu
CiAgKi8KIHN0cnVjdCBtbV93YWxrX29wcyB7CiAJaW50ICgqcHVkX2VudHJ5KShwdWRfdCAqcHVk
LCB1bnNpZ25lZCBsb25nIGFkZHIsCkBAIC0zOSw2ICs0Miw5IEBAIHN0cnVjdCBtbV93YWxrX29w
cyB7CiAJCQkgICAgIHN0cnVjdCBtbV93YWxrICp3YWxrKTsKIAlpbnQgKCp0ZXN0X3dhbGspKHVu
c2lnbmVkIGxvbmcgYWRkciwgdW5zaWduZWQgbG9uZyBuZXh0LAogCQkJc3RydWN0IG1tX3dhbGsg
KndhbGspOworCWludCAoKnByZV92bWEpKHVuc2lnbmVkIGxvbmcgc3RhcnQsIHVuc2lnbmVkIGxv
bmcgZW5kLAorCQkgICAgICAgc3RydWN0IG1tX3dhbGsgKndhbGspOworCXZvaWQgKCpwb3N0X3Zt
YSkoc3RydWN0IG1tX3dhbGsgKndhbGspOwogfTsKIAogLyoqCkBAIC02Miw1ICs2OCw4IEBAIGlu
dCB3YWxrX3BhZ2VfcmFuZ2Uoc3RydWN0IG1tX3N0cnVjdCAqbW0sIHVuc2lnbmVkIGxvbmcgc3Rh
cnQsCiAJCXZvaWQgKnByaXZhdGUpOwogaW50IHdhbGtfcGFnZV92bWEoc3RydWN0IHZtX2FyZWFf
c3RydWN0ICp2bWEsIGNvbnN0IHN0cnVjdCBtbV93YWxrX29wcyAqb3BzLAogCQl2b2lkICpwcml2
YXRlKTsKK2ludCB3YWxrX3BhZ2VfbWFwcGluZyhzdHJ1Y3QgYWRkcmVzc19zcGFjZSAqbWFwcGlu
ZywgcGdvZmZfdCBmaXJzdF9pbmRleCwKKwkJICAgICAgcGdvZmZfdCBuciwgY29uc3Qgc3RydWN0
IG1tX3dhbGtfb3BzICpvcHMsCisJCSAgICAgIHZvaWQgKnByaXZhdGUpOwogCiAjZW5kaWYgLyog
X0xJTlVYX1BBR0VXQUxLX0ggKi8KZGlmZiAtLWdpdCBhL21tL3BhZ2V3YWxrLmMgYi9tbS9wYWdl
d2Fsay5jCmluZGV4IGM1ZmE0MmNhYjE0Zi4uZWEwYjllNjA2YWQxIDEwMDY0NAotLS0gYS9tbS9w
YWdld2Fsay5jCisrKyBiL21tL3BhZ2V3YWxrLmMKQEAgLTI1NCwxMyArMjU0LDIzIEBAIHN0YXRp
YyBpbnQgX193YWxrX3BhZ2VfcmFuZ2UodW5zaWduZWQgbG9uZyBzdGFydCwgdW5zaWduZWQgbG9u
ZyBlbmQsCiB7CiAJaW50IGVyciA9IDA7CiAJc3RydWN0IHZtX2FyZWFfc3RydWN0ICp2bWEgPSB3
YWxrLT52bWE7CisJY29uc3Qgc3RydWN0IG1tX3dhbGtfb3BzICpvcHMgPSB3YWxrLT5vcHM7CisK
KwlpZiAodm1hICYmIG9wcy0+cHJlX3ZtYSkgeworCQllcnIgPSBvcHMtPnByZV92bWEoc3RhcnQs
IGVuZCwgd2Fsayk7CisJCWlmIChlcnIpCisJCQlyZXR1cm4gZXJyOworCX0KIAogCWlmICh2bWEg
JiYgaXNfdm1faHVnZXRsYl9wYWdlKHZtYSkpIHsKLQkJaWYgKHdhbGstPm9wcy0+aHVnZXRsYl9l
bnRyeSkKKwkJaWYgKG9wcy0+aHVnZXRsYl9lbnRyeSkKIAkJCWVyciA9IHdhbGtfaHVnZXRsYl9y
YW5nZShzdGFydCwgZW5kLCB3YWxrKTsKIAl9IGVsc2UKIAkJZXJyID0gd2Fsa19wZ2RfcmFuZ2Uo
c3RhcnQsIGVuZCwgd2Fsayk7CiAKKwlpZiAodm1hICYmIG9wcy0+cG9zdF92bWEpCisJCW9wcy0+
cG9zdF92bWEod2Fsayk7CisKIAlyZXR1cm4gZXJyOwogfQogCkBAIC0yOTEsNiArMzAxLDExIEBA
IHN0YXRpYyBpbnQgX193YWxrX3BhZ2VfcmFuZ2UodW5zaWduZWQgbG9uZyBzdGFydCwgdW5zaWdu
ZWQgbG9uZyBlbmQsCiAgKiBpdHMgdm1fZmxhZ3MuIHdhbGtfcGFnZV90ZXN0KCkgYW5kIEBvcHMt
PnRlc3Rfd2FsaygpIGFyZSB1c2VkIGZvciB0aGlzCiAgKiBwdXJwb3NlLgogICoKKyAqIElmIG9w
ZXJhdGlvbnMgbmVlZCB0byBiZSBzdGFnZWQgYmVmb3JlIGFuZCBjb21taXR0ZWQgYWZ0ZXIgYSB2
bWEgaXMgd2Fsa2VkLAorICogdGhlcmUgYXJlIHR3byBjYWxsYmFja3MsIHByZV92bWEoKSBhbmQg
cG9zdF92bWEoKS4gTm90ZSB0aGF0IHBvc3Rfdm1hKCksCisgKiBzaW5jZSBpdCBpcyBpbnRlbmRl
ZCB0byBoYW5kbGUgY29tbWl0LXR5cGUgb3BlcmF0aW9ucywgY2FuJ3QgcmV0dXJuIGFueQorICog
ZXJyb3JzLgorICoKICAqIHN0cnVjdCBtbV93YWxrIGtlZXBzIGN1cnJlbnQgdmFsdWVzIG9mIHNv
bWUgY29tbW9uIGRhdGEgbGlrZSB2bWEgYW5kIHBtZCwKICAqIHdoaWNoIGFyZSB1c2VmdWwgZm9y
IHRoZSBhY2Nlc3MgZnJvbSBjYWxsYmFja3MuIElmIHlvdSB3YW50IHRvIHBhc3Mgc29tZQogICog
Y2FsbGVyLXNwZWNpZmljIGRhdGEgdG8gY2FsbGJhY2tzLCBAcHJpdmF0ZSBzaG91bGQgYmUgaGVs
cGZ1bC4KQEAgLTM3NywzICszOTIsODAgQEAgaW50IHdhbGtfcGFnZV92bWEoc3RydWN0IHZtX2Fy
ZWFfc3RydWN0ICp2bWEsIGNvbnN0IHN0cnVjdCBtbV93YWxrX29wcyAqb3BzLAogCQlyZXR1cm4g
ZXJyOwogCXJldHVybiBfX3dhbGtfcGFnZV9yYW5nZSh2bWEtPnZtX3N0YXJ0LCB2bWEtPnZtX2Vu
ZCwgJndhbGspOwogfQorCisvKioKKyAqIHdhbGtfcGFnZV9tYXBwaW5nIC0gd2FsayBhbGwgbWVt
b3J5IGFyZWFzIG1hcHBlZCBpbnRvIGEgc3RydWN0IGFkZHJlc3Nfc3BhY2UuCisgKiBAbWFwcGlu
ZzogUG9pbnRlciB0byB0aGUgc3RydWN0IGFkZHJlc3Nfc3BhY2UKKyAqIEBmaXJzdF9pbmRleDog
Rmlyc3QgcGFnZSBvZmZzZXQgaW4gdGhlIGFkZHJlc3Nfc3BhY2UKKyAqIEBucjogTnVtYmVyIG9m
IGluY3JlbWVudGFsIHBhZ2Ugb2Zmc2V0cyB0byBjb3ZlcgorICogQG9wczoJb3BlcmF0aW9uIHRv
IGNhbGwgZHVyaW5nIHRoZSB3YWxrCisgKiBAcHJpdmF0ZToJcHJpdmF0ZSBkYXRhIGZvciBjYWxs
YmFja3MnIHVzYWdlCisgKgorICogVGhpcyBmdW5jdGlvbiB3YWxrcyBhbGwgbWVtb3J5IGFyZWFz
IG1hcHBlZCBpbnRvIGEgc3RydWN0IGFkZHJlc3Nfc3BhY2UuCisgKiBUaGUgd2FsayBpcyBsaW1p
dGVkIHRvIG9ubHkgdGhlIGdpdmVuIHBhZ2Utc2l6ZSBpbmRleCByYW5nZSwgYnV0IGlmCisgKiB0
aGUgaW5kZXggYm91bmRhcmllcyBjcm9zcyBhIGh1Z2UgcGFnZS10YWJsZSBlbnRyeSwgdGhhdCBl
bnRyeSB3aWxsIGJlCisgKiBpbmNsdWRlZC4KKyAqCisgKiBBbHNvIHNlZSB3YWxrX3BhZ2VfcmFu
Z2UoKSBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbi4KKyAqCisgKiBMb2NraW5nOgorICogICBU
aGlzIGZ1bmN0aW9uIGNhbid0IHJlcXVpcmUgdGhhdCB0aGUgc3RydWN0IG1tX3N0cnVjdDo6bW1h
cF9zZW0gaXMgaGVsZCwKKyAqICAgc2luY2UgQG1hcHBpbmcgbWF5IGJlIG1hcHBlZCBieSBtdWx0
aXBsZSBwcm9jZXNzZXMuIEluc3RlYWQKKyAqICAgQG1hcHBpbmctPmlfbW1hcF9yd3NlbSBtdXN0
IGJlIGhlbGQuIFRoaXMgbWlnaHQgaGF2ZSBpbXBsaWNhdGlvbnMgaW4gdGhlCisgKiAgIGNhbGxi
YWNrcywgYW5kIGl0J3MgdXAgdGhvIHRoZSBjYWxsZXIgdG8gZW5zdXJlIHRoYXQgdGhlCisgKiAg
IHN0cnVjdCBtbV9zdHJ1Y3Q6Om1tYXBfc2VtIGlzIG5vdCBuZWVkZWQuCisgKgorICogICBBbHNv
IHRoaXMgbWVhbnMgdGhhdCBhIGNhbGxlciBjYW4ndCByZWx5IG9uIHRoZSBzdHJ1Y3QKKyAqICAg
dm1fYXJlYV9zdHJ1Y3Q6OnZtX2ZsYWdzIHRvIGJlIGNvbnN0YW50IGFjcm9zcyBhIGNhbGwsCisg
KiAgIGV4Y2VwdCBmb3IgaW1tdXRhYmxlIGZsYWdzLiBDYWxsZXJzIHJlcXVpcmluZyB0aGlzIHNo
b3VsZG4ndCB1c2UKKyAqICAgdGhpcyBmdW5jdGlvbi4KKyAqCisgKiBSZXR1cm46IDAgb24gc3Vj
Y2VzcywgbmVnYXRpdmUgZXJyb3IgY29kZSBvbiBmYWlsdXJlLCBwb3NpdGl2ZSBudW1iZXIgb24K
KyAqIGNhbGxlciBkZWZpbmVkIHByZW1hdHVyZSB0ZXJtaW5hdGlvbi4KKyAqLworaW50IHdhbGtf
cGFnZV9tYXBwaW5nKHN0cnVjdCBhZGRyZXNzX3NwYWNlICptYXBwaW5nLCBwZ29mZl90IGZpcnN0
X2luZGV4LAorCQkgICAgICBwZ29mZl90IG5yLCBjb25zdCBzdHJ1Y3QgbW1fd2Fsa19vcHMgKm9w
cywKKwkJICAgICAgdm9pZCAqcHJpdmF0ZSkKK3sKKwlzdHJ1Y3QgbW1fd2FsayB3YWxrID0gewor
CQkub3BzCQk9IG9wcywKKwkJLnByaXZhdGUJPSBwcml2YXRlLAorCX07CisJc3RydWN0IHZtX2Fy
ZWFfc3RydWN0ICp2bWE7CisJcGdvZmZfdCB2YmEsIHZlYSwgY2JhLCBjZWE7CisJdW5zaWduZWQg
bG9uZyBzdGFydF9hZGRyLCBlbmRfYWRkcjsKKwlpbnQgZXJyID0gMDsKKworCWxvY2tkZXBfYXNz
ZXJ0X2hlbGQoJm1hcHBpbmctPmlfbW1hcF9yd3NlbSk7CisJdm1hX2ludGVydmFsX3RyZWVfZm9y
ZWFjaCh2bWEsICZtYXBwaW5nLT5pX21tYXAsIGZpcnN0X2luZGV4LAorCQkJCSAgZmlyc3RfaW5k
ZXggKyBuciAtIDEpIHsKKwkJLyogQ2xpcCB0byB0aGUgdm1hICovCisJCXZiYSA9IHZtYS0+dm1f
cGdvZmY7CisJCXZlYSA9IHZiYSArIHZtYV9wYWdlcyh2bWEpOworCQljYmEgPSBmaXJzdF9pbmRl
eDsKKwkJY2JhID0gbWF4KGNiYSwgdmJhKTsKKwkJY2VhID0gZmlyc3RfaW5kZXggKyBucjsKKwkJ
Y2VhID0gbWluKGNlYSwgdmVhKTsKKworCQlzdGFydF9hZGRyID0gKChjYmEgLSB2YmEpIDw8IFBB
R0VfU0hJRlQpICsgdm1hLT52bV9zdGFydDsKKwkJZW5kX2FkZHIgPSAoKGNlYSAtIHZiYSkgPDwg
UEFHRV9TSElGVCkgKyB2bWEtPnZtX3N0YXJ0OworCQlpZiAoc3RhcnRfYWRkciA+PSBlbmRfYWRk
cikKKwkJCWNvbnRpbnVlOworCisJCXdhbGsudm1hID0gdm1hOworCQl3YWxrLm1tID0gdm1hLT52
bV9tbTsKKworCQllcnIgPSB3YWxrX3BhZ2VfdGVzdCh2bWEtPnZtX3N0YXJ0LCB2bWEtPnZtX2Vu
ZCwgJndhbGspOworCQlpZiAoZXJyID4gMCkgeworCQkJZXJyID0gMDsKKwkJCWJyZWFrOworCQl9
IGVsc2UgaWYgKGVyciA8IDApCisJCQlicmVhazsKKworCQllcnIgPSBfX3dhbGtfcGFnZV9yYW5n
ZShzdGFydF9hZGRyLCBlbmRfYWRkciwgJndhbGspOworCQlpZiAoZXJyKQorCQkJYnJlYWs7CisJ
fQorCisJcmV0dXJuIGVycjsKK30KLS0gCjIuMjAuMQoKX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX18KZHJpLWRldmVsIG1haWxpbmcgbGlzdApkcmktZGV2ZWxA
bGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxt
YW4vbGlzdGluZm8vZHJpLWRldmVs
