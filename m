Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id EB1718E6C3
	for <lists+dri-devel@lfdr.de>; Thu, 15 Aug 2019 10:36:52 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 78E2F6E939;
	Thu, 15 Aug 2019 08:35:10 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from lb2-smtp-cloud8.xs4all.net (lb2-smtp-cloud8.xs4all.net
 [194.109.24.25])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B5BCB6E0F3
 for <dri-devel@lists.freedesktop.org>; Tue, 13 Aug 2019 11:38:04 +0000 (UTC)
Received: from [IPv6:2001:420:44c1:2579:155e:93d7:78eb:5531]
 ([IPv6:2001:420:44c1:2579:155e:93d7:78eb:5531])
 by smtp-cloud8.xs4all.net with ESMTPA
 id xV7hhKyl4qTdhxV7lh9QWs; Tue, 13 Aug 2019 13:38:03 +0200
Subject: Re: [PATCH v6 7/8] drm: dw-hdmi: use cec_notifier_conn_(un)register
To: Dariusz Marcinkiewicz <darekm@google.com>,
 dri-devel@lists.freedesktop.org, linux-media@vger.kernel.org
References: <20190813110300.83025-1-darekm@google.com>
 <20190813110300.83025-8-darekm@google.com>
From: Hans Verkuil <hverkuil-cisco@xs4all.nl>
Message-ID: <41c95313-fe39-b201-5238-24df7e72879a@xs4all.nl>
Date: Tue, 13 Aug 2019 13:37:53 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.5.1
MIME-Version: 1.0
In-Reply-To: <20190813110300.83025-8-darekm@google.com>
Content-Language: en-US
X-CMAE-Envelope: MS4wfIBagj28XgFXymMISKdyrWMjFt9IjTRiBXHeYQ8i3w0U4Wmg+lnZ4GDTQICxwIRE85AT9cLb1gSIzU3XCyCFb06QnkcTTCxjaQdd9IIIDbMS7bs5/Seq
 6wtzY0AoNHNv4XZ9VmC4qEaDiqB6IEjBr73ptDVWgMelCSl9YXJXPJMO0ivIG5B+CrTxcI74sSrvID5kdg2f3tMIENv57PbTFy18gzjJWLz8G69CYhaLdIJz
 gMo7szk+Ysud2+ULZN5BuGjhvxHqCqnMiZ16x26Rz8wqkJ0p/cfuKBvLRUYrcGOn9drZjQbC4+oqfiWwh8v0Lvjs3JaFCiCsoygSJQh5oMbS2ewOC0gZGHVt
 0YESTERspXC9yG9j6vUXZ1TUnXIRm6tfqYNysThfBOgkTmKKaLe147ZJvmvPuR6PJH8sXGBX0mcmwtqs+IUyDjRYLoiAFuQ9JYadKltmz5Yhwca6jxnFEH3U
 U67fCyYxZK+6Pnl6kTZhZc4B+Q8g1stYW7QHS6V+mT0Z5YCwKrDhxjfoZrL/GmNGU7Q6W504ilzQ5oDoP103BJ4w5pT4uu3R/AIvZSJ35782yKdbmWgkCJuE
 X8lcNgQisp/ICI9RN+zYMhIHhskKnJQY5rqthEzspk/T/Y6zGuWxT0oHh4mWuC/g0Mkq6mKFAvRcwbQY8IY6faGxg/Xj8TlZtw63BtR/VMCeRA==
X-Mailman-Approved-At: Thu, 15 Aug 2019 08:34:55 +0000
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Jernej Skrabec <jernej.skrabec@siol.net>, Jonas Karlman <jonas@kwiboo.se>,
 David Airlie <airlied@linux.ie>, Neil Armstrong <narmstrong@baylibre.com>,
 Douglas Anderson <dianders@chromium.org>,
 open list <linux-kernel@vger.kernel.org>,
 Laurent Pinchart <Laurent.pinchart@ideasonboard.com>,
 Sam Ravnborg <sam@ravnborg.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gOC8xMy8xOSAxOjAyIFBNLCBEYXJpdXN6IE1hcmNpbmtpZXdpY3ogd3JvdGU6Cj4gVXNlIHRo
ZSBuZXcgY2VjX25vdGlmaWVyX2Nvbm5fKHVuKXJlZ2lzdGVyKCkgZnVuY3Rpb25zIHRvCj4gKHVu
KXJlZ2lzdGVyIHRoZSBub3RpZmllciBmb3IgdGhlIEhETUkgY29ubmVjdG9yLCBhbmQgZmlsbCBp
bgo+IHRoZSBjZWNfY29ubmVjdG9yX2luZm8uCj4gCj4gQ2hhbmdlcyBzaW5jZSB2NDoKPiAJLSB0
eXBvIGZpeAo+IENoYW5nZXMgc2luY2UgdjI6Cj4gCS0gcmVtb3ZlZCB1bm5lY2Vzc2FyeSBOVUxM
IGNoZWNrIGJlZm9yZSBhIGNhbGwgdG8KPiAJY2VjX25vdGlmaWVyX2Nvbm5fdW5yZWdpc3RlciwK
PiAJLSB1c2UgY2VjX25vdGlmaWVyX3BoeXNfYWRkcl9pbnZhbGlkYXRlIHRvIGludmFsaWRhdGUg
cGh5c2ljYWwKPiAJYWRkcmVzcy4KPiBDaGFuZ2VzIHNpbmNlIHYxOgo+IAlBZGQgbWVtb3J5IGJh
cnJpZXIgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIG5vdGlmaWVyCj4gCWJlY29tZXMgdmlzaWJsZSB0
byB0aGUgaXJxIHRocmVhZCBvbmNlIGl0IGlzIGZ1bGx5Cj4gCWNvbnN0cnVjdGVkLgo+IAo+IFNp
Z25lZC1vZmYtYnk6IERhcml1c3ogTWFyY2lua2lld2ljeiA8ZGFyZWttQGdvb2dsZS5jb20+Cj4g
VGVzdGVkLWJ5OiBIYW5zIFZlcmt1aWwgPGh2ZXJrdWlsLWNpc2NvQHhzNGFsbC5ubD4KPiAtLS0K
PiAgZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9zeW5vcHN5cy9kdy1oZG1pLmMgfCAzNiArKysrKysr
KysrKysrKy0tLS0tLS0tLQo+ICAxIGZpbGUgY2hhbmdlZCwgMjIgaW5zZXJ0aW9ucygrKSwgMTQg
ZGVsZXRpb25zKC0pCj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2Uvc3lu
b3BzeXMvZHctaGRtaS5jIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9zeW5vcHN5cy9kdy1oZG1p
LmMKPiBpbmRleCA4M2I5NGI2NmU0NjRlLi5jMDAxODQ3MDBiYjlkIDEwMDY0NAo+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9icmlkZ2Uvc3lub3BzeXMvZHctaGRtaS5jCj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL2JyaWRnZS9zeW5vcHN5cy9kdy1oZG1pLmMKPiBAQCAtMjE5NCw2ICsyMTk0LDggQEAg
c3RhdGljIGludCBkd19oZG1pX2JyaWRnZV9hdHRhY2goc3RydWN0IGRybV9icmlkZ2UgKmJyaWRn
ZSkKPiAgCXN0cnVjdCBkd19oZG1pICpoZG1pID0gYnJpZGdlLT5kcml2ZXJfcHJpdmF0ZTsKPiAg
CXN0cnVjdCBkcm1fZW5jb2RlciAqZW5jb2RlciA9IGJyaWRnZS0+ZW5jb2RlcjsKPiAgCXN0cnVj
dCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IgPSAmaGRtaS0+Y29ubmVjdG9yOwo+ICsJc3RydWN0
IGNlY19jb25uZWN0b3JfaW5mbyBjb25uX2luZm87Cj4gKwlzdHJ1Y3QgY2VjX25vdGlmaWVyICpu
b3RpZmllcjsKPiAgCj4gIAljb25uZWN0b3ItPmludGVybGFjZV9hbGxvd2VkID0gMTsKPiAgCWNv
bm5lY3Rvci0+cG9sbGVkID0gRFJNX0NPTk5FQ1RPUl9QT0xMX0hQRDsKPiBAQCAtMjIwNyw2ICsy
MjA5LDE4IEBAIHN0YXRpYyBpbnQgZHdfaGRtaV9icmlkZ2VfYXR0YWNoKHN0cnVjdCBkcm1fYnJp
ZGdlICpicmlkZ2UpCj4gIAo+ICAJZHJtX2Nvbm5lY3Rvcl9hdHRhY2hfZW5jb2Rlcihjb25uZWN0
b3IsIGVuY29kZXIpOwo+ICAKPiArCWNlY19maWxsX2Nvbm5faW5mb19mcm9tX2RybSgmY29ubl9p
bmZvLCBjb25uZWN0b3IpOwo+ICsKPiArCW5vdGlmaWVyID0gY2VjX25vdGlmaWVyX2Nvbm5fcmVn
aXN0ZXIoaGRtaS0+ZGV2LCBOVUxMLCAmY29ubl9pbmZvKTsKPiArCWlmICghbm90aWZpZXIpCj4g
KwkJcmV0dXJuIC1FTk9NRU07Cj4gKwkvKgo+ICsJICogTWFrZSBzdXJlIHRoYXQgZHdfaGRtaV9p
cnEgdGhyZWFkIGRvZXMgc2VlIHRoZSBub3RpZmllcgo+ICsJICogd2hlbiBpdCBmdWxseSBjb25z
dHJ1Y3RlZC4KPiArCSAqLwo+ICsJc21wX3dtYigpOwo+ICsJaGRtaS0+Y2VjX25vdGlmaWVyID0g
bm90aWZpZXI7Cj4gKwo+ICAJcmV0dXJuIDA7Cj4gIH0KPiAgCj4gQEAgLTIzNzMsOSArMjM4Nywx
MyBAQCBzdGF0aWMgaXJxcmV0dXJuX3QgZHdfaGRtaV9pcnEoaW50IGlycSwgdm9pZCAqZGV2X2lk
KQo+ICAJCQkJICAgICAgIHBoeV9zdGF0ICYgSERNSV9QSFlfSFBELAo+ICAJCQkJICAgICAgIHBo
eV9zdGF0ICYgSERNSV9QSFlfUlhfU0VOU0UpOwo+ICAKPiAtCQlpZiAoKHBoeV9zdGF0ICYgKEhE
TUlfUEhZX1JYX1NFTlNFIHwgSERNSV9QSFlfSFBEKSkgPT0gMCkKPiAtCQkJY2VjX25vdGlmaWVy
X3NldF9waHlzX2FkZHIoaGRtaS0+Y2VjX25vdGlmaWVyLAo+IC0JCQkJCQkgICBDRUNfUEhZU19B
RERSX0lOVkFMSUQpOwo+ICsJCWlmICgocGh5X3N0YXQgJiAoSERNSV9QSFlfUlhfU0VOU0UgfCBI
RE1JX1BIWV9IUEQpKSA9PSAwKSB7Cj4gKwkJCXN0cnVjdCBjZWNfbm90aWZpZXIgKm5vdGlmaWVy
Owo+ICsKPiArCQkJbm90aWZpZXIgPSBSRUFEX09OQ0UoaGRtaS0+Y2VjX25vdGlmaWVyKTsKPiAr
CQkJaWYgKG5vdGlmaWVyKQo+ICsJCQkJY2VjX25vdGlmaWVyX3BoeXNfYWRkcl9pbnZhbGlkYXRl
KG5vdGlmaWVyKTsKPiArCQl9Cj4gIAl9Cj4gIAo+ICAJaWYgKGludHJfc3RhdCAmIEhETUlfSUhf
UEhZX1NUQVQwX0hQRCkgewo+IEBAIC0yNjkzLDEyICsyNzExLDYgQEAgX19kd19oZG1pX3Byb2Jl
KHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYsCj4gIAlpZiAocmV0KQo+ICAJCWdvdG8gZXJy
X2lhaGI7Cj4gIAo+IC0JaGRtaS0+Y2VjX25vdGlmaWVyID0gY2VjX25vdGlmaWVyX2dldChkZXYp
Owo+IC0JaWYgKCFoZG1pLT5jZWNfbm90aWZpZXIpIHsKPiAtCQlyZXQgPSAtRU5PTUVNOwo+IC0J
CWdvdG8gZXJyX2lhaGI7Cj4gLQl9Cj4gLQo+ICAJLyoKPiAgCSAqIFRvIHByZXZlbnQgb3ZlcmZs
b3dzIGluIEhETUlfSUhfRkNfU1RBVDIsIHNldCB0aGUgY2xrIHJlZ2VuZXJhdG9yCj4gIAkgKiBO
IGFuZCBjdHMgdmFsdWVzIGJlZm9yZSBlbmFibGluZyBwaHkKPiBAQCAtMjc5Niw5ICsyODA4LDYg
QEAgX19kd19oZG1pX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYsCj4gIAkJaGRt
aS0+ZGRjID0gTlVMTDsKPiAgCX0KPiAgCj4gLQlpZiAoaGRtaS0+Y2VjX25vdGlmaWVyKQo+IC0J
CWNlY19ub3RpZmllcl9wdXQoaGRtaS0+Y2VjX25vdGlmaWVyKTsKPiAtCj4gIAljbGtfZGlzYWJs
ZV91bnByZXBhcmUoaGRtaS0+aWFoYl9jbGspOwo+ICAJaWYgKGhkbWktPmNlY19jbGspCj4gIAkJ
Y2xrX2Rpc2FibGVfdW5wcmVwYXJlKGhkbWktPmNlY19jbGspOwo+IEBAIC0yODIwLDggKzI4Mjks
NyBAQCBzdGF0aWMgdm9pZCBfX2R3X2hkbWlfcmVtb3ZlKHN0cnVjdCBkd19oZG1pICpoZG1pKQo+
ICAJLyogRGlzYWJsZSBhbGwgaW50ZXJydXB0cyAqLwo+ICAJaGRtaV93cml0ZWIoaGRtaSwgfjAs
IEhETUlfSUhfTVVURV9QSFlfU1RBVDApOwo+ICAKPiAtCWlmIChoZG1pLT5jZWNfbm90aWZpZXIp
Cj4gLQkJY2VjX25vdGlmaWVyX3B1dChoZG1pLT5jZWNfbm90aWZpZXIpOwo+ICsJY2VjX25vdGlm
aWVyX2Nvbm5fdW5yZWdpc3RlcihoZG1pLT5jZWNfbm90aWZpZXIpOwoKUnVzc2VsbCdzIHJldmll
dyBjYXVzZWQgbWUgdG8gdGFrZSBhbm90aGVyIGxvb2sgYXQgdGhpcyBzZXJpZXMsIGFuZCBpdCBt
YWRlCndvbmRlciBpZiBjZWNfbm90aWZpZXJfY29ubl91bnJlZ2lzdGVyKCkgc2hvdWxkbid0IGJl
IGNhbGxlZCBmcm9tIGJyaWRnZV9kZXRhY2g/CgpSZWdhcmRzLAoKCUhhbnMKCj4gIAo+ICAJY2xr
X2Rpc2FibGVfdW5wcmVwYXJlKGhkbWktPmlhaGJfY2xrKTsKPiAgCWNsa19kaXNhYmxlX3VucHJl
cGFyZShoZG1pLT5pc2ZyX2Nsayk7Cj4gCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBsaXN0cy5m
cmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0
aW5mby9kcmktZGV2ZWw=
