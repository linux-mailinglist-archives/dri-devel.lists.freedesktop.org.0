Return-Path: <dri-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+dri-devel@lfdr.de
Delivered-To: lists+dri-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 40BE74DA32
	for <lists+dri-devel@lfdr.de>; Thu, 20 Jun 2019 21:32:49 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C24D26E4AF;
	Thu, 20 Jun 2019 19:32:44 +0000 (UTC)
X-Original-To: dri-devel@lists.freedesktop.org
Delivered-To: dri-devel@lists.freedesktop.org
Received: from mx1.suse.de (mx2.suse.de [195.135.220.15])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 9A6586E4AF;
 Thu, 20 Jun 2019 19:32:43 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id 21B8DAC9A;
 Thu, 20 Jun 2019 19:32:42 +0000 (UTC)
Date: Thu, 20 Jun 2019 21:32:41 +0200
From: Michal Hocko <mhocko@kernel.org>
To: Christoph Hellwig <hch@lst.de>
Subject: Re: [PATCH 03/22] mm: remove hmm_devmem_add_resource
Message-ID: <20190620193241.GJ12083@dhcp22.suse.cz>
References: <20190613094326.24093-1-hch@lst.de>
 <20190613094326.24093-4-hch@lst.de>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190613094326.24093-4-hch@lst.de>
User-Agent: Mutt/1.10.1 (2018-07-13)
X-BeenThere: dri-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Direct Rendering Infrastructure - Development
 <dri-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/dri-devel>
List-Post: <mailto:dri-devel@lists.freedesktop.org>
List-Help: <mailto:dri-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/dri-devel>,
 <mailto:dri-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-nvdimm@lists.01.org, nouveau@lists.freedesktop.org,
 linux-kernel@vger.kernel.org, dri-devel@lists.freedesktop.org,
 linux-mm@kvack.org, =?iso-8859-1?B?Suly9G1l?= Glisse <jglisse@redhat.com>,
 Jason Gunthorpe <jgg@mellanox.com>, Ben Skeggs <bskeggs@redhat.com>,
 linux-pci@vger.kernel.org, Dan Williams <dan.j.williams@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: dri-devel-bounces@lists.freedesktop.org
Sender: "dri-devel" <dri-devel-bounces@lists.freedesktop.org>

T24gVGh1IDEzLTA2LTE5IDExOjQzOjA2LCBDaHJpc3RvcGggSGVsbHdpZyB3cm90ZToKPiBUaGlz
IGZ1bmN0aW9uIGhhcyBuZXZlciBiZWVuIHVzZWQgc2luY2UgaXQgd2FzIGZpcnN0IGFkZGVkIHRv
IHRoZSBrZXJuZWwKPiBtb3JlIHRoYW4gYSB5ZWFyIGFuZCBhIGhhbGYgYWdvLCBhbmQgaWYgd2Ug
ZXZlciBncm93IGEgY29uc3VtZXIgb2YgdGhlCj4gTUVNT1JZX0RFVklDRV9QVUJMSUMgaW5mcmFz
dHJ1Y3R1cmUgaXQgY2FuIGVhc2lseSB1c2UgZGV2bV9tZW1yZW1hcF9wYWdlcwo+IGRpcmVjdGx5
IG5vdyB0aGF0IHdlJ3ZlIHNpbXBsaWZpZWQgdGhlIEFQSSBmb3IgaXQuCj4gCj4gU2lnbmVkLW9m
Zi1ieTogQ2hyaXN0b3BoIEhlbGx3aWcgPGhjaEBsc3QuZGU+CgpBY2tlZC1ieTogTWljaGFsIEhv
Y2tvIDxtaG9ja29Ac3VzZS5jb20+Cgo+IC0tLQo+ICBpbmNsdWRlL2xpbnV4L2htbS5oIHwgIDMg
LS0tCj4gIG1tL2htbS5jICAgICAgICAgICAgfCA1NCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0KPiAgMiBmaWxlcyBjaGFuZ2VkLCA1NyBkZWxldGlvbnMoLSkK
PiAKPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9saW51eC9obW0uaCBiL2luY2x1ZGUvbGludXgvaG1t
LmgKPiBpbmRleCA0ODY3YjlkYTFiNmMuLjU3NjFhMzkyMjFhNiAxMDA2NDQKPiAtLS0gYS9pbmNs
dWRlL2xpbnV4L2htbS5oCj4gKysrIGIvaW5jbHVkZS9saW51eC9obW0uaAo+IEBAIC02ODgsOSAr
Njg4LDYgQEAgc3RydWN0IGhtbV9kZXZtZW0gewo+ICBzdHJ1Y3QgaG1tX2Rldm1lbSAqaG1tX2Rl
dm1lbV9hZGQoY29uc3Qgc3RydWN0IGhtbV9kZXZtZW1fb3BzICpvcHMsCj4gIAkJCQkgIHN0cnVj
dCBkZXZpY2UgKmRldmljZSwKPiAgCQkJCSAgdW5zaWduZWQgbG9uZyBzaXplKTsKPiAtc3RydWN0
IGhtbV9kZXZtZW0gKmhtbV9kZXZtZW1fYWRkX3Jlc291cmNlKGNvbnN0IHN0cnVjdCBobW1fZGV2
bWVtX29wcyAqb3BzLAo+IC0JCQkJCSAgIHN0cnVjdCBkZXZpY2UgKmRldmljZSwKPiAtCQkJCQkg
ICBzdHJ1Y3QgcmVzb3VyY2UgKnJlcyk7Cj4gIAo+ICAvKgo+ICAgKiBobW1fZGV2bWVtX3BhZ2Vf
c2V0X2RydmRhdGEgLSBzZXQgcGVyLXBhZ2UgZHJpdmVyIGRhdGEgZmllbGQKPiBkaWZmIC0tZ2l0
IGEvbW0vaG1tLmMgYi9tbS9obW0uYwo+IGluZGV4IGZmMjU5OGViNzM3Ny4uMGM2MjQyNmQxMjU3
IDEwMDY0NAo+IC0tLSBhL21tL2htbS5jCj4gKysrIGIvbW0vaG1tLmMKPiBAQCAtMTQ0NSw1OCAr
MTQ0NSw0IEBAIHN0cnVjdCBobW1fZGV2bWVtICpobW1fZGV2bWVtX2FkZChjb25zdCBzdHJ1Y3Qg
aG1tX2Rldm1lbV9vcHMgKm9wcywKPiAgCXJldHVybiBkZXZtZW07Cj4gIH0KPiAgRVhQT1JUX1NZ
TUJPTF9HUEwoaG1tX2Rldm1lbV9hZGQpOwo+IC0KPiAtc3RydWN0IGhtbV9kZXZtZW0gKmhtbV9k
ZXZtZW1fYWRkX3Jlc291cmNlKGNvbnN0IHN0cnVjdCBobW1fZGV2bWVtX29wcyAqb3BzLAo+IC0J
CQkJCSAgIHN0cnVjdCBkZXZpY2UgKmRldmljZSwKPiAtCQkJCQkgICBzdHJ1Y3QgcmVzb3VyY2Ug
KnJlcykKPiAtewo+IC0Jc3RydWN0IGhtbV9kZXZtZW0gKmRldm1lbTsKPiAtCXZvaWQgKnJlc3Vs
dDsKPiAtCWludCByZXQ7Cj4gLQo+IC0JaWYgKHJlcy0+ZGVzYyAhPSBJT1JFU19ERVNDX0RFVklD
RV9QVUJMSUNfTUVNT1JZKQo+IC0JCXJldHVybiBFUlJfUFRSKC1FSU5WQUwpOwo+IC0KPiAtCWRl
dl9wYWdlbWFwX2dldF9vcHMoKTsKPiAtCj4gLQlkZXZtZW0gPSBkZXZtX2t6YWxsb2MoZGV2aWNl
LCBzaXplb2YoKmRldm1lbSksIEdGUF9LRVJORUwpOwo+IC0JaWYgKCFkZXZtZW0pCj4gLQkJcmV0
dXJuIEVSUl9QVFIoLUVOT01FTSk7Cj4gLQo+IC0JaW5pdF9jb21wbGV0aW9uKCZkZXZtZW0tPmNv
bXBsZXRpb24pOwo+IC0JZGV2bWVtLT5wZm5fZmlyc3QgPSAtMVVMOwo+IC0JZGV2bWVtLT5wZm5f
bGFzdCA9IC0xVUw7Cj4gLQlkZXZtZW0tPnJlc291cmNlID0gcmVzOwo+IC0JZGV2bWVtLT5kZXZp
Y2UgPSBkZXZpY2U7Cj4gLQlkZXZtZW0tPm9wcyA9IG9wczsKPiAtCj4gLQlyZXQgPSBwZXJjcHVf
cmVmX2luaXQoJmRldm1lbS0+cmVmLCAmaG1tX2Rldm1lbV9yZWZfcmVsZWFzZSwKPiAtCQkJICAg
ICAgMCwgR0ZQX0tFUk5FTCk7Cj4gLQlpZiAocmV0KQo+IC0JCXJldHVybiBFUlJfUFRSKHJldCk7
Cj4gLQo+IC0JcmV0ID0gZGV2bV9hZGRfYWN0aW9uX29yX3Jlc2V0KGRldmljZSwgaG1tX2Rldm1l
bV9yZWZfZXhpdCwKPiAtCQkJJmRldm1lbS0+cmVmKTsKPiAtCWlmIChyZXQpCj4gLQkJcmV0dXJu
IEVSUl9QVFIocmV0KTsKPiAtCj4gLQlkZXZtZW0tPnBmbl9maXJzdCA9IGRldm1lbS0+cmVzb3Vy
Y2UtPnN0YXJ0ID4+IFBBR0VfU0hJRlQ7Cj4gLQlkZXZtZW0tPnBmbl9sYXN0ID0gZGV2bWVtLT5w
Zm5fZmlyc3QgKwo+IC0JCQkgICAocmVzb3VyY2Vfc2l6ZShkZXZtZW0tPnJlc291cmNlKSA+PiBQ
QUdFX1NISUZUKTsKPiAtCWRldm1lbS0+cGFnZV9mYXVsdCA9IGhtbV9kZXZtZW1fZmF1bHQ7Cj4g
LQo+IC0JZGV2bWVtLT5wYWdlbWFwLnR5cGUgPSBNRU1PUllfREVWSUNFX1BVQkxJQzsKPiAtCWRl
dm1lbS0+cGFnZW1hcC5yZXMgPSAqZGV2bWVtLT5yZXNvdXJjZTsKPiAtCWRldm1lbS0+cGFnZW1h
cC5wYWdlX2ZyZWUgPSBobW1fZGV2bWVtX2ZyZWU7Cj4gLQlkZXZtZW0tPnBhZ2VtYXAuYWx0bWFw
X3ZhbGlkID0gZmFsc2U7Cj4gLQlkZXZtZW0tPnBhZ2VtYXAucmVmID0gJmRldm1lbS0+cmVmOwo+
IC0JZGV2bWVtLT5wYWdlbWFwLmRhdGEgPSBkZXZtZW07Cj4gLQlkZXZtZW0tPnBhZ2VtYXAua2ls
bCA9IGhtbV9kZXZtZW1fcmVmX2tpbGw7Cj4gLQo+IC0JcmVzdWx0ID0gZGV2bV9tZW1yZW1hcF9w
YWdlcyhkZXZtZW0tPmRldmljZSwgJmRldm1lbS0+cGFnZW1hcCk7Cj4gLQlpZiAoSVNfRVJSKHJl
c3VsdCkpCj4gLQkJcmV0dXJuIHJlc3VsdDsKPiAtCXJldHVybiBkZXZtZW07Cj4gLX0KPiAtRVhQ
T1JUX1NZTUJPTF9HUEwoaG1tX2Rldm1lbV9hZGRfcmVzb3VyY2UpOwo+ICAjZW5kaWYgLyogQ09O
RklHX0RFVklDRV9QUklWQVRFIHx8IENPTkZJR19ERVZJQ0VfUFVCTElDICovCj4gLS0gCj4gMi4y
MC4xCgotLSAKTWljaGFsIEhvY2tvClNVU0UgTGFicwpfX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fXwpkcmktZGV2ZWwgbWFpbGluZyBsaXN0CmRyaS1kZXZlbEBs
aXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1h
bi9saXN0aW5mby9kcmktZGV2ZWw=
